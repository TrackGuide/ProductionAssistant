(function(){const i=document.createElement("link").relList;if(i&&i.supports&&i.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))a(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const c of u.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&a(c)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function a(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();function Dl(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function jb(t){if(Object.prototype.hasOwnProperty.call(t,"__esModule"))return t;var i=t.default;if(typeof i=="function"){var n=function a(){return this instanceof a?Reflect.construct(i,arguments,this.constructor):i.apply(this,arguments)};n.prototype=i.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(a){var o=Object.getOwnPropertyDescriptor(t,a);Object.defineProperty(n,a,o.get?o:{enumerable:!0,get:function(){return t[a]}})}),n}var Oc={exports:{}},sl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ih;function Ub(){if(Ih)return sl;Ih=1;var t=Symbol.for("react.transitional.element"),i=Symbol.for("react.fragment");function n(a,o,u){var c=null;if(u!==void 0&&(c=""+u),o.key!==void 0&&(c=""+o.key),"key"in o){u={};for(var d in o)d!=="key"&&(u[d]=o[d])}else u=o;return o=u.ref,{$$typeof:t,type:a,key:c,ref:o!==void 0?o:null,props:u}}return sl.Fragment=i,sl.jsx=n,sl.jsxs=n,sl}var _h;function Hb(){return _h||(_h=1,Oc.exports=Ub()),Oc.exports}var h=Hb(),Fc={exports:{}},Ne={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Lh;function Gb(){if(Lh)return Ne;Lh=1;var t=Symbol.for("react.transitional.element"),i=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),c=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),b=Symbol.iterator;function T(S){return S===null||typeof S!="object"?null:(S=b&&S[b]||S["@@iterator"],typeof S=="function"?S:null)}var C={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},w=Object.assign,N={};function B(S,O,V){this.props=S,this.context=O,this.refs=N,this.updater=V||C}B.prototype.isReactComponent={},B.prototype.setState=function(S,O){if(typeof S!="object"&&typeof S!="function"&&S!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,S,O,"setState")},B.prototype.forceUpdate=function(S){this.updater.enqueueForceUpdate(this,S,"forceUpdate")};function _(){}_.prototype=B.prototype;function U(S,O,V){this.props=S,this.context=O,this.refs=N,this.updater=V||C}var j=U.prototype=new _;j.constructor=U,w(j,B.prototype),j.isPureReactComponent=!0;var X=Array.isArray,Z={H:null,A:null,T:null,S:null,V:null},q=Object.prototype.hasOwnProperty;function Q(S,O,V,A,ne,F){return V=F.ref,{$$typeof:t,type:S,key:O,ref:V!==void 0?V:null,props:F}}function ae(S,O){return Q(S.type,O,void 0,void 0,void 0,S.props)}function pe(S){return typeof S=="object"&&S!==null&&S.$$typeof===t}function I(S){var O={"=":"=0",":":"=2"};return"$"+S.replace(/[=:]/g,function(V){return O[V]})}var ue=/\/+/g;function de(S,O){return typeof S=="object"&&S!==null&&S.key!=null?I(""+S.key):O.toString(36)}function te(){}function oe(S){switch(S.status){case"fulfilled":return S.value;case"rejected":throw S.reason;default:switch(typeof S.status=="string"?S.then(te,te):(S.status="pending",S.then(function(O){S.status==="pending"&&(S.status="fulfilled",S.value=O)},function(O){S.status==="pending"&&(S.status="rejected",S.reason=O)})),S.status){case"fulfilled":return S.value;case"rejected":throw S.reason}}throw S}function me(S,O,V,A,ne){var F=typeof S;(F==="undefined"||F==="boolean")&&(S=null);var ie=!1;if(S===null)ie=!0;else switch(F){case"bigint":case"string":case"number":ie=!0;break;case"object":switch(S.$$typeof){case t:case i:ie=!0;break;case v:return ie=S._init,me(ie(S._payload),O,V,A,ne)}}if(ie)return ne=ne(S),ie=A===""?"."+de(S,0):A,X(ne)?(V="",ie!=null&&(V=ie.replace(ue,"$&/")+"/"),me(ne,O,V,"",function(Se){return Se})):ne!=null&&(pe(ne)&&(ne=ae(ne,V+(ne.key==null||S&&S.key===ne.key?"":(""+ne.key).replace(ue,"$&/")+"/")+ie)),O.push(ne)),1;ie=0;var ge=A===""?".":A+":";if(X(S))for(var se=0;se<S.length;se++)A=S[se],F=ge+de(A,se),ie+=me(A,O,V,F,ne);else if(se=T(S),typeof se=="function")for(S=se.call(S),se=0;!(A=S.next()).done;)A=A.value,F=ge+de(A,se++),ie+=me(A,O,V,F,ne);else if(F==="object"){if(typeof S.then=="function")return me(oe(S),O,V,A,ne);throw O=String(S),Error("Objects are not valid as a React child (found: "+(O==="[object Object]"?"object with keys {"+Object.keys(S).join(", ")+"}":O)+"). If you meant to render a collection of children, use an array instead.")}return ie}function Y(S,O,V){if(S==null)return S;var A=[],ne=0;return me(S,A,"","",function(F){return O.call(V,F,ne++)}),A}function L(S){if(S._status===-1){var O=S._result;O=O(),O.then(function(V){(S._status===0||S._status===-1)&&(S._status=1,S._result=V)},function(V){(S._status===0||S._status===-1)&&(S._status=2,S._result=V)}),S._status===-1&&(S._status=0,S._result=O)}if(S._status===1)return S._result.default;throw S._result}var D=typeof reportError=="function"?reportError:function(S){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var O=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof S=="object"&&S!==null&&typeof S.message=="string"?String(S.message):String(S),error:S});if(!window.dispatchEvent(O))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",S);return}console.error(S)};function k(){}return Ne.Children={map:Y,forEach:function(S,O,V){Y(S,function(){O.apply(this,arguments)},V)},count:function(S){var O=0;return Y(S,function(){O++}),O},toArray:function(S){return Y(S,function(O){return O})||[]},only:function(S){if(!pe(S))throw Error("React.Children.only expected to receive a single React element child.");return S}},Ne.Component=B,Ne.Fragment=n,Ne.Profiler=o,Ne.PureComponent=U,Ne.StrictMode=a,Ne.Suspense=p,Ne.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Z,Ne.__COMPILER_RUNTIME={__proto__:null,c:function(S){return Z.H.useMemoCache(S)}},Ne.cache=function(S){return function(){return S.apply(null,arguments)}},Ne.cloneElement=function(S,O,V){if(S==null)throw Error("The argument must be a React element, but you passed "+S+".");var A=w({},S.props),ne=S.key,F=void 0;if(O!=null)for(ie in O.ref!==void 0&&(F=void 0),O.key!==void 0&&(ne=""+O.key),O)!q.call(O,ie)||ie==="key"||ie==="__self"||ie==="__source"||ie==="ref"&&O.ref===void 0||(A[ie]=O[ie]);var ie=arguments.length-2;if(ie===1)A.children=V;else if(1<ie){for(var ge=Array(ie),se=0;se<ie;se++)ge[se]=arguments[se+2];A.children=ge}return Q(S.type,ne,void 0,void 0,F,A)},Ne.createContext=function(S){return S={$$typeof:c,_currentValue:S,_currentValue2:S,_threadCount:0,Provider:null,Consumer:null},S.Provider=S,S.Consumer={$$typeof:u,_context:S},S},Ne.createElement=function(S,O,V){var A,ne={},F=null;if(O!=null)for(A in O.key!==void 0&&(F=""+O.key),O)q.call(O,A)&&A!=="key"&&A!=="__self"&&A!=="__source"&&(ne[A]=O[A]);var ie=arguments.length-2;if(ie===1)ne.children=V;else if(1<ie){for(var ge=Array(ie),se=0;se<ie;se++)ge[se]=arguments[se+2];ne.children=ge}if(S&&S.defaultProps)for(A in ie=S.defaultProps,ie)ne[A]===void 0&&(ne[A]=ie[A]);return Q(S,F,void 0,void 0,null,ne)},Ne.createRef=function(){return{current:null}},Ne.forwardRef=function(S){return{$$typeof:d,render:S}},Ne.isValidElement=pe,Ne.lazy=function(S){return{$$typeof:v,_payload:{_status:-1,_result:S},_init:L}},Ne.memo=function(S,O){return{$$typeof:f,type:S,compare:O===void 0?null:O}},Ne.startTransition=function(S){var O=Z.T,V={};Z.T=V;try{var A=S(),ne=Z.S;ne!==null&&ne(V,A),typeof A=="object"&&A!==null&&typeof A.then=="function"&&A.then(k,D)}catch(F){D(F)}finally{Z.T=O}},Ne.unstable_useCacheRefresh=function(){return Z.H.useCacheRefresh()},Ne.use=function(S){return Z.H.use(S)},Ne.useActionState=function(S,O,V){return Z.H.useActionState(S,O,V)},Ne.useCallback=function(S,O){return Z.H.useCallback(S,O)},Ne.useContext=function(S){return Z.H.useContext(S)},Ne.useDebugValue=function(){},Ne.useDeferredValue=function(S,O){return Z.H.useDeferredValue(S,O)},Ne.useEffect=function(S,O,V){var A=Z.H;if(typeof V=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return A.useEffect(S,O)},Ne.useId=function(){return Z.H.useId()},Ne.useImperativeHandle=function(S,O,V){return Z.H.useImperativeHandle(S,O,V)},Ne.useInsertionEffect=function(S,O){return Z.H.useInsertionEffect(S,O)},Ne.useLayoutEffect=function(S,O){return Z.H.useLayoutEffect(S,O)},Ne.useMemo=function(S,O){return Z.H.useMemo(S,O)},Ne.useOptimistic=function(S,O){return Z.H.useOptimistic(S,O)},Ne.useReducer=function(S,O,V){return Z.H.useReducer(S,O,V)},Ne.useRef=function(S){return Z.H.useRef(S)},Ne.useState=function(S){return Z.H.useState(S)},Ne.useSyncExternalStore=function(S,O,V){return Z.H.useSyncExternalStore(S,O,V)},Ne.useTransition=function(){return Z.H.useTransition()},Ne.version="19.1.0",Ne}var Oh;function If(){return Oh||(Oh=1,Fc.exports=Gb()),Fc.exports}var ye=If();const vl=Dl(ye);var Bc={exports:{}},ul={},Pc={exports:{}},zc={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Fh;function qb(){return Fh||(Fh=1,function(t){function i(Y,L){var D=Y.length;Y.push(L);e:for(;0<D;){var k=D-1>>>1,S=Y[k];if(0<o(S,L))Y[k]=L,Y[D]=S,D=k;else break e}}function n(Y){return Y.length===0?null:Y[0]}function a(Y){if(Y.length===0)return null;var L=Y[0],D=Y.pop();if(D!==L){Y[0]=D;e:for(var k=0,S=Y.length,O=S>>>1;k<O;){var V=2*(k+1)-1,A=Y[V],ne=V+1,F=Y[ne];if(0>o(A,D))ne<S&&0>o(F,A)?(Y[k]=F,Y[ne]=D,k=ne):(Y[k]=A,Y[V]=D,k=V);else if(ne<S&&0>o(F,D))Y[k]=F,Y[ne]=D,k=ne;else break e}}return L}function o(Y,L){var D=Y.sortIndex-L.sortIndex;return D!==0?D:Y.id-L.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;t.unstable_now=function(){return u.now()}}else{var c=Date,d=c.now();t.unstable_now=function(){return c.now()-d}}var p=[],f=[],v=1,b=null,T=3,C=!1,w=!1,N=!1,B=!1,_=typeof setTimeout=="function"?setTimeout:null,U=typeof clearTimeout=="function"?clearTimeout:null,j=typeof setImmediate<"u"?setImmediate:null;function X(Y){for(var L=n(f);L!==null;){if(L.callback===null)a(f);else if(L.startTime<=Y)a(f),L.sortIndex=L.expirationTime,i(p,L);else break;L=n(f)}}function Z(Y){if(N=!1,X(Y),!w)if(n(p)!==null)w=!0,q||(q=!0,de());else{var L=n(f);L!==null&&me(Z,L.startTime-Y)}}var q=!1,Q=-1,ae=5,pe=-1;function I(){return B?!0:!(t.unstable_now()-pe<ae)}function ue(){if(B=!1,q){var Y=t.unstable_now();pe=Y;var L=!0;try{e:{w=!1,N&&(N=!1,U(Q),Q=-1),C=!0;var D=T;try{t:{for(X(Y),b=n(p);b!==null&&!(b.expirationTime>Y&&I());){var k=b.callback;if(typeof k=="function"){b.callback=null,T=b.priorityLevel;var S=k(b.expirationTime<=Y);if(Y=t.unstable_now(),typeof S=="function"){b.callback=S,X(Y),L=!0;break t}b===n(p)&&a(p),X(Y)}else a(p);b=n(p)}if(b!==null)L=!0;else{var O=n(f);O!==null&&me(Z,O.startTime-Y),L=!1}}break e}finally{b=null,T=D,C=!1}L=void 0}}finally{L?de():q=!1}}}var de;if(typeof j=="function")de=function(){j(ue)};else if(typeof MessageChannel<"u"){var te=new MessageChannel,oe=te.port2;te.port1.onmessage=ue,de=function(){oe.postMessage(null)}}else de=function(){_(ue,0)};function me(Y,L){Q=_(function(){Y(t.unstable_now())},L)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(Y){Y.callback=null},t.unstable_forceFrameRate=function(Y){0>Y||125<Y?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):ae=0<Y?Math.floor(1e3/Y):5},t.unstable_getCurrentPriorityLevel=function(){return T},t.unstable_next=function(Y){switch(T){case 1:case 2:case 3:var L=3;break;default:L=T}var D=T;T=L;try{return Y()}finally{T=D}},t.unstable_requestPaint=function(){B=!0},t.unstable_runWithPriority=function(Y,L){switch(Y){case 1:case 2:case 3:case 4:case 5:break;default:Y=3}var D=T;T=Y;try{return L()}finally{T=D}},t.unstable_scheduleCallback=function(Y,L,D){var k=t.unstable_now();switch(typeof D=="object"&&D!==null?(D=D.delay,D=typeof D=="number"&&0<D?k+D:k):D=k,Y){case 1:var S=-1;break;case 2:S=250;break;case 5:S=1073741823;break;case 4:S=1e4;break;default:S=5e3}return S=D+S,Y={id:v++,callback:L,priorityLevel:Y,startTime:D,expirationTime:S,sortIndex:-1},D>k?(Y.sortIndex=D,i(f,Y),n(p)===null&&Y===n(f)&&(N?(U(Q),Q=-1):N=!0,me(Z,D-k))):(Y.sortIndex=S,i(p,Y),w||C||(w=!0,q||(q=!0,de()))),Y},t.unstable_shouldYield=I,t.unstable_wrapCallback=function(Y){var L=T;return function(){var D=T;T=L;try{return Y.apply(this,arguments)}finally{T=D}}}}(zc)),zc}var Bh;function Yb(){return Bh||(Bh=1,Pc.exports=qb()),Pc.exports}var Vc={exports:{}},Ft={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ph;function Kb(){if(Ph)return Ft;Ph=1;var t=If();function i(p){var f="https://react.dev/errors/"+p;if(1<arguments.length){f+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)f+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+p+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var a={d:{f:n,r:function(){throw Error(i(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(p,f,v){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:b==null?null:""+b,children:p,containerInfo:f,implementation:v}}var c=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(p,f){if(p==="font")return"";if(typeof f=="string")return f==="use-credentials"?f:""}return Ft.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,Ft.createPortal=function(p,f){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!f||f.nodeType!==1&&f.nodeType!==9&&f.nodeType!==11)throw Error(i(299));return u(p,f,null,v)},Ft.flushSync=function(p){var f=c.T,v=a.p;try{if(c.T=null,a.p=2,p)return p()}finally{c.T=f,a.p=v,a.d.f()}},Ft.preconnect=function(p,f){typeof p=="string"&&(f?(f=f.crossOrigin,f=typeof f=="string"?f==="use-credentials"?f:"":void 0):f=null,a.d.C(p,f))},Ft.prefetchDNS=function(p){typeof p=="string"&&a.d.D(p)},Ft.preinit=function(p,f){if(typeof p=="string"&&f&&typeof f.as=="string"){var v=f.as,b=d(v,f.crossOrigin),T=typeof f.integrity=="string"?f.integrity:void 0,C=typeof f.fetchPriority=="string"?f.fetchPriority:void 0;v==="style"?a.d.S(p,typeof f.precedence=="string"?f.precedence:void 0,{crossOrigin:b,integrity:T,fetchPriority:C}):v==="script"&&a.d.X(p,{crossOrigin:b,integrity:T,fetchPriority:C,nonce:typeof f.nonce=="string"?f.nonce:void 0})}},Ft.preinitModule=function(p,f){if(typeof p=="string")if(typeof f=="object"&&f!==null){if(f.as==null||f.as==="script"){var v=d(f.as,f.crossOrigin);a.d.M(p,{crossOrigin:v,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0})}}else f==null&&a.d.M(p)},Ft.preload=function(p,f){if(typeof p=="string"&&typeof f=="object"&&f!==null&&typeof f.as=="string"){var v=f.as,b=d(v,f.crossOrigin);a.d.L(p,v,{crossOrigin:b,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0,type:typeof f.type=="string"?f.type:void 0,fetchPriority:typeof f.fetchPriority=="string"?f.fetchPriority:void 0,referrerPolicy:typeof f.referrerPolicy=="string"?f.referrerPolicy:void 0,imageSrcSet:typeof f.imageSrcSet=="string"?f.imageSrcSet:void 0,imageSizes:typeof f.imageSizes=="string"?f.imageSizes:void 0,media:typeof f.media=="string"?f.media:void 0})}},Ft.preloadModule=function(p,f){if(typeof p=="string")if(f){var v=d(f.as,f.crossOrigin);a.d.m(p,{as:typeof f.as=="string"&&f.as!=="script"?f.as:void 0,crossOrigin:v,integrity:typeof f.integrity=="string"?f.integrity:void 0})}else a.d.m(p)},Ft.requestFormReset=function(p){a.d.r(p)},Ft.unstable_batchedUpdates=function(p,f){return p(f)},Ft.useFormState=function(p,f,v){return c.H.useFormState(p,f,v)},Ft.useFormStatus=function(){return c.H.useHostTransitionStatus()},Ft.version="19.1.0",Ft}var zh;function $b(){if(zh)return Vc.exports;zh=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(i){console.error(i)}}return t(),Vc.exports=Kb(),Vc.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Vh;function Xb(){if(Vh)return ul;Vh=1;var t=Yb(),i=If(),n=$b();function a(e){var r="https://react.dev/errors/"+e;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)r+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+e+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function u(e){var r=e,l=e;if(e.alternate)for(;r.return;)r=r.return;else{e=r;do r=e,(r.flags&4098)!==0&&(l=r.return),e=r.return;while(e)}return r.tag===3?l:null}function c(e){if(e.tag===13){var r=e.memoizedState;if(r===null&&(e=e.alternate,e!==null&&(r=e.memoizedState)),r!==null)return r.dehydrated}return null}function d(e){if(u(e)!==e)throw Error(a(188))}function p(e){var r=e.alternate;if(!r){if(r=u(e),r===null)throw Error(a(188));return r!==e?null:e}for(var l=e,s=r;;){var m=l.return;if(m===null)break;var x=m.alternate;if(x===null){if(s=m.return,s!==null){l=s;continue}break}if(m.child===x.child){for(x=m.child;x;){if(x===l)return d(m),e;if(x===s)return d(m),r;x=x.sibling}throw Error(a(188))}if(l.return!==s.return)l=m,s=x;else{for(var E=!1,M=m.child;M;){if(M===l){E=!0,l=m,s=x;break}if(M===s){E=!0,s=m,l=x;break}M=M.sibling}if(!E){for(M=x.child;M;){if(M===l){E=!0,l=x,s=m;break}if(M===s){E=!0,s=x,l=m;break}M=M.sibling}if(!E)throw Error(a(189))}}if(l.alternate!==s)throw Error(a(190))}if(l.tag!==3)throw Error(a(188));return l.stateNode.current===l?e:r}function f(e){var r=e.tag;if(r===5||r===26||r===27||r===6)return e;for(e=e.child;e!==null;){if(r=f(e),r!==null)return r;e=e.sibling}return null}var v=Object.assign,b=Symbol.for("react.element"),T=Symbol.for("react.transitional.element"),C=Symbol.for("react.portal"),w=Symbol.for("react.fragment"),N=Symbol.for("react.strict_mode"),B=Symbol.for("react.profiler"),_=Symbol.for("react.provider"),U=Symbol.for("react.consumer"),j=Symbol.for("react.context"),X=Symbol.for("react.forward_ref"),Z=Symbol.for("react.suspense"),q=Symbol.for("react.suspense_list"),Q=Symbol.for("react.memo"),ae=Symbol.for("react.lazy"),pe=Symbol.for("react.activity"),I=Symbol.for("react.memo_cache_sentinel"),ue=Symbol.iterator;function de(e){return e===null||typeof e!="object"?null:(e=ue&&e[ue]||e["@@iterator"],typeof e=="function"?e:null)}var te=Symbol.for("react.client.reference");function oe(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===te?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case w:return"Fragment";case B:return"Profiler";case N:return"StrictMode";case Z:return"Suspense";case q:return"SuspenseList";case pe:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case C:return"Portal";case j:return(e.displayName||"Context")+".Provider";case U:return(e._context.displayName||"Context")+".Consumer";case X:var r=e.render;return e=e.displayName,e||(e=r.displayName||r.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Q:return r=e.displayName||null,r!==null?r:oe(e.type)||"Memo";case ae:r=e._payload,e=e._init;try{return oe(e(r))}catch{}}return null}var me=Array.isArray,Y=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,L=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,D={pending:!1,data:null,method:null,action:null},k=[],S=-1;function O(e){return{current:e}}function V(e){0>S||(e.current=k[S],k[S]=null,S--)}function A(e,r){S++,k[S]=e.current,e.current=r}var ne=O(null),F=O(null),ie=O(null),ge=O(null);function se(e,r){switch(A(ie,r),A(F,e),A(ne,null),r.nodeType){case 9:case 11:e=(e=r.documentElement)&&(e=e.namespaceURI)?lh(e):0;break;default:if(e=r.tagName,r=r.namespaceURI)r=lh(r),e=oh(r,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}V(ne),A(ne,e)}function Se(){V(ne),V(F),V(ie)}function we(e){e.memoizedState!==null&&A(ge,e);var r=ne.current,l=oh(r,e.type);r!==l&&(A(F,e),A(ne,l))}function Ie(e){F.current===e&&(V(ne),V(F)),ge.current===e&&(V(ge),il._currentValue=D)}var ze=Object.prototype.hasOwnProperty,tt=t.unstable_scheduleCallback,rt=t.unstable_cancelCallback,St=t.unstable_shouldYield,Wt=t.unstable_requestPaint,Nt=t.unstable_now,pr=t.unstable_getCurrentPriorityLevel,vt=t.unstable_ImmediatePriority,jn=t.unstable_UserBlockingPriority,Un=t.unstable_NormalPriority,hr=t.unstable_LowPriority,gr=t.unstable_IdlePriority,yr=t.log,ji=t.unstable_setDisableYieldValue,W=null,ce=null;function Te(e){if(typeof yr=="function"&&ji(e),ce&&typeof ce.setStrictMode=="function")try{ce.setStrictMode(W,e)}catch{}}var Ee=Math.clz32?Math.clz32:Mn,qe=Math.log,Rt=Math.LN2;function Mn(e){return e>>>=0,e===0?32:31-(qe(e)/Rt|0)|0}var It=256,fn=4194304;function Vt(e){var r=e&42;if(r!==0)return r;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function ft(e,r,l){var s=e.pendingLanes;if(s===0)return 0;var m=0,x=e.suspendedLanes,E=e.pingedLanes;e=e.warmLanes;var M=s&134217727;return M!==0?(s=M&~x,s!==0?m=Vt(s):(E&=M,E!==0?m=Vt(E):l||(l=M&~e,l!==0&&(m=Vt(l))))):(M=s&~x,M!==0?m=Vt(M):E!==0?m=Vt(E):l||(l=s&~e,l!==0&&(m=Vt(l)))),m===0?0:r!==0&&r!==m&&(r&x)===0&&(x=m&-m,l=r&-r,x>=l||x===32&&(l&4194048)!==0)?r:m}function Ht(e,r){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&r)===0}function Zt(e,r){switch(e){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function en(){var e=It;return It<<=1,(It&4194048)===0&&(It=256),e}function fa(){var e=fn;return fn<<=1,(fn&62914560)===0&&(fn=4194304),e}function xr(e){for(var r=[],l=0;31>l;l++)r.push(e);return r}function J(e,r){e.pendingLanes|=r,r!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function he(e,r,l,s,m,x){var E=e.pendingLanes;e.pendingLanes=l,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=l,e.entangledLanes&=l,e.errorRecoveryDisabledLanes&=l,e.shellSuspendCounter=0;var M=e.entanglements,R=e.expirationTimes,G=e.hiddenUpdates;for(l=E&~l;0<l;){var ee=31-Ee(l),le=1<<ee;M[ee]=0,R[ee]=-1;var K=G[ee];if(K!==null)for(G[ee]=null,ee=0;ee<K.length;ee++){var $=K[ee];$!==null&&($.lane&=-536870913)}l&=~le}s!==0&&ve(e,s,0),x!==0&&m===0&&e.tag!==0&&(e.suspendedLanes|=x&~(E&~r))}function ve(e,r,l){e.pendingLanes|=r,e.suspendedLanes&=~r;var s=31-Ee(r);e.entangledLanes|=r,e.entanglements[s]=e.entanglements[s]|1073741824|l&4194090}function Ve(e,r){var l=e.entangledLanes|=r;for(e=e.entanglements;l;){var s=31-Ee(l),m=1<<s;m&r|e[s]&r&&(e[s]|=r),l&=~m}}function _t(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function at(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function _l(){var e=L.p;return e!==0?e:(e=window.event,e===void 0?32:Ah(e.type))}function Ds(e,r){var l=L.p;try{return L.p=e,r()}finally{L.p=l}}var _n=Math.random().toString(36).slice(2),Ct="__reactFiber$"+_n,Lt="__reactProps$"+_n,oi="__reactContainer$"+_n,da="__reactEvents$"+_n,vr="__reactListeners$"+_n,Ll="__reactHandles$"+_n,Ol="__reactResources$"+_n,Ui="__reactMarker$"+_n;function ma(e){delete e[Ct],delete e[Lt],delete e[da],delete e[vr],delete e[Ll]}function si(e){var r=e[Ct];if(r)return r;for(var l=e.parentNode;l;){if(r=l[oi]||l[Ct]){if(l=r.alternate,r.child!==null||l!==null&&l.child!==null)for(e=fh(e);e!==null;){if(l=e[Ct])return l;e=fh(e)}return r}e=l,l=e.parentNode}return null}function Hn(e){if(e=e[Ct]||e[oi]){var r=e.tag;if(r===5||r===6||r===13||r===26||r===27||r===3)return e}return null}function Hi(e){var r=e.tag;if(r===5||r===26||r===27||r===6)return e.stateNode;throw Error(a(33))}function Gi(e){var r=e[Ol];return r||(r=e[Ol]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function ht(e){e[Ui]=!0}var Gt=new Set,Gn={};function An(e,r){ui(e,r),ui(e+"Capture",r)}function ui(e,r){for(Gn[e]=r,e=0;e<r.length;e++)Gt.add(r[e])}var pa=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),qi={},ha={};function Lx(e){return ze.call(ha,e)?!0:ze.call(qi,e)?!1:pa.test(e)?ha[e]=!0:(qi[e]=!0,!1)}function Fl(e,r,l){if(Lx(r))if(l===null)e.removeAttribute(r);else{switch(typeof l){case"undefined":case"function":case"symbol":e.removeAttribute(r);return;case"boolean":var s=r.toLowerCase().slice(0,5);if(s!=="data-"&&s!=="aria-"){e.removeAttribute(r);return}}e.setAttribute(r,""+l)}}function Bl(e,r,l){if(l===null)e.removeAttribute(r);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(r);return}e.setAttribute(r,""+l)}}function qn(e,r,l,s){if(s===null)e.removeAttribute(l);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(l);return}e.setAttributeNS(r,l,""+s)}}var ks,Zf;function br(e){if(ks===void 0)try{throw Error()}catch(l){var r=l.stack.trim().match(/\n( *(at )?)/);ks=r&&r[1]||"",Zf=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ks+e+Zf}var Ns=!1;function Rs(e,r){if(!e||Ns)return"";Ns=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var s={DetermineComponentFrameRoot:function(){try{if(r){var le=function(){throw Error()};if(Object.defineProperty(le.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(le,[])}catch($){var K=$}Reflect.construct(e,[],le)}else{try{le.call()}catch($){K=$}e.call(le.prototype)}}else{try{throw Error()}catch($){K=$}(le=e())&&typeof le.catch=="function"&&le.catch(function(){})}}catch($){if($&&K&&typeof $.stack=="string")return[$.stack,K.stack]}return[null,null]}};s.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var m=Object.getOwnPropertyDescriptor(s.DetermineComponentFrameRoot,"name");m&&m.configurable&&Object.defineProperty(s.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var x=s.DetermineComponentFrameRoot(),E=x[0],M=x[1];if(E&&M){var R=E.split(`
`),G=M.split(`
`);for(m=s=0;s<R.length&&!R[s].includes("DetermineComponentFrameRoot");)s++;for(;m<G.length&&!G[m].includes("DetermineComponentFrameRoot");)m++;if(s===R.length||m===G.length)for(s=R.length-1,m=G.length-1;1<=s&&0<=m&&R[s]!==G[m];)m--;for(;1<=s&&0<=m;s--,m--)if(R[s]!==G[m]){if(s!==1||m!==1)do if(s--,m--,0>m||R[s]!==G[m]){var ee=`
`+R[s].replace(" at new "," at ");return e.displayName&&ee.includes("<anonymous>")&&(ee=ee.replace("<anonymous>",e.displayName)),ee}while(1<=s&&0<=m);break}}}finally{Ns=!1,Error.prepareStackTrace=l}return(l=e?e.displayName||e.name:"")?br(l):""}function Ox(e){switch(e.tag){case 26:case 27:case 5:return br(e.type);case 16:return br("Lazy");case 13:return br("Suspense");case 19:return br("SuspenseList");case 0:case 15:return Rs(e.type,!1);case 11:return Rs(e.type.render,!1);case 1:return Rs(e.type,!0);case 31:return br("Activity");default:return""}}function ed(e){try{var r="";do r+=Ox(e),e=e.return;while(e);return r}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}function dn(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function td(e){var r=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function Fx(e){var r=td(e)?"checked":"value",l=Object.getOwnPropertyDescriptor(e.constructor.prototype,r),s=""+e[r];if(!e.hasOwnProperty(r)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var m=l.get,x=l.set;return Object.defineProperty(e,r,{configurable:!0,get:function(){return m.call(this)},set:function(E){s=""+E,x.call(this,E)}}),Object.defineProperty(e,r,{enumerable:l.enumerable}),{getValue:function(){return s},setValue:function(E){s=""+E},stopTracking:function(){e._valueTracker=null,delete e[r]}}}}function Pl(e){e._valueTracker||(e._valueTracker=Fx(e))}function nd(e){if(!e)return!1;var r=e._valueTracker;if(!r)return!0;var l=r.getValue(),s="";return e&&(s=td(e)?e.checked?"true":"false":e.value),e=s,e!==l?(r.setValue(e),!0):!1}function zl(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var Bx=/[\n"\\]/g;function mn(e){return e.replace(Bx,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function Is(e,r,l,s,m,x,E,M){e.name="",E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?e.type=E:e.removeAttribute("type"),r!=null?E==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+dn(r)):e.value!==""+dn(r)&&(e.value=""+dn(r)):E!=="submit"&&E!=="reset"||e.removeAttribute("value"),r!=null?_s(e,E,dn(r)):l!=null?_s(e,E,dn(l)):s!=null&&e.removeAttribute("value"),m==null&&x!=null&&(e.defaultChecked=!!x),m!=null&&(e.checked=m&&typeof m!="function"&&typeof m!="symbol"),M!=null&&typeof M!="function"&&typeof M!="symbol"&&typeof M!="boolean"?e.name=""+dn(M):e.removeAttribute("name")}function id(e,r,l,s,m,x,E,M){if(x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"&&(e.type=x),r!=null||l!=null){if(!(x!=="submit"&&x!=="reset"||r!=null))return;l=l!=null?""+dn(l):"",r=r!=null?""+dn(r):l,M||r===e.value||(e.value=r),e.defaultValue=r}s=s??m,s=typeof s!="function"&&typeof s!="symbol"&&!!s,e.checked=M?e.checked:!!s,e.defaultChecked=!!s,E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"&&(e.name=E)}function _s(e,r,l){r==="number"&&zl(e.ownerDocument)===e||e.defaultValue===""+l||(e.defaultValue=""+l)}function Tr(e,r,l,s){if(e=e.options,r){r={};for(var m=0;m<l.length;m++)r["$"+l[m]]=!0;for(l=0;l<e.length;l++)m=r.hasOwnProperty("$"+e[l].value),e[l].selected!==m&&(e[l].selected=m),m&&s&&(e[l].defaultSelected=!0)}else{for(l=""+dn(l),r=null,m=0;m<e.length;m++){if(e[m].value===l){e[m].selected=!0,s&&(e[m].defaultSelected=!0);return}r!==null||e[m].disabled||(r=e[m])}r!==null&&(r.selected=!0)}}function rd(e,r,l){if(r!=null&&(r=""+dn(r),r!==e.value&&(e.value=r),l==null)){e.defaultValue!==r&&(e.defaultValue=r);return}e.defaultValue=l!=null?""+dn(l):""}function ad(e,r,l,s){if(r==null){if(s!=null){if(l!=null)throw Error(a(92));if(me(s)){if(1<s.length)throw Error(a(93));s=s[0]}l=s}l==null&&(l=""),r=l}l=dn(r),e.defaultValue=l,s=e.textContent,s===l&&s!==""&&s!==null&&(e.value=s)}function Sr(e,r){if(r){var l=e.firstChild;if(l&&l===e.lastChild&&l.nodeType===3){l.nodeValue=r;return}}e.textContent=r}var Px=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function ld(e,r,l){var s=r.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?s?e.setProperty(r,""):r==="float"?e.cssFloat="":e[r]="":s?e.setProperty(r,l):typeof l!="number"||l===0||Px.has(r)?r==="float"?e.cssFloat=l:e[r]=(""+l).trim():e[r]=l+"px"}function od(e,r,l){if(r!=null&&typeof r!="object")throw Error(a(62));if(e=e.style,l!=null){for(var s in l)!l.hasOwnProperty(s)||r!=null&&r.hasOwnProperty(s)||(s.indexOf("--")===0?e.setProperty(s,""):s==="float"?e.cssFloat="":e[s]="");for(var m in r)s=r[m],r.hasOwnProperty(m)&&l[m]!==s&&ld(e,m,s)}else for(var x in r)r.hasOwnProperty(x)&&ld(e,x,r[x])}function Ls(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var zx=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Vx=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Vl(e){return Vx.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var Os=null;function Fs(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Cr=null,Er=null;function sd(e){var r=Hn(e);if(r&&(e=r.stateNode)){var l=e[Lt]||null;e:switch(e=r.stateNode,r.type){case"input":if(Is(e,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),r=l.name,l.type==="radio"&&r!=null){for(l=e;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+mn(""+r)+'"][type="radio"]'),r=0;r<l.length;r++){var s=l[r];if(s!==e&&s.form===e.form){var m=s[Lt]||null;if(!m)throw Error(a(90));Is(s,m.value,m.defaultValue,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name)}}for(r=0;r<l.length;r++)s=l[r],s.form===e.form&&nd(s)}break e;case"textarea":rd(e,l.value,l.defaultValue);break e;case"select":r=l.value,r!=null&&Tr(e,!!l.multiple,r,!1)}}}var Bs=!1;function ud(e,r,l){if(Bs)return e(r,l);Bs=!0;try{var s=e(r);return s}finally{if(Bs=!1,(Cr!==null||Er!==null)&&(Ao(),Cr&&(r=Cr,e=Er,Er=Cr=null,sd(r),e)))for(r=0;r<e.length;r++)sd(e[r])}}function ga(e,r){var l=e.stateNode;if(l===null)return null;var s=l[Lt]||null;if(s===null)return null;l=s[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(e=e.type,s=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!s;break e;default:e=!1}if(e)return null;if(l&&typeof l!="function")throw Error(a(231,r,typeof l));return l}var Yn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ps=!1;if(Yn)try{var ya={};Object.defineProperty(ya,"passive",{get:function(){Ps=!0}}),window.addEventListener("test",ya,ya),window.removeEventListener("test",ya,ya)}catch{Ps=!1}var ci=null,zs=null,jl=null;function cd(){if(jl)return jl;var e,r=zs,l=r.length,s,m="value"in ci?ci.value:ci.textContent,x=m.length;for(e=0;e<l&&r[e]===m[e];e++);var E=l-e;for(s=1;s<=E&&r[l-s]===m[x-s];s++);return jl=m.slice(e,1<s?1-s:void 0)}function Ul(e){var r=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&r===13&&(e=13)):e=r,e===10&&(e=13),32<=e||e===13?e:0}function Hl(){return!0}function fd(){return!1}function qt(e){function r(l,s,m,x,E){this._reactName=l,this._targetInst=m,this.type=s,this.nativeEvent=x,this.target=E,this.currentTarget=null;for(var M in e)e.hasOwnProperty(M)&&(l=e[M],this[M]=l?l(x):x[M]);return this.isDefaultPrevented=(x.defaultPrevented!=null?x.defaultPrevented:x.returnValue===!1)?Hl:fd,this.isPropagationStopped=fd,this}return v(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=Hl)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=Hl)},persist:function(){},isPersistent:Hl}),r}var Yi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Gl=qt(Yi),xa=v({},Yi,{view:0,detail:0}),jx=qt(xa),Vs,js,va,ql=v({},xa,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Hs,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==va&&(va&&e.type==="mousemove"?(Vs=e.screenX-va.screenX,js=e.screenY-va.screenY):js=Vs=0,va=e),Vs)},movementY:function(e){return"movementY"in e?e.movementY:js}}),dd=qt(ql),Ux=v({},ql,{dataTransfer:0}),Hx=qt(Ux),Gx=v({},xa,{relatedTarget:0}),Us=qt(Gx),qx=v({},Yi,{animationName:0,elapsedTime:0,pseudoElement:0}),Yx=qt(qx),Kx=v({},Yi,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),$x=qt(Kx),Xx=v({},Yi,{data:0}),md=qt(Xx),Qx={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Jx={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Wx={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Zx(e){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(e):(e=Wx[e])?!!r[e]:!1}function Hs(){return Zx}var ev=v({},xa,{key:function(e){if(e.key){var r=Qx[e.key]||e.key;if(r!=="Unidentified")return r}return e.type==="keypress"?(e=Ul(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Jx[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Hs,charCode:function(e){return e.type==="keypress"?Ul(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Ul(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),tv=qt(ev),nv=v({},ql,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),pd=qt(nv),iv=v({},xa,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Hs}),rv=qt(iv),av=v({},Yi,{propertyName:0,elapsedTime:0,pseudoElement:0}),lv=qt(av),ov=v({},ql,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),sv=qt(ov),uv=v({},Yi,{newState:0,oldState:0}),cv=qt(uv),fv=[9,13,27,32],Gs=Yn&&"CompositionEvent"in window,ba=null;Yn&&"documentMode"in document&&(ba=document.documentMode);var dv=Yn&&"TextEvent"in window&&!ba,hd=Yn&&(!Gs||ba&&8<ba&&11>=ba),gd=" ",yd=!1;function xd(e,r){switch(e){case"keyup":return fv.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function vd(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Mr=!1;function mv(e,r){switch(e){case"compositionend":return vd(r);case"keypress":return r.which!==32?null:(yd=!0,gd);case"textInput":return e=r.data,e===gd&&yd?null:e;default:return null}}function pv(e,r){if(Mr)return e==="compositionend"||!Gs&&xd(e,r)?(e=cd(),jl=zs=ci=null,Mr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return hd&&r.locale!=="ko"?null:r.data;default:return null}}var hv={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function bd(e){var r=e&&e.nodeName&&e.nodeName.toLowerCase();return r==="input"?!!hv[e.type]:r==="textarea"}function Td(e,r,l,s){Cr?Er?Er.push(s):Er=[s]:Cr=s,r=Io(r,"onChange"),0<r.length&&(l=new Gl("onChange","change",null,l,s),e.push({event:l,listeners:r}))}var Ta=null,Sa=null;function gv(e){th(e,0)}function Yl(e){var r=Hi(e);if(nd(r))return e}function Sd(e,r){if(e==="change")return r}var Cd=!1;if(Yn){var qs;if(Yn){var Ys="oninput"in document;if(!Ys){var Ed=document.createElement("div");Ed.setAttribute("oninput","return;"),Ys=typeof Ed.oninput=="function"}qs=Ys}else qs=!1;Cd=qs&&(!document.documentMode||9<document.documentMode)}function Md(){Ta&&(Ta.detachEvent("onpropertychange",Ad),Sa=Ta=null)}function Ad(e){if(e.propertyName==="value"&&Yl(Sa)){var r=[];Td(r,Sa,e,Fs(e)),ud(gv,r)}}function yv(e,r,l){e==="focusin"?(Md(),Ta=r,Sa=l,Ta.attachEvent("onpropertychange",Ad)):e==="focusout"&&Md()}function xv(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Yl(Sa)}function vv(e,r){if(e==="click")return Yl(r)}function bv(e,r){if(e==="input"||e==="change")return Yl(r)}function Tv(e,r){return e===r&&(e!==0||1/e===1/r)||e!==e&&r!==r}var tn=typeof Object.is=="function"?Object.is:Tv;function Ca(e,r){if(tn(e,r))return!0;if(typeof e!="object"||e===null||typeof r!="object"||r===null)return!1;var l=Object.keys(e),s=Object.keys(r);if(l.length!==s.length)return!1;for(s=0;s<l.length;s++){var m=l[s];if(!ze.call(r,m)||!tn(e[m],r[m]))return!1}return!0}function wd(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Dd(e,r){var l=wd(e);e=0;for(var s;l;){if(l.nodeType===3){if(s=e+l.textContent.length,e<=r&&s>=r)return{node:l,offset:r-e};e=s}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=wd(l)}}function kd(e,r){return e&&r?e===r?!0:e&&e.nodeType===3?!1:r&&r.nodeType===3?kd(e,r.parentNode):"contains"in e?e.contains(r):e.compareDocumentPosition?!!(e.compareDocumentPosition(r)&16):!1:!1}function Nd(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var r=zl(e.document);r instanceof e.HTMLIFrameElement;){try{var l=typeof r.contentWindow.location.href=="string"}catch{l=!1}if(l)e=r.contentWindow;else break;r=zl(e.document)}return r}function Ks(e){var r=e&&e.nodeName&&e.nodeName.toLowerCase();return r&&(r==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||r==="textarea"||e.contentEditable==="true")}var Sv=Yn&&"documentMode"in document&&11>=document.documentMode,Ar=null,$s=null,Ea=null,Xs=!1;function Rd(e,r,l){var s=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;Xs||Ar==null||Ar!==zl(s)||(s=Ar,"selectionStart"in s&&Ks(s)?s={start:s.selectionStart,end:s.selectionEnd}:(s=(s.ownerDocument&&s.ownerDocument.defaultView||window).getSelection(),s={anchorNode:s.anchorNode,anchorOffset:s.anchorOffset,focusNode:s.focusNode,focusOffset:s.focusOffset}),Ea&&Ca(Ea,s)||(Ea=s,s=Io($s,"onSelect"),0<s.length&&(r=new Gl("onSelect","select",null,r,l),e.push({event:r,listeners:s}),r.target=Ar)))}function Ki(e,r){var l={};return l[e.toLowerCase()]=r.toLowerCase(),l["Webkit"+e]="webkit"+r,l["Moz"+e]="moz"+r,l}var wr={animationend:Ki("Animation","AnimationEnd"),animationiteration:Ki("Animation","AnimationIteration"),animationstart:Ki("Animation","AnimationStart"),transitionrun:Ki("Transition","TransitionRun"),transitionstart:Ki("Transition","TransitionStart"),transitioncancel:Ki("Transition","TransitionCancel"),transitionend:Ki("Transition","TransitionEnd")},Qs={},Id={};Yn&&(Id=document.createElement("div").style,"AnimationEvent"in window||(delete wr.animationend.animation,delete wr.animationiteration.animation,delete wr.animationstart.animation),"TransitionEvent"in window||delete wr.transitionend.transition);function $i(e){if(Qs[e])return Qs[e];if(!wr[e])return e;var r=wr[e],l;for(l in r)if(r.hasOwnProperty(l)&&l in Id)return Qs[e]=r[l];return e}var _d=$i("animationend"),Ld=$i("animationiteration"),Od=$i("animationstart"),Cv=$i("transitionrun"),Ev=$i("transitionstart"),Mv=$i("transitioncancel"),Fd=$i("transitionend"),Bd=new Map,Js="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Js.push("scrollEnd");function wn(e,r){Bd.set(e,r),An(r,[e])}var Pd=new WeakMap;function pn(e,r){if(typeof e=="object"&&e!==null){var l=Pd.get(e);return l!==void 0?l:(r={value:e,source:r,stack:ed(r)},Pd.set(e,r),r)}return{value:e,source:r,stack:ed(r)}}var hn=[],Dr=0,Ws=0;function Kl(){for(var e=Dr,r=Ws=Dr=0;r<e;){var l=hn[r];hn[r++]=null;var s=hn[r];hn[r++]=null;var m=hn[r];hn[r++]=null;var x=hn[r];if(hn[r++]=null,s!==null&&m!==null){var E=s.pending;E===null?m.next=m:(m.next=E.next,E.next=m),s.pending=m}x!==0&&zd(l,m,x)}}function $l(e,r,l,s){hn[Dr++]=e,hn[Dr++]=r,hn[Dr++]=l,hn[Dr++]=s,Ws|=s,e.lanes|=s,e=e.alternate,e!==null&&(e.lanes|=s)}function Zs(e,r,l,s){return $l(e,r,l,s),Xl(e)}function kr(e,r){return $l(e,null,null,r),Xl(e)}function zd(e,r,l){e.lanes|=l;var s=e.alternate;s!==null&&(s.lanes|=l);for(var m=!1,x=e.return;x!==null;)x.childLanes|=l,s=x.alternate,s!==null&&(s.childLanes|=l),x.tag===22&&(e=x.stateNode,e===null||e._visibility&1||(m=!0)),e=x,x=x.return;return e.tag===3?(x=e.stateNode,m&&r!==null&&(m=31-Ee(l),e=x.hiddenUpdates,s=e[m],s===null?e[m]=[r]:s.push(r),r.lane=l|536870912),x):null}function Xl(e){if(50<Xa)throw Xa=0,ac=null,Error(a(185));for(var r=e.return;r!==null;)e=r,r=e.return;return e.tag===3?e.stateNode:null}var Nr={};function Av(e,r,l,s){this.tag=e,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function nn(e,r,l,s){return new Av(e,r,l,s)}function eu(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Kn(e,r){var l=e.alternate;return l===null?(l=nn(e.tag,r,e.key,e.mode),l.elementType=e.elementType,l.type=e.type,l.stateNode=e.stateNode,l.alternate=e,e.alternate=l):(l.pendingProps=r,l.type=e.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=e.flags&65011712,l.childLanes=e.childLanes,l.lanes=e.lanes,l.child=e.child,l.memoizedProps=e.memoizedProps,l.memoizedState=e.memoizedState,l.updateQueue=e.updateQueue,r=e.dependencies,l.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},l.sibling=e.sibling,l.index=e.index,l.ref=e.ref,l.refCleanup=e.refCleanup,l}function Vd(e,r){e.flags&=65011714;var l=e.alternate;return l===null?(e.childLanes=0,e.lanes=r,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=l.childLanes,e.lanes=l.lanes,e.child=l.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=l.memoizedProps,e.memoizedState=l.memoizedState,e.updateQueue=l.updateQueue,e.type=l.type,r=l.dependencies,e.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),e}function Ql(e,r,l,s,m,x){var E=0;if(s=e,typeof e=="function")eu(e)&&(E=1);else if(typeof e=="string")E=Db(e,l,ne.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case pe:return e=nn(31,l,r,m),e.elementType=pe,e.lanes=x,e;case w:return Xi(l.children,m,x,r);case N:E=8,m|=24;break;case B:return e=nn(12,l,r,m|2),e.elementType=B,e.lanes=x,e;case Z:return e=nn(13,l,r,m),e.elementType=Z,e.lanes=x,e;case q:return e=nn(19,l,r,m),e.elementType=q,e.lanes=x,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case _:case j:E=10;break e;case U:E=9;break e;case X:E=11;break e;case Q:E=14;break e;case ae:E=16,s=null;break e}E=29,l=Error(a(130,e===null?"null":typeof e,"")),s=null}return r=nn(E,l,r,m),r.elementType=e,r.type=s,r.lanes=x,r}function Xi(e,r,l,s){return e=nn(7,e,s,r),e.lanes=l,e}function tu(e,r,l){return e=nn(6,e,null,r),e.lanes=l,e}function nu(e,r,l){return r=nn(4,e.children!==null?e.children:[],e.key,r),r.lanes=l,r.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},r}var Rr=[],Ir=0,Jl=null,Wl=0,gn=[],yn=0,Qi=null,$n=1,Xn="";function Ji(e,r){Rr[Ir++]=Wl,Rr[Ir++]=Jl,Jl=e,Wl=r}function jd(e,r,l){gn[yn++]=$n,gn[yn++]=Xn,gn[yn++]=Qi,Qi=e;var s=$n;e=Xn;var m=32-Ee(s)-1;s&=~(1<<m),l+=1;var x=32-Ee(r)+m;if(30<x){var E=m-m%5;x=(s&(1<<E)-1).toString(32),s>>=E,m-=E,$n=1<<32-Ee(r)+m|l<<m|s,Xn=x+e}else $n=1<<x|l<<m|s,Xn=e}function iu(e){e.return!==null&&(Ji(e,1),jd(e,1,0))}function ru(e){for(;e===Jl;)Jl=Rr[--Ir],Rr[Ir]=null,Wl=Rr[--Ir],Rr[Ir]=null;for(;e===Qi;)Qi=gn[--yn],gn[yn]=null,Xn=gn[--yn],gn[yn]=null,$n=gn[--yn],gn[yn]=null}var jt=null,st=null,Ye=!1,Wi=null,Ln=!1,au=Error(a(519));function Zi(e){var r=Error(a(418,""));throw wa(pn(r,e)),au}function Ud(e){var r=e.stateNode,l=e.type,s=e.memoizedProps;switch(r[Ct]=e,r[Lt]=s,l){case"dialog":Fe("cancel",r),Fe("close",r);break;case"iframe":case"object":case"embed":Fe("load",r);break;case"video":case"audio":for(l=0;l<Ja.length;l++)Fe(Ja[l],r);break;case"source":Fe("error",r);break;case"img":case"image":case"link":Fe("error",r),Fe("load",r);break;case"details":Fe("toggle",r);break;case"input":Fe("invalid",r),id(r,s.value,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name,!0),Pl(r);break;case"select":Fe("invalid",r);break;case"textarea":Fe("invalid",r),ad(r,s.value,s.defaultValue,s.children),Pl(r)}l=s.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||r.textContent===""+l||s.suppressHydrationWarning===!0||ah(r.textContent,l)?(s.popover!=null&&(Fe("beforetoggle",r),Fe("toggle",r)),s.onScroll!=null&&Fe("scroll",r),s.onScrollEnd!=null&&Fe("scrollend",r),s.onClick!=null&&(r.onclick=_o),r=!0):r=!1,r||Zi(e)}function Hd(e){for(jt=e.return;jt;)switch(jt.tag){case 5:case 13:Ln=!1;return;case 27:case 3:Ln=!0;return;default:jt=jt.return}}function Ma(e){if(e!==jt)return!1;if(!Ye)return Hd(e),Ye=!0,!1;var r=e.tag,l;if((l=r!==3&&r!==27)&&((l=r===5)&&(l=e.type,l=!(l!=="form"&&l!=="button")||Tc(e.type,e.memoizedProps)),l=!l),l&&st&&Zi(e),Hd(e),r===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));e:{for(e=e.nextSibling,r=0;e;){if(e.nodeType===8)if(l=e.data,l==="/$"){if(r===0){st=kn(e.nextSibling);break e}r--}else l!=="$"&&l!=="$!"&&l!=="$?"||r++;e=e.nextSibling}st=null}}else r===27?(r=st,Ai(e.type)?(e=Mc,Mc=null,st=e):st=r):st=jt?kn(e.stateNode.nextSibling):null;return!0}function Aa(){st=jt=null,Ye=!1}function Gd(){var e=Wi;return e!==null&&($t===null?$t=e:$t.push.apply($t,e),Wi=null),e}function wa(e){Wi===null?Wi=[e]:Wi.push(e)}var lu=O(null),er=null,Qn=null;function fi(e,r,l){A(lu,r._currentValue),r._currentValue=l}function Jn(e){e._currentValue=lu.current,V(lu)}function ou(e,r,l){for(;e!==null;){var s=e.alternate;if((e.childLanes&r)!==r?(e.childLanes|=r,s!==null&&(s.childLanes|=r)):s!==null&&(s.childLanes&r)!==r&&(s.childLanes|=r),e===l)break;e=e.return}}function su(e,r,l,s){var m=e.child;for(m!==null&&(m.return=e);m!==null;){var x=m.dependencies;if(x!==null){var E=m.child;x=x.firstContext;e:for(;x!==null;){var M=x;x=m;for(var R=0;R<r.length;R++)if(M.context===r[R]){x.lanes|=l,M=x.alternate,M!==null&&(M.lanes|=l),ou(x.return,l,e),s||(E=null);break e}x=M.next}}else if(m.tag===18){if(E=m.return,E===null)throw Error(a(341));E.lanes|=l,x=E.alternate,x!==null&&(x.lanes|=l),ou(E,l,e),E=null}else E=m.child;if(E!==null)E.return=m;else for(E=m;E!==null;){if(E===e){E=null;break}if(m=E.sibling,m!==null){m.return=E.return,E=m;break}E=E.return}m=E}}function Da(e,r,l,s){e=null;for(var m=r,x=!1;m!==null;){if(!x){if((m.flags&524288)!==0)x=!0;else if((m.flags&262144)!==0)break}if(m.tag===10){var E=m.alternate;if(E===null)throw Error(a(387));if(E=E.memoizedProps,E!==null){var M=m.type;tn(m.pendingProps.value,E.value)||(e!==null?e.push(M):e=[M])}}else if(m===ge.current){if(E=m.alternate,E===null)throw Error(a(387));E.memoizedState.memoizedState!==m.memoizedState.memoizedState&&(e!==null?e.push(il):e=[il])}m=m.return}e!==null&&su(r,e,l,s),r.flags|=262144}function Zl(e){for(e=e.firstContext;e!==null;){if(!tn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function tr(e){er=e,Qn=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Ot(e){return qd(er,e)}function eo(e,r){return er===null&&tr(e),qd(e,r)}function qd(e,r){var l=r._currentValue;if(r={context:r,memoizedValue:l,next:null},Qn===null){if(e===null)throw Error(a(308));Qn=r,e.dependencies={lanes:0,firstContext:r},e.flags|=524288}else Qn=Qn.next=r;return l}var wv=typeof AbortController<"u"?AbortController:function(){var e=[],r=this.signal={aborted:!1,addEventListener:function(l,s){e.push(s)}};this.abort=function(){r.aborted=!0,e.forEach(function(l){return l()})}},Dv=t.unstable_scheduleCallback,kv=t.unstable_NormalPriority,bt={$$typeof:j,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function uu(){return{controller:new wv,data:new Map,refCount:0}}function ka(e){e.refCount--,e.refCount===0&&Dv(kv,function(){e.controller.abort()})}var Na=null,cu=0,_r=0,Lr=null;function Nv(e,r){if(Na===null){var l=Na=[];cu=0,_r=dc(),Lr={status:"pending",value:void 0,then:function(s){l.push(s)}}}return cu++,r.then(Yd,Yd),r}function Yd(){if(--cu===0&&Na!==null){Lr!==null&&(Lr.status="fulfilled");var e=Na;Na=null,_r=0,Lr=null;for(var r=0;r<e.length;r++)(0,e[r])()}}function Rv(e,r){var l=[],s={status:"pending",value:null,reason:null,then:function(m){l.push(m)}};return e.then(function(){s.status="fulfilled",s.value=r;for(var m=0;m<l.length;m++)(0,l[m])(r)},function(m){for(s.status="rejected",s.reason=m,m=0;m<l.length;m++)(0,l[m])(void 0)}),s}var Kd=Y.S;Y.S=function(e,r){typeof r=="object"&&r!==null&&typeof r.then=="function"&&Nv(e,r),Kd!==null&&Kd(e,r)};var nr=O(null);function fu(){var e=nr.current;return e!==null?e:nt.pooledCache}function to(e,r){r===null?A(nr,nr.current):A(nr,r.pool)}function $d(){var e=fu();return e===null?null:{parent:bt._currentValue,pool:e}}var Ra=Error(a(460)),Xd=Error(a(474)),no=Error(a(542)),du={then:function(){}};function Qd(e){return e=e.status,e==="fulfilled"||e==="rejected"}function io(){}function Jd(e,r,l){switch(l=e[l],l===void 0?e.push(r):l!==r&&(r.then(io,io),r=l),r.status){case"fulfilled":return r.value;case"rejected":throw e=r.reason,Zd(e),e;default:if(typeof r.status=="string")r.then(io,io);else{if(e=nt,e!==null&&100<e.shellSuspendCounter)throw Error(a(482));e=r,e.status="pending",e.then(function(s){if(r.status==="pending"){var m=r;m.status="fulfilled",m.value=s}},function(s){if(r.status==="pending"){var m=r;m.status="rejected",m.reason=s}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw e=r.reason,Zd(e),e}throw Ia=r,Ra}}var Ia=null;function Wd(){if(Ia===null)throw Error(a(459));var e=Ia;return Ia=null,e}function Zd(e){if(e===Ra||e===no)throw Error(a(483))}var di=!1;function mu(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function pu(e,r){e=e.updateQueue,r.updateQueue===e&&(r.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function mi(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function pi(e,r,l){var s=e.updateQueue;if(s===null)return null;if(s=s.shared,($e&2)!==0){var m=s.pending;return m===null?r.next=r:(r.next=m.next,m.next=r),s.pending=r,r=Xl(e),zd(e,null,l),r}return $l(e,s,r,l),Xl(e)}function _a(e,r,l){if(r=r.updateQueue,r!==null&&(r=r.shared,(l&4194048)!==0)){var s=r.lanes;s&=e.pendingLanes,l|=s,r.lanes=l,Ve(e,l)}}function hu(e,r){var l=e.updateQueue,s=e.alternate;if(s!==null&&(s=s.updateQueue,l===s)){var m=null,x=null;if(l=l.firstBaseUpdate,l!==null){do{var E={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};x===null?m=x=E:x=x.next=E,l=l.next}while(l!==null);x===null?m=x=r:x=x.next=r}else m=x=r;l={baseState:s.baseState,firstBaseUpdate:m,lastBaseUpdate:x,shared:s.shared,callbacks:s.callbacks},e.updateQueue=l;return}e=l.lastBaseUpdate,e===null?l.firstBaseUpdate=r:e.next=r,l.lastBaseUpdate=r}var gu=!1;function La(){if(gu){var e=Lr;if(e!==null)throw e}}function Oa(e,r,l,s){gu=!1;var m=e.updateQueue;di=!1;var x=m.firstBaseUpdate,E=m.lastBaseUpdate,M=m.shared.pending;if(M!==null){m.shared.pending=null;var R=M,G=R.next;R.next=null,E===null?x=G:E.next=G,E=R;var ee=e.alternate;ee!==null&&(ee=ee.updateQueue,M=ee.lastBaseUpdate,M!==E&&(M===null?ee.firstBaseUpdate=G:M.next=G,ee.lastBaseUpdate=R))}if(x!==null){var le=m.baseState;E=0,ee=G=R=null,M=x;do{var K=M.lane&-536870913,$=K!==M.lane;if($?(je&K)===K:(s&K)===K){K!==0&&K===_r&&(gu=!0),ee!==null&&(ee=ee.next={lane:0,tag:M.tag,payload:M.payload,callback:null,next:null});e:{var De=e,Me=M;K=r;var We=l;switch(Me.tag){case 1:if(De=Me.payload,typeof De=="function"){le=De.call(We,le,K);break e}le=De;break e;case 3:De.flags=De.flags&-65537|128;case 0:if(De=Me.payload,K=typeof De=="function"?De.call(We,le,K):De,K==null)break e;le=v({},le,K);break e;case 2:di=!0}}K=M.callback,K!==null&&(e.flags|=64,$&&(e.flags|=8192),$=m.callbacks,$===null?m.callbacks=[K]:$.push(K))}else $={lane:K,tag:M.tag,payload:M.payload,callback:M.callback,next:null},ee===null?(G=ee=$,R=le):ee=ee.next=$,E|=K;if(M=M.next,M===null){if(M=m.shared.pending,M===null)break;$=M,M=$.next,$.next=null,m.lastBaseUpdate=$,m.shared.pending=null}}while(!0);ee===null&&(R=le),m.baseState=R,m.firstBaseUpdate=G,m.lastBaseUpdate=ee,x===null&&(m.shared.lanes=0),Si|=E,e.lanes=E,e.memoizedState=le}}function em(e,r){if(typeof e!="function")throw Error(a(191,e));e.call(r)}function tm(e,r){var l=e.callbacks;if(l!==null)for(e.callbacks=null,e=0;e<l.length;e++)em(l[e],r)}var Or=O(null),ro=O(0);function nm(e,r){e=ri,A(ro,e),A(Or,r),ri=e|r.baseLanes}function yu(){A(ro,ri),A(Or,Or.current)}function xu(){ri=ro.current,V(Or),V(ro)}var hi=0,_e=null,Qe=null,gt=null,ao=!1,Fr=!1,ir=!1,lo=0,Fa=0,Br=null,Iv=0;function dt(){throw Error(a(321))}function vu(e,r){if(r===null)return!1;for(var l=0;l<r.length&&l<e.length;l++)if(!tn(e[l],r[l]))return!1;return!0}function bu(e,r,l,s,m,x){return hi=x,_e=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,Y.H=e===null||e.memoizedState===null?zm:Vm,ir=!1,x=l(s,m),ir=!1,Fr&&(x=rm(r,l,s,m)),im(e),x}function im(e){Y.H=mo;var r=Qe!==null&&Qe.next!==null;if(hi=0,gt=Qe=_e=null,ao=!1,Fa=0,Br=null,r)throw Error(a(300));e===null||Et||(e=e.dependencies,e!==null&&Zl(e)&&(Et=!0))}function rm(e,r,l,s){_e=e;var m=0;do{if(Fr&&(Br=null),Fa=0,Fr=!1,25<=m)throw Error(a(301));if(m+=1,gt=Qe=null,e.updateQueue!=null){var x=e.updateQueue;x.lastEffect=null,x.events=null,x.stores=null,x.memoCache!=null&&(x.memoCache.index=0)}Y.H=zv,x=r(l,s)}while(Fr);return x}function _v(){var e=Y.H,r=e.useState()[0];return r=typeof r.then=="function"?Ba(r):r,e=e.useState()[0],(Qe!==null?Qe.memoizedState:null)!==e&&(_e.flags|=1024),r}function Tu(){var e=lo!==0;return lo=0,e}function Su(e,r,l){r.updateQueue=e.updateQueue,r.flags&=-2053,e.lanes&=~l}function Cu(e){if(ao){for(e=e.memoizedState;e!==null;){var r=e.queue;r!==null&&(r.pending=null),e=e.next}ao=!1}hi=0,gt=Qe=_e=null,Fr=!1,Fa=lo=0,Br=null}function Yt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return gt===null?_e.memoizedState=gt=e:gt=gt.next=e,gt}function yt(){if(Qe===null){var e=_e.alternate;e=e!==null?e.memoizedState:null}else e=Qe.next;var r=gt===null?_e.memoizedState:gt.next;if(r!==null)gt=r,Qe=e;else{if(e===null)throw _e.alternate===null?Error(a(467)):Error(a(310));Qe=e,e={memoizedState:Qe.memoizedState,baseState:Qe.baseState,baseQueue:Qe.baseQueue,queue:Qe.queue,next:null},gt===null?_e.memoizedState=gt=e:gt=gt.next=e}return gt}function Eu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Ba(e){var r=Fa;return Fa+=1,Br===null&&(Br=[]),e=Jd(Br,e,r),r=_e,(gt===null?r.memoizedState:gt.next)===null&&(r=r.alternate,Y.H=r===null||r.memoizedState===null?zm:Vm),e}function oo(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Ba(e);if(e.$$typeof===j)return Ot(e)}throw Error(a(438,String(e)))}function Mu(e){var r=null,l=_e.updateQueue;if(l!==null&&(r=l.memoCache),r==null){var s=_e.alternate;s!==null&&(s=s.updateQueue,s!==null&&(s=s.memoCache,s!=null&&(r={data:s.data.map(function(m){return m.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),l===null&&(l=Eu(),_e.updateQueue=l),l.memoCache=r,l=r.data[r.index],l===void 0)for(l=r.data[r.index]=Array(e),s=0;s<e;s++)l[s]=I;return r.index++,l}function Wn(e,r){return typeof r=="function"?r(e):r}function so(e){var r=yt();return Au(r,Qe,e)}function Au(e,r,l){var s=e.queue;if(s===null)throw Error(a(311));s.lastRenderedReducer=l;var m=e.baseQueue,x=s.pending;if(x!==null){if(m!==null){var E=m.next;m.next=x.next,x.next=E}r.baseQueue=m=x,s.pending=null}if(x=e.baseState,m===null)e.memoizedState=x;else{r=m.next;var M=E=null,R=null,G=r,ee=!1;do{var le=G.lane&-536870913;if(le!==G.lane?(je&le)===le:(hi&le)===le){var K=G.revertLane;if(K===0)R!==null&&(R=R.next={lane:0,revertLane:0,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null}),le===_r&&(ee=!0);else if((hi&K)===K){G=G.next,K===_r&&(ee=!0);continue}else le={lane:0,revertLane:G.revertLane,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null},R===null?(M=R=le,E=x):R=R.next=le,_e.lanes|=K,Si|=K;le=G.action,ir&&l(x,le),x=G.hasEagerState?G.eagerState:l(x,le)}else K={lane:le,revertLane:G.revertLane,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null},R===null?(M=R=K,E=x):R=R.next=K,_e.lanes|=le,Si|=le;G=G.next}while(G!==null&&G!==r);if(R===null?E=x:R.next=M,!tn(x,e.memoizedState)&&(Et=!0,ee&&(l=Lr,l!==null)))throw l;e.memoizedState=x,e.baseState=E,e.baseQueue=R,s.lastRenderedState=x}return m===null&&(s.lanes=0),[e.memoizedState,s.dispatch]}function wu(e){var r=yt(),l=r.queue;if(l===null)throw Error(a(311));l.lastRenderedReducer=e;var s=l.dispatch,m=l.pending,x=r.memoizedState;if(m!==null){l.pending=null;var E=m=m.next;do x=e(x,E.action),E=E.next;while(E!==m);tn(x,r.memoizedState)||(Et=!0),r.memoizedState=x,r.baseQueue===null&&(r.baseState=x),l.lastRenderedState=x}return[x,s]}function am(e,r,l){var s=_e,m=yt(),x=Ye;if(x){if(l===void 0)throw Error(a(407));l=l()}else l=r();var E=!tn((Qe||m).memoizedState,l);E&&(m.memoizedState=l,Et=!0),m=m.queue;var M=sm.bind(null,s,m,e);if(Pa(2048,8,M,[e]),m.getSnapshot!==r||E||gt!==null&&gt.memoizedState.tag&1){if(s.flags|=2048,Pr(9,uo(),om.bind(null,s,m,l,r),null),nt===null)throw Error(a(349));x||(hi&124)!==0||lm(s,r,l)}return l}function lm(e,r,l){e.flags|=16384,e={getSnapshot:r,value:l},r=_e.updateQueue,r===null?(r=Eu(),_e.updateQueue=r,r.stores=[e]):(l=r.stores,l===null?r.stores=[e]:l.push(e))}function om(e,r,l,s){r.value=l,r.getSnapshot=s,um(r)&&cm(e)}function sm(e,r,l){return l(function(){um(r)&&cm(e)})}function um(e){var r=e.getSnapshot;e=e.value;try{var l=r();return!tn(e,l)}catch{return!0}}function cm(e){var r=kr(e,2);r!==null&&sn(r,e,2)}function Du(e){var r=Yt();if(typeof e=="function"){var l=e;if(e=l(),ir){Te(!0);try{l()}finally{Te(!1)}}}return r.memoizedState=r.baseState=e,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Wn,lastRenderedState:e},r}function fm(e,r,l,s){return e.baseState=l,Au(e,Qe,typeof s=="function"?s:Wn)}function Lv(e,r,l,s,m){if(fo(e))throw Error(a(485));if(e=r.action,e!==null){var x={payload:m,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(E){x.listeners.push(E)}};Y.T!==null?l(!0):x.isTransition=!1,s(x),l=r.pending,l===null?(x.next=r.pending=x,dm(r,x)):(x.next=l.next,r.pending=l.next=x)}}function dm(e,r){var l=r.action,s=r.payload,m=e.state;if(r.isTransition){var x=Y.T,E={};Y.T=E;try{var M=l(m,s),R=Y.S;R!==null&&R(E,M),mm(e,r,M)}catch(G){ku(e,r,G)}finally{Y.T=x}}else try{x=l(m,s),mm(e,r,x)}catch(G){ku(e,r,G)}}function mm(e,r,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(s){pm(e,r,s)},function(s){return ku(e,r,s)}):pm(e,r,l)}function pm(e,r,l){r.status="fulfilled",r.value=l,hm(r),e.state=l,r=e.pending,r!==null&&(l=r.next,l===r?e.pending=null:(l=l.next,r.next=l,dm(e,l)))}function ku(e,r,l){var s=e.pending;if(e.pending=null,s!==null){s=s.next;do r.status="rejected",r.reason=l,hm(r),r=r.next;while(r!==s)}e.action=null}function hm(e){e=e.listeners;for(var r=0;r<e.length;r++)(0,e[r])()}function gm(e,r){return r}function ym(e,r){if(Ye){var l=nt.formState;if(l!==null){e:{var s=_e;if(Ye){if(st){t:{for(var m=st,x=Ln;m.nodeType!==8;){if(!x){m=null;break t}if(m=kn(m.nextSibling),m===null){m=null;break t}}x=m.data,m=x==="F!"||x==="F"?m:null}if(m){st=kn(m.nextSibling),s=m.data==="F!";break e}}Zi(s)}s=!1}s&&(r=l[0])}}return l=Yt(),l.memoizedState=l.baseState=r,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:gm,lastRenderedState:r},l.queue=s,l=Fm.bind(null,_e,s),s.dispatch=l,s=Du(!1),x=Lu.bind(null,_e,!1,s.queue),s=Yt(),m={state:r,dispatch:null,action:e,pending:null},s.queue=m,l=Lv.bind(null,_e,m,x,l),m.dispatch=l,s.memoizedState=e,[r,l,!1]}function xm(e){var r=yt();return vm(r,Qe,e)}function vm(e,r,l){if(r=Au(e,r,gm)[0],e=so(Wn)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var s=Ba(r)}catch(E){throw E===Ra?no:E}else s=r;r=yt();var m=r.queue,x=m.dispatch;return l!==r.memoizedState&&(_e.flags|=2048,Pr(9,uo(),Ov.bind(null,m,l),null)),[s,x,e]}function Ov(e,r){e.action=r}function bm(e){var r=yt(),l=Qe;if(l!==null)return vm(r,l,e);yt(),r=r.memoizedState,l=yt();var s=l.queue.dispatch;return l.memoizedState=e,[r,s,!1]}function Pr(e,r,l,s){return e={tag:e,create:l,deps:s,inst:r,next:null},r=_e.updateQueue,r===null&&(r=Eu(),_e.updateQueue=r),l=r.lastEffect,l===null?r.lastEffect=e.next=e:(s=l.next,l.next=e,e.next=s,r.lastEffect=e),e}function uo(){return{destroy:void 0,resource:void 0}}function Tm(){return yt().memoizedState}function co(e,r,l,s){var m=Yt();s=s===void 0?null:s,_e.flags|=e,m.memoizedState=Pr(1|r,uo(),l,s)}function Pa(e,r,l,s){var m=yt();s=s===void 0?null:s;var x=m.memoizedState.inst;Qe!==null&&s!==null&&vu(s,Qe.memoizedState.deps)?m.memoizedState=Pr(r,x,l,s):(_e.flags|=e,m.memoizedState=Pr(1|r,x,l,s))}function Sm(e,r){co(8390656,8,e,r)}function Cm(e,r){Pa(2048,8,e,r)}function Em(e,r){return Pa(4,2,e,r)}function Mm(e,r){return Pa(4,4,e,r)}function Am(e,r){if(typeof r=="function"){e=e();var l=r(e);return function(){typeof l=="function"?l():r(null)}}if(r!=null)return e=e(),r.current=e,function(){r.current=null}}function wm(e,r,l){l=l!=null?l.concat([e]):null,Pa(4,4,Am.bind(null,r,e),l)}function Nu(){}function Dm(e,r){var l=yt();r=r===void 0?null:r;var s=l.memoizedState;return r!==null&&vu(r,s[1])?s[0]:(l.memoizedState=[e,r],e)}function km(e,r){var l=yt();r=r===void 0?null:r;var s=l.memoizedState;if(r!==null&&vu(r,s[1]))return s[0];if(s=e(),ir){Te(!0);try{e()}finally{Te(!1)}}return l.memoizedState=[s,r],s}function Ru(e,r,l){return l===void 0||(hi&1073741824)!==0?e.memoizedState=r:(e.memoizedState=l,e=Ip(),_e.lanes|=e,Si|=e,l)}function Nm(e,r,l,s){return tn(l,r)?l:Or.current!==null?(e=Ru(e,l,s),tn(e,r)||(Et=!0),e):(hi&42)===0?(Et=!0,e.memoizedState=l):(e=Ip(),_e.lanes|=e,Si|=e,r)}function Rm(e,r,l,s,m){var x=L.p;L.p=x!==0&&8>x?x:8;var E=Y.T,M={};Y.T=M,Lu(e,!1,r,l);try{var R=m(),G=Y.S;if(G!==null&&G(M,R),R!==null&&typeof R=="object"&&typeof R.then=="function"){var ee=Rv(R,s);za(e,r,ee,on(e))}else za(e,r,s,on(e))}catch(le){za(e,r,{then:function(){},status:"rejected",reason:le},on())}finally{L.p=x,Y.T=E}}function Fv(){}function Iu(e,r,l,s){if(e.tag!==5)throw Error(a(476));var m=Im(e).queue;Rm(e,m,r,D,l===null?Fv:function(){return _m(e),l(s)})}function Im(e){var r=e.memoizedState;if(r!==null)return r;r={memoizedState:D,baseState:D,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Wn,lastRenderedState:D},next:null};var l={};return r.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Wn,lastRenderedState:l},next:null},e.memoizedState=r,e=e.alternate,e!==null&&(e.memoizedState=r),r}function _m(e){var r=Im(e).next.queue;za(e,r,{},on())}function _u(){return Ot(il)}function Lm(){return yt().memoizedState}function Om(){return yt().memoizedState}function Bv(e){for(var r=e.return;r!==null;){switch(r.tag){case 24:case 3:var l=on();e=mi(l);var s=pi(r,e,l);s!==null&&(sn(s,r,l),_a(s,r,l)),r={cache:uu()},e.payload=r;return}r=r.return}}function Pv(e,r,l){var s=on();l={lane:s,revertLane:0,action:l,hasEagerState:!1,eagerState:null,next:null},fo(e)?Bm(r,l):(l=Zs(e,r,l,s),l!==null&&(sn(l,e,s),Pm(l,r,s)))}function Fm(e,r,l){var s=on();za(e,r,l,s)}function za(e,r,l,s){var m={lane:s,revertLane:0,action:l,hasEagerState:!1,eagerState:null,next:null};if(fo(e))Bm(r,m);else{var x=e.alternate;if(e.lanes===0&&(x===null||x.lanes===0)&&(x=r.lastRenderedReducer,x!==null))try{var E=r.lastRenderedState,M=x(E,l);if(m.hasEagerState=!0,m.eagerState=M,tn(M,E))return $l(e,r,m,0),nt===null&&Kl(),!1}catch{}finally{}if(l=Zs(e,r,m,s),l!==null)return sn(l,e,s),Pm(l,r,s),!0}return!1}function Lu(e,r,l,s){if(s={lane:2,revertLane:dc(),action:s,hasEagerState:!1,eagerState:null,next:null},fo(e)){if(r)throw Error(a(479))}else r=Zs(e,l,s,2),r!==null&&sn(r,e,2)}function fo(e){var r=e.alternate;return e===_e||r!==null&&r===_e}function Bm(e,r){Fr=ao=!0;var l=e.pending;l===null?r.next=r:(r.next=l.next,l.next=r),e.pending=r}function Pm(e,r,l){if((l&4194048)!==0){var s=r.lanes;s&=e.pendingLanes,l|=s,r.lanes=l,Ve(e,l)}}var mo={readContext:Ot,use:oo,useCallback:dt,useContext:dt,useEffect:dt,useImperativeHandle:dt,useLayoutEffect:dt,useInsertionEffect:dt,useMemo:dt,useReducer:dt,useRef:dt,useState:dt,useDebugValue:dt,useDeferredValue:dt,useTransition:dt,useSyncExternalStore:dt,useId:dt,useHostTransitionStatus:dt,useFormState:dt,useActionState:dt,useOptimistic:dt,useMemoCache:dt,useCacheRefresh:dt},zm={readContext:Ot,use:oo,useCallback:function(e,r){return Yt().memoizedState=[e,r===void 0?null:r],e},useContext:Ot,useEffect:Sm,useImperativeHandle:function(e,r,l){l=l!=null?l.concat([e]):null,co(4194308,4,Am.bind(null,r,e),l)},useLayoutEffect:function(e,r){return co(4194308,4,e,r)},useInsertionEffect:function(e,r){co(4,2,e,r)},useMemo:function(e,r){var l=Yt();r=r===void 0?null:r;var s=e();if(ir){Te(!0);try{e()}finally{Te(!1)}}return l.memoizedState=[s,r],s},useReducer:function(e,r,l){var s=Yt();if(l!==void 0){var m=l(r);if(ir){Te(!0);try{l(r)}finally{Te(!1)}}}else m=r;return s.memoizedState=s.baseState=m,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:m},s.queue=e,e=e.dispatch=Pv.bind(null,_e,e),[s.memoizedState,e]},useRef:function(e){var r=Yt();return e={current:e},r.memoizedState=e},useState:function(e){e=Du(e);var r=e.queue,l=Fm.bind(null,_e,r);return r.dispatch=l,[e.memoizedState,l]},useDebugValue:Nu,useDeferredValue:function(e,r){var l=Yt();return Ru(l,e,r)},useTransition:function(){var e=Du(!1);return e=Rm.bind(null,_e,e.queue,!0,!1),Yt().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,r,l){var s=_e,m=Yt();if(Ye){if(l===void 0)throw Error(a(407));l=l()}else{if(l=r(),nt===null)throw Error(a(349));(je&124)!==0||lm(s,r,l)}m.memoizedState=l;var x={value:l,getSnapshot:r};return m.queue=x,Sm(sm.bind(null,s,x,e),[e]),s.flags|=2048,Pr(9,uo(),om.bind(null,s,x,l,r),null),l},useId:function(){var e=Yt(),r=nt.identifierPrefix;if(Ye){var l=Xn,s=$n;l=(s&~(1<<32-Ee(s)-1)).toString(32)+l,r=""+r+"R"+l,l=lo++,0<l&&(r+="H"+l.toString(32)),r+=""}else l=Iv++,r=""+r+"r"+l.toString(32)+"";return e.memoizedState=r},useHostTransitionStatus:_u,useFormState:ym,useActionState:ym,useOptimistic:function(e){var r=Yt();r.memoizedState=r.baseState=e;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=l,r=Lu.bind(null,_e,!0,l),l.dispatch=r,[e,r]},useMemoCache:Mu,useCacheRefresh:function(){return Yt().memoizedState=Bv.bind(null,_e)}},Vm={readContext:Ot,use:oo,useCallback:Dm,useContext:Ot,useEffect:Cm,useImperativeHandle:wm,useInsertionEffect:Em,useLayoutEffect:Mm,useMemo:km,useReducer:so,useRef:Tm,useState:function(){return so(Wn)},useDebugValue:Nu,useDeferredValue:function(e,r){var l=yt();return Nm(l,Qe.memoizedState,e,r)},useTransition:function(){var e=so(Wn)[0],r=yt().memoizedState;return[typeof e=="boolean"?e:Ba(e),r]},useSyncExternalStore:am,useId:Lm,useHostTransitionStatus:_u,useFormState:xm,useActionState:xm,useOptimistic:function(e,r){var l=yt();return fm(l,Qe,e,r)},useMemoCache:Mu,useCacheRefresh:Om},zv={readContext:Ot,use:oo,useCallback:Dm,useContext:Ot,useEffect:Cm,useImperativeHandle:wm,useInsertionEffect:Em,useLayoutEffect:Mm,useMemo:km,useReducer:wu,useRef:Tm,useState:function(){return wu(Wn)},useDebugValue:Nu,useDeferredValue:function(e,r){var l=yt();return Qe===null?Ru(l,e,r):Nm(l,Qe.memoizedState,e,r)},useTransition:function(){var e=wu(Wn)[0],r=yt().memoizedState;return[typeof e=="boolean"?e:Ba(e),r]},useSyncExternalStore:am,useId:Lm,useHostTransitionStatus:_u,useFormState:bm,useActionState:bm,useOptimistic:function(e,r){var l=yt();return Qe!==null?fm(l,Qe,e,r):(l.baseState=e,[e,l.queue.dispatch])},useMemoCache:Mu,useCacheRefresh:Om},zr=null,Va=0;function po(e){var r=Va;return Va+=1,zr===null&&(zr=[]),Jd(zr,e,r)}function ja(e,r){r=r.props.ref,e.ref=r!==void 0?r:null}function ho(e,r){throw r.$$typeof===b?Error(a(525)):(e=Object.prototype.toString.call(r),Error(a(31,e==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":e)))}function jm(e){var r=e._init;return r(e._payload)}function Um(e){function r(z,P){if(e){var H=z.deletions;H===null?(z.deletions=[P],z.flags|=16):H.push(P)}}function l(z,P){if(!e)return null;for(;P!==null;)r(z,P),P=P.sibling;return null}function s(z){for(var P=new Map;z!==null;)z.key!==null?P.set(z.key,z):P.set(z.index,z),z=z.sibling;return P}function m(z,P){return z=Kn(z,P),z.index=0,z.sibling=null,z}function x(z,P,H){return z.index=H,e?(H=z.alternate,H!==null?(H=H.index,H<P?(z.flags|=67108866,P):H):(z.flags|=67108866,P)):(z.flags|=1048576,P)}function E(z){return e&&z.alternate===null&&(z.flags|=67108866),z}function M(z,P,H,re){return P===null||P.tag!==6?(P=tu(H,z.mode,re),P.return=z,P):(P=m(P,H),P.return=z,P)}function R(z,P,H,re){var xe=H.type;return xe===w?ee(z,P,H.props.children,re,H.key):P!==null&&(P.elementType===xe||typeof xe=="object"&&xe!==null&&xe.$$typeof===ae&&jm(xe)===P.type)?(P=m(P,H.props),ja(P,H),P.return=z,P):(P=Ql(H.type,H.key,H.props,null,z.mode,re),ja(P,H),P.return=z,P)}function G(z,P,H,re){return P===null||P.tag!==4||P.stateNode.containerInfo!==H.containerInfo||P.stateNode.implementation!==H.implementation?(P=nu(H,z.mode,re),P.return=z,P):(P=m(P,H.children||[]),P.return=z,P)}function ee(z,P,H,re,xe){return P===null||P.tag!==7?(P=Xi(H,z.mode,re,xe),P.return=z,P):(P=m(P,H),P.return=z,P)}function le(z,P,H){if(typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint")return P=tu(""+P,z.mode,H),P.return=z,P;if(typeof P=="object"&&P!==null){switch(P.$$typeof){case T:return H=Ql(P.type,P.key,P.props,null,z.mode,H),ja(H,P),H.return=z,H;case C:return P=nu(P,z.mode,H),P.return=z,P;case ae:var re=P._init;return P=re(P._payload),le(z,P,H)}if(me(P)||de(P))return P=Xi(P,z.mode,H,null),P.return=z,P;if(typeof P.then=="function")return le(z,po(P),H);if(P.$$typeof===j)return le(z,eo(z,P),H);ho(z,P)}return null}function K(z,P,H,re){var xe=P!==null?P.key:null;if(typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint")return xe!==null?null:M(z,P,""+H,re);if(typeof H=="object"&&H!==null){switch(H.$$typeof){case T:return H.key===xe?R(z,P,H,re):null;case C:return H.key===xe?G(z,P,H,re):null;case ae:return xe=H._init,H=xe(H._payload),K(z,P,H,re)}if(me(H)||de(H))return xe!==null?null:ee(z,P,H,re,null);if(typeof H.then=="function")return K(z,P,po(H),re);if(H.$$typeof===j)return K(z,P,eo(z,H),re);ho(z,H)}return null}function $(z,P,H,re,xe){if(typeof re=="string"&&re!==""||typeof re=="number"||typeof re=="bigint")return z=z.get(H)||null,M(P,z,""+re,xe);if(typeof re=="object"&&re!==null){switch(re.$$typeof){case T:return z=z.get(re.key===null?H:re.key)||null,R(P,z,re,xe);case C:return z=z.get(re.key===null?H:re.key)||null,G(P,z,re,xe);case ae:var Le=re._init;return re=Le(re._payload),$(z,P,H,re,xe)}if(me(re)||de(re))return z=z.get(H)||null,ee(P,z,re,xe,null);if(typeof re.then=="function")return $(z,P,H,po(re),xe);if(re.$$typeof===j)return $(z,P,H,eo(P,re),xe);ho(P,re)}return null}function De(z,P,H,re){for(var xe=null,Le=null,be=P,Ae=P=0,At=null;be!==null&&Ae<H.length;Ae++){be.index>Ae?(At=be,be=null):At=be.sibling;var He=K(z,be,H[Ae],re);if(He===null){be===null&&(be=At);break}e&&be&&He.alternate===null&&r(z,be),P=x(He,P,Ae),Le===null?xe=He:Le.sibling=He,Le=He,be=At}if(Ae===H.length)return l(z,be),Ye&&Ji(z,Ae),xe;if(be===null){for(;Ae<H.length;Ae++)be=le(z,H[Ae],re),be!==null&&(P=x(be,P,Ae),Le===null?xe=be:Le.sibling=be,Le=be);return Ye&&Ji(z,Ae),xe}for(be=s(be);Ae<H.length;Ae++)At=$(be,z,Ae,H[Ae],re),At!==null&&(e&&At.alternate!==null&&be.delete(At.key===null?Ae:At.key),P=x(At,P,Ae),Le===null?xe=At:Le.sibling=At,Le=At);return e&&be.forEach(function(Ri){return r(z,Ri)}),Ye&&Ji(z,Ae),xe}function Me(z,P,H,re){if(H==null)throw Error(a(151));for(var xe=null,Le=null,be=P,Ae=P=0,At=null,He=H.next();be!==null&&!He.done;Ae++,He=H.next()){be.index>Ae?(At=be,be=null):At=be.sibling;var Ri=K(z,be,He.value,re);if(Ri===null){be===null&&(be=At);break}e&&be&&Ri.alternate===null&&r(z,be),P=x(Ri,P,Ae),Le===null?xe=Ri:Le.sibling=Ri,Le=Ri,be=At}if(He.done)return l(z,be),Ye&&Ji(z,Ae),xe;if(be===null){for(;!He.done;Ae++,He=H.next())He=le(z,He.value,re),He!==null&&(P=x(He,P,Ae),Le===null?xe=He:Le.sibling=He,Le=He);return Ye&&Ji(z,Ae),xe}for(be=s(be);!He.done;Ae++,He=H.next())He=$(be,z,Ae,He.value,re),He!==null&&(e&&He.alternate!==null&&be.delete(He.key===null?Ae:He.key),P=x(He,P,Ae),Le===null?xe=He:Le.sibling=He,Le=He);return e&&be.forEach(function(Vb){return r(z,Vb)}),Ye&&Ji(z,Ae),xe}function We(z,P,H,re){if(typeof H=="object"&&H!==null&&H.type===w&&H.key===null&&(H=H.props.children),typeof H=="object"&&H!==null){switch(H.$$typeof){case T:e:{for(var xe=H.key;P!==null;){if(P.key===xe){if(xe=H.type,xe===w){if(P.tag===7){l(z,P.sibling),re=m(P,H.props.children),re.return=z,z=re;break e}}else if(P.elementType===xe||typeof xe=="object"&&xe!==null&&xe.$$typeof===ae&&jm(xe)===P.type){l(z,P.sibling),re=m(P,H.props),ja(re,H),re.return=z,z=re;break e}l(z,P);break}else r(z,P);P=P.sibling}H.type===w?(re=Xi(H.props.children,z.mode,re,H.key),re.return=z,z=re):(re=Ql(H.type,H.key,H.props,null,z.mode,re),ja(re,H),re.return=z,z=re)}return E(z);case C:e:{for(xe=H.key;P!==null;){if(P.key===xe)if(P.tag===4&&P.stateNode.containerInfo===H.containerInfo&&P.stateNode.implementation===H.implementation){l(z,P.sibling),re=m(P,H.children||[]),re.return=z,z=re;break e}else{l(z,P);break}else r(z,P);P=P.sibling}re=nu(H,z.mode,re),re.return=z,z=re}return E(z);case ae:return xe=H._init,H=xe(H._payload),We(z,P,H,re)}if(me(H))return De(z,P,H,re);if(de(H)){if(xe=de(H),typeof xe!="function")throw Error(a(150));return H=xe.call(H),Me(z,P,H,re)}if(typeof H.then=="function")return We(z,P,po(H),re);if(H.$$typeof===j)return We(z,P,eo(z,H),re);ho(z,H)}return typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint"?(H=""+H,P!==null&&P.tag===6?(l(z,P.sibling),re=m(P,H),re.return=z,z=re):(l(z,P),re=tu(H,z.mode,re),re.return=z,z=re),E(z)):l(z,P)}return function(z,P,H,re){try{Va=0;var xe=We(z,P,H,re);return zr=null,xe}catch(be){if(be===Ra||be===no)throw be;var Le=nn(29,be,null,z.mode);return Le.lanes=re,Le.return=z,Le}finally{}}}var Vr=Um(!0),Hm=Um(!1),xn=O(null),On=null;function gi(e){var r=e.alternate;A(Tt,Tt.current&1),A(xn,e),On===null&&(r===null||Or.current!==null||r.memoizedState!==null)&&(On=e)}function Gm(e){if(e.tag===22){if(A(Tt,Tt.current),A(xn,e),On===null){var r=e.alternate;r!==null&&r.memoizedState!==null&&(On=e)}}else yi()}function yi(){A(Tt,Tt.current),A(xn,xn.current)}function Zn(e){V(xn),On===e&&(On=null),V(Tt)}var Tt=O(0);function go(e){for(var r=e;r!==null;){if(r.tag===13){var l=r.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||Ec(l)))return r}else if(r.tag===19&&r.memoizedProps.revealOrder!==void 0){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}function Ou(e,r,l,s){r=e.memoizedState,l=l(s,r),l=l==null?r:v({},r,l),e.memoizedState=l,e.lanes===0&&(e.updateQueue.baseState=l)}var Fu={enqueueSetState:function(e,r,l){e=e._reactInternals;var s=on(),m=mi(s);m.payload=r,l!=null&&(m.callback=l),r=pi(e,m,s),r!==null&&(sn(r,e,s),_a(r,e,s))},enqueueReplaceState:function(e,r,l){e=e._reactInternals;var s=on(),m=mi(s);m.tag=1,m.payload=r,l!=null&&(m.callback=l),r=pi(e,m,s),r!==null&&(sn(r,e,s),_a(r,e,s))},enqueueForceUpdate:function(e,r){e=e._reactInternals;var l=on(),s=mi(l);s.tag=2,r!=null&&(s.callback=r),r=pi(e,s,l),r!==null&&(sn(r,e,l),_a(r,e,l))}};function qm(e,r,l,s,m,x,E){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(s,x,E):r.prototype&&r.prototype.isPureReactComponent?!Ca(l,s)||!Ca(m,x):!0}function Ym(e,r,l,s){e=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(l,s),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(l,s),r.state!==e&&Fu.enqueueReplaceState(r,r.state,null)}function rr(e,r){var l=r;if("ref"in r){l={};for(var s in r)s!=="ref"&&(l[s]=r[s])}if(e=e.defaultProps){l===r&&(l=v({},l));for(var m in e)l[m]===void 0&&(l[m]=e[m])}return l}var yo=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function Km(e){yo(e)}function $m(e){console.error(e)}function Xm(e){yo(e)}function xo(e,r){try{var l=e.onUncaughtError;l(r.value,{componentStack:r.stack})}catch(s){setTimeout(function(){throw s})}}function Qm(e,r,l){try{var s=e.onCaughtError;s(l.value,{componentStack:l.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(m){setTimeout(function(){throw m})}}function Bu(e,r,l){return l=mi(l),l.tag=3,l.payload={element:null},l.callback=function(){xo(e,r)},l}function Jm(e){return e=mi(e),e.tag=3,e}function Wm(e,r,l,s){var m=l.type.getDerivedStateFromError;if(typeof m=="function"){var x=s.value;e.payload=function(){return m(x)},e.callback=function(){Qm(r,l,s)}}var E=l.stateNode;E!==null&&typeof E.componentDidCatch=="function"&&(e.callback=function(){Qm(r,l,s),typeof m!="function"&&(Ci===null?Ci=new Set([this]):Ci.add(this));var M=s.stack;this.componentDidCatch(s.value,{componentStack:M!==null?M:""})})}function Vv(e,r,l,s,m){if(l.flags|=32768,s!==null&&typeof s=="object"&&typeof s.then=="function"){if(r=l.alternate,r!==null&&Da(r,l,m,!0),l=xn.current,l!==null){switch(l.tag){case 13:return On===null?oc():l.alternate===null&&ut===0&&(ut=3),l.flags&=-257,l.flags|=65536,l.lanes=m,s===du?l.flags|=16384:(r=l.updateQueue,r===null?l.updateQueue=new Set([s]):r.add(s),uc(e,s,m)),!1;case 22:return l.flags|=65536,s===du?l.flags|=16384:(r=l.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([s])},l.updateQueue=r):(l=r.retryQueue,l===null?r.retryQueue=new Set([s]):l.add(s)),uc(e,s,m)),!1}throw Error(a(435,l.tag))}return uc(e,s,m),oc(),!1}if(Ye)return r=xn.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=m,s!==au&&(e=Error(a(422),{cause:s}),wa(pn(e,l)))):(s!==au&&(r=Error(a(423),{cause:s}),wa(pn(r,l))),e=e.current.alternate,e.flags|=65536,m&=-m,e.lanes|=m,s=pn(s,l),m=Bu(e.stateNode,s,m),hu(e,m),ut!==4&&(ut=2)),!1;var x=Error(a(520),{cause:s});if(x=pn(x,l),$a===null?$a=[x]:$a.push(x),ut!==4&&(ut=2),r===null)return!0;s=pn(s,l),l=r;do{switch(l.tag){case 3:return l.flags|=65536,e=m&-m,l.lanes|=e,e=Bu(l.stateNode,s,e),hu(l,e),!1;case 1:if(r=l.type,x=l.stateNode,(l.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(Ci===null||!Ci.has(x))))return l.flags|=65536,m&=-m,l.lanes|=m,m=Jm(m),Wm(m,e,l,s),hu(l,m),!1}l=l.return}while(l!==null);return!1}var Zm=Error(a(461)),Et=!1;function wt(e,r,l,s){r.child=e===null?Hm(r,null,l,s):Vr(r,e.child,l,s)}function ep(e,r,l,s,m){l=l.render;var x=r.ref;if("ref"in s){var E={};for(var M in s)M!=="ref"&&(E[M]=s[M])}else E=s;return tr(r),s=bu(e,r,l,E,x,m),M=Tu(),e!==null&&!Et?(Su(e,r,m),ei(e,r,m)):(Ye&&M&&iu(r),r.flags|=1,wt(e,r,s,m),r.child)}function tp(e,r,l,s,m){if(e===null){var x=l.type;return typeof x=="function"&&!eu(x)&&x.defaultProps===void 0&&l.compare===null?(r.tag=15,r.type=x,np(e,r,x,s,m)):(e=Ql(l.type,null,s,r,r.mode,m),e.ref=r.ref,e.return=r,r.child=e)}if(x=e.child,!qu(e,m)){var E=x.memoizedProps;if(l=l.compare,l=l!==null?l:Ca,l(E,s)&&e.ref===r.ref)return ei(e,r,m)}return r.flags|=1,e=Kn(x,s),e.ref=r.ref,e.return=r,r.child=e}function np(e,r,l,s,m){if(e!==null){var x=e.memoizedProps;if(Ca(x,s)&&e.ref===r.ref)if(Et=!1,r.pendingProps=s=x,qu(e,m))(e.flags&131072)!==0&&(Et=!0);else return r.lanes=e.lanes,ei(e,r,m)}return Pu(e,r,l,s,m)}function ip(e,r,l){var s=r.pendingProps,m=s.children,x=e!==null?e.memoizedState:null;if(s.mode==="hidden"){if((r.flags&128)!==0){if(s=x!==null?x.baseLanes|l:l,e!==null){for(m=r.child=e.child,x=0;m!==null;)x=x|m.lanes|m.childLanes,m=m.sibling;r.childLanes=x&~s}else r.childLanes=0,r.child=null;return rp(e,r,s,l)}if((l&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},e!==null&&to(r,x!==null?x.cachePool:null),x!==null?nm(r,x):yu(),Gm(r);else return r.lanes=r.childLanes=536870912,rp(e,r,x!==null?x.baseLanes|l:l,l)}else x!==null?(to(r,x.cachePool),nm(r,x),yi(),r.memoizedState=null):(e!==null&&to(r,null),yu(),yi());return wt(e,r,m,l),r.child}function rp(e,r,l,s){var m=fu();return m=m===null?null:{parent:bt._currentValue,pool:m},r.memoizedState={baseLanes:l,cachePool:m},e!==null&&to(r,null),yu(),Gm(r),e!==null&&Da(e,r,s,!0),null}function vo(e,r){var l=r.ref;if(l===null)e!==null&&e.ref!==null&&(r.flags|=4194816);else{if(typeof l!="function"&&typeof l!="object")throw Error(a(284));(e===null||e.ref!==l)&&(r.flags|=4194816)}}function Pu(e,r,l,s,m){return tr(r),l=bu(e,r,l,s,void 0,m),s=Tu(),e!==null&&!Et?(Su(e,r,m),ei(e,r,m)):(Ye&&s&&iu(r),r.flags|=1,wt(e,r,l,m),r.child)}function ap(e,r,l,s,m,x){return tr(r),r.updateQueue=null,l=rm(r,s,l,m),im(e),s=Tu(),e!==null&&!Et?(Su(e,r,x),ei(e,r,x)):(Ye&&s&&iu(r),r.flags|=1,wt(e,r,l,x),r.child)}function lp(e,r,l,s,m){if(tr(r),r.stateNode===null){var x=Nr,E=l.contextType;typeof E=="object"&&E!==null&&(x=Ot(E)),x=new l(s,x),r.memoizedState=x.state!==null&&x.state!==void 0?x.state:null,x.updater=Fu,r.stateNode=x,x._reactInternals=r,x=r.stateNode,x.props=s,x.state=r.memoizedState,x.refs={},mu(r),E=l.contextType,x.context=typeof E=="object"&&E!==null?Ot(E):Nr,x.state=r.memoizedState,E=l.getDerivedStateFromProps,typeof E=="function"&&(Ou(r,l,E,s),x.state=r.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof x.getSnapshotBeforeUpdate=="function"||typeof x.UNSAFE_componentWillMount!="function"&&typeof x.componentWillMount!="function"||(E=x.state,typeof x.componentWillMount=="function"&&x.componentWillMount(),typeof x.UNSAFE_componentWillMount=="function"&&x.UNSAFE_componentWillMount(),E!==x.state&&Fu.enqueueReplaceState(x,x.state,null),Oa(r,s,x,m),La(),x.state=r.memoizedState),typeof x.componentDidMount=="function"&&(r.flags|=4194308),s=!0}else if(e===null){x=r.stateNode;var M=r.memoizedProps,R=rr(l,M);x.props=R;var G=x.context,ee=l.contextType;E=Nr,typeof ee=="object"&&ee!==null&&(E=Ot(ee));var le=l.getDerivedStateFromProps;ee=typeof le=="function"||typeof x.getSnapshotBeforeUpdate=="function",M=r.pendingProps!==M,ee||typeof x.UNSAFE_componentWillReceiveProps!="function"&&typeof x.componentWillReceiveProps!="function"||(M||G!==E)&&Ym(r,x,s,E),di=!1;var K=r.memoizedState;x.state=K,Oa(r,s,x,m),La(),G=r.memoizedState,M||K!==G||di?(typeof le=="function"&&(Ou(r,l,le,s),G=r.memoizedState),(R=di||qm(r,l,R,s,K,G,E))?(ee||typeof x.UNSAFE_componentWillMount!="function"&&typeof x.componentWillMount!="function"||(typeof x.componentWillMount=="function"&&x.componentWillMount(),typeof x.UNSAFE_componentWillMount=="function"&&x.UNSAFE_componentWillMount()),typeof x.componentDidMount=="function"&&(r.flags|=4194308)):(typeof x.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=s,r.memoizedState=G),x.props=s,x.state=G,x.context=E,s=R):(typeof x.componentDidMount=="function"&&(r.flags|=4194308),s=!1)}else{x=r.stateNode,pu(e,r),E=r.memoizedProps,ee=rr(l,E),x.props=ee,le=r.pendingProps,K=x.context,G=l.contextType,R=Nr,typeof G=="object"&&G!==null&&(R=Ot(G)),M=l.getDerivedStateFromProps,(G=typeof M=="function"||typeof x.getSnapshotBeforeUpdate=="function")||typeof x.UNSAFE_componentWillReceiveProps!="function"&&typeof x.componentWillReceiveProps!="function"||(E!==le||K!==R)&&Ym(r,x,s,R),di=!1,K=r.memoizedState,x.state=K,Oa(r,s,x,m),La();var $=r.memoizedState;E!==le||K!==$||di||e!==null&&e.dependencies!==null&&Zl(e.dependencies)?(typeof M=="function"&&(Ou(r,l,M,s),$=r.memoizedState),(ee=di||qm(r,l,ee,s,K,$,R)||e!==null&&e.dependencies!==null&&Zl(e.dependencies))?(G||typeof x.UNSAFE_componentWillUpdate!="function"&&typeof x.componentWillUpdate!="function"||(typeof x.componentWillUpdate=="function"&&x.componentWillUpdate(s,$,R),typeof x.UNSAFE_componentWillUpdate=="function"&&x.UNSAFE_componentWillUpdate(s,$,R)),typeof x.componentDidUpdate=="function"&&(r.flags|=4),typeof x.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof x.componentDidUpdate!="function"||E===e.memoizedProps&&K===e.memoizedState||(r.flags|=4),typeof x.getSnapshotBeforeUpdate!="function"||E===e.memoizedProps&&K===e.memoizedState||(r.flags|=1024),r.memoizedProps=s,r.memoizedState=$),x.props=s,x.state=$,x.context=R,s=ee):(typeof x.componentDidUpdate!="function"||E===e.memoizedProps&&K===e.memoizedState||(r.flags|=4),typeof x.getSnapshotBeforeUpdate!="function"||E===e.memoizedProps&&K===e.memoizedState||(r.flags|=1024),s=!1)}return x=s,vo(e,r),s=(r.flags&128)!==0,x||s?(x=r.stateNode,l=s&&typeof l.getDerivedStateFromError!="function"?null:x.render(),r.flags|=1,e!==null&&s?(r.child=Vr(r,e.child,null,m),r.child=Vr(r,null,l,m)):wt(e,r,l,m),r.memoizedState=x.state,e=r.child):e=ei(e,r,m),e}function op(e,r,l,s){return Aa(),r.flags|=256,wt(e,r,l,s),r.child}var zu={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Vu(e){return{baseLanes:e,cachePool:$d()}}function ju(e,r,l){return e=e!==null?e.childLanes&~l:0,r&&(e|=vn),e}function sp(e,r,l){var s=r.pendingProps,m=!1,x=(r.flags&128)!==0,E;if((E=x)||(E=e!==null&&e.memoizedState===null?!1:(Tt.current&2)!==0),E&&(m=!0,r.flags&=-129),E=(r.flags&32)!==0,r.flags&=-33,e===null){if(Ye){if(m?gi(r):yi(),Ye){var M=st,R;if(R=M){e:{for(R=M,M=Ln;R.nodeType!==8;){if(!M){M=null;break e}if(R=kn(R.nextSibling),R===null){M=null;break e}}M=R}M!==null?(r.memoizedState={dehydrated:M,treeContext:Qi!==null?{id:$n,overflow:Xn}:null,retryLane:536870912,hydrationErrors:null},R=nn(18,null,null,0),R.stateNode=M,R.return=r,r.child=R,jt=r,st=null,R=!0):R=!1}R||Zi(r)}if(M=r.memoizedState,M!==null&&(M=M.dehydrated,M!==null))return Ec(M)?r.lanes=32:r.lanes=536870912,null;Zn(r)}return M=s.children,s=s.fallback,m?(yi(),m=r.mode,M=bo({mode:"hidden",children:M},m),s=Xi(s,m,l,null),M.return=r,s.return=r,M.sibling=s,r.child=M,m=r.child,m.memoizedState=Vu(l),m.childLanes=ju(e,E,l),r.memoizedState=zu,s):(gi(r),Uu(r,M))}if(R=e.memoizedState,R!==null&&(M=R.dehydrated,M!==null)){if(x)r.flags&256?(gi(r),r.flags&=-257,r=Hu(e,r,l)):r.memoizedState!==null?(yi(),r.child=e.child,r.flags|=128,r=null):(yi(),m=s.fallback,M=r.mode,s=bo({mode:"visible",children:s.children},M),m=Xi(m,M,l,null),m.flags|=2,s.return=r,m.return=r,s.sibling=m,r.child=s,Vr(r,e.child,null,l),s=r.child,s.memoizedState=Vu(l),s.childLanes=ju(e,E,l),r.memoizedState=zu,r=m);else if(gi(r),Ec(M)){if(E=M.nextSibling&&M.nextSibling.dataset,E)var G=E.dgst;E=G,s=Error(a(419)),s.stack="",s.digest=E,wa({value:s,source:null,stack:null}),r=Hu(e,r,l)}else if(Et||Da(e,r,l,!1),E=(l&e.childLanes)!==0,Et||E){if(E=nt,E!==null&&(s=l&-l,s=(s&42)!==0?1:_t(s),s=(s&(E.suspendedLanes|l))!==0?0:s,s!==0&&s!==R.retryLane))throw R.retryLane=s,kr(e,s),sn(E,e,s),Zm;M.data==="$?"||oc(),r=Hu(e,r,l)}else M.data==="$?"?(r.flags|=192,r.child=e.child,r=null):(e=R.treeContext,st=kn(M.nextSibling),jt=r,Ye=!0,Wi=null,Ln=!1,e!==null&&(gn[yn++]=$n,gn[yn++]=Xn,gn[yn++]=Qi,$n=e.id,Xn=e.overflow,Qi=r),r=Uu(r,s.children),r.flags|=4096);return r}return m?(yi(),m=s.fallback,M=r.mode,R=e.child,G=R.sibling,s=Kn(R,{mode:"hidden",children:s.children}),s.subtreeFlags=R.subtreeFlags&65011712,G!==null?m=Kn(G,m):(m=Xi(m,M,l,null),m.flags|=2),m.return=r,s.return=r,s.sibling=m,r.child=s,s=m,m=r.child,M=e.child.memoizedState,M===null?M=Vu(l):(R=M.cachePool,R!==null?(G=bt._currentValue,R=R.parent!==G?{parent:G,pool:G}:R):R=$d(),M={baseLanes:M.baseLanes|l,cachePool:R}),m.memoizedState=M,m.childLanes=ju(e,E,l),r.memoizedState=zu,s):(gi(r),l=e.child,e=l.sibling,l=Kn(l,{mode:"visible",children:s.children}),l.return=r,l.sibling=null,e!==null&&(E=r.deletions,E===null?(r.deletions=[e],r.flags|=16):E.push(e)),r.child=l,r.memoizedState=null,l)}function Uu(e,r){return r=bo({mode:"visible",children:r},e.mode),r.return=e,e.child=r}function bo(e,r){return e=nn(22,e,null,r),e.lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function Hu(e,r,l){return Vr(r,e.child,null,l),e=Uu(r,r.pendingProps.children),e.flags|=2,r.memoizedState=null,e}function up(e,r,l){e.lanes|=r;var s=e.alternate;s!==null&&(s.lanes|=r),ou(e.return,r,l)}function Gu(e,r,l,s,m){var x=e.memoizedState;x===null?e.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:s,tail:l,tailMode:m}:(x.isBackwards=r,x.rendering=null,x.renderingStartTime=0,x.last=s,x.tail=l,x.tailMode=m)}function cp(e,r,l){var s=r.pendingProps,m=s.revealOrder,x=s.tail;if(wt(e,r,s.children,l),s=Tt.current,(s&2)!==0)s=s&1|2,r.flags|=128;else{if(e!==null&&(e.flags&128)!==0)e:for(e=r.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&up(e,l,r);else if(e.tag===19)up(e,l,r);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===r)break e;for(;e.sibling===null;){if(e.return===null||e.return===r)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}s&=1}switch(A(Tt,s),m){case"forwards":for(l=r.child,m=null;l!==null;)e=l.alternate,e!==null&&go(e)===null&&(m=l),l=l.sibling;l=m,l===null?(m=r.child,r.child=null):(m=l.sibling,l.sibling=null),Gu(r,!1,m,l,x);break;case"backwards":for(l=null,m=r.child,r.child=null;m!==null;){if(e=m.alternate,e!==null&&go(e)===null){r.child=m;break}e=m.sibling,m.sibling=l,l=m,m=e}Gu(r,!0,l,null,x);break;case"together":Gu(r,!1,null,null,void 0);break;default:r.memoizedState=null}return r.child}function ei(e,r,l){if(e!==null&&(r.dependencies=e.dependencies),Si|=r.lanes,(l&r.childLanes)===0)if(e!==null){if(Da(e,r,l,!1),(l&r.childLanes)===0)return null}else return null;if(e!==null&&r.child!==e.child)throw Error(a(153));if(r.child!==null){for(e=r.child,l=Kn(e,e.pendingProps),r.child=l,l.return=r;e.sibling!==null;)e=e.sibling,l=l.sibling=Kn(e,e.pendingProps),l.return=r;l.sibling=null}return r.child}function qu(e,r){return(e.lanes&r)!==0?!0:(e=e.dependencies,!!(e!==null&&Zl(e)))}function jv(e,r,l){switch(r.tag){case 3:se(r,r.stateNode.containerInfo),fi(r,bt,e.memoizedState.cache),Aa();break;case 27:case 5:we(r);break;case 4:se(r,r.stateNode.containerInfo);break;case 10:fi(r,r.type,r.memoizedProps.value);break;case 13:var s=r.memoizedState;if(s!==null)return s.dehydrated!==null?(gi(r),r.flags|=128,null):(l&r.child.childLanes)!==0?sp(e,r,l):(gi(r),e=ei(e,r,l),e!==null?e.sibling:null);gi(r);break;case 19:var m=(e.flags&128)!==0;if(s=(l&r.childLanes)!==0,s||(Da(e,r,l,!1),s=(l&r.childLanes)!==0),m){if(s)return cp(e,r,l);r.flags|=128}if(m=r.memoizedState,m!==null&&(m.rendering=null,m.tail=null,m.lastEffect=null),A(Tt,Tt.current),s)break;return null;case 22:case 23:return r.lanes=0,ip(e,r,l);case 24:fi(r,bt,e.memoizedState.cache)}return ei(e,r,l)}function fp(e,r,l){if(e!==null)if(e.memoizedProps!==r.pendingProps)Et=!0;else{if(!qu(e,l)&&(r.flags&128)===0)return Et=!1,jv(e,r,l);Et=(e.flags&131072)!==0}else Et=!1,Ye&&(r.flags&1048576)!==0&&jd(r,Wl,r.index);switch(r.lanes=0,r.tag){case 16:e:{e=r.pendingProps;var s=r.elementType,m=s._init;if(s=m(s._payload),r.type=s,typeof s=="function")eu(s)?(e=rr(s,e),r.tag=1,r=lp(null,r,s,e,l)):(r.tag=0,r=Pu(null,r,s,e,l));else{if(s!=null){if(m=s.$$typeof,m===X){r.tag=11,r=ep(null,r,s,e,l);break e}else if(m===Q){r.tag=14,r=tp(null,r,s,e,l);break e}}throw r=oe(s)||s,Error(a(306,r,""))}}return r;case 0:return Pu(e,r,r.type,r.pendingProps,l);case 1:return s=r.type,m=rr(s,r.pendingProps),lp(e,r,s,m,l);case 3:e:{if(se(r,r.stateNode.containerInfo),e===null)throw Error(a(387));s=r.pendingProps;var x=r.memoizedState;m=x.element,pu(e,r),Oa(r,s,null,l);var E=r.memoizedState;if(s=E.cache,fi(r,bt,s),s!==x.cache&&su(r,[bt],l,!0),La(),s=E.element,x.isDehydrated)if(x={element:s,isDehydrated:!1,cache:E.cache},r.updateQueue.baseState=x,r.memoizedState=x,r.flags&256){r=op(e,r,s,l);break e}else if(s!==m){m=pn(Error(a(424)),r),wa(m),r=op(e,r,s,l);break e}else{switch(e=r.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(st=kn(e.firstChild),jt=r,Ye=!0,Wi=null,Ln=!0,l=Hm(r,null,s,l),r.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling}else{if(Aa(),s===m){r=ei(e,r,l);break e}wt(e,r,s,l)}r=r.child}return r;case 26:return vo(e,r),e===null?(l=hh(r.type,null,r.pendingProps,null))?r.memoizedState=l:Ye||(l=r.type,e=r.pendingProps,s=Lo(ie.current).createElement(l),s[Ct]=r,s[Lt]=e,kt(s,l,e),ht(s),r.stateNode=s):r.memoizedState=hh(r.type,e.memoizedProps,r.pendingProps,e.memoizedState),null;case 27:return we(r),e===null&&Ye&&(s=r.stateNode=dh(r.type,r.pendingProps,ie.current),jt=r,Ln=!0,m=st,Ai(r.type)?(Mc=m,st=kn(s.firstChild)):st=m),wt(e,r,r.pendingProps.children,l),vo(e,r),e===null&&(r.flags|=4194304),r.child;case 5:return e===null&&Ye&&((m=s=st)&&(s=hb(s,r.type,r.pendingProps,Ln),s!==null?(r.stateNode=s,jt=r,st=kn(s.firstChild),Ln=!1,m=!0):m=!1),m||Zi(r)),we(r),m=r.type,x=r.pendingProps,E=e!==null?e.memoizedProps:null,s=x.children,Tc(m,x)?s=null:E!==null&&Tc(m,E)&&(r.flags|=32),r.memoizedState!==null&&(m=bu(e,r,_v,null,null,l),il._currentValue=m),vo(e,r),wt(e,r,s,l),r.child;case 6:return e===null&&Ye&&((e=l=st)&&(l=gb(l,r.pendingProps,Ln),l!==null?(r.stateNode=l,jt=r,st=null,e=!0):e=!1),e||Zi(r)),null;case 13:return sp(e,r,l);case 4:return se(r,r.stateNode.containerInfo),s=r.pendingProps,e===null?r.child=Vr(r,null,s,l):wt(e,r,s,l),r.child;case 11:return ep(e,r,r.type,r.pendingProps,l);case 7:return wt(e,r,r.pendingProps,l),r.child;case 8:return wt(e,r,r.pendingProps.children,l),r.child;case 12:return wt(e,r,r.pendingProps.children,l),r.child;case 10:return s=r.pendingProps,fi(r,r.type,s.value),wt(e,r,s.children,l),r.child;case 9:return m=r.type._context,s=r.pendingProps.children,tr(r),m=Ot(m),s=s(m),r.flags|=1,wt(e,r,s,l),r.child;case 14:return tp(e,r,r.type,r.pendingProps,l);case 15:return np(e,r,r.type,r.pendingProps,l);case 19:return cp(e,r,l);case 31:return s=r.pendingProps,l=r.mode,s={mode:s.mode,children:s.children},e===null?(l=bo(s,l),l.ref=r.ref,r.child=l,l.return=r,r=l):(l=Kn(e.child,s),l.ref=r.ref,r.child=l,l.return=r,r=l),r;case 22:return ip(e,r,l);case 24:return tr(r),s=Ot(bt),e===null?(m=fu(),m===null&&(m=nt,x=uu(),m.pooledCache=x,x.refCount++,x!==null&&(m.pooledCacheLanes|=l),m=x),r.memoizedState={parent:s,cache:m},mu(r),fi(r,bt,m)):((e.lanes&l)!==0&&(pu(e,r),Oa(r,null,null,l),La()),m=e.memoizedState,x=r.memoizedState,m.parent!==s?(m={parent:s,cache:s},r.memoizedState=m,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=m),fi(r,bt,s)):(s=x.cache,fi(r,bt,s),s!==m.cache&&su(r,[bt],l,!0))),wt(e,r,r.pendingProps.children,l),r.child;case 29:throw r.pendingProps}throw Error(a(156,r.tag))}function ti(e){e.flags|=4}function dp(e,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!bh(r)){if(r=xn.current,r!==null&&((je&4194048)===je?On!==null:(je&62914560)!==je&&(je&536870912)===0||r!==On))throw Ia=du,Xd;e.flags|=8192}}function To(e,r){r!==null&&(e.flags|=4),e.flags&16384&&(r=e.tag!==22?fa():536870912,e.lanes|=r,Gr|=r)}function Ua(e,r){if(!Ye)switch(e.tailMode){case"hidden":r=e.tail;for(var l=null;r!==null;)r.alternate!==null&&(l=r),r=r.sibling;l===null?e.tail=null:l.sibling=null;break;case"collapsed":l=e.tail;for(var s=null;l!==null;)l.alternate!==null&&(s=l),l=l.sibling;s===null?r||e.tail===null?e.tail=null:e.tail.sibling=null:s.sibling=null}}function ot(e){var r=e.alternate!==null&&e.alternate.child===e.child,l=0,s=0;if(r)for(var m=e.child;m!==null;)l|=m.lanes|m.childLanes,s|=m.subtreeFlags&65011712,s|=m.flags&65011712,m.return=e,m=m.sibling;else for(m=e.child;m!==null;)l|=m.lanes|m.childLanes,s|=m.subtreeFlags,s|=m.flags,m.return=e,m=m.sibling;return e.subtreeFlags|=s,e.childLanes=l,r}function Uv(e,r,l){var s=r.pendingProps;switch(ru(r),r.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ot(r),null;case 1:return ot(r),null;case 3:return l=r.stateNode,s=null,e!==null&&(s=e.memoizedState.cache),r.memoizedState.cache!==s&&(r.flags|=2048),Jn(bt),Se(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(e===null||e.child===null)&&(Ma(r)?ti(r):e===null||e.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,Gd())),ot(r),null;case 26:return l=r.memoizedState,e===null?(ti(r),l!==null?(ot(r),dp(r,l)):(ot(r),r.flags&=-16777217)):l?l!==e.memoizedState?(ti(r),ot(r),dp(r,l)):(ot(r),r.flags&=-16777217):(e.memoizedProps!==s&&ti(r),ot(r),r.flags&=-16777217),null;case 27:Ie(r),l=ie.current;var m=r.type;if(e!==null&&r.stateNode!=null)e.memoizedProps!==s&&ti(r);else{if(!s){if(r.stateNode===null)throw Error(a(166));return ot(r),null}e=ne.current,Ma(r)?Ud(r):(e=dh(m,s,l),r.stateNode=e,ti(r))}return ot(r),null;case 5:if(Ie(r),l=r.type,e!==null&&r.stateNode!=null)e.memoizedProps!==s&&ti(r);else{if(!s){if(r.stateNode===null)throw Error(a(166));return ot(r),null}if(e=ne.current,Ma(r))Ud(r);else{switch(m=Lo(ie.current),e){case 1:e=m.createElementNS("http://www.w3.org/2000/svg",l);break;case 2:e=m.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;default:switch(l){case"svg":e=m.createElementNS("http://www.w3.org/2000/svg",l);break;case"math":e=m.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;case"script":e=m.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e=typeof s.is=="string"?m.createElement("select",{is:s.is}):m.createElement("select"),s.multiple?e.multiple=!0:s.size&&(e.size=s.size);break;default:e=typeof s.is=="string"?m.createElement(l,{is:s.is}):m.createElement(l)}}e[Ct]=r,e[Lt]=s;e:for(m=r.child;m!==null;){if(m.tag===5||m.tag===6)e.appendChild(m.stateNode);else if(m.tag!==4&&m.tag!==27&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===r)break e;for(;m.sibling===null;){if(m.return===null||m.return===r)break e;m=m.return}m.sibling.return=m.return,m=m.sibling}r.stateNode=e;e:switch(kt(e,l,s),l){case"button":case"input":case"select":case"textarea":e=!!s.autoFocus;break e;case"img":e=!0;break e;default:e=!1}e&&ti(r)}}return ot(r),r.flags&=-16777217,null;case 6:if(e&&r.stateNode!=null)e.memoizedProps!==s&&ti(r);else{if(typeof s!="string"&&r.stateNode===null)throw Error(a(166));if(e=ie.current,Ma(r)){if(e=r.stateNode,l=r.memoizedProps,s=null,m=jt,m!==null)switch(m.tag){case 27:case 5:s=m.memoizedProps}e[Ct]=r,e=!!(e.nodeValue===l||s!==null&&s.suppressHydrationWarning===!0||ah(e.nodeValue,l)),e||Zi(r)}else e=Lo(e).createTextNode(s),e[Ct]=r,r.stateNode=e}return ot(r),null;case 13:if(s=r.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(m=Ma(r),s!==null&&s.dehydrated!==null){if(e===null){if(!m)throw Error(a(318));if(m=r.memoizedState,m=m!==null?m.dehydrated:null,!m)throw Error(a(317));m[Ct]=r}else Aa(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;ot(r),m=!1}else m=Gd(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=m),m=!0;if(!m)return r.flags&256?(Zn(r),r):(Zn(r),null)}if(Zn(r),(r.flags&128)!==0)return r.lanes=l,r;if(l=s!==null,e=e!==null&&e.memoizedState!==null,l){s=r.child,m=null,s.alternate!==null&&s.alternate.memoizedState!==null&&s.alternate.memoizedState.cachePool!==null&&(m=s.alternate.memoizedState.cachePool.pool);var x=null;s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(x=s.memoizedState.cachePool.pool),x!==m&&(s.flags|=2048)}return l!==e&&l&&(r.child.flags|=8192),To(r,r.updateQueue),ot(r),null;case 4:return Se(),e===null&&gc(r.stateNode.containerInfo),ot(r),null;case 10:return Jn(r.type),ot(r),null;case 19:if(V(Tt),m=r.memoizedState,m===null)return ot(r),null;if(s=(r.flags&128)!==0,x=m.rendering,x===null)if(s)Ua(m,!1);else{if(ut!==0||e!==null&&(e.flags&128)!==0)for(e=r.child;e!==null;){if(x=go(e),x!==null){for(r.flags|=128,Ua(m,!1),e=x.updateQueue,r.updateQueue=e,To(r,e),r.subtreeFlags=0,e=l,l=r.child;l!==null;)Vd(l,e),l=l.sibling;return A(Tt,Tt.current&1|2),r.child}e=e.sibling}m.tail!==null&&Nt()>Eo&&(r.flags|=128,s=!0,Ua(m,!1),r.lanes=4194304)}else{if(!s)if(e=go(x),e!==null){if(r.flags|=128,s=!0,e=e.updateQueue,r.updateQueue=e,To(r,e),Ua(m,!0),m.tail===null&&m.tailMode==="hidden"&&!x.alternate&&!Ye)return ot(r),null}else 2*Nt()-m.renderingStartTime>Eo&&l!==536870912&&(r.flags|=128,s=!0,Ua(m,!1),r.lanes=4194304);m.isBackwards?(x.sibling=r.child,r.child=x):(e=m.last,e!==null?e.sibling=x:r.child=x,m.last=x)}return m.tail!==null?(r=m.tail,m.rendering=r,m.tail=r.sibling,m.renderingStartTime=Nt(),r.sibling=null,e=Tt.current,A(Tt,s?e&1|2:e&1),r):(ot(r),null);case 22:case 23:return Zn(r),xu(),s=r.memoizedState!==null,e!==null?e.memoizedState!==null!==s&&(r.flags|=8192):s&&(r.flags|=8192),s?(l&536870912)!==0&&(r.flags&128)===0&&(ot(r),r.subtreeFlags&6&&(r.flags|=8192)):ot(r),l=r.updateQueue,l!==null&&To(r,l.retryQueue),l=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(l=e.memoizedState.cachePool.pool),s=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(s=r.memoizedState.cachePool.pool),s!==l&&(r.flags|=2048),e!==null&&V(nr),null;case 24:return l=null,e!==null&&(l=e.memoizedState.cache),r.memoizedState.cache!==l&&(r.flags|=2048),Jn(bt),ot(r),null;case 25:return null;case 30:return null}throw Error(a(156,r.tag))}function Hv(e,r){switch(ru(r),r.tag){case 1:return e=r.flags,e&65536?(r.flags=e&-65537|128,r):null;case 3:return Jn(bt),Se(),e=r.flags,(e&65536)!==0&&(e&128)===0?(r.flags=e&-65537|128,r):null;case 26:case 27:case 5:return Ie(r),null;case 13:if(Zn(r),e=r.memoizedState,e!==null&&e.dehydrated!==null){if(r.alternate===null)throw Error(a(340));Aa()}return e=r.flags,e&65536?(r.flags=e&-65537|128,r):null;case 19:return V(Tt),null;case 4:return Se(),null;case 10:return Jn(r.type),null;case 22:case 23:return Zn(r),xu(),e!==null&&V(nr),e=r.flags,e&65536?(r.flags=e&-65537|128,r):null;case 24:return Jn(bt),null;case 25:return null;default:return null}}function mp(e,r){switch(ru(r),r.tag){case 3:Jn(bt),Se();break;case 26:case 27:case 5:Ie(r);break;case 4:Se();break;case 13:Zn(r);break;case 19:V(Tt);break;case 10:Jn(r.type);break;case 22:case 23:Zn(r),xu(),e!==null&&V(nr);break;case 24:Jn(bt)}}function Ha(e,r){try{var l=r.updateQueue,s=l!==null?l.lastEffect:null;if(s!==null){var m=s.next;l=m;do{if((l.tag&e)===e){s=void 0;var x=l.create,E=l.inst;s=x(),E.destroy=s}l=l.next}while(l!==m)}}catch(M){Ze(r,r.return,M)}}function xi(e,r,l){try{var s=r.updateQueue,m=s!==null?s.lastEffect:null;if(m!==null){var x=m.next;s=x;do{if((s.tag&e)===e){var E=s.inst,M=E.destroy;if(M!==void 0){E.destroy=void 0,m=r;var R=l,G=M;try{G()}catch(ee){Ze(m,R,ee)}}}s=s.next}while(s!==x)}}catch(ee){Ze(r,r.return,ee)}}function pp(e){var r=e.updateQueue;if(r!==null){var l=e.stateNode;try{tm(r,l)}catch(s){Ze(e,e.return,s)}}}function hp(e,r,l){l.props=rr(e.type,e.memoizedProps),l.state=e.memoizedState;try{l.componentWillUnmount()}catch(s){Ze(e,r,s)}}function Ga(e,r){try{var l=e.ref;if(l!==null){switch(e.tag){case 26:case 27:case 5:var s=e.stateNode;break;case 30:s=e.stateNode;break;default:s=e.stateNode}typeof l=="function"?e.refCleanup=l(s):l.current=s}}catch(m){Ze(e,r,m)}}function Fn(e,r){var l=e.ref,s=e.refCleanup;if(l!==null)if(typeof s=="function")try{s()}catch(m){Ze(e,r,m)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(m){Ze(e,r,m)}else l.current=null}function gp(e){var r=e.type,l=e.memoizedProps,s=e.stateNode;try{e:switch(r){case"button":case"input":case"select":case"textarea":l.autoFocus&&s.focus();break e;case"img":l.src?s.src=l.src:l.srcSet&&(s.srcset=l.srcSet)}}catch(m){Ze(e,e.return,m)}}function Yu(e,r,l){try{var s=e.stateNode;cb(s,e.type,l,r),s[Lt]=r}catch(m){Ze(e,e.return,m)}}function yp(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Ai(e.type)||e.tag===4}function Ku(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||yp(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Ai(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function $u(e,r,l){var s=e.tag;if(s===5||s===6)e=e.stateNode,r?(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l).insertBefore(e,r):(r=l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,r.appendChild(e),l=l._reactRootContainer,l!=null||r.onclick!==null||(r.onclick=_o));else if(s!==4&&(s===27&&Ai(e.type)&&(l=e.stateNode,r=null),e=e.child,e!==null))for($u(e,r,l),e=e.sibling;e!==null;)$u(e,r,l),e=e.sibling}function So(e,r,l){var s=e.tag;if(s===5||s===6)e=e.stateNode,r?l.insertBefore(e,r):l.appendChild(e);else if(s!==4&&(s===27&&Ai(e.type)&&(l=e.stateNode),e=e.child,e!==null))for(So(e,r,l),e=e.sibling;e!==null;)So(e,r,l),e=e.sibling}function xp(e){var r=e.stateNode,l=e.memoizedProps;try{for(var s=e.type,m=r.attributes;m.length;)r.removeAttributeNode(m[0]);kt(r,s,l),r[Ct]=e,r[Lt]=l}catch(x){Ze(e,e.return,x)}}var ni=!1,mt=!1,Xu=!1,vp=typeof WeakSet=="function"?WeakSet:Set,Mt=null;function Gv(e,r){if(e=e.containerInfo,vc=Vo,e=Nd(e),Ks(e)){if("selectionStart"in e)var l={start:e.selectionStart,end:e.selectionEnd};else e:{l=(l=e.ownerDocument)&&l.defaultView||window;var s=l.getSelection&&l.getSelection();if(s&&s.rangeCount!==0){l=s.anchorNode;var m=s.anchorOffset,x=s.focusNode;s=s.focusOffset;try{l.nodeType,x.nodeType}catch{l=null;break e}var E=0,M=-1,R=-1,G=0,ee=0,le=e,K=null;t:for(;;){for(var $;le!==l||m!==0&&le.nodeType!==3||(M=E+m),le!==x||s!==0&&le.nodeType!==3||(R=E+s),le.nodeType===3&&(E+=le.nodeValue.length),($=le.firstChild)!==null;)K=le,le=$;for(;;){if(le===e)break t;if(K===l&&++G===m&&(M=E),K===x&&++ee===s&&(R=E),($=le.nextSibling)!==null)break;le=K,K=le.parentNode}le=$}l=M===-1||R===-1?null:{start:M,end:R}}else l=null}l=l||{start:0,end:0}}else l=null;for(bc={focusedElem:e,selectionRange:l},Vo=!1,Mt=r;Mt!==null;)if(r=Mt,e=r.child,(r.subtreeFlags&1024)!==0&&e!==null)e.return=r,Mt=e;else for(;Mt!==null;){switch(r=Mt,x=r.alternate,e=r.flags,r.tag){case 0:break;case 11:case 15:break;case 1:if((e&1024)!==0&&x!==null){e=void 0,l=r,m=x.memoizedProps,x=x.memoizedState,s=l.stateNode;try{var De=rr(l.type,m,l.elementType===l.type);e=s.getSnapshotBeforeUpdate(De,x),s.__reactInternalSnapshotBeforeUpdate=e}catch(Me){Ze(l,l.return,Me)}}break;case 3:if((e&1024)!==0){if(e=r.stateNode.containerInfo,l=e.nodeType,l===9)Cc(e);else if(l===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Cc(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(a(163))}if(e=r.sibling,e!==null){e.return=r.return,Mt=e;break}Mt=r.return}}function bp(e,r,l){var s=l.flags;switch(l.tag){case 0:case 11:case 15:vi(e,l),s&4&&Ha(5,l);break;case 1:if(vi(e,l),s&4)if(e=l.stateNode,r===null)try{e.componentDidMount()}catch(E){Ze(l,l.return,E)}else{var m=rr(l.type,r.memoizedProps);r=r.memoizedState;try{e.componentDidUpdate(m,r,e.__reactInternalSnapshotBeforeUpdate)}catch(E){Ze(l,l.return,E)}}s&64&&pp(l),s&512&&Ga(l,l.return);break;case 3:if(vi(e,l),s&64&&(e=l.updateQueue,e!==null)){if(r=null,l.child!==null)switch(l.child.tag){case 27:case 5:r=l.child.stateNode;break;case 1:r=l.child.stateNode}try{tm(e,r)}catch(E){Ze(l,l.return,E)}}break;case 27:r===null&&s&4&&xp(l);case 26:case 5:vi(e,l),r===null&&s&4&&gp(l),s&512&&Ga(l,l.return);break;case 12:vi(e,l);break;case 13:vi(e,l),s&4&&Cp(e,l),s&64&&(e=l.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(l=Zv.bind(null,l),yb(e,l))));break;case 22:if(s=l.memoizedState!==null||ni,!s){r=r!==null&&r.memoizedState!==null||mt,m=ni;var x=mt;ni=s,(mt=r)&&!x?bi(e,l,(l.subtreeFlags&8772)!==0):vi(e,l),ni=m,mt=x}break;case 30:break;default:vi(e,l)}}function Tp(e){var r=e.alternate;r!==null&&(e.alternate=null,Tp(r)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(r=e.stateNode,r!==null&&ma(r)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var lt=null,Kt=!1;function ii(e,r,l){for(l=l.child;l!==null;)Sp(e,r,l),l=l.sibling}function Sp(e,r,l){if(ce&&typeof ce.onCommitFiberUnmount=="function")try{ce.onCommitFiberUnmount(W,l)}catch{}switch(l.tag){case 26:mt||Fn(l,r),ii(e,r,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:mt||Fn(l,r);var s=lt,m=Kt;Ai(l.type)&&(lt=l.stateNode,Kt=!1),ii(e,r,l),Za(l.stateNode),lt=s,Kt=m;break;case 5:mt||Fn(l,r);case 6:if(s=lt,m=Kt,lt=null,ii(e,r,l),lt=s,Kt=m,lt!==null)if(Kt)try{(lt.nodeType===9?lt.body:lt.nodeName==="HTML"?lt.ownerDocument.body:lt).removeChild(l.stateNode)}catch(x){Ze(l,r,x)}else try{lt.removeChild(l.stateNode)}catch(x){Ze(l,r,x)}break;case 18:lt!==null&&(Kt?(e=lt,ch(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,l.stateNode),ol(e)):ch(lt,l.stateNode));break;case 4:s=lt,m=Kt,lt=l.stateNode.containerInfo,Kt=!0,ii(e,r,l),lt=s,Kt=m;break;case 0:case 11:case 14:case 15:mt||xi(2,l,r),mt||xi(4,l,r),ii(e,r,l);break;case 1:mt||(Fn(l,r),s=l.stateNode,typeof s.componentWillUnmount=="function"&&hp(l,r,s)),ii(e,r,l);break;case 21:ii(e,r,l);break;case 22:mt=(s=mt)||l.memoizedState!==null,ii(e,r,l),mt=s;break;default:ii(e,r,l)}}function Cp(e,r){if(r.memoizedState===null&&(e=r.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{ol(e)}catch(l){Ze(r,r.return,l)}}function qv(e){switch(e.tag){case 13:case 19:var r=e.stateNode;return r===null&&(r=e.stateNode=new vp),r;case 22:return e=e.stateNode,r=e._retryCache,r===null&&(r=e._retryCache=new vp),r;default:throw Error(a(435,e.tag))}}function Qu(e,r){var l=qv(e);r.forEach(function(s){var m=eb.bind(null,e,s);l.has(s)||(l.add(s),s.then(m,m))})}function rn(e,r){var l=r.deletions;if(l!==null)for(var s=0;s<l.length;s++){var m=l[s],x=e,E=r,M=E;e:for(;M!==null;){switch(M.tag){case 27:if(Ai(M.type)){lt=M.stateNode,Kt=!1;break e}break;case 5:lt=M.stateNode,Kt=!1;break e;case 3:case 4:lt=M.stateNode.containerInfo,Kt=!0;break e}M=M.return}if(lt===null)throw Error(a(160));Sp(x,E,m),lt=null,Kt=!1,x=m.alternate,x!==null&&(x.return=null),m.return=null}if(r.subtreeFlags&13878)for(r=r.child;r!==null;)Ep(r,e),r=r.sibling}var Dn=null;function Ep(e,r){var l=e.alternate,s=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:rn(r,e),an(e),s&4&&(xi(3,e,e.return),Ha(3,e),xi(5,e,e.return));break;case 1:rn(r,e),an(e),s&512&&(mt||l===null||Fn(l,l.return)),s&64&&ni&&(e=e.updateQueue,e!==null&&(s=e.callbacks,s!==null&&(l=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=l===null?s:l.concat(s))));break;case 26:var m=Dn;if(rn(r,e),an(e),s&512&&(mt||l===null||Fn(l,l.return)),s&4){var x=l!==null?l.memoizedState:null;if(s=e.memoizedState,l===null)if(s===null)if(e.stateNode===null){e:{s=e.type,l=e.memoizedProps,m=m.ownerDocument||m;t:switch(s){case"title":x=m.getElementsByTagName("title")[0],(!x||x[Ui]||x[Ct]||x.namespaceURI==="http://www.w3.org/2000/svg"||x.hasAttribute("itemprop"))&&(x=m.createElement(s),m.head.insertBefore(x,m.querySelector("head > title"))),kt(x,s,l),x[Ct]=e,ht(x),s=x;break e;case"link":var E=xh("link","href",m).get(s+(l.href||""));if(E){for(var M=0;M<E.length;M++)if(x=E[M],x.getAttribute("href")===(l.href==null||l.href===""?null:l.href)&&x.getAttribute("rel")===(l.rel==null?null:l.rel)&&x.getAttribute("title")===(l.title==null?null:l.title)&&x.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){E.splice(M,1);break t}}x=m.createElement(s),kt(x,s,l),m.head.appendChild(x);break;case"meta":if(E=xh("meta","content",m).get(s+(l.content||""))){for(M=0;M<E.length;M++)if(x=E[M],x.getAttribute("content")===(l.content==null?null:""+l.content)&&x.getAttribute("name")===(l.name==null?null:l.name)&&x.getAttribute("property")===(l.property==null?null:l.property)&&x.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&x.getAttribute("charset")===(l.charSet==null?null:l.charSet)){E.splice(M,1);break t}}x=m.createElement(s),kt(x,s,l),m.head.appendChild(x);break;default:throw Error(a(468,s))}x[Ct]=e,ht(x),s=x}e.stateNode=s}else vh(m,e.type,e.stateNode);else e.stateNode=yh(m,s,e.memoizedProps);else x!==s?(x===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):x.count--,s===null?vh(m,e.type,e.stateNode):yh(m,s,e.memoizedProps)):s===null&&e.stateNode!==null&&Yu(e,e.memoizedProps,l.memoizedProps)}break;case 27:rn(r,e),an(e),s&512&&(mt||l===null||Fn(l,l.return)),l!==null&&s&4&&Yu(e,e.memoizedProps,l.memoizedProps);break;case 5:if(rn(r,e),an(e),s&512&&(mt||l===null||Fn(l,l.return)),e.flags&32){m=e.stateNode;try{Sr(m,"")}catch($){Ze(e,e.return,$)}}s&4&&e.stateNode!=null&&(m=e.memoizedProps,Yu(e,m,l!==null?l.memoizedProps:m)),s&1024&&(Xu=!0);break;case 6:if(rn(r,e),an(e),s&4){if(e.stateNode===null)throw Error(a(162));s=e.memoizedProps,l=e.stateNode;try{l.nodeValue=s}catch($){Ze(e,e.return,$)}}break;case 3:if(Bo=null,m=Dn,Dn=Oo(r.containerInfo),rn(r,e),Dn=m,an(e),s&4&&l!==null&&l.memoizedState.isDehydrated)try{ol(r.containerInfo)}catch($){Ze(e,e.return,$)}Xu&&(Xu=!1,Mp(e));break;case 4:s=Dn,Dn=Oo(e.stateNode.containerInfo),rn(r,e),an(e),Dn=s;break;case 12:rn(r,e),an(e);break;case 13:rn(r,e),an(e),e.child.flags&8192&&e.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(nc=Nt()),s&4&&(s=e.updateQueue,s!==null&&(e.updateQueue=null,Qu(e,s)));break;case 22:m=e.memoizedState!==null;var R=l!==null&&l.memoizedState!==null,G=ni,ee=mt;if(ni=G||m,mt=ee||R,rn(r,e),mt=ee,ni=G,an(e),s&8192)e:for(r=e.stateNode,r._visibility=m?r._visibility&-2:r._visibility|1,m&&(l===null||R||ni||mt||ar(e)),l=null,r=e;;){if(r.tag===5||r.tag===26){if(l===null){R=l=r;try{if(x=R.stateNode,m)E=x.style,typeof E.setProperty=="function"?E.setProperty("display","none","important"):E.display="none";else{M=R.stateNode;var le=R.memoizedProps.style,K=le!=null&&le.hasOwnProperty("display")?le.display:null;M.style.display=K==null||typeof K=="boolean"?"":(""+K).trim()}}catch($){Ze(R,R.return,$)}}}else if(r.tag===6){if(l===null){R=r;try{R.stateNode.nodeValue=m?"":R.memoizedProps}catch($){Ze(R,R.return,$)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===e)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break e;for(;r.sibling===null;){if(r.return===null||r.return===e)break e;l===r&&(l=null),r=r.return}l===r&&(l=null),r.sibling.return=r.return,r=r.sibling}s&4&&(s=e.updateQueue,s!==null&&(l=s.retryQueue,l!==null&&(s.retryQueue=null,Qu(e,l))));break;case 19:rn(r,e),an(e),s&4&&(s=e.updateQueue,s!==null&&(e.updateQueue=null,Qu(e,s)));break;case 30:break;case 21:break;default:rn(r,e),an(e)}}function an(e){var r=e.flags;if(r&2){try{for(var l,s=e.return;s!==null;){if(yp(s)){l=s;break}s=s.return}if(l==null)throw Error(a(160));switch(l.tag){case 27:var m=l.stateNode,x=Ku(e);So(e,x,m);break;case 5:var E=l.stateNode;l.flags&32&&(Sr(E,""),l.flags&=-33);var M=Ku(e);So(e,M,E);break;case 3:case 4:var R=l.stateNode.containerInfo,G=Ku(e);$u(e,G,R);break;default:throw Error(a(161))}}catch(ee){Ze(e,e.return,ee)}e.flags&=-3}r&4096&&(e.flags&=-4097)}function Mp(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var r=e;Mp(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),e=e.sibling}}function vi(e,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)bp(e,r.alternate,r),r=r.sibling}function ar(e){for(e=e.child;e!==null;){var r=e;switch(r.tag){case 0:case 11:case 14:case 15:xi(4,r,r.return),ar(r);break;case 1:Fn(r,r.return);var l=r.stateNode;typeof l.componentWillUnmount=="function"&&hp(r,r.return,l),ar(r);break;case 27:Za(r.stateNode);case 26:case 5:Fn(r,r.return),ar(r);break;case 22:r.memoizedState===null&&ar(r);break;case 30:ar(r);break;default:ar(r)}e=e.sibling}}function bi(e,r,l){for(l=l&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var s=r.alternate,m=e,x=r,E=x.flags;switch(x.tag){case 0:case 11:case 15:bi(m,x,l),Ha(4,x);break;case 1:if(bi(m,x,l),s=x,m=s.stateNode,typeof m.componentDidMount=="function")try{m.componentDidMount()}catch(G){Ze(s,s.return,G)}if(s=x,m=s.updateQueue,m!==null){var M=s.stateNode;try{var R=m.shared.hiddenCallbacks;if(R!==null)for(m.shared.hiddenCallbacks=null,m=0;m<R.length;m++)em(R[m],M)}catch(G){Ze(s,s.return,G)}}l&&E&64&&pp(x),Ga(x,x.return);break;case 27:xp(x);case 26:case 5:bi(m,x,l),l&&s===null&&E&4&&gp(x),Ga(x,x.return);break;case 12:bi(m,x,l);break;case 13:bi(m,x,l),l&&E&4&&Cp(m,x);break;case 22:x.memoizedState===null&&bi(m,x,l),Ga(x,x.return);break;case 30:break;default:bi(m,x,l)}r=r.sibling}}function Ju(e,r){var l=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(l=e.memoizedState.cachePool.pool),e=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(e=r.memoizedState.cachePool.pool),e!==l&&(e!=null&&e.refCount++,l!=null&&ka(l))}function Wu(e,r){e=null,r.alternate!==null&&(e=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==e&&(r.refCount++,e!=null&&ka(e))}function Bn(e,r,l,s){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)Ap(e,r,l,s),r=r.sibling}function Ap(e,r,l,s){var m=r.flags;switch(r.tag){case 0:case 11:case 15:Bn(e,r,l,s),m&2048&&Ha(9,r);break;case 1:Bn(e,r,l,s);break;case 3:Bn(e,r,l,s),m&2048&&(e=null,r.alternate!==null&&(e=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==e&&(r.refCount++,e!=null&&ka(e)));break;case 12:if(m&2048){Bn(e,r,l,s),e=r.stateNode;try{var x=r.memoizedProps,E=x.id,M=x.onPostCommit;typeof M=="function"&&M(E,r.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(R){Ze(r,r.return,R)}}else Bn(e,r,l,s);break;case 13:Bn(e,r,l,s);break;case 23:break;case 22:x=r.stateNode,E=r.alternate,r.memoizedState!==null?x._visibility&2?Bn(e,r,l,s):qa(e,r):x._visibility&2?Bn(e,r,l,s):(x._visibility|=2,jr(e,r,l,s,(r.subtreeFlags&10256)!==0)),m&2048&&Ju(E,r);break;case 24:Bn(e,r,l,s),m&2048&&Wu(r.alternate,r);break;default:Bn(e,r,l,s)}}function jr(e,r,l,s,m){for(m=m&&(r.subtreeFlags&10256)!==0,r=r.child;r!==null;){var x=e,E=r,M=l,R=s,G=E.flags;switch(E.tag){case 0:case 11:case 15:jr(x,E,M,R,m),Ha(8,E);break;case 23:break;case 22:var ee=E.stateNode;E.memoizedState!==null?ee._visibility&2?jr(x,E,M,R,m):qa(x,E):(ee._visibility|=2,jr(x,E,M,R,m)),m&&G&2048&&Ju(E.alternate,E);break;case 24:jr(x,E,M,R,m),m&&G&2048&&Wu(E.alternate,E);break;default:jr(x,E,M,R,m)}r=r.sibling}}function qa(e,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var l=e,s=r,m=s.flags;switch(s.tag){case 22:qa(l,s),m&2048&&Ju(s.alternate,s);break;case 24:qa(l,s),m&2048&&Wu(s.alternate,s);break;default:qa(l,s)}r=r.sibling}}var Ya=8192;function Ur(e){if(e.subtreeFlags&Ya)for(e=e.child;e!==null;)wp(e),e=e.sibling}function wp(e){switch(e.tag){case 26:Ur(e),e.flags&Ya&&e.memoizedState!==null&&Nb(Dn,e.memoizedState,e.memoizedProps);break;case 5:Ur(e);break;case 3:case 4:var r=Dn;Dn=Oo(e.stateNode.containerInfo),Ur(e),Dn=r;break;case 22:e.memoizedState===null&&(r=e.alternate,r!==null&&r.memoizedState!==null?(r=Ya,Ya=16777216,Ur(e),Ya=r):Ur(e));break;default:Ur(e)}}function Dp(e){var r=e.alternate;if(r!==null&&(e=r.child,e!==null)){r.child=null;do r=e.sibling,e.sibling=null,e=r;while(e!==null)}}function Ka(e){var r=e.deletions;if((e.flags&16)!==0){if(r!==null)for(var l=0;l<r.length;l++){var s=r[l];Mt=s,Np(s,e)}Dp(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)kp(e),e=e.sibling}function kp(e){switch(e.tag){case 0:case 11:case 15:Ka(e),e.flags&2048&&xi(9,e,e.return);break;case 3:Ka(e);break;case 12:Ka(e);break;case 22:var r=e.stateNode;e.memoizedState!==null&&r._visibility&2&&(e.return===null||e.return.tag!==13)?(r._visibility&=-3,Co(e)):Ka(e);break;default:Ka(e)}}function Co(e){var r=e.deletions;if((e.flags&16)!==0){if(r!==null)for(var l=0;l<r.length;l++){var s=r[l];Mt=s,Np(s,e)}Dp(e)}for(e=e.child;e!==null;){switch(r=e,r.tag){case 0:case 11:case 15:xi(8,r,r.return),Co(r);break;case 22:l=r.stateNode,l._visibility&2&&(l._visibility&=-3,Co(r));break;default:Co(r)}e=e.sibling}}function Np(e,r){for(;Mt!==null;){var l=Mt;switch(l.tag){case 0:case 11:case 15:xi(8,l,r);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var s=l.memoizedState.cachePool.pool;s!=null&&s.refCount++}break;case 24:ka(l.memoizedState.cache)}if(s=l.child,s!==null)s.return=l,Mt=s;else e:for(l=e;Mt!==null;){s=Mt;var m=s.sibling,x=s.return;if(Tp(s),s===l){Mt=null;break e}if(m!==null){m.return=x,Mt=m;break e}Mt=x}}}var Yv={getCacheForType:function(e){var r=Ot(bt),l=r.data.get(e);return l===void 0&&(l=e(),r.data.set(e,l)),l}},Kv=typeof WeakMap=="function"?WeakMap:Map,$e=0,nt=null,Oe=null,je=0,Xe=0,ln=null,Ti=!1,Hr=!1,Zu=!1,ri=0,ut=0,Si=0,lr=0,ec=0,vn=0,Gr=0,$a=null,$t=null,tc=!1,nc=0,Eo=1/0,Mo=null,Ci=null,Dt=0,Ei=null,qr=null,Yr=0,ic=0,rc=null,Rp=null,Xa=0,ac=null;function on(){if(($e&2)!==0&&je!==0)return je&-je;if(Y.T!==null){var e=_r;return e!==0?e:dc()}return _l()}function Ip(){vn===0&&(vn=(je&536870912)===0||Ye?en():536870912);var e=xn.current;return e!==null&&(e.flags|=32),vn}function sn(e,r,l){(e===nt&&(Xe===2||Xe===9)||e.cancelPendingCommit!==null)&&(Kr(e,0),Mi(e,je,vn,!1)),J(e,l),(($e&2)===0||e!==nt)&&(e===nt&&(($e&2)===0&&(lr|=l),ut===4&&Mi(e,je,vn,!1)),Pn(e))}function _p(e,r,l){if(($e&6)!==0)throw Error(a(327));var s=!l&&(r&124)===0&&(r&e.expiredLanes)===0||Ht(e,r),m=s?Qv(e,r):sc(e,r,!0),x=s;do{if(m===0){Hr&&!s&&Mi(e,r,0,!1);break}else{if(l=e.current.alternate,x&&!$v(l)){m=sc(e,r,!1),x=!1;continue}if(m===2){if(x=r,e.errorRecoveryDisabledLanes&x)var E=0;else E=e.pendingLanes&-536870913,E=E!==0?E:E&536870912?536870912:0;if(E!==0){r=E;e:{var M=e;m=$a;var R=M.current.memoizedState.isDehydrated;if(R&&(Kr(M,E).flags|=256),E=sc(M,E,!1),E!==2){if(Zu&&!R){M.errorRecoveryDisabledLanes|=x,lr|=x,m=4;break e}x=$t,$t=m,x!==null&&($t===null?$t=x:$t.push.apply($t,x))}m=E}if(x=!1,m!==2)continue}}if(m===1){Kr(e,0),Mi(e,r,0,!0);break}e:{switch(s=e,x=m,x){case 0:case 1:throw Error(a(345));case 4:if((r&4194048)!==r)break;case 6:Mi(s,r,vn,!Ti);break e;case 2:$t=null;break;case 3:case 5:break;default:throw Error(a(329))}if((r&62914560)===r&&(m=nc+300-Nt(),10<m)){if(Mi(s,r,vn,!Ti),ft(s,0,!0)!==0)break e;s.timeoutHandle=sh(Lp.bind(null,s,l,$t,Mo,tc,r,vn,lr,Gr,Ti,x,2,-0,0),m);break e}Lp(s,l,$t,Mo,tc,r,vn,lr,Gr,Ti,x,0,-0,0)}}break}while(!0);Pn(e)}function Lp(e,r,l,s,m,x,E,M,R,G,ee,le,K,$){if(e.timeoutHandle=-1,le=r.subtreeFlags,(le&8192||(le&16785408)===16785408)&&(nl={stylesheets:null,count:0,unsuspend:kb},wp(r),le=Rb(),le!==null)){e.cancelPendingCommit=le(jp.bind(null,e,r,x,l,s,m,E,M,R,ee,1,K,$)),Mi(e,x,E,!G);return}jp(e,r,x,l,s,m,E,M,R)}function $v(e){for(var r=e;;){var l=r.tag;if((l===0||l===11||l===15)&&r.flags&16384&&(l=r.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var s=0;s<l.length;s++){var m=l[s],x=m.getSnapshot;m=m.value;try{if(!tn(x(),m))return!1}catch{return!1}}if(l=r.child,r.subtreeFlags&16384&&l!==null)l.return=r,r=l;else{if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function Mi(e,r,l,s){r&=~ec,r&=~lr,e.suspendedLanes|=r,e.pingedLanes&=~r,s&&(e.warmLanes|=r),s=e.expirationTimes;for(var m=r;0<m;){var x=31-Ee(m),E=1<<x;s[x]=-1,m&=~E}l!==0&&ve(e,l,r)}function Ao(){return($e&6)===0?(Qa(0),!1):!0}function lc(){if(Oe!==null){if(Xe===0)var e=Oe.return;else e=Oe,Qn=er=null,Cu(e),zr=null,Va=0,e=Oe;for(;e!==null;)mp(e.alternate,e),e=e.return;Oe=null}}function Kr(e,r){var l=e.timeoutHandle;l!==-1&&(e.timeoutHandle=-1,db(l)),l=e.cancelPendingCommit,l!==null&&(e.cancelPendingCommit=null,l()),lc(),nt=e,Oe=l=Kn(e.current,null),je=r,Xe=0,ln=null,Ti=!1,Hr=Ht(e,r),Zu=!1,Gr=vn=ec=lr=Si=ut=0,$t=$a=null,tc=!1,(r&8)!==0&&(r|=r&32);var s=e.entangledLanes;if(s!==0)for(e=e.entanglements,s&=r;0<s;){var m=31-Ee(s),x=1<<m;r|=e[m],s&=~x}return ri=r,Kl(),l}function Op(e,r){_e=null,Y.H=mo,r===Ra||r===no?(r=Wd(),Xe=3):r===Xd?(r=Wd(),Xe=4):Xe=r===Zm?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,ln=r,Oe===null&&(ut=1,xo(e,pn(r,e.current)))}function Fp(){var e=Y.H;return Y.H=mo,e===null?mo:e}function Bp(){var e=Y.A;return Y.A=Yv,e}function oc(){ut=4,Ti||(je&4194048)!==je&&xn.current!==null||(Hr=!0),(Si&134217727)===0&&(lr&134217727)===0||nt===null||Mi(nt,je,vn,!1)}function sc(e,r,l){var s=$e;$e|=2;var m=Fp(),x=Bp();(nt!==e||je!==r)&&(Mo=null,Kr(e,r)),r=!1;var E=ut;e:do try{if(Xe!==0&&Oe!==null){var M=Oe,R=ln;switch(Xe){case 8:lc(),E=6;break e;case 3:case 2:case 9:case 6:xn.current===null&&(r=!0);var G=Xe;if(Xe=0,ln=null,$r(e,M,R,G),l&&Hr){E=0;break e}break;default:G=Xe,Xe=0,ln=null,$r(e,M,R,G)}}Xv(),E=ut;break}catch(ee){Op(e,ee)}while(!0);return r&&e.shellSuspendCounter++,Qn=er=null,$e=s,Y.H=m,Y.A=x,Oe===null&&(nt=null,je=0,Kl()),E}function Xv(){for(;Oe!==null;)Pp(Oe)}function Qv(e,r){var l=$e;$e|=2;var s=Fp(),m=Bp();nt!==e||je!==r?(Mo=null,Eo=Nt()+500,Kr(e,r)):Hr=Ht(e,r);e:do try{if(Xe!==0&&Oe!==null){r=Oe;var x=ln;t:switch(Xe){case 1:Xe=0,ln=null,$r(e,r,x,1);break;case 2:case 9:if(Qd(x)){Xe=0,ln=null,zp(r);break}r=function(){Xe!==2&&Xe!==9||nt!==e||(Xe=7),Pn(e)},x.then(r,r);break e;case 3:Xe=7;break e;case 4:Xe=5;break e;case 7:Qd(x)?(Xe=0,ln=null,zp(r)):(Xe=0,ln=null,$r(e,r,x,7));break;case 5:var E=null;switch(Oe.tag){case 26:E=Oe.memoizedState;case 5:case 27:var M=Oe;if(!E||bh(E)){Xe=0,ln=null;var R=M.sibling;if(R!==null)Oe=R;else{var G=M.return;G!==null?(Oe=G,wo(G)):Oe=null}break t}}Xe=0,ln=null,$r(e,r,x,5);break;case 6:Xe=0,ln=null,$r(e,r,x,6);break;case 8:lc(),ut=6;break e;default:throw Error(a(462))}}Jv();break}catch(ee){Op(e,ee)}while(!0);return Qn=er=null,Y.H=s,Y.A=m,$e=l,Oe!==null?0:(nt=null,je=0,Kl(),ut)}function Jv(){for(;Oe!==null&&!St();)Pp(Oe)}function Pp(e){var r=fp(e.alternate,e,ri);e.memoizedProps=e.pendingProps,r===null?wo(e):Oe=r}function zp(e){var r=e,l=r.alternate;switch(r.tag){case 15:case 0:r=ap(l,r,r.pendingProps,r.type,void 0,je);break;case 11:r=ap(l,r,r.pendingProps,r.type.render,r.ref,je);break;case 5:Cu(r);default:mp(l,r),r=Oe=Vd(r,ri),r=fp(l,r,ri)}e.memoizedProps=e.pendingProps,r===null?wo(e):Oe=r}function $r(e,r,l,s){Qn=er=null,Cu(r),zr=null,Va=0;var m=r.return;try{if(Vv(e,m,r,l,je)){ut=1,xo(e,pn(l,e.current)),Oe=null;return}}catch(x){if(m!==null)throw Oe=m,x;ut=1,xo(e,pn(l,e.current)),Oe=null;return}r.flags&32768?(Ye||s===1?e=!0:Hr||(je&536870912)!==0?e=!1:(Ti=e=!0,(s===2||s===9||s===3||s===6)&&(s=xn.current,s!==null&&s.tag===13&&(s.flags|=16384))),Vp(r,e)):wo(r)}function wo(e){var r=e;do{if((r.flags&32768)!==0){Vp(r,Ti);return}e=r.return;var l=Uv(r.alternate,r,ri);if(l!==null){Oe=l;return}if(r=r.sibling,r!==null){Oe=r;return}Oe=r=e}while(r!==null);ut===0&&(ut=5)}function Vp(e,r){do{var l=Hv(e.alternate,e);if(l!==null){l.flags&=32767,Oe=l;return}if(l=e.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!r&&(e=e.sibling,e!==null)){Oe=e;return}Oe=e=l}while(e!==null);ut=6,Oe=null}function jp(e,r,l,s,m,x,E,M,R){e.cancelPendingCommit=null;do Do();while(Dt!==0);if(($e&6)!==0)throw Error(a(327));if(r!==null){if(r===e.current)throw Error(a(177));if(x=r.lanes|r.childLanes,x|=Ws,he(e,l,x,E,M,R),e===nt&&(Oe=nt=null,je=0),qr=r,Ei=e,Yr=l,ic=x,rc=m,Rp=s,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,tb(Un,function(){return Yp(),null})):(e.callbackNode=null,e.callbackPriority=0),s=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||s){s=Y.T,Y.T=null,m=L.p,L.p=2,E=$e,$e|=4;try{Gv(e,r,l)}finally{$e=E,L.p=m,Y.T=s}}Dt=1,Up(),Hp(),Gp()}}function Up(){if(Dt===1){Dt=0;var e=Ei,r=qr,l=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||l){l=Y.T,Y.T=null;var s=L.p;L.p=2;var m=$e;$e|=4;try{Ep(r,e);var x=bc,E=Nd(e.containerInfo),M=x.focusedElem,R=x.selectionRange;if(E!==M&&M&&M.ownerDocument&&kd(M.ownerDocument.documentElement,M)){if(R!==null&&Ks(M)){var G=R.start,ee=R.end;if(ee===void 0&&(ee=G),"selectionStart"in M)M.selectionStart=G,M.selectionEnd=Math.min(ee,M.value.length);else{var le=M.ownerDocument||document,K=le&&le.defaultView||window;if(K.getSelection){var $=K.getSelection(),De=M.textContent.length,Me=Math.min(R.start,De),We=R.end===void 0?Me:Math.min(R.end,De);!$.extend&&Me>We&&(E=We,We=Me,Me=E);var z=Dd(M,Me),P=Dd(M,We);if(z&&P&&($.rangeCount!==1||$.anchorNode!==z.node||$.anchorOffset!==z.offset||$.focusNode!==P.node||$.focusOffset!==P.offset)){var H=le.createRange();H.setStart(z.node,z.offset),$.removeAllRanges(),Me>We?($.addRange(H),$.extend(P.node,P.offset)):(H.setEnd(P.node,P.offset),$.addRange(H))}}}}for(le=[],$=M;$=$.parentNode;)$.nodeType===1&&le.push({element:$,left:$.scrollLeft,top:$.scrollTop});for(typeof M.focus=="function"&&M.focus(),M=0;M<le.length;M++){var re=le[M];re.element.scrollLeft=re.left,re.element.scrollTop=re.top}}Vo=!!vc,bc=vc=null}finally{$e=m,L.p=s,Y.T=l}}e.current=r,Dt=2}}function Hp(){if(Dt===2){Dt=0;var e=Ei,r=qr,l=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||l){l=Y.T,Y.T=null;var s=L.p;L.p=2;var m=$e;$e|=4;try{bp(e,r.alternate,r)}finally{$e=m,L.p=s,Y.T=l}}Dt=3}}function Gp(){if(Dt===4||Dt===3){Dt=0,Wt();var e=Ei,r=qr,l=Yr,s=Rp;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?Dt=5:(Dt=0,qr=Ei=null,qp(e,e.pendingLanes));var m=e.pendingLanes;if(m===0&&(Ci=null),at(l),r=r.stateNode,ce&&typeof ce.onCommitFiberRoot=="function")try{ce.onCommitFiberRoot(W,r,void 0,(r.current.flags&128)===128)}catch{}if(s!==null){r=Y.T,m=L.p,L.p=2,Y.T=null;try{for(var x=e.onRecoverableError,E=0;E<s.length;E++){var M=s[E];x(M.value,{componentStack:M.stack})}}finally{Y.T=r,L.p=m}}(Yr&3)!==0&&Do(),Pn(e),m=e.pendingLanes,(l&4194090)!==0&&(m&42)!==0?e===ac?Xa++:(Xa=0,ac=e):Xa=0,Qa(0)}}function qp(e,r){(e.pooledCacheLanes&=r)===0&&(r=e.pooledCache,r!=null&&(e.pooledCache=null,ka(r)))}function Do(e){return Up(),Hp(),Gp(),Yp()}function Yp(){if(Dt!==5)return!1;var e=Ei,r=ic;ic=0;var l=at(Yr),s=Y.T,m=L.p;try{L.p=32>l?32:l,Y.T=null,l=rc,rc=null;var x=Ei,E=Yr;if(Dt=0,qr=Ei=null,Yr=0,($e&6)!==0)throw Error(a(331));var M=$e;if($e|=4,kp(x.current),Ap(x,x.current,E,l),$e=M,Qa(0,!1),ce&&typeof ce.onPostCommitFiberRoot=="function")try{ce.onPostCommitFiberRoot(W,x)}catch{}return!0}finally{L.p=m,Y.T=s,qp(e,r)}}function Kp(e,r,l){r=pn(l,r),r=Bu(e.stateNode,r,2),e=pi(e,r,2),e!==null&&(J(e,2),Pn(e))}function Ze(e,r,l){if(e.tag===3)Kp(e,e,l);else for(;r!==null;){if(r.tag===3){Kp(r,e,l);break}else if(r.tag===1){var s=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof s.componentDidCatch=="function"&&(Ci===null||!Ci.has(s))){e=pn(l,e),l=Jm(2),s=pi(r,l,2),s!==null&&(Wm(l,s,r,e),J(s,2),Pn(s));break}}r=r.return}}function uc(e,r,l){var s=e.pingCache;if(s===null){s=e.pingCache=new Kv;var m=new Set;s.set(r,m)}else m=s.get(r),m===void 0&&(m=new Set,s.set(r,m));m.has(l)||(Zu=!0,m.add(l),e=Wv.bind(null,e,r,l),r.then(e,e))}function Wv(e,r,l){var s=e.pingCache;s!==null&&s.delete(r),e.pingedLanes|=e.suspendedLanes&l,e.warmLanes&=~l,nt===e&&(je&l)===l&&(ut===4||ut===3&&(je&62914560)===je&&300>Nt()-nc?($e&2)===0&&Kr(e,0):ec|=l,Gr===je&&(Gr=0)),Pn(e)}function $p(e,r){r===0&&(r=fa()),e=kr(e,r),e!==null&&(J(e,r),Pn(e))}function Zv(e){var r=e.memoizedState,l=0;r!==null&&(l=r.retryLane),$p(e,l)}function eb(e,r){var l=0;switch(e.tag){case 13:var s=e.stateNode,m=e.memoizedState;m!==null&&(l=m.retryLane);break;case 19:s=e.stateNode;break;case 22:s=e.stateNode._retryCache;break;default:throw Error(a(314))}s!==null&&s.delete(r),$p(e,l)}function tb(e,r){return tt(e,r)}var ko=null,Xr=null,cc=!1,No=!1,fc=!1,or=0;function Pn(e){e!==Xr&&e.next===null&&(Xr===null?ko=Xr=e:Xr=Xr.next=e),No=!0,cc||(cc=!0,ib())}function Qa(e,r){if(!fc&&No){fc=!0;do for(var l=!1,s=ko;s!==null;){if(e!==0){var m=s.pendingLanes;if(m===0)var x=0;else{var E=s.suspendedLanes,M=s.pingedLanes;x=(1<<31-Ee(42|e)+1)-1,x&=m&~(E&~M),x=x&201326741?x&201326741|1:x?x|2:0}x!==0&&(l=!0,Wp(s,x))}else x=je,x=ft(s,s===nt?x:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),(x&3)===0||Ht(s,x)||(l=!0,Wp(s,x));s=s.next}while(l);fc=!1}}function nb(){Xp()}function Xp(){No=cc=!1;var e=0;or!==0&&(fb()&&(e=or),or=0);for(var r=Nt(),l=null,s=ko;s!==null;){var m=s.next,x=Qp(s,r);x===0?(s.next=null,l===null?ko=m:l.next=m,m===null&&(Xr=l)):(l=s,(e!==0||(x&3)!==0)&&(No=!0)),s=m}Qa(e)}function Qp(e,r){for(var l=e.suspendedLanes,s=e.pingedLanes,m=e.expirationTimes,x=e.pendingLanes&-62914561;0<x;){var E=31-Ee(x),M=1<<E,R=m[E];R===-1?((M&l)===0||(M&s)!==0)&&(m[E]=Zt(M,r)):R<=r&&(e.expiredLanes|=M),x&=~M}if(r=nt,l=je,l=ft(e,e===r?l:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),s=e.callbackNode,l===0||e===r&&(Xe===2||Xe===9)||e.cancelPendingCommit!==null)return s!==null&&s!==null&&rt(s),e.callbackNode=null,e.callbackPriority=0;if((l&3)===0||Ht(e,l)){if(r=l&-l,r===e.callbackPriority)return r;switch(s!==null&&rt(s),at(l)){case 2:case 8:l=jn;break;case 32:l=Un;break;case 268435456:l=gr;break;default:l=Un}return s=Jp.bind(null,e),l=tt(l,s),e.callbackPriority=r,e.callbackNode=l,r}return s!==null&&s!==null&&rt(s),e.callbackPriority=2,e.callbackNode=null,2}function Jp(e,r){if(Dt!==0&&Dt!==5)return e.callbackNode=null,e.callbackPriority=0,null;var l=e.callbackNode;if(Do()&&e.callbackNode!==l)return null;var s=je;return s=ft(e,e===nt?s:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),s===0?null:(_p(e,s,r),Qp(e,Nt()),e.callbackNode!=null&&e.callbackNode===l?Jp.bind(null,e):null)}function Wp(e,r){if(Do())return null;_p(e,r,!0)}function ib(){mb(function(){($e&6)!==0?tt(vt,nb):Xp()})}function dc(){return or===0&&(or=en()),or}function Zp(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Vl(""+e)}function eh(e,r){var l=r.ownerDocument.createElement("input");return l.name=r.name,l.value=r.value,e.id&&l.setAttribute("form",e.id),r.parentNode.insertBefore(l,r),e=new FormData(e),l.parentNode.removeChild(l),e}function rb(e,r,l,s,m){if(r==="submit"&&l&&l.stateNode===m){var x=Zp((m[Lt]||null).action),E=s.submitter;E&&(r=(r=E[Lt]||null)?Zp(r.formAction):E.getAttribute("formAction"),r!==null&&(x=r,E=null));var M=new Gl("action","action",null,s,m);e.push({event:M,listeners:[{instance:null,listener:function(){if(s.defaultPrevented){if(or!==0){var R=E?eh(m,E):new FormData(m);Iu(l,{pending:!0,data:R,method:m.method,action:x},null,R)}}else typeof x=="function"&&(M.preventDefault(),R=E?eh(m,E):new FormData(m),Iu(l,{pending:!0,data:R,method:m.method,action:x},x,R))},currentTarget:m}]})}}for(var mc=0;mc<Js.length;mc++){var pc=Js[mc],ab=pc.toLowerCase(),lb=pc[0].toUpperCase()+pc.slice(1);wn(ab,"on"+lb)}wn(_d,"onAnimationEnd"),wn(Ld,"onAnimationIteration"),wn(Od,"onAnimationStart"),wn("dblclick","onDoubleClick"),wn("focusin","onFocus"),wn("focusout","onBlur"),wn(Cv,"onTransitionRun"),wn(Ev,"onTransitionStart"),wn(Mv,"onTransitionCancel"),wn(Fd,"onTransitionEnd"),ui("onMouseEnter",["mouseout","mouseover"]),ui("onMouseLeave",["mouseout","mouseover"]),ui("onPointerEnter",["pointerout","pointerover"]),ui("onPointerLeave",["pointerout","pointerover"]),An("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),An("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),An("onBeforeInput",["compositionend","keypress","textInput","paste"]),An("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),An("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),An("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ja="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ob=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ja));function th(e,r){r=(r&4)!==0;for(var l=0;l<e.length;l++){var s=e[l],m=s.event;s=s.listeners;e:{var x=void 0;if(r)for(var E=s.length-1;0<=E;E--){var M=s[E],R=M.instance,G=M.currentTarget;if(M=M.listener,R!==x&&m.isPropagationStopped())break e;x=M,m.currentTarget=G;try{x(m)}catch(ee){yo(ee)}m.currentTarget=null,x=R}else for(E=0;E<s.length;E++){if(M=s[E],R=M.instance,G=M.currentTarget,M=M.listener,R!==x&&m.isPropagationStopped())break e;x=M,m.currentTarget=G;try{x(m)}catch(ee){yo(ee)}m.currentTarget=null,x=R}}}}function Fe(e,r){var l=r[da];l===void 0&&(l=r[da]=new Set);var s=e+"__bubble";l.has(s)||(nh(r,e,2,!1),l.add(s))}function hc(e,r,l){var s=0;r&&(s|=4),nh(l,e,s,r)}var Ro="_reactListening"+Math.random().toString(36).slice(2);function gc(e){if(!e[Ro]){e[Ro]=!0,Gt.forEach(function(l){l!=="selectionchange"&&(ob.has(l)||hc(l,!1,e),hc(l,!0,e))});var r=e.nodeType===9?e:e.ownerDocument;r===null||r[Ro]||(r[Ro]=!0,hc("selectionchange",!1,r))}}function nh(e,r,l,s){switch(Ah(r)){case 2:var m=Lb;break;case 8:m=Ob;break;default:m=Nc}l=m.bind(null,r,l,e),m=void 0,!Ps||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(m=!0),s?m!==void 0?e.addEventListener(r,l,{capture:!0,passive:m}):e.addEventListener(r,l,!0):m!==void 0?e.addEventListener(r,l,{passive:m}):e.addEventListener(r,l,!1)}function yc(e,r,l,s,m){var x=s;if((r&1)===0&&(r&2)===0&&s!==null)e:for(;;){if(s===null)return;var E=s.tag;if(E===3||E===4){var M=s.stateNode.containerInfo;if(M===m)break;if(E===4)for(E=s.return;E!==null;){var R=E.tag;if((R===3||R===4)&&E.stateNode.containerInfo===m)return;E=E.return}for(;M!==null;){if(E=si(M),E===null)return;if(R=E.tag,R===5||R===6||R===26||R===27){s=x=E;continue e}M=M.parentNode}}s=s.return}ud(function(){var G=x,ee=Fs(l),le=[];e:{var K=Bd.get(e);if(K!==void 0){var $=Gl,De=e;switch(e){case"keypress":if(Ul(l)===0)break e;case"keydown":case"keyup":$=tv;break;case"focusin":De="focus",$=Us;break;case"focusout":De="blur",$=Us;break;case"beforeblur":case"afterblur":$=Us;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":$=dd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":$=Hx;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":$=rv;break;case _d:case Ld:case Od:$=Yx;break;case Fd:$=lv;break;case"scroll":case"scrollend":$=jx;break;case"wheel":$=sv;break;case"copy":case"cut":case"paste":$=$x;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":$=pd;break;case"toggle":case"beforetoggle":$=cv}var Me=(r&4)!==0,We=!Me&&(e==="scroll"||e==="scrollend"),z=Me?K!==null?K+"Capture":null:K;Me=[];for(var P=G,H;P!==null;){var re=P;if(H=re.stateNode,re=re.tag,re!==5&&re!==26&&re!==27||H===null||z===null||(re=ga(P,z),re!=null&&Me.push(Wa(P,re,H))),We)break;P=P.return}0<Me.length&&(K=new $(K,De,null,l,ee),le.push({event:K,listeners:Me}))}}if((r&7)===0){e:{if(K=e==="mouseover"||e==="pointerover",$=e==="mouseout"||e==="pointerout",K&&l!==Os&&(De=l.relatedTarget||l.fromElement)&&(si(De)||De[oi]))break e;if(($||K)&&(K=ee.window===ee?ee:(K=ee.ownerDocument)?K.defaultView||K.parentWindow:window,$?(De=l.relatedTarget||l.toElement,$=G,De=De?si(De):null,De!==null&&(We=u(De),Me=De.tag,De!==We||Me!==5&&Me!==27&&Me!==6)&&(De=null)):($=null,De=G),$!==De)){if(Me=dd,re="onMouseLeave",z="onMouseEnter",P="mouse",(e==="pointerout"||e==="pointerover")&&(Me=pd,re="onPointerLeave",z="onPointerEnter",P="pointer"),We=$==null?K:Hi($),H=De==null?K:Hi(De),K=new Me(re,P+"leave",$,l,ee),K.target=We,K.relatedTarget=H,re=null,si(ee)===G&&(Me=new Me(z,P+"enter",De,l,ee),Me.target=H,Me.relatedTarget=We,re=Me),We=re,$&&De)t:{for(Me=$,z=De,P=0,H=Me;H;H=Qr(H))P++;for(H=0,re=z;re;re=Qr(re))H++;for(;0<P-H;)Me=Qr(Me),P--;for(;0<H-P;)z=Qr(z),H--;for(;P--;){if(Me===z||z!==null&&Me===z.alternate)break t;Me=Qr(Me),z=Qr(z)}Me=null}else Me=null;$!==null&&ih(le,K,$,Me,!1),De!==null&&We!==null&&ih(le,We,De,Me,!0)}}e:{if(K=G?Hi(G):window,$=K.nodeName&&K.nodeName.toLowerCase(),$==="select"||$==="input"&&K.type==="file")var xe=Sd;else if(bd(K))if(Cd)xe=bv;else{xe=xv;var Le=yv}else $=K.nodeName,!$||$.toLowerCase()!=="input"||K.type!=="checkbox"&&K.type!=="radio"?G&&Ls(G.elementType)&&(xe=Sd):xe=vv;if(xe&&(xe=xe(e,G))){Td(le,xe,l,ee);break e}Le&&Le(e,K,G),e==="focusout"&&G&&K.type==="number"&&G.memoizedProps.value!=null&&_s(K,"number",K.value)}switch(Le=G?Hi(G):window,e){case"focusin":(bd(Le)||Le.contentEditable==="true")&&(Ar=Le,$s=G,Ea=null);break;case"focusout":Ea=$s=Ar=null;break;case"mousedown":Xs=!0;break;case"contextmenu":case"mouseup":case"dragend":Xs=!1,Rd(le,l,ee);break;case"selectionchange":if(Sv)break;case"keydown":case"keyup":Rd(le,l,ee)}var be;if(Gs)e:{switch(e){case"compositionstart":var Ae="onCompositionStart";break e;case"compositionend":Ae="onCompositionEnd";break e;case"compositionupdate":Ae="onCompositionUpdate";break e}Ae=void 0}else Mr?xd(e,l)&&(Ae="onCompositionEnd"):e==="keydown"&&l.keyCode===229&&(Ae="onCompositionStart");Ae&&(hd&&l.locale!=="ko"&&(Mr||Ae!=="onCompositionStart"?Ae==="onCompositionEnd"&&Mr&&(be=cd()):(ci=ee,zs="value"in ci?ci.value:ci.textContent,Mr=!0)),Le=Io(G,Ae),0<Le.length&&(Ae=new md(Ae,e,null,l,ee),le.push({event:Ae,listeners:Le}),be?Ae.data=be:(be=vd(l),be!==null&&(Ae.data=be)))),(be=dv?mv(e,l):pv(e,l))&&(Ae=Io(G,"onBeforeInput"),0<Ae.length&&(Le=new md("onBeforeInput","beforeinput",null,l,ee),le.push({event:Le,listeners:Ae}),Le.data=be)),rb(le,e,G,l,ee)}th(le,r)})}function Wa(e,r,l){return{instance:e,listener:r,currentTarget:l}}function Io(e,r){for(var l=r+"Capture",s=[];e!==null;){var m=e,x=m.stateNode;if(m=m.tag,m!==5&&m!==26&&m!==27||x===null||(m=ga(e,l),m!=null&&s.unshift(Wa(e,m,x)),m=ga(e,r),m!=null&&s.push(Wa(e,m,x))),e.tag===3)return s;e=e.return}return[]}function Qr(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function ih(e,r,l,s,m){for(var x=r._reactName,E=[];l!==null&&l!==s;){var M=l,R=M.alternate,G=M.stateNode;if(M=M.tag,R!==null&&R===s)break;M!==5&&M!==26&&M!==27||G===null||(R=G,m?(G=ga(l,x),G!=null&&E.unshift(Wa(l,G,R))):m||(G=ga(l,x),G!=null&&E.push(Wa(l,G,R)))),l=l.return}E.length!==0&&e.push({event:r,listeners:E})}var sb=/\r\n?/g,ub=/\u0000|\uFFFD/g;function rh(e){return(typeof e=="string"?e:""+e).replace(sb,`
`).replace(ub,"")}function ah(e,r){return r=rh(r),rh(e)===r}function _o(){}function Je(e,r,l,s,m,x){switch(l){case"children":typeof s=="string"?r==="body"||r==="textarea"&&s===""||Sr(e,s):(typeof s=="number"||typeof s=="bigint")&&r!=="body"&&Sr(e,""+s);break;case"className":Bl(e,"class",s);break;case"tabIndex":Bl(e,"tabindex",s);break;case"dir":case"role":case"viewBox":case"width":case"height":Bl(e,l,s);break;case"style":od(e,s,x);break;case"data":if(r!=="object"){Bl(e,"data",s);break}case"src":case"href":if(s===""&&(r!=="a"||l!=="href")){e.removeAttribute(l);break}if(s==null||typeof s=="function"||typeof s=="symbol"||typeof s=="boolean"){e.removeAttribute(l);break}s=Vl(""+s),e.setAttribute(l,s);break;case"action":case"formAction":if(typeof s=="function"){e.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof x=="function"&&(l==="formAction"?(r!=="input"&&Je(e,r,"name",m.name,m,null),Je(e,r,"formEncType",m.formEncType,m,null),Je(e,r,"formMethod",m.formMethod,m,null),Je(e,r,"formTarget",m.formTarget,m,null)):(Je(e,r,"encType",m.encType,m,null),Je(e,r,"method",m.method,m,null),Je(e,r,"target",m.target,m,null)));if(s==null||typeof s=="symbol"||typeof s=="boolean"){e.removeAttribute(l);break}s=Vl(""+s),e.setAttribute(l,s);break;case"onClick":s!=null&&(e.onclick=_o);break;case"onScroll":s!=null&&Fe("scroll",e);break;case"onScrollEnd":s!=null&&Fe("scrollend",e);break;case"dangerouslySetInnerHTML":if(s!=null){if(typeof s!="object"||!("__html"in s))throw Error(a(61));if(l=s.__html,l!=null){if(m.children!=null)throw Error(a(60));e.innerHTML=l}}break;case"multiple":e.multiple=s&&typeof s!="function"&&typeof s!="symbol";break;case"muted":e.muted=s&&typeof s!="function"&&typeof s!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(s==null||typeof s=="function"||typeof s=="boolean"||typeof s=="symbol"){e.removeAttribute("xlink:href");break}l=Vl(""+s),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":s!=null&&typeof s!="function"&&typeof s!="symbol"?e.setAttribute(l,""+s):e.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":s&&typeof s!="function"&&typeof s!="symbol"?e.setAttribute(l,""):e.removeAttribute(l);break;case"capture":case"download":s===!0?e.setAttribute(l,""):s!==!1&&s!=null&&typeof s!="function"&&typeof s!="symbol"?e.setAttribute(l,s):e.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":s!=null&&typeof s!="function"&&typeof s!="symbol"&&!isNaN(s)&&1<=s?e.setAttribute(l,s):e.removeAttribute(l);break;case"rowSpan":case"start":s==null||typeof s=="function"||typeof s=="symbol"||isNaN(s)?e.removeAttribute(l):e.setAttribute(l,s);break;case"popover":Fe("beforetoggle",e),Fe("toggle",e),Fl(e,"popover",s);break;case"xlinkActuate":qn(e,"http://www.w3.org/1999/xlink","xlink:actuate",s);break;case"xlinkArcrole":qn(e,"http://www.w3.org/1999/xlink","xlink:arcrole",s);break;case"xlinkRole":qn(e,"http://www.w3.org/1999/xlink","xlink:role",s);break;case"xlinkShow":qn(e,"http://www.w3.org/1999/xlink","xlink:show",s);break;case"xlinkTitle":qn(e,"http://www.w3.org/1999/xlink","xlink:title",s);break;case"xlinkType":qn(e,"http://www.w3.org/1999/xlink","xlink:type",s);break;case"xmlBase":qn(e,"http://www.w3.org/XML/1998/namespace","xml:base",s);break;case"xmlLang":qn(e,"http://www.w3.org/XML/1998/namespace","xml:lang",s);break;case"xmlSpace":qn(e,"http://www.w3.org/XML/1998/namespace","xml:space",s);break;case"is":Fl(e,"is",s);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=zx.get(l)||l,Fl(e,l,s))}}function xc(e,r,l,s,m,x){switch(l){case"style":od(e,s,x);break;case"dangerouslySetInnerHTML":if(s!=null){if(typeof s!="object"||!("__html"in s))throw Error(a(61));if(l=s.__html,l!=null){if(m.children!=null)throw Error(a(60));e.innerHTML=l}}break;case"children":typeof s=="string"?Sr(e,s):(typeof s=="number"||typeof s=="bigint")&&Sr(e,""+s);break;case"onScroll":s!=null&&Fe("scroll",e);break;case"onScrollEnd":s!=null&&Fe("scrollend",e);break;case"onClick":s!=null&&(e.onclick=_o);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Gn.hasOwnProperty(l))e:{if(l[0]==="o"&&l[1]==="n"&&(m=l.endsWith("Capture"),r=l.slice(2,m?l.length-7:void 0),x=e[Lt]||null,x=x!=null?x[l]:null,typeof x=="function"&&e.removeEventListener(r,x,m),typeof s=="function")){typeof x!="function"&&x!==null&&(l in e?e[l]=null:e.hasAttribute(l)&&e.removeAttribute(l)),e.addEventListener(r,s,m);break e}l in e?e[l]=s:s===!0?e.setAttribute(l,""):Fl(e,l,s)}}}function kt(e,r,l){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Fe("error",e),Fe("load",e);var s=!1,m=!1,x;for(x in l)if(l.hasOwnProperty(x)){var E=l[x];if(E!=null)switch(x){case"src":s=!0;break;case"srcSet":m=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,r));default:Je(e,r,x,E,l,null)}}m&&Je(e,r,"srcSet",l.srcSet,l,null),s&&Je(e,r,"src",l.src,l,null);return;case"input":Fe("invalid",e);var M=x=E=m=null,R=null,G=null;for(s in l)if(l.hasOwnProperty(s)){var ee=l[s];if(ee!=null)switch(s){case"name":m=ee;break;case"type":E=ee;break;case"checked":R=ee;break;case"defaultChecked":G=ee;break;case"value":x=ee;break;case"defaultValue":M=ee;break;case"children":case"dangerouslySetInnerHTML":if(ee!=null)throw Error(a(137,r));break;default:Je(e,r,s,ee,l,null)}}id(e,x,M,R,G,E,m,!1),Pl(e);return;case"select":Fe("invalid",e),s=E=x=null;for(m in l)if(l.hasOwnProperty(m)&&(M=l[m],M!=null))switch(m){case"value":x=M;break;case"defaultValue":E=M;break;case"multiple":s=M;default:Je(e,r,m,M,l,null)}r=x,l=E,e.multiple=!!s,r!=null?Tr(e,!!s,r,!1):l!=null&&Tr(e,!!s,l,!0);return;case"textarea":Fe("invalid",e),x=m=s=null;for(E in l)if(l.hasOwnProperty(E)&&(M=l[E],M!=null))switch(E){case"value":s=M;break;case"defaultValue":m=M;break;case"children":x=M;break;case"dangerouslySetInnerHTML":if(M!=null)throw Error(a(91));break;default:Je(e,r,E,M,l,null)}ad(e,s,m,x),Pl(e);return;case"option":for(R in l)if(l.hasOwnProperty(R)&&(s=l[R],s!=null))switch(R){case"selected":e.selected=s&&typeof s!="function"&&typeof s!="symbol";break;default:Je(e,r,R,s,l,null)}return;case"dialog":Fe("beforetoggle",e),Fe("toggle",e),Fe("cancel",e),Fe("close",e);break;case"iframe":case"object":Fe("load",e);break;case"video":case"audio":for(s=0;s<Ja.length;s++)Fe(Ja[s],e);break;case"image":Fe("error",e),Fe("load",e);break;case"details":Fe("toggle",e);break;case"embed":case"source":case"link":Fe("error",e),Fe("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(G in l)if(l.hasOwnProperty(G)&&(s=l[G],s!=null))switch(G){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,r));default:Je(e,r,G,s,l,null)}return;default:if(Ls(r)){for(ee in l)l.hasOwnProperty(ee)&&(s=l[ee],s!==void 0&&xc(e,r,ee,s,l,void 0));return}}for(M in l)l.hasOwnProperty(M)&&(s=l[M],s!=null&&Je(e,r,M,s,l,null))}function cb(e,r,l,s){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var m=null,x=null,E=null,M=null,R=null,G=null,ee=null;for($ in l){var le=l[$];if(l.hasOwnProperty($)&&le!=null)switch($){case"checked":break;case"value":break;case"defaultValue":R=le;default:s.hasOwnProperty($)||Je(e,r,$,null,s,le)}}for(var K in s){var $=s[K];if(le=l[K],s.hasOwnProperty(K)&&($!=null||le!=null))switch(K){case"type":x=$;break;case"name":m=$;break;case"checked":G=$;break;case"defaultChecked":ee=$;break;case"value":E=$;break;case"defaultValue":M=$;break;case"children":case"dangerouslySetInnerHTML":if($!=null)throw Error(a(137,r));break;default:$!==le&&Je(e,r,K,$,s,le)}}Is(e,E,M,R,G,ee,x,m);return;case"select":$=E=M=K=null;for(x in l)if(R=l[x],l.hasOwnProperty(x)&&R!=null)switch(x){case"value":break;case"multiple":$=R;default:s.hasOwnProperty(x)||Je(e,r,x,null,s,R)}for(m in s)if(x=s[m],R=l[m],s.hasOwnProperty(m)&&(x!=null||R!=null))switch(m){case"value":K=x;break;case"defaultValue":M=x;break;case"multiple":E=x;default:x!==R&&Je(e,r,m,x,s,R)}r=M,l=E,s=$,K!=null?Tr(e,!!l,K,!1):!!s!=!!l&&(r!=null?Tr(e,!!l,r,!0):Tr(e,!!l,l?[]:"",!1));return;case"textarea":$=K=null;for(M in l)if(m=l[M],l.hasOwnProperty(M)&&m!=null&&!s.hasOwnProperty(M))switch(M){case"value":break;case"children":break;default:Je(e,r,M,null,s,m)}for(E in s)if(m=s[E],x=l[E],s.hasOwnProperty(E)&&(m!=null||x!=null))switch(E){case"value":K=m;break;case"defaultValue":$=m;break;case"children":break;case"dangerouslySetInnerHTML":if(m!=null)throw Error(a(91));break;default:m!==x&&Je(e,r,E,m,s,x)}rd(e,K,$);return;case"option":for(var De in l)if(K=l[De],l.hasOwnProperty(De)&&K!=null&&!s.hasOwnProperty(De))switch(De){case"selected":e.selected=!1;break;default:Je(e,r,De,null,s,K)}for(R in s)if(K=s[R],$=l[R],s.hasOwnProperty(R)&&K!==$&&(K!=null||$!=null))switch(R){case"selected":e.selected=K&&typeof K!="function"&&typeof K!="symbol";break;default:Je(e,r,R,K,s,$)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Me in l)K=l[Me],l.hasOwnProperty(Me)&&K!=null&&!s.hasOwnProperty(Me)&&Je(e,r,Me,null,s,K);for(G in s)if(K=s[G],$=l[G],s.hasOwnProperty(G)&&K!==$&&(K!=null||$!=null))switch(G){case"children":case"dangerouslySetInnerHTML":if(K!=null)throw Error(a(137,r));break;default:Je(e,r,G,K,s,$)}return;default:if(Ls(r)){for(var We in l)K=l[We],l.hasOwnProperty(We)&&K!==void 0&&!s.hasOwnProperty(We)&&xc(e,r,We,void 0,s,K);for(ee in s)K=s[ee],$=l[ee],!s.hasOwnProperty(ee)||K===$||K===void 0&&$===void 0||xc(e,r,ee,K,s,$);return}}for(var z in l)K=l[z],l.hasOwnProperty(z)&&K!=null&&!s.hasOwnProperty(z)&&Je(e,r,z,null,s,K);for(le in s)K=s[le],$=l[le],!s.hasOwnProperty(le)||K===$||K==null&&$==null||Je(e,r,le,K,s,$)}var vc=null,bc=null;function Lo(e){return e.nodeType===9?e:e.ownerDocument}function lh(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function oh(e,r){if(e===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&r==="foreignObject"?0:e}function Tc(e,r){return e==="textarea"||e==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var Sc=null;function fb(){var e=window.event;return e&&e.type==="popstate"?e===Sc?!1:(Sc=e,!0):(Sc=null,!1)}var sh=typeof setTimeout=="function"?setTimeout:void 0,db=typeof clearTimeout=="function"?clearTimeout:void 0,uh=typeof Promise=="function"?Promise:void 0,mb=typeof queueMicrotask=="function"?queueMicrotask:typeof uh<"u"?function(e){return uh.resolve(null).then(e).catch(pb)}:sh;function pb(e){setTimeout(function(){throw e})}function Ai(e){return e==="head"}function ch(e,r){var l=r,s=0,m=0;do{var x=l.nextSibling;if(e.removeChild(l),x&&x.nodeType===8)if(l=x.data,l==="/$"){if(0<s&&8>s){l=s;var E=e.ownerDocument;if(l&1&&Za(E.documentElement),l&2&&Za(E.body),l&4)for(l=E.head,Za(l),E=l.firstChild;E;){var M=E.nextSibling,R=E.nodeName;E[Ui]||R==="SCRIPT"||R==="STYLE"||R==="LINK"&&E.rel.toLowerCase()==="stylesheet"||l.removeChild(E),E=M}}if(m===0){e.removeChild(x),ol(r);return}m--}else l==="$"||l==="$?"||l==="$!"?m++:s=l.charCodeAt(0)-48;else s=0;l=x}while(l);ol(r)}function Cc(e){var r=e.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var l=r;switch(r=r.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":Cc(l),ma(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}e.removeChild(l)}}function hb(e,r,l,s){for(;e.nodeType===1;){var m=l;if(e.nodeName.toLowerCase()!==r.toLowerCase()){if(!s&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(s){if(!e[Ui])switch(r){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(x=e.getAttribute("rel"),x==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(x!==m.rel||e.getAttribute("href")!==(m.href==null||m.href===""?null:m.href)||e.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin)||e.getAttribute("title")!==(m.title==null?null:m.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(x=e.getAttribute("src"),(x!==(m.src==null?null:m.src)||e.getAttribute("type")!==(m.type==null?null:m.type)||e.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin))&&x&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(r==="input"&&e.type==="hidden"){var x=m.name==null?null:""+m.name;if(m.type==="hidden"&&e.getAttribute("name")===x)return e}else return e;if(e=kn(e.nextSibling),e===null)break}return null}function gb(e,r,l){if(r==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!l||(e=kn(e.nextSibling),e===null))return null;return e}function Ec(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState==="complete"}function yb(e,r){var l=e.ownerDocument;if(e.data!=="$?"||l.readyState==="complete")r();else{var s=function(){r(),l.removeEventListener("DOMContentLoaded",s)};l.addEventListener("DOMContentLoaded",s),e._reactRetry=s}}function kn(e){for(;e!=null;e=e.nextSibling){var r=e.nodeType;if(r===1||r===3)break;if(r===8){if(r=e.data,r==="$"||r==="$!"||r==="$?"||r==="F!"||r==="F")break;if(r==="/$")return null}}return e}var Mc=null;function fh(e){e=e.previousSibling;for(var r=0;e;){if(e.nodeType===8){var l=e.data;if(l==="$"||l==="$!"||l==="$?"){if(r===0)return e;r--}else l==="/$"&&r++}e=e.previousSibling}return null}function dh(e,r,l){switch(r=Lo(l),e){case"html":if(e=r.documentElement,!e)throw Error(a(452));return e;case"head":if(e=r.head,!e)throw Error(a(453));return e;case"body":if(e=r.body,!e)throw Error(a(454));return e;default:throw Error(a(451))}}function Za(e){for(var r=e.attributes;r.length;)e.removeAttributeNode(r[0]);ma(e)}var bn=new Map,mh=new Set;function Oo(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var ai=L.d;L.d={f:xb,r:vb,D:bb,C:Tb,L:Sb,m:Cb,X:Mb,S:Eb,M:Ab};function xb(){var e=ai.f(),r=Ao();return e||r}function vb(e){var r=Hn(e);r!==null&&r.tag===5&&r.type==="form"?_m(r):ai.r(e)}var Jr=typeof document>"u"?null:document;function ph(e,r,l){var s=Jr;if(s&&typeof r=="string"&&r){var m=mn(r);m='link[rel="'+e+'"][href="'+m+'"]',typeof l=="string"&&(m+='[crossorigin="'+l+'"]'),mh.has(m)||(mh.add(m),e={rel:e,crossOrigin:l,href:r},s.querySelector(m)===null&&(r=s.createElement("link"),kt(r,"link",e),ht(r),s.head.appendChild(r)))}}function bb(e){ai.D(e),ph("dns-prefetch",e,null)}function Tb(e,r){ai.C(e,r),ph("preconnect",e,r)}function Sb(e,r,l){ai.L(e,r,l);var s=Jr;if(s&&e&&r){var m='link[rel="preload"][as="'+mn(r)+'"]';r==="image"&&l&&l.imageSrcSet?(m+='[imagesrcset="'+mn(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(m+='[imagesizes="'+mn(l.imageSizes)+'"]')):m+='[href="'+mn(e)+'"]';var x=m;switch(r){case"style":x=Wr(e);break;case"script":x=Zr(e)}bn.has(x)||(e=v({rel:"preload",href:r==="image"&&l&&l.imageSrcSet?void 0:e,as:r},l),bn.set(x,e),s.querySelector(m)!==null||r==="style"&&s.querySelector(el(x))||r==="script"&&s.querySelector(tl(x))||(r=s.createElement("link"),kt(r,"link",e),ht(r),s.head.appendChild(r)))}}function Cb(e,r){ai.m(e,r);var l=Jr;if(l&&e){var s=r&&typeof r.as=="string"?r.as:"script",m='link[rel="modulepreload"][as="'+mn(s)+'"][href="'+mn(e)+'"]',x=m;switch(s){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":x=Zr(e)}if(!bn.has(x)&&(e=v({rel:"modulepreload",href:e},r),bn.set(x,e),l.querySelector(m)===null)){switch(s){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(tl(x)))return}s=l.createElement("link"),kt(s,"link",e),ht(s),l.head.appendChild(s)}}}function Eb(e,r,l){ai.S(e,r,l);var s=Jr;if(s&&e){var m=Gi(s).hoistableStyles,x=Wr(e);r=r||"default";var E=m.get(x);if(!E){var M={loading:0,preload:null};if(E=s.querySelector(el(x)))M.loading=5;else{e=v({rel:"stylesheet",href:e,"data-precedence":r},l),(l=bn.get(x))&&Ac(e,l);var R=E=s.createElement("link");ht(R),kt(R,"link",e),R._p=new Promise(function(G,ee){R.onload=G,R.onerror=ee}),R.addEventListener("load",function(){M.loading|=1}),R.addEventListener("error",function(){M.loading|=2}),M.loading|=4,Fo(E,r,s)}E={type:"stylesheet",instance:E,count:1,state:M},m.set(x,E)}}}function Mb(e,r){ai.X(e,r);var l=Jr;if(l&&e){var s=Gi(l).hoistableScripts,m=Zr(e),x=s.get(m);x||(x=l.querySelector(tl(m)),x||(e=v({src:e,async:!0},r),(r=bn.get(m))&&wc(e,r),x=l.createElement("script"),ht(x),kt(x,"link",e),l.head.appendChild(x)),x={type:"script",instance:x,count:1,state:null},s.set(m,x))}}function Ab(e,r){ai.M(e,r);var l=Jr;if(l&&e){var s=Gi(l).hoistableScripts,m=Zr(e),x=s.get(m);x||(x=l.querySelector(tl(m)),x||(e=v({src:e,async:!0,type:"module"},r),(r=bn.get(m))&&wc(e,r),x=l.createElement("script"),ht(x),kt(x,"link",e),l.head.appendChild(x)),x={type:"script",instance:x,count:1,state:null},s.set(m,x))}}function hh(e,r,l,s){var m=(m=ie.current)?Oo(m):null;if(!m)throw Error(a(446));switch(e){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(r=Wr(l.href),l=Gi(m).hoistableStyles,s=l.get(r),s||(s={type:"style",instance:null,count:0,state:null},l.set(r,s)),s):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){e=Wr(l.href);var x=Gi(m).hoistableStyles,E=x.get(e);if(E||(m=m.ownerDocument||m,E={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},x.set(e,E),(x=m.querySelector(el(e)))&&!x._p&&(E.instance=x,E.state.loading=5),bn.has(e)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},bn.set(e,l),x||wb(m,e,l,E.state))),r&&s===null)throw Error(a(528,""));return E}if(r&&s!==null)throw Error(a(529,""));return null;case"script":return r=l.async,l=l.src,typeof l=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=Zr(l),l=Gi(m).hoistableScripts,s=l.get(r),s||(s={type:"script",instance:null,count:0,state:null},l.set(r,s)),s):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,e))}}function Wr(e){return'href="'+mn(e)+'"'}function el(e){return'link[rel="stylesheet"]['+e+"]"}function gh(e){return v({},e,{"data-precedence":e.precedence,precedence:null})}function wb(e,r,l,s){e.querySelector('link[rel="preload"][as="style"]['+r+"]")?s.loading=1:(r=e.createElement("link"),s.preload=r,r.addEventListener("load",function(){return s.loading|=1}),r.addEventListener("error",function(){return s.loading|=2}),kt(r,"link",l),ht(r),e.head.appendChild(r))}function Zr(e){return'[src="'+mn(e)+'"]'}function tl(e){return"script[async]"+e}function yh(e,r,l){if(r.count++,r.instance===null)switch(r.type){case"style":var s=e.querySelector('style[data-href~="'+mn(l.href)+'"]');if(s)return r.instance=s,ht(s),s;var m=v({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return s=(e.ownerDocument||e).createElement("style"),ht(s),kt(s,"style",m),Fo(s,l.precedence,e),r.instance=s;case"stylesheet":m=Wr(l.href);var x=e.querySelector(el(m));if(x)return r.state.loading|=4,r.instance=x,ht(x),x;s=gh(l),(m=bn.get(m))&&Ac(s,m),x=(e.ownerDocument||e).createElement("link"),ht(x);var E=x;return E._p=new Promise(function(M,R){E.onload=M,E.onerror=R}),kt(x,"link",s),r.state.loading|=4,Fo(x,l.precedence,e),r.instance=x;case"script":return x=Zr(l.src),(m=e.querySelector(tl(x)))?(r.instance=m,ht(m),m):(s=l,(m=bn.get(x))&&(s=v({},l),wc(s,m)),e=e.ownerDocument||e,m=e.createElement("script"),ht(m),kt(m,"link",s),e.head.appendChild(m),r.instance=m);case"void":return null;default:throw Error(a(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(s=r.instance,r.state.loading|=4,Fo(s,l.precedence,e));return r.instance}function Fo(e,r,l){for(var s=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),m=s.length?s[s.length-1]:null,x=m,E=0;E<s.length;E++){var M=s[E];if(M.dataset.precedence===r)x=M;else if(x!==m)break}x?x.parentNode.insertBefore(e,x.nextSibling):(r=l.nodeType===9?l.head:l,r.insertBefore(e,r.firstChild))}function Ac(e,r){e.crossOrigin==null&&(e.crossOrigin=r.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=r.referrerPolicy),e.title==null&&(e.title=r.title)}function wc(e,r){e.crossOrigin==null&&(e.crossOrigin=r.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=r.referrerPolicy),e.integrity==null&&(e.integrity=r.integrity)}var Bo=null;function xh(e,r,l){if(Bo===null){var s=new Map,m=Bo=new Map;m.set(l,s)}else m=Bo,s=m.get(l),s||(s=new Map,m.set(l,s));if(s.has(e))return s;for(s.set(e,null),l=l.getElementsByTagName(e),m=0;m<l.length;m++){var x=l[m];if(!(x[Ui]||x[Ct]||e==="link"&&x.getAttribute("rel")==="stylesheet")&&x.namespaceURI!=="http://www.w3.org/2000/svg"){var E=x.getAttribute(r)||"";E=e+E;var M=s.get(E);M?M.push(x):s.set(E,[x])}}return s}function vh(e,r,l){e=e.ownerDocument||e,e.head.insertBefore(l,r==="title"?e.querySelector("head > title"):null)}function Db(e,r,l){if(l===1||r.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;switch(r.rel){case"stylesheet":return e=r.disabled,typeof r.precedence=="string"&&e==null;default:return!0}case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function bh(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}var nl=null;function kb(){}function Nb(e,r,l){if(nl===null)throw Error(a(475));var s=nl;if(r.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var m=Wr(l.href),x=e.querySelector(el(m));if(x){e=x._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(s.count++,s=Po.bind(s),e.then(s,s)),r.state.loading|=4,r.instance=x,ht(x);return}x=e.ownerDocument||e,l=gh(l),(m=bn.get(m))&&Ac(l,m),x=x.createElement("link"),ht(x);var E=x;E._p=new Promise(function(M,R){E.onload=M,E.onerror=R}),kt(x,"link",l),r.instance=x}s.stylesheets===null&&(s.stylesheets=new Map),s.stylesheets.set(r,e),(e=r.state.preload)&&(r.state.loading&3)===0&&(s.count++,r=Po.bind(s),e.addEventListener("load",r),e.addEventListener("error",r))}}function Rb(){if(nl===null)throw Error(a(475));var e=nl;return e.stylesheets&&e.count===0&&Dc(e,e.stylesheets),0<e.count?function(r){var l=setTimeout(function(){if(e.stylesheets&&Dc(e,e.stylesheets),e.unsuspend){var s=e.unsuspend;e.unsuspend=null,s()}},6e4);return e.unsuspend=r,function(){e.unsuspend=null,clearTimeout(l)}}:null}function Po(){if(this.count--,this.count===0){if(this.stylesheets)Dc(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var zo=null;function Dc(e,r){e.stylesheets=null,e.unsuspend!==null&&(e.count++,zo=new Map,r.forEach(Ib,e),zo=null,Po.call(e))}function Ib(e,r){if(!(r.state.loading&4)){var l=zo.get(e);if(l)var s=l.get(null);else{l=new Map,zo.set(e,l);for(var m=e.querySelectorAll("link[data-precedence],style[data-precedence]"),x=0;x<m.length;x++){var E=m[x];(E.nodeName==="LINK"||E.getAttribute("media")!=="not all")&&(l.set(E.dataset.precedence,E),s=E)}s&&l.set(null,s)}m=r.instance,E=m.getAttribute("data-precedence"),x=l.get(E)||s,x===s&&l.set(null,m),l.set(E,m),this.count++,s=Po.bind(this),m.addEventListener("load",s),m.addEventListener("error",s),x?x.parentNode.insertBefore(m,x.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(m,e.firstChild)),r.state.loading|=4}}var il={$$typeof:j,Provider:null,Consumer:null,_currentValue:D,_currentValue2:D,_threadCount:0};function _b(e,r,l,s,m,x,E,M){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=xr(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=xr(0),this.hiddenUpdates=xr(null),this.identifierPrefix=s,this.onUncaughtError=m,this.onCaughtError=x,this.onRecoverableError=E,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=M,this.incompleteTransitions=new Map}function Th(e,r,l,s,m,x,E,M,R,G,ee,le){return e=new _b(e,r,l,E,M,R,G,le),r=1,x===!0&&(r|=24),x=nn(3,null,null,r),e.current=x,x.stateNode=e,r=uu(),r.refCount++,e.pooledCache=r,r.refCount++,x.memoizedState={element:s,isDehydrated:l,cache:r},mu(x),e}function Sh(e){return e?(e=Nr,e):Nr}function Ch(e,r,l,s,m,x){m=Sh(m),s.context===null?s.context=m:s.pendingContext=m,s=mi(r),s.payload={element:l},x=x===void 0?null:x,x!==null&&(s.callback=x),l=pi(e,s,r),l!==null&&(sn(l,e,r),_a(l,e,r))}function Eh(e,r){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var l=e.retryLane;e.retryLane=l!==0&&l<r?l:r}}function kc(e,r){Eh(e,r),(e=e.alternate)&&Eh(e,r)}function Mh(e){if(e.tag===13){var r=kr(e,67108864);r!==null&&sn(r,e,67108864),kc(e,67108864)}}var Vo=!0;function Lb(e,r,l,s){var m=Y.T;Y.T=null;var x=L.p;try{L.p=2,Nc(e,r,l,s)}finally{L.p=x,Y.T=m}}function Ob(e,r,l,s){var m=Y.T;Y.T=null;var x=L.p;try{L.p=8,Nc(e,r,l,s)}finally{L.p=x,Y.T=m}}function Nc(e,r,l,s){if(Vo){var m=Rc(s);if(m===null)yc(e,r,s,jo,l),wh(e,s);else if(Bb(m,e,r,l,s))s.stopPropagation();else if(wh(e,s),r&4&&-1<Fb.indexOf(e)){for(;m!==null;){var x=Hn(m);if(x!==null)switch(x.tag){case 3:if(x=x.stateNode,x.current.memoizedState.isDehydrated){var E=Vt(x.pendingLanes);if(E!==0){var M=x;for(M.pendingLanes|=2,M.entangledLanes|=2;E;){var R=1<<31-Ee(E);M.entanglements[1]|=R,E&=~R}Pn(x),($e&6)===0&&(Eo=Nt()+500,Qa(0))}}break;case 13:M=kr(x,2),M!==null&&sn(M,x,2),Ao(),kc(x,2)}if(x=Rc(s),x===null&&yc(e,r,s,jo,l),x===m)break;m=x}m!==null&&s.stopPropagation()}else yc(e,r,s,null,l)}}function Rc(e){return e=Fs(e),Ic(e)}var jo=null;function Ic(e){if(jo=null,e=si(e),e!==null){var r=u(e);if(r===null)e=null;else{var l=r.tag;if(l===13){if(e=c(r),e!==null)return e;e=null}else if(l===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;e=null}else r!==e&&(e=null)}}return jo=e,null}function Ah(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(pr()){case vt:return 2;case jn:return 8;case Un:case hr:return 32;case gr:return 268435456;default:return 32}default:return 32}}var _c=!1,wi=null,Di=null,ki=null,rl=new Map,al=new Map,Ni=[],Fb="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function wh(e,r){switch(e){case"focusin":case"focusout":wi=null;break;case"dragenter":case"dragleave":Di=null;break;case"mouseover":case"mouseout":ki=null;break;case"pointerover":case"pointerout":rl.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":al.delete(r.pointerId)}}function ll(e,r,l,s,m,x){return e===null||e.nativeEvent!==x?(e={blockedOn:r,domEventName:l,eventSystemFlags:s,nativeEvent:x,targetContainers:[m]},r!==null&&(r=Hn(r),r!==null&&Mh(r)),e):(e.eventSystemFlags|=s,r=e.targetContainers,m!==null&&r.indexOf(m)===-1&&r.push(m),e)}function Bb(e,r,l,s,m){switch(r){case"focusin":return wi=ll(wi,e,r,l,s,m),!0;case"dragenter":return Di=ll(Di,e,r,l,s,m),!0;case"mouseover":return ki=ll(ki,e,r,l,s,m),!0;case"pointerover":var x=m.pointerId;return rl.set(x,ll(rl.get(x)||null,e,r,l,s,m)),!0;case"gotpointercapture":return x=m.pointerId,al.set(x,ll(al.get(x)||null,e,r,l,s,m)),!0}return!1}function Dh(e){var r=si(e.target);if(r!==null){var l=u(r);if(l!==null){if(r=l.tag,r===13){if(r=c(l),r!==null){e.blockedOn=r,Ds(e.priority,function(){if(l.tag===13){var s=on();s=_t(s);var m=kr(l,s);m!==null&&sn(m,l,s),kc(l,s)}});return}}else if(r===3&&l.stateNode.current.memoizedState.isDehydrated){e.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Uo(e){if(e.blockedOn!==null)return!1;for(var r=e.targetContainers;0<r.length;){var l=Rc(e.nativeEvent);if(l===null){l=e.nativeEvent;var s=new l.constructor(l.type,l);Os=s,l.target.dispatchEvent(s),Os=null}else return r=Hn(l),r!==null&&Mh(r),e.blockedOn=l,!1;r.shift()}return!0}function kh(e,r,l){Uo(e)&&l.delete(r)}function Pb(){_c=!1,wi!==null&&Uo(wi)&&(wi=null),Di!==null&&Uo(Di)&&(Di=null),ki!==null&&Uo(ki)&&(ki=null),rl.forEach(kh),al.forEach(kh)}function Ho(e,r){e.blockedOn===r&&(e.blockedOn=null,_c||(_c=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,Pb)))}var Go=null;function Nh(e){Go!==e&&(Go=e,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){Go===e&&(Go=null);for(var r=0;r<e.length;r+=3){var l=e[r],s=e[r+1],m=e[r+2];if(typeof s!="function"){if(Ic(s||l)===null)continue;break}var x=Hn(l);x!==null&&(e.splice(r,3),r-=3,Iu(x,{pending:!0,data:m,method:l.method,action:s},s,m))}}))}function ol(e){function r(R){return Ho(R,e)}wi!==null&&Ho(wi,e),Di!==null&&Ho(Di,e),ki!==null&&Ho(ki,e),rl.forEach(r),al.forEach(r);for(var l=0;l<Ni.length;l++){var s=Ni[l];s.blockedOn===e&&(s.blockedOn=null)}for(;0<Ni.length&&(l=Ni[0],l.blockedOn===null);)Dh(l),l.blockedOn===null&&Ni.shift();if(l=(e.ownerDocument||e).$$reactFormReplay,l!=null)for(s=0;s<l.length;s+=3){var m=l[s],x=l[s+1],E=m[Lt]||null;if(typeof x=="function")E||Nh(l);else if(E){var M=null;if(x&&x.hasAttribute("formAction")){if(m=x,E=x[Lt]||null)M=E.formAction;else if(Ic(m)!==null)continue}else M=E.action;typeof M=="function"?l[s+1]=M:(l.splice(s,3),s-=3),Nh(l)}}}function Lc(e){this._internalRoot=e}qo.prototype.render=Lc.prototype.render=function(e){var r=this._internalRoot;if(r===null)throw Error(a(409));var l=r.current,s=on();Ch(l,s,e,r,null,null)},qo.prototype.unmount=Lc.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var r=e.containerInfo;Ch(e.current,2,null,e,null,null),Ao(),r[oi]=null}};function qo(e){this._internalRoot=e}qo.prototype.unstable_scheduleHydration=function(e){if(e){var r=_l();e={blockedOn:null,target:e,priority:r};for(var l=0;l<Ni.length&&r!==0&&r<Ni[l].priority;l++);Ni.splice(l,0,e),l===0&&Dh(e)}};var Rh=i.version;if(Rh!=="19.1.0")throw Error(a(527,Rh,"19.1.0"));L.findDOMNode=function(e){var r=e._reactInternals;if(r===void 0)throw typeof e.render=="function"?Error(a(188)):(e=Object.keys(e).join(","),Error(a(268,e)));return e=p(r),e=e!==null?f(e):null,e=e===null?null:e.stateNode,e};var zb={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:Y,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Yo=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Yo.isDisabled&&Yo.supportsFiber)try{W=Yo.inject(zb),ce=Yo}catch{}}return ul.createRoot=function(e,r){if(!o(e))throw Error(a(299));var l=!1,s="",m=Km,x=$m,E=Xm,M=null;return r!=null&&(r.unstable_strictMode===!0&&(l=!0),r.identifierPrefix!==void 0&&(s=r.identifierPrefix),r.onUncaughtError!==void 0&&(m=r.onUncaughtError),r.onCaughtError!==void 0&&(x=r.onCaughtError),r.onRecoverableError!==void 0&&(E=r.onRecoverableError),r.unstable_transitionCallbacks!==void 0&&(M=r.unstable_transitionCallbacks)),r=Th(e,1,!1,null,null,l,s,m,x,E,M,null),e[oi]=r.current,gc(e),new Lc(r)},ul.hydrateRoot=function(e,r,l){if(!o(e))throw Error(a(299));var s=!1,m="",x=Km,E=$m,M=Xm,R=null,G=null;return l!=null&&(l.unstable_strictMode===!0&&(s=!0),l.identifierPrefix!==void 0&&(m=l.identifierPrefix),l.onUncaughtError!==void 0&&(x=l.onUncaughtError),l.onCaughtError!==void 0&&(E=l.onCaughtError),l.onRecoverableError!==void 0&&(M=l.onRecoverableError),l.unstable_transitionCallbacks!==void 0&&(R=l.unstable_transitionCallbacks),l.formState!==void 0&&(G=l.formState)),r=Th(e,1,!0,r,l??null,s,m,x,E,M,R,G),r.context=Sh(null),l=r.current,s=on(),s=_t(s),m=mi(s),m.callback=null,pi(l,m,s),l=s,r.current.lanes=l,J(r,l),Pn(r),e[oi]=r.current,gc(e),new qo(r)},ul.version="19.1.0",ul}var jh;function Qb(){if(jh)return Bc.exports;jh=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(i){console.error(i)}}return t(),Bc.exports=Xb(),Bc.exports}var Jb=Qb();const Wb=Dl(Jb);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let Zb,e1;function t1(){return{geminiUrl:Zb,vertexUrl:e1}}function n1(t,i,n){var a,o,u;if(!(!((a=t.httpOptions)===null||a===void 0)&&a.baseUrl)){const c=t1();return t.vertexai?(o=c.vertexUrl)!==null&&o!==void 0?o:i:(u=c.geminiUrl)!==null&&u!==void 0?u:n}return t.httpOptions.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class kl{}function ke(t,i){const n=/\{([^}]+)\}/g;return t.replace(n,(a,o)=>{if(Object.prototype.hasOwnProperty.call(i,o)){const u=i[o];return u!=null?String(u):""}else throw new Error(`Key '${o}' not found in valueMap.`)})}function y(t,i,n){for(let u=0;u<i.length-1;u++){const c=i[u];if(c.endsWith("[]")){const d=c.slice(0,-2);if(!(d in t))if(Array.isArray(n))t[d]=Array.from({length:n.length},()=>({}));else throw new Error(`Value must be a list given an array path ${c}`);if(Array.isArray(t[d])){const p=t[d];if(Array.isArray(n))for(let f=0;f<p.length;f++){const v=p[f];y(v,i.slice(u+1),n[f])}else for(const f of p)y(f,i.slice(u+1),n)}return}else if(c.endsWith("[0]")){const d=c.slice(0,-3);d in t||(t[d]=[{}]);const p=t[d];y(p[0],i.slice(u+1),n);return}(!t[c]||typeof t[c]!="object")&&(t[c]={}),t=t[c]}const a=i[i.length-1],o=t[a];if(o!==void 0){if(!n||typeof n=="object"&&Object.keys(n).length===0||n===o)return;if(typeof o=="object"&&typeof n=="object"&&o!==null&&n!==null)Object.assign(o,n);else throw new Error(`Cannot set value for an existing key. Key: ${a}`)}else t[a]=n}function g(t,i){try{if(i.length===1&&i[0]==="_self")return t;for(let n=0;n<i.length;n++){if(typeof t!="object"||t===null)return;const a=i[n];if(a.endsWith("[]")){const o=a.slice(0,-2);if(o in t){const u=t[o];return Array.isArray(u)?u.map(c=>g(c,i.slice(n+1))):void 0}else return}else t=t[a]}return t}catch(n){if(n instanceof TypeError)return;throw n}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function ct(t,i){if(!i||typeof i!="string")throw new Error("model is required and must be a string");if(t.isVertexAI()){if(i.startsWith("publishers/")||i.startsWith("projects/")||i.startsWith("models/"))return i;if(i.indexOf("/")>=0){const n=i.split("/",2);return`publishers/${n[0]}/models/${n[1]}`}else return`publishers/google/models/${i}`}else return i.startsWith("models/")||i.startsWith("tunedModels/")?i:`models/${i}`}function n0(t,i){const n=ct(t,i);return n?n.startsWith("publishers/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}`:n.startsWith("models/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/publishers/google/${n}`:n:""}function i0(t,i){return Array.isArray(i)?i.map(n=>cs(t,n)):[cs(t,i)]}function cs(t,i){if(typeof i=="object"&&i!==null)return i;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof i}`)}function i1(t,i){const n=cs(t,i);if(n.mimeType&&n.mimeType.startsWith("image/"))return n;throw new Error(`Unsupported mime type: ${n.mimeType}`)}function r1(t,i){const n=cs(t,i);if(n.mimeType&&n.mimeType.startsWith("audio/"))return n;throw new Error(`Unsupported mime type: ${n.mimeType}`)}function Uh(t,i){if(i==null)throw new Error("PartUnion is required");if(typeof i=="object")return i;if(typeof i=="string")return{text:i};throw new Error(`Unsupported part type: ${typeof i}`)}function r0(t,i){if(i==null||Array.isArray(i)&&i.length===0)throw new Error("PartListUnion is required");return Array.isArray(i)?i.map(n=>Uh(t,n)):[Uh(t,i)]}function cf(t){return t!=null&&typeof t=="object"&&"parts"in t&&Array.isArray(t.parts)}function Hh(t){return t!=null&&typeof t=="object"&&"functionCall"in t}function Gh(t){return t!=null&&typeof t=="object"&&"functionResponse"in t}function Qt(t,i){if(i==null)throw new Error("ContentUnion is required");return cf(i)?i:{role:"user",parts:r0(t,i)}}function a0(t,i){if(!i)return[];if(t.isVertexAI()&&Array.isArray(i))return i.flatMap(n=>{const a=Qt(t,n);return a.parts&&a.parts.length>0&&a.parts[0].text!==void 0?[a.parts[0].text]:[]});if(t.isVertexAI()){const n=Qt(t,i);return n.parts&&n.parts.length>0&&n.parts[0].text!==void 0?[n.parts[0].text]:[]}return Array.isArray(i)?i.map(n=>Qt(t,n)):[Qt(t,i)]}function Bi(t,i){if(i==null||Array.isArray(i)&&i.length===0)throw new Error("contents are required");if(!Array.isArray(i)){if(Hh(i)||Gh(i))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[Qt(t,i)]}const n=[],a=[],o=cf(i[0]);for(const u of i){const c=cf(u);if(c!=o)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(c)n.push(u);else{if(Hh(u)||Gh(u))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");a.push(u)}}return o||n.push({role:"user",parts:r0(t,a)}),n}function l0(t,i){return i}function o0(t,i){if(typeof i=="object")return i;if(typeof i=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:i}}};throw new Error(`Unsupported speechConfig type: ${typeof i}`)}function bs(t,i){return i}function Ts(t,i){if(!Array.isArray(i))throw new Error("tool is required and must be an array of Tools");return i}function a1(t,i,n,a=1){const o=!i.startsWith(`${n}/`)&&i.split("/").length===a;return t.isVertexAI()?i.startsWith("projects/")?i:i.startsWith("locations/")?`projects/${t.getProject()}/${i}`:i.startsWith(`${n}/`)?`projects/${t.getProject()}/locations/${t.getLocation()}/${i}`:o?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}/${i}`:i:o?`${n}/${i}`:i}function Pi(t,i){if(typeof i!="string")throw new Error("name must be a string");return a1(t,i,"cachedContents")}function s0(t,i){switch(i){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return i}}function zi(t,i){if(typeof i!="string")throw new Error("fromImageBytes must be a string");return i}function u0(t,i){if(typeof i!="string")throw new Error("fromName must be a string");return i.startsWith("files/")?i.split("files/")[1]:i}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function l1(t,i){const n={};if(g(i,["videoMetadata"])!==void 0)throw new Error("videoMetadata parameter is not supported in Gemini API.");const a=g(i,["thought"]);a!=null&&y(n,["thought"],a);const o=g(i,["codeExecutionResult"]);o!=null&&y(n,["codeExecutionResult"],o);const u=g(i,["executableCode"]);u!=null&&y(n,["executableCode"],u);const c=g(i,["fileData"]);c!=null&&y(n,["fileData"],c);const d=g(i,["functionCall"]);d!=null&&y(n,["functionCall"],d);const p=g(i,["functionResponse"]);p!=null&&y(n,["functionResponse"],p);const f=g(i,["inlineData"]);f!=null&&y(n,["inlineData"],f);const v=g(i,["text"]);return v!=null&&y(n,["text"],v),n}function qh(t,i){const n={},a=g(i,["parts"]);if(a!=null){let u=a;Array.isArray(u)&&(u=u.map(c=>l1(t,c))),y(n,["parts"],u)}const o=g(i,["role"]);return o!=null&&y(n,["role"],o),n}function o1(){return{}}function s1(t,i){const n={},a=g(i,["mode"]);a!=null&&y(n,["mode"],a);const o=g(i,["dynamicThreshold"]);return o!=null&&y(n,["dynamicThreshold"],o),n}function u1(t,i){const n={},a=g(i,["dynamicRetrievalConfig"]);return a!=null&&y(n,["dynamicRetrievalConfig"],s1(t,a)),n}function c1(t,i){const n={};if(g(i,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");g(i,["googleSearch"])!=null&&y(n,["googleSearch"],o1());const o=g(i,["googleSearchRetrieval"]);o!=null&&y(n,["googleSearchRetrieval"],u1(t,o));const u=g(i,["codeExecution"]);u!=null&&y(n,["codeExecution"],u);const c=g(i,["functionDeclarations"]);return c!=null&&y(n,["functionDeclarations"],c),n}function f1(t,i){const n={},a=g(i,["mode"]);a!=null&&y(n,["mode"],a);const o=g(i,["allowedFunctionNames"]);return o!=null&&y(n,["allowedFunctionNames"],o),n}function d1(t,i){const n={},a=g(i,["functionCallingConfig"]);return a!=null&&y(n,["functionCallingConfig"],f1(t,a)),n}function m1(t,i,n){const a={},o=g(i,["ttl"]);n!==void 0&&o!=null&&y(n,["ttl"],o);const u=g(i,["expireTime"]);n!==void 0&&u!=null&&y(n,["expireTime"],u);const c=g(i,["displayName"]);n!==void 0&&c!=null&&y(n,["displayName"],c);const d=g(i,["contents"]);if(n!==void 0&&d!=null){let b=Bi(t,d);Array.isArray(b)&&(b=b.map(T=>qh(t,T))),y(n,["contents"],b)}const p=g(i,["systemInstruction"]);n!==void 0&&p!=null&&y(n,["systemInstruction"],qh(t,Qt(t,p)));const f=g(i,["tools"]);if(n!==void 0&&f!=null){let b=f;Array.isArray(b)&&(b=b.map(T=>c1(t,T))),y(n,["tools"],b)}const v=g(i,["toolConfig"]);return n!==void 0&&v!=null&&y(n,["toolConfig"],d1(t,v)),a}function p1(t,i){const n={},a=g(i,["model"]);a!=null&&y(n,["model"],n0(t,a));const o=g(i,["config"]);return o!=null&&y(n,["config"],m1(t,o,n)),n}function h1(t,i){const n={},a=g(i,["name"]);a!=null&&y(n,["_url","name"],Pi(t,a));const o=g(i,["config"]);return o!=null&&y(n,["config"],o),n}function g1(t,i){const n={},a=g(i,["name"]);a!=null&&y(n,["_url","name"],Pi(t,a));const o=g(i,["config"]);return o!=null&&y(n,["config"],o),n}function y1(t,i,n){const a={},o=g(i,["ttl"]);n!==void 0&&o!=null&&y(n,["ttl"],o);const u=g(i,["expireTime"]);return n!==void 0&&u!=null&&y(n,["expireTime"],u),a}function x1(t,i){const n={},a=g(i,["name"]);a!=null&&y(n,["_url","name"],Pi(t,a));const o=g(i,["config"]);return o!=null&&y(n,["config"],y1(t,o,n)),n}function v1(t,i,n){const a={},o=g(i,["pageSize"]);n!==void 0&&o!=null&&y(n,["_query","pageSize"],o);const u=g(i,["pageToken"]);return n!==void 0&&u!=null&&y(n,["_query","pageToken"],u),a}function b1(t,i){const n={},a=g(i,["config"]);return a!=null&&y(n,["config"],v1(t,a,n)),n}function T1(t,i){const n={},a=g(i,["videoMetadata"]);a!=null&&y(n,["videoMetadata"],a);const o=g(i,["thought"]);o!=null&&y(n,["thought"],o);const u=g(i,["codeExecutionResult"]);u!=null&&y(n,["codeExecutionResult"],u);const c=g(i,["executableCode"]);c!=null&&y(n,["executableCode"],c);const d=g(i,["fileData"]);d!=null&&y(n,["fileData"],d);const p=g(i,["functionCall"]);p!=null&&y(n,["functionCall"],p);const f=g(i,["functionResponse"]);f!=null&&y(n,["functionResponse"],f);const v=g(i,["inlineData"]);v!=null&&y(n,["inlineData"],v);const b=g(i,["text"]);return b!=null&&y(n,["text"],b),n}function Yh(t,i){const n={},a=g(i,["parts"]);if(a!=null){let u=a;Array.isArray(u)&&(u=u.map(c=>T1(t,c))),y(n,["parts"],u)}const o=g(i,["role"]);return o!=null&&y(n,["role"],o),n}function S1(){return{}}function C1(t,i){const n={},a=g(i,["mode"]);a!=null&&y(n,["mode"],a);const o=g(i,["dynamicThreshold"]);return o!=null&&y(n,["dynamicThreshold"],o),n}function E1(t,i){const n={},a=g(i,["dynamicRetrievalConfig"]);return a!=null&&y(n,["dynamicRetrievalConfig"],C1(t,a)),n}function M1(t,i){const n={},a=g(i,["retrieval"]);a!=null&&y(n,["retrieval"],a),g(i,["googleSearch"])!=null&&y(n,["googleSearch"],S1());const u=g(i,["googleSearchRetrieval"]);u!=null&&y(n,["googleSearchRetrieval"],E1(t,u));const c=g(i,["codeExecution"]);c!=null&&y(n,["codeExecution"],c);const d=g(i,["functionDeclarations"]);return d!=null&&y(n,["functionDeclarations"],d),n}function A1(t,i){const n={},a=g(i,["mode"]);a!=null&&y(n,["mode"],a);const o=g(i,["allowedFunctionNames"]);return o!=null&&y(n,["allowedFunctionNames"],o),n}function w1(t,i){const n={},a=g(i,["functionCallingConfig"]);return a!=null&&y(n,["functionCallingConfig"],A1(t,a)),n}function D1(t,i,n){const a={},o=g(i,["ttl"]);n!==void 0&&o!=null&&y(n,["ttl"],o);const u=g(i,["expireTime"]);n!==void 0&&u!=null&&y(n,["expireTime"],u);const c=g(i,["displayName"]);n!==void 0&&c!=null&&y(n,["displayName"],c);const d=g(i,["contents"]);if(n!==void 0&&d!=null){let b=Bi(t,d);Array.isArray(b)&&(b=b.map(T=>Yh(t,T))),y(n,["contents"],b)}const p=g(i,["systemInstruction"]);n!==void 0&&p!=null&&y(n,["systemInstruction"],Yh(t,Qt(t,p)));const f=g(i,["tools"]);if(n!==void 0&&f!=null){let b=f;Array.isArray(b)&&(b=b.map(T=>M1(t,T))),y(n,["tools"],b)}const v=g(i,["toolConfig"]);return n!==void 0&&v!=null&&y(n,["toolConfig"],w1(t,v)),a}function k1(t,i){const n={},a=g(i,["model"]);a!=null&&y(n,["model"],n0(t,a));const o=g(i,["config"]);return o!=null&&y(n,["config"],D1(t,o,n)),n}function N1(t,i){const n={},a=g(i,["name"]);a!=null&&y(n,["_url","name"],Pi(t,a));const o=g(i,["config"]);return o!=null&&y(n,["config"],o),n}function R1(t,i){const n={},a=g(i,["name"]);a!=null&&y(n,["_url","name"],Pi(t,a));const o=g(i,["config"]);return o!=null&&y(n,["config"],o),n}function I1(t,i,n){const a={},o=g(i,["ttl"]);n!==void 0&&o!=null&&y(n,["ttl"],o);const u=g(i,["expireTime"]);return n!==void 0&&u!=null&&y(n,["expireTime"],u),a}function _1(t,i){const n={},a=g(i,["name"]);a!=null&&y(n,["_url","name"],Pi(t,a));const o=g(i,["config"]);return o!=null&&y(n,["config"],I1(t,o,n)),n}function L1(t,i,n){const a={},o=g(i,["pageSize"]);n!==void 0&&o!=null&&y(n,["_query","pageSize"],o);const u=g(i,["pageToken"]);return n!==void 0&&u!=null&&y(n,["_query","pageToken"],u),a}function O1(t,i){const n={},a=g(i,["config"]);return a!=null&&y(n,["config"],L1(t,a,n)),n}function rs(t,i){const n={},a=g(i,["name"]);a!=null&&y(n,["name"],a);const o=g(i,["displayName"]);o!=null&&y(n,["displayName"],o);const u=g(i,["model"]);u!=null&&y(n,["model"],u);const c=g(i,["createTime"]);c!=null&&y(n,["createTime"],c);const d=g(i,["updateTime"]);d!=null&&y(n,["updateTime"],d);const p=g(i,["expireTime"]);p!=null&&y(n,["expireTime"],p);const f=g(i,["usageMetadata"]);return f!=null&&y(n,["usageMetadata"],f),n}function F1(){return{}}function B1(t,i){const n={},a=g(i,["nextPageToken"]);a!=null&&y(n,["nextPageToken"],a);const o=g(i,["cachedContents"]);if(o!=null){let u=o;Array.isArray(u)&&(u=u.map(c=>rs(t,c))),y(n,["cachedContents"],u)}return n}function as(t,i){const n={},a=g(i,["name"]);a!=null&&y(n,["name"],a);const o=g(i,["displayName"]);o!=null&&y(n,["displayName"],o);const u=g(i,["model"]);u!=null&&y(n,["model"],u);const c=g(i,["createTime"]);c!=null&&y(n,["createTime"],c);const d=g(i,["updateTime"]);d!=null&&y(n,["updateTime"],d);const p=g(i,["expireTime"]);p!=null&&y(n,["expireTime"],p);const f=g(i,["usageMetadata"]);return f!=null&&y(n,["usageMetadata"],f),n}function P1(){return{}}function z1(t,i){const n={},a=g(i,["nextPageToken"]);a!=null&&y(n,["nextPageToken"],a);const o=g(i,["cachedContents"]);if(o!=null){let u=o;Array.isArray(u)&&(u=u.map(c=>as(t,c))),y(n,["cachedContents"],u)}return n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var El;(function(t){t.PAGED_ITEM_BATCH_JOBS="batchJobs",t.PAGED_ITEM_MODELS="models",t.PAGED_ITEM_TUNING_JOBS="tuningJobs",t.PAGED_ITEM_FILES="files",t.PAGED_ITEM_CACHED_CONTENTS="cachedContents"})(El||(El={}));class _f{constructor(i,n,a,o){this.pageInternal=[],this.paramsInternal={},this.requestInternal=n,this.init(i,a,o)}init(i,n,a){var o,u;this.nameInternal=i,this.pageInternal=n[this.nameInternal]||[],this.idxInternal=0;let c={config:{}};a?typeof a=="object"?c=Object.assign({},a):c=a:c={config:{}},c.config&&(c.config.pageToken=n.nextPageToken),this.paramsInternal=c,this.pageInternalSize=(u=(o=c.config)===null||o===void 0?void 0:o.pageSize)!==null&&u!==void 0?u:this.pageInternal.length}initNextPage(i){this.init(this.nameInternal,i,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(i){return this.pageInternal[i]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const i=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:i,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const i=await this.requestInternal(this.params);return this.initNextPage(i),this.page}hasNextPage(){var i;return((i=this.params.config)===null||i===void 0?void 0:i.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Kh;(function(t){t.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",t.OUTCOME_OK="OUTCOME_OK",t.OUTCOME_FAILED="OUTCOME_FAILED",t.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(Kh||(Kh={}));var $h;(function(t){t.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",t.PYTHON="PYTHON"})($h||($h={}));var Xh;(function(t){t.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",t.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",t.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",t.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",t.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY"})(Xh||(Xh={}));var Qh;(function(t){t.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",t.SEVERITY="SEVERITY",t.PROBABILITY="PROBABILITY"})(Qh||(Qh={}));var Jh;(function(t){t.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE",t.OFF="OFF"})(Jh||(Jh={}));var Wh;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(Wh||(Wh={}));var Zh;(function(t){t.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",t.STRING="STRING",t.NUMBER="NUMBER",t.INTEGER="INTEGER",t.BOOLEAN="BOOLEAN",t.ARRAY="ARRAY",t.OBJECT="OBJECT"})(Zh||(Zh={}));var eg;(function(t){t.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",t.STOP="STOP",t.MAX_TOKENS="MAX_TOKENS",t.SAFETY="SAFETY",t.RECITATION="RECITATION",t.LANGUAGE="LANGUAGE",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.SPII="SPII",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.IMAGE_SAFETY="IMAGE_SAFETY"})(eg||(eg={}));var tg;(function(t){t.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",t.NEGLIGIBLE="NEGLIGIBLE",t.LOW="LOW",t.MEDIUM="MEDIUM",t.HIGH="HIGH"})(tg||(tg={}));var ng;(function(t){t.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",t.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",t.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",t.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",t.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(ng||(ng={}));var ig;(function(t){t.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",t.SAFETY="SAFETY",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT"})(ig||(ig={}));var rg;(function(t){t.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",t.ON_DEMAND="ON_DEMAND",t.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(rg||(rg={}));var fs;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.AUDIO="AUDIO"})(fs||(fs={}));var ag;(function(t){t.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",t.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",t.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",t.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(ag||(ag={}));var ff;(function(t){t.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",t.JOB_STATE_QUEUED="JOB_STATE_QUEUED",t.JOB_STATE_PENDING="JOB_STATE_PENDING",t.JOB_STATE_RUNNING="JOB_STATE_RUNNING",t.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",t.JOB_STATE_FAILED="JOB_STATE_FAILED",t.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",t.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",t.JOB_STATE_PAUSED="JOB_STATE_PAUSED",t.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",t.JOB_STATE_UPDATING="JOB_STATE_UPDATING",t.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(ff||(ff={}));var lg;(function(t){t.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",t.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",t.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",t.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",t.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",t.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",t.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(lg||(lg={}));var og;(function(t){t.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",t.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",t.BALANCED="BALANCED",t.PRIORITIZE_COST="PRIORITIZE_COST"})(og||(og={}));var sg;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(sg||(sg={}));var ug;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.AUTO="AUTO",t.ANY="ANY",t.NONE="NONE"})(ug||(ug={}));var cg;(function(t){t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE"})(cg||(cg={}));var fg;(function(t){t.DONT_ALLOW="DONT_ALLOW",t.ALLOW_ADULT="ALLOW_ADULT",t.ALLOW_ALL="ALLOW_ALL"})(fg||(fg={}));var dg;(function(t){t.auto="auto",t.en="en",t.ja="ja",t.ko="ko",t.hi="hi"})(dg||(dg={}));var mg;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.PROCESSING="PROCESSING",t.ACTIVE="ACTIVE",t.FAILED="FAILED"})(mg||(mg={}));var pg;(function(t){t.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",t.UPLOADED="UPLOADED",t.GENERATED="GENERATED"})(pg||(pg={}));var hg;(function(t){t.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",t.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",t.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",t.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",t.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(hg||(hg={}));var gg;(function(t){t.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",t.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",t.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",t.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(gg||(gg={}));var yg;(function(t){t.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",t.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",t.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",t.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(yg||(yg={}));var xg;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.VIDEO="VIDEO",t.AUDIO="AUDIO",t.DOCUMENT="DOCUMENT"})(xg||(xg={}));var vg;(function(t){t.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",t.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",t.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(vg||(vg={}));var bg;(function(t){t.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",t.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",t.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(bg||(bg={}));var Tg;(function(t){t.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",t.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",t.NO_INTERRUPTION="NO_INTERRUPTION"})(Tg||(Tg={}));var Sg;(function(t){t.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",t.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",t.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(Sg||(Sg={}));class Ko{get text(){var i,n,a,o,u,c,d,p;if(((o=(a=(n=(i=this.candidates)===null||i===void 0?void 0:i[0])===null||n===void 0?void 0:n.content)===null||a===void 0?void 0:a.parts)===null||o===void 0?void 0:o.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let f="",v=!1;const b=[];for(const T of(p=(d=(c=(u=this.candidates)===null||u===void 0?void 0:u[0])===null||c===void 0?void 0:c.content)===null||d===void 0?void 0:d.parts)!==null&&p!==void 0?p:[]){for(const[C,w]of Object.entries(T))C!=="text"&&C!=="thought"&&(w!==null||w!==void 0)&&b.push(C);if(typeof T.text=="string"){if(typeof T.thought=="boolean"&&T.thought)continue;v=!0,f+=T.text}}return b.length>0&&console.warn(`there are non-text parts ${b} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),v?f:void 0}get data(){var i,n,a,o,u,c,d,p;if(((o=(a=(n=(i=this.candidates)===null||i===void 0?void 0:i[0])===null||n===void 0?void 0:n.content)===null||a===void 0?void 0:a.parts)===null||o===void 0?void 0:o.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let f="";const v=[];for(const b of(p=(d=(c=(u=this.candidates)===null||u===void 0?void 0:u[0])===null||c===void 0?void 0:c.content)===null||d===void 0?void 0:d.parts)!==null&&p!==void 0?p:[]){for(const[T,C]of Object.entries(b))T!=="inlineData"&&(C!==null||C!==void 0)&&v.push(T);b.inlineData&&typeof b.inlineData.data=="string"&&(f+=atob(b.inlineData.data))}return v.length>0&&console.warn(`there are non-data parts ${v} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),f.length>0?btoa(f):void 0}get functionCalls(){var i,n,a,o,u,c,d,p;if(((o=(a=(n=(i=this.candidates)===null||i===void 0?void 0:i[0])===null||n===void 0?void 0:n.content)===null||a===void 0?void 0:a.parts)===null||o===void 0?void 0:o.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const f=(p=(d=(c=(u=this.candidates)===null||u===void 0?void 0:u[0])===null||c===void 0?void 0:c.content)===null||d===void 0?void 0:d.parts)===null||p===void 0?void 0:p.filter(v=>v.functionCall).map(v=>v.functionCall).filter(v=>v!==void 0);if((f==null?void 0:f.length)!==0)return f}get executableCode(){var i,n,a,o,u,c,d,p,f;if(((o=(a=(n=(i=this.candidates)===null||i===void 0?void 0:i[0])===null||n===void 0?void 0:n.content)===null||a===void 0?void 0:a.parts)===null||o===void 0?void 0:o.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const v=(p=(d=(c=(u=this.candidates)===null||u===void 0?void 0:u[0])===null||c===void 0?void 0:c.content)===null||d===void 0?void 0:d.parts)===null||p===void 0?void 0:p.filter(b=>b.executableCode).map(b=>b.executableCode).filter(b=>b!==void 0);if((v==null?void 0:v.length)!==0)return(f=v==null?void 0:v[0])===null||f===void 0?void 0:f.code}get codeExecutionResult(){var i,n,a,o,u,c,d,p,f;if(((o=(a=(n=(i=this.candidates)===null||i===void 0?void 0:i[0])===null||n===void 0?void 0:n.content)===null||a===void 0?void 0:a.parts)===null||o===void 0?void 0:o.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const v=(p=(d=(c=(u=this.candidates)===null||u===void 0?void 0:u[0])===null||c===void 0?void 0:c.content)===null||d===void 0?void 0:d.parts)===null||p===void 0?void 0:p.filter(b=>b.codeExecutionResult).map(b=>b.codeExecutionResult).filter(b=>b!==void 0);if((v==null?void 0:v.length)!==0)return(f=v==null?void 0:v[0])===null||f===void 0?void 0:f.output}}class Cg{}class Eg{}class Mg{}class Ag{}class V1{}class wg{}class Dg{}class kg{}class j1{}class df{constructor(i){const n={};for(const a of i.headers.entries())n[a[0]]=a[1];this.headers=n,this.responseInternal=i}json(){return this.responseInternal.json()}}class U1{}class H1{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class G1 extends kl{constructor(i){super(),this.apiClient=i,this.list=async(n={})=>new _f(El.PAGED_ITEM_CACHED_CONTENTS,a=>this.listInternal(a),await this.listInternal(n),n)}async create(i){var n,a,o,u;let c,d="",p={};if(this.apiClient.isVertexAI()){const f=k1(this.apiClient,i);return d=ke("cachedContents",f._url),p=f._query,delete f.config,delete f._url,delete f._query,c=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=i.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(a=i.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),c.then(v=>as(this.apiClient,v))}else{const f=p1(this.apiClient,i);return d=ke("cachedContents",f._url),p=f._query,delete f.config,delete f._url,delete f._query,c=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(o=i.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(u=i.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json()),c.then(v=>rs(this.apiClient,v))}}async get(i){var n,a,o,u;let c,d="",p={};if(this.apiClient.isVertexAI()){const f=N1(this.apiClient,i);return d=ke("{name}",f._url),p=f._query,delete f.config,delete f._url,delete f._query,c=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=i.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(a=i.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),c.then(v=>as(this.apiClient,v))}else{const f=h1(this.apiClient,i);return d=ke("{name}",f._url),p=f._query,delete f.config,delete f._url,delete f._query,c=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(o=i.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(u=i.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json()),c.then(v=>rs(this.apiClient,v))}}async delete(i){var n,a,o,u;let c,d="",p={};if(this.apiClient.isVertexAI()){const f=R1(this.apiClient,i);return d=ke("{name}",f._url),p=f._query,delete f.config,delete f._url,delete f._query,c=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(n=i.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(a=i.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),c.then(()=>{const v=P1(),b=new Dg;return Object.assign(b,v),b})}else{const f=g1(this.apiClient,i);return d=ke("{name}",f._url),p=f._query,delete f.config,delete f._url,delete f._query,c=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(o=i.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(u=i.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json()),c.then(()=>{const v=F1(),b=new Dg;return Object.assign(b,v),b})}}async update(i){var n,a,o,u;let c,d="",p={};if(this.apiClient.isVertexAI()){const f=_1(this.apiClient,i);return d=ke("{name}",f._url),p=f._query,delete f.config,delete f._url,delete f._query,c=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(f),httpMethod:"PATCH",httpOptions:(n=i.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(a=i.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),c.then(v=>as(this.apiClient,v))}else{const f=x1(this.apiClient,i);return d=ke("{name}",f._url),p=f._query,delete f.config,delete f._url,delete f._query,c=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(f),httpMethod:"PATCH",httpOptions:(o=i.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(u=i.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json()),c.then(v=>rs(this.apiClient,v))}}async listInternal(i){var n,a,o,u;let c,d="",p={};if(this.apiClient.isVertexAI()){const f=O1(this.apiClient,i);return d=ke("cachedContents",f._url),p=f._query,delete f.config,delete f._url,delete f._query,c=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=i.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(a=i.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),c.then(v=>{const b=z1(this.apiClient,v),T=new kg;return Object.assign(T,b),T})}else{const f=b1(this.apiClient,i);return d=ke("cachedContents",f._url),p=f._query,delete f.config,delete f._url,delete f._query,c=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(o=i.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(u=i.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json()),c.then(v=>{const b=B1(this.apiClient,v),T=new kg;return Object.assign(T,b),T})}}}function Ng(t){var i=typeof Symbol=="function"&&Symbol.iterator,n=i&&t[i],a=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&a>=t.length&&(t=void 0),{value:t&&t[a++],done:!t}}};throw new TypeError(i?"Object is not iterable.":"Symbol.iterator is not defined.")}function Bt(t){return this instanceof Bt?(this.v=t,this):new Bt(t)}function ds(t,i,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var a=n.apply(t,i||[]),o,u=[];return o=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),d("next"),d("throw"),d("return",c),o[Symbol.asyncIterator]=function(){return this},o;function c(C){return function(w){return Promise.resolve(w).then(C,b)}}function d(C,w){a[C]&&(o[C]=function(N){return new Promise(function(B,_){u.push([C,N,B,_])>1||p(C,N)})},w&&(o[C]=w(o[C])))}function p(C,w){try{f(a[C](w))}catch(N){T(u[0][3],N)}}function f(C){C.value instanceof Bt?Promise.resolve(C.value.v).then(v,b):T(u[0][2],C)}function v(C){p("next",C)}function b(C){p("throw",C)}function T(C,w){C(w),u.shift(),u.length&&p(u[0][0],u[0][1])}}function mf(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=t[Symbol.asyncIterator],n;return i?i.call(t):(t=typeof Ng=="function"?Ng(t):t[Symbol.iterator](),n={},a("next"),a("throw"),a("return"),n[Symbol.asyncIterator]=function(){return this},n);function a(u){n[u]=t[u]&&function(c){return new Promise(function(d,p){c=t[u](c),o(d,p,c.done,c.value)})}}function o(u,c,d,p){Promise.resolve(p).then(function(f){u({value:f,done:d})},c)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function q1(t){var i;if(t.candidates==null||t.candidates.length===0)return!1;const n=(i=t.candidates[0])===null||i===void 0?void 0:i.content;return n===void 0?!1:c0(n)}function c0(t){if(t.parts===void 0||t.parts.length===0)return!1;for(const i of t.parts)if(i===void 0||Object.keys(i).length===0||i.text!==void 0&&i.text==="")return!1;return!0}function Y1(t){if(t.length!==0){if(t[0].role!=="user")throw new Error("History must start with a user turn.");for(const i of t)if(i.role!=="user"&&i.role!=="model")throw new Error(`Role must be user or model, but got ${i.role}.`)}}function K1(t){if(t===void 0||t.length===0)return[];const i=[],n=t.length;let a=0,o=t[0];for(;a<n;)if(t[a].role==="user")o=t[a],a++;else{const u=[];let c=!0;for(;a<n&&t[a].role==="model";)u.push(t[a]),c&&!c0(t[a])&&(c=!1),a++;c&&(i.push(o),i.push(...u))}return i}class $1{constructor(i,n){this.modelsModule=i,this.apiClient=n}create(i){return new X1(this.apiClient,this.modelsModule,i.model,i.config,i.history)}}class X1{constructor(i,n,a,o={},u=[]){this.apiClient=i,this.modelsModule=n,this.model=a,this.config=o,this.history=u,this.sendPromise=Promise.resolve(),Y1(u)}async sendMessage(i){var n;await this.sendPromise;const a=Qt(this.apiClient,i.message),o=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(a),config:(n=i.config)!==null&&n!==void 0?n:this.config});return this.sendPromise=(async()=>{var u,c;const p=(c=(u=(await o).candidates)===null||u===void 0?void 0:u[0])===null||c===void 0?void 0:c.content,f=p?[p]:[];this.recordHistory(a,f)})(),await this.sendPromise,o}async sendMessageStream(i){var n;await this.sendPromise;const a=Qt(this.apiClient,i.message),o=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(a),config:(n=i.config)!==null&&n!==void 0?n:this.config});this.sendPromise=o.then(()=>{}).catch(()=>{});const u=await o;return this.processStreamResponse(u,a)}getHistory(i=!1){return i?K1(this.history):this.history}processStreamResponse(i,n){var a,o;return ds(this,arguments,function*(){var c,d,p,f;const v=[];try{for(var b=!0,T=mf(i),C;C=yield Bt(T.next()),c=C.done,!c;b=!0){f=C.value,b=!1;const w=f;if(q1(w)){const N=(o=(a=w.candidates)===null||a===void 0?void 0:a[0])===null||o===void 0?void 0:o.content;N!==void 0&&v.push(N)}yield yield Bt(w)}}catch(w){d={error:w}}finally{try{!b&&!c&&(p=T.return)&&(yield Bt(p.call(T)))}finally{if(d)throw d.error}}this.recordHistory(n,v)})}recordHistory(i,n){let a=[];n.length>0&&n.every(o=>o.role==="model")?a=n:a.push({role:"model",parts:[]}),this.history.push(i),this.history.push(...a)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Q1(t,i,n){const a={},o=g(i,["pageSize"]);n!==void 0&&o!=null&&y(n,["_query","pageSize"],o);const u=g(i,["pageToken"]);return n!==void 0&&u!=null&&y(n,["_query","pageToken"],u),a}function J1(t,i){const n={},a=g(i,["config"]);return a!=null&&y(n,["config"],Q1(t,a,n)),n}function W1(t,i){const n={},a=g(i,["details"]);a!=null&&y(n,["details"],a);const o=g(i,["message"]);o!=null&&y(n,["message"],o);const u=g(i,["code"]);return u!=null&&y(n,["code"],u),n}function Z1(t,i){const n={},a=g(i,["name"]);a!=null&&y(n,["name"],a);const o=g(i,["displayName"]);o!=null&&y(n,["displayName"],o);const u=g(i,["mimeType"]);u!=null&&y(n,["mimeType"],u);const c=g(i,["sizeBytes"]);c!=null&&y(n,["sizeBytes"],c);const d=g(i,["createTime"]);d!=null&&y(n,["createTime"],d);const p=g(i,["expirationTime"]);p!=null&&y(n,["expirationTime"],p);const f=g(i,["updateTime"]);f!=null&&y(n,["updateTime"],f);const v=g(i,["sha256Hash"]);v!=null&&y(n,["sha256Hash"],v);const b=g(i,["uri"]);b!=null&&y(n,["uri"],b);const T=g(i,["downloadUri"]);T!=null&&y(n,["downloadUri"],T);const C=g(i,["state"]);C!=null&&y(n,["state"],C);const w=g(i,["source"]);w!=null&&y(n,["source"],w);const N=g(i,["videoMetadata"]);N!=null&&y(n,["videoMetadata"],N);const B=g(i,["error"]);return B!=null&&y(n,["error"],W1(t,B)),n}function eT(t,i){const n={},a=g(i,["file"]);a!=null&&y(n,["file"],Z1(t,a));const o=g(i,["config"]);return o!=null&&y(n,["config"],o),n}function tT(t,i){const n={},a=g(i,["name"]);a!=null&&y(n,["_url","file"],u0(t,a));const o=g(i,["config"]);return o!=null&&y(n,["config"],o),n}function nT(t,i){const n={},a=g(i,["name"]);a!=null&&y(n,["_url","file"],u0(t,a));const o=g(i,["config"]);return o!=null&&y(n,["config"],o),n}function iT(t,i){const n={},a=g(i,["details"]);a!=null&&y(n,["details"],a);const o=g(i,["message"]);o!=null&&y(n,["message"],o);const u=g(i,["code"]);return u!=null&&y(n,["code"],u),n}function pf(t,i){const n={},a=g(i,["name"]);a!=null&&y(n,["name"],a);const o=g(i,["displayName"]);o!=null&&y(n,["displayName"],o);const u=g(i,["mimeType"]);u!=null&&y(n,["mimeType"],u);const c=g(i,["sizeBytes"]);c!=null&&y(n,["sizeBytes"],c);const d=g(i,["createTime"]);d!=null&&y(n,["createTime"],d);const p=g(i,["expirationTime"]);p!=null&&y(n,["expirationTime"],p);const f=g(i,["updateTime"]);f!=null&&y(n,["updateTime"],f);const v=g(i,["sha256Hash"]);v!=null&&y(n,["sha256Hash"],v);const b=g(i,["uri"]);b!=null&&y(n,["uri"],b);const T=g(i,["downloadUri"]);T!=null&&y(n,["downloadUri"],T);const C=g(i,["state"]);C!=null&&y(n,["state"],C);const w=g(i,["source"]);w!=null&&y(n,["source"],w);const N=g(i,["videoMetadata"]);N!=null&&y(n,["videoMetadata"],N);const B=g(i,["error"]);return B!=null&&y(n,["error"],iT(t,B)),n}function rT(t,i){const n={},a=g(i,["nextPageToken"]);a!=null&&y(n,["nextPageToken"],a);const o=g(i,["files"]);if(o!=null){let u=o;Array.isArray(u)&&(u=u.map(c=>pf(t,c))),y(n,["files"],u)}return n}function aT(){return{}}function lT(){return{}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class oT extends kl{constructor(i){super(),this.apiClient=i,this.list=async(n={})=>new _f(El.PAGED_ITEM_FILES,a=>this.listInternal(a),await this.listInternal(n),n)}async upload(i){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(i.file,i.config).then(n=>pf(this.apiClient,n))}async listInternal(i){var n,a;let o,u="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const d=J1(this.apiClient,i);return u=ke("files",d._url),c=d._query,delete d.config,delete d._url,delete d._query,o=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=i.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(a=i.config)===null||a===void 0?void 0:a.abortSignal}).then(p=>p.json()),o.then(p=>{const f=rT(this.apiClient,p),v=new j1;return Object.assign(v,f),v})}}async createInternal(i){var n,a;let o,u="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const d=eT(this.apiClient,i);return u=ke("upload/v1beta/files",d._url),c=d._query,delete d.config,delete d._url,delete d._query,o=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=i.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(a=i.config)===null||a===void 0?void 0:a.abortSignal}).then(p=>p.json()),o.then(()=>{const p=aT(),f=new U1;return Object.assign(f,p),f})}}async get(i){var n,a;let o,u="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const d=tT(this.apiClient,i);return u=ke("files/{file}",d._url),c=d._query,delete d.config,delete d._url,delete d._query,o=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=i.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(a=i.config)===null||a===void 0?void 0:a.abortSignal}).then(p=>p.json()),o.then(p=>pf(this.apiClient,p))}}async delete(i){var n,a;let o,u="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const d=nT(this.apiClient,i);return u=ke("files/{file}",d._url),c=d._query,delete d.config,delete d._url,delete d._query,o=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(n=i.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(a=i.config)===null||a===void 0?void 0:a.abortSignal}).then(p=>p.json()),o.then(()=>{const p=lT(),f=new H1;return Object.assign(f,p),f})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function sT(t,i){const n={};if(g(i,["videoMetadata"])!==void 0)throw new Error("videoMetadata parameter is not supported in Gemini API.");const a=g(i,["thought"]);a!=null&&y(n,["thought"],a);const o=g(i,["codeExecutionResult"]);o!=null&&y(n,["codeExecutionResult"],o);const u=g(i,["executableCode"]);u!=null&&y(n,["executableCode"],u);const c=g(i,["fileData"]);c!=null&&y(n,["fileData"],c);const d=g(i,["functionCall"]);d!=null&&y(n,["functionCall"],d);const p=g(i,["functionResponse"]);p!=null&&y(n,["functionResponse"],p);const f=g(i,["inlineData"]);f!=null&&y(n,["inlineData"],f);const v=g(i,["text"]);return v!=null&&y(n,["text"],v),n}function uT(t,i){const n={},a=g(i,["videoMetadata"]);a!=null&&y(n,["videoMetadata"],a);const o=g(i,["thought"]);o!=null&&y(n,["thought"],o);const u=g(i,["codeExecutionResult"]);u!=null&&y(n,["codeExecutionResult"],u);const c=g(i,["executableCode"]);c!=null&&y(n,["executableCode"],c);const d=g(i,["fileData"]);d!=null&&y(n,["fileData"],d);const p=g(i,["functionCall"]);p!=null&&y(n,["functionCall"],p);const f=g(i,["functionResponse"]);f!=null&&y(n,["functionResponse"],f);const v=g(i,["inlineData"]);v!=null&&y(n,["inlineData"],v);const b=g(i,["text"]);return b!=null&&y(n,["text"],b),n}function cT(t,i){const n={},a=g(i,["parts"]);if(a!=null){let u=a;Array.isArray(u)&&(u=u.map(c=>sT(t,c))),y(n,["parts"],u)}const o=g(i,["role"]);return o!=null&&y(n,["role"],o),n}function fT(t,i){const n={},a=g(i,["parts"]);if(a!=null){let u=a;Array.isArray(u)&&(u=u.map(c=>uT(t,c))),y(n,["parts"],u)}const o=g(i,["role"]);return o!=null&&y(n,["role"],o),n}function dT(){return{}}function mT(){return{}}function pT(t,i){const n={},a=g(i,["mode"]);a!=null&&y(n,["mode"],a);const o=g(i,["dynamicThreshold"]);return o!=null&&y(n,["dynamicThreshold"],o),n}function hT(t,i){const n={},a=g(i,["mode"]);a!=null&&y(n,["mode"],a);const o=g(i,["dynamicThreshold"]);return o!=null&&y(n,["dynamicThreshold"],o),n}function gT(t,i){const n={},a=g(i,["dynamicRetrievalConfig"]);return a!=null&&y(n,["dynamicRetrievalConfig"],pT(t,a)),n}function yT(t,i){const n={},a=g(i,["dynamicRetrievalConfig"]);return a!=null&&y(n,["dynamicRetrievalConfig"],hT(t,a)),n}function xT(t,i){const n={};if(g(i,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");g(i,["googleSearch"])!=null&&y(n,["googleSearch"],dT());const o=g(i,["googleSearchRetrieval"]);o!=null&&y(n,["googleSearchRetrieval"],gT(t,o));const u=g(i,["codeExecution"]);u!=null&&y(n,["codeExecution"],u);const c=g(i,["functionDeclarations"]);return c!=null&&y(n,["functionDeclarations"],c),n}function vT(t,i){const n={},a=g(i,["retrieval"]);a!=null&&y(n,["retrieval"],a),g(i,["googleSearch"])!=null&&y(n,["googleSearch"],mT());const u=g(i,["googleSearchRetrieval"]);u!=null&&y(n,["googleSearchRetrieval"],yT(t,u));const c=g(i,["codeExecution"]);c!=null&&y(n,["codeExecution"],c);const d=g(i,["functionDeclarations"]);return d!=null&&y(n,["functionDeclarations"],d),n}function bT(t,i){const n={},a=g(i,["handle"]);if(a!=null&&y(n,["handle"],a),g(i,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return n}function TT(t,i){const n={},a=g(i,["handle"]);a!=null&&y(n,["handle"],a);const o=g(i,["transparent"]);return o!=null&&y(n,["transparent"],o),n}function ST(){return{}}function Rg(){return{}}function CT(t,i){const n={},a=g(i,["disabled"]);a!=null&&y(n,["disabled"],a);const o=g(i,["startOfSpeechSensitivity"]);o!=null&&y(n,["startOfSpeechSensitivity"],o);const u=g(i,["endOfSpeechSensitivity"]);u!=null&&y(n,["endOfSpeechSensitivity"],u);const c=g(i,["prefixPaddingMs"]);c!=null&&y(n,["prefixPaddingMs"],c);const d=g(i,["silenceDurationMs"]);return d!=null&&y(n,["silenceDurationMs"],d),n}function ET(t,i){const n={},a=g(i,["disabled"]);a!=null&&y(n,["disabled"],a);const o=g(i,["startOfSpeechSensitivity"]);o!=null&&y(n,["startOfSpeechSensitivity"],o);const u=g(i,["endOfSpeechSensitivity"]);u!=null&&y(n,["endOfSpeechSensitivity"],u);const c=g(i,["prefixPaddingMs"]);c!=null&&y(n,["prefixPaddingMs"],c);const d=g(i,["silenceDurationMs"]);return d!=null&&y(n,["silenceDurationMs"],d),n}function MT(t,i){const n={},a=g(i,["automaticActivityDetection"]);a!=null&&y(n,["automaticActivityDetection"],CT(t,a));const o=g(i,["activityHandling"]);o!=null&&y(n,["activityHandling"],o);const u=g(i,["turnCoverage"]);return u!=null&&y(n,["turnCoverage"],u),n}function AT(t,i){const n={},a=g(i,["automaticActivityDetection"]);a!=null&&y(n,["automaticActivityDetection"],ET(t,a));const o=g(i,["activityHandling"]);o!=null&&y(n,["activityHandling"],o);const u=g(i,["turnCoverage"]);return u!=null&&y(n,["turnCoverage"],u),n}function wT(t,i){const n={},a=g(i,["targetTokens"]);return a!=null&&y(n,["targetTokens"],a),n}function DT(t,i){const n={},a=g(i,["targetTokens"]);return a!=null&&y(n,["targetTokens"],a),n}function kT(t,i){const n={},a=g(i,["triggerTokens"]);a!=null&&y(n,["triggerTokens"],a);const o=g(i,["slidingWindow"]);return o!=null&&y(n,["slidingWindow"],wT(t,o)),n}function NT(t,i){const n={},a=g(i,["triggerTokens"]);a!=null&&y(n,["triggerTokens"],a);const o=g(i,["slidingWindow"]);return o!=null&&y(n,["slidingWindow"],DT(t,o)),n}function RT(t,i,n){const a={},o=g(i,["generationConfig"]);n!==void 0&&o!=null&&y(n,["setup","generationConfig"],o);const u=g(i,["responseModalities"]);n!==void 0&&u!=null&&y(n,["setup","generationConfig","responseModalities"],u);const c=g(i,["temperature"]);n!==void 0&&c!=null&&y(n,["setup","generationConfig","temperature"],c);const d=g(i,["topP"]);n!==void 0&&d!=null&&y(n,["setup","generationConfig","topP"],d);const p=g(i,["topK"]);n!==void 0&&p!=null&&y(n,["setup","generationConfig","topK"],p);const f=g(i,["maxOutputTokens"]);n!==void 0&&f!=null&&y(n,["setup","generationConfig","maxOutputTokens"],f);const v=g(i,["mediaResolution"]);n!==void 0&&v!=null&&y(n,["setup","generationConfig","mediaResolution"],v);const b=g(i,["seed"]);n!==void 0&&b!=null&&y(n,["setup","generationConfig","seed"],b);const T=g(i,["speechConfig"]);n!==void 0&&T!=null&&y(n,["setup","generationConfig","speechConfig"],T);const C=g(i,["systemInstruction"]);n!==void 0&&C!=null&&y(n,["setup","systemInstruction"],cT(t,Qt(t,C)));const w=g(i,["tools"]);if(n!==void 0&&w!=null){let j=Ts(t,w);Array.isArray(j)&&(j=j.map(X=>xT(t,bs(t,X)))),y(n,["setup","tools"],j)}const N=g(i,["sessionResumption"]);if(n!==void 0&&N!=null&&y(n,["setup","sessionResumption"],bT(t,N)),g(i,["inputAudioTranscription"])!==void 0)throw new Error("inputAudioTranscription parameter is not supported in Gemini API.");const B=g(i,["outputAudioTranscription"]);n!==void 0&&B!=null&&y(n,["setup","outputAudioTranscription"],ST());const _=g(i,["realtimeInputConfig"]);n!==void 0&&_!=null&&y(n,["setup","realtimeInputConfig"],MT(t,_));const U=g(i,["contextWindowCompression"]);return n!==void 0&&U!=null&&y(n,["setup","contextWindowCompression"],kT(t,U)),a}function IT(t,i,n){const a={},o=g(i,["generationConfig"]);n!==void 0&&o!=null&&y(n,["setup","generationConfig"],o);const u=g(i,["responseModalities"]);n!==void 0&&u!=null&&y(n,["setup","generationConfig","responseModalities"],u);const c=g(i,["temperature"]);n!==void 0&&c!=null&&y(n,["setup","generationConfig","temperature"],c);const d=g(i,["topP"]);n!==void 0&&d!=null&&y(n,["setup","generationConfig","topP"],d);const p=g(i,["topK"]);n!==void 0&&p!=null&&y(n,["setup","generationConfig","topK"],p);const f=g(i,["maxOutputTokens"]);n!==void 0&&f!=null&&y(n,["setup","generationConfig","maxOutputTokens"],f);const v=g(i,["mediaResolution"]);n!==void 0&&v!=null&&y(n,["setup","generationConfig","mediaResolution"],v);const b=g(i,["seed"]);n!==void 0&&b!=null&&y(n,["setup","generationConfig","seed"],b);const T=g(i,["speechConfig"]);n!==void 0&&T!=null&&y(n,["setup","generationConfig","speechConfig"],T);const C=g(i,["systemInstruction"]);n!==void 0&&C!=null&&y(n,["setup","systemInstruction"],fT(t,Qt(t,C)));const w=g(i,["tools"]);if(n!==void 0&&w!=null){let X=Ts(t,w);Array.isArray(X)&&(X=X.map(Z=>vT(t,bs(t,Z)))),y(n,["setup","tools"],X)}const N=g(i,["sessionResumption"]);n!==void 0&&N!=null&&y(n,["setup","sessionResumption"],TT(t,N));const B=g(i,["inputAudioTranscription"]);n!==void 0&&B!=null&&y(n,["setup","inputAudioTranscription"],Rg());const _=g(i,["outputAudioTranscription"]);n!==void 0&&_!=null&&y(n,["setup","outputAudioTranscription"],Rg());const U=g(i,["realtimeInputConfig"]);n!==void 0&&U!=null&&y(n,["setup","realtimeInputConfig"],AT(t,U));const j=g(i,["contextWindowCompression"]);return n!==void 0&&j!=null&&y(n,["setup","contextWindowCompression"],NT(t,j)),a}function _T(t,i){const n={},a=g(i,["model"]);a!=null&&y(n,["setup","model"],ct(t,a));const o=g(i,["config"]);return o!=null&&y(n,["config"],RT(t,o,n)),n}function LT(t,i){const n={},a=g(i,["model"]);a!=null&&y(n,["setup","model"],ct(t,a));const o=g(i,["config"]);return o!=null&&y(n,["config"],IT(t,o,n)),n}function OT(){return{}}function FT(){return{}}function BT(){return{}}function PT(){return{}}function zT(t,i){const n={},a=g(i,["media"]);a!=null&&y(n,["mediaChunks"],i0(t,a));const o=g(i,["audio"]);o!=null&&y(n,["audio"],r1(t,o));const u=g(i,["audioStreamEnd"]);u!=null&&y(n,["audioStreamEnd"],u);const c=g(i,["video"]);c!=null&&y(n,["video"],i1(t,c));const d=g(i,["text"]);return d!=null&&y(n,["text"],d),g(i,["activityStart"])!=null&&y(n,["activityStart"],OT()),g(i,["activityEnd"])!=null&&y(n,["activityEnd"],BT()),n}function VT(t,i){const n={},a=g(i,["media"]);if(a!=null&&y(n,["mediaChunks"],i0(t,a)),g(i,["audio"])!==void 0)throw new Error("audio parameter is not supported in Vertex AI.");const o=g(i,["audioStreamEnd"]);if(o!=null&&y(n,["audioStreamEnd"],o),g(i,["video"])!==void 0)throw new Error("video parameter is not supported in Vertex AI.");if(g(i,["text"])!==void 0)throw new Error("text parameter is not supported in Vertex AI.");return g(i,["activityStart"])!=null&&y(n,["activityStart"],FT()),g(i,["activityEnd"])!=null&&y(n,["activityEnd"],PT()),n}function jT(){return{}}function UT(){return{}}function HT(t,i){const n={},a=g(i,["thought"]);a!=null&&y(n,["thought"],a);const o=g(i,["codeExecutionResult"]);o!=null&&y(n,["codeExecutionResult"],o);const u=g(i,["executableCode"]);u!=null&&y(n,["executableCode"],u);const c=g(i,["fileData"]);c!=null&&y(n,["fileData"],c);const d=g(i,["functionCall"]);d!=null&&y(n,["functionCall"],d);const p=g(i,["functionResponse"]);p!=null&&y(n,["functionResponse"],p);const f=g(i,["inlineData"]);f!=null&&y(n,["inlineData"],f);const v=g(i,["text"]);return v!=null&&y(n,["text"],v),n}function GT(t,i){const n={},a=g(i,["videoMetadata"]);a!=null&&y(n,["videoMetadata"],a);const o=g(i,["thought"]);o!=null&&y(n,["thought"],o);const u=g(i,["codeExecutionResult"]);u!=null&&y(n,["codeExecutionResult"],u);const c=g(i,["executableCode"]);c!=null&&y(n,["executableCode"],c);const d=g(i,["fileData"]);d!=null&&y(n,["fileData"],d);const p=g(i,["functionCall"]);p!=null&&y(n,["functionCall"],p);const f=g(i,["functionResponse"]);f!=null&&y(n,["functionResponse"],f);const v=g(i,["inlineData"]);v!=null&&y(n,["inlineData"],v);const b=g(i,["text"]);return b!=null&&y(n,["text"],b),n}function qT(t,i){const n={},a=g(i,["parts"]);if(a!=null){let u=a;Array.isArray(u)&&(u=u.map(c=>HT(t,c))),y(n,["parts"],u)}const o=g(i,["role"]);return o!=null&&y(n,["role"],o),n}function YT(t,i){const n={},a=g(i,["parts"]);if(a!=null){let u=a;Array.isArray(u)&&(u=u.map(c=>GT(t,c))),y(n,["parts"],u)}const o=g(i,["role"]);return o!=null&&y(n,["role"],o),n}function Ig(t,i){const n={},a=g(i,["text"]);a!=null&&y(n,["text"],a);const o=g(i,["finished"]);return o!=null&&y(n,["finished"],o),n}function _g(t,i){const n={},a=g(i,["text"]);a!=null&&y(n,["text"],a);const o=g(i,["finished"]);return o!=null&&y(n,["finished"],o),n}function KT(t,i){const n={},a=g(i,["modelTurn"]);a!=null&&y(n,["modelTurn"],qT(t,a));const o=g(i,["turnComplete"]);o!=null&&y(n,["turnComplete"],o);const u=g(i,["interrupted"]);u!=null&&y(n,["interrupted"],u);const c=g(i,["groundingMetadata"]);c!=null&&y(n,["groundingMetadata"],c);const d=g(i,["generationComplete"]);d!=null&&y(n,["generationComplete"],d);const p=g(i,["inputTranscription"]);p!=null&&y(n,["inputTranscription"],Ig(t,p));const f=g(i,["outputTranscription"]);return f!=null&&y(n,["outputTranscription"],Ig(t,f)),n}function $T(t,i){const n={},a=g(i,["modelTurn"]);a!=null&&y(n,["modelTurn"],YT(t,a));const o=g(i,["turnComplete"]);o!=null&&y(n,["turnComplete"],o);const u=g(i,["interrupted"]);u!=null&&y(n,["interrupted"],u);const c=g(i,["groundingMetadata"]);c!=null&&y(n,["groundingMetadata"],c);const d=g(i,["generationComplete"]);d!=null&&y(n,["generationComplete"],d);const p=g(i,["inputTranscription"]);p!=null&&y(n,["inputTranscription"],_g(t,p));const f=g(i,["outputTranscription"]);return f!=null&&y(n,["outputTranscription"],_g(t,f)),n}function XT(t,i){const n={},a=g(i,["id"]);a!=null&&y(n,["id"],a);const o=g(i,["args"]);o!=null&&y(n,["args"],o);const u=g(i,["name"]);return u!=null&&y(n,["name"],u),n}function QT(t,i){const n={},a=g(i,["args"]);a!=null&&y(n,["args"],a);const o=g(i,["name"]);return o!=null&&y(n,["name"],o),n}function JT(t,i){const n={},a=g(i,["functionCalls"]);if(a!=null){let o=a;Array.isArray(o)&&(o=o.map(u=>XT(t,u))),y(n,["functionCalls"],o)}return n}function WT(t,i){const n={},a=g(i,["functionCalls"]);if(a!=null){let o=a;Array.isArray(o)&&(o=o.map(u=>QT(t,u))),y(n,["functionCalls"],o)}return n}function ZT(t,i){const n={},a=g(i,["ids"]);return a!=null&&y(n,["ids"],a),n}function eS(t,i){const n={},a=g(i,["ids"]);return a!=null&&y(n,["ids"],a),n}function $o(t,i){const n={},a=g(i,["modality"]);a!=null&&y(n,["modality"],a);const o=g(i,["tokenCount"]);return o!=null&&y(n,["tokenCount"],o),n}function Xo(t,i){const n={},a=g(i,["modality"]);a!=null&&y(n,["modality"],a);const o=g(i,["tokenCount"]);return o!=null&&y(n,["tokenCount"],o),n}function tS(t,i){const n={},a=g(i,["promptTokenCount"]);a!=null&&y(n,["promptTokenCount"],a);const o=g(i,["cachedContentTokenCount"]);o!=null&&y(n,["cachedContentTokenCount"],o);const u=g(i,["responseTokenCount"]);u!=null&&y(n,["responseTokenCount"],u);const c=g(i,["toolUsePromptTokenCount"]);c!=null&&y(n,["toolUsePromptTokenCount"],c);const d=g(i,["thoughtsTokenCount"]);d!=null&&y(n,["thoughtsTokenCount"],d);const p=g(i,["totalTokenCount"]);p!=null&&y(n,["totalTokenCount"],p);const f=g(i,["promptTokensDetails"]);if(f!=null){let C=f;Array.isArray(C)&&(C=C.map(w=>$o(t,w))),y(n,["promptTokensDetails"],C)}const v=g(i,["cacheTokensDetails"]);if(v!=null){let C=v;Array.isArray(C)&&(C=C.map(w=>$o(t,w))),y(n,["cacheTokensDetails"],C)}const b=g(i,["responseTokensDetails"]);if(b!=null){let C=b;Array.isArray(C)&&(C=C.map(w=>$o(t,w))),y(n,["responseTokensDetails"],C)}const T=g(i,["toolUsePromptTokensDetails"]);if(T!=null){let C=T;Array.isArray(C)&&(C=C.map(w=>$o(t,w))),y(n,["toolUsePromptTokensDetails"],C)}return n}function nS(t,i){const n={},a=g(i,["promptTokenCount"]);a!=null&&y(n,["promptTokenCount"],a);const o=g(i,["cachedContentTokenCount"]);o!=null&&y(n,["cachedContentTokenCount"],o);const u=g(i,["candidatesTokenCount"]);u!=null&&y(n,["responseTokenCount"],u);const c=g(i,["toolUsePromptTokenCount"]);c!=null&&y(n,["toolUsePromptTokenCount"],c);const d=g(i,["thoughtsTokenCount"]);d!=null&&y(n,["thoughtsTokenCount"],d);const p=g(i,["totalTokenCount"]);p!=null&&y(n,["totalTokenCount"],p);const f=g(i,["promptTokensDetails"]);if(f!=null){let w=f;Array.isArray(w)&&(w=w.map(N=>Xo(t,N))),y(n,["promptTokensDetails"],w)}const v=g(i,["cacheTokensDetails"]);if(v!=null){let w=v;Array.isArray(w)&&(w=w.map(N=>Xo(t,N))),y(n,["cacheTokensDetails"],w)}const b=g(i,["candidatesTokensDetails"]);if(b!=null){let w=b;Array.isArray(w)&&(w=w.map(N=>Xo(t,N))),y(n,["responseTokensDetails"],w)}const T=g(i,["toolUsePromptTokensDetails"]);if(T!=null){let w=T;Array.isArray(w)&&(w=w.map(N=>Xo(t,N))),y(n,["toolUsePromptTokensDetails"],w)}const C=g(i,["trafficType"]);return C!=null&&y(n,["trafficType"],C),n}function iS(t,i){const n={},a=g(i,["timeLeft"]);return a!=null&&y(n,["timeLeft"],a),n}function rS(t,i){const n={},a=g(i,["timeLeft"]);return a!=null&&y(n,["timeLeft"],a),n}function aS(t,i){const n={},a=g(i,["newHandle"]);a!=null&&y(n,["newHandle"],a);const o=g(i,["resumable"]);o!=null&&y(n,["resumable"],o);const u=g(i,["lastConsumedClientMessageIndex"]);return u!=null&&y(n,["lastConsumedClientMessageIndex"],u),n}function lS(t,i){const n={},a=g(i,["newHandle"]);a!=null&&y(n,["newHandle"],a);const o=g(i,["resumable"]);o!=null&&y(n,["resumable"],o);const u=g(i,["lastConsumedClientMessageIndex"]);return u!=null&&y(n,["lastConsumedClientMessageIndex"],u),n}function oS(t,i){const n={};g(i,["setupComplete"])!=null&&y(n,["setupComplete"],jT());const o=g(i,["serverContent"]);o!=null&&y(n,["serverContent"],KT(t,o));const u=g(i,["toolCall"]);u!=null&&y(n,["toolCall"],JT(t,u));const c=g(i,["toolCallCancellation"]);c!=null&&y(n,["toolCallCancellation"],ZT(t,c));const d=g(i,["usageMetadata"]);d!=null&&y(n,["usageMetadata"],tS(t,d));const p=g(i,["goAway"]);p!=null&&y(n,["goAway"],iS(t,p));const f=g(i,["sessionResumptionUpdate"]);return f!=null&&y(n,["sessionResumptionUpdate"],aS(t,f)),n}function sS(t,i){const n={};g(i,["setupComplete"])!=null&&y(n,["setupComplete"],UT());const o=g(i,["serverContent"]);o!=null&&y(n,["serverContent"],$T(t,o));const u=g(i,["toolCall"]);u!=null&&y(n,["toolCall"],WT(t,u));const c=g(i,["toolCallCancellation"]);c!=null&&y(n,["toolCallCancellation"],eS(t,c));const d=g(i,["usageMetadata"]);d!=null&&y(n,["usageMetadata"],nS(t,d));const p=g(i,["goAway"]);p!=null&&y(n,["goAway"],rS(t,p));const f=g(i,["sessionResumptionUpdate"]);return f!=null&&y(n,["sessionResumptionUpdate"],lS(t,f)),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function uS(t,i){const n={};if(g(i,["videoMetadata"])!==void 0)throw new Error("videoMetadata parameter is not supported in Gemini API.");const a=g(i,["thought"]);a!=null&&y(n,["thought"],a);const o=g(i,["codeExecutionResult"]);o!=null&&y(n,["codeExecutionResult"],o);const u=g(i,["executableCode"]);u!=null&&y(n,["executableCode"],u);const c=g(i,["fileData"]);c!=null&&y(n,["fileData"],c);const d=g(i,["functionCall"]);d!=null&&y(n,["functionCall"],d);const p=g(i,["functionResponse"]);p!=null&&y(n,["functionResponse"],p);const f=g(i,["inlineData"]);f!=null&&y(n,["inlineData"],f);const v=g(i,["text"]);return v!=null&&y(n,["text"],v),n}function Ss(t,i){const n={},a=g(i,["parts"]);if(a!=null){let u=a;Array.isArray(u)&&(u=u.map(c=>uS(t,c))),y(n,["parts"],u)}const o=g(i,["role"]);return o!=null&&y(n,["role"],o),n}function cS(t,i){const n={};if(g(i,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const a=g(i,["category"]);a!=null&&y(n,["category"],a);const o=g(i,["threshold"]);return o!=null&&y(n,["threshold"],o),n}function fS(){return{}}function dS(t,i){const n={},a=g(i,["mode"]);a!=null&&y(n,["mode"],a);const o=g(i,["dynamicThreshold"]);return o!=null&&y(n,["dynamicThreshold"],o),n}function mS(t,i){const n={},a=g(i,["dynamicRetrievalConfig"]);return a!=null&&y(n,["dynamicRetrievalConfig"],dS(t,a)),n}function pS(t,i){const n={};if(g(i,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");g(i,["googleSearch"])!=null&&y(n,["googleSearch"],fS());const o=g(i,["googleSearchRetrieval"]);o!=null&&y(n,["googleSearchRetrieval"],mS(t,o));const u=g(i,["codeExecution"]);u!=null&&y(n,["codeExecution"],u);const c=g(i,["functionDeclarations"]);return c!=null&&y(n,["functionDeclarations"],c),n}function hS(t,i){const n={},a=g(i,["mode"]);a!=null&&y(n,["mode"],a);const o=g(i,["allowedFunctionNames"]);return o!=null&&y(n,["allowedFunctionNames"],o),n}function gS(t,i){const n={},a=g(i,["functionCallingConfig"]);return a!=null&&y(n,["functionCallingConfig"],hS(t,a)),n}function yS(t,i){const n={},a=g(i,["voiceName"]);return a!=null&&y(n,["voiceName"],a),n}function xS(t,i){const n={},a=g(i,["prebuiltVoiceConfig"]);return a!=null&&y(n,["prebuiltVoiceConfig"],yS(t,a)),n}function vS(t,i){const n={},a=g(i,["voiceConfig"]);a!=null&&y(n,["voiceConfig"],xS(t,a));const o=g(i,["languageCode"]);return o!=null&&y(n,["languageCode"],o),n}function bS(t,i){const n={},a=g(i,["includeThoughts"]);a!=null&&y(n,["includeThoughts"],a);const o=g(i,["thinkingBudget"]);return o!=null&&y(n,["thinkingBudget"],o),n}function TS(t,i,n){const a={},o=g(i,["systemInstruction"]);n!==void 0&&o!=null&&y(n,["systemInstruction"],Ss(t,Qt(t,o)));const u=g(i,["temperature"]);u!=null&&y(a,["temperature"],u);const c=g(i,["topP"]);c!=null&&y(a,["topP"],c);const d=g(i,["topK"]);d!=null&&y(a,["topK"],d);const p=g(i,["candidateCount"]);p!=null&&y(a,["candidateCount"],p);const f=g(i,["maxOutputTokens"]);f!=null&&y(a,["maxOutputTokens"],f);const v=g(i,["stopSequences"]);v!=null&&y(a,["stopSequences"],v);const b=g(i,["responseLogprobs"]);b!=null&&y(a,["responseLogprobs"],b);const T=g(i,["logprobs"]);T!=null&&y(a,["logprobs"],T);const C=g(i,["presencePenalty"]);C!=null&&y(a,["presencePenalty"],C);const w=g(i,["frequencyPenalty"]);w!=null&&y(a,["frequencyPenalty"],w);const N=g(i,["seed"]);N!=null&&y(a,["seed"],N);const B=g(i,["responseMimeType"]);B!=null&&y(a,["responseMimeType"],B);const _=g(i,["responseSchema"]);if(_!=null&&y(a,["responseSchema"],l0(t,_)),g(i,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(g(i,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const U=g(i,["safetySettings"]);if(n!==void 0&&U!=null){let I=U;Array.isArray(I)&&(I=I.map(ue=>cS(t,ue))),y(n,["safetySettings"],I)}const j=g(i,["tools"]);if(n!==void 0&&j!=null){let I=Ts(t,j);Array.isArray(I)&&(I=I.map(ue=>pS(t,bs(t,ue)))),y(n,["tools"],I)}const X=g(i,["toolConfig"]);if(n!==void 0&&X!=null&&y(n,["toolConfig"],gS(t,X)),g(i,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const Z=g(i,["cachedContent"]);n!==void 0&&Z!=null&&y(n,["cachedContent"],Pi(t,Z));const q=g(i,["responseModalities"]);q!=null&&y(a,["responseModalities"],q);const Q=g(i,["mediaResolution"]);Q!=null&&y(a,["mediaResolution"],Q);const ae=g(i,["speechConfig"]);if(ae!=null&&y(a,["speechConfig"],vS(t,o0(t,ae))),g(i,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const pe=g(i,["thinkingConfig"]);return pe!=null&&y(a,["thinkingConfig"],bS(t,pe)),a}function Lg(t,i){const n={},a=g(i,["model"]);a!=null&&y(n,["_url","model"],ct(t,a));const o=g(i,["contents"]);if(o!=null){let c=Bi(t,o);Array.isArray(c)&&(c=c.map(d=>Ss(t,d))),y(n,["contents"],c)}const u=g(i,["config"]);return u!=null&&y(n,["generationConfig"],TS(t,u,n)),n}function SS(t,i,n){const a={},o=g(i,["taskType"]);n!==void 0&&o!=null&&y(n,["requests[]","taskType"],o);const u=g(i,["title"]);n!==void 0&&u!=null&&y(n,["requests[]","title"],u);const c=g(i,["outputDimensionality"]);if(n!==void 0&&c!=null&&y(n,["requests[]","outputDimensionality"],c),g(i,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(g(i,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return a}function CS(t,i){const n={},a=g(i,["model"]);a!=null&&y(n,["_url","model"],ct(t,a));const o=g(i,["contents"]);o!=null&&y(n,["requests[]","content"],a0(t,o));const u=g(i,["config"]);u!=null&&y(n,["config"],SS(t,u,n));const c=g(i,["model"]);return c!==void 0&&y(n,["requests[]","model"],ct(t,c)),n}function ES(t,i,n){const a={};if(g(i,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(g(i,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const o=g(i,["numberOfImages"]);n!==void 0&&o!=null&&y(n,["parameters","sampleCount"],o);const u=g(i,["aspectRatio"]);n!==void 0&&u!=null&&y(n,["parameters","aspectRatio"],u);const c=g(i,["guidanceScale"]);if(n!==void 0&&c!=null&&y(n,["parameters","guidanceScale"],c),g(i,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const d=g(i,["safetyFilterLevel"]);n!==void 0&&d!=null&&y(n,["parameters","safetySetting"],d);const p=g(i,["personGeneration"]);n!==void 0&&p!=null&&y(n,["parameters","personGeneration"],p);const f=g(i,["includeSafetyAttributes"]);n!==void 0&&f!=null&&y(n,["parameters","includeSafetyAttributes"],f);const v=g(i,["includeRaiReason"]);n!==void 0&&v!=null&&y(n,["parameters","includeRaiReason"],v);const b=g(i,["language"]);n!==void 0&&b!=null&&y(n,["parameters","language"],b);const T=g(i,["outputMimeType"]);n!==void 0&&T!=null&&y(n,["parameters","outputOptions","mimeType"],T);const C=g(i,["outputCompressionQuality"]);if(n!==void 0&&C!=null&&y(n,["parameters","outputOptions","compressionQuality"],C),g(i,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(g(i,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return a}function MS(t,i){const n={},a=g(i,["model"]);a!=null&&y(n,["_url","model"],ct(t,a));const o=g(i,["prompt"]);o!=null&&y(n,["instances[0]","prompt"],o);const u=g(i,["config"]);return u!=null&&y(n,["config"],ES(t,u,n)),n}function AS(t,i){const n={},a=g(i,["model"]);a!=null&&y(n,["_url","name"],ct(t,a));const o=g(i,["config"]);return o!=null&&y(n,["config"],o),n}function wS(t,i,n){const a={},o=g(i,["displayName"]);n!==void 0&&o!=null&&y(n,["displayName"],o);const u=g(i,["description"]);return n!==void 0&&u!=null&&y(n,["description"],u),a}function DS(t,i){const n={},a=g(i,["model"]);a!=null&&y(n,["_url","name"],ct(t,a));const o=g(i,["config"]);return o!=null&&y(n,["config"],wS(t,o,n)),n}function kS(t,i){const n={},a=g(i,["model"]);a!=null&&y(n,["_url","name"],ct(t,a));const o=g(i,["config"]);return o!=null&&y(n,["config"],o),n}function NS(t,i){const n={};if(g(i,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(g(i,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(g(i,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return n}function RS(t,i){const n={},a=g(i,["model"]);a!=null&&y(n,["_url","model"],ct(t,a));const o=g(i,["contents"]);if(o!=null){let c=Bi(t,o);Array.isArray(c)&&(c=c.map(d=>Ss(t,d))),y(n,["contents"],c)}const u=g(i,["config"]);return u!=null&&y(n,["config"],NS(t,u)),n}function IS(t,i){const n={};if(g(i,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const a=g(i,["imageBytes"]);a!=null&&y(n,["bytesBase64Encoded"],zi(t,a));const o=g(i,["mimeType"]);return o!=null&&y(n,["mimeType"],o),n}function _S(t,i,n){const a={},o=g(i,["numberOfVideos"]);if(n!==void 0&&o!=null&&y(n,["parameters","sampleCount"],o),g(i,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(g(i,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const u=g(i,["durationSeconds"]);if(n!==void 0&&u!=null&&y(n,["parameters","durationSeconds"],u),g(i,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const c=g(i,["aspectRatio"]);if(n!==void 0&&c!=null&&y(n,["parameters","aspectRatio"],c),g(i,["resolution"])!==void 0)throw new Error("resolution parameter is not supported in Gemini API.");const d=g(i,["personGeneration"]);if(n!==void 0&&d!=null&&y(n,["parameters","personGeneration"],d),g(i,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const p=g(i,["negativePrompt"]);if(n!==void 0&&p!=null&&y(n,["parameters","negativePrompt"],p),g(i,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return a}function LS(t,i){const n={},a=g(i,["model"]);a!=null&&y(n,["_url","model"],ct(t,a));const o=g(i,["prompt"]);o!=null&&y(n,["instances[0]","prompt"],o);const u=g(i,["image"]);u!=null&&y(n,["instances[0]","image"],IS(t,u));const c=g(i,["config"]);return c!=null&&y(n,["config"],_S(t,c,n)),n}function OS(t,i){const n={},a=g(i,["videoMetadata"]);a!=null&&y(n,["videoMetadata"],a);const o=g(i,["thought"]);o!=null&&y(n,["thought"],o);const u=g(i,["codeExecutionResult"]);u!=null&&y(n,["codeExecutionResult"],u);const c=g(i,["executableCode"]);c!=null&&y(n,["executableCode"],c);const d=g(i,["fileData"]);d!=null&&y(n,["fileData"],d);const p=g(i,["functionCall"]);p!=null&&y(n,["functionCall"],p);const f=g(i,["functionResponse"]);f!=null&&y(n,["functionResponse"],f);const v=g(i,["inlineData"]);v!=null&&y(n,["inlineData"],v);const b=g(i,["text"]);return b!=null&&y(n,["text"],b),n}function oa(t,i){const n={},a=g(i,["parts"]);if(a!=null){let u=a;Array.isArray(u)&&(u=u.map(c=>OS(t,c))),y(n,["parts"],u)}const o=g(i,["role"]);return o!=null&&y(n,["role"],o),n}function FS(t,i){const n={},a=g(i,["featureSelectionPreference"]);return a!=null&&y(n,["featureSelectionPreference"],a),n}function BS(t,i){const n={},a=g(i,["method"]);a!=null&&y(n,["method"],a);const o=g(i,["category"]);o!=null&&y(n,["category"],o);const u=g(i,["threshold"]);return u!=null&&y(n,["threshold"],u),n}function PS(){return{}}function zS(t,i){const n={},a=g(i,["mode"]);a!=null&&y(n,["mode"],a);const o=g(i,["dynamicThreshold"]);return o!=null&&y(n,["dynamicThreshold"],o),n}function VS(t,i){const n={},a=g(i,["dynamicRetrievalConfig"]);return a!=null&&y(n,["dynamicRetrievalConfig"],zS(t,a)),n}function f0(t,i){const n={},a=g(i,["retrieval"]);a!=null&&y(n,["retrieval"],a),g(i,["googleSearch"])!=null&&y(n,["googleSearch"],PS());const u=g(i,["googleSearchRetrieval"]);u!=null&&y(n,["googleSearchRetrieval"],VS(t,u));const c=g(i,["codeExecution"]);c!=null&&y(n,["codeExecution"],c);const d=g(i,["functionDeclarations"]);return d!=null&&y(n,["functionDeclarations"],d),n}function jS(t,i){const n={},a=g(i,["mode"]);a!=null&&y(n,["mode"],a);const o=g(i,["allowedFunctionNames"]);return o!=null&&y(n,["allowedFunctionNames"],o),n}function US(t,i){const n={},a=g(i,["functionCallingConfig"]);return a!=null&&y(n,["functionCallingConfig"],jS(t,a)),n}function HS(t,i){const n={},a=g(i,["voiceName"]);return a!=null&&y(n,["voiceName"],a),n}function GS(t,i){const n={},a=g(i,["prebuiltVoiceConfig"]);return a!=null&&y(n,["prebuiltVoiceConfig"],HS(t,a)),n}function qS(t,i){const n={},a=g(i,["voiceConfig"]);a!=null&&y(n,["voiceConfig"],GS(t,a));const o=g(i,["languageCode"]);return o!=null&&y(n,["languageCode"],o),n}function YS(t,i){const n={},a=g(i,["includeThoughts"]);a!=null&&y(n,["includeThoughts"],a);const o=g(i,["thinkingBudget"]);return o!=null&&y(n,["thinkingBudget"],o),n}function KS(t,i,n){const a={},o=g(i,["systemInstruction"]);n!==void 0&&o!=null&&y(n,["systemInstruction"],oa(t,Qt(t,o)));const u=g(i,["temperature"]);u!=null&&y(a,["temperature"],u);const c=g(i,["topP"]);c!=null&&y(a,["topP"],c);const d=g(i,["topK"]);d!=null&&y(a,["topK"],d);const p=g(i,["candidateCount"]);p!=null&&y(a,["candidateCount"],p);const f=g(i,["maxOutputTokens"]);f!=null&&y(a,["maxOutputTokens"],f);const v=g(i,["stopSequences"]);v!=null&&y(a,["stopSequences"],v);const b=g(i,["responseLogprobs"]);b!=null&&y(a,["responseLogprobs"],b);const T=g(i,["logprobs"]);T!=null&&y(a,["logprobs"],T);const C=g(i,["presencePenalty"]);C!=null&&y(a,["presencePenalty"],C);const w=g(i,["frequencyPenalty"]);w!=null&&y(a,["frequencyPenalty"],w);const N=g(i,["seed"]);N!=null&&y(a,["seed"],N);const B=g(i,["responseMimeType"]);B!=null&&y(a,["responseMimeType"],B);const _=g(i,["responseSchema"]);_!=null&&y(a,["responseSchema"],l0(t,_));const U=g(i,["routingConfig"]);U!=null&&y(a,["routingConfig"],U);const j=g(i,["modelSelectionConfig"]);j!=null&&y(a,["modelConfig"],FS(t,j));const X=g(i,["safetySettings"]);if(n!==void 0&&X!=null){let oe=X;Array.isArray(oe)&&(oe=oe.map(me=>BS(t,me))),y(n,["safetySettings"],oe)}const Z=g(i,["tools"]);if(n!==void 0&&Z!=null){let oe=Ts(t,Z);Array.isArray(oe)&&(oe=oe.map(me=>f0(t,bs(t,me)))),y(n,["tools"],oe)}const q=g(i,["toolConfig"]);n!==void 0&&q!=null&&y(n,["toolConfig"],US(t,q));const Q=g(i,["labels"]);n!==void 0&&Q!=null&&y(n,["labels"],Q);const ae=g(i,["cachedContent"]);n!==void 0&&ae!=null&&y(n,["cachedContent"],Pi(t,ae));const pe=g(i,["responseModalities"]);pe!=null&&y(a,["responseModalities"],pe);const I=g(i,["mediaResolution"]);I!=null&&y(a,["mediaResolution"],I);const ue=g(i,["speechConfig"]);ue!=null&&y(a,["speechConfig"],qS(t,o0(t,ue)));const de=g(i,["audioTimestamp"]);de!=null&&y(a,["audioTimestamp"],de);const te=g(i,["thinkingConfig"]);return te!=null&&y(a,["thinkingConfig"],YS(t,te)),a}function Og(t,i){const n={},a=g(i,["model"]);a!=null&&y(n,["_url","model"],ct(t,a));const o=g(i,["contents"]);if(o!=null){let c=Bi(t,o);Array.isArray(c)&&(c=c.map(d=>oa(t,d))),y(n,["contents"],c)}const u=g(i,["config"]);return u!=null&&y(n,["generationConfig"],KS(t,u,n)),n}function $S(t,i,n){const a={},o=g(i,["taskType"]);n!==void 0&&o!=null&&y(n,["instances[]","task_type"],o);const u=g(i,["title"]);n!==void 0&&u!=null&&y(n,["instances[]","title"],u);const c=g(i,["outputDimensionality"]);n!==void 0&&c!=null&&y(n,["parameters","outputDimensionality"],c);const d=g(i,["mimeType"]);n!==void 0&&d!=null&&y(n,["instances[]","mimeType"],d);const p=g(i,["autoTruncate"]);return n!==void 0&&p!=null&&y(n,["parameters","autoTruncate"],p),a}function XS(t,i){const n={},a=g(i,["model"]);a!=null&&y(n,["_url","model"],ct(t,a));const o=g(i,["contents"]);o!=null&&y(n,["instances[]","content"],a0(t,o));const u=g(i,["config"]);return u!=null&&y(n,["config"],$S(t,u,n)),n}function QS(t,i,n){const a={},o=g(i,["outputGcsUri"]);n!==void 0&&o!=null&&y(n,["parameters","storageUri"],o);const u=g(i,["negativePrompt"]);n!==void 0&&u!=null&&y(n,["parameters","negativePrompt"],u);const c=g(i,["numberOfImages"]);n!==void 0&&c!=null&&y(n,["parameters","sampleCount"],c);const d=g(i,["aspectRatio"]);n!==void 0&&d!=null&&y(n,["parameters","aspectRatio"],d);const p=g(i,["guidanceScale"]);n!==void 0&&p!=null&&y(n,["parameters","guidanceScale"],p);const f=g(i,["seed"]);n!==void 0&&f!=null&&y(n,["parameters","seed"],f);const v=g(i,["safetyFilterLevel"]);n!==void 0&&v!=null&&y(n,["parameters","safetySetting"],v);const b=g(i,["personGeneration"]);n!==void 0&&b!=null&&y(n,["parameters","personGeneration"],b);const T=g(i,["includeSafetyAttributes"]);n!==void 0&&T!=null&&y(n,["parameters","includeSafetyAttributes"],T);const C=g(i,["includeRaiReason"]);n!==void 0&&C!=null&&y(n,["parameters","includeRaiReason"],C);const w=g(i,["language"]);n!==void 0&&w!=null&&y(n,["parameters","language"],w);const N=g(i,["outputMimeType"]);n!==void 0&&N!=null&&y(n,["parameters","outputOptions","mimeType"],N);const B=g(i,["outputCompressionQuality"]);n!==void 0&&B!=null&&y(n,["parameters","outputOptions","compressionQuality"],B);const _=g(i,["addWatermark"]);n!==void 0&&_!=null&&y(n,["parameters","addWatermark"],_);const U=g(i,["enhancePrompt"]);return n!==void 0&&U!=null&&y(n,["parameters","enhancePrompt"],U),a}function JS(t,i){const n={},a=g(i,["model"]);a!=null&&y(n,["_url","model"],ct(t,a));const o=g(i,["prompt"]);o!=null&&y(n,["instances[0]","prompt"],o);const u=g(i,["config"]);return u!=null&&y(n,["config"],QS(t,u,n)),n}function WS(t,i){const n={},a=g(i,["model"]);a!=null&&y(n,["_url","name"],ct(t,a));const o=g(i,["config"]);return o!=null&&y(n,["config"],o),n}function ZS(t,i,n){const a={},o=g(i,["displayName"]);n!==void 0&&o!=null&&y(n,["displayName"],o);const u=g(i,["description"]);return n!==void 0&&u!=null&&y(n,["description"],u),a}function eC(t,i){const n={},a=g(i,["model"]);a!=null&&y(n,["_url","model"],ct(t,a));const o=g(i,["config"]);return o!=null&&y(n,["config"],ZS(t,o,n)),n}function tC(t,i){const n={},a=g(i,["model"]);a!=null&&y(n,["_url","name"],ct(t,a));const o=g(i,["config"]);return o!=null&&y(n,["config"],o),n}function nC(t,i,n){const a={},o=g(i,["systemInstruction"]);n!==void 0&&o!=null&&y(n,["systemInstruction"],oa(t,Qt(t,o)));const u=g(i,["tools"]);if(n!==void 0&&u!=null){let d=u;Array.isArray(d)&&(d=d.map(p=>f0(t,p))),y(n,["tools"],d)}const c=g(i,["generationConfig"]);return n!==void 0&&c!=null&&y(n,["generationConfig"],c),a}function iC(t,i){const n={},a=g(i,["model"]);a!=null&&y(n,["_url","model"],ct(t,a));const o=g(i,["contents"]);if(o!=null){let c=Bi(t,o);Array.isArray(c)&&(c=c.map(d=>oa(t,d))),y(n,["contents"],c)}const u=g(i,["config"]);return u!=null&&y(n,["config"],nC(t,u,n)),n}function rC(t,i){const n={},a=g(i,["model"]);a!=null&&y(n,["_url","model"],ct(t,a));const o=g(i,["contents"]);if(o!=null){let c=Bi(t,o);Array.isArray(c)&&(c=c.map(d=>oa(t,d))),y(n,["contents"],c)}const u=g(i,["config"]);return u!=null&&y(n,["config"],u),n}function aC(t,i){const n={},a=g(i,["gcsUri"]);a!=null&&y(n,["gcsUri"],a);const o=g(i,["imageBytes"]);o!=null&&y(n,["bytesBase64Encoded"],zi(t,o));const u=g(i,["mimeType"]);return u!=null&&y(n,["mimeType"],u),n}function lC(t,i,n){const a={},o=g(i,["numberOfVideos"]);n!==void 0&&o!=null&&y(n,["parameters","sampleCount"],o);const u=g(i,["outputGcsUri"]);n!==void 0&&u!=null&&y(n,["parameters","storageUri"],u);const c=g(i,["fps"]);n!==void 0&&c!=null&&y(n,["parameters","fps"],c);const d=g(i,["durationSeconds"]);n!==void 0&&d!=null&&y(n,["parameters","durationSeconds"],d);const p=g(i,["seed"]);n!==void 0&&p!=null&&y(n,["parameters","seed"],p);const f=g(i,["aspectRatio"]);n!==void 0&&f!=null&&y(n,["parameters","aspectRatio"],f);const v=g(i,["resolution"]);n!==void 0&&v!=null&&y(n,["parameters","resolution"],v);const b=g(i,["personGeneration"]);n!==void 0&&b!=null&&y(n,["parameters","personGeneration"],b);const T=g(i,["pubsubTopic"]);n!==void 0&&T!=null&&y(n,["parameters","pubsubTopic"],T);const C=g(i,["negativePrompt"]);n!==void 0&&C!=null&&y(n,["parameters","negativePrompt"],C);const w=g(i,["enhancePrompt"]);return n!==void 0&&w!=null&&y(n,["parameters","enhancePrompt"],w),a}function oC(t,i){const n={},a=g(i,["model"]);a!=null&&y(n,["_url","model"],ct(t,a));const o=g(i,["prompt"]);o!=null&&y(n,["instances[0]","prompt"],o);const u=g(i,["image"]);u!=null&&y(n,["instances[0]","image"],aC(t,u));const c=g(i,["config"]);return c!=null&&y(n,["config"],lC(t,c,n)),n}function sC(t,i){const n={},a=g(i,["thought"]);a!=null&&y(n,["thought"],a);const o=g(i,["codeExecutionResult"]);o!=null&&y(n,["codeExecutionResult"],o);const u=g(i,["executableCode"]);u!=null&&y(n,["executableCode"],u);const c=g(i,["fileData"]);c!=null&&y(n,["fileData"],c);const d=g(i,["functionCall"]);d!=null&&y(n,["functionCall"],d);const p=g(i,["functionResponse"]);p!=null&&y(n,["functionResponse"],p);const f=g(i,["inlineData"]);f!=null&&y(n,["inlineData"],f);const v=g(i,["text"]);return v!=null&&y(n,["text"],v),n}function uC(t,i){const n={},a=g(i,["parts"]);if(a!=null){let u=a;Array.isArray(u)&&(u=u.map(c=>sC(t,c))),y(n,["parts"],u)}const o=g(i,["role"]);return o!=null&&y(n,["role"],o),n}function cC(t,i){const n={},a=g(i,["citationSources"]);return a!=null&&y(n,["citations"],a),n}function fC(t,i){const n={},a=g(i,["content"]);a!=null&&y(n,["content"],uC(t,a));const o=g(i,["citationMetadata"]);o!=null&&y(n,["citationMetadata"],cC(t,o));const u=g(i,["tokenCount"]);u!=null&&y(n,["tokenCount"],u);const c=g(i,["finishReason"]);c!=null&&y(n,["finishReason"],c);const d=g(i,["avgLogprobs"]);d!=null&&y(n,["avgLogprobs"],d);const p=g(i,["groundingMetadata"]);p!=null&&y(n,["groundingMetadata"],p);const f=g(i,["index"]);f!=null&&y(n,["index"],f);const v=g(i,["logprobsResult"]);v!=null&&y(n,["logprobsResult"],v);const b=g(i,["safetyRatings"]);return b!=null&&y(n,["safetyRatings"],b),n}function Fg(t,i){const n={},a=g(i,["candidates"]);if(a!=null){let d=a;Array.isArray(d)&&(d=d.map(p=>fC(t,p))),y(n,["candidates"],d)}const o=g(i,["modelVersion"]);o!=null&&y(n,["modelVersion"],o);const u=g(i,["promptFeedback"]);u!=null&&y(n,["promptFeedback"],u);const c=g(i,["usageMetadata"]);return c!=null&&y(n,["usageMetadata"],c),n}function dC(t,i){const n={},a=g(i,["values"]);return a!=null&&y(n,["values"],a),n}function mC(){return{}}function pC(t,i){const n={},a=g(i,["embeddings"]);if(a!=null){let u=a;Array.isArray(u)&&(u=u.map(c=>dC(t,c))),y(n,["embeddings"],u)}return g(i,["metadata"])!=null&&y(n,["metadata"],mC()),n}function hC(t,i){const n={},a=g(i,["bytesBase64Encoded"]);a!=null&&y(n,["imageBytes"],zi(t,a));const o=g(i,["mimeType"]);return o!=null&&y(n,["mimeType"],o),n}function d0(t,i){const n={},a=g(i,["safetyAttributes","categories"]);a!=null&&y(n,["categories"],a);const o=g(i,["safetyAttributes","scores"]);o!=null&&y(n,["scores"],o);const u=g(i,["contentType"]);return u!=null&&y(n,["contentType"],u),n}function gC(t,i){const n={},a=g(i,["_self"]);a!=null&&y(n,["image"],hC(t,a));const o=g(i,["raiFilteredReason"]);o!=null&&y(n,["raiFilteredReason"],o);const u=g(i,["_self"]);return u!=null&&y(n,["safetyAttributes"],d0(t,u)),n}function yC(t,i){const n={},a=g(i,["predictions"]);if(a!=null){let u=a;Array.isArray(u)&&(u=u.map(c=>gC(t,c))),y(n,["generatedImages"],u)}const o=g(i,["positivePromptSafetyAttributes"]);return o!=null&&y(n,["positivePromptSafetyAttributes"],d0(t,o)),n}function xC(t,i){const n={},a=g(i,["baseModel"]);a!=null&&y(n,["baseModel"],a);const o=g(i,["createTime"]);o!=null&&y(n,["createTime"],o);const u=g(i,["updateTime"]);return u!=null&&y(n,["updateTime"],u),n}function Bg(t,i){const n={},a=g(i,["name"]);a!=null&&y(n,["name"],a);const o=g(i,["displayName"]);o!=null&&y(n,["displayName"],o);const u=g(i,["description"]);u!=null&&y(n,["description"],u);const c=g(i,["version"]);c!=null&&y(n,["version"],c);const d=g(i,["_self"]);d!=null&&y(n,["tunedModelInfo"],xC(t,d));const p=g(i,["inputTokenLimit"]);p!=null&&y(n,["inputTokenLimit"],p);const f=g(i,["outputTokenLimit"]);f!=null&&y(n,["outputTokenLimit"],f);const v=g(i,["supportedGenerationMethods"]);return v!=null&&y(n,["supportedActions"],v),n}function vC(){return{}}function bC(t,i){const n={},a=g(i,["totalTokens"]);a!=null&&y(n,["totalTokens"],a);const o=g(i,["cachedContentTokenCount"]);return o!=null&&y(n,["cachedContentTokenCount"],o),n}function TC(t,i){const n={},a=g(i,["video","uri"]);a!=null&&y(n,["uri"],a);const o=g(i,["video","encodedVideo"]);o!=null&&y(n,["videoBytes"],zi(t,o));const u=g(i,["encoding"]);return u!=null&&y(n,["mimeType"],u),n}function SC(t,i){const n={},a=g(i,["_self"]);return a!=null&&y(n,["video"],TC(t,a)),n}function CC(t,i){const n={},a=g(i,["generatedSamples"]);if(a!=null){let c=a;Array.isArray(c)&&(c=c.map(d=>SC(t,d))),y(n,["generatedVideos"],c)}const o=g(i,["raiMediaFilteredCount"]);o!=null&&y(n,["raiMediaFilteredCount"],o);const u=g(i,["raiMediaFilteredReasons"]);return u!=null&&y(n,["raiMediaFilteredReasons"],u),n}function EC(t,i){const n={},a=g(i,["name"]);a!=null&&y(n,["name"],a);const o=g(i,["metadata"]);o!=null&&y(n,["metadata"],o);const u=g(i,["done"]);u!=null&&y(n,["done"],u);const c=g(i,["error"]);c!=null&&y(n,["error"],c);const d=g(i,["response","generateVideoResponse"]);return d!=null&&y(n,["response"],CC(t,d)),n}function MC(t,i){const n={},a=g(i,["videoMetadata"]);a!=null&&y(n,["videoMetadata"],a);const o=g(i,["thought"]);o!=null&&y(n,["thought"],o);const u=g(i,["codeExecutionResult"]);u!=null&&y(n,["codeExecutionResult"],u);const c=g(i,["executableCode"]);c!=null&&y(n,["executableCode"],c);const d=g(i,["fileData"]);d!=null&&y(n,["fileData"],d);const p=g(i,["functionCall"]);p!=null&&y(n,["functionCall"],p);const f=g(i,["functionResponse"]);f!=null&&y(n,["functionResponse"],f);const v=g(i,["inlineData"]);v!=null&&y(n,["inlineData"],v);const b=g(i,["text"]);return b!=null&&y(n,["text"],b),n}function AC(t,i){const n={},a=g(i,["parts"]);if(a!=null){let u=a;Array.isArray(u)&&(u=u.map(c=>MC(t,c))),y(n,["parts"],u)}const o=g(i,["role"]);return o!=null&&y(n,["role"],o),n}function wC(t,i){const n={},a=g(i,["citations"]);return a!=null&&y(n,["citations"],a),n}function DC(t,i){const n={},a=g(i,["content"]);a!=null&&y(n,["content"],AC(t,a));const o=g(i,["citationMetadata"]);o!=null&&y(n,["citationMetadata"],wC(t,o));const u=g(i,["finishMessage"]);u!=null&&y(n,["finishMessage"],u);const c=g(i,["finishReason"]);c!=null&&y(n,["finishReason"],c);const d=g(i,["avgLogprobs"]);d!=null&&y(n,["avgLogprobs"],d);const p=g(i,["groundingMetadata"]);p!=null&&y(n,["groundingMetadata"],p);const f=g(i,["index"]);f!=null&&y(n,["index"],f);const v=g(i,["logprobsResult"]);v!=null&&y(n,["logprobsResult"],v);const b=g(i,["safetyRatings"]);return b!=null&&y(n,["safetyRatings"],b),n}function Pg(t,i){const n={},a=g(i,["candidates"]);if(a!=null){let f=a;Array.isArray(f)&&(f=f.map(v=>DC(t,v))),y(n,["candidates"],f)}const o=g(i,["createTime"]);o!=null&&y(n,["createTime"],o);const u=g(i,["responseId"]);u!=null&&y(n,["responseId"],u);const c=g(i,["modelVersion"]);c!=null&&y(n,["modelVersion"],c);const d=g(i,["promptFeedback"]);d!=null&&y(n,["promptFeedback"],d);const p=g(i,["usageMetadata"]);return p!=null&&y(n,["usageMetadata"],p),n}function kC(t,i){const n={},a=g(i,["truncated"]);a!=null&&y(n,["truncated"],a);const o=g(i,["token_count"]);return o!=null&&y(n,["tokenCount"],o),n}function NC(t,i){const n={},a=g(i,["values"]);a!=null&&y(n,["values"],a);const o=g(i,["statistics"]);return o!=null&&y(n,["statistics"],kC(t,o)),n}function RC(t,i){const n={},a=g(i,["billableCharacterCount"]);return a!=null&&y(n,["billableCharacterCount"],a),n}function IC(t,i){const n={},a=g(i,["predictions[]","embeddings"]);if(a!=null){let u=a;Array.isArray(u)&&(u=u.map(c=>NC(t,c))),y(n,["embeddings"],u)}const o=g(i,["metadata"]);return o!=null&&y(n,["metadata"],RC(t,o)),n}function _C(t,i){const n={},a=g(i,["gcsUri"]);a!=null&&y(n,["gcsUri"],a);const o=g(i,["bytesBase64Encoded"]);o!=null&&y(n,["imageBytes"],zi(t,o));const u=g(i,["mimeType"]);return u!=null&&y(n,["mimeType"],u),n}function m0(t,i){const n={},a=g(i,["safetyAttributes","categories"]);a!=null&&y(n,["categories"],a);const o=g(i,["safetyAttributes","scores"]);o!=null&&y(n,["scores"],o);const u=g(i,["contentType"]);return u!=null&&y(n,["contentType"],u),n}function LC(t,i){const n={},a=g(i,["_self"]);a!=null&&y(n,["image"],_C(t,a));const o=g(i,["raiFilteredReason"]);o!=null&&y(n,["raiFilteredReason"],o);const u=g(i,["_self"]);u!=null&&y(n,["safetyAttributes"],m0(t,u));const c=g(i,["prompt"]);return c!=null&&y(n,["enhancedPrompt"],c),n}function OC(t,i){const n={},a=g(i,["predictions"]);if(a!=null){let u=a;Array.isArray(u)&&(u=u.map(c=>LC(t,c))),y(n,["generatedImages"],u)}const o=g(i,["positivePromptSafetyAttributes"]);return o!=null&&y(n,["positivePromptSafetyAttributes"],m0(t,o)),n}function FC(t,i){const n={},a=g(i,["endpoint"]);a!=null&&y(n,["name"],a);const o=g(i,["deployedModelId"]);return o!=null&&y(n,["deployedModelId"],o),n}function BC(t,i){const n={},a=g(i,["labels","google-vertex-llm-tuning-base-model-id"]);a!=null&&y(n,["baseModel"],a);const o=g(i,["createTime"]);o!=null&&y(n,["createTime"],o);const u=g(i,["updateTime"]);return u!=null&&y(n,["updateTime"],u),n}function zg(t,i){const n={},a=g(i,["name"]);a!=null&&y(n,["name"],a);const o=g(i,["displayName"]);o!=null&&y(n,["displayName"],o);const u=g(i,["description"]);u!=null&&y(n,["description"],u);const c=g(i,["versionId"]);c!=null&&y(n,["version"],c);const d=g(i,["deployedModels"]);if(d!=null){let v=d;Array.isArray(v)&&(v=v.map(b=>FC(t,b))),y(n,["endpoints"],v)}const p=g(i,["labels"]);p!=null&&y(n,["labels"],p);const f=g(i,["_self"]);return f!=null&&y(n,["tunedModelInfo"],BC(t,f)),n}function PC(){return{}}function zC(t,i){const n={},a=g(i,["totalTokens"]);return a!=null&&y(n,["totalTokens"],a),n}function VC(t,i){const n={},a=g(i,["tokensInfo"]);return a!=null&&y(n,["tokensInfo"],a),n}function jC(t,i){const n={},a=g(i,["gcsUri"]);a!=null&&y(n,["uri"],a);const o=g(i,["bytesBase64Encoded"]);o!=null&&y(n,["videoBytes"],zi(t,o));const u=g(i,["mimeType"]);return u!=null&&y(n,["mimeType"],u),n}function UC(t,i){const n={},a=g(i,["_self"]);return a!=null&&y(n,["video"],jC(t,a)),n}function HC(t,i){const n={},a=g(i,["videos"]);if(a!=null){let c=a;Array.isArray(c)&&(c=c.map(d=>UC(t,d))),y(n,["generatedVideos"],c)}const o=g(i,["raiMediaFilteredCount"]);o!=null&&y(n,["raiMediaFilteredCount"],o);const u=g(i,["raiMediaFilteredReasons"]);return u!=null&&y(n,["raiMediaFilteredReasons"],u),n}function GC(t,i){const n={},a=g(i,["name"]);a!=null&&y(n,["name"],a);const o=g(i,["metadata"]);o!=null&&y(n,["metadata"],o);const u=g(i,["done"]);u!=null&&y(n,["done"],u);const c=g(i,["error"]);c!=null&&y(n,["error"],c);const d=g(i,["response"]);return d!=null&&y(n,["response"],HC(t,d)),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const qC="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function YC(t,i,n){let a,o;n.data instanceof Blob?o=JSON.parse(await n.data.text()):o=JSON.parse(n.data),t.isVertexAI()?a=sS(t,o):a=oS(t,o),i(a)}class KC{constructor(i,n,a){this.apiClient=i,this.auth=n,this.webSocketFactory=a}async connect(i){var n,a,o,u;const c=this.apiClient.getWebsocketBaseUrl(),d=this.apiClient.getApiVersion();let p;const f=JC(this.apiClient.getDefaultHeaders());if(this.apiClient.isVertexAI())p=`${c}/ws/google.cloud.aiplatform.${d}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(f);else{const X=this.apiClient.getApiKey();p=`${c}/ws/google.ai.generativelanguage.${d}.GenerativeService.BidiGenerateContent?key=${X}`}let v=()=>{};const b=new Promise(X=>{v=X}),T=i.callbacks,C=function(){var X;(X=T==null?void 0:T.onopen)===null||X===void 0||X.call(T),v({})},w=this.apiClient,N={onopen:C,onmessage:X=>{YC(w,T.onmessage,X)},onerror:(n=T==null?void 0:T.onerror)!==null&&n!==void 0?n:function(X){},onclose:(a=T==null?void 0:T.onclose)!==null&&a!==void 0?a:function(X){}},B=this.webSocketFactory.create(p,QC(f),N);B.connect(),await b;let _=ct(this.apiClient,i.model);if(this.apiClient.isVertexAI()&&_.startsWith("publishers/")){const X=this.apiClient.getProject(),Z=this.apiClient.getLocation();_=`projects/${X}/locations/${Z}/`+_}let U={};this.apiClient.isVertexAI()&&((o=i.config)===null||o===void 0?void 0:o.responseModalities)===void 0&&(i.config===void 0?i.config={responseModalities:[fs.AUDIO]}:i.config.responseModalities=[fs.AUDIO]),!((u=i.config)===null||u===void 0)&&u.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const j={model:_,config:i.config,callbacks:i.callbacks};return this.apiClient.isVertexAI()?U=LT(this.apiClient,j):U=_T(this.apiClient,j),delete U.config,B.send(JSON.stringify(U)),new XC(B,this.apiClient)}}const $C={turnComplete:!0};class XC{constructor(i,n){this.conn=i,this.apiClient=n}tLiveClientContent(i,n){if(n.turns!==null&&n.turns!==void 0){let a=[];try{a=Bi(i,n.turns),i.isVertexAI()?a=a.map(o=>oa(i,o)):a=a.map(o=>Ss(i,o))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof n.turns}'`)}return{clientContent:{turns:a,turnComplete:n.turnComplete}}}return{clientContent:{turnComplete:n.turnComplete}}}tLiveClienttToolResponse(i,n){let a=[];if(n.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(n.functionResponses)?a=n.functionResponses:a=[n.functionResponses],a.length===0)throw new Error("functionResponses is required.");for(const u of a){if(typeof u!="object"||u===null||!("name"in u)||!("response"in u))throw new Error(`Could not parse function response, type '${typeof u}'.`);if(!i.isVertexAI()&&!("id"in u))throw new Error(qC)}return{toolResponse:{functionResponses:a}}}sendClientContent(i){i=Object.assign(Object.assign({},$C),i);const n=this.tLiveClientContent(this.apiClient,i);this.conn.send(JSON.stringify(n))}sendRealtimeInput(i){let n={};this.apiClient.isVertexAI()?n={realtimeInput:VT(this.apiClient,i)}:n={realtimeInput:zT(this.apiClient,i)},this.conn.send(JSON.stringify(n))}sendToolResponse(i){if(i.functionResponses==null)throw new Error("Tool response parameters are required.");const n=this.tLiveClienttToolResponse(this.apiClient,i);this.conn.send(JSON.stringify(n))}close(){this.conn.close()}}function QC(t){const i={};return t.forEach((n,a)=>{i[a]=n}),i}function JC(t){const i=new Headers;for(const[n,a]of Object.entries(t))i.append(n,a);return i}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class WC extends kl{constructor(i){super(),this.apiClient=i,this.generateContent=async n=>await this.generateContentInternal(n),this.generateContentStream=async n=>await this.generateContentStreamInternal(n),this.generateImages=async n=>await this.generateImagesInternal(n).then(a=>{var o;let u;const c=[];if(a!=null&&a.generatedImages)for(const p of a.generatedImages)p&&(p!=null&&p.safetyAttributes)&&((o=p==null?void 0:p.safetyAttributes)===null||o===void 0?void 0:o.contentType)==="Positive Prompt"?u=p==null?void 0:p.safetyAttributes:c.push(p);let d;return u?d={generatedImages:c,positivePromptSafetyAttributes:u}:d={generatedImages:c},d})}async generateContentInternal(i){var n,a,o,u;let c,d="",p={};if(this.apiClient.isVertexAI()){const f=Og(this.apiClient,i);return d=ke("{model}:generateContent",f._url),p=f._query,delete f.config,delete f._url,delete f._query,c=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=i.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(a=i.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),c.then(v=>{const b=Pg(this.apiClient,v),T=new Ko;return Object.assign(T,b),T})}else{const f=Lg(this.apiClient,i);return d=ke("{model}:generateContent",f._url),p=f._query,delete f.config,delete f._url,delete f._query,c=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(o=i.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(u=i.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json()),c.then(v=>{const b=Fg(this.apiClient,v),T=new Ko;return Object.assign(T,b),T})}}async generateContentStreamInternal(i){var n,a,o,u;let c,d="",p={};if(this.apiClient.isVertexAI()){const f=Og(this.apiClient,i);d=ke("{model}:streamGenerateContent?alt=sse",f._url),p=f._query,delete f.config,delete f._url,delete f._query;const v=this.apiClient;return c=v.requestStream({path:d,queryParams:p,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=i.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(a=i.config)===null||a===void 0?void 0:a.abortSignal}),c.then(function(b){return ds(this,arguments,function*(){var T,C,w,N;try{for(var B=!0,_=mf(b),U;U=yield Bt(_.next()),T=U.done,!T;B=!0){N=U.value,B=!1;const X=Pg(v,yield Bt(N.json())),Z=new Ko;Object.assign(Z,X),yield yield Bt(Z)}}catch(j){C={error:j}}finally{try{!B&&!T&&(w=_.return)&&(yield Bt(w.call(_)))}finally{if(C)throw C.error}}})})}else{const f=Lg(this.apiClient,i);d=ke("{model}:streamGenerateContent?alt=sse",f._url),p=f._query,delete f.config,delete f._url,delete f._query;const v=this.apiClient;return c=v.requestStream({path:d,queryParams:p,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(o=i.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(u=i.config)===null||u===void 0?void 0:u.abortSignal}),c.then(function(b){return ds(this,arguments,function*(){var T,C,w,N;try{for(var B=!0,_=mf(b),U;U=yield Bt(_.next()),T=U.done,!T;B=!0){N=U.value,B=!1;const X=Fg(v,yield Bt(N.json())),Z=new Ko;Object.assign(Z,X),yield yield Bt(Z)}}catch(j){C={error:j}}finally{try{!B&&!T&&(w=_.return)&&(yield Bt(w.call(_)))}finally{if(C)throw C.error}}})})}}async embedContent(i){var n,a,o,u;let c,d="",p={};if(this.apiClient.isVertexAI()){const f=XS(this.apiClient,i);return d=ke("{model}:predict",f._url),p=f._query,delete f.config,delete f._url,delete f._query,c=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=i.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(a=i.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),c.then(v=>{const b=IC(this.apiClient,v),T=new Cg;return Object.assign(T,b),T})}else{const f=CS(this.apiClient,i);return d=ke("{model}:batchEmbedContents",f._url),p=f._query,delete f.config,delete f._url,delete f._query,c=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(o=i.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(u=i.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json()),c.then(v=>{const b=pC(this.apiClient,v),T=new Cg;return Object.assign(T,b),T})}}async generateImagesInternal(i){var n,a,o,u;let c,d="",p={};if(this.apiClient.isVertexAI()){const f=JS(this.apiClient,i);return d=ke("{model}:predict",f._url),p=f._query,delete f.config,delete f._url,delete f._query,c=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=i.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(a=i.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),c.then(v=>{const b=OC(this.apiClient,v),T=new Eg;return Object.assign(T,b),T})}else{const f=MS(this.apiClient,i);return d=ke("{model}:predict",f._url),p=f._query,delete f.config,delete f._url,delete f._query,c=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(o=i.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(u=i.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json()),c.then(v=>{const b=yC(this.apiClient,v),T=new Eg;return Object.assign(T,b),T})}}async get(i){var n,a,o,u;let c,d="",p={};if(this.apiClient.isVertexAI()){const f=WS(this.apiClient,i);return d=ke("{name}",f._url),p=f._query,delete f.config,delete f._url,delete f._query,c=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=i.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(a=i.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),c.then(v=>zg(this.apiClient,v))}else{const f=AS(this.apiClient,i);return d=ke("{name}",f._url),p=f._query,delete f.config,delete f._url,delete f._query,c=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(o=i.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(u=i.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json()),c.then(v=>Bg(this.apiClient,v))}}async update(i){var n,a,o,u;let c,d="",p={};if(this.apiClient.isVertexAI()){const f=eC(this.apiClient,i);return d=ke("{model}",f._url),p=f._query,delete f.config,delete f._url,delete f._query,c=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(f),httpMethod:"PATCH",httpOptions:(n=i.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(a=i.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),c.then(v=>zg(this.apiClient,v))}else{const f=DS(this.apiClient,i);return d=ke("{name}",f._url),p=f._query,delete f.config,delete f._url,delete f._query,c=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(f),httpMethod:"PATCH",httpOptions:(o=i.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(u=i.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json()),c.then(v=>Bg(this.apiClient,v))}}async delete(i){var n,a,o,u;let c,d="",p={};if(this.apiClient.isVertexAI()){const f=tC(this.apiClient,i);return d=ke("{name}",f._url),p=f._query,delete f.config,delete f._url,delete f._query,c=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(n=i.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(a=i.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),c.then(()=>{const v=PC(),b=new Mg;return Object.assign(b,v),b})}else{const f=kS(this.apiClient,i);return d=ke("{name}",f._url),p=f._query,delete f.config,delete f._url,delete f._query,c=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(o=i.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(u=i.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json()),c.then(()=>{const v=vC(),b=new Mg;return Object.assign(b,v),b})}}async countTokens(i){var n,a,o,u;let c,d="",p={};if(this.apiClient.isVertexAI()){const f=iC(this.apiClient,i);return d=ke("{model}:countTokens",f._url),p=f._query,delete f.config,delete f._url,delete f._query,c=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=i.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(a=i.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),c.then(v=>{const b=zC(this.apiClient,v),T=new Ag;return Object.assign(T,b),T})}else{const f=RS(this.apiClient,i);return d=ke("{model}:countTokens",f._url),p=f._query,delete f.config,delete f._url,delete f._query,c=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(o=i.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(u=i.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json()),c.then(v=>{const b=bC(this.apiClient,v),T=new Ag;return Object.assign(T,b),T})}}async computeTokens(i){var n,a;let o,u="",c={};if(this.apiClient.isVertexAI()){const d=rC(this.apiClient,i);return u=ke("{model}:computeTokens",d._url),c=d._query,delete d.config,delete d._url,delete d._query,o=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=i.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(a=i.config)===null||a===void 0?void 0:a.abortSignal}).then(p=>p.json()),o.then(p=>{const f=VC(this.apiClient,p),v=new V1;return Object.assign(v,f),v})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideos(i){var n,a,o,u;let c,d="",p={};if(this.apiClient.isVertexAI()){const f=oC(this.apiClient,i);return d=ke("{model}:predictLongRunning",f._url),p=f._query,delete f.config,delete f._url,delete f._query,c=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=i.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(a=i.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),c.then(v=>GC(this.apiClient,v))}else{const f=LS(this.apiClient,i);return d=ke("{model}:predictLongRunning",f._url),p=f._query,delete f.config,delete f._url,delete f._query,c=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(o=i.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(u=i.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json()),c.then(v=>EC(this.apiClient,v))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function ZC(t,i){const n={},a=g(i,["operationName"]);a!=null&&y(n,["_url","operationName"],a);const o=g(i,["config"]);return o!=null&&y(n,["config"],o),n}function eE(t,i){const n={},a=g(i,["operationName"]);a!=null&&y(n,["_url","operationName"],a);const o=g(i,["config"]);return o!=null&&y(n,["config"],o),n}function tE(t,i){const n={},a=g(i,["operationName"]);a!=null&&y(n,["operationName"],a);const o=g(i,["resourceName"]);o!=null&&y(n,["_url","resourceName"],o);const u=g(i,["config"]);return u!=null&&y(n,["config"],u),n}function nE(t,i){const n={},a=g(i,["video","uri"]);a!=null&&y(n,["uri"],a);const o=g(i,["video","encodedVideo"]);o!=null&&y(n,["videoBytes"],zi(t,o));const u=g(i,["encoding"]);return u!=null&&y(n,["mimeType"],u),n}function iE(t,i){const n={},a=g(i,["_self"]);return a!=null&&y(n,["video"],nE(t,a)),n}function rE(t,i){const n={},a=g(i,["generatedSamples"]);if(a!=null){let c=a;Array.isArray(c)&&(c=c.map(d=>iE(t,d))),y(n,["generatedVideos"],c)}const o=g(i,["raiMediaFilteredCount"]);o!=null&&y(n,["raiMediaFilteredCount"],o);const u=g(i,["raiMediaFilteredReasons"]);return u!=null&&y(n,["raiMediaFilteredReasons"],u),n}function aE(t,i){const n={},a=g(i,["name"]);a!=null&&y(n,["name"],a);const o=g(i,["metadata"]);o!=null&&y(n,["metadata"],o);const u=g(i,["done"]);u!=null&&y(n,["done"],u);const c=g(i,["error"]);c!=null&&y(n,["error"],c);const d=g(i,["response","generateVideoResponse"]);return d!=null&&y(n,["response"],rE(t,d)),n}function lE(t,i){const n={},a=g(i,["gcsUri"]);a!=null&&y(n,["uri"],a);const o=g(i,["bytesBase64Encoded"]);o!=null&&y(n,["videoBytes"],zi(t,o));const u=g(i,["mimeType"]);return u!=null&&y(n,["mimeType"],u),n}function oE(t,i){const n={},a=g(i,["_self"]);return a!=null&&y(n,["video"],lE(t,a)),n}function sE(t,i){const n={},a=g(i,["videos"]);if(a!=null){let c=a;Array.isArray(c)&&(c=c.map(d=>oE(t,d))),y(n,["generatedVideos"],c)}const o=g(i,["raiMediaFilteredCount"]);o!=null&&y(n,["raiMediaFilteredCount"],o);const u=g(i,["raiMediaFilteredReasons"]);return u!=null&&y(n,["raiMediaFilteredReasons"],u),n}function Vg(t,i){const n={},a=g(i,["name"]);a!=null&&y(n,["name"],a);const o=g(i,["metadata"]);o!=null&&y(n,["metadata"],o);const u=g(i,["done"]);u!=null&&y(n,["done"],u);const c=g(i,["error"]);c!=null&&y(n,["error"],c);const d=g(i,["response"]);return d!=null&&y(n,["response"],sE(t,d)),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class uE extends kl{constructor(i){super(),this.apiClient=i}async getVideosOperation(i){const n=i.operation,a=i.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const o=n.name.split("/operations/")[0];let u;return a&&"httpOptions"in a&&(u=a.httpOptions),this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:o,config:{httpOptions:u}})}else return this.getVideosOperationInternal({operationName:n.name,config:a})}async getVideosOperationInternal(i){var n,a,o,u;let c,d="",p={};if(this.apiClient.isVertexAI()){const f=eE(this.apiClient,i);return d=ke("{operationName}",f._url),p=f._query,delete f.config,delete f._url,delete f._query,c=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=i.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(a=i.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),c.then(v=>Vg(this.apiClient,v))}else{const f=ZC(this.apiClient,i);return d=ke("{operationName}",f._url),p=f._query,delete f.config,delete f._url,delete f._query,c=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(o=i.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(u=i.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json()),c.then(v=>aE(this.apiClient,v))}}async fetchPredictVideosOperationInternal(i){var n,a;let o,u="",c={};if(this.apiClient.isVertexAI()){const d=tE(this.apiClient,i);return u=ke("{resourceName}:fetchPredictOperation",d._url),c=d._query,delete d.config,delete d._url,delete d._query,o=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=i.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(a=i.config)===null||a===void 0?void 0:a.abortSignal}).then(p=>p.json()),o.then(p=>Vg(this.apiClient,p))}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const cE="Content-Type",fE="X-Server-Timeout",dE="User-Agent",mE="x-goog-api-client",pE="0.12.0",hE=`google-genai-sdk/${pE}`,gE="v1beta1",yE="v1beta",jg=/^data: (.*)(?:\n\n|\r\r|\r\n\r\n)/;class p0 extends Error{constructor(i,n){n?super(i,{cause:n}):super(i,{cause:new Error().stack}),this.message=i,this.name="ClientError"}}class hf extends Error{constructor(i,n){n?super(i,{cause:n}):super(i,{cause:new Error().stack}),this.message=i,this.name="ServerError"}}class xE{constructor(i){var n,a;this.clientOptions=Object.assign(Object.assign({},i),{project:i.project,location:i.location,apiKey:i.apiKey,vertexai:i.vertexai});const o={};this.clientOptions.vertexai?(o.apiVersion=(n=this.clientOptions.apiVersion)!==null&&n!==void 0?n:gE,this.getProject()||this.getLocation()?(o.baseUrl=`https://${this.clientOptions.location}-aiplatform.googleapis.com/`,this.clientOptions.apiKey=void 0):(o.baseUrl="https://aiplatform.googleapis.com/",this.clientOptions.project=void 0,this.clientOptions.location=void 0)):(o.apiVersion=(a=this.clientOptions.apiVersion)!==null&&a!==void 0?a:yE,o.baseUrl="https://generativelanguage.googleapis.com/"),o.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=o,i.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(o,i.httpOptions))}isVertexAI(){var i;return(i=this.clientOptions.vertexai)!==null&&i!==void 0?i:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(i){if(!i||i.baseUrl===void 0||i.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const a=[i.baseUrl.endsWith("/")?i.baseUrl.slice(0,-1):i.baseUrl];return i.apiVersion&&i.apiVersion!==""&&a.push(i.apiVersion),a.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const i=this.getBaseUrl(),n=new URL(i);return n.protocol=n.protocol=="http:"?"ws":"wss",n.toString()}setBaseUrl(i){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=i;else throw new Error("HTTP options are not correctly set.")}constructUrl(i,n,a){const o=[this.getRequestUrlInternal(n)];return a&&o.push(this.getBaseResourcePath()),i!==""&&o.push(i),new URL(`${o.join("/")}`)}shouldPrependVertexProjectPath(i){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||i.path.startsWith("projects/")||i.httpMethod==="GET"&&i.path.startsWith("publishers/google/models"))}async request(i){let n=this.clientOptions.httpOptions;i.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,i.httpOptions));const a=this.shouldPrependVertexProjectPath(i),o=this.constructUrl(i.path,n,a);if(i.queryParams)for(const[c,d]of Object.entries(i.queryParams))o.searchParams.append(c,String(d));let u={};if(i.httpMethod==="GET"){if(i.body&&i.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else u.body=i.body;return u=await this.includeExtraHttpOptionsToRequestInit(u,n,i.abortSignal),this.unaryApiCall(o,u,i.httpMethod)}patchHttpOptions(i,n){const a=JSON.parse(JSON.stringify(i));for(const[o,u]of Object.entries(n))typeof u=="object"?a[o]=Object.assign(Object.assign({},a[o]),u):u!==void 0&&(a[o]=u);return a}async requestStream(i){let n=this.clientOptions.httpOptions;i.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,i.httpOptions));const a=this.shouldPrependVertexProjectPath(i),o=this.constructUrl(i.path,n,a);(!o.searchParams.has("alt")||o.searchParams.get("alt")!=="sse")&&o.searchParams.set("alt","sse");let u={};return u.body=i.body,u=await this.includeExtraHttpOptionsToRequestInit(u,n,i.abortSignal),this.streamApiCall(o,u,i.httpMethod)}async includeExtraHttpOptionsToRequestInit(i,n,a){if(n&&n.timeout||a){const o=new AbortController,u=o.signal;n.timeout&&(n==null?void 0:n.timeout)>0&&setTimeout(()=>o.abort(),n.timeout),a&&a.addEventListener("abort",()=>{o.abort()}),i.signal=u}return i.headers=await this.getHeadersInternal(n),i}async unaryApiCall(i,n,a){return this.apiCall(i.toString(),Object.assign(Object.assign({},n),{method:a})).then(async o=>(await Ug(o),new df(o))).catch(o=>{throw o instanceof Error?o:new Error(JSON.stringify(o))})}async streamApiCall(i,n,a){return this.apiCall(i.toString(),Object.assign(Object.assign({},n),{method:a})).then(async o=>(await Ug(o),this.processStreamResponse(o))).catch(o=>{throw o instanceof Error?o:new Error(JSON.stringify(o))})}processStreamResponse(i){var n;return ds(this,arguments,function*(){const o=(n=i==null?void 0:i.body)===null||n===void 0?void 0:n.getReader(),u=new TextDecoder("utf-8");if(!o)throw new Error("Response body is empty");try{let c="";for(;;){const{done:d,value:p}=yield Bt(o.read());if(d){if(c.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const f=u.decode(p);try{const b=JSON.parse(f);if("error"in b){const T=JSON.parse(JSON.stringify(b.error)),C=T.status,w=T.code,N=`got status: ${C}. ${JSON.stringify(b)}`;if(w>=400&&w<500)throw new p0(N);if(w>=500&&w<600)throw new hf(N)}}catch(b){const T=b;if(T.name==="ClientError"||T.name==="ServerError")throw b}c+=f;let v=c.match(jg);for(;v;){const b=v[1];try{const T=new Response(b,{headers:i==null?void 0:i.headers,status:i==null?void 0:i.status,statusText:i==null?void 0:i.statusText});yield yield Bt(new df(T)),c=c.slice(v[0].length),v=c.match(jg)}catch(T){throw new Error(`exception parsing stream chunk ${b}. ${T}`)}}}}finally{o.releaseLock()}})}async apiCall(i,n){return fetch(i,n).catch(a=>{throw new Error(`exception ${a} sending request`)})}getDefaultHeaders(){const i={},n=hE+" "+this.clientOptions.userAgentExtra;return i[dE]=n,i[mE]=n,i[cE]="application/json",i}async getHeadersInternal(i){const n=new Headers;if(i&&i.headers){for(const[a,o]of Object.entries(i.headers))n.append(a,o);i.timeout&&i.timeout>0&&n.append(fE,String(Math.ceil(i.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(n),n}async uploadFile(i,n){var a;const o={};n!=null&&(o.mimeType=n.mimeType,o.name=n.name,o.displayName=n.displayName),o.name&&!o.name.startsWith("files/")&&(o.name=`files/${o.name}`);const u=this.clientOptions.uploader,c=await u.stat(i);o.sizeBytes=String(c.size);const d=(a=n==null?void 0:n.mimeType)!==null&&a!==void 0?a:c.type;if(d===void 0||d==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");o.mimeType=d;const p=await this.fetchUploadUrl(o,n);return u.upload(i,p,this)}async fetchUploadUrl(i,n){var a;let o={};n!=null&&n.httpOptions?o=n.httpOptions:o={apiVersion:"",headers:{"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${i.sizeBytes}`,"X-Goog-Upload-Header-Content-Type":`${i.mimeType}`}};const u={file:i},c=await this.request({path:ke("upload/v1beta/files",u._url),body:JSON.stringify(u),httpMethod:"POST",httpOptions:o});if(!c||!(c!=null&&c.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const d=(a=c==null?void 0:c.headers)===null||a===void 0?void 0:a["x-goog-upload-url"];if(d===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return d}}async function Ug(t){var i;if(t===void 0)throw new hf("response is undefined");if(!t.ok){const n=t.status,a=t.statusText;let o;!((i=t.headers.get("content-type"))===null||i===void 0)&&i.includes("application/json")?o=await t.json():o={error:{message:await t.text(),code:t.status,status:t.statusText}};const u=`got status: ${n} ${a}. ${JSON.stringify(o)}`;throw n>=400&&n<500?new p0(u):n>=500&&n<600?new hf(u):new Error(u)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function vE(t,i){const n={},a=g(i,["name"]);a!=null&&y(n,["_url","name"],a);const o=g(i,["config"]);return o!=null&&y(n,["config"],o),n}function bE(t,i,n){const a={},o=g(i,["pageSize"]);n!==void 0&&o!=null&&y(n,["_query","pageSize"],o);const u=g(i,["pageToken"]);n!==void 0&&u!=null&&y(n,["_query","pageToken"],u);const c=g(i,["filter"]);return n!==void 0&&c!=null&&y(n,["_query","filter"],c),a}function TE(t,i){const n={},a=g(i,["config"]);return a!=null&&y(n,["config"],bE(t,a,n)),n}function SE(t,i){const n={},a=g(i,["textInput"]);a!=null&&y(n,["textInput"],a);const o=g(i,["output"]);return o!=null&&y(n,["output"],o),n}function CE(t,i){const n={};if(g(i,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const a=g(i,["examples"]);if(a!=null){let o=a;Array.isArray(o)&&(o=o.map(u=>SE(t,u))),y(n,["examples","examples"],o)}return n}function EE(t,i,n){const a={};if(g(i,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const o=g(i,["tunedModelDisplayName"]);if(n!==void 0&&o!=null&&y(n,["displayName"],o),g(i,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const u=g(i,["epochCount"]);n!==void 0&&u!=null&&y(n,["tuningTask","hyperparameters","epochCount"],u);const c=g(i,["learningRateMultiplier"]);if(c!=null&&y(a,["tuningTask","hyperparameters","learningRateMultiplier"],c),g(i,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const d=g(i,["batchSize"]);n!==void 0&&d!=null&&y(n,["tuningTask","hyperparameters","batchSize"],d);const p=g(i,["learningRate"]);return n!==void 0&&p!=null&&y(n,["tuningTask","hyperparameters","learningRate"],p),a}function ME(t,i){const n={},a=g(i,["baseModel"]);a!=null&&y(n,["baseModel"],a);const o=g(i,["trainingDataset"]);o!=null&&y(n,["tuningTask","trainingData"],CE(t,o));const u=g(i,["config"]);return u!=null&&y(n,["config"],EE(t,u,n)),n}function AE(t,i){const n={},a=g(i,["name"]);a!=null&&y(n,["_url","name"],a);const o=g(i,["config"]);return o!=null&&y(n,["config"],o),n}function wE(t,i,n){const a={},o=g(i,["pageSize"]);n!==void 0&&o!=null&&y(n,["_query","pageSize"],o);const u=g(i,["pageToken"]);n!==void 0&&u!=null&&y(n,["_query","pageToken"],u);const c=g(i,["filter"]);return n!==void 0&&c!=null&&y(n,["_query","filter"],c),a}function DE(t,i){const n={},a=g(i,["config"]);return a!=null&&y(n,["config"],wE(t,a,n)),n}function kE(t,i,n){const a={},o=g(i,["gcsUri"]);if(n!==void 0&&o!=null&&y(n,["supervisedTuningSpec","trainingDatasetUri"],o),g(i,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return a}function NE(t,i){const n={},a=g(i,["gcsUri"]);return a!=null&&y(n,["validationDatasetUri"],a),n}function RE(t,i,n){const a={},o=g(i,["validationDataset"]);n!==void 0&&o!=null&&y(n,["supervisedTuningSpec"],NE(t,o));const u=g(i,["tunedModelDisplayName"]);n!==void 0&&u!=null&&y(n,["tunedModelDisplayName"],u);const c=g(i,["description"]);n!==void 0&&c!=null&&y(n,["description"],c);const d=g(i,["epochCount"]);n!==void 0&&d!=null&&y(n,["supervisedTuningSpec","hyperParameters","epochCount"],d);const p=g(i,["learningRateMultiplier"]);n!==void 0&&p!=null&&y(n,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],p);const f=g(i,["adapterSize"]);if(n!==void 0&&f!=null&&y(n,["supervisedTuningSpec","hyperParameters","adapterSize"],f),g(i,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(g(i,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");return a}function IE(t,i){const n={},a=g(i,["baseModel"]);a!=null&&y(n,["baseModel"],a);const o=g(i,["trainingDataset"]);o!=null&&y(n,["supervisedTuningSpec","trainingDatasetUri"],kE(t,o,n));const u=g(i,["config"]);return u!=null&&y(n,["config"],RE(t,u,n)),n}function _E(t,i){const n={},a=g(i,["name"]);a!=null&&y(n,["model"],a);const o=g(i,["name"]);return o!=null&&y(n,["endpoint"],o),n}function h0(t,i){const n={},a=g(i,["name"]);a!=null&&y(n,["name"],a);const o=g(i,["state"]);o!=null&&y(n,["state"],s0(t,o));const u=g(i,["createTime"]);u!=null&&y(n,["createTime"],u);const c=g(i,["tuningTask","startTime"]);c!=null&&y(n,["startTime"],c);const d=g(i,["tuningTask","completeTime"]);d!=null&&y(n,["endTime"],d);const p=g(i,["updateTime"]);p!=null&&y(n,["updateTime"],p);const f=g(i,["description"]);f!=null&&y(n,["description"],f);const v=g(i,["baseModel"]);v!=null&&y(n,["baseModel"],v);const b=g(i,["_self"]);b!=null&&y(n,["tunedModel"],_E(t,b));const T=g(i,["distillationSpec"]);T!=null&&y(n,["distillationSpec"],T);const C=g(i,["experiment"]);C!=null&&y(n,["experiment"],C);const w=g(i,["labels"]);w!=null&&y(n,["labels"],w);const N=g(i,["pipelineJob"]);N!=null&&y(n,["pipelineJob"],N);const B=g(i,["tunedModelDisplayName"]);return B!=null&&y(n,["tunedModelDisplayName"],B),n}function LE(t,i){const n={},a=g(i,["nextPageToken"]);a!=null&&y(n,["nextPageToken"],a);const o=g(i,["tunedModels"]);if(o!=null){let u=o;Array.isArray(u)&&(u=u.map(c=>h0(t,c))),y(n,["tuningJobs"],u)}return n}function OE(t,i){const n={},a=g(i,["name"]);a!=null&&y(n,["name"],a);const o=g(i,["metadata"]);o!=null&&y(n,["metadata"],o);const u=g(i,["done"]);u!=null&&y(n,["done"],u);const c=g(i,["error"]);return c!=null&&y(n,["error"],c),n}function FE(t,i){const n={},a=g(i,["model"]);a!=null&&y(n,["model"],a);const o=g(i,["endpoint"]);return o!=null&&y(n,["endpoint"],o),n}function gf(t,i){const n={},a=g(i,["name"]);a!=null&&y(n,["name"],a);const o=g(i,["state"]);o!=null&&y(n,["state"],s0(t,o));const u=g(i,["createTime"]);u!=null&&y(n,["createTime"],u);const c=g(i,["startTime"]);c!=null&&y(n,["startTime"],c);const d=g(i,["endTime"]);d!=null&&y(n,["endTime"],d);const p=g(i,["updateTime"]);p!=null&&y(n,["updateTime"],p);const f=g(i,["error"]);f!=null&&y(n,["error"],f);const v=g(i,["description"]);v!=null&&y(n,["description"],v);const b=g(i,["baseModel"]);b!=null&&y(n,["baseModel"],b);const T=g(i,["tunedModel"]);T!=null&&y(n,["tunedModel"],FE(t,T));const C=g(i,["supervisedTuningSpec"]);C!=null&&y(n,["supervisedTuningSpec"],C);const w=g(i,["tuningDataStats"]);w!=null&&y(n,["tuningDataStats"],w);const N=g(i,["encryptionSpec"]);N!=null&&y(n,["encryptionSpec"],N);const B=g(i,["partnerModelTuningSpec"]);B!=null&&y(n,["partnerModelTuningSpec"],B);const _=g(i,["distillationSpec"]);_!=null&&y(n,["distillationSpec"],_);const U=g(i,["experiment"]);U!=null&&y(n,["experiment"],U);const j=g(i,["labels"]);j!=null&&y(n,["labels"],j);const X=g(i,["pipelineJob"]);X!=null&&y(n,["pipelineJob"],X);const Z=g(i,["tunedModelDisplayName"]);return Z!=null&&y(n,["tunedModelDisplayName"],Z),n}function BE(t,i){const n={},a=g(i,["nextPageToken"]);a!=null&&y(n,["nextPageToken"],a);const o=g(i,["tuningJobs"]);if(o!=null){let u=o;Array.isArray(u)&&(u=u.map(c=>gf(t,c))),y(n,["tuningJobs"],u)}return n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class PE extends kl{constructor(i){super(),this.apiClient=i,this.get=async n=>await this.getInternal(n),this.list=async(n={})=>new _f(El.PAGED_ITEM_TUNING_JOBS,a=>this.listInternal(a),await this.listInternal(n),n),this.tune=async n=>{if(this.apiClient.isVertexAI())return await this.tuneInternal(n);{const a=await this.tuneMldevInternal(n);let o="";return a.metadata!==void 0&&a.metadata.tunedModel!==void 0?o=a.metadata.tunedModel:a.name!==void 0&&a.name.includes("/operations/")&&(o=a.name.split("/operations/")[0]),{name:o,state:ff.JOB_STATE_QUEUED}}}}async getInternal(i){var n,a,o,u;let c,d="",p={};if(this.apiClient.isVertexAI()){const f=AE(this.apiClient,i);return d=ke("{name}",f._url),p=f._query,delete f.config,delete f._url,delete f._query,c=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=i.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(a=i.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),c.then(v=>gf(this.apiClient,v))}else{const f=vE(this.apiClient,i);return d=ke("{name}",f._url),p=f._query,delete f.config,delete f._url,delete f._query,c=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(o=i.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(u=i.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json()),c.then(v=>h0(this.apiClient,v))}}async listInternal(i){var n,a,o,u;let c,d="",p={};if(this.apiClient.isVertexAI()){const f=DE(this.apiClient,i);return d=ke("tuningJobs",f._url),p=f._query,delete f.config,delete f._url,delete f._query,c=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=i.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(a=i.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),c.then(v=>{const b=BE(this.apiClient,v),T=new wg;return Object.assign(T,b),T})}else{const f=TE(this.apiClient,i);return d=ke("tunedModels",f._url),p=f._query,delete f.config,delete f._url,delete f._query,c=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(o=i.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(u=i.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json()),c.then(v=>{const b=LE(this.apiClient,v),T=new wg;return Object.assign(T,b),T})}}async tuneInternal(i){var n,a;let o,u="",c={};if(this.apiClient.isVertexAI()){const d=IE(this.apiClient,i);return u=ke("tuningJobs",d._url),c=d._query,delete d.config,delete d._url,delete d._query,o=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=i.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(a=i.config)===null||a===void 0?void 0:a.abortSignal}).then(p=>p.json()),o.then(p=>gf(this.apiClient,p))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(i){var n,a;let o,u="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const d=ME(this.apiClient,i);return u=ke("tunedModels",d._url),c=d._query,delete d.config,delete d._url,delete d._query,o=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=i.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(a=i.config)===null||a===void 0?void 0:a.abortSignal}).then(p=>p.json()),o.then(p=>OE(this.apiClient,p))}}}const zE=1024*1024*8;async function VE(t,i,n){var a,o;let u=0,c=0,d=new df(new Response),p="upload";for(u=t.size;c<u;){const v=Math.min(zE,u-c),b=t.slice(c,c+v);if(c+v>=u&&(p+=", finalize"),d=await n.request({path:"",body:b,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:i,headers:{"X-Goog-Upload-Command":p,"X-Goog-Upload-Offset":String(c),"Content-Length":String(v)}}}),c+=v,((a=d==null?void 0:d.headers)===null||a===void 0?void 0:a["x-goog-upload-status"])!=="active")break;if(u<=c)throw new Error("All content has been uploaded, but the upload status is not finalized.")}const f=await(d==null?void 0:d.json());if(((o=d==null?void 0:d.headers)===null||o===void 0?void 0:o["x-goog-upload-status"])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return f.file}async function jE(t){return{size:t.size,type:t.type}}class UE{async upload(i,n,a){if(typeof i=="string")throw new Error("File path is not supported in browser uploader.");return await VE(i,n,a)}async stat(i){if(typeof i=="string")throw new Error("File path is not supported in browser uploader.");return await jE(i)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class HE{create(i,n,a){return new GE(i,n,a)}}class GE{constructor(i,n,a){this.url=i,this.headers=n,this.callbacks=a}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(i){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(i)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Hg="x-goog-api-key";class qE{constructor(i){this.apiKey=i}async addAuthHeaders(i){i.get(Hg)===null&&i.append(Hg,this.apiKey)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const YE="gl-node/";class g0{constructor(i){var n;if(i.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(i.project||i.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(n=i.vertexai)!==null&&n!==void 0?n:!1,this.apiKey=i.apiKey;const a=n1(i,void 0,void 0);a&&(i.httpOptions?i.httpOptions.baseUrl=a:i.httpOptions={baseUrl:a}),this.apiVersion=i.apiVersion;const o=new qE(this.apiKey);this.apiClient=new xE({auth:o,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:i.httpOptions,userAgentExtra:YE+"web",uploader:new UE}),this.models=new WC(this.apiClient),this.live=new KC(this.apiClient,o,new HE),this.chats=new $1(this.models,this.apiClient),this.caches=new G1(this.apiClient),this.files=new oT(this.apiClient),this.operations=new uE(this.apiClient),this.tunings=new PE(this.apiClient)}}var KE={};const dr=typeof process<"u"&&KE.GEMINI_MODEL_NAME||typeof import.meta<"u"&&void 0||"gemini-2.0-flash-exp",Gg="TrackGuide",qg="songGuidebookLibrary",cl="trackGuideLastUsedDAW",Qo="trackGuideLastUsedPlugins",y0=["Pop","Indie Pop","Synth-Pop","Rock","Alternative Rock","Hard Rock","Punk Rock","Post-Punk","Nu Metal","Progressive Rock","Psychedelic Rock","Folk Rock","Shoegaze","House","Deep House","Progressive House","Tech House","Bass House","Electro House","Minimal House","Techno","Minimal Techno","Industrial Techno","Melodic Techno","Ambient Techno","Hard Techno","Trance","Progressive Trance","Psytrance","Goa Trance","Hard Trance","Ambient","Dark Ambient","Downtempo","Chillout","Chillwave","Psybient","Berlin School","Synthwave","Retrowave","Darksynth","Vaporwave","Future Funk","Drum and Bass","Jungle","Liquid DnB","Neurofunk","Breakcore","Dubstep","Riddim","Future Bass","Trap (EDM)","Hardstyle","Gabber","UK Hardcore","IDM (Intelligent Dance Music)","Glitch","Breakbeat","UK Garage","2-Step","Future Garage","EBM (Electronic Body Music)","Footwork","Juke","Hip Hop","Boom Bap","Trap","Lo-fi Hip Hop","Cloud Rap","Drill","Conscious Hip Hop","R&B","Contemporary R&B","Neo-Soul","Soul","Folk","Acoustic","World Music","Reggae","Dub","Ska","Latin","Afrobeat","Celtic","Jazz","Smooth Jazz","Blues","Funk","Heavy Metal","Thrash Metal","Death Metal","Black Metal","Doom Metal","Metalcore","Deathcore","Experimental","Noise","Industrial","Classical Crossover","Chiptune","Video Game Music"],$E=["Dark","Atmospheric","Energetic","Uplifting","Chill","Relaxed","Experimental","Trippy","Nostalgic","Retro","Aggressive","Intense","Melancholic","Introspective","Funky","Groovy","Mysterious","Eerie","Euphoric","Anthemic","Dreamy","Ethereal","Raw","Gritty","Sophisticated","Smooth","Cyberpunk","Futuristic","Hypnotic","Driving","Industrial","Mechanical","Hopeful","Aggressive","Peaceful","Romantic","Sad","Joyful","Tense"],Yg=["Ableton Live","Logic Pro X","FL Studio","Pro Tools","Cubase","Studio One","Reason","Bitwig Studio","Reaper","GarageBand"],xl=["C Major","G Major","D Major","A Major","E Major","B Major","F# Major","C# Major","F Major","Bb Major","Eb Major","Ab Major","Db Major","Gb Major","Cb Major","A Minor","E Minor","B Minor","F# Minor","C# Minor","G# Minor","D# Minor","A# Minor","D Minor","G Minor","C Minor","F Minor","Bb Minor","Eb Minor","Ab Minor"],Kg={C:["Ionian (Major)","Dorian","Phrygian","Lydian","Mixolydian","Aeolian (Natural Minor)","Locrian"],"C#":["Ionian (Major)","Dorian","Phrygian","Lydian","Mixolydian","Aeolian (Natural Minor)","Locrian"],Db:["Ionian (Major)","Dorian","Phrygian","Lydian","Mixolydian","Aeolian (Natural Minor)","Locrian"],D:["Ionian (Major)","Dorian","Phrygian","Lydian","Mixolydian","Aeolian (Natural Minor)","Locrian"],"D#":["Ionian (Major)","Dorian","Phrygian","Lydian","Mixolydian","Aeolian (Natural Minor)","Locrian"],Eb:["Ionian (Major)","Dorian","Phrygian","Lydian","Mixolydian","Aeolian (Natural Minor)","Locrian"],E:["Ionian (Major)","Dorian","Phrygian","Lydian","Mixolydian","Aeolian (Natural Minor)","Locrian"],F:["Ionian (Major)","Dorian","Phrygian","Lydian","Mixolydian","Aeolian (Natural Minor)","Locrian"],"F#":["Ionian (Major)","Dorian","Phrygian","Lydian","Mixolydian","Aeolian (Natural Minor)","Locrian"],Gb:["Ionian (Major)","Dorian","Phrygian","Lydian","Mixolydian","Aeolian (Natural Minor)","Locrian"],G:["Ionian (Major)","Dorian","Phrygian","Lydian","Mixolydian","Aeolian (Natural Minor)","Locrian"],"G#":["Ionian (Major)","Dorian","Phrygian","Lydian","Mixolydian","Aeolian (Natural Minor)","Locrian"],Ab:["Ionian (Major)","Dorian","Phrygian","Lydian","Mixolydian","Aeolian (Natural Minor)","Locrian"],A:["Ionian (Major)","Dorian","Phrygian","Lydian","Mixolydian","Aeolian (Natural Minor)","Locrian"],"A#":["Ionian (Major)","Dorian","Phrygian","Lydian","Mixolydian","Aeolian (Natural Minor)","Locrian"],Bb:["Ionian (Major)","Dorian","Phrygian","Lydian","Mixolydian","Aeolian (Natural Minor)","Locrian"],B:["Ionian (Major)","Dorian","Phrygian","Lydian","Mixolydian","Aeolian (Natural Minor)","Locrian"],Cb:["Ionian (Major)","Dorian","Phrygian","Lydian","Mixolydian","Aeolian (Natural Minor)","Locrian"]},XE=[[4,4],[3,4],[6,8],[2,4],[5,4],[7,8]],QE=[{id:"chords",label:"Chords"},{id:"bassline",label:"Bassline"},{id:"melody",label:"Melody"},{id:"drums",label:"Drums"}],JE=["General Loop","Intro","Verse","Pre-Chorus","Chorus","Post-Chorus","Bridge","Solo","Breakdown","Drop","Outro","Fill"],Ke={key:"C Major",tempo:120,timeSignature:[4,4],chordProgression:"I-V-vi-IV",genre:"Pop",bars:8,targetInstruments:["chords","bassline","melody","drums"],guidebookContext:"",songSection:"General Loop"},Sn={Pop:["I-V-vi-IV","vi-IV-I-V","I-IV-V-I","I-vi-IV-V","ii-V-I-IV"],"Indie Pop":["I-V-vi-IV","I-IV-vi-V","vi-IV-I-V","I-iii-IV-V"],"Synth-Pop":["i-VI-III-VII (minor)","I-V-vi-IV (major)","i-iv-v-VI (minor)","I-IV-ii-V (major)"],Rock:["I-IV-V","vi-IV-I-V","I-bVII-IV-I","i-VI-III-VII (minor)","I-V-IV-I"],"Alternative Rock":["vi-IV-I-V","I-V-vi-IV","i-VI-III-VII","I-IV-ii-V"],House:["Am-G-C-F","i-VI-III-VII (Am-F-C-G)","i-III-VI-VII","i-v-iv-i"],"Deep House":["i-VI-III-VII (e.g. Dm-Bb-F-C)","Am-G-C-F","i-iv-v-i"],Techno:["i-VI-III-VII","i-iv-v-i (minor, repetitive)","Single chord drone with variations","Am-G-F-E"],Trance:["vi-IV-I-V (Am-F-C-G)","i-VI-III-VII","i-VII-VI-V (minor descending)"],Ambient:["Imaj7-IVmaj7 (long, evolving)","i-VI (slow changes)","Drone + suspended chords"],Synthwave:["i-VI-III-VII (Am-F-C-G)","vi-IV-I-V","I-V-vi-IV","i-iv-v-i"],"Drum and Bass":["i-VI-III-VII","Am-F-C-G","Complex jazz voicings over two chords","i-iv-v-VI"],Dubstep:["i-VI-III-VII","i-iv-v-i (minor)","Heavy focus on sound design over complex progression"],"Trap (EDM)":["i-VI-III-VII","i-iv-v-i (minor)","Simple 2 or 3 chord loops"],"Hip Hop":["i-VI-III-VII","Am-G-Em-F","ii-V-I (Jazz influenced)","i-iv-v-i","Sample-based loops"],"Lo-fi Hip Hop":["ii-V-I-IV (Jazz)","Imaj7-vi7-ii7-V7","Simple 2-4 chord loops"],"R&B":["Imaj7-IVmaj7","ii-V-I","i-VI-III-VII","vi-ii-V-I"],Folk:["I-IV-V","I-V-vi-IV","G-C-D-G","C-G-Am-F"],Jazz:["ii-V-I","I-vi-ii-V","iii-vi-ii-V","I-II7-V7-I (Rhythm Changes A section)","Imaj7-IIm7-IIIm7-IVmaj7 (Modal)"],Blues:["I-I-I-I-IV-IV-I-I-V-IV-I-I (12-bar)","i-i-i-i-iv-iv-i-i-v-iv-i-i (minor 12-bar)"],Default:["I-V-vi-IV","i-VI-III-VII","I-IV-V-I","ii-V-I"]},Cn={Pop:[90,130],"Indie Pop":[100,140],"Synth-Pop":[110,140],Rock:[100,160],"Alternative Rock":[90,150],House:[118,128],"Deep House":[115,125],Techno:[125,145],Trance:[130,145],Ambient:[50,100],Synthwave:[80,120],"Drum and Bass":[160,180],Dubstep:[130,150],"Trap (EDM)":[130,160],"Hip Hop":[80,110],"Lo-fi Hip Hop":[70,90],"R&B":[60,100],Folk:[80,120],Jazz:[70,180],Blues:[70,130],Default:[60,200]},ms={kick:36,snare:38,hihat_closed:42,open_hihat:46,tom_low:41,tom_mid:47,tom_high:50,crash_cymbal_1:49,ride_cymbal_1:51,clap:39,shaker:70,tambourine:54,rim_shot:37,cowbell:56,bass_drum:36,snare_drum:38},ls=[{category:"Genre",key:"genre",examples:[{group:"Electronic",examples:["Techno","House","Trance","Dubstep","Drum & Bass","IDM","Breakbeat","Jungle","Hardstyle","Gabber","Psytrance","Progressive House","Deep House","Tech House","Afro House","Electro","Future Bass","Trap (EDM)","Minimal Techno","Acid House","UK Garage","Grime","Footwork","Synthwave","Lofi","Ambient","Downtempo","Chillout","Vaporwave","New Age","Berlin School","Glitch","EBM","Industrial","Darkwave"]},{group:"Band, Pop, and World",examples:["Rock","Post-Punk","Shoegaze","Krautrock","Goth","Space Rock","Drone Metal","Funk","Pop","Soul","R&B","New Wave","Synth-Pop","Disco","Hyperpop","Hip Hop","Reggae","Dub","Jazz Fusion","Smooth Jazz","Folk-Tronic","World Music","Afrobeat"]},{group:"Cinematic, Scoring and Abstract",examples:["Cinematic","Experimental","Video Game Score","Chiptune","SFX for Film","Noise"]}]},{category:"Voice Type",key:"voiceType",examples:["Lead","Pad","Bass","Pluck","Bell","Arp","FX","Drone","Wobble","Stab","Texture","Atmosphere","Riser","Impact"]},{category:"Character & Mood",key:"characterMood",examples:["Glassy","Warm","Bright","Dark","Metallic","Wooden","Raspy","Smooth","Gritty","Fuzzy","Distorted","Clean","Hollow","Resonant","Breathy","Digital","Analog","Noisy","Sharp","Dull","Crisp","Dreamy","Aggressive","Melancholic","Uplifting","Eerie","Serene","Tense","Playful","Mysterious","Epic","Brooding","Anxious","Joyful","Haunting","Sacred"]},{category:"Movement & Dynamics",key:"movementDynamics",examples:["Evolving","Swells","Pulsing","Rhythmic","Static","Sweeping","Morphing","Glitchy","Choppy","Fluttering","Driving","Floating","Warped","Phasing","Short","Long","Percussive","Sustained","Slow Attack","Fast Release","Gated","Punchy","Clicky","Decaying"]},{category:"Era/Style",key:"era",examples:["Vintage","Modern","80s","90s","Futuristic","Retro","Old-School","Contemporary","Y2K","Cyberpunk"]},{category:"Inspiration/Concept",key:"concept",examples:["Cosmic","Underwater","Robotic","Alien","Nature","Industrial","Organic","Mechanical","Spiritual","Abstract","Forest","Cave","Machine","Ghost","Desert","Arctic","Volcanic"]}],WE=["Ableton Operator","Ableton Wavetable","Apple Alchemy","Apple Retro Synth","Arturia Analog Lab","Arturia PolyBrute","Bazille","DiscoDSP OB-Xd","Diva","Hive 2","Kilohearts Phase Plant","Korg MS-20","Korg Wavestate","Moog Minimoog","Native Instruments FM8","Native Instruments Massive","Native Instruments Massive X","Native Instruments Monark","Omnisphere","Pigments","Roland Jupiter-8","Roland Juno-106","Roland SH-101","Sylenth1","TAL TAL-U-No-LX","u-he Repro-1","u-he Repro-5","Vital","Xfer Serum","Zebra2","Generic"].sort(),ZE="AIzaSyCxOuxalv_PC6h6aE8JvEjLMK8ie8C9Nts",sa=new g0({apiKey:ZE});function x0(t,i){if(!t&&!i)return`
###  Processing Tips & Plugin Parameters

**EQ Settings:**
- High-pass filter: 20-40 Hz to remove sub-bass rumble
- Low-mid cut: 200-400 Hz to reduce muddiness
- Presence boost: 2-5 kHz for clarity
- Air boost: 10-15 kHz for sparkle

**Compression:**
- Ratio: 3:1 to 4:1 for moderate control
- Attack: 10-30ms for punch retention
- Release: 100-300ms for natural decay
- Makeup gain: 2-6 dB as needed

**Reverb & Delay:**
- Room reverb: 0.8-1.5s decay for space
- Delay: 1/8 or 1/4 note timing
- High-cut: 8-12 kHz to avoid harshness
- Mix: 15-30% for depth without wash`;const a=t?(c=>{const d=c.toLowerCase();return d.includes("ableton")?{eq:"EQ Eight",compressor:"Compressor",reverb:"Reverb",delay:"Echo",limiter:"Limiter",saturator:"Saturator"}:d.includes("logic")?{eq:"Channel EQ",compressor:"Compressor",reverb:"ChromaVerb",delay:"Echo",limiter:"Adaptive Limiter",saturator:"Tape"}:d.includes("fl studio")||d.includes("fl")?{eq:"Parametric EQ 2",compressor:"Fruity Compressor",reverb:"Reverb 2",delay:"Fruity Delay 3",limiter:"Fruity Limiter",saturator:"Fruity Waveshaper"}:d.includes("pro tools")?{eq:"EQ III",compressor:"Dyn3 Compressor/Limiter",reverb:"D-Verb",delay:"Mod Delay III",limiter:"Dyn3 Compressor/Limiter",saturator:"Lo-Fi"}:d.includes("cubase")||d.includes("nuendo")?{eq:"StudioEQ",compressor:"Compressor",reverb:"REVerence",delay:"ModMachine",limiter:"Limiter",saturator:"Tape"}:d.includes("reaper")?{eq:"ReaEQ",compressor:"ReaComp",reverb:"ReaVerb",delay:"ReaDelay",limiter:"ReaLimit",saturator:"ReaSynth"}:{eq:"Stock EQ",compressor:"Stock Compressor",reverb:"Stock Reverb",delay:"Stock Delay",limiter:"Stock Limiter",saturator:"Stock Saturator"}})(t):null,o=t&&!i?`**${t} Stock Plugin Chain:**`:t?`**${t}-Specific Settings:**`:"",u=i?`**Custom Plugin Chain (${i}):**`:"";return`
###  Processing Tips & Plugin Parameters
${o}
${u}

**EQ Parameters:**
${a&&!i?`- ${a.eq}: High-pass at ${t!=null&&t.toLowerCase().includes("logic")?"35":t!=null&&t.toLowerCase().includes("fl")?"30":"40"} Hz, Low-mid cut at ${t!=null&&t.toLowerCase().includes("logic")?"300":t!=null&&t.toLowerCase().includes("fl")?"400":"250"} Hz (-3dB), Presence boost at ${t!=null&&t.toLowerCase().includes("logic")?"12 kHz (+1.5dB)":t!=null&&t.toLowerCase().includes("fl")?"15 kHz (+2dB)":"3 kHz (+2dB)"}`:t==="Ableton Live"?"- EQ Eight: High-pass at 40 Hz, Low-mid cut at 250 Hz (-3dB), Presence boost at 3 kHz (+2dB)":t==="Logic Pro X"?"- Channel EQ: High-pass at 35 Hz, Low-mid cut at 300 Hz (-2.5dB), High boost at 12 kHz (+1.5dB)":t==="FL Studio"?"- Parametric EQ 2: High-pass at 30 Hz, Mid cut at 400 Hz (-4dB), Air boost at 15 kHz (+2dB)":"- High-pass filter: 20-40 Hz, Low-mid cut: 200-400 Hz (-2 to -4dB), Presence boost: 2-5 kHz (+1 to +3dB)"}

**Compression Settings:**
${a&&!i?`- ${a.compressor}: Ratio ${t!=null&&t.toLowerCase().includes("logic")?"3.5:1":"4:1"}, Attack ${t!=null&&t.toLowerCase().includes("fl")?"10ms":t!=null&&t.toLowerCase().includes("logic")?"20ms":"15ms"}, Release ${t!=null&&t.toLowerCase().includes("logic")?"150ms":t!=null&&t.toLowerCase().includes("fl")?"250ms":"200ms"}${t!=null&&t.toLowerCase().includes("logic")?", Auto-Release enabled":t!=null&&t.toLowerCase().includes("fl")?", Knee 3dB":", Knee 2dB"}`:t==="Ableton Live"?"- Compressor: Ratio 4:1, Attack 15ms, Release 200ms, Knee 2dB":t==="Logic Pro X"?"- Compressor: Ratio 3.5:1, Attack 20ms, Release 150ms, Auto-Release enabled":t==="FL Studio"?"- Fruity Compressor: Ratio 4:1, Attack 10ms, Release 250ms, Knee 3dB":"- Ratio: 3:1 to 4:1, Attack: 10-30ms, Release: 100-300ms"}

**Reverb & Delay:**
${a&&!i?`- ${a.reverb}: Room/Hall setting, 1.2s decay, Pre-delay 20ms, Mix 25%
- ${a.delay}: 1/8 note timing, Feedback 35%, High-cut 8kHz, Mix 20%`:"- Room reverb: 0.8-1.5s decay for space, Delay: 1/8 or 1/4 note timing, High-cut: 8-12 kHz to avoid harshness"}

**Effects Chain:**
${i?`- Using ${i}: Apply specific parameter recommendations based on your plugin selection`:a?`- ${a.eq}  ${a.compressor}  ${a.saturator}  ${a.reverb}/${a.delay}  ${a.limiter}`:"- Standard effects: EQ  Compressor  Reverb/Delay  Limiter"}
- Send levels: 15-25% to reverb bus, 10-20% to delay bus
- Sidechain settings: 4:1 ratio, fast attack, medium release`}function v0(t=!0){const i=t?" | **Instrumentation** ":"",n=t?" | --- ":"",a=t?[" | Lead synth, Bass, Drums, Pads "," | Vocals, Full arrangement "," | Reduced arrangement, Focus elements "," | Full arrangement, Vocal harmonies "," | Breakdown elements, Build-up "," | Lead elements, Minimal backing "," | Full arrangement, Climax elements "," | Fade elements, Ambient textures "]:Array(8).fill("");return`
##  Structural Blueprint

| **Section** | **Duration** | **Key Elements** | **Energy Level**${i}|
| --- | --- | --- | ---${n}|
| **Intro** | 16-32 bars | Atmospheric build, Teaser elements | Low-Medium${a[0]}|
| **Verse 1** | 16 bars | Main groove, Vocal/Lead melody | Medium${a[1]}|
| **Pre-Chorus** | 8 bars | Tension build, Filter sweeps | Medium-High${a[2]}|
| **Chorus** | 16 bars | Full energy, Hook elements | High${a[3]}|
| **Breakdown** | 8-16 bars | Stripped back, Build tension | Low-Medium${a[4]}|
| **Verse 2/Solo** | 16 bars | Variation, New elements | Medium-High${a[5]}|
| **Final Chorus** | 16-24 bars | Maximum energy, All elements | Maximum${a[6]}|
| **Outro** | 16-32 bars | Gradual fade, Ambient tail | Low${a[7]}|`}const eM=async t=>{var U,j;const i=t.songTitle?`- **Project Name**: ${t.songTitle}`:"",n=t.artistReference?`- **Artist References**: ${t.artistReference}`:"",a=((U=t.genre)==null?void 0:U.join(", "))||"Not specified",o=((j=t.vibe)==null?void 0:j.join(", "))||"Not specified",u=t.availableInstruments||"Not specified",c=t.daw?t.daw:"Not specified",d=t.plugins?t.plugins:"Stock/Generic plugins",p=t.key?`Key: ${t.key}`:"",f=t.scale?`Scale/Mode: ${t.scale}`:"",v=t.chords?`Chord Progression: ${t.chords}`:"",b=t.referenceTrackLink?`Reference Track: ${t.referenceTrackLink}`:"",T=t.lyrics?`Lyrics Theme: ${t.lyrics}`:"",C=t.generalNotes?`Additional Notes: ${t.generalNotes}`:"",w=v0(!0),N=x0(t.daw,t.plugins),B=`//  Including all fields
You are TrackGuideAI, an expert music production assistant specializing in comprehensive track creation guides.

Create a detailed TrackGuide for the following specifications:
${i}
${n}
- **Genre**: ${a}
- **Vibe**: ${o}
- **Available Instruments**: ${u}
- **DAW**: ${c}
- **Plugins**: ${d}
${p}
${f}
${v}
${b}
${T}
${C}

**IMPORTANT FORMATTING REQUIREMENTS:**
1. Include the exact Structural Blueprint table with Instrumentation column as provided
2. Use specific plugin parameters when DAW/plugins are specified
3. Provide actionable, detailed guidance for each section
4. Use markdown formatting with proper headers and emphasis

**Required Sections:**

${w}

##  Genre DNA Analysis
**Core Characteristics:**
- Tempo range and feel
- Harmonic structure and chord progressions
- Rhythmic patterns and groove elements
- Sonic palette and instrumentation choices

**Reference Analysis:**
${t.referenceTrackLink?"Analyze the provided reference track for key production techniques and arrangement ideas.":`Draw from classic examples in the ${a} genre for inspiration.`}

##  Instrument & Sound Design
**Primary Elements:**
- Lead sounds: Character, processing, and role
- Bass design: Sub content, mid presence, and groove
- Drum programming: Kick selection, snare character, hi-hat patterns
- Harmonic elements: Pad textures, chord voicings, arpeggios

**Sound Shaping:**
- Synthesis techniques and oscillator choices
- Filter movements and modulation
- Effects processing and spatial placement
- Layering strategies for fullness

${N}

##  Mixing & Arrangement Strategy
**Frequency Management:**
- Low-end: Sub-bass vs bass guitar/synth separation
- Midrange: Vocal/lead clarity and instrument separation  
- High-end: Air, sparkle, and presence balance

**Spatial Design:**
- Stereo width: Center, sides, and phantom center elements
- Depth: Reverb sends, delay throws, and dry/wet balance
- Movement: Automation, panning, and filter sweeps

**Dynamic Control:**
- Compression: Individual tracks and bus processing
- Sidechain: Pumping effects and clarity enhancement
- Limiting: Loudness and peak control

##  Arrangement Flow & Energy Management
**Section Transitions:**
- Build techniques: Risers, drum fills, filter sweeps
- Drop preparation: Silence, reverse reverbs, tension
- Energy curves: How to maintain listener engagement

**Variation Techniques:**
- Verse differences: Subtle changes to maintain interest
- Chorus variations: Building intensity across repetitions
- Bridge/breakdown: Contrast and reset before final sections

Focus on practical, actionable advice that can be immediately applied in ${c}. Provide specific parameter ranges and creative techniques that align with the ${a} aesthetic and ${o} mood.`;return await sa.models.generateContentStream({model:dr,contents:B})},Ml=async t=>{const i=`//  Including guidebookContext
You are TrackGuideAI's MIDI Pattern Generator. Generate MIDI patterns in VALID JSON format only.

**Requirements:**
- Key: ${t.key}
- Scale/Mode: ${t.scale||"Major/Natural Minor"}
- Tempo: ${t.tempo} BPM
- Time Signature: ${t.timeSignature.join("/")}
- Chord Progression: ${t.chordProgression}
- Genre Context: ${t.genre}
- Song Section: ${t.songSection||"General Loop"}
- Bars: ${t.bars}
- Target Instruments: ${t.targetInstruments.join(", ")}
- Guidebook Context: ${t.guidebookContext||"Not specified"}

**JSON Structure Required:**
{
  "chords": [...],
  "bassline": [...],
  "melody": [...],
  "drums": { ... }
}

**CRITICAL:** Return ONLY valid JSON. No explanatory text, no markdown formatting, no code blocks. Just the raw JSON object that can be parsed directly.

Generate patterns appropriate for ${t.genre} in the ${t.songSection} section, using ${t.chordProgression} progression in ${t.key}.`;return await sa.models.generateContentStream({model:dr,contents:i})},tM=async t=>{const i=`You are TrackGuideAI's Mix Analysis Expert. Provide detailed mix feedback.

**Track Analysis:**
- Track Name: ${t.trackName}
- Focus Areas: ${t.focus||"Overall mix balance and clarity"}
- User Notes: ${t.notes||t.userNotes||"No specific notes provided"}

**Analysis Framework:**
1. **Frequency Balance**
   - Low-end: Sub-bass presence and bass clarity
   - Midrange: Vocal/lead prominence and instrument separation
   - High-end: Air, sparkle, and harshness assessment

2. **Spatial Characteristics**
   - Stereo width and imaging
   - Depth and dimension
   - Center focus vs side content

3. **Dynamic Properties**
   - Compression effectiveness
   - Transient preservation
   - Overall loudness and headroom

4. **Technical Assessment**
   - Phase relationships
   - Distortion or artifacts
   - Noise floor and clarity

**Provide specific, actionable feedback with:**
- Identified strengths and areas for improvement
- Specific frequency ranges and dB adjustments
- Plugin suggestions and parameter recommendations
- Before/after comparison techniques

Focus on practical improvements that can be implemented immediately.`;return(await sa.models.generateContent({model:dr,contents:i})).text},nM=async t=>{const i=`
You are an expert mixing & mastering AI. The user has uploaded two mixes:

Mix A: "${t.mixAName}"  an earlier version  
Mix B: "${t.mixBName}"  the current working version  

 Instructions:
- Mix B is the active version  focus all actionable feedback on improving Mix B.
- Mix A is an earlier version  if Mix A has strengths vs Mix B, point those out.
- Acknowledge improvements made in Mix B compared to A.
- Do NOT suggest changes to Mix A (it is not being revised).

If "Request full mix analysis" is selected  add full technical breakdown of Mix B (like in your Mix Feedback function).

Provide your analysis in clear Markdown format with the following sections:

##  Overall Comparison

##  Frequency Balance

##  Stereo Image & Depth

##  Dynamics & Loudness

##  Technical Quality

##  Strengths & Opportunities (for Mix B)

##  Actionable Recommendations (for Mix B only)

`;return(await sa.models.generateContent({model:dr,contents:i})).text};async function iM(t,i,n,a,o){var u,c;try{const d=n!=null&&n.tempoRange?`${n.tempoRange[0]}-${n.tempoRange[1]} BPM`:"120-130 BPM",p=(n==null?void 0:n.sections)||["Intro","Build-Up","Drop","Breakdown","Outro"],f=v0(!0),v=x0(a,o),T={text:`You are TrackGuideAI's Remix Specialist. Analyze the uploaded audio track and create a comprehensive remix guide for transforming it into ${i} style.

**User Production Setup:**
- **DAW:** ${a||"Not specified"}
- **Available Plugins:** ${o||"Stock/Generic plugins"}

**Analysis Requirements:**
1. Identify the original track's tempo, key, harmonic progression, and rhythmic characteristics
2. Determine optimal transformation approach for ${i}
3. Provide detailed production guidance with specific techniques
4. Include plugin-specific parameter recommendations based on user's setup

**Target Genre:** ${i}
**Target Tempo Range:** ${d}
**Suggested Sections:** ${p.join(", ")}

**CRITICAL: Return your response in this EXACT JSON format:**
{
  "guide": "FULL_MARKDOWN_GUIDE_HERE",
  "originalTempo": 120,
  "originalKey": "C minor",
  "originalChordProgression": "i-VI-III-VII",
  "targetTempo": 128,
  "targetKey": "C minor",
  "sections": ["Intro", "Build-Up", "Drop", "Breakdown", "Outro"]
}

**For the "guide" field, create a detailed markdown guide that includes:**

#  REMIX GUIDE: [Original Track]  ${i}

##  Original Track DNA Analysis
**Detected Characteristics:**
- **Original Tempo:** [Detected BPM]
- **Original Key:** [Detected Key]
- **Harmonic Blueprint:** [Chord progression analysis]
- **Rhythmic Feel:** [Time signature and groove analysis]
- **Sonic Character:** [Tonal qualities and instrumentation]

**Transformation Strategy:**
- **Target Tempo:** [Recommended BPM within ${d}]
- **Target Key:** [Optimal key for ${i}]
- **Genre Adaptation:** [How to adapt original elements]

${f}

##  Sound Design & Instrumentation Transformation
**Lead Elements:**
- **Original  ${i}:** Transform existing leads using specific techniques
- **New Elements:** Add characteristic ${i} sounds
- **Processing Chain:** Specific plugin recommendations and parameters

**Rhythm Section Redesign:**
- **Drum Programming:** ${i}-specific patterns and sounds
- **Bass Design:** Sub-bass content and mid-range presence for ${i}
- **Percussion:** Additional elements typical of ${i}

**Harmonic Content:**
- **Chord Voicings:** Adapt progressions for ${i} aesthetic
- **Pad Textures:** Atmospheric elements and spatial design
- **Arpeggios/Sequences:** Rhythmic harmonic content

${v}

##  Production Techniques & Processing
**Arrangement Strategy:**
- **Section Transitions:** Build-ups, drops, and breakdowns for ${i}
- **Energy Management:** How to structure dynamics across sections
- **Original Element Integration:** Preserving vs transforming source material

**Mix Approach:**
- **Frequency Management:** EQ strategies for ${i} clarity
- **Spatial Design:** Stereo width and depth characteristics
- **Dynamic Processing:** Compression and limiting for ${i} impact

**Effects Processing:**
- **Time-Based Effects:** Reverb and delay for ${i} space
- **Modulation:** LFOs, filters, and movement
- **Creative Processing:** Distortion, bit-crushing, and character effects

##  Step-by-Step Remix Process
**Phase 1: Preparation**
1. Tempo adjustment: Specific technique for tempo change
2. Key transposition: If needed, method and tools
3. Audio editing: Chopping, slicing, and preparation

**Phase 2: Foundation**
1. Drum programming: ${i} patterns and sounds
2. Bass design: Sub and mid-bass for ${i}
3. Harmonic foundation: Chord progressions and voicings

**Phase 3: Development**
1. Lead transformation: Processing original or creating new
2. Atmospheric elements: Pads, textures, and ambience
3. Rhythmic elements: Percussion and groove enhancement

**Phase 4: Arrangement**
1. Section structure: Intro, build-ups, drops, breakdowns
2. Transition techniques: Risers, sweeps, and cuts
3. Variation strategies: Keeping listener engagement

**Phase 5: Mix & Master**
1. Frequency balance: ${i}-specific EQ approach
2. Dynamic control: Compression and limiting strategies
3. Spatial processing: Stereo width and depth
4. Final polish: Loudness and character enhancement

##  Pro Tips for ${i} Remix Success
- **Signature Elements:** Key characteristics that define ${i}
- **Common Pitfalls:** What to avoid when adapting to ${i}
- **Creative Opportunities:** Unique ways to blend original with ${i}
- **Reference Tracks:** Study these ${i} examples for inspiration

Focus on practical, actionable techniques that can be implemented immediately. Provide specific parameter suggestions and creative approaches that honor both the original track and the target genre aesthetic.

**IMPORTANT:** Return ONLY the JSON object with the complete markdown guide in the "guide" field. Focus on detailed analysis and production techniques.`},w=[{inlineData:{data:t.base64,mimeType:t.mimeType}},T],B=(await sa.models.generateContent({model:dr,contents:{parts:w}})).text;if(typeof B!="string")throw new Error("Received an unexpected response format from Gemini API for remix guide.");let _=B.trim();const U=/^```(\w*)?\s*\n?(.*?)\n?\s*```$/s,j=_.match(U);j&&j[2]&&(_=j[2].trim());let X;try{X=JSON.parse(_)}catch{console.error("Failed to parse JSON response:",_);const Q=B.match(/Target Tempo.*?(\d+)/i),ae=B.match(/Target Key.*?([A-G][#b]?\s*(?:major|minor|maj|min)?)/i);return{guide:B,targetTempo:Q?parseInt(Q[1]):((u=n==null?void 0:n.tempoRange)==null?void 0:u[0])||128,targetKey:ae?ae[1].trim():"C minor",sections:p,originalKey:"C minor",originalTempo:120,originalChordProgression:"i-VI-III-VII"}}return{guide:X.guide||B,targetTempo:X.targetTempo||((c=n==null?void 0:n.tempoRange)==null?void 0:c[0])||128,targetKey:X.targetKey||"C minor",sections:X.sections||p,originalKey:X.originalKey||"C minor",originalTempo:X.originalTempo||120,originalChordProgression:X.originalChordProgression||"i-VI-III-VII"}}catch(d){console.error("Error generating remix guide:",d);let p="An unknown error occurred while generating remix guide.";throw d instanceof Error&&(p=d.message,d.message.includes("API key not valid")||d.message.includes("permission")?p="Invalid API Key or insufficient permissions. Please check your API key configuration.":d.message.toLowerCase().includes("network error")||d.message.toLowerCase().includes("failed to fetch")?p=`Network error: Failed to connect to Gemini API. Please check your internet connection. (${d.message})`:d.message.includes("Candidate was blocked")?p="The response for remix guide was blocked by the AI. This might be due to content policies. Please try again or adjust your input.":d.message.includes("audio")&&(p=`There was an issue processing the audio file. Ensure it's a common format and not too large. (${d.message})`)),new Error(p)}}const $g=async t=>{if(!t.audioFile)return tM(t);try{const n=await(f=>new Promise((v,b)=>{const T=new FileReader;T.onloadend=()=>{const C=T.result;v(C.split(",")[1])},T.onerror=b,T.readAsDataURL(f)}))(t.audioFile),o={text:`You are TrackGuideAI's Advanced Mix Analysis Expert. Analyze the uploaded audio file and provide comprehensive mix feedback.

**Track Information:**
- Track Name: ${t.trackName||"Uploaded Mix"}
- Focus Areas: ${t.focus||"Overall mix balance and clarity"}
- User Notes: ${t.notes||t.userNotes||"No specific notes provided"}

**Comprehensive Analysis Framework:**

##  Audio Analysis Results

### Frequency Spectrum Analysis
**Low-End (20-250 Hz):**
- Sub-bass presence and control
- Bass clarity and definition
- Low-mid muddiness assessment

**Midrange (250 Hz - 5 kHz):**
- Vocal/lead instrument clarity
- Instrument separation and masking
- Presence and intelligibility

**High-End (5 kHz+):**
- Air and sparkle quality
- Harshness or sibilance issues
- Overall brightness balance

### Stereo Field & Spatial Analysis
**Width & Imaging:**
- Stereo spread effectiveness
- Phantom center stability
- Side content balance

**Depth & Dimension:**
- Reverb usage and space
- Dry/wet balance
- Front-to-back positioning

### Dynamic Range Assessment
**Compression Analysis:**
- Overall dynamic range
- Transient preservation
- Pumping or over-compression

**Loudness Evaluation:**
- Perceived loudness level
- Peak management
- Headroom availability

### Technical Quality Check
**Distortion & Artifacts:**
- Unwanted harmonic distortion
- Digital artifacts or clipping
- Noise floor assessment

**Phase Relationships:**
- Mono compatibility
- Phase cancellation issues
- Correlation analysis

##  Specific Recommendations

### Immediate Improvements
1. **Priority Fix #1:** [Most critical issue with specific solution]
2. **Priority Fix #2:** [Second most important improvement]
3. **Priority Fix #3:** [Third priority enhancement]

### Technical Adjustments
**EQ Suggestions:**
- Specific frequency cuts/boosts with dB amounts
- Problem frequency identification
- Enhancement opportunities

**Compression Recommendations:**
- Ratio, attack, and release settings
- Specific compressor types or plugins
- Bus compression strategies

**Effects Processing:**
- Reverb and delay adjustments
- Spatial enhancement techniques
- Creative processing opportunities

### Professional Polish
**Mastering Considerations:**
- Final EQ and compression
- Stereo enhancement
- Loudness optimization

**Reference Comparison:**
- How this mix compares to commercial standards
- Genre-specific benchmarks
- Areas for competitive improvement

Provide actionable, specific feedback that can be implemented immediately to improve the mix quality and professional impact.`},c=[{inlineData:{data:n,mimeType:t.audioFile.type||"audio/mpeg"}},o],p=(await sa.models.generateContent({model:dr,contents:{parts:c}})).text;if(typeof p!="string")throw new Error("Received an unexpected response format from Gemini API for mix feedback.");return p}catch(i){console.error("Error generating mix feedback with audio:",i);let n="An unknown error occurred while generating mix feedback.";throw i instanceof Error&&(n=i.message,i.message.includes("API key not valid")||i.message.includes("permission")?n="Invalid API Key or insufficient permissions. Please check your API key configuration.":i.message.toLowerCase().includes("network error")||i.message.toLowerCase().includes("failed to fetch")?n=`Network error: Failed to connect to Gemini API. Please check your internet connection. (${i.message})`:i.message.includes("Candidate was blocked")?n="The response was blocked by the AI. This might be due to content policies. Please try again or adjust your input.":i.message.includes("audio")&&(n=`There was an issue processing the audio file. Ensure it's a common format and not too large. (${i.message})`)),new Error(n)}},Tn=vl.forwardRef(({label:t,id:i,wrapperClassName:n,...a},o)=>h.jsxs("div",{className:n,children:[t&&h.jsx("label",{htmlFor:i,className:"block text-sm font-medium text-gray-300 mb-1",children:t}),h.jsx("input",{id:i,ref:o,...a,className:`w-full px-4 py-2 bg-gray-800 border border-gray-700 rounded-md shadow-sm placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-purple-500 text-gray-100 ${a.className||""}`})]}));Tn.displayName="Input";const ea=({label:t,id:i,wrapperClassName:n,...a})=>h.jsxs("div",{className:n,children:[t&&h.jsx("label",{htmlFor:i,className:"block text-sm font-medium text-gray-300 mb-1",children:t}),h.jsx("textarea",{id:i,...a,className:`w-full px-4 py-2 bg-gray-800 border border-gray-700 rounded-md shadow-sm placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-purple-500 text-gray-100 ${a.className||""}`,rows:3})]}),Be=({children:t,variant:i="primary",size:n="md",className:a="",leftIcon:o,rightIcon:u,...c})=>{const d="inline-flex items-center justify-center font-semibold rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-gray-900 transition-colors duration-150 disabled:opacity-50 disabled:cursor-not-allowed",p={primary:"bg-purple-600 hover:bg-purple-700 text-white focus:ring-purple-500",secondary:"bg-gray-700    hover:bg-gray-600 text-gray-100 focus:ring-gray-500",outline:"border border-purple-500 text-purple-400 hover:bg-purple-500 hover:text-white focus:ring-purple-500",danger:"bg-red-600     hover:bg-red-700 text-white focus:ring-red-500"},f={sm:"px-3 py-1.5 text-sm",md:"px-4 py-2   text-base",lg:"px-6 py-3   text-lg"};return h.jsxs("button",{...c,className:`${d} ${p[i]} ${f[n]} ${a}`,children:[o&&h.jsx("span",{className:"mr-2",children:o}),t,u&&h.jsx("span",{className:"ml-2",children:u})]})},Ge=({children:t,className:i="",title:n,titleClassName:a="",contentClassName:o="",...u})=>h.jsxs("div",{className:`bg-gray-800 shadow-lg rounded-lg overflow-hidden ${i}`,...u,children:[n&&h.jsx("div",{className:`px-4 py-3 border-b border-gray-700 ${a}`,children:h.jsx("h3",{className:"text-lg font-semibold text-gray-100",children:n})}),h.jsx("div",{className:`p-4 ${o}`,children:t})]}),Oi=({size:t="md",color:i="text-purple-500",text:n})=>{const a={sm:"w-6 h-6",md:"w-8 h-8",lg:"w-12 h-12"};return h.jsxs("div",{className:"flex flex-col items-center justify-center",children:[h.jsx("div",{className:`animate-spin rounded-full border-t-2 border-b-2 border-transparent ${a[t]} ${i}`,style:{borderTopColor:"currentColor",borderBottomColor:"currentColor"}}),n&&h.jsx("p",{className:"mt-2 text-sm text-gray-400",children:n})]})},yf=({className:t,title:i})=>h.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:t||"w-5 h-5","aria-hidden":i?void 0:"true",role:i?"img":void 0,children:[i&&h.jsx("title",{children:i}),h.jsx("path",{fillRule:"evenodd",d:"M3 17a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zm3.293-7.707a1 1 0 011.414 0L9 10.586V3a1 1 0 112 0v7.586l1.293-1.293a1 1 0 111.414 1.414l-3 3a1 1 0 01-1.414 0l-3-3a1 1 0 010-1.414z",clipRule:"evenodd"})]}),rM=({className:t,title:i})=>h.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:t||"w-5 h-5","aria-hidden":i?void 0:"true",role:i?"img":void 0,children:[i&&h.jsx("title",{children:i}),h.jsx("path",{d:"M5 4a2 2 0 012-2h6a2 2 0 012 2v10a2 2 0 01-2 2H7a2 2 0 01-2-2V4zm2 0v10h6V4H7zm5 1h-4a1 1 0 100 2h4a1 1 0 100-2z"})]}),aM=({className:t,title:i})=>h.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:t||"w-5 h-5","aria-hidden":i?void 0:"true",role:i?"img":void 0,children:[i&&h.jsx("title",{children:i}),h.jsx("path",{fillRule:"evenodd",d:"M9 2a1 1 0 00-.894.553L7.382 4H4a1 1 0 000 2v10a2 2 0 002 2h8a2 2 0 002-2V6a1 1 0 100-2h-3.382l-.724-1.447A1 1 0 0011 2H9zM7 8a1 1 0 012 0v6a1 1 0 11-2 0V8zm5-1a1 1 0 00-1 1v6a1 1 0 102 0V8a1 1 0 00-1-1z",clipRule:"evenodd"})]}),xf=({className:t,title:i})=>h.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:t||"w-6 h-6","aria-hidden":i?void 0:"true",role:i?"img":void 0,children:[i&&h.jsx("title",{children:i}),h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6.042A8.967 8.967 0 006 3.75c-1.052 0-2.062.18-3 .512v14.25A8.987 8.987 0 016 18c2.305 0 4.408.867 6 2.292m0-14.25a8.966 8.966 0 016-2.292c1.052 0 2.062.18 3 .512v14.25A8.987 8.987 0 0018 18a8.967 8.967 0 00-6 2.292m0-14.25v14.25"})]}),lM=({className:t,title:i})=>h.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:t||"w-5 h-5","aria-hidden":i?void 0:"true",role:i?"img":void 0,children:[i&&h.jsx("title",{children:i}),h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 01-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 011.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 00-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 01-1.125-1.125v-9.25m9.75 0l-4.5-4.5m0 0l-4.5 4.5M12.75 3v4.5A2.25 2.25 0 0015 9.75h4.5"})]}),b0=({className:t,title:i})=>h.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:t||"w-5 h-5","aria-hidden":i?void 0:"true",role:i?"img":void 0,children:[i&&h.jsx("title",{children:i}),h.jsx("path",{d:"M10 3.515V11.24a3.513 3.513 0 00-1.5-.406c-1.313 0-2.388.752-2.388 1.672S7.187 14.18 8.5 14.18c1.238 0 2.263-.672 2.375-1.537h.125v-7.14c0-.313.11-.604.313-.828.202-.224.494-.344.812-.344.625 0 1.125.5 1.125 1.125V11.24a3.513 3.513 0 00-1.5-.406c-1.313 0-2.388.752-2.388 1.672S10.187 14.18 11.5 14.18c1.313 0 2.388-.752 2.388-1.672a1.675 1.675 0 00-1.078-1.543V3.515A2.625 2.625 0 0010 1C8.619 1 7.5 2.12 7.5 3.5V11.24A3.513 3.513 0 006 10.833c-1.313 0-2.388.752-2.388 1.672S4.687 14.18 6 14.18c1.237 0 2.262-.672 2.375-1.537h.125V6.125C8.5 4.5 9.125 3.515 10 3.515z"})]}),vf=({className:t,title:i})=>h.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:t||"w-5 h-5","aria-hidden":i?void 0:"true",role:i?"img":void 0,children:[i&&h.jsx("title",{children:i}),h.jsx("path",{d:"M10.75 4.75a.75.75 0 00-1.5 0v4.5h-4.5a.75.75 0 000 1.5h4.5v4.5a.75.75 0 001.5 0v-4.5h4.5a.75.75 0 000-1.5h-4.5v-4.5z"})]}),Xg=({className:t,title:i})=>h.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:t||"w-5 h-5","aria-hidden":i?void 0:"true",role:i?"img":void 0,children:[i&&h.jsx("title",{children:i}),h.jsx("path",{fillRule:"evenodd",d:"M6.516 4.42A1.5 1.5 0 004 5.662v8.676a1.5 1.5 0 002.516 1.242l6.712-4.338a1.5 1.5 0 000-2.484L6.516 4.42z",clipRule:"evenodd"})]}),oM=({className:t,title:i})=>h.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:t||"w-5 h-5","aria-hidden":i?void 0:"true",role:i?"img":void 0,children:[i&&h.jsx("title",{children:i}),h.jsx("path",{fillRule:"evenodd",d:"M5 5a1 1 0 00-1 1v8a1 1 0 001 1h8a1 1 0 001-1V6a1 1 0 00-1-1H5zm0-2a3 3 0 00-3 3v8a3 3 0 003 3h8a3 3 0 003-3V6a3 3 0 00-3-3H5z",clipRule:"evenodd"})]}),Qg=({className:t,isSpinning:i,title:n})=>h.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:`${t||"w-5 h-5"} ${i?"animate-spin":""}`,"aria-hidden":n?void 0:"true",role:n?"img":void 0,children:[n&&h.jsx("title",{children:n}),h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.023 9.348h4.992v-.001M2.985 19.644v-4.992m0 0h4.992m-4.993 0l3.181 3.183a8.25 8.25 0 0013.803-3.7M4.031 9.865a8.25 8.25 0 0113.803-3.7l3.181 3.182m0-4.991v4.99"})]}),sM=({className:t,title:i})=>h.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:t||"w-5 h-5","aria-hidden":i?void 0:"true",role:i?"img":void 0,children:[i&&h.jsx("title",{children:i}),h.jsx("path",{fillRule:"evenodd",d:"M18 7H2a1 1 0 00-1 1v6a1 1 0 001 1h16a1 1 0 001-1V8a1 1 0 00-1-1zM2 9.5v3h16v-3H2z",clipRule:"evenodd"}),h.jsx("path",{d:"M4 11h1v1H4v-1zm2 0h1v1H6v-1zm2 0h1v1H8v-1zm2 0h1v1h-1v-1zm2 0h1v1h-1v-1zm2 0h1v1h-1v-1z"})]}),uM=({className:t,title:i})=>h.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:t||"w-6 h-6","aria-hidden":i?void 0:"true",role:i?"img":void 0,children:[i&&h.jsx("title",{children:i}),h.jsx("rect",{x:"3.5",y:"3.5",width:"17",height:"17",rx:"2",stroke:"currentColor",fill:"none",strokeWidth:"1.5"})]}),cM=({className:t,title:i})=>h.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:t||"w-5 h-5","aria-hidden":i?void 0:"true",role:i?"img":void 0,children:[i&&h.jsx("title",{children:i}),h.jsx("path",{fillRule:"evenodd",d:"M3 3a1 1 0 011-1h12a1 1 0 011 1v12a1 1 0 01-1 1H4a1 1 0 01-1-1V3zm10.707 3.707a1 1 0 00-1.414-1.414L8 9.586 6.707 8.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l5-5z",clipRule:"evenodd"})]}),T0=({className:t,title:i})=>h.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:t||"w-6 h-6","aria-hidden":i?void 0:"true",role:i?"img":void 0,children:[i&&h.jsx("title",{children:i}),h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"})]}),jc=({className:t,title:i})=>h.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:t||"w-6 h-6","aria-hidden":i?void 0:"true",role:i?"img":void 0,children:[i&&h.jsx("title",{children:i}),h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 16.5v2.25A2.25 2.25 0 005.25 21h13.5A2.25 2.25 0 0021 18.75V16.5m-13.5-9L12 3m0 0l4.5 4.5M12 3v13.5"})]}),Uc=({className:t,title:i})=>h.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:t||"w-6 h-6","aria-hidden":i?void 0:"true",role:i?"img":void 0,children:[i&&h.jsx("title",{children:i}),h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.5 6h9.75M10.5 6a2.25 2.25 0 11-4.5 0m4.5 0a2.25 2.25 0 10-4.5 0M3.75 6H7.5m3 12h9.75m-9.75 0a2.25 2.25 0 01-4.5 0m4.5 0a2.25 2.25 0 00-4.5 0M3.75 18H7.5M10.5 12h9.75M10.5 12a2.25 2.25 0 01-4.5 0m4.5 0a2.25 2.25 0 00-4.5 0M3.75 12H7.5"})]});function fM(t){return typeof t=="number"}function dM(t){return typeof t=="string"}function mM(t){return typeof t<"u"}function pM(t,i){return Math.pow(2,(t-69)/12)*440}var hM=/^([a-gA-G])(#{1,}|b{1,}|x{1,}|)(-?\d*)\s*(.*)\s*$/,gM=[0,2,4,5,7,9,11];function yM(t,i,n){if(typeof t!="string")return null;var a=hM.exec(t);if(!a||a[4])return null;var o={letter:a[1].toUpperCase(),acc:a[2].replace(/x/g,"##")};o.pc=o.letter+o.acc,o.step=(o.letter.charCodeAt(0)+3)%7,o.alt=o.acc[0]==="b"?-o.acc.length:o.acc.length;var u=gM[o.step]+o.alt;return o.chroma=u<0?12+u:u%12,a[3]&&(o.oct=+a[3],o.midi=u+12*(o.oct+1),o.freq=pM(o.midi)),o}function xM(t){if((fM(t)||dM(t))&&t>=0&&t<128)return+t;var i=yM(t);return i&&mM(i.midi)?i.midi:null}function vM(t){return Array.isArray(t)&&t.length===2?t[0]*7+t[1]*12+12:xM(t)}var bM="C Db D Eb E F Gb G Ab A Bb B".split(" "),TM="C C# D D# E F F# G G# A A# B".split(" ");function S0(t,i){if(t===!0||t===!1)return function(u){return S0(u,t)};t=Math.round(t);var n=i===!0?TM:bM,a=n[t%12],o=Math.floor(t/12)-1;return a+o}const SM=Object.freeze(Object.defineProperty({__proto__:null,note:S0,toMidi:vM},Symbol.toStringTag,{value:"Module"})),CM=jb(SM);var Hc,Jg;function EM(){if(Jg)return Hc;Jg=1;var t=CM,i={VERSION:"2.1.4",HEADER_CHUNK_TYPE:[77,84,104,100],HEADER_CHUNK_LENGTH:[0,0,0,6],HEADER_CHUNK_FORMAT0:[0,0],HEADER_CHUNK_FORMAT1:[0,1],HEADER_CHUNK_DIVISION:[0,128],TRACK_CHUNK_TYPE:[77,84,114,107],META_EVENT_ID:255,META_TEXT_ID:1,META_COPYRIGHT_ID:2,META_TRACK_NAME_ID:3,META_INSTRUMENT_NAME_ID:4,META_LYRIC_ID:5,META_MARKER_ID:6,META_CUE_POINT:7,META_TEMPO_ID:81,META_SMTPE_OFFSET:84,META_TIME_SIGNATURE_ID:88,META_KEY_SIGNATURE_ID:89,META_END_OF_TRACK_ID:[47,0],CONTROLLER_CHANGE_STATUS:176,PITCH_BEND_STATUS:224};function n(L){"@babel/helpers - typeof";return n=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(D){return typeof D}:function(D){return D&&typeof Symbol=="function"&&D.constructor===Symbol&&D!==Symbol.prototype?"symbol":typeof D},n(L)}function a(){a=function(O,V){return new k(O,void 0,V)};var L=RegExp.prototype,D=new WeakMap;function k(O,V,A){var ne=new RegExp(O,V);return D.set(ne,A||D.get(O)),p(ne,k.prototype)}function S(O,V){var A=D.get(V);return Object.keys(A).reduce(function(ne,F){return ne[F]=O[A[F]],ne},Object.create(null))}return d(k,RegExp),k.prototype.exec=function(O){var V=L.exec.call(this,O);return V&&(V.groups=S(V,this)),V},k.prototype[Symbol.replace]=function(O,V){if(typeof V=="string"){var A=D.get(this);return L[Symbol.replace].call(this,O,V.replace(/\$<([^>]+)>/g,function(F,ie){return"$"+A[ie]}))}if(typeof V=="function"){var ne=this;return L[Symbol.replace].call(this,O,function(){var F=arguments;return typeof F[F.length-1]!="object"&&(F=[].slice.call(F)).push(S(F,ne)),V.apply(this,F)})}return L[Symbol.replace].call(this,O,V)},a.apply(this,arguments)}function o(L,D){if(!(L instanceof D))throw new TypeError("Cannot call a class as a function")}function u(L,D){for(var k=0;k<D.length;k++){var S=D[k];S.enumerable=S.enumerable||!1,S.configurable=!0,"value"in S&&(S.writable=!0),Object.defineProperty(L,S.key,S)}}function c(L,D,k){return D&&u(L.prototype,D),k&&u(L,k),Object.defineProperty(L,"prototype",{writable:!1}),L}function d(L,D){if(typeof D!="function"&&D!==null)throw new TypeError("Super expression must either be null or a function");L.prototype=Object.create(D&&D.prototype,{constructor:{value:L,writable:!0,configurable:!0}}),Object.defineProperty(L,"prototype",{writable:!1}),D&&p(L,D)}function p(L,D){return p=Object.setPrototypeOf||function(S,O){return S.__proto__=O,S},p(L,D)}var f=function(){function L(){o(this,L)}return c(L,null,[{key:"version",value:function(){return i.VERSION}},{key:"stringToBytes",value:function(k){return k.split("").map(function(S){return S.charCodeAt()})}},{key:"isNumeric",value:function(k){return!isNaN(parseFloat(k))&&isFinite(k)}},{key:"getPitch",value:function(k){var S=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"C4";return 60-t.toMidi(S)+t.toMidi(k)}},{key:"numberToVariableLength",value:function(k){k=Math.round(k);for(var S=k&127;k=k>>7;)S<<=8,S|=k&127|128;for(var O=[];O.push(S&255),S&128;)S>>=8;return O}},{key:"stringByteCount",value:function(k){return encodeURI(k).split(/%..|./).length-1}},{key:"numberFromBytes",value:function(k){var S="",O;return k.forEach(function(V){O=V.toString(16),O.length==1&&(O="0"+O),S+=O}),parseInt(S,16)}},{key:"numberToBytes",value:function(k,S){S=S||1;var O=k.toString(16);O.length&1&&(O="0"+O);var V=O.match(/.{2}/g);if(V=V.map(function(A){return parseInt(A,16)}),V.length<S)for(;S-V.length>0;)V.unshift(0);return V}},{key:"toArray",value:function(k){return Array.isArray(k)?k:[k]}},{key:"convertVelocity",value:function(k){return k=k>100?100:k,Math.round(k/100*127)}},{key:"getTickDuration",value:function(k){if(Array.isArray(k))return k.map(function(A){return L.getTickDuration(A)}).reduce(function(A,ne){return A+ne},0);if(k=k.toString(),k.toLowerCase().charAt(0)==="t"){var S=parseInt(k.substring(1));if(isNaN(S)||S<0)throw new Error(k+" is not a valid duration.");return S}var O=L.numberFromBytes(i.HEADER_CHUNK_DIVISION),V=O*L.getDurationMultiplier(k);return L.getRoundedIfClose(V)}},{key:"getRoundedIfClose",value:function(k){var S=Math.round(k);return Math.abs(S-k)<1e-6?S:k}},{key:"getPrecisionLoss",value:function(k){var S=Math.round(k);return S-k}},{key:"getDurationMultiplier",value:function(k){if(k==="0")return 0;var S=k.match(a(/^(d+)?(\d+)(?:t(\d*))?/,{dotted:1,base:2,tuplet:3}));if(S){var O=Number(S.groups.base),V=O===1||(O&O-1)===0;if(V){var A=O/4,ne=1/A,F=S.groups,ie=F.dotted,ge=F.tuplet;if(ie){var se=ie.length,Se=Math.pow(2,se);ne=ne+ne*((Se-1)/Se)}if(typeof ge=="string"){var we=ne*2,Ie=Number(ge||"3");ne=we/Ie}return ne}}throw new Error(k+" is not a valid duration.")}}]),L}(),v=c(function L(D){o(this,L),D=Object.assign({delta:0},D),this.type="controller",this.data=f.numberToVariableLength(D.delta).concat(i.CONTROLLER_CHANGE_STATUS,D.controllerNumber,D.controllerValue)}),b=c(function L(D){o(this,L),D=Object.assign({delta:0},D),this.type="cue-point";var k=f.stringToBytes(D.text);this.data=f.numberToVariableLength(D.delta).concat(i.META_EVENT_ID,i.META_CUE_POINT,f.numberToVariableLength(k.length),k)}),T=c(function L(D){o(this,L),D=Object.assign({delta:0},D),this.type="end-track",this.data=f.numberToVariableLength(D.delta).concat(i.META_EVENT_ID,i.META_END_OF_TRACK_ID)}),C=c(function L(D){o(this,L),D=Object.assign({delta:0},D),this.type="instrument-name";var k=f.stringToBytes(D.text);this.data=f.numberToVariableLength(D.delta).concat(i.META_EVENT_ID,i.META_INSTRUMENT_NAME_ID,f.numberToVariableLength(k.length),k)}),w=c(function L(D,k){o(this,L),this.type="key-signature";var S=k||0;if(D=D||0,typeof k>"u"){var O=[["Cb","Gb","Db","Ab","Eb","Bb","F","C","G","D","A","E","B","F#","C#"],["ab","eb","bb","f","c","g","d","a","e","b","f#","c#","g#","d#","a#"]],V=D.length,A=D||"C";if(D[0]===D[0].toLowerCase()&&(S=1),V>1)switch(D.charAt(V-1)){case"m":S=1,A=D.charAt(0).toLowerCase(),A=A.concat(D.substring(1,V-1));break;case"-":S=1,A=D.charAt(0).toLowerCase(),A=A.concat(D.substring(1,V-1));break;case"M":S=0,A=D.charAt(0).toUpperCase(),A=A.concat(D.substring(1,V-1));break;case"+":S=0,A=D.charAt(0).toUpperCase(),A=A.concat(D.substring(1,V-1));break}var ne=O[S].indexOf(A);D=ne===-1?0:ne-7}this.data=f.numberToVariableLength(0).concat(i.META_EVENT_ID,i.META_KEY_SIGNATURE_ID,[2],f.numberToBytes(D,1),f.numberToBytes(S,1))}),N=c(function L(D){o(this,L),D=Object.assign({delta:0},D),this.type="lyric";var k=f.stringToBytes(D.text);this.data=f.numberToVariableLength(D.delta).concat(i.META_EVENT_ID,i.META_LYRIC_ID,f.numberToVariableLength(k.length),k)}),B=c(function L(D){o(this,L),D=Object.assign({delta:0},D),this.type="marker";var k=f.stringToBytes(D.text);this.data=f.numberToVariableLength(D.delta).concat(i.META_EVENT_ID,i.META_MARKER_ID,f.numberToVariableLength(k.length),k)}),_=function(){function L(D){o(this,L),D=Object.assign({channel:1,startTick:null,velocity:50,wait:0},D),this.type="note-on",this.channel=D.channel,this.pitch=D.pitch,this.wait=D.wait,this.velocity=D.velocity,this.startTick=D.startTick,this.tick=null,this.delta=null,this.data=D.data}return c(L,[{key:"buildData",value:function(k,S){var O=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this.data=[],this.startTick?(this.tick=f.getRoundedIfClose(this.startTick),k.tickPointer==0&&(this.delta=this.tick)):(this.delta=f.getTickDuration(this.wait),this.tick=f.getRoundedIfClose(k.tickPointer+this.delta)),this.deltaWithPrecisionCorrection=f.getRoundedIfClose(this.delta-S),this.data=f.numberToVariableLength(this.deltaWithPrecisionCorrection).concat(this.getStatusByte(),f.getPitch(this.pitch,O.middleC),f.convertVelocity(this.velocity)),this}},{key:"getStatusByte",value:function(){return 144+this.channel-1}}]),L}(),U=function(){function L(D){o(this,L),D=Object.assign({channel:1,velocity:50,tick:null},D),this.type="note-off",this.channel=D.channel,this.pitch=D.pitch,this.duration=D.duration,this.velocity=D.velocity,this.tick=D.tick,this.delta=f.getTickDuration(this.duration),this.data=D.data}return c(L,[{key:"buildData",value:function(k,S){var O=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this.tick===null&&(this.tick=f.getRoundedIfClose(this.delta+k.tickPointer)),this.deltaWithPrecisionCorrection=f.getRoundedIfClose(this.delta-S),this.data=f.numberToVariableLength(this.deltaWithPrecisionCorrection).concat(this.getStatusByte(),f.getPitch(this.pitch,O.middleC),f.convertVelocity(this.velocity)),this}},{key:"getStatusByte",value:function(){return 128+this.channel-1}}]),L}(),j=function(){function L(D){o(this,L),D=Object.assign({channel:1,repeat:1,sequential:!1,startTick:null,velocity:50,wait:0},D),this.data=[],this.type="note",this.pitch=f.toArray(D.pitch),this.channel=D.channel,this.duration=D.duration,this.grace=D.grace,this.repeat=D.repeat,this.sequential=D.sequential,this.startTick=D.startTick,this.velocity=D.velocity,this.wait=D.wait,this.tickDuration=f.getTickDuration(this.duration),this.restDuration=f.getTickDuration(this.wait),this.events=[]}return c(L,[{key:"buildData",value:function(){var k=this;if(this.data=[],this.grace){var S=1;this.grace=f.toArray(this.grace),this.grace.forEach(function(){var A=new L({pitch:k.grace,duration:"T"+S});k.data=k.data.concat(A.data)})}if(this.sequential)for(var V=0;V<this.repeat;V++)this.pitch.forEach(function(A,ne){var F=new _({channel:k.channel,wait:ne>0?0:k.wait,velocity:k.velocity,pitch:A,startTick:k.startTick}),ie=new U({channel:k.channel,duration:k.duration,velocity:k.velocity,pitch:A});k.events.push(F,ie)});else for(var O=0;O<this.repeat;O++)this.pitch.forEach(function(A,ne){var F;ne==0?F=new _({channel:k.channel,wait:k.wait,velocity:k.velocity,pitch:A,startTick:k.startTick}):F=new _({channel:k.channel,wait:0,velocity:k.velocity,pitch:A,startTick:k.startTick}),k.events.push(F)}),this.pitch.forEach(function(A,ne){var F;ne==0?F=new U({channel:k.channel,duration:k.duration,velocity:k.velocity,pitch:A,tick:k.startTick!==null?f.getTickDuration(k.duration)+k.startTick:null}):F=new U({channel:k.channel,duration:0,velocity:k.velocity,pitch:A,tick:k.startTick!==null?f.getTickDuration(k.duration)+k.startTick:null}),k.events.push(F)});return this}}]),L}(),X=function(D){return D<=0?Math.floor(16384*(D+1)/2):Math.floor(16383*(D+1)/2)},Z=c(function L(D){o(this,L),D=Object.assign({delta:0},D),this.type="pitch-bend";var k=X(D.bend),S=D.channel||0,O=k&127,V=k>>7&127;this.data=f.numberToVariableLength(D.delta).concat(i.PITCH_BEND_STATUS|S,O,V)}),q=function(){function L(D){o(this,L),this.fields=Object.assign({channel:1,delta:0},D),this.type="program",this.data=f.numberToVariableLength(this.fields.delta).concat(this.getStatusByte(),this.fields.instrument)}return c(L,[{key:"getStatusByte",value:function(){return 192+this.fields.channel-1}}]),L}(),Q=c(function L(D){o(this,L),D=Object.assign({delta:0},D),this.type="tempo",this.tick=D.tick;var k=Math.round(6e7/D.bpm);this.data=f.numberToVariableLength(D.delta).concat(i.META_EVENT_ID,i.META_TEMPO_ID,[3],f.numberToBytes(k,3))}),ae=c(function L(D){o(this,L),D=Object.assign({delta:0},D),this.type="text";var k=f.stringToBytes(D.text);this.data=f.numberToVariableLength(D.delta).concat(i.META_EVENT_ID,i.META_TEXT_ID,f.numberToVariableLength(k.length),k)}),pe=c(function L(D,k,S,O){o(this,L),this.type="time-signature",this.data=f.numberToVariableLength(0).concat(i.META_EVENT_ID,i.META_TIME_SIGNATURE_ID,[4],f.numberToBytes(D,1),f.numberToBytes(Math.log2(k),1),f.numberToBytes(S||24,1),f.numberToBytes(O||8,1))}),I=c(function L(D){o(this,L),D=Object.assign({delta:0},D),this.type="copyright";var k=f.stringToBytes(D.text);this.data=f.numberToVariableLength(D.delta).concat(i.META_EVENT_ID,i.META_COPYRIGHT_ID,f.numberToVariableLength(k.length),k)}),ue=c(function L(D){o(this,L),D=Object.assign({delta:0},D),this.type="track-name";var k=f.stringToBytes(D.text);this.data=f.numberToVariableLength(D.delta).concat(i.META_EVENT_ID,i.META_TRACK_NAME_ID,f.numberToVariableLength(k.length),k)}),de=function(){function L(){o(this,L),this.type=i.TRACK_CHUNK_TYPE,this.data=[],this.size=[],this.events=[],this.explicitTickEvents=[],this.tickPointer=0}return c(L,[{key:"addEvent",value:function(k,S){var O=this;return f.toArray(k).forEach(function(V,A){if(V instanceof j){if(typeof S=="function"){var ne=S(A,V);if(n(ne)==="object")for(var F in ne)switch(F){case"channel":V.channel=ne[F];break;case"duration":V.duration=ne[F];break;case"sequential":V.sequential=ne[F];break;case"velocity":V.velocity=f.convertVelocity(ne[F]);break}}V.startTick!==null?O.explicitTickEvents.push(V):V.buildData().events.forEach(function(ie){return O.events.push(ie)})}else V instanceof T&&O.removeEventsByType("end-track"),O.events.push(V)}),this}},{key:"buildData",value:function(){var k=this,S=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};(!this.events.length||!(this.events[this.events.length-1]instanceof T))&&this.addEvent(new T),this.data=[],this.size=[],this.tickPointer=0;var O=0;return this.events.forEach(function(V){if(V instanceof _||V instanceof U){var A=V.buildData(k,O,S);O=f.getPrecisionLoss(V.deltaWithPrecisionCorrection||0),k.data=k.data.concat(A.data),k.tickPointer=f.getRoundedIfClose(V.tick)}else V instanceof Q&&(k.tickPointer=f.getRoundedIfClose(V.tick)),k.data=k.data.concat(V.data)}),this.mergeExplicitTickEvents(),this.size=f.numberToBytes(this.data.length,4),this}},{key:"mergeExplicitTickEvents",value:function(){var k=this;this.explicitTickEvents.length&&(this.explicitTickEvents.sort(function(S,O){return S.startTick-O.startTick}),this.explicitTickEvents.forEach(function(S){S.buildData().events.forEach(function(O){return O.buildData(k)}),S.events.forEach(function(O){return k.mergeSingleEvent(O)})}),this.explicitTickEvents=[],this.buildData())}},{key:"mergeTrack",value:function(k){var S=this;this.buildData(),k.buildData().events.forEach(function(O){return S.mergeSingleEvent(O)})}},{key:"mergeSingleEvent",value:function(k){if(!this.events.length){this.addEvent(k);return}for(var S,O=0;O<this.events.length&&!(this.events[O].tick>k.tick);O++)S=O;var V=S+1;k.delta=k.tick-this.events[S].tick,this.events.splice(V,0,k);for(var A=V+1;A<this.events.length;A++)this.events[A].delta=this.events[A].tick-this.events[A-1].tick}},{key:"removeEventsByType",value:function(k){var S=this;return this.events.forEach(function(O,V){O.type===k&&S.events.splice(V,1)}),this}},{key:"setTempo",value:function(k){var S=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return this.addEvent(new Q({bpm:k,tick:S}))}},{key:"setTimeSignature",value:function(k,S,O,V){return this.addEvent(new pe(k,S,O,V))}},{key:"setKeySignature",value:function(k,S){return this.addEvent(new w(k,S))}},{key:"addText",value:function(k){return this.addEvent(new ae({text:k}))}},{key:"addCopyright",value:function(k){return this.addEvent(new I({text:k}))}},{key:"addTrackName",value:function(k){return this.addEvent(new ue({text:k}))}},{key:"addInstrumentName",value:function(k){return this.addEvent(new C({text:k}))}},{key:"addMarker",value:function(k){return this.addEvent(new B({text:k}))}},{key:"addCuePoint",value:function(k){return this.addEvent(new b({text:k}))}},{key:"addLyric",value:function(k){return this.addEvent(new N({text:k}))}},{key:"polyModeOn",value:function(){var k=new _({data:[0,176,126,0]});return this.addEvent(k)}},{key:"setPitchBend",value:function(k){return this.addEvent(new Z({bend:k}))}},{key:"controllerChange",value:function(k,S){return this.addEvent(new v({controllerNumber:k,controllerValue:S}))}}]),L}(),te=function(){function L(){o(this,L)}return c(L,[{key:"trackFromVoice",value:function(k){var S=this,O=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{addRenderedAccidentals:!1},V=new de,A=[];return k.tickables.forEach(function(ne){ne.noteType==="n"?(V.addEvent(new j({pitch:ne.keys.map(function(F,ie){return S.convertPitch(F,ie,ne,O.addRenderedAccidentals)}),duration:S.convertDuration(ne),wait:A})),A=[]):ne.noteType==="r"&&A.push(S.convertDuration(ne))}),A.length>0&&V.addEvent(new j({pitch:"[c4]",duration:"0",wait:A,velocity:"0"})),V}},{key:"convertPitch",value:function(k,S,O){var V=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1,A=k.split("/"),ne=A[0].substring(1).replace("n","");if(V){var F;(F=O.getAccidentals())===null||F===void 0||F.forEach(function(ie){ie.index===S&&(ie.type==="n"?ne="":ne+=ie.type)})}return A[0][0]+ne+A[1]}},{key:"convertDuration",value:function(k){return"d".repeat(k.dots)+this.convertBaseDuration(k.duration)+(k.tuplet?"t"+k.tuplet.num_notes:"")}},{key:"convertBaseDuration",value:function(k){switch(k){case"w":return"1";case"h":return"2";case"q":return"4";default:return k}}}]),L}(),oe=c(function L(D){o(this,L),this.type=i.HEADER_CHUNK_TYPE;var k=D>1?i.HEADER_CHUNK_FORMAT1:i.HEADER_CHUNK_FORMAT0;this.data=k.concat(f.numberToBytes(D,2),i.HEADER_CHUNK_DIVISION),this.size=[0,0,0,this.data.length]}),me=function(){function L(D){var k=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};o(this,L),this.tracks=f.toArray(D),this.options=k}return c(L,[{key:"buildData",value:function(){var k=this,S=[];return S.push(new oe(this.tracks.length)),this.tracks.forEach(function(O){S.push(O.buildData(k.options))}),S}},{key:"buildFile",value:function(){var k=[];return this.buildData().forEach(function(S){return k=k.concat(S.type,S.size,S.data)}),new Uint8Array(k)}},{key:"base64",value:function(){return typeof btoa=="function"?btoa(String.fromCharCode.apply(null,this.buildFile())):Buffer.from(this.buildFile()).toString("base64")}},{key:"dataUri",value:function(){return"data:audio/midi;base64,"+this.base64()}},{key:"setOption",value:function(k,S){return this.options[k]=S,this}},{key:"stdout",value:function(){return process.stdout.write(Buffer.from(this.buildFile()))}}]),L}(),Y={Constants:i,ControllerChangeEvent:v,CuePointEvent:b,EndTrackEvent:T,InstrumentNameEvent:C,KeySignatureEvent:w,LyricEvent:N,MarkerEvent:B,NoteOnEvent:_,NoteOffEvent:U,NoteEvent:j,PitchBendEvent:Z,ProgramChangeEvent:q,TempoEvent:Q,TextEvent:ae,TimeSignatureEvent:pe,Track:de,TrackNameEvent:ue,Utils:f,VexFlow:te,Writer:me};return Hc=Y,Hc}var MM=EM();const Rn=Dl(MM),Jo=t=>{if(!Rn.Track)return null;const i=new Rn.Track;return i.addTrackName(t),i},Gc=(t,i,n,a=!1)=>{!Rn.NoteEvent||!i||i.length===0||!t||i.forEach(o=>{let u=[];if(a)u=o.notes.map(d=>d.midi).filter(d=>typeof d=="number");else{const c=o;typeof c.midi=="number"&&(u=[c.midi])}if(u.length>0){const c=Math.round(o.duration*128),d=Math.round(o.time*128),p=u.map(f=>{const v=["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"],b=Math.floor(f/12)-1;return`${v[f%12]}${b}`});t.addEvent(new Rn.NoteEvent({pitch:p.length===1?p[0]:p,duration:`T${c}`,startTick:d,velocity:o.velocity||(a?90:100),channel:n}))}})},AM=(t,i)=>{!Rn.NoteEvent||!i||Object.keys(i).length===0||!t||Object.entries(i).forEach(([n,a])=>{const o=n.toLowerCase().replace(/\s+/g,"_"),u=ms[o]||ms[n];typeof u!="number"||!a||a.forEach(c=>{const d=Math.round(c.duration*128),p=Math.round(c.time*128),f=["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"],v=Math.floor(u/12)-1,T=`${f[u%12]}${v}`;t.addEvent(new Rn.NoteEvent({pitch:T,duration:`T${d}`,startTick:p,velocity:c.velocity||100,channel:10}))})})},Wg=(t,i,n="TrackGuide")=>{if(!Rn||!Rn.Writer||!Rn.Track||!Rn.NoteEvent)return console.error("MidiWriterJS components (Writer, Track, NoteEvent) are not loaded. Cannot generate MIDI file."),null;const a=[];let o=!1;const u=d=>(d&&(d.setTempo(i.tempo,0),d.setTimeSignature(i.timeSignature[0],i.timeSignature[1])),d);if(t.chords&&t.chords.length>0){let d=Jo(`${n} Chords`);d=u(d),d&&(Gc(d,t.chords,1,!0),a.push(d),o=!0)}if(t.bassline&&t.bassline.length>0){let d=Jo(`${n} Bassline`);d=u(d),d&&(Gc(d,t.bassline,2,!1),a.push(d),o=!0)}if(t.melody&&t.melody.length>0){let d=Jo(`${n} Melody`);d=u(d),d&&(Gc(d,t.melody,3,!1),a.push(d),o=!0)}if(t.drums&&Object.keys(t.drums).length>0){let d=Jo(`${n} Drums`);d=u(d),d&&(AM(d,t.drums),a.push(d),o=!0)}return o?new Rn.Writer(a).dataUri():(console.warn("No patterns to write to MIDI file."),null)},Zg=(t,i)=>{if(!t){console.error("MIDI data URI is null or empty. Cannot download."),alert("Failed to generate MIDI data for download.");return}const n=document.createElement("a");n.href=t,n.download=i,document.body.appendChild(n),n.click(),document.body.removeChild(n)};let Ii=null,Fi=[],ps=null,os=null,hs=0,bl=0,ia=!1;const Lf=()=>((!Ii||Ii.state==="closed")&&(Ii=new(window.AudioContext||window.webkitAudioContext),ps=Ii.createGain(),ps.connect(Ii.destination)),Ii.state==="suspended"&&Ii.resume(),Ii),cr=(t,i)=>t/i*60,qc=(t,i,n,a=100,o=!1,u,c)=>{const d=Lf();if(!ps||!c)return;const p=hs+bl*C0()+i;if(p<d.currentTime-.05)return;const f=d.createGain(),v=a/127*(o?.75:.35);let b=v;if(f.gain.setValueAtTime(b,p),b>1e-4)try{f.gain.exponentialRampToValueAtTime(1e-4,p+n)}catch{f.gain.linearRampToValueAtTime(1e-4,p+n)}f.connect(ps);let T;if(o)if(u==="kick"){const C=d.createOscillator();C.type="sine",C.frequency.setValueAtTime(150,p),C.frequency.exponentialRampToValueAtTime(50,p+Math.min(n,.12));const w=d.createGain();w.gain.setValueAtTime(1,p),w.gain.exponentialRampToValueAtTime(.001,p+n),C.connect(w).connect(f),C.start(p),C.stop(p+n),Fi.push({node:C,controlGainNode:f,trackType:c,intendedVolume:v,scheduledStopTime:p+n,isDrum:!0});return}else{T=d.createBufferSource();const C=Math.max(1,Math.floor(d.sampleRate*n)),w=d.createBuffer(1,C,d.sampleRate),N=w.getChannelData(0);if(u==="snare"||u==="clap")for(let B=0;B<C;B++)N[B]=(Math.random()*2-1)*Math.exp(-B/(d.sampleRate*.05));else if(u&&(u.includes("hat")||u.includes("cymbal")||u.includes("shaker"))){const B=u.includes("hat")?5e3:u.includes("shaker")?7e3:3e3,_=u.includes("hat")?.03:u.includes("shaker")?.02:.25;for(let U=0;U<C;U++)N[U]=(Math.random()*2-1)*Math.exp(-U/(d.sampleRate*_))*Math.sin(2*Math.PI*B*(U/d.sampleRate)*(1+Math.random()*.3))}else{const B=d.createOscillator();B.type="sine",B.frequency.setValueAtTime(200+Math.random()*150,p),B.frequency.exponentialRampToValueAtTime(100,p+n*.8);const _=d.createGain();_.gain.setValueAtTime(.9,p),_.gain.exponentialRampToValueAtTime(.001,p+n),B.connect(_).connect(f),B.start(p),B.stop(p+n),Fi.push({node:B,controlGainNode:f,trackType:c,intendedVolume:v,scheduledStopTime:p+n,isDrum:!0});return}T.buffer=w}else{T=d.createOscillator(),T.type="sawtooth";const C=440*Math.pow(2,(t-69)/12);T.frequency.setValueAtTime(C,p)}T.connect(f),T.start(p),T.stop(p+n),Fi.push({node:T,controlGainNode:f,trackType:c,intendedVolume:v,scheduledStopTime:p+n,isDrum:o})};let bf=null;const C0=()=>{if(!bf)throw new Error("Settings not available for loop duration calculation.");const{tempo:t,bars:i,timeSignature:n}=bf,a=n[0]*(4/n[1]);return cr(i*a,t)},ey=(t,i,n)=>{E0(!1),ia=!0,bl=0,bf={...i};const a=Lf();hs=a.currentTime,Fi=[];const o=C0();if(o<=0){console.error("Loop duration is zero or negative. Cannot play."),ia=!1;return}function u(){if(!ia)return;const c=a.currentTime;Fi=Fi.filter(v=>v.scheduledStopTime>c||!v.node);const d=i.tempo,p=(v,b)=>{b&&(v==="drums"&&typeof b=="object"&&!Array.isArray(b)?Object.entries(b).forEach(([T,C])=>{const w=T.toLowerCase().replace(/\s+/g,"_"),N=ms[w]||ms[T];typeof N!="number"||!C||C.forEach(B=>{qc(N,cr(B.time,d),cr(B.duration,d),B.velocity,!0,w,v)})}):Array.isArray(b)&&b.forEach(T=>{"notes"in T?T.notes.forEach(w=>{typeof w.midi=="number"&&qc(w.midi,cr(T.time,d),cr(T.duration,d),T.velocity,!1,void 0,v)}):typeof T.midi=="number"&&qc(T.midi,cr(T.time,d),cr(T.duration,d),T.velocity,!1,void 0,v)}))};if((n?[n]:["chords","bassline","melody","drums"]).forEach(v=>{switch(v){case"chords":t.chords&&p("chords",t.chords);break;case"bassline":t.bassline&&p("bassline",t.bassline);break;case"melody":t.melody&&p("melody",t.melody);break;case"drums":t.drums&&p("drums",t.drums);break}}),ia){const v=hs+(bl+1)*o;let b=(v-a.currentTime)*1e3;b<0&&(console.warn(`Loop drift detected. Next loop scheduled with minimal delay. Ideal: ${v}, Current: ${a.currentTime}`),b=10),os=window.setTimeout(()=>{ia&&(bl++,u())},b)}}u()},Nn=()=>{ia=!1,E0(!0)},E0=t=>{os!==null&&(clearTimeout(os),os=null),Fi.forEach(i=>{try{i.node&&(i.node.stop(),i.node.disconnect()),i.controlGainNode&&i.controlGainNode.disconnect()}catch{}}),Fi=[],t&&(bl=0,hs=0)},fl=async()=>{try{const t=Lf();t.state==="suspended"&&await t.resume()}catch(t){console.error("Failed to initialize audio context:",t)}},wM=async t=>new Promise((i,n)=>{const a=new FileReader;a.onload=()=>{if(a.result&&typeof a.result=="string"){const o=a.result.split(","),u=o[1],c=o[0].match(/data:(.*);base64/),d=c?c[1]:t.type||"audio/mpeg";i({base64:u,mimeType:d})}else n(new Error("Failed to read file"))},a.onerror=()=>n(new Error("File reading failed")),a.readAsDataURL(t)}),DM={kick:"Kick",snare:"Snare",hihat:"Hi-Hat",hihat_open:"Hi-Hat Open",hihat_closed:"Hi-Hat Closed",crash:"Crash",ride:"Ride",tom:"Tom",tom_high:"High Tom",tom_mid:"Mid Tom",tom_low:"Low Tom",clap:"Clap",shaker:"Shaker",tambourine:"Tambourine",cowbell:"Cowbell",rim:"Rimshot"},sr=t=>{if(!t)return"General musical context. Focus on genre and vibe.";const i=t.indexOf("## 3. Instrument & Sound Design Guide"),n=i>0?i:t.indexOf("## 2. Structural Blueprint")>0?t.indexOf("## 2. Structural Blueprint"):1500;return t.substring(0,Math.min(n,t.length))},kM=t=>{const i=t.match(/^([A-G][#b]?)/);return i?i[1]:"C"},NM=t=>{const i=kM(t);return Kg[i]||Kg.C},RM=t=>{const i=Cn[t]||Cn.Default;return`Typical: ${i[0]}-${i[1]} BPM`},IM=t=>Sn[t]||Sn.Default,dl=[1,2,4,8,16,32],M0=({currentGuidebookEntry:t,mainAppInputs:i,onUpdateGuidebookEntryMidi:n,parsedGuidebookBpm:a,parsedGuidebookKey:o,parsedGuidebookChordProg:u,initialPatterns:c,sections:d,targetTempo:p,targetKey:f,isRemixMode:v=!1})=>{var O,V,A,ne;const[b,T]=ye.useState(()=>{var ze,tt;if(v)return{...Ke,key:f||Ke.key,tempo:p||Ke.tempo,genre:"Electronic",songSection:(d==null?void 0:d[0])||Ke.songSection,guidebookContext:`Remix mode for ${f||"C minor"} at ${p||128} BPM`,targetInstruments:["bassline","drums","melody","chords"],bars:8};if(t!=null&&t.midiSettings)return{...t.midiSettings,bars:dl.includes(t.midiSettings.bars)?t.midiSettings.bars:Ke.bars,songSection:t.midiSettings.songSection||Ke.songSection,targetInstruments:t.midiSettings.targetInstruments&&t.midiSettings.targetInstruments.length>0?t.midiSettings.targetInstruments:[...Ke.targetInstruments],guidebookContext:t.midiSettings.guidebookContext||sr(t.content)};const F=((ze=t==null?void 0:t.genre)==null?void 0:ze[0])||((tt=i==null?void 0:i.genre)==null?void 0:tt[0])||Ke.genre,ie=sr((t==null?void 0:t.content)||""),ge=Cn[F]||Cn.Default,se=Math.round((ge[0]+ge[1])/2),Se=Ke.songSection;let we=Ke.bars;const Ie=Se.toLowerCase();return Ie.includes("intro")||Ie.includes("outro")||Ie.includes("fill")||Ie.includes("breakdown")?we=4:we=8,we=dl.includes(we)?we:Ke.bars,{...Ke,genre:F,key:o||Ke.key,tempo:a||se,chordProgression:u||(Sn[F]||Sn.Default)[0],guidebookContext:ie,targetInstruments:[...Ke.targetInstruments],songSection:Se,bars:we}}),[C,w]=ye.useState(()=>{if(v&&c){const F={};return Object.entries(c).forEach(([ie,ge])=>{Object.entries(ge).forEach(([se,Se])=>{const we=`${ie}_${se}`;typeof Se!="string"&&(F[we]=Se)})}),F}return(t==null?void 0:t.generatedMidiPatterns)||null}),[N,B]=ye.useState(!1),[_,U]=ye.useState(""),[j,X]=ye.useState(null),[Z,q]=ye.useState(!1),Q=ye.useRef(Z);ye.useEffect(()=>{Q.current=Z},[Z]);const[ae,pe]=ye.useState(!1);ye.useEffect(()=>{var ie,ge;let F;if(t!=null&&t.midiSettings)F=t.midiSettings.bars||Ke.bars,T({...t.midiSettings,bars:dl.includes(F)?F:Ke.bars,songSection:t.midiSettings.songSection||Ke.songSection,targetInstruments:t.midiSettings.targetInstruments&&t.midiSettings.targetInstruments.length>0?t.midiSettings.targetInstruments:[...Ke.targetInstruments],guidebookContext:t.midiSettings.guidebookContext||sr(t.content)});else{const se=((ie=t==null?void 0:t.genre)==null?void 0:ie[0])||((ge=i==null?void 0:i.genre)==null?void 0:ge[0])||Ke.genre,Se=sr((t==null?void 0:t.content)||""),we=Cn[se]||Cn.Default,Ie=Math.round((we[0]+we[1])/2),ze=Ke.songSection;let tt=Ke.bars;const rt=ze.toLowerCase();rt.includes("intro")||rt.includes("outro")||rt.includes("fill")||rt.includes("breakdown")?tt=4:tt=8,F=dl.includes(tt)?tt:Ke.bars,T({...Ke,key:o||Ke.key,tempo:a||Ie,chordProgression:u||(Sn[se]||Sn.Default)[0],genre:se,guidebookContext:Se,targetInstruments:[...Ke.targetInstruments],songSection:ze,bars:F})}w((t==null?void 0:t.generatedMidiPatterns)||null),X(null),Q.current&&(Nn(),q(!1))},[t,i==null?void 0:i.genre,a,o,u]);const I=(F,ie)=>{T(ge=>{const se={...ge,[F]:ie};if(F==="genre"){const Se=ie,we=(Sn[ge.genre]||Sn.Default)[0];ge.chordProgression===we&&(se.chordProgression=(Sn[Se]||Sn.Default)[0]);const Ie=Cn[ge.genre]||Cn.Default,ze=Math.round((Ie[0]+Ie[1])/2);if(ge.tempo===ze){const tt=Cn[Se]||Cn.Default;se.tempo=Math.round((tt[0]+tt[1])/2)}}return t!=null&&t.content&&(se.guidebookContext=sr(t.content)),se})},ue=F=>{T(ie=>{const ge=ie.targetInstruments,se=ge.includes(F)?ge.filter(Se=>Se!==F):[...ge,F];return{...ie,targetInstruments:se}})},de=async()=>{var ie;B(!0),U("Regenerating MIDI patterns..."),X(null),Q.current&&(Nn(),q(!1)),await fl();let F;if(v)F={...b,guidebookContext:`${b.genre} remix at ${b.tempo} BPM in ${b.key}`,genre:b.genre};else{const ge=((ie=t==null?void 0:t.genre)==null?void 0:ie[0])||b.genre,se=sr((t==null?void 0:t.content)||"");F={...b,guidebookContext:se,genre:ge}}try{const ge=await Ml(F);let se="";for await(const ze of ge)ze.text&&(se+=ze.text);se=se.trim();const Se=/^```(\w*)?\s*\n?(.*?)\n?\s*```$/s,we=se.match(Se);we&&we[2]&&(se=we[2].trim());const Ie=JSON.parse(se);if(Ie.drums){const ze={};for(const tt in Ie.drums)ze[tt.toLowerCase().replace(/\s+/g,"_")]=Ie.drums[tt];Ie.drums=ze}w(Ie),n==null||n(F,Ie)}catch(ge){console.error("MIDI Generation Error:",ge);const se=ge.message.toLowerCase().includes("json")?`AI returned invalid JSON for MIDI patterns. (${ge.message})`:`Failed to generate MIDI patterns: ${ge.message}`;X(se),w(null)}finally{B(!1),U("")}},te=async()=>{C&&(await fl(),Q.current&&(Nn(),q(!1),await new Promise(F=>setTimeout(F,50))),ey(C,b),q(!0))},oe=async F=>{!C||!C[F]||(await fl(),Q.current&&(Nn(),q(!1),await new Promise(ie=>setTimeout(ie,50))),ey(C,b,F),q(!0))},me=()=>{Nn(),q(!1)};ye.useEffect(()=>()=>{Q.current&&Nn()},[]);const Y=()=>{if(!C)return;const F=((t==null?void 0:t.title)||"TrackGuideMIDI").replace(/[^a-z0-9_.-]/gi,"_"),ie=Wg(C,b,F);ie?Zg(ie,`${F}_all_tracks.mid`):alert("No MIDI data to download or error in generation.")},L=F=>{if(!C||!C[F]){alert(`No ${F} data available in current patterns.`);return}const ie={[F]:C[F]},ge=((t==null?void 0:t.title)||"TrackGuideMIDI").replace(/[^a-z0-9_.-]/gi,"_"),se=Wg(ie,b,`${ge}_${F}`);se?Zg(se,`${ge}_${F}.mid`):alert(`No ${F} data to download or error in generation.`)},D=async F=>{var ge;if(!C)return;B(!0),U(`Regenerating ${F}...`),X(null),Q.current&&(Nn(),q(!1)),await fl();let ie;if(v)ie={...b,guidebookContext:`${b.genre} remix at ${b.tempo} BPM in ${b.key}`,genre:b.genre,targetInstruments:[F]};else{const se=((ge=t==null?void 0:t.genre)==null?void 0:ge[0])||b.genre,Se=sr((t==null?void 0:t.content)||"");ie={...b,guidebookContext:Se,genre:se,targetInstruments:[F]}}try{const se=await Ml(ie);let Se="";for await(const rt of se)rt.text&&(Se+=rt.text);Se=Se.trim();const we=/^```(\w*)?\s*\n?(.*?)\n?\s*```$/s,Ie=Se.match(we);Ie&&Ie[2]&&(Se=Ie[2].trim());const ze=JSON.parse(Se),tt={...C,[F]:ze[F]};if(F==="drums"&&ze.drums){const rt={};for(const St in ze.drums)rt[St.toLowerCase().replace(/\s+/g,"_")]=ze.drums[St];tt.drums=rt}w(tt),n==null||n(b,tt)}catch(se){console.error("Error regenerating single track:",se),X(`Failed to regenerate ${F}. Please try again.`)}finally{B(!1),U("")}},k=async()=>{ae||await fl(),pe(F=>!F)},S=(F,ie)=>{if(!C||!C[F])return null;const ge=C[F];let se="";if(F==="drums"&&ge){const Se=Object.keys(ge);se=`${Se.length} elements: ${Se.map(we=>DM[we]||we).join(", ")}`}else F==="chords"&&Array.isArray(ge)?se=`${ge.length} chord events`:(F==="bassline"||F==="melody")&&Array.isArray(ge)&&(se=`${ge.length} notes`);return h.jsxs(Ge,{title:ie,className:"p-4 border border-gray-600 rounded-md bg-gray-800/50",children:[h.jsx("div",{className:"mb-3",children:h.jsx("p",{className:"text-xs text-gray-400",children:se})}),h.jsxs("div",{className:"flex flex-wrap gap-2",children:[h.jsx(Be,{onClick:()=>oe(F),leftIcon:h.jsx(Xg,{}),size:"sm",variant:"primary",children:"Play"}),h.jsx(Be,{onClick:()=>D(F),leftIcon:h.jsx(Qg,{className:"w-4 h-4",isSpinning:N&&_.includes(F)}),size:"sm",variant:"secondary",disabled:N,children:"Regenerate"}),h.jsx(Be,{onClick:()=>L(F),leftIcon:h.jsx(yf,{}),size:"sm",variant:"secondary",children:"Download"})]})]},F)};return h.jsxs(Ge,{title:" MIDI Tools & Pattern Generator",className:"mt-6 bg-gray-800/80 backdrop-blur-md shadow-xl border border-gray-700/50",children:[h.jsx(Be,{onClick:k,variant:"secondary",className:"w-full mb-4",leftIcon:h.jsx(sM,{}),children:ae?"Hide MIDI Settings":"Adjust MIDI Settings & Regenerate"}),ae&&h.jsxs("div",{className:"mb-6 border-t border-gray-700 pt-6",children:[h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-x-6 gap-y-4 mb-6",children:[h.jsxs("div",{children:[h.jsxs("label",{htmlFor:"midi-key",className:"block text-sm font-medium text-gray-300 mb-1",children:["Key ",h.jsxs("span",{className:"text-xs text-gray-400",children:["(Guidebook: ",o||"N/A",")"]})]}),h.jsx("select",{id:"midi-key",value:b.key,onChange:F=>I("key",F.target.value),className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-md shadow-sm text-gray-100 focus:ring-purple-500 focus:border-purple-500 text-sm",children:xl.map(F=>h.jsx("option",{value:F,children:F},F))})]}),h.jsxs("div",{children:[h.jsxs("label",{htmlFor:"midi-scale",className:"block text-sm font-medium text-gray-300 mb-1",children:["Scale/Mode ",h.jsx("span",{className:"text-xs text-gray-400",children:"(Optional)"})]}),h.jsxs("select",{id:"midi-scale",value:b.scale||"",onChange:F=>I("scale",F.target.value),className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-md shadow-sm text-gray-100 focus:ring-purple-500 focus:border-purple-500 text-sm",children:[h.jsx("option",{value:"",children:"Default (from key)"}),NM(b.key).map(F=>h.jsx("option",{value:F,children:F},F))]})]}),h.jsxs("div",{children:[h.jsxs("label",{htmlFor:"midi-tempo",className:"block text-sm font-medium text-gray-300 mb-1",children:["Tempo (BPM) ",h.jsxs("span",{className:"text-xs text-gray-400",children:["Guidebook: ",a||"N/A"]})]}),h.jsx(Tn,{type:"number",id:"midi-tempo",value:b.tempo,onChange:F=>I("tempo",parseInt(F.target.value,10)),min:"30",max:"300"}),h.jsx("p",{className:"text-xs text-gray-400 mt-1",children:RM(b.genre)})]}),h.jsxs("div",{children:[h.jsx("label",{htmlFor:"midi-timesig",className:"block text-sm font-medium text-gray-300 mb-1",children:"Time Signature"}),h.jsx("select",{id:"midi-timesig",value:b.timeSignature.join("/"),onChange:F=>I("timeSignature",F.target.value.split("/").map(Number)),className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-md shadow-sm text-gray-100 focus:ring-purple-500 focus:border-purple-500 text-sm",children:XE.map(F=>h.jsx("option",{value:F.join("/"),children:F.join("/")},F.join("/")))})]}),h.jsxs("div",{children:[h.jsxs("label",{htmlFor:"midi-chords",className:"block text-sm font-medium text-gray-300 mb-1",children:["Chord Progression ",h.jsxs("span",{className:"text-xs text-gray-400",children:["(Guidebook: ",u||"N/A",")"]})]}),h.jsx("select",{id:"midi-chords",value:b.chordProgression,onChange:F=>I("chordProgression",F.target.value),className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-md shadow-sm text-gray-100 focus:ring-purple-500 focus:border-purple-500 text-sm",children:IM(b.genre).map(F=>h.jsx("option",{value:F,children:F},F))})]}),h.jsxs("div",{children:[h.jsx("label",{htmlFor:"midi-genre",className:"block text-sm font-medium text-gray-300 mb-1",children:"MIDI Genre Context"}),h.jsxs("select",{id:"midi-genre",value:b.genre,onChange:F=>I("genre",F.target.value),className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-md shadow-sm text-gray-100 focus:ring-purple-500 focus:border-purple-500 text-sm",children:[h.jsxs("option",{value:((O=t==null?void 0:t.genre)==null?void 0:O[0])||((V=i==null?void 0:i.genre)==null?void 0:V[0])||Ke.genre,children:["Align with Guidebook (",((A=t==null?void 0:t.genre)==null?void 0:A[0])||((ne=i==null?void 0:i.genre)==null?void 0:ne[0])||"Default",")"]}),y0.map(F=>h.jsx("option",{value:F,children:F},F))]})]}),h.jsxs("div",{children:[h.jsx("label",{htmlFor:"midi-bars",className:"block text-sm font-medium text-gray-300 mb-1",children:"Loop Length (Bars)"}),h.jsx("select",{id:"midi-bars",value:b.bars,onChange:F=>I("bars",parseInt(F.target.value,10)),className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-md shadow-sm text-gray-100 focus:ring-purple-500 focus:border-purple-500 text-sm",children:dl.map(F=>h.jsx("option",{value:F,children:F},F))})]}),h.jsxs("div",{className:"lg:col-span-1",children:[h.jsx("label",{htmlFor:"midi-songsection",className:"block text-sm font-medium text-gray-300 mb-1",children:"Song Section Context"}),h.jsx("select",{id:"midi-songsection",value:b.songSection||Ke.songSection,onChange:F=>I("songSection",F.target.value),className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-md shadow-sm text-gray-100 focus:ring-purple-500 focus:border-purple-500 text-sm",children:(v&&d?d:JE).map(F=>h.jsx("option",{value:F,children:F},F))})]})]}),h.jsxs("div",{className:"mb-6",children:[h.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Target Instruments to Generate"}),h.jsx("div",{className:"flex flex-wrap gap-x-4 gap-y-2",children:QE.map(F=>h.jsxs("button",{type:"button",onClick:()=>ue(F.id),className:`flex items-center px-3 py-1.5 rounded-md text-sm transition-colors duration-150 ease-in-out border
                            ${b.targetInstruments.includes(F.id)?"bg-purple-600 text-white border-purple-500 hover:bg-purple-700 shadow-md":"bg-gray-700 text-gray-300 border-gray-600 hover:bg-gray-600 hover:border-gray-500"}`,"aria-pressed":b.targetInstruments.includes(F.id),children:[b.targetInstruments.includes(F.id)?h.jsx(cM,{className:"w-4 h-4 mr-2"}):h.jsx(uM,{className:"w-4 h-4 mr-2 text-gray-500"}),F.label]},F.id))})]}),h.jsx(Be,{onClick:de,disabled:N||b.targetInstruments.length===0,className:"w-full",leftIcon:h.jsx(Qg,{className:"w-5 h-5",isSpinning:N}),children:N?_||"Regenerating MIDI Patterns...":b.targetInstruments.length===0?"Select instruments first":"Regenerate MIDI Patterns"})]}),j&&h.jsx("p",{className:"text-red-400 bg-red-900/30 p-3 rounded-md text-sm my-4",children:j}),N&&!ae&&(!C||_.includes("MIDI"))&&h.jsx("div",{className:"my-4",children:h.jsx(Oi,{text:_||"AI is composing..."})}),C&&!N&&h.jsxs("div",{className:"mt-6 space-y-3",children:[h.jsxs("div",{className:"flex flex-wrap gap-3 items-center pb-3 border-b border-gray-700",children:[h.jsx(Be,{onClick:Z?me:te,variant:Z?"danger":"primary",size:"md",leftIcon:Z?h.jsx(oM,{}):h.jsx(Xg,{}),children:Z?"Stop Preview":"Play All Tracks"}),h.jsx(Be,{onClick:Y,variant:"secondary",size:"md",leftIcon:h.jsx(yf,{}),children:"Download All (.mid)"})]}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 pt-3",children:[S("chords","Chords"),S("bassline","Bassline"),S("melody","Melody"),S("drums","Drums")]}),C.error&&h.jsxs("p",{className:"text-sm text-yellow-400 mt-2",children:["AI Note: ",C.error]})]}),!C&&!N&&!j&&h.jsxs("p",{className:"text-gray-400 text-sm mt-4 text-center",children:["No MIDI patterns generated yet for this ",v?"RemixGuide":"TrackGuide",'. Click "Adjust MIDI Settings" to configure and generate.']})]})},_M=({library:t,onClose:i,onLoadEntry:n,onDeleteEntry:a,onCreateNew:o})=>{const[u,c]=ye.useState(""),d=t.filter(p=>p.title.toLowerCase().includes(u.toLowerCase())||p.genre.join(", ").toLowerCase().includes(u.toLowerCase())).sort((p,f)=>new Date(f.createdAt).getTime()-new Date(p.createdAt).getTime());return h.jsx("div",{className:"fixed inset-0 bg-gray-900/80 backdrop-blur-sm flex items-center justify-center p-4 z-50 transition-opacity duration-300 ease-in-out",onClick:i,role:"dialog","aria-modal":"true","aria-labelledby":"library-modal-title",children:h.jsxs(Ge,{className:"w-full max-w-2xl bg-gray-800 shadow-2xl border border-gray-700 max-h-[90vh] flex flex-col",onClick:p=>p.stopPropagation(),children:[h.jsxs("div",{className:"flex justify-between items-center px-6 py-4 border-b border-gray-700",children:[h.jsxs("h2",{id:"library-modal-title",className:"text-2xl font-semibold text-purple-300 flex items-center",children:[h.jsx(xf,{className:"w-7 h-7 mr-3 text-purple-400"}),"TrackGuide Library"]}),h.jsx(Be,{onClick:i,variant:"secondary",size:"sm",className:"p-2 -mr-2","aria-label":"Close Library",children:h.jsx(T0,{className:"w-5 h-5"})})]}),h.jsx("div",{className:"px-6 py-4",children:h.jsx(Tn,{type:"search",placeholder:"Search by title or genre...",value:u,onChange:p=>c(p.target.value),className:"mb-4 bg-gray-700 border-gray-600 placeholder-gray-500","aria-label":"Search library"})}),h.jsx("div",{className:"flex-grow overflow-y-auto px-6 pb-6 space-y-3 custom-scrollbar pr-3",children:d.length===0?h.jsx("p",{className:"text-gray-400 text-center py-8",children:u?`No entries found for "${u}".`:"Your library is empty. Create some TrackGuides!"}):d.map(p=>h.jsx("div",{className:"p-4 bg-gray-700/60 rounded-lg hover:bg-gray-600/50 transition-colors shadow-md border border-gray-600/50",children:h.jsxs("div",{className:"flex justify-between items-start",children:[h.jsxs("div",{className:"flex-grow min-w-0",children:[h.jsx("h4",{className:"font-semibold text-purple-300 truncate text-lg",title:p.title,children:p.title}),h.jsx("p",{className:"text-sm text-gray-400 truncate",title:Array.isArray(p.genre)?p.genre.join(", "):p.genre,children:Array.isArray(p.genre)?p.genre.join(", "):p.genre}),h.jsxs("p",{className:"text-xs text-gray-500",children:["Created: ",new Date(p.createdAt).toLocaleDateString(),p.generatedMidiPatterns&&h.jsx(b0,{className:"w-3 h-3 text-green-400 inline-block ml-2",title:"MIDI available"})]})]}),h.jsxs("div",{className:"flex flex-col sm:flex-row space-y-2 sm:space-y-0 sm:space-x-2 items-end shrink-0 ml-3 mt-1 sm:mt-0",children:[h.jsx(Be,{onClick:()=>n(p),size:"sm",variant:"outline",className:"text-xs px-3 py-1.5 w-full sm:w-auto",leftIcon:h.jsx(xf,{className:"w-4 h-4"}),children:"Load"}),h.jsx(Be,{onClick:()=>a(p.id),size:"sm",variant:"danger",className:"text-xs px-3 py-1.5 w-full sm:w-auto",leftIcon:h.jsx(aM,{className:"w-4 h-4"})})]})]})},p.id))}),h.jsx("div",{className:"px-6 py-4 border-t border-gray-700",children:h.jsx(Be,{onClick:o,variant:"primary",className:"w-full",leftIcon:h.jsx(vf,{}),children:"Create New TrackGuide"})})]})})},LM=({className:t="w-6 h-6"})=>h.jsx("div",{className:`${t} bg-orange-500 transform rotate-45 flex items-center justify-center`,children:h.jsx("div",{className:"w-1/2 h-1/2 bg-white transform -rotate-45"})}),OM=({onGetStarted:t})=>h.jsxs("div",{className:"min-h-screen bg-[#2B2B2B] relative overflow-hidden scroll-smooth",children:[h.jsx("div",{className:"absolute inset-0 opacity-40",children:h.jsx("div",{className:"absolute inset-0",style:{backgroundImage:"radial-gradient(circle at 2px 2px, #FF5722 1px, transparent 0)",backgroundSize:"30px 30px"}})}),h.jsx("nav",{className:"relative z-10 px-6 py-6",children:h.jsxs("div",{className:"max-w-7xl mx-auto flex items-center justify-between",children:[h.jsxs("div",{className:"flex items-center space-x-3",children:[h.jsx("div",{className:"w-8 h-8 bg-orange-500 transform rotate-45 flex items-center justify-center",children:h.jsx("div",{className:"w-4 h-4 bg-white transform -rotate-45"})}),h.jsxs("div",{children:[h.jsx("div",{className:"text-xl font-bold text-white",children:"TrackGuide AI"}),h.jsx("div",{className:"text-xs text-gray-400",children:"Your Smartest Studio Assistant"})]})]}),h.jsxs("div",{className:"hidden md:flex items-center space-x-8",children:[h.jsx("a",{href:"#how-it-works",className:"text-gray-300 hover:text-orange-400 font-medium transition-colors",children:"How It Works"}),h.jsx("a",{href:"#problems-we-solve",className:"text-gray-300 hover:text-orange-400 font-medium transition-colors",children:"Problems We Solve"}),h.jsx("a",{href:"#investment-levels",className:"text-gray-300 hover:text-orange-400 font-medium transition-colors",children:"Investment Levels"})]}),h.jsxs("button",{onClick:t,className:"bg-orange-500 hover:bg-orange-600 text-white px-6 py-3 rounded-lg font-semibold transition-all transform hover:scale-105 shadow-lg flex items-center space-x-3 border border-white/10",children:[h.jsxs("div",{className:"relative",children:[h.jsx("div",{className:"absolute inset-0 rounded-full bg-white/20 blur-sm"}),h.jsx("div",{className:"relative w-6 h-6 bg-orange-500 transform rotate-45 flex items-center justify-center",children:h.jsx("div",{className:"w-3 h-3 bg-white transform -rotate-45"})})]}),h.jsx("span",{children:"Get Started"})]})]})}),h.jsx("section",{className:"relative px-6 py-16",children:h.jsx("div",{className:"max-w-7xl mx-auto",children:h.jsx("div",{className:"grid lg:grid-cols-2 gap-12 items-center",children:h.jsxs("div",{className:"space-y-8",children:[h.jsxs("h1",{className:"text-6xl md:text-7xl lg:text-8xl font-bold text-white leading-tight",children:[h.jsx("span",{className:"text-orange-500",children:"AI Studio Assistant:"}),h.jsx("span",{className:"block text-white mt-2 text-4xl md:text-5xl lg:text-6xl",children:"A Complement to Creativity,"}),h.jsx("span",{className:"block text-white mt-2 text-4xl md:text-5xl lg:text-6xl",children:"Not a Substitute."})]}),h.jsxs("p",{className:"text-xl text-gray-300 max-w-2xl leading-relaxed",children:["Empowering modern producers with ",h.jsx("span",{className:"text-orange-500 font-semibold",children:"structure"}),", ",h.jsx("span",{className:"text-orange-500 font-semibold",children:"speed"}),", and ",h.jsx("span",{className:"text-orange-500 font-semibold",children:"support"})," in their creative workflow."]}),h.jsx("div",{className:"flex flex-col sm:flex-row gap-6 mt-8 lg:justify-start",children:h.jsxs("button",{onClick:t,className:"bg-orange-500 hover:bg-orange-600 text-white px-12 py-5 rounded-xl font-bold text-xl transition-all transform hover:scale-105 flex items-center justify-center space-x-4 shadow-2xl border-2 border-white/20",children:[h.jsxs("div",{className:"relative",children:[h.jsx("div",{className:"absolute inset-0 rounded-full bg-white/20 blur-sm"}),h.jsx(LM,{className:"h-8 w-8 relative z-10"})]}),h.jsx("span",{children:"Start Creating Now"})]})})]})})})}),h.jsx("section",{id:"how-it-works",className:"relative px-6 py-20",children:h.jsxs("div",{className:"max-w-7xl mx-auto",children:[h.jsxs("div",{className:"text-center mb-16",children:[h.jsx("h2",{className:"text-4xl md:text-5xl font-bold text-white mb-6",children:"How TrackGuide Works"}),h.jsx("p",{className:"text-xl text-gray-300 max-w-3xl mx-auto",children:"From concept to creation in three simple steps"})]}),h.jsxs("div",{className:"grid md:grid-cols-3 gap-8",children:[h.jsxs("div",{className:"text-center space-y-6",children:[h.jsx("div",{className:"w-20 h-20 bg-orange-500 rounded-full flex items-center justify-center mx-auto",children:h.jsx("span",{className:"text-2xl font-bold text-white",children:"1"})}),h.jsx("h3",{className:"text-2xl font-bold text-white",children:"Describe Your Vision"}),h.jsx("p",{className:"text-gray-300",children:"Define your genre, vibe, creative goals  and your available plugins & DAW. Our AI understands your intent."})]}),h.jsxs("div",{className:"text-center space-y-6",children:[h.jsx("div",{className:"w-20 h-20 bg-orange-500 rounded-full flex items-center justify-center mx-auto",children:h.jsx("span",{className:"text-2xl font-bold text-white",children:"2"})}),h.jsx("h3",{className:"text-2xl font-bold text-white",children:"Get Your Guide & Tools"}),h.jsx("p",{className:"text-gray-300",children:"Generate a TrackGuide Blueprint, MIDI patterns, and AI recommendations  including plugin parameter suggestions."})]}),h.jsxs("div",{className:"text-center space-y-6",children:[h.jsx("div",{className:"w-20 h-20 bg-orange-500 rounded-full flex items-center justify-center mx-auto",children:h.jsx("span",{className:"text-2xl font-bold text-white",children:"3"})}),h.jsx("h3",{className:"text-2xl font-bold text-white",children:"Iterate & Refine"}),h.jsx("p",{className:"text-gray-300",children:"Upload mixes for feedback, compare revisions, and update your production with AI-assisted insights."})]})]})]})}),h.jsx("section",{className:"relative px-6 py-20 bg-black/10",children:h.jsxs("div",{className:"max-w-7xl mx-auto",children:[h.jsxs("div",{className:"text-center mb-16",children:[h.jsx("h2",{className:"text-4xl md:text-5xl font-bold text-white mb-6",children:"Complete Production Toolkit"}),h.jsx("p",{className:"text-xl text-gray-300 max-w-3xl mx-auto",children:"Everything you need  from first idea to final mix"})]}),h.jsxs("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-8",children:[h.jsxs("div",{className:"bg-gray-800/50 rounded-xl p-6 border border-orange-500/20 hover:border-orange-500/40 transition-all",children:[h.jsx("div",{className:"w-12 h-12 bg-orange-500 rounded-lg flex items-center justify-center mb-4",children:h.jsx("span",{className:"text-white font-bold",children:"AI"})}),h.jsx("h3",{className:"text-xl font-bold text-white mb-3",children:"TrackGuide AI"}),h.jsx("p",{className:"text-gray-300",children:"Generate detailed TrackGuide blueprints  structure, instrumentation, plugin parameters, and mix guidance tailored to your tools."})]}),h.jsxs("div",{className:"bg-gray-800/50 rounded-xl p-6 border border-orange-500/20 hover:border-orange-500/40 transition-all",children:[h.jsx("div",{className:"w-12 h-12 bg-orange-500 rounded-lg flex items-center justify-center mb-4",children:h.jsx("span",{className:"text-white font-bold",children:""})}),h.jsx("h3",{className:"text-xl font-bold text-white mb-3",children:"Integrated MIDI Generator"}),h.jsx("p",{className:"text-gray-300",children:"Auto-generate melodic, harmonic, bass, and drum MIDI patterns  matched to your genre and style  exportable to your DAW."})]}),h.jsxs("div",{className:"bg-gray-800/50 rounded-xl p-6 border border-orange-500/20 hover:border-orange-500/40 transition-all",children:[h.jsx("div",{className:"w-12 h-12 bg-orange-500 rounded-lg flex items-center justify-center mb-4",children:h.jsx("span",{className:"text-white font-bold",children:""})}),h.jsx("h3",{className:"text-xl font-bold text-white mb-3",children:"RemixGuide AI"}),h.jsx("p",{className:"text-gray-300",children:"Upload any track and generate an intelligent remix plan  new structure, sound design tips, and remix-ready MIDI."})]}),h.jsxs("div",{className:"bg-gray-800/50 rounded-xl p-6 border border-orange-500/20 hover:border-orange-500/40 transition-all",children:[h.jsx("div",{className:"w-12 h-12 bg-orange-500 rounded-lg flex items-center justify-center mb-4",children:h.jsx("span",{className:"text-white font-bold",children:""})}),h.jsx("h3",{className:"text-xl font-bold text-white mb-3",children:"PatchGuide AI"}),h.jsx("p",{className:"text-gray-300",children:"Instantly generate detailed synth patch recipes for any genre, mood, or instrument. Select your synth, describe your sound, and get step-by-step settings, modulation, and creative tips  tailored to your hardware or software."})]}),h.jsxs("div",{className:"bg-gray-800/50 rounded-xl p-6 border border-orange-500/20 hover:border-orange-500/40 transition-all",children:[h.jsx("div",{className:"w-12 h-12 bg-orange-500 rounded-lg flex items-center justify-center mb-4",children:h.jsx("span",{className:"text-white font-bold",children:""})}),h.jsx("h3",{className:"text-xl font-bold text-white mb-3",children:"Mix Feedback"}),h.jsx("p",{className:"text-gray-300",children:"Upload your mix (or two versions) for instant, actionable feedback. AI analyzes your audio, highlights strengths and weaknesses, and suggests improvements  helping you refine your sound with every revision."})]}),h.jsxs("div",{className:"bg-gray-800/50 rounded-xl p-6 border border-orange-500/20 hover:border-orange-500/40 transition-all",children:[h.jsx("div",{className:"w-12 h-12 bg-orange-500 rounded-lg flex items-center justify-center mb-4",children:h.jsx("span",{className:"text-white font-bold",children:""})}),h.jsx("h3",{className:"text-xl font-bold text-white mb-3",children:"EQ Guide"}),h.jsx("p",{className:"text-gray-300",children:"Quick-reference EQ guide: instrument-by-instrument  learn how to shape sound and resolve common mix problems."})]})]})]})}),h.jsx("section",{className:"relative px-6 py-20 bg-black/20",children:h.jsxs("div",{className:"max-w-7xl mx-auto text-center",children:[h.jsx("h2",{className:"text-4xl md:text-5xl font-bold text-white mb-6",children:"Ready to Transform Your Music Production?"}),h.jsx("p",{className:"text-xl text-gray-300 mb-12 max-w-2xl mx-auto",children:"TrackGuide helps producers of all skill levels  from bedroom creators to pros  finish more tracks, faster."}),h.jsxs("div",{className:"bg-gray-800/50 rounded-2xl p-8 max-w-md mx-auto border border-orange-500/20",children:[h.jsx("h3",{className:"text-2xl font-bold text-white mb-4",children:"Free to Start"}),h.jsx("p",{className:"text-gray-300 mb-6",children:"Get started with TrackGuide AI for free. Upgrade when you're ready to unlock unlimited generations and advanced tools."}),h.jsx("button",{onClick:t,className:"w-full bg-orange-500 hover:bg-orange-600 text-white px-8 py-4 rounded-lg font-bold text-lg transition-all transform hover:scale-105 shadow-xl",children:"Start Creating Free"}),h.jsx("p",{className:"text-gray-500 text-sm mt-4",children:"No credit card required"})]})]})}),h.jsx("section",{className:"px-6 py-16 bg-black/20",children:h.jsxs("div",{className:"max-w-7xl mx-auto text-center",children:[h.jsx("div",{className:"w-32 h-1 bg-orange-500 mx-auto mb-8"}),h.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-white mb-4",children:"The Investment Opportunity"}),h.jsx("p",{className:"text-xl text-gray-300",children:"Helping producers finish better music, faster  in a $43B market."})]})}),h.jsx("section",{id:"problems-we-solve",className:"relative px-6 py-20 bg-black/20",children:h.jsx("div",{className:"max-w-7xl mx-auto",children:h.jsxs("div",{className:"grid lg:grid-cols-2 gap-12 items-center",children:[h.jsxs("div",{className:"space-y-8",children:[h.jsxs("h2",{className:"text-4xl md:text-5xl font-bold text-white leading-tight",children:["Too Many Tools:",h.jsx("span",{className:"block text-orange-500",children:"Not Enough Direction"})]}),h.jsx("p",{className:"text-xl text-gray-300 leading-relaxed",children:"As AI floods the market and tools fragment, producers lack clarity. TrackGuide is building the smartest studio assistant  keeping the human in the loop."}),h.jsxs("div",{className:"grid gap-6",children:[h.jsx("div",{className:"border-l-4 border-orange-500 pl-6",children:h.jsxs("p",{className:"text-gray-300",children:[h.jsx("strong",{children:"Without clear structure,"})," inspiration stalls  many creators fail to finish tracks."]})}),h.jsx("div",{className:"border-l-4 border-orange-500 pl-6",children:h.jsxs("p",{className:"text-gray-300",children:[h.jsx("strong",{children:"Clickbait content lacks depth "})," TrackGuide teaches transferable skills while speeding workflows."]})}),h.jsx("div",{className:"border-l-4 border-orange-500 pl-6",children:h.jsxs("p",{className:"text-gray-300",children:[h.jsx("strong",{children:"AI hype distracts "})," we focus on complementing creativity, not replacing it."]})})]})]}),h.jsxs("div",{className:"relative h-96",children:[h.jsxs("div",{className:"absolute top-0 right-0 w-48 h-48",children:[h.jsx("div",{className:"w-full h-full border-2 border-orange-500 transform rotate-45"}),h.jsx("div",{className:"absolute top-4 right-4 w-40 h-40 bg-orange-500 transform rotate-45"})]}),h.jsxs("div",{className:"absolute bottom-0 left-0 w-32 h-32",children:[h.jsx("div",{className:"w-full h-full border-2 border-orange-500"}),h.jsx("div",{className:"absolute top-2 left-2 w-28 h-28 bg-orange-500"})]})]})]})})}),h.jsx("section",{id:"ai-challenge",className:"px-6 py-20 bg-black",children:h.jsxs("div",{className:"max-w-7xl mx-auto grid lg:grid-cols-2 gap-12 items-center",children:[h.jsx("div",{className:"relative h-80 hidden lg:block",children:h.jsxs("div",{className:"absolute top-0 left-0 w-40 h-40",children:[h.jsx("div",{className:"w-full h-full border-2 border-orange-500 transform rotate-45"}),h.jsx("div",{className:"absolute top-4 left-4 w-32 h-32 bg-orange-500 transform rotate-45"})]})}),h.jsxs("div",{className:"space-y-8",children:[h.jsxs("h2",{className:"text-5xl font-bold text-white leading-tight",children:["Navigating the ",h.jsx("span",{className:"text-orange-500 block",children:"AI Challenge"})]}),h.jsx("p",{className:"text-xl text-gray-300 leading-relaxed",children:"A human-first approach  empowering the artist, respecting the craft."}),h.jsxs("div",{className:"grid gap-6",children:[h.jsxs("div",{className:"border-l-4 border-orange-500 pl-6",children:[h.jsx("h3",{className:"text-lg font-bold text-white mb-2",children:"Avoiding One-Click fatigue"}),h.jsx("p",{className:"text-gray-400",children:"Our AI augments the creative process, not bypasses it  musicians stay in control."})]}),h.jsxs("div",{className:"border-l-4 border-orange-500 pl-6",children:[h.jsx("h3",{className:"text-lg font-bold text-white mb-2",children:"Forward-facing, not retro"}),h.jsx("p",{className:"text-gray-400",children:"Avoids regurgitating old hit formulas  helps creators define new sounds."})]}),h.jsxs("div",{className:"border-l-4 border-orange-500 pl-6",children:[h.jsx("h3",{className:"text-lg font-bold text-white mb-2",children:"Clear IP & ethical AI"}),h.jsx("p",{className:"text-gray-400",children:"Built with transparent usage  your creativity stays yours."})]})]})]})]})}),h.jsx("section",{className:"relative px-6 py-20 bg-black/20",children:h.jsxs("div",{className:"max-w-5xl mx-auto",children:[h.jsxs("h2",{className:"text-4xl md:text-5xl font-bold text-white mb-6",children:["Scalable ",h.jsx("span",{className:"text-orange-500",children:"Business Model"})]}),h.jsx("p",{className:"text-xl text-gray-300 mb-12 max-w-2xl mx-auto",children:"Modular SaaS for creators, pros, educators, and studios."}),h.jsxs("div",{className:"grid md:grid-cols-3 gap-8",children:[h.jsxs("div",{className:"bg-gray-800/30 rounded-lg p-8 border border-orange-500/10 space-y-2",children:[h.jsx("h3",{className:"text-2xl font-bold text-white",children:"SaaS Subscriptions"}),h.jsx("p",{className:"text-gray-300",children:"Premium AI tools, pro workflows, unlimited usage  high-margin recurring revenue."}),h.jsx("div",{className:"text-orange-500 font-semibold text-lg",children:"85% Gross Margin"})]}),h.jsxs("div",{className:"bg-gray-800/30 rounded-lg p-8 border border-orange-500/10 space-y-2",children:[h.jsx("h3",{className:"text-2xl font-bold text-white",children:"Community Marketplace"}),h.jsx("p",{className:"text-gray-300",children:"Revenue from user-generated templates, MIDI packs, remix packs, stems, and presets."}),h.jsx("div",{className:"text-orange-500 font-semibold text-lg",children:"30% Commission"})]}),h.jsxs("div",{className:"bg-gray-800/30 rounded-lg p-8 border border-orange-500/10 space-y-2",children:[h.jsx("h3",{className:"text-2xl font-bold text-white",children:"Enterprise / Education Licensing"}),h.jsx("p",{className:"text-gray-300",children:"Annual contracts for labels, studios, and music education institutions."}),h.jsx("div",{className:"text-orange-500 font-semibold text-lg",children:"$50K+ ARR"})]})]})]})}),h.jsx("section",{id:"investment-levels",className:"px-6 py-20 bg-black",children:h.jsxs("div",{className:"max-w-5xl mx-auto",children:[h.jsxs("div",{className:"text-center mb-12",children:[h.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-white mb-6",children:"Investment Levels"}),h.jsx("p",{className:"text-lg text-gray-300 max-w-2xl mx-auto",children:"Were raising capital to scale TrackGuide AI  deepen core features, grow early users, and prepare for market launch."}),h.jsx("p",{className:"text-md text-gray-400 mt-4 max-w-xl mx-auto",children:"All investments are via SAFE notes with valuation cap. Larger tiers include additional benefits and advisory access."})]}),h.jsxs("div",{className:"grid md:grid-cols-4 gap-6",children:[h.jsxs("div",{className:"bg-black/80 rounded-lg p-6 border border-orange-500/30 shadow-md flex flex-col justify-between",children:[h.jsxs("div",{children:[h.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"Seed Loop"}),h.jsx("p",{className:"text-gray-300 text-sm mb-2",children:"$10K$25K"}),h.jsx("p",{className:"text-gray-400 text-sm mb-4",children:"AI refinement, UX polish, early traction testing."})]}),h.jsx("p",{className:"text-orange-400 text-sm mt-4",children:"Return: SAFE @ $5M cap + quarterly updates"})]}),h.jsxs("div",{className:"bg-black/80 rounded-lg p-6 border border-orange-500/30 shadow-md flex flex-col justify-between",children:[h.jsxs("div",{children:[h.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"Creator Tier"}),h.jsx("p",{className:"text-gray-300 text-sm mb-2",children:"$25K$50K"}),h.jsx("p",{className:"text-gray-400 text-sm mb-4",children:"Monetization rollout, user acquisition, affiliate & referral systems."})]}),h.jsx("p",{className:"text-orange-400 text-sm mt-4",children:"Return: SAFE + 1% revenue share pilot + early feature access"})]}),h.jsxs("div",{className:"bg-black/80 rounded-lg p-6 border border-orange-500/30 shadow-md flex flex-col justify-between",children:[h.jsxs("div",{children:[h.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"Full Stack"}),h.jsx("p",{className:"text-gray-300 text-sm mb-2",children:"$50K$75K"}),h.jsx("p",{className:"text-gray-400 text-sm mb-4",children:"Strategic hires (PMM / full-stack dev), expanded GTM partnerships."})]}),h.jsx("p",{className:"text-orange-400 text-sm mt-4",children:"Return: SAFE + advisory board seat + product roadmap input"})]}),h.jsxs("div",{className:"bg-black/80 rounded-lg p-6 border border-orange-500/30 shadow-md flex flex-col justify-between",children:[h.jsxs("div",{children:[h.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"Vision Tier"}),h.jsx("p",{className:"text-gray-300 text-sm mb-2",children:"$150K+"}),h.jsx("p",{className:"text-gray-400 text-sm mb-4",children:"Full-scale AI model tuning, GTM campaign, international expansion."})]}),h.jsx("p",{className:"text-orange-400 text-sm mt-4",children:"Return: Discounted SAFE cap + 2% revenue share + strategic board seat"})]})]}),h.jsx("div",{className:"text-center mt-12",children:h.jsx("a",{href:"mailto:dustinspaceproductions@gmail.com?subject=Investment Inquiry - TrackGuide AI",className:"bg-orange-500 hover:bg-orange-600 text-white px-8 py-4 rounded-lg font-bold text-lg transition-all transform hover:scale-105 inline-flex items-center space-x-2 shadow-xl",children:h.jsx("span",{children:"Contact for Full Investor Deck"})})})]})}),h.jsx("section",{className:"px-6 py-20 bg-black/30",children:h.jsxs("div",{className:"max-w-4xl mx-auto text-center",children:[h.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-white mb-6",children:"Interested in Investing?"}),h.jsx("p",{className:"text-xl text-gray-300 mb-8 max-w-2xl mx-auto",children:"Revolutionizing music production with human-first AI. Join us."}),h.jsx("a",{href:"mailto:dustinspaceproductions@gmail.com?subject=Investment Inquiry - TrackGuide AI",className:"bg-orange-500 hover:bg-orange-600 text-white px-8 py-3 rounded-lg font-bold text-lg transition-all transform hover:scale-105 inline-flex items-center space-x-2 shadow-xl",children:h.jsx("span",{children:"Contact for Investment Opportunities"})})]})}),h.jsx("footer",{className:"px-6 py-12 border-t border-orange-500/20 bg-black/20",children:h.jsx("div",{className:"max-w-7xl mx-auto",children:h.jsxs("div",{className:"flex flex-col md:flex-row items-center justify-between",children:[h.jsxs("div",{className:"flex items-center space-x-3 mb-4 md:mb-0",children:[h.jsx("div",{className:"w-6 h-6 bg-orange-500 transform rotate-45 flex items-center justify-center",children:h.jsx("div",{className:"w-3 h-3 bg-white transform -rotate-45"})}),h.jsxs("div",{children:[h.jsx("div",{className:"text-lg font-bold text-white",children:"TrackGuide AI"}),h.jsx("div",{className:"text-xs text-gray-400",children:"AI Studio Assistant for Music Creators"})]})]}),h.jsxs("div",{className:"text-gray-400 text-center md:text-right text-sm space-y-1",children:[h.jsx("p",{children:" 2025 TrackGuide. Empowering music creators worldwide."}),h.jsxs("p",{children:[h.jsx("a",{href:"#",className:"hover:text-orange-400 mr-4",children:"Privacy Policy"}),h.jsx("a",{href:"#",className:"hover:text-orange-400",children:"Terms of Service"})]})]})]})})})]});function FM(t,i){const n={};return(t[t.length-1]===""?[...t,""]:t).join((n.padRight?" ":"")+","+(n.padLeft===!1?"":" ")).trim()}const BM=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,PM=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,zM={};function ty(t,i){return(zM.jsx?PM:BM).test(t)}const VM=/[ \t\n\f\r]/g;function jM(t){return typeof t=="object"?t.type==="text"?ny(t.value):!1:ny(t)}function ny(t){return t.replace(VM,"")===""}class Nl{constructor(i,n,a){this.normal=n,this.property=i,a&&(this.space=a)}}Nl.prototype.normal={};Nl.prototype.property={};Nl.prototype.space=void 0;function A0(t,i){const n={},a={};for(const o of t)Object.assign(n,o.property),Object.assign(a,o.normal);return new Nl(n,a,i)}function Tf(t){return t.toLowerCase()}class Jt{constructor(i,n){this.attribute=n,this.property=i}}Jt.prototype.attribute="";Jt.prototype.booleanish=!1;Jt.prototype.boolean=!1;Jt.prototype.commaOrSpaceSeparated=!1;Jt.prototype.commaSeparated=!1;Jt.prototype.defined=!1;Jt.prototype.mustUseProperty=!1;Jt.prototype.number=!1;Jt.prototype.overloadedBoolean=!1;Jt.prototype.property="";Jt.prototype.spaceSeparated=!1;Jt.prototype.space=void 0;let UM=0;const Re=mr(),xt=mr(),Sf=mr(),fe=mr(),it=mr(),aa=mr(),un=mr();function mr(){return 2**++UM}const Cf=Object.freeze(Object.defineProperty({__proto__:null,boolean:Re,booleanish:xt,commaOrSpaceSeparated:un,commaSeparated:aa,number:fe,overloadedBoolean:Sf,spaceSeparated:it},Symbol.toStringTag,{value:"Module"})),Yc=Object.keys(Cf);class Of extends Jt{constructor(i,n,a,o){let u=-1;if(super(i,n),iy(this,"space",o),typeof a=="number")for(;++u<Yc.length;){const c=Yc[u];iy(this,Yc[u],(a&Cf[c])===Cf[c])}}}Of.prototype.defined=!0;function iy(t,i,n){n&&(t[i]=n)}function ua(t){const i={},n={};for(const[a,o]of Object.entries(t.properties)){const u=new Of(a,t.transform(t.attributes||{},a),o,t.space);t.mustUseProperty&&t.mustUseProperty.includes(a)&&(u.mustUseProperty=!0),i[a]=u,n[Tf(a)]=a,n[Tf(u.attribute)]=a}return new Nl(i,n,t.space)}const w0=ua({properties:{ariaActiveDescendant:null,ariaAtomic:xt,ariaAutoComplete:null,ariaBusy:xt,ariaChecked:xt,ariaColCount:fe,ariaColIndex:fe,ariaColSpan:fe,ariaControls:it,ariaCurrent:null,ariaDescribedBy:it,ariaDetails:null,ariaDisabled:xt,ariaDropEffect:it,ariaErrorMessage:null,ariaExpanded:xt,ariaFlowTo:it,ariaGrabbed:xt,ariaHasPopup:null,ariaHidden:xt,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:it,ariaLevel:fe,ariaLive:null,ariaModal:xt,ariaMultiLine:xt,ariaMultiSelectable:xt,ariaOrientation:null,ariaOwns:it,ariaPlaceholder:null,ariaPosInSet:fe,ariaPressed:xt,ariaReadOnly:xt,ariaRelevant:null,ariaRequired:xt,ariaRoleDescription:it,ariaRowCount:fe,ariaRowIndex:fe,ariaRowSpan:fe,ariaSelected:xt,ariaSetSize:fe,ariaSort:null,ariaValueMax:fe,ariaValueMin:fe,ariaValueNow:fe,ariaValueText:null,role:null},transform(t,i){return i==="role"?i:"aria-"+i.slice(4).toLowerCase()}});function D0(t,i){return i in t?t[i]:i}function k0(t,i){return D0(t,i.toLowerCase())}const HM=ua({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:aa,acceptCharset:it,accessKey:it,action:null,allow:null,allowFullScreen:Re,allowPaymentRequest:Re,allowUserMedia:Re,alt:null,as:null,async:Re,autoCapitalize:null,autoComplete:it,autoFocus:Re,autoPlay:Re,blocking:it,capture:null,charSet:null,checked:Re,cite:null,className:it,cols:fe,colSpan:null,content:null,contentEditable:xt,controls:Re,controlsList:it,coords:fe|aa,crossOrigin:null,data:null,dateTime:null,decoding:null,default:Re,defer:Re,dir:null,dirName:null,disabled:Re,download:Sf,draggable:xt,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:Re,formTarget:null,headers:it,height:fe,hidden:Sf,high:fe,href:null,hrefLang:null,htmlFor:it,httpEquiv:it,id:null,imageSizes:null,imageSrcSet:null,inert:Re,inputMode:null,integrity:null,is:null,isMap:Re,itemId:null,itemProp:it,itemRef:it,itemScope:Re,itemType:it,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:Re,low:fe,manifest:null,max:null,maxLength:fe,media:null,method:null,min:null,minLength:fe,multiple:Re,muted:Re,name:null,nonce:null,noModule:Re,noValidate:Re,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:Re,optimum:fe,pattern:null,ping:it,placeholder:null,playsInline:Re,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:Re,referrerPolicy:null,rel:it,required:Re,reversed:Re,rows:fe,rowSpan:fe,sandbox:it,scope:null,scoped:Re,seamless:Re,selected:Re,shadowRootClonable:Re,shadowRootDelegatesFocus:Re,shadowRootMode:null,shape:null,size:fe,sizes:null,slot:null,span:fe,spellCheck:xt,src:null,srcDoc:null,srcLang:null,srcSet:null,start:fe,step:null,style:null,tabIndex:fe,target:null,title:null,translate:null,type:null,typeMustMatch:Re,useMap:null,value:xt,width:fe,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:it,axis:null,background:null,bgColor:null,border:fe,borderColor:null,bottomMargin:fe,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:Re,declare:Re,event:null,face:null,frame:null,frameBorder:null,hSpace:fe,leftMargin:fe,link:null,longDesc:null,lowSrc:null,marginHeight:fe,marginWidth:fe,noResize:Re,noHref:Re,noShade:Re,noWrap:Re,object:null,profile:null,prompt:null,rev:null,rightMargin:fe,rules:null,scheme:null,scrolling:xt,standby:null,summary:null,text:null,topMargin:fe,valueType:null,version:null,vAlign:null,vLink:null,vSpace:fe,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:Re,disableRemotePlayback:Re,prefix:null,property:null,results:fe,security:null,unselectable:null},space:"html",transform:k0}),GM=ua({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:un,accentHeight:fe,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:fe,amplitude:fe,arabicForm:null,ascent:fe,attributeName:null,attributeType:null,azimuth:fe,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:fe,by:null,calcMode:null,capHeight:fe,className:it,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:fe,diffuseConstant:fe,direction:null,display:null,dur:null,divisor:fe,dominantBaseline:null,download:Re,dx:null,dy:null,edgeMode:null,editable:null,elevation:fe,enableBackground:null,end:null,event:null,exponent:fe,externalResourcesRequired:null,fill:null,fillOpacity:fe,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:aa,g2:aa,glyphName:aa,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:fe,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:fe,horizOriginX:fe,horizOriginY:fe,id:null,ideographic:fe,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:fe,k:fe,k1:fe,k2:fe,k3:fe,k4:fe,kernelMatrix:un,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:fe,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:fe,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:fe,overlineThickness:fe,paintOrder:null,panose1:null,path:null,pathLength:fe,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:it,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:fe,pointsAtY:fe,pointsAtZ:fe,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:un,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:un,rev:un,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:un,requiredFeatures:un,requiredFonts:un,requiredFormats:un,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:fe,specularExponent:fe,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:fe,strikethroughThickness:fe,string:null,stroke:null,strokeDashArray:un,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:fe,strokeOpacity:fe,strokeWidth:null,style:null,surfaceScale:fe,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:un,tabIndex:fe,tableValues:null,target:null,targetX:fe,targetY:fe,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:un,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:fe,underlineThickness:fe,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:fe,values:null,vAlphabetic:fe,vMathematical:fe,vectorEffect:null,vHanging:fe,vIdeographic:fe,version:null,vertAdvY:fe,vertOriginX:fe,vertOriginY:fe,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:fe,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:D0}),N0=ua({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform(t,i){return"xlink:"+i.slice(5).toLowerCase()}}),R0=ua({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:k0}),I0=ua({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform(t,i){return"xml:"+i.slice(3).toLowerCase()}}),qM={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},YM=/[A-Z]/g,ry=/-[a-z]/g,KM=/^data[-\w.:]+$/i;function $M(t,i){const n=Tf(i);let a=i,o=Jt;if(n in t.normal)return t.property[t.normal[n]];if(n.length>4&&n.slice(0,4)==="data"&&KM.test(i)){if(i.charAt(4)==="-"){const u=i.slice(5).replace(ry,QM);a="data"+u.charAt(0).toUpperCase()+u.slice(1)}else{const u=i.slice(4);if(!ry.test(u)){let c=u.replace(YM,XM);c.charAt(0)!=="-"&&(c="-"+c),i="data"+c}}o=Of}return new o(a,i)}function XM(t){return"-"+t.toLowerCase()}function QM(t){return t.charAt(1).toUpperCase()}const JM=A0([w0,HM,N0,R0,I0],"html"),Ff=A0([w0,GM,N0,R0,I0],"svg");function WM(t){return t.join(" ").trim()}var ta={},Kc,ay;function ZM(){if(ay)return Kc;ay=1;var t=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,i=/\n/g,n=/^\s*/,a=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,o=/^:\s*/,u=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,c=/^[;\s]*/,d=/^\s+|\s+$/g,p=`
`,f="/",v="*",b="",T="comment",C="declaration";Kc=function(N,B){if(typeof N!="string")throw new TypeError("First argument must be a string");if(!N)return[];B=B||{};var _=1,U=1;function j(te){var oe=te.match(i);oe&&(_+=oe.length);var me=te.lastIndexOf(p);U=~me?te.length-me:U+te.length}function X(){var te={line:_,column:U};return function(oe){return oe.position=new Z(te),ae(),oe}}function Z(te){this.start=te,this.end={line:_,column:U},this.source=B.source}Z.prototype.content=N;function q(te){var oe=new Error(B.source+":"+_+":"+U+": "+te);if(oe.reason=te,oe.filename=B.source,oe.line=_,oe.column=U,oe.source=N,!B.silent)throw oe}function Q(te){var oe=te.exec(N);if(oe){var me=oe[0];return j(me),N=N.slice(me.length),oe}}function ae(){Q(n)}function pe(te){var oe;for(te=te||[];oe=I();)oe!==!1&&te.push(oe);return te}function I(){var te=X();if(!(f!=N.charAt(0)||v!=N.charAt(1))){for(var oe=2;b!=N.charAt(oe)&&(v!=N.charAt(oe)||f!=N.charAt(oe+1));)++oe;if(oe+=2,b===N.charAt(oe-1))return q("End of comment missing");var me=N.slice(2,oe-2);return U+=2,j(me),N=N.slice(oe),U+=2,te({type:T,comment:me})}}function ue(){var te=X(),oe=Q(a);if(oe){if(I(),!Q(o))return q("property missing ':'");var me=Q(u),Y=te({type:C,property:w(oe[0].replace(t,b)),value:me?w(me[0].replace(t,b)):b});return Q(c),Y}}function de(){var te=[];pe(te);for(var oe;oe=ue();)oe!==!1&&(te.push(oe),pe(te));return te}return ae(),de()};function w(N){return N?N.replace(d,b):b}return Kc}var ly;function eA(){if(ly)return ta;ly=1;var t=ta&&ta.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(ta,"__esModule",{value:!0}),ta.default=n;var i=t(ZM());function n(a,o){var u=null;if(!a||typeof a!="string")return u;var c=(0,i.default)(a),d=typeof o=="function";return c.forEach(function(p){if(p.type==="declaration"){var f=p.property,v=p.value;d?o(f,v,p):v&&(u=u||{},u[f]=v)}}),u}return ta}var ml={},oy;function tA(){if(oy)return ml;oy=1,Object.defineProperty(ml,"__esModule",{value:!0}),ml.camelCase=void 0;var t=/^--[a-zA-Z0-9_-]+$/,i=/-([a-z])/g,n=/^[^-]+$/,a=/^-(webkit|moz|ms|o|khtml)-/,o=/^-(ms)-/,u=function(f){return!f||n.test(f)||t.test(f)},c=function(f,v){return v.toUpperCase()},d=function(f,v){return"".concat(v,"-")},p=function(f,v){return v===void 0&&(v={}),u(f)?f:(f=f.toLowerCase(),v.reactCompat?f=f.replace(o,d):f=f.replace(a,d),f.replace(i,c))};return ml.camelCase=p,ml}var pl,sy;function nA(){if(sy)return pl;sy=1;var t=pl&&pl.__importDefault||function(o){return o&&o.__esModule?o:{default:o}},i=t(eA()),n=tA();function a(o,u){var c={};return!o||typeof o!="string"||(0,i.default)(o,function(d,p){d&&p&&(c[(0,n.camelCase)(d,u)]=p)}),c}return a.default=a,pl=a,pl}var iA=nA();const rA=Dl(iA),_0=L0("end"),Bf=L0("start");function L0(t){return i;function i(n){const a=n&&n.position&&n.position[t]||{};if(typeof a.line=="number"&&a.line>0&&typeof a.column=="number"&&a.column>0)return{line:a.line,column:a.column,offset:typeof a.offset=="number"&&a.offset>-1?a.offset:void 0}}}function aA(t){const i=Bf(t),n=_0(t);if(i&&n)return{start:i,end:n}}function Tl(t){return!t||typeof t!="object"?"":"position"in t||"type"in t?uy(t.position):"start"in t||"end"in t?uy(t):"line"in t||"column"in t?Ef(t):""}function Ef(t){return cy(t&&t.line)+":"+cy(t&&t.column)}function uy(t){return Ef(t&&t.start)+"-"+Ef(t&&t.end)}function cy(t){return t&&typeof t=="number"?t:1}class zt extends Error{constructor(i,n,a){super(),typeof n=="string"&&(a=n,n=void 0);let o="",u={},c=!1;if(n&&("line"in n&&"column"in n?u={place:n}:"start"in n&&"end"in n?u={place:n}:"type"in n?u={ancestors:[n],place:n.position}:u={...n}),typeof i=="string"?o=i:!u.cause&&i&&(c=!0,o=i.message,u.cause=i),!u.ruleId&&!u.source&&typeof a=="string"){const p=a.indexOf(":");p===-1?u.ruleId=a:(u.source=a.slice(0,p),u.ruleId=a.slice(p+1))}if(!u.place&&u.ancestors&&u.ancestors){const p=u.ancestors[u.ancestors.length-1];p&&(u.place=p.position)}const d=u.place&&"start"in u.place?u.place.start:u.place;this.ancestors=u.ancestors||void 0,this.cause=u.cause||void 0,this.column=d?d.column:void 0,this.fatal=void 0,this.file,this.message=o,this.line=d?d.line:void 0,this.name=Tl(u.place)||"1:1",this.place=u.place||void 0,this.reason=this.message,this.ruleId=u.ruleId||void 0,this.source=u.source||void 0,this.stack=c&&u.cause&&typeof u.cause.stack=="string"?u.cause.stack:"",this.actual,this.expected,this.note,this.url}}zt.prototype.file="";zt.prototype.name="";zt.prototype.reason="";zt.prototype.message="";zt.prototype.stack="";zt.prototype.column=void 0;zt.prototype.line=void 0;zt.prototype.ancestors=void 0;zt.prototype.cause=void 0;zt.prototype.fatal=void 0;zt.prototype.place=void 0;zt.prototype.ruleId=void 0;zt.prototype.source=void 0;const Pf={}.hasOwnProperty,lA=new Map,oA=/[A-Z]/g,sA=new Set(["table","tbody","thead","tfoot","tr"]),uA=new Set(["td","th"]),O0="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function cA(t,i){if(!i||i.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const n=i.filePath||void 0;let a;if(i.development){if(typeof i.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");a=xA(n,i.jsxDEV)}else{if(typeof i.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof i.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");a=yA(n,i.jsx,i.jsxs)}const o={Fragment:i.Fragment,ancestors:[],components:i.components||{},create:a,elementAttributeNameCase:i.elementAttributeNameCase||"react",evaluater:i.createEvaluater?i.createEvaluater():void 0,filePath:n,ignoreInvalidStyle:i.ignoreInvalidStyle||!1,passKeys:i.passKeys!==!1,passNode:i.passNode||!1,schema:i.space==="svg"?Ff:JM,stylePropertyNameCase:i.stylePropertyNameCase||"dom",tableCellAlignToStyle:i.tableCellAlignToStyle!==!1},u=F0(o,t,void 0);return u&&typeof u!="string"?u:o.create(t,o.Fragment,{children:u||void 0},void 0)}function F0(t,i,n){if(i.type==="element")return fA(t,i,n);if(i.type==="mdxFlowExpression"||i.type==="mdxTextExpression")return dA(t,i);if(i.type==="mdxJsxFlowElement"||i.type==="mdxJsxTextElement")return pA(t,i,n);if(i.type==="mdxjsEsm")return mA(t,i);if(i.type==="root")return hA(t,i,n);if(i.type==="text")return gA(t,i)}function fA(t,i,n){const a=t.schema;let o=a;i.tagName.toLowerCase()==="svg"&&a.space==="html"&&(o=Ff,t.schema=o),t.ancestors.push(i);const u=P0(t,i.tagName,!1),c=vA(t,i);let d=Vf(t,i);return sA.has(i.tagName)&&(d=d.filter(function(p){return typeof p=="string"?!jM(p):!0})),B0(t,c,u,i),zf(c,d),t.ancestors.pop(),t.schema=a,t.create(i,u,c,n)}function dA(t,i){if(i.data&&i.data.estree&&t.evaluater){const a=i.data.estree.body[0];return a.type,t.evaluater.evaluateExpression(a.expression)}Al(t,i.position)}function mA(t,i){if(i.data&&i.data.estree&&t.evaluater)return t.evaluater.evaluateProgram(i.data.estree);Al(t,i.position)}function pA(t,i,n){const a=t.schema;let o=a;i.name==="svg"&&a.space==="html"&&(o=Ff,t.schema=o),t.ancestors.push(i);const u=i.name===null?t.Fragment:P0(t,i.name,!0),c=bA(t,i),d=Vf(t,i);return B0(t,c,u,i),zf(c,d),t.ancestors.pop(),t.schema=a,t.create(i,u,c,n)}function hA(t,i,n){const a={};return zf(a,Vf(t,i)),t.create(i,t.Fragment,a,n)}function gA(t,i){return i.value}function B0(t,i,n,a){typeof n!="string"&&n!==t.Fragment&&t.passNode&&(i.node=a)}function zf(t,i){if(i.length>0){const n=i.length>1?i:i[0];n&&(t.children=n)}}function yA(t,i,n){return a;function a(o,u,c,d){const f=Array.isArray(c.children)?n:i;return d?f(u,c,d):f(u,c)}}function xA(t,i){return n;function n(a,o,u,c){const d=Array.isArray(u.children),p=Bf(a);return i(o,u,c,d,{columnNumber:p?p.column-1:void 0,fileName:t,lineNumber:p?p.line:void 0},void 0)}}function vA(t,i){const n={};let a,o;for(o in i.properties)if(o!=="children"&&Pf.call(i.properties,o)){const u=TA(t,o,i.properties[o]);if(u){const[c,d]=u;t.tableCellAlignToStyle&&c==="align"&&typeof d=="string"&&uA.has(i.tagName)?a=d:n[c]=d}}if(a){const u=n.style||(n.style={});u[t.stylePropertyNameCase==="css"?"text-align":"textAlign"]=a}return n}function bA(t,i){const n={};for(const a of i.attributes)if(a.type==="mdxJsxExpressionAttribute")if(a.data&&a.data.estree&&t.evaluater){const u=a.data.estree.body[0];u.type;const c=u.expression;c.type;const d=c.properties[0];d.type,Object.assign(n,t.evaluater.evaluateExpression(d.argument))}else Al(t,i.position);else{const o=a.name;let u;if(a.value&&typeof a.value=="object")if(a.value.data&&a.value.data.estree&&t.evaluater){const d=a.value.data.estree.body[0];d.type,u=t.evaluater.evaluateExpression(d.expression)}else Al(t,i.position);else u=a.value===null?!0:a.value;n[o]=u}return n}function Vf(t,i){const n=[];let a=-1;const o=t.passKeys?new Map:lA;for(;++a<i.children.length;){const u=i.children[a];let c;if(t.passKeys){const p=u.type==="element"?u.tagName:u.type==="mdxJsxFlowElement"||u.type==="mdxJsxTextElement"?u.name:void 0;if(p){const f=o.get(p)||0;c=p+"-"+f,o.set(p,f+1)}}const d=F0(t,u,c);d!==void 0&&n.push(d)}return n}function TA(t,i,n){const a=$M(t.schema,i);if(!(n==null||typeof n=="number"&&Number.isNaN(n))){if(Array.isArray(n)&&(n=a.commaSeparated?FM(n):WM(n)),a.property==="style"){let o=typeof n=="object"?n:SA(t,String(n));return t.stylePropertyNameCase==="css"&&(o=CA(o)),["style",o]}return[t.elementAttributeNameCase==="react"&&a.space?qM[a.property]||a.property:a.attribute,n]}}function SA(t,i){try{return rA(i,{reactCompat:!0})}catch(n){if(t.ignoreInvalidStyle)return{};const a=n,o=new zt("Cannot parse `style` attribute",{ancestors:t.ancestors,cause:a,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw o.file=t.filePath||void 0,o.url=O0+"#cannot-parse-style-attribute",o}}function P0(t,i,n){let a;if(!n)a={type:"Literal",value:i};else if(i.includes(".")){const o=i.split(".");let u=-1,c;for(;++u<o.length;){const d=ty(o[u])?{type:"Identifier",name:o[u]}:{type:"Literal",value:o[u]};c=c?{type:"MemberExpression",object:c,property:d,computed:!!(u&&d.type==="Literal"),optional:!1}:d}a=c}else a=ty(i)&&!/^[a-z]/.test(i)?{type:"Identifier",name:i}:{type:"Literal",value:i};if(a.type==="Literal"){const o=a.value;return Pf.call(t.components,o)?t.components[o]:o}if(t.evaluater)return t.evaluater.evaluateExpression(a);Al(t)}function Al(t,i){const n=new zt("Cannot handle MDX estrees without `createEvaluater`",{ancestors:t.ancestors,place:i,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw n.file=t.filePath||void 0,n.url=O0+"#cannot-handle-mdx-estrees-without-createevaluater",n}function CA(t){const i={};let n;for(n in t)Pf.call(t,n)&&(i[EA(n)]=t[n]);return i}function EA(t){let i=t.replace(oA,MA);return i.slice(0,3)==="ms-"&&(i="-"+i),i}function MA(t){return"-"+t.toLowerCase()}const $c={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},AA={};function jf(t,i){const n=AA,a=typeof n.includeImageAlt=="boolean"?n.includeImageAlt:!0,o=typeof n.includeHtml=="boolean"?n.includeHtml:!0;return z0(t,a,o)}function z0(t,i,n){if(wA(t)){if("value"in t)return t.type==="html"&&!n?"":t.value;if(i&&"alt"in t&&t.alt)return t.alt;if("children"in t)return fy(t.children,i,n)}return Array.isArray(t)?fy(t,i,n):""}function fy(t,i,n){const a=[];let o=-1;for(;++o<t.length;)a[o]=z0(t[o],i,n);return a.join("")}function wA(t){return!!(t&&typeof t=="object")}const dy=document.createElement("i");function Uf(t){const i="&"+t+";";dy.innerHTML=i;const n=dy.textContent;return n.charCodeAt(n.length-1)===59&&t!=="semi"||n===i?!1:n}function cn(t,i,n,a){const o=t.length;let u=0,c;if(i<0?i=-i>o?0:o+i:i=i>o?o:i,n=n>0?n:0,a.length<1e4)c=Array.from(a),c.unshift(i,n),t.splice(...c);else for(n&&t.splice(i,n);u<a.length;)c=a.slice(u,u+1e4),c.unshift(i,0),t.splice(...c),u+=1e4,i+=1e4}function En(t,i){return t.length>0?(cn(t,t.length,0,i),t):i}const my={}.hasOwnProperty;function V0(t){const i={};let n=-1;for(;++n<t.length;)DA(i,t[n]);return i}function DA(t,i){let n;for(n in i){const o=(my.call(t,n)?t[n]:void 0)||(t[n]={}),u=i[n];let c;if(u)for(c in u){my.call(o,c)||(o[c]=[]);const d=u[c];kA(o[c],Array.isArray(d)?d:d?[d]:[])}}}function kA(t,i){let n=-1;const a=[];for(;++n<i.length;)(i[n].add==="after"?t:a).push(i[n]);cn(t,0,0,a)}function j0(t,i){const n=Number.parseInt(t,i);return n<9||n===11||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||(n&65535)===65535||(n&65535)===65534||n>1114111?"":String.fromCodePoint(n)}function In(t){return t.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const Ut=Vi(/[A-Za-z]/),Pt=Vi(/[\dA-Za-z]/),NA=Vi(/[#-'*+\--9=?A-Z^-~]/);function gs(t){return t!==null&&(t<32||t===127)}const Mf=Vi(/\d/),RA=Vi(/[\dA-Fa-f]/),IA=Vi(/[!-/:-@[-`{-~]/);function Ce(t){return t!==null&&t<-2}function et(t){return t!==null&&(t<0||t===32)}function Pe(t){return t===-2||t===-1||t===32}const Cs=Vi(new RegExp("\\p{P}|\\p{S}","u")),fr=Vi(/\s/);function Vi(t){return i;function i(n){return n!==null&&n>-1&&t.test(String.fromCharCode(n))}}function ca(t){const i=[];let n=-1,a=0,o=0;for(;++n<t.length;){const u=t.charCodeAt(n);let c="";if(u===37&&Pt(t.charCodeAt(n+1))&&Pt(t.charCodeAt(n+2)))o=2;else if(u<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(u))||(c=String.fromCharCode(u));else if(u>55295&&u<57344){const d=t.charCodeAt(n+1);u<56320&&d>56319&&d<57344?(c=String.fromCharCode(u,d),o=1):c=""}else c=String.fromCharCode(u);c&&(i.push(t.slice(a,n),encodeURIComponent(c)),a=n+o+1,c=""),o&&(n+=o,o=0)}return i.join("")+t.slice(a)}function Ue(t,i,n,a){const o=a?a-1:Number.POSITIVE_INFINITY;let u=0;return c;function c(p){return Pe(p)?(t.enter(n),d(p)):i(p)}function d(p){return Pe(p)&&u++<o?(t.consume(p),d):(t.exit(n),i(p))}}const _A={tokenize:LA};function LA(t){const i=t.attempt(this.parser.constructs.contentInitial,a,o);let n;return i;function a(d){if(d===null){t.consume(d);return}return t.enter("lineEnding"),t.consume(d),t.exit("lineEnding"),Ue(t,i,"linePrefix")}function o(d){return t.enter("paragraph"),u(d)}function u(d){const p=t.enter("chunkText",{contentType:"text",previous:n});return n&&(n.next=p),n=p,c(d)}function c(d){if(d===null){t.exit("chunkText"),t.exit("paragraph"),t.consume(d);return}return Ce(d)?(t.consume(d),t.exit("chunkText"),u):(t.consume(d),c)}}const OA={tokenize:FA},py={tokenize:BA};function FA(t){const i=this,n=[];let a=0,o,u,c;return d;function d(j){if(a<n.length){const X=n[a];return i.containerState=X[1],t.attempt(X[0].continuation,p,f)(j)}return f(j)}function p(j){if(a++,i.containerState._closeFlow){i.containerState._closeFlow=void 0,o&&U();const X=i.events.length;let Z=X,q;for(;Z--;)if(i.events[Z][0]==="exit"&&i.events[Z][1].type==="chunkFlow"){q=i.events[Z][1].end;break}_(a);let Q=X;for(;Q<i.events.length;)i.events[Q][1].end={...q},Q++;return cn(i.events,Z+1,0,i.events.slice(X)),i.events.length=Q,f(j)}return d(j)}function f(j){if(a===n.length){if(!o)return T(j);if(o.currentConstruct&&o.currentConstruct.concrete)return w(j);i.interrupt=!!(o.currentConstruct&&!o._gfmTableDynamicInterruptHack)}return i.containerState={},t.check(py,v,b)(j)}function v(j){return o&&U(),_(a),T(j)}function b(j){return i.parser.lazy[i.now().line]=a!==n.length,c=i.now().offset,w(j)}function T(j){return i.containerState={},t.attempt(py,C,w)(j)}function C(j){return a++,n.push([i.currentConstruct,i.containerState]),T(j)}function w(j){if(j===null){o&&U(),_(0),t.consume(j);return}return o=o||i.parser.flow(i.now()),t.enter("chunkFlow",{_tokenizer:o,contentType:"flow",previous:u}),N(j)}function N(j){if(j===null){B(t.exit("chunkFlow"),!0),_(0),t.consume(j);return}return Ce(j)?(t.consume(j),B(t.exit("chunkFlow")),a=0,i.interrupt=void 0,d):(t.consume(j),N)}function B(j,X){const Z=i.sliceStream(j);if(X&&Z.push(null),j.previous=u,u&&(u.next=j),u=j,o.defineSkip(j.start),o.write(Z),i.parser.lazy[j.start.line]){let q=o.events.length;for(;q--;)if(o.events[q][1].start.offset<c&&(!o.events[q][1].end||o.events[q][1].end.offset>c))return;const Q=i.events.length;let ae=Q,pe,I;for(;ae--;)if(i.events[ae][0]==="exit"&&i.events[ae][1].type==="chunkFlow"){if(pe){I=i.events[ae][1].end;break}pe=!0}for(_(a),q=Q;q<i.events.length;)i.events[q][1].end={...I},q++;cn(i.events,ae+1,0,i.events.slice(Q)),i.events.length=q}}function _(j){let X=n.length;for(;X-- >j;){const Z=n[X];i.containerState=Z[1],Z[0].exit.call(i,t)}n.length=j}function U(){o.write([null]),u=void 0,o=void 0,i.containerState._closeFlow=void 0}}function BA(t,i,n){return Ue(t,t.attempt(this.parser.constructs.document,i,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function la(t){if(t===null||et(t)||fr(t))return 1;if(Cs(t))return 2}function Es(t,i,n){const a=[];let o=-1;for(;++o<t.length;){const u=t[o].resolveAll;u&&!a.includes(u)&&(i=u(i,n),a.push(u))}return i}const Af={name:"attention",resolveAll:PA,tokenize:zA};function PA(t,i){let n=-1,a,o,u,c,d,p,f,v;for(;++n<t.length;)if(t[n][0]==="enter"&&t[n][1].type==="attentionSequence"&&t[n][1]._close){for(a=n;a--;)if(t[a][0]==="exit"&&t[a][1].type==="attentionSequence"&&t[a][1]._open&&i.sliceSerialize(t[a][1]).charCodeAt(0)===i.sliceSerialize(t[n][1]).charCodeAt(0)){if((t[a][1]._close||t[n][1]._open)&&(t[n][1].end.offset-t[n][1].start.offset)%3&&!((t[a][1].end.offset-t[a][1].start.offset+t[n][1].end.offset-t[n][1].start.offset)%3))continue;p=t[a][1].end.offset-t[a][1].start.offset>1&&t[n][1].end.offset-t[n][1].start.offset>1?2:1;const b={...t[a][1].end},T={...t[n][1].start};hy(b,-p),hy(T,p),c={type:p>1?"strongSequence":"emphasisSequence",start:b,end:{...t[a][1].end}},d={type:p>1?"strongSequence":"emphasisSequence",start:{...t[n][1].start},end:T},u={type:p>1?"strongText":"emphasisText",start:{...t[a][1].end},end:{...t[n][1].start}},o={type:p>1?"strong":"emphasis",start:{...c.start},end:{...d.end}},t[a][1].end={...c.start},t[n][1].start={...d.end},f=[],t[a][1].end.offset-t[a][1].start.offset&&(f=En(f,[["enter",t[a][1],i],["exit",t[a][1],i]])),f=En(f,[["enter",o,i],["enter",c,i],["exit",c,i],["enter",u,i]]),f=En(f,Es(i.parser.constructs.insideSpan.null,t.slice(a+1,n),i)),f=En(f,[["exit",u,i],["enter",d,i],["exit",d,i],["exit",o,i]]),t[n][1].end.offset-t[n][1].start.offset?(v=2,f=En(f,[["enter",t[n][1],i],["exit",t[n][1],i]])):v=0,cn(t,a-1,n-a+3,f),n=a+f.length-v-2;break}}for(n=-1;++n<t.length;)t[n][1].type==="attentionSequence"&&(t[n][1].type="data");return t}function zA(t,i){const n=this.parser.constructs.attentionMarkers.null,a=this.previous,o=la(a);let u;return c;function c(p){return u=p,t.enter("attentionSequence"),d(p)}function d(p){if(p===u)return t.consume(p),d;const f=t.exit("attentionSequence"),v=la(p),b=!v||v===2&&o||n.includes(p),T=!o||o===2&&v||n.includes(a);return f._open=!!(u===42?b:b&&(o||!T)),f._close=!!(u===42?T:T&&(v||!b)),i(p)}}function hy(t,i){t.column+=i,t.offset+=i,t._bufferIndex+=i}const VA={name:"autolink",tokenize:jA};function jA(t,i,n){let a=0;return o;function o(C){return t.enter("autolink"),t.enter("autolinkMarker"),t.consume(C),t.exit("autolinkMarker"),t.enter("autolinkProtocol"),u}function u(C){return Ut(C)?(t.consume(C),c):C===64?n(C):f(C)}function c(C){return C===43||C===45||C===46||Pt(C)?(a=1,d(C)):f(C)}function d(C){return C===58?(t.consume(C),a=0,p):(C===43||C===45||C===46||Pt(C))&&a++<32?(t.consume(C),d):(a=0,f(C))}function p(C){return C===62?(t.exit("autolinkProtocol"),t.enter("autolinkMarker"),t.consume(C),t.exit("autolinkMarker"),t.exit("autolink"),i):C===null||C===32||C===60||gs(C)?n(C):(t.consume(C),p)}function f(C){return C===64?(t.consume(C),v):NA(C)?(t.consume(C),f):n(C)}function v(C){return Pt(C)?b(C):n(C)}function b(C){return C===46?(t.consume(C),a=0,v):C===62?(t.exit("autolinkProtocol").type="autolinkEmail",t.enter("autolinkMarker"),t.consume(C),t.exit("autolinkMarker"),t.exit("autolink"),i):T(C)}function T(C){if((C===45||Pt(C))&&a++<63){const w=C===45?T:b;return t.consume(C),w}return n(C)}}const Rl={partial:!0,tokenize:UA};function UA(t,i,n){return a;function a(u){return Pe(u)?Ue(t,o,"linePrefix")(u):o(u)}function o(u){return u===null||Ce(u)?i(u):n(u)}}const U0={continuation:{tokenize:GA},exit:qA,name:"blockQuote",tokenize:HA};function HA(t,i,n){const a=this;return o;function o(c){if(c===62){const d=a.containerState;return d.open||(t.enter("blockQuote",{_container:!0}),d.open=!0),t.enter("blockQuotePrefix"),t.enter("blockQuoteMarker"),t.consume(c),t.exit("blockQuoteMarker"),u}return n(c)}function u(c){return Pe(c)?(t.enter("blockQuotePrefixWhitespace"),t.consume(c),t.exit("blockQuotePrefixWhitespace"),t.exit("blockQuotePrefix"),i):(t.exit("blockQuotePrefix"),i(c))}}function GA(t,i,n){const a=this;return o;function o(c){return Pe(c)?Ue(t,u,"linePrefix",a.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(c):u(c)}function u(c){return t.attempt(U0,i,n)(c)}}function qA(t){t.exit("blockQuote")}const H0={name:"characterEscape",tokenize:YA};function YA(t,i,n){return a;function a(u){return t.enter("characterEscape"),t.enter("escapeMarker"),t.consume(u),t.exit("escapeMarker"),o}function o(u){return IA(u)?(t.enter("characterEscapeValue"),t.consume(u),t.exit("characterEscapeValue"),t.exit("characterEscape"),i):n(u)}}const G0={name:"characterReference",tokenize:KA};function KA(t,i,n){const a=this;let o=0,u,c;return d;function d(b){return t.enter("characterReference"),t.enter("characterReferenceMarker"),t.consume(b),t.exit("characterReferenceMarker"),p}function p(b){return b===35?(t.enter("characterReferenceMarkerNumeric"),t.consume(b),t.exit("characterReferenceMarkerNumeric"),f):(t.enter("characterReferenceValue"),u=31,c=Pt,v(b))}function f(b){return b===88||b===120?(t.enter("characterReferenceMarkerHexadecimal"),t.consume(b),t.exit("characterReferenceMarkerHexadecimal"),t.enter("characterReferenceValue"),u=6,c=RA,v):(t.enter("characterReferenceValue"),u=7,c=Mf,v(b))}function v(b){if(b===59&&o){const T=t.exit("characterReferenceValue");return c===Pt&&!Uf(a.sliceSerialize(T))?n(b):(t.enter("characterReferenceMarker"),t.consume(b),t.exit("characterReferenceMarker"),t.exit("characterReference"),i)}return c(b)&&o++<u?(t.consume(b),v):n(b)}}const gy={partial:!0,tokenize:XA},yy={concrete:!0,name:"codeFenced",tokenize:$A};function $A(t,i,n){const a=this,o={partial:!0,tokenize:Z};let u=0,c=0,d;return p;function p(q){return f(q)}function f(q){const Q=a.events[a.events.length-1];return u=Q&&Q[1].type==="linePrefix"?Q[2].sliceSerialize(Q[1],!0).length:0,d=q,t.enter("codeFenced"),t.enter("codeFencedFence"),t.enter("codeFencedFenceSequence"),v(q)}function v(q){return q===d?(c++,t.consume(q),v):c<3?n(q):(t.exit("codeFencedFenceSequence"),Pe(q)?Ue(t,b,"whitespace")(q):b(q))}function b(q){return q===null||Ce(q)?(t.exit("codeFencedFence"),a.interrupt?i(q):t.check(gy,N,X)(q)):(t.enter("codeFencedFenceInfo"),t.enter("chunkString",{contentType:"string"}),T(q))}function T(q){return q===null||Ce(q)?(t.exit("chunkString"),t.exit("codeFencedFenceInfo"),b(q)):Pe(q)?(t.exit("chunkString"),t.exit("codeFencedFenceInfo"),Ue(t,C,"whitespace")(q)):q===96&&q===d?n(q):(t.consume(q),T)}function C(q){return q===null||Ce(q)?b(q):(t.enter("codeFencedFenceMeta"),t.enter("chunkString",{contentType:"string"}),w(q))}function w(q){return q===null||Ce(q)?(t.exit("chunkString"),t.exit("codeFencedFenceMeta"),b(q)):q===96&&q===d?n(q):(t.consume(q),w)}function N(q){return t.attempt(o,X,B)(q)}function B(q){return t.enter("lineEnding"),t.consume(q),t.exit("lineEnding"),_}function _(q){return u>0&&Pe(q)?Ue(t,U,"linePrefix",u+1)(q):U(q)}function U(q){return q===null||Ce(q)?t.check(gy,N,X)(q):(t.enter("codeFlowValue"),j(q))}function j(q){return q===null||Ce(q)?(t.exit("codeFlowValue"),U(q)):(t.consume(q),j)}function X(q){return t.exit("codeFenced"),i(q)}function Z(q,Q,ae){let pe=0;return I;function I(me){return q.enter("lineEnding"),q.consume(me),q.exit("lineEnding"),ue}function ue(me){return q.enter("codeFencedFence"),Pe(me)?Ue(q,de,"linePrefix",a.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(me):de(me)}function de(me){return me===d?(q.enter("codeFencedFenceSequence"),te(me)):ae(me)}function te(me){return me===d?(pe++,q.consume(me),te):pe>=c?(q.exit("codeFencedFenceSequence"),Pe(me)?Ue(q,oe,"whitespace")(me):oe(me)):ae(me)}function oe(me){return me===null||Ce(me)?(q.exit("codeFencedFence"),Q(me)):ae(me)}}}function XA(t,i,n){const a=this;return o;function o(c){return c===null?n(c):(t.enter("lineEnding"),t.consume(c),t.exit("lineEnding"),u)}function u(c){return a.parser.lazy[a.now().line]?n(c):i(c)}}const Xc={name:"codeIndented",tokenize:JA},QA={partial:!0,tokenize:WA};function JA(t,i,n){const a=this;return o;function o(f){return t.enter("codeIndented"),Ue(t,u,"linePrefix",5)(f)}function u(f){const v=a.events[a.events.length-1];return v&&v[1].type==="linePrefix"&&v[2].sliceSerialize(v[1],!0).length>=4?c(f):n(f)}function c(f){return f===null?p(f):Ce(f)?t.attempt(QA,c,p)(f):(t.enter("codeFlowValue"),d(f))}function d(f){return f===null||Ce(f)?(t.exit("codeFlowValue"),c(f)):(t.consume(f),d)}function p(f){return t.exit("codeIndented"),i(f)}}function WA(t,i,n){const a=this;return o;function o(c){return a.parser.lazy[a.now().line]?n(c):Ce(c)?(t.enter("lineEnding"),t.consume(c),t.exit("lineEnding"),o):Ue(t,u,"linePrefix",5)(c)}function u(c){const d=a.events[a.events.length-1];return d&&d[1].type==="linePrefix"&&d[2].sliceSerialize(d[1],!0).length>=4?i(c):Ce(c)?o(c):n(c)}}const ZA={name:"codeText",previous:tw,resolve:ew,tokenize:nw};function ew(t){let i=t.length-4,n=3,a,o;if((t[n][1].type==="lineEnding"||t[n][1].type==="space")&&(t[i][1].type==="lineEnding"||t[i][1].type==="space")){for(a=n;++a<i;)if(t[a][1].type==="codeTextData"){t[n][1].type="codeTextPadding",t[i][1].type="codeTextPadding",n+=2,i-=2;break}}for(a=n-1,i++;++a<=i;)o===void 0?a!==i&&t[a][1].type!=="lineEnding"&&(o=a):(a===i||t[a][1].type==="lineEnding")&&(t[o][1].type="codeTextData",a!==o+2&&(t[o][1].end=t[a-1][1].end,t.splice(o+2,a-o-2),i-=a-o-2,a=o+2),o=void 0);return t}function tw(t){return t!==96||this.events[this.events.length-1][1].type==="characterEscape"}function nw(t,i,n){let a=0,o,u;return c;function c(b){return t.enter("codeText"),t.enter("codeTextSequence"),d(b)}function d(b){return b===96?(t.consume(b),a++,d):(t.exit("codeTextSequence"),p(b))}function p(b){return b===null?n(b):b===32?(t.enter("space"),t.consume(b),t.exit("space"),p):b===96?(u=t.enter("codeTextSequence"),o=0,v(b)):Ce(b)?(t.enter("lineEnding"),t.consume(b),t.exit("lineEnding"),p):(t.enter("codeTextData"),f(b))}function f(b){return b===null||b===32||b===96||Ce(b)?(t.exit("codeTextData"),p(b)):(t.consume(b),f)}function v(b){return b===96?(t.consume(b),o++,v):o===a?(t.exit("codeTextSequence"),t.exit("codeText"),i(b)):(u.type="codeTextData",f(b))}}class iw{constructor(i){this.left=i?[...i]:[],this.right=[]}get(i){if(i<0||i>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+i+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return i<this.left.length?this.left[i]:this.right[this.right.length-i+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(i,n){const a=n??Number.POSITIVE_INFINITY;return a<this.left.length?this.left.slice(i,a):i>this.left.length?this.right.slice(this.right.length-a+this.left.length,this.right.length-i+this.left.length).reverse():this.left.slice(i).concat(this.right.slice(this.right.length-a+this.left.length).reverse())}splice(i,n,a){const o=n||0;this.setCursor(Math.trunc(i));const u=this.right.splice(this.right.length-o,Number.POSITIVE_INFINITY);return a&&hl(this.left,a),u.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(i){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(i)}pushMany(i){this.setCursor(Number.POSITIVE_INFINITY),hl(this.left,i)}unshift(i){this.setCursor(0),this.right.push(i)}unshiftMany(i){this.setCursor(0),hl(this.right,i.reverse())}setCursor(i){if(!(i===this.left.length||i>this.left.length&&this.right.length===0||i<0&&this.left.length===0))if(i<this.left.length){const n=this.left.splice(i,Number.POSITIVE_INFINITY);hl(this.right,n.reverse())}else{const n=this.right.splice(this.left.length+this.right.length-i,Number.POSITIVE_INFINITY);hl(this.left,n.reverse())}}}function hl(t,i){let n=0;if(i.length<1e4)t.push(...i);else for(;n<i.length;)t.push(...i.slice(n,n+1e4)),n+=1e4}function q0(t){const i={};let n=-1,a,o,u,c,d,p,f;const v=new iw(t);for(;++n<v.length;){for(;n in i;)n=i[n];if(a=v.get(n),n&&a[1].type==="chunkFlow"&&v.get(n-1)[1].type==="listItemPrefix"&&(p=a[1]._tokenizer.events,u=0,u<p.length&&p[u][1].type==="lineEndingBlank"&&(u+=2),u<p.length&&p[u][1].type==="content"))for(;++u<p.length&&p[u][1].type!=="content";)p[u][1].type==="chunkText"&&(p[u][1]._isInFirstContentOfListItem=!0,u++);if(a[0]==="enter")a[1].contentType&&(Object.assign(i,rw(v,n)),n=i[n],f=!0);else if(a[1]._container){for(u=n,o=void 0;u--;)if(c=v.get(u),c[1].type==="lineEnding"||c[1].type==="lineEndingBlank")c[0]==="enter"&&(o&&(v.get(o)[1].type="lineEndingBlank"),c[1].type="lineEnding",o=u);else if(!(c[1].type==="linePrefix"||c[1].type==="listItemIndent"))break;o&&(a[1].end={...v.get(o)[1].start},d=v.slice(o,n),d.unshift(a),v.splice(o,n-o+1,d))}}return cn(t,0,Number.POSITIVE_INFINITY,v.slice(0)),!f}function rw(t,i){const n=t.get(i)[1],a=t.get(i)[2];let o=i-1;const u=[];let c=n._tokenizer;c||(c=a.parser[n.contentType](n.start),n._contentTypeTextTrailing&&(c._contentTypeTextTrailing=!0));const d=c.events,p=[],f={};let v,b,T=-1,C=n,w=0,N=0;const B=[N];for(;C;){for(;t.get(++o)[1]!==C;);u.push(o),C._tokenizer||(v=a.sliceStream(C),C.next||v.push(null),b&&c.defineSkip(C.start),C._isInFirstContentOfListItem&&(c._gfmTasklistFirstContentOfListItem=!0),c.write(v),C._isInFirstContentOfListItem&&(c._gfmTasklistFirstContentOfListItem=void 0)),b=C,C=C.next}for(C=n;++T<d.length;)d[T][0]==="exit"&&d[T-1][0]==="enter"&&d[T][1].type===d[T-1][1].type&&d[T][1].start.line!==d[T][1].end.line&&(N=T+1,B.push(N),C._tokenizer=void 0,C.previous=void 0,C=C.next);for(c.events=[],C?(C._tokenizer=void 0,C.previous=void 0):B.pop(),T=B.length;T--;){const _=d.slice(B[T],B[T+1]),U=u.pop();p.push([U,U+_.length-1]),t.splice(U,2,_)}for(p.reverse(),T=-1;++T<p.length;)f[w+p[T][0]]=w+p[T][1],w+=p[T][1]-p[T][0]-1;return f}const aw={resolve:ow,tokenize:sw},lw={partial:!0,tokenize:uw};function ow(t){return q0(t),t}function sw(t,i){let n;return a;function a(d){return t.enter("content"),n=t.enter("chunkContent",{contentType:"content"}),o(d)}function o(d){return d===null?u(d):Ce(d)?t.check(lw,c,u)(d):(t.consume(d),o)}function u(d){return t.exit("chunkContent"),t.exit("content"),i(d)}function c(d){return t.consume(d),t.exit("chunkContent"),n.next=t.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,o}}function uw(t,i,n){const a=this;return o;function o(c){return t.exit("chunkContent"),t.enter("lineEnding"),t.consume(c),t.exit("lineEnding"),Ue(t,u,"linePrefix")}function u(c){if(c===null||Ce(c))return n(c);const d=a.events[a.events.length-1];return!a.parser.constructs.disable.null.includes("codeIndented")&&d&&d[1].type==="linePrefix"&&d[2].sliceSerialize(d[1],!0).length>=4?i(c):t.interrupt(a.parser.constructs.flow,n,i)(c)}}function Y0(t,i,n,a,o,u,c,d,p){const f=p||Number.POSITIVE_INFINITY;let v=0;return b;function b(_){return _===60?(t.enter(a),t.enter(o),t.enter(u),t.consume(_),t.exit(u),T):_===null||_===32||_===41||gs(_)?n(_):(t.enter(a),t.enter(c),t.enter(d),t.enter("chunkString",{contentType:"string"}),N(_))}function T(_){return _===62?(t.enter(u),t.consume(_),t.exit(u),t.exit(o),t.exit(a),i):(t.enter(d),t.enter("chunkString",{contentType:"string"}),C(_))}function C(_){return _===62?(t.exit("chunkString"),t.exit(d),T(_)):_===null||_===60||Ce(_)?n(_):(t.consume(_),_===92?w:C)}function w(_){return _===60||_===62||_===92?(t.consume(_),C):C(_)}function N(_){return!v&&(_===null||_===41||et(_))?(t.exit("chunkString"),t.exit(d),t.exit(c),t.exit(a),i(_)):v<f&&_===40?(t.consume(_),v++,N):_===41?(t.consume(_),v--,N):_===null||_===32||_===40||gs(_)?n(_):(t.consume(_),_===92?B:N)}function B(_){return _===40||_===41||_===92?(t.consume(_),N):N(_)}}function K0(t,i,n,a,o,u){const c=this;let d=0,p;return f;function f(C){return t.enter(a),t.enter(o),t.consume(C),t.exit(o),t.enter(u),v}function v(C){return d>999||C===null||C===91||C===93&&!p||C===94&&!d&&"_hiddenFootnoteSupport"in c.parser.constructs?n(C):C===93?(t.exit(u),t.enter(o),t.consume(C),t.exit(o),t.exit(a),i):Ce(C)?(t.enter("lineEnding"),t.consume(C),t.exit("lineEnding"),v):(t.enter("chunkString",{contentType:"string"}),b(C))}function b(C){return C===null||C===91||C===93||Ce(C)||d++>999?(t.exit("chunkString"),v(C)):(t.consume(C),p||(p=!Pe(C)),C===92?T:b)}function T(C){return C===91||C===92||C===93?(t.consume(C),d++,b):b(C)}}function $0(t,i,n,a,o,u){let c;return d;function d(T){return T===34||T===39||T===40?(t.enter(a),t.enter(o),t.consume(T),t.exit(o),c=T===40?41:T,p):n(T)}function p(T){return T===c?(t.enter(o),t.consume(T),t.exit(o),t.exit(a),i):(t.enter(u),f(T))}function f(T){return T===c?(t.exit(u),p(c)):T===null?n(T):Ce(T)?(t.enter("lineEnding"),t.consume(T),t.exit("lineEnding"),Ue(t,f,"linePrefix")):(t.enter("chunkString",{contentType:"string"}),v(T))}function v(T){return T===c||T===null||Ce(T)?(t.exit("chunkString"),f(T)):(t.consume(T),T===92?b:v)}function b(T){return T===c||T===92?(t.consume(T),v):v(T)}}function Sl(t,i){let n;return a;function a(o){return Ce(o)?(t.enter("lineEnding"),t.consume(o),t.exit("lineEnding"),n=!0,a):Pe(o)?Ue(t,a,n?"linePrefix":"lineSuffix")(o):i(o)}}const cw={name:"definition",tokenize:dw},fw={partial:!0,tokenize:mw};function dw(t,i,n){const a=this;let o;return u;function u(C){return t.enter("definition"),c(C)}function c(C){return K0.call(a,t,d,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(C)}function d(C){return o=In(a.sliceSerialize(a.events[a.events.length-1][1]).slice(1,-1)),C===58?(t.enter("definitionMarker"),t.consume(C),t.exit("definitionMarker"),p):n(C)}function p(C){return et(C)?Sl(t,f)(C):f(C)}function f(C){return Y0(t,v,n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(C)}function v(C){return t.attempt(fw,b,b)(C)}function b(C){return Pe(C)?Ue(t,T,"whitespace")(C):T(C)}function T(C){return C===null||Ce(C)?(t.exit("definition"),a.parser.defined.push(o),i(C)):n(C)}}function mw(t,i,n){return a;function a(d){return et(d)?Sl(t,o)(d):n(d)}function o(d){return $0(t,u,n,"definitionTitle","definitionTitleMarker","definitionTitleString")(d)}function u(d){return Pe(d)?Ue(t,c,"whitespace")(d):c(d)}function c(d){return d===null||Ce(d)?i(d):n(d)}}const pw={name:"hardBreakEscape",tokenize:hw};function hw(t,i,n){return a;function a(u){return t.enter("hardBreakEscape"),t.consume(u),o}function o(u){return Ce(u)?(t.exit("hardBreakEscape"),i(u)):n(u)}}const gw={name:"headingAtx",resolve:yw,tokenize:xw};function yw(t,i){let n=t.length-2,a=3,o,u;return t[a][1].type==="whitespace"&&(a+=2),n-2>a&&t[n][1].type==="whitespace"&&(n-=2),t[n][1].type==="atxHeadingSequence"&&(a===n-1||n-4>a&&t[n-2][1].type==="whitespace")&&(n-=a+1===n?2:4),n>a&&(o={type:"atxHeadingText",start:t[a][1].start,end:t[n][1].end},u={type:"chunkText",start:t[a][1].start,end:t[n][1].end,contentType:"text"},cn(t,a,n-a+1,[["enter",o,i],["enter",u,i],["exit",u,i],["exit",o,i]])),t}function xw(t,i,n){let a=0;return o;function o(v){return t.enter("atxHeading"),u(v)}function u(v){return t.enter("atxHeadingSequence"),c(v)}function c(v){return v===35&&a++<6?(t.consume(v),c):v===null||et(v)?(t.exit("atxHeadingSequence"),d(v)):n(v)}function d(v){return v===35?(t.enter("atxHeadingSequence"),p(v)):v===null||Ce(v)?(t.exit("atxHeading"),i(v)):Pe(v)?Ue(t,d,"whitespace")(v):(t.enter("atxHeadingText"),f(v))}function p(v){return v===35?(t.consume(v),p):(t.exit("atxHeadingSequence"),d(v))}function f(v){return v===null||v===35||et(v)?(t.exit("atxHeadingText"),d(v)):(t.consume(v),f)}}const vw=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],xy=["pre","script","style","textarea"],bw={concrete:!0,name:"htmlFlow",resolveTo:Cw,tokenize:Ew},Tw={partial:!0,tokenize:Aw},Sw={partial:!0,tokenize:Mw};function Cw(t){let i=t.length;for(;i--&&!(t[i][0]==="enter"&&t[i][1].type==="htmlFlow"););return i>1&&t[i-2][1].type==="linePrefix"&&(t[i][1].start=t[i-2][1].start,t[i+1][1].start=t[i-2][1].start,t.splice(i-2,2)),t}function Ew(t,i,n){const a=this;let o,u,c,d,p;return f;function f(A){return v(A)}function v(A){return t.enter("htmlFlow"),t.enter("htmlFlowData"),t.consume(A),b}function b(A){return A===33?(t.consume(A),T):A===47?(t.consume(A),u=!0,N):A===63?(t.consume(A),o=3,a.interrupt?i:S):Ut(A)?(t.consume(A),c=String.fromCharCode(A),B):n(A)}function T(A){return A===45?(t.consume(A),o=2,C):A===91?(t.consume(A),o=5,d=0,w):Ut(A)?(t.consume(A),o=4,a.interrupt?i:S):n(A)}function C(A){return A===45?(t.consume(A),a.interrupt?i:S):n(A)}function w(A){const ne="CDATA[";return A===ne.charCodeAt(d++)?(t.consume(A),d===ne.length?a.interrupt?i:de:w):n(A)}function N(A){return Ut(A)?(t.consume(A),c=String.fromCharCode(A),B):n(A)}function B(A){if(A===null||A===47||A===62||et(A)){const ne=A===47,F=c.toLowerCase();return!ne&&!u&&xy.includes(F)?(o=1,a.interrupt?i(A):de(A)):vw.includes(c.toLowerCase())?(o=6,ne?(t.consume(A),_):a.interrupt?i(A):de(A)):(o=7,a.interrupt&&!a.parser.lazy[a.now().line]?n(A):u?U(A):j(A))}return A===45||Pt(A)?(t.consume(A),c+=String.fromCharCode(A),B):n(A)}function _(A){return A===62?(t.consume(A),a.interrupt?i:de):n(A)}function U(A){return Pe(A)?(t.consume(A),U):I(A)}function j(A){return A===47?(t.consume(A),I):A===58||A===95||Ut(A)?(t.consume(A),X):Pe(A)?(t.consume(A),j):I(A)}function X(A){return A===45||A===46||A===58||A===95||Pt(A)?(t.consume(A),X):Z(A)}function Z(A){return A===61?(t.consume(A),q):Pe(A)?(t.consume(A),Z):j(A)}function q(A){return A===null||A===60||A===61||A===62||A===96?n(A):A===34||A===39?(t.consume(A),p=A,Q):Pe(A)?(t.consume(A),q):ae(A)}function Q(A){return A===p?(t.consume(A),p=null,pe):A===null||Ce(A)?n(A):(t.consume(A),Q)}function ae(A){return A===null||A===34||A===39||A===47||A===60||A===61||A===62||A===96||et(A)?Z(A):(t.consume(A),ae)}function pe(A){return A===47||A===62||Pe(A)?j(A):n(A)}function I(A){return A===62?(t.consume(A),ue):n(A)}function ue(A){return A===null||Ce(A)?de(A):Pe(A)?(t.consume(A),ue):n(A)}function de(A){return A===45&&o===2?(t.consume(A),Y):A===60&&o===1?(t.consume(A),L):A===62&&o===4?(t.consume(A),O):A===63&&o===3?(t.consume(A),S):A===93&&o===5?(t.consume(A),k):Ce(A)&&(o===6||o===7)?(t.exit("htmlFlowData"),t.check(Tw,V,te)(A)):A===null||Ce(A)?(t.exit("htmlFlowData"),te(A)):(t.consume(A),de)}function te(A){return t.check(Sw,oe,V)(A)}function oe(A){return t.enter("lineEnding"),t.consume(A),t.exit("lineEnding"),me}function me(A){return A===null||Ce(A)?te(A):(t.enter("htmlFlowData"),de(A))}function Y(A){return A===45?(t.consume(A),S):de(A)}function L(A){return A===47?(t.consume(A),c="",D):de(A)}function D(A){if(A===62){const ne=c.toLowerCase();return xy.includes(ne)?(t.consume(A),O):de(A)}return Ut(A)&&c.length<8?(t.consume(A),c+=String.fromCharCode(A),D):de(A)}function k(A){return A===93?(t.consume(A),S):de(A)}function S(A){return A===62?(t.consume(A),O):A===45&&o===2?(t.consume(A),S):de(A)}function O(A){return A===null||Ce(A)?(t.exit("htmlFlowData"),V(A)):(t.consume(A),O)}function V(A){return t.exit("htmlFlow"),i(A)}}function Mw(t,i,n){const a=this;return o;function o(c){return Ce(c)?(t.enter("lineEnding"),t.consume(c),t.exit("lineEnding"),u):n(c)}function u(c){return a.parser.lazy[a.now().line]?n(c):i(c)}}function Aw(t,i,n){return a;function a(o){return t.enter("lineEnding"),t.consume(o),t.exit("lineEnding"),t.attempt(Rl,i,n)}}const ww={name:"htmlText",tokenize:Dw};function Dw(t,i,n){const a=this;let o,u,c;return d;function d(S){return t.enter("htmlText"),t.enter("htmlTextData"),t.consume(S),p}function p(S){return S===33?(t.consume(S),f):S===47?(t.consume(S),Z):S===63?(t.consume(S),j):Ut(S)?(t.consume(S),ae):n(S)}function f(S){return S===45?(t.consume(S),v):S===91?(t.consume(S),u=0,w):Ut(S)?(t.consume(S),U):n(S)}function v(S){return S===45?(t.consume(S),C):n(S)}function b(S){return S===null?n(S):S===45?(t.consume(S),T):Ce(S)?(c=b,L(S)):(t.consume(S),b)}function T(S){return S===45?(t.consume(S),C):b(S)}function C(S){return S===62?Y(S):S===45?T(S):b(S)}function w(S){const O="CDATA[";return S===O.charCodeAt(u++)?(t.consume(S),u===O.length?N:w):n(S)}function N(S){return S===null?n(S):S===93?(t.consume(S),B):Ce(S)?(c=N,L(S)):(t.consume(S),N)}function B(S){return S===93?(t.consume(S),_):N(S)}function _(S){return S===62?Y(S):S===93?(t.consume(S),_):N(S)}function U(S){return S===null||S===62?Y(S):Ce(S)?(c=U,L(S)):(t.consume(S),U)}function j(S){return S===null?n(S):S===63?(t.consume(S),X):Ce(S)?(c=j,L(S)):(t.consume(S),j)}function X(S){return S===62?Y(S):j(S)}function Z(S){return Ut(S)?(t.consume(S),q):n(S)}function q(S){return S===45||Pt(S)?(t.consume(S),q):Q(S)}function Q(S){return Ce(S)?(c=Q,L(S)):Pe(S)?(t.consume(S),Q):Y(S)}function ae(S){return S===45||Pt(S)?(t.consume(S),ae):S===47||S===62||et(S)?pe(S):n(S)}function pe(S){return S===47?(t.consume(S),Y):S===58||S===95||Ut(S)?(t.consume(S),I):Ce(S)?(c=pe,L(S)):Pe(S)?(t.consume(S),pe):Y(S)}function I(S){return S===45||S===46||S===58||S===95||Pt(S)?(t.consume(S),I):ue(S)}function ue(S){return S===61?(t.consume(S),de):Ce(S)?(c=ue,L(S)):Pe(S)?(t.consume(S),ue):pe(S)}function de(S){return S===null||S===60||S===61||S===62||S===96?n(S):S===34||S===39?(t.consume(S),o=S,te):Ce(S)?(c=de,L(S)):Pe(S)?(t.consume(S),de):(t.consume(S),oe)}function te(S){return S===o?(t.consume(S),o=void 0,me):S===null?n(S):Ce(S)?(c=te,L(S)):(t.consume(S),te)}function oe(S){return S===null||S===34||S===39||S===60||S===61||S===96?n(S):S===47||S===62||et(S)?pe(S):(t.consume(S),oe)}function me(S){return S===47||S===62||et(S)?pe(S):n(S)}function Y(S){return S===62?(t.consume(S),t.exit("htmlTextData"),t.exit("htmlText"),i):n(S)}function L(S){return t.exit("htmlTextData"),t.enter("lineEnding"),t.consume(S),t.exit("lineEnding"),D}function D(S){return Pe(S)?Ue(t,k,"linePrefix",a.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(S):k(S)}function k(S){return t.enter("htmlTextData"),c(S)}}const Hf={name:"labelEnd",resolveAll:Iw,resolveTo:_w,tokenize:Lw},kw={tokenize:Ow},Nw={tokenize:Fw},Rw={tokenize:Bw};function Iw(t){let i=-1;const n=[];for(;++i<t.length;){const a=t[i][1];if(n.push(t[i]),a.type==="labelImage"||a.type==="labelLink"||a.type==="labelEnd"){const o=a.type==="labelImage"?4:2;a.type="data",i+=o}}return t.length!==n.length&&cn(t,0,t.length,n),t}function _w(t,i){let n=t.length,a=0,o,u,c,d;for(;n--;)if(o=t[n][1],u){if(o.type==="link"||o.type==="labelLink"&&o._inactive)break;t[n][0]==="enter"&&o.type==="labelLink"&&(o._inactive=!0)}else if(c){if(t[n][0]==="enter"&&(o.type==="labelImage"||o.type==="labelLink")&&!o._balanced&&(u=n,o.type!=="labelLink")){a=2;break}}else o.type==="labelEnd"&&(c=n);const p={type:t[u][1].type==="labelLink"?"link":"image",start:{...t[u][1].start},end:{...t[t.length-1][1].end}},f={type:"label",start:{...t[u][1].start},end:{...t[c][1].end}},v={type:"labelText",start:{...t[u+a+2][1].end},end:{...t[c-2][1].start}};return d=[["enter",p,i],["enter",f,i]],d=En(d,t.slice(u+1,u+a+3)),d=En(d,[["enter",v,i]]),d=En(d,Es(i.parser.constructs.insideSpan.null,t.slice(u+a+4,c-3),i)),d=En(d,[["exit",v,i],t[c-2],t[c-1],["exit",f,i]]),d=En(d,t.slice(c+1)),d=En(d,[["exit",p,i]]),cn(t,u,t.length,d),t}function Lw(t,i,n){const a=this;let o=a.events.length,u,c;for(;o--;)if((a.events[o][1].type==="labelImage"||a.events[o][1].type==="labelLink")&&!a.events[o][1]._balanced){u=a.events[o][1];break}return d;function d(T){return u?u._inactive?b(T):(c=a.parser.defined.includes(In(a.sliceSerialize({start:u.end,end:a.now()}))),t.enter("labelEnd"),t.enter("labelMarker"),t.consume(T),t.exit("labelMarker"),t.exit("labelEnd"),p):n(T)}function p(T){return T===40?t.attempt(kw,v,c?v:b)(T):T===91?t.attempt(Nw,v,c?f:b)(T):c?v(T):b(T)}function f(T){return t.attempt(Rw,v,b)(T)}function v(T){return i(T)}function b(T){return u._balanced=!0,n(T)}}function Ow(t,i,n){return a;function a(b){return t.enter("resource"),t.enter("resourceMarker"),t.consume(b),t.exit("resourceMarker"),o}function o(b){return et(b)?Sl(t,u)(b):u(b)}function u(b){return b===41?v(b):Y0(t,c,d,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(b)}function c(b){return et(b)?Sl(t,p)(b):v(b)}function d(b){return n(b)}function p(b){return b===34||b===39||b===40?$0(t,f,n,"resourceTitle","resourceTitleMarker","resourceTitleString")(b):v(b)}function f(b){return et(b)?Sl(t,v)(b):v(b)}function v(b){return b===41?(t.enter("resourceMarker"),t.consume(b),t.exit("resourceMarker"),t.exit("resource"),i):n(b)}}function Fw(t,i,n){const a=this;return o;function o(d){return K0.call(a,t,u,c,"reference","referenceMarker","referenceString")(d)}function u(d){return a.parser.defined.includes(In(a.sliceSerialize(a.events[a.events.length-1][1]).slice(1,-1)))?i(d):n(d)}function c(d){return n(d)}}function Bw(t,i,n){return a;function a(u){return t.enter("reference"),t.enter("referenceMarker"),t.consume(u),t.exit("referenceMarker"),o}function o(u){return u===93?(t.enter("referenceMarker"),t.consume(u),t.exit("referenceMarker"),t.exit("reference"),i):n(u)}}const Pw={name:"labelStartImage",resolveAll:Hf.resolveAll,tokenize:zw};function zw(t,i,n){const a=this;return o;function o(d){return t.enter("labelImage"),t.enter("labelImageMarker"),t.consume(d),t.exit("labelImageMarker"),u}function u(d){return d===91?(t.enter("labelMarker"),t.consume(d),t.exit("labelMarker"),t.exit("labelImage"),c):n(d)}function c(d){return d===94&&"_hiddenFootnoteSupport"in a.parser.constructs?n(d):i(d)}}const Vw={name:"labelStartLink",resolveAll:Hf.resolveAll,tokenize:jw};function jw(t,i,n){const a=this;return o;function o(c){return t.enter("labelLink"),t.enter("labelMarker"),t.consume(c),t.exit("labelMarker"),t.exit("labelLink"),u}function u(c){return c===94&&"_hiddenFootnoteSupport"in a.parser.constructs?n(c):i(c)}}const Qc={name:"lineEnding",tokenize:Uw};function Uw(t,i){return n;function n(a){return t.enter("lineEnding"),t.consume(a),t.exit("lineEnding"),Ue(t,i,"linePrefix")}}const ss={name:"thematicBreak",tokenize:Hw};function Hw(t,i,n){let a=0,o;return u;function u(f){return t.enter("thematicBreak"),c(f)}function c(f){return o=f,d(f)}function d(f){return f===o?(t.enter("thematicBreakSequence"),p(f)):a>=3&&(f===null||Ce(f))?(t.exit("thematicBreak"),i(f)):n(f)}function p(f){return f===o?(t.consume(f),a++,p):(t.exit("thematicBreakSequence"),Pe(f)?Ue(t,d,"whitespace")(f):d(f))}}const Xt={continuation:{tokenize:Kw},exit:Xw,name:"list",tokenize:Yw},Gw={partial:!0,tokenize:Qw},qw={partial:!0,tokenize:$w};function Yw(t,i,n){const a=this,o=a.events[a.events.length-1];let u=o&&o[1].type==="linePrefix"?o[2].sliceSerialize(o[1],!0).length:0,c=0;return d;function d(C){const w=a.containerState.type||(C===42||C===43||C===45?"listUnordered":"listOrdered");if(w==="listUnordered"?!a.containerState.marker||C===a.containerState.marker:Mf(C)){if(a.containerState.type||(a.containerState.type=w,t.enter(w,{_container:!0})),w==="listUnordered")return t.enter("listItemPrefix"),C===42||C===45?t.check(ss,n,f)(C):f(C);if(!a.interrupt||C===49)return t.enter("listItemPrefix"),t.enter("listItemValue"),p(C)}return n(C)}function p(C){return Mf(C)&&++c<10?(t.consume(C),p):(!a.interrupt||c<2)&&(a.containerState.marker?C===a.containerState.marker:C===41||C===46)?(t.exit("listItemValue"),f(C)):n(C)}function f(C){return t.enter("listItemMarker"),t.consume(C),t.exit("listItemMarker"),a.containerState.marker=a.containerState.marker||C,t.check(Rl,a.interrupt?n:v,t.attempt(Gw,T,b))}function v(C){return a.containerState.initialBlankLine=!0,u++,T(C)}function b(C){return Pe(C)?(t.enter("listItemPrefixWhitespace"),t.consume(C),t.exit("listItemPrefixWhitespace"),T):n(C)}function T(C){return a.containerState.size=u+a.sliceSerialize(t.exit("listItemPrefix"),!0).length,i(C)}}function Kw(t,i,n){const a=this;return a.containerState._closeFlow=void 0,t.check(Rl,o,u);function o(d){return a.containerState.furtherBlankLines=a.containerState.furtherBlankLines||a.containerState.initialBlankLine,Ue(t,i,"listItemIndent",a.containerState.size+1)(d)}function u(d){return a.containerState.furtherBlankLines||!Pe(d)?(a.containerState.furtherBlankLines=void 0,a.containerState.initialBlankLine=void 0,c(d)):(a.containerState.furtherBlankLines=void 0,a.containerState.initialBlankLine=void 0,t.attempt(qw,i,c)(d))}function c(d){return a.containerState._closeFlow=!0,a.interrupt=void 0,Ue(t,t.attempt(Xt,i,n),"linePrefix",a.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(d)}}function $w(t,i,n){const a=this;return Ue(t,o,"listItemIndent",a.containerState.size+1);function o(u){const c=a.events[a.events.length-1];return c&&c[1].type==="listItemIndent"&&c[2].sliceSerialize(c[1],!0).length===a.containerState.size?i(u):n(u)}}function Xw(t){t.exit(this.containerState.type)}function Qw(t,i,n){const a=this;return Ue(t,o,"listItemPrefixWhitespace",a.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function o(u){const c=a.events[a.events.length-1];return!Pe(u)&&c&&c[1].type==="listItemPrefixWhitespace"?i(u):n(u)}}const vy={name:"setextUnderline",resolveTo:Jw,tokenize:Ww};function Jw(t,i){let n=t.length,a,o,u;for(;n--;)if(t[n][0]==="enter"){if(t[n][1].type==="content"){a=n;break}t[n][1].type==="paragraph"&&(o=n)}else t[n][1].type==="content"&&t.splice(n,1),!u&&t[n][1].type==="definition"&&(u=n);const c={type:"setextHeading",start:{...t[a][1].start},end:{...t[t.length-1][1].end}};return t[o][1].type="setextHeadingText",u?(t.splice(o,0,["enter",c,i]),t.splice(u+1,0,["exit",t[a][1],i]),t[a][1].end={...t[u][1].end}):t[a][1]=c,t.push(["exit",c,i]),t}function Ww(t,i,n){const a=this;let o;return u;function u(f){let v=a.events.length,b;for(;v--;)if(a.events[v][1].type!=="lineEnding"&&a.events[v][1].type!=="linePrefix"&&a.events[v][1].type!=="content"){b=a.events[v][1].type==="paragraph";break}return!a.parser.lazy[a.now().line]&&(a.interrupt||b)?(t.enter("setextHeadingLine"),o=f,c(f)):n(f)}function c(f){return t.enter("setextHeadingLineSequence"),d(f)}function d(f){return f===o?(t.consume(f),d):(t.exit("setextHeadingLineSequence"),Pe(f)?Ue(t,p,"lineSuffix")(f):p(f))}function p(f){return f===null||Ce(f)?(t.exit("setextHeadingLine"),i(f)):n(f)}}const Zw={tokenize:eD};function eD(t){const i=this,n=t.attempt(Rl,a,t.attempt(this.parser.constructs.flowInitial,o,Ue(t,t.attempt(this.parser.constructs.flow,o,t.attempt(aw,o)),"linePrefix")));return n;function a(u){if(u===null){t.consume(u);return}return t.enter("lineEndingBlank"),t.consume(u),t.exit("lineEndingBlank"),i.currentConstruct=void 0,n}function o(u){if(u===null){t.consume(u);return}return t.enter("lineEnding"),t.consume(u),t.exit("lineEnding"),i.currentConstruct=void 0,n}}const tD={resolveAll:Q0()},nD=X0("string"),iD=X0("text");function X0(t){return{resolveAll:Q0(t==="text"?rD:void 0),tokenize:i};function i(n){const a=this,o=this.parser.constructs[t],u=n.attempt(o,c,d);return c;function c(v){return f(v)?u(v):d(v)}function d(v){if(v===null){n.consume(v);return}return n.enter("data"),n.consume(v),p}function p(v){return f(v)?(n.exit("data"),u(v)):(n.consume(v),p)}function f(v){if(v===null)return!0;const b=o[v];let T=-1;if(b)for(;++T<b.length;){const C=b[T];if(!C.previous||C.previous.call(a,a.previous))return!0}return!1}}}function Q0(t){return i;function i(n,a){let o=-1,u;for(;++o<=n.length;)u===void 0?n[o]&&n[o][1].type==="data"&&(u=o,o++):(!n[o]||n[o][1].type!=="data")&&(o!==u+2&&(n[u][1].end=n[o-1][1].end,n.splice(u+2,o-u-2),o=u+2),u=void 0);return t?t(n,a):n}}function rD(t,i){let n=0;for(;++n<=t.length;)if((n===t.length||t[n][1].type==="lineEnding")&&t[n-1][1].type==="data"){const a=t[n-1][1],o=i.sliceStream(a);let u=o.length,c=-1,d=0,p;for(;u--;){const f=o[u];if(typeof f=="string"){for(c=f.length;f.charCodeAt(c-1)===32;)d++,c--;if(c)break;c=-1}else if(f===-2)p=!0,d++;else if(f!==-1){u++;break}}if(i._contentTypeTextTrailing&&n===t.length&&(d=0),d){const f={type:n===t.length||p||d<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:u?c:a.start._bufferIndex+c,_index:a.start._index+u,line:a.end.line,column:a.end.column-d,offset:a.end.offset-d},end:{...a.end}};a.end={...f.start},a.start.offset===a.end.offset?Object.assign(a,f):(t.splice(n,0,["enter",f,i],["exit",f,i]),n+=2)}n++}return t}const aD={42:Xt,43:Xt,45:Xt,48:Xt,49:Xt,50:Xt,51:Xt,52:Xt,53:Xt,54:Xt,55:Xt,56:Xt,57:Xt,62:U0},lD={91:cw},oD={[-2]:Xc,[-1]:Xc,32:Xc},sD={35:gw,42:ss,45:[vy,ss],60:bw,61:vy,95:ss,96:yy,126:yy},uD={38:G0,92:H0},cD={[-5]:Qc,[-4]:Qc,[-3]:Qc,33:Pw,38:G0,42:Af,60:[VA,ww],91:Vw,92:[pw,H0],93:Hf,95:Af,96:ZA},fD={null:[Af,tD]},dD={null:[42,95]},mD={null:[]},pD=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:dD,contentInitial:lD,disable:mD,document:aD,flow:sD,flowInitial:oD,insideSpan:fD,string:uD,text:cD},Symbol.toStringTag,{value:"Module"}));function hD(t,i,n){let a={_bufferIndex:-1,_index:0,line:n&&n.line||1,column:n&&n.column||1,offset:n&&n.offset||0};const o={},u=[];let c=[],d=[];const p={attempt:Q(Z),check:Q(q),consume:U,enter:j,exit:X,interrupt:Q(q,{interrupt:!0})},f={code:null,containerState:{},defineSkip:N,events:[],now:w,parser:t,previous:null,sliceSerialize:T,sliceStream:C,write:b};let v=i.tokenize.call(f,p);return i.resolveAll&&u.push(i),f;function b(ue){return c=En(c,ue),B(),c[c.length-1]!==null?[]:(ae(i,0),f.events=Es(u,f.events,f),f.events)}function T(ue,de){return yD(C(ue),de)}function C(ue){return gD(c,ue)}function w(){const{_bufferIndex:ue,_index:de,line:te,column:oe,offset:me}=a;return{_bufferIndex:ue,_index:de,line:te,column:oe,offset:me}}function N(ue){o[ue.line]=ue.column,I()}function B(){let ue;for(;a._index<c.length;){const de=c[a._index];if(typeof de=="string")for(ue=a._index,a._bufferIndex<0&&(a._bufferIndex=0);a._index===ue&&a._bufferIndex<de.length;)_(de.charCodeAt(a._bufferIndex));else _(de)}}function _(ue){v=v(ue)}function U(ue){Ce(ue)?(a.line++,a.column=1,a.offset+=ue===-3?2:1,I()):ue!==-1&&(a.column++,a.offset++),a._bufferIndex<0?a._index++:(a._bufferIndex++,a._bufferIndex===c[a._index].length&&(a._bufferIndex=-1,a._index++)),f.previous=ue}function j(ue,de){const te=de||{};return te.type=ue,te.start=w(),f.events.push(["enter",te,f]),d.push(te),te}function X(ue){const de=d.pop();return de.end=w(),f.events.push(["exit",de,f]),de}function Z(ue,de){ae(ue,de.from)}function q(ue,de){de.restore()}function Q(ue,de){return te;function te(oe,me,Y){let L,D,k,S;return Array.isArray(oe)?V(oe):"tokenize"in oe?V([oe]):O(oe);function O(ie){return ge;function ge(se){const Se=se!==null&&ie[se],we=se!==null&&ie.null,Ie=[...Array.isArray(Se)?Se:Se?[Se]:[],...Array.isArray(we)?we:we?[we]:[]];return V(Ie)(se)}}function V(ie){return L=ie,D=0,ie.length===0?Y:A(ie[D])}function A(ie){return ge;function ge(se){return S=pe(),k=ie,ie.partial||(f.currentConstruct=ie),ie.name&&f.parser.constructs.disable.null.includes(ie.name)?F():ie.tokenize.call(de?Object.assign(Object.create(f),de):f,p,ne,F)(se)}}function ne(ie){return ue(k,S),me}function F(ie){return S.restore(),++D<L.length?A(L[D]):Y}}}function ae(ue,de){ue.resolveAll&&!u.includes(ue)&&u.push(ue),ue.resolve&&cn(f.events,de,f.events.length-de,ue.resolve(f.events.slice(de),f)),ue.resolveTo&&(f.events=ue.resolveTo(f.events,f))}function pe(){const ue=w(),de=f.previous,te=f.currentConstruct,oe=f.events.length,me=Array.from(d);return{from:oe,restore:Y};function Y(){a=ue,f.previous=de,f.currentConstruct=te,f.events.length=oe,d=me,I()}}function I(){a.line in o&&a.column<2&&(a.column=o[a.line],a.offset+=o[a.line]-1)}}function gD(t,i){const n=i.start._index,a=i.start._bufferIndex,o=i.end._index,u=i.end._bufferIndex;let c;if(n===o)c=[t[n].slice(a,u)];else{if(c=t.slice(n,o),a>-1){const d=c[0];typeof d=="string"?c[0]=d.slice(a):c.shift()}u>0&&c.push(t[o].slice(0,u))}return c}function yD(t,i){let n=-1;const a=[];let o;for(;++n<t.length;){const u=t[n];let c;if(typeof u=="string")c=u;else switch(u){case-5:{c="\r";break}case-4:{c=`
`;break}case-3:{c=`\r
`;break}case-2:{c=i?" ":"	";break}case-1:{if(!i&&o)continue;c=" ";break}default:c=String.fromCharCode(u)}o=u===-2,a.push(c)}return a.join("")}function xD(t){const a={constructs:V0([pD,...(t||{}).extensions||[]]),content:o(_A),defined:[],document:o(OA),flow:o(Zw),lazy:{},string:o(nD),text:o(iD)};return a;function o(u){return c;function c(d){return hD(a,u,d)}}}function vD(t){for(;!q0(t););return t}const by=/[\0\t\n\r]/g;function bD(){let t=1,i="",n=!0,a;return o;function o(u,c,d){const p=[];let f,v,b,T,C;for(u=i+(typeof u=="string"?u.toString():new TextDecoder(c||void 0).decode(u)),b=0,i="",n&&(u.charCodeAt(0)===65279&&b++,n=void 0);b<u.length;){if(by.lastIndex=b,f=by.exec(u),T=f&&f.index!==void 0?f.index:u.length,C=u.charCodeAt(T),!f){i=u.slice(b);break}if(C===10&&b===T&&a)p.push(-3),a=void 0;else switch(a&&(p.push(-5),a=void 0),b<T&&(p.push(u.slice(b,T)),t+=T-b),C){case 0:{p.push(65533),t++;break}case 9:{for(v=Math.ceil(t/4)*4,p.push(-2);t++<v;)p.push(-1);break}case 10:{p.push(-4),t=1;break}default:a=!0,t=1}b=T+1}return d&&(a&&p.push(-5),i&&p.push(i),p.push(null)),p}}const TD=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function SD(t){return t.replace(TD,CD)}function CD(t,i,n){if(i)return i;if(n.charCodeAt(0)===35){const o=n.charCodeAt(1),u=o===120||o===88;return j0(n.slice(u?2:1),u?16:10)}return Uf(n)||t}const J0={}.hasOwnProperty;function ED(t,i,n){return typeof i!="string"&&(n=i,i=void 0),MD(n)(vD(xD(n).document().write(bD()(t,i,!0))))}function MD(t){const i={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:u(vt),autolinkProtocol:pe,autolinkEmail:pe,atxHeading:u(St),blockQuote:u(we),characterEscape:pe,characterReference:pe,codeFenced:u(Ie),codeFencedFenceInfo:c,codeFencedFenceMeta:c,codeIndented:u(Ie,c),codeText:u(ze,c),codeTextData:pe,data:pe,codeFlowValue:pe,definition:u(tt),definitionDestinationString:c,definitionLabelString:c,definitionTitleString:c,emphasis:u(rt),hardBreakEscape:u(Wt),hardBreakTrailing:u(Wt),htmlFlow:u(Nt,c),htmlFlowData:pe,htmlText:u(Nt,c),htmlTextData:pe,image:u(pr),label:c,link:u(vt),listItem:u(Un),listItemValue:T,listOrdered:u(jn,b),listUnordered:u(jn),paragraph:u(hr),reference:A,referenceString:c,resourceDestinationString:c,resourceTitleString:c,setextHeading:u(St),strong:u(gr),thematicBreak:u(ji)},exit:{atxHeading:p(),atxHeadingSequence:Z,autolink:p(),autolinkEmail:Se,autolinkProtocol:se,blockQuote:p(),characterEscapeValue:I,characterReferenceMarkerHexadecimal:F,characterReferenceMarkerNumeric:F,characterReferenceValue:ie,characterReference:ge,codeFenced:p(B),codeFencedFence:N,codeFencedFenceInfo:C,codeFencedFenceMeta:w,codeFlowValue:I,codeIndented:p(_),codeText:p(me),codeTextData:I,data:I,definition:p(),definitionDestinationString:X,definitionLabelString:U,definitionTitleString:j,emphasis:p(),hardBreakEscape:p(de),hardBreakTrailing:p(de),htmlFlow:p(te),htmlFlowData:I,htmlText:p(oe),htmlTextData:I,image:p(L),label:k,labelText:D,lineEnding:ue,link:p(Y),listItem:p(),listOrdered:p(),listUnordered:p(),paragraph:p(),referenceString:ne,resourceDestinationString:S,resourceTitleString:O,resource:V,setextHeading:p(ae),setextHeadingLineSequence:Q,setextHeadingText:q,strong:p(),thematicBreak:p()}};W0(i,(t||{}).mdastExtensions||[]);const n={};return a;function a(W){let ce={type:"root",children:[]};const Te={stack:[ce],tokenStack:[],config:i,enter:d,exit:f,buffer:c,resume:v,data:n},Ee=[];let qe=-1;for(;++qe<W.length;)if(W[qe][1].type==="listOrdered"||W[qe][1].type==="listUnordered")if(W[qe][0]==="enter")Ee.push(qe);else{const Rt=Ee.pop();qe=o(W,Rt,qe)}for(qe=-1;++qe<W.length;){const Rt=i[W[qe][0]];J0.call(Rt,W[qe][1].type)&&Rt[W[qe][1].type].call(Object.assign({sliceSerialize:W[qe][2].sliceSerialize},Te),W[qe][1])}if(Te.tokenStack.length>0){const Rt=Te.tokenStack[Te.tokenStack.length-1];(Rt[1]||Ty).call(Te,void 0,Rt[0])}for(ce.position={start:_i(W.length>0?W[0][1].start:{line:1,column:1,offset:0}),end:_i(W.length>0?W[W.length-2][1].end:{line:1,column:1,offset:0})},qe=-1;++qe<i.transforms.length;)ce=i.transforms[qe](ce)||ce;return ce}function o(W,ce,Te){let Ee=ce-1,qe=-1,Rt=!1,Mn,It,fn,Vt;for(;++Ee<=Te;){const ft=W[Ee];switch(ft[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{ft[0]==="enter"?qe++:qe--,Vt=void 0;break}case"lineEndingBlank":{ft[0]==="enter"&&(Mn&&!Vt&&!qe&&!fn&&(fn=Ee),Vt=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:Vt=void 0}if(!qe&&ft[0]==="enter"&&ft[1].type==="listItemPrefix"||qe===-1&&ft[0]==="exit"&&(ft[1].type==="listUnordered"||ft[1].type==="listOrdered")){if(Mn){let Ht=Ee;for(It=void 0;Ht--;){const Zt=W[Ht];if(Zt[1].type==="lineEnding"||Zt[1].type==="lineEndingBlank"){if(Zt[0]==="exit")continue;It&&(W[It][1].type="lineEndingBlank",Rt=!0),Zt[1].type="lineEnding",It=Ht}else if(!(Zt[1].type==="linePrefix"||Zt[1].type==="blockQuotePrefix"||Zt[1].type==="blockQuotePrefixWhitespace"||Zt[1].type==="blockQuoteMarker"||Zt[1].type==="listItemIndent"))break}fn&&(!It||fn<It)&&(Mn._spread=!0),Mn.end=Object.assign({},It?W[It][1].start:ft[1].end),W.splice(It||Ee,0,["exit",Mn,ft[2]]),Ee++,Te++}if(ft[1].type==="listItemPrefix"){const Ht={type:"listItem",_spread:!1,start:Object.assign({},ft[1].start),end:void 0};Mn=Ht,W.splice(Ee,0,["enter",Ht,ft[2]]),Ee++,Te++,fn=void 0,Vt=!0}}}return W[ce][1]._spread=Rt,Te}function u(W,ce){return Te;function Te(Ee){d.call(this,W(Ee),Ee),ce&&ce.call(this,Ee)}}function c(){this.stack.push({type:"fragment",children:[]})}function d(W,ce,Te){this.stack[this.stack.length-1].children.push(W),this.stack.push(W),this.tokenStack.push([ce,Te||void 0]),W.position={start:_i(ce.start),end:void 0}}function p(W){return ce;function ce(Te){W&&W.call(this,Te),f.call(this,Te)}}function f(W,ce){const Te=this.stack.pop(),Ee=this.tokenStack.pop();if(Ee)Ee[0].type!==W.type&&(ce?ce.call(this,W,Ee[0]):(Ee[1]||Ty).call(this,W,Ee[0]));else throw new Error("Cannot close `"+W.type+"` ("+Tl({start:W.start,end:W.end})+"): its not open");Te.position.end=_i(W.end)}function v(){return jf(this.stack.pop())}function b(){this.data.expectingFirstListItemValue=!0}function T(W){if(this.data.expectingFirstListItemValue){const ce=this.stack[this.stack.length-2];ce.start=Number.parseInt(this.sliceSerialize(W),10),this.data.expectingFirstListItemValue=void 0}}function C(){const W=this.resume(),ce=this.stack[this.stack.length-1];ce.lang=W}function w(){const W=this.resume(),ce=this.stack[this.stack.length-1];ce.meta=W}function N(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function B(){const W=this.resume(),ce=this.stack[this.stack.length-1];ce.value=W.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function _(){const W=this.resume(),ce=this.stack[this.stack.length-1];ce.value=W.replace(/(\r?\n|\r)$/g,"")}function U(W){const ce=this.resume(),Te=this.stack[this.stack.length-1];Te.label=ce,Te.identifier=In(this.sliceSerialize(W)).toLowerCase()}function j(){const W=this.resume(),ce=this.stack[this.stack.length-1];ce.title=W}function X(){const W=this.resume(),ce=this.stack[this.stack.length-1];ce.url=W}function Z(W){const ce=this.stack[this.stack.length-1];if(!ce.depth){const Te=this.sliceSerialize(W).length;ce.depth=Te}}function q(){this.data.setextHeadingSlurpLineEnding=!0}function Q(W){const ce=this.stack[this.stack.length-1];ce.depth=this.sliceSerialize(W).codePointAt(0)===61?1:2}function ae(){this.data.setextHeadingSlurpLineEnding=void 0}function pe(W){const Te=this.stack[this.stack.length-1].children;let Ee=Te[Te.length-1];(!Ee||Ee.type!=="text")&&(Ee=yr(),Ee.position={start:_i(W.start),end:void 0},Te.push(Ee)),this.stack.push(Ee)}function I(W){const ce=this.stack.pop();ce.value+=this.sliceSerialize(W),ce.position.end=_i(W.end)}function ue(W){const ce=this.stack[this.stack.length-1];if(this.data.atHardBreak){const Te=ce.children[ce.children.length-1];Te.position.end=_i(W.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&i.canContainEols.includes(ce.type)&&(pe.call(this,W),I.call(this,W))}function de(){this.data.atHardBreak=!0}function te(){const W=this.resume(),ce=this.stack[this.stack.length-1];ce.value=W}function oe(){const W=this.resume(),ce=this.stack[this.stack.length-1];ce.value=W}function me(){const W=this.resume(),ce=this.stack[this.stack.length-1];ce.value=W}function Y(){const W=this.stack[this.stack.length-1];if(this.data.inReference){const ce=this.data.referenceType||"shortcut";W.type+="Reference",W.referenceType=ce,delete W.url,delete W.title}else delete W.identifier,delete W.label;this.data.referenceType=void 0}function L(){const W=this.stack[this.stack.length-1];if(this.data.inReference){const ce=this.data.referenceType||"shortcut";W.type+="Reference",W.referenceType=ce,delete W.url,delete W.title}else delete W.identifier,delete W.label;this.data.referenceType=void 0}function D(W){const ce=this.sliceSerialize(W),Te=this.stack[this.stack.length-2];Te.label=SD(ce),Te.identifier=In(ce).toLowerCase()}function k(){const W=this.stack[this.stack.length-1],ce=this.resume(),Te=this.stack[this.stack.length-1];if(this.data.inReference=!0,Te.type==="link"){const Ee=W.children;Te.children=Ee}else Te.alt=ce}function S(){const W=this.resume(),ce=this.stack[this.stack.length-1];ce.url=W}function O(){const W=this.resume(),ce=this.stack[this.stack.length-1];ce.title=W}function V(){this.data.inReference=void 0}function A(){this.data.referenceType="collapsed"}function ne(W){const ce=this.resume(),Te=this.stack[this.stack.length-1];Te.label=ce,Te.identifier=In(this.sliceSerialize(W)).toLowerCase(),this.data.referenceType="full"}function F(W){this.data.characterReferenceType=W.type}function ie(W){const ce=this.sliceSerialize(W),Te=this.data.characterReferenceType;let Ee;Te?(Ee=j0(ce,Te==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):Ee=Uf(ce);const qe=this.stack[this.stack.length-1];qe.value+=Ee}function ge(W){const ce=this.stack.pop();ce.position.end=_i(W.end)}function se(W){I.call(this,W);const ce=this.stack[this.stack.length-1];ce.url=this.sliceSerialize(W)}function Se(W){I.call(this,W);const ce=this.stack[this.stack.length-1];ce.url="mailto:"+this.sliceSerialize(W)}function we(){return{type:"blockquote",children:[]}}function Ie(){return{type:"code",lang:null,meta:null,value:""}}function ze(){return{type:"inlineCode",value:""}}function tt(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function rt(){return{type:"emphasis",children:[]}}function St(){return{type:"heading",depth:0,children:[]}}function Wt(){return{type:"break"}}function Nt(){return{type:"html",value:""}}function pr(){return{type:"image",title:null,url:"",alt:null}}function vt(){return{type:"link",title:null,url:"",children:[]}}function jn(W){return{type:"list",ordered:W.type==="listOrdered",start:null,spread:W._spread,children:[]}}function Un(W){return{type:"listItem",spread:W._spread,checked:null,children:[]}}function hr(){return{type:"paragraph",children:[]}}function gr(){return{type:"strong",children:[]}}function yr(){return{type:"text",value:""}}function ji(){return{type:"thematicBreak"}}}function _i(t){return{line:t.line,column:t.column,offset:t.offset}}function W0(t,i){let n=-1;for(;++n<i.length;){const a=i[n];Array.isArray(a)?W0(t,a):AD(t,a)}}function AD(t,i){let n;for(n in i)if(J0.call(i,n))switch(n){case"canContainEols":{const a=i[n];a&&t[n].push(...a);break}case"transforms":{const a=i[n];a&&t[n].push(...a);break}case"enter":case"exit":{const a=i[n];a&&Object.assign(t[n],a);break}}}function Ty(t,i){throw t?new Error("Cannot close `"+t.type+"` ("+Tl({start:t.start,end:t.end})+"): a different token (`"+i.type+"`, "+Tl({start:i.start,end:i.end})+") is open"):new Error("Cannot close document, a token (`"+i.type+"`, "+Tl({start:i.start,end:i.end})+") is still open")}function wD(t){const i=this;i.parser=n;function n(a){return ED(a,{...i.data("settings"),...t,extensions:i.data("micromarkExtensions")||[],mdastExtensions:i.data("fromMarkdownExtensions")||[]})}}function DD(t,i){const n={type:"element",tagName:"blockquote",properties:{},children:t.wrap(t.all(i),!0)};return t.patch(i,n),t.applyData(i,n)}function kD(t,i){const n={type:"element",tagName:"br",properties:{},children:[]};return t.patch(i,n),[t.applyData(i,n),{type:"text",value:`
`}]}function ND(t,i){const n=i.value?i.value+`
`:"",a={};i.lang&&(a.className=["language-"+i.lang]);let o={type:"element",tagName:"code",properties:a,children:[{type:"text",value:n}]};return i.meta&&(o.data={meta:i.meta}),t.patch(i,o),o=t.applyData(i,o),o={type:"element",tagName:"pre",properties:{},children:[o]},t.patch(i,o),o}function RD(t,i){const n={type:"element",tagName:"del",properties:{},children:t.all(i)};return t.patch(i,n),t.applyData(i,n)}function ID(t,i){const n={type:"element",tagName:"em",properties:{},children:t.all(i)};return t.patch(i,n),t.applyData(i,n)}function _D(t,i){const n=typeof t.options.clobberPrefix=="string"?t.options.clobberPrefix:"user-content-",a=String(i.identifier).toUpperCase(),o=ca(a.toLowerCase()),u=t.footnoteOrder.indexOf(a);let c,d=t.footnoteCounts.get(a);d===void 0?(d=0,t.footnoteOrder.push(a),c=t.footnoteOrder.length):c=u+1,d+=1,t.footnoteCounts.set(a,d);const p={type:"element",tagName:"a",properties:{href:"#"+n+"fn-"+o,id:n+"fnref-"+o+(d>1?"-"+d:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(c)}]};t.patch(i,p);const f={type:"element",tagName:"sup",properties:{},children:[p]};return t.patch(i,f),t.applyData(i,f)}function LD(t,i){const n={type:"element",tagName:"h"+i.depth,properties:{},children:t.all(i)};return t.patch(i,n),t.applyData(i,n)}function OD(t,i){if(t.options.allowDangerousHtml){const n={type:"raw",value:i.value};return t.patch(i,n),t.applyData(i,n)}}function Z0(t,i){const n=i.referenceType;let a="]";if(n==="collapsed"?a+="[]":n==="full"&&(a+="["+(i.label||i.identifier)+"]"),i.type==="imageReference")return[{type:"text",value:"!["+i.alt+a}];const o=t.all(i),u=o[0];u&&u.type==="text"?u.value="["+u.value:o.unshift({type:"text",value:"["});const c=o[o.length-1];return c&&c.type==="text"?c.value+=a:o.push({type:"text",value:a}),o}function FD(t,i){const n=String(i.identifier).toUpperCase(),a=t.definitionById.get(n);if(!a)return Z0(t,i);const o={src:ca(a.url||""),alt:i.alt};a.title!==null&&a.title!==void 0&&(o.title=a.title);const u={type:"element",tagName:"img",properties:o,children:[]};return t.patch(i,u),t.applyData(i,u)}function BD(t,i){const n={src:ca(i.url)};i.alt!==null&&i.alt!==void 0&&(n.alt=i.alt),i.title!==null&&i.title!==void 0&&(n.title=i.title);const a={type:"element",tagName:"img",properties:n,children:[]};return t.patch(i,a),t.applyData(i,a)}function PD(t,i){const n={type:"text",value:i.value.replace(/\r?\n|\r/g," ")};t.patch(i,n);const a={type:"element",tagName:"code",properties:{},children:[n]};return t.patch(i,a),t.applyData(i,a)}function zD(t,i){const n=String(i.identifier).toUpperCase(),a=t.definitionById.get(n);if(!a)return Z0(t,i);const o={href:ca(a.url||"")};a.title!==null&&a.title!==void 0&&(o.title=a.title);const u={type:"element",tagName:"a",properties:o,children:t.all(i)};return t.patch(i,u),t.applyData(i,u)}function VD(t,i){const n={href:ca(i.url)};i.title!==null&&i.title!==void 0&&(n.title=i.title);const a={type:"element",tagName:"a",properties:n,children:t.all(i)};return t.patch(i,a),t.applyData(i,a)}function jD(t,i,n){const a=t.all(i),o=n?UD(n):ex(i),u={},c=[];if(typeof i.checked=="boolean"){const v=a[0];let b;v&&v.type==="element"&&v.tagName==="p"?b=v:(b={type:"element",tagName:"p",properties:{},children:[]},a.unshift(b)),b.children.length>0&&b.children.unshift({type:"text",value:" "}),b.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:i.checked,disabled:!0},children:[]}),u.className=["task-list-item"]}let d=-1;for(;++d<a.length;){const v=a[d];(o||d!==0||v.type!=="element"||v.tagName!=="p")&&c.push({type:"text",value:`
`}),v.type==="element"&&v.tagName==="p"&&!o?c.push(...v.children):c.push(v)}const p=a[a.length-1];p&&(o||p.type!=="element"||p.tagName!=="p")&&c.push({type:"text",value:`
`});const f={type:"element",tagName:"li",properties:u,children:c};return t.patch(i,f),t.applyData(i,f)}function UD(t){let i=!1;if(t.type==="list"){i=t.spread||!1;const n=t.children;let a=-1;for(;!i&&++a<n.length;)i=ex(n[a])}return i}function ex(t){const i=t.spread;return i??t.children.length>1}function HD(t,i){const n={},a=t.all(i);let o=-1;for(typeof i.start=="number"&&i.start!==1&&(n.start=i.start);++o<a.length;){const c=a[o];if(c.type==="element"&&c.tagName==="li"&&c.properties&&Array.isArray(c.properties.className)&&c.properties.className.includes("task-list-item")){n.className=["contains-task-list"];break}}const u={type:"element",tagName:i.ordered?"ol":"ul",properties:n,children:t.wrap(a,!0)};return t.patch(i,u),t.applyData(i,u)}function GD(t,i){const n={type:"element",tagName:"p",properties:{},children:t.all(i)};return t.patch(i,n),t.applyData(i,n)}function qD(t,i){const n={type:"root",children:t.wrap(t.all(i))};return t.patch(i,n),t.applyData(i,n)}function YD(t,i){const n={type:"element",tagName:"strong",properties:{},children:t.all(i)};return t.patch(i,n),t.applyData(i,n)}function KD(t,i){const n=t.all(i),a=n.shift(),o=[];if(a){const c={type:"element",tagName:"thead",properties:{},children:t.wrap([a],!0)};t.patch(i.children[0],c),o.push(c)}if(n.length>0){const c={type:"element",tagName:"tbody",properties:{},children:t.wrap(n,!0)},d=Bf(i.children[1]),p=_0(i.children[i.children.length-1]);d&&p&&(c.position={start:d,end:p}),o.push(c)}const u={type:"element",tagName:"table",properties:{},children:t.wrap(o,!0)};return t.patch(i,u),t.applyData(i,u)}function $D(t,i,n){const a=n?n.children:void 0,u=(a?a.indexOf(i):1)===0?"th":"td",c=n&&n.type==="table"?n.align:void 0,d=c?c.length:i.children.length;let p=-1;const f=[];for(;++p<d;){const b=i.children[p],T={},C=c?c[p]:void 0;C&&(T.align=C);let w={type:"element",tagName:u,properties:T,children:[]};b&&(w.children=t.all(b),t.patch(b,w),w=t.applyData(b,w)),f.push(w)}const v={type:"element",tagName:"tr",properties:{},children:t.wrap(f,!0)};return t.patch(i,v),t.applyData(i,v)}function XD(t,i){const n={type:"element",tagName:"td",properties:{},children:t.all(i)};return t.patch(i,n),t.applyData(i,n)}const Sy=9,Cy=32;function QD(t){const i=String(t),n=/\r?\n|\r/g;let a=n.exec(i),o=0;const u=[];for(;a;)u.push(Ey(i.slice(o,a.index),o>0,!0),a[0]),o=a.index+a[0].length,a=n.exec(i);return u.push(Ey(i.slice(o),o>0,!1)),u.join("")}function Ey(t,i,n){let a=0,o=t.length;if(i){let u=t.codePointAt(a);for(;u===Sy||u===Cy;)a++,u=t.codePointAt(a)}if(n){let u=t.codePointAt(o-1);for(;u===Sy||u===Cy;)o--,u=t.codePointAt(o-1)}return o>a?t.slice(a,o):""}function JD(t,i){const n={type:"text",value:QD(String(i.value))};return t.patch(i,n),t.applyData(i,n)}function WD(t,i){const n={type:"element",tagName:"hr",properties:{},children:[]};return t.patch(i,n),t.applyData(i,n)}const ZD={blockquote:DD,break:kD,code:ND,delete:RD,emphasis:ID,footnoteReference:_D,heading:LD,html:OD,imageReference:FD,image:BD,inlineCode:PD,linkReference:zD,link:VD,listItem:jD,list:HD,paragraph:GD,root:qD,strong:YD,table:KD,tableCell:XD,tableRow:$D,text:JD,thematicBreak:WD,toml:Wo,yaml:Wo,definition:Wo,footnoteDefinition:Wo};function Wo(){}const tx=-1,Ms=0,Cl=1,ys=2,Gf=3,qf=4,Yf=5,Kf=6,nx=7,ix=8,My=typeof self=="object"?self:globalThis,e2=(t,i)=>{const n=(o,u)=>(t.set(u,o),o),a=o=>{if(t.has(o))return t.get(o);const[u,c]=i[o];switch(u){case Ms:case tx:return n(c,o);case Cl:{const d=n([],o);for(const p of c)d.push(a(p));return d}case ys:{const d=n({},o);for(const[p,f]of c)d[a(p)]=a(f);return d}case Gf:return n(new Date(c),o);case qf:{const{source:d,flags:p}=c;return n(new RegExp(d,p),o)}case Yf:{const d=n(new Map,o);for(const[p,f]of c)d.set(a(p),a(f));return d}case Kf:{const d=n(new Set,o);for(const p of c)d.add(a(p));return d}case nx:{const{name:d,message:p}=c;return n(new My[d](p),o)}case ix:return n(BigInt(c),o);case"BigInt":return n(Object(BigInt(c)),o);case"ArrayBuffer":return n(new Uint8Array(c).buffer,c);case"DataView":{const{buffer:d}=new Uint8Array(c);return n(new DataView(d),c)}}return n(new My[u](c),o)};return a},Ay=t=>e2(new Map,t)(0),na="",{toString:t2}={},{keys:n2}=Object,gl=t=>{const i=typeof t;if(i!=="object"||!t)return[Ms,i];const n=t2.call(t).slice(8,-1);switch(n){case"Array":return[Cl,na];case"Object":return[ys,na];case"Date":return[Gf,na];case"RegExp":return[qf,na];case"Map":return[Yf,na];case"Set":return[Kf,na];case"DataView":return[Cl,n]}return n.includes("Array")?[Cl,n]:n.includes("Error")?[nx,n]:[ys,n]},Zo=([t,i])=>t===Ms&&(i==="function"||i==="symbol"),i2=(t,i,n,a)=>{const o=(c,d)=>{const p=a.push(c)-1;return n.set(d,p),p},u=c=>{if(n.has(c))return n.get(c);let[d,p]=gl(c);switch(d){case Ms:{let v=c;switch(p){case"bigint":d=ix,v=c.toString();break;case"function":case"symbol":if(t)throw new TypeError("unable to serialize "+p);v=null;break;case"undefined":return o([tx],c)}return o([d,v],c)}case Cl:{if(p){let T=c;return p==="DataView"?T=new Uint8Array(c.buffer):p==="ArrayBuffer"&&(T=new Uint8Array(c)),o([p,[...T]],c)}const v=[],b=o([d,v],c);for(const T of c)v.push(u(T));return b}case ys:{if(p)switch(p){case"BigInt":return o([p,c.toString()],c);case"Boolean":case"Number":case"String":return o([p,c.valueOf()],c)}if(i&&"toJSON"in c)return u(c.toJSON());const v=[],b=o([d,v],c);for(const T of n2(c))(t||!Zo(gl(c[T])))&&v.push([u(T),u(c[T])]);return b}case Gf:return o([d,c.toISOString()],c);case qf:{const{source:v,flags:b}=c;return o([d,{source:v,flags:b}],c)}case Yf:{const v=[],b=o([d,v],c);for(const[T,C]of c)(t||!(Zo(gl(T))||Zo(gl(C))))&&v.push([u(T),u(C)]);return b}case Kf:{const v=[],b=o([d,v],c);for(const T of c)(t||!Zo(gl(T)))&&v.push(u(T));return b}}const{message:f}=c;return o([d,{name:p,message:f}],c)};return u},wy=(t,{json:i,lossy:n}={})=>{const a=[];return i2(!(i||n),!!i,new Map,a)(t),a},xs=typeof structuredClone=="function"?(t,i)=>i&&("json"in i||"lossy"in i)?Ay(wy(t,i)):structuredClone(t):(t,i)=>Ay(wy(t,i));function r2(t,i){const n=[{type:"text",value:""}];return i>1&&n.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(i)}]}),n}function a2(t,i){return"Back to reference "+(t+1)+(i>1?"-"+i:"")}function l2(t){const i=typeof t.options.clobberPrefix=="string"?t.options.clobberPrefix:"user-content-",n=t.options.footnoteBackContent||r2,a=t.options.footnoteBackLabel||a2,o=t.options.footnoteLabel||"Footnotes",u=t.options.footnoteLabelTagName||"h2",c=t.options.footnoteLabelProperties||{className:["sr-only"]},d=[];let p=-1;for(;++p<t.footnoteOrder.length;){const f=t.footnoteById.get(t.footnoteOrder[p]);if(!f)continue;const v=t.all(f),b=String(f.identifier).toUpperCase(),T=ca(b.toLowerCase());let C=0;const w=[],N=t.footnoteCounts.get(b);for(;N!==void 0&&++C<=N;){w.length>0&&w.push({type:"text",value:" "});let U=typeof n=="string"?n:n(p,C);typeof U=="string"&&(U={type:"text",value:U}),w.push({type:"element",tagName:"a",properties:{href:"#"+i+"fnref-"+T+(C>1?"-"+C:""),dataFootnoteBackref:"",ariaLabel:typeof a=="string"?a:a(p,C),className:["data-footnote-backref"]},children:Array.isArray(U)?U:[U]})}const B=v[v.length-1];if(B&&B.type==="element"&&B.tagName==="p"){const U=B.children[B.children.length-1];U&&U.type==="text"?U.value+=" ":B.children.push({type:"text",value:" "}),B.children.push(...w)}else v.push(...w);const _={type:"element",tagName:"li",properties:{id:i+"fn-"+T},children:t.wrap(v,!0)};t.patch(f,_),d.push(_)}if(d.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:u,properties:{...xs(c),id:"footnote-label"},children:[{type:"text",value:o}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:t.wrap(d,!0)},{type:"text",value:`
`}]}}const As=function(t){if(t==null)return c2;if(typeof t=="function")return ws(t);if(typeof t=="object")return Array.isArray(t)?o2(t):s2(t);if(typeof t=="string")return u2(t);throw new Error("Expected function, string, or object as test")};function o2(t){const i=[];let n=-1;for(;++n<t.length;)i[n]=As(t[n]);return ws(a);function a(...o){let u=-1;for(;++u<i.length;)if(i[u].apply(this,o))return!0;return!1}}function s2(t){const i=t;return ws(n);function n(a){const o=a;let u;for(u in t)if(o[u]!==i[u])return!1;return!0}}function u2(t){return ws(i);function i(n){return n&&n.type===t}}function ws(t){return i;function i(n,a,o){return!!(f2(n)&&t.call(this,n,typeof a=="number"?a:void 0,o||void 0))}}function c2(){return!0}function f2(t){return t!==null&&typeof t=="object"&&"type"in t}const rx=[],d2=!0,wf=!1,m2="skip";function ax(t,i,n,a){let o;typeof i=="function"&&typeof n!="function"?(a=n,n=i):o=i;const u=As(o),c=a?-1:1;d(t,void 0,[])();function d(p,f,v){const b=p&&typeof p=="object"?p:{};if(typeof b.type=="string"){const C=typeof b.tagName=="string"?b.tagName:typeof b.name=="string"?b.name:void 0;Object.defineProperty(T,"name",{value:"node ("+(p.type+(C?"<"+C+">":""))+")"})}return T;function T(){let C=rx,w,N,B;if((!i||u(p,f,v[v.length-1]||void 0))&&(C=p2(n(p,v)),C[0]===wf))return C;if("children"in p&&p.children){const _=p;if(_.children&&C[0]!==m2)for(N=(a?_.children.length:-1)+c,B=v.concat(_);N>-1&&N<_.children.length;){const U=_.children[N];if(w=d(U,N,B)(),w[0]===wf)return w;N=typeof w[1]=="number"?w[1]:N+c}}return C}}}function p2(t){return Array.isArray(t)?t:typeof t=="number"?[d2,t]:t==null?rx:[t]}function $f(t,i,n,a){let o,u,c;typeof i=="function"&&typeof n!="function"?(u=void 0,c=i,o=n):(u=i,c=n,o=a),ax(t,u,d,o);function d(p,f){const v=f[f.length-1],b=v?v.children.indexOf(p):void 0;return c(p,b,v)}}const Df={}.hasOwnProperty,h2={};function g2(t,i){const n=i||h2,a=new Map,o=new Map,u=new Map,c={...ZD,...n.handlers},d={all:f,applyData:x2,definitionById:a,footnoteById:o,footnoteCounts:u,footnoteOrder:[],handlers:c,one:p,options:n,patch:y2,wrap:b2};return $f(t,function(v){if(v.type==="definition"||v.type==="footnoteDefinition"){const b=v.type==="definition"?a:o,T=String(v.identifier).toUpperCase();b.has(T)||b.set(T,v)}}),d;function p(v,b){const T=v.type,C=d.handlers[T];if(Df.call(d.handlers,T)&&C)return C(d,v,b);if(d.options.passThrough&&d.options.passThrough.includes(T)){if("children"in v){const{children:N,...B}=v,_=xs(B);return _.children=d.all(v),_}return xs(v)}return(d.options.unknownHandler||v2)(d,v,b)}function f(v){const b=[];if("children"in v){const T=v.children;let C=-1;for(;++C<T.length;){const w=d.one(T[C],v);if(w){if(C&&T[C-1].type==="break"&&(!Array.isArray(w)&&w.type==="text"&&(w.value=Dy(w.value)),!Array.isArray(w)&&w.type==="element")){const N=w.children[0];N&&N.type==="text"&&(N.value=Dy(N.value))}Array.isArray(w)?b.push(...w):b.push(w)}}}return b}}function y2(t,i){t.position&&(i.position=aA(t))}function x2(t,i){let n=i;if(t&&t.data){const a=t.data.hName,o=t.data.hChildren,u=t.data.hProperties;if(typeof a=="string")if(n.type==="element")n.tagName=a;else{const c="children"in n?n.children:[n];n={type:"element",tagName:a,properties:{},children:c}}n.type==="element"&&u&&Object.assign(n.properties,xs(u)),"children"in n&&n.children&&o!==null&&o!==void 0&&(n.children=o)}return n}function v2(t,i){const n=i.data||{},a="value"in i&&!(Df.call(n,"hProperties")||Df.call(n,"hChildren"))?{type:"text",value:i.value}:{type:"element",tagName:"div",properties:{},children:t.all(i)};return t.patch(i,a),t.applyData(i,a)}function b2(t,i){const n=[];let a=-1;for(i&&n.push({type:"text",value:`
`});++a<t.length;)a&&n.push({type:"text",value:`
`}),n.push(t[a]);return i&&t.length>0&&n.push({type:"text",value:`
`}),n}function Dy(t){let i=0,n=t.charCodeAt(i);for(;n===9||n===32;)i++,n=t.charCodeAt(i);return t.slice(i)}function ky(t,i){const n=g2(t,i),a=n.one(t,void 0),o=l2(n),u=Array.isArray(a)?{type:"root",children:a}:a||{type:"root",children:[]};return o&&u.children.push({type:"text",value:`
`},o),u}function T2(t,i){return t&&"run"in t?async function(n,a){const o=ky(n,{file:a,...i});await t.run(o,a)}:function(n,a){return ky(n,{file:a,...t||i})}}function Ny(t){if(t)throw t}var Jc,Ry;function S2(){if(Ry)return Jc;Ry=1;var t=Object.prototype.hasOwnProperty,i=Object.prototype.toString,n=Object.defineProperty,a=Object.getOwnPropertyDescriptor,o=function(f){return typeof Array.isArray=="function"?Array.isArray(f):i.call(f)==="[object Array]"},u=function(f){if(!f||i.call(f)!=="[object Object]")return!1;var v=t.call(f,"constructor"),b=f.constructor&&f.constructor.prototype&&t.call(f.constructor.prototype,"isPrototypeOf");if(f.constructor&&!v&&!b)return!1;var T;for(T in f);return typeof T>"u"||t.call(f,T)},c=function(f,v){n&&v.name==="__proto__"?n(f,v.name,{enumerable:!0,configurable:!0,value:v.newValue,writable:!0}):f[v.name]=v.newValue},d=function(f,v){if(v==="__proto__")if(t.call(f,v)){if(a)return a(f,v).value}else return;return f[v]};return Jc=function p(){var f,v,b,T,C,w,N=arguments[0],B=1,_=arguments.length,U=!1;for(typeof N=="boolean"&&(U=N,N=arguments[1]||{},B=2),(N==null||typeof N!="object"&&typeof N!="function")&&(N={});B<_;++B)if(f=arguments[B],f!=null)for(v in f)b=d(N,v),T=d(f,v),N!==T&&(U&&T&&(u(T)||(C=o(T)))?(C?(C=!1,w=b&&o(b)?b:[]):w=b&&u(b)?b:{},c(N,{name:v,newValue:p(U,w,T)})):typeof T<"u"&&c(N,{name:v,newValue:T}));return N},Jc}var C2=S2();const Wc=Dl(C2);function kf(t){if(typeof t!="object"||t===null)return!1;const i=Object.getPrototypeOf(t);return(i===null||i===Object.prototype||Object.getPrototypeOf(i)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)}function E2(){const t=[],i={run:n,use:a};return i;function n(...o){let u=-1;const c=o.pop();if(typeof c!="function")throw new TypeError("Expected function as last argument, not "+c);d(null,...o);function d(p,...f){const v=t[++u];let b=-1;if(p){c(p);return}for(;++b<o.length;)(f[b]===null||f[b]===void 0)&&(f[b]=o[b]);o=f,v?M2(v,d)(...f):c(null,...f)}}function a(o){if(typeof o!="function")throw new TypeError("Expected `middelware` to be a function, not "+o);return t.push(o),i}}function M2(t,i){let n;return a;function a(...c){const d=t.length>c.length;let p;d&&c.push(o);try{p=t.apply(this,c)}catch(f){const v=f;if(d&&n)throw v;return o(v)}d||(p&&p.then&&typeof p.then=="function"?p.then(u,o):p instanceof Error?o(p):u(p))}function o(c,...d){n||(n=!0,i(c,...d))}function u(c){o(null,c)}}const zn={basename:A2,dirname:w2,extname:D2,join:k2,sep:"/"};function A2(t,i){if(i!==void 0&&typeof i!="string")throw new TypeError('"ext" argument must be a string');Il(t);let n=0,a=-1,o=t.length,u;if(i===void 0||i.length===0||i.length>t.length){for(;o--;)if(t.codePointAt(o)===47){if(u){n=o+1;break}}else a<0&&(u=!0,a=o+1);return a<0?"":t.slice(n,a)}if(i===t)return"";let c=-1,d=i.length-1;for(;o--;)if(t.codePointAt(o)===47){if(u){n=o+1;break}}else c<0&&(u=!0,c=o+1),d>-1&&(t.codePointAt(o)===i.codePointAt(d--)?d<0&&(a=o):(d=-1,a=c));return n===a?a=c:a<0&&(a=t.length),t.slice(n,a)}function w2(t){if(Il(t),t.length===0)return".";let i=-1,n=t.length,a;for(;--n;)if(t.codePointAt(n)===47){if(a){i=n;break}}else a||(a=!0);return i<0?t.codePointAt(0)===47?"/":".":i===1&&t.codePointAt(0)===47?"//":t.slice(0,i)}function D2(t){Il(t);let i=t.length,n=-1,a=0,o=-1,u=0,c;for(;i--;){const d=t.codePointAt(i);if(d===47){if(c){a=i+1;break}continue}n<0&&(c=!0,n=i+1),d===46?o<0?o=i:u!==1&&(u=1):o>-1&&(u=-1)}return o<0||n<0||u===0||u===1&&o===n-1&&o===a+1?"":t.slice(o,n)}function k2(...t){let i=-1,n;for(;++i<t.length;)Il(t[i]),t[i]&&(n=n===void 0?t[i]:n+"/"+t[i]);return n===void 0?".":N2(n)}function N2(t){Il(t);const i=t.codePointAt(0)===47;let n=R2(t,!i);return n.length===0&&!i&&(n="."),n.length>0&&t.codePointAt(t.length-1)===47&&(n+="/"),i?"/"+n:n}function R2(t,i){let n="",a=0,o=-1,u=0,c=-1,d,p;for(;++c<=t.length;){if(c<t.length)d=t.codePointAt(c);else{if(d===47)break;d=47}if(d===47){if(!(o===c-1||u===1))if(o!==c-1&&u===2){if(n.length<2||a!==2||n.codePointAt(n.length-1)!==46||n.codePointAt(n.length-2)!==46){if(n.length>2){if(p=n.lastIndexOf("/"),p!==n.length-1){p<0?(n="",a=0):(n=n.slice(0,p),a=n.length-1-n.lastIndexOf("/")),o=c,u=0;continue}}else if(n.length>0){n="",a=0,o=c,u=0;continue}}i&&(n=n.length>0?n+"/..":"..",a=2)}else n.length>0?n+="/"+t.slice(o+1,c):n=t.slice(o+1,c),a=c-o-1;o=c,u=0}else d===46&&u>-1?u++:u=-1}return n}function Il(t){if(typeof t!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(t))}const I2={cwd:_2};function _2(){return"/"}function Nf(t){return!!(t!==null&&typeof t=="object"&&"href"in t&&t.href&&"protocol"in t&&t.protocol&&t.auth===void 0)}function L2(t){if(typeof t=="string")t=new URL(t);else if(!Nf(t)){const i=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+t+"`");throw i.code="ERR_INVALID_ARG_TYPE",i}if(t.protocol!=="file:"){const i=new TypeError("The URL must be of scheme file");throw i.code="ERR_INVALID_URL_SCHEME",i}return O2(t)}function O2(t){if(t.hostname!==""){const a=new TypeError('File URL host must be "localhost" or empty on darwin');throw a.code="ERR_INVALID_FILE_URL_HOST",a}const i=t.pathname;let n=-1;for(;++n<i.length;)if(i.codePointAt(n)===37&&i.codePointAt(n+1)===50){const a=i.codePointAt(n+2);if(a===70||a===102){const o=new TypeError("File URL path must not include encoded / characters");throw o.code="ERR_INVALID_FILE_URL_PATH",o}}return decodeURIComponent(i)}const Zc=["history","path","basename","stem","extname","dirname"];class lx{constructor(i){let n;i?Nf(i)?n={path:i}:typeof i=="string"||F2(i)?n={value:i}:n=i:n={},this.cwd="cwd"in n?"":I2.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let a=-1;for(;++a<Zc.length;){const u=Zc[a];u in n&&n[u]!==void 0&&n[u]!==null&&(this[u]=u==="history"?[...n[u]]:n[u])}let o;for(o in n)Zc.includes(o)||(this[o]=n[o])}get basename(){return typeof this.path=="string"?zn.basename(this.path):void 0}set basename(i){tf(i,"basename"),ef(i,"basename"),this.path=zn.join(this.dirname||"",i)}get dirname(){return typeof this.path=="string"?zn.dirname(this.path):void 0}set dirname(i){Iy(this.basename,"dirname"),this.path=zn.join(i||"",this.basename)}get extname(){return typeof this.path=="string"?zn.extname(this.path):void 0}set extname(i){if(ef(i,"extname"),Iy(this.dirname,"extname"),i){if(i.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(i.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=zn.join(this.dirname,this.stem+(i||""))}get path(){return this.history[this.history.length-1]}set path(i){Nf(i)&&(i=L2(i)),tf(i,"path"),this.path!==i&&this.history.push(i)}get stem(){return typeof this.path=="string"?zn.basename(this.path,this.extname):void 0}set stem(i){tf(i,"stem"),ef(i,"stem"),this.path=zn.join(this.dirname||"",i+(this.extname||""))}fail(i,n,a){const o=this.message(i,n,a);throw o.fatal=!0,o}info(i,n,a){const o=this.message(i,n,a);return o.fatal=void 0,o}message(i,n,a){const o=new zt(i,n,a);return this.path&&(o.name=this.path+":"+o.name,o.file=this.path),o.fatal=!1,this.messages.push(o),o}toString(i){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(i||void 0).decode(this.value)}}function ef(t,i){if(t&&t.includes(zn.sep))throw new Error("`"+i+"` cannot be a path: did not expect `"+zn.sep+"`")}function tf(t,i){if(!t)throw new Error("`"+i+"` cannot be empty")}function Iy(t,i){if(!t)throw new Error("Setting `"+i+"` requires `path` to be set too")}function F2(t){return!!(t&&typeof t=="object"&&"byteLength"in t&&"byteOffset"in t)}const B2=function(t){const a=this.constructor.prototype,o=a[t],u=function(){return o.apply(u,arguments)};return Object.setPrototypeOf(u,a),u},P2={}.hasOwnProperty;class Xf extends B2{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=E2()}copy(){const i=new Xf;let n=-1;for(;++n<this.attachers.length;){const a=this.attachers[n];i.use(...a)}return i.data(Wc(!0,{},this.namespace)),i}data(i,n){return typeof i=="string"?arguments.length===2?(af("data",this.frozen),this.namespace[i]=n,this):P2.call(this.namespace,i)&&this.namespace[i]||void 0:i?(af("data",this.frozen),this.namespace=i,this):this.namespace}freeze(){if(this.frozen)return this;const i=this;for(;++this.freezeIndex<this.attachers.length;){const[n,...a]=this.attachers[this.freezeIndex];if(a[0]===!1)continue;a[0]===!0&&(a[0]=void 0);const o=n.call(i,...a);typeof o=="function"&&this.transformers.use(o)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(i){this.freeze();const n=es(i),a=this.parser||this.Parser;return nf("parse",a),a(String(n),n)}process(i,n){const a=this;return this.freeze(),nf("process",this.parser||this.Parser),rf("process",this.compiler||this.Compiler),n?o(void 0,n):new Promise(o);function o(u,c){const d=es(i),p=a.parse(d);a.run(p,d,function(v,b,T){if(v||!b||!T)return f(v);const C=b,w=a.stringify(C,T);j2(w)?T.value=w:T.result=w,f(v,T)});function f(v,b){v||!b?c(v):u?u(b):n(void 0,b)}}}processSync(i){let n=!1,a;return this.freeze(),nf("processSync",this.parser||this.Parser),rf("processSync",this.compiler||this.Compiler),this.process(i,o),Ly("processSync","process",n),a;function o(u,c){n=!0,Ny(u),a=c}}run(i,n,a){_y(i),this.freeze();const o=this.transformers;return!a&&typeof n=="function"&&(a=n,n=void 0),a?u(void 0,a):new Promise(u);function u(c,d){const p=es(n);o.run(i,p,f);function f(v,b,T){const C=b||i;v?d(v):c?c(C):a(void 0,C,T)}}}runSync(i,n){let a=!1,o;return this.run(i,n,u),Ly("runSync","run",a),o;function u(c,d){Ny(c),o=d,a=!0}}stringify(i,n){this.freeze();const a=es(n),o=this.compiler||this.Compiler;return rf("stringify",o),_y(i),o(i,a)}use(i,...n){const a=this.attachers,o=this.namespace;if(af("use",this.frozen),i!=null)if(typeof i=="function")p(i,n);else if(typeof i=="object")Array.isArray(i)?d(i):c(i);else throw new TypeError("Expected usable value, not `"+i+"`");return this;function u(f){if(typeof f=="function")p(f,[]);else if(typeof f=="object")if(Array.isArray(f)){const[v,...b]=f;p(v,b)}else c(f);else throw new TypeError("Expected usable value, not `"+f+"`")}function c(f){if(!("plugins"in f)&&!("settings"in f))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");d(f.plugins),f.settings&&(o.settings=Wc(!0,o.settings,f.settings))}function d(f){let v=-1;if(f!=null)if(Array.isArray(f))for(;++v<f.length;){const b=f[v];u(b)}else throw new TypeError("Expected a list of plugins, not `"+f+"`")}function p(f,v){let b=-1,T=-1;for(;++b<a.length;)if(a[b][0]===f){T=b;break}if(T===-1)a.push([f,...v]);else if(v.length>0){let[C,...w]=v;const N=a[T][1];kf(N)&&kf(C)&&(C=Wc(!0,N,C)),a[T]=[f,C,...w]}}}}const z2=new Xf().freeze();function nf(t,i){if(typeof i!="function")throw new TypeError("Cannot `"+t+"` without `parser`")}function rf(t,i){if(typeof i!="function")throw new TypeError("Cannot `"+t+"` without `compiler`")}function af(t,i){if(i)throw new Error("Cannot call `"+t+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function _y(t){if(!kf(t)||typeof t.type!="string")throw new TypeError("Expected node, got `"+t+"`")}function Ly(t,i,n){if(!n)throw new Error("`"+t+"` finished async. Use `"+i+"` instead")}function es(t){return V2(t)?t:new lx(t)}function V2(t){return!!(t&&typeof t=="object"&&"message"in t&&"messages"in t)}function j2(t){return typeof t=="string"||U2(t)}function U2(t){return!!(t&&typeof t=="object"&&"byteLength"in t&&"byteOffset"in t)}const H2="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",Oy=[],Fy={allowDangerousHtml:!0},G2=/^(https?|ircs?|mailto|xmpp)$/i,q2=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"className",id:"remove-classname"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function ox(t){const i=Y2(t),n=K2(t);return $2(i.runSync(i.parse(n),n),t)}function Y2(t){const i=t.rehypePlugins||Oy,n=t.remarkPlugins||Oy,a=t.remarkRehypeOptions?{...t.remarkRehypeOptions,...Fy}:Fy;return z2().use(wD).use(n).use(T2,a).use(i)}function K2(t){const i=t.children||"",n=new lx;return typeof i=="string"&&(n.value=i),n}function $2(t,i){const n=i.allowedElements,a=i.allowElement,o=i.components,u=i.disallowedElements,c=i.skipHtml,d=i.unwrapDisallowed,p=i.urlTransform||X2;for(const v of q2)Object.hasOwn(i,v.from)&&(""+v.from+(v.to?"use `"+v.to+"` instead":"remove it")+H2+v.id,void 0);return $f(t,f),cA(t,{Fragment:h.Fragment,components:o,ignoreInvalidStyle:!0,jsx:h.jsx,jsxs:h.jsxs,passKeys:!0,passNode:!0});function f(v,b,T){if(v.type==="raw"&&T&&typeof b=="number")return c?T.children.splice(b,1):T.children[b]={type:"text",value:v.value},b;if(v.type==="element"){let C;for(C in $c)if(Object.hasOwn($c,C)&&Object.hasOwn(v.properties,C)){const w=v.properties[C],N=$c[C];(N===null||N.includes(v.tagName))&&(v.properties[C]=p(String(w||""),C,v))}}if(v.type==="element"){let C=n?!n.includes(v.tagName):u?u.includes(v.tagName):!1;if(!C&&a&&typeof b=="number"&&(C=!a(v,b,T)),C&&T&&typeof b=="number")return d&&v.children?T.children.splice(b,1,...v.children):T.children.splice(b,1),b}}}function X2(t){const i=t.indexOf(":"),n=t.indexOf("?"),a=t.indexOf("#"),o=t.indexOf("/");return i===-1||o!==-1&&i>o||n!==-1&&i>n||a!==-1&&i>a||G2.test(t.slice(0,i))?t:""}function By(t,i){const n=String(t);if(typeof i!="string")throw new TypeError("Expected character");let a=0,o=n.indexOf(i);for(;o!==-1;)a++,o=n.indexOf(i,o+i.length);return a}function Q2(t){if(typeof t!="string")throw new TypeError("Expected a string");return t.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}function J2(t,i,n){const o=As((n||{}).ignore||[]),u=W2(i);let c=-1;for(;++c<u.length;)ax(t,"text",d);function d(f,v){let b=-1,T;for(;++b<v.length;){const C=v[b],w=T?T.children:void 0;if(o(C,w?w.indexOf(C):void 0,T))return;T=C}if(T)return p(f,v)}function p(f,v){const b=v[v.length-1],T=u[c][0],C=u[c][1];let w=0;const B=b.children.indexOf(f);let _=!1,U=[];T.lastIndex=0;let j=T.exec(f.value);for(;j;){const X=j.index,Z={index:j.index,input:j.input,stack:[...v,f]};let q=C(...j,Z);if(typeof q=="string"&&(q=q.length>0?{type:"text",value:q}:void 0),q===!1?T.lastIndex=X+1:(w!==X&&U.push({type:"text",value:f.value.slice(w,X)}),Array.isArray(q)?U.push(...q):q&&U.push(q),w=X+j[0].length,_=!0),!T.global)break;j=T.exec(f.value)}return _?(w<f.value.length&&U.push({type:"text",value:f.value.slice(w)}),b.children.splice(B,1,...U)):U=[f],B+U.length}}function W2(t){const i=[];if(!Array.isArray(t))throw new TypeError("Expected find and replace tuple or list of tuples");const n=!t[0]||Array.isArray(t[0])?t:[t];let a=-1;for(;++a<n.length;){const o=n[a];i.push([Z2(o[0]),ek(o[1])])}return i}function Z2(t){return typeof t=="string"?new RegExp(Q2(t),"g"):t}function ek(t){return typeof t=="function"?t:function(){return t}}const lf="phrasing",of=["autolink","link","image","label"];function tk(){return{transforms:[sk],enter:{literalAutolink:ik,literalAutolinkEmail:sf,literalAutolinkHttp:sf,literalAutolinkWww:sf},exit:{literalAutolink:ok,literalAutolinkEmail:lk,literalAutolinkHttp:rk,literalAutolinkWww:ak}}}function nk(){return{unsafe:[{character:"@",before:"[+\\-.\\w]",after:"[\\-.\\w]",inConstruct:lf,notInConstruct:of},{character:".",before:"[Ww]",after:"[\\-.\\w]",inConstruct:lf,notInConstruct:of},{character:":",before:"[ps]",after:"\\/",inConstruct:lf,notInConstruct:of}]}}function ik(t){this.enter({type:"link",title:null,url:"",children:[]},t)}function sf(t){this.config.enter.autolinkProtocol.call(this,t)}function rk(t){this.config.exit.autolinkProtocol.call(this,t)}function ak(t){this.config.exit.data.call(this,t);const i=this.stack[this.stack.length-1];i.type,i.url="http://"+this.sliceSerialize(t)}function lk(t){this.config.exit.autolinkEmail.call(this,t)}function ok(t){this.exit(t)}function sk(t){J2(t,[[/(https?:\/\/|www(?=\.))([-.\w]+)([^ \t\r\n]*)/gi,uk],[new RegExp("(?<=^|\\s|\\p{P}|\\p{S})([-.\\w+]+)@([-\\w]+(?:\\.[-\\w]+)+)","gu"),ck]],{ignore:["link","linkReference"]})}function uk(t,i,n,a,o){let u="";if(!sx(o)||(/^w/i.test(i)&&(n=i+n,i="",u="http://"),!fk(n)))return!1;const c=dk(n+a);if(!c[0])return!1;const d={type:"link",title:null,url:u+i+c[0],children:[{type:"text",value:i+c[0]}]};return c[1]?[d,{type:"text",value:c[1]}]:d}function ck(t,i,n,a){return!sx(a,!0)||/[-\d_]$/.test(n)?!1:{type:"link",title:null,url:"mailto:"+i+"@"+n,children:[{type:"text",value:i+"@"+n}]}}function fk(t){const i=t.split(".");return!(i.length<2||i[i.length-1]&&(/_/.test(i[i.length-1])||!/[a-zA-Z\d]/.test(i[i.length-1]))||i[i.length-2]&&(/_/.test(i[i.length-2])||!/[a-zA-Z\d]/.test(i[i.length-2])))}function dk(t){const i=/[!"&'),.:;<>?\]}]+$/.exec(t);if(!i)return[t,void 0];t=t.slice(0,i.index);let n=i[0],a=n.indexOf(")");const o=By(t,"(");let u=By(t,")");for(;a!==-1&&o>u;)t+=n.slice(0,a+1),n=n.slice(a+1),a=n.indexOf(")"),u++;return[t,n]}function sx(t,i){const n=t.input.charCodeAt(t.index-1);return(t.index===0||fr(n)||Cs(n))&&(!i||n!==47)}ux.peek=Tk;function mk(){this.buffer()}function pk(t){this.enter({type:"footnoteReference",identifier:"",label:""},t)}function hk(){this.buffer()}function gk(t){this.enter({type:"footnoteDefinition",identifier:"",label:"",children:[]},t)}function yk(t){const i=this.resume(),n=this.stack[this.stack.length-1];n.type,n.identifier=In(this.sliceSerialize(t)).toLowerCase(),n.label=i}function xk(t){this.exit(t)}function vk(t){const i=this.resume(),n=this.stack[this.stack.length-1];n.type,n.identifier=In(this.sliceSerialize(t)).toLowerCase(),n.label=i}function bk(t){this.exit(t)}function Tk(){return"["}function ux(t,i,n,a){const o=n.createTracker(a);let u=o.move("[^");const c=n.enter("footnoteReference"),d=n.enter("reference");return u+=o.move(n.safe(n.associationId(t),{after:"]",before:u})),d(),c(),u+=o.move("]"),u}function Sk(){return{enter:{gfmFootnoteCallString:mk,gfmFootnoteCall:pk,gfmFootnoteDefinitionLabelString:hk,gfmFootnoteDefinition:gk},exit:{gfmFootnoteCallString:yk,gfmFootnoteCall:xk,gfmFootnoteDefinitionLabelString:vk,gfmFootnoteDefinition:bk}}}function Ck(t){let i=!1;return t&&t.firstLineBlank&&(i=!0),{handlers:{footnoteDefinition:n,footnoteReference:ux},unsafe:[{character:"[",inConstruct:["label","phrasing","reference"]}]};function n(a,o,u,c){const d=u.createTracker(c);let p=d.move("[^");const f=u.enter("footnoteDefinition"),v=u.enter("label");return p+=d.move(u.safe(u.associationId(a),{before:p,after:"]"})),v(),p+=d.move("]:"),a.children&&a.children.length>0&&(d.shift(4),p+=d.move((i?`
`:" ")+u.indentLines(u.containerFlow(a,d.current()),i?cx:Ek))),f(),p}}function Ek(t,i,n){return i===0?t:cx(t,i,n)}function cx(t,i,n){return(n?"":"    ")+t}const Mk=["autolink","destinationLiteral","destinationRaw","reference","titleQuote","titleApostrophe"];fx.peek=Nk;function Ak(){return{canContainEols:["delete"],enter:{strikethrough:Dk},exit:{strikethrough:kk}}}function wk(){return{unsafe:[{character:"~",inConstruct:"phrasing",notInConstruct:Mk}],handlers:{delete:fx}}}function Dk(t){this.enter({type:"delete",children:[]},t)}function kk(t){this.exit(t)}function fx(t,i,n,a){const o=n.createTracker(a),u=n.enter("strikethrough");let c=o.move("~~");return c+=n.containerPhrasing(t,{...o.current(),before:c,after:"~"}),c+=o.move("~~"),u(),c}function Nk(){return"~"}function Rk(t){return t.length}function Ik(t,i){const n=i||{},a=(n.align||[]).concat(),o=n.stringLength||Rk,u=[],c=[],d=[],p=[];let f=0,v=-1;for(;++v<t.length;){const N=[],B=[];let _=-1;for(t[v].length>f&&(f=t[v].length);++_<t[v].length;){const U=_k(t[v][_]);if(n.alignDelimiters!==!1){const j=o(U);B[_]=j,(p[_]===void 0||j>p[_])&&(p[_]=j)}N.push(U)}c[v]=N,d[v]=B}let b=-1;if(typeof a=="object"&&"length"in a)for(;++b<f;)u[b]=Py(a[b]);else{const N=Py(a);for(;++b<f;)u[b]=N}b=-1;const T=[],C=[];for(;++b<f;){const N=u[b];let B="",_="";N===99?(B=":",_=":"):N===108?B=":":N===114&&(_=":");let U=n.alignDelimiters===!1?1:Math.max(1,p[b]-B.length-_.length);const j=B+"-".repeat(U)+_;n.alignDelimiters!==!1&&(U=B.length+U+_.length,U>p[b]&&(p[b]=U),C[b]=U),T[b]=j}c.splice(1,0,T),d.splice(1,0,C),v=-1;const w=[];for(;++v<c.length;){const N=c[v],B=d[v];b=-1;const _=[];for(;++b<f;){const U=N[b]||"";let j="",X="";if(n.alignDelimiters!==!1){const Z=p[b]-(B[b]||0),q=u[b];q===114?j=" ".repeat(Z):q===99?Z%2?(j=" ".repeat(Z/2+.5),X=" ".repeat(Z/2-.5)):(j=" ".repeat(Z/2),X=j):X=" ".repeat(Z)}n.delimiterStart!==!1&&!b&&_.push("|"),n.padding!==!1&&!(n.alignDelimiters===!1&&U==="")&&(n.delimiterStart!==!1||b)&&_.push(" "),n.alignDelimiters!==!1&&_.push(j),_.push(U),n.alignDelimiters!==!1&&_.push(X),n.padding!==!1&&_.push(" "),(n.delimiterEnd!==!1||b!==f-1)&&_.push("|")}w.push(n.delimiterEnd===!1?_.join("").replace(/ +$/,""):_.join(""))}return w.join(`
`)}function _k(t){return t==null?"":String(t)}function Py(t){const i=typeof t=="string"?t.codePointAt(0):0;return i===67||i===99?99:i===76||i===108?108:i===82||i===114?114:0}function Lk(t,i,n,a){const o=n.enter("blockquote"),u=n.createTracker(a);u.move("> "),u.shift(2);const c=n.indentLines(n.containerFlow(t,u.current()),Ok);return o(),c}function Ok(t,i,n){return">"+(n?"":" ")+t}function Fk(t,i){return zy(t,i.inConstruct,!0)&&!zy(t,i.notInConstruct,!1)}function zy(t,i,n){if(typeof i=="string"&&(i=[i]),!i||i.length===0)return n;let a=-1;for(;++a<i.length;)if(t.includes(i[a]))return!0;return!1}function Vy(t,i,n,a){let o=-1;for(;++o<n.unsafe.length;)if(n.unsafe[o].character===`
`&&Fk(n.stack,n.unsafe[o]))return/[ \t]/.test(a.before)?"":" ";return`\\
`}function Bk(t,i){const n=String(t);let a=n.indexOf(i),o=a,u=0,c=0;if(typeof i!="string")throw new TypeError("Expected substring");for(;a!==-1;)a===o?++u>c&&(c=u):u=1,o=a+i.length,a=n.indexOf(i,o);return c}function Pk(t,i){return!!(i.options.fences===!1&&t.value&&!t.lang&&/[^ \r\n]/.test(t.value)&&!/^[\t ]*(?:[\r\n]|$)|(?:^|[\r\n])[\t ]*$/.test(t.value))}function zk(t){const i=t.options.fence||"`";if(i!=="`"&&i!=="~")throw new Error("Cannot serialize code with `"+i+"` for `options.fence`, expected `` ` `` or `~`");return i}function Vk(t,i,n,a){const o=zk(n),u=t.value||"",c=o==="`"?"GraveAccent":"Tilde";if(Pk(t,n)){const b=n.enter("codeIndented"),T=n.indentLines(u,jk);return b(),T}const d=n.createTracker(a),p=o.repeat(Math.max(Bk(u,o)+1,3)),f=n.enter("codeFenced");let v=d.move(p);if(t.lang){const b=n.enter(`codeFencedLang${c}`);v+=d.move(n.safe(t.lang,{before:v,after:" ",encode:["`"],...d.current()})),b()}if(t.lang&&t.meta){const b=n.enter(`codeFencedMeta${c}`);v+=d.move(" "),v+=d.move(n.safe(t.meta,{before:v,after:`
`,encode:["`"],...d.current()})),b()}return v+=d.move(`
`),u&&(v+=d.move(u+`
`)),v+=d.move(p),f(),v}function jk(t,i,n){return(n?"":"    ")+t}function Qf(t){const i=t.options.quote||'"';if(i!=='"'&&i!=="'")throw new Error("Cannot serialize title with `"+i+"` for `options.quote`, expected `\"`, or `'`");return i}function Uk(t,i,n,a){const o=Qf(n),u=o==='"'?"Quote":"Apostrophe",c=n.enter("definition");let d=n.enter("label");const p=n.createTracker(a);let f=p.move("[");return f+=p.move(n.safe(n.associationId(t),{before:f,after:"]",...p.current()})),f+=p.move("]: "),d(),!t.url||/[\0- \u007F]/.test(t.url)?(d=n.enter("destinationLiteral"),f+=p.move("<"),f+=p.move(n.safe(t.url,{before:f,after:">",...p.current()})),f+=p.move(">")):(d=n.enter("destinationRaw"),f+=p.move(n.safe(t.url,{before:f,after:t.title?" ":`
`,...p.current()}))),d(),t.title&&(d=n.enter(`title${u}`),f+=p.move(" "+o),f+=p.move(n.safe(t.title,{before:f,after:o,...p.current()})),f+=p.move(o),d()),c(),f}function Hk(t){const i=t.options.emphasis||"*";if(i!=="*"&&i!=="_")throw new Error("Cannot serialize emphasis with `"+i+"` for `options.emphasis`, expected `*`, or `_`");return i}function wl(t){return"&#x"+t.toString(16).toUpperCase()+";"}function vs(t,i,n){const a=la(t),o=la(i);return a===void 0?o===void 0?n==="_"?{inside:!0,outside:!0}:{inside:!1,outside:!1}:o===1?{inside:!0,outside:!0}:{inside:!1,outside:!0}:a===1?o===void 0?{inside:!1,outside:!1}:o===1?{inside:!0,outside:!0}:{inside:!1,outside:!1}:o===void 0?{inside:!1,outside:!1}:o===1?{inside:!0,outside:!1}:{inside:!1,outside:!1}}dx.peek=Gk;function dx(t,i,n,a){const o=Hk(n),u=n.enter("emphasis"),c=n.createTracker(a),d=c.move(o);let p=c.move(n.containerPhrasing(t,{after:o,before:d,...c.current()}));const f=p.charCodeAt(0),v=vs(a.before.charCodeAt(a.before.length-1),f,o);v.inside&&(p=wl(f)+p.slice(1));const b=p.charCodeAt(p.length-1),T=vs(a.after.charCodeAt(0),b,o);T.inside&&(p=p.slice(0,-1)+wl(b));const C=c.move(o);return u(),n.attentionEncodeSurroundingInfo={after:T.outside,before:v.outside},d+p+C}function Gk(t,i,n){return n.options.emphasis||"*"}function qk(t,i){let n=!1;return $f(t,function(a){if("value"in a&&/\r?\n|\r/.test(a.value)||a.type==="break")return n=!0,wf}),!!((!t.depth||t.depth<3)&&jf(t)&&(i.options.setext||n))}function Yk(t,i,n,a){const o=Math.max(Math.min(6,t.depth||1),1),u=n.createTracker(a);if(qk(t,n)){const v=n.enter("headingSetext"),b=n.enter("phrasing"),T=n.containerPhrasing(t,{...u.current(),before:`
`,after:`
`});return b(),v(),T+`
`+(o===1?"=":"-").repeat(T.length-(Math.max(T.lastIndexOf("\r"),T.lastIndexOf(`
`))+1))}const c="#".repeat(o),d=n.enter("headingAtx"),p=n.enter("phrasing");u.move(c+" ");let f=n.containerPhrasing(t,{before:"# ",after:`
`,...u.current()});return/^[\t ]/.test(f)&&(f=wl(f.charCodeAt(0))+f.slice(1)),f=f?c+" "+f:c,n.options.closeAtx&&(f+=" "+c),p(),d(),f}mx.peek=Kk;function mx(t){return t.value||""}function Kk(){return"<"}px.peek=$k;function px(t,i,n,a){const o=Qf(n),u=o==='"'?"Quote":"Apostrophe",c=n.enter("image");let d=n.enter("label");const p=n.createTracker(a);let f=p.move("![");return f+=p.move(n.safe(t.alt,{before:f,after:"]",...p.current()})),f+=p.move("]("),d(),!t.url&&t.title||/[\0- \u007F]/.test(t.url)?(d=n.enter("destinationLiteral"),f+=p.move("<"),f+=p.move(n.safe(t.url,{before:f,after:">",...p.current()})),f+=p.move(">")):(d=n.enter("destinationRaw"),f+=p.move(n.safe(t.url,{before:f,after:t.title?" ":")",...p.current()}))),d(),t.title&&(d=n.enter(`title${u}`),f+=p.move(" "+o),f+=p.move(n.safe(t.title,{before:f,after:o,...p.current()})),f+=p.move(o),d()),f+=p.move(")"),c(),f}function $k(){return"!"}hx.peek=Xk;function hx(t,i,n,a){const o=t.referenceType,u=n.enter("imageReference");let c=n.enter("label");const d=n.createTracker(a);let p=d.move("![");const f=n.safe(t.alt,{before:p,after:"]",...d.current()});p+=d.move(f+"]["),c();const v=n.stack;n.stack=[],c=n.enter("reference");const b=n.safe(n.associationId(t),{before:p,after:"]",...d.current()});return c(),n.stack=v,u(),o==="full"||!f||f!==b?p+=d.move(b+"]"):o==="shortcut"?p=p.slice(0,-1):p+=d.move("]"),p}function Xk(){return"!"}gx.peek=Qk;function gx(t,i,n){let a=t.value||"",o="`",u=-1;for(;new RegExp("(^|[^`])"+o+"([^`]|$)").test(a);)o+="`";for(/[^ \r\n]/.test(a)&&(/^[ \r\n]/.test(a)&&/[ \r\n]$/.test(a)||/^`|`$/.test(a))&&(a=" "+a+" ");++u<n.unsafe.length;){const c=n.unsafe[u],d=n.compilePattern(c);let p;if(c.atBreak)for(;p=d.exec(a);){let f=p.index;a.charCodeAt(f)===10&&a.charCodeAt(f-1)===13&&f--,a=a.slice(0,f)+" "+a.slice(p.index+1)}}return o+a+o}function Qk(){return"`"}function yx(t,i){const n=jf(t);return!!(!i.options.resourceLink&&t.url&&!t.title&&t.children&&t.children.length===1&&t.children[0].type==="text"&&(n===t.url||"mailto:"+n===t.url)&&/^[a-z][a-z+.-]+:/i.test(t.url)&&!/[\0- <>\u007F]/.test(t.url))}xx.peek=Jk;function xx(t,i,n,a){const o=Qf(n),u=o==='"'?"Quote":"Apostrophe",c=n.createTracker(a);let d,p;if(yx(t,n)){const v=n.stack;n.stack=[],d=n.enter("autolink");let b=c.move("<");return b+=c.move(n.containerPhrasing(t,{before:b,after:">",...c.current()})),b+=c.move(">"),d(),n.stack=v,b}d=n.enter("link"),p=n.enter("label");let f=c.move("[");return f+=c.move(n.containerPhrasing(t,{before:f,after:"](",...c.current()})),f+=c.move("]("),p(),!t.url&&t.title||/[\0- \u007F]/.test(t.url)?(p=n.enter("destinationLiteral"),f+=c.move("<"),f+=c.move(n.safe(t.url,{before:f,after:">",...c.current()})),f+=c.move(">")):(p=n.enter("destinationRaw"),f+=c.move(n.safe(t.url,{before:f,after:t.title?" ":")",...c.current()}))),p(),t.title&&(p=n.enter(`title${u}`),f+=c.move(" "+o),f+=c.move(n.safe(t.title,{before:f,after:o,...c.current()})),f+=c.move(o),p()),f+=c.move(")"),d(),f}function Jk(t,i,n){return yx(t,n)?"<":"["}vx.peek=Wk;function vx(t,i,n,a){const o=t.referenceType,u=n.enter("linkReference");let c=n.enter("label");const d=n.createTracker(a);let p=d.move("[");const f=n.containerPhrasing(t,{before:p,after:"]",...d.current()});p+=d.move(f+"]["),c();const v=n.stack;n.stack=[],c=n.enter("reference");const b=n.safe(n.associationId(t),{before:p,after:"]",...d.current()});return c(),n.stack=v,u(),o==="full"||!f||f!==b?p+=d.move(b+"]"):o==="shortcut"?p=p.slice(0,-1):p+=d.move("]"),p}function Wk(){return"["}function Jf(t){const i=t.options.bullet||"*";if(i!=="*"&&i!=="+"&&i!=="-")throw new Error("Cannot serialize items with `"+i+"` for `options.bullet`, expected `*`, `+`, or `-`");return i}function Zk(t){const i=Jf(t),n=t.options.bulletOther;if(!n)return i==="*"?"-":"*";if(n!=="*"&&n!=="+"&&n!=="-")throw new Error("Cannot serialize items with `"+n+"` for `options.bulletOther`, expected `*`, `+`, or `-`");if(n===i)throw new Error("Expected `bullet` (`"+i+"`) and `bulletOther` (`"+n+"`) to be different");return n}function eN(t){const i=t.options.bulletOrdered||".";if(i!=="."&&i!==")")throw new Error("Cannot serialize items with `"+i+"` for `options.bulletOrdered`, expected `.` or `)`");return i}function bx(t){const i=t.options.rule||"*";if(i!=="*"&&i!=="-"&&i!=="_")throw new Error("Cannot serialize rules with `"+i+"` for `options.rule`, expected `*`, `-`, or `_`");return i}function tN(t,i,n,a){const o=n.enter("list"),u=n.bulletCurrent;let c=t.ordered?eN(n):Jf(n);const d=t.ordered?c==="."?")":".":Zk(n);let p=i&&n.bulletLastUsed?c===n.bulletLastUsed:!1;if(!t.ordered){const v=t.children?t.children[0]:void 0;if((c==="*"||c==="-")&&v&&(!v.children||!v.children[0])&&n.stack[n.stack.length-1]==="list"&&n.stack[n.stack.length-2]==="listItem"&&n.stack[n.stack.length-3]==="list"&&n.stack[n.stack.length-4]==="listItem"&&n.indexStack[n.indexStack.length-1]===0&&n.indexStack[n.indexStack.length-2]===0&&n.indexStack[n.indexStack.length-3]===0&&(p=!0),bx(n)===c&&v){let b=-1;for(;++b<t.children.length;){const T=t.children[b];if(T&&T.type==="listItem"&&T.children&&T.children[0]&&T.children[0].type==="thematicBreak"){p=!0;break}}}}p&&(c=d),n.bulletCurrent=c;const f=n.containerFlow(t,a);return n.bulletLastUsed=c,n.bulletCurrent=u,o(),f}function nN(t){const i=t.options.listItemIndent||"one";if(i!=="tab"&&i!=="one"&&i!=="mixed")throw new Error("Cannot serialize items with `"+i+"` for `options.listItemIndent`, expected `tab`, `one`, or `mixed`");return i}function iN(t,i,n,a){const o=nN(n);let u=n.bulletCurrent||Jf(n);i&&i.type==="list"&&i.ordered&&(u=(typeof i.start=="number"&&i.start>-1?i.start:1)+(n.options.incrementListMarker===!1?0:i.children.indexOf(t))+u);let c=u.length+1;(o==="tab"||o==="mixed"&&(i&&i.type==="list"&&i.spread||t.spread))&&(c=Math.ceil(c/4)*4);const d=n.createTracker(a);d.move(u+" ".repeat(c-u.length)),d.shift(c);const p=n.enter("listItem"),f=n.indentLines(n.containerFlow(t,d.current()),v);return p(),f;function v(b,T,C){return T?(C?"":" ".repeat(c))+b:(C?u:u+" ".repeat(c-u.length))+b}}function rN(t,i,n,a){const o=n.enter("paragraph"),u=n.enter("phrasing"),c=n.containerPhrasing(t,a);return u(),o(),c}const aN=As(["break","delete","emphasis","footnote","footnoteReference","image","imageReference","inlineCode","inlineMath","link","linkReference","mdxJsxTextElement","mdxTextExpression","strong","text","textDirective"]);function lN(t,i,n,a){return(t.children.some(function(c){return aN(c)})?n.containerPhrasing:n.containerFlow).call(n,t,a)}function oN(t){const i=t.options.strong||"*";if(i!=="*"&&i!=="_")throw new Error("Cannot serialize strong with `"+i+"` for `options.strong`, expected `*`, or `_`");return i}Tx.peek=sN;function Tx(t,i,n,a){const o=oN(n),u=n.enter("strong"),c=n.createTracker(a),d=c.move(o+o);let p=c.move(n.containerPhrasing(t,{after:o,before:d,...c.current()}));const f=p.charCodeAt(0),v=vs(a.before.charCodeAt(a.before.length-1),f,o);v.inside&&(p=wl(f)+p.slice(1));const b=p.charCodeAt(p.length-1),T=vs(a.after.charCodeAt(0),b,o);T.inside&&(p=p.slice(0,-1)+wl(b));const C=c.move(o+o);return u(),n.attentionEncodeSurroundingInfo={after:T.outside,before:v.outside},d+p+C}function sN(t,i,n){return n.options.strong||"*"}function uN(t,i,n,a){return n.safe(t.value,a)}function cN(t){const i=t.options.ruleRepetition||3;if(i<3)throw new Error("Cannot serialize rules with repetition `"+i+"` for `options.ruleRepetition`, expected `3` or more");return i}function fN(t,i,n){const a=(bx(n)+(n.options.ruleSpaces?" ":"")).repeat(cN(n));return n.options.ruleSpaces?a.slice(0,-1):a}const Sx={blockquote:Lk,break:Vy,code:Vk,definition:Uk,emphasis:dx,hardBreak:Vy,heading:Yk,html:mx,image:px,imageReference:hx,inlineCode:gx,link:xx,linkReference:vx,list:tN,listItem:iN,paragraph:rN,root:lN,strong:Tx,text:uN,thematicBreak:fN};function dN(){return{enter:{table:mN,tableData:jy,tableHeader:jy,tableRow:hN},exit:{codeText:gN,table:pN,tableData:uf,tableHeader:uf,tableRow:uf}}}function mN(t){const i=t._align;this.enter({type:"table",align:i.map(function(n){return n==="none"?null:n}),children:[]},t),this.data.inTable=!0}function pN(t){this.exit(t),this.data.inTable=void 0}function hN(t){this.enter({type:"tableRow",children:[]},t)}function uf(t){this.exit(t)}function jy(t){this.enter({type:"tableCell",children:[]},t)}function gN(t){let i=this.resume();this.data.inTable&&(i=i.replace(/\\([\\|])/g,yN));const n=this.stack[this.stack.length-1];n.type,n.value=i,this.exit(t)}function yN(t,i){return i==="|"?i:t}function xN(t){const i=t||{},n=i.tableCellPadding,a=i.tablePipeAlign,o=i.stringLength,u=n?" ":"|";return{unsafe:[{character:"\r",inConstruct:"tableCell"},{character:`
`,inConstruct:"tableCell"},{atBreak:!0,character:"|",after:"[	 :-]"},{character:"|",inConstruct:"tableCell"},{atBreak:!0,character:":",after:"-"},{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{inlineCode:T,table:c,tableCell:p,tableRow:d}};function c(C,w,N,B){return f(v(C,N,B),C.align)}function d(C,w,N,B){const _=b(C,N,B),U=f([_]);return U.slice(0,U.indexOf(`
`))}function p(C,w,N,B){const _=N.enter("tableCell"),U=N.enter("phrasing"),j=N.containerPhrasing(C,{...B,before:u,after:u});return U(),_(),j}function f(C,w){return Ik(C,{align:w,alignDelimiters:a,padding:n,stringLength:o})}function v(C,w,N){const B=C.children;let _=-1;const U=[],j=w.enter("table");for(;++_<B.length;)U[_]=b(B[_],w,N);return j(),U}function b(C,w,N){const B=C.children;let _=-1;const U=[],j=w.enter("tableRow");for(;++_<B.length;)U[_]=p(B[_],C,w,N);return j(),U}function T(C,w,N){let B=Sx.inlineCode(C,w,N);return N.stack.includes("tableCell")&&(B=B.replace(/\|/g,"\\$&")),B}}function vN(){return{exit:{taskListCheckValueChecked:Uy,taskListCheckValueUnchecked:Uy,paragraph:TN}}}function bN(){return{unsafe:[{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{listItem:SN}}}function Uy(t){const i=this.stack[this.stack.length-2];i.type,i.checked=t.type==="taskListCheckValueChecked"}function TN(t){const i=this.stack[this.stack.length-2];if(i&&i.type==="listItem"&&typeof i.checked=="boolean"){const n=this.stack[this.stack.length-1];n.type;const a=n.children[0];if(a&&a.type==="text"){const o=i.children;let u=-1,c;for(;++u<o.length;){const d=o[u];if(d.type==="paragraph"){c=d;break}}c===n&&(a.value=a.value.slice(1),a.value.length===0?n.children.shift():n.position&&a.position&&typeof a.position.start.offset=="number"&&(a.position.start.column++,a.position.start.offset++,n.position.start=Object.assign({},a.position.start)))}}this.exit(t)}function SN(t,i,n,a){const o=t.children[0],u=typeof t.checked=="boolean"&&o&&o.type==="paragraph",c="["+(t.checked?"x":" ")+"] ",d=n.createTracker(a);u&&d.move(c);let p=Sx.listItem(t,i,n,{...a,...d.current()});return u&&(p=p.replace(/^(?:[*+-]|\d+\.)([\r\n]| {1,3})/,f)),p;function f(v){return v+c}}function CN(){return[tk(),Sk(),Ak(),dN(),vN()]}function EN(t){return{extensions:[nk(),Ck(t),wk(),xN(t),bN()]}}const MN={tokenize:RN,partial:!0},Cx={tokenize:IN,partial:!0},Ex={tokenize:_N,partial:!0},Mx={tokenize:LN,partial:!0},AN={tokenize:ON,partial:!0},Ax={name:"wwwAutolink",tokenize:kN,previous:Dx},wx={name:"protocolAutolink",tokenize:NN,previous:kx},li={name:"emailAutolink",tokenize:DN,previous:Nx},Vn={};function wN(){return{text:Vn}}let ur=48;for(;ur<123;)Vn[ur]=li,ur++,ur===58?ur=65:ur===91&&(ur=97);Vn[43]=li;Vn[45]=li;Vn[46]=li;Vn[95]=li;Vn[72]=[li,wx];Vn[104]=[li,wx];Vn[87]=[li,Ax];Vn[119]=[li,Ax];function DN(t,i,n){const a=this;let o,u;return c;function c(b){return!Rf(b)||!Nx.call(a,a.previous)||Wf(a.events)?n(b):(t.enter("literalAutolink"),t.enter("literalAutolinkEmail"),d(b))}function d(b){return Rf(b)?(t.consume(b),d):b===64?(t.consume(b),p):n(b)}function p(b){return b===46?t.check(AN,v,f)(b):b===45||b===95||Pt(b)?(u=!0,t.consume(b),p):v(b)}function f(b){return t.consume(b),o=!0,p}function v(b){return u&&o&&Ut(a.previous)?(t.exit("literalAutolinkEmail"),t.exit("literalAutolink"),i(b)):n(b)}}function kN(t,i,n){const a=this;return o;function o(c){return c!==87&&c!==119||!Dx.call(a,a.previous)||Wf(a.events)?n(c):(t.enter("literalAutolink"),t.enter("literalAutolinkWww"),t.check(MN,t.attempt(Cx,t.attempt(Ex,u),n),n)(c))}function u(c){return t.exit("literalAutolinkWww"),t.exit("literalAutolink"),i(c)}}function NN(t,i,n){const a=this;let o="",u=!1;return c;function c(b){return(b===72||b===104)&&kx.call(a,a.previous)&&!Wf(a.events)?(t.enter("literalAutolink"),t.enter("literalAutolinkHttp"),o+=String.fromCodePoint(b),t.consume(b),d):n(b)}function d(b){if(Ut(b)&&o.length<5)return o+=String.fromCodePoint(b),t.consume(b),d;if(b===58){const T=o.toLowerCase();if(T==="http"||T==="https")return t.consume(b),p}return n(b)}function p(b){return b===47?(t.consume(b),u?f:(u=!0,p)):n(b)}function f(b){return b===null||gs(b)||et(b)||fr(b)||Cs(b)?n(b):t.attempt(Cx,t.attempt(Ex,v),n)(b)}function v(b){return t.exit("literalAutolinkHttp"),t.exit("literalAutolink"),i(b)}}function RN(t,i,n){let a=0;return o;function o(c){return(c===87||c===119)&&a<3?(a++,t.consume(c),o):c===46&&a===3?(t.consume(c),u):n(c)}function u(c){return c===null?n(c):i(c)}}function IN(t,i,n){let a,o,u;return c;function c(f){return f===46||f===95?t.check(Mx,p,d)(f):f===null||et(f)||fr(f)||f!==45&&Cs(f)?p(f):(u=!0,t.consume(f),c)}function d(f){return f===95?a=!0:(o=a,a=void 0),t.consume(f),c}function p(f){return o||a||!u?n(f):i(f)}}function _N(t,i){let n=0,a=0;return o;function o(c){return c===40?(n++,t.consume(c),o):c===41&&a<n?u(c):c===33||c===34||c===38||c===39||c===41||c===42||c===44||c===46||c===58||c===59||c===60||c===63||c===93||c===95||c===126?t.check(Mx,i,u)(c):c===null||et(c)||fr(c)?i(c):(t.consume(c),o)}function u(c){return c===41&&a++,t.consume(c),o}}function LN(t,i,n){return a;function a(d){return d===33||d===34||d===39||d===41||d===42||d===44||d===46||d===58||d===59||d===63||d===95||d===126?(t.consume(d),a):d===38?(t.consume(d),u):d===93?(t.consume(d),o):d===60||d===null||et(d)||fr(d)?i(d):n(d)}function o(d){return d===null||d===40||d===91||et(d)||fr(d)?i(d):a(d)}function u(d){return Ut(d)?c(d):n(d)}function c(d){return d===59?(t.consume(d),a):Ut(d)?(t.consume(d),c):n(d)}}function ON(t,i,n){return a;function a(u){return t.consume(u),o}function o(u){return Pt(u)?n(u):i(u)}}function Dx(t){return t===null||t===40||t===42||t===95||t===91||t===93||t===126||et(t)}function kx(t){return!Ut(t)}function Nx(t){return!(t===47||Rf(t))}function Rf(t){return t===43||t===45||t===46||t===95||Pt(t)}function Wf(t){let i=t.length,n=!1;for(;i--;){const a=t[i][1];if((a.type==="labelLink"||a.type==="labelImage")&&!a._balanced){n=!0;break}if(a._gfmAutolinkLiteralWalkedInto){n=!1;break}}return t.length>0&&!n&&(t[t.length-1][1]._gfmAutolinkLiteralWalkedInto=!0),n}const FN={tokenize:GN,partial:!0};function BN(){return{document:{91:{name:"gfmFootnoteDefinition",tokenize:jN,continuation:{tokenize:UN},exit:HN}},text:{91:{name:"gfmFootnoteCall",tokenize:VN},93:{name:"gfmPotentialFootnoteCall",add:"after",tokenize:PN,resolveTo:zN}}}}function PN(t,i,n){const a=this;let o=a.events.length;const u=a.parser.gfmFootnotes||(a.parser.gfmFootnotes=[]);let c;for(;o--;){const p=a.events[o][1];if(p.type==="labelImage"){c=p;break}if(p.type==="gfmFootnoteCall"||p.type==="labelLink"||p.type==="label"||p.type==="image"||p.type==="link")break}return d;function d(p){if(!c||!c._balanced)return n(p);const f=In(a.sliceSerialize({start:c.end,end:a.now()}));return f.codePointAt(0)!==94||!u.includes(f.slice(1))?n(p):(t.enter("gfmFootnoteCallLabelMarker"),t.consume(p),t.exit("gfmFootnoteCallLabelMarker"),i(p))}}function zN(t,i){let n=t.length;for(;n--;)if(t[n][1].type==="labelImage"&&t[n][0]==="enter"){t[n][1];break}t[n+1][1].type="data",t[n+3][1].type="gfmFootnoteCallLabelMarker";const a={type:"gfmFootnoteCall",start:Object.assign({},t[n+3][1].start),end:Object.assign({},t[t.length-1][1].end)},o={type:"gfmFootnoteCallMarker",start:Object.assign({},t[n+3][1].end),end:Object.assign({},t[n+3][1].end)};o.end.column++,o.end.offset++,o.end._bufferIndex++;const u={type:"gfmFootnoteCallString",start:Object.assign({},o.end),end:Object.assign({},t[t.length-1][1].start)},c={type:"chunkString",contentType:"string",start:Object.assign({},u.start),end:Object.assign({},u.end)},d=[t[n+1],t[n+2],["enter",a,i],t[n+3],t[n+4],["enter",o,i],["exit",o,i],["enter",u,i],["enter",c,i],["exit",c,i],["exit",u,i],t[t.length-2],t[t.length-1],["exit",a,i]];return t.splice(n,t.length-n+1,...d),t}function VN(t,i,n){const a=this,o=a.parser.gfmFootnotes||(a.parser.gfmFootnotes=[]);let u=0,c;return d;function d(b){return t.enter("gfmFootnoteCall"),t.enter("gfmFootnoteCallLabelMarker"),t.consume(b),t.exit("gfmFootnoteCallLabelMarker"),p}function p(b){return b!==94?n(b):(t.enter("gfmFootnoteCallMarker"),t.consume(b),t.exit("gfmFootnoteCallMarker"),t.enter("gfmFootnoteCallString"),t.enter("chunkString").contentType="string",f)}function f(b){if(u>999||b===93&&!c||b===null||b===91||et(b))return n(b);if(b===93){t.exit("chunkString");const T=t.exit("gfmFootnoteCallString");return o.includes(In(a.sliceSerialize(T)))?(t.enter("gfmFootnoteCallLabelMarker"),t.consume(b),t.exit("gfmFootnoteCallLabelMarker"),t.exit("gfmFootnoteCall"),i):n(b)}return et(b)||(c=!0),u++,t.consume(b),b===92?v:f}function v(b){return b===91||b===92||b===93?(t.consume(b),u++,f):f(b)}}function jN(t,i,n){const a=this,o=a.parser.gfmFootnotes||(a.parser.gfmFootnotes=[]);let u,c=0,d;return p;function p(w){return t.enter("gfmFootnoteDefinition")._container=!0,t.enter("gfmFootnoteDefinitionLabel"),t.enter("gfmFootnoteDefinitionLabelMarker"),t.consume(w),t.exit("gfmFootnoteDefinitionLabelMarker"),f}function f(w){return w===94?(t.enter("gfmFootnoteDefinitionMarker"),t.consume(w),t.exit("gfmFootnoteDefinitionMarker"),t.enter("gfmFootnoteDefinitionLabelString"),t.enter("chunkString").contentType="string",v):n(w)}function v(w){if(c>999||w===93&&!d||w===null||w===91||et(w))return n(w);if(w===93){t.exit("chunkString");const N=t.exit("gfmFootnoteDefinitionLabelString");return u=In(a.sliceSerialize(N)),t.enter("gfmFootnoteDefinitionLabelMarker"),t.consume(w),t.exit("gfmFootnoteDefinitionLabelMarker"),t.exit("gfmFootnoteDefinitionLabel"),T}return et(w)||(d=!0),c++,t.consume(w),w===92?b:v}function b(w){return w===91||w===92||w===93?(t.consume(w),c++,v):v(w)}function T(w){return w===58?(t.enter("definitionMarker"),t.consume(w),t.exit("definitionMarker"),o.includes(u)||o.push(u),Ue(t,C,"gfmFootnoteDefinitionWhitespace")):n(w)}function C(w){return i(w)}}function UN(t,i,n){return t.check(Rl,i,t.attempt(FN,i,n))}function HN(t){t.exit("gfmFootnoteDefinition")}function GN(t,i,n){const a=this;return Ue(t,o,"gfmFootnoteDefinitionIndent",5);function o(u){const c=a.events[a.events.length-1];return c&&c[1].type==="gfmFootnoteDefinitionIndent"&&c[2].sliceSerialize(c[1],!0).length===4?i(u):n(u)}}function qN(t){let n=(t||{}).singleTilde;const a={name:"strikethrough",tokenize:u,resolveAll:o};return n==null&&(n=!0),{text:{126:a},insideSpan:{null:[a]},attentionMarkers:{null:[126]}};function o(c,d){let p=-1;for(;++p<c.length;)if(c[p][0]==="enter"&&c[p][1].type==="strikethroughSequenceTemporary"&&c[p][1]._close){let f=p;for(;f--;)if(c[f][0]==="exit"&&c[f][1].type==="strikethroughSequenceTemporary"&&c[f][1]._open&&c[p][1].end.offset-c[p][1].start.offset===c[f][1].end.offset-c[f][1].start.offset){c[p][1].type="strikethroughSequence",c[f][1].type="strikethroughSequence";const v={type:"strikethrough",start:Object.assign({},c[f][1].start),end:Object.assign({},c[p][1].end)},b={type:"strikethroughText",start:Object.assign({},c[f][1].end),end:Object.assign({},c[p][1].start)},T=[["enter",v,d],["enter",c[f][1],d],["exit",c[f][1],d],["enter",b,d]],C=d.parser.constructs.insideSpan.null;C&&cn(T,T.length,0,Es(C,c.slice(f+1,p),d)),cn(T,T.length,0,[["exit",b,d],["enter",c[p][1],d],["exit",c[p][1],d],["exit",v,d]]),cn(c,f-1,p-f+3,T),p=f+T.length-2;break}}for(p=-1;++p<c.length;)c[p][1].type==="strikethroughSequenceTemporary"&&(c[p][1].type="data");return c}function u(c,d,p){const f=this.previous,v=this.events;let b=0;return T;function T(w){return f===126&&v[v.length-1][1].type!=="characterEscape"?p(w):(c.enter("strikethroughSequenceTemporary"),C(w))}function C(w){const N=la(f);if(w===126)return b>1?p(w):(c.consume(w),b++,C);if(b<2&&!n)return p(w);const B=c.exit("strikethroughSequenceTemporary"),_=la(w);return B._open=!_||_===2&&!!N,B._close=!N||N===2&&!!_,d(w)}}}class YN{constructor(){this.map=[]}add(i,n,a){KN(this,i,n,a)}consume(i){if(this.map.sort(function(u,c){return u[0]-c[0]}),this.map.length===0)return;let n=this.map.length;const a=[];for(;n>0;)n-=1,a.push(i.slice(this.map[n][0]+this.map[n][1]),this.map[n][2]),i.length=this.map[n][0];a.push(i.slice()),i.length=0;let o=a.pop();for(;o;){for(const u of o)i.push(u);o=a.pop()}this.map.length=0}}function KN(t,i,n,a){let o=0;if(!(n===0&&a.length===0)){for(;o<t.map.length;){if(t.map[o][0]===i){t.map[o][1]+=n,t.map[o][2].push(...a);return}o+=1}t.map.push([i,n,a])}}function $N(t,i){let n=!1;const a=[];for(;i<t.length;){const o=t[i];if(n){if(o[0]==="enter")o[1].type==="tableContent"&&a.push(t[i+1][1].type==="tableDelimiterMarker"?"left":"none");else if(o[1].type==="tableContent"){if(t[i-1][1].type==="tableDelimiterMarker"){const u=a.length-1;a[u]=a[u]==="left"?"center":"right"}}else if(o[1].type==="tableDelimiterRow")break}else o[0]==="enter"&&o[1].type==="tableDelimiterRow"&&(n=!0);i+=1}return a}function XN(){return{flow:{null:{name:"table",tokenize:QN,resolveAll:JN}}}}function QN(t,i,n){const a=this;let o=0,u=0,c;return d;function d(I){let ue=a.events.length-1;for(;ue>-1;){const oe=a.events[ue][1].type;if(oe==="lineEnding"||oe==="linePrefix")ue--;else break}const de=ue>-1?a.events[ue][1].type:null,te=de==="tableHead"||de==="tableRow"?q:p;return te===q&&a.parser.lazy[a.now().line]?n(I):te(I)}function p(I){return t.enter("tableHead"),t.enter("tableRow"),f(I)}function f(I){return I===124||(c=!0,u+=1),v(I)}function v(I){return I===null?n(I):Ce(I)?u>1?(u=0,a.interrupt=!0,t.exit("tableRow"),t.enter("lineEnding"),t.consume(I),t.exit("lineEnding"),C):n(I):Pe(I)?Ue(t,v,"whitespace")(I):(u+=1,c&&(c=!1,o+=1),I===124?(t.enter("tableCellDivider"),t.consume(I),t.exit("tableCellDivider"),c=!0,v):(t.enter("data"),b(I)))}function b(I){return I===null||I===124||et(I)?(t.exit("data"),v(I)):(t.consume(I),I===92?T:b)}function T(I){return I===92||I===124?(t.consume(I),b):b(I)}function C(I){return a.interrupt=!1,a.parser.lazy[a.now().line]?n(I):(t.enter("tableDelimiterRow"),c=!1,Pe(I)?Ue(t,w,"linePrefix",a.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(I):w(I))}function w(I){return I===45||I===58?B(I):I===124?(c=!0,t.enter("tableCellDivider"),t.consume(I),t.exit("tableCellDivider"),N):Z(I)}function N(I){return Pe(I)?Ue(t,B,"whitespace")(I):B(I)}function B(I){return I===58?(u+=1,c=!0,t.enter("tableDelimiterMarker"),t.consume(I),t.exit("tableDelimiterMarker"),_):I===45?(u+=1,_(I)):I===null||Ce(I)?X(I):Z(I)}function _(I){return I===45?(t.enter("tableDelimiterFiller"),U(I)):Z(I)}function U(I){return I===45?(t.consume(I),U):I===58?(c=!0,t.exit("tableDelimiterFiller"),t.enter("tableDelimiterMarker"),t.consume(I),t.exit("tableDelimiterMarker"),j):(t.exit("tableDelimiterFiller"),j(I))}function j(I){return Pe(I)?Ue(t,X,"whitespace")(I):X(I)}function X(I){return I===124?w(I):I===null||Ce(I)?!c||o!==u?Z(I):(t.exit("tableDelimiterRow"),t.exit("tableHead"),i(I)):Z(I)}function Z(I){return n(I)}function q(I){return t.enter("tableRow"),Q(I)}function Q(I){return I===124?(t.enter("tableCellDivider"),t.consume(I),t.exit("tableCellDivider"),Q):I===null||Ce(I)?(t.exit("tableRow"),i(I)):Pe(I)?Ue(t,Q,"whitespace")(I):(t.enter("data"),ae(I))}function ae(I){return I===null||I===124||et(I)?(t.exit("data"),Q(I)):(t.consume(I),I===92?pe:ae)}function pe(I){return I===92||I===124?(t.consume(I),ae):ae(I)}}function JN(t,i){let n=-1,a=!0,o=0,u=[0,0,0,0],c=[0,0,0,0],d=!1,p=0,f,v,b;const T=new YN;for(;++n<t.length;){const C=t[n],w=C[1];C[0]==="enter"?w.type==="tableHead"?(d=!1,p!==0&&(Hy(T,i,p,f,v),v=void 0,p=0),f={type:"table",start:Object.assign({},w.start),end:Object.assign({},w.end)},T.add(n,0,[["enter",f,i]])):w.type==="tableRow"||w.type==="tableDelimiterRow"?(a=!0,b=void 0,u=[0,0,0,0],c=[0,n+1,0,0],d&&(d=!1,v={type:"tableBody",start:Object.assign({},w.start),end:Object.assign({},w.end)},T.add(n,0,[["enter",v,i]])),o=w.type==="tableDelimiterRow"?2:v?3:1):o&&(w.type==="data"||w.type==="tableDelimiterMarker"||w.type==="tableDelimiterFiller")?(a=!1,c[2]===0&&(u[1]!==0&&(c[0]=c[1],b=ts(T,i,u,o,void 0,b),u=[0,0,0,0]),c[2]=n)):w.type==="tableCellDivider"&&(a?a=!1:(u[1]!==0&&(c[0]=c[1],b=ts(T,i,u,o,void 0,b)),u=c,c=[u[1],n,0,0])):w.type==="tableHead"?(d=!0,p=n):w.type==="tableRow"||w.type==="tableDelimiterRow"?(p=n,u[1]!==0?(c[0]=c[1],b=ts(T,i,u,o,n,b)):c[1]!==0&&(b=ts(T,i,c,o,n,b)),o=0):o&&(w.type==="data"||w.type==="tableDelimiterMarker"||w.type==="tableDelimiterFiller")&&(c[3]=n)}for(p!==0&&Hy(T,i,p,f,v),T.consume(i.events),n=-1;++n<i.events.length;){const C=i.events[n];C[0]==="enter"&&C[1].type==="table"&&(C[1]._align=$N(i.events,n))}return t}function ts(t,i,n,a,o,u){const c=a===1?"tableHeader":a===2?"tableDelimiter":"tableData",d="tableContent";n[0]!==0&&(u.end=Object.assign({},ra(i.events,n[0])),t.add(n[0],0,[["exit",u,i]]));const p=ra(i.events,n[1]);if(u={type:c,start:Object.assign({},p),end:Object.assign({},p)},t.add(n[1],0,[["enter",u,i]]),n[2]!==0){const f=ra(i.events,n[2]),v=ra(i.events,n[3]),b={type:d,start:Object.assign({},f),end:Object.assign({},v)};if(t.add(n[2],0,[["enter",b,i]]),a!==2){const T=i.events[n[2]],C=i.events[n[3]];if(T[1].end=Object.assign({},C[1].end),T[1].type="chunkText",T[1].contentType="text",n[3]>n[2]+1){const w=n[2]+1,N=n[3]-n[2]-1;t.add(w,N,[])}}t.add(n[3]+1,0,[["exit",b,i]])}return o!==void 0&&(u.end=Object.assign({},ra(i.events,o)),t.add(o,0,[["exit",u,i]]),u=void 0),u}function Hy(t,i,n,a,o){const u=[],c=ra(i.events,n);o&&(o.end=Object.assign({},c),u.push(["exit",o,i])),a.end=Object.assign({},c),u.push(["exit",a,i]),t.add(n+1,0,u)}function ra(t,i){const n=t[i],a=n[0]==="enter"?"start":"end";return n[1][a]}const WN={name:"tasklistCheck",tokenize:eR};function ZN(){return{text:{91:WN}}}function eR(t,i,n){const a=this;return o;function o(p){return a.previous!==null||!a._gfmTasklistFirstContentOfListItem?n(p):(t.enter("taskListCheck"),t.enter("taskListCheckMarker"),t.consume(p),t.exit("taskListCheckMarker"),u)}function u(p){return et(p)?(t.enter("taskListCheckValueUnchecked"),t.consume(p),t.exit("taskListCheckValueUnchecked"),c):p===88||p===120?(t.enter("taskListCheckValueChecked"),t.consume(p),t.exit("taskListCheckValueChecked"),c):n(p)}function c(p){return p===93?(t.enter("taskListCheckMarker"),t.consume(p),t.exit("taskListCheckMarker"),t.exit("taskListCheck"),d):n(p)}function d(p){return Ce(p)?i(p):Pe(p)?t.check({tokenize:tR},i,n)(p):n(p)}}function tR(t,i,n){return Ue(t,a,"whitespace");function a(o){return o===null?n(o):i(o)}}function nR(t){return V0([wN(),BN(),qN(t),XN(),ZN()])}const iR={};function Rx(t){const i=this,n=t||iR,a=i.data(),o=a.micromarkExtensions||(a.micromarkExtensions=[]),u=a.fromMarkdownExtensions||(a.fromMarkdownExtensions=[]),c=a.toMarkdownExtensions||(a.toMarkdownExtensions=[]);o.push(nR(n)),u.push(CN()),c.push(EN(n))}const rR=async t=>{if(!t)return{success:!1,message:"No content to copy"};try{const i=`
      <div style="color: #000000; font-family: system-ui, -apple-system, sans-serif; line-height: 1.6; background: transparent;">
        ${t.split(`
`).map(a=>{if(a.startsWith("# "))return`<h1 style="color: #000000; font-size: 1.5rem; font-weight: bold; margin: 1.5rem 0 1rem 0;">${a.replace("# ","")}</h1>`;if(a.startsWith("## "))return`<h2 style="color: #000000; font-size: 1.25rem; font-weight: bold; margin: 1rem 0 0.5rem 0;">${a.replace("## ","")}</h2>`;if(a.startsWith("### "))return`<h3 style="color: #000000; font-size: 1.1rem; font-weight: bold; margin: 0.75rem 0 0.25rem 0;">${a.replace("### ","")}</h3>`;if(a.startsWith("#### "))return`<h4 style="color: #000000; font-size: 1rem; font-weight: bold; margin: 0.5rem 0 0.25rem 0;">${a.replace("#### ","")}</h4>`;if(a.startsWith("- **")){const o=a.match(/- \*\*(.*?)\*\*:\s*(.*)/);if(o)return`<p style="margin: 0.25rem 0; color: #000000;"><strong style="color: #000000;">${o[1]}:</strong> ${o[2]}</p>`}else{if(a.startsWith("- "))return`<p style="margin: 0.25rem 0; padding-left: 1rem; color: #000000;"> ${a.replace("- ","")}</p>`;if(a.match(/^\d+\./))return`<p style="margin: 0.25rem 0; padding-left: 1rem; color: #000000;">${a}</p>`;if(a.startsWith("**")&&a.endsWith("**"))return`<p style="margin: 0.5rem 0; color: #000000; font-weight: bold;">${a.replace(/\*\*/g,"")}</p>`;if(a.trim())return`<p style="margin: 0.5rem 0; color: #000000;">${a}</p>`}return"<br>"}).join("")}
      </div>
    `,n=t.split(`
`).map(a=>{if(a.startsWith("# "))return a.replace("# ","");if(a.startsWith("## "))return a.replace("## ","");if(a.startsWith("### "))return a.replace("### ","");if(a.startsWith("#### "))return a.replace("#### ","");if(a.startsWith("- **")){const o=a.match(/- \*\*(.*?)\*\*:\s*(.*)/);if(o)return`${o[1]}: ${o[2]}`}else{if(a.startsWith("- "))return` ${a.replace("- ","")}`;if(a.startsWith("**")&&a.endsWith("**"))return a.replace(/\*\*/g,"")}return a}).join(`
`);if(navigator.clipboard&&navigator.clipboard.write){const a=new Blob([i],{type:"text/html"}),o=new Blob([n],{type:"text/plain"}),u=new ClipboardItem({"text/html":a,"text/plain":o});return await navigator.clipboard.write([u]),{success:!0,message:"Content copied (Rich Format)!"}}else return await navigator.clipboard.writeText(n),{success:!0,message:"Content copied (Plain Text)!"}}catch(i){return console.error("Failed to copy content:",i),{success:!1,message:"Failed to copy. Please try manually."}}},us=({content:t,onExportPDF:i,onCopy:n,className:a=""})=>{const[o,u]=ye.useState(""),c=async()=>{if(n){n();return}const p=await rR(t);u(p.message),setTimeout(()=>u(""),3e3)},d={h1:({children:p})=>h.jsx("h1",{className:"text-3xl font-bold text-purple-300 mb-6 border-b border-gray-600 pb-3",children:p}),h2:({children:p})=>h.jsx("h2",{className:"text-2xl font-semibold text-purple-200 mt-8 mb-4 border-l-4 border-purple-500 pl-4",children:p}),h3:({children:p})=>h.jsx("h3",{className:"text-xl font-semibold text-purple-100 mt-6 mb-3 flex items-center",children:p}),h4:({children:p})=>h.jsx("h4",{className:"text-lg font-medium text-gray-200 mt-4 mb-2",children:p}),p:({children:p})=>h.jsx("p",{className:"text-gray-300 mb-4 leading-relaxed",children:p}),ul:({children:p})=>h.jsx("ul",{className:"list-disc list-inside text-gray-300 mb-4 space-y-1 ml-4",children:p}),ol:({children:p})=>h.jsx("ol",{className:"list-decimal list-inside text-gray-300 mb-4 space-y-1 ml-4",children:p}),li:({children:p})=>h.jsx("li",{className:"text-gray-300 mb-1",children:p}),strong:({children:p})=>h.jsx("strong",{className:"font-semibold text-gray-100",children:p}),em:({children:p})=>h.jsx("em",{className:"italic text-gray-200",children:p}),code:({children:p,className:f})=>f?h.jsx("pre",{className:"bg-gray-800 border border-gray-600 rounded-lg p-4 overflow-x-auto mb-4",children:h.jsx("code",{className:"text-green-300 text-sm font-mono",children:p})}):h.jsx("code",{className:"bg-gray-700 text-purple-300 px-2 py-1 rounded text-sm font-mono",children:p}),blockquote:({children:p})=>h.jsx("blockquote",{className:"border-l-4 border-purple-500 bg-gray-800/50 pl-4 py-2 mb-4 italic text-gray-300",children:p}),table:({children:p})=>h.jsx("div",{className:"overflow-x-auto mb-6",children:h.jsx("table",{className:"min-w-full bg-gray-800 border border-gray-600 rounded-lg",children:p})}),thead:({children:p})=>h.jsx("thead",{className:"bg-gray-700",children:p}),tbody:({children:p})=>h.jsx("tbody",{className:"divide-y divide-gray-600",children:p}),tr:({children:p})=>h.jsx("tr",{className:"hover:bg-gray-700/50 transition-colors",children:p}),th:({children:p})=>h.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold text-purple-300 border-b border-gray-600",children:p}),td:({children:p})=>h.jsx("td",{className:"px-4 py-3 text-sm text-gray-300",children:p}),hr:()=>h.jsx("hr",{className:"border-gray-600 my-8"}),a:({href:p,children:f})=>h.jsx("a",{href:p,className:"text-purple-400 hover:text-purple-300 underline transition-colors",target:"_blank",rel:"noopener noreferrer",children:f})};return h.jsxs("div",{className:`markdown-content ${a}`,children:[h.jsxs("div",{className:"flex justify-end gap-2 mb-4 pb-4 border-b border-gray-700",children:[h.jsx(Be,{onClick:c,variant:"outline",size:"sm",leftIcon:h.jsx(lM,{className:"w-4 h-4"}),children:"Copy Content"}),i&&h.jsx(Be,{onClick:i,variant:"secondary",size:"sm",leftIcon:h.jsx(yf,{className:"w-4 h-4"}),children:"Export PDF"})]}),o&&h.jsx("div",{className:`text-sm mb-4 p-2 rounded ${o.includes("Failed")?"text-red-400 bg-red-900/20":"text-green-400 bg-green-900/20"}`,children:o}),h.jsx("div",{className:"prose prose-invert max-w-none",children:h.jsx(ox,{components:d,remarkPlugins:[Rx],children:t})})]})},Ix=[{category:"House",genre:"House",tempoRange:[120,126],sections:["Intro","Build-Up","Drop","Breakdown","Drop 2","Outro"]},{category:"House",genre:"Deep House",tempoRange:[118,124],sections:["Intro","Build-Up","Drop","Breakdown","Outro"]},{category:"House",genre:"Tech House",tempoRange:[122,127],sections:["Intro","Build-Up","Drop","Breakdown","Drop 2","Outro"]},{category:"House",genre:"Progressive House",tempoRange:[124,128],sections:["Intro","Build-Up","Drop","Breakdown","Outro"]},{category:"House",genre:"Afro House",tempoRange:[120,125],sections:["Intro","Build-Up","Drop","Breakdown","Outro"]},{category:"House",genre:"Nu-Disco",tempoRange:[115,125],sections:["Intro","Verse","Chorus","Bridge","Outro"]},{category:"Techno",genre:"Melodic Techno",tempoRange:[120,126],sections:["Intro","Groove Build","Peak Moment","Mid-Break","Outro"]},{category:"Techno",genre:"Minimal Techno",tempoRange:[120,125],sections:["Intro","Groove Build","Peak Moment","Mid-Break","Outro"]},{category:"Techno",genre:"Big Room Techno",tempoRange:[126,130],sections:["Intro","Build-Up","Drop","Breakdown","Build-Up 2","Final Drop","Outro"]},{category:"Techno",genre:"Peak Time Techno",tempoRange:[128,135],sections:["Intro","Groove Build","Peak Moment","Mid-Break","Outro"]},{category:"Techno",genre:"Hard Techno",tempoRange:[135,145],sections:["Intro","Groove Build","Peak Moment","Mid-Break","Outro"]},{category:"Trance",genre:"Trance",tempoRange:[128,140],sections:["Intro","Build-Up","Drop","Breakdown","Build-Up 2","Final Drop","Outro"]},{category:"Trance",genre:"Psytrance",tempoRange:[140,150],sections:["Intro","Build-Up","Drop","Breakdown","Build-Up 2","Final Drop","Outro"]},{category:"Trance",genre:"Progressive Trance",tempoRange:[130,138],sections:["Intro","Build-Up","Drop","Breakdown","Build-Up 2","Final Drop","Outro"]},{category:"Trance",genre:"Uplifting Trance",tempoRange:[132,140],sections:["Intro","Build-Up","Drop","Breakdown","Build-Up 2","Final Drop","Outro"]},{category:"Bass & Dubstep",genre:"Dubstep",tempoRange:[140,150],sections:["Intro","Pre-Drop","Drop 1","Switch-Up","Drop 2","Outro"]},{category:"Bass & Dubstep",genre:"Riddim Dubstep",tempoRange:[140,150],sections:["Intro","Pre-Drop","Drop 1","Switch-Up","Drop 2","Outro"]},{category:"Bass & Dubstep",genre:"Hybrid Trap",tempoRange:[135,150],sections:["Intro","Pre-Drop","Drop 1","Mid-Section","Drop 2","Outro"]},{category:"Bass & Dubstep",genre:"Midtempo Bass",tempoRange:[95,110],sections:["Intro","Build-Up","Drop","Breakdown","Outro"]},{category:"Bass & Dubstep",genre:"Future Bass",tempoRange:[140,155],sections:["Intro","Pre-Drop","Drop 1","Breakdown","Drop 2","Outro"]},{category:"Bass & Dubstep",genre:"Phonk",tempoRange:[130,150],sections:["Intro","Pre-Drop","Drop 1","Switch-Up","Drop 2","Outro"]},{category:"Bass & Dubstep",genre:"Hardstyle",tempoRange:[150,160],sections:["Intro","Pre-Drop","Drop 1","Switch-Up","Drop 2","Outro"]},{category:"Trap & Future Styles",genre:"Trap",tempoRange:[130,150],sections:["Intro","Pre-Drop","Drop 1","Mid-Section","Drop 2","Outro"]},{category:"Trap & Future Styles",genre:"Hard Trap",tempoRange:[135,150],sections:["Intro","Pre-Drop","Drop 1","Switch-Up","Drop 2","Outro"]},{category:"Trap & Future Styles",genre:"Hyperpop",tempoRange:[140,160],sections:["Intro","Verse","Drop","Bridge","Outro"]},{category:"Trap & Future Styles",genre:"Trap Soul",tempoRange:[100,130],sections:["Intro","Verse","Chorus","Bridge","Outro"]},{category:"Trap & Future Styles",genre:"Jersey Club",tempoRange:[130,140],sections:["Intro","Pre-Drop","Drop 1","Mid-Section","Drop 2","Outro"]},{category:"Drum & Bass / UK Styles",genre:"Drum & Bass",tempoRange:[170,175],sections:["Intro","Build-Up","Drop","Mid-Roll","Breakdown","Second Drop","Outro"]},{category:"Drum & Bass / UK Styles",genre:"Liquid DnB",tempoRange:[170,175],sections:["Intro","Build-Up","Drop","Mid-Roll","Breakdown","Second Drop","Outro"]},{category:"Drum & Bass / UK Styles",genre:"Jungle",tempoRange:[170,175],sections:["Intro","Build-Up","Drop","Mid-Roll","Breakdown","Second Drop","Outro"]},{category:"Drum & Bass / UK Styles",genre:"UK Garage",tempoRange:[130,138],sections:["Intro","Build-Up","Drop","Breakdown","Outro"]},{category:"Drum & Bass / UK Styles",genre:"UK Bass",tempoRange:[128,138],sections:["Intro","Build-Up","Drop","Breakdown","Outro"]},{category:"Drum & Bass / UK Styles",genre:"Breakbeat",tempoRange:[125,135],sections:["Intro","Build-Up","Drop","Breakdown","Outro"]},{category:"Pop / Indie / Electro",genre:"EDM Pop",tempoRange:[110,125],sections:["Intro","Verse","Pre-Chorus","Chorus / Drop","Bridge","Outro"]},{category:"Pop / Indie / Electro",genre:"Indie Pop",tempoRange:[100,120],sections:["Intro","Verse","Chorus","Bridge","Outro"]},{category:"Pop / Indie / Electro",genre:"Indie Dance",tempoRange:[115,125],sections:["Intro","Verse","Chorus","Bridge","Outro"]},{category:"Pop / Indie / Electro",genre:"Electro Pop",tempoRange:[100,120],sections:["Intro","Verse","Pre-Chorus","Chorus","Bridge","Outro"]},{category:"Pop / Indie / Electro",genre:"Synth Pop",tempoRange:[100,115],sections:["Intro","Verse","Pre-Chorus","Chorus","Bridge","Outro"]},{category:"Retro & Synth",genre:"Synthwave",tempoRange:[85,105],sections:["Intro","Main Theme","Breakdown","Bridge","Outro"]},{category:"Retro & Synth",genre:"Chillwave",tempoRange:[85,100],sections:["Intro","Main Theme","Breakdown","Bridge","Outro"]},{category:"Retro & Synth",genre:"Vaporwave",tempoRange:[60,85],sections:["Intro","Main Theme","Breakdown","Outro"]},{category:"Retro & Synth",genre:"Retrowave",tempoRange:[90,110],sections:["Intro","Main Theme","Breakdown","Bridge","Outro"]},{category:"Hip-Hop & RnB",genre:"Boom Bap",tempoRange:[85,95],sections:["Intro","Verse","Chorus","Verse 2","Outro"]},{category:"Hip-Hop & RnB",genre:"Experimental Hip-Hop",tempoRange:[80,100],sections:["Intro","Verse","Drop","Bridge","Outro"]},{category:"Hip-Hop & RnB",genre:"RnB Remix",tempoRange:[85,100],sections:["Intro","Verse","Chorus","Bridge","Outro"]},{category:"Lo-fi & Chill",genre:"Lo-fi Hip-Hop",tempoRange:[65,85],sections:["Intro","Groove Section A","Groove Section B","Bridge / Texture Break","Outro"]},{category:"Lo-fi & Chill",genre:"Chillhop",tempoRange:[70,90],sections:["Intro","Groove Section A","Groove Section B","Bridge / Texture Break","Outro"]},{category:"Lo-fi & Chill",genre:"Trip-Hop",tempoRange:[70,90],sections:["Intro","Main Atmosphere","Texture Development","Outro"]},{category:"Lo-fi & Chill",genre:"Downtempo",tempoRange:[70,90],sections:["Intro","Main Atmosphere","Texture Development","Dynamic Peak","Outro"]},{category:"Lo-fi & Chill",genre:"Chillstep",tempoRange:[100,115],sections:["Intro","Build-Up","Drop","Breakdown","Outro"]},{category:"Ambient & Cinematic",genre:"Ambient",tempoRange:[60,80],sections:["Intro","Main Atmosphere","Texture Development","Outro"]},{category:"Ambient & Cinematic",genre:"Cinematic",tempoRange:[60,80],sections:["Intro","Main Atmosphere","Texture Development","Outro"]}],aR=()=>{const t={};return Ix.forEach(({category:i,genre:n})=>{t[i]||(t[i]=[]),t[i].push(n)}),t},Gy=t=>Ix.find(i=>i.genre===t),qy=t=>{if(!t)return null;const i=/##\s*\s*Original Track DNA Analysis/i,n=t.match(i);if(!n||typeof n.index>"u")return null;const a=n.index,o=t.substring(a+n[0].length).match(/^##\s+/m),u=o&&typeof o.index<"u"?a+n[0].length+o.index:t.length,d=t.substring(a,u).trim().match(/\*\*Harmonic Blueprint\*\*:\s*([^\n]+)/i);if(d&&d[1]){const f=d[1].match(/([IVXLCDMivxlcdm\d\s,-]+(?:\s*-\s*[IVXLCDMivxlcdm\d\s,-]+)*)/);if(f&&f[1])return f[1].trim()}return null},lR=()=>{const[t,i]=ye.useState(null),[n,a]=ye.useState(""),[o,u]=ye.useState(""),[c,d]=ye.useState(""),[p,f]=ye.useState(""),[v,b]=ye.useState(!1),[T,C]=ye.useState(null),[w,N]=ye.useState(""),B=ye.useRef(null),_=aR(),U=Object.keys(_),j=I=>{var oe;const ue=(oe=I.target.files)==null?void 0:oe[0];if(!ue)return;if(!(["audio/wav","audio/mpeg","audio/mp3"].includes(ue.type)||ue.name.toLowerCase().endsWith(".wav")||ue.name.toLowerCase().endsWith(".mp3"))){N("Please upload a WAV or MP3 file");return}if(ue.size>100*1024*1024){N("File size must be under 100MB");return}i(ue),N("")},X=I=>{I.preventDefault();const ue=I.dataTransfer.files[0];ue&&j({target:{files:[ue]}})},Z=I=>{I.preventDefault()},q=async()=>{if(!t||!o){N("Please upload an audio file and select a target genre");return}b(!0),N("");try{const I=await wM(t),ue={base64:I.base64,mimeType:I.mimeType},de=Gy(o),te=await iM(ue,o,de,c,p);console.log("Remix guide generated, now generating MIDI patterns...");try{const oe=qy(te.guide),me={key:te.targetKey,tempo:te.targetTempo,timeSignature:[4,4],chordProgression:oe||te.originalChordProgression||"i-VI-III-VII",genre:o,bars:8,targetInstruments:["bassline","drums","melody","chords"],guidebookContext:`${o} remix at ${te.targetTempo} BPM in ${te.targetKey}`,songSection:te.sections[0]||"Intro"};console.log("MIDI settings:",me);const Y=await Ml(me);let L="";for await(const V of Y)V.text&&(L+=V.text);L=L.trim();const D=/^```(\w*)?\s*\n?(.*?)\n?\s*```$/s,k=L.match(D);k&&k[2]&&(L=k[2].trim()),console.log("Raw MIDI JSON:",L);const S=JSON.parse(L);if(S.drums){const V={};for(const A in S.drums)V[A.toLowerCase().replace(/\s+/g,"_")]=S.drums[A];S.drums=V}console.log("Generated MIDI patterns:",S);const O={...te,generatedMidiPatterns:S};C(O)}catch(oe){console.error("Error generating MIDI patterns for remix:",oe),C({...te,generatedMidiPatterns:{}}),N(`Remix guide generated successfully, but MIDI generation failed: ${oe instanceof Error?oe.message:"Unknown error"}`)}}catch(I){console.error("Error generating remix guide:",I),N(I instanceof Error?I.message:"Failed to generate remix guide. Please try again.")}finally{b(!1)}},Q=I=>{a(I),u("")},ae=async()=>{if(T){b(!0),N("");try{const I=qy(T.guide),ue={key:T.targetKey,tempo:T.targetTempo,timeSignature:[4,4],chordProgression:I||T.originalChordProgression||"i-VI-III-VII",genre:o,bars:8,targetInstruments:["bassline","drums","melody","chords"],guidebookContext:`${o} remix at ${T.targetTempo} BPM in ${T.targetKey}`,songSection:T.sections[0]||"Intro"};console.log("Regenerating MIDI with settings:",ue);const de=await Ml(ue);let te="";for await(const L of de)L.text&&(te+=L.text);te=te.trim();const oe=/^```(\w*)?\s*\n?(.*?)\n?\s*```$/s,me=te.match(oe);me&&me[2]&&(te=me[2].trim()),console.log("Raw regenerated MIDI JSON:",te);const Y=JSON.parse(te);if(Y.drums){const L={};for(const D in Y.drums)L[D.toLowerCase().replace(/\s+/g,"_")]=Y.drums[D];Y.drums=L}console.log("Regenerated MIDI patterns:",Y),C(L=>L?{...L,generatedMidiPatterns:Y}:null)}catch(I){console.error("Error regenerating MIDI patterns:",I),N(`Failed to regenerate MIDI patterns: ${I instanceof Error?I.message:"Unknown error"}`)}finally{b(!1)}}},pe=()=>{i(null),a(""),u(""),d(""),f(""),C(null),N(""),B.current&&(B.current.value="")};return h.jsxs("div",{className:"space-y-6",children:[h.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[h.jsxs(Ge,{className:"p-6",children:[h.jsx("h3",{className:"text-lg font-semibold mb-4 text-white",children:"Upload Original Track"}),h.jsxs("div",{className:"border-2 border-dashed border-gray-600 rounded-lg p-8 text-center cursor-pointer hover:border-gray-500 transition-colors",onDrop:X,onDragOver:Z,onClick:()=>{var I;return(I=B.current)==null?void 0:I.click()},children:[h.jsx("input",{ref:B,type:"file",accept:".wav,.mp3,audio/wav,audio/mpeg",onChange:j,className:"hidden"}),h.jsxs("div",{className:"space-y-2",children:[h.jsx("div",{className:"text-4xl",children:""}),h.jsx("div",{className:"text-white font-medium",children:t?t.name:"Upload Original Track"}),h.jsx("p",{className:"text-gray-400 text-sm",children:"or drag and drop"})]}),h.jsxs("p",{className:"text-gray-500 text-xs mt-2",children:["MP3, WAV up to ",h.jsx("span",{className:"text-orange-400",children:"100"}),"MB"]})]})]}),h.jsxs(Ge,{className:"p-6",children:[h.jsx("h3",{className:"text-lg font-semibold mb-4 text-white",children:"Target Remix Genre"}),h.jsxs("div",{className:"space-y-4",children:[h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"1. Select Category"}),h.jsxs("select",{value:n,onChange:I=>Q(I.target.value),className:"w-full p-3 bg-gray-700 border border-gray-600 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-orange-500",children:[h.jsx("option",{value:"",children:"Choose a category..."}),U.map(I=>h.jsx("option",{value:I,children:I},I))]})]}),n&&h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"2. Select Genre"}),h.jsxs("select",{value:o,onChange:I=>u(I.target.value),className:"w-full p-3 bg-gray-700 border border-gray-600 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-orange-500",children:[h.jsx("option",{value:"",children:"Choose a genre..."}),_[n].map(I=>h.jsx("option",{value:I,children:I},I))]})]}),o&&h.jsx("div",{className:"text-sm text-gray-400 bg-gray-800 p-3 rounded-lg",children:(()=>{const I=Gy(o);return I?` Tempo: ${I.tempoRange[0]}-${I.tempoRange[1]} BPM`:""})()})]})]})]}),h.jsxs(Ge,{className:"p-6",children:[h.jsx("h3",{className:"text-lg font-semibold mb-4 text-white",children:"Production Setup (Optional)"}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"DAW (Digital Audio Workstation)"}),h.jsx("input",{type:"text",value:c,onChange:I=>d(I.target.value),placeholder:"e.g., Ableton Live, Logic Pro X, FL Studio...",className:"w-full p-3 bg-gray-700 border border-gray-600 rounded-lg text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-orange-500"})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Available Plugins"}),h.jsx("input",{type:"text",value:p,onChange:I=>f(I.target.value),placeholder:"e.g., Serum, FabFilter Pro-Q 3, Valhalla VintageVerb...",className:"w-full p-3 bg-gray-700 border border-gray-600 rounded-lg text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-orange-500"})]})]}),h.jsx("p",{className:"text-xs text-gray-400 mt-2",children:"Specify your DAW and plugins to get tailored parameter recommendations in the remix guide"})]}),w&&h.jsx("div",{className:"bg-red-900/50 border border-red-500 rounded-lg p-4 text-red-200",children:w}),h.jsxs("div",{className:"flex gap-4",children:[h.jsx(Be,{onClick:q,disabled:!t||!o||v,className:"flex-1",children:v?h.jsxs(h.Fragment,{children:[h.jsx(Oi,{size:"sm"})," Generating RemixGuide..."]}):" Generate RemixGuide"}),h.jsx(Be,{onClick:pe,variant:"outline",children:"Reset"})]}),T&&h.jsxs("div",{className:"space-y-6",children:[h.jsxs(Ge,{className:"p-6",children:[h.jsxs("div",{className:"flex justify-between items-center mb-4",children:[h.jsxs("h3",{className:"text-xl font-bold text-white",children:[" ",o," Remix Guide"]}),h.jsxs("div",{className:"text-sm text-gray-400",children:["Target: ",T.targetTempo," BPM  ",T.targetKey]})]}),h.jsxs("div",{className:"bg-gray-800/50 rounded-lg p-6 max-h-[calc(100vh-8rem)] overflow-y-auto",children:[h.jsx(us,{content:T.guide}),h.jsxs(Be,{onClick:()=>openAIAssistant("RemixGuide for this project"),className:"mt-4 flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:[h.jsx("img",{src:"/production-coach-icon.svg",alt:"AI",className:"w-5 h-5"}),"Ask follow-up questions"]})]})]}),h.jsxs(Ge,{className:"p-6",children:[h.jsxs("div",{className:"flex justify-between items-center mb-6",children:[h.jsx("h3",{className:"text-xl font-bold text-white",children:" MIDI Remix Patterns"}),h.jsx(Be,{onClick:ae,disabled:v,variant:"outline",className:"text-sm",children:v?h.jsxs(h.Fragment,{children:[h.jsx(Oi,{size:"sm"})," Regenerating..."]}):" Regenerate MIDI"})]}),T.generatedMidiPatterns?h.jsx(M0,{sections:T.sections,targetTempo:T.targetTempo,targetKey:T.targetKey,isRemixMode:!0,currentGuidebookEntry:{id:`remix-${Date.now()}`,title:`${o} Remix`,genre:[o],artistReference:"Remix Guide",vibe:[o],daw:c||"Not specified",plugins:p||"Not specified",availableInstruments:"Remix instruments",content:T.guide,createdAt:new Date().toISOString(),generatedMidiPatterns:T.generatedMidiPatterns}},`remix-${o}-${Date.now()}`):h.jsx("div",{className:"text-center py-8",children:h.jsx("div",{className:"text-gray-400 mb-4",children:v?h.jsxs(h.Fragment,{children:[h.jsx(Oi,{size:"lg"}),h.jsx("p",{className:"mt-4",children:"Generating MIDI patterns..."})]}):h.jsxs(h.Fragment,{children:[h.jsx("div",{className:"text-4xl mb-2",children:""}),h.jsx("p",{children:"MIDI patterns will appear here after generation"}),h.jsx("p",{className:"text-sm mt-2",children:'Click "Regenerate MIDI" to generate patterns'})]})})})]})]}),!T&&h.jsx(Ge,{className:"p-6 bg-gray-800/30",children:h.jsxs("div",{className:"text-center space-y-4",children:[h.jsx("div",{className:"text-6xl",children:""}),h.jsx("h3",{className:"text-xl font-bold text-white",children:"Transform Your Track"}),h.jsx("p",{className:"text-gray-400 max-w-2xl mx-auto",children:"Upload your original track and select a target genre. Our AI will analyze the harmonic progression, melodies, and rhythmic elements, then generate a comprehensive remix guide with genre-appropriate MIDI patterns for basslines, drums, melodies, and textures."})]})})]})},Yy=[{frequency:"20-30 Hz",category:"sub",min:20,max:30,description:"Extreme sub-bass rumble. Rarely useful except for cinematic or sub-heavy genres.",action:"cut",instruments:["Kick drum","Sub bass","808s","Synth bass"]},{frequency:"30-50 Hz",category:"sub",min:30,max:50,description:"Deep low-end power. Adds weight, but too much = flabbiness.",action:"boost",instruments:["Kick drum","Sub bass","Bass guitar","808s"]},{frequency:"50-60 Hz",category:"sub",min:50,max:60,description:'Bass punch and fullness. Defines the "bottom" of mix.',action:"boost",instruments:["Kick drum","Bass guitar","Sub bass","Synths"]},{frequency:"60-100 Hz",category:"bass",min:60,max:100,description:"Bass body and tone. Core of bass instruments. Too much = boom.",action:"boost",instruments:["Bass guitar","Kick drum","Synth bass","Cello"]},{frequency:"100-160 Hz",category:"bass",min:100,max:160,description:"Low warmth. Helps glue bass + low mids. Overdone = muddiness.",action:"cut",instruments:["Bass guitar","Piano","Guitar","Vocals","Drums"]},{frequency:"160-250 Hz",category:"bass",min:160,max:250,description:"Upper bass/low mid overlap. Often cut to clean mud.",action:"cut",instruments:["Bass guitar","Vocals","Strings","Brass"]},{frequency:"250-350 Hz",category:"low-mid",min:250,max:350,description:"Boxiness / wool. Can cloud guitars & vocals.",action:"cut",instruments:["Vocals","Guitar","Piano","Snare"]},{frequency:"350-500 Hz",category:"low-mid",min:350,max:500,description:"Warmth vs. mud. Boost for body, cut for clarity.",action:"cut",instruments:["Vocals","Snare","Guitar","Keys"]},{frequency:"500-800 Hz",category:"mid",min:500,max:800,description:"Core midrange  thickness and presence. Often cluttered.",action:"cut",instruments:["Vocals","Guitar","Snare","Keys"]},{frequency:"800 Hz - 1.5 kHz",category:"mid",min:800,max:1500,description:"Body and clarity. Essential for definition.",action:"boost",instruments:["Vocals","Guitar","Piano","Snare"]},{frequency:"1.5-2 kHz",category:"mid",min:1500,max:2e3,description:"Presence and attack. Boost for definition.",action:"boost",instruments:["Vocals","Snare","Guitar"]},{frequency:"2-3 kHz",category:"high-mid",min:2e3,max:3e3,description:"Vocal clarity and edge. Boost carefully.",action:"boost",instruments:["Vocals","Snare","Guitar","Piano"]},{frequency:"3-5 kHz",category:"high-mid",min:3e3,max:5e3,description:"Presence, bite, intelligibility. Too much = harsh.",action:"cut",instruments:["Vocals","Snare","Cymbals"]},{frequency:"5-8 kHz",category:"presence",min:5e3,max:8e3,description:"Detail and sparkle. Brings life, but sibilant if overdone.",action:"boost",instruments:["Vocals","Hi-hats","Acoustic guitar","Cymbals"]},{frequency:"8-12 kHz",category:"air",min:8e3,max:12e3,description:"Air and openness. Adds space.",action:"boost",instruments:["Vocals","Strings","Cymbals","Room mics"]},{frequency:"12-20 kHz",category:"air",min:12e3,max:2e4,description:"Extreme highs. Use for shimmer.",action:"boost",instruments:["Cymbals","Room mics","Vocals"]},{frequency:"80-200 Hz",category:"bass",min:80,max:200,description:"Cut gently to reduce muddiness and low-end buildup.",action:"cut",instruments:["Male vocals"]},{frequency:"200-400 Hz",category:"low-mid",min:200,max:400,description:"Boost lightly for body, cut if vocals sound boxy.",action:"boost",instruments:["Male vocals"]},{frequency:"1-2 kHz",category:"mid",min:1e3,max:2e3,description:"Boost for presence and clarity, helping vocals cut through the mix.",action:"boost",instruments:["Male vocals"]},{frequency:"4-6 kHz",category:"high-mid",min:4e3,max:6e3,description:"Boost for air and articulation, but watch out for harshness.",action:"boost",instruments:["Male vocals"]},{frequency:"100-250 Hz",category:"bass",min:100,max:250,description:"Cut to reduce any muddiness. Female vocals rarely need low-end boosting.",action:"cut",instruments:["Female vocals"]},{frequency:"400-800 Hz",category:"mid",min:400,max:800,description:"Boost for warmth and body, but cut if vocals sound boxy.",action:"boost",instruments:["Female vocals"]},{frequency:"2-4 kHz",category:"high-mid",min:2e3,max:4e3,description:"Boost for presence, articulation, and forward vocals.",action:"boost",instruments:["Female vocals"]},{frequency:"7-10 kHz",category:"presence",min:7e3,max:1e4,description:"Boost for air and breathiness, cut if sibilant (ess sounds).",action:"boost",instruments:["Female vocals"]},{frequency:"7-10 kHz",category:"presence",min:7e3,max:1e4,description:"Cut to control sibilance if vocals are too essy.",action:"cut",instruments:["Female vocals"]},{frequency:"200-400 Hz",category:"low-mid",min:200,max:400,description:"Boost for warmth, fullness.",action:"boost",instruments:["Saxophone"]},{frequency:"1-2 kHz",category:"mid",min:1e3,max:2e3,description:"Boost for body and presence.",action:"boost",instruments:["Saxophone"]},{frequency:"3-5 kHz",category:"high-mid",min:3e3,max:5e3,description:"Cut to tame harshness or reed noise.",action:"cut",instruments:["Saxophone"]},{frequency:"8-12 kHz",category:"air",min:8e3,max:12e3,description:"Boost for air and shine.",action:"boost",instruments:["Saxophone"]}],Ky=[{id:"all",label:"All Frequencies",color:"bg-gray-600"},{id:"sub",label:"Sub Bass (20-60Hz)",color:"bg-red-600"},{id:"bass",label:"Bass (60-250Hz)",color:"bg-orange-600"},{id:"low-mid",label:"Low Mids (250-500Hz)",color:"bg-yellow-600"},{id:"mid",label:"Mids (500-2kHz)",color:"bg-green-600"},{id:"high-mid",label:"High Mids (2-6kHz)",color:"bg-blue-600"},{id:"presence",label:"Presence (6-12kHz)",color:"bg-indigo-600"},{id:"air",label:"Air (12kHz+)",color:"bg-purple-600"}];function oR({min:t,max:i}){const n=100*(Math.log10(t)-Math.log10(20))/(Math.log10(2e4)-Math.log10(20)),a=100*(Math.log10(i)-Math.log10(20))/(Math.log10(2e4)-Math.log10(20));return h.jsx("div",{className:"relative h-2 w-full bg-gray-900 rounded-full my-2",children:h.jsx("div",{className:"absolute h-2 rounded-full bg-orange-500 transition-all",style:{left:`${n}%`,width:`${Math.max(a-n,3)}%`}})})}const sR=()=>{const[t,i]=ye.useState("All"),[n,a]=ye.useState("all"),o=Yy.filter(c=>{const d=n==="all"||c.category===n,p=t==="All"||c.instruments.includes(t);return d&&(t==="All"?!0:p)}),u=c=>Yy.filter(d=>d.frequency===c.frequency&&d.category===c.category&&d.action===c.action).flatMap(d=>d.instruments).filter((d,p,f)=>f.indexOf(d)===p);return h.jsxs("div",{className:"max-w-4xl mx-auto w-full py-8 px-4 md:px-0",children:[h.jsxs("div",{className:"flex flex-wrap gap-6 mb-6 items-end",children:[h.jsxs("div",{className:"flex-1 min-w-[180px]",children:[h.jsx("label",{className:"block text-xs font-bold text-gray-400 mb-1",children:"Instrument"}),h.jsxs("select",{value:t,onChange:c=>i(c.target.value),className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-md text-gray-100",children:[h.jsx("option",{disabled:!0,children:"Vocals"}),h.jsx("option",{value:"Vocals",children:"Vocals (general)"}),h.jsx("option",{value:"Male vocals",children:"Male vocals"}),h.jsx("option",{value:"Female vocals",children:"Female vocals"}),h.jsx("option",{disabled:!0,children:"Rhythm Section"}),h.jsx("option",{value:"Kick drum",children:"Kick drum"}),h.jsx("option",{value:"Snare",children:"Snare"}),h.jsx("option",{value:"Bass guitar",children:"Bass guitar"}),h.jsx("option",{value:"808s",children:"808s"}),h.jsx("option",{value:"Sub bass",children:"Sub bass"}),h.jsx("option",{value:"Synth bass",children:"Synth bass"}),h.jsx("option",{value:"Drums",children:"Drums"}),h.jsx("option",{disabled:!0,children:"Other Instruments"}),h.jsx("option",{value:"Guitar",children:"Guitar"}),h.jsx("option",{value:"Acoustic guitar",children:"Acoustic guitar"}),h.jsx("option",{value:"Piano",children:"Piano"}),h.jsx("option",{value:"Cymbals",children:"Cymbals"}),h.jsx("option",{value:"Hi-hats",children:"Hi-hats"}),h.jsx("option",{value:"Horns",children:"Horns"}),h.jsx("option",{value:"Strings",children:"Strings"}),h.jsx("option",{value:"Room mics",children:"Room mics"}),h.jsx("option",{value:"Violin",children:"Violin"}),h.jsx("option",{value:"Cello",children:"Cello"}),h.jsx("option",{value:"Tuba",children:"Tuba"}),h.jsx("option",{value:"Saxophone",children:"Saxophone"}),h.jsx("option",{value:"Trumpet",children:"Trumpet"}),h.jsx("option",{value:"Brass",children:"Brass"}),h.jsx("option",{value:"Woodwinds",children:"Woodwinds"}),h.jsx("option",{value:"Flute",children:"Flute"}),h.jsx("option",{disabled:!0,children:"All/General"}),h.jsx("option",{value:"All",children:"All Instruments"})]})]}),h.jsxs("div",{className:"flex-1 min-w-[180px]",children:[h.jsx("label",{className:"block text-xs font-bold text-gray-400 mb-1",children:"Frequency Range"}),h.jsx("select",{value:n,onChange:c=>a(c.target.value),className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-md text-gray-100",children:Ky.map(c=>h.jsx("option",{value:c.id,children:c.label},c.id))})]})]}),h.jsx("div",{className:"space-y-4",children:o.length===0?h.jsx(Ge,{className:"bg-gray-700/80 text-center py-16",children:h.jsxs("p",{className:"text-gray-300 text-lg",children:["No EQ data matches your current filters.",h.jsx("br",{}),"Try another instrument or frequency zone."]})}):o.map((c,d)=>{var p;return h.jsx(Ge,{className:"bg-gray-800/80",children:h.jsxs("div",{className:"flex flex-col gap-2",children:[h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx("span",{className:"text-lg font-bold text-white",children:c.frequency}),h.jsx("span",{className:`text-xs font-bold rounded-full px-2 py-1 ${((p=Ky.find(f=>f.id===c.category))==null?void 0:p.color)||"bg-gray-600"} text-white`,children:c.category.replace("-"," ").toUpperCase()}),h.jsx("span",{className:`ml-2 text-sm font-medium ${c.action==="boost"?"text-green-400":c.action==="cut"?"text-red-400":"text-yellow-400"}`,children:c.action==="boost"?" BOOST":c.action==="cut"?" CUT":"NOTCH"})]}),h.jsx(oR,{min:c.min,max:c.max}),h.jsx("p",{className:"text-gray-300",children:c.description}),h.jsxs("div",{className:"flex flex-wrap gap-1 items-center",children:[h.jsx("span",{className:"text-xs font-bold text-gray-400 mr-1",children:"Applies to:"}),u(c).map(f=>h.jsx("span",{className:"bg-gray-700 text-orange-200 rounded px-2 py-1 text-xs font-medium",children:f},f))]})]})},d)})}),h.jsx("div",{className:"text-xs text-gray-500 mt-8 text-center px-2",children:"Tip: These are general guidelinestrust your ears and reference pro mixes for your genre."})]})},uR=({attack:t,decay:i,sustain:n,release:a,width:o=400,height:u=150})=>{const c=Math.max(0,Math.min(1,t)),d=Math.max(0,Math.min(1,i)),p=Math.max(0,Math.min(1,n)),f=Math.max(0,Math.min(1,a)),v=c+d+.3+f,b=c/v*o*.8,T=d/v*o*.8,C=.3/v*o*.8,w=f/v*o*.8,N=u*.9,B=u*.1,_=B+(1-p)*(N-B),U=o*.1;let j=U;const X=[`M ${j} ${N}`],Z=j+b*.5,q=N-(N-B)*.1;X.push(`C ${Z} ${q}, ${j+b*.8} ${B+10}, ${j+b} ${B}`),j+=b;const Q=j+T*.3,ae=B+(_-B)*.2;X.push(`C ${Q} ${ae}, ${j+T*.7} ${_-5}, ${j+T} ${_}`),j+=T,X.push(`L ${j+C} ${_}`),j+=C;const pe=j+w*.7,I=_+(N-_)*.8;X.push(`C ${j+w*.3} ${_+5}, ${pe} ${I}, ${j+w} ${N}`);const ue=X.join(" ");return h.jsxs("svg",{width:o,height:u,className:"w-full h-auto",children:[h.jsx("rect",{width:"100%",height:"100%",fill:"#1f2937",rx:"4",ry:"4"}),h.jsx("line",{x1:"0",y1:N,x2:o,y2:N,stroke:"#4b5563",strokeWidth:"1",strokeDasharray:"4,4"}),h.jsx("line",{x1:"0",y1:B,x2:o,y2:B,stroke:"#4b5563",strokeWidth:"1",strokeDasharray:"4,4"}),h.jsx("line",{x1:"0",y1:_,x2:o,y2:_,stroke:"#4b5563",strokeWidth:"1",strokeDasharray:"4,4"}),h.jsx("path",{d:ue,fill:"none",stroke:"#f97316",strokeWidth:"3",strokeLinecap:"round",strokeLinejoin:"round"}),h.jsx("line",{x1:U+b,y1:B-5,x2:U+b,y2:N+5,stroke:"#6b7280",strokeWidth:"1",strokeDasharray:"4,4"}),h.jsx("line",{x1:U+b+T,y1:B-5,x2:U+b+T,y2:N+5,stroke:"#6b7280",strokeWidth:"1",strokeDasharray:"4,4"}),h.jsx("line",{x1:U+b+T+C,y1:B-5,x2:U+b+T+C,y2:N+5,stroke:"#6b7280",strokeWidth:"1",strokeDasharray:"4,4"}),h.jsx("text",{x:U+b/2,y:u-5,textAnchor:"middle",fill:"#d1d5db",fontSize:"10",children:"A"}),h.jsx("text",{x:U+b+T/2,y:u-5,textAnchor:"middle",fill:"#d1d5db",fontSize:"10",children:"D"}),h.jsx("text",{x:U+b+T+C/2,y:u-5,textAnchor:"middle",fill:"#d1d5db",fontSize:"10",children:"S"}),h.jsx("text",{x:U+b+T+C+w/2,y:u-5,textAnchor:"middle",fill:"#d1d5db",fontSize:"10",children:"R"}),h.jsx("text",{x:"5",y:B+15,fill:"#d1d5db",fontSize:"10",children:"1.0"}),h.jsx("text",{x:"5",y:_+15,fill:"#d1d5db",fontSize:"10",children:p.toFixed(1)}),h.jsx("text",{x:"5",y:N-5,fill:"#d1d5db",fontSize:"10",children:"0.0"}),h.jsxs("text",{x:o-5,y:15,textAnchor:"end",fill:"#d1d5db",fontSize:"10",children:["A: ",c.toFixed(2)," D: ",d.toFixed(2)," S: ",p.toFixed(2)," R: ",f.toFixed(2)]})]})},cR={name:"Xfer Serum",oscillators:[{id:"1",name:"Osc 1",type:"Analog",params:["Waveform","Octave","Coarse","Fine","Level"]},{id:"2",name:"Osc 2",type:"Analog",params:["Waveform","Octave","Coarse","Fine","Level"]},{id:"3",name:"Sub Osc",type:"Analog",params:["Octave","Level"]}],filters:[{name:"Filter",types:["Lowpass","Highpass","Bandpass","Comb","Notch","Peak","Formant","Phaser"],defaultType:"Lowpass",parameters:["Cutoff","Resonance","Drive","Pan","Mix"]}],modSources:[{name:"Env 1",type:"Envelope"},{name:"Env 2",type:"Envelope"},{name:"Env 3",type:"Envelope"},{name:"LFO 1",type:"LFO"},{name:"LFO 2",type:"LFO"},{name:"LFO 3",type:"LFO"},{name:"LFO 4",type:"LFO"},{name:"Macro 1",type:"Macro"},{name:"Macro 2",type:"Macro"},{name:"Macro 3",type:"Macro"},{name:"Macro 4",type:"Macro"},{name:"Velocity",type:"MIDI"},{name:"Mod Wheel",type:"MIDI"},{name:"Aftertouch",type:"MIDI"},{name:"Pitch Bend",type:"MIDI"},{name:"Chaos 1",type:"Random"},{name:"Chaos 2",type:"Random"},{name:"Noise OSC",type:"Audio"},{name:"Fixed",type:"Constant"}],modDestinations:[{section:"Oscillator",params:["Wavetable Position","Warp Depth","Coarse","Fine","Level","Pan"]},{section:"Filter",params:["Cutoff","Resonance","Drive","Pan","Mix"]},{section:"Envelope",params:["Attack","Decay","Sustain","Release"]},{section:"LFO",params:["Rate","Shape","Delay"]},{section:"FX",params:["Mix","Depth","Feedback","Time","Tone"]},{section:"Global",params:["Master Tune","Master Level"]}],effects:[{name:"Hyper/Dimension",modulatable:!0,parameters:["Mix","Size","Detune"]},{name:"Distortion",modulatable:!0,parameters:["Drive","Mix","Type"]},{name:"Compressor",modulatable:!0,parameters:["Threshold","Ratio","Attack","Release","Mix"]},{name:"Chorus",modulatable:!0,parameters:["Rate","Depth","Mix"]},{name:"Phaser",modulatable:!0,parameters:["Rate","Depth","Mix"]},{name:"Flanger",modulatable:!0,parameters:["Rate","Depth","Mix"]},{name:"EQ",modulatable:!0,parameters:["Low Gain","Mid Freq","Mid Gain","High Gain"]},{name:"Reverb",modulatable:!0,parameters:["Mix","Decay","Pre-Delay","Damping"]},{name:"Delay",modulatable:!0,parameters:["Mix","Time","Feedback","Sync"]},{name:"Filter (FX)",modulatable:!0,parameters:["Cutoff","Resonance","Drive","Mix"]}]},fR={name:"Vital",oscillators:[{id:"1",name:"Osc 1",type:"Analog",params:["Waveform","Octave","Coarse","Fine","Level"]},{id:"2",name:"Osc 2",type:"Analog",params:["Waveform","Octave","Coarse","Fine","Level"]},{id:"3",name:"Sub Osc",type:"Analog",params:["Octave","Level"]}],filters:[{name:"Filter",types:["Ladder","Analog","Digital","Formant","Comb","Phaser"],defaultType:"Ladder",parameters:["Cutoff","Resonance","Drive","Blend","Keytrack"]}],modSources:[{name:"Env 1",type:"Envelope"},{name:"Env 2",type:"Envelope"},{name:"Env 3",type:"Envelope"},{name:"LFO 1",type:"LFO"},{name:"LFO 2",type:"LFO"},{name:"LFO 3",type:"LFO"},{name:"LFO 4",type:"LFO"},{name:"Random 1",type:"Random"},{name:"Random 2",type:"Random"},{name:"Random 3",type:"Random"},{name:"Random 4",type:"Random"},{name:"Macro 1",type:"Macro"},{name:"Macro 2",type:"Macro"},{name:"Macro 3",type:"Macro"},{name:"Macro 4",type:"Macro"},{name:"Velocity",type:"MIDI"},{name:"Mod Wheel",type:"MIDI"},{name:"Aftertouch",type:"MIDI"},{name:"Pitch Bend",type:"MIDI"},{name:"MPE Slide",type:"MPE"}],modDestinations:[{section:"Oscillator",params:["Wavetable Position","Spectral Warp","Level","Pan","Phase","Detune","Unison"]},{section:"Filter",params:["Cutoff","Resonance","Drive","Blend"]},{section:"Envelope",params:["Attack","Decay","Sustain","Release"]},{section:"LFO",params:["Rate","Shape","Phase"]},{section:"FX",params:["Mix","Feedback","Time","Tone"]},{section:"Global",params:["Master Tune","Master Level"]}],effects:[{name:"Chorus",modulatable:!0,parameters:["Rate","Depth","Mix"]},{name:"Phaser",modulatable:!0,parameters:["Rate","Depth","Mix"]},{name:"Distortion",modulatable:!0,parameters:["Drive","Mix","Type"]},{name:"Compressor",modulatable:!0,parameters:["Threshold","Ratio","Attack","Release","Mix"]},{name:"EQ",modulatable:!0,parameters:["Low Gain","Mid Freq","Mid Gain","High Gain"]},{name:"Reverb",modulatable:!0,parameters:["Mix","Decay","Pre-Delay","Damping"]},{name:"Delay",modulatable:!0,parameters:["Mix","Time","Feedback","Sync"]}]},dR={name:"Pigments",oscillators:[{id:"1",name:"Osc 1",type:"Analog",params:["Waveform","Octave","Coarse","Fine","Level"]},{id:"2",name:"Osc 2",type:"Analog",params:["Waveform","Octave","Coarse","Fine","Level"]},{id:"3",name:"Sub Osc",type:"Analog",params:["Octave","Level"]}],filters:[{name:"Filter",types:["Ladder","SEM","Jupiter","Formant","Comb","Phaser","Notch"],defaultType:"Ladder",parameters:["Cutoff","Resonance","Drive","Blend","Mode","Keytrack"]}],modSources:[{name:"Env 1 (Amp)",type:"Envelope"},{name:"Env 2",type:"Envelope"},{name:"Env 3",type:"Envelope"},{name:"Env 4",type:"Envelope"},{name:"LFO 1",type:"LFO"},{name:"LFO 2",type:"LFO"},{name:"LFO 3",type:"LFO"},{name:"Function 1",type:"Function"},{name:"Function 2",type:"Function"},{name:"Function 3",type:"Function"},{name:"Macro 1",type:"Macro"},{name:"Macro 2",type:"Macro"},{name:"Macro 3",type:"Macro"},{name:"Macro 4",type:"Macro"},{name:"Random",type:"Random"},{name:"Velocity",type:"MIDI"},{name:"Aftertouch",type:"MIDI"},{name:"Mod Wheel",type:"MIDI"},{name:"Pitch Bend",type:"MIDI"},{name:"Keytrack",type:"MIDI"}],modDestinations:[{section:"Oscillator",params:["Wavetable Position","Analog Shape","Sample Start","Level","Pan","FM Amount"]},{section:"Filter",params:["Cutoff","Resonance","Drive","Blend"]},{section:"Envelope",params:["Attack","Decay","Sustain","Release"]},{section:"LFO",params:["Rate","Shape","Fade In"]},{section:"FX",params:["Mix","Feedback","Time","Tone"]},{section:"Global",params:["Master Tune","Master Level"]}],effects:[{name:"Chorus",modulatable:!0,parameters:["Rate","Depth","Mix"]},{name:"Phaser",modulatable:!0,parameters:["Rate","Depth","Mix"]},{name:"Distortion",modulatable:!0,parameters:["Drive","Mix","Type"]},{name:"Compressor",modulatable:!0,parameters:["Threshold","Ratio","Attack","Release","Mix"]},{name:"EQ",modulatable:!0,parameters:["Low Gain","Mid Freq","Mid Gain","High Gain"]},{name:"Reverb",modulatable:!0,parameters:["Mix","Decay","Pre-Delay","Damping"]},{name:"Delay",modulatable:!0,parameters:["Mix","Time","Feedback","Sync"]}]},mR={name:"Diva",oscillators:[{id:"1",name:"Osc 1",type:"Analog",params:["Waveform","Octave","Coarse","Fine","Level"]},{id:"2",name:"Osc 2",type:"Analog",params:["Waveform","Octave","Coarse","Fine","Level"]},{id:"3",name:"Sub Osc",type:"Analog",params:["Octave","Level"]}],filters:[{name:"Filter",types:["Moog Ladder","Roland","Korg MS20","HP","BP"],defaultType:"Moog Ladder",parameters:["Cutoff","Resonance","Drive","Keytrack"]}],modSources:[{name:"Env 1 (Amp)",type:"Envelope"},{name:"Env 2 (Filter)",type:"Envelope"},{name:"LFO 1",type:"LFO"},{name:"LFO 2",type:"LFO"},{name:"Velocity",type:"MIDI"},{name:"Mod Wheel",type:"MIDI"},{name:"Aftertouch",type:"MIDI"},{name:"Keytrack",type:"MIDI"}],modDestinations:[{section:"Oscillator",params:["Pitch","Pulse Width"]},{section:"Filter",params:["Cutoff","Resonance","Drive"]},{section:"Amp",params:["Level"]}],effects:[]},pR={name:"Roland Juno-106",oscillators:[{id:"1",name:"Osc 1",type:"Analog",params:["Waveform","Octave","Coarse","Fine","Level"]},{id:"2",name:"Osc 2",type:"Analog",params:["Waveform","Octave","Coarse","Fine","Level"]},{id:"3",name:"Sub Osc",type:"Analog",params:["Octave","Level"]}],filters:[{name:"Filter",types:["Lowpass","Highpass"],defaultType:"Lowpass",parameters:["Cutoff","Resonance","ENV Amount","LFO Amount","Keytrack"]}],modSources:[{name:"ADSR Envelope",type:"Envelope"},{name:"LFO",type:"LFO"},{name:"Mod Lever",type:"Performance"},{name:"Keytrack",type:"MIDI"}],modDestinations:[{section:"Oscillator",params:["Pitch","Pulse Width"]},{section:"Filter",params:["Cutoff","Resonance"]},{section:"Amp",params:["Level"]}],effects:[{name:"Chorus",parameters:["On/Off","Mode"]}]},hR={name:"Arturia Analog Lab",oscillators:[{id:"1",name:"Osc 1",type:"Analog",params:["Waveform","Octave","Coarse","Fine","Level"]},{id:"2",name:"Osc 2",type:"Analog",params:["Waveform","Octave","Coarse","Fine","Level"]},{id:"3",name:"Sub Osc",type:"Analog",params:["Octave","Level"]}],filters:[{name:"Filter",types:["Lowpass","Highpass","Bandpass"],defaultType:"Lowpass",parameters:["Cutoff","Resonance"]}],modSources:[{name:"Macro 1 (Brightness)",type:"Macro"},{name:"Macro 2 (Timbre)",type:"Macro"},{name:"Macro 3 (Time)",type:"Macro"},{name:"Macro 4 (Movement)",type:"Macro"},{name:"Velocity",type:"MIDI"},{name:"Aftertouch",type:"MIDI"}],modDestinations:[{section:"Macros",params:["Brightness","Timbre","Time","Movement"]},{section:"Filter",params:["Cutoff","Resonance"]}],effects:[{name:"Macros (Brightness, Timbre, Time, Movement)"},{name:"Preset-dependent FX (varies by underlying synth)"}]},gR={name:"Generic Synth",company:"General",type:"Virtual Analog",oscillators:[{type:"Saw, Square, Sine, Triangle",features:["Blend/Mix","Detune","Unison"]}],filters:[{type:"Lowpass, Highpass, Bandpass",features:["Resonance","Drive"]}],envelopes:[{type:"ADSR",features:["Assignable to Amp, Filter, Pitch"]}],lfos:[{type:"LFO 1, LFO 2",features:["Assignable to most parameters","Sync to tempo"]}],effects:["Chorus","Delay","Reverb","Distortion"],modulation:["Matrix routing","Macro controls"],description:"A generic synthesizer with common subtractive synthesis features. Use this if your synth is not listed."},yR={name:"Apple Alchemy",oscillators:[{id:"1",name:"Osc 1",type:"Analog",params:["Waveform","Octave","Coarse","Fine","Level"]},{id:"2",name:"Osc 2",type:"Analog",params:["Waveform","Octave","Coarse","Fine","Level"]},{id:"3",name:"Sub Osc",type:"Analog",params:["Octave","Level"]}],filters:[{name:"Filter",types:["Lowpass","Highpass","Bandpass","Notch","Comb","Formant"],defaultType:"Lowpass",parameters:["Cutoff","Resonance","Drive","Keytrack","Mix"]}],modSources:[{name:"Env 1",type:"Envelope"},{name:"Env 2",type:"Envelope"},{name:"Env 3",type:"Envelope"},{name:"Env 4",type:"Envelope"},{name:"LFO 1",type:"LFO"},{name:"LFO 2",type:"LFO"},{name:"LFO 3",type:"LFO"},{name:"LFO 4",type:"LFO"},{name:"Keytrack",type:"MIDI"},{name:"Velocity",type:"MIDI"},{name:"Mod Wheel",type:"MIDI"},{name:"Aftertouch",type:"MIDI"},{name:"Pitch Bend",type:"MIDI"}],modDestinations:[{section:"Oscillator",params:["Pitch","Level","Pan","Wave Shape"]},{section:"Filter",params:["Cutoff","Resonance","Drive","Mix"]},{section:"Amp",params:["Level"]}],effects:[{name:"Compressor",modulatable:!0,parameters:["Threshold","Ratio","Attack","Release","Mix"]},{name:"Distortion",modulatable:!0,parameters:["Drive","Mix","Type"]},{name:"EQ",modulatable:!0,parameters:["Low Gain","Mid Freq","Mid Gain","High Gain"]},{name:"Reverb",modulatable:!0,parameters:["Mix","Decay","Pre-Delay","Damping"]},{name:"Delay",modulatable:!0,parameters:["Mix","Time","Feedback","Sync"]},{name:"Chorus",modulatable:!0,parameters:["Rate","Depth","Mix"]},{name:"Phaser",modulatable:!0,parameters:["Rate","Depth","Mix"]},{name:"Flanger",modulatable:!0,parameters:["Rate","Depth","Mix"]},{name:"Bitcrusher",modulatable:!0,parameters:["Amount","Mix"]},{name:"Filter (FX)",modulatable:!0,parameters:["Cutoff","Resonance","Drive","Mix"]}]},xR={name:"Ableton Operator",oscillators:[{id:"A",name:"Osc A",type:"FM",params:["Coarse","Fine","Level","Waveform"]},{id:"B",name:"Osc B",type:"FM",params:["Coarse","Fine","Level","Waveform"]},{id:"C",name:"Osc C",type:"FM",params:["Coarse","Fine","Level","Waveform"]},{id:"D",name:"Osc D",type:"FM",params:["Coarse","Fine","Level","Waveform"]}],filters:[{name:"Filter",types:["Lowpass","Highpass","Bandpass","Notch"],defaultType:"Lowpass",parameters:["Cutoff","Resonance","Drive","Mix"]}],modSources:[{name:"Env 1",type:"Envelope"},{name:"Env 2",type:"Envelope"},{name:"LFO 1",type:"LFO"},{name:"LFO 2",type:"LFO"},{name:"Keytrack",type:"MIDI"},{name:"Velocity",type:"MIDI"},{name:"Mod Wheel",type:"MIDI"},{name:"Aftertouch",type:"MIDI"},{name:"Pitch Bend",type:"MIDI"}],modDestinations:[{section:"Oscillator",params:["Coarse","Fine","Level","Waveform"]},{section:"Filter",params:["Cutoff","Resonance","Drive","Mix"]},{section:"Amp",params:["Level"]}],effects:[{name:"Chorus",modulatable:!0,parameters:["Rate","Depth","Mix"]},{name:"Delay",modulatable:!0,parameters:["Mix","Time","Feedback","Sync"]},{name:"Reverb",modulatable:!0,parameters:["Mix","Decay","Pre-Delay","Damping"]},{name:"EQ",modulatable:!0,parameters:["Low Gain","Mid Freq","Mid Gain","High Gain"]}]},vR={name:"Native Instruments FM8",operators:[{id:"A",name:"Operator A",params:["Ratio","Offset","Level","Waveform"]},{id:"B",name:"Operator B",params:["Ratio","Offset","Level","Waveform"]},{id:"C",name:"Operator C",params:["Ratio","Offset","Level","Waveform"]},{id:"D",name:"Operator D",params:["Ratio","Offset","Level","Waveform"]},{id:"E",name:"Operator E",params:["Ratio","Offset","Level","Waveform"]},{id:"F",name:"Operator F",params:["Ratio","Offset","Level","Waveform"]},{id:"X",name:"Noise/Saturation",params:["Level","Color"]}],filters:[{name:"Filter",types:["Lowpass","Highpass","Bandpass","Notch"],defaultType:"Lowpass",parameters:["Cutoff","Resonance","Drive","Mix"]}],modSources:[{name:"Env 1",type:"Envelope"},{name:"Env 2",type:"Envelope"},{name:"Env 3",type:"Envelope"},{name:"Env 4",type:"Envelope"},{name:"LFO 1",type:"LFO"},{name:"LFO 2",type:"LFO"},{name:"LFO 3",type:"LFO"},{name:"LFO 4",type:"LFO"},{name:"Keytrack",type:"MIDI"},{name:"Velocity",type:"MIDI"},{name:"Mod Wheel",type:"MIDI"},{name:"Aftertouch",type:"MIDI"},{name:"Pitch Bend",type:"MIDI"}],modDestinations:[{section:"Operator",params:["Level","Ratio","Offset","Waveform"]},{section:"Filter",params:["Cutoff","Resonance","Drive","Mix"]},{section:"Amp",params:["Level"]}],effects:[{name:"Chorus/Delay",modulatable:!0,parameters:["Mix","Time","Feedback","Rate","Depth"]},{name:"Phaser",modulatable:!0,parameters:["Rate","Depth","Mix"]},{name:"Flanger",modulatable:!0,parameters:["Rate","Depth","Mix"]},{name:"Tremolo",modulatable:!0,parameters:["Rate","Depth","Mix"]},{name:"EQ",modulatable:!0,parameters:["Low Gain","Mid Freq","Mid Gain","High Gain"]},{name:"Reverb",modulatable:!0,parameters:["Mix","Decay","Pre-Delay","Damping"]}]},bR={name:"Hive 2",oscillators:[{id:"1",name:"Osc 1",type:"Wavetable",params:["Waveform","Octave","Semitone","Detune","Level"]},{id:"2",name:"Osc 2",type:"Wavetable",params:["Waveform","Octave","Semitone","Detune","Level"]},{id:"Sub",name:"Sub Osc",type:"Analog",params:["Octave","Level"]}],filters:[{name:"Filter 1",types:["Lowpass 12dB","Lowpass 24dB","Highpass 12dB","Highpass 24dB","Bandpass 12dB","Bandpass 24dB","Notch","Peak","Comb+","Comb-","Allpass"],defaultType:"Lowpass 24dB",parameters:["Cutoff","Resonance","Drive","Keytrack","Mix"]},{name:"Filter 2",types:["Lowpass 12dB","Lowpass 24dB","Highpass 12dB","Highpass 24dB","Bandpass 12dB","Bandpass 24dB","Notch","Peak","Comb+","Comb-","Allpass"],defaultType:"Lowpass 24dB",parameters:["Cutoff","Resonance","Drive","Keytrack","Mix"]}],modSources:[{name:"Env 1",type:"Envelope"},{name:"Env 2",type:"Envelope"},{name:"Env 3",type:"Envelope"},{name:"LFO 1",type:"LFO"},{name:"LFO 2",type:"LFO"},{name:"LFO 3",type:"LFO"},{name:"LFO 4",type:"LFO"},{name:"Seq/Arp",type:"Sequencer"},{name:"Keytrack",type:"MIDI"},{name:"Velocity",type:"MIDI"},{name:"Mod Wheel",type:"MIDI"},{name:"Aftertouch",type:"MIDI"},{name:"Pitch Bend",type:"MIDI"}],modDestinations:[{section:"Oscillator",params:["Pitch","Level","Pan","Wave Shape"]},{section:"Filter 1",params:["Cutoff","Resonance","Drive","Mix"]},{section:"Filter 2",params:["Cutoff","Resonance","Drive","Mix"]},{section:"Amp",params:["Level"]}],effects:[{name:"Distortion",modulatable:!0,parameters:["Drive","Type","Mix"]},{name:"Chorus",modulatable:!0,parameters:["Rate","Depth","Mix"]},{name:"Phaser",modulatable:!0,parameters:["Rate","Depth","Mix"]},{name:"Delay",modulatable:!0,parameters:["Mix","Time","Feedback","Sync"]},{name:"Reverb",modulatable:!0,parameters:["Mix","Decay","Pre-Delay","Damping"]},{name:"EQ",modulatable:!0,parameters:["Low Gain","Mid Freq","Mid Gain","High Gain"]},{name:"Compressor",modulatable:!0,parameters:["Threshold","Ratio","Attack","Release","Mix"]}]},TR={name:"Native Instruments Massive X",oscillators:[{id:"1",name:"Osc 1",type:"Wavetable",params:["Wavetable","Pitch","Warp","Level"]},{id:"2",name:"Osc 2",type:"Wavetable",params:["Wavetable","Pitch","Warp","Level"]}],filters:[{name:"Filter",types:["SVF","Ladder","Comb","Scanner","Groian","Blue Monark","Creak","Crusher"],defaultType:"SVF",parameters:["Cutoff","Resonance","Drive","Mix","Type"]}],modSources:[{name:"Env 1",type:"Envelope"},{name:"Env 2",type:"Envelope"},{name:"Env 3",type:"Envelope"},{name:"Env 4",type:"Envelope"},{name:"LFO 1",type:"LFO"},{name:"LFO 2",type:"LFO"},{name:"LFO 3",type:"LFO"},{name:"Performer 1",type:"Performer"},{name:"Performer 2",type:"Performer"},{name:"Random",type:"Random"},{name:"Keytrack",type:"MIDI"},{name:"Velocity",type:"MIDI"},{name:"Mod Wheel",type:"MIDI"},{name:"Aftertouch",type:"MIDI"},{name:"Pitch Bend",type:"MIDI"}],modDestinations:[{section:"Oscillator",params:["Pitch","Warp","Level"]},{section:"Filter",params:["Cutoff","Resonance","Drive","Mix","Type"]},{section:"Amp",params:["Level"]}],effects:[{name:"Insert FX 1",modulatable:!0,parameters:["Type","Mix","Param 1","Param 2"]},{name:"Insert FX 2",modulatable:!0,parameters:["Type","Mix","Param 1","Param 2"]},{name:"Insert FX 3",modulatable:!0,parameters:["Type","Mix","Param 1","Param 2"]},{name:"Stereo FX 1",modulatable:!0,parameters:["Type","Mix","Param 1","Param 2"]},{name:"Stereo FX 2",modulatable:!0,parameters:["Type","Mix","Param 1","Param 2"]},{name:"Stereo FX 3",modulatable:!0,parameters:["Type","Mix","Param 1","Param 2"]},{name:"EQ",modulatable:!0,parameters:["Low Shelf","Boost","Freq","High Shelf"]}]},SR={name:"Omnisphere",oscillators:[{id:"A",name:"Layer A",type:"Sample/Synth",params:["Sample/Waveform","Pitch","Level","Pan"]},{id:"B",name:"Layer B",type:"Sample/Synth",params:["Sample/Waveform","Pitch","Level","Pan"]},{id:"C",name:"Layer C",type:"Sample/Synth",params:["Sample/Waveform","Pitch","Level","Pan"]},{id:"D",name:"Layer D",type:"Sample/Synth",params:["Sample/Waveform","Pitch","Level","Pan"]}],filters:[{name:"Filter",types:["Lowpass","Highpass","Bandpass","Notch","Resonator","Formant","Power Filter"],defaultType:"Lowpass",parameters:["Cutoff","Resonance","Drive","Keytrack","Mix"]}],modSources:[{name:"Env 1",type:"Envelope"},{name:"Env 2",type:"Envelope"},{name:"Env 3",type:"Envelope"},{name:"Env 4",type:"Envelope"},{name:"LFO 1",type:"LFO"},{name:"LFO 2",type:"LFO"},{name:"LFO 3",type:"LFO"},{name:"LFO 4",type:"LFO"},{name:"Keytrack",type:"MIDI"},{name:"Velocity",type:"MIDI"},{name:"Mod Wheel",type:"MIDI"},{name:"Aftertouch",type:"MIDI"},{name:"Pitch Bend",type:"MIDI"}],modDestinations:[{section:"Oscillator",params:["Pitch","Level","Pan"]},{section:"Filter",params:["Cutoff","Resonance","Drive","Mix"]},{section:"Amp",params:["Level"]}],effects:[{name:"Chorus",modulatable:!0,parameters:["Rate","Depth","Mix"]},{name:"Flanger",modulatable:!0,parameters:["Rate","Depth","Mix"]},{name:"Phaser",modulatable:!0,parameters:["Rate","Depth","Mix"]},{name:"Compressor",modulatable:!0,parameters:["Threshold","Ratio","Attack","Release","Mix"]},{name:"EQ",modulatable:!0,parameters:["Low Gain","Mid Freq","Mid Gain","High Gain"]},{name:"Reverb",modulatable:!0,parameters:["Mix","Decay","Pre-Delay","Damping"]},{name:"Delay",modulatable:!0,parameters:["Mix","Time","Feedback","Sync"]},{name:"Wah",modulatable:!0,parameters:["Type","Mix","Frequency"]},{name:"Tape Saturation",modulatable:!0,parameters:["Amount","Mix"]}]},CR={name:"Kilohearts Phase Plant",oscillators:[{id:"1",name:"Generator 1",type:"Wavetable/Analog/Noise/Sampler",params:["Type","Waveform/Sample","Pitch","Level"]},{id:"2",name:"Generator 2",type:"Wavetable/Analog/Noise/Sampler",params:["Type","Waveform/Sample","Pitch","Level"]},{id:"3",name:"Generator 3",type:"Wavetable/Analog/Noise/Sampler",params:["Type","Waveform/Sample","Pitch","Level"]}],filters:[{name:"Filter 1",types:["Lowpass","Highpass","Bandpass","Notch","Comb","Formant"],defaultType:"Lowpass",parameters:["Cutoff","Resonance","Drive","Keytrack","Mix"]},{name:"Filter 2",types:["Lowpass","Highpass","Bandpass","Notch","Comb","Formant"],defaultType:"Lowpass",parameters:["Cutoff","Resonance","Drive","Keytrack","Mix"]}],modSources:[{name:"Env 1",type:"Envelope"},{name:"Env 2",type:"Envelope"},{name:"Env 3",type:"Envelope"},{name:"Env 4",type:"Envelope"},{name:"LFO 1",type:"LFO"},{name:"LFO 2",type:"LFO"},{name:"LFO 3",type:"LFO"},{name:"LFO 4",type:"LFO"},{name:"Random",type:"Random"},{name:"Keytrack",type:"MIDI"},{name:"Velocity",type:"MIDI"},{name:"Mod Wheel",type:"MIDI"},{name:"Aftertouch",type:"MIDI"},{name:"Pitch Bend",type:"MIDI"}],modDestinations:[{section:"Generator",params:["Pitch","Level","Type"]},{section:"Filter 1",params:["Cutoff","Resonance","Drive","Mix"]},{section:"Filter 2",params:["Cutoff","Resonance","Drive","Mix"]},{section:"Amp",params:["Level"]}],effects:[{name:"Distortion",modulatable:!0,parameters:["Type","Drive","Mix"]},{name:"Chorus",modulatable:!0,parameters:["Rate","Depth","Mix"]},{name:"Phaser",modulatable:!0,parameters:["Rate","Depth","Mix"]},{name:"Flanger",modulatable:!0,parameters:["Rate","Depth","Mix"]},{name:"Delay",modulatable:!0,parameters:["Mix","Time","Feedback","Sync"]},{name:"Reverb",modulatable:!0,parameters:["Mix","Decay","Pre-Delay","Damping"]},{name:"EQ",modulatable:!0,parameters:["Low Gain","Mid Freq","Mid Gain","High Gain"]},{name:"Compressor",modulatable:!0,parameters:["Threshold","Ratio","Attack","Release","Mix"]}]},ER={name:"Apple Retro Synth",oscillators:[{id:"1",name:"Osc 1",type:"Analog/Digital/FM/Wave",params:["Type","Waveform","Octave","Detune","Level"]},{id:"2",name:"Osc 2",type:"Analog/Digital/FM/Wave",params:["Type","Waveform","Octave","Detune","Level"]}],filters:[{name:"Filter",types:["Lowpass","Highpass","Bandpass","Notch"],defaultType:"Lowpass",parameters:["Cutoff","Resonance","Drive","Keytrack","Mix"]}],modSources:[{name:"Env 1",type:"Envelope"},{name:"Env 2",type:"Envelope"},{name:"LFO 1",type:"LFO"},{name:"LFO 2",type:"LFO"},{name:"Keytrack",type:"MIDI"},{name:"Velocity",type:"MIDI"},{name:"Mod Wheel",type:"MIDI"},{name:"Aftertouch",type:"MIDI"},{name:"Pitch Bend",type:"MIDI"}],modDestinations:[{section:"Oscillator",params:["Pitch","Level","Type","Waveform"]},{section:"Filter",params:["Cutoff","Resonance","Drive","Mix"]},{section:"Amp",params:["Level"]}],effects:[{name:"Chorus",modulatable:!0,parameters:["Rate","Depth","Mix"]},{name:"Flanger",modulatable:!0,parameters:["Rate","Depth","Mix"]},{name:"Phaser",modulatable:!0,parameters:["Rate","Depth","Mix"]},{name:"Delay",modulatable:!0,parameters:["Mix","Time","Feedback","Sync"]},{name:"Reverb",modulatable:!0,parameters:["Mix","Decay","Pre-Delay","Damping"]},{name:"EQ",modulatable:!0,parameters:["Low Gain","Mid Freq","Mid Gain","High Gain"]}]},MR={name:"Roland SH-101",oscillators:[{id:"1",name:"Osc 1",type:"Analog",params:["Waveform","Octave","Sub Level","Pulse Width","Level"]}],filters:[{name:"VCF",types:["Lowpass"],defaultType:"Lowpass",parameters:["Cutoff","Resonance","Env Mod","Keytrack"]}],modSources:[{name:"Env",type:"Envelope"},{name:"LFO",type:"LFO"},{name:"Keytrack",type:"MIDI"},{name:"Mod Wheel",type:"MIDI"},{name:"Pitch Bend",type:"MIDI"}],modDestinations:[{section:"Oscillator",params:["Pitch","Pulse Width","Level"]},{section:"VCF",params:["Cutoff","Resonance","Env Mod"]},{section:"Amp",params:["Level"]}],effects:[{name:"Chorus",modulatable:!1,parameters:["Rate","Depth","Mix"]}]},AR={name:"Sylenth1",oscillators:[{id:"A1",name:"Osc A1",type:"Analog",params:["Waveform","Voices","Detune","Stereo","Phase","Volume"]},{id:"A2",name:"Osc A2",type:"Analog",params:["Waveform","Voices","Detune","Stereo","Phase","Volume"]},{id:"B1",name:"Osc B1",type:"Analog",params:["Waveform","Voices","Detune","Stereo","Phase","Volume"]},{id:"B2",name:"Osc B2",type:"Analog",params:["Waveform","Voices","Detune","Stereo","Phase","Volume"]}],filters:[{name:"Filter A",types:["Lowpass","Highpass","Bandpass"],defaultType:"Lowpass",parameters:["Cutoff","Resonance","Drive","Keytrack"]},{name:"Filter B",types:["Lowpass","Highpass","Bandpass"],defaultType:"Lowpass",parameters:["Cutoff","Resonance","Drive","Keytrack"]}],modSources:[{name:"Env 1",type:"Envelope"},{name:"Env 2",type:"Envelope"},{name:"LFO 1",type:"LFO"},{name:"LFO 2",type:"LFO"},{name:"Mod Wheel",type:"MIDI"},{name:"Pitch Bend",type:"MIDI"},{name:"Velocity",type:"MIDI"},{name:"Keytrack",type:"MIDI"}],modDestinations:[{section:"Oscillator",params:["Pitch","Detune","Volume"]},{section:"Filter A",params:["Cutoff","Resonance","Drive"]},{section:"Filter B",params:["Cutoff","Resonance","Drive"]},{section:"Amp",params:["Level"]}],effects:[{name:"Distortion",modulatable:!0,parameters:["Drive","Type","Mix"]},{name:"Phaser",modulatable:!0,parameters:["Rate","Depth","Mix"]},{name:"Chorus",modulatable:!0,parameters:["Rate","Depth","Mix"]},{name:"EQ",modulatable:!0,parameters:["Low Gain","Mid Freq","Mid Gain","High Gain"]},{name:"Delay",modulatable:!0,parameters:["Mix","Time","Feedback","Sync"]},{name:"Reverb",modulatable:!0,parameters:["Mix","Decay","Pre-Delay","Damping"]}]},wR={name:"Ableton Wavetable",oscillators:[{id:"1",name:"Osc 1",type:"Wavetable",params:["Wavetable","Pitch","Position","Warp","Level"]},{id:"2",name:"Osc 2",type:"Wavetable",params:["Wavetable","Pitch","Position","Warp","Level"]}],filters:[{name:"Filter 1",types:["Clean","OSR","MS2","SMP","PRD","Classic","Bandpass","Notch","Highpass","Lowpass"],defaultType:"Clean",parameters:["Cutoff","Resonance","Drive","Morph","Keytrack","Mix"]},{name:"Filter 2",types:["Clean","OSR","MS2","SMP","PRD","Classic","Bandpass","Notch","Highpass","Lowpass"],defaultType:"Clean",parameters:["Cutoff","Resonance","Drive","Morph","Keytrack","Mix"]}],modSources:[{name:"Env 1",type:"Envelope"},{name:"Env 2",type:"Envelope"},{name:"Env 3",type:"Envelope"},{name:"LFO 1",type:"LFO"},{name:"LFO 2",type:"LFO"},{name:"LFO 3",type:"LFO"},{name:"LFO 4",type:"LFO"},{name:"Random",type:"Random"},{name:"Keytrack",type:"MIDI"},{name:"Velocity",type:"MIDI"},{name:"Mod Wheel",type:"MIDI"},{name:"Aftertouch",type:"MIDI"},{name:"Pitch Bend",type:"MIDI"}],modDestinations:[{section:"Oscillator",params:["Pitch","Position","Warp","Level"]},{section:"Filter 1",params:["Cutoff","Resonance","Drive","Morph","Mix"]},{section:"Filter 2",params:["Cutoff","Resonance","Drive","Morph","Mix"]},{section:"Amp",params:["Level"]}],effects:[{name:"Chorus",modulatable:!0,parameters:["Rate","Depth","Mix"]},{name:"Flanger",modulatable:!0,parameters:["Rate","Depth","Mix"]},{name:"Phaser",modulatable:!0,parameters:["Rate","Depth","Mix"]},{name:"Delay",modulatable:!0,parameters:["Mix","Time","Feedback","Sync"]},{name:"Reverb",modulatable:!0,parameters:["Mix","Decay","Pre-Delay","Damping"]},{name:"EQ",modulatable:!0,parameters:["Low Gain","Mid Freq","Mid Gain","High Gain"]}]},DR={name:"Roland Jupiter-8",oscillators:[{id:"1",name:"Osc 1",type:"Analog",params:["Waveform","Octave","Tune","Level"]},{id:"2",name:"Osc 2",type:"Analog",params:["Waveform","Octave","Tune","Level"]}],filters:[{name:"VCF",types:["Lowpass 12dB","Lowpass 24dB","Highpass"],defaultType:"Lowpass 24dB",parameters:["Cutoff","Resonance","Env Mod","Keytrack"]}],modSources:[{name:"Env 1",type:"Envelope"},{name:"Env 2",type:"Envelope"},{name:"LFO 1",type:"LFO"},{name:"Keytrack",type:"MIDI"},{name:"Mod Wheel",type:"MIDI"},{name:"Pitch Bend",type:"MIDI"}],modDestinations:[{section:"Oscillator",params:["Pitch","Level"]},{section:"VCF",params:["Cutoff","Resonance","Env Mod"]},{section:"Amp",params:["Level"]}],effects:[{name:"Chorus",modulatable:!1,parameters:["Rate","Depth","Mix"]}]},kR={name:"Native Instruments Monark",oscillators:[{id:"1",name:"Osc 1",type:"Analog",params:["Waveform","Octave","Tune","Level"]},{id:"2",name:"Osc 2",type:"Analog",params:["Waveform","Octave","Tune","Level"]},{id:"3",name:"Osc 3",type:"Analog",params:["Waveform","Octave","Tune","Level"]}],filters:[{name:"VCF",types:["Lowpass 24dB"],defaultType:"Lowpass 24dB",parameters:["Cutoff","Resonance","Env Mod","Keytrack"]}],modSources:[{name:"Env 1",type:"Envelope"},{name:"Env 2",type:"Envelope"},{name:"LFO",type:"LFO"},{name:"Keytrack",type:"MIDI"},{name:"Mod Wheel",type:"MIDI"}],modDestinations:[{section:"Oscillator",params:["Pitch","Level"]},{section:"VCF",params:["Cutoff","Resonance","Env Mod"]},{section:"Amp",params:["Level"]}],effects:[{name:"Delay",modulatable:!1,parameters:["Time","Feedback","Mix"]}]},NR={name:"Bazille",oscillators:[{id:"1",name:"Osc 1",type:"Digital Modular",params:["Waveform","Tune","Phase","Level"]},{id:"2",name:"Osc 2",type:"Digital Modular",params:["Waveform","Tune","Phase","Level"]},{id:"3",name:"Osc 3",type:"Digital Modular",params:["Waveform","Tune","Phase","Level"]},{id:"4",name:"Osc 4",type:"Digital Modular",params:["Waveform","Tune","Phase","Level"]}],filters:[{name:"Filter 1",types:["Lowpass","Highpass","Bandpass","Notch","Comb"],defaultType:"Lowpass",parameters:["Cutoff","Resonance","Drive","Keytrack","Mix"]},{name:"Filter 2",types:["Lowpass","Highpass","Bandpass","Notch","Comb"],defaultType:"Lowpass",parameters:["Cutoff","Resonance","Drive","Keytrack","Mix"]}],modSources:[{name:"Env 1",type:"Envelope"},{name:"Env 2",type:"Envelope"},{name:"LFO 1",type:"LFO"},{name:"LFO 2",type:"LFO"},{name:"LFO 3",type:"LFO"},{name:"LFO 4",type:"LFO"},{name:"Keytrack",type:"MIDI"},{name:"Velocity",type:"MIDI"},{name:"Mod Wheel",type:"MIDI"},{name:"Aftertouch",type:"MIDI"},{name:"Pitch Bend",type:"MIDI"}],modDestinations:[{section:"Oscillator",params:["Pitch","Level","Phase"]},{section:"Filter 1",params:["Cutoff","Resonance","Drive","Mix"]},{section:"Filter 2",params:["Cutoff","Resonance","Drive","Mix"]},{section:"Amp",params:["Level"]}],effects:[{name:"Chorus",modulatable:!0,parameters:["Rate","Depth","Mix"]},{name:"Delay",modulatable:!0,parameters:["Mix","Time","Feedback","Sync"]},{name:"Reverb",modulatable:!0,parameters:["Mix","Decay","Pre-Delay","Damping"]},{name:"Phaser",modulatable:!0,parameters:["Rate","Depth","Mix"]},{name:"Flanger",modulatable:!0,parameters:["Rate","Depth","Mix"]},{name:"EQ",modulatable:!0,parameters:["Low Gain","Mid Freq","Mid Gain","High Gain"]}]},RR={name:"Zebra2",oscillators:[{id:"1",name:"Osc 1",type:"Wavetable",params:["Waveform","Tune","Detune","Phase","Level"]},{id:"2",name:"Osc 2",type:"Wavetable",params:["Waveform","Tune","Detune","Phase","Level"]},{id:"3",name:"Osc 3",type:"Wavetable",params:["Waveform","Tune","Detune","Phase","Level"]},{id:"4",name:"Osc 4",type:"Wavetable",params:["Waveform","Tune","Detune","Phase","Level"]}],filters:[{name:"Filter 1",types:["Lowpass","Highpass","Bandpass","Notch","Comb","Formant"],defaultType:"Lowpass",parameters:["Cutoff","Resonance","Drive","Keytrack","Mix"]},{name:"Filter 2",types:["Lowpass","Highpass","Bandpass","Notch","Comb","Formant"],defaultType:"Lowpass",parameters:["Cutoff","Resonance","Drive","Keytrack","Mix"]}],modSources:[{name:"Env 1",type:"Envelope"},{name:"Env 2",type:"Envelope"},{name:"Env 3",type:"Envelope"},{name:"Env 4",type:"Envelope"},{name:"LFO 1",type:"LFO"},{name:"LFO 2",type:"LFO"},{name:"LFO 3",type:"LFO"},{name:"LFO 4",type:"LFO"},{name:"Keytrack",type:"MIDI"},{name:"Velocity",type:"MIDI"},{name:"Mod Wheel",type:"MIDI"},{name:"Aftertouch",type:"MIDI"},{name:"Pitch Bend",type:"MIDI"}],modDestinations:[{section:"Oscillator",params:["Pitch","Level","Detune","Phase"]},{section:"Filter 1",params:["Cutoff","Resonance","Drive","Mix"]},{section:"Filter 2",params:["Cutoff","Resonance","Drive","Mix"]},{section:"Amp",params:["Level"]}],effects:[{name:"Chorus",modulatable:!0,parameters:["Rate","Depth","Mix"]},{name:"Delay",modulatable:!0,parameters:["Mix","Time","Feedback","Sync"]},{name:"Reverb",modulatable:!0,parameters:["Mix","Decay","Pre-Delay","Damping"]},{name:"Phaser",modulatable:!0,parameters:["Rate","Depth","Mix"]},{name:"Flanger",modulatable:!0,parameters:["Rate","Depth","Mix"]},{name:"EQ",modulatable:!0,parameters:["Low Gain","Mid Freq","Mid Gain","High Gain"]}]},IR={name:"Arturia PolyBrute",oscillators:[{id:"1",name:"Osc 1",type:"Analog",params:["Waveform","Octave","Fine","Level"]},{id:"2",name:"Osc 2",type:"Analog",params:["Waveform","Octave","Fine","Level"]}],filters:[{name:"Steiner-Parker",types:["Lowpass","Highpass","Bandpass","Notch"],defaultType:"Lowpass",parameters:["Cutoff","Resonance","Drive","Keytrack","Mix"]},{name:"Ladder",types:["Lowpass 12dB","Lowpass 24dB"],defaultType:"Lowpass 24dB",parameters:["Cutoff","Resonance","Drive","Keytrack","Mix"]}],modSources:[{name:"Env 1",type:"Envelope"},{name:"Env 2",type:"Envelope"},{name:"Env 3",type:"Envelope"},{name:"LFO 1",type:"LFO"},{name:"LFO 2",type:"LFO"},{name:"LFO 3",type:"LFO"},{name:"Morph",type:"Macro"},{name:"Keytrack",type:"MIDI"},{name:"Velocity",type:"MIDI"},{name:"Mod Wheel",type:"MIDI"},{name:"Aftertouch",type:"MIDI"},{name:"Pitch Bend",type:"MIDI"}],modDestinations:[{section:"Oscillator",params:["Pitch","Level"]},{section:"Steiner-Parker",params:["Cutoff","Resonance","Drive","Mix"]},{section:"Ladder",params:["Cutoff","Resonance","Drive","Mix"]},{section:"Amp",params:["Level"]},{section:"Morph",params:["Morph Amount"]}],effects:[{name:"Chorus",modulatable:!0,parameters:["Rate","Depth","Mix"]},{name:"Delay",modulatable:!0,parameters:["Mix","Time","Feedback","Sync"]},{name:"Reverb",modulatable:!0,parameters:["Mix","Decay","Pre-Delay","Damping"]},{name:"Phaser",modulatable:!0,parameters:["Rate","Depth","Mix"]},{name:"Flanger",modulatable:!0,parameters:["Rate","Depth","Mix"]},{name:"EQ",modulatable:!0,parameters:["Low Gain","Mid Freq","Mid Gain","High Gain"]}]},_R={name:"Moog Minimoog",oscillators:[{id:"1",name:"Osc 1",type:"Analog",params:["Waveform","Octave","Tune","Level"]},{id:"2",name:"Osc 2",type:"Analog",params:["Waveform","Octave","Tune","Level"]},{id:"3",name:"Osc 3",type:"Analog",params:["Waveform","Octave","Tune","Level"]}],filters:[{name:"VCF",types:["Lowpass 24dB"],defaultType:"Lowpass 24dB",parameters:["Cutoff","Resonance","Env Mod","Keytrack"]}],modSources:[{name:"Env 1",type:"Envelope"},{name:"Env 2",type:"Envelope"},{name:"LFO",type:"LFO"},{name:"Keytrack",type:"MIDI"},{name:"Mod Wheel",type:"MIDI"}],modDestinations:[{section:"Oscillator",params:["Pitch","Level"]},{section:"VCF",params:["Cutoff","Resonance","Env Mod"]},{section:"Amp",params:["Level"]}],effects:[{name:"Delay",modulatable:!1,parameters:["Time","Feedback","Mix"]}]},LR={Serum:cR,Vital:fR,Pigments:dR,Diva:mR,Juno106:pR,AnalogLab:hR,Generic:gR,Alchemy:yR,Operator:xR,FM8:vR,Hive2:bR,MassiveX:TR,Omnisphere:SR,PhasePlant:CR,RetroSynth:ER,SH101:MR,Sylenth1:AR,Wavetable:wR,Jupiter8:DR,"TAL-U-No-LX":{name:"TAL TAL-U-No-LX",oscillators:[{id:"1",name:"Osc 1",type:"Analog",params:["Waveform","Octave","Level"]},{id:"Sub",name:"Sub Osc",type:"Analog",params:["Octave","Level"]}],filters:[{name:"VCF",types:["Lowpass","Highpass"],defaultType:"Lowpass",parameters:["Cutoff","Resonance","Env Mod","Keytrack"]}],modSources:[{name:"Env",type:"Envelope"},{name:"LFO",type:"LFO"},{name:"Keytrack",type:"MIDI"},{name:"Mod Wheel",type:"MIDI"}],modDestinations:[{section:"Oscillator",params:["Pitch","Level"]},{section:"VCF",params:["Cutoff","Resonance","Env Mod"]},{section:"Amp",params:["Level"]}],effects:[{name:"Chorus",modulatable:!1,parameters:["On/Off","Mode"]}]},"Repro-5":{name:"u-he Repro-5",oscillators:[{id:"1",name:"Osc 1",type:"Analog",params:["Waveform","Octave","Tune","Level"]},{id:"2",name:"Osc 2",type:"Analog",params:["Waveform","Octave","Tune","Level"]}],filters:[{name:"VCF",types:["Lowpass 24dB"],defaultType:"Lowpass 24dB",parameters:["Cutoff","Resonance","Env Mod","Keytrack"]}],modSources:[{name:"Env 1",type:"Envelope"},{name:"Env 2",type:"Envelope"},{name:"LFO",type:"LFO"},{name:"Keytrack",type:"MIDI"},{name:"Mod Wheel",type:"MIDI"}],modDestinations:[{section:"Oscillator",params:["Pitch","Level"]},{section:"VCF",params:["Cutoff","Resonance","Env Mod"]},{section:"Amp",params:["Level"]}],effects:[{name:"Chorus",modulatable:!1,parameters:["Rate","Depth","Mix"]},{name:"Delay",modulatable:!1,parameters:["Time","Feedback","Mix"]}]},"Repro-1":{name:"u-he Repro-1",oscillators:[{id:"1",name:"Osc 1",type:"Analog",params:["Waveform","Octave","Tune","Level"]}],filters:[{name:"VCF",types:["Lowpass 24dB"],defaultType:"Lowpass 24dB",parameters:["Cutoff","Resonance","Env Mod","Keytrack"]}],modSources:[{name:"Env",type:"Envelope"},{name:"LFO",type:"LFO"},{name:"Keytrack",type:"MIDI"},{name:"Mod Wheel",type:"MIDI"}],modDestinations:[{section:"Oscillator",params:["Pitch","Level"]},{section:"VCF",params:["Cutoff","Resonance","Env Mod"]},{section:"Amp",params:["Level"]}],effects:[{name:"Chorus",modulatable:!1,parameters:["Rate","Depth","Mix"]},{name:"Delay",modulatable:!1,parameters:["Time","Feedback","Mix"]}]},Monark:kR,Bazille:NR,Zebra2:RR,PolyBrute:IR,Minimoog:_R,"OB-Xd":{name:"DiscoDSP OB-Xd",oscillators:[{id:"1",name:"Osc 1",type:"Analog",params:["Waveform","Octave","Tune","Level"]},{id:"2",name:"Osc 2",type:"Analog",params:["Waveform","Octave","Tune","Level"]}],filters:[{name:"VCF",types:["Lowpass 12dB","Lowpass 24dB"],defaultType:"Lowpass 24dB",parameters:["Cutoff","Resonance","Env Mod","Keytrack"]}],modSources:[{name:"Env 1",type:"Envelope"},{name:"Env 2",type:"Envelope"},{name:"LFO",type:"LFO"},{name:"Keytrack",type:"MIDI"},{name:"Mod Wheel",type:"MIDI"}],modDestinations:[{section:"Oscillator",params:["Pitch","Level"]},{section:"VCF",params:["Cutoff","Resonance","Env Mod"]},{section:"Amp",params:["Level"]}],effects:[{name:"Chorus",modulatable:!1,parameters:["Rate","Depth","Mix"]},{name:"Delay",modulatable:!1,parameters:["Time","Feedback","Mix"]}]},"MS-20":{name:"Korg MS-20",oscillators:[{id:"1",name:"Osc 1",type:"Analog",params:["Waveform","Octave","Tune","Level"]},{id:"2",name:"Osc 2",type:"Analog",params:["Waveform","Octave","Tune","Level"]}],filters:[{name:"HPF",types:["Highpass 12dB"],defaultType:"Highpass 12dB",parameters:["Cutoff","Resonance"]},{name:"LPF",types:["Lowpass 12dB"],defaultType:"Lowpass 12dB",parameters:["Cutoff","Resonance"]}],modSources:[{name:"Env 1",type:"Envelope"},{name:"Env 2",type:"Envelope"},{name:"LFO",type:"LFO"},{name:"Keytrack",type:"MIDI"},{name:"Mod Wheel",type:"MIDI"}],modDestinations:[{section:"Oscillator",params:["Pitch","Level"]},{section:"HPF",params:["Cutoff","Resonance"]},{section:"LPF",params:["Cutoff","Resonance"]},{section:"Amp",params:["Level"]}],effects:[{name:"Distortion",modulatable:!1,parameters:["Amount","Mix"]}]}},yl=LR,OR={serum:"Xfer Serum",vital:"Vital",pigments:"Pigments",massive:"Native Instruments Massive",massivex:"Native Instruments Massive X",diva:"Diva",hive2:"Hive 2",sylenth1:"Sylenth1",wavestate:"Korg Wavestate",jupiter8:"Roland Jupiter-8",juno106:"Roland Juno-106",sh101:"Roland SH-101",operator:"Ableton Operator",wavetable:"Ableton Wavetable",retrosynth:"Apple Retro Synth",alchemy:"Apple Alchemy",fm8:"Native Instruments FM8",phaseplant:"Kilohearts Phase Plant",omnisphere:"Omnisphere",analoglab:"Arturia Analog Lab",generic:"Generic Synth","tal-u-no-lx":"TAL TAL-U-No-LX",repro5:"u-he Repro-5",repro1:"u-he Repro-1",monark:"Native Instruments Monark",bazille:"Bazille",zebra2:"Zebra2",polybrute:"Arturia PolyBrute",minimoog:"Moog Minimoog","ob-xd":"DiscoDSP OB-Xd",ms20:"Korg MS-20"};function pt(t,i,n){const a=parseFloat(t);return Number.isFinite(a)?Math.min(Math.max(a,i),n):i}async function FR(t){const i="AIzaSyCxOuxalv_PC6h6aE8JvEjLMK8ie8C9Nts";let n=null;try{const te=(t.synth||"Generic").replace(/\s+/g,"").replace(/-/g,"").replace(/\./g,"").toLowerCase(),oe=OR[te]||t.synth||"Generic Synth";if(n=yl[oe]||yl.Generic||yl["Generic Synth"],!n)throw new Error("Could not load synth config for requested synth or generic fallback.")}catch(te){console.error("Failed to load synth config:",te);try{n=yl.Generic||yl["Generic Synth"]}catch{throw new Error("Could not load synth config for requested synth or generic fallback.")}}const a=`
You are an expert sound designer. Given these inputs and the following synth configuration, return a JSON object with:
- text (string)
- waveform (string)
- oscSettings (object)
- adsrVCF (object)
- adsrVCA (object)
- knobs (object)
- modMatrix (array)

Synth Configuration:
${JSON.stringify(n,null,2)}

Use these exact knob keys with values between 0.0 and 1.0:
Cutoff, Resonance, Drive, Mix, Reverb, DelayTime, DelayFB, ChorusDepth, ChorusRate, MasterTune

Ensure oscSettings use numeric values.
ADS R blocks must be numeric.
Return JSON only.

Inputs:
- Voice Type: ${t.voiceType||"None"}
- Descriptor: ${t.descriptor||"None"}
- Genre: ${t.genre||"None"}
- Synth: ${t.synth}
- Notes: ${t.notes||"None"}
`,c=((await new g0({apiKey:i}).models.generateContent({model:dr,contents:a})).text||"").trim(),d=c.match(/```(?:json)?\s*([\s\S]*?)```/i),p=d?d[1].trim():c;let f;try{f=JSON.parse(p)}catch(te){throw new Error("Invalid JSON from AI: "+te.message+`
Raw output: `+c.slice(0,300))}const{text:v="",waveform:b="",oscSettings:T={},adsrVCF:C={},adsrVCA:w={},knobs:N={},modMatrix:B=[]}=f,_=["Cutoff","Resonance","Drive","Mix","Reverb","DelayTime","DelayFB","ChorusDepth","ChorusRate","MasterTune"],U={};_.forEach(te=>{U[te]=pt(N[te],0,1)});const j={o1Oct:pt(T.o1Oct,-4,4),o2Oct:pt(T.o2Oct,-4,4),o3Oct:pt(T.o3Oct,-4,4),o1Coarse:pt(T.o1Coarse,-12,12),o2Coarse:pt(T.o2Coarse,-12,12),o3Coarse:pt(T.o3Coarse,-12,12),o1Fine:pt(T.o1Fine,-1,1),o2Fine:pt(T.o2Fine,-1,1),o3Fine:pt(T.o3Fine,-1,1)},X={attack:pt(C.attack,0,10),decay:pt(C.decay,0,10),sustain:pt(C.sustain,0,1),release:pt(C.release,0,10)},Z={attack:pt(w.attack,0,10),decay:pt(w.decay,0,10),sustain:pt(w.sustain,0,1),release:pt(w.release,0,10)},q=Array.isArray(B)?B.map(te=>({source:String(te.source||""),target:String(te.target||""),amount:pt(te.amount,0,1),lfoRate:te.lfoRate!==void 0?pt(te.lfoRate,0,20):void 0,lfoDepth:te.lfoDepth!==void 0?pt(te.lfoDepth,0,1):void 0})):[];let Q="";q.length>0?(Q=`| Source | Target | Parameter | Value |
|--------|--------|-----------|-------|
`,q.forEach(te=>{let oe="",me="";te.lfoRate!==void 0?(oe="LFO Rate",me=te.lfoRate.toString()):te.lfoDepth!==void 0?(oe="LFO Depth",me=te.lfoDepth.toString()):(oe="Amount",me=te.amount.toString()),Q+=`| ${te.source} | ${te.target} | ${oe} | ${me} |
`})):Q="No modulation matrix entries.";function ae(te,oe,me){var V,A,ne,F,ie,ge,se,Se;(te+" "+oe).toLowerCase();const Y={techno:["Drive","Resonance","Delay","Reverb","Filter"],house:["Reverb","Chorus","Delay","Filter"],trance:["Reverb","Delay","Filter","Resonance"],dubstep:["LFO","Filter","Drive","Distortion"],"drum & bass":["Filter","Drive","Envelope","LFO"],idm:["Glitch","Delay","Reverb","Filter"],ambient:["Reverb","Delay","Chorus","Envelope"],synthwave:["Chorus","Reverb","Delay","Drive"],lofi:["Noise","Chorus","Reverb","Filter"],glitch:["Glitch","LFO","Envelope"],rock:["Drive","Filter","Reverb"],pop:["Reverb","Delay","Chorus"],funk:["Envelope","Filter","Drive"],jazz:["Chorus","Reverb","Envelope"],cinematic:["Reverb","Delay","Envelope","Filter"],lead:["Filter","Envelope","Reverb","Delay"],pad:["Reverb","Chorus","Envelope","Filter"],bass:["Drive","Filter","Envelope"],pluck:["Envelope","Filter","Delay"],bell:["Envelope","Reverb","Delay"],arp:["Envelope","Delay","Filter"],fx:["LFO","Envelope","Filter","Reverb"],drone:["Envelope","Filter","Reverb"],texture:["Envelope","Reverb","Chorus"],atmosphere:["Reverb","Envelope","Filter"],glassy:["Chorus","Envelope"],warm:["Drive","Filter"],bright:["Filter","Resonance"],dark:["Filter","Envelope"],metallic:["Chorus","Envelope"],raspy:["Drive","Envelope"],smooth:["Chorus","Reverb"],gritty:["Drive","Distortion"],distorted:["Drive","Distortion"],clean:["Envelope","Filter"],resonant:["Resonance","Filter"],noisy:["Noise","Envelope"],evolving:["LFO","Envelope","Filter"],swells:["Envelope","Reverb"],pulsing:["LFO","Envelope"],rhythmic:["LFO","Envelope"],sweeping:["LFO","Filter"],morphing:["LFO","Envelope"],glitchy:["Glitch","LFO"],phasing:["Chorus","LFO"],dreamy:["Reverb","Chorus"],aggressive:["Drive","Distortion","Resonance"],melancholic:["Reverb","Envelope"],uplifting:["Reverb","Delay"],eerie:["Envelope","Filter"],serene:["Reverb","Envelope"],tense:["Envelope","Filter"],playful:["Envelope","Delay"],mysterious:["Envelope","Filter"],epic:["Reverb","Delay"],brooding:["Envelope","Filter"],anxious:["Envelope","Filter"],joyful:["Envelope","Reverb"],haunting:["Envelope","Reverb"],vintage:["Chorus","Reverb"],modern:["Delay","Reverb"],"80s":["Chorus","Reverb"],"90s":["Delay","Reverb"],futuristic:["LFO","Envelope"],retro:["Chorus","Reverb"],cosmic:["Reverb","Envelope"],underwater:["Chorus","Envelope"],robotic:["LFO","Envelope"],alien:["LFO","Envelope"],nature:["Envelope","Reverb"],industrial:["Drive","Distortion"],organic:["Envelope","Filter"],mechanical:["LFO","Envelope"],spiritual:["Reverb","Envelope"],forest:["Envelope","Reverb"],cave:["Reverb","Envelope"],machine:["LFO","Envelope"],ghost:["Envelope","Reverb"],desert:["Envelope","Reverb"],arctic:["Envelope","Reverb"],volcanic:["Drive","Envelope"],short:["Envelope"],long:["Envelope"],percussive:["Envelope","Filter"],sustained:["Envelope","Reverb"],"slow attack":["Envelope"],"fast release":["Envelope"],gated:["Envelope","Filter"],punchy:["Envelope","Filter"],clicky:["Envelope"],decaying:["Envelope","Filter"]};let L=[],D={};const k=(Array.isArray(te)?te:[te]).concat(Array.isArray(oe)?oe:[oe]).concat(Array.isArray(t.notes)?t.notes:[t.notes]).map(we=>(we||"").toLowerCase()).join(" ");Object.entries(Y).forEach(([we,Ie])=>{k.includes(we)&&Ie.forEach(ze=>{D[ze]=(D[ze]||0)+1,L.push(ze)})}),(A=(V=me.filters)==null?void 0:V[0])!=null&&A.params&&(L.includes("Cutoff")||L.push("Cutoff"),L.includes("Resonance")||L.push("Resonance")),L=[...new Set(L)],L.sort((we,Ie)=>(D[Ie]||0)-(D[we]||0));const S=((ne=me.effects)==null?void 0:ne.filter(we=>L.includes(we.name)))||me.effects,O=((ge=(ie=(F=me.filters)==null?void 0:F[0])==null?void 0:ie.params)==null?void 0:ge.filter(we=>L.includes(we)))||((Se=(se=me.filters)==null?void 0:se[0])==null?void 0:Se.params);return{relevantEffects:S,relevantFilterParams:O,weights:D}}const pe=t.description||"",I=t.genre||"",{relevantEffects:ue,relevantFilterParams:de}=ae(pe,I,n);return{text:v,waveform:b,oscSettings:j,adsrVCF:X,adsrVCA:Z,knobs:U,modMatrix:q,modMatrixMarkdown:Q,synthConfig:n,relevantEffects:ue,relevantFilterParams:de}}const BR=["genre","voiceType","characterMood","movementDynamics"],$y=ls.map(t=>t.key).filter(t=>!BR.includes(t)),PR=()=>{var X,Z,q;const[t,i]=ye.useState("Generic"),[n,a]=ye.useState({genre:[],voiceType:[],characterMood:[],movementDynamics:[],...Object.fromEntries($y.map(Q=>[Q,[]]))}),[o,u]=ye.useState({genre:!1,synth:!1,voiceType:!1,characterMood:!0,movementDynamics:!0,era:!0,concept:!0}),[c,d]=ye.useState(null),[p,f]=ye.useState({attack:.1,decay:.5,sustain:.8,release:1.5}),[v,b]=ye.useState({attack:.05,decay:.3,sustain:.9,release:.6}),[T,C]=ye.useState(null),[w,N]=ye.useState(!1),[B,_]=ye.useState(""),U=async Q=>{Q.preventDefault(),N(!0),_(""),d(null);try{const ae=await FR({description:`${n.characterMood.join(", ")} ${n.movementDynamics.join(", ")}`,synth:t,genre:n.genre.join(", "),voiceType:n.voiceType.join(", ")});d(ae.text||""),ae.oscSettings&&(C(ae.synthConfig),ae.adsrVCF&&f(ae.adsrVCF),ae.adsrVCA&&b(ae.adsrVCA))}catch(ae){_(ae instanceof Error?ae.message:"Error generating guide")}finally{N(!1)}},j=()=>{i("Generic"),a({genre:[],voiceType:[],characterMood:[],movementDynamics:[],...Object.fromEntries($y.map(Q=>[Q,[]]))}),d(null),_(""),f({attack:.1,decay:.5,sustain:.8,release:1.5}),b({attack:.05,decay:.3,sustain:.9,release:.6}),C(null)};return h.jsxs("div",{className:"max-w-5xl mx-auto p-6 space-y-8",children:[h.jsxs("form",{onSubmit:U,className:"space-y-4",children:[h.jsxs(Ge,{children:[h.jsx("h2",{className:"text-xl font-semibold text-white",children:"Describe the sound, select your synth and voice type, and get a detailed patch recipe."}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[h.jsxs("div",{children:[h.jsx("label",{className:"block text-gray-200",children:"Genre"}),h.jsxs("select",{value:n.genre[0]||"",onChange:Q=>a({...n,genre:[Q.target.value]}),className:"mt-1 block w-full bg-gray-700 text-white p-2 rounded",children:[h.jsx("option",{value:"",disabled:!0,children:"Select genre"}),ls[0].examples.filter(Q=>typeof Q=="object"&&Q.group&&Array.isArray(Q.examples)).map(Q=>h.jsx("optgroup",{label:Q.group,children:Q.examples.filter(ae=>typeof ae=="string").map(ae=>h.jsx("option",{value:ae,children:ae},ae))},Q.group))]})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-gray-200",children:"Synth"}),h.jsxs("select",{value:t,onChange:Q=>i(Q.target.value),className:"mt-1 block w-full bg-gray-700 text-white p-2 rounded",children:[h.jsx("option",{value:"",disabled:!0,children:"Select synth"}),WE.map(Q=>h.jsx("option",{value:Q,children:Q},Q))]})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-gray-200",children:"Voice Type"}),h.jsxs("select",{value:n.voiceType[0]||"",onChange:Q=>a({...n,voiceType:[Q.target.value]}),className:"mt-1 block w-full bg-gray-700 text-white p-2 rounded",children:[h.jsx("option",{value:"",disabled:!0,children:"Select voice type"}),(X=ls.find(Q=>Q.key==="voiceType"))==null?void 0:X.examples.map(Q=>h.jsx("option",{value:Q,children:Q},Q))]})]})]}),h.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:["characterMood","movementDynamics","era","concept"].map(Q=>{const ae=ls.find(pe=>pe.key===Q);return ae?h.jsxs("div",{className:"col-span-2",children:[h.jsxs("div",{className:"flex justify-between items-center",children:[h.jsx("label",{className:"block text-gray-200",children:ae.category}),h.jsx("button",{type:"button",onClick:()=>u(pe=>({...pe,[ae.key]:!pe[ae.key]})),className:"text-gray-400 hover:text-gray-200",children:o[ae.key]?"":""})]}),!o[ae.key]&&h.jsx("div",{className:"flex flex-wrap gap-2 mt-1",children:ae.examples.map(pe=>h.jsx("button",{type:"button",className:`px-3 py-1 rounded-full border text-sm ${Array.isArray(n[ae.key])&&n[ae.key].includes(pe)?"bg-orange-500 text-white border-orange-500":"bg-gray-700 text-gray-300 border-gray-500"}`,onClick:()=>{const I=Array.isArray(n[ae.key])?[...n[ae.key]]:[];I.includes(pe)?a({...n,[ae.key]:I.filter(ue=>ue!==pe)}):a({...n,[ae.key]:[...I,pe]})},children:pe},pe))})]},ae.category):null})})]}),h.jsxs("div",{className:"flex items-center space-x-4",children:[h.jsx(Be,{type:"submit",disabled:w,children:w?"Generating":"Generate Patch Guide"}),w&&h.jsx(Oi,{}),h.jsx(Be,{type:"button",variant:"secondary",onClick:j,children:"Reset"}),B&&h.jsx("span",{className:"text-red-500",children:B})]})]}),c&&h.jsx(h.Fragment,{children:h.jsxs(zR,{children:[h.jsxs(Ge,{children:[h.jsx("h2",{className:"text-xl font-semibold text-white",children:"Patch Instructions"}),h.jsx("div",{className:"prose prose-invert p-4 bg-gray-800 rounded",children:h.jsx(ox,{remarkPlugins:[Rx],children:c})})]}),h.jsxs(Ge,{children:[h.jsx("h3",{className:"text-lg font-semibold text-white",children:"1. Oscillators"}),T&&T.oscillators?h.jsxs("table",{className:"w-full text-gray-200 border-collapse",children:[h.jsx("thead",{children:h.jsxs("tr",{className:"bg-gray-800",children:[h.jsx("th",{className:"p-2",children:"Source"}),(q=(Z=T.oscillators[0])==null?void 0:Z.params)==null?void 0:q.map(Q=>h.jsx("th",{className:"p-2",children:Q},Q))]})}),h.jsx("tbody",{children:T.oscillators.map((Q,ae)=>h.jsxs("tr",{className:"border-t border-gray-700",children:[h.jsx("td",{className:"p-2",children:Q.name}),Q.params.map(pe=>h.jsx("td",{className:"p-2",children:""},pe))]},Q.id||ae))})]}):h.jsx("div",{className:"text-gray-400",children:"No oscillator data."})]}),h.jsxs(Ge,{children:[h.jsx("h3",{className:"text-lg font-semibold text-white",children:"3. Effects"}),T&&T.effects&&T.effects.length>0?h.jsxs("table",{className:"w-full text-gray-200 border-collapse mb-3",children:[h.jsx("thead",{children:h.jsxs("tr",{className:"bg-gray-800",children:[h.jsx("th",{className:"p-2 text-left",children:"Effect"}),h.jsx("th",{className:"p-2 text-left",children:"Default Setting"})]})}),h.jsx("tbody",{children:T.effects.map((Q,ae)=>h.jsxs("tr",{className:"border-t border-gray-700",children:[h.jsx("td",{className:"p-2 font-bold text-green-300",children:Q.name}),h.jsx("td",{className:"p-2",children:Q.defaultSetting||""})]},Q.name||ae))})]}):h.jsx("div",{className:"text-gray-400",children:"No relevant effects for this patch."})]}),h.jsxs(Ge,{children:[h.jsx("h3",{className:"text-lg font-semibold text-white",children:"3. Envelope & Filter Settings"}),h.jsxs("div",{className:"flex flex-wrap gap-8",children:[T&&T.filters&&T.filters.map((Q,ae)=>{var pe,I;return h.jsxs("div",{className:"flex flex-col",children:[h.jsx("div",{className:"font-medium text-gray-200",children:Q.name}),h.jsxs("div",{className:"text-gray-300",children:["Types: ",(pe=Q.types)==null?void 0:pe.join(", ")]}),h.jsxs("div",{className:"text-gray-300",children:["Relevant Params: ",(I=Q.relevantParams)==null?void 0:I.join(", ")]})]},Q.name||ae)}),T&&T.envelopes&&T.envelopes.labels&&T.envelopes.labels.map((Q,ae)=>h.jsxs("div",{className:"flex flex-col items-center",children:[h.jsx("div",{className:"font-medium text-gray-200",children:Q}),h.jsx(uR,{...ae===0?p:v,width:200,height:100})]},Q))]})]}),h.jsxs(Ge,{children:[h.jsx("h3",{className:"text-lg font-semibold text-white",children:"4. Modulation Matrix"}),T&&T.modSources&&T.modDestinations?h.jsxs("table",{className:"w-full text-gray-200 border-collapse mb-3",children:[h.jsx("thead",{children:h.jsxs("tr",{className:"bg-gray-800",children:[h.jsx("th",{className:"p-2",children:"Source"}),h.jsx("th",{className:"p-2",children:"Target"}),h.jsx("th",{className:"p-2",children:"Parameter"})]})}),h.jsx("tbody",{children:T.modSources.map(Q=>Object.entries(T.modDestinations).map(([ae,pe])=>pe.map(I=>h.jsxs("tr",{className:"border-t border-gray-700",children:[h.jsx("td",{className:"p-2",children:Q}),h.jsx("td",{className:"p-2",children:ae}),h.jsx("td",{className:"p-2",children:I})]},Q+ae+I))))})]}):h.jsx("div",{className:"text-gray-400",children:"No modulation matrix available for this synth."})]})]})})]})};function zR({children:t}){const[i,n]=vl.useState(!1),[a,o]=vl.useState("");vl.useEffect(()=>{n(!1),o("")},[t]);try{if(i)throw new Error(a);return h.jsx(h.Fragment,{children:t})}catch(u){return h.jsxs("div",{className:"text-red-500 bg-gray-900 p-4 rounded",children:["Error rendering patch guide: ",u.message||String(u)]})}}const ns=({className:t="w-4 h-4"})=>h.jsx("div",{className:`${t} bg-orange-500 transform rotate-45 flex items-center justify-center`,children:h.jsx("div",{className:"w-1/2 h-1/2 bg-white transform -rotate-45"})}),Xy={songTitle:"",genre:[],artistReference:"",referenceTrackLink:"",lyrics:"",key:"",scale:"",chords:"",generalNotes:"",vibe:[],daw:"",plugins:"",availableInstruments:""},Qy={audioFile:null,userNotes:""},Li=100,is=Li*1024*1024,Jy=t=>{const i=t.match(/Estimated BPM Range:\s*.*?(\d+)\s*(?:-|to)\s*(\d+)\s*BPM/i);if(i&&i[1]&&i[2])return Math.round((parseInt(i[1],10)+parseInt(i[2],10))/2);const n=t.match(/Estimated BPM Range:\s*.*?(\d+)\s*BPM/i);if(n&&n[1])return parseInt(n[1],10);const a=t.match(/BPM:\s*(\d+)/i);return a&&a[1]?parseInt(a[1],10):null},Wy=t=>{const i=t.match(/Suggested Key\(s\) \/ Scale\(s\):\s*([^(\n]+)/i);if(i&&i[1]){const n=i[1].split(/,|\/| or /).map(o=>o.trim().replace(/\.$/,""));for(const o of n){const u=o.includes(" Minor")?o:o.replace("Major","").trim()+" Major";if(xl.includes(o)||xl.includes(u))return xl.includes(o)?o:u}const a=n[0];if(a){for(const o of xl)if(a.toLowerCase().startsWith(o.split(" ")[0].toLowerCase()))if(a.toLowerCase().includes("minor")){if(o.includes("Minor"))return o}else if(a.toLowerCase().includes("major")){if(o.includes("Major"))return o}else return o;return a}}return null},Zy=t=>{const i=t.match(/## (?:3|4)\.(?:.*Harmony.*|.*Chord Progressions.*)\s*\n(?:[^\n]*\n)*?.*?Chord Progression\(s\)\s*(?:\([^)]+\))?:\s*([^\n]+)/im);if(i&&i[1]){const o=i[1].match(/([ivclxmdIVCLXMDab#dimaug\d\/sus-]+(?:\s*-\s*[ivclxmdIVCLXMDab#dimaug\d\/sus-]+)*)/);if(o&&o[1]){let u=o[1].trim();u.endsWith(".")&&(u=u.slice(0,-1));const c=[", ",". ","; "];for(const d of c)if(u.includes(d)){u=u.split(d)[0];break}if(/[IVXLCDMivxlcdm]/.test(u))return u}}const n=t.match(/Chord Progression\(s\).*?:\s*([IVXLCDMivxlcdm\d\s,-]+)/i);if(n&&n[1]){const a=n[1].split(",")[0].trim();if(/[IVXLCDMivxlcdm]/.test(a))return a}return null},e0=(t,i)=>{const n=t.match(i);if(!n||typeof n.index>"u")return"";const a=n.index,o=t.substring(a+n[0].length).match(/^##\s+/m),u=o&&typeof o.index<"u"?a+n[0].length+o.index:t.length;return t.substring(a,u).trim()},VR=t=>{if(!t)return"";let i="";return i+=e0(t,/^##\s*1\.\s*Song Overview/im)+`

`,i+=e0(t,/^##\s*4\.\s*Harmony, Melody & Rhythmic Core/im),i.trim()||"General musical context not fully parsed. Focus on genre and vibe."},t0=t=>{const i=t.match(/^\s*-\s*\*\*Suggested Title:\*\*\s*(.*)/im);return i&&i[1]?i[1].trim().replace(/\*\*([^*]+)\*\*/g,"$1").replace(/\*([^*]+)\*/g,"$1"):null},jR=()=>{var xr;const[t,i]=ye.useState("landing"),[n,a]=ye.useState(Xy),[o,u]=ye.useState(""),[c,d]=ye.useState(""),[p,f]=ye.useState(""),[v,b]=ye.useState(!1),[T,C]=ye.useState(""),[w,N]=ye.useState(null),[B,_]=ye.useState(null),[U,j]=ye.useState([]),[X,Z]=ye.useState(null),[q,Q]=ye.useState(!1),[ae,pe]=ye.useState(""),[I,ue]=ye.useState(!1),[de,te]=ye.useState(!0),[oe,me]=ye.useState(!1),[Y,L]=ye.useState(),[D,k]=ye.useState(Qy),[S,O]=ye.useState(null),[V,A]=ye.useState(!1),[ne,F]=ye.useState(null),[ie,ge]=ye.useState("single"),[se,Se]=ye.useState({mixA:null,mixB:null,userNotes:"",includeMixBFeedback:!1}),[we,Ie]=ye.useState(null),[ze,tt]=ye.useState(!1),[rt,St]=ye.useState(null),Wt=ye.useRef(null),Nt=ye.useRef(null),pr=ye.useRef(null);ye.useEffect(()=>{try{const ve=localStorage.getItem(qg);if(ve){const _t=JSON.parse(ve).map(at=>({...at,genre:Array.isArray(at.genre)?at.genre:at.genre?[at.genre]:[],vibe:Array.isArray(at.vibe)?at.vibe:at.vibe?[at.vibe]:[],scale:at.scale||"",midiSettings:at.midiSettings||void 0,generatedMidiPatterns:at.generatedMidiPatterns||void 0}));j(_t)}}catch(ve){console.error("Failed to load library from local storage:",ve),j([])}const J=localStorage.getItem(cl),he=localStorage.getItem(Qo);a(ve=>({...ve,daw:J||ve.daw||"",plugins:he||ve.plugins||""}))},[]),ye.useEffect(()=>{try{localStorage.setItem(qg,JSON.stringify(U))}catch(J){console.error("Failed to save library to local storage:",J)}},[U]);const vt=J=>{const{name:he,value:ve}=J.target;he==="currentGenreText"?u(ve):he==="currentVibeText"?d(ve):(a(Ve=>({...Ve,[he]:ve})),he==="daw"?localStorage.setItem(cl,ve):he==="plugins"&&localStorage.setItem(Qo,ve))},jn=J=>{var ve,Ve;const he=J==="genre"?o.trim():c.trim();he&&!n[J].includes(he)&&a(_t=>({..._t,[J]:[..._t[J],he]})),J==="genre"?(u(""),(ve=Nt.current)==null||ve.focus()):(d(""),(Ve=pr.current)==null||Ve.focus())},Un=(J,he)=>{J.key==="Enter"&&(J.preventDefault(),jn(he))},hr=(J,he)=>{a(ve=>{const _t=ve[J].filter(at=>at!==he);return{...ve,[J]:_t}})},gr=J=>{a(he=>({...he,daw:J})),localStorage.setItem(cl,J)},yr=J=>{const he=J.match(/^#\s*TRACKGUIDE:\s*"?([^"\n]+)"?/im);return he&&he[1]?he[1].trim():null},ji=()=>{const J=localStorage.getItem(cl)||"",he=localStorage.getItem(Qo)||"";a({...Xy,songTitle:"",daw:J,plugins:he}),u(""),d(""),f(""),Z(null),N(null),_(null),pe(""),Nn(),Q(!1)},W=async J=>{var _t;J.preventDefault(),b(!0),N(null),_(null),f(""),Z(null),pe(""),Nn(),window.scrollTo({top:0,behavior:"smooth"}),n.daw&&localStorage.setItem(cl,n.daw),n.plugins&&localStorage.setItem(Qo,n.plugins);let he="",ve,Ve;try{C("TrackGuide is generating...");const at=await eM(n);for await(const Gt of at)he+=Gt.text,f(Gn=>Gn+Gt.text);C("Initial MIDI patterns are generating...");const _l=yr(he),Ds=(_t=n.songTitle)!=null&&_t.trim()?n.songTitle.trim():_l||`TrackGuide for ${n.genre.join(", ")||"Unknown Genre"}`,_n=Date.now().toString(),Ct=new Date().toISOString(),Lt=Jy(he),oi=Wy(he),da=Zy(he),vr=n.genre[0]||Ke.genre,Ll=Cn[vr]||Cn.Default,Ol=Math.round((Ll[0]+Ll[1])/2),Ui=(Sn[vr]||Sn.Default)[0],ma=VR(he),si=Ke.songSection;let Hn=8;const Hi=vr.toLowerCase();["lo-fi hip hop","lofi hip hop","lofi","trap","ambient","idm","breakcore","footwork","juke","experimental"].some(Gt=>Hi.includes(Gt))&&(Hn=4);const ht=["chords","bassline","melody","drums"];Ve={key:oi||Ke.key,tempo:Lt||Ol,timeSignature:Ke.timeSignature,chordProgression:da||Ui,genre:vr,bars:Hn,targetInstruments:ht,guidebookContext:ma,songSection:si};try{const Gt=await Ml(Ve);let Gn="";for await(const qi of Gt)Gn+=qi.text;let An=Gn.trim();const ui=/^```(\w*)?\s*\n?(.*?)\n?\s*```$/s,pa=An.match(ui);if(pa&&pa[2]&&(An=pa[2].trim()),ve=JSON.parse(An),ve.drums){const qi={};for(const ha in ve.drums)qi[ha.toLowerCase().replace(/\s+/g,"_")]=ve.drums[ha];ve.drums=qi}_(null)}catch(Gt){console.error("Initial MIDI generation failed:",Gt);const Gn=Gt.message.toLowerCase().includes("json")?`AI returned invalid JSON for MIDI patterns during initial generation. (${Gt.message})`:`Initial MIDI generation failed: ${Gt.message}.`;_(Gn+" You can try generating MIDI manually in the MIDI tools section."),ve=void 0}Z({id:_n,title:Ds,genre:n.genre,artistReference:n.artistReference,referenceTrackLink:n.referenceTrackLink,lyrics:n.lyrics,key:n.key,chords:n.chords,generalNotes:n.generalNotes,vibe:n.vibe,daw:n.daw,plugins:n.plugins,availableInstruments:n.availableInstruments||"",content:he,createdAt:Ct,midiSettings:Ve,generatedMidiPatterns:ve})}catch(at){N(at.message||"An unexpected error occurred while generating TrackGuide."),Z(null),f("")}finally{b(!1),C("")}},ce=()=>{if(!X)return;const J={...X};j(he=>{const ve=he.findIndex(Ve=>Ve.id===J.id);if(ve>-1){const Ve=[...he];return Ve[ve]=J,Ve}return[J,...he]})},Te=(J,he)=>{Z(ve=>ve?{...ve,midiSettings:J,generatedMidiPatterns:he}:null)},Ee=J=>{a({songTitle:J.title,genre:Array.isArray(J.genre)?J.genre:J.genre?[String(J.genre)]:[],artistReference:J.artistReference,referenceTrackLink:J.referenceTrackLink||"",lyrics:J.lyrics||"",key:J.key||"",chords:J.chords||"",generalNotes:J.generalNotes||"",vibe:Array.isArray(J.vibe)?J.vibe:J.vibe?[String(J.vibe)]:[],daw:J.daw,plugins:J.plugins,availableInstruments:J.availableInstruments||""}),u(""),d(""),f(J.content),Z(J),N(null),_(null),pe(""),Nn(),Q(!1),i("trackGuide"),window.scrollTo({top:0,behavior:"smooth"})},qe=J=>{j(he=>he.filter(ve=>ve.id!==J)),X&&X.id===J&&(f(""),Z(null),Nn())},Rt=({selections:J,onRemove:he})=>h.jsx("div",{className:"flex flex-wrap gap-2 mt-2 mb-2 min-h-[2.25rem]",children:J.map(ve=>h.jsxs("span",{className:"flex items-center px-3 py-1 bg-orange-600 text-white text-xs font-medium rounded-full shadow-md hover:bg-orange-700 transition-colors",children:[ve,h.jsx("button",{type:"button",onClick:()=>he(ve),className:"ml-1.5 -mr-0.5 p-0.5 text-orange-200 hover:text-white rounded-full focus:outline-none focus:bg-orange-800 transition-colors","aria-label":`Remove ${ve}`,children:h.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-3 w-3",viewBox:"0 0 20 20",fill:"currentColor",children:h.jsx("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})})})]},ve))}),Mn=J=>{var ve;const he=(ve=J.target.files)==null?void 0:ve[0];if(he){if(he.size>is){F(`File is too large. Maximum size is ${Li}MB.`),k(Ve=>({...Ve,audioFile:null})),Wt.current&&(Wt.current.value="");return}if(!he.type.startsWith("audio/")){F("Invalid file type. Please upload an audio file (e.g., MP3, WAV)."),k(Ve=>({...Ve,audioFile:null})),Wt.current&&(Wt.current.value="");return}k(Ve=>({...Ve,audioFile:he})),F(null)}},It=J=>{k(he=>({...he,userNotes:J.target.value}))},fn=async J=>{if(J.preventDefault(),!D.audioFile){F("Please upload an audio file for feedback.");return}A(!0),window.scrollTo({top:0,behavior:"smooth"}),O(null),F(null);try{const he=await $g(D);O(he)}catch(he){F(he.message||"An unknown error occurred while generating mix feedback.")}finally{A(!1)}},Vt=()=>{k(Qy),O(null),F(null),Wt.current&&(Wt.current.value="")},ft=J=>new Promise((he,ve)=>{const Ve=new FileReader;Ve.readAsDataURL(J),Ve.onload=()=>{const at=Ve.result.split(",")[1];he(at)},Ve.onerror=_t=>ve(_t)}),Ht=async()=>{if(!se.mixA||!se.mixB){St("Please upload both Mix A and Mix B files.");return}tt(!0),window.scrollTo({top:0,behavior:"smooth"}),Ie(null),St(null);try{const J=await ft(se.mixA),he=await ft(se.mixB),ve={mixAFile:J,mixBFile:he,mixAName:se.mixA.name,mixBName:se.mixB.name,includeMixBFeedback:se.includeMixBFeedback,userNotes:se.userNotes},Ve=await nM(ve);Ie(Ve)}catch(J){St(J.message||"An unknown error occurred while comparing mixes.")}finally{tt(!1)}},Zt=()=>{Se({mixA:null,mixB:null,userNotes:"",includeMixBFeedback:!1}),Ie(null),St(null)};let en;const fa=(xr=n.songTitle)==null?void 0:xr.trim();if(fa)en=`TrackGuide: ${fa}`;else if(X!=null&&X.title){const J=X.title;if(J.startsWith("TrackGuide for ")){const he=yr(X.content);he?en=`TrackGuide: ${he}`:en=J}else en=`TrackGuide: ${J}`}else if(v&&t==="trackGuide"){const J=t0(p);J?en=`TrackGuide: ${J}`:en="TrackGuide is generating..."}else if(p){const J=t0(p);J?en=`TrackGuide: ${J}`:en="Generated TrackGuide"}else en="TrackGuide";return t==="landing"?h.jsx(OM,{onGetStarted:()=>{i("trackGuide"),setTimeout(()=>window.scrollTo({top:0,behavior:"smooth"}),100)}}):h.jsxs("div",{className:"min-h-screen bg-[#1A1A1A] text-gray-100 p-4 md:p-6 lg:p-8 relative overflow-hidden",children:[h.jsx("div",{className:"absolute inset-0 opacity-20 pointer-events-none",children:h.jsx("div",{className:"absolute inset-0 pointer-events-none",style:{backgroundImage:"radial-gradient(circle at 2px 2px, #FF5722 1px, transparent 0)",backgroundSize:"40px 40px"}})}),h.jsxs("div",{className:"absolute top-10 right-10 w-32 h-32 opacity-10 pointer-events-none",children:[h.jsx("div",{className:"w-full h-full border-2 border-orange-500 transform rotate-12 pointer-events-none"}),h.jsx("div",{className:"absolute top-2 right-2 w-28 h-28 bg-orange-500 transform rotate-12 pointer-events-none"})]}),h.jsxs("header",{className:"text-center mb-6 relative z-10",children:[h.jsxs("div",{className:"flex items-center justify-center space-x-3 mb-4",children:[h.jsx("div",{className:"w-8 h-8 bg-orange-500 transform rotate-45 flex items-center justify-center",children:h.jsx("div",{className:"w-4 h-4 bg-white transform -rotate-45"})}),h.jsxs("div",{children:[h.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-white",children:Gg}),h.jsx("p",{className:"text-gray-400 text-lg",children:"Your Smartest Studio Assistant"})]})]}),h.jsx("button",{onClick:()=>i("landing"),className:"mt-2 text-sm text-orange-500 hover:text-orange-400 transition-colors font-medium",children:" Back to Landing"})]}),h.jsxs("nav",{className:"mb-8 flex flex-col justify-center items-center md:flex-row md:justify-center gap-2 border-b border-orange-500/20 pb-3 relative z-10",children:[h.jsx(Be,{size:"sm",className:`w-full md:w-auto px-3 py-2 text-xs md:text-sm rounded-md transition-all duration-150 ease-in-out ${t==="trackGuide"?"bg-orange-500 shadow-lg hover:bg-orange-600":"bg-gray-700/80 hover:bg-gray-600/80 border border-gray-600"}`,onClick:()=>i("trackGuide"),variant:t==="trackGuide"?"primary":"secondary",leftIcon:h.jsx(ns,{className:"w-4 h-4"}),children:"TrackGuide AI"}),h.jsx(Be,{size:"sm",className:`w-full md:w-auto px-3 py-2 text-xs md:text-sm rounded-md transition-all duration-150 ease-in-out ${t==="mixFeedback"?"bg-orange-500 shadow-lg hover:bg-orange-600":"bg-gray-700/80 hover:bg-gray-600/80 border border-gray-600"}`,onClick:()=>i("mixFeedback"),variant:t==="mixFeedback"?"primary":"secondary",leftIcon:h.jsx("span",{className:"w-4 h-4 text-center",children:""}),children:"Mix Feedback AI"}),h.jsx(Be,{size:"sm",className:`w-full md:w-auto px-3 py-2 text-xs md:text-sm rounded-md transition-all duration-150 ease-in-out ${t==="remixGuide"?"bg-orange-500 shadow-lg hover:bg-orange-600":"bg-gray-700/80 hover:bg-gray-600/80 border border-gray-600"}`,onClick:()=>i("remixGuide"),variant:t==="remixGuide"?"primary":"secondary",leftIcon:h.jsx("span",{className:"w-4 h-4 text-center",children:""}),children:"RemixGuide AI"}),h.jsx(Be,{size:"sm",className:`w-full md:w-auto px-3 py-2 text-xs md:text-sm rounded-md transition-all duration-150 ease-in-out ${t==="patchGuide"?"bg-orange-500 shadow-lg hover:bg-orange-600":"bg-gray-700/80 hover:bg-gray-600/80 border border-gray-600"}`,onClick:()=>i("patchGuide"),variant:t==="patchGuide"?"primary":"secondary",leftIcon:h.jsx("span",{className:"w-4 h-4 text-center",children:""}),children:"PatchGuide AI"}),h.jsx(Be,{size:"sm",className:`w-full md:w-auto px-3 py-2 text-xs md:text-sm rounded-md transition-all duration-150 ease-in-out ${t==="eqGuide"?"bg-orange-500 shadow-lg hover:bg-orange-600":"bg-gray-700/80 hover:bg-gray-600/80 border border-gray-600"}`,onClick:()=>i("eqGuide"),variant:t==="eqGuide"?"primary":"secondary",leftIcon:h.jsx(Uc,{className:"w-4 h-4"}),children:"EQ Guide"})]}),t==="trackGuide"&&h.jsxs("div",{className:"max-w-full mx-auto grid grid-cols-1 lg:grid-cols-7 gap-6 px-4",children:[h.jsxs(Ge,{title:"Blueprint Your Sound",className:"lg:col-span-2 bg-gray-800/80 backdrop-blur-md shadow-xl border border-gray-700/50",children:[h.jsx("p",{className:"text-sm text-gray-400 mb-4",children:"Describe your visioneverything's optional."}),h.jsxs("form",{onSubmit:W,className:"space-y-3",children:[h.jsx("div",{children:h.jsx(Tn,{label:"Song Title / Project Name",name:"songTitle",value:n.songTitle||"",onChange:vt,placeholder:"AI will suggest one if left blank"})}),h.jsx("div",{children:h.jsx(Tn,{label:"Artist References",name:"artistReference",value:n.artistReference,onChange:vt,placeholder:"e.g., Daft Punk"})}),h.jsx("div",{children:h.jsx(Tn,{label:"Song Reference",name:"referenceTrackLink",value:n.referenceTrackLink||"",onChange:vt,placeholder:"e.g., YouTube, Spotify, SoundCloud link"})}),h.jsxs("div",{className:"space-y-2",children:[h.jsxs("div",{children:[h.jsx("label",{htmlFor:"genre-input",className:"block text-sm font-medium text-gray-300 mb-1.5",children:"Genre(s)"}),h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx(Tn,{ref:Nt,id:"genre-input",name:"currentGenreText",value:o,onChange:vt,onKeyDown:J=>Un(J,"genre"),placeholder:"Type custom genre...",list:"genre-suggestions",className:"flex-grow"}),h.jsx(Be,{type:"button",onClick:()=>jn("genre"),size:"sm",variant:"secondary","aria-label":"Add Genre",className:"px-3",children:h.jsx(vf,{className:"w-4 h-4"})})]}),h.jsx("datalist",{id:"genre-suggestions",children:y0.map(J=>h.jsx("option",{value:J},J))}),h.jsx(Rt,{selections:n.genre,onRemove:J=>hr("genre",J)})]}),h.jsxs("div",{children:[h.jsx("label",{htmlFor:"vibe-input",className:"block text-sm font-medium text-gray-300 mb-1.5",children:"Vibe / Mood"}),h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx(Tn,{ref:pr,id:"vibe-input",name:"currentVibeText",value:c,onChange:vt,onKeyDown:J=>Un(J,"vibe"),placeholder:"Type custom vibe...",list:"vibe-suggestions",className:"flex-grow"}),h.jsx(Be,{type:"button",onClick:()=>jn("vibe"),size:"sm",variant:"secondary","aria-label":"Add Vibe",className:"px-3",children:h.jsx(vf,{className:"w-4 h-4"})})]}),h.jsx("datalist",{id:"vibe-suggestions",children:$E.map(J=>h.jsx("option",{value:J},J))}),h.jsx(Rt,{selections:n.vibe,onRemove:J=>hr("vibe",J)})]})]}),h.jsxs("div",{children:[h.jsx(Tn,{label:"Preferred DAW",name:"daw",value:n.daw,onChange:vt,placeholder:"Type or select DAW...",list:"daw-suggestions"}),h.jsx("datalist",{id:"daw-suggestions",children:Yg.map(J=>h.jsx("option",{value:J},J))}),h.jsx("div",{className:"flex flex-wrap gap-2 mt-2 mb-1",children:Yg.slice(0,5).map(J=>h.jsx("button",{type:"button",onClick:()=>gr(J),className:`px-3 py-1 text-xs rounded-full transition-all duration-150 ease-in-out shadow-sm hover:shadow-md ${n.daw===J?"bg-orange-600 text-white ring-2 ring-orange-400 ring-offset-2 ring-offset-gray-800":"bg-gray-700 hover:bg-gray-600 text-gray-300 hover:text-gray-100"}`,children:J},J))})]}),h.jsx("div",{children:h.jsx(ea,{label:"Available Plugins",name:"plugins",value:n.plugins,onChange:vt,placeholder:"e.g., Serum, Valhalla Reverbs, Arturia V Collection, or 'stock only'",rows:2})}),h.jsx("div",{children:h.jsx(ea,{label:"Available Instruments",name:"availableInstruments",value:n.availableInstruments||"",onChange:vt,placeholder:"e.g., Electric Guitar, Moog Subsequent 37, Roland TR-808, Vocals",rows:2})}),h.jsxs("div",{className:"border-t border-gray-600 pt-4",children:[h.jsx(Be,{type:"button",onClick:()=>ue(!I),variant:"outline",className:"mb-4 w-8 h-8 p-0 flex items-center justify-center",title:I?"Hide Advanced Input":"Show Advanced Input",children:h.jsx("span",{className:`text-lg transition-transform ${I?"rotate-45":""}`,children:"+"})}),I&&h.jsxs("div",{className:"space-y-4 p-4 bg-gray-700/30 rounded-lg border border-gray-600/50",children:[h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[h.jsx("div",{children:h.jsx(Tn,{label:"Key",name:"key",value:n.key||"",onChange:vt,placeholder:"e.g., C Major"})}),h.jsx("div",{children:h.jsx(Tn,{label:"Scale/Mode",name:"scale",value:n.scale||"",onChange:vt,placeholder:"e.g., Dorian, Mixolydian"})})]}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[h.jsx("div",{children:h.jsx(Tn,{label:"Chords",name:"chords",value:n.chords||"",onChange:vt,placeholder:"e.g., Am - F - C - G"})}),h.jsx("div",{children:h.jsx(ea,{label:"Lyrics",name:"lyrics",value:n.lyrics||"",onChange:vt,placeholder:"Paste your lyrics here if you have any...",rows:2})})]}),h.jsx("div",{children:h.jsx(ea,{label:"General Notes for AI",name:"generalNotes",value:n.generalNotes||"",onChange:vt,placeholder:"Any specific instructions, style notes, or creative direction for the AI to consider...",rows:3})})]})]}),h.jsx(Be,{type:"submit",disabled:v,className:"w-full text-base py-2.5",leftIcon:h.jsx(ns,{className:"w-5 h-5"}),children:v?T||"Generating...":"Generate TrackGuide"}),h.jsxs("div",{className:"flex space-x-2 mt-3",children:[h.jsx(Be,{type:"button",onClick:()=>Q(!0),variant:"secondary",className:"flex-1",leftIcon:h.jsx(xf,{className:"w-4 h-4"}),children:"View Library"}),h.jsx(Be,{type:"button",onClick:ji,variant:"outline",className:"flex-1",children:"Clear Form"})]})]})]}),h.jsxs("div",{className:"lg:col-span-5 space-y-6",children:[w&&!v&&h.jsxs(Ge,{className:"border-red-500 bg-red-900/40 shadow-xl",children:[h.jsx("p",{className:"text-red-300 font-semibold text-lg",children:"TrackGuide Error:"}),h.jsx("p",{className:"text-red-300",children:w})]}),B&&!T.toLowerCase().includes("midi")&&!w&&h.jsxs(Ge,{className:"border-yellow-500 bg-yellow-900/40 shadow-xl",children:[h.jsx("p",{className:"text-yellow-300 font-semibold text-lg",children:"MIDI Generation Note:"}),h.jsx("p",{className:"text-yellow-300",children:B})]}),(p||v&&T.includes("TrackGuide is generating"))&&!w&&h.jsxs(Ge,{title:en,className:"bg-gray-800/80 backdrop-blur-md shadow-xl border border-gray-700/50 sticky top-8",titleClassName:"border-b border-gray-700 text-xl",children:[X&&!v&&h.jsxs("div",{className:"flex flex-wrap gap-3 mb-5 pb-4 border-b border-gray-700 items-center",children:[h.jsx(Be,{onClick:ce,variant:"secondary",leftIcon:h.jsx(rM,{}),children:"Save to Library"}),h.jsx("div",{className:"flex-grow"}),h.jsx(Be,{onClick:ji,variant:"outline",size:"sm",className:"!border-gray-500 !text-gray-400 hover:!bg-gray-600 hover:!text-white",leftIcon:h.jsx(T0,{}),children:"Close"}),ae&&h.jsx("span",{className:`ml-3 text-sm ${ae.includes("Failed")||ae.includes("not supported")?"text-red-400":"text-green-400"}`,children:ae})]}),h.jsxs("div",{id:"guidebook-content-display",className:"prose prose-sm md:prose-base prose-invert max-w-none max-h-[calc(100vh-6rem)] overflow-y-auto pr-3 text-gray-300 custom-scrollbar guidebook-content",children:[X&&!v&&h.jsxs("div",{className:"mb-6 p-4 bg-gray-700/50 rounded-lg text-sm shadow-inner border border-gray-600/50 guidebook-section-break",children:[h.jsx("strong",{className:"text-orange-300 block mb-2 text-base",children:"TrackGuide Snapshot:"}),h.jsxs("p",{children:[h.jsx("strong",{children:"Project Title:"})," ",X.title]}),h.jsxs("p",{children:[h.jsx("strong",{children:"Genre(s):"})," ",Array.isArray(X.genre)?X.genre.join(", "):X.genre]}),h.jsxs("p",{children:[h.jsx("strong",{children:"Artist/Song Ref:"})," ",X.artistReference||"N/A"]}),h.jsxs("p",{children:[h.jsx("strong",{children:"Vibe(s):"})," ",Array.isArray(X.vibe)?X.vibe.join(", "):X.vibe]}),h.jsxs("p",{children:[h.jsx("strong",{children:"DAW:"})," ",X.daw]}),h.jsxs("p",{children:[h.jsx("strong",{children:"Plugins:"})," ",X.plugins||"N/A"]}),h.jsxs("p",{children:[h.jsx("strong",{children:"Instruments:"})," ",X.availableInstruments||"N/A"]}),X.generatedMidiPatterns&&h.jsxs("p",{className:"mt-1 text-green-400",children:[h.jsx(b0,{className:"w-4 h-4 inline mr-1"})," Initial MIDI patterns generated."]})]}),h.jsx(us,{content:p}),v&&T.includes("TrackGuide is generating")&&h.jsx(Oi,{size:"sm",text:"Generating TrackGuide..."})]})]}),v&&!w&&T&&!T.includes("TrackGuide is generating")&&h.jsx("div",{className:"flex justify-center py-10",children:h.jsx(Oi,{size:"lg",text:T||"Processing..."})}),X&&!v&&p&&!w&&h.jsx(M0,{currentGuidebookEntry:X,mainAppInputs:n,onUpdateGuidebookEntryMidi:Te,parsedGuidebookBpm:Jy(X.content),parsedGuidebookKey:Wy(X.content),parsedGuidebookChordProg:Zy(X.content)}),!v&&!p&&!w&&!X&&h.jsxs(Ge,{className:"bg-gray-800/80 backdrop-blur-md shadow-xl border border-gray-700/50 flex flex-col items-center justify-center h-96 text-center min-h-[500px]",children:[h.jsx("div",{className:"flex justify-center mb-6",children:h.jsx(ns,{className:"w-20 h-20 opacity-80 text-orange-500"})}),h.jsx("h3",{className:"text-2xl font-semibold text-gray-200 mb-2",children:"Produce Smarter. Create More."}),h.jsx("p",{className:"text-gray-400 max-w-md mx-auto",children:"Tell us what youre envisioningTrackGuide AI will generate a custom production guide and MIDI foundation."})]})]})]}),t==="mixFeedback"&&h.jsxs("div",{className:"max-w-7xl mx-auto grid grid-cols-1 md:grid-cols-12 gap-8",children:[h.jsxs("div",{className:"md:col-span-3 space-y-6",children:[h.jsxs("div",{className:"flex bg-gray-800/80 backdrop-blur-md shadow-xl border border-gray-700/50 rounded-lg overflow-hidden",children:[h.jsx("button",{onClick:()=>ge("single"),className:`flex-1 px-4 py-3 text-sm font-medium transition-all ${ie==="single"?"bg-orange-500 text-white":"bg-gray-700/50 text-gray-300 hover:bg-gray-600/50"}`,children:" Mix Analysis"}),h.jsx("button",{onClick:()=>ge("compare"),className:`flex-1 px-4 py-3 text-sm font-medium transition-all ${ie==="compare"?"bg-orange-500 text-white":"bg-gray-700/50 text-gray-300 hover:bg-gray-600/50"}`,children:" Mix Compare"})]}),ie==="single"&&h.jsx(Ge,{title:"Upload Your Mix",className:"bg-gray-800/80 backdrop-blur-md shadow-xl border border-gray-700/50",children:h.jsxs("form",{onSubmit:fn,className:"space-y-5",children:[h.jsxs("div",{children:[h.jsx("label",{htmlFor:"mix-audio-file",className:"block text-sm font-medium text-gray-300 mb-1",children:"Audio File (.mp3, .wav, etc.)"}),h.jsx("div",{className:`mt-1 flex justify-center px-6 pt-5 pb-6 border-2 ${ne&&D.audioFile===null?"border-red-500":"border-gray-600"} border-dashed rounded-md cursor-pointer hover:border-orange-500 transition-colors`,onClick:()=>{var J;return(J=Wt.current)==null?void 0:J.click()},onDragOver:J=>{J.preventDefault(),J.currentTarget.classList.add("border-orange-500")},onDragLeave:J=>J.currentTarget.classList.remove("border-orange-500"),onDrop:J=>{if(J.preventDefault(),J.currentTarget.classList.remove("border-orange-500"),J.dataTransfer.files&&J.dataTransfer.files[0]){const he=J.dataTransfer.files[0];if(he.size>is){F(`File is too large. Max ${Li}MB.`);return}if(!he.type.startsWith("audio/")){F("Invalid file type. Please upload audio.");return}k(ve=>({...ve,audioFile:he})),F(null)}},children:h.jsxs("div",{className:"space-y-1 text-center",children:[h.jsx(jc,{className:"mx-auto h-12 w-12 text-gray-500"}),h.jsxs("div",{className:"flex text-sm text-gray-400",children:[h.jsx("span",{className:"relative rounded-md font-medium text-orange-400 hover:text-orange-300 focus-within:outline-none focus-within:ring-2 focus-within:ring-offset-2 focus-within:ring-offset-gray-900 focus-within:ring-orange-500",children:h.jsx("span",{children:"Upload a file"})}),h.jsx("input",{id:"mix-audio-file",name:"mix-audio-file",type:"file",className:"sr-only",accept:"audio/*",onChange:Mn,ref:Wt}),h.jsx("p",{className:"pl-1",children:"or drag and drop"})]}),h.jsxs("p",{className:"text-xs text-gray-500",children:["Max file size: ",Li,"MB"]})]})}),D.audioFile&&h.jsxs("p",{className:"text-xs text-green-400 mt-2",children:["Selected: ",D.audioFile.name," (",(D.audioFile.size/1024/1024).toFixed(2)," MB)"]}),ne&&D.audioFile===null&&h.jsx("p",{className:"text-xs text-red-400 mt-2",children:ne})]}),h.jsx("div",{children:h.jsx(ea,{label:"Notes for AI",name:"mixUserNotes",value:D.userNotes,onChange:It,placeholder:"e.g., 'Focus on the low-end clarity', 'Is the vocal too loud?', 'General feedback welcome.'",rows:4})}),h.jsx(Be,{type:"submit",disabled:V||!D.audioFile,className:"w-full text-base py-2.5 !bg-orange-600 hover:!bg-orange-700 focus:!ring-orange-500",leftIcon:h.jsx(Uc,{className:"w-5 h-5"}),children:V?"Analyzing Mix...":"Get Mix Feedback"}),h.jsx(Be,{type:"button",onClick:Vt,variant:"outline",className:"w-full !border-orange-500 !text-orange-400 hover:!bg-orange-500 hover:!text-white",children:"Clear Mix Form"})]})}),ie==="compare"&&h.jsxs("div",{className:"space-y-5",children:[h.jsxs(Ge,{title:"Mix A (Original)",className:"bg-gray-800/80 backdrop-blur-md shadow-xl border border-gray-700/50",children:[h.jsx("div",{className:`mt-1 flex justify-center px-6 pt-5 pb-6 border-2 ${rt&&!se.mixA?"border-red-500":"border-gray-600"} border-dashed rounded-md cursor-pointer hover:border-orange-500 transition-colors`,onClick:()=>{var J;return(J=document.getElementById("mixA-upload"))==null?void 0:J.click()},children:h.jsxs("div",{className:"space-y-1 text-center",children:[h.jsx(jc,{className:"mx-auto h-12 w-12 text-gray-400"}),h.jsxs("div",{className:"flex text-sm text-gray-400",children:[h.jsxs("label",{htmlFor:"mixA-upload",className:"relative cursor-pointer rounded-md font-medium text-orange-400 hover:text-orange-300",children:[h.jsx("span",{children:"Upload Mix A"}),h.jsx("input",{id:"mixA-upload",name:"mixA-upload",type:"file",className:"sr-only",accept:"audio/*",onChange:J=>{var ve;const he=(ve=J.target.files)==null?void 0:ve[0];if(he){if(he.size>is){St(`File is too large. Max ${Li}MB.`);return}if(!he.type.startsWith("audio/")){St("Invalid file type. Please upload audio.");return}Se(Ve=>({...Ve,mixA:he})),St(null)}}})]}),h.jsx("p",{className:"pl-1",children:"or drag and drop"})]}),h.jsxs("p",{className:"text-xs text-gray-500",children:["MP3, WAV, FLAC up to ",Li,"MB"]})]})}),se.mixA&&h.jsxs("p",{className:"text-xs text-green-400 mt-2",children:["Selected: ",se.mixA.name," (",(se.mixA.size/1024/1024).toFixed(2)," MB)"]})]}),h.jsxs(Ge,{title:"Mix B (Revised)",className:"bg-gray-800/80 backdrop-blur-md shadow-xl border border-gray-700/50",children:[h.jsx("div",{className:`mt-1 flex justify-center px-6 pt-5 pb-6 border-2 ${rt&&!se.mixB?"border-red-500":"border-gray-600"} border-dashed rounded-md cursor-pointer hover:border-orange-500 transition-colors`,onClick:()=>{var J;return(J=document.getElementById("mixB-upload"))==null?void 0:J.click()},children:h.jsxs("div",{className:"space-y-1 text-center",children:[h.jsx(jc,{className:"mx-auto h-12 w-12 text-gray-400"}),h.jsxs("div",{className:"flex text-sm text-gray-400",children:[h.jsxs("label",{htmlFor:"mixB-upload",className:"relative cursor-pointer rounded-md font-medium text-orange-400 hover:text-orange-300",children:[h.jsx("span",{children:"Upload Mix B"}),h.jsx("input",{id:"mixB-upload",name:"mixB-upload",type:"file",className:"sr-only",accept:"audio/*",onChange:J=>{var ve;const he=(ve=J.target.files)==null?void 0:ve[0];if(he){if(he.size>is){St(`File is too large. Max ${Li}MB.`);return}if(!he.type.startsWith("audio/")){St("Invalid file type. Please upload audio.");return}Se(Ve=>({...Ve,mixB:he})),St(null)}}})]}),h.jsx("p",{className:"pl-1",children:"or drag and drop"})]}),h.jsxs("p",{className:"text-xs text-gray-500",children:["MP3, WAV, FLAC up to ",Li,"MB"]})]})}),se.mixB&&h.jsxs("p",{className:"text-xs text-green-400 mt-2",children:["Selected: ",se.mixB.name," (",(se.mixB.size/1024/1024).toFixed(2)," MB)"]})]}),h.jsx(Ge,{title:"Notes for AI",className:"bg-gray-800/80 backdrop-blur-md shadow-xl border border-gray-700/50",children:h.jsx(ea,{placeholder:"Describe what you want the AI to focus on when comparing these mixes. For example: 'Focus on the vocal clarity and low-end balance' or 'Compare the stereo width and overall loudness'...",value:se.userNotes,onChange:J=>Se(he=>({...he,userNotes:J.target.value})),rows:3,className:"w-full"})}),h.jsx(Be,{onClick:Ht,disabled:ze||!se.mixA||!se.mixB,variant:"primary",className:"w-full px-4 py-3 text-base font-semibold",leftIcon:h.jsx("span",{className:"w-5 h-5 text-center",children:""}),children:ze?"Comparing Mixes...":"Compare Mixes"}),h.jsx(Be,{type:"button",onClick:Zt,variant:"outline",className:"w-full !border-orange-500 !text-orange-400 hover:!bg-orange-500 hover:!text-white",children:"Reset"}),rt&&!ze&&h.jsxs(Ge,{className:"border-red-500 bg-red-900/40 shadow-xl",children:[h.jsx("p",{className:"text-red-300 font-semibold text-lg",children:"Mix Comparison Error:"}),h.jsx("p",{className:"text-red-300",children:rt})]})]})]}),h.jsxs("div",{className:"md:col-span-9 space-y-6",children:[(V||ze)&&h.jsx("div",{className:"flex justify-center items-center h-full min-h-[500px]",children:h.jsx(Oi,{size:"lg",color:"text-orange-500",text:ie==="single"?"AI is analyzing your mix... this may take a moment.":"AI is comparing your mixes... this may take a moment."})}),ne&&!V&&ie==="single"&&h.jsxs(Ge,{className:"border-red-500 bg-red-900/40 shadow-xl",children:[h.jsx("p",{className:"text-red-300 font-semibold text-lg",children:"Mix Feedback Error:"}),h.jsx("p",{className:"text-red-300",children:ne})]}),rt&&!ze&&ie==="compare"&&h.jsxs(Ge,{className:"border-red-500 bg-red-900/40 shadow-xl",children:[h.jsx("p",{className:"text-red-300 font-semibold text-lg",children:"Mix Comparison Error:"}),h.jsx("p",{className:"text-red-300",children:rt})]}),S&&!V&&ie==="single"&&h.jsx(Ge,{title:"AI Mix Feedback Report",className:"bg-gray-800/80 backdrop-blur-md shadow-xl border border-gray-700/50 sticky top-8",titleClassName:"border-b border-gray-700 text-xl !text-orange-300",children:h.jsx("div",{id:"mix-feedback-display",className:"prose prose-sm md:prose-base prose-invert max-w-none max-h-[calc(100vh-6rem)] overflow-y-auto pr-3 text-gray-300 custom-scrollbar guidebook-content",children:h.jsx(us,{content:S})})}),we&&!ze&&ie==="compare"&&h.jsxs(Ge,{title:"AI Mix Comparison Report",className:"bg-gray-800/80 backdrop-blur-md shadow-xl border border-gray-700/50 sticky top-8",titleClassName:"border-b border-gray-700 text-xl !text-orange-300",children:[h.jsx("div",{id:"mix-comparison-display",className:"prose prose-sm md:prose-base prose-invert max-w-none max-h-[calc(100vh-6rem)] overflow-y-auto pr-3 text-gray-300 custom-scrollbar guidebook-content",children:h.jsx(us,{content:we})}),h.jsx("div",{className:"p-4 border-t border-gray-700 flex justify-center",children:h.jsx(Be,{onClick:async()=>{if(se.mixB){A(!0),O(null),F(null),k({audioFile:se.mixB,userNotes:se.userNotes});try{const J=await $g({audioFile:se.mixB,userNotes:se.userNotes});O(J)}catch(J){console.error("Full Mix B Feedback Error:",J),F(J.message||"Failed to generate feedback for Mix B.")}finally{A(!1)}}},disabled:V,className:"w-full mt-4 text-base py-2.5 !bg-orange-600 hover:!bg-orange-700 focus:!ring-orange-500",leftIcon:h.jsx(Uc,{className:"w-5 h-5"}),children:V?"Analyzing Mix B...":"Get Full Feedback for Mix B"})})]}),!V&&!ze&&!S&&!we&&!ne&&!rt&&h.jsxs(Ge,{className:"bg-gray-800/80 backdrop-blur-md shadow-xl border border-gray-700/50 flex flex-col items-center justify-center h-96 text-center min-h-[500px]",children:[h.jsx("div",{className:"flex justify-center mb-6",children:h.jsx(ns,{className:"w-20 h-20 opacity-80"})}),h.jsx("h3",{className:"text-2xl font-semibold text-gray-200 mb-2",children:"Refine Your Sound."}),h.jsx("p",{className:"text-gray-400 max-w-md",children:ie==="single"?"Upload your mix, add some notes, and get detailed feedback from our AI mixing engineer.":"Upload two mix versions to compare them side-by-side and get detailed analysis of the differences."})]})]})]}),t==="remixGuide"&&h.jsx("div",{className:"max-w-7xl mx-auto",children:h.jsx(lR,{})}),t==="eqGuide"&&h.jsx("div",{className:"max-w-7xl mx-auto",children:h.jsx(sR,{})}),t==="patchGuide"&&h.jsx("div",{className:"max-w-7xl mx-auto",children:h.jsx(PR,{})}),q&&h.jsx(_M,{library:U,onClose:()=>Q(!1),onLoadEntry:Ee,onDeleteEntry:qe,onCreateNew:ji}),h.jsx("footer",{className:"text-center mt-16 py-8 border-t border-gray-700/60",children:h.jsxs("p",{className:"text-sm text-gray-500",children:[Gg," - AI Production Assistant"]})})]})},_x=document.getElementById("root");if(!_x)throw new Error("Could not find root element to mount to");const UR=Wb.createRoot(_x);UR.render(h.jsx(vl.StrictMode,{children:h.jsx(jR,{})}));
