(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))i(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const u of o.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&i(u)}).observe(document,{childList:!0,subtree:!0});function n(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function i(s){if(s.ep)return;s.ep=!0;const o=n(s);fetch(s.href,o)}})();function _l(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function q_(e){if(Object.prototype.hasOwnProperty.call(e,"__esModule"))return e;var t=e.default;if(typeof t=="function"){var n=function i(){return this instanceof i?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(i){var s=Object.getOwnPropertyDescriptor(e,i);Object.defineProperty(n,i,s.get?s:{enumerable:!0,get:function(){return e[i]}})}),n}var hm={exports:{}},Bo={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var O1;function Y_(){if(O1)return Bo;O1=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(i,s,o){var u=null;if(o!==void 0&&(u=""+o),s.key!==void 0&&(u=""+s.key),"key"in s){o={};for(var c in s)c!=="key"&&(o[c]=s[c])}else o=s;return s=o.ref,{$$typeof:e,type:i,key:u,ref:s!==void 0?s:null,props:o}}return Bo.Fragment=t,Bo.jsx=n,Bo.jsxs=n,Bo}var P1;function K_(){return P1||(P1=1,hm.exports=Y_()),hm.exports}var g=K_(),pm={exports:{}},qe={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var B1;function $_(){if(B1)return qe;B1=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),u=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),y=Symbol.iterator;function v(C){return C===null||typeof C!="object"?null:(C=y&&C[y]||C["@@iterator"],typeof C=="function"?C:null)}var S={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},_=Object.assign,I={};function O(C,U,$){this.props=C,this.context=U,this.refs=I,this.updater=$||S}O.prototype.isReactComponent={},O.prototype.setState=function(C,U){if(typeof C!="object"&&typeof C!="function"&&C!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,C,U,"setState")},O.prototype.forceUpdate=function(C){this.updater.enqueueForceUpdate(this,C,"forceUpdate")};function D(){}D.prototype=O.prototype;function H(C,U,$){this.props=C,this.context=U,this.refs=I,this.updater=$||S}var R=H.prototype=new D;R.constructor=H,_(R,O.prototype),R.isPureReactComponent=!0;var V=Array.isArray,K={H:null,A:null,T:null,S:null,V:null},q=Object.prototype.hasOwnProperty;function ue(C,U,$,N,se,j){return $=j.ref,{$$typeof:e,type:C,key:U,ref:$!==void 0?$:null,props:j}}function me(C,U){return ue(C.type,U,void 0,void 0,void 0,C.props)}function Ae(C){return typeof C=="object"&&C!==null&&C.$$typeof===e}function Y(C){var U={"=":"=0",":":"=2"};return"$"+C.replace(/[=:]/g,function($){return U[$]})}var ye=/\/+/g;function be(C,U){return typeof C=="object"&&C!==null&&C.key!=null?Y(""+C.key):U.toString(36)}function Se(){}function pe(C){switch(C.status){case"fulfilled":return C.value;case"rejected":throw C.reason;default:switch(typeof C.status=="string"?C.then(Se,Se):(C.status="pending",C.then(function(U){C.status==="pending"&&(C.status="fulfilled",C.value=U)},function(U){C.status==="pending"&&(C.status="rejected",C.reason=U)})),C.status){case"fulfilled":return C.value;case"rejected":throw C.reason}}throw C}function re(C,U,$,N,se){var j=typeof C;(j==="undefined"||j==="boolean")&&(C=null);var ie=!1;if(C===null)ie=!0;else switch(j){case"bigint":case"string":case"number":ie=!0;break;case"object":switch(C.$$typeof){case e:case t:ie=!0;break;case h:return ie=C._init,re(ie(C._payload),U,$,N,se)}}if(ie)return se=se(C),ie=N===""?"."+be(C,0):N,V(se)?($="",ie!=null&&($=ie.replace(ye,"$&/")+"/"),re(se,U,$,"",function(Me){return Me})):se!=null&&(Ae(se)&&(se=me(se,$+(se.key==null||C&&C.key===se.key?"":(""+se.key).replace(ye,"$&/")+"/")+ie)),U.push(se)),1;ie=0;var _e=N===""?".":N+":";if(V(C))for(var Ce=0;Ce<C.length;Ce++)N=C[Ce],j=_e+be(N,Ce),ie+=re(N,U,$,j,se);else if(Ce=v(C),typeof Ce=="function")for(C=Ce.call(C),Ce=0;!(N=C.next()).done;)N=N.value,j=_e+be(N,Ce++),ie+=re(N,U,$,j,se);else if(j==="object"){if(typeof C.then=="function")return re(pe(C),U,$,N,se);throw U=String(C),Error("Objects are not valid as a React child (found: "+(U==="[object Object]"?"object with keys {"+Object.keys(C).join(", ")+"}":U)+"). If you meant to render a collection of children, use an array instead.")}return ie}function W(C,U,$){if(C==null)return C;var N=[],se=0;return re(C,N,"","",function(j){return U.call($,j,se++)}),N}function z(C){if(C._status===-1){var U=C._result;U=U(),U.then(function($){(C._status===0||C._status===-1)&&(C._status=1,C._result=$)},function($){(C._status===0||C._status===-1)&&(C._status=2,C._result=$)}),C._status===-1&&(C._status=0,C._result=U)}if(C._status===1)return C._result.default;throw C._result}var w=typeof reportError=="function"?reportError:function(C){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var U=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof C=="object"&&C!==null&&typeof C.message=="string"?String(C.message):String(C),error:C});if(!window.dispatchEvent(U))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",C);return}console.error(C)};function L(){}return qe.Children={map:W,forEach:function(C,U,$){W(C,function(){U.apply(this,arguments)},$)},count:function(C){var U=0;return W(C,function(){U++}),U},toArray:function(C){return W(C,function(U){return U})||[]},only:function(C){if(!Ae(C))throw Error("React.Children.only expected to receive a single React element child.");return C}},qe.Component=O,qe.Fragment=n,qe.Profiler=s,qe.PureComponent=H,qe.StrictMode=i,qe.Suspense=m,qe.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=K,qe.__COMPILER_RUNTIME={__proto__:null,c:function(C){return K.H.useMemoCache(C)}},qe.cache=function(C){return function(){return C.apply(null,arguments)}},qe.cloneElement=function(C,U,$){if(C==null)throw Error("The argument must be a React element, but you passed "+C+".");var N=_({},C.props),se=C.key,j=void 0;if(U!=null)for(ie in U.ref!==void 0&&(j=void 0),U.key!==void 0&&(se=""+U.key),U)!q.call(U,ie)||ie==="key"||ie==="__self"||ie==="__source"||ie==="ref"&&U.ref===void 0||(N[ie]=U[ie]);var ie=arguments.length-2;if(ie===1)N.children=$;else if(1<ie){for(var _e=Array(ie),Ce=0;Ce<ie;Ce++)_e[Ce]=arguments[Ce+2];N.children=_e}return ue(C.type,se,void 0,void 0,j,N)},qe.createContext=function(C){return C={$$typeof:u,_currentValue:C,_currentValue2:C,_threadCount:0,Provider:null,Consumer:null},C.Provider=C,C.Consumer={$$typeof:o,_context:C},C},qe.createElement=function(C,U,$){var N,se={},j=null;if(U!=null)for(N in U.key!==void 0&&(j=""+U.key),U)q.call(U,N)&&N!=="key"&&N!=="__self"&&N!=="__source"&&(se[N]=U[N]);var ie=arguments.length-2;if(ie===1)se.children=$;else if(1<ie){for(var _e=Array(ie),Ce=0;Ce<ie;Ce++)_e[Ce]=arguments[Ce+2];se.children=_e}if(C&&C.defaultProps)for(N in ie=C.defaultProps,ie)se[N]===void 0&&(se[N]=ie[N]);return ue(C,j,void 0,void 0,null,se)},qe.createRef=function(){return{current:null}},qe.forwardRef=function(C){return{$$typeof:c,render:C}},qe.isValidElement=Ae,qe.lazy=function(C){return{$$typeof:h,_payload:{_status:-1,_result:C},_init:z}},qe.memo=function(C,U){return{$$typeof:f,type:C,compare:U===void 0?null:U}},qe.startTransition=function(C){var U=K.T,$={};K.T=$;try{var N=C(),se=K.S;se!==null&&se($,N),typeof N=="object"&&N!==null&&typeof N.then=="function"&&N.then(L,w)}catch(j){w(j)}finally{K.T=U}},qe.unstable_useCacheRefresh=function(){return K.H.useCacheRefresh()},qe.use=function(C){return K.H.use(C)},qe.useActionState=function(C,U,$){return K.H.useActionState(C,U,$)},qe.useCallback=function(C,U){return K.H.useCallback(C,U)},qe.useContext=function(C){return K.H.useContext(C)},qe.useDebugValue=function(){},qe.useDeferredValue=function(C,U){return K.H.useDeferredValue(C,U)},qe.useEffect=function(C,U,$){var N=K.H;if(typeof $=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return N.useEffect(C,U)},qe.useId=function(){return K.H.useId()},qe.useImperativeHandle=function(C,U,$){return K.H.useImperativeHandle(C,U,$)},qe.useInsertionEffect=function(C,U){return K.H.useInsertionEffect(C,U)},qe.useLayoutEffect=function(C,U){return K.H.useLayoutEffect(C,U)},qe.useMemo=function(C,U){return K.H.useMemo(C,U)},qe.useOptimistic=function(C,U){return K.H.useOptimistic(C,U)},qe.useReducer=function(C,U,$){return K.H.useReducer(C,U,$)},qe.useRef=function(C){return K.H.useRef(C)},qe.useState=function(C){return K.H.useState(C)},qe.useSyncExternalStore=function(C,U,$){return K.H.useSyncExternalStore(C,U,$)},qe.useTransition=function(){return K.H.useTransition()},qe.version="19.1.0",qe}var F1;function Jh(){return F1||(F1=1,pm.exports=$_()),pm.exports}var oe=Jh();const Hc=_l(oe);var gm={exports:{}},Fo={},ym={exports:{}},Tm={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var H1;function X_(){return H1||(H1=1,function(e){function t(W,z){var w=W.length;W.push(z);e:for(;0<w;){var L=w-1>>>1,C=W[L];if(0<s(C,z))W[L]=z,W[w]=C,w=L;else break e}}function n(W){return W.length===0?null:W[0]}function i(W){if(W.length===0)return null;var z=W[0],w=W.pop();if(w!==z){W[0]=w;e:for(var L=0,C=W.length,U=C>>>1;L<U;){var $=2*(L+1)-1,N=W[$],se=$+1,j=W[se];if(0>s(N,w))se<C&&0>s(j,N)?(W[L]=j,W[se]=w,L=se):(W[L]=N,W[$]=w,L=$);else if(se<C&&0>s(j,w))W[L]=j,W[se]=w,L=se;else break e}}return z}function s(W,z){var w=W.sortIndex-z.sortIndex;return w!==0?w:W.id-z.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var u=Date,c=u.now();e.unstable_now=function(){return u.now()-c}}var m=[],f=[],h=1,y=null,v=3,S=!1,_=!1,I=!1,O=!1,D=typeof setTimeout=="function"?setTimeout:null,H=typeof clearTimeout=="function"?clearTimeout:null,R=typeof setImmediate<"u"?setImmediate:null;function V(W){for(var z=n(f);z!==null;){if(z.callback===null)i(f);else if(z.startTime<=W)i(f),z.sortIndex=z.expirationTime,t(m,z);else break;z=n(f)}}function K(W){if(I=!1,V(W),!_)if(n(m)!==null)_=!0,q||(q=!0,be());else{var z=n(f);z!==null&&re(K,z.startTime-W)}}var q=!1,ue=-1,me=5,Ae=-1;function Y(){return O?!0:!(e.unstable_now()-Ae<me)}function ye(){if(O=!1,q){var W=e.unstable_now();Ae=W;var z=!0;try{e:{_=!1,I&&(I=!1,H(ue),ue=-1),S=!0;var w=v;try{t:{for(V(W),y=n(m);y!==null&&!(y.expirationTime>W&&Y());){var L=y.callback;if(typeof L=="function"){y.callback=null,v=y.priorityLevel;var C=L(y.expirationTime<=W);if(W=e.unstable_now(),typeof C=="function"){y.callback=C,V(W),z=!0;break t}y===n(m)&&i(m),V(W)}else i(m);y=n(m)}if(y!==null)z=!0;else{var U=n(f);U!==null&&re(K,U.startTime-W),z=!1}}break e}finally{y=null,v=w,S=!1}z=void 0}}finally{z?be():q=!1}}}var be;if(typeof R=="function")be=function(){R(ye)};else if(typeof MessageChannel<"u"){var Se=new MessageChannel,pe=Se.port2;Se.port1.onmessage=ye,be=function(){pe.postMessage(null)}}else be=function(){D(ye,0)};function re(W,z){ue=D(function(){W(e.unstable_now())},z)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(W){W.callback=null},e.unstable_forceFrameRate=function(W){0>W||125<W?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):me=0<W?Math.floor(1e3/W):5},e.unstable_getCurrentPriorityLevel=function(){return v},e.unstable_next=function(W){switch(v){case 1:case 2:case 3:var z=3;break;default:z=v}var w=v;v=z;try{return W()}finally{v=w}},e.unstable_requestPaint=function(){O=!0},e.unstable_runWithPriority=function(W,z){switch(W){case 1:case 2:case 3:case 4:case 5:break;default:W=3}var w=v;v=W;try{return z()}finally{v=w}},e.unstable_scheduleCallback=function(W,z,w){var L=e.unstable_now();switch(typeof w=="object"&&w!==null?(w=w.delay,w=typeof w=="number"&&0<w?L+w:L):w=L,W){case 1:var C=-1;break;case 2:C=250;break;case 5:C=1073741823;break;case 4:C=1e4;break;default:C=5e3}return C=w+C,W={id:h++,callback:z,priorityLevel:W,startTime:w,expirationTime:C,sortIndex:-1},w>L?(W.sortIndex=w,t(f,W),n(m)===null&&W===n(f)&&(I?(H(ue),ue=-1):I=!0,re(K,w-L))):(W.sortIndex=C,t(m,W),_||S||(_=!0,q||(q=!0,be()))),W},e.unstable_shouldYield=Y,e.unstable_wrapCallback=function(W){var z=v;return function(){var w=v;v=z;try{return W.apply(this,arguments)}finally{v=w}}}}(Tm)),Tm}var U1;function W_(){return U1||(U1=1,ym.exports=X_()),ym.exports}var bm={exports:{}},rn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var V1;function Q_(){if(V1)return rn;V1=1;var e=Jh();function t(m){var f="https://react.dev/errors/"+m;if(1<arguments.length){f+="?args[]="+encodeURIComponent(arguments[1]);for(var h=2;h<arguments.length;h++)f+="&args[]="+encodeURIComponent(arguments[h])}return"Minified React error #"+m+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var i={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},s=Symbol.for("react.portal");function o(m,f,h){var y=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:s,key:y==null?null:""+y,children:m,containerInfo:f,implementation:h}}var u=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(m,f){if(m==="font")return"";if(typeof f=="string")return f==="use-credentials"?f:""}return rn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,rn.createPortal=function(m,f){var h=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!f||f.nodeType!==1&&f.nodeType!==9&&f.nodeType!==11)throw Error(t(299));return o(m,f,null,h)},rn.flushSync=function(m){var f=u.T,h=i.p;try{if(u.T=null,i.p=2,m)return m()}finally{u.T=f,i.p=h,i.d.f()}},rn.preconnect=function(m,f){typeof m=="string"&&(f?(f=f.crossOrigin,f=typeof f=="string"?f==="use-credentials"?f:"":void 0):f=null,i.d.C(m,f))},rn.prefetchDNS=function(m){typeof m=="string"&&i.d.D(m)},rn.preinit=function(m,f){if(typeof m=="string"&&f&&typeof f.as=="string"){var h=f.as,y=c(h,f.crossOrigin),v=typeof f.integrity=="string"?f.integrity:void 0,S=typeof f.fetchPriority=="string"?f.fetchPriority:void 0;h==="style"?i.d.S(m,typeof f.precedence=="string"?f.precedence:void 0,{crossOrigin:y,integrity:v,fetchPriority:S}):h==="script"&&i.d.X(m,{crossOrigin:y,integrity:v,fetchPriority:S,nonce:typeof f.nonce=="string"?f.nonce:void 0})}},rn.preinitModule=function(m,f){if(typeof m=="string")if(typeof f=="object"&&f!==null){if(f.as==null||f.as==="script"){var h=c(f.as,f.crossOrigin);i.d.M(m,{crossOrigin:h,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0})}}else f==null&&i.d.M(m)},rn.preload=function(m,f){if(typeof m=="string"&&typeof f=="object"&&f!==null&&typeof f.as=="string"){var h=f.as,y=c(h,f.crossOrigin);i.d.L(m,h,{crossOrigin:y,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0,type:typeof f.type=="string"?f.type:void 0,fetchPriority:typeof f.fetchPriority=="string"?f.fetchPriority:void 0,referrerPolicy:typeof f.referrerPolicy=="string"?f.referrerPolicy:void 0,imageSrcSet:typeof f.imageSrcSet=="string"?f.imageSrcSet:void 0,imageSizes:typeof f.imageSizes=="string"?f.imageSizes:void 0,media:typeof f.media=="string"?f.media:void 0})}},rn.preloadModule=function(m,f){if(typeof m=="string")if(f){var h=c(f.as,f.crossOrigin);i.d.m(m,{as:typeof f.as=="string"&&f.as!=="script"?f.as:void 0,crossOrigin:h,integrity:typeof f.integrity=="string"?f.integrity:void 0})}else i.d.m(m)},rn.requestFormReset=function(m){i.d.r(m)},rn.unstable_batchedUpdates=function(m,f){return m(f)},rn.useFormState=function(m,f,h){return u.H.useFormState(m,f,h)},rn.useFormStatus=function(){return u.H.useHostTransitionStatus()},rn.version="19.1.0",rn}var z1;function J_(){if(z1)return bm.exports;z1=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),bm.exports=Q_(),bm.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var j1;function Z_(){if(j1)return Fo;j1=1;var e=W_(),t=Jh(),n=J_();function i(a){var r="https://react.dev/errors/"+a;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)r+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+a+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11)}function o(a){var r=a,l=a;if(a.alternate)for(;r.return;)r=r.return;else{a=r;do r=a,(r.flags&4098)!==0&&(l=r.return),a=r.return;while(a)}return r.tag===3?l:null}function u(a){if(a.tag===13){var r=a.memoizedState;if(r===null&&(a=a.alternate,a!==null&&(r=a.memoizedState)),r!==null)return r.dehydrated}return null}function c(a){if(o(a)!==a)throw Error(i(188))}function m(a){var r=a.alternate;if(!r){if(r=o(a),r===null)throw Error(i(188));return r!==a?null:a}for(var l=a,d=r;;){var p=l.return;if(p===null)break;var x=p.alternate;if(x===null){if(d=p.return,d!==null){l=d;continue}break}if(p.child===x.child){for(x=p.child;x;){if(x===l)return c(p),a;if(x===d)return c(p),r;x=x.sibling}throw Error(i(188))}if(l.return!==d.return)l=p,d=x;else{for(var A=!1,M=p.child;M;){if(M===l){A=!0,l=p,d=x;break}if(M===d){A=!0,d=p,l=x;break}M=M.sibling}if(!A){for(M=x.child;M;){if(M===l){A=!0,l=x,d=p;break}if(M===d){A=!0,d=x,l=p;break}M=M.sibling}if(!A)throw Error(i(189))}}if(l.alternate!==d)throw Error(i(190))}if(l.tag!==3)throw Error(i(188));return l.stateNode.current===l?a:r}function f(a){var r=a.tag;if(r===5||r===26||r===27||r===6)return a;for(a=a.child;a!==null;){if(r=f(a),r!==null)return r;a=a.sibling}return null}var h=Object.assign,y=Symbol.for("react.element"),v=Symbol.for("react.transitional.element"),S=Symbol.for("react.portal"),_=Symbol.for("react.fragment"),I=Symbol.for("react.strict_mode"),O=Symbol.for("react.profiler"),D=Symbol.for("react.provider"),H=Symbol.for("react.consumer"),R=Symbol.for("react.context"),V=Symbol.for("react.forward_ref"),K=Symbol.for("react.suspense"),q=Symbol.for("react.suspense_list"),ue=Symbol.for("react.memo"),me=Symbol.for("react.lazy"),Ae=Symbol.for("react.activity"),Y=Symbol.for("react.memo_cache_sentinel"),ye=Symbol.iterator;function be(a){return a===null||typeof a!="object"?null:(a=ye&&a[ye]||a["@@iterator"],typeof a=="function"?a:null)}var Se=Symbol.for("react.client.reference");function pe(a){if(a==null)return null;if(typeof a=="function")return a.$$typeof===Se?null:a.displayName||a.name||null;if(typeof a=="string")return a;switch(a){case _:return"Fragment";case O:return"Profiler";case I:return"StrictMode";case K:return"Suspense";case q:return"SuspenseList";case Ae:return"Activity"}if(typeof a=="object")switch(a.$$typeof){case S:return"Portal";case R:return(a.displayName||"Context")+".Provider";case H:return(a._context.displayName||"Context")+".Consumer";case V:var r=a.render;return a=a.displayName,a||(a=r.displayName||r.name||"",a=a!==""?"ForwardRef("+a+")":"ForwardRef"),a;case ue:return r=a.displayName||null,r!==null?r:pe(a.type)||"Memo";case me:r=a._payload,a=a._init;try{return pe(a(r))}catch{}}return null}var re=Array.isArray,W=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,z=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,w={pending:!1,data:null,method:null,action:null},L=[],C=-1;function U(a){return{current:a}}function $(a){0>C||(a.current=L[C],L[C]=null,C--)}function N(a,r){C++,L[C]=a.current,a.current=r}var se=U(null),j=U(null),ie=U(null),_e=U(null);function Ce(a,r){switch(N(ie,r),N(j,a),N(se,null),r.nodeType){case 9:case 11:a=(a=r.documentElement)&&(a=a.namespaceURI)?u1(a):0;break;default:if(a=r.tagName,r=r.namespaceURI)r=u1(r),a=c1(r,a);else switch(a){case"svg":a=1;break;case"math":a=2;break;default:a=0}}$(se),N(se,a)}function Me(){$(se),$(j),$(ie)}function ze(a){a.memoizedState!==null&&N(_e,a);var r=se.current,l=c1(r,a.type);r!==l&&(N(j,a),N(se,l))}function He(a){j.current===a&&($(se),$(j)),_e.current===a&&($(_e),ko._currentValue=w)}var tt=Object.prototype.hasOwnProperty,Ge=e.unstable_scheduleCallback,we=e.unstable_cancelCallback,ft=e.unstable_shouldYield,mt=e.unstable_requestPaint,Rt=e.unstable_now,vr=e.unstable_getCurrentPriorityLevel,Fa=e.unstable_ImmediatePriority,Wi=e.unstable_UserBlockingPriority,Ni=e.unstable_NormalPriority,Sr=e.unstable_LowPriority,qt=e.unstable_IdlePriority,Ha=e.log,Cr=e.unstable_setDisableYieldValue,le=null,Te=null;function Re(a){if(typeof Ha=="function"&&Cr(a),Te&&typeof Te.setStrictMode=="function")try{Te.setStrictMode(le,a)}catch{}}var ke=Math.clz32?Math.clz32:ii,ot=Math.log,dn=Math.LN2;function ii(a){return a>>>=0,a===0?32:31-(ot(a)/dn|0)|0}var tn=256,Un=4194304;function nn(a){var r=a&42;if(r!==0)return r;switch(a&-a){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return a&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return a}}function Pt(a,r,l){var d=a.pendingLanes;if(d===0)return 0;var p=0,x=a.suspendedLanes,A=a.pingedLanes;a=a.warmLanes;var M=d&134217727;return M!==0?(d=M&~x,d!==0?p=nn(d):(A&=M,A!==0?p=nn(A):l||(l=M&~a,l!==0&&(p=nn(l))))):(M=d&~x,M!==0?p=nn(M):A!==0?p=nn(A):l||(l=d&~a,l!==0&&(p=nn(l)))),p===0?0:r!==0&&r!==p&&(r&x)===0&&(x=p&-p,l=r&-r,x>=l||x===32&&(l&4194048)!==0)?r:p}function pn(a,r){return(a.pendingLanes&~(a.suspendedLanes&~a.pingedLanes)&r)===0}function gn(a,r){switch(a){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Fl(){var a=tn;return tn<<=1,(tn&4194048)===0&&(tn=256),a}function Hl(){var a=Un;return Un<<=1,(Un&62914560)===0&&(Un=4194304),a}function Ar(a){for(var r=[],l=0;31>l;l++)r.push(a);return r}function Ua(a,r){a.pendingLanes|=r,r!==268435456&&(a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0)}function ad(a,r,l,d,p,x){var A=a.pendingLanes;a.pendingLanes=l,a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0,a.expiredLanes&=l,a.entangledLanes&=l,a.errorRecoveryDisabledLanes&=l,a.shellSuspendCounter=0;var M=a.entanglements,F=a.expirationTimes,Z=a.hiddenUpdates;for(l=A&~l;0<l;){var ce=31-ke(l),fe=1<<ce;M[ce]=0,F[ce]=-1;var ee=Z[ce];if(ee!==null)for(Z[ce]=null,ce=0;ce<ee.length;ce++){var te=ee[ce];te!==null&&(te.lane&=-536870913)}l&=~fe}d!==0&&Nn(a,d,0),x!==0&&p===0&&a.tag!==0&&(a.suspendedLanes|=x&~(A&~r))}function Nn(a,r,l){a.pendingLanes|=r,a.suspendedLanes&=~r;var d=31-ke(r);a.entangledLanes|=r,a.entanglements[d]=a.entanglements[d]|1073741824|l&4194090}function Hs(a,r){var l=a.entangledLanes|=r;for(a=a.entanglements;l;){var d=31-ke(l),p=1<<d;p&r|a[d]&r&&(a[d]|=r),l&=~p}}function _r(a){switch(a){case 2:a=1;break;case 8:a=4;break;case 32:a=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:a=128;break;case 268435456:a=134217728;break;default:a=0}return a}function ne(a){return a&=-a,2<a?8<a?(a&134217727)!==0?32:268435456:8:2}function xe(){var a=z.p;return a!==0?a:(a=window.event,a===void 0?32:M1(a.type))}function Ie(a,r){var l=z.p;try{return z.p=a,r()}finally{z.p=l}}var Ue=Math.random().toString(36).slice(2),nt="__reactFiber$"+Ue,Qe="__reactProps$"+Ue,ai="__reactContainer$"+Ue,Us="__reactEvents$"+Ue,rd="__reactListeners$"+Ue,sd="__reactHandles$"+Ue,Ul="__reactResources$"+Ue,Va="__reactMarker$"+Ue;function Vs(a){delete a[nt],delete a[Qe],delete a[Us],delete a[rd],delete a[sd]}function ri(a){var r=a[nt];if(r)return r;for(var l=a.parentNode;l;){if(r=l[ai]||l[nt]){if(l=r.alternate,r.child!==null||l!==null&&l.child!==null)for(a=h1(a);a!==null;){if(l=a[nt])return l;a=h1(a)}return r}a=l,l=a.parentNode}return null}function Mi(a){if(a=a[nt]||a[ai]){var r=a.tag;if(r===5||r===6||r===13||r===26||r===27||r===3)return a}return null}function za(a){var r=a.tag;if(r===5||r===26||r===27||r===6)return a.stateNode;throw Error(i(33))}function Qi(a){var r=a[Ul];return r||(r=a[Ul]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function Bt(a){a[Va]=!0}var Vl=new Set,zs={};function Di(a,r){ja(a,r),ja(a+"Capture",r)}function ja(a,r){for(zs[a]=r,a=0;a<r.length;a++)Vl.add(r[a])}var od=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),yn={},Ri={};function js(a){return tt.call(Ri,a)?!0:tt.call(yn,a)?!1:od.test(a)?Ri[a]=!0:(yn[a]=!0,!1)}function Ir(a,r,l){if(js(r))if(l===null)a.removeAttribute(r);else{switch(typeof l){case"undefined":case"function":case"symbol":a.removeAttribute(r);return;case"boolean":var d=r.toLowerCase().slice(0,5);if(d!=="data-"&&d!=="aria-"){a.removeAttribute(r);return}}a.setAttribute(r,""+l)}}function Ji(a,r,l){if(l===null)a.removeAttribute(r);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(r);return}a.setAttribute(r,""+l)}}function Tn(a,r,l,d){if(d===null)a.removeAttribute(l);else{switch(typeof d){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(l);return}a.setAttributeNS(r,l,""+d)}}var Nr,np;function Mr(a){if(Nr===void 0)try{throw Error()}catch(l){var r=l.stack.trim().match(/\n( *(at )?)/);Nr=r&&r[1]||"",np=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Nr+a+np}var ld=!1;function ud(a,r){if(!a||ld)return"";ld=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var d={DetermineComponentFrameRoot:function(){try{if(r){var fe=function(){throw Error()};if(Object.defineProperty(fe.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(fe,[])}catch(te){var ee=te}Reflect.construct(a,[],fe)}else{try{fe.call()}catch(te){ee=te}a.call(fe.prototype)}}else{try{throw Error()}catch(te){ee=te}(fe=a())&&typeof fe.catch=="function"&&fe.catch(function(){})}}catch(te){if(te&&ee&&typeof te.stack=="string")return[te.stack,ee.stack]}return[null,null]}};d.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var p=Object.getOwnPropertyDescriptor(d.DetermineComponentFrameRoot,"name");p&&p.configurable&&Object.defineProperty(d.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var x=d.DetermineComponentFrameRoot(),A=x[0],M=x[1];if(A&&M){var F=A.split(`
`),Z=M.split(`
`);for(p=d=0;d<F.length&&!F[d].includes("DetermineComponentFrameRoot");)d++;for(;p<Z.length&&!Z[p].includes("DetermineComponentFrameRoot");)p++;if(d===F.length||p===Z.length)for(d=F.length-1,p=Z.length-1;1<=d&&0<=p&&F[d]!==Z[p];)p--;for(;1<=d&&0<=p;d--,p--)if(F[d]!==Z[p]){if(d!==1||p!==1)do if(d--,p--,0>p||F[d]!==Z[p]){var ce=`
`+F[d].replace(" at new "," at ");return a.displayName&&ce.includes("<anonymous>")&&(ce=ce.replace("<anonymous>",a.displayName)),ce}while(1<=d&&0<=p);break}}}finally{ld=!1,Error.prepareStackTrace=l}return(l=a?a.displayName||a.name:"")?Mr(l):""}function HC(a){switch(a.tag){case 26:case 27:case 5:return Mr(a.type);case 16:return Mr("Lazy");case 13:return Mr("Suspense");case 19:return Mr("SuspenseList");case 0:case 15:return ud(a.type,!1);case 11:return ud(a.type.render,!1);case 1:return ud(a.type,!0);case 31:return Mr("Activity");default:return""}}function ip(a){try{var r="";do r+=HC(a),a=a.return;while(a);return r}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}function Vn(a){switch(typeof a){case"bigint":case"boolean":case"number":case"string":case"undefined":return a;case"object":return a;default:return""}}function ap(a){var r=a.type;return(a=a.nodeName)&&a.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function UC(a){var r=ap(a)?"checked":"value",l=Object.getOwnPropertyDescriptor(a.constructor.prototype,r),d=""+a[r];if(!a.hasOwnProperty(r)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var p=l.get,x=l.set;return Object.defineProperty(a,r,{configurable:!0,get:function(){return p.call(this)},set:function(A){d=""+A,x.call(this,A)}}),Object.defineProperty(a,r,{enumerable:l.enumerable}),{getValue:function(){return d},setValue:function(A){d=""+A},stopTracking:function(){a._valueTracker=null,delete a[r]}}}}function zl(a){a._valueTracker||(a._valueTracker=UC(a))}function rp(a){if(!a)return!1;var r=a._valueTracker;if(!r)return!0;var l=r.getValue(),d="";return a&&(d=ap(a)?a.checked?"true":"false":a.value),a=d,a!==l?(r.setValue(a),!0):!1}function jl(a){if(a=a||(typeof document<"u"?document:void 0),typeof a>"u")return null;try{return a.activeElement||a.body}catch{return a.body}}var VC=/[\n"\\]/g;function zn(a){return a.replace(VC,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function cd(a,r,l,d,p,x,A,M){a.name="",A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"?a.type=A:a.removeAttribute("type"),r!=null?A==="number"?(r===0&&a.value===""||a.value!=r)&&(a.value=""+Vn(r)):a.value!==""+Vn(r)&&(a.value=""+Vn(r)):A!=="submit"&&A!=="reset"||a.removeAttribute("value"),r!=null?dd(a,A,Vn(r)):l!=null?dd(a,A,Vn(l)):d!=null&&a.removeAttribute("value"),p==null&&x!=null&&(a.defaultChecked=!!x),p!=null&&(a.checked=p&&typeof p!="function"&&typeof p!="symbol"),M!=null&&typeof M!="function"&&typeof M!="symbol"&&typeof M!="boolean"?a.name=""+Vn(M):a.removeAttribute("name")}function sp(a,r,l,d,p,x,A,M){if(x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"&&(a.type=x),r!=null||l!=null){if(!(x!=="submit"&&x!=="reset"||r!=null))return;l=l!=null?""+Vn(l):"",r=r!=null?""+Vn(r):l,M||r===a.value||(a.value=r),a.defaultValue=r}d=d??p,d=typeof d!="function"&&typeof d!="symbol"&&!!d,a.checked=M?a.checked:!!d,a.defaultChecked=!!d,A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"&&(a.name=A)}function dd(a,r,l){r==="number"&&jl(a.ownerDocument)===a||a.defaultValue===""+l||(a.defaultValue=""+l)}function Dr(a,r,l,d){if(a=a.options,r){r={};for(var p=0;p<l.length;p++)r["$"+l[p]]=!0;for(l=0;l<a.length;l++)p=r.hasOwnProperty("$"+a[l].value),a[l].selected!==p&&(a[l].selected=p),p&&d&&(a[l].defaultSelected=!0)}else{for(l=""+Vn(l),r=null,p=0;p<a.length;p++){if(a[p].value===l){a[p].selected=!0,d&&(a[p].defaultSelected=!0);return}r!==null||a[p].disabled||(r=a[p])}r!==null&&(r.selected=!0)}}function op(a,r,l){if(r!=null&&(r=""+Vn(r),r!==a.value&&(a.value=r),l==null)){a.defaultValue!==r&&(a.defaultValue=r);return}a.defaultValue=l!=null?""+Vn(l):""}function lp(a,r,l,d){if(r==null){if(d!=null){if(l!=null)throw Error(i(92));if(re(d)){if(1<d.length)throw Error(i(93));d=d[0]}l=d}l==null&&(l=""),r=l}l=Vn(r),a.defaultValue=l,d=a.textContent,d===l&&d!==""&&d!==null&&(a.value=d)}function Rr(a,r){if(r){var l=a.firstChild;if(l&&l===a.lastChild&&l.nodeType===3){l.nodeValue=r;return}}a.textContent=r}var zC=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function up(a,r,l){var d=r.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?d?a.setProperty(r,""):r==="float"?a.cssFloat="":a[r]="":d?a.setProperty(r,l):typeof l!="number"||l===0||zC.has(r)?r==="float"?a.cssFloat=l:a[r]=(""+l).trim():a[r]=l+"px"}function cp(a,r,l){if(r!=null&&typeof r!="object")throw Error(i(62));if(a=a.style,l!=null){for(var d in l)!l.hasOwnProperty(d)||r!=null&&r.hasOwnProperty(d)||(d.indexOf("--")===0?a.setProperty(d,""):d==="float"?a.cssFloat="":a[d]="");for(var p in r)d=r[p],r.hasOwnProperty(p)&&l[p]!==d&&up(a,p,d)}else for(var x in r)r.hasOwnProperty(x)&&up(a,x,r[x])}function fd(a){if(a.indexOf("-")===-1)return!1;switch(a){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var jC=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),GC=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Gl(a){return GC.test(""+a)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":a}var md=null;function hd(a){return a=a.target||a.srcElement||window,a.correspondingUseElement&&(a=a.correspondingUseElement),a.nodeType===3?a.parentNode:a}var kr=null,wr=null;function dp(a){var r=Mi(a);if(r&&(a=r.stateNode)){var l=a[Qe]||null;e:switch(a=r.stateNode,r.type){case"input":if(cd(a,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),r=l.name,l.type==="radio"&&r!=null){for(l=a;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+zn(""+r)+'"][type="radio"]'),r=0;r<l.length;r++){var d=l[r];if(d!==a&&d.form===a.form){var p=d[Qe]||null;if(!p)throw Error(i(90));cd(d,p.value,p.defaultValue,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name)}}for(r=0;r<l.length;r++)d=l[r],d.form===a.form&&rp(d)}break e;case"textarea":op(a,l.value,l.defaultValue);break e;case"select":r=l.value,r!=null&&Dr(a,!!l.multiple,r,!1)}}}var pd=!1;function fp(a,r,l){if(pd)return a(r,l);pd=!0;try{var d=a(r);return d}finally{if(pd=!1,(kr!==null||wr!==null)&&(Mu(),kr&&(r=kr,a=wr,wr=kr=null,dp(r),a)))for(r=0;r<a.length;r++)dp(a[r])}}function Gs(a,r){var l=a.stateNode;if(l===null)return null;var d=l[Qe]||null;if(d===null)return null;l=d[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(d=!d.disabled)||(a=a.type,d=!(a==="button"||a==="input"||a==="select"||a==="textarea")),a=!d;break e;default:a=!1}if(a)return null;if(l&&typeof l!="function")throw Error(i(231,r,typeof l));return l}var ki=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),gd=!1;if(ki)try{var qs={};Object.defineProperty(qs,"passive",{get:function(){gd=!0}}),window.addEventListener("test",qs,qs),window.removeEventListener("test",qs,qs)}catch{gd=!1}var Zi=null,yd=null,ql=null;function mp(){if(ql)return ql;var a,r=yd,l=r.length,d,p="value"in Zi?Zi.value:Zi.textContent,x=p.length;for(a=0;a<l&&r[a]===p[a];a++);var A=l-a;for(d=1;d<=A&&r[l-d]===p[x-d];d++);return ql=p.slice(a,1<d?1-d:void 0)}function Yl(a){var r=a.keyCode;return"charCode"in a?(a=a.charCode,a===0&&r===13&&(a=13)):a=r,a===10&&(a=13),32<=a||a===13?a:0}function Kl(){return!0}function hp(){return!1}function bn(a){function r(l,d,p,x,A){this._reactName=l,this._targetInst=p,this.type=d,this.nativeEvent=x,this.target=A,this.currentTarget=null;for(var M in a)a.hasOwnProperty(M)&&(l=a[M],this[M]=l?l(x):x[M]);return this.isDefaultPrevented=(x.defaultPrevented!=null?x.defaultPrevented:x.returnValue===!1)?Kl:hp,this.isPropagationStopped=hp,this}return h(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=Kl)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=Kl)},persist:function(){},isPersistent:Kl}),r}var Ga={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(a){return a.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},$l=bn(Ga),Ys=h({},Ga,{view:0,detail:0}),qC=bn(Ys),Td,bd,Ks,Xl=h({},Ys,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ed,button:0,buttons:0,relatedTarget:function(a){return a.relatedTarget===void 0?a.fromElement===a.srcElement?a.toElement:a.fromElement:a.relatedTarget},movementX:function(a){return"movementX"in a?a.movementX:(a!==Ks&&(Ks&&a.type==="mousemove"?(Td=a.screenX-Ks.screenX,bd=a.screenY-Ks.screenY):bd=Td=0,Ks=a),Td)},movementY:function(a){return"movementY"in a?a.movementY:bd}}),pp=bn(Xl),YC=h({},Xl,{dataTransfer:0}),KC=bn(YC),$C=h({},Ys,{relatedTarget:0}),xd=bn($C),XC=h({},Ga,{animationName:0,elapsedTime:0,pseudoElement:0}),WC=bn(XC),QC=h({},Ga,{clipboardData:function(a){return"clipboardData"in a?a.clipboardData:window.clipboardData}}),JC=bn(QC),ZC=h({},Ga,{data:0}),gp=bn(ZC),eA={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},tA={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},nA={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function iA(a){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(a):(a=nA[a])?!!r[a]:!1}function Ed(){return iA}var aA=h({},Ys,{key:function(a){if(a.key){var r=eA[a.key]||a.key;if(r!=="Unidentified")return r}return a.type==="keypress"?(a=Yl(a),a===13?"Enter":String.fromCharCode(a)):a.type==="keydown"||a.type==="keyup"?tA[a.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ed,charCode:function(a){return a.type==="keypress"?Yl(a):0},keyCode:function(a){return a.type==="keydown"||a.type==="keyup"?a.keyCode:0},which:function(a){return a.type==="keypress"?Yl(a):a.type==="keydown"||a.type==="keyup"?a.keyCode:0}}),rA=bn(aA),sA=h({},Xl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),yp=bn(sA),oA=h({},Ys,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ed}),lA=bn(oA),uA=h({},Ga,{propertyName:0,elapsedTime:0,pseudoElement:0}),cA=bn(uA),dA=h({},Xl,{deltaX:function(a){return"deltaX"in a?a.deltaX:"wheelDeltaX"in a?-a.wheelDeltaX:0},deltaY:function(a){return"deltaY"in a?a.deltaY:"wheelDeltaY"in a?-a.wheelDeltaY:"wheelDelta"in a?-a.wheelDelta:0},deltaZ:0,deltaMode:0}),fA=bn(dA),mA=h({},Ga,{newState:0,oldState:0}),hA=bn(mA),pA=[9,13,27,32],vd=ki&&"CompositionEvent"in window,$s=null;ki&&"documentMode"in document&&($s=document.documentMode);var gA=ki&&"TextEvent"in window&&!$s,Tp=ki&&(!vd||$s&&8<$s&&11>=$s),bp=" ",xp=!1;function Ep(a,r){switch(a){case"keyup":return pA.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function vp(a){return a=a.detail,typeof a=="object"&&"data"in a?a.data:null}var Lr=!1;function yA(a,r){switch(a){case"compositionend":return vp(r);case"keypress":return r.which!==32?null:(xp=!0,bp);case"textInput":return a=r.data,a===bp&&xp?null:a;default:return null}}function TA(a,r){if(Lr)return a==="compositionend"||!vd&&Ep(a,r)?(a=mp(),ql=yd=Zi=null,Lr=!1,a):null;switch(a){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return Tp&&r.locale!=="ko"?null:r.data;default:return null}}var bA={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Sp(a){var r=a&&a.nodeName&&a.nodeName.toLowerCase();return r==="input"?!!bA[a.type]:r==="textarea"}function Cp(a,r,l,d){kr?wr?wr.push(d):wr=[d]:kr=d,r=Ou(r,"onChange"),0<r.length&&(l=new $l("onChange","change",null,l,d),a.push({event:l,listeners:r}))}var Xs=null,Ws=null;function xA(a){a1(a,0)}function Wl(a){var r=za(a);if(rp(r))return a}function Ap(a,r){if(a==="change")return r}var _p=!1;if(ki){var Sd;if(ki){var Cd="oninput"in document;if(!Cd){var Ip=document.createElement("div");Ip.setAttribute("oninput","return;"),Cd=typeof Ip.oninput=="function"}Sd=Cd}else Sd=!1;_p=Sd&&(!document.documentMode||9<document.documentMode)}function Np(){Xs&&(Xs.detachEvent("onpropertychange",Mp),Ws=Xs=null)}function Mp(a){if(a.propertyName==="value"&&Wl(Ws)){var r=[];Cp(r,Ws,a,hd(a)),fp(xA,r)}}function EA(a,r,l){a==="focusin"?(Np(),Xs=r,Ws=l,Xs.attachEvent("onpropertychange",Mp)):a==="focusout"&&Np()}function vA(a){if(a==="selectionchange"||a==="keyup"||a==="keydown")return Wl(Ws)}function SA(a,r){if(a==="click")return Wl(r)}function CA(a,r){if(a==="input"||a==="change")return Wl(r)}function AA(a,r){return a===r&&(a!==0||1/a===1/r)||a!==a&&r!==r}var Mn=typeof Object.is=="function"?Object.is:AA;function Qs(a,r){if(Mn(a,r))return!0;if(typeof a!="object"||a===null||typeof r!="object"||r===null)return!1;var l=Object.keys(a),d=Object.keys(r);if(l.length!==d.length)return!1;for(d=0;d<l.length;d++){var p=l[d];if(!tt.call(r,p)||!Mn(a[p],r[p]))return!1}return!0}function Dp(a){for(;a&&a.firstChild;)a=a.firstChild;return a}function Rp(a,r){var l=Dp(a);a=0;for(var d;l;){if(l.nodeType===3){if(d=a+l.textContent.length,a<=r&&d>=r)return{node:l,offset:r-a};a=d}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=Dp(l)}}function kp(a,r){return a&&r?a===r?!0:a&&a.nodeType===3?!1:r&&r.nodeType===3?kp(a,r.parentNode):"contains"in a?a.contains(r):a.compareDocumentPosition?!!(a.compareDocumentPosition(r)&16):!1:!1}function wp(a){a=a!=null&&a.ownerDocument!=null&&a.ownerDocument.defaultView!=null?a.ownerDocument.defaultView:window;for(var r=jl(a.document);r instanceof a.HTMLIFrameElement;){try{var l=typeof r.contentWindow.location.href=="string"}catch{l=!1}if(l)a=r.contentWindow;else break;r=jl(a.document)}return r}function Ad(a){var r=a&&a.nodeName&&a.nodeName.toLowerCase();return r&&(r==="input"&&(a.type==="text"||a.type==="search"||a.type==="tel"||a.type==="url"||a.type==="password")||r==="textarea"||a.contentEditable==="true")}var _A=ki&&"documentMode"in document&&11>=document.documentMode,Or=null,_d=null,Js=null,Id=!1;function Lp(a,r,l){var d=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;Id||Or==null||Or!==jl(d)||(d=Or,"selectionStart"in d&&Ad(d)?d={start:d.selectionStart,end:d.selectionEnd}:(d=(d.ownerDocument&&d.ownerDocument.defaultView||window).getSelection(),d={anchorNode:d.anchorNode,anchorOffset:d.anchorOffset,focusNode:d.focusNode,focusOffset:d.focusOffset}),Js&&Qs(Js,d)||(Js=d,d=Ou(_d,"onSelect"),0<d.length&&(r=new $l("onSelect","select",null,r,l),a.push({event:r,listeners:d}),r.target=Or)))}function qa(a,r){var l={};return l[a.toLowerCase()]=r.toLowerCase(),l["Webkit"+a]="webkit"+r,l["Moz"+a]="moz"+r,l}var Pr={animationend:qa("Animation","AnimationEnd"),animationiteration:qa("Animation","AnimationIteration"),animationstart:qa("Animation","AnimationStart"),transitionrun:qa("Transition","TransitionRun"),transitionstart:qa("Transition","TransitionStart"),transitioncancel:qa("Transition","TransitionCancel"),transitionend:qa("Transition","TransitionEnd")},Nd={},Op={};ki&&(Op=document.createElement("div").style,"AnimationEvent"in window||(delete Pr.animationend.animation,delete Pr.animationiteration.animation,delete Pr.animationstart.animation),"TransitionEvent"in window||delete Pr.transitionend.transition);function Ya(a){if(Nd[a])return Nd[a];if(!Pr[a])return a;var r=Pr[a],l;for(l in r)if(r.hasOwnProperty(l)&&l in Op)return Nd[a]=r[l];return a}var Pp=Ya("animationend"),Bp=Ya("animationiteration"),Fp=Ya("animationstart"),IA=Ya("transitionrun"),NA=Ya("transitionstart"),MA=Ya("transitioncancel"),Hp=Ya("transitionend"),Up=new Map,Md="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Md.push("scrollEnd");function si(a,r){Up.set(a,r),Di(r,[a])}var Vp=new WeakMap;function jn(a,r){if(typeof a=="object"&&a!==null){var l=Vp.get(a);return l!==void 0?l:(r={value:a,source:r,stack:ip(r)},Vp.set(a,r),r)}return{value:a,source:r,stack:ip(r)}}var Gn=[],Br=0,Dd=0;function Ql(){for(var a=Br,r=Dd=Br=0;r<a;){var l=Gn[r];Gn[r++]=null;var d=Gn[r];Gn[r++]=null;var p=Gn[r];Gn[r++]=null;var x=Gn[r];if(Gn[r++]=null,d!==null&&p!==null){var A=d.pending;A===null?p.next=p:(p.next=A.next,A.next=p),d.pending=p}x!==0&&zp(l,p,x)}}function Jl(a,r,l,d){Gn[Br++]=a,Gn[Br++]=r,Gn[Br++]=l,Gn[Br++]=d,Dd|=d,a.lanes|=d,a=a.alternate,a!==null&&(a.lanes|=d)}function Rd(a,r,l,d){return Jl(a,r,l,d),Zl(a)}function Fr(a,r){return Jl(a,null,null,r),Zl(a)}function zp(a,r,l){a.lanes|=l;var d=a.alternate;d!==null&&(d.lanes|=l);for(var p=!1,x=a.return;x!==null;)x.childLanes|=l,d=x.alternate,d!==null&&(d.childLanes|=l),x.tag===22&&(a=x.stateNode,a===null||a._visibility&1||(p=!0)),a=x,x=x.return;return a.tag===3?(x=a.stateNode,p&&r!==null&&(p=31-ke(l),a=x.hiddenUpdates,d=a[p],d===null?a[p]=[r]:d.push(r),r.lane=l|536870912),x):null}function Zl(a){if(50<Co)throw Co=0,Ff=null,Error(i(185));for(var r=a.return;r!==null;)a=r,r=a.return;return a.tag===3?a.stateNode:null}var Hr={};function DA(a,r,l,d){this.tag=a,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=d,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Dn(a,r,l,d){return new DA(a,r,l,d)}function kd(a){return a=a.prototype,!(!a||!a.isReactComponent)}function wi(a,r){var l=a.alternate;return l===null?(l=Dn(a.tag,r,a.key,a.mode),l.elementType=a.elementType,l.type=a.type,l.stateNode=a.stateNode,l.alternate=a,a.alternate=l):(l.pendingProps=r,l.type=a.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=a.flags&65011712,l.childLanes=a.childLanes,l.lanes=a.lanes,l.child=a.child,l.memoizedProps=a.memoizedProps,l.memoizedState=a.memoizedState,l.updateQueue=a.updateQueue,r=a.dependencies,l.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},l.sibling=a.sibling,l.index=a.index,l.ref=a.ref,l.refCleanup=a.refCleanup,l}function jp(a,r){a.flags&=65011714;var l=a.alternate;return l===null?(a.childLanes=0,a.lanes=r,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=l.childLanes,a.lanes=l.lanes,a.child=l.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=l.memoizedProps,a.memoizedState=l.memoizedState,a.updateQueue=l.updateQueue,a.type=l.type,r=l.dependencies,a.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),a}function eu(a,r,l,d,p,x){var A=0;if(d=a,typeof a=="function")kd(a)&&(A=1);else if(typeof a=="string")A=k_(a,l,se.current)?26:a==="html"||a==="head"||a==="body"?27:5;else e:switch(a){case Ae:return a=Dn(31,l,r,p),a.elementType=Ae,a.lanes=x,a;case _:return Ka(l.children,p,x,r);case I:A=8,p|=24;break;case O:return a=Dn(12,l,r,p|2),a.elementType=O,a.lanes=x,a;case K:return a=Dn(13,l,r,p),a.elementType=K,a.lanes=x,a;case q:return a=Dn(19,l,r,p),a.elementType=q,a.lanes=x,a;default:if(typeof a=="object"&&a!==null)switch(a.$$typeof){case D:case R:A=10;break e;case H:A=9;break e;case V:A=11;break e;case ue:A=14;break e;case me:A=16,d=null;break e}A=29,l=Error(i(130,a===null?"null":typeof a,"")),d=null}return r=Dn(A,l,r,p),r.elementType=a,r.type=d,r.lanes=x,r}function Ka(a,r,l,d){return a=Dn(7,a,d,r),a.lanes=l,a}function wd(a,r,l){return a=Dn(6,a,null,r),a.lanes=l,a}function Ld(a,r,l){return r=Dn(4,a.children!==null?a.children:[],a.key,r),r.lanes=l,r.stateNode={containerInfo:a.containerInfo,pendingChildren:null,implementation:a.implementation},r}var Ur=[],Vr=0,tu=null,nu=0,qn=[],Yn=0,$a=null,Li=1,Oi="";function Xa(a,r){Ur[Vr++]=nu,Ur[Vr++]=tu,tu=a,nu=r}function Gp(a,r,l){qn[Yn++]=Li,qn[Yn++]=Oi,qn[Yn++]=$a,$a=a;var d=Li;a=Oi;var p=32-ke(d)-1;d&=~(1<<p),l+=1;var x=32-ke(r)+p;if(30<x){var A=p-p%5;x=(d&(1<<A)-1).toString(32),d>>=A,p-=A,Li=1<<32-ke(r)+p|l<<p|d,Oi=x+a}else Li=1<<x|l<<p|d,Oi=a}function Od(a){a.return!==null&&(Xa(a,1),Gp(a,1,0))}function Pd(a){for(;a===tu;)tu=Ur[--Vr],Ur[Vr]=null,nu=Ur[--Vr],Ur[Vr]=null;for(;a===$a;)$a=qn[--Yn],qn[Yn]=null,Oi=qn[--Yn],qn[Yn]=null,Li=qn[--Yn],qn[Yn]=null}var fn=null,It=null,lt=!1,Wa=null,hi=!1,Bd=Error(i(519));function Qa(a){var r=Error(i(418,""));throw to(jn(r,a)),Bd}function qp(a){var r=a.stateNode,l=a.type,d=a.memoizedProps;switch(r[nt]=a,r[Qe]=d,l){case"dialog":Ze("cancel",r),Ze("close",r);break;case"iframe":case"object":case"embed":Ze("load",r);break;case"video":case"audio":for(l=0;l<_o.length;l++)Ze(_o[l],r);break;case"source":Ze("error",r);break;case"img":case"image":case"link":Ze("error",r),Ze("load",r);break;case"details":Ze("toggle",r);break;case"input":Ze("invalid",r),sp(r,d.value,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name,!0),zl(r);break;case"select":Ze("invalid",r);break;case"textarea":Ze("invalid",r),lp(r,d.value,d.defaultValue,d.children),zl(r)}l=d.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||r.textContent===""+l||d.suppressHydrationWarning===!0||l1(r.textContent,l)?(d.popover!=null&&(Ze("beforetoggle",r),Ze("toggle",r)),d.onScroll!=null&&Ze("scroll",r),d.onScrollEnd!=null&&Ze("scrollend",r),d.onClick!=null&&(r.onclick=Pu),r=!0):r=!1,r||Qa(a)}function Yp(a){for(fn=a.return;fn;)switch(fn.tag){case 5:case 13:hi=!1;return;case 27:case 3:hi=!0;return;default:fn=fn.return}}function Zs(a){if(a!==fn)return!1;if(!lt)return Yp(a),lt=!0,!1;var r=a.tag,l;if((l=r!==3&&r!==27)&&((l=r===5)&&(l=a.type,l=!(l!=="form"&&l!=="button")||em(a.type,a.memoizedProps)),l=!l),l&&It&&Qa(a),Yp(a),r===13){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(i(317));e:{for(a=a.nextSibling,r=0;a;){if(a.nodeType===8)if(l=a.data,l==="/$"){if(r===0){It=li(a.nextSibling);break e}r--}else l!=="$"&&l!=="$!"&&l!=="$?"||r++;a=a.nextSibling}It=null}}else r===27?(r=It,pa(a.type)?(a=am,am=null,It=a):It=r):It=fn?li(a.stateNode.nextSibling):null;return!0}function eo(){It=fn=null,lt=!1}function Kp(){var a=Wa;return a!==null&&(vn===null?vn=a:vn.push.apply(vn,a),Wa=null),a}function to(a){Wa===null?Wa=[a]:Wa.push(a)}var Fd=U(null),Ja=null,Pi=null;function ea(a,r,l){N(Fd,r._currentValue),r._currentValue=l}function Bi(a){a._currentValue=Fd.current,$(Fd)}function Hd(a,r,l){for(;a!==null;){var d=a.alternate;if((a.childLanes&r)!==r?(a.childLanes|=r,d!==null&&(d.childLanes|=r)):d!==null&&(d.childLanes&r)!==r&&(d.childLanes|=r),a===l)break;a=a.return}}function Ud(a,r,l,d){var p=a.child;for(p!==null&&(p.return=a);p!==null;){var x=p.dependencies;if(x!==null){var A=p.child;x=x.firstContext;e:for(;x!==null;){var M=x;x=p;for(var F=0;F<r.length;F++)if(M.context===r[F]){x.lanes|=l,M=x.alternate,M!==null&&(M.lanes|=l),Hd(x.return,l,a),d||(A=null);break e}x=M.next}}else if(p.tag===18){if(A=p.return,A===null)throw Error(i(341));A.lanes|=l,x=A.alternate,x!==null&&(x.lanes|=l),Hd(A,l,a),A=null}else A=p.child;if(A!==null)A.return=p;else for(A=p;A!==null;){if(A===a){A=null;break}if(p=A.sibling,p!==null){p.return=A.return,A=p;break}A=A.return}p=A}}function no(a,r,l,d){a=null;for(var p=r,x=!1;p!==null;){if(!x){if((p.flags&524288)!==0)x=!0;else if((p.flags&262144)!==0)break}if(p.tag===10){var A=p.alternate;if(A===null)throw Error(i(387));if(A=A.memoizedProps,A!==null){var M=p.type;Mn(p.pendingProps.value,A.value)||(a!==null?a.push(M):a=[M])}}else if(p===_e.current){if(A=p.alternate,A===null)throw Error(i(387));A.memoizedState.memoizedState!==p.memoizedState.memoizedState&&(a!==null?a.push(ko):a=[ko])}p=p.return}a!==null&&Ud(r,a,l,d),r.flags|=262144}function iu(a){for(a=a.firstContext;a!==null;){if(!Mn(a.context._currentValue,a.memoizedValue))return!0;a=a.next}return!1}function Za(a){Ja=a,Pi=null,a=a.dependencies,a!==null&&(a.firstContext=null)}function an(a){return $p(Ja,a)}function au(a,r){return Ja===null&&Za(a),$p(a,r)}function $p(a,r){var l=r._currentValue;if(r={context:r,memoizedValue:l,next:null},Pi===null){if(a===null)throw Error(i(308));Pi=r,a.dependencies={lanes:0,firstContext:r},a.flags|=524288}else Pi=Pi.next=r;return l}var RA=typeof AbortController<"u"?AbortController:function(){var a=[],r=this.signal={aborted:!1,addEventListener:function(l,d){a.push(d)}};this.abort=function(){r.aborted=!0,a.forEach(function(l){return l()})}},kA=e.unstable_scheduleCallback,wA=e.unstable_NormalPriority,jt={$$typeof:R,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Vd(){return{controller:new RA,data:new Map,refCount:0}}function io(a){a.refCount--,a.refCount===0&&kA(wA,function(){a.controller.abort()})}var ao=null,zd=0,zr=0,jr=null;function LA(a,r){if(ao===null){var l=ao=[];zd=0,zr=qf(),jr={status:"pending",value:void 0,then:function(d){l.push(d)}}}return zd++,r.then(Xp,Xp),r}function Xp(){if(--zd===0&&ao!==null){jr!==null&&(jr.status="fulfilled");var a=ao;ao=null,zr=0,jr=null;for(var r=0;r<a.length;r++)(0,a[r])()}}function OA(a,r){var l=[],d={status:"pending",value:null,reason:null,then:function(p){l.push(p)}};return a.then(function(){d.status="fulfilled",d.value=r;for(var p=0;p<l.length;p++)(0,l[p])(r)},function(p){for(d.status="rejected",d.reason=p,p=0;p<l.length;p++)(0,l[p])(void 0)}),d}var Wp=W.S;W.S=function(a,r){typeof r=="object"&&r!==null&&typeof r.then=="function"&&LA(a,r),Wp!==null&&Wp(a,r)};var er=U(null);function jd(){var a=er.current;return a!==null?a:bt.pooledCache}function ru(a,r){r===null?N(er,er.current):N(er,r.pool)}function Qp(){var a=jd();return a===null?null:{parent:jt._currentValue,pool:a}}var ro=Error(i(460)),Jp=Error(i(474)),su=Error(i(542)),Gd={then:function(){}};function Zp(a){return a=a.status,a==="fulfilled"||a==="rejected"}function ou(){}function eg(a,r,l){switch(l=a[l],l===void 0?a.push(r):l!==r&&(r.then(ou,ou),r=l),r.status){case"fulfilled":return r.value;case"rejected":throw a=r.reason,ng(a),a;default:if(typeof r.status=="string")r.then(ou,ou);else{if(a=bt,a!==null&&100<a.shellSuspendCounter)throw Error(i(482));a=r,a.status="pending",a.then(function(d){if(r.status==="pending"){var p=r;p.status="fulfilled",p.value=d}},function(d){if(r.status==="pending"){var p=r;p.status="rejected",p.reason=d}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw a=r.reason,ng(a),a}throw so=r,ro}}var so=null;function tg(){if(so===null)throw Error(i(459));var a=so;return so=null,a}function ng(a){if(a===ro||a===su)throw Error(i(483))}var ta=!1;function qd(a){a.updateQueue={baseState:a.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Yd(a,r){a=a.updateQueue,r.updateQueue===a&&(r.updateQueue={baseState:a.baseState,firstBaseUpdate:a.firstBaseUpdate,lastBaseUpdate:a.lastBaseUpdate,shared:a.shared,callbacks:null})}function na(a){return{lane:a,tag:0,payload:null,callback:null,next:null}}function ia(a,r,l){var d=a.updateQueue;if(d===null)return null;if(d=d.shared,(ct&2)!==0){var p=d.pending;return p===null?r.next=r:(r.next=p.next,p.next=r),d.pending=r,r=Zl(a),zp(a,null,l),r}return Jl(a,d,r,l),Zl(a)}function oo(a,r,l){if(r=r.updateQueue,r!==null&&(r=r.shared,(l&4194048)!==0)){var d=r.lanes;d&=a.pendingLanes,l|=d,r.lanes=l,Hs(a,l)}}function Kd(a,r){var l=a.updateQueue,d=a.alternate;if(d!==null&&(d=d.updateQueue,l===d)){var p=null,x=null;if(l=l.firstBaseUpdate,l!==null){do{var A={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};x===null?p=x=A:x=x.next=A,l=l.next}while(l!==null);x===null?p=x=r:x=x.next=r}else p=x=r;l={baseState:d.baseState,firstBaseUpdate:p,lastBaseUpdate:x,shared:d.shared,callbacks:d.callbacks},a.updateQueue=l;return}a=l.lastBaseUpdate,a===null?l.firstBaseUpdate=r:a.next=r,l.lastBaseUpdate=r}var $d=!1;function lo(){if($d){var a=jr;if(a!==null)throw a}}function uo(a,r,l,d){$d=!1;var p=a.updateQueue;ta=!1;var x=p.firstBaseUpdate,A=p.lastBaseUpdate,M=p.shared.pending;if(M!==null){p.shared.pending=null;var F=M,Z=F.next;F.next=null,A===null?x=Z:A.next=Z,A=F;var ce=a.alternate;ce!==null&&(ce=ce.updateQueue,M=ce.lastBaseUpdate,M!==A&&(M===null?ce.firstBaseUpdate=Z:M.next=Z,ce.lastBaseUpdate=F))}if(x!==null){var fe=p.baseState;A=0,ce=Z=F=null,M=x;do{var ee=M.lane&-536870913,te=ee!==M.lane;if(te?(it&ee)===ee:(d&ee)===ee){ee!==0&&ee===zr&&($d=!0),ce!==null&&(ce=ce.next={lane:0,tag:M.tag,payload:M.payload,callback:null,next:null});e:{var Be=a,Oe=M;ee=r;var gt=l;switch(Oe.tag){case 1:if(Be=Oe.payload,typeof Be=="function"){fe=Be.call(gt,fe,ee);break e}fe=Be;break e;case 3:Be.flags=Be.flags&-65537|128;case 0:if(Be=Oe.payload,ee=typeof Be=="function"?Be.call(gt,fe,ee):Be,ee==null)break e;fe=h({},fe,ee);break e;case 2:ta=!0}}ee=M.callback,ee!==null&&(a.flags|=64,te&&(a.flags|=8192),te=p.callbacks,te===null?p.callbacks=[ee]:te.push(ee))}else te={lane:ee,tag:M.tag,payload:M.payload,callback:M.callback,next:null},ce===null?(Z=ce=te,F=fe):ce=ce.next=te,A|=ee;if(M=M.next,M===null){if(M=p.shared.pending,M===null)break;te=M,M=te.next,te.next=null,p.lastBaseUpdate=te,p.shared.pending=null}}while(!0);ce===null&&(F=fe),p.baseState=F,p.firstBaseUpdate=Z,p.lastBaseUpdate=ce,x===null&&(p.shared.lanes=0),da|=A,a.lanes=A,a.memoizedState=fe}}function ig(a,r){if(typeof a!="function")throw Error(i(191,a));a.call(r)}function ag(a,r){var l=a.callbacks;if(l!==null)for(a.callbacks=null,a=0;a<l.length;a++)ig(l[a],r)}var Gr=U(null),lu=U(0);function rg(a,r){a=Gi,N(lu,a),N(Gr,r),Gi=a|r.baseLanes}function Xd(){N(lu,Gi),N(Gr,Gr.current)}function Wd(){Gi=lu.current,$(Gr),$(lu)}var aa=0,Ke=null,ht=null,Ft=null,uu=!1,qr=!1,tr=!1,cu=0,co=0,Yr=null,PA=0;function kt(){throw Error(i(321))}function Qd(a,r){if(r===null)return!1;for(var l=0;l<r.length&&l<a.length;l++)if(!Mn(a[l],r[l]))return!1;return!0}function Jd(a,r,l,d,p,x){return aa=x,Ke=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,W.H=a===null||a.memoizedState===null?zg:jg,tr=!1,x=l(d,p),tr=!1,qr&&(x=og(r,l,d,p)),sg(a),x}function sg(a){W.H=gu;var r=ht!==null&&ht.next!==null;if(aa=0,Ft=ht=Ke=null,uu=!1,co=0,Yr=null,r)throw Error(i(300));a===null||Yt||(a=a.dependencies,a!==null&&iu(a)&&(Yt=!0))}function og(a,r,l,d){Ke=a;var p=0;do{if(qr&&(Yr=null),co=0,qr=!1,25<=p)throw Error(i(301));if(p+=1,Ft=ht=null,a.updateQueue!=null){var x=a.updateQueue;x.lastEffect=null,x.events=null,x.stores=null,x.memoCache!=null&&(x.memoCache.index=0)}W.H=jA,x=r(l,d)}while(qr);return x}function BA(){var a=W.H,r=a.useState()[0];return r=typeof r.then=="function"?fo(r):r,a=a.useState()[0],(ht!==null?ht.memoizedState:null)!==a&&(Ke.flags|=1024),r}function Zd(){var a=cu!==0;return cu=0,a}function ef(a,r,l){r.updateQueue=a.updateQueue,r.flags&=-2053,a.lanes&=~l}function tf(a){if(uu){for(a=a.memoizedState;a!==null;){var r=a.queue;r!==null&&(r.pending=null),a=a.next}uu=!1}aa=0,Ft=ht=Ke=null,qr=!1,co=cu=0,Yr=null}function xn(){var a={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ft===null?Ke.memoizedState=Ft=a:Ft=Ft.next=a,Ft}function Ht(){if(ht===null){var a=Ke.alternate;a=a!==null?a.memoizedState:null}else a=ht.next;var r=Ft===null?Ke.memoizedState:Ft.next;if(r!==null)Ft=r,ht=a;else{if(a===null)throw Ke.alternate===null?Error(i(467)):Error(i(310));ht=a,a={memoizedState:ht.memoizedState,baseState:ht.baseState,baseQueue:ht.baseQueue,queue:ht.queue,next:null},Ft===null?Ke.memoizedState=Ft=a:Ft=Ft.next=a}return Ft}function nf(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function fo(a){var r=co;return co+=1,Yr===null&&(Yr=[]),a=eg(Yr,a,r),r=Ke,(Ft===null?r.memoizedState:Ft.next)===null&&(r=r.alternate,W.H=r===null||r.memoizedState===null?zg:jg),a}function du(a){if(a!==null&&typeof a=="object"){if(typeof a.then=="function")return fo(a);if(a.$$typeof===R)return an(a)}throw Error(i(438,String(a)))}function af(a){var r=null,l=Ke.updateQueue;if(l!==null&&(r=l.memoCache),r==null){var d=Ke.alternate;d!==null&&(d=d.updateQueue,d!==null&&(d=d.memoCache,d!=null&&(r={data:d.data.map(function(p){return p.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),l===null&&(l=nf(),Ke.updateQueue=l),l.memoCache=r,l=r.data[r.index],l===void 0)for(l=r.data[r.index]=Array(a),d=0;d<a;d++)l[d]=Y;return r.index++,l}function Fi(a,r){return typeof r=="function"?r(a):r}function fu(a){var r=Ht();return rf(r,ht,a)}function rf(a,r,l){var d=a.queue;if(d===null)throw Error(i(311));d.lastRenderedReducer=l;var p=a.baseQueue,x=d.pending;if(x!==null){if(p!==null){var A=p.next;p.next=x.next,x.next=A}r.baseQueue=p=x,d.pending=null}if(x=a.baseState,p===null)a.memoizedState=x;else{r=p.next;var M=A=null,F=null,Z=r,ce=!1;do{var fe=Z.lane&-536870913;if(fe!==Z.lane?(it&fe)===fe:(aa&fe)===fe){var ee=Z.revertLane;if(ee===0)F!==null&&(F=F.next={lane:0,revertLane:0,action:Z.action,hasEagerState:Z.hasEagerState,eagerState:Z.eagerState,next:null}),fe===zr&&(ce=!0);else if((aa&ee)===ee){Z=Z.next,ee===zr&&(ce=!0);continue}else fe={lane:0,revertLane:Z.revertLane,action:Z.action,hasEagerState:Z.hasEagerState,eagerState:Z.eagerState,next:null},F===null?(M=F=fe,A=x):F=F.next=fe,Ke.lanes|=ee,da|=ee;fe=Z.action,tr&&l(x,fe),x=Z.hasEagerState?Z.eagerState:l(x,fe)}else ee={lane:fe,revertLane:Z.revertLane,action:Z.action,hasEagerState:Z.hasEagerState,eagerState:Z.eagerState,next:null},F===null?(M=F=ee,A=x):F=F.next=ee,Ke.lanes|=fe,da|=fe;Z=Z.next}while(Z!==null&&Z!==r);if(F===null?A=x:F.next=M,!Mn(x,a.memoizedState)&&(Yt=!0,ce&&(l=jr,l!==null)))throw l;a.memoizedState=x,a.baseState=A,a.baseQueue=F,d.lastRenderedState=x}return p===null&&(d.lanes=0),[a.memoizedState,d.dispatch]}function sf(a){var r=Ht(),l=r.queue;if(l===null)throw Error(i(311));l.lastRenderedReducer=a;var d=l.dispatch,p=l.pending,x=r.memoizedState;if(p!==null){l.pending=null;var A=p=p.next;do x=a(x,A.action),A=A.next;while(A!==p);Mn(x,r.memoizedState)||(Yt=!0),r.memoizedState=x,r.baseQueue===null&&(r.baseState=x),l.lastRenderedState=x}return[x,d]}function lg(a,r,l){var d=Ke,p=Ht(),x=lt;if(x){if(l===void 0)throw Error(i(407));l=l()}else l=r();var A=!Mn((ht||p).memoizedState,l);A&&(p.memoizedState=l,Yt=!0),p=p.queue;var M=dg.bind(null,d,p,a);if(mo(2048,8,M,[a]),p.getSnapshot!==r||A||Ft!==null&&Ft.memoizedState.tag&1){if(d.flags|=2048,Kr(9,mu(),cg.bind(null,d,p,l,r),null),bt===null)throw Error(i(349));x||(aa&124)!==0||ug(d,r,l)}return l}function ug(a,r,l){a.flags|=16384,a={getSnapshot:r,value:l},r=Ke.updateQueue,r===null?(r=nf(),Ke.updateQueue=r,r.stores=[a]):(l=r.stores,l===null?r.stores=[a]:l.push(a))}function cg(a,r,l,d){r.value=l,r.getSnapshot=d,fg(r)&&mg(a)}function dg(a,r,l){return l(function(){fg(r)&&mg(a)})}function fg(a){var r=a.getSnapshot;a=a.value;try{var l=r();return!Mn(a,l)}catch{return!0}}function mg(a){var r=Fr(a,2);r!==null&&On(r,a,2)}function of(a){var r=xn();if(typeof a=="function"){var l=a;if(a=l(),tr){Re(!0);try{l()}finally{Re(!1)}}}return r.memoizedState=r.baseState=a,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Fi,lastRenderedState:a},r}function hg(a,r,l,d){return a.baseState=l,rf(a,ht,typeof d=="function"?d:Fi)}function FA(a,r,l,d,p){if(pu(a))throw Error(i(485));if(a=r.action,a!==null){var x={payload:p,action:a,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(A){x.listeners.push(A)}};W.T!==null?l(!0):x.isTransition=!1,d(x),l=r.pending,l===null?(x.next=r.pending=x,pg(r,x)):(x.next=l.next,r.pending=l.next=x)}}function pg(a,r){var l=r.action,d=r.payload,p=a.state;if(r.isTransition){var x=W.T,A={};W.T=A;try{var M=l(p,d),F=W.S;F!==null&&F(A,M),gg(a,r,M)}catch(Z){lf(a,r,Z)}finally{W.T=x}}else try{x=l(p,d),gg(a,r,x)}catch(Z){lf(a,r,Z)}}function gg(a,r,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(d){yg(a,r,d)},function(d){return lf(a,r,d)}):yg(a,r,l)}function yg(a,r,l){r.status="fulfilled",r.value=l,Tg(r),a.state=l,r=a.pending,r!==null&&(l=r.next,l===r?a.pending=null:(l=l.next,r.next=l,pg(a,l)))}function lf(a,r,l){var d=a.pending;if(a.pending=null,d!==null){d=d.next;do r.status="rejected",r.reason=l,Tg(r),r=r.next;while(r!==d)}a.action=null}function Tg(a){a=a.listeners;for(var r=0;r<a.length;r++)(0,a[r])()}function bg(a,r){return r}function xg(a,r){if(lt){var l=bt.formState;if(l!==null){e:{var d=Ke;if(lt){if(It){t:{for(var p=It,x=hi;p.nodeType!==8;){if(!x){p=null;break t}if(p=li(p.nextSibling),p===null){p=null;break t}}x=p.data,p=x==="F!"||x==="F"?p:null}if(p){It=li(p.nextSibling),d=p.data==="F!";break e}}Qa(d)}d=!1}d&&(r=l[0])}}return l=xn(),l.memoizedState=l.baseState=r,d={pending:null,lanes:0,dispatch:null,lastRenderedReducer:bg,lastRenderedState:r},l.queue=d,l=Hg.bind(null,Ke,d),d.dispatch=l,d=of(!1),x=mf.bind(null,Ke,!1,d.queue),d=xn(),p={state:r,dispatch:null,action:a,pending:null},d.queue=p,l=FA.bind(null,Ke,p,x,l),p.dispatch=l,d.memoizedState=a,[r,l,!1]}function Eg(a){var r=Ht();return vg(r,ht,a)}function vg(a,r,l){if(r=rf(a,r,bg)[0],a=fu(Fi)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var d=fo(r)}catch(A){throw A===ro?su:A}else d=r;r=Ht();var p=r.queue,x=p.dispatch;return l!==r.memoizedState&&(Ke.flags|=2048,Kr(9,mu(),HA.bind(null,p,l),null)),[d,x,a]}function HA(a,r){a.action=r}function Sg(a){var r=Ht(),l=ht;if(l!==null)return vg(r,l,a);Ht(),r=r.memoizedState,l=Ht();var d=l.queue.dispatch;return l.memoizedState=a,[r,d,!1]}function Kr(a,r,l,d){return a={tag:a,create:l,deps:d,inst:r,next:null},r=Ke.updateQueue,r===null&&(r=nf(),Ke.updateQueue=r),l=r.lastEffect,l===null?r.lastEffect=a.next=a:(d=l.next,l.next=a,a.next=d,r.lastEffect=a),a}function mu(){return{destroy:void 0,resource:void 0}}function Cg(){return Ht().memoizedState}function hu(a,r,l,d){var p=xn();d=d===void 0?null:d,Ke.flags|=a,p.memoizedState=Kr(1|r,mu(),l,d)}function mo(a,r,l,d){var p=Ht();d=d===void 0?null:d;var x=p.memoizedState.inst;ht!==null&&d!==null&&Qd(d,ht.memoizedState.deps)?p.memoizedState=Kr(r,x,l,d):(Ke.flags|=a,p.memoizedState=Kr(1|r,x,l,d))}function Ag(a,r){hu(8390656,8,a,r)}function _g(a,r){mo(2048,8,a,r)}function Ig(a,r){return mo(4,2,a,r)}function Ng(a,r){return mo(4,4,a,r)}function Mg(a,r){if(typeof r=="function"){a=a();var l=r(a);return function(){typeof l=="function"?l():r(null)}}if(r!=null)return a=a(),r.current=a,function(){r.current=null}}function Dg(a,r,l){l=l!=null?l.concat([a]):null,mo(4,4,Mg.bind(null,r,a),l)}function uf(){}function Rg(a,r){var l=Ht();r=r===void 0?null:r;var d=l.memoizedState;return r!==null&&Qd(r,d[1])?d[0]:(l.memoizedState=[a,r],a)}function kg(a,r){var l=Ht();r=r===void 0?null:r;var d=l.memoizedState;if(r!==null&&Qd(r,d[1]))return d[0];if(d=a(),tr){Re(!0);try{a()}finally{Re(!1)}}return l.memoizedState=[d,r],d}function cf(a,r,l){return l===void 0||(aa&1073741824)!==0?a.memoizedState=r:(a.memoizedState=l,a=Oy(),Ke.lanes|=a,da|=a,l)}function wg(a,r,l,d){return Mn(l,r)?l:Gr.current!==null?(a=cf(a,l,d),Mn(a,r)||(Yt=!0),a):(aa&42)===0?(Yt=!0,a.memoizedState=l):(a=Oy(),Ke.lanes|=a,da|=a,r)}function Lg(a,r,l,d,p){var x=z.p;z.p=x!==0&&8>x?x:8;var A=W.T,M={};W.T=M,mf(a,!1,r,l);try{var F=p(),Z=W.S;if(Z!==null&&Z(M,F),F!==null&&typeof F=="object"&&typeof F.then=="function"){var ce=OA(F,d);ho(a,r,ce,Ln(a))}else ho(a,r,d,Ln(a))}catch(fe){ho(a,r,{then:function(){},status:"rejected",reason:fe},Ln())}finally{z.p=x,W.T=A}}function UA(){}function df(a,r,l,d){if(a.tag!==5)throw Error(i(476));var p=Og(a).queue;Lg(a,p,r,w,l===null?UA:function(){return Pg(a),l(d)})}function Og(a){var r=a.memoizedState;if(r!==null)return r;r={memoizedState:w,baseState:w,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Fi,lastRenderedState:w},next:null};var l={};return r.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Fi,lastRenderedState:l},next:null},a.memoizedState=r,a=a.alternate,a!==null&&(a.memoizedState=r),r}function Pg(a){var r=Og(a).next.queue;ho(a,r,{},Ln())}function ff(){return an(ko)}function Bg(){return Ht().memoizedState}function Fg(){return Ht().memoizedState}function VA(a){for(var r=a.return;r!==null;){switch(r.tag){case 24:case 3:var l=Ln();a=na(l);var d=ia(r,a,l);d!==null&&(On(d,r,l),oo(d,r,l)),r={cache:Vd()},a.payload=r;return}r=r.return}}function zA(a,r,l){var d=Ln();l={lane:d,revertLane:0,action:l,hasEagerState:!1,eagerState:null,next:null},pu(a)?Ug(r,l):(l=Rd(a,r,l,d),l!==null&&(On(l,a,d),Vg(l,r,d)))}function Hg(a,r,l){var d=Ln();ho(a,r,l,d)}function ho(a,r,l,d){var p={lane:d,revertLane:0,action:l,hasEagerState:!1,eagerState:null,next:null};if(pu(a))Ug(r,p);else{var x=a.alternate;if(a.lanes===0&&(x===null||x.lanes===0)&&(x=r.lastRenderedReducer,x!==null))try{var A=r.lastRenderedState,M=x(A,l);if(p.hasEagerState=!0,p.eagerState=M,Mn(M,A))return Jl(a,r,p,0),bt===null&&Ql(),!1}catch{}finally{}if(l=Rd(a,r,p,d),l!==null)return On(l,a,d),Vg(l,r,d),!0}return!1}function mf(a,r,l,d){if(d={lane:2,revertLane:qf(),action:d,hasEagerState:!1,eagerState:null,next:null},pu(a)){if(r)throw Error(i(479))}else r=Rd(a,l,d,2),r!==null&&On(r,a,2)}function pu(a){var r=a.alternate;return a===Ke||r!==null&&r===Ke}function Ug(a,r){qr=uu=!0;var l=a.pending;l===null?r.next=r:(r.next=l.next,l.next=r),a.pending=r}function Vg(a,r,l){if((l&4194048)!==0){var d=r.lanes;d&=a.pendingLanes,l|=d,r.lanes=l,Hs(a,l)}}var gu={readContext:an,use:du,useCallback:kt,useContext:kt,useEffect:kt,useImperativeHandle:kt,useLayoutEffect:kt,useInsertionEffect:kt,useMemo:kt,useReducer:kt,useRef:kt,useState:kt,useDebugValue:kt,useDeferredValue:kt,useTransition:kt,useSyncExternalStore:kt,useId:kt,useHostTransitionStatus:kt,useFormState:kt,useActionState:kt,useOptimistic:kt,useMemoCache:kt,useCacheRefresh:kt},zg={readContext:an,use:du,useCallback:function(a,r){return xn().memoizedState=[a,r===void 0?null:r],a},useContext:an,useEffect:Ag,useImperativeHandle:function(a,r,l){l=l!=null?l.concat([a]):null,hu(4194308,4,Mg.bind(null,r,a),l)},useLayoutEffect:function(a,r){return hu(4194308,4,a,r)},useInsertionEffect:function(a,r){hu(4,2,a,r)},useMemo:function(a,r){var l=xn();r=r===void 0?null:r;var d=a();if(tr){Re(!0);try{a()}finally{Re(!1)}}return l.memoizedState=[d,r],d},useReducer:function(a,r,l){var d=xn();if(l!==void 0){var p=l(r);if(tr){Re(!0);try{l(r)}finally{Re(!1)}}}else p=r;return d.memoizedState=d.baseState=p,a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:a,lastRenderedState:p},d.queue=a,a=a.dispatch=zA.bind(null,Ke,a),[d.memoizedState,a]},useRef:function(a){var r=xn();return a={current:a},r.memoizedState=a},useState:function(a){a=of(a);var r=a.queue,l=Hg.bind(null,Ke,r);return r.dispatch=l,[a.memoizedState,l]},useDebugValue:uf,useDeferredValue:function(a,r){var l=xn();return cf(l,a,r)},useTransition:function(){var a=of(!1);return a=Lg.bind(null,Ke,a.queue,!0,!1),xn().memoizedState=a,[!1,a]},useSyncExternalStore:function(a,r,l){var d=Ke,p=xn();if(lt){if(l===void 0)throw Error(i(407));l=l()}else{if(l=r(),bt===null)throw Error(i(349));(it&124)!==0||ug(d,r,l)}p.memoizedState=l;var x={value:l,getSnapshot:r};return p.queue=x,Ag(dg.bind(null,d,x,a),[a]),d.flags|=2048,Kr(9,mu(),cg.bind(null,d,x,l,r),null),l},useId:function(){var a=xn(),r=bt.identifierPrefix;if(lt){var l=Oi,d=Li;l=(d&~(1<<32-ke(d)-1)).toString(32)+l,r=""+r+"R"+l,l=cu++,0<l&&(r+="H"+l.toString(32)),r+=""}else l=PA++,r=""+r+"r"+l.toString(32)+"";return a.memoizedState=r},useHostTransitionStatus:ff,useFormState:xg,useActionState:xg,useOptimistic:function(a){var r=xn();r.memoizedState=r.baseState=a;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=l,r=mf.bind(null,Ke,!0,l),l.dispatch=r,[a,r]},useMemoCache:af,useCacheRefresh:function(){return xn().memoizedState=VA.bind(null,Ke)}},jg={readContext:an,use:du,useCallback:Rg,useContext:an,useEffect:_g,useImperativeHandle:Dg,useInsertionEffect:Ig,useLayoutEffect:Ng,useMemo:kg,useReducer:fu,useRef:Cg,useState:function(){return fu(Fi)},useDebugValue:uf,useDeferredValue:function(a,r){var l=Ht();return wg(l,ht.memoizedState,a,r)},useTransition:function(){var a=fu(Fi)[0],r=Ht().memoizedState;return[typeof a=="boolean"?a:fo(a),r]},useSyncExternalStore:lg,useId:Bg,useHostTransitionStatus:ff,useFormState:Eg,useActionState:Eg,useOptimistic:function(a,r){var l=Ht();return hg(l,ht,a,r)},useMemoCache:af,useCacheRefresh:Fg},jA={readContext:an,use:du,useCallback:Rg,useContext:an,useEffect:_g,useImperativeHandle:Dg,useInsertionEffect:Ig,useLayoutEffect:Ng,useMemo:kg,useReducer:sf,useRef:Cg,useState:function(){return sf(Fi)},useDebugValue:uf,useDeferredValue:function(a,r){var l=Ht();return ht===null?cf(l,a,r):wg(l,ht.memoizedState,a,r)},useTransition:function(){var a=sf(Fi)[0],r=Ht().memoizedState;return[typeof a=="boolean"?a:fo(a),r]},useSyncExternalStore:lg,useId:Bg,useHostTransitionStatus:ff,useFormState:Sg,useActionState:Sg,useOptimistic:function(a,r){var l=Ht();return ht!==null?hg(l,ht,a,r):(l.baseState=a,[a,l.queue.dispatch])},useMemoCache:af,useCacheRefresh:Fg},$r=null,po=0;function yu(a){var r=po;return po+=1,$r===null&&($r=[]),eg($r,a,r)}function go(a,r){r=r.props.ref,a.ref=r!==void 0?r:null}function Tu(a,r){throw r.$$typeof===y?Error(i(525)):(a=Object.prototype.toString.call(r),Error(i(31,a==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":a)))}function Gg(a){var r=a._init;return r(a._payload)}function qg(a){function r(X,G){if(a){var Q=X.deletions;Q===null?(X.deletions=[G],X.flags|=16):Q.push(G)}}function l(X,G){if(!a)return null;for(;G!==null;)r(X,G),G=G.sibling;return null}function d(X){for(var G=new Map;X!==null;)X.key!==null?G.set(X.key,X):G.set(X.index,X),X=X.sibling;return G}function p(X,G){return X=wi(X,G),X.index=0,X.sibling=null,X}function x(X,G,Q){return X.index=Q,a?(Q=X.alternate,Q!==null?(Q=Q.index,Q<G?(X.flags|=67108866,G):Q):(X.flags|=67108866,G)):(X.flags|=1048576,G)}function A(X){return a&&X.alternate===null&&(X.flags|=67108866),X}function M(X,G,Q,de){return G===null||G.tag!==6?(G=wd(Q,X.mode,de),G.return=X,G):(G=p(G,Q),G.return=X,G)}function F(X,G,Q,de){var Ne=Q.type;return Ne===_?ce(X,G,Q.props.children,de,Q.key):G!==null&&(G.elementType===Ne||typeof Ne=="object"&&Ne!==null&&Ne.$$typeof===me&&Gg(Ne)===G.type)?(G=p(G,Q.props),go(G,Q),G.return=X,G):(G=eu(Q.type,Q.key,Q.props,null,X.mode,de),go(G,Q),G.return=X,G)}function Z(X,G,Q,de){return G===null||G.tag!==4||G.stateNode.containerInfo!==Q.containerInfo||G.stateNode.implementation!==Q.implementation?(G=Ld(Q,X.mode,de),G.return=X,G):(G=p(G,Q.children||[]),G.return=X,G)}function ce(X,G,Q,de,Ne){return G===null||G.tag!==7?(G=Ka(Q,X.mode,de,Ne),G.return=X,G):(G=p(G,Q),G.return=X,G)}function fe(X,G,Q){if(typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint")return G=wd(""+G,X.mode,Q),G.return=X,G;if(typeof G=="object"&&G!==null){switch(G.$$typeof){case v:return Q=eu(G.type,G.key,G.props,null,X.mode,Q),go(Q,G),Q.return=X,Q;case S:return G=Ld(G,X.mode,Q),G.return=X,G;case me:var de=G._init;return G=de(G._payload),fe(X,G,Q)}if(re(G)||be(G))return G=Ka(G,X.mode,Q,null),G.return=X,G;if(typeof G.then=="function")return fe(X,yu(G),Q);if(G.$$typeof===R)return fe(X,au(X,G),Q);Tu(X,G)}return null}function ee(X,G,Q,de){var Ne=G!==null?G.key:null;if(typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint")return Ne!==null?null:M(X,G,""+Q,de);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case v:return Q.key===Ne?F(X,G,Q,de):null;case S:return Q.key===Ne?Z(X,G,Q,de):null;case me:return Ne=Q._init,Q=Ne(Q._payload),ee(X,G,Q,de)}if(re(Q)||be(Q))return Ne!==null?null:ce(X,G,Q,de,null);if(typeof Q.then=="function")return ee(X,G,yu(Q),de);if(Q.$$typeof===R)return ee(X,G,au(X,Q),de);Tu(X,Q)}return null}function te(X,G,Q,de,Ne){if(typeof de=="string"&&de!==""||typeof de=="number"||typeof de=="bigint")return X=X.get(Q)||null,M(G,X,""+de,Ne);if(typeof de=="object"&&de!==null){switch(de.$$typeof){case v:return X=X.get(de.key===null?Q:de.key)||null,F(G,X,de,Ne);case S:return X=X.get(de.key===null?Q:de.key)||null,Z(G,X,de,Ne);case me:var Xe=de._init;return de=Xe(de._payload),te(X,G,Q,de,Ne)}if(re(de)||be(de))return X=X.get(Q)||null,ce(G,X,de,Ne,null);if(typeof de.then=="function")return te(X,G,Q,yu(de),Ne);if(de.$$typeof===R)return te(X,G,Q,au(G,de),Ne);Tu(G,de)}return null}function Be(X,G,Q,de){for(var Ne=null,Xe=null,De=G,Pe=G=0,$t=null;De!==null&&Pe<Q.length;Pe++){De.index>Pe?($t=De,De=null):$t=De.sibling;var rt=ee(X,De,Q[Pe],de);if(rt===null){De===null&&(De=$t);break}a&&De&&rt.alternate===null&&r(X,De),G=x(rt,G,Pe),Xe===null?Ne=rt:Xe.sibling=rt,Xe=rt,De=$t}if(Pe===Q.length)return l(X,De),lt&&Xa(X,Pe),Ne;if(De===null){for(;Pe<Q.length;Pe++)De=fe(X,Q[Pe],de),De!==null&&(G=x(De,G,Pe),Xe===null?Ne=De:Xe.sibling=De,Xe=De);return lt&&Xa(X,Pe),Ne}for(De=d(De);Pe<Q.length;Pe++)$t=te(De,X,Pe,Q[Pe],de),$t!==null&&(a&&$t.alternate!==null&&De.delete($t.key===null?Pe:$t.key),G=x($t,G,Pe),Xe===null?Ne=$t:Xe.sibling=$t,Xe=$t);return a&&De.forEach(function(xa){return r(X,xa)}),lt&&Xa(X,Pe),Ne}function Oe(X,G,Q,de){if(Q==null)throw Error(i(151));for(var Ne=null,Xe=null,De=G,Pe=G=0,$t=null,rt=Q.next();De!==null&&!rt.done;Pe++,rt=Q.next()){De.index>Pe?($t=De,De=null):$t=De.sibling;var xa=ee(X,De,rt.value,de);if(xa===null){De===null&&(De=$t);break}a&&De&&xa.alternate===null&&r(X,De),G=x(xa,G,Pe),Xe===null?Ne=xa:Xe.sibling=xa,Xe=xa,De=$t}if(rt.done)return l(X,De),lt&&Xa(X,Pe),Ne;if(De===null){for(;!rt.done;Pe++,rt=Q.next())rt=fe(X,rt.value,de),rt!==null&&(G=x(rt,G,Pe),Xe===null?Ne=rt:Xe.sibling=rt,Xe=rt);return lt&&Xa(X,Pe),Ne}for(De=d(De);!rt.done;Pe++,rt=Q.next())rt=te(De,X,Pe,rt.value,de),rt!==null&&(a&&rt.alternate!==null&&De.delete(rt.key===null?Pe:rt.key),G=x(rt,G,Pe),Xe===null?Ne=rt:Xe.sibling=rt,Xe=rt);return a&&De.forEach(function(G_){return r(X,G_)}),lt&&Xa(X,Pe),Ne}function gt(X,G,Q,de){if(typeof Q=="object"&&Q!==null&&Q.type===_&&Q.key===null&&(Q=Q.props.children),typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case v:e:{for(var Ne=Q.key;G!==null;){if(G.key===Ne){if(Ne=Q.type,Ne===_){if(G.tag===7){l(X,G.sibling),de=p(G,Q.props.children),de.return=X,X=de;break e}}else if(G.elementType===Ne||typeof Ne=="object"&&Ne!==null&&Ne.$$typeof===me&&Gg(Ne)===G.type){l(X,G.sibling),de=p(G,Q.props),go(de,Q),de.return=X,X=de;break e}l(X,G);break}else r(X,G);G=G.sibling}Q.type===_?(de=Ka(Q.props.children,X.mode,de,Q.key),de.return=X,X=de):(de=eu(Q.type,Q.key,Q.props,null,X.mode,de),go(de,Q),de.return=X,X=de)}return A(X);case S:e:{for(Ne=Q.key;G!==null;){if(G.key===Ne)if(G.tag===4&&G.stateNode.containerInfo===Q.containerInfo&&G.stateNode.implementation===Q.implementation){l(X,G.sibling),de=p(G,Q.children||[]),de.return=X,X=de;break e}else{l(X,G);break}else r(X,G);G=G.sibling}de=Ld(Q,X.mode,de),de.return=X,X=de}return A(X);case me:return Ne=Q._init,Q=Ne(Q._payload),gt(X,G,Q,de)}if(re(Q))return Be(X,G,Q,de);if(be(Q)){if(Ne=be(Q),typeof Ne!="function")throw Error(i(150));return Q=Ne.call(Q),Oe(X,G,Q,de)}if(typeof Q.then=="function")return gt(X,G,yu(Q),de);if(Q.$$typeof===R)return gt(X,G,au(X,Q),de);Tu(X,Q)}return typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint"?(Q=""+Q,G!==null&&G.tag===6?(l(X,G.sibling),de=p(G,Q),de.return=X,X=de):(l(X,G),de=wd(Q,X.mode,de),de.return=X,X=de),A(X)):l(X,G)}return function(X,G,Q,de){try{po=0;var Ne=gt(X,G,Q,de);return $r=null,Ne}catch(De){if(De===ro||De===su)throw De;var Xe=Dn(29,De,null,X.mode);return Xe.lanes=de,Xe.return=X,Xe}finally{}}}var Xr=qg(!0),Yg=qg(!1),Kn=U(null),pi=null;function ra(a){var r=a.alternate;N(Gt,Gt.current&1),N(Kn,a),pi===null&&(r===null||Gr.current!==null||r.memoizedState!==null)&&(pi=a)}function Kg(a){if(a.tag===22){if(N(Gt,Gt.current),N(Kn,a),pi===null){var r=a.alternate;r!==null&&r.memoizedState!==null&&(pi=a)}}else sa()}function sa(){N(Gt,Gt.current),N(Kn,Kn.current)}function Hi(a){$(Kn),pi===a&&(pi=null),$(Gt)}var Gt=U(0);function bu(a){for(var r=a;r!==null;){if(r.tag===13){var l=r.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||im(l)))return r}else if(r.tag===19&&r.memoizedProps.revealOrder!==void 0){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===a)break;for(;r.sibling===null;){if(r.return===null||r.return===a)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}function hf(a,r,l,d){r=a.memoizedState,l=l(d,r),l=l==null?r:h({},r,l),a.memoizedState=l,a.lanes===0&&(a.updateQueue.baseState=l)}var pf={enqueueSetState:function(a,r,l){a=a._reactInternals;var d=Ln(),p=na(d);p.payload=r,l!=null&&(p.callback=l),r=ia(a,p,d),r!==null&&(On(r,a,d),oo(r,a,d))},enqueueReplaceState:function(a,r,l){a=a._reactInternals;var d=Ln(),p=na(d);p.tag=1,p.payload=r,l!=null&&(p.callback=l),r=ia(a,p,d),r!==null&&(On(r,a,d),oo(r,a,d))},enqueueForceUpdate:function(a,r){a=a._reactInternals;var l=Ln(),d=na(l);d.tag=2,r!=null&&(d.callback=r),r=ia(a,d,l),r!==null&&(On(r,a,l),oo(r,a,l))}};function $g(a,r,l,d,p,x,A){return a=a.stateNode,typeof a.shouldComponentUpdate=="function"?a.shouldComponentUpdate(d,x,A):r.prototype&&r.prototype.isPureReactComponent?!Qs(l,d)||!Qs(p,x):!0}function Xg(a,r,l,d){a=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(l,d),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(l,d),r.state!==a&&pf.enqueueReplaceState(r,r.state,null)}function nr(a,r){var l=r;if("ref"in r){l={};for(var d in r)d!=="ref"&&(l[d]=r[d])}if(a=a.defaultProps){l===r&&(l=h({},l));for(var p in a)l[p]===void 0&&(l[p]=a[p])}return l}var xu=typeof reportError=="function"?reportError:function(a){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof a=="object"&&a!==null&&typeof a.message=="string"?String(a.message):String(a),error:a});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",a);return}console.error(a)};function Wg(a){xu(a)}function Qg(a){console.error(a)}function Jg(a){xu(a)}function Eu(a,r){try{var l=a.onUncaughtError;l(r.value,{componentStack:r.stack})}catch(d){setTimeout(function(){throw d})}}function Zg(a,r,l){try{var d=a.onCaughtError;d(l.value,{componentStack:l.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(p){setTimeout(function(){throw p})}}function gf(a,r,l){return l=na(l),l.tag=3,l.payload={element:null},l.callback=function(){Eu(a,r)},l}function ey(a){return a=na(a),a.tag=3,a}function ty(a,r,l,d){var p=l.type.getDerivedStateFromError;if(typeof p=="function"){var x=d.value;a.payload=function(){return p(x)},a.callback=function(){Zg(r,l,d)}}var A=l.stateNode;A!==null&&typeof A.componentDidCatch=="function"&&(a.callback=function(){Zg(r,l,d),typeof p!="function"&&(fa===null?fa=new Set([this]):fa.add(this));var M=d.stack;this.componentDidCatch(d.value,{componentStack:M!==null?M:""})})}function GA(a,r,l,d,p){if(l.flags|=32768,d!==null&&typeof d=="object"&&typeof d.then=="function"){if(r=l.alternate,r!==null&&no(r,l,p,!0),l=Kn.current,l!==null){switch(l.tag){case 13:return pi===null?Uf():l.alternate===null&&Nt===0&&(Nt=3),l.flags&=-257,l.flags|=65536,l.lanes=p,d===Gd?l.flags|=16384:(r=l.updateQueue,r===null?l.updateQueue=new Set([d]):r.add(d),zf(a,d,p)),!1;case 22:return l.flags|=65536,d===Gd?l.flags|=16384:(r=l.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([d])},l.updateQueue=r):(l=r.retryQueue,l===null?r.retryQueue=new Set([d]):l.add(d)),zf(a,d,p)),!1}throw Error(i(435,l.tag))}return zf(a,d,p),Uf(),!1}if(lt)return r=Kn.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=p,d!==Bd&&(a=Error(i(422),{cause:d}),to(jn(a,l)))):(d!==Bd&&(r=Error(i(423),{cause:d}),to(jn(r,l))),a=a.current.alternate,a.flags|=65536,p&=-p,a.lanes|=p,d=jn(d,l),p=gf(a.stateNode,d,p),Kd(a,p),Nt!==4&&(Nt=2)),!1;var x=Error(i(520),{cause:d});if(x=jn(x,l),So===null?So=[x]:So.push(x),Nt!==4&&(Nt=2),r===null)return!0;d=jn(d,l),l=r;do{switch(l.tag){case 3:return l.flags|=65536,a=p&-p,l.lanes|=a,a=gf(l.stateNode,d,a),Kd(l,a),!1;case 1:if(r=l.type,x=l.stateNode,(l.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(fa===null||!fa.has(x))))return l.flags|=65536,p&=-p,l.lanes|=p,p=ey(p),ty(p,a,l,d),Kd(l,p),!1}l=l.return}while(l!==null);return!1}var ny=Error(i(461)),Yt=!1;function Qt(a,r,l,d){r.child=a===null?Yg(r,null,l,d):Xr(r,a.child,l,d)}function iy(a,r,l,d,p){l=l.render;var x=r.ref;if("ref"in d){var A={};for(var M in d)M!=="ref"&&(A[M]=d[M])}else A=d;return Za(r),d=Jd(a,r,l,A,x,p),M=Zd(),a!==null&&!Yt?(ef(a,r,p),Ui(a,r,p)):(lt&&M&&Od(r),r.flags|=1,Qt(a,r,d,p),r.child)}function ay(a,r,l,d,p){if(a===null){var x=l.type;return typeof x=="function"&&!kd(x)&&x.defaultProps===void 0&&l.compare===null?(r.tag=15,r.type=x,ry(a,r,x,d,p)):(a=eu(l.type,null,d,r,r.mode,p),a.ref=r.ref,a.return=r,r.child=a)}if(x=a.child,!Cf(a,p)){var A=x.memoizedProps;if(l=l.compare,l=l!==null?l:Qs,l(A,d)&&a.ref===r.ref)return Ui(a,r,p)}return r.flags|=1,a=wi(x,d),a.ref=r.ref,a.return=r,r.child=a}function ry(a,r,l,d,p){if(a!==null){var x=a.memoizedProps;if(Qs(x,d)&&a.ref===r.ref)if(Yt=!1,r.pendingProps=d=x,Cf(a,p))(a.flags&131072)!==0&&(Yt=!0);else return r.lanes=a.lanes,Ui(a,r,p)}return yf(a,r,l,d,p)}function sy(a,r,l){var d=r.pendingProps,p=d.children,x=a!==null?a.memoizedState:null;if(d.mode==="hidden"){if((r.flags&128)!==0){if(d=x!==null?x.baseLanes|l:l,a!==null){for(p=r.child=a.child,x=0;p!==null;)x=x|p.lanes|p.childLanes,p=p.sibling;r.childLanes=x&~d}else r.childLanes=0,r.child=null;return oy(a,r,d,l)}if((l&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},a!==null&&ru(r,x!==null?x.cachePool:null),x!==null?rg(r,x):Xd(),Kg(r);else return r.lanes=r.childLanes=536870912,oy(a,r,x!==null?x.baseLanes|l:l,l)}else x!==null?(ru(r,x.cachePool),rg(r,x),sa(),r.memoizedState=null):(a!==null&&ru(r,null),Xd(),sa());return Qt(a,r,p,l),r.child}function oy(a,r,l,d){var p=jd();return p=p===null?null:{parent:jt._currentValue,pool:p},r.memoizedState={baseLanes:l,cachePool:p},a!==null&&ru(r,null),Xd(),Kg(r),a!==null&&no(a,r,d,!0),null}function vu(a,r){var l=r.ref;if(l===null)a!==null&&a.ref!==null&&(r.flags|=4194816);else{if(typeof l!="function"&&typeof l!="object")throw Error(i(284));(a===null||a.ref!==l)&&(r.flags|=4194816)}}function yf(a,r,l,d,p){return Za(r),l=Jd(a,r,l,d,void 0,p),d=Zd(),a!==null&&!Yt?(ef(a,r,p),Ui(a,r,p)):(lt&&d&&Od(r),r.flags|=1,Qt(a,r,l,p),r.child)}function ly(a,r,l,d,p,x){return Za(r),r.updateQueue=null,l=og(r,d,l,p),sg(a),d=Zd(),a!==null&&!Yt?(ef(a,r,x),Ui(a,r,x)):(lt&&d&&Od(r),r.flags|=1,Qt(a,r,l,x),r.child)}function uy(a,r,l,d,p){if(Za(r),r.stateNode===null){var x=Hr,A=l.contextType;typeof A=="object"&&A!==null&&(x=an(A)),x=new l(d,x),r.memoizedState=x.state!==null&&x.state!==void 0?x.state:null,x.updater=pf,r.stateNode=x,x._reactInternals=r,x=r.stateNode,x.props=d,x.state=r.memoizedState,x.refs={},qd(r),A=l.contextType,x.context=typeof A=="object"&&A!==null?an(A):Hr,x.state=r.memoizedState,A=l.getDerivedStateFromProps,typeof A=="function"&&(hf(r,l,A,d),x.state=r.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof x.getSnapshotBeforeUpdate=="function"||typeof x.UNSAFE_componentWillMount!="function"&&typeof x.componentWillMount!="function"||(A=x.state,typeof x.componentWillMount=="function"&&x.componentWillMount(),typeof x.UNSAFE_componentWillMount=="function"&&x.UNSAFE_componentWillMount(),A!==x.state&&pf.enqueueReplaceState(x,x.state,null),uo(r,d,x,p),lo(),x.state=r.memoizedState),typeof x.componentDidMount=="function"&&(r.flags|=4194308),d=!0}else if(a===null){x=r.stateNode;var M=r.memoizedProps,F=nr(l,M);x.props=F;var Z=x.context,ce=l.contextType;A=Hr,typeof ce=="object"&&ce!==null&&(A=an(ce));var fe=l.getDerivedStateFromProps;ce=typeof fe=="function"||typeof x.getSnapshotBeforeUpdate=="function",M=r.pendingProps!==M,ce||typeof x.UNSAFE_componentWillReceiveProps!="function"&&typeof x.componentWillReceiveProps!="function"||(M||Z!==A)&&Xg(r,x,d,A),ta=!1;var ee=r.memoizedState;x.state=ee,uo(r,d,x,p),lo(),Z=r.memoizedState,M||ee!==Z||ta?(typeof fe=="function"&&(hf(r,l,fe,d),Z=r.memoizedState),(F=ta||$g(r,l,F,d,ee,Z,A))?(ce||typeof x.UNSAFE_componentWillMount!="function"&&typeof x.componentWillMount!="function"||(typeof x.componentWillMount=="function"&&x.componentWillMount(),typeof x.UNSAFE_componentWillMount=="function"&&x.UNSAFE_componentWillMount()),typeof x.componentDidMount=="function"&&(r.flags|=4194308)):(typeof x.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=d,r.memoizedState=Z),x.props=d,x.state=Z,x.context=A,d=F):(typeof x.componentDidMount=="function"&&(r.flags|=4194308),d=!1)}else{x=r.stateNode,Yd(a,r),A=r.memoizedProps,ce=nr(l,A),x.props=ce,fe=r.pendingProps,ee=x.context,Z=l.contextType,F=Hr,typeof Z=="object"&&Z!==null&&(F=an(Z)),M=l.getDerivedStateFromProps,(Z=typeof M=="function"||typeof x.getSnapshotBeforeUpdate=="function")||typeof x.UNSAFE_componentWillReceiveProps!="function"&&typeof x.componentWillReceiveProps!="function"||(A!==fe||ee!==F)&&Xg(r,x,d,F),ta=!1,ee=r.memoizedState,x.state=ee,uo(r,d,x,p),lo();var te=r.memoizedState;A!==fe||ee!==te||ta||a!==null&&a.dependencies!==null&&iu(a.dependencies)?(typeof M=="function"&&(hf(r,l,M,d),te=r.memoizedState),(ce=ta||$g(r,l,ce,d,ee,te,F)||a!==null&&a.dependencies!==null&&iu(a.dependencies))?(Z||typeof x.UNSAFE_componentWillUpdate!="function"&&typeof x.componentWillUpdate!="function"||(typeof x.componentWillUpdate=="function"&&x.componentWillUpdate(d,te,F),typeof x.UNSAFE_componentWillUpdate=="function"&&x.UNSAFE_componentWillUpdate(d,te,F)),typeof x.componentDidUpdate=="function"&&(r.flags|=4),typeof x.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof x.componentDidUpdate!="function"||A===a.memoizedProps&&ee===a.memoizedState||(r.flags|=4),typeof x.getSnapshotBeforeUpdate!="function"||A===a.memoizedProps&&ee===a.memoizedState||(r.flags|=1024),r.memoizedProps=d,r.memoizedState=te),x.props=d,x.state=te,x.context=F,d=ce):(typeof x.componentDidUpdate!="function"||A===a.memoizedProps&&ee===a.memoizedState||(r.flags|=4),typeof x.getSnapshotBeforeUpdate!="function"||A===a.memoizedProps&&ee===a.memoizedState||(r.flags|=1024),d=!1)}return x=d,vu(a,r),d=(r.flags&128)!==0,x||d?(x=r.stateNode,l=d&&typeof l.getDerivedStateFromError!="function"?null:x.render(),r.flags|=1,a!==null&&d?(r.child=Xr(r,a.child,null,p),r.child=Xr(r,null,l,p)):Qt(a,r,l,p),r.memoizedState=x.state,a=r.child):a=Ui(a,r,p),a}function cy(a,r,l,d){return eo(),r.flags|=256,Qt(a,r,l,d),r.child}var Tf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function bf(a){return{baseLanes:a,cachePool:Qp()}}function xf(a,r,l){return a=a!==null?a.childLanes&~l:0,r&&(a|=$n),a}function dy(a,r,l){var d=r.pendingProps,p=!1,x=(r.flags&128)!==0,A;if((A=x)||(A=a!==null&&a.memoizedState===null?!1:(Gt.current&2)!==0),A&&(p=!0,r.flags&=-129),A=(r.flags&32)!==0,r.flags&=-33,a===null){if(lt){if(p?ra(r):sa(),lt){var M=It,F;if(F=M){e:{for(F=M,M=hi;F.nodeType!==8;){if(!M){M=null;break e}if(F=li(F.nextSibling),F===null){M=null;break e}}M=F}M!==null?(r.memoizedState={dehydrated:M,treeContext:$a!==null?{id:Li,overflow:Oi}:null,retryLane:536870912,hydrationErrors:null},F=Dn(18,null,null,0),F.stateNode=M,F.return=r,r.child=F,fn=r,It=null,F=!0):F=!1}F||Qa(r)}if(M=r.memoizedState,M!==null&&(M=M.dehydrated,M!==null))return im(M)?r.lanes=32:r.lanes=536870912,null;Hi(r)}return M=d.children,d=d.fallback,p?(sa(),p=r.mode,M=Su({mode:"hidden",children:M},p),d=Ka(d,p,l,null),M.return=r,d.return=r,M.sibling=d,r.child=M,p=r.child,p.memoizedState=bf(l),p.childLanes=xf(a,A,l),r.memoizedState=Tf,d):(ra(r),Ef(r,M))}if(F=a.memoizedState,F!==null&&(M=F.dehydrated,M!==null)){if(x)r.flags&256?(ra(r),r.flags&=-257,r=vf(a,r,l)):r.memoizedState!==null?(sa(),r.child=a.child,r.flags|=128,r=null):(sa(),p=d.fallback,M=r.mode,d=Su({mode:"visible",children:d.children},M),p=Ka(p,M,l,null),p.flags|=2,d.return=r,p.return=r,d.sibling=p,r.child=d,Xr(r,a.child,null,l),d=r.child,d.memoizedState=bf(l),d.childLanes=xf(a,A,l),r.memoizedState=Tf,r=p);else if(ra(r),im(M)){if(A=M.nextSibling&&M.nextSibling.dataset,A)var Z=A.dgst;A=Z,d=Error(i(419)),d.stack="",d.digest=A,to({value:d,source:null,stack:null}),r=vf(a,r,l)}else if(Yt||no(a,r,l,!1),A=(l&a.childLanes)!==0,Yt||A){if(A=bt,A!==null&&(d=l&-l,d=(d&42)!==0?1:_r(d),d=(d&(A.suspendedLanes|l))!==0?0:d,d!==0&&d!==F.retryLane))throw F.retryLane=d,Fr(a,d),On(A,a,d),ny;M.data==="$?"||Uf(),r=vf(a,r,l)}else M.data==="$?"?(r.flags|=192,r.child=a.child,r=null):(a=F.treeContext,It=li(M.nextSibling),fn=r,lt=!0,Wa=null,hi=!1,a!==null&&(qn[Yn++]=Li,qn[Yn++]=Oi,qn[Yn++]=$a,Li=a.id,Oi=a.overflow,$a=r),r=Ef(r,d.children),r.flags|=4096);return r}return p?(sa(),p=d.fallback,M=r.mode,F=a.child,Z=F.sibling,d=wi(F,{mode:"hidden",children:d.children}),d.subtreeFlags=F.subtreeFlags&65011712,Z!==null?p=wi(Z,p):(p=Ka(p,M,l,null),p.flags|=2),p.return=r,d.return=r,d.sibling=p,r.child=d,d=p,p=r.child,M=a.child.memoizedState,M===null?M=bf(l):(F=M.cachePool,F!==null?(Z=jt._currentValue,F=F.parent!==Z?{parent:Z,pool:Z}:F):F=Qp(),M={baseLanes:M.baseLanes|l,cachePool:F}),p.memoizedState=M,p.childLanes=xf(a,A,l),r.memoizedState=Tf,d):(ra(r),l=a.child,a=l.sibling,l=wi(l,{mode:"visible",children:d.children}),l.return=r,l.sibling=null,a!==null&&(A=r.deletions,A===null?(r.deletions=[a],r.flags|=16):A.push(a)),r.child=l,r.memoizedState=null,l)}function Ef(a,r){return r=Su({mode:"visible",children:r},a.mode),r.return=a,a.child=r}function Su(a,r){return a=Dn(22,a,null,r),a.lanes=0,a.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},a}function vf(a,r,l){return Xr(r,a.child,null,l),a=Ef(r,r.pendingProps.children),a.flags|=2,r.memoizedState=null,a}function fy(a,r,l){a.lanes|=r;var d=a.alternate;d!==null&&(d.lanes|=r),Hd(a.return,r,l)}function Sf(a,r,l,d,p){var x=a.memoizedState;x===null?a.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:d,tail:l,tailMode:p}:(x.isBackwards=r,x.rendering=null,x.renderingStartTime=0,x.last=d,x.tail=l,x.tailMode=p)}function my(a,r,l){var d=r.pendingProps,p=d.revealOrder,x=d.tail;if(Qt(a,r,d.children,l),d=Gt.current,(d&2)!==0)d=d&1|2,r.flags|=128;else{if(a!==null&&(a.flags&128)!==0)e:for(a=r.child;a!==null;){if(a.tag===13)a.memoizedState!==null&&fy(a,l,r);else if(a.tag===19)fy(a,l,r);else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===r)break e;for(;a.sibling===null;){if(a.return===null||a.return===r)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}d&=1}switch(N(Gt,d),p){case"forwards":for(l=r.child,p=null;l!==null;)a=l.alternate,a!==null&&bu(a)===null&&(p=l),l=l.sibling;l=p,l===null?(p=r.child,r.child=null):(p=l.sibling,l.sibling=null),Sf(r,!1,p,l,x);break;case"backwards":for(l=null,p=r.child,r.child=null;p!==null;){if(a=p.alternate,a!==null&&bu(a)===null){r.child=p;break}a=p.sibling,p.sibling=l,l=p,p=a}Sf(r,!0,l,null,x);break;case"together":Sf(r,!1,null,null,void 0);break;default:r.memoizedState=null}return r.child}function Ui(a,r,l){if(a!==null&&(r.dependencies=a.dependencies),da|=r.lanes,(l&r.childLanes)===0)if(a!==null){if(no(a,r,l,!1),(l&r.childLanes)===0)return null}else return null;if(a!==null&&r.child!==a.child)throw Error(i(153));if(r.child!==null){for(a=r.child,l=wi(a,a.pendingProps),r.child=l,l.return=r;a.sibling!==null;)a=a.sibling,l=l.sibling=wi(a,a.pendingProps),l.return=r;l.sibling=null}return r.child}function Cf(a,r){return(a.lanes&r)!==0?!0:(a=a.dependencies,!!(a!==null&&iu(a)))}function qA(a,r,l){switch(r.tag){case 3:Ce(r,r.stateNode.containerInfo),ea(r,jt,a.memoizedState.cache),eo();break;case 27:case 5:ze(r);break;case 4:Ce(r,r.stateNode.containerInfo);break;case 10:ea(r,r.type,r.memoizedProps.value);break;case 13:var d=r.memoizedState;if(d!==null)return d.dehydrated!==null?(ra(r),r.flags|=128,null):(l&r.child.childLanes)!==0?dy(a,r,l):(ra(r),a=Ui(a,r,l),a!==null?a.sibling:null);ra(r);break;case 19:var p=(a.flags&128)!==0;if(d=(l&r.childLanes)!==0,d||(no(a,r,l,!1),d=(l&r.childLanes)!==0),p){if(d)return my(a,r,l);r.flags|=128}if(p=r.memoizedState,p!==null&&(p.rendering=null,p.tail=null,p.lastEffect=null),N(Gt,Gt.current),d)break;return null;case 22:case 23:return r.lanes=0,sy(a,r,l);case 24:ea(r,jt,a.memoizedState.cache)}return Ui(a,r,l)}function hy(a,r,l){if(a!==null)if(a.memoizedProps!==r.pendingProps)Yt=!0;else{if(!Cf(a,l)&&(r.flags&128)===0)return Yt=!1,qA(a,r,l);Yt=(a.flags&131072)!==0}else Yt=!1,lt&&(r.flags&1048576)!==0&&Gp(r,nu,r.index);switch(r.lanes=0,r.tag){case 16:e:{a=r.pendingProps;var d=r.elementType,p=d._init;if(d=p(d._payload),r.type=d,typeof d=="function")kd(d)?(a=nr(d,a),r.tag=1,r=uy(null,r,d,a,l)):(r.tag=0,r=yf(null,r,d,a,l));else{if(d!=null){if(p=d.$$typeof,p===V){r.tag=11,r=iy(null,r,d,a,l);break e}else if(p===ue){r.tag=14,r=ay(null,r,d,a,l);break e}}throw r=pe(d)||d,Error(i(306,r,""))}}return r;case 0:return yf(a,r,r.type,r.pendingProps,l);case 1:return d=r.type,p=nr(d,r.pendingProps),uy(a,r,d,p,l);case 3:e:{if(Ce(r,r.stateNode.containerInfo),a===null)throw Error(i(387));d=r.pendingProps;var x=r.memoizedState;p=x.element,Yd(a,r),uo(r,d,null,l);var A=r.memoizedState;if(d=A.cache,ea(r,jt,d),d!==x.cache&&Ud(r,[jt],l,!0),lo(),d=A.element,x.isDehydrated)if(x={element:d,isDehydrated:!1,cache:A.cache},r.updateQueue.baseState=x,r.memoizedState=x,r.flags&256){r=cy(a,r,d,l);break e}else if(d!==p){p=jn(Error(i(424)),r),to(p),r=cy(a,r,d,l);break e}else{switch(a=r.stateNode.containerInfo,a.nodeType){case 9:a=a.body;break;default:a=a.nodeName==="HTML"?a.ownerDocument.body:a}for(It=li(a.firstChild),fn=r,lt=!0,Wa=null,hi=!0,l=Yg(r,null,d,l),r.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling}else{if(eo(),d===p){r=Ui(a,r,l);break e}Qt(a,r,d,l)}r=r.child}return r;case 26:return vu(a,r),a===null?(l=T1(r.type,null,r.pendingProps,null))?r.memoizedState=l:lt||(l=r.type,a=r.pendingProps,d=Bu(ie.current).createElement(l),d[nt]=r,d[Qe]=a,Zt(d,l,a),Bt(d),r.stateNode=d):r.memoizedState=T1(r.type,a.memoizedProps,r.pendingProps,a.memoizedState),null;case 27:return ze(r),a===null&&lt&&(d=r.stateNode=p1(r.type,r.pendingProps,ie.current),fn=r,hi=!0,p=It,pa(r.type)?(am=p,It=li(d.firstChild)):It=p),Qt(a,r,r.pendingProps.children,l),vu(a,r),a===null&&(r.flags|=4194304),r.child;case 5:return a===null&&lt&&((p=d=It)&&(d=b_(d,r.type,r.pendingProps,hi),d!==null?(r.stateNode=d,fn=r,It=li(d.firstChild),hi=!1,p=!0):p=!1),p||Qa(r)),ze(r),p=r.type,x=r.pendingProps,A=a!==null?a.memoizedProps:null,d=x.children,em(p,x)?d=null:A!==null&&em(p,A)&&(r.flags|=32),r.memoizedState!==null&&(p=Jd(a,r,BA,null,null,l),ko._currentValue=p),vu(a,r),Qt(a,r,d,l),r.child;case 6:return a===null&&lt&&((a=l=It)&&(l=x_(l,r.pendingProps,hi),l!==null?(r.stateNode=l,fn=r,It=null,a=!0):a=!1),a||Qa(r)),null;case 13:return dy(a,r,l);case 4:return Ce(r,r.stateNode.containerInfo),d=r.pendingProps,a===null?r.child=Xr(r,null,d,l):Qt(a,r,d,l),r.child;case 11:return iy(a,r,r.type,r.pendingProps,l);case 7:return Qt(a,r,r.pendingProps,l),r.child;case 8:return Qt(a,r,r.pendingProps.children,l),r.child;case 12:return Qt(a,r,r.pendingProps.children,l),r.child;case 10:return d=r.pendingProps,ea(r,r.type,d.value),Qt(a,r,d.children,l),r.child;case 9:return p=r.type._context,d=r.pendingProps.children,Za(r),p=an(p),d=d(p),r.flags|=1,Qt(a,r,d,l),r.child;case 14:return ay(a,r,r.type,r.pendingProps,l);case 15:return ry(a,r,r.type,r.pendingProps,l);case 19:return my(a,r,l);case 31:return d=r.pendingProps,l=r.mode,d={mode:d.mode,children:d.children},a===null?(l=Su(d,l),l.ref=r.ref,r.child=l,l.return=r,r=l):(l=wi(a.child,d),l.ref=r.ref,r.child=l,l.return=r,r=l),r;case 22:return sy(a,r,l);case 24:return Za(r),d=an(jt),a===null?(p=jd(),p===null&&(p=bt,x=Vd(),p.pooledCache=x,x.refCount++,x!==null&&(p.pooledCacheLanes|=l),p=x),r.memoizedState={parent:d,cache:p},qd(r),ea(r,jt,p)):((a.lanes&l)!==0&&(Yd(a,r),uo(r,null,null,l),lo()),p=a.memoizedState,x=r.memoizedState,p.parent!==d?(p={parent:d,cache:d},r.memoizedState=p,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=p),ea(r,jt,d)):(d=x.cache,ea(r,jt,d),d!==p.cache&&Ud(r,[jt],l,!0))),Qt(a,r,r.pendingProps.children,l),r.child;case 29:throw r.pendingProps}throw Error(i(156,r.tag))}function Vi(a){a.flags|=4}function py(a,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)a.flags&=-16777217;else if(a.flags|=16777216,!S1(r)){if(r=Kn.current,r!==null&&((it&4194048)===it?pi!==null:(it&62914560)!==it&&(it&536870912)===0||r!==pi))throw so=Gd,Jp;a.flags|=8192}}function Cu(a,r){r!==null&&(a.flags|=4),a.flags&16384&&(r=a.tag!==22?Hl():536870912,a.lanes|=r,Zr|=r)}function yo(a,r){if(!lt)switch(a.tailMode){case"hidden":r=a.tail;for(var l=null;r!==null;)r.alternate!==null&&(l=r),r=r.sibling;l===null?a.tail=null:l.sibling=null;break;case"collapsed":l=a.tail;for(var d=null;l!==null;)l.alternate!==null&&(d=l),l=l.sibling;d===null?r||a.tail===null?a.tail=null:a.tail.sibling=null:d.sibling=null}}function Ct(a){var r=a.alternate!==null&&a.alternate.child===a.child,l=0,d=0;if(r)for(var p=a.child;p!==null;)l|=p.lanes|p.childLanes,d|=p.subtreeFlags&65011712,d|=p.flags&65011712,p.return=a,p=p.sibling;else for(p=a.child;p!==null;)l|=p.lanes|p.childLanes,d|=p.subtreeFlags,d|=p.flags,p.return=a,p=p.sibling;return a.subtreeFlags|=d,a.childLanes=l,r}function YA(a,r,l){var d=r.pendingProps;switch(Pd(r),r.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ct(r),null;case 1:return Ct(r),null;case 3:return l=r.stateNode,d=null,a!==null&&(d=a.memoizedState.cache),r.memoizedState.cache!==d&&(r.flags|=2048),Bi(jt),Me(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(a===null||a.child===null)&&(Zs(r)?Vi(r):a===null||a.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,Kp())),Ct(r),null;case 26:return l=r.memoizedState,a===null?(Vi(r),l!==null?(Ct(r),py(r,l)):(Ct(r),r.flags&=-16777217)):l?l!==a.memoizedState?(Vi(r),Ct(r),py(r,l)):(Ct(r),r.flags&=-16777217):(a.memoizedProps!==d&&Vi(r),Ct(r),r.flags&=-16777217),null;case 27:He(r),l=ie.current;var p=r.type;if(a!==null&&r.stateNode!=null)a.memoizedProps!==d&&Vi(r);else{if(!d){if(r.stateNode===null)throw Error(i(166));return Ct(r),null}a=se.current,Zs(r)?qp(r):(a=p1(p,d,l),r.stateNode=a,Vi(r))}return Ct(r),null;case 5:if(He(r),l=r.type,a!==null&&r.stateNode!=null)a.memoizedProps!==d&&Vi(r);else{if(!d){if(r.stateNode===null)throw Error(i(166));return Ct(r),null}if(a=se.current,Zs(r))qp(r);else{switch(p=Bu(ie.current),a){case 1:a=p.createElementNS("http://www.w3.org/2000/svg",l);break;case 2:a=p.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;default:switch(l){case"svg":a=p.createElementNS("http://www.w3.org/2000/svg",l);break;case"math":a=p.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;case"script":a=p.createElement("div"),a.innerHTML="<script><\/script>",a=a.removeChild(a.firstChild);break;case"select":a=typeof d.is=="string"?p.createElement("select",{is:d.is}):p.createElement("select"),d.multiple?a.multiple=!0:d.size&&(a.size=d.size);break;default:a=typeof d.is=="string"?p.createElement(l,{is:d.is}):p.createElement(l)}}a[nt]=r,a[Qe]=d;e:for(p=r.child;p!==null;){if(p.tag===5||p.tag===6)a.appendChild(p.stateNode);else if(p.tag!==4&&p.tag!==27&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===r)break e;for(;p.sibling===null;){if(p.return===null||p.return===r)break e;p=p.return}p.sibling.return=p.return,p=p.sibling}r.stateNode=a;e:switch(Zt(a,l,d),l){case"button":case"input":case"select":case"textarea":a=!!d.autoFocus;break e;case"img":a=!0;break e;default:a=!1}a&&Vi(r)}}return Ct(r),r.flags&=-16777217,null;case 6:if(a&&r.stateNode!=null)a.memoizedProps!==d&&Vi(r);else{if(typeof d!="string"&&r.stateNode===null)throw Error(i(166));if(a=ie.current,Zs(r)){if(a=r.stateNode,l=r.memoizedProps,d=null,p=fn,p!==null)switch(p.tag){case 27:case 5:d=p.memoizedProps}a[nt]=r,a=!!(a.nodeValue===l||d!==null&&d.suppressHydrationWarning===!0||l1(a.nodeValue,l)),a||Qa(r)}else a=Bu(a).createTextNode(d),a[nt]=r,r.stateNode=a}return Ct(r),null;case 13:if(d=r.memoizedState,a===null||a.memoizedState!==null&&a.memoizedState.dehydrated!==null){if(p=Zs(r),d!==null&&d.dehydrated!==null){if(a===null){if(!p)throw Error(i(318));if(p=r.memoizedState,p=p!==null?p.dehydrated:null,!p)throw Error(i(317));p[nt]=r}else eo(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;Ct(r),p=!1}else p=Kp(),a!==null&&a.memoizedState!==null&&(a.memoizedState.hydrationErrors=p),p=!0;if(!p)return r.flags&256?(Hi(r),r):(Hi(r),null)}if(Hi(r),(r.flags&128)!==0)return r.lanes=l,r;if(l=d!==null,a=a!==null&&a.memoizedState!==null,l){d=r.child,p=null,d.alternate!==null&&d.alternate.memoizedState!==null&&d.alternate.memoizedState.cachePool!==null&&(p=d.alternate.memoizedState.cachePool.pool);var x=null;d.memoizedState!==null&&d.memoizedState.cachePool!==null&&(x=d.memoizedState.cachePool.pool),x!==p&&(d.flags|=2048)}return l!==a&&l&&(r.child.flags|=8192),Cu(r,r.updateQueue),Ct(r),null;case 4:return Me(),a===null&&Xf(r.stateNode.containerInfo),Ct(r),null;case 10:return Bi(r.type),Ct(r),null;case 19:if($(Gt),p=r.memoizedState,p===null)return Ct(r),null;if(d=(r.flags&128)!==0,x=p.rendering,x===null)if(d)yo(p,!1);else{if(Nt!==0||a!==null&&(a.flags&128)!==0)for(a=r.child;a!==null;){if(x=bu(a),x!==null){for(r.flags|=128,yo(p,!1),a=x.updateQueue,r.updateQueue=a,Cu(r,a),r.subtreeFlags=0,a=l,l=r.child;l!==null;)jp(l,a),l=l.sibling;return N(Gt,Gt.current&1|2),r.child}a=a.sibling}p.tail!==null&&Rt()>Iu&&(r.flags|=128,d=!0,yo(p,!1),r.lanes=4194304)}else{if(!d)if(a=bu(x),a!==null){if(r.flags|=128,d=!0,a=a.updateQueue,r.updateQueue=a,Cu(r,a),yo(p,!0),p.tail===null&&p.tailMode==="hidden"&&!x.alternate&&!lt)return Ct(r),null}else 2*Rt()-p.renderingStartTime>Iu&&l!==536870912&&(r.flags|=128,d=!0,yo(p,!1),r.lanes=4194304);p.isBackwards?(x.sibling=r.child,r.child=x):(a=p.last,a!==null?a.sibling=x:r.child=x,p.last=x)}return p.tail!==null?(r=p.tail,p.rendering=r,p.tail=r.sibling,p.renderingStartTime=Rt(),r.sibling=null,a=Gt.current,N(Gt,d?a&1|2:a&1),r):(Ct(r),null);case 22:case 23:return Hi(r),Wd(),d=r.memoizedState!==null,a!==null?a.memoizedState!==null!==d&&(r.flags|=8192):d&&(r.flags|=8192),d?(l&536870912)!==0&&(r.flags&128)===0&&(Ct(r),r.subtreeFlags&6&&(r.flags|=8192)):Ct(r),l=r.updateQueue,l!==null&&Cu(r,l.retryQueue),l=null,a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(l=a.memoizedState.cachePool.pool),d=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(d=r.memoizedState.cachePool.pool),d!==l&&(r.flags|=2048),a!==null&&$(er),null;case 24:return l=null,a!==null&&(l=a.memoizedState.cache),r.memoizedState.cache!==l&&(r.flags|=2048),Bi(jt),Ct(r),null;case 25:return null;case 30:return null}throw Error(i(156,r.tag))}function KA(a,r){switch(Pd(r),r.tag){case 1:return a=r.flags,a&65536?(r.flags=a&-65537|128,r):null;case 3:return Bi(jt),Me(),a=r.flags,(a&65536)!==0&&(a&128)===0?(r.flags=a&-65537|128,r):null;case 26:case 27:case 5:return He(r),null;case 13:if(Hi(r),a=r.memoizedState,a!==null&&a.dehydrated!==null){if(r.alternate===null)throw Error(i(340));eo()}return a=r.flags,a&65536?(r.flags=a&-65537|128,r):null;case 19:return $(Gt),null;case 4:return Me(),null;case 10:return Bi(r.type),null;case 22:case 23:return Hi(r),Wd(),a!==null&&$(er),a=r.flags,a&65536?(r.flags=a&-65537|128,r):null;case 24:return Bi(jt),null;case 25:return null;default:return null}}function gy(a,r){switch(Pd(r),r.tag){case 3:Bi(jt),Me();break;case 26:case 27:case 5:He(r);break;case 4:Me();break;case 13:Hi(r);break;case 19:$(Gt);break;case 10:Bi(r.type);break;case 22:case 23:Hi(r),Wd(),a!==null&&$(er);break;case 24:Bi(jt)}}function To(a,r){try{var l=r.updateQueue,d=l!==null?l.lastEffect:null;if(d!==null){var p=d.next;l=p;do{if((l.tag&a)===a){d=void 0;var x=l.create,A=l.inst;d=x(),A.destroy=d}l=l.next}while(l!==p)}}catch(M){yt(r,r.return,M)}}function oa(a,r,l){try{var d=r.updateQueue,p=d!==null?d.lastEffect:null;if(p!==null){var x=p.next;d=x;do{if((d.tag&a)===a){var A=d.inst,M=A.destroy;if(M!==void 0){A.destroy=void 0,p=r;var F=l,Z=M;try{Z()}catch(ce){yt(p,F,ce)}}}d=d.next}while(d!==x)}}catch(ce){yt(r,r.return,ce)}}function yy(a){var r=a.updateQueue;if(r!==null){var l=a.stateNode;try{ag(r,l)}catch(d){yt(a,a.return,d)}}}function Ty(a,r,l){l.props=nr(a.type,a.memoizedProps),l.state=a.memoizedState;try{l.componentWillUnmount()}catch(d){yt(a,r,d)}}function bo(a,r){try{var l=a.ref;if(l!==null){switch(a.tag){case 26:case 27:case 5:var d=a.stateNode;break;case 30:d=a.stateNode;break;default:d=a.stateNode}typeof l=="function"?a.refCleanup=l(d):l.current=d}}catch(p){yt(a,r,p)}}function gi(a,r){var l=a.ref,d=a.refCleanup;if(l!==null)if(typeof d=="function")try{d()}catch(p){yt(a,r,p)}finally{a.refCleanup=null,a=a.alternate,a!=null&&(a.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(p){yt(a,r,p)}else l.current=null}function by(a){var r=a.type,l=a.memoizedProps,d=a.stateNode;try{e:switch(r){case"button":case"input":case"select":case"textarea":l.autoFocus&&d.focus();break e;case"img":l.src?d.src=l.src:l.srcSet&&(d.srcset=l.srcSet)}}catch(p){yt(a,a.return,p)}}function Af(a,r,l){try{var d=a.stateNode;h_(d,a.type,l,r),d[Qe]=r}catch(p){yt(a,a.return,p)}}function xy(a){return a.tag===5||a.tag===3||a.tag===26||a.tag===27&&pa(a.type)||a.tag===4}function _f(a){e:for(;;){for(;a.sibling===null;){if(a.return===null||xy(a.return))return null;a=a.return}for(a.sibling.return=a.return,a=a.sibling;a.tag!==5&&a.tag!==6&&a.tag!==18;){if(a.tag===27&&pa(a.type)||a.flags&2||a.child===null||a.tag===4)continue e;a.child.return=a,a=a.child}if(!(a.flags&2))return a.stateNode}}function If(a,r,l){var d=a.tag;if(d===5||d===6)a=a.stateNode,r?(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l).insertBefore(a,r):(r=l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,r.appendChild(a),l=l._reactRootContainer,l!=null||r.onclick!==null||(r.onclick=Pu));else if(d!==4&&(d===27&&pa(a.type)&&(l=a.stateNode,r=null),a=a.child,a!==null))for(If(a,r,l),a=a.sibling;a!==null;)If(a,r,l),a=a.sibling}function Au(a,r,l){var d=a.tag;if(d===5||d===6)a=a.stateNode,r?l.insertBefore(a,r):l.appendChild(a);else if(d!==4&&(d===27&&pa(a.type)&&(l=a.stateNode),a=a.child,a!==null))for(Au(a,r,l),a=a.sibling;a!==null;)Au(a,r,l),a=a.sibling}function Ey(a){var r=a.stateNode,l=a.memoizedProps;try{for(var d=a.type,p=r.attributes;p.length;)r.removeAttributeNode(p[0]);Zt(r,d,l),r[nt]=a,r[Qe]=l}catch(x){yt(a,a.return,x)}}var zi=!1,wt=!1,Nf=!1,vy=typeof WeakSet=="function"?WeakSet:Set,Kt=null;function $A(a,r){if(a=a.containerInfo,Jf=ju,a=wp(a),Ad(a)){if("selectionStart"in a)var l={start:a.selectionStart,end:a.selectionEnd};else e:{l=(l=a.ownerDocument)&&l.defaultView||window;var d=l.getSelection&&l.getSelection();if(d&&d.rangeCount!==0){l=d.anchorNode;var p=d.anchorOffset,x=d.focusNode;d=d.focusOffset;try{l.nodeType,x.nodeType}catch{l=null;break e}var A=0,M=-1,F=-1,Z=0,ce=0,fe=a,ee=null;t:for(;;){for(var te;fe!==l||p!==0&&fe.nodeType!==3||(M=A+p),fe!==x||d!==0&&fe.nodeType!==3||(F=A+d),fe.nodeType===3&&(A+=fe.nodeValue.length),(te=fe.firstChild)!==null;)ee=fe,fe=te;for(;;){if(fe===a)break t;if(ee===l&&++Z===p&&(M=A),ee===x&&++ce===d&&(F=A),(te=fe.nextSibling)!==null)break;fe=ee,ee=fe.parentNode}fe=te}l=M===-1||F===-1?null:{start:M,end:F}}else l=null}l=l||{start:0,end:0}}else l=null;for(Zf={focusedElem:a,selectionRange:l},ju=!1,Kt=r;Kt!==null;)if(r=Kt,a=r.child,(r.subtreeFlags&1024)!==0&&a!==null)a.return=r,Kt=a;else for(;Kt!==null;){switch(r=Kt,x=r.alternate,a=r.flags,r.tag){case 0:break;case 11:case 15:break;case 1:if((a&1024)!==0&&x!==null){a=void 0,l=r,p=x.memoizedProps,x=x.memoizedState,d=l.stateNode;try{var Be=nr(l.type,p,l.elementType===l.type);a=d.getSnapshotBeforeUpdate(Be,x),d.__reactInternalSnapshotBeforeUpdate=a}catch(Oe){yt(l,l.return,Oe)}}break;case 3:if((a&1024)!==0){if(a=r.stateNode.containerInfo,l=a.nodeType,l===9)nm(a);else if(l===1)switch(a.nodeName){case"HEAD":case"HTML":case"BODY":nm(a);break;default:a.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((a&1024)!==0)throw Error(i(163))}if(a=r.sibling,a!==null){a.return=r.return,Kt=a;break}Kt=r.return}}function Sy(a,r,l){var d=l.flags;switch(l.tag){case 0:case 11:case 15:la(a,l),d&4&&To(5,l);break;case 1:if(la(a,l),d&4)if(a=l.stateNode,r===null)try{a.componentDidMount()}catch(A){yt(l,l.return,A)}else{var p=nr(l.type,r.memoizedProps);r=r.memoizedState;try{a.componentDidUpdate(p,r,a.__reactInternalSnapshotBeforeUpdate)}catch(A){yt(l,l.return,A)}}d&64&&yy(l),d&512&&bo(l,l.return);break;case 3:if(la(a,l),d&64&&(a=l.updateQueue,a!==null)){if(r=null,l.child!==null)switch(l.child.tag){case 27:case 5:r=l.child.stateNode;break;case 1:r=l.child.stateNode}try{ag(a,r)}catch(A){yt(l,l.return,A)}}break;case 27:r===null&&d&4&&Ey(l);case 26:case 5:la(a,l),r===null&&d&4&&by(l),d&512&&bo(l,l.return);break;case 12:la(a,l);break;case 13:la(a,l),d&4&&_y(a,l),d&64&&(a=l.memoizedState,a!==null&&(a=a.dehydrated,a!==null&&(l=i_.bind(null,l),E_(a,l))));break;case 22:if(d=l.memoizedState!==null||zi,!d){r=r!==null&&r.memoizedState!==null||wt,p=zi;var x=wt;zi=d,(wt=r)&&!x?ua(a,l,(l.subtreeFlags&8772)!==0):la(a,l),zi=p,wt=x}break;case 30:break;default:la(a,l)}}function Cy(a){var r=a.alternate;r!==null&&(a.alternate=null,Cy(r)),a.child=null,a.deletions=null,a.sibling=null,a.tag===5&&(r=a.stateNode,r!==null&&Vs(r)),a.stateNode=null,a.return=null,a.dependencies=null,a.memoizedProps=null,a.memoizedState=null,a.pendingProps=null,a.stateNode=null,a.updateQueue=null}var vt=null,En=!1;function ji(a,r,l){for(l=l.child;l!==null;)Ay(a,r,l),l=l.sibling}function Ay(a,r,l){if(Te&&typeof Te.onCommitFiberUnmount=="function")try{Te.onCommitFiberUnmount(le,l)}catch{}switch(l.tag){case 26:wt||gi(l,r),ji(a,r,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:wt||gi(l,r);var d=vt,p=En;pa(l.type)&&(vt=l.stateNode,En=!1),ji(a,r,l),No(l.stateNode),vt=d,En=p;break;case 5:wt||gi(l,r);case 6:if(d=vt,p=En,vt=null,ji(a,r,l),vt=d,En=p,vt!==null)if(En)try{(vt.nodeType===9?vt.body:vt.nodeName==="HTML"?vt.ownerDocument.body:vt).removeChild(l.stateNode)}catch(x){yt(l,r,x)}else try{vt.removeChild(l.stateNode)}catch(x){yt(l,r,x)}break;case 18:vt!==null&&(En?(a=vt,m1(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,l.stateNode),Po(a)):m1(vt,l.stateNode));break;case 4:d=vt,p=En,vt=l.stateNode.containerInfo,En=!0,ji(a,r,l),vt=d,En=p;break;case 0:case 11:case 14:case 15:wt||oa(2,l,r),wt||oa(4,l,r),ji(a,r,l);break;case 1:wt||(gi(l,r),d=l.stateNode,typeof d.componentWillUnmount=="function"&&Ty(l,r,d)),ji(a,r,l);break;case 21:ji(a,r,l);break;case 22:wt=(d=wt)||l.memoizedState!==null,ji(a,r,l),wt=d;break;default:ji(a,r,l)}}function _y(a,r){if(r.memoizedState===null&&(a=r.alternate,a!==null&&(a=a.memoizedState,a!==null&&(a=a.dehydrated,a!==null))))try{Po(a)}catch(l){yt(r,r.return,l)}}function XA(a){switch(a.tag){case 13:case 19:var r=a.stateNode;return r===null&&(r=a.stateNode=new vy),r;case 22:return a=a.stateNode,r=a._retryCache,r===null&&(r=a._retryCache=new vy),r;default:throw Error(i(435,a.tag))}}function Mf(a,r){var l=XA(a);r.forEach(function(d){var p=a_.bind(null,a,d);l.has(d)||(l.add(d),d.then(p,p))})}function Rn(a,r){var l=r.deletions;if(l!==null)for(var d=0;d<l.length;d++){var p=l[d],x=a,A=r,M=A;e:for(;M!==null;){switch(M.tag){case 27:if(pa(M.type)){vt=M.stateNode,En=!1;break e}break;case 5:vt=M.stateNode,En=!1;break e;case 3:case 4:vt=M.stateNode.containerInfo,En=!0;break e}M=M.return}if(vt===null)throw Error(i(160));Ay(x,A,p),vt=null,En=!1,x=p.alternate,x!==null&&(x.return=null),p.return=null}if(r.subtreeFlags&13878)for(r=r.child;r!==null;)Iy(r,a),r=r.sibling}var oi=null;function Iy(a,r){var l=a.alternate,d=a.flags;switch(a.tag){case 0:case 11:case 14:case 15:Rn(r,a),kn(a),d&4&&(oa(3,a,a.return),To(3,a),oa(5,a,a.return));break;case 1:Rn(r,a),kn(a),d&512&&(wt||l===null||gi(l,l.return)),d&64&&zi&&(a=a.updateQueue,a!==null&&(d=a.callbacks,d!==null&&(l=a.shared.hiddenCallbacks,a.shared.hiddenCallbacks=l===null?d:l.concat(d))));break;case 26:var p=oi;if(Rn(r,a),kn(a),d&512&&(wt||l===null||gi(l,l.return)),d&4){var x=l!==null?l.memoizedState:null;if(d=a.memoizedState,l===null)if(d===null)if(a.stateNode===null){e:{d=a.type,l=a.memoizedProps,p=p.ownerDocument||p;t:switch(d){case"title":x=p.getElementsByTagName("title")[0],(!x||x[Va]||x[nt]||x.namespaceURI==="http://www.w3.org/2000/svg"||x.hasAttribute("itemprop"))&&(x=p.createElement(d),p.head.insertBefore(x,p.querySelector("head > title"))),Zt(x,d,l),x[nt]=a,Bt(x),d=x;break e;case"link":var A=E1("link","href",p).get(d+(l.href||""));if(A){for(var M=0;M<A.length;M++)if(x=A[M],x.getAttribute("href")===(l.href==null||l.href===""?null:l.href)&&x.getAttribute("rel")===(l.rel==null?null:l.rel)&&x.getAttribute("title")===(l.title==null?null:l.title)&&x.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){A.splice(M,1);break t}}x=p.createElement(d),Zt(x,d,l),p.head.appendChild(x);break;case"meta":if(A=E1("meta","content",p).get(d+(l.content||""))){for(M=0;M<A.length;M++)if(x=A[M],x.getAttribute("content")===(l.content==null?null:""+l.content)&&x.getAttribute("name")===(l.name==null?null:l.name)&&x.getAttribute("property")===(l.property==null?null:l.property)&&x.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&x.getAttribute("charset")===(l.charSet==null?null:l.charSet)){A.splice(M,1);break t}}x=p.createElement(d),Zt(x,d,l),p.head.appendChild(x);break;default:throw Error(i(468,d))}x[nt]=a,Bt(x),d=x}a.stateNode=d}else v1(p,a.type,a.stateNode);else a.stateNode=x1(p,d,a.memoizedProps);else x!==d?(x===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):x.count--,d===null?v1(p,a.type,a.stateNode):x1(p,d,a.memoizedProps)):d===null&&a.stateNode!==null&&Af(a,a.memoizedProps,l.memoizedProps)}break;case 27:Rn(r,a),kn(a),d&512&&(wt||l===null||gi(l,l.return)),l!==null&&d&4&&Af(a,a.memoizedProps,l.memoizedProps);break;case 5:if(Rn(r,a),kn(a),d&512&&(wt||l===null||gi(l,l.return)),a.flags&32){p=a.stateNode;try{Rr(p,"")}catch(te){yt(a,a.return,te)}}d&4&&a.stateNode!=null&&(p=a.memoizedProps,Af(a,p,l!==null?l.memoizedProps:p)),d&1024&&(Nf=!0);break;case 6:if(Rn(r,a),kn(a),d&4){if(a.stateNode===null)throw Error(i(162));d=a.memoizedProps,l=a.stateNode;try{l.nodeValue=d}catch(te){yt(a,a.return,te)}}break;case 3:if(Uu=null,p=oi,oi=Fu(r.containerInfo),Rn(r,a),oi=p,kn(a),d&4&&l!==null&&l.memoizedState.isDehydrated)try{Po(r.containerInfo)}catch(te){yt(a,a.return,te)}Nf&&(Nf=!1,Ny(a));break;case 4:d=oi,oi=Fu(a.stateNode.containerInfo),Rn(r,a),kn(a),oi=d;break;case 12:Rn(r,a),kn(a);break;case 13:Rn(r,a),kn(a),a.child.flags&8192&&a.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(Of=Rt()),d&4&&(d=a.updateQueue,d!==null&&(a.updateQueue=null,Mf(a,d)));break;case 22:p=a.memoizedState!==null;var F=l!==null&&l.memoizedState!==null,Z=zi,ce=wt;if(zi=Z||p,wt=ce||F,Rn(r,a),wt=ce,zi=Z,kn(a),d&8192)e:for(r=a.stateNode,r._visibility=p?r._visibility&-2:r._visibility|1,p&&(l===null||F||zi||wt||ir(a)),l=null,r=a;;){if(r.tag===5||r.tag===26){if(l===null){F=l=r;try{if(x=F.stateNode,p)A=x.style,typeof A.setProperty=="function"?A.setProperty("display","none","important"):A.display="none";else{M=F.stateNode;var fe=F.memoizedProps.style,ee=fe!=null&&fe.hasOwnProperty("display")?fe.display:null;M.style.display=ee==null||typeof ee=="boolean"?"":(""+ee).trim()}}catch(te){yt(F,F.return,te)}}}else if(r.tag===6){if(l===null){F=r;try{F.stateNode.nodeValue=p?"":F.memoizedProps}catch(te){yt(F,F.return,te)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===a)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===a)break e;for(;r.sibling===null;){if(r.return===null||r.return===a)break e;l===r&&(l=null),r=r.return}l===r&&(l=null),r.sibling.return=r.return,r=r.sibling}d&4&&(d=a.updateQueue,d!==null&&(l=d.retryQueue,l!==null&&(d.retryQueue=null,Mf(a,l))));break;case 19:Rn(r,a),kn(a),d&4&&(d=a.updateQueue,d!==null&&(a.updateQueue=null,Mf(a,d)));break;case 30:break;case 21:break;default:Rn(r,a),kn(a)}}function kn(a){var r=a.flags;if(r&2){try{for(var l,d=a.return;d!==null;){if(xy(d)){l=d;break}d=d.return}if(l==null)throw Error(i(160));switch(l.tag){case 27:var p=l.stateNode,x=_f(a);Au(a,x,p);break;case 5:var A=l.stateNode;l.flags&32&&(Rr(A,""),l.flags&=-33);var M=_f(a);Au(a,M,A);break;case 3:case 4:var F=l.stateNode.containerInfo,Z=_f(a);If(a,Z,F);break;default:throw Error(i(161))}}catch(ce){yt(a,a.return,ce)}a.flags&=-3}r&4096&&(a.flags&=-4097)}function Ny(a){if(a.subtreeFlags&1024)for(a=a.child;a!==null;){var r=a;Ny(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),a=a.sibling}}function la(a,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)Sy(a,r.alternate,r),r=r.sibling}function ir(a){for(a=a.child;a!==null;){var r=a;switch(r.tag){case 0:case 11:case 14:case 15:oa(4,r,r.return),ir(r);break;case 1:gi(r,r.return);var l=r.stateNode;typeof l.componentWillUnmount=="function"&&Ty(r,r.return,l),ir(r);break;case 27:No(r.stateNode);case 26:case 5:gi(r,r.return),ir(r);break;case 22:r.memoizedState===null&&ir(r);break;case 30:ir(r);break;default:ir(r)}a=a.sibling}}function ua(a,r,l){for(l=l&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var d=r.alternate,p=a,x=r,A=x.flags;switch(x.tag){case 0:case 11:case 15:ua(p,x,l),To(4,x);break;case 1:if(ua(p,x,l),d=x,p=d.stateNode,typeof p.componentDidMount=="function")try{p.componentDidMount()}catch(Z){yt(d,d.return,Z)}if(d=x,p=d.updateQueue,p!==null){var M=d.stateNode;try{var F=p.shared.hiddenCallbacks;if(F!==null)for(p.shared.hiddenCallbacks=null,p=0;p<F.length;p++)ig(F[p],M)}catch(Z){yt(d,d.return,Z)}}l&&A&64&&yy(x),bo(x,x.return);break;case 27:Ey(x);case 26:case 5:ua(p,x,l),l&&d===null&&A&4&&by(x),bo(x,x.return);break;case 12:ua(p,x,l);break;case 13:ua(p,x,l),l&&A&4&&_y(p,x);break;case 22:x.memoizedState===null&&ua(p,x,l),bo(x,x.return);break;case 30:break;default:ua(p,x,l)}r=r.sibling}}function Df(a,r){var l=null;a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(l=a.memoizedState.cachePool.pool),a=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(a=r.memoizedState.cachePool.pool),a!==l&&(a!=null&&a.refCount++,l!=null&&io(l))}function Rf(a,r){a=null,r.alternate!==null&&(a=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==a&&(r.refCount++,a!=null&&io(a))}function yi(a,r,l,d){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)My(a,r,l,d),r=r.sibling}function My(a,r,l,d){var p=r.flags;switch(r.tag){case 0:case 11:case 15:yi(a,r,l,d),p&2048&&To(9,r);break;case 1:yi(a,r,l,d);break;case 3:yi(a,r,l,d),p&2048&&(a=null,r.alternate!==null&&(a=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==a&&(r.refCount++,a!=null&&io(a)));break;case 12:if(p&2048){yi(a,r,l,d),a=r.stateNode;try{var x=r.memoizedProps,A=x.id,M=x.onPostCommit;typeof M=="function"&&M(A,r.alternate===null?"mount":"update",a.passiveEffectDuration,-0)}catch(F){yt(r,r.return,F)}}else yi(a,r,l,d);break;case 13:yi(a,r,l,d);break;case 23:break;case 22:x=r.stateNode,A=r.alternate,r.memoizedState!==null?x._visibility&2?yi(a,r,l,d):xo(a,r):x._visibility&2?yi(a,r,l,d):(x._visibility|=2,Wr(a,r,l,d,(r.subtreeFlags&10256)!==0)),p&2048&&Df(A,r);break;case 24:yi(a,r,l,d),p&2048&&Rf(r.alternate,r);break;default:yi(a,r,l,d)}}function Wr(a,r,l,d,p){for(p=p&&(r.subtreeFlags&10256)!==0,r=r.child;r!==null;){var x=a,A=r,M=l,F=d,Z=A.flags;switch(A.tag){case 0:case 11:case 15:Wr(x,A,M,F,p),To(8,A);break;case 23:break;case 22:var ce=A.stateNode;A.memoizedState!==null?ce._visibility&2?Wr(x,A,M,F,p):xo(x,A):(ce._visibility|=2,Wr(x,A,M,F,p)),p&&Z&2048&&Df(A.alternate,A);break;case 24:Wr(x,A,M,F,p),p&&Z&2048&&Rf(A.alternate,A);break;default:Wr(x,A,M,F,p)}r=r.sibling}}function xo(a,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var l=a,d=r,p=d.flags;switch(d.tag){case 22:xo(l,d),p&2048&&Df(d.alternate,d);break;case 24:xo(l,d),p&2048&&Rf(d.alternate,d);break;default:xo(l,d)}r=r.sibling}}var Eo=8192;function Qr(a){if(a.subtreeFlags&Eo)for(a=a.child;a!==null;)Dy(a),a=a.sibling}function Dy(a){switch(a.tag){case 26:Qr(a),a.flags&Eo&&a.memoizedState!==null&&L_(oi,a.memoizedState,a.memoizedProps);break;case 5:Qr(a);break;case 3:case 4:var r=oi;oi=Fu(a.stateNode.containerInfo),Qr(a),oi=r;break;case 22:a.memoizedState===null&&(r=a.alternate,r!==null&&r.memoizedState!==null?(r=Eo,Eo=16777216,Qr(a),Eo=r):Qr(a));break;default:Qr(a)}}function Ry(a){var r=a.alternate;if(r!==null&&(a=r.child,a!==null)){r.child=null;do r=a.sibling,a.sibling=null,a=r;while(a!==null)}}function vo(a){var r=a.deletions;if((a.flags&16)!==0){if(r!==null)for(var l=0;l<r.length;l++){var d=r[l];Kt=d,wy(d,a)}Ry(a)}if(a.subtreeFlags&10256)for(a=a.child;a!==null;)ky(a),a=a.sibling}function ky(a){switch(a.tag){case 0:case 11:case 15:vo(a),a.flags&2048&&oa(9,a,a.return);break;case 3:vo(a);break;case 12:vo(a);break;case 22:var r=a.stateNode;a.memoizedState!==null&&r._visibility&2&&(a.return===null||a.return.tag!==13)?(r._visibility&=-3,_u(a)):vo(a);break;default:vo(a)}}function _u(a){var r=a.deletions;if((a.flags&16)!==0){if(r!==null)for(var l=0;l<r.length;l++){var d=r[l];Kt=d,wy(d,a)}Ry(a)}for(a=a.child;a!==null;){switch(r=a,r.tag){case 0:case 11:case 15:oa(8,r,r.return),_u(r);break;case 22:l=r.stateNode,l._visibility&2&&(l._visibility&=-3,_u(r));break;default:_u(r)}a=a.sibling}}function wy(a,r){for(;Kt!==null;){var l=Kt;switch(l.tag){case 0:case 11:case 15:oa(8,l,r);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var d=l.memoizedState.cachePool.pool;d!=null&&d.refCount++}break;case 24:io(l.memoizedState.cache)}if(d=l.child,d!==null)d.return=l,Kt=d;else e:for(l=a;Kt!==null;){d=Kt;var p=d.sibling,x=d.return;if(Cy(d),d===l){Kt=null;break e}if(p!==null){p.return=x,Kt=p;break e}Kt=x}}}var WA={getCacheForType:function(a){var r=an(jt),l=r.data.get(a);return l===void 0&&(l=a(),r.data.set(a,l)),l}},QA=typeof WeakMap=="function"?WeakMap:Map,ct=0,bt=null,Je=null,it=0,dt=0,wn=null,ca=!1,Jr=!1,kf=!1,Gi=0,Nt=0,da=0,ar=0,wf=0,$n=0,Zr=0,So=null,vn=null,Lf=!1,Of=0,Iu=1/0,Nu=null,fa=null,Jt=0,ma=null,es=null,ts=0,Pf=0,Bf=null,Ly=null,Co=0,Ff=null;function Ln(){if((ct&2)!==0&&it!==0)return it&-it;if(W.T!==null){var a=zr;return a!==0?a:qf()}return xe()}function Oy(){$n===0&&($n=(it&536870912)===0||lt?Fl():536870912);var a=Kn.current;return a!==null&&(a.flags|=32),$n}function On(a,r,l){(a===bt&&(dt===2||dt===9)||a.cancelPendingCommit!==null)&&(ns(a,0),ha(a,it,$n,!1)),Ua(a,l),((ct&2)===0||a!==bt)&&(a===bt&&((ct&2)===0&&(ar|=l),Nt===4&&ha(a,it,$n,!1)),Ti(a))}function Py(a,r,l){if((ct&6)!==0)throw Error(i(327));var d=!l&&(r&124)===0&&(r&a.expiredLanes)===0||pn(a,r),p=d?e_(a,r):Vf(a,r,!0),x=d;do{if(p===0){Jr&&!d&&ha(a,r,0,!1);break}else{if(l=a.current.alternate,x&&!JA(l)){p=Vf(a,r,!1),x=!1;continue}if(p===2){if(x=r,a.errorRecoveryDisabledLanes&x)var A=0;else A=a.pendingLanes&-536870913,A=A!==0?A:A&536870912?536870912:0;if(A!==0){r=A;e:{var M=a;p=So;var F=M.current.memoizedState.isDehydrated;if(F&&(ns(M,A).flags|=256),A=Vf(M,A,!1),A!==2){if(kf&&!F){M.errorRecoveryDisabledLanes|=x,ar|=x,p=4;break e}x=vn,vn=p,x!==null&&(vn===null?vn=x:vn.push.apply(vn,x))}p=A}if(x=!1,p!==2)continue}}if(p===1){ns(a,0),ha(a,r,0,!0);break}e:{switch(d=a,x=p,x){case 0:case 1:throw Error(i(345));case 4:if((r&4194048)!==r)break;case 6:ha(d,r,$n,!ca);break e;case 2:vn=null;break;case 3:case 5:break;default:throw Error(i(329))}if((r&62914560)===r&&(p=Of+300-Rt(),10<p)){if(ha(d,r,$n,!ca),Pt(d,0,!0)!==0)break e;d.timeoutHandle=d1(By.bind(null,d,l,vn,Nu,Lf,r,$n,ar,Zr,ca,x,2,-0,0),p);break e}By(d,l,vn,Nu,Lf,r,$n,ar,Zr,ca,x,0,-0,0)}}break}while(!0);Ti(a)}function By(a,r,l,d,p,x,A,M,F,Z,ce,fe,ee,te){if(a.timeoutHandle=-1,fe=r.subtreeFlags,(fe&8192||(fe&16785408)===16785408)&&(Ro={stylesheets:null,count:0,unsuspend:w_},Dy(r),fe=O_(),fe!==null)){a.cancelPendingCommit=fe(Gy.bind(null,a,r,x,l,d,p,A,M,F,ce,1,ee,te)),ha(a,x,A,!Z);return}Gy(a,r,x,l,d,p,A,M,F)}function JA(a){for(var r=a;;){var l=r.tag;if((l===0||l===11||l===15)&&r.flags&16384&&(l=r.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var d=0;d<l.length;d++){var p=l[d],x=p.getSnapshot;p=p.value;try{if(!Mn(x(),p))return!1}catch{return!1}}if(l=r.child,r.subtreeFlags&16384&&l!==null)l.return=r,r=l;else{if(r===a)break;for(;r.sibling===null;){if(r.return===null||r.return===a)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function ha(a,r,l,d){r&=~wf,r&=~ar,a.suspendedLanes|=r,a.pingedLanes&=~r,d&&(a.warmLanes|=r),d=a.expirationTimes;for(var p=r;0<p;){var x=31-ke(p),A=1<<x;d[x]=-1,p&=~A}l!==0&&Nn(a,l,r)}function Mu(){return(ct&6)===0?(Ao(0),!1):!0}function Hf(){if(Je!==null){if(dt===0)var a=Je.return;else a=Je,Pi=Ja=null,tf(a),$r=null,po=0,a=Je;for(;a!==null;)gy(a.alternate,a),a=a.return;Je=null}}function ns(a,r){var l=a.timeoutHandle;l!==-1&&(a.timeoutHandle=-1,g_(l)),l=a.cancelPendingCommit,l!==null&&(a.cancelPendingCommit=null,l()),Hf(),bt=a,Je=l=wi(a.current,null),it=r,dt=0,wn=null,ca=!1,Jr=pn(a,r),kf=!1,Zr=$n=wf=ar=da=Nt=0,vn=So=null,Lf=!1,(r&8)!==0&&(r|=r&32);var d=a.entangledLanes;if(d!==0)for(a=a.entanglements,d&=r;0<d;){var p=31-ke(d),x=1<<p;r|=a[p],d&=~x}return Gi=r,Ql(),l}function Fy(a,r){Ke=null,W.H=gu,r===ro||r===su?(r=tg(),dt=3):r===Jp?(r=tg(),dt=4):dt=r===ny?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,wn=r,Je===null&&(Nt=1,Eu(a,jn(r,a.current)))}function Hy(){var a=W.H;return W.H=gu,a===null?gu:a}function Uy(){var a=W.A;return W.A=WA,a}function Uf(){Nt=4,ca||(it&4194048)!==it&&Kn.current!==null||(Jr=!0),(da&134217727)===0&&(ar&134217727)===0||bt===null||ha(bt,it,$n,!1)}function Vf(a,r,l){var d=ct;ct|=2;var p=Hy(),x=Uy();(bt!==a||it!==r)&&(Nu=null,ns(a,r)),r=!1;var A=Nt;e:do try{if(dt!==0&&Je!==null){var M=Je,F=wn;switch(dt){case 8:Hf(),A=6;break e;case 3:case 2:case 9:case 6:Kn.current===null&&(r=!0);var Z=dt;if(dt=0,wn=null,is(a,M,F,Z),l&&Jr){A=0;break e}break;default:Z=dt,dt=0,wn=null,is(a,M,F,Z)}}ZA(),A=Nt;break}catch(ce){Fy(a,ce)}while(!0);return r&&a.shellSuspendCounter++,Pi=Ja=null,ct=d,W.H=p,W.A=x,Je===null&&(bt=null,it=0,Ql()),A}function ZA(){for(;Je!==null;)Vy(Je)}function e_(a,r){var l=ct;ct|=2;var d=Hy(),p=Uy();bt!==a||it!==r?(Nu=null,Iu=Rt()+500,ns(a,r)):Jr=pn(a,r);e:do try{if(dt!==0&&Je!==null){r=Je;var x=wn;t:switch(dt){case 1:dt=0,wn=null,is(a,r,x,1);break;case 2:case 9:if(Zp(x)){dt=0,wn=null,zy(r);break}r=function(){dt!==2&&dt!==9||bt!==a||(dt=7),Ti(a)},x.then(r,r);break e;case 3:dt=7;break e;case 4:dt=5;break e;case 7:Zp(x)?(dt=0,wn=null,zy(r)):(dt=0,wn=null,is(a,r,x,7));break;case 5:var A=null;switch(Je.tag){case 26:A=Je.memoizedState;case 5:case 27:var M=Je;if(!A||S1(A)){dt=0,wn=null;var F=M.sibling;if(F!==null)Je=F;else{var Z=M.return;Z!==null?(Je=Z,Du(Z)):Je=null}break t}}dt=0,wn=null,is(a,r,x,5);break;case 6:dt=0,wn=null,is(a,r,x,6);break;case 8:Hf(),Nt=6;break e;default:throw Error(i(462))}}t_();break}catch(ce){Fy(a,ce)}while(!0);return Pi=Ja=null,W.H=d,W.A=p,ct=l,Je!==null?0:(bt=null,it=0,Ql(),Nt)}function t_(){for(;Je!==null&&!ft();)Vy(Je)}function Vy(a){var r=hy(a.alternate,a,Gi);a.memoizedProps=a.pendingProps,r===null?Du(a):Je=r}function zy(a){var r=a,l=r.alternate;switch(r.tag){case 15:case 0:r=ly(l,r,r.pendingProps,r.type,void 0,it);break;case 11:r=ly(l,r,r.pendingProps,r.type.render,r.ref,it);break;case 5:tf(r);default:gy(l,r),r=Je=jp(r,Gi),r=hy(l,r,Gi)}a.memoizedProps=a.pendingProps,r===null?Du(a):Je=r}function is(a,r,l,d){Pi=Ja=null,tf(r),$r=null,po=0;var p=r.return;try{if(GA(a,p,r,l,it)){Nt=1,Eu(a,jn(l,a.current)),Je=null;return}}catch(x){if(p!==null)throw Je=p,x;Nt=1,Eu(a,jn(l,a.current)),Je=null;return}r.flags&32768?(lt||d===1?a=!0:Jr||(it&536870912)!==0?a=!1:(ca=a=!0,(d===2||d===9||d===3||d===6)&&(d=Kn.current,d!==null&&d.tag===13&&(d.flags|=16384))),jy(r,a)):Du(r)}function Du(a){var r=a;do{if((r.flags&32768)!==0){jy(r,ca);return}a=r.return;var l=YA(r.alternate,r,Gi);if(l!==null){Je=l;return}if(r=r.sibling,r!==null){Je=r;return}Je=r=a}while(r!==null);Nt===0&&(Nt=5)}function jy(a,r){do{var l=KA(a.alternate,a);if(l!==null){l.flags&=32767,Je=l;return}if(l=a.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!r&&(a=a.sibling,a!==null)){Je=a;return}Je=a=l}while(a!==null);Nt=6,Je=null}function Gy(a,r,l,d,p,x,A,M,F){a.cancelPendingCommit=null;do Ru();while(Jt!==0);if((ct&6)!==0)throw Error(i(327));if(r!==null){if(r===a.current)throw Error(i(177));if(x=r.lanes|r.childLanes,x|=Dd,ad(a,l,x,A,M,F),a===bt&&(Je=bt=null,it=0),es=r,ma=a,ts=l,Pf=x,Bf=p,Ly=d,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(a.callbackNode=null,a.callbackPriority=0,r_(Ni,function(){return Xy(),null})):(a.callbackNode=null,a.callbackPriority=0),d=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||d){d=W.T,W.T=null,p=z.p,z.p=2,A=ct,ct|=4;try{$A(a,r,l)}finally{ct=A,z.p=p,W.T=d}}Jt=1,qy(),Yy(),Ky()}}function qy(){if(Jt===1){Jt=0;var a=ma,r=es,l=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||l){l=W.T,W.T=null;var d=z.p;z.p=2;var p=ct;ct|=4;try{Iy(r,a);var x=Zf,A=wp(a.containerInfo),M=x.focusedElem,F=x.selectionRange;if(A!==M&&M&&M.ownerDocument&&kp(M.ownerDocument.documentElement,M)){if(F!==null&&Ad(M)){var Z=F.start,ce=F.end;if(ce===void 0&&(ce=Z),"selectionStart"in M)M.selectionStart=Z,M.selectionEnd=Math.min(ce,M.value.length);else{var fe=M.ownerDocument||document,ee=fe&&fe.defaultView||window;if(ee.getSelection){var te=ee.getSelection(),Be=M.textContent.length,Oe=Math.min(F.start,Be),gt=F.end===void 0?Oe:Math.min(F.end,Be);!te.extend&&Oe>gt&&(A=gt,gt=Oe,Oe=A);var X=Rp(M,Oe),G=Rp(M,gt);if(X&&G&&(te.rangeCount!==1||te.anchorNode!==X.node||te.anchorOffset!==X.offset||te.focusNode!==G.node||te.focusOffset!==G.offset)){var Q=fe.createRange();Q.setStart(X.node,X.offset),te.removeAllRanges(),Oe>gt?(te.addRange(Q),te.extend(G.node,G.offset)):(Q.setEnd(G.node,G.offset),te.addRange(Q))}}}}for(fe=[],te=M;te=te.parentNode;)te.nodeType===1&&fe.push({element:te,left:te.scrollLeft,top:te.scrollTop});for(typeof M.focus=="function"&&M.focus(),M=0;M<fe.length;M++){var de=fe[M];de.element.scrollLeft=de.left,de.element.scrollTop=de.top}}ju=!!Jf,Zf=Jf=null}finally{ct=p,z.p=d,W.T=l}}a.current=r,Jt=2}}function Yy(){if(Jt===2){Jt=0;var a=ma,r=es,l=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||l){l=W.T,W.T=null;var d=z.p;z.p=2;var p=ct;ct|=4;try{Sy(a,r.alternate,r)}finally{ct=p,z.p=d,W.T=l}}Jt=3}}function Ky(){if(Jt===4||Jt===3){Jt=0,mt();var a=ma,r=es,l=ts,d=Ly;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?Jt=5:(Jt=0,es=ma=null,$y(a,a.pendingLanes));var p=a.pendingLanes;if(p===0&&(fa=null),ne(l),r=r.stateNode,Te&&typeof Te.onCommitFiberRoot=="function")try{Te.onCommitFiberRoot(le,r,void 0,(r.current.flags&128)===128)}catch{}if(d!==null){r=W.T,p=z.p,z.p=2,W.T=null;try{for(var x=a.onRecoverableError,A=0;A<d.length;A++){var M=d[A];x(M.value,{componentStack:M.stack})}}finally{W.T=r,z.p=p}}(ts&3)!==0&&Ru(),Ti(a),p=a.pendingLanes,(l&4194090)!==0&&(p&42)!==0?a===Ff?Co++:(Co=0,Ff=a):Co=0,Ao(0)}}function $y(a,r){(a.pooledCacheLanes&=r)===0&&(r=a.pooledCache,r!=null&&(a.pooledCache=null,io(r)))}function Ru(a){return qy(),Yy(),Ky(),Xy()}function Xy(){if(Jt!==5)return!1;var a=ma,r=Pf;Pf=0;var l=ne(ts),d=W.T,p=z.p;try{z.p=32>l?32:l,W.T=null,l=Bf,Bf=null;var x=ma,A=ts;if(Jt=0,es=ma=null,ts=0,(ct&6)!==0)throw Error(i(331));var M=ct;if(ct|=4,ky(x.current),My(x,x.current,A,l),ct=M,Ao(0,!1),Te&&typeof Te.onPostCommitFiberRoot=="function")try{Te.onPostCommitFiberRoot(le,x)}catch{}return!0}finally{z.p=p,W.T=d,$y(a,r)}}function Wy(a,r,l){r=jn(l,r),r=gf(a.stateNode,r,2),a=ia(a,r,2),a!==null&&(Ua(a,2),Ti(a))}function yt(a,r,l){if(a.tag===3)Wy(a,a,l);else for(;r!==null;){if(r.tag===3){Wy(r,a,l);break}else if(r.tag===1){var d=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof d.componentDidCatch=="function"&&(fa===null||!fa.has(d))){a=jn(l,a),l=ey(2),d=ia(r,l,2),d!==null&&(ty(l,d,r,a),Ua(d,2),Ti(d));break}}r=r.return}}function zf(a,r,l){var d=a.pingCache;if(d===null){d=a.pingCache=new QA;var p=new Set;d.set(r,p)}else p=d.get(r),p===void 0&&(p=new Set,d.set(r,p));p.has(l)||(kf=!0,p.add(l),a=n_.bind(null,a,r,l),r.then(a,a))}function n_(a,r,l){var d=a.pingCache;d!==null&&d.delete(r),a.pingedLanes|=a.suspendedLanes&l,a.warmLanes&=~l,bt===a&&(it&l)===l&&(Nt===4||Nt===3&&(it&62914560)===it&&300>Rt()-Of?(ct&2)===0&&ns(a,0):wf|=l,Zr===it&&(Zr=0)),Ti(a)}function Qy(a,r){r===0&&(r=Hl()),a=Fr(a,r),a!==null&&(Ua(a,r),Ti(a))}function i_(a){var r=a.memoizedState,l=0;r!==null&&(l=r.retryLane),Qy(a,l)}function a_(a,r){var l=0;switch(a.tag){case 13:var d=a.stateNode,p=a.memoizedState;p!==null&&(l=p.retryLane);break;case 19:d=a.stateNode;break;case 22:d=a.stateNode._retryCache;break;default:throw Error(i(314))}d!==null&&d.delete(r),Qy(a,l)}function r_(a,r){return Ge(a,r)}var ku=null,as=null,jf=!1,wu=!1,Gf=!1,rr=0;function Ti(a){a!==as&&a.next===null&&(as===null?ku=as=a:as=as.next=a),wu=!0,jf||(jf=!0,o_())}function Ao(a,r){if(!Gf&&wu){Gf=!0;do for(var l=!1,d=ku;d!==null;){if(a!==0){var p=d.pendingLanes;if(p===0)var x=0;else{var A=d.suspendedLanes,M=d.pingedLanes;x=(1<<31-ke(42|a)+1)-1,x&=p&~(A&~M),x=x&201326741?x&201326741|1:x?x|2:0}x!==0&&(l=!0,t1(d,x))}else x=it,x=Pt(d,d===bt?x:0,d.cancelPendingCommit!==null||d.timeoutHandle!==-1),(x&3)===0||pn(d,x)||(l=!0,t1(d,x));d=d.next}while(l);Gf=!1}}function s_(){Jy()}function Jy(){wu=jf=!1;var a=0;rr!==0&&(p_()&&(a=rr),rr=0);for(var r=Rt(),l=null,d=ku;d!==null;){var p=d.next,x=Zy(d,r);x===0?(d.next=null,l===null?ku=p:l.next=p,p===null&&(as=l)):(l=d,(a!==0||(x&3)!==0)&&(wu=!0)),d=p}Ao(a)}function Zy(a,r){for(var l=a.suspendedLanes,d=a.pingedLanes,p=a.expirationTimes,x=a.pendingLanes&-62914561;0<x;){var A=31-ke(x),M=1<<A,F=p[A];F===-1?((M&l)===0||(M&d)!==0)&&(p[A]=gn(M,r)):F<=r&&(a.expiredLanes|=M),x&=~M}if(r=bt,l=it,l=Pt(a,a===r?l:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),d=a.callbackNode,l===0||a===r&&(dt===2||dt===9)||a.cancelPendingCommit!==null)return d!==null&&d!==null&&we(d),a.callbackNode=null,a.callbackPriority=0;if((l&3)===0||pn(a,l)){if(r=l&-l,r===a.callbackPriority)return r;switch(d!==null&&we(d),ne(l)){case 2:case 8:l=Wi;break;case 32:l=Ni;break;case 268435456:l=qt;break;default:l=Ni}return d=e1.bind(null,a),l=Ge(l,d),a.callbackPriority=r,a.callbackNode=l,r}return d!==null&&d!==null&&we(d),a.callbackPriority=2,a.callbackNode=null,2}function e1(a,r){if(Jt!==0&&Jt!==5)return a.callbackNode=null,a.callbackPriority=0,null;var l=a.callbackNode;if(Ru()&&a.callbackNode!==l)return null;var d=it;return d=Pt(a,a===bt?d:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),d===0?null:(Py(a,d,r),Zy(a,Rt()),a.callbackNode!=null&&a.callbackNode===l?e1.bind(null,a):null)}function t1(a,r){if(Ru())return null;Py(a,r,!0)}function o_(){y_(function(){(ct&6)!==0?Ge(Fa,s_):Jy()})}function qf(){return rr===0&&(rr=Fl()),rr}function n1(a){return a==null||typeof a=="symbol"||typeof a=="boolean"?null:typeof a=="function"?a:Gl(""+a)}function i1(a,r){var l=r.ownerDocument.createElement("input");return l.name=r.name,l.value=r.value,a.id&&l.setAttribute("form",a.id),r.parentNode.insertBefore(l,r),a=new FormData(a),l.parentNode.removeChild(l),a}function l_(a,r,l,d,p){if(r==="submit"&&l&&l.stateNode===p){var x=n1((p[Qe]||null).action),A=d.submitter;A&&(r=(r=A[Qe]||null)?n1(r.formAction):A.getAttribute("formAction"),r!==null&&(x=r,A=null));var M=new $l("action","action",null,d,p);a.push({event:M,listeners:[{instance:null,listener:function(){if(d.defaultPrevented){if(rr!==0){var F=A?i1(p,A):new FormData(p);df(l,{pending:!0,data:F,method:p.method,action:x},null,F)}}else typeof x=="function"&&(M.preventDefault(),F=A?i1(p,A):new FormData(p),df(l,{pending:!0,data:F,method:p.method,action:x},x,F))},currentTarget:p}]})}}for(var Yf=0;Yf<Md.length;Yf++){var Kf=Md[Yf],u_=Kf.toLowerCase(),c_=Kf[0].toUpperCase()+Kf.slice(1);si(u_,"on"+c_)}si(Pp,"onAnimationEnd"),si(Bp,"onAnimationIteration"),si(Fp,"onAnimationStart"),si("dblclick","onDoubleClick"),si("focusin","onFocus"),si("focusout","onBlur"),si(IA,"onTransitionRun"),si(NA,"onTransitionStart"),si(MA,"onTransitionCancel"),si(Hp,"onTransitionEnd"),ja("onMouseEnter",["mouseout","mouseover"]),ja("onMouseLeave",["mouseout","mouseover"]),ja("onPointerEnter",["pointerout","pointerover"]),ja("onPointerLeave",["pointerout","pointerover"]),Di("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Di("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Di("onBeforeInput",["compositionend","keypress","textInput","paste"]),Di("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Di("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Di("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var _o="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),d_=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(_o));function a1(a,r){r=(r&4)!==0;for(var l=0;l<a.length;l++){var d=a[l],p=d.event;d=d.listeners;e:{var x=void 0;if(r)for(var A=d.length-1;0<=A;A--){var M=d[A],F=M.instance,Z=M.currentTarget;if(M=M.listener,F!==x&&p.isPropagationStopped())break e;x=M,p.currentTarget=Z;try{x(p)}catch(ce){xu(ce)}p.currentTarget=null,x=F}else for(A=0;A<d.length;A++){if(M=d[A],F=M.instance,Z=M.currentTarget,M=M.listener,F!==x&&p.isPropagationStopped())break e;x=M,p.currentTarget=Z;try{x(p)}catch(ce){xu(ce)}p.currentTarget=null,x=F}}}}function Ze(a,r){var l=r[Us];l===void 0&&(l=r[Us]=new Set);var d=a+"__bubble";l.has(d)||(r1(r,a,2,!1),l.add(d))}function $f(a,r,l){var d=0;r&&(d|=4),r1(l,a,d,r)}var Lu="_reactListening"+Math.random().toString(36).slice(2);function Xf(a){if(!a[Lu]){a[Lu]=!0,Vl.forEach(function(l){l!=="selectionchange"&&(d_.has(l)||$f(l,!1,a),$f(l,!0,a))});var r=a.nodeType===9?a:a.ownerDocument;r===null||r[Lu]||(r[Lu]=!0,$f("selectionchange",!1,r))}}function r1(a,r,l,d){switch(M1(r)){case 2:var p=F_;break;case 8:p=H_;break;default:p=um}l=p.bind(null,r,l,a),p=void 0,!gd||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(p=!0),d?p!==void 0?a.addEventListener(r,l,{capture:!0,passive:p}):a.addEventListener(r,l,!0):p!==void 0?a.addEventListener(r,l,{passive:p}):a.addEventListener(r,l,!1)}function Wf(a,r,l,d,p){var x=d;if((r&1)===0&&(r&2)===0&&d!==null)e:for(;;){if(d===null)return;var A=d.tag;if(A===3||A===4){var M=d.stateNode.containerInfo;if(M===p)break;if(A===4)for(A=d.return;A!==null;){var F=A.tag;if((F===3||F===4)&&A.stateNode.containerInfo===p)return;A=A.return}for(;M!==null;){if(A=ri(M),A===null)return;if(F=A.tag,F===5||F===6||F===26||F===27){d=x=A;continue e}M=M.parentNode}}d=d.return}fp(function(){var Z=x,ce=hd(l),fe=[];e:{var ee=Up.get(a);if(ee!==void 0){var te=$l,Be=a;switch(a){case"keypress":if(Yl(l)===0)break e;case"keydown":case"keyup":te=rA;break;case"focusin":Be="focus",te=xd;break;case"focusout":Be="blur",te=xd;break;case"beforeblur":case"afterblur":te=xd;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":te=pp;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":te=KC;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":te=lA;break;case Pp:case Bp:case Fp:te=WC;break;case Hp:te=cA;break;case"scroll":case"scrollend":te=qC;break;case"wheel":te=fA;break;case"copy":case"cut":case"paste":te=JC;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":te=yp;break;case"toggle":case"beforetoggle":te=hA}var Oe=(r&4)!==0,gt=!Oe&&(a==="scroll"||a==="scrollend"),X=Oe?ee!==null?ee+"Capture":null:ee;Oe=[];for(var G=Z,Q;G!==null;){var de=G;if(Q=de.stateNode,de=de.tag,de!==5&&de!==26&&de!==27||Q===null||X===null||(de=Gs(G,X),de!=null&&Oe.push(Io(G,de,Q))),gt)break;G=G.return}0<Oe.length&&(ee=new te(ee,Be,null,l,ce),fe.push({event:ee,listeners:Oe}))}}if((r&7)===0){e:{if(ee=a==="mouseover"||a==="pointerover",te=a==="mouseout"||a==="pointerout",ee&&l!==md&&(Be=l.relatedTarget||l.fromElement)&&(ri(Be)||Be[ai]))break e;if((te||ee)&&(ee=ce.window===ce?ce:(ee=ce.ownerDocument)?ee.defaultView||ee.parentWindow:window,te?(Be=l.relatedTarget||l.toElement,te=Z,Be=Be?ri(Be):null,Be!==null&&(gt=o(Be),Oe=Be.tag,Be!==gt||Oe!==5&&Oe!==27&&Oe!==6)&&(Be=null)):(te=null,Be=Z),te!==Be)){if(Oe=pp,de="onMouseLeave",X="onMouseEnter",G="mouse",(a==="pointerout"||a==="pointerover")&&(Oe=yp,de="onPointerLeave",X="onPointerEnter",G="pointer"),gt=te==null?ee:za(te),Q=Be==null?ee:za(Be),ee=new Oe(de,G+"leave",te,l,ce),ee.target=gt,ee.relatedTarget=Q,de=null,ri(ce)===Z&&(Oe=new Oe(X,G+"enter",Be,l,ce),Oe.target=Q,Oe.relatedTarget=gt,de=Oe),gt=de,te&&Be)t:{for(Oe=te,X=Be,G=0,Q=Oe;Q;Q=rs(Q))G++;for(Q=0,de=X;de;de=rs(de))Q++;for(;0<G-Q;)Oe=rs(Oe),G--;for(;0<Q-G;)X=rs(X),Q--;for(;G--;){if(Oe===X||X!==null&&Oe===X.alternate)break t;Oe=rs(Oe),X=rs(X)}Oe=null}else Oe=null;te!==null&&s1(fe,ee,te,Oe,!1),Be!==null&&gt!==null&&s1(fe,gt,Be,Oe,!0)}}e:{if(ee=Z?za(Z):window,te=ee.nodeName&&ee.nodeName.toLowerCase(),te==="select"||te==="input"&&ee.type==="file")var Ne=Ap;else if(Sp(ee))if(_p)Ne=CA;else{Ne=vA;var Xe=EA}else te=ee.nodeName,!te||te.toLowerCase()!=="input"||ee.type!=="checkbox"&&ee.type!=="radio"?Z&&fd(Z.elementType)&&(Ne=Ap):Ne=SA;if(Ne&&(Ne=Ne(a,Z))){Cp(fe,Ne,l,ce);break e}Xe&&Xe(a,ee,Z),a==="focusout"&&Z&&ee.type==="number"&&Z.memoizedProps.value!=null&&dd(ee,"number",ee.value)}switch(Xe=Z?za(Z):window,a){case"focusin":(Sp(Xe)||Xe.contentEditable==="true")&&(Or=Xe,_d=Z,Js=null);break;case"focusout":Js=_d=Or=null;break;case"mousedown":Id=!0;break;case"contextmenu":case"mouseup":case"dragend":Id=!1,Lp(fe,l,ce);break;case"selectionchange":if(_A)break;case"keydown":case"keyup":Lp(fe,l,ce)}var De;if(vd)e:{switch(a){case"compositionstart":var Pe="onCompositionStart";break e;case"compositionend":Pe="onCompositionEnd";break e;case"compositionupdate":Pe="onCompositionUpdate";break e}Pe=void 0}else Lr?Ep(a,l)&&(Pe="onCompositionEnd"):a==="keydown"&&l.keyCode===229&&(Pe="onCompositionStart");Pe&&(Tp&&l.locale!=="ko"&&(Lr||Pe!=="onCompositionStart"?Pe==="onCompositionEnd"&&Lr&&(De=mp()):(Zi=ce,yd="value"in Zi?Zi.value:Zi.textContent,Lr=!0)),Xe=Ou(Z,Pe),0<Xe.length&&(Pe=new gp(Pe,a,null,l,ce),fe.push({event:Pe,listeners:Xe}),De?Pe.data=De:(De=vp(l),De!==null&&(Pe.data=De)))),(De=gA?yA(a,l):TA(a,l))&&(Pe=Ou(Z,"onBeforeInput"),0<Pe.length&&(Xe=new gp("onBeforeInput","beforeinput",null,l,ce),fe.push({event:Xe,listeners:Pe}),Xe.data=De)),l_(fe,a,Z,l,ce)}a1(fe,r)})}function Io(a,r,l){return{instance:a,listener:r,currentTarget:l}}function Ou(a,r){for(var l=r+"Capture",d=[];a!==null;){var p=a,x=p.stateNode;if(p=p.tag,p!==5&&p!==26&&p!==27||x===null||(p=Gs(a,l),p!=null&&d.unshift(Io(a,p,x)),p=Gs(a,r),p!=null&&d.push(Io(a,p,x))),a.tag===3)return d;a=a.return}return[]}function rs(a){if(a===null)return null;do a=a.return;while(a&&a.tag!==5&&a.tag!==27);return a||null}function s1(a,r,l,d,p){for(var x=r._reactName,A=[];l!==null&&l!==d;){var M=l,F=M.alternate,Z=M.stateNode;if(M=M.tag,F!==null&&F===d)break;M!==5&&M!==26&&M!==27||Z===null||(F=Z,p?(Z=Gs(l,x),Z!=null&&A.unshift(Io(l,Z,F))):p||(Z=Gs(l,x),Z!=null&&A.push(Io(l,Z,F)))),l=l.return}A.length!==0&&a.push({event:r,listeners:A})}var f_=/\r\n?/g,m_=/\u0000|\uFFFD/g;function o1(a){return(typeof a=="string"?a:""+a).replace(f_,`
`).replace(m_,"")}function l1(a,r){return r=o1(r),o1(a)===r}function Pu(){}function pt(a,r,l,d,p,x){switch(l){case"children":typeof d=="string"?r==="body"||r==="textarea"&&d===""||Rr(a,d):(typeof d=="number"||typeof d=="bigint")&&r!=="body"&&Rr(a,""+d);break;case"className":Ji(a,"class",d);break;case"tabIndex":Ji(a,"tabindex",d);break;case"dir":case"role":case"viewBox":case"width":case"height":Ji(a,l,d);break;case"style":cp(a,d,x);break;case"data":if(r!=="object"){Ji(a,"data",d);break}case"src":case"href":if(d===""&&(r!=="a"||l!=="href")){a.removeAttribute(l);break}if(d==null||typeof d=="function"||typeof d=="symbol"||typeof d=="boolean"){a.removeAttribute(l);break}d=Gl(""+d),a.setAttribute(l,d);break;case"action":case"formAction":if(typeof d=="function"){a.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof x=="function"&&(l==="formAction"?(r!=="input"&&pt(a,r,"name",p.name,p,null),pt(a,r,"formEncType",p.formEncType,p,null),pt(a,r,"formMethod",p.formMethod,p,null),pt(a,r,"formTarget",p.formTarget,p,null)):(pt(a,r,"encType",p.encType,p,null),pt(a,r,"method",p.method,p,null),pt(a,r,"target",p.target,p,null)));if(d==null||typeof d=="symbol"||typeof d=="boolean"){a.removeAttribute(l);break}d=Gl(""+d),a.setAttribute(l,d);break;case"onClick":d!=null&&(a.onclick=Pu);break;case"onScroll":d!=null&&Ze("scroll",a);break;case"onScrollEnd":d!=null&&Ze("scrollend",a);break;case"dangerouslySetInnerHTML":if(d!=null){if(typeof d!="object"||!("__html"in d))throw Error(i(61));if(l=d.__html,l!=null){if(p.children!=null)throw Error(i(60));a.innerHTML=l}}break;case"multiple":a.multiple=d&&typeof d!="function"&&typeof d!="symbol";break;case"muted":a.muted=d&&typeof d!="function"&&typeof d!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(d==null||typeof d=="function"||typeof d=="boolean"||typeof d=="symbol"){a.removeAttribute("xlink:href");break}l=Gl(""+d),a.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":d!=null&&typeof d!="function"&&typeof d!="symbol"?a.setAttribute(l,""+d):a.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":d&&typeof d!="function"&&typeof d!="symbol"?a.setAttribute(l,""):a.removeAttribute(l);break;case"capture":case"download":d===!0?a.setAttribute(l,""):d!==!1&&d!=null&&typeof d!="function"&&typeof d!="symbol"?a.setAttribute(l,d):a.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":d!=null&&typeof d!="function"&&typeof d!="symbol"&&!isNaN(d)&&1<=d?a.setAttribute(l,d):a.removeAttribute(l);break;case"rowSpan":case"start":d==null||typeof d=="function"||typeof d=="symbol"||isNaN(d)?a.removeAttribute(l):a.setAttribute(l,d);break;case"popover":Ze("beforetoggle",a),Ze("toggle",a),Ir(a,"popover",d);break;case"xlinkActuate":Tn(a,"http://www.w3.org/1999/xlink","xlink:actuate",d);break;case"xlinkArcrole":Tn(a,"http://www.w3.org/1999/xlink","xlink:arcrole",d);break;case"xlinkRole":Tn(a,"http://www.w3.org/1999/xlink","xlink:role",d);break;case"xlinkShow":Tn(a,"http://www.w3.org/1999/xlink","xlink:show",d);break;case"xlinkTitle":Tn(a,"http://www.w3.org/1999/xlink","xlink:title",d);break;case"xlinkType":Tn(a,"http://www.w3.org/1999/xlink","xlink:type",d);break;case"xmlBase":Tn(a,"http://www.w3.org/XML/1998/namespace","xml:base",d);break;case"xmlLang":Tn(a,"http://www.w3.org/XML/1998/namespace","xml:lang",d);break;case"xmlSpace":Tn(a,"http://www.w3.org/XML/1998/namespace","xml:space",d);break;case"is":Ir(a,"is",d);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=jC.get(l)||l,Ir(a,l,d))}}function Qf(a,r,l,d,p,x){switch(l){case"style":cp(a,d,x);break;case"dangerouslySetInnerHTML":if(d!=null){if(typeof d!="object"||!("__html"in d))throw Error(i(61));if(l=d.__html,l!=null){if(p.children!=null)throw Error(i(60));a.innerHTML=l}}break;case"children":typeof d=="string"?Rr(a,d):(typeof d=="number"||typeof d=="bigint")&&Rr(a,""+d);break;case"onScroll":d!=null&&Ze("scroll",a);break;case"onScrollEnd":d!=null&&Ze("scrollend",a);break;case"onClick":d!=null&&(a.onclick=Pu);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!zs.hasOwnProperty(l))e:{if(l[0]==="o"&&l[1]==="n"&&(p=l.endsWith("Capture"),r=l.slice(2,p?l.length-7:void 0),x=a[Qe]||null,x=x!=null?x[l]:null,typeof x=="function"&&a.removeEventListener(r,x,p),typeof d=="function")){typeof x!="function"&&x!==null&&(l in a?a[l]=null:a.hasAttribute(l)&&a.removeAttribute(l)),a.addEventListener(r,d,p);break e}l in a?a[l]=d:d===!0?a.setAttribute(l,""):Ir(a,l,d)}}}function Zt(a,r,l){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ze("error",a),Ze("load",a);var d=!1,p=!1,x;for(x in l)if(l.hasOwnProperty(x)){var A=l[x];if(A!=null)switch(x){case"src":d=!0;break;case"srcSet":p=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,r));default:pt(a,r,x,A,l,null)}}p&&pt(a,r,"srcSet",l.srcSet,l,null),d&&pt(a,r,"src",l.src,l,null);return;case"input":Ze("invalid",a);var M=x=A=p=null,F=null,Z=null;for(d in l)if(l.hasOwnProperty(d)){var ce=l[d];if(ce!=null)switch(d){case"name":p=ce;break;case"type":A=ce;break;case"checked":F=ce;break;case"defaultChecked":Z=ce;break;case"value":x=ce;break;case"defaultValue":M=ce;break;case"children":case"dangerouslySetInnerHTML":if(ce!=null)throw Error(i(137,r));break;default:pt(a,r,d,ce,l,null)}}sp(a,x,M,F,Z,A,p,!1),zl(a);return;case"select":Ze("invalid",a),d=A=x=null;for(p in l)if(l.hasOwnProperty(p)&&(M=l[p],M!=null))switch(p){case"value":x=M;break;case"defaultValue":A=M;break;case"multiple":d=M;default:pt(a,r,p,M,l,null)}r=x,l=A,a.multiple=!!d,r!=null?Dr(a,!!d,r,!1):l!=null&&Dr(a,!!d,l,!0);return;case"textarea":Ze("invalid",a),x=p=d=null;for(A in l)if(l.hasOwnProperty(A)&&(M=l[A],M!=null))switch(A){case"value":d=M;break;case"defaultValue":p=M;break;case"children":x=M;break;case"dangerouslySetInnerHTML":if(M!=null)throw Error(i(91));break;default:pt(a,r,A,M,l,null)}lp(a,d,p,x),zl(a);return;case"option":for(F in l)if(l.hasOwnProperty(F)&&(d=l[F],d!=null))switch(F){case"selected":a.selected=d&&typeof d!="function"&&typeof d!="symbol";break;default:pt(a,r,F,d,l,null)}return;case"dialog":Ze("beforetoggle",a),Ze("toggle",a),Ze("cancel",a),Ze("close",a);break;case"iframe":case"object":Ze("load",a);break;case"video":case"audio":for(d=0;d<_o.length;d++)Ze(_o[d],a);break;case"image":Ze("error",a),Ze("load",a);break;case"details":Ze("toggle",a);break;case"embed":case"source":case"link":Ze("error",a),Ze("load",a);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Z in l)if(l.hasOwnProperty(Z)&&(d=l[Z],d!=null))switch(Z){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,r));default:pt(a,r,Z,d,l,null)}return;default:if(fd(r)){for(ce in l)l.hasOwnProperty(ce)&&(d=l[ce],d!==void 0&&Qf(a,r,ce,d,l,void 0));return}}for(M in l)l.hasOwnProperty(M)&&(d=l[M],d!=null&&pt(a,r,M,d,l,null))}function h_(a,r,l,d){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var p=null,x=null,A=null,M=null,F=null,Z=null,ce=null;for(te in l){var fe=l[te];if(l.hasOwnProperty(te)&&fe!=null)switch(te){case"checked":break;case"value":break;case"defaultValue":F=fe;default:d.hasOwnProperty(te)||pt(a,r,te,null,d,fe)}}for(var ee in d){var te=d[ee];if(fe=l[ee],d.hasOwnProperty(ee)&&(te!=null||fe!=null))switch(ee){case"type":x=te;break;case"name":p=te;break;case"checked":Z=te;break;case"defaultChecked":ce=te;break;case"value":A=te;break;case"defaultValue":M=te;break;case"children":case"dangerouslySetInnerHTML":if(te!=null)throw Error(i(137,r));break;default:te!==fe&&pt(a,r,ee,te,d,fe)}}cd(a,A,M,F,Z,ce,x,p);return;case"select":te=A=M=ee=null;for(x in l)if(F=l[x],l.hasOwnProperty(x)&&F!=null)switch(x){case"value":break;case"multiple":te=F;default:d.hasOwnProperty(x)||pt(a,r,x,null,d,F)}for(p in d)if(x=d[p],F=l[p],d.hasOwnProperty(p)&&(x!=null||F!=null))switch(p){case"value":ee=x;break;case"defaultValue":M=x;break;case"multiple":A=x;default:x!==F&&pt(a,r,p,x,d,F)}r=M,l=A,d=te,ee!=null?Dr(a,!!l,ee,!1):!!d!=!!l&&(r!=null?Dr(a,!!l,r,!0):Dr(a,!!l,l?[]:"",!1));return;case"textarea":te=ee=null;for(M in l)if(p=l[M],l.hasOwnProperty(M)&&p!=null&&!d.hasOwnProperty(M))switch(M){case"value":break;case"children":break;default:pt(a,r,M,null,d,p)}for(A in d)if(p=d[A],x=l[A],d.hasOwnProperty(A)&&(p!=null||x!=null))switch(A){case"value":ee=p;break;case"defaultValue":te=p;break;case"children":break;case"dangerouslySetInnerHTML":if(p!=null)throw Error(i(91));break;default:p!==x&&pt(a,r,A,p,d,x)}op(a,ee,te);return;case"option":for(var Be in l)if(ee=l[Be],l.hasOwnProperty(Be)&&ee!=null&&!d.hasOwnProperty(Be))switch(Be){case"selected":a.selected=!1;break;default:pt(a,r,Be,null,d,ee)}for(F in d)if(ee=d[F],te=l[F],d.hasOwnProperty(F)&&ee!==te&&(ee!=null||te!=null))switch(F){case"selected":a.selected=ee&&typeof ee!="function"&&typeof ee!="symbol";break;default:pt(a,r,F,ee,d,te)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Oe in l)ee=l[Oe],l.hasOwnProperty(Oe)&&ee!=null&&!d.hasOwnProperty(Oe)&&pt(a,r,Oe,null,d,ee);for(Z in d)if(ee=d[Z],te=l[Z],d.hasOwnProperty(Z)&&ee!==te&&(ee!=null||te!=null))switch(Z){case"children":case"dangerouslySetInnerHTML":if(ee!=null)throw Error(i(137,r));break;default:pt(a,r,Z,ee,d,te)}return;default:if(fd(r)){for(var gt in l)ee=l[gt],l.hasOwnProperty(gt)&&ee!==void 0&&!d.hasOwnProperty(gt)&&Qf(a,r,gt,void 0,d,ee);for(ce in d)ee=d[ce],te=l[ce],!d.hasOwnProperty(ce)||ee===te||ee===void 0&&te===void 0||Qf(a,r,ce,ee,d,te);return}}for(var X in l)ee=l[X],l.hasOwnProperty(X)&&ee!=null&&!d.hasOwnProperty(X)&&pt(a,r,X,null,d,ee);for(fe in d)ee=d[fe],te=l[fe],!d.hasOwnProperty(fe)||ee===te||ee==null&&te==null||pt(a,r,fe,ee,d,te)}var Jf=null,Zf=null;function Bu(a){return a.nodeType===9?a:a.ownerDocument}function u1(a){switch(a){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function c1(a,r){if(a===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return a===1&&r==="foreignObject"?0:a}function em(a,r){return a==="textarea"||a==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var tm=null;function p_(){var a=window.event;return a&&a.type==="popstate"?a===tm?!1:(tm=a,!0):(tm=null,!1)}var d1=typeof setTimeout=="function"?setTimeout:void 0,g_=typeof clearTimeout=="function"?clearTimeout:void 0,f1=typeof Promise=="function"?Promise:void 0,y_=typeof queueMicrotask=="function"?queueMicrotask:typeof f1<"u"?function(a){return f1.resolve(null).then(a).catch(T_)}:d1;function T_(a){setTimeout(function(){throw a})}function pa(a){return a==="head"}function m1(a,r){var l=r,d=0,p=0;do{var x=l.nextSibling;if(a.removeChild(l),x&&x.nodeType===8)if(l=x.data,l==="/$"){if(0<d&&8>d){l=d;var A=a.ownerDocument;if(l&1&&No(A.documentElement),l&2&&No(A.body),l&4)for(l=A.head,No(l),A=l.firstChild;A;){var M=A.nextSibling,F=A.nodeName;A[Va]||F==="SCRIPT"||F==="STYLE"||F==="LINK"&&A.rel.toLowerCase()==="stylesheet"||l.removeChild(A),A=M}}if(p===0){a.removeChild(x),Po(r);return}p--}else l==="$"||l==="$?"||l==="$!"?p++:d=l.charCodeAt(0)-48;else d=0;l=x}while(l);Po(r)}function nm(a){var r=a.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var l=r;switch(r=r.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":nm(l),Vs(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}a.removeChild(l)}}function b_(a,r,l,d){for(;a.nodeType===1;){var p=l;if(a.nodeName.toLowerCase()!==r.toLowerCase()){if(!d&&(a.nodeName!=="INPUT"||a.type!=="hidden"))break}else if(d){if(!a[Va])switch(r){case"meta":if(!a.hasAttribute("itemprop"))break;return a;case"link":if(x=a.getAttribute("rel"),x==="stylesheet"&&a.hasAttribute("data-precedence"))break;if(x!==p.rel||a.getAttribute("href")!==(p.href==null||p.href===""?null:p.href)||a.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin)||a.getAttribute("title")!==(p.title==null?null:p.title))break;return a;case"style":if(a.hasAttribute("data-precedence"))break;return a;case"script":if(x=a.getAttribute("src"),(x!==(p.src==null?null:p.src)||a.getAttribute("type")!==(p.type==null?null:p.type)||a.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin))&&x&&a.hasAttribute("async")&&!a.hasAttribute("itemprop"))break;return a;default:return a}}else if(r==="input"&&a.type==="hidden"){var x=p.name==null?null:""+p.name;if(p.type==="hidden"&&a.getAttribute("name")===x)return a}else return a;if(a=li(a.nextSibling),a===null)break}return null}function x_(a,r,l){if(r==="")return null;for(;a.nodeType!==3;)if((a.nodeType!==1||a.nodeName!=="INPUT"||a.type!=="hidden")&&!l||(a=li(a.nextSibling),a===null))return null;return a}function im(a){return a.data==="$!"||a.data==="$?"&&a.ownerDocument.readyState==="complete"}function E_(a,r){var l=a.ownerDocument;if(a.data!=="$?"||l.readyState==="complete")r();else{var d=function(){r(),l.removeEventListener("DOMContentLoaded",d)};l.addEventListener("DOMContentLoaded",d),a._reactRetry=d}}function li(a){for(;a!=null;a=a.nextSibling){var r=a.nodeType;if(r===1||r===3)break;if(r===8){if(r=a.data,r==="$"||r==="$!"||r==="$?"||r==="F!"||r==="F")break;if(r==="/$")return null}}return a}var am=null;function h1(a){a=a.previousSibling;for(var r=0;a;){if(a.nodeType===8){var l=a.data;if(l==="$"||l==="$!"||l==="$?"){if(r===0)return a;r--}else l==="/$"&&r++}a=a.previousSibling}return null}function p1(a,r,l){switch(r=Bu(l),a){case"html":if(a=r.documentElement,!a)throw Error(i(452));return a;case"head":if(a=r.head,!a)throw Error(i(453));return a;case"body":if(a=r.body,!a)throw Error(i(454));return a;default:throw Error(i(451))}}function No(a){for(var r=a.attributes;r.length;)a.removeAttributeNode(r[0]);Vs(a)}var Xn=new Map,g1=new Set;function Fu(a){return typeof a.getRootNode=="function"?a.getRootNode():a.nodeType===9?a:a.ownerDocument}var qi=z.d;z.d={f:v_,r:S_,D:C_,C:A_,L:__,m:I_,X:M_,S:N_,M:D_};function v_(){var a=qi.f(),r=Mu();return a||r}function S_(a){var r=Mi(a);r!==null&&r.tag===5&&r.type==="form"?Pg(r):qi.r(a)}var ss=typeof document>"u"?null:document;function y1(a,r,l){var d=ss;if(d&&typeof r=="string"&&r){var p=zn(r);p='link[rel="'+a+'"][href="'+p+'"]',typeof l=="string"&&(p+='[crossorigin="'+l+'"]'),g1.has(p)||(g1.add(p),a={rel:a,crossOrigin:l,href:r},d.querySelector(p)===null&&(r=d.createElement("link"),Zt(r,"link",a),Bt(r),d.head.appendChild(r)))}}function C_(a){qi.D(a),y1("dns-prefetch",a,null)}function A_(a,r){qi.C(a,r),y1("preconnect",a,r)}function __(a,r,l){qi.L(a,r,l);var d=ss;if(d&&a&&r){var p='link[rel="preload"][as="'+zn(r)+'"]';r==="image"&&l&&l.imageSrcSet?(p+='[imagesrcset="'+zn(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(p+='[imagesizes="'+zn(l.imageSizes)+'"]')):p+='[href="'+zn(a)+'"]';var x=p;switch(r){case"style":x=os(a);break;case"script":x=ls(a)}Xn.has(x)||(a=h({rel:"preload",href:r==="image"&&l&&l.imageSrcSet?void 0:a,as:r},l),Xn.set(x,a),d.querySelector(p)!==null||r==="style"&&d.querySelector(Mo(x))||r==="script"&&d.querySelector(Do(x))||(r=d.createElement("link"),Zt(r,"link",a),Bt(r),d.head.appendChild(r)))}}function I_(a,r){qi.m(a,r);var l=ss;if(l&&a){var d=r&&typeof r.as=="string"?r.as:"script",p='link[rel="modulepreload"][as="'+zn(d)+'"][href="'+zn(a)+'"]',x=p;switch(d){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":x=ls(a)}if(!Xn.has(x)&&(a=h({rel:"modulepreload",href:a},r),Xn.set(x,a),l.querySelector(p)===null)){switch(d){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(Do(x)))return}d=l.createElement("link"),Zt(d,"link",a),Bt(d),l.head.appendChild(d)}}}function N_(a,r,l){qi.S(a,r,l);var d=ss;if(d&&a){var p=Qi(d).hoistableStyles,x=os(a);r=r||"default";var A=p.get(x);if(!A){var M={loading:0,preload:null};if(A=d.querySelector(Mo(x)))M.loading=5;else{a=h({rel:"stylesheet",href:a,"data-precedence":r},l),(l=Xn.get(x))&&rm(a,l);var F=A=d.createElement("link");Bt(F),Zt(F,"link",a),F._p=new Promise(function(Z,ce){F.onload=Z,F.onerror=ce}),F.addEventListener("load",function(){M.loading|=1}),F.addEventListener("error",function(){M.loading|=2}),M.loading|=4,Hu(A,r,d)}A={type:"stylesheet",instance:A,count:1,state:M},p.set(x,A)}}}function M_(a,r){qi.X(a,r);var l=ss;if(l&&a){var d=Qi(l).hoistableScripts,p=ls(a),x=d.get(p);x||(x=l.querySelector(Do(p)),x||(a=h({src:a,async:!0},r),(r=Xn.get(p))&&sm(a,r),x=l.createElement("script"),Bt(x),Zt(x,"link",a),l.head.appendChild(x)),x={type:"script",instance:x,count:1,state:null},d.set(p,x))}}function D_(a,r){qi.M(a,r);var l=ss;if(l&&a){var d=Qi(l).hoistableScripts,p=ls(a),x=d.get(p);x||(x=l.querySelector(Do(p)),x||(a=h({src:a,async:!0,type:"module"},r),(r=Xn.get(p))&&sm(a,r),x=l.createElement("script"),Bt(x),Zt(x,"link",a),l.head.appendChild(x)),x={type:"script",instance:x,count:1,state:null},d.set(p,x))}}function T1(a,r,l,d){var p=(p=ie.current)?Fu(p):null;if(!p)throw Error(i(446));switch(a){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(r=os(l.href),l=Qi(p).hoistableStyles,d=l.get(r),d||(d={type:"style",instance:null,count:0,state:null},l.set(r,d)),d):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){a=os(l.href);var x=Qi(p).hoistableStyles,A=x.get(a);if(A||(p=p.ownerDocument||p,A={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},x.set(a,A),(x=p.querySelector(Mo(a)))&&!x._p&&(A.instance=x,A.state.loading=5),Xn.has(a)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},Xn.set(a,l),x||R_(p,a,l,A.state))),r&&d===null)throw Error(i(528,""));return A}if(r&&d!==null)throw Error(i(529,""));return null;case"script":return r=l.async,l=l.src,typeof l=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=ls(l),l=Qi(p).hoistableScripts,d=l.get(r),d||(d={type:"script",instance:null,count:0,state:null},l.set(r,d)),d):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,a))}}function os(a){return'href="'+zn(a)+'"'}function Mo(a){return'link[rel="stylesheet"]['+a+"]"}function b1(a){return h({},a,{"data-precedence":a.precedence,precedence:null})}function R_(a,r,l,d){a.querySelector('link[rel="preload"][as="style"]['+r+"]")?d.loading=1:(r=a.createElement("link"),d.preload=r,r.addEventListener("load",function(){return d.loading|=1}),r.addEventListener("error",function(){return d.loading|=2}),Zt(r,"link",l),Bt(r),a.head.appendChild(r))}function ls(a){return'[src="'+zn(a)+'"]'}function Do(a){return"script[async]"+a}function x1(a,r,l){if(r.count++,r.instance===null)switch(r.type){case"style":var d=a.querySelector('style[data-href~="'+zn(l.href)+'"]');if(d)return r.instance=d,Bt(d),d;var p=h({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return d=(a.ownerDocument||a).createElement("style"),Bt(d),Zt(d,"style",p),Hu(d,l.precedence,a),r.instance=d;case"stylesheet":p=os(l.href);var x=a.querySelector(Mo(p));if(x)return r.state.loading|=4,r.instance=x,Bt(x),x;d=b1(l),(p=Xn.get(p))&&rm(d,p),x=(a.ownerDocument||a).createElement("link"),Bt(x);var A=x;return A._p=new Promise(function(M,F){A.onload=M,A.onerror=F}),Zt(x,"link",d),r.state.loading|=4,Hu(x,l.precedence,a),r.instance=x;case"script":return x=ls(l.src),(p=a.querySelector(Do(x)))?(r.instance=p,Bt(p),p):(d=l,(p=Xn.get(x))&&(d=h({},l),sm(d,p)),a=a.ownerDocument||a,p=a.createElement("script"),Bt(p),Zt(p,"link",d),a.head.appendChild(p),r.instance=p);case"void":return null;default:throw Error(i(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(d=r.instance,r.state.loading|=4,Hu(d,l.precedence,a));return r.instance}function Hu(a,r,l){for(var d=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),p=d.length?d[d.length-1]:null,x=p,A=0;A<d.length;A++){var M=d[A];if(M.dataset.precedence===r)x=M;else if(x!==p)break}x?x.parentNode.insertBefore(a,x.nextSibling):(r=l.nodeType===9?l.head:l,r.insertBefore(a,r.firstChild))}function rm(a,r){a.crossOrigin==null&&(a.crossOrigin=r.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=r.referrerPolicy),a.title==null&&(a.title=r.title)}function sm(a,r){a.crossOrigin==null&&(a.crossOrigin=r.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=r.referrerPolicy),a.integrity==null&&(a.integrity=r.integrity)}var Uu=null;function E1(a,r,l){if(Uu===null){var d=new Map,p=Uu=new Map;p.set(l,d)}else p=Uu,d=p.get(l),d||(d=new Map,p.set(l,d));if(d.has(a))return d;for(d.set(a,null),l=l.getElementsByTagName(a),p=0;p<l.length;p++){var x=l[p];if(!(x[Va]||x[nt]||a==="link"&&x.getAttribute("rel")==="stylesheet")&&x.namespaceURI!=="http://www.w3.org/2000/svg"){var A=x.getAttribute(r)||"";A=a+A;var M=d.get(A);M?M.push(x):d.set(A,[x])}}return d}function v1(a,r,l){a=a.ownerDocument||a,a.head.insertBefore(l,r==="title"?a.querySelector("head > title"):null)}function k_(a,r,l){if(l===1||r.itemProp!=null)return!1;switch(a){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;switch(r.rel){case"stylesheet":return a=r.disabled,typeof r.precedence=="string"&&a==null;default:return!0}case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function S1(a){return!(a.type==="stylesheet"&&(a.state.loading&3)===0)}var Ro=null;function w_(){}function L_(a,r,l){if(Ro===null)throw Error(i(475));var d=Ro;if(r.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var p=os(l.href),x=a.querySelector(Mo(p));if(x){a=x._p,a!==null&&typeof a=="object"&&typeof a.then=="function"&&(d.count++,d=Vu.bind(d),a.then(d,d)),r.state.loading|=4,r.instance=x,Bt(x);return}x=a.ownerDocument||a,l=b1(l),(p=Xn.get(p))&&rm(l,p),x=x.createElement("link"),Bt(x);var A=x;A._p=new Promise(function(M,F){A.onload=M,A.onerror=F}),Zt(x,"link",l),r.instance=x}d.stylesheets===null&&(d.stylesheets=new Map),d.stylesheets.set(r,a),(a=r.state.preload)&&(r.state.loading&3)===0&&(d.count++,r=Vu.bind(d),a.addEventListener("load",r),a.addEventListener("error",r))}}function O_(){if(Ro===null)throw Error(i(475));var a=Ro;return a.stylesheets&&a.count===0&&om(a,a.stylesheets),0<a.count?function(r){var l=setTimeout(function(){if(a.stylesheets&&om(a,a.stylesheets),a.unsuspend){var d=a.unsuspend;a.unsuspend=null,d()}},6e4);return a.unsuspend=r,function(){a.unsuspend=null,clearTimeout(l)}}:null}function Vu(){if(this.count--,this.count===0){if(this.stylesheets)om(this,this.stylesheets);else if(this.unsuspend){var a=this.unsuspend;this.unsuspend=null,a()}}}var zu=null;function om(a,r){a.stylesheets=null,a.unsuspend!==null&&(a.count++,zu=new Map,r.forEach(P_,a),zu=null,Vu.call(a))}function P_(a,r){if(!(r.state.loading&4)){var l=zu.get(a);if(l)var d=l.get(null);else{l=new Map,zu.set(a,l);for(var p=a.querySelectorAll("link[data-precedence],style[data-precedence]"),x=0;x<p.length;x++){var A=p[x];(A.nodeName==="LINK"||A.getAttribute("media")!=="not all")&&(l.set(A.dataset.precedence,A),d=A)}d&&l.set(null,d)}p=r.instance,A=p.getAttribute("data-precedence"),x=l.get(A)||d,x===d&&l.set(null,p),l.set(A,p),this.count++,d=Vu.bind(this),p.addEventListener("load",d),p.addEventListener("error",d),x?x.parentNode.insertBefore(p,x.nextSibling):(a=a.nodeType===9?a.head:a,a.insertBefore(p,a.firstChild)),r.state.loading|=4}}var ko={$$typeof:R,Provider:null,Consumer:null,_currentValue:w,_currentValue2:w,_threadCount:0};function B_(a,r,l,d,p,x,A,M){this.tag=1,this.containerInfo=a,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ar(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ar(0),this.hiddenUpdates=Ar(null),this.identifierPrefix=d,this.onUncaughtError=p,this.onCaughtError=x,this.onRecoverableError=A,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=M,this.incompleteTransitions=new Map}function C1(a,r,l,d,p,x,A,M,F,Z,ce,fe){return a=new B_(a,r,l,A,M,F,Z,fe),r=1,x===!0&&(r|=24),x=Dn(3,null,null,r),a.current=x,x.stateNode=a,r=Vd(),r.refCount++,a.pooledCache=r,r.refCount++,x.memoizedState={element:d,isDehydrated:l,cache:r},qd(x),a}function A1(a){return a?(a=Hr,a):Hr}function _1(a,r,l,d,p,x){p=A1(p),d.context===null?d.context=p:d.pendingContext=p,d=na(r),d.payload={element:l},x=x===void 0?null:x,x!==null&&(d.callback=x),l=ia(a,d,r),l!==null&&(On(l,a,r),oo(l,a,r))}function I1(a,r){if(a=a.memoizedState,a!==null&&a.dehydrated!==null){var l=a.retryLane;a.retryLane=l!==0&&l<r?l:r}}function lm(a,r){I1(a,r),(a=a.alternate)&&I1(a,r)}function N1(a){if(a.tag===13){var r=Fr(a,67108864);r!==null&&On(r,a,67108864),lm(a,67108864)}}var ju=!0;function F_(a,r,l,d){var p=W.T;W.T=null;var x=z.p;try{z.p=2,um(a,r,l,d)}finally{z.p=x,W.T=p}}function H_(a,r,l,d){var p=W.T;W.T=null;var x=z.p;try{z.p=8,um(a,r,l,d)}finally{z.p=x,W.T=p}}function um(a,r,l,d){if(ju){var p=cm(d);if(p===null)Wf(a,r,d,Gu,l),D1(a,d);else if(V_(p,a,r,l,d))d.stopPropagation();else if(D1(a,d),r&4&&-1<U_.indexOf(a)){for(;p!==null;){var x=Mi(p);if(x!==null)switch(x.tag){case 3:if(x=x.stateNode,x.current.memoizedState.isDehydrated){var A=nn(x.pendingLanes);if(A!==0){var M=x;for(M.pendingLanes|=2,M.entangledLanes|=2;A;){var F=1<<31-ke(A);M.entanglements[1]|=F,A&=~F}Ti(x),(ct&6)===0&&(Iu=Rt()+500,Ao(0))}}break;case 13:M=Fr(x,2),M!==null&&On(M,x,2),Mu(),lm(x,2)}if(x=cm(d),x===null&&Wf(a,r,d,Gu,l),x===p)break;p=x}p!==null&&d.stopPropagation()}else Wf(a,r,d,null,l)}}function cm(a){return a=hd(a),dm(a)}var Gu=null;function dm(a){if(Gu=null,a=ri(a),a!==null){var r=o(a);if(r===null)a=null;else{var l=r.tag;if(l===13){if(a=u(r),a!==null)return a;a=null}else if(l===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;a=null}else r!==a&&(a=null)}}return Gu=a,null}function M1(a){switch(a){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(vr()){case Fa:return 2;case Wi:return 8;case Ni:case Sr:return 32;case qt:return 268435456;default:return 32}default:return 32}}var fm=!1,ga=null,ya=null,Ta=null,wo=new Map,Lo=new Map,ba=[],U_="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function D1(a,r){switch(a){case"focusin":case"focusout":ga=null;break;case"dragenter":case"dragleave":ya=null;break;case"mouseover":case"mouseout":Ta=null;break;case"pointerover":case"pointerout":wo.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":Lo.delete(r.pointerId)}}function Oo(a,r,l,d,p,x){return a===null||a.nativeEvent!==x?(a={blockedOn:r,domEventName:l,eventSystemFlags:d,nativeEvent:x,targetContainers:[p]},r!==null&&(r=Mi(r),r!==null&&N1(r)),a):(a.eventSystemFlags|=d,r=a.targetContainers,p!==null&&r.indexOf(p)===-1&&r.push(p),a)}function V_(a,r,l,d,p){switch(r){case"focusin":return ga=Oo(ga,a,r,l,d,p),!0;case"dragenter":return ya=Oo(ya,a,r,l,d,p),!0;case"mouseover":return Ta=Oo(Ta,a,r,l,d,p),!0;case"pointerover":var x=p.pointerId;return wo.set(x,Oo(wo.get(x)||null,a,r,l,d,p)),!0;case"gotpointercapture":return x=p.pointerId,Lo.set(x,Oo(Lo.get(x)||null,a,r,l,d,p)),!0}return!1}function R1(a){var r=ri(a.target);if(r!==null){var l=o(r);if(l!==null){if(r=l.tag,r===13){if(r=u(l),r!==null){a.blockedOn=r,Ie(a.priority,function(){if(l.tag===13){var d=Ln();d=_r(d);var p=Fr(l,d);p!==null&&On(p,l,d),lm(l,d)}});return}}else if(r===3&&l.stateNode.current.memoizedState.isDehydrated){a.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}a.blockedOn=null}function qu(a){if(a.blockedOn!==null)return!1;for(var r=a.targetContainers;0<r.length;){var l=cm(a.nativeEvent);if(l===null){l=a.nativeEvent;var d=new l.constructor(l.type,l);md=d,l.target.dispatchEvent(d),md=null}else return r=Mi(l),r!==null&&N1(r),a.blockedOn=l,!1;r.shift()}return!0}function k1(a,r,l){qu(a)&&l.delete(r)}function z_(){fm=!1,ga!==null&&qu(ga)&&(ga=null),ya!==null&&qu(ya)&&(ya=null),Ta!==null&&qu(Ta)&&(Ta=null),wo.forEach(k1),Lo.forEach(k1)}function Yu(a,r){a.blockedOn===r&&(a.blockedOn=null,fm||(fm=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,z_)))}var Ku=null;function w1(a){Ku!==a&&(Ku=a,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){Ku===a&&(Ku=null);for(var r=0;r<a.length;r+=3){var l=a[r],d=a[r+1],p=a[r+2];if(typeof d!="function"){if(dm(d||l)===null)continue;break}var x=Mi(l);x!==null&&(a.splice(r,3),r-=3,df(x,{pending:!0,data:p,method:l.method,action:d},d,p))}}))}function Po(a){function r(F){return Yu(F,a)}ga!==null&&Yu(ga,a),ya!==null&&Yu(ya,a),Ta!==null&&Yu(Ta,a),wo.forEach(r),Lo.forEach(r);for(var l=0;l<ba.length;l++){var d=ba[l];d.blockedOn===a&&(d.blockedOn=null)}for(;0<ba.length&&(l=ba[0],l.blockedOn===null);)R1(l),l.blockedOn===null&&ba.shift();if(l=(a.ownerDocument||a).$$reactFormReplay,l!=null)for(d=0;d<l.length;d+=3){var p=l[d],x=l[d+1],A=p[Qe]||null;if(typeof x=="function")A||w1(l);else if(A){var M=null;if(x&&x.hasAttribute("formAction")){if(p=x,A=x[Qe]||null)M=A.formAction;else if(dm(p)!==null)continue}else M=A.action;typeof M=="function"?l[d+1]=M:(l.splice(d,3),d-=3),w1(l)}}}function mm(a){this._internalRoot=a}$u.prototype.render=mm.prototype.render=function(a){var r=this._internalRoot;if(r===null)throw Error(i(409));var l=r.current,d=Ln();_1(l,d,a,r,null,null)},$u.prototype.unmount=mm.prototype.unmount=function(){var a=this._internalRoot;if(a!==null){this._internalRoot=null;var r=a.containerInfo;_1(a.current,2,null,a,null,null),Mu(),r[ai]=null}};function $u(a){this._internalRoot=a}$u.prototype.unstable_scheduleHydration=function(a){if(a){var r=xe();a={blockedOn:null,target:a,priority:r};for(var l=0;l<ba.length&&r!==0&&r<ba[l].priority;l++);ba.splice(l,0,a),l===0&&R1(a)}};var L1=t.version;if(L1!=="19.1.0")throw Error(i(527,L1,"19.1.0"));z.findDOMNode=function(a){var r=a._reactInternals;if(r===void 0)throw typeof a.render=="function"?Error(i(188)):(a=Object.keys(a).join(","),Error(i(268,a)));return a=m(r),a=a!==null?f(a):null,a=a===null?null:a.stateNode,a};var j_={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:W,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Xu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Xu.isDisabled&&Xu.supportsFiber)try{le=Xu.inject(j_),Te=Xu}catch{}}return Fo.createRoot=function(a,r){if(!s(a))throw Error(i(299));var l=!1,d="",p=Wg,x=Qg,A=Jg,M=null;return r!=null&&(r.unstable_strictMode===!0&&(l=!0),r.identifierPrefix!==void 0&&(d=r.identifierPrefix),r.onUncaughtError!==void 0&&(p=r.onUncaughtError),r.onCaughtError!==void 0&&(x=r.onCaughtError),r.onRecoverableError!==void 0&&(A=r.onRecoverableError),r.unstable_transitionCallbacks!==void 0&&(M=r.unstable_transitionCallbacks)),r=C1(a,1,!1,null,null,l,d,p,x,A,M,null),a[ai]=r.current,Xf(a),new mm(r)},Fo.hydrateRoot=function(a,r,l){if(!s(a))throw Error(i(299));var d=!1,p="",x=Wg,A=Qg,M=Jg,F=null,Z=null;return l!=null&&(l.unstable_strictMode===!0&&(d=!0),l.identifierPrefix!==void 0&&(p=l.identifierPrefix),l.onUncaughtError!==void 0&&(x=l.onUncaughtError),l.onCaughtError!==void 0&&(A=l.onCaughtError),l.onRecoverableError!==void 0&&(M=l.onRecoverableError),l.unstable_transitionCallbacks!==void 0&&(F=l.unstable_transitionCallbacks),l.formState!==void 0&&(Z=l.formState)),r=C1(a,1,!0,r,l??null,d,p,x,A,M,F,Z),r.context=A1(null),l=r.current,d=Ln(),d=_r(d),p=na(d),p.callback=null,ia(l,p,d),l=d,r.current.lanes=l,Ua(r,l),Ti(r),a[ai]=r.current,Xf(a),new $u(r)},Fo.version="19.1.0",Fo}var G1;function eI(){if(G1)return gm.exports;G1=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),gm.exports=Z_(),gm.exports}var tI=eI();const nI=_l(tI);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let iI,aI;function rI(){return{geminiUrl:iI,vertexUrl:aI}}function sI(e,t,n){var i,s,o;if(!(!((i=e.httpOptions)===null||i===void 0)&&i.baseUrl)){const u=rI();return e.vertexai?(s=u.vertexUrl)!==null&&s!==void 0?s:t:(o=u.geminiUrl)!==null&&o!==void 0?o:n}return e.httpOptions.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Il{}function Ve(e,t){const n=/\{([^}]+)\}/g;return e.replace(n,(i,s)=>{if(Object.prototype.hasOwnProperty.call(t,s)){const o=t[s];return o!=null?String(o):""}else throw new Error(`Key '${s}' not found in valueMap.`)})}function b(e,t,n){for(let o=0;o<t.length-1;o++){const u=t[o];if(u.endsWith("[]")){const c=u.slice(0,-2);if(!(c in e))if(Array.isArray(n))e[c]=Array.from({length:n.length},()=>({}));else throw new Error(`Value must be a list given an array path ${u}`);if(Array.isArray(e[c])){const m=e[c];if(Array.isArray(n))for(let f=0;f<m.length;f++){const h=m[f];b(h,t.slice(o+1),n[f])}else for(const f of m)b(f,t.slice(o+1),n)}return}else if(u.endsWith("[0]")){const c=u.slice(0,-3);c in e||(e[c]=[{}]);const m=e[c];b(m[0],t.slice(o+1),n);return}(!e[u]||typeof e[u]!="object")&&(e[u]={}),e=e[u]}const i=t[t.length-1],s=e[i];if(s!==void 0){if(!n||typeof n=="object"&&Object.keys(n).length===0||n===s)return;if(typeof s=="object"&&typeof n=="object"&&s!==null&&n!==null)Object.assign(s,n);else throw new Error(`Cannot set value for an existing key. Key: ${i}`)}else e[i]=n}function T(e,t){try{if(t.length===1&&t[0]==="_self")return e;for(let n=0;n<t.length;n++){if(typeof e!="object"||e===null)return;const i=t[n];if(i.endsWith("[]")){const s=i.slice(0,-2);if(s in e){const o=e[s];return Array.isArray(o)?o.map(u=>T(u,t.slice(n+1))):void 0}else return}else e=e[i]}return e}catch(n){if(n instanceof TypeError)return;throw n}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Dt(e,t){if(!t||typeof t!="string")throw new Error("model is required and must be a string");if(e.isVertexAI()){if(t.startsWith("publishers/")||t.startsWith("projects/")||t.startsWith("models/"))return t;if(t.indexOf("/")>=0){const n=t.split("/",2);return`publishers/${n[0]}/models/${n[1]}`}else return`publishers/google/models/${t}`}else return t.startsWith("models/")||t.startsWith("tunedModels/")?t:`models/${t}`}function FE(e,t){const n=Dt(e,t);return n?n.startsWith("publishers/")&&e.isVertexAI()?`projects/${e.getProject()}/locations/${e.getLocation()}/${n}`:n.startsWith("models/")&&e.isVertexAI()?`projects/${e.getProject()}/locations/${e.getLocation()}/publishers/google/${n}`:n:""}function HE(e,t){return Array.isArray(t)?t.map(n=>Sc(e,n)):[Sc(e,t)]}function Sc(e,t){if(typeof t=="object"&&t!==null)return t;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof t}`)}function oI(e,t){const n=Sc(e,t);if(n.mimeType&&n.mimeType.startsWith("image/"))return n;throw new Error(`Unsupported mime type: ${n.mimeType}`)}function lI(e,t){const n=Sc(e,t);if(n.mimeType&&n.mimeType.startsWith("audio/"))return n;throw new Error(`Unsupported mime type: ${n.mimeType}`)}function q1(e,t){if(t==null)throw new Error("PartUnion is required");if(typeof t=="object")return t;if(typeof t=="string")return{text:t};throw new Error(`Unsupported part type: ${typeof t}`)}function UE(e,t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("PartListUnion is required");return Array.isArray(t)?t.map(n=>q1(e,n)):[q1(e,t)]}function ah(e){return e!=null&&typeof e=="object"&&"parts"in e&&Array.isArray(e.parts)}function Y1(e){return e!=null&&typeof e=="object"&&"functionCall"in e}function K1(e){return e!=null&&typeof e=="object"&&"functionResponse"in e}function An(e,t){if(t==null)throw new Error("ContentUnion is required");return ah(t)?t:{role:"user",parts:UE(e,t)}}function VE(e,t){if(!t)return[];if(e.isVertexAI()&&Array.isArray(t))return t.flatMap(n=>{const i=An(e,n);return i.parts&&i.parts.length>0&&i.parts[0].text!==void 0?[i.parts[0].text]:[]});if(e.isVertexAI()){const n=An(e,t);return n.parts&&n.parts.length>0&&n.parts[0].text!==void 0?[n.parts[0].text]:[]}return Array.isArray(t)?t.map(n=>An(e,n)):[An(e,t)]}function Ra(e,t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("contents are required");if(!Array.isArray(t)){if(Y1(t)||K1(t))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[An(e,t)]}const n=[],i=[],s=ah(t[0]);for(const o of t){const u=ah(o);if(u!=s)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(u)n.push(o);else{if(Y1(o)||K1(o))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");i.push(o)}}return s||n.push({role:"user",parts:UE(e,i)}),n}function zE(e,t){return t}function jE(e,t){if(typeof t=="object")return t;if(typeof t=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:t}}};throw new Error(`Unsupported speechConfig type: ${typeof t}`)}function Uc(e,t){return t}function Vc(e,t){if(!Array.isArray(t))throw new Error("tool is required and must be an array of Tools");return t}function uI(e,t,n,i=1){const s=!t.startsWith(`${n}/`)&&t.split("/").length===i;return e.isVertexAI()?t.startsWith("projects/")?t:t.startsWith("locations/")?`projects/${e.getProject()}/${t}`:t.startsWith(`${n}/`)?`projects/${e.getProject()}/locations/${e.getLocation()}/${t}`:s?`projects/${e.getProject()}/locations/${e.getLocation()}/${n}/${t}`:t:s?`${n}/${t}`:t}function ka(e,t){if(typeof t!="string")throw new Error("name must be a string");return uI(e,t,"cachedContents")}function GE(e,t){switch(t){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return t}}function wa(e,t){if(typeof t!="string")throw new Error("fromImageBytes must be a string");return t}function qE(e,t){if(typeof t!="string")throw new Error("fromName must be a string");return t.startsWith("files/")?t.split("files/")[1]:t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function cI(e,t){const n={};if(T(t,["videoMetadata"])!==void 0)throw new Error("videoMetadata parameter is not supported in Gemini API.");const i=T(t,["thought"]);i!=null&&b(n,["thought"],i);const s=T(t,["codeExecutionResult"]);s!=null&&b(n,["codeExecutionResult"],s);const o=T(t,["executableCode"]);o!=null&&b(n,["executableCode"],o);const u=T(t,["fileData"]);u!=null&&b(n,["fileData"],u);const c=T(t,["functionCall"]);c!=null&&b(n,["functionCall"],c);const m=T(t,["functionResponse"]);m!=null&&b(n,["functionResponse"],m);const f=T(t,["inlineData"]);f!=null&&b(n,["inlineData"],f);const h=T(t,["text"]);return h!=null&&b(n,["text"],h),n}function $1(e,t){const n={},i=T(t,["parts"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(u=>cI(e,u))),b(n,["parts"],o)}const s=T(t,["role"]);return s!=null&&b(n,["role"],s),n}function dI(){return{}}function fI(e,t){const n={},i=T(t,["mode"]);i!=null&&b(n,["mode"],i);const s=T(t,["dynamicThreshold"]);return s!=null&&b(n,["dynamicThreshold"],s),n}function mI(e,t){const n={},i=T(t,["dynamicRetrievalConfig"]);return i!=null&&b(n,["dynamicRetrievalConfig"],fI(e,i)),n}function hI(e,t){const n={};if(T(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");T(t,["googleSearch"])!=null&&b(n,["googleSearch"],dI());const s=T(t,["googleSearchRetrieval"]);s!=null&&b(n,["googleSearchRetrieval"],mI(e,s));const o=T(t,["codeExecution"]);o!=null&&b(n,["codeExecution"],o);const u=T(t,["functionDeclarations"]);return u!=null&&b(n,["functionDeclarations"],u),n}function pI(e,t){const n={},i=T(t,["mode"]);i!=null&&b(n,["mode"],i);const s=T(t,["allowedFunctionNames"]);return s!=null&&b(n,["allowedFunctionNames"],s),n}function gI(e,t){const n={},i=T(t,["functionCallingConfig"]);return i!=null&&b(n,["functionCallingConfig"],pI(e,i)),n}function yI(e,t,n){const i={},s=T(t,["ttl"]);n!==void 0&&s!=null&&b(n,["ttl"],s);const o=T(t,["expireTime"]);n!==void 0&&o!=null&&b(n,["expireTime"],o);const u=T(t,["displayName"]);n!==void 0&&u!=null&&b(n,["displayName"],u);const c=T(t,["contents"]);if(n!==void 0&&c!=null){let y=Ra(e,c);Array.isArray(y)&&(y=y.map(v=>$1(e,v))),b(n,["contents"],y)}const m=T(t,["systemInstruction"]);n!==void 0&&m!=null&&b(n,["systemInstruction"],$1(e,An(e,m)));const f=T(t,["tools"]);if(n!==void 0&&f!=null){let y=f;Array.isArray(y)&&(y=y.map(v=>hI(e,v))),b(n,["tools"],y)}const h=T(t,["toolConfig"]);return n!==void 0&&h!=null&&b(n,["toolConfig"],gI(e,h)),i}function TI(e,t){const n={},i=T(t,["model"]);i!=null&&b(n,["model"],FE(e,i));const s=T(t,["config"]);return s!=null&&b(n,["config"],yI(e,s,n)),n}function bI(e,t){const n={},i=T(t,["name"]);i!=null&&b(n,["_url","name"],ka(e,i));const s=T(t,["config"]);return s!=null&&b(n,["config"],s),n}function xI(e,t){const n={},i=T(t,["name"]);i!=null&&b(n,["_url","name"],ka(e,i));const s=T(t,["config"]);return s!=null&&b(n,["config"],s),n}function EI(e,t,n){const i={},s=T(t,["ttl"]);n!==void 0&&s!=null&&b(n,["ttl"],s);const o=T(t,["expireTime"]);return n!==void 0&&o!=null&&b(n,["expireTime"],o),i}function vI(e,t){const n={},i=T(t,["name"]);i!=null&&b(n,["_url","name"],ka(e,i));const s=T(t,["config"]);return s!=null&&b(n,["config"],EI(e,s,n)),n}function SI(e,t,n){const i={},s=T(t,["pageSize"]);n!==void 0&&s!=null&&b(n,["_query","pageSize"],s);const o=T(t,["pageToken"]);return n!==void 0&&o!=null&&b(n,["_query","pageToken"],o),i}function CI(e,t){const n={},i=T(t,["config"]);return i!=null&&b(n,["config"],SI(e,i,n)),n}function AI(e,t){const n={},i=T(t,["videoMetadata"]);i!=null&&b(n,["videoMetadata"],i);const s=T(t,["thought"]);s!=null&&b(n,["thought"],s);const o=T(t,["codeExecutionResult"]);o!=null&&b(n,["codeExecutionResult"],o);const u=T(t,["executableCode"]);u!=null&&b(n,["executableCode"],u);const c=T(t,["fileData"]);c!=null&&b(n,["fileData"],c);const m=T(t,["functionCall"]);m!=null&&b(n,["functionCall"],m);const f=T(t,["functionResponse"]);f!=null&&b(n,["functionResponse"],f);const h=T(t,["inlineData"]);h!=null&&b(n,["inlineData"],h);const y=T(t,["text"]);return y!=null&&b(n,["text"],y),n}function X1(e,t){const n={},i=T(t,["parts"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(u=>AI(e,u))),b(n,["parts"],o)}const s=T(t,["role"]);return s!=null&&b(n,["role"],s),n}function _I(){return{}}function II(e,t){const n={},i=T(t,["mode"]);i!=null&&b(n,["mode"],i);const s=T(t,["dynamicThreshold"]);return s!=null&&b(n,["dynamicThreshold"],s),n}function NI(e,t){const n={},i=T(t,["dynamicRetrievalConfig"]);return i!=null&&b(n,["dynamicRetrievalConfig"],II(e,i)),n}function MI(e,t){const n={},i=T(t,["retrieval"]);i!=null&&b(n,["retrieval"],i),T(t,["googleSearch"])!=null&&b(n,["googleSearch"],_I());const o=T(t,["googleSearchRetrieval"]);o!=null&&b(n,["googleSearchRetrieval"],NI(e,o));const u=T(t,["codeExecution"]);u!=null&&b(n,["codeExecution"],u);const c=T(t,["functionDeclarations"]);return c!=null&&b(n,["functionDeclarations"],c),n}function DI(e,t){const n={},i=T(t,["mode"]);i!=null&&b(n,["mode"],i);const s=T(t,["allowedFunctionNames"]);return s!=null&&b(n,["allowedFunctionNames"],s),n}function RI(e,t){const n={},i=T(t,["functionCallingConfig"]);return i!=null&&b(n,["functionCallingConfig"],DI(e,i)),n}function kI(e,t,n){const i={},s=T(t,["ttl"]);n!==void 0&&s!=null&&b(n,["ttl"],s);const o=T(t,["expireTime"]);n!==void 0&&o!=null&&b(n,["expireTime"],o);const u=T(t,["displayName"]);n!==void 0&&u!=null&&b(n,["displayName"],u);const c=T(t,["contents"]);if(n!==void 0&&c!=null){let y=Ra(e,c);Array.isArray(y)&&(y=y.map(v=>X1(e,v))),b(n,["contents"],y)}const m=T(t,["systemInstruction"]);n!==void 0&&m!=null&&b(n,["systemInstruction"],X1(e,An(e,m)));const f=T(t,["tools"]);if(n!==void 0&&f!=null){let y=f;Array.isArray(y)&&(y=y.map(v=>MI(e,v))),b(n,["tools"],y)}const h=T(t,["toolConfig"]);return n!==void 0&&h!=null&&b(n,["toolConfig"],RI(e,h)),i}function wI(e,t){const n={},i=T(t,["model"]);i!=null&&b(n,["model"],FE(e,i));const s=T(t,["config"]);return s!=null&&b(n,["config"],kI(e,s,n)),n}function LI(e,t){const n={},i=T(t,["name"]);i!=null&&b(n,["_url","name"],ka(e,i));const s=T(t,["config"]);return s!=null&&b(n,["config"],s),n}function OI(e,t){const n={},i=T(t,["name"]);i!=null&&b(n,["_url","name"],ka(e,i));const s=T(t,["config"]);return s!=null&&b(n,["config"],s),n}function PI(e,t,n){const i={},s=T(t,["ttl"]);n!==void 0&&s!=null&&b(n,["ttl"],s);const o=T(t,["expireTime"]);return n!==void 0&&o!=null&&b(n,["expireTime"],o),i}function BI(e,t){const n={},i=T(t,["name"]);i!=null&&b(n,["_url","name"],ka(e,i));const s=T(t,["config"]);return s!=null&&b(n,["config"],PI(e,s,n)),n}function FI(e,t,n){const i={},s=T(t,["pageSize"]);n!==void 0&&s!=null&&b(n,["_query","pageSize"],s);const o=T(t,["pageToken"]);return n!==void 0&&o!=null&&b(n,["_query","pageToken"],o),i}function HI(e,t){const n={},i=T(t,["config"]);return i!=null&&b(n,["config"],FI(e,i,n)),n}function mc(e,t){const n={},i=T(t,["name"]);i!=null&&b(n,["name"],i);const s=T(t,["displayName"]);s!=null&&b(n,["displayName"],s);const o=T(t,["model"]);o!=null&&b(n,["model"],o);const u=T(t,["createTime"]);u!=null&&b(n,["createTime"],u);const c=T(t,["updateTime"]);c!=null&&b(n,["updateTime"],c);const m=T(t,["expireTime"]);m!=null&&b(n,["expireTime"],m);const f=T(t,["usageMetadata"]);return f!=null&&b(n,["usageMetadata"],f),n}function UI(){return{}}function VI(e,t){const n={},i=T(t,["nextPageToken"]);i!=null&&b(n,["nextPageToken"],i);const s=T(t,["cachedContents"]);if(s!=null){let o=s;Array.isArray(o)&&(o=o.map(u=>mc(e,u))),b(n,["cachedContents"],o)}return n}function hc(e,t){const n={},i=T(t,["name"]);i!=null&&b(n,["name"],i);const s=T(t,["displayName"]);s!=null&&b(n,["displayName"],s);const o=T(t,["model"]);o!=null&&b(n,["model"],o);const u=T(t,["createTime"]);u!=null&&b(n,["createTime"],u);const c=T(t,["updateTime"]);c!=null&&b(n,["updateTime"],c);const m=T(t,["expireTime"]);m!=null&&b(n,["expireTime"],m);const f=T(t,["usageMetadata"]);return f!=null&&b(n,["usageMetadata"],f),n}function zI(){return{}}function jI(e,t){const n={},i=T(t,["nextPageToken"]);i!=null&&b(n,["nextPageToken"],i);const s=T(t,["cachedContents"]);if(s!=null){let o=s;Array.isArray(o)&&(o=o.map(u=>hc(e,u))),b(n,["cachedContents"],o)}return n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var ml;(function(e){e.PAGED_ITEM_BATCH_JOBS="batchJobs",e.PAGED_ITEM_MODELS="models",e.PAGED_ITEM_TUNING_JOBS="tuningJobs",e.PAGED_ITEM_FILES="files",e.PAGED_ITEM_CACHED_CONTENTS="cachedContents"})(ml||(ml={}));class Zh{constructor(t,n,i,s){this.pageInternal=[],this.paramsInternal={},this.requestInternal=n,this.init(t,i,s)}init(t,n,i){var s,o;this.nameInternal=t,this.pageInternal=n[this.nameInternal]||[],this.idxInternal=0;let u={config:{}};i?typeof i=="object"?u=Object.assign({},i):u=i:u={config:{}},u.config&&(u.config.pageToken=n.nextPageToken),this.paramsInternal=u,this.pageInternalSize=(o=(s=u.config)===null||s===void 0?void 0:s.pageSize)!==null&&o!==void 0?o:this.pageInternal.length}initNextPage(t){this.init(this.nameInternal,t,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(t){return this.pageInternal[t]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const t=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:t,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const t=await this.requestInternal(this.params);return this.initNextPage(t),this.page}hasNextPage(){var t;return((t=this.params.config)===null||t===void 0?void 0:t.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var W1;(function(e){e.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",e.OUTCOME_OK="OUTCOME_OK",e.OUTCOME_FAILED="OUTCOME_FAILED",e.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(W1||(W1={}));var Q1;(function(e){e.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",e.PYTHON="PYTHON"})(Q1||(Q1={}));var J1;(function(e){e.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",e.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",e.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",e.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",e.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",e.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY"})(J1||(J1={}));var Z1;(function(e){e.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",e.SEVERITY="SEVERITY",e.PROBABILITY="PROBABILITY"})(Z1||(Z1={}));var eT;(function(e){e.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",e.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",e.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",e.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",e.BLOCK_NONE="BLOCK_NONE",e.OFF="OFF"})(eT||(eT={}));var tT;(function(e){e.MODE_UNSPECIFIED="MODE_UNSPECIFIED",e.MODE_DYNAMIC="MODE_DYNAMIC"})(tT||(tT={}));var nT;(function(e){e.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",e.STRING="STRING",e.NUMBER="NUMBER",e.INTEGER="INTEGER",e.BOOLEAN="BOOLEAN",e.ARRAY="ARRAY",e.OBJECT="OBJECT"})(nT||(nT={}));var iT;(function(e){e.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",e.STOP="STOP",e.MAX_TOKENS="MAX_TOKENS",e.SAFETY="SAFETY",e.RECITATION="RECITATION",e.LANGUAGE="LANGUAGE",e.OTHER="OTHER",e.BLOCKLIST="BLOCKLIST",e.PROHIBITED_CONTENT="PROHIBITED_CONTENT",e.SPII="SPII",e.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",e.IMAGE_SAFETY="IMAGE_SAFETY"})(iT||(iT={}));var aT;(function(e){e.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",e.NEGLIGIBLE="NEGLIGIBLE",e.LOW="LOW",e.MEDIUM="MEDIUM",e.HIGH="HIGH"})(aT||(aT={}));var rT;(function(e){e.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",e.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",e.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",e.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",e.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(rT||(rT={}));var sT;(function(e){e.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",e.SAFETY="SAFETY",e.OTHER="OTHER",e.BLOCKLIST="BLOCKLIST",e.PROHIBITED_CONTENT="PROHIBITED_CONTENT"})(sT||(sT={}));var oT;(function(e){e.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",e.ON_DEMAND="ON_DEMAND",e.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(oT||(oT={}));var Cc;(function(e){e.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",e.TEXT="TEXT",e.IMAGE="IMAGE",e.AUDIO="AUDIO"})(Cc||(Cc={}));var lT;(function(e){e.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",e.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",e.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",e.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(lT||(lT={}));var rh;(function(e){e.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",e.JOB_STATE_QUEUED="JOB_STATE_QUEUED",e.JOB_STATE_PENDING="JOB_STATE_PENDING",e.JOB_STATE_RUNNING="JOB_STATE_RUNNING",e.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",e.JOB_STATE_FAILED="JOB_STATE_FAILED",e.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",e.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",e.JOB_STATE_PAUSED="JOB_STATE_PAUSED",e.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",e.JOB_STATE_UPDATING="JOB_STATE_UPDATING",e.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(rh||(rh={}));var uT;(function(e){e.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",e.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",e.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",e.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",e.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",e.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",e.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(uT||(uT={}));var cT;(function(e){e.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",e.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",e.BALANCED="BALANCED",e.PRIORITIZE_COST="PRIORITIZE_COST"})(cT||(cT={}));var dT;(function(e){e.MODE_UNSPECIFIED="MODE_UNSPECIFIED",e.MODE_DYNAMIC="MODE_DYNAMIC"})(dT||(dT={}));var fT;(function(e){e.MODE_UNSPECIFIED="MODE_UNSPECIFIED",e.AUTO="AUTO",e.ANY="ANY",e.NONE="NONE"})(fT||(fT={}));var mT;(function(e){e.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",e.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",e.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",e.BLOCK_NONE="BLOCK_NONE"})(mT||(mT={}));var hT;(function(e){e.DONT_ALLOW="DONT_ALLOW",e.ALLOW_ADULT="ALLOW_ADULT",e.ALLOW_ALL="ALLOW_ALL"})(hT||(hT={}));var pT;(function(e){e.auto="auto",e.en="en",e.ja="ja",e.ko="ko",e.hi="hi"})(pT||(pT={}));var gT;(function(e){e.STATE_UNSPECIFIED="STATE_UNSPECIFIED",e.PROCESSING="PROCESSING",e.ACTIVE="ACTIVE",e.FAILED="FAILED"})(gT||(gT={}));var yT;(function(e){e.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",e.UPLOADED="UPLOADED",e.GENERATED="GENERATED"})(yT||(yT={}));var TT;(function(e){e.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",e.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",e.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",e.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",e.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(TT||(TT={}));var bT;(function(e){e.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",e.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",e.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",e.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(bT||(bT={}));var xT;(function(e){e.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",e.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",e.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",e.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(xT||(xT={}));var ET;(function(e){e.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",e.TEXT="TEXT",e.IMAGE="IMAGE",e.VIDEO="VIDEO",e.AUDIO="AUDIO",e.DOCUMENT="DOCUMENT"})(ET||(ET={}));var vT;(function(e){e.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",e.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",e.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(vT||(vT={}));var ST;(function(e){e.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",e.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",e.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(ST||(ST={}));var CT;(function(e){e.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",e.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",e.NO_INTERRUPTION="NO_INTERRUPTION"})(CT||(CT={}));var AT;(function(e){e.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",e.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",e.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(AT||(AT={}));class Wu{get text(){var t,n,i,s,o,u,c,m;if(((s=(i=(n=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||n===void 0?void 0:n.content)===null||i===void 0?void 0:i.parts)===null||s===void 0?void 0:s.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let f="",h=!1;const y=[];for(const v of(m=(c=(u=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||u===void 0?void 0:u.content)===null||c===void 0?void 0:c.parts)!==null&&m!==void 0?m:[]){for(const[S,_]of Object.entries(v))S!=="text"&&S!=="thought"&&(_!==null||_!==void 0)&&y.push(S);if(typeof v.text=="string"){if(typeof v.thought=="boolean"&&v.thought)continue;h=!0,f+=v.text}}return y.length>0&&console.warn(`there are non-text parts ${y} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),h?f:void 0}get data(){var t,n,i,s,o,u,c,m;if(((s=(i=(n=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||n===void 0?void 0:n.content)===null||i===void 0?void 0:i.parts)===null||s===void 0?void 0:s.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let f="";const h=[];for(const y of(m=(c=(u=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||u===void 0?void 0:u.content)===null||c===void 0?void 0:c.parts)!==null&&m!==void 0?m:[]){for(const[v,S]of Object.entries(y))v!=="inlineData"&&(S!==null||S!==void 0)&&h.push(v);y.inlineData&&typeof y.inlineData.data=="string"&&(f+=atob(y.inlineData.data))}return h.length>0&&console.warn(`there are non-data parts ${h} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),f.length>0?btoa(f):void 0}get functionCalls(){var t,n,i,s,o,u,c,m;if(((s=(i=(n=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||n===void 0?void 0:n.content)===null||i===void 0?void 0:i.parts)===null||s===void 0?void 0:s.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const f=(m=(c=(u=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||u===void 0?void 0:u.content)===null||c===void 0?void 0:c.parts)===null||m===void 0?void 0:m.filter(h=>h.functionCall).map(h=>h.functionCall).filter(h=>h!==void 0);if((f==null?void 0:f.length)!==0)return f}get executableCode(){var t,n,i,s,o,u,c,m,f;if(((s=(i=(n=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||n===void 0?void 0:n.content)===null||i===void 0?void 0:i.parts)===null||s===void 0?void 0:s.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const h=(m=(c=(u=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||u===void 0?void 0:u.content)===null||c===void 0?void 0:c.parts)===null||m===void 0?void 0:m.filter(y=>y.executableCode).map(y=>y.executableCode).filter(y=>y!==void 0);if((h==null?void 0:h.length)!==0)return(f=h==null?void 0:h[0])===null||f===void 0?void 0:f.code}get codeExecutionResult(){var t,n,i,s,o,u,c,m,f;if(((s=(i=(n=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||n===void 0?void 0:n.content)===null||i===void 0?void 0:i.parts)===null||s===void 0?void 0:s.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const h=(m=(c=(u=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||u===void 0?void 0:u.content)===null||c===void 0?void 0:c.parts)===null||m===void 0?void 0:m.filter(y=>y.codeExecutionResult).map(y=>y.codeExecutionResult).filter(y=>y!==void 0);if((h==null?void 0:h.length)!==0)return(f=h==null?void 0:h[0])===null||f===void 0?void 0:f.output}}class _T{}class IT{}class NT{}class MT{}class GI{}class DT{}class RT{}class kT{}class qI{}class sh{constructor(t){const n={};for(const i of t.headers.entries())n[i[0]]=i[1];this.headers=n,this.responseInternal=t}json(){return this.responseInternal.json()}}class YI{}class KI{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class $I extends Il{constructor(t){super(),this.apiClient=t,this.list=async(n={})=>new Zh(ml.PAGED_ITEM_CACHED_CONTENTS,i=>this.listInternal(i),await this.listInternal(n),n)}async create(t){var n,i,s,o;let u,c="",m={};if(this.apiClient.isVertexAI()){const f=wI(this.apiClient,t);return c=Ve("cachedContents",f._url),m=f._query,delete f.config,delete f._url,delete f._query,u=this.apiClient.request({path:c,queryParams:m,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json()),u.then(h=>hc(this.apiClient,h))}else{const f=TI(this.apiClient,t);return c=Ve("cachedContents",f._url),m=f._query,delete f.config,delete f._url,delete f._query,u=this.apiClient.request({path:c,queryParams:m,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(s=t.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json()),u.then(h=>mc(this.apiClient,h))}}async get(t){var n,i,s,o;let u,c="",m={};if(this.apiClient.isVertexAI()){const f=LI(this.apiClient,t);return c=Ve("{name}",f._url),m=f._query,delete f.config,delete f._url,delete f._query,u=this.apiClient.request({path:c,queryParams:m,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json()),u.then(h=>hc(this.apiClient,h))}else{const f=bI(this.apiClient,t);return c=Ve("{name}",f._url),m=f._query,delete f.config,delete f._url,delete f._query,u=this.apiClient.request({path:c,queryParams:m,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(s=t.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json()),u.then(h=>mc(this.apiClient,h))}}async delete(t){var n,i,s,o;let u,c="",m={};if(this.apiClient.isVertexAI()){const f=OI(this.apiClient,t);return c=Ve("{name}",f._url),m=f._query,delete f.config,delete f._url,delete f._query,u=this.apiClient.request({path:c,queryParams:m,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json()),u.then(()=>{const h=zI(),y=new RT;return Object.assign(y,h),y})}else{const f=xI(this.apiClient,t);return c=Ve("{name}",f._url),m=f._query,delete f.config,delete f._url,delete f._query,u=this.apiClient.request({path:c,queryParams:m,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(s=t.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json()),u.then(()=>{const h=UI(),y=new RT;return Object.assign(y,h),y})}}async update(t){var n,i,s,o;let u,c="",m={};if(this.apiClient.isVertexAI()){const f=BI(this.apiClient,t);return c=Ve("{name}",f._url),m=f._query,delete f.config,delete f._url,delete f._query,u=this.apiClient.request({path:c,queryParams:m,body:JSON.stringify(f),httpMethod:"PATCH",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json()),u.then(h=>hc(this.apiClient,h))}else{const f=vI(this.apiClient,t);return c=Ve("{name}",f._url),m=f._query,delete f.config,delete f._url,delete f._query,u=this.apiClient.request({path:c,queryParams:m,body:JSON.stringify(f),httpMethod:"PATCH",httpOptions:(s=t.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json()),u.then(h=>mc(this.apiClient,h))}}async listInternal(t){var n,i,s,o;let u,c="",m={};if(this.apiClient.isVertexAI()){const f=HI(this.apiClient,t);return c=Ve("cachedContents",f._url),m=f._query,delete f.config,delete f._url,delete f._query,u=this.apiClient.request({path:c,queryParams:m,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json()),u.then(h=>{const y=jI(this.apiClient,h),v=new kT;return Object.assign(v,y),v})}else{const f=CI(this.apiClient,t);return c=Ve("cachedContents",f._url),m=f._query,delete f.config,delete f._url,delete f._query,u=this.apiClient.request({path:c,queryParams:m,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(s=t.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json()),u.then(h=>{const y=VI(this.apiClient,h),v=new kT;return Object.assign(v,y),v})}}}function wT(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],i=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&i>=e.length&&(e=void 0),{value:e&&e[i++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function sn(e){return this instanceof sn?(this.v=e,this):new sn(e)}function Ac(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=n.apply(e,t||[]),s,o=[];return s=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),c("next"),c("throw"),c("return",u),s[Symbol.asyncIterator]=function(){return this},s;function u(S){return function(_){return Promise.resolve(_).then(S,y)}}function c(S,_){i[S]&&(s[S]=function(I){return new Promise(function(O,D){o.push([S,I,O,D])>1||m(S,I)})},_&&(s[S]=_(s[S])))}function m(S,_){try{f(i[S](_))}catch(I){v(o[0][3],I)}}function f(S){S.value instanceof sn?Promise.resolve(S.value.v).then(h,y):v(o[0][2],S)}function h(S){m("next",S)}function y(S){m("throw",S)}function v(S,_){S(_),o.shift(),o.length&&m(o[0][0],o[0][1])}}function oh(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],n;return t?t.call(e):(e=typeof wT=="function"?wT(e):e[Symbol.iterator](),n={},i("next"),i("throw"),i("return"),n[Symbol.asyncIterator]=function(){return this},n);function i(o){n[o]=e[o]&&function(u){return new Promise(function(c,m){u=e[o](u),s(c,m,u.done,u.value)})}}function s(o,u,c,m){Promise.resolve(m).then(function(f){o({value:f,done:c})},u)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function XI(e){var t;if(e.candidates==null||e.candidates.length===0)return!1;const n=(t=e.candidates[0])===null||t===void 0?void 0:t.content;return n===void 0?!1:YE(n)}function YE(e){if(e.parts===void 0||e.parts.length===0)return!1;for(const t of e.parts)if(t===void 0||Object.keys(t).length===0||t.text!==void 0&&t.text==="")return!1;return!0}function WI(e){if(e.length!==0){if(e[0].role!=="user")throw new Error("History must start with a user turn.");for(const t of e)if(t.role!=="user"&&t.role!=="model")throw new Error(`Role must be user or model, but got ${t.role}.`)}}function QI(e){if(e===void 0||e.length===0)return[];const t=[],n=e.length;let i=0,s=e[0];for(;i<n;)if(e[i].role==="user")s=e[i],i++;else{const o=[];let u=!0;for(;i<n&&e[i].role==="model";)o.push(e[i]),u&&!YE(e[i])&&(u=!1),i++;u&&(t.push(s),t.push(...o))}return t}class JI{constructor(t,n){this.modelsModule=t,this.apiClient=n}create(t){return new ZI(this.apiClient,this.modelsModule,t.model,t.config,t.history)}}class ZI{constructor(t,n,i,s={},o=[]){this.apiClient=t,this.modelsModule=n,this.model=i,this.config=s,this.history=o,this.sendPromise=Promise.resolve(),WI(o)}async sendMessage(t){var n;await this.sendPromise;const i=An(this.apiClient,t.message),s=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(i),config:(n=t.config)!==null&&n!==void 0?n:this.config});return this.sendPromise=(async()=>{var o,u;const m=(u=(o=(await s).candidates)===null||o===void 0?void 0:o[0])===null||u===void 0?void 0:u.content,f=m?[m]:[];this.recordHistory(i,f)})(),await this.sendPromise,s}async sendMessageStream(t){var n;await this.sendPromise;const i=An(this.apiClient,t.message),s=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(i),config:(n=t.config)!==null&&n!==void 0?n:this.config});this.sendPromise=s.then(()=>{}).catch(()=>{});const o=await s;return this.processStreamResponse(o,i)}getHistory(t=!1){return t?QI(this.history):this.history}processStreamResponse(t,n){var i,s;return Ac(this,arguments,function*(){var u,c,m,f;const h=[];try{for(var y=!0,v=oh(t),S;S=yield sn(v.next()),u=S.done,!u;y=!0){f=S.value,y=!1;const _=f;if(XI(_)){const I=(s=(i=_.candidates)===null||i===void 0?void 0:i[0])===null||s===void 0?void 0:s.content;I!==void 0&&h.push(I)}yield yield sn(_)}}catch(_){c={error:_}}finally{try{!y&&!u&&(m=v.return)&&(yield sn(m.call(v)))}finally{if(c)throw c.error}}this.recordHistory(n,h)})}recordHistory(t,n){let i=[];n.length>0&&n.every(s=>s.role==="model")?i=n:i.push({role:"model",parts:[]}),this.history.push(t),this.history.push(...i)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function eN(e,t,n){const i={},s=T(t,["pageSize"]);n!==void 0&&s!=null&&b(n,["_query","pageSize"],s);const o=T(t,["pageToken"]);return n!==void 0&&o!=null&&b(n,["_query","pageToken"],o),i}function tN(e,t){const n={},i=T(t,["config"]);return i!=null&&b(n,["config"],eN(e,i,n)),n}function nN(e,t){const n={},i=T(t,["details"]);i!=null&&b(n,["details"],i);const s=T(t,["message"]);s!=null&&b(n,["message"],s);const o=T(t,["code"]);return o!=null&&b(n,["code"],o),n}function iN(e,t){const n={},i=T(t,["name"]);i!=null&&b(n,["name"],i);const s=T(t,["displayName"]);s!=null&&b(n,["displayName"],s);const o=T(t,["mimeType"]);o!=null&&b(n,["mimeType"],o);const u=T(t,["sizeBytes"]);u!=null&&b(n,["sizeBytes"],u);const c=T(t,["createTime"]);c!=null&&b(n,["createTime"],c);const m=T(t,["expirationTime"]);m!=null&&b(n,["expirationTime"],m);const f=T(t,["updateTime"]);f!=null&&b(n,["updateTime"],f);const h=T(t,["sha256Hash"]);h!=null&&b(n,["sha256Hash"],h);const y=T(t,["uri"]);y!=null&&b(n,["uri"],y);const v=T(t,["downloadUri"]);v!=null&&b(n,["downloadUri"],v);const S=T(t,["state"]);S!=null&&b(n,["state"],S);const _=T(t,["source"]);_!=null&&b(n,["source"],_);const I=T(t,["videoMetadata"]);I!=null&&b(n,["videoMetadata"],I);const O=T(t,["error"]);return O!=null&&b(n,["error"],nN(e,O)),n}function aN(e,t){const n={},i=T(t,["file"]);i!=null&&b(n,["file"],iN(e,i));const s=T(t,["config"]);return s!=null&&b(n,["config"],s),n}function rN(e,t){const n={},i=T(t,["name"]);i!=null&&b(n,["_url","file"],qE(e,i));const s=T(t,["config"]);return s!=null&&b(n,["config"],s),n}function sN(e,t){const n={},i=T(t,["name"]);i!=null&&b(n,["_url","file"],qE(e,i));const s=T(t,["config"]);return s!=null&&b(n,["config"],s),n}function oN(e,t){const n={},i=T(t,["details"]);i!=null&&b(n,["details"],i);const s=T(t,["message"]);s!=null&&b(n,["message"],s);const o=T(t,["code"]);return o!=null&&b(n,["code"],o),n}function lh(e,t){const n={},i=T(t,["name"]);i!=null&&b(n,["name"],i);const s=T(t,["displayName"]);s!=null&&b(n,["displayName"],s);const o=T(t,["mimeType"]);o!=null&&b(n,["mimeType"],o);const u=T(t,["sizeBytes"]);u!=null&&b(n,["sizeBytes"],u);const c=T(t,["createTime"]);c!=null&&b(n,["createTime"],c);const m=T(t,["expirationTime"]);m!=null&&b(n,["expirationTime"],m);const f=T(t,["updateTime"]);f!=null&&b(n,["updateTime"],f);const h=T(t,["sha256Hash"]);h!=null&&b(n,["sha256Hash"],h);const y=T(t,["uri"]);y!=null&&b(n,["uri"],y);const v=T(t,["downloadUri"]);v!=null&&b(n,["downloadUri"],v);const S=T(t,["state"]);S!=null&&b(n,["state"],S);const _=T(t,["source"]);_!=null&&b(n,["source"],_);const I=T(t,["videoMetadata"]);I!=null&&b(n,["videoMetadata"],I);const O=T(t,["error"]);return O!=null&&b(n,["error"],oN(e,O)),n}function lN(e,t){const n={},i=T(t,["nextPageToken"]);i!=null&&b(n,["nextPageToken"],i);const s=T(t,["files"]);if(s!=null){let o=s;Array.isArray(o)&&(o=o.map(u=>lh(e,u))),b(n,["files"],o)}return n}function uN(){return{}}function cN(){return{}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class dN extends Il{constructor(t){super(),this.apiClient=t,this.list=async(n={})=>new Zh(ml.PAGED_ITEM_FILES,i=>this.listInternal(i),await this.listInternal(n),n)}async upload(t){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(t.file,t.config).then(n=>lh(this.apiClient,n))}async listInternal(t){var n,i;let s,o="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=tN(this.apiClient,t);return o=Ve("files",c._url),u=c._query,delete c.config,delete c._url,delete c._query,s=this.apiClient.request({path:o,queryParams:u,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(m=>m.json()),s.then(m=>{const f=lN(this.apiClient,m),h=new qI;return Object.assign(h,f),h})}}async createInternal(t){var n,i;let s,o="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=aN(this.apiClient,t);return o=Ve("upload/v1beta/files",c._url),u=c._query,delete c.config,delete c._url,delete c._query,s=this.apiClient.request({path:o,queryParams:u,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(m=>m.json()),s.then(()=>{const m=uN(),f=new YI;return Object.assign(f,m),f})}}async get(t){var n,i;let s,o="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=rN(this.apiClient,t);return o=Ve("files/{file}",c._url),u=c._query,delete c.config,delete c._url,delete c._query,s=this.apiClient.request({path:o,queryParams:u,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(m=>m.json()),s.then(m=>lh(this.apiClient,m))}}async delete(t){var n,i;let s,o="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=sN(this.apiClient,t);return o=Ve("files/{file}",c._url),u=c._query,delete c.config,delete c._url,delete c._query,s=this.apiClient.request({path:o,queryParams:u,body:JSON.stringify(c),httpMethod:"DELETE",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(m=>m.json()),s.then(()=>{const m=cN(),f=new KI;return Object.assign(f,m),f})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function fN(e,t){const n={};if(T(t,["videoMetadata"])!==void 0)throw new Error("videoMetadata parameter is not supported in Gemini API.");const i=T(t,["thought"]);i!=null&&b(n,["thought"],i);const s=T(t,["codeExecutionResult"]);s!=null&&b(n,["codeExecutionResult"],s);const o=T(t,["executableCode"]);o!=null&&b(n,["executableCode"],o);const u=T(t,["fileData"]);u!=null&&b(n,["fileData"],u);const c=T(t,["functionCall"]);c!=null&&b(n,["functionCall"],c);const m=T(t,["functionResponse"]);m!=null&&b(n,["functionResponse"],m);const f=T(t,["inlineData"]);f!=null&&b(n,["inlineData"],f);const h=T(t,["text"]);return h!=null&&b(n,["text"],h),n}function mN(e,t){const n={},i=T(t,["videoMetadata"]);i!=null&&b(n,["videoMetadata"],i);const s=T(t,["thought"]);s!=null&&b(n,["thought"],s);const o=T(t,["codeExecutionResult"]);o!=null&&b(n,["codeExecutionResult"],o);const u=T(t,["executableCode"]);u!=null&&b(n,["executableCode"],u);const c=T(t,["fileData"]);c!=null&&b(n,["fileData"],c);const m=T(t,["functionCall"]);m!=null&&b(n,["functionCall"],m);const f=T(t,["functionResponse"]);f!=null&&b(n,["functionResponse"],f);const h=T(t,["inlineData"]);h!=null&&b(n,["inlineData"],h);const y=T(t,["text"]);return y!=null&&b(n,["text"],y),n}function hN(e,t){const n={},i=T(t,["parts"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(u=>fN(e,u))),b(n,["parts"],o)}const s=T(t,["role"]);return s!=null&&b(n,["role"],s),n}function pN(e,t){const n={},i=T(t,["parts"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(u=>mN(e,u))),b(n,["parts"],o)}const s=T(t,["role"]);return s!=null&&b(n,["role"],s),n}function gN(){return{}}function yN(){return{}}function TN(e,t){const n={},i=T(t,["mode"]);i!=null&&b(n,["mode"],i);const s=T(t,["dynamicThreshold"]);return s!=null&&b(n,["dynamicThreshold"],s),n}function bN(e,t){const n={},i=T(t,["mode"]);i!=null&&b(n,["mode"],i);const s=T(t,["dynamicThreshold"]);return s!=null&&b(n,["dynamicThreshold"],s),n}function xN(e,t){const n={},i=T(t,["dynamicRetrievalConfig"]);return i!=null&&b(n,["dynamicRetrievalConfig"],TN(e,i)),n}function EN(e,t){const n={},i=T(t,["dynamicRetrievalConfig"]);return i!=null&&b(n,["dynamicRetrievalConfig"],bN(e,i)),n}function vN(e,t){const n={};if(T(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");T(t,["googleSearch"])!=null&&b(n,["googleSearch"],gN());const s=T(t,["googleSearchRetrieval"]);s!=null&&b(n,["googleSearchRetrieval"],xN(e,s));const o=T(t,["codeExecution"]);o!=null&&b(n,["codeExecution"],o);const u=T(t,["functionDeclarations"]);return u!=null&&b(n,["functionDeclarations"],u),n}function SN(e,t){const n={},i=T(t,["retrieval"]);i!=null&&b(n,["retrieval"],i),T(t,["googleSearch"])!=null&&b(n,["googleSearch"],yN());const o=T(t,["googleSearchRetrieval"]);o!=null&&b(n,["googleSearchRetrieval"],EN(e,o));const u=T(t,["codeExecution"]);u!=null&&b(n,["codeExecution"],u);const c=T(t,["functionDeclarations"]);return c!=null&&b(n,["functionDeclarations"],c),n}function CN(e,t){const n={},i=T(t,["handle"]);if(i!=null&&b(n,["handle"],i),T(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return n}function AN(e,t){const n={},i=T(t,["handle"]);i!=null&&b(n,["handle"],i);const s=T(t,["transparent"]);return s!=null&&b(n,["transparent"],s),n}function _N(){return{}}function LT(){return{}}function IN(e,t){const n={},i=T(t,["disabled"]);i!=null&&b(n,["disabled"],i);const s=T(t,["startOfSpeechSensitivity"]);s!=null&&b(n,["startOfSpeechSensitivity"],s);const o=T(t,["endOfSpeechSensitivity"]);o!=null&&b(n,["endOfSpeechSensitivity"],o);const u=T(t,["prefixPaddingMs"]);u!=null&&b(n,["prefixPaddingMs"],u);const c=T(t,["silenceDurationMs"]);return c!=null&&b(n,["silenceDurationMs"],c),n}function NN(e,t){const n={},i=T(t,["disabled"]);i!=null&&b(n,["disabled"],i);const s=T(t,["startOfSpeechSensitivity"]);s!=null&&b(n,["startOfSpeechSensitivity"],s);const o=T(t,["endOfSpeechSensitivity"]);o!=null&&b(n,["endOfSpeechSensitivity"],o);const u=T(t,["prefixPaddingMs"]);u!=null&&b(n,["prefixPaddingMs"],u);const c=T(t,["silenceDurationMs"]);return c!=null&&b(n,["silenceDurationMs"],c),n}function MN(e,t){const n={},i=T(t,["automaticActivityDetection"]);i!=null&&b(n,["automaticActivityDetection"],IN(e,i));const s=T(t,["activityHandling"]);s!=null&&b(n,["activityHandling"],s);const o=T(t,["turnCoverage"]);return o!=null&&b(n,["turnCoverage"],o),n}function DN(e,t){const n={},i=T(t,["automaticActivityDetection"]);i!=null&&b(n,["automaticActivityDetection"],NN(e,i));const s=T(t,["activityHandling"]);s!=null&&b(n,["activityHandling"],s);const o=T(t,["turnCoverage"]);return o!=null&&b(n,["turnCoverage"],o),n}function RN(e,t){const n={},i=T(t,["targetTokens"]);return i!=null&&b(n,["targetTokens"],i),n}function kN(e,t){const n={},i=T(t,["targetTokens"]);return i!=null&&b(n,["targetTokens"],i),n}function wN(e,t){const n={},i=T(t,["triggerTokens"]);i!=null&&b(n,["triggerTokens"],i);const s=T(t,["slidingWindow"]);return s!=null&&b(n,["slidingWindow"],RN(e,s)),n}function LN(e,t){const n={},i=T(t,["triggerTokens"]);i!=null&&b(n,["triggerTokens"],i);const s=T(t,["slidingWindow"]);return s!=null&&b(n,["slidingWindow"],kN(e,s)),n}function ON(e,t,n){const i={},s=T(t,["generationConfig"]);n!==void 0&&s!=null&&b(n,["setup","generationConfig"],s);const o=T(t,["responseModalities"]);n!==void 0&&o!=null&&b(n,["setup","generationConfig","responseModalities"],o);const u=T(t,["temperature"]);n!==void 0&&u!=null&&b(n,["setup","generationConfig","temperature"],u);const c=T(t,["topP"]);n!==void 0&&c!=null&&b(n,["setup","generationConfig","topP"],c);const m=T(t,["topK"]);n!==void 0&&m!=null&&b(n,["setup","generationConfig","topK"],m);const f=T(t,["maxOutputTokens"]);n!==void 0&&f!=null&&b(n,["setup","generationConfig","maxOutputTokens"],f);const h=T(t,["mediaResolution"]);n!==void 0&&h!=null&&b(n,["setup","generationConfig","mediaResolution"],h);const y=T(t,["seed"]);n!==void 0&&y!=null&&b(n,["setup","generationConfig","seed"],y);const v=T(t,["speechConfig"]);n!==void 0&&v!=null&&b(n,["setup","generationConfig","speechConfig"],v);const S=T(t,["systemInstruction"]);n!==void 0&&S!=null&&b(n,["setup","systemInstruction"],hN(e,An(e,S)));const _=T(t,["tools"]);if(n!==void 0&&_!=null){let R=Vc(e,_);Array.isArray(R)&&(R=R.map(V=>vN(e,Uc(e,V)))),b(n,["setup","tools"],R)}const I=T(t,["sessionResumption"]);if(n!==void 0&&I!=null&&b(n,["setup","sessionResumption"],CN(e,I)),T(t,["inputAudioTranscription"])!==void 0)throw new Error("inputAudioTranscription parameter is not supported in Gemini API.");const O=T(t,["outputAudioTranscription"]);n!==void 0&&O!=null&&b(n,["setup","outputAudioTranscription"],_N());const D=T(t,["realtimeInputConfig"]);n!==void 0&&D!=null&&b(n,["setup","realtimeInputConfig"],MN(e,D));const H=T(t,["contextWindowCompression"]);return n!==void 0&&H!=null&&b(n,["setup","contextWindowCompression"],wN(e,H)),i}function PN(e,t,n){const i={},s=T(t,["generationConfig"]);n!==void 0&&s!=null&&b(n,["setup","generationConfig"],s);const o=T(t,["responseModalities"]);n!==void 0&&o!=null&&b(n,["setup","generationConfig","responseModalities"],o);const u=T(t,["temperature"]);n!==void 0&&u!=null&&b(n,["setup","generationConfig","temperature"],u);const c=T(t,["topP"]);n!==void 0&&c!=null&&b(n,["setup","generationConfig","topP"],c);const m=T(t,["topK"]);n!==void 0&&m!=null&&b(n,["setup","generationConfig","topK"],m);const f=T(t,["maxOutputTokens"]);n!==void 0&&f!=null&&b(n,["setup","generationConfig","maxOutputTokens"],f);const h=T(t,["mediaResolution"]);n!==void 0&&h!=null&&b(n,["setup","generationConfig","mediaResolution"],h);const y=T(t,["seed"]);n!==void 0&&y!=null&&b(n,["setup","generationConfig","seed"],y);const v=T(t,["speechConfig"]);n!==void 0&&v!=null&&b(n,["setup","generationConfig","speechConfig"],v);const S=T(t,["systemInstruction"]);n!==void 0&&S!=null&&b(n,["setup","systemInstruction"],pN(e,An(e,S)));const _=T(t,["tools"]);if(n!==void 0&&_!=null){let V=Vc(e,_);Array.isArray(V)&&(V=V.map(K=>SN(e,Uc(e,K)))),b(n,["setup","tools"],V)}const I=T(t,["sessionResumption"]);n!==void 0&&I!=null&&b(n,["setup","sessionResumption"],AN(e,I));const O=T(t,["inputAudioTranscription"]);n!==void 0&&O!=null&&b(n,["setup","inputAudioTranscription"],LT());const D=T(t,["outputAudioTranscription"]);n!==void 0&&D!=null&&b(n,["setup","outputAudioTranscription"],LT());const H=T(t,["realtimeInputConfig"]);n!==void 0&&H!=null&&b(n,["setup","realtimeInputConfig"],DN(e,H));const R=T(t,["contextWindowCompression"]);return n!==void 0&&R!=null&&b(n,["setup","contextWindowCompression"],LN(e,R)),i}function BN(e,t){const n={},i=T(t,["model"]);i!=null&&b(n,["setup","model"],Dt(e,i));const s=T(t,["config"]);return s!=null&&b(n,["config"],ON(e,s,n)),n}function FN(e,t){const n={},i=T(t,["model"]);i!=null&&b(n,["setup","model"],Dt(e,i));const s=T(t,["config"]);return s!=null&&b(n,["config"],PN(e,s,n)),n}function HN(){return{}}function UN(){return{}}function VN(){return{}}function zN(){return{}}function jN(e,t){const n={},i=T(t,["media"]);i!=null&&b(n,["mediaChunks"],HE(e,i));const s=T(t,["audio"]);s!=null&&b(n,["audio"],lI(e,s));const o=T(t,["audioStreamEnd"]);o!=null&&b(n,["audioStreamEnd"],o);const u=T(t,["video"]);u!=null&&b(n,["video"],oI(e,u));const c=T(t,["text"]);return c!=null&&b(n,["text"],c),T(t,["activityStart"])!=null&&b(n,["activityStart"],HN()),T(t,["activityEnd"])!=null&&b(n,["activityEnd"],VN()),n}function GN(e,t){const n={},i=T(t,["media"]);if(i!=null&&b(n,["mediaChunks"],HE(e,i)),T(t,["audio"])!==void 0)throw new Error("audio parameter is not supported in Vertex AI.");const s=T(t,["audioStreamEnd"]);if(s!=null&&b(n,["audioStreamEnd"],s),T(t,["video"])!==void 0)throw new Error("video parameter is not supported in Vertex AI.");if(T(t,["text"])!==void 0)throw new Error("text parameter is not supported in Vertex AI.");return T(t,["activityStart"])!=null&&b(n,["activityStart"],UN()),T(t,["activityEnd"])!=null&&b(n,["activityEnd"],zN()),n}function qN(){return{}}function YN(){return{}}function KN(e,t){const n={},i=T(t,["thought"]);i!=null&&b(n,["thought"],i);const s=T(t,["codeExecutionResult"]);s!=null&&b(n,["codeExecutionResult"],s);const o=T(t,["executableCode"]);o!=null&&b(n,["executableCode"],o);const u=T(t,["fileData"]);u!=null&&b(n,["fileData"],u);const c=T(t,["functionCall"]);c!=null&&b(n,["functionCall"],c);const m=T(t,["functionResponse"]);m!=null&&b(n,["functionResponse"],m);const f=T(t,["inlineData"]);f!=null&&b(n,["inlineData"],f);const h=T(t,["text"]);return h!=null&&b(n,["text"],h),n}function $N(e,t){const n={},i=T(t,["videoMetadata"]);i!=null&&b(n,["videoMetadata"],i);const s=T(t,["thought"]);s!=null&&b(n,["thought"],s);const o=T(t,["codeExecutionResult"]);o!=null&&b(n,["codeExecutionResult"],o);const u=T(t,["executableCode"]);u!=null&&b(n,["executableCode"],u);const c=T(t,["fileData"]);c!=null&&b(n,["fileData"],c);const m=T(t,["functionCall"]);m!=null&&b(n,["functionCall"],m);const f=T(t,["functionResponse"]);f!=null&&b(n,["functionResponse"],f);const h=T(t,["inlineData"]);h!=null&&b(n,["inlineData"],h);const y=T(t,["text"]);return y!=null&&b(n,["text"],y),n}function XN(e,t){const n={},i=T(t,["parts"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(u=>KN(e,u))),b(n,["parts"],o)}const s=T(t,["role"]);return s!=null&&b(n,["role"],s),n}function WN(e,t){const n={},i=T(t,["parts"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(u=>$N(e,u))),b(n,["parts"],o)}const s=T(t,["role"]);return s!=null&&b(n,["role"],s),n}function OT(e,t){const n={},i=T(t,["text"]);i!=null&&b(n,["text"],i);const s=T(t,["finished"]);return s!=null&&b(n,["finished"],s),n}function PT(e,t){const n={},i=T(t,["text"]);i!=null&&b(n,["text"],i);const s=T(t,["finished"]);return s!=null&&b(n,["finished"],s),n}function QN(e,t){const n={},i=T(t,["modelTurn"]);i!=null&&b(n,["modelTurn"],XN(e,i));const s=T(t,["turnComplete"]);s!=null&&b(n,["turnComplete"],s);const o=T(t,["interrupted"]);o!=null&&b(n,["interrupted"],o);const u=T(t,["groundingMetadata"]);u!=null&&b(n,["groundingMetadata"],u);const c=T(t,["generationComplete"]);c!=null&&b(n,["generationComplete"],c);const m=T(t,["inputTranscription"]);m!=null&&b(n,["inputTranscription"],OT(e,m));const f=T(t,["outputTranscription"]);return f!=null&&b(n,["outputTranscription"],OT(e,f)),n}function JN(e,t){const n={},i=T(t,["modelTurn"]);i!=null&&b(n,["modelTurn"],WN(e,i));const s=T(t,["turnComplete"]);s!=null&&b(n,["turnComplete"],s);const o=T(t,["interrupted"]);o!=null&&b(n,["interrupted"],o);const u=T(t,["groundingMetadata"]);u!=null&&b(n,["groundingMetadata"],u);const c=T(t,["generationComplete"]);c!=null&&b(n,["generationComplete"],c);const m=T(t,["inputTranscription"]);m!=null&&b(n,["inputTranscription"],PT(e,m));const f=T(t,["outputTranscription"]);return f!=null&&b(n,["outputTranscription"],PT(e,f)),n}function ZN(e,t){const n={},i=T(t,["id"]);i!=null&&b(n,["id"],i);const s=T(t,["args"]);s!=null&&b(n,["args"],s);const o=T(t,["name"]);return o!=null&&b(n,["name"],o),n}function eM(e,t){const n={},i=T(t,["args"]);i!=null&&b(n,["args"],i);const s=T(t,["name"]);return s!=null&&b(n,["name"],s),n}function tM(e,t){const n={},i=T(t,["functionCalls"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(o=>ZN(e,o))),b(n,["functionCalls"],s)}return n}function nM(e,t){const n={},i=T(t,["functionCalls"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(o=>eM(e,o))),b(n,["functionCalls"],s)}return n}function iM(e,t){const n={},i=T(t,["ids"]);return i!=null&&b(n,["ids"],i),n}function aM(e,t){const n={},i=T(t,["ids"]);return i!=null&&b(n,["ids"],i),n}function Qu(e,t){const n={},i=T(t,["modality"]);i!=null&&b(n,["modality"],i);const s=T(t,["tokenCount"]);return s!=null&&b(n,["tokenCount"],s),n}function Ju(e,t){const n={},i=T(t,["modality"]);i!=null&&b(n,["modality"],i);const s=T(t,["tokenCount"]);return s!=null&&b(n,["tokenCount"],s),n}function rM(e,t){const n={},i=T(t,["promptTokenCount"]);i!=null&&b(n,["promptTokenCount"],i);const s=T(t,["cachedContentTokenCount"]);s!=null&&b(n,["cachedContentTokenCount"],s);const o=T(t,["responseTokenCount"]);o!=null&&b(n,["responseTokenCount"],o);const u=T(t,["toolUsePromptTokenCount"]);u!=null&&b(n,["toolUsePromptTokenCount"],u);const c=T(t,["thoughtsTokenCount"]);c!=null&&b(n,["thoughtsTokenCount"],c);const m=T(t,["totalTokenCount"]);m!=null&&b(n,["totalTokenCount"],m);const f=T(t,["promptTokensDetails"]);if(f!=null){let S=f;Array.isArray(S)&&(S=S.map(_=>Qu(e,_))),b(n,["promptTokensDetails"],S)}const h=T(t,["cacheTokensDetails"]);if(h!=null){let S=h;Array.isArray(S)&&(S=S.map(_=>Qu(e,_))),b(n,["cacheTokensDetails"],S)}const y=T(t,["responseTokensDetails"]);if(y!=null){let S=y;Array.isArray(S)&&(S=S.map(_=>Qu(e,_))),b(n,["responseTokensDetails"],S)}const v=T(t,["toolUsePromptTokensDetails"]);if(v!=null){let S=v;Array.isArray(S)&&(S=S.map(_=>Qu(e,_))),b(n,["toolUsePromptTokensDetails"],S)}return n}function sM(e,t){const n={},i=T(t,["promptTokenCount"]);i!=null&&b(n,["promptTokenCount"],i);const s=T(t,["cachedContentTokenCount"]);s!=null&&b(n,["cachedContentTokenCount"],s);const o=T(t,["candidatesTokenCount"]);o!=null&&b(n,["responseTokenCount"],o);const u=T(t,["toolUsePromptTokenCount"]);u!=null&&b(n,["toolUsePromptTokenCount"],u);const c=T(t,["thoughtsTokenCount"]);c!=null&&b(n,["thoughtsTokenCount"],c);const m=T(t,["totalTokenCount"]);m!=null&&b(n,["totalTokenCount"],m);const f=T(t,["promptTokensDetails"]);if(f!=null){let _=f;Array.isArray(_)&&(_=_.map(I=>Ju(e,I))),b(n,["promptTokensDetails"],_)}const h=T(t,["cacheTokensDetails"]);if(h!=null){let _=h;Array.isArray(_)&&(_=_.map(I=>Ju(e,I))),b(n,["cacheTokensDetails"],_)}const y=T(t,["candidatesTokensDetails"]);if(y!=null){let _=y;Array.isArray(_)&&(_=_.map(I=>Ju(e,I))),b(n,["responseTokensDetails"],_)}const v=T(t,["toolUsePromptTokensDetails"]);if(v!=null){let _=v;Array.isArray(_)&&(_=_.map(I=>Ju(e,I))),b(n,["toolUsePromptTokensDetails"],_)}const S=T(t,["trafficType"]);return S!=null&&b(n,["trafficType"],S),n}function oM(e,t){const n={},i=T(t,["timeLeft"]);return i!=null&&b(n,["timeLeft"],i),n}function lM(e,t){const n={},i=T(t,["timeLeft"]);return i!=null&&b(n,["timeLeft"],i),n}function uM(e,t){const n={},i=T(t,["newHandle"]);i!=null&&b(n,["newHandle"],i);const s=T(t,["resumable"]);s!=null&&b(n,["resumable"],s);const o=T(t,["lastConsumedClientMessageIndex"]);return o!=null&&b(n,["lastConsumedClientMessageIndex"],o),n}function cM(e,t){const n={},i=T(t,["newHandle"]);i!=null&&b(n,["newHandle"],i);const s=T(t,["resumable"]);s!=null&&b(n,["resumable"],s);const o=T(t,["lastConsumedClientMessageIndex"]);return o!=null&&b(n,["lastConsumedClientMessageIndex"],o),n}function dM(e,t){const n={};T(t,["setupComplete"])!=null&&b(n,["setupComplete"],qN());const s=T(t,["serverContent"]);s!=null&&b(n,["serverContent"],QN(e,s));const o=T(t,["toolCall"]);o!=null&&b(n,["toolCall"],tM(e,o));const u=T(t,["toolCallCancellation"]);u!=null&&b(n,["toolCallCancellation"],iM(e,u));const c=T(t,["usageMetadata"]);c!=null&&b(n,["usageMetadata"],rM(e,c));const m=T(t,["goAway"]);m!=null&&b(n,["goAway"],oM(e,m));const f=T(t,["sessionResumptionUpdate"]);return f!=null&&b(n,["sessionResumptionUpdate"],uM(e,f)),n}function fM(e,t){const n={};T(t,["setupComplete"])!=null&&b(n,["setupComplete"],YN());const s=T(t,["serverContent"]);s!=null&&b(n,["serverContent"],JN(e,s));const o=T(t,["toolCall"]);o!=null&&b(n,["toolCall"],nM(e,o));const u=T(t,["toolCallCancellation"]);u!=null&&b(n,["toolCallCancellation"],aM(e,u));const c=T(t,["usageMetadata"]);c!=null&&b(n,["usageMetadata"],sM(e,c));const m=T(t,["goAway"]);m!=null&&b(n,["goAway"],lM(e,m));const f=T(t,["sessionResumptionUpdate"]);return f!=null&&b(n,["sessionResumptionUpdate"],cM(e,f)),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function mM(e,t){const n={};if(T(t,["videoMetadata"])!==void 0)throw new Error("videoMetadata parameter is not supported in Gemini API.");const i=T(t,["thought"]);i!=null&&b(n,["thought"],i);const s=T(t,["codeExecutionResult"]);s!=null&&b(n,["codeExecutionResult"],s);const o=T(t,["executableCode"]);o!=null&&b(n,["executableCode"],o);const u=T(t,["fileData"]);u!=null&&b(n,["fileData"],u);const c=T(t,["functionCall"]);c!=null&&b(n,["functionCall"],c);const m=T(t,["functionResponse"]);m!=null&&b(n,["functionResponse"],m);const f=T(t,["inlineData"]);f!=null&&b(n,["inlineData"],f);const h=T(t,["text"]);return h!=null&&b(n,["text"],h),n}function zc(e,t){const n={},i=T(t,["parts"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(u=>mM(e,u))),b(n,["parts"],o)}const s=T(t,["role"]);return s!=null&&b(n,["role"],s),n}function hM(e,t){const n={};if(T(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const i=T(t,["category"]);i!=null&&b(n,["category"],i);const s=T(t,["threshold"]);return s!=null&&b(n,["threshold"],s),n}function pM(){return{}}function gM(e,t){const n={},i=T(t,["mode"]);i!=null&&b(n,["mode"],i);const s=T(t,["dynamicThreshold"]);return s!=null&&b(n,["dynamicThreshold"],s),n}function yM(e,t){const n={},i=T(t,["dynamicRetrievalConfig"]);return i!=null&&b(n,["dynamicRetrievalConfig"],gM(e,i)),n}function TM(e,t){const n={};if(T(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");T(t,["googleSearch"])!=null&&b(n,["googleSearch"],pM());const s=T(t,["googleSearchRetrieval"]);s!=null&&b(n,["googleSearchRetrieval"],yM(e,s));const o=T(t,["codeExecution"]);o!=null&&b(n,["codeExecution"],o);const u=T(t,["functionDeclarations"]);return u!=null&&b(n,["functionDeclarations"],u),n}function bM(e,t){const n={},i=T(t,["mode"]);i!=null&&b(n,["mode"],i);const s=T(t,["allowedFunctionNames"]);return s!=null&&b(n,["allowedFunctionNames"],s),n}function xM(e,t){const n={},i=T(t,["functionCallingConfig"]);return i!=null&&b(n,["functionCallingConfig"],bM(e,i)),n}function EM(e,t){const n={},i=T(t,["voiceName"]);return i!=null&&b(n,["voiceName"],i),n}function vM(e,t){const n={},i=T(t,["prebuiltVoiceConfig"]);return i!=null&&b(n,["prebuiltVoiceConfig"],EM(e,i)),n}function SM(e,t){const n={},i=T(t,["voiceConfig"]);i!=null&&b(n,["voiceConfig"],vM(e,i));const s=T(t,["languageCode"]);return s!=null&&b(n,["languageCode"],s),n}function CM(e,t){const n={},i=T(t,["includeThoughts"]);i!=null&&b(n,["includeThoughts"],i);const s=T(t,["thinkingBudget"]);return s!=null&&b(n,["thinkingBudget"],s),n}function AM(e,t,n){const i={},s=T(t,["systemInstruction"]);n!==void 0&&s!=null&&b(n,["systemInstruction"],zc(e,An(e,s)));const o=T(t,["temperature"]);o!=null&&b(i,["temperature"],o);const u=T(t,["topP"]);u!=null&&b(i,["topP"],u);const c=T(t,["topK"]);c!=null&&b(i,["topK"],c);const m=T(t,["candidateCount"]);m!=null&&b(i,["candidateCount"],m);const f=T(t,["maxOutputTokens"]);f!=null&&b(i,["maxOutputTokens"],f);const h=T(t,["stopSequences"]);h!=null&&b(i,["stopSequences"],h);const y=T(t,["responseLogprobs"]);y!=null&&b(i,["responseLogprobs"],y);const v=T(t,["logprobs"]);v!=null&&b(i,["logprobs"],v);const S=T(t,["presencePenalty"]);S!=null&&b(i,["presencePenalty"],S);const _=T(t,["frequencyPenalty"]);_!=null&&b(i,["frequencyPenalty"],_);const I=T(t,["seed"]);I!=null&&b(i,["seed"],I);const O=T(t,["responseMimeType"]);O!=null&&b(i,["responseMimeType"],O);const D=T(t,["responseSchema"]);if(D!=null&&b(i,["responseSchema"],zE(e,D)),T(t,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(T(t,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const H=T(t,["safetySettings"]);if(n!==void 0&&H!=null){let Y=H;Array.isArray(Y)&&(Y=Y.map(ye=>hM(e,ye))),b(n,["safetySettings"],Y)}const R=T(t,["tools"]);if(n!==void 0&&R!=null){let Y=Vc(e,R);Array.isArray(Y)&&(Y=Y.map(ye=>TM(e,Uc(e,ye)))),b(n,["tools"],Y)}const V=T(t,["toolConfig"]);if(n!==void 0&&V!=null&&b(n,["toolConfig"],xM(e,V)),T(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const K=T(t,["cachedContent"]);n!==void 0&&K!=null&&b(n,["cachedContent"],ka(e,K));const q=T(t,["responseModalities"]);q!=null&&b(i,["responseModalities"],q);const ue=T(t,["mediaResolution"]);ue!=null&&b(i,["mediaResolution"],ue);const me=T(t,["speechConfig"]);if(me!=null&&b(i,["speechConfig"],SM(e,jE(e,me))),T(t,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const Ae=T(t,["thinkingConfig"]);return Ae!=null&&b(i,["thinkingConfig"],CM(e,Ae)),i}function BT(e,t){const n={},i=T(t,["model"]);i!=null&&b(n,["_url","model"],Dt(e,i));const s=T(t,["contents"]);if(s!=null){let u=Ra(e,s);Array.isArray(u)&&(u=u.map(c=>zc(e,c))),b(n,["contents"],u)}const o=T(t,["config"]);return o!=null&&b(n,["generationConfig"],AM(e,o,n)),n}function _M(e,t,n){const i={},s=T(t,["taskType"]);n!==void 0&&s!=null&&b(n,["requests[]","taskType"],s);const o=T(t,["title"]);n!==void 0&&o!=null&&b(n,["requests[]","title"],o);const u=T(t,["outputDimensionality"]);if(n!==void 0&&u!=null&&b(n,["requests[]","outputDimensionality"],u),T(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(T(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return i}function IM(e,t){const n={},i=T(t,["model"]);i!=null&&b(n,["_url","model"],Dt(e,i));const s=T(t,["contents"]);s!=null&&b(n,["requests[]","content"],VE(e,s));const o=T(t,["config"]);o!=null&&b(n,["config"],_M(e,o,n));const u=T(t,["model"]);return u!==void 0&&b(n,["requests[]","model"],Dt(e,u)),n}function NM(e,t,n){const i={};if(T(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(T(t,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const s=T(t,["numberOfImages"]);n!==void 0&&s!=null&&b(n,["parameters","sampleCount"],s);const o=T(t,["aspectRatio"]);n!==void 0&&o!=null&&b(n,["parameters","aspectRatio"],o);const u=T(t,["guidanceScale"]);if(n!==void 0&&u!=null&&b(n,["parameters","guidanceScale"],u),T(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const c=T(t,["safetyFilterLevel"]);n!==void 0&&c!=null&&b(n,["parameters","safetySetting"],c);const m=T(t,["personGeneration"]);n!==void 0&&m!=null&&b(n,["parameters","personGeneration"],m);const f=T(t,["includeSafetyAttributes"]);n!==void 0&&f!=null&&b(n,["parameters","includeSafetyAttributes"],f);const h=T(t,["includeRaiReason"]);n!==void 0&&h!=null&&b(n,["parameters","includeRaiReason"],h);const y=T(t,["language"]);n!==void 0&&y!=null&&b(n,["parameters","language"],y);const v=T(t,["outputMimeType"]);n!==void 0&&v!=null&&b(n,["parameters","outputOptions","mimeType"],v);const S=T(t,["outputCompressionQuality"]);if(n!==void 0&&S!=null&&b(n,["parameters","outputOptions","compressionQuality"],S),T(t,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(T(t,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return i}function MM(e,t){const n={},i=T(t,["model"]);i!=null&&b(n,["_url","model"],Dt(e,i));const s=T(t,["prompt"]);s!=null&&b(n,["instances[0]","prompt"],s);const o=T(t,["config"]);return o!=null&&b(n,["config"],NM(e,o,n)),n}function DM(e,t){const n={},i=T(t,["model"]);i!=null&&b(n,["_url","name"],Dt(e,i));const s=T(t,["config"]);return s!=null&&b(n,["config"],s),n}function RM(e,t,n){const i={},s=T(t,["displayName"]);n!==void 0&&s!=null&&b(n,["displayName"],s);const o=T(t,["description"]);return n!==void 0&&o!=null&&b(n,["description"],o),i}function kM(e,t){const n={},i=T(t,["model"]);i!=null&&b(n,["_url","name"],Dt(e,i));const s=T(t,["config"]);return s!=null&&b(n,["config"],RM(e,s,n)),n}function wM(e,t){const n={},i=T(t,["model"]);i!=null&&b(n,["_url","name"],Dt(e,i));const s=T(t,["config"]);return s!=null&&b(n,["config"],s),n}function LM(e,t){const n={};if(T(t,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(T(t,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(T(t,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return n}function OM(e,t){const n={},i=T(t,["model"]);i!=null&&b(n,["_url","model"],Dt(e,i));const s=T(t,["contents"]);if(s!=null){let u=Ra(e,s);Array.isArray(u)&&(u=u.map(c=>zc(e,c))),b(n,["contents"],u)}const o=T(t,["config"]);return o!=null&&b(n,["config"],LM(e,o)),n}function PM(e,t){const n={};if(T(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const i=T(t,["imageBytes"]);i!=null&&b(n,["bytesBase64Encoded"],wa(e,i));const s=T(t,["mimeType"]);return s!=null&&b(n,["mimeType"],s),n}function BM(e,t,n){const i={},s=T(t,["numberOfVideos"]);if(n!==void 0&&s!=null&&b(n,["parameters","sampleCount"],s),T(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(T(t,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const o=T(t,["durationSeconds"]);if(n!==void 0&&o!=null&&b(n,["parameters","durationSeconds"],o),T(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const u=T(t,["aspectRatio"]);if(n!==void 0&&u!=null&&b(n,["parameters","aspectRatio"],u),T(t,["resolution"])!==void 0)throw new Error("resolution parameter is not supported in Gemini API.");const c=T(t,["personGeneration"]);if(n!==void 0&&c!=null&&b(n,["parameters","personGeneration"],c),T(t,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const m=T(t,["negativePrompt"]);if(n!==void 0&&m!=null&&b(n,["parameters","negativePrompt"],m),T(t,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return i}function FM(e,t){const n={},i=T(t,["model"]);i!=null&&b(n,["_url","model"],Dt(e,i));const s=T(t,["prompt"]);s!=null&&b(n,["instances[0]","prompt"],s);const o=T(t,["image"]);o!=null&&b(n,["instances[0]","image"],PM(e,o));const u=T(t,["config"]);return u!=null&&b(n,["config"],BM(e,u,n)),n}function HM(e,t){const n={},i=T(t,["videoMetadata"]);i!=null&&b(n,["videoMetadata"],i);const s=T(t,["thought"]);s!=null&&b(n,["thought"],s);const o=T(t,["codeExecutionResult"]);o!=null&&b(n,["codeExecutionResult"],o);const u=T(t,["executableCode"]);u!=null&&b(n,["executableCode"],u);const c=T(t,["fileData"]);c!=null&&b(n,["fileData"],c);const m=T(t,["functionCall"]);m!=null&&b(n,["functionCall"],m);const f=T(t,["functionResponse"]);f!=null&&b(n,["functionResponse"],f);const h=T(t,["inlineData"]);h!=null&&b(n,["inlineData"],h);const y=T(t,["text"]);return y!=null&&b(n,["text"],y),n}function Ns(e,t){const n={},i=T(t,["parts"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(u=>HM(e,u))),b(n,["parts"],o)}const s=T(t,["role"]);return s!=null&&b(n,["role"],s),n}function UM(e,t){const n={},i=T(t,["featureSelectionPreference"]);return i!=null&&b(n,["featureSelectionPreference"],i),n}function VM(e,t){const n={},i=T(t,["method"]);i!=null&&b(n,["method"],i);const s=T(t,["category"]);s!=null&&b(n,["category"],s);const o=T(t,["threshold"]);return o!=null&&b(n,["threshold"],o),n}function zM(){return{}}function jM(e,t){const n={},i=T(t,["mode"]);i!=null&&b(n,["mode"],i);const s=T(t,["dynamicThreshold"]);return s!=null&&b(n,["dynamicThreshold"],s),n}function GM(e,t){const n={},i=T(t,["dynamicRetrievalConfig"]);return i!=null&&b(n,["dynamicRetrievalConfig"],jM(e,i)),n}function KE(e,t){const n={},i=T(t,["retrieval"]);i!=null&&b(n,["retrieval"],i),T(t,["googleSearch"])!=null&&b(n,["googleSearch"],zM());const o=T(t,["googleSearchRetrieval"]);o!=null&&b(n,["googleSearchRetrieval"],GM(e,o));const u=T(t,["codeExecution"]);u!=null&&b(n,["codeExecution"],u);const c=T(t,["functionDeclarations"]);return c!=null&&b(n,["functionDeclarations"],c),n}function qM(e,t){const n={},i=T(t,["mode"]);i!=null&&b(n,["mode"],i);const s=T(t,["allowedFunctionNames"]);return s!=null&&b(n,["allowedFunctionNames"],s),n}function YM(e,t){const n={},i=T(t,["functionCallingConfig"]);return i!=null&&b(n,["functionCallingConfig"],qM(e,i)),n}function KM(e,t){const n={},i=T(t,["voiceName"]);return i!=null&&b(n,["voiceName"],i),n}function $M(e,t){const n={},i=T(t,["prebuiltVoiceConfig"]);return i!=null&&b(n,["prebuiltVoiceConfig"],KM(e,i)),n}function XM(e,t){const n={},i=T(t,["voiceConfig"]);i!=null&&b(n,["voiceConfig"],$M(e,i));const s=T(t,["languageCode"]);return s!=null&&b(n,["languageCode"],s),n}function WM(e,t){const n={},i=T(t,["includeThoughts"]);i!=null&&b(n,["includeThoughts"],i);const s=T(t,["thinkingBudget"]);return s!=null&&b(n,["thinkingBudget"],s),n}function QM(e,t,n){const i={},s=T(t,["systemInstruction"]);n!==void 0&&s!=null&&b(n,["systemInstruction"],Ns(e,An(e,s)));const o=T(t,["temperature"]);o!=null&&b(i,["temperature"],o);const u=T(t,["topP"]);u!=null&&b(i,["topP"],u);const c=T(t,["topK"]);c!=null&&b(i,["topK"],c);const m=T(t,["candidateCount"]);m!=null&&b(i,["candidateCount"],m);const f=T(t,["maxOutputTokens"]);f!=null&&b(i,["maxOutputTokens"],f);const h=T(t,["stopSequences"]);h!=null&&b(i,["stopSequences"],h);const y=T(t,["responseLogprobs"]);y!=null&&b(i,["responseLogprobs"],y);const v=T(t,["logprobs"]);v!=null&&b(i,["logprobs"],v);const S=T(t,["presencePenalty"]);S!=null&&b(i,["presencePenalty"],S);const _=T(t,["frequencyPenalty"]);_!=null&&b(i,["frequencyPenalty"],_);const I=T(t,["seed"]);I!=null&&b(i,["seed"],I);const O=T(t,["responseMimeType"]);O!=null&&b(i,["responseMimeType"],O);const D=T(t,["responseSchema"]);D!=null&&b(i,["responseSchema"],zE(e,D));const H=T(t,["routingConfig"]);H!=null&&b(i,["routingConfig"],H);const R=T(t,["modelSelectionConfig"]);R!=null&&b(i,["modelConfig"],UM(e,R));const V=T(t,["safetySettings"]);if(n!==void 0&&V!=null){let pe=V;Array.isArray(pe)&&(pe=pe.map(re=>VM(e,re))),b(n,["safetySettings"],pe)}const K=T(t,["tools"]);if(n!==void 0&&K!=null){let pe=Vc(e,K);Array.isArray(pe)&&(pe=pe.map(re=>KE(e,Uc(e,re)))),b(n,["tools"],pe)}const q=T(t,["toolConfig"]);n!==void 0&&q!=null&&b(n,["toolConfig"],YM(e,q));const ue=T(t,["labels"]);n!==void 0&&ue!=null&&b(n,["labels"],ue);const me=T(t,["cachedContent"]);n!==void 0&&me!=null&&b(n,["cachedContent"],ka(e,me));const Ae=T(t,["responseModalities"]);Ae!=null&&b(i,["responseModalities"],Ae);const Y=T(t,["mediaResolution"]);Y!=null&&b(i,["mediaResolution"],Y);const ye=T(t,["speechConfig"]);ye!=null&&b(i,["speechConfig"],XM(e,jE(e,ye)));const be=T(t,["audioTimestamp"]);be!=null&&b(i,["audioTimestamp"],be);const Se=T(t,["thinkingConfig"]);return Se!=null&&b(i,["thinkingConfig"],WM(e,Se)),i}function FT(e,t){const n={},i=T(t,["model"]);i!=null&&b(n,["_url","model"],Dt(e,i));const s=T(t,["contents"]);if(s!=null){let u=Ra(e,s);Array.isArray(u)&&(u=u.map(c=>Ns(e,c))),b(n,["contents"],u)}const o=T(t,["config"]);return o!=null&&b(n,["generationConfig"],QM(e,o,n)),n}function JM(e,t,n){const i={},s=T(t,["taskType"]);n!==void 0&&s!=null&&b(n,["instances[]","task_type"],s);const o=T(t,["title"]);n!==void 0&&o!=null&&b(n,["instances[]","title"],o);const u=T(t,["outputDimensionality"]);n!==void 0&&u!=null&&b(n,["parameters","outputDimensionality"],u);const c=T(t,["mimeType"]);n!==void 0&&c!=null&&b(n,["instances[]","mimeType"],c);const m=T(t,["autoTruncate"]);return n!==void 0&&m!=null&&b(n,["parameters","autoTruncate"],m),i}function ZM(e,t){const n={},i=T(t,["model"]);i!=null&&b(n,["_url","model"],Dt(e,i));const s=T(t,["contents"]);s!=null&&b(n,["instances[]","content"],VE(e,s));const o=T(t,["config"]);return o!=null&&b(n,["config"],JM(e,o,n)),n}function eD(e,t,n){const i={},s=T(t,["outputGcsUri"]);n!==void 0&&s!=null&&b(n,["parameters","storageUri"],s);const o=T(t,["negativePrompt"]);n!==void 0&&o!=null&&b(n,["parameters","negativePrompt"],o);const u=T(t,["numberOfImages"]);n!==void 0&&u!=null&&b(n,["parameters","sampleCount"],u);const c=T(t,["aspectRatio"]);n!==void 0&&c!=null&&b(n,["parameters","aspectRatio"],c);const m=T(t,["guidanceScale"]);n!==void 0&&m!=null&&b(n,["parameters","guidanceScale"],m);const f=T(t,["seed"]);n!==void 0&&f!=null&&b(n,["parameters","seed"],f);const h=T(t,["safetyFilterLevel"]);n!==void 0&&h!=null&&b(n,["parameters","safetySetting"],h);const y=T(t,["personGeneration"]);n!==void 0&&y!=null&&b(n,["parameters","personGeneration"],y);const v=T(t,["includeSafetyAttributes"]);n!==void 0&&v!=null&&b(n,["parameters","includeSafetyAttributes"],v);const S=T(t,["includeRaiReason"]);n!==void 0&&S!=null&&b(n,["parameters","includeRaiReason"],S);const _=T(t,["language"]);n!==void 0&&_!=null&&b(n,["parameters","language"],_);const I=T(t,["outputMimeType"]);n!==void 0&&I!=null&&b(n,["parameters","outputOptions","mimeType"],I);const O=T(t,["outputCompressionQuality"]);n!==void 0&&O!=null&&b(n,["parameters","outputOptions","compressionQuality"],O);const D=T(t,["addWatermark"]);n!==void 0&&D!=null&&b(n,["parameters","addWatermark"],D);const H=T(t,["enhancePrompt"]);return n!==void 0&&H!=null&&b(n,["parameters","enhancePrompt"],H),i}function tD(e,t){const n={},i=T(t,["model"]);i!=null&&b(n,["_url","model"],Dt(e,i));const s=T(t,["prompt"]);s!=null&&b(n,["instances[0]","prompt"],s);const o=T(t,["config"]);return o!=null&&b(n,["config"],eD(e,o,n)),n}function nD(e,t){const n={},i=T(t,["model"]);i!=null&&b(n,["_url","name"],Dt(e,i));const s=T(t,["config"]);return s!=null&&b(n,["config"],s),n}function iD(e,t,n){const i={},s=T(t,["displayName"]);n!==void 0&&s!=null&&b(n,["displayName"],s);const o=T(t,["description"]);return n!==void 0&&o!=null&&b(n,["description"],o),i}function aD(e,t){const n={},i=T(t,["model"]);i!=null&&b(n,["_url","model"],Dt(e,i));const s=T(t,["config"]);return s!=null&&b(n,["config"],iD(e,s,n)),n}function rD(e,t){const n={},i=T(t,["model"]);i!=null&&b(n,["_url","name"],Dt(e,i));const s=T(t,["config"]);return s!=null&&b(n,["config"],s),n}function sD(e,t,n){const i={},s=T(t,["systemInstruction"]);n!==void 0&&s!=null&&b(n,["systemInstruction"],Ns(e,An(e,s)));const o=T(t,["tools"]);if(n!==void 0&&o!=null){let c=o;Array.isArray(c)&&(c=c.map(m=>KE(e,m))),b(n,["tools"],c)}const u=T(t,["generationConfig"]);return n!==void 0&&u!=null&&b(n,["generationConfig"],u),i}function oD(e,t){const n={},i=T(t,["model"]);i!=null&&b(n,["_url","model"],Dt(e,i));const s=T(t,["contents"]);if(s!=null){let u=Ra(e,s);Array.isArray(u)&&(u=u.map(c=>Ns(e,c))),b(n,["contents"],u)}const o=T(t,["config"]);return o!=null&&b(n,["config"],sD(e,o,n)),n}function lD(e,t){const n={},i=T(t,["model"]);i!=null&&b(n,["_url","model"],Dt(e,i));const s=T(t,["contents"]);if(s!=null){let u=Ra(e,s);Array.isArray(u)&&(u=u.map(c=>Ns(e,c))),b(n,["contents"],u)}const o=T(t,["config"]);return o!=null&&b(n,["config"],o),n}function uD(e,t){const n={},i=T(t,["gcsUri"]);i!=null&&b(n,["gcsUri"],i);const s=T(t,["imageBytes"]);s!=null&&b(n,["bytesBase64Encoded"],wa(e,s));const o=T(t,["mimeType"]);return o!=null&&b(n,["mimeType"],o),n}function cD(e,t,n){const i={},s=T(t,["numberOfVideos"]);n!==void 0&&s!=null&&b(n,["parameters","sampleCount"],s);const o=T(t,["outputGcsUri"]);n!==void 0&&o!=null&&b(n,["parameters","storageUri"],o);const u=T(t,["fps"]);n!==void 0&&u!=null&&b(n,["parameters","fps"],u);const c=T(t,["durationSeconds"]);n!==void 0&&c!=null&&b(n,["parameters","durationSeconds"],c);const m=T(t,["seed"]);n!==void 0&&m!=null&&b(n,["parameters","seed"],m);const f=T(t,["aspectRatio"]);n!==void 0&&f!=null&&b(n,["parameters","aspectRatio"],f);const h=T(t,["resolution"]);n!==void 0&&h!=null&&b(n,["parameters","resolution"],h);const y=T(t,["personGeneration"]);n!==void 0&&y!=null&&b(n,["parameters","personGeneration"],y);const v=T(t,["pubsubTopic"]);n!==void 0&&v!=null&&b(n,["parameters","pubsubTopic"],v);const S=T(t,["negativePrompt"]);n!==void 0&&S!=null&&b(n,["parameters","negativePrompt"],S);const _=T(t,["enhancePrompt"]);return n!==void 0&&_!=null&&b(n,["parameters","enhancePrompt"],_),i}function dD(e,t){const n={},i=T(t,["model"]);i!=null&&b(n,["_url","model"],Dt(e,i));const s=T(t,["prompt"]);s!=null&&b(n,["instances[0]","prompt"],s);const o=T(t,["image"]);o!=null&&b(n,["instances[0]","image"],uD(e,o));const u=T(t,["config"]);return u!=null&&b(n,["config"],cD(e,u,n)),n}function fD(e,t){const n={},i=T(t,["thought"]);i!=null&&b(n,["thought"],i);const s=T(t,["codeExecutionResult"]);s!=null&&b(n,["codeExecutionResult"],s);const o=T(t,["executableCode"]);o!=null&&b(n,["executableCode"],o);const u=T(t,["fileData"]);u!=null&&b(n,["fileData"],u);const c=T(t,["functionCall"]);c!=null&&b(n,["functionCall"],c);const m=T(t,["functionResponse"]);m!=null&&b(n,["functionResponse"],m);const f=T(t,["inlineData"]);f!=null&&b(n,["inlineData"],f);const h=T(t,["text"]);return h!=null&&b(n,["text"],h),n}function mD(e,t){const n={},i=T(t,["parts"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(u=>fD(e,u))),b(n,["parts"],o)}const s=T(t,["role"]);return s!=null&&b(n,["role"],s),n}function hD(e,t){const n={},i=T(t,["citationSources"]);return i!=null&&b(n,["citations"],i),n}function pD(e,t){const n={},i=T(t,["content"]);i!=null&&b(n,["content"],mD(e,i));const s=T(t,["citationMetadata"]);s!=null&&b(n,["citationMetadata"],hD(e,s));const o=T(t,["tokenCount"]);o!=null&&b(n,["tokenCount"],o);const u=T(t,["finishReason"]);u!=null&&b(n,["finishReason"],u);const c=T(t,["avgLogprobs"]);c!=null&&b(n,["avgLogprobs"],c);const m=T(t,["groundingMetadata"]);m!=null&&b(n,["groundingMetadata"],m);const f=T(t,["index"]);f!=null&&b(n,["index"],f);const h=T(t,["logprobsResult"]);h!=null&&b(n,["logprobsResult"],h);const y=T(t,["safetyRatings"]);return y!=null&&b(n,["safetyRatings"],y),n}function HT(e,t){const n={},i=T(t,["candidates"]);if(i!=null){let c=i;Array.isArray(c)&&(c=c.map(m=>pD(e,m))),b(n,["candidates"],c)}const s=T(t,["modelVersion"]);s!=null&&b(n,["modelVersion"],s);const o=T(t,["promptFeedback"]);o!=null&&b(n,["promptFeedback"],o);const u=T(t,["usageMetadata"]);return u!=null&&b(n,["usageMetadata"],u),n}function gD(e,t){const n={},i=T(t,["values"]);return i!=null&&b(n,["values"],i),n}function yD(){return{}}function TD(e,t){const n={},i=T(t,["embeddings"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(u=>gD(e,u))),b(n,["embeddings"],o)}return T(t,["metadata"])!=null&&b(n,["metadata"],yD()),n}function bD(e,t){const n={},i=T(t,["bytesBase64Encoded"]);i!=null&&b(n,["imageBytes"],wa(e,i));const s=T(t,["mimeType"]);return s!=null&&b(n,["mimeType"],s),n}function $E(e,t){const n={},i=T(t,["safetyAttributes","categories"]);i!=null&&b(n,["categories"],i);const s=T(t,["safetyAttributes","scores"]);s!=null&&b(n,["scores"],s);const o=T(t,["contentType"]);return o!=null&&b(n,["contentType"],o),n}function xD(e,t){const n={},i=T(t,["_self"]);i!=null&&b(n,["image"],bD(e,i));const s=T(t,["raiFilteredReason"]);s!=null&&b(n,["raiFilteredReason"],s);const o=T(t,["_self"]);return o!=null&&b(n,["safetyAttributes"],$E(e,o)),n}function ED(e,t){const n={},i=T(t,["predictions"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(u=>xD(e,u))),b(n,["generatedImages"],o)}const s=T(t,["positivePromptSafetyAttributes"]);return s!=null&&b(n,["positivePromptSafetyAttributes"],$E(e,s)),n}function vD(e,t){const n={},i=T(t,["baseModel"]);i!=null&&b(n,["baseModel"],i);const s=T(t,["createTime"]);s!=null&&b(n,["createTime"],s);const o=T(t,["updateTime"]);return o!=null&&b(n,["updateTime"],o),n}function UT(e,t){const n={},i=T(t,["name"]);i!=null&&b(n,["name"],i);const s=T(t,["displayName"]);s!=null&&b(n,["displayName"],s);const o=T(t,["description"]);o!=null&&b(n,["description"],o);const u=T(t,["version"]);u!=null&&b(n,["version"],u);const c=T(t,["_self"]);c!=null&&b(n,["tunedModelInfo"],vD(e,c));const m=T(t,["inputTokenLimit"]);m!=null&&b(n,["inputTokenLimit"],m);const f=T(t,["outputTokenLimit"]);f!=null&&b(n,["outputTokenLimit"],f);const h=T(t,["supportedGenerationMethods"]);return h!=null&&b(n,["supportedActions"],h),n}function SD(){return{}}function CD(e,t){const n={},i=T(t,["totalTokens"]);i!=null&&b(n,["totalTokens"],i);const s=T(t,["cachedContentTokenCount"]);return s!=null&&b(n,["cachedContentTokenCount"],s),n}function AD(e,t){const n={},i=T(t,["video","uri"]);i!=null&&b(n,["uri"],i);const s=T(t,["video","encodedVideo"]);s!=null&&b(n,["videoBytes"],wa(e,s));const o=T(t,["encoding"]);return o!=null&&b(n,["mimeType"],o),n}function _D(e,t){const n={},i=T(t,["_self"]);return i!=null&&b(n,["video"],AD(e,i)),n}function ID(e,t){const n={},i=T(t,["generatedSamples"]);if(i!=null){let u=i;Array.isArray(u)&&(u=u.map(c=>_D(e,c))),b(n,["generatedVideos"],u)}const s=T(t,["raiMediaFilteredCount"]);s!=null&&b(n,["raiMediaFilteredCount"],s);const o=T(t,["raiMediaFilteredReasons"]);return o!=null&&b(n,["raiMediaFilteredReasons"],o),n}function ND(e,t){const n={},i=T(t,["name"]);i!=null&&b(n,["name"],i);const s=T(t,["metadata"]);s!=null&&b(n,["metadata"],s);const o=T(t,["done"]);o!=null&&b(n,["done"],o);const u=T(t,["error"]);u!=null&&b(n,["error"],u);const c=T(t,["response","generateVideoResponse"]);return c!=null&&b(n,["response"],ID(e,c)),n}function MD(e,t){const n={},i=T(t,["videoMetadata"]);i!=null&&b(n,["videoMetadata"],i);const s=T(t,["thought"]);s!=null&&b(n,["thought"],s);const o=T(t,["codeExecutionResult"]);o!=null&&b(n,["codeExecutionResult"],o);const u=T(t,["executableCode"]);u!=null&&b(n,["executableCode"],u);const c=T(t,["fileData"]);c!=null&&b(n,["fileData"],c);const m=T(t,["functionCall"]);m!=null&&b(n,["functionCall"],m);const f=T(t,["functionResponse"]);f!=null&&b(n,["functionResponse"],f);const h=T(t,["inlineData"]);h!=null&&b(n,["inlineData"],h);const y=T(t,["text"]);return y!=null&&b(n,["text"],y),n}function DD(e,t){const n={},i=T(t,["parts"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(u=>MD(e,u))),b(n,["parts"],o)}const s=T(t,["role"]);return s!=null&&b(n,["role"],s),n}function RD(e,t){const n={},i=T(t,["citations"]);return i!=null&&b(n,["citations"],i),n}function kD(e,t){const n={},i=T(t,["content"]);i!=null&&b(n,["content"],DD(e,i));const s=T(t,["citationMetadata"]);s!=null&&b(n,["citationMetadata"],RD(e,s));const o=T(t,["finishMessage"]);o!=null&&b(n,["finishMessage"],o);const u=T(t,["finishReason"]);u!=null&&b(n,["finishReason"],u);const c=T(t,["avgLogprobs"]);c!=null&&b(n,["avgLogprobs"],c);const m=T(t,["groundingMetadata"]);m!=null&&b(n,["groundingMetadata"],m);const f=T(t,["index"]);f!=null&&b(n,["index"],f);const h=T(t,["logprobsResult"]);h!=null&&b(n,["logprobsResult"],h);const y=T(t,["safetyRatings"]);return y!=null&&b(n,["safetyRatings"],y),n}function VT(e,t){const n={},i=T(t,["candidates"]);if(i!=null){let f=i;Array.isArray(f)&&(f=f.map(h=>kD(e,h))),b(n,["candidates"],f)}const s=T(t,["createTime"]);s!=null&&b(n,["createTime"],s);const o=T(t,["responseId"]);o!=null&&b(n,["responseId"],o);const u=T(t,["modelVersion"]);u!=null&&b(n,["modelVersion"],u);const c=T(t,["promptFeedback"]);c!=null&&b(n,["promptFeedback"],c);const m=T(t,["usageMetadata"]);return m!=null&&b(n,["usageMetadata"],m),n}function wD(e,t){const n={},i=T(t,["truncated"]);i!=null&&b(n,["truncated"],i);const s=T(t,["token_count"]);return s!=null&&b(n,["tokenCount"],s),n}function LD(e,t){const n={},i=T(t,["values"]);i!=null&&b(n,["values"],i);const s=T(t,["statistics"]);return s!=null&&b(n,["statistics"],wD(e,s)),n}function OD(e,t){const n={},i=T(t,["billableCharacterCount"]);return i!=null&&b(n,["billableCharacterCount"],i),n}function PD(e,t){const n={},i=T(t,["predictions[]","embeddings"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(u=>LD(e,u))),b(n,["embeddings"],o)}const s=T(t,["metadata"]);return s!=null&&b(n,["metadata"],OD(e,s)),n}function BD(e,t){const n={},i=T(t,["gcsUri"]);i!=null&&b(n,["gcsUri"],i);const s=T(t,["bytesBase64Encoded"]);s!=null&&b(n,["imageBytes"],wa(e,s));const o=T(t,["mimeType"]);return o!=null&&b(n,["mimeType"],o),n}function XE(e,t){const n={},i=T(t,["safetyAttributes","categories"]);i!=null&&b(n,["categories"],i);const s=T(t,["safetyAttributes","scores"]);s!=null&&b(n,["scores"],s);const o=T(t,["contentType"]);return o!=null&&b(n,["contentType"],o),n}function FD(e,t){const n={},i=T(t,["_self"]);i!=null&&b(n,["image"],BD(e,i));const s=T(t,["raiFilteredReason"]);s!=null&&b(n,["raiFilteredReason"],s);const o=T(t,["_self"]);o!=null&&b(n,["safetyAttributes"],XE(e,o));const u=T(t,["prompt"]);return u!=null&&b(n,["enhancedPrompt"],u),n}function HD(e,t){const n={},i=T(t,["predictions"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(u=>FD(e,u))),b(n,["generatedImages"],o)}const s=T(t,["positivePromptSafetyAttributes"]);return s!=null&&b(n,["positivePromptSafetyAttributes"],XE(e,s)),n}function UD(e,t){const n={},i=T(t,["endpoint"]);i!=null&&b(n,["name"],i);const s=T(t,["deployedModelId"]);return s!=null&&b(n,["deployedModelId"],s),n}function VD(e,t){const n={},i=T(t,["labels","google-vertex-llm-tuning-base-model-id"]);i!=null&&b(n,["baseModel"],i);const s=T(t,["createTime"]);s!=null&&b(n,["createTime"],s);const o=T(t,["updateTime"]);return o!=null&&b(n,["updateTime"],o),n}function zT(e,t){const n={},i=T(t,["name"]);i!=null&&b(n,["name"],i);const s=T(t,["displayName"]);s!=null&&b(n,["displayName"],s);const o=T(t,["description"]);o!=null&&b(n,["description"],o);const u=T(t,["versionId"]);u!=null&&b(n,["version"],u);const c=T(t,["deployedModels"]);if(c!=null){let h=c;Array.isArray(h)&&(h=h.map(y=>UD(e,y))),b(n,["endpoints"],h)}const m=T(t,["labels"]);m!=null&&b(n,["labels"],m);const f=T(t,["_self"]);return f!=null&&b(n,["tunedModelInfo"],VD(e,f)),n}function zD(){return{}}function jD(e,t){const n={},i=T(t,["totalTokens"]);return i!=null&&b(n,["totalTokens"],i),n}function GD(e,t){const n={},i=T(t,["tokensInfo"]);return i!=null&&b(n,["tokensInfo"],i),n}function qD(e,t){const n={},i=T(t,["gcsUri"]);i!=null&&b(n,["uri"],i);const s=T(t,["bytesBase64Encoded"]);s!=null&&b(n,["videoBytes"],wa(e,s));const o=T(t,["mimeType"]);return o!=null&&b(n,["mimeType"],o),n}function YD(e,t){const n={},i=T(t,["_self"]);return i!=null&&b(n,["video"],qD(e,i)),n}function KD(e,t){const n={},i=T(t,["videos"]);if(i!=null){let u=i;Array.isArray(u)&&(u=u.map(c=>YD(e,c))),b(n,["generatedVideos"],u)}const s=T(t,["raiMediaFilteredCount"]);s!=null&&b(n,["raiMediaFilteredCount"],s);const o=T(t,["raiMediaFilteredReasons"]);return o!=null&&b(n,["raiMediaFilteredReasons"],o),n}function $D(e,t){const n={},i=T(t,["name"]);i!=null&&b(n,["name"],i);const s=T(t,["metadata"]);s!=null&&b(n,["metadata"],s);const o=T(t,["done"]);o!=null&&b(n,["done"],o);const u=T(t,["error"]);u!=null&&b(n,["error"],u);const c=T(t,["response"]);return c!=null&&b(n,["response"],KD(e,c)),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const XD="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function WD(e,t,n){let i,s;n.data instanceof Blob?s=JSON.parse(await n.data.text()):s=JSON.parse(n.data),e.isVertexAI()?i=fM(e,s):i=dM(e,s),t(i)}class QD{constructor(t,n,i){this.apiClient=t,this.auth=n,this.webSocketFactory=i}async connect(t){var n,i,s,o;const u=this.apiClient.getWebsocketBaseUrl(),c=this.apiClient.getApiVersion();let m;const f=t3(this.apiClient.getDefaultHeaders());if(this.apiClient.isVertexAI())m=`${u}/ws/google.cloud.aiplatform.${c}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(f);else{const V=this.apiClient.getApiKey();m=`${u}/ws/google.ai.generativelanguage.${c}.GenerativeService.BidiGenerateContent?key=${V}`}let h=()=>{};const y=new Promise(V=>{h=V}),v=t.callbacks,S=function(){var V;(V=v==null?void 0:v.onopen)===null||V===void 0||V.call(v),h({})},_=this.apiClient,I={onopen:S,onmessage:V=>{WD(_,v.onmessage,V)},onerror:(n=v==null?void 0:v.onerror)!==null&&n!==void 0?n:function(V){},onclose:(i=v==null?void 0:v.onclose)!==null&&i!==void 0?i:function(V){}},O=this.webSocketFactory.create(m,e3(f),I);O.connect(),await y;let D=Dt(this.apiClient,t.model);if(this.apiClient.isVertexAI()&&D.startsWith("publishers/")){const V=this.apiClient.getProject(),K=this.apiClient.getLocation();D=`projects/${V}/locations/${K}/`+D}let H={};this.apiClient.isVertexAI()&&((s=t.config)===null||s===void 0?void 0:s.responseModalities)===void 0&&(t.config===void 0?t.config={responseModalities:[Cc.AUDIO]}:t.config.responseModalities=[Cc.AUDIO]),!((o=t.config)===null||o===void 0)&&o.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const R={model:D,config:t.config,callbacks:t.callbacks};return this.apiClient.isVertexAI()?H=FN(this.apiClient,R):H=BN(this.apiClient,R),delete H.config,O.send(JSON.stringify(H)),new ZD(O,this.apiClient)}}const JD={turnComplete:!0};class ZD{constructor(t,n){this.conn=t,this.apiClient=n}tLiveClientContent(t,n){if(n.turns!==null&&n.turns!==void 0){let i=[];try{i=Ra(t,n.turns),t.isVertexAI()?i=i.map(s=>Ns(t,s)):i=i.map(s=>zc(t,s))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof n.turns}'`)}return{clientContent:{turns:i,turnComplete:n.turnComplete}}}return{clientContent:{turnComplete:n.turnComplete}}}tLiveClienttToolResponse(t,n){let i=[];if(n.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(n.functionResponses)?i=n.functionResponses:i=[n.functionResponses],i.length===0)throw new Error("functionResponses is required.");for(const o of i){if(typeof o!="object"||o===null||!("name"in o)||!("response"in o))throw new Error(`Could not parse function response, type '${typeof o}'.`);if(!t.isVertexAI()&&!("id"in o))throw new Error(XD)}return{toolResponse:{functionResponses:i}}}sendClientContent(t){t=Object.assign(Object.assign({},JD),t);const n=this.tLiveClientContent(this.apiClient,t);this.conn.send(JSON.stringify(n))}sendRealtimeInput(t){let n={};this.apiClient.isVertexAI()?n={realtimeInput:GN(this.apiClient,t)}:n={realtimeInput:jN(this.apiClient,t)},this.conn.send(JSON.stringify(n))}sendToolResponse(t){if(t.functionResponses==null)throw new Error("Tool response parameters are required.");const n=this.tLiveClienttToolResponse(this.apiClient,t);this.conn.send(JSON.stringify(n))}close(){this.conn.close()}}function e3(e){const t={};return e.forEach((n,i)=>{t[i]=n}),t}function t3(e){const t=new Headers;for(const[n,i]of Object.entries(e))t.append(n,i);return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class n3 extends Il{constructor(t){super(),this.apiClient=t,this.generateContent=async n=>await this.generateContentInternal(n),this.generateContentStream=async n=>await this.generateContentStreamInternal(n),this.generateImages=async n=>await this.generateImagesInternal(n).then(i=>{var s;let o;const u=[];if(i!=null&&i.generatedImages)for(const m of i.generatedImages)m&&(m!=null&&m.safetyAttributes)&&((s=m==null?void 0:m.safetyAttributes)===null||s===void 0?void 0:s.contentType)==="Positive Prompt"?o=m==null?void 0:m.safetyAttributes:u.push(m);let c;return o?c={generatedImages:u,positivePromptSafetyAttributes:o}:c={generatedImages:u},c})}async generateContentInternal(t){var n,i,s,o;let u,c="",m={};if(this.apiClient.isVertexAI()){const f=FT(this.apiClient,t);return c=Ve("{model}:generateContent",f._url),m=f._query,delete f.config,delete f._url,delete f._query,u=this.apiClient.request({path:c,queryParams:m,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json()),u.then(h=>{const y=VT(this.apiClient,h),v=new Wu;return Object.assign(v,y),v})}else{const f=BT(this.apiClient,t);return c=Ve("{model}:generateContent",f._url),m=f._query,delete f.config,delete f._url,delete f._query,u=this.apiClient.request({path:c,queryParams:m,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(s=t.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json()),u.then(h=>{const y=HT(this.apiClient,h),v=new Wu;return Object.assign(v,y),v})}}async generateContentStreamInternal(t){var n,i,s,o;let u,c="",m={};if(this.apiClient.isVertexAI()){const f=FT(this.apiClient,t);c=Ve("{model}:streamGenerateContent?alt=sse",f._url),m=f._query,delete f.config,delete f._url,delete f._query;const h=this.apiClient;return u=h.requestStream({path:c,queryParams:m,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}),u.then(function(y){return Ac(this,arguments,function*(){var v,S,_,I;try{for(var O=!0,D=oh(y),H;H=yield sn(D.next()),v=H.done,!v;O=!0){I=H.value,O=!1;const V=VT(h,yield sn(I.json())),K=new Wu;Object.assign(K,V),yield yield sn(K)}}catch(R){S={error:R}}finally{try{!O&&!v&&(_=D.return)&&(yield sn(_.call(D)))}finally{if(S)throw S.error}}})})}else{const f=BT(this.apiClient,t);c=Ve("{model}:streamGenerateContent?alt=sse",f._url),m=f._query,delete f.config,delete f._url,delete f._query;const h=this.apiClient;return u=h.requestStream({path:c,queryParams:m,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(s=t.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}),u.then(function(y){return Ac(this,arguments,function*(){var v,S,_,I;try{for(var O=!0,D=oh(y),H;H=yield sn(D.next()),v=H.done,!v;O=!0){I=H.value,O=!1;const V=HT(h,yield sn(I.json())),K=new Wu;Object.assign(K,V),yield yield sn(K)}}catch(R){S={error:R}}finally{try{!O&&!v&&(_=D.return)&&(yield sn(_.call(D)))}finally{if(S)throw S.error}}})})}}async embedContent(t){var n,i,s,o;let u,c="",m={};if(this.apiClient.isVertexAI()){const f=ZM(this.apiClient,t);return c=Ve("{model}:predict",f._url),m=f._query,delete f.config,delete f._url,delete f._query,u=this.apiClient.request({path:c,queryParams:m,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json()),u.then(h=>{const y=PD(this.apiClient,h),v=new _T;return Object.assign(v,y),v})}else{const f=IM(this.apiClient,t);return c=Ve("{model}:batchEmbedContents",f._url),m=f._query,delete f.config,delete f._url,delete f._query,u=this.apiClient.request({path:c,queryParams:m,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(s=t.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json()),u.then(h=>{const y=TD(this.apiClient,h),v=new _T;return Object.assign(v,y),v})}}async generateImagesInternal(t){var n,i,s,o;let u,c="",m={};if(this.apiClient.isVertexAI()){const f=tD(this.apiClient,t);return c=Ve("{model}:predict",f._url),m=f._query,delete f.config,delete f._url,delete f._query,u=this.apiClient.request({path:c,queryParams:m,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json()),u.then(h=>{const y=HD(this.apiClient,h),v=new IT;return Object.assign(v,y),v})}else{const f=MM(this.apiClient,t);return c=Ve("{model}:predict",f._url),m=f._query,delete f.config,delete f._url,delete f._query,u=this.apiClient.request({path:c,queryParams:m,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(s=t.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json()),u.then(h=>{const y=ED(this.apiClient,h),v=new IT;return Object.assign(v,y),v})}}async get(t){var n,i,s,o;let u,c="",m={};if(this.apiClient.isVertexAI()){const f=nD(this.apiClient,t);return c=Ve("{name}",f._url),m=f._query,delete f.config,delete f._url,delete f._query,u=this.apiClient.request({path:c,queryParams:m,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json()),u.then(h=>zT(this.apiClient,h))}else{const f=DM(this.apiClient,t);return c=Ve("{name}",f._url),m=f._query,delete f.config,delete f._url,delete f._query,u=this.apiClient.request({path:c,queryParams:m,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(s=t.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json()),u.then(h=>UT(this.apiClient,h))}}async update(t){var n,i,s,o;let u,c="",m={};if(this.apiClient.isVertexAI()){const f=aD(this.apiClient,t);return c=Ve("{model}",f._url),m=f._query,delete f.config,delete f._url,delete f._query,u=this.apiClient.request({path:c,queryParams:m,body:JSON.stringify(f),httpMethod:"PATCH",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json()),u.then(h=>zT(this.apiClient,h))}else{const f=kM(this.apiClient,t);return c=Ve("{name}",f._url),m=f._query,delete f.config,delete f._url,delete f._query,u=this.apiClient.request({path:c,queryParams:m,body:JSON.stringify(f),httpMethod:"PATCH",httpOptions:(s=t.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json()),u.then(h=>UT(this.apiClient,h))}}async delete(t){var n,i,s,o;let u,c="",m={};if(this.apiClient.isVertexAI()){const f=rD(this.apiClient,t);return c=Ve("{name}",f._url),m=f._query,delete f.config,delete f._url,delete f._query,u=this.apiClient.request({path:c,queryParams:m,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json()),u.then(()=>{const h=zD(),y=new NT;return Object.assign(y,h),y})}else{const f=wM(this.apiClient,t);return c=Ve("{name}",f._url),m=f._query,delete f.config,delete f._url,delete f._query,u=this.apiClient.request({path:c,queryParams:m,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(s=t.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json()),u.then(()=>{const h=SD(),y=new NT;return Object.assign(y,h),y})}}async countTokens(t){var n,i,s,o;let u,c="",m={};if(this.apiClient.isVertexAI()){const f=oD(this.apiClient,t);return c=Ve("{model}:countTokens",f._url),m=f._query,delete f.config,delete f._url,delete f._query,u=this.apiClient.request({path:c,queryParams:m,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json()),u.then(h=>{const y=jD(this.apiClient,h),v=new MT;return Object.assign(v,y),v})}else{const f=OM(this.apiClient,t);return c=Ve("{model}:countTokens",f._url),m=f._query,delete f.config,delete f._url,delete f._query,u=this.apiClient.request({path:c,queryParams:m,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(s=t.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json()),u.then(h=>{const y=CD(this.apiClient,h),v=new MT;return Object.assign(v,y),v})}}async computeTokens(t){var n,i;let s,o="",u={};if(this.apiClient.isVertexAI()){const c=lD(this.apiClient,t);return o=Ve("{model}:computeTokens",c._url),u=c._query,delete c.config,delete c._url,delete c._query,s=this.apiClient.request({path:o,queryParams:u,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(m=>m.json()),s.then(m=>{const f=GD(this.apiClient,m),h=new GI;return Object.assign(h,f),h})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideos(t){var n,i,s,o;let u,c="",m={};if(this.apiClient.isVertexAI()){const f=dD(this.apiClient,t);return c=Ve("{model}:predictLongRunning",f._url),m=f._query,delete f.config,delete f._url,delete f._query,u=this.apiClient.request({path:c,queryParams:m,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json()),u.then(h=>$D(this.apiClient,h))}else{const f=FM(this.apiClient,t);return c=Ve("{model}:predictLongRunning",f._url),m=f._query,delete f.config,delete f._url,delete f._query,u=this.apiClient.request({path:c,queryParams:m,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(s=t.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json()),u.then(h=>ND(this.apiClient,h))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function i3(e,t){const n={},i=T(t,["operationName"]);i!=null&&b(n,["_url","operationName"],i);const s=T(t,["config"]);return s!=null&&b(n,["config"],s),n}function a3(e,t){const n={},i=T(t,["operationName"]);i!=null&&b(n,["_url","operationName"],i);const s=T(t,["config"]);return s!=null&&b(n,["config"],s),n}function r3(e,t){const n={},i=T(t,["operationName"]);i!=null&&b(n,["operationName"],i);const s=T(t,["resourceName"]);s!=null&&b(n,["_url","resourceName"],s);const o=T(t,["config"]);return o!=null&&b(n,["config"],o),n}function s3(e,t){const n={},i=T(t,["video","uri"]);i!=null&&b(n,["uri"],i);const s=T(t,["video","encodedVideo"]);s!=null&&b(n,["videoBytes"],wa(e,s));const o=T(t,["encoding"]);return o!=null&&b(n,["mimeType"],o),n}function o3(e,t){const n={},i=T(t,["_self"]);return i!=null&&b(n,["video"],s3(e,i)),n}function l3(e,t){const n={},i=T(t,["generatedSamples"]);if(i!=null){let u=i;Array.isArray(u)&&(u=u.map(c=>o3(e,c))),b(n,["generatedVideos"],u)}const s=T(t,["raiMediaFilteredCount"]);s!=null&&b(n,["raiMediaFilteredCount"],s);const o=T(t,["raiMediaFilteredReasons"]);return o!=null&&b(n,["raiMediaFilteredReasons"],o),n}function u3(e,t){const n={},i=T(t,["name"]);i!=null&&b(n,["name"],i);const s=T(t,["metadata"]);s!=null&&b(n,["metadata"],s);const o=T(t,["done"]);o!=null&&b(n,["done"],o);const u=T(t,["error"]);u!=null&&b(n,["error"],u);const c=T(t,["response","generateVideoResponse"]);return c!=null&&b(n,["response"],l3(e,c)),n}function c3(e,t){const n={},i=T(t,["gcsUri"]);i!=null&&b(n,["uri"],i);const s=T(t,["bytesBase64Encoded"]);s!=null&&b(n,["videoBytes"],wa(e,s));const o=T(t,["mimeType"]);return o!=null&&b(n,["mimeType"],o),n}function d3(e,t){const n={},i=T(t,["_self"]);return i!=null&&b(n,["video"],c3(e,i)),n}function f3(e,t){const n={},i=T(t,["videos"]);if(i!=null){let u=i;Array.isArray(u)&&(u=u.map(c=>d3(e,c))),b(n,["generatedVideos"],u)}const s=T(t,["raiMediaFilteredCount"]);s!=null&&b(n,["raiMediaFilteredCount"],s);const o=T(t,["raiMediaFilteredReasons"]);return o!=null&&b(n,["raiMediaFilteredReasons"],o),n}function jT(e,t){const n={},i=T(t,["name"]);i!=null&&b(n,["name"],i);const s=T(t,["metadata"]);s!=null&&b(n,["metadata"],s);const o=T(t,["done"]);o!=null&&b(n,["done"],o);const u=T(t,["error"]);u!=null&&b(n,["error"],u);const c=T(t,["response"]);return c!=null&&b(n,["response"],f3(e,c)),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class m3 extends Il{constructor(t){super(),this.apiClient=t}async getVideosOperation(t){const n=t.operation,i=t.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const s=n.name.split("/operations/")[0];let o;return i&&"httpOptions"in i&&(o=i.httpOptions),this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:s,config:{httpOptions:o}})}else return this.getVideosOperationInternal({operationName:n.name,config:i})}async getVideosOperationInternal(t){var n,i,s,o;let u,c="",m={};if(this.apiClient.isVertexAI()){const f=a3(this.apiClient,t);return c=Ve("{operationName}",f._url),m=f._query,delete f.config,delete f._url,delete f._query,u=this.apiClient.request({path:c,queryParams:m,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json()),u.then(h=>jT(this.apiClient,h))}else{const f=i3(this.apiClient,t);return c=Ve("{operationName}",f._url),m=f._query,delete f.config,delete f._url,delete f._query,u=this.apiClient.request({path:c,queryParams:m,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(s=t.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json()),u.then(h=>u3(this.apiClient,h))}}async fetchPredictVideosOperationInternal(t){var n,i;let s,o="",u={};if(this.apiClient.isVertexAI()){const c=r3(this.apiClient,t);return o=Ve("{resourceName}:fetchPredictOperation",c._url),u=c._query,delete c.config,delete c._url,delete c._query,s=this.apiClient.request({path:o,queryParams:u,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(m=>m.json()),s.then(m=>jT(this.apiClient,m))}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const h3="Content-Type",p3="X-Server-Timeout",g3="User-Agent",y3="x-goog-api-client",T3="0.12.0",b3=`google-genai-sdk/${T3}`,x3="v1beta1",E3="v1beta",GT=/^data: (.*)(?:\n\n|\r\r|\r\n\r\n)/;class WE extends Error{constructor(t,n){n?super(t,{cause:n}):super(t,{cause:new Error().stack}),this.message=t,this.name="ClientError"}}class uh extends Error{constructor(t,n){n?super(t,{cause:n}):super(t,{cause:new Error().stack}),this.message=t,this.name="ServerError"}}class v3{constructor(t){var n,i;this.clientOptions=Object.assign(Object.assign({},t),{project:t.project,location:t.location,apiKey:t.apiKey,vertexai:t.vertexai});const s={};this.clientOptions.vertexai?(s.apiVersion=(n=this.clientOptions.apiVersion)!==null&&n!==void 0?n:x3,this.getProject()||this.getLocation()?(s.baseUrl=`https://${this.clientOptions.location}-aiplatform.googleapis.com/`,this.clientOptions.apiKey=void 0):(s.baseUrl="https://aiplatform.googleapis.com/",this.clientOptions.project=void 0,this.clientOptions.location=void 0)):(s.apiVersion=(i=this.clientOptions.apiVersion)!==null&&i!==void 0?i:E3,s.baseUrl="https://generativelanguage.googleapis.com/"),s.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=s,t.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(s,t.httpOptions))}isVertexAI(){var t;return(t=this.clientOptions.vertexai)!==null&&t!==void 0?t:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(t){if(!t||t.baseUrl===void 0||t.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const i=[t.baseUrl.endsWith("/")?t.baseUrl.slice(0,-1):t.baseUrl];return t.apiVersion&&t.apiVersion!==""&&i.push(t.apiVersion),i.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const t=this.getBaseUrl(),n=new URL(t);return n.protocol=n.protocol=="http:"?"ws":"wss",n.toString()}setBaseUrl(t){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=t;else throw new Error("HTTP options are not correctly set.")}constructUrl(t,n,i){const s=[this.getRequestUrlInternal(n)];return i&&s.push(this.getBaseResourcePath()),t!==""&&s.push(t),new URL(`${s.join("/")}`)}shouldPrependVertexProjectPath(t){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||t.path.startsWith("projects/")||t.httpMethod==="GET"&&t.path.startsWith("publishers/google/models"))}async request(t){let n=this.clientOptions.httpOptions;t.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,t.httpOptions));const i=this.shouldPrependVertexProjectPath(t),s=this.constructUrl(t.path,n,i);if(t.queryParams)for(const[u,c]of Object.entries(t.queryParams))s.searchParams.append(u,String(c));let o={};if(t.httpMethod==="GET"){if(t.body&&t.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else o.body=t.body;return o=await this.includeExtraHttpOptionsToRequestInit(o,n,t.abortSignal),this.unaryApiCall(s,o,t.httpMethod)}patchHttpOptions(t,n){const i=JSON.parse(JSON.stringify(t));for(const[s,o]of Object.entries(n))typeof o=="object"?i[s]=Object.assign(Object.assign({},i[s]),o):o!==void 0&&(i[s]=o);return i}async requestStream(t){let n=this.clientOptions.httpOptions;t.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,t.httpOptions));const i=this.shouldPrependVertexProjectPath(t),s=this.constructUrl(t.path,n,i);(!s.searchParams.has("alt")||s.searchParams.get("alt")!=="sse")&&s.searchParams.set("alt","sse");let o={};return o.body=t.body,o=await this.includeExtraHttpOptionsToRequestInit(o,n,t.abortSignal),this.streamApiCall(s,o,t.httpMethod)}async includeExtraHttpOptionsToRequestInit(t,n,i){if(n&&n.timeout||i){const s=new AbortController,o=s.signal;n.timeout&&(n==null?void 0:n.timeout)>0&&setTimeout(()=>s.abort(),n.timeout),i&&i.addEventListener("abort",()=>{s.abort()}),t.signal=o}return t.headers=await this.getHeadersInternal(n),t}async unaryApiCall(t,n,i){return this.apiCall(t.toString(),Object.assign(Object.assign({},n),{method:i})).then(async s=>(await qT(s),new sh(s))).catch(s=>{throw s instanceof Error?s:new Error(JSON.stringify(s))})}async streamApiCall(t,n,i){return this.apiCall(t.toString(),Object.assign(Object.assign({},n),{method:i})).then(async s=>(await qT(s),this.processStreamResponse(s))).catch(s=>{throw s instanceof Error?s:new Error(JSON.stringify(s))})}processStreamResponse(t){var n;return Ac(this,arguments,function*(){const s=(n=t==null?void 0:t.body)===null||n===void 0?void 0:n.getReader(),o=new TextDecoder("utf-8");if(!s)throw new Error("Response body is empty");try{let u="";for(;;){const{done:c,value:m}=yield sn(s.read());if(c){if(u.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const f=o.decode(m);try{const y=JSON.parse(f);if("error"in y){const v=JSON.parse(JSON.stringify(y.error)),S=v.status,_=v.code,I=`got status: ${S}. ${JSON.stringify(y)}`;if(_>=400&&_<500)throw new WE(I);if(_>=500&&_<600)throw new uh(I)}}catch(y){const v=y;if(v.name==="ClientError"||v.name==="ServerError")throw y}u+=f;let h=u.match(GT);for(;h;){const y=h[1];try{const v=new Response(y,{headers:t==null?void 0:t.headers,status:t==null?void 0:t.status,statusText:t==null?void 0:t.statusText});yield yield sn(new sh(v)),u=u.slice(h[0].length),h=u.match(GT)}catch(v){throw new Error(`exception parsing stream chunk ${y}. ${v}`)}}}}finally{s.releaseLock()}})}async apiCall(t,n){return fetch(t,n).catch(i=>{throw new Error(`exception ${i} sending request`)})}getDefaultHeaders(){const t={},n=b3+" "+this.clientOptions.userAgentExtra;return t[g3]=n,t[y3]=n,t[h3]="application/json",t}async getHeadersInternal(t){const n=new Headers;if(t&&t.headers){for(const[i,s]of Object.entries(t.headers))n.append(i,s);t.timeout&&t.timeout>0&&n.append(p3,String(Math.ceil(t.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(n),n}async uploadFile(t,n){var i;const s={};n!=null&&(s.mimeType=n.mimeType,s.name=n.name,s.displayName=n.displayName),s.name&&!s.name.startsWith("files/")&&(s.name=`files/${s.name}`);const o=this.clientOptions.uploader,u=await o.stat(t);s.sizeBytes=String(u.size);const c=(i=n==null?void 0:n.mimeType)!==null&&i!==void 0?i:u.type;if(c===void 0||c==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");s.mimeType=c;const m=await this.fetchUploadUrl(s,n);return o.upload(t,m,this)}async fetchUploadUrl(t,n){var i;let s={};n!=null&&n.httpOptions?s=n.httpOptions:s={apiVersion:"",headers:{"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${t.sizeBytes}`,"X-Goog-Upload-Header-Content-Type":`${t.mimeType}`}};const o={file:t},u=await this.request({path:Ve("upload/v1beta/files",o._url),body:JSON.stringify(o),httpMethod:"POST",httpOptions:s});if(!u||!(u!=null&&u.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const c=(i=u==null?void 0:u.headers)===null||i===void 0?void 0:i["x-goog-upload-url"];if(c===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return c}}async function qT(e){var t;if(e===void 0)throw new uh("response is undefined");if(!e.ok){const n=e.status,i=e.statusText;let s;!((t=e.headers.get("content-type"))===null||t===void 0)&&t.includes("application/json")?s=await e.json():s={error:{message:await e.text(),code:e.status,status:e.statusText}};const o=`got status: ${n} ${i}. ${JSON.stringify(s)}`;throw n>=400&&n<500?new WE(o):n>=500&&n<600?new uh(o):new Error(o)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function S3(e,t){const n={},i=T(t,["name"]);i!=null&&b(n,["_url","name"],i);const s=T(t,["config"]);return s!=null&&b(n,["config"],s),n}function C3(e,t,n){const i={},s=T(t,["pageSize"]);n!==void 0&&s!=null&&b(n,["_query","pageSize"],s);const o=T(t,["pageToken"]);n!==void 0&&o!=null&&b(n,["_query","pageToken"],o);const u=T(t,["filter"]);return n!==void 0&&u!=null&&b(n,["_query","filter"],u),i}function A3(e,t){const n={},i=T(t,["config"]);return i!=null&&b(n,["config"],C3(e,i,n)),n}function _3(e,t){const n={},i=T(t,["textInput"]);i!=null&&b(n,["textInput"],i);const s=T(t,["output"]);return s!=null&&b(n,["output"],s),n}function I3(e,t){const n={};if(T(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const i=T(t,["examples"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(o=>_3(e,o))),b(n,["examples","examples"],s)}return n}function N3(e,t,n){const i={};if(T(t,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const s=T(t,["tunedModelDisplayName"]);if(n!==void 0&&s!=null&&b(n,["displayName"],s),T(t,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const o=T(t,["epochCount"]);n!==void 0&&o!=null&&b(n,["tuningTask","hyperparameters","epochCount"],o);const u=T(t,["learningRateMultiplier"]);if(u!=null&&b(i,["tuningTask","hyperparameters","learningRateMultiplier"],u),T(t,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const c=T(t,["batchSize"]);n!==void 0&&c!=null&&b(n,["tuningTask","hyperparameters","batchSize"],c);const m=T(t,["learningRate"]);return n!==void 0&&m!=null&&b(n,["tuningTask","hyperparameters","learningRate"],m),i}function M3(e,t){const n={},i=T(t,["baseModel"]);i!=null&&b(n,["baseModel"],i);const s=T(t,["trainingDataset"]);s!=null&&b(n,["tuningTask","trainingData"],I3(e,s));const o=T(t,["config"]);return o!=null&&b(n,["config"],N3(e,o,n)),n}function D3(e,t){const n={},i=T(t,["name"]);i!=null&&b(n,["_url","name"],i);const s=T(t,["config"]);return s!=null&&b(n,["config"],s),n}function R3(e,t,n){const i={},s=T(t,["pageSize"]);n!==void 0&&s!=null&&b(n,["_query","pageSize"],s);const o=T(t,["pageToken"]);n!==void 0&&o!=null&&b(n,["_query","pageToken"],o);const u=T(t,["filter"]);return n!==void 0&&u!=null&&b(n,["_query","filter"],u),i}function k3(e,t){const n={},i=T(t,["config"]);return i!=null&&b(n,["config"],R3(e,i,n)),n}function w3(e,t,n){const i={},s=T(t,["gcsUri"]);if(n!==void 0&&s!=null&&b(n,["supervisedTuningSpec","trainingDatasetUri"],s),T(t,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return i}function L3(e,t){const n={},i=T(t,["gcsUri"]);return i!=null&&b(n,["validationDatasetUri"],i),n}function O3(e,t,n){const i={},s=T(t,["validationDataset"]);n!==void 0&&s!=null&&b(n,["supervisedTuningSpec"],L3(e,s));const o=T(t,["tunedModelDisplayName"]);n!==void 0&&o!=null&&b(n,["tunedModelDisplayName"],o);const u=T(t,["description"]);n!==void 0&&u!=null&&b(n,["description"],u);const c=T(t,["epochCount"]);n!==void 0&&c!=null&&b(n,["supervisedTuningSpec","hyperParameters","epochCount"],c);const m=T(t,["learningRateMultiplier"]);n!==void 0&&m!=null&&b(n,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],m);const f=T(t,["adapterSize"]);if(n!==void 0&&f!=null&&b(n,["supervisedTuningSpec","hyperParameters","adapterSize"],f),T(t,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(T(t,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");return i}function P3(e,t){const n={},i=T(t,["baseModel"]);i!=null&&b(n,["baseModel"],i);const s=T(t,["trainingDataset"]);s!=null&&b(n,["supervisedTuningSpec","trainingDatasetUri"],w3(e,s,n));const o=T(t,["config"]);return o!=null&&b(n,["config"],O3(e,o,n)),n}function B3(e,t){const n={},i=T(t,["name"]);i!=null&&b(n,["model"],i);const s=T(t,["name"]);return s!=null&&b(n,["endpoint"],s),n}function QE(e,t){const n={},i=T(t,["name"]);i!=null&&b(n,["name"],i);const s=T(t,["state"]);s!=null&&b(n,["state"],GE(e,s));const o=T(t,["createTime"]);o!=null&&b(n,["createTime"],o);const u=T(t,["tuningTask","startTime"]);u!=null&&b(n,["startTime"],u);const c=T(t,["tuningTask","completeTime"]);c!=null&&b(n,["endTime"],c);const m=T(t,["updateTime"]);m!=null&&b(n,["updateTime"],m);const f=T(t,["description"]);f!=null&&b(n,["description"],f);const h=T(t,["baseModel"]);h!=null&&b(n,["baseModel"],h);const y=T(t,["_self"]);y!=null&&b(n,["tunedModel"],B3(e,y));const v=T(t,["distillationSpec"]);v!=null&&b(n,["distillationSpec"],v);const S=T(t,["experiment"]);S!=null&&b(n,["experiment"],S);const _=T(t,["labels"]);_!=null&&b(n,["labels"],_);const I=T(t,["pipelineJob"]);I!=null&&b(n,["pipelineJob"],I);const O=T(t,["tunedModelDisplayName"]);return O!=null&&b(n,["tunedModelDisplayName"],O),n}function F3(e,t){const n={},i=T(t,["nextPageToken"]);i!=null&&b(n,["nextPageToken"],i);const s=T(t,["tunedModels"]);if(s!=null){let o=s;Array.isArray(o)&&(o=o.map(u=>QE(e,u))),b(n,["tuningJobs"],o)}return n}function H3(e,t){const n={},i=T(t,["name"]);i!=null&&b(n,["name"],i);const s=T(t,["metadata"]);s!=null&&b(n,["metadata"],s);const o=T(t,["done"]);o!=null&&b(n,["done"],o);const u=T(t,["error"]);return u!=null&&b(n,["error"],u),n}function U3(e,t){const n={},i=T(t,["model"]);i!=null&&b(n,["model"],i);const s=T(t,["endpoint"]);return s!=null&&b(n,["endpoint"],s),n}function ch(e,t){const n={},i=T(t,["name"]);i!=null&&b(n,["name"],i);const s=T(t,["state"]);s!=null&&b(n,["state"],GE(e,s));const o=T(t,["createTime"]);o!=null&&b(n,["createTime"],o);const u=T(t,["startTime"]);u!=null&&b(n,["startTime"],u);const c=T(t,["endTime"]);c!=null&&b(n,["endTime"],c);const m=T(t,["updateTime"]);m!=null&&b(n,["updateTime"],m);const f=T(t,["error"]);f!=null&&b(n,["error"],f);const h=T(t,["description"]);h!=null&&b(n,["description"],h);const y=T(t,["baseModel"]);y!=null&&b(n,["baseModel"],y);const v=T(t,["tunedModel"]);v!=null&&b(n,["tunedModel"],U3(e,v));const S=T(t,["supervisedTuningSpec"]);S!=null&&b(n,["supervisedTuningSpec"],S);const _=T(t,["tuningDataStats"]);_!=null&&b(n,["tuningDataStats"],_);const I=T(t,["encryptionSpec"]);I!=null&&b(n,["encryptionSpec"],I);const O=T(t,["partnerModelTuningSpec"]);O!=null&&b(n,["partnerModelTuningSpec"],O);const D=T(t,["distillationSpec"]);D!=null&&b(n,["distillationSpec"],D);const H=T(t,["experiment"]);H!=null&&b(n,["experiment"],H);const R=T(t,["labels"]);R!=null&&b(n,["labels"],R);const V=T(t,["pipelineJob"]);V!=null&&b(n,["pipelineJob"],V);const K=T(t,["tunedModelDisplayName"]);return K!=null&&b(n,["tunedModelDisplayName"],K),n}function V3(e,t){const n={},i=T(t,["nextPageToken"]);i!=null&&b(n,["nextPageToken"],i);const s=T(t,["tuningJobs"]);if(s!=null){let o=s;Array.isArray(o)&&(o=o.map(u=>ch(e,u))),b(n,["tuningJobs"],o)}return n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class z3 extends Il{constructor(t){super(),this.apiClient=t,this.get=async n=>await this.getInternal(n),this.list=async(n={})=>new Zh(ml.PAGED_ITEM_TUNING_JOBS,i=>this.listInternal(i),await this.listInternal(n),n),this.tune=async n=>{if(this.apiClient.isVertexAI())return await this.tuneInternal(n);{const i=await this.tuneMldevInternal(n);let s="";return i.metadata!==void 0&&i.metadata.tunedModel!==void 0?s=i.metadata.tunedModel:i.name!==void 0&&i.name.includes("/operations/")&&(s=i.name.split("/operations/")[0]),{name:s,state:rh.JOB_STATE_QUEUED}}}}async getInternal(t){var n,i,s,o;let u,c="",m={};if(this.apiClient.isVertexAI()){const f=D3(this.apiClient,t);return c=Ve("{name}",f._url),m=f._query,delete f.config,delete f._url,delete f._query,u=this.apiClient.request({path:c,queryParams:m,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json()),u.then(h=>ch(this.apiClient,h))}else{const f=S3(this.apiClient,t);return c=Ve("{name}",f._url),m=f._query,delete f.config,delete f._url,delete f._query,u=this.apiClient.request({path:c,queryParams:m,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(s=t.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json()),u.then(h=>QE(this.apiClient,h))}}async listInternal(t){var n,i,s,o;let u,c="",m={};if(this.apiClient.isVertexAI()){const f=k3(this.apiClient,t);return c=Ve("tuningJobs",f._url),m=f._query,delete f.config,delete f._url,delete f._query,u=this.apiClient.request({path:c,queryParams:m,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json()),u.then(h=>{const y=V3(this.apiClient,h),v=new DT;return Object.assign(v,y),v})}else{const f=A3(this.apiClient,t);return c=Ve("tunedModels",f._url),m=f._query,delete f.config,delete f._url,delete f._query,u=this.apiClient.request({path:c,queryParams:m,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(s=t.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json()),u.then(h=>{const y=F3(this.apiClient,h),v=new DT;return Object.assign(v,y),v})}}async tuneInternal(t){var n,i;let s,o="",u={};if(this.apiClient.isVertexAI()){const c=P3(this.apiClient,t);return o=Ve("tuningJobs",c._url),u=c._query,delete c.config,delete c._url,delete c._query,s=this.apiClient.request({path:o,queryParams:u,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(m=>m.json()),s.then(m=>ch(this.apiClient,m))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(t){var n,i;let s,o="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=M3(this.apiClient,t);return o=Ve("tunedModels",c._url),u=c._query,delete c.config,delete c._url,delete c._query,s=this.apiClient.request({path:o,queryParams:u,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(m=>m.json()),s.then(m=>H3(this.apiClient,m))}}}const j3=1024*1024*8;async function G3(e,t,n){var i,s;let o=0,u=0,c=new sh(new Response),m="upload";for(o=e.size;u<o;){const h=Math.min(j3,o-u),y=e.slice(u,u+h);if(u+h>=o&&(m+=", finalize"),c=await n.request({path:"",body:y,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:t,headers:{"X-Goog-Upload-Command":m,"X-Goog-Upload-Offset":String(u),"Content-Length":String(h)}}}),u+=h,((i=c==null?void 0:c.headers)===null||i===void 0?void 0:i["x-goog-upload-status"])!=="active")break;if(o<=u)throw new Error("All content has been uploaded, but the upload status is not finalized.")}const f=await(c==null?void 0:c.json());if(((s=c==null?void 0:c.headers)===null||s===void 0?void 0:s["x-goog-upload-status"])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return f.file}async function q3(e){return{size:e.size,type:e.type}}class Y3{async upload(t,n,i){if(typeof t=="string")throw new Error("File path is not supported in browser uploader.");return await G3(t,n,i)}async stat(t){if(typeof t=="string")throw new Error("File path is not supported in browser uploader.");return await q3(t)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class K3{create(t,n,i){return new $3(t,n,i)}}class $3{constructor(t,n,i){this.url=t,this.headers=n,this.callbacks=i}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(t){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(t)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const YT="x-goog-api-key";class X3{constructor(t){this.apiKey=t}async addAuthHeaders(t){t.get(YT)===null&&t.append(YT,this.apiKey)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const W3="gl-node/";class Q3{constructor(t){var n;if(t.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(t.project||t.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(n=t.vertexai)!==null&&n!==void 0?n:!1,this.apiKey=t.apiKey;const i=sI(t,void 0,void 0);i&&(t.httpOptions?t.httpOptions.baseUrl=i:t.httpOptions={baseUrl:i}),this.apiVersion=t.apiVersion;const s=new X3(this.apiKey);this.apiClient=new v3({auth:s,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:t.httpOptions,userAgentExtra:W3+"web",uploader:new Y3}),this.models=new n3(this.apiClient),this.live=new QD(this.apiClient,s,new K3),this.chats=new JI(this.models,this.apiClient),this.caches=new $I(this.apiClient),this.files=new dN(this.apiClient),this.operations=new m3(this.apiClient),this.tunings=new z3(this.apiClient)}}var J3={};const La=typeof process<"u"&&J3.GEMINI_MODEL_NAME||typeof import.meta<"u"&&void 0||"gemini-2.0-flash-exp",KT="TrackGuide",$T="songGuidebookLibrary",Ho="trackGuideLastUsedDAW",Zu="trackGuideLastUsedPlugins",JE=["Pop","Indie Pop","Synth-Pop","Rock","Alternative Rock","Hard Rock","Punk Rock","Post-Punk","Nu Metal","Progressive Rock","Psychedelic Rock","Folk Rock","Shoegaze","House","Deep House","Progressive House","Tech House","Bass House","Electro House","Minimal House","Techno","Minimal Techno","Industrial Techno","Melodic Techno","Ambient Techno","Hard Techno","Trance","Progressive Trance","Psytrance","Goa Trance","Hard Trance","Ambient","Dark Ambient","Downtempo","Chillout","Chillwave","Psybient","Berlin School","Synthwave","Retrowave","Darksynth","Vaporwave","Future Funk","Drum and Bass","Jungle","Liquid DnB","Neurofunk","Breakcore","Dubstep","Riddim","Future Bass","Trap (EDM)","Hardstyle","Gabber","UK Hardcore","IDM (Intelligent Dance Music)","Glitch","Breakbeat","UK Garage","2-Step","Future Garage","EBM (Electronic Body Music)","Footwork","Juke","Hip Hop","Boom Bap","Trap","Lo-fi Hip Hop","Cloud Rap","Drill","Conscious Hip Hop","R&B","Contemporary R&B","Neo-Soul","Soul","Folk","Acoustic","World Music","Reggae","Dub","Ska","Latin","Afrobeat","Celtic","Jazz","Smooth Jazz","Blues","Funk","Heavy Metal","Thrash Metal","Death Metal","Black Metal","Doom Metal","Metalcore","Deathcore","Experimental","Noise","Industrial","Classical Crossover","Chiptune","Video Game Music"],Z3=["Dark","Atmospheric","Energetic","Uplifting","Chill","Relaxed","Experimental","Trippy","Nostalgic","Retro","Aggressive","Intense","Melancholic","Introspective","Funky","Groovy","Mysterious","Eerie","Euphoric","Anthemic","Dreamy","Ethereal","Raw","Gritty","Sophisticated","Smooth","Cyberpunk","Futuristic","Hypnotic","Driving","Industrial","Mechanical","Hopeful","Aggressive","Peaceful","Romantic","Sad","Joyful","Tense"],XT=["Ableton Live","Logic Pro X","FL Studio","Pro Tools","Cubase","Studio One","Reason","Bitwig Studio","Reaper","GarageBand"],Wo=["C Major","G Major","D Major","A Major","E Major","B Major","F# Major","C# Major","F Major","Bb Major","Eb Major","Ab Major","Db Major","Gb Major","Cb Major","A Minor","E Minor","B Minor","F# Minor","C# Minor","G# Minor","D# Minor","A# Minor","D Minor","G Minor","C Minor","F Minor","Bb Minor","Eb Minor","Ab Minor"],WT={C:["Ionian (Major)","Dorian","Phrygian","Lydian","Mixolydian","Aeolian (Natural Minor)","Locrian"],"C#":["Ionian (Major)","Dorian","Phrygian","Lydian","Mixolydian","Aeolian (Natural Minor)","Locrian"],Db:["Ionian (Major)","Dorian","Phrygian","Lydian","Mixolydian","Aeolian (Natural Minor)","Locrian"],D:["Ionian (Major)","Dorian","Phrygian","Lydian","Mixolydian","Aeolian (Natural Minor)","Locrian"],"D#":["Ionian (Major)","Dorian","Phrygian","Lydian","Mixolydian","Aeolian (Natural Minor)","Locrian"],Eb:["Ionian (Major)","Dorian","Phrygian","Lydian","Mixolydian","Aeolian (Natural Minor)","Locrian"],E:["Ionian (Major)","Dorian","Phrygian","Lydian","Mixolydian","Aeolian (Natural Minor)","Locrian"],F:["Ionian (Major)","Dorian","Phrygian","Lydian","Mixolydian","Aeolian (Natural Minor)","Locrian"],"F#":["Ionian (Major)","Dorian","Phrygian","Lydian","Mixolydian","Aeolian (Natural Minor)","Locrian"],Gb:["Ionian (Major)","Dorian","Phrygian","Lydian","Mixolydian","Aeolian (Natural Minor)","Locrian"],G:["Ionian (Major)","Dorian","Phrygian","Lydian","Mixolydian","Aeolian (Natural Minor)","Locrian"],"G#":["Ionian (Major)","Dorian","Phrygian","Lydian","Mixolydian","Aeolian (Natural Minor)","Locrian"],Ab:["Ionian (Major)","Dorian","Phrygian","Lydian","Mixolydian","Aeolian (Natural Minor)","Locrian"],A:["Ionian (Major)","Dorian","Phrygian","Lydian","Mixolydian","Aeolian (Natural Minor)","Locrian"],"A#":["Ionian (Major)","Dorian","Phrygian","Lydian","Mixolydian","Aeolian (Natural Minor)","Locrian"],Bb:["Ionian (Major)","Dorian","Phrygian","Lydian","Mixolydian","Aeolian (Natural Minor)","Locrian"],B:["Ionian (Major)","Dorian","Phrygian","Lydian","Mixolydian","Aeolian (Natural Minor)","Locrian"],Cb:["Ionian (Major)","Dorian","Phrygian","Lydian","Mixolydian","Aeolian (Natural Minor)","Locrian"]},eR=[[4,4],[3,4],[6,8],[2,4],[5,4],[7,8]],tR=[{id:"chords",label:"Chords"},{id:"bassline",label:"Bassline"},{id:"melody",label:"Melody"},{id:"drums",label:"Drums"}],nR=["General Loop","Intro","Verse","Pre-Chorus","Chorus","Post-Chorus","Bridge","Solo","Breakdown","Drop","Outro","Fill"],ut={key:"C Major",tempo:120,timeSignature:[4,4],chordProgression:"I-V-vi-IV",genre:"Pop",bars:8,targetInstruments:["chords","bassline","melody","drums"],guidebookContext:"",songSection:"General Loop"},Jn={Pop:["I-V-vi-IV","vi-IV-I-V","I-IV-V-I","I-vi-IV-V","ii-V-I-IV","vi-ii-V-I","I-iii-vi-V"],"Indie Pop":["I-V-vi-IV","I-IV-vi-V","vi-IV-I-V","I-iii-IV-V","vi-ii-V-I","I-vi-ii-V"],"Synth-Pop":["i-VI-III-VII","I-V-vi-IV","i-iv-v-VI","I-IV-ii-V","vi-IV-I-V","i-VII-VI-V"],Rock:["I-IV-V","vi-IV-I-V","I-bVII-IV-I","i-VI-III-VII","I-V-IV-I","vi-ii-V-I","I-IV-V-vi"],"Alternative Rock":["vi-IV-I-V","I-V-vi-IV","i-VI-III-VII","I-IV-ii-V","I-bVII-IV-I","vi-ii-V-I"],"Hard Rock":["I-IV-V","i-VI-III-VII","I-bVII-IV-I","i-iv-v-i","vi-IV-I-V","I-V-IV-I"],"Punk Rock":["I-IV-V","vi-IV-I-V","I-V-vi-IV","I-bVII-IV-I","i-iv-v-i"],House:["i-VI-III-VII","Am-G-C-F","i-III-VI-VII","i-v-iv-i","vi-IV-I-V","i-VII-VI-V"],"Deep House":["i-VI-III-VII","Am-G-C-F","i-iv-v-i","vi-ii-V-I","i-VII-VI-V","Dm-Bb-F-C"],"Progressive House":["i-VI-III-VII","vi-IV-I-V","i-iv-v-VI","Am-F-C-G","i-VII-VI-V"],"Tech House":["i-VI-III-VII","i-iv-v-i","Am-G-F-E","i-III-VI-VII","vi-IV-I-V"],Techno:["i-VI-III-VII","i-iv-v-i","Am-G-F-E","i-III-VI-VII","i-VII-VI-V","Drone + variations"],"Minimal Techno":["i-iv-v-i","Am-G-F-E","i-VI-III-VII","Single chord drone","i-VII-VI-V"],Trance:["i-VI-III-VII","vi-IV-I-V","i-VII-VI-V","Am-F-C-G","i-iv-v-VI","vi-ii-V-I"],"Progressive Trance":["i-VI-III-VII","vi-IV-I-V","i-iv-v-VI","Am-F-C-G","vi-ii-V-I"],Ambient:["Imaj7-IVmaj7","i-VI","Drone + sus chords","vi-IV-I-V","Am-F-C-G","Cmaj7-Fmaj7-Am7-Dm7"],"Dark Ambient":["i-iv-v-i","Am-Dm-Em-Am","i-VI-III-VII","Drone + minor variations"],Synthwave:["i-VI-III-VII","vi-IV-I-V","I-V-vi-IV","i-iv-v-i","Am-F-C-G","i-VII-VI-V"],Retrowave:["i-VI-III-VII","vi-IV-I-V","I-V-vi-IV","Am-F-C-G","i-iv-v-VI"],Darksynth:["i-VI-III-VII","i-iv-v-i","Am-G-F-E","i-VII-VI-V","vi-IV-I-V"],Vaporwave:["Imaj7-IVmaj7","vi-IV-I-V","I-V-vi-IV","Cmaj7-Fmaj7-Am7-Dm7","ii-V-I-IV"],"Drum and Bass":["i-VI-III-VII","Am-F-C-G","ii-V-I-IV","i-iv-v-VI","Complex jazz voicings"],"Liquid DnB":["ii-V-I-IV","Imaj7-vi7-ii7-V7","i-VI-III-VII","Am-F-C-G","vi-ii-V-I"],Neurofunk:["i-VI-III-VII","i-iv-v-i","Am-G-F-E","Complex chromatic progressions"],Breakcore:["i-VI-III-VII","Complex atonal progressions","i-iv-v-i","Chaotic harmonic structures"],Dubstep:["i-VI-III-VII","i-iv-v-i","Am-G-F-E","Simple 2-3 chord loops","vi-IV-I-V"],Riddim:["i-VI-III-VII","i-iv-v-i","Am-G-F-E","Simple repetitive loops"],"Future Bass":["I-V-vi-IV","vi-IV-I-V","i-VI-III-VII","I-iii-vi-V","vi-ii-V-I"],"Trap (EDM)":["i-VI-III-VII","i-iv-v-i","Am-G-F-E","vi-IV-I-V","Simple 2-3 chord loops"],"Hip Hop":["i-VI-III-VII","Am-G-Em-F","ii-V-I","i-iv-v-i","Sample-based loops","vi-IV-I-V"],"Boom Bap":["ii-V-I","i-VI-III-VII","Am-G-Em-F","Sample-based progressions","i-iv-v-i"],Trap:["i-VI-III-VII","i-iv-v-i","Am-G-F-E","vi-IV-I-V","Simple minor progressions"],"Lo-fi Hip Hop":["ii-V-I-IV","Imaj7-vi7-ii7-V7","I-V-vi-IV","vi-ii-V-I","Cmaj7-Am7-Dm7-G7"],"Cloud Rap":["i-VI-III-VII","vi-IV-I-V","I-V-vi-IV","Atmospheric progressions","Am-F-C-G"],Drill:["i-VI-III-VII","i-iv-v-i","Am-G-F-E","Dark minor progressions","vi-IV-I-V"],"R&B":["Imaj7-IVmaj7","ii-V-I","i-VI-III-VII","vi-ii-V-I","I-iii-vi-V","Cmaj7-Fmaj7-Am7-Dm7"],"Contemporary R&B":["Imaj7-IVmaj7","vi-ii-V-I","I-iii-vi-V","ii-V-I-IV","I-V-vi-IV"],"Neo-Soul":["ii-V-I","Imaj7-vi7-ii7-V7","i-VI-III-VII","Complex jazz progressions","vi-ii-V-I"],Soul:["I-IV-V","ii-V-I","I-vi-IV-V","vi-IV-I-V","I-V-vi-IV"],Folk:["I-IV-V","I-V-vi-IV","G-C-D-G","C-G-Am-F","vi-IV-I-V","I-vi-IV-V"],Acoustic:["I-V-vi-IV","I-IV-V","vi-IV-I-V","G-C-D-G","C-G-Am-F","I-vi-IV-V"],Jazz:["ii-V-I","I-vi-ii-V","iii-vi-ii-V","I-II7-V7-I","Imaj7-IIm7-IIIm7-IVmaj7","vi-ii-V-I"],"Smooth Jazz":["ii-V-I","Imaj7-vi7-ii7-V7","I-vi-ii-V","vi-ii-V-I","iii-vi-ii-V"],Blues:["I-I-I-I-IV-IV-I-I-V-IV-I-I","i-i-i-i-iv-iv-i-i-v-iv-i-i","I-IV-V","i-iv-v"],Funk:["ii-V-I","I-IV-V","i-iv-v-i","vi-ii-V-I","I7-IV7-V7","Dominant 7th progressions"],"Heavy Metal":["i-VI-III-VII","i-iv-v-i","I-bVII-IV-I","vi-IV-I-V","i-VII-VI-V"],"Thrash Metal":["i-VI-III-VII","i-iv-v-i","I-bVII-IV-I","Fast chromatic progressions"],"Death Metal":["i-iv-v-i","i-VI-III-VII","Chromatic progressions","Complex atonal structures"],"Black Metal":["i-iv-v-i","i-VI-III-VII","i-VII-VI-V","Atmospheric minor progressions"],"Doom Metal":["i-iv-v-i","i-VI-III-VII","i-VII-VI-V","Slow minor progressions"],Metalcore:["i-VI-III-VII","vi-IV-I-V","i-iv-v-i","I-bVII-IV-I","vi-ii-V-I"],Deathcore:["i-iv-v-i","i-VI-III-VII","Chromatic breakdowns","Complex atonal progressions"],Experimental:["Atonal progressions","Extended harmony","Microtonal scales","Non-traditional structures"],Noise:["Atonal clusters","Non-harmonic structures","Dissonant progressions","Experimental harmony"],Industrial:["i-iv-v-i","i-VI-III-VII","Power chord progressions","Mechanical repetition"],Chiptune:["I-V-vi-IV","i-VI-III-VII","vi-IV-I-V","Classic video game progressions","I-iii-vi-V"],"Video Game Music":["I-V-vi-IV","i-VI-III-VII","vi-IV-I-V","Adventure progressions","I-iii-vi-V"],Default:["I-V-vi-IV","i-VI-III-VII","I-IV-V-I","vi-IV-I-V","ii-V-I","I-iii-vi-V"]},bi={Pop:[90,130],"Indie Pop":[100,140],"Synth-Pop":[110,140],Rock:[100,160],"Alternative Rock":[90,150],House:[118,128],"Deep House":[115,125],Techno:[125,145],Trance:[130,145],Ambient:[50,100],Synthwave:[80,120],"Drum and Bass":[160,180],Dubstep:[130,150],"Trap (EDM)":[130,160],"Hip Hop":[80,110],"Lo-fi Hip Hop":[70,90],"R&B":[60,100],Folk:[80,120],Jazz:[70,180],Blues:[70,130],Default:[60,200]},hs={kick:36,snare:38,hihat_closed:42,open_hihat:46,tom_low:41,tom_mid:47,tom_high:50,crash_cymbal_1:49,ride_cymbal_1:51,clap:39,shaker:70,tambourine:54,rim_shot:37,cowbell:56,bass_drum:36,snare_drum:38,closed_hihat:42,hihat:42,crash:49,ride:51},ec=[{category:"Genre",key:"genre",examples:["Techno","House","Trance","Dubstep","Drum & Bass","Synthwave","Ambient","Industrial","Rock","Pop","Hip Hop","R&B","Jazz","Experimental","Cinematic","Video Game Score","Chiptune"]},{category:"Voice Type",key:"voiceType",examples:["Lead","Pad","Bass","Pluck","Arp","FX","Drone","Texture","Atmosphere","Riser","Impact","Chord","Stab"]},{category:"Style & Mood",key:"styleMood",examples:["Warm","Bright","Dark","Metallic","Analog","Digital","Dreamy","Aggressive","Mysterious","Epic","Punchy","Floating","Gritty","Clean","Organic","Mechanical","Futuristic","Retro","Cyberpunk"]},{category:"Dynamics & Movement",key:"dynamicsMovement",examples:["Evolving","Pulsating","Static","Rhythmic","Flowing","Choppy","Breathing","Morphing","Swelling","Pounding","Cascading","Trembling","Wobbling","Shifting","Undulating","Building","Fading","Stuttering"]}],iR=["Ableton Operator","Ableton Wavetable","Apple Alchemy","Apple Retro Synth","Arturia Analog Lab","Arturia PolyBrute","Bazille","DiscoDSP OB-Xd","Diva","Hive 2","Kilohearts Phase Plant","Korg MS-20","Korg Wavestate","Moog Minimoog","Native Instruments FM8","Native Instruments Massive","Native Instruments Massive X","Native Instruments Monark","Omnisphere","Pigments","Roland Jupiter-8","Roland Juno-106","Roland SH-101","Sylenth1","TAL TAL-U-No-LX","u-he Repro-1","u-he Repro-5","Vital","Xfer Serum","Zebra2","Generic"].sort(),aR="AIzaSyCxOuxalv_PC6h6aE8JvEjLMK8ie8C9Nts",Oa=new Q3({apiKey:aR});function ZE(e,t){if(!e&&!t)return`
###  Processing Tips & Plugin Parameters

**EQ Settings:**
- High-pass filter: 20-40 Hz to remove sub-bass rumble
- Low-mid cut: 200-400 Hz to reduce muddiness
- Presence boost: 2-5 kHz for clarity
- Air boost: 10-15 kHz for sparkle

**Compression:**
- Ratio: 3:1 to 4:1 for moderate control
- Attack: 10-30ms for punch retention
- Release: 100-300ms for natural decay
- Makeup gain: 2-6 dB as needed

**Reverb & Delay:**
- Room reverb: 0.8-1.5s decay for space
- Delay: 1/8 or 1/4 note timing
- High-cut: 8-12 kHz to avoid harshness
- Mix: 15-30% for depth without wash`;const i=e?(u=>{const c=u.toLowerCase();return c.includes("ableton")?{eq:"EQ Eight",compressor:"Compressor",reverb:"Reverb",delay:"Echo",limiter:"Limiter",saturator:"Saturator"}:c.includes("logic")?{eq:"Channel EQ",compressor:"Compressor",reverb:"ChromaVerb",delay:"Echo",limiter:"Adaptive Limiter",saturator:"Tape"}:c.includes("fl studio")||c.includes("fl")?{eq:"Parametric EQ 2",compressor:"Fruity Compressor",reverb:"Reverb 2",delay:"Fruity Delay 3",limiter:"Fruity Limiter",saturator:"Fruity Waveshaper"}:c.includes("pro tools")?{eq:"EQ III",compressor:"Dyn3 Compressor/Limiter",reverb:"D-Verb",delay:"Mod Delay III",limiter:"Dyn3 Compressor/Limiter",saturator:"Lo-Fi"}:c.includes("cubase")||c.includes("nuendo")?{eq:"StudioEQ",compressor:"Compressor",reverb:"REVerence",delay:"ModMachine",limiter:"Limiter",saturator:"Tape"}:c.includes("reaper")?{eq:"ReaEQ",compressor:"ReaComp",reverb:"ReaVerb",delay:"ReaDelay",limiter:"ReaLimit",saturator:"ReaSynth"}:{eq:"Stock EQ",compressor:"Stock Compressor",reverb:"Stock Reverb",delay:"Stock Delay",limiter:"Stock Limiter",saturator:"Stock Saturator"}})(e):null,s=e&&!t?`**${e} Stock Plugin Chain:**`:e?`**${e}-Specific Settings:**`:"",o=t?`**Custom Plugin Chain (${t}):**`:"";return`
###  Processing Tips & Plugin Parameters
${s}
${o}

**EQ Parameters:**
${i&&!t?`- ${i.eq}: High-pass at ${e!=null&&e.toLowerCase().includes("logic")?"35":e!=null&&e.toLowerCase().includes("fl")?"30":"40"} Hz, Low-mid cut at ${e!=null&&e.toLowerCase().includes("logic")?"300":e!=null&&e.toLowerCase().includes("fl")?"400":"250"} Hz (-3dB), Presence boost at ${e!=null&&e.toLowerCase().includes("logic")?"12 kHz (+1.5dB)":e!=null&&e.toLowerCase().includes("fl")?"15 kHz (+2dB)":"3 kHz (+2dB)"}`:e==="Ableton Live"?"- EQ Eight: High-pass at 40 Hz, Low-mid cut at 250 Hz (-3dB), Presence boost at 3 kHz (+2dB)":e==="Logic Pro X"?"- Channel EQ: High-pass at 35 Hz, Low-mid cut at 300 Hz (-2.5dB), High boost at 12 kHz (+1.5dB)":e==="FL Studio"?"- Parametric EQ 2: High-pass at 30 Hz, Mid cut at 400 Hz (-4dB), Air boost at 15 kHz (+2dB)":"- High-pass filter: 20-40 Hz, Low-mid cut: 200-400 Hz (-2 to -4dB), Presence boost: 2-5 kHz (+1 to +3dB)"}

**Compression Settings:**
${i&&!t?`- ${i.compressor}: Ratio ${e!=null&&e.toLowerCase().includes("logic")?"3.5:1":"4:1"}, Attack ${e!=null&&e.toLowerCase().includes("fl")?"10ms":e!=null&&e.toLowerCase().includes("logic")?"20ms":"15ms"}, Release ${e!=null&&e.toLowerCase().includes("logic")?"150ms":e!=null&&e.toLowerCase().includes("fl")?"250ms":"200ms"}${e!=null&&e.toLowerCase().includes("logic")?", Auto-Release enabled":e!=null&&e.toLowerCase().includes("fl")?", Knee 3dB":", Knee 2dB"}`:e==="Ableton Live"?"- Compressor: Ratio 4:1, Attack 15ms, Release 200ms, Knee 2dB":e==="Logic Pro X"?"- Compressor: Ratio 3.5:1, Attack 20ms, Release 150ms, Auto-Release enabled":e==="FL Studio"?"- Fruity Compressor: Ratio 4:1, Attack 10ms, Release 250ms, Knee 3dB":"- Ratio: 3:1 to 4:1, Attack: 10-30ms, Release: 100-300ms"}

**Reverb & Delay:**
${i&&!t?`- ${i.reverb}: Room/Hall setting, 1.2s decay, Pre-delay 20ms, Mix 25%
- ${i.delay}: 1/8 note timing, Feedback 35%, High-cut 8kHz, Mix 20%`:"- Room reverb: 0.8-1.5s decay for space, Delay: 1/8 or 1/4 note timing, High-cut: 8-12 kHz to avoid harshness"}

**Effects Chain:**
${t?`- Using ${t}: Apply specific parameter recommendations based on your plugin selection`:i?`- ${i.eq}  ${i.compressor}  ${i.saturator}  ${i.reverb}/${i.delay}  ${i.limiter}`:"- Standard effects: EQ  Compressor  Reverb/Delay  Limiter"}
- Send levels: 15-25% to reverb bus, 10-20% to delay bus
- Sidechain settings: 4:1 ratio, fast attack, medium release`}function ev(){return`
##  Structural Blueprint

<div className="overflow-x-auto">

| **Section** | **Duration** | **Key Elements & Instrumentation** |
| --- | --- | --- |
| **Intro** | 16-32 bars | Atmospheric build, Teaser elements<br/>*Lead synth, Bass, Drums, Pads* |
| **Verse 1** | 16 bars | Main groove, Vocal/Lead melody<br/>*Vocals, Full arrangement* |
| **Pre-Chorus** | 8 bars | Tension build, Filter sweeps<br/>*Reduced arrangement, Focus elements* |
| **Chorus** | 16 bars | Full energy, Hook elements<br/>*Full arrangement, Vocal harmonies* |
| **Breakdown** | 8-16 bars | Stripped back, Build tension<br/>*Breakdown elements, Build-up* |
| **Verse 2/Solo** | 16 bars | Variation, New elements<br/>*Lead elements, Minimal backing* |
| **Final Chorus** | 16-24 bars | Maximum energy, All elements<br/>*Full arrangement, Climax elements* |
| **Outro** | 16-32 bars | Gradual fade, Ambient tail<br/>*Fade elements, Ambient textures* |

</div>`}const rR=async e=>{var H,R;const t=e.songTitle?`- **Project Name**: ${e.songTitle}`:"",n=e.artistReference?`- **Artist References**: ${e.artistReference}`:"",i=((H=e.genre)==null?void 0:H.join(", "))||"Not specified",s=((R=e.vibe)==null?void 0:R.join(", "))||"Not specified",o=e.availableInstruments||"Not specified",u=e.daw?e.daw:"Not specified",c=e.plugins?e.plugins:"Stock/Generic plugins",m=e.key?`Key: ${e.key}`:"",f=e.scale?`Scale/Mode: ${e.scale}`:"",h=e.chords?`Chord Progression: ${e.chords}`:"",y=e.referenceTrackLink?`Reference Track: ${e.referenceTrackLink}`:"",v=e.lyrics?`Lyrics Theme: ${e.lyrics}`:"",S=e.generalNotes?`Additional Notes: ${e.generalNotes}`:"",_=ev(),I=ZE(e.daw,e.plugins),O=`//  Including all fields
You are TrackGuideAI, an expert music production assistant specializing in comprehensive track creation guides.

Create a detailed TrackGuide for the following specifications:
${t}
${n}
- **Genre**: ${i}
- **Vibe**: ${s}
- **Available Instruments**: ${o}
- **DAW**: ${u}
- **Plugins**: ${c}
${m}
${f}
${h}
${y}
${v}
${S}

**IMPORTANT FORMATTING REQUIREMENTS:**
1. Include the exact Structural Blueprint table with Instrumentation column as provided
2. Use specific plugin parameters when DAW/plugins are specified
3. Provide actionable, detailed guidance for each section
4. Use markdown formatting with proper headers and emphasis

**Required Sections:**

${_}

##  Genre DNA Analysis
**Core Characteristics:**
- Tempo range and feel
- Harmonic structure and chord progressions
- Rhythmic patterns and groove elements
- Sonic palette and instrumentation choices

**Reference Analysis:**
${e.referenceTrackLink?"Analyze the provided reference track for key production techniques and arrangement ideas.":`Draw from classic examples in the ${i} genre for inspiration.`}

##  Instrument & Sound Design
**Primary Elements:**
- Lead sounds: Character, processing, and role
- Bass design: Sub content, mid presence, and groove
- Drum programming: Kick selection, snare character, hi-hat patterns
- Harmonic elements: Pad textures, chord voicings, arpeggios

**Sound Shaping:**
- Synthesis techniques and oscillator choices
- Filter movements and modulation
- Effects processing and spatial placement
- Layering strategies for fullness

${I}

##  Mixing & Arrangement Strategy
**Frequency Management:**
- Low-end: Sub-bass vs bass guitar/synth separation
- Midrange: Vocal/lead clarity and instrument separation  
- High-end: Air, sparkle, and presence balance

**Spatial Design:**
- Stereo width: Center, sides, and phantom center elements
- Depth: Reverb sends, delay throws, and dry/wet balance
- Movement: Automation, panning, and filter sweeps

**Dynamic Control:**
- Compression: Individual tracks and bus processing
- Sidechain: Pumping effects and clarity enhancement
- Limiting: Loudness and peak control

##  Arrangement Flow & Energy Management
**Section Transitions:**
- Build techniques: Risers, drum fills, filter sweeps
- Drop preparation: Silence, reverse reverbs, tension
- Energy curves: How to maintain listener engagement

**Variation Techniques:**
- Verse differences: Subtle changes to maintain interest
- Chorus variations: Building intensity across repetitions
- Bridge/breakdown: Contrast and reset before final sections

Focus on practical, actionable advice that can be immediately applied in ${u}. Provide specific parameter ranges and creative techniques that align with the ${i} aesthetic and ${s} mood.`;return await Oa.models.generateContentStream({model:La,contents:O})},hl=async e=>{const t=`//  Including guidebookContext
You are TrackGuideAI's MIDI Pattern Generator. Generate MIDI patterns in VALID JSON format only.

**Requirements:**
- Key: ${e.key}
- Scale/Mode: ${e.scale||"Major/Natural Minor"}
- Tempo: ${e.tempo} BPM
- Time Signature: ${e.timeSignature.join("/")}
- Chord Progression: ${e.chordProgression}
- Genre Context: ${e.genre}
- Song Section: ${e.songSection||"General Loop"}
- Bars: ${e.bars}
- Target Instruments: ${e.targetInstruments.join(", ")}
- Guidebook Context: ${e.guidebookContext||"Not specified"}

**JSON Structure Required:**
{
  "chords": [
    {
      "time": 0,
      "name": "Cm",
      "duration": 2,
      "notes": [{"pitch": "C4", "midi": 60}, {"pitch": "Eb4", "midi": 63}, {"pitch": "G4", "midi": 67}],
      "velocity": 90
    }
  ],
  "bassline": [
    {
      "time": 0,
      "midi": 36,
      "duration": 0.5,
      "velocity": 100,
      "pitch": "C2"
    }
  ],
  "melody": [
    {
      "time": 0,
      "midi": 72,
      "duration": 1,
      "velocity": 95,
      "pitch": "C5"
    }
  ],
  "drums": {
    "kick": [
      {"time": 0, "duration": 0.25, "velocity": 120},
      {"time": 2, "duration": 0.25, "velocity": 115}
    ],
    "snare": [
      {"time": 1, "duration": 0.25, "velocity": 100},
      {"time": 3, "duration": 0.25, "velocity": 105}
    ],
    "hihat_closed": [
      {"time": 0.5, "duration": 0.125, "velocity": 80},
      {"time": 1.5, "duration": 0.125, "velocity": 75}
    ],
    "open_hihat": [
      {"time": 1.75, "duration": 0.5, "velocity": 85}
    ],
    "clap": [
      {"time": 1, "duration": 0.25, "velocity": 95}
    ],
    "tom_high": [
      {"time": 3.5, "duration": 0.25, "velocity": 90}
    ],
    "tom_mid": [
      {"time": 3.75, "duration": 0.25, "velocity": 95}
    ],
    "tom_low": [
      {"time": 4, "duration": 0.5, "velocity": 100}
    ],
    "crash_cymbal_1": [
      {"time": 0, "duration": 2, "velocity": 110}
    ],
    "ride_cymbal_1": [
      {"time": 0.5, "duration": 0.25, "velocity": 70}
    ]
  }
}

**CRITICAL REQUIREMENTS:**
1. Return ONLY valid JSON. No explanatory text, no markdown formatting, no code blocks.
2. All time values must be in beats (0 to ${e.bars*4})
3. All MIDI numbers must be integers between 21-108
4. All durations must be positive numbers
5. All velocities must be integers between 1-127
6. Use appropriate drum elements for ${e.genre}:
   - Essential: kick, snare, hihat_closed
   - Groove: open_hihat, ride_cymbal_1
   - Accents: clap, crash_cymbal_1
   - Fills: tom_high, tom_mid, tom_low
   - Choose elements that fit the genre and song section

**Genre-Specific Drum Guidelines:**
- Electronic/House/Techno: Focus on kick, hihat_closed, open_hihat, clap
- Rock/Metal: Use kick, snare, hihat_closed, crash_cymbal_1, tom_high, tom_mid, tom_low
- Hip Hop/Trap: Emphasize kick, snare, hihat_closed, clap
- Jazz/Funk: Include ride_cymbal_1, hihat_closed, kick, snare
- Pop: Balanced use of kick, snare, hihat_closed, crash_cymbal_1, clap

Generate patterns appropriate for ${e.genre} in the ${e.songSection} section, using ${e.chordProgression} progression in ${e.key}.`;return await Oa.models.generateContentStream({model:La,contents:t})},sR=async(e,t,n)=>{const i=e.map(m=>`${m.role==="user"?"User":"Assistant"}: ${m.content}`).join(`
`),s=`
**Current Guidebook Context:**
- Title: ${t.title}
- Genre: ${t.genre.join(", ")}
- Vibe: ${t.vibe.join(", ")}
- DAW: ${t.daw}
- Key: ${t.key||"Not specified"}
- Available Instruments: ${t.availableInstruments}`;let o="";if(n){const{remixGuideContent:m,mixFeedbackContent:f,mixComparisonContent:h,patchGuideContent:y,activeView:v}=n;v&&(o+=`
**Current View:** ${v}`),m&&(o+=`

**Active RemixGuide:**
${m.substring(0,2e3)}${m.length>2e3?"...":""}`),f&&(o+=`

**Active Mix Feedback:**
${f.substring(0,2e3)}${f.length>2e3?"...":""}`),h&&(o+=`

**Active Mix Comparison:**
${h.substring(0,2e3)}${h.length>2e3?"...":""}`),y&&(o+=`

**Active PatchGuide:**
${y.substring(0,2e3)}${y.length>2e3?"...":""}`)}const u=`You are TrackGuideAI, an expert music production assistant. You're helping a user with their current track project.

${s}${o}

**Conversation History:**
${i}

**Your Role:**
- Provide specific, actionable music production advice
- Reference the current guidebook context when relevant
- Integrate insights from any active guides (RemixGuide, Mix Feedback, Mix Comparison, PatchGuide)
- Offer technical solutions and creative suggestions based on all available context
- Ask clarifying questions when needed
- Maintain a helpful, professional tone

**Response Guidelines:**
- Be concise but thorough
- Include specific parameter suggestions when applicable
- Reference DAW-specific techniques when relevant
- Provide alternative approaches when possible
- When relevant guides are active, reference their content and insights
- Help users understand connections between different aspects of their project

Respond as the helpful TrackGuideAI assistant with full awareness of the user's current project context.`;return await Oa.models.generateContentStream({model:La,contents:u})};async function*oR(e,t,n,i,s){try{const o=n!=null&&n.tempoRange?`${n.tempoRange[0]}-${n.tempoRange[1]} BPM`:"120-130 BPM",u=(n==null?void 0:n.sections)||["Intro","Build-Up","Drop","Breakdown","Outro"],c=ev(),m=ZE(i,s),f=`You are TrackGuideAI's Remix Specialist. Analyze the uploaded audio track and create a comprehensive remix guide for transforming it into ${t} style.

**User Production Setup:**
- **DAW:** ${i||"Not specified"}
- **Available Plugins:** ${s||"Stock/Generic plugins"}

**Analysis Requirements:**
1. Identify the original track's tempo, key, harmonic progression, and rhythmic characteristics
2. Determine optimal transformation approach for ${t}
3. Provide detailed production guidance with specific techniques
4. Include plugin-specific parameter recommendations based on user's setup

**Target Genre:** ${t}
**Target Tempo Range:** ${o}
**Suggested Sections:** ${u.join(", ")}

Create a detailed markdown remix guide that includes:

#  REMIX GUIDE: [Original Track]  ${t}

##  Original Track DNA Analysis
**Detected Characteristics:**
- **Original Tempo:** [Detected BPM]
- **Original Key:** [Detected Key]
- **Harmonic Blueprint:** [Chord progression analysis]
- **Rhythmic Feel:** [Time signature and groove analysis]
- **Sonic Character:** [Tonal qualities and instrumentation]

**Transformation Strategy:**
- **Target Tempo:** [Recommended BPM within ${o}]
- **Target Key:** [Optimal key for ${t}]
- **Genre Adaptation:** [How to adapt original elements]

${c}

##  Sound Design & Instrumentation Transformation
**Lead Elements:**
- **Original  ${t}:** Transform existing leads using specific techniques
- **New Elements:** Add characteristic ${t} sounds
- **Processing Chain:** Specific plugin recommendations and parameters

**Rhythm Section Redesign:**
- **Drum Programming:** ${t}-specific patterns and sounds
- **Bass Design:** Transform or replace bass elements
- **Percussion Layers:** Add characteristic ${t} percussion

##  Mixing & Processing Techniques
**Signal Chain Recommendations:**
${m}

**${t}-Specific Processing:**
- Genre-characteristic EQ curves
- Compression techniques for ${t}
- Saturation and distortion applications
- Spatial processing (reverb/delay) for the genre

##  Arrangement & Structure
**Section-by-Section Breakdown:**
${u.map(S=>`
**${S}:**
- Elements to include/exclude
- Energy level and dynamics
- Transition techniques
`).join("")}

**Dynamic Build Strategy:**
- How to create tension and release
- Filter sweeps and automation
- Risers and impacts placement

##  Creative Production Tips
- Unconventional ${t} techniques
- Experimental processing ideas
- Sample manipulation suggestions
- Layering strategies for depth

---
*Generated by TrackGuideAI - Your AI Music Production Assistant*`,h=await Oa.models.generateContentStream({model:La,contents:[{role:"user",parts:[{text:f},{inlineData:{mimeType:e.mimeType,data:e.base64}}]}]});let y="";for await(const S of h){const _=S.text;_&&(y+=_,yield{text:_})}yield{text:"",metadata:lR(y)}}catch(o){throw console.error("Error generating remix guide stream:",o),new Error(`Failed to generate remix guide: ${o instanceof Error?o.message:"Unknown error"}`)}}function lR(e){const t={},n=e.match(/Original Tempo:\s*(\d+)/i);n&&(t.originalTempo=parseInt(n[1]));const i=e.match(/Target Tempo:\s*(\d+)/i);i&&(t.targetTempo=parseInt(i[1]));const s=e.match(/Original Key:\s*([A-G][#b]?\s*(?:major|minor|maj|min))/i);s&&(t.originalKey=s[1]);const o=e.match(/Target Key:\s*([A-G][#b]?\s*(?:major|minor|maj|min))/i);o&&(t.targetKey=o[1]);const u=e.match(/Harmonic Blueprint:\s*([IVXivx\d\s\-,]+)/i);u&&(t.originalChordProgression=u[1].trim());const c=e.match(/Sections:\s*\[(.*?)\]/i);return c&&(t.sections=c[1].split(",").map(m=>m.trim().replace(/"/g,""))),t}const uR=async e=>{const t=`You are TrackGuideAI's Advanced Mix Analysis Expert. Analyze the uploaded audio file and provide comprehensive mix feedback.

**Track Information:**
- Track Name: ${e.trackName||"Uploaded Mix"}
- Focus Areas: ${e.focus||"Overall mix balance and clarity"}
- User Notes: ${e.notes||e.userNotes||"No specific notes provided"}

**Comprehensive Analysis Framework:**

##  Audio Analysis Results

### Frequency Spectrum Analysis
**Low-End (20-250 Hz):**
- Sub-bass presence and control
- Bass clarity and definition
- Low-mid muddiness assessment

**Midrange (250 Hz - 5 kHz):**
- Vocal/lead instrument clarity
- Instrument separation and masking
- Presence and intelligibility

**High-End (5 kHz+):**
- Air and sparkle quality
- Harshness or sibilance issues
- Overall brightness balance

### Stereo Field & Spatial Analysis
**Width & Imaging:**
- Stereo spread effectiveness
- Phantom center stability
- Side content balance

**Depth & Dimension:**
- Reverb usage and space
- Dry/wet balance
- Front-to-back positioning

### Dynamic Range Assessment
**Compression Analysis:**
- Overall dynamic range
- Transient preservation
- Pumping or over-compression

**Loudness Evaluation:**
- Perceived loudness level
- Peak management
- Headroom availability

### Technical Quality Check
**Distortion & Artifacts:**
- Unwanted harmonic distortion
- Digital artifacts or clipping
- Noise floor assessment

**Phase Relationships:**
- Mono compatibility
- Phase cancellation issues
- Correlation analysis

##  Specific Recommendations

### Immediate Improvements
1. **Priority Fix #1:** [Most critical issue with specific solution]
2. **Priority Fix #2:** [Second most important improvement]
3. **Priority Fix #3:** [Third priority enhancement]

### Technical Adjustments
**EQ Suggestions:**
- Specific frequency cuts/boosts with dB amounts
- Problem frequency identification
- Enhancement opportunities

**Compression Recommendations:**
- Ratio, attack, and release settings
- Specific compressor types or plugins
- Bus compression strategies

**Effects Processing:**
- Reverb and delay adjustments
- Spatial enhancement techniques
- Creative processing opportunities

### Professional Polish
**Mastering Considerations:**
- Final EQ and compression
- Stereo enhancement
- Loudness optimization

**Reference Comparison:**
- How this mix compares to commercial standards
- Genre-specific benchmarks
- Areas for competitive improvement

Provide actionable, specific feedback that can be implemented immediately to improve the mix quality and professional impact.`;return(await Oa.models.generateContent({model:La,contents:t})).text};async function cR(e){try{const n=(await Oa.models.generateContent({model:La,contents:e})).text;if(typeof n!="string")throw new Error("Received an unexpected response format from Gemini API.");return n}catch(t){console.error("Error generating content:",t);let n="An unknown error occurred while generating content.";throw t instanceof Error&&(n=t.message,t.message.includes("API key not valid")||t.message.includes("permission")?n="Invalid API Key or insufficient permissions. Please check your API key configuration.":(t.message.toLowerCase().includes("network error")||t.message.toLowerCase().includes("failed to fetch"))&&(n=`Network error: Failed to connect to Gemini API. Please check your internet connection. (${t.message})`)),new Error(n)}}async function*dR(e){if(!e.audioFile)throw new Error("Streaming mix feedback requires an audio file.");const n=await(m=>new Promise((f,h)=>{const y=new FileReader;y.onloadend=()=>{const v=y.result;f(v.split(",")[1])},y.onerror=h,y.readAsDataURL(m)}))(e.audioFile),s={text:`You are TrackGuideAI's Advanced Mix Analysis Expert. Analyze the uploaded audio file and provide comprehensive mix feedback.

**Track Information:**
- Track Name: ${e.trackName||"Uploaded Mix"}
- Focus Areas: ${e.focus||"Overall mix balance and clarity"}
- User Notes: ${e.notes||e.userNotes||"No specific notes provided"}

**Comprehensive Analysis Framework:**

##  Audio Analysis Results

### Frequency Spectrum Analysis
**Low-End (20-250 Hz):**
- Sub-bass presence and control
- Bass clarity and definition
- Low-mid muddiness assessment

**Midrange (250 Hz - 5 kHz):**
- Vocal/lead instrument clarity
- Instrument separation and masking
- Presence and intelligibility

**High-End (5 kHz+):**
- Air and sparkle quality
- Harshness or sibilance issues
- Overall brightness balance

### Stereo Field & Spatial Analysis
**Width & Imaging:**
- Stereo spread effectiveness
- Phantom center stability
- Side content balance

**Depth & Dimension:**
- Reverb usage and space
- Dry/wet balance
- Front-to-back positioning

### Dynamic Range Assessment
**Compression Analysis:**
- Overall dynamic range
- Transient preservation
- Pumping or over-compression

**Loudness Evaluation:**
- Perceived loudness level
- Peak management
- Headroom availability

### Technical Quality Check
**Distortion & Artifacts:**
- Unwanted harmonic distortion
- Digital artifacts or clipping
- Noise floor assessment

**Phase Relationships:**
- Mono compatibility
- Phase cancellation issues
- Correlation analysis

##  Specific Recommendations

### Immediate Improvements
1. **Priority Fix #1:** [Most critical issue with specific solution]
2. **Priority Fix #2:** [Second most important improvement]
3. **Priority Fix #3:** [Third priority enhancement]

### Technical Adjustments
**EQ Suggestions:**
- Specific frequency cuts/boosts with dB amounts
- Problem frequency identification
- Enhancement opportunities

**Compression Recommendations:**
- Ratio, attack, and release settings
- Specific compressor types or plugins
- Bus compression strategies

**Effects Processing:**
- Reverb and delay adjustments
- Spatial enhancement techniques
- Creative processing opportunities

### Professional Polish
**Mastering Considerations:**
- Final EQ and compression
- Stereo enhancement
- Loudness optimization

**Reference Comparison:**
- How this mix compares to commercial standards
- Genre-specific benchmarks
- Areas for competitive improvement

Provide actionable, specific feedback that can be implemented immediately to improve the mix quality and professional impact.`},u=[{inlineData:{data:n,mimeType:e.audioFile.type||"audio/mpeg"}},s],c=await Oa.models.generateContentStream({model:La,contents:{parts:u}});for await(const m of c)m.text&&(yield{text:m.text})}async function*fR(e){const t=`You are an expert mixing & mastering AI. The user has uploaded two mixes for comparison analysis.

Mix A: "${e.mixAName}"  an earlier version  
Mix B: "${e.mixBName}"  the current working version  

 Instructions:
- Mix B is the active version  focus all actionable feedback on improving Mix B.
- Mix A is an earlier version  if Mix A has strengths vs Mix B, point those out.
- Acknowledge improvements made in Mix B compared to A.
- Do NOT suggest changes to Mix A (it is not being revised).

User Notes: ${e.userNotes||"No specific notes provided"}

Analyze both audio files and provide your comparison in clear Markdown format with the following sections:

##  Overall Comparison

##  Frequency Balance

##  Stereo Image & Depth

##  Dynamics & Loudness

##  Technical Quality

##  Strengths & Opportunities (for Mix B)

##  Actionable Recommendations (for Mix B only)

Focus on specific, actionable feedback for improving Mix B while acknowledging its strengths compared to Mix A.`,n={text:`Mix A Audio (Earlier Version): "${e.mixAName}"`},i={inlineData:{data:e.mixAFile,mimeType:"audio/mpeg"}},s={text:`Mix B Audio (Current Version): "${e.mixBName}"`},o={inlineData:{data:e.mixBFile,mimeType:"audio/mpeg"}},c=[i,n,o,s,{text:t}],m=await Oa.models.generateContentStream({model:La,contents:{parts:c}});for await(const f of m)f.text&&(yield{text:f.text})}const Fn=Hc.forwardRef(({label:e,id:t,wrapperClassName:n,...i},s)=>g.jsxs("div",{className:n,children:[e&&g.jsx("label",{htmlFor:t,className:"block text-sm font-medium text-gray-300 mb-1",children:e}),g.jsx("input",{id:t,ref:s,...i,className:`w-full px-4 py-2 bg-gray-800 border border-gray-700 rounded-md shadow-sm placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-purple-500 text-gray-100 ${i.className||""}`})]}));Fn.displayName="Input";const us=({label:e,id:t,wrapperClassName:n,...i})=>g.jsxs("div",{className:n,children:[e&&g.jsx("label",{htmlFor:t,className:"block text-sm font-medium text-gray-300 mb-1",children:e}),g.jsx("textarea",{id:t,...i,className:`w-full px-4 py-2 bg-gray-800 border border-gray-700 rounded-md shadow-sm placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-purple-500 text-gray-100 ${i.className||""}`,rows:3})]}),$e=({children:e,variant:t="primary",size:n="md",className:i="",leftIcon:s,rightIcon:o,...u})=>{const c="inline-flex items-center justify-center font-semibold rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-gray-900 transition-colors duration-150 disabled:opacity-50 disabled:cursor-not-allowed",m={primary:"bg-purple-600 hover:bg-purple-700 text-white focus:ring-purple-500",secondary:"bg-gray-700    hover:bg-gray-600 text-gray-100 focus:ring-gray-500",outline:"border border-purple-500 text-purple-400 hover:bg-purple-500 hover:text-white focus:ring-purple-500",danger:"bg-red-600     hover:bg-red-700 text-white focus:ring-red-500"},f={sm:"px-3 py-1.5 text-sm",md:"px-4 py-2   text-base",lg:"px-6 py-3   text-lg"};return g.jsxs("button",{...u,className:`${c} ${m[t]} ${f[n]} ${i}`,children:[s&&g.jsx("span",{className:"mr-2",children:s}),e,o&&g.jsx("span",{className:"ml-2",children:o})]})},st=({children:e,className:t="",title:n,titleClassName:i="",contentClassName:s="",...o})=>g.jsxs("div",{className:`bg-gray-800 shadow-lg rounded-lg overflow-hidden ${t}`,...o,children:[n&&g.jsx("div",{className:`px-4 py-3 border-b border-gray-700 ${i}`,children:g.jsx("h3",{className:"text-lg font-semibold text-gray-100",children:n})}),g.jsx("div",{className:`p-4 ${s}`,children:e})]}),vi=({size:e="md",color:t="text-purple-500",text:n})=>{const i={sm:"w-6 h-6",md:"w-8 h-8",lg:"w-12 h-12"};return g.jsxs("div",{className:"flex flex-col items-center justify-center",children:[g.jsx("div",{className:`animate-spin rounded-full border-t-2 border-b-2 border-transparent ${i[e]} ${t}`,style:{borderTopColor:"currentColor",borderBottomColor:"currentColor"}}),n&&g.jsx("p",{className:"mt-2 text-sm text-gray-400",children:n})]})},dh=({className:e,title:t})=>g.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:e||"w-5 h-5","aria-hidden":t?void 0:"true",role:t?"img":void 0,children:[t&&g.jsx("title",{children:t}),g.jsx("path",{fillRule:"evenodd",d:"M3 17a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zm3.293-7.707a1 1 0 011.414 0L9 10.586V3a1 1 0 112 0v7.586l1.293-1.293a1 1 0 111.414 1.414l-3 3a1 1 0 01-1.414 0l-3-3a1 1 0 010-1.414z",clipRule:"evenodd"})]}),mR=({className:e,title:t})=>g.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:e||"w-5 h-5","aria-hidden":t?void 0:"true",role:t?"img":void 0,children:[t&&g.jsx("title",{children:t}),g.jsx("path",{d:"M5 4a2 2 0 012-2h6a2 2 0 012 2v10a2 2 0 01-2 2H7a2 2 0 01-2-2V4zm2 0v10h6V4H7zm5 1h-4a1 1 0 100 2h4a1 1 0 100-2z"})]}),hR=({className:e,title:t})=>g.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:e||"w-5 h-5","aria-hidden":t?void 0:"true",role:t?"img":void 0,children:[t&&g.jsx("title",{children:t}),g.jsx("path",{fillRule:"evenodd",d:"M9 2a1 1 0 00-.894.553L7.382 4H4a1 1 0 000 2v10a2 2 0 002 2h8a2 2 0 002-2V6a1 1 0 100-2h-3.382l-.724-1.447A1 1 0 0011 2H9zM7 8a1 1 0 012 0v6a1 1 0 11-2 0V8zm5-1a1 1 0 00-1 1v6a1 1 0 102 0V8a1 1 0 00-1-1z",clipRule:"evenodd"})]}),fh=({className:e,title:t})=>g.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:e||"w-6 h-6","aria-hidden":t?void 0:"true",role:t?"img":void 0,children:[t&&g.jsx("title",{children:t}),g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6.042A8.967 8.967 0 006 3.75c-1.052 0-2.062.18-3 .512v14.25A8.987 8.987 0 016 18c2.305 0 4.408.867 6 2.292m0-14.25a8.966 8.966 0 016-2.292c1.052 0 2.062.18 3 .512v14.25A8.987 8.987 0 0018 18a8.967 8.967 0 00-6 2.292m0-14.25v14.25"})]}),pR=({className:e,title:t})=>g.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:e||"w-5 h-5","aria-hidden":t?void 0:"true",role:t?"img":void 0,children:[t&&g.jsx("title",{children:t}),g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 01-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 011.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 00-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 01-1.125-1.125v-9.25m9.75 0l-4.5-4.5m0 0l-4.5 4.5M12.75 3v4.5A2.25 2.25 0 0015 9.75h4.5"})]}),tv=({className:e,title:t})=>g.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:e||"w-5 h-5","aria-hidden":t?void 0:"true",role:t?"img":void 0,children:[t&&g.jsx("title",{children:t}),g.jsx("path",{d:"M10 3.515V11.24a3.513 3.513 0 00-1.5-.406c-1.313 0-2.388.752-2.388 1.672S7.187 14.18 8.5 14.18c1.238 0 2.263-.672 2.375-1.537h.125v-7.14c0-.313.11-.604.313-.828.202-.224.494-.344.812-.344.625 0 1.125.5 1.125 1.125V11.24a3.513 3.513 0 00-1.5-.406c-1.313 0-2.388.752-2.388 1.672S10.187 14.18 11.5 14.18c1.313 0 2.388-.752 2.388-1.672a1.675 1.675 0 00-1.078-1.543V3.515A2.625 2.625 0 0010 1C8.619 1 7.5 2.12 7.5 3.5V11.24A3.513 3.513 0 006 10.833c-1.313 0-2.388.752-2.388 1.672S4.687 14.18 6 14.18c1.237 0 2.262-.672 2.375-1.537h.125V6.125C8.5 4.5 9.125 3.515 10 3.515z"})]}),mh=({className:e,title:t})=>g.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:e||"w-5 h-5","aria-hidden":t?void 0:"true",role:t?"img":void 0,children:[t&&g.jsx("title",{children:t}),g.jsx("path",{d:"M10.75 4.75a.75.75 0 00-1.5 0v4.5h-4.5a.75.75 0 000 1.5h4.5v4.5a.75.75 0 001.5 0v-4.5h4.5a.75.75 0 000-1.5h-4.5v-4.5z"})]}),QT=({className:e,title:t})=>g.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:e||"w-5 h-5","aria-hidden":t?void 0:"true",role:t?"img":void 0,children:[t&&g.jsx("title",{children:t}),g.jsx("path",{fillRule:"evenodd",d:"M6.516 4.42A1.5 1.5 0 004 5.662v8.676a1.5 1.5 0 002.516 1.242l6.712-4.338a1.5 1.5 0 000-2.484L6.516 4.42z",clipRule:"evenodd"})]}),gR=({className:e,title:t})=>g.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:e||"w-5 h-5","aria-hidden":t?void 0:"true",role:t?"img":void 0,children:[t&&g.jsx("title",{children:t}),g.jsx("path",{fillRule:"evenodd",d:"M5 5a1 1 0 00-1 1v8a1 1 0 001 1h8a1 1 0 001-1V6a1 1 0 00-1-1H5zm0-2a3 3 0 00-3 3v8a3 3 0 003 3h8a3 3 0 003-3V6a3 3 0 00-3-3H5z",clipRule:"evenodd"})]}),JT=({className:e,isSpinning:t,title:n})=>g.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:`${e||"w-5 h-5"} ${t?"animate-spin":""}`,"aria-hidden":n?void 0:"true",role:n?"img":void 0,children:[n&&g.jsx("title",{children:n}),g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.023 9.348h4.992v-.001M2.985 19.644v-4.992m0 0h4.992m-4.993 0l3.181 3.183a8.25 8.25 0 0013.803-3.7M4.031 9.865a8.25 8.25 0 0113.803-3.7l3.181 3.182m0-4.991v4.99"})]}),yR=({className:e,title:t})=>g.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:e||"w-5 h-5","aria-hidden":t?void 0:"true",role:t?"img":void 0,children:[t&&g.jsx("title",{children:t}),g.jsx("path",{fillRule:"evenodd",d:"M18 7H2a1 1 0 00-1 1v6a1 1 0 001 1h16a1 1 0 001-1V8a1 1 0 00-1-1zM2 9.5v3h16v-3H2z",clipRule:"evenodd"}),g.jsx("path",{d:"M4 11h1v1H4v-1zm2 0h1v1H6v-1zm2 0h1v1H8v-1zm2 0h1v1h-1v-1zm2 0h1v1h-1v-1zm2 0h1v1h-1v-1z"})]}),TR=({className:e,title:t})=>g.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:e||"w-6 h-6","aria-hidden":t?void 0:"true",role:t?"img":void 0,children:[t&&g.jsx("title",{children:t}),g.jsx("rect",{x:"3.5",y:"3.5",width:"17",height:"17",rx:"2",stroke:"currentColor",fill:"none",strokeWidth:"1.5"})]}),bR=({className:e,title:t})=>g.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:e||"w-5 h-5","aria-hidden":t?void 0:"true",role:t?"img":void 0,children:[t&&g.jsx("title",{children:t}),g.jsx("path",{fillRule:"evenodd",d:"M3 3a1 1 0 011-1h12a1 1 0 011 1v12a1 1 0 01-1 1H4a1 1 0 01-1-1V3zm10.707 3.707a1 1 0 00-1.414-1.414L8 9.586 6.707 8.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l5-5z",clipRule:"evenodd"})]}),nv=({className:e,title:t})=>g.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:e||"w-6 h-6","aria-hidden":t?void 0:"true",role:t?"img":void 0,children:[t&&g.jsx("title",{children:t}),g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"})]}),xm=({className:e,title:t})=>g.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:e||"w-6 h-6","aria-hidden":t?void 0:"true",role:t?"img":void 0,children:[t&&g.jsx("title",{children:t}),g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 16.5v2.25A2.25 2.25 0 005.25 21h13.5A2.25 2.25 0 0021 18.75V16.5m-13.5-9L12 3m0 0l4.5 4.5M12 3v13.5"})]}),Em=({className:e,title:t})=>g.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:e||"w-6 h-6","aria-hidden":t?void 0:"true",role:t?"img":void 0,children:[t&&g.jsx("title",{children:t}),g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.5 6h9.75M10.5 6a2.25 2.25 0 11-4.5 0m4.5 0a2.25 2.25 0 10-4.5 0M3.75 6H7.5m3 12h9.75m-9.75 0a2.25 2.25 0 01-4.5 0m4.5 0a2.25 2.25 0 00-4.5 0M3.75 18H7.5M10.5 12h9.75M10.5 12a2.25 2.25 0 01-4.5 0m4.5 0a2.25 2.25 0 00-4.5 0M3.75 12H7.5"})]}),ZT=({className:e="w-4 h-4"})=>g.jsx("div",{className:`${e} bg-orange-500 transform rotate-45 flex items-center justify-center`,children:g.jsx("div",{className:"w-1/2 h-1/2 bg-white transform -rotate-45"})}),xR=({isOpen:e,currentGuidebook:t,userInputs:n,isCollapsed:i=!1,onToggle:s,remixGuideContent:o,mixFeedbackContent:u,mixComparisonContent:c,patchGuideContent:m,activeView:f})=>{const[h,y]=oe.useState([]),[v,S]=oe.useState(""),[_,I]=oe.useState(!1),O=oe.useRef(null),D=oe.useRef(null),H=oe.useRef(null);oe.useEffect(()=>{e&&h.length===0&&y([{id:"1",role:"assistant",content:`Hi! I'm your AI music production assistant. I can help you:

 Refine guides (TrackGuide, RemixGuide, PatchGuide)
 Analyze Mix Feedback and Comparison reports  
 Answer production techniques questions
 Provide creative suggestions and arrangement ideas

What would you like to work on today?`,timestamp:new Date}])},[e,h.length]);const R=()=>{H.current&&(H.current.scrollTop=H.current.scrollHeight)};oe.useEffect(()=>{R()},[h]),oe.useEffect(()=>{e&&D.current&&setTimeout(()=>{var ue;return(ue=D.current)==null?void 0:ue.focus()},100)},[e]);const V=()=>{y([{id:"1",role:"assistant",content:`Hi! I'm your AI music production assistant. I can help you:

 Refine guides (TrackGuide, RemixGuide, PatchGuide)
 Analyze Mix Feedback and Comparison reports  
 Answer production techniques questions
 Provide creative suggestions and arrangement ideas

What would you like to work on today?`,timestamp:new Date}])},K=async()=>{if(!v.trim()||_)return;const ue={id:Date.now().toString(),role:"user",content:v.trim(),timestamp:new Date};y(me=>[...me,ue]),S(""),I(!0);try{const me=h.map(Se=>({role:Se.role,content:Se.content}));me.push({role:"user",content:ue.content});const Ae=t||{id:"temp-"+Date.now(),title:"Current Project",genre:(n==null?void 0:n.genre)||["General"],artistReference:(n==null?void 0:n.artistReference)||"Not specified",vibe:(n==null?void 0:n.vibe)||["Creative"],daw:(n==null?void 0:n.daw)||"Not specified",plugins:(n==null?void 0:n.plugins)||"Not specified",availableInstruments:(n==null?void 0:n.availableInstruments)||"Not specified",content:"Working on current project",createdAt:new Date().toISOString(),key:n==null?void 0:n.key,scale:n==null?void 0:n.scale,chords:n==null?void 0:n.chords},Y=await sR(me,Ae,{remixGuideContent:o,mixFeedbackContent:u,mixComparisonContent:c,patchGuideContent:m,activeView:f}),ye={id:(Date.now()+1).toString(),role:"assistant",content:"",timestamp:new Date};y(Se=>[...Se,ye]);let be="";for await(const Se of Y)Se.text&&(be+=Se.text,y(pe=>pe.map(re=>re.id===ye.id?{...re,content:be}:re)))}catch(me){console.error("AI Assistant Error:",me);const Ae={id:(Date.now()+1).toString(),role:"assistant",content:"Sorry, I encountered an error. Please try again or rephrase your question.",timestamp:new Date};y(Y=>[...Y,Ae])}finally{I(!1)}},q=ue=>{ue.key==="Enter"&&!ue.shiftKey&&(ue.preventDefault(),K())};return g.jsxs(g.Fragment,{children:[!i&&g.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-[9998]",onClick:s}),g.jsx("div",{className:"fixed bottom-4 right-4 z-[9999]",children:i?g.jsx("div",{onClick:s,className:"w-14 h-14 bg-gray-700 hover:bg-gray-600 rounded-full shadow-2xl cursor-pointer flex items-center justify-center hover:scale-105 transition-transform duration-200 border-2 border-orange-400/60",children:g.jsx(ZT,{className:"w-8 h-8"})}):g.jsx("div",{className:"fixed inset-4 md:inset-8 lg:inset-16 z-[9999] flex items-center justify-center pointer-events-none",children:g.jsxs("div",{className:"w-full max-w-4xl h-full max-h-[800px] bg-gray-800 shadow-2xl border border-gray-700 rounded-lg flex flex-col overflow-hidden pointer-events-auto",children:[g.jsxs("div",{className:"p-4 border-b border-gray-700 flex justify-between items-center bg-gradient-to-r from-gray-700 to-gray-600 flex-shrink-0",children:[g.jsxs("div",{className:"flex items-center min-w-0 flex-1",children:[g.jsx(ZT,{className:"w-6 h-6 text-white mr-3 flex-shrink-0"}),g.jsx("h2",{className:"text-xl font-bold text-white truncate",children:"Production Coach"})]}),g.jsxs("div",{className:"flex gap-2 flex-shrink-0 ml-4",children:[g.jsx($e,{onClick:V,variant:"outline",size:"sm",className:"bg-orange-500 text-black border-orange-400 hover:bg-orange-600 font-medium",children:"Clear Chat"}),g.jsx($e,{onClick:s,variant:"outline",size:"sm",className:"bg-red-500 text-black border-red-400 hover:bg-red-600 flex-shrink-0 font-bold",children:g.jsx("span",{className:"text-lg",children:""})})]})]}),g.jsxs("div",{ref:H,className:"flex-1 overflow-y-auto p-6 space-y-4 bg-gray-900/50",style:{scrollBehavior:"smooth",overflowAnchor:"auto"},children:[h.map(ue=>g.jsx("div",{className:`flex ${ue.role==="user"?"justify-end":"justify-start"}`,children:g.jsxs("div",{className:`max-w-[80%] p-4 rounded-lg shadow-lg ${ue.role==="user"?"bg-orange-600 text-white rounded-br-sm":"bg-gray-700 text-gray-100 rounded-bl-sm"}`,children:[g.jsx("div",{className:"whitespace-pre-wrap break-words leading-relaxed text-base",children:ue.content}),g.jsx("div",{className:"text-xs opacity-70 mt-3",children:ue.timestamp.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]})},ue.id)),_&&g.jsx("div",{className:"flex justify-start",children:g.jsx("div",{className:"bg-gray-700 text-gray-100 p-4 rounded-lg shadow-lg rounded-bl-sm",children:g.jsx(vi,{text:"AI is thinking..."})})}),g.jsx("div",{ref:O})]}),g.jsxs("div",{className:"p-4 border-t border-gray-700 bg-gray-800 flex-shrink-0",children:[g.jsxs("div",{className:"flex gap-3 mb-3",children:[g.jsx(Fn,{ref:D,type:"text",placeholder:"Ask about production techniques, guides, or get help with your current project...",value:v,onChange:ue=>S(ue.target.value),onKeyPress:q,className:"flex-1 bg-gray-700 border-gray-600 text-white placeholder-gray-400",disabled:_}),g.jsx($e,{onClick:K,disabled:!v.trim()||_,variant:"primary",className:"px-6 bg-orange-600 hover:bg-orange-700",children:_?"...":"Send"})]}),g.jsx("div",{className:"text-xs text-gray-400 text-center",children:"Press Enter to send  Clear Chat resets conversation  Click outside to close"})]})]})})})]})},ER=[{instrument:"Vocals",frequencyRange:"20250 Hz (Bass/Body)",action:"Boost slightly if needed",description:"Adds weight and fullness to vocals. Careful not to over-boost, as excessive gain here causes muddiness; use a gentle boost or high-pass filter to tame subsonic rumble.",source:"unison.audio"},{instrument:"Vocals",frequencyRange:"300500 Hz (Low-Mids)",action:"Cut if boxy",description:"Reduces mud or boxiness. A moderate cut around 300500 Hz can clear up a congested vocal without thinning it excessively.",source:"unison.audio"},{instrument:"Vocals",frequencyRange:"24 kHz (Presence)",action:"Boost (gentle)",description:"Enhances vocal clarity and intelligibility, helping it cut through the mix. Boost in this range makes the vocal stand out, but use precision to avoid emphasizing sibilance.",source:"unison.audio"},{instrument:"Vocals",frequencyRange:"58 kHz (High Presence/Sibilance)",action:"Cut (soft, if harsh)",description:"Tames harsh s and t sounds and high-frequency hiss. A gentle dip here smooths the vocal tone and prevents shrillness.",source:"izotope.com"},{instrument:"Vocals",frequencyRange:"10 kHz and above (Air)",action:"Boost (high-shelf)",description:"Adds airiness and sparkle to the vocal. A subtle high-shelf boost in this range imparts a sense of openness and breathiness.",source:"izotope.com"},{instrument:"Male vocals",frequencyRange:"100200 Hz (Bass/Low)",action:"Boost (~120 Hz)",description:"Increases warmth and fullness of a male voice. A modest boost around 100120 Hz adds body without causing boominess.",source:"unison.audio"},{instrument:"Male vocals",frequencyRange:"300500 Hz (Low-Mids)",action:"Cut if boxy",description:"Clears up muddiness. Cutting a small band around 300500 Hz can reduce a boxy or muffled tone.",source:"unison.audio"},{instrument:"Male vocals",frequencyRange:"35 kHz (Presence)",action:"Boost gently",description:"Brings the vocal forward in the mix. A slight boost in this region increases intelligibility, though watch for sibilance.",source:"unison.audio"},{instrument:"Female vocals",frequencyRange:"200400 Hz (Low-Mids)",action:"Boost slightly",description:"Adds warmth and richness. A gentle boost in the 200400 Hz range gives a female vocal more body and fullness.",source:"unison.audio"},{instrument:"Female vocals",frequencyRange:"36 kHz (Presence/High-Mids)",action:"Boost near 3 kHz; Cut 36 kHz if too bright",description:"Enhances clarity and presence. Boosting around 3 kHz helps the voice cut through, while trimming 36 kHz can soften harshness if the vocal is too piercing.",source:"unison.audio"},{instrument:"Female vocals",frequencyRange:"10 kHz and above (Air)",action:"Boost (high-shelf)",description:"Adds sparkle and air. A shelf boost above 10 kHz introduces breathiness and openness to the vocal tone.",source:"unison.audio"},{instrument:"Kick drum",frequencyRange:"6080 Hz (Low-End/Sub-Bass)",action:"Boost (gentle)",description:"Emphasizes the kicks fundamental thump. A moderate boost here adds punch and weight to the kick drum.",source:"izotope.com"},{instrument:"Kick drum",frequencyRange:"100200 Hz (Bass/Body)",action:"Boost (if needed)",description:"Enhances warmth and fullness. Boosting this band adds weight, giving the kick a beefier sound.",source:"izotope.com"},{instrument:"Kick drum",frequencyRange:"200500 Hz (Low-Mids/Boxiness)",action:"Cut",description:"Tightens the sound by reducing boxy resonance. A cut in this range cleans up muddiness, making the kick sound more defined.",source:"izotope.com"},{instrument:"Kick drum",frequencyRange:"15 kHz (Highs/Attack)",action:"Boost",description:"Brings out the beater click and attack. A boost here adds snap and presence to the kicks transient.",source:"izotope.com"},{instrument:"Snare",frequencyRange:"150250 Hz (Body)",action:"Boost",description:"Increases the snares weight and fullness. A moderate boost around the fundamental adds thickness to the snare tone.",source:"izotope.com"},{instrument:"Snare",frequencyRange:"400700 Hz (Midrange Ring)",action:"Cut",description:"Reduces hollow or ringing tones. Attenuating a narrow band in this range helps remove an undesirable ring and makes the snare sound tighter.",source:"izotope.com"},{instrument:"Snare",frequencyRange:"23.5 kHz (Attack)",action:"Boost",description:"Enhances snap and attack. Boosting here makes the snare crisp and cutting, emphasizing the stick hit.",source:"izotope.com"},{instrument:"Snare",frequencyRange:"900 Hz1.5 kHz (Papery Tone)",action:"Cut (if present)",description:"Removes thin, paper-like snare sounds. Cutting around this range eliminates unwanted high-mid resonance (like a box hit).",source:"izotope.com"}],vR=[{id:"add-air",label:"Add Air"},{id:"reduce-boxiness",label:"Reduce Boxiness"},{id:"increase-clarity",label:"Increase Clarity"},{id:"add-warmth",label:"Add Warmth"},{id:"cut-mud",label:"Cut Mud"},{id:"enhance-attack",label:"Enhance Attack"},{id:"smooth-harshness",label:"Smooth Harshness"}],SR={"add-air":[{frequency:"1016 kHz",action:"boost",instruments:["Vocals","Cymbals","Flute"]}],"reduce-boxiness":[{frequency:"300500 Hz",action:"cut",instruments:["Vocals","Guitar","Snare"]}],"increase-clarity":[{frequency:"24 kHz",action:"boost",instruments:["Vocals","Snare","Piano"]}],"add-warmth":[{frequency:"100250 Hz",action:"boost",instruments:["Bass guitar","Male vocals","Guitar"]}],"cut-mud":[{frequency:"200400 Hz",action:"cut",instruments:["Bass guitar","Piano","Drums"]}],"enhance-attack":[{frequency:"26 kHz",action:"boost",instruments:["Snare","Kick drum"]}],"smooth-harshness":[{frequency:"58 kHz",action:"cut",instruments:["Vocals","Guitar"]}]},CR=()=>{const[e,t]=oe.useState(""),n=e?SR[e]:[];return g.jsxs("div",{className:"space-y-4 mb-8",children:[g.jsx("h2",{className:"text-xl font-bold text-white",children:" Tone Goal Mode"}),g.jsxs("select",{className:"w-full bg-gray-700 text-white rounded px-3 py-2",value:e,onChange:i=>t(i.target.value),children:[g.jsx("option",{value:"",children:"Select a Tone Goal"}),vR.map(i=>g.jsx("option",{value:i.id,children:i.label},i.id))]}),n.length>0&&g.jsx("div",{className:"space-y-2",children:n.map((i,s)=>g.jsxs("div",{className:"bg-gray-800 p-3 rounded text-sm text-gray-200",children:[g.jsx("strong",{children:i.frequency}),"  ",g.jsx("span",{className:i.action==="boost"?"text-green-400":"text-red-400",children:i.action.toUpperCase()}),g.jsx("br",{}),"Applies to: ",i.instruments.join(", ")]},s))})]})},AR=()=>{const[e,t]=oe.useState("All"),[n,i]=oe.useState("all"),s=ER.filter(o=>{var m;const u=e==="All"||o.instrument===e,c=n==="all"||o.frequencyRange.toLowerCase().includes(((m=eb.find(f=>f.id===n))==null?void 0:m.label.split(" ")[0].toLowerCase())||"");return u&&c});return g.jsxs("div",{className:"max-w-4xl mx-auto w-full py-8 px-4 md:px-0",children:[g.jsxs("div",{className:"flex flex-wrap gap-6 mb-6 items-end",children:[g.jsxs("div",{className:"flex-1 min-w-[180px]",children:[g.jsx("label",{className:"block text-xs font-bold text-gray-400 mb-1",children:"Instrument"}),g.jsxs("select",{value:e,onChange:o=>t(o.target.value),className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-md text-gray-100",children:[g.jsx("option",{disabled:!0,children:"Vocals"}),g.jsx("option",{value:"Vocals",children:"Vocals (general)"}),g.jsx("option",{value:"Male vocals",children:"Male vocals"}),g.jsx("option",{value:"Female vocals",children:"Female vocals"}),g.jsx("option",{disabled:!0,children:"Rhythm Section"}),g.jsx("option",{value:"Kick drum",children:"Kick drum"}),g.jsx("option",{value:"Snare",children:"Snare"}),g.jsx("option",{value:"Bass guitar",children:"Bass guitar"}),g.jsx("option",{value:"808s",children:"808s"}),g.jsx("option",{value:"Sub bass",children:"Sub bass"}),g.jsx("option",{value:"Synth bass",children:"Synth bass"}),g.jsx("option",{value:"Drums",children:"Drums"}),g.jsx("option",{disabled:!0,children:"Other Instruments"}),g.jsx("option",{value:"Guitar",children:"Guitar"}),g.jsx("option",{value:"Acoustic guitar",children:"Acoustic guitar"}),g.jsx("option",{value:"Piano",children:"Piano"}),g.jsx("option",{value:"Cymbals",children:"Cymbals"}),g.jsx("option",{value:"Hi-hats",children:"Hi-hats"}),g.jsx("option",{value:"Horns",children:"Horns"}),g.jsx("option",{value:"Strings",children:"Strings"}),g.jsx("option",{value:"Room mics",children:"Room mics"}),g.jsx("option",{value:"Violin",children:"Violin"}),g.jsx("option",{value:"Cello",children:"Cello"}),g.jsx("option",{value:"Tuba",children:"Tuba"}),g.jsx("option",{value:"Saxophone",children:"Saxophone"}),g.jsx("option",{value:"Trumpet",children:"Trumpet"}),g.jsx("option",{value:"Brass",children:"Brass"}),g.jsx("option",{value:"Woodwinds",children:"Woodwinds"}),g.jsx("option",{value:"Flute",children:"Flute"}),g.jsx("option",{disabled:!0,children:"All/General"}),g.jsx("option",{value:"All",children:"All Instruments"})]})]}),g.jsxs("div",{className:"flex-1 min-w-[180px]",children:[g.jsx("label",{className:"block text-xs font-bold text-gray-400 mb-1",children:"Frequency Range"}),g.jsx("select",{value:n,onChange:o=>i(o.target.value),className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-md text-gray-100",children:eb.map(o=>g.jsx("option",{value:o.id,children:o.label},o.id))})]})]}),g.jsx("div",{className:"space-y-4",children:s.length===0?g.jsx(st,{className:"bg-gray-700/80 text-center py-16",children:g.jsxs("p",{className:"text-gray-300 text-lg",children:["No EQ advice matches your current filters.",g.jsx("br",{}),"Try another instrument or frequency zone."]})}):s.map((o,u)=>g.jsx(st,{className:"bg-gray-800/80",children:g.jsxs("div",{className:"flex flex-col gap-2",children:[g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx("span",{className:"text-lg font-bold text-white",children:o.frequencyRange}),g.jsx("span",{className:`ml-2 text-sm font-medium ${o.action.toLowerCase().includes("boost")?"text-green-400":o.action.toLowerCase().includes("cut")?"text-red-400":"text-yellow-400"}`,children:o.action.toUpperCase()})]}),g.jsx("p",{className:"text-gray-300",children:o.description}),o.source&&g.jsxs("span",{className:"text-xs text-gray-500",children:["Source: ",o.source]})]})},u))}),(e!=="All"||n!=="all")&&s.length>0&&g.jsx("div",{className:"mt-8 opacity-80",children:g.jsx(CR,{})}),g.jsx("div",{className:"text-xs text-gray-500 mt-8 text-center px-2",children:"Tip: These are general guidelinestrust your ears and reference pro mixes for your genre."})]})},eb=[{id:"all",label:"All Frequencies",color:"bg-gray-600"},{id:"sub",label:"Sub Bass (20-60Hz)",color:"bg-red-600"},{id:"bass",label:"Bass (60-250Hz)",color:"bg-orange-600"},{id:"low-mid",label:"Low Mids (250-500Hz)",color:"bg-yellow-600"},{id:"mid",label:"Mids (500-2kHz)",color:"bg-green-600"},{id:"high-mid",label:"High Mids (2-6kHz)",color:"bg-blue-600"},{id:"presence",label:"Presence (6-12kHz)",color:"bg-indigo-600"},{id:"air",label:"Air (12kHz+)",color:"bg-purple-600"}],Uo=({className:e="w-6 h-6"})=>g.jsx("div",{className:`${e} bg-orange-500 transform rotate-45 flex items-center justify-center`,children:g.jsx("div",{className:"w-1/2 h-1/2 bg-white transform -rotate-45"})}),_R=({onGetStarted:e})=>{const[t,n]=oe.useState(!1),i=[{label:"How It Works",href:"#how-it-works"},{label:"Problems We Solve",href:"#problems-we-solve"},{label:"Investment Levels",href:"#investment-levels"}];return g.jsxs("div",{className:"min-h-screen bg-[#2B2B2B] relative overflow-hidden scroll-smooth",children:[g.jsx("div",{className:"absolute inset-0 opacity-40",children:g.jsx("div",{className:"absolute inset-0",style:{backgroundImage:"radial-gradient(circle at 2px 2px, #FF5722 1px, transparent 0)",backgroundSize:"30px 30px"}})}),g.jsx("nav",{className:"sticky top-0 z-20 bg-[#2B2B2B]/80 backdrop-blur-sm px-6 py-4",children:g.jsxs("div",{className:"flex items-center justify-between",children:[g.jsxs("div",{className:"flex items-center space-x-3",children:[g.jsx(Uo,{className:"w-8 h-8"}),g.jsxs("div",{children:[g.jsx("div",{className:"text-xl font-bold text-white",children:"TrackGuide AI"}),g.jsx("div",{className:"text-xs text-gray-400",children:"Your Smartest Studio Assistant"})]})]}),g.jsx("div",{className:"hidden md:flex items-center space-x-10 absolute left-1/2 transform -translate-x-1/2",children:i.map(({label:s,href:o})=>g.jsx("a",{href:o,className:"text-white hover:text-orange-400 font-semibold text-lg transition-colors pb-1 border-b-2 border-transparent hover:border-orange-400",children:s},s))}),g.jsx("div",{className:"hidden md:block",children:g.jsxs("button",{onClick:e,className:"bg-black hover:bg-gray-900 text-white px-8 py-3 rounded-xl font-bold text-lg transition-all transform hover:scale-105 flex items-center justify-center space-x-3 shadow-2xl border-2 border-orange-400 hover:border-orange-300",children:[g.jsxs("div",{className:"relative",children:[g.jsx("div",{className:"absolute inset-0 rounded-full bg-orange-500/30 blur-sm"}),g.jsx(Uo,{className:"h-6 w-6 relative z-10"})]}),g.jsx("span",{children:"Launch App"})]})}),g.jsx("button",{onClick:()=>n(s=>!s),className:"md:hidden text-gray-300 hover:text-white focus:outline-none",children:t?g.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})}):g.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})})})]})}),t&&g.jsxs("div",{className:"md:hidden bg-[#2B2B2B]/90 backdrop-blur-sm px-6 py-4 space-y-4",children:[i.map(({label:s,href:o})=>g.jsx("a",{href:o,onClick:()=>n(!1),className:"block py-2 text-white font-medium hover:text-orange-400",children:s},s)),g.jsxs("button",{onClick:()=>{n(!1),e()},className:"w-full bg-black hover:bg-gray-900 text-white px-8 py-4 rounded-xl font-bold text-lg transition-all transform hover:scale-105 flex items-center justify-center space-x-3 shadow-2xl border-2 border-orange-400 hover:border-orange-300 mt-4",children:[g.jsxs("div",{className:"relative",children:[g.jsx("div",{className:"absolute inset-0 rounded-full bg-orange-500/30 blur-sm"}),g.jsx(Uo,{className:"h-6 w-6 relative z-10"})]}),g.jsx("span",{children:"Launch App"})]})]}),g.jsx("section",{className:"px-6 py-20",children:g.jsxs("div",{className:"max-w-7xl mx-auto text-center",children:[g.jsxs("h1",{className:"text-5xl md:text-7xl font-bold text-white leading-tight mb-8",children:[g.jsx("span",{className:"text-orange-500",children:"AI Studio Assistant:"}),g.jsx("br",{}),g.jsxs("span",{className:"block text-4xl md:text-7xl",children:["A Complement to Creativity,",g.jsx("br",{}),"Not a Substitute."]})]}),g.jsxs("p",{className:"text-xl md:text-2xl text-gray-300 max-w-4xl mx-auto mb-12",children:["Empowering modern producers with",g.jsx("span",{className:"text-orange-500 font-semibold",children:" structure"}),",",g.jsx("span",{className:"text-orange-500 font-semibold",children:" speed"}),", and",g.jsx("span",{className:"text-orange-500 font-semibold",children:" support"}),"."]}),g.jsx("div",{className:"md:hidden",children:!t&&g.jsxs("button",{onClick:e,className:"bg-black hover:bg-gray-900 text-white px-12 py-5 rounded-xl font-bold text-xl transition-all transform hover:scale-105 flex items-center justify-center space-x-4 shadow-2xl border-2 border-orange-400 hover:border-orange-300 mx-auto",children:[g.jsxs("div",{className:"relative",children:[g.jsx("div",{className:"absolute inset-0 rounded-full bg-orange-500/30 blur-sm"}),g.jsx(Uo,{className:"h-7 w-7 relative z-10"})]}),g.jsx("span",{children:"Launch App"})]})})]})}),g.jsx("section",{id:"how-it-works",className:"relative px-6 py-20",children:g.jsxs("div",{className:"max-w-7xl mx-auto",children:[g.jsxs("div",{className:"text-center mb-16",children:[g.jsx("h2",{className:"text-4xl md:text-5xl font-bold text-white mb-6",children:"How TrackGuide Works"}),g.jsx("p",{className:"text-xl text-gray-300 max-w-3xl mx-auto",children:"From concept to creation in three simple steps"})]}),g.jsxs("div",{className:"grid md:grid-cols-3 gap-8",children:[g.jsxs("div",{className:"text-center space-y-6",children:[g.jsx("div",{className:"w-20 h-20 bg-orange-500 rounded-full flex items-center justify-center mx-auto",children:g.jsx("span",{className:"text-2xl font-bold text-white",children:"1"})}),g.jsx("h3",{className:"text-2xl font-bold text-white",children:"Describe Your Vision"}),g.jsx("p",{className:"text-gray-300",children:"Define your genre, vibe, creative goals  and your available plugins & DAW. Our AI understands your intent."})]}),g.jsxs("div",{className:"text-center space-y-6",children:[g.jsx("div",{className:"w-20 h-20 bg-orange-500 rounded-full flex items-center justify-center mx-auto",children:g.jsx("span",{className:"text-2xl font-bold text-white",children:"2"})}),g.jsx("h3",{className:"text-2xl font-bold text-white",children:"Get Your Guide & Tools"}),g.jsx("p",{className:"text-gray-300",children:"Generate a TrackGuide Blueprint, MIDI patterns, and AI recommendations  including plugin parameter suggestions."})]}),g.jsxs("div",{className:"text-center space-y-6",children:[g.jsx("div",{className:"w-20 h-20 bg-orange-500 rounded-full flex items-center justify-center mx-auto",children:g.jsx("span",{className:"text-2xl font-bold text-white",children:"3"})}),g.jsx("h3",{className:"text-2xl font-bold text-white",children:"Iterate & Refine"}),g.jsx("p",{className:"text-gray-300",children:"Upload mixes for feedback, compare revisions, and update your production with AI-assisted insights."})]})]})]})}),g.jsx("section",{className:"relative px-6 py-20 bg-black/10",children:g.jsxs("div",{className:"max-w-7xl mx-auto",children:[g.jsxs("div",{className:"text-center mb-16",children:[g.jsx("h2",{className:"text-4xl md:text-5xl font-bold text-white mb-6",children:"Complete Production Toolkit"}),g.jsx("p",{className:"text-xl text-gray-300 max-w-3xl mx-auto",children:"Everything you need  from first idea to final mix"})]}),g.jsxs("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-8",children:[g.jsxs("div",{className:"bg-gray-800/50 rounded-xl p-6 border border-orange-500/20 hover:border-orange-500/40 transition-all",children:[g.jsx("div",{className:"w-12 h-12 rounded-lg flex items-center justify-center mb-4",children:g.jsx(Uo,{className:"w-12 h-12"})}),g.jsx("h3",{className:"text-xl font-bold text-white mb-3",children:"TrackGuide AI"}),g.jsx("p",{className:"text-gray-300",children:"Generate detailed TrackGuide blueprints  structure, instrumentation, plugin parameters, and mix guidance tailored to your tools."})]}),g.jsxs("div",{className:"bg-gray-800/50 rounded-xl p-6 border border-orange-500/20 hover:border-orange-500/40 transition-all",children:[g.jsx("div",{className:"w-12 h-12 bg-orange-500 rounded-lg flex items-center justify-center mb-4",children:g.jsx("span",{className:"text-white font-bold",children:""})}),g.jsx("h3",{className:"text-xl font-bold text-white mb-3",children:"Integrated MIDI Generator"}),g.jsx("p",{className:"text-gray-300",children:"Auto-generate melodic, harmonic, bass, and drum MIDI patterns  matched to your genre and style  exportable to your DAW."})]}),g.jsxs("div",{className:"bg-gray-800/50 rounded-xl p-6 border border-orange-500/20 hover:border-orange-500/40 transition-all",children:[g.jsx("div",{className:"w-12 h-12 bg-orange-500 rounded-lg flex items-center justify-center mb-4",children:g.jsx("span",{className:"text-white font-bold",children:""})}),g.jsx("h3",{className:"text-xl font-bold text-white mb-3",children:"RemixGuide AI"}),g.jsx("p",{className:"text-gray-300",children:"Upload any track and generate an intelligent remix plan  new structure, sound design tips, and remix-ready MIDI."})]}),g.jsxs("div",{className:"bg-gray-800/50 rounded-xl p-6 border border-orange-500/20 hover:border-orange-500/40 transition-all",children:[g.jsx("div",{className:"w-12 h-12 bg-orange-500 rounded-lg flex items-center justify-center mb-4",children:g.jsx("span",{className:"text-white font-bold text-2xl",children:""})}),g.jsx("h3",{className:"text-xl font-bold text-white mb-3",children:"PatchGuide AI"}),g.jsx("p",{className:"text-gray-300",children:"Generate detailed synth patch blueprints  choose your synth, describe your sound, and get step-by-step parameter and modulation tips."})]}),g.jsxs("div",{className:"bg-gray-800/50 rounded-xl p-6 border border-orange-500/20 hover:border-orange-500/40 transition-all",children:[g.jsx("div",{className:"w-12 h-12 bg-orange-500 rounded-lg flex items-center justify-center mb-4",children:g.jsx("span",{className:"text-white font-bold text-2xl",children:""})}),g.jsx("h3",{className:"text-xl font-bold text-white mb-3",children:"Mix Feedback"}),g.jsx("p",{className:"text-gray-300",children:"Get instant mix advice  AI analyzes one or two versions of your mix to highlight strengths, fix weaknesses, compare refinements, and guide your next steps."})]}),g.jsxs("div",{className:"bg-gray-800/50 rounded-xl p-6 border border-orange-500/20 hover:border-orange-500/40 transition-all",children:[g.jsx("div",{className:"w-12 h-12 bg-orange-500 rounded-lg flex items-center justify-center mb-4",children:g.jsx("span",{className:"text-white font-bold",children:""})}),g.jsx("h3",{className:"text-xl font-bold text-white mb-3",children:"EQ Guide"}),g.jsx("p",{className:"text-gray-300",children:"Quick-reference EQ guide: instrument-by-instrument  learn how to shape sound and resolve common mix problems."})]})]})]})}),g.jsx("section",{className:"relative px-6 py-20 bg-black/20",children:g.jsxs("div",{className:"max-w-7xl mx-auto text-center",children:[g.jsx("h2",{className:"text-4xl md:text-5xl font-bold text-white mb-6",children:"Ready to Transform Your Music Production?"}),g.jsx("p",{className:"text-xl text-gray-300 mb-12 max-w-2xl mx-auto",children:"TrackGuide helps producers of all skill levels  from bedroom creators to pros  finish more tracks, faster."}),g.jsxs("div",{className:"bg-gray-800/50 rounded-2xl p-8 max-w-md mx-auto border border-orange-500/20",children:[g.jsx("h3",{className:"text-2xl font-bold text-white mb-4",children:"Free to Start"}),g.jsx("p",{className:"text-gray-300 mb-6",children:"Get started with TrackGuide AI for free. Upgrade when you're ready to unlock unlimited generations and advanced tools."}),g.jsx("button",{onClick:e,className:"w-full bg-orange-500 hover:bg-orange-600 text-white px-8 py-4 rounded-lg font-bold text-lg transition-all transform hover:scale-105 shadow-xl",children:"Start Creating Free"}),g.jsx("p",{className:"text-gray-500 text-sm mt-4",children:"No credit card required"})]})]})}),g.jsx("section",{className:"px-6 py-16 bg-black/20",children:g.jsxs("div",{className:"max-w-7xl mx-auto text-center",children:[g.jsx("div",{className:"w-32 h-1 bg-orange-500 mx-auto mb-8"}),g.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-white mb-4",children:"The Investment Opportunity"}),g.jsx("p",{className:"text-xl text-gray-300",children:"Helping producers finish better music, faster  in a $43B market."})]})}),g.jsx("section",{id:"problems-we-solve",className:"relative px-6 py-20 bg-black/20",children:g.jsx("div",{className:"max-w-7xl mx-auto",children:g.jsxs("div",{className:"grid lg:grid-cols-2 gap-12 items-center",children:[g.jsxs("div",{className:"space-y-8",children:[g.jsxs("h2",{className:"text-4xl md:text-5xl font-bold text-white leading-tight",children:["Too Many Tools. ",g.jsx("span",{className:"text-orange-500 block",children:"Not Enough Direction."})]}),g.jsxs("div",{className:"grid gap-6",children:[g.jsx("div",{className:"border-l-4 border-orange-500 pl-6",children:g.jsxs("p",{className:"text-gray-300",children:[g.jsx("strong",{children:"Clickbait content lacks depth "})," TrackGuide guides creativity with real-world skills  not more noise."]})}),g.jsx("div",{className:"border-l-4 border-orange-500 pl-6",children:g.jsxs("p",{className:"text-gray-300",children:[g.jsx("strong",{children:"Clarity over clutter "})," Cuts through plugin paralysis and endless tutorial-hopping."]})}),g.jsx("div",{className:"border-l-4 border-orange-500 pl-6",children:g.jsxs("p",{className:"text-gray-300",children:[g.jsx("strong",{children:"Skills that scale "})," Builds lasting production knowledge across tools & styles."]})})]})]}),g.jsxs("div",{className:"relative h-96",children:[g.jsxs("div",{className:"absolute top-0 right-0 w-48 h-48",children:[g.jsx("div",{className:"w-full h-full border-2 border-orange-500 transform rotate-45"}),g.jsx("div",{className:"absolute top-4 right-4 w-40 h-40 bg-orange-500 transform rotate-45"})]}),g.jsxs("div",{className:"absolute bottom-0 left-0 w-32 h-32",children:[g.jsx("div",{className:"w-full h-full border-2 border-orange-500"}),g.jsx("div",{className:"absolute top-2 left-2 w-28 h-28 bg-orange-500"})]})]})]})})}),g.jsx("section",{id:"ai-challenge",className:"px-6 py-20 bg-black",children:g.jsxs("div",{className:"max-w-7xl mx-auto grid lg:grid-cols-2 gap-12 items-center",children:[g.jsx("div",{className:"relative h-80 hidden lg:block",children:g.jsxs("div",{className:"absolute top-0 left-0 w-40 h-40",children:[g.jsx("div",{className:"w-full h-full border-2 border-orange-500 transform rotate-45"}),g.jsx("div",{className:"absolute top-4 left-4 w-32 h-32 bg-orange-500 transform rotate-45"})]})}),g.jsxs("div",{className:"space-y-8",children:[g.jsxs("h2",{className:"text-5xl font-bold text-white leading-tight",children:["AI That Teaches. ",g.jsx("span",{className:"text-orange-500 block",children:"Not Just Automates."})]}),g.jsx("p",{className:"text-xl text-gray-300 leading-relaxed",children:"A human-first approach  empowering the artist, respecting the craft."}),g.jsxs("div",{className:"grid gap-6",children:[g.jsxs("div",{className:"border-l-4 border-orange-500 pl-6",children:[g.jsx("h3",{className:"text-lg font-bold text-white mb-2",children:"Avoiding One-Click solutions"}),g.jsx("p",{className:"text-gray-400",children:"Our AI augments the creative process  producers stay in control."})]}),g.jsxs("div",{className:"border-l-4 border-orange-500 pl-6",children:[g.jsx("h3",{className:"text-lg font-bold text-white mb-2",children:"Encouraging Innovation"}),g.jsx("p",{className:"text-gray-400",children:"Current AI tools focus on regurgitating old hit formulas  ours help creators define new sounds."})]}),g.jsxs("div",{className:"border-l-4 border-orange-500 pl-6",children:[g.jsx("h3",{className:"text-lg font-bold text-white mb-2",children:"Clear IP & ethical AI"}),g.jsx("p",{className:"text-gray-400",children:"Built with transparent usage  your creativity stays yours."})]})]})]})]})}),g.jsx("section",{className:"relative px-6 py-20 bg-black/20",children:g.jsxs("div",{className:"max-w-5xl mx-auto",children:[g.jsxs("h2",{className:"text-4xl md:text-5xl font-bold text-white mb-6",children:["Scalable ",g.jsx("span",{className:"text-orange-500",children:"Business Model"})]}),g.jsx("p",{className:"text-xl text-gray-300 mb-12 max-w-2xl mx-auto",children:"Modular SaaS for creators, pros, educators, and studios."}),g.jsxs("div",{className:"grid md:grid-cols-3 gap-8",children:[g.jsxs("div",{className:"bg-gray-800/30 rounded-lg p-8 border border-orange-500/10 space-y-2",children:[g.jsx("h3",{className:"text-2xl font-bold text-white",children:"SaaS Subscriptions"}),g.jsx("p",{className:"text-gray-300",children:"Premium AI tools, pro workflows, unlimited usage  high-margin recurring revenue."}),g.jsx("div",{className:"text-orange-500 font-semibold text-lg",children:"85% Gross Margin"})]}),g.jsxs("div",{className:"bg-gray-800/30 rounded-lg p-8 border border-orange-500/10 space-y-2",children:[g.jsx("h3",{className:"text-2xl font-bold text-white",children:"Community Marketplace"}),g.jsx("p",{className:"text-gray-300",children:"Revenue from user-generated templates, MIDI packs, remix packs, stems, and presets."}),g.jsx("div",{className:"text-orange-500 font-semibold text-lg",children:"30% Commission"})]}),g.jsxs("div",{className:"bg-gray-800/30 rounded-lg p-8 border border-orange-500/10 space-y-2",children:[g.jsx("h3",{className:"text-2xl font-bold text-white",children:"Enterprise / Education Licensing"}),g.jsx("p",{className:"text-gray-300",children:"Annual contracts for labels, studios, and music education institutions."}),g.jsx("div",{className:"text-orange-500 font-semibold text-lg",children:"$50K+ ARR"})]})]})]})}),g.jsx("section",{id:"investment-levels",className:"px-6 py-20 bg-black",children:g.jsxs("div",{className:"max-w-5xl mx-auto",children:[g.jsxs("div",{className:"text-center mb-12",children:[g.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-white mb-6",children:"Investment Levels"}),g.jsx("p",{className:"text-lg text-gray-300 max-w-2xl mx-auto",children:"Were raising capital to scale TrackGuide AI  deepen core features, grow early users, and prepare for market launch."}),g.jsx("p",{className:"text-md text-gray-400 mt-4 max-w-xl mx-auto",children:"All investments are via SAFE notes with valuation cap. Larger tiers include additional benefits and advisory access."})]}),g.jsxs("div",{className:"grid md:grid-cols-4 gap-6",children:[g.jsxs("div",{className:"bg-black/80 rounded-lg p-6 border border-orange-500/30 shadow-md flex flex-col justify-between",children:[g.jsxs("div",{children:[g.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"Seed Loop"}),g.jsx("p",{className:"text-gray-300 text-sm mb-2",children:"$10K$25K"}),g.jsx("p",{className:"text-gray-400 text-sm mb-4",children:"AI refinement, UX polish, early traction testing."})]}),g.jsx("p",{className:"text-orange-400 text-sm mt-4",children:"Return: SAFE @ $5M cap + quarterly updates"})]}),g.jsxs("div",{className:"bg-black/80 rounded-lg p-6 border border-orange-500/30 shadow-md flex flex-col justify-between",children:[g.jsxs("div",{children:[g.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"Creator Tier"}),g.jsx("p",{className:"text-gray-300 text-sm mb-2",children:"$25K$50K"}),g.jsx("p",{className:"text-gray-400 text-sm mb-4",children:"Monetization rollout, user acquisition, affiliate & referral systems."})]}),g.jsx("p",{className:"text-orange-400 text-sm mt-4",children:"Return: SAFE + 1% revenue share pilot + early feature access"})]}),g.jsxs("div",{className:"bg-black/80 rounded-lg p-6 border border-orange-500/30 shadow-md flex flex-col justify-between",children:[g.jsxs("div",{children:[g.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"Full Stack"}),g.jsx("p",{className:"text-gray-300 text-sm mb-2",children:"$50K$75K"}),g.jsx("p",{className:"text-gray-400 text-sm mb-4",children:"Strategic hires (PMM / full-stack dev), expanded GTM partnerships."})]}),g.jsx("p",{className:"text-orange-400 text-sm mt-4",children:"Return: SAFE + advisory board seat + product roadmap input"})]}),g.jsxs("div",{className:"bg-black/80 rounded-lg p-6 border border-orange-500/30 shadow-md flex flex-col justify-between",children:[g.jsxs("div",{children:[g.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"Vision Tier"}),g.jsx("p",{className:"text-gray-300 text-sm mb-2",children:"$150K+"}),g.jsx("p",{className:"text-gray-400 text-sm mb-4",children:"Full-scale AI model tuning, GTM campaign, international expansion."})]}),g.jsx("p",{className:"text-orange-400 text-sm mt-4",children:"Return: Discounted SAFE cap + 2% revenue share + strategic board seat"})]})]}),g.jsx("div",{className:"text-center mt-12",children:g.jsx("a",{href:"mailto:dustinspaceproductions@gmail.com?subject=Investment Inquiry - TrackGuide AI",className:"bg-orange-500 hover:bg-orange-600 text-white px-8 py-4 rounded-lg font-bold text-lg transition-all transform hover:scale-105 inline-flex items-center space-x-2 shadow-xl",children:g.jsx("span",{children:"Contact for Full Investor Deck"})})})]})}),g.jsx("section",{className:"px-6 py-20 bg-black/30",children:g.jsxs("div",{className:"max-w-4xl mx-auto text-center",children:[g.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-white mb-6",children:"Interested in Investing?"}),g.jsx("p",{className:"text-xl text-gray-300 mb-8 max-w-2xl mx-auto",children:"Revolutionizing music production with human-first AI. Join us."}),g.jsx("a",{href:"mailto:dustinspaceproductions@gmail.com?subject=Investment Inquiry - TrackGuide AI",className:"bg-orange-500 hover:bg-orange-600 text-white px-8 py-3 rounded-lg font-bold text-lg transition-all transform hover:scale-105 inline-flex items-center space-x-2 shadow-xl",children:g.jsx("span",{children:"Contact for Investment Opportunities"})})]})}),g.jsx("footer",{className:"px-6 py-12 border-t border-orange-500/20 bg-black/20",children:g.jsx("div",{className:"max-w-7xl mx-auto",children:g.jsxs("div",{className:"flex flex-col md:flex-row items-center justify-between",children:[g.jsxs("div",{className:"flex items-center space-x-3 mb-4 md:mb-0",children:[g.jsx("div",{className:"w-6 h-6 bg-orange-500 transform rotate-45 flex items-center justify-center",children:g.jsx("div",{className:"w-3 h-3 bg-white transform -rotate-45"})}),g.jsxs("div",{children:[g.jsx("div",{className:"text-lg font-bold text-white",children:"TrackGuide AI"}),g.jsx("div",{className:"text-xs text-gray-400",children:"AI Studio Assistant for Music Creators"})]})]}),g.jsxs("div",{className:"text-gray-400 text-center md:text-right text-sm space-y-1",children:[g.jsx("p",{children:" 2025 TrackGuide. Empowering music creators worldwide."}),g.jsxs("p",{children:[g.jsx("a",{href:"#",className:"hover:text-orange-400 mr-4",children:"Privacy Policy"}),g.jsx("a",{href:"#",className:"hover:text-orange-400",children:"Terms of Service"})]})]})]})})})]})};function tb(e){const t=[],n=String(e||"");let i=n.indexOf(","),s=0,o=!1;for(;!o;){i===-1&&(i=n.length,o=!0);const u=n.slice(s,i).trim();(u||!o)&&t.push(u),s=i+1,i=n.indexOf(",",s)}return t}function iv(e,t){const n={};return(e[e.length-1]===""?[...e,""]:e).join((n.padRight?" ":"")+","+(n.padLeft===!1?"":" ")).trim()}const IR=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,NR=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,MR={};function nb(e,t){return(MR.jsx?NR:IR).test(e)}const DR=/[ \t\n\f\r]/g;function RR(e){return typeof e=="object"?e.type==="text"?ib(e.value):!1:ib(e)}function ib(e){return e.replace(DR,"")===""}let Nl=class{constructor(t,n,i){this.normal=n,this.property=t,i&&(this.space=i)}};Nl.prototype.normal={};Nl.prototype.property={};Nl.prototype.space=void 0;function av(e,t){const n={},i={};for(const s of e)Object.assign(n,s.property),Object.assign(i,s.normal);return new Nl(n,i,t)}function pl(e){return e.toLowerCase()}let In=class{constructor(t,n){this.attribute=n,this.property=t}};In.prototype.attribute="";In.prototype.booleanish=!1;In.prototype.boolean=!1;In.prototype.commaOrSpaceSeparated=!1;In.prototype.commaSeparated=!1;In.prototype.defined=!1;In.prototype.mustUseProperty=!1;In.prototype.number=!1;In.prototype.overloadedBoolean=!1;In.prototype.property="";In.prototype.spaceSeparated=!1;In.prototype.space=void 0;let kR=0;const Ye=br(),Ut=br(),hh=br(),Ee=br(),xt=br(),Es=br(),Pn=br();function br(){return 2**++kR}const ph=Object.freeze(Object.defineProperty({__proto__:null,boolean:Ye,booleanish:Ut,commaOrSpaceSeparated:Pn,commaSeparated:Es,number:Ee,overloadedBoolean:hh,spaceSeparated:xt},Symbol.toStringTag,{value:"Module"})),vm=Object.keys(ph);let e0=class extends In{constructor(t,n,i,s){let o=-1;if(super(t,n),ab(this,"space",s),typeof i=="number")for(;++o<vm.length;){const u=vm[o];ab(this,vm[o],(i&ph[u])===ph[u])}}};e0.prototype.defined=!0;function ab(e,t,n){n&&(e[t]=n)}function Ms(e){const t={},n={};for(const[i,s]of Object.entries(e.properties)){const o=new e0(i,e.transform(e.attributes||{},i),s,e.space);e.mustUseProperty&&e.mustUseProperty.includes(i)&&(o.mustUseProperty=!0),t[i]=o,n[pl(i)]=i,n[pl(o.attribute)]=i}return new Nl(t,n,e.space)}const rv=Ms({properties:{ariaActiveDescendant:null,ariaAtomic:Ut,ariaAutoComplete:null,ariaBusy:Ut,ariaChecked:Ut,ariaColCount:Ee,ariaColIndex:Ee,ariaColSpan:Ee,ariaControls:xt,ariaCurrent:null,ariaDescribedBy:xt,ariaDetails:null,ariaDisabled:Ut,ariaDropEffect:xt,ariaErrorMessage:null,ariaExpanded:Ut,ariaFlowTo:xt,ariaGrabbed:Ut,ariaHasPopup:null,ariaHidden:Ut,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:xt,ariaLevel:Ee,ariaLive:null,ariaModal:Ut,ariaMultiLine:Ut,ariaMultiSelectable:Ut,ariaOrientation:null,ariaOwns:xt,ariaPlaceholder:null,ariaPosInSet:Ee,ariaPressed:Ut,ariaReadOnly:Ut,ariaRelevant:null,ariaRequired:Ut,ariaRoleDescription:xt,ariaRowCount:Ee,ariaRowIndex:Ee,ariaRowSpan:Ee,ariaSelected:Ut,ariaSetSize:Ee,ariaSort:null,ariaValueMax:Ee,ariaValueMin:Ee,ariaValueNow:Ee,ariaValueText:null,role:null},transform(e,t){return t==="role"?t:"aria-"+t.slice(4).toLowerCase()}});function sv(e,t){return t in e?e[t]:t}function ov(e,t){return sv(e,t.toLowerCase())}const wR=Ms({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:Es,acceptCharset:xt,accessKey:xt,action:null,allow:null,allowFullScreen:Ye,allowPaymentRequest:Ye,allowUserMedia:Ye,alt:null,as:null,async:Ye,autoCapitalize:null,autoComplete:xt,autoFocus:Ye,autoPlay:Ye,blocking:xt,capture:null,charSet:null,checked:Ye,cite:null,className:xt,cols:Ee,colSpan:null,content:null,contentEditable:Ut,controls:Ye,controlsList:xt,coords:Ee|Es,crossOrigin:null,data:null,dateTime:null,decoding:null,default:Ye,defer:Ye,dir:null,dirName:null,disabled:Ye,download:hh,draggable:Ut,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:Ye,formTarget:null,headers:xt,height:Ee,hidden:hh,high:Ee,href:null,hrefLang:null,htmlFor:xt,httpEquiv:xt,id:null,imageSizes:null,imageSrcSet:null,inert:Ye,inputMode:null,integrity:null,is:null,isMap:Ye,itemId:null,itemProp:xt,itemRef:xt,itemScope:Ye,itemType:xt,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:Ye,low:Ee,manifest:null,max:null,maxLength:Ee,media:null,method:null,min:null,minLength:Ee,multiple:Ye,muted:Ye,name:null,nonce:null,noModule:Ye,noValidate:Ye,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:Ye,optimum:Ee,pattern:null,ping:xt,placeholder:null,playsInline:Ye,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:Ye,referrerPolicy:null,rel:xt,required:Ye,reversed:Ye,rows:Ee,rowSpan:Ee,sandbox:xt,scope:null,scoped:Ye,seamless:Ye,selected:Ye,shadowRootClonable:Ye,shadowRootDelegatesFocus:Ye,shadowRootMode:null,shape:null,size:Ee,sizes:null,slot:null,span:Ee,spellCheck:Ut,src:null,srcDoc:null,srcLang:null,srcSet:null,start:Ee,step:null,style:null,tabIndex:Ee,target:null,title:null,translate:null,type:null,typeMustMatch:Ye,useMap:null,value:Ut,width:Ee,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:xt,axis:null,background:null,bgColor:null,border:Ee,borderColor:null,bottomMargin:Ee,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:Ye,declare:Ye,event:null,face:null,frame:null,frameBorder:null,hSpace:Ee,leftMargin:Ee,link:null,longDesc:null,lowSrc:null,marginHeight:Ee,marginWidth:Ee,noResize:Ye,noHref:Ye,noShade:Ye,noWrap:Ye,object:null,profile:null,prompt:null,rev:null,rightMargin:Ee,rules:null,scheme:null,scrolling:Ut,standby:null,summary:null,text:null,topMargin:Ee,valueType:null,version:null,vAlign:null,vLink:null,vSpace:Ee,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:Ye,disableRemotePlayback:Ye,prefix:null,property:null,results:Ee,security:null,unselectable:null},space:"html",transform:ov}),LR=Ms({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:Pn,accentHeight:Ee,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:Ee,amplitude:Ee,arabicForm:null,ascent:Ee,attributeName:null,attributeType:null,azimuth:Ee,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:Ee,by:null,calcMode:null,capHeight:Ee,className:xt,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:Ee,diffuseConstant:Ee,direction:null,display:null,dur:null,divisor:Ee,dominantBaseline:null,download:Ye,dx:null,dy:null,edgeMode:null,editable:null,elevation:Ee,enableBackground:null,end:null,event:null,exponent:Ee,externalResourcesRequired:null,fill:null,fillOpacity:Ee,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:Es,g2:Es,glyphName:Es,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:Ee,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:Ee,horizOriginX:Ee,horizOriginY:Ee,id:null,ideographic:Ee,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:Ee,k:Ee,k1:Ee,k2:Ee,k3:Ee,k4:Ee,kernelMatrix:Pn,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:Ee,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:Ee,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:Ee,overlineThickness:Ee,paintOrder:null,panose1:null,path:null,pathLength:Ee,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:xt,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:Ee,pointsAtY:Ee,pointsAtZ:Ee,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:Pn,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:Pn,rev:Pn,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:Pn,requiredFeatures:Pn,requiredFonts:Pn,requiredFormats:Pn,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:Ee,specularExponent:Ee,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:Ee,strikethroughThickness:Ee,string:null,stroke:null,strokeDashArray:Pn,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:Ee,strokeOpacity:Ee,strokeWidth:null,style:null,surfaceScale:Ee,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:Pn,tabIndex:Ee,tableValues:null,target:null,targetX:Ee,targetY:Ee,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:Pn,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:Ee,underlineThickness:Ee,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:Ee,values:null,vAlphabetic:Ee,vMathematical:Ee,vectorEffect:null,vHanging:Ee,vIdeographic:Ee,version:null,vertAdvY:Ee,vertOriginX:Ee,vertOriginY:Ee,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:Ee,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:sv}),lv=Ms({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform(e,t){return"xlink:"+t.slice(5).toLowerCase()}}),uv=Ms({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:ov}),cv=Ms({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform(e,t){return"xml:"+t.slice(3).toLowerCase()}}),OR={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},PR=/[A-Z]/g,rb=/-[a-z]/g,BR=/^data[-\w.:]+$/i;function t0(e,t){const n=pl(t);let i=t,s=In;if(n in e.normal)return e.property[e.normal[n]];if(n.length>4&&n.slice(0,4)==="data"&&BR.test(t)){if(t.charAt(4)==="-"){const o=t.slice(5).replace(rb,HR);i="data"+o.charAt(0).toUpperCase()+o.slice(1)}else{const o=t.slice(4);if(!rb.test(o)){let u=o.replace(PR,FR);u.charAt(0)!=="-"&&(u="-"+u),t="data"+u}}s=e0}return new s(i,t)}function FR(e){return"-"+e.toLowerCase()}function HR(e){return e.charAt(1).toUpperCase()}const jc=av([rv,wR,lv,uv,cv],"html"),Ds=av([rv,LR,lv,uv,cv],"svg");function sb(e){const t=String(e||"").trim();return t?t.split(/[ \t\n\r\f]+/g):[]}function dv(e){return e.join(" ").trim()}var cs={},Sm,ob;function UR(){if(ob)return Sm;ob=1;var e=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,t=/\n/g,n=/^\s*/,i=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,s=/^:\s*/,o=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,u=/^[;\s]*/,c=/^\s+|\s+$/g,m=`
`,f="/",h="*",y="",v="comment",S="declaration";Sm=function(I,O){if(typeof I!="string")throw new TypeError("First argument must be a string");if(!I)return[];O=O||{};var D=1,H=1;function R(Se){var pe=Se.match(t);pe&&(D+=pe.length);var re=Se.lastIndexOf(m);H=~re?Se.length-re:H+Se.length}function V(){var Se={line:D,column:H};return function(pe){return pe.position=new K(Se),me(),pe}}function K(Se){this.start=Se,this.end={line:D,column:H},this.source=O.source}K.prototype.content=I;function q(Se){var pe=new Error(O.source+":"+D+":"+H+": "+Se);if(pe.reason=Se,pe.filename=O.source,pe.line=D,pe.column=H,pe.source=I,!O.silent)throw pe}function ue(Se){var pe=Se.exec(I);if(pe){var re=pe[0];return R(re),I=I.slice(re.length),pe}}function me(){ue(n)}function Ae(Se){var pe;for(Se=Se||[];pe=Y();)pe!==!1&&Se.push(pe);return Se}function Y(){var Se=V();if(!(f!=I.charAt(0)||h!=I.charAt(1))){for(var pe=2;y!=I.charAt(pe)&&(h!=I.charAt(pe)||f!=I.charAt(pe+1));)++pe;if(pe+=2,y===I.charAt(pe-1))return q("End of comment missing");var re=I.slice(2,pe-2);return H+=2,R(re),I=I.slice(pe),H+=2,Se({type:v,comment:re})}}function ye(){var Se=V(),pe=ue(i);if(pe){if(Y(),!ue(s))return q("property missing ':'");var re=ue(o),W=Se({type:S,property:_(pe[0].replace(e,y)),value:re?_(re[0].replace(e,y)):y});return ue(u),W}}function be(){var Se=[];Ae(Se);for(var pe;pe=ye();)pe!==!1&&(Se.push(pe),Ae(Se));return Se}return me(),be()};function _(I){return I?I.replace(c,y):y}return Sm}var lb;function VR(){if(lb)return cs;lb=1;var e=cs&&cs.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(cs,"__esModule",{value:!0}),cs.default=n;var t=e(UR());function n(i,s){var o=null;if(!i||typeof i!="string")return o;var u=(0,t.default)(i),c=typeof s=="function";return u.forEach(function(m){if(m.type==="declaration"){var f=m.property,h=m.value;c?s(f,h,m):h&&(o=o||{},o[f]=h)}}),o}return cs}var Vo={},ub;function zR(){if(ub)return Vo;ub=1,Object.defineProperty(Vo,"__esModule",{value:!0}),Vo.camelCase=void 0;var e=/^--[a-zA-Z0-9_-]+$/,t=/-([a-z])/g,n=/^[^-]+$/,i=/^-(webkit|moz|ms|o|khtml)-/,s=/^-(ms)-/,o=function(f){return!f||n.test(f)||e.test(f)},u=function(f,h){return h.toUpperCase()},c=function(f,h){return"".concat(h,"-")},m=function(f,h){return h===void 0&&(h={}),o(f)?f:(f=f.toLowerCase(),h.reactCompat?f=f.replace(s,c):f=f.replace(i,c),f.replace(t,u))};return Vo.camelCase=m,Vo}var zo,cb;function jR(){if(cb)return zo;cb=1;var e=zo&&zo.__importDefault||function(s){return s&&s.__esModule?s:{default:s}},t=e(VR()),n=zR();function i(s,o){var u={};return!s||typeof s!="string"||(0,t.default)(s,function(c,m){c&&m&&(u[(0,n.camelCase)(c,o)]=m)}),u}return i.default=i,zo=i,zo}var GR=jR();const qR=_l(GR),Gc=fv("end"),_i=fv("start");function fv(e){return t;function t(n){const i=n&&n.position&&n.position[e]||{};if(typeof i.line=="number"&&i.line>0&&typeof i.column=="number"&&i.column>0)return{line:i.line,column:i.column,offset:typeof i.offset=="number"&&i.offset>-1?i.offset:void 0}}}function YR(e){const t=_i(e),n=Gc(e);if(t&&n)return{start:t,end:n}}function Zo(e){return!e||typeof e!="object"?"":"position"in e||"type"in e?db(e.position):"start"in e||"end"in e?db(e):"line"in e||"column"in e?gh(e):""}function gh(e){return fb(e&&e.line)+":"+fb(e&&e.column)}function db(e){return gh(e&&e.start)+"-"+gh(e&&e.end)}function fb(e){return e&&typeof e=="number"?e:1}class un extends Error{constructor(t,n,i){super(),typeof n=="string"&&(i=n,n=void 0);let s="",o={},u=!1;if(n&&("line"in n&&"column"in n?o={place:n}:"start"in n&&"end"in n?o={place:n}:"type"in n?o={ancestors:[n],place:n.position}:o={...n}),typeof t=="string"?s=t:!o.cause&&t&&(u=!0,s=t.message,o.cause=t),!o.ruleId&&!o.source&&typeof i=="string"){const m=i.indexOf(":");m===-1?o.ruleId=i:(o.source=i.slice(0,m),o.ruleId=i.slice(m+1))}if(!o.place&&o.ancestors&&o.ancestors){const m=o.ancestors[o.ancestors.length-1];m&&(o.place=m.position)}const c=o.place&&"start"in o.place?o.place.start:o.place;this.ancestors=o.ancestors||void 0,this.cause=o.cause||void 0,this.column=c?c.column:void 0,this.fatal=void 0,this.file,this.message=s,this.line=c?c.line:void 0,this.name=Zo(o.place)||"1:1",this.place=o.place||void 0,this.reason=this.message,this.ruleId=o.ruleId||void 0,this.source=o.source||void 0,this.stack=u&&o.cause&&typeof o.cause.stack=="string"?o.cause.stack:"",this.actual,this.expected,this.note,this.url}}un.prototype.file="";un.prototype.name="";un.prototype.reason="";un.prototype.message="";un.prototype.stack="";un.prototype.column=void 0;un.prototype.line=void 0;un.prototype.ancestors=void 0;un.prototype.cause=void 0;un.prototype.fatal=void 0;un.prototype.place=void 0;un.prototype.ruleId=void 0;un.prototype.source=void 0;const n0={}.hasOwnProperty,KR=new Map,$R=/[A-Z]/g,XR=new Set(["table","tbody","thead","tfoot","tr"]),WR=new Set(["td","th"]),mv="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function QR(e,t){if(!t||t.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const n=t.filePath||void 0;let i;if(t.development){if(typeof t.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");i=rk(n,t.jsxDEV)}else{if(typeof t.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof t.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");i=ak(n,t.jsx,t.jsxs)}const s={Fragment:t.Fragment,ancestors:[],components:t.components||{},create:i,elementAttributeNameCase:t.elementAttributeNameCase||"react",evaluater:t.createEvaluater?t.createEvaluater():void 0,filePath:n,ignoreInvalidStyle:t.ignoreInvalidStyle||!1,passKeys:t.passKeys!==!1,passNode:t.passNode||!1,schema:t.space==="svg"?Ds:jc,stylePropertyNameCase:t.stylePropertyNameCase||"dom",tableCellAlignToStyle:t.tableCellAlignToStyle!==!1},o=hv(s,e,void 0);return o&&typeof o!="string"?o:s.create(e,s.Fragment,{children:o||void 0},void 0)}function hv(e,t,n){if(t.type==="element")return JR(e,t,n);if(t.type==="mdxFlowExpression"||t.type==="mdxTextExpression")return ZR(e,t);if(t.type==="mdxJsxFlowElement"||t.type==="mdxJsxTextElement")return tk(e,t,n);if(t.type==="mdxjsEsm")return ek(e,t);if(t.type==="root")return nk(e,t,n);if(t.type==="text")return ik(e,t)}function JR(e,t,n){const i=e.schema;let s=i;t.tagName.toLowerCase()==="svg"&&i.space==="html"&&(s=Ds,e.schema=s),e.ancestors.push(t);const o=gv(e,t.tagName,!1),u=sk(e,t);let c=a0(e,t);return XR.has(t.tagName)&&(c=c.filter(function(m){return typeof m=="string"?!RR(m):!0})),pv(e,u,o,t),i0(u,c),e.ancestors.pop(),e.schema=i,e.create(t,o,u,n)}function ZR(e,t){if(t.data&&t.data.estree&&e.evaluater){const i=t.data.estree.body[0];return i.type,e.evaluater.evaluateExpression(i.expression)}gl(e,t.position)}function ek(e,t){if(t.data&&t.data.estree&&e.evaluater)return e.evaluater.evaluateProgram(t.data.estree);gl(e,t.position)}function tk(e,t,n){const i=e.schema;let s=i;t.name==="svg"&&i.space==="html"&&(s=Ds,e.schema=s),e.ancestors.push(t);const o=t.name===null?e.Fragment:gv(e,t.name,!0),u=ok(e,t),c=a0(e,t);return pv(e,u,o,t),i0(u,c),e.ancestors.pop(),e.schema=i,e.create(t,o,u,n)}function nk(e,t,n){const i={};return i0(i,a0(e,t)),e.create(t,e.Fragment,i,n)}function ik(e,t){return t.value}function pv(e,t,n,i){typeof n!="string"&&n!==e.Fragment&&e.passNode&&(t.node=i)}function i0(e,t){if(t.length>0){const n=t.length>1?t:t[0];n&&(e.children=n)}}function ak(e,t,n){return i;function i(s,o,u,c){const f=Array.isArray(u.children)?n:t;return c?f(o,u,c):f(o,u)}}function rk(e,t){return n;function n(i,s,o,u){const c=Array.isArray(o.children),m=_i(i);return t(s,o,u,c,{columnNumber:m?m.column-1:void 0,fileName:e,lineNumber:m?m.line:void 0},void 0)}}function sk(e,t){const n={};let i,s;for(s in t.properties)if(s!=="children"&&n0.call(t.properties,s)){const o=lk(e,s,t.properties[s]);if(o){const[u,c]=o;e.tableCellAlignToStyle&&u==="align"&&typeof c=="string"&&WR.has(t.tagName)?i=c:n[u]=c}}if(i){const o=n.style||(n.style={});o[e.stylePropertyNameCase==="css"?"text-align":"textAlign"]=i}return n}function ok(e,t){const n={};for(const i of t.attributes)if(i.type==="mdxJsxExpressionAttribute")if(i.data&&i.data.estree&&e.evaluater){const o=i.data.estree.body[0];o.type;const u=o.expression;u.type;const c=u.properties[0];c.type,Object.assign(n,e.evaluater.evaluateExpression(c.argument))}else gl(e,t.position);else{const s=i.name;let o;if(i.value&&typeof i.value=="object")if(i.value.data&&i.value.data.estree&&e.evaluater){const c=i.value.data.estree.body[0];c.type,o=e.evaluater.evaluateExpression(c.expression)}else gl(e,t.position);else o=i.value===null?!0:i.value;n[s]=o}return n}function a0(e,t){const n=[];let i=-1;const s=e.passKeys?new Map:KR;for(;++i<t.children.length;){const o=t.children[i];let u;if(e.passKeys){const m=o.type==="element"?o.tagName:o.type==="mdxJsxFlowElement"||o.type==="mdxJsxTextElement"?o.name:void 0;if(m){const f=s.get(m)||0;u=m+"-"+f,s.set(m,f+1)}}const c=hv(e,o,u);c!==void 0&&n.push(c)}return n}function lk(e,t,n){const i=t0(e.schema,t);if(!(n==null||typeof n=="number"&&Number.isNaN(n))){if(Array.isArray(n)&&(n=i.commaSeparated?iv(n):dv(n)),i.property==="style"){let s=typeof n=="object"?n:uk(e,String(n));return e.stylePropertyNameCase==="css"&&(s=ck(s)),["style",s]}return[e.elementAttributeNameCase==="react"&&i.space?OR[i.property]||i.property:i.attribute,n]}}function uk(e,t){try{return qR(t,{reactCompat:!0})}catch(n){if(e.ignoreInvalidStyle)return{};const i=n,s=new un("Cannot parse `style` attribute",{ancestors:e.ancestors,cause:i,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw s.file=e.filePath||void 0,s.url=mv+"#cannot-parse-style-attribute",s}}function gv(e,t,n){let i;if(!n)i={type:"Literal",value:t};else if(t.includes(".")){const s=t.split(".");let o=-1,u;for(;++o<s.length;){const c=nb(s[o])?{type:"Identifier",name:s[o]}:{type:"Literal",value:s[o]};u=u?{type:"MemberExpression",object:u,property:c,computed:!!(o&&c.type==="Literal"),optional:!1}:c}i=u}else i=nb(t)&&!/^[a-z]/.test(t)?{type:"Identifier",name:t}:{type:"Literal",value:t};if(i.type==="Literal"){const s=i.value;return n0.call(e.components,s)?e.components[s]:s}if(e.evaluater)return e.evaluater.evaluateExpression(i);gl(e)}function gl(e,t){const n=new un("Cannot handle MDX estrees without `createEvaluater`",{ancestors:e.ancestors,place:t,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw n.file=e.filePath||void 0,n.url=mv+"#cannot-handle-mdx-estrees-without-createevaluater",n}function ck(e){const t={};let n;for(n in e)n0.call(e,n)&&(t[dk(n)]=e[n]);return t}function dk(e){let t=e.replace($R,fk);return t.slice(0,3)==="ms-"&&(t="-"+t),t}function fk(e){return"-"+e.toLowerCase()}const Cm={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},mk={};function r0(e,t){const n=mk,i=typeof n.includeImageAlt=="boolean"?n.includeImageAlt:!0,s=typeof n.includeHtml=="boolean"?n.includeHtml:!0;return yv(e,i,s)}function yv(e,t,n){if(hk(e)){if("value"in e)return e.type==="html"&&!n?"":e.value;if(t&&"alt"in e&&e.alt)return e.alt;if("children"in e)return mb(e.children,t,n)}return Array.isArray(e)?mb(e,t,n):""}function mb(e,t,n){const i=[];let s=-1;for(;++s<e.length;)i[s]=yv(e[s],t,n);return i.join("")}function hk(e){return!!(e&&typeof e=="object")}const hb=document.createElement("i");function s0(e){const t="&"+e+";";hb.innerHTML=t;const n=hb.textContent;return n.charCodeAt(n.length-1)===59&&e!=="semi"||n===t?!1:n}function Hn(e,t,n,i){const s=e.length;let o=0,u;if(t<0?t=-t>s?0:s+t:t=t>s?s:t,n=n>0?n:0,i.length<1e4)u=Array.from(i),u.unshift(t,n),e.splice(...u);else for(n&&e.splice(t,n);o<i.length;)u=i.slice(o,o+1e4),u.unshift(t,0),e.splice(...u),o+=1e4,t+=1e4}function Zn(e,t){return e.length>0?(Hn(e,e.length,0,t),e):t}const pb={}.hasOwnProperty;function Tv(e){const t={};let n=-1;for(;++n<e.length;)pk(t,e[n]);return t}function pk(e,t){let n;for(n in t){const s=(pb.call(e,n)?e[n]:void 0)||(e[n]={}),o=t[n];let u;if(o)for(u in o){pb.call(s,u)||(s[u]=[]);const c=o[u];gk(s[u],Array.isArray(c)?c:c?[c]:[])}}}function gk(e,t){let n=-1;const i=[];for(;++n<t.length;)(t[n].add==="after"?e:i).push(t[n]);Hn(e,0,0,i)}function bv(e,t){const n=Number.parseInt(e,t);return n<9||n===11||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||(n&65535)===65535||(n&65535)===65534||n>1114111?"":String.fromCodePoint(n)}function fi(e){return e.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const mn=Pa(/[A-Za-z]/),on=Pa(/[\dA-Za-z]/),yk=Pa(/[#-'*+\--9=?A-Z^-~]/);function _c(e){return e!==null&&(e<32||e===127)}const yh=Pa(/\d/),Tk=Pa(/[\dA-Fa-f]/),bk=Pa(/[!-/:-@[-`{-~]/);function Le(e){return e!==null&&e<-2}function Tt(e){return e!==null&&(e<0||e===32)}function et(e){return e===-2||e===-1||e===32}const qc=Pa(new RegExp("\\p{P}|\\p{S}","u")),Tr=Pa(/\s/);function Pa(e){return t;function t(n){return n!==null&&n>-1&&e.test(String.fromCharCode(n))}}function Rs(e){const t=[];let n=-1,i=0,s=0;for(;++n<e.length;){const o=e.charCodeAt(n);let u="";if(o===37&&on(e.charCodeAt(n+1))&&on(e.charCodeAt(n+2)))s=2;else if(o<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(o))||(u=String.fromCharCode(o));else if(o>55295&&o<57344){const c=e.charCodeAt(n+1);o<56320&&c>56319&&c<57344?(u=String.fromCharCode(o,c),s=1):u=""}else u=String.fromCharCode(o);u&&(t.push(e.slice(i,n),encodeURIComponent(u)),i=n+s+1,u=""),s&&(n+=s,s=0)}return t.join("")+e.slice(i)}function at(e,t,n,i){const s=i?i-1:Number.POSITIVE_INFINITY;let o=0;return u;function u(m){return et(m)?(e.enter(n),c(m)):t(m)}function c(m){return et(m)&&o++<s?(e.consume(m),c):(e.exit(n),t(m))}}const xk={tokenize:Ek};function Ek(e){const t=e.attempt(this.parser.constructs.contentInitial,i,s);let n;return t;function i(c){if(c===null){e.consume(c);return}return e.enter("lineEnding"),e.consume(c),e.exit("lineEnding"),at(e,t,"linePrefix")}function s(c){return e.enter("paragraph"),o(c)}function o(c){const m=e.enter("chunkText",{contentType:"text",previous:n});return n&&(n.next=m),n=m,u(c)}function u(c){if(c===null){e.exit("chunkText"),e.exit("paragraph"),e.consume(c);return}return Le(c)?(e.consume(c),e.exit("chunkText"),o):(e.consume(c),u)}}const vk={tokenize:Sk},gb={tokenize:Ck};function Sk(e){const t=this,n=[];let i=0,s,o,u;return c;function c(R){if(i<n.length){const V=n[i];return t.containerState=V[1],e.attempt(V[0].continuation,m,f)(R)}return f(R)}function m(R){if(i++,t.containerState._closeFlow){t.containerState._closeFlow=void 0,s&&H();const V=t.events.length;let K=V,q;for(;K--;)if(t.events[K][0]==="exit"&&t.events[K][1].type==="chunkFlow"){q=t.events[K][1].end;break}D(i);let ue=V;for(;ue<t.events.length;)t.events[ue][1].end={...q},ue++;return Hn(t.events,K+1,0,t.events.slice(V)),t.events.length=ue,f(R)}return c(R)}function f(R){if(i===n.length){if(!s)return v(R);if(s.currentConstruct&&s.currentConstruct.concrete)return _(R);t.interrupt=!!(s.currentConstruct&&!s._gfmTableDynamicInterruptHack)}return t.containerState={},e.check(gb,h,y)(R)}function h(R){return s&&H(),D(i),v(R)}function y(R){return t.parser.lazy[t.now().line]=i!==n.length,u=t.now().offset,_(R)}function v(R){return t.containerState={},e.attempt(gb,S,_)(R)}function S(R){return i++,n.push([t.currentConstruct,t.containerState]),v(R)}function _(R){if(R===null){s&&H(),D(0),e.consume(R);return}return s=s||t.parser.flow(t.now()),e.enter("chunkFlow",{_tokenizer:s,contentType:"flow",previous:o}),I(R)}function I(R){if(R===null){O(e.exit("chunkFlow"),!0),D(0),e.consume(R);return}return Le(R)?(e.consume(R),O(e.exit("chunkFlow")),i=0,t.interrupt=void 0,c):(e.consume(R),I)}function O(R,V){const K=t.sliceStream(R);if(V&&K.push(null),R.previous=o,o&&(o.next=R),o=R,s.defineSkip(R.start),s.write(K),t.parser.lazy[R.start.line]){let q=s.events.length;for(;q--;)if(s.events[q][1].start.offset<u&&(!s.events[q][1].end||s.events[q][1].end.offset>u))return;const ue=t.events.length;let me=ue,Ae,Y;for(;me--;)if(t.events[me][0]==="exit"&&t.events[me][1].type==="chunkFlow"){if(Ae){Y=t.events[me][1].end;break}Ae=!0}for(D(i),q=ue;q<t.events.length;)t.events[q][1].end={...Y},q++;Hn(t.events,me+1,0,t.events.slice(ue)),t.events.length=q}}function D(R){let V=n.length;for(;V-- >R;){const K=n[V];t.containerState=K[1],K[0].exit.call(t,e)}n.length=R}function H(){s.write([null]),o=void 0,s=void 0,t.containerState._closeFlow=void 0}}function Ck(e,t,n){return at(e,e.attempt(this.parser.constructs.document,t,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function Ss(e){if(e===null||Tt(e)||Tr(e))return 1;if(qc(e))return 2}function Yc(e,t,n){const i=[];let s=-1;for(;++s<e.length;){const o=e[s].resolveAll;o&&!i.includes(o)&&(t=o(t,n),i.push(o))}return t}const Th={name:"attention",resolveAll:Ak,tokenize:_k};function Ak(e,t){let n=-1,i,s,o,u,c,m,f,h;for(;++n<e.length;)if(e[n][0]==="enter"&&e[n][1].type==="attentionSequence"&&e[n][1]._close){for(i=n;i--;)if(e[i][0]==="exit"&&e[i][1].type==="attentionSequence"&&e[i][1]._open&&t.sliceSerialize(e[i][1]).charCodeAt(0)===t.sliceSerialize(e[n][1]).charCodeAt(0)){if((e[i][1]._close||e[n][1]._open)&&(e[n][1].end.offset-e[n][1].start.offset)%3&&!((e[i][1].end.offset-e[i][1].start.offset+e[n][1].end.offset-e[n][1].start.offset)%3))continue;m=e[i][1].end.offset-e[i][1].start.offset>1&&e[n][1].end.offset-e[n][1].start.offset>1?2:1;const y={...e[i][1].end},v={...e[n][1].start};yb(y,-m),yb(v,m),u={type:m>1?"strongSequence":"emphasisSequence",start:y,end:{...e[i][1].end}},c={type:m>1?"strongSequence":"emphasisSequence",start:{...e[n][1].start},end:v},o={type:m>1?"strongText":"emphasisText",start:{...e[i][1].end},end:{...e[n][1].start}},s={type:m>1?"strong":"emphasis",start:{...u.start},end:{...c.end}},e[i][1].end={...u.start},e[n][1].start={...c.end},f=[],e[i][1].end.offset-e[i][1].start.offset&&(f=Zn(f,[["enter",e[i][1],t],["exit",e[i][1],t]])),f=Zn(f,[["enter",s,t],["enter",u,t],["exit",u,t],["enter",o,t]]),f=Zn(f,Yc(t.parser.constructs.insideSpan.null,e.slice(i+1,n),t)),f=Zn(f,[["exit",o,t],["enter",c,t],["exit",c,t],["exit",s,t]]),e[n][1].end.offset-e[n][1].start.offset?(h=2,f=Zn(f,[["enter",e[n][1],t],["exit",e[n][1],t]])):h=0,Hn(e,i-1,n-i+3,f),n=i+f.length-h-2;break}}for(n=-1;++n<e.length;)e[n][1].type==="attentionSequence"&&(e[n][1].type="data");return e}function _k(e,t){const n=this.parser.constructs.attentionMarkers.null,i=this.previous,s=Ss(i);let o;return u;function u(m){return o=m,e.enter("attentionSequence"),c(m)}function c(m){if(m===o)return e.consume(m),c;const f=e.exit("attentionSequence"),h=Ss(m),y=!h||h===2&&s||n.includes(m),v=!s||s===2&&h||n.includes(i);return f._open=!!(o===42?y:y&&(s||!v)),f._close=!!(o===42?v:v&&(h||!y)),t(m)}}function yb(e,t){e.column+=t,e.offset+=t,e._bufferIndex+=t}const Ik={name:"autolink",tokenize:Nk};function Nk(e,t,n){let i=0;return s;function s(S){return e.enter("autolink"),e.enter("autolinkMarker"),e.consume(S),e.exit("autolinkMarker"),e.enter("autolinkProtocol"),o}function o(S){return mn(S)?(e.consume(S),u):S===64?n(S):f(S)}function u(S){return S===43||S===45||S===46||on(S)?(i=1,c(S)):f(S)}function c(S){return S===58?(e.consume(S),i=0,m):(S===43||S===45||S===46||on(S))&&i++<32?(e.consume(S),c):(i=0,f(S))}function m(S){return S===62?(e.exit("autolinkProtocol"),e.enter("autolinkMarker"),e.consume(S),e.exit("autolinkMarker"),e.exit("autolink"),t):S===null||S===32||S===60||_c(S)?n(S):(e.consume(S),m)}function f(S){return S===64?(e.consume(S),h):yk(S)?(e.consume(S),f):n(S)}function h(S){return on(S)?y(S):n(S)}function y(S){return S===46?(e.consume(S),i=0,h):S===62?(e.exit("autolinkProtocol").type="autolinkEmail",e.enter("autolinkMarker"),e.consume(S),e.exit("autolinkMarker"),e.exit("autolink"),t):v(S)}function v(S){if((S===45||on(S))&&i++<63){const _=S===45?v:y;return e.consume(S),_}return n(S)}}const Ml={partial:!0,tokenize:Mk};function Mk(e,t,n){return i;function i(o){return et(o)?at(e,s,"linePrefix")(o):s(o)}function s(o){return o===null||Le(o)?t(o):n(o)}}const xv={continuation:{tokenize:Rk},exit:kk,name:"blockQuote",tokenize:Dk};function Dk(e,t,n){const i=this;return s;function s(u){if(u===62){const c=i.containerState;return c.open||(e.enter("blockQuote",{_container:!0}),c.open=!0),e.enter("blockQuotePrefix"),e.enter("blockQuoteMarker"),e.consume(u),e.exit("blockQuoteMarker"),o}return n(u)}function o(u){return et(u)?(e.enter("blockQuotePrefixWhitespace"),e.consume(u),e.exit("blockQuotePrefixWhitespace"),e.exit("blockQuotePrefix"),t):(e.exit("blockQuotePrefix"),t(u))}}function Rk(e,t,n){const i=this;return s;function s(u){return et(u)?at(e,o,"linePrefix",i.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(u):o(u)}function o(u){return e.attempt(xv,t,n)(u)}}function kk(e){e.exit("blockQuote")}const Ev={name:"characterEscape",tokenize:wk};function wk(e,t,n){return i;function i(o){return e.enter("characterEscape"),e.enter("escapeMarker"),e.consume(o),e.exit("escapeMarker"),s}function s(o){return bk(o)?(e.enter("characterEscapeValue"),e.consume(o),e.exit("characterEscapeValue"),e.exit("characterEscape"),t):n(o)}}const vv={name:"characterReference",tokenize:Lk};function Lk(e,t,n){const i=this;let s=0,o,u;return c;function c(y){return e.enter("characterReference"),e.enter("characterReferenceMarker"),e.consume(y),e.exit("characterReferenceMarker"),m}function m(y){return y===35?(e.enter("characterReferenceMarkerNumeric"),e.consume(y),e.exit("characterReferenceMarkerNumeric"),f):(e.enter("characterReferenceValue"),o=31,u=on,h(y))}function f(y){return y===88||y===120?(e.enter("characterReferenceMarkerHexadecimal"),e.consume(y),e.exit("characterReferenceMarkerHexadecimal"),e.enter("characterReferenceValue"),o=6,u=Tk,h):(e.enter("characterReferenceValue"),o=7,u=yh,h(y))}function h(y){if(y===59&&s){const v=e.exit("characterReferenceValue");return u===on&&!s0(i.sliceSerialize(v))?n(y):(e.enter("characterReferenceMarker"),e.consume(y),e.exit("characterReferenceMarker"),e.exit("characterReference"),t)}return u(y)&&s++<o?(e.consume(y),h):n(y)}}const Tb={partial:!0,tokenize:Pk},bb={concrete:!0,name:"codeFenced",tokenize:Ok};function Ok(e,t,n){const i=this,s={partial:!0,tokenize:K};let o=0,u=0,c;return m;function m(q){return f(q)}function f(q){const ue=i.events[i.events.length-1];return o=ue&&ue[1].type==="linePrefix"?ue[2].sliceSerialize(ue[1],!0).length:0,c=q,e.enter("codeFenced"),e.enter("codeFencedFence"),e.enter("codeFencedFenceSequence"),h(q)}function h(q){return q===c?(u++,e.consume(q),h):u<3?n(q):(e.exit("codeFencedFenceSequence"),et(q)?at(e,y,"whitespace")(q):y(q))}function y(q){return q===null||Le(q)?(e.exit("codeFencedFence"),i.interrupt?t(q):e.check(Tb,I,V)(q)):(e.enter("codeFencedFenceInfo"),e.enter("chunkString",{contentType:"string"}),v(q))}function v(q){return q===null||Le(q)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),y(q)):et(q)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),at(e,S,"whitespace")(q)):q===96&&q===c?n(q):(e.consume(q),v)}function S(q){return q===null||Le(q)?y(q):(e.enter("codeFencedFenceMeta"),e.enter("chunkString",{contentType:"string"}),_(q))}function _(q){return q===null||Le(q)?(e.exit("chunkString"),e.exit("codeFencedFenceMeta"),y(q)):q===96&&q===c?n(q):(e.consume(q),_)}function I(q){return e.attempt(s,V,O)(q)}function O(q){return e.enter("lineEnding"),e.consume(q),e.exit("lineEnding"),D}function D(q){return o>0&&et(q)?at(e,H,"linePrefix",o+1)(q):H(q)}function H(q){return q===null||Le(q)?e.check(Tb,I,V)(q):(e.enter("codeFlowValue"),R(q))}function R(q){return q===null||Le(q)?(e.exit("codeFlowValue"),H(q)):(e.consume(q),R)}function V(q){return e.exit("codeFenced"),t(q)}function K(q,ue,me){let Ae=0;return Y;function Y(re){return q.enter("lineEnding"),q.consume(re),q.exit("lineEnding"),ye}function ye(re){return q.enter("codeFencedFence"),et(re)?at(q,be,"linePrefix",i.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(re):be(re)}function be(re){return re===c?(q.enter("codeFencedFenceSequence"),Se(re)):me(re)}function Se(re){return re===c?(Ae++,q.consume(re),Se):Ae>=u?(q.exit("codeFencedFenceSequence"),et(re)?at(q,pe,"whitespace")(re):pe(re)):me(re)}function pe(re){return re===null||Le(re)?(q.exit("codeFencedFence"),ue(re)):me(re)}}}function Pk(e,t,n){const i=this;return s;function s(u){return u===null?n(u):(e.enter("lineEnding"),e.consume(u),e.exit("lineEnding"),o)}function o(u){return i.parser.lazy[i.now().line]?n(u):t(u)}}const Am={name:"codeIndented",tokenize:Fk},Bk={partial:!0,tokenize:Hk};function Fk(e,t,n){const i=this;return s;function s(f){return e.enter("codeIndented"),at(e,o,"linePrefix",5)(f)}function o(f){const h=i.events[i.events.length-1];return h&&h[1].type==="linePrefix"&&h[2].sliceSerialize(h[1],!0).length>=4?u(f):n(f)}function u(f){return f===null?m(f):Le(f)?e.attempt(Bk,u,m)(f):(e.enter("codeFlowValue"),c(f))}function c(f){return f===null||Le(f)?(e.exit("codeFlowValue"),u(f)):(e.consume(f),c)}function m(f){return e.exit("codeIndented"),t(f)}}function Hk(e,t,n){const i=this;return s;function s(u){return i.parser.lazy[i.now().line]?n(u):Le(u)?(e.enter("lineEnding"),e.consume(u),e.exit("lineEnding"),s):at(e,o,"linePrefix",5)(u)}function o(u){const c=i.events[i.events.length-1];return c&&c[1].type==="linePrefix"&&c[2].sliceSerialize(c[1],!0).length>=4?t(u):Le(u)?s(u):n(u)}}const Uk={name:"codeText",previous:zk,resolve:Vk,tokenize:jk};function Vk(e){let t=e.length-4,n=3,i,s;if((e[n][1].type==="lineEnding"||e[n][1].type==="space")&&(e[t][1].type==="lineEnding"||e[t][1].type==="space")){for(i=n;++i<t;)if(e[i][1].type==="codeTextData"){e[n][1].type="codeTextPadding",e[t][1].type="codeTextPadding",n+=2,t-=2;break}}for(i=n-1,t++;++i<=t;)s===void 0?i!==t&&e[i][1].type!=="lineEnding"&&(s=i):(i===t||e[i][1].type==="lineEnding")&&(e[s][1].type="codeTextData",i!==s+2&&(e[s][1].end=e[i-1][1].end,e.splice(s+2,i-s-2),t-=i-s-2,i=s+2),s=void 0);return e}function zk(e){return e!==96||this.events[this.events.length-1][1].type==="characterEscape"}function jk(e,t,n){let i=0,s,o;return u;function u(y){return e.enter("codeText"),e.enter("codeTextSequence"),c(y)}function c(y){return y===96?(e.consume(y),i++,c):(e.exit("codeTextSequence"),m(y))}function m(y){return y===null?n(y):y===32?(e.enter("space"),e.consume(y),e.exit("space"),m):y===96?(o=e.enter("codeTextSequence"),s=0,h(y)):Le(y)?(e.enter("lineEnding"),e.consume(y),e.exit("lineEnding"),m):(e.enter("codeTextData"),f(y))}function f(y){return y===null||y===32||y===96||Le(y)?(e.exit("codeTextData"),m(y)):(e.consume(y),f)}function h(y){return y===96?(e.consume(y),s++,h):s===i?(e.exit("codeTextSequence"),e.exit("codeText"),t(y)):(o.type="codeTextData",f(y))}}class Gk{constructor(t){this.left=t?[...t]:[],this.right=[]}get(t){if(t<0||t>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+t+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return t<this.left.length?this.left[t]:this.right[this.right.length-t+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(t,n){const i=n??Number.POSITIVE_INFINITY;return i<this.left.length?this.left.slice(t,i):t>this.left.length?this.right.slice(this.right.length-i+this.left.length,this.right.length-t+this.left.length).reverse():this.left.slice(t).concat(this.right.slice(this.right.length-i+this.left.length).reverse())}splice(t,n,i){const s=n||0;this.setCursor(Math.trunc(t));const o=this.right.splice(this.right.length-s,Number.POSITIVE_INFINITY);return i&&jo(this.left,i),o.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(t){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(t)}pushMany(t){this.setCursor(Number.POSITIVE_INFINITY),jo(this.left,t)}unshift(t){this.setCursor(0),this.right.push(t)}unshiftMany(t){this.setCursor(0),jo(this.right,t.reverse())}setCursor(t){if(!(t===this.left.length||t>this.left.length&&this.right.length===0||t<0&&this.left.length===0))if(t<this.left.length){const n=this.left.splice(t,Number.POSITIVE_INFINITY);jo(this.right,n.reverse())}else{const n=this.right.splice(this.left.length+this.right.length-t,Number.POSITIVE_INFINITY);jo(this.left,n.reverse())}}}function jo(e,t){let n=0;if(t.length<1e4)e.push(...t);else for(;n<t.length;)e.push(...t.slice(n,n+1e4)),n+=1e4}function Sv(e){const t={};let n=-1,i,s,o,u,c,m,f;const h=new Gk(e);for(;++n<h.length;){for(;n in t;)n=t[n];if(i=h.get(n),n&&i[1].type==="chunkFlow"&&h.get(n-1)[1].type==="listItemPrefix"&&(m=i[1]._tokenizer.events,o=0,o<m.length&&m[o][1].type==="lineEndingBlank"&&(o+=2),o<m.length&&m[o][1].type==="content"))for(;++o<m.length&&m[o][1].type!=="content";)m[o][1].type==="chunkText"&&(m[o][1]._isInFirstContentOfListItem=!0,o++);if(i[0]==="enter")i[1].contentType&&(Object.assign(t,qk(h,n)),n=t[n],f=!0);else if(i[1]._container){for(o=n,s=void 0;o--;)if(u=h.get(o),u[1].type==="lineEnding"||u[1].type==="lineEndingBlank")u[0]==="enter"&&(s&&(h.get(s)[1].type="lineEndingBlank"),u[1].type="lineEnding",s=o);else if(!(u[1].type==="linePrefix"||u[1].type==="listItemIndent"))break;s&&(i[1].end={...h.get(s)[1].start},c=h.slice(s,n),c.unshift(i),h.splice(s,n-s+1,c))}}return Hn(e,0,Number.POSITIVE_INFINITY,h.slice(0)),!f}function qk(e,t){const n=e.get(t)[1],i=e.get(t)[2];let s=t-1;const o=[];let u=n._tokenizer;u||(u=i.parser[n.contentType](n.start),n._contentTypeTextTrailing&&(u._contentTypeTextTrailing=!0));const c=u.events,m=[],f={};let h,y,v=-1,S=n,_=0,I=0;const O=[I];for(;S;){for(;e.get(++s)[1]!==S;);o.push(s),S._tokenizer||(h=i.sliceStream(S),S.next||h.push(null),y&&u.defineSkip(S.start),S._isInFirstContentOfListItem&&(u._gfmTasklistFirstContentOfListItem=!0),u.write(h),S._isInFirstContentOfListItem&&(u._gfmTasklistFirstContentOfListItem=void 0)),y=S,S=S.next}for(S=n;++v<c.length;)c[v][0]==="exit"&&c[v-1][0]==="enter"&&c[v][1].type===c[v-1][1].type&&c[v][1].start.line!==c[v][1].end.line&&(I=v+1,O.push(I),S._tokenizer=void 0,S.previous=void 0,S=S.next);for(u.events=[],S?(S._tokenizer=void 0,S.previous=void 0):O.pop(),v=O.length;v--;){const D=c.slice(O[v],O[v+1]),H=o.pop();m.push([H,H+D.length-1]),e.splice(H,2,D)}for(m.reverse(),v=-1;++v<m.length;)f[_+m[v][0]]=_+m[v][1],_+=m[v][1]-m[v][0]-1;return f}const Yk={resolve:$k,tokenize:Xk},Kk={partial:!0,tokenize:Wk};function $k(e){return Sv(e),e}function Xk(e,t){let n;return i;function i(c){return e.enter("content"),n=e.enter("chunkContent",{contentType:"content"}),s(c)}function s(c){return c===null?o(c):Le(c)?e.check(Kk,u,o)(c):(e.consume(c),s)}function o(c){return e.exit("chunkContent"),e.exit("content"),t(c)}function u(c){return e.consume(c),e.exit("chunkContent"),n.next=e.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,s}}function Wk(e,t,n){const i=this;return s;function s(u){return e.exit("chunkContent"),e.enter("lineEnding"),e.consume(u),e.exit("lineEnding"),at(e,o,"linePrefix")}function o(u){if(u===null||Le(u))return n(u);const c=i.events[i.events.length-1];return!i.parser.constructs.disable.null.includes("codeIndented")&&c&&c[1].type==="linePrefix"&&c[2].sliceSerialize(c[1],!0).length>=4?t(u):e.interrupt(i.parser.constructs.flow,n,t)(u)}}function Cv(e,t,n,i,s,o,u,c,m){const f=m||Number.POSITIVE_INFINITY;let h=0;return y;function y(D){return D===60?(e.enter(i),e.enter(s),e.enter(o),e.consume(D),e.exit(o),v):D===null||D===32||D===41||_c(D)?n(D):(e.enter(i),e.enter(u),e.enter(c),e.enter("chunkString",{contentType:"string"}),I(D))}function v(D){return D===62?(e.enter(o),e.consume(D),e.exit(o),e.exit(s),e.exit(i),t):(e.enter(c),e.enter("chunkString",{contentType:"string"}),S(D))}function S(D){return D===62?(e.exit("chunkString"),e.exit(c),v(D)):D===null||D===60||Le(D)?n(D):(e.consume(D),D===92?_:S)}function _(D){return D===60||D===62||D===92?(e.consume(D),S):S(D)}function I(D){return!h&&(D===null||D===41||Tt(D))?(e.exit("chunkString"),e.exit(c),e.exit(u),e.exit(i),t(D)):h<f&&D===40?(e.consume(D),h++,I):D===41?(e.consume(D),h--,I):D===null||D===32||D===40||_c(D)?n(D):(e.consume(D),D===92?O:I)}function O(D){return D===40||D===41||D===92?(e.consume(D),I):I(D)}}function Av(e,t,n,i,s,o){const u=this;let c=0,m;return f;function f(S){return e.enter(i),e.enter(s),e.consume(S),e.exit(s),e.enter(o),h}function h(S){return c>999||S===null||S===91||S===93&&!m||S===94&&!c&&"_hiddenFootnoteSupport"in u.parser.constructs?n(S):S===93?(e.exit(o),e.enter(s),e.consume(S),e.exit(s),e.exit(i),t):Le(S)?(e.enter("lineEnding"),e.consume(S),e.exit("lineEnding"),h):(e.enter("chunkString",{contentType:"string"}),y(S))}function y(S){return S===null||S===91||S===93||Le(S)||c++>999?(e.exit("chunkString"),h(S)):(e.consume(S),m||(m=!et(S)),S===92?v:y)}function v(S){return S===91||S===92||S===93?(e.consume(S),c++,y):y(S)}}function _v(e,t,n,i,s,o){let u;return c;function c(v){return v===34||v===39||v===40?(e.enter(i),e.enter(s),e.consume(v),e.exit(s),u=v===40?41:v,m):n(v)}function m(v){return v===u?(e.enter(s),e.consume(v),e.exit(s),e.exit(i),t):(e.enter(o),f(v))}function f(v){return v===u?(e.exit(o),m(u)):v===null?n(v):Le(v)?(e.enter("lineEnding"),e.consume(v),e.exit("lineEnding"),at(e,f,"linePrefix")):(e.enter("chunkString",{contentType:"string"}),h(v))}function h(v){return v===u||v===null||Le(v)?(e.exit("chunkString"),f(v)):(e.consume(v),v===92?y:h)}function y(v){return v===u||v===92?(e.consume(v),h):h(v)}}function el(e,t){let n;return i;function i(s){return Le(s)?(e.enter("lineEnding"),e.consume(s),e.exit("lineEnding"),n=!0,i):et(s)?at(e,i,n?"linePrefix":"lineSuffix")(s):t(s)}}const Qk={name:"definition",tokenize:Zk},Jk={partial:!0,tokenize:ew};function Zk(e,t,n){const i=this;let s;return o;function o(S){return e.enter("definition"),u(S)}function u(S){return Av.call(i,e,c,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(S)}function c(S){return s=fi(i.sliceSerialize(i.events[i.events.length-1][1]).slice(1,-1)),S===58?(e.enter("definitionMarker"),e.consume(S),e.exit("definitionMarker"),m):n(S)}function m(S){return Tt(S)?el(e,f)(S):f(S)}function f(S){return Cv(e,h,n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(S)}function h(S){return e.attempt(Jk,y,y)(S)}function y(S){return et(S)?at(e,v,"whitespace")(S):v(S)}function v(S){return S===null||Le(S)?(e.exit("definition"),i.parser.defined.push(s),t(S)):n(S)}}function ew(e,t,n){return i;function i(c){return Tt(c)?el(e,s)(c):n(c)}function s(c){return _v(e,o,n,"definitionTitle","definitionTitleMarker","definitionTitleString")(c)}function o(c){return et(c)?at(e,u,"whitespace")(c):u(c)}function u(c){return c===null||Le(c)?t(c):n(c)}}const tw={name:"hardBreakEscape",tokenize:nw};function nw(e,t,n){return i;function i(o){return e.enter("hardBreakEscape"),e.consume(o),s}function s(o){return Le(o)?(e.exit("hardBreakEscape"),t(o)):n(o)}}const iw={name:"headingAtx",resolve:aw,tokenize:rw};function aw(e,t){let n=e.length-2,i=3,s,o;return e[i][1].type==="whitespace"&&(i+=2),n-2>i&&e[n][1].type==="whitespace"&&(n-=2),e[n][1].type==="atxHeadingSequence"&&(i===n-1||n-4>i&&e[n-2][1].type==="whitespace")&&(n-=i+1===n?2:4),n>i&&(s={type:"atxHeadingText",start:e[i][1].start,end:e[n][1].end},o={type:"chunkText",start:e[i][1].start,end:e[n][1].end,contentType:"text"},Hn(e,i,n-i+1,[["enter",s,t],["enter",o,t],["exit",o,t],["exit",s,t]])),e}function rw(e,t,n){let i=0;return s;function s(h){return e.enter("atxHeading"),o(h)}function o(h){return e.enter("atxHeadingSequence"),u(h)}function u(h){return h===35&&i++<6?(e.consume(h),u):h===null||Tt(h)?(e.exit("atxHeadingSequence"),c(h)):n(h)}function c(h){return h===35?(e.enter("atxHeadingSequence"),m(h)):h===null||Le(h)?(e.exit("atxHeading"),t(h)):et(h)?at(e,c,"whitespace")(h):(e.enter("atxHeadingText"),f(h))}function m(h){return h===35?(e.consume(h),m):(e.exit("atxHeadingSequence"),c(h))}function f(h){return h===null||h===35||Tt(h)?(e.exit("atxHeadingText"),c(h)):(e.consume(h),f)}}const sw=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],xb=["pre","script","style","textarea"],ow={concrete:!0,name:"htmlFlow",resolveTo:cw,tokenize:dw},lw={partial:!0,tokenize:mw},uw={partial:!0,tokenize:fw};function cw(e){let t=e.length;for(;t--&&!(e[t][0]==="enter"&&e[t][1].type==="htmlFlow"););return t>1&&e[t-2][1].type==="linePrefix"&&(e[t][1].start=e[t-2][1].start,e[t+1][1].start=e[t-2][1].start,e.splice(t-2,2)),e}function dw(e,t,n){const i=this;let s,o,u,c,m;return f;function f(N){return h(N)}function h(N){return e.enter("htmlFlow"),e.enter("htmlFlowData"),e.consume(N),y}function y(N){return N===33?(e.consume(N),v):N===47?(e.consume(N),o=!0,I):N===63?(e.consume(N),s=3,i.interrupt?t:C):mn(N)?(e.consume(N),u=String.fromCharCode(N),O):n(N)}function v(N){return N===45?(e.consume(N),s=2,S):N===91?(e.consume(N),s=5,c=0,_):mn(N)?(e.consume(N),s=4,i.interrupt?t:C):n(N)}function S(N){return N===45?(e.consume(N),i.interrupt?t:C):n(N)}function _(N){const se="CDATA[";return N===se.charCodeAt(c++)?(e.consume(N),c===se.length?i.interrupt?t:be:_):n(N)}function I(N){return mn(N)?(e.consume(N),u=String.fromCharCode(N),O):n(N)}function O(N){if(N===null||N===47||N===62||Tt(N)){const se=N===47,j=u.toLowerCase();return!se&&!o&&xb.includes(j)?(s=1,i.interrupt?t(N):be(N)):sw.includes(u.toLowerCase())?(s=6,se?(e.consume(N),D):i.interrupt?t(N):be(N)):(s=7,i.interrupt&&!i.parser.lazy[i.now().line]?n(N):o?H(N):R(N))}return N===45||on(N)?(e.consume(N),u+=String.fromCharCode(N),O):n(N)}function D(N){return N===62?(e.consume(N),i.interrupt?t:be):n(N)}function H(N){return et(N)?(e.consume(N),H):Y(N)}function R(N){return N===47?(e.consume(N),Y):N===58||N===95||mn(N)?(e.consume(N),V):et(N)?(e.consume(N),R):Y(N)}function V(N){return N===45||N===46||N===58||N===95||on(N)?(e.consume(N),V):K(N)}function K(N){return N===61?(e.consume(N),q):et(N)?(e.consume(N),K):R(N)}function q(N){return N===null||N===60||N===61||N===62||N===96?n(N):N===34||N===39?(e.consume(N),m=N,ue):et(N)?(e.consume(N),q):me(N)}function ue(N){return N===m?(e.consume(N),m=null,Ae):N===null||Le(N)?n(N):(e.consume(N),ue)}function me(N){return N===null||N===34||N===39||N===47||N===60||N===61||N===62||N===96||Tt(N)?K(N):(e.consume(N),me)}function Ae(N){return N===47||N===62||et(N)?R(N):n(N)}function Y(N){return N===62?(e.consume(N),ye):n(N)}function ye(N){return N===null||Le(N)?be(N):et(N)?(e.consume(N),ye):n(N)}function be(N){return N===45&&s===2?(e.consume(N),W):N===60&&s===1?(e.consume(N),z):N===62&&s===4?(e.consume(N),U):N===63&&s===3?(e.consume(N),C):N===93&&s===5?(e.consume(N),L):Le(N)&&(s===6||s===7)?(e.exit("htmlFlowData"),e.check(lw,$,Se)(N)):N===null||Le(N)?(e.exit("htmlFlowData"),Se(N)):(e.consume(N),be)}function Se(N){return e.check(uw,pe,$)(N)}function pe(N){return e.enter("lineEnding"),e.consume(N),e.exit("lineEnding"),re}function re(N){return N===null||Le(N)?Se(N):(e.enter("htmlFlowData"),be(N))}function W(N){return N===45?(e.consume(N),C):be(N)}function z(N){return N===47?(e.consume(N),u="",w):be(N)}function w(N){if(N===62){const se=u.toLowerCase();return xb.includes(se)?(e.consume(N),U):be(N)}return mn(N)&&u.length<8?(e.consume(N),u+=String.fromCharCode(N),w):be(N)}function L(N){return N===93?(e.consume(N),C):be(N)}function C(N){return N===62?(e.consume(N),U):N===45&&s===2?(e.consume(N),C):be(N)}function U(N){return N===null||Le(N)?(e.exit("htmlFlowData"),$(N)):(e.consume(N),U)}function $(N){return e.exit("htmlFlow"),t(N)}}function fw(e,t,n){const i=this;return s;function s(u){return Le(u)?(e.enter("lineEnding"),e.consume(u),e.exit("lineEnding"),o):n(u)}function o(u){return i.parser.lazy[i.now().line]?n(u):t(u)}}function mw(e,t,n){return i;function i(s){return e.enter("lineEnding"),e.consume(s),e.exit("lineEnding"),e.attempt(Ml,t,n)}}const hw={name:"htmlText",tokenize:pw};function pw(e,t,n){const i=this;let s,o,u;return c;function c(C){return e.enter("htmlText"),e.enter("htmlTextData"),e.consume(C),m}function m(C){return C===33?(e.consume(C),f):C===47?(e.consume(C),K):C===63?(e.consume(C),R):mn(C)?(e.consume(C),me):n(C)}function f(C){return C===45?(e.consume(C),h):C===91?(e.consume(C),o=0,_):mn(C)?(e.consume(C),H):n(C)}function h(C){return C===45?(e.consume(C),S):n(C)}function y(C){return C===null?n(C):C===45?(e.consume(C),v):Le(C)?(u=y,z(C)):(e.consume(C),y)}function v(C){return C===45?(e.consume(C),S):y(C)}function S(C){return C===62?W(C):C===45?v(C):y(C)}function _(C){const U="CDATA[";return C===U.charCodeAt(o++)?(e.consume(C),o===U.length?I:_):n(C)}function I(C){return C===null?n(C):C===93?(e.consume(C),O):Le(C)?(u=I,z(C)):(e.consume(C),I)}function O(C){return C===93?(e.consume(C),D):I(C)}function D(C){return C===62?W(C):C===93?(e.consume(C),D):I(C)}function H(C){return C===null||C===62?W(C):Le(C)?(u=H,z(C)):(e.consume(C),H)}function R(C){return C===null?n(C):C===63?(e.consume(C),V):Le(C)?(u=R,z(C)):(e.consume(C),R)}function V(C){return C===62?W(C):R(C)}function K(C){return mn(C)?(e.consume(C),q):n(C)}function q(C){return C===45||on(C)?(e.consume(C),q):ue(C)}function ue(C){return Le(C)?(u=ue,z(C)):et(C)?(e.consume(C),ue):W(C)}function me(C){return C===45||on(C)?(e.consume(C),me):C===47||C===62||Tt(C)?Ae(C):n(C)}function Ae(C){return C===47?(e.consume(C),W):C===58||C===95||mn(C)?(e.consume(C),Y):Le(C)?(u=Ae,z(C)):et(C)?(e.consume(C),Ae):W(C)}function Y(C){return C===45||C===46||C===58||C===95||on(C)?(e.consume(C),Y):ye(C)}function ye(C){return C===61?(e.consume(C),be):Le(C)?(u=ye,z(C)):et(C)?(e.consume(C),ye):Ae(C)}function be(C){return C===null||C===60||C===61||C===62||C===96?n(C):C===34||C===39?(e.consume(C),s=C,Se):Le(C)?(u=be,z(C)):et(C)?(e.consume(C),be):(e.consume(C),pe)}function Se(C){return C===s?(e.consume(C),s=void 0,re):C===null?n(C):Le(C)?(u=Se,z(C)):(e.consume(C),Se)}function pe(C){return C===null||C===34||C===39||C===60||C===61||C===96?n(C):C===47||C===62||Tt(C)?Ae(C):(e.consume(C),pe)}function re(C){return C===47||C===62||Tt(C)?Ae(C):n(C)}function W(C){return C===62?(e.consume(C),e.exit("htmlTextData"),e.exit("htmlText"),t):n(C)}function z(C){return e.exit("htmlTextData"),e.enter("lineEnding"),e.consume(C),e.exit("lineEnding"),w}function w(C){return et(C)?at(e,L,"linePrefix",i.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(C):L(C)}function L(C){return e.enter("htmlTextData"),u(C)}}const o0={name:"labelEnd",resolveAll:bw,resolveTo:xw,tokenize:Ew},gw={tokenize:vw},yw={tokenize:Sw},Tw={tokenize:Cw};function bw(e){let t=-1;const n=[];for(;++t<e.length;){const i=e[t][1];if(n.push(e[t]),i.type==="labelImage"||i.type==="labelLink"||i.type==="labelEnd"){const s=i.type==="labelImage"?4:2;i.type="data",t+=s}}return e.length!==n.length&&Hn(e,0,e.length,n),e}function xw(e,t){let n=e.length,i=0,s,o,u,c;for(;n--;)if(s=e[n][1],o){if(s.type==="link"||s.type==="labelLink"&&s._inactive)break;e[n][0]==="enter"&&s.type==="labelLink"&&(s._inactive=!0)}else if(u){if(e[n][0]==="enter"&&(s.type==="labelImage"||s.type==="labelLink")&&!s._balanced&&(o=n,s.type!=="labelLink")){i=2;break}}else s.type==="labelEnd"&&(u=n);const m={type:e[o][1].type==="labelLink"?"link":"image",start:{...e[o][1].start},end:{...e[e.length-1][1].end}},f={type:"label",start:{...e[o][1].start},end:{...e[u][1].end}},h={type:"labelText",start:{...e[o+i+2][1].end},end:{...e[u-2][1].start}};return c=[["enter",m,t],["enter",f,t]],c=Zn(c,e.slice(o+1,o+i+3)),c=Zn(c,[["enter",h,t]]),c=Zn(c,Yc(t.parser.constructs.insideSpan.null,e.slice(o+i+4,u-3),t)),c=Zn(c,[["exit",h,t],e[u-2],e[u-1],["exit",f,t]]),c=Zn(c,e.slice(u+1)),c=Zn(c,[["exit",m,t]]),Hn(e,o,e.length,c),e}function Ew(e,t,n){const i=this;let s=i.events.length,o,u;for(;s--;)if((i.events[s][1].type==="labelImage"||i.events[s][1].type==="labelLink")&&!i.events[s][1]._balanced){o=i.events[s][1];break}return c;function c(v){return o?o._inactive?y(v):(u=i.parser.defined.includes(fi(i.sliceSerialize({start:o.end,end:i.now()}))),e.enter("labelEnd"),e.enter("labelMarker"),e.consume(v),e.exit("labelMarker"),e.exit("labelEnd"),m):n(v)}function m(v){return v===40?e.attempt(gw,h,u?h:y)(v):v===91?e.attempt(yw,h,u?f:y)(v):u?h(v):y(v)}function f(v){return e.attempt(Tw,h,y)(v)}function h(v){return t(v)}function y(v){return o._balanced=!0,n(v)}}function vw(e,t,n){return i;function i(y){return e.enter("resource"),e.enter("resourceMarker"),e.consume(y),e.exit("resourceMarker"),s}function s(y){return Tt(y)?el(e,o)(y):o(y)}function o(y){return y===41?h(y):Cv(e,u,c,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(y)}function u(y){return Tt(y)?el(e,m)(y):h(y)}function c(y){return n(y)}function m(y){return y===34||y===39||y===40?_v(e,f,n,"resourceTitle","resourceTitleMarker","resourceTitleString")(y):h(y)}function f(y){return Tt(y)?el(e,h)(y):h(y)}function h(y){return y===41?(e.enter("resourceMarker"),e.consume(y),e.exit("resourceMarker"),e.exit("resource"),t):n(y)}}function Sw(e,t,n){const i=this;return s;function s(c){return Av.call(i,e,o,u,"reference","referenceMarker","referenceString")(c)}function o(c){return i.parser.defined.includes(fi(i.sliceSerialize(i.events[i.events.length-1][1]).slice(1,-1)))?t(c):n(c)}function u(c){return n(c)}}function Cw(e,t,n){return i;function i(o){return e.enter("reference"),e.enter("referenceMarker"),e.consume(o),e.exit("referenceMarker"),s}function s(o){return o===93?(e.enter("referenceMarker"),e.consume(o),e.exit("referenceMarker"),e.exit("reference"),t):n(o)}}const Aw={name:"labelStartImage",resolveAll:o0.resolveAll,tokenize:_w};function _w(e,t,n){const i=this;return s;function s(c){return e.enter("labelImage"),e.enter("labelImageMarker"),e.consume(c),e.exit("labelImageMarker"),o}function o(c){return c===91?(e.enter("labelMarker"),e.consume(c),e.exit("labelMarker"),e.exit("labelImage"),u):n(c)}function u(c){return c===94&&"_hiddenFootnoteSupport"in i.parser.constructs?n(c):t(c)}}const Iw={name:"labelStartLink",resolveAll:o0.resolveAll,tokenize:Nw};function Nw(e,t,n){const i=this;return s;function s(u){return e.enter("labelLink"),e.enter("labelMarker"),e.consume(u),e.exit("labelMarker"),e.exit("labelLink"),o}function o(u){return u===94&&"_hiddenFootnoteSupport"in i.parser.constructs?n(u):t(u)}}const _m={name:"lineEnding",tokenize:Mw};function Mw(e,t){return n;function n(i){return e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),at(e,t,"linePrefix")}}const pc={name:"thematicBreak",tokenize:Dw};function Dw(e,t,n){let i=0,s;return o;function o(f){return e.enter("thematicBreak"),u(f)}function u(f){return s=f,c(f)}function c(f){return f===s?(e.enter("thematicBreakSequence"),m(f)):i>=3&&(f===null||Le(f))?(e.exit("thematicBreak"),t(f)):n(f)}function m(f){return f===s?(e.consume(f),i++,m):(e.exit("thematicBreakSequence"),et(f)?at(e,c,"whitespace")(f):c(f))}}const Cn={continuation:{tokenize:Lw},exit:Pw,name:"list",tokenize:ww},Rw={partial:!0,tokenize:Bw},kw={partial:!0,tokenize:Ow};function ww(e,t,n){const i=this,s=i.events[i.events.length-1];let o=s&&s[1].type==="linePrefix"?s[2].sliceSerialize(s[1],!0).length:0,u=0;return c;function c(S){const _=i.containerState.type||(S===42||S===43||S===45?"listUnordered":"listOrdered");if(_==="listUnordered"?!i.containerState.marker||S===i.containerState.marker:yh(S)){if(i.containerState.type||(i.containerState.type=_,e.enter(_,{_container:!0})),_==="listUnordered")return e.enter("listItemPrefix"),S===42||S===45?e.check(pc,n,f)(S):f(S);if(!i.interrupt||S===49)return e.enter("listItemPrefix"),e.enter("listItemValue"),m(S)}return n(S)}function m(S){return yh(S)&&++u<10?(e.consume(S),m):(!i.interrupt||u<2)&&(i.containerState.marker?S===i.containerState.marker:S===41||S===46)?(e.exit("listItemValue"),f(S)):n(S)}function f(S){return e.enter("listItemMarker"),e.consume(S),e.exit("listItemMarker"),i.containerState.marker=i.containerState.marker||S,e.check(Ml,i.interrupt?n:h,e.attempt(Rw,v,y))}function h(S){return i.containerState.initialBlankLine=!0,o++,v(S)}function y(S){return et(S)?(e.enter("listItemPrefixWhitespace"),e.consume(S),e.exit("listItemPrefixWhitespace"),v):n(S)}function v(S){return i.containerState.size=o+i.sliceSerialize(e.exit("listItemPrefix"),!0).length,t(S)}}function Lw(e,t,n){const i=this;return i.containerState._closeFlow=void 0,e.check(Ml,s,o);function s(c){return i.containerState.furtherBlankLines=i.containerState.furtherBlankLines||i.containerState.initialBlankLine,at(e,t,"listItemIndent",i.containerState.size+1)(c)}function o(c){return i.containerState.furtherBlankLines||!et(c)?(i.containerState.furtherBlankLines=void 0,i.containerState.initialBlankLine=void 0,u(c)):(i.containerState.furtherBlankLines=void 0,i.containerState.initialBlankLine=void 0,e.attempt(kw,t,u)(c))}function u(c){return i.containerState._closeFlow=!0,i.interrupt=void 0,at(e,e.attempt(Cn,t,n),"linePrefix",i.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(c)}}function Ow(e,t,n){const i=this;return at(e,s,"listItemIndent",i.containerState.size+1);function s(o){const u=i.events[i.events.length-1];return u&&u[1].type==="listItemIndent"&&u[2].sliceSerialize(u[1],!0).length===i.containerState.size?t(o):n(o)}}function Pw(e){e.exit(this.containerState.type)}function Bw(e,t,n){const i=this;return at(e,s,"listItemPrefixWhitespace",i.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function s(o){const u=i.events[i.events.length-1];return!et(o)&&u&&u[1].type==="listItemPrefixWhitespace"?t(o):n(o)}}const Eb={name:"setextUnderline",resolveTo:Fw,tokenize:Hw};function Fw(e,t){let n=e.length,i,s,o;for(;n--;)if(e[n][0]==="enter"){if(e[n][1].type==="content"){i=n;break}e[n][1].type==="paragraph"&&(s=n)}else e[n][1].type==="content"&&e.splice(n,1),!o&&e[n][1].type==="definition"&&(o=n);const u={type:"setextHeading",start:{...e[i][1].start},end:{...e[e.length-1][1].end}};return e[s][1].type="setextHeadingText",o?(e.splice(s,0,["enter",u,t]),e.splice(o+1,0,["exit",e[i][1],t]),e[i][1].end={...e[o][1].end}):e[i][1]=u,e.push(["exit",u,t]),e}function Hw(e,t,n){const i=this;let s;return o;function o(f){let h=i.events.length,y;for(;h--;)if(i.events[h][1].type!=="lineEnding"&&i.events[h][1].type!=="linePrefix"&&i.events[h][1].type!=="content"){y=i.events[h][1].type==="paragraph";break}return!i.parser.lazy[i.now().line]&&(i.interrupt||y)?(e.enter("setextHeadingLine"),s=f,u(f)):n(f)}function u(f){return e.enter("setextHeadingLineSequence"),c(f)}function c(f){return f===s?(e.consume(f),c):(e.exit("setextHeadingLineSequence"),et(f)?at(e,m,"lineSuffix")(f):m(f))}function m(f){return f===null||Le(f)?(e.exit("setextHeadingLine"),t(f)):n(f)}}const Uw={tokenize:Vw};function Vw(e){const t=this,n=e.attempt(Ml,i,e.attempt(this.parser.constructs.flowInitial,s,at(e,e.attempt(this.parser.constructs.flow,s,e.attempt(Yk,s)),"linePrefix")));return n;function i(o){if(o===null){e.consume(o);return}return e.enter("lineEndingBlank"),e.consume(o),e.exit("lineEndingBlank"),t.currentConstruct=void 0,n}function s(o){if(o===null){e.consume(o);return}return e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),t.currentConstruct=void 0,n}}const zw={resolveAll:Nv()},jw=Iv("string"),Gw=Iv("text");function Iv(e){return{resolveAll:Nv(e==="text"?qw:void 0),tokenize:t};function t(n){const i=this,s=this.parser.constructs[e],o=n.attempt(s,u,c);return u;function u(h){return f(h)?o(h):c(h)}function c(h){if(h===null){n.consume(h);return}return n.enter("data"),n.consume(h),m}function m(h){return f(h)?(n.exit("data"),o(h)):(n.consume(h),m)}function f(h){if(h===null)return!0;const y=s[h];let v=-1;if(y)for(;++v<y.length;){const S=y[v];if(!S.previous||S.previous.call(i,i.previous))return!0}return!1}}}function Nv(e){return t;function t(n,i){let s=-1,o;for(;++s<=n.length;)o===void 0?n[s]&&n[s][1].type==="data"&&(o=s,s++):(!n[s]||n[s][1].type!=="data")&&(s!==o+2&&(n[o][1].end=n[s-1][1].end,n.splice(o+2,s-o-2),s=o+2),o=void 0);return e?e(n,i):n}}function qw(e,t){let n=0;for(;++n<=e.length;)if((n===e.length||e[n][1].type==="lineEnding")&&e[n-1][1].type==="data"){const i=e[n-1][1],s=t.sliceStream(i);let o=s.length,u=-1,c=0,m;for(;o--;){const f=s[o];if(typeof f=="string"){for(u=f.length;f.charCodeAt(u-1)===32;)c++,u--;if(u)break;u=-1}else if(f===-2)m=!0,c++;else if(f!==-1){o++;break}}if(t._contentTypeTextTrailing&&n===e.length&&(c=0),c){const f={type:n===e.length||m||c<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:o?u:i.start._bufferIndex+u,_index:i.start._index+o,line:i.end.line,column:i.end.column-c,offset:i.end.offset-c},end:{...i.end}};i.end={...f.start},i.start.offset===i.end.offset?Object.assign(i,f):(e.splice(n,0,["enter",f,t],["exit",f,t]),n+=2)}n++}return e}const Yw={42:Cn,43:Cn,45:Cn,48:Cn,49:Cn,50:Cn,51:Cn,52:Cn,53:Cn,54:Cn,55:Cn,56:Cn,57:Cn,62:xv},Kw={91:Qk},$w={[-2]:Am,[-1]:Am,32:Am},Xw={35:iw,42:pc,45:[Eb,pc],60:ow,61:Eb,95:pc,96:bb,126:bb},Ww={38:vv,92:Ev},Qw={[-5]:_m,[-4]:_m,[-3]:_m,33:Aw,38:vv,42:Th,60:[Ik,hw],91:Iw,92:[tw,Ev],93:o0,95:Th,96:Uk},Jw={null:[Th,zw]},Zw={null:[42,95]},eL={null:[]},tL=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:Zw,contentInitial:Kw,disable:eL,document:Yw,flow:Xw,flowInitial:$w,insideSpan:Jw,string:Ww,text:Qw},Symbol.toStringTag,{value:"Module"}));function nL(e,t,n){let i={_bufferIndex:-1,_index:0,line:n&&n.line||1,column:n&&n.column||1,offset:n&&n.offset||0};const s={},o=[];let u=[],c=[];const m={attempt:ue(K),check:ue(q),consume:H,enter:R,exit:V,interrupt:ue(q,{interrupt:!0})},f={code:null,containerState:{},defineSkip:I,events:[],now:_,parser:e,previous:null,sliceSerialize:v,sliceStream:S,write:y};let h=t.tokenize.call(f,m);return t.resolveAll&&o.push(t),f;function y(ye){return u=Zn(u,ye),O(),u[u.length-1]!==null?[]:(me(t,0),f.events=Yc(o,f.events,f),f.events)}function v(ye,be){return aL(S(ye),be)}function S(ye){return iL(u,ye)}function _(){const{_bufferIndex:ye,_index:be,line:Se,column:pe,offset:re}=i;return{_bufferIndex:ye,_index:be,line:Se,column:pe,offset:re}}function I(ye){s[ye.line]=ye.column,Y()}function O(){let ye;for(;i._index<u.length;){const be=u[i._index];if(typeof be=="string")for(ye=i._index,i._bufferIndex<0&&(i._bufferIndex=0);i._index===ye&&i._bufferIndex<be.length;)D(be.charCodeAt(i._bufferIndex));else D(be)}}function D(ye){h=h(ye)}function H(ye){Le(ye)?(i.line++,i.column=1,i.offset+=ye===-3?2:1,Y()):ye!==-1&&(i.column++,i.offset++),i._bufferIndex<0?i._index++:(i._bufferIndex++,i._bufferIndex===u[i._index].length&&(i._bufferIndex=-1,i._index++)),f.previous=ye}function R(ye,be){const Se=be||{};return Se.type=ye,Se.start=_(),f.events.push(["enter",Se,f]),c.push(Se),Se}function V(ye){const be=c.pop();return be.end=_(),f.events.push(["exit",be,f]),be}function K(ye,be){me(ye,be.from)}function q(ye,be){be.restore()}function ue(ye,be){return Se;function Se(pe,re,W){let z,w,L,C;return Array.isArray(pe)?$(pe):"tokenize"in pe?$([pe]):U(pe);function U(ie){return _e;function _e(Ce){const Me=Ce!==null&&ie[Ce],ze=Ce!==null&&ie.null,He=[...Array.isArray(Me)?Me:Me?[Me]:[],...Array.isArray(ze)?ze:ze?[ze]:[]];return $(He)(Ce)}}function $(ie){return z=ie,w=0,ie.length===0?W:N(ie[w])}function N(ie){return _e;function _e(Ce){return C=Ae(),L=ie,ie.partial||(f.currentConstruct=ie),ie.name&&f.parser.constructs.disable.null.includes(ie.name)?j():ie.tokenize.call(be?Object.assign(Object.create(f),be):f,m,se,j)(Ce)}}function se(ie){return ye(L,C),re}function j(ie){return C.restore(),++w<z.length?N(z[w]):W}}}function me(ye,be){ye.resolveAll&&!o.includes(ye)&&o.push(ye),ye.resolve&&Hn(f.events,be,f.events.length-be,ye.resolve(f.events.slice(be),f)),ye.resolveTo&&(f.events=ye.resolveTo(f.events,f))}function Ae(){const ye=_(),be=f.previous,Se=f.currentConstruct,pe=f.events.length,re=Array.from(c);return{from:pe,restore:W};function W(){i=ye,f.previous=be,f.currentConstruct=Se,f.events.length=pe,c=re,Y()}}function Y(){i.line in s&&i.column<2&&(i.column=s[i.line],i.offset+=s[i.line]-1)}}function iL(e,t){const n=t.start._index,i=t.start._bufferIndex,s=t.end._index,o=t.end._bufferIndex;let u;if(n===s)u=[e[n].slice(i,o)];else{if(u=e.slice(n,s),i>-1){const c=u[0];typeof c=="string"?u[0]=c.slice(i):u.shift()}o>0&&u.push(e[s].slice(0,o))}return u}function aL(e,t){let n=-1;const i=[];let s;for(;++n<e.length;){const o=e[n];let u;if(typeof o=="string")u=o;else switch(o){case-5:{u="\r";break}case-4:{u=`
`;break}case-3:{u=`\r
`;break}case-2:{u=t?" ":"	";break}case-1:{if(!t&&s)continue;u=" ";break}default:u=String.fromCharCode(o)}s=o===-2,i.push(u)}return i.join("")}function rL(e){const i={constructs:Tv([tL,...(e||{}).extensions||[]]),content:s(xk),defined:[],document:s(vk),flow:s(Uw),lazy:{},string:s(jw),text:s(Gw)};return i;function s(o){return u;function u(c){return nL(i,o,c)}}}function sL(e){for(;!Sv(e););return e}const vb=/[\0\t\n\r]/g;function oL(){let e=1,t="",n=!0,i;return s;function s(o,u,c){const m=[];let f,h,y,v,S;for(o=t+(typeof o=="string"?o.toString():new TextDecoder(u||void 0).decode(o)),y=0,t="",n&&(o.charCodeAt(0)===65279&&y++,n=void 0);y<o.length;){if(vb.lastIndex=y,f=vb.exec(o),v=f&&f.index!==void 0?f.index:o.length,S=o.charCodeAt(v),!f){t=o.slice(y);break}if(S===10&&y===v&&i)m.push(-3),i=void 0;else switch(i&&(m.push(-5),i=void 0),y<v&&(m.push(o.slice(y,v)),e+=v-y),S){case 0:{m.push(65533),e++;break}case 9:{for(h=Math.ceil(e/4)*4,m.push(-2);e++<h;)m.push(-1);break}case 10:{m.push(-4),e=1;break}default:i=!0,e=1}y=v+1}return c&&(i&&m.push(-5),t&&m.push(t),m.push(null)),m}}const lL=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function uL(e){return e.replace(lL,cL)}function cL(e,t,n){if(t)return t;if(n.charCodeAt(0)===35){const s=n.charCodeAt(1),o=s===120||s===88;return bv(n.slice(o?2:1),o?16:10)}return s0(n)||e}const Mv={}.hasOwnProperty;function dL(e,t,n){return typeof t!="string"&&(n=t,t=void 0),fL(n)(sL(rL(n).document().write(oL()(e,t,!0))))}function fL(e){const t={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:o(Fa),autolinkProtocol:Ae,autolinkEmail:Ae,atxHeading:o(ft),blockQuote:o(ze),characterEscape:Ae,characterReference:Ae,codeFenced:o(He),codeFencedFenceInfo:u,codeFencedFenceMeta:u,codeIndented:o(He,u),codeText:o(tt,u),codeTextData:Ae,data:Ae,codeFlowValue:Ae,definition:o(Ge),definitionDestinationString:u,definitionLabelString:u,definitionTitleString:u,emphasis:o(we),hardBreakEscape:o(mt),hardBreakTrailing:o(mt),htmlFlow:o(Rt,u),htmlFlowData:Ae,htmlText:o(Rt,u),htmlTextData:Ae,image:o(vr),label:u,link:o(Fa),listItem:o(Ni),listItemValue:v,listOrdered:o(Wi,y),listUnordered:o(Wi),paragraph:o(Sr),reference:N,referenceString:u,resourceDestinationString:u,resourceTitleString:u,setextHeading:o(ft),strong:o(qt),thematicBreak:o(Cr)},exit:{atxHeading:m(),atxHeadingSequence:K,autolink:m(),autolinkEmail:Me,autolinkProtocol:Ce,blockQuote:m(),characterEscapeValue:Y,characterReferenceMarkerHexadecimal:j,characterReferenceMarkerNumeric:j,characterReferenceValue:ie,characterReference:_e,codeFenced:m(O),codeFencedFence:I,codeFencedFenceInfo:S,codeFencedFenceMeta:_,codeFlowValue:Y,codeIndented:m(D),codeText:m(re),codeTextData:Y,data:Y,definition:m(),definitionDestinationString:V,definitionLabelString:H,definitionTitleString:R,emphasis:m(),hardBreakEscape:m(be),hardBreakTrailing:m(be),htmlFlow:m(Se),htmlFlowData:Y,htmlText:m(pe),htmlTextData:Y,image:m(z),label:L,labelText:w,lineEnding:ye,link:m(W),listItem:m(),listOrdered:m(),listUnordered:m(),paragraph:m(),referenceString:se,resourceDestinationString:C,resourceTitleString:U,resource:$,setextHeading:m(me),setextHeadingLineSequence:ue,setextHeadingText:q,strong:m(),thematicBreak:m()}};Dv(t,(e||{}).mdastExtensions||[]);const n={};return i;function i(le){let Te={type:"root",children:[]};const Re={stack:[Te],tokenStack:[],config:t,enter:c,exit:f,buffer:u,resume:h,data:n},ke=[];let ot=-1;for(;++ot<le.length;)if(le[ot][1].type==="listOrdered"||le[ot][1].type==="listUnordered")if(le[ot][0]==="enter")ke.push(ot);else{const dn=ke.pop();ot=s(le,dn,ot)}for(ot=-1;++ot<le.length;){const dn=t[le[ot][0]];Mv.call(dn,le[ot][1].type)&&dn[le[ot][1].type].call(Object.assign({sliceSerialize:le[ot][2].sliceSerialize},Re),le[ot][1])}if(Re.tokenStack.length>0){const dn=Re.tokenStack[Re.tokenStack.length-1];(dn[1]||Sb).call(Re,void 0,dn[0])}for(Te.position={start:Ea(le.length>0?le[0][1].start:{line:1,column:1,offset:0}),end:Ea(le.length>0?le[le.length-2][1].end:{line:1,column:1,offset:0})},ot=-1;++ot<t.transforms.length;)Te=t.transforms[ot](Te)||Te;return Te}function s(le,Te,Re){let ke=Te-1,ot=-1,dn=!1,ii,tn,Un,nn;for(;++ke<=Re;){const Pt=le[ke];switch(Pt[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{Pt[0]==="enter"?ot++:ot--,nn=void 0;break}case"lineEndingBlank":{Pt[0]==="enter"&&(ii&&!nn&&!ot&&!Un&&(Un=ke),nn=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:nn=void 0}if(!ot&&Pt[0]==="enter"&&Pt[1].type==="listItemPrefix"||ot===-1&&Pt[0]==="exit"&&(Pt[1].type==="listUnordered"||Pt[1].type==="listOrdered")){if(ii){let pn=ke;for(tn=void 0;pn--;){const gn=le[pn];if(gn[1].type==="lineEnding"||gn[1].type==="lineEndingBlank"){if(gn[0]==="exit")continue;tn&&(le[tn][1].type="lineEndingBlank",dn=!0),gn[1].type="lineEnding",tn=pn}else if(!(gn[1].type==="linePrefix"||gn[1].type==="blockQuotePrefix"||gn[1].type==="blockQuotePrefixWhitespace"||gn[1].type==="blockQuoteMarker"||gn[1].type==="listItemIndent"))break}Un&&(!tn||Un<tn)&&(ii._spread=!0),ii.end=Object.assign({},tn?le[tn][1].start:Pt[1].end),le.splice(tn||ke,0,["exit",ii,Pt[2]]),ke++,Re++}if(Pt[1].type==="listItemPrefix"){const pn={type:"listItem",_spread:!1,start:Object.assign({},Pt[1].start),end:void 0};ii=pn,le.splice(ke,0,["enter",pn,Pt[2]]),ke++,Re++,Un=void 0,nn=!0}}}return le[Te][1]._spread=dn,Re}function o(le,Te){return Re;function Re(ke){c.call(this,le(ke),ke),Te&&Te.call(this,ke)}}function u(){this.stack.push({type:"fragment",children:[]})}function c(le,Te,Re){this.stack[this.stack.length-1].children.push(le),this.stack.push(le),this.tokenStack.push([Te,Re||void 0]),le.position={start:Ea(Te.start),end:void 0}}function m(le){return Te;function Te(Re){le&&le.call(this,Re),f.call(this,Re)}}function f(le,Te){const Re=this.stack.pop(),ke=this.tokenStack.pop();if(ke)ke[0].type!==le.type&&(Te?Te.call(this,le,ke[0]):(ke[1]||Sb).call(this,le,ke[0]));else throw new Error("Cannot close `"+le.type+"` ("+Zo({start:le.start,end:le.end})+"): its not open");Re.position.end=Ea(le.end)}function h(){return r0(this.stack.pop())}function y(){this.data.expectingFirstListItemValue=!0}function v(le){if(this.data.expectingFirstListItemValue){const Te=this.stack[this.stack.length-2];Te.start=Number.parseInt(this.sliceSerialize(le),10),this.data.expectingFirstListItemValue=void 0}}function S(){const le=this.resume(),Te=this.stack[this.stack.length-1];Te.lang=le}function _(){const le=this.resume(),Te=this.stack[this.stack.length-1];Te.meta=le}function I(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function O(){const le=this.resume(),Te=this.stack[this.stack.length-1];Te.value=le.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function D(){const le=this.resume(),Te=this.stack[this.stack.length-1];Te.value=le.replace(/(\r?\n|\r)$/g,"")}function H(le){const Te=this.resume(),Re=this.stack[this.stack.length-1];Re.label=Te,Re.identifier=fi(this.sliceSerialize(le)).toLowerCase()}function R(){const le=this.resume(),Te=this.stack[this.stack.length-1];Te.title=le}function V(){const le=this.resume(),Te=this.stack[this.stack.length-1];Te.url=le}function K(le){const Te=this.stack[this.stack.length-1];if(!Te.depth){const Re=this.sliceSerialize(le).length;Te.depth=Re}}function q(){this.data.setextHeadingSlurpLineEnding=!0}function ue(le){const Te=this.stack[this.stack.length-1];Te.depth=this.sliceSerialize(le).codePointAt(0)===61?1:2}function me(){this.data.setextHeadingSlurpLineEnding=void 0}function Ae(le){const Re=this.stack[this.stack.length-1].children;let ke=Re[Re.length-1];(!ke||ke.type!=="text")&&(ke=Ha(),ke.position={start:Ea(le.start),end:void 0},Re.push(ke)),this.stack.push(ke)}function Y(le){const Te=this.stack.pop();Te.value+=this.sliceSerialize(le),Te.position.end=Ea(le.end)}function ye(le){const Te=this.stack[this.stack.length-1];if(this.data.atHardBreak){const Re=Te.children[Te.children.length-1];Re.position.end=Ea(le.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&t.canContainEols.includes(Te.type)&&(Ae.call(this,le),Y.call(this,le))}function be(){this.data.atHardBreak=!0}function Se(){const le=this.resume(),Te=this.stack[this.stack.length-1];Te.value=le}function pe(){const le=this.resume(),Te=this.stack[this.stack.length-1];Te.value=le}function re(){const le=this.resume(),Te=this.stack[this.stack.length-1];Te.value=le}function W(){const le=this.stack[this.stack.length-1];if(this.data.inReference){const Te=this.data.referenceType||"shortcut";le.type+="Reference",le.referenceType=Te,delete le.url,delete le.title}else delete le.identifier,delete le.label;this.data.referenceType=void 0}function z(){const le=this.stack[this.stack.length-1];if(this.data.inReference){const Te=this.data.referenceType||"shortcut";le.type+="Reference",le.referenceType=Te,delete le.url,delete le.title}else delete le.identifier,delete le.label;this.data.referenceType=void 0}function w(le){const Te=this.sliceSerialize(le),Re=this.stack[this.stack.length-2];Re.label=uL(Te),Re.identifier=fi(Te).toLowerCase()}function L(){const le=this.stack[this.stack.length-1],Te=this.resume(),Re=this.stack[this.stack.length-1];if(this.data.inReference=!0,Re.type==="link"){const ke=le.children;Re.children=ke}else Re.alt=Te}function C(){const le=this.resume(),Te=this.stack[this.stack.length-1];Te.url=le}function U(){const le=this.resume(),Te=this.stack[this.stack.length-1];Te.title=le}function $(){this.data.inReference=void 0}function N(){this.data.referenceType="collapsed"}function se(le){const Te=this.resume(),Re=this.stack[this.stack.length-1];Re.label=Te,Re.identifier=fi(this.sliceSerialize(le)).toLowerCase(),this.data.referenceType="full"}function j(le){this.data.characterReferenceType=le.type}function ie(le){const Te=this.sliceSerialize(le),Re=this.data.characterReferenceType;let ke;Re?(ke=bv(Te,Re==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):ke=s0(Te);const ot=this.stack[this.stack.length-1];ot.value+=ke}function _e(le){const Te=this.stack.pop();Te.position.end=Ea(le.end)}function Ce(le){Y.call(this,le);const Te=this.stack[this.stack.length-1];Te.url=this.sliceSerialize(le)}function Me(le){Y.call(this,le);const Te=this.stack[this.stack.length-1];Te.url="mailto:"+this.sliceSerialize(le)}function ze(){return{type:"blockquote",children:[]}}function He(){return{type:"code",lang:null,meta:null,value:""}}function tt(){return{type:"inlineCode",value:""}}function Ge(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function we(){return{type:"emphasis",children:[]}}function ft(){return{type:"heading",depth:0,children:[]}}function mt(){return{type:"break"}}function Rt(){return{type:"html",value:""}}function vr(){return{type:"image",title:null,url:"",alt:null}}function Fa(){return{type:"link",title:null,url:"",children:[]}}function Wi(le){return{type:"list",ordered:le.type==="listOrdered",start:null,spread:le._spread,children:[]}}function Ni(le){return{type:"listItem",spread:le._spread,checked:null,children:[]}}function Sr(){return{type:"paragraph",children:[]}}function qt(){return{type:"strong",children:[]}}function Ha(){return{type:"text",value:""}}function Cr(){return{type:"thematicBreak"}}}function Ea(e){return{line:e.line,column:e.column,offset:e.offset}}function Dv(e,t){let n=-1;for(;++n<t.length;){const i=t[n];Array.isArray(i)?Dv(e,i):mL(e,i)}}function mL(e,t){let n;for(n in t)if(Mv.call(t,n))switch(n){case"canContainEols":{const i=t[n];i&&e[n].push(...i);break}case"transforms":{const i=t[n];i&&e[n].push(...i);break}case"enter":case"exit":{const i=t[n];i&&Object.assign(e[n],i);break}}}function Sb(e,t){throw e?new Error("Cannot close `"+e.type+"` ("+Zo({start:e.start,end:e.end})+"): a different token (`"+t.type+"`, "+Zo({start:t.start,end:t.end})+") is open"):new Error("Cannot close document, a token (`"+t.type+"`, "+Zo({start:t.start,end:t.end})+") is still open")}function hL(e){const t=this;t.parser=n;function n(i){return dL(i,{...t.data("settings"),...e,extensions:t.data("micromarkExtensions")||[],mdastExtensions:t.data("fromMarkdownExtensions")||[]})}}function pL(e,t){const n={type:"element",tagName:"blockquote",properties:{},children:e.wrap(e.all(t),!0)};return e.patch(t,n),e.applyData(t,n)}function gL(e,t){const n={type:"element",tagName:"br",properties:{},children:[]};return e.patch(t,n),[e.applyData(t,n),{type:"text",value:`
`}]}function yL(e,t){const n=t.value?t.value+`
`:"",i={};t.lang&&(i.className=["language-"+t.lang]);let s={type:"element",tagName:"code",properties:i,children:[{type:"text",value:n}]};return t.meta&&(s.data={meta:t.meta}),e.patch(t,s),s=e.applyData(t,s),s={type:"element",tagName:"pre",properties:{},children:[s]},e.patch(t,s),s}function TL(e,t){const n={type:"element",tagName:"del",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function bL(e,t){const n={type:"element",tagName:"em",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function xL(e,t){const n=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",i=String(t.identifier).toUpperCase(),s=Rs(i.toLowerCase()),o=e.footnoteOrder.indexOf(i);let u,c=e.footnoteCounts.get(i);c===void 0?(c=0,e.footnoteOrder.push(i),u=e.footnoteOrder.length):u=o+1,c+=1,e.footnoteCounts.set(i,c);const m={type:"element",tagName:"a",properties:{href:"#"+n+"fn-"+s,id:n+"fnref-"+s+(c>1?"-"+c:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(u)}]};e.patch(t,m);const f={type:"element",tagName:"sup",properties:{},children:[m]};return e.patch(t,f),e.applyData(t,f)}function EL(e,t){const n={type:"element",tagName:"h"+t.depth,properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function vL(e,t){if(e.options.allowDangerousHtml){const n={type:"raw",value:t.value};return e.patch(t,n),e.applyData(t,n)}}function Rv(e,t){const n=t.referenceType;let i="]";if(n==="collapsed"?i+="[]":n==="full"&&(i+="["+(t.label||t.identifier)+"]"),t.type==="imageReference")return[{type:"text",value:"!["+t.alt+i}];const s=e.all(t),o=s[0];o&&o.type==="text"?o.value="["+o.value:s.unshift({type:"text",value:"["});const u=s[s.length-1];return u&&u.type==="text"?u.value+=i:s.push({type:"text",value:i}),s}function SL(e,t){const n=String(t.identifier).toUpperCase(),i=e.definitionById.get(n);if(!i)return Rv(e,t);const s={src:Rs(i.url||""),alt:t.alt};i.title!==null&&i.title!==void 0&&(s.title=i.title);const o={type:"element",tagName:"img",properties:s,children:[]};return e.patch(t,o),e.applyData(t,o)}function CL(e,t){const n={src:Rs(t.url)};t.alt!==null&&t.alt!==void 0&&(n.alt=t.alt),t.title!==null&&t.title!==void 0&&(n.title=t.title);const i={type:"element",tagName:"img",properties:n,children:[]};return e.patch(t,i),e.applyData(t,i)}function AL(e,t){const n={type:"text",value:t.value.replace(/\r?\n|\r/g," ")};e.patch(t,n);const i={type:"element",tagName:"code",properties:{},children:[n]};return e.patch(t,i),e.applyData(t,i)}function _L(e,t){const n=String(t.identifier).toUpperCase(),i=e.definitionById.get(n);if(!i)return Rv(e,t);const s={href:Rs(i.url||"")};i.title!==null&&i.title!==void 0&&(s.title=i.title);const o={type:"element",tagName:"a",properties:s,children:e.all(t)};return e.patch(t,o),e.applyData(t,o)}function IL(e,t){const n={href:Rs(t.url)};t.title!==null&&t.title!==void 0&&(n.title=t.title);const i={type:"element",tagName:"a",properties:n,children:e.all(t)};return e.patch(t,i),e.applyData(t,i)}function NL(e,t,n){const i=e.all(t),s=n?ML(n):kv(t),o={},u=[];if(typeof t.checked=="boolean"){const h=i[0];let y;h&&h.type==="element"&&h.tagName==="p"?y=h:(y={type:"element",tagName:"p",properties:{},children:[]},i.unshift(y)),y.children.length>0&&y.children.unshift({type:"text",value:" "}),y.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:t.checked,disabled:!0},children:[]}),o.className=["task-list-item"]}let c=-1;for(;++c<i.length;){const h=i[c];(s||c!==0||h.type!=="element"||h.tagName!=="p")&&u.push({type:"text",value:`
`}),h.type==="element"&&h.tagName==="p"&&!s?u.push(...h.children):u.push(h)}const m=i[i.length-1];m&&(s||m.type!=="element"||m.tagName!=="p")&&u.push({type:"text",value:`
`});const f={type:"element",tagName:"li",properties:o,children:u};return e.patch(t,f),e.applyData(t,f)}function ML(e){let t=!1;if(e.type==="list"){t=e.spread||!1;const n=e.children;let i=-1;for(;!t&&++i<n.length;)t=kv(n[i])}return t}function kv(e){const t=e.spread;return t??e.children.length>1}function DL(e,t){const n={},i=e.all(t);let s=-1;for(typeof t.start=="number"&&t.start!==1&&(n.start=t.start);++s<i.length;){const u=i[s];if(u.type==="element"&&u.tagName==="li"&&u.properties&&Array.isArray(u.properties.className)&&u.properties.className.includes("task-list-item")){n.className=["contains-task-list"];break}}const o={type:"element",tagName:t.ordered?"ol":"ul",properties:n,children:e.wrap(i,!0)};return e.patch(t,o),e.applyData(t,o)}function RL(e,t){const n={type:"element",tagName:"p",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function kL(e,t){const n={type:"root",children:e.wrap(e.all(t))};return e.patch(t,n),e.applyData(t,n)}function wL(e,t){const n={type:"element",tagName:"strong",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function LL(e,t){const n=e.all(t),i=n.shift(),s=[];if(i){const u={type:"element",tagName:"thead",properties:{},children:e.wrap([i],!0)};e.patch(t.children[0],u),s.push(u)}if(n.length>0){const u={type:"element",tagName:"tbody",properties:{},children:e.wrap(n,!0)},c=_i(t.children[1]),m=Gc(t.children[t.children.length-1]);c&&m&&(u.position={start:c,end:m}),s.push(u)}const o={type:"element",tagName:"table",properties:{},children:e.wrap(s,!0)};return e.patch(t,o),e.applyData(t,o)}function OL(e,t,n){const i=n?n.children:void 0,o=(i?i.indexOf(t):1)===0?"th":"td",u=n&&n.type==="table"?n.align:void 0,c=u?u.length:t.children.length;let m=-1;const f=[];for(;++m<c;){const y=t.children[m],v={},S=u?u[m]:void 0;S&&(v.align=S);let _={type:"element",tagName:o,properties:v,children:[]};y&&(_.children=e.all(y),e.patch(y,_),_=e.applyData(y,_)),f.push(_)}const h={type:"element",tagName:"tr",properties:{},children:e.wrap(f,!0)};return e.patch(t,h),e.applyData(t,h)}function PL(e,t){const n={type:"element",tagName:"td",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}const Cb=9,Ab=32;function BL(e){const t=String(e),n=/\r?\n|\r/g;let i=n.exec(t),s=0;const o=[];for(;i;)o.push(_b(t.slice(s,i.index),s>0,!0),i[0]),s=i.index+i[0].length,i=n.exec(t);return o.push(_b(t.slice(s),s>0,!1)),o.join("")}function _b(e,t,n){let i=0,s=e.length;if(t){let o=e.codePointAt(i);for(;o===Cb||o===Ab;)i++,o=e.codePointAt(i)}if(n){let o=e.codePointAt(s-1);for(;o===Cb||o===Ab;)s--,o=e.codePointAt(s-1)}return s>i?e.slice(i,s):""}function FL(e,t){const n={type:"text",value:BL(String(t.value))};return e.patch(t,n),e.applyData(t,n)}function HL(e,t){const n={type:"element",tagName:"hr",properties:{},children:[]};return e.patch(t,n),e.applyData(t,n)}const UL={blockquote:pL,break:gL,code:yL,delete:TL,emphasis:bL,footnoteReference:xL,heading:EL,html:vL,imageReference:SL,image:CL,inlineCode:AL,linkReference:_L,link:IL,listItem:NL,list:DL,paragraph:RL,root:kL,strong:wL,table:LL,tableCell:PL,tableRow:OL,text:FL,thematicBreak:HL,toml:tc,yaml:tc,definition:tc,footnoteDefinition:tc};function tc(){}const wv=-1,Kc=0,tl=1,Ic=2,l0=3,u0=4,c0=5,d0=6,Lv=7,Ov=8,Ib=typeof self=="object"?self:globalThis,VL=(e,t)=>{const n=(s,o)=>(e.set(o,s),s),i=s=>{if(e.has(s))return e.get(s);const[o,u]=t[s];switch(o){case Kc:case wv:return n(u,s);case tl:{const c=n([],s);for(const m of u)c.push(i(m));return c}case Ic:{const c=n({},s);for(const[m,f]of u)c[i(m)]=i(f);return c}case l0:return n(new Date(u),s);case u0:{const{source:c,flags:m}=u;return n(new RegExp(c,m),s)}case c0:{const c=n(new Map,s);for(const[m,f]of u)c.set(i(m),i(f));return c}case d0:{const c=n(new Set,s);for(const m of u)c.add(i(m));return c}case Lv:{const{name:c,message:m}=u;return n(new Ib[c](m),s)}case Ov:return n(BigInt(u),s);case"BigInt":return n(Object(BigInt(u)),s);case"ArrayBuffer":return n(new Uint8Array(u).buffer,u);case"DataView":{const{buffer:c}=new Uint8Array(u);return n(new DataView(c),u)}}return n(new Ib[o](u),s)};return i},Nb=e=>VL(new Map,e)(0),ds="",{toString:zL}={},{keys:jL}=Object,Go=e=>{const t=typeof e;if(t!=="object"||!e)return[Kc,t];const n=zL.call(e).slice(8,-1);switch(n){case"Array":return[tl,ds];case"Object":return[Ic,ds];case"Date":return[l0,ds];case"RegExp":return[u0,ds];case"Map":return[c0,ds];case"Set":return[d0,ds];case"DataView":return[tl,n]}return n.includes("Array")?[tl,n]:n.includes("Error")?[Lv,n]:[Ic,n]},nc=([e,t])=>e===Kc&&(t==="function"||t==="symbol"),GL=(e,t,n,i)=>{const s=(u,c)=>{const m=i.push(u)-1;return n.set(c,m),m},o=u=>{if(n.has(u))return n.get(u);let[c,m]=Go(u);switch(c){case Kc:{let h=u;switch(m){case"bigint":c=Ov,h=u.toString();break;case"function":case"symbol":if(e)throw new TypeError("unable to serialize "+m);h=null;break;case"undefined":return s([wv],u)}return s([c,h],u)}case tl:{if(m){let v=u;return m==="DataView"?v=new Uint8Array(u.buffer):m==="ArrayBuffer"&&(v=new Uint8Array(u)),s([m,[...v]],u)}const h=[],y=s([c,h],u);for(const v of u)h.push(o(v));return y}case Ic:{if(m)switch(m){case"BigInt":return s([m,u.toString()],u);case"Boolean":case"Number":case"String":return s([m,u.valueOf()],u)}if(t&&"toJSON"in u)return o(u.toJSON());const h=[],y=s([c,h],u);for(const v of jL(u))(e||!nc(Go(u[v])))&&h.push([o(v),o(u[v])]);return y}case l0:return s([c,u.toISOString()],u);case u0:{const{source:h,flags:y}=u;return s([c,{source:h,flags:y}],u)}case c0:{const h=[],y=s([c,h],u);for(const[v,S]of u)(e||!(nc(Go(v))||nc(Go(S))))&&h.push([o(v),o(S)]);return y}case d0:{const h=[],y=s([c,h],u);for(const v of u)(e||!nc(Go(v)))&&h.push(o(v));return y}}const{message:f}=u;return s([c,{name:m,message:f}],u)};return o},Mb=(e,{json:t,lossy:n}={})=>{const i=[];return GL(!(t||n),!!t,new Map,i)(e),i},Cs=typeof structuredClone=="function"?(e,t)=>t&&("json"in t||"lossy"in t)?Nb(Mb(e,t)):structuredClone(e):(e,t)=>Nb(Mb(e,t));function qL(e,t){const n=[{type:"text",value:""}];return t>1&&n.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(t)}]}),n}function YL(e,t){return"Back to reference "+(e+1)+(t>1?"-"+t:"")}function KL(e){const t=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",n=e.options.footnoteBackContent||qL,i=e.options.footnoteBackLabel||YL,s=e.options.footnoteLabel||"Footnotes",o=e.options.footnoteLabelTagName||"h2",u=e.options.footnoteLabelProperties||{className:["sr-only"]},c=[];let m=-1;for(;++m<e.footnoteOrder.length;){const f=e.footnoteById.get(e.footnoteOrder[m]);if(!f)continue;const h=e.all(f),y=String(f.identifier).toUpperCase(),v=Rs(y.toLowerCase());let S=0;const _=[],I=e.footnoteCounts.get(y);for(;I!==void 0&&++S<=I;){_.length>0&&_.push({type:"text",value:" "});let H=typeof n=="string"?n:n(m,S);typeof H=="string"&&(H={type:"text",value:H}),_.push({type:"element",tagName:"a",properties:{href:"#"+t+"fnref-"+v+(S>1?"-"+S:""),dataFootnoteBackref:"",ariaLabel:typeof i=="string"?i:i(m,S),className:["data-footnote-backref"]},children:Array.isArray(H)?H:[H]})}const O=h[h.length-1];if(O&&O.type==="element"&&O.tagName==="p"){const H=O.children[O.children.length-1];H&&H.type==="text"?H.value+=" ":O.children.push({type:"text",value:" "}),O.children.push(..._)}else h.push(..._);const D={type:"element",tagName:"li",properties:{id:t+"fn-"+v},children:e.wrap(h,!0)};e.patch(f,D),c.push(D)}if(c.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:o,properties:{...Cs(u),id:"footnote-label"},children:[{type:"text",value:s}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:e.wrap(c,!0)},{type:"text",value:`
`}]}}const $c=function(e){if(e==null)return QL;if(typeof e=="function")return Xc(e);if(typeof e=="object")return Array.isArray(e)?$L(e):XL(e);if(typeof e=="string")return WL(e);throw new Error("Expected function, string, or object as test")};function $L(e){const t=[];let n=-1;for(;++n<e.length;)t[n]=$c(e[n]);return Xc(i);function i(...s){let o=-1;for(;++o<t.length;)if(t[o].apply(this,s))return!0;return!1}}function XL(e){const t=e;return Xc(n);function n(i){const s=i;let o;for(o in e)if(s[o]!==t[o])return!1;return!0}}function WL(e){return Xc(t);function t(n){return n&&n.type===e}}function Xc(e){return t;function t(n,i,s){return!!(JL(n)&&e.call(this,n,typeof i=="number"?i:void 0,s||void 0))}}function QL(){return!0}function JL(e){return e!==null&&typeof e=="object"&&"type"in e}const Pv=[],ZL=!0,bh=!1,e6="skip";function Bv(e,t,n,i){let s;typeof t=="function"&&typeof n!="function"?(i=n,n=t):s=t;const o=$c(s),u=i?-1:1;c(e,void 0,[])();function c(m,f,h){const y=m&&typeof m=="object"?m:{};if(typeof y.type=="string"){const S=typeof y.tagName=="string"?y.tagName:typeof y.name=="string"?y.name:void 0;Object.defineProperty(v,"name",{value:"node ("+(m.type+(S?"<"+S+">":""))+")"})}return v;function v(){let S=Pv,_,I,O;if((!t||o(m,f,h[h.length-1]||void 0))&&(S=t6(n(m,h)),S[0]===bh))return S;if("children"in m&&m.children){const D=m;if(D.children&&S[0]!==e6)for(I=(i?D.children.length:-1)+u,O=h.concat(D);I>-1&&I<D.children.length;){const H=D.children[I];if(_=c(H,I,O)(),_[0]===bh)return _;I=typeof _[1]=="number"?_[1]:I+u}}return S}}}function t6(e){return Array.isArray(e)?e:typeof e=="number"?[ZL,e]:e==null?Pv:[e]}function Wc(e,t,n,i){let s,o,u;typeof t=="function"&&typeof n!="function"?(o=void 0,u=t,s=n):(o=t,u=n,s=i),Bv(e,o,c,s);function c(m,f){const h=f[f.length-1],y=h?h.children.indexOf(m):void 0;return u(m,y,h)}}const xh={}.hasOwnProperty,n6={};function i6(e,t){const n=t||n6,i=new Map,s=new Map,o=new Map,u={...UL,...n.handlers},c={all:f,applyData:r6,definitionById:i,footnoteById:s,footnoteCounts:o,footnoteOrder:[],handlers:u,one:m,options:n,patch:a6,wrap:o6};return Wc(e,function(h){if(h.type==="definition"||h.type==="footnoteDefinition"){const y=h.type==="definition"?i:s,v=String(h.identifier).toUpperCase();y.has(v)||y.set(v,h)}}),c;function m(h,y){const v=h.type,S=c.handlers[v];if(xh.call(c.handlers,v)&&S)return S(c,h,y);if(c.options.passThrough&&c.options.passThrough.includes(v)){if("children"in h){const{children:I,...O}=h,D=Cs(O);return D.children=c.all(h),D}return Cs(h)}return(c.options.unknownHandler||s6)(c,h,y)}function f(h){const y=[];if("children"in h){const v=h.children;let S=-1;for(;++S<v.length;){const _=c.one(v[S],h);if(_){if(S&&v[S-1].type==="break"&&(!Array.isArray(_)&&_.type==="text"&&(_.value=Db(_.value)),!Array.isArray(_)&&_.type==="element")){const I=_.children[0];I&&I.type==="text"&&(I.value=Db(I.value))}Array.isArray(_)?y.push(..._):y.push(_)}}}return y}}function a6(e,t){e.position&&(t.position=YR(e))}function r6(e,t){let n=t;if(e&&e.data){const i=e.data.hName,s=e.data.hChildren,o=e.data.hProperties;if(typeof i=="string")if(n.type==="element")n.tagName=i;else{const u="children"in n?n.children:[n];n={type:"element",tagName:i,properties:{},children:u}}n.type==="element"&&o&&Object.assign(n.properties,Cs(o)),"children"in n&&n.children&&s!==null&&s!==void 0&&(n.children=s)}return n}function s6(e,t){const n=t.data||{},i="value"in t&&!(xh.call(n,"hProperties")||xh.call(n,"hChildren"))?{type:"text",value:t.value}:{type:"element",tagName:"div",properties:{},children:e.all(t)};return e.patch(t,i),e.applyData(t,i)}function o6(e,t){const n=[];let i=-1;for(t&&n.push({type:"text",value:`
`});++i<e.length;)i&&n.push({type:"text",value:`
`}),n.push(e[i]);return t&&e.length>0&&n.push({type:"text",value:`
`}),n}function Db(e){let t=0,n=e.charCodeAt(t);for(;n===9||n===32;)t++,n=e.charCodeAt(t);return e.slice(t)}function Rb(e,t){const n=i6(e,t),i=n.one(e,void 0),s=KL(n),o=Array.isArray(i)?{type:"root",children:i}:i||{type:"root",children:[]};return s&&o.children.push({type:"text",value:`
`},s),o}function l6(e,t){return e&&"run"in e?async function(n,i){const s=Rb(n,{file:i,...t});await e.run(s,i)}:function(n,i){return Rb(n,{file:i,...e||t})}}function kb(e){if(e)throw e}var Im,wb;function u6(){if(wb)return Im;wb=1;var e=Object.prototype.hasOwnProperty,t=Object.prototype.toString,n=Object.defineProperty,i=Object.getOwnPropertyDescriptor,s=function(f){return typeof Array.isArray=="function"?Array.isArray(f):t.call(f)==="[object Array]"},o=function(f){if(!f||t.call(f)!=="[object Object]")return!1;var h=e.call(f,"constructor"),y=f.constructor&&f.constructor.prototype&&e.call(f.constructor.prototype,"isPrototypeOf");if(f.constructor&&!h&&!y)return!1;var v;for(v in f);return typeof v>"u"||e.call(f,v)},u=function(f,h){n&&h.name==="__proto__"?n(f,h.name,{enumerable:!0,configurable:!0,value:h.newValue,writable:!0}):f[h.name]=h.newValue},c=function(f,h){if(h==="__proto__")if(e.call(f,h)){if(i)return i(f,h).value}else return;return f[h]};return Im=function m(){var f,h,y,v,S,_,I=arguments[0],O=1,D=arguments.length,H=!1;for(typeof I=="boolean"&&(H=I,I=arguments[1]||{},O=2),(I==null||typeof I!="object"&&typeof I!="function")&&(I={});O<D;++O)if(f=arguments[O],f!=null)for(h in f)y=c(I,h),v=c(f,h),I!==v&&(H&&v&&(o(v)||(S=s(v)))?(S?(S=!1,_=y&&s(y)?y:[]):_=y&&o(y)?y:{},u(I,{name:h,newValue:m(H,_,v)})):typeof v<"u"&&u(I,{name:h,newValue:v}));return I},Im}var c6=u6();const Nm=_l(c6);function Eh(e){if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function d6(){const e=[],t={run:n,use:i};return t;function n(...s){let o=-1;const u=s.pop();if(typeof u!="function")throw new TypeError("Expected function as last argument, not "+u);c(null,...s);function c(m,...f){const h=e[++o];let y=-1;if(m){u(m);return}for(;++y<s.length;)(f[y]===null||f[y]===void 0)&&(f[y]=s[y]);s=f,h?f6(h,c)(...f):u(null,...f)}}function i(s){if(typeof s!="function")throw new TypeError("Expected `middelware` to be a function, not "+s);return e.push(s),t}}function f6(e,t){let n;return i;function i(...u){const c=e.length>u.length;let m;c&&u.push(s);try{m=e.apply(this,u)}catch(f){const h=f;if(c&&n)throw h;return s(h)}c||(m&&m.then&&typeof m.then=="function"?m.then(o,s):m instanceof Error?s(m):o(m))}function s(u,...c){n||(n=!0,t(u,...c))}function o(u){s(null,u)}}const xi={basename:m6,dirname:h6,extname:p6,join:g6,sep:"/"};function m6(e,t){if(t!==void 0&&typeof t!="string")throw new TypeError('"ext" argument must be a string');Dl(e);let n=0,i=-1,s=e.length,o;if(t===void 0||t.length===0||t.length>e.length){for(;s--;)if(e.codePointAt(s)===47){if(o){n=s+1;break}}else i<0&&(o=!0,i=s+1);return i<0?"":e.slice(n,i)}if(t===e)return"";let u=-1,c=t.length-1;for(;s--;)if(e.codePointAt(s)===47){if(o){n=s+1;break}}else u<0&&(o=!0,u=s+1),c>-1&&(e.codePointAt(s)===t.codePointAt(c--)?c<0&&(i=s):(c=-1,i=u));return n===i?i=u:i<0&&(i=e.length),e.slice(n,i)}function h6(e){if(Dl(e),e.length===0)return".";let t=-1,n=e.length,i;for(;--n;)if(e.codePointAt(n)===47){if(i){t=n;break}}else i||(i=!0);return t<0?e.codePointAt(0)===47?"/":".":t===1&&e.codePointAt(0)===47?"//":e.slice(0,t)}function p6(e){Dl(e);let t=e.length,n=-1,i=0,s=-1,o=0,u;for(;t--;){const c=e.codePointAt(t);if(c===47){if(u){i=t+1;break}continue}n<0&&(u=!0,n=t+1),c===46?s<0?s=t:o!==1&&(o=1):s>-1&&(o=-1)}return s<0||n<0||o===0||o===1&&s===n-1&&s===i+1?"":e.slice(s,n)}function g6(...e){let t=-1,n;for(;++t<e.length;)Dl(e[t]),e[t]&&(n=n===void 0?e[t]:n+"/"+e[t]);return n===void 0?".":y6(n)}function y6(e){Dl(e);const t=e.codePointAt(0)===47;let n=T6(e,!t);return n.length===0&&!t&&(n="."),n.length>0&&e.codePointAt(e.length-1)===47&&(n+="/"),t?"/"+n:n}function T6(e,t){let n="",i=0,s=-1,o=0,u=-1,c,m;for(;++u<=e.length;){if(u<e.length)c=e.codePointAt(u);else{if(c===47)break;c=47}if(c===47){if(!(s===u-1||o===1))if(s!==u-1&&o===2){if(n.length<2||i!==2||n.codePointAt(n.length-1)!==46||n.codePointAt(n.length-2)!==46){if(n.length>2){if(m=n.lastIndexOf("/"),m!==n.length-1){m<0?(n="",i=0):(n=n.slice(0,m),i=n.length-1-n.lastIndexOf("/")),s=u,o=0;continue}}else if(n.length>0){n="",i=0,s=u,o=0;continue}}t&&(n=n.length>0?n+"/..":"..",i=2)}else n.length>0?n+="/"+e.slice(s+1,u):n=e.slice(s+1,u),i=u-s-1;s=u,o=0}else c===46&&o>-1?o++:o=-1}return n}function Dl(e){if(typeof e!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}const b6={cwd:x6};function x6(){return"/"}function vh(e){return!!(e!==null&&typeof e=="object"&&"href"in e&&e.href&&"protocol"in e&&e.protocol&&e.auth===void 0)}function E6(e){if(typeof e=="string")e=new URL(e);else if(!vh(e)){const t=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+e+"`");throw t.code="ERR_INVALID_ARG_TYPE",t}if(e.protocol!=="file:"){const t=new TypeError("The URL must be of scheme file");throw t.code="ERR_INVALID_URL_SCHEME",t}return v6(e)}function v6(e){if(e.hostname!==""){const i=new TypeError('File URL host must be "localhost" or empty on darwin');throw i.code="ERR_INVALID_FILE_URL_HOST",i}const t=e.pathname;let n=-1;for(;++n<t.length;)if(t.codePointAt(n)===37&&t.codePointAt(n+1)===50){const i=t.codePointAt(n+2);if(i===70||i===102){const s=new TypeError("File URL path must not include encoded / characters");throw s.code="ERR_INVALID_FILE_URL_PATH",s}}return decodeURIComponent(t)}const Mm=["history","path","basename","stem","extname","dirname"];class Fv{constructor(t){let n;t?vh(t)?n={path:t}:typeof t=="string"||S6(t)?n={value:t}:n=t:n={},this.cwd="cwd"in n?"":b6.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let i=-1;for(;++i<Mm.length;){const o=Mm[i];o in n&&n[o]!==void 0&&n[o]!==null&&(this[o]=o==="history"?[...n[o]]:n[o])}let s;for(s in n)Mm.includes(s)||(this[s]=n[s])}get basename(){return typeof this.path=="string"?xi.basename(this.path):void 0}set basename(t){Rm(t,"basename"),Dm(t,"basename"),this.path=xi.join(this.dirname||"",t)}get dirname(){return typeof this.path=="string"?xi.dirname(this.path):void 0}set dirname(t){Lb(this.basename,"dirname"),this.path=xi.join(t||"",this.basename)}get extname(){return typeof this.path=="string"?xi.extname(this.path):void 0}set extname(t){if(Dm(t,"extname"),Lb(this.dirname,"extname"),t){if(t.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(t.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=xi.join(this.dirname,this.stem+(t||""))}get path(){return this.history[this.history.length-1]}set path(t){vh(t)&&(t=E6(t)),Rm(t,"path"),this.path!==t&&this.history.push(t)}get stem(){return typeof this.path=="string"?xi.basename(this.path,this.extname):void 0}set stem(t){Rm(t,"stem"),Dm(t,"stem"),this.path=xi.join(this.dirname||"",t+(this.extname||""))}fail(t,n,i){const s=this.message(t,n,i);throw s.fatal=!0,s}info(t,n,i){const s=this.message(t,n,i);return s.fatal=void 0,s}message(t,n,i){const s=new un(t,n,i);return this.path&&(s.name=this.path+":"+s.name,s.file=this.path),s.fatal=!1,this.messages.push(s),s}toString(t){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(t||void 0).decode(this.value)}}function Dm(e,t){if(e&&e.includes(xi.sep))throw new Error("`"+t+"` cannot be a path: did not expect `"+xi.sep+"`")}function Rm(e,t){if(!e)throw new Error("`"+t+"` cannot be empty")}function Lb(e,t){if(!e)throw new Error("Setting `"+t+"` requires `path` to be set too")}function S6(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const C6=function(e){const i=this.constructor.prototype,s=i[e],o=function(){return s.apply(o,arguments)};return Object.setPrototypeOf(o,i),o},A6={}.hasOwnProperty;class f0 extends C6{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=d6()}copy(){const t=new f0;let n=-1;for(;++n<this.attachers.length;){const i=this.attachers[n];t.use(...i)}return t.data(Nm(!0,{},this.namespace)),t}data(t,n){return typeof t=="string"?arguments.length===2?(Lm("data",this.frozen),this.namespace[t]=n,this):A6.call(this.namespace,t)&&this.namespace[t]||void 0:t?(Lm("data",this.frozen),this.namespace=t,this):this.namespace}freeze(){if(this.frozen)return this;const t=this;for(;++this.freezeIndex<this.attachers.length;){const[n,...i]=this.attachers[this.freezeIndex];if(i[0]===!1)continue;i[0]===!0&&(i[0]=void 0);const s=n.call(t,...i);typeof s=="function"&&this.transformers.use(s)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(t){this.freeze();const n=ic(t),i=this.parser||this.Parser;return km("parse",i),i(String(n),n)}process(t,n){const i=this;return this.freeze(),km("process",this.parser||this.Parser),wm("process",this.compiler||this.Compiler),n?s(void 0,n):new Promise(s);function s(o,u){const c=ic(t),m=i.parse(c);i.run(m,c,function(h,y,v){if(h||!y||!v)return f(h);const S=y,_=i.stringify(S,v);N6(_)?v.value=_:v.result=_,f(h,v)});function f(h,y){h||!y?u(h):o?o(y):n(void 0,y)}}}processSync(t){let n=!1,i;return this.freeze(),km("processSync",this.parser||this.Parser),wm("processSync",this.compiler||this.Compiler),this.process(t,s),Pb("processSync","process",n),i;function s(o,u){n=!0,kb(o),i=u}}run(t,n,i){Ob(t),this.freeze();const s=this.transformers;return!i&&typeof n=="function"&&(i=n,n=void 0),i?o(void 0,i):new Promise(o);function o(u,c){const m=ic(n);s.run(t,m,f);function f(h,y,v){const S=y||t;h?c(h):u?u(S):i(void 0,S,v)}}}runSync(t,n){let i=!1,s;return this.run(t,n,o),Pb("runSync","run",i),s;function o(u,c){kb(u),s=c,i=!0}}stringify(t,n){this.freeze();const i=ic(n),s=this.compiler||this.Compiler;return wm("stringify",s),Ob(t),s(t,i)}use(t,...n){const i=this.attachers,s=this.namespace;if(Lm("use",this.frozen),t!=null)if(typeof t=="function")m(t,n);else if(typeof t=="object")Array.isArray(t)?c(t):u(t);else throw new TypeError("Expected usable value, not `"+t+"`");return this;function o(f){if(typeof f=="function")m(f,[]);else if(typeof f=="object")if(Array.isArray(f)){const[h,...y]=f;m(h,y)}else u(f);else throw new TypeError("Expected usable value, not `"+f+"`")}function u(f){if(!("plugins"in f)&&!("settings"in f))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");c(f.plugins),f.settings&&(s.settings=Nm(!0,s.settings,f.settings))}function c(f){let h=-1;if(f!=null)if(Array.isArray(f))for(;++h<f.length;){const y=f[h];o(y)}else throw new TypeError("Expected a list of plugins, not `"+f+"`")}function m(f,h){let y=-1,v=-1;for(;++y<i.length;)if(i[y][0]===f){v=y;break}if(v===-1)i.push([f,...h]);else if(h.length>0){let[S,..._]=h;const I=i[v][1];Eh(I)&&Eh(S)&&(S=Nm(!0,I,S)),i[v]=[f,S,..._]}}}}const _6=new f0().freeze();function km(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `parser`")}function wm(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `compiler`")}function Lm(e,t){if(t)throw new Error("Cannot call `"+e+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function Ob(e){if(!Eh(e)||typeof e.type!="string")throw new TypeError("Expected node, got `"+e+"`")}function Pb(e,t,n){if(!n)throw new Error("`"+e+"` finished async. Use `"+t+"` instead")}function ic(e){return I6(e)?e:new Fv(e)}function I6(e){return!!(e&&typeof e=="object"&&"message"in e&&"messages"in e)}function N6(e){return typeof e=="string"||M6(e)}function M6(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const D6="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",Bb=[],Fb={allowDangerousHtml:!0},R6=/^(https?|ircs?|mailto|xmpp)$/i,k6=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"className",id:"remove-classname"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function Hv(e){const t=w6(e),n=L6(e);return O6(t.runSync(t.parse(n),n),e)}function w6(e){const t=e.rehypePlugins||Bb,n=e.remarkPlugins||Bb,i=e.remarkRehypeOptions?{...e.remarkRehypeOptions,...Fb}:Fb;return _6().use(hL).use(n).use(l6,i).use(t)}function L6(e){const t=e.children||"",n=new Fv;return typeof t=="string"&&(n.value=t),n}function O6(e,t){const n=t.allowedElements,i=t.allowElement,s=t.components,o=t.disallowedElements,u=t.skipHtml,c=t.unwrapDisallowed,m=t.urlTransform||P6;for(const h of k6)Object.hasOwn(t,h.from)&&(""+h.from+(h.to?"use `"+h.to+"` instead":"remove it")+D6+h.id,void 0);return Wc(e,f),QR(e,{Fragment:g.Fragment,components:s,ignoreInvalidStyle:!0,jsx:g.jsx,jsxs:g.jsxs,passKeys:!0,passNode:!0});function f(h,y,v){if(h.type==="raw"&&v&&typeof y=="number")return u?v.children.splice(y,1):v.children[y]={type:"text",value:h.value},y;if(h.type==="element"){let S;for(S in Cm)if(Object.hasOwn(Cm,S)&&Object.hasOwn(h.properties,S)){const _=h.properties[S],I=Cm[S];(I===null||I.includes(h.tagName))&&(h.properties[S]=m(String(_||""),S,h))}}if(h.type==="element"){let S=n?!n.includes(h.tagName):o?o.includes(h.tagName):!1;if(!S&&i&&typeof y=="number"&&(S=!i(h,y,v)),S&&v&&typeof y=="number")return c&&h.children?v.children.splice(y,1,...h.children):v.children.splice(y,1),y}}}function P6(e){const t=e.indexOf(":"),n=e.indexOf("?"),i=e.indexOf("#"),s=e.indexOf("/");return t===-1||s!==-1&&t>s||n!==-1&&t>n||i!==-1&&t>i||R6.test(e.slice(0,t))?e:""}function Hb(e,t){const n=String(e);if(typeof t!="string")throw new TypeError("Expected character");let i=0,s=n.indexOf(t);for(;s!==-1;)i++,s=n.indexOf(t,s+t.length);return i}function B6(e){if(typeof e!="string")throw new TypeError("Expected a string");return e.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}function F6(e,t,n){const s=$c((n||{}).ignore||[]),o=H6(t);let u=-1;for(;++u<o.length;)Bv(e,"text",c);function c(f,h){let y=-1,v;for(;++y<h.length;){const S=h[y],_=v?v.children:void 0;if(s(S,_?_.indexOf(S):void 0,v))return;v=S}if(v)return m(f,h)}function m(f,h){const y=h[h.length-1],v=o[u][0],S=o[u][1];let _=0;const O=y.children.indexOf(f);let D=!1,H=[];v.lastIndex=0;let R=v.exec(f.value);for(;R;){const V=R.index,K={index:R.index,input:R.input,stack:[...h,f]};let q=S(...R,K);if(typeof q=="string"&&(q=q.length>0?{type:"text",value:q}:void 0),q===!1?v.lastIndex=V+1:(_!==V&&H.push({type:"text",value:f.value.slice(_,V)}),Array.isArray(q)?H.push(...q):q&&H.push(q),_=V+R[0].length,D=!0),!v.global)break;R=v.exec(f.value)}return D?(_<f.value.length&&H.push({type:"text",value:f.value.slice(_)}),y.children.splice(O,1,...H)):H=[f],O+H.length}}function H6(e){const t=[];if(!Array.isArray(e))throw new TypeError("Expected find and replace tuple or list of tuples");const n=!e[0]||Array.isArray(e[0])?e:[e];let i=-1;for(;++i<n.length;){const s=n[i];t.push([U6(s[0]),V6(s[1])])}return t}function U6(e){return typeof e=="string"?new RegExp(B6(e),"g"):e}function V6(e){return typeof e=="function"?e:function(){return e}}const Om="phrasing",Pm=["autolink","link","image","label"];function z6(){return{transforms:[X6],enter:{literalAutolink:G6,literalAutolinkEmail:Bm,literalAutolinkHttp:Bm,literalAutolinkWww:Bm},exit:{literalAutolink:$6,literalAutolinkEmail:K6,literalAutolinkHttp:q6,literalAutolinkWww:Y6}}}function j6(){return{unsafe:[{character:"@",before:"[+\\-.\\w]",after:"[\\-.\\w]",inConstruct:Om,notInConstruct:Pm},{character:".",before:"[Ww]",after:"[\\-.\\w]",inConstruct:Om,notInConstruct:Pm},{character:":",before:"[ps]",after:"\\/",inConstruct:Om,notInConstruct:Pm}]}}function G6(e){this.enter({type:"link",title:null,url:"",children:[]},e)}function Bm(e){this.config.enter.autolinkProtocol.call(this,e)}function q6(e){this.config.exit.autolinkProtocol.call(this,e)}function Y6(e){this.config.exit.data.call(this,e);const t=this.stack[this.stack.length-1];t.type,t.url="http://"+this.sliceSerialize(e)}function K6(e){this.config.exit.autolinkEmail.call(this,e)}function $6(e){this.exit(e)}function X6(e){F6(e,[[/(https?:\/\/|www(?=\.))([-.\w]+)([^ \t\r\n]*)/gi,W6],[new RegExp("(?<=^|\\s|\\p{P}|\\p{S})([-.\\w+]+)@([-\\w]+(?:\\.[-\\w]+)+)","gu"),Q6]],{ignore:["link","linkReference"]})}function W6(e,t,n,i,s){let o="";if(!Uv(s)||(/^w/i.test(t)&&(n=t+n,t="",o="http://"),!J6(n)))return!1;const u=Z6(n+i);if(!u[0])return!1;const c={type:"link",title:null,url:o+t+u[0],children:[{type:"text",value:t+u[0]}]};return u[1]?[c,{type:"text",value:u[1]}]:c}function Q6(e,t,n,i){return!Uv(i,!0)||/[-\d_]$/.test(n)?!1:{type:"link",title:null,url:"mailto:"+t+"@"+n,children:[{type:"text",value:t+"@"+n}]}}function J6(e){const t=e.split(".");return!(t.length<2||t[t.length-1]&&(/_/.test(t[t.length-1])||!/[a-zA-Z\d]/.test(t[t.length-1]))||t[t.length-2]&&(/_/.test(t[t.length-2])||!/[a-zA-Z\d]/.test(t[t.length-2])))}function Z6(e){const t=/[!"&'),.:;<>?\]}]+$/.exec(e);if(!t)return[e,void 0];e=e.slice(0,t.index);let n=t[0],i=n.indexOf(")");const s=Hb(e,"(");let o=Hb(e,")");for(;i!==-1&&s>o;)e+=n.slice(0,i+1),n=n.slice(i+1),i=n.indexOf(")"),o++;return[e,n]}function Uv(e,t){const n=e.input.charCodeAt(e.index-1);return(e.index===0||Tr(n)||qc(n))&&(!t||n!==47)}Vv.peek=l4;function e4(){this.buffer()}function t4(e){this.enter({type:"footnoteReference",identifier:"",label:""},e)}function n4(){this.buffer()}function i4(e){this.enter({type:"footnoteDefinition",identifier:"",label:"",children:[]},e)}function a4(e){const t=this.resume(),n=this.stack[this.stack.length-1];n.type,n.identifier=fi(this.sliceSerialize(e)).toLowerCase(),n.label=t}function r4(e){this.exit(e)}function s4(e){const t=this.resume(),n=this.stack[this.stack.length-1];n.type,n.identifier=fi(this.sliceSerialize(e)).toLowerCase(),n.label=t}function o4(e){this.exit(e)}function l4(){return"["}function Vv(e,t,n,i){const s=n.createTracker(i);let o=s.move("[^");const u=n.enter("footnoteReference"),c=n.enter("reference");return o+=s.move(n.safe(n.associationId(e),{after:"]",before:o})),c(),u(),o+=s.move("]"),o}function u4(){return{enter:{gfmFootnoteCallString:e4,gfmFootnoteCall:t4,gfmFootnoteDefinitionLabelString:n4,gfmFootnoteDefinition:i4},exit:{gfmFootnoteCallString:a4,gfmFootnoteCall:r4,gfmFootnoteDefinitionLabelString:s4,gfmFootnoteDefinition:o4}}}function c4(e){let t=!1;return e&&e.firstLineBlank&&(t=!0),{handlers:{footnoteDefinition:n,footnoteReference:Vv},unsafe:[{character:"[",inConstruct:["label","phrasing","reference"]}]};function n(i,s,o,u){const c=o.createTracker(u);let m=c.move("[^");const f=o.enter("footnoteDefinition"),h=o.enter("label");return m+=c.move(o.safe(o.associationId(i),{before:m,after:"]"})),h(),m+=c.move("]:"),i.children&&i.children.length>0&&(c.shift(4),m+=c.move((t?`
`:" ")+o.indentLines(o.containerFlow(i,c.current()),t?zv:d4))),f(),m}}function d4(e,t,n){return t===0?e:zv(e,t,n)}function zv(e,t,n){return(n?"":"    ")+e}const f4=["autolink","destinationLiteral","destinationRaw","reference","titleQuote","titleApostrophe"];jv.peek=y4;function m4(){return{canContainEols:["delete"],enter:{strikethrough:p4},exit:{strikethrough:g4}}}function h4(){return{unsafe:[{character:"~",inConstruct:"phrasing",notInConstruct:f4}],handlers:{delete:jv}}}function p4(e){this.enter({type:"delete",children:[]},e)}function g4(e){this.exit(e)}function jv(e,t,n,i){const s=n.createTracker(i),o=n.enter("strikethrough");let u=s.move("~~");return u+=n.containerPhrasing(e,{...s.current(),before:u,after:"~"}),u+=s.move("~~"),o(),u}function y4(){return"~"}function T4(e){return e.length}function b4(e,t){const n=t||{},i=(n.align||[]).concat(),s=n.stringLength||T4,o=[],u=[],c=[],m=[];let f=0,h=-1;for(;++h<e.length;){const I=[],O=[];let D=-1;for(e[h].length>f&&(f=e[h].length);++D<e[h].length;){const H=x4(e[h][D]);if(n.alignDelimiters!==!1){const R=s(H);O[D]=R,(m[D]===void 0||R>m[D])&&(m[D]=R)}I.push(H)}u[h]=I,c[h]=O}let y=-1;if(typeof i=="object"&&"length"in i)for(;++y<f;)o[y]=Ub(i[y]);else{const I=Ub(i);for(;++y<f;)o[y]=I}y=-1;const v=[],S=[];for(;++y<f;){const I=o[y];let O="",D="";I===99?(O=":",D=":"):I===108?O=":":I===114&&(D=":");let H=n.alignDelimiters===!1?1:Math.max(1,m[y]-O.length-D.length);const R=O+"-".repeat(H)+D;n.alignDelimiters!==!1&&(H=O.length+H+D.length,H>m[y]&&(m[y]=H),S[y]=H),v[y]=R}u.splice(1,0,v),c.splice(1,0,S),h=-1;const _=[];for(;++h<u.length;){const I=u[h],O=c[h];y=-1;const D=[];for(;++y<f;){const H=I[y]||"";let R="",V="";if(n.alignDelimiters!==!1){const K=m[y]-(O[y]||0),q=o[y];q===114?R=" ".repeat(K):q===99?K%2?(R=" ".repeat(K/2+.5),V=" ".repeat(K/2-.5)):(R=" ".repeat(K/2),V=R):V=" ".repeat(K)}n.delimiterStart!==!1&&!y&&D.push("|"),n.padding!==!1&&!(n.alignDelimiters===!1&&H==="")&&(n.delimiterStart!==!1||y)&&D.push(" "),n.alignDelimiters!==!1&&D.push(R),D.push(H),n.alignDelimiters!==!1&&D.push(V),n.padding!==!1&&D.push(" "),(n.delimiterEnd!==!1||y!==f-1)&&D.push("|")}_.push(n.delimiterEnd===!1?D.join("").replace(/ +$/,""):D.join(""))}return _.join(`
`)}function x4(e){return e==null?"":String(e)}function Ub(e){const t=typeof e=="string"?e.codePointAt(0):0;return t===67||t===99?99:t===76||t===108?108:t===82||t===114?114:0}const Vb={}.hasOwnProperty;function Gv(e,t){const n=t||{};function i(s,...o){let u=i.invalid;const c=i.handlers;if(s&&Vb.call(s,e)){const m=String(s[e]);u=Vb.call(c,m)?c[m]:i.unknown}if(u)return u.call(this,s,...o)}return i.handlers=n.handlers||{},i.invalid=n.invalid,i.unknown=n.unknown,i}function E4(e,t,n,i){const s=n.enter("blockquote"),o=n.createTracker(i);o.move("> "),o.shift(2);const u=n.indentLines(n.containerFlow(e,o.current()),v4);return s(),u}function v4(e,t,n){return">"+(n?"":" ")+e}function S4(e,t){return zb(e,t.inConstruct,!0)&&!zb(e,t.notInConstruct,!1)}function zb(e,t,n){if(typeof t=="string"&&(t=[t]),!t||t.length===0)return n;let i=-1;for(;++i<t.length;)if(e.includes(t[i]))return!0;return!1}function jb(e,t,n,i){let s=-1;for(;++s<n.unsafe.length;)if(n.unsafe[s].character===`
`&&S4(n.stack,n.unsafe[s]))return/[ \t]/.test(i.before)?"":" ";return`\\
`}function C4(e,t){const n=String(e);let i=n.indexOf(t),s=i,o=0,u=0;if(typeof t!="string")throw new TypeError("Expected substring");for(;i!==-1;)i===s?++o>u&&(u=o):o=1,s=i+t.length,i=n.indexOf(t,s);return u}function A4(e,t){return!!(t.options.fences===!1&&e.value&&!e.lang&&/[^ \r\n]/.test(e.value)&&!/^[\t ]*(?:[\r\n]|$)|(?:^|[\r\n])[\t ]*$/.test(e.value))}function _4(e){const t=e.options.fence||"`";if(t!=="`"&&t!=="~")throw new Error("Cannot serialize code with `"+t+"` for `options.fence`, expected `` ` `` or `~`");return t}function I4(e,t,n,i){const s=_4(n),o=e.value||"",u=s==="`"?"GraveAccent":"Tilde";if(A4(e,n)){const y=n.enter("codeIndented"),v=n.indentLines(o,N4);return y(),v}const c=n.createTracker(i),m=s.repeat(Math.max(C4(o,s)+1,3)),f=n.enter("codeFenced");let h=c.move(m);if(e.lang){const y=n.enter(`codeFencedLang${u}`);h+=c.move(n.safe(e.lang,{before:h,after:" ",encode:["`"],...c.current()})),y()}if(e.lang&&e.meta){const y=n.enter(`codeFencedMeta${u}`);h+=c.move(" "),h+=c.move(n.safe(e.meta,{before:h,after:`
`,encode:["`"],...c.current()})),y()}return h+=c.move(`
`),o&&(h+=c.move(o+`
`)),h+=c.move(m),f(),h}function N4(e,t,n){return(n?"":"    ")+e}function m0(e){const t=e.options.quote||'"';if(t!=='"'&&t!=="'")throw new Error("Cannot serialize title with `"+t+"` for `options.quote`, expected `\"`, or `'`");return t}function M4(e,t,n,i){const s=m0(n),o=s==='"'?"Quote":"Apostrophe",u=n.enter("definition");let c=n.enter("label");const m=n.createTracker(i);let f=m.move("[");return f+=m.move(n.safe(n.associationId(e),{before:f,after:"]",...m.current()})),f+=m.move("]: "),c(),!e.url||/[\0- \u007F]/.test(e.url)?(c=n.enter("destinationLiteral"),f+=m.move("<"),f+=m.move(n.safe(e.url,{before:f,after:">",...m.current()})),f+=m.move(">")):(c=n.enter("destinationRaw"),f+=m.move(n.safe(e.url,{before:f,after:e.title?" ":`
`,...m.current()}))),c(),e.title&&(c=n.enter(`title${o}`),f+=m.move(" "+s),f+=m.move(n.safe(e.title,{before:f,after:s,...m.current()})),f+=m.move(s),c()),u(),f}function D4(e){const t=e.options.emphasis||"*";if(t!=="*"&&t!=="_")throw new Error("Cannot serialize emphasis with `"+t+"` for `options.emphasis`, expected `*`, or `_`");return t}function yl(e){return"&#x"+e.toString(16).toUpperCase()+";"}function Nc(e,t,n){const i=Ss(e),s=Ss(t);return i===void 0?s===void 0?n==="_"?{inside:!0,outside:!0}:{inside:!1,outside:!1}:s===1?{inside:!0,outside:!0}:{inside:!1,outside:!0}:i===1?s===void 0?{inside:!1,outside:!1}:s===1?{inside:!0,outside:!0}:{inside:!1,outside:!1}:s===void 0?{inside:!1,outside:!1}:s===1?{inside:!0,outside:!1}:{inside:!1,outside:!1}}qv.peek=R4;function qv(e,t,n,i){const s=D4(n),o=n.enter("emphasis"),u=n.createTracker(i),c=u.move(s);let m=u.move(n.containerPhrasing(e,{after:s,before:c,...u.current()}));const f=m.charCodeAt(0),h=Nc(i.before.charCodeAt(i.before.length-1),f,s);h.inside&&(m=yl(f)+m.slice(1));const y=m.charCodeAt(m.length-1),v=Nc(i.after.charCodeAt(0),y,s);v.inside&&(m=m.slice(0,-1)+yl(y));const S=u.move(s);return o(),n.attentionEncodeSurroundingInfo={after:v.outside,before:h.outside},c+m+S}function R4(e,t,n){return n.options.emphasis||"*"}function k4(e,t){let n=!1;return Wc(e,function(i){if("value"in i&&/\r?\n|\r/.test(i.value)||i.type==="break")return n=!0,bh}),!!((!e.depth||e.depth<3)&&r0(e)&&(t.options.setext||n))}function w4(e,t,n,i){const s=Math.max(Math.min(6,e.depth||1),1),o=n.createTracker(i);if(k4(e,n)){const h=n.enter("headingSetext"),y=n.enter("phrasing"),v=n.containerPhrasing(e,{...o.current(),before:`
`,after:`
`});return y(),h(),v+`
`+(s===1?"=":"-").repeat(v.length-(Math.max(v.lastIndexOf("\r"),v.lastIndexOf(`
`))+1))}const u="#".repeat(s),c=n.enter("headingAtx"),m=n.enter("phrasing");o.move(u+" ");let f=n.containerPhrasing(e,{before:"# ",after:`
`,...o.current()});return/^[\t ]/.test(f)&&(f=yl(f.charCodeAt(0))+f.slice(1)),f=f?u+" "+f:u,n.options.closeAtx&&(f+=" "+u),m(),c(),f}Yv.peek=L4;function Yv(e){return e.value||""}function L4(){return"<"}Kv.peek=O4;function Kv(e,t,n,i){const s=m0(n),o=s==='"'?"Quote":"Apostrophe",u=n.enter("image");let c=n.enter("label");const m=n.createTracker(i);let f=m.move("![");return f+=m.move(n.safe(e.alt,{before:f,after:"]",...m.current()})),f+=m.move("]("),c(),!e.url&&e.title||/[\0- \u007F]/.test(e.url)?(c=n.enter("destinationLiteral"),f+=m.move("<"),f+=m.move(n.safe(e.url,{before:f,after:">",...m.current()})),f+=m.move(">")):(c=n.enter("destinationRaw"),f+=m.move(n.safe(e.url,{before:f,after:e.title?" ":")",...m.current()}))),c(),e.title&&(c=n.enter(`title${o}`),f+=m.move(" "+s),f+=m.move(n.safe(e.title,{before:f,after:s,...m.current()})),f+=m.move(s),c()),f+=m.move(")"),u(),f}function O4(){return"!"}$v.peek=P4;function $v(e,t,n,i){const s=e.referenceType,o=n.enter("imageReference");let u=n.enter("label");const c=n.createTracker(i);let m=c.move("![");const f=n.safe(e.alt,{before:m,after:"]",...c.current()});m+=c.move(f+"]["),u();const h=n.stack;n.stack=[],u=n.enter("reference");const y=n.safe(n.associationId(e),{before:m,after:"]",...c.current()});return u(),n.stack=h,o(),s==="full"||!f||f!==y?m+=c.move(y+"]"):s==="shortcut"?m=m.slice(0,-1):m+=c.move("]"),m}function P4(){return"!"}Xv.peek=B4;function Xv(e,t,n){let i=e.value||"",s="`",o=-1;for(;new RegExp("(^|[^`])"+s+"([^`]|$)").test(i);)s+="`";for(/[^ \r\n]/.test(i)&&(/^[ \r\n]/.test(i)&&/[ \r\n]$/.test(i)||/^`|`$/.test(i))&&(i=" "+i+" ");++o<n.unsafe.length;){const u=n.unsafe[o],c=n.compilePattern(u);let m;if(u.atBreak)for(;m=c.exec(i);){let f=m.index;i.charCodeAt(f)===10&&i.charCodeAt(f-1)===13&&f--,i=i.slice(0,f)+" "+i.slice(m.index+1)}}return s+i+s}function B4(){return"`"}function Wv(e,t){const n=r0(e);return!!(!t.options.resourceLink&&e.url&&!e.title&&e.children&&e.children.length===1&&e.children[0].type==="text"&&(n===e.url||"mailto:"+n===e.url)&&/^[a-z][a-z+.-]+:/i.test(e.url)&&!/[\0- <>\u007F]/.test(e.url))}Qv.peek=F4;function Qv(e,t,n,i){const s=m0(n),o=s==='"'?"Quote":"Apostrophe",u=n.createTracker(i);let c,m;if(Wv(e,n)){const h=n.stack;n.stack=[],c=n.enter("autolink");let y=u.move("<");return y+=u.move(n.containerPhrasing(e,{before:y,after:">",...u.current()})),y+=u.move(">"),c(),n.stack=h,y}c=n.enter("link"),m=n.enter("label");let f=u.move("[");return f+=u.move(n.containerPhrasing(e,{before:f,after:"](",...u.current()})),f+=u.move("]("),m(),!e.url&&e.title||/[\0- \u007F]/.test(e.url)?(m=n.enter("destinationLiteral"),f+=u.move("<"),f+=u.move(n.safe(e.url,{before:f,after:">",...u.current()})),f+=u.move(">")):(m=n.enter("destinationRaw"),f+=u.move(n.safe(e.url,{before:f,after:e.title?" ":")",...u.current()}))),m(),e.title&&(m=n.enter(`title${o}`),f+=u.move(" "+s),f+=u.move(n.safe(e.title,{before:f,after:s,...u.current()})),f+=u.move(s),m()),f+=u.move(")"),c(),f}function F4(e,t,n){return Wv(e,n)?"<":"["}Jv.peek=H4;function Jv(e,t,n,i){const s=e.referenceType,o=n.enter("linkReference");let u=n.enter("label");const c=n.createTracker(i);let m=c.move("[");const f=n.containerPhrasing(e,{before:m,after:"]",...c.current()});m+=c.move(f+"]["),u();const h=n.stack;n.stack=[],u=n.enter("reference");const y=n.safe(n.associationId(e),{before:m,after:"]",...c.current()});return u(),n.stack=h,o(),s==="full"||!f||f!==y?m+=c.move(y+"]"):s==="shortcut"?m=m.slice(0,-1):m+=c.move("]"),m}function H4(){return"["}function h0(e){const t=e.options.bullet||"*";if(t!=="*"&&t!=="+"&&t!=="-")throw new Error("Cannot serialize items with `"+t+"` for `options.bullet`, expected `*`, `+`, or `-`");return t}function U4(e){const t=h0(e),n=e.options.bulletOther;if(!n)return t==="*"?"-":"*";if(n!=="*"&&n!=="+"&&n!=="-")throw new Error("Cannot serialize items with `"+n+"` for `options.bulletOther`, expected `*`, `+`, or `-`");if(n===t)throw new Error("Expected `bullet` (`"+t+"`) and `bulletOther` (`"+n+"`) to be different");return n}function V4(e){const t=e.options.bulletOrdered||".";if(t!=="."&&t!==")")throw new Error("Cannot serialize items with `"+t+"` for `options.bulletOrdered`, expected `.` or `)`");return t}function Zv(e){const t=e.options.rule||"*";if(t!=="*"&&t!=="-"&&t!=="_")throw new Error("Cannot serialize rules with `"+t+"` for `options.rule`, expected `*`, `-`, or `_`");return t}function z4(e,t,n,i){const s=n.enter("list"),o=n.bulletCurrent;let u=e.ordered?V4(n):h0(n);const c=e.ordered?u==="."?")":".":U4(n);let m=t&&n.bulletLastUsed?u===n.bulletLastUsed:!1;if(!e.ordered){const h=e.children?e.children[0]:void 0;if((u==="*"||u==="-")&&h&&(!h.children||!h.children[0])&&n.stack[n.stack.length-1]==="list"&&n.stack[n.stack.length-2]==="listItem"&&n.stack[n.stack.length-3]==="list"&&n.stack[n.stack.length-4]==="listItem"&&n.indexStack[n.indexStack.length-1]===0&&n.indexStack[n.indexStack.length-2]===0&&n.indexStack[n.indexStack.length-3]===0&&(m=!0),Zv(n)===u&&h){let y=-1;for(;++y<e.children.length;){const v=e.children[y];if(v&&v.type==="listItem"&&v.children&&v.children[0]&&v.children[0].type==="thematicBreak"){m=!0;break}}}}m&&(u=c),n.bulletCurrent=u;const f=n.containerFlow(e,i);return n.bulletLastUsed=u,n.bulletCurrent=o,s(),f}function j4(e){const t=e.options.listItemIndent||"one";if(t!=="tab"&&t!=="one"&&t!=="mixed")throw new Error("Cannot serialize items with `"+t+"` for `options.listItemIndent`, expected `tab`, `one`, or `mixed`");return t}function G4(e,t,n,i){const s=j4(n);let o=n.bulletCurrent||h0(n);t&&t.type==="list"&&t.ordered&&(o=(typeof t.start=="number"&&t.start>-1?t.start:1)+(n.options.incrementListMarker===!1?0:t.children.indexOf(e))+o);let u=o.length+1;(s==="tab"||s==="mixed"&&(t&&t.type==="list"&&t.spread||e.spread))&&(u=Math.ceil(u/4)*4);const c=n.createTracker(i);c.move(o+" ".repeat(u-o.length)),c.shift(u);const m=n.enter("listItem"),f=n.indentLines(n.containerFlow(e,c.current()),h);return m(),f;function h(y,v,S){return v?(S?"":" ".repeat(u))+y:(S?o:o+" ".repeat(u-o.length))+y}}function q4(e,t,n,i){const s=n.enter("paragraph"),o=n.enter("phrasing"),u=n.containerPhrasing(e,i);return o(),s(),u}const Y4=$c(["break","delete","emphasis","footnote","footnoteReference","image","imageReference","inlineCode","inlineMath","link","linkReference","mdxJsxTextElement","mdxTextExpression","strong","text","textDirective"]);function K4(e,t,n,i){return(e.children.some(function(u){return Y4(u)})?n.containerPhrasing:n.containerFlow).call(n,e,i)}function $4(e){const t=e.options.strong||"*";if(t!=="*"&&t!=="_")throw new Error("Cannot serialize strong with `"+t+"` for `options.strong`, expected `*`, or `_`");return t}e2.peek=X4;function e2(e,t,n,i){const s=$4(n),o=n.enter("strong"),u=n.createTracker(i),c=u.move(s+s);let m=u.move(n.containerPhrasing(e,{after:s,before:c,...u.current()}));const f=m.charCodeAt(0),h=Nc(i.before.charCodeAt(i.before.length-1),f,s);h.inside&&(m=yl(f)+m.slice(1));const y=m.charCodeAt(m.length-1),v=Nc(i.after.charCodeAt(0),y,s);v.inside&&(m=m.slice(0,-1)+yl(y));const S=u.move(s+s);return o(),n.attentionEncodeSurroundingInfo={after:v.outside,before:h.outside},c+m+S}function X4(e,t,n){return n.options.strong||"*"}function W4(e,t,n,i){return n.safe(e.value,i)}function Q4(e){const t=e.options.ruleRepetition||3;if(t<3)throw new Error("Cannot serialize rules with repetition `"+t+"` for `options.ruleRepetition`, expected `3` or more");return t}function J4(e,t,n){const i=(Zv(n)+(n.options.ruleSpaces?" ":"")).repeat(Q4(n));return n.options.ruleSpaces?i.slice(0,-1):i}const t2={blockquote:E4,break:jb,code:I4,definition:M4,emphasis:qv,hardBreak:jb,heading:w4,html:Yv,image:Kv,imageReference:$v,inlineCode:Xv,link:Qv,linkReference:Jv,list:z4,listItem:G4,paragraph:q4,root:K4,strong:e2,text:W4,thematicBreak:J4};function Z4(){return{enter:{table:eO,tableData:Gb,tableHeader:Gb,tableRow:nO},exit:{codeText:iO,table:tO,tableData:Fm,tableHeader:Fm,tableRow:Fm}}}function eO(e){const t=e._align;this.enter({type:"table",align:t.map(function(n){return n==="none"?null:n}),children:[]},e),this.data.inTable=!0}function tO(e){this.exit(e),this.data.inTable=void 0}function nO(e){this.enter({type:"tableRow",children:[]},e)}function Fm(e){this.exit(e)}function Gb(e){this.enter({type:"tableCell",children:[]},e)}function iO(e){let t=this.resume();this.data.inTable&&(t=t.replace(/\\([\\|])/g,aO));const n=this.stack[this.stack.length-1];n.type,n.value=t,this.exit(e)}function aO(e,t){return t==="|"?t:e}function rO(e){const t=e||{},n=t.tableCellPadding,i=t.tablePipeAlign,s=t.stringLength,o=n?" ":"|";return{unsafe:[{character:"\r",inConstruct:"tableCell"},{character:`
`,inConstruct:"tableCell"},{atBreak:!0,character:"|",after:"[	 :-]"},{character:"|",inConstruct:"tableCell"},{atBreak:!0,character:":",after:"-"},{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{inlineCode:v,table:u,tableCell:m,tableRow:c}};function u(S,_,I,O){return f(h(S,I,O),S.align)}function c(S,_,I,O){const D=y(S,I,O),H=f([D]);return H.slice(0,H.indexOf(`
`))}function m(S,_,I,O){const D=I.enter("tableCell"),H=I.enter("phrasing"),R=I.containerPhrasing(S,{...O,before:o,after:o});return H(),D(),R}function f(S,_){return b4(S,{align:_,alignDelimiters:i,padding:n,stringLength:s})}function h(S,_,I){const O=S.children;let D=-1;const H=[],R=_.enter("table");for(;++D<O.length;)H[D]=y(O[D],_,I);return R(),H}function y(S,_,I){const O=S.children;let D=-1;const H=[],R=_.enter("tableRow");for(;++D<O.length;)H[D]=m(O[D],S,_,I);return R(),H}function v(S,_,I){let O=t2.inlineCode(S,_,I);return I.stack.includes("tableCell")&&(O=O.replace(/\|/g,"\\$&")),O}}function sO(){return{exit:{taskListCheckValueChecked:qb,taskListCheckValueUnchecked:qb,paragraph:lO}}}function oO(){return{unsafe:[{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{listItem:uO}}}function qb(e){const t=this.stack[this.stack.length-2];t.type,t.checked=e.type==="taskListCheckValueChecked"}function lO(e){const t=this.stack[this.stack.length-2];if(t&&t.type==="listItem"&&typeof t.checked=="boolean"){const n=this.stack[this.stack.length-1];n.type;const i=n.children[0];if(i&&i.type==="text"){const s=t.children;let o=-1,u;for(;++o<s.length;){const c=s[o];if(c.type==="paragraph"){u=c;break}}u===n&&(i.value=i.value.slice(1),i.value.length===0?n.children.shift():n.position&&i.position&&typeof i.position.start.offset=="number"&&(i.position.start.column++,i.position.start.offset++,n.position.start=Object.assign({},i.position.start)))}}this.exit(e)}function uO(e,t,n,i){const s=e.children[0],o=typeof e.checked=="boolean"&&s&&s.type==="paragraph",u="["+(e.checked?"x":" ")+"] ",c=n.createTracker(i);o&&c.move(u);let m=t2.listItem(e,t,n,{...i,...c.current()});return o&&(m=m.replace(/^(?:[*+-]|\d+\.)([\r\n]| {1,3})/,f)),m;function f(h){return h+u}}function cO(){return[z6(),u4(),m4(),Z4(),sO()]}function dO(e){return{extensions:[j6(),c4(e),h4(),rO(e),oO()]}}const fO={tokenize:TO,partial:!0},n2={tokenize:bO,partial:!0},i2={tokenize:xO,partial:!0},a2={tokenize:EO,partial:!0},mO={tokenize:vO,partial:!0},r2={name:"wwwAutolink",tokenize:gO,previous:o2},s2={name:"protocolAutolink",tokenize:yO,previous:l2},Xi={name:"emailAutolink",tokenize:pO,previous:u2},Ii={};function hO(){return{text:Ii}}let sr=48;for(;sr<123;)Ii[sr]=Xi,sr++,sr===58?sr=65:sr===91&&(sr=97);Ii[43]=Xi;Ii[45]=Xi;Ii[46]=Xi;Ii[95]=Xi;Ii[72]=[Xi,s2];Ii[104]=[Xi,s2];Ii[87]=[Xi,r2];Ii[119]=[Xi,r2];function pO(e,t,n){const i=this;let s,o;return u;function u(y){return!Sh(y)||!u2.call(i,i.previous)||p0(i.events)?n(y):(e.enter("literalAutolink"),e.enter("literalAutolinkEmail"),c(y))}function c(y){return Sh(y)?(e.consume(y),c):y===64?(e.consume(y),m):n(y)}function m(y){return y===46?e.check(mO,h,f)(y):y===45||y===95||on(y)?(o=!0,e.consume(y),m):h(y)}function f(y){return e.consume(y),s=!0,m}function h(y){return o&&s&&mn(i.previous)?(e.exit("literalAutolinkEmail"),e.exit("literalAutolink"),t(y)):n(y)}}function gO(e,t,n){const i=this;return s;function s(u){return u!==87&&u!==119||!o2.call(i,i.previous)||p0(i.events)?n(u):(e.enter("literalAutolink"),e.enter("literalAutolinkWww"),e.check(fO,e.attempt(n2,e.attempt(i2,o),n),n)(u))}function o(u){return e.exit("literalAutolinkWww"),e.exit("literalAutolink"),t(u)}}function yO(e,t,n){const i=this;let s="",o=!1;return u;function u(y){return(y===72||y===104)&&l2.call(i,i.previous)&&!p0(i.events)?(e.enter("literalAutolink"),e.enter("literalAutolinkHttp"),s+=String.fromCodePoint(y),e.consume(y),c):n(y)}function c(y){if(mn(y)&&s.length<5)return s+=String.fromCodePoint(y),e.consume(y),c;if(y===58){const v=s.toLowerCase();if(v==="http"||v==="https")return e.consume(y),m}return n(y)}function m(y){return y===47?(e.consume(y),o?f:(o=!0,m)):n(y)}function f(y){return y===null||_c(y)||Tt(y)||Tr(y)||qc(y)?n(y):e.attempt(n2,e.attempt(i2,h),n)(y)}function h(y){return e.exit("literalAutolinkHttp"),e.exit("literalAutolink"),t(y)}}function TO(e,t,n){let i=0;return s;function s(u){return(u===87||u===119)&&i<3?(i++,e.consume(u),s):u===46&&i===3?(e.consume(u),o):n(u)}function o(u){return u===null?n(u):t(u)}}function bO(e,t,n){let i,s,o;return u;function u(f){return f===46||f===95?e.check(a2,m,c)(f):f===null||Tt(f)||Tr(f)||f!==45&&qc(f)?m(f):(o=!0,e.consume(f),u)}function c(f){return f===95?i=!0:(s=i,i=void 0),e.consume(f),u}function m(f){return s||i||!o?n(f):t(f)}}function xO(e,t){let n=0,i=0;return s;function s(u){return u===40?(n++,e.consume(u),s):u===41&&i<n?o(u):u===33||u===34||u===38||u===39||u===41||u===42||u===44||u===46||u===58||u===59||u===60||u===63||u===93||u===95||u===126?e.check(a2,t,o)(u):u===null||Tt(u)||Tr(u)?t(u):(e.consume(u),s)}function o(u){return u===41&&i++,e.consume(u),s}}function EO(e,t,n){return i;function i(c){return c===33||c===34||c===39||c===41||c===42||c===44||c===46||c===58||c===59||c===63||c===95||c===126?(e.consume(c),i):c===38?(e.consume(c),o):c===93?(e.consume(c),s):c===60||c===null||Tt(c)||Tr(c)?t(c):n(c)}function s(c){return c===null||c===40||c===91||Tt(c)||Tr(c)?t(c):i(c)}function o(c){return mn(c)?u(c):n(c)}function u(c){return c===59?(e.consume(c),i):mn(c)?(e.consume(c),u):n(c)}}function vO(e,t,n){return i;function i(o){return e.consume(o),s}function s(o){return on(o)?n(o):t(o)}}function o2(e){return e===null||e===40||e===42||e===95||e===91||e===93||e===126||Tt(e)}function l2(e){return!mn(e)}function u2(e){return!(e===47||Sh(e))}function Sh(e){return e===43||e===45||e===46||e===95||on(e)}function p0(e){let t=e.length,n=!1;for(;t--;){const i=e[t][1];if((i.type==="labelLink"||i.type==="labelImage")&&!i._balanced){n=!0;break}if(i._gfmAutolinkLiteralWalkedInto){n=!1;break}}return e.length>0&&!n&&(e[e.length-1][1]._gfmAutolinkLiteralWalkedInto=!0),n}const SO={tokenize:RO,partial:!0};function CO(){return{document:{91:{name:"gfmFootnoteDefinition",tokenize:NO,continuation:{tokenize:MO},exit:DO}},text:{91:{name:"gfmFootnoteCall",tokenize:IO},93:{name:"gfmPotentialFootnoteCall",add:"after",tokenize:AO,resolveTo:_O}}}}function AO(e,t,n){const i=this;let s=i.events.length;const o=i.parser.gfmFootnotes||(i.parser.gfmFootnotes=[]);let u;for(;s--;){const m=i.events[s][1];if(m.type==="labelImage"){u=m;break}if(m.type==="gfmFootnoteCall"||m.type==="labelLink"||m.type==="label"||m.type==="image"||m.type==="link")break}return c;function c(m){if(!u||!u._balanced)return n(m);const f=fi(i.sliceSerialize({start:u.end,end:i.now()}));return f.codePointAt(0)!==94||!o.includes(f.slice(1))?n(m):(e.enter("gfmFootnoteCallLabelMarker"),e.consume(m),e.exit("gfmFootnoteCallLabelMarker"),t(m))}}function _O(e,t){let n=e.length;for(;n--;)if(e[n][1].type==="labelImage"&&e[n][0]==="enter"){e[n][1];break}e[n+1][1].type="data",e[n+3][1].type="gfmFootnoteCallLabelMarker";const i={type:"gfmFootnoteCall",start:Object.assign({},e[n+3][1].start),end:Object.assign({},e[e.length-1][1].end)},s={type:"gfmFootnoteCallMarker",start:Object.assign({},e[n+3][1].end),end:Object.assign({},e[n+3][1].end)};s.end.column++,s.end.offset++,s.end._bufferIndex++;const o={type:"gfmFootnoteCallString",start:Object.assign({},s.end),end:Object.assign({},e[e.length-1][1].start)},u={type:"chunkString",contentType:"string",start:Object.assign({},o.start),end:Object.assign({},o.end)},c=[e[n+1],e[n+2],["enter",i,t],e[n+3],e[n+4],["enter",s,t],["exit",s,t],["enter",o,t],["enter",u,t],["exit",u,t],["exit",o,t],e[e.length-2],e[e.length-1],["exit",i,t]];return e.splice(n,e.length-n+1,...c),e}function IO(e,t,n){const i=this,s=i.parser.gfmFootnotes||(i.parser.gfmFootnotes=[]);let o=0,u;return c;function c(y){return e.enter("gfmFootnoteCall"),e.enter("gfmFootnoteCallLabelMarker"),e.consume(y),e.exit("gfmFootnoteCallLabelMarker"),m}function m(y){return y!==94?n(y):(e.enter("gfmFootnoteCallMarker"),e.consume(y),e.exit("gfmFootnoteCallMarker"),e.enter("gfmFootnoteCallString"),e.enter("chunkString").contentType="string",f)}function f(y){if(o>999||y===93&&!u||y===null||y===91||Tt(y))return n(y);if(y===93){e.exit("chunkString");const v=e.exit("gfmFootnoteCallString");return s.includes(fi(i.sliceSerialize(v)))?(e.enter("gfmFootnoteCallLabelMarker"),e.consume(y),e.exit("gfmFootnoteCallLabelMarker"),e.exit("gfmFootnoteCall"),t):n(y)}return Tt(y)||(u=!0),o++,e.consume(y),y===92?h:f}function h(y){return y===91||y===92||y===93?(e.consume(y),o++,f):f(y)}}function NO(e,t,n){const i=this,s=i.parser.gfmFootnotes||(i.parser.gfmFootnotes=[]);let o,u=0,c;return m;function m(_){return e.enter("gfmFootnoteDefinition")._container=!0,e.enter("gfmFootnoteDefinitionLabel"),e.enter("gfmFootnoteDefinitionLabelMarker"),e.consume(_),e.exit("gfmFootnoteDefinitionLabelMarker"),f}function f(_){return _===94?(e.enter("gfmFootnoteDefinitionMarker"),e.consume(_),e.exit("gfmFootnoteDefinitionMarker"),e.enter("gfmFootnoteDefinitionLabelString"),e.enter("chunkString").contentType="string",h):n(_)}function h(_){if(u>999||_===93&&!c||_===null||_===91||Tt(_))return n(_);if(_===93){e.exit("chunkString");const I=e.exit("gfmFootnoteDefinitionLabelString");return o=fi(i.sliceSerialize(I)),e.enter("gfmFootnoteDefinitionLabelMarker"),e.consume(_),e.exit("gfmFootnoteDefinitionLabelMarker"),e.exit("gfmFootnoteDefinitionLabel"),v}return Tt(_)||(c=!0),u++,e.consume(_),_===92?y:h}function y(_){return _===91||_===92||_===93?(e.consume(_),u++,h):h(_)}function v(_){return _===58?(e.enter("definitionMarker"),e.consume(_),e.exit("definitionMarker"),s.includes(o)||s.push(o),at(e,S,"gfmFootnoteDefinitionWhitespace")):n(_)}function S(_){return t(_)}}function MO(e,t,n){return e.check(Ml,t,e.attempt(SO,t,n))}function DO(e){e.exit("gfmFootnoteDefinition")}function RO(e,t,n){const i=this;return at(e,s,"gfmFootnoteDefinitionIndent",5);function s(o){const u=i.events[i.events.length-1];return u&&u[1].type==="gfmFootnoteDefinitionIndent"&&u[2].sliceSerialize(u[1],!0).length===4?t(o):n(o)}}function kO(e){let n=(e||{}).singleTilde;const i={name:"strikethrough",tokenize:o,resolveAll:s};return n==null&&(n=!0),{text:{126:i},insideSpan:{null:[i]},attentionMarkers:{null:[126]}};function s(u,c){let m=-1;for(;++m<u.length;)if(u[m][0]==="enter"&&u[m][1].type==="strikethroughSequenceTemporary"&&u[m][1]._close){let f=m;for(;f--;)if(u[f][0]==="exit"&&u[f][1].type==="strikethroughSequenceTemporary"&&u[f][1]._open&&u[m][1].end.offset-u[m][1].start.offset===u[f][1].end.offset-u[f][1].start.offset){u[m][1].type="strikethroughSequence",u[f][1].type="strikethroughSequence";const h={type:"strikethrough",start:Object.assign({},u[f][1].start),end:Object.assign({},u[m][1].end)},y={type:"strikethroughText",start:Object.assign({},u[f][1].end),end:Object.assign({},u[m][1].start)},v=[["enter",h,c],["enter",u[f][1],c],["exit",u[f][1],c],["enter",y,c]],S=c.parser.constructs.insideSpan.null;S&&Hn(v,v.length,0,Yc(S,u.slice(f+1,m),c)),Hn(v,v.length,0,[["exit",y,c],["enter",u[m][1],c],["exit",u[m][1],c],["exit",h,c]]),Hn(u,f-1,m-f+3,v),m=f+v.length-2;break}}for(m=-1;++m<u.length;)u[m][1].type==="strikethroughSequenceTemporary"&&(u[m][1].type="data");return u}function o(u,c,m){const f=this.previous,h=this.events;let y=0;return v;function v(_){return f===126&&h[h.length-1][1].type!=="characterEscape"?m(_):(u.enter("strikethroughSequenceTemporary"),S(_))}function S(_){const I=Ss(f);if(_===126)return y>1?m(_):(u.consume(_),y++,S);if(y<2&&!n)return m(_);const O=u.exit("strikethroughSequenceTemporary"),D=Ss(_);return O._open=!D||D===2&&!!I,O._close=!I||I===2&&!!D,c(_)}}}class wO{constructor(){this.map=[]}add(t,n,i){LO(this,t,n,i)}consume(t){if(this.map.sort(function(o,u){return o[0]-u[0]}),this.map.length===0)return;let n=this.map.length;const i=[];for(;n>0;)n-=1,i.push(t.slice(this.map[n][0]+this.map[n][1]),this.map[n][2]),t.length=this.map[n][0];i.push(t.slice()),t.length=0;let s=i.pop();for(;s;){for(const o of s)t.push(o);s=i.pop()}this.map.length=0}}function LO(e,t,n,i){let s=0;if(!(n===0&&i.length===0)){for(;s<e.map.length;){if(e.map[s][0]===t){e.map[s][1]+=n,e.map[s][2].push(...i);return}s+=1}e.map.push([t,n,i])}}function OO(e,t){let n=!1;const i=[];for(;t<e.length;){const s=e[t];if(n){if(s[0]==="enter")s[1].type==="tableContent"&&i.push(e[t+1][1].type==="tableDelimiterMarker"?"left":"none");else if(s[1].type==="tableContent"){if(e[t-1][1].type==="tableDelimiterMarker"){const o=i.length-1;i[o]=i[o]==="left"?"center":"right"}}else if(s[1].type==="tableDelimiterRow")break}else s[0]==="enter"&&s[1].type==="tableDelimiterRow"&&(n=!0);t+=1}return i}function PO(){return{flow:{null:{name:"table",tokenize:BO,resolveAll:FO}}}}function BO(e,t,n){const i=this;let s=0,o=0,u;return c;function c(Y){let ye=i.events.length-1;for(;ye>-1;){const pe=i.events[ye][1].type;if(pe==="lineEnding"||pe==="linePrefix")ye--;else break}const be=ye>-1?i.events[ye][1].type:null,Se=be==="tableHead"||be==="tableRow"?q:m;return Se===q&&i.parser.lazy[i.now().line]?n(Y):Se(Y)}function m(Y){return e.enter("tableHead"),e.enter("tableRow"),f(Y)}function f(Y){return Y===124||(u=!0,o+=1),h(Y)}function h(Y){return Y===null?n(Y):Le(Y)?o>1?(o=0,i.interrupt=!0,e.exit("tableRow"),e.enter("lineEnding"),e.consume(Y),e.exit("lineEnding"),S):n(Y):et(Y)?at(e,h,"whitespace")(Y):(o+=1,u&&(u=!1,s+=1),Y===124?(e.enter("tableCellDivider"),e.consume(Y),e.exit("tableCellDivider"),u=!0,h):(e.enter("data"),y(Y)))}function y(Y){return Y===null||Y===124||Tt(Y)?(e.exit("data"),h(Y)):(e.consume(Y),Y===92?v:y)}function v(Y){return Y===92||Y===124?(e.consume(Y),y):y(Y)}function S(Y){return i.interrupt=!1,i.parser.lazy[i.now().line]?n(Y):(e.enter("tableDelimiterRow"),u=!1,et(Y)?at(e,_,"linePrefix",i.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(Y):_(Y))}function _(Y){return Y===45||Y===58?O(Y):Y===124?(u=!0,e.enter("tableCellDivider"),e.consume(Y),e.exit("tableCellDivider"),I):K(Y)}function I(Y){return et(Y)?at(e,O,"whitespace")(Y):O(Y)}function O(Y){return Y===58?(o+=1,u=!0,e.enter("tableDelimiterMarker"),e.consume(Y),e.exit("tableDelimiterMarker"),D):Y===45?(o+=1,D(Y)):Y===null||Le(Y)?V(Y):K(Y)}function D(Y){return Y===45?(e.enter("tableDelimiterFiller"),H(Y)):K(Y)}function H(Y){return Y===45?(e.consume(Y),H):Y===58?(u=!0,e.exit("tableDelimiterFiller"),e.enter("tableDelimiterMarker"),e.consume(Y),e.exit("tableDelimiterMarker"),R):(e.exit("tableDelimiterFiller"),R(Y))}function R(Y){return et(Y)?at(e,V,"whitespace")(Y):V(Y)}function V(Y){return Y===124?_(Y):Y===null||Le(Y)?!u||s!==o?K(Y):(e.exit("tableDelimiterRow"),e.exit("tableHead"),t(Y)):K(Y)}function K(Y){return n(Y)}function q(Y){return e.enter("tableRow"),ue(Y)}function ue(Y){return Y===124?(e.enter("tableCellDivider"),e.consume(Y),e.exit("tableCellDivider"),ue):Y===null||Le(Y)?(e.exit("tableRow"),t(Y)):et(Y)?at(e,ue,"whitespace")(Y):(e.enter("data"),me(Y))}function me(Y){return Y===null||Y===124||Tt(Y)?(e.exit("data"),ue(Y)):(e.consume(Y),Y===92?Ae:me)}function Ae(Y){return Y===92||Y===124?(e.consume(Y),me):me(Y)}}function FO(e,t){let n=-1,i=!0,s=0,o=[0,0,0,0],u=[0,0,0,0],c=!1,m=0,f,h,y;const v=new wO;for(;++n<e.length;){const S=e[n],_=S[1];S[0]==="enter"?_.type==="tableHead"?(c=!1,m!==0&&(Yb(v,t,m,f,h),h=void 0,m=0),f={type:"table",start:Object.assign({},_.start),end:Object.assign({},_.end)},v.add(n,0,[["enter",f,t]])):_.type==="tableRow"||_.type==="tableDelimiterRow"?(i=!0,y=void 0,o=[0,0,0,0],u=[0,n+1,0,0],c&&(c=!1,h={type:"tableBody",start:Object.assign({},_.start),end:Object.assign({},_.end)},v.add(n,0,[["enter",h,t]])),s=_.type==="tableDelimiterRow"?2:h?3:1):s&&(_.type==="data"||_.type==="tableDelimiterMarker"||_.type==="tableDelimiterFiller")?(i=!1,u[2]===0&&(o[1]!==0&&(u[0]=u[1],y=ac(v,t,o,s,void 0,y),o=[0,0,0,0]),u[2]=n)):_.type==="tableCellDivider"&&(i?i=!1:(o[1]!==0&&(u[0]=u[1],y=ac(v,t,o,s,void 0,y)),o=u,u=[o[1],n,0,0])):_.type==="tableHead"?(c=!0,m=n):_.type==="tableRow"||_.type==="tableDelimiterRow"?(m=n,o[1]!==0?(u[0]=u[1],y=ac(v,t,o,s,n,y)):u[1]!==0&&(y=ac(v,t,u,s,n,y)),s=0):s&&(_.type==="data"||_.type==="tableDelimiterMarker"||_.type==="tableDelimiterFiller")&&(u[3]=n)}for(m!==0&&Yb(v,t,m,f,h),v.consume(t.events),n=-1;++n<t.events.length;){const S=t.events[n];S[0]==="enter"&&S[1].type==="table"&&(S[1]._align=OO(t.events,n))}return e}function ac(e,t,n,i,s,o){const u=i===1?"tableHeader":i===2?"tableDelimiter":"tableData",c="tableContent";n[0]!==0&&(o.end=Object.assign({},fs(t.events,n[0])),e.add(n[0],0,[["exit",o,t]]));const m=fs(t.events,n[1]);if(o={type:u,start:Object.assign({},m),end:Object.assign({},m)},e.add(n[1],0,[["enter",o,t]]),n[2]!==0){const f=fs(t.events,n[2]),h=fs(t.events,n[3]),y={type:c,start:Object.assign({},f),end:Object.assign({},h)};if(e.add(n[2],0,[["enter",y,t]]),i!==2){const v=t.events[n[2]],S=t.events[n[3]];if(v[1].end=Object.assign({},S[1].end),v[1].type="chunkText",v[1].contentType="text",n[3]>n[2]+1){const _=n[2]+1,I=n[3]-n[2]-1;e.add(_,I,[])}}e.add(n[3]+1,0,[["exit",y,t]])}return s!==void 0&&(o.end=Object.assign({},fs(t.events,s)),e.add(s,0,[["exit",o,t]]),o=void 0),o}function Yb(e,t,n,i,s){const o=[],u=fs(t.events,n);s&&(s.end=Object.assign({},u),o.push(["exit",s,t])),i.end=Object.assign({},u),o.push(["exit",i,t]),e.add(n+1,0,o)}function fs(e,t){const n=e[t],i=n[0]==="enter"?"start":"end";return n[1][i]}const HO={name:"tasklistCheck",tokenize:VO};function UO(){return{text:{91:HO}}}function VO(e,t,n){const i=this;return s;function s(m){return i.previous!==null||!i._gfmTasklistFirstContentOfListItem?n(m):(e.enter("taskListCheck"),e.enter("taskListCheckMarker"),e.consume(m),e.exit("taskListCheckMarker"),o)}function o(m){return Tt(m)?(e.enter("taskListCheckValueUnchecked"),e.consume(m),e.exit("taskListCheckValueUnchecked"),u):m===88||m===120?(e.enter("taskListCheckValueChecked"),e.consume(m),e.exit("taskListCheckValueChecked"),u):n(m)}function u(m){return m===93?(e.enter("taskListCheckMarker"),e.consume(m),e.exit("taskListCheckMarker"),e.exit("taskListCheck"),c):n(m)}function c(m){return Le(m)?t(m):et(m)?e.check({tokenize:zO},t,n)(m):n(m)}}function zO(e,t,n){return at(e,i,"whitespace");function i(s){return s===null?n(s):t(s)}}function jO(e){return Tv([hO(),CO(),kO(e),PO(),UO()])}const GO={};function c2(e){const t=this,n=e||GO,i=t.data(),s=i.micromarkExtensions||(i.micromarkExtensions=[]),o=i.fromMarkdownExtensions||(i.fromMarkdownExtensions=[]),u=i.toMarkdownExtensions||(i.toMarkdownExtensions=[]);s.push(jO(n)),o.push(cO()),u.push(dO(n))}const Kb=/[#.]/g;function qO(e,t){const n=e||"",i={};let s=0,o,u;for(;s<n.length;){Kb.lastIndex=s;const c=Kb.exec(n),m=n.slice(s,c?c.index:n.length);m&&(o?o==="#"?i.id=m:Array.isArray(i.className)?i.className.push(m):i.className=[m]:u=m,s+=m.length),c&&(o=c[0],s++)}return{type:"element",tagName:u||t||"div",properties:i,children:[]}}function d2(e,t,n){const i=n?XO(n):void 0;function s(o,u,...c){let m;if(o==null){m={type:"root",children:[]};const f=u;c.unshift(f)}else{m=qO(o,t);const f=m.tagName.toLowerCase(),h=i?i.get(f):void 0;if(m.tagName=h||f,YO(u))c.unshift(u);else for(const[y,v]of Object.entries(u))KO(e,m.properties,y,v)}for(const f of c)Ch(m.children,f);return m.type==="element"&&m.tagName==="template"&&(m.content={type:"root",children:m.children},m.children=[]),m}return s}function YO(e){if(e===null||typeof e!="object"||Array.isArray(e))return!0;if(typeof e.type!="string")return!1;const t=e,n=Object.keys(e);for(const i of n){const s=t[i];if(s&&typeof s=="object"){if(!Array.isArray(s))return!0;const o=s;for(const u of o)if(typeof u!="number"&&typeof u!="string")return!0}}return!!("children"in e&&Array.isArray(e.children))}function KO(e,t,n,i){const s=t0(e,n);let o;if(i!=null){if(typeof i=="number"){if(Number.isNaN(i))return;o=i}else typeof i=="boolean"?o=i:typeof i=="string"?s.spaceSeparated?o=sb(i):s.commaSeparated?o=tb(i):s.commaOrSpaceSeparated?o=sb(tb(i).join(" ")):o=$b(s,s.property,i):Array.isArray(i)?o=[...i]:o=s.property==="style"?$O(i):String(i);if(Array.isArray(o)){const u=[];for(const c of o)u.push($b(s,s.property,c));o=u}s.property==="className"&&Array.isArray(t.className)&&(o=t.className.concat(o)),t[s.property]=o}}function Ch(e,t){if(t!=null)if(typeof t=="number"||typeof t=="string")e.push({type:"text",value:String(t)});else if(Array.isArray(t))for(const n of t)Ch(e,n);else if(typeof t=="object"&&"type"in t)t.type==="root"?Ch(e,t.children):e.push(t);else throw new Error("Expected node, nodes, or string, got `"+t+"`")}function $b(e,t,n){if(typeof n=="string"){if(e.number&&n&&!Number.isNaN(Number(n)))return Number(n);if((e.boolean||e.overloadedBoolean)&&(n===""||pl(n)===pl(t)))return!0}return n}function $O(e){const t=[];for(const[n,i]of Object.entries(e))t.push([n,i].join(": "));return t.join("; ")}function XO(e){const t=new Map;for(const n of e)t.set(n.toLowerCase(),n);return t}const WO=["altGlyph","altGlyphDef","altGlyphItem","animateColor","animateMotion","animateTransform","clipPath","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","foreignObject","glyphRef","linearGradient","radialGradient","solidColor","textArea","textPath"],QO=d2(jc,"div"),JO=d2(Ds,"g",WO);function ZO(e){const t=String(e),n=[];return{toOffset:s,toPoint:i};function i(o){if(typeof o=="number"&&o>-1&&o<=t.length){let u=0;for(;;){let c=n[u];if(c===void 0){const m=Xb(t,n[u-1]);c=m===-1?t.length+1:m+1,n[u]=c}if(c>o)return{line:u+1,column:o-(u>0?n[u-1]:0)+1,offset:o};u++}}}function s(o){if(o&&typeof o.line=="number"&&typeof o.column=="number"&&!Number.isNaN(o.line)&&!Number.isNaN(o.column)){for(;n.length<o.line;){const c=n[n.length-1],m=Xb(t,c),f=m===-1?t.length+1:m+1;if(c===f)break;n.push(f)}const u=(o.line>1?n[o.line-2]:0)+o.column-1;if(u<n[o.line-1])return u}}}function Xb(e,t){const n=e.indexOf("\r",t),i=e.indexOf(`
`,t);return i===-1?n:n===-1||n+1===i?i:n<i?n:i}const fr={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},f2={}.hasOwnProperty,e5=Object.prototype;function t5(e,t){const n=t||{};return g0({file:n.file||void 0,location:!1,schema:n.space==="svg"?Ds:jc,verbose:n.verbose||!1},e)}function g0(e,t){let n;switch(t.nodeName){case"#comment":{const i=t;return n={type:"comment",value:i.data},gc(e,i,n),n}case"#document":case"#document-fragment":{const i=t,s="mode"in i?i.mode==="quirks"||i.mode==="limited-quirks":!1;if(n={type:"root",children:m2(e,t.childNodes),data:{quirksMode:s}},e.file&&e.location){const o=String(e.file),u=ZO(o),c=u.toPoint(0),m=u.toPoint(o.length);n.position={start:c,end:m}}return n}case"#documentType":{const i=t;return n={type:"doctype"},gc(e,i,n),n}case"#text":{const i=t;return n={type:"text",value:i.value},gc(e,i,n),n}default:return n=n5(e,t),n}}function m2(e,t){let n=-1;const i=[];for(;++n<t.length;){const s=g0(e,t[n]);i.push(s)}return i}function n5(e,t){const n=e.schema;e.schema=t.namespaceURI===fr.svg?Ds:jc;let i=-1;const s={};for(;++i<t.attrs.length;){const c=t.attrs[i],m=(c.prefix?c.prefix+":":"")+c.name;f2.call(e5,m)||(s[m]=c.value)}const u=(e.schema.space==="svg"?JO:QO)(t.tagName,s,m2(e,t.childNodes));if(gc(e,t,u),u.tagName==="template"){const c=t,m=c.sourceCodeLocation,f=m&&m.startTag&&ps(m.startTag),h=m&&m.endTag&&ps(m.endTag),y=g0(e,c.content);f&&h&&e.file&&(y.position={start:f.end,end:h.start}),u.content=y}return e.schema=n,u}function gc(e,t,n){if("sourceCodeLocation"in t&&t.sourceCodeLocation&&e.file){const i=i5(e,n,t.sourceCodeLocation);i&&(e.location=!0,n.position=i)}}function i5(e,t,n){const i=ps(n);if(t.type==="element"){const s=t.children[t.children.length-1];if(i&&!n.endTag&&s&&s.position&&s.position.end&&(i.end=Object.assign({},s.position.end)),e.verbose){const o={};let u;if(n.attrs)for(u in n.attrs)f2.call(n.attrs,u)&&(o[t0(e.schema,u).property]=ps(n.attrs[u]));n.startTag;const c=ps(n.startTag),m=n.endTag?ps(n.endTag):void 0,f={opening:c};m&&(f.closing=m),f.properties=o,t.data={position:f}}}return i}function ps(e){const t=Wb({line:e.startLine,column:e.startCol,offset:e.startOffset}),n=Wb({line:e.endLine,column:e.endCol,offset:e.endOffset});return t||n?{start:t,end:n}:void 0}function Wb(e){return e.line&&e.column?e:void 0}class Rl{constructor(t,n,i){this.property=t,this.normal=n,i&&(this.space=i)}}Rl.prototype.property={};Rl.prototype.normal={};Rl.prototype.space=null;function h2(e,t){const n={},i={};let s=-1;for(;++s<e.length;)Object.assign(n,e[s].property),Object.assign(i,e[s].normal);return new Rl(n,i,t)}function Ah(e){return e.toLowerCase()}class ni{constructor(t,n){this.property=t,this.attribute=n}}ni.prototype.space=null;ni.prototype.boolean=!1;ni.prototype.booleanish=!1;ni.prototype.overloadedBoolean=!1;ni.prototype.number=!1;ni.prototype.commaSeparated=!1;ni.prototype.spaceSeparated=!1;ni.prototype.commaOrSpaceSeparated=!1;ni.prototype.mustUseProperty=!1;ni.prototype.defined=!1;let a5=0;const je=xr(),Vt=xr(),p2=xr(),ve=xr(),Et=xr(),vs=xr(),Bn=xr();function xr(){return 2**++a5}const _h=Object.freeze(Object.defineProperty({__proto__:null,boolean:je,booleanish:Vt,commaOrSpaceSeparated:Bn,commaSeparated:vs,number:ve,overloadedBoolean:p2,spaceSeparated:Et},Symbol.toStringTag,{value:"Module"})),Hm=Object.keys(_h);class y0 extends ni{constructor(t,n,i,s){let o=-1;if(super(t,n),Qb(this,"space",s),typeof i=="number")for(;++o<Hm.length;){const u=Hm[o];Qb(this,Hm[o],(i&_h[u])===_h[u])}}}y0.prototype.defined=!0;function Qb(e,t,n){n&&(e[t]=n)}const r5={}.hasOwnProperty;function ks(e){const t={},n={};let i;for(i in e.properties)if(r5.call(e.properties,i)){const s=e.properties[i],o=new y0(i,e.transform(e.attributes||{},i),s,e.space);e.mustUseProperty&&e.mustUseProperty.includes(i)&&(o.mustUseProperty=!0),t[i]=o,n[Ah(i)]=i,n[Ah(o.attribute)]=i}return new Rl(t,n,e.space)}const g2=ks({space:"xlink",transform(e,t){return"xlink:"+t.slice(5).toLowerCase()},properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null}}),y2=ks({space:"xml",transform(e,t){return"xml:"+t.slice(3).toLowerCase()},properties:{xmlLang:null,xmlBase:null,xmlSpace:null}});function T2(e,t){return t in e?e[t]:t}function b2(e,t){return T2(e,t.toLowerCase())}const x2=ks({space:"xmlns",attributes:{xmlnsxlink:"xmlns:xlink"},transform:b2,properties:{xmlns:null,xmlnsXLink:null}}),E2=ks({transform(e,t){return t==="role"?t:"aria-"+t.slice(4).toLowerCase()},properties:{ariaActiveDescendant:null,ariaAtomic:Vt,ariaAutoComplete:null,ariaBusy:Vt,ariaChecked:Vt,ariaColCount:ve,ariaColIndex:ve,ariaColSpan:ve,ariaControls:Et,ariaCurrent:null,ariaDescribedBy:Et,ariaDetails:null,ariaDisabled:Vt,ariaDropEffect:Et,ariaErrorMessage:null,ariaExpanded:Vt,ariaFlowTo:Et,ariaGrabbed:Vt,ariaHasPopup:null,ariaHidden:Vt,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:Et,ariaLevel:ve,ariaLive:null,ariaModal:Vt,ariaMultiLine:Vt,ariaMultiSelectable:Vt,ariaOrientation:null,ariaOwns:Et,ariaPlaceholder:null,ariaPosInSet:ve,ariaPressed:Vt,ariaReadOnly:Vt,ariaRelevant:null,ariaRequired:Vt,ariaRoleDescription:Et,ariaRowCount:ve,ariaRowIndex:ve,ariaRowSpan:ve,ariaSelected:Vt,ariaSetSize:ve,ariaSort:null,ariaValueMax:ve,ariaValueMin:ve,ariaValueNow:ve,ariaValueText:null,role:null}}),s5=ks({space:"html",attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},transform:b2,mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:vs,acceptCharset:Et,accessKey:Et,action:null,allow:null,allowFullScreen:je,allowPaymentRequest:je,allowUserMedia:je,alt:null,as:null,async:je,autoCapitalize:null,autoComplete:Et,autoFocus:je,autoPlay:je,blocking:Et,capture:null,charSet:null,checked:je,cite:null,className:Et,cols:ve,colSpan:null,content:null,contentEditable:Vt,controls:je,controlsList:Et,coords:ve|vs,crossOrigin:null,data:null,dateTime:null,decoding:null,default:je,defer:je,dir:null,dirName:null,disabled:je,download:p2,draggable:Vt,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:je,formTarget:null,headers:Et,height:ve,hidden:je,high:ve,href:null,hrefLang:null,htmlFor:Et,httpEquiv:Et,id:null,imageSizes:null,imageSrcSet:null,inert:je,inputMode:null,integrity:null,is:null,isMap:je,itemId:null,itemProp:Et,itemRef:Et,itemScope:je,itemType:Et,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:je,low:ve,manifest:null,max:null,maxLength:ve,media:null,method:null,min:null,minLength:ve,multiple:je,muted:je,name:null,nonce:null,noModule:je,noValidate:je,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:je,optimum:ve,pattern:null,ping:Et,placeholder:null,playsInline:je,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:je,referrerPolicy:null,rel:Et,required:je,reversed:je,rows:ve,rowSpan:ve,sandbox:Et,scope:null,scoped:je,seamless:je,selected:je,shadowRootClonable:je,shadowRootDelegatesFocus:je,shadowRootMode:null,shape:null,size:ve,sizes:null,slot:null,span:ve,spellCheck:Vt,src:null,srcDoc:null,srcLang:null,srcSet:null,start:ve,step:null,style:null,tabIndex:ve,target:null,title:null,translate:null,type:null,typeMustMatch:je,useMap:null,value:Vt,width:ve,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:Et,axis:null,background:null,bgColor:null,border:ve,borderColor:null,bottomMargin:ve,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:je,declare:je,event:null,face:null,frame:null,frameBorder:null,hSpace:ve,leftMargin:ve,link:null,longDesc:null,lowSrc:null,marginHeight:ve,marginWidth:ve,noResize:je,noHref:je,noShade:je,noWrap:je,object:null,profile:null,prompt:null,rev:null,rightMargin:ve,rules:null,scheme:null,scrolling:Vt,standby:null,summary:null,text:null,topMargin:ve,valueType:null,version:null,vAlign:null,vLink:null,vSpace:ve,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:je,disableRemotePlayback:je,prefix:null,property:null,results:ve,security:null,unselectable:null}}),o5=ks({space:"svg",attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},transform:T2,properties:{about:Bn,accentHeight:ve,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:ve,amplitude:ve,arabicForm:null,ascent:ve,attributeName:null,attributeType:null,azimuth:ve,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:ve,by:null,calcMode:null,capHeight:ve,className:Et,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:ve,diffuseConstant:ve,direction:null,display:null,dur:null,divisor:ve,dominantBaseline:null,download:je,dx:null,dy:null,edgeMode:null,editable:null,elevation:ve,enableBackground:null,end:null,event:null,exponent:ve,externalResourcesRequired:null,fill:null,fillOpacity:ve,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:vs,g2:vs,glyphName:vs,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:ve,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:ve,horizOriginX:ve,horizOriginY:ve,id:null,ideographic:ve,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:ve,k:ve,k1:ve,k2:ve,k3:ve,k4:ve,kernelMatrix:Bn,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:ve,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:ve,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:ve,overlineThickness:ve,paintOrder:null,panose1:null,path:null,pathLength:ve,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:Et,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:ve,pointsAtY:ve,pointsAtZ:ve,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:Bn,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:Bn,rev:Bn,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:Bn,requiredFeatures:Bn,requiredFonts:Bn,requiredFormats:Bn,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:ve,specularExponent:ve,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:ve,strikethroughThickness:ve,string:null,stroke:null,strokeDashArray:Bn,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:ve,strokeOpacity:ve,strokeWidth:null,style:null,surfaceScale:ve,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:Bn,tabIndex:ve,tableValues:null,target:null,targetX:ve,targetY:ve,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:Bn,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:ve,underlineThickness:ve,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:ve,values:null,vAlphabetic:ve,vMathematical:ve,vectorEffect:null,vHanging:ve,vIdeographic:ve,version:null,vertAdvY:ve,vertOriginX:ve,vertOriginY:ve,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:ve,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null}}),l5=/^data[-\w.:]+$/i,Jb=/-[a-z]/g,u5=/[A-Z]/g;function c5(e,t){const n=Ah(t);let i=t,s=ni;if(n in e.normal)return e.property[e.normal[n]];if(n.length>4&&n.slice(0,4)==="data"&&l5.test(t)){if(t.charAt(4)==="-"){const o=t.slice(5).replace(Jb,f5);i="data"+o.charAt(0).toUpperCase()+o.slice(1)}else{const o=t.slice(4);if(!Jb.test(o)){let u=o.replace(u5,d5);u.charAt(0)!=="-"&&(u="-"+u),t="data"+u}}s=y0}return new s(i,t)}function d5(e){return"-"+e.toLowerCase()}function f5(e){return e.charAt(1).toUpperCase()}const m5=h2([y2,g2,x2,E2,s5],"html"),v2=h2([y2,g2,x2,E2,o5],"svg"),h5={},p5={}.hasOwnProperty,S2=Gv("type",{handlers:{root:y5,element:v5,text:x5,comment:E5,doctype:b5}});function g5(e,t){const i=(t||h5).space;return S2(e,i==="svg"?v2:m5)}function y5(e,t){const n={nodeName:"#document",mode:(e.data||{}).quirksMode?"quirks":"no-quirks",childNodes:[]};return n.childNodes=T0(e.children,n,t),ws(e,n),n}function T5(e,t){const n={nodeName:"#document-fragment",childNodes:[]};return n.childNodes=T0(e.children,n,t),ws(e,n),n}function b5(e){const t={nodeName:"#documentType",name:"html",publicId:"",systemId:"",parentNode:null};return ws(e,t),t}function x5(e){const t={nodeName:"#text",value:e.value,parentNode:null};return ws(e,t),t}function E5(e){const t={nodeName:"#comment",data:e.value,parentNode:null};return ws(e,t),t}function v5(e,t){const n=t;let i=n;e.type==="element"&&e.tagName.toLowerCase()==="svg"&&n.space==="html"&&(i=v2);const s=[];let o;if(e.properties){for(o in e.properties)if(o!=="children"&&p5.call(e.properties,o)){const m=S5(i,o,e.properties[o]);m&&s.push(m)}}const u=i.space,c={nodeName:e.tagName,tagName:e.tagName,attrs:s,namespaceURI:fr[u],childNodes:[],parentNode:null};return c.childNodes=T0(e.children,c,i),ws(e,c),e.tagName==="template"&&e.content&&(c.content=T5(e.content,i)),c}function S5(e,t,n){const i=c5(e,t);if(n===!1||n===null||n===void 0||typeof n=="number"&&Number.isNaN(n)||!n&&i.boolean)return;Array.isArray(n)&&(n=i.commaSeparated?iv(n):dv(n));const s={name:i.attribute,value:n===!0?"":String(n)};if(i.space&&i.space!=="html"&&i.space!=="svg"){const o=s.name.indexOf(":");o<0?s.prefix="":(s.name=s.name.slice(o+1),s.prefix=i.attribute.slice(0,o)),s.namespace=fr[i.space]}return s}function T0(e,t,n){let i=-1;const s=[];if(e)for(;++i<e.length;){const o=S2(e[i],n);o.parentNode=t,s.push(o)}return s}function ws(e,t){const n=e.position;n&&n.start&&n.end&&(n.start.offset,n.end.offset,t.sourceCodeLocation={startLine:n.start.line,startCol:n.start.column,startOffset:n.start.offset,endLine:n.end.line,endCol:n.end.column,endOffset:n.end.offset})}const C5=["area","base","basefont","bgsound","br","col","command","embed","frame","hr","image","img","input","keygen","link","meta","param","source","track","wbr"],A5=new Set([65534,65535,131070,131071,196606,196607,262142,262143,327678,327679,393214,393215,458750,458751,524286,524287,589822,589823,655358,655359,720894,720895,786430,786431,851966,851967,917502,917503,983038,983039,1048574,1048575,1114110,1114111]),St="";var k;(function(e){e[e.EOF=-1]="EOF",e[e.NULL=0]="NULL",e[e.TABULATION=9]="TABULATION",e[e.CARRIAGE_RETURN=13]="CARRIAGE_RETURN",e[e.LINE_FEED=10]="LINE_FEED",e[e.FORM_FEED=12]="FORM_FEED",e[e.SPACE=32]="SPACE",e[e.EXCLAMATION_MARK=33]="EXCLAMATION_MARK",e[e.QUOTATION_MARK=34]="QUOTATION_MARK",e[e.AMPERSAND=38]="AMPERSAND",e[e.APOSTROPHE=39]="APOSTROPHE",e[e.HYPHEN_MINUS=45]="HYPHEN_MINUS",e[e.SOLIDUS=47]="SOLIDUS",e[e.DIGIT_0=48]="DIGIT_0",e[e.DIGIT_9=57]="DIGIT_9",e[e.SEMICOLON=59]="SEMICOLON",e[e.LESS_THAN_SIGN=60]="LESS_THAN_SIGN",e[e.EQUALS_SIGN=61]="EQUALS_SIGN",e[e.GREATER_THAN_SIGN=62]="GREATER_THAN_SIGN",e[e.QUESTION_MARK=63]="QUESTION_MARK",e[e.LATIN_CAPITAL_A=65]="LATIN_CAPITAL_A",e[e.LATIN_CAPITAL_Z=90]="LATIN_CAPITAL_Z",e[e.RIGHT_SQUARE_BRACKET=93]="RIGHT_SQUARE_BRACKET",e[e.GRAVE_ACCENT=96]="GRAVE_ACCENT",e[e.LATIN_SMALL_A=97]="LATIN_SMALL_A",e[e.LATIN_SMALL_Z=122]="LATIN_SMALL_Z"})(k||(k={}));const Sn={DASH_DASH:"--",CDATA_START:"[CDATA[",DOCTYPE:"doctype",SCRIPT:"script",PUBLIC:"public",SYSTEM:"system"};function C2(e){return e>=55296&&e<=57343}function _5(e){return e>=56320&&e<=57343}function I5(e,t){return(e-55296)*1024+9216+t}function A2(e){return e!==32&&e!==10&&e!==13&&e!==9&&e!==12&&e>=1&&e<=31||e>=127&&e<=159}function _2(e){return e>=64976&&e<=65007||A5.has(e)}var ae;(function(e){e.controlCharacterInInputStream="control-character-in-input-stream",e.noncharacterInInputStream="noncharacter-in-input-stream",e.surrogateInInputStream="surrogate-in-input-stream",e.nonVoidHtmlElementStartTagWithTrailingSolidus="non-void-html-element-start-tag-with-trailing-solidus",e.endTagWithAttributes="end-tag-with-attributes",e.endTagWithTrailingSolidus="end-tag-with-trailing-solidus",e.unexpectedSolidusInTag="unexpected-solidus-in-tag",e.unexpectedNullCharacter="unexpected-null-character",e.unexpectedQuestionMarkInsteadOfTagName="unexpected-question-mark-instead-of-tag-name",e.invalidFirstCharacterOfTagName="invalid-first-character-of-tag-name",e.unexpectedEqualsSignBeforeAttributeName="unexpected-equals-sign-before-attribute-name",e.missingEndTagName="missing-end-tag-name",e.unexpectedCharacterInAttributeName="unexpected-character-in-attribute-name",e.unknownNamedCharacterReference="unknown-named-character-reference",e.missingSemicolonAfterCharacterReference="missing-semicolon-after-character-reference",e.unexpectedCharacterAfterDoctypeSystemIdentifier="unexpected-character-after-doctype-system-identifier",e.unexpectedCharacterInUnquotedAttributeValue="unexpected-character-in-unquoted-attribute-value",e.eofBeforeTagName="eof-before-tag-name",e.eofInTag="eof-in-tag",e.missingAttributeValue="missing-attribute-value",e.missingWhitespaceBetweenAttributes="missing-whitespace-between-attributes",e.missingWhitespaceAfterDoctypePublicKeyword="missing-whitespace-after-doctype-public-keyword",e.missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers="missing-whitespace-between-doctype-public-and-system-identifiers",e.missingWhitespaceAfterDoctypeSystemKeyword="missing-whitespace-after-doctype-system-keyword",e.missingQuoteBeforeDoctypePublicIdentifier="missing-quote-before-doctype-public-identifier",e.missingQuoteBeforeDoctypeSystemIdentifier="missing-quote-before-doctype-system-identifier",e.missingDoctypePublicIdentifier="missing-doctype-public-identifier",e.missingDoctypeSystemIdentifier="missing-doctype-system-identifier",e.abruptDoctypePublicIdentifier="abrupt-doctype-public-identifier",e.abruptDoctypeSystemIdentifier="abrupt-doctype-system-identifier",e.cdataInHtmlContent="cdata-in-html-content",e.incorrectlyOpenedComment="incorrectly-opened-comment",e.eofInScriptHtmlCommentLikeText="eof-in-script-html-comment-like-text",e.eofInDoctype="eof-in-doctype",e.nestedComment="nested-comment",e.abruptClosingOfEmptyComment="abrupt-closing-of-empty-comment",e.eofInComment="eof-in-comment",e.incorrectlyClosedComment="incorrectly-closed-comment",e.eofInCdata="eof-in-cdata",e.absenceOfDigitsInNumericCharacterReference="absence-of-digits-in-numeric-character-reference",e.nullCharacterReference="null-character-reference",e.surrogateCharacterReference="surrogate-character-reference",e.characterReferenceOutsideUnicodeRange="character-reference-outside-unicode-range",e.controlCharacterReference="control-character-reference",e.noncharacterCharacterReference="noncharacter-character-reference",e.missingWhitespaceBeforeDoctypeName="missing-whitespace-before-doctype-name",e.missingDoctypeName="missing-doctype-name",e.invalidCharacterSequenceAfterDoctypeName="invalid-character-sequence-after-doctype-name",e.duplicateAttribute="duplicate-attribute",e.nonConformingDoctype="non-conforming-doctype",e.missingDoctype="missing-doctype",e.misplacedDoctype="misplaced-doctype",e.endTagWithoutMatchingOpenElement="end-tag-without-matching-open-element",e.closingOfElementWithOpenChildElements="closing-of-element-with-open-child-elements",e.disallowedContentInNoscriptInHead="disallowed-content-in-noscript-in-head",e.openElementsLeftAfterEof="open-elements-left-after-eof",e.abandonedHeadElementChild="abandoned-head-element-child",e.misplacedStartTagForHeadElement="misplaced-start-tag-for-head-element",e.nestedNoscriptInHead="nested-noscript-in-head",e.eofInElementThatCanContainOnlyText="eof-in-element-that-can-contain-only-text"})(ae||(ae={}));const N5=65536;class M5{constructor(t){this.handler=t,this.html="",this.pos=-1,this.lastGapPos=-2,this.gapStack=[],this.skipNextNewLine=!1,this.lastChunkWritten=!1,this.endOfChunkHit=!1,this.bufferWaterline=N5,this.isEol=!1,this.lineStartPos=0,this.droppedBufferSize=0,this.line=1,this.lastErrOffset=-1}get col(){return this.pos-this.lineStartPos+ +(this.lastGapPos!==this.pos)}get offset(){return this.droppedBufferSize+this.pos}getError(t,n){const{line:i,col:s,offset:o}=this,u=s+n,c=o+n;return{code:t,startLine:i,endLine:i,startCol:u,endCol:u,startOffset:c,endOffset:c}}_err(t){this.handler.onParseError&&this.lastErrOffset!==this.offset&&(this.lastErrOffset=this.offset,this.handler.onParseError(this.getError(t,0)))}_addGap(){this.gapStack.push(this.lastGapPos),this.lastGapPos=this.pos}_processSurrogate(t){if(this.pos!==this.html.length-1){const n=this.html.charCodeAt(this.pos+1);if(_5(n))return this.pos++,this._addGap(),I5(t,n)}else if(!this.lastChunkWritten)return this.endOfChunkHit=!0,k.EOF;return this._err(ae.surrogateInInputStream),t}willDropParsedChunk(){return this.pos>this.bufferWaterline}dropParsedChunk(){this.willDropParsedChunk()&&(this.html=this.html.substring(this.pos),this.lineStartPos-=this.pos,this.droppedBufferSize+=this.pos,this.pos=0,this.lastGapPos=-2,this.gapStack.length=0)}write(t,n){this.html.length>0?this.html+=t:this.html=t,this.endOfChunkHit=!1,this.lastChunkWritten=n}insertHtmlAtCurrentPos(t){this.html=this.html.substring(0,this.pos+1)+t+this.html.substring(this.pos+1),this.endOfChunkHit=!1}startsWith(t,n){if(this.pos+t.length>this.html.length)return this.endOfChunkHit=!this.lastChunkWritten,!1;if(n)return this.html.startsWith(t,this.pos);for(let i=0;i<t.length;i++)if((this.html.charCodeAt(this.pos+i)|32)!==t.charCodeAt(i))return!1;return!0}peek(t){const n=this.pos+t;if(n>=this.html.length)return this.endOfChunkHit=!this.lastChunkWritten,k.EOF;const i=this.html.charCodeAt(n);return i===k.CARRIAGE_RETURN?k.LINE_FEED:i}advance(){if(this.pos++,this.isEol&&(this.isEol=!1,this.line++,this.lineStartPos=this.pos),this.pos>=this.html.length)return this.endOfChunkHit=!this.lastChunkWritten,k.EOF;let t=this.html.charCodeAt(this.pos);return t===k.CARRIAGE_RETURN?(this.isEol=!0,this.skipNextNewLine=!0,k.LINE_FEED):t===k.LINE_FEED&&(this.isEol=!0,this.skipNextNewLine)?(this.line--,this.skipNextNewLine=!1,this._addGap(),this.advance()):(this.skipNextNewLine=!1,C2(t)&&(t=this._processSurrogate(t)),this.handler.onParseError===null||t>31&&t<127||t===k.LINE_FEED||t===k.CARRIAGE_RETURN||t>159&&t<64976||this._checkForProblematicCharacters(t),t)}_checkForProblematicCharacters(t){A2(t)?this._err(ae.controlCharacterInInputStream):_2(t)&&this._err(ae.noncharacterInInputStream)}retreat(t){for(this.pos-=t;this.pos<this.lastGapPos;)this.lastGapPos=this.gapStack.pop(),this.pos--;this.isEol=!1}}var We;(function(e){e[e.CHARACTER=0]="CHARACTER",e[e.NULL_CHARACTER=1]="NULL_CHARACTER",e[e.WHITESPACE_CHARACTER=2]="WHITESPACE_CHARACTER",e[e.START_TAG=3]="START_TAG",e[e.END_TAG=4]="END_TAG",e[e.COMMENT=5]="COMMENT",e[e.DOCTYPE=6]="DOCTYPE",e[e.EOF=7]="EOF",e[e.HIBERNATION=8]="HIBERNATION"})(We||(We={}));function I2(e,t){for(let n=e.attrs.length-1;n>=0;n--)if(e.attrs[n].name===t)return e.attrs[n].value;return null}const D5=new Uint16Array('<\0\0\0\0\0\0EMabcfglmnoprstu\\bfmsligP&cutereve;iyx}rc;r;ravepha;acr;d;gpon;f;plyFunction;ingcsr;ign;ildemlaceforsucrkslash;;ed;y;crtause;noullis;a;r;pf;eve;cmpeq;HOacdefhilorsucy;PYcpyute;;italDifferentialD;leys;aeioron;dilrc;nint;ot;dnilla;terDot;i;rcleDMPTot;inus;lus;imes;ocskwiseContourIntegral;eCurlyDQoubleQuote;uote;lnpuon;e;gitruent;nt;ourIntegral;fr;oduct;nterClockwiseContourIntegral;oss;cr;p;Cap;DJSZacefios;otrahd;cy;cy;cy;grsger;r;hv;ayron;;l;ta;r;afcmriticalADGTcute;o;bleAcute;rave;ilde;ond;ferentialD;\0\0\0\0f;;DEot;qual;bleCDLRUVontourIntegrao\0\0nArrow;eoftARTrrow;ightArrow;engLReftARrrow;ightArrow;ightArrow;ightATrrow;ee;p\0\0rrow;ownArrow;erticalBar;nABLRTarrow;BUar;pArrow;reve;eft\0\0ightVector;eeVector;ector;Bar;ight\0eeVector;ector;Bar;ee;Arrow;ctr;rok;NTacdfglmopqstuxG;Hcuteaiyron;rc;ot;r;raveement;apcr;ty\0\0mallSquare;erySmallSquare;gpon;f;silon;uail;Tilde;librium;cir;m;a;mlipsts;onentialE;cfiosy;r;lled\0\0mallSquare;erySmallSquare;\0\0\0f;All;riertrf;cJTabcdfgorstcy;>mma;d;reve;eiydil;rc;;ot;r;;pf;eaterEFGLSTqual;Less;ullEqual;reater;ess;lantEqual;ilde;cr;;AacfiosuRDcy;ctek;;irc;r;lbertSpace;\0f;izontalLine;ctrok;mpownHumqual;EJOacdfgmnostucy;lig;cy;cuteiyrc;ot;r;rave;apcgr;inaryI;lie\0;egrral;section;isibleCTomma;imes;gpton;f;a;cr;ilde;\0cy;lcfosuiyrc;;r;pf;\0r;rcy;kcy;HJacfoscy;cy;ppa;eydil;;r;pf;cr;JTaceflmostcy;<cmnprute;bda;g;lacetrf;r;aeyron;dil;;fstACDFRTUVarnrgleBracket;row;BRar;ightArrow;eiling;o\0bleBracket;n\0eeVector;ector;Bar;loor;ightAVrrow;ector;ere;AVrrow;ector;iangle;BEar;qual;pDTVownVector;eeVector;ector;Bar;ector;Bar;ightsEFGLSTqualGreater;ullEqual;reater;ess;lantEqual;ilde;r;;eftarrow;idot;npwgLRlreftARrrow;ightArrow;ightArrow;eftarightightf;erLReftArrow;ightArrow;cht;rok;;acefiosup;y;dliumSpace;lintrf;r;nusPlus;pf;c;Jacefostucy;cute;aeyron;dil;;gswativeMTVediumSpace;hicneryThitedGLreaterGreateessLesLine;r;Bnptreak;BreakingSpace;f;;CDEGHLNPRSTVoungruent;pCap;oubleVerticalBar;lqxement;ual;Tilde;ists;reater;EFGLSTqual;ullEqual;reater;ess;lantEqual;ilde;umpownHump;qual;efstTriangle;BEar;qual;s;EGLSTqual;reater;ess;lantEqual;ilde;estedGLreaterGreater;essLess;recedes;ESqual;lantEqual;eiverseElement;ghtTriangle;BEar;qual;quuareSubpset;Equal;erset;Equal;bcpset;Equal;ceeds;ESTqual;lantEqual;ilde;erset;Equal;ilde;EFTqual;ullEqual;ilde;erticalBar;cr;ilde;Eacdfgmoprstuvlig;cuteiyrc;blac;r;raveaeicr;ga;cron;pf;enCurlyDQoubleQuote;uote;;clr;ashidees;mlerBParr;acek;et;arenthesis;acfhilorsrtialD;y;r;i;;usMinus;ipncareplanf;;eiocedes;ESTqual;lantEqual;ilde;me;dpuct;ortion;al;cir;;UfosOT"r;pf;cr;BEacefhiorsuarr;Gcnrute;g;r;tl;aeyron;dil;;;verseEUlqement;uilibrium;pEquilibrium;ro;ghtACDFTUVanrgleBracket;row;BLar;eftArrow;eiling;o\0bleBracket;n\0eeVector;ector;Bar;loor;ere;AVrrow;ector;iangle;BEar;qual;pDTVownVector;eeVector;ector;Bar;ector;Bar;puf;ndImplies;ightarrow;chr;;leDelayed;HOacfhimoqstuCcHcy;y;FTcy;cute;;aeiyron;dil;rc;;r;ortDLRUownArroweftArrowightArrowpArrow;gma;allCircle;pf;\0\0t;are;ISUntersection;ubpset;Equal;erset;Equal;nion;cr;ar;bcmp;set;Equal;cheeds;ESTqual;lantEqual;ilde;Th;;esrset;Equal;etHRSacfhiorsORNADE;Hccy;y;bu;;aeyron;dil;;r;ei\0efore;a;cnkSpace;Space;lde;EFTqual;ullEqual;ilde;pf;ipleDot;ctr;rok;\0\0\0\0\0\0\0cruter;ocir;r\0y;ve;iyrc;blac;r;raveacr;dierBParr;acek;et;arenthesis;on;Plus;gpon;f;ADETadpsrrow;BDar;ownArrow;ownArrow;quilibrium;ee;Arrow;ownerLReftArrow;ightArrow;i;lon;ing;cr;ilde;mlDbcdefosvash;ar;y;ash;l;er;btyar;;icalBLSTar;ine;eparator;ilde;ThinSpace;r;pf;cr;dash;cefosirc;dge;r;pf;cr;fiosr;;pf;cr;AIUacfosucy;cy;cy;cuteiyrc;;r;pf;cr;ml;Hacdefoscy;cute;ayron;;ot;\0oWidta;r;pf;cr;\0\0\0\0\0\0\0cutereve;;Ediuy;;rcte;lig;r;raveepfpsym;ha;apcclr;g;\0\0;adsvnd;;lope;;;elmrsz;esd;a;;;;;;;;t;vb;d;pth;arr;gpon;f;;Eaeiop;cir;;d;s;rox;eingctyr;;mp;eildemlcioninnt;Nabcdefiklnoprsuot;crkcepsong;psilon;rime;im;eq;ee;ed;gerk;tbrk;oy;quo;cmprtaus;eptyv;snoahw;;een;r;gcostuvwaiurc;pdptot;lus;imes;\0\0cup;ar;riangleduown;p;plus;earow;akocnklstozenge;riangle;dlrown;eft;ight;k;\0\0;;4;ck;eo;q=uiv;t;ptwxf;;tomtie;DHUVbdhmptuvLRlr;;;;;DUdu;;;;LRlr;;;;;HLRhlr;;;;;;ox;LRlr;;;;;DUdu;;;;inus;lus;imes;LRlr;;;;;HLRhlr;;;;;;evbarceior;mi;m;el;bh;sub;l;etp;Ee;;q\0\0\0\0\0\0\0\0\0\0cprute;;abcdsnd;rcup;aup;p;ot;;eot;aeiu\0s;on;dilrc;ps;sm;ot;dmnilptyv;t;err;ceiy;ck;mark;r;Ecefms;;elq;e\0\0rrowlreft;ight;RSacd;st;irc;ash;nint;id;cir;ubs;uit\0on;e;q\0\0a;t;;flemxente\0;dot;nfry;o;sr;aorr;ss;cur;bp;e;;e;dot;delprvwarrlr;;\0\0r;c;arr;p;;bcdosrcap;aup;p;ot;r;;alrvrr;m;yevwq\0\0reuee;edge;enearrowlreftightecioninnt;lcty;AHabcdefhijlorstuwzrar;glrsger;eth;h;varow;aayron;;;aogrr;tseq;glmta;ptyv;irsht;;arlraegsvm;osnd;suit;amma;in;;iode;ontimes;ncy;c\0\0rn;op;lptuwlar;f;;empsq;dot;inus;lus;quare;blebarwedgnadhownarrowarpoonlrefighkaro\0\0rn;op;cotry;;l;rok;drot;i;fahraangle;ciy;grarr;DacdefglmnopqrstuxDoocsuteter;aioyron;r;clon;;ot;Drot;;;rsave;dot;;ilsnters;;;dot;apscr;ty;svetp1;;;gs;p;gpon;f;alsr;sl;us;i;lvon;csuviorc\0\0antgltressaeils;st;v;DD;parsl;Daot;rr;cdir;oah;mrlo;cipl;seoctationential\0\0\0\0\0\0\0llingdotsey;male;ilrlig;\0\0g;ig;;lig;lig;fjaltt;ig;ns;of;\0f;ak;v;artint;aocs\0\0;;;;\0;;\0\0;;5;\0;;8;l;wn;cr;Eabcdefgijlnorstv;l;cmpute;ma;d;reve;iyrc;;ot;;lqs;qslan;cdlc;ot;o;l;;es;r;;gmel;cy;;Eaj;;;Eaes;p;prox;q;qim;pf;cir;m;el;;>;cdlqrci;r;ot;Par;uest;adels\0pror;qlqlesienrtneqq;Aabcefkosyrilmrrsfildrcy;;cwir;;ar;irc;alrrts;uitlip;con;r;sewarow;arow;amoprrr;tht;klreftarrow;ightarrow;f;bar;cltr;asrok;bpull;hen\0\0\0\0\0\0cute;iyrc;cxy;clfr;rave;inoinnt;t;fin;ta;lig;aopcgtr;elpinarh;f;ed;;cfotare;in;tie;do;celpal;grerarhk;rod;cgpty;on;f;a;uestcir;n;Edsv;ot;;v;;ilde;\0cy;lcfmosuiyrc;;r;ath;pf;\0r;rcy;kcy;acfghjosppa;v;eydil;;r;reen;cy;cy;pf;cr;ABEHabcdefghjlmnoprstuvartrail;arr;;g;ar;\0\0\0\0\0\0\0\0\0ute;mptyv;rabda;g;dl;;uor;bfhlpst;fs;s;p;l;im;l;;aeil;;s;abrrr;rk;akcek;;es;ldu;;aeuyron;diil;;cqrsa;uo;rduhar;shar;h;;fgqstahlrtrrow;taarpoonduownpeftarrows;ightahsrrow;sarpoonquigarrohreetimes;;qslan;cdgsc;ot;o;r;;es;adegspproot;qgqgtiilrsht;;;E;rdu;l;lk;cy;;achtrorneard;ri;iodot;ust;acheEaes;p;prox;q;qim;abnoptwznrg;r;rglmreftarightapsto;ightparrowlrefight;aflr;;us;imes;st;;efngear;lt;achmtrornear;d;;ri;achiqtquo;r;m;eg;;buo;r;rok;<;cdhilqrci;r;remes;arr;uest;Piar;;efrdushar;har;enrtneqq;DacdefhilnopsuDot;clprret;;ese;sto;dluowefker;oymma;;ash;asuredangler;o;cdnro;acdsir;otus;bd;u;p;dpels;f;ctr;pos;lmtimap;GLRVabcdefghijlmoprstuvwgt;;veltftarrrow;ightarrow;;;vightarrow;Ddash;ash;bcnptlaute;g;;Eiop;d;s;rour;al;s\0pmp;eaeouy\0;on;dil;ng;dot;p;;ash;;Aadqsxrr;rhrk;;oot;uieiar;ist;sr;Eest;qs;qslani;rAaprrr;ar;;sv;d;cy;AEadestr;rr;r;;fqstarrroightarro;qslan;si;ri;eiptf;;inn;Edv;ot;;;i;v;;aorr;astllel;;lint;;ceu;c;eAaitrrr;cw;;ghtarrowri;echimpqu;ceru;ort\0\0arm;e;qsubpbcp;Ees;et;eq;qc;e;Ees;et;eq;qgilrldeianglelreft;eight;e;m;esro;p;DHadgilrsash;arr;p;ash;et;;>nfin;Aetrr;;;r<ie;Atrr;rie;im;Aanrr;rhrk;;oear;\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0csuteiyr;c;abioslac;v;old;lig;crir;;\0\0\0n;ave;bmar;acitrirr;oss;n;aeicr;ga;cdnron;;pf;aelr;rp;;adiosvr;efmr;ofgof;r;lope;;cloashl;idees;as;mlbar;\0\0\0\0\0\0\0\0\0r;ast;lle\0\0m;;y;rcimptnt;od;il;enk;r;imo;v;mane;;tvchfork;aunckk;h;s;abcdemstcir;ir;ou;;nim;wo;ipuntint;f;nd;Eaceinosu;p;u;c;acenspprourlyeaespprox;qq;im;ime;sEasdfpalslar;ine;urf;;trel;cir;;ncsp;fiopsur;pf;rime;cr;aeoteirnionnt;st;eABHabcdefhilmnoprstuxartrail;arar;cdenqrteu;te;imptyv;g;del;;uor;abcfhlpstwp;;fs;;s;l;im;l;;aiil;o;nalabrrrk;akcek;;es;ldu;;aeuyron;diil;;clqsa;dhar;uo;rh;acgl;ipsnart;ilrsht;;aordu;l;;v;gnshtahlrstrrow;taarpoonduowpeftahrrowarpoonightarrows;quigarrohreetimes;g;ingdotseahmra;oust;achemid;abptnrg;r;raflr;;us;imes;apr;gt;olint;arachqquo;r;buo;rhirremes;i;efltri;luhar;;\0\0\0\0\0\0\0cute;qu;Eaceinpsy;\0;on;u;dil;rc;Eas;p;im;olint;i;ot;be;Aacmstxrr;rhr;oti;war;minnut;r;oacoyrp;hycy;;rt\0\0iaragmma;fv;;deglnprot;;q;E;;E;e;lus;arr;araeitlslsetmhp;parsl;dle;;e;s;flptcy;;b;ar;f;adres;uitcsuaup;s;p;s;ubp;eset;e;eset;e;afrarcemtr;tmiararr;fanighteppsilohsbcmnp;Edemnprs;ot;;dot;ult;Ee;;lus;arr;eiut;enq;qeq;qm;bp;;c;acenspprourlyeaespproqg;123;Edehlmnps;ost;ub;;dot;soul;b;arr;ult;Ee;;lus;eiut;enq;qeq;qm;bp;;Aanrr;rhr;owar;lig\0\0\0\0\0\0\0\0\0\0\0\0get;;raeyron;dil;;lrec;r;eiko\0e4fa;svym;cnkaspproimsasrnes;bd;ar;;eps;bcfot;ir;;ork;rime;aipdadempstngle;dlqrowneft;e;ight;eot;inus;lus;b;ime;ezium;chtry;;cy;rok;ioxheadlreftarroightarrowAHabcdfghlmoprstuwrar;cruter\0y;ve;iyrc;abhrlac;airsht;;raverlrlk;ct\0\0rn;erop;ri;alcr;gpon;f;adhlsuownarpoonlrefighi;hlonparrows;cit\0\0rn;erop;ng;ri;cr;dirot;lde;i;famrlangle;ABDacdeflnoprszrar;v;asnrgrt;eknprstappothinhirop;hiugmbpsetneq;q;setneq;q;hretianglelreftighty;ashelr;bear;q;lip;btar;trsubppf;rotrcur;bpnEenEeigzag;cefoprsirc;dibgar;e;q;erp;r;pf;;eatcr;\0\0\0\0\0\0\0trr;Aarr;Aarrais;dptfl;imAarrcqr;ptracefiosucuyte;iyrc;;nr;cy;pf;cr;cmy;lacdefhioswcute;ayron;;ot;ettra;r;cy;grarr;pf;cr;jn;j;'.split("").map(e=>e.charCodeAt(0))),R5=new Map([[0,65533],[128,8364],[130,8218],[131,402],[132,8222],[133,8230],[134,8224],[135,8225],[136,710],[137,8240],[138,352],[139,8249],[140,338],[142,381],[145,8216],[146,8217],[147,8220],[148,8221],[149,8226],[150,8211],[151,8212],[152,732],[153,8482],[154,353],[155,8250],[156,339],[158,382],[159,376]]);function k5(e){var t;return e>=55296&&e<=57343||e>1114111?65533:(t=R5.get(e))!==null&&t!==void 0?t:e}var Wt;(function(e){e[e.NUM=35]="NUM",e[e.SEMI=59]="SEMI",e[e.EQUALS=61]="EQUALS",e[e.ZERO=48]="ZERO",e[e.NINE=57]="NINE",e[e.LOWER_A=97]="LOWER_A",e[e.LOWER_F=102]="LOWER_F",e[e.LOWER_X=120]="LOWER_X",e[e.LOWER_Z=122]="LOWER_Z",e[e.UPPER_A=65]="UPPER_A",e[e.UPPER_F=70]="UPPER_F",e[e.UPPER_Z=90]="UPPER_Z"})(Wt||(Wt={}));const w5=32;var Ia;(function(e){e[e.VALUE_LENGTH=49152]="VALUE_LENGTH",e[e.BRANCH_LENGTH=16256]="BRANCH_LENGTH",e[e.JUMP_TABLE=127]="JUMP_TABLE"})(Ia||(Ia={}));function Ih(e){return e>=Wt.ZERO&&e<=Wt.NINE}function L5(e){return e>=Wt.UPPER_A&&e<=Wt.UPPER_F||e>=Wt.LOWER_A&&e<=Wt.LOWER_F}function O5(e){return e>=Wt.UPPER_A&&e<=Wt.UPPER_Z||e>=Wt.LOWER_A&&e<=Wt.LOWER_Z||Ih(e)}function P5(e){return e===Wt.EQUALS||O5(e)}var Xt;(function(e){e[e.EntityStart=0]="EntityStart",e[e.NumericStart=1]="NumericStart",e[e.NumericDecimal=2]="NumericDecimal",e[e.NumericHex=3]="NumericHex",e[e.NamedEntity=4]="NamedEntity"})(Xt||(Xt={}));var Yi;(function(e){e[e.Legacy=0]="Legacy",e[e.Strict=1]="Strict",e[e.Attribute=2]="Attribute"})(Yi||(Yi={}));class B5{constructor(t,n,i){this.decodeTree=t,this.emitCodePoint=n,this.errors=i,this.state=Xt.EntityStart,this.consumed=1,this.result=0,this.treeIndex=0,this.excess=1,this.decodeMode=Yi.Strict}startEntity(t){this.decodeMode=t,this.state=Xt.EntityStart,this.result=0,this.treeIndex=0,this.excess=1,this.consumed=1}write(t,n){switch(this.state){case Xt.EntityStart:return t.charCodeAt(n)===Wt.NUM?(this.state=Xt.NumericStart,this.consumed+=1,this.stateNumericStart(t,n+1)):(this.state=Xt.NamedEntity,this.stateNamedEntity(t,n));case Xt.NumericStart:return this.stateNumericStart(t,n);case Xt.NumericDecimal:return this.stateNumericDecimal(t,n);case Xt.NumericHex:return this.stateNumericHex(t,n);case Xt.NamedEntity:return this.stateNamedEntity(t,n)}}stateNumericStart(t,n){return n>=t.length?-1:(t.charCodeAt(n)|w5)===Wt.LOWER_X?(this.state=Xt.NumericHex,this.consumed+=1,this.stateNumericHex(t,n+1)):(this.state=Xt.NumericDecimal,this.stateNumericDecimal(t,n))}addToNumericResult(t,n,i,s){if(n!==i){const o=i-n;this.result=this.result*Math.pow(s,o)+Number.parseInt(t.substr(n,o),s),this.consumed+=o}}stateNumericHex(t,n){const i=n;for(;n<t.length;){const s=t.charCodeAt(n);if(Ih(s)||L5(s))n+=1;else return this.addToNumericResult(t,i,n,16),this.emitNumericEntity(s,3)}return this.addToNumericResult(t,i,n,16),-1}stateNumericDecimal(t,n){const i=n;for(;n<t.length;){const s=t.charCodeAt(n);if(Ih(s))n+=1;else return this.addToNumericResult(t,i,n,10),this.emitNumericEntity(s,2)}return this.addToNumericResult(t,i,n,10),-1}emitNumericEntity(t,n){var i;if(this.consumed<=n)return(i=this.errors)===null||i===void 0||i.absenceOfDigitsInNumericCharacterReference(this.consumed),0;if(t===Wt.SEMI)this.consumed+=1;else if(this.decodeMode===Yi.Strict)return 0;return this.emitCodePoint(k5(this.result),this.consumed),this.errors&&(t!==Wt.SEMI&&this.errors.missingSemicolonAfterCharacterReference(),this.errors.validateNumericCharacterReference(this.result)),this.consumed}stateNamedEntity(t,n){const{decodeTree:i}=this;let s=i[this.treeIndex],o=(s&Ia.VALUE_LENGTH)>>14;for(;n<t.length;n++,this.excess++){const u=t.charCodeAt(n);if(this.treeIndex=F5(i,s,this.treeIndex+Math.max(1,o),u),this.treeIndex<0)return this.result===0||this.decodeMode===Yi.Attribute&&(o===0||P5(u))?0:this.emitNotTerminatedNamedEntity();if(s=i[this.treeIndex],o=(s&Ia.VALUE_LENGTH)>>14,o!==0){if(u===Wt.SEMI)return this.emitNamedEntityData(this.treeIndex,o,this.consumed+this.excess);this.decodeMode!==Yi.Strict&&(this.result=this.treeIndex,this.consumed+=this.excess,this.excess=0)}}return-1}emitNotTerminatedNamedEntity(){var t;const{result:n,decodeTree:i}=this,s=(i[n]&Ia.VALUE_LENGTH)>>14;return this.emitNamedEntityData(n,s,this.consumed),(t=this.errors)===null||t===void 0||t.missingSemicolonAfterCharacterReference(),this.consumed}emitNamedEntityData(t,n,i){const{decodeTree:s}=this;return this.emitCodePoint(n===1?s[t]&~Ia.VALUE_LENGTH:s[t+1],i),n===3&&this.emitCodePoint(s[t+2],i),i}end(){var t;switch(this.state){case Xt.NamedEntity:return this.result!==0&&(this.decodeMode!==Yi.Attribute||this.result===this.treeIndex)?this.emitNotTerminatedNamedEntity():0;case Xt.NumericDecimal:return this.emitNumericEntity(0,2);case Xt.NumericHex:return this.emitNumericEntity(0,3);case Xt.NumericStart:return(t=this.errors)===null||t===void 0||t.absenceOfDigitsInNumericCharacterReference(this.consumed),0;case Xt.EntityStart:return 0}}}function F5(e,t,n,i){const s=(t&Ia.BRANCH_LENGTH)>>7,o=t&Ia.JUMP_TABLE;if(s===0)return o!==0&&i===o?n:-1;if(o){const m=i-o;return m<0||m>=s?-1:e[n+m]-1}let u=n,c=u+s-1;for(;u<=c;){const m=u+c>>>1,f=e[m];if(f<i)u=m+1;else if(f>i)c=m-1;else return e[m+s]}return-1}var he;(function(e){e.HTML="http://www.w3.org/1999/xhtml",e.MATHML="http://www.w3.org/1998/Math/MathML",e.SVG="http://www.w3.org/2000/svg",e.XLINK="http://www.w3.org/1999/xlink",e.XML="http://www.w3.org/XML/1998/namespace",e.XMLNS="http://www.w3.org/2000/xmlns/"})(he||(he={}));var pr;(function(e){e.TYPE="type",e.ACTION="action",e.ENCODING="encoding",e.PROMPT="prompt",e.NAME="name",e.COLOR="color",e.FACE="face",e.SIZE="size"})(pr||(pr={}));var ei;(function(e){e.NO_QUIRKS="no-quirks",e.QUIRKS="quirks",e.LIMITED_QUIRKS="limited-quirks"})(ei||(ei={}));var J;(function(e){e.A="a",e.ADDRESS="address",e.ANNOTATION_XML="annotation-xml",e.APPLET="applet",e.AREA="area",e.ARTICLE="article",e.ASIDE="aside",e.B="b",e.BASE="base",e.BASEFONT="basefont",e.BGSOUND="bgsound",e.BIG="big",e.BLOCKQUOTE="blockquote",e.BODY="body",e.BR="br",e.BUTTON="button",e.CAPTION="caption",e.CENTER="center",e.CODE="code",e.COL="col",e.COLGROUP="colgroup",e.DD="dd",e.DESC="desc",e.DETAILS="details",e.DIALOG="dialog",e.DIR="dir",e.DIV="div",e.DL="dl",e.DT="dt",e.EM="em",e.EMBED="embed",e.FIELDSET="fieldset",e.FIGCAPTION="figcaption",e.FIGURE="figure",e.FONT="font",e.FOOTER="footer",e.FOREIGN_OBJECT="foreignObject",e.FORM="form",e.FRAME="frame",e.FRAMESET="frameset",e.H1="h1",e.H2="h2",e.H3="h3",e.H4="h4",e.H5="h5",e.H6="h6",e.HEAD="head",e.HEADER="header",e.HGROUP="hgroup",e.HR="hr",e.HTML="html",e.I="i",e.IMG="img",e.IMAGE="image",e.INPUT="input",e.IFRAME="iframe",e.KEYGEN="keygen",e.LABEL="label",e.LI="li",e.LINK="link",e.LISTING="listing",e.MAIN="main",e.MALIGNMARK="malignmark",e.MARQUEE="marquee",e.MATH="math",e.MENU="menu",e.META="meta",e.MGLYPH="mglyph",e.MI="mi",e.MO="mo",e.MN="mn",e.MS="ms",e.MTEXT="mtext",e.NAV="nav",e.NOBR="nobr",e.NOFRAMES="noframes",e.NOEMBED="noembed",e.NOSCRIPT="noscript",e.OBJECT="object",e.OL="ol",e.OPTGROUP="optgroup",e.OPTION="option",e.P="p",e.PARAM="param",e.PLAINTEXT="plaintext",e.PRE="pre",e.RB="rb",e.RP="rp",e.RT="rt",e.RTC="rtc",e.RUBY="ruby",e.S="s",e.SCRIPT="script",e.SEARCH="search",e.SECTION="section",e.SELECT="select",e.SOURCE="source",e.SMALL="small",e.SPAN="span",e.STRIKE="strike",e.STRONG="strong",e.STYLE="style",e.SUB="sub",e.SUMMARY="summary",e.SUP="sup",e.TABLE="table",e.TBODY="tbody",e.TEMPLATE="template",e.TEXTAREA="textarea",e.TFOOT="tfoot",e.TD="td",e.TH="th",e.THEAD="thead",e.TITLE="title",e.TR="tr",e.TRACK="track",e.TT="tt",e.U="u",e.UL="ul",e.SVG="svg",e.VAR="var",e.WBR="wbr",e.XMP="xmp"})(J||(J={}));var E;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.A=1]="A",e[e.ADDRESS=2]="ADDRESS",e[e.ANNOTATION_XML=3]="ANNOTATION_XML",e[e.APPLET=4]="APPLET",e[e.AREA=5]="AREA",e[e.ARTICLE=6]="ARTICLE",e[e.ASIDE=7]="ASIDE",e[e.B=8]="B",e[e.BASE=9]="BASE",e[e.BASEFONT=10]="BASEFONT",e[e.BGSOUND=11]="BGSOUND",e[e.BIG=12]="BIG",e[e.BLOCKQUOTE=13]="BLOCKQUOTE",e[e.BODY=14]="BODY",e[e.BR=15]="BR",e[e.BUTTON=16]="BUTTON",e[e.CAPTION=17]="CAPTION",e[e.CENTER=18]="CENTER",e[e.CODE=19]="CODE",e[e.COL=20]="COL",e[e.COLGROUP=21]="COLGROUP",e[e.DD=22]="DD",e[e.DESC=23]="DESC",e[e.DETAILS=24]="DETAILS",e[e.DIALOG=25]="DIALOG",e[e.DIR=26]="DIR",e[e.DIV=27]="DIV",e[e.DL=28]="DL",e[e.DT=29]="DT",e[e.EM=30]="EM",e[e.EMBED=31]="EMBED",e[e.FIELDSET=32]="FIELDSET",e[e.FIGCAPTION=33]="FIGCAPTION",e[e.FIGURE=34]="FIGURE",e[e.FONT=35]="FONT",e[e.FOOTER=36]="FOOTER",e[e.FOREIGN_OBJECT=37]="FOREIGN_OBJECT",e[e.FORM=38]="FORM",e[e.FRAME=39]="FRAME",e[e.FRAMESET=40]="FRAMESET",e[e.H1=41]="H1",e[e.H2=42]="H2",e[e.H3=43]="H3",e[e.H4=44]="H4",e[e.H5=45]="H5",e[e.H6=46]="H6",e[e.HEAD=47]="HEAD",e[e.HEADER=48]="HEADER",e[e.HGROUP=49]="HGROUP",e[e.HR=50]="HR",e[e.HTML=51]="HTML",e[e.I=52]="I",e[e.IMG=53]="IMG",e[e.IMAGE=54]="IMAGE",e[e.INPUT=55]="INPUT",e[e.IFRAME=56]="IFRAME",e[e.KEYGEN=57]="KEYGEN",e[e.LABEL=58]="LABEL",e[e.LI=59]="LI",e[e.LINK=60]="LINK",e[e.LISTING=61]="LISTING",e[e.MAIN=62]="MAIN",e[e.MALIGNMARK=63]="MALIGNMARK",e[e.MARQUEE=64]="MARQUEE",e[e.MATH=65]="MATH",e[e.MENU=66]="MENU",e[e.META=67]="META",e[e.MGLYPH=68]="MGLYPH",e[e.MI=69]="MI",e[e.MO=70]="MO",e[e.MN=71]="MN",e[e.MS=72]="MS",e[e.MTEXT=73]="MTEXT",e[e.NAV=74]="NAV",e[e.NOBR=75]="NOBR",e[e.NOFRAMES=76]="NOFRAMES",e[e.NOEMBED=77]="NOEMBED",e[e.NOSCRIPT=78]="NOSCRIPT",e[e.OBJECT=79]="OBJECT",e[e.OL=80]="OL",e[e.OPTGROUP=81]="OPTGROUP",e[e.OPTION=82]="OPTION",e[e.P=83]="P",e[e.PARAM=84]="PARAM",e[e.PLAINTEXT=85]="PLAINTEXT",e[e.PRE=86]="PRE",e[e.RB=87]="RB",e[e.RP=88]="RP",e[e.RT=89]="RT",e[e.RTC=90]="RTC",e[e.RUBY=91]="RUBY",e[e.S=92]="S",e[e.SCRIPT=93]="SCRIPT",e[e.SEARCH=94]="SEARCH",e[e.SECTION=95]="SECTION",e[e.SELECT=96]="SELECT",e[e.SOURCE=97]="SOURCE",e[e.SMALL=98]="SMALL",e[e.SPAN=99]="SPAN",e[e.STRIKE=100]="STRIKE",e[e.STRONG=101]="STRONG",e[e.STYLE=102]="STYLE",e[e.SUB=103]="SUB",e[e.SUMMARY=104]="SUMMARY",e[e.SUP=105]="SUP",e[e.TABLE=106]="TABLE",e[e.TBODY=107]="TBODY",e[e.TEMPLATE=108]="TEMPLATE",e[e.TEXTAREA=109]="TEXTAREA",e[e.TFOOT=110]="TFOOT",e[e.TD=111]="TD",e[e.TH=112]="TH",e[e.THEAD=113]="THEAD",e[e.TITLE=114]="TITLE",e[e.TR=115]="TR",e[e.TRACK=116]="TRACK",e[e.TT=117]="TT",e[e.U=118]="U",e[e.UL=119]="UL",e[e.SVG=120]="SVG",e[e.VAR=121]="VAR",e[e.WBR=122]="WBR",e[e.XMP=123]="XMP"})(E||(E={}));const H5=new Map([[J.A,E.A],[J.ADDRESS,E.ADDRESS],[J.ANNOTATION_XML,E.ANNOTATION_XML],[J.APPLET,E.APPLET],[J.AREA,E.AREA],[J.ARTICLE,E.ARTICLE],[J.ASIDE,E.ASIDE],[J.B,E.B],[J.BASE,E.BASE],[J.BASEFONT,E.BASEFONT],[J.BGSOUND,E.BGSOUND],[J.BIG,E.BIG],[J.BLOCKQUOTE,E.BLOCKQUOTE],[J.BODY,E.BODY],[J.BR,E.BR],[J.BUTTON,E.BUTTON],[J.CAPTION,E.CAPTION],[J.CENTER,E.CENTER],[J.CODE,E.CODE],[J.COL,E.COL],[J.COLGROUP,E.COLGROUP],[J.DD,E.DD],[J.DESC,E.DESC],[J.DETAILS,E.DETAILS],[J.DIALOG,E.DIALOG],[J.DIR,E.DIR],[J.DIV,E.DIV],[J.DL,E.DL],[J.DT,E.DT],[J.EM,E.EM],[J.EMBED,E.EMBED],[J.FIELDSET,E.FIELDSET],[J.FIGCAPTION,E.FIGCAPTION],[J.FIGURE,E.FIGURE],[J.FONT,E.FONT],[J.FOOTER,E.FOOTER],[J.FOREIGN_OBJECT,E.FOREIGN_OBJECT],[J.FORM,E.FORM],[J.FRAME,E.FRAME],[J.FRAMESET,E.FRAMESET],[J.H1,E.H1],[J.H2,E.H2],[J.H3,E.H3],[J.H4,E.H4],[J.H5,E.H5],[J.H6,E.H6],[J.HEAD,E.HEAD],[J.HEADER,E.HEADER],[J.HGROUP,E.HGROUP],[J.HR,E.HR],[J.HTML,E.HTML],[J.I,E.I],[J.IMG,E.IMG],[J.IMAGE,E.IMAGE],[J.INPUT,E.INPUT],[J.IFRAME,E.IFRAME],[J.KEYGEN,E.KEYGEN],[J.LABEL,E.LABEL],[J.LI,E.LI],[J.LINK,E.LINK],[J.LISTING,E.LISTING],[J.MAIN,E.MAIN],[J.MALIGNMARK,E.MALIGNMARK],[J.MARQUEE,E.MARQUEE],[J.MATH,E.MATH],[J.MENU,E.MENU],[J.META,E.META],[J.MGLYPH,E.MGLYPH],[J.MI,E.MI],[J.MO,E.MO],[J.MN,E.MN],[J.MS,E.MS],[J.MTEXT,E.MTEXT],[J.NAV,E.NAV],[J.NOBR,E.NOBR],[J.NOFRAMES,E.NOFRAMES],[J.NOEMBED,E.NOEMBED],[J.NOSCRIPT,E.NOSCRIPT],[J.OBJECT,E.OBJECT],[J.OL,E.OL],[J.OPTGROUP,E.OPTGROUP],[J.OPTION,E.OPTION],[J.P,E.P],[J.PARAM,E.PARAM],[J.PLAINTEXT,E.PLAINTEXT],[J.PRE,E.PRE],[J.RB,E.RB],[J.RP,E.RP],[J.RT,E.RT],[J.RTC,E.RTC],[J.RUBY,E.RUBY],[J.S,E.S],[J.SCRIPT,E.SCRIPT],[J.SEARCH,E.SEARCH],[J.SECTION,E.SECTION],[J.SELECT,E.SELECT],[J.SOURCE,E.SOURCE],[J.SMALL,E.SMALL],[J.SPAN,E.SPAN],[J.STRIKE,E.STRIKE],[J.STRONG,E.STRONG],[J.STYLE,E.STYLE],[J.SUB,E.SUB],[J.SUMMARY,E.SUMMARY],[J.SUP,E.SUP],[J.TABLE,E.TABLE],[J.TBODY,E.TBODY],[J.TEMPLATE,E.TEMPLATE],[J.TEXTAREA,E.TEXTAREA],[J.TFOOT,E.TFOOT],[J.TD,E.TD],[J.TH,E.TH],[J.THEAD,E.THEAD],[J.TITLE,E.TITLE],[J.TR,E.TR],[J.TRACK,E.TRACK],[J.TT,E.TT],[J.U,E.U],[J.UL,E.UL],[J.SVG,E.SVG],[J.VAR,E.VAR],[J.WBR,E.WBR],[J.XMP,E.XMP]]);function Ls(e){var t;return(t=H5.get(e))!==null&&t!==void 0?t:E.UNKNOWN}const ge=E,U5={[he.HTML]:new Set([ge.ADDRESS,ge.APPLET,ge.AREA,ge.ARTICLE,ge.ASIDE,ge.BASE,ge.BASEFONT,ge.BGSOUND,ge.BLOCKQUOTE,ge.BODY,ge.BR,ge.BUTTON,ge.CAPTION,ge.CENTER,ge.COL,ge.COLGROUP,ge.DD,ge.DETAILS,ge.DIR,ge.DIV,ge.DL,ge.DT,ge.EMBED,ge.FIELDSET,ge.FIGCAPTION,ge.FIGURE,ge.FOOTER,ge.FORM,ge.FRAME,ge.FRAMESET,ge.H1,ge.H2,ge.H3,ge.H4,ge.H5,ge.H6,ge.HEAD,ge.HEADER,ge.HGROUP,ge.HR,ge.HTML,ge.IFRAME,ge.IMG,ge.INPUT,ge.LI,ge.LINK,ge.LISTING,ge.MAIN,ge.MARQUEE,ge.MENU,ge.META,ge.NAV,ge.NOEMBED,ge.NOFRAMES,ge.NOSCRIPT,ge.OBJECT,ge.OL,ge.P,ge.PARAM,ge.PLAINTEXT,ge.PRE,ge.SCRIPT,ge.SECTION,ge.SELECT,ge.SOURCE,ge.STYLE,ge.SUMMARY,ge.TABLE,ge.TBODY,ge.TD,ge.TEMPLATE,ge.TEXTAREA,ge.TFOOT,ge.TH,ge.THEAD,ge.TITLE,ge.TR,ge.TRACK,ge.UL,ge.WBR,ge.XMP]),[he.MATHML]:new Set([ge.MI,ge.MO,ge.MN,ge.MS,ge.MTEXT,ge.ANNOTATION_XML]),[he.SVG]:new Set([ge.TITLE,ge.FOREIGN_OBJECT,ge.DESC]),[he.XLINK]:new Set,[he.XML]:new Set,[he.XMLNS]:new Set},Nh=new Set([ge.H1,ge.H2,ge.H3,ge.H4,ge.H5,ge.H6]);J.STYLE,J.SCRIPT,J.XMP,J.IFRAME,J.NOEMBED,J.NOFRAMES,J.PLAINTEXT;var P;(function(e){e[e.DATA=0]="DATA",e[e.RCDATA=1]="RCDATA",e[e.RAWTEXT=2]="RAWTEXT",e[e.SCRIPT_DATA=3]="SCRIPT_DATA",e[e.PLAINTEXT=4]="PLAINTEXT",e[e.TAG_OPEN=5]="TAG_OPEN",e[e.END_TAG_OPEN=6]="END_TAG_OPEN",e[e.TAG_NAME=7]="TAG_NAME",e[e.RCDATA_LESS_THAN_SIGN=8]="RCDATA_LESS_THAN_SIGN",e[e.RCDATA_END_TAG_OPEN=9]="RCDATA_END_TAG_OPEN",e[e.RCDATA_END_TAG_NAME=10]="RCDATA_END_TAG_NAME",e[e.RAWTEXT_LESS_THAN_SIGN=11]="RAWTEXT_LESS_THAN_SIGN",e[e.RAWTEXT_END_TAG_OPEN=12]="RAWTEXT_END_TAG_OPEN",e[e.RAWTEXT_END_TAG_NAME=13]="RAWTEXT_END_TAG_NAME",e[e.SCRIPT_DATA_LESS_THAN_SIGN=14]="SCRIPT_DATA_LESS_THAN_SIGN",e[e.SCRIPT_DATA_END_TAG_OPEN=15]="SCRIPT_DATA_END_TAG_OPEN",e[e.SCRIPT_DATA_END_TAG_NAME=16]="SCRIPT_DATA_END_TAG_NAME",e[e.SCRIPT_DATA_ESCAPE_START=17]="SCRIPT_DATA_ESCAPE_START",e[e.SCRIPT_DATA_ESCAPE_START_DASH=18]="SCRIPT_DATA_ESCAPE_START_DASH",e[e.SCRIPT_DATA_ESCAPED=19]="SCRIPT_DATA_ESCAPED",e[e.SCRIPT_DATA_ESCAPED_DASH=20]="SCRIPT_DATA_ESCAPED_DASH",e[e.SCRIPT_DATA_ESCAPED_DASH_DASH=21]="SCRIPT_DATA_ESCAPED_DASH_DASH",e[e.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN=22]="SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN",e[e.SCRIPT_DATA_ESCAPED_END_TAG_OPEN=23]="SCRIPT_DATA_ESCAPED_END_TAG_OPEN",e[e.SCRIPT_DATA_ESCAPED_END_TAG_NAME=24]="SCRIPT_DATA_ESCAPED_END_TAG_NAME",e[e.SCRIPT_DATA_DOUBLE_ESCAPE_START=25]="SCRIPT_DATA_DOUBLE_ESCAPE_START",e[e.SCRIPT_DATA_DOUBLE_ESCAPED=26]="SCRIPT_DATA_DOUBLE_ESCAPED",e[e.SCRIPT_DATA_DOUBLE_ESCAPED_DASH=27]="SCRIPT_DATA_DOUBLE_ESCAPED_DASH",e[e.SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH=28]="SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH",e[e.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN=29]="SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN",e[e.SCRIPT_DATA_DOUBLE_ESCAPE_END=30]="SCRIPT_DATA_DOUBLE_ESCAPE_END",e[e.BEFORE_ATTRIBUTE_NAME=31]="BEFORE_ATTRIBUTE_NAME",e[e.ATTRIBUTE_NAME=32]="ATTRIBUTE_NAME",e[e.AFTER_ATTRIBUTE_NAME=33]="AFTER_ATTRIBUTE_NAME",e[e.BEFORE_ATTRIBUTE_VALUE=34]="BEFORE_ATTRIBUTE_VALUE",e[e.ATTRIBUTE_VALUE_DOUBLE_QUOTED=35]="ATTRIBUTE_VALUE_DOUBLE_QUOTED",e[e.ATTRIBUTE_VALUE_SINGLE_QUOTED=36]="ATTRIBUTE_VALUE_SINGLE_QUOTED",e[e.ATTRIBUTE_VALUE_UNQUOTED=37]="ATTRIBUTE_VALUE_UNQUOTED",e[e.AFTER_ATTRIBUTE_VALUE_QUOTED=38]="AFTER_ATTRIBUTE_VALUE_QUOTED",e[e.SELF_CLOSING_START_TAG=39]="SELF_CLOSING_START_TAG",e[e.BOGUS_COMMENT=40]="BOGUS_COMMENT",e[e.MARKUP_DECLARATION_OPEN=41]="MARKUP_DECLARATION_OPEN",e[e.COMMENT_START=42]="COMMENT_START",e[e.COMMENT_START_DASH=43]="COMMENT_START_DASH",e[e.COMMENT=44]="COMMENT",e[e.COMMENT_LESS_THAN_SIGN=45]="COMMENT_LESS_THAN_SIGN",e[e.COMMENT_LESS_THAN_SIGN_BANG=46]="COMMENT_LESS_THAN_SIGN_BANG",e[e.COMMENT_LESS_THAN_SIGN_BANG_DASH=47]="COMMENT_LESS_THAN_SIGN_BANG_DASH",e[e.COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH=48]="COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH",e[e.COMMENT_END_DASH=49]="COMMENT_END_DASH",e[e.COMMENT_END=50]="COMMENT_END",e[e.COMMENT_END_BANG=51]="COMMENT_END_BANG",e[e.DOCTYPE=52]="DOCTYPE",e[e.BEFORE_DOCTYPE_NAME=53]="BEFORE_DOCTYPE_NAME",e[e.DOCTYPE_NAME=54]="DOCTYPE_NAME",e[e.AFTER_DOCTYPE_NAME=55]="AFTER_DOCTYPE_NAME",e[e.AFTER_DOCTYPE_PUBLIC_KEYWORD=56]="AFTER_DOCTYPE_PUBLIC_KEYWORD",e[e.BEFORE_DOCTYPE_PUBLIC_IDENTIFIER=57]="BEFORE_DOCTYPE_PUBLIC_IDENTIFIER",e[e.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED=58]="DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED",e[e.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED=59]="DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED",e[e.AFTER_DOCTYPE_PUBLIC_IDENTIFIER=60]="AFTER_DOCTYPE_PUBLIC_IDENTIFIER",e[e.BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS=61]="BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS",e[e.AFTER_DOCTYPE_SYSTEM_KEYWORD=62]="AFTER_DOCTYPE_SYSTEM_KEYWORD",e[e.BEFORE_DOCTYPE_SYSTEM_IDENTIFIER=63]="BEFORE_DOCTYPE_SYSTEM_IDENTIFIER",e[e.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED=64]="DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED",e[e.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED=65]="DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED",e[e.AFTER_DOCTYPE_SYSTEM_IDENTIFIER=66]="AFTER_DOCTYPE_SYSTEM_IDENTIFIER",e[e.BOGUS_DOCTYPE=67]="BOGUS_DOCTYPE",e[e.CDATA_SECTION=68]="CDATA_SECTION",e[e.CDATA_SECTION_BRACKET=69]="CDATA_SECTION_BRACKET",e[e.CDATA_SECTION_END=70]="CDATA_SECTION_END",e[e.CHARACTER_REFERENCE=71]="CHARACTER_REFERENCE",e[e.AMBIGUOUS_AMPERSAND=72]="AMBIGUOUS_AMPERSAND"})(P||(P={}));const Ot={DATA:P.DATA,RCDATA:P.RCDATA,RAWTEXT:P.RAWTEXT,SCRIPT_DATA:P.SCRIPT_DATA,PLAINTEXT:P.PLAINTEXT,CDATA_SECTION:P.CDATA_SECTION};function V5(e){return e>=k.DIGIT_0&&e<=k.DIGIT_9}function Qo(e){return e>=k.LATIN_CAPITAL_A&&e<=k.LATIN_CAPITAL_Z}function z5(e){return e>=k.LATIN_SMALL_A&&e<=k.LATIN_SMALL_Z}function Sa(e){return z5(e)||Qo(e)}function Zb(e){return Sa(e)||V5(e)}function rc(e){return e+32}function N2(e){return e===k.SPACE||e===k.LINE_FEED||e===k.TABULATION||e===k.FORM_FEED}function ex(e){return N2(e)||e===k.SOLIDUS||e===k.GREATER_THAN_SIGN}function j5(e){return e===k.NULL?ae.nullCharacterReference:e>1114111?ae.characterReferenceOutsideUnicodeRange:C2(e)?ae.surrogateCharacterReference:_2(e)?ae.noncharacterCharacterReference:A2(e)||e===k.CARRIAGE_RETURN?ae.controlCharacterReference:null}class G5{constructor(t,n){this.options=t,this.handler=n,this.paused=!1,this.inLoop=!1,this.inForeignNode=!1,this.lastStartTagName="",this.active=!1,this.state=P.DATA,this.returnState=P.DATA,this.entityStartPos=0,this.consumedAfterSnapshot=-1,this.currentCharacterToken=null,this.currentToken=null,this.currentAttr={name:"",value:""},this.preprocessor=new M5(n),this.currentLocation=this.getCurrentLocation(-1),this.entityDecoder=new B5(D5,(i,s)=>{this.preprocessor.pos=this.entityStartPos+s-1,this._flushCodePointConsumedAsCharacterReference(i)},n.onParseError?{missingSemicolonAfterCharacterReference:()=>{this._err(ae.missingSemicolonAfterCharacterReference,1)},absenceOfDigitsInNumericCharacterReference:i=>{this._err(ae.absenceOfDigitsInNumericCharacterReference,this.entityStartPos-this.preprocessor.pos+i)},validateNumericCharacterReference:i=>{const s=j5(i);s&&this._err(s,1)}}:void 0)}_err(t,n=0){var i,s;(s=(i=this.handler).onParseError)===null||s===void 0||s.call(i,this.preprocessor.getError(t,n))}getCurrentLocation(t){return this.options.sourceCodeLocationInfo?{startLine:this.preprocessor.line,startCol:this.preprocessor.col-t,startOffset:this.preprocessor.offset-t,endLine:-1,endCol:-1,endOffset:-1}:null}_runParsingLoop(){if(!this.inLoop){for(this.inLoop=!0;this.active&&!this.paused;){this.consumedAfterSnapshot=0;const t=this._consume();this._ensureHibernation()||this._callState(t)}this.inLoop=!1}}pause(){this.paused=!0}resume(t){if(!this.paused)throw new Error("Parser was already resumed");this.paused=!1,!this.inLoop&&(this._runParsingLoop(),this.paused||t==null||t())}write(t,n,i){this.active=!0,this.preprocessor.write(t,n),this._runParsingLoop(),this.paused||i==null||i()}insertHtmlAtCurrentPos(t){this.active=!0,this.preprocessor.insertHtmlAtCurrentPos(t),this._runParsingLoop()}_ensureHibernation(){return this.preprocessor.endOfChunkHit?(this.preprocessor.retreat(this.consumedAfterSnapshot),this.consumedAfterSnapshot=0,this.active=!1,!0):!1}_consume(){return this.consumedAfterSnapshot++,this.preprocessor.advance()}_advanceBy(t){this.consumedAfterSnapshot+=t;for(let n=0;n<t;n++)this.preprocessor.advance()}_consumeSequenceIfMatch(t,n){return this.preprocessor.startsWith(t,n)?(this._advanceBy(t.length-1),!0):!1}_createStartTagToken(){this.currentToken={type:We.START_TAG,tagName:"",tagID:E.UNKNOWN,selfClosing:!1,ackSelfClosing:!1,attrs:[],location:this.getCurrentLocation(1)}}_createEndTagToken(){this.currentToken={type:We.END_TAG,tagName:"",tagID:E.UNKNOWN,selfClosing:!1,ackSelfClosing:!1,attrs:[],location:this.getCurrentLocation(2)}}_createCommentToken(t){this.currentToken={type:We.COMMENT,data:"",location:this.getCurrentLocation(t)}}_createDoctypeToken(t){this.currentToken={type:We.DOCTYPE,name:t,forceQuirks:!1,publicId:null,systemId:null,location:this.currentLocation}}_createCharacterToken(t,n){this.currentCharacterToken={type:t,chars:n,location:this.currentLocation}}_createAttr(t){this.currentAttr={name:t,value:""},this.currentLocation=this.getCurrentLocation(0)}_leaveAttrName(){var t,n;const i=this.currentToken;if(I2(i,this.currentAttr.name)===null){if(i.attrs.push(this.currentAttr),i.location&&this.currentLocation){const s=(t=(n=i.location).attrs)!==null&&t!==void 0?t:n.attrs=Object.create(null);s[this.currentAttr.name]=this.currentLocation,this._leaveAttrValue()}}else this._err(ae.duplicateAttribute)}_leaveAttrValue(){this.currentLocation&&(this.currentLocation.endLine=this.preprocessor.line,this.currentLocation.endCol=this.preprocessor.col,this.currentLocation.endOffset=this.preprocessor.offset)}prepareToken(t){this._emitCurrentCharacterToken(t.location),this.currentToken=null,t.location&&(t.location.endLine=this.preprocessor.line,t.location.endCol=this.preprocessor.col+1,t.location.endOffset=this.preprocessor.offset+1),this.currentLocation=this.getCurrentLocation(-1)}emitCurrentTagToken(){const t=this.currentToken;this.prepareToken(t),t.tagID=Ls(t.tagName),t.type===We.START_TAG?(this.lastStartTagName=t.tagName,this.handler.onStartTag(t)):(t.attrs.length>0&&this._err(ae.endTagWithAttributes),t.selfClosing&&this._err(ae.endTagWithTrailingSolidus),this.handler.onEndTag(t)),this.preprocessor.dropParsedChunk()}emitCurrentComment(t){this.prepareToken(t),this.handler.onComment(t),this.preprocessor.dropParsedChunk()}emitCurrentDoctype(t){this.prepareToken(t),this.handler.onDoctype(t),this.preprocessor.dropParsedChunk()}_emitCurrentCharacterToken(t){if(this.currentCharacterToken){switch(t&&this.currentCharacterToken.location&&(this.currentCharacterToken.location.endLine=t.startLine,this.currentCharacterToken.location.endCol=t.startCol,this.currentCharacterToken.location.endOffset=t.startOffset),this.currentCharacterToken.type){case We.CHARACTER:{this.handler.onCharacter(this.currentCharacterToken);break}case We.NULL_CHARACTER:{this.handler.onNullCharacter(this.currentCharacterToken);break}case We.WHITESPACE_CHARACTER:{this.handler.onWhitespaceCharacter(this.currentCharacterToken);break}}this.currentCharacterToken=null}}_emitEOFToken(){const t=this.getCurrentLocation(0);t&&(t.endLine=t.startLine,t.endCol=t.startCol,t.endOffset=t.startOffset),this._emitCurrentCharacterToken(t),this.handler.onEof({type:We.EOF,location:t}),this.active=!1}_appendCharToCurrentCharacterToken(t,n){if(this.currentCharacterToken)if(this.currentCharacterToken.type===t){this.currentCharacterToken.chars+=n;return}else this.currentLocation=this.getCurrentLocation(0),this._emitCurrentCharacterToken(this.currentLocation),this.preprocessor.dropParsedChunk();this._createCharacterToken(t,n)}_emitCodePoint(t){const n=N2(t)?We.WHITESPACE_CHARACTER:t===k.NULL?We.NULL_CHARACTER:We.CHARACTER;this._appendCharToCurrentCharacterToken(n,String.fromCodePoint(t))}_emitChars(t){this._appendCharToCurrentCharacterToken(We.CHARACTER,t)}_startCharacterReference(){this.returnState=this.state,this.state=P.CHARACTER_REFERENCE,this.entityStartPos=this.preprocessor.pos,this.entityDecoder.startEntity(this._isCharacterReferenceInAttribute()?Yi.Attribute:Yi.Legacy)}_isCharacterReferenceInAttribute(){return this.returnState===P.ATTRIBUTE_VALUE_DOUBLE_QUOTED||this.returnState===P.ATTRIBUTE_VALUE_SINGLE_QUOTED||this.returnState===P.ATTRIBUTE_VALUE_UNQUOTED}_flushCodePointConsumedAsCharacterReference(t){this._isCharacterReferenceInAttribute()?this.currentAttr.value+=String.fromCodePoint(t):this._emitCodePoint(t)}_callState(t){switch(this.state){case P.DATA:{this._stateData(t);break}case P.RCDATA:{this._stateRcdata(t);break}case P.RAWTEXT:{this._stateRawtext(t);break}case P.SCRIPT_DATA:{this._stateScriptData(t);break}case P.PLAINTEXT:{this._statePlaintext(t);break}case P.TAG_OPEN:{this._stateTagOpen(t);break}case P.END_TAG_OPEN:{this._stateEndTagOpen(t);break}case P.TAG_NAME:{this._stateTagName(t);break}case P.RCDATA_LESS_THAN_SIGN:{this._stateRcdataLessThanSign(t);break}case P.RCDATA_END_TAG_OPEN:{this._stateRcdataEndTagOpen(t);break}case P.RCDATA_END_TAG_NAME:{this._stateRcdataEndTagName(t);break}case P.RAWTEXT_LESS_THAN_SIGN:{this._stateRawtextLessThanSign(t);break}case P.RAWTEXT_END_TAG_OPEN:{this._stateRawtextEndTagOpen(t);break}case P.RAWTEXT_END_TAG_NAME:{this._stateRawtextEndTagName(t);break}case P.SCRIPT_DATA_LESS_THAN_SIGN:{this._stateScriptDataLessThanSign(t);break}case P.SCRIPT_DATA_END_TAG_OPEN:{this._stateScriptDataEndTagOpen(t);break}case P.SCRIPT_DATA_END_TAG_NAME:{this._stateScriptDataEndTagName(t);break}case P.SCRIPT_DATA_ESCAPE_START:{this._stateScriptDataEscapeStart(t);break}case P.SCRIPT_DATA_ESCAPE_START_DASH:{this._stateScriptDataEscapeStartDash(t);break}case P.SCRIPT_DATA_ESCAPED:{this._stateScriptDataEscaped(t);break}case P.SCRIPT_DATA_ESCAPED_DASH:{this._stateScriptDataEscapedDash(t);break}case P.SCRIPT_DATA_ESCAPED_DASH_DASH:{this._stateScriptDataEscapedDashDash(t);break}case P.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN:{this._stateScriptDataEscapedLessThanSign(t);break}case P.SCRIPT_DATA_ESCAPED_END_TAG_OPEN:{this._stateScriptDataEscapedEndTagOpen(t);break}case P.SCRIPT_DATA_ESCAPED_END_TAG_NAME:{this._stateScriptDataEscapedEndTagName(t);break}case P.SCRIPT_DATA_DOUBLE_ESCAPE_START:{this._stateScriptDataDoubleEscapeStart(t);break}case P.SCRIPT_DATA_DOUBLE_ESCAPED:{this._stateScriptDataDoubleEscaped(t);break}case P.SCRIPT_DATA_DOUBLE_ESCAPED_DASH:{this._stateScriptDataDoubleEscapedDash(t);break}case P.SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH:{this._stateScriptDataDoubleEscapedDashDash(t);break}case P.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN:{this._stateScriptDataDoubleEscapedLessThanSign(t);break}case P.SCRIPT_DATA_DOUBLE_ESCAPE_END:{this._stateScriptDataDoubleEscapeEnd(t);break}case P.BEFORE_ATTRIBUTE_NAME:{this._stateBeforeAttributeName(t);break}case P.ATTRIBUTE_NAME:{this._stateAttributeName(t);break}case P.AFTER_ATTRIBUTE_NAME:{this._stateAfterAttributeName(t);break}case P.BEFORE_ATTRIBUTE_VALUE:{this._stateBeforeAttributeValue(t);break}case P.ATTRIBUTE_VALUE_DOUBLE_QUOTED:{this._stateAttributeValueDoubleQuoted(t);break}case P.ATTRIBUTE_VALUE_SINGLE_QUOTED:{this._stateAttributeValueSingleQuoted(t);break}case P.ATTRIBUTE_VALUE_UNQUOTED:{this._stateAttributeValueUnquoted(t);break}case P.AFTER_ATTRIBUTE_VALUE_QUOTED:{this._stateAfterAttributeValueQuoted(t);break}case P.SELF_CLOSING_START_TAG:{this._stateSelfClosingStartTag(t);break}case P.BOGUS_COMMENT:{this._stateBogusComment(t);break}case P.MARKUP_DECLARATION_OPEN:{this._stateMarkupDeclarationOpen(t);break}case P.COMMENT_START:{this._stateCommentStart(t);break}case P.COMMENT_START_DASH:{this._stateCommentStartDash(t);break}case P.COMMENT:{this._stateComment(t);break}case P.COMMENT_LESS_THAN_SIGN:{this._stateCommentLessThanSign(t);break}case P.COMMENT_LESS_THAN_SIGN_BANG:{this._stateCommentLessThanSignBang(t);break}case P.COMMENT_LESS_THAN_SIGN_BANG_DASH:{this._stateCommentLessThanSignBangDash(t);break}case P.COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH:{this._stateCommentLessThanSignBangDashDash(t);break}case P.COMMENT_END_DASH:{this._stateCommentEndDash(t);break}case P.COMMENT_END:{this._stateCommentEnd(t);break}case P.COMMENT_END_BANG:{this._stateCommentEndBang(t);break}case P.DOCTYPE:{this._stateDoctype(t);break}case P.BEFORE_DOCTYPE_NAME:{this._stateBeforeDoctypeName(t);break}case P.DOCTYPE_NAME:{this._stateDoctypeName(t);break}case P.AFTER_DOCTYPE_NAME:{this._stateAfterDoctypeName(t);break}case P.AFTER_DOCTYPE_PUBLIC_KEYWORD:{this._stateAfterDoctypePublicKeyword(t);break}case P.BEFORE_DOCTYPE_PUBLIC_IDENTIFIER:{this._stateBeforeDoctypePublicIdentifier(t);break}case P.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED:{this._stateDoctypePublicIdentifierDoubleQuoted(t);break}case P.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED:{this._stateDoctypePublicIdentifierSingleQuoted(t);break}case P.AFTER_DOCTYPE_PUBLIC_IDENTIFIER:{this._stateAfterDoctypePublicIdentifier(t);break}case P.BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS:{this._stateBetweenDoctypePublicAndSystemIdentifiers(t);break}case P.AFTER_DOCTYPE_SYSTEM_KEYWORD:{this._stateAfterDoctypeSystemKeyword(t);break}case P.BEFORE_DOCTYPE_SYSTEM_IDENTIFIER:{this._stateBeforeDoctypeSystemIdentifier(t);break}case P.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED:{this._stateDoctypeSystemIdentifierDoubleQuoted(t);break}case P.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED:{this._stateDoctypeSystemIdentifierSingleQuoted(t);break}case P.AFTER_DOCTYPE_SYSTEM_IDENTIFIER:{this._stateAfterDoctypeSystemIdentifier(t);break}case P.BOGUS_DOCTYPE:{this._stateBogusDoctype(t);break}case P.CDATA_SECTION:{this._stateCdataSection(t);break}case P.CDATA_SECTION_BRACKET:{this._stateCdataSectionBracket(t);break}case P.CDATA_SECTION_END:{this._stateCdataSectionEnd(t);break}case P.CHARACTER_REFERENCE:{this._stateCharacterReference();break}case P.AMBIGUOUS_AMPERSAND:{this._stateAmbiguousAmpersand(t);break}default:throw new Error("Unknown state")}}_stateData(t){switch(t){case k.LESS_THAN_SIGN:{this.state=P.TAG_OPEN;break}case k.AMPERSAND:{this._startCharacterReference();break}case k.NULL:{this._err(ae.unexpectedNullCharacter),this._emitCodePoint(t);break}case k.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateRcdata(t){switch(t){case k.AMPERSAND:{this._startCharacterReference();break}case k.LESS_THAN_SIGN:{this.state=P.RCDATA_LESS_THAN_SIGN;break}case k.NULL:{this._err(ae.unexpectedNullCharacter),this._emitChars(St);break}case k.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateRawtext(t){switch(t){case k.LESS_THAN_SIGN:{this.state=P.RAWTEXT_LESS_THAN_SIGN;break}case k.NULL:{this._err(ae.unexpectedNullCharacter),this._emitChars(St);break}case k.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateScriptData(t){switch(t){case k.LESS_THAN_SIGN:{this.state=P.SCRIPT_DATA_LESS_THAN_SIGN;break}case k.NULL:{this._err(ae.unexpectedNullCharacter),this._emitChars(St);break}case k.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(t)}}_statePlaintext(t){switch(t){case k.NULL:{this._err(ae.unexpectedNullCharacter),this._emitChars(St);break}case k.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateTagOpen(t){if(Sa(t))this._createStartTagToken(),this.state=P.TAG_NAME,this._stateTagName(t);else switch(t){case k.EXCLAMATION_MARK:{this.state=P.MARKUP_DECLARATION_OPEN;break}case k.SOLIDUS:{this.state=P.END_TAG_OPEN;break}case k.QUESTION_MARK:{this._err(ae.unexpectedQuestionMarkInsteadOfTagName),this._createCommentToken(1),this.state=P.BOGUS_COMMENT,this._stateBogusComment(t);break}case k.EOF:{this._err(ae.eofBeforeTagName),this._emitChars("<"),this._emitEOFToken();break}default:this._err(ae.invalidFirstCharacterOfTagName),this._emitChars("<"),this.state=P.DATA,this._stateData(t)}}_stateEndTagOpen(t){if(Sa(t))this._createEndTagToken(),this.state=P.TAG_NAME,this._stateTagName(t);else switch(t){case k.GREATER_THAN_SIGN:{this._err(ae.missingEndTagName),this.state=P.DATA;break}case k.EOF:{this._err(ae.eofBeforeTagName),this._emitChars("</"),this._emitEOFToken();break}default:this._err(ae.invalidFirstCharacterOfTagName),this._createCommentToken(2),this.state=P.BOGUS_COMMENT,this._stateBogusComment(t)}}_stateTagName(t){const n=this.currentToken;switch(t){case k.SPACE:case k.LINE_FEED:case k.TABULATION:case k.FORM_FEED:{this.state=P.BEFORE_ATTRIBUTE_NAME;break}case k.SOLIDUS:{this.state=P.SELF_CLOSING_START_TAG;break}case k.GREATER_THAN_SIGN:{this.state=P.DATA,this.emitCurrentTagToken();break}case k.NULL:{this._err(ae.unexpectedNullCharacter),n.tagName+=St;break}case k.EOF:{this._err(ae.eofInTag),this._emitEOFToken();break}default:n.tagName+=String.fromCodePoint(Qo(t)?rc(t):t)}}_stateRcdataLessThanSign(t){t===k.SOLIDUS?this.state=P.RCDATA_END_TAG_OPEN:(this._emitChars("<"),this.state=P.RCDATA,this._stateRcdata(t))}_stateRcdataEndTagOpen(t){Sa(t)?(this.state=P.RCDATA_END_TAG_NAME,this._stateRcdataEndTagName(t)):(this._emitChars("</"),this.state=P.RCDATA,this._stateRcdata(t))}handleSpecialEndTag(t){if(!this.preprocessor.startsWith(this.lastStartTagName,!1))return!this._ensureHibernation();this._createEndTagToken();const n=this.currentToken;switch(n.tagName=this.lastStartTagName,this.preprocessor.peek(this.lastStartTagName.length)){case k.SPACE:case k.LINE_FEED:case k.TABULATION:case k.FORM_FEED:return this._advanceBy(this.lastStartTagName.length),this.state=P.BEFORE_ATTRIBUTE_NAME,!1;case k.SOLIDUS:return this._advanceBy(this.lastStartTagName.length),this.state=P.SELF_CLOSING_START_TAG,!1;case k.GREATER_THAN_SIGN:return this._advanceBy(this.lastStartTagName.length),this.emitCurrentTagToken(),this.state=P.DATA,!1;default:return!this._ensureHibernation()}}_stateRcdataEndTagName(t){this.handleSpecialEndTag(t)&&(this._emitChars("</"),this.state=P.RCDATA,this._stateRcdata(t))}_stateRawtextLessThanSign(t){t===k.SOLIDUS?this.state=P.RAWTEXT_END_TAG_OPEN:(this._emitChars("<"),this.state=P.RAWTEXT,this._stateRawtext(t))}_stateRawtextEndTagOpen(t){Sa(t)?(this.state=P.RAWTEXT_END_TAG_NAME,this._stateRawtextEndTagName(t)):(this._emitChars("</"),this.state=P.RAWTEXT,this._stateRawtext(t))}_stateRawtextEndTagName(t){this.handleSpecialEndTag(t)&&(this._emitChars("</"),this.state=P.RAWTEXT,this._stateRawtext(t))}_stateScriptDataLessThanSign(t){switch(t){case k.SOLIDUS:{this.state=P.SCRIPT_DATA_END_TAG_OPEN;break}case k.EXCLAMATION_MARK:{this.state=P.SCRIPT_DATA_ESCAPE_START,this._emitChars("<!");break}default:this._emitChars("<"),this.state=P.SCRIPT_DATA,this._stateScriptData(t)}}_stateScriptDataEndTagOpen(t){Sa(t)?(this.state=P.SCRIPT_DATA_END_TAG_NAME,this._stateScriptDataEndTagName(t)):(this._emitChars("</"),this.state=P.SCRIPT_DATA,this._stateScriptData(t))}_stateScriptDataEndTagName(t){this.handleSpecialEndTag(t)&&(this._emitChars("</"),this.state=P.SCRIPT_DATA,this._stateScriptData(t))}_stateScriptDataEscapeStart(t){t===k.HYPHEN_MINUS?(this.state=P.SCRIPT_DATA_ESCAPE_START_DASH,this._emitChars("-")):(this.state=P.SCRIPT_DATA,this._stateScriptData(t))}_stateScriptDataEscapeStartDash(t){t===k.HYPHEN_MINUS?(this.state=P.SCRIPT_DATA_ESCAPED_DASH_DASH,this._emitChars("-")):(this.state=P.SCRIPT_DATA,this._stateScriptData(t))}_stateScriptDataEscaped(t){switch(t){case k.HYPHEN_MINUS:{this.state=P.SCRIPT_DATA_ESCAPED_DASH,this._emitChars("-");break}case k.LESS_THAN_SIGN:{this.state=P.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN;break}case k.NULL:{this._err(ae.unexpectedNullCharacter),this._emitChars(St);break}case k.EOF:{this._err(ae.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateScriptDataEscapedDash(t){switch(t){case k.HYPHEN_MINUS:{this.state=P.SCRIPT_DATA_ESCAPED_DASH_DASH,this._emitChars("-");break}case k.LESS_THAN_SIGN:{this.state=P.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN;break}case k.NULL:{this._err(ae.unexpectedNullCharacter),this.state=P.SCRIPT_DATA_ESCAPED,this._emitChars(St);break}case k.EOF:{this._err(ae.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this.state=P.SCRIPT_DATA_ESCAPED,this._emitCodePoint(t)}}_stateScriptDataEscapedDashDash(t){switch(t){case k.HYPHEN_MINUS:{this._emitChars("-");break}case k.LESS_THAN_SIGN:{this.state=P.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN;break}case k.GREATER_THAN_SIGN:{this.state=P.SCRIPT_DATA,this._emitChars(">");break}case k.NULL:{this._err(ae.unexpectedNullCharacter),this.state=P.SCRIPT_DATA_ESCAPED,this._emitChars(St);break}case k.EOF:{this._err(ae.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this.state=P.SCRIPT_DATA_ESCAPED,this._emitCodePoint(t)}}_stateScriptDataEscapedLessThanSign(t){t===k.SOLIDUS?this.state=P.SCRIPT_DATA_ESCAPED_END_TAG_OPEN:Sa(t)?(this._emitChars("<"),this.state=P.SCRIPT_DATA_DOUBLE_ESCAPE_START,this._stateScriptDataDoubleEscapeStart(t)):(this._emitChars("<"),this.state=P.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(t))}_stateScriptDataEscapedEndTagOpen(t){Sa(t)?(this.state=P.SCRIPT_DATA_ESCAPED_END_TAG_NAME,this._stateScriptDataEscapedEndTagName(t)):(this._emitChars("</"),this.state=P.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(t))}_stateScriptDataEscapedEndTagName(t){this.handleSpecialEndTag(t)&&(this._emitChars("</"),this.state=P.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(t))}_stateScriptDataDoubleEscapeStart(t){if(this.preprocessor.startsWith(Sn.SCRIPT,!1)&&ex(this.preprocessor.peek(Sn.SCRIPT.length))){this._emitCodePoint(t);for(let n=0;n<Sn.SCRIPT.length;n++)this._emitCodePoint(this._consume());this.state=P.SCRIPT_DATA_DOUBLE_ESCAPED}else this._ensureHibernation()||(this.state=P.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(t))}_stateScriptDataDoubleEscaped(t){switch(t){case k.HYPHEN_MINUS:{this.state=P.SCRIPT_DATA_DOUBLE_ESCAPED_DASH,this._emitChars("-");break}case k.LESS_THAN_SIGN:{this.state=P.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN,this._emitChars("<");break}case k.NULL:{this._err(ae.unexpectedNullCharacter),this._emitChars(St);break}case k.EOF:{this._err(ae.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateScriptDataDoubleEscapedDash(t){switch(t){case k.HYPHEN_MINUS:{this.state=P.SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH,this._emitChars("-");break}case k.LESS_THAN_SIGN:{this.state=P.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN,this._emitChars("<");break}case k.NULL:{this._err(ae.unexpectedNullCharacter),this.state=P.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitChars(St);break}case k.EOF:{this._err(ae.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this.state=P.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitCodePoint(t)}}_stateScriptDataDoubleEscapedDashDash(t){switch(t){case k.HYPHEN_MINUS:{this._emitChars("-");break}case k.LESS_THAN_SIGN:{this.state=P.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN,this._emitChars("<");break}case k.GREATER_THAN_SIGN:{this.state=P.SCRIPT_DATA,this._emitChars(">");break}case k.NULL:{this._err(ae.unexpectedNullCharacter),this.state=P.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitChars(St);break}case k.EOF:{this._err(ae.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this.state=P.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitCodePoint(t)}}_stateScriptDataDoubleEscapedLessThanSign(t){t===k.SOLIDUS?(this.state=P.SCRIPT_DATA_DOUBLE_ESCAPE_END,this._emitChars("/")):(this.state=P.SCRIPT_DATA_DOUBLE_ESCAPED,this._stateScriptDataDoubleEscaped(t))}_stateScriptDataDoubleEscapeEnd(t){if(this.preprocessor.startsWith(Sn.SCRIPT,!1)&&ex(this.preprocessor.peek(Sn.SCRIPT.length))){this._emitCodePoint(t);for(let n=0;n<Sn.SCRIPT.length;n++)this._emitCodePoint(this._consume());this.state=P.SCRIPT_DATA_ESCAPED}else this._ensureHibernation()||(this.state=P.SCRIPT_DATA_DOUBLE_ESCAPED,this._stateScriptDataDoubleEscaped(t))}_stateBeforeAttributeName(t){switch(t){case k.SPACE:case k.LINE_FEED:case k.TABULATION:case k.FORM_FEED:break;case k.SOLIDUS:case k.GREATER_THAN_SIGN:case k.EOF:{this.state=P.AFTER_ATTRIBUTE_NAME,this._stateAfterAttributeName(t);break}case k.EQUALS_SIGN:{this._err(ae.unexpectedEqualsSignBeforeAttributeName),this._createAttr("="),this.state=P.ATTRIBUTE_NAME;break}default:this._createAttr(""),this.state=P.ATTRIBUTE_NAME,this._stateAttributeName(t)}}_stateAttributeName(t){switch(t){case k.SPACE:case k.LINE_FEED:case k.TABULATION:case k.FORM_FEED:case k.SOLIDUS:case k.GREATER_THAN_SIGN:case k.EOF:{this._leaveAttrName(),this.state=P.AFTER_ATTRIBUTE_NAME,this._stateAfterAttributeName(t);break}case k.EQUALS_SIGN:{this._leaveAttrName(),this.state=P.BEFORE_ATTRIBUTE_VALUE;break}case k.QUOTATION_MARK:case k.APOSTROPHE:case k.LESS_THAN_SIGN:{this._err(ae.unexpectedCharacterInAttributeName),this.currentAttr.name+=String.fromCodePoint(t);break}case k.NULL:{this._err(ae.unexpectedNullCharacter),this.currentAttr.name+=St;break}default:this.currentAttr.name+=String.fromCodePoint(Qo(t)?rc(t):t)}}_stateAfterAttributeName(t){switch(t){case k.SPACE:case k.LINE_FEED:case k.TABULATION:case k.FORM_FEED:break;case k.SOLIDUS:{this.state=P.SELF_CLOSING_START_TAG;break}case k.EQUALS_SIGN:{this.state=P.BEFORE_ATTRIBUTE_VALUE;break}case k.GREATER_THAN_SIGN:{this.state=P.DATA,this.emitCurrentTagToken();break}case k.EOF:{this._err(ae.eofInTag),this._emitEOFToken();break}default:this._createAttr(""),this.state=P.ATTRIBUTE_NAME,this._stateAttributeName(t)}}_stateBeforeAttributeValue(t){switch(t){case k.SPACE:case k.LINE_FEED:case k.TABULATION:case k.FORM_FEED:break;case k.QUOTATION_MARK:{this.state=P.ATTRIBUTE_VALUE_DOUBLE_QUOTED;break}case k.APOSTROPHE:{this.state=P.ATTRIBUTE_VALUE_SINGLE_QUOTED;break}case k.GREATER_THAN_SIGN:{this._err(ae.missingAttributeValue),this.state=P.DATA,this.emitCurrentTagToken();break}default:this.state=P.ATTRIBUTE_VALUE_UNQUOTED,this._stateAttributeValueUnquoted(t)}}_stateAttributeValueDoubleQuoted(t){switch(t){case k.QUOTATION_MARK:{this.state=P.AFTER_ATTRIBUTE_VALUE_QUOTED;break}case k.AMPERSAND:{this._startCharacterReference();break}case k.NULL:{this._err(ae.unexpectedNullCharacter),this.currentAttr.value+=St;break}case k.EOF:{this._err(ae.eofInTag),this._emitEOFToken();break}default:this.currentAttr.value+=String.fromCodePoint(t)}}_stateAttributeValueSingleQuoted(t){switch(t){case k.APOSTROPHE:{this.state=P.AFTER_ATTRIBUTE_VALUE_QUOTED;break}case k.AMPERSAND:{this._startCharacterReference();break}case k.NULL:{this._err(ae.unexpectedNullCharacter),this.currentAttr.value+=St;break}case k.EOF:{this._err(ae.eofInTag),this._emitEOFToken();break}default:this.currentAttr.value+=String.fromCodePoint(t)}}_stateAttributeValueUnquoted(t){switch(t){case k.SPACE:case k.LINE_FEED:case k.TABULATION:case k.FORM_FEED:{this._leaveAttrValue(),this.state=P.BEFORE_ATTRIBUTE_NAME;break}case k.AMPERSAND:{this._startCharacterReference();break}case k.GREATER_THAN_SIGN:{this._leaveAttrValue(),this.state=P.DATA,this.emitCurrentTagToken();break}case k.NULL:{this._err(ae.unexpectedNullCharacter),this.currentAttr.value+=St;break}case k.QUOTATION_MARK:case k.APOSTROPHE:case k.LESS_THAN_SIGN:case k.EQUALS_SIGN:case k.GRAVE_ACCENT:{this._err(ae.unexpectedCharacterInUnquotedAttributeValue),this.currentAttr.value+=String.fromCodePoint(t);break}case k.EOF:{this._err(ae.eofInTag),this._emitEOFToken();break}default:this.currentAttr.value+=String.fromCodePoint(t)}}_stateAfterAttributeValueQuoted(t){switch(t){case k.SPACE:case k.LINE_FEED:case k.TABULATION:case k.FORM_FEED:{this._leaveAttrValue(),this.state=P.BEFORE_ATTRIBUTE_NAME;break}case k.SOLIDUS:{this._leaveAttrValue(),this.state=P.SELF_CLOSING_START_TAG;break}case k.GREATER_THAN_SIGN:{this._leaveAttrValue(),this.state=P.DATA,this.emitCurrentTagToken();break}case k.EOF:{this._err(ae.eofInTag),this._emitEOFToken();break}default:this._err(ae.missingWhitespaceBetweenAttributes),this.state=P.BEFORE_ATTRIBUTE_NAME,this._stateBeforeAttributeName(t)}}_stateSelfClosingStartTag(t){switch(t){case k.GREATER_THAN_SIGN:{const n=this.currentToken;n.selfClosing=!0,this.state=P.DATA,this.emitCurrentTagToken();break}case k.EOF:{this._err(ae.eofInTag),this._emitEOFToken();break}default:this._err(ae.unexpectedSolidusInTag),this.state=P.BEFORE_ATTRIBUTE_NAME,this._stateBeforeAttributeName(t)}}_stateBogusComment(t){const n=this.currentToken;switch(t){case k.GREATER_THAN_SIGN:{this.state=P.DATA,this.emitCurrentComment(n);break}case k.EOF:{this.emitCurrentComment(n),this._emitEOFToken();break}case k.NULL:{this._err(ae.unexpectedNullCharacter),n.data+=St;break}default:n.data+=String.fromCodePoint(t)}}_stateMarkupDeclarationOpen(t){this._consumeSequenceIfMatch(Sn.DASH_DASH,!0)?(this._createCommentToken(Sn.DASH_DASH.length+1),this.state=P.COMMENT_START):this._consumeSequenceIfMatch(Sn.DOCTYPE,!1)?(this.currentLocation=this.getCurrentLocation(Sn.DOCTYPE.length+1),this.state=P.DOCTYPE):this._consumeSequenceIfMatch(Sn.CDATA_START,!0)?this.inForeignNode?this.state=P.CDATA_SECTION:(this._err(ae.cdataInHtmlContent),this._createCommentToken(Sn.CDATA_START.length+1),this.currentToken.data="[CDATA[",this.state=P.BOGUS_COMMENT):this._ensureHibernation()||(this._err(ae.incorrectlyOpenedComment),this._createCommentToken(2),this.state=P.BOGUS_COMMENT,this._stateBogusComment(t))}_stateCommentStart(t){switch(t){case k.HYPHEN_MINUS:{this.state=P.COMMENT_START_DASH;break}case k.GREATER_THAN_SIGN:{this._err(ae.abruptClosingOfEmptyComment),this.state=P.DATA;const n=this.currentToken;this.emitCurrentComment(n);break}default:this.state=P.COMMENT,this._stateComment(t)}}_stateCommentStartDash(t){const n=this.currentToken;switch(t){case k.HYPHEN_MINUS:{this.state=P.COMMENT_END;break}case k.GREATER_THAN_SIGN:{this._err(ae.abruptClosingOfEmptyComment),this.state=P.DATA,this.emitCurrentComment(n);break}case k.EOF:{this._err(ae.eofInComment),this.emitCurrentComment(n),this._emitEOFToken();break}default:n.data+="-",this.state=P.COMMENT,this._stateComment(t)}}_stateComment(t){const n=this.currentToken;switch(t){case k.HYPHEN_MINUS:{this.state=P.COMMENT_END_DASH;break}case k.LESS_THAN_SIGN:{n.data+="<",this.state=P.COMMENT_LESS_THAN_SIGN;break}case k.NULL:{this._err(ae.unexpectedNullCharacter),n.data+=St;break}case k.EOF:{this._err(ae.eofInComment),this.emitCurrentComment(n),this._emitEOFToken();break}default:n.data+=String.fromCodePoint(t)}}_stateCommentLessThanSign(t){const n=this.currentToken;switch(t){case k.EXCLAMATION_MARK:{n.data+="!",this.state=P.COMMENT_LESS_THAN_SIGN_BANG;break}case k.LESS_THAN_SIGN:{n.data+="<";break}default:this.state=P.COMMENT,this._stateComment(t)}}_stateCommentLessThanSignBang(t){t===k.HYPHEN_MINUS?this.state=P.COMMENT_LESS_THAN_SIGN_BANG_DASH:(this.state=P.COMMENT,this._stateComment(t))}_stateCommentLessThanSignBangDash(t){t===k.HYPHEN_MINUS?this.state=P.COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH:(this.state=P.COMMENT_END_DASH,this._stateCommentEndDash(t))}_stateCommentLessThanSignBangDashDash(t){t!==k.GREATER_THAN_SIGN&&t!==k.EOF&&this._err(ae.nestedComment),this.state=P.COMMENT_END,this._stateCommentEnd(t)}_stateCommentEndDash(t){const n=this.currentToken;switch(t){case k.HYPHEN_MINUS:{this.state=P.COMMENT_END;break}case k.EOF:{this._err(ae.eofInComment),this.emitCurrentComment(n),this._emitEOFToken();break}default:n.data+="-",this.state=P.COMMENT,this._stateComment(t)}}_stateCommentEnd(t){const n=this.currentToken;switch(t){case k.GREATER_THAN_SIGN:{this.state=P.DATA,this.emitCurrentComment(n);break}case k.EXCLAMATION_MARK:{this.state=P.COMMENT_END_BANG;break}case k.HYPHEN_MINUS:{n.data+="-";break}case k.EOF:{this._err(ae.eofInComment),this.emitCurrentComment(n),this._emitEOFToken();break}default:n.data+="--",this.state=P.COMMENT,this._stateComment(t)}}_stateCommentEndBang(t){const n=this.currentToken;switch(t){case k.HYPHEN_MINUS:{n.data+="--!",this.state=P.COMMENT_END_DASH;break}case k.GREATER_THAN_SIGN:{this._err(ae.incorrectlyClosedComment),this.state=P.DATA,this.emitCurrentComment(n);break}case k.EOF:{this._err(ae.eofInComment),this.emitCurrentComment(n),this._emitEOFToken();break}default:n.data+="--!",this.state=P.COMMENT,this._stateComment(t)}}_stateDoctype(t){switch(t){case k.SPACE:case k.LINE_FEED:case k.TABULATION:case k.FORM_FEED:{this.state=P.BEFORE_DOCTYPE_NAME;break}case k.GREATER_THAN_SIGN:{this.state=P.BEFORE_DOCTYPE_NAME,this._stateBeforeDoctypeName(t);break}case k.EOF:{this._err(ae.eofInDoctype),this._createDoctypeToken(null);const n=this.currentToken;n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(ae.missingWhitespaceBeforeDoctypeName),this.state=P.BEFORE_DOCTYPE_NAME,this._stateBeforeDoctypeName(t)}}_stateBeforeDoctypeName(t){if(Qo(t))this._createDoctypeToken(String.fromCharCode(rc(t))),this.state=P.DOCTYPE_NAME;else switch(t){case k.SPACE:case k.LINE_FEED:case k.TABULATION:case k.FORM_FEED:break;case k.NULL:{this._err(ae.unexpectedNullCharacter),this._createDoctypeToken(St),this.state=P.DOCTYPE_NAME;break}case k.GREATER_THAN_SIGN:{this._err(ae.missingDoctypeName),this._createDoctypeToken(null);const n=this.currentToken;n.forceQuirks=!0,this.emitCurrentDoctype(n),this.state=P.DATA;break}case k.EOF:{this._err(ae.eofInDoctype),this._createDoctypeToken(null);const n=this.currentToken;n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._createDoctypeToken(String.fromCodePoint(t)),this.state=P.DOCTYPE_NAME}}_stateDoctypeName(t){const n=this.currentToken;switch(t){case k.SPACE:case k.LINE_FEED:case k.TABULATION:case k.FORM_FEED:{this.state=P.AFTER_DOCTYPE_NAME;break}case k.GREATER_THAN_SIGN:{this.state=P.DATA,this.emitCurrentDoctype(n);break}case k.NULL:{this._err(ae.unexpectedNullCharacter),n.name+=St;break}case k.EOF:{this._err(ae.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:n.name+=String.fromCodePoint(Qo(t)?rc(t):t)}}_stateAfterDoctypeName(t){const n=this.currentToken;switch(t){case k.SPACE:case k.LINE_FEED:case k.TABULATION:case k.FORM_FEED:break;case k.GREATER_THAN_SIGN:{this.state=P.DATA,this.emitCurrentDoctype(n);break}case k.EOF:{this._err(ae.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._consumeSequenceIfMatch(Sn.PUBLIC,!1)?this.state=P.AFTER_DOCTYPE_PUBLIC_KEYWORD:this._consumeSequenceIfMatch(Sn.SYSTEM,!1)?this.state=P.AFTER_DOCTYPE_SYSTEM_KEYWORD:this._ensureHibernation()||(this._err(ae.invalidCharacterSequenceAfterDoctypeName),n.forceQuirks=!0,this.state=P.BOGUS_DOCTYPE,this._stateBogusDoctype(t))}}_stateAfterDoctypePublicKeyword(t){const n=this.currentToken;switch(t){case k.SPACE:case k.LINE_FEED:case k.TABULATION:case k.FORM_FEED:{this.state=P.BEFORE_DOCTYPE_PUBLIC_IDENTIFIER;break}case k.QUOTATION_MARK:{this._err(ae.missingWhitespaceAfterDoctypePublicKeyword),n.publicId="",this.state=P.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED;break}case k.APOSTROPHE:{this._err(ae.missingWhitespaceAfterDoctypePublicKeyword),n.publicId="",this.state=P.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED;break}case k.GREATER_THAN_SIGN:{this._err(ae.missingDoctypePublicIdentifier),n.forceQuirks=!0,this.state=P.DATA,this.emitCurrentDoctype(n);break}case k.EOF:{this._err(ae.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(ae.missingQuoteBeforeDoctypePublicIdentifier),n.forceQuirks=!0,this.state=P.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateBeforeDoctypePublicIdentifier(t){const n=this.currentToken;switch(t){case k.SPACE:case k.LINE_FEED:case k.TABULATION:case k.FORM_FEED:break;case k.QUOTATION_MARK:{n.publicId="",this.state=P.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED;break}case k.APOSTROPHE:{n.publicId="",this.state=P.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED;break}case k.GREATER_THAN_SIGN:{this._err(ae.missingDoctypePublicIdentifier),n.forceQuirks=!0,this.state=P.DATA,this.emitCurrentDoctype(n);break}case k.EOF:{this._err(ae.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(ae.missingQuoteBeforeDoctypePublicIdentifier),n.forceQuirks=!0,this.state=P.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateDoctypePublicIdentifierDoubleQuoted(t){const n=this.currentToken;switch(t){case k.QUOTATION_MARK:{this.state=P.AFTER_DOCTYPE_PUBLIC_IDENTIFIER;break}case k.NULL:{this._err(ae.unexpectedNullCharacter),n.publicId+=St;break}case k.GREATER_THAN_SIGN:{this._err(ae.abruptDoctypePublicIdentifier),n.forceQuirks=!0,this.emitCurrentDoctype(n),this.state=P.DATA;break}case k.EOF:{this._err(ae.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:n.publicId+=String.fromCodePoint(t)}}_stateDoctypePublicIdentifierSingleQuoted(t){const n=this.currentToken;switch(t){case k.APOSTROPHE:{this.state=P.AFTER_DOCTYPE_PUBLIC_IDENTIFIER;break}case k.NULL:{this._err(ae.unexpectedNullCharacter),n.publicId+=St;break}case k.GREATER_THAN_SIGN:{this._err(ae.abruptDoctypePublicIdentifier),n.forceQuirks=!0,this.emitCurrentDoctype(n),this.state=P.DATA;break}case k.EOF:{this._err(ae.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:n.publicId+=String.fromCodePoint(t)}}_stateAfterDoctypePublicIdentifier(t){const n=this.currentToken;switch(t){case k.SPACE:case k.LINE_FEED:case k.TABULATION:case k.FORM_FEED:{this.state=P.BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS;break}case k.GREATER_THAN_SIGN:{this.state=P.DATA,this.emitCurrentDoctype(n);break}case k.QUOTATION_MARK:{this._err(ae.missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers),n.systemId="",this.state=P.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break}case k.APOSTROPHE:{this._err(ae.missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers),n.systemId="",this.state=P.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break}case k.EOF:{this._err(ae.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(ae.missingQuoteBeforeDoctypeSystemIdentifier),n.forceQuirks=!0,this.state=P.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateBetweenDoctypePublicAndSystemIdentifiers(t){const n=this.currentToken;switch(t){case k.SPACE:case k.LINE_FEED:case k.TABULATION:case k.FORM_FEED:break;case k.GREATER_THAN_SIGN:{this.emitCurrentDoctype(n),this.state=P.DATA;break}case k.QUOTATION_MARK:{n.systemId="",this.state=P.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break}case k.APOSTROPHE:{n.systemId="",this.state=P.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break}case k.EOF:{this._err(ae.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(ae.missingQuoteBeforeDoctypeSystemIdentifier),n.forceQuirks=!0,this.state=P.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateAfterDoctypeSystemKeyword(t){const n=this.currentToken;switch(t){case k.SPACE:case k.LINE_FEED:case k.TABULATION:case k.FORM_FEED:{this.state=P.BEFORE_DOCTYPE_SYSTEM_IDENTIFIER;break}case k.QUOTATION_MARK:{this._err(ae.missingWhitespaceAfterDoctypeSystemKeyword),n.systemId="",this.state=P.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break}case k.APOSTROPHE:{this._err(ae.missingWhitespaceAfterDoctypeSystemKeyword),n.systemId="",this.state=P.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break}case k.GREATER_THAN_SIGN:{this._err(ae.missingDoctypeSystemIdentifier),n.forceQuirks=!0,this.state=P.DATA,this.emitCurrentDoctype(n);break}case k.EOF:{this._err(ae.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(ae.missingQuoteBeforeDoctypeSystemIdentifier),n.forceQuirks=!0,this.state=P.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateBeforeDoctypeSystemIdentifier(t){const n=this.currentToken;switch(t){case k.SPACE:case k.LINE_FEED:case k.TABULATION:case k.FORM_FEED:break;case k.QUOTATION_MARK:{n.systemId="",this.state=P.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break}case k.APOSTROPHE:{n.systemId="",this.state=P.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break}case k.GREATER_THAN_SIGN:{this._err(ae.missingDoctypeSystemIdentifier),n.forceQuirks=!0,this.state=P.DATA,this.emitCurrentDoctype(n);break}case k.EOF:{this._err(ae.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(ae.missingQuoteBeforeDoctypeSystemIdentifier),n.forceQuirks=!0,this.state=P.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateDoctypeSystemIdentifierDoubleQuoted(t){const n=this.currentToken;switch(t){case k.QUOTATION_MARK:{this.state=P.AFTER_DOCTYPE_SYSTEM_IDENTIFIER;break}case k.NULL:{this._err(ae.unexpectedNullCharacter),n.systemId+=St;break}case k.GREATER_THAN_SIGN:{this._err(ae.abruptDoctypeSystemIdentifier),n.forceQuirks=!0,this.emitCurrentDoctype(n),this.state=P.DATA;break}case k.EOF:{this._err(ae.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:n.systemId+=String.fromCodePoint(t)}}_stateDoctypeSystemIdentifierSingleQuoted(t){const n=this.currentToken;switch(t){case k.APOSTROPHE:{this.state=P.AFTER_DOCTYPE_SYSTEM_IDENTIFIER;break}case k.NULL:{this._err(ae.unexpectedNullCharacter),n.systemId+=St;break}case k.GREATER_THAN_SIGN:{this._err(ae.abruptDoctypeSystemIdentifier),n.forceQuirks=!0,this.emitCurrentDoctype(n),this.state=P.DATA;break}case k.EOF:{this._err(ae.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:n.systemId+=String.fromCodePoint(t)}}_stateAfterDoctypeSystemIdentifier(t){const n=this.currentToken;switch(t){case k.SPACE:case k.LINE_FEED:case k.TABULATION:case k.FORM_FEED:break;case k.GREATER_THAN_SIGN:{this.emitCurrentDoctype(n),this.state=P.DATA;break}case k.EOF:{this._err(ae.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(ae.unexpectedCharacterAfterDoctypeSystemIdentifier),this.state=P.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateBogusDoctype(t){const n=this.currentToken;switch(t){case k.GREATER_THAN_SIGN:{this.emitCurrentDoctype(n),this.state=P.DATA;break}case k.NULL:{this._err(ae.unexpectedNullCharacter);break}case k.EOF:{this.emitCurrentDoctype(n),this._emitEOFToken();break}}}_stateCdataSection(t){switch(t){case k.RIGHT_SQUARE_BRACKET:{this.state=P.CDATA_SECTION_BRACKET;break}case k.EOF:{this._err(ae.eofInCdata),this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateCdataSectionBracket(t){t===k.RIGHT_SQUARE_BRACKET?this.state=P.CDATA_SECTION_END:(this._emitChars("]"),this.state=P.CDATA_SECTION,this._stateCdataSection(t))}_stateCdataSectionEnd(t){switch(t){case k.GREATER_THAN_SIGN:{this.state=P.DATA;break}case k.RIGHT_SQUARE_BRACKET:{this._emitChars("]");break}default:this._emitChars("]]"),this.state=P.CDATA_SECTION,this._stateCdataSection(t)}}_stateCharacterReference(){let t=this.entityDecoder.write(this.preprocessor.html,this.preprocessor.pos);if(t<0)if(this.preprocessor.lastChunkWritten)t=this.entityDecoder.end();else{this.active=!1,this.preprocessor.pos=this.preprocessor.html.length-1,this.consumedAfterSnapshot=0,this.preprocessor.endOfChunkHit=!0;return}t===0?(this.preprocessor.pos=this.entityStartPos,this._flushCodePointConsumedAsCharacterReference(k.AMPERSAND),this.state=!this._isCharacterReferenceInAttribute()&&Zb(this.preprocessor.peek(1))?P.AMBIGUOUS_AMPERSAND:this.returnState):this.state=this.returnState}_stateAmbiguousAmpersand(t){Zb(t)?this._flushCodePointConsumedAsCharacterReference(t):(t===k.SEMICOLON&&this._err(ae.unknownNamedCharacterReference),this.state=this.returnState,this._callState(t))}}const M2=new Set([E.DD,E.DT,E.LI,E.OPTGROUP,E.OPTION,E.P,E.RB,E.RP,E.RT,E.RTC]),tx=new Set([...M2,E.CAPTION,E.COLGROUP,E.TBODY,E.TD,E.TFOOT,E.TH,E.THEAD,E.TR]),Mc=new Set([E.APPLET,E.CAPTION,E.HTML,E.MARQUEE,E.OBJECT,E.TABLE,E.TD,E.TEMPLATE,E.TH]),q5=new Set([...Mc,E.OL,E.UL]),Y5=new Set([...Mc,E.BUTTON]),nx=new Set([E.ANNOTATION_XML,E.MI,E.MN,E.MO,E.MS,E.MTEXT]),ix=new Set([E.DESC,E.FOREIGN_OBJECT,E.TITLE]),K5=new Set([E.TR,E.TEMPLATE,E.HTML]),$5=new Set([E.TBODY,E.TFOOT,E.THEAD,E.TEMPLATE,E.HTML]),X5=new Set([E.TABLE,E.TEMPLATE,E.HTML]),W5=new Set([E.TD,E.TH]);class Q5{get currentTmplContentOrNode(){return this._isInTemplate()?this.treeAdapter.getTemplateContent(this.current):this.current}constructor(t,n,i){this.treeAdapter=n,this.handler=i,this.items=[],this.tagIDs=[],this.stackTop=-1,this.tmplCount=0,this.currentTagId=E.UNKNOWN,this.current=t}_indexOf(t){return this.items.lastIndexOf(t,this.stackTop)}_isInTemplate(){return this.currentTagId===E.TEMPLATE&&this.treeAdapter.getNamespaceURI(this.current)===he.HTML}_updateCurrentElement(){this.current=this.items[this.stackTop],this.currentTagId=this.tagIDs[this.stackTop]}push(t,n){this.stackTop++,this.items[this.stackTop]=t,this.current=t,this.tagIDs[this.stackTop]=n,this.currentTagId=n,this._isInTemplate()&&this.tmplCount++,this.handler.onItemPush(t,n,!0)}pop(){const t=this.current;this.tmplCount>0&&this._isInTemplate()&&this.tmplCount--,this.stackTop--,this._updateCurrentElement(),this.handler.onItemPop(t,!0)}replace(t,n){const i=this._indexOf(t);this.items[i]=n,i===this.stackTop&&(this.current=n)}insertAfter(t,n,i){const s=this._indexOf(t)+1;this.items.splice(s,0,n),this.tagIDs.splice(s,0,i),this.stackTop++,s===this.stackTop&&this._updateCurrentElement(),this.current&&this.currentTagId!==void 0&&this.handler.onItemPush(this.current,this.currentTagId,s===this.stackTop)}popUntilTagNamePopped(t){let n=this.stackTop+1;do n=this.tagIDs.lastIndexOf(t,n-1);while(n>0&&this.treeAdapter.getNamespaceURI(this.items[n])!==he.HTML);this.shortenToLength(Math.max(n,0))}shortenToLength(t){for(;this.stackTop>=t;){const n=this.current;this.tmplCount>0&&this._isInTemplate()&&(this.tmplCount-=1),this.stackTop--,this._updateCurrentElement(),this.handler.onItemPop(n,this.stackTop<t)}}popUntilElementPopped(t){const n=this._indexOf(t);this.shortenToLength(Math.max(n,0))}popUntilPopped(t,n){const i=this._indexOfTagNames(t,n);this.shortenToLength(Math.max(i,0))}popUntilNumberedHeaderPopped(){this.popUntilPopped(Nh,he.HTML)}popUntilTableCellPopped(){this.popUntilPopped(W5,he.HTML)}popAllUpToHtmlElement(){this.tmplCount=0,this.shortenToLength(1)}_indexOfTagNames(t,n){for(let i=this.stackTop;i>=0;i--)if(t.has(this.tagIDs[i])&&this.treeAdapter.getNamespaceURI(this.items[i])===n)return i;return-1}clearBackTo(t,n){const i=this._indexOfTagNames(t,n);this.shortenToLength(i+1)}clearBackToTableContext(){this.clearBackTo(X5,he.HTML)}clearBackToTableBodyContext(){this.clearBackTo($5,he.HTML)}clearBackToTableRowContext(){this.clearBackTo(K5,he.HTML)}remove(t){const n=this._indexOf(t);n>=0&&(n===this.stackTop?this.pop():(this.items.splice(n,1),this.tagIDs.splice(n,1),this.stackTop--,this._updateCurrentElement(),this.handler.onItemPop(t,!1)))}tryPeekProperlyNestedBodyElement(){return this.stackTop>=1&&this.tagIDs[1]===E.BODY?this.items[1]:null}contains(t){return this._indexOf(t)>-1}getCommonAncestor(t){const n=this._indexOf(t)-1;return n>=0?this.items[n]:null}isRootHtmlElementCurrent(){return this.stackTop===0&&this.tagIDs[0]===E.HTML}hasInDynamicScope(t,n){for(let i=this.stackTop;i>=0;i--){const s=this.tagIDs[i];switch(this.treeAdapter.getNamespaceURI(this.items[i])){case he.HTML:{if(s===t)return!0;if(n.has(s))return!1;break}case he.SVG:{if(ix.has(s))return!1;break}case he.MATHML:{if(nx.has(s))return!1;break}}}return!0}hasInScope(t){return this.hasInDynamicScope(t,Mc)}hasInListItemScope(t){return this.hasInDynamicScope(t,q5)}hasInButtonScope(t){return this.hasInDynamicScope(t,Y5)}hasNumberedHeaderInScope(){for(let t=this.stackTop;t>=0;t--){const n=this.tagIDs[t];switch(this.treeAdapter.getNamespaceURI(this.items[t])){case he.HTML:{if(Nh.has(n))return!0;if(Mc.has(n))return!1;break}case he.SVG:{if(ix.has(n))return!1;break}case he.MATHML:{if(nx.has(n))return!1;break}}}return!0}hasInTableScope(t){for(let n=this.stackTop;n>=0;n--)if(this.treeAdapter.getNamespaceURI(this.items[n])===he.HTML)switch(this.tagIDs[n]){case t:return!0;case E.TABLE:case E.HTML:return!1}return!0}hasTableBodyContextInTableScope(){for(let t=this.stackTop;t>=0;t--)if(this.treeAdapter.getNamespaceURI(this.items[t])===he.HTML)switch(this.tagIDs[t]){case E.TBODY:case E.THEAD:case E.TFOOT:return!0;case E.TABLE:case E.HTML:return!1}return!0}hasInSelectScope(t){for(let n=this.stackTop;n>=0;n--)if(this.treeAdapter.getNamespaceURI(this.items[n])===he.HTML)switch(this.tagIDs[n]){case t:return!0;case E.OPTION:case E.OPTGROUP:break;default:return!1}return!0}generateImpliedEndTags(){for(;this.currentTagId!==void 0&&M2.has(this.currentTagId);)this.pop()}generateImpliedEndTagsThoroughly(){for(;this.currentTagId!==void 0&&tx.has(this.currentTagId);)this.pop()}generateImpliedEndTagsWithExclusion(t){for(;this.currentTagId!==void 0&&this.currentTagId!==t&&tx.has(this.currentTagId);)this.pop()}}const Um=3;var Ei;(function(e){e[e.Marker=0]="Marker",e[e.Element=1]="Element"})(Ei||(Ei={}));const ax={type:Ei.Marker};class J5{constructor(t){this.treeAdapter=t,this.entries=[],this.bookmark=null}_getNoahArkConditionCandidates(t,n){const i=[],s=n.length,o=this.treeAdapter.getTagName(t),u=this.treeAdapter.getNamespaceURI(t);for(let c=0;c<this.entries.length;c++){const m=this.entries[c];if(m.type===Ei.Marker)break;const{element:f}=m;if(this.treeAdapter.getTagName(f)===o&&this.treeAdapter.getNamespaceURI(f)===u){const h=this.treeAdapter.getAttrList(f);h.length===s&&i.push({idx:c,attrs:h})}}return i}_ensureNoahArkCondition(t){if(this.entries.length<Um)return;const n=this.treeAdapter.getAttrList(t),i=this._getNoahArkConditionCandidates(t,n);if(i.length<Um)return;const s=new Map(n.map(u=>[u.name,u.value]));let o=0;for(let u=0;u<i.length;u++){const c=i[u];c.attrs.every(m=>s.get(m.name)===m.value)&&(o+=1,o>=Um&&this.entries.splice(c.idx,1))}}insertMarker(){this.entries.unshift(ax)}pushElement(t,n){this._ensureNoahArkCondition(t),this.entries.unshift({type:Ei.Element,element:t,token:n})}insertElementAfterBookmark(t,n){const i=this.entries.indexOf(this.bookmark);this.entries.splice(i,0,{type:Ei.Element,element:t,token:n})}removeEntry(t){const n=this.entries.indexOf(t);n!==-1&&this.entries.splice(n,1)}clearToLastMarker(){const t=this.entries.indexOf(ax);t===-1?this.entries.length=0:this.entries.splice(0,t+1)}getElementEntryInScopeWithTagName(t){const n=this.entries.find(i=>i.type===Ei.Marker||this.treeAdapter.getTagName(i.element)===t);return n&&n.type===Ei.Element?n:null}getElementEntry(t){return this.entries.find(n=>n.type===Ei.Element&&n.element===t)}}const Ca={createDocument(){return{nodeName:"#document",mode:ei.NO_QUIRKS,childNodes:[]}},createDocumentFragment(){return{nodeName:"#document-fragment",childNodes:[]}},createElement(e,t,n){return{nodeName:e,tagName:e,attrs:n,namespaceURI:t,childNodes:[],parentNode:null}},createCommentNode(e){return{nodeName:"#comment",data:e,parentNode:null}},createTextNode(e){return{nodeName:"#text",value:e,parentNode:null}},appendChild(e,t){e.childNodes.push(t),t.parentNode=e},insertBefore(e,t,n){const i=e.childNodes.indexOf(n);e.childNodes.splice(i,0,t),t.parentNode=e},setTemplateContent(e,t){e.content=t},getTemplateContent(e){return e.content},setDocumentType(e,t,n,i){const s=e.childNodes.find(o=>o.nodeName==="#documentType");if(s)s.name=t,s.publicId=n,s.systemId=i;else{const o={nodeName:"#documentType",name:t,publicId:n,systemId:i,parentNode:null};Ca.appendChild(e,o)}},setDocumentMode(e,t){e.mode=t},getDocumentMode(e){return e.mode},detachNode(e){if(e.parentNode){const t=e.parentNode.childNodes.indexOf(e);e.parentNode.childNodes.splice(t,1),e.parentNode=null}},insertText(e,t){if(e.childNodes.length>0){const n=e.childNodes[e.childNodes.length-1];if(Ca.isTextNode(n)){n.value+=t;return}}Ca.appendChild(e,Ca.createTextNode(t))},insertTextBefore(e,t,n){const i=e.childNodes[e.childNodes.indexOf(n)-1];i&&Ca.isTextNode(i)?i.value+=t:Ca.insertBefore(e,Ca.createTextNode(t),n)},adoptAttributes(e,t){const n=new Set(e.attrs.map(i=>i.name));for(let i=0;i<t.length;i++)n.has(t[i].name)||e.attrs.push(t[i])},getFirstChild(e){return e.childNodes[0]},getChildNodes(e){return e.childNodes},getParentNode(e){return e.parentNode},getAttrList(e){return e.attrs},getTagName(e){return e.tagName},getNamespaceURI(e){return e.namespaceURI},getTextNodeContent(e){return e.value},getCommentNodeContent(e){return e.data},getDocumentTypeNodeName(e){return e.name},getDocumentTypeNodePublicId(e){return e.publicId},getDocumentTypeNodeSystemId(e){return e.systemId},isTextNode(e){return e.nodeName==="#text"},isCommentNode(e){return e.nodeName==="#comment"},isDocumentTypeNode(e){return e.nodeName==="#documentType"},isElementNode(e){return Object.prototype.hasOwnProperty.call(e,"tagName")},setNodeSourceCodeLocation(e,t){e.sourceCodeLocation=t},getNodeSourceCodeLocation(e){return e.sourceCodeLocation},updateNodeSourceCodeLocation(e,t){e.sourceCodeLocation={...e.sourceCodeLocation,...t}}},D2="html",Z5="about:legacy-compat",eP="http://www.ibm.com/data/dtd/v11/ibmxhtml1-transitional.dtd",R2=["+//silmaril//dtd html pro v0r11 19970101//","-//as//dtd html 3.0 aswedit + extensions//","-//advasoft ltd//dtd html 3.0 aswedit + extensions//","-//ietf//dtd html 2.0 level 1//","-//ietf//dtd html 2.0 level 2//","-//ietf//dtd html 2.0 strict level 1//","-//ietf//dtd html 2.0 strict level 2//","-//ietf//dtd html 2.0 strict//","-//ietf//dtd html 2.0//","-//ietf//dtd html 2.1e//","-//ietf//dtd html 3.0//","-//ietf//dtd html 3.2 final//","-//ietf//dtd html 3.2//","-//ietf//dtd html 3//","-//ietf//dtd html level 0//","-//ietf//dtd html level 1//","-//ietf//dtd html level 2//","-//ietf//dtd html level 3//","-//ietf//dtd html strict level 0//","-//ietf//dtd html strict level 1//","-//ietf//dtd html strict level 2//","-//ietf//dtd html strict level 3//","-//ietf//dtd html strict//","-//ietf//dtd html//","-//metrius//dtd metrius presentational//","-//microsoft//dtd internet explorer 2.0 html strict//","-//microsoft//dtd internet explorer 2.0 html//","-//microsoft//dtd internet explorer 2.0 tables//","-//microsoft//dtd internet explorer 3.0 html strict//","-//microsoft//dtd internet explorer 3.0 html//","-//microsoft//dtd internet explorer 3.0 tables//","-//netscape comm. corp.//dtd html//","-//netscape comm. corp.//dtd strict html//","-//o'reilly and associates//dtd html 2.0//","-//o'reilly and associates//dtd html extended 1.0//","-//o'reilly and associates//dtd html extended relaxed 1.0//","-//sq//dtd html 2.0 hotmetal + extensions//","-//softquad software//dtd hotmetal pro 6.0::19990601::extensions to html 4.0//","-//softquad//dtd hotmetal pro 4.0::19971010::extensions to html 4.0//","-//spyglass//dtd html 2.0 extended//","-//sun microsystems corp.//dtd hotjava html//","-//sun microsystems corp.//dtd hotjava strict html//","-//w3c//dtd html 3 1995-03-24//","-//w3c//dtd html 3.2 draft//","-//w3c//dtd html 3.2 final//","-//w3c//dtd html 3.2//","-//w3c//dtd html 3.2s draft//","-//w3c//dtd html 4.0 frameset//","-//w3c//dtd html 4.0 transitional//","-//w3c//dtd html experimental 19960712//","-//w3c//dtd html experimental 970421//","-//w3c//dtd w3 html//","-//w3o//dtd w3 html 3.0//","-//webtechs//dtd mozilla html 2.0//","-//webtechs//dtd mozilla html//"],tP=[...R2,"-//w3c//dtd html 4.01 frameset//","-//w3c//dtd html 4.01 transitional//"],nP=new Set(["-//w3o//dtd w3 html strict 3.0//en//","-/w3c/dtd html 4.0 transitional/en","html"]),k2=["-//w3c//dtd xhtml 1.0 frameset//","-//w3c//dtd xhtml 1.0 transitional//"],iP=[...k2,"-//w3c//dtd html 4.01 frameset//","-//w3c//dtd html 4.01 transitional//"];function rx(e,t){return t.some(n=>e.startsWith(n))}function aP(e){return e.name===D2&&e.publicId===null&&(e.systemId===null||e.systemId===Z5)}function rP(e){if(e.name!==D2)return ei.QUIRKS;const{systemId:t}=e;if(t&&t.toLowerCase()===eP)return ei.QUIRKS;let{publicId:n}=e;if(n!==null){if(n=n.toLowerCase(),nP.has(n))return ei.QUIRKS;let i=t===null?tP:R2;if(rx(n,i))return ei.QUIRKS;if(i=t===null?k2:iP,rx(n,i))return ei.LIMITED_QUIRKS}return ei.NO_QUIRKS}const sx={TEXT_HTML:"text/html",APPLICATION_XML:"application/xhtml+xml"},sP="definitionurl",oP="definitionURL",lP=new Map(["attributeName","attributeType","baseFrequency","baseProfile","calcMode","clipPathUnits","diffuseConstant","edgeMode","filterUnits","glyphRef","gradientTransform","gradientUnits","kernelMatrix","kernelUnitLength","keyPoints","keySplines","keyTimes","lengthAdjust","limitingConeAngle","markerHeight","markerUnits","markerWidth","maskContentUnits","maskUnits","numOctaves","pathLength","patternContentUnits","patternTransform","patternUnits","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","refX","refY","repeatCount","repeatDur","requiredExtensions","requiredFeatures","specularConstant","specularExponent","spreadMethod","startOffset","stdDeviation","stitchTiles","surfaceScale","systemLanguage","tableValues","targetX","targetY","textLength","viewBox","viewTarget","xChannelSelector","yChannelSelector","zoomAndPan"].map(e=>[e.toLowerCase(),e])),uP=new Map([["xlink:actuate",{prefix:"xlink",name:"actuate",namespace:he.XLINK}],["xlink:arcrole",{prefix:"xlink",name:"arcrole",namespace:he.XLINK}],["xlink:href",{prefix:"xlink",name:"href",namespace:he.XLINK}],["xlink:role",{prefix:"xlink",name:"role",namespace:he.XLINK}],["xlink:show",{prefix:"xlink",name:"show",namespace:he.XLINK}],["xlink:title",{prefix:"xlink",name:"title",namespace:he.XLINK}],["xlink:type",{prefix:"xlink",name:"type",namespace:he.XLINK}],["xml:lang",{prefix:"xml",name:"lang",namespace:he.XML}],["xml:space",{prefix:"xml",name:"space",namespace:he.XML}],["xmlns",{prefix:"",name:"xmlns",namespace:he.XMLNS}],["xmlns:xlink",{prefix:"xmlns",name:"xlink",namespace:he.XMLNS}]]),cP=new Map(["altGlyph","altGlyphDef","altGlyphItem","animateColor","animateMotion","animateTransform","clipPath","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","foreignObject","glyphRef","linearGradient","radialGradient","textPath"].map(e=>[e.toLowerCase(),e])),dP=new Set([E.B,E.BIG,E.BLOCKQUOTE,E.BODY,E.BR,E.CENTER,E.CODE,E.DD,E.DIV,E.DL,E.DT,E.EM,E.EMBED,E.H1,E.H2,E.H3,E.H4,E.H5,E.H6,E.HEAD,E.HR,E.I,E.IMG,E.LI,E.LISTING,E.MENU,E.META,E.NOBR,E.OL,E.P,E.PRE,E.RUBY,E.S,E.SMALL,E.SPAN,E.STRONG,E.STRIKE,E.SUB,E.SUP,E.TABLE,E.TT,E.U,E.UL,E.VAR]);function fP(e){const t=e.tagID;return t===E.FONT&&e.attrs.some(({name:i})=>i===pr.COLOR||i===pr.SIZE||i===pr.FACE)||dP.has(t)}function w2(e){for(let t=0;t<e.attrs.length;t++)if(e.attrs[t].name===sP){e.attrs[t].name=oP;break}}function L2(e){for(let t=0;t<e.attrs.length;t++){const n=lP.get(e.attrs[t].name);n!=null&&(e.attrs[t].name=n)}}function b0(e){for(let t=0;t<e.attrs.length;t++){const n=uP.get(e.attrs[t].name);n&&(e.attrs[t].prefix=n.prefix,e.attrs[t].name=n.name,e.attrs[t].namespace=n.namespace)}}function mP(e){const t=cP.get(e.tagName);t!=null&&(e.tagName=t,e.tagID=Ls(e.tagName))}function hP(e,t){return t===he.MATHML&&(e===E.MI||e===E.MO||e===E.MN||e===E.MS||e===E.MTEXT)}function pP(e,t,n){if(t===he.MATHML&&e===E.ANNOTATION_XML){for(let i=0;i<n.length;i++)if(n[i].name===pr.ENCODING){const s=n[i].value.toLowerCase();return s===sx.TEXT_HTML||s===sx.APPLICATION_XML}}return t===he.SVG&&(e===E.FOREIGN_OBJECT||e===E.DESC||e===E.TITLE)}function gP(e,t,n,i){return(!i||i===he.HTML)&&pP(e,t,n)||(!i||i===he.MATHML)&&hP(e,t)}const yP="hidden",TP=8,bP=3;var B;(function(e){e[e.INITIAL=0]="INITIAL",e[e.BEFORE_HTML=1]="BEFORE_HTML",e[e.BEFORE_HEAD=2]="BEFORE_HEAD",e[e.IN_HEAD=3]="IN_HEAD",e[e.IN_HEAD_NO_SCRIPT=4]="IN_HEAD_NO_SCRIPT",e[e.AFTER_HEAD=5]="AFTER_HEAD",e[e.IN_BODY=6]="IN_BODY",e[e.TEXT=7]="TEXT",e[e.IN_TABLE=8]="IN_TABLE",e[e.IN_TABLE_TEXT=9]="IN_TABLE_TEXT",e[e.IN_CAPTION=10]="IN_CAPTION",e[e.IN_COLUMN_GROUP=11]="IN_COLUMN_GROUP",e[e.IN_TABLE_BODY=12]="IN_TABLE_BODY",e[e.IN_ROW=13]="IN_ROW",e[e.IN_CELL=14]="IN_CELL",e[e.IN_SELECT=15]="IN_SELECT",e[e.IN_SELECT_IN_TABLE=16]="IN_SELECT_IN_TABLE",e[e.IN_TEMPLATE=17]="IN_TEMPLATE",e[e.AFTER_BODY=18]="AFTER_BODY",e[e.IN_FRAMESET=19]="IN_FRAMESET",e[e.AFTER_FRAMESET=20]="AFTER_FRAMESET",e[e.AFTER_AFTER_BODY=21]="AFTER_AFTER_BODY",e[e.AFTER_AFTER_FRAMESET=22]="AFTER_AFTER_FRAMESET"})(B||(B={}));const xP={startLine:-1,startCol:-1,startOffset:-1,endLine:-1,endCol:-1,endOffset:-1},O2=new Set([E.TABLE,E.TBODY,E.TFOOT,E.THEAD,E.TR]),ox={scriptingEnabled:!0,sourceCodeLocationInfo:!1,treeAdapter:Ca,onParseError:null};class lx{constructor(t,n,i=null,s=null){this.fragmentContext=i,this.scriptHandler=s,this.currentToken=null,this.stopped=!1,this.insertionMode=B.INITIAL,this.originalInsertionMode=B.INITIAL,this.headElement=null,this.formElement=null,this.currentNotInHTML=!1,this.tmplInsertionModeStack=[],this.pendingCharacterTokens=[],this.hasNonWhitespacePendingCharacterToken=!1,this.framesetOk=!0,this.skipNextNewLine=!1,this.fosterParentingEnabled=!1,this.options={...ox,...t},this.treeAdapter=this.options.treeAdapter,this.onParseError=this.options.onParseError,this.onParseError&&(this.options.sourceCodeLocationInfo=!0),this.document=n??this.treeAdapter.createDocument(),this.tokenizer=new G5(this.options,this),this.activeFormattingElements=new J5(this.treeAdapter),this.fragmentContextID=i?Ls(this.treeAdapter.getTagName(i)):E.UNKNOWN,this._setContextModes(i??this.document,this.fragmentContextID),this.openElements=new Q5(this.document,this.treeAdapter,this)}static parse(t,n){const i=new this(n);return i.tokenizer.write(t,!0),i.document}static getFragmentParser(t,n){const i={...ox,...n};t??(t=i.treeAdapter.createElement(J.TEMPLATE,he.HTML,[]));const s=i.treeAdapter.createElement("documentmock",he.HTML,[]),o=new this(i,s,t);return o.fragmentContextID===E.TEMPLATE&&o.tmplInsertionModeStack.unshift(B.IN_TEMPLATE),o._initTokenizerForFragmentParsing(),o._insertFakeRootElement(),o._resetInsertionMode(),o._findFormInFragmentContext(),o}getFragment(){const t=this.treeAdapter.getFirstChild(this.document),n=this.treeAdapter.createDocumentFragment();return this._adoptNodes(t,n),n}_err(t,n,i){var s;if(!this.onParseError)return;const o=(s=t.location)!==null&&s!==void 0?s:xP,u={code:n,startLine:o.startLine,startCol:o.startCol,startOffset:o.startOffset,endLine:i?o.startLine:o.endLine,endCol:i?o.startCol:o.endCol,endOffset:i?o.startOffset:o.endOffset};this.onParseError(u)}onItemPush(t,n,i){var s,o;(o=(s=this.treeAdapter).onItemPush)===null||o===void 0||o.call(s,t),i&&this.openElements.stackTop>0&&this._setContextModes(t,n)}onItemPop(t,n){var i,s;if(this.options.sourceCodeLocationInfo&&this._setEndLocation(t,this.currentToken),(s=(i=this.treeAdapter).onItemPop)===null||s===void 0||s.call(i,t,this.openElements.current),n){let o,u;this.openElements.stackTop===0&&this.fragmentContext?(o=this.fragmentContext,u=this.fragmentContextID):{current:o,currentTagId:u}=this.openElements,this._setContextModes(o,u)}}_setContextModes(t,n){const i=t===this.document||t&&this.treeAdapter.getNamespaceURI(t)===he.HTML;this.currentNotInHTML=!i,this.tokenizer.inForeignNode=!i&&t!==void 0&&n!==void 0&&!this._isIntegrationPoint(n,t)}_switchToTextParsing(t,n){this._insertElement(t,he.HTML),this.tokenizer.state=n,this.originalInsertionMode=this.insertionMode,this.insertionMode=B.TEXT}switchToPlaintextParsing(){this.insertionMode=B.TEXT,this.originalInsertionMode=B.IN_BODY,this.tokenizer.state=Ot.PLAINTEXT}_getAdjustedCurrentElement(){return this.openElements.stackTop===0&&this.fragmentContext?this.fragmentContext:this.openElements.current}_findFormInFragmentContext(){let t=this.fragmentContext;for(;t;){if(this.treeAdapter.getTagName(t)===J.FORM){this.formElement=t;break}t=this.treeAdapter.getParentNode(t)}}_initTokenizerForFragmentParsing(){if(!(!this.fragmentContext||this.treeAdapter.getNamespaceURI(this.fragmentContext)!==he.HTML))switch(this.fragmentContextID){case E.TITLE:case E.TEXTAREA:{this.tokenizer.state=Ot.RCDATA;break}case E.STYLE:case E.XMP:case E.IFRAME:case E.NOEMBED:case E.NOFRAMES:case E.NOSCRIPT:{this.tokenizer.state=Ot.RAWTEXT;break}case E.SCRIPT:{this.tokenizer.state=Ot.SCRIPT_DATA;break}case E.PLAINTEXT:{this.tokenizer.state=Ot.PLAINTEXT;break}}}_setDocumentType(t){const n=t.name||"",i=t.publicId||"",s=t.systemId||"";if(this.treeAdapter.setDocumentType(this.document,n,i,s),t.location){const u=this.treeAdapter.getChildNodes(this.document).find(c=>this.treeAdapter.isDocumentTypeNode(c));u&&this.treeAdapter.setNodeSourceCodeLocation(u,t.location)}}_attachElementToTree(t,n){if(this.options.sourceCodeLocationInfo){const i=n&&{...n,startTag:n};this.treeAdapter.setNodeSourceCodeLocation(t,i)}if(this._shouldFosterParentOnInsertion())this._fosterParentElement(t);else{const i=this.openElements.currentTmplContentOrNode;this.treeAdapter.appendChild(i??this.document,t)}}_appendElement(t,n){const i=this.treeAdapter.createElement(t.tagName,n,t.attrs);this._attachElementToTree(i,t.location)}_insertElement(t,n){const i=this.treeAdapter.createElement(t.tagName,n,t.attrs);this._attachElementToTree(i,t.location),this.openElements.push(i,t.tagID)}_insertFakeElement(t,n){const i=this.treeAdapter.createElement(t,he.HTML,[]);this._attachElementToTree(i,null),this.openElements.push(i,n)}_insertTemplate(t){const n=this.treeAdapter.createElement(t.tagName,he.HTML,t.attrs),i=this.treeAdapter.createDocumentFragment();this.treeAdapter.setTemplateContent(n,i),this._attachElementToTree(n,t.location),this.openElements.push(n,t.tagID),this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(i,null)}_insertFakeRootElement(){const t=this.treeAdapter.createElement(J.HTML,he.HTML,[]);this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(t,null),this.treeAdapter.appendChild(this.openElements.current,t),this.openElements.push(t,E.HTML)}_appendCommentNode(t,n){const i=this.treeAdapter.createCommentNode(t.data);this.treeAdapter.appendChild(n,i),this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(i,t.location)}_insertCharacters(t){let n,i;if(this._shouldFosterParentOnInsertion()?({parent:n,beforeElement:i}=this._findFosterParentingLocation(),i?this.treeAdapter.insertTextBefore(n,t.chars,i):this.treeAdapter.insertText(n,t.chars)):(n=this.openElements.currentTmplContentOrNode,this.treeAdapter.insertText(n,t.chars)),!t.location)return;const s=this.treeAdapter.getChildNodes(n),o=i?s.lastIndexOf(i):s.length,u=s[o-1];if(this.treeAdapter.getNodeSourceCodeLocation(u)){const{endLine:m,endCol:f,endOffset:h}=t.location;this.treeAdapter.updateNodeSourceCodeLocation(u,{endLine:m,endCol:f,endOffset:h})}else this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(u,t.location)}_adoptNodes(t,n){for(let i=this.treeAdapter.getFirstChild(t);i;i=this.treeAdapter.getFirstChild(t))this.treeAdapter.detachNode(i),this.treeAdapter.appendChild(n,i)}_setEndLocation(t,n){if(this.treeAdapter.getNodeSourceCodeLocation(t)&&n.location){const i=n.location,s=this.treeAdapter.getTagName(t),o=n.type===We.END_TAG&&s===n.tagName?{endTag:{...i},endLine:i.endLine,endCol:i.endCol,endOffset:i.endOffset}:{endLine:i.startLine,endCol:i.startCol,endOffset:i.startOffset};this.treeAdapter.updateNodeSourceCodeLocation(t,o)}}shouldProcessStartTagTokenInForeignContent(t){if(!this.currentNotInHTML)return!1;let n,i;return this.openElements.stackTop===0&&this.fragmentContext?(n=this.fragmentContext,i=this.fragmentContextID):{current:n,currentTagId:i}=this.openElements,t.tagID===E.SVG&&this.treeAdapter.getTagName(n)===J.ANNOTATION_XML&&this.treeAdapter.getNamespaceURI(n)===he.MATHML?!1:this.tokenizer.inForeignNode||(t.tagID===E.MGLYPH||t.tagID===E.MALIGNMARK)&&i!==void 0&&!this._isIntegrationPoint(i,n,he.HTML)}_processToken(t){switch(t.type){case We.CHARACTER:{this.onCharacter(t);break}case We.NULL_CHARACTER:{this.onNullCharacter(t);break}case We.COMMENT:{this.onComment(t);break}case We.DOCTYPE:{this.onDoctype(t);break}case We.START_TAG:{this._processStartTag(t);break}case We.END_TAG:{this.onEndTag(t);break}case We.EOF:{this.onEof(t);break}case We.WHITESPACE_CHARACTER:{this.onWhitespaceCharacter(t);break}}}_isIntegrationPoint(t,n,i){const s=this.treeAdapter.getNamespaceURI(n),o=this.treeAdapter.getAttrList(n);return gP(t,s,o,i)}_reconstructActiveFormattingElements(){const t=this.activeFormattingElements.entries.length;if(t){const n=this.activeFormattingElements.entries.findIndex(s=>s.type===Ei.Marker||this.openElements.contains(s.element)),i=n===-1?t-1:n-1;for(let s=i;s>=0;s--){const o=this.activeFormattingElements.entries[s];this._insertElement(o.token,this.treeAdapter.getNamespaceURI(o.element)),o.element=this.openElements.current}}}_closeTableCell(){this.openElements.generateImpliedEndTags(),this.openElements.popUntilTableCellPopped(),this.activeFormattingElements.clearToLastMarker(),this.insertionMode=B.IN_ROW}_closePElement(){this.openElements.generateImpliedEndTagsWithExclusion(E.P),this.openElements.popUntilTagNamePopped(E.P)}_resetInsertionMode(){for(let t=this.openElements.stackTop;t>=0;t--)switch(t===0&&this.fragmentContext?this.fragmentContextID:this.openElements.tagIDs[t]){case E.TR:{this.insertionMode=B.IN_ROW;return}case E.TBODY:case E.THEAD:case E.TFOOT:{this.insertionMode=B.IN_TABLE_BODY;return}case E.CAPTION:{this.insertionMode=B.IN_CAPTION;return}case E.COLGROUP:{this.insertionMode=B.IN_COLUMN_GROUP;return}case E.TABLE:{this.insertionMode=B.IN_TABLE;return}case E.BODY:{this.insertionMode=B.IN_BODY;return}case E.FRAMESET:{this.insertionMode=B.IN_FRAMESET;return}case E.SELECT:{this._resetInsertionModeForSelect(t);return}case E.TEMPLATE:{this.insertionMode=this.tmplInsertionModeStack[0];return}case E.HTML:{this.insertionMode=this.headElement?B.AFTER_HEAD:B.BEFORE_HEAD;return}case E.TD:case E.TH:{if(t>0){this.insertionMode=B.IN_CELL;return}break}case E.HEAD:{if(t>0){this.insertionMode=B.IN_HEAD;return}break}}this.insertionMode=B.IN_BODY}_resetInsertionModeForSelect(t){if(t>0)for(let n=t-1;n>0;n--){const i=this.openElements.tagIDs[n];if(i===E.TEMPLATE)break;if(i===E.TABLE){this.insertionMode=B.IN_SELECT_IN_TABLE;return}}this.insertionMode=B.IN_SELECT}_isElementCausesFosterParenting(t){return O2.has(t)}_shouldFosterParentOnInsertion(){return this.fosterParentingEnabled&&this.openElements.currentTagId!==void 0&&this._isElementCausesFosterParenting(this.openElements.currentTagId)}_findFosterParentingLocation(){for(let t=this.openElements.stackTop;t>=0;t--){const n=this.openElements.items[t];switch(this.openElements.tagIDs[t]){case E.TEMPLATE:{if(this.treeAdapter.getNamespaceURI(n)===he.HTML)return{parent:this.treeAdapter.getTemplateContent(n),beforeElement:null};break}case E.TABLE:{const i=this.treeAdapter.getParentNode(n);return i?{parent:i,beforeElement:n}:{parent:this.openElements.items[t-1],beforeElement:null}}}}return{parent:this.openElements.items[0],beforeElement:null}}_fosterParentElement(t){const n=this._findFosterParentingLocation();n.beforeElement?this.treeAdapter.insertBefore(n.parent,t,n.beforeElement):this.treeAdapter.appendChild(n.parent,t)}_isSpecialElement(t,n){const i=this.treeAdapter.getNamespaceURI(t);return U5[i].has(n)}onCharacter(t){if(this.skipNextNewLine=!1,this.tokenizer.inForeignNode){WB(this,t);return}switch(this.insertionMode){case B.INITIAL:{qo(this,t);break}case B.BEFORE_HTML:{nl(this,t);break}case B.BEFORE_HEAD:{il(this,t);break}case B.IN_HEAD:{al(this,t);break}case B.IN_HEAD_NO_SCRIPT:{rl(this,t);break}case B.AFTER_HEAD:{sl(this,t);break}case B.IN_BODY:case B.IN_CAPTION:case B.IN_CELL:case B.IN_TEMPLATE:{B2(this,t);break}case B.TEXT:case B.IN_SELECT:case B.IN_SELECT_IN_TABLE:{this._insertCharacters(t);break}case B.IN_TABLE:case B.IN_TABLE_BODY:case B.IN_ROW:{Vm(this,t);break}case B.IN_TABLE_TEXT:{j2(this,t);break}case B.IN_COLUMN_GROUP:{Dc(this,t);break}case B.AFTER_BODY:{Rc(this,t);break}case B.AFTER_AFTER_BODY:{yc(this,t);break}}}onNullCharacter(t){if(this.skipNextNewLine=!1,this.tokenizer.inForeignNode){XB(this,t);return}switch(this.insertionMode){case B.INITIAL:{qo(this,t);break}case B.BEFORE_HTML:{nl(this,t);break}case B.BEFORE_HEAD:{il(this,t);break}case B.IN_HEAD:{al(this,t);break}case B.IN_HEAD_NO_SCRIPT:{rl(this,t);break}case B.AFTER_HEAD:{sl(this,t);break}case B.TEXT:{this._insertCharacters(t);break}case B.IN_TABLE:case B.IN_TABLE_BODY:case B.IN_ROW:{Vm(this,t);break}case B.IN_COLUMN_GROUP:{Dc(this,t);break}case B.AFTER_BODY:{Rc(this,t);break}case B.AFTER_AFTER_BODY:{yc(this,t);break}}}onComment(t){if(this.skipNextNewLine=!1,this.currentNotInHTML){Mh(this,t);return}switch(this.insertionMode){case B.INITIAL:case B.BEFORE_HTML:case B.BEFORE_HEAD:case B.IN_HEAD:case B.IN_HEAD_NO_SCRIPT:case B.AFTER_HEAD:case B.IN_BODY:case B.IN_TABLE:case B.IN_CAPTION:case B.IN_COLUMN_GROUP:case B.IN_TABLE_BODY:case B.IN_ROW:case B.IN_CELL:case B.IN_SELECT:case B.IN_SELECT_IN_TABLE:case B.IN_TEMPLATE:case B.IN_FRAMESET:case B.AFTER_FRAMESET:{Mh(this,t);break}case B.IN_TABLE_TEXT:{Yo(this,t);break}case B.AFTER_BODY:{IP(this,t);break}case B.AFTER_AFTER_BODY:case B.AFTER_AFTER_FRAMESET:{NP(this,t);break}}}onDoctype(t){switch(this.skipNextNewLine=!1,this.insertionMode){case B.INITIAL:{MP(this,t);break}case B.BEFORE_HEAD:case B.IN_HEAD:case B.IN_HEAD_NO_SCRIPT:case B.AFTER_HEAD:{this._err(t,ae.misplacedDoctype);break}case B.IN_TABLE_TEXT:{Yo(this,t);break}}}onStartTag(t){this.skipNextNewLine=!1,this.currentToken=t,this._processStartTag(t),t.selfClosing&&!t.ackSelfClosing&&this._err(t,ae.nonVoidHtmlElementStartTagWithTrailingSolidus)}_processStartTag(t){this.shouldProcessStartTagTokenInForeignContent(t)?QB(this,t):this._startTagOutsideForeignContent(t)}_startTagOutsideForeignContent(t){switch(this.insertionMode){case B.INITIAL:{qo(this,t);break}case B.BEFORE_HTML:{DP(this,t);break}case B.BEFORE_HEAD:{kP(this,t);break}case B.IN_HEAD:{mi(this,t);break}case B.IN_HEAD_NO_SCRIPT:{OP(this,t);break}case B.AFTER_HEAD:{BP(this,t);break}case B.IN_BODY:{cn(this,t);break}case B.IN_TABLE:{As(this,t);break}case B.IN_TABLE_TEXT:{Yo(this,t);break}case B.IN_CAPTION:{wB(this,t);break}case B.IN_COLUMN_GROUP:{v0(this,t);break}case B.IN_TABLE_BODY:{Zc(this,t);break}case B.IN_ROW:{ed(this,t);break}case B.IN_CELL:{PB(this,t);break}case B.IN_SELECT:{Y2(this,t);break}case B.IN_SELECT_IN_TABLE:{FB(this,t);break}case B.IN_TEMPLATE:{UB(this,t);break}case B.AFTER_BODY:{zB(this,t);break}case B.IN_FRAMESET:{jB(this,t);break}case B.AFTER_FRAMESET:{qB(this,t);break}case B.AFTER_AFTER_BODY:{KB(this,t);break}case B.AFTER_AFTER_FRAMESET:{$B(this,t);break}}}onEndTag(t){this.skipNextNewLine=!1,this.currentToken=t,this.currentNotInHTML?JB(this,t):this._endTagOutsideForeignContent(t)}_endTagOutsideForeignContent(t){switch(this.insertionMode){case B.INITIAL:{qo(this,t);break}case B.BEFORE_HTML:{RP(this,t);break}case B.BEFORE_HEAD:{wP(this,t);break}case B.IN_HEAD:{LP(this,t);break}case B.IN_HEAD_NO_SCRIPT:{PP(this,t);break}case B.AFTER_HEAD:{FP(this,t);break}case B.IN_BODY:{Jc(this,t);break}case B.TEXT:{SB(this,t);break}case B.IN_TABLE:{Tl(this,t);break}case B.IN_TABLE_TEXT:{Yo(this,t);break}case B.IN_CAPTION:{LB(this,t);break}case B.IN_COLUMN_GROUP:{OB(this,t);break}case B.IN_TABLE_BODY:{Dh(this,t);break}case B.IN_ROW:{q2(this,t);break}case B.IN_CELL:{BB(this,t);break}case B.IN_SELECT:{K2(this,t);break}case B.IN_SELECT_IN_TABLE:{HB(this,t);break}case B.IN_TEMPLATE:{VB(this,t);break}case B.AFTER_BODY:{X2(this,t);break}case B.IN_FRAMESET:{GB(this,t);break}case B.AFTER_FRAMESET:{YB(this,t);break}case B.AFTER_AFTER_BODY:{yc(this,t);break}}}onEof(t){switch(this.insertionMode){case B.INITIAL:{qo(this,t);break}case B.BEFORE_HTML:{nl(this,t);break}case B.BEFORE_HEAD:{il(this,t);break}case B.IN_HEAD:{al(this,t);break}case B.IN_HEAD_NO_SCRIPT:{rl(this,t);break}case B.AFTER_HEAD:{sl(this,t);break}case B.IN_BODY:case B.IN_TABLE:case B.IN_CAPTION:case B.IN_COLUMN_GROUP:case B.IN_TABLE_BODY:case B.IN_ROW:case B.IN_CELL:case B.IN_SELECT:case B.IN_SELECT_IN_TABLE:{V2(this,t);break}case B.TEXT:{CB(this,t);break}case B.IN_TABLE_TEXT:{Yo(this,t);break}case B.IN_TEMPLATE:{$2(this,t);break}case B.AFTER_BODY:case B.IN_FRAMESET:case B.AFTER_FRAMESET:case B.AFTER_AFTER_BODY:case B.AFTER_AFTER_FRAMESET:{E0(this,t);break}}}onWhitespaceCharacter(t){if(this.skipNextNewLine&&(this.skipNextNewLine=!1,t.chars.charCodeAt(0)===k.LINE_FEED)){if(t.chars.length===1)return;t.chars=t.chars.substr(1)}if(this.tokenizer.inForeignNode){this._insertCharacters(t);return}switch(this.insertionMode){case B.IN_HEAD:case B.IN_HEAD_NO_SCRIPT:case B.AFTER_HEAD:case B.TEXT:case B.IN_COLUMN_GROUP:case B.IN_SELECT:case B.IN_SELECT_IN_TABLE:case B.IN_FRAMESET:case B.AFTER_FRAMESET:{this._insertCharacters(t);break}case B.IN_BODY:case B.IN_CAPTION:case B.IN_CELL:case B.IN_TEMPLATE:case B.AFTER_BODY:case B.AFTER_AFTER_BODY:case B.AFTER_AFTER_FRAMESET:{P2(this,t);break}case B.IN_TABLE:case B.IN_TABLE_BODY:case B.IN_ROW:{Vm(this,t);break}case B.IN_TABLE_TEXT:{z2(this,t);break}}}}function EP(e,t){let n=e.activeFormattingElements.getElementEntryInScopeWithTagName(t.tagName);return n?e.openElements.contains(n.element)?e.openElements.hasInScope(t.tagID)||(n=null):(e.activeFormattingElements.removeEntry(n),n=null):U2(e,t),n}function vP(e,t){let n=null,i=e.openElements.stackTop;for(;i>=0;i--){const s=e.openElements.items[i];if(s===t.element)break;e._isSpecialElement(s,e.openElements.tagIDs[i])&&(n=s)}return n||(e.openElements.shortenToLength(Math.max(i,0)),e.activeFormattingElements.removeEntry(t)),n}function SP(e,t,n){let i=t,s=e.openElements.getCommonAncestor(t);for(let o=0,u=s;u!==n;o++,u=s){s=e.openElements.getCommonAncestor(u);const c=e.activeFormattingElements.getElementEntry(u),m=c&&o>=bP;!c||m?(m&&e.activeFormattingElements.removeEntry(c),e.openElements.remove(u)):(u=CP(e,c),i===t&&(e.activeFormattingElements.bookmark=c),e.treeAdapter.detachNode(i),e.treeAdapter.appendChild(u,i),i=u)}return i}function CP(e,t){const n=e.treeAdapter.getNamespaceURI(t.element),i=e.treeAdapter.createElement(t.token.tagName,n,t.token.attrs);return e.openElements.replace(t.element,i),t.element=i,i}function AP(e,t,n){const i=e.treeAdapter.getTagName(t),s=Ls(i);if(e._isElementCausesFosterParenting(s))e._fosterParentElement(n);else{const o=e.treeAdapter.getNamespaceURI(t);s===E.TEMPLATE&&o===he.HTML&&(t=e.treeAdapter.getTemplateContent(t)),e.treeAdapter.appendChild(t,n)}}function _P(e,t,n){const i=e.treeAdapter.getNamespaceURI(n.element),{token:s}=n,o=e.treeAdapter.createElement(s.tagName,i,s.attrs);e._adoptNodes(t,o),e.treeAdapter.appendChild(t,o),e.activeFormattingElements.insertElementAfterBookmark(o,s),e.activeFormattingElements.removeEntry(n),e.openElements.remove(n.element),e.openElements.insertAfter(t,o,s.tagID)}function x0(e,t){for(let n=0;n<TP;n++){const i=EP(e,t);if(!i)break;const s=vP(e,i);if(!s)break;e.activeFormattingElements.bookmark=i;const o=SP(e,s,i.element),u=e.openElements.getCommonAncestor(i.element);e.treeAdapter.detachNode(o),u&&AP(e,u,o),_P(e,s,i)}}function Mh(e,t){e._appendCommentNode(t,e.openElements.currentTmplContentOrNode)}function IP(e,t){e._appendCommentNode(t,e.openElements.items[0])}function NP(e,t){e._appendCommentNode(t,e.document)}function E0(e,t){if(e.stopped=!0,t.location){const n=e.fragmentContext?0:2;for(let i=e.openElements.stackTop;i>=n;i--)e._setEndLocation(e.openElements.items[i],t);if(!e.fragmentContext&&e.openElements.stackTop>=0){const i=e.openElements.items[0],s=e.treeAdapter.getNodeSourceCodeLocation(i);if(s&&!s.endTag&&(e._setEndLocation(i,t),e.openElements.stackTop>=1)){const o=e.openElements.items[1],u=e.treeAdapter.getNodeSourceCodeLocation(o);u&&!u.endTag&&e._setEndLocation(o,t)}}}}function MP(e,t){e._setDocumentType(t);const n=t.forceQuirks?ei.QUIRKS:rP(t);aP(t)||e._err(t,ae.nonConformingDoctype),e.treeAdapter.setDocumentMode(e.document,n),e.insertionMode=B.BEFORE_HTML}function qo(e,t){e._err(t,ae.missingDoctype,!0),e.treeAdapter.setDocumentMode(e.document,ei.QUIRKS),e.insertionMode=B.BEFORE_HTML,e._processToken(t)}function DP(e,t){t.tagID===E.HTML?(e._insertElement(t,he.HTML),e.insertionMode=B.BEFORE_HEAD):nl(e,t)}function RP(e,t){const n=t.tagID;(n===E.HTML||n===E.HEAD||n===E.BODY||n===E.BR)&&nl(e,t)}function nl(e,t){e._insertFakeRootElement(),e.insertionMode=B.BEFORE_HEAD,e._processToken(t)}function kP(e,t){switch(t.tagID){case E.HTML:{cn(e,t);break}case E.HEAD:{e._insertElement(t,he.HTML),e.headElement=e.openElements.current,e.insertionMode=B.IN_HEAD;break}default:il(e,t)}}function wP(e,t){const n=t.tagID;n===E.HEAD||n===E.BODY||n===E.HTML||n===E.BR?il(e,t):e._err(t,ae.endTagWithoutMatchingOpenElement)}function il(e,t){e._insertFakeElement(J.HEAD,E.HEAD),e.headElement=e.openElements.current,e.insertionMode=B.IN_HEAD,e._processToken(t)}function mi(e,t){switch(t.tagID){case E.HTML:{cn(e,t);break}case E.BASE:case E.BASEFONT:case E.BGSOUND:case E.LINK:case E.META:{e._appendElement(t,he.HTML),t.ackSelfClosing=!0;break}case E.TITLE:{e._switchToTextParsing(t,Ot.RCDATA);break}case E.NOSCRIPT:{e.options.scriptingEnabled?e._switchToTextParsing(t,Ot.RAWTEXT):(e._insertElement(t,he.HTML),e.insertionMode=B.IN_HEAD_NO_SCRIPT);break}case E.NOFRAMES:case E.STYLE:{e._switchToTextParsing(t,Ot.RAWTEXT);break}case E.SCRIPT:{e._switchToTextParsing(t,Ot.SCRIPT_DATA);break}case E.TEMPLATE:{e._insertTemplate(t),e.activeFormattingElements.insertMarker(),e.framesetOk=!1,e.insertionMode=B.IN_TEMPLATE,e.tmplInsertionModeStack.unshift(B.IN_TEMPLATE);break}case E.HEAD:{e._err(t,ae.misplacedStartTagForHeadElement);break}default:al(e,t)}}function LP(e,t){switch(t.tagID){case E.HEAD:{e.openElements.pop(),e.insertionMode=B.AFTER_HEAD;break}case E.BODY:case E.BR:case E.HTML:{al(e,t);break}case E.TEMPLATE:{Er(e,t);break}default:e._err(t,ae.endTagWithoutMatchingOpenElement)}}function Er(e,t){e.openElements.tmplCount>0?(e.openElements.generateImpliedEndTagsThoroughly(),e.openElements.currentTagId!==E.TEMPLATE&&e._err(t,ae.closingOfElementWithOpenChildElements),e.openElements.popUntilTagNamePopped(E.TEMPLATE),e.activeFormattingElements.clearToLastMarker(),e.tmplInsertionModeStack.shift(),e._resetInsertionMode()):e._err(t,ae.endTagWithoutMatchingOpenElement)}function al(e,t){e.openElements.pop(),e.insertionMode=B.AFTER_HEAD,e._processToken(t)}function OP(e,t){switch(t.tagID){case E.HTML:{cn(e,t);break}case E.BASEFONT:case E.BGSOUND:case E.HEAD:case E.LINK:case E.META:case E.NOFRAMES:case E.STYLE:{mi(e,t);break}case E.NOSCRIPT:{e._err(t,ae.nestedNoscriptInHead);break}default:rl(e,t)}}function PP(e,t){switch(t.tagID){case E.NOSCRIPT:{e.openElements.pop(),e.insertionMode=B.IN_HEAD;break}case E.BR:{rl(e,t);break}default:e._err(t,ae.endTagWithoutMatchingOpenElement)}}function rl(e,t){const n=t.type===We.EOF?ae.openElementsLeftAfterEof:ae.disallowedContentInNoscriptInHead;e._err(t,n),e.openElements.pop(),e.insertionMode=B.IN_HEAD,e._processToken(t)}function BP(e,t){switch(t.tagID){case E.HTML:{cn(e,t);break}case E.BODY:{e._insertElement(t,he.HTML),e.framesetOk=!1,e.insertionMode=B.IN_BODY;break}case E.FRAMESET:{e._insertElement(t,he.HTML),e.insertionMode=B.IN_FRAMESET;break}case E.BASE:case E.BASEFONT:case E.BGSOUND:case E.LINK:case E.META:case E.NOFRAMES:case E.SCRIPT:case E.STYLE:case E.TEMPLATE:case E.TITLE:{e._err(t,ae.abandonedHeadElementChild),e.openElements.push(e.headElement,E.HEAD),mi(e,t),e.openElements.remove(e.headElement);break}case E.HEAD:{e._err(t,ae.misplacedStartTagForHeadElement);break}default:sl(e,t)}}function FP(e,t){switch(t.tagID){case E.BODY:case E.HTML:case E.BR:{sl(e,t);break}case E.TEMPLATE:{Er(e,t);break}default:e._err(t,ae.endTagWithoutMatchingOpenElement)}}function sl(e,t){e._insertFakeElement(J.BODY,E.BODY),e.insertionMode=B.IN_BODY,Qc(e,t)}function Qc(e,t){switch(t.type){case We.CHARACTER:{B2(e,t);break}case We.WHITESPACE_CHARACTER:{P2(e,t);break}case We.COMMENT:{Mh(e,t);break}case We.START_TAG:{cn(e,t);break}case We.END_TAG:{Jc(e,t);break}case We.EOF:{V2(e,t);break}}}function P2(e,t){e._reconstructActiveFormattingElements(),e._insertCharacters(t)}function B2(e,t){e._reconstructActiveFormattingElements(),e._insertCharacters(t),e.framesetOk=!1}function HP(e,t){e.openElements.tmplCount===0&&e.treeAdapter.adoptAttributes(e.openElements.items[0],t.attrs)}function UP(e,t){const n=e.openElements.tryPeekProperlyNestedBodyElement();n&&e.openElements.tmplCount===0&&(e.framesetOk=!1,e.treeAdapter.adoptAttributes(n,t.attrs))}function VP(e,t){const n=e.openElements.tryPeekProperlyNestedBodyElement();e.framesetOk&&n&&(e.treeAdapter.detachNode(n),e.openElements.popAllUpToHtmlElement(),e._insertElement(t,he.HTML),e.insertionMode=B.IN_FRAMESET)}function zP(e,t){e.openElements.hasInButtonScope(E.P)&&e._closePElement(),e._insertElement(t,he.HTML)}function jP(e,t){e.openElements.hasInButtonScope(E.P)&&e._closePElement(),e.openElements.currentTagId!==void 0&&Nh.has(e.openElements.currentTagId)&&e.openElements.pop(),e._insertElement(t,he.HTML)}function GP(e,t){e.openElements.hasInButtonScope(E.P)&&e._closePElement(),e._insertElement(t,he.HTML),e.skipNextNewLine=!0,e.framesetOk=!1}function qP(e,t){const n=e.openElements.tmplCount>0;(!e.formElement||n)&&(e.openElements.hasInButtonScope(E.P)&&e._closePElement(),e._insertElement(t,he.HTML),n||(e.formElement=e.openElements.current))}function YP(e,t){e.framesetOk=!1;const n=t.tagID;for(let i=e.openElements.stackTop;i>=0;i--){const s=e.openElements.tagIDs[i];if(n===E.LI&&s===E.LI||(n===E.DD||n===E.DT)&&(s===E.DD||s===E.DT)){e.openElements.generateImpliedEndTagsWithExclusion(s),e.openElements.popUntilTagNamePopped(s);break}if(s!==E.ADDRESS&&s!==E.DIV&&s!==E.P&&e._isSpecialElement(e.openElements.items[i],s))break}e.openElements.hasInButtonScope(E.P)&&e._closePElement(),e._insertElement(t,he.HTML)}function KP(e,t){e.openElements.hasInButtonScope(E.P)&&e._closePElement(),e._insertElement(t,he.HTML),e.tokenizer.state=Ot.PLAINTEXT}function $P(e,t){e.openElements.hasInScope(E.BUTTON)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(E.BUTTON)),e._reconstructActiveFormattingElements(),e._insertElement(t,he.HTML),e.framesetOk=!1}function XP(e,t){const n=e.activeFormattingElements.getElementEntryInScopeWithTagName(J.A);n&&(x0(e,t),e.openElements.remove(n.element),e.activeFormattingElements.removeEntry(n)),e._reconstructActiveFormattingElements(),e._insertElement(t,he.HTML),e.activeFormattingElements.pushElement(e.openElements.current,t)}function WP(e,t){e._reconstructActiveFormattingElements(),e._insertElement(t,he.HTML),e.activeFormattingElements.pushElement(e.openElements.current,t)}function QP(e,t){e._reconstructActiveFormattingElements(),e.openElements.hasInScope(E.NOBR)&&(x0(e,t),e._reconstructActiveFormattingElements()),e._insertElement(t,he.HTML),e.activeFormattingElements.pushElement(e.openElements.current,t)}function JP(e,t){e._reconstructActiveFormattingElements(),e._insertElement(t,he.HTML),e.activeFormattingElements.insertMarker(),e.framesetOk=!1}function ZP(e,t){e.treeAdapter.getDocumentMode(e.document)!==ei.QUIRKS&&e.openElements.hasInButtonScope(E.P)&&e._closePElement(),e._insertElement(t,he.HTML),e.framesetOk=!1,e.insertionMode=B.IN_TABLE}function F2(e,t){e._reconstructActiveFormattingElements(),e._appendElement(t,he.HTML),e.framesetOk=!1,t.ackSelfClosing=!0}function H2(e){const t=I2(e,pr.TYPE);return t!=null&&t.toLowerCase()===yP}function eB(e,t){e._reconstructActiveFormattingElements(),e._appendElement(t,he.HTML),H2(t)||(e.framesetOk=!1),t.ackSelfClosing=!0}function tB(e,t){e._appendElement(t,he.HTML),t.ackSelfClosing=!0}function nB(e,t){e.openElements.hasInButtonScope(E.P)&&e._closePElement(),e._appendElement(t,he.HTML),e.framesetOk=!1,t.ackSelfClosing=!0}function iB(e,t){t.tagName=J.IMG,t.tagID=E.IMG,F2(e,t)}function aB(e,t){e._insertElement(t,he.HTML),e.skipNextNewLine=!0,e.tokenizer.state=Ot.RCDATA,e.originalInsertionMode=e.insertionMode,e.framesetOk=!1,e.insertionMode=B.TEXT}function rB(e,t){e.openElements.hasInButtonScope(E.P)&&e._closePElement(),e._reconstructActiveFormattingElements(),e.framesetOk=!1,e._switchToTextParsing(t,Ot.RAWTEXT)}function sB(e,t){e.framesetOk=!1,e._switchToTextParsing(t,Ot.RAWTEXT)}function ux(e,t){e._switchToTextParsing(t,Ot.RAWTEXT)}function oB(e,t){e._reconstructActiveFormattingElements(),e._insertElement(t,he.HTML),e.framesetOk=!1,e.insertionMode=e.insertionMode===B.IN_TABLE||e.insertionMode===B.IN_CAPTION||e.insertionMode===B.IN_TABLE_BODY||e.insertionMode===B.IN_ROW||e.insertionMode===B.IN_CELL?B.IN_SELECT_IN_TABLE:B.IN_SELECT}function lB(e,t){e.openElements.currentTagId===E.OPTION&&e.openElements.pop(),e._reconstructActiveFormattingElements(),e._insertElement(t,he.HTML)}function uB(e,t){e.openElements.hasInScope(E.RUBY)&&e.openElements.generateImpliedEndTags(),e._insertElement(t,he.HTML)}function cB(e,t){e.openElements.hasInScope(E.RUBY)&&e.openElements.generateImpliedEndTagsWithExclusion(E.RTC),e._insertElement(t,he.HTML)}function dB(e,t){e._reconstructActiveFormattingElements(),w2(t),b0(t),t.selfClosing?e._appendElement(t,he.MATHML):e._insertElement(t,he.MATHML),t.ackSelfClosing=!0}function fB(e,t){e._reconstructActiveFormattingElements(),L2(t),b0(t),t.selfClosing?e._appendElement(t,he.SVG):e._insertElement(t,he.SVG),t.ackSelfClosing=!0}function cx(e,t){e._reconstructActiveFormattingElements(),e._insertElement(t,he.HTML)}function cn(e,t){switch(t.tagID){case E.I:case E.S:case E.B:case E.U:case E.EM:case E.TT:case E.BIG:case E.CODE:case E.FONT:case E.SMALL:case E.STRIKE:case E.STRONG:{WP(e,t);break}case E.A:{XP(e,t);break}case E.H1:case E.H2:case E.H3:case E.H4:case E.H5:case E.H6:{jP(e,t);break}case E.P:case E.DL:case E.OL:case E.UL:case E.DIV:case E.DIR:case E.NAV:case E.MAIN:case E.MENU:case E.ASIDE:case E.CENTER:case E.FIGURE:case E.FOOTER:case E.HEADER:case E.HGROUP:case E.DIALOG:case E.DETAILS:case E.ADDRESS:case E.ARTICLE:case E.SEARCH:case E.SECTION:case E.SUMMARY:case E.FIELDSET:case E.BLOCKQUOTE:case E.FIGCAPTION:{zP(e,t);break}case E.LI:case E.DD:case E.DT:{YP(e,t);break}case E.BR:case E.IMG:case E.WBR:case E.AREA:case E.EMBED:case E.KEYGEN:{F2(e,t);break}case E.HR:{nB(e,t);break}case E.RB:case E.RTC:{uB(e,t);break}case E.RT:case E.RP:{cB(e,t);break}case E.PRE:case E.LISTING:{GP(e,t);break}case E.XMP:{rB(e,t);break}case E.SVG:{fB(e,t);break}case E.HTML:{HP(e,t);break}case E.BASE:case E.LINK:case E.META:case E.STYLE:case E.TITLE:case E.SCRIPT:case E.BGSOUND:case E.BASEFONT:case E.TEMPLATE:{mi(e,t);break}case E.BODY:{UP(e,t);break}case E.FORM:{qP(e,t);break}case E.NOBR:{QP(e,t);break}case E.MATH:{dB(e,t);break}case E.TABLE:{ZP(e,t);break}case E.INPUT:{eB(e,t);break}case E.PARAM:case E.TRACK:case E.SOURCE:{tB(e,t);break}case E.IMAGE:{iB(e,t);break}case E.BUTTON:{$P(e,t);break}case E.APPLET:case E.OBJECT:case E.MARQUEE:{JP(e,t);break}case E.IFRAME:{sB(e,t);break}case E.SELECT:{oB(e,t);break}case E.OPTION:case E.OPTGROUP:{lB(e,t);break}case E.NOEMBED:case E.NOFRAMES:{ux(e,t);break}case E.FRAMESET:{VP(e,t);break}case E.TEXTAREA:{aB(e,t);break}case E.NOSCRIPT:{e.options.scriptingEnabled?ux(e,t):cx(e,t);break}case E.PLAINTEXT:{KP(e,t);break}case E.COL:case E.TH:case E.TD:case E.TR:case E.HEAD:case E.FRAME:case E.TBODY:case E.TFOOT:case E.THEAD:case E.CAPTION:case E.COLGROUP:break;default:cx(e,t)}}function mB(e,t){if(e.openElements.hasInScope(E.BODY)&&(e.insertionMode=B.AFTER_BODY,e.options.sourceCodeLocationInfo)){const n=e.openElements.tryPeekProperlyNestedBodyElement();n&&e._setEndLocation(n,t)}}function hB(e,t){e.openElements.hasInScope(E.BODY)&&(e.insertionMode=B.AFTER_BODY,X2(e,t))}function pB(e,t){const n=t.tagID;e.openElements.hasInScope(n)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(n))}function gB(e){const t=e.openElements.tmplCount>0,{formElement:n}=e;t||(e.formElement=null),(n||t)&&e.openElements.hasInScope(E.FORM)&&(e.openElements.generateImpliedEndTags(),t?e.openElements.popUntilTagNamePopped(E.FORM):n&&e.openElements.remove(n))}function yB(e){e.openElements.hasInButtonScope(E.P)||e._insertFakeElement(J.P,E.P),e._closePElement()}function TB(e){e.openElements.hasInListItemScope(E.LI)&&(e.openElements.generateImpliedEndTagsWithExclusion(E.LI),e.openElements.popUntilTagNamePopped(E.LI))}function bB(e,t){const n=t.tagID;e.openElements.hasInScope(n)&&(e.openElements.generateImpliedEndTagsWithExclusion(n),e.openElements.popUntilTagNamePopped(n))}function xB(e){e.openElements.hasNumberedHeaderInScope()&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilNumberedHeaderPopped())}function EB(e,t){const n=t.tagID;e.openElements.hasInScope(n)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(n),e.activeFormattingElements.clearToLastMarker())}function vB(e){e._reconstructActiveFormattingElements(),e._insertFakeElement(J.BR,E.BR),e.openElements.pop(),e.framesetOk=!1}function U2(e,t){const n=t.tagName,i=t.tagID;for(let s=e.openElements.stackTop;s>0;s--){const o=e.openElements.items[s],u=e.openElements.tagIDs[s];if(i===u&&(i!==E.UNKNOWN||e.treeAdapter.getTagName(o)===n)){e.openElements.generateImpliedEndTagsWithExclusion(i),e.openElements.stackTop>=s&&e.openElements.shortenToLength(s);break}if(e._isSpecialElement(o,u))break}}function Jc(e,t){switch(t.tagID){case E.A:case E.B:case E.I:case E.S:case E.U:case E.EM:case E.TT:case E.BIG:case E.CODE:case E.FONT:case E.NOBR:case E.SMALL:case E.STRIKE:case E.STRONG:{x0(e,t);break}case E.P:{yB(e);break}case E.DL:case E.UL:case E.OL:case E.DIR:case E.DIV:case E.NAV:case E.PRE:case E.MAIN:case E.MENU:case E.ASIDE:case E.BUTTON:case E.CENTER:case E.FIGURE:case E.FOOTER:case E.HEADER:case E.HGROUP:case E.DIALOG:case E.ADDRESS:case E.ARTICLE:case E.DETAILS:case E.SEARCH:case E.SECTION:case E.SUMMARY:case E.LISTING:case E.FIELDSET:case E.BLOCKQUOTE:case E.FIGCAPTION:{pB(e,t);break}case E.LI:{TB(e);break}case E.DD:case E.DT:{bB(e,t);break}case E.H1:case E.H2:case E.H3:case E.H4:case E.H5:case E.H6:{xB(e);break}case E.BR:{vB(e);break}case E.BODY:{mB(e,t);break}case E.HTML:{hB(e,t);break}case E.FORM:{gB(e);break}case E.APPLET:case E.OBJECT:case E.MARQUEE:{EB(e,t);break}case E.TEMPLATE:{Er(e,t);break}default:U2(e,t)}}function V2(e,t){e.tmplInsertionModeStack.length>0?$2(e,t):E0(e,t)}function SB(e,t){var n;t.tagID===E.SCRIPT&&((n=e.scriptHandler)===null||n===void 0||n.call(e,e.openElements.current)),e.openElements.pop(),e.insertionMode=e.originalInsertionMode}function CB(e,t){e._err(t,ae.eofInElementThatCanContainOnlyText),e.openElements.pop(),e.insertionMode=e.originalInsertionMode,e.onEof(t)}function Vm(e,t){if(e.openElements.currentTagId!==void 0&&O2.has(e.openElements.currentTagId))switch(e.pendingCharacterTokens.length=0,e.hasNonWhitespacePendingCharacterToken=!1,e.originalInsertionMode=e.insertionMode,e.insertionMode=B.IN_TABLE_TEXT,t.type){case We.CHARACTER:{j2(e,t);break}case We.WHITESPACE_CHARACTER:{z2(e,t);break}}else kl(e,t)}function AB(e,t){e.openElements.clearBackToTableContext(),e.activeFormattingElements.insertMarker(),e._insertElement(t,he.HTML),e.insertionMode=B.IN_CAPTION}function _B(e,t){e.openElements.clearBackToTableContext(),e._insertElement(t,he.HTML),e.insertionMode=B.IN_COLUMN_GROUP}function IB(e,t){e.openElements.clearBackToTableContext(),e._insertFakeElement(J.COLGROUP,E.COLGROUP),e.insertionMode=B.IN_COLUMN_GROUP,v0(e,t)}function NB(e,t){e.openElements.clearBackToTableContext(),e._insertElement(t,he.HTML),e.insertionMode=B.IN_TABLE_BODY}function MB(e,t){e.openElements.clearBackToTableContext(),e._insertFakeElement(J.TBODY,E.TBODY),e.insertionMode=B.IN_TABLE_BODY,Zc(e,t)}function DB(e,t){e.openElements.hasInTableScope(E.TABLE)&&(e.openElements.popUntilTagNamePopped(E.TABLE),e._resetInsertionMode(),e._processStartTag(t))}function RB(e,t){H2(t)?e._appendElement(t,he.HTML):kl(e,t),t.ackSelfClosing=!0}function kB(e,t){!e.formElement&&e.openElements.tmplCount===0&&(e._insertElement(t,he.HTML),e.formElement=e.openElements.current,e.openElements.pop())}function As(e,t){switch(t.tagID){case E.TD:case E.TH:case E.TR:{MB(e,t);break}case E.STYLE:case E.SCRIPT:case E.TEMPLATE:{mi(e,t);break}case E.COL:{IB(e,t);break}case E.FORM:{kB(e,t);break}case E.TABLE:{DB(e,t);break}case E.TBODY:case E.TFOOT:case E.THEAD:{NB(e,t);break}case E.INPUT:{RB(e,t);break}case E.CAPTION:{AB(e,t);break}case E.COLGROUP:{_B(e,t);break}default:kl(e,t)}}function Tl(e,t){switch(t.tagID){case E.TABLE:{e.openElements.hasInTableScope(E.TABLE)&&(e.openElements.popUntilTagNamePopped(E.TABLE),e._resetInsertionMode());break}case E.TEMPLATE:{Er(e,t);break}case E.BODY:case E.CAPTION:case E.COL:case E.COLGROUP:case E.HTML:case E.TBODY:case E.TD:case E.TFOOT:case E.TH:case E.THEAD:case E.TR:break;default:kl(e,t)}}function kl(e,t){const n=e.fosterParentingEnabled;e.fosterParentingEnabled=!0,Qc(e,t),e.fosterParentingEnabled=n}function z2(e,t){e.pendingCharacterTokens.push(t)}function j2(e,t){e.pendingCharacterTokens.push(t),e.hasNonWhitespacePendingCharacterToken=!0}function Yo(e,t){let n=0;if(e.hasNonWhitespacePendingCharacterToken)for(;n<e.pendingCharacterTokens.length;n++)kl(e,e.pendingCharacterTokens[n]);else for(;n<e.pendingCharacterTokens.length;n++)e._insertCharacters(e.pendingCharacterTokens[n]);e.insertionMode=e.originalInsertionMode,e._processToken(t)}const G2=new Set([E.CAPTION,E.COL,E.COLGROUP,E.TBODY,E.TD,E.TFOOT,E.TH,E.THEAD,E.TR]);function wB(e,t){const n=t.tagID;G2.has(n)?e.openElements.hasInTableScope(E.CAPTION)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(E.CAPTION),e.activeFormattingElements.clearToLastMarker(),e.insertionMode=B.IN_TABLE,As(e,t)):cn(e,t)}function LB(e,t){const n=t.tagID;switch(n){case E.CAPTION:case E.TABLE:{e.openElements.hasInTableScope(E.CAPTION)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(E.CAPTION),e.activeFormattingElements.clearToLastMarker(),e.insertionMode=B.IN_TABLE,n===E.TABLE&&Tl(e,t));break}case E.BODY:case E.COL:case E.COLGROUP:case E.HTML:case E.TBODY:case E.TD:case E.TFOOT:case E.TH:case E.THEAD:case E.TR:break;default:Jc(e,t)}}function v0(e,t){switch(t.tagID){case E.HTML:{cn(e,t);break}case E.COL:{e._appendElement(t,he.HTML),t.ackSelfClosing=!0;break}case E.TEMPLATE:{mi(e,t);break}default:Dc(e,t)}}function OB(e,t){switch(t.tagID){case E.COLGROUP:{e.openElements.currentTagId===E.COLGROUP&&(e.openElements.pop(),e.insertionMode=B.IN_TABLE);break}case E.TEMPLATE:{Er(e,t);break}case E.COL:break;default:Dc(e,t)}}function Dc(e,t){e.openElements.currentTagId===E.COLGROUP&&(e.openElements.pop(),e.insertionMode=B.IN_TABLE,e._processToken(t))}function Zc(e,t){switch(t.tagID){case E.TR:{e.openElements.clearBackToTableBodyContext(),e._insertElement(t,he.HTML),e.insertionMode=B.IN_ROW;break}case E.TH:case E.TD:{e.openElements.clearBackToTableBodyContext(),e._insertFakeElement(J.TR,E.TR),e.insertionMode=B.IN_ROW,ed(e,t);break}case E.CAPTION:case E.COL:case E.COLGROUP:case E.TBODY:case E.TFOOT:case E.THEAD:{e.openElements.hasTableBodyContextInTableScope()&&(e.openElements.clearBackToTableBodyContext(),e.openElements.pop(),e.insertionMode=B.IN_TABLE,As(e,t));break}default:As(e,t)}}function Dh(e,t){const n=t.tagID;switch(t.tagID){case E.TBODY:case E.TFOOT:case E.THEAD:{e.openElements.hasInTableScope(n)&&(e.openElements.clearBackToTableBodyContext(),e.openElements.pop(),e.insertionMode=B.IN_TABLE);break}case E.TABLE:{e.openElements.hasTableBodyContextInTableScope()&&(e.openElements.clearBackToTableBodyContext(),e.openElements.pop(),e.insertionMode=B.IN_TABLE,Tl(e,t));break}case E.BODY:case E.CAPTION:case E.COL:case E.COLGROUP:case E.HTML:case E.TD:case E.TH:case E.TR:break;default:Tl(e,t)}}function ed(e,t){switch(t.tagID){case E.TH:case E.TD:{e.openElements.clearBackToTableRowContext(),e._insertElement(t,he.HTML),e.insertionMode=B.IN_CELL,e.activeFormattingElements.insertMarker();break}case E.CAPTION:case E.COL:case E.COLGROUP:case E.TBODY:case E.TFOOT:case E.THEAD:case E.TR:{e.openElements.hasInTableScope(E.TR)&&(e.openElements.clearBackToTableRowContext(),e.openElements.pop(),e.insertionMode=B.IN_TABLE_BODY,Zc(e,t));break}default:As(e,t)}}function q2(e,t){switch(t.tagID){case E.TR:{e.openElements.hasInTableScope(E.TR)&&(e.openElements.clearBackToTableRowContext(),e.openElements.pop(),e.insertionMode=B.IN_TABLE_BODY);break}case E.TABLE:{e.openElements.hasInTableScope(E.TR)&&(e.openElements.clearBackToTableRowContext(),e.openElements.pop(),e.insertionMode=B.IN_TABLE_BODY,Dh(e,t));break}case E.TBODY:case E.TFOOT:case E.THEAD:{(e.openElements.hasInTableScope(t.tagID)||e.openElements.hasInTableScope(E.TR))&&(e.openElements.clearBackToTableRowContext(),e.openElements.pop(),e.insertionMode=B.IN_TABLE_BODY,Dh(e,t));break}case E.BODY:case E.CAPTION:case E.COL:case E.COLGROUP:case E.HTML:case E.TD:case E.TH:break;default:Tl(e,t)}}function PB(e,t){const n=t.tagID;G2.has(n)?(e.openElements.hasInTableScope(E.TD)||e.openElements.hasInTableScope(E.TH))&&(e._closeTableCell(),ed(e,t)):cn(e,t)}function BB(e,t){const n=t.tagID;switch(n){case E.TD:case E.TH:{e.openElements.hasInTableScope(n)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(n),e.activeFormattingElements.clearToLastMarker(),e.insertionMode=B.IN_ROW);break}case E.TABLE:case E.TBODY:case E.TFOOT:case E.THEAD:case E.TR:{e.openElements.hasInTableScope(n)&&(e._closeTableCell(),q2(e,t));break}case E.BODY:case E.CAPTION:case E.COL:case E.COLGROUP:case E.HTML:break;default:Jc(e,t)}}function Y2(e,t){switch(t.tagID){case E.HTML:{cn(e,t);break}case E.OPTION:{e.openElements.currentTagId===E.OPTION&&e.openElements.pop(),e._insertElement(t,he.HTML);break}case E.OPTGROUP:{e.openElements.currentTagId===E.OPTION&&e.openElements.pop(),e.openElements.currentTagId===E.OPTGROUP&&e.openElements.pop(),e._insertElement(t,he.HTML);break}case E.HR:{e.openElements.currentTagId===E.OPTION&&e.openElements.pop(),e.openElements.currentTagId===E.OPTGROUP&&e.openElements.pop(),e._appendElement(t,he.HTML),t.ackSelfClosing=!0;break}case E.INPUT:case E.KEYGEN:case E.TEXTAREA:case E.SELECT:{e.openElements.hasInSelectScope(E.SELECT)&&(e.openElements.popUntilTagNamePopped(E.SELECT),e._resetInsertionMode(),t.tagID!==E.SELECT&&e._processStartTag(t));break}case E.SCRIPT:case E.TEMPLATE:{mi(e,t);break}}}function K2(e,t){switch(t.tagID){case E.OPTGROUP:{e.openElements.stackTop>0&&e.openElements.currentTagId===E.OPTION&&e.openElements.tagIDs[e.openElements.stackTop-1]===E.OPTGROUP&&e.openElements.pop(),e.openElements.currentTagId===E.OPTGROUP&&e.openElements.pop();break}case E.OPTION:{e.openElements.currentTagId===E.OPTION&&e.openElements.pop();break}case E.SELECT:{e.openElements.hasInSelectScope(E.SELECT)&&(e.openElements.popUntilTagNamePopped(E.SELECT),e._resetInsertionMode());break}case E.TEMPLATE:{Er(e,t);break}}}function FB(e,t){const n=t.tagID;n===E.CAPTION||n===E.TABLE||n===E.TBODY||n===E.TFOOT||n===E.THEAD||n===E.TR||n===E.TD||n===E.TH?(e.openElements.popUntilTagNamePopped(E.SELECT),e._resetInsertionMode(),e._processStartTag(t)):Y2(e,t)}function HB(e,t){const n=t.tagID;n===E.CAPTION||n===E.TABLE||n===E.TBODY||n===E.TFOOT||n===E.THEAD||n===E.TR||n===E.TD||n===E.TH?e.openElements.hasInTableScope(n)&&(e.openElements.popUntilTagNamePopped(E.SELECT),e._resetInsertionMode(),e.onEndTag(t)):K2(e,t)}function UB(e,t){switch(t.tagID){case E.BASE:case E.BASEFONT:case E.BGSOUND:case E.LINK:case E.META:case E.NOFRAMES:case E.SCRIPT:case E.STYLE:case E.TEMPLATE:case E.TITLE:{mi(e,t);break}case E.CAPTION:case E.COLGROUP:case E.TBODY:case E.TFOOT:case E.THEAD:{e.tmplInsertionModeStack[0]=B.IN_TABLE,e.insertionMode=B.IN_TABLE,As(e,t);break}case E.COL:{e.tmplInsertionModeStack[0]=B.IN_COLUMN_GROUP,e.insertionMode=B.IN_COLUMN_GROUP,v0(e,t);break}case E.TR:{e.tmplInsertionModeStack[0]=B.IN_TABLE_BODY,e.insertionMode=B.IN_TABLE_BODY,Zc(e,t);break}case E.TD:case E.TH:{e.tmplInsertionModeStack[0]=B.IN_ROW,e.insertionMode=B.IN_ROW,ed(e,t);break}default:e.tmplInsertionModeStack[0]=B.IN_BODY,e.insertionMode=B.IN_BODY,cn(e,t)}}function VB(e,t){t.tagID===E.TEMPLATE&&Er(e,t)}function $2(e,t){e.openElements.tmplCount>0?(e.openElements.popUntilTagNamePopped(E.TEMPLATE),e.activeFormattingElements.clearToLastMarker(),e.tmplInsertionModeStack.shift(),e._resetInsertionMode(),e.onEof(t)):E0(e,t)}function zB(e,t){t.tagID===E.HTML?cn(e,t):Rc(e,t)}function X2(e,t){var n;if(t.tagID===E.HTML){if(e.fragmentContext||(e.insertionMode=B.AFTER_AFTER_BODY),e.options.sourceCodeLocationInfo&&e.openElements.tagIDs[0]===E.HTML){e._setEndLocation(e.openElements.items[0],t);const i=e.openElements.items[1];i&&!(!((n=e.treeAdapter.getNodeSourceCodeLocation(i))===null||n===void 0)&&n.endTag)&&e._setEndLocation(i,t)}}else Rc(e,t)}function Rc(e,t){e.insertionMode=B.IN_BODY,Qc(e,t)}function jB(e,t){switch(t.tagID){case E.HTML:{cn(e,t);break}case E.FRAMESET:{e._insertElement(t,he.HTML);break}case E.FRAME:{e._appendElement(t,he.HTML),t.ackSelfClosing=!0;break}case E.NOFRAMES:{mi(e,t);break}}}function GB(e,t){t.tagID===E.FRAMESET&&!e.openElements.isRootHtmlElementCurrent()&&(e.openElements.pop(),!e.fragmentContext&&e.openElements.currentTagId!==E.FRAMESET&&(e.insertionMode=B.AFTER_FRAMESET))}function qB(e,t){switch(t.tagID){case E.HTML:{cn(e,t);break}case E.NOFRAMES:{mi(e,t);break}}}function YB(e,t){t.tagID===E.HTML&&(e.insertionMode=B.AFTER_AFTER_FRAMESET)}function KB(e,t){t.tagID===E.HTML?cn(e,t):yc(e,t)}function yc(e,t){e.insertionMode=B.IN_BODY,Qc(e,t)}function $B(e,t){switch(t.tagID){case E.HTML:{cn(e,t);break}case E.NOFRAMES:{mi(e,t);break}}}function XB(e,t){t.chars=St,e._insertCharacters(t)}function WB(e,t){e._insertCharacters(t),e.framesetOk=!1}function W2(e){for(;e.treeAdapter.getNamespaceURI(e.openElements.current)!==he.HTML&&e.openElements.currentTagId!==void 0&&!e._isIntegrationPoint(e.openElements.currentTagId,e.openElements.current);)e.openElements.pop()}function QB(e,t){if(fP(t))W2(e),e._startTagOutsideForeignContent(t);else{const n=e._getAdjustedCurrentElement(),i=e.treeAdapter.getNamespaceURI(n);i===he.MATHML?w2(t):i===he.SVG&&(mP(t),L2(t)),b0(t),t.selfClosing?e._appendElement(t,i):e._insertElement(t,i),t.ackSelfClosing=!0}}function JB(e,t){if(t.tagID===E.P||t.tagID===E.BR){W2(e),e._endTagOutsideForeignContent(t);return}for(let n=e.openElements.stackTop;n>0;n--){const i=e.openElements.items[n];if(e.treeAdapter.getNamespaceURI(i)===he.HTML){e._endTagOutsideForeignContent(t);break}const s=e.treeAdapter.getTagName(i);if(s.toLowerCase()===t.tagName){t.tagName=s,e.openElements.shortenToLength(n);break}}}J.AREA,J.BASE,J.BASEFONT,J.BGSOUND,J.BR,J.COL,J.EMBED,J.FRAME,J.HR,J.IMG,J.INPUT,J.KEYGEN,J.LINK,J.META,J.PARAM,J.SOURCE,J.TRACK,J.WBR;const ZB=/<(\/?)(iframe|noembed|noframes|plaintext|script|style|textarea|title|xmp)(?=[\t\n\f\r />])/gi,e8=new Set(["mdxFlowExpression","mdxJsxFlowElement","mdxJsxTextElement","mdxTextExpression","mdxjsEsm"]),dx={sourceCodeLocationInfo:!0,scriptingEnabled:!1};function Q2(e,t){const n=c8(e),i=Gv("type",{handlers:{root:t8,element:n8,text:i8,comment:Z2,doctype:a8,raw:s8},unknown:o8}),s={parser:n?new lx(dx):lx.getFragmentParser(void 0,dx),handle(c){i(c,s)},stitches:!1,options:t||{}};i(e,s),Os(s,_i());const o=n?s.parser.document:s.parser.getFragment(),u=t5(o,{file:s.options.file});return s.stitches&&Wc(u,"comment",function(c,m,f){const h=c;if(h.value.stitch&&f&&m!==void 0){const y=f.children;return y[m]=h.value.stitch,m}}),u.type==="root"&&u.children.length===1&&u.children[0].type===e.type?u.children[0]:u}function J2(e,t){let n=-1;if(e)for(;++n<e.length;)t.handle(e[n])}function t8(e,t){J2(e.children,t)}function n8(e,t){l8(e,t),J2(e.children,t),u8(e,t)}function i8(e,t){t.parser.tokenizer.state>4&&(t.parser.tokenizer.state=0);const n={type:We.CHARACTER,chars:e.value,location:wl(e)};Os(t,_i(e)),t.parser.currentToken=n,t.parser._processToken(t.parser.currentToken)}function a8(e,t){const n={type:We.DOCTYPE,name:"html",forceQuirks:!1,publicId:"",systemId:"",location:wl(e)};Os(t,_i(e)),t.parser.currentToken=n,t.parser._processToken(t.parser.currentToken)}function r8(e,t){t.stitches=!0;const n=d8(e);if("children"in e&&"children"in n){const i=Q2({type:"root",children:e.children},t.options);n.children=i.children}Z2({type:"comment",value:{stitch:n}},t)}function Z2(e,t){const n=e.value,i={type:We.COMMENT,data:n,location:wl(e)};Os(t,_i(e)),t.parser.currentToken=i,t.parser._processToken(t.parser.currentToken)}function s8(e,t){if(t.parser.tokenizer.preprocessor.html="",t.parser.tokenizer.preprocessor.pos=-1,t.parser.tokenizer.preprocessor.lastGapPos=-2,t.parser.tokenizer.preprocessor.gapStack=[],t.parser.tokenizer.preprocessor.skipNextNewLine=!1,t.parser.tokenizer.preprocessor.lastChunkWritten=!1,t.parser.tokenizer.preprocessor.endOfChunkHit=!1,t.parser.tokenizer.preprocessor.isEol=!1,eS(t,_i(e)),t.parser.tokenizer.write(t.options.tagfilter?e.value.replace(ZB,"&lt;$1$2"):e.value,!1),t.parser.tokenizer._runParsingLoop(),t.parser.tokenizer.state===72||t.parser.tokenizer.state===78){t.parser.tokenizer.preprocessor.lastChunkWritten=!0;const n=t.parser.tokenizer._consume();t.parser.tokenizer._callState(n)}}function o8(e,t){const n=e;if(t.options.passThrough&&t.options.passThrough.includes(n.type))r8(n,t);else{let i="";throw e8.has(n.type)&&(i=". It looks like you are using MDX nodes with `hast-util-raw` (or `rehype-raw`). If you use this because you are using remark or rehype plugins that inject `'html'` nodes, then please raise an issue with that plugin, as its a bad and slow idea. If you use this because you are using markdown syntax, then you have to configure this utility (or plugin) to pass through these nodes (see `passThrough` in docs), but you can also migrate to use the MDX syntax"),new Error("Cannot compile `"+n.type+"` node"+i)}}function Os(e,t){eS(e,t);const n=e.parser.tokenizer.currentCharacterToken;n&&n.location&&(n.location.endLine=e.parser.tokenizer.preprocessor.line,n.location.endCol=e.parser.tokenizer.preprocessor.col+1,n.location.endOffset=e.parser.tokenizer.preprocessor.offset+1,e.parser.currentToken=n,e.parser._processToken(e.parser.currentToken)),e.parser.tokenizer.paused=!1,e.parser.tokenizer.inLoop=!1,e.parser.tokenizer.active=!1,e.parser.tokenizer.returnState=Ot.DATA,e.parser.tokenizer.charRefCode=-1,e.parser.tokenizer.consumedAfterSnapshot=-1,e.parser.tokenizer.currentLocation=null,e.parser.tokenizer.currentCharacterToken=null,e.parser.tokenizer.currentToken=null,e.parser.tokenizer.currentAttr={name:"",value:""}}function eS(e,t){if(t&&t.offset!==void 0){const n={startLine:t.line,startCol:t.column,startOffset:t.offset,endLine:-1,endCol:-1,endOffset:-1};e.parser.tokenizer.preprocessor.lineStartPos=-t.column+1,e.parser.tokenizer.preprocessor.droppedBufferSize=t.offset,e.parser.tokenizer.preprocessor.line=t.line,e.parser.tokenizer.currentLocation=n}}function l8(e,t){const n=e.tagName.toLowerCase();if(t.parser.tokenizer.state===Ot.PLAINTEXT)return;Os(t,_i(e));const i=t.parser.openElements.current;let s="namespaceURI"in i?i.namespaceURI:fr.html;s===fr.html&&n==="svg"&&(s=fr.svg);const o=g5({...e,children:[]},{space:s===fr.svg?"svg":"html"}),u={type:We.START_TAG,tagName:n,tagID:Ls(n),selfClosing:!1,ackSelfClosing:!1,attrs:"attrs"in o?o.attrs:[],location:wl(e)};t.parser.currentToken=u,t.parser._processToken(t.parser.currentToken),t.parser.tokenizer.lastStartTagName=n}function u8(e,t){const n=e.tagName.toLowerCase();if(!t.parser.tokenizer.inForeignNode&&C5.includes(n)||t.parser.tokenizer.state===Ot.PLAINTEXT)return;Os(t,Gc(e));const i={type:We.END_TAG,tagName:n,tagID:Ls(n),selfClosing:!1,ackSelfClosing:!1,attrs:[],location:wl(e)};t.parser.currentToken=i,t.parser._processToken(t.parser.currentToken),n===t.parser.tokenizer.lastStartTagName&&(t.parser.tokenizer.state===Ot.RCDATA||t.parser.tokenizer.state===Ot.RAWTEXT||t.parser.tokenizer.state===Ot.SCRIPT_DATA)&&(t.parser.tokenizer.state=Ot.DATA)}function c8(e){const t=e.type==="root"?e.children[0]:e;return!!(t&&(t.type==="doctype"||t.type==="element"&&t.tagName.toLowerCase()==="html"))}function wl(e){const t=_i(e)||{line:void 0,column:void 0,offset:void 0},n=Gc(e)||{line:void 0,column:void 0,offset:void 0};return{startLine:t.line,startCol:t.column,startOffset:t.offset,endLine:n.line,endCol:n.column,endOffset:n.offset}}function d8(e){return"children"in e?Cs({...e,children:[]}):Cs(e)}function f8(e){return function(t,n){return Q2(t,{...e,file:n})}}const tS=async e=>{if(!e)return{success:!1,message:"No content to copy"};try{const t=`
      <div style="color: #000000; font-family: system-ui, -apple-system, sans-serif; line-height: 1.6; background: transparent;">
        ${e.split(`
`).map(i=>{if(i.startsWith("# "))return`<h1 style="color: #000000; font-size: 1.5rem; font-weight: bold; margin: 1.5rem 0 1rem 0;">${i.replace("# ","")}</h1>`;if(i.startsWith("## "))return`<h2 style="color: #000000; font-size: 1.25rem; font-weight: bold; margin: 1rem 0 0.5rem 0;">${i.replace("## ","")}</h2>`;if(i.startsWith("### "))return`<h3 style="color: #000000; font-size: 1.1rem; font-weight: bold; margin: 0.75rem 0 0.25rem 0;">${i.replace("### ","")}</h3>`;if(i.startsWith("#### "))return`<h4 style="color: #000000; font-size: 1rem; font-weight: bold; margin: 0.5rem 0 0.25rem 0;">${i.replace("#### ","")}</h4>`;if(i.startsWith("- **")){const s=i.match(/- \*\*(.*?)\*\*:\s*(.*)/);if(s)return`<p style="margin: 0.25rem 0; color: #000000;"><strong style="color: #000000;">${s[1]}:</strong> ${s[2]}</p>`}else{if(i.startsWith("- "))return`<p style="margin: 0.25rem 0; padding-left: 1rem; color: #000000;"> ${i.replace("- ","")}</p>`;if(i.match(/^\d+\./))return`<p style="margin: 0.25rem 0; padding-left: 1rem; color: #000000;">${i}</p>`;if(i.startsWith("**")&&i.endsWith("**"))return`<p style="margin: 0.5rem 0; color: #000000; font-weight: bold;">${i.replace(/\*\*/g,"")}</p>`;if(i.trim())return`<p style="margin: 0.5rem 0; color: #000000;">${i}</p>`}return"<br>"}).join("")}
      </div>
    `,n=e.split(`
`).map(i=>{if(i.startsWith("# "))return i.replace("# ","");if(i.startsWith("## "))return i.replace("## ","");if(i.startsWith("### "))return i.replace("### ","");if(i.startsWith("#### "))return i.replace("#### ","");if(i.startsWith("- **")){const s=i.match(/- \*\*(.*?)\*\*:\s*(.*)/);if(s)return`${s[1]}: ${s[2]}`}else{if(i.startsWith("- "))return` ${i.replace("- ","")}`;if(i.startsWith("**")&&i.endsWith("**"))return i.replace(/\*\*/g,"")}return i}).join(`
`);if(navigator.clipboard&&navigator.clipboard.write){const i=new Blob([t],{type:"text/html"}),s=new Blob([n],{type:"text/plain"}),o=new ClipboardItem({"text/html":i,"text/plain":s});return await navigator.clipboard.write([o]),{success:!0,message:"Content copied (Rich Format)!"}}else return await navigator.clipboard.writeText(n),{success:!0,message:"Content copied (Plain Text)!"}}catch(t){return console.error("Failed to copy content:",t),{success:!1,message:"Failed to copy. Please try manually."}}},dr=({content:e,onExportPDF:t,onCopy:n,className:i=""})=>{const[s,o]=oe.useState(""),u=async()=>{if(n){n();return}const m=await tS(e);o(m.message),setTimeout(()=>o(""),3e3)},c={h1:({children:m})=>g.jsx("h1",{className:"text-3xl font-bold text-purple-300 mb-6 border-b border-gray-600 pb-3",children:m}),h2:({children:m})=>g.jsx("h2",{className:"text-2xl font-semibold text-purple-200 mt-8 mb-4 border-l-4 border-purple-500 pl-4",children:m}),h3:({children:m})=>g.jsx("h3",{className:"text-xl font-semibold text-purple-100 mt-6 mb-3 flex items-center",children:m}),h4:({children:m})=>g.jsx("h4",{className:"text-lg font-medium text-gray-200 mt-4 mb-2",children:m}),p:({children:m})=>g.jsx("p",{className:"text-gray-300 mb-4 leading-relaxed",children:m}),ul:({children:m})=>g.jsx("ul",{className:"list-disc list-inside text-gray-300 mb-4 space-y-1 ml-4",children:m}),ol:({children:m})=>g.jsx("ol",{className:"list-decimal list-inside text-gray-300 mb-4 space-y-1 ml-4",children:m}),li:({children:m})=>g.jsx("li",{className:"text-gray-300 mb-1",children:m}),strong:({children:m})=>g.jsx("strong",{className:"font-semibold text-gray-100",children:m}),em:({children:m})=>g.jsx("em",{className:"italic text-gray-200",children:m}),code:({children:m,className:f})=>f?g.jsx("pre",{className:"bg-gray-800 border border-gray-600 rounded-lg p-4 overflow-x-auto mb-4",children:g.jsx("code",{className:"text-green-300 text-sm font-mono",children:m})}):g.jsx("code",{className:"bg-gray-700 text-purple-300 px-2 py-1 rounded text-sm font-mono",children:m}),blockquote:({children:m})=>g.jsx("blockquote",{className:"border-l-4 border-purple-500 bg-gray-800/50 pl-4 py-2 mb-4 italic text-gray-300",children:m}),table:({children:m})=>g.jsx("div",{className:"overflow-x-auto mb-6",children:g.jsx("table",{className:"min-w-full bg-gray-800 border border-gray-600 rounded-lg",children:m})}),thead:({children:m})=>g.jsx("thead",{className:"bg-gray-700",children:m}),tbody:({children:m})=>g.jsx("tbody",{className:"divide-y divide-gray-600",children:m}),tr:({children:m})=>g.jsx("tr",{className:"hover:bg-gray-700/50 transition-colors",children:m}),th:({children:m})=>g.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold text-purple-300 border-b border-gray-600",children:m}),td:({children:m})=>g.jsx("td",{className:"px-4 py-3 text-sm text-gray-300",children:m}),hr:()=>g.jsx("hr",{className:"border-gray-600 my-8"}),a:({href:m,children:f})=>g.jsx("a",{href:m,className:"text-purple-400 hover:text-purple-300 underline transition-colors",target:"_blank",rel:"noopener noreferrer",children:f})};return g.jsxs("div",{className:`markdown-content ${i}`,children:[g.jsxs("div",{className:"flex justify-end gap-2 mb-4 pb-4 border-b border-gray-700",children:[g.jsx($e,{onClick:u,variant:"outline",size:"sm",leftIcon:g.jsx(pR,{className:"w-4 h-4"}),children:"Copy Content"}),t&&g.jsx($e,{onClick:t,variant:"secondary",size:"sm",leftIcon:g.jsx(dh,{className:"w-4 h-4"}),children:"Export PDF"})]}),s&&g.jsx("div",{className:`text-sm mb-4 p-2 rounded ${s.includes("Failed")?"text-red-400 bg-red-900/20":"text-green-400 bg-green-900/20"}`,children:s}),g.jsx("div",{className:"prose prose-invert max-w-none",children:g.jsx(Hv,{components:c,remarkPlugins:[c2],rehypePlugins:[f8],children:e})})]})};function m8(e){return typeof e=="number"}function h8(e){return typeof e=="string"}function p8(e){return typeof e<"u"}function g8(e,t){return Math.pow(2,(e-69)/12)*440}var y8=/^([a-gA-G])(#{1,}|b{1,}|x{1,}|)(-?\d*)\s*(.*)\s*$/,T8=[0,2,4,5,7,9,11];function b8(e,t,n){if(typeof e!="string")return null;var i=y8.exec(e);if(!i||i[4])return null;var s={letter:i[1].toUpperCase(),acc:i[2].replace(/x/g,"##")};s.pc=s.letter+s.acc,s.step=(s.letter.charCodeAt(0)+3)%7,s.alt=s.acc[0]==="b"?-s.acc.length:s.acc.length;var o=T8[s.step]+s.alt;return s.chroma=o<0?12+o:o%12,i[3]&&(s.oct=+i[3],s.midi=o+12*(s.oct+1),s.freq=g8(s.midi)),s}function x8(e){if((m8(e)||h8(e))&&e>=0&&e<128)return+e;var t=b8(e);return t&&p8(t.midi)?t.midi:null}function E8(e){return Array.isArray(e)&&e.length===2?e[0]*7+e[1]*12+12:x8(e)}var v8="C Db D Eb E F Gb G Ab A Bb B".split(" "),S8="C C# D D# E F F# G G# A A# B".split(" ");function nS(e,t){if(e===!0||e===!1)return function(o){return nS(o,e)};e=Math.round(e);var n=t===!0?S8:v8,i=n[e%12],s=Math.floor(e/12)-1;return i+s}const C8=Object.freeze(Object.defineProperty({__proto__:null,note:nS,toMidi:E8},Symbol.toStringTag,{value:"Module"})),A8=q_(C8);var zm,fx;function _8(){if(fx)return zm;fx=1;var e=A8,t={VERSION:"2.1.4",HEADER_CHUNK_TYPE:[77,84,104,100],HEADER_CHUNK_LENGTH:[0,0,0,6],HEADER_CHUNK_FORMAT0:[0,0],HEADER_CHUNK_FORMAT1:[0,1],HEADER_CHUNK_DIVISION:[0,128],TRACK_CHUNK_TYPE:[77,84,114,107],META_EVENT_ID:255,META_TEXT_ID:1,META_COPYRIGHT_ID:2,META_TRACK_NAME_ID:3,META_INSTRUMENT_NAME_ID:4,META_LYRIC_ID:5,META_MARKER_ID:6,META_CUE_POINT:7,META_TEMPO_ID:81,META_SMTPE_OFFSET:84,META_TIME_SIGNATURE_ID:88,META_KEY_SIGNATURE_ID:89,META_END_OF_TRACK_ID:[47,0],CONTROLLER_CHANGE_STATUS:176,PITCH_BEND_STATUS:224};function n(z){"@babel/helpers - typeof";return n=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(w){return typeof w}:function(w){return w&&typeof Symbol=="function"&&w.constructor===Symbol&&w!==Symbol.prototype?"symbol":typeof w},n(z)}function i(){i=function(U,$){return new L(U,void 0,$)};var z=RegExp.prototype,w=new WeakMap;function L(U,$,N){var se=new RegExp(U,$);return w.set(se,N||w.get(U)),m(se,L.prototype)}function C(U,$){var N=w.get($);return Object.keys(N).reduce(function(se,j){return se[j]=U[N[j]],se},Object.create(null))}return c(L,RegExp),L.prototype.exec=function(U){var $=z.exec.call(this,U);return $&&($.groups=C($,this)),$},L.prototype[Symbol.replace]=function(U,$){if(typeof $=="string"){var N=w.get(this);return z[Symbol.replace].call(this,U,$.replace(/\$<([^>]+)>/g,function(j,ie){return"$"+N[ie]}))}if(typeof $=="function"){var se=this;return z[Symbol.replace].call(this,U,function(){var j=arguments;return typeof j[j.length-1]!="object"&&(j=[].slice.call(j)).push(C(j,se)),$.apply(this,j)})}return z[Symbol.replace].call(this,U,$)},i.apply(this,arguments)}function s(z,w){if(!(z instanceof w))throw new TypeError("Cannot call a class as a function")}function o(z,w){for(var L=0;L<w.length;L++){var C=w[L];C.enumerable=C.enumerable||!1,C.configurable=!0,"value"in C&&(C.writable=!0),Object.defineProperty(z,C.key,C)}}function u(z,w,L){return w&&o(z.prototype,w),L&&o(z,L),Object.defineProperty(z,"prototype",{writable:!1}),z}function c(z,w){if(typeof w!="function"&&w!==null)throw new TypeError("Super expression must either be null or a function");z.prototype=Object.create(w&&w.prototype,{constructor:{value:z,writable:!0,configurable:!0}}),Object.defineProperty(z,"prototype",{writable:!1}),w&&m(z,w)}function m(z,w){return m=Object.setPrototypeOf||function(C,U){return C.__proto__=U,C},m(z,w)}var f=function(){function z(){s(this,z)}return u(z,null,[{key:"version",value:function(){return t.VERSION}},{key:"stringToBytes",value:function(L){return L.split("").map(function(C){return C.charCodeAt()})}},{key:"isNumeric",value:function(L){return!isNaN(parseFloat(L))&&isFinite(L)}},{key:"getPitch",value:function(L){var C=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"C4";return 60-e.toMidi(C)+e.toMidi(L)}},{key:"numberToVariableLength",value:function(L){L=Math.round(L);for(var C=L&127;L=L>>7;)C<<=8,C|=L&127|128;for(var U=[];U.push(C&255),C&128;)C>>=8;return U}},{key:"stringByteCount",value:function(L){return encodeURI(L).split(/%..|./).length-1}},{key:"numberFromBytes",value:function(L){var C="",U;return L.forEach(function($){U=$.toString(16),U.length==1&&(U="0"+U),C+=U}),parseInt(C,16)}},{key:"numberToBytes",value:function(L,C){C=C||1;var U=L.toString(16);U.length&1&&(U="0"+U);var $=U.match(/.{2}/g);if($=$.map(function(N){return parseInt(N,16)}),$.length<C)for(;C-$.length>0;)$.unshift(0);return $}},{key:"toArray",value:function(L){return Array.isArray(L)?L:[L]}},{key:"convertVelocity",value:function(L){return L=L>100?100:L,Math.round(L/100*127)}},{key:"getTickDuration",value:function(L){if(Array.isArray(L))return L.map(function(N){return z.getTickDuration(N)}).reduce(function(N,se){return N+se},0);if(L=L.toString(),L.toLowerCase().charAt(0)==="t"){var C=parseInt(L.substring(1));if(isNaN(C)||C<0)throw new Error(L+" is not a valid duration.");return C}var U=z.numberFromBytes(t.HEADER_CHUNK_DIVISION),$=U*z.getDurationMultiplier(L);return z.getRoundedIfClose($)}},{key:"getRoundedIfClose",value:function(L){var C=Math.round(L);return Math.abs(C-L)<1e-6?C:L}},{key:"getPrecisionLoss",value:function(L){var C=Math.round(L);return C-L}},{key:"getDurationMultiplier",value:function(L){if(L==="0")return 0;var C=L.match(i(/^(d+)?(\d+)(?:t(\d*))?/,{dotted:1,base:2,tuplet:3}));if(C){var U=Number(C.groups.base),$=U===1||(U&U-1)===0;if($){var N=U/4,se=1/N,j=C.groups,ie=j.dotted,_e=j.tuplet;if(ie){var Ce=ie.length,Me=Math.pow(2,Ce);se=se+se*((Me-1)/Me)}if(typeof _e=="string"){var ze=se*2,He=Number(_e||"3");se=ze/He}return se}}throw new Error(L+" is not a valid duration.")}}]),z}(),h=u(function z(w){s(this,z),w=Object.assign({delta:0},w),this.type="controller",this.data=f.numberToVariableLength(w.delta).concat(t.CONTROLLER_CHANGE_STATUS,w.controllerNumber,w.controllerValue)}),y=u(function z(w){s(this,z),w=Object.assign({delta:0},w),this.type="cue-point";var L=f.stringToBytes(w.text);this.data=f.numberToVariableLength(w.delta).concat(t.META_EVENT_ID,t.META_CUE_POINT,f.numberToVariableLength(L.length),L)}),v=u(function z(w){s(this,z),w=Object.assign({delta:0},w),this.type="end-track",this.data=f.numberToVariableLength(w.delta).concat(t.META_EVENT_ID,t.META_END_OF_TRACK_ID)}),S=u(function z(w){s(this,z),w=Object.assign({delta:0},w),this.type="instrument-name";var L=f.stringToBytes(w.text);this.data=f.numberToVariableLength(w.delta).concat(t.META_EVENT_ID,t.META_INSTRUMENT_NAME_ID,f.numberToVariableLength(L.length),L)}),_=u(function z(w,L){s(this,z),this.type="key-signature";var C=L||0;if(w=w||0,typeof L>"u"){var U=[["Cb","Gb","Db","Ab","Eb","Bb","F","C","G","D","A","E","B","F#","C#"],["ab","eb","bb","f","c","g","d","a","e","b","f#","c#","g#","d#","a#"]],$=w.length,N=w||"C";if(w[0]===w[0].toLowerCase()&&(C=1),$>1)switch(w.charAt($-1)){case"m":C=1,N=w.charAt(0).toLowerCase(),N=N.concat(w.substring(1,$-1));break;case"-":C=1,N=w.charAt(0).toLowerCase(),N=N.concat(w.substring(1,$-1));break;case"M":C=0,N=w.charAt(0).toUpperCase(),N=N.concat(w.substring(1,$-1));break;case"+":C=0,N=w.charAt(0).toUpperCase(),N=N.concat(w.substring(1,$-1));break}var se=U[C].indexOf(N);w=se===-1?0:se-7}this.data=f.numberToVariableLength(0).concat(t.META_EVENT_ID,t.META_KEY_SIGNATURE_ID,[2],f.numberToBytes(w,1),f.numberToBytes(C,1))}),I=u(function z(w){s(this,z),w=Object.assign({delta:0},w),this.type="lyric";var L=f.stringToBytes(w.text);this.data=f.numberToVariableLength(w.delta).concat(t.META_EVENT_ID,t.META_LYRIC_ID,f.numberToVariableLength(L.length),L)}),O=u(function z(w){s(this,z),w=Object.assign({delta:0},w),this.type="marker";var L=f.stringToBytes(w.text);this.data=f.numberToVariableLength(w.delta).concat(t.META_EVENT_ID,t.META_MARKER_ID,f.numberToVariableLength(L.length),L)}),D=function(){function z(w){s(this,z),w=Object.assign({channel:1,startTick:null,velocity:50,wait:0},w),this.type="note-on",this.channel=w.channel,this.pitch=w.pitch,this.wait=w.wait,this.velocity=w.velocity,this.startTick=w.startTick,this.tick=null,this.delta=null,this.data=w.data}return u(z,[{key:"buildData",value:function(L,C){var U=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this.data=[],this.startTick?(this.tick=f.getRoundedIfClose(this.startTick),L.tickPointer==0&&(this.delta=this.tick)):(this.delta=f.getTickDuration(this.wait),this.tick=f.getRoundedIfClose(L.tickPointer+this.delta)),this.deltaWithPrecisionCorrection=f.getRoundedIfClose(this.delta-C),this.data=f.numberToVariableLength(this.deltaWithPrecisionCorrection).concat(this.getStatusByte(),f.getPitch(this.pitch,U.middleC),f.convertVelocity(this.velocity)),this}},{key:"getStatusByte",value:function(){return 144+this.channel-1}}]),z}(),H=function(){function z(w){s(this,z),w=Object.assign({channel:1,velocity:50,tick:null},w),this.type="note-off",this.channel=w.channel,this.pitch=w.pitch,this.duration=w.duration,this.velocity=w.velocity,this.tick=w.tick,this.delta=f.getTickDuration(this.duration),this.data=w.data}return u(z,[{key:"buildData",value:function(L,C){var U=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this.tick===null&&(this.tick=f.getRoundedIfClose(this.delta+L.tickPointer)),this.deltaWithPrecisionCorrection=f.getRoundedIfClose(this.delta-C),this.data=f.numberToVariableLength(this.deltaWithPrecisionCorrection).concat(this.getStatusByte(),f.getPitch(this.pitch,U.middleC),f.convertVelocity(this.velocity)),this}},{key:"getStatusByte",value:function(){return 128+this.channel-1}}]),z}(),R=function(){function z(w){s(this,z),w=Object.assign({channel:1,repeat:1,sequential:!1,startTick:null,velocity:50,wait:0},w),this.data=[],this.type="note",this.pitch=f.toArray(w.pitch),this.channel=w.channel,this.duration=w.duration,this.grace=w.grace,this.repeat=w.repeat,this.sequential=w.sequential,this.startTick=w.startTick,this.velocity=w.velocity,this.wait=w.wait,this.tickDuration=f.getTickDuration(this.duration),this.restDuration=f.getTickDuration(this.wait),this.events=[]}return u(z,[{key:"buildData",value:function(){var L=this;if(this.data=[],this.grace){var C=1;this.grace=f.toArray(this.grace),this.grace.forEach(function(){var N=new z({pitch:L.grace,duration:"T"+C});L.data=L.data.concat(N.data)})}if(this.sequential)for(var $=0;$<this.repeat;$++)this.pitch.forEach(function(N,se){var j=new D({channel:L.channel,wait:se>0?0:L.wait,velocity:L.velocity,pitch:N,startTick:L.startTick}),ie=new H({channel:L.channel,duration:L.duration,velocity:L.velocity,pitch:N});L.events.push(j,ie)});else for(var U=0;U<this.repeat;U++)this.pitch.forEach(function(N,se){var j;se==0?j=new D({channel:L.channel,wait:L.wait,velocity:L.velocity,pitch:N,startTick:L.startTick}):j=new D({channel:L.channel,wait:0,velocity:L.velocity,pitch:N,startTick:L.startTick}),L.events.push(j)}),this.pitch.forEach(function(N,se){var j;se==0?j=new H({channel:L.channel,duration:L.duration,velocity:L.velocity,pitch:N,tick:L.startTick!==null?f.getTickDuration(L.duration)+L.startTick:null}):j=new H({channel:L.channel,duration:0,velocity:L.velocity,pitch:N,tick:L.startTick!==null?f.getTickDuration(L.duration)+L.startTick:null}),L.events.push(j)});return this}}]),z}(),V=function(w){return w<=0?Math.floor(16384*(w+1)/2):Math.floor(16383*(w+1)/2)},K=u(function z(w){s(this,z),w=Object.assign({delta:0},w),this.type="pitch-bend";var L=V(w.bend),C=w.channel||0,U=L&127,$=L>>7&127;this.data=f.numberToVariableLength(w.delta).concat(t.PITCH_BEND_STATUS|C,U,$)}),q=function(){function z(w){s(this,z),this.fields=Object.assign({channel:1,delta:0},w),this.type="program",this.data=f.numberToVariableLength(this.fields.delta).concat(this.getStatusByte(),this.fields.instrument)}return u(z,[{key:"getStatusByte",value:function(){return 192+this.fields.channel-1}}]),z}(),ue=u(function z(w){s(this,z),w=Object.assign({delta:0},w),this.type="tempo",this.tick=w.tick;var L=Math.round(6e7/w.bpm);this.data=f.numberToVariableLength(w.delta).concat(t.META_EVENT_ID,t.META_TEMPO_ID,[3],f.numberToBytes(L,3))}),me=u(function z(w){s(this,z),w=Object.assign({delta:0},w),this.type="text";var L=f.stringToBytes(w.text);this.data=f.numberToVariableLength(w.delta).concat(t.META_EVENT_ID,t.META_TEXT_ID,f.numberToVariableLength(L.length),L)}),Ae=u(function z(w,L,C,U){s(this,z),this.type="time-signature",this.data=f.numberToVariableLength(0).concat(t.META_EVENT_ID,t.META_TIME_SIGNATURE_ID,[4],f.numberToBytes(w,1),f.numberToBytes(Math.log2(L),1),f.numberToBytes(C||24,1),f.numberToBytes(U||8,1))}),Y=u(function z(w){s(this,z),w=Object.assign({delta:0},w),this.type="copyright";var L=f.stringToBytes(w.text);this.data=f.numberToVariableLength(w.delta).concat(t.META_EVENT_ID,t.META_COPYRIGHT_ID,f.numberToVariableLength(L.length),L)}),ye=u(function z(w){s(this,z),w=Object.assign({delta:0},w),this.type="track-name";var L=f.stringToBytes(w.text);this.data=f.numberToVariableLength(w.delta).concat(t.META_EVENT_ID,t.META_TRACK_NAME_ID,f.numberToVariableLength(L.length),L)}),be=function(){function z(){s(this,z),this.type=t.TRACK_CHUNK_TYPE,this.data=[],this.size=[],this.events=[],this.explicitTickEvents=[],this.tickPointer=0}return u(z,[{key:"addEvent",value:function(L,C){var U=this;return f.toArray(L).forEach(function($,N){if($ instanceof R){if(typeof C=="function"){var se=C(N,$);if(n(se)==="object")for(var j in se)switch(j){case"channel":$.channel=se[j];break;case"duration":$.duration=se[j];break;case"sequential":$.sequential=se[j];break;case"velocity":$.velocity=f.convertVelocity(se[j]);break}}$.startTick!==null?U.explicitTickEvents.push($):$.buildData().events.forEach(function(ie){return U.events.push(ie)})}else $ instanceof v&&U.removeEventsByType("end-track"),U.events.push($)}),this}},{key:"buildData",value:function(){var L=this,C=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};(!this.events.length||!(this.events[this.events.length-1]instanceof v))&&this.addEvent(new v),this.data=[],this.size=[],this.tickPointer=0;var U=0;return this.events.forEach(function($){if($ instanceof D||$ instanceof H){var N=$.buildData(L,U,C);U=f.getPrecisionLoss($.deltaWithPrecisionCorrection||0),L.data=L.data.concat(N.data),L.tickPointer=f.getRoundedIfClose($.tick)}else $ instanceof ue&&(L.tickPointer=f.getRoundedIfClose($.tick)),L.data=L.data.concat($.data)}),this.mergeExplicitTickEvents(),this.size=f.numberToBytes(this.data.length,4),this}},{key:"mergeExplicitTickEvents",value:function(){var L=this;this.explicitTickEvents.length&&(this.explicitTickEvents.sort(function(C,U){return C.startTick-U.startTick}),this.explicitTickEvents.forEach(function(C){C.buildData().events.forEach(function(U){return U.buildData(L)}),C.events.forEach(function(U){return L.mergeSingleEvent(U)})}),this.explicitTickEvents=[],this.buildData())}},{key:"mergeTrack",value:function(L){var C=this;this.buildData(),L.buildData().events.forEach(function(U){return C.mergeSingleEvent(U)})}},{key:"mergeSingleEvent",value:function(L){if(!this.events.length){this.addEvent(L);return}for(var C,U=0;U<this.events.length&&!(this.events[U].tick>L.tick);U++)C=U;var $=C+1;L.delta=L.tick-this.events[C].tick,this.events.splice($,0,L);for(var N=$+1;N<this.events.length;N++)this.events[N].delta=this.events[N].tick-this.events[N-1].tick}},{key:"removeEventsByType",value:function(L){var C=this;return this.events.forEach(function(U,$){U.type===L&&C.events.splice($,1)}),this}},{key:"setTempo",value:function(L){var C=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return this.addEvent(new ue({bpm:L,tick:C}))}},{key:"setTimeSignature",value:function(L,C,U,$){return this.addEvent(new Ae(L,C,U,$))}},{key:"setKeySignature",value:function(L,C){return this.addEvent(new _(L,C))}},{key:"addText",value:function(L){return this.addEvent(new me({text:L}))}},{key:"addCopyright",value:function(L){return this.addEvent(new Y({text:L}))}},{key:"addTrackName",value:function(L){return this.addEvent(new ye({text:L}))}},{key:"addInstrumentName",value:function(L){return this.addEvent(new S({text:L}))}},{key:"addMarker",value:function(L){return this.addEvent(new O({text:L}))}},{key:"addCuePoint",value:function(L){return this.addEvent(new y({text:L}))}},{key:"addLyric",value:function(L){return this.addEvent(new I({text:L}))}},{key:"polyModeOn",value:function(){var L=new D({data:[0,176,126,0]});return this.addEvent(L)}},{key:"setPitchBend",value:function(L){return this.addEvent(new K({bend:L}))}},{key:"controllerChange",value:function(L,C){return this.addEvent(new h({controllerNumber:L,controllerValue:C}))}}]),z}(),Se=function(){function z(){s(this,z)}return u(z,[{key:"trackFromVoice",value:function(L){var C=this,U=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{addRenderedAccidentals:!1},$=new be,N=[];return L.tickables.forEach(function(se){se.noteType==="n"?($.addEvent(new R({pitch:se.keys.map(function(j,ie){return C.convertPitch(j,ie,se,U.addRenderedAccidentals)}),duration:C.convertDuration(se),wait:N})),N=[]):se.noteType==="r"&&N.push(C.convertDuration(se))}),N.length>0&&$.addEvent(new R({pitch:"[c4]",duration:"0",wait:N,velocity:"0"})),$}},{key:"convertPitch",value:function(L,C,U){var $=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1,N=L.split("/"),se=N[0].substring(1).replace("n","");if($){var j;(j=U.getAccidentals())===null||j===void 0||j.forEach(function(ie){ie.index===C&&(ie.type==="n"?se="":se+=ie.type)})}return N[0][0]+se+N[1]}},{key:"convertDuration",value:function(L){return"d".repeat(L.dots)+this.convertBaseDuration(L.duration)+(L.tuplet?"t"+L.tuplet.num_notes:"")}},{key:"convertBaseDuration",value:function(L){switch(L){case"w":return"1";case"h":return"2";case"q":return"4";default:return L}}}]),z}(),pe=u(function z(w){s(this,z),this.type=t.HEADER_CHUNK_TYPE;var L=w>1?t.HEADER_CHUNK_FORMAT1:t.HEADER_CHUNK_FORMAT0;this.data=L.concat(f.numberToBytes(w,2),t.HEADER_CHUNK_DIVISION),this.size=[0,0,0,this.data.length]}),re=function(){function z(w){var L=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};s(this,z),this.tracks=f.toArray(w),this.options=L}return u(z,[{key:"buildData",value:function(){var L=this,C=[];return C.push(new pe(this.tracks.length)),this.tracks.forEach(function(U){C.push(U.buildData(L.options))}),C}},{key:"buildFile",value:function(){var L=[];return this.buildData().forEach(function(C){return L=L.concat(C.type,C.size,C.data)}),new Uint8Array(L)}},{key:"base64",value:function(){return typeof btoa=="function"?btoa(String.fromCharCode.apply(null,this.buildFile())):Buffer.from(this.buildFile()).toString("base64")}},{key:"dataUri",value:function(){return"data:audio/midi;base64,"+this.base64()}},{key:"setOption",value:function(L,C){return this.options[L]=C,this}},{key:"stdout",value:function(){return process.stdout.write(Buffer.from(this.buildFile()))}}]),z}(),W={Constants:t,ControllerChangeEvent:h,CuePointEvent:y,EndTrackEvent:v,InstrumentNameEvent:S,KeySignatureEvent:_,LyricEvent:I,MarkerEvent:O,NoteOnEvent:D,NoteOffEvent:H,NoteEvent:R,PitchBendEvent:K,ProgramChangeEvent:q,TempoEvent:ue,TextEvent:me,TimeSignatureEvent:Ae,Track:be,TrackNameEvent:ye,Utils:f,VexFlow:Se,Writer:re};return zm=W,zm}var I8=_8();const di=_l(I8),sc=e=>{if(!di.Track)return null;const t=new di.Track;return t.addTrackName(e),t},jm=(e,t,n,i=!1)=>{!di.NoteEvent||!t||t.length===0||!e||t.forEach(s=>{let o=[];if(i)o=s.notes.map(c=>c.midi).filter(c=>typeof c=="number");else{const u=s;typeof u.midi=="number"&&(o=[u.midi])}if(o.length>0){const u=Math.round(s.duration*128),c=Math.round(s.time*128),m=o.map(f=>{const h=["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"],y=Math.floor(f/12)-1;return`${h[f%12]}${y}`});e.addEvent(new di.NoteEvent({pitch:m.length===1?m[0]:m,duration:`T${u}`,startTick:c,velocity:s.velocity||(i?90:100),channel:n}))}})},N8=(e,t)=>{!di.NoteEvent||!t||Object.keys(t).length===0||!e||Object.entries(t).forEach(([n,i])=>{const s=n.toLowerCase().replace(/\s+/g,"_"),o=hs[s]||hs[n];typeof o!="number"||!i||i.forEach(u=>{const c=Math.round(u.duration*128),m=Math.round(u.time*128),f=["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"],h=Math.floor(o/12)-1,v=`${f[o%12]}${h}`;e.addEvent(new di.NoteEvent({pitch:v,duration:`T${c}`,startTick:m,velocity:u.velocity||100,channel:10}))})})},mx=(e,t,n="TrackGuide")=>{if(console.log(" Generating MIDI file with patterns:",e),console.log(" Settings:",t),console.log(" Track name prefix:",n),!di||!di.Writer||!di.Track||!di.NoteEvent)return console.error("MidiWriterJS components (Writer, Track, NoteEvent) are not loaded. Cannot generate MIDI file."),null;const i=[];let s=!1;const o=c=>(c&&(c.setTempo(t.tempo,0),c.setTimeSignature(t.timeSignature[0],t.timeSignature[1])),c);if(e.chords&&e.chords.length>0){let c=sc(`${n} Chords`);c=o(c),c&&(jm(c,e.chords,1,!0),i.push(c),s=!0)}if(e.bassline&&e.bassline.length>0){let c=sc(`${n} Bassline`);c=o(c),c&&(jm(c,e.bassline,2,!1),i.push(c),s=!0)}if(e.melody&&e.melody.length>0){let c=sc(`${n} Melody`);c=o(c),c&&(jm(c,e.melody,3,!1),i.push(c),s=!0)}if(e.drums&&Object.keys(e.drums).length>0){let c=sc(`${n} Drums`);c=o(c),c&&(N8(c,e.drums),i.push(c),s=!0)}return s?new di.Writer(i).dataUri():(console.warn("No patterns to write to MIDI file."),null)},hx=(e,t)=>{if(console.log(" Downloading MIDI file:",t),console.log(" Data URI length:",e.length),console.log(" Data URI starts with:",e.substring(0,50)),!e){console.error("MIDI data URI is null or empty. Cannot download."),alert("Failed to generate MIDI data for download.");return}const n=document.createElement("a");n.href=e,n.download=t,document.body.appendChild(n),n.click(),document.body.removeChild(n),console.log(" Download triggered successfully")};let va=null,Na=[],kc=null,Tc=null,wc=0,ol=0,ms=!1;const S0=()=>((!va||va.state==="closed")&&(va=new(window.AudioContext||window.webkitAudioContext),kc=va.createGain(),kc.connect(va.destination)),va.state==="suspended"&&va.resume(),va),ur=(e,t)=>{const n=e/t*60;return Number.isFinite(n)?n:(console.error(" beatsToSeconds produced non-finite result:",n,"beats:",e,"tempo:",t),0)},Gm=(e,t,n,i=100,s=!1,o,u)=>{const c=S0();if(!kc||!u)return;if(!Number.isFinite(e)||!Number.isFinite(t)||!Number.isFinite(n)||!Number.isFinite(i)){console.error(" Invalid note values detected:",{noteNumber:e,startTimeInLoopSeconds:t,durationSeconds:n,velocity:i,trackType:u,isDrum:s,drumTypeKey:o});return}const m=wc+ol*iS()+t;if(m<c.currentTime-.05)return;const f=c.createGain(),h=i/127*(s?.75:.35);let y=h;if((!Number.isFinite(y)||y<0)&&(console.error(" Invalid gain value detected:",y,"for velocity:",i),y=.1),f.gain.setValueAtTime(y,m),y>1e-4)try{f.gain.exponentialRampToValueAtTime(1e-4,m+n)}catch{f.gain.linearRampToValueAtTime(1e-4,m+n)}f.connect(kc);let v;if(s){const S=o||"";if(console.log(` Synthesizing drum: "${S}" (MIDI: ${e})`),S.includes("kick")||S.includes("bass_drum")||e===36){const _=c.createOscillator();_.type="sine",_.frequency.setValueAtTime(150,m),_.frequency.exponentialRampToValueAtTime(50,m+Math.min(n,.12));const I=c.createGain();I.gain.setValueAtTime(1,m),I.gain.exponentialRampToValueAtTime(.001,m+n),_.connect(I).connect(f),_.start(m),_.stop(m+n),Na.push({node:_,controlGainNode:f,trackType:u,intendedVolume:h,scheduledStopTime:m+n,isDrum:!0});return}else if(S.includes("snare")||e===38){v=c.createBufferSource();const _=Math.max(1,Math.floor(c.sampleRate*n)),I=c.createBuffer(1,_,c.sampleRate),O=I.getChannelData(0);for(let D=0;D<_;D++)O[D]=(Math.random()*2-1)*Math.exp(-D/(c.sampleRate*.05));v.buffer=I}else if(S.includes("clap")||S.includes("hand_clap")||e===39){v=c.createBufferSource();const _=Math.max(1,Math.floor(c.sampleRate*n)),I=c.createBuffer(1,_,c.sampleRate),O=I.getChannelData(0);for(let D=0;D<_;D++){const H=Math.exp(-D/(c.sampleRate*.03)),R=Math.random()*2-1,V=Math.sin(D*.01)>.5?1:.3;O[D]=R*H*V}v.buffer=I}else if(S.includes("hat")||S.includes("hihat")||e===42||e===46){v=c.createBufferSource();const _=Math.max(1,Math.floor(c.sampleRate*n)),I=c.createBuffer(1,_,c.sampleRate),O=I.getChannelData(0),D=5e3,R=S.includes("open")||e===46?.15:.03;for(let V=0;V<_;V++)O[V]=(Math.random()*2-1)*Math.exp(-V/(c.sampleRate*R))*Math.sin(2*Math.PI*D*(V/c.sampleRate)*(1+Math.random()*.3));v.buffer=I}else if(S.includes("crash")||S.includes("cymbal")||e===49){v=c.createBufferSource();const _=Math.max(1,Math.floor(c.sampleRate*n)),I=c.createBuffer(1,_,c.sampleRate),O=I.getChannelData(0),D=4e3,H=.25;for(let R=0;R<_;R++){const V=Math.exp(-R/(c.sampleRate*H)),K=Math.sin(2*Math.PI*D*(R/c.sampleRate)),q=Math.sin(2*Math.PI*D*1.5*(R/c.sampleRate)),ue=(Math.random()*2-1)*.3;O[R]=(K+q*.7+ue)*V}v.buffer=I}else if(S.includes("ride")||e===51){v=c.createBufferSource();const _=Math.max(1,Math.floor(c.sampleRate*n)),I=c.createBuffer(1,_,c.sampleRate),O=I.getChannelData(0),D=3e3,H=.15;for(let R=0;R<_;R++){const V=Math.exp(-R/(c.sampleRate*H)),K=Math.sin(2*Math.PI*D*(R/c.sampleRate)),q=Math.sin(2*Math.PI*D*2.5*(R/c.sampleRate))*.3;O[R]=(K+q)*V}v.buffer=I}else if(S.includes("tom")||e===41||e===47||e===50){const _=c.createOscillator();_.type="sine";let I=200;S.includes("high")||e===50?I=300:S.includes("mid")||e===47?I=200:(S.includes("low")||e===41)&&(I=120),_.frequency.setValueAtTime(I,m),_.frequency.exponentialRampToValueAtTime(I*.5,m+n*.8);const O=c.createGain();O.gain.setValueAtTime(.9,m),O.gain.exponentialRampToValueAtTime(.001,m+n),_.connect(O).connect(f),_.start(m),_.stop(m+n),Na.push({node:_,controlGainNode:f,trackType:u,intendedVolume:h,scheduledStopTime:m+n,isDrum:!0});return}else if(S.includes("shaker")||S.includes("tambourine")||S.includes("cowbell")||e===70||e===54||e===56){v=c.createBufferSource();const _=Math.max(1,Math.floor(c.sampleRate*n)),I=c.createBuffer(1,_,c.sampleRate),O=I.getChannelData(0),D=S.includes("cowbell")?800:6e3,H=.1;for(let R=0;R<_;R++){const V=Math.exp(-R/(c.sampleRate*H));S.includes("cowbell")?O[R]=Math.sin(2*Math.PI*D*(R/c.sampleRate))*V:O[R]=(Math.random()*2-1)*V}v.buffer=I}else{console.log(` Using generic percussion for: "${S}" (MIDI: ${e})`),v=c.createBufferSource();const _=Math.max(1,Math.floor(c.sampleRate*n)),I=c.createBuffer(1,_,c.sampleRate),O=I.getChannelData(0);for(let D=0;D<_;D++)O[D]=(Math.random()*2-1)*Math.exp(-D/(c.sampleRate*.1));v.buffer=I}}else{v=c.createOscillator(),v.type="sawtooth";const S=440*Math.pow(2,(e-69)/12);if(!Number.isFinite(S)||S<=0){console.error(" Invalid frequency calculated:",S,"for note number:",e);return}v.frequency.setValueAtTime(S,m)}v.connect(f),v.start(m),v.stop(m+n),Na.push({node:v,controlGainNode:f,trackType:u,intendedVolume:h,scheduledStopTime:m+n,isDrum:s})};let Rh=null;const iS=()=>{if(!Rh)throw new Error("Settings not available for loop duration calculation.");const{tempo:e,bars:t,timeSignature:n}=Rh,i=n[0]*(4/n[1]);return ur(t*i,e)},px=(e,t,n)=>{console.log(" Starting playback with patterns:",e),console.log(" Settings:",t),console.log(" Track to play:",n),aS(!1),ms=!0,ol=0,Rh={...t};const i=S0();wc=i.currentTime,Na=[];const s=iS();if(console.log(" Loop duration:",s,"seconds"),s<=0){console.error("Loop duration is zero or negative. Cannot play."),ms=!1;return}function o(){if(!ms)return;const u=i.currentTime;Na=Na.filter(h=>h.scheduledStopTime>u||!h.node);const c=t.tempo,m=(h,y)=>{if(!y){console.log(` No data for track: ${h}`);return}console.log(` Scheduling track: ${h}`,y),h==="drums"&&typeof y=="object"&&!Array.isArray(y)?Object.entries(y).forEach(([v,S])=>{let _,I;if(console.log(` Processing drum element: "${v}"`),_=hs[v],I=v,!_){const O=v.toLowerCase().replace(/\s+/g,"_");_=hs[O],I=O}if(!_){const O={kick_drum:{midi:"kick",key:"kick"},bass_drum:{midi:"kick",key:"kick"},acoustic_bass_drum:{midi:"kick",key:"kick"},snare_drum:{midi:"snare",key:"snare"},acoustic_snare:{midi:"snare",key:"snare"},hi_hat_closed:{midi:"hihat_closed",key:"hihat_closed"},hi_hat_open:{midi:"open_hihat",key:"open_hihat"},hihat_open:{midi:"open_hihat",key:"open_hihat"},closed_hi_hat:{midi:"hihat_closed",key:"hihat_closed"},open_hi_hat:{midi:"open_hihat",key:"open_hihat"},crash_cymbal:{midi:"crash_cymbal_1",key:"crash_cymbal_1"},crash:{midi:"crash",key:"crash_cymbal_1"},ride_cymbal:{midi:"ride_cymbal_1",key:"ride_cymbal_1"},ride:{midi:"ride",key:"ride_cymbal_1"},hand_clap:{midi:"clap",key:"clap"},handclap:{midi:"clap",key:"clap"},tom_hi:{midi:"tom_high",key:"tom_high"},tom_lo:{midi:"tom_low",key:"tom_low"},high_tom:{midi:"tom_high",key:"tom_high"},mid_tom:{midi:"tom_mid",key:"tom_mid"},low_tom:{midi:"tom_low",key:"tom_low"},low_floor_tom:{midi:"tom_low",key:"tom_low"},high_floor_tom:{midi:"tom_high",key:"tom_high"}},D=v.toLowerCase().replace(/\s+/g,"_"),H=O[D];H&&(_=hs[H.midi],I=H.key)}if(console.log(` Final mapping: "${v}" -> "${I}" -> MIDI: ${_}`),typeof _!="number"||!S){console.warn(` No MIDI mapping found for drum element: "${v}"`),console.warn(" Available drum mappings:",Object.keys(hs));return}S.forEach(O=>{console.log(` Scheduling ${I} hit:`,O),Gm(_,ur(O.time,c),ur(O.duration,c),O.velocity,!0,I,h)})}):Array.isArray(y)&&y.forEach((v,S)=>{if(console.log(` Processing ${h} event ${S}:`,v),"notes"in v)v.notes.forEach((I,O)=>{console.log(` Chord note ${O}:`,I),typeof I.midi=="number"?Gm(I.midi,ur(v.time,c),ur(v.duration,c),v.velocity,!1,void 0,h):console.warn(" Invalid MIDI number in chord note:",I)});else{const I=v;console.log(" Single note:",I),typeof I.midi=="number"?Gm(I.midi,ur(v.time,c),ur(v.duration,c),v.velocity,!1,void 0,h):console.warn(" Invalid MIDI number in note:",I)}})};if((n?[n]:["chords","bassline","melody","drums"]).forEach(h=>{switch(h){case"chords":e.chords&&m("chords",e.chords);break;case"bassline":e.bassline&&m("bassline",e.bassline);break;case"melody":e.melody&&m("melody",e.melody);break;case"drums":e.drums&&m("drums",e.drums);break}}),ms){const h=wc+(ol+1)*s;let y=(h-i.currentTime)*1e3;y<0&&(console.warn(`Loop drift detected. Next loop scheduled with minimal delay. Ideal: ${h}, Current: ${i.currentTime}`),y=10),Tc=window.setTimeout(()=>{ms&&(ol++,o())},y)}}o()},ci=()=>{ms=!1,aS(!0)},aS=e=>{Tc!==null&&(clearTimeout(Tc),Tc=null),Na.forEach(t=>{try{t.node&&(t.node.stop(),t.node.disconnect()),t.controlGainNode&&t.controlGainNode.disconnect()}catch{}}),Na=[],e&&(ol=0,wc=0)},Ko=async()=>{try{const e=S0();e.state==="suspended"&&await e.resume()}catch(e){console.error("Failed to initialize audio context:",e)}},M8=async e=>new Promise((t,n)=>{const i=new FileReader;i.onload=()=>{if(i.result&&typeof i.result=="string"){const s=i.result.split(","),o=s[1],u=s[0].match(/data:(.*);base64/),c=u?u[1]:e.type||"audio/mpeg";t({base64:o,mimeType:c})}else n(new Error("Failed to read file"))},i.onerror=()=>n(new Error("File reading failed")),i.readAsDataURL(e)}),D8={kick:"Kick",snare:"Snare",hihat:"Hi-Hat",hihat_open:"Hi-Hat Open",hihat_closed:"Hi-Hat Closed",crash:"Crash",ride:"Ride",tom:"Tom",tom_high:"High Tom",tom_mid:"Mid Tom",tom_low:"Low Tom",clap:"Clap",shaker:"Shaker",tambourine:"Tambourine",cowbell:"Cowbell",rim:"Rimshot"},or=e=>{if(!e)return"General musical context. Focus on genre and vibe.";const t=e.indexOf("## 3. Instrument & Sound Design Guide"),n=t>0?t:e.indexOf("## 2. Structural Blueprint")>0?e.indexOf("## 2. Structural Blueprint"):1500;return e.substring(0,Math.min(n,e.length))},R8=e=>{const t=e.match(/^([A-G][#b]?)/);return t?t[1]:"C"},k8=e=>{const t=R8(e);return WT[t]||WT.C},w8=e=>Jn[e]||Jn.Default,$o=[1,2,4,8,16,32],rS=({currentGuidebookEntry:e,mainAppInputs:t,onUpdateGuidebookEntryMidi:n,parsedGuidebookBpm:i,parsedGuidebookKey:s,parsedGuidebookChordProg:o,initialPatterns:u,sections:c,targetTempo:m,targetKey:f,isRemixMode:h=!1})=>{var U,$,N,se;const[y,v]=oe.useState(()=>{var tt,Ge;if(h)return{...ut,key:f||ut.key,tempo:m||ut.tempo,genre:"Electronic",songSection:(c==null?void 0:c[0])||ut.songSection,guidebookContext:`Remix mode for ${f||"C minor"} at ${m||128} BPM`,targetInstruments:["bassline","drums","melody","chords"],bars:8};if(e!=null&&e.midiSettings)return{...e.midiSettings,bars:$o.includes(e.midiSettings.bars)?e.midiSettings.bars:ut.bars,songSection:e.midiSettings.songSection||ut.songSection,targetInstruments:e.midiSettings.targetInstruments&&e.midiSettings.targetInstruments.length>0?e.midiSettings.targetInstruments:[...ut.targetInstruments],guidebookContext:e.midiSettings.guidebookContext||or(e.content)};const j=((tt=e==null?void 0:e.genre)==null?void 0:tt[0])||((Ge=t==null?void 0:t.genre)==null?void 0:Ge[0])||ut.genre,ie=or((e==null?void 0:e.content)||""),_e=bi[j]||bi.Default,Ce=Math.round((_e[0]+_e[1])/2),Me=ut.songSection;let ze=ut.bars;const He=Me.toLowerCase();return He.includes("intro")||He.includes("outro")||He.includes("fill")||He.includes("breakdown")?ze=4:ze=8,ze=$o.includes(ze)?ze:ut.bars,{...ut,genre:j,key:s||ut.key,tempo:i||Ce,chordProgression:o||(Jn[j]||Jn.Default)[0],guidebookContext:ie,targetInstruments:[...ut.targetInstruments],songSection:Me,bars:ze}}),[S,_]=oe.useState(()=>{if(h&&u){const j={};return Object.entries(u).forEach(([ie,_e])=>{Object.entries(_e).forEach(([Ce,Me])=>{const ze=`${ie}_${Ce}`;typeof Me!="string"&&(j[ze]=Me)})}),j}return(e==null?void 0:e.generatedMidiPatterns)||null}),[I,O]=oe.useState(!1),[D,H]=oe.useState(""),[R,V]=oe.useState(null),[K,q]=oe.useState(!1),ue=oe.useRef(K);oe.useEffect(()=>{ue.current=K},[K]);const[me,Ae]=oe.useState(!1);oe.useEffect(()=>{var ie,_e;let j;if(e!=null&&e.midiSettings)j=e.midiSettings.bars||ut.bars,v({...e.midiSettings,bars:$o.includes(j)?j:ut.bars,songSection:e.midiSettings.songSection||ut.songSection,targetInstruments:e.midiSettings.targetInstruments&&e.midiSettings.targetInstruments.length>0?e.midiSettings.targetInstruments:[...ut.targetInstruments],guidebookContext:e.midiSettings.guidebookContext||or(e.content)});else{const Ce=((ie=e==null?void 0:e.genre)==null?void 0:ie[0])||((_e=t==null?void 0:t.genre)==null?void 0:_e[0])||ut.genre,Me=or((e==null?void 0:e.content)||""),ze=bi[Ce]||bi.Default,He=Math.round((ze[0]+ze[1])/2),tt=ut.songSection;let Ge=ut.bars;const we=tt.toLowerCase();we.includes("intro")||we.includes("outro")||we.includes("fill")||we.includes("breakdown")?Ge=4:Ge=8,j=$o.includes(Ge)?Ge:ut.bars,v({...ut,key:s||ut.key,tempo:i||He,chordProgression:o||(Jn[Ce]||Jn.Default)[0],genre:Ce,guidebookContext:Me,targetInstruments:[...ut.targetInstruments],songSection:tt,bars:j})}_((e==null?void 0:e.generatedMidiPatterns)||null),V(null),ue.current&&(ci(),q(!1))},[e,t==null?void 0:t.genre,i,s,o]);const Y=(j,ie)=>{v(_e=>{const Ce={..._e,[j]:ie};if(j==="genre"){const Me=ie,ze=(Jn[_e.genre]||Jn.Default)[0];_e.chordProgression===ze&&(Ce.chordProgression=(Jn[Me]||Jn.Default)[0]);const He=bi[_e.genre]||bi.Default,tt=Math.round((He[0]+He[1])/2);if(_e.tempo===tt){const Ge=bi[Me]||bi.Default;Ce.tempo=Math.round((Ge[0]+Ge[1])/2)}}return e!=null&&e.content&&(Ce.guidebookContext=or(e.content)),Ce})},ye=j=>{v(ie=>{const _e=ie.targetInstruments,Ce=_e.includes(j)?_e.filter(Me=>Me!==j):[..._e,j];return{...ie,targetInstruments:Ce}})},be=async()=>{var ie;O(!0),H("Regenerating MIDI patterns..."),V(null),ue.current&&(ci(),q(!1)),await Ko();let j;if(h)j={...y,guidebookContext:`${y.genre} remix at ${y.tempo} BPM in ${y.key}`,genre:y.genre};else{const _e=((ie=e==null?void 0:e.genre)==null?void 0:ie[0])||y.genre,Ce=or((e==null?void 0:e.content)||"");j={...y,guidebookContext:Ce,genre:_e}}try{const _e=await hl(j);let Ce="";for await(const Ge of _e)Ge.text&&(Ce+=Ge.text);console.log("Raw MIDI response:",Ce),Ce=Ce.trim();const Me=/^```(\w*)?\s*\n?(.*?)\n?\s*```$/s,ze=Ce.match(Me);ze&&ze[2]&&(console.log("Found code block, extracting JSON:",ze[2]),Ce=ze[2].trim());let He;try{He=JSON.parse(Ce)}catch(Ge){throw console.error("JSON parse error:",Ge),console.error("Failed to parse:",Ce),new Error(`Invalid JSON response from AI: ${Ge instanceof Error?Ge.message:"Unknown parse error"}. Response was: ${Ce.substring(0,200)}...`)}if(console.log("Parsed MIDI patterns:",He),(Ge=>{console.log(" Validating MIDI patterns..."),Ge.chords&&Ge.chords.forEach((we,ft)=>{(!Number.isFinite(we.time)||!Number.isFinite(we.duration))&&console.error(` Invalid chord ${ft}:`,we),we.notes.forEach((mt,Rt)=>{Number.isFinite(mt.midi)||console.error(` Invalid chord ${ft} note ${Rt}:`,mt)})}),["bassline","melody"].forEach(we=>{const ft=Ge[we];ft&&ft.forEach((mt,Rt)=>{(!Number.isFinite(mt.time)||!Number.isFinite(mt.duration)||!Number.isFinite(mt.midi))&&console.error(` Invalid ${we} note ${Rt}:`,mt)})}),Ge.drums&&Object.entries(Ge.drums).forEach(([we,ft])=>{ft.forEach((mt,Rt)=>{(!Number.isFinite(mt.time)||!Number.isFinite(mt.duration)||!Number.isFinite(mt.velocity||100))&&console.error(` Invalid ${we} hit ${Rt}:`,mt)})})})(He),He.drums){const Ge={};for(const we in He.drums)Ge[we.toLowerCase().replace(/\s+/g,"_")]=He.drums[we];He.drums=Ge}_(He),n==null||n(j,He)}catch(_e){console.error("MIDI Generation Error:",_e);const Ce=_e.message.toLowerCase().includes("json")?`AI returned invalid JSON for MIDI patterns. (${_e.message})`:`Failed to generate MIDI patterns: ${_e.message}`;V(Ce),_(null)}finally{O(!1),H("")}},Se=async()=>{S&&(await Ko(),ue.current&&(ci(),q(!1),await new Promise(j=>setTimeout(j,50))),px(S,y),q(!0))},pe=async j=>{!S||!S[j]||(await Ko(),ue.current&&(ci(),q(!1),await new Promise(ie=>setTimeout(ie,50))),px(S,y,j),q(!0))},re=()=>{ci(),q(!1)};oe.useEffect(()=>()=>{ue.current&&ci()},[]);const W=()=>{if(!S)return;const j=((e==null?void 0:e.title)||"TrackGuideMIDI").replace(/[^a-z0-9_.-]/gi,"_"),ie=mx(S,y,j);ie?hx(ie,`${j}_all_tracks.mid`):alert("No MIDI data to download or error in generation.")},z=j=>{if(!S||!S[j]){alert(`No ${j} data available in current patterns.`);return}const ie={[j]:S[j]},_e=((e==null?void 0:e.title)||"TrackGuideMIDI").replace(/[^a-z0-9_.-]/gi,"_"),Ce=mx(ie,y,`${_e}_${j}`);Ce?hx(Ce,`${_e}_${j}.mid`):alert(`No ${j} data to download or error in generation.`)},w=async j=>{var _e;if(!S)return;O(!0),H(`Regenerating ${j}...`),V(null),ue.current&&(ci(),q(!1)),await Ko();let ie;if(h)ie={...y,guidebookContext:`${y.genre} remix at ${y.tempo} BPM in ${y.key}`,genre:y.genre,targetInstruments:[j]};else{const Ce=((_e=e==null?void 0:e.genre)==null?void 0:_e[0])||y.genre,Me=or((e==null?void 0:e.content)||"");ie={...y,guidebookContext:Me,genre:Ce,targetInstruments:[j]}}try{const Ce=await hl(ie);let Me="";for await(const we of Ce)we.text&&(Me+=we.text);console.log(`Raw MIDI response for ${j}:`,Me),Me=Me.trim();const ze=/^```(\w*)?\s*\n?(.*?)\n?\s*```$/s,He=Me.match(ze);He&&He[2]&&(console.log(`Found code block for ${j}, extracting JSON:`,He[2]),Me=He[2].trim());let tt;try{tt=JSON.parse(Me)}catch(we){throw console.error(`JSON parse error for ${j}:`,we),console.error("Failed to parse:",Me),new Error(`Invalid JSON response from AI for ${j}: ${we instanceof Error?we.message:"Unknown parse error"}`)}console.log(`Parsed MIDI patterns for ${j}:`,tt);const Ge={...S,[j]:tt[j]};if(j==="drums"&&tt.drums){const we={};for(const ft in tt.drums)we[ft.toLowerCase().replace(/\s+/g,"_")]=tt.drums[ft];Ge.drums=we}_(Ge),n==null||n(y,Ge)}catch(Ce){console.error("Error regenerating single track:",Ce),V(`Failed to regenerate ${j}. Please try again.`)}finally{O(!1),H("")}},L=async()=>{me||await Ko(),Ae(j=>!j)},C=(j,ie)=>{if(!S||!S[j])return null;const _e=S[j];let Ce="";if(j==="drums"&&_e){const Me=Object.keys(_e);Ce=`${Me.length} elements: ${Me.map(ze=>D8[ze]||ze).join(", ")}`}else j==="chords"&&Array.isArray(_e)?Ce=`${_e.length} chord events`:(j==="bassline"||j==="melody")&&Array.isArray(_e)&&(Ce=`${_e.length} notes`);return g.jsxs(st,{title:ie,className:"p-4 border border-gray-600 rounded-md bg-gray-800/50",children:[g.jsx("div",{className:"mb-3",children:g.jsx("p",{className:"text-xs text-gray-400",children:Ce})}),g.jsxs("div",{className:"flex flex-wrap gap-2",children:[g.jsx($e,{onClick:()=>pe(j),leftIcon:g.jsx(QT,{}),size:"sm",variant:"primary",children:"Play"}),g.jsx($e,{onClick:()=>w(j),leftIcon:g.jsx(JT,{className:"w-4 h-4",isSpinning:I&&D.includes(j)}),size:"sm",variant:"secondary",disabled:I,children:"Regenerate"}),g.jsx($e,{onClick:()=>z(j),leftIcon:g.jsx(dh,{}),size:"sm",variant:"secondary",children:"Download"})]})]},j)};return g.jsxs(st,{title:" MIDI Tools & Pattern Generator",className:"mt-6 bg-gray-800/80 backdrop-blur-md shadow-xl border border-gray-700/50",children:[g.jsx($e,{onClick:L,variant:"secondary",className:"w-full mb-4",leftIcon:g.jsx(yR,{}),children:me?"Hide MIDI Settings":"Adjust MIDI Settings & Regenerate"}),me&&g.jsxs("div",{className:"mb-6 border-t border-gray-700 pt-6",children:[g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-x-6 gap-y-4 mb-6",children:[g.jsxs("div",{children:[g.jsx("label",{htmlFor:"midi-key",className:"block text-sm font-medium text-gray-300 mb-1",children:"Key"}),g.jsx("select",{id:"midi-key",value:y.key,onChange:j=>Y("key",j.target.value),className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-md shadow-sm text-gray-100 focus:ring-purple-500 focus:border-purple-500 text-sm",children:Wo.map(j=>g.jsx("option",{value:j,children:j},j))})]}),g.jsxs("div",{children:[g.jsxs("label",{htmlFor:"midi-scale",className:"block text-sm font-medium text-gray-300 mb-1",children:["Scale/Mode ",g.jsx("span",{className:"text-xs text-gray-400",children:"(Optional)"})]}),g.jsxs("select",{id:"midi-scale",value:y.scale||"",onChange:j=>Y("scale",j.target.value),className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-md shadow-sm text-gray-100 focus:ring-purple-500 focus:border-purple-500 text-sm",children:[g.jsx("option",{value:"",children:"Default (from key)"}),k8(y.key).map(j=>g.jsx("option",{value:j,children:j},j))]})]}),g.jsxs("div",{children:[g.jsx("label",{htmlFor:"midi-tempo",className:"block text-sm font-medium text-gray-300 mb-1",children:"Tempo (BPM)"}),g.jsx(Fn,{type:"number",id:"midi-tempo",value:y.tempo,onChange:j=>Y("tempo",parseInt(j.target.value,10)),min:"30",max:"300"})]}),g.jsxs("div",{children:[g.jsx("label",{htmlFor:"midi-timesig",className:"block text-sm font-medium text-gray-300 mb-1",children:"Time Signature"}),g.jsx("select",{id:"midi-timesig",value:y.timeSignature.join("/"),onChange:j=>Y("timeSignature",j.target.value.split("/").map(Number)),className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-md shadow-sm text-gray-100 focus:ring-purple-500 focus:border-purple-500 text-sm",children:eR.map(j=>g.jsx("option",{value:j.join("/"),children:j.join("/")},j.join("/")))})]}),g.jsxs("div",{children:[g.jsx("label",{htmlFor:"midi-chords",className:"block text-sm font-medium text-gray-300 mb-1",children:"Chord Progression"}),g.jsx("select",{id:"midi-chords",value:y.chordProgression,onChange:j=>Y("chordProgression",j.target.value),className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-md shadow-sm text-gray-100 focus:ring-purple-500 focus:border-purple-500 text-sm",children:w8(y.genre).map(j=>g.jsx("option",{value:j,children:j},j))})]}),g.jsxs("div",{children:[g.jsx("label",{htmlFor:"midi-genre",className:"block text-sm font-medium text-gray-300 mb-1",children:"MIDI Genre Context"}),g.jsxs("select",{id:"midi-genre",value:y.genre,onChange:j=>Y("genre",j.target.value),className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-md shadow-sm text-gray-100 focus:ring-purple-500 focus:border-purple-500 text-sm",children:[g.jsxs("option",{value:((U=e==null?void 0:e.genre)==null?void 0:U[0])||(($=t==null?void 0:t.genre)==null?void 0:$[0])||ut.genre,children:["Align with Guidebook (",((N=e==null?void 0:e.genre)==null?void 0:N[0])||((se=t==null?void 0:t.genre)==null?void 0:se[0])||"Default",")"]}),JE.map(j=>g.jsx("option",{value:j,children:j},j))]})]}),g.jsxs("div",{children:[g.jsx("label",{htmlFor:"midi-bars",className:"block text-sm font-medium text-gray-300 mb-1",children:"Loop Length (Bars)"}),g.jsx("select",{id:"midi-bars",value:y.bars,onChange:j=>Y("bars",parseInt(j.target.value,10)),className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-md shadow-sm text-gray-100 focus:ring-purple-500 focus:border-purple-500 text-sm",children:$o.map(j=>g.jsx("option",{value:j,children:j},j))})]}),g.jsxs("div",{className:"lg:col-span-1",children:[g.jsx("label",{htmlFor:"midi-songsection",className:"block text-sm font-medium text-gray-300 mb-1",children:"Song Section Context"}),g.jsx("select",{id:"midi-songsection",value:y.songSection||ut.songSection,onChange:j=>Y("songSection",j.target.value),className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-md shadow-sm text-gray-100 focus:ring-purple-500 focus:border-purple-500 text-sm",children:(h&&c?c:nR).map(j=>g.jsx("option",{value:j,children:j},j))})]})]}),g.jsxs("div",{className:"mb-6",children:[g.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Target Instruments to Generate"}),g.jsx("div",{className:"flex flex-wrap gap-x-4 gap-y-2",children:tR.map(j=>g.jsxs("button",{type:"button",onClick:()=>ye(j.id),className:`flex items-center px-3 py-1.5 rounded-md text-sm transition-colors duration-150 ease-in-out border
                            ${y.targetInstruments.includes(j.id)?"bg-purple-600 text-white border-purple-500 hover:bg-purple-700 shadow-md":"bg-gray-700 text-gray-300 border-gray-600 hover:bg-gray-600 hover:border-gray-500"}`,"aria-pressed":y.targetInstruments.includes(j.id),children:[y.targetInstruments.includes(j.id)?g.jsx(bR,{className:"w-4 h-4 mr-2"}):g.jsx(TR,{className:"w-4 h-4 mr-2 text-gray-500"}),j.label]},j.id))})]}),g.jsx($e,{onClick:be,disabled:I||y.targetInstruments.length===0,className:"w-full",leftIcon:g.jsx(JT,{className:"w-5 h-5",isSpinning:I}),children:I?D||"Regenerating MIDI Patterns...":y.targetInstruments.length===0?"Select instruments first":"Regenerate MIDI Patterns"})]}),R&&g.jsx("p",{className:"text-red-400 bg-red-900/30 p-3 rounded-md text-sm my-4",children:R}),I&&!me&&(!S||D.includes("MIDI"))&&g.jsx("div",{className:"my-4",children:g.jsx(vi,{text:D||"AI is composing..."})}),S&&!I&&g.jsxs("div",{className:"mt-6 space-y-3",children:[g.jsxs("div",{className:"flex flex-wrap gap-3 items-center pb-3 border-b border-gray-700",children:[g.jsx($e,{onClick:K?re:Se,variant:K?"danger":"primary",size:"md",leftIcon:K?g.jsx(gR,{}):g.jsx(QT,{}),children:K?"Stop Preview":"Play All Tracks"}),g.jsx($e,{onClick:W,variant:"secondary",size:"md",leftIcon:g.jsx(dh,{}),children:"Download All (.mid)"})]}),g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 pt-3",children:[C("chords","Chords"),C("bassline","Bassline"),C("melody","Melody"),C("drums","Drums")]}),S.error&&g.jsxs("p",{className:"text-sm text-yellow-400 mt-2",children:["AI Note: ",S.error]})]}),!S&&!I&&!R&&g.jsxs("p",{className:"text-gray-400 text-sm mt-4 text-center",children:["No MIDI patterns generated yet for this ",h?"RemixGuide":"TrackGuide",'. Click "Adjust MIDI Settings" to configure and generate.']})]})},sS=[{category:"House",genre:"House",tempoRange:[120,126],sections:["Intro","Build-Up","Drop","Breakdown","Drop 2","Outro"]},{category:"House",genre:"Deep House",tempoRange:[118,124],sections:["Intro","Build-Up","Drop","Breakdown","Outro"]},{category:"House",genre:"Tech House",tempoRange:[122,127],sections:["Intro","Build-Up","Drop","Breakdown","Drop 2","Outro"]},{category:"House",genre:"Progressive House",tempoRange:[124,128],sections:["Intro","Build-Up","Drop","Breakdown","Outro"]},{category:"House",genre:"Afro House",tempoRange:[120,125],sections:["Intro","Build-Up","Drop","Breakdown","Outro"]},{category:"House",genre:"Nu-Disco",tempoRange:[115,125],sections:["Intro","Verse","Chorus","Bridge","Outro"]},{category:"Techno",genre:"Melodic Techno",tempoRange:[120,126],sections:["Intro","Groove Build","Peak Moment","Mid-Break","Outro"]},{category:"Techno",genre:"Minimal Techno",tempoRange:[120,125],sections:["Intro","Groove Build","Peak Moment","Mid-Break","Outro"]},{category:"Techno",genre:"Big Room Techno",tempoRange:[126,130],sections:["Intro","Build-Up","Drop","Breakdown","Build-Up 2","Final Drop","Outro"]},{category:"Techno",genre:"Peak Time Techno",tempoRange:[128,135],sections:["Intro","Groove Build","Peak Moment","Mid-Break","Outro"]},{category:"Techno",genre:"Hard Techno",tempoRange:[135,145],sections:["Intro","Groove Build","Peak Moment","Mid-Break","Outro"]},{category:"Trance",genre:"Trance",tempoRange:[128,140],sections:["Intro","Build-Up","Drop","Breakdown","Build-Up 2","Final Drop","Outro"]},{category:"Trance",genre:"Psytrance",tempoRange:[140,150],sections:["Intro","Build-Up","Drop","Breakdown","Build-Up 2","Final Drop","Outro"]},{category:"Trance",genre:"Progressive Trance",tempoRange:[130,138],sections:["Intro","Build-Up","Drop","Breakdown","Build-Up 2","Final Drop","Outro"]},{category:"Trance",genre:"Uplifting Trance",tempoRange:[132,140],sections:["Intro","Build-Up","Drop","Breakdown","Build-Up 2","Final Drop","Outro"]},{category:"Bass & Dubstep",genre:"Dubstep",tempoRange:[140,150],sections:["Intro","Pre-Drop","Drop 1","Switch-Up","Drop 2","Outro"]},{category:"Bass & Dubstep",genre:"Riddim Dubstep",tempoRange:[140,150],sections:["Intro","Pre-Drop","Drop 1","Switch-Up","Drop 2","Outro"]},{category:"Bass & Dubstep",genre:"Hybrid Trap",tempoRange:[135,150],sections:["Intro","Pre-Drop","Drop 1","Mid-Section","Drop 2","Outro"]},{category:"Bass & Dubstep",genre:"Midtempo Bass",tempoRange:[95,110],sections:["Intro","Build-Up","Drop","Breakdown","Outro"]},{category:"Bass & Dubstep",genre:"Future Bass",tempoRange:[140,155],sections:["Intro","Pre-Drop","Drop 1","Breakdown","Drop 2","Outro"]},{category:"Bass & Dubstep",genre:"Phonk",tempoRange:[130,150],sections:["Intro","Pre-Drop","Drop 1","Switch-Up","Drop 2","Outro"]},{category:"Bass & Dubstep",genre:"Hardstyle",tempoRange:[150,160],sections:["Intro","Pre-Drop","Drop 1","Switch-Up","Drop 2","Outro"]},{category:"Trap & Future Styles",genre:"Trap",tempoRange:[130,150],sections:["Intro","Pre-Drop","Drop 1","Mid-Section","Drop 2","Outro"]},{category:"Trap & Future Styles",genre:"Hard Trap",tempoRange:[135,150],sections:["Intro","Pre-Drop","Drop 1","Switch-Up","Drop 2","Outro"]},{category:"Trap & Future Styles",genre:"Hyperpop",tempoRange:[140,160],sections:["Intro","Verse","Drop","Bridge","Outro"]},{category:"Trap & Future Styles",genre:"Trap Soul",tempoRange:[100,130],sections:["Intro","Verse","Chorus","Bridge","Outro"]},{category:"Trap & Future Styles",genre:"Jersey Club",tempoRange:[130,140],sections:["Intro","Pre-Drop","Drop 1","Mid-Section","Drop 2","Outro"]},{category:"Drum & Bass / UK Styles",genre:"Drum & Bass",tempoRange:[170,175],sections:["Intro","Build-Up","Drop","Mid-Roll","Breakdown","Second Drop","Outro"]},{category:"Drum & Bass / UK Styles",genre:"Liquid DnB",tempoRange:[170,175],sections:["Intro","Build-Up","Drop","Mid-Roll","Breakdown","Second Drop","Outro"]},{category:"Drum & Bass / UK Styles",genre:"Jungle",tempoRange:[170,175],sections:["Intro","Build-Up","Drop","Mid-Roll","Breakdown","Second Drop","Outro"]},{category:"Drum & Bass / UK Styles",genre:"UK Garage",tempoRange:[130,138],sections:["Intro","Build-Up","Drop","Breakdown","Outro"]},{category:"Drum & Bass / UK Styles",genre:"UK Bass",tempoRange:[128,138],sections:["Intro","Build-Up","Drop","Breakdown","Outro"]},{category:"Drum & Bass / UK Styles",genre:"Breakbeat",tempoRange:[125,135],sections:["Intro","Build-Up","Drop","Breakdown","Outro"]},{category:"Pop / Indie / Electro",genre:"EDM Pop",tempoRange:[110,125],sections:["Intro","Verse","Pre-Chorus","Chorus / Drop","Bridge","Outro"]},{category:"Pop / Indie / Electro",genre:"Indie Pop",tempoRange:[100,120],sections:["Intro","Verse","Chorus","Bridge","Outro"]},{category:"Pop / Indie / Electro",genre:"Indie Dance",tempoRange:[115,125],sections:["Intro","Verse","Chorus","Bridge","Outro"]},{category:"Pop / Indie / Electro",genre:"Electro Pop",tempoRange:[100,120],sections:["Intro","Verse","Pre-Chorus","Chorus","Bridge","Outro"]},{category:"Pop / Indie / Electro",genre:"Synth Pop",tempoRange:[100,115],sections:["Intro","Verse","Pre-Chorus","Chorus","Bridge","Outro"]},{category:"Retro & Synth",genre:"Synthwave",tempoRange:[85,105],sections:["Intro","Main Theme","Breakdown","Bridge","Outro"]},{category:"Retro & Synth",genre:"Chillwave",tempoRange:[85,100],sections:["Intro","Main Theme","Breakdown","Bridge","Outro"]},{category:"Retro & Synth",genre:"Vaporwave",tempoRange:[60,85],sections:["Intro","Main Theme","Breakdown","Outro"]},{category:"Retro & Synth",genre:"Retrowave",tempoRange:[90,110],sections:["Intro","Main Theme","Breakdown","Bridge","Outro"]},{category:"Hip-Hop & RnB",genre:"Boom Bap",tempoRange:[85,95],sections:["Intro","Verse","Chorus","Verse 2","Outro"]},{category:"Hip-Hop & RnB",genre:"Experimental Hip-Hop",tempoRange:[80,100],sections:["Intro","Verse","Drop","Bridge","Outro"]},{category:"Hip-Hop & RnB",genre:"RnB Remix",tempoRange:[85,100],sections:["Intro","Verse","Chorus","Bridge","Outro"]},{category:"Lo-fi & Chill",genre:"Lo-fi Hip-Hop",tempoRange:[65,85],sections:["Intro","Groove Section A","Groove Section B","Bridge / Texture Break","Outro"]},{category:"Lo-fi & Chill",genre:"Chillhop",tempoRange:[70,90],sections:["Intro","Groove Section A","Groove Section B","Bridge / Texture Break","Outro"]},{category:"Lo-fi & Chill",genre:"Trip-Hop",tempoRange:[70,90],sections:["Intro","Main Atmosphere","Texture Development","Outro"]},{category:"Lo-fi & Chill",genre:"Downtempo",tempoRange:[70,90],sections:["Intro","Main Atmosphere","Texture Development","Dynamic Peak","Outro"]},{category:"Lo-fi & Chill",genre:"Chillstep",tempoRange:[100,115],sections:["Intro","Build-Up","Drop","Breakdown","Outro"]},{category:"Ambient & Cinematic",genre:"Ambient",tempoRange:[60,80],sections:["Intro","Main Atmosphere","Texture Development","Outro"]},{category:"Ambient & Cinematic",genre:"Cinematic",tempoRange:[60,80],sections:["Intro","Main Atmosphere","Texture Development","Outro"]}],L8=()=>{const e={};return sS.forEach(({category:t,genre:n})=>{e[t]||(e[t]=[]),e[t].push(n)}),e},gx=e=>sS.find(t=>t.genre===e),yx=e=>{if(!e)return null;const t=/##\s*\s*Original Track DNA Analysis/i,n=e.match(t);if(!n||typeof n.index>"u")return null;const i=n.index,s=e.substring(i+n[0].length).match(/^##\s+/m),o=s&&typeof s.index<"u"?i+n[0].length+s.index:e.length,c=e.substring(i,o).trim().match(/\*\*Harmonic Blueprint\*\*:\s*([^\n]+)/i);if(c&&c[1]){const f=c[1].match(/([IVXLCDMivxlcdm\d\s,-]+(?:\s*-\s*[IVXLCDMivxlcdm\d\s,-]+)*)/);if(f&&f[1])return f[1].trim()}return null},O8=({onContentUpdate:e})=>{const[t,n]=oe.useState(null),[i,s]=oe.useState(""),[o,u]=oe.useState(""),[c,m]=oe.useState(""),[f,h]=oe.useState(""),[y,v]=oe.useState(!1),[S,_]=oe.useState(!1),[I,O]=oe.useState(null),[D,H]=oe.useState(""),[R,V]=oe.useState(""),K=oe.useRef(null),q=L8(),ue=Object.keys(q),me=re=>{var L;const W=(L=re.target.files)==null?void 0:L[0];if(!W)return;if(!(["audio/wav","audio/mpeg","audio/mp3"].includes(W.type)||W.name.toLowerCase().endsWith(".wav")||W.name.toLowerCase().endsWith(".mp3"))){V("Please upload a WAV or MP3 file");return}if(W.size>100*1024*1024){V("File size must be under 100MB");return}n(W),V("")},Ae=re=>{re.preventDefault();const W=re.dataTransfer.files[0];W&&me({target:{files:[W]}})},Y=re=>{re.preventDefault()},ye=async()=>{if(!t||!o){V("Please upload an audio file and select a target genre");return}v(!0),V(""),H(""),O(null);try{const re=await M8(t),W={base64:re.base64,mimeType:re.mimeType},z=gx(o);let w="",L=null;const C=oR(W,o,z,c,f);for await(const we of C)we.text&&(w+=we.text,H(w),e==null||e(w)),we.metadata&&(L=we.metadata);console.log("Remix guide generated, now generating MIDI patterns..."),_(!0);const U=yx(w),$=(L==null?void 0:L.targetTempo)||128,N=(L==null?void 0:L.targetKey)||"C minor",se=(L==null?void 0:L.originalChordProgression)||U,j=(L==null?void 0:L.sections)||["Intro","Build-Up","Drop","Breakdown","Outro"],ie={guide:w,targetTempo:$,targetKey:N,sections:j,originalKey:L==null?void 0:L.originalKey,originalTempo:L==null?void 0:L.originalTempo,originalChordProgression:se};O(ie),H("");const _e={key:N,tempo:$,timeSignature:[4,4],chordProgression:se||"i-VI-III-VII",genre:o,bars:8,targetInstruments:["bassline","drums","melody","chords"],guidebookContext:`${o} remix at ${$} BPM in ${N}`,songSection:j[0]||"Intro"};console.log("MIDI settings with remix defaults:",_e);const Ce=await hl(_e);let Me="";for await(const we of Ce)we.text&&(Me+=we.text);Me=Me.trim();const ze=/^```(\w*)?\s*\n?(.*?)\n?\s*```$/s,He=Me.match(ze);He&&He[2]&&(Me=He[2].trim());const tt=JSON.parse(Me);if(tt.drums){const we={};Object.entries(tt.drums).forEach(([ft,mt])=>{we[ft.toLowerCase()]=mt}),tt.drums=we}console.log("Generated MIDI patterns:",tt);const Ge={...ie,generatedMidiPatterns:tt};O(Ge),e==null||e(w),console.log("RemixGuide completed successfully with streaming and dynamic MIDI defaults")}catch(re){console.error("Error generating remix guide:",re),V(re instanceof Error?re.message:"Failed to generate remix guide")}finally{v(!1),_(!1)}},be=re=>{s(re),u("")},Se=async()=>{if(I){_(!0),V("");try{const re=yx(I.guide),W={key:I.targetKey,tempo:I.targetTempo,timeSignature:[4,4],chordProgression:re||I.originalChordProgression||"i-VI-III-VII",genre:o,bars:8,targetInstruments:["bassline","drums","melody","chords"],guidebookContext:`${o} remix at ${I.targetTempo} BPM in ${I.targetKey}`,songSection:I.sections[0]||"Intro"};console.log("Regenerating MIDI with settings:",W);const z=await hl(W);let w="";for await(const $ of z)$.text&&(w+=$.text);w=w.trim();const L=/^```(\w*)?\s*\n?(.*?)\n?\s*```$/s,C=w.match(L);C&&C[2]&&(w=C[2].trim()),console.log("Raw regenerated MIDI JSON:",w);const U=JSON.parse(w);if(U.drums){const $={};for(const N in U.drums)$[N.toLowerCase().replace(/\s+/g,"_")]=U.drums[N];U.drums=$}console.log("Regenerated MIDI patterns:",U),O($=>$?{...$,generatedMidiPatterns:U}:null)}catch(re){console.error("Error regenerating MIDI patterns:",re),V(`Failed to regenerate MIDI patterns: ${re instanceof Error?re.message:"Unknown error"}`)}finally{_(!1)}}},pe=()=>{n(null),s(""),u(""),m(""),h(""),O(null),V(""),K.current&&(K.current.value="")};return g.jsxs("div",{className:"space-y-6",children:[g.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[g.jsxs(st,{className:"p-6",children:[g.jsx("h3",{className:"text-lg font-semibold mb-4 text-white",children:"Upload Original Track"}),g.jsxs("div",{className:"border-2 border-dashed border-gray-600 rounded-lg p-8 text-center cursor-pointer hover:border-gray-500 transition-colors",onDrop:Ae,onDragOver:Y,onClick:()=>{var re;return(re=K.current)==null?void 0:re.click()},children:[g.jsx("input",{ref:K,type:"file",accept:".wav,.mp3,audio/wav,audio/mpeg",onChange:me,className:"hidden"}),g.jsxs("div",{className:"space-y-2",children:[g.jsx("div",{className:"text-4xl",children:""}),g.jsx("div",{className:"text-white font-medium",children:t?t.name:"Upload Original Track"}),g.jsx("p",{className:"text-gray-400 text-sm",children:"or drag and drop"})]}),g.jsxs("p",{className:"text-gray-500 text-xs mt-2",children:["MP3, WAV up to ",g.jsx("span",{className:"text-orange-400",children:"100"}),"MB"]})]})]}),g.jsxs(st,{className:"p-6",children:[g.jsx("h3",{className:"text-lg font-semibold mb-4 text-white",children:"Target Remix Genre"}),g.jsxs("div",{className:"space-y-4",children:[g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"1. Select Category"}),g.jsxs("select",{value:i,onChange:re=>be(re.target.value),className:"w-full p-3 bg-gray-700 border border-gray-600 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-orange-500",children:[g.jsx("option",{value:"",children:"Choose a category..."}),ue.map(re=>g.jsx("option",{value:re,children:re},re))]})]}),i&&g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"2. Select Genre"}),g.jsxs("select",{value:o,onChange:re=>u(re.target.value),className:"w-full p-3 bg-gray-700 border border-gray-600 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-orange-500",children:[g.jsx("option",{value:"",children:"Choose a genre..."}),q[i].map(re=>g.jsx("option",{value:re,children:re},re))]})]}),o&&g.jsx("div",{className:"text-sm text-gray-400 bg-gray-800 p-3 rounded-lg",children:(()=>{const re=gx(o);return re?` Tempo: ${re.tempoRange[0]}-${re.tempoRange[1]} BPM`:""})()})]})]})]}),g.jsxs(st,{className:"p-6",children:[g.jsx("h3",{className:"text-lg font-semibold mb-4 text-white",children:"Production Setup (Optional)"}),g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"DAW (Digital Audio Workstation)"}),g.jsx("input",{type:"text",value:c,onChange:re=>m(re.target.value),placeholder:"e.g., Ableton Live, Logic Pro X, FL Studio...",className:"w-full p-3 bg-gray-700 border border-gray-600 rounded-lg text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-orange-500"})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Available Plugins"}),g.jsx("input",{type:"text",value:f,onChange:re=>h(re.target.value),placeholder:"e.g., Serum, FabFilter Pro-Q 3, Valhalla VintageVerb...",className:"w-full p-3 bg-gray-700 border border-gray-600 rounded-lg text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-orange-500"})]})]}),g.jsx("p",{className:"text-xs text-gray-400 mt-2",children:"Specify your DAW and plugins to get tailored parameter recommendations in the remix guide"})]}),R&&g.jsx("div",{className:"bg-red-900/50 border border-red-500 rounded-lg p-4 text-red-200",children:R}),g.jsxs("div",{className:"flex gap-4",children:[g.jsx($e,{onClick:ye,disabled:!t||!o||y,className:"flex-1",children:y?g.jsxs(g.Fragment,{children:[g.jsx(vi,{size:"sm"})," Generating RemixGuide..."]}):" Generate RemixGuide"}),g.jsx($e,{onClick:pe,variant:"outline",children:"Reset"})]}),y&&D&&g.jsxs(st,{className:"p-6",children:[g.jsxs("h3",{className:"text-xl font-bold text-white mb-4",children:[" Generating ",o," Remix Guide..."]}),g.jsx("div",{className:"bg-gray-800/50 rounded-lg p-6 max-h-[calc(100vh-8rem)] overflow-y-auto",children:g.jsx(dr,{content:D})})]}),S&&I&&!y&&g.jsx(st,{className:"p-6",children:g.jsxs("div",{className:"text-center py-8",children:[g.jsx(vi,{size:"lg"}),g.jsx("h3",{className:"text-xl font-bold text-white mt-4",children:" Generating MIDI Patterns..."}),g.jsxs("p",{className:"text-gray-400 mt-2",children:["Creating ",o,"-specific patterns based on your remix guide"]})]})}),I&&!y&&g.jsxs("div",{className:"space-y-6",children:[g.jsxs(st,{className:"p-6",children:[g.jsxs("div",{className:"flex justify-between items-center mb-4",children:[g.jsxs("h3",{className:"text-xl font-bold text-white",children:[" ",o," Remix Guide"]}),g.jsxs("div",{className:"text-sm text-gray-400",children:["Target: ",I.targetTempo," BPM  ",I.targetKey]})]}),g.jsx("div",{className:"bg-gray-800/50 rounded-lg p-6 max-h-[calc(100vh-8rem)] overflow-y-auto",children:g.jsx(dr,{content:I.guide})})]}),g.jsxs(st,{className:"p-6",children:[g.jsxs("div",{className:"flex justify-between items-center mb-6",children:[g.jsx("h3",{className:"text-xl font-bold text-white",children:" MIDI Remix Patterns"}),g.jsx($e,{onClick:Se,disabled:S,variant:"outline",className:"text-sm",children:S?g.jsxs(g.Fragment,{children:[g.jsx(vi,{size:"sm"})," Regenerating..."]}):" Regenerate MIDI"})]}),I.generatedMidiPatterns?g.jsx(rS,{sections:I.sections,targetTempo:I.targetTempo,targetKey:I.targetKey,isRemixMode:!0,currentGuidebookEntry:{id:`remix-${Date.now()}`,title:`${o} Remix`,genre:[o],artistReference:"Remix Guide",vibe:[o],daw:c||"Not specified",plugins:f||"Not specified",availableInstruments:"Remix instruments",content:I.guide,createdAt:new Date().toISOString(),generatedMidiPatterns:I.generatedMidiPatterns}},`remix-${o}-${Date.now()}`):g.jsx("div",{className:"text-center py-8",children:g.jsx("div",{className:"text-gray-400 mb-4",children:S?g.jsxs(g.Fragment,{children:[g.jsx(vi,{size:"lg"}),g.jsx("p",{className:"mt-4",children:"Generating MIDI patterns..."})]}):g.jsxs(g.Fragment,{children:[g.jsx("div",{className:"text-4xl mb-2",children:""}),g.jsx("p",{children:"MIDI patterns will appear here after generation"}),g.jsx("p",{className:"text-sm mt-2",children:'Click "Regenerate MIDI" to generate patterns'})]})})})]})]}),!I&&g.jsx(st,{className:"p-6 bg-gray-800/30",children:g.jsxs("div",{className:"text-center space-y-4",children:[g.jsx("div",{className:"text-6xl",children:""}),g.jsx("h3",{className:"text-xl font-bold text-white",children:"Transform Your Track"}),g.jsx("p",{className:"text-gray-400 max-w-2xl mx-auto",children:"Upload your original track and select a target genre. Our AI will analyze the harmonic progression, melodies, and rhythmic elements, then generate a comprehensive remix guide with genre-appropriate MIDI patterns for basslines, drums, melodies, and textures."})]})})]})},Tx=({attack:e,decay:t,sustain:n,release:i,width:s=400,height:o=150})=>{const u=Math.max(0,Math.min(1,e)),c=Math.max(0,Math.min(1,t)),m=Math.max(0,Math.min(1,n)),f=Math.max(0,Math.min(1,i)),h=u+c+.3+f,y=u/h*s*.8,v=c/h*s*.8,S=.3/h*s*.8,_=f/h*s*.8,I=o*.9,O=o*.1,D=O+(1-m)*(I-O),H=s*.1;let R=H;const V=[`M ${R} ${I}`],K=R+y*.5,q=I-(I-O)*.1;V.push(`C ${K} ${q}, ${R+y*.8} ${O+10}, ${R+y} ${O}`),R+=y;const ue=R+v*.3,me=O+(D-O)*.2;V.push(`C ${ue} ${me}, ${R+v*.7} ${D-5}, ${R+v} ${D}`),R+=v,V.push(`L ${R+S} ${D}`),R+=S;const Ae=R+_*.7,Y=D+(I-D)*.8;V.push(`C ${R+_*.3} ${D+5}, ${Ae} ${Y}, ${R+_} ${I}`);const ye=V.join(" ");return g.jsxs("svg",{width:s,height:o,className:"w-full h-auto",children:[g.jsx("rect",{width:"100%",height:"100%",fill:"#1f2937",rx:"4",ry:"4"}),g.jsx("line",{x1:"0",y1:I,x2:s,y2:I,stroke:"#4b5563",strokeWidth:"1",strokeDasharray:"4,4"}),g.jsx("line",{x1:"0",y1:O,x2:s,y2:O,stroke:"#4b5563",strokeWidth:"1",strokeDasharray:"4,4"}),g.jsx("line",{x1:"0",y1:D,x2:s,y2:D,stroke:"#4b5563",strokeWidth:"1",strokeDasharray:"4,4"}),g.jsx("path",{d:ye,fill:"none",stroke:"#f97316",strokeWidth:"3",strokeLinecap:"round",strokeLinejoin:"round"}),g.jsx("line",{x1:H+y,y1:O-5,x2:H+y,y2:I+5,stroke:"#6b7280",strokeWidth:"1",strokeDasharray:"4,4"}),g.jsx("line",{x1:H+y+v,y1:O-5,x2:H+y+v,y2:I+5,stroke:"#6b7280",strokeWidth:"1",strokeDasharray:"4,4"}),g.jsx("line",{x1:H+y+v+S,y1:O-5,x2:H+y+v+S,y2:I+5,stroke:"#6b7280",strokeWidth:"1",strokeDasharray:"4,4"}),g.jsx("text",{x:H+y/2,y:o-5,textAnchor:"middle",fill:"#d1d5db",fontSize:"10",children:"A"}),g.jsx("text",{x:H+y+v/2,y:o-5,textAnchor:"middle",fill:"#d1d5db",fontSize:"10",children:"D"}),g.jsx("text",{x:H+y+v+S/2,y:o-5,textAnchor:"middle",fill:"#d1d5db",fontSize:"10",children:"S"}),g.jsx("text",{x:H+y+v+S+_/2,y:o-5,textAnchor:"middle",fill:"#d1d5db",fontSize:"10",children:"R"}),g.jsx("text",{x:"5",y:O+15,fill:"#d1d5db",fontSize:"10",children:"1.0"}),g.jsx("text",{x:"5",y:D+15,fill:"#d1d5db",fontSize:"10",children:m.toFixed(1)}),g.jsx("text",{x:"5",y:I-5,fill:"#d1d5db",fontSize:"10",children:"0.0"}),g.jsxs("text",{x:s-5,y:15,textAnchor:"end",fill:"#d1d5db",fontSize:"10",children:["A: ",u.toFixed(2)," D: ",c.toFixed(2)," S: ",m.toFixed(2)," R: ",f.toFixed(2)]})]})},P8={name:"Xfer Serum",oscillators:[{id:"1",name:"Osc 1",type:"Analog",params:["Waveform","Octave","Coarse","Fine","Level"]},{id:"2",name:"Osc 2",type:"Analog",params:["Waveform","Octave","Coarse","Fine","Level"]},{id:"3",name:"Sub Osc",type:"Analog",params:["Octave","Level"]}],filters:[{name:"Filter",types:["Lowpass","Highpass","Bandpass","Comb","Notch","Peak","Formant","Phaser"],defaultType:"Lowpass",parameters:["Cutoff","Resonance","Drive","Pan","Mix"]}],modSources:[{name:"Env 1",type:"Envelope"},{name:"Env 2",type:"Envelope"},{name:"Env 3",type:"Envelope"},{name:"LFO 1",type:"LFO"},{name:"LFO 2",type:"LFO"},{name:"LFO 3",type:"LFO"},{name:"LFO 4",type:"LFO"},{name:"Macro 1",type:"Macro"},{name:"Macro 2",type:"Macro"},{name:"Macro 3",type:"Macro"},{name:"Macro 4",type:"Macro"},{name:"Velocity",type:"MIDI"},{name:"Mod Wheel",type:"MIDI"},{name:"Aftertouch",type:"MIDI"},{name:"Pitch Bend",type:"MIDI"},{name:"Chaos 1",type:"Random"},{name:"Chaos 2",type:"Random"},{name:"Noise OSC",type:"Audio"},{name:"Fixed",type:"Constant"}],modDestinations:[{section:"Oscillator",params:["Wavetable Position","Warp Depth","Coarse","Fine","Level","Pan"]},{section:"Filter",params:["Cutoff","Resonance","Drive","Pan","Mix"]},{section:"Envelope",params:["Attack","Decay","Sustain","Release"]},{section:"LFO",params:["Rate","Shape","Delay"]},{section:"FX",params:["Mix","Depth","Feedback","Time","Tone"]},{section:"Global",params:["Master Tune","Master Level"]}],effects:[{name:"Hyper/Dimension",modulatable:!0,parameters:[{name:"Size",unit:"%",range:[0,100],type:"float"},{name:"Detune",unit:"%",range:[0,100],type:"float"},{name:"Mix",unit:"%",range:[0,100],type:"float"}]},{name:"Distortion",modulatable:!0,parameters:[{name:"Drive",unit:"%",range:[0,100],type:"float"},{name:"Tone",unit:"Hz",range:[500,2e4],type:"float"},{name:"Mix",unit:"%",range:[0,100],type:"float"},{name:"Level",unit:"dB",range:[-12,12],type:"float"},{name:"Type",type:"enum",options:["SoftClip","HardClip","Tube","Fuzz"]}]},{name:"Compressor",modulatable:!0,parameters:[{name:"Threshold",unit:"dB",range:[-60,0],type:"float"},{name:"Ratio",unit:":",range:[1,20],type:"float"},{name:"Attack",unit:"ms",range:[.1,100],type:"float"},{name:"Release",unit:"ms",range:[10,2e3],type:"float"},{name:"Knee",unit:"dB",range:[0,12],type:"float"},{name:"MakeupGain",unit:"dB",range:[0,20],type:"float"},{name:"Mix",unit:"%",range:[0,100],type:"float"}]},{name:"Chorus",modulatable:!0,parameters:[{name:"Rate",unit:"Hz",range:[.1,10],type:"float"},{name:"Depth",unit:"%",range:[0,100],type:"float"},{name:"Delay",unit:"ms",range:[1,30],type:"float"},{name:"Feedback",unit:"%",range:[0,95],type:"float"},{name:"Mix",unit:"%",range:[0,100],type:"float"}]},{name:"Phaser",modulatable:!0,parameters:[{name:"Rate",unit:"Hz",range:[.1,5],type:"float"},{name:"Depth",unit:"%",range:[0,100],type:"float"},{name:"Feedback",unit:"%",range:[0,95],type:"float"},{name:"Stages",unit:"",range:[2,12],type:"int"},{name:"Center",unit:"Hz",range:[100,2e3],type:"float"},{name:"Mix",unit:"%",range:[0,100],type:"float"}]},{name:"Flanger",modulatable:!0,parameters:[{name:"Rate",unit:"Hz",range:[.1,5],type:"float"},{name:"Depth",unit:"%",range:[0,100],type:"float"},{name:"Manual",unit:"ms",range:[0,10],type:"float"},{name:"Feedback",unit:"%",range:[0,99],type:"float"},{name:"Phase",unit:"",range:[0,180],type:"float"},{name:"Mix",unit:"%",range:[0,100],type:"float"},{name:"LFOShape",type:"enum",options:["Sine","Triangle","Saw"]}]},{name:"EQ",modulatable:!0,parameters:[{name:"LowFreq",unit:"Hz",range:[20,500],type:"float"},{name:"LowGain",unit:"dB",range:[-12,12],type:"float"},{name:"MidFreq",unit:"Hz",range:[200,5e3],type:"float"},{name:"MidGain",unit:"dB",range:[-12,12],type:"float"},{name:"MidQ",unit:"",range:[.5,10],type:"float"},{name:"HighFreq",unit:"Hz",range:[1e3,2e4],type:"float"},{name:"HighGain",unit:"dB",range:[-12,12],type:"float"},{name:"Type",type:"enum",options:["LowShelf","Peaking","HighShelf"]}]},{name:"Reverb",modulatable:!0,parameters:[{name:"Decay",unit:"s",range:[.1,10],type:"float"},{name:"PreDelay",unit:"ms",range:[0,200],type:"float"},{name:"Damping",unit:"%",range:[0,100],type:"float"},{name:"Size",unit:"%",range:[0,100],type:"float"},{name:"HighCut",unit:"Hz",range:[500,2e4],type:"float"},{name:"LowCut",unit:"Hz",range:[20,1e3],type:"float"},{name:"Mix",unit:"%",range:[0,100],type:"float"},{name:"Type",type:"enum",options:["Room","Hall","Plate","Spring"]}]},{name:"Delay",modulatable:!0,parameters:[{name:"Time",unit:"ms",range:[1,5e3],type:"float"},{name:"Feedback",unit:"%",range:[0,100],type:"float"},{name:"Mix",unit:"%",range:[0,100],type:"float"},{name:"Sync",type:"boolean"},{name:"PingPong",type:"boolean"},{name:"Tone",unit:"Hz",range:[20,2e4],type:"float"}]},{name:"Filter (FX)",modulatable:!0,parameters:["Cutoff","Resonance","Drive","Mix"]}]},B8={name:"Vital",oscillators:[{id:"1",name:"Osc 1",type:"Analog",params:["Waveform","Octave","Coarse","Fine","Level"]},{id:"2",name:"Osc 2",type:"Analog",params:["Waveform","Octave","Coarse","Fine","Level"]},{id:"3",name:"Sub Osc",type:"Analog",params:["Octave","Level"]}],filters:[{name:"Filter",types:["Ladder","Analog","Digital","Formant","Comb","Phaser"],defaultType:"Ladder",parameters:["Cutoff","Resonance","Drive","Blend","Keytrack"]}],modSources:[{name:"Env 1",type:"Envelope"},{name:"Env 2",type:"Envelope"},{name:"Env 3",type:"Envelope"},{name:"LFO 1",type:"LFO"},{name:"LFO 2",type:"LFO"},{name:"LFO 3",type:"LFO"},{name:"LFO 4",type:"LFO"},{name:"Random 1",type:"Random"},{name:"Random 2",type:"Random"},{name:"Random 3",type:"Random"},{name:"Random 4",type:"Random"},{name:"Macro 1",type:"Macro"},{name:"Macro 2",type:"Macro"},{name:"Macro 3",type:"Macro"},{name:"Macro 4",type:"Macro"},{name:"Velocity",type:"MIDI"},{name:"Mod Wheel",type:"MIDI"},{name:"Aftertouch",type:"MIDI"},{name:"Pitch Bend",type:"MIDI"},{name:"MPE Slide",type:"MPE"}],modDestinations:[{section:"Oscillator",params:["Wavetable Position","Spectral Warp","Level","Pan","Phase","Detune","Unison"]},{section:"Filter",params:["Cutoff","Resonance","Drive","Blend"]},{section:"Envelope",params:["Attack","Decay","Sustain","Release"]},{section:"LFO",params:["Rate","Shape","Phase"]},{section:"FX",params:["Mix","Feedback","Time","Tone"]},{section:"Global",params:["Master Tune","Master Level"]}],effects:[{name:"Chorus",modulatable:!0,parameters:[{name:"Rate",unit:"Hz",range:[.1,10],type:"float"},{name:"Depth",unit:"%",range:[0,100],type:"float"},{name:"Delay",unit:"ms",range:[1,30],type:"float"},{name:"Feedback",unit:"%",range:[0,95],type:"float"},{name:"Mix",unit:"%",range:[0,100],type:"float"}]},{name:"Phaser",modulatable:!0,parameters:[{name:"Rate",unit:"Hz",range:[.1,5],type:"float"},{name:"Depth",unit:"%",range:[0,100],type:"float"},{name:"Feedback",unit:"%",range:[0,95],type:"float"},{name:"Stages",unit:"",range:[2,12],type:"int"},{name:"Center",unit:"Hz",range:[100,2e3],type:"float"},{name:"Mix",unit:"%",range:[0,100],type:"float"}]},{name:"Distortion",modulatable:!0,parameters:[{name:"Drive",unit:"%",range:[0,100],type:"float"},{name:"Tone",unit:"Hz",range:[500,2e4],type:"float"},{name:"Mix",unit:"%",range:[0,100],type:"float"},{name:"Level",unit:"dB",range:[-12,12],type:"float"},{name:"Type",type:"enum",options:["SoftClip","HardClip","Tube","Fuzz"]}]},{name:"Compressor",modulatable:!0,parameters:[{name:"Threshold",unit:"dB",range:[-60,0],type:"float"},{name:"Ratio",unit:":",range:[1,20],type:"float"},{name:"Attack",unit:"ms",range:[.1,100],type:"float"},{name:"Release",unit:"ms",range:[10,2e3],type:"float"},{name:"Knee",unit:"dB",range:[0,12],type:"float"},{name:"MakeupGain",unit:"dB",range:[0,20],type:"float"},{name:"Mix",unit:"%",range:[0,100],type:"float"}]},{name:"EQ",modulatable:!0,parameters:[{name:"LowFreq",unit:"Hz",range:[20,500],type:"float"},{name:"LowGain",unit:"dB",range:[-12,12],type:"float"},{name:"MidFreq",unit:"Hz",range:[200,5e3],type:"float"},{name:"MidGain",unit:"dB",range:[-12,12],type:"float"},{name:"MidQ",unit:"",range:[.5,10],type:"float"},{name:"HighFreq",unit:"Hz",range:[1e3,2e4],type:"float"},{name:"HighGain",unit:"dB",range:[-12,12],type:"float"},{name:"Type",type:"enum",options:["LowShelf","Peaking","HighShelf"]}]},{name:"Reverb",modulatable:!0,parameters:[{name:"Decay",unit:"s",range:[.1,10],type:"float"},{name:"PreDelay",unit:"ms",range:[0,200],type:"float"},{name:"Damping",unit:"%",range:[0,100],type:"float"},{name:"Size",unit:"%",range:[0,100],type:"float"},{name:"HighCut",unit:"Hz",range:[500,2e4],type:"float"},{name:"LowCut",unit:"Hz",range:[20,1e3],type:"float"},{name:"Mix",unit:"%",range:[0,100],type:"float"},{name:"Type",type:"enum",options:["Room","Hall","Plate","Spring"]}]},{name:"Delay",modulatable:!0,parameters:[{name:"Time",unit:"ms",range:[1,5e3],type:"float"},{name:"Feedback",unit:"%",range:[0,100],type:"float"},{name:"Mix",unit:"%",range:[0,100],type:"float"},{name:"Sync",type:"boolean"},{name:"PingPong",type:"boolean"},{name:"Tone",unit:"Hz",range:[20,2e4],type:"float"}]},{name:"Filter (FX)",modulatable:!0,parameters:["Cutoff","Resonance","Drive","Mix"]}]},F8={name:"Pigments",oscillators:[{id:"1",name:"Osc 1",type:"Analog",params:["Waveform","Octave","Coarse","Fine","Level"]},{id:"2",name:"Osc 2",type:"Analog",params:["Waveform","Octave","Coarse","Fine","Level"]},{id:"3",name:"Sub Osc",type:"Analog",params:["Octave","Level"]}],filters:[{name:"Filter",types:["Ladder","SEM","Jupiter","Formant","Comb","Phaser","Notch"],defaultType:"Ladder",parameters:["Cutoff","Resonance","Drive","Blend","Mode","Keytrack"]}],modSources:[{name:"Env 1 (Amp)",type:"Envelope"},{name:"Env 2",type:"Envelope"},{name:"Env 3",type:"Envelope"},{name:"Env 4",type:"Envelope"},{name:"LFO 1",type:"LFO"},{name:"LFO 2",type:"LFO"},{name:"LFO 3",type:"LFO"},{name:"Function 1",type:"Function"},{name:"Function 2",type:"Function"},{name:"Function 3",type:"Function"},{name:"Macro 1",type:"Macro"},{name:"Macro 2",type:"Macro"},{name:"Macro 3",type:"Macro"},{name:"Macro 4",type:"Macro"},{name:"Random",type:"Random"},{name:"Velocity",type:"MIDI"},{name:"Aftertouch",type:"MIDI"},{name:"Mod Wheel",type:"MIDI"},{name:"Pitch Bend",type:"MIDI"},{name:"Keytrack",type:"MIDI"}],modDestinations:[{section:"Oscillator",params:["Wavetable Position","Analog Shape","Sample Start","Level","Pan","FM Amount"]},{section:"Filter",params:["Cutoff","Resonance","Drive","Blend"]},{section:"Envelope",params:["Attack","Decay","Sustain","Release"]},{section:"LFO",params:["Rate","Shape","Fade In"]},{section:"FX",params:["Mix","Feedback","Time","Tone"]},{section:"Global",params:["Master Tune","Master Level"]}],effects:[{name:"Chorus",modulatable:!0,parameters:[{name:"Rate",unit:"Hz",range:[.1,10],type:"float"},{name:"Depth",unit:"%",range:[0,100],type:"float"},{name:"Delay",unit:"ms",range:[1,30],type:"float"},{name:"Feedback",unit:"%",range:[0,95],type:"float"},{name:"Mix",unit:"%",range:[0,100],type:"float"}]},{name:"Phaser",modulatable:!0,parameters:[{name:"Rate",unit:"Hz",range:[.1,5],type:"float"},{name:"Depth",unit:"%",range:[0,100],type:"float"},{name:"Feedback",unit:"%",range:[0,95],type:"float"},{name:"Stages",unit:"",range:[2,12],type:"int"},{name:"Center",unit:"Hz",range:[100,2e3],type:"float"},{name:"Mix",unit:"%",range:[0,100],type:"float"}]},{name:"Distortion",modulatable:!0,parameters:[{name:"Drive",unit:"%",range:[0,100],type:"float"},{name:"Tone",unit:"Hz",range:[500,2e4],type:"float"},{name:"Mix",unit:"%",range:[0,100],type:"float"},{name:"Level",unit:"dB",range:[-12,12],type:"float"},{name:"Type",type:"enum",options:["SoftClip","HardClip","Tube","Fuzz"]}]},{name:"Compressor",modulatable:!0,parameters:[{name:"Threshold",unit:"dB",range:[-60,0],type:"float"},{name:"Ratio",unit:":",range:[1,20],type:"float"},{name:"Attack",unit:"ms",range:[.1,100],type:"float"},{name:"Release",unit:"ms",range:[10,2e3],type:"float"},{name:"Knee",unit:"dB",range:[0,12],type:"float"},{name:"MakeupGain",unit:"dB",range:[0,20],type:"float"},{name:"Mix",unit:"%",range:[0,100],type:"float"}]},{name:"EQ",modulatable:!0,parameters:[{name:"LowFreq",unit:"Hz",range:[20,500],type:"float"},{name:"LowGain",unit:"dB",range:[-12,12],type:"float"},{name:"MidFreq",unit:"Hz",range:[200,5e3],type:"float"},{name:"MidGain",unit:"dB",range:[-12,12],type:"float"},{name:"MidQ",unit:"",range:[.5,10],type:"float"},{name:"HighFreq",unit:"Hz",range:[1e3,2e4],type:"float"},{name:"HighGain",unit:"dB",range:[-12,12],type:"float"},{name:"Type",type:"enum",options:["LowShelf","Peaking","HighShelf"]}]},{name:"Reverb",modulatable:!0,parameters:[{name:"Decay",unit:"s",range:[.1,10],type:"float"},{name:"PreDelay",unit:"ms",range:[0,200],type:"float"},{name:"Damping",unit:"%",range:[0,100],type:"float"},{name:"Size",unit:"%",range:[0,100],type:"float"},{name:"HighCut",unit:"Hz",range:[500,2e4],type:"float"},{name:"LowCut",unit:"Hz",range:[20,1e3],type:"float"},{name:"Mix",unit:"%",range:[0,100],type:"float"},{name:"Type",type:"enum",options:["Room","Hall","Plate","Spring"]}]},{name:"Delay",modulatable:!0,parameters:[{name:"Time",unit:"ms",range:[1,5e3],type:"float"},{name:"Feedback",unit:"%",range:[0,100],type:"float"},{name:"Mix",unit:"%",range:[0,100],type:"float"},{name:"Sync",type:"boolean"},{name:"PingPong",type:"boolean"},{name:"Tone",unit:"Hz",range:[20,2e4],type:"float"}]},{name:"Filter (FX)",modulatable:!0,parameters:["Cutoff","Resonance","Drive","Mix"]}]},H8={name:"Diva",oscillators:[{id:"1",name:"Osc 1",type:"Analog",params:["Waveform","Octave","Coarse","Fine","Level"]},{id:"2",name:"Osc 2",type:"Analog",params:["Waveform","Octave","Coarse","Fine","Level"]},{id:"3",name:"Sub Osc",type:"Analog",params:["Octave","Level"]}],filters:[{name:"Filter",types:["Moog Ladder","Roland","Korg MS20","HP","BP"],defaultType:"Moog Ladder",parameters:["Cutoff","Resonance","Drive","Keytrack"]}],modSources:[{name:"Env 1 (Amp)",type:"Envelope"},{name:"Env 2 (Filter)",type:"Envelope"},{name:"LFO 1",type:"LFO"},{name:"LFO 2",type:"LFO"},{name:"Velocity",type:"MIDI"},{name:"Mod Wheel",type:"MIDI"},{name:"Aftertouch",type:"MIDI"},{name:"Keytrack",type:"MIDI"}],modDestinations:[{section:"Oscillator",params:["Pitch","Pulse Width"]},{section:"Filter",params:["Cutoff","Resonance","Drive"]},{section:"Amp",params:["Level"]}],effects:[]},U8={name:"Roland Juno-106",oscillators:[{id:"1",name:"Osc 1",type:"Analog",params:["Waveform","Octave","Coarse","Fine","Level"]},{id:"2",name:"Osc 2",type:"Analog",params:["Waveform","Octave","Coarse","Fine","Level"]},{id:"3",name:"Sub Osc",type:"Analog",params:["Octave","Level"]}],filters:[{name:"Filter",types:["Lowpass","Highpass"],defaultType:"Lowpass",parameters:["Cutoff","Resonance","ENV Amount","LFO Amount","Keytrack"]}],modSources:[{name:"ADSR Envelope",type:"Envelope"},{name:"LFO",type:"LFO"},{name:"Mod Lever",type:"Performance"},{name:"Keytrack",type:"MIDI"}],modDestinations:[{section:"Oscillator",params:["Pitch","Pulse Width"]},{section:"Filter",params:["Cutoff","Resonance"]},{section:"Amp",params:["Level"]}],effects:[{name:"Chorus",parameters:["On/Off","Mode"]}]},V8={name:"Arturia Analog Lab",oscillators:[{id:"1",name:"Osc 1",type:"Analog",params:["Waveform","Octave","Coarse","Fine","Level"]},{id:"2",name:"Osc 2",type:"Analog",params:["Waveform","Octave","Coarse","Fine","Level"]},{id:"3",name:"Sub Osc",type:"Analog",params:["Octave","Level"]}],filters:[{name:"Filter",types:["Lowpass","Highpass","Bandpass"],defaultType:"Lowpass",parameters:["Cutoff","Resonance"]}],modSources:[{name:"Macro 1 (Brightness)",type:"Macro"},{name:"Macro 2 (Timbre)",type:"Macro"},{name:"Macro 3 (Time)",type:"Macro"},{name:"Macro 4 (Movement)",type:"Macro"},{name:"Velocity",type:"MIDI"},{name:"Aftertouch",type:"MIDI"}],modDestinations:[{section:"Macros",params:["Brightness","Timbre","Time","Movement"]},{section:"Filter",params:["Cutoff","Resonance"]}],effects:[{name:"Macros (Brightness, Timbre, Time, Movement)"},{name:"Preset-dependent FX (varies by underlying synth)"}]},z8={name:"Generic Synth",oscillators:[{id:"1",name:"Osc 1",type:"Analog",params:["Waveform","Octave","Level"]}],filters:[{name:"Filter",types:["Lowpass","Highpass"],defaultType:"Lowpass",parameters:["Cutoff","Resonance"]}],modSources:[{name:"Env 1",type:"Envelope"},{name:"LFO 1",type:"LFO"}],modDestinations:[{section:"Oscillator",params:["Pitch","Level"]},{section:"Filter",params:["Cutoff","Resonance"]},{section:"Amp",params:["Level"]}],effects:[{name:"Chorus",modulatable:!0,parameters:[{name:"Rate",unit:"Hz",range:[.1,10],type:"float"},{name:"Depth",unit:"%",range:[0,100],type:"float"},{name:"Delay",unit:"ms",range:[1,30],type:"float"},{name:"Feedback",unit:"%",range:[0,95],type:"float"},{name:"Mix",unit:"%",range:[0,100],type:"float"}]},{name:"Delay",modulatable:!0,parameters:[{name:"Time",unit:"ms",range:[1,5e3],type:"float"},{name:"Feedback",unit:"%",range:[0,100],type:"float"},{name:"Mix",unit:"%",range:[0,100],type:"float"},{name:"Sync",type:"boolean"},{name:"PingPong",type:"boolean"},{name:"Tone",unit:"Hz",range:[20,2e4],type:"float"}]},{name:"Reverb",modulatable:!0,parameters:[{name:"Decay",unit:"s",range:[.1,10],type:"float"},{name:"PreDelay",unit:"ms",range:[0,200],type:"float"},{name:"Damping",unit:"%",range:[0,100],type:"float"},{name:"Size",unit:"%",range:[0,100],type:"float"},{name:"HighCut",unit:"Hz",range:[500,2e4],type:"float"},{name:"LowCut",unit:"Hz",range:[20,1e3],type:"float"},{name:"Mix",unit:"%",range:[0,100],type:"float"},{name:"Type",type:"enum",options:["Room","Hall","Plate","Spring"]}]},{name:"Filter (FX)",modulatable:!0,parameters:["Cutoff","Resonance","Drive","Mix"]}]},j8={name:"Apple Alchemy",oscillators:[{id:"1",name:"Osc 1",type:"Analog",params:["Waveform","Octave","Coarse","Fine","Level"]},{id:"2",name:"Osc 2",type:"Analog",params:["Waveform","Octave","Coarse","Fine","Level"]},{id:"3",name:"Sub Osc",type:"Analog",params:["Octave","Level"]}],filters:[{name:"Filter",types:["Lowpass","Highpass","Bandpass","Notch","Comb","Formant"],defaultType:"Lowpass",parameters:["Cutoff","Resonance","Drive","Keytrack","Mix"]}],modSources:[{name:"Env 1",type:"Envelope"},{name:"Env 2",type:"Envelope"},{name:"Env 3",type:"Envelope"},{name:"Env 4",type:"Envelope"},{name:"LFO 1",type:"LFO"},{name:"LFO 2",type:"LFO"},{name:"LFO 3",type:"LFO"},{name:"LFO 4",type:"LFO"},{name:"Keytrack",type:"MIDI"},{name:"Velocity",type:"MIDI"},{name:"Mod Wheel",type:"MIDI"},{name:"Aftertouch",type:"MIDI"},{name:"Pitch Bend",type:"MIDI"}],modDestinations:[{section:"Oscillator",params:["Pitch","Level","Pan","Wave Shape"]},{section:"Filter",params:["Cutoff","Resonance","Drive","Mix"]},{section:"Amp",params:["Level"]}],effects:[{name:"Compressor",modulatable:!0,parameters:[{name:"Threshold",unit:"dB",range:[-60,0],type:"float"},{name:"Ratio",unit:":",range:[1,20],type:"float"},{name:"Attack",unit:"ms",range:[.1,100],type:"float"},{name:"Release",unit:"ms",range:[10,2e3],type:"float"},{name:"Knee",unit:"dB",range:[0,12],type:"float"},{name:"MakeupGain",unit:"dB",range:[0,20],type:"float"},{name:"Mix",unit:"%",range:[0,100],type:"float"}]},{name:"Distortion",modulatable:!0,parameters:[{name:"Drive",unit:"%",range:[0,100],type:"float"},{name:"Tone",unit:"Hz",range:[500,2e4],type:"float"},{name:"Mix",unit:"%",range:[0,100],type:"float"},{name:"Level",unit:"dB",range:[-12,12],type:"float"},{name:"Type",type:"enum",options:["SoftClip","HardClip","Tube","Fuzz"]}]},{name:"Chorus",modulatable:!0,parameters:[{name:"Rate",unit:"Hz",range:[.1,10],type:"float"},{name:"Depth",unit:"%",range:[0,100],type:"float"},{name:"Delay",unit:"ms",range:[1,30],type:"float"},{name:"Feedback",unit:"%",range:[0,95],type:"float"},{name:"Mix",unit:"%",range:[0,100],type:"float"}]},{name:"Phaser",modulatable:!0,parameters:[{name:"Rate",unit:"Hz",range:[.1,5],type:"float"},{name:"Depth",unit:"%",range:[0,100],type:"float"},{name:"Feedback",unit:"%",range:[0,95],type:"float"},{name:"Stages",unit:"",range:[2,12],type:"int"},{name:"Center",unit:"Hz",range:[100,2e3],type:"float"},{name:"Mix",unit:"%",range:[0,100],type:"float"}]},{name:"Flanger",modulatable:!0,parameters:[{name:"Rate",unit:"Hz",range:[.1,5],type:"float"},{name:"Depth",unit:"%",range:[0,100],type:"float"},{name:"Manual",unit:"ms",range:[0,10],type:"float"},{name:"Feedback",unit:"%",range:[0,99],type:"float"},{name:"Phase",unit:"",range:[0,180],type:"float"},{name:"Mix",unit:"%",range:[0,100],type:"float"},{name:"LFOShape",type:"enum",options:["Sine","Triangle","Saw"]}]},{name:"EQ",modulatable:!0,parameters:[{name:"LowFreq",unit:"Hz",range:[20,500],type:"float"},{name:"LowGain",unit:"dB",range:[-12,12],type:"float"},{name:"MidFreq",unit:"Hz",range:[200,5e3],type:"float"},{name:"MidGain",unit:"dB",range:[-12,12],type:"float"},{name:"MidQ",unit:"",range:[.5,10],type:"float"},{name:"HighFreq",unit:"Hz",range:[1e3,2e4],type:"float"},{name:"HighGain",unit:"dB",range:[-12,12],type:"float"},{name:"Type",type:"enum",options:["LowShelf","Peaking","HighShelf"]}]},{name:"Reverb",modulatable:!0,parameters:[{name:"Decay",unit:"s",range:[.1,10],type:"float"},{name:"PreDelay",unit:"ms",range:[0,200],type:"float"},{name:"Damping",unit:"%",range:[0,100],type:"float"},{name:"Size",unit:"%",range:[0,100],type:"float"},{name:"HighCut",unit:"Hz",range:[500,2e4],type:"float"},{name:"LowCut",unit:"Hz",range:[20,1e3],type:"float"},{name:"Mix",unit:"%",range:[0,100],type:"float"},{name:"Type",type:"enum",options:["Room","Hall","Plate","Spring"]}]},{name:"Delay",modulatable:!0,parameters:[{name:"Time",unit:"ms",range:[1,5e3],type:"float"},{name:"Feedback",unit:"%",range:[0,100],type:"float"},{name:"Mix",unit:"%",range:[0,100],type:"float"},{name:"Sync",type:"boolean"},{name:"PingPong",type:"boolean"},{name:"Tone",unit:"Hz",range:[20,2e4],type:"float"}]},{name:"Filter (FX)",modulatable:!0,parameters:["Cutoff","Resonance","Drive","Mix"]}]},G8={name:"Ableton Operator",oscillators:[{id:"A",name:"Osc A",type:"FM",params:["Coarse","Fine","Level","Waveform"]},{id:"B",name:"Osc B",type:"FM",params:["Coarse","Fine","Level","Waveform"]},{id:"C",name:"Osc C",type:"FM",params:["Coarse","Fine","Level","Waveform"]},{id:"D",name:"Osc D",type:"FM",params:["Coarse","Fine","Level","Waveform"]}],filters:[{name:"Filter",types:["Lowpass","Highpass","Bandpass","Notch"],defaultType:"Lowpass",parameters:["Cutoff","Resonance","Drive","Mix"]}],modSources:[{name:"Env 1",type:"Envelope"},{name:"Env 2",type:"Envelope"},{name:"LFO 1",type:"LFO"},{name:"LFO 2",type:"LFO"},{name:"Keytrack",type:"MIDI"},{name:"Velocity",type:"MIDI"},{name:"Mod Wheel",type:"MIDI"},{name:"Aftertouch",type:"MIDI"},{name:"Pitch Bend",type:"MIDI"}],modDestinations:[{section:"Oscillator",params:["Coarse","Fine","Level","Waveform"]},{section:"Filter",params:["Cutoff","Resonance","Drive","Mix"]},{section:"Amp",params:["Level"]}],effects:[{name:"Chorus",modulatable:!0,parameters:[{name:"Rate",unit:"Hz",range:[.1,10],type:"float"},{name:"Depth",unit:"%",range:[0,100],type:"float"},{name:"Delay",unit:"ms",range:[1,30],type:"float"},{name:"Feedback",unit:"%",range:[0,95],type:"float"},{name:"Mix",unit:"%",range:[0,100],type:"float"}]},{name:"Delay",modulatable:!0,parameters:[{name:"Time",unit:"ms",range:[1,5e3],type:"float"},{name:"Feedback",unit:"%",range:[0,100],type:"float"},{name:"Mix",unit:"%",range:[0,100],type:"float"},{name:"Sync",type:"boolean"},{name:"PingPong",type:"boolean"},{name:"Tone",unit:"Hz",range:[20,2e4],type:"float"}]},{name:"Reverb",modulatable:!0,parameters:[{name:"Decay",unit:"s",range:[.1,10],type:"float"},{name:"PreDelay",unit:"ms",range:[0,200],type:"float"},{name:"Damping",unit:"%",range:[0,100],type:"float"},{name:"Size",unit:"%",range:[0,100],type:"float"},{name:"HighCut",unit:"Hz",range:[500,2e4],type:"float"},{name:"LowCut",unit:"Hz",range:[20,1e3],type:"float"},{name:"Mix",unit:"%",range:[0,100],type:"float"},{name:"Type",type:"enum",options:["Room","Hall","Plate","Spring"]}]},{name:"Filter (FX)",modulatable:!0,parameters:["Cutoff","Resonance","Drive","Mix"]}]},q8={name:"Native Instruments FM8",operators:[{id:"A",name:"Operator A",params:["Ratio","Offset","Level","Waveform"]},{id:"B",name:"Operator B",params:["Ratio","Offset","Level","Waveform"]},{id:"C",name:"Operator C",params:["Ratio","Offset","Level","Waveform"]},{id:"D",name:"Operator D",params:["Ratio","Offset","Level","Waveform"]},{id:"E",name:"Operator E",params:["Ratio","Offset","Level","Waveform"]},{id:"F",name:"Operator F",params:["Ratio","Offset","Level","Waveform"]},{id:"X",name:"Noise/Saturation",params:["Level","Color"]}],filters:[{name:"Filter",types:["Lowpass","Highpass","Bandpass","Notch"],defaultType:"Lowpass",parameters:["Cutoff","Resonance","Drive","Mix"]}],modSources:[{name:"Env 1",type:"Envelope"},{name:"Env 2",type:"Envelope"},{name:"Env 3",type:"Envelope"},{name:"Env 4",type:"Envelope"},{name:"LFO 1",type:"LFO"},{name:"LFO 2",type:"LFO"},{name:"LFO 3",type:"LFO"},{name:"LFO 4",type:"LFO"},{name:"Keytrack",type:"MIDI"},{name:"Velocity",type:"MIDI"},{name:"Mod Wheel",type:"MIDI"},{name:"Aftertouch",type:"MIDI"},{name:"Pitch Bend",type:"MIDI"}],modDestinations:[{section:"Operator",params:["Level","Ratio","Offset","Waveform"]},{section:"Filter",params:["Cutoff","Resonance","Drive","Mix"]},{section:"Amp",params:["Level"]}],effects:[{name:"Chorus",modulatable:!0,parameters:[{name:"Rate",unit:"Hz",range:[.1,10],type:"float"},{name:"Depth",unit:"%",range:[0,100],type:"float"},{name:"Delay",unit:"ms",range:[1,30],type:"float"},{name:"Feedback",unit:"%",range:[0,95],type:"float"},{name:"Mix",unit:"%",range:[0,100],type:"float"}]},{name:"Delay",modulatable:!0,parameters:[{name:"Time",unit:"ms",range:[1,5e3],type:"float"},{name:"Feedback",unit:"%",range:[0,100],type:"float"},{name:"Mix",unit:"%",range:[0,100],type:"float"},{name:"Sync",type:"boolean"},{name:"PingPong",type:"boolean"},{name:"Tone",unit:"Hz",range:[20,2e4],type:"float"}]},{name:"Reverb",modulatable:!0,parameters:[{name:"Decay",unit:"s",range:[.1,10],type:"float"},{name:"PreDelay",unit:"ms",range:[0,200],type:"float"},{name:"Damping",unit:"%",range:[0,100],type:"float"},{name:"Size",unit:"%",range:[0,100],type:"float"},{name:"HighCut",unit:"Hz",range:[500,2e4],type:"float"},{name:"LowCut",unit:"Hz",range:[20,1e3],type:"float"},{name:"Mix",unit:"%",range:[0,100],type:"float"},{name:"Type",type:"enum",options:["Room","Hall","Plate","Spring"]}]},{name:"Filter (FX)",modulatable:!0,parameters:["Cutoff","Resonance","Drive","Mix"]}]},Y8={name:"Hive 2",oscillators:[{id:"1",name:"Osc 1",type:"Wavetable",params:["Waveform","Octave","Semitone","Detune","Level"]},{id:"2",name:"Osc 2",type:"Wavetable",params:["Waveform","Octave","Semitone","Detune","Level"]},{id:"Sub",name:"Sub Osc",type:"Analog",params:["Octave","Level"]}],filters:[{name:"Filter 1",types:["Lowpass 12dB","Lowpass 24dB","Highpass 12dB","Highpass 24dB","Bandpass 12dB","Bandpass 24dB","Notch","Peak","Comb+","Comb-","Allpass"],defaultType:"Lowpass 24dB",parameters:["Cutoff","Resonance","Drive","Keytrack","Mix"]},{name:"Filter 2",types:["Lowpass 12dB","Lowpass 24dB","Highpass 12dB","Highpass 24dB","Bandpass 12dB","Bandpass 24dB","Notch","Peak","Comb+","Comb-","Allpass"],defaultType:"Lowpass 24dB",parameters:["Cutoff","Resonance","Drive","Keytrack","Mix"]}],modSources:[{name:"Env 1",type:"Envelope"},{name:"Env 2",type:"Envelope"},{name:"Env 3",type:"Envelope"},{name:"LFO 1",type:"LFO"},{name:"LFO 2",type:"LFO"},{name:"LFO 3",type:"LFO"},{name:"LFO 4",type:"LFO"},{name:"Seq/Arp",type:"Sequencer"},{name:"Keytrack",type:"MIDI"},{name:"Velocity",type:"MIDI"},{name:"Mod Wheel",type:"MIDI"},{name:"Aftertouch",type:"MIDI"},{name:"Pitch Bend",type:"MIDI"}],modDestinations:[{section:"Oscillator",params:["Pitch","Level","Pan","Wave Shape"]},{section:"Filter 1",params:["Cutoff","Resonance","Drive","Mix"]},{section:"Filter 2",params:["Cutoff","Resonance","Drive","Mix"]},{section:"Amp",params:["Level"]}],effects:[{name:"Distortion",modulatable:!0,parameters:[{name:"Drive",unit:"%",range:[0,100],type:"float"},{name:"Tone",unit:"Hz",range:[500,2e4],type:"float"},{name:"Mix",unit:"%",range:[0,100],type:"float"},{name:"Level",unit:"dB",range:[-12,12],type:"float"},{name:"Type",type:"enum",options:["SoftClip","HardClip","Tube","Fuzz"]}]},{name:"Chorus",modulatable:!0,parameters:[{name:"Rate",unit:"Hz",range:[.1,10],type:"float"},{name:"Depth",unit:"%",range:[0,100],type:"float"},{name:"Delay",unit:"ms",range:[1,30],type:"float"},{name:"Feedback",unit:"%",range:[0,95],type:"float"},{name:"Mix",unit:"%",range:[0,100],type:"float"}]},{name:"Phaser",modulatable:!0,parameters:[{name:"Rate",unit:"Hz",range:[.1,5],type:"float"},{name:"Depth",unit:"%",range:[0,100],type:"float"},{name:"Feedback",unit:"%",range:[0,95],type:"float"},{name:"Stages",unit:"",range:[2,12],type:"int"},{name:"Center",unit:"Hz",range:[100,2e3],type:"float"},{name:"Mix",unit:"%",range:[0,100],type:"float"}]},{name:"Flanger",modulatable:!0,parameters:[{name:"Rate",unit:"Hz",range:[.1,5],type:"float"},{name:"Depth",unit:"%",range:[0,100],type:"float"},{name:"Manual",unit:"ms",range:[0,10],type:"float"},{name:"Feedback",unit:"%",range:[0,99],type:"float"},{name:"Phase",unit:"",range:[0,180],type:"float"},{name:"Mix",unit:"%",range:[0,100],type:"float"},{name:"LFOShape",type:"enum",options:["Sine","Triangle","Saw"]}]},{name:"EQ",modulatable:!0,parameters:[{name:"LowFreq",unit:"Hz",range:[20,500],type:"float"},{name:"LowGain",unit:"dB",range:[-12,12],type:"float"},{name:"MidFreq",unit:"Hz",range:[200,5e3],type:"float"},{name:"MidGain",unit:"dB",range:[-12,12],type:"float"},{name:"MidQ",unit:"",range:[.5,10],type:"float"},{name:"HighFreq",unit:"Hz",range:[1e3,2e4],type:"float"},{name:"HighGain",unit:"dB",range:[-12,12],type:"float"},{name:"Type",type:"enum",options:["LowShelf","Peaking","HighShelf"]}]},{name:"Reverb",modulatable:!0,parameters:[{name:"Decay",unit:"s",range:[.1,10],type:"float"},{name:"PreDelay",unit:"ms",range:[0,200],type:"float"},{name:"Damping",unit:"%",range:[0,100],type:"float"},{name:"Size",unit:"%",range:[0,100],type:"float"},{name:"HighCut",unit:"Hz",range:[500,2e4],type:"float"},{name:"LowCut",unit:"Hz",range:[20,1e3],type:"float"},{name:"Mix",unit:"%",range:[0,100],type:"float"},{name:"Type",type:"enum",options:["Room","Hall","Plate","Spring"]}]},{name:"Delay",modulatable:!0,parameters:[{name:"Time",unit:"ms",range:[1,5e3],type:"float"},{name:"Feedback",unit:"%",range:[0,100],type:"float"},{name:"Mix",unit:"%",range:[0,100],type:"float"},{name:"Sync",type:"boolean"},{name:"PingPong",type:"boolean"},{name:"Tone",unit:"Hz",range:[20,2e4],type:"float"}]},{name:"Filter (FX)",modulatable:!0,parameters:["Cutoff","Resonance","Drive","Mix"]}]},K8={name:"Native Instruments Massive X",oscillators:[{id:"1",name:"Osc 1",type:"Wavetable",params:["Wavetable","Pitch","Warp","Level"]},{id:"2",name:"Osc 2",type:"Wavetable",params:["Wavetable","Pitch","Warp","Level"]}],filters:[{name:"Filter",types:["SVF","Ladder","Comb","Scanner","Groian","Blue Monark","Creak","Crusher"],defaultType:"SVF",parameters:["Cutoff","Resonance","Drive","Mix","Type"]}],modSources:[{name:"Env 1",type:"Envelope"},{name:"Env 2",type:"Envelope"},{name:"Env 3",type:"Envelope"},{name:"Env 4",type:"Envelope"},{name:"LFO 1",type:"LFO"},{name:"LFO 2",type:"LFO"},{name:"LFO 3",type:"LFO"},{name:"Performer 1",type:"Performer"},{name:"Performer 2",type:"Performer"},{name:"Random",type:"Random"},{name:"Keytrack",type:"MIDI"},{name:"Velocity",type:"MIDI"},{name:"Mod Wheel",type:"MIDI"},{name:"Aftertouch",type:"MIDI"},{name:"Pitch Bend",type:"MIDI"}],modDestinations:[{section:"Oscillator",params:["Pitch","Warp","Level"]},{section:"Filter",params:["Cutoff","Resonance","Drive","Mix"]},{section:"Amp",params:["Level"]}],effects:[{name:"Insert FX 1",modulatable:!0,parameters:["Type","Mix","Param 1","Param 2"]},{name:"Insert FX 2",modulatable:!0,parameters:["Type","Mix","Param 1","Param 2"]},{name:"Insert FX 3",modulatable:!0,parameters:["Type","Mix","Param 1","Param 2"]},{name:"Stereo FX 1",modulatable:!0,parameters:["Type","Mix","Param 1","Param 2"]},{name:"Stereo FX 2",modulatable:!0,parameters:["Type","Mix","Param 1","Param 2"]},{name:"Stereo FX 3",modulatable:!0,parameters:["Type","Mix","Param 1","Param 2"]},{name:"EQ",modulatable:!0,parameters:[{name:"Low Gain",unit:"dB",range:[-12,12],type:"float"},{name:"Mid Freq",unit:"Hz",range:[200,5e3],type:"float"},{name:"Mid Gain",unit:"dB",range:[-12,12],type:"float"},{name:"High Gain",unit:"dB",range:[-12,12],type:"float"}]},{name:"Compressor",modulatable:!0,parameters:[{name:"Threshold",unit:"dB",range:[-60,0],type:"float"},{name:"Ratio",unit:":",range:[1,20],type:"float"},{name:"Attack",unit:"ms",range:[.1,100],type:"float"},{name:"Release",unit:"ms",range:[10,2e3],type:"float"},{name:"Knee",unit:"dB",range:[0,12],type:"float"},{name:"MakeupGain",unit:"dB",range:[0,20],type:"float"},{name:"Mix",unit:"%",range:[0,100],type:"float"}]}]},$8={name:"Omnisphere",oscillators:[{id:"A",name:"Layer A",type:"Sample/Synth",params:["Sample/Waveform","Pitch","Level","Pan"]},{id:"B",name:"Layer B",type:"Sample/Synth",params:["Sample/Waveform","Pitch","Level","Pan"]},{id:"C",name:"Layer C",type:"Sample/Synth",params:["Sample/Waveform","Pitch","Level","Pan"]},{id:"D",name:"Layer D",type:"Sample/Synth",params:["Sample/Waveform","Pitch","Level","Pan"]}],filters:[{name:"Filter",types:["Lowpass","Highpass","Bandpass","Notch","Resonator","Formant","Power Filter"],defaultType:"Lowpass",parameters:["Cutoff","Resonance","Drive","Keytrack","Mix"]}],modSources:[{name:"Env 1",type:"Envelope"},{name:"Env 2",type:"Envelope"},{name:"Env 3",type:"Envelope"},{name:"Env 4",type:"Envelope"},{name:"LFO 1",type:"LFO"},{name:"LFO 2",type:"LFO"},{name:"LFO 3",type:"LFO"},{name:"LFO 4",type:"LFO"},{name:"Keytrack",type:"MIDI"},{name:"Velocity",type:"MIDI"},{name:"Mod Wheel",type:"MIDI"},{name:"Aftertouch",type:"MIDI"},{name:"Pitch Bend",type:"MIDI"}],modDestinations:[{section:"Oscillator",params:["Pitch","Level","Pan"]},{section:"Filter",params:["Cutoff","Resonance","Drive","Mix"]},{section:"Amp",params:["Level"]}],effects:[{name:"Chorus",modulatable:!0,parameters:[{name:"Rate",unit:"Hz",range:[.1,10],type:"float"},{name:"Depth",unit:"%",range:[0,100],type:"float"},{name:"Delay",unit:"ms",range:[1,30],type:"float"},{name:"Feedback",unit:"%",range:[0,95],type:"float"},{name:"Mix",unit:"%",range:[0,100],type:"float"}]},{name:"Flanger",modulatable:!0,parameters:[{name:"Rate",unit:"Hz",range:[.1,5],type:"float"},{name:"Depth",unit:"%",range:[0,100],type:"float"},{name:"Manual",unit:"ms",range:[0,10],type:"float"},{name:"Feedback",unit:"%",range:[0,99],type:"float"},{name:"Phase",unit:"",range:[0,180],type:"float"},{name:"Mix",unit:"%",range:[0,100],type:"float"},{name:"LFOShape",type:"enum",options:["Sine","Triangle","Saw"]}]},{name:"Phaser",modulatable:!0,parameters:[{name:"Rate",unit:"Hz",range:[.1,5],type:"float"},{name:"Depth",unit:"%",range:[0,100],type:"float"},{name:"Feedback",unit:"%",range:[0,95],type:"float"},{name:"Stages",unit:"",range:[2,12],type:"int"},{name:"Center",unit:"Hz",range:[100,2e3],type:"float"},{name:"Mix",unit:"%",range:[0,100],type:"float"}]},{name:"Distortion",modulatable:!0,parameters:[{name:"Drive",unit:"%",range:[0,100],type:"float"},{name:"Tone",unit:"Hz",range:[500,2e4],type:"float"},{name:"Mix",unit:"%",range:[0,100],type:"float"},{name:"Level",unit:"dB",range:[-12,12],type:"float"},{name:"Type",type:"enum",options:["SoftClip","HardClip","Tube","Fuzz"]}]},{name:"Compressor",modulatable:!0,parameters:[{name:"Threshold",unit:"dB",range:[-60,0],type:"float"},{name:"Ratio",unit:":",range:[1,20],type:"float"},{name:"Attack",unit:"ms",range:[.1,100],type:"float"},{name:"Release",unit:"ms",range:[10,2e3],type:"float"},{name:"Knee",unit:"dB",range:[0,12],type:"float"},{name:"MakeupGain",unit:"dB",range:[0,20],type:"float"},{name:"Mix",unit:"%",range:[0,100],type:"float"}]},{name:"EQ",modulatable:!0,parameters:[{name:"LowFreq",unit:"Hz",range:[20,500],type:"float"},{name:"LowGain",unit:"dB",range:[-12,12],type:"float"},{name:"MidFreq",unit:"Hz",range:[200,5e3],type:"float"},{name:"MidGain",unit:"dB",range:[-12,12],type:"float"},{name:"MidQ",unit:"",range:[.5,10],type:"float"},{name:"HighFreq",unit:"Hz",range:[1e3,2e4],type:"float"},{name:"HighGain",unit:"dB",range:[-12,12],type:"float"},{name:"Type",type:"enum",options:["LowShelf","Peaking","HighShelf"]}]},{name:"Reverb",modulatable:!0,parameters:[{name:"Decay",unit:"s",range:[.1,10],type:"float"},{name:"PreDelay",unit:"ms",range:[0,200],type:"float"},{name:"Damping",unit:"%",range:[0,100],type:"float"},{name:"Size",unit:"%",range:[0,100],type:"float"},{name:"HighCut",unit:"Hz",range:[500,2e4],type:"float"},{name:"LowCut",unit:"Hz",range:[20,1e3],type:"float"},{name:"Mix",unit:"%",range:[0,100],type:"float"},{name:"Type",type:"enum",options:["Room","Hall","Plate","Spring"]}]},{name:"Delay",modulatable:!0,parameters:[{name:"Time",unit:"ms",range:[1,5e3],type:"float"},{name:"Feedback",unit:"%",range:[0,100],type:"float"},{name:"Mix",unit:"%",range:[0,100],type:"float"},{name:"Sync",type:"boolean"},{name:"PingPong",type:"boolean"},{name:"Tone",unit:"Hz",range:[20,2e4],type:"float"}]},{name:"Filter (FX)",modulatable:!0,parameters:["Cutoff","Resonance","Drive","Mix"]}]},X8={name:"Apple Retro Synth",oscillators:[{id:"1",name:"Osc 1",type:"Analog/Digital/FM/Wave",params:["Type","Waveform","Octave","Detune","Level"]},{id:"2",name:"Osc 2",type:"Analog/Digital/FM/Wave",params:["Type","Waveform","Octave","Detune","Level"]}],filters:[{name:"Filter",types:["Lowpass","Highpass","Bandpass","Notch"],defaultType:"Lowpass",parameters:["Cutoff","Resonance","Drive","Keytrack","Mix"]}],modSources:[{name:"Env 1",type:"Envelope"},{name:"Env 2",type:"Envelope"},{name:"LFO 1",type:"LFO"},{name:"LFO 2",type:"LFO"},{name:"Keytrack",type:"MIDI"},{name:"Velocity",type:"MIDI"},{name:"Mod Wheel",type:"MIDI"},{name:"Aftertouch",type:"MIDI"},{name:"Pitch Bend",type:"MIDI"}],modDestinations:[{section:"Oscillator",params:["Pitch","Level","Type","Waveform"]},{section:"Filter",params:["Cutoff","Resonance","Drive","Mix"]},{section:"Amp",params:["Level"]}],effects:[{name:"Chorus",modulatable:!0,parameters:[{name:"Rate",unit:"Hz",range:[.1,10],type:"float"},{name:"Depth",unit:"%",range:[0,100],type:"float"},{name:"Delay",unit:"ms",range:[1,30],type:"float"},{name:"Feedback",unit:"%",range:[0,95],type:"float"},{name:"Mix",unit:"%",range:[0,100],type:"float"}]},{name:"Flanger",modulatable:!0,parameters:[{name:"Rate",unit:"Hz",range:[.1,5],type:"float"},{name:"Depth",unit:"%",range:[0,100],type:"float"},{name:"Manual",unit:"ms",range:[0,10],type:"float"},{name:"Feedback",unit:"%",range:[0,99],type:"float"},{name:"Phase",unit:"",range:[0,180],type:"float"},{name:"Mix",unit:"%",range:[0,100],type:"float"},{name:"LFOShape",type:"enum",options:["Sine","Triangle","Saw"]}]},{name:"Phaser",modulatable:!0,parameters:[{name:"Rate",unit:"Hz",range:[.1,5],type:"float"},{name:"Depth",unit:"%",range:[0,100],type:"float"},{name:"Feedback",unit:"%",range:[0,95],type:"float"},{name:"Stages",unit:"",range:[2,12],type:"int"},{name:"Center",unit:"Hz",range:[100,2e3],type:"float"},{name:"Mix",unit:"%",range:[0,100],type:"float"}]},{name:"Distortion",modulatable:!0,parameters:[{name:"Drive",unit:"%",range:[0,100],type:"float"},{name:"Tone",unit:"Hz",range:[500,2e4],type:"float"},{name:"Mix",unit:"%",range:[0,100],type:"float"},{name:"Level",unit:"dB",range:[-12,12],type:"float"},{name:"Type",type:"enum",options:["SoftClip","HardClip","Tube","Fuzz"]}]},{name:"Compressor",modulatable:!0,parameters:[{name:"Threshold",unit:"dB",range:[-60,0],type:"float"},{name:"Ratio",unit:":",range:[1,20],type:"float"},{name:"Attack",unit:"ms",range:[.1,100],type:"float"},{name:"Release",unit:"ms",range:[10,2e3],type:"float"},{name:"Knee",unit:"dB",range:[0,12],type:"float"},{name:"MakeupGain",unit:"dB",range:[0,20],type:"float"},{name:"Mix",unit:"%",range:[0,100],type:"float"}]},{name:"EQ",modulatable:!0,parameters:[{name:"LowFreq",unit:"Hz",range:[20,500],type:"float"},{name:"LowGain",unit:"dB",range:[-12,12],type:"float"},{name:"MidFreq",unit:"Hz",range:[200,5e3],type:"float"},{name:"MidGain",unit:"dB",range:[-12,12],type:"float"},{name:"MidQ",unit:"",range:[.5,10],type:"float"},{name:"HighFreq",unit:"Hz",range:[1e3,2e4],type:"float"},{name:"HighGain",unit:"dB",range:[-12,12],type:"float"},{name:"Type",type:"enum",options:["LowShelf","Peaking","HighShelf"]}]},{name:"Reverb",modulatable:!0,parameters:[{name:"Decay",unit:"s",range:[.1,10],type:"float"},{name:"PreDelay",unit:"ms",range:[0,200],type:"float"},{name:"Damping",unit:"%",range:[0,100],type:"float"},{name:"Size",unit:"%",range:[0,100],type:"float"},{name:"HighCut",unit:"Hz",range:[500,2e4],type:"float"},{name:"LowCut",unit:"Hz",range:[20,1e3],type:"float"},{name:"Mix",unit:"%",range:[0,100],type:"float"},{name:"Type",type:"enum",options:["Room","Hall","Plate","Spring"]}]},{name:"Delay",modulatable:!0,parameters:[{name:"Time",unit:"ms",range:[1,5e3],type:"float"},{name:"Feedback",unit:"%",range:[0,100],type:"float"},{name:"Mix",unit:"%",range:[0,100],type:"float"},{name:"Sync",type:"boolean"},{name:"PingPong",type:"boolean"},{name:"Tone",unit:"Hz",range:[20,2e4],type:"float"}]},{name:"Filter (FX)",modulatable:!0,parameters:["Cutoff","Resonance","Drive","Mix"]}]},W8={name:"Roland SH-101",oscillators:[{id:"1",name:"Osc 1",type:"Analog",params:["Waveform","Octave","Sub Level","Pulse Width","Level"]}],filters:[{name:"VCF",types:["Lowpass"],defaultType:"Lowpass",parameters:["Cutoff","Resonance","Env Mod","Keytrack"]}],modSources:[{name:"Env",type:"Envelope"},{name:"LFO",type:"LFO"},{name:"Keytrack",type:"MIDI"},{name:"Mod Wheel",type:"MIDI"},{name:"Pitch Bend",type:"MIDI"}],modDestinations:[{section:"Oscillator",params:["Pitch","Pulse Width","Level"]},{section:"VCF",params:["Cutoff","Resonance","Env Mod"]},{section:"Amp",params:["Level"]}],effects:[{name:"Chorus",modulatable:!1,parameters:["Rate","Depth","Mix"]}]},Q8={name:"Sylenth1",oscillators:[{id:"A1",name:"Osc A1",type:"Analog",params:["Waveform","Voices","Detune","Stereo","Phase","Volume"]},{id:"A2",name:"Osc A2",type:"Analog",params:["Waveform","Voices","Detune","Stereo","Phase","Volume"]},{id:"B1",name:"Osc B1",type:"Analog",params:["Waveform","Voices","Detune","Stereo","Phase","Volume"]},{id:"B2",name:"Osc B2",type:"Analog",params:["Waveform","Voices","Detune","Stereo","Phase","Volume"]}],filters:[{name:"Filter A",types:["Lowpass","Highpass","Bandpass"],defaultType:"Lowpass",parameters:["Cutoff","Resonance","Drive","Keytrack"]},{name:"Filter B",types:["Lowpass","Highpass","Bandpass"],defaultType:"Lowpass",parameters:["Cutoff","Resonance","Drive","Keytrack"]}],modSources:[{name:"Env 1",type:"Envelope"},{name:"Env 2",type:"Envelope"},{name:"LFO 1",type:"LFO"},{name:"LFO 2",type:"LFO"},{name:"Mod Wheel",type:"MIDI"},{name:"Pitch Bend",type:"MIDI"},{name:"Velocity",type:"MIDI"},{name:"Keytrack",type:"MIDI"}],modDestinations:[{section:"Oscillator",params:["Pitch","Detune","Volume"]},{section:"Filter A",params:["Cutoff","Resonance","Drive"]},{section:"Filter B",params:["Cutoff","Resonance","Drive"]},{section:"Amp",params:["Level"]}],effects:[{name:"Distortion",modulatable:!0,parameters:[{name:"Drive",unit:"%",range:[0,100],type:"float"},{name:"Tone",unit:"Hz",range:[500,2e4],type:"float"},{name:"Mix",unit:"%",range:[0,100],type:"float"},{name:"Level",unit:"dB",range:[-12,12],type:"float"},{name:"Type",type:"enum",options:["SoftClip","HardClip","Tube","Fuzz"]}]},{name:"Phaser",modulatable:!0,parameters:[{name:"Rate",unit:"Hz",range:[.1,5],type:"float"},{name:"Depth",unit:"%",range:[0,100],type:"float"},{name:"Feedback",unit:"%",range:[0,95],type:"float"},{name:"Stages",unit:"",range:[2,12],type:"int"},{name:"Center",unit:"Hz",range:[100,2e3],type:"float"},{name:"Mix",unit:"%",range:[0,100],type:"float"}]},{name:"Chorus",modulatable:!0,parameters:[{name:"Rate",unit:"Hz",range:[.1,10],type:"float"},{name:"Depth",unit:"%",range:[0,100],type:"float"},{name:"Delay",unit:"ms",range:[1,30],type:"float"},{name:"Feedback",unit:"%",range:[0,95],type:"float"},{name:"Mix",unit:"%",range:[0,100],type:"float"}]},{name:"Reverb",modulatable:!0,parameters:[{name:"Decay",unit:"s",range:[.1,10],type:"float"},{name:"PreDelay",unit:"ms",range:[0,200],type:"float"},{name:"Damping",unit:"%",range:[0,100],type:"float"},{name:"Size",unit:"%",range:[0,100],type:"float"},{name:"HighCut",unit:"Hz",range:[500,2e4],type:"float"},{name:"LowCut",unit:"Hz",range:[20,1e3],type:"float"},{name:"Mix",unit:"%",range:[0,100],type:"float"},{name:"Type",type:"enum",options:["Room","Hall","Plate","Spring"]}]}]},J8={name:"Zebra2",oscillators:[{id:"1",name:"Osc 1",type:"Wavetable",params:["Waveform","Tune","Detune","Phase","Level"]},{id:"2",name:"Osc 2",type:"Wavetable",params:["Waveform","Tune","Detune","Phase","Level"]},{id:"3",name:"Osc 3",type:"Wavetable",params:["Waveform","Tune","Detune","Phase","Level"]},{id:"4",name:"Osc 4",type:"Wavetable",params:["Waveform","Tune","Detune","Phase","Level"]}],filters:[{name:"Filter 1",types:["Lowpass","Highpass","Bandpass","Notch","Comb","Formant"],defaultType:"Lowpass",parameters:["Cutoff","Resonance","Drive","Keytrack","Mix"]},{name:"Filter 2",types:["Lowpass","Highpass","Bandpass","Notch","Comb","Formant"],defaultType:"Lowpass",parameters:["Cutoff","Resonance","Drive","Keytrack","Mix"]}],modSources:[{name:"Env 1",type:"Envelope"},{name:"Env 2",type:"Envelope"},{name:"Env 3",type:"Envelope"},{name:"Env 4",type:"Envelope"},{name:"LFO 1",type:"LFO"},{name:"LFO 2",type:"LFO"},{name:"LFO 3",type:"LFO"},{name:"LFO 4",type:"LFO"},{name:"Keytrack",type:"MIDI"},{name:"Velocity",type:"MIDI"},{name:"Mod Wheel",type:"MIDI"},{name:"Aftertouch",type:"MIDI"},{name:"Pitch Bend",type:"MIDI"}],modDestinations:[{section:"Oscillator",params:["Pitch","Level","Detune","Phase"]},{section:"Filter 1",params:["Cutoff","Resonance","Drive","Mix"]},{section:"Filter 2",params:["Cutoff","Resonance","Drive","Mix"]},{section:"Amp",params:["Level"]}],effects:[{name:"Chorus",modulatable:!0,parameters:[{name:"Rate",unit:"Hz",range:[.1,10],type:"float"},{name:"Depth",unit:"%",range:[0,100],type:"float"},{name:"Delay",unit:"ms",range:[1,30],type:"float"},{name:"Feedback",unit:"%",range:[0,95],type:"float"},{name:"Mix",unit:"%",range:[0,100],type:"float"}]},{name:"Flanger",modulatable:!0,parameters:[{name:"Rate",unit:"Hz",range:[.1,5],type:"float"},{name:"Depth",unit:"%",range:[0,100],type:"float"},{name:"Manual",unit:"ms",range:[0,10],type:"float"},{name:"Feedback",unit:"%",range:[0,99],type:"float"},{name:"Phase",unit:"",range:[0,180],type:"float"},{name:"Mix",unit:"%",range:[0,100],type:"float"},{name:"LFOShape",type:"enum",options:["Sine","Triangle","Saw"]}]},{name:"Phaser",modulatable:!0,parameters:[{name:"Rate",unit:"Hz",range:[.1,5],type:"float"},{name:"Depth",unit:"%",range:[0,100],type:"float"},{name:"Feedback",unit:"%",range:[0,95],type:"float"},{name:"Stages",unit:"",range:[2,12],type:"int"},{name:"Center",unit:"Hz",range:[100,2e3],type:"float"},{name:"Mix",unit:"%",range:[0,100],type:"float"}]},{name:"Distortion",modulatable:!0,parameters:[{name:"Drive",unit:"%",range:[0,100],type:"float"},{name:"Tone",unit:"Hz",range:[500,2e4],type:"float"},{name:"Mix",unit:"%",range:[0,100],type:"float"},{name:"Level",unit:"dB",range:[-12,12],type:"float"},{name:"Type",type:"enum",options:["SoftClip","HardClip","Tube","Fuzz"]}]},{name:"Compressor",modulatable:!0,parameters:[{name:"Threshold",unit:"dB",range:[-60,0],type:"float"},{name:"Ratio",unit:":",range:[1,20],type:"float"},{name:"Attack",unit:"ms",range:[.1,100],type:"float"},{name:"Release",unit:"ms",range:[10,2e3],type:"float"},{name:"Knee",unit:"dB",range:[0,12],type:"float"},{name:"MakeupGain",unit:"dB",range:[0,20],type:"float"},{name:"Mix",unit:"%",range:[0,100],type:"float"}]},{name:"EQ",modulatable:!0,parameters:[{name:"LowFreq",unit:"Hz",range:[20,500],type:"float"},{name:"LowGain",unit:"dB",range:[-12,12],type:"float"},{name:"MidFreq",unit:"Hz",range:[200,5e3],type:"float"},{name:"MidGain",unit:"dB",range:[-12,12],type:"float"},{name:"MidQ",unit:"",range:[.5,10],type:"float"},{name:"HighFreq",unit:"Hz",range:[1e3,2e4],type:"float"},{name:"HighGain",unit:"dB",range:[-12,12],type:"float"},{name:"Type",type:"enum",options:["LowShelf","Peaking","HighShelf"]}]},{name:"Reverb",modulatable:!0,parameters:[{name:"Decay",unit:"s",range:[.1,10],type:"float"},{name:"PreDelay",unit:"ms",range:[0,200],type:"float"},{name:"Damping",unit:"%",range:[0,100],type:"float"},{name:"Size",unit:"%",range:[0,100],type:"float"},{name:"HighCut",unit:"Hz",range:[500,2e4],type:"float"},{name:"LowCut",unit:"Hz",range:[20,1e3],type:"float"},{name:"Mix",unit:"%",range:[0,100],type:"float"},{name:"Type",type:"enum",options:["Room","Hall","Plate","Spring"]}]},{name:"Delay",modulatable:!0,parameters:[{name:"Time",unit:"ms",range:[1,5e3],type:"float"},{name:"Feedback",unit:"%",range:[0,100],type:"float"},{name:"Mix",unit:"%",range:[0,100],type:"float"},{name:"Sync",type:"boolean"},{name:"PingPong",type:"boolean"},{name:"Tone",unit:"Hz",range:[20,2e4],type:"float"}]},{name:"Filter (FX)",modulatable:!0,parameters:["Cutoff","Resonance","Drive","Mix"]}]},Z8=[{name:"Chorus"},{name:"Delay"},{name:"Reverb"},{name:"Flanger"},{name:"Phaser"},{name:"Distortion"},{name:"Bitcrusher"},{name:"Tape Saturation"},{name:"Compressor"},{name:"EQ"},{name:"Filter"},{name:"Wah"},{name:"Tremolo"},{name:"Insert Distortion"},{name:"Insert Bitcrusher"},{name:"Insert Comb Filter"},{name:"Insert Frequency Shifter"},{name:"Insert Ring Mod"},{name:"Insert Sample & Hold"},{name:"Insert EQ"},{name:"Stereo Chorus"},{name:"Stereo Flanger"},{name:"Stereo Phaser"},{name:"Stereo Delay"},{name:"Stereo Reverb"},{name:"Stereo Tape Saturation"},{name:"Hyper/Dimension"}],eF={Serum:P8,Vital:B8,Pigments:F8,Diva:H8,Juno106:U8,AnalogLab:V8,Generic:z8,Alchemy:j8,Operator:G8,FM8:q8,Hive2:Y8,MassiveX:K8,Omnisphere:$8,RetroSynth:X8,SH101:W8,Sylenth1:Q8,Zebra2:J8,fallbackStandardEffects:Z8},oc=eF,tF=e=>{if(oc[e])return oc[e];const t=e.toLowerCase().replace(/[^a-z0-9]/g,""),n=Object.keys(oc).find(i=>i.toLowerCase().replace(/[^a-z0-9]/g,"")===t);return n?oc[n]:{name:e,oscillators:[{id:"1",name:"Osc 1",params:["Waveform","Coarse","Fine","Level"]},{id:"2",name:"Osc 2",params:["Waveform","Coarse","Fine","Level"]}],filters:[{name:"Filter",types:["Lowpass","Highpass","Bandpass"],parameters:["Cutoff","Resonance"]}],effects:[]}},nF=(e,t)=>{const{description:n,synth:i,genre:s,voiceType:o,notes:u}=e;return`You are a professional synthesizer programmer. Create a detailed patch guide for these specifications:

**Target Sound:**
- Synth: ${i}
- Genre: ${s}
- Voice Type: ${o}
- Description: ${n}
${u?`- Additional Notes: ${u}`:""}

**IMPORTANT:** You must respond with EXACTLY this structured markdown format with clear organization and excellent spacing:

##  Core Sound Engine

###  Oscillator Setup

**Primary Oscillator (Osc 1)**

- Waveform: [type] 
- Coarse Tune: [value] semitones
- Fine Tune: [value] cents
- Level: [value] dB

**Secondary Oscillator (Osc 2)**

- Waveform: [type]
- Coarse Tune: [value] semitones  
- Fine Tune: [value] cents
- Level: [value] dB

**Sub Oscillator**

- Waveform: [type]
- Octave: [value] 
- Level: [value] dB

###  Filter Configuration

**Filter Type:** [type] (Lowpass/Highpass/Bandpass)

**Cutoff Frequency:** [frequency] Hz  

**Resonance:** [percentage]%

**Drive/Saturation:** [percentage]%

###  Filter Envelope (VCF)
| Parameter | Value | Purpose |
|-----------|--------|---------|
| **Attack** | [time] ms | [brief explanation] |
| **Decay** | [time] ms | [brief explanation] |
| **Sustain** | [percentage]% | [brief explanation] |
| **Release** | [time] ms | [brief explanation] |

###  Amplitude Envelope (VCA)
| Parameter | Value | Purpose |
|-----------|--------|---------|
| **Attack** | [time] ms | [brief explanation] |
| **Decay** | [time] ms | [brief explanation] |
| **Sustain** | [percentage]% | [brief explanation] |
| **Release** | [time] ms | [brief explanation] |

##  Effects & Character

###  Modulation Matrix

**LFO 1  Filter Cutoff**

- Amount: [percentage]%
- Rate: [rate] Hz  
- Waveform: [type]
- *Purpose:* [explanation]

**Envelope  Oscillator Pitch**

- Amount: [percentage]%
- *Purpose:* [explanation]

**Mod Wheel  Vibrato**

- Amount: [percentage]%
- *Purpose:* [explanation]

###  Effects Chain

**Chorus**

- Rate: [rate] Hz | Depth: [percentage]% | Mix: [percentage]%

**Delay**

- Time: [time] ms | Feedback: [percentage]% | Mix: [percentage]%

**Reverb**

- Decay: [time] s | Size: [percentage]% | Mix: [percentage]%

##  Performance & Production

###  Playing Techniques

**Velocity Response:**

- [Specific velocity technique advice]

**Expression Control:**

- [Mod wheel, aftertouch, or pedal suggestions]

**Register Considerations:**

- [Low/mid/high register playing advice]

###  Mix Integration

**EQ Approach:**

- [Frequency range emphasis/cuts]
- [Specific EQ curve suggestions]

**Compression:**

- [Attack/release settings]
- [Ratio and threshold guidance]

**Spatial Placement:**

- [Stereo positioning advice]
- [Reverb send levels]

###  Creative Variations

**For Softer Passages:**

- [Parameter adjustments for dynamics]

**For Aggressive Sections:**

- [Parameter adjustments for intensity]

**Alternative Textures:**

- [Quick parameter tweaks for variation]

**Guidelines:**
- Use specific numeric values with units (Hz, ms, %, dB)
- Include brief explanations for parameter purposes  
- Focus on ${s} genre characteristics and ${o} voice type
- Make all values musically appropriate and realistic
- Organize information for quick scanning and implementation

**Available Synth Parameters:**
${JSON.stringify(t,null,2)}

Respond ONLY with the structured markdown format above. Use tables, bullet points, and clear headings for maximum readability.`},iF=e=>{if(!(e!=null&&e.trim()))throw new Error("Empty response from AI");const t=e.trim(),n=(u,c)=>{const m=new RegExp(`### ${c}[\\s\\S]*?\\| \\*\\*Attack\\*\\* \\| ([\\d.]+) ms[\\s\\S]*?\\| \\*\\*Decay\\*\\* \\| ([\\d.]+) ms[\\s\\S]*?\\| \\*\\*Sustain\\*\\* \\| ([\\d.]+)%[\\s\\S]*?\\| \\*\\*Release\\*\\* \\| ([\\d.]+) ms`,"i"),f=u.match(m);if(f)return{attack:parseFloat(f[1])/1e3,decay:parseFloat(f[2])/1e3,sustain:parseFloat(f[3])/100,release:parseFloat(f[4])/1e3};const h=new RegExp(`${c}[^:]*:.*?Attack: ([\\d.]+) ms.*?Decay: ([\\d.]+) ms.*?Sustain: ([\\d.]+)%.*?Release: ([\\d.]+) ms`,"i"),y=u.match(h);return y?{attack:parseFloat(y[1])/1e3,decay:parseFloat(y[2])/1e3,sustain:parseFloat(y[3])/100,release:parseFloat(y[4])/1e3}:c.includes("Amplitude")||c.includes("VCA")?{attack:.05,decay:.3,sustain:.9,release:.8}:{attack:.1,decay:.5,sustain:.7,release:1.2}},i=()=>{const u=t.match(/###  Oscillator Setup(.*?)###  Filter Configuration/s);if(!u)return[];const c=[],m=u[1].match(/\*\*Primary Oscillator.*?\*\*.*?- Waveform: ([^\n]+).*?- Coarse Tune: ([^\n]+).*?- Fine Tune: ([^\n]+).*?- Level: ([^\n]+)/s);m&&c.push({name:"Primary Oscillator",waveform:m[1].trim(),coarse:m[2].trim(),fine:m[3].trim(),level:m[4].trim()});const f=u[1].match(/\*\*Secondary Oscillator.*?\*\*.*?- Waveform: ([^\n]+).*?- Coarse Tune: ([^\n]+).*?- Fine Tune: ([^\n]+).*?- Level: ([^\n]+)/s);return f&&c.push({name:"Secondary Oscillator",waveform:f[1].trim(),coarse:f[2].trim(),fine:f[3].trim(),level:f[4].trim()}),c},s=()=>{var h,y,v;const u=t.match(/###  Filter Configuration([\s\S]*?)(### |## |$)/);if(!u)return{selectedType:"Lowpass",cutoff:"5000 Hz",resonance:"30%"};const c=u[1].match(/\*\*Filter Type:\*\* ([^\n]+)/),m=u[1].match(/\*\*Cutoff Frequency:\*\* ([^\n]+)/),f=u[1].match(/\*\*Resonance:\*\* ([^\n]+)/);return{selectedType:((h=c==null?void 0:c[1])==null?void 0:h.trim())||"Lowpass",cutoff:((y=m==null?void 0:m[1])==null?void 0:y.trim())||"5000 Hz",resonance:((v=f==null?void 0:f[1])==null?void 0:v.trim())||"30%"}},o=()=>{const u=t.match(/###  Effects Chain(.*?)##  Performance & Production/s);if(!u)return{};const c={},m=u[1].match(/\*\*Chorus\*\*.*?Rate: ([^|]+) \| Depth: ([^|]+) \| Mix: ([^\n]+)/);m&&(c.chorus={rate:m[1].trim(),depth:m[2].trim(),mix:m[3].trim()});const f=u[1].match(/\*\*Delay\*\*.*?Time: ([^|]+) \| Feedback: ([^|]+) \| Mix: ([^\n]+)/);f&&(c.delay={time:f[1].trim(),feedback:f[2].trim(),mix:f[3].trim()});const h=u[1].match(/\*\*Reverb\*\*.*?Decay: ([^|]+) \| Size: ([^|]+) \| Mix: ([^\n]+)/);return h&&(c.reverb={decay:h[1].trim(),size:h[2].trim(),mix:h[3].trim()}),c};return{text:t,synthConfig:{oscillators:i(),filter:s(),effects:o()},adsrVCF:n(t,"Filter Envelope"),adsrVCA:n(t,"Amplitude Envelope"),summary:t.includes("##  Performance & Production")?t.split("##  Performance & Production")[1].trim():t.includes("###  Creative Variations")?t.split("###  Creative Variations")[1].trim():"No creative tips provided"}},aF=(e,t)=>{const n=(o,u)=>!o||typeof o!="object"?u:{attack:typeof o.attack=="number"?Math.max(.01,Math.min(10,o.attack)):u.attack,decay:typeof o.decay=="number"?Math.max(.01,Math.min(10,o.decay)):u.decay,sustain:typeof o.sustain=="number"?Math.max(0,Math.min(1,o.sustain)):u.sustain,release:typeof o.release=="number"?Math.max(.01,Math.min(10,o.release)):u.release},i=()=>Array.isArray(e.oscillators)?e.oscillators.map((o,u)=>({name:o.name||`Oscillator ${u+1}`,id:String(u+1),values:o.values||{}})):[],s=()=>{const o=e.filter||{};return{name:"Filter",selectedType:o.selectedType||"Lowpass",cutoff:o.cutoff||"5000 Hz",resonance:o.resonance||"30%"}};return{text:typeof e.text=="string"?e.text:"No instructions provided",synthConfig:{...t,oscillators:i(),filters:[s()]},adsrVCF:n(e.adsrVCF,{attack:.1,decay:.5,sustain:.7,release:1.2}),adsrVCA:n(e.adsrVCA,{attack:.05,decay:.3,sustain:.9,release:.8}),summary:typeof e.summary=="string"?e.summary:"No creative tips provided"}},rF=async e=>{if(!e.description||!e.synth||!e.genre||!e.voiceType)throw new Error("Missing required fields: description, synth, genre, and voiceType are required");try{const t=tF(e.synth),n=nF(e,t),i=await cR(n);if(!i)throw new Error("No response received from AI");const s=iF(i);return aF(s,t)}catch(t){throw console.error("PatchGuide Generation Error:",t),t instanceof Error?t.message.includes("API key")?new Error("Invalid API key configuration. Please check your environment variables."):t.message.includes("quota")||t.message.includes("rate limit")?new Error("API quota exceeded. Please try again later."):t:new Error("Unknown error occurred while generating patch guide")}},sF=rF,oS=oe.createContext({});function oF(e){const t=oe.useRef(null);return t.current===null&&(t.current=e()),t.current}const C0=typeof window<"u",lF=C0?oe.useLayoutEffect:oe.useEffect,A0=oe.createContext(null);function _0(e,t){e.indexOf(t)===-1&&e.push(t)}function I0(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}const Ki=(e,t,n)=>n>t?t:n<e?e:n;let N0=()=>{};const $i={},lS=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e);function uS(e){return typeof e=="object"&&e!==null}const cS=e=>/^0[^.\s]+$/u.test(e);function M0(e){let t;return()=>(t===void 0&&(t=e()),t)}const ti=e=>e,uF=(e,t)=>n=>t(e(n)),Ll=(...e)=>e.reduce(uF),bl=(e,t,n)=>{const i=t-e;return i===0?1:(n-e)/i};class D0{constructor(){this.subscriptions=[]}add(t){return _0(this.subscriptions,t),()=>I0(this.subscriptions,t)}notify(t,n,i){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](t,n,i);else for(let o=0;o<s;o++){const u=this.subscriptions[o];u&&u(t,n,i)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Si=e=>e*1e3,Ci=e=>e/1e3;function dS(e,t){return t?e*(1e3/t):0}const fS=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,cF=1e-7,dF=12;function fF(e,t,n,i,s){let o,u,c=0;do u=t+(n-t)/2,o=fS(u,i,s)-e,o>0?n=u:t=u;while(Math.abs(o)>cF&&++c<dF);return u}function Ol(e,t,n,i){if(e===t&&n===i)return ti;const s=o=>fF(o,0,1,e,n);return o=>o===0||o===1?o:fS(s(o),t,i)}const mS=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,hS=e=>t=>1-e(1-t),pS=Ol(.33,1.53,.69,.99),R0=hS(pS),gS=mS(R0),yS=e=>(e*=2)<1?.5*R0(e):.5*(2-Math.pow(2,-10*(e-1))),k0=e=>1-Math.sin(Math.acos(e)),TS=hS(k0),bS=mS(k0),mF=Ol(.42,0,1,1),hF=Ol(0,0,.58,1),xS=Ol(.42,0,.58,1),pF=e=>Array.isArray(e)&&typeof e[0]!="number",ES=e=>Array.isArray(e)&&typeof e[0]=="number",gF={linear:ti,easeIn:mF,easeInOut:xS,easeOut:hF,circIn:k0,circInOut:bS,circOut:TS,backIn:R0,backInOut:gS,backOut:pS,anticipate:yS},yF=e=>typeof e=="string",bx=e=>{if(ES(e)){N0(e.length===4);const[t,n,i,s]=e;return Ol(t,n,i,s)}else if(yF(e))return gF[e];return e},lc=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"],xx={value:null};function TF(e,t){let n=new Set,i=new Set,s=!1,o=!1;const u=new WeakSet;let c={delta:0,timestamp:0,isProcessing:!1},m=0;function f(y){u.has(y)&&(h.schedule(y),e()),m++,y(c)}const h={schedule:(y,v=!1,S=!1)=>{const I=S&&s?n:i;return v&&u.add(y),I.has(y)||I.add(y),y},cancel:y=>{i.delete(y),u.delete(y)},process:y=>{if(c=y,s){o=!0;return}s=!0,[n,i]=[i,n],n.forEach(f),t&&xx.value&&xx.value.frameloop[t].push(m),m=0,n.clear(),s=!1,o&&(o=!1,h.process(y))}};return h}const bF=40;function vS(e,t){let n=!1,i=!0;const s={delta:0,timestamp:0,isProcessing:!1},o=()=>n=!0,u=lc.reduce((R,V)=>(R[V]=TF(o,t?V:void 0),R),{}),{setup:c,read:m,resolveKeyframes:f,preUpdate:h,update:y,preRender:v,render:S,postRender:_}=u,I=()=>{const R=$i.useManualTiming?s.timestamp:performance.now();n=!1,$i.useManualTiming||(s.delta=i?1e3/60:Math.max(Math.min(R-s.timestamp,bF),1)),s.timestamp=R,s.isProcessing=!0,c.process(s),m.process(s),f.process(s),h.process(s),y.process(s),v.process(s),S.process(s),_.process(s),s.isProcessing=!1,n&&t&&(i=!1,e(I))},O=()=>{n=!0,i=!0,s.isProcessing||e(I)};return{schedule:lc.reduce((R,V)=>{const K=u[V];return R[V]=(q,ue=!1,me=!1)=>(n||O(),K.schedule(q,ue,me)),R},{}),cancel:R=>{for(let V=0;V<lc.length;V++)u[lc[V]].cancel(R)},state:s,steps:u}}const{schedule:_t,cancel:Ma,state:en,steps:qm}=vS(typeof requestAnimationFrame<"u"?requestAnimationFrame:ti,!0);let bc;function xF(){bc=void 0}const _n={now:()=>(bc===void 0&&_n.set(en.isProcessing||$i.useManualTiming?en.timestamp:performance.now()),bc),set:e=>{bc=e,queueMicrotask(xF)}},SS=e=>t=>typeof t=="string"&&t.startsWith(e),w0=SS("--"),EF=SS("var(--"),L0=e=>EF(e)?vF.test(e.split("/*")[0].trim()):!1,vF=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Ps={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},xl={...Ps,transform:e=>Ki(0,1,e)},uc={...Ps,default:1},ll=e=>Math.round(e*1e5)/1e5,O0=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function SF(e){return e==null}const CF=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,P0=(e,t)=>n=>!!(typeof n=="string"&&CF.test(n)&&n.startsWith(e)||t&&!SF(n)&&Object.prototype.hasOwnProperty.call(n,t)),CS=(e,t,n)=>i=>{if(typeof i!="string")return i;const[s,o,u,c]=i.match(O0);return{[e]:parseFloat(s),[t]:parseFloat(o),[n]:parseFloat(u),alpha:c!==void 0?parseFloat(c):1}},AF=e=>Ki(0,255,e),Ym={...Ps,transform:e=>Math.round(AF(e))},mr={test:P0("rgb","red"),parse:CS("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:i=1})=>"rgba("+Ym.transform(e)+", "+Ym.transform(t)+", "+Ym.transform(n)+", "+ll(xl.transform(i))+")"};function _F(e){let t="",n="",i="",s="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),i=e.substring(5,7),s=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),i=e.substring(3,4),s=e.substring(4,5),t+=t,n+=n,i+=i,s+=s),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(i,16),alpha:s?parseInt(s,16)/255:1}}const kh={test:P0("#"),parse:_F,transform:mr.transform},Pl=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),Aa=Pl("deg"),Ai=Pl("%"),Fe=Pl("px"),IF=Pl("vh"),NF=Pl("vw"),Ex={...Ai,parse:e=>Ai.parse(e)/100,transform:e=>Ai.transform(e*100)},gs={test:P0("hsl","hue"),parse:CS("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:i=1})=>"hsla("+Math.round(e)+", "+Ai.transform(ll(t))+", "+Ai.transform(ll(n))+", "+ll(xl.transform(i))+")"},zt={test:e=>mr.test(e)||kh.test(e)||gs.test(e),parse:e=>mr.test(e)?mr.parse(e):gs.test(e)?gs.parse(e):kh.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?mr.transform(e):gs.transform(e),getAnimatableNone:e=>{const t=zt.parse(e);return t.alpha=0,zt.transform(t)}},MF=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function DF(e){var t,n;return isNaN(e)&&typeof e=="string"&&(((t=e.match(O0))==null?void 0:t.length)||0)+(((n=e.match(MF))==null?void 0:n.length)||0)>0}const AS="number",_S="color",RF="var",kF="var(",vx="${}",wF=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function El(e){const t=e.toString(),n=[],i={color:[],number:[],var:[]},s=[];let o=0;const c=t.replace(wF,m=>(zt.test(m)?(i.color.push(o),s.push(_S),n.push(zt.parse(m))):m.startsWith(kF)?(i.var.push(o),s.push(RF),n.push(m)):(i.number.push(o),s.push(AS),n.push(parseFloat(m))),++o,vx)).split(vx);return{values:n,split:c,indexes:i,types:s}}function IS(e){return El(e).values}function NS(e){const{split:t,types:n}=El(e),i=t.length;return s=>{let o="";for(let u=0;u<i;u++)if(o+=t[u],s[u]!==void 0){const c=n[u];c===AS?o+=ll(s[u]):c===_S?o+=zt.transform(s[u]):o+=s[u]}return o}}const LF=e=>typeof e=="number"?0:zt.test(e)?zt.getAnimatableNone(e):e;function OF(e){const t=IS(e);return NS(e)(t.map(LF))}const Da={test:DF,parse:IS,createTransformer:NS,getAnimatableNone:OF};function Km(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function PF({hue:e,saturation:t,lightness:n,alpha:i}){e/=360,t/=100,n/=100;let s=0,o=0,u=0;if(!t)s=o=u=n;else{const c=n<.5?n*(1+t):n+t-n*t,m=2*n-c;s=Km(m,c,e+1/3),o=Km(m,c,e),u=Km(m,c,e-1/3)}return{red:Math.round(s*255),green:Math.round(o*255),blue:Math.round(u*255),alpha:i}}function Lc(e,t){return n=>n>0?t:e}const At=(e,t,n)=>e+(t-e)*n,$m=(e,t,n)=>{const i=e*e,s=n*(t*t-i)+i;return s<0?0:Math.sqrt(s)},BF=[kh,mr,gs],FF=e=>BF.find(t=>t.test(e));function Sx(e){const t=FF(e);if(!t)return!1;let n=t.parse(e);return t===gs&&(n=PF(n)),n}const Cx=(e,t)=>{const n=Sx(e),i=Sx(t);if(!n||!i)return Lc(e,t);const s={...n};return o=>(s.red=$m(n.red,i.red,o),s.green=$m(n.green,i.green,o),s.blue=$m(n.blue,i.blue,o),s.alpha=At(n.alpha,i.alpha,o),mr.transform(s))},wh=new Set(["none","hidden"]);function HF(e,t){return wh.has(e)?n=>n<=0?e:t:n=>n>=1?t:e}function UF(e,t){return n=>At(e,t,n)}function B0(e){return typeof e=="number"?UF:typeof e=="string"?L0(e)?Lc:zt.test(e)?Cx:jF:Array.isArray(e)?MS:typeof e=="object"?zt.test(e)?Cx:VF:Lc}function MS(e,t){const n=[...e],i=n.length,s=e.map((o,u)=>B0(o)(o,t[u]));return o=>{for(let u=0;u<i;u++)n[u]=s[u](o);return n}}function VF(e,t){const n={...e,...t},i={};for(const s in n)e[s]!==void 0&&t[s]!==void 0&&(i[s]=B0(e[s])(e[s],t[s]));return s=>{for(const o in i)n[o]=i[o](s);return n}}function zF(e,t){const n=[],i={color:0,var:0,number:0};for(let s=0;s<t.values.length;s++){const o=t.types[s],u=e.indexes[o][i[o]],c=e.values[u]??0;n[s]=c,i[o]++}return n}const jF=(e,t)=>{const n=Da.createTransformer(t),i=El(e),s=El(t);return i.indexes.var.length===s.indexes.var.length&&i.indexes.color.length===s.indexes.color.length&&i.indexes.number.length>=s.indexes.number.length?wh.has(e)&&!s.values.length||wh.has(t)&&!i.values.length?HF(e,t):Ll(MS(zF(i,s),s.values),n):Lc(e,t)};function DS(e,t,n){return typeof e=="number"&&typeof t=="number"&&typeof n=="number"?At(e,t,n):B0(e)(e,t)}const GF=e=>{const t=({timestamp:n})=>e(n);return{start:(n=!0)=>_t.update(t,n),stop:()=>Ma(t),now:()=>en.isProcessing?en.timestamp:_n.now()}},RS=(e,t,n=10)=>{let i="";const s=Math.max(Math.round(t/n),2);for(let o=0;o<s;o++)i+=Math.round(e(o/(s-1))*1e4)/1e4+", ";return`linear(${i.substring(0,i.length-2)})`},Oc=2e4;function F0(e){let t=0;const n=50;let i=e.next(t);for(;!i.done&&t<Oc;)t+=n,i=e.next(t);return t>=Oc?1/0:t}function qF(e,t=100,n){const i=n({...e,keyframes:[0,t]}),s=Math.min(F0(i),Oc);return{type:"keyframes",ease:o=>i.next(s*o).value/t,duration:Ci(s)}}const YF=5;function kS(e,t,n){const i=Math.max(t-YF,0);return dS(n-e(i),t-i)}const Mt={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Xm=.001;function KF({duration:e=Mt.duration,bounce:t=Mt.bounce,velocity:n=Mt.velocity,mass:i=Mt.mass}){let s,o,u=1-t;u=Ki(Mt.minDamping,Mt.maxDamping,u),e=Ki(Mt.minDuration,Mt.maxDuration,Ci(e)),u<1?(s=f=>{const h=f*u,y=h*e,v=h-n,S=Lh(f,u),_=Math.exp(-y);return Xm-v/S*_},o=f=>{const y=f*u*e,v=y*n+n,S=Math.pow(u,2)*Math.pow(f,2)*e,_=Math.exp(-y),I=Lh(Math.pow(f,2),u);return(-s(f)+Xm>0?-1:1)*((v-S)*_)/I}):(s=f=>{const h=Math.exp(-f*e),y=(f-n)*e+1;return-Xm+h*y},o=f=>{const h=Math.exp(-f*e),y=(n-f)*(e*e);return h*y});const c=5/e,m=XF(s,o,c);if(e=Si(e),isNaN(m))return{stiffness:Mt.stiffness,damping:Mt.damping,duration:e};{const f=Math.pow(m,2)*i;return{stiffness:f,damping:u*2*Math.sqrt(i*f),duration:e}}}const $F=12;function XF(e,t,n){let i=n;for(let s=1;s<$F;s++)i=i-e(i)/t(i);return i}function Lh(e,t){return e*Math.sqrt(1-t*t)}const WF=["duration","bounce"],QF=["stiffness","damping","mass"];function Ax(e,t){return t.some(n=>e[n]!==void 0)}function JF(e){let t={velocity:Mt.velocity,stiffness:Mt.stiffness,damping:Mt.damping,mass:Mt.mass,isResolvedFromDuration:!1,...e};if(!Ax(e,QF)&&Ax(e,WF))if(e.visualDuration){const n=e.visualDuration,i=2*Math.PI/(n*1.2),s=i*i,o=2*Ki(.05,1,1-(e.bounce||0))*Math.sqrt(s);t={...t,mass:Mt.mass,stiffness:s,damping:o}}else{const n=KF(e);t={...t,...n,mass:Mt.mass},t.isResolvedFromDuration=!0}return t}function Pc(e=Mt.visualDuration,t=Mt.bounce){const n=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:i,restDelta:s}=n;const o=n.keyframes[0],u=n.keyframes[n.keyframes.length-1],c={done:!1,value:o},{stiffness:m,damping:f,mass:h,duration:y,velocity:v,isResolvedFromDuration:S}=JF({...n,velocity:-Ci(n.velocity||0)}),_=v||0,I=f/(2*Math.sqrt(m*h)),O=u-o,D=Ci(Math.sqrt(m/h)),H=Math.abs(O)<5;i||(i=H?Mt.restSpeed.granular:Mt.restSpeed.default),s||(s=H?Mt.restDelta.granular:Mt.restDelta.default);let R;if(I<1){const K=Lh(D,I);R=q=>{const ue=Math.exp(-I*D*q);return u-ue*((_+I*D*O)/K*Math.sin(K*q)+O*Math.cos(K*q))}}else if(I===1)R=K=>u-Math.exp(-D*K)*(O+(_+D*O)*K);else{const K=D*Math.sqrt(I*I-1);R=q=>{const ue=Math.exp(-I*D*q),me=Math.min(K*q,300);return u-ue*((_+I*D*O)*Math.sinh(me)+K*O*Math.cosh(me))/K}}const V={calculatedDuration:S&&y||null,next:K=>{const q=R(K);if(S)c.done=K>=y;else{let ue=K===0?_:0;I<1&&(ue=K===0?Si(_):kS(R,K,q));const me=Math.abs(ue)<=i,Ae=Math.abs(u-q)<=s;c.done=me&&Ae}return c.value=c.done?u:q,c},toString:()=>{const K=Math.min(F0(V),Oc),q=RS(ue=>V.next(K*ue).value,K,30);return K+"ms "+q},toTransition:()=>{}};return V}Pc.applyToOptions=e=>{const t=qF(e,100,Pc);return e.ease=t.ease,e.duration=Si(t.duration),e.type="keyframes",e};function Oh({keyframes:e,velocity:t=0,power:n=.8,timeConstant:i=325,bounceDamping:s=10,bounceStiffness:o=500,modifyTarget:u,min:c,max:m,restDelta:f=.5,restSpeed:h}){const y=e[0],v={done:!1,value:y},S=me=>c!==void 0&&me<c||m!==void 0&&me>m,_=me=>c===void 0?m:m===void 0||Math.abs(c-me)<Math.abs(m-me)?c:m;let I=n*t;const O=y+I,D=u===void 0?O:u(O);D!==O&&(I=D-y);const H=me=>-I*Math.exp(-me/i),R=me=>D+H(me),V=me=>{const Ae=H(me),Y=R(me);v.done=Math.abs(Ae)<=f,v.value=v.done?D:Y};let K,q;const ue=me=>{S(v.value)&&(K=me,q=Pc({keyframes:[v.value,_(v.value)],velocity:kS(R,me,v.value),damping:s,stiffness:o,restDelta:f,restSpeed:h}))};return ue(0),{calculatedDuration:null,next:me=>{let Ae=!1;return!q&&K===void 0&&(Ae=!0,V(me),ue(me)),K!==void 0&&me>=K?q.next(me-K):(!Ae&&V(me),v)}}}function ZF(e,t,n){const i=[],s=n||$i.mix||DS,o=e.length-1;for(let u=0;u<o;u++){let c=s(e[u],e[u+1]);if(t){const m=Array.isArray(t)?t[u]||ti:t;c=Ll(m,c)}i.push(c)}return i}function e9(e,t,{clamp:n=!0,ease:i,mixer:s}={}){const o=e.length;if(N0(o===t.length),o===1)return()=>t[0];if(o===2&&t[0]===t[1])return()=>t[1];const u=e[0]===e[1];e[0]>e[o-1]&&(e=[...e].reverse(),t=[...t].reverse());const c=ZF(t,i,s),m=c.length,f=h=>{if(u&&h<e[0])return t[0];let y=0;if(m>1)for(;y<e.length-2&&!(h<e[y+1]);y++);const v=bl(e[y],e[y+1],h);return c[y](v)};return n?h=>f(Ki(e[0],e[o-1],h)):f}function t9(e,t){const n=e[e.length-1];for(let i=1;i<=t;i++){const s=bl(0,t,i);e.push(At(n,1,s))}}function n9(e){const t=[0];return t9(t,e.length-1),t}function i9(e,t){return e.map(n=>n*t)}function a9(e,t){return e.map(()=>t||xS).splice(0,e.length-1)}function ul({duration:e=300,keyframes:t,times:n,ease:i="easeInOut"}){const s=pF(i)?i.map(bx):bx(i),o={done:!1,value:t[0]},u=i9(n&&n.length===t.length?n:n9(t),e),c=e9(u,t,{ease:Array.isArray(s)?s:a9(t,s)});return{calculatedDuration:e,next:m=>(o.value=c(m),o.done=m>=e,o)}}const r9=e=>e!==null;function H0(e,{repeat:t,repeatType:n="loop"},i,s=1){const o=e.filter(r9),c=s<0||t&&n!=="loop"&&t%2===1?0:o.length-1;return!c||i===void 0?o[c]:i}const s9={decay:Oh,inertia:Oh,tween:ul,keyframes:ul,spring:Pc};function wS(e){typeof e.type=="string"&&(e.type=s9[e.type])}class U0{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,n){return this.finished.then(t,n)}}const o9=e=>e/100;class V0 extends U0{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var i,s;const{motionValue:n}=this.options;n&&n.updatedAt!==_n.now()&&this.tick(_n.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(s=(i=this.options).onStop)==null||s.call(i))},this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){const{options:t}=this;wS(t);const{type:n=ul,repeat:i=0,repeatDelay:s=0,repeatType:o,velocity:u=0}=t;let{keyframes:c}=t;const m=n||ul;m!==ul&&typeof c[0]!="number"&&(this.mixKeyframes=Ll(o9,DS(c[0],c[1])),c=[0,100]);const f=m({...t,keyframes:c});o==="mirror"&&(this.mirroredGenerator=m({...t,keyframes:[...c].reverse(),velocity:-u})),f.calculatedDuration===null&&(f.calculatedDuration=F0(f));const{calculatedDuration:h}=f;this.calculatedDuration=h,this.resolvedDuration=h+s,this.totalDuration=this.resolvedDuration*(i+1)-s,this.generator=f}updateTime(t){const n=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(t,n=!1){const{generator:i,totalDuration:s,mixKeyframes:o,mirroredGenerator:u,resolvedDuration:c,calculatedDuration:m}=this;if(this.startTime===null)return i.next(0);const{delay:f=0,keyframes:h,repeat:y,repeatType:v,repeatDelay:S,type:_,onUpdate:I,finalKeyframe:O}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-s/this.speed,this.startTime)),n?this.currentTime=t:this.updateTime(t);const D=this.currentTime-f*(this.playbackSpeed>=0?1:-1),H=this.playbackSpeed>=0?D<0:D>s;this.currentTime=Math.max(D,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=s);let R=this.currentTime,V=i;if(y){const me=Math.min(this.currentTime,s)/c;let Ae=Math.floor(me),Y=me%1;!Y&&me>=1&&(Y=1),Y===1&&Ae--,Ae=Math.min(Ae,y+1),!!(Ae%2)&&(v==="reverse"?(Y=1-Y,S&&(Y-=S/c)):v==="mirror"&&(V=u)),R=Ki(0,1,Y)*c}const K=H?{done:!1,value:h[0]}:V.next(R);o&&(K.value=o(K.value));let{done:q}=K;!H&&m!==null&&(q=this.playbackSpeed>=0?this.currentTime>=s:this.currentTime<=0);const ue=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&q);return ue&&_!==Oh&&(K.value=H0(h,this.options,O,this.speed)),I&&I(K.value),ue&&this.finish(),K}then(t,n){return this.finished.then(t,n)}get duration(){return Ci(this.calculatedDuration)}get time(){return Ci(this.currentTime)}set time(t){var n;t=Si(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed),(n=this.driver)==null||n.start(!1)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(_n.now());const n=this.playbackSpeed!==t;this.playbackSpeed=t,n&&(this.time=Ci(this.currentTime))}play(){var s,o;if(this.isStopped)return;const{driver:t=GF,startTime:n}=this.options;this.driver||(this.driver=t(u=>this.tick(u))),(o=(s=this.options).onPlay)==null||o.call(s);const i=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=i):this.holdTime!==null?this.startTime=i-this.holdTime:this.startTime||(this.startTime=n??i),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(_n.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var t,n;this.notifyFinished(),this.teardown(),this.state="finished",(n=(t=this.options).onComplete)==null||n.call(t)}cancel(){var t,n;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(n=(t=this.options).onCancel)==null||n.call(t)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){var n;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(n=this.driver)==null||n.stop(),t.observe(this)}}function l9(e){for(let t=1;t<e.length;t++)e[t]??(e[t]=e[t-1])}const hr=e=>e*180/Math.PI,Ph=e=>{const t=hr(Math.atan2(e[1],e[0]));return Bh(t)},u9={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:Ph,rotateZ:Ph,skewX:e=>hr(Math.atan(e[1])),skewY:e=>hr(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},Bh=e=>(e=e%360,e<0&&(e+=360),e),_x=Ph,Ix=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),Nx=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),c9={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:Ix,scaleY:Nx,scale:e=>(Ix(e)+Nx(e))/2,rotateX:e=>Bh(hr(Math.atan2(e[6],e[5]))),rotateY:e=>Bh(hr(Math.atan2(-e[2],e[0]))),rotateZ:_x,rotate:_x,skewX:e=>hr(Math.atan(e[4])),skewY:e=>hr(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function Fh(e){return e.includes("scale")?1:0}function Hh(e,t){if(!e||e==="none")return Fh(t);const n=e.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let i,s;if(n)i=c9,s=n;else{const c=e.match(/^matrix\(([-\d.e\s,]+)\)$/u);i=u9,s=c}if(!s)return Fh(t);const o=i[t],u=s[1].split(",").map(f9);return typeof o=="function"?o(u):u[o]}const d9=(e,t)=>{const{transform:n="none"}=getComputedStyle(e);return Hh(n,t)};function f9(e){return parseFloat(e.trim())}const Bs=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Fs=new Set(Bs),Mx=e=>e===Ps||e===Fe,m9=new Set(["x","y","z"]),h9=Bs.filter(e=>!m9.has(e));function p9(e){const t=[];return h9.forEach(n=>{const i=e.getValue(n);i!==void 0&&(t.push([n,i.get()]),i.set(n.startsWith("scale")?1:0))}),t}const gr={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:(e,{transform:t})=>Hh(t,"x"),y:(e,{transform:t})=>Hh(t,"y")};gr.translateX=gr.x;gr.translateY=gr.y;const yr=new Set;let Uh=!1,Vh=!1,zh=!1;function LS(){if(Vh){const e=Array.from(yr).filter(i=>i.needsMeasurement),t=new Set(e.map(i=>i.element)),n=new Map;t.forEach(i=>{const s=p9(i);s.length&&(n.set(i,s),i.render())}),e.forEach(i=>i.measureInitialState()),t.forEach(i=>{i.render();const s=n.get(i);s&&s.forEach(([o,u])=>{var c;(c=i.getValue(o))==null||c.set(u)})}),e.forEach(i=>i.measureEndState()),e.forEach(i=>{i.suspendedScrollY!==void 0&&window.scrollTo(0,i.suspendedScrollY)})}Vh=!1,Uh=!1,yr.forEach(e=>e.complete(zh)),yr.clear()}function OS(){yr.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(Vh=!0)})}function g9(){zh=!0,OS(),LS(),zh=!1}class z0{constructor(t,n,i,s,o,u=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...t],this.onComplete=n,this.name=i,this.motionValue=s,this.element=o,this.isAsync=u}scheduleResolve(){this.state="scheduled",this.isAsync?(yr.add(this),Uh||(Uh=!0,_t.read(OS),_t.resolveKeyframes(LS))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:n,element:i,motionValue:s}=this;if(t[0]===null){const o=s==null?void 0:s.get(),u=t[t.length-1];if(o!==void 0)t[0]=o;else if(i&&n){const c=i.readValue(n,u);c!=null&&(t[0]=c)}t[0]===void 0&&(t[0]=u),s&&o===void 0&&s.set(t[0])}l9(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),yr.delete(this)}cancel(){this.state==="scheduled"&&(yr.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const y9=e=>e.startsWith("--");function T9(e,t,n){y9(t)?e.style.setProperty(t,n):e.style[t]=n}const b9=M0(()=>window.ScrollTimeline!==void 0),x9={};function E9(e,t){const n=M0(e);return()=>x9[t]??n()}const PS=E9(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Jo=([e,t,n,i])=>`cubic-bezier(${e}, ${t}, ${n}, ${i})`,Dx={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Jo([0,.65,.55,1]),circOut:Jo([.55,0,1,.45]),backIn:Jo([.31,.01,.66,-.59]),backOut:Jo([.33,1.53,.69,.99])};function BS(e,t){if(e)return typeof e=="function"?PS()?RS(e,t):"ease-out":ES(e)?Jo(e):Array.isArray(e)?e.map(n=>BS(n,t)||Dx.easeOut):Dx[e]}function v9(e,t,n,{delay:i=0,duration:s=300,repeat:o=0,repeatType:u="loop",ease:c="easeOut",times:m}={},f=void 0){const h={[t]:n};m&&(h.offset=m);const y=BS(c,s);Array.isArray(y)&&(h.easing=y);const v={delay:i,duration:s,easing:Array.isArray(y)?"linear":y,fill:"both",iterations:o+1,direction:u==="reverse"?"alternate":"normal"};return f&&(v.pseudoElement=f),e.animate(h,v)}function FS(e){return typeof e=="function"&&"applyToOptions"in e}function S9({type:e,...t}){return FS(e)&&PS()?e.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}class C9 extends U0{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,!t)return;const{element:n,name:i,keyframes:s,pseudoElement:o,allowFlatten:u=!1,finalKeyframe:c,onComplete:m}=t;this.isPseudoElement=!!o,this.allowFlatten=u,this.options=t,N0(typeof t.type!="string");const f=S9(t);this.animation=v9(n,i,s,f,o),f.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!o){const h=H0(s,this.options,c,this.speed);this.updateMotionValue?this.updateMotionValue(h):T9(n,i,h),this.animation.cancel()}m==null||m(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var t,n;(n=(t=this.animation).finish)==null||n.call(t)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var t,n;this.isPseudoElement||(n=(t=this.animation).commitStyles)==null||n.call(t)}get duration(){var n,i;const t=((i=(n=this.animation.effect)==null?void 0:n.getComputedTiming)==null?void 0:i.call(n).duration)||0;return Ci(Number(t))}get time(){return Ci(Number(this.animation.currentTime)||0)}set time(t){this.finishedTime=null,this.animation.currentTime=Si(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(t){this.animation.startTime=t}attachTimeline({timeline:t,observe:n}){var i;return this.allowFlatten&&((i=this.animation.effect)==null||i.updateTiming({easing:"linear"})),this.animation.onfinish=null,t&&b9()?(this.animation.timeline=t,ti):n(this)}}const HS={anticipate:yS,backInOut:gS,circInOut:bS};function A9(e){return e in HS}function _9(e){typeof e.ease=="string"&&A9(e.ease)&&(e.ease=HS[e.ease])}const Rx=10;class I9 extends C9{constructor(t){_9(t),wS(t),super(t),t.startTime&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const{motionValue:n,onUpdate:i,onComplete:s,element:o,...u}=this.options;if(!n)return;if(t!==void 0){n.set(t);return}const c=new V0({...u,autoplay:!1}),m=Si(this.finishedTime??this.time);n.setWithVelocity(c.sample(m-Rx).value,c.sample(m).value,Rx),c.stop()}}const kx=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(Da.test(e)||e==="0")&&!e.startsWith("url("));function N9(e){const t=e[0];if(e.length===1)return!0;for(let n=0;n<e.length;n++)if(e[n]!==t)return!0}function M9(e,t,n,i){const s=e[0];if(s===null)return!1;if(t==="display"||t==="visibility")return!0;const o=e[e.length-1],u=kx(s,t),c=kx(o,t);return!u||!c?!1:N9(e)||(n==="spring"||FS(n))&&i}function US(e){return uS(e)&&"offsetHeight"in e}const D9=new Set(["opacity","clipPath","filter","transform"]),R9=M0(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function k9(e){var f;const{motionValue:t,name:n,repeatDelay:i,repeatType:s,damping:o,type:u}=e;if(!US((f=t==null?void 0:t.owner)==null?void 0:f.current))return!1;const{onUpdate:c,transformTemplate:m}=t.owner.getProps();return R9()&&n&&D9.has(n)&&(n!=="transform"||!m)&&!c&&!i&&s!=="mirror"&&o!==0&&u!=="inertia"}const w9=40;class L9 extends U0{constructor({autoplay:t=!0,delay:n=0,type:i="keyframes",repeat:s=0,repeatDelay:o=0,repeatType:u="loop",keyframes:c,name:m,motionValue:f,element:h,...y}){var _;super(),this.stop=()=>{var I,O;this._animation&&(this._animation.stop(),(I=this.stopTimeline)==null||I.call(this)),(O=this.keyframeResolver)==null||O.cancel()},this.createdAt=_n.now();const v={autoplay:t,delay:n,type:i,repeat:s,repeatDelay:o,repeatType:u,name:m,motionValue:f,element:h,...y},S=(h==null?void 0:h.KeyframeResolver)||z0;this.keyframeResolver=new S(c,(I,O,D)=>this.onKeyframesResolved(I,O,v,!D),m,f,h),(_=this.keyframeResolver)==null||_.scheduleResolve()}onKeyframesResolved(t,n,i,s){this.keyframeResolver=void 0;const{name:o,type:u,velocity:c,delay:m,isHandoff:f,onUpdate:h}=i;this.resolvedAt=_n.now(),M9(t,o,u,c)||(($i.instantAnimations||!m)&&(h==null||h(H0(t,i,n))),t[0]=t[t.length-1],i.duration=0,i.repeat=0);const v={startTime:s?this.resolvedAt?this.resolvedAt-this.createdAt>w9?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...i,keyframes:t},S=!f&&k9(v)?new I9({...v,element:v.motionValue.owner.current}):new V0(v);S.finished.then(()=>this.notifyFinished()).catch(ti),this.pendingTimeline&&(this.stopTimeline=S.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=S}get finished(){return this._animation?this.animation.finished:this._finished}then(t,n){return this.finished.finally(t).then(()=>{})}get animation(){var t;return this._animation||((t=this.keyframeResolver)==null||t.resume(),g9()),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var t;this._animation&&this.animation.cancel(),(t=this.keyframeResolver)==null||t.cancel()}}const O9=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function P9(e){const t=O9.exec(e);if(!t)return[,];const[,n,i,s]=t;return[`--${n??i}`,s]}function VS(e,t,n=1){const[i,s]=P9(e);if(!i)return;const o=window.getComputedStyle(t).getPropertyValue(i);if(o){const u=o.trim();return lS(u)?parseFloat(u):u}return L0(s)?VS(s,t,n+1):s}function j0(e,t){return(e==null?void 0:e[t])??(e==null?void 0:e.default)??e}const zS=new Set(["width","height","top","left","right","bottom",...Bs]),B9={test:e=>e==="auto",parse:e=>e},jS=e=>t=>t.test(e),GS=[Ps,Fe,Ai,Aa,NF,IF,B9],wx=e=>GS.find(jS(e));function F9(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||cS(e):!0}const H9=new Set(["brightness","contrast","saturate","opacity"]);function U9(e){const[t,n]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[i]=n.match(O0)||[];if(!i)return e;const s=n.replace(i,"");let o=H9.has(t)?1:0;return i!==n&&(o*=100),t+"("+o+s+")"}const V9=/\b([a-z-]*)\(.*?\)/gu,jh={...Da,getAnimatableNone:e=>{const t=e.match(V9);return t?t.map(U9).join(" "):e}},Lx={...Ps,transform:Math.round},z9={rotate:Aa,rotateX:Aa,rotateY:Aa,rotateZ:Aa,scale:uc,scaleX:uc,scaleY:uc,scaleZ:uc,skew:Aa,skewX:Aa,skewY:Aa,distance:Fe,translateX:Fe,translateY:Fe,translateZ:Fe,x:Fe,y:Fe,z:Fe,perspective:Fe,transformPerspective:Fe,opacity:xl,originX:Ex,originY:Ex,originZ:Fe},G0={borderWidth:Fe,borderTopWidth:Fe,borderRightWidth:Fe,borderBottomWidth:Fe,borderLeftWidth:Fe,borderRadius:Fe,radius:Fe,borderTopLeftRadius:Fe,borderTopRightRadius:Fe,borderBottomRightRadius:Fe,borderBottomLeftRadius:Fe,width:Fe,maxWidth:Fe,height:Fe,maxHeight:Fe,top:Fe,right:Fe,bottom:Fe,left:Fe,padding:Fe,paddingTop:Fe,paddingRight:Fe,paddingBottom:Fe,paddingLeft:Fe,margin:Fe,marginTop:Fe,marginRight:Fe,marginBottom:Fe,marginLeft:Fe,backgroundPositionX:Fe,backgroundPositionY:Fe,...z9,zIndex:Lx,fillOpacity:xl,strokeOpacity:xl,numOctaves:Lx},j9={...G0,color:zt,backgroundColor:zt,outlineColor:zt,fill:zt,stroke:zt,borderColor:zt,borderTopColor:zt,borderRightColor:zt,borderBottomColor:zt,borderLeftColor:zt,filter:jh,WebkitFilter:jh},qS=e=>j9[e];function YS(e,t){let n=qS(e);return n!==jh&&(n=Da),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const G9=new Set(["auto","none","0"]);function q9(e,t,n){let i=0,s;for(;i<e.length&&!s;){const o=e[i];typeof o=="string"&&!G9.has(o)&&El(o).values.length&&(s=e[i]),i++}if(s&&n)for(const o of t)e[o]=YS(n,s)}class Y9 extends z0{constructor(t,n,i,s,o){super(t,n,i,s,o,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:n,name:i}=this;if(!n||!n.current)return;super.readKeyframes();for(let m=0;m<t.length;m++){let f=t[m];if(typeof f=="string"&&(f=f.trim(),L0(f))){const h=VS(f,n.current);h!==void 0&&(t[m]=h),m===t.length-1&&(this.finalKeyframe=f)}}if(this.resolveNoneKeyframes(),!zS.has(i)||t.length!==2)return;const[s,o]=t,u=wx(s),c=wx(o);if(u!==c)if(Mx(u)&&Mx(c))for(let m=0;m<t.length;m++){const f=t[m];typeof f=="string"&&(t[m]=parseFloat(f))}else gr[i]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:n}=this,i=[];for(let s=0;s<t.length;s++)(t[s]===null||F9(t[s]))&&i.push(s);i.length&&q9(t,i,n)}measureInitialState(){const{element:t,unresolvedKeyframes:n,name:i}=this;if(!t||!t.current)return;i==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=gr[i](t.measureViewportBox(),window.getComputedStyle(t.current)),n[0]=this.measuredOrigin;const s=n[n.length-1];s!==void 0&&t.getValue(i,s).jump(s,!1)}measureEndState(){var c;const{element:t,name:n,unresolvedKeyframes:i}=this;if(!t||!t.current)return;const s=t.getValue(n);s&&s.jump(this.measuredOrigin,!1);const o=i.length-1,u=i[o];i[o]=gr[n](t.measureViewportBox(),window.getComputedStyle(t.current)),u!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=u),(c=this.removedTransforms)!=null&&c.length&&this.removedTransforms.forEach(([m,f])=>{t.getValue(m).set(f)}),this.resolveNoneKeyframes()}}function K9(e,t,n){if(e instanceof EventTarget)return[e];if(typeof e=="string"){let i=document;const s=(n==null?void 0:n[e])??i.querySelectorAll(e);return s?Array.from(s):[]}return Array.from(e)}const KS=(e,t)=>t&&typeof e=="number"?t.transform(e):e,Ox=30,$9=e=>!isNaN(parseFloat(e));class X9{constructor(t,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=(i,s=!0)=>{var u,c;const o=_n.now();if(this.updatedAt!==o&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(i),this.current!==this.prev&&((u=this.events.change)==null||u.notify(this.current),this.dependents))for(const m of this.dependents)m.dirty();s&&((c=this.events.renderRequest)==null||c.notify(this.current))},this.hasAnimated=!1,this.setCurrent(t),this.owner=n.owner}setCurrent(t){this.current=t,this.updatedAt=_n.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=$9(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,n){this.events[t]||(this.events[t]=new D0);const i=this.events[t].add(n);return t==="change"?()=>{i(),_t.read(()=>{this.events.change.getSize()||this.stop()})}:i}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,n){this.passiveEffect=t,this.stopPassiveEffect=n}set(t,n=!0){!n||!this.passiveEffect?this.updateAndNotify(t,n):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,n,i){this.set(n),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-i}jump(t,n=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var t;(t=this.events.change)==null||t.notify(this.current)}addDependent(t){this.dependents||(this.dependents=new Set),this.dependents.add(t)}removeDependent(t){this.dependents&&this.dependents.delete(t)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=_n.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>Ox)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,Ox);return dS(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(t){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=t(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var t,n;(t=this.dependents)==null||t.clear(),(n=this.events.destroy)==null||n.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function _s(e,t){return new X9(e,t)}const{schedule:q0}=vS(queueMicrotask,!1),ui={x:!1,y:!1};function $S(){return ui.x||ui.y}function W9(e){return e==="x"||e==="y"?ui[e]?null:(ui[e]=!0,()=>{ui[e]=!1}):ui.x||ui.y?null:(ui.x=ui.y=!0,()=>{ui.x=ui.y=!1})}function XS(e,t){const n=K9(e),i=new AbortController,s={passive:!0,...t,signal:i.signal};return[n,s,()=>i.abort()]}function Px(e){return!(e.pointerType==="touch"||$S())}function Q9(e,t,n={}){const[i,s,o]=XS(e,n),u=c=>{if(!Px(c))return;const{target:m}=c,f=t(m,c);if(typeof f!="function"||!m)return;const h=y=>{Px(y)&&(f(y),m.removeEventListener("pointerleave",h))};m.addEventListener("pointerleave",h,s)};return i.forEach(c=>{c.addEventListener("pointerenter",u,s)}),o}const WS=(e,t)=>t?e===t?!0:WS(e,t.parentElement):!1,Y0=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,J9=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function Z9(e){return J9.has(e.tagName)||e.tabIndex!==-1}const xc=new WeakSet;function Bx(e){return t=>{t.key==="Enter"&&e(t)}}function Wm(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const eH=(e,t)=>{const n=e.currentTarget;if(!n)return;const i=Bx(()=>{if(xc.has(n))return;Wm(n,"down");const s=Bx(()=>{Wm(n,"up")}),o=()=>Wm(n,"cancel");n.addEventListener("keyup",s,t),n.addEventListener("blur",o,t)});n.addEventListener("keydown",i,t),n.addEventListener("blur",()=>n.removeEventListener("keydown",i),t)};function Fx(e){return Y0(e)&&!$S()}function tH(e,t,n={}){const[i,s,o]=XS(e,n),u=c=>{const m=c.currentTarget;if(!Fx(c))return;xc.add(m);const f=t(m,c),h=(S,_)=>{window.removeEventListener("pointerup",y),window.removeEventListener("pointercancel",v),xc.has(m)&&xc.delete(m),Fx(S)&&typeof f=="function"&&f(S,{success:_})},y=S=>{h(S,m===window||m===document||n.useGlobalTarget||WS(m,S.target))},v=S=>{h(S,!1)};window.addEventListener("pointerup",y,s),window.addEventListener("pointercancel",v,s)};return i.forEach(c=>{(n.useGlobalTarget?window:c).addEventListener("pointerdown",u,s),US(c)&&(c.addEventListener("focus",f=>eH(f,s)),!Z9(c)&&!c.hasAttribute("tabindex")&&(c.tabIndex=0))}),o}function QS(e){return uS(e)&&"ownerSVGElement"in e}function nH(e){return QS(e)&&e.tagName==="svg"}const ln=e=>!!(e&&e.getVelocity),iH=[...GS,zt,Da],aH=e=>iH.find(jS(e)),JS=oe.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});function rH(e=!0){const t=oe.useContext(A0);if(t===null)return[!0,null];const{isPresent:n,onExitComplete:i,register:s}=t,o=oe.useId();oe.useEffect(()=>{if(e)return s(o)},[e]);const u=oe.useCallback(()=>e&&i&&i(o),[o,i,e]);return!n&&i?[!1,u]:[!0]}const ZS=oe.createContext({strict:!1}),Hx={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Is={};for(const e in Hx)Is[e]={isEnabled:t=>Hx[e].some(n=>!!t[n])};function sH(e){for(const t in e)Is[t]={...Is[t],...e[t]}}const oH=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Bc(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||oH.has(e)}let eC=e=>!Bc(e);function lH(e){typeof e=="function"&&(eC=t=>t.startsWith("on")?!Bc(t):e(t))}try{lH(require("@emotion/is-prop-valid").default)}catch{}function uH(e,t,n){const i={};for(const s in e)s==="values"&&typeof e.values=="object"||(eC(s)||n===!0&&Bc(s)||!t&&!Bc(s)||e.draggable&&s.startsWith("onDrag"))&&(i[s]=e[s]);return i}function cH(e){if(typeof Proxy>"u")return e;const t=new Map,n=(...i)=>e(...i);return new Proxy(n,{get:(i,s)=>s==="create"?e:(t.has(s)||t.set(s,e(s)),t.get(s))})}const td=oe.createContext({});function nd(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}function vl(e){return typeof e=="string"||Array.isArray(e)}const K0=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],$0=["initial",...K0];function id(e){return nd(e.animate)||$0.some(t=>vl(e[t]))}function tC(e){return!!(id(e)||e.variants)}function dH(e,t){if(id(e)){const{initial:n,animate:i}=e;return{initial:n===!1||vl(n)?n:void 0,animate:vl(i)?i:void 0}}return e.inherit!==!1?t:{}}function fH(e){const{initial:t,animate:n}=dH(e,oe.useContext(td));return oe.useMemo(()=>({initial:t,animate:n}),[Ux(t),Ux(n)])}function Ux(e){return Array.isArray(e)?e.join(" "):e}const mH=Symbol.for("motionComponentSymbol");function ys(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function hH(e,t,n){return oe.useCallback(i=>{i&&e.onMount&&e.onMount(i),t&&(i?t.mount(i):t.unmount()),n&&(typeof n=="function"?n(i):ys(n)&&(n.current=i))},[t])}const X0=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),pH="framerAppearId",nC="data-"+X0(pH),iC=oe.createContext({});function gH(e,t,n,i,s){var I,O;const{visualElement:o}=oe.useContext(td),u=oe.useContext(ZS),c=oe.useContext(A0),m=oe.useContext(JS).reducedMotion,f=oe.useRef(null);i=i||u.renderer,!f.current&&i&&(f.current=i(e,{visualState:t,parent:o,props:n,presenceContext:c,blockInitialAnimation:c?c.initial===!1:!1,reducedMotionConfig:m}));const h=f.current,y=oe.useContext(iC);h&&!h.projection&&s&&(h.type==="html"||h.type==="svg")&&yH(f.current,n,s,y);const v=oe.useRef(!1);oe.useInsertionEffect(()=>{h&&v.current&&h.update(n,c)});const S=n[nC],_=oe.useRef(!!S&&!((I=window.MotionHandoffIsComplete)!=null&&I.call(window,S))&&((O=window.MotionHasOptimisedAnimation)==null?void 0:O.call(window,S)));return lF(()=>{h&&(v.current=!0,window.MotionIsMounted=!0,h.updateFeatures(),q0.render(h.render),_.current&&h.animationState&&h.animationState.animateChanges())}),oe.useEffect(()=>{h&&(!_.current&&h.animationState&&h.animationState.animateChanges(),_.current&&(queueMicrotask(()=>{var D;(D=window.MotionHandoffMarkAsComplete)==null||D.call(window,S)}),_.current=!1))}),h}function yH(e,t,n,i){const{layoutId:s,layout:o,drag:u,dragConstraints:c,layoutScroll:m,layoutRoot:f,layoutCrossfade:h}=t;e.projection=new n(e.latestValues,t["data-framer-portal-id"]?void 0:aC(e.parent)),e.projection.setOptions({layoutId:s,layout:o,alwaysMeasureLayout:!!u||c&&ys(c),visualElement:e,animationType:typeof o=="string"?o:"both",initialPromotionConfig:i,crossfade:h,layoutScroll:m,layoutRoot:f})}function aC(e){if(e)return e.options.allowProjection!==!1?e.projection:aC(e.parent)}function TH({preloadedFeatures:e,createVisualElement:t,useRender:n,useVisualState:i,Component:s}){e&&sH(e);function o(c,m){let f;const h={...oe.useContext(JS),...c,layoutId:bH(c)},{isStatic:y}=h,v=fH(c),S=i(c,y);if(!y&&C0){xH();const _=EH(h);f=_.MeasureLayout,v.visualElement=gH(s,S,h,t,_.ProjectionNode)}return g.jsxs(td.Provider,{value:v,children:[f&&v.visualElement?g.jsx(f,{visualElement:v.visualElement,...h}):null,n(s,c,hH(S,v.visualElement,m),S,y,v.visualElement)]})}o.displayName=`motion.${typeof s=="string"?s:`create(${s.displayName??s.name??""})`}`;const u=oe.forwardRef(o);return u[mH]=s,u}function bH({layoutId:e}){const t=oe.useContext(oS).id;return t&&e!==void 0?t+"-"+e:e}function xH(e,t){oe.useContext(ZS).strict}function EH(e){const{drag:t,layout:n}=Is;if(!t&&!n)return{};const i={...t,...n};return{MeasureLayout:t!=null&&t.isEnabled(e)||n!=null&&n.isEnabled(e)?i.MeasureLayout:void 0,ProjectionNode:i.ProjectionNode}}const Sl={};function vH(e){for(const t in e)Sl[t]=e[t],w0(t)&&(Sl[t].isCSSVariable=!0)}function rC(e,{layout:t,layoutId:n}){return Fs.has(e)||e.startsWith("origin")||(t||n!==void 0)&&(!!Sl[e]||e==="opacity")}const SH={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},CH=Bs.length;function AH(e,t,n){let i="",s=!0;for(let o=0;o<CH;o++){const u=Bs[o],c=e[u];if(c===void 0)continue;let m=!0;if(typeof c=="number"?m=c===(u.startsWith("scale")?1:0):m=parseFloat(c)===0,!m||n){const f=KS(c,G0[u]);if(!m){s=!1;const h=SH[u]||u;i+=`${h}(${f}) `}n&&(t[u]=f)}}return i=i.trim(),n?i=n(t,s?"":i):s&&(i="none"),i}function W0(e,t,n){const{style:i,vars:s,transformOrigin:o}=e;let u=!1,c=!1;for(const m in t){const f=t[m];if(Fs.has(m)){u=!0;continue}else if(w0(m)){s[m]=f;continue}else{const h=KS(f,G0[m]);m.startsWith("origin")?(c=!0,o[m]=h):i[m]=h}}if(t.transform||(u||n?i.transform=AH(t,e.transform,n):i.transform&&(i.transform="none")),c){const{originX:m="50%",originY:f="50%",originZ:h=0}=o;i.transformOrigin=`${m} ${f} ${h}`}}const Q0=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function sC(e,t,n){for(const i in t)!ln(t[i])&&!rC(i,n)&&(e[i]=t[i])}function _H({transformTemplate:e},t){return oe.useMemo(()=>{const n=Q0();return W0(n,t,e),Object.assign({},n.vars,n.style)},[t])}function IH(e,t){const n=e.style||{},i={};return sC(i,n,e),Object.assign(i,_H(e,t)),i}function NH(e,t){const n={},i=IH(e,t);return e.drag&&e.dragListener!==!1&&(n.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(n.tabIndex=0),n.style=i,n}const MH={offset:"stroke-dashoffset",array:"stroke-dasharray"},DH={offset:"strokeDashoffset",array:"strokeDasharray"};function RH(e,t,n=1,i=0,s=!0){e.pathLength=1;const o=s?MH:DH;e[o.offset]=Fe.transform(-i);const u=Fe.transform(t),c=Fe.transform(n);e[o.array]=`${u} ${c}`}function oC(e,{attrX:t,attrY:n,attrScale:i,pathLength:s,pathSpacing:o=1,pathOffset:u=0,...c},m,f,h){if(W0(e,c,f),m){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:y,style:v}=e;y.transform&&(v.transform=y.transform,delete y.transform),(v.transform||y.transformOrigin)&&(v.transformOrigin=y.transformOrigin??"50% 50%",delete y.transformOrigin),v.transform&&(v.transformBox=(h==null?void 0:h.transformBox)??"fill-box",delete y.transformBox),t!==void 0&&(y.x=t),n!==void 0&&(y.y=n),i!==void 0&&(y.scale=i),s!==void 0&&RH(y,s,o,u,!1)}const lC=()=>({...Q0(),attrs:{}}),uC=e=>typeof e=="string"&&e.toLowerCase()==="svg";function kH(e,t,n,i){const s=oe.useMemo(()=>{const o=lC();return oC(o,t,uC(i),e.transformTemplate,e.style),{...o.attrs,style:{...o.style}}},[t]);if(e.style){const o={};sC(o,e.style,e),s.style={...o,...s.style}}return s}const wH=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function J0(e){return typeof e!="string"||e.includes("-")?!1:!!(wH.indexOf(e)>-1||/[A-Z]/u.test(e))}function LH(e=!1){return(n,i,s,{latestValues:o},u)=>{const m=(J0(n)?kH:NH)(i,o,u,n),f=uH(i,typeof n=="string",e),h=n!==oe.Fragment?{...f,...m,ref:s}:{},{children:y}=i,v=oe.useMemo(()=>ln(y)?y.get():y,[y]);return oe.createElement(n,{...h,children:v})}}function Vx(e){const t=[{},{}];return e==null||e.values.forEach((n,i)=>{t[0][i]=n.get(),t[1][i]=n.getVelocity()}),t}function Z0(e,t,n,i){if(typeof t=="function"){const[s,o]=Vx(i);t=t(n!==void 0?n:e.custom,s,o)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[s,o]=Vx(i);t=t(n!==void 0?n:e.custom,s,o)}return t}function Ec(e){return ln(e)?e.get():e}function OH({scrapeMotionValuesFromProps:e,createRenderState:t},n,i,s){return{latestValues:PH(n,i,s,e),renderState:t()}}const cC=e=>(t,n)=>{const i=oe.useContext(td),s=oe.useContext(A0),o=()=>OH(e,t,i,s);return n?o():oF(o)};function PH(e,t,n,i){const s={},o=i(e,{});for(const v in o)s[v]=Ec(o[v]);let{initial:u,animate:c}=e;const m=id(e),f=tC(e);t&&f&&!m&&e.inherit!==!1&&(u===void 0&&(u=t.initial),c===void 0&&(c=t.animate));let h=n?n.initial===!1:!1;h=h||u===!1;const y=h?c:u;if(y&&typeof y!="boolean"&&!nd(y)){const v=Array.isArray(y)?y:[y];for(let S=0;S<v.length;S++){const _=Z0(e,v[S]);if(_){const{transitionEnd:I,transition:O,...D}=_;for(const H in D){let R=D[H];if(Array.isArray(R)){const V=h?R.length-1:0;R=R[V]}R!==null&&(s[H]=R)}for(const H in I)s[H]=I[H]}}}return s}function ep(e,t,n){var o;const{style:i}=e,s={};for(const u in i)(ln(i[u])||t.style&&ln(t.style[u])||rC(u,e)||((o=n==null?void 0:n.getValue(u))==null?void 0:o.liveStyle)!==void 0)&&(s[u]=i[u]);return s}const BH={useVisualState:cC({scrapeMotionValuesFromProps:ep,createRenderState:Q0})};function dC(e,t,n){const i=ep(e,t,n);for(const s in e)if(ln(e[s])||ln(t[s])){const o=Bs.indexOf(s)!==-1?"attr"+s.charAt(0).toUpperCase()+s.substring(1):s;i[o]=e[s]}return i}const FH={useVisualState:cC({scrapeMotionValuesFromProps:dC,createRenderState:lC})};function HH(e,t){return function(i,{forwardMotionProps:s}={forwardMotionProps:!1}){const u={...J0(i)?FH:BH,preloadedFeatures:e,useRender:LH(s),createVisualElement:t,Component:i};return TH(u)}}function Cl(e,t,n){const i=e.getProps();return Z0(i,t,n!==void 0?n:i.custom,e)}const Gh=e=>Array.isArray(e);function UH(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,_s(n))}function VH(e){return Gh(e)?e[e.length-1]||0:e}function zH(e,t){const n=Cl(e,t);let{transitionEnd:i={},transition:s={},...o}=n||{};o={...o,...i};for(const u in o){const c=VH(o[u]);UH(e,u,c)}}function jH(e){return!!(ln(e)&&e.add)}function qh(e,t){const n=e.getValue("willChange");if(jH(n))return n.add(t);if(!n&&$i.WillChange){const i=new $i.WillChange("auto");e.addValue("willChange",i),i.add(t)}}function fC(e){return e.props[nC]}const GH=e=>e!==null;function qH(e,{repeat:t,repeatType:n="loop"},i){const s=e.filter(GH),o=t&&n!=="loop"&&t%2===1?0:s.length-1;return s[o]}const YH={type:"spring",stiffness:500,damping:25,restSpeed:10},KH=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),$H={type:"keyframes",duration:.8},XH={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},WH=(e,{keyframes:t})=>t.length>2?$H:Fs.has(e)?e.startsWith("scale")?KH(t[1]):YH:XH;function QH({when:e,delay:t,delayChildren:n,staggerChildren:i,staggerDirection:s,repeat:o,repeatType:u,repeatDelay:c,from:m,elapsed:f,...h}){return!!Object.keys(h).length}const tp=(e,t,n,i={},s,o)=>u=>{const c=j0(i,e)||{},m=c.delay||i.delay||0;let{elapsed:f=0}=i;f=f-Si(m);const h={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:t.getVelocity(),...c,delay:-f,onUpdate:v=>{t.set(v),c.onUpdate&&c.onUpdate(v)},onComplete:()=>{u(),c.onComplete&&c.onComplete()},name:e,motionValue:t,element:o?void 0:s};QH(c)||Object.assign(h,WH(e,h)),h.duration&&(h.duration=Si(h.duration)),h.repeatDelay&&(h.repeatDelay=Si(h.repeatDelay)),h.from!==void 0&&(h.keyframes[0]=h.from);let y=!1;if((h.type===!1||h.duration===0&&!h.repeatDelay)&&(h.duration=0,h.delay===0&&(y=!0)),($i.instantAnimations||$i.skipAnimations)&&(y=!0,h.duration=0,h.delay=0),h.allowFlatten=!c.type&&!c.ease,y&&!o&&t.get()!==void 0){const v=qH(h.keyframes,c);if(v!==void 0){_t.update(()=>{h.onUpdate(v),h.onComplete()});return}}return c.isSync?new V0(h):new L9(h)};function JH({protectedKeys:e,needsAnimating:t},n){const i=e.hasOwnProperty(n)&&t[n]!==!0;return t[n]=!1,i}function mC(e,t,{delay:n=0,transitionOverride:i,type:s}={}){let{transition:o=e.getDefaultTransition(),transitionEnd:u,...c}=t;i&&(o=i);const m=[],f=s&&e.animationState&&e.animationState.getState()[s];for(const h in c){const y=e.getValue(h,e.latestValues[h]??null),v=c[h];if(v===void 0||f&&JH(f,h))continue;const S={delay:n,...j0(o||{},h)},_=y.get();if(_!==void 0&&!y.isAnimating&&!Array.isArray(v)&&v===_&&!S.velocity)continue;let I=!1;if(window.MotionHandoffAnimation){const D=fC(e);if(D){const H=window.MotionHandoffAnimation(D,h,_t);H!==null&&(S.startTime=H,I=!0)}}qh(e,h),y.start(tp(h,y,v,e.shouldReduceMotion&&zS.has(h)?{type:!1}:S,e,I));const O=y.animation;O&&m.push(O)}return u&&Promise.all(m).then(()=>{_t.update(()=>{u&&zH(e,u)})}),m}function Yh(e,t,n={}){var m;const i=Cl(e,t,n.type==="exit"?(m=e.presenceContext)==null?void 0:m.custom:void 0);let{transition:s=e.getDefaultTransition()||{}}=i||{};n.transitionOverride&&(s=n.transitionOverride);const o=i?()=>Promise.all(mC(e,i,n)):()=>Promise.resolve(),u=e.variantChildren&&e.variantChildren.size?(f=0)=>{const{delayChildren:h=0,staggerChildren:y,staggerDirection:v}=s;return ZH(e,t,h+f,y,v,n)}:()=>Promise.resolve(),{when:c}=s;if(c){const[f,h]=c==="beforeChildren"?[o,u]:[u,o];return f().then(()=>h())}else return Promise.all([o(),u(n.delay)])}function ZH(e,t,n=0,i=0,s=1,o){const u=[],c=(e.variantChildren.size-1)*i,m=s===1?(f=0)=>f*i:(f=0)=>c-f*i;return Array.from(e.variantChildren).sort(eU).forEach((f,h)=>{f.notify("AnimationStart",t),u.push(Yh(f,t,{...o,delay:n+m(h)}).then(()=>f.notify("AnimationComplete",t)))}),Promise.all(u)}function eU(e,t){return e.sortNodePosition(t)}function tU(e,t,n={}){e.notify("AnimationStart",t);let i;if(Array.isArray(t)){const s=t.map(o=>Yh(e,o,n));i=Promise.all(s)}else if(typeof t=="string")i=Yh(e,t,n);else{const s=typeof t=="function"?Cl(e,t,n.custom):t;i=Promise.all(mC(e,s,n))}return i.then(()=>{e.notify("AnimationComplete",t)})}function hC(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let i=0;i<n;i++)if(t[i]!==e[i])return!1;return!0}const nU=$0.length;function pC(e){if(!e)return;if(!e.isControllingVariants){const n=e.parent?pC(e.parent)||{}:{};return e.props.initial!==void 0&&(n.initial=e.props.initial),n}const t={};for(let n=0;n<nU;n++){const i=$0[n],s=e.props[i];(vl(s)||s===!1)&&(t[i]=s)}return t}const iU=[...K0].reverse(),aU=K0.length;function rU(e){return t=>Promise.all(t.map(({animation:n,options:i})=>tU(e,n,i)))}function sU(e){let t=rU(e),n=zx(),i=!0;const s=m=>(f,h)=>{var v;const y=Cl(e,h,m==="exit"?(v=e.presenceContext)==null?void 0:v.custom:void 0);if(y){const{transition:S,transitionEnd:_,...I}=y;f={...f,...I,..._}}return f};function o(m){t=m(e)}function u(m){const{props:f}=e,h=pC(e.parent)||{},y=[],v=new Set;let S={},_=1/0;for(let O=0;O<aU;O++){const D=iU[O],H=n[D],R=f[D]!==void 0?f[D]:h[D],V=vl(R),K=D===m?H.isActive:null;K===!1&&(_=O);let q=R===h[D]&&R!==f[D]&&V;if(q&&i&&e.manuallyAnimateOnMount&&(q=!1),H.protectedKeys={...S},!H.isActive&&K===null||!R&&!H.prevProp||nd(R)||typeof R=="boolean")continue;const ue=oU(H.prevProp,R);let me=ue||D===m&&H.isActive&&!q&&V||O>_&&V,Ae=!1;const Y=Array.isArray(R)?R:[R];let ye=Y.reduce(s(D),{});K===!1&&(ye={});const{prevResolvedValues:be={}}=H,Se={...be,...ye},pe=z=>{me=!0,v.has(z)&&(Ae=!0,v.delete(z)),H.needsAnimating[z]=!0;const w=e.getValue(z);w&&(w.liveStyle=!1)};for(const z in Se){const w=ye[z],L=be[z];if(S.hasOwnProperty(z))continue;let C=!1;Gh(w)&&Gh(L)?C=!hC(w,L):C=w!==L,C?w!=null?pe(z):v.add(z):w!==void 0&&v.has(z)?pe(z):H.protectedKeys[z]=!0}H.prevProp=R,H.prevResolvedValues=ye,H.isActive&&(S={...S,...ye}),i&&e.blockInitialAnimation&&(me=!1),me&&(!(q&&ue)||Ae)&&y.push(...Y.map(z=>({animation:z,options:{type:D}})))}if(v.size){const O={};if(typeof f.initial!="boolean"){const D=Cl(e,Array.isArray(f.initial)?f.initial[0]:f.initial);D&&D.transition&&(O.transition=D.transition)}v.forEach(D=>{const H=e.getBaseTarget(D),R=e.getValue(D);R&&(R.liveStyle=!0),O[D]=H??null}),y.push({animation:O})}let I=!!y.length;return i&&(f.initial===!1||f.initial===f.animate)&&!e.manuallyAnimateOnMount&&(I=!1),i=!1,I?t(y):Promise.resolve()}function c(m,f){var y;if(n[m].isActive===f)return Promise.resolve();(y=e.variantChildren)==null||y.forEach(v=>{var S;return(S=v.animationState)==null?void 0:S.setActive(m,f)}),n[m].isActive=f;const h=u(m);for(const v in n)n[v].protectedKeys={};return h}return{animateChanges:u,setActive:c,setAnimateFunction:o,getState:()=>n,reset:()=>{n=zx(),i=!0}}}function oU(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!hC(t,e):!1}function lr(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function zx(){return{animate:lr(!0),whileInView:lr(),whileHover:lr(),whileTap:lr(),whileDrag:lr(),whileFocus:lr(),exit:lr()}}class Ba{constructor(t){this.isMounted=!1,this.node=t}update(){}}class lU extends Ba{constructor(t){super(t),t.animationState||(t.animationState=sU(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();nd(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:n}=this.node.prevProps||{};t!==n&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),(t=this.unmountControls)==null||t.call(this)}}let uU=0;class cU extends Ba{constructor(){super(...arguments),this.id=uU++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:n}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===i)return;const s=this.node.animationState.setActive("exit",!t);n&&!t&&s.then(()=>{n(this.id)})}mount(){const{register:t,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const dU={animation:{Feature:lU},exit:{Feature:cU}};function Al(e,t,n,i={passive:!0}){return e.addEventListener(t,n,i),()=>e.removeEventListener(t,n)}function Bl(e){return{point:{x:e.pageX,y:e.pageY}}}const fU=e=>t=>Y0(t)&&e(t,Bl(t));function cl(e,t,n,i){return Al(e,t,fU(n),i)}function gC({top:e,left:t,right:n,bottom:i}){return{x:{min:t,max:n},y:{min:e,max:i}}}function mU({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function hU(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),i=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:i.y,right:i.x}}const yC=1e-4,pU=1-yC,gU=1+yC,TC=.01,yU=0-TC,TU=0+TC;function hn(e){return e.max-e.min}function bU(e,t,n){return Math.abs(e-t)<=n}function jx(e,t,n,i=.5){e.origin=i,e.originPoint=At(t.min,t.max,e.origin),e.scale=hn(n)/hn(t),e.translate=At(n.min,n.max,e.origin)-e.originPoint,(e.scale>=pU&&e.scale<=gU||isNaN(e.scale))&&(e.scale=1),(e.translate>=yU&&e.translate<=TU||isNaN(e.translate))&&(e.translate=0)}function dl(e,t,n,i){jx(e.x,t.x,n.x,i?i.originX:void 0),jx(e.y,t.y,n.y,i?i.originY:void 0)}function Gx(e,t,n){e.min=n.min+t.min,e.max=e.min+hn(t)}function xU(e,t,n){Gx(e.x,t.x,n.x),Gx(e.y,t.y,n.y)}function qx(e,t,n){e.min=t.min-n.min,e.max=e.min+hn(t)}function fl(e,t,n){qx(e.x,t.x,n.x),qx(e.y,t.y,n.y)}const Yx=()=>({translate:0,scale:1,origin:0,originPoint:0}),Ts=()=>({x:Yx(),y:Yx()}),Kx=()=>({min:0,max:0}),Lt=()=>({x:Kx(),y:Kx()});function Qn(e){return[e("x"),e("y")]}function Qm(e){return e===void 0||e===1}function Kh({scale:e,scaleX:t,scaleY:n}){return!Qm(e)||!Qm(t)||!Qm(n)}function cr(e){return Kh(e)||bC(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function bC(e){return $x(e.x)||$x(e.y)}function $x(e){return e&&e!=="0%"}function Fc(e,t,n){const i=e-n,s=t*i;return n+s}function Xx(e,t,n,i,s){return s!==void 0&&(e=Fc(e,s,i)),Fc(e,n,i)+t}function $h(e,t=0,n=1,i,s){e.min=Xx(e.min,t,n,i,s),e.max=Xx(e.max,t,n,i,s)}function xC(e,{x:t,y:n}){$h(e.x,t.translate,t.scale,t.originPoint),$h(e.y,n.translate,n.scale,n.originPoint)}const Wx=.999999999999,Qx=1.0000000000001;function EU(e,t,n,i=!1){const s=n.length;if(!s)return;t.x=t.y=1;let o,u;for(let c=0;c<s;c++){o=n[c],u=o.projectionDelta;const{visualElement:m}=o.options;m&&m.props.style&&m.props.style.display==="contents"||(i&&o.options.layoutScroll&&o.scroll&&o!==o.root&&xs(e,{x:-o.scroll.offset.x,y:-o.scroll.offset.y}),u&&(t.x*=u.x.scale,t.y*=u.y.scale,xC(e,u)),i&&cr(o.latestValues)&&xs(e,o.latestValues))}t.x<Qx&&t.x>Wx&&(t.x=1),t.y<Qx&&t.y>Wx&&(t.y=1)}function bs(e,t){e.min=e.min+t,e.max=e.max+t}function Jx(e,t,n,i,s=.5){const o=At(e.min,e.max,s);$h(e,t,n,o,i)}function xs(e,t){Jx(e.x,t.x,t.scaleX,t.scale,t.originX),Jx(e.y,t.y,t.scaleY,t.scale,t.originY)}function EC(e,t){return gC(hU(e.getBoundingClientRect(),t))}function vU(e,t,n){const i=EC(e,n),{scroll:s}=t;return s&&(bs(i.x,s.offset.x),bs(i.y,s.offset.y)),i}const vC=({current:e})=>e?e.ownerDocument.defaultView:null,Zx=(e,t)=>Math.abs(e-t);function SU(e,t){const n=Zx(e.x,t.x),i=Zx(e.y,t.y);return Math.sqrt(n**2+i**2)}class SC{constructor(t,n,{transformPagePoint:i,contextWindow:s,dragSnapToOrigin:o=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const y=Zm(this.lastMoveEventInfo,this.history),v=this.startEvent!==null,S=SU(y.offset,{x:0,y:0})>=3;if(!v&&!S)return;const{point:_}=y,{timestamp:I}=en;this.history.push({..._,timestamp:I});const{onStart:O,onMove:D}=this.handlers;v||(O&&O(this.lastMoveEvent,y),this.startEvent=this.lastMoveEvent),D&&D(this.lastMoveEvent,y)},this.handlePointerMove=(y,v)=>{this.lastMoveEvent=y,this.lastMoveEventInfo=Jm(v,this.transformPagePoint),_t.update(this.updatePoint,!0)},this.handlePointerUp=(y,v)=>{this.end();const{onEnd:S,onSessionEnd:_,resumeAnimation:I}=this.handlers;if(this.dragSnapToOrigin&&I&&I(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const O=Zm(y.type==="pointercancel"?this.lastMoveEventInfo:Jm(v,this.transformPagePoint),this.history);this.startEvent&&S&&S(y,O),_&&_(y,O)},!Y0(t))return;this.dragSnapToOrigin=o,this.handlers=n,this.transformPagePoint=i,this.contextWindow=s||window;const u=Bl(t),c=Jm(u,this.transformPagePoint),{point:m}=c,{timestamp:f}=en;this.history=[{...m,timestamp:f}];const{onSessionStart:h}=n;h&&h(t,Zm(c,this.history)),this.removeListeners=Ll(cl(this.contextWindow,"pointermove",this.handlePointerMove),cl(this.contextWindow,"pointerup",this.handlePointerUp),cl(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),Ma(this.updatePoint)}}function Jm(e,t){return t?{point:t(e.point)}:e}function eE(e,t){return{x:e.x-t.x,y:e.y-t.y}}function Zm({point:e},t){return{point:e,delta:eE(e,CC(t)),offset:eE(e,CU(t)),velocity:AU(t,.1)}}function CU(e){return e[0]}function CC(e){return e[e.length-1]}function AU(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,i=null;const s=CC(e);for(;n>=0&&(i=e[n],!(s.timestamp-i.timestamp>Si(t)));)n--;if(!i)return{x:0,y:0};const o=Ci(s.timestamp-i.timestamp);if(o===0)return{x:0,y:0};const u={x:(s.x-i.x)/o,y:(s.y-i.y)/o};return u.x===1/0&&(u.x=0),u.y===1/0&&(u.y=0),u}function _U(e,{min:t,max:n},i){return t!==void 0&&e<t?e=i?At(t,e,i.min):Math.max(e,t):n!==void 0&&e>n&&(e=i?At(n,e,i.max):Math.min(e,n)),e}function tE(e,t,n){return{min:t!==void 0?e.min+t:void 0,max:n!==void 0?e.max+n-(e.max-e.min):void 0}}function IU(e,{top:t,left:n,bottom:i,right:s}){return{x:tE(e.x,n,s),y:tE(e.y,t,i)}}function nE(e,t){let n=t.min-e.min,i=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,i]=[i,n]),{min:n,max:i}}function NU(e,t){return{x:nE(e.x,t.x),y:nE(e.y,t.y)}}function MU(e,t){let n=.5;const i=hn(e),s=hn(t);return s>i?n=bl(t.min,t.max-i,e.min):i>s&&(n=bl(e.min,e.max-s,t.min)),Ki(0,1,n)}function DU(e,t){const n={};return t.min!==void 0&&(n.min=t.min-e.min),t.max!==void 0&&(n.max=t.max-e.min),n}const Xh=.35;function RU(e=Xh){return e===!1?e=0:e===!0&&(e=Xh),{x:iE(e,"left","right"),y:iE(e,"top","bottom")}}function iE(e,t,n){return{min:aE(e,t),max:aE(e,n)}}function aE(e,t){return typeof e=="number"?e:e[t]||0}const kU=new WeakMap;class wU{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Lt(),this.visualElement=t}start(t,{snapToCursor:n=!1}={}){const{presenceContext:i}=this.visualElement;if(i&&i.isPresent===!1)return;const s=h=>{const{dragSnapToOrigin:y}=this.getProps();y?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Bl(h).point)},o=(h,y)=>{const{drag:v,dragPropagation:S,onDragStart:_}=this.getProps();if(v&&!S&&(this.openDragLock&&this.openDragLock(),this.openDragLock=W9(v),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Qn(O=>{let D=this.getAxisMotionValue(O).get()||0;if(Ai.test(D)){const{projection:H}=this.visualElement;if(H&&H.layout){const R=H.layout.layoutBox[O];R&&(D=hn(R)*(parseFloat(D)/100))}}this.originPoint[O]=D}),_&&_t.postRender(()=>_(h,y)),qh(this.visualElement,"transform");const{animationState:I}=this.visualElement;I&&I.setActive("whileDrag",!0)},u=(h,y)=>{const{dragPropagation:v,dragDirectionLock:S,onDirectionLock:_,onDrag:I}=this.getProps();if(!v&&!this.openDragLock)return;const{offset:O}=y;if(S&&this.currentDirection===null){this.currentDirection=LU(O),this.currentDirection!==null&&_&&_(this.currentDirection);return}this.updateAxis("x",y.point,O),this.updateAxis("y",y.point,O),this.visualElement.render(),I&&I(h,y)},c=(h,y)=>this.stop(h,y),m=()=>Qn(h=>{var y;return this.getAnimationState(h)==="paused"&&((y=this.getAxisMotionValue(h).animation)==null?void 0:y.play())}),{dragSnapToOrigin:f}=this.getProps();this.panSession=new SC(t,{onSessionStart:s,onStart:o,onMove:u,onSessionEnd:c,resumeAnimation:m},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:f,contextWindow:vC(this.visualElement)})}stop(t,n){const i=this.isDragging;if(this.cancel(),!i)return;const{velocity:s}=n;this.startAnimation(s);const{onDragEnd:o}=this.getProps();o&&_t.postRender(()=>o(t,n))}cancel(){this.isDragging=!1;const{projection:t,animationState:n}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:i}=this.getProps();!i&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(t,n,i){const{drag:s}=this.getProps();if(!i||!cc(t,s,this.currentDirection))return;const o=this.getAxisMotionValue(t);let u=this.originPoint[t]+i[t];this.constraints&&this.constraints[t]&&(u=_U(u,this.constraints[t],this.elastic[t])),o.set(u)}resolveConstraints(){var o;const{dragConstraints:t,dragElastic:n}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(o=this.visualElement.projection)==null?void 0:o.layout,s=this.constraints;t&&ys(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&i?this.constraints=IU(i.layoutBox,t):this.constraints=!1,this.elastic=RU(n),s!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&Qn(u=>{this.constraints!==!1&&this.getAxisMotionValue(u)&&(this.constraints[u]=DU(i.layoutBox[u],this.constraints[u]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:n}=this.getProps();if(!t||!ys(t))return!1;const i=t.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const o=vU(i,s.root,this.visualElement.getTransformPagePoint());let u=NU(s.layout.layoutBox,o);if(n){const c=n(mU(u));this.hasMutatedConstraints=!!c,c&&(u=gC(c))}return u}startAnimation(t){const{drag:n,dragMomentum:i,dragElastic:s,dragTransition:o,dragSnapToOrigin:u,onDragTransitionEnd:c}=this.getProps(),m=this.constraints||{},f=Qn(h=>{if(!cc(h,n,this.currentDirection))return;let y=m&&m[h]||{};u&&(y={min:0,max:0});const v=s?200:1e6,S=s?40:1e7,_={type:"inertia",velocity:i?t[h]:0,bounceStiffness:v,bounceDamping:S,timeConstant:750,restDelta:1,restSpeed:10,...o,...y};return this.startAxisValueAnimation(h,_)});return Promise.all(f).then(c)}startAxisValueAnimation(t,n){const i=this.getAxisMotionValue(t);return qh(this.visualElement,t),i.start(tp(t,i,0,n,this.visualElement,!1))}stopAnimation(){Qn(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){Qn(t=>{var n;return(n=this.getAxisMotionValue(t).animation)==null?void 0:n.pause()})}getAnimationState(t){var n;return(n=this.getAxisMotionValue(t).animation)==null?void 0:n.state}getAxisMotionValue(t){const n=`_drag${t.toUpperCase()}`,i=this.visualElement.getProps(),s=i[n];return s||this.visualElement.getValue(t,(i.initial?i.initial[t]:void 0)||0)}snapToCursor(t){Qn(n=>{const{drag:i}=this.getProps();if(!cc(n,i,this.currentDirection))return;const{projection:s}=this.visualElement,o=this.getAxisMotionValue(n);if(s&&s.layout){const{min:u,max:c}=s.layout.layoutBox[n];o.set(t[n]-At(u,c,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:n}=this.getProps(),{projection:i}=this.visualElement;if(!ys(n)||!i||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};Qn(u=>{const c=this.getAxisMotionValue(u);if(c&&this.constraints!==!1){const m=c.get();s[u]=MU({min:m,max:m},this.constraints[u])}});const{transformTemplate:o}=this.visualElement.getProps();this.visualElement.current.style.transform=o?o({},""):"none",i.root&&i.root.updateScroll(),i.updateLayout(),this.resolveConstraints(),Qn(u=>{if(!cc(u,t,null))return;const c=this.getAxisMotionValue(u),{min:m,max:f}=this.constraints[u];c.set(At(m,f,s[u]))})}addListeners(){if(!this.visualElement.current)return;kU.set(this.visualElement,this);const t=this.visualElement.current,n=cl(t,"pointerdown",m=>{const{drag:f,dragListener:h=!0}=this.getProps();f&&h&&this.start(m)}),i=()=>{const{dragConstraints:m}=this.getProps();ys(m)&&m.current&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,o=s.addEventListener("measure",i);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),_t.read(i);const u=Al(window,"resize",()=>this.scalePositionWithinConstraints()),c=s.addEventListener("didUpdate",({delta:m,hasLayoutChanged:f})=>{this.isDragging&&f&&(Qn(h=>{const y=this.getAxisMotionValue(h);y&&(this.originPoint[h]+=m[h].translate,y.set(y.get()+m[h].translate))}),this.visualElement.render())});return()=>{u(),n(),o(),c&&c()}}getProps(){const t=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:i=!1,dragPropagation:s=!1,dragConstraints:o=!1,dragElastic:u=Xh,dragMomentum:c=!0}=t;return{...t,drag:n,dragDirectionLock:i,dragPropagation:s,dragConstraints:o,dragElastic:u,dragMomentum:c}}}function cc(e,t,n){return(t===!0||t===e)&&(n===null||n===e)}function LU(e,t=10){let n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}class OU extends Ba{constructor(t){super(t),this.removeGroupControls=ti,this.removeListeners=ti,this.controls=new wU(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||ti}unmount(){this.removeGroupControls(),this.removeListeners()}}const rE=e=>(t,n)=>{e&&_t.postRender(()=>e(t,n))};class PU extends Ba{constructor(){super(...arguments),this.removePointerDownListener=ti}onPointerDown(t){this.session=new SC(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:vC(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:n,onPan:i,onPanEnd:s}=this.node.getProps();return{onSessionStart:rE(t),onStart:rE(n),onMove:i,onEnd:(o,u)=>{delete this.session,s&&_t.postRender(()=>s(o,u))}}}mount(){this.removePointerDownListener=cl(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const vc={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function sE(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const Xo={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(Fe.test(e))e=parseFloat(e);else return e;const n=sE(e,t.target.x),i=sE(e,t.target.y);return`${n}% ${i}%`}},BU={correct:(e,{treeScale:t,projectionDelta:n})=>{const i=e,s=Da.parse(e);if(s.length>5)return i;const o=Da.createTransformer(e),u=typeof s[0]!="number"?1:0,c=n.x.scale*t.x,m=n.y.scale*t.y;s[0+u]/=c,s[1+u]/=m;const f=At(c,m,.5);return typeof s[2+u]=="number"&&(s[2+u]/=f),typeof s[3+u]=="number"&&(s[3+u]/=f),o(s)}};class FU extends oe.Component{componentDidMount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:i,layoutId:s}=this.props,{projection:o}=t;vH(HU),o&&(n.group&&n.group.add(o),i&&i.register&&s&&i.register(o),o.root.didUpdate(),o.addEventListener("animationComplete",()=>{this.safeToRemove()}),o.setOptions({...o.options,onExitComplete:()=>this.safeToRemove()})),vc.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:n,visualElement:i,drag:s,isPresent:o}=this.props,{projection:u}=i;return u&&(u.isPresent=o,s||t.layoutDependency!==n||n===void 0||t.isPresent!==o?u.willUpdate():this.safeToRemove(),t.isPresent!==o&&(o?u.promote():u.relegate()||_t.postRender(()=>{const c=u.getStack();(!c||!c.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),q0.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:i}=this.props,{projection:s}=t;s&&(s.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(s),i&&i.deregister&&i.deregister(s))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function AC(e){const[t,n]=rH(),i=oe.useContext(oS);return g.jsx(FU,{...e,layoutGroup:i,switchLayoutGroup:oe.useContext(iC),isPresent:t,safeToRemove:n})}const HU={borderRadius:{...Xo,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Xo,borderTopRightRadius:Xo,borderBottomLeftRadius:Xo,borderBottomRightRadius:Xo,boxShadow:BU};function UU(e,t,n){const i=ln(e)?e:_s(e);return i.start(tp("",i,t,n)),i.animation}const VU=(e,t)=>e.depth-t.depth;class zU{constructor(){this.children=[],this.isDirty=!1}add(t){_0(this.children,t),this.isDirty=!0}remove(t){I0(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(VU),this.isDirty=!1,this.children.forEach(t)}}function jU(e,t){const n=_n.now(),i=({timestamp:s})=>{const o=s-n;o>=t&&(Ma(i),e(o-t))};return _t.setup(i,!0),()=>Ma(i)}const _C=["TopLeft","TopRight","BottomLeft","BottomRight"],GU=_C.length,oE=e=>typeof e=="string"?parseFloat(e):e,lE=e=>typeof e=="number"||Fe.test(e);function qU(e,t,n,i,s,o){s?(e.opacity=At(0,n.opacity??1,YU(i)),e.opacityExit=At(t.opacity??1,0,KU(i))):o&&(e.opacity=At(t.opacity??1,n.opacity??1,i));for(let u=0;u<GU;u++){const c=`border${_C[u]}Radius`;let m=uE(t,c),f=uE(n,c);if(m===void 0&&f===void 0)continue;m||(m=0),f||(f=0),m===0||f===0||lE(m)===lE(f)?(e[c]=Math.max(At(oE(m),oE(f),i),0),(Ai.test(f)||Ai.test(m))&&(e[c]+="%")):e[c]=f}(t.rotate||n.rotate)&&(e.rotate=At(t.rotate||0,n.rotate||0,i))}function uE(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const YU=IC(0,.5,TS),KU=IC(.5,.95,ti);function IC(e,t,n){return i=>i<e?0:i>t?1:n(bl(e,t,i))}function cE(e,t){e.min=t.min,e.max=t.max}function Wn(e,t){cE(e.x,t.x),cE(e.y,t.y)}function dE(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function fE(e,t,n,i,s){return e-=t,e=Fc(e,1/n,i),s!==void 0&&(e=Fc(e,1/s,i)),e}function $U(e,t=0,n=1,i=.5,s,o=e,u=e){if(Ai.test(t)&&(t=parseFloat(t),t=At(u.min,u.max,t/100)-u.min),typeof t!="number")return;let c=At(o.min,o.max,i);e===o&&(c-=t),e.min=fE(e.min,t,n,c,s),e.max=fE(e.max,t,n,c,s)}function mE(e,t,[n,i,s],o,u){$U(e,t[n],t[i],t[s],t.scale,o,u)}const XU=["x","scaleX","originX"],WU=["y","scaleY","originY"];function hE(e,t,n,i){mE(e.x,t,XU,n?n.x:void 0,i?i.x:void 0),mE(e.y,t,WU,n?n.y:void 0,i?i.y:void 0)}function pE(e){return e.translate===0&&e.scale===1}function NC(e){return pE(e.x)&&pE(e.y)}function gE(e,t){return e.min===t.min&&e.max===t.max}function QU(e,t){return gE(e.x,t.x)&&gE(e.y,t.y)}function yE(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function MC(e,t){return yE(e.x,t.x)&&yE(e.y,t.y)}function TE(e){return hn(e.x)/hn(e.y)}function bE(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class JU{constructor(){this.members=[]}add(t){_0(this.members,t),t.scheduleRender()}remove(t){if(I0(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(t){const n=this.members.findIndex(s=>t===s);if(n===0)return!1;let i;for(let s=n;s>=0;s--){const o=this.members[s];if(o.isPresent!==!1){i=o;break}}return i?(this.promote(i),!0):!1}promote(t,n){const i=this.lead;if(t!==i&&(this.prevLead=i,this.lead=t,t.show(),i)){i.instance&&i.scheduleRender(),t.scheduleRender(),t.resumeFrom=i,n&&(t.resumeFrom.preserveOpacity=!0),i.snapshot&&(t.snapshot=i.snapshot,t.snapshot.latestValues=i.animationValues||i.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:s}=t.options;s===!1&&i.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:n,resumingFrom:i}=t;n.onExitComplete&&n.onExitComplete(),i&&i.options.onExitComplete&&i.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function ZU(e,t,n){let i="";const s=e.x.translate/t.x,o=e.y.translate/t.y,u=(n==null?void 0:n.z)||0;if((s||o||u)&&(i=`translate3d(${s}px, ${o}px, ${u}px) `),(t.x!==1||t.y!==1)&&(i+=`scale(${1/t.x}, ${1/t.y}) `),n){const{transformPerspective:f,rotate:h,rotateX:y,rotateY:v,skewX:S,skewY:_}=n;f&&(i=`perspective(${f}px) ${i}`),h&&(i+=`rotate(${h}deg) `),y&&(i+=`rotateX(${y}deg) `),v&&(i+=`rotateY(${v}deg) `),S&&(i+=`skewX(${S}deg) `),_&&(i+=`skewY(${_}deg) `)}const c=e.x.scale*t.x,m=e.y.scale*t.y;return(c!==1||m!==1)&&(i+=`scale(${c}, ${m})`),i||"none"}const eh=["","X","Y","Z"],eV={visibility:"hidden"},tV=1e3;let nV=0;function th(e,t,n,i){const{latestValues:s}=t;s[e]&&(n[e]=s[e],t.setStaticValue(e,0),i&&(i[e]=0))}function DC(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const n=fC(t);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:s,layoutId:o}=e.options;window.MotionCancelOptimisedAnimation(n,"transform",_t,!(s||o))}const{parent:i}=e;i&&!i.hasCheckedOptimisedAppear&&DC(i)}function RC({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:i,resetTransform:s}){return class{constructor(u={},c=t==null?void 0:t()){this.id=nV++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(rV),this.nodes.forEach(cV),this.nodes.forEach(dV),this.nodes.forEach(sV)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=u,this.root=c?c.root||c:this,this.path=c?[...c.path,c]:[],this.parent=c,this.depth=c?c.depth+1:0;for(let m=0;m<this.path.length;m++)this.path[m].shouldResetTransform=!0;this.root===this&&(this.nodes=new zU)}addEventListener(u,c){return this.eventHandlers.has(u)||this.eventHandlers.set(u,new D0),this.eventHandlers.get(u).add(c)}notifyListeners(u,...c){const m=this.eventHandlers.get(u);m&&m.notify(...c)}hasListeners(u){return this.eventHandlers.has(u)}mount(u){if(this.instance)return;this.isSVG=QS(u)&&!nH(u),this.instance=u;const{layoutId:c,layout:m,visualElement:f}=this.options;if(f&&!f.current&&f.mount(u),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(m||c)&&(this.isLayoutDirty=!0),e){let h;const y=()=>this.root.updateBlockedByResize=!1;e(u,()=>{this.root.updateBlockedByResize=!0,h&&h(),h=jU(y,250),vc.hasAnimatedSinceResize&&(vc.hasAnimatedSinceResize=!1,this.nodes.forEach(EE))})}c&&this.root.registerSharedNode(c,this),this.options.animate!==!1&&f&&(c||m)&&this.addEventListener("didUpdate",({delta:h,hasLayoutChanged:y,hasRelativeLayoutChanged:v,layout:S})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const _=this.options.transition||f.getDefaultTransition()||gV,{onLayoutAnimationStart:I,onLayoutAnimationComplete:O}=f.getProps(),D=!this.targetLayout||!MC(this.targetLayout,S),H=!y&&v;if(this.options.layoutRoot||this.resumeFrom||H||y&&(D||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const R={...j0(_,"layout"),onPlay:I,onComplete:O};(f.shouldReduceMotion||this.options.layoutRoot)&&(R.delay=0,R.type=!1),this.startAnimation(R),this.setAnimationOrigin(h,H)}else y||EE(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=S})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const u=this.getStack();u&&u.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Ma(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(fV),this.animationId++)}getTransformTemplate(){const{visualElement:u}=this.options;return u&&u.getProps().transformTemplate}willUpdate(u=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&DC(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let h=0;h<this.path.length;h++){const y=this.path[h];y.shouldResetTransform=!0,y.updateScroll("snapshot"),y.options.layoutRoot&&y.willUpdate(!1)}const{layoutId:c,layout:m}=this.options;if(c===void 0&&!m)return;const f=this.getTransformTemplate();this.prevTransformTemplateValue=f?f(this.latestValues,""):void 0,this.updateSnapshot(),u&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(xE);return}this.isUpdating||this.nodes.forEach(lV),this.isUpdating=!1,this.nodes.forEach(uV),this.nodes.forEach(iV),this.nodes.forEach(aV),this.clearAllSnapshots();const c=_n.now();en.delta=Ki(0,1e3/60,c-en.timestamp),en.timestamp=c,en.isProcessing=!0,qm.update.process(en),qm.preRender.process(en),qm.render.process(en),en.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,q0.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(oV),this.sharedNodes.forEach(mV)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,_t.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){_t.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!hn(this.snapshot.measuredBox.x)&&!hn(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let m=0;m<this.path.length;m++)this.path[m].updateScroll();const u=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Lt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:c}=this.options;c&&c.notify("LayoutMeasure",this.layout.layoutBox,u?u.layoutBox:void 0)}updateScroll(u="measure"){let c=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===u&&(c=!1),c&&this.instance){const m=i(this.instance);this.scroll={animationId:this.root.animationId,phase:u,isRoot:m,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:m}}}resetTransform(){if(!s)return;const u=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,c=this.projectionDelta&&!NC(this.projectionDelta),m=this.getTransformTemplate(),f=m?m(this.latestValues,""):void 0,h=f!==this.prevTransformTemplateValue;u&&this.instance&&(c||cr(this.latestValues)||h)&&(s(this.instance,f),this.shouldResetTransform=!1,this.scheduleRender())}measure(u=!0){const c=this.measurePageBox();let m=this.removeElementScroll(c);return u&&(m=this.removeTransform(m)),yV(m),{animationId:this.root.animationId,measuredBox:c,layoutBox:m,latestValues:{},source:this.id}}measurePageBox(){var f;const{visualElement:u}=this.options;if(!u)return Lt();const c=u.measureViewportBox();if(!(((f=this.scroll)==null?void 0:f.wasRoot)||this.path.some(TV))){const{scroll:h}=this.root;h&&(bs(c.x,h.offset.x),bs(c.y,h.offset.y))}return c}removeElementScroll(u){var m;const c=Lt();if(Wn(c,u),(m=this.scroll)!=null&&m.wasRoot)return c;for(let f=0;f<this.path.length;f++){const h=this.path[f],{scroll:y,options:v}=h;h!==this.root&&y&&v.layoutScroll&&(y.wasRoot&&Wn(c,u),bs(c.x,y.offset.x),bs(c.y,y.offset.y))}return c}applyTransform(u,c=!1){const m=Lt();Wn(m,u);for(let f=0;f<this.path.length;f++){const h=this.path[f];!c&&h.options.layoutScroll&&h.scroll&&h!==h.root&&xs(m,{x:-h.scroll.offset.x,y:-h.scroll.offset.y}),cr(h.latestValues)&&xs(m,h.latestValues)}return cr(this.latestValues)&&xs(m,this.latestValues),m}removeTransform(u){const c=Lt();Wn(c,u);for(let m=0;m<this.path.length;m++){const f=this.path[m];if(!f.instance||!cr(f.latestValues))continue;Kh(f.latestValues)&&f.updateSnapshot();const h=Lt(),y=f.measurePageBox();Wn(h,y),hE(c,f.latestValues,f.snapshot?f.snapshot.layoutBox:void 0,h)}return cr(this.latestValues)&&hE(c,this.latestValues),c}setTargetDelta(u){this.targetDelta=u,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(u){this.options={...this.options,...u,crossfade:u.crossfade!==void 0?u.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==en.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(u=!1){var v;const c=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=c.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=c.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=c.isSharedProjectionDirty);const m=!!this.resumingFrom||this!==c;if(!(u||m&&this.isSharedProjectionDirty||this.isProjectionDirty||(v=this.parent)!=null&&v.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:h,layoutId:y}=this.options;if(!(!this.layout||!(h||y))){if(this.resolvedRelativeTargetAt=en.timestamp,!this.targetDelta&&!this.relativeTarget){const S=this.getClosestProjectingParent();S&&S.layout&&this.animationProgress!==1?(this.relativeParent=S,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Lt(),this.relativeTargetOrigin=Lt(),fl(this.relativeTargetOrigin,this.layout.layoutBox,S.layout.layoutBox),Wn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Lt(),this.targetWithTransforms=Lt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),xU(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Wn(this.target,this.layout.layoutBox),xC(this.target,this.targetDelta)):Wn(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const S=this.getClosestProjectingParent();S&&!!S.resumingFrom==!!this.resumingFrom&&!S.options.layoutScroll&&S.target&&this.animationProgress!==1?(this.relativeParent=S,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Lt(),this.relativeTargetOrigin=Lt(),fl(this.relativeTargetOrigin,this.target,S.target),Wn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||Kh(this.parent.latestValues)||bC(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var _;const u=this.getLead(),c=!!this.resumingFrom||this!==u;let m=!0;if((this.isProjectionDirty||(_=this.parent)!=null&&_.isProjectionDirty)&&(m=!1),c&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(m=!1),this.resolvedRelativeTargetAt===en.timestamp&&(m=!1),m)return;const{layout:f,layoutId:h}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(f||h))return;Wn(this.layoutCorrected,this.layout.layoutBox);const y=this.treeScale.x,v=this.treeScale.y;EU(this.layoutCorrected,this.treeScale,this.path,c),u.layout&&!u.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(u.target=u.layout.layoutBox,u.targetWithTransforms=Lt());const{target:S}=u;if(!S){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(dE(this.prevProjectionDelta.x,this.projectionDelta.x),dE(this.prevProjectionDelta.y,this.projectionDelta.y)),dl(this.projectionDelta,this.layoutCorrected,S,this.latestValues),(this.treeScale.x!==y||this.treeScale.y!==v||!bE(this.projectionDelta.x,this.prevProjectionDelta.x)||!bE(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",S))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(u=!0){var c;if((c=this.options.visualElement)==null||c.scheduleRender(),u){const m=this.getStack();m&&m.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Ts(),this.projectionDelta=Ts(),this.projectionDeltaWithTransform=Ts()}setAnimationOrigin(u,c=!1){const m=this.snapshot,f=m?m.latestValues:{},h={...this.latestValues},y=Ts();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!c;const v=Lt(),S=m?m.source:void 0,_=this.layout?this.layout.source:void 0,I=S!==_,O=this.getStack(),D=!O||O.members.length<=1,H=!!(I&&!D&&this.options.crossfade===!0&&!this.path.some(pV));this.animationProgress=0;let R;this.mixTargetDelta=V=>{const K=V/1e3;vE(y.x,u.x,K),vE(y.y,u.y,K),this.setTargetDelta(y),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(fl(v,this.layout.layoutBox,this.relativeParent.layout.layoutBox),hV(this.relativeTarget,this.relativeTargetOrigin,v,K),R&&QU(this.relativeTarget,R)&&(this.isProjectionDirty=!1),R||(R=Lt()),Wn(R,this.relativeTarget)),I&&(this.animationValues=h,qU(h,f,this.latestValues,K,H,D)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=K},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(u){var c,m,f;this.notifyListeners("animationStart"),(c=this.currentAnimation)==null||c.stop(),(f=(m=this.resumingFrom)==null?void 0:m.currentAnimation)==null||f.stop(),this.pendingAnimation&&(Ma(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=_t.update(()=>{vc.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=_s(0)),this.currentAnimation=UU(this.motionValue,[0,1e3],{...u,velocity:0,isSync:!0,onUpdate:h=>{this.mixTargetDelta(h),u.onUpdate&&u.onUpdate(h)},onStop:()=>{},onComplete:()=>{u.onComplete&&u.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const u=this.getStack();u&&u.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(tV),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const u=this.getLead();let{targetWithTransforms:c,target:m,layout:f,latestValues:h}=u;if(!(!c||!m||!f)){if(this!==u&&this.layout&&f&&kC(this.options.animationType,this.layout.layoutBox,f.layoutBox)){m=this.target||Lt();const y=hn(this.layout.layoutBox.x);m.x.min=u.target.x.min,m.x.max=m.x.min+y;const v=hn(this.layout.layoutBox.y);m.y.min=u.target.y.min,m.y.max=m.y.min+v}Wn(c,m),xs(c,h),dl(this.projectionDeltaWithTransform,this.layoutCorrected,c,h)}}registerSharedNode(u,c){this.sharedNodes.has(u)||this.sharedNodes.set(u,new JU),this.sharedNodes.get(u).add(c);const f=c.options.initialPromotionConfig;c.promote({transition:f?f.transition:void 0,preserveFollowOpacity:f&&f.shouldPreserveFollowOpacity?f.shouldPreserveFollowOpacity(c):void 0})}isLead(){const u=this.getStack();return u?u.lead===this:!0}getLead(){var c;const{layoutId:u}=this.options;return u?((c=this.getStack())==null?void 0:c.lead)||this:this}getPrevLead(){var c;const{layoutId:u}=this.options;return u?(c=this.getStack())==null?void 0:c.prevLead:void 0}getStack(){const{layoutId:u}=this.options;if(u)return this.root.sharedNodes.get(u)}promote({needsReset:u,transition:c,preserveFollowOpacity:m}={}){const f=this.getStack();f&&f.promote(this,m),u&&(this.projectionDelta=void 0,this.needsReset=!0),c&&this.setOptions({transition:c})}relegate(){const u=this.getStack();return u?u.relegate(this):!1}resetSkewAndRotation(){const{visualElement:u}=this.options;if(!u)return;let c=!1;const{latestValues:m}=u;if((m.z||m.rotate||m.rotateX||m.rotateY||m.rotateZ||m.skewX||m.skewY)&&(c=!0),!c)return;const f={};m.z&&th("z",u,f,this.animationValues);for(let h=0;h<eh.length;h++)th(`rotate${eh[h]}`,u,f,this.animationValues),th(`skew${eh[h]}`,u,f,this.animationValues);u.render();for(const h in f)u.setStaticValue(h,f[h]),this.animationValues&&(this.animationValues[h]=f[h]);u.scheduleRender()}getProjectionStyles(u){if(!this.instance||this.isSVG)return;if(!this.isVisible)return eV;const c={visibility:""},m=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,c.opacity="",c.pointerEvents=Ec(u==null?void 0:u.pointerEvents)||"",c.transform=m?m(this.latestValues,""):"none",c;const f=this.getLead();if(!this.projectionDelta||!this.layout||!f.target){const S={};return this.options.layoutId&&(S.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,S.pointerEvents=Ec(u==null?void 0:u.pointerEvents)||""),this.hasProjected&&!cr(this.latestValues)&&(S.transform=m?m({},""):"none",this.hasProjected=!1),S}const h=f.animationValues||f.latestValues;this.applyTransformsToTarget(),c.transform=ZU(this.projectionDeltaWithTransform,this.treeScale,h),m&&(c.transform=m(h,c.transform));const{x:y,y:v}=this.projectionDelta;c.transformOrigin=`${y.origin*100}% ${v.origin*100}% 0`,f.animationValues?c.opacity=f===this?h.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:h.opacityExit:c.opacity=f===this?h.opacity!==void 0?h.opacity:"":h.opacityExit!==void 0?h.opacityExit:0;for(const S in Sl){if(h[S]===void 0)continue;const{correct:_,applyTo:I,isCSSVariable:O}=Sl[S],D=c.transform==="none"?h[S]:_(h[S],f);if(I){const H=I.length;for(let R=0;R<H;R++)c[I[R]]=D}else O?this.options.visualElement.renderState.vars[S]=D:c[S]=D}return this.options.layoutId&&(c.pointerEvents=f===this?Ec(u==null?void 0:u.pointerEvents)||"":"none"),c}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(u=>{var c;return(c=u.currentAnimation)==null?void 0:c.stop()}),this.root.nodes.forEach(xE),this.root.sharedNodes.clear()}}}function iV(e){e.updateLayout()}function aV(e){var n;const t=((n=e.resumeFrom)==null?void 0:n.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&t&&e.hasListeners("didUpdate")){const{layoutBox:i,measuredBox:s}=e.layout,{animationType:o}=e.options,u=t.source!==e.layout.source;o==="size"?Qn(y=>{const v=u?t.measuredBox[y]:t.layoutBox[y],S=hn(v);v.min=i[y].min,v.max=v.min+S}):kC(o,t.layoutBox,i)&&Qn(y=>{const v=u?t.measuredBox[y]:t.layoutBox[y],S=hn(i[y]);v.max=v.min+S,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[y].max=e.relativeTarget[y].min+S)});const c=Ts();dl(c,i,t.layoutBox);const m=Ts();u?dl(m,e.applyTransform(s,!0),t.measuredBox):dl(m,i,t.layoutBox);const f=!NC(c);let h=!1;if(!e.resumeFrom){const y=e.getClosestProjectingParent();if(y&&!y.resumeFrom){const{snapshot:v,layout:S}=y;if(v&&S){const _=Lt();fl(_,t.layoutBox,v.layoutBox);const I=Lt();fl(I,i,S.layoutBox),MC(_,I)||(h=!0),y.options.layoutRoot&&(e.relativeTarget=I,e.relativeTargetOrigin=_,e.relativeParent=y)}}}e.notifyListeners("didUpdate",{layout:i,snapshot:t,delta:m,layoutDelta:c,hasLayoutChanged:f,hasRelativeLayoutChanged:h})}else if(e.isLead()){const{onExitComplete:i}=e.options;i&&i()}e.options.transition=void 0}function rV(e){e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function sV(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function oV(e){e.clearSnapshot()}function xE(e){e.clearMeasurements()}function lV(e){e.isLayoutDirty=!1}function uV(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function EE(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function cV(e){e.resolveTargetDelta()}function dV(e){e.calcProjection()}function fV(e){e.resetSkewAndRotation()}function mV(e){e.removeLeadSnapshot()}function vE(e,t,n){e.translate=At(t.translate,0,n),e.scale=At(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function SE(e,t,n,i){e.min=At(t.min,n.min,i),e.max=At(t.max,n.max,i)}function hV(e,t,n,i){SE(e.x,t.x,n.x,i),SE(e.y,t.y,n.y,i)}function pV(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const gV={duration:.45,ease:[.4,0,.1,1]},CE=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),AE=CE("applewebkit/")&&!CE("chrome/")?Math.round:ti;function _E(e){e.min=AE(e.min),e.max=AE(e.max)}function yV(e){_E(e.x),_E(e.y)}function kC(e,t,n){return e==="position"||e==="preserve-aspect"&&!bU(TE(t),TE(n),.2)}function TV(e){var t;return e!==e.root&&((t=e.scroll)==null?void 0:t.wasRoot)}const bV=RC({attachResizeListener:(e,t)=>Al(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),nh={current:void 0},wC=RC({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!nh.current){const e=new bV({});e.mount(window),e.setOptions({layoutScroll:!0}),nh.current=e}return nh.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),xV={pan:{Feature:PU},drag:{Feature:OU,ProjectionNode:wC,MeasureLayout:AC}};function IE(e,t,n){const{props:i}=e;e.animationState&&i.whileHover&&e.animationState.setActive("whileHover",n==="Start");const s="onHover"+n,o=i[s];o&&_t.postRender(()=>o(t,Bl(t)))}class EV extends Ba{mount(){const{current:t}=this.node;t&&(this.unmount=Q9(t,(n,i)=>(IE(this.node,i,"Start"),s=>IE(this.node,s,"End"))))}unmount(){}}class vV extends Ba{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Ll(Al(this.node.current,"focus",()=>this.onFocus()),Al(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function NE(e,t,n){const{props:i}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&i.whileTap&&e.animationState.setActive("whileTap",n==="Start");const s="onTap"+(n==="End"?"":n),o=i[s];o&&_t.postRender(()=>o(t,Bl(t)))}class SV extends Ba{mount(){const{current:t}=this.node;t&&(this.unmount=tH(t,(n,i)=>(NE(this.node,i,"Start"),(s,{success:o})=>NE(this.node,s,o?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Wh=new WeakMap,ih=new WeakMap,CV=e=>{const t=Wh.get(e.target);t&&t(e)},AV=e=>{e.forEach(CV)};function _V({root:e,...t}){const n=e||document;ih.has(n)||ih.set(n,{});const i=ih.get(n),s=JSON.stringify(t);return i[s]||(i[s]=new IntersectionObserver(AV,{root:e,...t})),i[s]}function IV(e,t,n){const i=_V(t);return Wh.set(e,n),i.observe(e),()=>{Wh.delete(e),i.unobserve(e)}}const NV={some:0,all:1};class MV extends Ba{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:n,margin:i,amount:s="some",once:o}=t,u={root:n?n.current:void 0,rootMargin:i,threshold:typeof s=="number"?s:NV[s]},c=m=>{const{isIntersecting:f}=m;if(this.isInView===f||(this.isInView=f,o&&!f&&this.hasEnteredView))return;f&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",f);const{onViewportEnter:h,onViewportLeave:y}=this.node.getProps(),v=f?h:y;v&&v(m)};return IV(this.node.current,u,c)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:n}=this.node;["amount","margin","root"].some(DV(t,n))&&this.startObserver()}unmount(){}}function DV({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}const RV={inView:{Feature:MV},tap:{Feature:SV},focus:{Feature:vV},hover:{Feature:EV}},kV={layout:{ProjectionNode:wC,MeasureLayout:AC}},Qh={current:null},LC={current:!1};function wV(){if(LC.current=!0,!!C0)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>Qh.current=e.matches;e.addListener(t),t()}else Qh.current=!1}const LV=new WeakMap;function OV(e,t,n){for(const i in t){const s=t[i],o=n[i];if(ln(s))e.addValue(i,s);else if(ln(o))e.addValue(i,_s(s,{owner:e}));else if(o!==s)if(e.hasValue(i)){const u=e.getValue(i);u.liveStyle===!0?u.jump(s):u.hasAnimated||u.set(s)}else{const u=e.getStaticValue(i);e.addValue(i,_s(u!==void 0?u:s,{owner:e}))}}for(const i in n)t[i]===void 0&&e.removeValue(i);return t}const ME=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class PV{scrapeMotionValuesFromProps(t,n,i){return{}}constructor({parent:t,props:n,presenceContext:i,reducedMotionConfig:s,blockInitialAnimation:o,visualState:u},c={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=z0,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const v=_n.now();this.renderScheduledAt<v&&(this.renderScheduledAt=v,_t.render(this.render,!1,!0))};const{latestValues:m,renderState:f}=u;this.latestValues=m,this.baseTarget={...m},this.initialValues=n.initial?{...m}:{},this.renderState=f,this.parent=t,this.props=n,this.presenceContext=i,this.depth=t?t.depth+1:0,this.reducedMotionConfig=s,this.options=c,this.blockInitialAnimation=!!o,this.isControllingVariants=id(n),this.isVariantNode=tC(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:h,...y}=this.scrapeMotionValuesFromProps(n,{},this);for(const v in y){const S=y[v];m[v]!==void 0&&ln(S)&&S.set(m[v],!1)}}mount(t){this.current=t,LV.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,i)=>this.bindToMotionValue(i,n)),LC.current||wV(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Qh.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),Ma(this.notifyUpdate),Ma(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const n=this.features[t];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(t,n){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const i=Fs.has(t);i&&this.onBindTransform&&this.onBindTransform();const s=n.on("change",c=>{this.latestValues[t]=c,this.props.onUpdate&&_t.preRender(this.notifyUpdate),i&&this.projection&&(this.projection.isTransformDirty=!0)}),o=n.on("renderRequest",this.scheduleRender);let u;window.MotionCheckAppearSync&&(u=window.MotionCheckAppearSync(this,t,n)),this.valueSubscriptions.set(t,()=>{s(),o(),u&&u(),n.owner&&n.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in Is){const n=Is[t];if(!n)continue;const{isEnabled:i,Feature:s}=n;if(!this.features[t]&&s&&i(this.props)&&(this.features[t]=new s(this)),this.features[t]){const o=this.features[t];o.isMounted?o.update():(o.mount(),o.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Lt()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,n){this.latestValues[t]=n}update(t,n){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let i=0;i<ME.length;i++){const s=ME[i];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const o="on"+s,u=t[o];u&&(this.propEventSubscriptions[s]=this.on(s,u))}this.prevMotionValues=OV(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(t),()=>n.variantChildren.delete(t)}addValue(t,n){const i=this.values.get(t);n!==i&&(i&&this.removeValue(t),this.bindToMotionValue(t,n),this.values.set(t,n),this.latestValues[t]=n.get())}removeValue(t){this.values.delete(t);const n=this.valueSubscriptions.get(t);n&&(n(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,n){if(this.props.values&&this.props.values[t])return this.props.values[t];let i=this.values.get(t);return i===void 0&&n!==void 0&&(i=_s(n===null?void 0:n,{owner:this}),this.addValue(t,i)),i}readValue(t,n){let i=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return i!=null&&(typeof i=="string"&&(lS(i)||cS(i))?i=parseFloat(i):!aH(i)&&Da.test(n)&&(i=YS(t,n)),this.setBaseTarget(t,ln(i)?i.get():i)),ln(i)?i.get():i}setBaseTarget(t,n){this.baseTarget[t]=n}getBaseTarget(t){var o;const{initial:n}=this.props;let i;if(typeof n=="string"||typeof n=="object"){const u=Z0(this.props,n,(o=this.presenceContext)==null?void 0:o.custom);u&&(i=u[t])}if(n&&i!==void 0)return i;const s=this.getBaseTargetFromProps(this.props,t);return s!==void 0&&!ln(s)?s:this.initialValues[t]!==void 0&&i===void 0?void 0:this.baseTarget[t]}on(t,n){return this.events[t]||(this.events[t]=new D0),this.events[t].add(n)}notify(t,...n){this.events[t]&&this.events[t].notify(...n)}}class OC extends PV{constructor(){super(...arguments),this.KeyframeResolver=Y9}sortInstanceNodePosition(t,n){return t.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(t,n){return t.style?t.style[n]:void 0}removeValueFromRenderState(t,{vars:n,style:i}){delete n[t],delete i[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;ln(t)&&(this.childSubscription=t.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function PC(e,{style:t,vars:n},i,s){Object.assign(e.style,t,s&&s.getProjectionStyles(i));for(const o in n)e.style.setProperty(o,n[o])}function BV(e){return window.getComputedStyle(e)}class FV extends OC{constructor(){super(...arguments),this.type="html",this.renderInstance=PC}readValueFromInstance(t,n){var i;if(Fs.has(n))return(i=this.projection)!=null&&i.isProjecting?Fh(n):d9(t,n);{const s=BV(t),o=(w0(n)?s.getPropertyValue(n):s[n])||0;return typeof o=="string"?o.trim():o}}measureInstanceViewportBox(t,{transformPagePoint:n}){return EC(t,n)}build(t,n,i){W0(t,n,i.transformTemplate)}scrapeMotionValuesFromProps(t,n,i){return ep(t,n,i)}}const BC=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function HV(e,t,n,i){PC(e,t,void 0,i);for(const s in t.attrs)e.setAttribute(BC.has(s)?s:X0(s),t.attrs[s])}class UV extends OC{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Lt}getBaseTargetFromProps(t,n){return t[n]}readValueFromInstance(t,n){if(Fs.has(n)){const i=qS(n);return i&&i.default||0}return n=BC.has(n)?n:X0(n),t.getAttribute(n)}scrapeMotionValuesFromProps(t,n,i){return dC(t,n,i)}build(t,n,i){oC(t,n,this.isSVGTag,i.transformTemplate,i.style)}renderInstance(t,n,i,s){HV(t,n,i,s)}mount(t){this.isSVGTag=uC(t.tagName),super.mount(t)}}const VV=(e,t)=>J0(e)?new UV(t):new FV(t,{allowProjection:e!==oe.Fragment}),zV=HH({...dU,...RV,...xV,...kV},VV),jV=cH(zV),DE=({value:e,min:t=0,max:n=1,size:i=80,label:s,onChange:o})=>{const u=Math.max(0,Math.min(1,(e-t)/(n-t))),c=-150+u*300;return g.jsxs("div",{className:"flex flex-col items-center",children:[g.jsxs("div",{className:"relative cursor-pointer select-none",style:{width:i,height:i},children:[g.jsx("div",{className:"absolute inset-0 rounded-full bg-gradient-to-b from-gray-700 to-gray-900 border-2 border-gray-600 shadow-lg",children:[...Array(11)].map((m,f)=>{const h=-150+f*30,y=f/10<=u,v=f%5===0?i*.1:i*.05,S=i/2-v,_=i/2-2,I=i/2+S*Math.cos(h*Math.PI/180),O=i/2+S*Math.sin(h*Math.PI/180),D=i/2+_*Math.cos(h*Math.PI/180),H=i/2+_*Math.sin(h*Math.PI/180);return g.jsx("line",{x1:I,y1:O,x2:D,y2:H,stroke:y?"#f97316":"#6b7280",strokeWidth:f%5===0?2:1},f)})}),g.jsx(jV.div,{className:"absolute bg-orange-500 rounded-full shadow-md",style:{width:i*.05,height:i*.3,left:"50%",top:i*.1,marginLeft:i*-.025,transformOrigin:`50% ${i*.4}px`},animate:{rotate:c},transition:{type:"spring",stiffness:300,damping:30}}),g.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:g.jsx("span",{className:"text-xs font-mono text-white bg-gray-800/70 px-2 py-1 rounded-full",children:Math.round(u*100)})})]}),s&&g.jsx("span",{className:"text-xs text-gray-300 mt-2 text-center max-w-[80px] truncate",children:s})]})};function GV(e){return e?e.replace(/<[^>]+>/g,""):""}class qV extends Hc.Component{constructor(t){super(t),this.state={hasError:!1}}static getDerivedStateFromError(t){return{hasError:!0,error:t}}render(){return this.state.hasError?g.jsx("div",{className:"p-4 bg-red-900/20 border border-red-500 rounded-lg",children:g.jsx("p",{className:"text-red-400",children:"Something went wrong displaying the patch guide. Please try regenerating."})}):this.props.children}}const YV=({onContentUpdate:e})=>{const[t,n]=oe.useState({synth:"Generic",genre:"",voiceType:"",styleMood:[],dynamicsMovement:[],notes:""}),[i,s]=oe.useState(null),[o,u]=oe.useState(!1),[c,m]=oe.useState(""),f=oe.useMemo(()=>{var R;return((R=ec.find(V=>V.key==="genre"))==null?void 0:R.examples)||[]},[]),h=oe.useMemo(()=>{var R;return((R=ec.find(V=>V.key==="voiceType"))==null?void 0:R.examples)||[]},[]),y=oe.useMemo(()=>{var R;return((R=ec.find(V=>V.key==="styleMood"))==null?void 0:R.examples)||[]},[]),v=oe.useMemo(()=>{var R;return((R=ec.find(V=>V.key==="dynamicsMovement"))==null?void 0:R.examples)||[]},[]),S=oe.useCallback((R,V)=>{n(K=>({...K,[R]:V}))},[]),_=oe.useCallback(R=>{n(V=>({...V,styleMood:V.styleMood.includes(R)?V.styleMood.filter(K=>K!==R):[...V.styleMood,R]}))},[]),I=oe.useCallback(R=>{n(V=>({...V,dynamicsMovement:V.dynamicsMovement.includes(R)?V.dynamicsMovement.filter(K=>K!==R):[...V.dynamicsMovement,R]}))},[]),O=oe.useMemo(()=>t.synth&&t.genre&&t.voiceType,[t.synth,t.genre,t.voiceType]),D=oe.useCallback(async R=>{var V;if(R.preventDefault(),!!O){u(!0),m(""),s(null);try{let K=[...t.styleMood,...t.dynamicsMovement].join(", ");K.trim()||(K=((V=t.notes)==null?void 0:V.trim())||"No specific style or movement provided");const q=await sF({description:K,synth:t.synth,genre:t.genre,voiceType:t.voiceType,notes:t.notes}),ue={text:q.text||"",synthConfig:q.synthConfig||{},adsrVCF:q.adsrVCF||{attack:.1,decay:.5,sustain:.8,release:1.5},adsrVCA:q.adsrVCA||{attack:.05,decay:.3,sustain:.9,release:.6},summary:q.summary||""};s(ue),e==null||e(ue.text)}catch(K){m(K instanceof Error?K.message:"Failed to generate patch guide")}finally{u(!1)}}},[t,O]),H=oe.useCallback(()=>{n({synth:"Generic",genre:"",voiceType:"",styleMood:[],dynamicsMovement:[],notes:""}),s(null),m(""),e==null||e("")},[e]);return g.jsxs("div",{className:"max-w-5xl mx-auto p-6 space-y-6",children:[g.jsxs(st,{children:[g.jsx("h2",{className:"text-xl font-semibold text-white mb-6",children:"Create Synth Patch Guide"}),g.jsxs("form",{onSubmit:D,className:"space-y-6",children:[g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[g.jsxs("div",{children:[g.jsx("label",{className:"block text-gray-200 mb-2 font-medium",children:"Synthesizer"}),g.jsxs("select",{value:t.synth,onChange:R=>S("synth",R.target.value),className:"w-full bg-gray-700 text-white p-3 rounded-lg border border-gray-600 focus:border-purple-500 focus:ring-1 focus:ring-purple-500",required:!0,children:[g.jsx("option",{value:"",children:"Select synth..."}),iR.map(R=>g.jsx("option",{value:R,children:R},R))]})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-gray-200 mb-2 font-medium",children:"Genre"}),g.jsxs("select",{value:t.genre,onChange:R=>S("genre",R.target.value),className:"w-full bg-gray-700 text-white p-3 rounded-lg border border-gray-600 focus:border-purple-500 focus:ring-1 focus:ring-purple-500",required:!0,children:[g.jsx("option",{value:"",children:"Select genre..."}),f.map(R=>g.jsx("option",{value:R,children:R},R))]})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-gray-200 mb-2 font-medium",children:"Voice Type"}),g.jsxs("select",{value:t.voiceType,onChange:R=>S("voiceType",R.target.value),className:"w-full bg-gray-700 text-white p-3 rounded-lg border border-gray-600 focus:border-purple-500 focus:ring-1 focus:ring-purple-500",required:!0,children:[g.jsx("option",{value:"",children:"Select voice type..."}),h.map(R=>g.jsx("option",{value:R,children:R},R))]})]})]}),g.jsxs("div",{children:[g.jsxs("label",{className:"block text-gray-200 mb-3 font-medium",children:["Style & Mood ",g.jsx("span",{className:"text-gray-400 text-sm",children:"(optional)"})]}),g.jsx("div",{className:"flex flex-wrap gap-2",children:y.slice(0,15).map(R=>g.jsx("button",{type:"button",onClick:()=>_(R),className:`px-3 py-1.5 rounded-lg text-sm font-medium transition-colors ${t.styleMood.includes(R)?"bg-purple-600 text-white border-purple-600":"bg-gray-700 text-gray-300 border-gray-600 hover:bg-gray-600"} border`,children:R},R))})]}),g.jsxs("div",{children:[g.jsxs("label",{className:"block text-gray-200 mb-3 font-medium",children:["Dynamics & Movement ",g.jsx("span",{className:"text-gray-400 text-sm",children:"(optional)"})]}),g.jsx("div",{className:"flex flex-wrap gap-2",children:v.slice(0,15).map(R=>g.jsx("button",{type:"button",onClick:()=>I(R),className:`px-3 py-1.5 rounded-lg text-sm font-medium transition-colors ${t.dynamicsMovement.includes(R)?"bg-blue-600 text-white border-blue-600":"bg-gray-700 text-gray-300 border-gray-600 hover:bg-gray-600"} border`,children:R},R))})]}),g.jsxs("div",{children:[g.jsxs("label",{className:"block text-gray-200 mb-2 font-medium",children:["Additional Notes ",g.jsx("span",{className:"text-gray-400 text-sm",children:"(optional)"})]}),g.jsx("textarea",{value:t.notes,onChange:R=>S("notes",R.target.value),placeholder:"Reference artist, track, or specific sound characteristics...",className:"w-full bg-gray-700 text-white p-3 rounded-lg border border-gray-600 focus:border-purple-500 focus:ring-1 focus:ring-purple-500 resize-none",rows:3})]}),g.jsxs("div",{className:"flex items-center gap-4",children:[g.jsxs($e,{type:"submit",disabled:o||!O,className:"flex items-center gap-2",children:[o&&g.jsx(vi,{}),o?"Generating...":"Generate Patch Guide"]}),g.jsx($e,{type:"button",variant:"secondary",onClick:H,disabled:o,children:"Reset"})]}),c&&g.jsx("div",{className:"p-4 bg-red-900/20 border border-red-500 rounded-lg",children:g.jsx("p",{className:"text-red-400",children:c})})]})]}),i&&g.jsx(qV,{children:g.jsx($V,{result:i})})]})};function KV(e,t="audio"){return t==="lfo"?(e*20).toFixed(2):(20*Math.pow(1e3,e)).toFixed(0)}const $V=({result:e})=>{var o,u;const[t,n]=Hc.useState(!1),i=()=>{tS(e.text),n(!0),setTimeout(()=>n(!1),1200)},s=GV(e.text);return g.jsxs(st,{children:[g.jsxs("div",{className:"flex items-center justify-between mb-6",children:[g.jsx("h3",{className:"text-lg font-semibold text-white",children:"Complete Patch Guide"}),g.jsx("button",{onClick:i,className:"px-3 py-1.5 rounded-lg bg-gray-700 text-gray-200 border border-gray-600 hover:bg-purple-600 hover:text-white transition-colors text-sm font-medium flex items-center gap-2",children:t?"Copied!":"Copy Text"})]}),e.text&&g.jsxs("div",{className:"space-y-8",children:[((o=e.synthConfig)==null?void 0:o.oscillators)&&e.synthConfig.oscillators.length>0&&g.jsxs("div",{className:"mb-6",children:[g.jsx("h3",{className:"text-lg font-semibold text-purple-300 mb-4",children:"Oscillator Summary"}),g.jsx("div",{className:"bg-gray-800 rounded-lg p-6",children:g.jsx("div",{className:`grid grid-cols-1 sm:grid-cols-2 md:grid-cols-${Math.min(5,Math.max(3,e.synthConfig.oscillators.length))} gap-4`,children:e.synthConfig.oscillators.map((c,m)=>g.jsxs("div",{className:"bg-gray-700 rounded-lg p-4",children:[g.jsx("h4",{className:"font-semibold text-purple-300 mb-3 text-sm",children:c.name||`Oscillator ${m+1}`}),g.jsx("div",{className:"space-y-1 text-xs",children:Object.entries(c.values||{}).map(([f,h])=>g.jsxs("div",{className:"flex justify-between",children:[g.jsxs("span",{className:"text-gray-300",children:[f,":"]}),g.jsx("span",{className:"text-white font-mono",children:String(h)})]},f))})]},m))})})]}),((u=e.synthConfig)==null?void 0:u.filters)&&e.synthConfig.filters.length>0&&g.jsxs("div",{className:"border-t border-gray-600 pt-8 mt-8",children:[g.jsx("h2",{className:"text-xl font-bold text-white mb-6 border-b border-gray-600 pb-2",children:"Filter Configuration"}),g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[g.jsx("div",{children:e.synthConfig.filters.map((c,m)=>g.jsxs("div",{className:"mb-6",children:[g.jsx("h3",{className:"font-semibold text-purple-300 mb-3 text-sm",children:c.name||`Filter ${m+1}`}),g.jsxs("table",{className:"w-full border-collapse border border-gray-600 text-sm mb-4",children:[g.jsx("thead",{children:g.jsxs("tr",{children:[g.jsx("th",{className:"border border-gray-600 bg-gray-800 py-2 px-3 text-left font-semibold",children:"Type"}),g.jsx("th",{className:"border border-gray-600 bg-gray-800 py-2 px-3 text-left font-semibold",children:"Cutoff"}),g.jsx("th",{className:"border border-gray-600 bg-gray-800 py-2 px-3 text-left font-semibold",children:"Resonance"})]})}),g.jsx("tbody",{children:g.jsxs("tr",{children:[g.jsx("td",{className:"border border-gray-600 py-2 px-3",children:c.selectedType||"Lowpass"}),g.jsx("td",{className:"border border-gray-600 py-2 px-3",children:Number.isFinite(Number(c.cutoff))?Number(c.cutoff).toFixed(2):"0.50"}),g.jsx("td",{className:"border border-gray-600 py-2 px-3",children:Number.isFinite(Number(c.resonance))?Number(c.resonance).toFixed(2):"0.30"})]})})]})]},m))}),g.jsx("div",{children:e.synthConfig.filters.map((c,m)=>{const f=Math.max(0,Math.min(1,Number(c.cutoff)||.5)),h=Math.max(0,Math.min(1,Number(c.resonance)||.3)),y=KV(f,"audio");return g.jsxs("div",{className:"text-center mb-8",children:[g.jsxs("div",{className:"font-medium text-gray-200 mb-4",children:["Filter Type: ",g.jsx("span",{className:"font-bold text-purple-400",children:c.selectedType||"Lowpass"})]}),g.jsxs("div",{className:"flex flex-row gap-8 justify-center mb-3",children:[g.jsx(DE,{value:f,label:"Cutoff",size:80,min:0,max:1}),g.jsx(DE,{value:h,label:"Resonance",size:80,min:0,max:1})]}),g.jsxs("div",{className:"text-gray-300 space-x-6 text-sm",children:[g.jsxs("span",{children:["Cutoff: ",g.jsxs("span",{className:"font-mono text-white",children:[y," Hz"]})]}),g.jsxs("span",{children:["Resonance: ",g.jsx("span",{className:"font-mono text-white",children:Number.isFinite(h)?h.toFixed(2):"0.00"})]})]})]},m)})})]})]}),e.adsrVCF&&e.adsrVCA&&g.jsxs("div",{className:"border-t border-gray-600 pt-8 mt-8",children:[g.jsx("h2",{className:"text-xl font-bold text-white mb-6 border-b border-gray-600 pb-2",children:"Main Envelopes"}),g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[g.jsxs("div",{children:[g.jsx("h3",{className:"font-semibold text-purple-300 mb-3 text-sm",children:" Filter Envelope (VCF)"}),g.jsxs("table",{className:"w-full border-collapse border border-gray-600 text-sm mb-4",children:[g.jsx("thead",{children:g.jsxs("tr",{children:[g.jsx("th",{className:"border border-gray-600 bg-gray-800 py-2 px-3 text-left font-semibold",children:"Attack"}),g.jsx("th",{className:"border border-gray-600 bg-gray-800 py-2 px-3 text-left font-semibold",children:"Decay"}),g.jsx("th",{className:"border border-gray-600 bg-gray-800 py-2 px-3 text-left font-semibold",children:"Sustain"}),g.jsx("th",{className:"border border-gray-600 bg-gray-800 py-2 px-3 text-left font-semibold",children:"Release"})]})}),g.jsx("tbody",{children:g.jsxs("tr",{children:[g.jsxs("td",{className:"border border-gray-600 py-2 px-3",children:[(e.adsrVCF.attack*1e3).toFixed(0),"ms"]}),g.jsxs("td",{className:"border border-gray-600 py-2 px-3",children:[(e.adsrVCF.decay*1e3).toFixed(0),"ms"]}),g.jsxs("td",{className:"border border-gray-600 py-2 px-3",children:[(e.adsrVCF.sustain*100).toFixed(0),"%"]}),g.jsxs("td",{className:"border border-gray-600 py-2 px-3",children:[(e.adsrVCF.release*1e3).toFixed(0),"ms"]})]})})]}),g.jsx("div",{className:"flex justify-center mt-4",children:g.jsx(Tx,{...e.adsrVCF,width:300,height:150})})]}),g.jsxs("div",{children:[g.jsx("h3",{className:"font-semibold text-purple-300 mb-3 text-sm",children:" Amplitude Envelope (VCA)"}),g.jsxs("table",{className:"w-full border-collapse border border-gray-600 text-sm mb-4",children:[g.jsx("thead",{children:g.jsxs("tr",{children:[g.jsx("th",{className:"border border-gray-600 bg-gray-800 py-2 px-3 text-left font-semibold",children:"Attack"}),g.jsx("th",{className:"border border-gray-600 bg-gray-800 py-2 px-3 text-left font-semibold",children:"Decay"}),g.jsx("th",{className:"border border-gray-600 bg-gray-800 py-2 px-3 text-left font-semibold",children:"Sustain"}),g.jsx("th",{className:"border border-gray-600 bg-gray-800 py-2 px-3 text-left font-semibold",children:"Release"})]})}),g.jsx("tbody",{children:g.jsxs("tr",{children:[g.jsxs("td",{className:"border border-gray-600 py-2 px-3",children:[(e.adsrVCA.attack*1e3).toFixed(0),"ms"]}),g.jsxs("td",{className:"border border-gray-600 py-2 px-3",children:[(e.adsrVCA.decay*1e3).toFixed(0),"ms"]}),g.jsxs("td",{className:"border border-gray-600 py-2 px-3",children:[(e.adsrVCA.sustain*100).toFixed(0),"%"]}),g.jsxs("td",{className:"border border-gray-600 py-2 px-3",children:[(e.adsrVCA.release*1e3).toFixed(0),"ms"]})]})})]}),g.jsx("div",{className:"flex justify-center mt-4",children:g.jsx(Tx,{...e.adsrVCA,width:300,height:150})})]})]})]}),g.jsx("div",{className:"prose prose-invert max-w-none prose-headings:text-white prose-h2:text-xl prose-h2:font-bold prose-h2:mt-8 prose-h2:mb-4 prose-h2:border-b prose-h2:border-gray-600 prose-h2:pb-2 prose-h3:text-lg prose-h3:font-semibold prose-h3:mt-6 prose-h3:mb-3 prose-h3:text-purple-300 prose-table:text-sm prose-td:py-2 prose-td:px-3 prose-th:py-2 prose-th:px-3 prose-li:my-2",children:g.jsx(Hv,{remarkPlugins:[c2],components:{h2:({children:c,...m})=>g.jsx("h2",{...m,className:"text-xl font-bold text-white mt-8 mb-4 border-b border-gray-600 pb-2 first:mt-0",children:c}),h3:({children:c,...m})=>g.jsx("h3",{...m,className:"text-lg font-semibold text-purple-300 mt-6 mb-3",children:c}),p:({children:c,...m})=>g.jsx("p",{...m,className:"mb-4 leading-relaxed",children:c}),ul:({children:c,...m})=>g.jsx("ul",{...m,className:"space-y-2 mb-4",children:c}),li:({children:c,...m})=>g.jsx("li",{...m,className:"my-2",children:c}),table:({children:c,...m})=>g.jsx("div",{className:"overflow-x-auto my-6",children:g.jsx("table",{...m,className:"w-full border-collapse border border-gray-600 text-sm",children:c})}),th:({children:c,...m})=>g.jsx("th",{...m,className:"border border-gray-600 bg-gray-800 py-2 px-3 text-left font-semibold",children:c}),td:({children:c,...m})=>g.jsx("td",{...m,className:"border border-gray-600 py-2 px-3",children:c})},children:s})})]})]})},XV=({library:e,onClose:t,onLoadEntry:n,onDeleteEntry:i,onCreateNew:s})=>{const[o,u]=oe.useState(""),c=e.filter(m=>m.title.toLowerCase().includes(o.toLowerCase())||m.genre.join(", ").toLowerCase().includes(o.toLowerCase())).sort((m,f)=>new Date(f.createdAt).getTime()-new Date(m.createdAt).getTime());return g.jsx("div",{className:"fixed inset-0 bg-gray-900/80 backdrop-blur-sm flex items-center justify-center p-4 z-50 transition-opacity duration-300 ease-in-out",onClick:t,role:"dialog","aria-modal":"true","aria-labelledby":"library-modal-title",children:g.jsxs(st,{className:"w-full max-w-2xl bg-gray-800 shadow-2xl border border-gray-700 max-h-[90vh] flex flex-col",onClick:m=>m.stopPropagation(),children:[g.jsxs("div",{className:"flex justify-between items-center px-6 py-4 border-b border-gray-700",children:[g.jsxs("h2",{id:"library-modal-title",className:"text-2xl font-semibold text-purple-300 flex items-center",children:[g.jsx(fh,{className:"w-7 h-7 mr-3 text-purple-400"}),"TrackGuide Library"]}),g.jsx($e,{onClick:t,variant:"secondary",size:"sm",className:"p-2 -mr-2","aria-label":"Close Library",children:g.jsx(nv,{className:"w-5 h-5"})})]}),g.jsx("div",{className:"px-6 py-4",children:g.jsx(Fn,{type:"search",placeholder:"Search by title or genre...",value:o,onChange:m=>u(m.target.value),className:"mb-4 bg-gray-700 border-gray-600 placeholder-gray-500","aria-label":"Search library"})}),g.jsx("div",{className:"flex-grow overflow-y-auto px-6 pb-6 space-y-3 custom-scrollbar pr-3",children:c.length===0?g.jsx("p",{className:"text-gray-400 text-center py-8",children:o?`No entries found for "${o}".`:"Your library is empty. Create some TrackGuides!"}):c.map(m=>g.jsx("div",{className:"p-4 bg-gray-700/60 rounded-lg hover:bg-gray-600/50 transition-colors shadow-md border border-gray-600/50",children:g.jsxs("div",{className:"flex justify-between items-start",children:[g.jsxs("div",{className:"flex-grow min-w-0",children:[g.jsx("h4",{className:"font-semibold text-purple-300 truncate text-lg",title:m.title,children:m.title}),g.jsx("p",{className:"text-sm text-gray-400 truncate",title:Array.isArray(m.genre)?m.genre.join(", "):m.genre,children:Array.isArray(m.genre)?m.genre.join(", "):m.genre}),g.jsxs("p",{className:"text-xs text-gray-500",children:["Created: ",new Date(m.createdAt).toLocaleDateString(),m.generatedMidiPatterns&&g.jsx(tv,{className:"w-3 h-3 text-green-400 inline-block ml-2",title:"MIDI available"})]})]}),g.jsxs("div",{className:"flex flex-col sm:flex-row space-y-2 sm:space-y-0 sm:space-x-2 items-end shrink-0 ml-3 mt-1 sm:mt-0",children:[g.jsx($e,{onClick:()=>n(m),size:"sm",variant:"outline",className:"text-xs px-3 py-1.5 w-full sm:w-auto",leftIcon:g.jsx(fh,{className:"w-4 h-4"}),children:"Load"}),g.jsx($e,{onClick:()=>i(m.id),size:"sm",variant:"danger",className:"text-xs px-3 py-1.5 w-full sm:w-auto",leftIcon:g.jsx(hR,{className:"w-4 h-4"})})]})]})},m.id))}),g.jsx("div",{className:"px-6 py-4 border-t border-gray-700",children:g.jsx($e,{onClick:s,variant:"primary",className:"w-full",leftIcon:g.jsx(mh,{}),children:"Create New TrackGuide"})})]})})},dc=({className:e="w-4 h-4"})=>g.jsx("div",{className:`${e} bg-orange-500 transform rotate-45 flex items-center justify-center`,children:g.jsx("div",{className:"w-1/2 h-1/2 bg-white transform -rotate-45"})}),RE={songTitle:"",genre:[],artistReference:"",referenceTrackLink:"",lyrics:"",key:"",scale:"",chords:"",generalNotes:"",vibe:[],daw:"",plugins:"",availableInstruments:""},kE={audioFile:null,userNotes:"",trackName:""},_a=100,fc=_a*1024*1024,wE=e=>{const t=[/Tempo.*?(\d+)\s*(?:-|to)\s*(\d+)\s*BPM/i,/BPM.*?(\d+)\s*(?:-|to)\s*(\d+)/i,/(\d+)\s*(?:-|to)\s*(\d+)\s*BPM/i,/Tempo.*?(\d+)\s*BPM/i,/BPM.*?(\d+)/i,/(\d+)\s*BPM/i];for(const n of t){const i=e.match(n);if(i){if(i[2])return Math.round((parseInt(i[1],10)+parseInt(i[2],10))/2);if(i[1])return parseInt(i[1],10)}}return null},LE=e=>{const t=[/Suggested Key\(s\) \/ Scale\(s\):\s*([^(\n]+)/i,/Key.*?:\s*([A-G][#b]?\s*(?:Major|Minor|major|minor))/i,/([A-G][#b]?\s*(?:Major|Minor|major|minor))/i];for(const n of t){const i=e.match(n);if(i&&i[1]){const s=i[1].split(/,|\/| or /).map(u=>u.trim().replace(/\.$/,""));for(const u of s){const c=u.includes(" Minor")||u.includes(" minor")?u.replace(/minor/i,"Minor"):u.replace(/major/i,"Major").replace(/Major$/,"").trim()+" Major";if(Wo.includes(u)||Wo.includes(c))return Wo.includes(u)?u:c}const o=s[0];if(o){for(const u of Wo)if(o.toLowerCase().startsWith(u.split(" ")[0].toLowerCase())){if(o.toLowerCase().includes("minor")){if(u.includes("Minor"))return u}else if(u.includes("Major"))return u}return o}}}return null},OE=e=>{const t=[/Chord Progression\(s\)?\s*(?:\([^)]+\))?:\s*([^\n]+)/i,/Progression\(s\)?:\s*([^\n]+)/i,/Chords?:\s*([ivclxmdIVCLXMDab#dimaug\d\/sus-][^\n]*)/i,/([ivclxmdIVCLXMD]+(?:\s*-\s*[ivclxmdIVCLXMD]+){2,})/i];for(const n of t){const i=e.match(n);if(i&&i[1]){const o=i[1].match(/([ivclxmdIVCLXMDab#dimaug\d\/sus-]+(?:\s*-\s*[ivclxmdIVCLXMDab#dimaug\d\/sus-]+)*)/);if(o&&o[1]){let u=o[1].trim();u.endsWith(".")&&(u=u.slice(0,-1));const c=[", ",". ","; "];for(const m of c)if(u.includes(m)){u=u.split(m)[0].trim();break}return u}}}return null},PE=(e,t)=>{const n=e.match(t);if(!n||typeof n.index>"u")return"";const i=n.index,s=e.substring(i+n[0].length).match(/^##\s+/m),o=s&&typeof s.index<"u"?i+n[0].length+s.index:e.length;return e.substring(i,o).trim()},WV=e=>{if(!e)return"";let t="";return t+=PE(e,/^##\s*1\.\s*Song Overview/im)+`

`,t+=PE(e,/^##\s*4\.\s*Harmony, Melody & Rhythmic Core/im),t.trim()||"General musical context not fully parsed. Focus on genre and vibe."},BE=e=>{const t=e.match(/^\s*-\s*\*\*Suggested Title:\*\*\s*(.*)/im);return t&&t[1]?t[1].trim().replace(/\*\*([^*]+)\*\*/g,"$1").replace(/\*([^*]+)\*/g,"$1"):null},QV=()=>{var _r;const[e,t]=oe.useState("landing"),[n,i]=oe.useState(RE),[s,o]=oe.useState(""),[u,c]=oe.useState(""),[m,f]=oe.useState(""),[h,y]=oe.useState(!1),[v,S]=oe.useState(""),[_,I]=oe.useState(null),[O,D]=oe.useState(null),[H,R]=oe.useState([]),[V,K]=oe.useState(null),[q,ue]=oe.useState(!1),[me,Ae]=oe.useState(""),[Y,ye]=oe.useState(!1),[be,Se]=oe.useState(!0),[pe,re]=oe.useState(kE),[W,z]=oe.useState(null),[w,L]=oe.useState(""),[C,U]=oe.useState(!1),[$,N]=oe.useState(null),[se,j]=oe.useState("single"),[ie,_e]=oe.useState({mixA:null,mixB:null,userNotes:"",includeMixBFeedback:!1}),[Ce,Me]=oe.useState(null),[ze,He]=oe.useState(""),[tt,Ge]=oe.useState(!1),[we,ft]=oe.useState(null),mt=oe.useRef(null),[Rt,vr]=oe.useState(""),[Fa,Wi]=oe.useState(""),Ni=oe.useRef(null),Sr=oe.useRef(null);oe.useEffect(()=>{try{const Ie=localStorage.getItem($T);if(Ie){const nt=JSON.parse(Ie).map(Qe=>({...Qe,genre:Array.isArray(Qe.genre)?Qe.genre:Qe.genre?[Qe.genre]:[],vibe:Array.isArray(Qe.vibe)?Qe.vibe:Qe.vibe?[Qe.vibe]:[],scale:Qe.scale||"",midiSettings:Qe.midiSettings||void 0,generatedMidiPatterns:Qe.generatedMidiPatterns||void 0}));R(nt)}}catch(Ie){console.error("Failed to load library from local storage:",Ie),R([])}const ne=localStorage.getItem(Ho),xe=localStorage.getItem(Zu);i(Ie=>({...Ie,daw:ne||Ie.daw||"",plugins:xe||Ie.plugins||""}))},[]),oe.useEffect(()=>{try{localStorage.setItem($T,JSON.stringify(H))}catch(ne){console.error("Failed to save library to local storage:",ne)}},[H]),oe.useEffect(()=>{e!=="remixGuide"&&vr(""),e!=="patchGuide"&&Wi("")},[e]);const qt=ne=>{const{name:xe,value:Ie}=ne.target;xe==="currentGenreText"?o(Ie):xe==="currentVibeText"?c(Ie):(i(Ue=>({...Ue,[xe]:Ie})),xe==="daw"?localStorage.setItem(Ho,Ie):xe==="plugins"&&localStorage.setItem(Zu,Ie))},Ha=ne=>{var Ie,Ue;const xe=ne==="genre"?s.trim():u.trim();xe&&!n[ne].includes(xe)&&i(nt=>({...nt,[ne]:[...nt[ne],xe]})),ne==="genre"?(o(""),(Ie=Ni.current)==null||Ie.focus()):(c(""),(Ue=Sr.current)==null||Ue.focus())},Cr=(ne,xe)=>{ne.key==="Enter"&&(ne.preventDefault(),Ha(xe))},le=(ne,xe)=>{i(Ie=>{const nt=Ie[ne].filter(Qe=>Qe!==xe);return{...Ie,[ne]:nt}})},Te=ne=>{i(xe=>({...xe,daw:ne})),localStorage.setItem(Ho,ne)},Re=ne=>{const xe=ne.match(/^#\s*TRACKGUIDE:\s*"?([^"\n]+)"?/im);return xe&&xe[1]?xe[1].trim():null},ke=()=>{const ne=localStorage.getItem(Ho)||"",xe=localStorage.getItem(Zu)||"";i({...RE,songTitle:"",daw:ne,plugins:xe}),o(""),c(""),f(""),K(null),I(null),D(null),Ae(""),ci(),ue(!1)},ot=async ne=>{var nt;ne.preventDefault(),y(!0),I(null),D(null),f(""),K(null),Ae(""),ci(),window.scrollTo({top:0,behavior:"smooth"}),n.daw&&localStorage.setItem(Ho,n.daw),n.plugins&&localStorage.setItem(Zu,n.plugins);let xe="",Ie,Ue;try{S("TrackGuide is generating...");const Qe=await rR(n);for await(const yn of Qe)xe+=yn.text,f(Ri=>Ri+yn.text);S("Initial MIDI patterns are generating...");const ai=Re(xe),Us=(nt=n.songTitle)!=null&&nt.trim()?n.songTitle.trim():ai||`TrackGuide for ${n.genre.join(", ")||"Unknown Genre"}`,rd=Date.now().toString(),sd=new Date().toISOString(),Ul=wE(xe),Va=LE(xe),Vs=OE(xe),ri=n.genre[0]||ut.genre,Mi=bi[ri]||bi.Default,za=Math.round((Mi[0]+Mi[1])/2),Qi=(Jn[ri]||Jn.Default)[0],Bt=WV(xe),Vl=ut.songSection;let zs=8;const Di=ri.toLowerCase();["lo-fi hip hop","lofi hip hop","lofi","trap","ambient","idm","breakcore","footwork","juke","experimental"].some(yn=>Di.includes(yn))&&(zs=4);const od=["chords","bassline","melody","drums"];Ue={key:Va||ut.key,tempo:Ul||za,timeSignature:ut.timeSignature,chordProgression:Vs||Qi,genre:ri,bars:zs,targetInstruments:od,guidebookContext:Bt,songSection:Vl};try{const yn=await hl(Ue);let Ri="";for await(const Tn of yn)Ri+=Tn.text;let js=Ri.trim();const Ir=/^```(\w*)?\s*\n?(.*?)\n?\s*```$/s,Ji=js.match(Ir);if(Ji&&Ji[2]&&(js=Ji[2].trim()),Ie=JSON.parse(js),Ie.drums){const Tn={};for(const Nr in Ie.drums)Tn[Nr.toLowerCase().replace(/\s+/g,"_")]=Ie.drums[Nr];Ie.drums=Tn}D(null)}catch(yn){console.error("Initial MIDI generation failed:",yn);const Ri=yn.message.toLowerCase().includes("json")?`AI returned invalid JSON for MIDI patterns during initial generation. (${yn.message})`:`Initial MIDI generation failed: ${yn.message}.`;D(Ri+" You can try generating MIDI manually in the MIDI tools section."),Ie=void 0}K({id:rd,title:Us,genre:n.genre,artistReference:n.artistReference,referenceTrackLink:n.referenceTrackLink,lyrics:n.lyrics,key:n.key,chords:n.chords,generalNotes:n.generalNotes,vibe:n.vibe,daw:n.daw,plugins:n.plugins,availableInstruments:n.availableInstruments||"",content:xe,createdAt:sd,midiSettings:Ue,generatedMidiPatterns:Ie})}catch(Qe){I(Qe.message||"An unexpected error occurred while generating TrackGuide."),K(null),f("")}finally{y(!1),S("")}},dn=()=>{if(!V)return;const ne={...V};R(xe=>{const Ie=xe.findIndex(Ue=>Ue.id===ne.id);if(Ie>-1){const Ue=[...xe];return Ue[Ie]=ne,Ue}return[ne,...xe]})},ii=(ne,xe)=>{K(Ie=>Ie?{...Ie,midiSettings:ne,generatedMidiPatterns:xe}:null)},tn=ne=>{i({songTitle:ne.title,genre:Array.isArray(ne.genre)?ne.genre:ne.genre?[String(ne.genre)]:[],artistReference:ne.artistReference,referenceTrackLink:ne.referenceTrackLink||"",lyrics:ne.lyrics||"",key:ne.key||"",chords:ne.chords||"",generalNotes:ne.generalNotes||"",vibe:Array.isArray(ne.vibe)?ne.vibe:ne.vibe?[String(ne.vibe)]:[],daw:ne.daw,plugins:ne.plugins,availableInstruments:ne.availableInstruments||""}),o(""),c(""),f(ne.content),K(ne),I(null),D(null),Ae(""),ci(),ue(!1),t("trackGuide"),window.scrollTo({top:0,behavior:"smooth"})},Un=ne=>{R(xe=>xe.filter(Ie=>Ie.id!==ne)),V&&V.id===ne&&(f(""),K(null),ci())},nn=({selections:ne,onRemove:xe})=>g.jsx("div",{className:"flex flex-wrap gap-2 mt-2 mb-2 min-h-[2.25rem]",children:ne.map(Ie=>g.jsxs("span",{className:"flex items-center px-3 py-1 bg-orange-600 text-white text-xs font-medium rounded-full shadow-md hover:bg-orange-700 transition-colors",children:[Ie,g.jsx("button",{type:"button",onClick:()=>xe(Ie),className:"ml-1.5 -mr-0.5 p-0.5 text-orange-200 hover:text-white rounded-full focus:outline-none focus:bg-orange-800 transition-colors","aria-label":`Remove ${Ie}`,children:g.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-3 w-3",viewBox:"0 0 20 20",fill:"currentColor",children:g.jsx("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})})})]},Ie))}),Pt=ne=>{var Ie;const xe=(Ie=ne.target.files)==null?void 0:Ie[0];if(xe){if(xe.size>fc){N(`File is too large. Maximum size is ${_a}MB.`),re(Ue=>({...Ue,audioFile:null})),mt.current&&(mt.current.value="");return}if(!xe.type.startsWith("audio/")){N("Invalid file type. Please upload an audio file (e.g., MP3, WAV)."),re(Ue=>({...Ue,audioFile:null})),mt.current&&(mt.current.value="");return}re(Ue=>({...Ue,audioFile:xe})),N(null)}},pn=ne=>{re(xe=>({...xe,userNotes:ne.target.value}))},gn=ne=>{let xe=ne.trim();const Ie=xe.match(/(^|\n)(##? ||Audio Analysis Results)/);return Ie&&Ie.index!==void 0&&(xe=xe.slice(Ie.index).trim()),xe},Fl=async ne=>{if(ne.preventDefault(),!pe.audioFile){N("Please upload an audio file for feedback.");return}U(!0),window.scrollTo({top:0,behavior:"smooth"}),z(null),L(""),N(null);try{let xe="";const Ie=dR(pe);for await(const nt of Ie)nt.text&&(xe+=nt.text,L(xe));const Ue=gn(xe);z(Ue),L("")}catch(xe){N(xe.message||"An unknown error occurred while generating mix feedback."),L("")}finally{U(!1)}},Hl=()=>{re(kE),z(null),N(null),mt.current&&(mt.current.value="")},Ar=ne=>new Promise((xe,Ie)=>{const Ue=new FileReader;Ue.readAsDataURL(ne),Ue.onload=()=>{const Qe=Ue.result.split(",")[1];xe(Qe)},Ue.onerror=nt=>Ie(nt)}),Ua=async()=>{if(!ie.mixA||!ie.mixB){ft("Please upload both Mix A and Mix B files.");return}Ge(!0),window.scrollTo({top:0,behavior:"smooth"}),Me(null),He(""),ft(null);try{const ne=await Ar(ie.mixA),xe=await Ar(ie.mixB),Ie={mixAFile:ne,mixBFile:xe,mixAName:ie.mixA.name,mixBName:ie.mixB.name,includeMixBFeedback:ie.includeMixBFeedback,userNotes:ie.userNotes};let Ue="";const nt=fR(Ie);for await(const ai of nt)ai.text&&(Ue+=ai.text,He(Ue));const Qe=gn(Ue);Me(Qe),He("")}catch(ne){ft(ne.message||"An unknown error occurred while comparing mixes."),He("")}finally{Ge(!1)}},ad=()=>{_e({mixA:null,mixB:null,userNotes:"",includeMixBFeedback:!1}),Me(null),ft(null)};let Nn;const Hs=(_r=n.songTitle)==null?void 0:_r.trim();if(Hs)Nn=`TrackGuide: ${Hs}`;else if(V!=null&&V.title){const ne=V.title;if(ne.startsWith("TrackGuide for ")){const xe=Re(V.content);xe?Nn=`TrackGuide: ${xe}`:Nn=ne}else Nn=`TrackGuide: ${ne}`}else if(h&&e==="trackGuide"){const ne=BE(m);ne?Nn=`TrackGuide: ${ne}`:Nn="TrackGuide is generating..."}else if(m){const ne=BE(m);ne?Nn=`TrackGuide: ${ne}`:Nn="Generated TrackGuide"}else Nn="TrackGuide";return e==="landing"?g.jsx(_R,{onGetStarted:()=>{t("trackGuide"),setTimeout(()=>window.scrollTo({top:0,behavior:"smooth"}),100)}}):g.jsxs("div",{className:"min-h-screen bg-[#1A1A1A] text-gray-100 p-4 md:p-6 lg:p-8 relative overflow-hidden",children:[g.jsx("div",{className:"absolute inset-0 opacity-20 pointer-events-none",children:g.jsx("div",{className:"absolute inset-0 pointer-events-none",style:{backgroundImage:"radial-gradient(circle at 2px 2px, #FF5722 1px, transparent 0)",backgroundSize:"40px 40px"}})}),g.jsxs("div",{className:"absolute top-10 right-10 w-32 h-32 opacity-10 pointer-events-none",children:[g.jsx("div",{className:"w-full h-full border-2 border-orange-500 transform rotate-12 pointer-events-none"}),g.jsx("div",{className:"absolute top-2 right-2 w-28 h-28 bg-orange-500 transform rotate-12 pointer-events-none"})]}),g.jsxs("header",{className:"text-center mb-6 relative z-10",children:[g.jsxs("div",{className:"flex items-center justify-center space-x-3 mb-4",children:[g.jsx("div",{className:"w-8 h-8 bg-orange-500 transform rotate-45 flex items-center justify-center",children:g.jsx("div",{className:"w-4 h-4 bg-white transform -rotate-45"})}),g.jsxs("div",{children:[g.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-white",children:KT}),g.jsx("p",{className:"text-gray-400 text-lg",children:"Your Smartest Studio Assistant"})]})]}),g.jsx("button",{onClick:()=>t("landing"),className:"mt-2 text-sm text-orange-500 hover:text-orange-400 transition-colors font-medium",children:" Back to Landing"})]}),g.jsxs("nav",{className:"mb-8 flex flex-col justify-center items-center md:flex-row md:justify-center gap-2 border-b border-orange-500/20 pb-3 relative z-10",children:[g.jsx($e,{size:"sm",className:`w-full md:w-auto px-3 py-2 text-xs md:text-sm rounded-md transition-all duration-150 ease-in-out ${e==="trackGuide"?"bg-orange-500 shadow-lg hover:bg-orange-600":"bg-gray-700/80 hover:bg-gray-600/80 border border-gray-600"}`,onClick:()=>t("trackGuide"),variant:e==="trackGuide"?"primary":"secondary",leftIcon:g.jsx(dc,{className:"w-4 h-4"}),children:"TrackGuide AI"}),g.jsx($e,{size:"sm",className:`w-full md:w-auto px-3 py-2 text-xs md:text-sm rounded-md transition-all duration-150 ease-in-out ${e==="mixFeedback"?"bg-orange-500 shadow-lg hover:bg-orange-600":"bg-gray-700/80 hover:bg-gray-600/80 border border-gray-600"}`,onClick:()=>t("mixFeedback"),variant:e==="mixFeedback"?"primary":"secondary",leftIcon:g.jsx("span",{className:"w-4 h-4 text-center",children:""}),children:"Mix Feedback AI"}),g.jsx($e,{size:"sm",className:`w-full md:w-auto px-3 py-2 text-xs md:text-sm rounded-md transition-all duration-150 ease-in-out ${e==="remixGuide"?"bg-orange-500 shadow-lg hover:bg-orange-600":"bg-gray-700/80 hover:bg-gray-600/80 border border-gray-600"}`,onClick:()=>t("remixGuide"),variant:e==="remixGuide"?"primary":"secondary",leftIcon:g.jsx("span",{className:"w-4 h-4 text-center",children:""}),children:"RemixGuide AI"}),g.jsx($e,{size:"sm",className:`w-full md:w-auto px-3 py-2 text-xs md:text-sm rounded-md transition-all duration-150 ease-in-out ${e==="patchGuide"?"bg-orange-500 shadow-lg hover:bg-orange-600":"bg-gray-700/80 hover:bg-gray-600/80 border border-gray-600"}`,onClick:()=>t("patchGuide"),variant:e==="patchGuide"?"primary":"secondary",leftIcon:g.jsx("span",{className:"w-4 h-4 text-center",children:""}),children:"PatchGuide AI"}),g.jsx($e,{size:"sm",className:`w-full md:w-auto px-3 py-2 text-xs md:text-sm rounded-md transition-all duration-150 ease-in-out ${e==="eqGuide"?"bg-orange-500 shadow-lg hover:bg-orange-600":"bg-gray-700/80 hover:bg-gray-600/80 border border-gray-600"}`,onClick:()=>t("eqGuide"),variant:e==="eqGuide"?"primary":"secondary",leftIcon:g.jsx(Em,{className:"w-4 h-4"}),children:"EQ Guide"})]}),e==="trackGuide"&&g.jsxs("div",{className:"max-w-full mx-auto grid grid-cols-1 lg:grid-cols-7 gap-6 px-4",children:[g.jsxs(st,{title:"Blueprint Your Sound",className:"lg:col-span-2 bg-gray-800/80 backdrop-blur-md shadow-xl border border-gray-700/50",children:[g.jsx("p",{className:"text-sm text-gray-400 mb-4",children:"Describe your visioneverything's optional."}),g.jsxs("form",{onSubmit:ot,className:"space-y-3",children:[g.jsx("div",{children:g.jsx(Fn,{label:"Song Title / Project Name",name:"songTitle",value:n.songTitle||"",onChange:qt,placeholder:"AI will suggest one if left blank"})}),g.jsx("div",{children:g.jsx(Fn,{label:"Artist References",name:"artistReference",value:n.artistReference,onChange:qt,placeholder:"e.g., Daft Punk"})}),g.jsx("div",{children:g.jsx(Fn,{label:"Song Reference",name:"referenceTrackLink",value:n.referenceTrackLink||"",onChange:qt,placeholder:"e.g., YouTube, Spotify, SoundCloud link"})}),g.jsxs("div",{className:"space-y-2",children:[g.jsxs("div",{children:[g.jsx("label",{htmlFor:"genre-input",className:"block text-sm font-medium text-gray-300 mb-1.5",children:"Genre(s)"}),g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx(Fn,{ref:Ni,id:"genre-input",name:"currentGenreText",value:s,onChange:qt,onKeyDown:ne=>Cr(ne,"genre"),placeholder:"Type custom genre...",list:"genre-suggestions",className:"flex-grow"}),g.jsx($e,{type:"button",onClick:()=>Ha("genre"),size:"sm",variant:"secondary","aria-label":"Add Genre",className:"px-3",children:g.jsx(mh,{className:"w-4 h-4"})})]}),g.jsx("datalist",{id:"genre-suggestions",children:JE.map(ne=>g.jsx("option",{value:ne},ne))}),g.jsx(nn,{selections:n.genre,onRemove:ne=>le("genre",ne)})]}),g.jsxs("div",{children:[g.jsx("label",{htmlFor:"vibe-input",className:"block text-sm font-medium text-gray-300 mb-1.5",children:"Vibe / Mood"}),g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx(Fn,{ref:Sr,id:"vibe-input",name:"currentVibeText",value:u,onChange:qt,onKeyDown:ne=>Cr(ne,"vibe"),placeholder:"Type custom vibe...",list:"vibe-suggestions",className:"flex-grow"}),g.jsx($e,{type:"button",onClick:()=>Ha("vibe"),size:"sm",variant:"secondary","aria-label":"Add Vibe",className:"px-3",children:g.jsx(mh,{className:"w-4 h-4"})})]}),g.jsx("datalist",{id:"vibe-suggestions",children:Z3.map(ne=>g.jsx("option",{value:ne},ne))}),g.jsx(nn,{selections:n.vibe,onRemove:ne=>le("vibe",ne)})]})]}),g.jsxs("div",{children:[g.jsx(Fn,{label:"Preferred DAW",name:"daw",value:n.daw,onChange:qt,placeholder:"Type or select DAW...",list:"daw-suggestions"}),g.jsx("datalist",{id:"daw-suggestions",children:XT.map(ne=>g.jsx("option",{value:ne},ne))}),g.jsx("div",{className:"flex flex-wrap gap-2 mt-2 mb-1",children:XT.slice(0,5).map(ne=>g.jsx("button",{type:"button",onClick:()=>Te(ne),className:`px-3 py-1 text-xs rounded-full transition-all duration-150 ease-in-out shadow-sm hover:shadow-md ${n.daw===ne?"bg-orange-600 text-white ring-2 ring-orange-400 ring-offset-2 ring-offset-gray-800":"bg-gray-700 hover:bg-gray-600 text-gray-300 hover:text-gray-100"}`,children:ne},ne))})]}),g.jsx("div",{children:g.jsx(us,{label:"Available Plugins",name:"plugins",value:n.plugins,onChange:qt,placeholder:"e.g., Serum, Valhalla Reverbs, Arturia V Collection, or 'stock only'",rows:2})}),g.jsx("div",{children:g.jsx(us,{label:"Available Instruments",name:"availableInstruments",value:n.availableInstruments||"",onChange:qt,placeholder:"e.g., Electric Guitar, Moog Subsequent 37, Roland TR-808, Vocals",rows:2})}),g.jsxs("div",{className:"border-t border-gray-600 pt-4",children:[g.jsx($e,{type:"button",onClick:()=>ye(!Y),variant:"outline",className:"mb-4 w-8 h-8 p-0 flex items-center justify-center",title:Y?"Hide Advanced Input":"Show Advanced Input",children:g.jsx("span",{className:`text-lg transition-transform ${Y?"rotate-45":""}`,children:"+"})}),Y&&g.jsxs("div",{className:"space-y-4 p-4 bg-gray-700/30 rounded-lg border border-gray-600/50",children:[g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[g.jsx("div",{children:g.jsx(Fn,{label:"Key",name:"key",value:n.key||"",onChange:qt,placeholder:"e.g., C Major"})}),g.jsx("div",{children:g.jsx(Fn,{label:"Scale/Mode",name:"scale",value:n.scale||"",onChange:qt,placeholder:"e.g., Dorian, Mixolydian"})})]}),g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[g.jsx("div",{children:g.jsx(Fn,{label:"Chords",name:"chords",value:n.chords||"",onChange:qt,placeholder:"e.g., Am - F - C - G"})}),g.jsx("div",{children:g.jsx(us,{label:"Lyrics",name:"lyrics",value:n.lyrics||"",onChange:qt,placeholder:"Paste your lyrics here if you have any...",rows:2})})]}),g.jsx("div",{children:g.jsx(us,{label:"General Notes for AI",name:"generalNotes",value:n.generalNotes||"",onChange:qt,placeholder:"Any specific instructions, style notes, or creative direction for the AI to consider...",rows:3})})]})]}),g.jsx($e,{type:"submit",disabled:h,className:"w-full text-base py-2.5",leftIcon:g.jsx(dc,{className:"w-5 h-5"}),children:h?v||"Generating...":"Generate TrackGuide"}),g.jsxs("div",{className:"flex space-x-2 mt-3",children:[g.jsx($e,{type:"button",onClick:()=>ue(!0),variant:"secondary",className:"flex-1",leftIcon:g.jsx(fh,{className:"w-4 h-4"}),children:"View Library"}),g.jsx($e,{type:"button",onClick:ke,variant:"outline",className:"flex-1",children:"Clear Form"})]})]})]}),g.jsxs("div",{className:"lg:col-span-5 space-y-6",children:[_&&!h&&g.jsxs(st,{className:"border-red-500 bg-red-900/40 shadow-xl",children:[g.jsx("p",{className:"text-red-300 font-semibold text-lg",children:"TrackGuide Error:"}),g.jsx("p",{className:"text-red-300",children:_})]}),O&&!v.toLowerCase().includes("midi")&&!_&&g.jsxs(st,{className:"border-yellow-500 bg-yellow-900/40 shadow-xl",children:[g.jsx("p",{className:"text-yellow-300 font-semibold text-lg",children:"MIDI Generation Note:"}),g.jsx("p",{className:"text-yellow-300",children:O})]}),(m||h&&v.includes("TrackGuide is generating"))&&!_&&g.jsxs(st,{title:Nn,className:"bg-gray-800/80 backdrop-blur-md shadow-xl border border-gray-700/50 sticky top-8",titleClassName:"border-b border-gray-700 text-xl",children:[V&&!h&&g.jsxs("div",{className:"flex flex-wrap gap-3 mb-5 pb-4 border-b border-gray-700 items-center",children:[g.jsx($e,{onClick:dn,variant:"secondary",leftIcon:g.jsx(mR,{}),children:"Save to Library"}),g.jsx("div",{className:"flex-grow"}),g.jsx($e,{onClick:ke,variant:"outline",size:"sm",className:"!border-gray-500 !text-gray-400 hover:!bg-gray-600 hover:!text-white",leftIcon:g.jsx(nv,{}),children:"Close"}),me&&g.jsx("span",{className:`ml-3 text-sm ${me.includes("Failed")||me.includes("not supported")?"text-red-400":"text-green-400"}`,children:me})]}),g.jsxs("div",{id:"guidebook-content-display",className:"prose prose-sm md:prose-base prose-invert max-w-none max-h-[calc(100vh-6rem)] overflow-y-auto pr-3 text-gray-300 custom-scrollbar guidebook-content",children:[V&&!h&&g.jsxs("div",{className:"mb-6 p-4 bg-gray-700/50 rounded-lg text-sm shadow-inner border border-gray-600/50 guidebook-section-break",children:[g.jsx("strong",{className:"text-orange-300 block mb-2 text-base",children:"TrackGuide Snapshot:"}),g.jsxs("p",{children:[g.jsx("strong",{children:"Project Title:"})," ",V.title]}),g.jsxs("p",{children:[g.jsx("strong",{children:"Genre(s):"})," ",Array.isArray(V.genre)?V.genre.join(", "):V.genre]}),g.jsxs("p",{children:[g.jsx("strong",{children:"Artist/Song Ref:"})," ",V.artistReference||"N/A"]}),g.jsxs("p",{children:[g.jsx("strong",{children:"Vibe(s):"})," ",Array.isArray(V.vibe)?V.vibe.join(", "):V.vibe]}),g.jsxs("p",{children:[g.jsx("strong",{children:"DAW:"})," ",V.daw]}),g.jsxs("p",{children:[g.jsx("strong",{children:"Plugins:"})," ",V.plugins||"N/A"]}),g.jsxs("p",{children:[g.jsx("strong",{children:"Instruments:"})," ",V.availableInstruments||"N/A"]}),V.generatedMidiPatterns&&g.jsxs("p",{className:"mt-1 text-green-400",children:[g.jsx(tv,{className:"w-4 h-4 inline mr-1"})," Initial MIDI patterns generated."]})]}),g.jsx(dr,{content:m}),h&&v.includes("TrackGuide is generating")&&g.jsx(vi,{size:"sm",text:"Generating TrackGuide..."})]})]}),h&&!_&&v&&!v.includes("TrackGuide is generating")&&g.jsx("div",{className:"flex justify-center py-10",children:g.jsx(vi,{size:"lg",text:v||"Processing..."})}),V&&!h&&m&&!_&&g.jsx(rS,{currentGuidebookEntry:V,mainAppInputs:n,onUpdateGuidebookEntryMidi:ii,parsedGuidebookBpm:wE(V.content),parsedGuidebookKey:LE(V.content),parsedGuidebookChordProg:OE(V.content)}),!h&&!m&&!_&&!V&&g.jsxs(st,{className:"bg-gray-800/80 backdrop-blur-md shadow-xl border border-gray-700/50 flex flex-col items-center justify-center h-96 text-center min-h-[500px]",children:[g.jsx("div",{className:"flex justify-center mb-6",children:g.jsx(dc,{className:"w-20 h-20 opacity-80 text-orange-500"})}),g.jsx("h3",{className:"text-2xl font-semibold text-gray-200 mb-2",children:"Produce Smarter. Create More."}),g.jsx("p",{className:"text-gray-400 max-w-md mx-auto",children:"Tell us what youre envisioningTrackGuide AI will generate a custom production guide and MIDI foundation."})]})]})]}),e==="mixFeedback"&&g.jsxs("div",{className:"max-w-7xl mx-auto grid grid-cols-1 md:grid-cols-12 gap-8",children:[g.jsxs("div",{className:"md:col-span-3 space-y-6",children:[g.jsxs("div",{className:"flex bg-gray-800/80 backdrop-blur-md shadow-xl border border-gray-700/50 rounded-lg overflow-hidden",children:[g.jsx("button",{onClick:()=>j("single"),className:`flex-1 px-4 py-3 text-sm font-medium transition-all ${se==="single"?"bg-orange-500 text-white":"bg-gray-700/50 text-gray-300 hover:bg-gray-600/50"}`,children:" Mix Analysis"}),g.jsx("button",{onClick:()=>j("compare"),className:`flex-1 px-4 py-3 text-sm font-medium transition-all ${se==="compare"?"bg-orange-500 text-white":"bg-gray-700/50 text-gray-300 hover:bg-gray-600/50"}`,children:" Mix Compare"})]}),se==="single"&&g.jsx(st,{title:"Upload Your Mix",className:"bg-gray-800/80 backdrop-blur-md shadow-xl border border-gray-700/50",children:g.jsxs("form",{onSubmit:Fl,className:"space-y-5",children:[g.jsxs("div",{children:[g.jsx("label",{htmlFor:"mix-audio-file",className:"block text-sm font-medium text-gray-300 mb-1",children:"Audio File (.mp3, .wav, etc.)"}),g.jsx("div",{className:`mt-1 flex justify-center px-6 pt-5 pb-6 border-2 ${$&&pe.audioFile===null?"border-red-500":"border-gray-600"} border-dashed rounded-md cursor-pointer hover:border-orange-500 transition-colors`,onClick:()=>{var ne;return(ne=mt.current)==null?void 0:ne.click()},onDragOver:ne=>{ne.preventDefault(),ne.currentTarget.classList.add("border-orange-500")},onDragLeave:ne=>ne.currentTarget.classList.remove("border-orange-500"),onDrop:ne=>{if(ne.preventDefault(),ne.currentTarget.classList.remove("border-orange-500"),ne.dataTransfer.files&&ne.dataTransfer.files[0]){const xe=ne.dataTransfer.files[0];if(xe.size>fc){N(`File is too large. Max ${_a}MB.`);return}if(!xe.type.startsWith("audio/")){N("Invalid file type. Please upload audio.");return}re(Ie=>({...Ie,audioFile:xe})),N(null)}},children:g.jsxs("div",{className:"space-y-1 text-center",children:[g.jsx(xm,{className:"mx-auto h-12 w-12 text-gray-500"}),g.jsxs("div",{className:"flex text-sm text-gray-400",children:[g.jsx("span",{className:"relative rounded-md font-medium text-orange-400 hover:text-orange-300 focus-within:outline-none focus-within:ring-2 focus-within:ring-offset-2 focus-within:ring-offset-gray-900 focus-within:ring-orange-500",children:g.jsx("span",{children:"Upload a file"})}),g.jsx("input",{id:"mix-audio-file",name:"mix-audio-file",type:"file",className:"sr-only",accept:"audio/*",onChange:Pt,ref:mt}),g.jsx("p",{className:"pl-1",children:"or drag and drop"})]}),g.jsxs("p",{className:"text-xs text-gray-500",children:["Max file size: ",_a,"MB"]})]})}),pe.audioFile&&g.jsxs("p",{className:"text-xs text-green-400 mt-2",children:["Selected: ",pe.audioFile.name," (",(pe.audioFile.size/1024/1024).toFixed(2)," MB)"]}),$&&pe.audioFile===null&&g.jsx("p",{className:"text-xs text-red-400 mt-2",children:$})]}),g.jsx("div",{children:g.jsx(us,{label:"Notes for AI",name:"mixUserNotes",value:pe.userNotes,onChange:pn,placeholder:"e.g., 'Focus on the low-end clarity', 'Is the vocal too loud?', 'General feedback welcome.'",rows:4})}),g.jsx($e,{type:"submit",disabled:C||!pe.audioFile,className:"w-full text-base py-2.5 !bg-orange-600 hover:!bg-orange-700 focus:!ring-orange-500",leftIcon:g.jsx(Em,{className:"w-5 h-5"}),children:C?"Analyzing Mix...":"Get Mix Feedback"}),g.jsx($e,{type:"button",onClick:Hl,variant:"outline",className:"w-full !border-orange-500 !text-orange-400 hover:!bg-orange-500 hover:!text-white",children:"Clear Mix Form"})]})}),se==="compare"&&g.jsxs("div",{className:"space-y-5",children:[g.jsxs(st,{title:"Mix A (Original)",className:"bg-gray-800/80 backdrop-blur-md shadow-xl border border-gray-700/50",children:[g.jsx("div",{className:`mt-1 flex justify-center px-6 pt-5 pb-6 border-2 ${we&&!ie.mixA?"border-red-500":"border-gray-600"} border-dashed rounded-md cursor-pointer hover:border-orange-500 transition-colors`,onClick:()=>{var ne;return(ne=document.getElementById("mixA-upload"))==null?void 0:ne.click()},children:g.jsxs("div",{className:"space-y-1 text-center",children:[g.jsx(xm,{className:"mx-auto h-12 w-12 text-gray-400"}),g.jsxs("div",{className:"flex text-sm text-gray-400",children:[g.jsxs("label",{htmlFor:"mixA-upload",className:"relative cursor-pointer rounded-md font-medium text-orange-400 hover:text-orange-300",children:[g.jsx("span",{children:"Upload Mix A"}),g.jsx("input",{id:"mixA-upload",name:"mixA-upload",type:"file",className:"sr-only",accept:"audio/*",onChange:ne=>{var Ie;const xe=(Ie=ne.target.files)==null?void 0:Ie[0];if(xe){if(xe.size>fc){ft(`File is too large. Max ${_a}MB.`);return}if(!xe.type.startsWith("audio/")){ft("Invalid file type. Please upload audio.");return}_e(Ue=>({...Ue,mixA:xe})),ft(null)}}})]}),g.jsx("p",{className:"pl-1",children:"or drag and drop"})]}),g.jsxs("p",{className:"text-xs text-gray-500",children:["MP3, WAV, FLAC up to ",_a,"MB"]})]})}),ie.mixA&&g.jsxs("p",{className:"text-xs text-green-400 mt-2",children:["Selected: ",ie.mixA.name," (",(ie.mixA.size/1024/1024).toFixed(2)," MB)"]})]}),g.jsxs(st,{title:"Mix B (Revised)",className:"bg-gray-800/80 backdrop-blur-md shadow-xl border border-gray-700/50",children:[g.jsx("div",{className:`mt-1 flex justify-center px-6 pt-5 pb-6 border-2 ${we&&!ie.mixB?"border-red-500":"border-gray-600"} border-dashed rounded-md cursor-pointer hover:border-orange-500 transition-colors`,onClick:()=>{var ne;return(ne=document.getElementById("mixB-upload"))==null?void 0:ne.click()},children:g.jsxs("div",{className:"space-y-1 text-center",children:[g.jsx(xm,{className:"mx-auto h-12 w-12 text-gray-400"}),g.jsxs("div",{className:"flex text-sm text-gray-400",children:[g.jsxs("label",{htmlFor:"mixB-upload",className:"relative cursor-pointer rounded-md font-medium text-orange-400 hover:text-orange-300",children:[g.jsx("span",{children:"Upload Mix B"}),g.jsx("input",{id:"mixB-upload",name:"mixB-upload",type:"file",className:"sr-only",accept:"audio/*",onChange:ne=>{var Ie;const xe=(Ie=ne.target.files)==null?void 0:Ie[0];if(xe){if(xe.size>fc){ft(`File is too large. Max ${_a}MB.`);return}if(!xe.type.startsWith("audio/")){ft("Invalid file type. Please upload audio.");return}_e(Ue=>({...Ue,mixB:xe})),ft(null)}}})]}),g.jsx("p",{className:"pl-1",children:"or drag and drop"})]}),g.jsxs("p",{className:"text-xs text-gray-500",children:["MP3, WAV, FLAC up to ",_a,"MB"]})]})}),ie.mixB&&g.jsxs("p",{className:"text-xs text-green-400 mt-2",children:["Selected: ",ie.mixB.name," (",(ie.mixB.size/1024/1024).toFixed(2)," MB)"]})]}),g.jsx(st,{title:"Notes for AI",className:"bg-gray-800/80 backdrop-blur-md shadow-xl border border-gray-700/50",children:g.jsx(us,{placeholder:"Describe what you want the AI to focus on when comparing these mixes. For example: 'Focus on the vocal clarity and low-end balance' or 'Compare the stereo width and overall loudness'...",value:ie.userNotes,onChange:ne=>_e(xe=>({...xe,userNotes:ne.target.value})),rows:3,className:"w-full"})}),g.jsx($e,{onClick:Ua,disabled:tt||!ie.mixA||!ie.mixB,variant:"primary",className:"w-full px-4 py-3 text-base font-semibold",leftIcon:g.jsx("span",{className:"w-5 h-5 text-center",children:""}),children:tt?"Comparing Mixes...":"Compare Mixes"}),g.jsx($e,{type:"button",onClick:ad,variant:"outline",className:"w-full !border-orange-500 !text-orange-400 hover:!bg-orange-500 hover:!text-white",children:"Reset"}),we&&!tt&&g.jsxs(st,{className:"border-red-500 bg-red-900/40 shadow-xl",children:[g.jsx("p",{className:"text-red-300 font-semibold text-lg",children:"Mix Comparison Error:"}),g.jsx("p",{className:"text-red-300",children:we})]})]})]}),g.jsxs("div",{className:"md:col-span-9 space-y-6",children:[C&&w&&se==="single"&&g.jsx(st,{title:"AI Mix Feedback Report (Generating...)",className:"bg-gray-800/80 backdrop-blur-md shadow-xl border border-gray-700/50 sticky top-8",titleClassName:"border-b border-gray-700 text-xl !text-orange-300",children:g.jsx("div",{className:"prose prose-sm md:prose-base prose-invert max-w-none max-h-[calc(100vh-6rem)] overflow-y-auto pr-3 text-gray-300 custom-scrollbar guidebook-content",children:g.jsx(dr,{content:w})})}),tt&&ze&&se==="compare"&&g.jsx(st,{title:"AI Mix Comparison Report (Generating...)",className:"bg-gray-800/80 backdrop-blur-md shadow-xl border border-gray-700/50 sticky top-8",titleClassName:"border-b border-gray-700 text-xl !text-orange-300",children:g.jsx("div",{className:"prose prose-sm md:prose-base prose-invert max-w-none max-h-[calc(100vh-6rem)] overflow-y-auto pr-3 text-gray-300 custom-scrollbar guidebook-content",children:g.jsx(dr,{content:ze})})}),(C&&!w&&se==="single"||tt&&!ze&&se==="compare")&&g.jsx("div",{className:"flex justify-center items-center h-full min-h-[500px]",children:g.jsx(vi,{size:"lg",color:"text-orange-500",text:se==="single"?"AI is analyzing your mix... this may take a moment.":"AI is comparing your mixes... this may take a moment."})}),$&&!C&&se==="single"&&g.jsxs(st,{className:"border-red-500 bg-red-900/40 shadow-xl",children:[g.jsx("p",{className:"text-red-300 font-semibold text-lg",children:"Mix Feedback Error:"}),g.jsx("p",{className:"text-red-300",children:$})]}),we&&!tt&&se==="compare"&&g.jsxs(st,{className:"border-red-500 bg-red-900/40 shadow-xl",children:[g.jsx("p",{className:"text-red-300 font-semibold text-lg",children:"Mix Comparison Error:"}),g.jsx("p",{className:"text-red-300",children:we})]}),W&&!C&&se==="single"&&g.jsx(st,{title:"AI Mix Feedback Report",className:"bg-gray-800/80 backdrop-blur-md shadow-xl border border-gray-700/50 sticky top-8",titleClassName:"border-b border-gray-700 text-xl !text-orange-300",children:g.jsx("div",{id:"mix-feedback-display",className:"prose prose-sm md:prose-base prose-invert max-w-none max-h-[calc(100vh-6rem)] overflow-y-auto pr-3 text-gray-300 custom-scrollbar guidebook-content",children:g.jsx(dr,{content:function(){let ne=(W||"").trim();const xe=ne.match(/(^|\n)(##? ||Audio Analysis Results)/);return xe&&xe.index!==void 0&&(ne=ne.slice(xe.index).trim()),ne}()})})}),Ce&&!tt&&se==="compare"&&g.jsxs(st,{title:"AI Mix Comparison Report",className:"bg-gray-800/80 backdrop-blur-md shadow-xl border border-gray-700/50 sticky top-8",titleClassName:"border-b border-gray-700 text-xl !text-orange-300",children:[g.jsx("div",{id:"mix-comparison-display",className:"prose prose-sm md:prose-base prose-invert max-w-none max-h-[calc(100vh-6rem)] overflow-y-auto pr-3 text-gray-300 custom-scrollbar guidebook-content",children:g.jsx(dr,{content:Ce})}),g.jsx("div",{className:"p-4 border-t border-gray-700 flex justify-center",children:g.jsx($e,{onClick:async()=>{var ne,xe;if(ie.mixB){U(!0),z(null),N(null),re({audioFile:ie.mixB,userNotes:ie.userNotes,trackName:((ne=ie.mixB)==null?void 0:ne.name)||"Mix B"});try{const Ie=await uR({audioFile:ie.mixB,userNotes:ie.userNotes,trackName:((xe=ie.mixB)==null?void 0:xe.name)||"Mix B"});z(Ie)}catch(Ie){console.error("Full Mix B Feedback Error:",Ie),N(Ie.message||"Failed to generate feedback for Mix B.")}finally{U(!1)}}},disabled:C,className:"w-full mt-4 text-base py-2.5 !bg-orange-600 hover:!bg-orange-700 focus:!ring-orange-500",leftIcon:g.jsx(Em,{className:"w-5 h-5"}),children:C?"Analyzing Mix B...":"Get Full Feedback for Mix B"})})]}),!C&&!tt&&!W&&!Ce&&!$&&!we&&g.jsxs(st,{className:"bg-gray-800/80 backdrop-blur-md shadow-xl border border-gray-700/50 flex flex-col items-center justify-center h-96 text-center min-h-[500px]",children:[g.jsx("div",{className:"flex justify-center mb-6",children:g.jsx(dc,{className:"w-20 h-20 opacity-80"})}),g.jsx("h3",{className:"text-2xl font-semibold text-gray-200 mb-2",children:"Refine Your Sound."}),g.jsx("p",{className:"text-gray-400 max-w-md",children:se==="single"?"Upload your mix, add some notes, and get detailed feedback from our AI mixing engineer.":"Upload two mix versions to compare them side-by-side and get detailed analysis of the differences."})]})]})]}),e==="remixGuide"&&g.jsx("div",{className:"max-w-7xl mx-auto",children:g.jsx(O8,{onContentUpdate:vr})}),e==="eqGuide"&&g.jsx("div",{className:"max-w-7xl mx-auto",children:g.jsx(AR,{})}),e==="patchGuide"&&g.jsx("div",{className:"max-w-7xl mx-auto",children:g.jsx(YV,{onContentUpdate:Wi})}),q&&g.jsx(XV,{library:H,onClose:()=>ue(!1),onLoadEntry:tn,onDeleteEntry:Un,onCreateNew:ke}),g.jsx(xR,{isOpen:!be,onClose:()=>Se(!0),currentGuidebook:V||void 0,userInputs:n,isCollapsed:be,onToggle:()=>Se(!be),remixGuideContent:Rt,mixFeedbackContent:W||void 0,mixComparisonContent:Ce||void 0,patchGuideContent:Fa,activeView:e}),g.jsx("footer",{className:"text-center mt-16 py-8 border-t border-gray-700/60",children:g.jsxs("p",{className:"text-sm text-gray-500",children:[KT," - AI Production Assistant"]})})]})},FC=document.getElementById("root");if(!FC)throw new Error("Could not find root element to mount to");const JV=nI.createRoot(FC);JV.render(g.jsx(Hc.StrictMode,{children:g.jsx(QV,{})}));
