(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const l of o)if(l.type==="childList")for(const u of l.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&r(u)}).observe(document,{childList:!0,subtree:!0});function n(o){const l={};return o.integrity&&(l.integrity=o.integrity),o.referrerPolicy&&(l.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?l.credentials="include":o.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function r(o){if(o.ep)return;o.ep=!0;const l=n(o);fetch(o.href,l)}})();function ws(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function rE(e){if(Object.prototype.hasOwnProperty.call(e,"__esModule"))return e;var t=e.default;if(typeof t=="function"){var n=function r(){return this instanceof r?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var o=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,o.get?o:{enumerable:!0,get:function(){return e[r]}})}),n}var Jf={exports:{}},Ko={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var l0;function aE(){if(l0)return Ko;l0=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(r,o,l){var u=null;if(l!==void 0&&(u=""+l),o.key!==void 0&&(u=""+o.key),"key"in o){l={};for(var f in o)f!=="key"&&(l[f]=o[f])}else l=o;return o=l.ref,{$$typeof:e,type:r,key:u,ref:o!==void 0?o:null,props:l}}return Ko.Fragment=t,Ko.jsx=n,Ko.jsxs=n,Ko}var u0;function oE(){return u0||(u0=1,Jf.exports=aE()),Jf.exports}var y=oE(),Zf={exports:{}},_e={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var c0;function sE(){if(c0)return _e;c0=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),u=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),g=Symbol.iterator;function T(C){return C===null||typeof C!="object"?null:(C=g&&C[g]||C["@@iterator"],typeof C=="function"?C:null)}var S={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},E=Object.assign,A={};function L(C,B,Y){this.props=C,this.context=B,this.refs=A,this.updater=Y||S}L.prototype.isReactComponent={},L.prototype.setState=function(C,B){if(typeof C!="object"&&typeof C!="function"&&C!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,C,B,"setState")},L.prototype.forceUpdate=function(C){this.updater.enqueueForceUpdate(this,C,"forceUpdate")};function I(){}I.prototype=L.prototype;function N(C,B,Y){this.props=C,this.context=B,this.refs=A,this.updater=Y||S}var R=N.prototype=new I;R.constructor=N,E(R,L.prototype),R.isPureReactComponent=!0;var z=Array.isArray,G={H:null,A:null,T:null,S:null,V:null},j=Object.prototype.hasOwnProperty;function se(C,B,Y,D,te,P){return Y=P.ref,{$$typeof:e,type:C,key:B,ref:Y!==void 0?Y:null,props:P}}function le(C,B){return se(C.type,B,void 0,void 0,void 0,C.props)}function pe(C){return typeof C=="object"&&C!==null&&C.$$typeof===e}function H(C){var B={"=":"=0",":":"=2"};return"$"+C.replace(/[=:]/g,function(Y){return B[Y]})}var ce=/\/+/g;function J(C,B){return typeof C=="object"&&C!==null&&C.key!=null?H(""+C.key):B.toString(36)}function me(){}function fe(C){switch(C.status){case"fulfilled":return C.value;case"rejected":throw C.reason;default:switch(typeof C.status=="string"?C.then(me,me):(C.status="pending",C.then(function(B){C.status==="pending"&&(C.status="fulfilled",C.value=B)},function(B){C.status==="pending"&&(C.status="rejected",C.reason=B)})),C.status){case"fulfilled":return C.value;case"rejected":throw C.reason}}throw C}function he(C,B,Y,D,te){var P=typeof C;(P==="undefined"||P==="boolean")&&(C=null);var ne=!1;if(C===null)ne=!0;else switch(P){case"bigint":case"string":case"number":ne=!0;break;case"object":switch(C.$$typeof){case e:case t:ne=!0;break;case h:return ne=C._init,he(ne(C._payload),B,Y,D,te)}}if(ne)return te=te(C),ne=D===""?"."+J(C,0):D,z(te)?(Y="",ne!=null&&(Y=ne.replace(ce,"$&/")+"/"),he(te,B,Y,"",function(Te){return Te})):te!=null&&(pe(te)&&(te=le(te,Y+(te.key==null||C&&C.key===te.key?"":(""+te.key).replace(ce,"$&/")+"/")+ne)),B.push(te)),1;ne=0;var ye=D===""?".":D+":";if(z(C))for(var oe=0;oe<C.length;oe++)D=C[oe],P=ye+J(D,oe),ne+=he(D,B,Y,P,te);else if(oe=T(C),typeof oe=="function")for(C=oe.call(C),oe=0;!(D=C.next()).done;)D=D.value,P=ye+J(D,oe++),ne+=he(D,B,Y,P,te);else if(P==="object"){if(typeof C.then=="function")return he(fe(C),B,Y,D,te);throw B=String(C),Error("Objects are not valid as a React child (found: "+(B==="[object Object]"?"object with keys {"+Object.keys(C).join(", ")+"}":B)+"). If you meant to render a collection of children, use an array instead.")}return ne}function q(C,B,Y){if(C==null)return C;var D=[],te=0;return he(C,D,"","",function(P){return B.call(Y,P,te++)}),D}function O(C){if(C._status===-1){var B=C._result;B=B(),B.then(function(Y){(C._status===0||C._status===-1)&&(C._status=1,C._result=Y)},function(Y){(C._status===0||C._status===-1)&&(C._status=2,C._result=Y)}),C._status===-1&&(C._status=0,C._result=B)}if(C._status===1)return C._result.default;throw C._result}var k=typeof reportError=="function"?reportError:function(C){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var B=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof C=="object"&&C!==null&&typeof C.message=="string"?String(C.message):String(C),error:C});if(!window.dispatchEvent(B))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",C);return}console.error(C)};function _(){}return _e.Children={map:q,forEach:function(C,B,Y){q(C,function(){B.apply(this,arguments)},Y)},count:function(C){var B=0;return q(C,function(){B++}),B},toArray:function(C){return q(C,function(B){return B})||[]},only:function(C){if(!pe(C))throw Error("React.Children.only expected to receive a single React element child.");return C}},_e.Component=L,_e.Fragment=n,_e.Profiler=o,_e.PureComponent=N,_e.StrictMode=r,_e.Suspense=m,_e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=G,_e.__COMPILER_RUNTIME={__proto__:null,c:function(C){return G.H.useMemoCache(C)}},_e.cache=function(C){return function(){return C.apply(null,arguments)}},_e.cloneElement=function(C,B,Y){if(C==null)throw Error("The argument must be a React element, but you passed "+C+".");var D=E({},C.props),te=C.key,P=void 0;if(B!=null)for(ne in B.ref!==void 0&&(P=void 0),B.key!==void 0&&(te=""+B.key),B)!j.call(B,ne)||ne==="key"||ne==="__self"||ne==="__source"||ne==="ref"&&B.ref===void 0||(D[ne]=B[ne]);var ne=arguments.length-2;if(ne===1)D.children=Y;else if(1<ne){for(var ye=Array(ne),oe=0;oe<ne;oe++)ye[oe]=arguments[oe+2];D.children=ye}return se(C.type,te,void 0,void 0,P,D)},_e.createContext=function(C){return C={$$typeof:u,_currentValue:C,_currentValue2:C,_threadCount:0,Provider:null,Consumer:null},C.Provider=C,C.Consumer={$$typeof:l,_context:C},C},_e.createElement=function(C,B,Y){var D,te={},P=null;if(B!=null)for(D in B.key!==void 0&&(P=""+B.key),B)j.call(B,D)&&D!=="key"&&D!=="__self"&&D!=="__source"&&(te[D]=B[D]);var ne=arguments.length-2;if(ne===1)te.children=Y;else if(1<ne){for(var ye=Array(ne),oe=0;oe<ne;oe++)ye[oe]=arguments[oe+2];te.children=ye}if(C&&C.defaultProps)for(D in ne=C.defaultProps,ne)te[D]===void 0&&(te[D]=ne[D]);return se(C,P,void 0,void 0,null,te)},_e.createRef=function(){return{current:null}},_e.forwardRef=function(C){return{$$typeof:f,render:C}},_e.isValidElement=pe,_e.lazy=function(C){return{$$typeof:h,_payload:{_status:-1,_result:C},_init:O}},_e.memo=function(C,B){return{$$typeof:d,type:C,compare:B===void 0?null:B}},_e.startTransition=function(C){var B=G.T,Y={};G.T=Y;try{var D=C(),te=G.S;te!==null&&te(Y,D),typeof D=="object"&&D!==null&&typeof D.then=="function"&&D.then(_,k)}catch(P){k(P)}finally{G.T=B}},_e.unstable_useCacheRefresh=function(){return G.H.useCacheRefresh()},_e.use=function(C){return G.H.use(C)},_e.useActionState=function(C,B,Y){return G.H.useActionState(C,B,Y)},_e.useCallback=function(C,B){return G.H.useCallback(C,B)},_e.useContext=function(C){return G.H.useContext(C)},_e.useDebugValue=function(){},_e.useDeferredValue=function(C,B){return G.H.useDeferredValue(C,B)},_e.useEffect=function(C,B,Y){var D=G.H;if(typeof Y=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return D.useEffect(C,B)},_e.useId=function(){return G.H.useId()},_e.useImperativeHandle=function(C,B,Y){return G.H.useImperativeHandle(C,B,Y)},_e.useInsertionEffect=function(C,B){return G.H.useInsertionEffect(C,B)},_e.useLayoutEffect=function(C,B){return G.H.useLayoutEffect(C,B)},_e.useMemo=function(C,B){return G.H.useMemo(C,B)},_e.useOptimistic=function(C,B){return G.H.useOptimistic(C,B)},_e.useReducer=function(C,B,Y){return G.H.useReducer(C,B,Y)},_e.useRef=function(C){return G.H.useRef(C)},_e.useState=function(C){return G.H.useState(C)},_e.useSyncExternalStore=function(C,B,Y){return G.H.useSyncExternalStore(C,B,Y)},_e.useTransition=function(){return G.H.useTransition()},_e.version="19.1.0",_e}var f0;function Im(){return f0||(f0=1,Zf.exports=sE()),Zf.exports}var ae=Im();const km=ws(ae);var ed={exports:{}},Xo={},td={exports:{}},nd={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var d0;function lE(){return d0||(d0=1,function(e){function t(q,O){var k=q.length;q.push(O);e:for(;0<k;){var _=k-1>>>1,C=q[_];if(0<o(C,O))q[_]=O,q[k]=C,k=_;else break e}}function n(q){return q.length===0?null:q[0]}function r(q){if(q.length===0)return null;var O=q[0],k=q.pop();if(k!==O){q[0]=k;e:for(var _=0,C=q.length,B=C>>>1;_<B;){var Y=2*(_+1)-1,D=q[Y],te=Y+1,P=q[te];if(0>o(D,k))te<C&&0>o(P,D)?(q[_]=P,q[te]=k,_=te):(q[_]=D,q[Y]=k,_=Y);else if(te<C&&0>o(P,k))q[_]=P,q[te]=k,_=te;else break e}}return O}function o(q,O){var k=q.sortIndex-O.sortIndex;return k!==0?k:q.id-O.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;e.unstable_now=function(){return l.now()}}else{var u=Date,f=u.now();e.unstable_now=function(){return u.now()-f}}var m=[],d=[],h=1,g=null,T=3,S=!1,E=!1,A=!1,L=!1,I=typeof setTimeout=="function"?setTimeout:null,N=typeof clearTimeout=="function"?clearTimeout:null,R=typeof setImmediate<"u"?setImmediate:null;function z(q){for(var O=n(d);O!==null;){if(O.callback===null)r(d);else if(O.startTime<=q)r(d),O.sortIndex=O.expirationTime,t(m,O);else break;O=n(d)}}function G(q){if(A=!1,z(q),!E)if(n(m)!==null)E=!0,j||(j=!0,J());else{var O=n(d);O!==null&&he(G,O.startTime-q)}}var j=!1,se=-1,le=5,pe=-1;function H(){return L?!0:!(e.unstable_now()-pe<le)}function ce(){if(L=!1,j){var q=e.unstable_now();pe=q;var O=!0;try{e:{E=!1,A&&(A=!1,N(se),se=-1),S=!0;var k=T;try{t:{for(z(q),g=n(m);g!==null&&!(g.expirationTime>q&&H());){var _=g.callback;if(typeof _=="function"){g.callback=null,T=g.priorityLevel;var C=_(g.expirationTime<=q);if(q=e.unstable_now(),typeof C=="function"){g.callback=C,z(q),O=!0;break t}g===n(m)&&r(m),z(q)}else r(m);g=n(m)}if(g!==null)O=!0;else{var B=n(d);B!==null&&he(G,B.startTime-q),O=!1}}break e}finally{g=null,T=k,S=!1}O=void 0}}finally{O?J():j=!1}}}var J;if(typeof R=="function")J=function(){R(ce)};else if(typeof MessageChannel<"u"){var me=new MessageChannel,fe=me.port2;me.port1.onmessage=ce,J=function(){fe.postMessage(null)}}else J=function(){I(ce,0)};function he(q,O){se=I(function(){q(e.unstable_now())},O)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(q){q.callback=null},e.unstable_forceFrameRate=function(q){0>q||125<q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):le=0<q?Math.floor(1e3/q):5},e.unstable_getCurrentPriorityLevel=function(){return T},e.unstable_next=function(q){switch(T){case 1:case 2:case 3:var O=3;break;default:O=T}var k=T;T=O;try{return q()}finally{T=k}},e.unstable_requestPaint=function(){L=!0},e.unstable_runWithPriority=function(q,O){switch(q){case 1:case 2:case 3:case 4:case 5:break;default:q=3}var k=T;T=q;try{return O()}finally{T=k}},e.unstable_scheduleCallback=function(q,O,k){var _=e.unstable_now();switch(typeof k=="object"&&k!==null?(k=k.delay,k=typeof k=="number"&&0<k?_+k:_):k=_,q){case 1:var C=-1;break;case 2:C=250;break;case 5:C=1073741823;break;case 4:C=1e4;break;default:C=5e3}return C=k+C,q={id:h++,callback:O,priorityLevel:q,startTime:k,expirationTime:C,sortIndex:-1},k>_?(q.sortIndex=k,t(d,q),n(m)===null&&q===n(d)&&(A?(N(se),se=-1):A=!0,he(G,k-_))):(q.sortIndex=C,t(m,q),E||S||(E=!0,j||(j=!0,J()))),q},e.unstable_shouldYield=H,e.unstable_wrapCallback=function(q){var O=T;return function(){var k=T;T=O;try{return q.apply(this,arguments)}finally{T=k}}}}(nd)),nd}var m0;function uE(){return m0||(m0=1,td.exports=lE()),td.exports}var id={exports:{}},Ut={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var h0;function cE(){if(h0)return Ut;h0=1;var e=Im();function t(m){var d="https://react.dev/errors/"+m;if(1<arguments.length){d+="?args[]="+encodeURIComponent(arguments[1]);for(var h=2;h<arguments.length;h++)d+="&args[]="+encodeURIComponent(arguments[h])}return"Minified React error #"+m+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function l(m,d,h){var g=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:g==null?null:""+g,children:m,containerInfo:d,implementation:h}}var u=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function f(m,d){if(m==="font")return"";if(typeof d=="string")return d==="use-credentials"?d:""}return Ut.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Ut.createPortal=function(m,d){var h=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!d||d.nodeType!==1&&d.nodeType!==9&&d.nodeType!==11)throw Error(t(299));return l(m,d,null,h)},Ut.flushSync=function(m){var d=u.T,h=r.p;try{if(u.T=null,r.p=2,m)return m()}finally{u.T=d,r.p=h,r.d.f()}},Ut.preconnect=function(m,d){typeof m=="string"&&(d?(d=d.crossOrigin,d=typeof d=="string"?d==="use-credentials"?d:"":void 0):d=null,r.d.C(m,d))},Ut.prefetchDNS=function(m){typeof m=="string"&&r.d.D(m)},Ut.preinit=function(m,d){if(typeof m=="string"&&d&&typeof d.as=="string"){var h=d.as,g=f(h,d.crossOrigin),T=typeof d.integrity=="string"?d.integrity:void 0,S=typeof d.fetchPriority=="string"?d.fetchPriority:void 0;h==="style"?r.d.S(m,typeof d.precedence=="string"?d.precedence:void 0,{crossOrigin:g,integrity:T,fetchPriority:S}):h==="script"&&r.d.X(m,{crossOrigin:g,integrity:T,fetchPriority:S,nonce:typeof d.nonce=="string"?d.nonce:void 0})}},Ut.preinitModule=function(m,d){if(typeof m=="string")if(typeof d=="object"&&d!==null){if(d.as==null||d.as==="script"){var h=f(d.as,d.crossOrigin);r.d.M(m,{crossOrigin:h,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0})}}else d==null&&r.d.M(m)},Ut.preload=function(m,d){if(typeof m=="string"&&typeof d=="object"&&d!==null&&typeof d.as=="string"){var h=d.as,g=f(h,d.crossOrigin);r.d.L(m,h,{crossOrigin:g,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0,type:typeof d.type=="string"?d.type:void 0,fetchPriority:typeof d.fetchPriority=="string"?d.fetchPriority:void 0,referrerPolicy:typeof d.referrerPolicy=="string"?d.referrerPolicy:void 0,imageSrcSet:typeof d.imageSrcSet=="string"?d.imageSrcSet:void 0,imageSizes:typeof d.imageSizes=="string"?d.imageSizes:void 0,media:typeof d.media=="string"?d.media:void 0})}},Ut.preloadModule=function(m,d){if(typeof m=="string")if(d){var h=f(d.as,d.crossOrigin);r.d.m(m,{as:typeof d.as=="string"&&d.as!=="script"?d.as:void 0,crossOrigin:h,integrity:typeof d.integrity=="string"?d.integrity:void 0})}else r.d.m(m)},Ut.requestFormReset=function(m){r.d.r(m)},Ut.unstable_batchedUpdates=function(m,d){return m(d)},Ut.useFormState=function(m,d,h){return u.H.useFormState(m,d,h)},Ut.useFormStatus=function(){return u.H.useHostTransitionStatus()},Ut.version="19.1.0",Ut}var p0;function fE(){if(p0)return id.exports;p0=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),id.exports=cE(),id.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var g0;function dE(){if(g0)return Xo;g0=1;var e=uE(),t=Im(),n=fE();function r(i){var a="https://react.dev/errors/"+i;if(1<arguments.length){a+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)a+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+i+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function l(i){var a=i,s=i;if(i.alternate)for(;a.return;)a=a.return;else{i=a;do a=i,(a.flags&4098)!==0&&(s=a.return),i=a.return;while(i)}return a.tag===3?s:null}function u(i){if(i.tag===13){var a=i.memoizedState;if(a===null&&(i=i.alternate,i!==null&&(a=i.memoizedState)),a!==null)return a.dehydrated}return null}function f(i){if(l(i)!==i)throw Error(r(188))}function m(i){var a=i.alternate;if(!a){if(a=l(i),a===null)throw Error(r(188));return a!==i?null:i}for(var s=i,c=a;;){var p=s.return;if(p===null)break;var b=p.alternate;if(b===null){if(c=p.return,c!==null){s=c;continue}break}if(p.child===b.child){for(b=p.child;b;){if(b===s)return f(p),i;if(b===c)return f(p),a;b=b.sibling}throw Error(r(188))}if(s.return!==c.return)s=p,c=b;else{for(var M=!1,w=p.child;w;){if(w===s){M=!0,s=p,c=b;break}if(w===c){M=!0,c=p,s=b;break}w=w.sibling}if(!M){for(w=b.child;w;){if(w===s){M=!0,s=b,c=p;break}if(w===c){M=!0,c=b,s=p;break}w=w.sibling}if(!M)throw Error(r(189))}}if(s.alternate!==c)throw Error(r(190))}if(s.tag!==3)throw Error(r(188));return s.stateNode.current===s?i:a}function d(i){var a=i.tag;if(a===5||a===26||a===27||a===6)return i;for(i=i.child;i!==null;){if(a=d(i),a!==null)return a;i=i.sibling}return null}var h=Object.assign,g=Symbol.for("react.element"),T=Symbol.for("react.transitional.element"),S=Symbol.for("react.portal"),E=Symbol.for("react.fragment"),A=Symbol.for("react.strict_mode"),L=Symbol.for("react.profiler"),I=Symbol.for("react.provider"),N=Symbol.for("react.consumer"),R=Symbol.for("react.context"),z=Symbol.for("react.forward_ref"),G=Symbol.for("react.suspense"),j=Symbol.for("react.suspense_list"),se=Symbol.for("react.memo"),le=Symbol.for("react.lazy"),pe=Symbol.for("react.activity"),H=Symbol.for("react.memo_cache_sentinel"),ce=Symbol.iterator;function J(i){return i===null||typeof i!="object"?null:(i=ce&&i[ce]||i["@@iterator"],typeof i=="function"?i:null)}var me=Symbol.for("react.client.reference");function fe(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===me?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case E:return"Fragment";case L:return"Profiler";case A:return"StrictMode";case G:return"Suspense";case j:return"SuspenseList";case pe:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case S:return"Portal";case R:return(i.displayName||"Context")+".Provider";case N:return(i._context.displayName||"Context")+".Consumer";case z:var a=i.render;return i=i.displayName,i||(i=a.displayName||a.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case se:return a=i.displayName||null,a!==null?a:fe(i.type)||"Memo";case le:a=i._payload,i=i._init;try{return fe(i(a))}catch{}}return null}var he=Array.isArray,q=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,O=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,k={pending:!1,data:null,method:null,action:null},_=[],C=-1;function B(i){return{current:i}}function Y(i){0>C||(i.current=_[C],_[C]=null,C--)}function D(i,a){C++,_[C]=i.current,i.current=a}var te=B(null),P=B(null),ne=B(null),ye=B(null);function oe(i,a){switch(D(ne,a),D(P,i),D(te,null),a.nodeType){case 9:case 11:i=(i=a.documentElement)&&(i=i.namespaceURI)?Py(i):0;break;default:if(i=a.tagName,a=a.namespaceURI)a=Py(a),i=By(a,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}Y(te),D(te,i)}function Te(){Y(te),Y(P),Y(ne)}function Me(i){i.memoizedState!==null&&D(ye,i);var a=te.current,s=By(a,i.type);a!==s&&(D(P,i),D(te,s))}function Re(i){P.current===i&&(Y(te),Y(P)),ye.current===i&&(Y(ye),Uo._currentValue=k)}var $e=Object.prototype.hasOwnProperty,Ve=e.unstable_scheduleCallback,Ne=e.unstable_cancelCallback,rt=e.unstable_shouldYield,at=e.unstable_requestPaint,mt=e.unstable_now,Hr=e.unstable_getCurrentPriorityLevel,wt=e.unstable_ImmediatePriority,ii=e.unstable_UserBlockingPriority,ri=e.unstable_NormalPriority,Ur=e.unstable_LowPriority,Gr=e.unstable_IdlePriority,qr=e.log,ur=e.unstable_setDisableYieldValue,Z=null,ue=null;function Se(i){if(typeof qr=="function"&&ur(i),ue&&typeof ue.setStrictMode=="function")try{ue.setStrictMode(Z,i)}catch{}}var Ee=Math.clz32?Math.clz32:Pn,Ke=Math.log,Ot=Math.LN2;function Pn(i){return i>>>=0,i===0?32:31-(Ke(i)/Ot|0)|0}var Ft=256,bn=4194304;function Kt(i){var a=i&42;if(a!==0)return a;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function xt(i,a,s){var c=i.pendingLanes;if(c===0)return 0;var p=0,b=i.suspendedLanes,M=i.pingedLanes;i=i.warmLanes;var w=c&134217727;return w!==0?(c=w&~b,c!==0?p=Kt(c):(M&=w,M!==0?p=Kt(M):s||(s=w&~i,s!==0&&(p=Kt(s))))):(w=c&~b,w!==0?p=Kt(w):M!==0?p=Kt(M):s||(s=c&~i,s!==0&&(p=Kt(s)))),p===0?0:a!==0&&a!==p&&(a&b)===0&&(b=p&-p,s=a&-a,b>=s||b===32&&(s&4194048)!==0)?a:p}function Jt(i,a){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&a)===0}function un(i,a){switch(i){case 1:case 2:case 4:case 8:case 64:return a+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function cn(){var i=Ft;return Ft<<=1,(Ft&4194048)===0&&(Ft=256),i}function Wa(){var i=bn;return bn<<=1,(bn&62914560)===0&&(bn=4194304),i}function Yr(i){for(var a=[],s=0;31>s;s++)a.push(i);return a}function Q(i,a){i.pendingLanes|=a,a!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function ge(i,a,s,c,p,b){var M=i.pendingLanes;i.pendingLanes=s,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=s,i.entangledLanes&=s,i.errorRecoveryDisabledLanes&=s,i.shellSuspendCounter=0;var w=i.entanglements,V=i.expirationTimes,K=i.hiddenUpdates;for(s=M&~s;0<s;){var ee=31-Ee(s),re=1<<ee;w[ee]=0,V[ee]=-1;var X=K[ee];if(X!==null)for(K[ee]=null,ee=0;ee<X.length;ee++){var W=X[ee];W!==null&&(W.lane&=-536870913)}s&=~re}c!==0&&ve(i,c,0),b!==0&&p===0&&i.tag!==0&&(i.suspendedLanes|=b&~(M&~a))}function ve(i,a,s){i.pendingLanes|=a,i.suspendedLanes&=~a;var c=31-Ee(a);i.entangledLanes|=a,i.entanglements[c]=i.entanglements[c]|1073741824|s&4194090}function He(i,a){var s=i.entangledLanes|=a;for(i=i.entanglements;s;){var c=31-Ee(s),p=1<<c;p&a|i[c]&a&&(i[c]|=a),s&=~p}}function zt(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function lt(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function Ps(){var i=O.p;return i!==0?i:(i=window.event,i===void 0?32:n0(i.type))}function Gu(i,a){var s=O.p;try{return O.p=i,a()}finally{O.p=s}}var qn=Math.random().toString(36).slice(2),kt="__reactFiber$"+qn,jt="__reactProps$"+qn,Ei="__reactContainer$"+qn,Qa="__reactEvents$"+qn,$r="__reactListeners$"+qn,Bs="__reactHandles$"+qn,Os="__reactResources$"+qn,cr="__reactMarker$"+qn;function Ja(i){delete i[kt],delete i[jt],delete i[Qa],delete i[$r],delete i[Bs]}function Ai(i){var a=i[kt];if(a)return a;for(var s=i.parentNode;s;){if(a=s[Ei]||s[kt]){if(s=a.alternate,a.child!==null||s!==null&&s.child!==null)for(i=jy(i);i!==null;){if(s=i[kt])return s;i=jy(i)}return a}i=s,s=i.parentNode}return null}function ai(i){if(i=i[kt]||i[Ei]){var a=i.tag;if(a===5||a===6||a===13||a===26||a===27||a===3)return i}return null}function fr(i){var a=i.tag;if(a===5||a===26||a===27||a===6)return i.stateNode;throw Error(r(33))}function dr(i){var a=i[Os];return a||(a=i[Os]={hoistableStyles:new Map,hoistableScripts:new Map}),a}function St(i){i[cr]=!0}var Zt=new Set,oi={};function Bn(i,a){wi(i,a),wi(i+"Capture",a)}function wi(i,a){for(oi[i]=a,i=0;i<a.length;i++)Zt.add(a[i])}var Za=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),mr={},eo={};function QS(i){return $e.call(eo,i)?!0:$e.call(mr,i)?!1:Za.test(i)?eo[i]=!0:(mr[i]=!0,!1)}function Fs(i,a,s){if(QS(a))if(s===null)i.removeAttribute(a);else{switch(typeof s){case"undefined":case"function":case"symbol":i.removeAttribute(a);return;case"boolean":var c=a.toLowerCase().slice(0,5);if(c!=="data-"&&c!=="aria-"){i.removeAttribute(a);return}}i.setAttribute(a,""+s)}}function zs(i,a,s){if(s===null)i.removeAttribute(a);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(a);return}i.setAttribute(a,""+s)}}function si(i,a,s,c){if(c===null)i.removeAttribute(s);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(s);return}i.setAttributeNS(a,s,""+c)}}var qu,Ih;function Kr(i){if(qu===void 0)try{throw Error()}catch(s){var a=s.stack.trim().match(/\n( *(at )?)/);qu=a&&a[1]||"",Ih=-1<s.stack.indexOf(`
    at`)?" (<anonymous>)":-1<s.stack.indexOf("@")?"@unknown:0:0":""}return`
`+qu+i+Ih}var Yu=!1;function $u(i,a){if(!i||Yu)return"";Yu=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var c={DetermineComponentFrameRoot:function(){try{if(a){var re=function(){throw Error()};if(Object.defineProperty(re.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(re,[])}catch(W){var X=W}Reflect.construct(i,[],re)}else{try{re.call()}catch(W){X=W}i.call(re.prototype)}}else{try{throw Error()}catch(W){X=W}(re=i())&&typeof re.catch=="function"&&re.catch(function(){})}}catch(W){if(W&&X&&typeof W.stack=="string")return[W.stack,X.stack]}return[null,null]}};c.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var p=Object.getOwnPropertyDescriptor(c.DetermineComponentFrameRoot,"name");p&&p.configurable&&Object.defineProperty(c.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var b=c.DetermineComponentFrameRoot(),M=b[0],w=b[1];if(M&&w){var V=M.split(`
`),K=w.split(`
`);for(p=c=0;c<V.length&&!V[c].includes("DetermineComponentFrameRoot");)c++;for(;p<K.length&&!K[p].includes("DetermineComponentFrameRoot");)p++;if(c===V.length||p===K.length)for(c=V.length-1,p=K.length-1;1<=c&&0<=p&&V[c]!==K[p];)p--;for(;1<=c&&0<=p;c--,p--)if(V[c]!==K[p]){if(c!==1||p!==1)do if(c--,p--,0>p||V[c]!==K[p]){var ee=`
`+V[c].replace(" at new "," at ");return i.displayName&&ee.includes("<anonymous>")&&(ee=ee.replace("<anonymous>",i.displayName)),ee}while(1<=c&&0<=p);break}}}finally{Yu=!1,Error.prepareStackTrace=s}return(s=i?i.displayName||i.name:"")?Kr(s):""}function JS(i){switch(i.tag){case 26:case 27:case 5:return Kr(i.type);case 16:return Kr("Lazy");case 13:return Kr("Suspense");case 19:return Kr("SuspenseList");case 0:case 15:return $u(i.type,!1);case 11:return $u(i.type.render,!1);case 1:return $u(i.type,!0);case 31:return Kr("Activity");default:return""}}function kh(i){try{var a="";do a+=JS(i),i=i.return;while(i);return a}catch(s){return`
Error generating stack: `+s.message+`
`+s.stack}}function Tn(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function Rh(i){var a=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function ZS(i){var a=Rh(i)?"checked":"value",s=Object.getOwnPropertyDescriptor(i.constructor.prototype,a),c=""+i[a];if(!i.hasOwnProperty(a)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var p=s.get,b=s.set;return Object.defineProperty(i,a,{configurable:!0,get:function(){return p.call(this)},set:function(M){c=""+M,b.call(this,M)}}),Object.defineProperty(i,a,{enumerable:s.enumerable}),{getValue:function(){return c},setValue:function(M){c=""+M},stopTracking:function(){i._valueTracker=null,delete i[a]}}}}function js(i){i._valueTracker||(i._valueTracker=ZS(i))}function Nh(i){if(!i)return!1;var a=i._valueTracker;if(!a)return!0;var s=a.getValue(),c="";return i&&(c=Rh(i)?i.checked?"true":"false":i.value),i=c,i!==s?(a.setValue(i),!0):!1}function Hs(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var eC=/[\n"\\]/g;function Sn(i){return i.replace(eC,function(a){return"\\"+a.charCodeAt(0).toString(16)+" "})}function Ku(i,a,s,c,p,b,M,w){i.name="",M!=null&&typeof M!="function"&&typeof M!="symbol"&&typeof M!="boolean"?i.type=M:i.removeAttribute("type"),a!=null?M==="number"?(a===0&&i.value===""||i.value!=a)&&(i.value=""+Tn(a)):i.value!==""+Tn(a)&&(i.value=""+Tn(a)):M!=="submit"&&M!=="reset"||i.removeAttribute("value"),a!=null?Xu(i,M,Tn(a)):s!=null?Xu(i,M,Tn(s)):c!=null&&i.removeAttribute("value"),p==null&&b!=null&&(i.defaultChecked=!!b),p!=null&&(i.checked=p&&typeof p!="function"&&typeof p!="symbol"),w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"?i.name=""+Tn(w):i.removeAttribute("name")}function _h(i,a,s,c,p,b,M,w){if(b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"&&(i.type=b),a!=null||s!=null){if(!(b!=="submit"&&b!=="reset"||a!=null))return;s=s!=null?""+Tn(s):"",a=a!=null?""+Tn(a):s,w||a===i.value||(i.value=a),i.defaultValue=a}c=c??p,c=typeof c!="function"&&typeof c!="symbol"&&!!c,i.checked=w?i.checked:!!c,i.defaultChecked=!!c,M!=null&&typeof M!="function"&&typeof M!="symbol"&&typeof M!="boolean"&&(i.name=M)}function Xu(i,a,s){a==="number"&&Hs(i.ownerDocument)===i||i.defaultValue===""+s||(i.defaultValue=""+s)}function Xr(i,a,s,c){if(i=i.options,a){a={};for(var p=0;p<s.length;p++)a["$"+s[p]]=!0;for(s=0;s<i.length;s++)p=a.hasOwnProperty("$"+i[s].value),i[s].selected!==p&&(i[s].selected=p),p&&c&&(i[s].defaultSelected=!0)}else{for(s=""+Tn(s),a=null,p=0;p<i.length;p++){if(i[p].value===s){i[p].selected=!0,c&&(i[p].defaultSelected=!0);return}a!==null||i[p].disabled||(a=i[p])}a!==null&&(a.selected=!0)}}function Lh(i,a,s){if(a!=null&&(a=""+Tn(a),a!==i.value&&(i.value=a),s==null)){i.defaultValue!==a&&(i.defaultValue=a);return}i.defaultValue=s!=null?""+Tn(s):""}function Vh(i,a,s,c){if(a==null){if(c!=null){if(s!=null)throw Error(r(92));if(he(c)){if(1<c.length)throw Error(r(93));c=c[0]}s=c}s==null&&(s=""),a=s}s=Tn(a),i.defaultValue=s,c=i.textContent,c===s&&c!==""&&c!==null&&(i.value=c)}function Wr(i,a){if(a){var s=i.firstChild;if(s&&s===i.lastChild&&s.nodeType===3){s.nodeValue=a;return}}i.textContent=a}var tC=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Ph(i,a,s){var c=a.indexOf("--")===0;s==null||typeof s=="boolean"||s===""?c?i.setProperty(a,""):a==="float"?i.cssFloat="":i[a]="":c?i.setProperty(a,s):typeof s!="number"||s===0||tC.has(a)?a==="float"?i.cssFloat=s:i[a]=(""+s).trim():i[a]=s+"px"}function Bh(i,a,s){if(a!=null&&typeof a!="object")throw Error(r(62));if(i=i.style,s!=null){for(var c in s)!s.hasOwnProperty(c)||a!=null&&a.hasOwnProperty(c)||(c.indexOf("--")===0?i.setProperty(c,""):c==="float"?i.cssFloat="":i[c]="");for(var p in a)c=a[p],a.hasOwnProperty(p)&&s[p]!==c&&Ph(i,p,c)}else for(var b in a)a.hasOwnProperty(b)&&Ph(i,b,a[b])}function Wu(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var nC=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),iC=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Us(i){return iC.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}var Qu=null;function Ju(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var Qr=null,Jr=null;function Oh(i){var a=ai(i);if(a&&(i=a.stateNode)){var s=i[jt]||null;e:switch(i=a.stateNode,a.type){case"input":if(Ku(i,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name),a=s.name,s.type==="radio"&&a!=null){for(s=i;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll('input[name="'+Sn(""+a)+'"][type="radio"]'),a=0;a<s.length;a++){var c=s[a];if(c!==i&&c.form===i.form){var p=c[jt]||null;if(!p)throw Error(r(90));Ku(c,p.value,p.defaultValue,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name)}}for(a=0;a<s.length;a++)c=s[a],c.form===i.form&&Nh(c)}break e;case"textarea":Lh(i,s.value,s.defaultValue);break e;case"select":a=s.value,a!=null&&Xr(i,!!s.multiple,a,!1)}}}var Zu=!1;function Fh(i,a,s){if(Zu)return i(a,s);Zu=!0;try{var c=i(a);return c}finally{if(Zu=!1,(Qr!==null||Jr!==null)&&(Dl(),Qr&&(a=Qr,i=Jr,Jr=Qr=null,Oh(a),i)))for(a=0;a<i.length;a++)Oh(i[a])}}function to(i,a){var s=i.stateNode;if(s===null)return null;var c=s[jt]||null;if(c===null)return null;s=c[a];e:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(i=i.type,c=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!c;break e;default:i=!1}if(i)return null;if(s&&typeof s!="function")throw Error(r(231,a,typeof s));return s}var li=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ec=!1;if(li)try{var no={};Object.defineProperty(no,"passive",{get:function(){ec=!0}}),window.addEventListener("test",no,no),window.removeEventListener("test",no,no)}catch{ec=!1}var Di=null,tc=null,Gs=null;function zh(){if(Gs)return Gs;var i,a=tc,s=a.length,c,p="value"in Di?Di.value:Di.textContent,b=p.length;for(i=0;i<s&&a[i]===p[i];i++);var M=s-i;for(c=1;c<=M&&a[s-c]===p[b-c];c++);return Gs=p.slice(i,1<c?1-c:void 0)}function qs(i){var a=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&a===13&&(i=13)):i=a,i===10&&(i=13),32<=i||i===13?i:0}function Ys(){return!0}function jh(){return!1}function en(i){function a(s,c,p,b,M){this._reactName=s,this._targetInst=p,this.type=c,this.nativeEvent=b,this.target=M,this.currentTarget=null;for(var w in i)i.hasOwnProperty(w)&&(s=i[w],this[w]=s?s(b):b[w]);return this.isDefaultPrevented=(b.defaultPrevented!=null?b.defaultPrevented:b.returnValue===!1)?Ys:jh,this.isPropagationStopped=jh,this}return h(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=Ys)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=Ys)},persist:function(){},isPersistent:Ys}),a}var hr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},$s=en(hr),io=h({},hr,{view:0,detail:0}),rC=en(io),nc,ic,ro,Ks=h({},io,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ac,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==ro&&(ro&&i.type==="mousemove"?(nc=i.screenX-ro.screenX,ic=i.screenY-ro.screenY):ic=nc=0,ro=i),nc)},movementY:function(i){return"movementY"in i?i.movementY:ic}}),Hh=en(Ks),aC=h({},Ks,{dataTransfer:0}),oC=en(aC),sC=h({},io,{relatedTarget:0}),rc=en(sC),lC=h({},hr,{animationName:0,elapsedTime:0,pseudoElement:0}),uC=en(lC),cC=h({},hr,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),fC=en(cC),dC=h({},hr,{data:0}),Uh=en(dC),mC={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},hC={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},pC={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function gC(i){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(i):(i=pC[i])?!!a[i]:!1}function ac(){return gC}var yC=h({},io,{key:function(i){if(i.key){var a=mC[i.key]||i.key;if(a!=="Unidentified")return a}return i.type==="keypress"?(i=qs(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?hC[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ac,charCode:function(i){return i.type==="keypress"?qs(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?qs(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),xC=en(yC),vC=h({},Ks,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Gh=en(vC),bC=h({},io,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ac}),TC=en(bC),SC=h({},hr,{propertyName:0,elapsedTime:0,pseudoElement:0}),CC=en(SC),MC=h({},Ks,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),EC=en(MC),AC=h({},hr,{newState:0,oldState:0}),wC=en(AC),DC=[9,13,27,32],oc=li&&"CompositionEvent"in window,ao=null;li&&"documentMode"in document&&(ao=document.documentMode);var IC=li&&"TextEvent"in window&&!ao,qh=li&&(!oc||ao&&8<ao&&11>=ao),Yh=" ",$h=!1;function Kh(i,a){switch(i){case"keyup":return DC.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Xh(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var Zr=!1;function kC(i,a){switch(i){case"compositionend":return Xh(a);case"keypress":return a.which!==32?null:($h=!0,Yh);case"textInput":return i=a.data,i===Yh&&$h?null:i;default:return null}}function RC(i,a){if(Zr)return i==="compositionend"||!oc&&Kh(i,a)?(i=zh(),Gs=tc=Di=null,Zr=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return qh&&a.locale!=="ko"?null:a.data;default:return null}}var NC={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Wh(i){var a=i&&i.nodeName&&i.nodeName.toLowerCase();return a==="input"?!!NC[i.type]:a==="textarea"}function Qh(i,a,s,c){Qr?Jr?Jr.push(c):Jr=[c]:Qr=c,a=Ll(a,"onChange"),0<a.length&&(s=new $s("onChange","change",null,s,c),i.push({event:s,listeners:a}))}var oo=null,so=null;function _C(i){Ry(i,0)}function Xs(i){var a=fr(i);if(Nh(a))return i}function Jh(i,a){if(i==="change")return a}var Zh=!1;if(li){var sc;if(li){var lc="oninput"in document;if(!lc){var ep=document.createElement("div");ep.setAttribute("oninput","return;"),lc=typeof ep.oninput=="function"}sc=lc}else sc=!1;Zh=sc&&(!document.documentMode||9<document.documentMode)}function tp(){oo&&(oo.detachEvent("onpropertychange",np),so=oo=null)}function np(i){if(i.propertyName==="value"&&Xs(so)){var a=[];Qh(a,so,i,Ju(i)),Fh(_C,a)}}function LC(i,a,s){i==="focusin"?(tp(),oo=a,so=s,oo.attachEvent("onpropertychange",np)):i==="focusout"&&tp()}function VC(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return Xs(so)}function PC(i,a){if(i==="click")return Xs(a)}function BC(i,a){if(i==="input"||i==="change")return Xs(a)}function OC(i,a){return i===a&&(i!==0||1/i===1/a)||i!==i&&a!==a}var fn=typeof Object.is=="function"?Object.is:OC;function lo(i,a){if(fn(i,a))return!0;if(typeof i!="object"||i===null||typeof a!="object"||a===null)return!1;var s=Object.keys(i),c=Object.keys(a);if(s.length!==c.length)return!1;for(c=0;c<s.length;c++){var p=s[c];if(!$e.call(a,p)||!fn(i[p],a[p]))return!1}return!0}function ip(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function rp(i,a){var s=ip(i);i=0;for(var c;s;){if(s.nodeType===3){if(c=i+s.textContent.length,i<=a&&c>=a)return{node:s,offset:a-i};i=c}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=ip(s)}}function ap(i,a){return i&&a?i===a?!0:i&&i.nodeType===3?!1:a&&a.nodeType===3?ap(i,a.parentNode):"contains"in i?i.contains(a):i.compareDocumentPosition?!!(i.compareDocumentPosition(a)&16):!1:!1}function op(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var a=Hs(i.document);a instanceof i.HTMLIFrameElement;){try{var s=typeof a.contentWindow.location.href=="string"}catch{s=!1}if(s)i=a.contentWindow;else break;a=Hs(i.document)}return a}function uc(i){var a=i&&i.nodeName&&i.nodeName.toLowerCase();return a&&(a==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||a==="textarea"||i.contentEditable==="true")}var FC=li&&"documentMode"in document&&11>=document.documentMode,ea=null,cc=null,uo=null,fc=!1;function sp(i,a,s){var c=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;fc||ea==null||ea!==Hs(c)||(c=ea,"selectionStart"in c&&uc(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),uo&&lo(uo,c)||(uo=c,c=Ll(cc,"onSelect"),0<c.length&&(a=new $s("onSelect","select",null,a,s),i.push({event:a,listeners:c}),a.target=ea)))}function pr(i,a){var s={};return s[i.toLowerCase()]=a.toLowerCase(),s["Webkit"+i]="webkit"+a,s["Moz"+i]="moz"+a,s}var ta={animationend:pr("Animation","AnimationEnd"),animationiteration:pr("Animation","AnimationIteration"),animationstart:pr("Animation","AnimationStart"),transitionrun:pr("Transition","TransitionRun"),transitionstart:pr("Transition","TransitionStart"),transitioncancel:pr("Transition","TransitionCancel"),transitionend:pr("Transition","TransitionEnd")},dc={},lp={};li&&(lp=document.createElement("div").style,"AnimationEvent"in window||(delete ta.animationend.animation,delete ta.animationiteration.animation,delete ta.animationstart.animation),"TransitionEvent"in window||delete ta.transitionend.transition);function gr(i){if(dc[i])return dc[i];if(!ta[i])return i;var a=ta[i],s;for(s in a)if(a.hasOwnProperty(s)&&s in lp)return dc[i]=a[s];return i}var up=gr("animationend"),cp=gr("animationiteration"),fp=gr("animationstart"),zC=gr("transitionrun"),jC=gr("transitionstart"),HC=gr("transitioncancel"),dp=gr("transitionend"),mp=new Map,mc="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");mc.push("scrollEnd");function On(i,a){mp.set(i,a),Bn(a,[i])}var hp=new WeakMap;function Cn(i,a){if(typeof i=="object"&&i!==null){var s=hp.get(i);return s!==void 0?s:(a={value:i,source:a,stack:kh(a)},hp.set(i,a),a)}return{value:i,source:a,stack:kh(a)}}var Mn=[],na=0,hc=0;function Ws(){for(var i=na,a=hc=na=0;a<i;){var s=Mn[a];Mn[a++]=null;var c=Mn[a];Mn[a++]=null;var p=Mn[a];Mn[a++]=null;var b=Mn[a];if(Mn[a++]=null,c!==null&&p!==null){var M=c.pending;M===null?p.next=p:(p.next=M.next,M.next=p),c.pending=p}b!==0&&pp(s,p,b)}}function Qs(i,a,s,c){Mn[na++]=i,Mn[na++]=a,Mn[na++]=s,Mn[na++]=c,hc|=c,i.lanes|=c,i=i.alternate,i!==null&&(i.lanes|=c)}function pc(i,a,s,c){return Qs(i,a,s,c),Js(i)}function ia(i,a){return Qs(i,null,null,a),Js(i)}function pp(i,a,s){i.lanes|=s;var c=i.alternate;c!==null&&(c.lanes|=s);for(var p=!1,b=i.return;b!==null;)b.childLanes|=s,c=b.alternate,c!==null&&(c.childLanes|=s),b.tag===22&&(i=b.stateNode,i===null||i._visibility&1||(p=!0)),i=b,b=b.return;return i.tag===3?(b=i.stateNode,p&&a!==null&&(p=31-Ee(s),i=b.hiddenUpdates,c=i[p],c===null?i[p]=[a]:c.push(a),a.lane=s|536870912),b):null}function Js(i){if(50<Vo)throw Vo=0,Sf=null,Error(r(185));for(var a=i.return;a!==null;)i=a,a=i.return;return i.tag===3?i.stateNode:null}var ra={};function UC(i,a,s,c){this.tag=i,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function dn(i,a,s,c){return new UC(i,a,s,c)}function gc(i){return i=i.prototype,!(!i||!i.isReactComponent)}function ui(i,a){var s=i.alternate;return s===null?(s=dn(i.tag,a,i.key,i.mode),s.elementType=i.elementType,s.type=i.type,s.stateNode=i.stateNode,s.alternate=i,i.alternate=s):(s.pendingProps=a,s.type=i.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=i.flags&65011712,s.childLanes=i.childLanes,s.lanes=i.lanes,s.child=i.child,s.memoizedProps=i.memoizedProps,s.memoizedState=i.memoizedState,s.updateQueue=i.updateQueue,a=i.dependencies,s.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},s.sibling=i.sibling,s.index=i.index,s.ref=i.ref,s.refCleanup=i.refCleanup,s}function gp(i,a){i.flags&=65011714;var s=i.alternate;return s===null?(i.childLanes=0,i.lanes=a,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=s.childLanes,i.lanes=s.lanes,i.child=s.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=s.memoizedProps,i.memoizedState=s.memoizedState,i.updateQueue=s.updateQueue,i.type=s.type,a=s.dependencies,i.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext}),i}function Zs(i,a,s,c,p,b){var M=0;if(c=i,typeof i=="function")gc(i)&&(M=1);else if(typeof i=="string")M=qM(i,s,te.current)?26:i==="html"||i==="head"||i==="body"?27:5;else e:switch(i){case pe:return i=dn(31,s,a,p),i.elementType=pe,i.lanes=b,i;case E:return yr(s.children,p,b,a);case A:M=8,p|=24;break;case L:return i=dn(12,s,a,p|2),i.elementType=L,i.lanes=b,i;case G:return i=dn(13,s,a,p),i.elementType=G,i.lanes=b,i;case j:return i=dn(19,s,a,p),i.elementType=j,i.lanes=b,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case I:case R:M=10;break e;case N:M=9;break e;case z:M=11;break e;case se:M=14;break e;case le:M=16,c=null;break e}M=29,s=Error(r(130,i===null?"null":typeof i,"")),c=null}return a=dn(M,s,a,p),a.elementType=i,a.type=c,a.lanes=b,a}function yr(i,a,s,c){return i=dn(7,i,c,a),i.lanes=s,i}function yc(i,a,s){return i=dn(6,i,null,a),i.lanes=s,i}function xc(i,a,s){return a=dn(4,i.children!==null?i.children:[],i.key,a),a.lanes=s,a.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},a}var aa=[],oa=0,el=null,tl=0,En=[],An=0,xr=null,ci=1,fi="";function vr(i,a){aa[oa++]=tl,aa[oa++]=el,el=i,tl=a}function yp(i,a,s){En[An++]=ci,En[An++]=fi,En[An++]=xr,xr=i;var c=ci;i=fi;var p=32-Ee(c)-1;c&=~(1<<p),s+=1;var b=32-Ee(a)+p;if(30<b){var M=p-p%5;b=(c&(1<<M)-1).toString(32),c>>=M,p-=M,ci=1<<32-Ee(a)+p|s<<p|c,fi=b+i}else ci=1<<b|s<<p|c,fi=i}function vc(i){i.return!==null&&(vr(i,1),yp(i,1,0))}function bc(i){for(;i===el;)el=aa[--oa],aa[oa]=null,tl=aa[--oa],aa[oa]=null;for(;i===xr;)xr=En[--An],En[An]=null,fi=En[--An],En[An]=null,ci=En[--An],En[An]=null}var Xt=null,ht=null,Xe=!1,br=null,Yn=!1,Tc=Error(r(519));function Tr(i){var a=Error(r(418,""));throw mo(Cn(a,i)),Tc}function xp(i){var a=i.stateNode,s=i.type,c=i.memoizedProps;switch(a[kt]=i,a[jt]=c,s){case"dialog":Fe("cancel",a),Fe("close",a);break;case"iframe":case"object":case"embed":Fe("load",a);break;case"video":case"audio":for(s=0;s<Bo.length;s++)Fe(Bo[s],a);break;case"source":Fe("error",a);break;case"img":case"image":case"link":Fe("error",a),Fe("load",a);break;case"details":Fe("toggle",a);break;case"input":Fe("invalid",a),_h(a,c.value,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name,!0),js(a);break;case"select":Fe("invalid",a);break;case"textarea":Fe("invalid",a),Vh(a,c.value,c.defaultValue,c.children),js(a)}s=c.children,typeof s!="string"&&typeof s!="number"&&typeof s!="bigint"||a.textContent===""+s||c.suppressHydrationWarning===!0||Vy(a.textContent,s)?(c.popover!=null&&(Fe("beforetoggle",a),Fe("toggle",a)),c.onScroll!=null&&Fe("scroll",a),c.onScrollEnd!=null&&Fe("scrollend",a),c.onClick!=null&&(a.onclick=Vl),a=!0):a=!1,a||Tr(i)}function vp(i){for(Xt=i.return;Xt;)switch(Xt.tag){case 5:case 13:Yn=!1;return;case 27:case 3:Yn=!0;return;default:Xt=Xt.return}}function co(i){if(i!==Xt)return!1;if(!Xe)return vp(i),Xe=!0,!1;var a=i.tag,s;if((s=a!==3&&a!==27)&&((s=a===5)&&(s=i.type,s=!(s!=="form"&&s!=="button")||Of(i.type,i.memoizedProps)),s=!s),s&&ht&&Tr(i),vp(i),a===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(317));e:{for(i=i.nextSibling,a=0;i;){if(i.nodeType===8)if(s=i.data,s==="/$"){if(a===0){ht=zn(i.nextSibling);break e}a--}else s!=="$"&&s!=="$!"&&s!=="$?"||a++;i=i.nextSibling}ht=null}}else a===27?(a=ht,Gi(i.type)?(i=Hf,Hf=null,ht=i):ht=a):ht=Xt?zn(i.stateNode.nextSibling):null;return!0}function fo(){ht=Xt=null,Xe=!1}function bp(){var i=br;return i!==null&&(rn===null?rn=i:rn.push.apply(rn,i),br=null),i}function mo(i){br===null?br=[i]:br.push(i)}var Sc=B(null),Sr=null,di=null;function Ii(i,a,s){D(Sc,a._currentValue),a._currentValue=s}function mi(i){i._currentValue=Sc.current,Y(Sc)}function Cc(i,a,s){for(;i!==null;){var c=i.alternate;if((i.childLanes&a)!==a?(i.childLanes|=a,c!==null&&(c.childLanes|=a)):c!==null&&(c.childLanes&a)!==a&&(c.childLanes|=a),i===s)break;i=i.return}}function Mc(i,a,s,c){var p=i.child;for(p!==null&&(p.return=i);p!==null;){var b=p.dependencies;if(b!==null){var M=p.child;b=b.firstContext;e:for(;b!==null;){var w=b;b=p;for(var V=0;V<a.length;V++)if(w.context===a[V]){b.lanes|=s,w=b.alternate,w!==null&&(w.lanes|=s),Cc(b.return,s,i),c||(M=null);break e}b=w.next}}else if(p.tag===18){if(M=p.return,M===null)throw Error(r(341));M.lanes|=s,b=M.alternate,b!==null&&(b.lanes|=s),Cc(M,s,i),M=null}else M=p.child;if(M!==null)M.return=p;else for(M=p;M!==null;){if(M===i){M=null;break}if(p=M.sibling,p!==null){p.return=M.return,M=p;break}M=M.return}p=M}}function ho(i,a,s,c){i=null;for(var p=a,b=!1;p!==null;){if(!b){if((p.flags&524288)!==0)b=!0;else if((p.flags&262144)!==0)break}if(p.tag===10){var M=p.alternate;if(M===null)throw Error(r(387));if(M=M.memoizedProps,M!==null){var w=p.type;fn(p.pendingProps.value,M.value)||(i!==null?i.push(w):i=[w])}}else if(p===ye.current){if(M=p.alternate,M===null)throw Error(r(387));M.memoizedState.memoizedState!==p.memoizedState.memoizedState&&(i!==null?i.push(Uo):i=[Uo])}p=p.return}i!==null&&Mc(a,i,s,c),a.flags|=262144}function nl(i){for(i=i.firstContext;i!==null;){if(!fn(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function Cr(i){Sr=i,di=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function Ht(i){return Tp(Sr,i)}function il(i,a){return Sr===null&&Cr(i),Tp(i,a)}function Tp(i,a){var s=a._currentValue;if(a={context:a,memoizedValue:s,next:null},di===null){if(i===null)throw Error(r(308));di=a,i.dependencies={lanes:0,firstContext:a},i.flags|=524288}else di=di.next=a;return s}var GC=typeof AbortController<"u"?AbortController:function(){var i=[],a=this.signal={aborted:!1,addEventListener:function(s,c){i.push(c)}};this.abort=function(){a.aborted=!0,i.forEach(function(s){return s()})}},qC=e.unstable_scheduleCallback,YC=e.unstable_NormalPriority,Dt={$$typeof:R,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Ec(){return{controller:new GC,data:new Map,refCount:0}}function po(i){i.refCount--,i.refCount===0&&qC(YC,function(){i.controller.abort()})}var go=null,Ac=0,sa=0,la=null;function $C(i,a){if(go===null){var s=go=[];Ac=0,sa=If(),la={status:"pending",value:void 0,then:function(c){s.push(c)}}}return Ac++,a.then(Sp,Sp),a}function Sp(){if(--Ac===0&&go!==null){la!==null&&(la.status="fulfilled");var i=go;go=null,sa=0,la=null;for(var a=0;a<i.length;a++)(0,i[a])()}}function KC(i,a){var s=[],c={status:"pending",value:null,reason:null,then:function(p){s.push(p)}};return i.then(function(){c.status="fulfilled",c.value=a;for(var p=0;p<s.length;p++)(0,s[p])(a)},function(p){for(c.status="rejected",c.reason=p,p=0;p<s.length;p++)(0,s[p])(void 0)}),c}var Cp=q.S;q.S=function(i,a){typeof a=="object"&&a!==null&&typeof a.then=="function"&&$C(i,a),Cp!==null&&Cp(i,a)};var Mr=B(null);function wc(){var i=Mr.current;return i!==null?i:ot.pooledCache}function rl(i,a){a===null?D(Mr,Mr.current):D(Mr,a.pool)}function Mp(){var i=wc();return i===null?null:{parent:Dt._currentValue,pool:i}}var yo=Error(r(460)),Ep=Error(r(474)),al=Error(r(542)),Dc={then:function(){}};function Ap(i){return i=i.status,i==="fulfilled"||i==="rejected"}function ol(){}function wp(i,a,s){switch(s=i[s],s===void 0?i.push(a):s!==a&&(a.then(ol,ol),a=s),a.status){case"fulfilled":return a.value;case"rejected":throw i=a.reason,Ip(i),i;default:if(typeof a.status=="string")a.then(ol,ol);else{if(i=ot,i!==null&&100<i.shellSuspendCounter)throw Error(r(482));i=a,i.status="pending",i.then(function(c){if(a.status==="pending"){var p=a;p.status="fulfilled",p.value=c}},function(c){if(a.status==="pending"){var p=a;p.status="rejected",p.reason=c}})}switch(a.status){case"fulfilled":return a.value;case"rejected":throw i=a.reason,Ip(i),i}throw xo=a,yo}}var xo=null;function Dp(){if(xo===null)throw Error(r(459));var i=xo;return xo=null,i}function Ip(i){if(i===yo||i===al)throw Error(r(483))}var ki=!1;function Ic(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function kc(i,a){i=i.updateQueue,a.updateQueue===i&&(a.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function Ri(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function Ni(i,a,s){var c=i.updateQueue;if(c===null)return null;if(c=c.shared,(Qe&2)!==0){var p=c.pending;return p===null?a.next=a:(a.next=p.next,p.next=a),c.pending=a,a=Js(i),pp(i,null,s),a}return Qs(i,c,a,s),Js(i)}function vo(i,a,s){if(a=a.updateQueue,a!==null&&(a=a.shared,(s&4194048)!==0)){var c=a.lanes;c&=i.pendingLanes,s|=c,a.lanes=s,He(i,s)}}function Rc(i,a){var s=i.updateQueue,c=i.alternate;if(c!==null&&(c=c.updateQueue,s===c)){var p=null,b=null;if(s=s.firstBaseUpdate,s!==null){do{var M={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};b===null?p=b=M:b=b.next=M,s=s.next}while(s!==null);b===null?p=b=a:b=b.next=a}else p=b=a;s={baseState:c.baseState,firstBaseUpdate:p,lastBaseUpdate:b,shared:c.shared,callbacks:c.callbacks},i.updateQueue=s;return}i=s.lastBaseUpdate,i===null?s.firstBaseUpdate=a:i.next=a,s.lastBaseUpdate=a}var Nc=!1;function bo(){if(Nc){var i=la;if(i!==null)throw i}}function To(i,a,s,c){Nc=!1;var p=i.updateQueue;ki=!1;var b=p.firstBaseUpdate,M=p.lastBaseUpdate,w=p.shared.pending;if(w!==null){p.shared.pending=null;var V=w,K=V.next;V.next=null,M===null?b=K:M.next=K,M=V;var ee=i.alternate;ee!==null&&(ee=ee.updateQueue,w=ee.lastBaseUpdate,w!==M&&(w===null?ee.firstBaseUpdate=K:w.next=K,ee.lastBaseUpdate=V))}if(b!==null){var re=p.baseState;M=0,ee=K=V=null,w=b;do{var X=w.lane&-536870913,W=X!==w.lane;if(W?(Ue&X)===X:(c&X)===X){X!==0&&X===sa&&(Nc=!0),ee!==null&&(ee=ee.next={lane:0,tag:w.tag,payload:w.payload,callback:null,next:null});e:{var De=i,Ae=w;X=a;var tt=s;switch(Ae.tag){case 1:if(De=Ae.payload,typeof De=="function"){re=De.call(tt,re,X);break e}re=De;break e;case 3:De.flags=De.flags&-65537|128;case 0:if(De=Ae.payload,X=typeof De=="function"?De.call(tt,re,X):De,X==null)break e;re=h({},re,X);break e;case 2:ki=!0}}X=w.callback,X!==null&&(i.flags|=64,W&&(i.flags|=8192),W=p.callbacks,W===null?p.callbacks=[X]:W.push(X))}else W={lane:X,tag:w.tag,payload:w.payload,callback:w.callback,next:null},ee===null?(K=ee=W,V=re):ee=ee.next=W,M|=X;if(w=w.next,w===null){if(w=p.shared.pending,w===null)break;W=w,w=W.next,W.next=null,p.lastBaseUpdate=W,p.shared.pending=null}}while(!0);ee===null&&(V=re),p.baseState=V,p.firstBaseUpdate=K,p.lastBaseUpdate=ee,b===null&&(p.shared.lanes=0),zi|=M,i.lanes=M,i.memoizedState=re}}function kp(i,a){if(typeof i!="function")throw Error(r(191,i));i.call(a)}function Rp(i,a){var s=i.callbacks;if(s!==null)for(i.callbacks=null,i=0;i<s.length;i++)kp(s[i],a)}var ua=B(null),sl=B(0);function Np(i,a){i=bi,D(sl,i),D(ua,a),bi=i|a.baseLanes}function _c(){D(sl,bi),D(ua,ua.current)}function Lc(){bi=sl.current,Y(ua),Y(sl)}var _i=0,Pe=null,Ze=null,Ct=null,ll=!1,ca=!1,Er=!1,ul=0,So=0,fa=null,XC=0;function vt(){throw Error(r(321))}function Vc(i,a){if(a===null)return!1;for(var s=0;s<a.length&&s<i.length;s++)if(!fn(i[s],a[s]))return!1;return!0}function Pc(i,a,s,c,p,b){return _i=b,Pe=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,q.H=i===null||i.memoizedState===null?pg:gg,Er=!1,b=s(c,p),Er=!1,ca&&(b=Lp(a,s,c,p)),_p(i),b}function _p(i){q.H=pl;var a=Ze!==null&&Ze.next!==null;if(_i=0,Ct=Ze=Pe=null,ll=!1,So=0,fa=null,a)throw Error(r(300));i===null||Rt||(i=i.dependencies,i!==null&&nl(i)&&(Rt=!0))}function Lp(i,a,s,c){Pe=i;var p=0;do{if(ca&&(fa=null),So=0,ca=!1,25<=p)throw Error(r(301));if(p+=1,Ct=Ze=null,i.updateQueue!=null){var b=i.updateQueue;b.lastEffect=null,b.events=null,b.stores=null,b.memoCache!=null&&(b.memoCache.index=0)}q.H=nM,b=a(s,c)}while(ca);return b}function WC(){var i=q.H,a=i.useState()[0];return a=typeof a.then=="function"?Co(a):a,i=i.useState()[0],(Ze!==null?Ze.memoizedState:null)!==i&&(Pe.flags|=1024),a}function Bc(){var i=ul!==0;return ul=0,i}function Oc(i,a,s){a.updateQueue=i.updateQueue,a.flags&=-2053,i.lanes&=~s}function Fc(i){if(ll){for(i=i.memoizedState;i!==null;){var a=i.queue;a!==null&&(a.pending=null),i=i.next}ll=!1}_i=0,Ct=Ze=Pe=null,ca=!1,So=ul=0,fa=null}function tn(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ct===null?Pe.memoizedState=Ct=i:Ct=Ct.next=i,Ct}function Mt(){if(Ze===null){var i=Pe.alternate;i=i!==null?i.memoizedState:null}else i=Ze.next;var a=Ct===null?Pe.memoizedState:Ct.next;if(a!==null)Ct=a,Ze=i;else{if(i===null)throw Pe.alternate===null?Error(r(467)):Error(r(310));Ze=i,i={memoizedState:Ze.memoizedState,baseState:Ze.baseState,baseQueue:Ze.baseQueue,queue:Ze.queue,next:null},Ct===null?Pe.memoizedState=Ct=i:Ct=Ct.next=i}return Ct}function zc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Co(i){var a=So;return So+=1,fa===null&&(fa=[]),i=wp(fa,i,a),a=Pe,(Ct===null?a.memoizedState:Ct.next)===null&&(a=a.alternate,q.H=a===null||a.memoizedState===null?pg:gg),i}function cl(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return Co(i);if(i.$$typeof===R)return Ht(i)}throw Error(r(438,String(i)))}function jc(i){var a=null,s=Pe.updateQueue;if(s!==null&&(a=s.memoCache),a==null){var c=Pe.alternate;c!==null&&(c=c.updateQueue,c!==null&&(c=c.memoCache,c!=null&&(a={data:c.data.map(function(p){return p.slice()}),index:0})))}if(a==null&&(a={data:[],index:0}),s===null&&(s=zc(),Pe.updateQueue=s),s.memoCache=a,s=a.data[a.index],s===void 0)for(s=a.data[a.index]=Array(i),c=0;c<i;c++)s[c]=H;return a.index++,s}function hi(i,a){return typeof a=="function"?a(i):a}function fl(i){var a=Mt();return Hc(a,Ze,i)}function Hc(i,a,s){var c=i.queue;if(c===null)throw Error(r(311));c.lastRenderedReducer=s;var p=i.baseQueue,b=c.pending;if(b!==null){if(p!==null){var M=p.next;p.next=b.next,b.next=M}a.baseQueue=p=b,c.pending=null}if(b=i.baseState,p===null)i.memoizedState=b;else{a=p.next;var w=M=null,V=null,K=a,ee=!1;do{var re=K.lane&-536870913;if(re!==K.lane?(Ue&re)===re:(_i&re)===re){var X=K.revertLane;if(X===0)V!==null&&(V=V.next={lane:0,revertLane:0,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null}),re===sa&&(ee=!0);else if((_i&X)===X){K=K.next,X===sa&&(ee=!0);continue}else re={lane:0,revertLane:K.revertLane,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null},V===null?(w=V=re,M=b):V=V.next=re,Pe.lanes|=X,zi|=X;re=K.action,Er&&s(b,re),b=K.hasEagerState?K.eagerState:s(b,re)}else X={lane:re,revertLane:K.revertLane,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null},V===null?(w=V=X,M=b):V=V.next=X,Pe.lanes|=re,zi|=re;K=K.next}while(K!==null&&K!==a);if(V===null?M=b:V.next=w,!fn(b,i.memoizedState)&&(Rt=!0,ee&&(s=la,s!==null)))throw s;i.memoizedState=b,i.baseState=M,i.baseQueue=V,c.lastRenderedState=b}return p===null&&(c.lanes=0),[i.memoizedState,c.dispatch]}function Uc(i){var a=Mt(),s=a.queue;if(s===null)throw Error(r(311));s.lastRenderedReducer=i;var c=s.dispatch,p=s.pending,b=a.memoizedState;if(p!==null){s.pending=null;var M=p=p.next;do b=i(b,M.action),M=M.next;while(M!==p);fn(b,a.memoizedState)||(Rt=!0),a.memoizedState=b,a.baseQueue===null&&(a.baseState=b),s.lastRenderedState=b}return[b,c]}function Vp(i,a,s){var c=Pe,p=Mt(),b=Xe;if(b){if(s===void 0)throw Error(r(407));s=s()}else s=a();var M=!fn((Ze||p).memoizedState,s);M&&(p.memoizedState=s,Rt=!0),p=p.queue;var w=Op.bind(null,c,p,i);if(Mo(2048,8,w,[i]),p.getSnapshot!==a||M||Ct!==null&&Ct.memoizedState.tag&1){if(c.flags|=2048,da(9,dl(),Bp.bind(null,c,p,s,a),null),ot===null)throw Error(r(349));b||(_i&124)!==0||Pp(c,a,s)}return s}function Pp(i,a,s){i.flags|=16384,i={getSnapshot:a,value:s},a=Pe.updateQueue,a===null?(a=zc(),Pe.updateQueue=a,a.stores=[i]):(s=a.stores,s===null?a.stores=[i]:s.push(i))}function Bp(i,a,s,c){a.value=s,a.getSnapshot=c,Fp(a)&&zp(i)}function Op(i,a,s){return s(function(){Fp(a)&&zp(i)})}function Fp(i){var a=i.getSnapshot;i=i.value;try{var s=a();return!fn(i,s)}catch{return!0}}function zp(i){var a=ia(i,2);a!==null&&yn(a,i,2)}function Gc(i){var a=tn();if(typeof i=="function"){var s=i;if(i=s(),Er){Se(!0);try{s()}finally{Se(!1)}}}return a.memoizedState=a.baseState=i,a.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:hi,lastRenderedState:i},a}function jp(i,a,s,c){return i.baseState=s,Hc(i,Ze,typeof c=="function"?c:hi)}function QC(i,a,s,c,p){if(hl(i))throw Error(r(485));if(i=a.action,i!==null){var b={payload:p,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(M){b.listeners.push(M)}};q.T!==null?s(!0):b.isTransition=!1,c(b),s=a.pending,s===null?(b.next=a.pending=b,Hp(a,b)):(b.next=s.next,a.pending=s.next=b)}}function Hp(i,a){var s=a.action,c=a.payload,p=i.state;if(a.isTransition){var b=q.T,M={};q.T=M;try{var w=s(p,c),V=q.S;V!==null&&V(M,w),Up(i,a,w)}catch(K){qc(i,a,K)}finally{q.T=b}}else try{b=s(p,c),Up(i,a,b)}catch(K){qc(i,a,K)}}function Up(i,a,s){s!==null&&typeof s=="object"&&typeof s.then=="function"?s.then(function(c){Gp(i,a,c)},function(c){return qc(i,a,c)}):Gp(i,a,s)}function Gp(i,a,s){a.status="fulfilled",a.value=s,qp(a),i.state=s,a=i.pending,a!==null&&(s=a.next,s===a?i.pending=null:(s=s.next,a.next=s,Hp(i,s)))}function qc(i,a,s){var c=i.pending;if(i.pending=null,c!==null){c=c.next;do a.status="rejected",a.reason=s,qp(a),a=a.next;while(a!==c)}i.action=null}function qp(i){i=i.listeners;for(var a=0;a<i.length;a++)(0,i[a])()}function Yp(i,a){return a}function $p(i,a){if(Xe){var s=ot.formState;if(s!==null){e:{var c=Pe;if(Xe){if(ht){t:{for(var p=ht,b=Yn;p.nodeType!==8;){if(!b){p=null;break t}if(p=zn(p.nextSibling),p===null){p=null;break t}}b=p.data,p=b==="F!"||b==="F"?p:null}if(p){ht=zn(p.nextSibling),c=p.data==="F!";break e}}Tr(c)}c=!1}c&&(a=s[0])}}return s=tn(),s.memoizedState=s.baseState=a,c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Yp,lastRenderedState:a},s.queue=c,s=dg.bind(null,Pe,c),c.dispatch=s,c=Gc(!1),b=Wc.bind(null,Pe,!1,c.queue),c=tn(),p={state:a,dispatch:null,action:i,pending:null},c.queue=p,s=QC.bind(null,Pe,p,b,s),p.dispatch=s,c.memoizedState=i,[a,s,!1]}function Kp(i){var a=Mt();return Xp(a,Ze,i)}function Xp(i,a,s){if(a=Hc(i,a,Yp)[0],i=fl(hi)[0],typeof a=="object"&&a!==null&&typeof a.then=="function")try{var c=Co(a)}catch(M){throw M===yo?al:M}else c=a;a=Mt();var p=a.queue,b=p.dispatch;return s!==a.memoizedState&&(Pe.flags|=2048,da(9,dl(),JC.bind(null,p,s),null)),[c,b,i]}function JC(i,a){i.action=a}function Wp(i){var a=Mt(),s=Ze;if(s!==null)return Xp(a,s,i);Mt(),a=a.memoizedState,s=Mt();var c=s.queue.dispatch;return s.memoizedState=i,[a,c,!1]}function da(i,a,s,c){return i={tag:i,create:s,deps:c,inst:a,next:null},a=Pe.updateQueue,a===null&&(a=zc(),Pe.updateQueue=a),s=a.lastEffect,s===null?a.lastEffect=i.next=i:(c=s.next,s.next=i,i.next=c,a.lastEffect=i),i}function dl(){return{destroy:void 0,resource:void 0}}function Qp(){return Mt().memoizedState}function ml(i,a,s,c){var p=tn();c=c===void 0?null:c,Pe.flags|=i,p.memoizedState=da(1|a,dl(),s,c)}function Mo(i,a,s,c){var p=Mt();c=c===void 0?null:c;var b=p.memoizedState.inst;Ze!==null&&c!==null&&Vc(c,Ze.memoizedState.deps)?p.memoizedState=da(a,b,s,c):(Pe.flags|=i,p.memoizedState=da(1|a,b,s,c))}function Jp(i,a){ml(8390656,8,i,a)}function Zp(i,a){Mo(2048,8,i,a)}function eg(i,a){return Mo(4,2,i,a)}function tg(i,a){return Mo(4,4,i,a)}function ng(i,a){if(typeof a=="function"){i=i();var s=a(i);return function(){typeof s=="function"?s():a(null)}}if(a!=null)return i=i(),a.current=i,function(){a.current=null}}function ig(i,a,s){s=s!=null?s.concat([i]):null,Mo(4,4,ng.bind(null,a,i),s)}function Yc(){}function rg(i,a){var s=Mt();a=a===void 0?null:a;var c=s.memoizedState;return a!==null&&Vc(a,c[1])?c[0]:(s.memoizedState=[i,a],i)}function ag(i,a){var s=Mt();a=a===void 0?null:a;var c=s.memoizedState;if(a!==null&&Vc(a,c[1]))return c[0];if(c=i(),Er){Se(!0);try{i()}finally{Se(!1)}}return s.memoizedState=[c,a],c}function $c(i,a,s){return s===void 0||(_i&1073741824)!==0?i.memoizedState=a:(i.memoizedState=s,i=ly(),Pe.lanes|=i,zi|=i,s)}function og(i,a,s,c){return fn(s,a)?s:ua.current!==null?(i=$c(i,s,c),fn(i,a)||(Rt=!0),i):(_i&42)===0?(Rt=!0,i.memoizedState=s):(i=ly(),Pe.lanes|=i,zi|=i,a)}function sg(i,a,s,c,p){var b=O.p;O.p=b!==0&&8>b?b:8;var M=q.T,w={};q.T=w,Wc(i,!1,a,s);try{var V=p(),K=q.S;if(K!==null&&K(w,V),V!==null&&typeof V=="object"&&typeof V.then=="function"){var ee=KC(V,c);Eo(i,a,ee,gn(i))}else Eo(i,a,c,gn(i))}catch(re){Eo(i,a,{then:function(){},status:"rejected",reason:re},gn())}finally{O.p=b,q.T=M}}function ZC(){}function Kc(i,a,s,c){if(i.tag!==5)throw Error(r(476));var p=lg(i).queue;sg(i,p,a,k,s===null?ZC:function(){return ug(i),s(c)})}function lg(i){var a=i.memoizedState;if(a!==null)return a;a={memoizedState:k,baseState:k,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:hi,lastRenderedState:k},next:null};var s={};return a.next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:hi,lastRenderedState:s},next:null},i.memoizedState=a,i=i.alternate,i!==null&&(i.memoizedState=a),a}function ug(i){var a=lg(i).next.queue;Eo(i,a,{},gn())}function Xc(){return Ht(Uo)}function cg(){return Mt().memoizedState}function fg(){return Mt().memoizedState}function eM(i){for(var a=i.return;a!==null;){switch(a.tag){case 24:case 3:var s=gn();i=Ri(s);var c=Ni(a,i,s);c!==null&&(yn(c,a,s),vo(c,a,s)),a={cache:Ec()},i.payload=a;return}a=a.return}}function tM(i,a,s){var c=gn();s={lane:c,revertLane:0,action:s,hasEagerState:!1,eagerState:null,next:null},hl(i)?mg(a,s):(s=pc(i,a,s,c),s!==null&&(yn(s,i,c),hg(s,a,c)))}function dg(i,a,s){var c=gn();Eo(i,a,s,c)}function Eo(i,a,s,c){var p={lane:c,revertLane:0,action:s,hasEagerState:!1,eagerState:null,next:null};if(hl(i))mg(a,p);else{var b=i.alternate;if(i.lanes===0&&(b===null||b.lanes===0)&&(b=a.lastRenderedReducer,b!==null))try{var M=a.lastRenderedState,w=b(M,s);if(p.hasEagerState=!0,p.eagerState=w,fn(w,M))return Qs(i,a,p,0),ot===null&&Ws(),!1}catch{}finally{}if(s=pc(i,a,p,c),s!==null)return yn(s,i,c),hg(s,a,c),!0}return!1}function Wc(i,a,s,c){if(c={lane:2,revertLane:If(),action:c,hasEagerState:!1,eagerState:null,next:null},hl(i)){if(a)throw Error(r(479))}else a=pc(i,s,c,2),a!==null&&yn(a,i,2)}function hl(i){var a=i.alternate;return i===Pe||a!==null&&a===Pe}function mg(i,a){ca=ll=!0;var s=i.pending;s===null?a.next=a:(a.next=s.next,s.next=a),i.pending=a}function hg(i,a,s){if((s&4194048)!==0){var c=a.lanes;c&=i.pendingLanes,s|=c,a.lanes=s,He(i,s)}}var pl={readContext:Ht,use:cl,useCallback:vt,useContext:vt,useEffect:vt,useImperativeHandle:vt,useLayoutEffect:vt,useInsertionEffect:vt,useMemo:vt,useReducer:vt,useRef:vt,useState:vt,useDebugValue:vt,useDeferredValue:vt,useTransition:vt,useSyncExternalStore:vt,useId:vt,useHostTransitionStatus:vt,useFormState:vt,useActionState:vt,useOptimistic:vt,useMemoCache:vt,useCacheRefresh:vt},pg={readContext:Ht,use:cl,useCallback:function(i,a){return tn().memoizedState=[i,a===void 0?null:a],i},useContext:Ht,useEffect:Jp,useImperativeHandle:function(i,a,s){s=s!=null?s.concat([i]):null,ml(4194308,4,ng.bind(null,a,i),s)},useLayoutEffect:function(i,a){return ml(4194308,4,i,a)},useInsertionEffect:function(i,a){ml(4,2,i,a)},useMemo:function(i,a){var s=tn();a=a===void 0?null:a;var c=i();if(Er){Se(!0);try{i()}finally{Se(!1)}}return s.memoizedState=[c,a],c},useReducer:function(i,a,s){var c=tn();if(s!==void 0){var p=s(a);if(Er){Se(!0);try{s(a)}finally{Se(!1)}}}else p=a;return c.memoizedState=c.baseState=p,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:p},c.queue=i,i=i.dispatch=tM.bind(null,Pe,i),[c.memoizedState,i]},useRef:function(i){var a=tn();return i={current:i},a.memoizedState=i},useState:function(i){i=Gc(i);var a=i.queue,s=dg.bind(null,Pe,a);return a.dispatch=s,[i.memoizedState,s]},useDebugValue:Yc,useDeferredValue:function(i,a){var s=tn();return $c(s,i,a)},useTransition:function(){var i=Gc(!1);return i=sg.bind(null,Pe,i.queue,!0,!1),tn().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,a,s){var c=Pe,p=tn();if(Xe){if(s===void 0)throw Error(r(407));s=s()}else{if(s=a(),ot===null)throw Error(r(349));(Ue&124)!==0||Pp(c,a,s)}p.memoizedState=s;var b={value:s,getSnapshot:a};return p.queue=b,Jp(Op.bind(null,c,b,i),[i]),c.flags|=2048,da(9,dl(),Bp.bind(null,c,b,s,a),null),s},useId:function(){var i=tn(),a=ot.identifierPrefix;if(Xe){var s=fi,c=ci;s=(c&~(1<<32-Ee(c)-1)).toString(32)+s,a=""+a+"R"+s,s=ul++,0<s&&(a+="H"+s.toString(32)),a+=""}else s=XC++,a=""+a+"r"+s.toString(32)+"";return i.memoizedState=a},useHostTransitionStatus:Xc,useFormState:$p,useActionState:$p,useOptimistic:function(i){var a=tn();a.memoizedState=a.baseState=i;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return a.queue=s,a=Wc.bind(null,Pe,!0,s),s.dispatch=a,[i,a]},useMemoCache:jc,useCacheRefresh:function(){return tn().memoizedState=eM.bind(null,Pe)}},gg={readContext:Ht,use:cl,useCallback:rg,useContext:Ht,useEffect:Zp,useImperativeHandle:ig,useInsertionEffect:eg,useLayoutEffect:tg,useMemo:ag,useReducer:fl,useRef:Qp,useState:function(){return fl(hi)},useDebugValue:Yc,useDeferredValue:function(i,a){var s=Mt();return og(s,Ze.memoizedState,i,a)},useTransition:function(){var i=fl(hi)[0],a=Mt().memoizedState;return[typeof i=="boolean"?i:Co(i),a]},useSyncExternalStore:Vp,useId:cg,useHostTransitionStatus:Xc,useFormState:Kp,useActionState:Kp,useOptimistic:function(i,a){var s=Mt();return jp(s,Ze,i,a)},useMemoCache:jc,useCacheRefresh:fg},nM={readContext:Ht,use:cl,useCallback:rg,useContext:Ht,useEffect:Zp,useImperativeHandle:ig,useInsertionEffect:eg,useLayoutEffect:tg,useMemo:ag,useReducer:Uc,useRef:Qp,useState:function(){return Uc(hi)},useDebugValue:Yc,useDeferredValue:function(i,a){var s=Mt();return Ze===null?$c(s,i,a):og(s,Ze.memoizedState,i,a)},useTransition:function(){var i=Uc(hi)[0],a=Mt().memoizedState;return[typeof i=="boolean"?i:Co(i),a]},useSyncExternalStore:Vp,useId:cg,useHostTransitionStatus:Xc,useFormState:Wp,useActionState:Wp,useOptimistic:function(i,a){var s=Mt();return Ze!==null?jp(s,Ze,i,a):(s.baseState=i,[i,s.queue.dispatch])},useMemoCache:jc,useCacheRefresh:fg},ma=null,Ao=0;function gl(i){var a=Ao;return Ao+=1,ma===null&&(ma=[]),wp(ma,i,a)}function wo(i,a){a=a.props.ref,i.ref=a!==void 0?a:null}function yl(i,a){throw a.$$typeof===g?Error(r(525)):(i=Object.prototype.toString.call(a),Error(r(31,i==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":i)))}function yg(i){var a=i._init;return a(i._payload)}function xg(i){function a(U,F){if(i){var $=U.deletions;$===null?(U.deletions=[F],U.flags|=16):$.push(F)}}function s(U,F){if(!i)return null;for(;F!==null;)a(U,F),F=F.sibling;return null}function c(U){for(var F=new Map;U!==null;)U.key!==null?F.set(U.key,U):F.set(U.index,U),U=U.sibling;return F}function p(U,F){return U=ui(U,F),U.index=0,U.sibling=null,U}function b(U,F,$){return U.index=$,i?($=U.alternate,$!==null?($=$.index,$<F?(U.flags|=67108866,F):$):(U.flags|=67108866,F)):(U.flags|=1048576,F)}function M(U){return i&&U.alternate===null&&(U.flags|=67108866),U}function w(U,F,$,ie){return F===null||F.tag!==6?(F=yc($,U.mode,ie),F.return=U,F):(F=p(F,$),F.return=U,F)}function V(U,F,$,ie){var xe=$.type;return xe===E?ee(U,F,$.props.children,ie,$.key):F!==null&&(F.elementType===xe||typeof xe=="object"&&xe!==null&&xe.$$typeof===le&&yg(xe)===F.type)?(F=p(F,$.props),wo(F,$),F.return=U,F):(F=Zs($.type,$.key,$.props,null,U.mode,ie),wo(F,$),F.return=U,F)}function K(U,F,$,ie){return F===null||F.tag!==4||F.stateNode.containerInfo!==$.containerInfo||F.stateNode.implementation!==$.implementation?(F=xc($,U.mode,ie),F.return=U,F):(F=p(F,$.children||[]),F.return=U,F)}function ee(U,F,$,ie,xe){return F===null||F.tag!==7?(F=yr($,U.mode,ie,xe),F.return=U,F):(F=p(F,$),F.return=U,F)}function re(U,F,$){if(typeof F=="string"&&F!==""||typeof F=="number"||typeof F=="bigint")return F=yc(""+F,U.mode,$),F.return=U,F;if(typeof F=="object"&&F!==null){switch(F.$$typeof){case T:return $=Zs(F.type,F.key,F.props,null,U.mode,$),wo($,F),$.return=U,$;case S:return F=xc(F,U.mode,$),F.return=U,F;case le:var ie=F._init;return F=ie(F._payload),re(U,F,$)}if(he(F)||J(F))return F=yr(F,U.mode,$,null),F.return=U,F;if(typeof F.then=="function")return re(U,gl(F),$);if(F.$$typeof===R)return re(U,il(U,F),$);yl(U,F)}return null}function X(U,F,$,ie){var xe=F!==null?F.key:null;if(typeof $=="string"&&$!==""||typeof $=="number"||typeof $=="bigint")return xe!==null?null:w(U,F,""+$,ie);if(typeof $=="object"&&$!==null){switch($.$$typeof){case T:return $.key===xe?V(U,F,$,ie):null;case S:return $.key===xe?K(U,F,$,ie):null;case le:return xe=$._init,$=xe($._payload),X(U,F,$,ie)}if(he($)||J($))return xe!==null?null:ee(U,F,$,ie,null);if(typeof $.then=="function")return X(U,F,gl($),ie);if($.$$typeof===R)return X(U,F,il(U,$),ie);yl(U,$)}return null}function W(U,F,$,ie,xe){if(typeof ie=="string"&&ie!==""||typeof ie=="number"||typeof ie=="bigint")return U=U.get($)||null,w(F,U,""+ie,xe);if(typeof ie=="object"&&ie!==null){switch(ie.$$typeof){case T:return U=U.get(ie.key===null?$:ie.key)||null,V(F,U,ie,xe);case S:return U=U.get(ie.key===null?$:ie.key)||null,K(F,U,ie,xe);case le:var Be=ie._init;return ie=Be(ie._payload),W(U,F,$,ie,xe)}if(he(ie)||J(ie))return U=U.get($)||null,ee(F,U,ie,xe,null);if(typeof ie.then=="function")return W(U,F,$,gl(ie),xe);if(ie.$$typeof===R)return W(U,F,$,il(F,ie),xe);yl(F,ie)}return null}function De(U,F,$,ie){for(var xe=null,Be=null,be=F,we=F=0,_t=null;be!==null&&we<$.length;we++){be.index>we?(_t=be,be=null):_t=be.sibling;var Ye=X(U,be,$[we],ie);if(Ye===null){be===null&&(be=_t);break}i&&be&&Ye.alternate===null&&a(U,be),F=b(Ye,F,we),Be===null?xe=Ye:Be.sibling=Ye,Be=Ye,be=_t}if(we===$.length)return s(U,be),Xe&&vr(U,we),xe;if(be===null){for(;we<$.length;we++)be=re(U,$[we],ie),be!==null&&(F=b(be,F,we),Be===null?xe=be:Be.sibling=be,Be=be);return Xe&&vr(U,we),xe}for(be=c(be);we<$.length;we++)_t=W(be,U,we,$[we],ie),_t!==null&&(i&&_t.alternate!==null&&be.delete(_t.key===null?we:_t.key),F=b(_t,F,we),Be===null?xe=_t:Be.sibling=_t,Be=_t);return i&&be.forEach(function(Xi){return a(U,Xi)}),Xe&&vr(U,we),xe}function Ae(U,F,$,ie){if($==null)throw Error(r(151));for(var xe=null,Be=null,be=F,we=F=0,_t=null,Ye=$.next();be!==null&&!Ye.done;we++,Ye=$.next()){be.index>we?(_t=be,be=null):_t=be.sibling;var Xi=X(U,be,Ye.value,ie);if(Xi===null){be===null&&(be=_t);break}i&&be&&Xi.alternate===null&&a(U,be),F=b(Xi,F,we),Be===null?xe=Xi:Be.sibling=Xi,Be=Xi,be=_t}if(Ye.done)return s(U,be),Xe&&vr(U,we),xe;if(be===null){for(;!Ye.done;we++,Ye=$.next())Ye=re(U,Ye.value,ie),Ye!==null&&(F=b(Ye,F,we),Be===null?xe=Ye:Be.sibling=Ye,Be=Ye);return Xe&&vr(U,we),xe}for(be=c(be);!Ye.done;we++,Ye=$.next())Ye=W(be,U,we,Ye.value,ie),Ye!==null&&(i&&Ye.alternate!==null&&be.delete(Ye.key===null?we:Ye.key),F=b(Ye,F,we),Be===null?xe=Ye:Be.sibling=Ye,Be=Ye);return i&&be.forEach(function(iE){return a(U,iE)}),Xe&&vr(U,we),xe}function tt(U,F,$,ie){if(typeof $=="object"&&$!==null&&$.type===E&&$.key===null&&($=$.props.children),typeof $=="object"&&$!==null){switch($.$$typeof){case T:e:{for(var xe=$.key;F!==null;){if(F.key===xe){if(xe=$.type,xe===E){if(F.tag===7){s(U,F.sibling),ie=p(F,$.props.children),ie.return=U,U=ie;break e}}else if(F.elementType===xe||typeof xe=="object"&&xe!==null&&xe.$$typeof===le&&yg(xe)===F.type){s(U,F.sibling),ie=p(F,$.props),wo(ie,$),ie.return=U,U=ie;break e}s(U,F);break}else a(U,F);F=F.sibling}$.type===E?(ie=yr($.props.children,U.mode,ie,$.key),ie.return=U,U=ie):(ie=Zs($.type,$.key,$.props,null,U.mode,ie),wo(ie,$),ie.return=U,U=ie)}return M(U);case S:e:{for(xe=$.key;F!==null;){if(F.key===xe)if(F.tag===4&&F.stateNode.containerInfo===$.containerInfo&&F.stateNode.implementation===$.implementation){s(U,F.sibling),ie=p(F,$.children||[]),ie.return=U,U=ie;break e}else{s(U,F);break}else a(U,F);F=F.sibling}ie=xc($,U.mode,ie),ie.return=U,U=ie}return M(U);case le:return xe=$._init,$=xe($._payload),tt(U,F,$,ie)}if(he($))return De(U,F,$,ie);if(J($)){if(xe=J($),typeof xe!="function")throw Error(r(150));return $=xe.call($),Ae(U,F,$,ie)}if(typeof $.then=="function")return tt(U,F,gl($),ie);if($.$$typeof===R)return tt(U,F,il(U,$),ie);yl(U,$)}return typeof $=="string"&&$!==""||typeof $=="number"||typeof $=="bigint"?($=""+$,F!==null&&F.tag===6?(s(U,F.sibling),ie=p(F,$),ie.return=U,U=ie):(s(U,F),ie=yc($,U.mode,ie),ie.return=U,U=ie),M(U)):s(U,F)}return function(U,F,$,ie){try{Ao=0;var xe=tt(U,F,$,ie);return ma=null,xe}catch(be){if(be===yo||be===al)throw be;var Be=dn(29,be,null,U.mode);return Be.lanes=ie,Be.return=U,Be}finally{}}}var ha=xg(!0),vg=xg(!1),wn=B(null),$n=null;function Li(i){var a=i.alternate;D(It,It.current&1),D(wn,i),$n===null&&(a===null||ua.current!==null||a.memoizedState!==null)&&($n=i)}function bg(i){if(i.tag===22){if(D(It,It.current),D(wn,i),$n===null){var a=i.alternate;a!==null&&a.memoizedState!==null&&($n=i)}}else Vi()}function Vi(){D(It,It.current),D(wn,wn.current)}function pi(i){Y(wn),$n===i&&($n=null),Y(It)}var It=B(0);function xl(i){for(var a=i;a!==null;){if(a.tag===13){var s=a.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||s.data==="$?"||jf(s)))return a}else if(a.tag===19&&a.memoizedProps.revealOrder!==void 0){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===i)break;for(;a.sibling===null;){if(a.return===null||a.return===i)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}function Qc(i,a,s,c){a=i.memoizedState,s=s(c,a),s=s==null?a:h({},a,s),i.memoizedState=s,i.lanes===0&&(i.updateQueue.baseState=s)}var Jc={enqueueSetState:function(i,a,s){i=i._reactInternals;var c=gn(),p=Ri(c);p.payload=a,s!=null&&(p.callback=s),a=Ni(i,p,c),a!==null&&(yn(a,i,c),vo(a,i,c))},enqueueReplaceState:function(i,a,s){i=i._reactInternals;var c=gn(),p=Ri(c);p.tag=1,p.payload=a,s!=null&&(p.callback=s),a=Ni(i,p,c),a!==null&&(yn(a,i,c),vo(a,i,c))},enqueueForceUpdate:function(i,a){i=i._reactInternals;var s=gn(),c=Ri(s);c.tag=2,a!=null&&(c.callback=a),a=Ni(i,c,s),a!==null&&(yn(a,i,s),vo(a,i,s))}};function Tg(i,a,s,c,p,b,M){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(c,b,M):a.prototype&&a.prototype.isPureReactComponent?!lo(s,c)||!lo(p,b):!0}function Sg(i,a,s,c){i=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(s,c),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(s,c),a.state!==i&&Jc.enqueueReplaceState(a,a.state,null)}function Ar(i,a){var s=a;if("ref"in a){s={};for(var c in a)c!=="ref"&&(s[c]=a[c])}if(i=i.defaultProps){s===a&&(s=h({},s));for(var p in i)s[p]===void 0&&(s[p]=i[p])}return s}var vl=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var a=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(a))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)};function Cg(i){vl(i)}function Mg(i){console.error(i)}function Eg(i){vl(i)}function bl(i,a){try{var s=i.onUncaughtError;s(a.value,{componentStack:a.stack})}catch(c){setTimeout(function(){throw c})}}function Ag(i,a,s){try{var c=i.onCaughtError;c(s.value,{componentStack:s.stack,errorBoundary:a.tag===1?a.stateNode:null})}catch(p){setTimeout(function(){throw p})}}function Zc(i,a,s){return s=Ri(s),s.tag=3,s.payload={element:null},s.callback=function(){bl(i,a)},s}function wg(i){return i=Ri(i),i.tag=3,i}function Dg(i,a,s,c){var p=s.type.getDerivedStateFromError;if(typeof p=="function"){var b=c.value;i.payload=function(){return p(b)},i.callback=function(){Ag(a,s,c)}}var M=s.stateNode;M!==null&&typeof M.componentDidCatch=="function"&&(i.callback=function(){Ag(a,s,c),typeof p!="function"&&(ji===null?ji=new Set([this]):ji.add(this));var w=c.stack;this.componentDidCatch(c.value,{componentStack:w!==null?w:""})})}function iM(i,a,s,c,p){if(s.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){if(a=s.alternate,a!==null&&ho(a,s,p,!0),s=wn.current,s!==null){switch(s.tag){case 13:return $n===null?Mf():s.alternate===null&&pt===0&&(pt=3),s.flags&=-257,s.flags|=65536,s.lanes=p,c===Dc?s.flags|=16384:(a=s.updateQueue,a===null?s.updateQueue=new Set([c]):a.add(c),Af(i,c,p)),!1;case 22:return s.flags|=65536,c===Dc?s.flags|=16384:(a=s.updateQueue,a===null?(a={transitions:null,markerInstances:null,retryQueue:new Set([c])},s.updateQueue=a):(s=a.retryQueue,s===null?a.retryQueue=new Set([c]):s.add(c)),Af(i,c,p)),!1}throw Error(r(435,s.tag))}return Af(i,c,p),Mf(),!1}if(Xe)return a=wn.current,a!==null?((a.flags&65536)===0&&(a.flags|=256),a.flags|=65536,a.lanes=p,c!==Tc&&(i=Error(r(422),{cause:c}),mo(Cn(i,s)))):(c!==Tc&&(a=Error(r(423),{cause:c}),mo(Cn(a,s))),i=i.current.alternate,i.flags|=65536,p&=-p,i.lanes|=p,c=Cn(c,s),p=Zc(i.stateNode,c,p),Rc(i,p),pt!==4&&(pt=2)),!1;var b=Error(r(520),{cause:c});if(b=Cn(b,s),Lo===null?Lo=[b]:Lo.push(b),pt!==4&&(pt=2),a===null)return!0;c=Cn(c,s),s=a;do{switch(s.tag){case 3:return s.flags|=65536,i=p&-p,s.lanes|=i,i=Zc(s.stateNode,c,i),Rc(s,i),!1;case 1:if(a=s.type,b=s.stateNode,(s.flags&128)===0&&(typeof a.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(ji===null||!ji.has(b))))return s.flags|=65536,p&=-p,s.lanes|=p,p=wg(p),Dg(p,i,s,c),Rc(s,p),!1}s=s.return}while(s!==null);return!1}var Ig=Error(r(461)),Rt=!1;function Lt(i,a,s,c){a.child=i===null?vg(a,null,s,c):ha(a,i.child,s,c)}function kg(i,a,s,c,p){s=s.render;var b=a.ref;if("ref"in c){var M={};for(var w in c)w!=="ref"&&(M[w]=c[w])}else M=c;return Cr(a),c=Pc(i,a,s,M,b,p),w=Bc(),i!==null&&!Rt?(Oc(i,a,p),gi(i,a,p)):(Xe&&w&&vc(a),a.flags|=1,Lt(i,a,c,p),a.child)}function Rg(i,a,s,c,p){if(i===null){var b=s.type;return typeof b=="function"&&!gc(b)&&b.defaultProps===void 0&&s.compare===null?(a.tag=15,a.type=b,Ng(i,a,b,c,p)):(i=Zs(s.type,null,c,a,a.mode,p),i.ref=a.ref,i.return=a,a.child=i)}if(b=i.child,!lf(i,p)){var M=b.memoizedProps;if(s=s.compare,s=s!==null?s:lo,s(M,c)&&i.ref===a.ref)return gi(i,a,p)}return a.flags|=1,i=ui(b,c),i.ref=a.ref,i.return=a,a.child=i}function Ng(i,a,s,c,p){if(i!==null){var b=i.memoizedProps;if(lo(b,c)&&i.ref===a.ref)if(Rt=!1,a.pendingProps=c=b,lf(i,p))(i.flags&131072)!==0&&(Rt=!0);else return a.lanes=i.lanes,gi(i,a,p)}return ef(i,a,s,c,p)}function _g(i,a,s){var c=a.pendingProps,p=c.children,b=i!==null?i.memoizedState:null;if(c.mode==="hidden"){if((a.flags&128)!==0){if(c=b!==null?b.baseLanes|s:s,i!==null){for(p=a.child=i.child,b=0;p!==null;)b=b|p.lanes|p.childLanes,p=p.sibling;a.childLanes=b&~c}else a.childLanes=0,a.child=null;return Lg(i,a,c,s)}if((s&536870912)!==0)a.memoizedState={baseLanes:0,cachePool:null},i!==null&&rl(a,b!==null?b.cachePool:null),b!==null?Np(a,b):_c(),bg(a);else return a.lanes=a.childLanes=536870912,Lg(i,a,b!==null?b.baseLanes|s:s,s)}else b!==null?(rl(a,b.cachePool),Np(a,b),Vi(),a.memoizedState=null):(i!==null&&rl(a,null),_c(),Vi());return Lt(i,a,p,s),a.child}function Lg(i,a,s,c){var p=wc();return p=p===null?null:{parent:Dt._currentValue,pool:p},a.memoizedState={baseLanes:s,cachePool:p},i!==null&&rl(a,null),_c(),bg(a),i!==null&&ho(i,a,c,!0),null}function Tl(i,a){var s=a.ref;if(s===null)i!==null&&i.ref!==null&&(a.flags|=4194816);else{if(typeof s!="function"&&typeof s!="object")throw Error(r(284));(i===null||i.ref!==s)&&(a.flags|=4194816)}}function ef(i,a,s,c,p){return Cr(a),s=Pc(i,a,s,c,void 0,p),c=Bc(),i!==null&&!Rt?(Oc(i,a,p),gi(i,a,p)):(Xe&&c&&vc(a),a.flags|=1,Lt(i,a,s,p),a.child)}function Vg(i,a,s,c,p,b){return Cr(a),a.updateQueue=null,s=Lp(a,c,s,p),_p(i),c=Bc(),i!==null&&!Rt?(Oc(i,a,b),gi(i,a,b)):(Xe&&c&&vc(a),a.flags|=1,Lt(i,a,s,b),a.child)}function Pg(i,a,s,c,p){if(Cr(a),a.stateNode===null){var b=ra,M=s.contextType;typeof M=="object"&&M!==null&&(b=Ht(M)),b=new s(c,b),a.memoizedState=b.state!==null&&b.state!==void 0?b.state:null,b.updater=Jc,a.stateNode=b,b._reactInternals=a,b=a.stateNode,b.props=c,b.state=a.memoizedState,b.refs={},Ic(a),M=s.contextType,b.context=typeof M=="object"&&M!==null?Ht(M):ra,b.state=a.memoizedState,M=s.getDerivedStateFromProps,typeof M=="function"&&(Qc(a,s,M,c),b.state=a.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof b.getSnapshotBeforeUpdate=="function"||typeof b.UNSAFE_componentWillMount!="function"&&typeof b.componentWillMount!="function"||(M=b.state,typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount(),M!==b.state&&Jc.enqueueReplaceState(b,b.state,null),To(a,c,b,p),bo(),b.state=a.memoizedState),typeof b.componentDidMount=="function"&&(a.flags|=4194308),c=!0}else if(i===null){b=a.stateNode;var w=a.memoizedProps,V=Ar(s,w);b.props=V;var K=b.context,ee=s.contextType;M=ra,typeof ee=="object"&&ee!==null&&(M=Ht(ee));var re=s.getDerivedStateFromProps;ee=typeof re=="function"||typeof b.getSnapshotBeforeUpdate=="function",w=a.pendingProps!==w,ee||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||(w||K!==M)&&Sg(a,b,c,M),ki=!1;var X=a.memoizedState;b.state=X,To(a,c,b,p),bo(),K=a.memoizedState,w||X!==K||ki?(typeof re=="function"&&(Qc(a,s,re,c),K=a.memoizedState),(V=ki||Tg(a,s,V,c,X,K,M))?(ee||typeof b.UNSAFE_componentWillMount!="function"&&typeof b.componentWillMount!="function"||(typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount()),typeof b.componentDidMount=="function"&&(a.flags|=4194308)):(typeof b.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=c,a.memoizedState=K),b.props=c,b.state=K,b.context=M,c=V):(typeof b.componentDidMount=="function"&&(a.flags|=4194308),c=!1)}else{b=a.stateNode,kc(i,a),M=a.memoizedProps,ee=Ar(s,M),b.props=ee,re=a.pendingProps,X=b.context,K=s.contextType,V=ra,typeof K=="object"&&K!==null&&(V=Ht(K)),w=s.getDerivedStateFromProps,(K=typeof w=="function"||typeof b.getSnapshotBeforeUpdate=="function")||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||(M!==re||X!==V)&&Sg(a,b,c,V),ki=!1,X=a.memoizedState,b.state=X,To(a,c,b,p),bo();var W=a.memoizedState;M!==re||X!==W||ki||i!==null&&i.dependencies!==null&&nl(i.dependencies)?(typeof w=="function"&&(Qc(a,s,w,c),W=a.memoizedState),(ee=ki||Tg(a,s,ee,c,X,W,V)||i!==null&&i.dependencies!==null&&nl(i.dependencies))?(K||typeof b.UNSAFE_componentWillUpdate!="function"&&typeof b.componentWillUpdate!="function"||(typeof b.componentWillUpdate=="function"&&b.componentWillUpdate(c,W,V),typeof b.UNSAFE_componentWillUpdate=="function"&&b.UNSAFE_componentWillUpdate(c,W,V)),typeof b.componentDidUpdate=="function"&&(a.flags|=4),typeof b.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof b.componentDidUpdate!="function"||M===i.memoizedProps&&X===i.memoizedState||(a.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||M===i.memoizedProps&&X===i.memoizedState||(a.flags|=1024),a.memoizedProps=c,a.memoizedState=W),b.props=c,b.state=W,b.context=V,c=ee):(typeof b.componentDidUpdate!="function"||M===i.memoizedProps&&X===i.memoizedState||(a.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||M===i.memoizedProps&&X===i.memoizedState||(a.flags|=1024),c=!1)}return b=c,Tl(i,a),c=(a.flags&128)!==0,b||c?(b=a.stateNode,s=c&&typeof s.getDerivedStateFromError!="function"?null:b.render(),a.flags|=1,i!==null&&c?(a.child=ha(a,i.child,null,p),a.child=ha(a,null,s,p)):Lt(i,a,s,p),a.memoizedState=b.state,i=a.child):i=gi(i,a,p),i}function Bg(i,a,s,c){return fo(),a.flags|=256,Lt(i,a,s,c),a.child}var tf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function nf(i){return{baseLanes:i,cachePool:Mp()}}function rf(i,a,s){return i=i!==null?i.childLanes&~s:0,a&&(i|=Dn),i}function Og(i,a,s){var c=a.pendingProps,p=!1,b=(a.flags&128)!==0,M;if((M=b)||(M=i!==null&&i.memoizedState===null?!1:(It.current&2)!==0),M&&(p=!0,a.flags&=-129),M=(a.flags&32)!==0,a.flags&=-33,i===null){if(Xe){if(p?Li(a):Vi(),Xe){var w=ht,V;if(V=w){e:{for(V=w,w=Yn;V.nodeType!==8;){if(!w){w=null;break e}if(V=zn(V.nextSibling),V===null){w=null;break e}}w=V}w!==null?(a.memoizedState={dehydrated:w,treeContext:xr!==null?{id:ci,overflow:fi}:null,retryLane:536870912,hydrationErrors:null},V=dn(18,null,null,0),V.stateNode=w,V.return=a,a.child=V,Xt=a,ht=null,V=!0):V=!1}V||Tr(a)}if(w=a.memoizedState,w!==null&&(w=w.dehydrated,w!==null))return jf(w)?a.lanes=32:a.lanes=536870912,null;pi(a)}return w=c.children,c=c.fallback,p?(Vi(),p=a.mode,w=Sl({mode:"hidden",children:w},p),c=yr(c,p,s,null),w.return=a,c.return=a,w.sibling=c,a.child=w,p=a.child,p.memoizedState=nf(s),p.childLanes=rf(i,M,s),a.memoizedState=tf,c):(Li(a),af(a,w))}if(V=i.memoizedState,V!==null&&(w=V.dehydrated,w!==null)){if(b)a.flags&256?(Li(a),a.flags&=-257,a=of(i,a,s)):a.memoizedState!==null?(Vi(),a.child=i.child,a.flags|=128,a=null):(Vi(),p=c.fallback,w=a.mode,c=Sl({mode:"visible",children:c.children},w),p=yr(p,w,s,null),p.flags|=2,c.return=a,p.return=a,c.sibling=p,a.child=c,ha(a,i.child,null,s),c=a.child,c.memoizedState=nf(s),c.childLanes=rf(i,M,s),a.memoizedState=tf,a=p);else if(Li(a),jf(w)){if(M=w.nextSibling&&w.nextSibling.dataset,M)var K=M.dgst;M=K,c=Error(r(419)),c.stack="",c.digest=M,mo({value:c,source:null,stack:null}),a=of(i,a,s)}else if(Rt||ho(i,a,s,!1),M=(s&i.childLanes)!==0,Rt||M){if(M=ot,M!==null&&(c=s&-s,c=(c&42)!==0?1:zt(c),c=(c&(M.suspendedLanes|s))!==0?0:c,c!==0&&c!==V.retryLane))throw V.retryLane=c,ia(i,c),yn(M,i,c),Ig;w.data==="$?"||Mf(),a=of(i,a,s)}else w.data==="$?"?(a.flags|=192,a.child=i.child,a=null):(i=V.treeContext,ht=zn(w.nextSibling),Xt=a,Xe=!0,br=null,Yn=!1,i!==null&&(En[An++]=ci,En[An++]=fi,En[An++]=xr,ci=i.id,fi=i.overflow,xr=a),a=af(a,c.children),a.flags|=4096);return a}return p?(Vi(),p=c.fallback,w=a.mode,V=i.child,K=V.sibling,c=ui(V,{mode:"hidden",children:c.children}),c.subtreeFlags=V.subtreeFlags&65011712,K!==null?p=ui(K,p):(p=yr(p,w,s,null),p.flags|=2),p.return=a,c.return=a,c.sibling=p,a.child=c,c=p,p=a.child,w=i.child.memoizedState,w===null?w=nf(s):(V=w.cachePool,V!==null?(K=Dt._currentValue,V=V.parent!==K?{parent:K,pool:K}:V):V=Mp(),w={baseLanes:w.baseLanes|s,cachePool:V}),p.memoizedState=w,p.childLanes=rf(i,M,s),a.memoizedState=tf,c):(Li(a),s=i.child,i=s.sibling,s=ui(s,{mode:"visible",children:c.children}),s.return=a,s.sibling=null,i!==null&&(M=a.deletions,M===null?(a.deletions=[i],a.flags|=16):M.push(i)),a.child=s,a.memoizedState=null,s)}function af(i,a){return a=Sl({mode:"visible",children:a},i.mode),a.return=i,i.child=a}function Sl(i,a){return i=dn(22,i,null,a),i.lanes=0,i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},i}function of(i,a,s){return ha(a,i.child,null,s),i=af(a,a.pendingProps.children),i.flags|=2,a.memoizedState=null,i}function Fg(i,a,s){i.lanes|=a;var c=i.alternate;c!==null&&(c.lanes|=a),Cc(i.return,a,s)}function sf(i,a,s,c,p){var b=i.memoizedState;b===null?i.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:c,tail:s,tailMode:p}:(b.isBackwards=a,b.rendering=null,b.renderingStartTime=0,b.last=c,b.tail=s,b.tailMode=p)}function zg(i,a,s){var c=a.pendingProps,p=c.revealOrder,b=c.tail;if(Lt(i,a,c.children,s),c=It.current,(c&2)!==0)c=c&1|2,a.flags|=128;else{if(i!==null&&(i.flags&128)!==0)e:for(i=a.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&Fg(i,s,a);else if(i.tag===19)Fg(i,s,a);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===a)break e;for(;i.sibling===null;){if(i.return===null||i.return===a)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}c&=1}switch(D(It,c),p){case"forwards":for(s=a.child,p=null;s!==null;)i=s.alternate,i!==null&&xl(i)===null&&(p=s),s=s.sibling;s=p,s===null?(p=a.child,a.child=null):(p=s.sibling,s.sibling=null),sf(a,!1,p,s,b);break;case"backwards":for(s=null,p=a.child,a.child=null;p!==null;){if(i=p.alternate,i!==null&&xl(i)===null){a.child=p;break}i=p.sibling,p.sibling=s,s=p,p=i}sf(a,!0,s,null,b);break;case"together":sf(a,!1,null,null,void 0);break;default:a.memoizedState=null}return a.child}function gi(i,a,s){if(i!==null&&(a.dependencies=i.dependencies),zi|=a.lanes,(s&a.childLanes)===0)if(i!==null){if(ho(i,a,s,!1),(s&a.childLanes)===0)return null}else return null;if(i!==null&&a.child!==i.child)throw Error(r(153));if(a.child!==null){for(i=a.child,s=ui(i,i.pendingProps),a.child=s,s.return=a;i.sibling!==null;)i=i.sibling,s=s.sibling=ui(i,i.pendingProps),s.return=a;s.sibling=null}return a.child}function lf(i,a){return(i.lanes&a)!==0?!0:(i=i.dependencies,!!(i!==null&&nl(i)))}function rM(i,a,s){switch(a.tag){case 3:oe(a,a.stateNode.containerInfo),Ii(a,Dt,i.memoizedState.cache),fo();break;case 27:case 5:Me(a);break;case 4:oe(a,a.stateNode.containerInfo);break;case 10:Ii(a,a.type,a.memoizedProps.value);break;case 13:var c=a.memoizedState;if(c!==null)return c.dehydrated!==null?(Li(a),a.flags|=128,null):(s&a.child.childLanes)!==0?Og(i,a,s):(Li(a),i=gi(i,a,s),i!==null?i.sibling:null);Li(a);break;case 19:var p=(i.flags&128)!==0;if(c=(s&a.childLanes)!==0,c||(ho(i,a,s,!1),c=(s&a.childLanes)!==0),p){if(c)return zg(i,a,s);a.flags|=128}if(p=a.memoizedState,p!==null&&(p.rendering=null,p.tail=null,p.lastEffect=null),D(It,It.current),c)break;return null;case 22:case 23:return a.lanes=0,_g(i,a,s);case 24:Ii(a,Dt,i.memoizedState.cache)}return gi(i,a,s)}function jg(i,a,s){if(i!==null)if(i.memoizedProps!==a.pendingProps)Rt=!0;else{if(!lf(i,s)&&(a.flags&128)===0)return Rt=!1,rM(i,a,s);Rt=(i.flags&131072)!==0}else Rt=!1,Xe&&(a.flags&1048576)!==0&&yp(a,tl,a.index);switch(a.lanes=0,a.tag){case 16:e:{i=a.pendingProps;var c=a.elementType,p=c._init;if(c=p(c._payload),a.type=c,typeof c=="function")gc(c)?(i=Ar(c,i),a.tag=1,a=Pg(null,a,c,i,s)):(a.tag=0,a=ef(null,a,c,i,s));else{if(c!=null){if(p=c.$$typeof,p===z){a.tag=11,a=kg(null,a,c,i,s);break e}else if(p===se){a.tag=14,a=Rg(null,a,c,i,s);break e}}throw a=fe(c)||c,Error(r(306,a,""))}}return a;case 0:return ef(i,a,a.type,a.pendingProps,s);case 1:return c=a.type,p=Ar(c,a.pendingProps),Pg(i,a,c,p,s);case 3:e:{if(oe(a,a.stateNode.containerInfo),i===null)throw Error(r(387));c=a.pendingProps;var b=a.memoizedState;p=b.element,kc(i,a),To(a,c,null,s);var M=a.memoizedState;if(c=M.cache,Ii(a,Dt,c),c!==b.cache&&Mc(a,[Dt],s,!0),bo(),c=M.element,b.isDehydrated)if(b={element:c,isDehydrated:!1,cache:M.cache},a.updateQueue.baseState=b,a.memoizedState=b,a.flags&256){a=Bg(i,a,c,s);break e}else if(c!==p){p=Cn(Error(r(424)),a),mo(p),a=Bg(i,a,c,s);break e}else{switch(i=a.stateNode.containerInfo,i.nodeType){case 9:i=i.body;break;default:i=i.nodeName==="HTML"?i.ownerDocument.body:i}for(ht=zn(i.firstChild),Xt=a,Xe=!0,br=null,Yn=!0,s=vg(a,null,c,s),a.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling}else{if(fo(),c===p){a=gi(i,a,s);break e}Lt(i,a,c,s)}a=a.child}return a;case 26:return Tl(i,a),i===null?(s=qy(a.type,null,a.pendingProps,null))?a.memoizedState=s:Xe||(s=a.type,i=a.pendingProps,c=Pl(ne.current).createElement(s),c[kt]=a,c[jt]=i,Pt(c,s,i),St(c),a.stateNode=c):a.memoizedState=qy(a.type,i.memoizedProps,a.pendingProps,i.memoizedState),null;case 27:return Me(a),i===null&&Xe&&(c=a.stateNode=Hy(a.type,a.pendingProps,ne.current),Xt=a,Yn=!0,p=ht,Gi(a.type)?(Hf=p,ht=zn(c.firstChild)):ht=p),Lt(i,a,a.pendingProps.children,s),Tl(i,a),i===null&&(a.flags|=4194304),a.child;case 5:return i===null&&Xe&&((p=c=ht)&&(c=NM(c,a.type,a.pendingProps,Yn),c!==null?(a.stateNode=c,Xt=a,ht=zn(c.firstChild),Yn=!1,p=!0):p=!1),p||Tr(a)),Me(a),p=a.type,b=a.pendingProps,M=i!==null?i.memoizedProps:null,c=b.children,Of(p,b)?c=null:M!==null&&Of(p,M)&&(a.flags|=32),a.memoizedState!==null&&(p=Pc(i,a,WC,null,null,s),Uo._currentValue=p),Tl(i,a),Lt(i,a,c,s),a.child;case 6:return i===null&&Xe&&((i=s=ht)&&(s=_M(s,a.pendingProps,Yn),s!==null?(a.stateNode=s,Xt=a,ht=null,i=!0):i=!1),i||Tr(a)),null;case 13:return Og(i,a,s);case 4:return oe(a,a.stateNode.containerInfo),c=a.pendingProps,i===null?a.child=ha(a,null,c,s):Lt(i,a,c,s),a.child;case 11:return kg(i,a,a.type,a.pendingProps,s);case 7:return Lt(i,a,a.pendingProps,s),a.child;case 8:return Lt(i,a,a.pendingProps.children,s),a.child;case 12:return Lt(i,a,a.pendingProps.children,s),a.child;case 10:return c=a.pendingProps,Ii(a,a.type,c.value),Lt(i,a,c.children,s),a.child;case 9:return p=a.type._context,c=a.pendingProps.children,Cr(a),p=Ht(p),c=c(p),a.flags|=1,Lt(i,a,c,s),a.child;case 14:return Rg(i,a,a.type,a.pendingProps,s);case 15:return Ng(i,a,a.type,a.pendingProps,s);case 19:return zg(i,a,s);case 31:return c=a.pendingProps,s=a.mode,c={mode:c.mode,children:c.children},i===null?(s=Sl(c,s),s.ref=a.ref,a.child=s,s.return=a,a=s):(s=ui(i.child,c),s.ref=a.ref,a.child=s,s.return=a,a=s),a;case 22:return _g(i,a,s);case 24:return Cr(a),c=Ht(Dt),i===null?(p=wc(),p===null&&(p=ot,b=Ec(),p.pooledCache=b,b.refCount++,b!==null&&(p.pooledCacheLanes|=s),p=b),a.memoizedState={parent:c,cache:p},Ic(a),Ii(a,Dt,p)):((i.lanes&s)!==0&&(kc(i,a),To(a,null,null,s),bo()),p=i.memoizedState,b=a.memoizedState,p.parent!==c?(p={parent:c,cache:c},a.memoizedState=p,a.lanes===0&&(a.memoizedState=a.updateQueue.baseState=p),Ii(a,Dt,c)):(c=b.cache,Ii(a,Dt,c),c!==p.cache&&Mc(a,[Dt],s,!0))),Lt(i,a,a.pendingProps.children,s),a.child;case 29:throw a.pendingProps}throw Error(r(156,a.tag))}function yi(i){i.flags|=4}function Hg(i,a){if(a.type!=="stylesheet"||(a.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!Wy(a)){if(a=wn.current,a!==null&&((Ue&4194048)===Ue?$n!==null:(Ue&62914560)!==Ue&&(Ue&536870912)===0||a!==$n))throw xo=Dc,Ep;i.flags|=8192}}function Cl(i,a){a!==null&&(i.flags|=4),i.flags&16384&&(a=i.tag!==22?Wa():536870912,i.lanes|=a,xa|=a)}function Do(i,a){if(!Xe)switch(i.tailMode){case"hidden":a=i.tail;for(var s=null;a!==null;)a.alternate!==null&&(s=a),a=a.sibling;s===null?i.tail=null:s.sibling=null;break;case"collapsed":s=i.tail;for(var c=null;s!==null;)s.alternate!==null&&(c=s),s=s.sibling;c===null?a||i.tail===null?i.tail=null:i.tail.sibling=null:c.sibling=null}}function ct(i){var a=i.alternate!==null&&i.alternate.child===i.child,s=0,c=0;if(a)for(var p=i.child;p!==null;)s|=p.lanes|p.childLanes,c|=p.subtreeFlags&65011712,c|=p.flags&65011712,p.return=i,p=p.sibling;else for(p=i.child;p!==null;)s|=p.lanes|p.childLanes,c|=p.subtreeFlags,c|=p.flags,p.return=i,p=p.sibling;return i.subtreeFlags|=c,i.childLanes=s,a}function aM(i,a,s){var c=a.pendingProps;switch(bc(a),a.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ct(a),null;case 1:return ct(a),null;case 3:return s=a.stateNode,c=null,i!==null&&(c=i.memoizedState.cache),a.memoizedState.cache!==c&&(a.flags|=2048),mi(Dt),Te(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(i===null||i.child===null)&&(co(a)?yi(a):i===null||i.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,bp())),ct(a),null;case 26:return s=a.memoizedState,i===null?(yi(a),s!==null?(ct(a),Hg(a,s)):(ct(a),a.flags&=-16777217)):s?s!==i.memoizedState?(yi(a),ct(a),Hg(a,s)):(ct(a),a.flags&=-16777217):(i.memoizedProps!==c&&yi(a),ct(a),a.flags&=-16777217),null;case 27:Re(a),s=ne.current;var p=a.type;if(i!==null&&a.stateNode!=null)i.memoizedProps!==c&&yi(a);else{if(!c){if(a.stateNode===null)throw Error(r(166));return ct(a),null}i=te.current,co(a)?xp(a):(i=Hy(p,c,s),a.stateNode=i,yi(a))}return ct(a),null;case 5:if(Re(a),s=a.type,i!==null&&a.stateNode!=null)i.memoizedProps!==c&&yi(a);else{if(!c){if(a.stateNode===null)throw Error(r(166));return ct(a),null}if(i=te.current,co(a))xp(a);else{switch(p=Pl(ne.current),i){case 1:i=p.createElementNS("http://www.w3.org/2000/svg",s);break;case 2:i=p.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;default:switch(s){case"svg":i=p.createElementNS("http://www.w3.org/2000/svg",s);break;case"math":i=p.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;case"script":i=p.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild);break;case"select":i=typeof c.is=="string"?p.createElement("select",{is:c.is}):p.createElement("select"),c.multiple?i.multiple=!0:c.size&&(i.size=c.size);break;default:i=typeof c.is=="string"?p.createElement(s,{is:c.is}):p.createElement(s)}}i[kt]=a,i[jt]=c;e:for(p=a.child;p!==null;){if(p.tag===5||p.tag===6)i.appendChild(p.stateNode);else if(p.tag!==4&&p.tag!==27&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===a)break e;for(;p.sibling===null;){if(p.return===null||p.return===a)break e;p=p.return}p.sibling.return=p.return,p=p.sibling}a.stateNode=i;e:switch(Pt(i,s,c),s){case"button":case"input":case"select":case"textarea":i=!!c.autoFocus;break e;case"img":i=!0;break e;default:i=!1}i&&yi(a)}}return ct(a),a.flags&=-16777217,null;case 6:if(i&&a.stateNode!=null)i.memoizedProps!==c&&yi(a);else{if(typeof c!="string"&&a.stateNode===null)throw Error(r(166));if(i=ne.current,co(a)){if(i=a.stateNode,s=a.memoizedProps,c=null,p=Xt,p!==null)switch(p.tag){case 27:case 5:c=p.memoizedProps}i[kt]=a,i=!!(i.nodeValue===s||c!==null&&c.suppressHydrationWarning===!0||Vy(i.nodeValue,s)),i||Tr(a)}else i=Pl(i).createTextNode(c),i[kt]=a,a.stateNode=i}return ct(a),null;case 13:if(c=a.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(p=co(a),c!==null&&c.dehydrated!==null){if(i===null){if(!p)throw Error(r(318));if(p=a.memoizedState,p=p!==null?p.dehydrated:null,!p)throw Error(r(317));p[kt]=a}else fo(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;ct(a),p=!1}else p=bp(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=p),p=!0;if(!p)return a.flags&256?(pi(a),a):(pi(a),null)}if(pi(a),(a.flags&128)!==0)return a.lanes=s,a;if(s=c!==null,i=i!==null&&i.memoizedState!==null,s){c=a.child,p=null,c.alternate!==null&&c.alternate.memoizedState!==null&&c.alternate.memoizedState.cachePool!==null&&(p=c.alternate.memoizedState.cachePool.pool);var b=null;c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(b=c.memoizedState.cachePool.pool),b!==p&&(c.flags|=2048)}return s!==i&&s&&(a.child.flags|=8192),Cl(a,a.updateQueue),ct(a),null;case 4:return Te(),i===null&&_f(a.stateNode.containerInfo),ct(a),null;case 10:return mi(a.type),ct(a),null;case 19:if(Y(It),p=a.memoizedState,p===null)return ct(a),null;if(c=(a.flags&128)!==0,b=p.rendering,b===null)if(c)Do(p,!1);else{if(pt!==0||i!==null&&(i.flags&128)!==0)for(i=a.child;i!==null;){if(b=xl(i),b!==null){for(a.flags|=128,Do(p,!1),i=b.updateQueue,a.updateQueue=i,Cl(a,i),a.subtreeFlags=0,i=s,s=a.child;s!==null;)gp(s,i),s=s.sibling;return D(It,It.current&1|2),a.child}i=i.sibling}p.tail!==null&&mt()>Al&&(a.flags|=128,c=!0,Do(p,!1),a.lanes=4194304)}else{if(!c)if(i=xl(b),i!==null){if(a.flags|=128,c=!0,i=i.updateQueue,a.updateQueue=i,Cl(a,i),Do(p,!0),p.tail===null&&p.tailMode==="hidden"&&!b.alternate&&!Xe)return ct(a),null}else 2*mt()-p.renderingStartTime>Al&&s!==536870912&&(a.flags|=128,c=!0,Do(p,!1),a.lanes=4194304);p.isBackwards?(b.sibling=a.child,a.child=b):(i=p.last,i!==null?i.sibling=b:a.child=b,p.last=b)}return p.tail!==null?(a=p.tail,p.rendering=a,p.tail=a.sibling,p.renderingStartTime=mt(),a.sibling=null,i=It.current,D(It,c?i&1|2:i&1),a):(ct(a),null);case 22:case 23:return pi(a),Lc(),c=a.memoizedState!==null,i!==null?i.memoizedState!==null!==c&&(a.flags|=8192):c&&(a.flags|=8192),c?(s&536870912)!==0&&(a.flags&128)===0&&(ct(a),a.subtreeFlags&6&&(a.flags|=8192)):ct(a),s=a.updateQueue,s!==null&&Cl(a,s.retryQueue),s=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(s=i.memoizedState.cachePool.pool),c=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(c=a.memoizedState.cachePool.pool),c!==s&&(a.flags|=2048),i!==null&&Y(Mr),null;case 24:return s=null,i!==null&&(s=i.memoizedState.cache),a.memoizedState.cache!==s&&(a.flags|=2048),mi(Dt),ct(a),null;case 25:return null;case 30:return null}throw Error(r(156,a.tag))}function oM(i,a){switch(bc(a),a.tag){case 1:return i=a.flags,i&65536?(a.flags=i&-65537|128,a):null;case 3:return mi(Dt),Te(),i=a.flags,(i&65536)!==0&&(i&128)===0?(a.flags=i&-65537|128,a):null;case 26:case 27:case 5:return Re(a),null;case 13:if(pi(a),i=a.memoizedState,i!==null&&i.dehydrated!==null){if(a.alternate===null)throw Error(r(340));fo()}return i=a.flags,i&65536?(a.flags=i&-65537|128,a):null;case 19:return Y(It),null;case 4:return Te(),null;case 10:return mi(a.type),null;case 22:case 23:return pi(a),Lc(),i!==null&&Y(Mr),i=a.flags,i&65536?(a.flags=i&-65537|128,a):null;case 24:return mi(Dt),null;case 25:return null;default:return null}}function Ug(i,a){switch(bc(a),a.tag){case 3:mi(Dt),Te();break;case 26:case 27:case 5:Re(a);break;case 4:Te();break;case 13:pi(a);break;case 19:Y(It);break;case 10:mi(a.type);break;case 22:case 23:pi(a),Lc(),i!==null&&Y(Mr);break;case 24:mi(Dt)}}function Io(i,a){try{var s=a.updateQueue,c=s!==null?s.lastEffect:null;if(c!==null){var p=c.next;s=p;do{if((s.tag&i)===i){c=void 0;var b=s.create,M=s.inst;c=b(),M.destroy=c}s=s.next}while(s!==p)}}catch(w){nt(a,a.return,w)}}function Pi(i,a,s){try{var c=a.updateQueue,p=c!==null?c.lastEffect:null;if(p!==null){var b=p.next;c=b;do{if((c.tag&i)===i){var M=c.inst,w=M.destroy;if(w!==void 0){M.destroy=void 0,p=a;var V=s,K=w;try{K()}catch(ee){nt(p,V,ee)}}}c=c.next}while(c!==b)}}catch(ee){nt(a,a.return,ee)}}function Gg(i){var a=i.updateQueue;if(a!==null){var s=i.stateNode;try{Rp(a,s)}catch(c){nt(i,i.return,c)}}}function qg(i,a,s){s.props=Ar(i.type,i.memoizedProps),s.state=i.memoizedState;try{s.componentWillUnmount()}catch(c){nt(i,a,c)}}function ko(i,a){try{var s=i.ref;if(s!==null){switch(i.tag){case 26:case 27:case 5:var c=i.stateNode;break;case 30:c=i.stateNode;break;default:c=i.stateNode}typeof s=="function"?i.refCleanup=s(c):s.current=c}}catch(p){nt(i,a,p)}}function Kn(i,a){var s=i.ref,c=i.refCleanup;if(s!==null)if(typeof c=="function")try{c()}catch(p){nt(i,a,p)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof s=="function")try{s(null)}catch(p){nt(i,a,p)}else s.current=null}function Yg(i){var a=i.type,s=i.memoizedProps,c=i.stateNode;try{e:switch(a){case"button":case"input":case"select":case"textarea":s.autoFocus&&c.focus();break e;case"img":s.src?c.src=s.src:s.srcSet&&(c.srcset=s.srcSet)}}catch(p){nt(i,i.return,p)}}function uf(i,a,s){try{var c=i.stateNode;wM(c,i.type,s,a),c[jt]=a}catch(p){nt(i,i.return,p)}}function $g(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&Gi(i.type)||i.tag===4}function cf(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||$g(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&Gi(i.type)||i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function ff(i,a,s){var c=i.tag;if(c===5||c===6)i=i.stateNode,a?(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s).insertBefore(i,a):(a=s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,a.appendChild(i),s=s._reactRootContainer,s!=null||a.onclick!==null||(a.onclick=Vl));else if(c!==4&&(c===27&&Gi(i.type)&&(s=i.stateNode,a=null),i=i.child,i!==null))for(ff(i,a,s),i=i.sibling;i!==null;)ff(i,a,s),i=i.sibling}function Ml(i,a,s){var c=i.tag;if(c===5||c===6)i=i.stateNode,a?s.insertBefore(i,a):s.appendChild(i);else if(c!==4&&(c===27&&Gi(i.type)&&(s=i.stateNode),i=i.child,i!==null))for(Ml(i,a,s),i=i.sibling;i!==null;)Ml(i,a,s),i=i.sibling}function Kg(i){var a=i.stateNode,s=i.memoizedProps;try{for(var c=i.type,p=a.attributes;p.length;)a.removeAttributeNode(p[0]);Pt(a,c,s),a[kt]=i,a[jt]=s}catch(b){nt(i,i.return,b)}}var xi=!1,bt=!1,df=!1,Xg=typeof WeakSet=="function"?WeakSet:Set,Nt=null;function sM(i,a){if(i=i.containerInfo,Pf=Hl,i=op(i),uc(i)){if("selectionStart"in i)var s={start:i.selectionStart,end:i.selectionEnd};else e:{s=(s=i.ownerDocument)&&s.defaultView||window;var c=s.getSelection&&s.getSelection();if(c&&c.rangeCount!==0){s=c.anchorNode;var p=c.anchorOffset,b=c.focusNode;c=c.focusOffset;try{s.nodeType,b.nodeType}catch{s=null;break e}var M=0,w=-1,V=-1,K=0,ee=0,re=i,X=null;t:for(;;){for(var W;re!==s||p!==0&&re.nodeType!==3||(w=M+p),re!==b||c!==0&&re.nodeType!==3||(V=M+c),re.nodeType===3&&(M+=re.nodeValue.length),(W=re.firstChild)!==null;)X=re,re=W;for(;;){if(re===i)break t;if(X===s&&++K===p&&(w=M),X===b&&++ee===c&&(V=M),(W=re.nextSibling)!==null)break;re=X,X=re.parentNode}re=W}s=w===-1||V===-1?null:{start:w,end:V}}else s=null}s=s||{start:0,end:0}}else s=null;for(Bf={focusedElem:i,selectionRange:s},Hl=!1,Nt=a;Nt!==null;)if(a=Nt,i=a.child,(a.subtreeFlags&1024)!==0&&i!==null)i.return=a,Nt=i;else for(;Nt!==null;){switch(a=Nt,b=a.alternate,i=a.flags,a.tag){case 0:break;case 11:case 15:break;case 1:if((i&1024)!==0&&b!==null){i=void 0,s=a,p=b.memoizedProps,b=b.memoizedState,c=s.stateNode;try{var De=Ar(s.type,p,s.elementType===s.type);i=c.getSnapshotBeforeUpdate(De,b),c.__reactInternalSnapshotBeforeUpdate=i}catch(Ae){nt(s,s.return,Ae)}}break;case 3:if((i&1024)!==0){if(i=a.stateNode.containerInfo,s=i.nodeType,s===9)zf(i);else if(s===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":zf(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(r(163))}if(i=a.sibling,i!==null){i.return=a.return,Nt=i;break}Nt=a.return}}function Wg(i,a,s){var c=s.flags;switch(s.tag){case 0:case 11:case 15:Bi(i,s),c&4&&Io(5,s);break;case 1:if(Bi(i,s),c&4)if(i=s.stateNode,a===null)try{i.componentDidMount()}catch(M){nt(s,s.return,M)}else{var p=Ar(s.type,a.memoizedProps);a=a.memoizedState;try{i.componentDidUpdate(p,a,i.__reactInternalSnapshotBeforeUpdate)}catch(M){nt(s,s.return,M)}}c&64&&Gg(s),c&512&&ko(s,s.return);break;case 3:if(Bi(i,s),c&64&&(i=s.updateQueue,i!==null)){if(a=null,s.child!==null)switch(s.child.tag){case 27:case 5:a=s.child.stateNode;break;case 1:a=s.child.stateNode}try{Rp(i,a)}catch(M){nt(s,s.return,M)}}break;case 27:a===null&&c&4&&Kg(s);case 26:case 5:Bi(i,s),a===null&&c&4&&Yg(s),c&512&&ko(s,s.return);break;case 12:Bi(i,s);break;case 13:Bi(i,s),c&4&&Zg(i,s),c&64&&(i=s.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(s=gM.bind(null,s),LM(i,s))));break;case 22:if(c=s.memoizedState!==null||xi,!c){a=a!==null&&a.memoizedState!==null||bt,p=xi;var b=bt;xi=c,(bt=a)&&!b?Oi(i,s,(s.subtreeFlags&8772)!==0):Bi(i,s),xi=p,bt=b}break;case 30:break;default:Bi(i,s)}}function Qg(i){var a=i.alternate;a!==null&&(i.alternate=null,Qg(a)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(a=i.stateNode,a!==null&&Ja(a)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var ut=null,nn=!1;function vi(i,a,s){for(s=s.child;s!==null;)Jg(i,a,s),s=s.sibling}function Jg(i,a,s){if(ue&&typeof ue.onCommitFiberUnmount=="function")try{ue.onCommitFiberUnmount(Z,s)}catch{}switch(s.tag){case 26:bt||Kn(s,a),vi(i,a,s),s.memoizedState?s.memoizedState.count--:s.stateNode&&(s=s.stateNode,s.parentNode.removeChild(s));break;case 27:bt||Kn(s,a);var c=ut,p=nn;Gi(s.type)&&(ut=s.stateNode,nn=!1),vi(i,a,s),Fo(s.stateNode),ut=c,nn=p;break;case 5:bt||Kn(s,a);case 6:if(c=ut,p=nn,ut=null,vi(i,a,s),ut=c,nn=p,ut!==null)if(nn)try{(ut.nodeType===9?ut.body:ut.nodeName==="HTML"?ut.ownerDocument.body:ut).removeChild(s.stateNode)}catch(b){nt(s,a,b)}else try{ut.removeChild(s.stateNode)}catch(b){nt(s,a,b)}break;case 18:ut!==null&&(nn?(i=ut,zy(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,s.stateNode),$o(i)):zy(ut,s.stateNode));break;case 4:c=ut,p=nn,ut=s.stateNode.containerInfo,nn=!0,vi(i,a,s),ut=c,nn=p;break;case 0:case 11:case 14:case 15:bt||Pi(2,s,a),bt||Pi(4,s,a),vi(i,a,s);break;case 1:bt||(Kn(s,a),c=s.stateNode,typeof c.componentWillUnmount=="function"&&qg(s,a,c)),vi(i,a,s);break;case 21:vi(i,a,s);break;case 22:bt=(c=bt)||s.memoizedState!==null,vi(i,a,s),bt=c;break;default:vi(i,a,s)}}function Zg(i,a){if(a.memoizedState===null&&(i=a.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{$o(i)}catch(s){nt(a,a.return,s)}}function lM(i){switch(i.tag){case 13:case 19:var a=i.stateNode;return a===null&&(a=i.stateNode=new Xg),a;case 22:return i=i.stateNode,a=i._retryCache,a===null&&(a=i._retryCache=new Xg),a;default:throw Error(r(435,i.tag))}}function mf(i,a){var s=lM(i);a.forEach(function(c){var p=yM.bind(null,i,c);s.has(c)||(s.add(c),c.then(p,p))})}function mn(i,a){var s=a.deletions;if(s!==null)for(var c=0;c<s.length;c++){var p=s[c],b=i,M=a,w=M;e:for(;w!==null;){switch(w.tag){case 27:if(Gi(w.type)){ut=w.stateNode,nn=!1;break e}break;case 5:ut=w.stateNode,nn=!1;break e;case 3:case 4:ut=w.stateNode.containerInfo,nn=!0;break e}w=w.return}if(ut===null)throw Error(r(160));Jg(b,M,p),ut=null,nn=!1,b=p.alternate,b!==null&&(b.return=null),p.return=null}if(a.subtreeFlags&13878)for(a=a.child;a!==null;)ey(a,i),a=a.sibling}var Fn=null;function ey(i,a){var s=i.alternate,c=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:mn(a,i),hn(i),c&4&&(Pi(3,i,i.return),Io(3,i),Pi(5,i,i.return));break;case 1:mn(a,i),hn(i),c&512&&(bt||s===null||Kn(s,s.return)),c&64&&xi&&(i=i.updateQueue,i!==null&&(c=i.callbacks,c!==null&&(s=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=s===null?c:s.concat(c))));break;case 26:var p=Fn;if(mn(a,i),hn(i),c&512&&(bt||s===null||Kn(s,s.return)),c&4){var b=s!==null?s.memoizedState:null;if(c=i.memoizedState,s===null)if(c===null)if(i.stateNode===null){e:{c=i.type,s=i.memoizedProps,p=p.ownerDocument||p;t:switch(c){case"title":b=p.getElementsByTagName("title")[0],(!b||b[cr]||b[kt]||b.namespaceURI==="http://www.w3.org/2000/svg"||b.hasAttribute("itemprop"))&&(b=p.createElement(c),p.head.insertBefore(b,p.querySelector("head > title"))),Pt(b,c,s),b[kt]=i,St(b),c=b;break e;case"link":var M=Ky("link","href",p).get(c+(s.href||""));if(M){for(var w=0;w<M.length;w++)if(b=M[w],b.getAttribute("href")===(s.href==null||s.href===""?null:s.href)&&b.getAttribute("rel")===(s.rel==null?null:s.rel)&&b.getAttribute("title")===(s.title==null?null:s.title)&&b.getAttribute("crossorigin")===(s.crossOrigin==null?null:s.crossOrigin)){M.splice(w,1);break t}}b=p.createElement(c),Pt(b,c,s),p.head.appendChild(b);break;case"meta":if(M=Ky("meta","content",p).get(c+(s.content||""))){for(w=0;w<M.length;w++)if(b=M[w],b.getAttribute("content")===(s.content==null?null:""+s.content)&&b.getAttribute("name")===(s.name==null?null:s.name)&&b.getAttribute("property")===(s.property==null?null:s.property)&&b.getAttribute("http-equiv")===(s.httpEquiv==null?null:s.httpEquiv)&&b.getAttribute("charset")===(s.charSet==null?null:s.charSet)){M.splice(w,1);break t}}b=p.createElement(c),Pt(b,c,s),p.head.appendChild(b);break;default:throw Error(r(468,c))}b[kt]=i,St(b),c=b}i.stateNode=c}else Xy(p,i.type,i.stateNode);else i.stateNode=$y(p,c,i.memoizedProps);else b!==c?(b===null?s.stateNode!==null&&(s=s.stateNode,s.parentNode.removeChild(s)):b.count--,c===null?Xy(p,i.type,i.stateNode):$y(p,c,i.memoizedProps)):c===null&&i.stateNode!==null&&uf(i,i.memoizedProps,s.memoizedProps)}break;case 27:mn(a,i),hn(i),c&512&&(bt||s===null||Kn(s,s.return)),s!==null&&c&4&&uf(i,i.memoizedProps,s.memoizedProps);break;case 5:if(mn(a,i),hn(i),c&512&&(bt||s===null||Kn(s,s.return)),i.flags&32){p=i.stateNode;try{Wr(p,"")}catch(W){nt(i,i.return,W)}}c&4&&i.stateNode!=null&&(p=i.memoizedProps,uf(i,p,s!==null?s.memoizedProps:p)),c&1024&&(df=!0);break;case 6:if(mn(a,i),hn(i),c&4){if(i.stateNode===null)throw Error(r(162));c=i.memoizedProps,s=i.stateNode;try{s.nodeValue=c}catch(W){nt(i,i.return,W)}}break;case 3:if(Fl=null,p=Fn,Fn=Bl(a.containerInfo),mn(a,i),Fn=p,hn(i),c&4&&s!==null&&s.memoizedState.isDehydrated)try{$o(a.containerInfo)}catch(W){nt(i,i.return,W)}df&&(df=!1,ty(i));break;case 4:c=Fn,Fn=Bl(i.stateNode.containerInfo),mn(a,i),hn(i),Fn=c;break;case 12:mn(a,i),hn(i);break;case 13:mn(a,i),hn(i),i.child.flags&8192&&i.memoizedState!==null!=(s!==null&&s.memoizedState!==null)&&(vf=mt()),c&4&&(c=i.updateQueue,c!==null&&(i.updateQueue=null,mf(i,c)));break;case 22:p=i.memoizedState!==null;var V=s!==null&&s.memoizedState!==null,K=xi,ee=bt;if(xi=K||p,bt=ee||V,mn(a,i),bt=ee,xi=K,hn(i),c&8192)e:for(a=i.stateNode,a._visibility=p?a._visibility&-2:a._visibility|1,p&&(s===null||V||xi||bt||wr(i)),s=null,a=i;;){if(a.tag===5||a.tag===26){if(s===null){V=s=a;try{if(b=V.stateNode,p)M=b.style,typeof M.setProperty=="function"?M.setProperty("display","none","important"):M.display="none";else{w=V.stateNode;var re=V.memoizedProps.style,X=re!=null&&re.hasOwnProperty("display")?re.display:null;w.style.display=X==null||typeof X=="boolean"?"":(""+X).trim()}}catch(W){nt(V,V.return,W)}}}else if(a.tag===6){if(s===null){V=a;try{V.stateNode.nodeValue=p?"":V.memoizedProps}catch(W){nt(V,V.return,W)}}}else if((a.tag!==22&&a.tag!==23||a.memoizedState===null||a===i)&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===i)break e;for(;a.sibling===null;){if(a.return===null||a.return===i)break e;s===a&&(s=null),a=a.return}s===a&&(s=null),a.sibling.return=a.return,a=a.sibling}c&4&&(c=i.updateQueue,c!==null&&(s=c.retryQueue,s!==null&&(c.retryQueue=null,mf(i,s))));break;case 19:mn(a,i),hn(i),c&4&&(c=i.updateQueue,c!==null&&(i.updateQueue=null,mf(i,c)));break;case 30:break;case 21:break;default:mn(a,i),hn(i)}}function hn(i){var a=i.flags;if(a&2){try{for(var s,c=i.return;c!==null;){if($g(c)){s=c;break}c=c.return}if(s==null)throw Error(r(160));switch(s.tag){case 27:var p=s.stateNode,b=cf(i);Ml(i,b,p);break;case 5:var M=s.stateNode;s.flags&32&&(Wr(M,""),s.flags&=-33);var w=cf(i);Ml(i,w,M);break;case 3:case 4:var V=s.stateNode.containerInfo,K=cf(i);ff(i,K,V);break;default:throw Error(r(161))}}catch(ee){nt(i,i.return,ee)}i.flags&=-3}a&4096&&(i.flags&=-4097)}function ty(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var a=i;ty(a),a.tag===5&&a.flags&1024&&a.stateNode.reset(),i=i.sibling}}function Bi(i,a){if(a.subtreeFlags&8772)for(a=a.child;a!==null;)Wg(i,a.alternate,a),a=a.sibling}function wr(i){for(i=i.child;i!==null;){var a=i;switch(a.tag){case 0:case 11:case 14:case 15:Pi(4,a,a.return),wr(a);break;case 1:Kn(a,a.return);var s=a.stateNode;typeof s.componentWillUnmount=="function"&&qg(a,a.return,s),wr(a);break;case 27:Fo(a.stateNode);case 26:case 5:Kn(a,a.return),wr(a);break;case 22:a.memoizedState===null&&wr(a);break;case 30:wr(a);break;default:wr(a)}i=i.sibling}}function Oi(i,a,s){for(s=s&&(a.subtreeFlags&8772)!==0,a=a.child;a!==null;){var c=a.alternate,p=i,b=a,M=b.flags;switch(b.tag){case 0:case 11:case 15:Oi(p,b,s),Io(4,b);break;case 1:if(Oi(p,b,s),c=b,p=c.stateNode,typeof p.componentDidMount=="function")try{p.componentDidMount()}catch(K){nt(c,c.return,K)}if(c=b,p=c.updateQueue,p!==null){var w=c.stateNode;try{var V=p.shared.hiddenCallbacks;if(V!==null)for(p.shared.hiddenCallbacks=null,p=0;p<V.length;p++)kp(V[p],w)}catch(K){nt(c,c.return,K)}}s&&M&64&&Gg(b),ko(b,b.return);break;case 27:Kg(b);case 26:case 5:Oi(p,b,s),s&&c===null&&M&4&&Yg(b),ko(b,b.return);break;case 12:Oi(p,b,s);break;case 13:Oi(p,b,s),s&&M&4&&Zg(p,b);break;case 22:b.memoizedState===null&&Oi(p,b,s),ko(b,b.return);break;case 30:break;default:Oi(p,b,s)}a=a.sibling}}function hf(i,a){var s=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(s=i.memoizedState.cachePool.pool),i=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(i=a.memoizedState.cachePool.pool),i!==s&&(i!=null&&i.refCount++,s!=null&&po(s))}function pf(i,a){i=null,a.alternate!==null&&(i=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==i&&(a.refCount++,i!=null&&po(i))}function Xn(i,a,s,c){if(a.subtreeFlags&10256)for(a=a.child;a!==null;)ny(i,a,s,c),a=a.sibling}function ny(i,a,s,c){var p=a.flags;switch(a.tag){case 0:case 11:case 15:Xn(i,a,s,c),p&2048&&Io(9,a);break;case 1:Xn(i,a,s,c);break;case 3:Xn(i,a,s,c),p&2048&&(i=null,a.alternate!==null&&(i=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==i&&(a.refCount++,i!=null&&po(i)));break;case 12:if(p&2048){Xn(i,a,s,c),i=a.stateNode;try{var b=a.memoizedProps,M=b.id,w=b.onPostCommit;typeof w=="function"&&w(M,a.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(V){nt(a,a.return,V)}}else Xn(i,a,s,c);break;case 13:Xn(i,a,s,c);break;case 23:break;case 22:b=a.stateNode,M=a.alternate,a.memoizedState!==null?b._visibility&2?Xn(i,a,s,c):Ro(i,a):b._visibility&2?Xn(i,a,s,c):(b._visibility|=2,pa(i,a,s,c,(a.subtreeFlags&10256)!==0)),p&2048&&hf(M,a);break;case 24:Xn(i,a,s,c),p&2048&&pf(a.alternate,a);break;default:Xn(i,a,s,c)}}function pa(i,a,s,c,p){for(p=p&&(a.subtreeFlags&10256)!==0,a=a.child;a!==null;){var b=i,M=a,w=s,V=c,K=M.flags;switch(M.tag){case 0:case 11:case 15:pa(b,M,w,V,p),Io(8,M);break;case 23:break;case 22:var ee=M.stateNode;M.memoizedState!==null?ee._visibility&2?pa(b,M,w,V,p):Ro(b,M):(ee._visibility|=2,pa(b,M,w,V,p)),p&&K&2048&&hf(M.alternate,M);break;case 24:pa(b,M,w,V,p),p&&K&2048&&pf(M.alternate,M);break;default:pa(b,M,w,V,p)}a=a.sibling}}function Ro(i,a){if(a.subtreeFlags&10256)for(a=a.child;a!==null;){var s=i,c=a,p=c.flags;switch(c.tag){case 22:Ro(s,c),p&2048&&hf(c.alternate,c);break;case 24:Ro(s,c),p&2048&&pf(c.alternate,c);break;default:Ro(s,c)}a=a.sibling}}var No=8192;function ga(i){if(i.subtreeFlags&No)for(i=i.child;i!==null;)iy(i),i=i.sibling}function iy(i){switch(i.tag){case 26:ga(i),i.flags&No&&i.memoizedState!==null&&$M(Fn,i.memoizedState,i.memoizedProps);break;case 5:ga(i);break;case 3:case 4:var a=Fn;Fn=Bl(i.stateNode.containerInfo),ga(i),Fn=a;break;case 22:i.memoizedState===null&&(a=i.alternate,a!==null&&a.memoizedState!==null?(a=No,No=16777216,ga(i),No=a):ga(i));break;default:ga(i)}}function ry(i){var a=i.alternate;if(a!==null&&(i=a.child,i!==null)){a.child=null;do a=i.sibling,i.sibling=null,i=a;while(i!==null)}}function _o(i){var a=i.deletions;if((i.flags&16)!==0){if(a!==null)for(var s=0;s<a.length;s++){var c=a[s];Nt=c,oy(c,i)}ry(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)ay(i),i=i.sibling}function ay(i){switch(i.tag){case 0:case 11:case 15:_o(i),i.flags&2048&&Pi(9,i,i.return);break;case 3:_o(i);break;case 12:_o(i);break;case 22:var a=i.stateNode;i.memoizedState!==null&&a._visibility&2&&(i.return===null||i.return.tag!==13)?(a._visibility&=-3,El(i)):_o(i);break;default:_o(i)}}function El(i){var a=i.deletions;if((i.flags&16)!==0){if(a!==null)for(var s=0;s<a.length;s++){var c=a[s];Nt=c,oy(c,i)}ry(i)}for(i=i.child;i!==null;){switch(a=i,a.tag){case 0:case 11:case 15:Pi(8,a,a.return),El(a);break;case 22:s=a.stateNode,s._visibility&2&&(s._visibility&=-3,El(a));break;default:El(a)}i=i.sibling}}function oy(i,a){for(;Nt!==null;){var s=Nt;switch(s.tag){case 0:case 11:case 15:Pi(8,s,a);break;case 23:case 22:if(s.memoizedState!==null&&s.memoizedState.cachePool!==null){var c=s.memoizedState.cachePool.pool;c!=null&&c.refCount++}break;case 24:po(s.memoizedState.cache)}if(c=s.child,c!==null)c.return=s,Nt=c;else e:for(s=i;Nt!==null;){c=Nt;var p=c.sibling,b=c.return;if(Qg(c),c===s){Nt=null;break e}if(p!==null){p.return=b,Nt=p;break e}Nt=b}}}var uM={getCacheForType:function(i){var a=Ht(Dt),s=a.data.get(i);return s===void 0&&(s=i(),a.data.set(i,s)),s}},cM=typeof WeakMap=="function"?WeakMap:Map,Qe=0,ot=null,Oe=null,Ue=0,Je=0,pn=null,Fi=!1,ya=!1,gf=!1,bi=0,pt=0,zi=0,Dr=0,yf=0,Dn=0,xa=0,Lo=null,rn=null,xf=!1,vf=0,Al=1/0,wl=null,ji=null,Vt=0,Hi=null,va=null,ba=0,bf=0,Tf=null,sy=null,Vo=0,Sf=null;function gn(){if((Qe&2)!==0&&Ue!==0)return Ue&-Ue;if(q.T!==null){var i=sa;return i!==0?i:If()}return Ps()}function ly(){Dn===0&&(Dn=(Ue&536870912)===0||Xe?cn():536870912);var i=wn.current;return i!==null&&(i.flags|=32),Dn}function yn(i,a,s){(i===ot&&(Je===2||Je===9)||i.cancelPendingCommit!==null)&&(Ta(i,0),Ui(i,Ue,Dn,!1)),Q(i,s),((Qe&2)===0||i!==ot)&&(i===ot&&((Qe&2)===0&&(Dr|=s),pt===4&&Ui(i,Ue,Dn,!1)),Wn(i))}function uy(i,a,s){if((Qe&6)!==0)throw Error(r(327));var c=!s&&(a&124)===0&&(a&i.expiredLanes)===0||Jt(i,a),p=c?mM(i,a):Ef(i,a,!0),b=c;do{if(p===0){ya&&!c&&Ui(i,a,0,!1);break}else{if(s=i.current.alternate,b&&!fM(s)){p=Ef(i,a,!1),b=!1;continue}if(p===2){if(b=a,i.errorRecoveryDisabledLanes&b)var M=0;else M=i.pendingLanes&-536870913,M=M!==0?M:M&536870912?536870912:0;if(M!==0){a=M;e:{var w=i;p=Lo;var V=w.current.memoizedState.isDehydrated;if(V&&(Ta(w,M).flags|=256),M=Ef(w,M,!1),M!==2){if(gf&&!V){w.errorRecoveryDisabledLanes|=b,Dr|=b,p=4;break e}b=rn,rn=p,b!==null&&(rn===null?rn=b:rn.push.apply(rn,b))}p=M}if(b=!1,p!==2)continue}}if(p===1){Ta(i,0),Ui(i,a,0,!0);break}e:{switch(c=i,b=p,b){case 0:case 1:throw Error(r(345));case 4:if((a&4194048)!==a)break;case 6:Ui(c,a,Dn,!Fi);break e;case 2:rn=null;break;case 3:case 5:break;default:throw Error(r(329))}if((a&62914560)===a&&(p=vf+300-mt(),10<p)){if(Ui(c,a,Dn,!Fi),xt(c,0,!0)!==0)break e;c.timeoutHandle=Oy(cy.bind(null,c,s,rn,wl,xf,a,Dn,Dr,xa,Fi,b,2,-0,0),p);break e}cy(c,s,rn,wl,xf,a,Dn,Dr,xa,Fi,b,0,-0,0)}}break}while(!0);Wn(i)}function cy(i,a,s,c,p,b,M,w,V,K,ee,re,X,W){if(i.timeoutHandle=-1,re=a.subtreeFlags,(re&8192||(re&16785408)===16785408)&&(Ho={stylesheets:null,count:0,unsuspend:YM},iy(a),re=KM(),re!==null)){i.cancelPendingCommit=re(yy.bind(null,i,a,b,s,c,p,M,w,V,ee,1,X,W)),Ui(i,b,M,!K);return}yy(i,a,b,s,c,p,M,w,V)}function fM(i){for(var a=i;;){var s=a.tag;if((s===0||s===11||s===15)&&a.flags&16384&&(s=a.updateQueue,s!==null&&(s=s.stores,s!==null)))for(var c=0;c<s.length;c++){var p=s[c],b=p.getSnapshot;p=p.value;try{if(!fn(b(),p))return!1}catch{return!1}}if(s=a.child,a.subtreeFlags&16384&&s!==null)s.return=a,a=s;else{if(a===i)break;for(;a.sibling===null;){if(a.return===null||a.return===i)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function Ui(i,a,s,c){a&=~yf,a&=~Dr,i.suspendedLanes|=a,i.pingedLanes&=~a,c&&(i.warmLanes|=a),c=i.expirationTimes;for(var p=a;0<p;){var b=31-Ee(p),M=1<<b;c[b]=-1,p&=~M}s!==0&&ve(i,s,a)}function Dl(){return(Qe&6)===0?(Po(0),!1):!0}function Cf(){if(Oe!==null){if(Je===0)var i=Oe.return;else i=Oe,di=Sr=null,Fc(i),ma=null,Ao=0,i=Oe;for(;i!==null;)Ug(i.alternate,i),i=i.return;Oe=null}}function Ta(i,a){var s=i.timeoutHandle;s!==-1&&(i.timeoutHandle=-1,IM(s)),s=i.cancelPendingCommit,s!==null&&(i.cancelPendingCommit=null,s()),Cf(),ot=i,Oe=s=ui(i.current,null),Ue=a,Je=0,pn=null,Fi=!1,ya=Jt(i,a),gf=!1,xa=Dn=yf=Dr=zi=pt=0,rn=Lo=null,xf=!1,(a&8)!==0&&(a|=a&32);var c=i.entangledLanes;if(c!==0)for(i=i.entanglements,c&=a;0<c;){var p=31-Ee(c),b=1<<p;a|=i[p],c&=~b}return bi=a,Ws(),s}function fy(i,a){Pe=null,q.H=pl,a===yo||a===al?(a=Dp(),Je=3):a===Ep?(a=Dp(),Je=4):Je=a===Ig?8:a!==null&&typeof a=="object"&&typeof a.then=="function"?6:1,pn=a,Oe===null&&(pt=1,bl(i,Cn(a,i.current)))}function dy(){var i=q.H;return q.H=pl,i===null?pl:i}function my(){var i=q.A;return q.A=uM,i}function Mf(){pt=4,Fi||(Ue&4194048)!==Ue&&wn.current!==null||(ya=!0),(zi&134217727)===0&&(Dr&134217727)===0||ot===null||Ui(ot,Ue,Dn,!1)}function Ef(i,a,s){var c=Qe;Qe|=2;var p=dy(),b=my();(ot!==i||Ue!==a)&&(wl=null,Ta(i,a)),a=!1;var M=pt;e:do try{if(Je!==0&&Oe!==null){var w=Oe,V=pn;switch(Je){case 8:Cf(),M=6;break e;case 3:case 2:case 9:case 6:wn.current===null&&(a=!0);var K=Je;if(Je=0,pn=null,Sa(i,w,V,K),s&&ya){M=0;break e}break;default:K=Je,Je=0,pn=null,Sa(i,w,V,K)}}dM(),M=pt;break}catch(ee){fy(i,ee)}while(!0);return a&&i.shellSuspendCounter++,di=Sr=null,Qe=c,q.H=p,q.A=b,Oe===null&&(ot=null,Ue=0,Ws()),M}function dM(){for(;Oe!==null;)hy(Oe)}function mM(i,a){var s=Qe;Qe|=2;var c=dy(),p=my();ot!==i||Ue!==a?(wl=null,Al=mt()+500,Ta(i,a)):ya=Jt(i,a);e:do try{if(Je!==0&&Oe!==null){a=Oe;var b=pn;t:switch(Je){case 1:Je=0,pn=null,Sa(i,a,b,1);break;case 2:case 9:if(Ap(b)){Je=0,pn=null,py(a);break}a=function(){Je!==2&&Je!==9||ot!==i||(Je=7),Wn(i)},b.then(a,a);break e;case 3:Je=7;break e;case 4:Je=5;break e;case 7:Ap(b)?(Je=0,pn=null,py(a)):(Je=0,pn=null,Sa(i,a,b,7));break;case 5:var M=null;switch(Oe.tag){case 26:M=Oe.memoizedState;case 5:case 27:var w=Oe;if(!M||Wy(M)){Je=0,pn=null;var V=w.sibling;if(V!==null)Oe=V;else{var K=w.return;K!==null?(Oe=K,Il(K)):Oe=null}break t}}Je=0,pn=null,Sa(i,a,b,5);break;case 6:Je=0,pn=null,Sa(i,a,b,6);break;case 8:Cf(),pt=6;break e;default:throw Error(r(462))}}hM();break}catch(ee){fy(i,ee)}while(!0);return di=Sr=null,q.H=c,q.A=p,Qe=s,Oe!==null?0:(ot=null,Ue=0,Ws(),pt)}function hM(){for(;Oe!==null&&!rt();)hy(Oe)}function hy(i){var a=jg(i.alternate,i,bi);i.memoizedProps=i.pendingProps,a===null?Il(i):Oe=a}function py(i){var a=i,s=a.alternate;switch(a.tag){case 15:case 0:a=Vg(s,a,a.pendingProps,a.type,void 0,Ue);break;case 11:a=Vg(s,a,a.pendingProps,a.type.render,a.ref,Ue);break;case 5:Fc(a);default:Ug(s,a),a=Oe=gp(a,bi),a=jg(s,a,bi)}i.memoizedProps=i.pendingProps,a===null?Il(i):Oe=a}function Sa(i,a,s,c){di=Sr=null,Fc(a),ma=null,Ao=0;var p=a.return;try{if(iM(i,p,a,s,Ue)){pt=1,bl(i,Cn(s,i.current)),Oe=null;return}}catch(b){if(p!==null)throw Oe=p,b;pt=1,bl(i,Cn(s,i.current)),Oe=null;return}a.flags&32768?(Xe||c===1?i=!0:ya||(Ue&536870912)!==0?i=!1:(Fi=i=!0,(c===2||c===9||c===3||c===6)&&(c=wn.current,c!==null&&c.tag===13&&(c.flags|=16384))),gy(a,i)):Il(a)}function Il(i){var a=i;do{if((a.flags&32768)!==0){gy(a,Fi);return}i=a.return;var s=aM(a.alternate,a,bi);if(s!==null){Oe=s;return}if(a=a.sibling,a!==null){Oe=a;return}Oe=a=i}while(a!==null);pt===0&&(pt=5)}function gy(i,a){do{var s=oM(i.alternate,i);if(s!==null){s.flags&=32767,Oe=s;return}if(s=i.return,s!==null&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!a&&(i=i.sibling,i!==null)){Oe=i;return}Oe=i=s}while(i!==null);pt=6,Oe=null}function yy(i,a,s,c,p,b,M,w,V){i.cancelPendingCommit=null;do kl();while(Vt!==0);if((Qe&6)!==0)throw Error(r(327));if(a!==null){if(a===i.current)throw Error(r(177));if(b=a.lanes|a.childLanes,b|=hc,ge(i,s,b,M,w,V),i===ot&&(Oe=ot=null,Ue=0),va=a,Hi=i,ba=s,bf=b,Tf=p,sy=c,(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,xM(ri,function(){return Sy(),null})):(i.callbackNode=null,i.callbackPriority=0),c=(a.flags&13878)!==0,(a.subtreeFlags&13878)!==0||c){c=q.T,q.T=null,p=O.p,O.p=2,M=Qe,Qe|=4;try{sM(i,a,s)}finally{Qe=M,O.p=p,q.T=c}}Vt=1,xy(),vy(),by()}}function xy(){if(Vt===1){Vt=0;var i=Hi,a=va,s=(a.flags&13878)!==0;if((a.subtreeFlags&13878)!==0||s){s=q.T,q.T=null;var c=O.p;O.p=2;var p=Qe;Qe|=4;try{ey(a,i);var b=Bf,M=op(i.containerInfo),w=b.focusedElem,V=b.selectionRange;if(M!==w&&w&&w.ownerDocument&&ap(w.ownerDocument.documentElement,w)){if(V!==null&&uc(w)){var K=V.start,ee=V.end;if(ee===void 0&&(ee=K),"selectionStart"in w)w.selectionStart=K,w.selectionEnd=Math.min(ee,w.value.length);else{var re=w.ownerDocument||document,X=re&&re.defaultView||window;if(X.getSelection){var W=X.getSelection(),De=w.textContent.length,Ae=Math.min(V.start,De),tt=V.end===void 0?Ae:Math.min(V.end,De);!W.extend&&Ae>tt&&(M=tt,tt=Ae,Ae=M);var U=rp(w,Ae),F=rp(w,tt);if(U&&F&&(W.rangeCount!==1||W.anchorNode!==U.node||W.anchorOffset!==U.offset||W.focusNode!==F.node||W.focusOffset!==F.offset)){var $=re.createRange();$.setStart(U.node,U.offset),W.removeAllRanges(),Ae>tt?(W.addRange($),W.extend(F.node,F.offset)):($.setEnd(F.node,F.offset),W.addRange($))}}}}for(re=[],W=w;W=W.parentNode;)W.nodeType===1&&re.push({element:W,left:W.scrollLeft,top:W.scrollTop});for(typeof w.focus=="function"&&w.focus(),w=0;w<re.length;w++){var ie=re[w];ie.element.scrollLeft=ie.left,ie.element.scrollTop=ie.top}}Hl=!!Pf,Bf=Pf=null}finally{Qe=p,O.p=c,q.T=s}}i.current=a,Vt=2}}function vy(){if(Vt===2){Vt=0;var i=Hi,a=va,s=(a.flags&8772)!==0;if((a.subtreeFlags&8772)!==0||s){s=q.T,q.T=null;var c=O.p;O.p=2;var p=Qe;Qe|=4;try{Wg(i,a.alternate,a)}finally{Qe=p,O.p=c,q.T=s}}Vt=3}}function by(){if(Vt===4||Vt===3){Vt=0,at();var i=Hi,a=va,s=ba,c=sy;(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?Vt=5:(Vt=0,va=Hi=null,Ty(i,i.pendingLanes));var p=i.pendingLanes;if(p===0&&(ji=null),lt(s),a=a.stateNode,ue&&typeof ue.onCommitFiberRoot=="function")try{ue.onCommitFiberRoot(Z,a,void 0,(a.current.flags&128)===128)}catch{}if(c!==null){a=q.T,p=O.p,O.p=2,q.T=null;try{for(var b=i.onRecoverableError,M=0;M<c.length;M++){var w=c[M];b(w.value,{componentStack:w.stack})}}finally{q.T=a,O.p=p}}(ba&3)!==0&&kl(),Wn(i),p=i.pendingLanes,(s&4194090)!==0&&(p&42)!==0?i===Sf?Vo++:(Vo=0,Sf=i):Vo=0,Po(0)}}function Ty(i,a){(i.pooledCacheLanes&=a)===0&&(a=i.pooledCache,a!=null&&(i.pooledCache=null,po(a)))}function kl(i){return xy(),vy(),by(),Sy()}function Sy(){if(Vt!==5)return!1;var i=Hi,a=bf;bf=0;var s=lt(ba),c=q.T,p=O.p;try{O.p=32>s?32:s,q.T=null,s=Tf,Tf=null;var b=Hi,M=ba;if(Vt=0,va=Hi=null,ba=0,(Qe&6)!==0)throw Error(r(331));var w=Qe;if(Qe|=4,ay(b.current),ny(b,b.current,M,s),Qe=w,Po(0,!1),ue&&typeof ue.onPostCommitFiberRoot=="function")try{ue.onPostCommitFiberRoot(Z,b)}catch{}return!0}finally{O.p=p,q.T=c,Ty(i,a)}}function Cy(i,a,s){a=Cn(s,a),a=Zc(i.stateNode,a,2),i=Ni(i,a,2),i!==null&&(Q(i,2),Wn(i))}function nt(i,a,s){if(i.tag===3)Cy(i,i,s);else for(;a!==null;){if(a.tag===3){Cy(a,i,s);break}else if(a.tag===1){var c=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(ji===null||!ji.has(c))){i=Cn(s,i),s=wg(2),c=Ni(a,s,2),c!==null&&(Dg(s,c,a,i),Q(c,2),Wn(c));break}}a=a.return}}function Af(i,a,s){var c=i.pingCache;if(c===null){c=i.pingCache=new cM;var p=new Set;c.set(a,p)}else p=c.get(a),p===void 0&&(p=new Set,c.set(a,p));p.has(s)||(gf=!0,p.add(s),i=pM.bind(null,i,a,s),a.then(i,i))}function pM(i,a,s){var c=i.pingCache;c!==null&&c.delete(a),i.pingedLanes|=i.suspendedLanes&s,i.warmLanes&=~s,ot===i&&(Ue&s)===s&&(pt===4||pt===3&&(Ue&62914560)===Ue&&300>mt()-vf?(Qe&2)===0&&Ta(i,0):yf|=s,xa===Ue&&(xa=0)),Wn(i)}function My(i,a){a===0&&(a=Wa()),i=ia(i,a),i!==null&&(Q(i,a),Wn(i))}function gM(i){var a=i.memoizedState,s=0;a!==null&&(s=a.retryLane),My(i,s)}function yM(i,a){var s=0;switch(i.tag){case 13:var c=i.stateNode,p=i.memoizedState;p!==null&&(s=p.retryLane);break;case 19:c=i.stateNode;break;case 22:c=i.stateNode._retryCache;break;default:throw Error(r(314))}c!==null&&c.delete(a),My(i,s)}function xM(i,a){return Ve(i,a)}var Rl=null,Ca=null,wf=!1,Nl=!1,Df=!1,Ir=0;function Wn(i){i!==Ca&&i.next===null&&(Ca===null?Rl=Ca=i:Ca=Ca.next=i),Nl=!0,wf||(wf=!0,bM())}function Po(i,a){if(!Df&&Nl){Df=!0;do for(var s=!1,c=Rl;c!==null;){if(i!==0){var p=c.pendingLanes;if(p===0)var b=0;else{var M=c.suspendedLanes,w=c.pingedLanes;b=(1<<31-Ee(42|i)+1)-1,b&=p&~(M&~w),b=b&201326741?b&201326741|1:b?b|2:0}b!==0&&(s=!0,Dy(c,b))}else b=Ue,b=xt(c,c===ot?b:0,c.cancelPendingCommit!==null||c.timeoutHandle!==-1),(b&3)===0||Jt(c,b)||(s=!0,Dy(c,b));c=c.next}while(s);Df=!1}}function vM(){Ey()}function Ey(){Nl=wf=!1;var i=0;Ir!==0&&(DM()&&(i=Ir),Ir=0);for(var a=mt(),s=null,c=Rl;c!==null;){var p=c.next,b=Ay(c,a);b===0?(c.next=null,s===null?Rl=p:s.next=p,p===null&&(Ca=s)):(s=c,(i!==0||(b&3)!==0)&&(Nl=!0)),c=p}Po(i)}function Ay(i,a){for(var s=i.suspendedLanes,c=i.pingedLanes,p=i.expirationTimes,b=i.pendingLanes&-62914561;0<b;){var M=31-Ee(b),w=1<<M,V=p[M];V===-1?((w&s)===0||(w&c)!==0)&&(p[M]=un(w,a)):V<=a&&(i.expiredLanes|=w),b&=~w}if(a=ot,s=Ue,s=xt(i,i===a?s:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),c=i.callbackNode,s===0||i===a&&(Je===2||Je===9)||i.cancelPendingCommit!==null)return c!==null&&c!==null&&Ne(c),i.callbackNode=null,i.callbackPriority=0;if((s&3)===0||Jt(i,s)){if(a=s&-s,a===i.callbackPriority)return a;switch(c!==null&&Ne(c),lt(s)){case 2:case 8:s=ii;break;case 32:s=ri;break;case 268435456:s=Gr;break;default:s=ri}return c=wy.bind(null,i),s=Ve(s,c),i.callbackPriority=a,i.callbackNode=s,a}return c!==null&&c!==null&&Ne(c),i.callbackPriority=2,i.callbackNode=null,2}function wy(i,a){if(Vt!==0&&Vt!==5)return i.callbackNode=null,i.callbackPriority=0,null;var s=i.callbackNode;if(kl()&&i.callbackNode!==s)return null;var c=Ue;return c=xt(i,i===ot?c:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),c===0?null:(uy(i,c,a),Ay(i,mt()),i.callbackNode!=null&&i.callbackNode===s?wy.bind(null,i):null)}function Dy(i,a){if(kl())return null;uy(i,a,!0)}function bM(){kM(function(){(Qe&6)!==0?Ve(wt,vM):Ey()})}function If(){return Ir===0&&(Ir=cn()),Ir}function Iy(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:Us(""+i)}function ky(i,a){var s=a.ownerDocument.createElement("input");return s.name=a.name,s.value=a.value,i.id&&s.setAttribute("form",i.id),a.parentNode.insertBefore(s,a),i=new FormData(i),s.parentNode.removeChild(s),i}function TM(i,a,s,c,p){if(a==="submit"&&s&&s.stateNode===p){var b=Iy((p[jt]||null).action),M=c.submitter;M&&(a=(a=M[jt]||null)?Iy(a.formAction):M.getAttribute("formAction"),a!==null&&(b=a,M=null));var w=new $s("action","action",null,c,p);i.push({event:w,listeners:[{instance:null,listener:function(){if(c.defaultPrevented){if(Ir!==0){var V=M?ky(p,M):new FormData(p);Kc(s,{pending:!0,data:V,method:p.method,action:b},null,V)}}else typeof b=="function"&&(w.preventDefault(),V=M?ky(p,M):new FormData(p),Kc(s,{pending:!0,data:V,method:p.method,action:b},b,V))},currentTarget:p}]})}}for(var kf=0;kf<mc.length;kf++){var Rf=mc[kf],SM=Rf.toLowerCase(),CM=Rf[0].toUpperCase()+Rf.slice(1);On(SM,"on"+CM)}On(up,"onAnimationEnd"),On(cp,"onAnimationIteration"),On(fp,"onAnimationStart"),On("dblclick","onDoubleClick"),On("focusin","onFocus"),On("focusout","onBlur"),On(zC,"onTransitionRun"),On(jC,"onTransitionStart"),On(HC,"onTransitionCancel"),On(dp,"onTransitionEnd"),wi("onMouseEnter",["mouseout","mouseover"]),wi("onMouseLeave",["mouseout","mouseover"]),wi("onPointerEnter",["pointerout","pointerover"]),wi("onPointerLeave",["pointerout","pointerover"]),Bn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Bn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Bn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Bn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Bn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Bn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Bo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),MM=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Bo));function Ry(i,a){a=(a&4)!==0;for(var s=0;s<i.length;s++){var c=i[s],p=c.event;c=c.listeners;e:{var b=void 0;if(a)for(var M=c.length-1;0<=M;M--){var w=c[M],V=w.instance,K=w.currentTarget;if(w=w.listener,V!==b&&p.isPropagationStopped())break e;b=w,p.currentTarget=K;try{b(p)}catch(ee){vl(ee)}p.currentTarget=null,b=V}else for(M=0;M<c.length;M++){if(w=c[M],V=w.instance,K=w.currentTarget,w=w.listener,V!==b&&p.isPropagationStopped())break e;b=w,p.currentTarget=K;try{b(p)}catch(ee){vl(ee)}p.currentTarget=null,b=V}}}}function Fe(i,a){var s=a[Qa];s===void 0&&(s=a[Qa]=new Set);var c=i+"__bubble";s.has(c)||(Ny(a,i,2,!1),s.add(c))}function Nf(i,a,s){var c=0;a&&(c|=4),Ny(s,i,c,a)}var _l="_reactListening"+Math.random().toString(36).slice(2);function _f(i){if(!i[_l]){i[_l]=!0,Zt.forEach(function(s){s!=="selectionchange"&&(MM.has(s)||Nf(s,!1,i),Nf(s,!0,i))});var a=i.nodeType===9?i:i.ownerDocument;a===null||a[_l]||(a[_l]=!0,Nf("selectionchange",!1,a))}}function Ny(i,a,s,c){switch(n0(a)){case 2:var p=QM;break;case 8:p=JM;break;default:p=$f}s=p.bind(null,a,s,i),p=void 0,!ec||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(p=!0),c?p!==void 0?i.addEventListener(a,s,{capture:!0,passive:p}):i.addEventListener(a,s,!0):p!==void 0?i.addEventListener(a,s,{passive:p}):i.addEventListener(a,s,!1)}function Lf(i,a,s,c,p){var b=c;if((a&1)===0&&(a&2)===0&&c!==null)e:for(;;){if(c===null)return;var M=c.tag;if(M===3||M===4){var w=c.stateNode.containerInfo;if(w===p)break;if(M===4)for(M=c.return;M!==null;){var V=M.tag;if((V===3||V===4)&&M.stateNode.containerInfo===p)return;M=M.return}for(;w!==null;){if(M=Ai(w),M===null)return;if(V=M.tag,V===5||V===6||V===26||V===27){c=b=M;continue e}w=w.parentNode}}c=c.return}Fh(function(){var K=b,ee=Ju(s),re=[];e:{var X=mp.get(i);if(X!==void 0){var W=$s,De=i;switch(i){case"keypress":if(qs(s)===0)break e;case"keydown":case"keyup":W=xC;break;case"focusin":De="focus",W=rc;break;case"focusout":De="blur",W=rc;break;case"beforeblur":case"afterblur":W=rc;break;case"click":if(s.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":W=Hh;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":W=oC;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":W=TC;break;case up:case cp:case fp:W=uC;break;case dp:W=CC;break;case"scroll":case"scrollend":W=rC;break;case"wheel":W=EC;break;case"copy":case"cut":case"paste":W=fC;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":W=Gh;break;case"toggle":case"beforetoggle":W=wC}var Ae=(a&4)!==0,tt=!Ae&&(i==="scroll"||i==="scrollend"),U=Ae?X!==null?X+"Capture":null:X;Ae=[];for(var F=K,$;F!==null;){var ie=F;if($=ie.stateNode,ie=ie.tag,ie!==5&&ie!==26&&ie!==27||$===null||U===null||(ie=to(F,U),ie!=null&&Ae.push(Oo(F,ie,$))),tt)break;F=F.return}0<Ae.length&&(X=new W(X,De,null,s,ee),re.push({event:X,listeners:Ae}))}}if((a&7)===0){e:{if(X=i==="mouseover"||i==="pointerover",W=i==="mouseout"||i==="pointerout",X&&s!==Qu&&(De=s.relatedTarget||s.fromElement)&&(Ai(De)||De[Ei]))break e;if((W||X)&&(X=ee.window===ee?ee:(X=ee.ownerDocument)?X.defaultView||X.parentWindow:window,W?(De=s.relatedTarget||s.toElement,W=K,De=De?Ai(De):null,De!==null&&(tt=l(De),Ae=De.tag,De!==tt||Ae!==5&&Ae!==27&&Ae!==6)&&(De=null)):(W=null,De=K),W!==De)){if(Ae=Hh,ie="onMouseLeave",U="onMouseEnter",F="mouse",(i==="pointerout"||i==="pointerover")&&(Ae=Gh,ie="onPointerLeave",U="onPointerEnter",F="pointer"),tt=W==null?X:fr(W),$=De==null?X:fr(De),X=new Ae(ie,F+"leave",W,s,ee),X.target=tt,X.relatedTarget=$,ie=null,Ai(ee)===K&&(Ae=new Ae(U,F+"enter",De,s,ee),Ae.target=$,Ae.relatedTarget=tt,ie=Ae),tt=ie,W&&De)t:{for(Ae=W,U=De,F=0,$=Ae;$;$=Ma($))F++;for($=0,ie=U;ie;ie=Ma(ie))$++;for(;0<F-$;)Ae=Ma(Ae),F--;for(;0<$-F;)U=Ma(U),$--;for(;F--;){if(Ae===U||U!==null&&Ae===U.alternate)break t;Ae=Ma(Ae),U=Ma(U)}Ae=null}else Ae=null;W!==null&&_y(re,X,W,Ae,!1),De!==null&&tt!==null&&_y(re,tt,De,Ae,!0)}}e:{if(X=K?fr(K):window,W=X.nodeName&&X.nodeName.toLowerCase(),W==="select"||W==="input"&&X.type==="file")var xe=Jh;else if(Wh(X))if(Zh)xe=BC;else{xe=VC;var Be=LC}else W=X.nodeName,!W||W.toLowerCase()!=="input"||X.type!=="checkbox"&&X.type!=="radio"?K&&Wu(K.elementType)&&(xe=Jh):xe=PC;if(xe&&(xe=xe(i,K))){Qh(re,xe,s,ee);break e}Be&&Be(i,X,K),i==="focusout"&&K&&X.type==="number"&&K.memoizedProps.value!=null&&Xu(X,"number",X.value)}switch(Be=K?fr(K):window,i){case"focusin":(Wh(Be)||Be.contentEditable==="true")&&(ea=Be,cc=K,uo=null);break;case"focusout":uo=cc=ea=null;break;case"mousedown":fc=!0;break;case"contextmenu":case"mouseup":case"dragend":fc=!1,sp(re,s,ee);break;case"selectionchange":if(FC)break;case"keydown":case"keyup":sp(re,s,ee)}var be;if(oc)e:{switch(i){case"compositionstart":var we="onCompositionStart";break e;case"compositionend":we="onCompositionEnd";break e;case"compositionupdate":we="onCompositionUpdate";break e}we=void 0}else Zr?Kh(i,s)&&(we="onCompositionEnd"):i==="keydown"&&s.keyCode===229&&(we="onCompositionStart");we&&(qh&&s.locale!=="ko"&&(Zr||we!=="onCompositionStart"?we==="onCompositionEnd"&&Zr&&(be=zh()):(Di=ee,tc="value"in Di?Di.value:Di.textContent,Zr=!0)),Be=Ll(K,we),0<Be.length&&(we=new Uh(we,i,null,s,ee),re.push({event:we,listeners:Be}),be?we.data=be:(be=Xh(s),be!==null&&(we.data=be)))),(be=IC?kC(i,s):RC(i,s))&&(we=Ll(K,"onBeforeInput"),0<we.length&&(Be=new Uh("onBeforeInput","beforeinput",null,s,ee),re.push({event:Be,listeners:we}),Be.data=be)),TM(re,i,K,s,ee)}Ry(re,a)})}function Oo(i,a,s){return{instance:i,listener:a,currentTarget:s}}function Ll(i,a){for(var s=a+"Capture",c=[];i!==null;){var p=i,b=p.stateNode;if(p=p.tag,p!==5&&p!==26&&p!==27||b===null||(p=to(i,s),p!=null&&c.unshift(Oo(i,p,b)),p=to(i,a),p!=null&&c.push(Oo(i,p,b))),i.tag===3)return c;i=i.return}return[]}function Ma(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function _y(i,a,s,c,p){for(var b=a._reactName,M=[];s!==null&&s!==c;){var w=s,V=w.alternate,K=w.stateNode;if(w=w.tag,V!==null&&V===c)break;w!==5&&w!==26&&w!==27||K===null||(V=K,p?(K=to(s,b),K!=null&&M.unshift(Oo(s,K,V))):p||(K=to(s,b),K!=null&&M.push(Oo(s,K,V)))),s=s.return}M.length!==0&&i.push({event:a,listeners:M})}var EM=/\r\n?/g,AM=/\u0000|\uFFFD/g;function Ly(i){return(typeof i=="string"?i:""+i).replace(EM,`
`).replace(AM,"")}function Vy(i,a){return a=Ly(a),Ly(i)===a}function Vl(){}function et(i,a,s,c,p,b){switch(s){case"children":typeof c=="string"?a==="body"||a==="textarea"&&c===""||Wr(i,c):(typeof c=="number"||typeof c=="bigint")&&a!=="body"&&Wr(i,""+c);break;case"className":zs(i,"class",c);break;case"tabIndex":zs(i,"tabindex",c);break;case"dir":case"role":case"viewBox":case"width":case"height":zs(i,s,c);break;case"style":Bh(i,c,b);break;case"data":if(a!=="object"){zs(i,"data",c);break}case"src":case"href":if(c===""&&(a!=="a"||s!=="href")){i.removeAttribute(s);break}if(c==null||typeof c=="function"||typeof c=="symbol"||typeof c=="boolean"){i.removeAttribute(s);break}c=Us(""+c),i.setAttribute(s,c);break;case"action":case"formAction":if(typeof c=="function"){i.setAttribute(s,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof b=="function"&&(s==="formAction"?(a!=="input"&&et(i,a,"name",p.name,p,null),et(i,a,"formEncType",p.formEncType,p,null),et(i,a,"formMethod",p.formMethod,p,null),et(i,a,"formTarget",p.formTarget,p,null)):(et(i,a,"encType",p.encType,p,null),et(i,a,"method",p.method,p,null),et(i,a,"target",p.target,p,null)));if(c==null||typeof c=="symbol"||typeof c=="boolean"){i.removeAttribute(s);break}c=Us(""+c),i.setAttribute(s,c);break;case"onClick":c!=null&&(i.onclick=Vl);break;case"onScroll":c!=null&&Fe("scroll",i);break;case"onScrollEnd":c!=null&&Fe("scrollend",i);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(r(61));if(s=c.__html,s!=null){if(p.children!=null)throw Error(r(60));i.innerHTML=s}}break;case"multiple":i.multiple=c&&typeof c!="function"&&typeof c!="symbol";break;case"muted":i.muted=c&&typeof c!="function"&&typeof c!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(c==null||typeof c=="function"||typeof c=="boolean"||typeof c=="symbol"){i.removeAttribute("xlink:href");break}s=Us(""+c),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":c!=null&&typeof c!="function"&&typeof c!="symbol"?i.setAttribute(s,""+c):i.removeAttribute(s);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":c&&typeof c!="function"&&typeof c!="symbol"?i.setAttribute(s,""):i.removeAttribute(s);break;case"capture":case"download":c===!0?i.setAttribute(s,""):c!==!1&&c!=null&&typeof c!="function"&&typeof c!="symbol"?i.setAttribute(s,c):i.removeAttribute(s);break;case"cols":case"rows":case"size":case"span":c!=null&&typeof c!="function"&&typeof c!="symbol"&&!isNaN(c)&&1<=c?i.setAttribute(s,c):i.removeAttribute(s);break;case"rowSpan":case"start":c==null||typeof c=="function"||typeof c=="symbol"||isNaN(c)?i.removeAttribute(s):i.setAttribute(s,c);break;case"popover":Fe("beforetoggle",i),Fe("toggle",i),Fs(i,"popover",c);break;case"xlinkActuate":si(i,"http://www.w3.org/1999/xlink","xlink:actuate",c);break;case"xlinkArcrole":si(i,"http://www.w3.org/1999/xlink","xlink:arcrole",c);break;case"xlinkRole":si(i,"http://www.w3.org/1999/xlink","xlink:role",c);break;case"xlinkShow":si(i,"http://www.w3.org/1999/xlink","xlink:show",c);break;case"xlinkTitle":si(i,"http://www.w3.org/1999/xlink","xlink:title",c);break;case"xlinkType":si(i,"http://www.w3.org/1999/xlink","xlink:type",c);break;case"xmlBase":si(i,"http://www.w3.org/XML/1998/namespace","xml:base",c);break;case"xmlLang":si(i,"http://www.w3.org/XML/1998/namespace","xml:lang",c);break;case"xmlSpace":si(i,"http://www.w3.org/XML/1998/namespace","xml:space",c);break;case"is":Fs(i,"is",c);break;case"innerText":case"textContent":break;default:(!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(s=nC.get(s)||s,Fs(i,s,c))}}function Vf(i,a,s,c,p,b){switch(s){case"style":Bh(i,c,b);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(r(61));if(s=c.__html,s!=null){if(p.children!=null)throw Error(r(60));i.innerHTML=s}}break;case"children":typeof c=="string"?Wr(i,c):(typeof c=="number"||typeof c=="bigint")&&Wr(i,""+c);break;case"onScroll":c!=null&&Fe("scroll",i);break;case"onScrollEnd":c!=null&&Fe("scrollend",i);break;case"onClick":c!=null&&(i.onclick=Vl);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!oi.hasOwnProperty(s))e:{if(s[0]==="o"&&s[1]==="n"&&(p=s.endsWith("Capture"),a=s.slice(2,p?s.length-7:void 0),b=i[jt]||null,b=b!=null?b[s]:null,typeof b=="function"&&i.removeEventListener(a,b,p),typeof c=="function")){typeof b!="function"&&b!==null&&(s in i?i[s]=null:i.hasAttribute(s)&&i.removeAttribute(s)),i.addEventListener(a,c,p);break e}s in i?i[s]=c:c===!0?i.setAttribute(s,""):Fs(i,s,c)}}}function Pt(i,a,s){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Fe("error",i),Fe("load",i);var c=!1,p=!1,b;for(b in s)if(s.hasOwnProperty(b)){var M=s[b];if(M!=null)switch(b){case"src":c=!0;break;case"srcSet":p=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,a));default:et(i,a,b,M,s,null)}}p&&et(i,a,"srcSet",s.srcSet,s,null),c&&et(i,a,"src",s.src,s,null);return;case"input":Fe("invalid",i);var w=b=M=p=null,V=null,K=null;for(c in s)if(s.hasOwnProperty(c)){var ee=s[c];if(ee!=null)switch(c){case"name":p=ee;break;case"type":M=ee;break;case"checked":V=ee;break;case"defaultChecked":K=ee;break;case"value":b=ee;break;case"defaultValue":w=ee;break;case"children":case"dangerouslySetInnerHTML":if(ee!=null)throw Error(r(137,a));break;default:et(i,a,c,ee,s,null)}}_h(i,b,w,V,K,M,p,!1),js(i);return;case"select":Fe("invalid",i),c=M=b=null;for(p in s)if(s.hasOwnProperty(p)&&(w=s[p],w!=null))switch(p){case"value":b=w;break;case"defaultValue":M=w;break;case"multiple":c=w;default:et(i,a,p,w,s,null)}a=b,s=M,i.multiple=!!c,a!=null?Xr(i,!!c,a,!1):s!=null&&Xr(i,!!c,s,!0);return;case"textarea":Fe("invalid",i),b=p=c=null;for(M in s)if(s.hasOwnProperty(M)&&(w=s[M],w!=null))switch(M){case"value":c=w;break;case"defaultValue":p=w;break;case"children":b=w;break;case"dangerouslySetInnerHTML":if(w!=null)throw Error(r(91));break;default:et(i,a,M,w,s,null)}Vh(i,c,p,b),js(i);return;case"option":for(V in s)if(s.hasOwnProperty(V)&&(c=s[V],c!=null))switch(V){case"selected":i.selected=c&&typeof c!="function"&&typeof c!="symbol";break;default:et(i,a,V,c,s,null)}return;case"dialog":Fe("beforetoggle",i),Fe("toggle",i),Fe("cancel",i),Fe("close",i);break;case"iframe":case"object":Fe("load",i);break;case"video":case"audio":for(c=0;c<Bo.length;c++)Fe(Bo[c],i);break;case"image":Fe("error",i),Fe("load",i);break;case"details":Fe("toggle",i);break;case"embed":case"source":case"link":Fe("error",i),Fe("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(K in s)if(s.hasOwnProperty(K)&&(c=s[K],c!=null))switch(K){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,a));default:et(i,a,K,c,s,null)}return;default:if(Wu(a)){for(ee in s)s.hasOwnProperty(ee)&&(c=s[ee],c!==void 0&&Vf(i,a,ee,c,s,void 0));return}}for(w in s)s.hasOwnProperty(w)&&(c=s[w],c!=null&&et(i,a,w,c,s,null))}function wM(i,a,s,c){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var p=null,b=null,M=null,w=null,V=null,K=null,ee=null;for(W in s){var re=s[W];if(s.hasOwnProperty(W)&&re!=null)switch(W){case"checked":break;case"value":break;case"defaultValue":V=re;default:c.hasOwnProperty(W)||et(i,a,W,null,c,re)}}for(var X in c){var W=c[X];if(re=s[X],c.hasOwnProperty(X)&&(W!=null||re!=null))switch(X){case"type":b=W;break;case"name":p=W;break;case"checked":K=W;break;case"defaultChecked":ee=W;break;case"value":M=W;break;case"defaultValue":w=W;break;case"children":case"dangerouslySetInnerHTML":if(W!=null)throw Error(r(137,a));break;default:W!==re&&et(i,a,X,W,c,re)}}Ku(i,M,w,V,K,ee,b,p);return;case"select":W=M=w=X=null;for(b in s)if(V=s[b],s.hasOwnProperty(b)&&V!=null)switch(b){case"value":break;case"multiple":W=V;default:c.hasOwnProperty(b)||et(i,a,b,null,c,V)}for(p in c)if(b=c[p],V=s[p],c.hasOwnProperty(p)&&(b!=null||V!=null))switch(p){case"value":X=b;break;case"defaultValue":w=b;break;case"multiple":M=b;default:b!==V&&et(i,a,p,b,c,V)}a=w,s=M,c=W,X!=null?Xr(i,!!s,X,!1):!!c!=!!s&&(a!=null?Xr(i,!!s,a,!0):Xr(i,!!s,s?[]:"",!1));return;case"textarea":W=X=null;for(w in s)if(p=s[w],s.hasOwnProperty(w)&&p!=null&&!c.hasOwnProperty(w))switch(w){case"value":break;case"children":break;default:et(i,a,w,null,c,p)}for(M in c)if(p=c[M],b=s[M],c.hasOwnProperty(M)&&(p!=null||b!=null))switch(M){case"value":X=p;break;case"defaultValue":W=p;break;case"children":break;case"dangerouslySetInnerHTML":if(p!=null)throw Error(r(91));break;default:p!==b&&et(i,a,M,p,c,b)}Lh(i,X,W);return;case"option":for(var De in s)if(X=s[De],s.hasOwnProperty(De)&&X!=null&&!c.hasOwnProperty(De))switch(De){case"selected":i.selected=!1;break;default:et(i,a,De,null,c,X)}for(V in c)if(X=c[V],W=s[V],c.hasOwnProperty(V)&&X!==W&&(X!=null||W!=null))switch(V){case"selected":i.selected=X&&typeof X!="function"&&typeof X!="symbol";break;default:et(i,a,V,X,c,W)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ae in s)X=s[Ae],s.hasOwnProperty(Ae)&&X!=null&&!c.hasOwnProperty(Ae)&&et(i,a,Ae,null,c,X);for(K in c)if(X=c[K],W=s[K],c.hasOwnProperty(K)&&X!==W&&(X!=null||W!=null))switch(K){case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(r(137,a));break;default:et(i,a,K,X,c,W)}return;default:if(Wu(a)){for(var tt in s)X=s[tt],s.hasOwnProperty(tt)&&X!==void 0&&!c.hasOwnProperty(tt)&&Vf(i,a,tt,void 0,c,X);for(ee in c)X=c[ee],W=s[ee],!c.hasOwnProperty(ee)||X===W||X===void 0&&W===void 0||Vf(i,a,ee,X,c,W);return}}for(var U in s)X=s[U],s.hasOwnProperty(U)&&X!=null&&!c.hasOwnProperty(U)&&et(i,a,U,null,c,X);for(re in c)X=c[re],W=s[re],!c.hasOwnProperty(re)||X===W||X==null&&W==null||et(i,a,re,X,c,W)}var Pf=null,Bf=null;function Pl(i){return i.nodeType===9?i:i.ownerDocument}function Py(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function By(i,a){if(i===0)switch(a){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&a==="foreignObject"?0:i}function Of(i,a){return i==="textarea"||i==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.children=="bigint"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var Ff=null;function DM(){var i=window.event;return i&&i.type==="popstate"?i===Ff?!1:(Ff=i,!0):(Ff=null,!1)}var Oy=typeof setTimeout=="function"?setTimeout:void 0,IM=typeof clearTimeout=="function"?clearTimeout:void 0,Fy=typeof Promise=="function"?Promise:void 0,kM=typeof queueMicrotask=="function"?queueMicrotask:typeof Fy<"u"?function(i){return Fy.resolve(null).then(i).catch(RM)}:Oy;function RM(i){setTimeout(function(){throw i})}function Gi(i){return i==="head"}function zy(i,a){var s=a,c=0,p=0;do{var b=s.nextSibling;if(i.removeChild(s),b&&b.nodeType===8)if(s=b.data,s==="/$"){if(0<c&&8>c){s=c;var M=i.ownerDocument;if(s&1&&Fo(M.documentElement),s&2&&Fo(M.body),s&4)for(s=M.head,Fo(s),M=s.firstChild;M;){var w=M.nextSibling,V=M.nodeName;M[cr]||V==="SCRIPT"||V==="STYLE"||V==="LINK"&&M.rel.toLowerCase()==="stylesheet"||s.removeChild(M),M=w}}if(p===0){i.removeChild(b),$o(a);return}p--}else s==="$"||s==="$?"||s==="$!"?p++:c=s.charCodeAt(0)-48;else c=0;s=b}while(s);$o(a)}function zf(i){var a=i.firstChild;for(a&&a.nodeType===10&&(a=a.nextSibling);a;){var s=a;switch(a=a.nextSibling,s.nodeName){case"HTML":case"HEAD":case"BODY":zf(s),Ja(s);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(s.rel.toLowerCase()==="stylesheet")continue}i.removeChild(s)}}function NM(i,a,s,c){for(;i.nodeType===1;){var p=s;if(i.nodeName.toLowerCase()!==a.toLowerCase()){if(!c&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(c){if(!i[cr])switch(a){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(b=i.getAttribute("rel"),b==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(b!==p.rel||i.getAttribute("href")!==(p.href==null||p.href===""?null:p.href)||i.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin)||i.getAttribute("title")!==(p.title==null?null:p.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(b=i.getAttribute("src"),(b!==(p.src==null?null:p.src)||i.getAttribute("type")!==(p.type==null?null:p.type)||i.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin))&&b&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(a==="input"&&i.type==="hidden"){var b=p.name==null?null:""+p.name;if(p.type==="hidden"&&i.getAttribute("name")===b)return i}else return i;if(i=zn(i.nextSibling),i===null)break}return null}function _M(i,a,s){if(a==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!s||(i=zn(i.nextSibling),i===null))return null;return i}function jf(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState==="complete"}function LM(i,a){var s=i.ownerDocument;if(i.data!=="$?"||s.readyState==="complete")a();else{var c=function(){a(),s.removeEventListener("DOMContentLoaded",c)};s.addEventListener("DOMContentLoaded",c),i._reactRetry=c}}function zn(i){for(;i!=null;i=i.nextSibling){var a=i.nodeType;if(a===1||a===3)break;if(a===8){if(a=i.data,a==="$"||a==="$!"||a==="$?"||a==="F!"||a==="F")break;if(a==="/$")return null}}return i}var Hf=null;function jy(i){i=i.previousSibling;for(var a=0;i;){if(i.nodeType===8){var s=i.data;if(s==="$"||s==="$!"||s==="$?"){if(a===0)return i;a--}else s==="/$"&&a++}i=i.previousSibling}return null}function Hy(i,a,s){switch(a=Pl(s),i){case"html":if(i=a.documentElement,!i)throw Error(r(452));return i;case"head":if(i=a.head,!i)throw Error(r(453));return i;case"body":if(i=a.body,!i)throw Error(r(454));return i;default:throw Error(r(451))}}function Fo(i){for(var a=i.attributes;a.length;)i.removeAttributeNode(a[0]);Ja(i)}var In=new Map,Uy=new Set;function Bl(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var Ti=O.d;O.d={f:VM,r:PM,D:BM,C:OM,L:FM,m:zM,X:HM,S:jM,M:UM};function VM(){var i=Ti.f(),a=Dl();return i||a}function PM(i){var a=ai(i);a!==null&&a.tag===5&&a.type==="form"?ug(a):Ti.r(i)}var Ea=typeof document>"u"?null:document;function Gy(i,a,s){var c=Ea;if(c&&typeof a=="string"&&a){var p=Sn(a);p='link[rel="'+i+'"][href="'+p+'"]',typeof s=="string"&&(p+='[crossorigin="'+s+'"]'),Uy.has(p)||(Uy.add(p),i={rel:i,crossOrigin:s,href:a},c.querySelector(p)===null&&(a=c.createElement("link"),Pt(a,"link",i),St(a),c.head.appendChild(a)))}}function BM(i){Ti.D(i),Gy("dns-prefetch",i,null)}function OM(i,a){Ti.C(i,a),Gy("preconnect",i,a)}function FM(i,a,s){Ti.L(i,a,s);var c=Ea;if(c&&i&&a){var p='link[rel="preload"][as="'+Sn(a)+'"]';a==="image"&&s&&s.imageSrcSet?(p+='[imagesrcset="'+Sn(s.imageSrcSet)+'"]',typeof s.imageSizes=="string"&&(p+='[imagesizes="'+Sn(s.imageSizes)+'"]')):p+='[href="'+Sn(i)+'"]';var b=p;switch(a){case"style":b=Aa(i);break;case"script":b=wa(i)}In.has(b)||(i=h({rel:"preload",href:a==="image"&&s&&s.imageSrcSet?void 0:i,as:a},s),In.set(b,i),c.querySelector(p)!==null||a==="style"&&c.querySelector(zo(b))||a==="script"&&c.querySelector(jo(b))||(a=c.createElement("link"),Pt(a,"link",i),St(a),c.head.appendChild(a)))}}function zM(i,a){Ti.m(i,a);var s=Ea;if(s&&i){var c=a&&typeof a.as=="string"?a.as:"script",p='link[rel="modulepreload"][as="'+Sn(c)+'"][href="'+Sn(i)+'"]',b=p;switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":b=wa(i)}if(!In.has(b)&&(i=h({rel:"modulepreload",href:i},a),In.set(b,i),s.querySelector(p)===null)){switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(s.querySelector(jo(b)))return}c=s.createElement("link"),Pt(c,"link",i),St(c),s.head.appendChild(c)}}}function jM(i,a,s){Ti.S(i,a,s);var c=Ea;if(c&&i){var p=dr(c).hoistableStyles,b=Aa(i);a=a||"default";var M=p.get(b);if(!M){var w={loading:0,preload:null};if(M=c.querySelector(zo(b)))w.loading=5;else{i=h({rel:"stylesheet",href:i,"data-precedence":a},s),(s=In.get(b))&&Uf(i,s);var V=M=c.createElement("link");St(V),Pt(V,"link",i),V._p=new Promise(function(K,ee){V.onload=K,V.onerror=ee}),V.addEventListener("load",function(){w.loading|=1}),V.addEventListener("error",function(){w.loading|=2}),w.loading|=4,Ol(M,a,c)}M={type:"stylesheet",instance:M,count:1,state:w},p.set(b,M)}}}function HM(i,a){Ti.X(i,a);var s=Ea;if(s&&i){var c=dr(s).hoistableScripts,p=wa(i),b=c.get(p);b||(b=s.querySelector(jo(p)),b||(i=h({src:i,async:!0},a),(a=In.get(p))&&Gf(i,a),b=s.createElement("script"),St(b),Pt(b,"link",i),s.head.appendChild(b)),b={type:"script",instance:b,count:1,state:null},c.set(p,b))}}function UM(i,a){Ti.M(i,a);var s=Ea;if(s&&i){var c=dr(s).hoistableScripts,p=wa(i),b=c.get(p);b||(b=s.querySelector(jo(p)),b||(i=h({src:i,async:!0,type:"module"},a),(a=In.get(p))&&Gf(i,a),b=s.createElement("script"),St(b),Pt(b,"link",i),s.head.appendChild(b)),b={type:"script",instance:b,count:1,state:null},c.set(p,b))}}function qy(i,a,s,c){var p=(p=ne.current)?Bl(p):null;if(!p)throw Error(r(446));switch(i){case"meta":case"title":return null;case"style":return typeof s.precedence=="string"&&typeof s.href=="string"?(a=Aa(s.href),s=dr(p).hoistableStyles,c=s.get(a),c||(c={type:"style",instance:null,count:0,state:null},s.set(a,c)),c):{type:"void",instance:null,count:0,state:null};case"link":if(s.rel==="stylesheet"&&typeof s.href=="string"&&typeof s.precedence=="string"){i=Aa(s.href);var b=dr(p).hoistableStyles,M=b.get(i);if(M||(p=p.ownerDocument||p,M={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},b.set(i,M),(b=p.querySelector(zo(i)))&&!b._p&&(M.instance=b,M.state.loading=5),In.has(i)||(s={rel:"preload",as:"style",href:s.href,crossOrigin:s.crossOrigin,integrity:s.integrity,media:s.media,hrefLang:s.hrefLang,referrerPolicy:s.referrerPolicy},In.set(i,s),b||GM(p,i,s,M.state))),a&&c===null)throw Error(r(528,""));return M}if(a&&c!==null)throw Error(r(529,""));return null;case"script":return a=s.async,s=s.src,typeof s=="string"&&a&&typeof a!="function"&&typeof a!="symbol"?(a=wa(s),s=dr(p).hoistableScripts,c=s.get(a),c||(c={type:"script",instance:null,count:0,state:null},s.set(a,c)),c):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,i))}}function Aa(i){return'href="'+Sn(i)+'"'}function zo(i){return'link[rel="stylesheet"]['+i+"]"}function Yy(i){return h({},i,{"data-precedence":i.precedence,precedence:null})}function GM(i,a,s,c){i.querySelector('link[rel="preload"][as="style"]['+a+"]")?c.loading=1:(a=i.createElement("link"),c.preload=a,a.addEventListener("load",function(){return c.loading|=1}),a.addEventListener("error",function(){return c.loading|=2}),Pt(a,"link",s),St(a),i.head.appendChild(a))}function wa(i){return'[src="'+Sn(i)+'"]'}function jo(i){return"script[async]"+i}function $y(i,a,s){if(a.count++,a.instance===null)switch(a.type){case"style":var c=i.querySelector('style[data-href~="'+Sn(s.href)+'"]');if(c)return a.instance=c,St(c),c;var p=h({},s,{"data-href":s.href,"data-precedence":s.precedence,href:null,precedence:null});return c=(i.ownerDocument||i).createElement("style"),St(c),Pt(c,"style",p),Ol(c,s.precedence,i),a.instance=c;case"stylesheet":p=Aa(s.href);var b=i.querySelector(zo(p));if(b)return a.state.loading|=4,a.instance=b,St(b),b;c=Yy(s),(p=In.get(p))&&Uf(c,p),b=(i.ownerDocument||i).createElement("link"),St(b);var M=b;return M._p=new Promise(function(w,V){M.onload=w,M.onerror=V}),Pt(b,"link",c),a.state.loading|=4,Ol(b,s.precedence,i),a.instance=b;case"script":return b=wa(s.src),(p=i.querySelector(jo(b)))?(a.instance=p,St(p),p):(c=s,(p=In.get(b))&&(c=h({},s),Gf(c,p)),i=i.ownerDocument||i,p=i.createElement("script"),St(p),Pt(p,"link",c),i.head.appendChild(p),a.instance=p);case"void":return null;default:throw Error(r(443,a.type))}else a.type==="stylesheet"&&(a.state.loading&4)===0&&(c=a.instance,a.state.loading|=4,Ol(c,s.precedence,i));return a.instance}function Ol(i,a,s){for(var c=s.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),p=c.length?c[c.length-1]:null,b=p,M=0;M<c.length;M++){var w=c[M];if(w.dataset.precedence===a)b=w;else if(b!==p)break}b?b.parentNode.insertBefore(i,b.nextSibling):(a=s.nodeType===9?s.head:s,a.insertBefore(i,a.firstChild))}function Uf(i,a){i.crossOrigin==null&&(i.crossOrigin=a.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=a.referrerPolicy),i.title==null&&(i.title=a.title)}function Gf(i,a){i.crossOrigin==null&&(i.crossOrigin=a.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=a.referrerPolicy),i.integrity==null&&(i.integrity=a.integrity)}var Fl=null;function Ky(i,a,s){if(Fl===null){var c=new Map,p=Fl=new Map;p.set(s,c)}else p=Fl,c=p.get(s),c||(c=new Map,p.set(s,c));if(c.has(i))return c;for(c.set(i,null),s=s.getElementsByTagName(i),p=0;p<s.length;p++){var b=s[p];if(!(b[cr]||b[kt]||i==="link"&&b.getAttribute("rel")==="stylesheet")&&b.namespaceURI!=="http://www.w3.org/2000/svg"){var M=b.getAttribute(a)||"";M=i+M;var w=c.get(M);w?w.push(b):c.set(M,[b])}}return c}function Xy(i,a,s){i=i.ownerDocument||i,i.head.insertBefore(s,a==="title"?i.querySelector("head > title"):null)}function qM(i,a,s){if(s===1||a.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof a.precedence!="string"||typeof a.href!="string"||a.href==="")break;return!0;case"link":if(typeof a.rel!="string"||typeof a.href!="string"||a.href===""||a.onLoad||a.onError)break;switch(a.rel){case"stylesheet":return i=a.disabled,typeof a.precedence=="string"&&i==null;default:return!0}case"script":if(a.async&&typeof a.async!="function"&&typeof a.async!="symbol"&&!a.onLoad&&!a.onError&&a.src&&typeof a.src=="string")return!0}return!1}function Wy(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}var Ho=null;function YM(){}function $M(i,a,s){if(Ho===null)throw Error(r(475));var c=Ho;if(a.type==="stylesheet"&&(typeof s.media!="string"||matchMedia(s.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var p=Aa(s.href),b=i.querySelector(zo(p));if(b){i=b._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(c.count++,c=zl.bind(c),i.then(c,c)),a.state.loading|=4,a.instance=b,St(b);return}b=i.ownerDocument||i,s=Yy(s),(p=In.get(p))&&Uf(s,p),b=b.createElement("link"),St(b);var M=b;M._p=new Promise(function(w,V){M.onload=w,M.onerror=V}),Pt(b,"link",s),a.instance=b}c.stylesheets===null&&(c.stylesheets=new Map),c.stylesheets.set(a,i),(i=a.state.preload)&&(a.state.loading&3)===0&&(c.count++,a=zl.bind(c),i.addEventListener("load",a),i.addEventListener("error",a))}}function KM(){if(Ho===null)throw Error(r(475));var i=Ho;return i.stylesheets&&i.count===0&&qf(i,i.stylesheets),0<i.count?function(a){var s=setTimeout(function(){if(i.stylesheets&&qf(i,i.stylesheets),i.unsuspend){var c=i.unsuspend;i.unsuspend=null,c()}},6e4);return i.unsuspend=a,function(){i.unsuspend=null,clearTimeout(s)}}:null}function zl(){if(this.count--,this.count===0){if(this.stylesheets)qf(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var jl=null;function qf(i,a){i.stylesheets=null,i.unsuspend!==null&&(i.count++,jl=new Map,a.forEach(XM,i),jl=null,zl.call(i))}function XM(i,a){if(!(a.state.loading&4)){var s=jl.get(i);if(s)var c=s.get(null);else{s=new Map,jl.set(i,s);for(var p=i.querySelectorAll("link[data-precedence],style[data-precedence]"),b=0;b<p.length;b++){var M=p[b];(M.nodeName==="LINK"||M.getAttribute("media")!=="not all")&&(s.set(M.dataset.precedence,M),c=M)}c&&s.set(null,c)}p=a.instance,M=p.getAttribute("data-precedence"),b=s.get(M)||c,b===c&&s.set(null,p),s.set(M,p),this.count++,c=zl.bind(this),p.addEventListener("load",c),p.addEventListener("error",c),b?b.parentNode.insertBefore(p,b.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(p,i.firstChild)),a.state.loading|=4}}var Uo={$$typeof:R,Provider:null,Consumer:null,_currentValue:k,_currentValue2:k,_threadCount:0};function WM(i,a,s,c,p,b,M,w){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Yr(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Yr(0),this.hiddenUpdates=Yr(null),this.identifierPrefix=c,this.onUncaughtError=p,this.onCaughtError=b,this.onRecoverableError=M,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=w,this.incompleteTransitions=new Map}function Qy(i,a,s,c,p,b,M,w,V,K,ee,re){return i=new WM(i,a,s,M,w,V,K,re),a=1,b===!0&&(a|=24),b=dn(3,null,null,a),i.current=b,b.stateNode=i,a=Ec(),a.refCount++,i.pooledCache=a,a.refCount++,b.memoizedState={element:c,isDehydrated:s,cache:a},Ic(b),i}function Jy(i){return i?(i=ra,i):ra}function Zy(i,a,s,c,p,b){p=Jy(p),c.context===null?c.context=p:c.pendingContext=p,c=Ri(a),c.payload={element:s},b=b===void 0?null:b,b!==null&&(c.callback=b),s=Ni(i,c,a),s!==null&&(yn(s,i,a),vo(s,i,a))}function e0(i,a){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var s=i.retryLane;i.retryLane=s!==0&&s<a?s:a}}function Yf(i,a){e0(i,a),(i=i.alternate)&&e0(i,a)}function t0(i){if(i.tag===13){var a=ia(i,67108864);a!==null&&yn(a,i,67108864),Yf(i,67108864)}}var Hl=!0;function QM(i,a,s,c){var p=q.T;q.T=null;var b=O.p;try{O.p=2,$f(i,a,s,c)}finally{O.p=b,q.T=p}}function JM(i,a,s,c){var p=q.T;q.T=null;var b=O.p;try{O.p=8,$f(i,a,s,c)}finally{O.p=b,q.T=p}}function $f(i,a,s,c){if(Hl){var p=Kf(c);if(p===null)Lf(i,a,c,Ul,s),i0(i,c);else if(eE(p,i,a,s,c))c.stopPropagation();else if(i0(i,c),a&4&&-1<ZM.indexOf(i)){for(;p!==null;){var b=ai(p);if(b!==null)switch(b.tag){case 3:if(b=b.stateNode,b.current.memoizedState.isDehydrated){var M=Kt(b.pendingLanes);if(M!==0){var w=b;for(w.pendingLanes|=2,w.entangledLanes|=2;M;){var V=1<<31-Ee(M);w.entanglements[1]|=V,M&=~V}Wn(b),(Qe&6)===0&&(Al=mt()+500,Po(0))}}break;case 13:w=ia(b,2),w!==null&&yn(w,b,2),Dl(),Yf(b,2)}if(b=Kf(c),b===null&&Lf(i,a,c,Ul,s),b===p)break;p=b}p!==null&&c.stopPropagation()}else Lf(i,a,c,null,s)}}function Kf(i){return i=Ju(i),Xf(i)}var Ul=null;function Xf(i){if(Ul=null,i=Ai(i),i!==null){var a=l(i);if(a===null)i=null;else{var s=a.tag;if(s===13){if(i=u(a),i!==null)return i;i=null}else if(s===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;i=null}else a!==i&&(i=null)}}return Ul=i,null}function n0(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Hr()){case wt:return 2;case ii:return 8;case ri:case Ur:return 32;case Gr:return 268435456;default:return 32}default:return 32}}var Wf=!1,qi=null,Yi=null,$i=null,Go=new Map,qo=new Map,Ki=[],ZM="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function i0(i,a){switch(i){case"focusin":case"focusout":qi=null;break;case"dragenter":case"dragleave":Yi=null;break;case"mouseover":case"mouseout":$i=null;break;case"pointerover":case"pointerout":Go.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":qo.delete(a.pointerId)}}function Yo(i,a,s,c,p,b){return i===null||i.nativeEvent!==b?(i={blockedOn:a,domEventName:s,eventSystemFlags:c,nativeEvent:b,targetContainers:[p]},a!==null&&(a=ai(a),a!==null&&t0(a)),i):(i.eventSystemFlags|=c,a=i.targetContainers,p!==null&&a.indexOf(p)===-1&&a.push(p),i)}function eE(i,a,s,c,p){switch(a){case"focusin":return qi=Yo(qi,i,a,s,c,p),!0;case"dragenter":return Yi=Yo(Yi,i,a,s,c,p),!0;case"mouseover":return $i=Yo($i,i,a,s,c,p),!0;case"pointerover":var b=p.pointerId;return Go.set(b,Yo(Go.get(b)||null,i,a,s,c,p)),!0;case"gotpointercapture":return b=p.pointerId,qo.set(b,Yo(qo.get(b)||null,i,a,s,c,p)),!0}return!1}function r0(i){var a=Ai(i.target);if(a!==null){var s=l(a);if(s!==null){if(a=s.tag,a===13){if(a=u(s),a!==null){i.blockedOn=a,Gu(i.priority,function(){if(s.tag===13){var c=gn();c=zt(c);var p=ia(s,c);p!==null&&yn(p,s,c),Yf(s,c)}});return}}else if(a===3&&s.stateNode.current.memoizedState.isDehydrated){i.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}i.blockedOn=null}function Gl(i){if(i.blockedOn!==null)return!1;for(var a=i.targetContainers;0<a.length;){var s=Kf(i.nativeEvent);if(s===null){s=i.nativeEvent;var c=new s.constructor(s.type,s);Qu=c,s.target.dispatchEvent(c),Qu=null}else return a=ai(s),a!==null&&t0(a),i.blockedOn=s,!1;a.shift()}return!0}function a0(i,a,s){Gl(i)&&s.delete(a)}function tE(){Wf=!1,qi!==null&&Gl(qi)&&(qi=null),Yi!==null&&Gl(Yi)&&(Yi=null),$i!==null&&Gl($i)&&($i=null),Go.forEach(a0),qo.forEach(a0)}function ql(i,a){i.blockedOn===a&&(i.blockedOn=null,Wf||(Wf=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,tE)))}var Yl=null;function o0(i){Yl!==i&&(Yl=i,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){Yl===i&&(Yl=null);for(var a=0;a<i.length;a+=3){var s=i[a],c=i[a+1],p=i[a+2];if(typeof c!="function"){if(Xf(c||s)===null)continue;break}var b=ai(s);b!==null&&(i.splice(a,3),a-=3,Kc(b,{pending:!0,data:p,method:s.method,action:c},c,p))}}))}function $o(i){function a(V){return ql(V,i)}qi!==null&&ql(qi,i),Yi!==null&&ql(Yi,i),$i!==null&&ql($i,i),Go.forEach(a),qo.forEach(a);for(var s=0;s<Ki.length;s++){var c=Ki[s];c.blockedOn===i&&(c.blockedOn=null)}for(;0<Ki.length&&(s=Ki[0],s.blockedOn===null);)r0(s),s.blockedOn===null&&Ki.shift();if(s=(i.ownerDocument||i).$$reactFormReplay,s!=null)for(c=0;c<s.length;c+=3){var p=s[c],b=s[c+1],M=p[jt]||null;if(typeof b=="function")M||o0(s);else if(M){var w=null;if(b&&b.hasAttribute("formAction")){if(p=b,M=b[jt]||null)w=M.formAction;else if(Xf(p)!==null)continue}else w=M.action;typeof w=="function"?s[c+1]=w:(s.splice(c,3),c-=3),o0(s)}}}function Qf(i){this._internalRoot=i}$l.prototype.render=Qf.prototype.render=function(i){var a=this._internalRoot;if(a===null)throw Error(r(409));var s=a.current,c=gn();Zy(s,c,i,a,null,null)},$l.prototype.unmount=Qf.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var a=i.containerInfo;Zy(i.current,2,null,i,null,null),Dl(),a[Ei]=null}};function $l(i){this._internalRoot=i}$l.prototype.unstable_scheduleHydration=function(i){if(i){var a=Ps();i={blockedOn:null,target:i,priority:a};for(var s=0;s<Ki.length&&a!==0&&a<Ki[s].priority;s++);Ki.splice(s,0,i),s===0&&r0(i)}};var s0=t.version;if(s0!=="19.1.0")throw Error(r(527,s0,"19.1.0"));O.findDOMNode=function(i){var a=i._reactInternals;if(a===void 0)throw typeof i.render=="function"?Error(r(188)):(i=Object.keys(i).join(","),Error(r(268,i)));return i=m(a),i=i!==null?d(i):null,i=i===null?null:i.stateNode,i};var nE={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:q,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Kl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Kl.isDisabled&&Kl.supportsFiber)try{Z=Kl.inject(nE),ue=Kl}catch{}}return Xo.createRoot=function(i,a){if(!o(i))throw Error(r(299));var s=!1,c="",p=Cg,b=Mg,M=Eg,w=null;return a!=null&&(a.unstable_strictMode===!0&&(s=!0),a.identifierPrefix!==void 0&&(c=a.identifierPrefix),a.onUncaughtError!==void 0&&(p=a.onUncaughtError),a.onCaughtError!==void 0&&(b=a.onCaughtError),a.onRecoverableError!==void 0&&(M=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(w=a.unstable_transitionCallbacks)),a=Qy(i,1,!1,null,null,s,c,p,b,M,w,null),i[Ei]=a.current,_f(i),new Qf(a)},Xo.hydrateRoot=function(i,a,s){if(!o(i))throw Error(r(299));var c=!1,p="",b=Cg,M=Mg,w=Eg,V=null,K=null;return s!=null&&(s.unstable_strictMode===!0&&(c=!0),s.identifierPrefix!==void 0&&(p=s.identifierPrefix),s.onUncaughtError!==void 0&&(b=s.onUncaughtError),s.onCaughtError!==void 0&&(M=s.onCaughtError),s.onRecoverableError!==void 0&&(w=s.onRecoverableError),s.unstable_transitionCallbacks!==void 0&&(V=s.unstable_transitionCallbacks),s.formState!==void 0&&(K=s.formState)),a=Qy(i,1,!0,a,s??null,c,p,b,M,w,V,K),a.context=Jy(null),s=a.current,c=gn(),c=zt(c),p=Ri(c),p.callback=null,Ni(s,p,c),s=c,a.current.lanes=s,Q(a,s),Wn(a),i[Ei]=a.current,_f(i),new $l(a)},Xo.version="19.1.0",Xo}var y0;function mE(){if(y0)return ed.exports;y0=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),ed.exports=dE(),ed.exports}var hE=mE();const pE=ws(hE);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let gE,yE;function xE(){return{geminiUrl:gE,vertexUrl:yE}}function vE(e,t,n){var r,o,l;if(!(!((r=e.httpOptions)===null||r===void 0)&&r.baseUrl)){const u=xE();return e.vertexai?(o=u.vertexUrl)!==null&&o!==void 0?o:t:(l=u.geminiUrl)!==null&&l!==void 0?l:n}return e.httpOptions.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Ds{}function ke(e,t){const n=/\{([^}]+)\}/g;return e.replace(n,(r,o)=>{if(Object.prototype.hasOwnProperty.call(t,o)){const l=t[o];return l!=null?String(l):""}else throw new Error(`Key '${o}' not found in valueMap.`)})}function v(e,t,n){for(let l=0;l<t.length-1;l++){const u=t[l];if(u.endsWith("[]")){const f=u.slice(0,-2);if(!(f in e))if(Array.isArray(n))e[f]=Array.from({length:n.length},()=>({}));else throw new Error(`Value must be a list given an array path ${u}`);if(Array.isArray(e[f])){const m=e[f];if(Array.isArray(n))for(let d=0;d<m.length;d++){const h=m[d];v(h,t.slice(l+1),n[d])}else for(const d of m)v(d,t.slice(l+1),n)}return}else if(u.endsWith("[0]")){const f=u.slice(0,-3);f in e||(e[f]=[{}]);const m=e[f];v(m[0],t.slice(l+1),n);return}(!e[u]||typeof e[u]!="object")&&(e[u]={}),e=e[u]}const r=t[t.length-1],o=e[r];if(o!==void 0){if(!n||typeof n=="object"&&Object.keys(n).length===0||n===o)return;if(typeof o=="object"&&typeof n=="object"&&o!==null&&n!==null)Object.assign(o,n);else throw new Error(`Cannot set value for an existing key. Key: ${r}`)}else e[r]=n}function x(e,t){try{if(t.length===1&&t[0]==="_self")return e;for(let n=0;n<t.length;n++){if(typeof e!="object"||e===null)return;const r=t[n];if(r.endsWith("[]")){const o=r.slice(0,-2);if(o in e){const l=e[o];return Array.isArray(l)?l.map(u=>x(u,t.slice(n+1))):void 0}else return}else e=e[r]}return e}catch(n){if(n instanceof TypeError)return;throw n}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function yt(e,t){if(!t||typeof t!="string")throw new Error("model is required and must be a string");if(e.isVertexAI()){if(t.startsWith("publishers/")||t.startsWith("projects/")||t.startsWith("models/"))return t;if(t.indexOf("/")>=0){const n=t.split("/",2);return`publishers/${n[0]}/models/${n[1]}`}else return`publishers/google/models/${t}`}else return t.startsWith("models/")||t.startsWith("tunedModels/")?t:`models/${t}`}function G1(e,t){const n=yt(e,t);return n?n.startsWith("publishers/")&&e.isVertexAI()?`projects/${e.getProject()}/locations/${e.getLocation()}/${n}`:n.startsWith("models/")&&e.isVertexAI()?`projects/${e.getProject()}/locations/${e.getLocation()}/publishers/google/${n}`:n:""}function q1(e,t){return Array.isArray(t)?t.map(n=>vu(e,n)):[vu(e,t)]}function vu(e,t){if(typeof t=="object"&&t!==null)return t;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof t}`)}function bE(e,t){const n=vu(e,t);if(n.mimeType&&n.mimeType.startsWith("image/"))return n;throw new Error(`Unsupported mime type: ${n.mimeType}`)}function TE(e,t){const n=vu(e,t);if(n.mimeType&&n.mimeType.startsWith("audio/"))return n;throw new Error(`Unsupported mime type: ${n.mimeType}`)}function x0(e,t){if(t==null)throw new Error("PartUnion is required");if(typeof t=="object")return t;if(typeof t=="string")return{text:t};throw new Error(`Unsupported part type: ${typeof t}`)}function Y1(e,t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("PartListUnion is required");return Array.isArray(t)?t.map(n=>x0(e,n)):[x0(e,t)]}function Fd(e){return e!=null&&typeof e=="object"&&"parts"in e&&Array.isArray(e.parts)}function v0(e){return e!=null&&typeof e=="object"&&"functionCall"in e}function b0(e){return e!=null&&typeof e=="object"&&"functionResponse"in e}function on(e,t){if(t==null)throw new Error("ContentUnion is required");return Fd(t)?t:{role:"user",parts:Y1(e,t)}}function $1(e,t){if(!t)return[];if(e.isVertexAI()&&Array.isArray(t))return t.flatMap(n=>{const r=on(e,n);return r.parts&&r.parts.length>0&&r.parts[0].text!==void 0?[r.parts[0].text]:[]});if(e.isVertexAI()){const n=on(e,t);return n.parts&&n.parts.length>0&&n.parts[0].text!==void 0?[n.parts[0].text]:[]}return Array.isArray(t)?t.map(n=>on(e,n)):[on(e,t)]}function rr(e,t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("contents are required");if(!Array.isArray(t)){if(v0(t)||b0(t))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[on(e,t)]}const n=[],r=[],o=Fd(t[0]);for(const l of t){const u=Fd(l);if(u!=o)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(u)n.push(l);else{if(v0(l)||b0(l))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");r.push(l)}}return o||n.push({role:"user",parts:Y1(e,r)}),n}function K1(e,t){return t}function X1(e,t){if(typeof t=="object")return t;if(typeof t=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:t}}};throw new Error(`Unsupported speechConfig type: ${typeof t}`)}function _u(e,t){return t}function Lu(e,t){if(!Array.isArray(t))throw new Error("tool is required and must be an array of Tools");return t}function SE(e,t,n,r=1){const o=!t.startsWith(`${n}/`)&&t.split("/").length===r;return e.isVertexAI()?t.startsWith("projects/")?t:t.startsWith("locations/")?`projects/${e.getProject()}/${t}`:t.startsWith(`${n}/`)?`projects/${e.getProject()}/locations/${e.getLocation()}/${t}`:o?`projects/${e.getProject()}/locations/${e.getLocation()}/${n}/${t}`:t:o?`${n}/${t}`:t}function ar(e,t){if(typeof t!="string")throw new Error("name must be a string");return SE(e,t,"cachedContents")}function W1(e,t){switch(t){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return t}}function or(e,t){if(typeof t!="string")throw new Error("fromImageBytes must be a string");return t}function Q1(e,t){if(typeof t!="string")throw new Error("fromName must be a string");return t.startsWith("files/")?t.split("files/")[1]:t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function CE(e,t){const n={};if(x(t,["videoMetadata"])!==void 0)throw new Error("videoMetadata parameter is not supported in Gemini API.");const r=x(t,["thought"]);r!=null&&v(n,["thought"],r);const o=x(t,["codeExecutionResult"]);o!=null&&v(n,["codeExecutionResult"],o);const l=x(t,["executableCode"]);l!=null&&v(n,["executableCode"],l);const u=x(t,["fileData"]);u!=null&&v(n,["fileData"],u);const f=x(t,["functionCall"]);f!=null&&v(n,["functionCall"],f);const m=x(t,["functionResponse"]);m!=null&&v(n,["functionResponse"],m);const d=x(t,["inlineData"]);d!=null&&v(n,["inlineData"],d);const h=x(t,["text"]);return h!=null&&v(n,["text"],h),n}function T0(e,t){const n={},r=x(t,["parts"]);if(r!=null){let l=r;Array.isArray(l)&&(l=l.map(u=>CE(e,u))),v(n,["parts"],l)}const o=x(t,["role"]);return o!=null&&v(n,["role"],o),n}function ME(){return{}}function EE(e,t){const n={},r=x(t,["mode"]);r!=null&&v(n,["mode"],r);const o=x(t,["dynamicThreshold"]);return o!=null&&v(n,["dynamicThreshold"],o),n}function AE(e,t){const n={},r=x(t,["dynamicRetrievalConfig"]);return r!=null&&v(n,["dynamicRetrievalConfig"],EE(e,r)),n}function wE(e,t){const n={};if(x(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");x(t,["googleSearch"])!=null&&v(n,["googleSearch"],ME());const o=x(t,["googleSearchRetrieval"]);o!=null&&v(n,["googleSearchRetrieval"],AE(e,o));const l=x(t,["codeExecution"]);l!=null&&v(n,["codeExecution"],l);const u=x(t,["functionDeclarations"]);return u!=null&&v(n,["functionDeclarations"],u),n}function DE(e,t){const n={},r=x(t,["mode"]);r!=null&&v(n,["mode"],r);const o=x(t,["allowedFunctionNames"]);return o!=null&&v(n,["allowedFunctionNames"],o),n}function IE(e,t){const n={},r=x(t,["functionCallingConfig"]);return r!=null&&v(n,["functionCallingConfig"],DE(e,r)),n}function kE(e,t,n){const r={},o=x(t,["ttl"]);n!==void 0&&o!=null&&v(n,["ttl"],o);const l=x(t,["expireTime"]);n!==void 0&&l!=null&&v(n,["expireTime"],l);const u=x(t,["displayName"]);n!==void 0&&u!=null&&v(n,["displayName"],u);const f=x(t,["contents"]);if(n!==void 0&&f!=null){let g=rr(e,f);Array.isArray(g)&&(g=g.map(T=>T0(e,T))),v(n,["contents"],g)}const m=x(t,["systemInstruction"]);n!==void 0&&m!=null&&v(n,["systemInstruction"],T0(e,on(e,m)));const d=x(t,["tools"]);if(n!==void 0&&d!=null){let g=d;Array.isArray(g)&&(g=g.map(T=>wE(e,T))),v(n,["tools"],g)}const h=x(t,["toolConfig"]);return n!==void 0&&h!=null&&v(n,["toolConfig"],IE(e,h)),r}function RE(e,t){const n={},r=x(t,["model"]);r!=null&&v(n,["model"],G1(e,r));const o=x(t,["config"]);return o!=null&&v(n,["config"],kE(e,o,n)),n}function NE(e,t){const n={},r=x(t,["name"]);r!=null&&v(n,["_url","name"],ar(e,r));const o=x(t,["config"]);return o!=null&&v(n,["config"],o),n}function _E(e,t){const n={},r=x(t,["name"]);r!=null&&v(n,["_url","name"],ar(e,r));const o=x(t,["config"]);return o!=null&&v(n,["config"],o),n}function LE(e,t,n){const r={},o=x(t,["ttl"]);n!==void 0&&o!=null&&v(n,["ttl"],o);const l=x(t,["expireTime"]);return n!==void 0&&l!=null&&v(n,["expireTime"],l),r}function VE(e,t){const n={},r=x(t,["name"]);r!=null&&v(n,["_url","name"],ar(e,r));const o=x(t,["config"]);return o!=null&&v(n,["config"],LE(e,o,n)),n}function PE(e,t,n){const r={},o=x(t,["pageSize"]);n!==void 0&&o!=null&&v(n,["_query","pageSize"],o);const l=x(t,["pageToken"]);return n!==void 0&&l!=null&&v(n,["_query","pageToken"],l),r}function BE(e,t){const n={},r=x(t,["config"]);return r!=null&&v(n,["config"],PE(e,r,n)),n}function OE(e,t){const n={},r=x(t,["videoMetadata"]);r!=null&&v(n,["videoMetadata"],r);const o=x(t,["thought"]);o!=null&&v(n,["thought"],o);const l=x(t,["codeExecutionResult"]);l!=null&&v(n,["codeExecutionResult"],l);const u=x(t,["executableCode"]);u!=null&&v(n,["executableCode"],u);const f=x(t,["fileData"]);f!=null&&v(n,["fileData"],f);const m=x(t,["functionCall"]);m!=null&&v(n,["functionCall"],m);const d=x(t,["functionResponse"]);d!=null&&v(n,["functionResponse"],d);const h=x(t,["inlineData"]);h!=null&&v(n,["inlineData"],h);const g=x(t,["text"]);return g!=null&&v(n,["text"],g),n}function S0(e,t){const n={},r=x(t,["parts"]);if(r!=null){let l=r;Array.isArray(l)&&(l=l.map(u=>OE(e,u))),v(n,["parts"],l)}const o=x(t,["role"]);return o!=null&&v(n,["role"],o),n}function FE(){return{}}function zE(e,t){const n={},r=x(t,["mode"]);r!=null&&v(n,["mode"],r);const o=x(t,["dynamicThreshold"]);return o!=null&&v(n,["dynamicThreshold"],o),n}function jE(e,t){const n={},r=x(t,["dynamicRetrievalConfig"]);return r!=null&&v(n,["dynamicRetrievalConfig"],zE(e,r)),n}function HE(e,t){const n={},r=x(t,["retrieval"]);r!=null&&v(n,["retrieval"],r),x(t,["googleSearch"])!=null&&v(n,["googleSearch"],FE());const l=x(t,["googleSearchRetrieval"]);l!=null&&v(n,["googleSearchRetrieval"],jE(e,l));const u=x(t,["codeExecution"]);u!=null&&v(n,["codeExecution"],u);const f=x(t,["functionDeclarations"]);return f!=null&&v(n,["functionDeclarations"],f),n}function UE(e,t){const n={},r=x(t,["mode"]);r!=null&&v(n,["mode"],r);const o=x(t,["allowedFunctionNames"]);return o!=null&&v(n,["allowedFunctionNames"],o),n}function GE(e,t){const n={},r=x(t,["functionCallingConfig"]);return r!=null&&v(n,["functionCallingConfig"],UE(e,r)),n}function qE(e,t,n){const r={},o=x(t,["ttl"]);n!==void 0&&o!=null&&v(n,["ttl"],o);const l=x(t,["expireTime"]);n!==void 0&&l!=null&&v(n,["expireTime"],l);const u=x(t,["displayName"]);n!==void 0&&u!=null&&v(n,["displayName"],u);const f=x(t,["contents"]);if(n!==void 0&&f!=null){let g=rr(e,f);Array.isArray(g)&&(g=g.map(T=>S0(e,T))),v(n,["contents"],g)}const m=x(t,["systemInstruction"]);n!==void 0&&m!=null&&v(n,["systemInstruction"],S0(e,on(e,m)));const d=x(t,["tools"]);if(n!==void 0&&d!=null){let g=d;Array.isArray(g)&&(g=g.map(T=>HE(e,T))),v(n,["tools"],g)}const h=x(t,["toolConfig"]);return n!==void 0&&h!=null&&v(n,["toolConfig"],GE(e,h)),r}function YE(e,t){const n={},r=x(t,["model"]);r!=null&&v(n,["model"],G1(e,r));const o=x(t,["config"]);return o!=null&&v(n,["config"],qE(e,o,n)),n}function $E(e,t){const n={},r=x(t,["name"]);r!=null&&v(n,["_url","name"],ar(e,r));const o=x(t,["config"]);return o!=null&&v(n,["config"],o),n}function KE(e,t){const n={},r=x(t,["name"]);r!=null&&v(n,["_url","name"],ar(e,r));const o=x(t,["config"]);return o!=null&&v(n,["config"],o),n}function XE(e,t,n){const r={},o=x(t,["ttl"]);n!==void 0&&o!=null&&v(n,["ttl"],o);const l=x(t,["expireTime"]);return n!==void 0&&l!=null&&v(n,["expireTime"],l),r}function WE(e,t){const n={},r=x(t,["name"]);r!=null&&v(n,["_url","name"],ar(e,r));const o=x(t,["config"]);return o!=null&&v(n,["config"],XE(e,o,n)),n}function QE(e,t,n){const r={},o=x(t,["pageSize"]);n!==void 0&&o!=null&&v(n,["_query","pageSize"],o);const l=x(t,["pageToken"]);return n!==void 0&&l!=null&&v(n,["_query","pageToken"],l),r}function JE(e,t){const n={},r=x(t,["config"]);return r!=null&&v(n,["config"],QE(e,r,n)),n}function fu(e,t){const n={},r=x(t,["name"]);r!=null&&v(n,["name"],r);const o=x(t,["displayName"]);o!=null&&v(n,["displayName"],o);const l=x(t,["model"]);l!=null&&v(n,["model"],l);const u=x(t,["createTime"]);u!=null&&v(n,["createTime"],u);const f=x(t,["updateTime"]);f!=null&&v(n,["updateTime"],f);const m=x(t,["expireTime"]);m!=null&&v(n,["expireTime"],m);const d=x(t,["usageMetadata"]);return d!=null&&v(n,["usageMetadata"],d),n}function ZE(){return{}}function eA(e,t){const n={},r=x(t,["nextPageToken"]);r!=null&&v(n,["nextPageToken"],r);const o=x(t,["cachedContents"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(u=>fu(e,u))),v(n,["cachedContents"],l)}return n}function du(e,t){const n={},r=x(t,["name"]);r!=null&&v(n,["name"],r);const o=x(t,["displayName"]);o!=null&&v(n,["displayName"],o);const l=x(t,["model"]);l!=null&&v(n,["model"],l);const u=x(t,["createTime"]);u!=null&&v(n,["createTime"],u);const f=x(t,["updateTime"]);f!=null&&v(n,["updateTime"],f);const m=x(t,["expireTime"]);m!=null&&v(n,["expireTime"],m);const d=x(t,["usageMetadata"]);return d!=null&&v(n,["usageMetadata"],d),n}function tA(){return{}}function nA(e,t){const n={},r=x(t,["nextPageToken"]);r!=null&&v(n,["nextPageToken"],r);const o=x(t,["cachedContents"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(u=>du(e,u))),v(n,["cachedContents"],l)}return n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var gs;(function(e){e.PAGED_ITEM_BATCH_JOBS="batchJobs",e.PAGED_ITEM_MODELS="models",e.PAGED_ITEM_TUNING_JOBS="tuningJobs",e.PAGED_ITEM_FILES="files",e.PAGED_ITEM_CACHED_CONTENTS="cachedContents"})(gs||(gs={}));class Rm{constructor(t,n,r,o){this.pageInternal=[],this.paramsInternal={},this.requestInternal=n,this.init(t,r,o)}init(t,n,r){var o,l;this.nameInternal=t,this.pageInternal=n[this.nameInternal]||[],this.idxInternal=0;let u={config:{}};r?typeof r=="object"?u=Object.assign({},r):u=r:u={config:{}},u.config&&(u.config.pageToken=n.nextPageToken),this.paramsInternal=u,this.pageInternalSize=(l=(o=u.config)===null||o===void 0?void 0:o.pageSize)!==null&&l!==void 0?l:this.pageInternal.length}initNextPage(t){this.init(this.nameInternal,t,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(t){return this.pageInternal[t]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const t=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:t,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const t=await this.requestInternal(this.params);return this.initNextPage(t),this.page}hasNextPage(){var t;return((t=this.params.config)===null||t===void 0?void 0:t.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var C0;(function(e){e.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",e.OUTCOME_OK="OUTCOME_OK",e.OUTCOME_FAILED="OUTCOME_FAILED",e.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(C0||(C0={}));var M0;(function(e){e.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",e.PYTHON="PYTHON"})(M0||(M0={}));var E0;(function(e){e.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",e.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",e.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",e.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",e.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",e.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY"})(E0||(E0={}));var A0;(function(e){e.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",e.SEVERITY="SEVERITY",e.PROBABILITY="PROBABILITY"})(A0||(A0={}));var w0;(function(e){e.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",e.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",e.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",e.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",e.BLOCK_NONE="BLOCK_NONE",e.OFF="OFF"})(w0||(w0={}));var D0;(function(e){e.MODE_UNSPECIFIED="MODE_UNSPECIFIED",e.MODE_DYNAMIC="MODE_DYNAMIC"})(D0||(D0={}));var I0;(function(e){e.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",e.STRING="STRING",e.NUMBER="NUMBER",e.INTEGER="INTEGER",e.BOOLEAN="BOOLEAN",e.ARRAY="ARRAY",e.OBJECT="OBJECT"})(I0||(I0={}));var k0;(function(e){e.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",e.STOP="STOP",e.MAX_TOKENS="MAX_TOKENS",e.SAFETY="SAFETY",e.RECITATION="RECITATION",e.LANGUAGE="LANGUAGE",e.OTHER="OTHER",e.BLOCKLIST="BLOCKLIST",e.PROHIBITED_CONTENT="PROHIBITED_CONTENT",e.SPII="SPII",e.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",e.IMAGE_SAFETY="IMAGE_SAFETY"})(k0||(k0={}));var R0;(function(e){e.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",e.NEGLIGIBLE="NEGLIGIBLE",e.LOW="LOW",e.MEDIUM="MEDIUM",e.HIGH="HIGH"})(R0||(R0={}));var N0;(function(e){e.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",e.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",e.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",e.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",e.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(N0||(N0={}));var _0;(function(e){e.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",e.SAFETY="SAFETY",e.OTHER="OTHER",e.BLOCKLIST="BLOCKLIST",e.PROHIBITED_CONTENT="PROHIBITED_CONTENT"})(_0||(_0={}));var L0;(function(e){e.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",e.ON_DEMAND="ON_DEMAND",e.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(L0||(L0={}));var bu;(function(e){e.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",e.TEXT="TEXT",e.IMAGE="IMAGE",e.AUDIO="AUDIO"})(bu||(bu={}));var V0;(function(e){e.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",e.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",e.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",e.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(V0||(V0={}));var zd;(function(e){e.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",e.JOB_STATE_QUEUED="JOB_STATE_QUEUED",e.JOB_STATE_PENDING="JOB_STATE_PENDING",e.JOB_STATE_RUNNING="JOB_STATE_RUNNING",e.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",e.JOB_STATE_FAILED="JOB_STATE_FAILED",e.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",e.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",e.JOB_STATE_PAUSED="JOB_STATE_PAUSED",e.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",e.JOB_STATE_UPDATING="JOB_STATE_UPDATING",e.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(zd||(zd={}));var P0;(function(e){e.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",e.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",e.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",e.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",e.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",e.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",e.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(P0||(P0={}));var B0;(function(e){e.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",e.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",e.BALANCED="BALANCED",e.PRIORITIZE_COST="PRIORITIZE_COST"})(B0||(B0={}));var O0;(function(e){e.MODE_UNSPECIFIED="MODE_UNSPECIFIED",e.MODE_DYNAMIC="MODE_DYNAMIC"})(O0||(O0={}));var F0;(function(e){e.MODE_UNSPECIFIED="MODE_UNSPECIFIED",e.AUTO="AUTO",e.ANY="ANY",e.NONE="NONE"})(F0||(F0={}));var z0;(function(e){e.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",e.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",e.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",e.BLOCK_NONE="BLOCK_NONE"})(z0||(z0={}));var j0;(function(e){e.DONT_ALLOW="DONT_ALLOW",e.ALLOW_ADULT="ALLOW_ADULT",e.ALLOW_ALL="ALLOW_ALL"})(j0||(j0={}));var H0;(function(e){e.auto="auto",e.en="en",e.ja="ja",e.ko="ko",e.hi="hi"})(H0||(H0={}));var U0;(function(e){e.STATE_UNSPECIFIED="STATE_UNSPECIFIED",e.PROCESSING="PROCESSING",e.ACTIVE="ACTIVE",e.FAILED="FAILED"})(U0||(U0={}));var G0;(function(e){e.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",e.UPLOADED="UPLOADED",e.GENERATED="GENERATED"})(G0||(G0={}));var q0;(function(e){e.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",e.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",e.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",e.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",e.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(q0||(q0={}));var Y0;(function(e){e.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",e.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",e.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",e.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(Y0||(Y0={}));var $0;(function(e){e.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",e.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",e.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",e.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})($0||($0={}));var K0;(function(e){e.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",e.TEXT="TEXT",e.IMAGE="IMAGE",e.VIDEO="VIDEO",e.AUDIO="AUDIO",e.DOCUMENT="DOCUMENT"})(K0||(K0={}));var X0;(function(e){e.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",e.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",e.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(X0||(X0={}));var W0;(function(e){e.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",e.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",e.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(W0||(W0={}));var Q0;(function(e){e.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",e.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",e.NO_INTERRUPTION="NO_INTERRUPTION"})(Q0||(Q0={}));var J0;(function(e){e.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",e.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",e.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(J0||(J0={}));class Xl{get text(){var t,n,r,o,l,u,f,m;if(((o=(r=(n=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||o===void 0?void 0:o.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let d="",h=!1;const g=[];for(const T of(m=(f=(u=(l=this.candidates)===null||l===void 0?void 0:l[0])===null||u===void 0?void 0:u.content)===null||f===void 0?void 0:f.parts)!==null&&m!==void 0?m:[]){for(const[S,E]of Object.entries(T))S!=="text"&&S!=="thought"&&(E!==null||E!==void 0)&&g.push(S);if(typeof T.text=="string"){if(typeof T.thought=="boolean"&&T.thought)continue;h=!0,d+=T.text}}return g.length>0&&console.warn(`there are non-text parts ${g} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),h?d:void 0}get data(){var t,n,r,o,l,u,f,m;if(((o=(r=(n=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||o===void 0?void 0:o.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let d="";const h=[];for(const g of(m=(f=(u=(l=this.candidates)===null||l===void 0?void 0:l[0])===null||u===void 0?void 0:u.content)===null||f===void 0?void 0:f.parts)!==null&&m!==void 0?m:[]){for(const[T,S]of Object.entries(g))T!=="inlineData"&&(S!==null||S!==void 0)&&h.push(T);g.inlineData&&typeof g.inlineData.data=="string"&&(d+=atob(g.inlineData.data))}return h.length>0&&console.warn(`there are non-data parts ${h} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),d.length>0?btoa(d):void 0}get functionCalls(){var t,n,r,o,l,u,f,m;if(((o=(r=(n=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||o===void 0?void 0:o.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const d=(m=(f=(u=(l=this.candidates)===null||l===void 0?void 0:l[0])===null||u===void 0?void 0:u.content)===null||f===void 0?void 0:f.parts)===null||m===void 0?void 0:m.filter(h=>h.functionCall).map(h=>h.functionCall).filter(h=>h!==void 0);if((d==null?void 0:d.length)!==0)return d}get executableCode(){var t,n,r,o,l,u,f,m,d;if(((o=(r=(n=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||o===void 0?void 0:o.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const h=(m=(f=(u=(l=this.candidates)===null||l===void 0?void 0:l[0])===null||u===void 0?void 0:u.content)===null||f===void 0?void 0:f.parts)===null||m===void 0?void 0:m.filter(g=>g.executableCode).map(g=>g.executableCode).filter(g=>g!==void 0);if((h==null?void 0:h.length)!==0)return(d=h==null?void 0:h[0])===null||d===void 0?void 0:d.code}get codeExecutionResult(){var t,n,r,o,l,u,f,m,d;if(((o=(r=(n=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||o===void 0?void 0:o.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const h=(m=(f=(u=(l=this.candidates)===null||l===void 0?void 0:l[0])===null||u===void 0?void 0:u.content)===null||f===void 0?void 0:f.parts)===null||m===void 0?void 0:m.filter(g=>g.codeExecutionResult).map(g=>g.codeExecutionResult).filter(g=>g!==void 0);if((h==null?void 0:h.length)!==0)return(d=h==null?void 0:h[0])===null||d===void 0?void 0:d.output}}class Z0{}class ex{}class tx{}class nx{}class iA{}class ix{}class rx{}class ax{}class rA{}class jd{constructor(t){const n={};for(const r of t.headers.entries())n[r[0]]=r[1];this.headers=n,this.responseInternal=t}json(){return this.responseInternal.json()}}class aA{}class oA{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class sA extends Ds{constructor(t){super(),this.apiClient=t,this.list=async(n={})=>new Rm(gs.PAGED_ITEM_CACHED_CONTENTS,r=>this.listInternal(r),await this.listInternal(n),n)}async create(t){var n,r,o,l;let u,f="",m={};if(this.apiClient.isVertexAI()){const d=YE(this.apiClient,t);return f=ke("cachedContents",d._url),m=d._query,delete d.config,delete d._url,delete d._query,u=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),u.then(h=>du(this.apiClient,h))}else{const d=RE(this.apiClient,t);return f=ke("cachedContents",d._url),m=d._query,delete d.config,delete d._url,delete d._query,u=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(h=>h.json()),u.then(h=>fu(this.apiClient,h))}}async get(t){var n,r,o,l;let u,f="",m={};if(this.apiClient.isVertexAI()){const d=$E(this.apiClient,t);return f=ke("{name}",d._url),m=d._query,delete d.config,delete d._url,delete d._query,u=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),u.then(h=>du(this.apiClient,h))}else{const d=NE(this.apiClient,t);return f=ke("{name}",d._url),m=d._query,delete d.config,delete d._url,delete d._query,u=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(h=>h.json()),u.then(h=>fu(this.apiClient,h))}}async delete(t){var n,r,o,l;let u,f="",m={};if(this.apiClient.isVertexAI()){const d=KE(this.apiClient,t);return f=ke("{name}",d._url),m=d._query,delete d.config,delete d._url,delete d._query,u=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),u.then(()=>{const h=tA(),g=new rx;return Object.assign(g,h),g})}else{const d=_E(this.apiClient,t);return f=ke("{name}",d._url),m=d._query,delete d.config,delete d._url,delete d._query,u=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(h=>h.json()),u.then(()=>{const h=ZE(),g=new rx;return Object.assign(g,h),g})}}async update(t){var n,r,o,l;let u,f="",m={};if(this.apiClient.isVertexAI()){const d=WE(this.apiClient,t);return f=ke("{name}",d._url),m=d._query,delete d.config,delete d._url,delete d._query,u=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(d),httpMethod:"PATCH",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),u.then(h=>du(this.apiClient,h))}else{const d=VE(this.apiClient,t);return f=ke("{name}",d._url),m=d._query,delete d.config,delete d._url,delete d._query,u=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(d),httpMethod:"PATCH",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(h=>h.json()),u.then(h=>fu(this.apiClient,h))}}async listInternal(t){var n,r,o,l;let u,f="",m={};if(this.apiClient.isVertexAI()){const d=JE(this.apiClient,t);return f=ke("cachedContents",d._url),m=d._query,delete d.config,delete d._url,delete d._query,u=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),u.then(h=>{const g=nA(this.apiClient,h),T=new ax;return Object.assign(T,g),T})}else{const d=BE(this.apiClient,t);return f=ke("cachedContents",d._url),m=d._query,delete d.config,delete d._url,delete d._query,u=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(h=>h.json()),u.then(h=>{const g=eA(this.apiClient,h),T=new ax;return Object.assign(T,g),T})}}}function ox(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function Gt(e){return this instanceof Gt?(this.v=e,this):new Gt(e)}function Tu(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(e,t||[]),o,l=[];return o=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),f("next"),f("throw"),f("return",u),o[Symbol.asyncIterator]=function(){return this},o;function u(S){return function(E){return Promise.resolve(E).then(S,g)}}function f(S,E){r[S]&&(o[S]=function(A){return new Promise(function(L,I){l.push([S,A,L,I])>1||m(S,A)})},E&&(o[S]=E(o[S])))}function m(S,E){try{d(r[S](E))}catch(A){T(l[0][3],A)}}function d(S){S.value instanceof Gt?Promise.resolve(S.value.v).then(h,g):T(l[0][2],S)}function h(S){m("next",S)}function g(S){m("throw",S)}function T(S,E){S(E),l.shift(),l.length&&m(l[0][0],l[0][1])}}function Hd(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],n;return t?t.call(e):(e=typeof ox=="function"?ox(e):e[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(l){n[l]=e[l]&&function(u){return new Promise(function(f,m){u=e[l](u),o(f,m,u.done,u.value)})}}function o(l,u,f,m){Promise.resolve(m).then(function(d){l({value:d,done:f})},u)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function lA(e){var t;if(e.candidates==null||e.candidates.length===0)return!1;const n=(t=e.candidates[0])===null||t===void 0?void 0:t.content;return n===void 0?!1:J1(n)}function J1(e){if(e.parts===void 0||e.parts.length===0)return!1;for(const t of e.parts)if(t===void 0||Object.keys(t).length===0||t.text!==void 0&&t.text==="")return!1;return!0}function uA(e){if(e.length!==0){if(e[0].role!=="user")throw new Error("History must start with a user turn.");for(const t of e)if(t.role!=="user"&&t.role!=="model")throw new Error(`Role must be user or model, but got ${t.role}.`)}}function cA(e){if(e===void 0||e.length===0)return[];const t=[],n=e.length;let r=0,o=e[0];for(;r<n;)if(e[r].role==="user")o=e[r],r++;else{const l=[];let u=!0;for(;r<n&&e[r].role==="model";)l.push(e[r]),u&&!J1(e[r])&&(u=!1),r++;u&&(t.push(o),t.push(...l))}return t}class fA{constructor(t,n){this.modelsModule=t,this.apiClient=n}create(t){return new dA(this.apiClient,this.modelsModule,t.model,t.config,t.history)}}class dA{constructor(t,n,r,o={},l=[]){this.apiClient=t,this.modelsModule=n,this.model=r,this.config=o,this.history=l,this.sendPromise=Promise.resolve(),uA(l)}async sendMessage(t){var n;await this.sendPromise;const r=on(this.apiClient,t.message),o=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(r),config:(n=t.config)!==null&&n!==void 0?n:this.config});return this.sendPromise=(async()=>{var l,u;const m=(u=(l=(await o).candidates)===null||l===void 0?void 0:l[0])===null||u===void 0?void 0:u.content,d=m?[m]:[];this.recordHistory(r,d)})(),await this.sendPromise,o}async sendMessageStream(t){var n;await this.sendPromise;const r=on(this.apiClient,t.message),o=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(r),config:(n=t.config)!==null&&n!==void 0?n:this.config});this.sendPromise=o.then(()=>{}).catch(()=>{});const l=await o;return this.processStreamResponse(l,r)}getHistory(t=!1){return t?cA(this.history):this.history}processStreamResponse(t,n){var r,o;return Tu(this,arguments,function*(){var u,f,m,d;const h=[];try{for(var g=!0,T=Hd(t),S;S=yield Gt(T.next()),u=S.done,!u;g=!0){d=S.value,g=!1;const E=d;if(lA(E)){const A=(o=(r=E.candidates)===null||r===void 0?void 0:r[0])===null||o===void 0?void 0:o.content;A!==void 0&&h.push(A)}yield yield Gt(E)}}catch(E){f={error:E}}finally{try{!g&&!u&&(m=T.return)&&(yield Gt(m.call(T)))}finally{if(f)throw f.error}}this.recordHistory(n,h)})}recordHistory(t,n){let r=[];n.length>0&&n.every(o=>o.role==="model")?r=n:r.push({role:"model",parts:[]}),this.history.push(t),this.history.push(...r)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function mA(e,t,n){const r={},o=x(t,["pageSize"]);n!==void 0&&o!=null&&v(n,["_query","pageSize"],o);const l=x(t,["pageToken"]);return n!==void 0&&l!=null&&v(n,["_query","pageToken"],l),r}function hA(e,t){const n={},r=x(t,["config"]);return r!=null&&v(n,["config"],mA(e,r,n)),n}function pA(e,t){const n={},r=x(t,["details"]);r!=null&&v(n,["details"],r);const o=x(t,["message"]);o!=null&&v(n,["message"],o);const l=x(t,["code"]);return l!=null&&v(n,["code"],l),n}function gA(e,t){const n={},r=x(t,["name"]);r!=null&&v(n,["name"],r);const o=x(t,["displayName"]);o!=null&&v(n,["displayName"],o);const l=x(t,["mimeType"]);l!=null&&v(n,["mimeType"],l);const u=x(t,["sizeBytes"]);u!=null&&v(n,["sizeBytes"],u);const f=x(t,["createTime"]);f!=null&&v(n,["createTime"],f);const m=x(t,["expirationTime"]);m!=null&&v(n,["expirationTime"],m);const d=x(t,["updateTime"]);d!=null&&v(n,["updateTime"],d);const h=x(t,["sha256Hash"]);h!=null&&v(n,["sha256Hash"],h);const g=x(t,["uri"]);g!=null&&v(n,["uri"],g);const T=x(t,["downloadUri"]);T!=null&&v(n,["downloadUri"],T);const S=x(t,["state"]);S!=null&&v(n,["state"],S);const E=x(t,["source"]);E!=null&&v(n,["source"],E);const A=x(t,["videoMetadata"]);A!=null&&v(n,["videoMetadata"],A);const L=x(t,["error"]);return L!=null&&v(n,["error"],pA(e,L)),n}function yA(e,t){const n={},r=x(t,["file"]);r!=null&&v(n,["file"],gA(e,r));const o=x(t,["config"]);return o!=null&&v(n,["config"],o),n}function xA(e,t){const n={},r=x(t,["name"]);r!=null&&v(n,["_url","file"],Q1(e,r));const o=x(t,["config"]);return o!=null&&v(n,["config"],o),n}function vA(e,t){const n={},r=x(t,["name"]);r!=null&&v(n,["_url","file"],Q1(e,r));const o=x(t,["config"]);return o!=null&&v(n,["config"],o),n}function bA(e,t){const n={},r=x(t,["details"]);r!=null&&v(n,["details"],r);const o=x(t,["message"]);o!=null&&v(n,["message"],o);const l=x(t,["code"]);return l!=null&&v(n,["code"],l),n}function Ud(e,t){const n={},r=x(t,["name"]);r!=null&&v(n,["name"],r);const o=x(t,["displayName"]);o!=null&&v(n,["displayName"],o);const l=x(t,["mimeType"]);l!=null&&v(n,["mimeType"],l);const u=x(t,["sizeBytes"]);u!=null&&v(n,["sizeBytes"],u);const f=x(t,["createTime"]);f!=null&&v(n,["createTime"],f);const m=x(t,["expirationTime"]);m!=null&&v(n,["expirationTime"],m);const d=x(t,["updateTime"]);d!=null&&v(n,["updateTime"],d);const h=x(t,["sha256Hash"]);h!=null&&v(n,["sha256Hash"],h);const g=x(t,["uri"]);g!=null&&v(n,["uri"],g);const T=x(t,["downloadUri"]);T!=null&&v(n,["downloadUri"],T);const S=x(t,["state"]);S!=null&&v(n,["state"],S);const E=x(t,["source"]);E!=null&&v(n,["source"],E);const A=x(t,["videoMetadata"]);A!=null&&v(n,["videoMetadata"],A);const L=x(t,["error"]);return L!=null&&v(n,["error"],bA(e,L)),n}function TA(e,t){const n={},r=x(t,["nextPageToken"]);r!=null&&v(n,["nextPageToken"],r);const o=x(t,["files"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(u=>Ud(e,u))),v(n,["files"],l)}return n}function SA(){return{}}function CA(){return{}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class MA extends Ds{constructor(t){super(),this.apiClient=t,this.list=async(n={})=>new Rm(gs.PAGED_ITEM_FILES,r=>this.listInternal(r),await this.listInternal(n),n)}async upload(t){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(t.file,t.config).then(n=>Ud(this.apiClient,n))}async listInternal(t){var n,r;let o,l="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const f=hA(this.apiClient,t);return l=ke("files",f._url),u=f._query,delete f.config,delete f._url,delete f._query,o=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(m=>m.json()),o.then(m=>{const d=TA(this.apiClient,m),h=new rA;return Object.assign(h,d),h})}}async createInternal(t){var n,r;let o,l="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const f=yA(this.apiClient,t);return l=ke("upload/v1beta/files",f._url),u=f._query,delete f.config,delete f._url,delete f._query,o=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(m=>m.json()),o.then(()=>{const m=SA(),d=new aA;return Object.assign(d,m),d})}}async get(t){var n,r;let o,l="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const f=xA(this.apiClient,t);return l=ke("files/{file}",f._url),u=f._query,delete f.config,delete f._url,delete f._query,o=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(m=>m.json()),o.then(m=>Ud(this.apiClient,m))}}async delete(t){var n,r;let o,l="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const f=vA(this.apiClient,t);return l=ke("files/{file}",f._url),u=f._query,delete f.config,delete f._url,delete f._query,o=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(m=>m.json()),o.then(()=>{const m=CA(),d=new oA;return Object.assign(d,m),d})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function EA(e,t){const n={};if(x(t,["videoMetadata"])!==void 0)throw new Error("videoMetadata parameter is not supported in Gemini API.");const r=x(t,["thought"]);r!=null&&v(n,["thought"],r);const o=x(t,["codeExecutionResult"]);o!=null&&v(n,["codeExecutionResult"],o);const l=x(t,["executableCode"]);l!=null&&v(n,["executableCode"],l);const u=x(t,["fileData"]);u!=null&&v(n,["fileData"],u);const f=x(t,["functionCall"]);f!=null&&v(n,["functionCall"],f);const m=x(t,["functionResponse"]);m!=null&&v(n,["functionResponse"],m);const d=x(t,["inlineData"]);d!=null&&v(n,["inlineData"],d);const h=x(t,["text"]);return h!=null&&v(n,["text"],h),n}function AA(e,t){const n={},r=x(t,["videoMetadata"]);r!=null&&v(n,["videoMetadata"],r);const o=x(t,["thought"]);o!=null&&v(n,["thought"],o);const l=x(t,["codeExecutionResult"]);l!=null&&v(n,["codeExecutionResult"],l);const u=x(t,["executableCode"]);u!=null&&v(n,["executableCode"],u);const f=x(t,["fileData"]);f!=null&&v(n,["fileData"],f);const m=x(t,["functionCall"]);m!=null&&v(n,["functionCall"],m);const d=x(t,["functionResponse"]);d!=null&&v(n,["functionResponse"],d);const h=x(t,["inlineData"]);h!=null&&v(n,["inlineData"],h);const g=x(t,["text"]);return g!=null&&v(n,["text"],g),n}function wA(e,t){const n={},r=x(t,["parts"]);if(r!=null){let l=r;Array.isArray(l)&&(l=l.map(u=>EA(e,u))),v(n,["parts"],l)}const o=x(t,["role"]);return o!=null&&v(n,["role"],o),n}function DA(e,t){const n={},r=x(t,["parts"]);if(r!=null){let l=r;Array.isArray(l)&&(l=l.map(u=>AA(e,u))),v(n,["parts"],l)}const o=x(t,["role"]);return o!=null&&v(n,["role"],o),n}function IA(){return{}}function kA(){return{}}function RA(e,t){const n={},r=x(t,["mode"]);r!=null&&v(n,["mode"],r);const o=x(t,["dynamicThreshold"]);return o!=null&&v(n,["dynamicThreshold"],o),n}function NA(e,t){const n={},r=x(t,["mode"]);r!=null&&v(n,["mode"],r);const o=x(t,["dynamicThreshold"]);return o!=null&&v(n,["dynamicThreshold"],o),n}function _A(e,t){const n={},r=x(t,["dynamicRetrievalConfig"]);return r!=null&&v(n,["dynamicRetrievalConfig"],RA(e,r)),n}function LA(e,t){const n={},r=x(t,["dynamicRetrievalConfig"]);return r!=null&&v(n,["dynamicRetrievalConfig"],NA(e,r)),n}function VA(e,t){const n={};if(x(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");x(t,["googleSearch"])!=null&&v(n,["googleSearch"],IA());const o=x(t,["googleSearchRetrieval"]);o!=null&&v(n,["googleSearchRetrieval"],_A(e,o));const l=x(t,["codeExecution"]);l!=null&&v(n,["codeExecution"],l);const u=x(t,["functionDeclarations"]);return u!=null&&v(n,["functionDeclarations"],u),n}function PA(e,t){const n={},r=x(t,["retrieval"]);r!=null&&v(n,["retrieval"],r),x(t,["googleSearch"])!=null&&v(n,["googleSearch"],kA());const l=x(t,["googleSearchRetrieval"]);l!=null&&v(n,["googleSearchRetrieval"],LA(e,l));const u=x(t,["codeExecution"]);u!=null&&v(n,["codeExecution"],u);const f=x(t,["functionDeclarations"]);return f!=null&&v(n,["functionDeclarations"],f),n}function BA(e,t){const n={},r=x(t,["handle"]);if(r!=null&&v(n,["handle"],r),x(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return n}function OA(e,t){const n={},r=x(t,["handle"]);r!=null&&v(n,["handle"],r);const o=x(t,["transparent"]);return o!=null&&v(n,["transparent"],o),n}function FA(){return{}}function sx(){return{}}function zA(e,t){const n={},r=x(t,["disabled"]);r!=null&&v(n,["disabled"],r);const o=x(t,["startOfSpeechSensitivity"]);o!=null&&v(n,["startOfSpeechSensitivity"],o);const l=x(t,["endOfSpeechSensitivity"]);l!=null&&v(n,["endOfSpeechSensitivity"],l);const u=x(t,["prefixPaddingMs"]);u!=null&&v(n,["prefixPaddingMs"],u);const f=x(t,["silenceDurationMs"]);return f!=null&&v(n,["silenceDurationMs"],f),n}function jA(e,t){const n={},r=x(t,["disabled"]);r!=null&&v(n,["disabled"],r);const o=x(t,["startOfSpeechSensitivity"]);o!=null&&v(n,["startOfSpeechSensitivity"],o);const l=x(t,["endOfSpeechSensitivity"]);l!=null&&v(n,["endOfSpeechSensitivity"],l);const u=x(t,["prefixPaddingMs"]);u!=null&&v(n,["prefixPaddingMs"],u);const f=x(t,["silenceDurationMs"]);return f!=null&&v(n,["silenceDurationMs"],f),n}function HA(e,t){const n={},r=x(t,["automaticActivityDetection"]);r!=null&&v(n,["automaticActivityDetection"],zA(e,r));const o=x(t,["activityHandling"]);o!=null&&v(n,["activityHandling"],o);const l=x(t,["turnCoverage"]);return l!=null&&v(n,["turnCoverage"],l),n}function UA(e,t){const n={},r=x(t,["automaticActivityDetection"]);r!=null&&v(n,["automaticActivityDetection"],jA(e,r));const o=x(t,["activityHandling"]);o!=null&&v(n,["activityHandling"],o);const l=x(t,["turnCoverage"]);return l!=null&&v(n,["turnCoverage"],l),n}function GA(e,t){const n={},r=x(t,["targetTokens"]);return r!=null&&v(n,["targetTokens"],r),n}function qA(e,t){const n={},r=x(t,["targetTokens"]);return r!=null&&v(n,["targetTokens"],r),n}function YA(e,t){const n={},r=x(t,["triggerTokens"]);r!=null&&v(n,["triggerTokens"],r);const o=x(t,["slidingWindow"]);return o!=null&&v(n,["slidingWindow"],GA(e,o)),n}function $A(e,t){const n={},r=x(t,["triggerTokens"]);r!=null&&v(n,["triggerTokens"],r);const o=x(t,["slidingWindow"]);return o!=null&&v(n,["slidingWindow"],qA(e,o)),n}function KA(e,t,n){const r={},o=x(t,["generationConfig"]);n!==void 0&&o!=null&&v(n,["setup","generationConfig"],o);const l=x(t,["responseModalities"]);n!==void 0&&l!=null&&v(n,["setup","generationConfig","responseModalities"],l);const u=x(t,["temperature"]);n!==void 0&&u!=null&&v(n,["setup","generationConfig","temperature"],u);const f=x(t,["topP"]);n!==void 0&&f!=null&&v(n,["setup","generationConfig","topP"],f);const m=x(t,["topK"]);n!==void 0&&m!=null&&v(n,["setup","generationConfig","topK"],m);const d=x(t,["maxOutputTokens"]);n!==void 0&&d!=null&&v(n,["setup","generationConfig","maxOutputTokens"],d);const h=x(t,["mediaResolution"]);n!==void 0&&h!=null&&v(n,["setup","generationConfig","mediaResolution"],h);const g=x(t,["seed"]);n!==void 0&&g!=null&&v(n,["setup","generationConfig","seed"],g);const T=x(t,["speechConfig"]);n!==void 0&&T!=null&&v(n,["setup","generationConfig","speechConfig"],T);const S=x(t,["systemInstruction"]);n!==void 0&&S!=null&&v(n,["setup","systemInstruction"],wA(e,on(e,S)));const E=x(t,["tools"]);if(n!==void 0&&E!=null){let R=Lu(e,E);Array.isArray(R)&&(R=R.map(z=>VA(e,_u(e,z)))),v(n,["setup","tools"],R)}const A=x(t,["sessionResumption"]);if(n!==void 0&&A!=null&&v(n,["setup","sessionResumption"],BA(e,A)),x(t,["inputAudioTranscription"])!==void 0)throw new Error("inputAudioTranscription parameter is not supported in Gemini API.");const L=x(t,["outputAudioTranscription"]);n!==void 0&&L!=null&&v(n,["setup","outputAudioTranscription"],FA());const I=x(t,["realtimeInputConfig"]);n!==void 0&&I!=null&&v(n,["setup","realtimeInputConfig"],HA(e,I));const N=x(t,["contextWindowCompression"]);return n!==void 0&&N!=null&&v(n,["setup","contextWindowCompression"],YA(e,N)),r}function XA(e,t,n){const r={},o=x(t,["generationConfig"]);n!==void 0&&o!=null&&v(n,["setup","generationConfig"],o);const l=x(t,["responseModalities"]);n!==void 0&&l!=null&&v(n,["setup","generationConfig","responseModalities"],l);const u=x(t,["temperature"]);n!==void 0&&u!=null&&v(n,["setup","generationConfig","temperature"],u);const f=x(t,["topP"]);n!==void 0&&f!=null&&v(n,["setup","generationConfig","topP"],f);const m=x(t,["topK"]);n!==void 0&&m!=null&&v(n,["setup","generationConfig","topK"],m);const d=x(t,["maxOutputTokens"]);n!==void 0&&d!=null&&v(n,["setup","generationConfig","maxOutputTokens"],d);const h=x(t,["mediaResolution"]);n!==void 0&&h!=null&&v(n,["setup","generationConfig","mediaResolution"],h);const g=x(t,["seed"]);n!==void 0&&g!=null&&v(n,["setup","generationConfig","seed"],g);const T=x(t,["speechConfig"]);n!==void 0&&T!=null&&v(n,["setup","generationConfig","speechConfig"],T);const S=x(t,["systemInstruction"]);n!==void 0&&S!=null&&v(n,["setup","systemInstruction"],DA(e,on(e,S)));const E=x(t,["tools"]);if(n!==void 0&&E!=null){let z=Lu(e,E);Array.isArray(z)&&(z=z.map(G=>PA(e,_u(e,G)))),v(n,["setup","tools"],z)}const A=x(t,["sessionResumption"]);n!==void 0&&A!=null&&v(n,["setup","sessionResumption"],OA(e,A));const L=x(t,["inputAudioTranscription"]);n!==void 0&&L!=null&&v(n,["setup","inputAudioTranscription"],sx());const I=x(t,["outputAudioTranscription"]);n!==void 0&&I!=null&&v(n,["setup","outputAudioTranscription"],sx());const N=x(t,["realtimeInputConfig"]);n!==void 0&&N!=null&&v(n,["setup","realtimeInputConfig"],UA(e,N));const R=x(t,["contextWindowCompression"]);return n!==void 0&&R!=null&&v(n,["setup","contextWindowCompression"],$A(e,R)),r}function WA(e,t){const n={},r=x(t,["model"]);r!=null&&v(n,["setup","model"],yt(e,r));const o=x(t,["config"]);return o!=null&&v(n,["config"],KA(e,o,n)),n}function QA(e,t){const n={},r=x(t,["model"]);r!=null&&v(n,["setup","model"],yt(e,r));const o=x(t,["config"]);return o!=null&&v(n,["config"],XA(e,o,n)),n}function JA(){return{}}function ZA(){return{}}function ew(){return{}}function tw(){return{}}function nw(e,t){const n={},r=x(t,["media"]);r!=null&&v(n,["mediaChunks"],q1(e,r));const o=x(t,["audio"]);o!=null&&v(n,["audio"],TE(e,o));const l=x(t,["audioStreamEnd"]);l!=null&&v(n,["audioStreamEnd"],l);const u=x(t,["video"]);u!=null&&v(n,["video"],bE(e,u));const f=x(t,["text"]);return f!=null&&v(n,["text"],f),x(t,["activityStart"])!=null&&v(n,["activityStart"],JA()),x(t,["activityEnd"])!=null&&v(n,["activityEnd"],ew()),n}function iw(e,t){const n={},r=x(t,["media"]);if(r!=null&&v(n,["mediaChunks"],q1(e,r)),x(t,["audio"])!==void 0)throw new Error("audio parameter is not supported in Vertex AI.");const o=x(t,["audioStreamEnd"]);if(o!=null&&v(n,["audioStreamEnd"],o),x(t,["video"])!==void 0)throw new Error("video parameter is not supported in Vertex AI.");if(x(t,["text"])!==void 0)throw new Error("text parameter is not supported in Vertex AI.");return x(t,["activityStart"])!=null&&v(n,["activityStart"],ZA()),x(t,["activityEnd"])!=null&&v(n,["activityEnd"],tw()),n}function rw(){return{}}function aw(){return{}}function ow(e,t){const n={},r=x(t,["thought"]);r!=null&&v(n,["thought"],r);const o=x(t,["codeExecutionResult"]);o!=null&&v(n,["codeExecutionResult"],o);const l=x(t,["executableCode"]);l!=null&&v(n,["executableCode"],l);const u=x(t,["fileData"]);u!=null&&v(n,["fileData"],u);const f=x(t,["functionCall"]);f!=null&&v(n,["functionCall"],f);const m=x(t,["functionResponse"]);m!=null&&v(n,["functionResponse"],m);const d=x(t,["inlineData"]);d!=null&&v(n,["inlineData"],d);const h=x(t,["text"]);return h!=null&&v(n,["text"],h),n}function sw(e,t){const n={},r=x(t,["videoMetadata"]);r!=null&&v(n,["videoMetadata"],r);const o=x(t,["thought"]);o!=null&&v(n,["thought"],o);const l=x(t,["codeExecutionResult"]);l!=null&&v(n,["codeExecutionResult"],l);const u=x(t,["executableCode"]);u!=null&&v(n,["executableCode"],u);const f=x(t,["fileData"]);f!=null&&v(n,["fileData"],f);const m=x(t,["functionCall"]);m!=null&&v(n,["functionCall"],m);const d=x(t,["functionResponse"]);d!=null&&v(n,["functionResponse"],d);const h=x(t,["inlineData"]);h!=null&&v(n,["inlineData"],h);const g=x(t,["text"]);return g!=null&&v(n,["text"],g),n}function lw(e,t){const n={},r=x(t,["parts"]);if(r!=null){let l=r;Array.isArray(l)&&(l=l.map(u=>ow(e,u))),v(n,["parts"],l)}const o=x(t,["role"]);return o!=null&&v(n,["role"],o),n}function uw(e,t){const n={},r=x(t,["parts"]);if(r!=null){let l=r;Array.isArray(l)&&(l=l.map(u=>sw(e,u))),v(n,["parts"],l)}const o=x(t,["role"]);return o!=null&&v(n,["role"],o),n}function lx(e,t){const n={},r=x(t,["text"]);r!=null&&v(n,["text"],r);const o=x(t,["finished"]);return o!=null&&v(n,["finished"],o),n}function ux(e,t){const n={},r=x(t,["text"]);r!=null&&v(n,["text"],r);const o=x(t,["finished"]);return o!=null&&v(n,["finished"],o),n}function cw(e,t){const n={},r=x(t,["modelTurn"]);r!=null&&v(n,["modelTurn"],lw(e,r));const o=x(t,["turnComplete"]);o!=null&&v(n,["turnComplete"],o);const l=x(t,["interrupted"]);l!=null&&v(n,["interrupted"],l);const u=x(t,["groundingMetadata"]);u!=null&&v(n,["groundingMetadata"],u);const f=x(t,["generationComplete"]);f!=null&&v(n,["generationComplete"],f);const m=x(t,["inputTranscription"]);m!=null&&v(n,["inputTranscription"],lx(e,m));const d=x(t,["outputTranscription"]);return d!=null&&v(n,["outputTranscription"],lx(e,d)),n}function fw(e,t){const n={},r=x(t,["modelTurn"]);r!=null&&v(n,["modelTurn"],uw(e,r));const o=x(t,["turnComplete"]);o!=null&&v(n,["turnComplete"],o);const l=x(t,["interrupted"]);l!=null&&v(n,["interrupted"],l);const u=x(t,["groundingMetadata"]);u!=null&&v(n,["groundingMetadata"],u);const f=x(t,["generationComplete"]);f!=null&&v(n,["generationComplete"],f);const m=x(t,["inputTranscription"]);m!=null&&v(n,["inputTranscription"],ux(e,m));const d=x(t,["outputTranscription"]);return d!=null&&v(n,["outputTranscription"],ux(e,d)),n}function dw(e,t){const n={},r=x(t,["id"]);r!=null&&v(n,["id"],r);const o=x(t,["args"]);o!=null&&v(n,["args"],o);const l=x(t,["name"]);return l!=null&&v(n,["name"],l),n}function mw(e,t){const n={},r=x(t,["args"]);r!=null&&v(n,["args"],r);const o=x(t,["name"]);return o!=null&&v(n,["name"],o),n}function hw(e,t){const n={},r=x(t,["functionCalls"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(l=>dw(e,l))),v(n,["functionCalls"],o)}return n}function pw(e,t){const n={},r=x(t,["functionCalls"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(l=>mw(e,l))),v(n,["functionCalls"],o)}return n}function gw(e,t){const n={},r=x(t,["ids"]);return r!=null&&v(n,["ids"],r),n}function yw(e,t){const n={},r=x(t,["ids"]);return r!=null&&v(n,["ids"],r),n}function Wl(e,t){const n={},r=x(t,["modality"]);r!=null&&v(n,["modality"],r);const o=x(t,["tokenCount"]);return o!=null&&v(n,["tokenCount"],o),n}function Ql(e,t){const n={},r=x(t,["modality"]);r!=null&&v(n,["modality"],r);const o=x(t,["tokenCount"]);return o!=null&&v(n,["tokenCount"],o),n}function xw(e,t){const n={},r=x(t,["promptTokenCount"]);r!=null&&v(n,["promptTokenCount"],r);const o=x(t,["cachedContentTokenCount"]);o!=null&&v(n,["cachedContentTokenCount"],o);const l=x(t,["responseTokenCount"]);l!=null&&v(n,["responseTokenCount"],l);const u=x(t,["toolUsePromptTokenCount"]);u!=null&&v(n,["toolUsePromptTokenCount"],u);const f=x(t,["thoughtsTokenCount"]);f!=null&&v(n,["thoughtsTokenCount"],f);const m=x(t,["totalTokenCount"]);m!=null&&v(n,["totalTokenCount"],m);const d=x(t,["promptTokensDetails"]);if(d!=null){let S=d;Array.isArray(S)&&(S=S.map(E=>Wl(e,E))),v(n,["promptTokensDetails"],S)}const h=x(t,["cacheTokensDetails"]);if(h!=null){let S=h;Array.isArray(S)&&(S=S.map(E=>Wl(e,E))),v(n,["cacheTokensDetails"],S)}const g=x(t,["responseTokensDetails"]);if(g!=null){let S=g;Array.isArray(S)&&(S=S.map(E=>Wl(e,E))),v(n,["responseTokensDetails"],S)}const T=x(t,["toolUsePromptTokensDetails"]);if(T!=null){let S=T;Array.isArray(S)&&(S=S.map(E=>Wl(e,E))),v(n,["toolUsePromptTokensDetails"],S)}return n}function vw(e,t){const n={},r=x(t,["promptTokenCount"]);r!=null&&v(n,["promptTokenCount"],r);const o=x(t,["cachedContentTokenCount"]);o!=null&&v(n,["cachedContentTokenCount"],o);const l=x(t,["candidatesTokenCount"]);l!=null&&v(n,["responseTokenCount"],l);const u=x(t,["toolUsePromptTokenCount"]);u!=null&&v(n,["toolUsePromptTokenCount"],u);const f=x(t,["thoughtsTokenCount"]);f!=null&&v(n,["thoughtsTokenCount"],f);const m=x(t,["totalTokenCount"]);m!=null&&v(n,["totalTokenCount"],m);const d=x(t,["promptTokensDetails"]);if(d!=null){let E=d;Array.isArray(E)&&(E=E.map(A=>Ql(e,A))),v(n,["promptTokensDetails"],E)}const h=x(t,["cacheTokensDetails"]);if(h!=null){let E=h;Array.isArray(E)&&(E=E.map(A=>Ql(e,A))),v(n,["cacheTokensDetails"],E)}const g=x(t,["candidatesTokensDetails"]);if(g!=null){let E=g;Array.isArray(E)&&(E=E.map(A=>Ql(e,A))),v(n,["responseTokensDetails"],E)}const T=x(t,["toolUsePromptTokensDetails"]);if(T!=null){let E=T;Array.isArray(E)&&(E=E.map(A=>Ql(e,A))),v(n,["toolUsePromptTokensDetails"],E)}const S=x(t,["trafficType"]);return S!=null&&v(n,["trafficType"],S),n}function bw(e,t){const n={},r=x(t,["timeLeft"]);return r!=null&&v(n,["timeLeft"],r),n}function Tw(e,t){const n={},r=x(t,["timeLeft"]);return r!=null&&v(n,["timeLeft"],r),n}function Sw(e,t){const n={},r=x(t,["newHandle"]);r!=null&&v(n,["newHandle"],r);const o=x(t,["resumable"]);o!=null&&v(n,["resumable"],o);const l=x(t,["lastConsumedClientMessageIndex"]);return l!=null&&v(n,["lastConsumedClientMessageIndex"],l),n}function Cw(e,t){const n={},r=x(t,["newHandle"]);r!=null&&v(n,["newHandle"],r);const o=x(t,["resumable"]);o!=null&&v(n,["resumable"],o);const l=x(t,["lastConsumedClientMessageIndex"]);return l!=null&&v(n,["lastConsumedClientMessageIndex"],l),n}function Mw(e,t){const n={};x(t,["setupComplete"])!=null&&v(n,["setupComplete"],rw());const o=x(t,["serverContent"]);o!=null&&v(n,["serverContent"],cw(e,o));const l=x(t,["toolCall"]);l!=null&&v(n,["toolCall"],hw(e,l));const u=x(t,["toolCallCancellation"]);u!=null&&v(n,["toolCallCancellation"],gw(e,u));const f=x(t,["usageMetadata"]);f!=null&&v(n,["usageMetadata"],xw(e,f));const m=x(t,["goAway"]);m!=null&&v(n,["goAway"],bw(e,m));const d=x(t,["sessionResumptionUpdate"]);return d!=null&&v(n,["sessionResumptionUpdate"],Sw(e,d)),n}function Ew(e,t){const n={};x(t,["setupComplete"])!=null&&v(n,["setupComplete"],aw());const o=x(t,["serverContent"]);o!=null&&v(n,["serverContent"],fw(e,o));const l=x(t,["toolCall"]);l!=null&&v(n,["toolCall"],pw(e,l));const u=x(t,["toolCallCancellation"]);u!=null&&v(n,["toolCallCancellation"],yw(e,u));const f=x(t,["usageMetadata"]);f!=null&&v(n,["usageMetadata"],vw(e,f));const m=x(t,["goAway"]);m!=null&&v(n,["goAway"],Tw(e,m));const d=x(t,["sessionResumptionUpdate"]);return d!=null&&v(n,["sessionResumptionUpdate"],Cw(e,d)),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Aw(e,t){const n={};if(x(t,["videoMetadata"])!==void 0)throw new Error("videoMetadata parameter is not supported in Gemini API.");const r=x(t,["thought"]);r!=null&&v(n,["thought"],r);const o=x(t,["codeExecutionResult"]);o!=null&&v(n,["codeExecutionResult"],o);const l=x(t,["executableCode"]);l!=null&&v(n,["executableCode"],l);const u=x(t,["fileData"]);u!=null&&v(n,["fileData"],u);const f=x(t,["functionCall"]);f!=null&&v(n,["functionCall"],f);const m=x(t,["functionResponse"]);m!=null&&v(n,["functionResponse"],m);const d=x(t,["inlineData"]);d!=null&&v(n,["inlineData"],d);const h=x(t,["text"]);return h!=null&&v(n,["text"],h),n}function Vu(e,t){const n={},r=x(t,["parts"]);if(r!=null){let l=r;Array.isArray(l)&&(l=l.map(u=>Aw(e,u))),v(n,["parts"],l)}const o=x(t,["role"]);return o!=null&&v(n,["role"],o),n}function ww(e,t){const n={};if(x(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const r=x(t,["category"]);r!=null&&v(n,["category"],r);const o=x(t,["threshold"]);return o!=null&&v(n,["threshold"],o),n}function Dw(){return{}}function Iw(e,t){const n={},r=x(t,["mode"]);r!=null&&v(n,["mode"],r);const o=x(t,["dynamicThreshold"]);return o!=null&&v(n,["dynamicThreshold"],o),n}function kw(e,t){const n={},r=x(t,["dynamicRetrievalConfig"]);return r!=null&&v(n,["dynamicRetrievalConfig"],Iw(e,r)),n}function Rw(e,t){const n={};if(x(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");x(t,["googleSearch"])!=null&&v(n,["googleSearch"],Dw());const o=x(t,["googleSearchRetrieval"]);o!=null&&v(n,["googleSearchRetrieval"],kw(e,o));const l=x(t,["codeExecution"]);l!=null&&v(n,["codeExecution"],l);const u=x(t,["functionDeclarations"]);return u!=null&&v(n,["functionDeclarations"],u),n}function Nw(e,t){const n={},r=x(t,["mode"]);r!=null&&v(n,["mode"],r);const o=x(t,["allowedFunctionNames"]);return o!=null&&v(n,["allowedFunctionNames"],o),n}function _w(e,t){const n={},r=x(t,["functionCallingConfig"]);return r!=null&&v(n,["functionCallingConfig"],Nw(e,r)),n}function Lw(e,t){const n={},r=x(t,["voiceName"]);return r!=null&&v(n,["voiceName"],r),n}function Vw(e,t){const n={},r=x(t,["prebuiltVoiceConfig"]);return r!=null&&v(n,["prebuiltVoiceConfig"],Lw(e,r)),n}function Pw(e,t){const n={},r=x(t,["voiceConfig"]);r!=null&&v(n,["voiceConfig"],Vw(e,r));const o=x(t,["languageCode"]);return o!=null&&v(n,["languageCode"],o),n}function Bw(e,t){const n={},r=x(t,["includeThoughts"]);r!=null&&v(n,["includeThoughts"],r);const o=x(t,["thinkingBudget"]);return o!=null&&v(n,["thinkingBudget"],o),n}function Ow(e,t,n){const r={},o=x(t,["systemInstruction"]);n!==void 0&&o!=null&&v(n,["systemInstruction"],Vu(e,on(e,o)));const l=x(t,["temperature"]);l!=null&&v(r,["temperature"],l);const u=x(t,["topP"]);u!=null&&v(r,["topP"],u);const f=x(t,["topK"]);f!=null&&v(r,["topK"],f);const m=x(t,["candidateCount"]);m!=null&&v(r,["candidateCount"],m);const d=x(t,["maxOutputTokens"]);d!=null&&v(r,["maxOutputTokens"],d);const h=x(t,["stopSequences"]);h!=null&&v(r,["stopSequences"],h);const g=x(t,["responseLogprobs"]);g!=null&&v(r,["responseLogprobs"],g);const T=x(t,["logprobs"]);T!=null&&v(r,["logprobs"],T);const S=x(t,["presencePenalty"]);S!=null&&v(r,["presencePenalty"],S);const E=x(t,["frequencyPenalty"]);E!=null&&v(r,["frequencyPenalty"],E);const A=x(t,["seed"]);A!=null&&v(r,["seed"],A);const L=x(t,["responseMimeType"]);L!=null&&v(r,["responseMimeType"],L);const I=x(t,["responseSchema"]);if(I!=null&&v(r,["responseSchema"],K1(e,I)),x(t,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(x(t,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const N=x(t,["safetySettings"]);if(n!==void 0&&N!=null){let H=N;Array.isArray(H)&&(H=H.map(ce=>ww(e,ce))),v(n,["safetySettings"],H)}const R=x(t,["tools"]);if(n!==void 0&&R!=null){let H=Lu(e,R);Array.isArray(H)&&(H=H.map(ce=>Rw(e,_u(e,ce)))),v(n,["tools"],H)}const z=x(t,["toolConfig"]);if(n!==void 0&&z!=null&&v(n,["toolConfig"],_w(e,z)),x(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const G=x(t,["cachedContent"]);n!==void 0&&G!=null&&v(n,["cachedContent"],ar(e,G));const j=x(t,["responseModalities"]);j!=null&&v(r,["responseModalities"],j);const se=x(t,["mediaResolution"]);se!=null&&v(r,["mediaResolution"],se);const le=x(t,["speechConfig"]);if(le!=null&&v(r,["speechConfig"],Pw(e,X1(e,le))),x(t,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const pe=x(t,["thinkingConfig"]);return pe!=null&&v(r,["thinkingConfig"],Bw(e,pe)),r}function cx(e,t){const n={},r=x(t,["model"]);r!=null&&v(n,["_url","model"],yt(e,r));const o=x(t,["contents"]);if(o!=null){let u=rr(e,o);Array.isArray(u)&&(u=u.map(f=>Vu(e,f))),v(n,["contents"],u)}const l=x(t,["config"]);return l!=null&&v(n,["generationConfig"],Ow(e,l,n)),n}function Fw(e,t,n){const r={},o=x(t,["taskType"]);n!==void 0&&o!=null&&v(n,["requests[]","taskType"],o);const l=x(t,["title"]);n!==void 0&&l!=null&&v(n,["requests[]","title"],l);const u=x(t,["outputDimensionality"]);if(n!==void 0&&u!=null&&v(n,["requests[]","outputDimensionality"],u),x(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(x(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return r}function zw(e,t){const n={},r=x(t,["model"]);r!=null&&v(n,["_url","model"],yt(e,r));const o=x(t,["contents"]);o!=null&&v(n,["requests[]","content"],$1(e,o));const l=x(t,["config"]);l!=null&&v(n,["config"],Fw(e,l,n));const u=x(t,["model"]);return u!==void 0&&v(n,["requests[]","model"],yt(e,u)),n}function jw(e,t,n){const r={};if(x(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(x(t,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const o=x(t,["numberOfImages"]);n!==void 0&&o!=null&&v(n,["parameters","sampleCount"],o);const l=x(t,["aspectRatio"]);n!==void 0&&l!=null&&v(n,["parameters","aspectRatio"],l);const u=x(t,["guidanceScale"]);if(n!==void 0&&u!=null&&v(n,["parameters","guidanceScale"],u),x(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const f=x(t,["safetyFilterLevel"]);n!==void 0&&f!=null&&v(n,["parameters","safetySetting"],f);const m=x(t,["personGeneration"]);n!==void 0&&m!=null&&v(n,["parameters","personGeneration"],m);const d=x(t,["includeSafetyAttributes"]);n!==void 0&&d!=null&&v(n,["parameters","includeSafetyAttributes"],d);const h=x(t,["includeRaiReason"]);n!==void 0&&h!=null&&v(n,["parameters","includeRaiReason"],h);const g=x(t,["language"]);n!==void 0&&g!=null&&v(n,["parameters","language"],g);const T=x(t,["outputMimeType"]);n!==void 0&&T!=null&&v(n,["parameters","outputOptions","mimeType"],T);const S=x(t,["outputCompressionQuality"]);if(n!==void 0&&S!=null&&v(n,["parameters","outputOptions","compressionQuality"],S),x(t,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(x(t,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return r}function Hw(e,t){const n={},r=x(t,["model"]);r!=null&&v(n,["_url","model"],yt(e,r));const o=x(t,["prompt"]);o!=null&&v(n,["instances[0]","prompt"],o);const l=x(t,["config"]);return l!=null&&v(n,["config"],jw(e,l,n)),n}function Uw(e,t){const n={},r=x(t,["model"]);r!=null&&v(n,["_url","name"],yt(e,r));const o=x(t,["config"]);return o!=null&&v(n,["config"],o),n}function Gw(e,t,n){const r={},o=x(t,["displayName"]);n!==void 0&&o!=null&&v(n,["displayName"],o);const l=x(t,["description"]);return n!==void 0&&l!=null&&v(n,["description"],l),r}function qw(e,t){const n={},r=x(t,["model"]);r!=null&&v(n,["_url","name"],yt(e,r));const o=x(t,["config"]);return o!=null&&v(n,["config"],Gw(e,o,n)),n}function Yw(e,t){const n={},r=x(t,["model"]);r!=null&&v(n,["_url","name"],yt(e,r));const o=x(t,["config"]);return o!=null&&v(n,["config"],o),n}function $w(e,t){const n={};if(x(t,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(x(t,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(x(t,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return n}function Kw(e,t){const n={},r=x(t,["model"]);r!=null&&v(n,["_url","model"],yt(e,r));const o=x(t,["contents"]);if(o!=null){let u=rr(e,o);Array.isArray(u)&&(u=u.map(f=>Vu(e,f))),v(n,["contents"],u)}const l=x(t,["config"]);return l!=null&&v(n,["config"],$w(e,l)),n}function Xw(e,t){const n={};if(x(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const r=x(t,["imageBytes"]);r!=null&&v(n,["bytesBase64Encoded"],or(e,r));const o=x(t,["mimeType"]);return o!=null&&v(n,["mimeType"],o),n}function Ww(e,t,n){const r={},o=x(t,["numberOfVideos"]);if(n!==void 0&&o!=null&&v(n,["parameters","sampleCount"],o),x(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(x(t,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const l=x(t,["durationSeconds"]);if(n!==void 0&&l!=null&&v(n,["parameters","durationSeconds"],l),x(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const u=x(t,["aspectRatio"]);if(n!==void 0&&u!=null&&v(n,["parameters","aspectRatio"],u),x(t,["resolution"])!==void 0)throw new Error("resolution parameter is not supported in Gemini API.");const f=x(t,["personGeneration"]);if(n!==void 0&&f!=null&&v(n,["parameters","personGeneration"],f),x(t,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const m=x(t,["negativePrompt"]);if(n!==void 0&&m!=null&&v(n,["parameters","negativePrompt"],m),x(t,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return r}function Qw(e,t){const n={},r=x(t,["model"]);r!=null&&v(n,["_url","model"],yt(e,r));const o=x(t,["prompt"]);o!=null&&v(n,["instances[0]","prompt"],o);const l=x(t,["image"]);l!=null&&v(n,["instances[0]","image"],Xw(e,l));const u=x(t,["config"]);return u!=null&&v(n,["config"],Ww(e,u,n)),n}function Jw(e,t){const n={},r=x(t,["videoMetadata"]);r!=null&&v(n,["videoMetadata"],r);const o=x(t,["thought"]);o!=null&&v(n,["thought"],o);const l=x(t,["codeExecutionResult"]);l!=null&&v(n,["codeExecutionResult"],l);const u=x(t,["executableCode"]);u!=null&&v(n,["executableCode"],u);const f=x(t,["fileData"]);f!=null&&v(n,["fileData"],f);const m=x(t,["functionCall"]);m!=null&&v(n,["functionCall"],m);const d=x(t,["functionResponse"]);d!=null&&v(n,["functionResponse"],d);const h=x(t,["inlineData"]);h!=null&&v(n,["inlineData"],h);const g=x(t,["text"]);return g!=null&&v(n,["text"],g),n}function Ua(e,t){const n={},r=x(t,["parts"]);if(r!=null){let l=r;Array.isArray(l)&&(l=l.map(u=>Jw(e,u))),v(n,["parts"],l)}const o=x(t,["role"]);return o!=null&&v(n,["role"],o),n}function Zw(e,t){const n={},r=x(t,["featureSelectionPreference"]);return r!=null&&v(n,["featureSelectionPreference"],r),n}function eD(e,t){const n={},r=x(t,["method"]);r!=null&&v(n,["method"],r);const o=x(t,["category"]);o!=null&&v(n,["category"],o);const l=x(t,["threshold"]);return l!=null&&v(n,["threshold"],l),n}function tD(){return{}}function nD(e,t){const n={},r=x(t,["mode"]);r!=null&&v(n,["mode"],r);const o=x(t,["dynamicThreshold"]);return o!=null&&v(n,["dynamicThreshold"],o),n}function iD(e,t){const n={},r=x(t,["dynamicRetrievalConfig"]);return r!=null&&v(n,["dynamicRetrievalConfig"],nD(e,r)),n}function Z1(e,t){const n={},r=x(t,["retrieval"]);r!=null&&v(n,["retrieval"],r),x(t,["googleSearch"])!=null&&v(n,["googleSearch"],tD());const l=x(t,["googleSearchRetrieval"]);l!=null&&v(n,["googleSearchRetrieval"],iD(e,l));const u=x(t,["codeExecution"]);u!=null&&v(n,["codeExecution"],u);const f=x(t,["functionDeclarations"]);return f!=null&&v(n,["functionDeclarations"],f),n}function rD(e,t){const n={},r=x(t,["mode"]);r!=null&&v(n,["mode"],r);const o=x(t,["allowedFunctionNames"]);return o!=null&&v(n,["allowedFunctionNames"],o),n}function aD(e,t){const n={},r=x(t,["functionCallingConfig"]);return r!=null&&v(n,["functionCallingConfig"],rD(e,r)),n}function oD(e,t){const n={},r=x(t,["voiceName"]);return r!=null&&v(n,["voiceName"],r),n}function sD(e,t){const n={},r=x(t,["prebuiltVoiceConfig"]);return r!=null&&v(n,["prebuiltVoiceConfig"],oD(e,r)),n}function lD(e,t){const n={},r=x(t,["voiceConfig"]);r!=null&&v(n,["voiceConfig"],sD(e,r));const o=x(t,["languageCode"]);return o!=null&&v(n,["languageCode"],o),n}function uD(e,t){const n={},r=x(t,["includeThoughts"]);r!=null&&v(n,["includeThoughts"],r);const o=x(t,["thinkingBudget"]);return o!=null&&v(n,["thinkingBudget"],o),n}function cD(e,t,n){const r={},o=x(t,["systemInstruction"]);n!==void 0&&o!=null&&v(n,["systemInstruction"],Ua(e,on(e,o)));const l=x(t,["temperature"]);l!=null&&v(r,["temperature"],l);const u=x(t,["topP"]);u!=null&&v(r,["topP"],u);const f=x(t,["topK"]);f!=null&&v(r,["topK"],f);const m=x(t,["candidateCount"]);m!=null&&v(r,["candidateCount"],m);const d=x(t,["maxOutputTokens"]);d!=null&&v(r,["maxOutputTokens"],d);const h=x(t,["stopSequences"]);h!=null&&v(r,["stopSequences"],h);const g=x(t,["responseLogprobs"]);g!=null&&v(r,["responseLogprobs"],g);const T=x(t,["logprobs"]);T!=null&&v(r,["logprobs"],T);const S=x(t,["presencePenalty"]);S!=null&&v(r,["presencePenalty"],S);const E=x(t,["frequencyPenalty"]);E!=null&&v(r,["frequencyPenalty"],E);const A=x(t,["seed"]);A!=null&&v(r,["seed"],A);const L=x(t,["responseMimeType"]);L!=null&&v(r,["responseMimeType"],L);const I=x(t,["responseSchema"]);I!=null&&v(r,["responseSchema"],K1(e,I));const N=x(t,["routingConfig"]);N!=null&&v(r,["routingConfig"],N);const R=x(t,["modelSelectionConfig"]);R!=null&&v(r,["modelConfig"],Zw(e,R));const z=x(t,["safetySettings"]);if(n!==void 0&&z!=null){let fe=z;Array.isArray(fe)&&(fe=fe.map(he=>eD(e,he))),v(n,["safetySettings"],fe)}const G=x(t,["tools"]);if(n!==void 0&&G!=null){let fe=Lu(e,G);Array.isArray(fe)&&(fe=fe.map(he=>Z1(e,_u(e,he)))),v(n,["tools"],fe)}const j=x(t,["toolConfig"]);n!==void 0&&j!=null&&v(n,["toolConfig"],aD(e,j));const se=x(t,["labels"]);n!==void 0&&se!=null&&v(n,["labels"],se);const le=x(t,["cachedContent"]);n!==void 0&&le!=null&&v(n,["cachedContent"],ar(e,le));const pe=x(t,["responseModalities"]);pe!=null&&v(r,["responseModalities"],pe);const H=x(t,["mediaResolution"]);H!=null&&v(r,["mediaResolution"],H);const ce=x(t,["speechConfig"]);ce!=null&&v(r,["speechConfig"],lD(e,X1(e,ce)));const J=x(t,["audioTimestamp"]);J!=null&&v(r,["audioTimestamp"],J);const me=x(t,["thinkingConfig"]);return me!=null&&v(r,["thinkingConfig"],uD(e,me)),r}function fx(e,t){const n={},r=x(t,["model"]);r!=null&&v(n,["_url","model"],yt(e,r));const o=x(t,["contents"]);if(o!=null){let u=rr(e,o);Array.isArray(u)&&(u=u.map(f=>Ua(e,f))),v(n,["contents"],u)}const l=x(t,["config"]);return l!=null&&v(n,["generationConfig"],cD(e,l,n)),n}function fD(e,t,n){const r={},o=x(t,["taskType"]);n!==void 0&&o!=null&&v(n,["instances[]","task_type"],o);const l=x(t,["title"]);n!==void 0&&l!=null&&v(n,["instances[]","title"],l);const u=x(t,["outputDimensionality"]);n!==void 0&&u!=null&&v(n,["parameters","outputDimensionality"],u);const f=x(t,["mimeType"]);n!==void 0&&f!=null&&v(n,["instances[]","mimeType"],f);const m=x(t,["autoTruncate"]);return n!==void 0&&m!=null&&v(n,["parameters","autoTruncate"],m),r}function dD(e,t){const n={},r=x(t,["model"]);r!=null&&v(n,["_url","model"],yt(e,r));const o=x(t,["contents"]);o!=null&&v(n,["instances[]","content"],$1(e,o));const l=x(t,["config"]);return l!=null&&v(n,["config"],fD(e,l,n)),n}function mD(e,t,n){const r={},o=x(t,["outputGcsUri"]);n!==void 0&&o!=null&&v(n,["parameters","storageUri"],o);const l=x(t,["negativePrompt"]);n!==void 0&&l!=null&&v(n,["parameters","negativePrompt"],l);const u=x(t,["numberOfImages"]);n!==void 0&&u!=null&&v(n,["parameters","sampleCount"],u);const f=x(t,["aspectRatio"]);n!==void 0&&f!=null&&v(n,["parameters","aspectRatio"],f);const m=x(t,["guidanceScale"]);n!==void 0&&m!=null&&v(n,["parameters","guidanceScale"],m);const d=x(t,["seed"]);n!==void 0&&d!=null&&v(n,["parameters","seed"],d);const h=x(t,["safetyFilterLevel"]);n!==void 0&&h!=null&&v(n,["parameters","safetySetting"],h);const g=x(t,["personGeneration"]);n!==void 0&&g!=null&&v(n,["parameters","personGeneration"],g);const T=x(t,["includeSafetyAttributes"]);n!==void 0&&T!=null&&v(n,["parameters","includeSafetyAttributes"],T);const S=x(t,["includeRaiReason"]);n!==void 0&&S!=null&&v(n,["parameters","includeRaiReason"],S);const E=x(t,["language"]);n!==void 0&&E!=null&&v(n,["parameters","language"],E);const A=x(t,["outputMimeType"]);n!==void 0&&A!=null&&v(n,["parameters","outputOptions","mimeType"],A);const L=x(t,["outputCompressionQuality"]);n!==void 0&&L!=null&&v(n,["parameters","outputOptions","compressionQuality"],L);const I=x(t,["addWatermark"]);n!==void 0&&I!=null&&v(n,["parameters","addWatermark"],I);const N=x(t,["enhancePrompt"]);return n!==void 0&&N!=null&&v(n,["parameters","enhancePrompt"],N),r}function hD(e,t){const n={},r=x(t,["model"]);r!=null&&v(n,["_url","model"],yt(e,r));const o=x(t,["prompt"]);o!=null&&v(n,["instances[0]","prompt"],o);const l=x(t,["config"]);return l!=null&&v(n,["config"],mD(e,l,n)),n}function pD(e,t){const n={},r=x(t,["model"]);r!=null&&v(n,["_url","name"],yt(e,r));const o=x(t,["config"]);return o!=null&&v(n,["config"],o),n}function gD(e,t,n){const r={},o=x(t,["displayName"]);n!==void 0&&o!=null&&v(n,["displayName"],o);const l=x(t,["description"]);return n!==void 0&&l!=null&&v(n,["description"],l),r}function yD(e,t){const n={},r=x(t,["model"]);r!=null&&v(n,["_url","model"],yt(e,r));const o=x(t,["config"]);return o!=null&&v(n,["config"],gD(e,o,n)),n}function xD(e,t){const n={},r=x(t,["model"]);r!=null&&v(n,["_url","name"],yt(e,r));const o=x(t,["config"]);return o!=null&&v(n,["config"],o),n}function vD(e,t,n){const r={},o=x(t,["systemInstruction"]);n!==void 0&&o!=null&&v(n,["systemInstruction"],Ua(e,on(e,o)));const l=x(t,["tools"]);if(n!==void 0&&l!=null){let f=l;Array.isArray(f)&&(f=f.map(m=>Z1(e,m))),v(n,["tools"],f)}const u=x(t,["generationConfig"]);return n!==void 0&&u!=null&&v(n,["generationConfig"],u),r}function bD(e,t){const n={},r=x(t,["model"]);r!=null&&v(n,["_url","model"],yt(e,r));const o=x(t,["contents"]);if(o!=null){let u=rr(e,o);Array.isArray(u)&&(u=u.map(f=>Ua(e,f))),v(n,["contents"],u)}const l=x(t,["config"]);return l!=null&&v(n,["config"],vD(e,l,n)),n}function TD(e,t){const n={},r=x(t,["model"]);r!=null&&v(n,["_url","model"],yt(e,r));const o=x(t,["contents"]);if(o!=null){let u=rr(e,o);Array.isArray(u)&&(u=u.map(f=>Ua(e,f))),v(n,["contents"],u)}const l=x(t,["config"]);return l!=null&&v(n,["config"],l),n}function SD(e,t){const n={},r=x(t,["gcsUri"]);r!=null&&v(n,["gcsUri"],r);const o=x(t,["imageBytes"]);o!=null&&v(n,["bytesBase64Encoded"],or(e,o));const l=x(t,["mimeType"]);return l!=null&&v(n,["mimeType"],l),n}function CD(e,t,n){const r={},o=x(t,["numberOfVideos"]);n!==void 0&&o!=null&&v(n,["parameters","sampleCount"],o);const l=x(t,["outputGcsUri"]);n!==void 0&&l!=null&&v(n,["parameters","storageUri"],l);const u=x(t,["fps"]);n!==void 0&&u!=null&&v(n,["parameters","fps"],u);const f=x(t,["durationSeconds"]);n!==void 0&&f!=null&&v(n,["parameters","durationSeconds"],f);const m=x(t,["seed"]);n!==void 0&&m!=null&&v(n,["parameters","seed"],m);const d=x(t,["aspectRatio"]);n!==void 0&&d!=null&&v(n,["parameters","aspectRatio"],d);const h=x(t,["resolution"]);n!==void 0&&h!=null&&v(n,["parameters","resolution"],h);const g=x(t,["personGeneration"]);n!==void 0&&g!=null&&v(n,["parameters","personGeneration"],g);const T=x(t,["pubsubTopic"]);n!==void 0&&T!=null&&v(n,["parameters","pubsubTopic"],T);const S=x(t,["negativePrompt"]);n!==void 0&&S!=null&&v(n,["parameters","negativePrompt"],S);const E=x(t,["enhancePrompt"]);return n!==void 0&&E!=null&&v(n,["parameters","enhancePrompt"],E),r}function MD(e,t){const n={},r=x(t,["model"]);r!=null&&v(n,["_url","model"],yt(e,r));const o=x(t,["prompt"]);o!=null&&v(n,["instances[0]","prompt"],o);const l=x(t,["image"]);l!=null&&v(n,["instances[0]","image"],SD(e,l));const u=x(t,["config"]);return u!=null&&v(n,["config"],CD(e,u,n)),n}function ED(e,t){const n={},r=x(t,["thought"]);r!=null&&v(n,["thought"],r);const o=x(t,["codeExecutionResult"]);o!=null&&v(n,["codeExecutionResult"],o);const l=x(t,["executableCode"]);l!=null&&v(n,["executableCode"],l);const u=x(t,["fileData"]);u!=null&&v(n,["fileData"],u);const f=x(t,["functionCall"]);f!=null&&v(n,["functionCall"],f);const m=x(t,["functionResponse"]);m!=null&&v(n,["functionResponse"],m);const d=x(t,["inlineData"]);d!=null&&v(n,["inlineData"],d);const h=x(t,["text"]);return h!=null&&v(n,["text"],h),n}function AD(e,t){const n={},r=x(t,["parts"]);if(r!=null){let l=r;Array.isArray(l)&&(l=l.map(u=>ED(e,u))),v(n,["parts"],l)}const o=x(t,["role"]);return o!=null&&v(n,["role"],o),n}function wD(e,t){const n={},r=x(t,["citationSources"]);return r!=null&&v(n,["citations"],r),n}function DD(e,t){const n={},r=x(t,["content"]);r!=null&&v(n,["content"],AD(e,r));const o=x(t,["citationMetadata"]);o!=null&&v(n,["citationMetadata"],wD(e,o));const l=x(t,["tokenCount"]);l!=null&&v(n,["tokenCount"],l);const u=x(t,["finishReason"]);u!=null&&v(n,["finishReason"],u);const f=x(t,["avgLogprobs"]);f!=null&&v(n,["avgLogprobs"],f);const m=x(t,["groundingMetadata"]);m!=null&&v(n,["groundingMetadata"],m);const d=x(t,["index"]);d!=null&&v(n,["index"],d);const h=x(t,["logprobsResult"]);h!=null&&v(n,["logprobsResult"],h);const g=x(t,["safetyRatings"]);return g!=null&&v(n,["safetyRatings"],g),n}function dx(e,t){const n={},r=x(t,["candidates"]);if(r!=null){let f=r;Array.isArray(f)&&(f=f.map(m=>DD(e,m))),v(n,["candidates"],f)}const o=x(t,["modelVersion"]);o!=null&&v(n,["modelVersion"],o);const l=x(t,["promptFeedback"]);l!=null&&v(n,["promptFeedback"],l);const u=x(t,["usageMetadata"]);return u!=null&&v(n,["usageMetadata"],u),n}function ID(e,t){const n={},r=x(t,["values"]);return r!=null&&v(n,["values"],r),n}function kD(){return{}}function RD(e,t){const n={},r=x(t,["embeddings"]);if(r!=null){let l=r;Array.isArray(l)&&(l=l.map(u=>ID(e,u))),v(n,["embeddings"],l)}return x(t,["metadata"])!=null&&v(n,["metadata"],kD()),n}function ND(e,t){const n={},r=x(t,["bytesBase64Encoded"]);r!=null&&v(n,["imageBytes"],or(e,r));const o=x(t,["mimeType"]);return o!=null&&v(n,["mimeType"],o),n}function eb(e,t){const n={},r=x(t,["safetyAttributes","categories"]);r!=null&&v(n,["categories"],r);const o=x(t,["safetyAttributes","scores"]);o!=null&&v(n,["scores"],o);const l=x(t,["contentType"]);return l!=null&&v(n,["contentType"],l),n}function _D(e,t){const n={},r=x(t,["_self"]);r!=null&&v(n,["image"],ND(e,r));const o=x(t,["raiFilteredReason"]);o!=null&&v(n,["raiFilteredReason"],o);const l=x(t,["_self"]);return l!=null&&v(n,["safetyAttributes"],eb(e,l)),n}function LD(e,t){const n={},r=x(t,["predictions"]);if(r!=null){let l=r;Array.isArray(l)&&(l=l.map(u=>_D(e,u))),v(n,["generatedImages"],l)}const o=x(t,["positivePromptSafetyAttributes"]);return o!=null&&v(n,["positivePromptSafetyAttributes"],eb(e,o)),n}function VD(e,t){const n={},r=x(t,["baseModel"]);r!=null&&v(n,["baseModel"],r);const o=x(t,["createTime"]);o!=null&&v(n,["createTime"],o);const l=x(t,["updateTime"]);return l!=null&&v(n,["updateTime"],l),n}function mx(e,t){const n={},r=x(t,["name"]);r!=null&&v(n,["name"],r);const o=x(t,["displayName"]);o!=null&&v(n,["displayName"],o);const l=x(t,["description"]);l!=null&&v(n,["description"],l);const u=x(t,["version"]);u!=null&&v(n,["version"],u);const f=x(t,["_self"]);f!=null&&v(n,["tunedModelInfo"],VD(e,f));const m=x(t,["inputTokenLimit"]);m!=null&&v(n,["inputTokenLimit"],m);const d=x(t,["outputTokenLimit"]);d!=null&&v(n,["outputTokenLimit"],d);const h=x(t,["supportedGenerationMethods"]);return h!=null&&v(n,["supportedActions"],h),n}function PD(){return{}}function BD(e,t){const n={},r=x(t,["totalTokens"]);r!=null&&v(n,["totalTokens"],r);const o=x(t,["cachedContentTokenCount"]);return o!=null&&v(n,["cachedContentTokenCount"],o),n}function OD(e,t){const n={},r=x(t,["video","uri"]);r!=null&&v(n,["uri"],r);const o=x(t,["video","encodedVideo"]);o!=null&&v(n,["videoBytes"],or(e,o));const l=x(t,["encoding"]);return l!=null&&v(n,["mimeType"],l),n}function FD(e,t){const n={},r=x(t,["_self"]);return r!=null&&v(n,["video"],OD(e,r)),n}function zD(e,t){const n={},r=x(t,["generatedSamples"]);if(r!=null){let u=r;Array.isArray(u)&&(u=u.map(f=>FD(e,f))),v(n,["generatedVideos"],u)}const o=x(t,["raiMediaFilteredCount"]);o!=null&&v(n,["raiMediaFilteredCount"],o);const l=x(t,["raiMediaFilteredReasons"]);return l!=null&&v(n,["raiMediaFilteredReasons"],l),n}function jD(e,t){const n={},r=x(t,["name"]);r!=null&&v(n,["name"],r);const o=x(t,["metadata"]);o!=null&&v(n,["metadata"],o);const l=x(t,["done"]);l!=null&&v(n,["done"],l);const u=x(t,["error"]);u!=null&&v(n,["error"],u);const f=x(t,["response","generateVideoResponse"]);return f!=null&&v(n,["response"],zD(e,f)),n}function HD(e,t){const n={},r=x(t,["videoMetadata"]);r!=null&&v(n,["videoMetadata"],r);const o=x(t,["thought"]);o!=null&&v(n,["thought"],o);const l=x(t,["codeExecutionResult"]);l!=null&&v(n,["codeExecutionResult"],l);const u=x(t,["executableCode"]);u!=null&&v(n,["executableCode"],u);const f=x(t,["fileData"]);f!=null&&v(n,["fileData"],f);const m=x(t,["functionCall"]);m!=null&&v(n,["functionCall"],m);const d=x(t,["functionResponse"]);d!=null&&v(n,["functionResponse"],d);const h=x(t,["inlineData"]);h!=null&&v(n,["inlineData"],h);const g=x(t,["text"]);return g!=null&&v(n,["text"],g),n}function UD(e,t){const n={},r=x(t,["parts"]);if(r!=null){let l=r;Array.isArray(l)&&(l=l.map(u=>HD(e,u))),v(n,["parts"],l)}const o=x(t,["role"]);return o!=null&&v(n,["role"],o),n}function GD(e,t){const n={},r=x(t,["citations"]);return r!=null&&v(n,["citations"],r),n}function qD(e,t){const n={},r=x(t,["content"]);r!=null&&v(n,["content"],UD(e,r));const o=x(t,["citationMetadata"]);o!=null&&v(n,["citationMetadata"],GD(e,o));const l=x(t,["finishMessage"]);l!=null&&v(n,["finishMessage"],l);const u=x(t,["finishReason"]);u!=null&&v(n,["finishReason"],u);const f=x(t,["avgLogprobs"]);f!=null&&v(n,["avgLogprobs"],f);const m=x(t,["groundingMetadata"]);m!=null&&v(n,["groundingMetadata"],m);const d=x(t,["index"]);d!=null&&v(n,["index"],d);const h=x(t,["logprobsResult"]);h!=null&&v(n,["logprobsResult"],h);const g=x(t,["safetyRatings"]);return g!=null&&v(n,["safetyRatings"],g),n}function hx(e,t){const n={},r=x(t,["candidates"]);if(r!=null){let d=r;Array.isArray(d)&&(d=d.map(h=>qD(e,h))),v(n,["candidates"],d)}const o=x(t,["createTime"]);o!=null&&v(n,["createTime"],o);const l=x(t,["responseId"]);l!=null&&v(n,["responseId"],l);const u=x(t,["modelVersion"]);u!=null&&v(n,["modelVersion"],u);const f=x(t,["promptFeedback"]);f!=null&&v(n,["promptFeedback"],f);const m=x(t,["usageMetadata"]);return m!=null&&v(n,["usageMetadata"],m),n}function YD(e,t){const n={},r=x(t,["truncated"]);r!=null&&v(n,["truncated"],r);const o=x(t,["token_count"]);return o!=null&&v(n,["tokenCount"],o),n}function $D(e,t){const n={},r=x(t,["values"]);r!=null&&v(n,["values"],r);const o=x(t,["statistics"]);return o!=null&&v(n,["statistics"],YD(e,o)),n}function KD(e,t){const n={},r=x(t,["billableCharacterCount"]);return r!=null&&v(n,["billableCharacterCount"],r),n}function XD(e,t){const n={},r=x(t,["predictions[]","embeddings"]);if(r!=null){let l=r;Array.isArray(l)&&(l=l.map(u=>$D(e,u))),v(n,["embeddings"],l)}const o=x(t,["metadata"]);return o!=null&&v(n,["metadata"],KD(e,o)),n}function WD(e,t){const n={},r=x(t,["gcsUri"]);r!=null&&v(n,["gcsUri"],r);const o=x(t,["bytesBase64Encoded"]);o!=null&&v(n,["imageBytes"],or(e,o));const l=x(t,["mimeType"]);return l!=null&&v(n,["mimeType"],l),n}function tb(e,t){const n={},r=x(t,["safetyAttributes","categories"]);r!=null&&v(n,["categories"],r);const o=x(t,["safetyAttributes","scores"]);o!=null&&v(n,["scores"],o);const l=x(t,["contentType"]);return l!=null&&v(n,["contentType"],l),n}function QD(e,t){const n={},r=x(t,["_self"]);r!=null&&v(n,["image"],WD(e,r));const o=x(t,["raiFilteredReason"]);o!=null&&v(n,["raiFilteredReason"],o);const l=x(t,["_self"]);l!=null&&v(n,["safetyAttributes"],tb(e,l));const u=x(t,["prompt"]);return u!=null&&v(n,["enhancedPrompt"],u),n}function JD(e,t){const n={},r=x(t,["predictions"]);if(r!=null){let l=r;Array.isArray(l)&&(l=l.map(u=>QD(e,u))),v(n,["generatedImages"],l)}const o=x(t,["positivePromptSafetyAttributes"]);return o!=null&&v(n,["positivePromptSafetyAttributes"],tb(e,o)),n}function ZD(e,t){const n={},r=x(t,["endpoint"]);r!=null&&v(n,["name"],r);const o=x(t,["deployedModelId"]);return o!=null&&v(n,["deployedModelId"],o),n}function e2(e,t){const n={},r=x(t,["labels","google-vertex-llm-tuning-base-model-id"]);r!=null&&v(n,["baseModel"],r);const o=x(t,["createTime"]);o!=null&&v(n,["createTime"],o);const l=x(t,["updateTime"]);return l!=null&&v(n,["updateTime"],l),n}function px(e,t){const n={},r=x(t,["name"]);r!=null&&v(n,["name"],r);const o=x(t,["displayName"]);o!=null&&v(n,["displayName"],o);const l=x(t,["description"]);l!=null&&v(n,["description"],l);const u=x(t,["versionId"]);u!=null&&v(n,["version"],u);const f=x(t,["deployedModels"]);if(f!=null){let h=f;Array.isArray(h)&&(h=h.map(g=>ZD(e,g))),v(n,["endpoints"],h)}const m=x(t,["labels"]);m!=null&&v(n,["labels"],m);const d=x(t,["_self"]);return d!=null&&v(n,["tunedModelInfo"],e2(e,d)),n}function t2(){return{}}function n2(e,t){const n={},r=x(t,["totalTokens"]);return r!=null&&v(n,["totalTokens"],r),n}function i2(e,t){const n={},r=x(t,["tokensInfo"]);return r!=null&&v(n,["tokensInfo"],r),n}function r2(e,t){const n={},r=x(t,["gcsUri"]);r!=null&&v(n,["uri"],r);const o=x(t,["bytesBase64Encoded"]);o!=null&&v(n,["videoBytes"],or(e,o));const l=x(t,["mimeType"]);return l!=null&&v(n,["mimeType"],l),n}function a2(e,t){const n={},r=x(t,["_self"]);return r!=null&&v(n,["video"],r2(e,r)),n}function o2(e,t){const n={},r=x(t,["videos"]);if(r!=null){let u=r;Array.isArray(u)&&(u=u.map(f=>a2(e,f))),v(n,["generatedVideos"],u)}const o=x(t,["raiMediaFilteredCount"]);o!=null&&v(n,["raiMediaFilteredCount"],o);const l=x(t,["raiMediaFilteredReasons"]);return l!=null&&v(n,["raiMediaFilteredReasons"],l),n}function s2(e,t){const n={},r=x(t,["name"]);r!=null&&v(n,["name"],r);const o=x(t,["metadata"]);o!=null&&v(n,["metadata"],o);const l=x(t,["done"]);l!=null&&v(n,["done"],l);const u=x(t,["error"]);u!=null&&v(n,["error"],u);const f=x(t,["response"]);return f!=null&&v(n,["response"],o2(e,f)),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const l2="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function u2(e,t,n){let r,o;n.data instanceof Blob?o=JSON.parse(await n.data.text()):o=JSON.parse(n.data),e.isVertexAI()?r=Ew(e,o):r=Mw(e,o),t(r)}class c2{constructor(t,n,r){this.apiClient=t,this.auth=n,this.webSocketFactory=r}async connect(t){var n,r,o,l;const u=this.apiClient.getWebsocketBaseUrl(),f=this.apiClient.getApiVersion();let m;const d=h2(this.apiClient.getDefaultHeaders());if(this.apiClient.isVertexAI())m=`${u}/ws/google.cloud.aiplatform.${f}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(d);else{const z=this.apiClient.getApiKey();m=`${u}/ws/google.ai.generativelanguage.${f}.GenerativeService.BidiGenerateContent?key=${z}`}let h=()=>{};const g=new Promise(z=>{h=z}),T=t.callbacks,S=function(){var z;(z=T==null?void 0:T.onopen)===null||z===void 0||z.call(T),h({})},E=this.apiClient,A={onopen:S,onmessage:z=>{u2(E,T.onmessage,z)},onerror:(n=T==null?void 0:T.onerror)!==null&&n!==void 0?n:function(z){},onclose:(r=T==null?void 0:T.onclose)!==null&&r!==void 0?r:function(z){}},L=this.webSocketFactory.create(m,m2(d),A);L.connect(),await g;let I=yt(this.apiClient,t.model);if(this.apiClient.isVertexAI()&&I.startsWith("publishers/")){const z=this.apiClient.getProject(),G=this.apiClient.getLocation();I=`projects/${z}/locations/${G}/`+I}let N={};this.apiClient.isVertexAI()&&((o=t.config)===null||o===void 0?void 0:o.responseModalities)===void 0&&(t.config===void 0?t.config={responseModalities:[bu.AUDIO]}:t.config.responseModalities=[bu.AUDIO]),!((l=t.config)===null||l===void 0)&&l.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const R={model:I,config:t.config,callbacks:t.callbacks};return this.apiClient.isVertexAI()?N=QA(this.apiClient,R):N=WA(this.apiClient,R),delete N.config,L.send(JSON.stringify(N)),new d2(L,this.apiClient)}}const f2={turnComplete:!0};class d2{constructor(t,n){this.conn=t,this.apiClient=n}tLiveClientContent(t,n){if(n.turns!==null&&n.turns!==void 0){let r=[];try{r=rr(t,n.turns),t.isVertexAI()?r=r.map(o=>Ua(t,o)):r=r.map(o=>Vu(t,o))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof n.turns}'`)}return{clientContent:{turns:r,turnComplete:n.turnComplete}}}return{clientContent:{turnComplete:n.turnComplete}}}tLiveClienttToolResponse(t,n){let r=[];if(n.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(n.functionResponses)?r=n.functionResponses:r=[n.functionResponses],r.length===0)throw new Error("functionResponses is required.");for(const l of r){if(typeof l!="object"||l===null||!("name"in l)||!("response"in l))throw new Error(`Could not parse function response, type '${typeof l}'.`);if(!t.isVertexAI()&&!("id"in l))throw new Error(l2)}return{toolResponse:{functionResponses:r}}}sendClientContent(t){t=Object.assign(Object.assign({},f2),t);const n=this.tLiveClientContent(this.apiClient,t);this.conn.send(JSON.stringify(n))}sendRealtimeInput(t){let n={};this.apiClient.isVertexAI()?n={realtimeInput:iw(this.apiClient,t)}:n={realtimeInput:nw(this.apiClient,t)},this.conn.send(JSON.stringify(n))}sendToolResponse(t){if(t.functionResponses==null)throw new Error("Tool response parameters are required.");const n=this.tLiveClienttToolResponse(this.apiClient,t);this.conn.send(JSON.stringify(n))}close(){this.conn.close()}}function m2(e){const t={};return e.forEach((n,r)=>{t[r]=n}),t}function h2(e){const t=new Headers;for(const[n,r]of Object.entries(e))t.append(n,r);return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class p2 extends Ds{constructor(t){super(),this.apiClient=t,this.generateContent=async n=>await this.generateContentInternal(n),this.generateContentStream=async n=>await this.generateContentStreamInternal(n),this.generateImages=async n=>await this.generateImagesInternal(n).then(r=>{var o;let l;const u=[];if(r!=null&&r.generatedImages)for(const m of r.generatedImages)m&&(m!=null&&m.safetyAttributes)&&((o=m==null?void 0:m.safetyAttributes)===null||o===void 0?void 0:o.contentType)==="Positive Prompt"?l=m==null?void 0:m.safetyAttributes:u.push(m);let f;return l?f={generatedImages:u,positivePromptSafetyAttributes:l}:f={generatedImages:u},f})}async generateContentInternal(t){var n,r,o,l;let u,f="",m={};if(this.apiClient.isVertexAI()){const d=fx(this.apiClient,t);return f=ke("{model}:generateContent",d._url),m=d._query,delete d.config,delete d._url,delete d._query,u=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),u.then(h=>{const g=hx(this.apiClient,h),T=new Xl;return Object.assign(T,g),T})}else{const d=cx(this.apiClient,t);return f=ke("{model}:generateContent",d._url),m=d._query,delete d.config,delete d._url,delete d._query,u=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(h=>h.json()),u.then(h=>{const g=dx(this.apiClient,h),T=new Xl;return Object.assign(T,g),T})}}async generateContentStreamInternal(t){var n,r,o,l;let u,f="",m={};if(this.apiClient.isVertexAI()){const d=fx(this.apiClient,t);f=ke("{model}:streamGenerateContent?alt=sse",d._url),m=d._query,delete d.config,delete d._url,delete d._query;const h=this.apiClient;return u=h.requestStream({path:f,queryParams:m,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}),u.then(function(g){return Tu(this,arguments,function*(){var T,S,E,A;try{for(var L=!0,I=Hd(g),N;N=yield Gt(I.next()),T=N.done,!T;L=!0){A=N.value,L=!1;const z=hx(h,yield Gt(A.json())),G=new Xl;Object.assign(G,z),yield yield Gt(G)}}catch(R){S={error:R}}finally{try{!L&&!T&&(E=I.return)&&(yield Gt(E.call(I)))}finally{if(S)throw S.error}}})})}else{const d=cx(this.apiClient,t);f=ke("{model}:streamGenerateContent?alt=sse",d._url),m=d._query,delete d.config,delete d._url,delete d._query;const h=this.apiClient;return u=h.requestStream({path:f,queryParams:m,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}),u.then(function(g){return Tu(this,arguments,function*(){var T,S,E,A;try{for(var L=!0,I=Hd(g),N;N=yield Gt(I.next()),T=N.done,!T;L=!0){A=N.value,L=!1;const z=dx(h,yield Gt(A.json())),G=new Xl;Object.assign(G,z),yield yield Gt(G)}}catch(R){S={error:R}}finally{try{!L&&!T&&(E=I.return)&&(yield Gt(E.call(I)))}finally{if(S)throw S.error}}})})}}async embedContent(t){var n,r,o,l;let u,f="",m={};if(this.apiClient.isVertexAI()){const d=dD(this.apiClient,t);return f=ke("{model}:predict",d._url),m=d._query,delete d.config,delete d._url,delete d._query,u=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),u.then(h=>{const g=XD(this.apiClient,h),T=new Z0;return Object.assign(T,g),T})}else{const d=zw(this.apiClient,t);return f=ke("{model}:batchEmbedContents",d._url),m=d._query,delete d.config,delete d._url,delete d._query,u=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(h=>h.json()),u.then(h=>{const g=RD(this.apiClient,h),T=new Z0;return Object.assign(T,g),T})}}async generateImagesInternal(t){var n,r,o,l;let u,f="",m={};if(this.apiClient.isVertexAI()){const d=hD(this.apiClient,t);return f=ke("{model}:predict",d._url),m=d._query,delete d.config,delete d._url,delete d._query,u=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),u.then(h=>{const g=JD(this.apiClient,h),T=new ex;return Object.assign(T,g),T})}else{const d=Hw(this.apiClient,t);return f=ke("{model}:predict",d._url),m=d._query,delete d.config,delete d._url,delete d._query,u=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(h=>h.json()),u.then(h=>{const g=LD(this.apiClient,h),T=new ex;return Object.assign(T,g),T})}}async get(t){var n,r,o,l;let u,f="",m={};if(this.apiClient.isVertexAI()){const d=pD(this.apiClient,t);return f=ke("{name}",d._url),m=d._query,delete d.config,delete d._url,delete d._query,u=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),u.then(h=>px(this.apiClient,h))}else{const d=Uw(this.apiClient,t);return f=ke("{name}",d._url),m=d._query,delete d.config,delete d._url,delete d._query,u=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(h=>h.json()),u.then(h=>mx(this.apiClient,h))}}async update(t){var n,r,o,l;let u,f="",m={};if(this.apiClient.isVertexAI()){const d=yD(this.apiClient,t);return f=ke("{model}",d._url),m=d._query,delete d.config,delete d._url,delete d._query,u=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(d),httpMethod:"PATCH",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),u.then(h=>px(this.apiClient,h))}else{const d=qw(this.apiClient,t);return f=ke("{name}",d._url),m=d._query,delete d.config,delete d._url,delete d._query,u=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(d),httpMethod:"PATCH",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(h=>h.json()),u.then(h=>mx(this.apiClient,h))}}async delete(t){var n,r,o,l;let u,f="",m={};if(this.apiClient.isVertexAI()){const d=xD(this.apiClient,t);return f=ke("{name}",d._url),m=d._query,delete d.config,delete d._url,delete d._query,u=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),u.then(()=>{const h=t2(),g=new tx;return Object.assign(g,h),g})}else{const d=Yw(this.apiClient,t);return f=ke("{name}",d._url),m=d._query,delete d.config,delete d._url,delete d._query,u=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(h=>h.json()),u.then(()=>{const h=PD(),g=new tx;return Object.assign(g,h),g})}}async countTokens(t){var n,r,o,l;let u,f="",m={};if(this.apiClient.isVertexAI()){const d=bD(this.apiClient,t);return f=ke("{model}:countTokens",d._url),m=d._query,delete d.config,delete d._url,delete d._query,u=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),u.then(h=>{const g=n2(this.apiClient,h),T=new nx;return Object.assign(T,g),T})}else{const d=Kw(this.apiClient,t);return f=ke("{model}:countTokens",d._url),m=d._query,delete d.config,delete d._url,delete d._query,u=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(h=>h.json()),u.then(h=>{const g=BD(this.apiClient,h),T=new nx;return Object.assign(T,g),T})}}async computeTokens(t){var n,r;let o,l="",u={};if(this.apiClient.isVertexAI()){const f=TD(this.apiClient,t);return l=ke("{model}:computeTokens",f._url),u=f._query,delete f.config,delete f._url,delete f._query,o=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(m=>m.json()),o.then(m=>{const d=i2(this.apiClient,m),h=new iA;return Object.assign(h,d),h})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideos(t){var n,r,o,l;let u,f="",m={};if(this.apiClient.isVertexAI()){const d=MD(this.apiClient,t);return f=ke("{model}:predictLongRunning",d._url),m=d._query,delete d.config,delete d._url,delete d._query,u=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),u.then(h=>s2(this.apiClient,h))}else{const d=Qw(this.apiClient,t);return f=ke("{model}:predictLongRunning",d._url),m=d._query,delete d.config,delete d._url,delete d._query,u=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(h=>h.json()),u.then(h=>jD(this.apiClient,h))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function g2(e,t){const n={},r=x(t,["operationName"]);r!=null&&v(n,["_url","operationName"],r);const o=x(t,["config"]);return o!=null&&v(n,["config"],o),n}function y2(e,t){const n={},r=x(t,["operationName"]);r!=null&&v(n,["_url","operationName"],r);const o=x(t,["config"]);return o!=null&&v(n,["config"],o),n}function x2(e,t){const n={},r=x(t,["operationName"]);r!=null&&v(n,["operationName"],r);const o=x(t,["resourceName"]);o!=null&&v(n,["_url","resourceName"],o);const l=x(t,["config"]);return l!=null&&v(n,["config"],l),n}function v2(e,t){const n={},r=x(t,["video","uri"]);r!=null&&v(n,["uri"],r);const o=x(t,["video","encodedVideo"]);o!=null&&v(n,["videoBytes"],or(e,o));const l=x(t,["encoding"]);return l!=null&&v(n,["mimeType"],l),n}function b2(e,t){const n={},r=x(t,["_self"]);return r!=null&&v(n,["video"],v2(e,r)),n}function T2(e,t){const n={},r=x(t,["generatedSamples"]);if(r!=null){let u=r;Array.isArray(u)&&(u=u.map(f=>b2(e,f))),v(n,["generatedVideos"],u)}const o=x(t,["raiMediaFilteredCount"]);o!=null&&v(n,["raiMediaFilteredCount"],o);const l=x(t,["raiMediaFilteredReasons"]);return l!=null&&v(n,["raiMediaFilteredReasons"],l),n}function S2(e,t){const n={},r=x(t,["name"]);r!=null&&v(n,["name"],r);const o=x(t,["metadata"]);o!=null&&v(n,["metadata"],o);const l=x(t,["done"]);l!=null&&v(n,["done"],l);const u=x(t,["error"]);u!=null&&v(n,["error"],u);const f=x(t,["response","generateVideoResponse"]);return f!=null&&v(n,["response"],T2(e,f)),n}function C2(e,t){const n={},r=x(t,["gcsUri"]);r!=null&&v(n,["uri"],r);const o=x(t,["bytesBase64Encoded"]);o!=null&&v(n,["videoBytes"],or(e,o));const l=x(t,["mimeType"]);return l!=null&&v(n,["mimeType"],l),n}function M2(e,t){const n={},r=x(t,["_self"]);return r!=null&&v(n,["video"],C2(e,r)),n}function E2(e,t){const n={},r=x(t,["videos"]);if(r!=null){let u=r;Array.isArray(u)&&(u=u.map(f=>M2(e,f))),v(n,["generatedVideos"],u)}const o=x(t,["raiMediaFilteredCount"]);o!=null&&v(n,["raiMediaFilteredCount"],o);const l=x(t,["raiMediaFilteredReasons"]);return l!=null&&v(n,["raiMediaFilteredReasons"],l),n}function gx(e,t){const n={},r=x(t,["name"]);r!=null&&v(n,["name"],r);const o=x(t,["metadata"]);o!=null&&v(n,["metadata"],o);const l=x(t,["done"]);l!=null&&v(n,["done"],l);const u=x(t,["error"]);u!=null&&v(n,["error"],u);const f=x(t,["response"]);return f!=null&&v(n,["response"],E2(e,f)),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class A2 extends Ds{constructor(t){super(),this.apiClient=t}async getVideosOperation(t){const n=t.operation,r=t.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const o=n.name.split("/operations/")[0];let l;return r&&"httpOptions"in r&&(l=r.httpOptions),this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:o,config:{httpOptions:l}})}else return this.getVideosOperationInternal({operationName:n.name,config:r})}async getVideosOperationInternal(t){var n,r,o,l;let u,f="",m={};if(this.apiClient.isVertexAI()){const d=y2(this.apiClient,t);return f=ke("{operationName}",d._url),m=d._query,delete d.config,delete d._url,delete d._query,u=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),u.then(h=>gx(this.apiClient,h))}else{const d=g2(this.apiClient,t);return f=ke("{operationName}",d._url),m=d._query,delete d.config,delete d._url,delete d._query,u=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(h=>h.json()),u.then(h=>S2(this.apiClient,h))}}async fetchPredictVideosOperationInternal(t){var n,r;let o,l="",u={};if(this.apiClient.isVertexAI()){const f=x2(this.apiClient,t);return l=ke("{resourceName}:fetchPredictOperation",f._url),u=f._query,delete f.config,delete f._url,delete f._query,o=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(m=>m.json()),o.then(m=>gx(this.apiClient,m))}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const w2="Content-Type",D2="X-Server-Timeout",I2="User-Agent",k2="x-goog-api-client",R2="0.12.0",N2=`google-genai-sdk/${R2}`,_2="v1beta1",L2="v1beta",yx=/^data: (.*)(?:\n\n|\r\r|\r\n\r\n)/;class nb extends Error{constructor(t,n){n?super(t,{cause:n}):super(t,{cause:new Error().stack}),this.message=t,this.name="ClientError"}}class Gd extends Error{constructor(t,n){n?super(t,{cause:n}):super(t,{cause:new Error().stack}),this.message=t,this.name="ServerError"}}class V2{constructor(t){var n,r;this.clientOptions=Object.assign(Object.assign({},t),{project:t.project,location:t.location,apiKey:t.apiKey,vertexai:t.vertexai});const o={};this.clientOptions.vertexai?(o.apiVersion=(n=this.clientOptions.apiVersion)!==null&&n!==void 0?n:_2,this.getProject()||this.getLocation()?(o.baseUrl=`https://${this.clientOptions.location}-aiplatform.googleapis.com/`,this.clientOptions.apiKey=void 0):(o.baseUrl="https://aiplatform.googleapis.com/",this.clientOptions.project=void 0,this.clientOptions.location=void 0)):(o.apiVersion=(r=this.clientOptions.apiVersion)!==null&&r!==void 0?r:L2,o.baseUrl="https://generativelanguage.googleapis.com/"),o.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=o,t.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(o,t.httpOptions))}isVertexAI(){var t;return(t=this.clientOptions.vertexai)!==null&&t!==void 0?t:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(t){if(!t||t.baseUrl===void 0||t.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const r=[t.baseUrl.endsWith("/")?t.baseUrl.slice(0,-1):t.baseUrl];return t.apiVersion&&t.apiVersion!==""&&r.push(t.apiVersion),r.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const t=this.getBaseUrl(),n=new URL(t);return n.protocol=n.protocol=="http:"?"ws":"wss",n.toString()}setBaseUrl(t){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=t;else throw new Error("HTTP options are not correctly set.")}constructUrl(t,n,r){const o=[this.getRequestUrlInternal(n)];return r&&o.push(this.getBaseResourcePath()),t!==""&&o.push(t),new URL(`${o.join("/")}`)}shouldPrependVertexProjectPath(t){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||t.path.startsWith("projects/")||t.httpMethod==="GET"&&t.path.startsWith("publishers/google/models"))}async request(t){let n=this.clientOptions.httpOptions;t.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,t.httpOptions));const r=this.shouldPrependVertexProjectPath(t),o=this.constructUrl(t.path,n,r);if(t.queryParams)for(const[u,f]of Object.entries(t.queryParams))o.searchParams.append(u,String(f));let l={};if(t.httpMethod==="GET"){if(t.body&&t.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else l.body=t.body;return l=await this.includeExtraHttpOptionsToRequestInit(l,n,t.abortSignal),this.unaryApiCall(o,l,t.httpMethod)}patchHttpOptions(t,n){const r=JSON.parse(JSON.stringify(t));for(const[o,l]of Object.entries(n))typeof l=="object"?r[o]=Object.assign(Object.assign({},r[o]),l):l!==void 0&&(r[o]=l);return r}async requestStream(t){let n=this.clientOptions.httpOptions;t.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,t.httpOptions));const r=this.shouldPrependVertexProjectPath(t),o=this.constructUrl(t.path,n,r);(!o.searchParams.has("alt")||o.searchParams.get("alt")!=="sse")&&o.searchParams.set("alt","sse");let l={};return l.body=t.body,l=await this.includeExtraHttpOptionsToRequestInit(l,n,t.abortSignal),this.streamApiCall(o,l,t.httpMethod)}async includeExtraHttpOptionsToRequestInit(t,n,r){if(n&&n.timeout||r){const o=new AbortController,l=o.signal;n.timeout&&(n==null?void 0:n.timeout)>0&&setTimeout(()=>o.abort(),n.timeout),r&&r.addEventListener("abort",()=>{o.abort()}),t.signal=l}return t.headers=await this.getHeadersInternal(n),t}async unaryApiCall(t,n,r){return this.apiCall(t.toString(),Object.assign(Object.assign({},n),{method:r})).then(async o=>(await xx(o),new jd(o))).catch(o=>{throw o instanceof Error?o:new Error(JSON.stringify(o))})}async streamApiCall(t,n,r){return this.apiCall(t.toString(),Object.assign(Object.assign({},n),{method:r})).then(async o=>(await xx(o),this.processStreamResponse(o))).catch(o=>{throw o instanceof Error?o:new Error(JSON.stringify(o))})}processStreamResponse(t){var n;return Tu(this,arguments,function*(){const o=(n=t==null?void 0:t.body)===null||n===void 0?void 0:n.getReader(),l=new TextDecoder("utf-8");if(!o)throw new Error("Response body is empty");try{let u="";for(;;){const{done:f,value:m}=yield Gt(o.read());if(f){if(u.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const d=l.decode(m);try{const g=JSON.parse(d);if("error"in g){const T=JSON.parse(JSON.stringify(g.error)),S=T.status,E=T.code,A=`got status: ${S}. ${JSON.stringify(g)}`;if(E>=400&&E<500)throw new nb(A);if(E>=500&&E<600)throw new Gd(A)}}catch(g){const T=g;if(T.name==="ClientError"||T.name==="ServerError")throw g}u+=d;let h=u.match(yx);for(;h;){const g=h[1];try{const T=new Response(g,{headers:t==null?void 0:t.headers,status:t==null?void 0:t.status,statusText:t==null?void 0:t.statusText});yield yield Gt(new jd(T)),u=u.slice(h[0].length),h=u.match(yx)}catch(T){throw new Error(`exception parsing stream chunk ${g}. ${T}`)}}}}finally{o.releaseLock()}})}async apiCall(t,n){return fetch(t,n).catch(r=>{throw new Error(`exception ${r} sending request`)})}getDefaultHeaders(){const t={},n=N2+" "+this.clientOptions.userAgentExtra;return t[I2]=n,t[k2]=n,t[w2]="application/json",t}async getHeadersInternal(t){const n=new Headers;if(t&&t.headers){for(const[r,o]of Object.entries(t.headers))n.append(r,o);t.timeout&&t.timeout>0&&n.append(D2,String(Math.ceil(t.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(n),n}async uploadFile(t,n){var r;const o={};n!=null&&(o.mimeType=n.mimeType,o.name=n.name,o.displayName=n.displayName),o.name&&!o.name.startsWith("files/")&&(o.name=`files/${o.name}`);const l=this.clientOptions.uploader,u=await l.stat(t);o.sizeBytes=String(u.size);const f=(r=n==null?void 0:n.mimeType)!==null&&r!==void 0?r:u.type;if(f===void 0||f==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");o.mimeType=f;const m=await this.fetchUploadUrl(o,n);return l.upload(t,m,this)}async fetchUploadUrl(t,n){var r;let o={};n!=null&&n.httpOptions?o=n.httpOptions:o={apiVersion:"",headers:{"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${t.sizeBytes}`,"X-Goog-Upload-Header-Content-Type":`${t.mimeType}`}};const l={file:t},u=await this.request({path:ke("upload/v1beta/files",l._url),body:JSON.stringify(l),httpMethod:"POST",httpOptions:o});if(!u||!(u!=null&&u.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const f=(r=u==null?void 0:u.headers)===null||r===void 0?void 0:r["x-goog-upload-url"];if(f===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return f}}async function xx(e){var t;if(e===void 0)throw new Gd("response is undefined");if(!e.ok){const n=e.status,r=e.statusText;let o;!((t=e.headers.get("content-type"))===null||t===void 0)&&t.includes("application/json")?o=await e.json():o={error:{message:await e.text(),code:e.status,status:e.statusText}};const l=`got status: ${n} ${r}. ${JSON.stringify(o)}`;throw n>=400&&n<500?new nb(l):n>=500&&n<600?new Gd(l):new Error(l)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function P2(e,t){const n={},r=x(t,["name"]);r!=null&&v(n,["_url","name"],r);const o=x(t,["config"]);return o!=null&&v(n,["config"],o),n}function B2(e,t,n){const r={},o=x(t,["pageSize"]);n!==void 0&&o!=null&&v(n,["_query","pageSize"],o);const l=x(t,["pageToken"]);n!==void 0&&l!=null&&v(n,["_query","pageToken"],l);const u=x(t,["filter"]);return n!==void 0&&u!=null&&v(n,["_query","filter"],u),r}function O2(e,t){const n={},r=x(t,["config"]);return r!=null&&v(n,["config"],B2(e,r,n)),n}function F2(e,t){const n={},r=x(t,["textInput"]);r!=null&&v(n,["textInput"],r);const o=x(t,["output"]);return o!=null&&v(n,["output"],o),n}function z2(e,t){const n={};if(x(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const r=x(t,["examples"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(l=>F2(e,l))),v(n,["examples","examples"],o)}return n}function j2(e,t,n){const r={};if(x(t,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const o=x(t,["tunedModelDisplayName"]);if(n!==void 0&&o!=null&&v(n,["displayName"],o),x(t,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const l=x(t,["epochCount"]);n!==void 0&&l!=null&&v(n,["tuningTask","hyperparameters","epochCount"],l);const u=x(t,["learningRateMultiplier"]);if(u!=null&&v(r,["tuningTask","hyperparameters","learningRateMultiplier"],u),x(t,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const f=x(t,["batchSize"]);n!==void 0&&f!=null&&v(n,["tuningTask","hyperparameters","batchSize"],f);const m=x(t,["learningRate"]);return n!==void 0&&m!=null&&v(n,["tuningTask","hyperparameters","learningRate"],m),r}function H2(e,t){const n={},r=x(t,["baseModel"]);r!=null&&v(n,["baseModel"],r);const o=x(t,["trainingDataset"]);o!=null&&v(n,["tuningTask","trainingData"],z2(e,o));const l=x(t,["config"]);return l!=null&&v(n,["config"],j2(e,l,n)),n}function U2(e,t){const n={},r=x(t,["name"]);r!=null&&v(n,["_url","name"],r);const o=x(t,["config"]);return o!=null&&v(n,["config"],o),n}function G2(e,t,n){const r={},o=x(t,["pageSize"]);n!==void 0&&o!=null&&v(n,["_query","pageSize"],o);const l=x(t,["pageToken"]);n!==void 0&&l!=null&&v(n,["_query","pageToken"],l);const u=x(t,["filter"]);return n!==void 0&&u!=null&&v(n,["_query","filter"],u),r}function q2(e,t){const n={},r=x(t,["config"]);return r!=null&&v(n,["config"],G2(e,r,n)),n}function Y2(e,t,n){const r={},o=x(t,["gcsUri"]);if(n!==void 0&&o!=null&&v(n,["supervisedTuningSpec","trainingDatasetUri"],o),x(t,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return r}function $2(e,t){const n={},r=x(t,["gcsUri"]);return r!=null&&v(n,["validationDatasetUri"],r),n}function K2(e,t,n){const r={},o=x(t,["validationDataset"]);n!==void 0&&o!=null&&v(n,["supervisedTuningSpec"],$2(e,o));const l=x(t,["tunedModelDisplayName"]);n!==void 0&&l!=null&&v(n,["tunedModelDisplayName"],l);const u=x(t,["description"]);n!==void 0&&u!=null&&v(n,["description"],u);const f=x(t,["epochCount"]);n!==void 0&&f!=null&&v(n,["supervisedTuningSpec","hyperParameters","epochCount"],f);const m=x(t,["learningRateMultiplier"]);n!==void 0&&m!=null&&v(n,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],m);const d=x(t,["adapterSize"]);if(n!==void 0&&d!=null&&v(n,["supervisedTuningSpec","hyperParameters","adapterSize"],d),x(t,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(x(t,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");return r}function X2(e,t){const n={},r=x(t,["baseModel"]);r!=null&&v(n,["baseModel"],r);const o=x(t,["trainingDataset"]);o!=null&&v(n,["supervisedTuningSpec","trainingDatasetUri"],Y2(e,o,n));const l=x(t,["config"]);return l!=null&&v(n,["config"],K2(e,l,n)),n}function W2(e,t){const n={},r=x(t,["name"]);r!=null&&v(n,["model"],r);const o=x(t,["name"]);return o!=null&&v(n,["endpoint"],o),n}function ib(e,t){const n={},r=x(t,["name"]);r!=null&&v(n,["name"],r);const o=x(t,["state"]);o!=null&&v(n,["state"],W1(e,o));const l=x(t,["createTime"]);l!=null&&v(n,["createTime"],l);const u=x(t,["tuningTask","startTime"]);u!=null&&v(n,["startTime"],u);const f=x(t,["tuningTask","completeTime"]);f!=null&&v(n,["endTime"],f);const m=x(t,["updateTime"]);m!=null&&v(n,["updateTime"],m);const d=x(t,["description"]);d!=null&&v(n,["description"],d);const h=x(t,["baseModel"]);h!=null&&v(n,["baseModel"],h);const g=x(t,["_self"]);g!=null&&v(n,["tunedModel"],W2(e,g));const T=x(t,["distillationSpec"]);T!=null&&v(n,["distillationSpec"],T);const S=x(t,["experiment"]);S!=null&&v(n,["experiment"],S);const E=x(t,["labels"]);E!=null&&v(n,["labels"],E);const A=x(t,["pipelineJob"]);A!=null&&v(n,["pipelineJob"],A);const L=x(t,["tunedModelDisplayName"]);return L!=null&&v(n,["tunedModelDisplayName"],L),n}function Q2(e,t){const n={},r=x(t,["nextPageToken"]);r!=null&&v(n,["nextPageToken"],r);const o=x(t,["tunedModels"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(u=>ib(e,u))),v(n,["tuningJobs"],l)}return n}function J2(e,t){const n={},r=x(t,["name"]);r!=null&&v(n,["name"],r);const o=x(t,["metadata"]);o!=null&&v(n,["metadata"],o);const l=x(t,["done"]);l!=null&&v(n,["done"],l);const u=x(t,["error"]);return u!=null&&v(n,["error"],u),n}function Z2(e,t){const n={},r=x(t,["model"]);r!=null&&v(n,["model"],r);const o=x(t,["endpoint"]);return o!=null&&v(n,["endpoint"],o),n}function qd(e,t){const n={},r=x(t,["name"]);r!=null&&v(n,["name"],r);const o=x(t,["state"]);o!=null&&v(n,["state"],W1(e,o));const l=x(t,["createTime"]);l!=null&&v(n,["createTime"],l);const u=x(t,["startTime"]);u!=null&&v(n,["startTime"],u);const f=x(t,["endTime"]);f!=null&&v(n,["endTime"],f);const m=x(t,["updateTime"]);m!=null&&v(n,["updateTime"],m);const d=x(t,["error"]);d!=null&&v(n,["error"],d);const h=x(t,["description"]);h!=null&&v(n,["description"],h);const g=x(t,["baseModel"]);g!=null&&v(n,["baseModel"],g);const T=x(t,["tunedModel"]);T!=null&&v(n,["tunedModel"],Z2(e,T));const S=x(t,["supervisedTuningSpec"]);S!=null&&v(n,["supervisedTuningSpec"],S);const E=x(t,["tuningDataStats"]);E!=null&&v(n,["tuningDataStats"],E);const A=x(t,["encryptionSpec"]);A!=null&&v(n,["encryptionSpec"],A);const L=x(t,["partnerModelTuningSpec"]);L!=null&&v(n,["partnerModelTuningSpec"],L);const I=x(t,["distillationSpec"]);I!=null&&v(n,["distillationSpec"],I);const N=x(t,["experiment"]);N!=null&&v(n,["experiment"],N);const R=x(t,["labels"]);R!=null&&v(n,["labels"],R);const z=x(t,["pipelineJob"]);z!=null&&v(n,["pipelineJob"],z);const G=x(t,["tunedModelDisplayName"]);return G!=null&&v(n,["tunedModelDisplayName"],G),n}function eI(e,t){const n={},r=x(t,["nextPageToken"]);r!=null&&v(n,["nextPageToken"],r);const o=x(t,["tuningJobs"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(u=>qd(e,u))),v(n,["tuningJobs"],l)}return n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class tI extends Ds{constructor(t){super(),this.apiClient=t,this.get=async n=>await this.getInternal(n),this.list=async(n={})=>new Rm(gs.PAGED_ITEM_TUNING_JOBS,r=>this.listInternal(r),await this.listInternal(n),n),this.tune=async n=>{if(this.apiClient.isVertexAI())return await this.tuneInternal(n);{const r=await this.tuneMldevInternal(n);let o="";return r.metadata!==void 0&&r.metadata.tunedModel!==void 0?o=r.metadata.tunedModel:r.name!==void 0&&r.name.includes("/operations/")&&(o=r.name.split("/operations/")[0]),{name:o,state:zd.JOB_STATE_QUEUED}}}}async getInternal(t){var n,r,o,l;let u,f="",m={};if(this.apiClient.isVertexAI()){const d=U2(this.apiClient,t);return f=ke("{name}",d._url),m=d._query,delete d.config,delete d._url,delete d._query,u=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),u.then(h=>qd(this.apiClient,h))}else{const d=P2(this.apiClient,t);return f=ke("{name}",d._url),m=d._query,delete d.config,delete d._url,delete d._query,u=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(h=>h.json()),u.then(h=>ib(this.apiClient,h))}}async listInternal(t){var n,r,o,l;let u,f="",m={};if(this.apiClient.isVertexAI()){const d=q2(this.apiClient,t);return f=ke("tuningJobs",d._url),m=d._query,delete d.config,delete d._url,delete d._query,u=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),u.then(h=>{const g=eI(this.apiClient,h),T=new ix;return Object.assign(T,g),T})}else{const d=O2(this.apiClient,t);return f=ke("tunedModels",d._url),m=d._query,delete d.config,delete d._url,delete d._query,u=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(h=>h.json()),u.then(h=>{const g=Q2(this.apiClient,h),T=new ix;return Object.assign(T,g),T})}}async tuneInternal(t){var n,r;let o,l="",u={};if(this.apiClient.isVertexAI()){const f=X2(this.apiClient,t);return l=ke("tuningJobs",f._url),u=f._query,delete f.config,delete f._url,delete f._query,o=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(m=>m.json()),o.then(m=>qd(this.apiClient,m))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(t){var n,r;let o,l="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const f=H2(this.apiClient,t);return l=ke("tunedModels",f._url),u=f._query,delete f.config,delete f._url,delete f._query,o=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(m=>m.json()),o.then(m=>J2(this.apiClient,m))}}}const nI=1024*1024*8;async function iI(e,t,n){var r,o;let l=0,u=0,f=new jd(new Response),m="upload";for(l=e.size;u<l;){const h=Math.min(nI,l-u),g=e.slice(u,u+h);if(u+h>=l&&(m+=", finalize"),f=await n.request({path:"",body:g,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:t,headers:{"X-Goog-Upload-Command":m,"X-Goog-Upload-Offset":String(u),"Content-Length":String(h)}}}),u+=h,((r=f==null?void 0:f.headers)===null||r===void 0?void 0:r["x-goog-upload-status"])!=="active")break;if(l<=u)throw new Error("All content has been uploaded, but the upload status is not finalized.")}const d=await(f==null?void 0:f.json());if(((o=f==null?void 0:f.headers)===null||o===void 0?void 0:o["x-goog-upload-status"])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return d.file}async function rI(e){return{size:e.size,type:e.type}}class aI{async upload(t,n,r){if(typeof t=="string")throw new Error("File path is not supported in browser uploader.");return await iI(t,n,r)}async stat(t){if(typeof t=="string")throw new Error("File path is not supported in browser uploader.");return await rI(t)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class oI{create(t,n,r){return new sI(t,n,r)}}class sI{constructor(t,n,r){this.url=t,this.headers=n,this.callbacks=r}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(t){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(t)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const vx="x-goog-api-key";class lI{constructor(t){this.apiKey=t}async addAuthHeaders(t){t.get(vx)===null&&t.append(vx,this.apiKey)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const uI="gl-node/";class rb{constructor(t){var n;if(t.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(t.project||t.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(n=t.vertexai)!==null&&n!==void 0?n:!1,this.apiKey=t.apiKey;const r=vE(t,void 0,void 0);r&&(t.httpOptions?t.httpOptions.baseUrl=r:t.httpOptions={baseUrl:r}),this.apiVersion=t.apiVersion;const o=new lI(this.apiKey);this.apiClient=new V2({auth:o,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:t.httpOptions,userAgentExtra:uI+"web",uploader:new aI}),this.models=new p2(this.apiClient),this.live=new c2(this.apiClient,o,new oI),this.chats=new fA(this.models,this.apiClient),this.caches=new sA(this.apiClient),this.files=new MA(this.apiClient),this.operations=new A2(this.apiClient),this.tunings=new tI(this.apiClient)}}var cI={};const zr=typeof process<"u"&&cI.GEMINI_MODEL_NAME||typeof import.meta<"u"&&void 0||"gemini-2.0-flash-exp",bx="TrackGuide",Tx="songGuidebookLibrary",Wo="trackGuideLastUsedDAW",Jl="trackGuideLastUsedPlugins",ab=["Pop","Indie Pop","Synth-Pop","Rock","Alternative Rock","Hard Rock","Punk Rock","Post-Punk","Nu Metal","Progressive Rock","Psychedelic Rock","Folk Rock","Shoegaze","House","Deep House","Progressive House","Tech House","Bass House","Electro House","Minimal House","Techno","Minimal Techno","Industrial Techno","Melodic Techno","Ambient Techno","Hard Techno","Trance","Progressive Trance","Psytrance","Goa Trance","Hard Trance","Ambient","Dark Ambient","Downtempo","Chillout","Chillwave","Psybient","Berlin School","Synthwave","Retrowave","Darksynth","Vaporwave","Future Funk","Drum and Bass","Jungle","Liquid DnB","Neurofunk","Breakcore","Dubstep","Riddim","Future Bass","Trap (EDM)","Hardstyle","Gabber","UK Hardcore","IDM (Intelligent Dance Music)","Glitch","Breakbeat","UK Garage","2-Step","Future Garage","EBM (Electronic Body Music)","Footwork","Juke","Hip Hop","Boom Bap","Trap","Lo-fi Hip Hop","Cloud Rap","Drill","Conscious Hip Hop","R&B","Contemporary R&B","Neo-Soul","Soul","Folk","Acoustic","World Music","Reggae","Dub","Ska","Latin","Afrobeat","Celtic","Jazz","Smooth Jazz","Blues","Funk","Heavy Metal","Thrash Metal","Death Metal","Black Metal","Doom Metal","Metalcore","Deathcore","Experimental","Noise","Industrial","Classical Crossover","Chiptune","Video Game Music"],fI=["Dark","Atmospheric","Energetic","Uplifting","Chill","Relaxed","Experimental","Trippy","Nostalgic","Retro","Aggressive","Intense","Melancholic","Introspective","Funky","Groovy","Mysterious","Eerie","Euphoric","Anthemic","Dreamy","Ethereal","Raw","Gritty","Sophisticated","Smooth","Cyberpunk","Futuristic","Hypnotic","Driving","Industrial","Mechanical","Hopeful","Aggressive","Peaceful","Romantic","Sad","Joyful","Tense"],Sx=["Ableton Live","Logic Pro X","FL Studio","Pro Tools","Cubase","Studio One","Reason","Bitwig Studio","Reaper","GarageBand"],rs=["C Major","G Major","D Major","A Major","E Major","B Major","F# Major","C# Major","F Major","Bb Major","Eb Major","Ab Major","Db Major","Gb Major","Cb Major","A Minor","E Minor","B Minor","F# Minor","C# Minor","G# Minor","D# Minor","A# Minor","D Minor","G Minor","C Minor","F Minor","Bb Minor","Eb Minor","Ab Minor"],Cx={C:["Ionian (Major)","Dorian","Phrygian","Lydian","Mixolydian","Aeolian (Natural Minor)","Locrian"],"C#":["Ionian (Major)","Dorian","Phrygian","Lydian","Mixolydian","Aeolian (Natural Minor)","Locrian"],Db:["Ionian (Major)","Dorian","Phrygian","Lydian","Mixolydian","Aeolian (Natural Minor)","Locrian"],D:["Ionian (Major)","Dorian","Phrygian","Lydian","Mixolydian","Aeolian (Natural Minor)","Locrian"],"D#":["Ionian (Major)","Dorian","Phrygian","Lydian","Mixolydian","Aeolian (Natural Minor)","Locrian"],Eb:["Ionian (Major)","Dorian","Phrygian","Lydian","Mixolydian","Aeolian (Natural Minor)","Locrian"],E:["Ionian (Major)","Dorian","Phrygian","Lydian","Mixolydian","Aeolian (Natural Minor)","Locrian"],F:["Ionian (Major)","Dorian","Phrygian","Lydian","Mixolydian","Aeolian (Natural Minor)","Locrian"],"F#":["Ionian (Major)","Dorian","Phrygian","Lydian","Mixolydian","Aeolian (Natural Minor)","Locrian"],Gb:["Ionian (Major)","Dorian","Phrygian","Lydian","Mixolydian","Aeolian (Natural Minor)","Locrian"],G:["Ionian (Major)","Dorian","Phrygian","Lydian","Mixolydian","Aeolian (Natural Minor)","Locrian"],"G#":["Ionian (Major)","Dorian","Phrygian","Lydian","Mixolydian","Aeolian (Natural Minor)","Locrian"],Ab:["Ionian (Major)","Dorian","Phrygian","Lydian","Mixolydian","Aeolian (Natural Minor)","Locrian"],A:["Ionian (Major)","Dorian","Phrygian","Lydian","Mixolydian","Aeolian (Natural Minor)","Locrian"],"A#":["Ionian (Major)","Dorian","Phrygian","Lydian","Mixolydian","Aeolian (Natural Minor)","Locrian"],Bb:["Ionian (Major)","Dorian","Phrygian","Lydian","Mixolydian","Aeolian (Natural Minor)","Locrian"],B:["Ionian (Major)","Dorian","Phrygian","Lydian","Mixolydian","Aeolian (Natural Minor)","Locrian"],Cb:["Ionian (Major)","Dorian","Phrygian","Lydian","Mixolydian","Aeolian (Natural Minor)","Locrian"]},dI=[[4,4],[3,4],[6,8],[2,4],[5,4],[7,8]],mI=[{id:"chords",label:"Chords"},{id:"bassline",label:"Bassline"},{id:"melody",label:"Melody"},{id:"drums",label:"Drums"}],hI=["General Loop","Intro","Verse","Pre-Chorus","Chorus","Post-Chorus","Bridge","Solo","Breakdown","Drop","Outro","Fill"],We={key:"C Major",tempo:120,timeSignature:[4,4],chordProgression:"I-V-vi-IV",genre:"Pop",bars:8,targetInstruments:["chords","bassline","melody","drums"],guidebookContext:"",songSection:"General Loop"},_n={Pop:["I-V-vi-IV","vi-IV-I-V","I-IV-V-I","I-vi-IV-V","ii-V-I-IV","vi-ii-V-I","I-iii-vi-V"],"Indie Pop":["I-V-vi-IV","I-IV-vi-V","vi-IV-I-V","I-iii-IV-V","vi-ii-V-I","I-vi-ii-V"],"Synth-Pop":["i-VI-III-VII","I-V-vi-IV","i-iv-v-VI","I-IV-ii-V","vi-IV-I-V","i-VII-VI-V"],Rock:["I-IV-V","vi-IV-I-V","I-bVII-IV-I","i-VI-III-VII","I-V-IV-I","vi-ii-V-I","I-IV-V-vi"],"Alternative Rock":["vi-IV-I-V","I-V-vi-IV","i-VI-III-VII","I-IV-ii-V","I-bVII-IV-I","vi-ii-V-I"],"Hard Rock":["I-IV-V","i-VI-III-VII","I-bVII-IV-I","i-iv-v-i","vi-IV-I-V","I-V-IV-I"],"Punk Rock":["I-IV-V","vi-IV-I-V","I-V-vi-IV","I-bVII-IV-I","i-iv-v-i"],House:["i-VI-III-VII","Am-G-C-F","i-III-VI-VII","i-v-iv-i","vi-IV-I-V","i-VII-VI-V"],"Deep House":["i-VI-III-VII","Am-G-C-F","i-iv-v-i","vi-ii-V-I","i-VII-VI-V","Dm-Bb-F-C"],"Progressive House":["i-VI-III-VII","vi-IV-I-V","i-iv-v-VI","Am-F-C-G","i-VII-VI-V"],"Tech House":["i-VI-III-VII","i-iv-v-i","Am-G-F-E","i-III-VI-VII","vi-IV-I-V"],Techno:["i-VI-III-VII","i-iv-v-i","Am-G-F-E","i-III-VI-VII","i-VII-VI-V","Drone + variations"],"Minimal Techno":["i-iv-v-i","Am-G-F-E","i-VI-III-VII","Single chord drone","i-VII-VI-V"],Trance:["i-VI-III-VII","vi-IV-I-V","i-VII-VI-V","Am-F-C-G","i-iv-v-VI","vi-ii-V-I"],"Progressive Trance":["i-VI-III-VII","vi-IV-I-V","i-iv-v-VI","Am-F-C-G","vi-ii-V-I"],Ambient:["Imaj7-IVmaj7","i-VI","Drone + sus chords","vi-IV-I-V","Am-F-C-G","Cmaj7-Fmaj7-Am7-Dm7"],"Dark Ambient":["i-iv-v-i","Am-Dm-Em-Am","i-VI-III-VII","Drone + minor variations"],Synthwave:["i-VI-III-VII","vi-IV-I-V","I-V-vi-IV","i-iv-v-i","Am-F-C-G","i-VII-VI-V"],Retrowave:["i-VI-III-VII","vi-IV-I-V","I-V-vi-IV","Am-F-C-G","i-iv-v-VI"],Darksynth:["i-VI-III-VII","i-iv-v-i","Am-G-F-E","i-VII-VI-V","vi-IV-I-V"],Vaporwave:["Imaj7-IVmaj7","vi-IV-I-V","I-V-vi-IV","Cmaj7-Fmaj7-Am7-Dm7","ii-V-I-IV"],"Drum and Bass":["i-VI-III-VII","Am-F-C-G","ii-V-I-IV","i-iv-v-VI","Complex jazz voicings"],"Liquid DnB":["ii-V-I-IV","Imaj7-vi7-ii7-V7","i-VI-III-VII","Am-F-C-G","vi-ii-V-I"],Neurofunk:["i-VI-III-VII","i-iv-v-i","Am-G-F-E","Complex chromatic progressions"],Breakcore:["i-VI-III-VII","Complex atonal progressions","i-iv-v-i","Chaotic harmonic structures"],Dubstep:["i-VI-III-VII","i-iv-v-i","Am-G-F-E","Simple 2-3 chord loops","vi-IV-I-V"],Riddim:["i-VI-III-VII","i-iv-v-i","Am-G-F-E","Simple repetitive loops"],"Future Bass":["I-V-vi-IV","vi-IV-I-V","i-VI-III-VII","I-iii-vi-V","vi-ii-V-I"],"Trap (EDM)":["i-VI-III-VII","i-iv-v-i","Am-G-F-E","vi-IV-I-V","Simple 2-3 chord loops"],"Hip Hop":["i-VI-III-VII","Am-G-Em-F","ii-V-I","i-iv-v-i","Sample-based loops","vi-IV-I-V"],"Boom Bap":["ii-V-I","i-VI-III-VII","Am-G-Em-F","Sample-based progressions","i-iv-v-i"],Trap:["i-VI-III-VII","i-iv-v-i","Am-G-F-E","vi-IV-I-V","Simple minor progressions"],"Lo-fi Hip Hop":["ii-V-I-IV","Imaj7-vi7-ii7-V7","I-V-vi-IV","vi-ii-V-I","Cmaj7-Am7-Dm7-G7"],"Cloud Rap":["i-VI-III-VII","vi-IV-I-V","I-V-vi-IV","Atmospheric progressions","Am-F-C-G"],Drill:["i-VI-III-VII","i-iv-v-i","Am-G-F-E","Dark minor progressions","vi-IV-I-V"],"R&B":["Imaj7-IVmaj7","ii-V-I","i-VI-III-VII","vi-ii-V-I","I-iii-vi-V","Cmaj7-Fmaj7-Am7-Dm7"],"Contemporary R&B":["Imaj7-IVmaj7","vi-ii-V-I","I-iii-vi-V","ii-V-I-IV","I-V-vi-IV"],"Neo-Soul":["ii-V-I","Imaj7-vi7-ii7-V7","i-VI-III-VII","Complex jazz progressions","vi-ii-V-I"],Soul:["I-IV-V","ii-V-I","I-vi-IV-V","vi-IV-I-V","I-V-vi-IV"],Folk:["I-IV-V","I-V-vi-IV","G-C-D-G","C-G-Am-F","vi-IV-I-V","I-vi-IV-V"],Acoustic:["I-V-vi-IV","I-IV-V","vi-IV-I-V","G-C-D-G","C-G-Am-F","I-vi-IV-V"],Jazz:["ii-V-I","I-vi-ii-V","iii-vi-ii-V","I-II7-V7-I","Imaj7-IIm7-IIIm7-IVmaj7","vi-ii-V-I"],"Smooth Jazz":["ii-V-I","Imaj7-vi7-ii7-V7","I-vi-ii-V","vi-ii-V-I","iii-vi-ii-V"],Blues:["I-I-I-I-IV-IV-I-I-V-IV-I-I","i-i-i-i-iv-iv-i-i-v-iv-i-i","I-IV-V","i-iv-v"],Funk:["ii-V-I","I-IV-V","i-iv-v-i","vi-ii-V-I","I7-IV7-V7","Dominant 7th progressions"],"Heavy Metal":["i-VI-III-VII","i-iv-v-i","I-bVII-IV-I","vi-IV-I-V","i-VII-VI-V"],"Thrash Metal":["i-VI-III-VII","i-iv-v-i","I-bVII-IV-I","Fast chromatic progressions"],"Death Metal":["i-iv-v-i","i-VI-III-VII","Chromatic progressions","Complex atonal structures"],"Black Metal":["i-iv-v-i","i-VI-III-VII","i-VII-VI-V","Atmospheric minor progressions"],"Doom Metal":["i-iv-v-i","i-VI-III-VII","i-VII-VI-V","Slow minor progressions"],Metalcore:["i-VI-III-VII","vi-IV-I-V","i-iv-v-i","I-bVII-IV-I","vi-ii-V-I"],Deathcore:["i-iv-v-i","i-VI-III-VII","Chromatic breakdowns","Complex atonal progressions"],Experimental:["Atonal progressions","Extended harmony","Microtonal scales","Non-traditional structures"],Noise:["Atonal clusters","Non-harmonic structures","Dissonant progressions","Experimental harmony"],Industrial:["i-iv-v-i","i-VI-III-VII","Power chord progressions","Mechanical repetition"],Chiptune:["I-V-vi-IV","i-VI-III-VII","vi-IV-I-V","Classic video game progressions","I-iii-vi-V"],"Video Game Music":["I-V-vi-IV","i-VI-III-VII","vi-IV-I-V","Adventure progressions","I-iii-vi-V"],Default:["I-V-vi-IV","i-VI-III-VII","I-IV-V-I","vi-IV-I-V","ii-V-I","I-iii-vi-V"]},Qn={Pop:[90,130],"Indie Pop":[100,140],"Synth-Pop":[110,140],Rock:[100,160],"Alternative Rock":[90,150],House:[118,128],"Deep House":[115,125],Techno:[125,145],Trance:[130,145],Ambient:[50,100],Synthwave:[80,120],"Drum and Bass":[160,180],Dubstep:[130,150],"Trap (EDM)":[130,160],"Hip Hop":[80,110],"Lo-fi Hip Hop":[70,90],"R&B":[60,100],Folk:[80,120],Jazz:[70,180],Blues:[70,130],Default:[60,200]},_a={kick:36,snare:38,hihat_closed:42,open_hihat:46,tom_low:41,tom_mid:47,tom_high:50,crash_cymbal_1:49,ride_cymbal_1:51,clap:39,shaker:70,tambourine:54,rim_shot:37,cowbell:56,bass_drum:36,snare_drum:38,closed_hihat:42,hihat:42,crash:49,ride:51},Zl=[{category:"Genre",key:"genre",examples:["Techno","House","Trance","Dubstep","Drum & Bass","Synthwave","Ambient","Industrial","Rock","Pop","Hip Hop","R&B","Jazz","Experimental","Cinematic","Video Game Score","Chiptune"]},{category:"Voice Type",key:"voiceType",examples:["Lead","Pad","Bass","Pluck","Arp","FX","Drone","Texture","Atmosphere","Riser","Impact","Chord","Stab"]},{category:"Style & Mood",key:"styleMood",examples:["Warm","Bright","Dark","Metallic","Analog","Digital","Dreamy","Aggressive","Mysterious","Epic","Punchy","Floating","Gritty","Clean","Organic","Mechanical","Futuristic","Retro","Cyberpunk"]},{category:"Dynamics & Movement",key:"dynamicsMovement",examples:["Evolving","Pulsating","Static","Rhythmic","Flowing","Choppy","Breathing","Morphing","Swelling","Pounding","Cascading","Trembling","Wobbling","Shifting","Undulating","Building","Fading","Stuttering"]}],pI=["Ableton Operator","Ableton Wavetable","Apple Alchemy","Apple Retro Synth","Arturia Analog Lab","Arturia PolyBrute","Bazille","DiscoDSP OB-Xd","Diva","Hive 2","Kilohearts Phase Plant","Korg MS-20","Korg Wavestate","Moog Minimoog","Native Instruments FM8","Native Instruments Massive","Native Instruments Massive X","Native Instruments Monark","Omnisphere","Pigments","Roland Jupiter-8","Roland Juno-106","Roland SH-101","Sylenth1","TAL TAL-U-No-LX","u-he Repro-1","u-he Repro-5","Vital","Xfer Serum","Zebra2","Generic"].sort(),gI="AIzaSyCxOuxalv_PC6h6aE8JvEjLMK8ie8C9Nts",Ga=new rb({apiKey:gI});function ob(e,t){if(!e&&!t)return`
###  Processing Tips & Plugin Parameters

**EQ Settings:**
- High-pass filter: 20-40 Hz to remove sub-bass rumble
- Low-mid cut: 200-400 Hz to reduce muddiness
- Presence boost: 2-5 kHz for clarity
- Air boost: 10-15 kHz for sparkle

**Compression:**
- Ratio: 3:1 to 4:1 for moderate control
- Attack: 10-30ms for punch retention
- Release: 100-300ms for natural decay
- Makeup gain: 2-6 dB as needed

**Reverb & Delay:**
- Room reverb: 0.8-1.5s decay for space
- Delay: 1/8 or 1/4 note timing
- High-cut: 8-12 kHz to avoid harshness
- Mix: 15-30% for depth without wash`;const r=e?(u=>{const f=u.toLowerCase();return f.includes("ableton")?{eq:"EQ Eight",compressor:"Compressor",reverb:"Reverb",delay:"Echo",limiter:"Limiter",saturator:"Saturator"}:f.includes("logic")?{eq:"Channel EQ",compressor:"Compressor",reverb:"ChromaVerb",delay:"Echo",limiter:"Adaptive Limiter",saturator:"Tape"}:f.includes("fl studio")||f.includes("fl")?{eq:"Parametric EQ 2",compressor:"Fruity Compressor",reverb:"Reverb 2",delay:"Fruity Delay 3",limiter:"Fruity Limiter",saturator:"Fruity Waveshaper"}:f.includes("pro tools")?{eq:"EQ III",compressor:"Dyn3 Compressor/Limiter",reverb:"D-Verb",delay:"Mod Delay III",limiter:"Dyn3 Compressor/Limiter",saturator:"Lo-Fi"}:f.includes("cubase")||f.includes("nuendo")?{eq:"StudioEQ",compressor:"Compressor",reverb:"REVerence",delay:"ModMachine",limiter:"Limiter",saturator:"Tape"}:f.includes("reaper")?{eq:"ReaEQ",compressor:"ReaComp",reverb:"ReaVerb",delay:"ReaDelay",limiter:"ReaLimit",saturator:"ReaSynth"}:{eq:"Stock EQ",compressor:"Stock Compressor",reverb:"Stock Reverb",delay:"Stock Delay",limiter:"Stock Limiter",saturator:"Stock Saturator"}})(e):null,o=e&&!t?`**${e} Stock Plugin Chain:**`:e?`**${e}-Specific Settings:**`:"",l=t?`**Custom Plugin Chain (${t}):**`:"";return`
###  Processing Tips & Plugin Parameters
${o}
${l}

**EQ Parameters:**
${r&&!t?`- ${r.eq}: High-pass at ${e!=null&&e.toLowerCase().includes("logic")?"35":e!=null&&e.toLowerCase().includes("fl")?"30":"40"} Hz, Low-mid cut at ${e!=null&&e.toLowerCase().includes("logic")?"300":e!=null&&e.toLowerCase().includes("fl")?"400":"250"} Hz (-3dB), Presence boost at ${e!=null&&e.toLowerCase().includes("logic")?"12 kHz (+1.5dB)":e!=null&&e.toLowerCase().includes("fl")?"15 kHz (+2dB)":"3 kHz (+2dB)"}`:e==="Ableton Live"?"- EQ Eight: High-pass at 40 Hz, Low-mid cut at 250 Hz (-3dB), Presence boost at 3 kHz (+2dB)":e==="Logic Pro X"?"- Channel EQ: High-pass at 35 Hz, Low-mid cut at 300 Hz (-2.5dB), High boost at 12 kHz (+1.5dB)":e==="FL Studio"?"- Parametric EQ 2: High-pass at 30 Hz, Mid cut at 400 Hz (-4dB), Air boost at 15 kHz (+2dB)":"- High-pass filter: 20-40 Hz, Low-mid cut: 200-400 Hz (-2 to -4dB), Presence boost: 2-5 kHz (+1 to +3dB)"}

**Compression Settings:**
${r&&!t?`- ${r.compressor}: Ratio ${e!=null&&e.toLowerCase().includes("logic")?"3.5:1":"4:1"}, Attack ${e!=null&&e.toLowerCase().includes("fl")?"10ms":e!=null&&e.toLowerCase().includes("logic")?"20ms":"15ms"}, Release ${e!=null&&e.toLowerCase().includes("logic")?"150ms":e!=null&&e.toLowerCase().includes("fl")?"250ms":"200ms"}${e!=null&&e.toLowerCase().includes("logic")?", Auto-Release enabled":e!=null&&e.toLowerCase().includes("fl")?", Knee 3dB":", Knee 2dB"}`:e==="Ableton Live"?"- Compressor: Ratio 4:1, Attack 15ms, Release 200ms, Knee 2dB":e==="Logic Pro X"?"- Compressor: Ratio 3.5:1, Attack 20ms, Release 150ms, Auto-Release enabled":e==="FL Studio"?"- Fruity Compressor: Ratio 4:1, Attack 10ms, Release 250ms, Knee 3dB":"- Ratio: 3:1 to 4:1, Attack: 10-30ms, Release: 100-300ms"}

**Reverb & Delay:**
${r&&!t?`- ${r.reverb}: Room/Hall setting, 1.2s decay, Pre-delay 20ms, Mix 25%
- ${r.delay}: 1/8 note timing, Feedback 35%, High-cut 8kHz, Mix 20%`:"- Room reverb: 0.8-1.5s decay for space, Delay: 1/8 or 1/4 note timing, High-cut: 8-12 kHz to avoid harshness"}

**Effects Chain:**
${t?`- Using ${t}: Apply specific parameter recommendations based on your plugin selection`:r?`- ${r.eq}  ${r.compressor}  ${r.saturator}  ${r.reverb}/${r.delay}  ${r.limiter}`:"- Standard effects: EQ  Compressor  Reverb/Delay  Limiter"}
- Send levels: 15-25% to reverb bus, 10-20% to delay bus
- Sidechain settings: 4:1 ratio, fast attack, medium release`}function sb(e=!0){const t=e?" | **Instrumentation** ":"",n=e?" | --- ":"",r=e?[" | Lead synth, Bass, Drums, Pads "," | Vocals, Full arrangement "," | Reduced arrangement, Focus elements "," | Full arrangement, Vocal harmonies "," | Breakdown elements, Build-up "," | Lead elements, Minimal backing "," | Full arrangement, Climax elements "," | Fade elements, Ambient textures "]:Array(8).fill("");return`
##  Structural Blueprint

| **Section** | **Duration** | **Key Elements** | **Energy Level**${t}|
| --- | --- | --- | ---${n}|
| **Intro** | 16-32 bars | Atmospheric build, Teaser elements | Low-Medium${r[0]}|
| **Verse 1** | 16 bars | Main groove, Vocal/Lead melody | Medium${r[1]}|
| **Pre-Chorus** | 8 bars | Tension build, Filter sweeps | Medium-High${r[2]}|
| **Chorus** | 16 bars | Full energy, Hook elements | High${r[3]}|
| **Breakdown** | 8-16 bars | Stripped back, Build tension | Low-Medium${r[4]}|
| **Verse 2/Solo** | 16 bars | Variation, New elements | Medium-High${r[5]}|
| **Final Chorus** | 16-24 bars | Maximum energy, All elements | Maximum${r[6]}|
| **Outro** | 16-32 bars | Gradual fade, Ambient tail | Low${r[7]}|`}const yI=async e=>{var N,R;const t=e.songTitle?`- **Project Name**: ${e.songTitle}`:"",n=e.artistReference?`- **Artist References**: ${e.artistReference}`:"",r=((N=e.genre)==null?void 0:N.join(", "))||"Not specified",o=((R=e.vibe)==null?void 0:R.join(", "))||"Not specified",l=e.availableInstruments||"Not specified",u=e.daw?e.daw:"Not specified",f=e.plugins?e.plugins:"Stock/Generic plugins",m=e.key?`Key: ${e.key}`:"",d=e.scale?`Scale/Mode: ${e.scale}`:"",h=e.chords?`Chord Progression: ${e.chords}`:"",g=e.referenceTrackLink?`Reference Track: ${e.referenceTrackLink}`:"",T=e.lyrics?`Lyrics Theme: ${e.lyrics}`:"",S=e.generalNotes?`Additional Notes: ${e.generalNotes}`:"",E=sb(!0),A=ob(e.daw,e.plugins),L=`//  Including all fields
You are TrackGuideAI, an expert music production assistant specializing in comprehensive track creation guides.

Create a detailed TrackGuide for the following specifications:
${t}
${n}
- **Genre**: ${r}
- **Vibe**: ${o}
- **Available Instruments**: ${l}
- **DAW**: ${u}
- **Plugins**: ${f}
${m}
${d}
${h}
${g}
${T}
${S}

**IMPORTANT FORMATTING REQUIREMENTS:**
1. Include the exact Structural Blueprint table with Instrumentation column as provided
2. Use specific plugin parameters when DAW/plugins are specified
3. Provide actionable, detailed guidance for each section
4. Use markdown formatting with proper headers and emphasis

**Required Sections:**

${E}

##  Genre DNA Analysis
**Core Characteristics:**
- Tempo range and feel
- Harmonic structure and chord progressions
- Rhythmic patterns and groove elements
- Sonic palette and instrumentation choices

**Reference Analysis:**
${e.referenceTrackLink?"Analyze the provided reference track for key production techniques and arrangement ideas.":`Draw from classic examples in the ${r} genre for inspiration.`}

##  Instrument & Sound Design
**Primary Elements:**
- Lead sounds: Character, processing, and role
- Bass design: Sub content, mid presence, and groove
- Drum programming: Kick selection, snare character, hi-hat patterns
- Harmonic elements: Pad textures, chord voicings, arpeggios

**Sound Shaping:**
- Synthesis techniques and oscillator choices
- Filter movements and modulation
- Effects processing and spatial placement
- Layering strategies for fullness

${A}

##  Mixing & Arrangement Strategy
**Frequency Management:**
- Low-end: Sub-bass vs bass guitar/synth separation
- Midrange: Vocal/lead clarity and instrument separation  
- High-end: Air, sparkle, and presence balance

**Spatial Design:**
- Stereo width: Center, sides, and phantom center elements
- Depth: Reverb sends, delay throws, and dry/wet balance
- Movement: Automation, panning, and filter sweeps

**Dynamic Control:**
- Compression: Individual tracks and bus processing
- Sidechain: Pumping effects and clarity enhancement
- Limiting: Loudness and peak control

##  Arrangement Flow & Energy Management
**Section Transitions:**
- Build techniques: Risers, drum fills, filter sweeps
- Drop preparation: Silence, reverse reverbs, tension
- Energy curves: How to maintain listener engagement

**Variation Techniques:**
- Verse differences: Subtle changes to maintain interest
- Chorus variations: Building intensity across repetitions
- Bridge/breakdown: Contrast and reset before final sections

Focus on practical, actionable advice that can be immediately applied in ${u}. Provide specific parameter ranges and creative techniques that align with the ${r} aesthetic and ${o} mood.`;return await Ga.models.generateContentStream({model:zr,contents:L})},ys=async e=>{const t=`//  Including guidebookContext
You are TrackGuideAI's MIDI Pattern Generator. Generate MIDI patterns in VALID JSON format only.

**Requirements:**
- Key: ${e.key}
- Scale/Mode: ${e.scale||"Major/Natural Minor"}
- Tempo: ${e.tempo} BPM
- Time Signature: ${e.timeSignature.join("/")}
- Chord Progression: ${e.chordProgression}
- Genre Context: ${e.genre}
- Song Section: ${e.songSection||"General Loop"}
- Bars: ${e.bars}
- Target Instruments: ${e.targetInstruments.join(", ")}
- Guidebook Context: ${e.guidebookContext||"Not specified"}

**JSON Structure Required:**
{
  "chords": [
    {
      "time": 0,
      "name": "Cm",
      "duration": 2,
      "notes": [{"pitch": "C4", "midi": 60}, {"pitch": "Eb4", "midi": 63}, {"pitch": "G4", "midi": 67}],
      "velocity": 90
    }
  ],
  "bassline": [
    {
      "time": 0,
      "midi": 36,
      "duration": 0.5,
      "velocity": 100,
      "pitch": "C2"
    }
  ],
  "melody": [
    {
      "time": 0,
      "midi": 72,
      "duration": 1,
      "velocity": 95,
      "pitch": "C5"
    }
  ],
  "drums": {
    "kick": [
      {"time": 0, "duration": 0.25, "velocity": 120},
      {"time": 2, "duration": 0.25, "velocity": 115}
    ],
    "snare": [
      {"time": 1, "duration": 0.25, "velocity": 100},
      {"time": 3, "duration": 0.25, "velocity": 105}
    ],
    "hihat_closed": [
      {"time": 0.5, "duration": 0.125, "velocity": 80},
      {"time": 1.5, "duration": 0.125, "velocity": 75}
    ],
    "open_hihat": [
      {"time": 1.75, "duration": 0.5, "velocity": 85}
    ],
    "clap": [
      {"time": 1, "duration": 0.25, "velocity": 95}
    ],
    "tom_high": [
      {"time": 3.5, "duration": 0.25, "velocity": 90}
    ],
    "tom_mid": [
      {"time": 3.75, "duration": 0.25, "velocity": 95}
    ],
    "tom_low": [
      {"time": 4, "duration": 0.5, "velocity": 100}
    ],
    "crash_cymbal_1": [
      {"time": 0, "duration": 2, "velocity": 110}
    ],
    "ride_cymbal_1": [
      {"time": 0.5, "duration": 0.25, "velocity": 70}
    ]
  }
}

**CRITICAL REQUIREMENTS:**
1. Return ONLY valid JSON. No explanatory text, no markdown formatting, no code blocks.
2. All time values must be in beats (0 to ${e.bars*4})
3. All MIDI numbers must be integers between 21-108
4. All durations must be positive numbers
5. All velocities must be integers between 1-127
6. Use appropriate drum elements for ${e.genre}:
   - Essential: kick, snare, hihat_closed
   - Groove: open_hihat, ride_cymbal_1
   - Accents: clap, crash_cymbal_1
   - Fills: tom_high, tom_mid, tom_low
   - Choose elements that fit the genre and song section

**Genre-Specific Drum Guidelines:**
- Electronic/House/Techno: Focus on kick, hihat_closed, open_hihat, clap
- Rock/Metal: Use kick, snare, hihat_closed, crash_cymbal_1, tom_high, tom_mid, tom_low
- Hip Hop/Trap: Emphasize kick, snare, hihat_closed, clap
- Jazz/Funk: Include ride_cymbal_1, hihat_closed, kick, snare
- Pop: Balanced use of kick, snare, hihat_closed, crash_cymbal_1, clap

Generate patterns appropriate for ${e.genre} in the ${e.songSection} section, using ${e.chordProgression} progression in ${e.key}.`;return await Ga.models.generateContentStream({model:zr,contents:t})},xI=async e=>{const t=`You are TrackGuideAI's Mix Analysis Expert. Provide detailed mix feedback.

**Track Analysis:**
- Track Name: ${e.trackName}
- Focus Areas: ${e.focus||"Overall mix balance and clarity"}
- User Notes: ${e.notes||e.userNotes||"No specific notes provided"}

**Analysis Framework:**
1. **Frequency Balance**
   - Low-end: Sub-bass presence and bass clarity
   - Midrange: Vocal/lead prominence and instrument separation
   - High-end: Air, sparkle, and harshness assessment

2. **Spatial Characteristics**
   - Stereo width and imaging
   - Depth and dimension
   - Center focus vs side content

3. **Dynamic Properties**
   - Compression effectiveness
   - Transient preservation
   - Overall loudness and headroom

4. **Technical Assessment**
   - Phase relationships
   - Distortion or artifacts
   - Noise floor and clarity

**Provide specific, actionable feedback with:**
- Identified strengths and areas for improvement
- Specific frequency ranges and dB adjustments
- Plugin suggestions and parameter recommendations
- Before/after comparison techniques

Focus on practical improvements that can be implemented immediately.`;return(await Ga.models.generateContent({model:zr,contents:t})).text},vI=async e=>{const t=`
You are an expert mixing & mastering AI. The user has uploaded two mixes:

Mix A: "${e.mixAName}"  an earlier version  
Mix B: "${e.mixBName}"  the current working version  

 Instructions:
- Mix B is the active version  focus all actionable feedback on improving Mix B.
- Mix A is an earlier version  if Mix A has strengths vs Mix B, point those out.
- Acknowledge improvements made in Mix B compared to A.
- Do NOT suggest changes to Mix A (it is not being revised).

If "Request full mix analysis" is selected  add full technical breakdown of Mix B (like in your Mix Feedback function).

Provide your analysis in clear Markdown format with the following sections:

##  Overall Comparison

##  Frequency Balance

##  Stereo Image & Depth

##  Dynamics & Loudness

##  Technical Quality

##  Strengths & Opportunities (for Mix B)

##  Actionable Recommendations (for Mix B only)

`;return(await Ga.models.generateContent({model:zr,contents:t})).text};async function*bI(e,t,n,r,o){try{const l=n!=null&&n.tempoRange?`${n.tempoRange[0]}-${n.tempoRange[1]} BPM`:"120-130 BPM",u=(n==null?void 0:n.sections)||["Intro","Build-Up","Drop","Breakdown","Outro"],f=sb(!0),m=ob(r,o),d=`You are TrackGuideAI's Remix Specialist. Analyze the uploaded audio track and create a comprehensive remix guide for transforming it into ${t} style.

**User Production Setup:**
- **DAW:** ${r||"Not specified"}
- **Available Plugins:** ${o||"Stock/Generic plugins"}

**Analysis Requirements:**
1. Identify the original track's tempo, key, harmonic progression, and rhythmic characteristics
2. Determine optimal transformation approach for ${t}
3. Provide detailed production guidance with specific techniques
4. Include plugin-specific parameter recommendations based on user's setup

**Target Genre:** ${t}
**Target Tempo Range:** ${l}
**Suggested Sections:** ${u.join(", ")}

Create a detailed markdown remix guide that includes:

#  REMIX GUIDE: [Original Track]  ${t}

##  Original Track DNA Analysis
**Detected Characteristics:**
- **Original Tempo:** [Detected BPM]
- **Original Key:** [Detected Key]
- **Harmonic Blueprint:** [Chord progression analysis]
- **Rhythmic Feel:** [Time signature and groove analysis]
- **Sonic Character:** [Tonal qualities and instrumentation]

**Transformation Strategy:**
- **Target Tempo:** [Recommended BPM within ${l}]
- **Target Key:** [Optimal key for ${t}]
- **Genre Adaptation:** [How to adapt original elements]

${f}

##  Sound Design & Instrumentation Transformation
**Lead Elements:**
- **Original  ${t}:** Transform existing leads using specific techniques
- **New Elements:** Add characteristic ${t} sounds
- **Processing Chain:** Specific plugin recommendations and parameters

**Rhythm Section Redesign:**
- **Drum Programming:** ${t}-specific patterns and sounds
- **Bass Design:** Transform or replace bass elements
- **Percussion Layers:** Add characteristic ${t} percussion

##  Mixing & Processing Techniques
**Signal Chain Recommendations:**
${m}

**${t}-Specific Processing:**
- Genre-characteristic EQ curves
- Compression techniques for ${t}
- Saturation and distortion applications
- Spatial processing (reverb/delay) for the genre

##  Arrangement & Structure
**Section-by-Section Breakdown:**
${u.map(S=>`
**${S}:**
- Elements to include/exclude
- Energy level and dynamics
- Transition techniques
`).join("")}

**Dynamic Build Strategy:**
- How to create tension and release
- Filter sweeps and automation
- Risers and impacts placement

##  Creative Production Tips
- Unconventional ${t} techniques
- Experimental processing ideas
- Sample manipulation suggestions
- Layering strategies for depth

---
*Generated by TrackGuideAI - Your AI Music Production Assistant*

**IMPORTANT:** Also provide metadata at the end in this format:
METADATA:
- Original Tempo: [detected BPM number]
- Original Key: [detected key]
- Original Chord Progression: [detected progression]
- Target Tempo: [recommended BPM number]
- Target Key: [recommended key]
- Sections: [${u.join(", ")}]`,h=await Ga.models.generateContentStream({model:zr,contents:[{role:"user",parts:[{text:d},{inlineData:{mimeType:e.mimeType,data:e.base64}}]}]});let g="";for await(const S of h){const E=S.text;E&&(g+=E,yield{text:E})}yield{text:"",metadata:TI(g)}}catch(l){throw console.error("Error generating remix guide stream:",l),new Error(`Failed to generate remix guide: ${l instanceof Error?l.message:"Unknown error"}`)}}function TI(e){const t={},n=e.match(/Original Tempo:\s*(\d+)/i);n&&(t.originalTempo=parseInt(n[1]));const r=e.match(/Target Tempo:\s*(\d+)/i);r&&(t.targetTempo=parseInt(r[1]));const o=e.match(/Original Key:\s*([A-G][#b]?\s*(?:major|minor|maj|min))/i);o&&(t.originalKey=o[1]);const l=e.match(/Target Key:\s*([A-G][#b]?\s*(?:major|minor|maj|min))/i);l&&(t.targetKey=l[1]);const u=e.match(/Harmonic Blueprint:\s*([IVXivx\d\s\-,]+)/i);u&&(t.originalChordProgression=u[1].trim());const f=e.match(/Sections:\s*\[(.*?)\]/i);return f&&(t.sections=f[1].split(",").map(m=>m.trim().replace(/"/g,""))),t}const Mx=async e=>{if(!e.audioFile)return xI(e);try{const n=await(d=>new Promise((h,g)=>{const T=new FileReader;T.onloadend=()=>{const S=T.result;h(S.split(",")[1])},T.onerror=g,T.readAsDataURL(d)}))(e.audioFile),o={text:`You are TrackGuideAI's Advanced Mix Analysis Expert. Analyze the uploaded audio file and provide comprehensive mix feedback.

**Track Information:**
- Track Name: ${e.trackName||"Uploaded Mix"}
- Focus Areas: ${e.focus||"Overall mix balance and clarity"}
- User Notes: ${e.notes||e.userNotes||"No specific notes provided"}

**Comprehensive Analysis Framework:**

##  Audio Analysis Results

### Frequency Spectrum Analysis
**Low-End (20-250 Hz):**
- Sub-bass presence and control
- Bass clarity and definition
- Low-mid muddiness assessment

**Midrange (250 Hz - 5 kHz):**
- Vocal/lead instrument clarity
- Instrument separation and masking
- Presence and intelligibility

**High-End (5 kHz+):**
- Air and sparkle quality
- Harshness or sibilance issues
- Overall brightness balance

### Stereo Field & Spatial Analysis
**Width & Imaging:**
- Stereo spread effectiveness
- Phantom center stability
- Side content balance

**Depth & Dimension:**
- Reverb usage and space
- Dry/wet balance
- Front-to-back positioning

### Dynamic Range Assessment
**Compression Analysis:**
- Overall dynamic range
- Transient preservation
- Pumping or over-compression

**Loudness Evaluation:**
- Perceived loudness level
- Peak management
- Headroom availability

### Technical Quality Check
**Distortion & Artifacts:**
- Unwanted harmonic distortion
- Digital artifacts or clipping
- Noise floor assessment

**Phase Relationships:**
- Mono compatibility
- Phase cancellation issues
- Correlation analysis

##  Specific Recommendations

### Immediate Improvements
1. **Priority Fix #1:** [Most critical issue with specific solution]
2. **Priority Fix #2:** [Second most important improvement]
3. **Priority Fix #3:** [Third priority enhancement]

### Technical Adjustments
**EQ Suggestions:**
- Specific frequency cuts/boosts with dB amounts
- Problem frequency identification
- Enhancement opportunities

**Compression Recommendations:**
- Ratio, attack, and release settings
- Specific compressor types or plugins
- Bus compression strategies

**Effects Processing:**
- Reverb and delay adjustments
- Spatial enhancement techniques
- Creative processing opportunities

### Professional Polish
**Mastering Considerations:**
- Final EQ and compression
- Stereo enhancement
- Loudness optimization

**Reference Comparison:**
- How this mix compares to commercial standards
- Genre-specific benchmarks
- Areas for competitive improvement

Provide actionable, specific feedback that can be implemented immediately to improve the mix quality and professional impact.`},u=[{inlineData:{data:n,mimeType:e.audioFile.type||"audio/mpeg"}},o],m=(await Ga.models.generateContent({model:zr,contents:{parts:u}})).text;if(typeof m!="string")throw new Error("Received an unexpected response format from Gemini API for mix feedback.");return m}catch(t){console.error("Error generating mix feedback with audio:",t);let n="An unknown error occurred while generating mix feedback.";throw t instanceof Error&&(n=t.message,t.message.includes("API key not valid")||t.message.includes("permission")?n="Invalid API Key or insufficient permissions. Please check your API key configuration.":t.message.toLowerCase().includes("network error")||t.message.toLowerCase().includes("failed to fetch")?n=`Network error: Failed to connect to Gemini API. Please check your internet connection. (${t.message})`:t.message.includes("Candidate was blocked")?n="The response was blocked by the AI. This might be due to content policies. Please try again or adjust your input.":t.message.includes("audio")&&(n=`There was an issue processing the audio file. Ensure it's a common format and not too large. (${t.message})`)),new Error(n)}},Nn=km.forwardRef(({label:e,id:t,wrapperClassName:n,...r},o)=>y.jsxs("div",{className:n,children:[e&&y.jsx("label",{htmlFor:t,className:"block text-sm font-medium text-gray-300 mb-1",children:e}),y.jsx("input",{id:t,ref:o,...r,className:`w-full px-4 py-2 bg-gray-800 border border-gray-700 rounded-md shadow-sm placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-purple-500 text-gray-100 ${r.className||""}`})]}));Nn.displayName="Input";const Da=({label:e,id:t,wrapperClassName:n,...r})=>y.jsxs("div",{className:n,children:[e&&y.jsx("label",{htmlFor:t,className:"block text-sm font-medium text-gray-300 mb-1",children:e}),y.jsx("textarea",{id:t,...r,className:`w-full px-4 py-2 bg-gray-800 border border-gray-700 rounded-md shadow-sm placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-purple-500 text-gray-100 ${r.className||""}`,rows:3})]}),je=({children:e,variant:t="primary",size:n="md",className:r="",leftIcon:o,rightIcon:l,...u})=>{const f="inline-flex items-center justify-center font-semibold rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-gray-900 transition-colors duration-150 disabled:opacity-50 disabled:cursor-not-allowed",m={primary:"bg-purple-600 hover:bg-purple-700 text-white focus:ring-purple-500",secondary:"bg-gray-700    hover:bg-gray-600 text-gray-100 focus:ring-gray-500",outline:"border border-purple-500 text-purple-400 hover:bg-purple-500 hover:text-white focus:ring-purple-500",danger:"bg-red-600     hover:bg-red-700 text-white focus:ring-red-500"},d={sm:"px-3 py-1.5 text-sm",md:"px-4 py-2   text-base",lg:"px-6 py-3   text-lg"};return y.jsxs("button",{...u,className:`${f} ${m[t]} ${d[n]} ${r}`,children:[o&&y.jsx("span",{className:"mr-2",children:o}),e,l&&y.jsx("span",{className:"ml-2",children:l})]})},qe=({children:e,className:t="",title:n,titleClassName:r="",contentClassName:o="",...l})=>y.jsxs("div",{className:`bg-gray-800 shadow-lg rounded-lg overflow-hidden ${t}`,...l,children:[n&&y.jsx("div",{className:`px-4 py-3 border-b border-gray-700 ${r}`,children:y.jsx("h3",{className:"text-lg font-semibold text-gray-100",children:n})}),y.jsx("div",{className:`p-4 ${o}`,children:e})]}),er=({size:e="md",color:t="text-purple-500",text:n})=>{const r={sm:"w-6 h-6",md:"w-8 h-8",lg:"w-12 h-12"};return y.jsxs("div",{className:"flex flex-col items-center justify-center",children:[y.jsx("div",{className:`animate-spin rounded-full border-t-2 border-b-2 border-transparent ${r[e]} ${t}`,style:{borderTopColor:"currentColor",borderBottomColor:"currentColor"}}),n&&y.jsx("p",{className:"mt-2 text-sm text-gray-400",children:n})]})},Yd=({className:e,title:t})=>y.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:e||"w-5 h-5","aria-hidden":t?void 0:"true",role:t?"img":void 0,children:[t&&y.jsx("title",{children:t}),y.jsx("path",{fillRule:"evenodd",d:"M3 17a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zm3.293-7.707a1 1 0 011.414 0L9 10.586V3a1 1 0 112 0v7.586l1.293-1.293a1 1 0 111.414 1.414l-3 3a1 1 0 01-1.414 0l-3-3a1 1 0 010-1.414z",clipRule:"evenodd"})]}),SI=({className:e,title:t})=>y.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:e||"w-5 h-5","aria-hidden":t?void 0:"true",role:t?"img":void 0,children:[t&&y.jsx("title",{children:t}),y.jsx("path",{d:"M5 4a2 2 0 012-2h6a2 2 0 012 2v10a2 2 0 01-2 2H7a2 2 0 01-2-2V4zm2 0v10h6V4H7zm5 1h-4a1 1 0 100 2h4a1 1 0 100-2z"})]}),CI=({className:e,title:t})=>y.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:e||"w-5 h-5","aria-hidden":t?void 0:"true",role:t?"img":void 0,children:[t&&y.jsx("title",{children:t}),y.jsx("path",{fillRule:"evenodd",d:"M9 2a1 1 0 00-.894.553L7.382 4H4a1 1 0 000 2v10a2 2 0 002 2h8a2 2 0 002-2V6a1 1 0 100-2h-3.382l-.724-1.447A1 1 0 0011 2H9zM7 8a1 1 0 012 0v6a1 1 0 11-2 0V8zm5-1a1 1 0 00-1 1v6a1 1 0 102 0V8a1 1 0 00-1-1z",clipRule:"evenodd"})]}),$d=({className:e,title:t})=>y.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:e||"w-6 h-6","aria-hidden":t?void 0:"true",role:t?"img":void 0,children:[t&&y.jsx("title",{children:t}),y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6.042A8.967 8.967 0 006 3.75c-1.052 0-2.062.18-3 .512v14.25A8.987 8.987 0 016 18c2.305 0 4.408.867 6 2.292m0-14.25a8.966 8.966 0 016-2.292c1.052 0 2.062.18 3 .512v14.25A8.987 8.987 0 0018 18a8.967 8.967 0 00-6 2.292m0-14.25v14.25"})]}),MI=({className:e,title:t})=>y.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:e||"w-5 h-5","aria-hidden":t?void 0:"true",role:t?"img":void 0,children:[t&&y.jsx("title",{children:t}),y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 01-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 011.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 00-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 01-1.125-1.125v-9.25m9.75 0l-4.5-4.5m0 0l-4.5 4.5M12.75 3v4.5A2.25 2.25 0 0015 9.75h4.5"})]}),lb=({className:e,title:t})=>y.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:e||"w-5 h-5","aria-hidden":t?void 0:"true",role:t?"img":void 0,children:[t&&y.jsx("title",{children:t}),y.jsx("path",{d:"M10 3.515V11.24a3.513 3.513 0 00-1.5-.406c-1.313 0-2.388.752-2.388 1.672S7.187 14.18 8.5 14.18c1.238 0 2.263-.672 2.375-1.537h.125v-7.14c0-.313.11-.604.313-.828.202-.224.494-.344.812-.344.625 0 1.125.5 1.125 1.125V11.24a3.513 3.513 0 00-1.5-.406c-1.313 0-2.388.752-2.388 1.672S10.187 14.18 11.5 14.18c1.313 0 2.388-.752 2.388-1.672a1.675 1.675 0 00-1.078-1.543V3.515A2.625 2.625 0 0010 1C8.619 1 7.5 2.12 7.5 3.5V11.24A3.513 3.513 0 006 10.833c-1.313 0-2.388.752-2.388 1.672S4.687 14.18 6 14.18c1.237 0 2.262-.672 2.375-1.537h.125V6.125C8.5 4.5 9.125 3.515 10 3.515z"})]}),Kd=({className:e,title:t})=>y.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:e||"w-5 h-5","aria-hidden":t?void 0:"true",role:t?"img":void 0,children:[t&&y.jsx("title",{children:t}),y.jsx("path",{d:"M10.75 4.75a.75.75 0 00-1.5 0v4.5h-4.5a.75.75 0 000 1.5h4.5v4.5a.75.75 0 001.5 0v-4.5h4.5a.75.75 0 000-1.5h-4.5v-4.5z"})]}),Ex=({className:e,title:t})=>y.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:e||"w-5 h-5","aria-hidden":t?void 0:"true",role:t?"img":void 0,children:[t&&y.jsx("title",{children:t}),y.jsx("path",{fillRule:"evenodd",d:"M6.516 4.42A1.5 1.5 0 004 5.662v8.676a1.5 1.5 0 002.516 1.242l6.712-4.338a1.5 1.5 0 000-2.484L6.516 4.42z",clipRule:"evenodd"})]}),EI=({className:e,title:t})=>y.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:e||"w-5 h-5","aria-hidden":t?void 0:"true",role:t?"img":void 0,children:[t&&y.jsx("title",{children:t}),y.jsx("path",{fillRule:"evenodd",d:"M5 5a1 1 0 00-1 1v8a1 1 0 001 1h8a1 1 0 001-1V6a1 1 0 00-1-1H5zm0-2a3 3 0 00-3 3v8a3 3 0 003 3h8a3 3 0 003-3V6a3 3 0 00-3-3H5z",clipRule:"evenodd"})]}),Ax=({className:e,isSpinning:t,title:n})=>y.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:`${e||"w-5 h-5"} ${t?"animate-spin":""}`,"aria-hidden":n?void 0:"true",role:n?"img":void 0,children:[n&&y.jsx("title",{children:n}),y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.023 9.348h4.992v-.001M2.985 19.644v-4.992m0 0h4.992m-4.993 0l3.181 3.183a8.25 8.25 0 0013.803-3.7M4.031 9.865a8.25 8.25 0 0113.803-3.7l3.181 3.182m0-4.991v4.99"})]}),AI=({className:e,title:t})=>y.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:e||"w-5 h-5","aria-hidden":t?void 0:"true",role:t?"img":void 0,children:[t&&y.jsx("title",{children:t}),y.jsx("path",{fillRule:"evenodd",d:"M18 7H2a1 1 0 00-1 1v6a1 1 0 001 1h16a1 1 0 001-1V8a1 1 0 00-1-1zM2 9.5v3h16v-3H2z",clipRule:"evenodd"}),y.jsx("path",{d:"M4 11h1v1H4v-1zm2 0h1v1H6v-1zm2 0h1v1H8v-1zm2 0h1v1h-1v-1zm2 0h1v1h-1v-1zm2 0h1v1h-1v-1z"})]}),wI=({className:e,title:t})=>y.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:e||"w-6 h-6","aria-hidden":t?void 0:"true",role:t?"img":void 0,children:[t&&y.jsx("title",{children:t}),y.jsx("rect",{x:"3.5",y:"3.5",width:"17",height:"17",rx:"2",stroke:"currentColor",fill:"none",strokeWidth:"1.5"})]}),DI=({className:e,title:t})=>y.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:e||"w-5 h-5","aria-hidden":t?void 0:"true",role:t?"img":void 0,children:[t&&y.jsx("title",{children:t}),y.jsx("path",{fillRule:"evenodd",d:"M3 3a1 1 0 011-1h12a1 1 0 011 1v12a1 1 0 01-1 1H4a1 1 0 01-1-1V3zm10.707 3.707a1 1 0 00-1.414-1.414L8 9.586 6.707 8.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l5-5z",clipRule:"evenodd"})]}),ub=({className:e,title:t})=>y.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:e||"w-6 h-6","aria-hidden":t?void 0:"true",role:t?"img":void 0,children:[t&&y.jsx("title",{children:t}),y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"})]}),rd=({className:e,title:t})=>y.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:e||"w-6 h-6","aria-hidden":t?void 0:"true",role:t?"img":void 0,children:[t&&y.jsx("title",{children:t}),y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 16.5v2.25A2.25 2.25 0 005.25 21h13.5A2.25 2.25 0 0021 18.75V16.5m-13.5-9L12 3m0 0l4.5 4.5M12 3v13.5"})]}),ad=({className:e,title:t})=>y.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:e||"w-6 h-6","aria-hidden":t?void 0:"true",role:t?"img":void 0,children:[t&&y.jsx("title",{children:t}),y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.5 6h9.75M10.5 6a2.25 2.25 0 11-4.5 0m4.5 0a2.25 2.25 0 10-4.5 0M3.75 6H7.5m3 12h9.75m-9.75 0a2.25 2.25 0 01-4.5 0m4.5 0a2.25 2.25 0 00-4.5 0M3.75 18H7.5M10.5 12h9.75M10.5 12a2.25 2.25 0 01-4.5 0m4.5 0a2.25 2.25 0 00-4.5 0M3.75 12H7.5"})]});function II(e){return typeof e=="number"}function kI(e){return typeof e=="string"}function RI(e){return typeof e<"u"}function NI(e,t){return Math.pow(2,(e-69)/12)*440}var _I=/^([a-gA-G])(#{1,}|b{1,}|x{1,}|)(-?\d*)\s*(.*)\s*$/,LI=[0,2,4,5,7,9,11];function VI(e,t,n){if(typeof e!="string")return null;var r=_I.exec(e);if(!r||r[4])return null;var o={letter:r[1].toUpperCase(),acc:r[2].replace(/x/g,"##")};o.pc=o.letter+o.acc,o.step=(o.letter.charCodeAt(0)+3)%7,o.alt=o.acc[0]==="b"?-o.acc.length:o.acc.length;var l=LI[o.step]+o.alt;return o.chroma=l<0?12+l:l%12,r[3]&&(o.oct=+r[3],o.midi=l+12*(o.oct+1),o.freq=NI(o.midi)),o}function PI(e){if((II(e)||kI(e))&&e>=0&&e<128)return+e;var t=VI(e);return t&&RI(t.midi)?t.midi:null}function BI(e){return Array.isArray(e)&&e.length===2?e[0]*7+e[1]*12+12:PI(e)}var OI="C Db D Eb E F Gb G Ab A Bb B".split(" "),FI="C C# D D# E F F# G G# A A# B".split(" ");function cb(e,t){if(e===!0||e===!1)return function(l){return cb(l,e)};e=Math.round(e);var n=t===!0?FI:OI,r=n[e%12],o=Math.floor(e/12)-1;return r+o}const zI=Object.freeze(Object.defineProperty({__proto__:null,note:cb,toMidi:BI},Symbol.toStringTag,{value:"Module"})),jI=rE(zI);var od,wx;function HI(){if(wx)return od;wx=1;var e=jI,t={VERSION:"2.1.4",HEADER_CHUNK_TYPE:[77,84,104,100],HEADER_CHUNK_LENGTH:[0,0,0,6],HEADER_CHUNK_FORMAT0:[0,0],HEADER_CHUNK_FORMAT1:[0,1],HEADER_CHUNK_DIVISION:[0,128],TRACK_CHUNK_TYPE:[77,84,114,107],META_EVENT_ID:255,META_TEXT_ID:1,META_COPYRIGHT_ID:2,META_TRACK_NAME_ID:3,META_INSTRUMENT_NAME_ID:4,META_LYRIC_ID:5,META_MARKER_ID:6,META_CUE_POINT:7,META_TEMPO_ID:81,META_SMTPE_OFFSET:84,META_TIME_SIGNATURE_ID:88,META_KEY_SIGNATURE_ID:89,META_END_OF_TRACK_ID:[47,0],CONTROLLER_CHANGE_STATUS:176,PITCH_BEND_STATUS:224};function n(O){"@babel/helpers - typeof";return n=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(k){return typeof k}:function(k){return k&&typeof Symbol=="function"&&k.constructor===Symbol&&k!==Symbol.prototype?"symbol":typeof k},n(O)}function r(){r=function(B,Y){return new _(B,void 0,Y)};var O=RegExp.prototype,k=new WeakMap;function _(B,Y,D){var te=new RegExp(B,Y);return k.set(te,D||k.get(B)),m(te,_.prototype)}function C(B,Y){var D=k.get(Y);return Object.keys(D).reduce(function(te,P){return te[P]=B[D[P]],te},Object.create(null))}return f(_,RegExp),_.prototype.exec=function(B){var Y=O.exec.call(this,B);return Y&&(Y.groups=C(Y,this)),Y},_.prototype[Symbol.replace]=function(B,Y){if(typeof Y=="string"){var D=k.get(this);return O[Symbol.replace].call(this,B,Y.replace(/\$<([^>]+)>/g,function(P,ne){return"$"+D[ne]}))}if(typeof Y=="function"){var te=this;return O[Symbol.replace].call(this,B,function(){var P=arguments;return typeof P[P.length-1]!="object"&&(P=[].slice.call(P)).push(C(P,te)),Y.apply(this,P)})}return O[Symbol.replace].call(this,B,Y)},r.apply(this,arguments)}function o(O,k){if(!(O instanceof k))throw new TypeError("Cannot call a class as a function")}function l(O,k){for(var _=0;_<k.length;_++){var C=k[_];C.enumerable=C.enumerable||!1,C.configurable=!0,"value"in C&&(C.writable=!0),Object.defineProperty(O,C.key,C)}}function u(O,k,_){return k&&l(O.prototype,k),_&&l(O,_),Object.defineProperty(O,"prototype",{writable:!1}),O}function f(O,k){if(typeof k!="function"&&k!==null)throw new TypeError("Super expression must either be null or a function");O.prototype=Object.create(k&&k.prototype,{constructor:{value:O,writable:!0,configurable:!0}}),Object.defineProperty(O,"prototype",{writable:!1}),k&&m(O,k)}function m(O,k){return m=Object.setPrototypeOf||function(C,B){return C.__proto__=B,C},m(O,k)}var d=function(){function O(){o(this,O)}return u(O,null,[{key:"version",value:function(){return t.VERSION}},{key:"stringToBytes",value:function(_){return _.split("").map(function(C){return C.charCodeAt()})}},{key:"isNumeric",value:function(_){return!isNaN(parseFloat(_))&&isFinite(_)}},{key:"getPitch",value:function(_){var C=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"C4";return 60-e.toMidi(C)+e.toMidi(_)}},{key:"numberToVariableLength",value:function(_){_=Math.round(_);for(var C=_&127;_=_>>7;)C<<=8,C|=_&127|128;for(var B=[];B.push(C&255),C&128;)C>>=8;return B}},{key:"stringByteCount",value:function(_){return encodeURI(_).split(/%..|./).length-1}},{key:"numberFromBytes",value:function(_){var C="",B;return _.forEach(function(Y){B=Y.toString(16),B.length==1&&(B="0"+B),C+=B}),parseInt(C,16)}},{key:"numberToBytes",value:function(_,C){C=C||1;var B=_.toString(16);B.length&1&&(B="0"+B);var Y=B.match(/.{2}/g);if(Y=Y.map(function(D){return parseInt(D,16)}),Y.length<C)for(;C-Y.length>0;)Y.unshift(0);return Y}},{key:"toArray",value:function(_){return Array.isArray(_)?_:[_]}},{key:"convertVelocity",value:function(_){return _=_>100?100:_,Math.round(_/100*127)}},{key:"getTickDuration",value:function(_){if(Array.isArray(_))return _.map(function(D){return O.getTickDuration(D)}).reduce(function(D,te){return D+te},0);if(_=_.toString(),_.toLowerCase().charAt(0)==="t"){var C=parseInt(_.substring(1));if(isNaN(C)||C<0)throw new Error(_+" is not a valid duration.");return C}var B=O.numberFromBytes(t.HEADER_CHUNK_DIVISION),Y=B*O.getDurationMultiplier(_);return O.getRoundedIfClose(Y)}},{key:"getRoundedIfClose",value:function(_){var C=Math.round(_);return Math.abs(C-_)<1e-6?C:_}},{key:"getPrecisionLoss",value:function(_){var C=Math.round(_);return C-_}},{key:"getDurationMultiplier",value:function(_){if(_==="0")return 0;var C=_.match(r(/^(d+)?(\d+)(?:t(\d*))?/,{dotted:1,base:2,tuplet:3}));if(C){var B=Number(C.groups.base),Y=B===1||(B&B-1)===0;if(Y){var D=B/4,te=1/D,P=C.groups,ne=P.dotted,ye=P.tuplet;if(ne){var oe=ne.length,Te=Math.pow(2,oe);te=te+te*((Te-1)/Te)}if(typeof ye=="string"){var Me=te*2,Re=Number(ye||"3");te=Me/Re}return te}}throw new Error(_+" is not a valid duration.")}}]),O}(),h=u(function O(k){o(this,O),k=Object.assign({delta:0},k),this.type="controller",this.data=d.numberToVariableLength(k.delta).concat(t.CONTROLLER_CHANGE_STATUS,k.controllerNumber,k.controllerValue)}),g=u(function O(k){o(this,O),k=Object.assign({delta:0},k),this.type="cue-point";var _=d.stringToBytes(k.text);this.data=d.numberToVariableLength(k.delta).concat(t.META_EVENT_ID,t.META_CUE_POINT,d.numberToVariableLength(_.length),_)}),T=u(function O(k){o(this,O),k=Object.assign({delta:0},k),this.type="end-track",this.data=d.numberToVariableLength(k.delta).concat(t.META_EVENT_ID,t.META_END_OF_TRACK_ID)}),S=u(function O(k){o(this,O),k=Object.assign({delta:0},k),this.type="instrument-name";var _=d.stringToBytes(k.text);this.data=d.numberToVariableLength(k.delta).concat(t.META_EVENT_ID,t.META_INSTRUMENT_NAME_ID,d.numberToVariableLength(_.length),_)}),E=u(function O(k,_){o(this,O),this.type="key-signature";var C=_||0;if(k=k||0,typeof _>"u"){var B=[["Cb","Gb","Db","Ab","Eb","Bb","F","C","G","D","A","E","B","F#","C#"],["ab","eb","bb","f","c","g","d","a","e","b","f#","c#","g#","d#","a#"]],Y=k.length,D=k||"C";if(k[0]===k[0].toLowerCase()&&(C=1),Y>1)switch(k.charAt(Y-1)){case"m":C=1,D=k.charAt(0).toLowerCase(),D=D.concat(k.substring(1,Y-1));break;case"-":C=1,D=k.charAt(0).toLowerCase(),D=D.concat(k.substring(1,Y-1));break;case"M":C=0,D=k.charAt(0).toUpperCase(),D=D.concat(k.substring(1,Y-1));break;case"+":C=0,D=k.charAt(0).toUpperCase(),D=D.concat(k.substring(1,Y-1));break}var te=B[C].indexOf(D);k=te===-1?0:te-7}this.data=d.numberToVariableLength(0).concat(t.META_EVENT_ID,t.META_KEY_SIGNATURE_ID,[2],d.numberToBytes(k,1),d.numberToBytes(C,1))}),A=u(function O(k){o(this,O),k=Object.assign({delta:0},k),this.type="lyric";var _=d.stringToBytes(k.text);this.data=d.numberToVariableLength(k.delta).concat(t.META_EVENT_ID,t.META_LYRIC_ID,d.numberToVariableLength(_.length),_)}),L=u(function O(k){o(this,O),k=Object.assign({delta:0},k),this.type="marker";var _=d.stringToBytes(k.text);this.data=d.numberToVariableLength(k.delta).concat(t.META_EVENT_ID,t.META_MARKER_ID,d.numberToVariableLength(_.length),_)}),I=function(){function O(k){o(this,O),k=Object.assign({channel:1,startTick:null,velocity:50,wait:0},k),this.type="note-on",this.channel=k.channel,this.pitch=k.pitch,this.wait=k.wait,this.velocity=k.velocity,this.startTick=k.startTick,this.tick=null,this.delta=null,this.data=k.data}return u(O,[{key:"buildData",value:function(_,C){var B=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this.data=[],this.startTick?(this.tick=d.getRoundedIfClose(this.startTick),_.tickPointer==0&&(this.delta=this.tick)):(this.delta=d.getTickDuration(this.wait),this.tick=d.getRoundedIfClose(_.tickPointer+this.delta)),this.deltaWithPrecisionCorrection=d.getRoundedIfClose(this.delta-C),this.data=d.numberToVariableLength(this.deltaWithPrecisionCorrection).concat(this.getStatusByte(),d.getPitch(this.pitch,B.middleC),d.convertVelocity(this.velocity)),this}},{key:"getStatusByte",value:function(){return 144+this.channel-1}}]),O}(),N=function(){function O(k){o(this,O),k=Object.assign({channel:1,velocity:50,tick:null},k),this.type="note-off",this.channel=k.channel,this.pitch=k.pitch,this.duration=k.duration,this.velocity=k.velocity,this.tick=k.tick,this.delta=d.getTickDuration(this.duration),this.data=k.data}return u(O,[{key:"buildData",value:function(_,C){var B=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this.tick===null&&(this.tick=d.getRoundedIfClose(this.delta+_.tickPointer)),this.deltaWithPrecisionCorrection=d.getRoundedIfClose(this.delta-C),this.data=d.numberToVariableLength(this.deltaWithPrecisionCorrection).concat(this.getStatusByte(),d.getPitch(this.pitch,B.middleC),d.convertVelocity(this.velocity)),this}},{key:"getStatusByte",value:function(){return 128+this.channel-1}}]),O}(),R=function(){function O(k){o(this,O),k=Object.assign({channel:1,repeat:1,sequential:!1,startTick:null,velocity:50,wait:0},k),this.data=[],this.type="note",this.pitch=d.toArray(k.pitch),this.channel=k.channel,this.duration=k.duration,this.grace=k.grace,this.repeat=k.repeat,this.sequential=k.sequential,this.startTick=k.startTick,this.velocity=k.velocity,this.wait=k.wait,this.tickDuration=d.getTickDuration(this.duration),this.restDuration=d.getTickDuration(this.wait),this.events=[]}return u(O,[{key:"buildData",value:function(){var _=this;if(this.data=[],this.grace){var C=1;this.grace=d.toArray(this.grace),this.grace.forEach(function(){var D=new O({pitch:_.grace,duration:"T"+C});_.data=_.data.concat(D.data)})}if(this.sequential)for(var Y=0;Y<this.repeat;Y++)this.pitch.forEach(function(D,te){var P=new I({channel:_.channel,wait:te>0?0:_.wait,velocity:_.velocity,pitch:D,startTick:_.startTick}),ne=new N({channel:_.channel,duration:_.duration,velocity:_.velocity,pitch:D});_.events.push(P,ne)});else for(var B=0;B<this.repeat;B++)this.pitch.forEach(function(D,te){var P;te==0?P=new I({channel:_.channel,wait:_.wait,velocity:_.velocity,pitch:D,startTick:_.startTick}):P=new I({channel:_.channel,wait:0,velocity:_.velocity,pitch:D,startTick:_.startTick}),_.events.push(P)}),this.pitch.forEach(function(D,te){var P;te==0?P=new N({channel:_.channel,duration:_.duration,velocity:_.velocity,pitch:D,tick:_.startTick!==null?d.getTickDuration(_.duration)+_.startTick:null}):P=new N({channel:_.channel,duration:0,velocity:_.velocity,pitch:D,tick:_.startTick!==null?d.getTickDuration(_.duration)+_.startTick:null}),_.events.push(P)});return this}}]),O}(),z=function(k){return k<=0?Math.floor(16384*(k+1)/2):Math.floor(16383*(k+1)/2)},G=u(function O(k){o(this,O),k=Object.assign({delta:0},k),this.type="pitch-bend";var _=z(k.bend),C=k.channel||0,B=_&127,Y=_>>7&127;this.data=d.numberToVariableLength(k.delta).concat(t.PITCH_BEND_STATUS|C,B,Y)}),j=function(){function O(k){o(this,O),this.fields=Object.assign({channel:1,delta:0},k),this.type="program",this.data=d.numberToVariableLength(this.fields.delta).concat(this.getStatusByte(),this.fields.instrument)}return u(O,[{key:"getStatusByte",value:function(){return 192+this.fields.channel-1}}]),O}(),se=u(function O(k){o(this,O),k=Object.assign({delta:0},k),this.type="tempo",this.tick=k.tick;var _=Math.round(6e7/k.bpm);this.data=d.numberToVariableLength(k.delta).concat(t.META_EVENT_ID,t.META_TEMPO_ID,[3],d.numberToBytes(_,3))}),le=u(function O(k){o(this,O),k=Object.assign({delta:0},k),this.type="text";var _=d.stringToBytes(k.text);this.data=d.numberToVariableLength(k.delta).concat(t.META_EVENT_ID,t.META_TEXT_ID,d.numberToVariableLength(_.length),_)}),pe=u(function O(k,_,C,B){o(this,O),this.type="time-signature",this.data=d.numberToVariableLength(0).concat(t.META_EVENT_ID,t.META_TIME_SIGNATURE_ID,[4],d.numberToBytes(k,1),d.numberToBytes(Math.log2(_),1),d.numberToBytes(C||24,1),d.numberToBytes(B||8,1))}),H=u(function O(k){o(this,O),k=Object.assign({delta:0},k),this.type="copyright";var _=d.stringToBytes(k.text);this.data=d.numberToVariableLength(k.delta).concat(t.META_EVENT_ID,t.META_COPYRIGHT_ID,d.numberToVariableLength(_.length),_)}),ce=u(function O(k){o(this,O),k=Object.assign({delta:0},k),this.type="track-name";var _=d.stringToBytes(k.text);this.data=d.numberToVariableLength(k.delta).concat(t.META_EVENT_ID,t.META_TRACK_NAME_ID,d.numberToVariableLength(_.length),_)}),J=function(){function O(){o(this,O),this.type=t.TRACK_CHUNK_TYPE,this.data=[],this.size=[],this.events=[],this.explicitTickEvents=[],this.tickPointer=0}return u(O,[{key:"addEvent",value:function(_,C){var B=this;return d.toArray(_).forEach(function(Y,D){if(Y instanceof R){if(typeof C=="function"){var te=C(D,Y);if(n(te)==="object")for(var P in te)switch(P){case"channel":Y.channel=te[P];break;case"duration":Y.duration=te[P];break;case"sequential":Y.sequential=te[P];break;case"velocity":Y.velocity=d.convertVelocity(te[P]);break}}Y.startTick!==null?B.explicitTickEvents.push(Y):Y.buildData().events.forEach(function(ne){return B.events.push(ne)})}else Y instanceof T&&B.removeEventsByType("end-track"),B.events.push(Y)}),this}},{key:"buildData",value:function(){var _=this,C=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};(!this.events.length||!(this.events[this.events.length-1]instanceof T))&&this.addEvent(new T),this.data=[],this.size=[],this.tickPointer=0;var B=0;return this.events.forEach(function(Y){if(Y instanceof I||Y instanceof N){var D=Y.buildData(_,B,C);B=d.getPrecisionLoss(Y.deltaWithPrecisionCorrection||0),_.data=_.data.concat(D.data),_.tickPointer=d.getRoundedIfClose(Y.tick)}else Y instanceof se&&(_.tickPointer=d.getRoundedIfClose(Y.tick)),_.data=_.data.concat(Y.data)}),this.mergeExplicitTickEvents(),this.size=d.numberToBytes(this.data.length,4),this}},{key:"mergeExplicitTickEvents",value:function(){var _=this;this.explicitTickEvents.length&&(this.explicitTickEvents.sort(function(C,B){return C.startTick-B.startTick}),this.explicitTickEvents.forEach(function(C){C.buildData().events.forEach(function(B){return B.buildData(_)}),C.events.forEach(function(B){return _.mergeSingleEvent(B)})}),this.explicitTickEvents=[],this.buildData())}},{key:"mergeTrack",value:function(_){var C=this;this.buildData(),_.buildData().events.forEach(function(B){return C.mergeSingleEvent(B)})}},{key:"mergeSingleEvent",value:function(_){if(!this.events.length){this.addEvent(_);return}for(var C,B=0;B<this.events.length&&!(this.events[B].tick>_.tick);B++)C=B;var Y=C+1;_.delta=_.tick-this.events[C].tick,this.events.splice(Y,0,_);for(var D=Y+1;D<this.events.length;D++)this.events[D].delta=this.events[D].tick-this.events[D-1].tick}},{key:"removeEventsByType",value:function(_){var C=this;return this.events.forEach(function(B,Y){B.type===_&&C.events.splice(Y,1)}),this}},{key:"setTempo",value:function(_){var C=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return this.addEvent(new se({bpm:_,tick:C}))}},{key:"setTimeSignature",value:function(_,C,B,Y){return this.addEvent(new pe(_,C,B,Y))}},{key:"setKeySignature",value:function(_,C){return this.addEvent(new E(_,C))}},{key:"addText",value:function(_){return this.addEvent(new le({text:_}))}},{key:"addCopyright",value:function(_){return this.addEvent(new H({text:_}))}},{key:"addTrackName",value:function(_){return this.addEvent(new ce({text:_}))}},{key:"addInstrumentName",value:function(_){return this.addEvent(new S({text:_}))}},{key:"addMarker",value:function(_){return this.addEvent(new L({text:_}))}},{key:"addCuePoint",value:function(_){return this.addEvent(new g({text:_}))}},{key:"addLyric",value:function(_){return this.addEvent(new A({text:_}))}},{key:"polyModeOn",value:function(){var _=new I({data:[0,176,126,0]});return this.addEvent(_)}},{key:"setPitchBend",value:function(_){return this.addEvent(new G({bend:_}))}},{key:"controllerChange",value:function(_,C){return this.addEvent(new h({controllerNumber:_,controllerValue:C}))}}]),O}(),me=function(){function O(){o(this,O)}return u(O,[{key:"trackFromVoice",value:function(_){var C=this,B=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{addRenderedAccidentals:!1},Y=new J,D=[];return _.tickables.forEach(function(te){te.noteType==="n"?(Y.addEvent(new R({pitch:te.keys.map(function(P,ne){return C.convertPitch(P,ne,te,B.addRenderedAccidentals)}),duration:C.convertDuration(te),wait:D})),D=[]):te.noteType==="r"&&D.push(C.convertDuration(te))}),D.length>0&&Y.addEvent(new R({pitch:"[c4]",duration:"0",wait:D,velocity:"0"})),Y}},{key:"convertPitch",value:function(_,C,B){var Y=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1,D=_.split("/"),te=D[0].substring(1).replace("n","");if(Y){var P;(P=B.getAccidentals())===null||P===void 0||P.forEach(function(ne){ne.index===C&&(ne.type==="n"?te="":te+=ne.type)})}return D[0][0]+te+D[1]}},{key:"convertDuration",value:function(_){return"d".repeat(_.dots)+this.convertBaseDuration(_.duration)+(_.tuplet?"t"+_.tuplet.num_notes:"")}},{key:"convertBaseDuration",value:function(_){switch(_){case"w":return"1";case"h":return"2";case"q":return"4";default:return _}}}]),O}(),fe=u(function O(k){o(this,O),this.type=t.HEADER_CHUNK_TYPE;var _=k>1?t.HEADER_CHUNK_FORMAT1:t.HEADER_CHUNK_FORMAT0;this.data=_.concat(d.numberToBytes(k,2),t.HEADER_CHUNK_DIVISION),this.size=[0,0,0,this.data.length]}),he=function(){function O(k){var _=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};o(this,O),this.tracks=d.toArray(k),this.options=_}return u(O,[{key:"buildData",value:function(){var _=this,C=[];return C.push(new fe(this.tracks.length)),this.tracks.forEach(function(B){C.push(B.buildData(_.options))}),C}},{key:"buildFile",value:function(){var _=[];return this.buildData().forEach(function(C){return _=_.concat(C.type,C.size,C.data)}),new Uint8Array(_)}},{key:"base64",value:function(){return typeof btoa=="function"?btoa(String.fromCharCode.apply(null,this.buildFile())):Buffer.from(this.buildFile()).toString("base64")}},{key:"dataUri",value:function(){return"data:audio/midi;base64,"+this.base64()}},{key:"setOption",value:function(_,C){return this.options[_]=C,this}},{key:"stdout",value:function(){return process.stdout.write(Buffer.from(this.buildFile()))}}]),O}(),q={Constants:t,ControllerChangeEvent:h,CuePointEvent:g,EndTrackEvent:T,InstrumentNameEvent:S,KeySignatureEvent:E,LyricEvent:A,MarkerEvent:L,NoteOnEvent:I,NoteOffEvent:N,NoteEvent:R,PitchBendEvent:G,ProgramChangeEvent:j,TempoEvent:se,TextEvent:le,TimeSignatureEvent:pe,Track:J,TrackNameEvent:ce,Utils:d,VexFlow:me,Writer:he};return od=q,od}var UI=HI();const Un=ws(UI),eu=e=>{if(!Un.Track)return null;const t=new Un.Track;return t.addTrackName(e),t},sd=(e,t,n,r=!1)=>{!Un.NoteEvent||!t||t.length===0||!e||t.forEach(o=>{let l=[];if(r)l=o.notes.map(f=>f.midi).filter(f=>typeof f=="number");else{const u=o;typeof u.midi=="number"&&(l=[u.midi])}if(l.length>0){const u=Math.round(o.duration*128),f=Math.round(o.time*128),m=l.map(d=>{const h=["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"],g=Math.floor(d/12)-1;return`${h[d%12]}${g}`});e.addEvent(new Un.NoteEvent({pitch:m.length===1?m[0]:m,duration:`T${u}`,startTick:f,velocity:o.velocity||(r?90:100),channel:n}))}})},GI=(e,t)=>{!Un.NoteEvent||!t||Object.keys(t).length===0||!e||Object.entries(t).forEach(([n,r])=>{const o=n.toLowerCase().replace(/\s+/g,"_"),l=_a[o]||_a[n];typeof l!="number"||!r||r.forEach(u=>{const f=Math.round(u.duration*128),m=Math.round(u.time*128),d=["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"],h=Math.floor(l/12)-1,T=`${d[l%12]}${h}`;e.addEvent(new Un.NoteEvent({pitch:T,duration:`T${f}`,startTick:m,velocity:u.velocity||100,channel:10}))})})},Dx=(e,t,n="TrackGuide")=>{if(console.log(" Generating MIDI file with patterns:",e),console.log(" Settings:",t),console.log(" Track name prefix:",n),!Un||!Un.Writer||!Un.Track||!Un.NoteEvent)return console.error("MidiWriterJS components (Writer, Track, NoteEvent) are not loaded. Cannot generate MIDI file."),null;const r=[];let o=!1;const l=f=>(f&&(f.setTempo(t.tempo,0),f.setTimeSignature(t.timeSignature[0],t.timeSignature[1])),f);if(e.chords&&e.chords.length>0){let f=eu(`${n} Chords`);f=l(f),f&&(sd(f,e.chords,1,!0),r.push(f),o=!0)}if(e.bassline&&e.bassline.length>0){let f=eu(`${n} Bassline`);f=l(f),f&&(sd(f,e.bassline,2,!1),r.push(f),o=!0)}if(e.melody&&e.melody.length>0){let f=eu(`${n} Melody`);f=l(f),f&&(sd(f,e.melody,3,!1),r.push(f),o=!0)}if(e.drums&&Object.keys(e.drums).length>0){let f=eu(`${n} Drums`);f=l(f),f&&(GI(f,e.drums),r.push(f),o=!0)}return o?new Un.Writer(r).dataUri():(console.warn("No patterns to write to MIDI file."),null)},Ix=(e,t)=>{if(console.log(" Downloading MIDI file:",t),console.log(" Data URI length:",e.length),console.log(" Data URI starts with:",e.substring(0,50)),!e){console.error("MIDI data URI is null or empty. Cannot download."),alert("Failed to generate MIDI data for download.");return}const n=document.createElement("a");n.href=e,n.download=t,document.body.appendChild(n),n.click(),document.body.removeChild(n),console.log(" Download triggered successfully")};let Wi=null,tr=[],Su=null,mu=null,Cu=0,os=0,Ra=!1;const Nm=()=>((!Wi||Wi.state==="closed")&&(Wi=new(window.AudioContext||window.webkitAudioContext),Su=Wi.createGain(),Su.connect(Wi.destination)),Wi.state==="suspended"&&Wi.resume(),Wi),_r=(e,t)=>{const n=e/t*60;return Number.isFinite(n)?n:(console.error(" beatsToSeconds produced non-finite result:",n,"beats:",e,"tempo:",t),0)},ld=(e,t,n,r=100,o=!1,l,u)=>{const f=Nm();if(!Su||!u)return;if(!Number.isFinite(e)||!Number.isFinite(t)||!Number.isFinite(n)||!Number.isFinite(r)){console.error(" Invalid note values detected:",{noteNumber:e,startTimeInLoopSeconds:t,durationSeconds:n,velocity:r,trackType:u,isDrum:o,drumTypeKey:l});return}const m=Cu+os*fb()+t;if(m<f.currentTime-.05)return;const d=f.createGain(),h=r/127*(o?.75:.35);let g=h;if((!Number.isFinite(g)||g<0)&&(console.error(" Invalid gain value detected:",g,"for velocity:",r),g=.1),d.gain.setValueAtTime(g,m),g>1e-4)try{d.gain.exponentialRampToValueAtTime(1e-4,m+n)}catch{d.gain.linearRampToValueAtTime(1e-4,m+n)}d.connect(Su);let T;if(o){const S=l||"";if(console.log(` Synthesizing drum: "${S}" (MIDI: ${e})`),S.includes("kick")||S.includes("bass_drum")||e===36){const E=f.createOscillator();E.type="sine",E.frequency.setValueAtTime(150,m),E.frequency.exponentialRampToValueAtTime(50,m+Math.min(n,.12));const A=f.createGain();A.gain.setValueAtTime(1,m),A.gain.exponentialRampToValueAtTime(.001,m+n),E.connect(A).connect(d),E.start(m),E.stop(m+n),tr.push({node:E,controlGainNode:d,trackType:u,intendedVolume:h,scheduledStopTime:m+n,isDrum:!0});return}else if(S.includes("snare")||e===38){T=f.createBufferSource();const E=Math.max(1,Math.floor(f.sampleRate*n)),A=f.createBuffer(1,E,f.sampleRate),L=A.getChannelData(0);for(let I=0;I<E;I++)L[I]=(Math.random()*2-1)*Math.exp(-I/(f.sampleRate*.05));T.buffer=A}else if(S.includes("clap")||S.includes("hand_clap")||e===39){T=f.createBufferSource();const E=Math.max(1,Math.floor(f.sampleRate*n)),A=f.createBuffer(1,E,f.sampleRate),L=A.getChannelData(0);for(let I=0;I<E;I++){const N=Math.exp(-I/(f.sampleRate*.03)),R=Math.random()*2-1,z=Math.sin(I*.01)>.5?1:.3;L[I]=R*N*z}T.buffer=A}else if(S.includes("hat")||S.includes("hihat")||e===42||e===46){T=f.createBufferSource();const E=Math.max(1,Math.floor(f.sampleRate*n)),A=f.createBuffer(1,E,f.sampleRate),L=A.getChannelData(0),I=5e3,R=S.includes("open")||e===46?.15:.03;for(let z=0;z<E;z++)L[z]=(Math.random()*2-1)*Math.exp(-z/(f.sampleRate*R))*Math.sin(2*Math.PI*I*(z/f.sampleRate)*(1+Math.random()*.3));T.buffer=A}else if(S.includes("crash")||S.includes("cymbal")||e===49){T=f.createBufferSource();const E=Math.max(1,Math.floor(f.sampleRate*n)),A=f.createBuffer(1,E,f.sampleRate),L=A.getChannelData(0),I=4e3,N=.25;for(let R=0;R<E;R++){const z=Math.exp(-R/(f.sampleRate*N)),G=Math.sin(2*Math.PI*I*(R/f.sampleRate)),j=Math.sin(2*Math.PI*I*1.5*(R/f.sampleRate)),se=(Math.random()*2-1)*.3;L[R]=(G+j*.7+se)*z}T.buffer=A}else if(S.includes("ride")||e===51){T=f.createBufferSource();const E=Math.max(1,Math.floor(f.sampleRate*n)),A=f.createBuffer(1,E,f.sampleRate),L=A.getChannelData(0),I=3e3,N=.15;for(let R=0;R<E;R++){const z=Math.exp(-R/(f.sampleRate*N)),G=Math.sin(2*Math.PI*I*(R/f.sampleRate)),j=Math.sin(2*Math.PI*I*2.5*(R/f.sampleRate))*.3;L[R]=(G+j)*z}T.buffer=A}else if(S.includes("tom")||e===41||e===47||e===50){const E=f.createOscillator();E.type="sine";let A=200;S.includes("high")||e===50?A=300:S.includes("mid")||e===47?A=200:(S.includes("low")||e===41)&&(A=120),E.frequency.setValueAtTime(A,m),E.frequency.exponentialRampToValueAtTime(A*.5,m+n*.8);const L=f.createGain();L.gain.setValueAtTime(.9,m),L.gain.exponentialRampToValueAtTime(.001,m+n),E.connect(L).connect(d),E.start(m),E.stop(m+n),tr.push({node:E,controlGainNode:d,trackType:u,intendedVolume:h,scheduledStopTime:m+n,isDrum:!0});return}else if(S.includes("shaker")||S.includes("tambourine")||S.includes("cowbell")||e===70||e===54||e===56){T=f.createBufferSource();const E=Math.max(1,Math.floor(f.sampleRate*n)),A=f.createBuffer(1,E,f.sampleRate),L=A.getChannelData(0),I=S.includes("cowbell")?800:6e3,N=.1;for(let R=0;R<E;R++){const z=Math.exp(-R/(f.sampleRate*N));S.includes("cowbell")?L[R]=Math.sin(2*Math.PI*I*(R/f.sampleRate))*z:L[R]=(Math.random()*2-1)*z}T.buffer=A}else{console.log(` Using generic percussion for: "${S}" (MIDI: ${e})`),T=f.createBufferSource();const E=Math.max(1,Math.floor(f.sampleRate*n)),A=f.createBuffer(1,E,f.sampleRate),L=A.getChannelData(0);for(let I=0;I<E;I++)L[I]=(Math.random()*2-1)*Math.exp(-I/(f.sampleRate*.1));T.buffer=A}}else{T=f.createOscillator(),T.type="sawtooth";const S=440*Math.pow(2,(e-69)/12);if(!Number.isFinite(S)||S<=0){console.error(" Invalid frequency calculated:",S,"for note number:",e);return}T.frequency.setValueAtTime(S,m)}T.connect(d),T.start(m),T.stop(m+n),tr.push({node:T,controlGainNode:d,trackType:u,intendedVolume:h,scheduledStopTime:m+n,isDrum:o})};let Xd=null;const fb=()=>{if(!Xd)throw new Error("Settings not available for loop duration calculation.");const{tempo:e,bars:t,timeSignature:n}=Xd,r=n[0]*(4/n[1]);return _r(t*r,e)},kx=(e,t,n)=>{console.log(" Starting playback with patterns:",e),console.log(" Settings:",t),console.log(" Track to play:",n),db(!1),Ra=!0,os=0,Xd={...t};const r=Nm();Cu=r.currentTime,tr=[];const o=fb();if(console.log(" Loop duration:",o,"seconds"),o<=0){console.error("Loop duration is zero or negative. Cannot play."),Ra=!1;return}function l(){if(!Ra)return;const u=r.currentTime;tr=tr.filter(h=>h.scheduledStopTime>u||!h.node);const f=t.tempo,m=(h,g)=>{if(!g){console.log(` No data for track: ${h}`);return}console.log(` Scheduling track: ${h}`,g),h==="drums"&&typeof g=="object"&&!Array.isArray(g)?Object.entries(g).forEach(([T,S])=>{let E,A;if(console.log(` Processing drum element: "${T}"`),E=_a[T],A=T,!E){const L=T.toLowerCase().replace(/\s+/g,"_");E=_a[L],A=L}if(!E){const L={kick_drum:{midi:"kick",key:"kick"},bass_drum:{midi:"kick",key:"kick"},acoustic_bass_drum:{midi:"kick",key:"kick"},snare_drum:{midi:"snare",key:"snare"},acoustic_snare:{midi:"snare",key:"snare"},hi_hat_closed:{midi:"hihat_closed",key:"hihat_closed"},hi_hat_open:{midi:"open_hihat",key:"open_hihat"},hihat_open:{midi:"open_hihat",key:"open_hihat"},closed_hi_hat:{midi:"hihat_closed",key:"hihat_closed"},open_hi_hat:{midi:"open_hihat",key:"open_hihat"},crash_cymbal:{midi:"crash_cymbal_1",key:"crash_cymbal_1"},crash:{midi:"crash",key:"crash_cymbal_1"},ride_cymbal:{midi:"ride_cymbal_1",key:"ride_cymbal_1"},ride:{midi:"ride",key:"ride_cymbal_1"},hand_clap:{midi:"clap",key:"clap"},handclap:{midi:"clap",key:"clap"},tom_hi:{midi:"tom_high",key:"tom_high"},tom_lo:{midi:"tom_low",key:"tom_low"},high_tom:{midi:"tom_high",key:"tom_high"},mid_tom:{midi:"tom_mid",key:"tom_mid"},low_tom:{midi:"tom_low",key:"tom_low"},low_floor_tom:{midi:"tom_low",key:"tom_low"},high_floor_tom:{midi:"tom_high",key:"tom_high"}},I=T.toLowerCase().replace(/\s+/g,"_"),N=L[I];N&&(E=_a[N.midi],A=N.key)}if(console.log(` Final mapping: "${T}" -> "${A}" -> MIDI: ${E}`),typeof E!="number"||!S){console.warn(` No MIDI mapping found for drum element: "${T}"`),console.warn(" Available drum mappings:",Object.keys(_a));return}S.forEach(L=>{console.log(` Scheduling ${A} hit:`,L),ld(E,_r(L.time,f),_r(L.duration,f),L.velocity,!0,A,h)})}):Array.isArray(g)&&g.forEach((T,S)=>{if(console.log(` Processing ${h} event ${S}:`,T),"notes"in T)T.notes.forEach((A,L)=>{console.log(` Chord note ${L}:`,A),typeof A.midi=="number"?ld(A.midi,_r(T.time,f),_r(T.duration,f),T.velocity,!1,void 0,h):console.warn(" Invalid MIDI number in chord note:",A)});else{const A=T;console.log(" Single note:",A),typeof A.midi=="number"?ld(A.midi,_r(T.time,f),_r(T.duration,f),T.velocity,!1,void 0,h):console.warn(" Invalid MIDI number in note:",A)}})};if((n?[n]:["chords","bassline","melody","drums"]).forEach(h=>{switch(h){case"chords":e.chords&&m("chords",e.chords);break;case"bassline":e.bassline&&m("bassline",e.bassline);break;case"melody":e.melody&&m("melody",e.melody);break;case"drums":e.drums&&m("drums",e.drums);break}}),Ra){const h=Cu+(os+1)*o;let g=(h-r.currentTime)*1e3;g<0&&(console.warn(`Loop drift detected. Next loop scheduled with minimal delay. Ideal: ${h}, Current: ${r.currentTime}`),g=10),mu=window.setTimeout(()=>{Ra&&(os++,l())},g)}}l()},Hn=()=>{Ra=!1,db(!0)},db=e=>{mu!==null&&(clearTimeout(mu),mu=null),tr.forEach(t=>{try{t.node&&(t.node.stop(),t.node.disconnect()),t.controlGainNode&&t.controlGainNode.disconnect()}catch{}}),tr=[],e&&(os=0,Cu=0)},Qo=async()=>{try{const e=Nm();e.state==="suspended"&&await e.resume()}catch(e){console.error("Failed to initialize audio context:",e)}},qI=async e=>new Promise((t,n)=>{const r=new FileReader;r.onload=()=>{if(r.result&&typeof r.result=="string"){const o=r.result.split(","),l=o[1],u=o[0].match(/data:(.*);base64/),f=u?u[1]:e.type||"audio/mpeg";t({base64:l,mimeType:f})}else n(new Error("Failed to read file"))},r.onerror=()=>n(new Error("File reading failed")),r.readAsDataURL(e)}),YI={kick:"Kick",snare:"Snare",hihat:"Hi-Hat",hihat_open:"Hi-Hat Open",hihat_closed:"Hi-Hat Closed",crash:"Crash",ride:"Ride",tom:"Tom",tom_high:"High Tom",tom_mid:"Mid Tom",tom_low:"Low Tom",clap:"Clap",shaker:"Shaker",tambourine:"Tambourine",cowbell:"Cowbell",rim:"Rimshot"},kr=e=>{if(!e)return"General musical context. Focus on genre and vibe.";const t=e.indexOf("## 3. Instrument & Sound Design Guide"),n=t>0?t:e.indexOf("## 2. Structural Blueprint")>0?e.indexOf("## 2. Structural Blueprint"):1500;return e.substring(0,Math.min(n,e.length))},$I=e=>{const t=e.match(/^([A-G][#b]?)/);return t?t[1]:"C"},KI=e=>{const t=$I(e);return Cx[t]||Cx.C},XI=e=>_n[e]||_n.Default,Jo=[1,2,4,8,16,32],mb=({currentGuidebookEntry:e,mainAppInputs:t,onUpdateGuidebookEntryMidi:n,parsedGuidebookBpm:r,parsedGuidebookKey:o,parsedGuidebookChordProg:l,initialPatterns:u,sections:f,targetTempo:m,targetKey:d,isRemixMode:h=!1})=>{var B,Y,D,te;const[g,T]=ae.useState(()=>{var $e,Ve;if(h)return{...We,key:d||We.key,tempo:m||We.tempo,genre:"Electronic",songSection:(f==null?void 0:f[0])||We.songSection,guidebookContext:`Remix mode for ${d||"C minor"} at ${m||128} BPM`,targetInstruments:["bassline","drums","melody","chords"],bars:8};if(e!=null&&e.midiSettings)return{...e.midiSettings,bars:Jo.includes(e.midiSettings.bars)?e.midiSettings.bars:We.bars,songSection:e.midiSettings.songSection||We.songSection,targetInstruments:e.midiSettings.targetInstruments&&e.midiSettings.targetInstruments.length>0?e.midiSettings.targetInstruments:[...We.targetInstruments],guidebookContext:e.midiSettings.guidebookContext||kr(e.content)};const P=(($e=e==null?void 0:e.genre)==null?void 0:$e[0])||((Ve=t==null?void 0:t.genre)==null?void 0:Ve[0])||We.genre,ne=kr((e==null?void 0:e.content)||""),ye=Qn[P]||Qn.Default,oe=Math.round((ye[0]+ye[1])/2),Te=We.songSection;let Me=We.bars;const Re=Te.toLowerCase();return Re.includes("intro")||Re.includes("outro")||Re.includes("fill")||Re.includes("breakdown")?Me=4:Me=8,Me=Jo.includes(Me)?Me:We.bars,{...We,genre:P,key:o||We.key,tempo:r||oe,chordProgression:l||(_n[P]||_n.Default)[0],guidebookContext:ne,targetInstruments:[...We.targetInstruments],songSection:Te,bars:Me}}),[S,E]=ae.useState(()=>{if(h&&u){const P={};return Object.entries(u).forEach(([ne,ye])=>{Object.entries(ye).forEach(([oe,Te])=>{const Me=`${ne}_${oe}`;typeof Te!="string"&&(P[Me]=Te)})}),P}return(e==null?void 0:e.generatedMidiPatterns)||null}),[A,L]=ae.useState(!1),[I,N]=ae.useState(""),[R,z]=ae.useState(null),[G,j]=ae.useState(!1),se=ae.useRef(G);ae.useEffect(()=>{se.current=G},[G]);const[le,pe]=ae.useState(!1);ae.useEffect(()=>{var ne,ye;let P;if(e!=null&&e.midiSettings)P=e.midiSettings.bars||We.bars,T({...e.midiSettings,bars:Jo.includes(P)?P:We.bars,songSection:e.midiSettings.songSection||We.songSection,targetInstruments:e.midiSettings.targetInstruments&&e.midiSettings.targetInstruments.length>0?e.midiSettings.targetInstruments:[...We.targetInstruments],guidebookContext:e.midiSettings.guidebookContext||kr(e.content)});else{const oe=((ne=e==null?void 0:e.genre)==null?void 0:ne[0])||((ye=t==null?void 0:t.genre)==null?void 0:ye[0])||We.genre,Te=kr((e==null?void 0:e.content)||""),Me=Qn[oe]||Qn.Default,Re=Math.round((Me[0]+Me[1])/2),$e=We.songSection;let Ve=We.bars;const Ne=$e.toLowerCase();Ne.includes("intro")||Ne.includes("outro")||Ne.includes("fill")||Ne.includes("breakdown")?Ve=4:Ve=8,P=Jo.includes(Ve)?Ve:We.bars,T({...We,key:o||We.key,tempo:r||Re,chordProgression:l||(_n[oe]||_n.Default)[0],genre:oe,guidebookContext:Te,targetInstruments:[...We.targetInstruments],songSection:$e,bars:P})}E((e==null?void 0:e.generatedMidiPatterns)||null),z(null),se.current&&(Hn(),j(!1))},[e,t==null?void 0:t.genre,r,o,l]);const H=(P,ne)=>{T(ye=>{const oe={...ye,[P]:ne};if(P==="genre"){const Te=ne,Me=(_n[ye.genre]||_n.Default)[0];ye.chordProgression===Me&&(oe.chordProgression=(_n[Te]||_n.Default)[0]);const Re=Qn[ye.genre]||Qn.Default,$e=Math.round((Re[0]+Re[1])/2);if(ye.tempo===$e){const Ve=Qn[Te]||Qn.Default;oe.tempo=Math.round((Ve[0]+Ve[1])/2)}}return e!=null&&e.content&&(oe.guidebookContext=kr(e.content)),oe})},ce=P=>{T(ne=>{const ye=ne.targetInstruments,oe=ye.includes(P)?ye.filter(Te=>Te!==P):[...ye,P];return{...ne,targetInstruments:oe}})},J=async()=>{var ne;L(!0),N("Regenerating MIDI patterns..."),z(null),se.current&&(Hn(),j(!1)),await Qo();let P;if(h)P={...g,guidebookContext:`${g.genre} remix at ${g.tempo} BPM in ${g.key}`,genre:g.genre};else{const ye=((ne=e==null?void 0:e.genre)==null?void 0:ne[0])||g.genre,oe=kr((e==null?void 0:e.content)||"");P={...g,guidebookContext:oe,genre:ye}}try{const ye=await ys(P);let oe="";for await(const Ve of ye)Ve.text&&(oe+=Ve.text);console.log("Raw MIDI response:",oe),oe=oe.trim();const Te=/^```(\w*)?\s*\n?(.*?)\n?\s*```$/s,Me=oe.match(Te);Me&&Me[2]&&(console.log("Found code block, extracting JSON:",Me[2]),oe=Me[2].trim());let Re;try{Re=JSON.parse(oe)}catch(Ve){throw console.error("JSON parse error:",Ve),console.error("Failed to parse:",oe),new Error(`Invalid JSON response from AI: ${Ve instanceof Error?Ve.message:"Unknown parse error"}. Response was: ${oe.substring(0,200)}...`)}if(console.log("Parsed MIDI patterns:",Re),(Ve=>{console.log(" Validating MIDI patterns..."),Ve.chords&&Ve.chords.forEach((Ne,rt)=>{(!Number.isFinite(Ne.time)||!Number.isFinite(Ne.duration))&&console.error(` Invalid chord ${rt}:`,Ne),Ne.notes.forEach((at,mt)=>{Number.isFinite(at.midi)||console.error(` Invalid chord ${rt} note ${mt}:`,at)})}),["bassline","melody"].forEach(Ne=>{const rt=Ve[Ne];rt&&rt.forEach((at,mt)=>{(!Number.isFinite(at.time)||!Number.isFinite(at.duration)||!Number.isFinite(at.midi))&&console.error(` Invalid ${Ne} note ${mt}:`,at)})}),Ve.drums&&Object.entries(Ve.drums).forEach(([Ne,rt])=>{rt.forEach((at,mt)=>{(!Number.isFinite(at.time)||!Number.isFinite(at.duration)||!Number.isFinite(at.velocity||100))&&console.error(` Invalid ${Ne} hit ${mt}:`,at)})})})(Re),Re.drums){const Ve={};for(const Ne in Re.drums)Ve[Ne.toLowerCase().replace(/\s+/g,"_")]=Re.drums[Ne];Re.drums=Ve}E(Re),n==null||n(P,Re)}catch(ye){console.error("MIDI Generation Error:",ye);const oe=ye.message.toLowerCase().includes("json")?`AI returned invalid JSON for MIDI patterns. (${ye.message})`:`Failed to generate MIDI patterns: ${ye.message}`;z(oe),E(null)}finally{L(!1),N("")}},me=async()=>{S&&(await Qo(),se.current&&(Hn(),j(!1),await new Promise(P=>setTimeout(P,50))),kx(S,g),j(!0))},fe=async P=>{!S||!S[P]||(await Qo(),se.current&&(Hn(),j(!1),await new Promise(ne=>setTimeout(ne,50))),kx(S,g,P),j(!0))},he=()=>{Hn(),j(!1)};ae.useEffect(()=>()=>{se.current&&Hn()},[]);const q=()=>{if(!S)return;const P=((e==null?void 0:e.title)||"TrackGuideMIDI").replace(/[^a-z0-9_.-]/gi,"_"),ne=Dx(S,g,P);ne?Ix(ne,`${P}_all_tracks.mid`):alert("No MIDI data to download or error in generation.")},O=P=>{if(!S||!S[P]){alert(`No ${P} data available in current patterns.`);return}const ne={[P]:S[P]},ye=((e==null?void 0:e.title)||"TrackGuideMIDI").replace(/[^a-z0-9_.-]/gi,"_"),oe=Dx(ne,g,`${ye}_${P}`);oe?Ix(oe,`${ye}_${P}.mid`):alert(`No ${P} data to download or error in generation.`)},k=async P=>{var ye;if(!S)return;L(!0),N(`Regenerating ${P}...`),z(null),se.current&&(Hn(),j(!1)),await Qo();let ne;if(h)ne={...g,guidebookContext:`${g.genre} remix at ${g.tempo} BPM in ${g.key}`,genre:g.genre,targetInstruments:[P]};else{const oe=((ye=e==null?void 0:e.genre)==null?void 0:ye[0])||g.genre,Te=kr((e==null?void 0:e.content)||"");ne={...g,guidebookContext:Te,genre:oe,targetInstruments:[P]}}try{const oe=await ys(ne);let Te="";for await(const Ne of oe)Ne.text&&(Te+=Ne.text);console.log(`Raw MIDI response for ${P}:`,Te),Te=Te.trim();const Me=/^```(\w*)?\s*\n?(.*?)\n?\s*```$/s,Re=Te.match(Me);Re&&Re[2]&&(console.log(`Found code block for ${P}, extracting JSON:`,Re[2]),Te=Re[2].trim());let $e;try{$e=JSON.parse(Te)}catch(Ne){throw console.error(`JSON parse error for ${P}:`,Ne),console.error("Failed to parse:",Te),new Error(`Invalid JSON response from AI for ${P}: ${Ne instanceof Error?Ne.message:"Unknown parse error"}`)}console.log(`Parsed MIDI patterns for ${P}:`,$e);const Ve={...S,[P]:$e[P]};if(P==="drums"&&$e.drums){const Ne={};for(const rt in $e.drums)Ne[rt.toLowerCase().replace(/\s+/g,"_")]=$e.drums[rt];Ve.drums=Ne}E(Ve),n==null||n(g,Ve)}catch(oe){console.error("Error regenerating single track:",oe),z(`Failed to regenerate ${P}. Please try again.`)}finally{L(!1),N("")}},_=async()=>{le||await Qo(),pe(P=>!P)},C=(P,ne)=>{if(!S||!S[P])return null;const ye=S[P];let oe="";if(P==="drums"&&ye){const Te=Object.keys(ye);oe=`${Te.length} elements: ${Te.map(Me=>YI[Me]||Me).join(", ")}`}else P==="chords"&&Array.isArray(ye)?oe=`${ye.length} chord events`:(P==="bassline"||P==="melody")&&Array.isArray(ye)&&(oe=`${ye.length} notes`);return y.jsxs(qe,{title:ne,className:"p-4 border border-gray-600 rounded-md bg-gray-800/50",children:[y.jsx("div",{className:"mb-3",children:y.jsx("p",{className:"text-xs text-gray-400",children:oe})}),y.jsxs("div",{className:"flex flex-wrap gap-2",children:[y.jsx(je,{onClick:()=>fe(P),leftIcon:y.jsx(Ex,{}),size:"sm",variant:"primary",children:"Play"}),y.jsx(je,{onClick:()=>k(P),leftIcon:y.jsx(Ax,{className:"w-4 h-4",isSpinning:A&&I.includes(P)}),size:"sm",variant:"secondary",disabled:A,children:"Regenerate"}),y.jsx(je,{onClick:()=>O(P),leftIcon:y.jsx(Yd,{}),size:"sm",variant:"secondary",children:"Download"})]})]},P)};return y.jsxs(qe,{title:" MIDI Tools & Pattern Generator",className:"mt-6 bg-gray-800/80 backdrop-blur-md shadow-xl border border-gray-700/50",children:[y.jsx(je,{onClick:_,variant:"secondary",className:"w-full mb-4",leftIcon:y.jsx(AI,{}),children:le?"Hide MIDI Settings":"Adjust MIDI Settings & Regenerate"}),le&&y.jsxs("div",{className:"mb-6 border-t border-gray-700 pt-6",children:[y.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-x-6 gap-y-4 mb-6",children:[y.jsxs("div",{children:[y.jsx("label",{htmlFor:"midi-key",className:"block text-sm font-medium text-gray-300 mb-1",children:"Key"}),y.jsx("select",{id:"midi-key",value:g.key,onChange:P=>H("key",P.target.value),className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-md shadow-sm text-gray-100 focus:ring-purple-500 focus:border-purple-500 text-sm",children:rs.map(P=>y.jsx("option",{value:P,children:P},P))})]}),y.jsxs("div",{children:[y.jsxs("label",{htmlFor:"midi-scale",className:"block text-sm font-medium text-gray-300 mb-1",children:["Scale/Mode ",y.jsx("span",{className:"text-xs text-gray-400",children:"(Optional)"})]}),y.jsxs("select",{id:"midi-scale",value:g.scale||"",onChange:P=>H("scale",P.target.value),className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-md shadow-sm text-gray-100 focus:ring-purple-500 focus:border-purple-500 text-sm",children:[y.jsx("option",{value:"",children:"Default (from key)"}),KI(g.key).map(P=>y.jsx("option",{value:P,children:P},P))]})]}),y.jsxs("div",{children:[y.jsx("label",{htmlFor:"midi-tempo",className:"block text-sm font-medium text-gray-300 mb-1",children:"Tempo (BPM)"}),y.jsx(Nn,{type:"number",id:"midi-tempo",value:g.tempo,onChange:P=>H("tempo",parseInt(P.target.value,10)),min:"30",max:"300"})]}),y.jsxs("div",{children:[y.jsx("label",{htmlFor:"midi-timesig",className:"block text-sm font-medium text-gray-300 mb-1",children:"Time Signature"}),y.jsx("select",{id:"midi-timesig",value:g.timeSignature.join("/"),onChange:P=>H("timeSignature",P.target.value.split("/").map(Number)),className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-md shadow-sm text-gray-100 focus:ring-purple-500 focus:border-purple-500 text-sm",children:dI.map(P=>y.jsx("option",{value:P.join("/"),children:P.join("/")},P.join("/")))})]}),y.jsxs("div",{children:[y.jsx("label",{htmlFor:"midi-chords",className:"block text-sm font-medium text-gray-300 mb-1",children:"Chord Progression"}),y.jsx("select",{id:"midi-chords",value:g.chordProgression,onChange:P=>H("chordProgression",P.target.value),className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-md shadow-sm text-gray-100 focus:ring-purple-500 focus:border-purple-500 text-sm",children:XI(g.genre).map(P=>y.jsx("option",{value:P,children:P},P))})]}),y.jsxs("div",{children:[y.jsx("label",{htmlFor:"midi-genre",className:"block text-sm font-medium text-gray-300 mb-1",children:"MIDI Genre Context"}),y.jsxs("select",{id:"midi-genre",value:g.genre,onChange:P=>H("genre",P.target.value),className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-md shadow-sm text-gray-100 focus:ring-purple-500 focus:border-purple-500 text-sm",children:[y.jsxs("option",{value:((B=e==null?void 0:e.genre)==null?void 0:B[0])||((Y=t==null?void 0:t.genre)==null?void 0:Y[0])||We.genre,children:["Align with Guidebook (",((D=e==null?void 0:e.genre)==null?void 0:D[0])||((te=t==null?void 0:t.genre)==null?void 0:te[0])||"Default",")"]}),ab.map(P=>y.jsx("option",{value:P,children:P},P))]})]}),y.jsxs("div",{children:[y.jsx("label",{htmlFor:"midi-bars",className:"block text-sm font-medium text-gray-300 mb-1",children:"Loop Length (Bars)"}),y.jsx("select",{id:"midi-bars",value:g.bars,onChange:P=>H("bars",parseInt(P.target.value,10)),className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-md shadow-sm text-gray-100 focus:ring-purple-500 focus:border-purple-500 text-sm",children:Jo.map(P=>y.jsx("option",{value:P,children:P},P))})]}),y.jsxs("div",{className:"lg:col-span-1",children:[y.jsx("label",{htmlFor:"midi-songsection",className:"block text-sm font-medium text-gray-300 mb-1",children:"Song Section Context"}),y.jsx("select",{id:"midi-songsection",value:g.songSection||We.songSection,onChange:P=>H("songSection",P.target.value),className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-md shadow-sm text-gray-100 focus:ring-purple-500 focus:border-purple-500 text-sm",children:(h&&f?f:hI).map(P=>y.jsx("option",{value:P,children:P},P))})]})]}),y.jsxs("div",{className:"mb-6",children:[y.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Target Instruments to Generate"}),y.jsx("div",{className:"flex flex-wrap gap-x-4 gap-y-2",children:mI.map(P=>y.jsxs("button",{type:"button",onClick:()=>ce(P.id),className:`flex items-center px-3 py-1.5 rounded-md text-sm transition-colors duration-150 ease-in-out border
                            ${g.targetInstruments.includes(P.id)?"bg-purple-600 text-white border-purple-500 hover:bg-purple-700 shadow-md":"bg-gray-700 text-gray-300 border-gray-600 hover:bg-gray-600 hover:border-gray-500"}`,"aria-pressed":g.targetInstruments.includes(P.id),children:[g.targetInstruments.includes(P.id)?y.jsx(DI,{className:"w-4 h-4 mr-2"}):y.jsx(wI,{className:"w-4 h-4 mr-2 text-gray-500"}),P.label]},P.id))})]}),y.jsx(je,{onClick:J,disabled:A||g.targetInstruments.length===0,className:"w-full",leftIcon:y.jsx(Ax,{className:"w-5 h-5",isSpinning:A}),children:A?I||"Regenerating MIDI Patterns...":g.targetInstruments.length===0?"Select instruments first":"Regenerate MIDI Patterns"})]}),R&&y.jsx("p",{className:"text-red-400 bg-red-900/30 p-3 rounded-md text-sm my-4",children:R}),A&&!le&&(!S||I.includes("MIDI"))&&y.jsx("div",{className:"my-4",children:y.jsx(er,{text:I||"AI is composing..."})}),S&&!A&&y.jsxs("div",{className:"mt-6 space-y-3",children:[y.jsxs("div",{className:"flex flex-wrap gap-3 items-center pb-3 border-b border-gray-700",children:[y.jsx(je,{onClick:G?he:me,variant:G?"danger":"primary",size:"md",leftIcon:G?y.jsx(EI,{}):y.jsx(Ex,{}),children:G?"Stop Preview":"Play All Tracks"}),y.jsx(je,{onClick:q,variant:"secondary",size:"md",leftIcon:y.jsx(Yd,{}),children:"Download All (.mid)"})]}),y.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 pt-3",children:[C("chords","Chords"),C("bassline","Bassline"),C("melody","Melody"),C("drums","Drums")]}),S.error&&y.jsxs("p",{className:"text-sm text-yellow-400 mt-2",children:["AI Note: ",S.error]})]}),!S&&!A&&!R&&y.jsxs("p",{className:"text-gray-400 text-sm mt-4 text-center",children:["No MIDI patterns generated yet for this ",h?"RemixGuide":"TrackGuide",'. Click "Adjust MIDI Settings" to configure and generate.']})]})},WI=({library:e,onClose:t,onLoadEntry:n,onDeleteEntry:r,onCreateNew:o})=>{const[l,u]=ae.useState(""),f=e.filter(m=>m.title.toLowerCase().includes(l.toLowerCase())||m.genre.join(", ").toLowerCase().includes(l.toLowerCase())).sort((m,d)=>new Date(d.createdAt).getTime()-new Date(m.createdAt).getTime());return y.jsx("div",{className:"fixed inset-0 bg-gray-900/80 backdrop-blur-sm flex items-center justify-center p-4 z-50 transition-opacity duration-300 ease-in-out",onClick:t,role:"dialog","aria-modal":"true","aria-labelledby":"library-modal-title",children:y.jsxs(qe,{className:"w-full max-w-2xl bg-gray-800 shadow-2xl border border-gray-700 max-h-[90vh] flex flex-col",onClick:m=>m.stopPropagation(),children:[y.jsxs("div",{className:"flex justify-between items-center px-6 py-4 border-b border-gray-700",children:[y.jsxs("h2",{id:"library-modal-title",className:"text-2xl font-semibold text-purple-300 flex items-center",children:[y.jsx($d,{className:"w-7 h-7 mr-3 text-purple-400"}),"TrackGuide Library"]}),y.jsx(je,{onClick:t,variant:"secondary",size:"sm",className:"p-2 -mr-2","aria-label":"Close Library",children:y.jsx(ub,{className:"w-5 h-5"})})]}),y.jsx("div",{className:"px-6 py-4",children:y.jsx(Nn,{type:"search",placeholder:"Search by title or genre...",value:l,onChange:m=>u(m.target.value),className:"mb-4 bg-gray-700 border-gray-600 placeholder-gray-500","aria-label":"Search library"})}),y.jsx("div",{className:"flex-grow overflow-y-auto px-6 pb-6 space-y-3 custom-scrollbar pr-3",children:f.length===0?y.jsx("p",{className:"text-gray-400 text-center py-8",children:l?`No entries found for "${l}".`:"Your library is empty. Create some TrackGuides!"}):f.map(m=>y.jsx("div",{className:"p-4 bg-gray-700/60 rounded-lg hover:bg-gray-600/50 transition-colors shadow-md border border-gray-600/50",children:y.jsxs("div",{className:"flex justify-between items-start",children:[y.jsxs("div",{className:"flex-grow min-w-0",children:[y.jsx("h4",{className:"font-semibold text-purple-300 truncate text-lg",title:m.title,children:m.title}),y.jsx("p",{className:"text-sm text-gray-400 truncate",title:Array.isArray(m.genre)?m.genre.join(", "):m.genre,children:Array.isArray(m.genre)?m.genre.join(", "):m.genre}),y.jsxs("p",{className:"text-xs text-gray-500",children:["Created: ",new Date(m.createdAt).toLocaleDateString(),m.generatedMidiPatterns&&y.jsx(lb,{className:"w-3 h-3 text-green-400 inline-block ml-2",title:"MIDI available"})]})]}),y.jsxs("div",{className:"flex flex-col sm:flex-row space-y-2 sm:space-y-0 sm:space-x-2 items-end shrink-0 ml-3 mt-1 sm:mt-0",children:[y.jsx(je,{onClick:()=>n(m),size:"sm",variant:"outline",className:"text-xs px-3 py-1.5 w-full sm:w-auto",leftIcon:y.jsx($d,{className:"w-4 h-4"}),children:"Load"}),y.jsx(je,{onClick:()=>r(m.id),size:"sm",variant:"danger",className:"text-xs px-3 py-1.5 w-full sm:w-auto",leftIcon:y.jsx(CI,{className:"w-4 h-4"})})]})]})},m.id))}),y.jsx("div",{className:"px-6 py-4 border-t border-gray-700",children:y.jsx(je,{onClick:o,variant:"primary",className:"w-full",leftIcon:y.jsx(Kd,{}),children:"Create New TrackGuide"})})]})})},QI=({className:e="w-6 h-6"})=>y.jsx("div",{className:`${e} bg-orange-500 transform rotate-45 flex items-center justify-center`,children:y.jsx("div",{className:"w-1/2 h-1/2 bg-white transform -rotate-45"})}),JI=({onGetStarted:e})=>y.jsxs("div",{className:"min-h-screen bg-[#2B2B2B] relative overflow-hidden scroll-smooth",children:[y.jsx("div",{className:"absolute inset-0 opacity-40",children:y.jsx("div",{className:"absolute inset-0",style:{backgroundImage:"radial-gradient(circle at 2px 2px, #FF5722 1px, transparent 0)",backgroundSize:"30px 30px"}})}),y.jsx("nav",{className:"relative z-10 px-6 py-6",children:y.jsxs("div",{className:"max-w-7xl mx-auto flex items-center justify-between",children:[y.jsxs("div",{className:"flex items-center space-x-3",children:[y.jsx("div",{className:"w-8 h-8 bg-orange-500 transform rotate-45 flex items-center justify-center",children:y.jsx("div",{className:"w-4 h-4 bg-white transform -rotate-45"})}),y.jsxs("div",{children:[y.jsx("div",{className:"text-xl font-bold text-white",children:"TrackGuide AI"}),y.jsx("div",{className:"text-xs text-gray-400",children:"Your Smartest Studio Assistant"})]})]}),y.jsxs("div",{className:"hidden md:flex items-center space-x-8",children:[y.jsx("a",{href:"#how-it-works",className:"text-gray-300 hover:text-orange-400 font-medium transition-colors",children:"How It Works"}),y.jsx("a",{href:"#problems-we-solve",className:"text-gray-300 hover:text-orange-400 font-medium transition-colors",children:"Problems We Solve"}),y.jsx("a",{href:"#investment-levels",className:"text-gray-300 hover:text-orange-400 font-medium transition-colors",children:"Investment Levels"})]}),y.jsxs("button",{onClick:e,className:"bg-orange-500 hover:bg-orange-600 text-white px-6 py-3 rounded-lg font-semibold transition-all transform hover:scale-105 shadow-lg flex items-center space-x-3 border border-white/10",children:[y.jsxs("div",{className:"relative",children:[y.jsx("div",{className:"absolute inset-0 rounded-full bg-white/20 blur-sm"}),y.jsx("div",{className:"relative w-6 h-6 bg-orange-500 transform rotate-45 flex items-center justify-center",children:y.jsx("div",{className:"w-3 h-3 bg-white transform -rotate-45"})})]}),y.jsx("span",{children:"Get Started"})]})]})}),y.jsx("section",{className:"relative px-6 py-16",children:y.jsx("div",{className:"max-w-7xl mx-auto",children:y.jsx("div",{className:"grid lg:grid-cols-2 gap-12 items-center",children:y.jsxs("div",{className:"space-y-8",children:[y.jsxs("h1",{className:"text-6xl md:text-7xl lg:text-8xl font-bold text-white leading-tight",children:[y.jsx("span",{className:"text-orange-500",children:"AI Studio Assistant:"}),y.jsx("span",{className:"block text-white mt-2 text-4xl md:text-5xl lg:text-6xl",children:"A Complement to Creativity,"}),y.jsx("span",{className:"block text-white mt-2 text-4xl md:text-5xl lg:text-6xl",children:"Not a Substitute."})]}),y.jsxs("p",{className:"text-xl text-gray-300 max-w-2xl leading-relaxed",children:["Empowering modern producers with ",y.jsx("span",{className:"text-orange-500 font-semibold",children:"structure"}),", ",y.jsx("span",{className:"text-orange-500 font-semibold",children:"speed"}),", and ",y.jsx("span",{className:"text-orange-500 font-semibold",children:"support"})," in their creative workflow."]}),y.jsx("div",{className:"flex flex-col sm:flex-row gap-6 mt-8 lg:justify-start",children:y.jsxs("button",{onClick:e,className:"bg-orange-500 hover:bg-orange-600 text-white px-12 py-5 rounded-xl font-bold text-xl transition-all transform hover:scale-105 flex items-center justify-center space-x-4 shadow-2xl border-2 border-white/20",children:[y.jsxs("div",{className:"relative",children:[y.jsx("div",{className:"absolute inset-0 rounded-full bg-white/20 blur-sm"}),y.jsx(QI,{className:"h-8 w-8 relative z-10"})]}),y.jsx("span",{children:"Start Creating Now"})]})})]})})})}),y.jsx("section",{id:"how-it-works",className:"relative px-6 py-20",children:y.jsxs("div",{className:"max-w-7xl mx-auto",children:[y.jsxs("div",{className:"text-center mb-16",children:[y.jsx("h2",{className:"text-4xl md:text-5xl font-bold text-white mb-6",children:"How TrackGuide Works"}),y.jsx("p",{className:"text-xl text-gray-300 max-w-3xl mx-auto",children:"From concept to creation in three simple steps"})]}),y.jsxs("div",{className:"grid md:grid-cols-3 gap-8",children:[y.jsxs("div",{className:"text-center space-y-6",children:[y.jsx("div",{className:"w-20 h-20 bg-orange-500 rounded-full flex items-center justify-center mx-auto",children:y.jsx("span",{className:"text-2xl font-bold text-white",children:"1"})}),y.jsx("h3",{className:"text-2xl font-bold text-white",children:"Describe Your Vision"}),y.jsx("p",{className:"text-gray-300",children:"Define your genre, vibe, creative goals  and your available plugins & DAW. Our AI understands your intent."})]}),y.jsxs("div",{className:"text-center space-y-6",children:[y.jsx("div",{className:"w-20 h-20 bg-orange-500 rounded-full flex items-center justify-center mx-auto",children:y.jsx("span",{className:"text-2xl font-bold text-white",children:"2"})}),y.jsx("h3",{className:"text-2xl font-bold text-white",children:"Get Your Guide & Tools"}),y.jsx("p",{className:"text-gray-300",children:"Generate a TrackGuide Blueprint, MIDI patterns, and AI recommendations  including plugin parameter suggestions."})]}),y.jsxs("div",{className:"text-center space-y-6",children:[y.jsx("div",{className:"w-20 h-20 bg-orange-500 rounded-full flex items-center justify-center mx-auto",children:y.jsx("span",{className:"text-2xl font-bold text-white",children:"3"})}),y.jsx("h3",{className:"text-2xl font-bold text-white",children:"Iterate & Refine"}),y.jsx("p",{className:"text-gray-300",children:"Upload mixes for feedback, compare revisions, and update your production with AI-assisted insights."})]})]})]})}),y.jsx("section",{className:"relative px-6 py-20 bg-black/10",children:y.jsxs("div",{className:"max-w-7xl mx-auto",children:[y.jsxs("div",{className:"text-center mb-16",children:[y.jsx("h2",{className:"text-4xl md:text-5xl font-bold text-white mb-6",children:"Complete Production Toolkit"}),y.jsx("p",{className:"text-xl text-gray-300 max-w-3xl mx-auto",children:"Everything you need  from first idea to final mix"})]}),y.jsxs("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-8",children:[y.jsxs("div",{className:"bg-gray-800/50 rounded-xl p-6 border border-orange-500/20 hover:border-orange-500/40 transition-all",children:[y.jsx("div",{className:"w-12 h-12 bg-orange-500 rounded-lg flex items-center justify-center mb-4",children:y.jsx("span",{className:"text-white font-bold",children:"AI"})}),y.jsx("h3",{className:"text-xl font-bold text-white mb-3",children:"TrackGuide AI"}),y.jsx("p",{className:"text-gray-300",children:"Generate detailed TrackGuide blueprints  structure, instrumentation, plugin parameters, and mix guidance tailored to your tools."})]}),y.jsxs("div",{className:"bg-gray-800/50 rounded-xl p-6 border border-orange-500/20 hover:border-orange-500/40 transition-all",children:[y.jsx("div",{className:"w-12 h-12 bg-orange-500 rounded-lg flex items-center justify-center mb-4",children:y.jsx("span",{className:"text-white font-bold",children:""})}),y.jsx("h3",{className:"text-xl font-bold text-white mb-3",children:"Integrated MIDI Generator"}),y.jsx("p",{className:"text-gray-300",children:"Auto-generate melodic, harmonic, bass, and drum MIDI patterns  matched to your genre and style  exportable to your DAW."})]}),y.jsxs("div",{className:"bg-gray-800/50 rounded-xl p-6 border border-orange-500/20 hover:border-orange-500/40 transition-all",children:[y.jsx("div",{className:"w-12 h-12 bg-orange-500 rounded-lg flex items-center justify-center mb-4",children:y.jsx("span",{className:"text-white font-bold",children:""})}),y.jsx("h3",{className:"text-xl font-bold text-white mb-3",children:"RemixGuide AI"}),y.jsx("p",{className:"text-gray-300",children:"Upload any track and generate an intelligent remix plan  new structure, sound design tips, and remix-ready MIDI."})]}),y.jsxs("div",{className:"bg-gray-800/50 rounded-xl p-6 border border-orange-500/20 hover:border-orange-500/40 transition-all",children:[y.jsx("div",{className:"w-12 h-12 bg-orange-500 rounded-lg flex items-center justify-center mb-4",children:y.jsx("span",{className:"text-white font-bold",children:""})}),y.jsx("h3",{className:"text-xl font-bold text-white mb-3",children:"PatchGuide AI"}),y.jsx("p",{className:"text-gray-300",children:"Instantly generate detailed synth patch recipes for any genre, mood, or instrument. Select your synth, describe your sound, and get step-by-step settings, modulation, and creative tips  tailored to your hardware or software."})]}),y.jsxs("div",{className:"bg-gray-800/50 rounded-xl p-6 border border-orange-500/20 hover:border-orange-500/40 transition-all",children:[y.jsx("div",{className:"w-12 h-12 bg-orange-500 rounded-lg flex items-center justify-center mb-4",children:y.jsx("span",{className:"text-white font-bold",children:""})}),y.jsx("h3",{className:"text-xl font-bold text-white mb-3",children:"Mix Feedback"}),y.jsx("p",{className:"text-gray-300",children:"Upload your mix (or two versions) for instant, actionable feedback. AI analyzes your audio, highlights strengths and weaknesses, and suggests improvements  helping you refine your sound with every revision."})]}),y.jsxs("div",{className:"bg-gray-800/50 rounded-xl p-6 border border-orange-500/20 hover:border-orange-500/40 transition-all",children:[y.jsx("div",{className:"w-12 h-12 bg-orange-500 rounded-lg flex items-center justify-center mb-4",children:y.jsx("span",{className:"text-white font-bold",children:""})}),y.jsx("h3",{className:"text-xl font-bold text-white mb-3",children:"EQ Guide"}),y.jsx("p",{className:"text-gray-300",children:"Quick-reference EQ guide: instrument-by-instrument  learn how to shape sound and resolve common mix problems."})]})]})]})}),y.jsx("section",{className:"relative px-6 py-20 bg-black/20",children:y.jsxs("div",{className:"max-w-7xl mx-auto text-center",children:[y.jsx("h2",{className:"text-4xl md:text-5xl font-bold text-white mb-6",children:"Ready to Transform Your Music Production?"}),y.jsx("p",{className:"text-xl text-gray-300 mb-12 max-w-2xl mx-auto",children:"TrackGuide helps producers of all skill levels  from bedroom creators to pros  finish more tracks, faster."}),y.jsxs("div",{className:"bg-gray-800/50 rounded-2xl p-8 max-w-md mx-auto border border-orange-500/20",children:[y.jsx("h3",{className:"text-2xl font-bold text-white mb-4",children:"Free to Start"}),y.jsx("p",{className:"text-gray-300 mb-6",children:"Get started with TrackGuide AI for free. Upgrade when you're ready to unlock unlimited generations and advanced tools."}),y.jsx("button",{onClick:e,className:"w-full bg-orange-500 hover:bg-orange-600 text-white px-8 py-4 rounded-lg font-bold text-lg transition-all transform hover:scale-105 shadow-xl",children:"Start Creating Free"}),y.jsx("p",{className:"text-gray-500 text-sm mt-4",children:"No credit card required"})]})]})}),y.jsx("section",{className:"px-6 py-16 bg-black/20",children:y.jsxs("div",{className:"max-w-7xl mx-auto text-center",children:[y.jsx("div",{className:"w-32 h-1 bg-orange-500 mx-auto mb-8"}),y.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-white mb-4",children:"The Investment Opportunity"}),y.jsx("p",{className:"text-xl text-gray-300",children:"Helping producers finish better music, faster  in a $43B market."})]})}),y.jsx("section",{id:"problems-we-solve",className:"relative px-6 py-20 bg-black/20",children:y.jsx("div",{className:"max-w-7xl mx-auto",children:y.jsxs("div",{className:"grid lg:grid-cols-2 gap-12 items-center",children:[y.jsxs("div",{className:"space-y-8",children:[y.jsxs("h2",{className:"text-4xl md:text-5xl font-bold text-white leading-tight",children:["Too Many Tools:",y.jsx("span",{className:"block text-orange-500",children:"Not Enough Direction"})]}),y.jsx("p",{className:"text-xl text-gray-300 leading-relaxed",children:"As AI floods the market and tools fragment, producers lack clarity. TrackGuide is building the smartest studio assistant  keeping the human in the loop."}),y.jsxs("div",{className:"grid gap-6",children:[y.jsx("div",{className:"border-l-4 border-orange-500 pl-6",children:y.jsxs("p",{className:"text-gray-300",children:[y.jsx("strong",{children:"Without clear structure,"})," inspiration stalls  many creators fail to finish tracks."]})}),y.jsx("div",{className:"border-l-4 border-orange-500 pl-6",children:y.jsxs("p",{className:"text-gray-300",children:[y.jsx("strong",{children:"Clickbait content lacks depth "})," TrackGuide teaches transferable skills while speeding workflows."]})}),y.jsx("div",{className:"border-l-4 border-orange-500 pl-6",children:y.jsxs("p",{className:"text-gray-300",children:[y.jsx("strong",{children:"AI hype distracts "})," we focus on complementing creativity, not replacing it."]})})]})]}),y.jsxs("div",{className:"relative h-96",children:[y.jsxs("div",{className:"absolute top-0 right-0 w-48 h-48",children:[y.jsx("div",{className:"w-full h-full border-2 border-orange-500 transform rotate-45"}),y.jsx("div",{className:"absolute top-4 right-4 w-40 h-40 bg-orange-500 transform rotate-45"})]}),y.jsxs("div",{className:"absolute bottom-0 left-0 w-32 h-32",children:[y.jsx("div",{className:"w-full h-full border-2 border-orange-500"}),y.jsx("div",{className:"absolute top-2 left-2 w-28 h-28 bg-orange-500"})]})]})]})})}),y.jsx("section",{id:"ai-challenge",className:"px-6 py-20 bg-black",children:y.jsxs("div",{className:"max-w-7xl mx-auto grid lg:grid-cols-2 gap-12 items-center",children:[y.jsx("div",{className:"relative h-80 hidden lg:block",children:y.jsxs("div",{className:"absolute top-0 left-0 w-40 h-40",children:[y.jsx("div",{className:"w-full h-full border-2 border-orange-500 transform rotate-45"}),y.jsx("div",{className:"absolute top-4 left-4 w-32 h-32 bg-orange-500 transform rotate-45"})]})}),y.jsxs("div",{className:"space-y-8",children:[y.jsxs("h2",{className:"text-5xl font-bold text-white leading-tight",children:["Navigating the ",y.jsx("span",{className:"text-orange-500 block",children:"AI Challenge"})]}),y.jsx("p",{className:"text-xl text-gray-300 leading-relaxed",children:"A human-first approach  empowering the artist, respecting the craft."}),y.jsxs("div",{className:"grid gap-6",children:[y.jsxs("div",{className:"border-l-4 border-orange-500 pl-6",children:[y.jsx("h3",{className:"text-lg font-bold text-white mb-2",children:"Avoiding One-Click fatigue"}),y.jsx("p",{className:"text-gray-400",children:"Our AI augments the creative process, not bypasses it  musicians stay in control."})]}),y.jsxs("div",{className:"border-l-4 border-orange-500 pl-6",children:[y.jsx("h3",{className:"text-lg font-bold text-white mb-2",children:"Forward-facing, not retro"}),y.jsx("p",{className:"text-gray-400",children:"Avoids regurgitating old hit formulas  helps creators define new sounds."})]}),y.jsxs("div",{className:"border-l-4 border-orange-500 pl-6",children:[y.jsx("h3",{className:"text-lg font-bold text-white mb-2",children:"Clear IP & ethical AI"}),y.jsx("p",{className:"text-gray-400",children:"Built with transparent usage  your creativity stays yours."})]})]})]})]})}),y.jsx("section",{className:"relative px-6 py-20 bg-black/20",children:y.jsxs("div",{className:"max-w-5xl mx-auto",children:[y.jsxs("h2",{className:"text-4xl md:text-5xl font-bold text-white mb-6",children:["Scalable ",y.jsx("span",{className:"text-orange-500",children:"Business Model"})]}),y.jsx("p",{className:"text-xl text-gray-300 mb-12 max-w-2xl mx-auto",children:"Modular SaaS for creators, pros, educators, and studios."}),y.jsxs("div",{className:"grid md:grid-cols-3 gap-8",children:[y.jsxs("div",{className:"bg-gray-800/30 rounded-lg p-8 border border-orange-500/10 space-y-2",children:[y.jsx("h3",{className:"text-2xl font-bold text-white",children:"SaaS Subscriptions"}),y.jsx("p",{className:"text-gray-300",children:"Premium AI tools, pro workflows, unlimited usage  high-margin recurring revenue."}),y.jsx("div",{className:"text-orange-500 font-semibold text-lg",children:"85% Gross Margin"})]}),y.jsxs("div",{className:"bg-gray-800/30 rounded-lg p-8 border border-orange-500/10 space-y-2",children:[y.jsx("h3",{className:"text-2xl font-bold text-white",children:"Community Marketplace"}),y.jsx("p",{className:"text-gray-300",children:"Revenue from user-generated templates, MIDI packs, remix packs, stems, and presets."}),y.jsx("div",{className:"text-orange-500 font-semibold text-lg",children:"30% Commission"})]}),y.jsxs("div",{className:"bg-gray-800/30 rounded-lg p-8 border border-orange-500/10 space-y-2",children:[y.jsx("h3",{className:"text-2xl font-bold text-white",children:"Enterprise / Education Licensing"}),y.jsx("p",{className:"text-gray-300",children:"Annual contracts for labels, studios, and music education institutions."}),y.jsx("div",{className:"text-orange-500 font-semibold text-lg",children:"$50K+ ARR"})]})]})]})}),y.jsx("section",{id:"investment-levels",className:"px-6 py-20 bg-black",children:y.jsxs("div",{className:"max-w-5xl mx-auto",children:[y.jsxs("div",{className:"text-center mb-12",children:[y.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-white mb-6",children:"Investment Levels"}),y.jsx("p",{className:"text-lg text-gray-300 max-w-2xl mx-auto",children:"Were raising capital to scale TrackGuide AI  deepen core features, grow early users, and prepare for market launch."}),y.jsx("p",{className:"text-md text-gray-400 mt-4 max-w-xl mx-auto",children:"All investments are via SAFE notes with valuation cap. Larger tiers include additional benefits and advisory access."})]}),y.jsxs("div",{className:"grid md:grid-cols-4 gap-6",children:[y.jsxs("div",{className:"bg-black/80 rounded-lg p-6 border border-orange-500/30 shadow-md flex flex-col justify-between",children:[y.jsxs("div",{children:[y.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"Seed Loop"}),y.jsx("p",{className:"text-gray-300 text-sm mb-2",children:"$10K$25K"}),y.jsx("p",{className:"text-gray-400 text-sm mb-4",children:"AI refinement, UX polish, early traction testing."})]}),y.jsx("p",{className:"text-orange-400 text-sm mt-4",children:"Return: SAFE @ $5M cap + quarterly updates"})]}),y.jsxs("div",{className:"bg-black/80 rounded-lg p-6 border border-orange-500/30 shadow-md flex flex-col justify-between",children:[y.jsxs("div",{children:[y.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"Creator Tier"}),y.jsx("p",{className:"text-gray-300 text-sm mb-2",children:"$25K$50K"}),y.jsx("p",{className:"text-gray-400 text-sm mb-4",children:"Monetization rollout, user acquisition, affiliate & referral systems."})]}),y.jsx("p",{className:"text-orange-400 text-sm mt-4",children:"Return: SAFE + 1% revenue share pilot + early feature access"})]}),y.jsxs("div",{className:"bg-black/80 rounded-lg p-6 border border-orange-500/30 shadow-md flex flex-col justify-between",children:[y.jsxs("div",{children:[y.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"Full Stack"}),y.jsx("p",{className:"text-gray-300 text-sm mb-2",children:"$50K$75K"}),y.jsx("p",{className:"text-gray-400 text-sm mb-4",children:"Strategic hires (PMM / full-stack dev), expanded GTM partnerships."})]}),y.jsx("p",{className:"text-orange-400 text-sm mt-4",children:"Return: SAFE + advisory board seat + product roadmap input"})]}),y.jsxs("div",{className:"bg-black/80 rounded-lg p-6 border border-orange-500/30 shadow-md flex flex-col justify-between",children:[y.jsxs("div",{children:[y.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"Vision Tier"}),y.jsx("p",{className:"text-gray-300 text-sm mb-2",children:"$150K+"}),y.jsx("p",{className:"text-gray-400 text-sm mb-4",children:"Full-scale AI model tuning, GTM campaign, international expansion."})]}),y.jsx("p",{className:"text-orange-400 text-sm mt-4",children:"Return: Discounted SAFE cap + 2% revenue share + strategic board seat"})]})]}),y.jsx("div",{className:"text-center mt-12",children:y.jsx("a",{href:"mailto:dustinspaceproductions@gmail.com?subject=Investment Inquiry - TrackGuide AI",className:"bg-orange-500 hover:bg-orange-600 text-white px-8 py-4 rounded-lg font-bold text-lg transition-all transform hover:scale-105 inline-flex items-center space-x-2 shadow-xl",children:y.jsx("span",{children:"Contact for Full Investor Deck"})})})]})}),y.jsx("section",{className:"px-6 py-20 bg-black/30",children:y.jsxs("div",{className:"max-w-4xl mx-auto text-center",children:[y.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-white mb-6",children:"Interested in Investing?"}),y.jsx("p",{className:"text-xl text-gray-300 mb-8 max-w-2xl mx-auto",children:"Revolutionizing music production with human-first AI. Join us."}),y.jsx("a",{href:"mailto:dustinspaceproductions@gmail.com?subject=Investment Inquiry - TrackGuide AI",className:"bg-orange-500 hover:bg-orange-600 text-white px-8 py-3 rounded-lg font-bold text-lg transition-all transform hover:scale-105 inline-flex items-center space-x-2 shadow-xl",children:y.jsx("span",{children:"Contact for Investment Opportunities"})})]})}),y.jsx("footer",{className:"px-6 py-12 border-t border-orange-500/20 bg-black/20",children:y.jsx("div",{className:"max-w-7xl mx-auto",children:y.jsxs("div",{className:"flex flex-col md:flex-row items-center justify-between",children:[y.jsxs("div",{className:"flex items-center space-x-3 mb-4 md:mb-0",children:[y.jsx("div",{className:"w-6 h-6 bg-orange-500 transform rotate-45 flex items-center justify-center",children:y.jsx("div",{className:"w-3 h-3 bg-white transform -rotate-45"})}),y.jsxs("div",{children:[y.jsx("div",{className:"text-lg font-bold text-white",children:"TrackGuide AI"}),y.jsx("div",{className:"text-xs text-gray-400",children:"AI Studio Assistant for Music Creators"})]})]}),y.jsxs("div",{className:"text-gray-400 text-center md:text-right text-sm space-y-1",children:[y.jsx("p",{children:" 2025 TrackGuide. Empowering music creators worldwide."}),y.jsxs("p",{children:[y.jsx("a",{href:"#",className:"hover:text-orange-400 mr-4",children:"Privacy Policy"}),y.jsx("a",{href:"#",className:"hover:text-orange-400",children:"Terms of Service"})]})]})]})})})]});function ZI(e,t){const n={};return(e[e.length-1]===""?[...e,""]:e).join((n.padRight?" ":"")+","+(n.padLeft===!1?"":" ")).trim()}const ek=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,tk=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,nk={};function Rx(e,t){return(nk.jsx?tk:ek).test(e)}const ik=/[ \t\n\f\r]/g;function rk(e){return typeof e=="object"?e.type==="text"?Nx(e.value):!1:Nx(e)}function Nx(e){return e.replace(ik,"")===""}class Is{constructor(t,n,r){this.normal=n,this.property=t,r&&(this.space=r)}}Is.prototype.normal={};Is.prototype.property={};Is.prototype.space=void 0;function hb(e,t){const n={},r={};for(const o of e)Object.assign(n,o.property),Object.assign(r,o.normal);return new Is(n,r,t)}function Wd(e){return e.toLowerCase()}class ln{constructor(t,n){this.attribute=n,this.property=t}}ln.prototype.attribute="";ln.prototype.booleanish=!1;ln.prototype.boolean=!1;ln.prototype.commaOrSpaceSeparated=!1;ln.prototype.commaSeparated=!1;ln.prototype.defined=!1;ln.prototype.mustUseProperty=!1;ln.prototype.number=!1;ln.prototype.overloadedBoolean=!1;ln.prototype.property="";ln.prototype.spaceSeparated=!1;ln.prototype.space=void 0;let ak=0;const Le=jr(),Et=jr(),Qd=jr(),de=jr(),st=jr(),Fa=jr(),xn=jr();function jr(){return 2**++ak}const Jd=Object.freeze(Object.defineProperty({__proto__:null,boolean:Le,booleanish:Et,commaOrSpaceSeparated:xn,commaSeparated:Fa,number:de,overloadedBoolean:Qd,spaceSeparated:st},Symbol.toStringTag,{value:"Module"})),ud=Object.keys(Jd);class _m extends ln{constructor(t,n,r,o){let l=-1;if(super(t,n),_x(this,"space",o),typeof r=="number")for(;++l<ud.length;){const u=ud[l];_x(this,ud[l],(r&Jd[u])===Jd[u])}}}_m.prototype.defined=!0;function _x(e,t,n){n&&(e[t]=n)}function qa(e){const t={},n={};for(const[r,o]of Object.entries(e.properties)){const l=new _m(r,e.transform(e.attributes||{},r),o,e.space);e.mustUseProperty&&e.mustUseProperty.includes(r)&&(l.mustUseProperty=!0),t[r]=l,n[Wd(r)]=r,n[Wd(l.attribute)]=r}return new Is(t,n,e.space)}const pb=qa({properties:{ariaActiveDescendant:null,ariaAtomic:Et,ariaAutoComplete:null,ariaBusy:Et,ariaChecked:Et,ariaColCount:de,ariaColIndex:de,ariaColSpan:de,ariaControls:st,ariaCurrent:null,ariaDescribedBy:st,ariaDetails:null,ariaDisabled:Et,ariaDropEffect:st,ariaErrorMessage:null,ariaExpanded:Et,ariaFlowTo:st,ariaGrabbed:Et,ariaHasPopup:null,ariaHidden:Et,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:st,ariaLevel:de,ariaLive:null,ariaModal:Et,ariaMultiLine:Et,ariaMultiSelectable:Et,ariaOrientation:null,ariaOwns:st,ariaPlaceholder:null,ariaPosInSet:de,ariaPressed:Et,ariaReadOnly:Et,ariaRelevant:null,ariaRequired:Et,ariaRoleDescription:st,ariaRowCount:de,ariaRowIndex:de,ariaRowSpan:de,ariaSelected:Et,ariaSetSize:de,ariaSort:null,ariaValueMax:de,ariaValueMin:de,ariaValueNow:de,ariaValueText:null,role:null},transform(e,t){return t==="role"?t:"aria-"+t.slice(4).toLowerCase()}});function gb(e,t){return t in e?e[t]:t}function yb(e,t){return gb(e,t.toLowerCase())}const ok=qa({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:Fa,acceptCharset:st,accessKey:st,action:null,allow:null,allowFullScreen:Le,allowPaymentRequest:Le,allowUserMedia:Le,alt:null,as:null,async:Le,autoCapitalize:null,autoComplete:st,autoFocus:Le,autoPlay:Le,blocking:st,capture:null,charSet:null,checked:Le,cite:null,className:st,cols:de,colSpan:null,content:null,contentEditable:Et,controls:Le,controlsList:st,coords:de|Fa,crossOrigin:null,data:null,dateTime:null,decoding:null,default:Le,defer:Le,dir:null,dirName:null,disabled:Le,download:Qd,draggable:Et,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:Le,formTarget:null,headers:st,height:de,hidden:Qd,high:de,href:null,hrefLang:null,htmlFor:st,httpEquiv:st,id:null,imageSizes:null,imageSrcSet:null,inert:Le,inputMode:null,integrity:null,is:null,isMap:Le,itemId:null,itemProp:st,itemRef:st,itemScope:Le,itemType:st,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:Le,low:de,manifest:null,max:null,maxLength:de,media:null,method:null,min:null,minLength:de,multiple:Le,muted:Le,name:null,nonce:null,noModule:Le,noValidate:Le,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:Le,optimum:de,pattern:null,ping:st,placeholder:null,playsInline:Le,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:Le,referrerPolicy:null,rel:st,required:Le,reversed:Le,rows:de,rowSpan:de,sandbox:st,scope:null,scoped:Le,seamless:Le,selected:Le,shadowRootClonable:Le,shadowRootDelegatesFocus:Le,shadowRootMode:null,shape:null,size:de,sizes:null,slot:null,span:de,spellCheck:Et,src:null,srcDoc:null,srcLang:null,srcSet:null,start:de,step:null,style:null,tabIndex:de,target:null,title:null,translate:null,type:null,typeMustMatch:Le,useMap:null,value:Et,width:de,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:st,axis:null,background:null,bgColor:null,border:de,borderColor:null,bottomMargin:de,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:Le,declare:Le,event:null,face:null,frame:null,frameBorder:null,hSpace:de,leftMargin:de,link:null,longDesc:null,lowSrc:null,marginHeight:de,marginWidth:de,noResize:Le,noHref:Le,noShade:Le,noWrap:Le,object:null,profile:null,prompt:null,rev:null,rightMargin:de,rules:null,scheme:null,scrolling:Et,standby:null,summary:null,text:null,topMargin:de,valueType:null,version:null,vAlign:null,vLink:null,vSpace:de,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:Le,disableRemotePlayback:Le,prefix:null,property:null,results:de,security:null,unselectable:null},space:"html",transform:yb}),sk=qa({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:xn,accentHeight:de,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:de,amplitude:de,arabicForm:null,ascent:de,attributeName:null,attributeType:null,azimuth:de,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:de,by:null,calcMode:null,capHeight:de,className:st,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:de,diffuseConstant:de,direction:null,display:null,dur:null,divisor:de,dominantBaseline:null,download:Le,dx:null,dy:null,edgeMode:null,editable:null,elevation:de,enableBackground:null,end:null,event:null,exponent:de,externalResourcesRequired:null,fill:null,fillOpacity:de,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:Fa,g2:Fa,glyphName:Fa,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:de,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:de,horizOriginX:de,horizOriginY:de,id:null,ideographic:de,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:de,k:de,k1:de,k2:de,k3:de,k4:de,kernelMatrix:xn,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:de,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:de,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:de,overlineThickness:de,paintOrder:null,panose1:null,path:null,pathLength:de,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:st,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:de,pointsAtY:de,pointsAtZ:de,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:xn,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:xn,rev:xn,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:xn,requiredFeatures:xn,requiredFonts:xn,requiredFormats:xn,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:de,specularExponent:de,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:de,strikethroughThickness:de,string:null,stroke:null,strokeDashArray:xn,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:de,strokeOpacity:de,strokeWidth:null,style:null,surfaceScale:de,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:xn,tabIndex:de,tableValues:null,target:null,targetX:de,targetY:de,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:xn,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:de,underlineThickness:de,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:de,values:null,vAlphabetic:de,vMathematical:de,vectorEffect:null,vHanging:de,vIdeographic:de,version:null,vertAdvY:de,vertOriginX:de,vertOriginY:de,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:de,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:gb}),xb=qa({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform(e,t){return"xlink:"+t.slice(5).toLowerCase()}}),vb=qa({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:yb}),bb=qa({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform(e,t){return"xml:"+t.slice(3).toLowerCase()}}),lk={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},uk=/[A-Z]/g,Lx=/-[a-z]/g,ck=/^data[-\w.:]+$/i;function fk(e,t){const n=Wd(t);let r=t,o=ln;if(n in e.normal)return e.property[e.normal[n]];if(n.length>4&&n.slice(0,4)==="data"&&ck.test(t)){if(t.charAt(4)==="-"){const l=t.slice(5).replace(Lx,mk);r="data"+l.charAt(0).toUpperCase()+l.slice(1)}else{const l=t.slice(4);if(!Lx.test(l)){let u=l.replace(uk,dk);u.charAt(0)!=="-"&&(u="-"+u),t="data"+u}}o=_m}return new o(r,t)}function dk(e){return"-"+e.toLowerCase()}function mk(e){return e.charAt(1).toUpperCase()}const hk=hb([pb,ok,xb,vb,bb],"html"),Lm=hb([pb,sk,xb,vb,bb],"svg");function pk(e){return e.join(" ").trim()}var Ia={},cd,Vx;function gk(){if(Vx)return cd;Vx=1;var e=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,t=/\n/g,n=/^\s*/,r=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,o=/^:\s*/,l=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,u=/^[;\s]*/,f=/^\s+|\s+$/g,m=`
`,d="/",h="*",g="",T="comment",S="declaration";cd=function(A,L){if(typeof A!="string")throw new TypeError("First argument must be a string");if(!A)return[];L=L||{};var I=1,N=1;function R(me){var fe=me.match(t);fe&&(I+=fe.length);var he=me.lastIndexOf(m);N=~he?me.length-he:N+me.length}function z(){var me={line:I,column:N};return function(fe){return fe.position=new G(me),le(),fe}}function G(me){this.start=me,this.end={line:I,column:N},this.source=L.source}G.prototype.content=A;function j(me){var fe=new Error(L.source+":"+I+":"+N+": "+me);if(fe.reason=me,fe.filename=L.source,fe.line=I,fe.column=N,fe.source=A,!L.silent)throw fe}function se(me){var fe=me.exec(A);if(fe){var he=fe[0];return R(he),A=A.slice(he.length),fe}}function le(){se(n)}function pe(me){var fe;for(me=me||[];fe=H();)fe!==!1&&me.push(fe);return me}function H(){var me=z();if(!(d!=A.charAt(0)||h!=A.charAt(1))){for(var fe=2;g!=A.charAt(fe)&&(h!=A.charAt(fe)||d!=A.charAt(fe+1));)++fe;if(fe+=2,g===A.charAt(fe-1))return j("End of comment missing");var he=A.slice(2,fe-2);return N+=2,R(he),A=A.slice(fe),N+=2,me({type:T,comment:he})}}function ce(){var me=z(),fe=se(r);if(fe){if(H(),!se(o))return j("property missing ':'");var he=se(l),q=me({type:S,property:E(fe[0].replace(e,g)),value:he?E(he[0].replace(e,g)):g});return se(u),q}}function J(){var me=[];pe(me);for(var fe;fe=ce();)fe!==!1&&(me.push(fe),pe(me));return me}return le(),J()};function E(A){return A?A.replace(f,g):g}return cd}var Px;function yk(){if(Px)return Ia;Px=1;var e=Ia&&Ia.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Ia,"__esModule",{value:!0}),Ia.default=n;var t=e(gk());function n(r,o){var l=null;if(!r||typeof r!="string")return l;var u=(0,t.default)(r),f=typeof o=="function";return u.forEach(function(m){if(m.type==="declaration"){var d=m.property,h=m.value;f?o(d,h,m):h&&(l=l||{},l[d]=h)}}),l}return Ia}var Zo={},Bx;function xk(){if(Bx)return Zo;Bx=1,Object.defineProperty(Zo,"__esModule",{value:!0}),Zo.camelCase=void 0;var e=/^--[a-zA-Z0-9_-]+$/,t=/-([a-z])/g,n=/^[^-]+$/,r=/^-(webkit|moz|ms|o|khtml)-/,o=/^-(ms)-/,l=function(d){return!d||n.test(d)||e.test(d)},u=function(d,h){return h.toUpperCase()},f=function(d,h){return"".concat(h,"-")},m=function(d,h){return h===void 0&&(h={}),l(d)?d:(d=d.toLowerCase(),h.reactCompat?d=d.replace(o,f):d=d.replace(r,f),d.replace(t,u))};return Zo.camelCase=m,Zo}var es,Ox;function vk(){if(Ox)return es;Ox=1;var e=es&&es.__importDefault||function(o){return o&&o.__esModule?o:{default:o}},t=e(yk()),n=xk();function r(o,l){var u={};return!o||typeof o!="string"||(0,t.default)(o,function(f,m){f&&m&&(u[(0,n.camelCase)(f,l)]=m)}),u}return r.default=r,es=r,es}var bk=vk();const Tk=ws(bk),Tb=Sb("end"),Vm=Sb("start");function Sb(e){return t;function t(n){const r=n&&n.position&&n.position[e]||{};if(typeof r.line=="number"&&r.line>0&&typeof r.column=="number"&&r.column>0)return{line:r.line,column:r.column,offset:typeof r.offset=="number"&&r.offset>-1?r.offset:void 0}}}function Sk(e){const t=Vm(e),n=Tb(e);if(t&&n)return{start:t,end:n}}function ss(e){return!e||typeof e!="object"?"":"position"in e||"type"in e?Fx(e.position):"start"in e||"end"in e?Fx(e):"line"in e||"column"in e?Zd(e):""}function Zd(e){return zx(e&&e.line)+":"+zx(e&&e.column)}function Fx(e){return Zd(e&&e.start)+"-"+Zd(e&&e.end)}function zx(e){return e&&typeof e=="number"?e:1}class $t extends Error{constructor(t,n,r){super(),typeof n=="string"&&(r=n,n=void 0);let o="",l={},u=!1;if(n&&("line"in n&&"column"in n?l={place:n}:"start"in n&&"end"in n?l={place:n}:"type"in n?l={ancestors:[n],place:n.position}:l={...n}),typeof t=="string"?o=t:!l.cause&&t&&(u=!0,o=t.message,l.cause=t),!l.ruleId&&!l.source&&typeof r=="string"){const m=r.indexOf(":");m===-1?l.ruleId=r:(l.source=r.slice(0,m),l.ruleId=r.slice(m+1))}if(!l.place&&l.ancestors&&l.ancestors){const m=l.ancestors[l.ancestors.length-1];m&&(l.place=m.position)}const f=l.place&&"start"in l.place?l.place.start:l.place;this.ancestors=l.ancestors||void 0,this.cause=l.cause||void 0,this.column=f?f.column:void 0,this.fatal=void 0,this.file,this.message=o,this.line=f?f.line:void 0,this.name=ss(l.place)||"1:1",this.place=l.place||void 0,this.reason=this.message,this.ruleId=l.ruleId||void 0,this.source=l.source||void 0,this.stack=u&&l.cause&&typeof l.cause.stack=="string"?l.cause.stack:"",this.actual,this.expected,this.note,this.url}}$t.prototype.file="";$t.prototype.name="";$t.prototype.reason="";$t.prototype.message="";$t.prototype.stack="";$t.prototype.column=void 0;$t.prototype.line=void 0;$t.prototype.ancestors=void 0;$t.prototype.cause=void 0;$t.prototype.fatal=void 0;$t.prototype.place=void 0;$t.prototype.ruleId=void 0;$t.prototype.source=void 0;const Pm={}.hasOwnProperty,Ck=new Map,Mk=/[A-Z]/g,Ek=new Set(["table","tbody","thead","tfoot","tr"]),Ak=new Set(["td","th"]),Cb="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function wk(e,t){if(!t||t.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const n=t.filePath||void 0;let r;if(t.development){if(typeof t.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");r=Vk(n,t.jsxDEV)}else{if(typeof t.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof t.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");r=Lk(n,t.jsx,t.jsxs)}const o={Fragment:t.Fragment,ancestors:[],components:t.components||{},create:r,elementAttributeNameCase:t.elementAttributeNameCase||"react",evaluater:t.createEvaluater?t.createEvaluater():void 0,filePath:n,ignoreInvalidStyle:t.ignoreInvalidStyle||!1,passKeys:t.passKeys!==!1,passNode:t.passNode||!1,schema:t.space==="svg"?Lm:hk,stylePropertyNameCase:t.stylePropertyNameCase||"dom",tableCellAlignToStyle:t.tableCellAlignToStyle!==!1},l=Mb(o,e,void 0);return l&&typeof l!="string"?l:o.create(e,o.Fragment,{children:l||void 0},void 0)}function Mb(e,t,n){if(t.type==="element")return Dk(e,t,n);if(t.type==="mdxFlowExpression"||t.type==="mdxTextExpression")return Ik(e,t);if(t.type==="mdxJsxFlowElement"||t.type==="mdxJsxTextElement")return Rk(e,t,n);if(t.type==="mdxjsEsm")return kk(e,t);if(t.type==="root")return Nk(e,t,n);if(t.type==="text")return _k(e,t)}function Dk(e,t,n){const r=e.schema;let o=r;t.tagName.toLowerCase()==="svg"&&r.space==="html"&&(o=Lm,e.schema=o),e.ancestors.push(t);const l=Ab(e,t.tagName,!1),u=Pk(e,t);let f=Om(e,t);return Ek.has(t.tagName)&&(f=f.filter(function(m){return typeof m=="string"?!rk(m):!0})),Eb(e,u,l,t),Bm(u,f),e.ancestors.pop(),e.schema=r,e.create(t,l,u,n)}function Ik(e,t){if(t.data&&t.data.estree&&e.evaluater){const r=t.data.estree.body[0];return r.type,e.evaluater.evaluateExpression(r.expression)}xs(e,t.position)}function kk(e,t){if(t.data&&t.data.estree&&e.evaluater)return e.evaluater.evaluateProgram(t.data.estree);xs(e,t.position)}function Rk(e,t,n){const r=e.schema;let o=r;t.name==="svg"&&r.space==="html"&&(o=Lm,e.schema=o),e.ancestors.push(t);const l=t.name===null?e.Fragment:Ab(e,t.name,!0),u=Bk(e,t),f=Om(e,t);return Eb(e,u,l,t),Bm(u,f),e.ancestors.pop(),e.schema=r,e.create(t,l,u,n)}function Nk(e,t,n){const r={};return Bm(r,Om(e,t)),e.create(t,e.Fragment,r,n)}function _k(e,t){return t.value}function Eb(e,t,n,r){typeof n!="string"&&n!==e.Fragment&&e.passNode&&(t.node=r)}function Bm(e,t){if(t.length>0){const n=t.length>1?t:t[0];n&&(e.children=n)}}function Lk(e,t,n){return r;function r(o,l,u,f){const d=Array.isArray(u.children)?n:t;return f?d(l,u,f):d(l,u)}}function Vk(e,t){return n;function n(r,o,l,u){const f=Array.isArray(l.children),m=Vm(r);return t(o,l,u,f,{columnNumber:m?m.column-1:void 0,fileName:e,lineNumber:m?m.line:void 0},void 0)}}function Pk(e,t){const n={};let r,o;for(o in t.properties)if(o!=="children"&&Pm.call(t.properties,o)){const l=Ok(e,o,t.properties[o]);if(l){const[u,f]=l;e.tableCellAlignToStyle&&u==="align"&&typeof f=="string"&&Ak.has(t.tagName)?r=f:n[u]=f}}if(r){const l=n.style||(n.style={});l[e.stylePropertyNameCase==="css"?"text-align":"textAlign"]=r}return n}function Bk(e,t){const n={};for(const r of t.attributes)if(r.type==="mdxJsxExpressionAttribute")if(r.data&&r.data.estree&&e.evaluater){const l=r.data.estree.body[0];l.type;const u=l.expression;u.type;const f=u.properties[0];f.type,Object.assign(n,e.evaluater.evaluateExpression(f.argument))}else xs(e,t.position);else{const o=r.name;let l;if(r.value&&typeof r.value=="object")if(r.value.data&&r.value.data.estree&&e.evaluater){const f=r.value.data.estree.body[0];f.type,l=e.evaluater.evaluateExpression(f.expression)}else xs(e,t.position);else l=r.value===null?!0:r.value;n[o]=l}return n}function Om(e,t){const n=[];let r=-1;const o=e.passKeys?new Map:Ck;for(;++r<t.children.length;){const l=t.children[r];let u;if(e.passKeys){const m=l.type==="element"?l.tagName:l.type==="mdxJsxFlowElement"||l.type==="mdxJsxTextElement"?l.name:void 0;if(m){const d=o.get(m)||0;u=m+"-"+d,o.set(m,d+1)}}const f=Mb(e,l,u);f!==void 0&&n.push(f)}return n}function Ok(e,t,n){const r=fk(e.schema,t);if(!(n==null||typeof n=="number"&&Number.isNaN(n))){if(Array.isArray(n)&&(n=r.commaSeparated?ZI(n):pk(n)),r.property==="style"){let o=typeof n=="object"?n:Fk(e,String(n));return e.stylePropertyNameCase==="css"&&(o=zk(o)),["style",o]}return[e.elementAttributeNameCase==="react"&&r.space?lk[r.property]||r.property:r.attribute,n]}}function Fk(e,t){try{return Tk(t,{reactCompat:!0})}catch(n){if(e.ignoreInvalidStyle)return{};const r=n,o=new $t("Cannot parse `style` attribute",{ancestors:e.ancestors,cause:r,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw o.file=e.filePath||void 0,o.url=Cb+"#cannot-parse-style-attribute",o}}function Ab(e,t,n){let r;if(!n)r={type:"Literal",value:t};else if(t.includes(".")){const o=t.split(".");let l=-1,u;for(;++l<o.length;){const f=Rx(o[l])?{type:"Identifier",name:o[l]}:{type:"Literal",value:o[l]};u=u?{type:"MemberExpression",object:u,property:f,computed:!!(l&&f.type==="Literal"),optional:!1}:f}r=u}else r=Rx(t)&&!/^[a-z]/.test(t)?{type:"Identifier",name:t}:{type:"Literal",value:t};if(r.type==="Literal"){const o=r.value;return Pm.call(e.components,o)?e.components[o]:o}if(e.evaluater)return e.evaluater.evaluateExpression(r);xs(e)}function xs(e,t){const n=new $t("Cannot handle MDX estrees without `createEvaluater`",{ancestors:e.ancestors,place:t,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw n.file=e.filePath||void 0,n.url=Cb+"#cannot-handle-mdx-estrees-without-createevaluater",n}function zk(e){const t={};let n;for(n in e)Pm.call(e,n)&&(t[jk(n)]=e[n]);return t}function jk(e){let t=e.replace(Mk,Hk);return t.slice(0,3)==="ms-"&&(t="-"+t),t}function Hk(e){return"-"+e.toLowerCase()}const fd={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},Uk={};function Fm(e,t){const n=Uk,r=typeof n.includeImageAlt=="boolean"?n.includeImageAlt:!0,o=typeof n.includeHtml=="boolean"?n.includeHtml:!0;return wb(e,r,o)}function wb(e,t,n){if(Gk(e)){if("value"in e)return e.type==="html"&&!n?"":e.value;if(t&&"alt"in e&&e.alt)return e.alt;if("children"in e)return jx(e.children,t,n)}return Array.isArray(e)?jx(e,t,n):""}function jx(e,t,n){const r=[];let o=-1;for(;++o<e.length;)r[o]=wb(e[o],t,n);return r.join("")}function Gk(e){return!!(e&&typeof e=="object")}const Hx=document.createElement("i");function zm(e){const t="&"+e+";";Hx.innerHTML=t;const n=Hx.textContent;return n.charCodeAt(n.length-1)===59&&e!=="semi"||n===t?!1:n}function vn(e,t,n,r){const o=e.length;let l=0,u;if(t<0?t=-t>o?0:o+t:t=t>o?o:t,n=n>0?n:0,r.length<1e4)u=Array.from(r),u.unshift(t,n),e.splice(...u);else for(n&&e.splice(t,n);l<r.length;)u=r.slice(l,l+1e4),u.unshift(t,0),e.splice(...u),l+=1e4,t+=1e4}function Ln(e,t){return e.length>0?(vn(e,e.length,0,t),e):t}const Ux={}.hasOwnProperty;function Db(e){const t={};let n=-1;for(;++n<e.length;)qk(t,e[n]);return t}function qk(e,t){let n;for(n in t){const o=(Ux.call(e,n)?e[n]:void 0)||(e[n]={}),l=t[n];let u;if(l)for(u in l){Ux.call(o,u)||(o[u]=[]);const f=l[u];Yk(o[u],Array.isArray(f)?f:f?[f]:[])}}}function Yk(e,t){let n=-1;const r=[];for(;++n<t.length;)(t[n].add==="after"?e:r).push(t[n]);vn(e,0,0,r)}function Ib(e,t){const n=Number.parseInt(e,t);return n<9||n===11||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||(n&65535)===65535||(n&65535)===65534||n>1114111?"":String.fromCodePoint(n)}function Gn(e){return e.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const Wt=sr(/[A-Za-z]/),qt=sr(/[\dA-Za-z]/),$k=sr(/[#-'*+\--9=?A-Z^-~]/);function Mu(e){return e!==null&&(e<32||e===127)}const em=sr(/\d/),Kk=sr(/[\dA-Fa-f]/),Xk=sr(/[!-/:-@[-`{-~]/);function Ce(e){return e!==null&&e<-2}function it(e){return e!==null&&(e<0||e===32)}function ze(e){return e===-2||e===-1||e===32}const Pu=sr(new RegExp("\\p{P}|\\p{S}","u")),Fr=sr(/\s/);function sr(e){return t;function t(n){return n!==null&&n>-1&&e.test(String.fromCharCode(n))}}function Ya(e){const t=[];let n=-1,r=0,o=0;for(;++n<e.length;){const l=e.charCodeAt(n);let u="";if(l===37&&qt(e.charCodeAt(n+1))&&qt(e.charCodeAt(n+2)))o=2;else if(l<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(l))||(u=String.fromCharCode(l));else if(l>55295&&l<57344){const f=e.charCodeAt(n+1);l<56320&&f>56319&&f<57344?(u=String.fromCharCode(l,f),o=1):u=""}else u=String.fromCharCode(l);u&&(t.push(e.slice(r,n),encodeURIComponent(u)),r=n+o+1,u=""),o&&(n+=o,o=0)}return t.join("")+e.slice(r)}function Ge(e,t,n,r){const o=r?r-1:Number.POSITIVE_INFINITY;let l=0;return u;function u(m){return ze(m)?(e.enter(n),f(m)):t(m)}function f(m){return ze(m)&&l++<o?(e.consume(m),f):(e.exit(n),t(m))}}const Wk={tokenize:Qk};function Qk(e){const t=e.attempt(this.parser.constructs.contentInitial,r,o);let n;return t;function r(f){if(f===null){e.consume(f);return}return e.enter("lineEnding"),e.consume(f),e.exit("lineEnding"),Ge(e,t,"linePrefix")}function o(f){return e.enter("paragraph"),l(f)}function l(f){const m=e.enter("chunkText",{contentType:"text",previous:n});return n&&(n.next=m),n=m,u(f)}function u(f){if(f===null){e.exit("chunkText"),e.exit("paragraph"),e.consume(f);return}return Ce(f)?(e.consume(f),e.exit("chunkText"),l):(e.consume(f),u)}}const Jk={tokenize:Zk},Gx={tokenize:eR};function Zk(e){const t=this,n=[];let r=0,o,l,u;return f;function f(R){if(r<n.length){const z=n[r];return t.containerState=z[1],e.attempt(z[0].continuation,m,d)(R)}return d(R)}function m(R){if(r++,t.containerState._closeFlow){t.containerState._closeFlow=void 0,o&&N();const z=t.events.length;let G=z,j;for(;G--;)if(t.events[G][0]==="exit"&&t.events[G][1].type==="chunkFlow"){j=t.events[G][1].end;break}I(r);let se=z;for(;se<t.events.length;)t.events[se][1].end={...j},se++;return vn(t.events,G+1,0,t.events.slice(z)),t.events.length=se,d(R)}return f(R)}function d(R){if(r===n.length){if(!o)return T(R);if(o.currentConstruct&&o.currentConstruct.concrete)return E(R);t.interrupt=!!(o.currentConstruct&&!o._gfmTableDynamicInterruptHack)}return t.containerState={},e.check(Gx,h,g)(R)}function h(R){return o&&N(),I(r),T(R)}function g(R){return t.parser.lazy[t.now().line]=r!==n.length,u=t.now().offset,E(R)}function T(R){return t.containerState={},e.attempt(Gx,S,E)(R)}function S(R){return r++,n.push([t.currentConstruct,t.containerState]),T(R)}function E(R){if(R===null){o&&N(),I(0),e.consume(R);return}return o=o||t.parser.flow(t.now()),e.enter("chunkFlow",{_tokenizer:o,contentType:"flow",previous:l}),A(R)}function A(R){if(R===null){L(e.exit("chunkFlow"),!0),I(0),e.consume(R);return}return Ce(R)?(e.consume(R),L(e.exit("chunkFlow")),r=0,t.interrupt=void 0,f):(e.consume(R),A)}function L(R,z){const G=t.sliceStream(R);if(z&&G.push(null),R.previous=l,l&&(l.next=R),l=R,o.defineSkip(R.start),o.write(G),t.parser.lazy[R.start.line]){let j=o.events.length;for(;j--;)if(o.events[j][1].start.offset<u&&(!o.events[j][1].end||o.events[j][1].end.offset>u))return;const se=t.events.length;let le=se,pe,H;for(;le--;)if(t.events[le][0]==="exit"&&t.events[le][1].type==="chunkFlow"){if(pe){H=t.events[le][1].end;break}pe=!0}for(I(r),j=se;j<t.events.length;)t.events[j][1].end={...H},j++;vn(t.events,le+1,0,t.events.slice(se)),t.events.length=j}}function I(R){let z=n.length;for(;z-- >R;){const G=n[z];t.containerState=G[1],G[0].exit.call(t,e)}n.length=R}function N(){o.write([null]),l=void 0,o=void 0,t.containerState._closeFlow=void 0}}function eR(e,t,n){return Ge(e,e.attempt(this.parser.constructs.document,t,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function za(e){if(e===null||it(e)||Fr(e))return 1;if(Pu(e))return 2}function Bu(e,t,n){const r=[];let o=-1;for(;++o<e.length;){const l=e[o].resolveAll;l&&!r.includes(l)&&(t=l(t,n),r.push(l))}return t}const tm={name:"attention",resolveAll:tR,tokenize:nR};function tR(e,t){let n=-1,r,o,l,u,f,m,d,h;for(;++n<e.length;)if(e[n][0]==="enter"&&e[n][1].type==="attentionSequence"&&e[n][1]._close){for(r=n;r--;)if(e[r][0]==="exit"&&e[r][1].type==="attentionSequence"&&e[r][1]._open&&t.sliceSerialize(e[r][1]).charCodeAt(0)===t.sliceSerialize(e[n][1]).charCodeAt(0)){if((e[r][1]._close||e[n][1]._open)&&(e[n][1].end.offset-e[n][1].start.offset)%3&&!((e[r][1].end.offset-e[r][1].start.offset+e[n][1].end.offset-e[n][1].start.offset)%3))continue;m=e[r][1].end.offset-e[r][1].start.offset>1&&e[n][1].end.offset-e[n][1].start.offset>1?2:1;const g={...e[r][1].end},T={...e[n][1].start};qx(g,-m),qx(T,m),u={type:m>1?"strongSequence":"emphasisSequence",start:g,end:{...e[r][1].end}},f={type:m>1?"strongSequence":"emphasisSequence",start:{...e[n][1].start},end:T},l={type:m>1?"strongText":"emphasisText",start:{...e[r][1].end},end:{...e[n][1].start}},o={type:m>1?"strong":"emphasis",start:{...u.start},end:{...f.end}},e[r][1].end={...u.start},e[n][1].start={...f.end},d=[],e[r][1].end.offset-e[r][1].start.offset&&(d=Ln(d,[["enter",e[r][1],t],["exit",e[r][1],t]])),d=Ln(d,[["enter",o,t],["enter",u,t],["exit",u,t],["enter",l,t]]),d=Ln(d,Bu(t.parser.constructs.insideSpan.null,e.slice(r+1,n),t)),d=Ln(d,[["exit",l,t],["enter",f,t],["exit",f,t],["exit",o,t]]),e[n][1].end.offset-e[n][1].start.offset?(h=2,d=Ln(d,[["enter",e[n][1],t],["exit",e[n][1],t]])):h=0,vn(e,r-1,n-r+3,d),n=r+d.length-h-2;break}}for(n=-1;++n<e.length;)e[n][1].type==="attentionSequence"&&(e[n][1].type="data");return e}function nR(e,t){const n=this.parser.constructs.attentionMarkers.null,r=this.previous,o=za(r);let l;return u;function u(m){return l=m,e.enter("attentionSequence"),f(m)}function f(m){if(m===l)return e.consume(m),f;const d=e.exit("attentionSequence"),h=za(m),g=!h||h===2&&o||n.includes(m),T=!o||o===2&&h||n.includes(r);return d._open=!!(l===42?g:g&&(o||!T)),d._close=!!(l===42?T:T&&(h||!g)),t(m)}}function qx(e,t){e.column+=t,e.offset+=t,e._bufferIndex+=t}const iR={name:"autolink",tokenize:rR};function rR(e,t,n){let r=0;return o;function o(S){return e.enter("autolink"),e.enter("autolinkMarker"),e.consume(S),e.exit("autolinkMarker"),e.enter("autolinkProtocol"),l}function l(S){return Wt(S)?(e.consume(S),u):S===64?n(S):d(S)}function u(S){return S===43||S===45||S===46||qt(S)?(r=1,f(S)):d(S)}function f(S){return S===58?(e.consume(S),r=0,m):(S===43||S===45||S===46||qt(S))&&r++<32?(e.consume(S),f):(r=0,d(S))}function m(S){return S===62?(e.exit("autolinkProtocol"),e.enter("autolinkMarker"),e.consume(S),e.exit("autolinkMarker"),e.exit("autolink"),t):S===null||S===32||S===60||Mu(S)?n(S):(e.consume(S),m)}function d(S){return S===64?(e.consume(S),h):$k(S)?(e.consume(S),d):n(S)}function h(S){return qt(S)?g(S):n(S)}function g(S){return S===46?(e.consume(S),r=0,h):S===62?(e.exit("autolinkProtocol").type="autolinkEmail",e.enter("autolinkMarker"),e.consume(S),e.exit("autolinkMarker"),e.exit("autolink"),t):T(S)}function T(S){if((S===45||qt(S))&&r++<63){const E=S===45?T:g;return e.consume(S),E}return n(S)}}const ks={partial:!0,tokenize:aR};function aR(e,t,n){return r;function r(l){return ze(l)?Ge(e,o,"linePrefix")(l):o(l)}function o(l){return l===null||Ce(l)?t(l):n(l)}}const kb={continuation:{tokenize:sR},exit:lR,name:"blockQuote",tokenize:oR};function oR(e,t,n){const r=this;return o;function o(u){if(u===62){const f=r.containerState;return f.open||(e.enter("blockQuote",{_container:!0}),f.open=!0),e.enter("blockQuotePrefix"),e.enter("blockQuoteMarker"),e.consume(u),e.exit("blockQuoteMarker"),l}return n(u)}function l(u){return ze(u)?(e.enter("blockQuotePrefixWhitespace"),e.consume(u),e.exit("blockQuotePrefixWhitespace"),e.exit("blockQuotePrefix"),t):(e.exit("blockQuotePrefix"),t(u))}}function sR(e,t,n){const r=this;return o;function o(u){return ze(u)?Ge(e,l,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(u):l(u)}function l(u){return e.attempt(kb,t,n)(u)}}function lR(e){e.exit("blockQuote")}const Rb={name:"characterEscape",tokenize:uR};function uR(e,t,n){return r;function r(l){return e.enter("characterEscape"),e.enter("escapeMarker"),e.consume(l),e.exit("escapeMarker"),o}function o(l){return Xk(l)?(e.enter("characterEscapeValue"),e.consume(l),e.exit("characterEscapeValue"),e.exit("characterEscape"),t):n(l)}}const Nb={name:"characterReference",tokenize:cR};function cR(e,t,n){const r=this;let o=0,l,u;return f;function f(g){return e.enter("characterReference"),e.enter("characterReferenceMarker"),e.consume(g),e.exit("characterReferenceMarker"),m}function m(g){return g===35?(e.enter("characterReferenceMarkerNumeric"),e.consume(g),e.exit("characterReferenceMarkerNumeric"),d):(e.enter("characterReferenceValue"),l=31,u=qt,h(g))}function d(g){return g===88||g===120?(e.enter("characterReferenceMarkerHexadecimal"),e.consume(g),e.exit("characterReferenceMarkerHexadecimal"),e.enter("characterReferenceValue"),l=6,u=Kk,h):(e.enter("characterReferenceValue"),l=7,u=em,h(g))}function h(g){if(g===59&&o){const T=e.exit("characterReferenceValue");return u===qt&&!zm(r.sliceSerialize(T))?n(g):(e.enter("characterReferenceMarker"),e.consume(g),e.exit("characterReferenceMarker"),e.exit("characterReference"),t)}return u(g)&&o++<l?(e.consume(g),h):n(g)}}const Yx={partial:!0,tokenize:dR},$x={concrete:!0,name:"codeFenced",tokenize:fR};function fR(e,t,n){const r=this,o={partial:!0,tokenize:G};let l=0,u=0,f;return m;function m(j){return d(j)}function d(j){const se=r.events[r.events.length-1];return l=se&&se[1].type==="linePrefix"?se[2].sliceSerialize(se[1],!0).length:0,f=j,e.enter("codeFenced"),e.enter("codeFencedFence"),e.enter("codeFencedFenceSequence"),h(j)}function h(j){return j===f?(u++,e.consume(j),h):u<3?n(j):(e.exit("codeFencedFenceSequence"),ze(j)?Ge(e,g,"whitespace")(j):g(j))}function g(j){return j===null||Ce(j)?(e.exit("codeFencedFence"),r.interrupt?t(j):e.check(Yx,A,z)(j)):(e.enter("codeFencedFenceInfo"),e.enter("chunkString",{contentType:"string"}),T(j))}function T(j){return j===null||Ce(j)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),g(j)):ze(j)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),Ge(e,S,"whitespace")(j)):j===96&&j===f?n(j):(e.consume(j),T)}function S(j){return j===null||Ce(j)?g(j):(e.enter("codeFencedFenceMeta"),e.enter("chunkString",{contentType:"string"}),E(j))}function E(j){return j===null||Ce(j)?(e.exit("chunkString"),e.exit("codeFencedFenceMeta"),g(j)):j===96&&j===f?n(j):(e.consume(j),E)}function A(j){return e.attempt(o,z,L)(j)}function L(j){return e.enter("lineEnding"),e.consume(j),e.exit("lineEnding"),I}function I(j){return l>0&&ze(j)?Ge(e,N,"linePrefix",l+1)(j):N(j)}function N(j){return j===null||Ce(j)?e.check(Yx,A,z)(j):(e.enter("codeFlowValue"),R(j))}function R(j){return j===null||Ce(j)?(e.exit("codeFlowValue"),N(j)):(e.consume(j),R)}function z(j){return e.exit("codeFenced"),t(j)}function G(j,se,le){let pe=0;return H;function H(he){return j.enter("lineEnding"),j.consume(he),j.exit("lineEnding"),ce}function ce(he){return j.enter("codeFencedFence"),ze(he)?Ge(j,J,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(he):J(he)}function J(he){return he===f?(j.enter("codeFencedFenceSequence"),me(he)):le(he)}function me(he){return he===f?(pe++,j.consume(he),me):pe>=u?(j.exit("codeFencedFenceSequence"),ze(he)?Ge(j,fe,"whitespace")(he):fe(he)):le(he)}function fe(he){return he===null||Ce(he)?(j.exit("codeFencedFence"),se(he)):le(he)}}}function dR(e,t,n){const r=this;return o;function o(u){return u===null?n(u):(e.enter("lineEnding"),e.consume(u),e.exit("lineEnding"),l)}function l(u){return r.parser.lazy[r.now().line]?n(u):t(u)}}const dd={name:"codeIndented",tokenize:hR},mR={partial:!0,tokenize:pR};function hR(e,t,n){const r=this;return o;function o(d){return e.enter("codeIndented"),Ge(e,l,"linePrefix",5)(d)}function l(d){const h=r.events[r.events.length-1];return h&&h[1].type==="linePrefix"&&h[2].sliceSerialize(h[1],!0).length>=4?u(d):n(d)}function u(d){return d===null?m(d):Ce(d)?e.attempt(mR,u,m)(d):(e.enter("codeFlowValue"),f(d))}function f(d){return d===null||Ce(d)?(e.exit("codeFlowValue"),u(d)):(e.consume(d),f)}function m(d){return e.exit("codeIndented"),t(d)}}function pR(e,t,n){const r=this;return o;function o(u){return r.parser.lazy[r.now().line]?n(u):Ce(u)?(e.enter("lineEnding"),e.consume(u),e.exit("lineEnding"),o):Ge(e,l,"linePrefix",5)(u)}function l(u){const f=r.events[r.events.length-1];return f&&f[1].type==="linePrefix"&&f[2].sliceSerialize(f[1],!0).length>=4?t(u):Ce(u)?o(u):n(u)}}const gR={name:"codeText",previous:xR,resolve:yR,tokenize:vR};function yR(e){let t=e.length-4,n=3,r,o;if((e[n][1].type==="lineEnding"||e[n][1].type==="space")&&(e[t][1].type==="lineEnding"||e[t][1].type==="space")){for(r=n;++r<t;)if(e[r][1].type==="codeTextData"){e[n][1].type="codeTextPadding",e[t][1].type="codeTextPadding",n+=2,t-=2;break}}for(r=n-1,t++;++r<=t;)o===void 0?r!==t&&e[r][1].type!=="lineEnding"&&(o=r):(r===t||e[r][1].type==="lineEnding")&&(e[o][1].type="codeTextData",r!==o+2&&(e[o][1].end=e[r-1][1].end,e.splice(o+2,r-o-2),t-=r-o-2,r=o+2),o=void 0);return e}function xR(e){return e!==96||this.events[this.events.length-1][1].type==="characterEscape"}function vR(e,t,n){let r=0,o,l;return u;function u(g){return e.enter("codeText"),e.enter("codeTextSequence"),f(g)}function f(g){return g===96?(e.consume(g),r++,f):(e.exit("codeTextSequence"),m(g))}function m(g){return g===null?n(g):g===32?(e.enter("space"),e.consume(g),e.exit("space"),m):g===96?(l=e.enter("codeTextSequence"),o=0,h(g)):Ce(g)?(e.enter("lineEnding"),e.consume(g),e.exit("lineEnding"),m):(e.enter("codeTextData"),d(g))}function d(g){return g===null||g===32||g===96||Ce(g)?(e.exit("codeTextData"),m(g)):(e.consume(g),d)}function h(g){return g===96?(e.consume(g),o++,h):o===r?(e.exit("codeTextSequence"),e.exit("codeText"),t(g)):(l.type="codeTextData",d(g))}}class bR{constructor(t){this.left=t?[...t]:[],this.right=[]}get(t){if(t<0||t>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+t+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return t<this.left.length?this.left[t]:this.right[this.right.length-t+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(t,n){const r=n??Number.POSITIVE_INFINITY;return r<this.left.length?this.left.slice(t,r):t>this.left.length?this.right.slice(this.right.length-r+this.left.length,this.right.length-t+this.left.length).reverse():this.left.slice(t).concat(this.right.slice(this.right.length-r+this.left.length).reverse())}splice(t,n,r){const o=n||0;this.setCursor(Math.trunc(t));const l=this.right.splice(this.right.length-o,Number.POSITIVE_INFINITY);return r&&ts(this.left,r),l.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(t){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(t)}pushMany(t){this.setCursor(Number.POSITIVE_INFINITY),ts(this.left,t)}unshift(t){this.setCursor(0),this.right.push(t)}unshiftMany(t){this.setCursor(0),ts(this.right,t.reverse())}setCursor(t){if(!(t===this.left.length||t>this.left.length&&this.right.length===0||t<0&&this.left.length===0))if(t<this.left.length){const n=this.left.splice(t,Number.POSITIVE_INFINITY);ts(this.right,n.reverse())}else{const n=this.right.splice(this.left.length+this.right.length-t,Number.POSITIVE_INFINITY);ts(this.left,n.reverse())}}}function ts(e,t){let n=0;if(t.length<1e4)e.push(...t);else for(;n<t.length;)e.push(...t.slice(n,n+1e4)),n+=1e4}function _b(e){const t={};let n=-1,r,o,l,u,f,m,d;const h=new bR(e);for(;++n<h.length;){for(;n in t;)n=t[n];if(r=h.get(n),n&&r[1].type==="chunkFlow"&&h.get(n-1)[1].type==="listItemPrefix"&&(m=r[1]._tokenizer.events,l=0,l<m.length&&m[l][1].type==="lineEndingBlank"&&(l+=2),l<m.length&&m[l][1].type==="content"))for(;++l<m.length&&m[l][1].type!=="content";)m[l][1].type==="chunkText"&&(m[l][1]._isInFirstContentOfListItem=!0,l++);if(r[0]==="enter")r[1].contentType&&(Object.assign(t,TR(h,n)),n=t[n],d=!0);else if(r[1]._container){for(l=n,o=void 0;l--;)if(u=h.get(l),u[1].type==="lineEnding"||u[1].type==="lineEndingBlank")u[0]==="enter"&&(o&&(h.get(o)[1].type="lineEndingBlank"),u[1].type="lineEnding",o=l);else if(!(u[1].type==="linePrefix"||u[1].type==="listItemIndent"))break;o&&(r[1].end={...h.get(o)[1].start},f=h.slice(o,n),f.unshift(r),h.splice(o,n-o+1,f))}}return vn(e,0,Number.POSITIVE_INFINITY,h.slice(0)),!d}function TR(e,t){const n=e.get(t)[1],r=e.get(t)[2];let o=t-1;const l=[];let u=n._tokenizer;u||(u=r.parser[n.contentType](n.start),n._contentTypeTextTrailing&&(u._contentTypeTextTrailing=!0));const f=u.events,m=[],d={};let h,g,T=-1,S=n,E=0,A=0;const L=[A];for(;S;){for(;e.get(++o)[1]!==S;);l.push(o),S._tokenizer||(h=r.sliceStream(S),S.next||h.push(null),g&&u.defineSkip(S.start),S._isInFirstContentOfListItem&&(u._gfmTasklistFirstContentOfListItem=!0),u.write(h),S._isInFirstContentOfListItem&&(u._gfmTasklistFirstContentOfListItem=void 0)),g=S,S=S.next}for(S=n;++T<f.length;)f[T][0]==="exit"&&f[T-1][0]==="enter"&&f[T][1].type===f[T-1][1].type&&f[T][1].start.line!==f[T][1].end.line&&(A=T+1,L.push(A),S._tokenizer=void 0,S.previous=void 0,S=S.next);for(u.events=[],S?(S._tokenizer=void 0,S.previous=void 0):L.pop(),T=L.length;T--;){const I=f.slice(L[T],L[T+1]),N=l.pop();m.push([N,N+I.length-1]),e.splice(N,2,I)}for(m.reverse(),T=-1;++T<m.length;)d[E+m[T][0]]=E+m[T][1],E+=m[T][1]-m[T][0]-1;return d}const SR={resolve:MR,tokenize:ER},CR={partial:!0,tokenize:AR};function MR(e){return _b(e),e}function ER(e,t){let n;return r;function r(f){return e.enter("content"),n=e.enter("chunkContent",{contentType:"content"}),o(f)}function o(f){return f===null?l(f):Ce(f)?e.check(CR,u,l)(f):(e.consume(f),o)}function l(f){return e.exit("chunkContent"),e.exit("content"),t(f)}function u(f){return e.consume(f),e.exit("chunkContent"),n.next=e.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,o}}function AR(e,t,n){const r=this;return o;function o(u){return e.exit("chunkContent"),e.enter("lineEnding"),e.consume(u),e.exit("lineEnding"),Ge(e,l,"linePrefix")}function l(u){if(u===null||Ce(u))return n(u);const f=r.events[r.events.length-1];return!r.parser.constructs.disable.null.includes("codeIndented")&&f&&f[1].type==="linePrefix"&&f[2].sliceSerialize(f[1],!0).length>=4?t(u):e.interrupt(r.parser.constructs.flow,n,t)(u)}}function Lb(e,t,n,r,o,l,u,f,m){const d=m||Number.POSITIVE_INFINITY;let h=0;return g;function g(I){return I===60?(e.enter(r),e.enter(o),e.enter(l),e.consume(I),e.exit(l),T):I===null||I===32||I===41||Mu(I)?n(I):(e.enter(r),e.enter(u),e.enter(f),e.enter("chunkString",{contentType:"string"}),A(I))}function T(I){return I===62?(e.enter(l),e.consume(I),e.exit(l),e.exit(o),e.exit(r),t):(e.enter(f),e.enter("chunkString",{contentType:"string"}),S(I))}function S(I){return I===62?(e.exit("chunkString"),e.exit(f),T(I)):I===null||I===60||Ce(I)?n(I):(e.consume(I),I===92?E:S)}function E(I){return I===60||I===62||I===92?(e.consume(I),S):S(I)}function A(I){return!h&&(I===null||I===41||it(I))?(e.exit("chunkString"),e.exit(f),e.exit(u),e.exit(r),t(I)):h<d&&I===40?(e.consume(I),h++,A):I===41?(e.consume(I),h--,A):I===null||I===32||I===40||Mu(I)?n(I):(e.consume(I),I===92?L:A)}function L(I){return I===40||I===41||I===92?(e.consume(I),A):A(I)}}function Vb(e,t,n,r,o,l){const u=this;let f=0,m;return d;function d(S){return e.enter(r),e.enter(o),e.consume(S),e.exit(o),e.enter(l),h}function h(S){return f>999||S===null||S===91||S===93&&!m||S===94&&!f&&"_hiddenFootnoteSupport"in u.parser.constructs?n(S):S===93?(e.exit(l),e.enter(o),e.consume(S),e.exit(o),e.exit(r),t):Ce(S)?(e.enter("lineEnding"),e.consume(S),e.exit("lineEnding"),h):(e.enter("chunkString",{contentType:"string"}),g(S))}function g(S){return S===null||S===91||S===93||Ce(S)||f++>999?(e.exit("chunkString"),h(S)):(e.consume(S),m||(m=!ze(S)),S===92?T:g)}function T(S){return S===91||S===92||S===93?(e.consume(S),f++,g):g(S)}}function Pb(e,t,n,r,o,l){let u;return f;function f(T){return T===34||T===39||T===40?(e.enter(r),e.enter(o),e.consume(T),e.exit(o),u=T===40?41:T,m):n(T)}function m(T){return T===u?(e.enter(o),e.consume(T),e.exit(o),e.exit(r),t):(e.enter(l),d(T))}function d(T){return T===u?(e.exit(l),m(u)):T===null?n(T):Ce(T)?(e.enter("lineEnding"),e.consume(T),e.exit("lineEnding"),Ge(e,d,"linePrefix")):(e.enter("chunkString",{contentType:"string"}),h(T))}function h(T){return T===u||T===null||Ce(T)?(e.exit("chunkString"),d(T)):(e.consume(T),T===92?g:h)}function g(T){return T===u||T===92?(e.consume(T),h):h(T)}}function ls(e,t){let n;return r;function r(o){return Ce(o)?(e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),n=!0,r):ze(o)?Ge(e,r,n?"linePrefix":"lineSuffix")(o):t(o)}}const wR={name:"definition",tokenize:IR},DR={partial:!0,tokenize:kR};function IR(e,t,n){const r=this;let o;return l;function l(S){return e.enter("definition"),u(S)}function u(S){return Vb.call(r,e,f,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(S)}function f(S){return o=Gn(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)),S===58?(e.enter("definitionMarker"),e.consume(S),e.exit("definitionMarker"),m):n(S)}function m(S){return it(S)?ls(e,d)(S):d(S)}function d(S){return Lb(e,h,n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(S)}function h(S){return e.attempt(DR,g,g)(S)}function g(S){return ze(S)?Ge(e,T,"whitespace")(S):T(S)}function T(S){return S===null||Ce(S)?(e.exit("definition"),r.parser.defined.push(o),t(S)):n(S)}}function kR(e,t,n){return r;function r(f){return it(f)?ls(e,o)(f):n(f)}function o(f){return Pb(e,l,n,"definitionTitle","definitionTitleMarker","definitionTitleString")(f)}function l(f){return ze(f)?Ge(e,u,"whitespace")(f):u(f)}function u(f){return f===null||Ce(f)?t(f):n(f)}}const RR={name:"hardBreakEscape",tokenize:NR};function NR(e,t,n){return r;function r(l){return e.enter("hardBreakEscape"),e.consume(l),o}function o(l){return Ce(l)?(e.exit("hardBreakEscape"),t(l)):n(l)}}const _R={name:"headingAtx",resolve:LR,tokenize:VR};function LR(e,t){let n=e.length-2,r=3,o,l;return e[r][1].type==="whitespace"&&(r+=2),n-2>r&&e[n][1].type==="whitespace"&&(n-=2),e[n][1].type==="atxHeadingSequence"&&(r===n-1||n-4>r&&e[n-2][1].type==="whitespace")&&(n-=r+1===n?2:4),n>r&&(o={type:"atxHeadingText",start:e[r][1].start,end:e[n][1].end},l={type:"chunkText",start:e[r][1].start,end:e[n][1].end,contentType:"text"},vn(e,r,n-r+1,[["enter",o,t],["enter",l,t],["exit",l,t],["exit",o,t]])),e}function VR(e,t,n){let r=0;return o;function o(h){return e.enter("atxHeading"),l(h)}function l(h){return e.enter("atxHeadingSequence"),u(h)}function u(h){return h===35&&r++<6?(e.consume(h),u):h===null||it(h)?(e.exit("atxHeadingSequence"),f(h)):n(h)}function f(h){return h===35?(e.enter("atxHeadingSequence"),m(h)):h===null||Ce(h)?(e.exit("atxHeading"),t(h)):ze(h)?Ge(e,f,"whitespace")(h):(e.enter("atxHeadingText"),d(h))}function m(h){return h===35?(e.consume(h),m):(e.exit("atxHeadingSequence"),f(h))}function d(h){return h===null||h===35||it(h)?(e.exit("atxHeadingText"),f(h)):(e.consume(h),d)}}const PR=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],Kx=["pre","script","style","textarea"],BR={concrete:!0,name:"htmlFlow",resolveTo:zR,tokenize:jR},OR={partial:!0,tokenize:UR},FR={partial:!0,tokenize:HR};function zR(e){let t=e.length;for(;t--&&!(e[t][0]==="enter"&&e[t][1].type==="htmlFlow"););return t>1&&e[t-2][1].type==="linePrefix"&&(e[t][1].start=e[t-2][1].start,e[t+1][1].start=e[t-2][1].start,e.splice(t-2,2)),e}function jR(e,t,n){const r=this;let o,l,u,f,m;return d;function d(D){return h(D)}function h(D){return e.enter("htmlFlow"),e.enter("htmlFlowData"),e.consume(D),g}function g(D){return D===33?(e.consume(D),T):D===47?(e.consume(D),l=!0,A):D===63?(e.consume(D),o=3,r.interrupt?t:C):Wt(D)?(e.consume(D),u=String.fromCharCode(D),L):n(D)}function T(D){return D===45?(e.consume(D),o=2,S):D===91?(e.consume(D),o=5,f=0,E):Wt(D)?(e.consume(D),o=4,r.interrupt?t:C):n(D)}function S(D){return D===45?(e.consume(D),r.interrupt?t:C):n(D)}function E(D){const te="CDATA[";return D===te.charCodeAt(f++)?(e.consume(D),f===te.length?r.interrupt?t:J:E):n(D)}function A(D){return Wt(D)?(e.consume(D),u=String.fromCharCode(D),L):n(D)}function L(D){if(D===null||D===47||D===62||it(D)){const te=D===47,P=u.toLowerCase();return!te&&!l&&Kx.includes(P)?(o=1,r.interrupt?t(D):J(D)):PR.includes(u.toLowerCase())?(o=6,te?(e.consume(D),I):r.interrupt?t(D):J(D)):(o=7,r.interrupt&&!r.parser.lazy[r.now().line]?n(D):l?N(D):R(D))}return D===45||qt(D)?(e.consume(D),u+=String.fromCharCode(D),L):n(D)}function I(D){return D===62?(e.consume(D),r.interrupt?t:J):n(D)}function N(D){return ze(D)?(e.consume(D),N):H(D)}function R(D){return D===47?(e.consume(D),H):D===58||D===95||Wt(D)?(e.consume(D),z):ze(D)?(e.consume(D),R):H(D)}function z(D){return D===45||D===46||D===58||D===95||qt(D)?(e.consume(D),z):G(D)}function G(D){return D===61?(e.consume(D),j):ze(D)?(e.consume(D),G):R(D)}function j(D){return D===null||D===60||D===61||D===62||D===96?n(D):D===34||D===39?(e.consume(D),m=D,se):ze(D)?(e.consume(D),j):le(D)}function se(D){return D===m?(e.consume(D),m=null,pe):D===null||Ce(D)?n(D):(e.consume(D),se)}function le(D){return D===null||D===34||D===39||D===47||D===60||D===61||D===62||D===96||it(D)?G(D):(e.consume(D),le)}function pe(D){return D===47||D===62||ze(D)?R(D):n(D)}function H(D){return D===62?(e.consume(D),ce):n(D)}function ce(D){return D===null||Ce(D)?J(D):ze(D)?(e.consume(D),ce):n(D)}function J(D){return D===45&&o===2?(e.consume(D),q):D===60&&o===1?(e.consume(D),O):D===62&&o===4?(e.consume(D),B):D===63&&o===3?(e.consume(D),C):D===93&&o===5?(e.consume(D),_):Ce(D)&&(o===6||o===7)?(e.exit("htmlFlowData"),e.check(OR,Y,me)(D)):D===null||Ce(D)?(e.exit("htmlFlowData"),me(D)):(e.consume(D),J)}function me(D){return e.check(FR,fe,Y)(D)}function fe(D){return e.enter("lineEnding"),e.consume(D),e.exit("lineEnding"),he}function he(D){return D===null||Ce(D)?me(D):(e.enter("htmlFlowData"),J(D))}function q(D){return D===45?(e.consume(D),C):J(D)}function O(D){return D===47?(e.consume(D),u="",k):J(D)}function k(D){if(D===62){const te=u.toLowerCase();return Kx.includes(te)?(e.consume(D),B):J(D)}return Wt(D)&&u.length<8?(e.consume(D),u+=String.fromCharCode(D),k):J(D)}function _(D){return D===93?(e.consume(D),C):J(D)}function C(D){return D===62?(e.consume(D),B):D===45&&o===2?(e.consume(D),C):J(D)}function B(D){return D===null||Ce(D)?(e.exit("htmlFlowData"),Y(D)):(e.consume(D),B)}function Y(D){return e.exit("htmlFlow"),t(D)}}function HR(e,t,n){const r=this;return o;function o(u){return Ce(u)?(e.enter("lineEnding"),e.consume(u),e.exit("lineEnding"),l):n(u)}function l(u){return r.parser.lazy[r.now().line]?n(u):t(u)}}function UR(e,t,n){return r;function r(o){return e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),e.attempt(ks,t,n)}}const GR={name:"htmlText",tokenize:qR};function qR(e,t,n){const r=this;let o,l,u;return f;function f(C){return e.enter("htmlText"),e.enter("htmlTextData"),e.consume(C),m}function m(C){return C===33?(e.consume(C),d):C===47?(e.consume(C),G):C===63?(e.consume(C),R):Wt(C)?(e.consume(C),le):n(C)}function d(C){return C===45?(e.consume(C),h):C===91?(e.consume(C),l=0,E):Wt(C)?(e.consume(C),N):n(C)}function h(C){return C===45?(e.consume(C),S):n(C)}function g(C){return C===null?n(C):C===45?(e.consume(C),T):Ce(C)?(u=g,O(C)):(e.consume(C),g)}function T(C){return C===45?(e.consume(C),S):g(C)}function S(C){return C===62?q(C):C===45?T(C):g(C)}function E(C){const B="CDATA[";return C===B.charCodeAt(l++)?(e.consume(C),l===B.length?A:E):n(C)}function A(C){return C===null?n(C):C===93?(e.consume(C),L):Ce(C)?(u=A,O(C)):(e.consume(C),A)}function L(C){return C===93?(e.consume(C),I):A(C)}function I(C){return C===62?q(C):C===93?(e.consume(C),I):A(C)}function N(C){return C===null||C===62?q(C):Ce(C)?(u=N,O(C)):(e.consume(C),N)}function R(C){return C===null?n(C):C===63?(e.consume(C),z):Ce(C)?(u=R,O(C)):(e.consume(C),R)}function z(C){return C===62?q(C):R(C)}function G(C){return Wt(C)?(e.consume(C),j):n(C)}function j(C){return C===45||qt(C)?(e.consume(C),j):se(C)}function se(C){return Ce(C)?(u=se,O(C)):ze(C)?(e.consume(C),se):q(C)}function le(C){return C===45||qt(C)?(e.consume(C),le):C===47||C===62||it(C)?pe(C):n(C)}function pe(C){return C===47?(e.consume(C),q):C===58||C===95||Wt(C)?(e.consume(C),H):Ce(C)?(u=pe,O(C)):ze(C)?(e.consume(C),pe):q(C)}function H(C){return C===45||C===46||C===58||C===95||qt(C)?(e.consume(C),H):ce(C)}function ce(C){return C===61?(e.consume(C),J):Ce(C)?(u=ce,O(C)):ze(C)?(e.consume(C),ce):pe(C)}function J(C){return C===null||C===60||C===61||C===62||C===96?n(C):C===34||C===39?(e.consume(C),o=C,me):Ce(C)?(u=J,O(C)):ze(C)?(e.consume(C),J):(e.consume(C),fe)}function me(C){return C===o?(e.consume(C),o=void 0,he):C===null?n(C):Ce(C)?(u=me,O(C)):(e.consume(C),me)}function fe(C){return C===null||C===34||C===39||C===60||C===61||C===96?n(C):C===47||C===62||it(C)?pe(C):(e.consume(C),fe)}function he(C){return C===47||C===62||it(C)?pe(C):n(C)}function q(C){return C===62?(e.consume(C),e.exit("htmlTextData"),e.exit("htmlText"),t):n(C)}function O(C){return e.exit("htmlTextData"),e.enter("lineEnding"),e.consume(C),e.exit("lineEnding"),k}function k(C){return ze(C)?Ge(e,_,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(C):_(C)}function _(C){return e.enter("htmlTextData"),u(C)}}const jm={name:"labelEnd",resolveAll:XR,resolveTo:WR,tokenize:QR},YR={tokenize:JR},$R={tokenize:ZR},KR={tokenize:eN};function XR(e){let t=-1;const n=[];for(;++t<e.length;){const r=e[t][1];if(n.push(e[t]),r.type==="labelImage"||r.type==="labelLink"||r.type==="labelEnd"){const o=r.type==="labelImage"?4:2;r.type="data",t+=o}}return e.length!==n.length&&vn(e,0,e.length,n),e}function WR(e,t){let n=e.length,r=0,o,l,u,f;for(;n--;)if(o=e[n][1],l){if(o.type==="link"||o.type==="labelLink"&&o._inactive)break;e[n][0]==="enter"&&o.type==="labelLink"&&(o._inactive=!0)}else if(u){if(e[n][0]==="enter"&&(o.type==="labelImage"||o.type==="labelLink")&&!o._balanced&&(l=n,o.type!=="labelLink")){r=2;break}}else o.type==="labelEnd"&&(u=n);const m={type:e[l][1].type==="labelLink"?"link":"image",start:{...e[l][1].start},end:{...e[e.length-1][1].end}},d={type:"label",start:{...e[l][1].start},end:{...e[u][1].end}},h={type:"labelText",start:{...e[l+r+2][1].end},end:{...e[u-2][1].start}};return f=[["enter",m,t],["enter",d,t]],f=Ln(f,e.slice(l+1,l+r+3)),f=Ln(f,[["enter",h,t]]),f=Ln(f,Bu(t.parser.constructs.insideSpan.null,e.slice(l+r+4,u-3),t)),f=Ln(f,[["exit",h,t],e[u-2],e[u-1],["exit",d,t]]),f=Ln(f,e.slice(u+1)),f=Ln(f,[["exit",m,t]]),vn(e,l,e.length,f),e}function QR(e,t,n){const r=this;let o=r.events.length,l,u;for(;o--;)if((r.events[o][1].type==="labelImage"||r.events[o][1].type==="labelLink")&&!r.events[o][1]._balanced){l=r.events[o][1];break}return f;function f(T){return l?l._inactive?g(T):(u=r.parser.defined.includes(Gn(r.sliceSerialize({start:l.end,end:r.now()}))),e.enter("labelEnd"),e.enter("labelMarker"),e.consume(T),e.exit("labelMarker"),e.exit("labelEnd"),m):n(T)}function m(T){return T===40?e.attempt(YR,h,u?h:g)(T):T===91?e.attempt($R,h,u?d:g)(T):u?h(T):g(T)}function d(T){return e.attempt(KR,h,g)(T)}function h(T){return t(T)}function g(T){return l._balanced=!0,n(T)}}function JR(e,t,n){return r;function r(g){return e.enter("resource"),e.enter("resourceMarker"),e.consume(g),e.exit("resourceMarker"),o}function o(g){return it(g)?ls(e,l)(g):l(g)}function l(g){return g===41?h(g):Lb(e,u,f,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(g)}function u(g){return it(g)?ls(e,m)(g):h(g)}function f(g){return n(g)}function m(g){return g===34||g===39||g===40?Pb(e,d,n,"resourceTitle","resourceTitleMarker","resourceTitleString")(g):h(g)}function d(g){return it(g)?ls(e,h)(g):h(g)}function h(g){return g===41?(e.enter("resourceMarker"),e.consume(g),e.exit("resourceMarker"),e.exit("resource"),t):n(g)}}function ZR(e,t,n){const r=this;return o;function o(f){return Vb.call(r,e,l,u,"reference","referenceMarker","referenceString")(f)}function l(f){return r.parser.defined.includes(Gn(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)))?t(f):n(f)}function u(f){return n(f)}}function eN(e,t,n){return r;function r(l){return e.enter("reference"),e.enter("referenceMarker"),e.consume(l),e.exit("referenceMarker"),o}function o(l){return l===93?(e.enter("referenceMarker"),e.consume(l),e.exit("referenceMarker"),e.exit("reference"),t):n(l)}}const tN={name:"labelStartImage",resolveAll:jm.resolveAll,tokenize:nN};function nN(e,t,n){const r=this;return o;function o(f){return e.enter("labelImage"),e.enter("labelImageMarker"),e.consume(f),e.exit("labelImageMarker"),l}function l(f){return f===91?(e.enter("labelMarker"),e.consume(f),e.exit("labelMarker"),e.exit("labelImage"),u):n(f)}function u(f){return f===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(f):t(f)}}const iN={name:"labelStartLink",resolveAll:jm.resolveAll,tokenize:rN};function rN(e,t,n){const r=this;return o;function o(u){return e.enter("labelLink"),e.enter("labelMarker"),e.consume(u),e.exit("labelMarker"),e.exit("labelLink"),l}function l(u){return u===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(u):t(u)}}const md={name:"lineEnding",tokenize:aN};function aN(e,t){return n;function n(r){return e.enter("lineEnding"),e.consume(r),e.exit("lineEnding"),Ge(e,t,"linePrefix")}}const hu={name:"thematicBreak",tokenize:oN};function oN(e,t,n){let r=0,o;return l;function l(d){return e.enter("thematicBreak"),u(d)}function u(d){return o=d,f(d)}function f(d){return d===o?(e.enter("thematicBreakSequence"),m(d)):r>=3&&(d===null||Ce(d))?(e.exit("thematicBreak"),t(d)):n(d)}function m(d){return d===o?(e.consume(d),r++,m):(e.exit("thematicBreakSequence"),ze(d)?Ge(e,f,"whitespace")(d):f(d))}}const an={continuation:{tokenize:cN},exit:dN,name:"list",tokenize:uN},sN={partial:!0,tokenize:mN},lN={partial:!0,tokenize:fN};function uN(e,t,n){const r=this,o=r.events[r.events.length-1];let l=o&&o[1].type==="linePrefix"?o[2].sliceSerialize(o[1],!0).length:0,u=0;return f;function f(S){const E=r.containerState.type||(S===42||S===43||S===45?"listUnordered":"listOrdered");if(E==="listUnordered"?!r.containerState.marker||S===r.containerState.marker:em(S)){if(r.containerState.type||(r.containerState.type=E,e.enter(E,{_container:!0})),E==="listUnordered")return e.enter("listItemPrefix"),S===42||S===45?e.check(hu,n,d)(S):d(S);if(!r.interrupt||S===49)return e.enter("listItemPrefix"),e.enter("listItemValue"),m(S)}return n(S)}function m(S){return em(S)&&++u<10?(e.consume(S),m):(!r.interrupt||u<2)&&(r.containerState.marker?S===r.containerState.marker:S===41||S===46)?(e.exit("listItemValue"),d(S)):n(S)}function d(S){return e.enter("listItemMarker"),e.consume(S),e.exit("listItemMarker"),r.containerState.marker=r.containerState.marker||S,e.check(ks,r.interrupt?n:h,e.attempt(sN,T,g))}function h(S){return r.containerState.initialBlankLine=!0,l++,T(S)}function g(S){return ze(S)?(e.enter("listItemPrefixWhitespace"),e.consume(S),e.exit("listItemPrefixWhitespace"),T):n(S)}function T(S){return r.containerState.size=l+r.sliceSerialize(e.exit("listItemPrefix"),!0).length,t(S)}}function cN(e,t,n){const r=this;return r.containerState._closeFlow=void 0,e.check(ks,o,l);function o(f){return r.containerState.furtherBlankLines=r.containerState.furtherBlankLines||r.containerState.initialBlankLine,Ge(e,t,"listItemIndent",r.containerState.size+1)(f)}function l(f){return r.containerState.furtherBlankLines||!ze(f)?(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,u(f)):(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,e.attempt(lN,t,u)(f))}function u(f){return r.containerState._closeFlow=!0,r.interrupt=void 0,Ge(e,e.attempt(an,t,n),"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(f)}}function fN(e,t,n){const r=this;return Ge(e,o,"listItemIndent",r.containerState.size+1);function o(l){const u=r.events[r.events.length-1];return u&&u[1].type==="listItemIndent"&&u[2].sliceSerialize(u[1],!0).length===r.containerState.size?t(l):n(l)}}function dN(e){e.exit(this.containerState.type)}function mN(e,t,n){const r=this;return Ge(e,o,"listItemPrefixWhitespace",r.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function o(l){const u=r.events[r.events.length-1];return!ze(l)&&u&&u[1].type==="listItemPrefixWhitespace"?t(l):n(l)}}const Xx={name:"setextUnderline",resolveTo:hN,tokenize:pN};function hN(e,t){let n=e.length,r,o,l;for(;n--;)if(e[n][0]==="enter"){if(e[n][1].type==="content"){r=n;break}e[n][1].type==="paragraph"&&(o=n)}else e[n][1].type==="content"&&e.splice(n,1),!l&&e[n][1].type==="definition"&&(l=n);const u={type:"setextHeading",start:{...e[r][1].start},end:{...e[e.length-1][1].end}};return e[o][1].type="setextHeadingText",l?(e.splice(o,0,["enter",u,t]),e.splice(l+1,0,["exit",e[r][1],t]),e[r][1].end={...e[l][1].end}):e[r][1]=u,e.push(["exit",u,t]),e}function pN(e,t,n){const r=this;let o;return l;function l(d){let h=r.events.length,g;for(;h--;)if(r.events[h][1].type!=="lineEnding"&&r.events[h][1].type!=="linePrefix"&&r.events[h][1].type!=="content"){g=r.events[h][1].type==="paragraph";break}return!r.parser.lazy[r.now().line]&&(r.interrupt||g)?(e.enter("setextHeadingLine"),o=d,u(d)):n(d)}function u(d){return e.enter("setextHeadingLineSequence"),f(d)}function f(d){return d===o?(e.consume(d),f):(e.exit("setextHeadingLineSequence"),ze(d)?Ge(e,m,"lineSuffix")(d):m(d))}function m(d){return d===null||Ce(d)?(e.exit("setextHeadingLine"),t(d)):n(d)}}const gN={tokenize:yN};function yN(e){const t=this,n=e.attempt(ks,r,e.attempt(this.parser.constructs.flowInitial,o,Ge(e,e.attempt(this.parser.constructs.flow,o,e.attempt(SR,o)),"linePrefix")));return n;function r(l){if(l===null){e.consume(l);return}return e.enter("lineEndingBlank"),e.consume(l),e.exit("lineEndingBlank"),t.currentConstruct=void 0,n}function o(l){if(l===null){e.consume(l);return}return e.enter("lineEnding"),e.consume(l),e.exit("lineEnding"),t.currentConstruct=void 0,n}}const xN={resolveAll:Ob()},vN=Bb("string"),bN=Bb("text");function Bb(e){return{resolveAll:Ob(e==="text"?TN:void 0),tokenize:t};function t(n){const r=this,o=this.parser.constructs[e],l=n.attempt(o,u,f);return u;function u(h){return d(h)?l(h):f(h)}function f(h){if(h===null){n.consume(h);return}return n.enter("data"),n.consume(h),m}function m(h){return d(h)?(n.exit("data"),l(h)):(n.consume(h),m)}function d(h){if(h===null)return!0;const g=o[h];let T=-1;if(g)for(;++T<g.length;){const S=g[T];if(!S.previous||S.previous.call(r,r.previous))return!0}return!1}}}function Ob(e){return t;function t(n,r){let o=-1,l;for(;++o<=n.length;)l===void 0?n[o]&&n[o][1].type==="data"&&(l=o,o++):(!n[o]||n[o][1].type!=="data")&&(o!==l+2&&(n[l][1].end=n[o-1][1].end,n.splice(l+2,o-l-2),o=l+2),l=void 0);return e?e(n,r):n}}function TN(e,t){let n=0;for(;++n<=e.length;)if((n===e.length||e[n][1].type==="lineEnding")&&e[n-1][1].type==="data"){const r=e[n-1][1],o=t.sliceStream(r);let l=o.length,u=-1,f=0,m;for(;l--;){const d=o[l];if(typeof d=="string"){for(u=d.length;d.charCodeAt(u-1)===32;)f++,u--;if(u)break;u=-1}else if(d===-2)m=!0,f++;else if(d!==-1){l++;break}}if(t._contentTypeTextTrailing&&n===e.length&&(f=0),f){const d={type:n===e.length||m||f<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:l?u:r.start._bufferIndex+u,_index:r.start._index+l,line:r.end.line,column:r.end.column-f,offset:r.end.offset-f},end:{...r.end}};r.end={...d.start},r.start.offset===r.end.offset?Object.assign(r,d):(e.splice(n,0,["enter",d,t],["exit",d,t]),n+=2)}n++}return e}const SN={42:an,43:an,45:an,48:an,49:an,50:an,51:an,52:an,53:an,54:an,55:an,56:an,57:an,62:kb},CN={91:wR},MN={[-2]:dd,[-1]:dd,32:dd},EN={35:_R,42:hu,45:[Xx,hu],60:BR,61:Xx,95:hu,96:$x,126:$x},AN={38:Nb,92:Rb},wN={[-5]:md,[-4]:md,[-3]:md,33:tN,38:Nb,42:tm,60:[iR,GR],91:iN,92:[RR,Rb],93:jm,95:tm,96:gR},DN={null:[tm,xN]},IN={null:[42,95]},kN={null:[]},RN=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:IN,contentInitial:CN,disable:kN,document:SN,flow:EN,flowInitial:MN,insideSpan:DN,string:AN,text:wN},Symbol.toStringTag,{value:"Module"}));function NN(e,t,n){let r={_bufferIndex:-1,_index:0,line:n&&n.line||1,column:n&&n.column||1,offset:n&&n.offset||0};const o={},l=[];let u=[],f=[];const m={attempt:se(G),check:se(j),consume:N,enter:R,exit:z,interrupt:se(j,{interrupt:!0})},d={code:null,containerState:{},defineSkip:A,events:[],now:E,parser:e,previous:null,sliceSerialize:T,sliceStream:S,write:g};let h=t.tokenize.call(d,m);return t.resolveAll&&l.push(t),d;function g(ce){return u=Ln(u,ce),L(),u[u.length-1]!==null?[]:(le(t,0),d.events=Bu(l,d.events,d),d.events)}function T(ce,J){return LN(S(ce),J)}function S(ce){return _N(u,ce)}function E(){const{_bufferIndex:ce,_index:J,line:me,column:fe,offset:he}=r;return{_bufferIndex:ce,_index:J,line:me,column:fe,offset:he}}function A(ce){o[ce.line]=ce.column,H()}function L(){let ce;for(;r._index<u.length;){const J=u[r._index];if(typeof J=="string")for(ce=r._index,r._bufferIndex<0&&(r._bufferIndex=0);r._index===ce&&r._bufferIndex<J.length;)I(J.charCodeAt(r._bufferIndex));else I(J)}}function I(ce){h=h(ce)}function N(ce){Ce(ce)?(r.line++,r.column=1,r.offset+=ce===-3?2:1,H()):ce!==-1&&(r.column++,r.offset++),r._bufferIndex<0?r._index++:(r._bufferIndex++,r._bufferIndex===u[r._index].length&&(r._bufferIndex=-1,r._index++)),d.previous=ce}function R(ce,J){const me=J||{};return me.type=ce,me.start=E(),d.events.push(["enter",me,d]),f.push(me),me}function z(ce){const J=f.pop();return J.end=E(),d.events.push(["exit",J,d]),J}function G(ce,J){le(ce,J.from)}function j(ce,J){J.restore()}function se(ce,J){return me;function me(fe,he,q){let O,k,_,C;return Array.isArray(fe)?Y(fe):"tokenize"in fe?Y([fe]):B(fe);function B(ne){return ye;function ye(oe){const Te=oe!==null&&ne[oe],Me=oe!==null&&ne.null,Re=[...Array.isArray(Te)?Te:Te?[Te]:[],...Array.isArray(Me)?Me:Me?[Me]:[]];return Y(Re)(oe)}}function Y(ne){return O=ne,k=0,ne.length===0?q:D(ne[k])}function D(ne){return ye;function ye(oe){return C=pe(),_=ne,ne.partial||(d.currentConstruct=ne),ne.name&&d.parser.constructs.disable.null.includes(ne.name)?P():ne.tokenize.call(J?Object.assign(Object.create(d),J):d,m,te,P)(oe)}}function te(ne){return ce(_,C),he}function P(ne){return C.restore(),++k<O.length?D(O[k]):q}}}function le(ce,J){ce.resolveAll&&!l.includes(ce)&&l.push(ce),ce.resolve&&vn(d.events,J,d.events.length-J,ce.resolve(d.events.slice(J),d)),ce.resolveTo&&(d.events=ce.resolveTo(d.events,d))}function pe(){const ce=E(),J=d.previous,me=d.currentConstruct,fe=d.events.length,he=Array.from(f);return{from:fe,restore:q};function q(){r=ce,d.previous=J,d.currentConstruct=me,d.events.length=fe,f=he,H()}}function H(){r.line in o&&r.column<2&&(r.column=o[r.line],r.offset+=o[r.line]-1)}}function _N(e,t){const n=t.start._index,r=t.start._bufferIndex,o=t.end._index,l=t.end._bufferIndex;let u;if(n===o)u=[e[n].slice(r,l)];else{if(u=e.slice(n,o),r>-1){const f=u[0];typeof f=="string"?u[0]=f.slice(r):u.shift()}l>0&&u.push(e[o].slice(0,l))}return u}function LN(e,t){let n=-1;const r=[];let o;for(;++n<e.length;){const l=e[n];let u;if(typeof l=="string")u=l;else switch(l){case-5:{u="\r";break}case-4:{u=`
`;break}case-3:{u=`\r
`;break}case-2:{u=t?" ":"	";break}case-1:{if(!t&&o)continue;u=" ";break}default:u=String.fromCharCode(l)}o=l===-2,r.push(u)}return r.join("")}function VN(e){const r={constructs:Db([RN,...(e||{}).extensions||[]]),content:o(Wk),defined:[],document:o(Jk),flow:o(gN),lazy:{},string:o(vN),text:o(bN)};return r;function o(l){return u;function u(f){return NN(r,l,f)}}}function PN(e){for(;!_b(e););return e}const Wx=/[\0\t\n\r]/g;function BN(){let e=1,t="",n=!0,r;return o;function o(l,u,f){const m=[];let d,h,g,T,S;for(l=t+(typeof l=="string"?l.toString():new TextDecoder(u||void 0).decode(l)),g=0,t="",n&&(l.charCodeAt(0)===65279&&g++,n=void 0);g<l.length;){if(Wx.lastIndex=g,d=Wx.exec(l),T=d&&d.index!==void 0?d.index:l.length,S=l.charCodeAt(T),!d){t=l.slice(g);break}if(S===10&&g===T&&r)m.push(-3),r=void 0;else switch(r&&(m.push(-5),r=void 0),g<T&&(m.push(l.slice(g,T)),e+=T-g),S){case 0:{m.push(65533),e++;break}case 9:{for(h=Math.ceil(e/4)*4,m.push(-2);e++<h;)m.push(-1);break}case 10:{m.push(-4),e=1;break}default:r=!0,e=1}g=T+1}return f&&(r&&m.push(-5),t&&m.push(t),m.push(null)),m}}const ON=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function FN(e){return e.replace(ON,zN)}function zN(e,t,n){if(t)return t;if(n.charCodeAt(0)===35){const o=n.charCodeAt(1),l=o===120||o===88;return Ib(n.slice(l?2:1),l?16:10)}return zm(n)||e}const Fb={}.hasOwnProperty;function jN(e,t,n){return typeof t!="string"&&(n=t,t=void 0),HN(n)(PN(VN(n).document().write(BN()(e,t,!0))))}function HN(e){const t={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:l(wt),autolinkProtocol:pe,autolinkEmail:pe,atxHeading:l(rt),blockQuote:l(Me),characterEscape:pe,characterReference:pe,codeFenced:l(Re),codeFencedFenceInfo:u,codeFencedFenceMeta:u,codeIndented:l(Re,u),codeText:l($e,u),codeTextData:pe,data:pe,codeFlowValue:pe,definition:l(Ve),definitionDestinationString:u,definitionLabelString:u,definitionTitleString:u,emphasis:l(Ne),hardBreakEscape:l(at),hardBreakTrailing:l(at),htmlFlow:l(mt,u),htmlFlowData:pe,htmlText:l(mt,u),htmlTextData:pe,image:l(Hr),label:u,link:l(wt),listItem:l(ri),listItemValue:T,listOrdered:l(ii,g),listUnordered:l(ii),paragraph:l(Ur),reference:D,referenceString:u,resourceDestinationString:u,resourceTitleString:u,setextHeading:l(rt),strong:l(Gr),thematicBreak:l(ur)},exit:{atxHeading:m(),atxHeadingSequence:G,autolink:m(),autolinkEmail:Te,autolinkProtocol:oe,blockQuote:m(),characterEscapeValue:H,characterReferenceMarkerHexadecimal:P,characterReferenceMarkerNumeric:P,characterReferenceValue:ne,characterReference:ye,codeFenced:m(L),codeFencedFence:A,codeFencedFenceInfo:S,codeFencedFenceMeta:E,codeFlowValue:H,codeIndented:m(I),codeText:m(he),codeTextData:H,data:H,definition:m(),definitionDestinationString:z,definitionLabelString:N,definitionTitleString:R,emphasis:m(),hardBreakEscape:m(J),hardBreakTrailing:m(J),htmlFlow:m(me),htmlFlowData:H,htmlText:m(fe),htmlTextData:H,image:m(O),label:_,labelText:k,lineEnding:ce,link:m(q),listItem:m(),listOrdered:m(),listUnordered:m(),paragraph:m(),referenceString:te,resourceDestinationString:C,resourceTitleString:B,resource:Y,setextHeading:m(le),setextHeadingLineSequence:se,setextHeadingText:j,strong:m(),thematicBreak:m()}};zb(t,(e||{}).mdastExtensions||[]);const n={};return r;function r(Z){let ue={type:"root",children:[]};const Se={stack:[ue],tokenStack:[],config:t,enter:f,exit:d,buffer:u,resume:h,data:n},Ee=[];let Ke=-1;for(;++Ke<Z.length;)if(Z[Ke][1].type==="listOrdered"||Z[Ke][1].type==="listUnordered")if(Z[Ke][0]==="enter")Ee.push(Ke);else{const Ot=Ee.pop();Ke=o(Z,Ot,Ke)}for(Ke=-1;++Ke<Z.length;){const Ot=t[Z[Ke][0]];Fb.call(Ot,Z[Ke][1].type)&&Ot[Z[Ke][1].type].call(Object.assign({sliceSerialize:Z[Ke][2].sliceSerialize},Se),Z[Ke][1])}if(Se.tokenStack.length>0){const Ot=Se.tokenStack[Se.tokenStack.length-1];(Ot[1]||Qx).call(Se,void 0,Ot[0])}for(ue.position={start:Qi(Z.length>0?Z[0][1].start:{line:1,column:1,offset:0}),end:Qi(Z.length>0?Z[Z.length-2][1].end:{line:1,column:1,offset:0})},Ke=-1;++Ke<t.transforms.length;)ue=t.transforms[Ke](ue)||ue;return ue}function o(Z,ue,Se){let Ee=ue-1,Ke=-1,Ot=!1,Pn,Ft,bn,Kt;for(;++Ee<=Se;){const xt=Z[Ee];switch(xt[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{xt[0]==="enter"?Ke++:Ke--,Kt=void 0;break}case"lineEndingBlank":{xt[0]==="enter"&&(Pn&&!Kt&&!Ke&&!bn&&(bn=Ee),Kt=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:Kt=void 0}if(!Ke&&xt[0]==="enter"&&xt[1].type==="listItemPrefix"||Ke===-1&&xt[0]==="exit"&&(xt[1].type==="listUnordered"||xt[1].type==="listOrdered")){if(Pn){let Jt=Ee;for(Ft=void 0;Jt--;){const un=Z[Jt];if(un[1].type==="lineEnding"||un[1].type==="lineEndingBlank"){if(un[0]==="exit")continue;Ft&&(Z[Ft][1].type="lineEndingBlank",Ot=!0),un[1].type="lineEnding",Ft=Jt}else if(!(un[1].type==="linePrefix"||un[1].type==="blockQuotePrefix"||un[1].type==="blockQuotePrefixWhitespace"||un[1].type==="blockQuoteMarker"||un[1].type==="listItemIndent"))break}bn&&(!Ft||bn<Ft)&&(Pn._spread=!0),Pn.end=Object.assign({},Ft?Z[Ft][1].start:xt[1].end),Z.splice(Ft||Ee,0,["exit",Pn,xt[2]]),Ee++,Se++}if(xt[1].type==="listItemPrefix"){const Jt={type:"listItem",_spread:!1,start:Object.assign({},xt[1].start),end:void 0};Pn=Jt,Z.splice(Ee,0,["enter",Jt,xt[2]]),Ee++,Se++,bn=void 0,Kt=!0}}}return Z[ue][1]._spread=Ot,Se}function l(Z,ue){return Se;function Se(Ee){f.call(this,Z(Ee),Ee),ue&&ue.call(this,Ee)}}function u(){this.stack.push({type:"fragment",children:[]})}function f(Z,ue,Se){this.stack[this.stack.length-1].children.push(Z),this.stack.push(Z),this.tokenStack.push([ue,Se||void 0]),Z.position={start:Qi(ue.start),end:void 0}}function m(Z){return ue;function ue(Se){Z&&Z.call(this,Se),d.call(this,Se)}}function d(Z,ue){const Se=this.stack.pop(),Ee=this.tokenStack.pop();if(Ee)Ee[0].type!==Z.type&&(ue?ue.call(this,Z,Ee[0]):(Ee[1]||Qx).call(this,Z,Ee[0]));else throw new Error("Cannot close `"+Z.type+"` ("+ss({start:Z.start,end:Z.end})+"): its not open");Se.position.end=Qi(Z.end)}function h(){return Fm(this.stack.pop())}function g(){this.data.expectingFirstListItemValue=!0}function T(Z){if(this.data.expectingFirstListItemValue){const ue=this.stack[this.stack.length-2];ue.start=Number.parseInt(this.sliceSerialize(Z),10),this.data.expectingFirstListItemValue=void 0}}function S(){const Z=this.resume(),ue=this.stack[this.stack.length-1];ue.lang=Z}function E(){const Z=this.resume(),ue=this.stack[this.stack.length-1];ue.meta=Z}function A(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function L(){const Z=this.resume(),ue=this.stack[this.stack.length-1];ue.value=Z.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function I(){const Z=this.resume(),ue=this.stack[this.stack.length-1];ue.value=Z.replace(/(\r?\n|\r)$/g,"")}function N(Z){const ue=this.resume(),Se=this.stack[this.stack.length-1];Se.label=ue,Se.identifier=Gn(this.sliceSerialize(Z)).toLowerCase()}function R(){const Z=this.resume(),ue=this.stack[this.stack.length-1];ue.title=Z}function z(){const Z=this.resume(),ue=this.stack[this.stack.length-1];ue.url=Z}function G(Z){const ue=this.stack[this.stack.length-1];if(!ue.depth){const Se=this.sliceSerialize(Z).length;ue.depth=Se}}function j(){this.data.setextHeadingSlurpLineEnding=!0}function se(Z){const ue=this.stack[this.stack.length-1];ue.depth=this.sliceSerialize(Z).codePointAt(0)===61?1:2}function le(){this.data.setextHeadingSlurpLineEnding=void 0}function pe(Z){const Se=this.stack[this.stack.length-1].children;let Ee=Se[Se.length-1];(!Ee||Ee.type!=="text")&&(Ee=qr(),Ee.position={start:Qi(Z.start),end:void 0},Se.push(Ee)),this.stack.push(Ee)}function H(Z){const ue=this.stack.pop();ue.value+=this.sliceSerialize(Z),ue.position.end=Qi(Z.end)}function ce(Z){const ue=this.stack[this.stack.length-1];if(this.data.atHardBreak){const Se=ue.children[ue.children.length-1];Se.position.end=Qi(Z.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&t.canContainEols.includes(ue.type)&&(pe.call(this,Z),H.call(this,Z))}function J(){this.data.atHardBreak=!0}function me(){const Z=this.resume(),ue=this.stack[this.stack.length-1];ue.value=Z}function fe(){const Z=this.resume(),ue=this.stack[this.stack.length-1];ue.value=Z}function he(){const Z=this.resume(),ue=this.stack[this.stack.length-1];ue.value=Z}function q(){const Z=this.stack[this.stack.length-1];if(this.data.inReference){const ue=this.data.referenceType||"shortcut";Z.type+="Reference",Z.referenceType=ue,delete Z.url,delete Z.title}else delete Z.identifier,delete Z.label;this.data.referenceType=void 0}function O(){const Z=this.stack[this.stack.length-1];if(this.data.inReference){const ue=this.data.referenceType||"shortcut";Z.type+="Reference",Z.referenceType=ue,delete Z.url,delete Z.title}else delete Z.identifier,delete Z.label;this.data.referenceType=void 0}function k(Z){const ue=this.sliceSerialize(Z),Se=this.stack[this.stack.length-2];Se.label=FN(ue),Se.identifier=Gn(ue).toLowerCase()}function _(){const Z=this.stack[this.stack.length-1],ue=this.resume(),Se=this.stack[this.stack.length-1];if(this.data.inReference=!0,Se.type==="link"){const Ee=Z.children;Se.children=Ee}else Se.alt=ue}function C(){const Z=this.resume(),ue=this.stack[this.stack.length-1];ue.url=Z}function B(){const Z=this.resume(),ue=this.stack[this.stack.length-1];ue.title=Z}function Y(){this.data.inReference=void 0}function D(){this.data.referenceType="collapsed"}function te(Z){const ue=this.resume(),Se=this.stack[this.stack.length-1];Se.label=ue,Se.identifier=Gn(this.sliceSerialize(Z)).toLowerCase(),this.data.referenceType="full"}function P(Z){this.data.characterReferenceType=Z.type}function ne(Z){const ue=this.sliceSerialize(Z),Se=this.data.characterReferenceType;let Ee;Se?(Ee=Ib(ue,Se==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):Ee=zm(ue);const Ke=this.stack[this.stack.length-1];Ke.value+=Ee}function ye(Z){const ue=this.stack.pop();ue.position.end=Qi(Z.end)}function oe(Z){H.call(this,Z);const ue=this.stack[this.stack.length-1];ue.url=this.sliceSerialize(Z)}function Te(Z){H.call(this,Z);const ue=this.stack[this.stack.length-1];ue.url="mailto:"+this.sliceSerialize(Z)}function Me(){return{type:"blockquote",children:[]}}function Re(){return{type:"code",lang:null,meta:null,value:""}}function $e(){return{type:"inlineCode",value:""}}function Ve(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function Ne(){return{type:"emphasis",children:[]}}function rt(){return{type:"heading",depth:0,children:[]}}function at(){return{type:"break"}}function mt(){return{type:"html",value:""}}function Hr(){return{type:"image",title:null,url:"",alt:null}}function wt(){return{type:"link",title:null,url:"",children:[]}}function ii(Z){return{type:"list",ordered:Z.type==="listOrdered",start:null,spread:Z._spread,children:[]}}function ri(Z){return{type:"listItem",spread:Z._spread,checked:null,children:[]}}function Ur(){return{type:"paragraph",children:[]}}function Gr(){return{type:"strong",children:[]}}function qr(){return{type:"text",value:""}}function ur(){return{type:"thematicBreak"}}}function Qi(e){return{line:e.line,column:e.column,offset:e.offset}}function zb(e,t){let n=-1;for(;++n<t.length;){const r=t[n];Array.isArray(r)?zb(e,r):UN(e,r)}}function UN(e,t){let n;for(n in t)if(Fb.call(t,n))switch(n){case"canContainEols":{const r=t[n];r&&e[n].push(...r);break}case"transforms":{const r=t[n];r&&e[n].push(...r);break}case"enter":case"exit":{const r=t[n];r&&Object.assign(e[n],r);break}}}function Qx(e,t){throw e?new Error("Cannot close `"+e.type+"` ("+ss({start:e.start,end:e.end})+"): a different token (`"+t.type+"`, "+ss({start:t.start,end:t.end})+") is open"):new Error("Cannot close document, a token (`"+t.type+"`, "+ss({start:t.start,end:t.end})+") is still open")}function GN(e){const t=this;t.parser=n;function n(r){return jN(r,{...t.data("settings"),...e,extensions:t.data("micromarkExtensions")||[],mdastExtensions:t.data("fromMarkdownExtensions")||[]})}}function qN(e,t){const n={type:"element",tagName:"blockquote",properties:{},children:e.wrap(e.all(t),!0)};return e.patch(t,n),e.applyData(t,n)}function YN(e,t){const n={type:"element",tagName:"br",properties:{},children:[]};return e.patch(t,n),[e.applyData(t,n),{type:"text",value:`
`}]}function $N(e,t){const n=t.value?t.value+`
`:"",r={};t.lang&&(r.className=["language-"+t.lang]);let o={type:"element",tagName:"code",properties:r,children:[{type:"text",value:n}]};return t.meta&&(o.data={meta:t.meta}),e.patch(t,o),o=e.applyData(t,o),o={type:"element",tagName:"pre",properties:{},children:[o]},e.patch(t,o),o}function KN(e,t){const n={type:"element",tagName:"del",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function XN(e,t){const n={type:"element",tagName:"em",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function WN(e,t){const n=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",r=String(t.identifier).toUpperCase(),o=Ya(r.toLowerCase()),l=e.footnoteOrder.indexOf(r);let u,f=e.footnoteCounts.get(r);f===void 0?(f=0,e.footnoteOrder.push(r),u=e.footnoteOrder.length):u=l+1,f+=1,e.footnoteCounts.set(r,f);const m={type:"element",tagName:"a",properties:{href:"#"+n+"fn-"+o,id:n+"fnref-"+o+(f>1?"-"+f:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(u)}]};e.patch(t,m);const d={type:"element",tagName:"sup",properties:{},children:[m]};return e.patch(t,d),e.applyData(t,d)}function QN(e,t){const n={type:"element",tagName:"h"+t.depth,properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function JN(e,t){if(e.options.allowDangerousHtml){const n={type:"raw",value:t.value};return e.patch(t,n),e.applyData(t,n)}}function jb(e,t){const n=t.referenceType;let r="]";if(n==="collapsed"?r+="[]":n==="full"&&(r+="["+(t.label||t.identifier)+"]"),t.type==="imageReference")return[{type:"text",value:"!["+t.alt+r}];const o=e.all(t),l=o[0];l&&l.type==="text"?l.value="["+l.value:o.unshift({type:"text",value:"["});const u=o[o.length-1];return u&&u.type==="text"?u.value+=r:o.push({type:"text",value:r}),o}function ZN(e,t){const n=String(t.identifier).toUpperCase(),r=e.definitionById.get(n);if(!r)return jb(e,t);const o={src:Ya(r.url||""),alt:t.alt};r.title!==null&&r.title!==void 0&&(o.title=r.title);const l={type:"element",tagName:"img",properties:o,children:[]};return e.patch(t,l),e.applyData(t,l)}function e_(e,t){const n={src:Ya(t.url)};t.alt!==null&&t.alt!==void 0&&(n.alt=t.alt),t.title!==null&&t.title!==void 0&&(n.title=t.title);const r={type:"element",tagName:"img",properties:n,children:[]};return e.patch(t,r),e.applyData(t,r)}function t_(e,t){const n={type:"text",value:t.value.replace(/\r?\n|\r/g," ")};e.patch(t,n);const r={type:"element",tagName:"code",properties:{},children:[n]};return e.patch(t,r),e.applyData(t,r)}function n_(e,t){const n=String(t.identifier).toUpperCase(),r=e.definitionById.get(n);if(!r)return jb(e,t);const o={href:Ya(r.url||"")};r.title!==null&&r.title!==void 0&&(o.title=r.title);const l={type:"element",tagName:"a",properties:o,children:e.all(t)};return e.patch(t,l),e.applyData(t,l)}function i_(e,t){const n={href:Ya(t.url)};t.title!==null&&t.title!==void 0&&(n.title=t.title);const r={type:"element",tagName:"a",properties:n,children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function r_(e,t,n){const r=e.all(t),o=n?a_(n):Hb(t),l={},u=[];if(typeof t.checked=="boolean"){const h=r[0];let g;h&&h.type==="element"&&h.tagName==="p"?g=h:(g={type:"element",tagName:"p",properties:{},children:[]},r.unshift(g)),g.children.length>0&&g.children.unshift({type:"text",value:" "}),g.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:t.checked,disabled:!0},children:[]}),l.className=["task-list-item"]}let f=-1;for(;++f<r.length;){const h=r[f];(o||f!==0||h.type!=="element"||h.tagName!=="p")&&u.push({type:"text",value:`
`}),h.type==="element"&&h.tagName==="p"&&!o?u.push(...h.children):u.push(h)}const m=r[r.length-1];m&&(o||m.type!=="element"||m.tagName!=="p")&&u.push({type:"text",value:`
`});const d={type:"element",tagName:"li",properties:l,children:u};return e.patch(t,d),e.applyData(t,d)}function a_(e){let t=!1;if(e.type==="list"){t=e.spread||!1;const n=e.children;let r=-1;for(;!t&&++r<n.length;)t=Hb(n[r])}return t}function Hb(e){const t=e.spread;return t??e.children.length>1}function o_(e,t){const n={},r=e.all(t);let o=-1;for(typeof t.start=="number"&&t.start!==1&&(n.start=t.start);++o<r.length;){const u=r[o];if(u.type==="element"&&u.tagName==="li"&&u.properties&&Array.isArray(u.properties.className)&&u.properties.className.includes("task-list-item")){n.className=["contains-task-list"];break}}const l={type:"element",tagName:t.ordered?"ol":"ul",properties:n,children:e.wrap(r,!0)};return e.patch(t,l),e.applyData(t,l)}function s_(e,t){const n={type:"element",tagName:"p",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function l_(e,t){const n={type:"root",children:e.wrap(e.all(t))};return e.patch(t,n),e.applyData(t,n)}function u_(e,t){const n={type:"element",tagName:"strong",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function c_(e,t){const n=e.all(t),r=n.shift(),o=[];if(r){const u={type:"element",tagName:"thead",properties:{},children:e.wrap([r],!0)};e.patch(t.children[0],u),o.push(u)}if(n.length>0){const u={type:"element",tagName:"tbody",properties:{},children:e.wrap(n,!0)},f=Vm(t.children[1]),m=Tb(t.children[t.children.length-1]);f&&m&&(u.position={start:f,end:m}),o.push(u)}const l={type:"element",tagName:"table",properties:{},children:e.wrap(o,!0)};return e.patch(t,l),e.applyData(t,l)}function f_(e,t,n){const r=n?n.children:void 0,l=(r?r.indexOf(t):1)===0?"th":"td",u=n&&n.type==="table"?n.align:void 0,f=u?u.length:t.children.length;let m=-1;const d=[];for(;++m<f;){const g=t.children[m],T={},S=u?u[m]:void 0;S&&(T.align=S);let E={type:"element",tagName:l,properties:T,children:[]};g&&(E.children=e.all(g),e.patch(g,E),E=e.applyData(g,E)),d.push(E)}const h={type:"element",tagName:"tr",properties:{},children:e.wrap(d,!0)};return e.patch(t,h),e.applyData(t,h)}function d_(e,t){const n={type:"element",tagName:"td",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}const Jx=9,Zx=32;function m_(e){const t=String(e),n=/\r?\n|\r/g;let r=n.exec(t),o=0;const l=[];for(;r;)l.push(ev(t.slice(o,r.index),o>0,!0),r[0]),o=r.index+r[0].length,r=n.exec(t);return l.push(ev(t.slice(o),o>0,!1)),l.join("")}function ev(e,t,n){let r=0,o=e.length;if(t){let l=e.codePointAt(r);for(;l===Jx||l===Zx;)r++,l=e.codePointAt(r)}if(n){let l=e.codePointAt(o-1);for(;l===Jx||l===Zx;)o--,l=e.codePointAt(o-1)}return o>r?e.slice(r,o):""}function h_(e,t){const n={type:"text",value:m_(String(t.value))};return e.patch(t,n),e.applyData(t,n)}function p_(e,t){const n={type:"element",tagName:"hr",properties:{},children:[]};return e.patch(t,n),e.applyData(t,n)}const g_={blockquote:qN,break:YN,code:$N,delete:KN,emphasis:XN,footnoteReference:WN,heading:QN,html:JN,imageReference:ZN,image:e_,inlineCode:t_,linkReference:n_,link:i_,listItem:r_,list:o_,paragraph:s_,root:l_,strong:u_,table:c_,tableCell:d_,tableRow:f_,text:h_,thematicBreak:p_,toml:tu,yaml:tu,definition:tu,footnoteDefinition:tu};function tu(){}const Ub=-1,Ou=0,us=1,Eu=2,Hm=3,Um=4,Gm=5,qm=6,Gb=7,qb=8,tv=typeof self=="object"?self:globalThis,y_=(e,t)=>{const n=(o,l)=>(e.set(l,o),o),r=o=>{if(e.has(o))return e.get(o);const[l,u]=t[o];switch(l){case Ou:case Ub:return n(u,o);case us:{const f=n([],o);for(const m of u)f.push(r(m));return f}case Eu:{const f=n({},o);for(const[m,d]of u)f[r(m)]=r(d);return f}case Hm:return n(new Date(u),o);case Um:{const{source:f,flags:m}=u;return n(new RegExp(f,m),o)}case Gm:{const f=n(new Map,o);for(const[m,d]of u)f.set(r(m),r(d));return f}case qm:{const f=n(new Set,o);for(const m of u)f.add(r(m));return f}case Gb:{const{name:f,message:m}=u;return n(new tv[f](m),o)}case qb:return n(BigInt(u),o);case"BigInt":return n(Object(BigInt(u)),o);case"ArrayBuffer":return n(new Uint8Array(u).buffer,u);case"DataView":{const{buffer:f}=new Uint8Array(u);return n(new DataView(f),u)}}return n(new tv[l](u),o)};return r},nv=e=>y_(new Map,e)(0),ka="",{toString:x_}={},{keys:v_}=Object,ns=e=>{const t=typeof e;if(t!=="object"||!e)return[Ou,t];const n=x_.call(e).slice(8,-1);switch(n){case"Array":return[us,ka];case"Object":return[Eu,ka];case"Date":return[Hm,ka];case"RegExp":return[Um,ka];case"Map":return[Gm,ka];case"Set":return[qm,ka];case"DataView":return[us,n]}return n.includes("Array")?[us,n]:n.includes("Error")?[Gb,n]:[Eu,n]},nu=([e,t])=>e===Ou&&(t==="function"||t==="symbol"),b_=(e,t,n,r)=>{const o=(u,f)=>{const m=r.push(u)-1;return n.set(f,m),m},l=u=>{if(n.has(u))return n.get(u);let[f,m]=ns(u);switch(f){case Ou:{let h=u;switch(m){case"bigint":f=qb,h=u.toString();break;case"function":case"symbol":if(e)throw new TypeError("unable to serialize "+m);h=null;break;case"undefined":return o([Ub],u)}return o([f,h],u)}case us:{if(m){let T=u;return m==="DataView"?T=new Uint8Array(u.buffer):m==="ArrayBuffer"&&(T=new Uint8Array(u)),o([m,[...T]],u)}const h=[],g=o([f,h],u);for(const T of u)h.push(l(T));return g}case Eu:{if(m)switch(m){case"BigInt":return o([m,u.toString()],u);case"Boolean":case"Number":case"String":return o([m,u.valueOf()],u)}if(t&&"toJSON"in u)return l(u.toJSON());const h=[],g=o([f,h],u);for(const T of v_(u))(e||!nu(ns(u[T])))&&h.push([l(T),l(u[T])]);return g}case Hm:return o([f,u.toISOString()],u);case Um:{const{source:h,flags:g}=u;return o([f,{source:h,flags:g}],u)}case Gm:{const h=[],g=o([f,h],u);for(const[T,S]of u)(e||!(nu(ns(T))||nu(ns(S))))&&h.push([l(T),l(S)]);return g}case qm:{const h=[],g=o([f,h],u);for(const T of u)(e||!nu(ns(T)))&&h.push(l(T));return g}}const{message:d}=u;return o([f,{name:m,message:d}],u)};return l},iv=(e,{json:t,lossy:n}={})=>{const r=[];return b_(!(t||n),!!t,new Map,r)(e),r},Au=typeof structuredClone=="function"?(e,t)=>t&&("json"in t||"lossy"in t)?nv(iv(e,t)):structuredClone(e):(e,t)=>nv(iv(e,t));function T_(e,t){const n=[{type:"text",value:""}];return t>1&&n.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(t)}]}),n}function S_(e,t){return"Back to reference "+(e+1)+(t>1?"-"+t:"")}function C_(e){const t=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",n=e.options.footnoteBackContent||T_,r=e.options.footnoteBackLabel||S_,o=e.options.footnoteLabel||"Footnotes",l=e.options.footnoteLabelTagName||"h2",u=e.options.footnoteLabelProperties||{className:["sr-only"]},f=[];let m=-1;for(;++m<e.footnoteOrder.length;){const d=e.footnoteById.get(e.footnoteOrder[m]);if(!d)continue;const h=e.all(d),g=String(d.identifier).toUpperCase(),T=Ya(g.toLowerCase());let S=0;const E=[],A=e.footnoteCounts.get(g);for(;A!==void 0&&++S<=A;){E.length>0&&E.push({type:"text",value:" "});let N=typeof n=="string"?n:n(m,S);typeof N=="string"&&(N={type:"text",value:N}),E.push({type:"element",tagName:"a",properties:{href:"#"+t+"fnref-"+T+(S>1?"-"+S:""),dataFootnoteBackref:"",ariaLabel:typeof r=="string"?r:r(m,S),className:["data-footnote-backref"]},children:Array.isArray(N)?N:[N]})}const L=h[h.length-1];if(L&&L.type==="element"&&L.tagName==="p"){const N=L.children[L.children.length-1];N&&N.type==="text"?N.value+=" ":L.children.push({type:"text",value:" "}),L.children.push(...E)}else h.push(...E);const I={type:"element",tagName:"li",properties:{id:t+"fn-"+T},children:e.wrap(h,!0)};e.patch(d,I),f.push(I)}if(f.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:l,properties:{...Au(u),id:"footnote-label"},children:[{type:"text",value:o}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:e.wrap(f,!0)},{type:"text",value:`
`}]}}const Fu=function(e){if(e==null)return w_;if(typeof e=="function")return zu(e);if(typeof e=="object")return Array.isArray(e)?M_(e):E_(e);if(typeof e=="string")return A_(e);throw new Error("Expected function, string, or object as test")};function M_(e){const t=[];let n=-1;for(;++n<e.length;)t[n]=Fu(e[n]);return zu(r);function r(...o){let l=-1;for(;++l<t.length;)if(t[l].apply(this,o))return!0;return!1}}function E_(e){const t=e;return zu(n);function n(r){const o=r;let l;for(l in e)if(o[l]!==t[l])return!1;return!0}}function A_(e){return zu(t);function t(n){return n&&n.type===e}}function zu(e){return t;function t(n,r,o){return!!(D_(n)&&e.call(this,n,typeof r=="number"?r:void 0,o||void 0))}}function w_(){return!0}function D_(e){return e!==null&&typeof e=="object"&&"type"in e}const Yb=[],I_=!0,nm=!1,k_="skip";function $b(e,t,n,r){let o;typeof t=="function"&&typeof n!="function"?(r=n,n=t):o=t;const l=Fu(o),u=r?-1:1;f(e,void 0,[])();function f(m,d,h){const g=m&&typeof m=="object"?m:{};if(typeof g.type=="string"){const S=typeof g.tagName=="string"?g.tagName:typeof g.name=="string"?g.name:void 0;Object.defineProperty(T,"name",{value:"node ("+(m.type+(S?"<"+S+">":""))+")"})}return T;function T(){let S=Yb,E,A,L;if((!t||l(m,d,h[h.length-1]||void 0))&&(S=R_(n(m,h)),S[0]===nm))return S;if("children"in m&&m.children){const I=m;if(I.children&&S[0]!==k_)for(A=(r?I.children.length:-1)+u,L=h.concat(I);A>-1&&A<I.children.length;){const N=I.children[A];if(E=f(N,A,L)(),E[0]===nm)return E;A=typeof E[1]=="number"?E[1]:A+u}}return S}}}function R_(e){return Array.isArray(e)?e:typeof e=="number"?[I_,e]:e==null?Yb:[e]}function Ym(e,t,n,r){let o,l,u;typeof t=="function"&&typeof n!="function"?(l=void 0,u=t,o=n):(l=t,u=n,o=r),$b(e,l,f,o);function f(m,d){const h=d[d.length-1],g=h?h.children.indexOf(m):void 0;return u(m,g,h)}}const im={}.hasOwnProperty,N_={};function __(e,t){const n=t||N_,r=new Map,o=new Map,l=new Map,u={...g_,...n.handlers},f={all:d,applyData:V_,definitionById:r,footnoteById:o,footnoteCounts:l,footnoteOrder:[],handlers:u,one:m,options:n,patch:L_,wrap:B_};return Ym(e,function(h){if(h.type==="definition"||h.type==="footnoteDefinition"){const g=h.type==="definition"?r:o,T=String(h.identifier).toUpperCase();g.has(T)||g.set(T,h)}}),f;function m(h,g){const T=h.type,S=f.handlers[T];if(im.call(f.handlers,T)&&S)return S(f,h,g);if(f.options.passThrough&&f.options.passThrough.includes(T)){if("children"in h){const{children:A,...L}=h,I=Au(L);return I.children=f.all(h),I}return Au(h)}return(f.options.unknownHandler||P_)(f,h,g)}function d(h){const g=[];if("children"in h){const T=h.children;let S=-1;for(;++S<T.length;){const E=f.one(T[S],h);if(E){if(S&&T[S-1].type==="break"&&(!Array.isArray(E)&&E.type==="text"&&(E.value=rv(E.value)),!Array.isArray(E)&&E.type==="element")){const A=E.children[0];A&&A.type==="text"&&(A.value=rv(A.value))}Array.isArray(E)?g.push(...E):g.push(E)}}}return g}}function L_(e,t){e.position&&(t.position=Sk(e))}function V_(e,t){let n=t;if(e&&e.data){const r=e.data.hName,o=e.data.hChildren,l=e.data.hProperties;if(typeof r=="string")if(n.type==="element")n.tagName=r;else{const u="children"in n?n.children:[n];n={type:"element",tagName:r,properties:{},children:u}}n.type==="element"&&l&&Object.assign(n.properties,Au(l)),"children"in n&&n.children&&o!==null&&o!==void 0&&(n.children=o)}return n}function P_(e,t){const n=t.data||{},r="value"in t&&!(im.call(n,"hProperties")||im.call(n,"hChildren"))?{type:"text",value:t.value}:{type:"element",tagName:"div",properties:{},children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function B_(e,t){const n=[];let r=-1;for(t&&n.push({type:"text",value:`
`});++r<e.length;)r&&n.push({type:"text",value:`
`}),n.push(e[r]);return t&&e.length>0&&n.push({type:"text",value:`
`}),n}function rv(e){let t=0,n=e.charCodeAt(t);for(;n===9||n===32;)t++,n=e.charCodeAt(t);return e.slice(t)}function av(e,t){const n=__(e,t),r=n.one(e,void 0),o=C_(n),l=Array.isArray(r)?{type:"root",children:r}:r||{type:"root",children:[]};return o&&l.children.push({type:"text",value:`
`},o),l}function O_(e,t){return e&&"run"in e?async function(n,r){const o=av(n,{file:r,...t});await e.run(o,r)}:function(n,r){return av(n,{file:r,...e||t})}}function ov(e){if(e)throw e}var hd,sv;function F_(){if(sv)return hd;sv=1;var e=Object.prototype.hasOwnProperty,t=Object.prototype.toString,n=Object.defineProperty,r=Object.getOwnPropertyDescriptor,o=function(d){return typeof Array.isArray=="function"?Array.isArray(d):t.call(d)==="[object Array]"},l=function(d){if(!d||t.call(d)!=="[object Object]")return!1;var h=e.call(d,"constructor"),g=d.constructor&&d.constructor.prototype&&e.call(d.constructor.prototype,"isPrototypeOf");if(d.constructor&&!h&&!g)return!1;var T;for(T in d);return typeof T>"u"||e.call(d,T)},u=function(d,h){n&&h.name==="__proto__"?n(d,h.name,{enumerable:!0,configurable:!0,value:h.newValue,writable:!0}):d[h.name]=h.newValue},f=function(d,h){if(h==="__proto__")if(e.call(d,h)){if(r)return r(d,h).value}else return;return d[h]};return hd=function m(){var d,h,g,T,S,E,A=arguments[0],L=1,I=arguments.length,N=!1;for(typeof A=="boolean"&&(N=A,A=arguments[1]||{},L=2),(A==null||typeof A!="object"&&typeof A!="function")&&(A={});L<I;++L)if(d=arguments[L],d!=null)for(h in d)g=f(A,h),T=f(d,h),A!==T&&(N&&T&&(l(T)||(S=o(T)))?(S?(S=!1,E=g&&o(g)?g:[]):E=g&&l(g)?g:{},u(A,{name:h,newValue:m(N,E,T)})):typeof T<"u"&&u(A,{name:h,newValue:T}));return A},hd}var z_=F_();const pd=ws(z_);function rm(e){if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function j_(){const e=[],t={run:n,use:r};return t;function n(...o){let l=-1;const u=o.pop();if(typeof u!="function")throw new TypeError("Expected function as last argument, not "+u);f(null,...o);function f(m,...d){const h=e[++l];let g=-1;if(m){u(m);return}for(;++g<o.length;)(d[g]===null||d[g]===void 0)&&(d[g]=o[g]);o=d,h?H_(h,f)(...d):u(null,...d)}}function r(o){if(typeof o!="function")throw new TypeError("Expected `middelware` to be a function, not "+o);return e.push(o),t}}function H_(e,t){let n;return r;function r(...u){const f=e.length>u.length;let m;f&&u.push(o);try{m=e.apply(this,u)}catch(d){const h=d;if(f&&n)throw h;return o(h)}f||(m&&m.then&&typeof m.then=="function"?m.then(l,o):m instanceof Error?o(m):l(m))}function o(u,...f){n||(n=!0,t(u,...f))}function l(u){o(null,u)}}const Jn={basename:U_,dirname:G_,extname:q_,join:Y_,sep:"/"};function U_(e,t){if(t!==void 0&&typeof t!="string")throw new TypeError('"ext" argument must be a string');Rs(e);let n=0,r=-1,o=e.length,l;if(t===void 0||t.length===0||t.length>e.length){for(;o--;)if(e.codePointAt(o)===47){if(l){n=o+1;break}}else r<0&&(l=!0,r=o+1);return r<0?"":e.slice(n,r)}if(t===e)return"";let u=-1,f=t.length-1;for(;o--;)if(e.codePointAt(o)===47){if(l){n=o+1;break}}else u<0&&(l=!0,u=o+1),f>-1&&(e.codePointAt(o)===t.codePointAt(f--)?f<0&&(r=o):(f=-1,r=u));return n===r?r=u:r<0&&(r=e.length),e.slice(n,r)}function G_(e){if(Rs(e),e.length===0)return".";let t=-1,n=e.length,r;for(;--n;)if(e.codePointAt(n)===47){if(r){t=n;break}}else r||(r=!0);return t<0?e.codePointAt(0)===47?"/":".":t===1&&e.codePointAt(0)===47?"//":e.slice(0,t)}function q_(e){Rs(e);let t=e.length,n=-1,r=0,o=-1,l=0,u;for(;t--;){const f=e.codePointAt(t);if(f===47){if(u){r=t+1;break}continue}n<0&&(u=!0,n=t+1),f===46?o<0?o=t:l!==1&&(l=1):o>-1&&(l=-1)}return o<0||n<0||l===0||l===1&&o===n-1&&o===r+1?"":e.slice(o,n)}function Y_(...e){let t=-1,n;for(;++t<e.length;)Rs(e[t]),e[t]&&(n=n===void 0?e[t]:n+"/"+e[t]);return n===void 0?".":$_(n)}function $_(e){Rs(e);const t=e.codePointAt(0)===47;let n=K_(e,!t);return n.length===0&&!t&&(n="."),n.length>0&&e.codePointAt(e.length-1)===47&&(n+="/"),t?"/"+n:n}function K_(e,t){let n="",r=0,o=-1,l=0,u=-1,f,m;for(;++u<=e.length;){if(u<e.length)f=e.codePointAt(u);else{if(f===47)break;f=47}if(f===47){if(!(o===u-1||l===1))if(o!==u-1&&l===2){if(n.length<2||r!==2||n.codePointAt(n.length-1)!==46||n.codePointAt(n.length-2)!==46){if(n.length>2){if(m=n.lastIndexOf("/"),m!==n.length-1){m<0?(n="",r=0):(n=n.slice(0,m),r=n.length-1-n.lastIndexOf("/")),o=u,l=0;continue}}else if(n.length>0){n="",r=0,o=u,l=0;continue}}t&&(n=n.length>0?n+"/..":"..",r=2)}else n.length>0?n+="/"+e.slice(o+1,u):n=e.slice(o+1,u),r=u-o-1;o=u,l=0}else f===46&&l>-1?l++:l=-1}return n}function Rs(e){if(typeof e!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}const X_={cwd:W_};function W_(){return"/"}function am(e){return!!(e!==null&&typeof e=="object"&&"href"in e&&e.href&&"protocol"in e&&e.protocol&&e.auth===void 0)}function Q_(e){if(typeof e=="string")e=new URL(e);else if(!am(e)){const t=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+e+"`");throw t.code="ERR_INVALID_ARG_TYPE",t}if(e.protocol!=="file:"){const t=new TypeError("The URL must be of scheme file");throw t.code="ERR_INVALID_URL_SCHEME",t}return J_(e)}function J_(e){if(e.hostname!==""){const r=new TypeError('File URL host must be "localhost" or empty on darwin');throw r.code="ERR_INVALID_FILE_URL_HOST",r}const t=e.pathname;let n=-1;for(;++n<t.length;)if(t.codePointAt(n)===37&&t.codePointAt(n+1)===50){const r=t.codePointAt(n+2);if(r===70||r===102){const o=new TypeError("File URL path must not include encoded / characters");throw o.code="ERR_INVALID_FILE_URL_PATH",o}}return decodeURIComponent(t)}const gd=["history","path","basename","stem","extname","dirname"];class Kb{constructor(t){let n;t?am(t)?n={path:t}:typeof t=="string"||Z_(t)?n={value:t}:n=t:n={},this.cwd="cwd"in n?"":X_.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let r=-1;for(;++r<gd.length;){const l=gd[r];l in n&&n[l]!==void 0&&n[l]!==null&&(this[l]=l==="history"?[...n[l]]:n[l])}let o;for(o in n)gd.includes(o)||(this[o]=n[o])}get basename(){return typeof this.path=="string"?Jn.basename(this.path):void 0}set basename(t){xd(t,"basename"),yd(t,"basename"),this.path=Jn.join(this.dirname||"",t)}get dirname(){return typeof this.path=="string"?Jn.dirname(this.path):void 0}set dirname(t){lv(this.basename,"dirname"),this.path=Jn.join(t||"",this.basename)}get extname(){return typeof this.path=="string"?Jn.extname(this.path):void 0}set extname(t){if(yd(t,"extname"),lv(this.dirname,"extname"),t){if(t.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(t.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=Jn.join(this.dirname,this.stem+(t||""))}get path(){return this.history[this.history.length-1]}set path(t){am(t)&&(t=Q_(t)),xd(t,"path"),this.path!==t&&this.history.push(t)}get stem(){return typeof this.path=="string"?Jn.basename(this.path,this.extname):void 0}set stem(t){xd(t,"stem"),yd(t,"stem"),this.path=Jn.join(this.dirname||"",t+(this.extname||""))}fail(t,n,r){const o=this.message(t,n,r);throw o.fatal=!0,o}info(t,n,r){const o=this.message(t,n,r);return o.fatal=void 0,o}message(t,n,r){const o=new $t(t,n,r);return this.path&&(o.name=this.path+":"+o.name,o.file=this.path),o.fatal=!1,this.messages.push(o),o}toString(t){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(t||void 0).decode(this.value)}}function yd(e,t){if(e&&e.includes(Jn.sep))throw new Error("`"+t+"` cannot be a path: did not expect `"+Jn.sep+"`")}function xd(e,t){if(!e)throw new Error("`"+t+"` cannot be empty")}function lv(e,t){if(!e)throw new Error("Setting `"+t+"` requires `path` to be set too")}function Z_(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const eL=function(e){const r=this.constructor.prototype,o=r[e],l=function(){return o.apply(l,arguments)};return Object.setPrototypeOf(l,r),l},tL={}.hasOwnProperty;class $m extends eL{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=j_()}copy(){const t=new $m;let n=-1;for(;++n<this.attachers.length;){const r=this.attachers[n];t.use(...r)}return t.data(pd(!0,{},this.namespace)),t}data(t,n){return typeof t=="string"?arguments.length===2?(Td("data",this.frozen),this.namespace[t]=n,this):tL.call(this.namespace,t)&&this.namespace[t]||void 0:t?(Td("data",this.frozen),this.namespace=t,this):this.namespace}freeze(){if(this.frozen)return this;const t=this;for(;++this.freezeIndex<this.attachers.length;){const[n,...r]=this.attachers[this.freezeIndex];if(r[0]===!1)continue;r[0]===!0&&(r[0]=void 0);const o=n.call(t,...r);typeof o=="function"&&this.transformers.use(o)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(t){this.freeze();const n=iu(t),r=this.parser||this.Parser;return vd("parse",r),r(String(n),n)}process(t,n){const r=this;return this.freeze(),vd("process",this.parser||this.Parser),bd("process",this.compiler||this.Compiler),n?o(void 0,n):new Promise(o);function o(l,u){const f=iu(t),m=r.parse(f);r.run(m,f,function(h,g,T){if(h||!g||!T)return d(h);const S=g,E=r.stringify(S,T);rL(E)?T.value=E:T.result=E,d(h,T)});function d(h,g){h||!g?u(h):l?l(g):n(void 0,g)}}}processSync(t){let n=!1,r;return this.freeze(),vd("processSync",this.parser||this.Parser),bd("processSync",this.compiler||this.Compiler),this.process(t,o),cv("processSync","process",n),r;function o(l,u){n=!0,ov(l),r=u}}run(t,n,r){uv(t),this.freeze();const o=this.transformers;return!r&&typeof n=="function"&&(r=n,n=void 0),r?l(void 0,r):new Promise(l);function l(u,f){const m=iu(n);o.run(t,m,d);function d(h,g,T){const S=g||t;h?f(h):u?u(S):r(void 0,S,T)}}}runSync(t,n){let r=!1,o;return this.run(t,n,l),cv("runSync","run",r),o;function l(u,f){ov(u),o=f,r=!0}}stringify(t,n){this.freeze();const r=iu(n),o=this.compiler||this.Compiler;return bd("stringify",o),uv(t),o(t,r)}use(t,...n){const r=this.attachers,o=this.namespace;if(Td("use",this.frozen),t!=null)if(typeof t=="function")m(t,n);else if(typeof t=="object")Array.isArray(t)?f(t):u(t);else throw new TypeError("Expected usable value, not `"+t+"`");return this;function l(d){if(typeof d=="function")m(d,[]);else if(typeof d=="object")if(Array.isArray(d)){const[h,...g]=d;m(h,g)}else u(d);else throw new TypeError("Expected usable value, not `"+d+"`")}function u(d){if(!("plugins"in d)&&!("settings"in d))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");f(d.plugins),d.settings&&(o.settings=pd(!0,o.settings,d.settings))}function f(d){let h=-1;if(d!=null)if(Array.isArray(d))for(;++h<d.length;){const g=d[h];l(g)}else throw new TypeError("Expected a list of plugins, not `"+d+"`")}function m(d,h){let g=-1,T=-1;for(;++g<r.length;)if(r[g][0]===d){T=g;break}if(T===-1)r.push([d,...h]);else if(h.length>0){let[S,...E]=h;const A=r[T][1];rm(A)&&rm(S)&&(S=pd(!0,A,S)),r[T]=[d,S,...E]}}}}const nL=new $m().freeze();function vd(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `parser`")}function bd(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `compiler`")}function Td(e,t){if(t)throw new Error("Cannot call `"+e+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function uv(e){if(!rm(e)||typeof e.type!="string")throw new TypeError("Expected node, got `"+e+"`")}function cv(e,t,n){if(!n)throw new Error("`"+e+"` finished async. Use `"+t+"` instead")}function iu(e){return iL(e)?e:new Kb(e)}function iL(e){return!!(e&&typeof e=="object"&&"message"in e&&"messages"in e)}function rL(e){return typeof e=="string"||aL(e)}function aL(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const oL="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",fv=[],dv={allowDangerousHtml:!0},sL=/^(https?|ircs?|mailto|xmpp)$/i,lL=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"className",id:"remove-classname"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function om(e){const t=uL(e),n=cL(e);return fL(t.runSync(t.parse(n),n),e)}function uL(e){const t=e.rehypePlugins||fv,n=e.remarkPlugins||fv,r=e.remarkRehypeOptions?{...e.remarkRehypeOptions,...dv}:dv;return nL().use(GN).use(n).use(O_,r).use(t)}function cL(e){const t=e.children||"",n=new Kb;return typeof t=="string"&&(n.value=t),n}function fL(e,t){const n=t.allowedElements,r=t.allowElement,o=t.components,l=t.disallowedElements,u=t.skipHtml,f=t.unwrapDisallowed,m=t.urlTransform||dL;for(const h of lL)Object.hasOwn(t,h.from)&&(""+h.from+(h.to?"use `"+h.to+"` instead":"remove it")+oL+h.id,void 0);return Ym(e,d),wk(e,{Fragment:y.Fragment,components:o,ignoreInvalidStyle:!0,jsx:y.jsx,jsxs:y.jsxs,passKeys:!0,passNode:!0});function d(h,g,T){if(h.type==="raw"&&T&&typeof g=="number")return u?T.children.splice(g,1):T.children[g]={type:"text",value:h.value},g;if(h.type==="element"){let S;for(S in fd)if(Object.hasOwn(fd,S)&&Object.hasOwn(h.properties,S)){const E=h.properties[S],A=fd[S];(A===null||A.includes(h.tagName))&&(h.properties[S]=m(String(E||""),S,h))}}if(h.type==="element"){let S=n?!n.includes(h.tagName):l?l.includes(h.tagName):!1;if(!S&&r&&typeof g=="number"&&(S=!r(h,g,T)),S&&T&&typeof g=="number")return f&&h.children?T.children.splice(g,1,...h.children):T.children.splice(g,1),g}}}function dL(e){const t=e.indexOf(":"),n=e.indexOf("?"),r=e.indexOf("#"),o=e.indexOf("/");return t===-1||o!==-1&&t>o||n!==-1&&t>n||r!==-1&&t>r||sL.test(e.slice(0,t))?e:""}function mv(e,t){const n=String(e);if(typeof t!="string")throw new TypeError("Expected character");let r=0,o=n.indexOf(t);for(;o!==-1;)r++,o=n.indexOf(t,o+t.length);return r}function mL(e){if(typeof e!="string")throw new TypeError("Expected a string");return e.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}function hL(e,t,n){const o=Fu((n||{}).ignore||[]),l=pL(t);let u=-1;for(;++u<l.length;)$b(e,"text",f);function f(d,h){let g=-1,T;for(;++g<h.length;){const S=h[g],E=T?T.children:void 0;if(o(S,E?E.indexOf(S):void 0,T))return;T=S}if(T)return m(d,h)}function m(d,h){const g=h[h.length-1],T=l[u][0],S=l[u][1];let E=0;const L=g.children.indexOf(d);let I=!1,N=[];T.lastIndex=0;let R=T.exec(d.value);for(;R;){const z=R.index,G={index:R.index,input:R.input,stack:[...h,d]};let j=S(...R,G);if(typeof j=="string"&&(j=j.length>0?{type:"text",value:j}:void 0),j===!1?T.lastIndex=z+1:(E!==z&&N.push({type:"text",value:d.value.slice(E,z)}),Array.isArray(j)?N.push(...j):j&&N.push(j),E=z+R[0].length,I=!0),!T.global)break;R=T.exec(d.value)}return I?(E<d.value.length&&N.push({type:"text",value:d.value.slice(E)}),g.children.splice(L,1,...N)):N=[d],L+N.length}}function pL(e){const t=[];if(!Array.isArray(e))throw new TypeError("Expected find and replace tuple or list of tuples");const n=!e[0]||Array.isArray(e[0])?e:[e];let r=-1;for(;++r<n.length;){const o=n[r];t.push([gL(o[0]),yL(o[1])])}return t}function gL(e){return typeof e=="string"?new RegExp(mL(e),"g"):e}function yL(e){return typeof e=="function"?e:function(){return e}}const Sd="phrasing",Cd=["autolink","link","image","label"];function xL(){return{transforms:[EL],enter:{literalAutolink:bL,literalAutolinkEmail:Md,literalAutolinkHttp:Md,literalAutolinkWww:Md},exit:{literalAutolink:ML,literalAutolinkEmail:CL,literalAutolinkHttp:TL,literalAutolinkWww:SL}}}function vL(){return{unsafe:[{character:"@",before:"[+\\-.\\w]",after:"[\\-.\\w]",inConstruct:Sd,notInConstruct:Cd},{character:".",before:"[Ww]",after:"[\\-.\\w]",inConstruct:Sd,notInConstruct:Cd},{character:":",before:"[ps]",after:"\\/",inConstruct:Sd,notInConstruct:Cd}]}}function bL(e){this.enter({type:"link",title:null,url:"",children:[]},e)}function Md(e){this.config.enter.autolinkProtocol.call(this,e)}function TL(e){this.config.exit.autolinkProtocol.call(this,e)}function SL(e){this.config.exit.data.call(this,e);const t=this.stack[this.stack.length-1];t.type,t.url="http://"+this.sliceSerialize(e)}function CL(e){this.config.exit.autolinkEmail.call(this,e)}function ML(e){this.exit(e)}function EL(e){hL(e,[[/(https?:\/\/|www(?=\.))([-.\w]+)([^ \t\r\n]*)/gi,AL],[new RegExp("(?<=^|\\s|\\p{P}|\\p{S})([-.\\w+]+)@([-\\w]+(?:\\.[-\\w]+)+)","gu"),wL]],{ignore:["link","linkReference"]})}function AL(e,t,n,r,o){let l="";if(!Xb(o)||(/^w/i.test(t)&&(n=t+n,t="",l="http://"),!DL(n)))return!1;const u=IL(n+r);if(!u[0])return!1;const f={type:"link",title:null,url:l+t+u[0],children:[{type:"text",value:t+u[0]}]};return u[1]?[f,{type:"text",value:u[1]}]:f}function wL(e,t,n,r){return!Xb(r,!0)||/[-\d_]$/.test(n)?!1:{type:"link",title:null,url:"mailto:"+t+"@"+n,children:[{type:"text",value:t+"@"+n}]}}function DL(e){const t=e.split(".");return!(t.length<2||t[t.length-1]&&(/_/.test(t[t.length-1])||!/[a-zA-Z\d]/.test(t[t.length-1]))||t[t.length-2]&&(/_/.test(t[t.length-2])||!/[a-zA-Z\d]/.test(t[t.length-2])))}function IL(e){const t=/[!"&'),.:;<>?\]}]+$/.exec(e);if(!t)return[e,void 0];e=e.slice(0,t.index);let n=t[0],r=n.indexOf(")");const o=mv(e,"(");let l=mv(e,")");for(;r!==-1&&o>l;)e+=n.slice(0,r+1),n=n.slice(r+1),r=n.indexOf(")"),l++;return[e,n]}function Xb(e,t){const n=e.input.charCodeAt(e.index-1);return(e.index===0||Fr(n)||Pu(n))&&(!t||n!==47)}Wb.peek=OL;function kL(){this.buffer()}function RL(e){this.enter({type:"footnoteReference",identifier:"",label:""},e)}function NL(){this.buffer()}function _L(e){this.enter({type:"footnoteDefinition",identifier:"",label:"",children:[]},e)}function LL(e){const t=this.resume(),n=this.stack[this.stack.length-1];n.type,n.identifier=Gn(this.sliceSerialize(e)).toLowerCase(),n.label=t}function VL(e){this.exit(e)}function PL(e){const t=this.resume(),n=this.stack[this.stack.length-1];n.type,n.identifier=Gn(this.sliceSerialize(e)).toLowerCase(),n.label=t}function BL(e){this.exit(e)}function OL(){return"["}function Wb(e,t,n,r){const o=n.createTracker(r);let l=o.move("[^");const u=n.enter("footnoteReference"),f=n.enter("reference");return l+=o.move(n.safe(n.associationId(e),{after:"]",before:l})),f(),u(),l+=o.move("]"),l}function FL(){return{enter:{gfmFootnoteCallString:kL,gfmFootnoteCall:RL,gfmFootnoteDefinitionLabelString:NL,gfmFootnoteDefinition:_L},exit:{gfmFootnoteCallString:LL,gfmFootnoteCall:VL,gfmFootnoteDefinitionLabelString:PL,gfmFootnoteDefinition:BL}}}function zL(e){let t=!1;return e&&e.firstLineBlank&&(t=!0),{handlers:{footnoteDefinition:n,footnoteReference:Wb},unsafe:[{character:"[",inConstruct:["label","phrasing","reference"]}]};function n(r,o,l,u){const f=l.createTracker(u);let m=f.move("[^");const d=l.enter("footnoteDefinition"),h=l.enter("label");return m+=f.move(l.safe(l.associationId(r),{before:m,after:"]"})),h(),m+=f.move("]:"),r.children&&r.children.length>0&&(f.shift(4),m+=f.move((t?`
`:" ")+l.indentLines(l.containerFlow(r,f.current()),t?Qb:jL))),d(),m}}function jL(e,t,n){return t===0?e:Qb(e,t,n)}function Qb(e,t,n){return(n?"":"    ")+e}const HL=["autolink","destinationLiteral","destinationRaw","reference","titleQuote","titleApostrophe"];Jb.peek=$L;function UL(){return{canContainEols:["delete"],enter:{strikethrough:qL},exit:{strikethrough:YL}}}function GL(){return{unsafe:[{character:"~",inConstruct:"phrasing",notInConstruct:HL}],handlers:{delete:Jb}}}function qL(e){this.enter({type:"delete",children:[]},e)}function YL(e){this.exit(e)}function Jb(e,t,n,r){const o=n.createTracker(r),l=n.enter("strikethrough");let u=o.move("~~");return u+=n.containerPhrasing(e,{...o.current(),before:u,after:"~"}),u+=o.move("~~"),l(),u}function $L(){return"~"}function KL(e){return e.length}function XL(e,t){const n=t||{},r=(n.align||[]).concat(),o=n.stringLength||KL,l=[],u=[],f=[],m=[];let d=0,h=-1;for(;++h<e.length;){const A=[],L=[];let I=-1;for(e[h].length>d&&(d=e[h].length);++I<e[h].length;){const N=WL(e[h][I]);if(n.alignDelimiters!==!1){const R=o(N);L[I]=R,(m[I]===void 0||R>m[I])&&(m[I]=R)}A.push(N)}u[h]=A,f[h]=L}let g=-1;if(typeof r=="object"&&"length"in r)for(;++g<d;)l[g]=hv(r[g]);else{const A=hv(r);for(;++g<d;)l[g]=A}g=-1;const T=[],S=[];for(;++g<d;){const A=l[g];let L="",I="";A===99?(L=":",I=":"):A===108?L=":":A===114&&(I=":");let N=n.alignDelimiters===!1?1:Math.max(1,m[g]-L.length-I.length);const R=L+"-".repeat(N)+I;n.alignDelimiters!==!1&&(N=L.length+N+I.length,N>m[g]&&(m[g]=N),S[g]=N),T[g]=R}u.splice(1,0,T),f.splice(1,0,S),h=-1;const E=[];for(;++h<u.length;){const A=u[h],L=f[h];g=-1;const I=[];for(;++g<d;){const N=A[g]||"";let R="",z="";if(n.alignDelimiters!==!1){const G=m[g]-(L[g]||0),j=l[g];j===114?R=" ".repeat(G):j===99?G%2?(R=" ".repeat(G/2+.5),z=" ".repeat(G/2-.5)):(R=" ".repeat(G/2),z=R):z=" ".repeat(G)}n.delimiterStart!==!1&&!g&&I.push("|"),n.padding!==!1&&!(n.alignDelimiters===!1&&N==="")&&(n.delimiterStart!==!1||g)&&I.push(" "),n.alignDelimiters!==!1&&I.push(R),I.push(N),n.alignDelimiters!==!1&&I.push(z),n.padding!==!1&&I.push(" "),(n.delimiterEnd!==!1||g!==d-1)&&I.push("|")}E.push(n.delimiterEnd===!1?I.join("").replace(/ +$/,""):I.join(""))}return E.join(`
`)}function WL(e){return e==null?"":String(e)}function hv(e){const t=typeof e=="string"?e.codePointAt(0):0;return t===67||t===99?99:t===76||t===108?108:t===82||t===114?114:0}function QL(e,t,n,r){const o=n.enter("blockquote"),l=n.createTracker(r);l.move("> "),l.shift(2);const u=n.indentLines(n.containerFlow(e,l.current()),JL);return o(),u}function JL(e,t,n){return">"+(n?"":" ")+e}function ZL(e,t){return pv(e,t.inConstruct,!0)&&!pv(e,t.notInConstruct,!1)}function pv(e,t,n){if(typeof t=="string"&&(t=[t]),!t||t.length===0)return n;let r=-1;for(;++r<t.length;)if(e.includes(t[r]))return!0;return!1}function gv(e,t,n,r){let o=-1;for(;++o<n.unsafe.length;)if(n.unsafe[o].character===`
`&&ZL(n.stack,n.unsafe[o]))return/[ \t]/.test(r.before)?"":" ";return`\\
`}function eV(e,t){const n=String(e);let r=n.indexOf(t),o=r,l=0,u=0;if(typeof t!="string")throw new TypeError("Expected substring");for(;r!==-1;)r===o?++l>u&&(u=l):l=1,o=r+t.length,r=n.indexOf(t,o);return u}function tV(e,t){return!!(t.options.fences===!1&&e.value&&!e.lang&&/[^ \r\n]/.test(e.value)&&!/^[\t ]*(?:[\r\n]|$)|(?:^|[\r\n])[\t ]*$/.test(e.value))}function nV(e){const t=e.options.fence||"`";if(t!=="`"&&t!=="~")throw new Error("Cannot serialize code with `"+t+"` for `options.fence`, expected `` ` `` or `~`");return t}function iV(e,t,n,r){const o=nV(n),l=e.value||"",u=o==="`"?"GraveAccent":"Tilde";if(tV(e,n)){const g=n.enter("codeIndented"),T=n.indentLines(l,rV);return g(),T}const f=n.createTracker(r),m=o.repeat(Math.max(eV(l,o)+1,3)),d=n.enter("codeFenced");let h=f.move(m);if(e.lang){const g=n.enter(`codeFencedLang${u}`);h+=f.move(n.safe(e.lang,{before:h,after:" ",encode:["`"],...f.current()})),g()}if(e.lang&&e.meta){const g=n.enter(`codeFencedMeta${u}`);h+=f.move(" "),h+=f.move(n.safe(e.meta,{before:h,after:`
`,encode:["`"],...f.current()})),g()}return h+=f.move(`
`),l&&(h+=f.move(l+`
`)),h+=f.move(m),d(),h}function rV(e,t,n){return(n?"":"    ")+e}function Km(e){const t=e.options.quote||'"';if(t!=='"'&&t!=="'")throw new Error("Cannot serialize title with `"+t+"` for `options.quote`, expected `\"`, or `'`");return t}function aV(e,t,n,r){const o=Km(n),l=o==='"'?"Quote":"Apostrophe",u=n.enter("definition");let f=n.enter("label");const m=n.createTracker(r);let d=m.move("[");return d+=m.move(n.safe(n.associationId(e),{before:d,after:"]",...m.current()})),d+=m.move("]: "),f(),!e.url||/[\0- \u007F]/.test(e.url)?(f=n.enter("destinationLiteral"),d+=m.move("<"),d+=m.move(n.safe(e.url,{before:d,after:">",...m.current()})),d+=m.move(">")):(f=n.enter("destinationRaw"),d+=m.move(n.safe(e.url,{before:d,after:e.title?" ":`
`,...m.current()}))),f(),e.title&&(f=n.enter(`title${l}`),d+=m.move(" "+o),d+=m.move(n.safe(e.title,{before:d,after:o,...m.current()})),d+=m.move(o),f()),u(),d}function oV(e){const t=e.options.emphasis||"*";if(t!=="*"&&t!=="_")throw new Error("Cannot serialize emphasis with `"+t+"` for `options.emphasis`, expected `*`, or `_`");return t}function vs(e){return"&#x"+e.toString(16).toUpperCase()+";"}function wu(e,t,n){const r=za(e),o=za(t);return r===void 0?o===void 0?n==="_"?{inside:!0,outside:!0}:{inside:!1,outside:!1}:o===1?{inside:!0,outside:!0}:{inside:!1,outside:!0}:r===1?o===void 0?{inside:!1,outside:!1}:o===1?{inside:!0,outside:!0}:{inside:!1,outside:!1}:o===void 0?{inside:!1,outside:!1}:o===1?{inside:!0,outside:!1}:{inside:!1,outside:!1}}Zb.peek=sV;function Zb(e,t,n,r){const o=oV(n),l=n.enter("emphasis"),u=n.createTracker(r),f=u.move(o);let m=u.move(n.containerPhrasing(e,{after:o,before:f,...u.current()}));const d=m.charCodeAt(0),h=wu(r.before.charCodeAt(r.before.length-1),d,o);h.inside&&(m=vs(d)+m.slice(1));const g=m.charCodeAt(m.length-1),T=wu(r.after.charCodeAt(0),g,o);T.inside&&(m=m.slice(0,-1)+vs(g));const S=u.move(o);return l(),n.attentionEncodeSurroundingInfo={after:T.outside,before:h.outside},f+m+S}function sV(e,t,n){return n.options.emphasis||"*"}function lV(e,t){let n=!1;return Ym(e,function(r){if("value"in r&&/\r?\n|\r/.test(r.value)||r.type==="break")return n=!0,nm}),!!((!e.depth||e.depth<3)&&Fm(e)&&(t.options.setext||n))}function uV(e,t,n,r){const o=Math.max(Math.min(6,e.depth||1),1),l=n.createTracker(r);if(lV(e,n)){const h=n.enter("headingSetext"),g=n.enter("phrasing"),T=n.containerPhrasing(e,{...l.current(),before:`
`,after:`
`});return g(),h(),T+`
`+(o===1?"=":"-").repeat(T.length-(Math.max(T.lastIndexOf("\r"),T.lastIndexOf(`
`))+1))}const u="#".repeat(o),f=n.enter("headingAtx"),m=n.enter("phrasing");l.move(u+" ");let d=n.containerPhrasing(e,{before:"# ",after:`
`,...l.current()});return/^[\t ]/.test(d)&&(d=vs(d.charCodeAt(0))+d.slice(1)),d=d?u+" "+d:u,n.options.closeAtx&&(d+=" "+u),m(),f(),d}eT.peek=cV;function eT(e){return e.value||""}function cV(){return"<"}tT.peek=fV;function tT(e,t,n,r){const o=Km(n),l=o==='"'?"Quote":"Apostrophe",u=n.enter("image");let f=n.enter("label");const m=n.createTracker(r);let d=m.move("![");return d+=m.move(n.safe(e.alt,{before:d,after:"]",...m.current()})),d+=m.move("]("),f(),!e.url&&e.title||/[\0- \u007F]/.test(e.url)?(f=n.enter("destinationLiteral"),d+=m.move("<"),d+=m.move(n.safe(e.url,{before:d,after:">",...m.current()})),d+=m.move(">")):(f=n.enter("destinationRaw"),d+=m.move(n.safe(e.url,{before:d,after:e.title?" ":")",...m.current()}))),f(),e.title&&(f=n.enter(`title${l}`),d+=m.move(" "+o),d+=m.move(n.safe(e.title,{before:d,after:o,...m.current()})),d+=m.move(o),f()),d+=m.move(")"),u(),d}function fV(){return"!"}nT.peek=dV;function nT(e,t,n,r){const o=e.referenceType,l=n.enter("imageReference");let u=n.enter("label");const f=n.createTracker(r);let m=f.move("![");const d=n.safe(e.alt,{before:m,after:"]",...f.current()});m+=f.move(d+"]["),u();const h=n.stack;n.stack=[],u=n.enter("reference");const g=n.safe(n.associationId(e),{before:m,after:"]",...f.current()});return u(),n.stack=h,l(),o==="full"||!d||d!==g?m+=f.move(g+"]"):o==="shortcut"?m=m.slice(0,-1):m+=f.move("]"),m}function dV(){return"!"}iT.peek=mV;function iT(e,t,n){let r=e.value||"",o="`",l=-1;for(;new RegExp("(^|[^`])"+o+"([^`]|$)").test(r);)o+="`";for(/[^ \r\n]/.test(r)&&(/^[ \r\n]/.test(r)&&/[ \r\n]$/.test(r)||/^`|`$/.test(r))&&(r=" "+r+" ");++l<n.unsafe.length;){const u=n.unsafe[l],f=n.compilePattern(u);let m;if(u.atBreak)for(;m=f.exec(r);){let d=m.index;r.charCodeAt(d)===10&&r.charCodeAt(d-1)===13&&d--,r=r.slice(0,d)+" "+r.slice(m.index+1)}}return o+r+o}function mV(){return"`"}function rT(e,t){const n=Fm(e);return!!(!t.options.resourceLink&&e.url&&!e.title&&e.children&&e.children.length===1&&e.children[0].type==="text"&&(n===e.url||"mailto:"+n===e.url)&&/^[a-z][a-z+.-]+:/i.test(e.url)&&!/[\0- <>\u007F]/.test(e.url))}aT.peek=hV;function aT(e,t,n,r){const o=Km(n),l=o==='"'?"Quote":"Apostrophe",u=n.createTracker(r);let f,m;if(rT(e,n)){const h=n.stack;n.stack=[],f=n.enter("autolink");let g=u.move("<");return g+=u.move(n.containerPhrasing(e,{before:g,after:">",...u.current()})),g+=u.move(">"),f(),n.stack=h,g}f=n.enter("link"),m=n.enter("label");let d=u.move("[");return d+=u.move(n.containerPhrasing(e,{before:d,after:"](",...u.current()})),d+=u.move("]("),m(),!e.url&&e.title||/[\0- \u007F]/.test(e.url)?(m=n.enter("destinationLiteral"),d+=u.move("<"),d+=u.move(n.safe(e.url,{before:d,after:">",...u.current()})),d+=u.move(">")):(m=n.enter("destinationRaw"),d+=u.move(n.safe(e.url,{before:d,after:e.title?" ":")",...u.current()}))),m(),e.title&&(m=n.enter(`title${l}`),d+=u.move(" "+o),d+=u.move(n.safe(e.title,{before:d,after:o,...u.current()})),d+=u.move(o),m()),d+=u.move(")"),f(),d}function hV(e,t,n){return rT(e,n)?"<":"["}oT.peek=pV;function oT(e,t,n,r){const o=e.referenceType,l=n.enter("linkReference");let u=n.enter("label");const f=n.createTracker(r);let m=f.move("[");const d=n.containerPhrasing(e,{before:m,after:"]",...f.current()});m+=f.move(d+"]["),u();const h=n.stack;n.stack=[],u=n.enter("reference");const g=n.safe(n.associationId(e),{before:m,after:"]",...f.current()});return u(),n.stack=h,l(),o==="full"||!d||d!==g?m+=f.move(g+"]"):o==="shortcut"?m=m.slice(0,-1):m+=f.move("]"),m}function pV(){return"["}function Xm(e){const t=e.options.bullet||"*";if(t!=="*"&&t!=="+"&&t!=="-")throw new Error("Cannot serialize items with `"+t+"` for `options.bullet`, expected `*`, `+`, or `-`");return t}function gV(e){const t=Xm(e),n=e.options.bulletOther;if(!n)return t==="*"?"-":"*";if(n!=="*"&&n!=="+"&&n!=="-")throw new Error("Cannot serialize items with `"+n+"` for `options.bulletOther`, expected `*`, `+`, or `-`");if(n===t)throw new Error("Expected `bullet` (`"+t+"`) and `bulletOther` (`"+n+"`) to be different");return n}function yV(e){const t=e.options.bulletOrdered||".";if(t!=="."&&t!==")")throw new Error("Cannot serialize items with `"+t+"` for `options.bulletOrdered`, expected `.` or `)`");return t}function sT(e){const t=e.options.rule||"*";if(t!=="*"&&t!=="-"&&t!=="_")throw new Error("Cannot serialize rules with `"+t+"` for `options.rule`, expected `*`, `-`, or `_`");return t}function xV(e,t,n,r){const o=n.enter("list"),l=n.bulletCurrent;let u=e.ordered?yV(n):Xm(n);const f=e.ordered?u==="."?")":".":gV(n);let m=t&&n.bulletLastUsed?u===n.bulletLastUsed:!1;if(!e.ordered){const h=e.children?e.children[0]:void 0;if((u==="*"||u==="-")&&h&&(!h.children||!h.children[0])&&n.stack[n.stack.length-1]==="list"&&n.stack[n.stack.length-2]==="listItem"&&n.stack[n.stack.length-3]==="list"&&n.stack[n.stack.length-4]==="listItem"&&n.indexStack[n.indexStack.length-1]===0&&n.indexStack[n.indexStack.length-2]===0&&n.indexStack[n.indexStack.length-3]===0&&(m=!0),sT(n)===u&&h){let g=-1;for(;++g<e.children.length;){const T=e.children[g];if(T&&T.type==="listItem"&&T.children&&T.children[0]&&T.children[0].type==="thematicBreak"){m=!0;break}}}}m&&(u=f),n.bulletCurrent=u;const d=n.containerFlow(e,r);return n.bulletLastUsed=u,n.bulletCurrent=l,o(),d}function vV(e){const t=e.options.listItemIndent||"one";if(t!=="tab"&&t!=="one"&&t!=="mixed")throw new Error("Cannot serialize items with `"+t+"` for `options.listItemIndent`, expected `tab`, `one`, or `mixed`");return t}function bV(e,t,n,r){const o=vV(n);let l=n.bulletCurrent||Xm(n);t&&t.type==="list"&&t.ordered&&(l=(typeof t.start=="number"&&t.start>-1?t.start:1)+(n.options.incrementListMarker===!1?0:t.children.indexOf(e))+l);let u=l.length+1;(o==="tab"||o==="mixed"&&(t&&t.type==="list"&&t.spread||e.spread))&&(u=Math.ceil(u/4)*4);const f=n.createTracker(r);f.move(l+" ".repeat(u-l.length)),f.shift(u);const m=n.enter("listItem"),d=n.indentLines(n.containerFlow(e,f.current()),h);return m(),d;function h(g,T,S){return T?(S?"":" ".repeat(u))+g:(S?l:l+" ".repeat(u-l.length))+g}}function TV(e,t,n,r){const o=n.enter("paragraph"),l=n.enter("phrasing"),u=n.containerPhrasing(e,r);return l(),o(),u}const SV=Fu(["break","delete","emphasis","footnote","footnoteReference","image","imageReference","inlineCode","inlineMath","link","linkReference","mdxJsxTextElement","mdxTextExpression","strong","text","textDirective"]);function CV(e,t,n,r){return(e.children.some(function(u){return SV(u)})?n.containerPhrasing:n.containerFlow).call(n,e,r)}function MV(e){const t=e.options.strong||"*";if(t!=="*"&&t!=="_")throw new Error("Cannot serialize strong with `"+t+"` for `options.strong`, expected `*`, or `_`");return t}lT.peek=EV;function lT(e,t,n,r){const o=MV(n),l=n.enter("strong"),u=n.createTracker(r),f=u.move(o+o);let m=u.move(n.containerPhrasing(e,{after:o,before:f,...u.current()}));const d=m.charCodeAt(0),h=wu(r.before.charCodeAt(r.before.length-1),d,o);h.inside&&(m=vs(d)+m.slice(1));const g=m.charCodeAt(m.length-1),T=wu(r.after.charCodeAt(0),g,o);T.inside&&(m=m.slice(0,-1)+vs(g));const S=u.move(o+o);return l(),n.attentionEncodeSurroundingInfo={after:T.outside,before:h.outside},f+m+S}function EV(e,t,n){return n.options.strong||"*"}function AV(e,t,n,r){return n.safe(e.value,r)}function wV(e){const t=e.options.ruleRepetition||3;if(t<3)throw new Error("Cannot serialize rules with repetition `"+t+"` for `options.ruleRepetition`, expected `3` or more");return t}function DV(e,t,n){const r=(sT(n)+(n.options.ruleSpaces?" ":"")).repeat(wV(n));return n.options.ruleSpaces?r.slice(0,-1):r}const uT={blockquote:QL,break:gv,code:iV,definition:aV,emphasis:Zb,hardBreak:gv,heading:uV,html:eT,image:tT,imageReference:nT,inlineCode:iT,link:aT,linkReference:oT,list:xV,listItem:bV,paragraph:TV,root:CV,strong:lT,text:AV,thematicBreak:DV};function IV(){return{enter:{table:kV,tableData:yv,tableHeader:yv,tableRow:NV},exit:{codeText:_V,table:RV,tableData:Ed,tableHeader:Ed,tableRow:Ed}}}function kV(e){const t=e._align;this.enter({type:"table",align:t.map(function(n){return n==="none"?null:n}),children:[]},e),this.data.inTable=!0}function RV(e){this.exit(e),this.data.inTable=void 0}function NV(e){this.enter({type:"tableRow",children:[]},e)}function Ed(e){this.exit(e)}function yv(e){this.enter({type:"tableCell",children:[]},e)}function _V(e){let t=this.resume();this.data.inTable&&(t=t.replace(/\\([\\|])/g,LV));const n=this.stack[this.stack.length-1];n.type,n.value=t,this.exit(e)}function LV(e,t){return t==="|"?t:e}function VV(e){const t=e||{},n=t.tableCellPadding,r=t.tablePipeAlign,o=t.stringLength,l=n?" ":"|";return{unsafe:[{character:"\r",inConstruct:"tableCell"},{character:`
`,inConstruct:"tableCell"},{atBreak:!0,character:"|",after:"[	 :-]"},{character:"|",inConstruct:"tableCell"},{atBreak:!0,character:":",after:"-"},{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{inlineCode:T,table:u,tableCell:m,tableRow:f}};function u(S,E,A,L){return d(h(S,A,L),S.align)}function f(S,E,A,L){const I=g(S,A,L),N=d([I]);return N.slice(0,N.indexOf(`
`))}function m(S,E,A,L){const I=A.enter("tableCell"),N=A.enter("phrasing"),R=A.containerPhrasing(S,{...L,before:l,after:l});return N(),I(),R}function d(S,E){return XL(S,{align:E,alignDelimiters:r,padding:n,stringLength:o})}function h(S,E,A){const L=S.children;let I=-1;const N=[],R=E.enter("table");for(;++I<L.length;)N[I]=g(L[I],E,A);return R(),N}function g(S,E,A){const L=S.children;let I=-1;const N=[],R=E.enter("tableRow");for(;++I<L.length;)N[I]=m(L[I],S,E,A);return R(),N}function T(S,E,A){let L=uT.inlineCode(S,E,A);return A.stack.includes("tableCell")&&(L=L.replace(/\|/g,"\\$&")),L}}function PV(){return{exit:{taskListCheckValueChecked:xv,taskListCheckValueUnchecked:xv,paragraph:OV}}}function BV(){return{unsafe:[{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{listItem:FV}}}function xv(e){const t=this.stack[this.stack.length-2];t.type,t.checked=e.type==="taskListCheckValueChecked"}function OV(e){const t=this.stack[this.stack.length-2];if(t&&t.type==="listItem"&&typeof t.checked=="boolean"){const n=this.stack[this.stack.length-1];n.type;const r=n.children[0];if(r&&r.type==="text"){const o=t.children;let l=-1,u;for(;++l<o.length;){const f=o[l];if(f.type==="paragraph"){u=f;break}}u===n&&(r.value=r.value.slice(1),r.value.length===0?n.children.shift():n.position&&r.position&&typeof r.position.start.offset=="number"&&(r.position.start.column++,r.position.start.offset++,n.position.start=Object.assign({},r.position.start)))}}this.exit(e)}function FV(e,t,n,r){const o=e.children[0],l=typeof e.checked=="boolean"&&o&&o.type==="paragraph",u="["+(e.checked?"x":" ")+"] ",f=n.createTracker(r);l&&f.move(u);let m=uT.listItem(e,t,n,{...r,...f.current()});return l&&(m=m.replace(/^(?:[*+-]|\d+\.)([\r\n]| {1,3})/,d)),m;function d(h){return h+u}}function zV(){return[xL(),FL(),UL(),IV(),PV()]}function jV(e){return{extensions:[vL(),zL(e),GL(),VV(e),BV()]}}const HV={tokenize:KV,partial:!0},cT={tokenize:XV,partial:!0},fT={tokenize:WV,partial:!0},dT={tokenize:QV,partial:!0},UV={tokenize:JV,partial:!0},mT={name:"wwwAutolink",tokenize:YV,previous:pT},hT={name:"protocolAutolink",tokenize:$V,previous:gT},Mi={name:"emailAutolink",tokenize:qV,previous:yT},ni={};function GV(){return{text:ni}}let Rr=48;for(;Rr<123;)ni[Rr]=Mi,Rr++,Rr===58?Rr=65:Rr===91&&(Rr=97);ni[43]=Mi;ni[45]=Mi;ni[46]=Mi;ni[95]=Mi;ni[72]=[Mi,hT];ni[104]=[Mi,hT];ni[87]=[Mi,mT];ni[119]=[Mi,mT];function qV(e,t,n){const r=this;let o,l;return u;function u(g){return!sm(g)||!yT.call(r,r.previous)||Wm(r.events)?n(g):(e.enter("literalAutolink"),e.enter("literalAutolinkEmail"),f(g))}function f(g){return sm(g)?(e.consume(g),f):g===64?(e.consume(g),m):n(g)}function m(g){return g===46?e.check(UV,h,d)(g):g===45||g===95||qt(g)?(l=!0,e.consume(g),m):h(g)}function d(g){return e.consume(g),o=!0,m}function h(g){return l&&o&&Wt(r.previous)?(e.exit("literalAutolinkEmail"),e.exit("literalAutolink"),t(g)):n(g)}}function YV(e,t,n){const r=this;return o;function o(u){return u!==87&&u!==119||!pT.call(r,r.previous)||Wm(r.events)?n(u):(e.enter("literalAutolink"),e.enter("literalAutolinkWww"),e.check(HV,e.attempt(cT,e.attempt(fT,l),n),n)(u))}function l(u){return e.exit("literalAutolinkWww"),e.exit("literalAutolink"),t(u)}}function $V(e,t,n){const r=this;let o="",l=!1;return u;function u(g){return(g===72||g===104)&&gT.call(r,r.previous)&&!Wm(r.events)?(e.enter("literalAutolink"),e.enter("literalAutolinkHttp"),o+=String.fromCodePoint(g),e.consume(g),f):n(g)}function f(g){if(Wt(g)&&o.length<5)return o+=String.fromCodePoint(g),e.consume(g),f;if(g===58){const T=o.toLowerCase();if(T==="http"||T==="https")return e.consume(g),m}return n(g)}function m(g){return g===47?(e.consume(g),l?d:(l=!0,m)):n(g)}function d(g){return g===null||Mu(g)||it(g)||Fr(g)||Pu(g)?n(g):e.attempt(cT,e.attempt(fT,h),n)(g)}function h(g){return e.exit("literalAutolinkHttp"),e.exit("literalAutolink"),t(g)}}function KV(e,t,n){let r=0;return o;function o(u){return(u===87||u===119)&&r<3?(r++,e.consume(u),o):u===46&&r===3?(e.consume(u),l):n(u)}function l(u){return u===null?n(u):t(u)}}function XV(e,t,n){let r,o,l;return u;function u(d){return d===46||d===95?e.check(dT,m,f)(d):d===null||it(d)||Fr(d)||d!==45&&Pu(d)?m(d):(l=!0,e.consume(d),u)}function f(d){return d===95?r=!0:(o=r,r=void 0),e.consume(d),u}function m(d){return o||r||!l?n(d):t(d)}}function WV(e,t){let n=0,r=0;return o;function o(u){return u===40?(n++,e.consume(u),o):u===41&&r<n?l(u):u===33||u===34||u===38||u===39||u===41||u===42||u===44||u===46||u===58||u===59||u===60||u===63||u===93||u===95||u===126?e.check(dT,t,l)(u):u===null||it(u)||Fr(u)?t(u):(e.consume(u),o)}function l(u){return u===41&&r++,e.consume(u),o}}function QV(e,t,n){return r;function r(f){return f===33||f===34||f===39||f===41||f===42||f===44||f===46||f===58||f===59||f===63||f===95||f===126?(e.consume(f),r):f===38?(e.consume(f),l):f===93?(e.consume(f),o):f===60||f===null||it(f)||Fr(f)?t(f):n(f)}function o(f){return f===null||f===40||f===91||it(f)||Fr(f)?t(f):r(f)}function l(f){return Wt(f)?u(f):n(f)}function u(f){return f===59?(e.consume(f),r):Wt(f)?(e.consume(f),u):n(f)}}function JV(e,t,n){return r;function r(l){return e.consume(l),o}function o(l){return qt(l)?n(l):t(l)}}function pT(e){return e===null||e===40||e===42||e===95||e===91||e===93||e===126||it(e)}function gT(e){return!Wt(e)}function yT(e){return!(e===47||sm(e))}function sm(e){return e===43||e===45||e===46||e===95||qt(e)}function Wm(e){let t=e.length,n=!1;for(;t--;){const r=e[t][1];if((r.type==="labelLink"||r.type==="labelImage")&&!r._balanced){n=!0;break}if(r._gfmAutolinkLiteralWalkedInto){n=!1;break}}return e.length>0&&!n&&(e[e.length-1][1]._gfmAutolinkLiteralWalkedInto=!0),n}const ZV={tokenize:sP,partial:!0};function eP(){return{document:{91:{name:"gfmFootnoteDefinition",tokenize:rP,continuation:{tokenize:aP},exit:oP}},text:{91:{name:"gfmFootnoteCall",tokenize:iP},93:{name:"gfmPotentialFootnoteCall",add:"after",tokenize:tP,resolveTo:nP}}}}function tP(e,t,n){const r=this;let o=r.events.length;const l=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let u;for(;o--;){const m=r.events[o][1];if(m.type==="labelImage"){u=m;break}if(m.type==="gfmFootnoteCall"||m.type==="labelLink"||m.type==="label"||m.type==="image"||m.type==="link")break}return f;function f(m){if(!u||!u._balanced)return n(m);const d=Gn(r.sliceSerialize({start:u.end,end:r.now()}));return d.codePointAt(0)!==94||!l.includes(d.slice(1))?n(m):(e.enter("gfmFootnoteCallLabelMarker"),e.consume(m),e.exit("gfmFootnoteCallLabelMarker"),t(m))}}function nP(e,t){let n=e.length;for(;n--;)if(e[n][1].type==="labelImage"&&e[n][0]==="enter"){e[n][1];break}e[n+1][1].type="data",e[n+3][1].type="gfmFootnoteCallLabelMarker";const r={type:"gfmFootnoteCall",start:Object.assign({},e[n+3][1].start),end:Object.assign({},e[e.length-1][1].end)},o={type:"gfmFootnoteCallMarker",start:Object.assign({},e[n+3][1].end),end:Object.assign({},e[n+3][1].end)};o.end.column++,o.end.offset++,o.end._bufferIndex++;const l={type:"gfmFootnoteCallString",start:Object.assign({},o.end),end:Object.assign({},e[e.length-1][1].start)},u={type:"chunkString",contentType:"string",start:Object.assign({},l.start),end:Object.assign({},l.end)},f=[e[n+1],e[n+2],["enter",r,t],e[n+3],e[n+4],["enter",o,t],["exit",o,t],["enter",l,t],["enter",u,t],["exit",u,t],["exit",l,t],e[e.length-2],e[e.length-1],["exit",r,t]];return e.splice(n,e.length-n+1,...f),e}function iP(e,t,n){const r=this,o=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let l=0,u;return f;function f(g){return e.enter("gfmFootnoteCall"),e.enter("gfmFootnoteCallLabelMarker"),e.consume(g),e.exit("gfmFootnoteCallLabelMarker"),m}function m(g){return g!==94?n(g):(e.enter("gfmFootnoteCallMarker"),e.consume(g),e.exit("gfmFootnoteCallMarker"),e.enter("gfmFootnoteCallString"),e.enter("chunkString").contentType="string",d)}function d(g){if(l>999||g===93&&!u||g===null||g===91||it(g))return n(g);if(g===93){e.exit("chunkString");const T=e.exit("gfmFootnoteCallString");return o.includes(Gn(r.sliceSerialize(T)))?(e.enter("gfmFootnoteCallLabelMarker"),e.consume(g),e.exit("gfmFootnoteCallLabelMarker"),e.exit("gfmFootnoteCall"),t):n(g)}return it(g)||(u=!0),l++,e.consume(g),g===92?h:d}function h(g){return g===91||g===92||g===93?(e.consume(g),l++,d):d(g)}}function rP(e,t,n){const r=this,o=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let l,u=0,f;return m;function m(E){return e.enter("gfmFootnoteDefinition")._container=!0,e.enter("gfmFootnoteDefinitionLabel"),e.enter("gfmFootnoteDefinitionLabelMarker"),e.consume(E),e.exit("gfmFootnoteDefinitionLabelMarker"),d}function d(E){return E===94?(e.enter("gfmFootnoteDefinitionMarker"),e.consume(E),e.exit("gfmFootnoteDefinitionMarker"),e.enter("gfmFootnoteDefinitionLabelString"),e.enter("chunkString").contentType="string",h):n(E)}function h(E){if(u>999||E===93&&!f||E===null||E===91||it(E))return n(E);if(E===93){e.exit("chunkString");const A=e.exit("gfmFootnoteDefinitionLabelString");return l=Gn(r.sliceSerialize(A)),e.enter("gfmFootnoteDefinitionLabelMarker"),e.consume(E),e.exit("gfmFootnoteDefinitionLabelMarker"),e.exit("gfmFootnoteDefinitionLabel"),T}return it(E)||(f=!0),u++,e.consume(E),E===92?g:h}function g(E){return E===91||E===92||E===93?(e.consume(E),u++,h):h(E)}function T(E){return E===58?(e.enter("definitionMarker"),e.consume(E),e.exit("definitionMarker"),o.includes(l)||o.push(l),Ge(e,S,"gfmFootnoteDefinitionWhitespace")):n(E)}function S(E){return t(E)}}function aP(e,t,n){return e.check(ks,t,e.attempt(ZV,t,n))}function oP(e){e.exit("gfmFootnoteDefinition")}function sP(e,t,n){const r=this;return Ge(e,o,"gfmFootnoteDefinitionIndent",5);function o(l){const u=r.events[r.events.length-1];return u&&u[1].type==="gfmFootnoteDefinitionIndent"&&u[2].sliceSerialize(u[1],!0).length===4?t(l):n(l)}}function lP(e){let n=(e||{}).singleTilde;const r={name:"strikethrough",tokenize:l,resolveAll:o};return n==null&&(n=!0),{text:{126:r},insideSpan:{null:[r]},attentionMarkers:{null:[126]}};function o(u,f){let m=-1;for(;++m<u.length;)if(u[m][0]==="enter"&&u[m][1].type==="strikethroughSequenceTemporary"&&u[m][1]._close){let d=m;for(;d--;)if(u[d][0]==="exit"&&u[d][1].type==="strikethroughSequenceTemporary"&&u[d][1]._open&&u[m][1].end.offset-u[m][1].start.offset===u[d][1].end.offset-u[d][1].start.offset){u[m][1].type="strikethroughSequence",u[d][1].type="strikethroughSequence";const h={type:"strikethrough",start:Object.assign({},u[d][1].start),end:Object.assign({},u[m][1].end)},g={type:"strikethroughText",start:Object.assign({},u[d][1].end),end:Object.assign({},u[m][1].start)},T=[["enter",h,f],["enter",u[d][1],f],["exit",u[d][1],f],["enter",g,f]],S=f.parser.constructs.insideSpan.null;S&&vn(T,T.length,0,Bu(S,u.slice(d+1,m),f)),vn(T,T.length,0,[["exit",g,f],["enter",u[m][1],f],["exit",u[m][1],f],["exit",h,f]]),vn(u,d-1,m-d+3,T),m=d+T.length-2;break}}for(m=-1;++m<u.length;)u[m][1].type==="strikethroughSequenceTemporary"&&(u[m][1].type="data");return u}function l(u,f,m){const d=this.previous,h=this.events;let g=0;return T;function T(E){return d===126&&h[h.length-1][1].type!=="characterEscape"?m(E):(u.enter("strikethroughSequenceTemporary"),S(E))}function S(E){const A=za(d);if(E===126)return g>1?m(E):(u.consume(E),g++,S);if(g<2&&!n)return m(E);const L=u.exit("strikethroughSequenceTemporary"),I=za(E);return L._open=!I||I===2&&!!A,L._close=!A||A===2&&!!I,f(E)}}}class uP{constructor(){this.map=[]}add(t,n,r){cP(this,t,n,r)}consume(t){if(this.map.sort(function(l,u){return l[0]-u[0]}),this.map.length===0)return;let n=this.map.length;const r=[];for(;n>0;)n-=1,r.push(t.slice(this.map[n][0]+this.map[n][1]),this.map[n][2]),t.length=this.map[n][0];r.push(t.slice()),t.length=0;let o=r.pop();for(;o;){for(const l of o)t.push(l);o=r.pop()}this.map.length=0}}function cP(e,t,n,r){let o=0;if(!(n===0&&r.length===0)){for(;o<e.map.length;){if(e.map[o][0]===t){e.map[o][1]+=n,e.map[o][2].push(...r);return}o+=1}e.map.push([t,n,r])}}function fP(e,t){let n=!1;const r=[];for(;t<e.length;){const o=e[t];if(n){if(o[0]==="enter")o[1].type==="tableContent"&&r.push(e[t+1][1].type==="tableDelimiterMarker"?"left":"none");else if(o[1].type==="tableContent"){if(e[t-1][1].type==="tableDelimiterMarker"){const l=r.length-1;r[l]=r[l]==="left"?"center":"right"}}else if(o[1].type==="tableDelimiterRow")break}else o[0]==="enter"&&o[1].type==="tableDelimiterRow"&&(n=!0);t+=1}return r}function dP(){return{flow:{null:{name:"table",tokenize:mP,resolveAll:hP}}}}function mP(e,t,n){const r=this;let o=0,l=0,u;return f;function f(H){let ce=r.events.length-1;for(;ce>-1;){const fe=r.events[ce][1].type;if(fe==="lineEnding"||fe==="linePrefix")ce--;else break}const J=ce>-1?r.events[ce][1].type:null,me=J==="tableHead"||J==="tableRow"?j:m;return me===j&&r.parser.lazy[r.now().line]?n(H):me(H)}function m(H){return e.enter("tableHead"),e.enter("tableRow"),d(H)}function d(H){return H===124||(u=!0,l+=1),h(H)}function h(H){return H===null?n(H):Ce(H)?l>1?(l=0,r.interrupt=!0,e.exit("tableRow"),e.enter("lineEnding"),e.consume(H),e.exit("lineEnding"),S):n(H):ze(H)?Ge(e,h,"whitespace")(H):(l+=1,u&&(u=!1,o+=1),H===124?(e.enter("tableCellDivider"),e.consume(H),e.exit("tableCellDivider"),u=!0,h):(e.enter("data"),g(H)))}function g(H){return H===null||H===124||it(H)?(e.exit("data"),h(H)):(e.consume(H),H===92?T:g)}function T(H){return H===92||H===124?(e.consume(H),g):g(H)}function S(H){return r.interrupt=!1,r.parser.lazy[r.now().line]?n(H):(e.enter("tableDelimiterRow"),u=!1,ze(H)?Ge(e,E,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(H):E(H))}function E(H){return H===45||H===58?L(H):H===124?(u=!0,e.enter("tableCellDivider"),e.consume(H),e.exit("tableCellDivider"),A):G(H)}function A(H){return ze(H)?Ge(e,L,"whitespace")(H):L(H)}function L(H){return H===58?(l+=1,u=!0,e.enter("tableDelimiterMarker"),e.consume(H),e.exit("tableDelimiterMarker"),I):H===45?(l+=1,I(H)):H===null||Ce(H)?z(H):G(H)}function I(H){return H===45?(e.enter("tableDelimiterFiller"),N(H)):G(H)}function N(H){return H===45?(e.consume(H),N):H===58?(u=!0,e.exit("tableDelimiterFiller"),e.enter("tableDelimiterMarker"),e.consume(H),e.exit("tableDelimiterMarker"),R):(e.exit("tableDelimiterFiller"),R(H))}function R(H){return ze(H)?Ge(e,z,"whitespace")(H):z(H)}function z(H){return H===124?E(H):H===null||Ce(H)?!u||o!==l?G(H):(e.exit("tableDelimiterRow"),e.exit("tableHead"),t(H)):G(H)}function G(H){return n(H)}function j(H){return e.enter("tableRow"),se(H)}function se(H){return H===124?(e.enter("tableCellDivider"),e.consume(H),e.exit("tableCellDivider"),se):H===null||Ce(H)?(e.exit("tableRow"),t(H)):ze(H)?Ge(e,se,"whitespace")(H):(e.enter("data"),le(H))}function le(H){return H===null||H===124||it(H)?(e.exit("data"),se(H)):(e.consume(H),H===92?pe:le)}function pe(H){return H===92||H===124?(e.consume(H),le):le(H)}}function hP(e,t){let n=-1,r=!0,o=0,l=[0,0,0,0],u=[0,0,0,0],f=!1,m=0,d,h,g;const T=new uP;for(;++n<e.length;){const S=e[n],E=S[1];S[0]==="enter"?E.type==="tableHead"?(f=!1,m!==0&&(vv(T,t,m,d,h),h=void 0,m=0),d={type:"table",start:Object.assign({},E.start),end:Object.assign({},E.end)},T.add(n,0,[["enter",d,t]])):E.type==="tableRow"||E.type==="tableDelimiterRow"?(r=!0,g=void 0,l=[0,0,0,0],u=[0,n+1,0,0],f&&(f=!1,h={type:"tableBody",start:Object.assign({},E.start),end:Object.assign({},E.end)},T.add(n,0,[["enter",h,t]])),o=E.type==="tableDelimiterRow"?2:h?3:1):o&&(E.type==="data"||E.type==="tableDelimiterMarker"||E.type==="tableDelimiterFiller")?(r=!1,u[2]===0&&(l[1]!==0&&(u[0]=u[1],g=ru(T,t,l,o,void 0,g),l=[0,0,0,0]),u[2]=n)):E.type==="tableCellDivider"&&(r?r=!1:(l[1]!==0&&(u[0]=u[1],g=ru(T,t,l,o,void 0,g)),l=u,u=[l[1],n,0,0])):E.type==="tableHead"?(f=!0,m=n):E.type==="tableRow"||E.type==="tableDelimiterRow"?(m=n,l[1]!==0?(u[0]=u[1],g=ru(T,t,l,o,n,g)):u[1]!==0&&(g=ru(T,t,u,o,n,g)),o=0):o&&(E.type==="data"||E.type==="tableDelimiterMarker"||E.type==="tableDelimiterFiller")&&(u[3]=n)}for(m!==0&&vv(T,t,m,d,h),T.consume(t.events),n=-1;++n<t.events.length;){const S=t.events[n];S[0]==="enter"&&S[1].type==="table"&&(S[1]._align=fP(t.events,n))}return e}function ru(e,t,n,r,o,l){const u=r===1?"tableHeader":r===2?"tableDelimiter":"tableData",f="tableContent";n[0]!==0&&(l.end=Object.assign({},Na(t.events,n[0])),e.add(n[0],0,[["exit",l,t]]));const m=Na(t.events,n[1]);if(l={type:u,start:Object.assign({},m),end:Object.assign({},m)},e.add(n[1],0,[["enter",l,t]]),n[2]!==0){const d=Na(t.events,n[2]),h=Na(t.events,n[3]),g={type:f,start:Object.assign({},d),end:Object.assign({},h)};if(e.add(n[2],0,[["enter",g,t]]),r!==2){const T=t.events[n[2]],S=t.events[n[3]];if(T[1].end=Object.assign({},S[1].end),T[1].type="chunkText",T[1].contentType="text",n[3]>n[2]+1){const E=n[2]+1,A=n[3]-n[2]-1;e.add(E,A,[])}}e.add(n[3]+1,0,[["exit",g,t]])}return o!==void 0&&(l.end=Object.assign({},Na(t.events,o)),e.add(o,0,[["exit",l,t]]),l=void 0),l}function vv(e,t,n,r,o){const l=[],u=Na(t.events,n);o&&(o.end=Object.assign({},u),l.push(["exit",o,t])),r.end=Object.assign({},u),l.push(["exit",r,t]),e.add(n+1,0,l)}function Na(e,t){const n=e[t],r=n[0]==="enter"?"start":"end";return n[1][r]}const pP={name:"tasklistCheck",tokenize:yP};function gP(){return{text:{91:pP}}}function yP(e,t,n){const r=this;return o;function o(m){return r.previous!==null||!r._gfmTasklistFirstContentOfListItem?n(m):(e.enter("taskListCheck"),e.enter("taskListCheckMarker"),e.consume(m),e.exit("taskListCheckMarker"),l)}function l(m){return it(m)?(e.enter("taskListCheckValueUnchecked"),e.consume(m),e.exit("taskListCheckValueUnchecked"),u):m===88||m===120?(e.enter("taskListCheckValueChecked"),e.consume(m),e.exit("taskListCheckValueChecked"),u):n(m)}function u(m){return m===93?(e.enter("taskListCheckMarker"),e.consume(m),e.exit("taskListCheckMarker"),e.exit("taskListCheck"),f):n(m)}function f(m){return Ce(m)?t(m):ze(m)?e.check({tokenize:xP},t,n)(m):n(m)}}function xP(e,t,n){return Ge(e,r,"whitespace");function r(o){return o===null?n(o):t(o)}}function vP(e){return Db([GV(),eP(),lP(e),dP(),gP()])}const bP={};function lm(e){const t=this,n=e||bP,r=t.data(),o=r.micromarkExtensions||(r.micromarkExtensions=[]),l=r.fromMarkdownExtensions||(r.fromMarkdownExtensions=[]),u=r.toMarkdownExtensions||(r.toMarkdownExtensions=[]);o.push(vP(n)),l.push(zV()),u.push(jV(n))}const TP=async e=>{if(!e)return{success:!1,message:"No content to copy"};try{const t=`
      <div style="color: #000000; font-family: system-ui, -apple-system, sans-serif; line-height: 1.6; background: transparent;">
        ${e.split(`
`).map(r=>{if(r.startsWith("# "))return`<h1 style="color: #000000; font-size: 1.5rem; font-weight: bold; margin: 1.5rem 0 1rem 0;">${r.replace("# ","")}</h1>`;if(r.startsWith("## "))return`<h2 style="color: #000000; font-size: 1.25rem; font-weight: bold; margin: 1rem 0 0.5rem 0;">${r.replace("## ","")}</h2>`;if(r.startsWith("### "))return`<h3 style="color: #000000; font-size: 1.1rem; font-weight: bold; margin: 0.75rem 0 0.25rem 0;">${r.replace("### ","")}</h3>`;if(r.startsWith("#### "))return`<h4 style="color: #000000; font-size: 1rem; font-weight: bold; margin: 0.5rem 0 0.25rem 0;">${r.replace("#### ","")}</h4>`;if(r.startsWith("- **")){const o=r.match(/- \*\*(.*?)\*\*:\s*(.*)/);if(o)return`<p style="margin: 0.25rem 0; color: #000000;"><strong style="color: #000000;">${o[1]}:</strong> ${o[2]}</p>`}else{if(r.startsWith("- "))return`<p style="margin: 0.25rem 0; padding-left: 1rem; color: #000000;"> ${r.replace("- ","")}</p>`;if(r.match(/^\d+\./))return`<p style="margin: 0.25rem 0; padding-left: 1rem; color: #000000;">${r}</p>`;if(r.startsWith("**")&&r.endsWith("**"))return`<p style="margin: 0.5rem 0; color: #000000; font-weight: bold;">${r.replace(/\*\*/g,"")}</p>`;if(r.trim())return`<p style="margin: 0.5rem 0; color: #000000;">${r}</p>`}return"<br>"}).join("")}
      </div>
    `,n=e.split(`
`).map(r=>{if(r.startsWith("# "))return r.replace("# ","");if(r.startsWith("## "))return r.replace("## ","");if(r.startsWith("### "))return r.replace("### ","");if(r.startsWith("#### "))return r.replace("#### ","");if(r.startsWith("- **")){const o=r.match(/- \*\*(.*?)\*\*:\s*(.*)/);if(o)return`${o[1]}: ${o[2]}`}else{if(r.startsWith("- "))return` ${r.replace("- ","")}`;if(r.startsWith("**")&&r.endsWith("**"))return r.replace(/\*\*/g,"")}return r}).join(`
`);if(navigator.clipboard&&navigator.clipboard.write){const r=new Blob([t],{type:"text/html"}),o=new Blob([n],{type:"text/plain"}),l=new ClipboardItem({"text/html":r,"text/plain":o});return await navigator.clipboard.write([l]),{success:!0,message:"Content copied (Rich Format)!"}}else return await navigator.clipboard.writeText(n),{success:!0,message:"Content copied (Plain Text)!"}}catch(t){return console.error("Failed to copy content:",t),{success:!1,message:"Failed to copy. Please try manually."}}},cs=({content:e,onExportPDF:t,onCopy:n,className:r=""})=>{const[o,l]=ae.useState(""),u=async()=>{if(n){n();return}const m=await TP(e);l(m.message),setTimeout(()=>l(""),3e3)},f={h1:({children:m})=>y.jsx("h1",{className:"text-3xl font-bold text-purple-300 mb-6 border-b border-gray-600 pb-3",children:m}),h2:({children:m})=>y.jsx("h2",{className:"text-2xl font-semibold text-purple-200 mt-8 mb-4 border-l-4 border-purple-500 pl-4",children:m}),h3:({children:m})=>y.jsx("h3",{className:"text-xl font-semibold text-purple-100 mt-6 mb-3 flex items-center",children:m}),h4:({children:m})=>y.jsx("h4",{className:"text-lg font-medium text-gray-200 mt-4 mb-2",children:m}),p:({children:m})=>y.jsx("p",{className:"text-gray-300 mb-4 leading-relaxed",children:m}),ul:({children:m})=>y.jsx("ul",{className:"list-disc list-inside text-gray-300 mb-4 space-y-1 ml-4",children:m}),ol:({children:m})=>y.jsx("ol",{className:"list-decimal list-inside text-gray-300 mb-4 space-y-1 ml-4",children:m}),li:({children:m})=>y.jsx("li",{className:"text-gray-300 mb-1",children:m}),strong:({children:m})=>y.jsx("strong",{className:"font-semibold text-gray-100",children:m}),em:({children:m})=>y.jsx("em",{className:"italic text-gray-200",children:m}),code:({children:m,className:d})=>d?y.jsx("pre",{className:"bg-gray-800 border border-gray-600 rounded-lg p-4 overflow-x-auto mb-4",children:y.jsx("code",{className:"text-green-300 text-sm font-mono",children:m})}):y.jsx("code",{className:"bg-gray-700 text-purple-300 px-2 py-1 rounded text-sm font-mono",children:m}),blockquote:({children:m})=>y.jsx("blockquote",{className:"border-l-4 border-purple-500 bg-gray-800/50 pl-4 py-2 mb-4 italic text-gray-300",children:m}),table:({children:m})=>y.jsx("div",{className:"overflow-x-auto mb-6",children:y.jsx("table",{className:"min-w-full bg-gray-800 border border-gray-600 rounded-lg",children:m})}),thead:({children:m})=>y.jsx("thead",{className:"bg-gray-700",children:m}),tbody:({children:m})=>y.jsx("tbody",{className:"divide-y divide-gray-600",children:m}),tr:({children:m})=>y.jsx("tr",{className:"hover:bg-gray-700/50 transition-colors",children:m}),th:({children:m})=>y.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold text-purple-300 border-b border-gray-600",children:m}),td:({children:m})=>y.jsx("td",{className:"px-4 py-3 text-sm text-gray-300",children:m}),hr:()=>y.jsx("hr",{className:"border-gray-600 my-8"}),a:({href:m,children:d})=>y.jsx("a",{href:m,className:"text-purple-400 hover:text-purple-300 underline transition-colors",target:"_blank",rel:"noopener noreferrer",children:d})};return y.jsxs("div",{className:`markdown-content ${r}`,children:[y.jsxs("div",{className:"flex justify-end gap-2 mb-4 pb-4 border-b border-gray-700",children:[y.jsx(je,{onClick:u,variant:"outline",size:"sm",leftIcon:y.jsx(MI,{className:"w-4 h-4"}),children:"Copy Content"}),t&&y.jsx(je,{onClick:t,variant:"secondary",size:"sm",leftIcon:y.jsx(Yd,{className:"w-4 h-4"}),children:"Export PDF"})]}),o&&y.jsx("div",{className:`text-sm mb-4 p-2 rounded ${o.includes("Failed")?"text-red-400 bg-red-900/20":"text-green-400 bg-green-900/20"}`,children:o}),y.jsx("div",{className:"prose prose-invert max-w-none",children:y.jsx(om,{components:f,remarkPlugins:[lm],children:e})})]})},xT=[{category:"House",genre:"House",tempoRange:[120,126],sections:["Intro","Build-Up","Drop","Breakdown","Drop 2","Outro"]},{category:"House",genre:"Deep House",tempoRange:[118,124],sections:["Intro","Build-Up","Drop","Breakdown","Outro"]},{category:"House",genre:"Tech House",tempoRange:[122,127],sections:["Intro","Build-Up","Drop","Breakdown","Drop 2","Outro"]},{category:"House",genre:"Progressive House",tempoRange:[124,128],sections:["Intro","Build-Up","Drop","Breakdown","Outro"]},{category:"House",genre:"Afro House",tempoRange:[120,125],sections:["Intro","Build-Up","Drop","Breakdown","Outro"]},{category:"House",genre:"Nu-Disco",tempoRange:[115,125],sections:["Intro","Verse","Chorus","Bridge","Outro"]},{category:"Techno",genre:"Melodic Techno",tempoRange:[120,126],sections:["Intro","Groove Build","Peak Moment","Mid-Break","Outro"]},{category:"Techno",genre:"Minimal Techno",tempoRange:[120,125],sections:["Intro","Groove Build","Peak Moment","Mid-Break","Outro"]},{category:"Techno",genre:"Big Room Techno",tempoRange:[126,130],sections:["Intro","Build-Up","Drop","Breakdown","Build-Up 2","Final Drop","Outro"]},{category:"Techno",genre:"Peak Time Techno",tempoRange:[128,135],sections:["Intro","Groove Build","Peak Moment","Mid-Break","Outro"]},{category:"Techno",genre:"Hard Techno",tempoRange:[135,145],sections:["Intro","Groove Build","Peak Moment","Mid-Break","Outro"]},{category:"Trance",genre:"Trance",tempoRange:[128,140],sections:["Intro","Build-Up","Drop","Breakdown","Build-Up 2","Final Drop","Outro"]},{category:"Trance",genre:"Psytrance",tempoRange:[140,150],sections:["Intro","Build-Up","Drop","Breakdown","Build-Up 2","Final Drop","Outro"]},{category:"Trance",genre:"Progressive Trance",tempoRange:[130,138],sections:["Intro","Build-Up","Drop","Breakdown","Build-Up 2","Final Drop","Outro"]},{category:"Trance",genre:"Uplifting Trance",tempoRange:[132,140],sections:["Intro","Build-Up","Drop","Breakdown","Build-Up 2","Final Drop","Outro"]},{category:"Bass & Dubstep",genre:"Dubstep",tempoRange:[140,150],sections:["Intro","Pre-Drop","Drop 1","Switch-Up","Drop 2","Outro"]},{category:"Bass & Dubstep",genre:"Riddim Dubstep",tempoRange:[140,150],sections:["Intro","Pre-Drop","Drop 1","Switch-Up","Drop 2","Outro"]},{category:"Bass & Dubstep",genre:"Hybrid Trap",tempoRange:[135,150],sections:["Intro","Pre-Drop","Drop 1","Mid-Section","Drop 2","Outro"]},{category:"Bass & Dubstep",genre:"Midtempo Bass",tempoRange:[95,110],sections:["Intro","Build-Up","Drop","Breakdown","Outro"]},{category:"Bass & Dubstep",genre:"Future Bass",tempoRange:[140,155],sections:["Intro","Pre-Drop","Drop 1","Breakdown","Drop 2","Outro"]},{category:"Bass & Dubstep",genre:"Phonk",tempoRange:[130,150],sections:["Intro","Pre-Drop","Drop 1","Switch-Up","Drop 2","Outro"]},{category:"Bass & Dubstep",genre:"Hardstyle",tempoRange:[150,160],sections:["Intro","Pre-Drop","Drop 1","Switch-Up","Drop 2","Outro"]},{category:"Trap & Future Styles",genre:"Trap",tempoRange:[130,150],sections:["Intro","Pre-Drop","Drop 1","Mid-Section","Drop 2","Outro"]},{category:"Trap & Future Styles",genre:"Hard Trap",tempoRange:[135,150],sections:["Intro","Pre-Drop","Drop 1","Switch-Up","Drop 2","Outro"]},{category:"Trap & Future Styles",genre:"Hyperpop",tempoRange:[140,160],sections:["Intro","Verse","Drop","Bridge","Outro"]},{category:"Trap & Future Styles",genre:"Trap Soul",tempoRange:[100,130],sections:["Intro","Verse","Chorus","Bridge","Outro"]},{category:"Trap & Future Styles",genre:"Jersey Club",tempoRange:[130,140],sections:["Intro","Pre-Drop","Drop 1","Mid-Section","Drop 2","Outro"]},{category:"Drum & Bass / UK Styles",genre:"Drum & Bass",tempoRange:[170,175],sections:["Intro","Build-Up","Drop","Mid-Roll","Breakdown","Second Drop","Outro"]},{category:"Drum & Bass / UK Styles",genre:"Liquid DnB",tempoRange:[170,175],sections:["Intro","Build-Up","Drop","Mid-Roll","Breakdown","Second Drop","Outro"]},{category:"Drum & Bass / UK Styles",genre:"Jungle",tempoRange:[170,175],sections:["Intro","Build-Up","Drop","Mid-Roll","Breakdown","Second Drop","Outro"]},{category:"Drum & Bass / UK Styles",genre:"UK Garage",tempoRange:[130,138],sections:["Intro","Build-Up","Drop","Breakdown","Outro"]},{category:"Drum & Bass / UK Styles",genre:"UK Bass",tempoRange:[128,138],sections:["Intro","Build-Up","Drop","Breakdown","Outro"]},{category:"Drum & Bass / UK Styles",genre:"Breakbeat",tempoRange:[125,135],sections:["Intro","Build-Up","Drop","Breakdown","Outro"]},{category:"Pop / Indie / Electro",genre:"EDM Pop",tempoRange:[110,125],sections:["Intro","Verse","Pre-Chorus","Chorus / Drop","Bridge","Outro"]},{category:"Pop / Indie / Electro",genre:"Indie Pop",tempoRange:[100,120],sections:["Intro","Verse","Chorus","Bridge","Outro"]},{category:"Pop / Indie / Electro",genre:"Indie Dance",tempoRange:[115,125],sections:["Intro","Verse","Chorus","Bridge","Outro"]},{category:"Pop / Indie / Electro",genre:"Electro Pop",tempoRange:[100,120],sections:["Intro","Verse","Pre-Chorus","Chorus","Bridge","Outro"]},{category:"Pop / Indie / Electro",genre:"Synth Pop",tempoRange:[100,115],sections:["Intro","Verse","Pre-Chorus","Chorus","Bridge","Outro"]},{category:"Retro & Synth",genre:"Synthwave",tempoRange:[85,105],sections:["Intro","Main Theme","Breakdown","Bridge","Outro"]},{category:"Retro & Synth",genre:"Chillwave",tempoRange:[85,100],sections:["Intro","Main Theme","Breakdown","Bridge","Outro"]},{category:"Retro & Synth",genre:"Vaporwave",tempoRange:[60,85],sections:["Intro","Main Theme","Breakdown","Outro"]},{category:"Retro & Synth",genre:"Retrowave",tempoRange:[90,110],sections:["Intro","Main Theme","Breakdown","Bridge","Outro"]},{category:"Hip-Hop & RnB",genre:"Boom Bap",tempoRange:[85,95],sections:["Intro","Verse","Chorus","Verse 2","Outro"]},{category:"Hip-Hop & RnB",genre:"Experimental Hip-Hop",tempoRange:[80,100],sections:["Intro","Verse","Drop","Bridge","Outro"]},{category:"Hip-Hop & RnB",genre:"RnB Remix",tempoRange:[85,100],sections:["Intro","Verse","Chorus","Bridge","Outro"]},{category:"Lo-fi & Chill",genre:"Lo-fi Hip-Hop",tempoRange:[65,85],sections:["Intro","Groove Section A","Groove Section B","Bridge / Texture Break","Outro"]},{category:"Lo-fi & Chill",genre:"Chillhop",tempoRange:[70,90],sections:["Intro","Groove Section A","Groove Section B","Bridge / Texture Break","Outro"]},{category:"Lo-fi & Chill",genre:"Trip-Hop",tempoRange:[70,90],sections:["Intro","Main Atmosphere","Texture Development","Outro"]},{category:"Lo-fi & Chill",genre:"Downtempo",tempoRange:[70,90],sections:["Intro","Main Atmosphere","Texture Development","Dynamic Peak","Outro"]},{category:"Lo-fi & Chill",genre:"Chillstep",tempoRange:[100,115],sections:["Intro","Build-Up","Drop","Breakdown","Outro"]},{category:"Ambient & Cinematic",genre:"Ambient",tempoRange:[60,80],sections:["Intro","Main Atmosphere","Texture Development","Outro"]},{category:"Ambient & Cinematic",genre:"Cinematic",tempoRange:[60,80],sections:["Intro","Main Atmosphere","Texture Development","Outro"]}],SP=()=>{const e={};return xT.forEach(({category:t,genre:n})=>{e[t]||(e[t]=[]),e[t].push(n)}),e},bv=e=>xT.find(t=>t.genre===e),Tv=e=>{if(!e)return null;const t=/##\s*\s*Original Track DNA Analysis/i,n=e.match(t);if(!n||typeof n.index>"u")return null;const r=n.index,o=e.substring(r+n[0].length).match(/^##\s+/m),l=o&&typeof o.index<"u"?r+n[0].length+o.index:e.length,f=e.substring(r,l).trim().match(/\*\*Harmonic Blueprint\*\*:\s*([^\n]+)/i);if(f&&f[1]){const d=f[1].match(/([IVXLCDMivxlcdm\d\s,-]+(?:\s*-\s*[IVXLCDMivxlcdm\d\s,-]+)*)/);if(d&&d[1])return d[1].trim()}return null},CP=()=>{const[e,t]=ae.useState(null),[n,r]=ae.useState(""),[o,l]=ae.useState(""),[u,f]=ae.useState(""),[m,d]=ae.useState(""),[h,g]=ae.useState(!1),[T,S]=ae.useState(null),[E,A]=ae.useState(""),[L,I]=ae.useState(""),N=ae.useRef(null),R=SP(),z=Object.keys(R),G=J=>{var q;const me=(q=J.target.files)==null?void 0:q[0];if(!me)return;if(!(["audio/wav","audio/mpeg","audio/mp3"].includes(me.type)||me.name.toLowerCase().endsWith(".wav")||me.name.toLowerCase().endsWith(".mp3"))){I("Please upload a WAV or MP3 file");return}if(me.size>100*1024*1024){I("File size must be under 100MB");return}t(me),I("")},j=J=>{J.preventDefault();const me=J.dataTransfer.files[0];me&&G({target:{files:[me]}})},se=J=>{J.preventDefault()},le=async()=>{if(!e||!o){I("Please upload an audio file and select a target genre");return}g(!0),I(""),A(""),S(null);try{const J=await qI(e),me={base64:J.base64,mimeType:J.mimeType},fe=bv(o);let he="",q=null;const O=bI(me,o,fe,u,m);for await(const Me of O)Me.text&&(he+=Me.text,A(he)),Me.metadata&&(q=Me.metadata);console.log("Remix guide generated, now generating MIDI patterns...");const k=Tv(he),_=(q==null?void 0:q.targetTempo)||128,C=(q==null?void 0:q.targetKey)||"C minor",B=(q==null?void 0:q.originalChordProgression)||k,Y=(q==null?void 0:q.sections)||["Intro","Build-Up","Drop","Breakdown","Outro"],D={key:C,tempo:_,timeSignature:[4,4],chordProgression:B||"i-VI-III-VII",genre:o,bars:8,targetInstruments:["bassline","drums","melody","chords"],guidebookContext:`${o} remix at ${_} BPM in ${C}`,songSection:Y[0]||"Intro"};console.log("MIDI settings with remix defaults:",D);const te=await ys(D);let P="";for await(const Me of te)Me.text&&(P+=Me.text);P=P.trim();const ne=/^```(\w*)?\s*\n?(.*?)\n?\s*```$/s,ye=P.match(ne);ye&&ye[2]&&(P=ye[2].trim());const oe=JSON.parse(P);if(oe.drums){const Me={};Object.entries(oe.drums).forEach(([Re,$e])=>{Me[Re.toLowerCase()]=$e}),oe.drums=Me}console.log("Generated MIDI patterns:",oe);const Te={guide:he,targetTempo:_,targetKey:C,sections:Y,generatedMidiPatterns:oe,originalKey:q==null?void 0:q.originalKey,originalTempo:q==null?void 0:q.originalTempo,originalChordProgression:B};S(Te),console.log("RemixGuide completed successfully with streaming and dynamic MIDI defaults")}catch(J){console.error("Error generating remix guide:",J),I(J instanceof Error?J.message:"Failed to generate remix guide")}finally{g(!1)}},pe=J=>{r(J),l("")},H=async()=>{if(T){g(!0),I("");try{const J=Tv(T.guide),me={key:T.targetKey,tempo:T.targetTempo,timeSignature:[4,4],chordProgression:J||T.originalChordProgression||"i-VI-III-VII",genre:o,bars:8,targetInstruments:["bassline","drums","melody","chords"],guidebookContext:`${o} remix at ${T.targetTempo} BPM in ${T.targetKey}`,songSection:T.sections[0]||"Intro"};console.log("Regenerating MIDI with settings:",me);const fe=await ys(me);let he="";for await(const _ of fe)_.text&&(he+=_.text);he=he.trim();const q=/^```(\w*)?\s*\n?(.*?)\n?\s*```$/s,O=he.match(q);O&&O[2]&&(he=O[2].trim()),console.log("Raw regenerated MIDI JSON:",he);const k=JSON.parse(he);if(k.drums){const _={};for(const C in k.drums)_[C.toLowerCase().replace(/\s+/g,"_")]=k.drums[C];k.drums=_}console.log("Regenerated MIDI patterns:",k),S(_=>_?{..._,generatedMidiPatterns:k}:null)}catch(J){console.error("Error regenerating MIDI patterns:",J),I(`Failed to regenerate MIDI patterns: ${J instanceof Error?J.message:"Unknown error"}`)}finally{g(!1)}}},ce=()=>{t(null),r(""),l(""),f(""),d(""),S(null),I(""),N.current&&(N.current.value="")};return y.jsxs("div",{className:"space-y-6",children:[y.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[y.jsxs(qe,{className:"p-6",children:[y.jsx("h3",{className:"text-lg font-semibold mb-4 text-white",children:"Upload Original Track"}),y.jsxs("div",{className:"border-2 border-dashed border-gray-600 rounded-lg p-8 text-center cursor-pointer hover:border-gray-500 transition-colors",onDrop:j,onDragOver:se,onClick:()=>{var J;return(J=N.current)==null?void 0:J.click()},children:[y.jsx("input",{ref:N,type:"file",accept:".wav,.mp3,audio/wav,audio/mpeg",onChange:G,className:"hidden"}),y.jsxs("div",{className:"space-y-2",children:[y.jsx("div",{className:"text-4xl",children:""}),y.jsx("div",{className:"text-white font-medium",children:e?e.name:"Upload Original Track"}),y.jsx("p",{className:"text-gray-400 text-sm",children:"or drag and drop"})]}),y.jsxs("p",{className:"text-gray-500 text-xs mt-2",children:["MP3, WAV up to ",y.jsx("span",{className:"text-orange-400",children:"100"}),"MB"]})]})]}),y.jsxs(qe,{className:"p-6",children:[y.jsx("h3",{className:"text-lg font-semibold mb-4 text-white",children:"Target Remix Genre"}),y.jsxs("div",{className:"space-y-4",children:[y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"1. Select Category"}),y.jsxs("select",{value:n,onChange:J=>pe(J.target.value),className:"w-full p-3 bg-gray-700 border border-gray-600 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-orange-500",children:[y.jsx("option",{value:"",children:"Choose a category..."}),z.map(J=>y.jsx("option",{value:J,children:J},J))]})]}),n&&y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"2. Select Genre"}),y.jsxs("select",{value:o,onChange:J=>l(J.target.value),className:"w-full p-3 bg-gray-700 border border-gray-600 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-orange-500",children:[y.jsx("option",{value:"",children:"Choose a genre..."}),R[n].map(J=>y.jsx("option",{value:J,children:J},J))]})]}),o&&y.jsx("div",{className:"text-sm text-gray-400 bg-gray-800 p-3 rounded-lg",children:(()=>{const J=bv(o);return J?` Tempo: ${J.tempoRange[0]}-${J.tempoRange[1]} BPM`:""})()})]})]})]}),y.jsxs(qe,{className:"p-6",children:[y.jsx("h3",{className:"text-lg font-semibold mb-4 text-white",children:"Production Setup (Optional)"}),y.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"DAW (Digital Audio Workstation)"}),y.jsx("input",{type:"text",value:u,onChange:J=>f(J.target.value),placeholder:"e.g., Ableton Live, Logic Pro X, FL Studio...",className:"w-full p-3 bg-gray-700 border border-gray-600 rounded-lg text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-orange-500"})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Available Plugins"}),y.jsx("input",{type:"text",value:m,onChange:J=>d(J.target.value),placeholder:"e.g., Serum, FabFilter Pro-Q 3, Valhalla VintageVerb...",className:"w-full p-3 bg-gray-700 border border-gray-600 rounded-lg text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-orange-500"})]})]}),y.jsx("p",{className:"text-xs text-gray-400 mt-2",children:"Specify your DAW and plugins to get tailored parameter recommendations in the remix guide"})]}),L&&y.jsx("div",{className:"bg-red-900/50 border border-red-500 rounded-lg p-4 text-red-200",children:L}),y.jsxs("div",{className:"flex gap-4",children:[y.jsx(je,{onClick:le,disabled:!e||!o||h,className:"flex-1",children:h?y.jsxs(y.Fragment,{children:[y.jsx(er,{size:"sm"})," Generating RemixGuide..."]}):" Generate RemixGuide"}),y.jsx(je,{onClick:ce,variant:"outline",children:"Reset"})]}),h&&E&&y.jsxs(qe,{className:"p-6",children:[y.jsxs("h3",{className:"text-xl font-bold text-white mb-4",children:[" Generating ",o," Remix Guide..."]}),y.jsx("div",{className:"bg-gray-800/50 rounded-lg p-6 max-h-[calc(100vh-8rem)] overflow-y-auto",children:y.jsx(cs,{content:E})})]}),T&&y.jsxs("div",{className:"space-y-6",children:[y.jsxs(qe,{className:"p-6",children:[y.jsxs("div",{className:"flex justify-between items-center mb-4",children:[y.jsxs("h3",{className:"text-xl font-bold text-white",children:[" ",o," Remix Guide"]}),y.jsxs("div",{className:"text-sm text-gray-400",children:["Target: ",T.targetTempo," BPM  ",T.targetKey]})]}),y.jsx("div",{className:"bg-gray-800/50 rounded-lg p-6 max-h-[calc(100vh-8rem)] overflow-y-auto",children:y.jsx(cs,{content:T.guide})})]}),y.jsxs(qe,{className:"p-6",children:[y.jsxs("div",{className:"flex justify-between items-center mb-6",children:[y.jsx("h3",{className:"text-xl font-bold text-white",children:" MIDI Remix Patterns"}),y.jsx(je,{onClick:H,disabled:h,variant:"outline",className:"text-sm",children:h?y.jsxs(y.Fragment,{children:[y.jsx(er,{size:"sm"})," Regenerating..."]}):" Regenerate MIDI"})]}),T.generatedMidiPatterns?y.jsx(mb,{sections:T.sections,targetTempo:T.targetTempo,targetKey:T.targetKey,isRemixMode:!0,currentGuidebookEntry:{id:`remix-${Date.now()}`,title:`${o} Remix`,genre:[o],artistReference:"Remix Guide",vibe:[o],daw:u||"Not specified",plugins:m||"Not specified",availableInstruments:"Remix instruments",content:T.guide,createdAt:new Date().toISOString(),generatedMidiPatterns:T.generatedMidiPatterns}},`remix-${o}-${Date.now()}`):y.jsx("div",{className:"text-center py-8",children:y.jsx("div",{className:"text-gray-400 mb-4",children:h?y.jsxs(y.Fragment,{children:[y.jsx(er,{size:"lg"}),y.jsx("p",{className:"mt-4",children:"Generating MIDI patterns..."})]}):y.jsxs(y.Fragment,{children:[y.jsx("div",{className:"text-4xl mb-2",children:""}),y.jsx("p",{children:"MIDI patterns will appear here after generation"}),y.jsx("p",{className:"text-sm mt-2",children:'Click "Regenerate MIDI" to generate patterns'})]})})})]})]}),!T&&y.jsx(qe,{className:"p-6 bg-gray-800/30",children:y.jsxs("div",{className:"text-center space-y-4",children:[y.jsx("div",{className:"text-6xl",children:""}),y.jsx("h3",{className:"text-xl font-bold text-white",children:"Transform Your Track"}),y.jsx("p",{className:"text-gray-400 max-w-2xl mx-auto",children:"Upload your original track and select a target genre. Our AI will analyze the harmonic progression, melodies, and rhythmic elements, then generate a comprehensive remix guide with genre-appropriate MIDI patterns for basslines, drums, melodies, and textures."})]})})]})},Sv=[{frequency:"20-30 Hz",category:"sub",min:20,max:30,description:"Extreme sub-bass rumble. Rarely useful except for cinematic or sub-heavy genres.",action:"cut",instruments:["Kick drum","Sub bass","808s","Synth bass"]},{frequency:"30-50 Hz",category:"sub",min:30,max:50,description:"Deep low-end power. Adds weight, but too much = flabbiness.",action:"boost",instruments:["Kick drum","Sub bass","Bass guitar","808s"]},{frequency:"50-60 Hz",category:"sub",min:50,max:60,description:'Bass punch and fullness. Defines the "bottom" of mix.',action:"boost",instruments:["Kick drum","Bass guitar","Sub bass","Synths"]},{frequency:"60-100 Hz",category:"bass",min:60,max:100,description:"Bass body and tone. Core of bass instruments. Too much = boom.",action:"boost",instruments:["Bass guitar","Kick drum","Synth bass","Cello"]},{frequency:"100-160 Hz",category:"bass",min:100,max:160,description:"Low warmth. Helps glue bass + low mids. Overdone = muddiness.",action:"cut",instruments:["Bass guitar","Piano","Guitar","Vocals","Drums"]},{frequency:"160-250 Hz",category:"bass",min:160,max:250,description:"Upper bass/low mid overlap. Often cut to clean mud.",action:"cut",instruments:["Bass guitar","Vocals","Strings","Brass"]},{frequency:"250-350 Hz",category:"low-mid",min:250,max:350,description:"Boxiness / wool. Can cloud guitars & vocals.",action:"cut",instruments:["Vocals","Guitar","Piano","Snare"]},{frequency:"350-500 Hz",category:"low-mid",min:350,max:500,description:"Warmth vs. mud. Boost for body, cut for clarity.",action:"cut",instruments:["Vocals","Snare","Guitar","Keys"]},{frequency:"500-800 Hz",category:"mid",min:500,max:800,description:"Core midrange  thickness and presence. Often cluttered.",action:"cut",instruments:["Vocals","Guitar","Snare","Keys"]},{frequency:"800 Hz - 1.5 kHz",category:"mid",min:800,max:1500,description:"Body and clarity. Essential for definition.",action:"boost",instruments:["Vocals","Guitar","Piano","Snare"]},{frequency:"1.5-2 kHz",category:"mid",min:1500,max:2e3,description:"Presence and attack. Boost for definition.",action:"boost",instruments:["Vocals","Snare","Guitar"]},{frequency:"2-3 kHz",category:"high-mid",min:2e3,max:3e3,description:"Vocal clarity and edge. Boost carefully.",action:"boost",instruments:["Vocals","Snare","Guitar","Piano"]},{frequency:"3-5 kHz",category:"high-mid",min:3e3,max:5e3,description:"Presence, bite, intelligibility. Too much = harsh.",action:"cut",instruments:["Vocals","Snare","Cymbals"]},{frequency:"5-8 kHz",category:"presence",min:5e3,max:8e3,description:"Detail and sparkle. Brings life, but sibilant if overdone.",action:"boost",instruments:["Vocals","Hi-hats","Acoustic guitar","Cymbals"]},{frequency:"8-12 kHz",category:"air",min:8e3,max:12e3,description:"Air and openness. Adds space.",action:"boost",instruments:["Vocals","Strings","Cymbals","Room mics"]},{frequency:"12-20 kHz",category:"air",min:12e3,max:2e4,description:"Extreme highs. Use for shimmer.",action:"boost",instruments:["Cymbals","Room mics","Vocals"]},{frequency:"80-200 Hz",category:"bass",min:80,max:200,description:"Cut gently to reduce muddiness and low-end buildup.",action:"cut",instruments:["Male vocals"]},{frequency:"200-400 Hz",category:"low-mid",min:200,max:400,description:"Boost lightly for body, cut if vocals sound boxy.",action:"boost",instruments:["Male vocals"]},{frequency:"1-2 kHz",category:"mid",min:1e3,max:2e3,description:"Boost for presence and clarity, helping vocals cut through the mix.",action:"boost",instruments:["Male vocals"]},{frequency:"4-6 kHz",category:"high-mid",min:4e3,max:6e3,description:"Boost for air and articulation, but watch out for harshness.",action:"boost",instruments:["Male vocals"]},{frequency:"100-250 Hz",category:"bass",min:100,max:250,description:"Cut to reduce any muddiness. Female vocals rarely need low-end boosting.",action:"cut",instruments:["Female vocals"]},{frequency:"400-800 Hz",category:"mid",min:400,max:800,description:"Boost for warmth and body, but cut if vocals sound boxy.",action:"boost",instruments:["Female vocals"]},{frequency:"2-4 kHz",category:"high-mid",min:2e3,max:4e3,description:"Boost for presence, articulation, and forward vocals.",action:"boost",instruments:["Female vocals"]},{frequency:"7-10 kHz",category:"presence",min:7e3,max:1e4,description:"Boost for air and breathiness, cut if sibilant (ess sounds).",action:"boost",instruments:["Female vocals"]},{frequency:"7-10 kHz",category:"presence",min:7e3,max:1e4,description:"Cut to control sibilance if vocals are too essy.",action:"cut",instruments:["Female vocals"]},{frequency:"200-400 Hz",category:"low-mid",min:200,max:400,description:"Boost for warmth, fullness.",action:"boost",instruments:["Saxophone"]},{frequency:"1-2 kHz",category:"mid",min:1e3,max:2e3,description:"Boost for body and presence.",action:"boost",instruments:["Saxophone"]},{frequency:"3-5 kHz",category:"high-mid",min:3e3,max:5e3,description:"Cut to tame harshness or reed noise.",action:"cut",instruments:["Saxophone"]},{frequency:"8-12 kHz",category:"air",min:8e3,max:12e3,description:"Boost for air and shine.",action:"boost",instruments:["Saxophone"]}],Cv=[{id:"all",label:"All Frequencies",color:"bg-gray-600"},{id:"sub",label:"Sub Bass (20-60Hz)",color:"bg-red-600"},{id:"bass",label:"Bass (60-250Hz)",color:"bg-orange-600"},{id:"low-mid",label:"Low Mids (250-500Hz)",color:"bg-yellow-600"},{id:"mid",label:"Mids (500-2kHz)",color:"bg-green-600"},{id:"high-mid",label:"High Mids (2-6kHz)",color:"bg-blue-600"},{id:"presence",label:"Presence (6-12kHz)",color:"bg-indigo-600"},{id:"air",label:"Air (12kHz+)",color:"bg-purple-600"}];function MP({min:e,max:t}){const n=100*(Math.log10(e)-Math.log10(20))/(Math.log10(2e4)-Math.log10(20)),r=100*(Math.log10(t)-Math.log10(20))/(Math.log10(2e4)-Math.log10(20));return y.jsx("div",{className:"relative h-2 w-full bg-gray-900 rounded-full my-2",children:y.jsx("div",{className:"absolute h-2 rounded-full bg-orange-500 transition-all",style:{left:`${n}%`,width:`${Math.max(r-n,3)}%`}})})}const EP=()=>{const[e,t]=ae.useState("All"),[n,r]=ae.useState("all"),o=Sv.filter(u=>{const f=n==="all"||u.category===n,m=e==="All"||u.instruments.includes(e);return f&&(e==="All"?!0:m)}),l=u=>Sv.filter(f=>f.frequency===u.frequency&&f.category===u.category&&f.action===u.action).flatMap(f=>f.instruments).filter((f,m,d)=>d.indexOf(f)===m);return y.jsxs("div",{className:"max-w-4xl mx-auto w-full py-8 px-4 md:px-0",children:[y.jsxs("div",{className:"flex flex-wrap gap-6 mb-6 items-end",children:[y.jsxs("div",{className:"flex-1 min-w-[180px]",children:[y.jsx("label",{className:"block text-xs font-bold text-gray-400 mb-1",children:"Instrument"}),y.jsxs("select",{value:e,onChange:u=>t(u.target.value),className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-md text-gray-100",children:[y.jsx("option",{disabled:!0,children:"Vocals"}),y.jsx("option",{value:"Vocals",children:"Vocals (general)"}),y.jsx("option",{value:"Male vocals",children:"Male vocals"}),y.jsx("option",{value:"Female vocals",children:"Female vocals"}),y.jsx("option",{disabled:!0,children:"Rhythm Section"}),y.jsx("option",{value:"Kick drum",children:"Kick drum"}),y.jsx("option",{value:"Snare",children:"Snare"}),y.jsx("option",{value:"Bass guitar",children:"Bass guitar"}),y.jsx("option",{value:"808s",children:"808s"}),y.jsx("option",{value:"Sub bass",children:"Sub bass"}),y.jsx("option",{value:"Synth bass",children:"Synth bass"}),y.jsx("option",{value:"Drums",children:"Drums"}),y.jsx("option",{disabled:!0,children:"Other Instruments"}),y.jsx("option",{value:"Guitar",children:"Guitar"}),y.jsx("option",{value:"Acoustic guitar",children:"Acoustic guitar"}),y.jsx("option",{value:"Piano",children:"Piano"}),y.jsx("option",{value:"Cymbals",children:"Cymbals"}),y.jsx("option",{value:"Hi-hats",children:"Hi-hats"}),y.jsx("option",{value:"Horns",children:"Horns"}),y.jsx("option",{value:"Strings",children:"Strings"}),y.jsx("option",{value:"Room mics",children:"Room mics"}),y.jsx("option",{value:"Violin",children:"Violin"}),y.jsx("option",{value:"Cello",children:"Cello"}),y.jsx("option",{value:"Tuba",children:"Tuba"}),y.jsx("option",{value:"Saxophone",children:"Saxophone"}),y.jsx("option",{value:"Trumpet",children:"Trumpet"}),y.jsx("option",{value:"Brass",children:"Brass"}),y.jsx("option",{value:"Woodwinds",children:"Woodwinds"}),y.jsx("option",{value:"Flute",children:"Flute"}),y.jsx("option",{disabled:!0,children:"All/General"}),y.jsx("option",{value:"All",children:"All Instruments"})]})]}),y.jsxs("div",{className:"flex-1 min-w-[180px]",children:[y.jsx("label",{className:"block text-xs font-bold text-gray-400 mb-1",children:"Frequency Range"}),y.jsx("select",{value:n,onChange:u=>r(u.target.value),className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-md text-gray-100",children:Cv.map(u=>y.jsx("option",{value:u.id,children:u.label},u.id))})]})]}),y.jsx("div",{className:"space-y-4",children:o.length===0?y.jsx(qe,{className:"bg-gray-700/80 text-center py-16",children:y.jsxs("p",{className:"text-gray-300 text-lg",children:["No EQ data matches your current filters.",y.jsx("br",{}),"Try another instrument or frequency zone."]})}):o.map((u,f)=>{var m;return y.jsx(qe,{className:"bg-gray-800/80",children:y.jsxs("div",{className:"flex flex-col gap-2",children:[y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsx("span",{className:"text-lg font-bold text-white",children:u.frequency}),y.jsx("span",{className:`text-xs font-bold rounded-full px-2 py-1 ${((m=Cv.find(d=>d.id===u.category))==null?void 0:m.color)||"bg-gray-600"} text-white`,children:u.category.replace("-"," ").toUpperCase()}),y.jsx("span",{className:`ml-2 text-sm font-medium ${u.action==="boost"?"text-green-400":u.action==="cut"?"text-red-400":"text-yellow-400"}`,children:u.action==="boost"?" BOOST":u.action==="cut"?" CUT":"NOTCH"})]}),y.jsx(MP,{min:u.min,max:u.max}),y.jsx("p",{className:"text-gray-300",children:u.description}),y.jsxs("div",{className:"flex flex-wrap gap-1 items-center",children:[y.jsx("span",{className:"text-xs font-bold text-gray-400 mr-1",children:"Applies to:"}),l(u).map(d=>y.jsx("span",{className:"bg-gray-700 text-orange-200 rounded px-2 py-1 text-xs font-medium",children:d},d))]})]})},f)})}),y.jsx("div",{className:"text-xs text-gray-500 mt-8 text-center px-2",children:"Tip: These are general guidelinestrust your ears and reference pro mixes for your genre."})]})},Mv=({attack:e,decay:t,sustain:n,release:r,width:o=400,height:l=150})=>{const u=Math.max(0,Math.min(1,e)),f=Math.max(0,Math.min(1,t)),m=Math.max(0,Math.min(1,n)),d=Math.max(0,Math.min(1,r)),h=u+f+.3+d,g=u/h*o*.8,T=f/h*o*.8,S=.3/h*o*.8,E=d/h*o*.8,A=l*.9,L=l*.1,I=L+(1-m)*(A-L),N=o*.1;let R=N;const z=[`M ${R} ${A}`],G=R+g*.5,j=A-(A-L)*.1;z.push(`C ${G} ${j}, ${R+g*.8} ${L+10}, ${R+g} ${L}`),R+=g;const se=R+T*.3,le=L+(I-L)*.2;z.push(`C ${se} ${le}, ${R+T*.7} ${I-5}, ${R+T} ${I}`),R+=T,z.push(`L ${R+S} ${I}`),R+=S;const pe=R+E*.7,H=I+(A-I)*.8;z.push(`C ${R+E*.3} ${I+5}, ${pe} ${H}, ${R+E} ${A}`);const ce=z.join(" ");return y.jsxs("svg",{width:o,height:l,className:"w-full h-auto",children:[y.jsx("rect",{width:"100%",height:"100%",fill:"#1f2937",rx:"4",ry:"4"}),y.jsx("line",{x1:"0",y1:A,x2:o,y2:A,stroke:"#4b5563",strokeWidth:"1",strokeDasharray:"4,4"}),y.jsx("line",{x1:"0",y1:L,x2:o,y2:L,stroke:"#4b5563",strokeWidth:"1",strokeDasharray:"4,4"}),y.jsx("line",{x1:"0",y1:I,x2:o,y2:I,stroke:"#4b5563",strokeWidth:"1",strokeDasharray:"4,4"}),y.jsx("path",{d:ce,fill:"none",stroke:"#f97316",strokeWidth:"3",strokeLinecap:"round",strokeLinejoin:"round"}),y.jsx("line",{x1:N+g,y1:L-5,x2:N+g,y2:A+5,stroke:"#6b7280",strokeWidth:"1",strokeDasharray:"4,4"}),y.jsx("line",{x1:N+g+T,y1:L-5,x2:N+g+T,y2:A+5,stroke:"#6b7280",strokeWidth:"1",strokeDasharray:"4,4"}),y.jsx("line",{x1:N+g+T+S,y1:L-5,x2:N+g+T+S,y2:A+5,stroke:"#6b7280",strokeWidth:"1",strokeDasharray:"4,4"}),y.jsx("text",{x:N+g/2,y:l-5,textAnchor:"middle",fill:"#d1d5db",fontSize:"10",children:"A"}),y.jsx("text",{x:N+g+T/2,y:l-5,textAnchor:"middle",fill:"#d1d5db",fontSize:"10",children:"D"}),y.jsx("text",{x:N+g+T+S/2,y:l-5,textAnchor:"middle",fill:"#d1d5db",fontSize:"10",children:"S"}),y.jsx("text",{x:N+g+T+S+E/2,y:l-5,textAnchor:"middle",fill:"#d1d5db",fontSize:"10",children:"R"}),y.jsx("text",{x:"5",y:L+15,fill:"#d1d5db",fontSize:"10",children:"1.0"}),y.jsx("text",{x:"5",y:I+15,fill:"#d1d5db",fontSize:"10",children:m.toFixed(1)}),y.jsx("text",{x:"5",y:A-5,fill:"#d1d5db",fontSize:"10",children:"0.0"}),y.jsxs("text",{x:o-5,y:15,textAnchor:"end",fill:"#d1d5db",fontSize:"10",children:["A: ",u.toFixed(2)," D: ",f.toFixed(2)," S: ",m.toFixed(2)," R: ",d.toFixed(2)]})]})},AP={name:"Xfer Serum",oscillators:[{id:"1",name:"Osc 1",type:"Analog",params:["Waveform","Octave","Coarse","Fine","Level"]},{id:"2",name:"Osc 2",type:"Analog",params:["Waveform","Octave","Coarse","Fine","Level"]},{id:"3",name:"Sub Osc",type:"Analog",params:["Octave","Level"]}],filters:[{name:"Filter",types:["Lowpass","Highpass","Bandpass","Comb","Notch","Peak","Formant","Phaser"],defaultType:"Lowpass",parameters:["Cutoff","Resonance","Drive","Pan","Mix"]}],modSources:[{name:"Env 1",type:"Envelope"},{name:"Env 2",type:"Envelope"},{name:"Env 3",type:"Envelope"},{name:"LFO 1",type:"LFO"},{name:"LFO 2",type:"LFO"},{name:"LFO 3",type:"LFO"},{name:"LFO 4",type:"LFO"},{name:"Macro 1",type:"Macro"},{name:"Macro 2",type:"Macro"},{name:"Macro 3",type:"Macro"},{name:"Macro 4",type:"Macro"},{name:"Velocity",type:"MIDI"},{name:"Mod Wheel",type:"MIDI"},{name:"Aftertouch",type:"MIDI"},{name:"Pitch Bend",type:"MIDI"},{name:"Chaos 1",type:"Random"},{name:"Chaos 2",type:"Random"},{name:"Noise OSC",type:"Audio"},{name:"Fixed",type:"Constant"}],modDestinations:[{section:"Oscillator",params:["Wavetable Position","Warp Depth","Coarse","Fine","Level","Pan"]},{section:"Filter",params:["Cutoff","Resonance","Drive","Pan","Mix"]},{section:"Envelope",params:["Attack","Decay","Sustain","Release"]},{section:"LFO",params:["Rate","Shape","Delay"]},{section:"FX",params:["Mix","Depth","Feedback","Time","Tone"]},{section:"Global",params:["Master Tune","Master Level"]}],effects:[{name:"Hyper/Dimension",modulatable:!0,parameters:[{name:"Size",unit:"%",range:[0,100],type:"float"},{name:"Detune",unit:"%",range:[0,100],type:"float"},{name:"Mix",unit:"%",range:[0,100],type:"float"}]},{name:"Distortion",modulatable:!0,parameters:[{name:"Drive",unit:"%",range:[0,100],type:"float"},{name:"Tone",unit:"Hz",range:[500,2e4],type:"float"},{name:"Mix",unit:"%",range:[0,100],type:"float"},{name:"Level",unit:"dB",range:[-12,12],type:"float"},{name:"Type",type:"enum",options:["SoftClip","HardClip","Tube","Fuzz"]}]},{name:"Compressor",modulatable:!0,parameters:[{name:"Threshold",unit:"dB",range:[-60,0],type:"float"},{name:"Ratio",unit:":",range:[1,20],type:"float"},{name:"Attack",unit:"ms",range:[.1,100],type:"float"},{name:"Release",unit:"ms",range:[10,2e3],type:"float"},{name:"Knee",unit:"dB",range:[0,12],type:"float"},{name:"MakeupGain",unit:"dB",range:[0,20],type:"float"},{name:"Mix",unit:"%",range:[0,100],type:"float"}]},{name:"Chorus",modulatable:!0,parameters:[{name:"Rate",unit:"Hz",range:[.1,10],type:"float"},{name:"Depth",unit:"%",range:[0,100],type:"float"},{name:"Delay",unit:"ms",range:[1,30],type:"float"},{name:"Feedback",unit:"%",range:[0,95],type:"float"},{name:"Mix",unit:"%",range:[0,100],type:"float"}]},{name:"Phaser",modulatable:!0,parameters:[{name:"Rate",unit:"Hz",range:[.1,5],type:"float"},{name:"Depth",unit:"%",range:[0,100],type:"float"},{name:"Feedback",unit:"%",range:[0,95],type:"float"},{name:"Stages",unit:"",range:[2,12],type:"int"},{name:"Center",unit:"Hz",range:[100,2e3],type:"float"},{name:"Mix",unit:"%",range:[0,100],type:"float"}]},{name:"Flanger",modulatable:!0,parameters:[{name:"Rate",unit:"Hz",range:[.1,5],type:"float"},{name:"Depth",unit:"%",range:[0,100],type:"float"},{name:"Manual",unit:"ms",range:[0,10],type:"float"},{name:"Feedback",unit:"%",range:[0,99],type:"float"},{name:"Phase",unit:"",range:[0,180],type:"float"},{name:"Mix",unit:"%",range:[0,100],type:"float"},{name:"LFOShape",type:"enum",options:["Sine","Triangle","Saw"]}]},{name:"EQ",modulatable:!0,parameters:[{name:"LowFreq",unit:"Hz",range:[20,500],type:"float"},{name:"LowGain",unit:"dB",range:[-12,12],type:"float"},{name:"MidFreq",unit:"Hz",range:[200,5e3],type:"float"},{name:"MidGain",unit:"dB",range:[-12,12],type:"float"},{name:"MidQ",unit:"",range:[.5,10],type:"float"},{name:"HighFreq",unit:"Hz",range:[1e3,2e4],type:"float"},{name:"HighGain",unit:"dB",range:[-12,12],type:"float"},{name:"Type",type:"enum",options:["LowShelf","Peaking","HighShelf"]}]},{name:"Reverb",modulatable:!0,parameters:[{name:"Decay",unit:"s",range:[.1,10],type:"float"},{name:"PreDelay",unit:"ms",range:[0,200],type:"float"},{name:"Damping",unit:"%",range:[0,100],type:"float"},{name:"Size",unit:"%",range:[0,100],type:"float"},{name:"HighCut",unit:"Hz",range:[500,2e4],type:"float"},{name:"LowCut",unit:"Hz",range:[20,1e3],type:"float"},{name:"Mix",unit:"%",range:[0,100],type:"float"},{name:"Type",type:"enum",options:["Room","Hall","Plate","Spring"]}]},{name:"Delay",modulatable:!0,parameters:[{name:"Time",unit:"ms",range:[1,5e3],type:"float"},{name:"Feedback",unit:"%",range:[0,100],type:"float"},{name:"Mix",unit:"%",range:[0,100],type:"float"},{name:"Sync",type:"boolean"},{name:"PingPong",type:"boolean"},{name:"Tone",unit:"Hz",range:[20,2e4],type:"float"}]},{name:"Filter (FX)",modulatable:!0,parameters:["Cutoff","Resonance","Drive","Mix"]}]},wP={name:"Vital",oscillators:[{id:"1",name:"Osc 1",type:"Analog",params:["Waveform","Octave","Coarse","Fine","Level"]},{id:"2",name:"Osc 2",type:"Analog",params:["Waveform","Octave","Coarse","Fine","Level"]},{id:"3",name:"Sub Osc",type:"Analog",params:["Octave","Level"]}],filters:[{name:"Filter",types:["Ladder","Analog","Digital","Formant","Comb","Phaser"],defaultType:"Ladder",parameters:["Cutoff","Resonance","Drive","Blend","Keytrack"]}],modSources:[{name:"Env 1",type:"Envelope"},{name:"Env 2",type:"Envelope"},{name:"Env 3",type:"Envelope"},{name:"LFO 1",type:"LFO"},{name:"LFO 2",type:"LFO"},{name:"LFO 3",type:"LFO"},{name:"LFO 4",type:"LFO"},{name:"Random 1",type:"Random"},{name:"Random 2",type:"Random"},{name:"Random 3",type:"Random"},{name:"Random 4",type:"Random"},{name:"Macro 1",type:"Macro"},{name:"Macro 2",type:"Macro"},{name:"Macro 3",type:"Macro"},{name:"Macro 4",type:"Macro"},{name:"Velocity",type:"MIDI"},{name:"Mod Wheel",type:"MIDI"},{name:"Aftertouch",type:"MIDI"},{name:"Pitch Bend",type:"MIDI"},{name:"MPE Slide",type:"MPE"}],modDestinations:[{section:"Oscillator",params:["Wavetable Position","Spectral Warp","Level","Pan","Phase","Detune","Unison"]},{section:"Filter",params:["Cutoff","Resonance","Drive","Blend"]},{section:"Envelope",params:["Attack","Decay","Sustain","Release"]},{section:"LFO",params:["Rate","Shape","Phase"]},{section:"FX",params:["Mix","Feedback","Time","Tone"]},{section:"Global",params:["Master Tune","Master Level"]}],effects:[{name:"Chorus",modulatable:!0,parameters:[{name:"Rate",unit:"Hz",range:[.1,10],type:"float"},{name:"Depth",unit:"%",range:[0,100],type:"float"},{name:"Delay",unit:"ms",range:[1,30],type:"float"},{name:"Feedback",unit:"%",range:[0,95],type:"float"},{name:"Mix",unit:"%",range:[0,100],type:"float"}]},{name:"Phaser",modulatable:!0,parameters:[{name:"Rate",unit:"Hz",range:[.1,5],type:"float"},{name:"Depth",unit:"%",range:[0,100],type:"float"},{name:"Feedback",unit:"%",range:[0,95],type:"float"},{name:"Stages",unit:"",range:[2,12],type:"int"},{name:"Center",unit:"Hz",range:[100,2e3],type:"float"},{name:"Mix",unit:"%",range:[0,100],type:"float"}]},{name:"Distortion",modulatable:!0,parameters:[{name:"Drive",unit:"%",range:[0,100],type:"float"},{name:"Tone",unit:"Hz",range:[500,2e4],type:"float"},{name:"Mix",unit:"%",range:[0,100],type:"float"},{name:"Level",unit:"dB",range:[-12,12],type:"float"},{name:"Type",type:"enum",options:["SoftClip","HardClip","Tube","Fuzz"]}]},{name:"Compressor",modulatable:!0,parameters:[{name:"Threshold",unit:"dB",range:[-60,0],type:"float"},{name:"Ratio",unit:":",range:[1,20],type:"float"},{name:"Attack",unit:"ms",range:[.1,100],type:"float"},{name:"Release",unit:"ms",range:[10,2e3],type:"float"},{name:"Knee",unit:"dB",range:[0,12],type:"float"},{name:"MakeupGain",unit:"dB",range:[0,20],type:"float"},{name:"Mix",unit:"%",range:[0,100],type:"float"}]},{name:"EQ",modulatable:!0,parameters:[{name:"LowFreq",unit:"Hz",range:[20,500],type:"float"},{name:"LowGain",unit:"dB",range:[-12,12],type:"float"},{name:"MidFreq",unit:"Hz",range:[200,5e3],type:"float"},{name:"MidGain",unit:"dB",range:[-12,12],type:"float"},{name:"MidQ",unit:"",range:[.5,10],type:"float"},{name:"HighFreq",unit:"Hz",range:[1e3,2e4],type:"float"},{name:"HighGain",unit:"dB",range:[-12,12],type:"float"},{name:"Type",type:"enum",options:["LowShelf","Peaking","HighShelf"]}]},{name:"Reverb",modulatable:!0,parameters:[{name:"Decay",unit:"s",range:[.1,10],type:"float"},{name:"PreDelay",unit:"ms",range:[0,200],type:"float"},{name:"Damping",unit:"%",range:[0,100],type:"float"},{name:"Size",unit:"%",range:[0,100],type:"float"},{name:"HighCut",unit:"Hz",range:[500,2e4],type:"float"},{name:"LowCut",unit:"Hz",range:[20,1e3],type:"float"},{name:"Mix",unit:"%",range:[0,100],type:"float"},{name:"Type",type:"enum",options:["Room","Hall","Plate","Spring"]}]},{name:"Delay",modulatable:!0,parameters:[{name:"Time",unit:"ms",range:[1,5e3],type:"float"},{name:"Feedback",unit:"%",range:[0,100],type:"float"},{name:"Mix",unit:"%",range:[0,100],type:"float"},{name:"Sync",type:"boolean"},{name:"PingPong",type:"boolean"},{name:"Tone",unit:"Hz",range:[20,2e4],type:"float"}]},{name:"Filter (FX)",modulatable:!0,parameters:["Cutoff","Resonance","Drive","Mix"]}]},DP={name:"Pigments",oscillators:[{id:"1",name:"Osc 1",type:"Analog",params:["Waveform","Octave","Coarse","Fine","Level"]},{id:"2",name:"Osc 2",type:"Analog",params:["Waveform","Octave","Coarse","Fine","Level"]},{id:"3",name:"Sub Osc",type:"Analog",params:["Octave","Level"]}],filters:[{name:"Filter",types:["Ladder","SEM","Jupiter","Formant","Comb","Phaser","Notch"],defaultType:"Ladder",parameters:["Cutoff","Resonance","Drive","Blend","Mode","Keytrack"]}],modSources:[{name:"Env 1 (Amp)",type:"Envelope"},{name:"Env 2",type:"Envelope"},{name:"Env 3",type:"Envelope"},{name:"Env 4",type:"Envelope"},{name:"LFO 1",type:"LFO"},{name:"LFO 2",type:"LFO"},{name:"LFO 3",type:"LFO"},{name:"Function 1",type:"Function"},{name:"Function 2",type:"Function"},{name:"Function 3",type:"Function"},{name:"Macro 1",type:"Macro"},{name:"Macro 2",type:"Macro"},{name:"Macro 3",type:"Macro"},{name:"Macro 4",type:"Macro"},{name:"Random",type:"Random"},{name:"Velocity",type:"MIDI"},{name:"Aftertouch",type:"MIDI"},{name:"Mod Wheel",type:"MIDI"},{name:"Pitch Bend",type:"MIDI"},{name:"Keytrack",type:"MIDI"}],modDestinations:[{section:"Oscillator",params:["Wavetable Position","Analog Shape","Sample Start","Level","Pan","FM Amount"]},{section:"Filter",params:["Cutoff","Resonance","Drive","Blend"]},{section:"Envelope",params:["Attack","Decay","Sustain","Release"]},{section:"LFO",params:["Rate","Shape","Fade In"]},{section:"FX",params:["Mix","Feedback","Time","Tone"]},{section:"Global",params:["Master Tune","Master Level"]}],effects:[{name:"Chorus",modulatable:!0,parameters:[{name:"Rate",unit:"Hz",range:[.1,10],type:"float"},{name:"Depth",unit:"%",range:[0,100],type:"float"},{name:"Delay",unit:"ms",range:[1,30],type:"float"},{name:"Feedback",unit:"%",range:[0,95],type:"float"},{name:"Mix",unit:"%",range:[0,100],type:"float"}]},{name:"Phaser",modulatable:!0,parameters:[{name:"Rate",unit:"Hz",range:[.1,5],type:"float"},{name:"Depth",unit:"%",range:[0,100],type:"float"},{name:"Feedback",unit:"%",range:[0,95],type:"float"},{name:"Stages",unit:"",range:[2,12],type:"int"},{name:"Center",unit:"Hz",range:[100,2e3],type:"float"},{name:"Mix",unit:"%",range:[0,100],type:"float"}]},{name:"Distortion",modulatable:!0,parameters:[{name:"Drive",unit:"%",range:[0,100],type:"float"},{name:"Tone",unit:"Hz",range:[500,2e4],type:"float"},{name:"Mix",unit:"%",range:[0,100],type:"float"},{name:"Level",unit:"dB",range:[-12,12],type:"float"},{name:"Type",type:"enum",options:["SoftClip","HardClip","Tube","Fuzz"]}]},{name:"Compressor",modulatable:!0,parameters:[{name:"Threshold",unit:"dB",range:[-60,0],type:"float"},{name:"Ratio",unit:":",range:[1,20],type:"float"},{name:"Attack",unit:"ms",range:[.1,100],type:"float"},{name:"Release",unit:"ms",range:[10,2e3],type:"float"},{name:"Knee",unit:"dB",range:[0,12],type:"float"},{name:"MakeupGain",unit:"dB",range:[0,20],type:"float"},{name:"Mix",unit:"%",range:[0,100],type:"float"}]},{name:"EQ",modulatable:!0,parameters:[{name:"LowFreq",unit:"Hz",range:[20,500],type:"float"},{name:"LowGain",unit:"dB",range:[-12,12],type:"float"},{name:"MidFreq",unit:"Hz",range:[200,5e3],type:"float"},{name:"MidGain",unit:"dB",range:[-12,12],type:"float"},{name:"MidQ",unit:"",range:[.5,10],type:"float"},{name:"HighFreq",unit:"Hz",range:[1e3,2e4],type:"float"},{name:"HighGain",unit:"dB",range:[-12,12],type:"float"},{name:"Type",type:"enum",options:["LowShelf","Peaking","HighShelf"]}]},{name:"Reverb",modulatable:!0,parameters:[{name:"Decay",unit:"s",range:[.1,10],type:"float"},{name:"PreDelay",unit:"ms",range:[0,200],type:"float"},{name:"Damping",unit:"%",range:[0,100],type:"float"},{name:"Size",unit:"%",range:[0,100],type:"float"},{name:"HighCut",unit:"Hz",range:[500,2e4],type:"float"},{name:"LowCut",unit:"Hz",range:[20,1e3],type:"float"},{name:"Mix",unit:"%",range:[0,100],type:"float"},{name:"Type",type:"enum",options:["Room","Hall","Plate","Spring"]}]},{name:"Delay",modulatable:!0,parameters:[{name:"Time",unit:"ms",range:[1,5e3],type:"float"},{name:"Feedback",unit:"%",range:[0,100],type:"float"},{name:"Mix",unit:"%",range:[0,100],type:"float"},{name:"Sync",type:"boolean"},{name:"PingPong",type:"boolean"},{name:"Tone",unit:"Hz",range:[20,2e4],type:"float"}]},{name:"Filter (FX)",modulatable:!0,parameters:["Cutoff","Resonance","Drive","Mix"]}]},IP={name:"Diva",oscillators:[{id:"1",name:"Osc 1",type:"Analog",params:["Waveform","Octave","Coarse","Fine","Level"]},{id:"2",name:"Osc 2",type:"Analog",params:["Waveform","Octave","Coarse","Fine","Level"]},{id:"3",name:"Sub Osc",type:"Analog",params:["Octave","Level"]}],filters:[{name:"Filter",types:["Moog Ladder","Roland","Korg MS20","HP","BP"],defaultType:"Moog Ladder",parameters:["Cutoff","Resonance","Drive","Keytrack"]}],modSources:[{name:"Env 1 (Amp)",type:"Envelope"},{name:"Env 2 (Filter)",type:"Envelope"},{name:"LFO 1",type:"LFO"},{name:"LFO 2",type:"LFO"},{name:"Velocity",type:"MIDI"},{name:"Mod Wheel",type:"MIDI"},{name:"Aftertouch",type:"MIDI"},{name:"Keytrack",type:"MIDI"}],modDestinations:[{section:"Oscillator",params:["Pitch","Pulse Width"]},{section:"Filter",params:["Cutoff","Resonance","Drive"]},{section:"Amp",params:["Level"]}],effects:[]},kP={name:"Roland Juno-106",oscillators:[{id:"1",name:"Osc 1",type:"Analog",params:["Waveform","Octave","Coarse","Fine","Level"]},{id:"2",name:"Osc 2",type:"Analog",params:["Waveform","Octave","Coarse","Fine","Level"]},{id:"3",name:"Sub Osc",type:"Analog",params:["Octave","Level"]}],filters:[{name:"Filter",types:["Lowpass","Highpass"],defaultType:"Lowpass",parameters:["Cutoff","Resonance","ENV Amount","LFO Amount","Keytrack"]}],modSources:[{name:"ADSR Envelope",type:"Envelope"},{name:"LFO",type:"LFO"},{name:"Mod Lever",type:"Performance"},{name:"Keytrack",type:"MIDI"}],modDestinations:[{section:"Oscillator",params:["Pitch","Pulse Width"]},{section:"Filter",params:["Cutoff","Resonance"]},{section:"Amp",params:["Level"]}],effects:[{name:"Chorus",parameters:["On/Off","Mode"]}]},RP={name:"Arturia Analog Lab",oscillators:[{id:"1",name:"Osc 1",type:"Analog",params:["Waveform","Octave","Coarse","Fine","Level"]},{id:"2",name:"Osc 2",type:"Analog",params:["Waveform","Octave","Coarse","Fine","Level"]},{id:"3",name:"Sub Osc",type:"Analog",params:["Octave","Level"]}],filters:[{name:"Filter",types:["Lowpass","Highpass","Bandpass"],defaultType:"Lowpass",parameters:["Cutoff","Resonance"]}],modSources:[{name:"Macro 1 (Brightness)",type:"Macro"},{name:"Macro 2 (Timbre)",type:"Macro"},{name:"Macro 3 (Time)",type:"Macro"},{name:"Macro 4 (Movement)",type:"Macro"},{name:"Velocity",type:"MIDI"},{name:"Aftertouch",type:"MIDI"}],modDestinations:[{section:"Macros",params:["Brightness","Timbre","Time","Movement"]},{section:"Filter",params:["Cutoff","Resonance"]}],effects:[{name:"Macros (Brightness, Timbre, Time, Movement)"},{name:"Preset-dependent FX (varies by underlying synth)"}]},NP={name:"Generic Synth",oscillators:[{id:"1",name:"Osc 1",type:"Analog",params:["Waveform","Octave","Level"]}],filters:[{name:"Filter",types:["Lowpass","Highpass"],defaultType:"Lowpass",parameters:["Cutoff","Resonance"]}],modSources:[{name:"Env 1",type:"Envelope"},{name:"LFO 1",type:"LFO"}],modDestinations:[{section:"Oscillator",params:["Pitch","Level"]},{section:"Filter",params:["Cutoff","Resonance"]},{section:"Amp",params:["Level"]}],effects:[{name:"Chorus",modulatable:!0,parameters:[{name:"Rate",unit:"Hz",range:[.1,10],type:"float"},{name:"Depth",unit:"%",range:[0,100],type:"float"},{name:"Delay",unit:"ms",range:[1,30],type:"float"},{name:"Feedback",unit:"%",range:[0,95],type:"float"},{name:"Mix",unit:"%",range:[0,100],type:"float"}]},{name:"Delay",modulatable:!0,parameters:[{name:"Time",unit:"ms",range:[1,5e3],type:"float"},{name:"Feedback",unit:"%",range:[0,100],type:"float"},{name:"Mix",unit:"%",range:[0,100],type:"float"},{name:"Sync",type:"boolean"},{name:"PingPong",type:"boolean"},{name:"Tone",unit:"Hz",range:[20,2e4],type:"float"}]},{name:"Reverb",modulatable:!0,parameters:[{name:"Decay",unit:"s",range:[.1,10],type:"float"},{name:"PreDelay",unit:"ms",range:[0,200],type:"float"},{name:"Damping",unit:"%",range:[0,100],type:"float"},{name:"Size",unit:"%",range:[0,100],type:"float"},{name:"HighCut",unit:"Hz",range:[500,2e4],type:"float"},{name:"LowCut",unit:"Hz",range:[20,1e3],type:"float"},{name:"Mix",unit:"%",range:[0,100],type:"float"},{name:"Type",type:"enum",options:["Room","Hall","Plate","Spring"]}]},{name:"Filter (FX)",modulatable:!0,parameters:["Cutoff","Resonance","Drive","Mix"]}]},_P={name:"Apple Alchemy",oscillators:[{id:"1",name:"Osc 1",type:"Analog",params:["Waveform","Octave","Coarse","Fine","Level"]},{id:"2",name:"Osc 2",type:"Analog",params:["Waveform","Octave","Coarse","Fine","Level"]},{id:"3",name:"Sub Osc",type:"Analog",params:["Octave","Level"]}],filters:[{name:"Filter",types:["Lowpass","Highpass","Bandpass","Notch","Comb","Formant"],defaultType:"Lowpass",parameters:["Cutoff","Resonance","Drive","Keytrack","Mix"]}],modSources:[{name:"Env 1",type:"Envelope"},{name:"Env 2",type:"Envelope"},{name:"Env 3",type:"Envelope"},{name:"Env 4",type:"Envelope"},{name:"LFO 1",type:"LFO"},{name:"LFO 2",type:"LFO"},{name:"LFO 3",type:"LFO"},{name:"LFO 4",type:"LFO"},{name:"Keytrack",type:"MIDI"},{name:"Velocity",type:"MIDI"},{name:"Mod Wheel",type:"MIDI"},{name:"Aftertouch",type:"MIDI"},{name:"Pitch Bend",type:"MIDI"}],modDestinations:[{section:"Oscillator",params:["Pitch","Level","Pan","Wave Shape"]},{section:"Filter",params:["Cutoff","Resonance","Drive","Mix"]},{section:"Amp",params:["Level"]}],effects:[{name:"Compressor",modulatable:!0,parameters:[{name:"Threshold",unit:"dB",range:[-60,0],type:"float"},{name:"Ratio",unit:":",range:[1,20],type:"float"},{name:"Attack",unit:"ms",range:[.1,100],type:"float"},{name:"Release",unit:"ms",range:[10,2e3],type:"float"},{name:"Knee",unit:"dB",range:[0,12],type:"float"},{name:"MakeupGain",unit:"dB",range:[0,20],type:"float"},{name:"Mix",unit:"%",range:[0,100],type:"float"}]},{name:"Distortion",modulatable:!0,parameters:[{name:"Drive",unit:"%",range:[0,100],type:"float"},{name:"Tone",unit:"Hz",range:[500,2e4],type:"float"},{name:"Mix",unit:"%",range:[0,100],type:"float"},{name:"Level",unit:"dB",range:[-12,12],type:"float"},{name:"Type",type:"enum",options:["SoftClip","HardClip","Tube","Fuzz"]}]},{name:"Chorus",modulatable:!0,parameters:[{name:"Rate",unit:"Hz",range:[.1,10],type:"float"},{name:"Depth",unit:"%",range:[0,100],type:"float"},{name:"Delay",unit:"ms",range:[1,30],type:"float"},{name:"Feedback",unit:"%",range:[0,95],type:"float"},{name:"Mix",unit:"%",range:[0,100],type:"float"}]},{name:"Phaser",modulatable:!0,parameters:[{name:"Rate",unit:"Hz",range:[.1,5],type:"float"},{name:"Depth",unit:"%",range:[0,100],type:"float"},{name:"Feedback",unit:"%",range:[0,95],type:"float"},{name:"Stages",unit:"",range:[2,12],type:"int"},{name:"Center",unit:"Hz",range:[100,2e3],type:"float"},{name:"Mix",unit:"%",range:[0,100],type:"float"}]},{name:"Flanger",modulatable:!0,parameters:[{name:"Rate",unit:"Hz",range:[.1,5],type:"float"},{name:"Depth",unit:"%",range:[0,100],type:"float"},{name:"Manual",unit:"ms",range:[0,10],type:"float"},{name:"Feedback",unit:"%",range:[0,99],type:"float"},{name:"Phase",unit:"",range:[0,180],type:"float"},{name:"Mix",unit:"%",range:[0,100],type:"float"},{name:"LFOShape",type:"enum",options:["Sine","Triangle","Saw"]}]},{name:"EQ",modulatable:!0,parameters:[{name:"LowFreq",unit:"Hz",range:[20,500],type:"float"},{name:"LowGain",unit:"dB",range:[-12,12],type:"float"},{name:"MidFreq",unit:"Hz",range:[200,5e3],type:"float"},{name:"MidGain",unit:"dB",range:[-12,12],type:"float"},{name:"MidQ",unit:"",range:[.5,10],type:"float"},{name:"HighFreq",unit:"Hz",range:[1e3,2e4],type:"float"},{name:"HighGain",unit:"dB",range:[-12,12],type:"float"},{name:"Type",type:"enum",options:["LowShelf","Peaking","HighShelf"]}]},{name:"Reverb",modulatable:!0,parameters:[{name:"Decay",unit:"s",range:[.1,10],type:"float"},{name:"PreDelay",unit:"ms",range:[0,200],type:"float"},{name:"Damping",unit:"%",range:[0,100],type:"float"},{name:"Size",unit:"%",range:[0,100],type:"float"},{name:"HighCut",unit:"Hz",range:[500,2e4],type:"float"},{name:"LowCut",unit:"Hz",range:[20,1e3],type:"float"},{name:"Mix",unit:"%",range:[0,100],type:"float"},{name:"Type",type:"enum",options:["Room","Hall","Plate","Spring"]}]},{name:"Delay",modulatable:!0,parameters:[{name:"Time",unit:"ms",range:[1,5e3],type:"float"},{name:"Feedback",unit:"%",range:[0,100],type:"float"},{name:"Mix",unit:"%",range:[0,100],type:"float"},{name:"Sync",type:"boolean"},{name:"PingPong",type:"boolean"},{name:"Tone",unit:"Hz",range:[20,2e4],type:"float"}]},{name:"Filter (FX)",modulatable:!0,parameters:["Cutoff","Resonance","Drive","Mix"]}]},LP={name:"Ableton Operator",oscillators:[{id:"A",name:"Osc A",type:"FM",params:["Coarse","Fine","Level","Waveform"]},{id:"B",name:"Osc B",type:"FM",params:["Coarse","Fine","Level","Waveform"]},{id:"C",name:"Osc C",type:"FM",params:["Coarse","Fine","Level","Waveform"]},{id:"D",name:"Osc D",type:"FM",params:["Coarse","Fine","Level","Waveform"]}],filters:[{name:"Filter",types:["Lowpass","Highpass","Bandpass","Notch"],defaultType:"Lowpass",parameters:["Cutoff","Resonance","Drive","Mix"]}],modSources:[{name:"Env 1",type:"Envelope"},{name:"Env 2",type:"Envelope"},{name:"LFO 1",type:"LFO"},{name:"LFO 2",type:"LFO"},{name:"Keytrack",type:"MIDI"},{name:"Velocity",type:"MIDI"},{name:"Mod Wheel",type:"MIDI"},{name:"Aftertouch",type:"MIDI"},{name:"Pitch Bend",type:"MIDI"}],modDestinations:[{section:"Oscillator",params:["Coarse","Fine","Level","Waveform"]},{section:"Filter",params:["Cutoff","Resonance","Drive","Mix"]},{section:"Amp",params:["Level"]}],effects:[{name:"Chorus",modulatable:!0,parameters:[{name:"Rate",unit:"Hz",range:[.1,10],type:"float"},{name:"Depth",unit:"%",range:[0,100],type:"float"},{name:"Delay",unit:"ms",range:[1,30],type:"float"},{name:"Feedback",unit:"%",range:[0,95],type:"float"},{name:"Mix",unit:"%",range:[0,100],type:"float"}]},{name:"Delay",modulatable:!0,parameters:[{name:"Time",unit:"ms",range:[1,5e3],type:"float"},{name:"Feedback",unit:"%",range:[0,100],type:"float"},{name:"Mix",unit:"%",range:[0,100],type:"float"},{name:"Sync",type:"boolean"},{name:"PingPong",type:"boolean"},{name:"Tone",unit:"Hz",range:[20,2e4],type:"float"}]},{name:"Reverb",modulatable:!0,parameters:[{name:"Decay",unit:"s",range:[.1,10],type:"float"},{name:"PreDelay",unit:"ms",range:[0,200],type:"float"},{name:"Damping",unit:"%",range:[0,100],type:"float"},{name:"Size",unit:"%",range:[0,100],type:"float"},{name:"HighCut",unit:"Hz",range:[500,2e4],type:"float"},{name:"LowCut",unit:"Hz",range:[20,1e3],type:"float"},{name:"Mix",unit:"%",range:[0,100],type:"float"},{name:"Type",type:"enum",options:["Room","Hall","Plate","Spring"]}]},{name:"Filter (FX)",modulatable:!0,parameters:["Cutoff","Resonance","Drive","Mix"]}]},VP={name:"Native Instruments FM8",operators:[{id:"A",name:"Operator A",params:["Ratio","Offset","Level","Waveform"]},{id:"B",name:"Operator B",params:["Ratio","Offset","Level","Waveform"]},{id:"C",name:"Operator C",params:["Ratio","Offset","Level","Waveform"]},{id:"D",name:"Operator D",params:["Ratio","Offset","Level","Waveform"]},{id:"E",name:"Operator E",params:["Ratio","Offset","Level","Waveform"]},{id:"F",name:"Operator F",params:["Ratio","Offset","Level","Waveform"]},{id:"X",name:"Noise/Saturation",params:["Level","Color"]}],filters:[{name:"Filter",types:["Lowpass","Highpass","Bandpass","Notch"],defaultType:"Lowpass",parameters:["Cutoff","Resonance","Drive","Mix"]}],modSources:[{name:"Env 1",type:"Envelope"},{name:"Env 2",type:"Envelope"},{name:"Env 3",type:"Envelope"},{name:"Env 4",type:"Envelope"},{name:"LFO 1",type:"LFO"},{name:"LFO 2",type:"LFO"},{name:"LFO 3",type:"LFO"},{name:"LFO 4",type:"LFO"},{name:"Keytrack",type:"MIDI"},{name:"Velocity",type:"MIDI"},{name:"Mod Wheel",type:"MIDI"},{name:"Aftertouch",type:"MIDI"},{name:"Pitch Bend",type:"MIDI"}],modDestinations:[{section:"Operator",params:["Level","Ratio","Offset","Waveform"]},{section:"Filter",params:["Cutoff","Resonance","Drive","Mix"]},{section:"Amp",params:["Level"]}],effects:[{name:"Chorus",modulatable:!0,parameters:[{name:"Rate",unit:"Hz",range:[.1,10],type:"float"},{name:"Depth",unit:"%",range:[0,100],type:"float"},{name:"Delay",unit:"ms",range:[1,30],type:"float"},{name:"Feedback",unit:"%",range:[0,95],type:"float"},{name:"Mix",unit:"%",range:[0,100],type:"float"}]},{name:"Delay",modulatable:!0,parameters:[{name:"Time",unit:"ms",range:[1,5e3],type:"float"},{name:"Feedback",unit:"%",range:[0,100],type:"float"},{name:"Mix",unit:"%",range:[0,100],type:"float"},{name:"Sync",type:"boolean"},{name:"PingPong",type:"boolean"},{name:"Tone",unit:"Hz",range:[20,2e4],type:"float"}]},{name:"Reverb",modulatable:!0,parameters:[{name:"Decay",unit:"s",range:[.1,10],type:"float"},{name:"PreDelay",unit:"ms",range:[0,200],type:"float"},{name:"Damping",unit:"%",range:[0,100],type:"float"},{name:"Size",unit:"%",range:[0,100],type:"float"},{name:"HighCut",unit:"Hz",range:[500,2e4],type:"float"},{name:"LowCut",unit:"Hz",range:[20,1e3],type:"float"},{name:"Mix",unit:"%",range:[0,100],type:"float"},{name:"Type",type:"enum",options:["Room","Hall","Plate","Spring"]}]},{name:"Filter (FX)",modulatable:!0,parameters:["Cutoff","Resonance","Drive","Mix"]}]},PP={name:"Hive 2",oscillators:[{id:"1",name:"Osc 1",type:"Wavetable",params:["Waveform","Octave","Semitone","Detune","Level"]},{id:"2",name:"Osc 2",type:"Wavetable",params:["Waveform","Octave","Semitone","Detune","Level"]},{id:"Sub",name:"Sub Osc",type:"Analog",params:["Octave","Level"]}],filters:[{name:"Filter 1",types:["Lowpass 12dB","Lowpass 24dB","Highpass 12dB","Highpass 24dB","Bandpass 12dB","Bandpass 24dB","Notch","Peak","Comb+","Comb-","Allpass"],defaultType:"Lowpass 24dB",parameters:["Cutoff","Resonance","Drive","Keytrack","Mix"]},{name:"Filter 2",types:["Lowpass 12dB","Lowpass 24dB","Highpass 12dB","Highpass 24dB","Bandpass 12dB","Bandpass 24dB","Notch","Peak","Comb+","Comb-","Allpass"],defaultType:"Lowpass 24dB",parameters:["Cutoff","Resonance","Drive","Keytrack","Mix"]}],modSources:[{name:"Env 1",type:"Envelope"},{name:"Env 2",type:"Envelope"},{name:"Env 3",type:"Envelope"},{name:"LFO 1",type:"LFO"},{name:"LFO 2",type:"LFO"},{name:"LFO 3",type:"LFO"},{name:"LFO 4",type:"LFO"},{name:"Seq/Arp",type:"Sequencer"},{name:"Keytrack",type:"MIDI"},{name:"Velocity",type:"MIDI"},{name:"Mod Wheel",type:"MIDI"},{name:"Aftertouch",type:"MIDI"},{name:"Pitch Bend",type:"MIDI"}],modDestinations:[{section:"Oscillator",params:["Pitch","Level","Pan","Wave Shape"]},{section:"Filter 1",params:["Cutoff","Resonance","Drive","Mix"]},{section:"Filter 2",params:["Cutoff","Resonance","Drive","Mix"]},{section:"Amp",params:["Level"]}],effects:[{name:"Distortion",modulatable:!0,parameters:[{name:"Drive",unit:"%",range:[0,100],type:"float"},{name:"Tone",unit:"Hz",range:[500,2e4],type:"float"},{name:"Mix",unit:"%",range:[0,100],type:"float"},{name:"Level",unit:"dB",range:[-12,12],type:"float"},{name:"Type",type:"enum",options:["SoftClip","HardClip","Tube","Fuzz"]}]},{name:"Chorus",modulatable:!0,parameters:[{name:"Rate",unit:"Hz",range:[.1,10],type:"float"},{name:"Depth",unit:"%",range:[0,100],type:"float"},{name:"Delay",unit:"ms",range:[1,30],type:"float"},{name:"Feedback",unit:"%",range:[0,95],type:"float"},{name:"Mix",unit:"%",range:[0,100],type:"float"}]},{name:"Phaser",modulatable:!0,parameters:[{name:"Rate",unit:"Hz",range:[.1,5],type:"float"},{name:"Depth",unit:"%",range:[0,100],type:"float"},{name:"Feedback",unit:"%",range:[0,95],type:"float"},{name:"Stages",unit:"",range:[2,12],type:"int"},{name:"Center",unit:"Hz",range:[100,2e3],type:"float"},{name:"Mix",unit:"%",range:[0,100],type:"float"}]},{name:"Flanger",modulatable:!0,parameters:[{name:"Rate",unit:"Hz",range:[.1,5],type:"float"},{name:"Depth",unit:"%",range:[0,100],type:"float"},{name:"Manual",unit:"ms",range:[0,10],type:"float"},{name:"Feedback",unit:"%",range:[0,99],type:"float"},{name:"Phase",unit:"",range:[0,180],type:"float"},{name:"Mix",unit:"%",range:[0,100],type:"float"},{name:"LFOShape",type:"enum",options:["Sine","Triangle","Saw"]}]},{name:"EQ",modulatable:!0,parameters:[{name:"LowFreq",unit:"Hz",range:[20,500],type:"float"},{name:"LowGain",unit:"dB",range:[-12,12],type:"float"},{name:"MidFreq",unit:"Hz",range:[200,5e3],type:"float"},{name:"MidGain",unit:"dB",range:[-12,12],type:"float"},{name:"MidQ",unit:"",range:[.5,10],type:"float"},{name:"HighFreq",unit:"Hz",range:[1e3,2e4],type:"float"},{name:"HighGain",unit:"dB",range:[-12,12],type:"float"},{name:"Type",type:"enum",options:["LowShelf","Peaking","HighShelf"]}]},{name:"Reverb",modulatable:!0,parameters:[{name:"Decay",unit:"s",range:[.1,10],type:"float"},{name:"PreDelay",unit:"ms",range:[0,200],type:"float"},{name:"Damping",unit:"%",range:[0,100],type:"float"},{name:"Size",unit:"%",range:[0,100],type:"float"},{name:"HighCut",unit:"Hz",range:[500,2e4],type:"float"},{name:"LowCut",unit:"Hz",range:[20,1e3],type:"float"},{name:"Mix",unit:"%",range:[0,100],type:"float"},{name:"Type",type:"enum",options:["Room","Hall","Plate","Spring"]}]},{name:"Delay",modulatable:!0,parameters:[{name:"Time",unit:"ms",range:[1,5e3],type:"float"},{name:"Feedback",unit:"%",range:[0,100],type:"float"},{name:"Mix",unit:"%",range:[0,100],type:"float"},{name:"Sync",type:"boolean"},{name:"PingPong",type:"boolean"},{name:"Tone",unit:"Hz",range:[20,2e4],type:"float"}]},{name:"Filter (FX)",modulatable:!0,parameters:["Cutoff","Resonance","Drive","Mix"]}]},BP={name:"Native Instruments Massive X",oscillators:[{id:"1",name:"Osc 1",type:"Wavetable",params:["Wavetable","Pitch","Warp","Level"]},{id:"2",name:"Osc 2",type:"Wavetable",params:["Wavetable","Pitch","Warp","Level"]}],filters:[{name:"Filter",types:["SVF","Ladder","Comb","Scanner","Groian","Blue Monark","Creak","Crusher"],defaultType:"SVF",parameters:["Cutoff","Resonance","Drive","Mix","Type"]}],modSources:[{name:"Env 1",type:"Envelope"},{name:"Env 2",type:"Envelope"},{name:"Env 3",type:"Envelope"},{name:"Env 4",type:"Envelope"},{name:"LFO 1",type:"LFO"},{name:"LFO 2",type:"LFO"},{name:"LFO 3",type:"LFO"},{name:"Performer 1",type:"Performer"},{name:"Performer 2",type:"Performer"},{name:"Random",type:"Random"},{name:"Keytrack",type:"MIDI"},{name:"Velocity",type:"MIDI"},{name:"Mod Wheel",type:"MIDI"},{name:"Aftertouch",type:"MIDI"},{name:"Pitch Bend",type:"MIDI"}],modDestinations:[{section:"Oscillator",params:["Pitch","Warp","Level"]},{section:"Filter",params:["Cutoff","Resonance","Drive","Mix"]},{section:"Amp",params:["Level"]}],effects:[{name:"Insert FX 1",modulatable:!0,parameters:["Type","Mix","Param 1","Param 2"]},{name:"Insert FX 2",modulatable:!0,parameters:["Type","Mix","Param 1","Param 2"]},{name:"Insert FX 3",modulatable:!0,parameters:["Type","Mix","Param 1","Param 2"]},{name:"Stereo FX 1",modulatable:!0,parameters:["Type","Mix","Param 1","Param 2"]},{name:"Stereo FX 2",modulatable:!0,parameters:["Type","Mix","Param 1","Param 2"]},{name:"Stereo FX 3",modulatable:!0,parameters:["Type","Mix","Param 1","Param 2"]},{name:"EQ",modulatable:!0,parameters:[{name:"Low Gain",unit:"dB",range:[-12,12],type:"float"},{name:"Mid Freq",unit:"Hz",range:[200,5e3],type:"float"},{name:"Mid Gain",unit:"dB",range:[-12,12],type:"float"},{name:"High Gain",unit:"dB",range:[-12,12],type:"float"}]},{name:"Compressor",modulatable:!0,parameters:[{name:"Threshold",unit:"dB",range:[-60,0],type:"float"},{name:"Ratio",unit:":",range:[1,20],type:"float"},{name:"Attack",unit:"ms",range:[.1,100],type:"float"},{name:"Release",unit:"ms",range:[10,2e3],type:"float"},{name:"Knee",unit:"dB",range:[0,12],type:"float"},{name:"MakeupGain",unit:"dB",range:[0,20],type:"float"},{name:"Mix",unit:"%",range:[0,100],type:"float"}]}]},OP={name:"Omnisphere",oscillators:[{id:"A",name:"Layer A",type:"Sample/Synth",params:["Sample/Waveform","Pitch","Level","Pan"]},{id:"B",name:"Layer B",type:"Sample/Synth",params:["Sample/Waveform","Pitch","Level","Pan"]},{id:"C",name:"Layer C",type:"Sample/Synth",params:["Sample/Waveform","Pitch","Level","Pan"]},{id:"D",name:"Layer D",type:"Sample/Synth",params:["Sample/Waveform","Pitch","Level","Pan"]}],filters:[{name:"Filter",types:["Lowpass","Highpass","Bandpass","Notch","Resonator","Formant","Power Filter"],defaultType:"Lowpass",parameters:["Cutoff","Resonance","Drive","Keytrack","Mix"]}],modSources:[{name:"Env 1",type:"Envelope"},{name:"Env 2",type:"Envelope"},{name:"Env 3",type:"Envelope"},{name:"Env 4",type:"Envelope"},{name:"LFO 1",type:"LFO"},{name:"LFO 2",type:"LFO"},{name:"LFO 3",type:"LFO"},{name:"LFO 4",type:"LFO"},{name:"Keytrack",type:"MIDI"},{name:"Velocity",type:"MIDI"},{name:"Mod Wheel",type:"MIDI"},{name:"Aftertouch",type:"MIDI"},{name:"Pitch Bend",type:"MIDI"}],modDestinations:[{section:"Oscillator",params:["Pitch","Level","Pan"]},{section:"Filter",params:["Cutoff","Resonance","Drive","Mix"]},{section:"Amp",params:["Level"]}],effects:[{name:"Chorus",modulatable:!0,parameters:[{name:"Rate",unit:"Hz",range:[.1,10],type:"float"},{name:"Depth",unit:"%",range:[0,100],type:"float"},{name:"Delay",unit:"ms",range:[1,30],type:"float"},{name:"Feedback",unit:"%",range:[0,95],type:"float"},{name:"Mix",unit:"%",range:[0,100],type:"float"}]},{name:"Flanger",modulatable:!0,parameters:[{name:"Rate",unit:"Hz",range:[.1,5],type:"float"},{name:"Depth",unit:"%",range:[0,100],type:"float"},{name:"Manual",unit:"ms",range:[0,10],type:"float"},{name:"Feedback",unit:"%",range:[0,99],type:"float"},{name:"Phase",unit:"",range:[0,180],type:"float"},{name:"Mix",unit:"%",range:[0,100],type:"float"},{name:"LFOShape",type:"enum",options:["Sine","Triangle","Saw"]}]},{name:"Phaser",modulatable:!0,parameters:[{name:"Rate",unit:"Hz",range:[.1,5],type:"float"},{name:"Depth",unit:"%",range:[0,100],type:"float"},{name:"Feedback",unit:"%",range:[0,95],type:"float"},{name:"Stages",unit:"",range:[2,12],type:"int"},{name:"Center",unit:"Hz",range:[100,2e3],type:"float"},{name:"Mix",unit:"%",range:[0,100],type:"float"}]},{name:"Distortion",modulatable:!0,parameters:[{name:"Drive",unit:"%",range:[0,100],type:"float"},{name:"Tone",unit:"Hz",range:[500,2e4],type:"float"},{name:"Mix",unit:"%",range:[0,100],type:"float"},{name:"Level",unit:"dB",range:[-12,12],type:"float"},{name:"Type",type:"enum",options:["SoftClip","HardClip","Tube","Fuzz"]}]},{name:"Compressor",modulatable:!0,parameters:[{name:"Threshold",unit:"dB",range:[-60,0],type:"float"},{name:"Ratio",unit:":",range:[1,20],type:"float"},{name:"Attack",unit:"ms",range:[.1,100],type:"float"},{name:"Release",unit:"ms",range:[10,2e3],type:"float"},{name:"Knee",unit:"dB",range:[0,12],type:"float"},{name:"MakeupGain",unit:"dB",range:[0,20],type:"float"},{name:"Mix",unit:"%",range:[0,100],type:"float"}]},{name:"EQ",modulatable:!0,parameters:[{name:"LowFreq",unit:"Hz",range:[20,500],type:"float"},{name:"LowGain",unit:"dB",range:[-12,12],type:"float"},{name:"MidFreq",unit:"Hz",range:[200,5e3],type:"float"},{name:"MidGain",unit:"dB",range:[-12,12],type:"float"},{name:"MidQ",unit:"",range:[.5,10],type:"float"},{name:"HighFreq",unit:"Hz",range:[1e3,2e4],type:"float"},{name:"HighGain",unit:"dB",range:[-12,12],type:"float"},{name:"Type",type:"enum",options:["LowShelf","Peaking","HighShelf"]}]},{name:"Reverb",modulatable:!0,parameters:[{name:"Decay",unit:"s",range:[.1,10],type:"float"},{name:"PreDelay",unit:"ms",range:[0,200],type:"float"},{name:"Damping",unit:"%",range:[0,100],type:"float"},{name:"Size",unit:"%",range:[0,100],type:"float"},{name:"HighCut",unit:"Hz",range:[500,2e4],type:"float"},{name:"LowCut",unit:"Hz",range:[20,1e3],type:"float"},{name:"Mix",unit:"%",range:[0,100],type:"float"},{name:"Type",type:"enum",options:["Room","Hall","Plate","Spring"]}]},{name:"Delay",modulatable:!0,parameters:[{name:"Time",unit:"ms",range:[1,5e3],type:"float"},{name:"Feedback",unit:"%",range:[0,100],type:"float"},{name:"Mix",unit:"%",range:[0,100],type:"float"},{name:"Sync",type:"boolean"},{name:"PingPong",type:"boolean"},{name:"Tone",unit:"Hz",range:[20,2e4],type:"float"}]},{name:"Filter (FX)",modulatable:!0,parameters:["Cutoff","Resonance","Drive","Mix"]}]},FP={name:"Apple Retro Synth",oscillators:[{id:"1",name:"Osc 1",type:"Analog/Digital/FM/Wave",params:["Type","Waveform","Octave","Detune","Level"]},{id:"2",name:"Osc 2",type:"Analog/Digital/FM/Wave",params:["Type","Waveform","Octave","Detune","Level"]}],filters:[{name:"Filter",types:["Lowpass","Highpass","Bandpass","Notch"],defaultType:"Lowpass",parameters:["Cutoff","Resonance","Drive","Keytrack","Mix"]}],modSources:[{name:"Env 1",type:"Envelope"},{name:"Env 2",type:"Envelope"},{name:"LFO 1",type:"LFO"},{name:"LFO 2",type:"LFO"},{name:"Keytrack",type:"MIDI"},{name:"Velocity",type:"MIDI"},{name:"Mod Wheel",type:"MIDI"},{name:"Aftertouch",type:"MIDI"},{name:"Pitch Bend",type:"MIDI"}],modDestinations:[{section:"Oscillator",params:["Pitch","Level","Type","Waveform"]},{section:"Filter",params:["Cutoff","Resonance","Drive","Mix"]},{section:"Amp",params:["Level"]}],effects:[{name:"Chorus",modulatable:!0,parameters:[{name:"Rate",unit:"Hz",range:[.1,10],type:"float"},{name:"Depth",unit:"%",range:[0,100],type:"float"},{name:"Delay",unit:"ms",range:[1,30],type:"float"},{name:"Feedback",unit:"%",range:[0,95],type:"float"},{name:"Mix",unit:"%",range:[0,100],type:"float"}]},{name:"Flanger",modulatable:!0,parameters:[{name:"Rate",unit:"Hz",range:[.1,5],type:"float"},{name:"Depth",unit:"%",range:[0,100],type:"float"},{name:"Manual",unit:"ms",range:[0,10],type:"float"},{name:"Feedback",unit:"%",range:[0,99],type:"float"},{name:"Phase",unit:"",range:[0,180],type:"float"},{name:"Mix",unit:"%",range:[0,100],type:"float"},{name:"LFOShape",type:"enum",options:["Sine","Triangle","Saw"]}]},{name:"Phaser",modulatable:!0,parameters:[{name:"Rate",unit:"Hz",range:[.1,5],type:"float"},{name:"Depth",unit:"%",range:[0,100],type:"float"},{name:"Feedback",unit:"%",range:[0,95],type:"float"},{name:"Stages",unit:"",range:[2,12],type:"int"},{name:"Center",unit:"Hz",range:[100,2e3],type:"float"},{name:"Mix",unit:"%",range:[0,100],type:"float"}]},{name:"Distortion",modulatable:!0,parameters:[{name:"Drive",unit:"%",range:[0,100],type:"float"},{name:"Tone",unit:"Hz",range:[500,2e4],type:"float"},{name:"Mix",unit:"%",range:[0,100],type:"float"},{name:"Level",unit:"dB",range:[-12,12],type:"float"},{name:"Type",type:"enum",options:["SoftClip","HardClip","Tube","Fuzz"]}]},{name:"Compressor",modulatable:!0,parameters:[{name:"Threshold",unit:"dB",range:[-60,0],type:"float"},{name:"Ratio",unit:":",range:[1,20],type:"float"},{name:"Attack",unit:"ms",range:[.1,100],type:"float"},{name:"Release",unit:"ms",range:[10,2e3],type:"float"},{name:"Knee",unit:"dB",range:[0,12],type:"float"},{name:"MakeupGain",unit:"dB",range:[0,20],type:"float"},{name:"Mix",unit:"%",range:[0,100],type:"float"}]},{name:"EQ",modulatable:!0,parameters:[{name:"LowFreq",unit:"Hz",range:[20,500],type:"float"},{name:"LowGain",unit:"dB",range:[-12,12],type:"float"},{name:"MidFreq",unit:"Hz",range:[200,5e3],type:"float"},{name:"MidGain",unit:"dB",range:[-12,12],type:"float"},{name:"MidQ",unit:"",range:[.5,10],type:"float"},{name:"HighFreq",unit:"Hz",range:[1e3,2e4],type:"float"},{name:"HighGain",unit:"dB",range:[-12,12],type:"float"},{name:"Type",type:"enum",options:["LowShelf","Peaking","HighShelf"]}]},{name:"Reverb",modulatable:!0,parameters:[{name:"Decay",unit:"s",range:[.1,10],type:"float"},{name:"PreDelay",unit:"ms",range:[0,200],type:"float"},{name:"Damping",unit:"%",range:[0,100],type:"float"},{name:"Size",unit:"%",range:[0,100],type:"float"},{name:"HighCut",unit:"Hz",range:[500,2e4],type:"float"},{name:"LowCut",unit:"Hz",range:[20,1e3],type:"float"},{name:"Mix",unit:"%",range:[0,100],type:"float"},{name:"Type",type:"enum",options:["Room","Hall","Plate","Spring"]}]},{name:"Delay",modulatable:!0,parameters:[{name:"Time",unit:"ms",range:[1,5e3],type:"float"},{name:"Feedback",unit:"%",range:[0,100],type:"float"},{name:"Mix",unit:"%",range:[0,100],type:"float"},{name:"Sync",type:"boolean"},{name:"PingPong",type:"boolean"},{name:"Tone",unit:"Hz",range:[20,2e4],type:"float"}]},{name:"Filter (FX)",modulatable:!0,parameters:["Cutoff","Resonance","Drive","Mix"]}]},zP={name:"Roland SH-101",oscillators:[{id:"1",name:"Osc 1",type:"Analog",params:["Waveform","Octave","Sub Level","Pulse Width","Level"]}],filters:[{name:"VCF",types:["Lowpass"],defaultType:"Lowpass",parameters:["Cutoff","Resonance","Env Mod","Keytrack"]}],modSources:[{name:"Env",type:"Envelope"},{name:"LFO",type:"LFO"},{name:"Keytrack",type:"MIDI"},{name:"Mod Wheel",type:"MIDI"},{name:"Pitch Bend",type:"MIDI"}],modDestinations:[{section:"Oscillator",params:["Pitch","Pulse Width","Level"]},{section:"VCF",params:["Cutoff","Resonance","Env Mod"]},{section:"Amp",params:["Level"]}],effects:[{name:"Chorus",modulatable:!1,parameters:["Rate","Depth","Mix"]}]},jP={name:"Sylenth1",oscillators:[{id:"A1",name:"Osc A1",type:"Analog",params:["Waveform","Voices","Detune","Stereo","Phase","Volume"]},{id:"A2",name:"Osc A2",type:"Analog",params:["Waveform","Voices","Detune","Stereo","Phase","Volume"]},{id:"B1",name:"Osc B1",type:"Analog",params:["Waveform","Voices","Detune","Stereo","Phase","Volume"]},{id:"B2",name:"Osc B2",type:"Analog",params:["Waveform","Voices","Detune","Stereo","Phase","Volume"]}],filters:[{name:"Filter A",types:["Lowpass","Highpass","Bandpass"],defaultType:"Lowpass",parameters:["Cutoff","Resonance","Drive","Keytrack"]},{name:"Filter B",types:["Lowpass","Highpass","Bandpass"],defaultType:"Lowpass",parameters:["Cutoff","Resonance","Drive","Keytrack"]}],modSources:[{name:"Env 1",type:"Envelope"},{name:"Env 2",type:"Envelope"},{name:"LFO 1",type:"LFO"},{name:"LFO 2",type:"LFO"},{name:"Mod Wheel",type:"MIDI"},{name:"Pitch Bend",type:"MIDI"},{name:"Velocity",type:"MIDI"},{name:"Keytrack",type:"MIDI"}],modDestinations:[{section:"Oscillator",params:["Pitch","Detune","Volume"]},{section:"Filter A",params:["Cutoff","Resonance","Drive"]},{section:"Filter B",params:["Cutoff","Resonance","Drive"]},{section:"Amp",params:["Level"]}],effects:[{name:"Distortion",modulatable:!0,parameters:[{name:"Drive",unit:"%",range:[0,100],type:"float"},{name:"Tone",unit:"Hz",range:[500,2e4],type:"float"},{name:"Mix",unit:"%",range:[0,100],type:"float"},{name:"Level",unit:"dB",range:[-12,12],type:"float"},{name:"Type",type:"enum",options:["SoftClip","HardClip","Tube","Fuzz"]}]},{name:"Phaser",modulatable:!0,parameters:[{name:"Rate",unit:"Hz",range:[.1,5],type:"float"},{name:"Depth",unit:"%",range:[0,100],type:"float"},{name:"Feedback",unit:"%",range:[0,95],type:"float"},{name:"Stages",unit:"",range:[2,12],type:"int"},{name:"Center",unit:"Hz",range:[100,2e3],type:"float"},{name:"Mix",unit:"%",range:[0,100],type:"float"}]},{name:"Chorus",modulatable:!0,parameters:[{name:"Rate",unit:"Hz",range:[.1,10],type:"float"},{name:"Depth",unit:"%",range:[0,100],type:"float"},{name:"Delay",unit:"ms",range:[1,30],type:"float"},{name:"Feedback",unit:"%",range:[0,95],type:"float"},{name:"Mix",unit:"%",range:[0,100],type:"float"}]},{name:"Reverb",modulatable:!0,parameters:[{name:"Decay",unit:"s",range:[.1,10],type:"float"},{name:"PreDelay",unit:"ms",range:[0,200],type:"float"},{name:"Damping",unit:"%",range:[0,100],type:"float"},{name:"Size",unit:"%",range:[0,100],type:"float"},{name:"HighCut",unit:"Hz",range:[500,2e4],type:"float"},{name:"LowCut",unit:"Hz",range:[20,1e3],type:"float"},{name:"Mix",unit:"%",range:[0,100],type:"float"},{name:"Type",type:"enum",options:["Room","Hall","Plate","Spring"]}]}]},HP={name:"Zebra2",oscillators:[{id:"1",name:"Osc 1",type:"Wavetable",params:["Waveform","Tune","Detune","Phase","Level"]},{id:"2",name:"Osc 2",type:"Wavetable",params:["Waveform","Tune","Detune","Phase","Level"]},{id:"3",name:"Osc 3",type:"Wavetable",params:["Waveform","Tune","Detune","Phase","Level"]},{id:"4",name:"Osc 4",type:"Wavetable",params:["Waveform","Tune","Detune","Phase","Level"]}],filters:[{name:"Filter 1",types:["Lowpass","Highpass","Bandpass","Notch","Comb","Formant"],defaultType:"Lowpass",parameters:["Cutoff","Resonance","Drive","Keytrack","Mix"]},{name:"Filter 2",types:["Lowpass","Highpass","Bandpass","Notch","Comb","Formant"],defaultType:"Lowpass",parameters:["Cutoff","Resonance","Drive","Keytrack","Mix"]}],modSources:[{name:"Env 1",type:"Envelope"},{name:"Env 2",type:"Envelope"},{name:"Env 3",type:"Envelope"},{name:"Env 4",type:"Envelope"},{name:"LFO 1",type:"LFO"},{name:"LFO 2",type:"LFO"},{name:"LFO 3",type:"LFO"},{name:"LFO 4",type:"LFO"},{name:"Keytrack",type:"MIDI"},{name:"Velocity",type:"MIDI"},{name:"Mod Wheel",type:"MIDI"},{name:"Aftertouch",type:"MIDI"},{name:"Pitch Bend",type:"MIDI"}],modDestinations:[{section:"Oscillator",params:["Pitch","Level","Detune","Phase"]},{section:"Filter 1",params:["Cutoff","Resonance","Drive","Mix"]},{section:"Filter 2",params:["Cutoff","Resonance","Drive","Mix"]},{section:"Amp",params:["Level"]}],effects:[{name:"Chorus",modulatable:!0,parameters:[{name:"Rate",unit:"Hz",range:[.1,10],type:"float"},{name:"Depth",unit:"%",range:[0,100],type:"float"},{name:"Delay",unit:"ms",range:[1,30],type:"float"},{name:"Feedback",unit:"%",range:[0,95],type:"float"},{name:"Mix",unit:"%",range:[0,100],type:"float"}]},{name:"Flanger",modulatable:!0,parameters:[{name:"Rate",unit:"Hz",range:[.1,5],type:"float"},{name:"Depth",unit:"%",range:[0,100],type:"float"},{name:"Manual",unit:"ms",range:[0,10],type:"float"},{name:"Feedback",unit:"%",range:[0,99],type:"float"},{name:"Phase",unit:"",range:[0,180],type:"float"},{name:"Mix",unit:"%",range:[0,100],type:"float"},{name:"LFOShape",type:"enum",options:["Sine","Triangle","Saw"]}]},{name:"Phaser",modulatable:!0,parameters:[{name:"Rate",unit:"Hz",range:[.1,5],type:"float"},{name:"Depth",unit:"%",range:[0,100],type:"float"},{name:"Feedback",unit:"%",range:[0,95],type:"float"},{name:"Stages",unit:"",range:[2,12],type:"int"},{name:"Center",unit:"Hz",range:[100,2e3],type:"float"},{name:"Mix",unit:"%",range:[0,100],type:"float"}]},{name:"Distortion",modulatable:!0,parameters:[{name:"Drive",unit:"%",range:[0,100],type:"float"},{name:"Tone",unit:"Hz",range:[500,2e4],type:"float"},{name:"Mix",unit:"%",range:[0,100],type:"float"},{name:"Level",unit:"dB",range:[-12,12],type:"float"},{name:"Type",type:"enum",options:["SoftClip","HardClip","Tube","Fuzz"]}]},{name:"Compressor",modulatable:!0,parameters:[{name:"Threshold",unit:"dB",range:[-60,0],type:"float"},{name:"Ratio",unit:":",range:[1,20],type:"float"},{name:"Attack",unit:"ms",range:[.1,100],type:"float"},{name:"Release",unit:"ms",range:[10,2e3],type:"float"},{name:"Knee",unit:"dB",range:[0,12],type:"float"},{name:"MakeupGain",unit:"dB",range:[0,20],type:"float"},{name:"Mix",unit:"%",range:[0,100],type:"float"}]},{name:"EQ",modulatable:!0,parameters:[{name:"LowFreq",unit:"Hz",range:[20,500],type:"float"},{name:"LowGain",unit:"dB",range:[-12,12],type:"float"},{name:"MidFreq",unit:"Hz",range:[200,5e3],type:"float"},{name:"MidGain",unit:"dB",range:[-12,12],type:"float"},{name:"MidQ",unit:"",range:[.5,10],type:"float"},{name:"HighFreq",unit:"Hz",range:[1e3,2e4],type:"float"},{name:"HighGain",unit:"dB",range:[-12,12],type:"float"},{name:"Type",type:"enum",options:["LowShelf","Peaking","HighShelf"]}]},{name:"Reverb",modulatable:!0,parameters:[{name:"Decay",unit:"s",range:[.1,10],type:"float"},{name:"PreDelay",unit:"ms",range:[0,200],type:"float"},{name:"Damping",unit:"%",range:[0,100],type:"float"},{name:"Size",unit:"%",range:[0,100],type:"float"},{name:"HighCut",unit:"Hz",range:[500,2e4],type:"float"},{name:"LowCut",unit:"Hz",range:[20,1e3],type:"float"},{name:"Mix",unit:"%",range:[0,100],type:"float"},{name:"Type",type:"enum",options:["Room","Hall","Plate","Spring"]}]},{name:"Delay",modulatable:!0,parameters:[{name:"Time",unit:"ms",range:[1,5e3],type:"float"},{name:"Feedback",unit:"%",range:[0,100],type:"float"},{name:"Mix",unit:"%",range:[0,100],type:"float"},{name:"Sync",type:"boolean"},{name:"PingPong",type:"boolean"},{name:"Tone",unit:"Hz",range:[20,2e4],type:"float"}]},{name:"Filter (FX)",modulatable:!0,parameters:["Cutoff","Resonance","Drive","Mix"]}]},UP=[{name:"Chorus"},{name:"Delay"},{name:"Reverb"},{name:"Flanger"},{name:"Phaser"},{name:"Distortion"},{name:"Bitcrusher"},{name:"Tape Saturation"},{name:"Compressor"},{name:"EQ"},{name:"Filter"},{name:"Wah"},{name:"Tremolo"},{name:"Insert Distortion"},{name:"Insert Bitcrusher"},{name:"Insert Comb Filter"},{name:"Insert Frequency Shifter"},{name:"Insert Ring Mod"},{name:"Insert Sample & Hold"},{name:"Insert EQ"},{name:"Stereo Chorus"},{name:"Stereo Flanger"},{name:"Stereo Phaser"},{name:"Stereo Delay"},{name:"Stereo Reverb"},{name:"Stereo Tape Saturation"},{name:"Hyper/Dimension"}],GP={Serum:AP,Vital:wP,Pigments:DP,Diva:IP,Juno106:kP,AnalogLab:RP,Generic:NP,Alchemy:_P,Operator:LP,FM8:VP,Hive2:PP,MassiveX:BP,Omnisphere:OP,RetroSynth:FP,SH101:zP,Sylenth1:jP,Zebra2:HP,fallbackStandardEffects:UP},au=GP,qP=()=>"AIzaSyCxOuxalv_PC6h6aE8JvEjLMK8ie8C9Nts",YP=e=>{if(au[e])return au[e];const t=e.toLowerCase().replace(/[^a-z0-9]/g,""),n=Object.keys(au).find(r=>r.toLowerCase().replace(/[^a-z0-9]/g,"")===t);return n?au[n]:{name:e,oscillators:[{id:"1",name:"Osc 1",params:["Waveform","Coarse","Fine","Level"]},{id:"2",name:"Osc 2",params:["Waveform","Coarse","Fine","Level"]}],filters:[{name:"Filter",types:["Lowpass","Highpass","Bandpass"],parameters:["Cutoff","Resonance"]}],effects:[]}},$P=(e,t)=>{const{description:n,synth:r,genre:o,voiceType:l,notes:u}=e;return`You are a professional synthesizer programmer. Create a detailed patch guide for these specifications:

**Target Sound:**
- Synth: ${r}
- Genre: ${o}
- Voice Type: ${l}
- Description: ${n}
${u?`- Additional Notes: ${u}`:""}

**IMPORTANT:** You must respond with EXACTLY this structured markdown format:

## Oscillators:
- Osc 1: Waveform: [type], Coarse: [value], Fine: [value], Level (dB): [value]
- Osc 2: Waveform: [type], Coarse: [value], Fine: [value], Level (dB): [value]
- Sub Osc: Waveform: [type], Octave: [value], Level (dB): [value]

## Filter:
- Type: [filter type]
- Cutoff: [frequency] Hz
- Resonance: [percentage]%

## ADSR Envelopes:
- Filter Envelope: Attack: [time] ms, Decay: [time] ms, Sustain: [percentage]%, Release: [time] ms
- Amp Envelope: Attack: [time] ms, Decay: [time] ms, Sustain: [percentage]%, Release: [time] ms

## Effects:
- Chorus: Rate: [rate] Hz, Depth: [percentage]%, Delay: [time] ms, Feedback: [percentage]%, Mix: [percentage]%
- Delay: Time: [time] ms, Feedback: [percentage]%, Mix: [percentage]%, Tone: [frequency] Hz
- Reverb: Decay: [time] s, PreDelay: [time] ms, Damping: [percentage]%, Size: [percentage]%, HighCut: [frequency] Hz, LowCut: [frequency] Hz, Mix: [percentage]%, Type: [type]

## Modulation Suggestions:
- LFO 1  Filter Cutoff, Amount: [percentage]%, Rate: [rate] Hz, Waveform: [type]
- Envelope  Oscillator Pitch, Amount: [percentage]%
- Modwheel  Vibrato Depth, Amount: [percentage]%

## Creative Suggestions & Tips:
- [Tip about envelope settings]
- [Tip about LFO modulation]
- [Tip about effect automation]
- [Tip about performance techniques]
- [Tip about layering or doubling]
- [Tip about register-specific adjustments]
- [Tip about dynamic modulation]

**Guidelines:**
- Use specific numeric values (frequencies in Hz, times in ms/s, percentages with %)
- Include 2-3 oscillators appropriate for the sound type
- Suggest realistic modulation amounts and rates
- Provide 6-8 actionable creative tips
- Focus on the ${o} genre and ${l} voice type characteristics
- Make all parameter values musically appropriate

**Available Synth Parameters:**
${JSON.stringify(t,null,2)}

Respond ONLY with the structured markdown format above. Do not include JSON, code blocks, or explanatory text.`},KP=e=>{if(!(e!=null&&e.trim()))throw new Error("Empty response from AI");const t=e.trim(),n=(l,u)=>{const f=new RegExp(`${u}[^:]*: Attack: (\\d+(?:\\.\\d+)?)\\s*ms, Decay: (\\d+(?:\\.\\d+)?)\\s*ms, Sustain: (\\d+(?:\\.\\d+)?)%, Release: (\\d+(?:\\.\\d+)?)\\s*ms`),m=l.match(f);return m?{attack:parseFloat(m[1])/1e3,decay:parseFloat(m[2])/1e3,sustain:parseFloat(m[3])/100,release:parseFloat(m[4])/1e3}:u==="Amp Envelope"?{attack:.05,decay:.3,sustain:.9,release:.8}:{attack:.1,decay:.5,sustain:.7,release:1.2}},r=()=>{const l=t.match(/## Oscillators:(.*?)## Filter:/s);return l?l[1].split(`
`).filter(f=>f.trim().startsWith("-")).map((f,m)=>{var E,A,L,I,N,R,z,G,j;const d=((E=f.match(/- (.*?):/))==null?void 0:E[1])||`Oscillator ${m+1}`,h=((L=(A=f.match(/Waveform: ([^,]+)/))==null?void 0:A[1])==null?void 0:L.trim())||"Sawtooth",g=((N=(I=f.match(/Coarse: ([^,]+)/))==null?void 0:I[1])==null?void 0:N.trim())||"0",T=((z=(R=f.match(/Fine: ([^,]+)/))==null?void 0:R[1])==null?void 0:z.trim())||"0",S=((j=(G=f.match(/Level[^:]*: ([^,\n]+)/))==null?void 0:G[1])==null?void 0:j.trim())||"0";return{name:d,id:String(m+1),values:{Waveform:h,Coarse:g,Fine:T,Level:S}}}):[]},o=()=>{var d,h,g;const l=t.match(/## Filter:(.*?)## ADSR Envelopes:/s);if(!l)return{selectedType:"Lowpass",cutoff:"5000 Hz",resonance:"30%"};const u=l[1].match(/Type: ([^\n]+)/),f=l[1].match(/Cutoff: ([^\n]+)/),m=l[1].match(/Resonance: ([^\n]+)/);return{selectedType:((d=u==null?void 0:u[1])==null?void 0:d.trim())||"Lowpass",cutoff:((h=f==null?void 0:f[1])==null?void 0:h.trim())||"5000 Hz",resonance:((g=m==null?void 0:m[1])==null?void 0:g.trim())||"30%"}};return{text:t,oscillators:r(),filter:o(),adsrVCF:n(t,"Filter Envelope"),adsrVCA:n(t,"Amp Envelope"),summary:t.includes("## Creative Suggestions & Tips:")?t.split("## Creative Suggestions & Tips:")[1].trim():"No creative tips provided"}},XP=(e,t)=>{const n=(l,u)=>!l||typeof l!="object"?u:{attack:typeof l.attack=="number"?Math.max(.01,Math.min(10,l.attack)):u.attack,decay:typeof l.decay=="number"?Math.max(.01,Math.min(10,l.decay)):u.decay,sustain:typeof l.sustain=="number"?Math.max(0,Math.min(1,l.sustain)):u.sustain,release:typeof l.release=="number"?Math.max(.01,Math.min(10,l.release)):u.release},r=()=>Array.isArray(e.oscillators)?e.oscillators.map((l,u)=>({name:l.name||`Oscillator ${u+1}`,id:String(u+1),values:l.values||{}})):[],o=()=>{const l=e.filter||{};return{name:"Filter",selectedType:l.selectedType||"Lowpass",cutoff:l.cutoff||"5000 Hz",resonance:l.resonance||"30%"}};return{text:typeof e.text=="string"?e.text:"No instructions provided",synthConfig:{...t,oscillators:r(),filters:[o()]},adsrVCF:n(e.adsrVCF,{attack:.1,decay:.5,sustain:.7,release:1.2}),adsrVCA:n(e.adsrVCA,{attack:.05,decay:.3,sustain:.9,release:.8}),summary:typeof e.summary=="string"?e.summary:"No creative tips provided"}},WP=async e=>{if(!e.description||!e.synth||!e.genre||!e.voiceType)throw new Error("Missing required fields: description, synth, genre, and voiceType are required");try{const t=qP(),n=new rb({apiKey:t}),r=YP(e.synth),o=$P(e,r),u=(await n.models.generateContent({model:zr,contents:o})).text;if(!u)throw new Error("No response received from AI");const f=KP(u);return XP(f,r)}catch(t){throw console.error("PatchGuide Generation Error:",t),t instanceof Error?t.message.includes("API key")?new Error("Invalid API key configuration. Please check your environment variables."):t.message.includes("quota")||t.message.includes("rate limit")?new Error("API quota exceeded. Please try again later."):t:new Error("Unknown error occurred while generating patch guide")}},QP=WP,vT=ae.createContext({});function JP(e){const t=ae.useRef(null);return t.current===null&&(t.current=e()),t.current}const Qm=typeof window<"u",ZP=Qm?ae.useLayoutEffect:ae.useEffect,Jm=ae.createContext(null);function Zm(e,t){e.indexOf(t)===-1&&e.push(t)}function eh(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}const Si=(e,t,n)=>n>t?t:n<e?e:n;let th=()=>{};const Ci={},bT=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e);function TT(e){return typeof e=="object"&&e!==null}const ST=e=>/^0[^.\s]+$/u.test(e);function nh(e){let t;return()=>(t===void 0&&(t=e()),t)}const Vn=e=>e,e5=(e,t)=>n=>t(e(n)),Ns=(...e)=>e.reduce(e5),bs=(e,t,n)=>{const r=t-e;return r===0?1:(n-e)/r};class ih{constructor(){this.subscriptions=[]}add(t){return Zm(this.subscriptions,t),()=>eh(this.subscriptions,t)}notify(t,n,r){const o=this.subscriptions.length;if(o)if(o===1)this.subscriptions[0](t,n,r);else for(let l=0;l<o;l++){const u=this.subscriptions[l];u&&u(t,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Zn=e=>e*1e3,ei=e=>e/1e3;function CT(e,t){return t?e*(1e3/t):0}const MT=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,t5=1e-7,n5=12;function i5(e,t,n,r,o){let l,u,f=0;do u=t+(n-t)/2,l=MT(u,r,o)-e,l>0?n=u:t=u;while(Math.abs(l)>t5&&++f<n5);return u}function _s(e,t,n,r){if(e===t&&n===r)return Vn;const o=l=>i5(l,0,1,e,n);return l=>l===0||l===1?l:MT(o(l),t,r)}const ET=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,AT=e=>t=>1-e(1-t),wT=_s(.33,1.53,.69,.99),rh=AT(wT),DT=ET(rh),IT=e=>(e*=2)<1?.5*rh(e):.5*(2-Math.pow(2,-10*(e-1))),ah=e=>1-Math.sin(Math.acos(e)),kT=AT(ah),RT=ET(ah),r5=_s(.42,0,1,1),a5=_s(0,0,.58,1),NT=_s(.42,0,.58,1),o5=e=>Array.isArray(e)&&typeof e[0]!="number",_T=e=>Array.isArray(e)&&typeof e[0]=="number",s5={linear:Vn,easeIn:r5,easeInOut:NT,easeOut:a5,circIn:ah,circInOut:RT,circOut:kT,backIn:rh,backInOut:DT,backOut:wT,anticipate:IT},l5=e=>typeof e=="string",Ev=e=>{if(_T(e)){th(e.length===4);const[t,n,r,o]=e;return _s(t,n,r,o)}else if(l5(e))return s5[e];return e},ou=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"],Av={value:null};function u5(e,t){let n=new Set,r=new Set,o=!1,l=!1;const u=new WeakSet;let f={delta:0,timestamp:0,isProcessing:!1},m=0;function d(g){u.has(g)&&(h.schedule(g),e()),m++,g(f)}const h={schedule:(g,T=!1,S=!1)=>{const A=S&&o?n:r;return T&&u.add(g),A.has(g)||A.add(g),g},cancel:g=>{r.delete(g),u.delete(g)},process:g=>{if(f=g,o){l=!0;return}o=!0,[n,r]=[r,n],n.forEach(d),t&&Av.value&&Av.value.frameloop[t].push(m),m=0,n.clear(),o=!1,l&&(l=!1,h.process(g))}};return h}const c5=40;function LT(e,t){let n=!1,r=!0;const o={delta:0,timestamp:0,isProcessing:!1},l=()=>n=!0,u=ou.reduce((R,z)=>(R[z]=u5(l,t?z:void 0),R),{}),{setup:f,read:m,resolveKeyframes:d,preUpdate:h,update:g,preRender:T,render:S,postRender:E}=u,A=()=>{const R=Ci.useManualTiming?o.timestamp:performance.now();n=!1,Ci.useManualTiming||(o.delta=r?1e3/60:Math.max(Math.min(R-o.timestamp,c5),1)),o.timestamp=R,o.isProcessing=!0,f.process(o),m.process(o),d.process(o),h.process(o),g.process(o),T.process(o),S.process(o),E.process(o),o.isProcessing=!1,n&&t&&(r=!1,e(A))},L=()=>{n=!0,r=!0,o.isProcessing||e(A)};return{schedule:ou.reduce((R,z)=>{const G=u[z];return R[z]=(j,se=!1,le=!1)=>(n||L(),G.schedule(j,se,le)),R},{}),cancel:R=>{for(let z=0;z<ou.length;z++)u[ou[z]].cancel(R)},state:o,steps:u}}const{schedule:dt,cancel:nr,state:Bt,steps:Ad}=LT(typeof requestAnimationFrame<"u"?requestAnimationFrame:Vn,!0);let pu;function f5(){pu=void 0}const sn={now:()=>(pu===void 0&&sn.set(Bt.isProcessing||Ci.useManualTiming?Bt.timestamp:performance.now()),pu),set:e=>{pu=e,queueMicrotask(f5)}},VT=e=>t=>typeof t=="string"&&t.startsWith(e),oh=VT("--"),d5=VT("var(--"),sh=e=>d5(e)?m5.test(e.split("/*")[0].trim()):!1,m5=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,$a={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},Ts={...$a,transform:e=>Si(0,1,e)},su={...$a,default:1},fs=e=>Math.round(e*1e5)/1e5,lh=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function h5(e){return e==null}const p5=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,uh=(e,t)=>n=>!!(typeof n=="string"&&p5.test(n)&&n.startsWith(e)||t&&!h5(n)&&Object.prototype.hasOwnProperty.call(n,t)),PT=(e,t,n)=>r=>{if(typeof r!="string")return r;const[o,l,u,f]=r.match(lh);return{[e]:parseFloat(o),[t]:parseFloat(l),[n]:parseFloat(u),alpha:f!==void 0?parseFloat(f):1}},g5=e=>Si(0,255,e),wd={...$a,transform:e=>Math.round(g5(e))},Vr={test:uh("rgb","red"),parse:PT("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:r=1})=>"rgba("+wd.transform(e)+", "+wd.transform(t)+", "+wd.transform(n)+", "+fs(Ts.transform(r))+")"};function y5(e){let t="",n="",r="",o="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),r=e.substring(5,7),o=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),r=e.substring(3,4),o=e.substring(4,5),t+=t,n+=n,r+=r,o+=o),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:o?parseInt(o,16)/255:1}}const um={test:uh("#"),parse:y5,transform:Vr.transform},Ls=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),Ji=Ls("deg"),ti=Ls("%"),Ie=Ls("px"),x5=Ls("vh"),v5=Ls("vw"),wv={...ti,parse:e=>ti.parse(e)/100,transform:e=>ti.transform(e*100)},La={test:uh("hsl","hue"),parse:PT("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:r=1})=>"hsla("+Math.round(e)+", "+ti.transform(fs(t))+", "+ti.transform(fs(n))+", "+fs(Ts.transform(r))+")"},At={test:e=>Vr.test(e)||um.test(e)||La.test(e),parse:e=>Vr.test(e)?Vr.parse(e):La.test(e)?La.parse(e):um.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?Vr.transform(e):La.transform(e),getAnimatableNone:e=>{const t=At.parse(e);return t.alpha=0,At.transform(t)}},b5=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function T5(e){var t,n;return isNaN(e)&&typeof e=="string"&&(((t=e.match(lh))==null?void 0:t.length)||0)+(((n=e.match(b5))==null?void 0:n.length)||0)>0}const BT="number",OT="color",S5="var",C5="var(",Dv="${}",M5=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Ss(e){const t=e.toString(),n=[],r={color:[],number:[],var:[]},o=[];let l=0;const f=t.replace(M5,m=>(At.test(m)?(r.color.push(l),o.push(OT),n.push(At.parse(m))):m.startsWith(C5)?(r.var.push(l),o.push(S5),n.push(m)):(r.number.push(l),o.push(BT),n.push(parseFloat(m))),++l,Dv)).split(Dv);return{values:n,split:f,indexes:r,types:o}}function FT(e){return Ss(e).values}function zT(e){const{split:t,types:n}=Ss(e),r=t.length;return o=>{let l="";for(let u=0;u<r;u++)if(l+=t[u],o[u]!==void 0){const f=n[u];f===BT?l+=fs(o[u]):f===OT?l+=At.transform(o[u]):l+=o[u]}return l}}const E5=e=>typeof e=="number"?0:At.test(e)?At.getAnimatableNone(e):e;function A5(e){const t=FT(e);return zT(e)(t.map(E5))}const ir={test:T5,parse:FT,createTransformer:zT,getAnimatableNone:A5};function Dd(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function w5({hue:e,saturation:t,lightness:n,alpha:r}){e/=360,t/=100,n/=100;let o=0,l=0,u=0;if(!t)o=l=u=n;else{const f=n<.5?n*(1+t):n+t-n*t,m=2*n-f;o=Dd(m,f,e+1/3),l=Dd(m,f,e),u=Dd(m,f,e-1/3)}return{red:Math.round(o*255),green:Math.round(l*255),blue:Math.round(u*255),alpha:r}}function Du(e,t){return n=>n>0?t:e}const ft=(e,t,n)=>e+(t-e)*n,Id=(e,t,n)=>{const r=e*e,o=n*(t*t-r)+r;return o<0?0:Math.sqrt(o)},D5=[um,Vr,La],I5=e=>D5.find(t=>t.test(e));function Iv(e){const t=I5(e);if(!t)return!1;let n=t.parse(e);return t===La&&(n=w5(n)),n}const kv=(e,t)=>{const n=Iv(e),r=Iv(t);if(!n||!r)return Du(e,t);const o={...n};return l=>(o.red=Id(n.red,r.red,l),o.green=Id(n.green,r.green,l),o.blue=Id(n.blue,r.blue,l),o.alpha=ft(n.alpha,r.alpha,l),Vr.transform(o))},cm=new Set(["none","hidden"]);function k5(e,t){return cm.has(e)?n=>n<=0?e:t:n=>n>=1?t:e}function R5(e,t){return n=>ft(e,t,n)}function ch(e){return typeof e=="number"?R5:typeof e=="string"?sh(e)?Du:At.test(e)?kv:L5:Array.isArray(e)?jT:typeof e=="object"?At.test(e)?kv:N5:Du}function jT(e,t){const n=[...e],r=n.length,o=e.map((l,u)=>ch(l)(l,t[u]));return l=>{for(let u=0;u<r;u++)n[u]=o[u](l);return n}}function N5(e,t){const n={...e,...t},r={};for(const o in n)e[o]!==void 0&&t[o]!==void 0&&(r[o]=ch(e[o])(e[o],t[o]));return o=>{for(const l in r)n[l]=r[l](o);return n}}function _5(e,t){const n=[],r={color:0,var:0,number:0};for(let o=0;o<t.values.length;o++){const l=t.types[o],u=e.indexes[l][r[l]],f=e.values[u]??0;n[o]=f,r[l]++}return n}const L5=(e,t)=>{const n=ir.createTransformer(t),r=Ss(e),o=Ss(t);return r.indexes.var.length===o.indexes.var.length&&r.indexes.color.length===o.indexes.color.length&&r.indexes.number.length>=o.indexes.number.length?cm.has(e)&&!o.values.length||cm.has(t)&&!r.values.length?k5(e,t):Ns(jT(_5(r,o),o.values),n):Du(e,t)};function HT(e,t,n){return typeof e=="number"&&typeof t=="number"&&typeof n=="number"?ft(e,t,n):ch(e)(e,t)}const V5=e=>{const t=({timestamp:n})=>e(n);return{start:(n=!0)=>dt.update(t,n),stop:()=>nr(t),now:()=>Bt.isProcessing?Bt.timestamp:sn.now()}},UT=(e,t,n=10)=>{let r="";const o=Math.max(Math.round(t/n),2);for(let l=0;l<o;l++)r+=Math.round(e(l/(o-1))*1e4)/1e4+", ";return`linear(${r.substring(0,r.length-2)})`},Iu=2e4;function fh(e){let t=0;const n=50;let r=e.next(t);for(;!r.done&&t<Iu;)t+=n,r=e.next(t);return t>=Iu?1/0:t}function P5(e,t=100,n){const r=n({...e,keyframes:[0,t]}),o=Math.min(fh(r),Iu);return{type:"keyframes",ease:l=>r.next(o*l).value/t,duration:ei(o)}}const B5=5;function GT(e,t,n){const r=Math.max(t-B5,0);return CT(n-e(r),t-r)}const gt={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},kd=.001;function O5({duration:e=gt.duration,bounce:t=gt.bounce,velocity:n=gt.velocity,mass:r=gt.mass}){let o,l,u=1-t;u=Si(gt.minDamping,gt.maxDamping,u),e=Si(gt.minDuration,gt.maxDuration,ei(e)),u<1?(o=d=>{const h=d*u,g=h*e,T=h-n,S=fm(d,u),E=Math.exp(-g);return kd-T/S*E},l=d=>{const g=d*u*e,T=g*n+n,S=Math.pow(u,2)*Math.pow(d,2)*e,E=Math.exp(-g),A=fm(Math.pow(d,2),u);return(-o(d)+kd>0?-1:1)*((T-S)*E)/A}):(o=d=>{const h=Math.exp(-d*e),g=(d-n)*e+1;return-kd+h*g},l=d=>{const h=Math.exp(-d*e),g=(n-d)*(e*e);return h*g});const f=5/e,m=z5(o,l,f);if(e=Zn(e),isNaN(m))return{stiffness:gt.stiffness,damping:gt.damping,duration:e};{const d=Math.pow(m,2)*r;return{stiffness:d,damping:u*2*Math.sqrt(r*d),duration:e}}}const F5=12;function z5(e,t,n){let r=n;for(let o=1;o<F5;o++)r=r-e(r)/t(r);return r}function fm(e,t){return e*Math.sqrt(1-t*t)}const j5=["duration","bounce"],H5=["stiffness","damping","mass"];function Rv(e,t){return t.some(n=>e[n]!==void 0)}function U5(e){let t={velocity:gt.velocity,stiffness:gt.stiffness,damping:gt.damping,mass:gt.mass,isResolvedFromDuration:!1,...e};if(!Rv(e,H5)&&Rv(e,j5))if(e.visualDuration){const n=e.visualDuration,r=2*Math.PI/(n*1.2),o=r*r,l=2*Si(.05,1,1-(e.bounce||0))*Math.sqrt(o);t={...t,mass:gt.mass,stiffness:o,damping:l}}else{const n=O5(e);t={...t,...n,mass:gt.mass},t.isResolvedFromDuration=!0}return t}function ku(e=gt.visualDuration,t=gt.bounce){const n=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:r,restDelta:o}=n;const l=n.keyframes[0],u=n.keyframes[n.keyframes.length-1],f={done:!1,value:l},{stiffness:m,damping:d,mass:h,duration:g,velocity:T,isResolvedFromDuration:S}=U5({...n,velocity:-ei(n.velocity||0)}),E=T||0,A=d/(2*Math.sqrt(m*h)),L=u-l,I=ei(Math.sqrt(m/h)),N=Math.abs(L)<5;r||(r=N?gt.restSpeed.granular:gt.restSpeed.default),o||(o=N?gt.restDelta.granular:gt.restDelta.default);let R;if(A<1){const G=fm(I,A);R=j=>{const se=Math.exp(-A*I*j);return u-se*((E+A*I*L)/G*Math.sin(G*j)+L*Math.cos(G*j))}}else if(A===1)R=G=>u-Math.exp(-I*G)*(L+(E+I*L)*G);else{const G=I*Math.sqrt(A*A-1);R=j=>{const se=Math.exp(-A*I*j),le=Math.min(G*j,300);return u-se*((E+A*I*L)*Math.sinh(le)+G*L*Math.cosh(le))/G}}const z={calculatedDuration:S&&g||null,next:G=>{const j=R(G);if(S)f.done=G>=g;else{let se=G===0?E:0;A<1&&(se=G===0?Zn(E):GT(R,G,j));const le=Math.abs(se)<=r,pe=Math.abs(u-j)<=o;f.done=le&&pe}return f.value=f.done?u:j,f},toString:()=>{const G=Math.min(fh(z),Iu),j=UT(se=>z.next(G*se).value,G,30);return G+"ms "+j},toTransition:()=>{}};return z}ku.applyToOptions=e=>{const t=P5(e,100,ku);return e.ease=t.ease,e.duration=Zn(t.duration),e.type="keyframes",e};function dm({keyframes:e,velocity:t=0,power:n=.8,timeConstant:r=325,bounceDamping:o=10,bounceStiffness:l=500,modifyTarget:u,min:f,max:m,restDelta:d=.5,restSpeed:h}){const g=e[0],T={done:!1,value:g},S=le=>f!==void 0&&le<f||m!==void 0&&le>m,E=le=>f===void 0?m:m===void 0||Math.abs(f-le)<Math.abs(m-le)?f:m;let A=n*t;const L=g+A,I=u===void 0?L:u(L);I!==L&&(A=I-g);const N=le=>-A*Math.exp(-le/r),R=le=>I+N(le),z=le=>{const pe=N(le),H=R(le);T.done=Math.abs(pe)<=d,T.value=T.done?I:H};let G,j;const se=le=>{S(T.value)&&(G=le,j=ku({keyframes:[T.value,E(T.value)],velocity:GT(R,le,T.value),damping:o,stiffness:l,restDelta:d,restSpeed:h}))};return se(0),{calculatedDuration:null,next:le=>{let pe=!1;return!j&&G===void 0&&(pe=!0,z(le),se(le)),G!==void 0&&le>=G?j.next(le-G):(!pe&&z(le),T)}}}function G5(e,t,n){const r=[],o=n||Ci.mix||HT,l=e.length-1;for(let u=0;u<l;u++){let f=o(e[u],e[u+1]);if(t){const m=Array.isArray(t)?t[u]||Vn:t;f=Ns(m,f)}r.push(f)}return r}function q5(e,t,{clamp:n=!0,ease:r,mixer:o}={}){const l=e.length;if(th(l===t.length),l===1)return()=>t[0];if(l===2&&t[0]===t[1])return()=>t[1];const u=e[0]===e[1];e[0]>e[l-1]&&(e=[...e].reverse(),t=[...t].reverse());const f=G5(t,r,o),m=f.length,d=h=>{if(u&&h<e[0])return t[0];let g=0;if(m>1)for(;g<e.length-2&&!(h<e[g+1]);g++);const T=bs(e[g],e[g+1],h);return f[g](T)};return n?h=>d(Si(e[0],e[l-1],h)):d}function Y5(e,t){const n=e[e.length-1];for(let r=1;r<=t;r++){const o=bs(0,t,r);e.push(ft(n,1,o))}}function $5(e){const t=[0];return Y5(t,e.length-1),t}function K5(e,t){return e.map(n=>n*t)}function X5(e,t){return e.map(()=>t||NT).splice(0,e.length-1)}function ds({duration:e=300,keyframes:t,times:n,ease:r="easeInOut"}){const o=o5(r)?r.map(Ev):Ev(r),l={done:!1,value:t[0]},u=K5(n&&n.length===t.length?n:$5(t),e),f=q5(u,t,{ease:Array.isArray(o)?o:X5(t,o)});return{calculatedDuration:e,next:m=>(l.value=f(m),l.done=m>=e,l)}}const W5=e=>e!==null;function dh(e,{repeat:t,repeatType:n="loop"},r,o=1){const l=e.filter(W5),f=o<0||t&&n!=="loop"&&t%2===1?0:l.length-1;return!f||r===void 0?l[f]:r}const Q5={decay:dm,inertia:dm,tween:ds,keyframes:ds,spring:ku};function qT(e){typeof e.type=="string"&&(e.type=Q5[e.type])}class mh{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,n){return this.finished.then(t,n)}}const J5=e=>e/100;class hh extends mh{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var r,o;const{motionValue:n}=this.options;n&&n.updatedAt!==sn.now()&&this.tick(sn.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(o=(r=this.options).onStop)==null||o.call(r))},this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){const{options:t}=this;qT(t);const{type:n=ds,repeat:r=0,repeatDelay:o=0,repeatType:l,velocity:u=0}=t;let{keyframes:f}=t;const m=n||ds;m!==ds&&typeof f[0]!="number"&&(this.mixKeyframes=Ns(J5,HT(f[0],f[1])),f=[0,100]);const d=m({...t,keyframes:f});l==="mirror"&&(this.mirroredGenerator=m({...t,keyframes:[...f].reverse(),velocity:-u})),d.calculatedDuration===null&&(d.calculatedDuration=fh(d));const{calculatedDuration:h}=d;this.calculatedDuration=h,this.resolvedDuration=h+o,this.totalDuration=this.resolvedDuration*(r+1)-o,this.generator=d}updateTime(t){const n=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(t,n=!1){const{generator:r,totalDuration:o,mixKeyframes:l,mirroredGenerator:u,resolvedDuration:f,calculatedDuration:m}=this;if(this.startTime===null)return r.next(0);const{delay:d=0,keyframes:h,repeat:g,repeatType:T,repeatDelay:S,type:E,onUpdate:A,finalKeyframe:L}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-o/this.speed,this.startTime)),n?this.currentTime=t:this.updateTime(t);const I=this.currentTime-d*(this.playbackSpeed>=0?1:-1),N=this.playbackSpeed>=0?I<0:I>o;this.currentTime=Math.max(I,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=o);let R=this.currentTime,z=r;if(g){const le=Math.min(this.currentTime,o)/f;let pe=Math.floor(le),H=le%1;!H&&le>=1&&(H=1),H===1&&pe--,pe=Math.min(pe,g+1),!!(pe%2)&&(T==="reverse"?(H=1-H,S&&(H-=S/f)):T==="mirror"&&(z=u)),R=Si(0,1,H)*f}const G=N?{done:!1,value:h[0]}:z.next(R);l&&(G.value=l(G.value));let{done:j}=G;!N&&m!==null&&(j=this.playbackSpeed>=0?this.currentTime>=o:this.currentTime<=0);const se=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&j);return se&&E!==dm&&(G.value=dh(h,this.options,L,this.speed)),A&&A(G.value),se&&this.finish(),G}then(t,n){return this.finished.then(t,n)}get duration(){return ei(this.calculatedDuration)}get time(){return ei(this.currentTime)}set time(t){var n;t=Zn(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed),(n=this.driver)==null||n.start(!1)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(sn.now());const n=this.playbackSpeed!==t;this.playbackSpeed=t,n&&(this.time=ei(this.currentTime))}play(){var o,l;if(this.isStopped)return;const{driver:t=V5,startTime:n}=this.options;this.driver||(this.driver=t(u=>this.tick(u))),(l=(o=this.options).onPlay)==null||l.call(o);const r=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=r):this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime||(this.startTime=n??r),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(sn.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var t,n;this.notifyFinished(),this.teardown(),this.state="finished",(n=(t=this.options).onComplete)==null||n.call(t)}cancel(){var t,n;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(n=(t=this.options).onCancel)==null||n.call(t)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){var n;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(n=this.driver)==null||n.stop(),t.observe(this)}}function Z5(e){for(let t=1;t<e.length;t++)e[t]??(e[t]=e[t-1])}const Pr=e=>e*180/Math.PI,mm=e=>{const t=Pr(Math.atan2(e[1],e[0]));return hm(t)},e3={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:mm,rotateZ:mm,skewX:e=>Pr(Math.atan(e[1])),skewY:e=>Pr(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},hm=e=>(e=e%360,e<0&&(e+=360),e),Nv=mm,_v=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),Lv=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),t3={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:_v,scaleY:Lv,scale:e=>(_v(e)+Lv(e))/2,rotateX:e=>hm(Pr(Math.atan2(e[6],e[5]))),rotateY:e=>hm(Pr(Math.atan2(-e[2],e[0]))),rotateZ:Nv,rotate:Nv,skewX:e=>Pr(Math.atan(e[4])),skewY:e=>Pr(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function pm(e){return e.includes("scale")?1:0}function gm(e,t){if(!e||e==="none")return pm(t);const n=e.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,o;if(n)r=t3,o=n;else{const f=e.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=e3,o=f}if(!o)return pm(t);const l=r[t],u=o[1].split(",").map(i3);return typeof l=="function"?l(u):u[l]}const n3=(e,t)=>{const{transform:n="none"}=getComputedStyle(e);return gm(n,t)};function i3(e){return parseFloat(e.trim())}const Ka=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Xa=new Set(Ka),Vv=e=>e===$a||e===Ie,r3=new Set(["x","y","z"]),a3=Ka.filter(e=>!r3.has(e));function o3(e){const t=[];return a3.forEach(n=>{const r=e.getValue(n);r!==void 0&&(t.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),t}const Br={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:(e,{transform:t})=>gm(t,"x"),y:(e,{transform:t})=>gm(t,"y")};Br.translateX=Br.x;Br.translateY=Br.y;const Or=new Set;let ym=!1,xm=!1,vm=!1;function YT(){if(xm){const e=Array.from(Or).filter(r=>r.needsMeasurement),t=new Set(e.map(r=>r.element)),n=new Map;t.forEach(r=>{const o=o3(r);o.length&&(n.set(r,o),r.render())}),e.forEach(r=>r.measureInitialState()),t.forEach(r=>{r.render();const o=n.get(r);o&&o.forEach(([l,u])=>{var f;(f=r.getValue(l))==null||f.set(u)})}),e.forEach(r=>r.measureEndState()),e.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}xm=!1,ym=!1,Or.forEach(e=>e.complete(vm)),Or.clear()}function $T(){Or.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(xm=!0)})}function s3(){vm=!0,$T(),YT(),vm=!1}class ph{constructor(t,n,r,o,l,u=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...t],this.onComplete=n,this.name=r,this.motionValue=o,this.element=l,this.isAsync=u}scheduleResolve(){this.state="scheduled",this.isAsync?(Or.add(this),ym||(ym=!0,dt.read($T),dt.resolveKeyframes(YT))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:n,element:r,motionValue:o}=this;if(t[0]===null){const l=o==null?void 0:o.get(),u=t[t.length-1];if(l!==void 0)t[0]=l;else if(r&&n){const f=r.readValue(n,u);f!=null&&(t[0]=f)}t[0]===void 0&&(t[0]=u),o&&l===void 0&&o.set(t[0])}Z5(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),Or.delete(this)}cancel(){this.state==="scheduled"&&(Or.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const l3=e=>e.startsWith("--");function u3(e,t,n){l3(t)?e.style.setProperty(t,n):e.style[t]=n}const c3=nh(()=>window.ScrollTimeline!==void 0),f3={};function d3(e,t){const n=nh(e);return()=>f3[t]??n()}const KT=d3(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),as=([e,t,n,r])=>`cubic-bezier(${e}, ${t}, ${n}, ${r})`,Pv={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:as([0,.65,.55,1]),circOut:as([.55,0,1,.45]),backIn:as([.31,.01,.66,-.59]),backOut:as([.33,1.53,.69,.99])};function XT(e,t){if(e)return typeof e=="function"?KT()?UT(e,t):"ease-out":_T(e)?as(e):Array.isArray(e)?e.map(n=>XT(n,t)||Pv.easeOut):Pv[e]}function m3(e,t,n,{delay:r=0,duration:o=300,repeat:l=0,repeatType:u="loop",ease:f="easeOut",times:m}={},d=void 0){const h={[t]:n};m&&(h.offset=m);const g=XT(f,o);Array.isArray(g)&&(h.easing=g);const T={delay:r,duration:o,easing:Array.isArray(g)?"linear":g,fill:"both",iterations:l+1,direction:u==="reverse"?"alternate":"normal"};return d&&(T.pseudoElement=d),e.animate(h,T)}function WT(e){return typeof e=="function"&&"applyToOptions"in e}function h3({type:e,...t}){return WT(e)&&KT()?e.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}class p3 extends mh{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,!t)return;const{element:n,name:r,keyframes:o,pseudoElement:l,allowFlatten:u=!1,finalKeyframe:f,onComplete:m}=t;this.isPseudoElement=!!l,this.allowFlatten=u,this.options=t,th(typeof t.type!="string");const d=h3(t);this.animation=m3(n,r,o,d,l),d.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!l){const h=dh(o,this.options,f,this.speed);this.updateMotionValue?this.updateMotionValue(h):u3(n,r,h),this.animation.cancel()}m==null||m(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var t,n;(n=(t=this.animation).finish)==null||n.call(t)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var t,n;this.isPseudoElement||(n=(t=this.animation).commitStyles)==null||n.call(t)}get duration(){var n,r;const t=((r=(n=this.animation.effect)==null?void 0:n.getComputedTiming)==null?void 0:r.call(n).duration)||0;return ei(Number(t))}get time(){return ei(Number(this.animation.currentTime)||0)}set time(t){this.finishedTime=null,this.animation.currentTime=Zn(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(t){this.animation.startTime=t}attachTimeline({timeline:t,observe:n}){var r;return this.allowFlatten&&((r=this.animation.effect)==null||r.updateTiming({easing:"linear"})),this.animation.onfinish=null,t&&c3()?(this.animation.timeline=t,Vn):n(this)}}const QT={anticipate:IT,backInOut:DT,circInOut:RT};function g3(e){return e in QT}function y3(e){typeof e.ease=="string"&&g3(e.ease)&&(e.ease=QT[e.ease])}const Bv=10;class x3 extends p3{constructor(t){y3(t),qT(t),super(t),t.startTime&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const{motionValue:n,onUpdate:r,onComplete:o,element:l,...u}=this.options;if(!n)return;if(t!==void 0){n.set(t);return}const f=new hh({...u,autoplay:!1}),m=Zn(this.finishedTime??this.time);n.setWithVelocity(f.sample(m-Bv).value,f.sample(m).value,Bv),f.stop()}}const Ov=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(ir.test(e)||e==="0")&&!e.startsWith("url("));function v3(e){const t=e[0];if(e.length===1)return!0;for(let n=0;n<e.length;n++)if(e[n]!==t)return!0}function b3(e,t,n,r){const o=e[0];if(o===null)return!1;if(t==="display"||t==="visibility")return!0;const l=e[e.length-1],u=Ov(o,t),f=Ov(l,t);return!u||!f?!1:v3(e)||(n==="spring"||WT(n))&&r}function JT(e){return TT(e)&&"offsetHeight"in e}const T3=new Set(["opacity","clipPath","filter","transform"]),S3=nh(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function C3(e){var d;const{motionValue:t,name:n,repeatDelay:r,repeatType:o,damping:l,type:u}=e;if(!JT((d=t==null?void 0:t.owner)==null?void 0:d.current))return!1;const{onUpdate:f,transformTemplate:m}=t.owner.getProps();return S3()&&n&&T3.has(n)&&(n!=="transform"||!m)&&!f&&!r&&o!=="mirror"&&l!==0&&u!=="inertia"}const M3=40;class E3 extends mh{constructor({autoplay:t=!0,delay:n=0,type:r="keyframes",repeat:o=0,repeatDelay:l=0,repeatType:u="loop",keyframes:f,name:m,motionValue:d,element:h,...g}){var E;super(),this.stop=()=>{var A,L;this._animation&&(this._animation.stop(),(A=this.stopTimeline)==null||A.call(this)),(L=this.keyframeResolver)==null||L.cancel()},this.createdAt=sn.now();const T={autoplay:t,delay:n,type:r,repeat:o,repeatDelay:l,repeatType:u,name:m,motionValue:d,element:h,...g},S=(h==null?void 0:h.KeyframeResolver)||ph;this.keyframeResolver=new S(f,(A,L,I)=>this.onKeyframesResolved(A,L,T,!I),m,d,h),(E=this.keyframeResolver)==null||E.scheduleResolve()}onKeyframesResolved(t,n,r,o){this.keyframeResolver=void 0;const{name:l,type:u,velocity:f,delay:m,isHandoff:d,onUpdate:h}=r;this.resolvedAt=sn.now(),b3(t,l,u,f)||((Ci.instantAnimations||!m)&&(h==null||h(dh(t,r,n))),t[0]=t[t.length-1],r.duration=0,r.repeat=0);const T={startTime:o?this.resolvedAt?this.resolvedAt-this.createdAt>M3?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...r,keyframes:t},S=!d&&C3(T)?new x3({...T,element:T.motionValue.owner.current}):new hh(T);S.finished.then(()=>this.notifyFinished()).catch(Vn),this.pendingTimeline&&(this.stopTimeline=S.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=S}get finished(){return this._animation?this.animation.finished:this._finished}then(t,n){return this.finished.finally(t).then(()=>{})}get animation(){var t;return this._animation||((t=this.keyframeResolver)==null||t.resume(),s3()),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var t;this._animation&&this.animation.cancel(),(t=this.keyframeResolver)==null||t.cancel()}}const A3=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function w3(e){const t=A3.exec(e);if(!t)return[,];const[,n,r,o]=t;return[`--${n??r}`,o]}function ZT(e,t,n=1){const[r,o]=w3(e);if(!r)return;const l=window.getComputedStyle(t).getPropertyValue(r);if(l){const u=l.trim();return bT(u)?parseFloat(u):u}return sh(o)?ZT(o,t,n+1):o}function gh(e,t){return(e==null?void 0:e[t])??(e==null?void 0:e.default)??e}const eS=new Set(["width","height","top","left","right","bottom",...Ka]),D3={test:e=>e==="auto",parse:e=>e},tS=e=>t=>t.test(e),nS=[$a,Ie,ti,Ji,v5,x5,D3],Fv=e=>nS.find(tS(e));function I3(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||ST(e):!0}const k3=new Set(["brightness","contrast","saturate","opacity"]);function R3(e){const[t,n]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[r]=n.match(lh)||[];if(!r)return e;const o=n.replace(r,"");let l=k3.has(t)?1:0;return r!==n&&(l*=100),t+"("+l+o+")"}const N3=/\b([a-z-]*)\(.*?\)/gu,bm={...ir,getAnimatableNone:e=>{const t=e.match(N3);return t?t.map(R3).join(" "):e}},zv={...$a,transform:Math.round},_3={rotate:Ji,rotateX:Ji,rotateY:Ji,rotateZ:Ji,scale:su,scaleX:su,scaleY:su,scaleZ:su,skew:Ji,skewX:Ji,skewY:Ji,distance:Ie,translateX:Ie,translateY:Ie,translateZ:Ie,x:Ie,y:Ie,z:Ie,perspective:Ie,transformPerspective:Ie,opacity:Ts,originX:wv,originY:wv,originZ:Ie},yh={borderWidth:Ie,borderTopWidth:Ie,borderRightWidth:Ie,borderBottomWidth:Ie,borderLeftWidth:Ie,borderRadius:Ie,radius:Ie,borderTopLeftRadius:Ie,borderTopRightRadius:Ie,borderBottomRightRadius:Ie,borderBottomLeftRadius:Ie,width:Ie,maxWidth:Ie,height:Ie,maxHeight:Ie,top:Ie,right:Ie,bottom:Ie,left:Ie,padding:Ie,paddingTop:Ie,paddingRight:Ie,paddingBottom:Ie,paddingLeft:Ie,margin:Ie,marginTop:Ie,marginRight:Ie,marginBottom:Ie,marginLeft:Ie,backgroundPositionX:Ie,backgroundPositionY:Ie,..._3,zIndex:zv,fillOpacity:Ts,strokeOpacity:Ts,numOctaves:zv},L3={...yh,color:At,backgroundColor:At,outlineColor:At,fill:At,stroke:At,borderColor:At,borderTopColor:At,borderRightColor:At,borderBottomColor:At,borderLeftColor:At,filter:bm,WebkitFilter:bm},iS=e=>L3[e];function rS(e,t){let n=iS(e);return n!==bm&&(n=ir),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const V3=new Set(["auto","none","0"]);function P3(e,t,n){let r=0,o;for(;r<e.length&&!o;){const l=e[r];typeof l=="string"&&!V3.has(l)&&Ss(l).values.length&&(o=e[r]),r++}if(o&&n)for(const l of t)e[l]=rS(n,o)}class B3 extends ph{constructor(t,n,r,o,l){super(t,n,r,o,l,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let m=0;m<t.length;m++){let d=t[m];if(typeof d=="string"&&(d=d.trim(),sh(d))){const h=ZT(d,n.current);h!==void 0&&(t[m]=h),m===t.length-1&&(this.finalKeyframe=d)}}if(this.resolveNoneKeyframes(),!eS.has(r)||t.length!==2)return;const[o,l]=t,u=Fv(o),f=Fv(l);if(u!==f)if(Vv(u)&&Vv(f))for(let m=0;m<t.length;m++){const d=t[m];typeof d=="string"&&(t[m]=parseFloat(d))}else Br[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:n}=this,r=[];for(let o=0;o<t.length;o++)(t[o]===null||I3(t[o]))&&r.push(o);r.length&&P3(t,r,n)}measureInitialState(){const{element:t,unresolvedKeyframes:n,name:r}=this;if(!t||!t.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Br[r](t.measureViewportBox(),window.getComputedStyle(t.current)),n[0]=this.measuredOrigin;const o=n[n.length-1];o!==void 0&&t.getValue(r,o).jump(o,!1)}measureEndState(){var f;const{element:t,name:n,unresolvedKeyframes:r}=this;if(!t||!t.current)return;const o=t.getValue(n);o&&o.jump(this.measuredOrigin,!1);const l=r.length-1,u=r[l];r[l]=Br[n](t.measureViewportBox(),window.getComputedStyle(t.current)),u!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=u),(f=this.removedTransforms)!=null&&f.length&&this.removedTransforms.forEach(([m,d])=>{t.getValue(m).set(d)}),this.resolveNoneKeyframes()}}function O3(e,t,n){if(e instanceof EventTarget)return[e];if(typeof e=="string"){let r=document;const o=(n==null?void 0:n[e])??r.querySelectorAll(e);return o?Array.from(o):[]}return Array.from(e)}const aS=(e,t)=>t&&typeof e=="number"?t.transform(e):e,jv=30,F3=e=>!isNaN(parseFloat(e));class z3{constructor(t,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=(r,o=!0)=>{var u,f;const l=sn.now();if(this.updatedAt!==l&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&((u=this.events.change)==null||u.notify(this.current),this.dependents))for(const m of this.dependents)m.dirty();o&&((f=this.events.renderRequest)==null||f.notify(this.current))},this.hasAnimated=!1,this.setCurrent(t),this.owner=n.owner}setCurrent(t){this.current=t,this.updatedAt=sn.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=F3(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,n){this.events[t]||(this.events[t]=new ih);const r=this.events[t].add(n);return t==="change"?()=>{r(),dt.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,n){this.passiveEffect=t,this.stopPassiveEffect=n}set(t,n=!0){!n||!this.passiveEffect?this.updateAndNotify(t,n):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-r}jump(t,n=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var t;(t=this.events.change)==null||t.notify(this.current)}addDependent(t){this.dependents||(this.dependents=new Set),this.dependents.add(t)}removeDependent(t){this.dependents&&this.dependents.delete(t)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=sn.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>jv)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,jv);return CT(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(t){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=t(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var t,n;(t=this.dependents)==null||t.clear(),(n=this.events.destroy)==null||n.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function ja(e,t){return new z3(e,t)}const{schedule:xh}=LT(queueMicrotask,!1),jn={x:!1,y:!1};function oS(){return jn.x||jn.y}function j3(e){return e==="x"||e==="y"?jn[e]?null:(jn[e]=!0,()=>{jn[e]=!1}):jn.x||jn.y?null:(jn.x=jn.y=!0,()=>{jn.x=jn.y=!1})}function sS(e,t){const n=O3(e),r=new AbortController,o={passive:!0,...t,signal:r.signal};return[n,o,()=>r.abort()]}function Hv(e){return!(e.pointerType==="touch"||oS())}function H3(e,t,n={}){const[r,o,l]=sS(e,n),u=f=>{if(!Hv(f))return;const{target:m}=f,d=t(m,f);if(typeof d!="function"||!m)return;const h=g=>{Hv(g)&&(d(g),m.removeEventListener("pointerleave",h))};m.addEventListener("pointerleave",h,o)};return r.forEach(f=>{f.addEventListener("pointerenter",u,o)}),l}const lS=(e,t)=>t?e===t?!0:lS(e,t.parentElement):!1,vh=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,U3=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function G3(e){return U3.has(e.tagName)||e.tabIndex!==-1}const gu=new WeakSet;function Uv(e){return t=>{t.key==="Enter"&&e(t)}}function Rd(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const q3=(e,t)=>{const n=e.currentTarget;if(!n)return;const r=Uv(()=>{if(gu.has(n))return;Rd(n,"down");const o=Uv(()=>{Rd(n,"up")}),l=()=>Rd(n,"cancel");n.addEventListener("keyup",o,t),n.addEventListener("blur",l,t)});n.addEventListener("keydown",r,t),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),t)};function Gv(e){return vh(e)&&!oS()}function Y3(e,t,n={}){const[r,o,l]=sS(e,n),u=f=>{const m=f.currentTarget;if(!Gv(f))return;gu.add(m);const d=t(m,f),h=(S,E)=>{window.removeEventListener("pointerup",g),window.removeEventListener("pointercancel",T),gu.has(m)&&gu.delete(m),Gv(S)&&typeof d=="function"&&d(S,{success:E})},g=S=>{h(S,m===window||m===document||n.useGlobalTarget||lS(m,S.target))},T=S=>{h(S,!1)};window.addEventListener("pointerup",g,o),window.addEventListener("pointercancel",T,o)};return r.forEach(f=>{(n.useGlobalTarget?window:f).addEventListener("pointerdown",u,o),JT(f)&&(f.addEventListener("focus",d=>q3(d,o)),!G3(f)&&!f.hasAttribute("tabindex")&&(f.tabIndex=0))}),l}function uS(e){return TT(e)&&"ownerSVGElement"in e}function $3(e){return uS(e)&&e.tagName==="svg"}const Yt=e=>!!(e&&e.getVelocity),K3=[...nS,At,ir],X3=e=>K3.find(tS(e)),cS=ae.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});function W3(e=!0){const t=ae.useContext(Jm);if(t===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:o}=t,l=ae.useId();ae.useEffect(()=>{if(e)return o(l)},[e]);const u=ae.useCallback(()=>e&&r&&r(l),[l,r,e]);return!n&&r?[!1,u]:[!0]}const fS=ae.createContext({strict:!1}),qv={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Ha={};for(const e in qv)Ha[e]={isEnabled:t=>qv[e].some(n=>!!t[n])};function Q3(e){for(const t in e)Ha[t]={...Ha[t],...e[t]}}const J3=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Ru(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||J3.has(e)}let dS=e=>!Ru(e);function Z3(e){typeof e=="function"&&(dS=t=>t.startsWith("on")?!Ru(t):e(t))}try{Z3(require("@emotion/is-prop-valid").default)}catch{}function e4(e,t,n){const r={};for(const o in e)o==="values"&&typeof e.values=="object"||(dS(o)||n===!0&&Ru(o)||!t&&!Ru(o)||e.draggable&&o.startsWith("onDrag"))&&(r[o]=e[o]);return r}function t4(e){if(typeof Proxy>"u")return e;const t=new Map,n=(...r)=>e(...r);return new Proxy(n,{get:(r,o)=>o==="create"?e:(t.has(o)||t.set(o,e(o)),t.get(o))})}const ju=ae.createContext({});function Hu(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}function Cs(e){return typeof e=="string"||Array.isArray(e)}const bh=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Th=["initial",...bh];function Uu(e){return Hu(e.animate)||Th.some(t=>Cs(e[t]))}function mS(e){return!!(Uu(e)||e.variants)}function n4(e,t){if(Uu(e)){const{initial:n,animate:r}=e;return{initial:n===!1||Cs(n)?n:void 0,animate:Cs(r)?r:void 0}}return e.inherit!==!1?t:{}}function i4(e){const{initial:t,animate:n}=n4(e,ae.useContext(ju));return ae.useMemo(()=>({initial:t,animate:n}),[Yv(t),Yv(n)])}function Yv(e){return Array.isArray(e)?e.join(" "):e}const r4=Symbol.for("motionComponentSymbol");function Va(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function a4(e,t,n){return ae.useCallback(r=>{r&&e.onMount&&e.onMount(r),t&&(r?t.mount(r):t.unmount()),n&&(typeof n=="function"?n(r):Va(n)&&(n.current=r))},[t])}const Sh=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),o4="framerAppearId",hS="data-"+Sh(o4),pS=ae.createContext({});function s4(e,t,n,r,o){var A,L;const{visualElement:l}=ae.useContext(ju),u=ae.useContext(fS),f=ae.useContext(Jm),m=ae.useContext(cS).reducedMotion,d=ae.useRef(null);r=r||u.renderer,!d.current&&r&&(d.current=r(e,{visualState:t,parent:l,props:n,presenceContext:f,blockInitialAnimation:f?f.initial===!1:!1,reducedMotionConfig:m}));const h=d.current,g=ae.useContext(pS);h&&!h.projection&&o&&(h.type==="html"||h.type==="svg")&&l4(d.current,n,o,g);const T=ae.useRef(!1);ae.useInsertionEffect(()=>{h&&T.current&&h.update(n,f)});const S=n[hS],E=ae.useRef(!!S&&!((A=window.MotionHandoffIsComplete)!=null&&A.call(window,S))&&((L=window.MotionHasOptimisedAnimation)==null?void 0:L.call(window,S)));return ZP(()=>{h&&(T.current=!0,window.MotionIsMounted=!0,h.updateFeatures(),xh.render(h.render),E.current&&h.animationState&&h.animationState.animateChanges())}),ae.useEffect(()=>{h&&(!E.current&&h.animationState&&h.animationState.animateChanges(),E.current&&(queueMicrotask(()=>{var I;(I=window.MotionHandoffMarkAsComplete)==null||I.call(window,S)}),E.current=!1))}),h}function l4(e,t,n,r){const{layoutId:o,layout:l,drag:u,dragConstraints:f,layoutScroll:m,layoutRoot:d,layoutCrossfade:h}=t;e.projection=new n(e.latestValues,t["data-framer-portal-id"]?void 0:gS(e.parent)),e.projection.setOptions({layoutId:o,layout:l,alwaysMeasureLayout:!!u||f&&Va(f),visualElement:e,animationType:typeof l=="string"?l:"both",initialPromotionConfig:r,crossfade:h,layoutScroll:m,layoutRoot:d})}function gS(e){if(e)return e.options.allowProjection!==!1?e.projection:gS(e.parent)}function u4({preloadedFeatures:e,createVisualElement:t,useRender:n,useVisualState:r,Component:o}){e&&Q3(e);function l(f,m){let d;const h={...ae.useContext(cS),...f,layoutId:c4(f)},{isStatic:g}=h,T=i4(f),S=r(f,g);if(!g&&Qm){f4();const E=d4(h);d=E.MeasureLayout,T.visualElement=s4(o,S,h,t,E.ProjectionNode)}return y.jsxs(ju.Provider,{value:T,children:[d&&T.visualElement?y.jsx(d,{visualElement:T.visualElement,...h}):null,n(o,f,a4(S,T.visualElement,m),S,g,T.visualElement)]})}l.displayName=`motion.${typeof o=="string"?o:`create(${o.displayName??o.name??""})`}`;const u=ae.forwardRef(l);return u[r4]=o,u}function c4({layoutId:e}){const t=ae.useContext(vT).id;return t&&e!==void 0?t+"-"+e:e}function f4(e,t){ae.useContext(fS).strict}function d4(e){const{drag:t,layout:n}=Ha;if(!t&&!n)return{};const r={...t,...n};return{MeasureLayout:t!=null&&t.isEnabled(e)||n!=null&&n.isEnabled(e)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}const Ms={};function m4(e){for(const t in e)Ms[t]=e[t],oh(t)&&(Ms[t].isCSSVariable=!0)}function yS(e,{layout:t,layoutId:n}){return Xa.has(e)||e.startsWith("origin")||(t||n!==void 0)&&(!!Ms[e]||e==="opacity")}const h4={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},p4=Ka.length;function g4(e,t,n){let r="",o=!0;for(let l=0;l<p4;l++){const u=Ka[l],f=e[u];if(f===void 0)continue;let m=!0;if(typeof f=="number"?m=f===(u.startsWith("scale")?1:0):m=parseFloat(f)===0,!m||n){const d=aS(f,yh[u]);if(!m){o=!1;const h=h4[u]||u;r+=`${h}(${d}) `}n&&(t[u]=d)}}return r=r.trim(),n?r=n(t,o?"":r):o&&(r="none"),r}function Ch(e,t,n){const{style:r,vars:o,transformOrigin:l}=e;let u=!1,f=!1;for(const m in t){const d=t[m];if(Xa.has(m)){u=!0;continue}else if(oh(m)){o[m]=d;continue}else{const h=aS(d,yh[m]);m.startsWith("origin")?(f=!0,l[m]=h):r[m]=h}}if(t.transform||(u||n?r.transform=g4(t,e.transform,n):r.transform&&(r.transform="none")),f){const{originX:m="50%",originY:d="50%",originZ:h=0}=l;r.transformOrigin=`${m} ${d} ${h}`}}const Mh=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function xS(e,t,n){for(const r in t)!Yt(t[r])&&!yS(r,n)&&(e[r]=t[r])}function y4({transformTemplate:e},t){return ae.useMemo(()=>{const n=Mh();return Ch(n,t,e),Object.assign({},n.vars,n.style)},[t])}function x4(e,t){const n=e.style||{},r={};return xS(r,n,e),Object.assign(r,y4(e,t)),r}function v4(e,t){const n={},r=x4(e,t);return e.drag&&e.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(n.tabIndex=0),n.style=r,n}const b4={offset:"stroke-dashoffset",array:"stroke-dasharray"},T4={offset:"strokeDashoffset",array:"strokeDasharray"};function S4(e,t,n=1,r=0,o=!0){e.pathLength=1;const l=o?b4:T4;e[l.offset]=Ie.transform(-r);const u=Ie.transform(t),f=Ie.transform(n);e[l.array]=`${u} ${f}`}function vS(e,{attrX:t,attrY:n,attrScale:r,pathLength:o,pathSpacing:l=1,pathOffset:u=0,...f},m,d,h){if(Ch(e,f,d),m){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:g,style:T}=e;g.transform&&(T.transform=g.transform,delete g.transform),(T.transform||g.transformOrigin)&&(T.transformOrigin=g.transformOrigin??"50% 50%",delete g.transformOrigin),T.transform&&(T.transformBox=(h==null?void 0:h.transformBox)??"fill-box",delete g.transformBox),t!==void 0&&(g.x=t),n!==void 0&&(g.y=n),r!==void 0&&(g.scale=r),o!==void 0&&S4(g,o,l,u,!1)}const bS=()=>({...Mh(),attrs:{}}),TS=e=>typeof e=="string"&&e.toLowerCase()==="svg";function C4(e,t,n,r){const o=ae.useMemo(()=>{const l=bS();return vS(l,t,TS(r),e.transformTemplate,e.style),{...l.attrs,style:{...l.style}}},[t]);if(e.style){const l={};xS(l,e.style,e),o.style={...l,...o.style}}return o}const M4=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Eh(e){return typeof e!="string"||e.includes("-")?!1:!!(M4.indexOf(e)>-1||/[A-Z]/u.test(e))}function E4(e=!1){return(n,r,o,{latestValues:l},u)=>{const m=(Eh(n)?C4:v4)(r,l,u,n),d=e4(r,typeof n=="string",e),h=n!==ae.Fragment?{...d,...m,ref:o}:{},{children:g}=r,T=ae.useMemo(()=>Yt(g)?g.get():g,[g]);return ae.createElement(n,{...h,children:T})}}function $v(e){const t=[{},{}];return e==null||e.values.forEach((n,r)=>{t[0][r]=n.get(),t[1][r]=n.getVelocity()}),t}function Ah(e,t,n,r){if(typeof t=="function"){const[o,l]=$v(r);t=t(n!==void 0?n:e.custom,o,l)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[o,l]=$v(r);t=t(n!==void 0?n:e.custom,o,l)}return t}function yu(e){return Yt(e)?e.get():e}function A4({scrapeMotionValuesFromProps:e,createRenderState:t},n,r,o){return{latestValues:w4(n,r,o,e),renderState:t()}}const SS=e=>(t,n)=>{const r=ae.useContext(ju),o=ae.useContext(Jm),l=()=>A4(e,t,r,o);return n?l():JP(l)};function w4(e,t,n,r){const o={},l=r(e,{});for(const T in l)o[T]=yu(l[T]);let{initial:u,animate:f}=e;const m=Uu(e),d=mS(e);t&&d&&!m&&e.inherit!==!1&&(u===void 0&&(u=t.initial),f===void 0&&(f=t.animate));let h=n?n.initial===!1:!1;h=h||u===!1;const g=h?f:u;if(g&&typeof g!="boolean"&&!Hu(g)){const T=Array.isArray(g)?g:[g];for(let S=0;S<T.length;S++){const E=Ah(e,T[S]);if(E){const{transitionEnd:A,transition:L,...I}=E;for(const N in I){let R=I[N];if(Array.isArray(R)){const z=h?R.length-1:0;R=R[z]}R!==null&&(o[N]=R)}for(const N in A)o[N]=A[N]}}}return o}function wh(e,t,n){var l;const{style:r}=e,o={};for(const u in r)(Yt(r[u])||t.style&&Yt(t.style[u])||yS(u,e)||((l=n==null?void 0:n.getValue(u))==null?void 0:l.liveStyle)!==void 0)&&(o[u]=r[u]);return o}const D4={useVisualState:SS({scrapeMotionValuesFromProps:wh,createRenderState:Mh})};function CS(e,t,n){const r=wh(e,t,n);for(const o in e)if(Yt(e[o])||Yt(t[o])){const l=Ka.indexOf(o)!==-1?"attr"+o.charAt(0).toUpperCase()+o.substring(1):o;r[l]=e[o]}return r}const I4={useVisualState:SS({scrapeMotionValuesFromProps:CS,createRenderState:bS})};function k4(e,t){return function(r,{forwardMotionProps:o}={forwardMotionProps:!1}){const u={...Eh(r)?I4:D4,preloadedFeatures:e,useRender:E4(o),createVisualElement:t,Component:r};return u4(u)}}function Es(e,t,n){const r=e.getProps();return Ah(r,t,n!==void 0?n:r.custom,e)}const Tm=e=>Array.isArray(e);function R4(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,ja(n))}function N4(e){return Tm(e)?e[e.length-1]||0:e}function _4(e,t){const n=Es(e,t);let{transitionEnd:r={},transition:o={},...l}=n||{};l={...l,...r};for(const u in l){const f=N4(l[u]);R4(e,u,f)}}function L4(e){return!!(Yt(e)&&e.add)}function Sm(e,t){const n=e.getValue("willChange");if(L4(n))return n.add(t);if(!n&&Ci.WillChange){const r=new Ci.WillChange("auto");e.addValue("willChange",r),r.add(t)}}function MS(e){return e.props[hS]}const V4=e=>e!==null;function P4(e,{repeat:t,repeatType:n="loop"},r){const o=e.filter(V4),l=t&&n!=="loop"&&t%2===1?0:o.length-1;return o[l]}const B4={type:"spring",stiffness:500,damping:25,restSpeed:10},O4=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),F4={type:"keyframes",duration:.8},z4={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},j4=(e,{keyframes:t})=>t.length>2?F4:Xa.has(e)?e.startsWith("scale")?O4(t[1]):B4:z4;function H4({when:e,delay:t,delayChildren:n,staggerChildren:r,staggerDirection:o,repeat:l,repeatType:u,repeatDelay:f,from:m,elapsed:d,...h}){return!!Object.keys(h).length}const Dh=(e,t,n,r={},o,l)=>u=>{const f=gh(r,e)||{},m=f.delay||r.delay||0;let{elapsed:d=0}=r;d=d-Zn(m);const h={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:t.getVelocity(),...f,delay:-d,onUpdate:T=>{t.set(T),f.onUpdate&&f.onUpdate(T)},onComplete:()=>{u(),f.onComplete&&f.onComplete()},name:e,motionValue:t,element:l?void 0:o};H4(f)||Object.assign(h,j4(e,h)),h.duration&&(h.duration=Zn(h.duration)),h.repeatDelay&&(h.repeatDelay=Zn(h.repeatDelay)),h.from!==void 0&&(h.keyframes[0]=h.from);let g=!1;if((h.type===!1||h.duration===0&&!h.repeatDelay)&&(h.duration=0,h.delay===0&&(g=!0)),(Ci.instantAnimations||Ci.skipAnimations)&&(g=!0,h.duration=0,h.delay=0),h.allowFlatten=!f.type&&!f.ease,g&&!l&&t.get()!==void 0){const T=P4(h.keyframes,f);if(T!==void 0){dt.update(()=>{h.onUpdate(T),h.onComplete()});return}}return f.isSync?new hh(h):new E3(h)};function U4({protectedKeys:e,needsAnimating:t},n){const r=e.hasOwnProperty(n)&&t[n]!==!0;return t[n]=!1,r}function ES(e,t,{delay:n=0,transitionOverride:r,type:o}={}){let{transition:l=e.getDefaultTransition(),transitionEnd:u,...f}=t;r&&(l=r);const m=[],d=o&&e.animationState&&e.animationState.getState()[o];for(const h in f){const g=e.getValue(h,e.latestValues[h]??null),T=f[h];if(T===void 0||d&&U4(d,h))continue;const S={delay:n,...gh(l||{},h)},E=g.get();if(E!==void 0&&!g.isAnimating&&!Array.isArray(T)&&T===E&&!S.velocity)continue;let A=!1;if(window.MotionHandoffAnimation){const I=MS(e);if(I){const N=window.MotionHandoffAnimation(I,h,dt);N!==null&&(S.startTime=N,A=!0)}}Sm(e,h),g.start(Dh(h,g,T,e.shouldReduceMotion&&eS.has(h)?{type:!1}:S,e,A));const L=g.animation;L&&m.push(L)}return u&&Promise.all(m).then(()=>{dt.update(()=>{u&&_4(e,u)})}),m}function Cm(e,t,n={}){var m;const r=Es(e,t,n.type==="exit"?(m=e.presenceContext)==null?void 0:m.custom:void 0);let{transition:o=e.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(o=n.transitionOverride);const l=r?()=>Promise.all(ES(e,r,n)):()=>Promise.resolve(),u=e.variantChildren&&e.variantChildren.size?(d=0)=>{const{delayChildren:h=0,staggerChildren:g,staggerDirection:T}=o;return G4(e,t,h+d,g,T,n)}:()=>Promise.resolve(),{when:f}=o;if(f){const[d,h]=f==="beforeChildren"?[l,u]:[u,l];return d().then(()=>h())}else return Promise.all([l(),u(n.delay)])}function G4(e,t,n=0,r=0,o=1,l){const u=[],f=(e.variantChildren.size-1)*r,m=o===1?(d=0)=>d*r:(d=0)=>f-d*r;return Array.from(e.variantChildren).sort(q4).forEach((d,h)=>{d.notify("AnimationStart",t),u.push(Cm(d,t,{...l,delay:n+m(h)}).then(()=>d.notify("AnimationComplete",t)))}),Promise.all(u)}function q4(e,t){return e.sortNodePosition(t)}function Y4(e,t,n={}){e.notify("AnimationStart",t);let r;if(Array.isArray(t)){const o=t.map(l=>Cm(e,l,n));r=Promise.all(o)}else if(typeof t=="string")r=Cm(e,t,n);else{const o=typeof t=="function"?Es(e,t,n.custom):t;r=Promise.all(ES(e,o,n))}return r.then(()=>{e.notify("AnimationComplete",t)})}function AS(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}const $4=Th.length;function wS(e){if(!e)return;if(!e.isControllingVariants){const n=e.parent?wS(e.parent)||{}:{};return e.props.initial!==void 0&&(n.initial=e.props.initial),n}const t={};for(let n=0;n<$4;n++){const r=Th[n],o=e.props[r];(Cs(o)||o===!1)&&(t[r]=o)}return t}const K4=[...bh].reverse(),X4=bh.length;function W4(e){return t=>Promise.all(t.map(({animation:n,options:r})=>Y4(e,n,r)))}function Q4(e){let t=W4(e),n=Kv(),r=!0;const o=m=>(d,h)=>{var T;const g=Es(e,h,m==="exit"?(T=e.presenceContext)==null?void 0:T.custom:void 0);if(g){const{transition:S,transitionEnd:E,...A}=g;d={...d,...A,...E}}return d};function l(m){t=m(e)}function u(m){const{props:d}=e,h=wS(e.parent)||{},g=[],T=new Set;let S={},E=1/0;for(let L=0;L<X4;L++){const I=K4[L],N=n[I],R=d[I]!==void 0?d[I]:h[I],z=Cs(R),G=I===m?N.isActive:null;G===!1&&(E=L);let j=R===h[I]&&R!==d[I]&&z;if(j&&r&&e.manuallyAnimateOnMount&&(j=!1),N.protectedKeys={...S},!N.isActive&&G===null||!R&&!N.prevProp||Hu(R)||typeof R=="boolean")continue;const se=J4(N.prevProp,R);let le=se||I===m&&N.isActive&&!j&&z||L>E&&z,pe=!1;const H=Array.isArray(R)?R:[R];let ce=H.reduce(o(I),{});G===!1&&(ce={});const{prevResolvedValues:J={}}=N,me={...J,...ce},fe=O=>{le=!0,T.has(O)&&(pe=!0,T.delete(O)),N.needsAnimating[O]=!0;const k=e.getValue(O);k&&(k.liveStyle=!1)};for(const O in me){const k=ce[O],_=J[O];if(S.hasOwnProperty(O))continue;let C=!1;Tm(k)&&Tm(_)?C=!AS(k,_):C=k!==_,C?k!=null?fe(O):T.add(O):k!==void 0&&T.has(O)?fe(O):N.protectedKeys[O]=!0}N.prevProp=R,N.prevResolvedValues=ce,N.isActive&&(S={...S,...ce}),r&&e.blockInitialAnimation&&(le=!1),le&&(!(j&&se)||pe)&&g.push(...H.map(O=>({animation:O,options:{type:I}})))}if(T.size){const L={};if(typeof d.initial!="boolean"){const I=Es(e,Array.isArray(d.initial)?d.initial[0]:d.initial);I&&I.transition&&(L.transition=I.transition)}T.forEach(I=>{const N=e.getBaseTarget(I),R=e.getValue(I);R&&(R.liveStyle=!0),L[I]=N??null}),g.push({animation:L})}let A=!!g.length;return r&&(d.initial===!1||d.initial===d.animate)&&!e.manuallyAnimateOnMount&&(A=!1),r=!1,A?t(g):Promise.resolve()}function f(m,d){var g;if(n[m].isActive===d)return Promise.resolve();(g=e.variantChildren)==null||g.forEach(T=>{var S;return(S=T.animationState)==null?void 0:S.setActive(m,d)}),n[m].isActive=d;const h=u(m);for(const T in n)n[T].protectedKeys={};return h}return{animateChanges:u,setActive:f,setAnimateFunction:l,getState:()=>n,reset:()=>{n=Kv(),r=!0}}}function J4(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!AS(t,e):!1}function Nr(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function Kv(){return{animate:Nr(!0),whileInView:Nr(),whileHover:Nr(),whileTap:Nr(),whileDrag:Nr(),whileFocus:Nr(),exit:Nr()}}class lr{constructor(t){this.isMounted=!1,this.node=t}update(){}}class Z4 extends lr{constructor(t){super(t),t.animationState||(t.animationState=Q4(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();Hu(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:n}=this.node.prevProps||{};t!==n&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),(t=this.unmountControls)==null||t.call(this)}}let eB=0;class tB extends lr{constructor(){super(...arguments),this.id=eB++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===r)return;const o=this.node.animationState.setActive("exit",!t);n&&!t&&o.then(()=>{n(this.id)})}mount(){const{register:t,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const nB={animation:{Feature:Z4},exit:{Feature:tB}};function As(e,t,n,r={passive:!0}){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n)}function Vs(e){return{point:{x:e.pageX,y:e.pageY}}}const iB=e=>t=>vh(t)&&e(t,Vs(t));function ms(e,t,n,r){return As(e,t,iB(n),r)}function DS({top:e,left:t,right:n,bottom:r}){return{x:{min:t,max:n},y:{min:e,max:r}}}function rB({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function aB(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),r=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}const IS=1e-4,oB=1-IS,sB=1+IS,kS=.01,lB=0-kS,uB=0+kS;function Qt(e){return e.max-e.min}function cB(e,t,n){return Math.abs(e-t)<=n}function Xv(e,t,n,r=.5){e.origin=r,e.originPoint=ft(t.min,t.max,e.origin),e.scale=Qt(n)/Qt(t),e.translate=ft(n.min,n.max,e.origin)-e.originPoint,(e.scale>=oB&&e.scale<=sB||isNaN(e.scale))&&(e.scale=1),(e.translate>=lB&&e.translate<=uB||isNaN(e.translate))&&(e.translate=0)}function hs(e,t,n,r){Xv(e.x,t.x,n.x,r?r.originX:void 0),Xv(e.y,t.y,n.y,r?r.originY:void 0)}function Wv(e,t,n){e.min=n.min+t.min,e.max=e.min+Qt(t)}function fB(e,t,n){Wv(e.x,t.x,n.x),Wv(e.y,t.y,n.y)}function Qv(e,t,n){e.min=t.min-n.min,e.max=e.min+Qt(t)}function ps(e,t,n){Qv(e.x,t.x,n.x),Qv(e.y,t.y,n.y)}const Jv=()=>({translate:0,scale:1,origin:0,originPoint:0}),Pa=()=>({x:Jv(),y:Jv()}),Zv=()=>({min:0,max:0}),Tt=()=>({x:Zv(),y:Zv()});function Rn(e){return[e("x"),e("y")]}function Nd(e){return e===void 0||e===1}function Mm({scale:e,scaleX:t,scaleY:n}){return!Nd(e)||!Nd(t)||!Nd(n)}function Lr(e){return Mm(e)||RS(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function RS(e){return e1(e.x)||e1(e.y)}function e1(e){return e&&e!=="0%"}function Nu(e,t,n){const r=e-n,o=t*r;return n+o}function t1(e,t,n,r,o){return o!==void 0&&(e=Nu(e,o,r)),Nu(e,n,r)+t}function Em(e,t=0,n=1,r,o){e.min=t1(e.min,t,n,r,o),e.max=t1(e.max,t,n,r,o)}function NS(e,{x:t,y:n}){Em(e.x,t.translate,t.scale,t.originPoint),Em(e.y,n.translate,n.scale,n.originPoint)}const n1=.999999999999,i1=1.0000000000001;function dB(e,t,n,r=!1){const o=n.length;if(!o)return;t.x=t.y=1;let l,u;for(let f=0;f<o;f++){l=n[f],u=l.projectionDelta;const{visualElement:m}=l.options;m&&m.props.style&&m.props.style.display==="contents"||(r&&l.options.layoutScroll&&l.scroll&&l!==l.root&&Oa(e,{x:-l.scroll.offset.x,y:-l.scroll.offset.y}),u&&(t.x*=u.x.scale,t.y*=u.y.scale,NS(e,u)),r&&Lr(l.latestValues)&&Oa(e,l.latestValues))}t.x<i1&&t.x>n1&&(t.x=1),t.y<i1&&t.y>n1&&(t.y=1)}function Ba(e,t){e.min=e.min+t,e.max=e.max+t}function r1(e,t,n,r,o=.5){const l=ft(e.min,e.max,o);Em(e,t,n,l,r)}function Oa(e,t){r1(e.x,t.x,t.scaleX,t.scale,t.originX),r1(e.y,t.y,t.scaleY,t.scale,t.originY)}function _S(e,t){return DS(aB(e.getBoundingClientRect(),t))}function mB(e,t,n){const r=_S(e,n),{scroll:o}=t;return o&&(Ba(r.x,o.offset.x),Ba(r.y,o.offset.y)),r}const LS=({current:e})=>e?e.ownerDocument.defaultView:null,a1=(e,t)=>Math.abs(e-t);function hB(e,t){const n=a1(e.x,t.x),r=a1(e.y,t.y);return Math.sqrt(n**2+r**2)}class VS{constructor(t,n,{transformPagePoint:r,contextWindow:o,dragSnapToOrigin:l=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const g=Ld(this.lastMoveEventInfo,this.history),T=this.startEvent!==null,S=hB(g.offset,{x:0,y:0})>=3;if(!T&&!S)return;const{point:E}=g,{timestamp:A}=Bt;this.history.push({...E,timestamp:A});const{onStart:L,onMove:I}=this.handlers;T||(L&&L(this.lastMoveEvent,g),this.startEvent=this.lastMoveEvent),I&&I(this.lastMoveEvent,g)},this.handlePointerMove=(g,T)=>{this.lastMoveEvent=g,this.lastMoveEventInfo=_d(T,this.transformPagePoint),dt.update(this.updatePoint,!0)},this.handlePointerUp=(g,T)=>{this.end();const{onEnd:S,onSessionEnd:E,resumeAnimation:A}=this.handlers;if(this.dragSnapToOrigin&&A&&A(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const L=Ld(g.type==="pointercancel"?this.lastMoveEventInfo:_d(T,this.transformPagePoint),this.history);this.startEvent&&S&&S(g,L),E&&E(g,L)},!vh(t))return;this.dragSnapToOrigin=l,this.handlers=n,this.transformPagePoint=r,this.contextWindow=o||window;const u=Vs(t),f=_d(u,this.transformPagePoint),{point:m}=f,{timestamp:d}=Bt;this.history=[{...m,timestamp:d}];const{onSessionStart:h}=n;h&&h(t,Ld(f,this.history)),this.removeListeners=Ns(ms(this.contextWindow,"pointermove",this.handlePointerMove),ms(this.contextWindow,"pointerup",this.handlePointerUp),ms(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),nr(this.updatePoint)}}function _d(e,t){return t?{point:t(e.point)}:e}function o1(e,t){return{x:e.x-t.x,y:e.y-t.y}}function Ld({point:e},t){return{point:e,delta:o1(e,PS(t)),offset:o1(e,pB(t)),velocity:gB(t,.1)}}function pB(e){return e[0]}function PS(e){return e[e.length-1]}function gB(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,r=null;const o=PS(e);for(;n>=0&&(r=e[n],!(o.timestamp-r.timestamp>Zn(t)));)n--;if(!r)return{x:0,y:0};const l=ei(o.timestamp-r.timestamp);if(l===0)return{x:0,y:0};const u={x:(o.x-r.x)/l,y:(o.y-r.y)/l};return u.x===1/0&&(u.x=0),u.y===1/0&&(u.y=0),u}function yB(e,{min:t,max:n},r){return t!==void 0&&e<t?e=r?ft(t,e,r.min):Math.max(e,t):n!==void 0&&e>n&&(e=r?ft(n,e,r.max):Math.min(e,n)),e}function s1(e,t,n){return{min:t!==void 0?e.min+t:void 0,max:n!==void 0?e.max+n-(e.max-e.min):void 0}}function xB(e,{top:t,left:n,bottom:r,right:o}){return{x:s1(e.x,n,o),y:s1(e.y,t,r)}}function l1(e,t){let n=t.min-e.min,r=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,r]=[r,n]),{min:n,max:r}}function vB(e,t){return{x:l1(e.x,t.x),y:l1(e.y,t.y)}}function bB(e,t){let n=.5;const r=Qt(e),o=Qt(t);return o>r?n=bs(t.min,t.max-r,e.min):r>o&&(n=bs(e.min,e.max-o,t.min)),Si(0,1,n)}function TB(e,t){const n={};return t.min!==void 0&&(n.min=t.min-e.min),t.max!==void 0&&(n.max=t.max-e.min),n}const Am=.35;function SB(e=Am){return e===!1?e=0:e===!0&&(e=Am),{x:u1(e,"left","right"),y:u1(e,"top","bottom")}}function u1(e,t,n){return{min:c1(e,t),max:c1(e,n)}}function c1(e,t){return typeof e=="number"?e:e[t]||0}const CB=new WeakMap;class MB{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Tt(),this.visualElement=t}start(t,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const o=h=>{const{dragSnapToOrigin:g}=this.getProps();g?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Vs(h).point)},l=(h,g)=>{const{drag:T,dragPropagation:S,onDragStart:E}=this.getProps();if(T&&!S&&(this.openDragLock&&this.openDragLock(),this.openDragLock=j3(T),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Rn(L=>{let I=this.getAxisMotionValue(L).get()||0;if(ti.test(I)){const{projection:N}=this.visualElement;if(N&&N.layout){const R=N.layout.layoutBox[L];R&&(I=Qt(R)*(parseFloat(I)/100))}}this.originPoint[L]=I}),E&&dt.postRender(()=>E(h,g)),Sm(this.visualElement,"transform");const{animationState:A}=this.visualElement;A&&A.setActive("whileDrag",!0)},u=(h,g)=>{const{dragPropagation:T,dragDirectionLock:S,onDirectionLock:E,onDrag:A}=this.getProps();if(!T&&!this.openDragLock)return;const{offset:L}=g;if(S&&this.currentDirection===null){this.currentDirection=EB(L),this.currentDirection!==null&&E&&E(this.currentDirection);return}this.updateAxis("x",g.point,L),this.updateAxis("y",g.point,L),this.visualElement.render(),A&&A(h,g)},f=(h,g)=>this.stop(h,g),m=()=>Rn(h=>{var g;return this.getAnimationState(h)==="paused"&&((g=this.getAxisMotionValue(h).animation)==null?void 0:g.play())}),{dragSnapToOrigin:d}=this.getProps();this.panSession=new VS(t,{onSessionStart:o,onStart:l,onMove:u,onSessionEnd:f,resumeAnimation:m},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:d,contextWindow:LS(this.visualElement)})}stop(t,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:o}=n;this.startAnimation(o);const{onDragEnd:l}=this.getProps();l&&dt.postRender(()=>l(t,n))}cancel(){this.isDragging=!1;const{projection:t,animationState:n}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(t,n,r){const{drag:o}=this.getProps();if(!r||!lu(t,o,this.currentDirection))return;const l=this.getAxisMotionValue(t);let u=this.originPoint[t]+r[t];this.constraints&&this.constraints[t]&&(u=yB(u,this.constraints[t],this.elastic[t])),l.set(u)}resolveConstraints(){var l;const{dragConstraints:t,dragElastic:n}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(l=this.visualElement.projection)==null?void 0:l.layout,o=this.constraints;t&&Va(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&r?this.constraints=xB(r.layoutBox,t):this.constraints=!1,this.elastic=SB(n),o!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&Rn(u=>{this.constraints!==!1&&this.getAxisMotionValue(u)&&(this.constraints[u]=TB(r.layoutBox[u],this.constraints[u]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:n}=this.getProps();if(!t||!Va(t))return!1;const r=t.current,{projection:o}=this.visualElement;if(!o||!o.layout)return!1;const l=mB(r,o.root,this.visualElement.getTransformPagePoint());let u=vB(o.layout.layoutBox,l);if(n){const f=n(rB(u));this.hasMutatedConstraints=!!f,f&&(u=DS(f))}return u}startAnimation(t){const{drag:n,dragMomentum:r,dragElastic:o,dragTransition:l,dragSnapToOrigin:u,onDragTransitionEnd:f}=this.getProps(),m=this.constraints||{},d=Rn(h=>{if(!lu(h,n,this.currentDirection))return;let g=m&&m[h]||{};u&&(g={min:0,max:0});const T=o?200:1e6,S=o?40:1e7,E={type:"inertia",velocity:r?t[h]:0,bounceStiffness:T,bounceDamping:S,timeConstant:750,restDelta:1,restSpeed:10,...l,...g};return this.startAxisValueAnimation(h,E)});return Promise.all(d).then(f)}startAxisValueAnimation(t,n){const r=this.getAxisMotionValue(t);return Sm(this.visualElement,t),r.start(Dh(t,r,0,n,this.visualElement,!1))}stopAnimation(){Rn(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){Rn(t=>{var n;return(n=this.getAxisMotionValue(t).animation)==null?void 0:n.pause()})}getAnimationState(t){var n;return(n=this.getAxisMotionValue(t).animation)==null?void 0:n.state}getAxisMotionValue(t){const n=`_drag${t.toUpperCase()}`,r=this.visualElement.getProps(),o=r[n];return o||this.visualElement.getValue(t,(r.initial?r.initial[t]:void 0)||0)}snapToCursor(t){Rn(n=>{const{drag:r}=this.getProps();if(!lu(n,r,this.currentDirection))return;const{projection:o}=this.visualElement,l=this.getAxisMotionValue(n);if(o&&o.layout){const{min:u,max:f}=o.layout.layoutBox[n];l.set(t[n]-ft(u,f,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!Va(n)||!r||!this.constraints)return;this.stopAnimation();const o={x:0,y:0};Rn(u=>{const f=this.getAxisMotionValue(u);if(f&&this.constraints!==!1){const m=f.get();o[u]=bB({min:m,max:m},this.constraints[u])}});const{transformTemplate:l}=this.visualElement.getProps();this.visualElement.current.style.transform=l?l({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),Rn(u=>{if(!lu(u,t,null))return;const f=this.getAxisMotionValue(u),{min:m,max:d}=this.constraints[u];f.set(ft(m,d,o[u]))})}addListeners(){if(!this.visualElement.current)return;CB.set(this.visualElement,this);const t=this.visualElement.current,n=ms(t,"pointerdown",m=>{const{drag:d,dragListener:h=!0}=this.getProps();d&&h&&this.start(m)}),r=()=>{const{dragConstraints:m}=this.getProps();Va(m)&&m.current&&(this.constraints=this.resolveRefConstraints())},{projection:o}=this.visualElement,l=o.addEventListener("measure",r);o&&!o.layout&&(o.root&&o.root.updateScroll(),o.updateLayout()),dt.read(r);const u=As(window,"resize",()=>this.scalePositionWithinConstraints()),f=o.addEventListener("didUpdate",({delta:m,hasLayoutChanged:d})=>{this.isDragging&&d&&(Rn(h=>{const g=this.getAxisMotionValue(h);g&&(this.originPoint[h]+=m[h].translate,g.set(g.get()+m[h].translate))}),this.visualElement.render())});return()=>{u(),n(),l(),f&&f()}}getProps(){const t=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:o=!1,dragConstraints:l=!1,dragElastic:u=Am,dragMomentum:f=!0}=t;return{...t,drag:n,dragDirectionLock:r,dragPropagation:o,dragConstraints:l,dragElastic:u,dragMomentum:f}}}function lu(e,t,n){return(t===!0||t===e)&&(n===null||n===e)}function EB(e,t=10){let n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}class AB extends lr{constructor(t){super(t),this.removeGroupControls=Vn,this.removeListeners=Vn,this.controls=new MB(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Vn}unmount(){this.removeGroupControls(),this.removeListeners()}}const f1=e=>(t,n)=>{e&&dt.postRender(()=>e(t,n))};class wB extends lr{constructor(){super(...arguments),this.removePointerDownListener=Vn}onPointerDown(t){this.session=new VS(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:LS(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:n,onPan:r,onPanEnd:o}=this.node.getProps();return{onSessionStart:f1(t),onStart:f1(n),onMove:r,onEnd:(l,u)=>{delete this.session,o&&dt.postRender(()=>o(l,u))}}}mount(){this.removePointerDownListener=ms(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const xu={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function d1(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const is={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(Ie.test(e))e=parseFloat(e);else return e;const n=d1(e,t.target.x),r=d1(e,t.target.y);return`${n}% ${r}%`}},DB={correct:(e,{treeScale:t,projectionDelta:n})=>{const r=e,o=ir.parse(e);if(o.length>5)return r;const l=ir.createTransformer(e),u=typeof o[0]!="number"?1:0,f=n.x.scale*t.x,m=n.y.scale*t.y;o[0+u]/=f,o[1+u]/=m;const d=ft(f,m,.5);return typeof o[2+u]=="number"&&(o[2+u]/=d),typeof o[3+u]=="number"&&(o[3+u]/=d),l(o)}};class IB extends ae.Component{componentDidMount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r,layoutId:o}=this.props,{projection:l}=t;m4(kB),l&&(n.group&&n.group.add(l),r&&r.register&&o&&r.register(l),l.root.didUpdate(),l.addEventListener("animationComplete",()=>{this.safeToRemove()}),l.setOptions({...l.options,onExitComplete:()=>this.safeToRemove()})),xu.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:n,visualElement:r,drag:o,isPresent:l}=this.props,{projection:u}=r;return u&&(u.isPresent=l,o||t.layoutDependency!==n||n===void 0||t.isPresent!==l?u.willUpdate():this.safeToRemove(),t.isPresent!==l&&(l?u.promote():u.relegate()||dt.postRender(()=>{const f=u.getStack();(!f||!f.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),xh.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:o}=t;o&&(o.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(o),r&&r.deregister&&r.deregister(o))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function BS(e){const[t,n]=W3(),r=ae.useContext(vT);return y.jsx(IB,{...e,layoutGroup:r,switchLayoutGroup:ae.useContext(pS),isPresent:t,safeToRemove:n})}const kB={borderRadius:{...is,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:is,borderTopRightRadius:is,borderBottomLeftRadius:is,borderBottomRightRadius:is,boxShadow:DB};function RB(e,t,n){const r=Yt(e)?e:ja(e);return r.start(Dh("",r,t,n)),r.animation}const NB=(e,t)=>e.depth-t.depth;class _B{constructor(){this.children=[],this.isDirty=!1}add(t){Zm(this.children,t),this.isDirty=!0}remove(t){eh(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(NB),this.isDirty=!1,this.children.forEach(t)}}function LB(e,t){const n=sn.now(),r=({timestamp:o})=>{const l=o-n;l>=t&&(nr(r),e(l-t))};return dt.setup(r,!0),()=>nr(r)}const OS=["TopLeft","TopRight","BottomLeft","BottomRight"],VB=OS.length,m1=e=>typeof e=="string"?parseFloat(e):e,h1=e=>typeof e=="number"||Ie.test(e);function PB(e,t,n,r,o,l){o?(e.opacity=ft(0,n.opacity??1,BB(r)),e.opacityExit=ft(t.opacity??1,0,OB(r))):l&&(e.opacity=ft(t.opacity??1,n.opacity??1,r));for(let u=0;u<VB;u++){const f=`border${OS[u]}Radius`;let m=p1(t,f),d=p1(n,f);if(m===void 0&&d===void 0)continue;m||(m=0),d||(d=0),m===0||d===0||h1(m)===h1(d)?(e[f]=Math.max(ft(m1(m),m1(d),r),0),(ti.test(d)||ti.test(m))&&(e[f]+="%")):e[f]=d}(t.rotate||n.rotate)&&(e.rotate=ft(t.rotate||0,n.rotate||0,r))}function p1(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const BB=FS(0,.5,kT),OB=FS(.5,.95,Vn);function FS(e,t,n){return r=>r<e?0:r>t?1:n(bs(e,t,r))}function g1(e,t){e.min=t.min,e.max=t.max}function kn(e,t){g1(e.x,t.x),g1(e.y,t.y)}function y1(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function x1(e,t,n,r,o){return e-=t,e=Nu(e,1/n,r),o!==void 0&&(e=Nu(e,1/o,r)),e}function FB(e,t=0,n=1,r=.5,o,l=e,u=e){if(ti.test(t)&&(t=parseFloat(t),t=ft(u.min,u.max,t/100)-u.min),typeof t!="number")return;let f=ft(l.min,l.max,r);e===l&&(f-=t),e.min=x1(e.min,t,n,f,o),e.max=x1(e.max,t,n,f,o)}function v1(e,t,[n,r,o],l,u){FB(e,t[n],t[r],t[o],t.scale,l,u)}const zB=["x","scaleX","originX"],jB=["y","scaleY","originY"];function b1(e,t,n,r){v1(e.x,t,zB,n?n.x:void 0,r?r.x:void 0),v1(e.y,t,jB,n?n.y:void 0,r?r.y:void 0)}function T1(e){return e.translate===0&&e.scale===1}function zS(e){return T1(e.x)&&T1(e.y)}function S1(e,t){return e.min===t.min&&e.max===t.max}function HB(e,t){return S1(e.x,t.x)&&S1(e.y,t.y)}function C1(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function jS(e,t){return C1(e.x,t.x)&&C1(e.y,t.y)}function M1(e){return Qt(e.x)/Qt(e.y)}function E1(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class UB{constructor(){this.members=[]}add(t){Zm(this.members,t),t.scheduleRender()}remove(t){if(eh(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(t){const n=this.members.findIndex(o=>t===o);if(n===0)return!1;let r;for(let o=n;o>=0;o--){const l=this.members[o];if(l.isPresent!==!1){r=l;break}}return r?(this.promote(r),!0):!1}promote(t,n){const r=this.lead;if(t!==r&&(this.prevLead=r,this.lead=t,t.show(),r)){r.instance&&r.scheduleRender(),t.scheduleRender(),t.resumeFrom=r,n&&(t.resumeFrom.preserveOpacity=!0),r.snapshot&&(t.snapshot=r.snapshot,t.snapshot.latestValues=r.animationValues||r.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:o}=t.options;o===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:n,resumingFrom:r}=t;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function GB(e,t,n){let r="";const o=e.x.translate/t.x,l=e.y.translate/t.y,u=(n==null?void 0:n.z)||0;if((o||l||u)&&(r=`translate3d(${o}px, ${l}px, ${u}px) `),(t.x!==1||t.y!==1)&&(r+=`scale(${1/t.x}, ${1/t.y}) `),n){const{transformPerspective:d,rotate:h,rotateX:g,rotateY:T,skewX:S,skewY:E}=n;d&&(r=`perspective(${d}px) ${r}`),h&&(r+=`rotate(${h}deg) `),g&&(r+=`rotateX(${g}deg) `),T&&(r+=`rotateY(${T}deg) `),S&&(r+=`skewX(${S}deg) `),E&&(r+=`skewY(${E}deg) `)}const f=e.x.scale*t.x,m=e.y.scale*t.y;return(f!==1||m!==1)&&(r+=`scale(${f}, ${m})`),r||"none"}const Vd=["","X","Y","Z"],qB={visibility:"hidden"},YB=1e3;let $B=0;function Pd(e,t,n,r){const{latestValues:o}=t;o[e]&&(n[e]=o[e],t.setStaticValue(e,0),r&&(r[e]=0))}function HS(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const n=MS(t);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:o,layoutId:l}=e.options;window.MotionCancelOptimisedAnimation(n,"transform",dt,!(o||l))}const{parent:r}=e;r&&!r.hasCheckedOptimisedAppear&&HS(r)}function US({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:r,resetTransform:o}){return class{constructor(u={},f=t==null?void 0:t()){this.id=$B++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(WB),this.nodes.forEach(tO),this.nodes.forEach(nO),this.nodes.forEach(QB)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=u,this.root=f?f.root||f:this,this.path=f?[...f.path,f]:[],this.parent=f,this.depth=f?f.depth+1:0;for(let m=0;m<this.path.length;m++)this.path[m].shouldResetTransform=!0;this.root===this&&(this.nodes=new _B)}addEventListener(u,f){return this.eventHandlers.has(u)||this.eventHandlers.set(u,new ih),this.eventHandlers.get(u).add(f)}notifyListeners(u,...f){const m=this.eventHandlers.get(u);m&&m.notify(...f)}hasListeners(u){return this.eventHandlers.has(u)}mount(u){if(this.instance)return;this.isSVG=uS(u)&&!$3(u),this.instance=u;const{layoutId:f,layout:m,visualElement:d}=this.options;if(d&&!d.current&&d.mount(u),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(m||f)&&(this.isLayoutDirty=!0),e){let h;const g=()=>this.root.updateBlockedByResize=!1;e(u,()=>{this.root.updateBlockedByResize=!0,h&&h(),h=LB(g,250),xu.hasAnimatedSinceResize&&(xu.hasAnimatedSinceResize=!1,this.nodes.forEach(w1))})}f&&this.root.registerSharedNode(f,this),this.options.animate!==!1&&d&&(f||m)&&this.addEventListener("didUpdate",({delta:h,hasLayoutChanged:g,hasRelativeLayoutChanged:T,layout:S})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const E=this.options.transition||d.getDefaultTransition()||sO,{onLayoutAnimationStart:A,onLayoutAnimationComplete:L}=d.getProps(),I=!this.targetLayout||!jS(this.targetLayout,S),N=!g&&T;if(this.options.layoutRoot||this.resumeFrom||N||g&&(I||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const R={...gh(E,"layout"),onPlay:A,onComplete:L};(d.shouldReduceMotion||this.options.layoutRoot)&&(R.delay=0,R.type=!1),this.startAnimation(R),this.setAnimationOrigin(h,N)}else g||w1(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=S})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const u=this.getStack();u&&u.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),nr(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(iO),this.animationId++)}getTransformTemplate(){const{visualElement:u}=this.options;return u&&u.getProps().transformTemplate}willUpdate(u=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&HS(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let h=0;h<this.path.length;h++){const g=this.path[h];g.shouldResetTransform=!0,g.updateScroll("snapshot"),g.options.layoutRoot&&g.willUpdate(!1)}const{layoutId:f,layout:m}=this.options;if(f===void 0&&!m)return;const d=this.getTransformTemplate();this.prevTransformTemplateValue=d?d(this.latestValues,""):void 0,this.updateSnapshot(),u&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(A1);return}this.isUpdating||this.nodes.forEach(ZB),this.isUpdating=!1,this.nodes.forEach(eO),this.nodes.forEach(KB),this.nodes.forEach(XB),this.clearAllSnapshots();const f=sn.now();Bt.delta=Si(0,1e3/60,f-Bt.timestamp),Bt.timestamp=f,Bt.isProcessing=!0,Ad.update.process(Bt),Ad.preRender.process(Bt),Ad.render.process(Bt),Bt.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,xh.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(JB),this.sharedNodes.forEach(rO)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,dt.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){dt.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Qt(this.snapshot.measuredBox.x)&&!Qt(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let m=0;m<this.path.length;m++)this.path[m].updateScroll();const u=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Tt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:f}=this.options;f&&f.notify("LayoutMeasure",this.layout.layoutBox,u?u.layoutBox:void 0)}updateScroll(u="measure"){let f=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===u&&(f=!1),f&&this.instance){const m=r(this.instance);this.scroll={animationId:this.root.animationId,phase:u,isRoot:m,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:m}}}resetTransform(){if(!o)return;const u=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,f=this.projectionDelta&&!zS(this.projectionDelta),m=this.getTransformTemplate(),d=m?m(this.latestValues,""):void 0,h=d!==this.prevTransformTemplateValue;u&&this.instance&&(f||Lr(this.latestValues)||h)&&(o(this.instance,d),this.shouldResetTransform=!1,this.scheduleRender())}measure(u=!0){const f=this.measurePageBox();let m=this.removeElementScroll(f);return u&&(m=this.removeTransform(m)),lO(m),{animationId:this.root.animationId,measuredBox:f,layoutBox:m,latestValues:{},source:this.id}}measurePageBox(){var d;const{visualElement:u}=this.options;if(!u)return Tt();const f=u.measureViewportBox();if(!(((d=this.scroll)==null?void 0:d.wasRoot)||this.path.some(uO))){const{scroll:h}=this.root;h&&(Ba(f.x,h.offset.x),Ba(f.y,h.offset.y))}return f}removeElementScroll(u){var m;const f=Tt();if(kn(f,u),(m=this.scroll)!=null&&m.wasRoot)return f;for(let d=0;d<this.path.length;d++){const h=this.path[d],{scroll:g,options:T}=h;h!==this.root&&g&&T.layoutScroll&&(g.wasRoot&&kn(f,u),Ba(f.x,g.offset.x),Ba(f.y,g.offset.y))}return f}applyTransform(u,f=!1){const m=Tt();kn(m,u);for(let d=0;d<this.path.length;d++){const h=this.path[d];!f&&h.options.layoutScroll&&h.scroll&&h!==h.root&&Oa(m,{x:-h.scroll.offset.x,y:-h.scroll.offset.y}),Lr(h.latestValues)&&Oa(m,h.latestValues)}return Lr(this.latestValues)&&Oa(m,this.latestValues),m}removeTransform(u){const f=Tt();kn(f,u);for(let m=0;m<this.path.length;m++){const d=this.path[m];if(!d.instance||!Lr(d.latestValues))continue;Mm(d.latestValues)&&d.updateSnapshot();const h=Tt(),g=d.measurePageBox();kn(h,g),b1(f,d.latestValues,d.snapshot?d.snapshot.layoutBox:void 0,h)}return Lr(this.latestValues)&&b1(f,this.latestValues),f}setTargetDelta(u){this.targetDelta=u,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(u){this.options={...this.options,...u,crossfade:u.crossfade!==void 0?u.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Bt.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(u=!1){var T;const f=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=f.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=f.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=f.isSharedProjectionDirty);const m=!!this.resumingFrom||this!==f;if(!(u||m&&this.isSharedProjectionDirty||this.isProjectionDirty||(T=this.parent)!=null&&T.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:h,layoutId:g}=this.options;if(!(!this.layout||!(h||g))){if(this.resolvedRelativeTargetAt=Bt.timestamp,!this.targetDelta&&!this.relativeTarget){const S=this.getClosestProjectingParent();S&&S.layout&&this.animationProgress!==1?(this.relativeParent=S,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Tt(),this.relativeTargetOrigin=Tt(),ps(this.relativeTargetOrigin,this.layout.layoutBox,S.layout.layoutBox),kn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Tt(),this.targetWithTransforms=Tt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),fB(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):kn(this.target,this.layout.layoutBox),NS(this.target,this.targetDelta)):kn(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const S=this.getClosestProjectingParent();S&&!!S.resumingFrom==!!this.resumingFrom&&!S.options.layoutScroll&&S.target&&this.animationProgress!==1?(this.relativeParent=S,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Tt(),this.relativeTargetOrigin=Tt(),ps(this.relativeTargetOrigin,this.target,S.target),kn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||Mm(this.parent.latestValues)||RS(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var E;const u=this.getLead(),f=!!this.resumingFrom||this!==u;let m=!0;if((this.isProjectionDirty||(E=this.parent)!=null&&E.isProjectionDirty)&&(m=!1),f&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(m=!1),this.resolvedRelativeTargetAt===Bt.timestamp&&(m=!1),m)return;const{layout:d,layoutId:h}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(d||h))return;kn(this.layoutCorrected,this.layout.layoutBox);const g=this.treeScale.x,T=this.treeScale.y;dB(this.layoutCorrected,this.treeScale,this.path,f),u.layout&&!u.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(u.target=u.layout.layoutBox,u.targetWithTransforms=Tt());const{target:S}=u;if(!S){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(y1(this.prevProjectionDelta.x,this.projectionDelta.x),y1(this.prevProjectionDelta.y,this.projectionDelta.y)),hs(this.projectionDelta,this.layoutCorrected,S,this.latestValues),(this.treeScale.x!==g||this.treeScale.y!==T||!E1(this.projectionDelta.x,this.prevProjectionDelta.x)||!E1(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",S))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(u=!0){var f;if((f=this.options.visualElement)==null||f.scheduleRender(),u){const m=this.getStack();m&&m.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Pa(),this.projectionDelta=Pa(),this.projectionDeltaWithTransform=Pa()}setAnimationOrigin(u,f=!1){const m=this.snapshot,d=m?m.latestValues:{},h={...this.latestValues},g=Pa();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!f;const T=Tt(),S=m?m.source:void 0,E=this.layout?this.layout.source:void 0,A=S!==E,L=this.getStack(),I=!L||L.members.length<=1,N=!!(A&&!I&&this.options.crossfade===!0&&!this.path.some(oO));this.animationProgress=0;let R;this.mixTargetDelta=z=>{const G=z/1e3;D1(g.x,u.x,G),D1(g.y,u.y,G),this.setTargetDelta(g),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(ps(T,this.layout.layoutBox,this.relativeParent.layout.layoutBox),aO(this.relativeTarget,this.relativeTargetOrigin,T,G),R&&HB(this.relativeTarget,R)&&(this.isProjectionDirty=!1),R||(R=Tt()),kn(R,this.relativeTarget)),A&&(this.animationValues=h,PB(h,d,this.latestValues,G,N,I)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=G},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(u){var f,m,d;this.notifyListeners("animationStart"),(f=this.currentAnimation)==null||f.stop(),(d=(m=this.resumingFrom)==null?void 0:m.currentAnimation)==null||d.stop(),this.pendingAnimation&&(nr(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=dt.update(()=>{xu.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=ja(0)),this.currentAnimation=RB(this.motionValue,[0,1e3],{...u,velocity:0,isSync:!0,onUpdate:h=>{this.mixTargetDelta(h),u.onUpdate&&u.onUpdate(h)},onStop:()=>{},onComplete:()=>{u.onComplete&&u.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const u=this.getStack();u&&u.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(YB),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const u=this.getLead();let{targetWithTransforms:f,target:m,layout:d,latestValues:h}=u;if(!(!f||!m||!d)){if(this!==u&&this.layout&&d&&GS(this.options.animationType,this.layout.layoutBox,d.layoutBox)){m=this.target||Tt();const g=Qt(this.layout.layoutBox.x);m.x.min=u.target.x.min,m.x.max=m.x.min+g;const T=Qt(this.layout.layoutBox.y);m.y.min=u.target.y.min,m.y.max=m.y.min+T}kn(f,m),Oa(f,h),hs(this.projectionDeltaWithTransform,this.layoutCorrected,f,h)}}registerSharedNode(u,f){this.sharedNodes.has(u)||this.sharedNodes.set(u,new UB),this.sharedNodes.get(u).add(f);const d=f.options.initialPromotionConfig;f.promote({transition:d?d.transition:void 0,preserveFollowOpacity:d&&d.shouldPreserveFollowOpacity?d.shouldPreserveFollowOpacity(f):void 0})}isLead(){const u=this.getStack();return u?u.lead===this:!0}getLead(){var f;const{layoutId:u}=this.options;return u?((f=this.getStack())==null?void 0:f.lead)||this:this}getPrevLead(){var f;const{layoutId:u}=this.options;return u?(f=this.getStack())==null?void 0:f.prevLead:void 0}getStack(){const{layoutId:u}=this.options;if(u)return this.root.sharedNodes.get(u)}promote({needsReset:u,transition:f,preserveFollowOpacity:m}={}){const d=this.getStack();d&&d.promote(this,m),u&&(this.projectionDelta=void 0,this.needsReset=!0),f&&this.setOptions({transition:f})}relegate(){const u=this.getStack();return u?u.relegate(this):!1}resetSkewAndRotation(){const{visualElement:u}=this.options;if(!u)return;let f=!1;const{latestValues:m}=u;if((m.z||m.rotate||m.rotateX||m.rotateY||m.rotateZ||m.skewX||m.skewY)&&(f=!0),!f)return;const d={};m.z&&Pd("z",u,d,this.animationValues);for(let h=0;h<Vd.length;h++)Pd(`rotate${Vd[h]}`,u,d,this.animationValues),Pd(`skew${Vd[h]}`,u,d,this.animationValues);u.render();for(const h in d)u.setStaticValue(h,d[h]),this.animationValues&&(this.animationValues[h]=d[h]);u.scheduleRender()}getProjectionStyles(u){if(!this.instance||this.isSVG)return;if(!this.isVisible)return qB;const f={visibility:""},m=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,f.opacity="",f.pointerEvents=yu(u==null?void 0:u.pointerEvents)||"",f.transform=m?m(this.latestValues,""):"none",f;const d=this.getLead();if(!this.projectionDelta||!this.layout||!d.target){const S={};return this.options.layoutId&&(S.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,S.pointerEvents=yu(u==null?void 0:u.pointerEvents)||""),this.hasProjected&&!Lr(this.latestValues)&&(S.transform=m?m({},""):"none",this.hasProjected=!1),S}const h=d.animationValues||d.latestValues;this.applyTransformsToTarget(),f.transform=GB(this.projectionDeltaWithTransform,this.treeScale,h),m&&(f.transform=m(h,f.transform));const{x:g,y:T}=this.projectionDelta;f.transformOrigin=`${g.origin*100}% ${T.origin*100}% 0`,d.animationValues?f.opacity=d===this?h.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:h.opacityExit:f.opacity=d===this?h.opacity!==void 0?h.opacity:"":h.opacityExit!==void 0?h.opacityExit:0;for(const S in Ms){if(h[S]===void 0)continue;const{correct:E,applyTo:A,isCSSVariable:L}=Ms[S],I=f.transform==="none"?h[S]:E(h[S],d);if(A){const N=A.length;for(let R=0;R<N;R++)f[A[R]]=I}else L?this.options.visualElement.renderState.vars[S]=I:f[S]=I}return this.options.layoutId&&(f.pointerEvents=d===this?yu(u==null?void 0:u.pointerEvents)||"":"none"),f}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(u=>{var f;return(f=u.currentAnimation)==null?void 0:f.stop()}),this.root.nodes.forEach(A1),this.root.sharedNodes.clear()}}}function KB(e){e.updateLayout()}function XB(e){var n;const t=((n=e.resumeFrom)==null?void 0:n.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&t&&e.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:o}=e.layout,{animationType:l}=e.options,u=t.source!==e.layout.source;l==="size"?Rn(g=>{const T=u?t.measuredBox[g]:t.layoutBox[g],S=Qt(T);T.min=r[g].min,T.max=T.min+S}):GS(l,t.layoutBox,r)&&Rn(g=>{const T=u?t.measuredBox[g]:t.layoutBox[g],S=Qt(r[g]);T.max=T.min+S,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[g].max=e.relativeTarget[g].min+S)});const f=Pa();hs(f,r,t.layoutBox);const m=Pa();u?hs(m,e.applyTransform(o,!0),t.measuredBox):hs(m,r,t.layoutBox);const d=!zS(f);let h=!1;if(!e.resumeFrom){const g=e.getClosestProjectingParent();if(g&&!g.resumeFrom){const{snapshot:T,layout:S}=g;if(T&&S){const E=Tt();ps(E,t.layoutBox,T.layoutBox);const A=Tt();ps(A,r,S.layoutBox),jS(E,A)||(h=!0),g.options.layoutRoot&&(e.relativeTarget=A,e.relativeTargetOrigin=E,e.relativeParent=g)}}}e.notifyListeners("didUpdate",{layout:r,snapshot:t,delta:m,layoutDelta:f,hasLayoutChanged:d,hasRelativeLayoutChanged:h})}else if(e.isLead()){const{onExitComplete:r}=e.options;r&&r()}e.options.transition=void 0}function WB(e){e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function QB(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function JB(e){e.clearSnapshot()}function A1(e){e.clearMeasurements()}function ZB(e){e.isLayoutDirty=!1}function eO(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function w1(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function tO(e){e.resolveTargetDelta()}function nO(e){e.calcProjection()}function iO(e){e.resetSkewAndRotation()}function rO(e){e.removeLeadSnapshot()}function D1(e,t,n){e.translate=ft(t.translate,0,n),e.scale=ft(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function I1(e,t,n,r){e.min=ft(t.min,n.min,r),e.max=ft(t.max,n.max,r)}function aO(e,t,n,r){I1(e.x,t.x,n.x,r),I1(e.y,t.y,n.y,r)}function oO(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const sO={duration:.45,ease:[.4,0,.1,1]},k1=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),R1=k1("applewebkit/")&&!k1("chrome/")?Math.round:Vn;function N1(e){e.min=R1(e.min),e.max=R1(e.max)}function lO(e){N1(e.x),N1(e.y)}function GS(e,t,n){return e==="position"||e==="preserve-aspect"&&!cB(M1(t),M1(n),.2)}function uO(e){var t;return e!==e.root&&((t=e.scroll)==null?void 0:t.wasRoot)}const cO=US({attachResizeListener:(e,t)=>As(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Bd={current:void 0},qS=US({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!Bd.current){const e=new cO({});e.mount(window),e.setOptions({layoutScroll:!0}),Bd.current=e}return Bd.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),fO={pan:{Feature:wB},drag:{Feature:AB,ProjectionNode:qS,MeasureLayout:BS}};function _1(e,t,n){const{props:r}=e;e.animationState&&r.whileHover&&e.animationState.setActive("whileHover",n==="Start");const o="onHover"+n,l=r[o];l&&dt.postRender(()=>l(t,Vs(t)))}class dO extends lr{mount(){const{current:t}=this.node;t&&(this.unmount=H3(t,(n,r)=>(_1(this.node,r,"Start"),o=>_1(this.node,o,"End"))))}unmount(){}}class mO extends lr{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Ns(As(this.node.current,"focus",()=>this.onFocus()),As(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function L1(e,t,n){const{props:r}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&r.whileTap&&e.animationState.setActive("whileTap",n==="Start");const o="onTap"+(n==="End"?"":n),l=r[o];l&&dt.postRender(()=>l(t,Vs(t)))}class hO extends lr{mount(){const{current:t}=this.node;t&&(this.unmount=Y3(t,(n,r)=>(L1(this.node,r,"Start"),(o,{success:l})=>L1(this.node,o,l?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const wm=new WeakMap,Od=new WeakMap,pO=e=>{const t=wm.get(e.target);t&&t(e)},gO=e=>{e.forEach(pO)};function yO({root:e,...t}){const n=e||document;Od.has(n)||Od.set(n,{});const r=Od.get(n),o=JSON.stringify(t);return r[o]||(r[o]=new IntersectionObserver(gO,{root:e,...t})),r[o]}function xO(e,t,n){const r=yO(t);return wm.set(e,n),r.observe(e),()=>{wm.delete(e),r.unobserve(e)}}const vO={some:0,all:1};class bO extends lr{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:n,margin:r,amount:o="some",once:l}=t,u={root:n?n.current:void 0,rootMargin:r,threshold:typeof o=="number"?o:vO[o]},f=m=>{const{isIntersecting:d}=m;if(this.isInView===d||(this.isInView=d,l&&!d&&this.hasEnteredView))return;d&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",d);const{onViewportEnter:h,onViewportLeave:g}=this.node.getProps(),T=d?h:g;T&&T(m)};return xO(this.node.current,u,f)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:n}=this.node;["amount","margin","root"].some(TO(t,n))&&this.startObserver()}unmount(){}}function TO({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}const SO={inView:{Feature:bO},tap:{Feature:hO},focus:{Feature:mO},hover:{Feature:dO}},CO={layout:{ProjectionNode:qS,MeasureLayout:BS}},Dm={current:null},YS={current:!1};function MO(){if(YS.current=!0,!!Qm)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>Dm.current=e.matches;e.addListener(t),t()}else Dm.current=!1}const EO=new WeakMap;function AO(e,t,n){for(const r in t){const o=t[r],l=n[r];if(Yt(o))e.addValue(r,o);else if(Yt(l))e.addValue(r,ja(o,{owner:e}));else if(l!==o)if(e.hasValue(r)){const u=e.getValue(r);u.liveStyle===!0?u.jump(o):u.hasAnimated||u.set(o)}else{const u=e.getStaticValue(r);e.addValue(r,ja(u!==void 0?u:o,{owner:e}))}}for(const r in n)t[r]===void 0&&e.removeValue(r);return t}const V1=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class wO{scrapeMotionValuesFromProps(t,n,r){return{}}constructor({parent:t,props:n,presenceContext:r,reducedMotionConfig:o,blockInitialAnimation:l,visualState:u},f={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=ph,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const T=sn.now();this.renderScheduledAt<T&&(this.renderScheduledAt=T,dt.render(this.render,!1,!0))};const{latestValues:m,renderState:d}=u;this.latestValues=m,this.baseTarget={...m},this.initialValues=n.initial?{...m}:{},this.renderState=d,this.parent=t,this.props=n,this.presenceContext=r,this.depth=t?t.depth+1:0,this.reducedMotionConfig=o,this.options=f,this.blockInitialAnimation=!!l,this.isControllingVariants=Uu(n),this.isVariantNode=mS(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:h,...g}=this.scrapeMotionValuesFromProps(n,{},this);for(const T in g){const S=g[T];m[T]!==void 0&&Yt(S)&&S.set(m[T],!1)}}mount(t){this.current=t,EO.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),YS.current||MO(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Dm.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),nr(this.notifyUpdate),nr(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const n=this.features[t];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(t,n){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const r=Xa.has(t);r&&this.onBindTransform&&this.onBindTransform();const o=n.on("change",f=>{this.latestValues[t]=f,this.props.onUpdate&&dt.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0)}),l=n.on("renderRequest",this.scheduleRender);let u;window.MotionCheckAppearSync&&(u=window.MotionCheckAppearSync(this,t,n)),this.valueSubscriptions.set(t,()=>{o(),l(),u&&u(),n.owner&&n.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in Ha){const n=Ha[t];if(!n)continue;const{isEnabled:r,Feature:o}=n;if(!this.features[t]&&o&&r(this.props)&&(this.features[t]=new o(this)),this.features[t]){const l=this.features[t];l.isMounted?l.update():(l.mount(),l.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Tt()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,n){this.latestValues[t]=n}update(t,n){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<V1.length;r++){const o=V1[r];this.propEventSubscriptions[o]&&(this.propEventSubscriptions[o](),delete this.propEventSubscriptions[o]);const l="on"+o,u=t[l];u&&(this.propEventSubscriptions[o]=this.on(o,u))}this.prevMotionValues=AO(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(t),()=>n.variantChildren.delete(t)}addValue(t,n){const r=this.values.get(t);n!==r&&(r&&this.removeValue(t),this.bindToMotionValue(t,n),this.values.set(t,n),this.latestValues[t]=n.get())}removeValue(t){this.values.delete(t);const n=this.valueSubscriptions.get(t);n&&(n(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,n){if(this.props.values&&this.props.values[t])return this.props.values[t];let r=this.values.get(t);return r===void 0&&n!==void 0&&(r=ja(n===null?void 0:n,{owner:this}),this.addValue(t,r)),r}readValue(t,n){let r=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return r!=null&&(typeof r=="string"&&(bT(r)||ST(r))?r=parseFloat(r):!X3(r)&&ir.test(n)&&(r=rS(t,n)),this.setBaseTarget(t,Yt(r)?r.get():r)),Yt(r)?r.get():r}setBaseTarget(t,n){this.baseTarget[t]=n}getBaseTarget(t){var l;const{initial:n}=this.props;let r;if(typeof n=="string"||typeof n=="object"){const u=Ah(this.props,n,(l=this.presenceContext)==null?void 0:l.custom);u&&(r=u[t])}if(n&&r!==void 0)return r;const o=this.getBaseTargetFromProps(this.props,t);return o!==void 0&&!Yt(o)?o:this.initialValues[t]!==void 0&&r===void 0?void 0:this.baseTarget[t]}on(t,n){return this.events[t]||(this.events[t]=new ih),this.events[t].add(n)}notify(t,...n){this.events[t]&&this.events[t].notify(...n)}}class $S extends wO{constructor(){super(...arguments),this.KeyframeResolver=B3}sortInstanceNodePosition(t,n){return t.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(t,n){return t.style?t.style[n]:void 0}removeValueFromRenderState(t,{vars:n,style:r}){delete n[t],delete r[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;Yt(t)&&(this.childSubscription=t.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function KS(e,{style:t,vars:n},r,o){Object.assign(e.style,t,o&&o.getProjectionStyles(r));for(const l in n)e.style.setProperty(l,n[l])}function DO(e){return window.getComputedStyle(e)}class IO extends $S{constructor(){super(...arguments),this.type="html",this.renderInstance=KS}readValueFromInstance(t,n){var r;if(Xa.has(n))return(r=this.projection)!=null&&r.isProjecting?pm(n):n3(t,n);{const o=DO(t),l=(oh(n)?o.getPropertyValue(n):o[n])||0;return typeof l=="string"?l.trim():l}}measureInstanceViewportBox(t,{transformPagePoint:n}){return _S(t,n)}build(t,n,r){Ch(t,n,r.transformTemplate)}scrapeMotionValuesFromProps(t,n,r){return wh(t,n,r)}}const XS=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function kO(e,t,n,r){KS(e,t,void 0,r);for(const o in t.attrs)e.setAttribute(XS.has(o)?o:Sh(o),t.attrs[o])}class RO extends $S{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Tt}getBaseTargetFromProps(t,n){return t[n]}readValueFromInstance(t,n){if(Xa.has(n)){const r=iS(n);return r&&r.default||0}return n=XS.has(n)?n:Sh(n),t.getAttribute(n)}scrapeMotionValuesFromProps(t,n,r){return CS(t,n,r)}build(t,n,r){vS(t,n,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(t,n,r,o){kO(t,n,r,o)}mount(t){this.isSVGTag=TS(t.tagName),super.mount(t)}}const NO=(e,t)=>Eh(e)?new RO(t):new IO(t,{allowProjection:e!==ae.Fragment}),_O=k4({...nB,...SO,...fO,...CO},NO),LO=t4(_O),P1=({value:e,min:t=0,max:n=1,size:r=80,label:o,onChange:l})=>{const u=Math.max(0,Math.min(1,(e-t)/(n-t))),f=-150+u*300;return y.jsxs("div",{className:"flex flex-col items-center",children:[y.jsxs("div",{className:"relative cursor-pointer select-none",style:{width:r,height:r},children:[y.jsx("div",{className:"absolute inset-0 rounded-full bg-gradient-to-b from-gray-700 to-gray-900 border-2 border-gray-600 shadow-lg",children:[...Array(11)].map((m,d)=>{const h=-150+d*30,g=d/10<=u,T=d%5===0?r*.1:r*.05,S=r/2-T,E=r/2-2,A=r/2+S*Math.cos(h*Math.PI/180),L=r/2+S*Math.sin(h*Math.PI/180),I=r/2+E*Math.cos(h*Math.PI/180),N=r/2+E*Math.sin(h*Math.PI/180);return y.jsx("line",{x1:A,y1:L,x2:I,y2:N,stroke:g?"#f97316":"#6b7280",strokeWidth:d%5===0?2:1},d)})}),y.jsx(LO.div,{className:"absolute bg-orange-500 rounded-full shadow-md",style:{width:r*.05,height:r*.3,left:"50%",top:r*.1,marginLeft:r*-.025,transformOrigin:`50% ${r*.4}px`},animate:{rotate:f},transition:{type:"spring",stiffness:300,damping:30}}),y.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:y.jsx("span",{className:"text-xs font-mono text-white bg-gray-800/70 px-2 py-1 rounded-full",children:Math.round(u*100)})})]}),o&&y.jsx("span",{className:"text-xs text-gray-300 mt-2 text-center max-w-[80px] truncate",children:o})]})};class VO extends km.Component{constructor(t){super(t),this.state={hasError:!1}}static getDerivedStateFromError(t){return{hasError:!0,error:t}}render(){return this.state.hasError?y.jsx("div",{className:"p-4 bg-red-900/20 border border-red-500 rounded-lg",children:y.jsx("p",{className:"text-red-400",children:"Something went wrong displaying the patch guide. Please try regenerating."})}):this.props.children}}const PO=()=>{const[e,t]=ae.useState({synth:"Generic",genre:"",voiceType:"",styleMood:[],dynamicsMovement:[],notes:""}),[n,r]=ae.useState(null),[o,l]=ae.useState(!1),[u,f]=ae.useState(""),m=ae.useMemo(()=>{var N;return((N=Zl.find(R=>R.key==="genre"))==null?void 0:N.examples)||[]},[]),d=ae.useMemo(()=>{var N;return((N=Zl.find(R=>R.key==="voiceType"))==null?void 0:N.examples)||[]},[]),h=ae.useMemo(()=>{var N;return((N=Zl.find(R=>R.key==="styleMood"))==null?void 0:N.examples)||[]},[]),g=ae.useMemo(()=>{var N;return((N=Zl.find(R=>R.key==="dynamicsMovement"))==null?void 0:N.examples)||[]},[]),T=ae.useCallback((N,R)=>{t(z=>({...z,[N]:R}))},[]),S=ae.useCallback(N=>{t(R=>({...R,styleMood:R.styleMood.includes(N)?R.styleMood.filter(z=>z!==N):[...R.styleMood,N]}))},[]),E=ae.useCallback(N=>{t(R=>({...R,dynamicsMovement:R.dynamicsMovement.includes(N)?R.dynamicsMovement.filter(z=>z!==N):[...R.dynamicsMovement,N]}))},[]),A=ae.useMemo(()=>e.synth&&e.genre&&e.voiceType,[e.synth,e.genre,e.voiceType]),L=ae.useCallback(async N=>{if(N.preventDefault(),!!A){l(!0),f(""),r(null);try{const R=await QP({description:[...e.styleMood,...e.dynamicsMovement].join(", "),synth:e.synth,genre:e.genre,voiceType:e.voiceType,notes:e.notes});r({text:R.text||"",synthConfig:R.synthConfig||{},adsrVCF:R.adsrVCF||{attack:.1,decay:.5,sustain:.8,release:1.5},adsrVCA:R.adsrVCA||{attack:.05,decay:.3,sustain:.9,release:.6},summary:R.summary||""})}catch(R){f(R instanceof Error?R.message:"Failed to generate patch guide")}finally{l(!1)}}},[e,A]),I=ae.useCallback(()=>{t({synth:"Generic",genre:"",voiceType:"",styleMood:[],dynamicsMovement:[],notes:""}),r(null),f("")},[]);return y.jsxs("div",{className:"max-w-5xl mx-auto p-6 space-y-6",children:[y.jsxs(qe,{children:[y.jsx("h2",{className:"text-xl font-semibold text-white mb-6",children:"Create Synth Patch Guide"}),y.jsxs("form",{onSubmit:L,className:"space-y-6",children:[y.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[y.jsxs("div",{children:[y.jsx("label",{className:"block text-gray-200 mb-2 font-medium",children:"Synthesizer"}),y.jsxs("select",{value:e.synth,onChange:N=>T("synth",N.target.value),className:"w-full bg-gray-700 text-white p-3 rounded-lg border border-gray-600 focus:border-purple-500 focus:ring-1 focus:ring-purple-500",required:!0,children:[y.jsx("option",{value:"",children:"Select synth..."}),pI.map(N=>y.jsx("option",{value:N,children:N},N))]})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-gray-200 mb-2 font-medium",children:"Genre"}),y.jsxs("select",{value:e.genre,onChange:N=>T("genre",N.target.value),className:"w-full bg-gray-700 text-white p-3 rounded-lg border border-gray-600 focus:border-purple-500 focus:ring-1 focus:ring-purple-500",required:!0,children:[y.jsx("option",{value:"",children:"Select genre..."}),m.map(N=>y.jsx("option",{value:N,children:N},N))]})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-gray-200 mb-2 font-medium",children:"Voice Type"}),y.jsxs("select",{value:e.voiceType,onChange:N=>T("voiceType",N.target.value),className:"w-full bg-gray-700 text-white p-3 rounded-lg border border-gray-600 focus:border-purple-500 focus:ring-1 focus:ring-purple-500",required:!0,children:[y.jsx("option",{value:"",children:"Select voice type..."}),d.map(N=>y.jsx("option",{value:N,children:N},N))]})]})]}),y.jsxs("div",{children:[y.jsxs("label",{className:"block text-gray-200 mb-3 font-medium",children:["Style & Mood ",y.jsx("span",{className:"text-gray-400 text-sm",children:"(optional)"})]}),y.jsx("div",{className:"flex flex-wrap gap-2",children:h.slice(0,15).map(N=>y.jsx("button",{type:"button",onClick:()=>S(N),className:`px-3 py-1.5 rounded-lg text-sm font-medium transition-colors ${e.styleMood.includes(N)?"bg-purple-600 text-white border-purple-600":"bg-gray-700 text-gray-300 border-gray-600 hover:bg-gray-600"} border`,children:N},N))})]}),y.jsxs("div",{children:[y.jsxs("label",{className:"block text-gray-200 mb-3 font-medium",children:["Dynamics & Movement ",y.jsx("span",{className:"text-gray-400 text-sm",children:"(optional)"})]}),y.jsx("div",{className:"flex flex-wrap gap-2",children:g.slice(0,15).map(N=>y.jsx("button",{type:"button",onClick:()=>E(N),className:`px-3 py-1.5 rounded-lg text-sm font-medium transition-colors ${e.dynamicsMovement.includes(N)?"bg-blue-600 text-white border-blue-600":"bg-gray-700 text-gray-300 border-gray-600 hover:bg-gray-600"} border`,children:N},N))})]}),y.jsxs("div",{children:[y.jsxs("label",{className:"block text-gray-200 mb-2 font-medium",children:["Additional Notes ",y.jsx("span",{className:"text-gray-400 text-sm",children:"(optional)"})]}),y.jsx("textarea",{value:e.notes,onChange:N=>T("notes",N.target.value),placeholder:"Reference artist, track, or specific sound characteristics...",className:"w-full bg-gray-700 text-white p-3 rounded-lg border border-gray-600 focus:border-purple-500 focus:ring-1 focus:ring-purple-500 resize-none",rows:3})]}),y.jsxs("div",{className:"flex items-center gap-4",children:[y.jsxs(je,{type:"submit",disabled:o||!A,className:"flex items-center gap-2",children:[o&&y.jsx(er,{}),o?"Generating...":"Generate Patch Guide"]}),y.jsx(je,{type:"button",variant:"secondary",onClick:I,disabled:o,children:"Reset"})]}),u&&y.jsx("div",{className:"p-4 bg-red-900/20 border border-red-500 rounded-lg",children:y.jsx("p",{className:"text-red-400",children:u})})]})]}),n&&y.jsx(VO,{children:y.jsx(BO,{result:n})})]})},BO=({result:e})=>{var t,n;return y.jsxs(y.Fragment,{children:[e.text&&y.jsxs(qe,{children:[y.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"Patch Instructions"}),y.jsx("div",{className:"prose prose-invert max-w-none",children:y.jsx(om,{remarkPlugins:[lm],children:e.text})})]}),((t=e.synthConfig)==null?void 0:t.oscillators)&&y.jsxs(qe,{children:[y.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"Oscillator Settings"}),y.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:e.synthConfig.oscillators.map((r,o)=>y.jsxs("div",{className:"bg-gray-800 rounded-lg p-4",children:[y.jsx("h4",{className:"font-semibold text-purple-300 mb-3",children:r.name||`Oscillator ${o+1}`}),y.jsx("div",{className:"space-y-2",children:Object.entries(r.values||{}).map(([l,u])=>y.jsxs("div",{className:"flex justify-between",children:[y.jsxs("span",{className:"text-gray-300",children:[l,":"]}),y.jsx("span",{className:"text-white font-mono",children:String(u)})]},l))})]},o))})]}),((n=e.synthConfig)==null?void 0:n.filters)&&e.synthConfig.filters.length>0&&y.jsxs(qe,{children:[y.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"Filter Settings"}),y.jsx("div",{className:"flex flex-col items-center space-y-4",children:e.synthConfig.filters.map((r,o)=>{const l=Math.max(0,Math.min(1,Number(r.cutoff)||.5)),u=Math.max(0,Math.min(1,Number(r.resonance)||.3)),f=l*2e4;return y.jsxs("div",{className:"text-center",children:[y.jsxs("div",{className:"font-medium text-gray-200 mb-4",children:["Filter Type: ",y.jsx("span",{className:"font-bold text-purple-400",children:r.selectedType||"Lowpass"})]}),y.jsxs("div",{className:"flex flex-row gap-8 justify-center mb-3",children:[y.jsx(P1,{value:l,label:"Cutoff",size:80,min:0,max:1}),y.jsx(P1,{value:u,label:"Resonance",size:80,min:0,max:1})]}),y.jsxs("div",{className:"text-gray-300 space-x-6",children:[y.jsxs("span",{children:["Cutoff: ",y.jsxs("span",{className:"font-mono text-white",children:[Number.isFinite(f)?f.toFixed(0):"0"," Hz"]})]}),y.jsxs("span",{children:["Resonance: ",y.jsx("span",{className:"font-mono text-white",children:Number.isFinite(u)?u.toFixed(2):"0.00"})]})]})]},o)})})]}),y.jsxs(qe,{children:[y.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"Envelope Settings"}),y.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[y.jsxs("div",{className:"text-center",children:[y.jsx("h4",{className:"font-medium text-gray-200 mb-3",children:"Filter Envelope"}),y.jsx(Mv,{...e.adsrVCF,width:300,height:150})]}),y.jsxs("div",{className:"text-center",children:[y.jsx("h4",{className:"font-medium text-gray-200 mb-3",children:"Amp Envelope"}),y.jsx(Mv,{...e.adsrVCA,width:300,height:150})]})]})]}),e.summary&&y.jsxs(qe,{children:[y.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"Creative Tips"}),y.jsx("div",{className:"prose prose-invert max-w-none",children:y.jsx(om,{remarkPlugins:[lm],children:e.summary})})]})]})},uu=({className:e="w-4 h-4"})=>y.jsx("div",{className:`${e} bg-orange-500 transform rotate-45 flex items-center justify-center`,children:y.jsx("div",{className:"w-1/2 h-1/2 bg-white transform -rotate-45"})}),B1={songTitle:"",genre:[],artistReference:"",referenceTrackLink:"",lyrics:"",key:"",scale:"",chords:"",generalNotes:"",vibe:[],daw:"",plugins:"",availableInstruments:""},O1={audioFile:null,userNotes:""},Zi=100,cu=Zi*1024*1024,F1=e=>{const t=[/Tempo.*?(\d+)\s*(?:-|to)\s*(\d+)\s*BPM/i,/BPM.*?(\d+)\s*(?:-|to)\s*(\d+)/i,/(\d+)\s*(?:-|to)\s*(\d+)\s*BPM/i,/Tempo.*?(\d+)\s*BPM/i,/BPM.*?(\d+)/i,/(\d+)\s*BPM/i];for(const n of t){const r=e.match(n);if(r){if(r[2])return Math.round((parseInt(r[1],10)+parseInt(r[2],10))/2);if(r[1])return parseInt(r[1],10)}}return null},z1=e=>{const t=[/Suggested Key\(s\) \/ Scale\(s\):\s*([^(\n]+)/i,/Key.*?:\s*([A-G][#b]?\s*(?:Major|Minor|major|minor))/i,/([A-G][#b]?\s*(?:Major|Minor|major|minor))/i];for(const n of t){const r=e.match(n);if(r&&r[1]){const o=r[1].split(/,|\/| or /).map(u=>u.trim().replace(/\.$/,""));for(const u of o){const f=u.includes(" Minor")||u.includes(" minor")?u.replace(/minor/i,"Minor"):u.replace(/major/i,"Major").replace(/Major$/,"").trim()+" Major";if(rs.includes(u)||rs.includes(f))return rs.includes(u)?u:f}const l=o[0];if(l){for(const u of rs)if(l.toLowerCase().startsWith(u.split(" ")[0].toLowerCase())){if(l.toLowerCase().includes("minor")){if(u.includes("Minor"))return u}else if(u.includes("Major"))return u}return l}}}return null},j1=e=>{const t=[/Chord Progression\(s\)?\s*(?:\([^)]+\))?:\s*([^\n]+)/i,/Progression\(s\)?:\s*([^\n]+)/i,/Chords?:\s*([ivclxmdIVCLXMDab#dimaug\d\/sus-][^\n]*)/i,/([ivclxmdIVCLXMD]+(?:\s*-\s*[ivclxmdIVCLXMD]+){2,})/i];for(const n of t){const r=e.match(n);if(r&&r[1]){const l=r[1].match(/([ivclxmdIVCLXMDab#dimaug\d\/sus-]+(?:\s*-\s*[ivclxmdIVCLXMDab#dimaug\d\/sus-]+)*)/);if(l&&l[1]){let u=l[1].trim();u.endsWith(".")&&(u=u.slice(0,-1));const f=[", ",". ","; "];for(const m of f)if(u.includes(m)){u=u.split(m)[0].trim();break}return u}}}return null},H1=(e,t)=>{const n=e.match(t);if(!n||typeof n.index>"u")return"";const r=n.index,o=e.substring(r+n[0].length).match(/^##\s+/m),l=o&&typeof o.index<"u"?r+n[0].length+o.index:e.length;return e.substring(r,l).trim()},OO=e=>{if(!e)return"";let t="";return t+=H1(e,/^##\s*1\.\s*Song Overview/im)+`

`,t+=H1(e,/^##\s*4\.\s*Harmony, Melody & Rhythmic Core/im),t.trim()||"General musical context not fully parsed. Focus on genre and vibe."},U1=e=>{const t=e.match(/^\s*-\s*\*\*Suggested Title:\*\*\s*(.*)/im);return t&&t[1]?t[1].trim().replace(/\*\*([^*]+)\*\*/g,"$1").replace(/\*([^*]+)\*/g,"$1"):null},FO=()=>{var Yr;const[e,t]=ae.useState("landing"),[n,r]=ae.useState(B1),[o,l]=ae.useState(""),[u,f]=ae.useState(""),[m,d]=ae.useState(""),[h,g]=ae.useState(!1),[T,S]=ae.useState(""),[E,A]=ae.useState(null),[L,I]=ae.useState(null),[N,R]=ae.useState([]),[z,G]=ae.useState(null),[j,se]=ae.useState(!1),[le,pe]=ae.useState(""),[H,ce]=ae.useState(!1),[J,me]=ae.useState(!0),[fe,he]=ae.useState(!1),[q,O]=ae.useState(),[k,_]=ae.useState(O1),[C,B]=ae.useState(null),[Y,D]=ae.useState(!1),[te,P]=ae.useState(null),[ne,ye]=ae.useState("single"),[oe,Te]=ae.useState({mixA:null,mixB:null,userNotes:"",includeMixBFeedback:!1}),[Me,Re]=ae.useState(null),[$e,Ve]=ae.useState(!1),[Ne,rt]=ae.useState(null),at=ae.useRef(null),mt=ae.useRef(null),Hr=ae.useRef(null);ae.useEffect(()=>{try{const ve=localStorage.getItem(Tx);if(ve){const zt=JSON.parse(ve).map(lt=>({...lt,genre:Array.isArray(lt.genre)?lt.genre:lt.genre?[lt.genre]:[],vibe:Array.isArray(lt.vibe)?lt.vibe:lt.vibe?[lt.vibe]:[],scale:lt.scale||"",midiSettings:lt.midiSettings||void 0,generatedMidiPatterns:lt.generatedMidiPatterns||void 0}));R(zt)}}catch(ve){console.error("Failed to load library from local storage:",ve),R([])}const Q=localStorage.getItem(Wo),ge=localStorage.getItem(Jl);r(ve=>({...ve,daw:Q||ve.daw||"",plugins:ge||ve.plugins||""}))},[]),ae.useEffect(()=>{try{localStorage.setItem(Tx,JSON.stringify(N))}catch(Q){console.error("Failed to save library to local storage:",Q)}},[N]);const wt=Q=>{const{name:ge,value:ve}=Q.target;ge==="currentGenreText"?l(ve):ge==="currentVibeText"?f(ve):(r(He=>({...He,[ge]:ve})),ge==="daw"?localStorage.setItem(Wo,ve):ge==="plugins"&&localStorage.setItem(Jl,ve))},ii=Q=>{var ve,He;const ge=Q==="genre"?o.trim():u.trim();ge&&!n[Q].includes(ge)&&r(zt=>({...zt,[Q]:[...zt[Q],ge]})),Q==="genre"?(l(""),(ve=mt.current)==null||ve.focus()):(f(""),(He=Hr.current)==null||He.focus())},ri=(Q,ge)=>{Q.key==="Enter"&&(Q.preventDefault(),ii(ge))},Ur=(Q,ge)=>{r(ve=>{const zt=ve[Q].filter(lt=>lt!==ge);return{...ve,[Q]:zt}})},Gr=Q=>{r(ge=>({...ge,daw:Q})),localStorage.setItem(Wo,Q)},qr=Q=>{const ge=Q.match(/^#\s*TRACKGUIDE:\s*"?([^"\n]+)"?/im);return ge&&ge[1]?ge[1].trim():null},ur=()=>{const Q=localStorage.getItem(Wo)||"",ge=localStorage.getItem(Jl)||"";r({...B1,songTitle:"",daw:Q,plugins:ge}),l(""),f(""),d(""),G(null),A(null),I(null),pe(""),Hn(),se(!1)},Z=async Q=>{var zt;Q.preventDefault(),g(!0),A(null),I(null),d(""),G(null),pe(""),Hn(),window.scrollTo({top:0,behavior:"smooth"}),n.daw&&localStorage.setItem(Wo,n.daw),n.plugins&&localStorage.setItem(Jl,n.plugins);let ge="",ve,He;try{S("TrackGuide is generating...");const lt=await yI(n);for await(const Zt of lt)ge+=Zt.text,d(oi=>oi+Zt.text);S("Initial MIDI patterns are generating...");const Ps=qr(ge),Gu=(zt=n.songTitle)!=null&&zt.trim()?n.songTitle.trim():Ps||`TrackGuide for ${n.genre.join(", ")||"Unknown Genre"}`,qn=Date.now().toString(),kt=new Date().toISOString(),jt=F1(ge),Ei=z1(ge),Qa=j1(ge),$r=n.genre[0]||We.genre,Bs=Qn[$r]||Qn.Default,Os=Math.round((Bs[0]+Bs[1])/2),cr=(_n[$r]||_n.Default)[0],Ja=OO(ge),Ai=We.songSection;let ai=8;const fr=$r.toLowerCase();["lo-fi hip hop","lofi hip hop","lofi","trap","ambient","idm","breakcore","footwork","juke","experimental"].some(Zt=>fr.includes(Zt))&&(ai=4);const St=["chords","bassline","melody","drums"];He={key:Ei||We.key,tempo:jt||Os,timeSignature:We.timeSignature,chordProgression:Qa||cr,genre:$r,bars:ai,targetInstruments:St,guidebookContext:Ja,songSection:Ai};try{const Zt=await ys(He);let oi="";for await(const mr of Zt)oi+=mr.text;let Bn=oi.trim();const wi=/^```(\w*)?\s*\n?(.*?)\n?\s*```$/s,Za=Bn.match(wi);if(Za&&Za[2]&&(Bn=Za[2].trim()),ve=JSON.parse(Bn),ve.drums){const mr={};for(const eo in ve.drums)mr[eo.toLowerCase().replace(/\s+/g,"_")]=ve.drums[eo];ve.drums=mr}I(null)}catch(Zt){console.error("Initial MIDI generation failed:",Zt);const oi=Zt.message.toLowerCase().includes("json")?`AI returned invalid JSON for MIDI patterns during initial generation. (${Zt.message})`:`Initial MIDI generation failed: ${Zt.message}.`;I(oi+" You can try generating MIDI manually in the MIDI tools section."),ve=void 0}G({id:qn,title:Gu,genre:n.genre,artistReference:n.artistReference,referenceTrackLink:n.referenceTrackLink,lyrics:n.lyrics,key:n.key,chords:n.chords,generalNotes:n.generalNotes,vibe:n.vibe,daw:n.daw,plugins:n.plugins,availableInstruments:n.availableInstruments||"",content:ge,createdAt:kt,midiSettings:He,generatedMidiPatterns:ve})}catch(lt){A(lt.message||"An unexpected error occurred while generating TrackGuide."),G(null),d("")}finally{g(!1),S("")}},ue=()=>{if(!z)return;const Q={...z};R(ge=>{const ve=ge.findIndex(He=>He.id===Q.id);if(ve>-1){const He=[...ge];return He[ve]=Q,He}return[Q,...ge]})},Se=(Q,ge)=>{G(ve=>ve?{...ve,midiSettings:Q,generatedMidiPatterns:ge}:null)},Ee=Q=>{r({songTitle:Q.title,genre:Array.isArray(Q.genre)?Q.genre:Q.genre?[String(Q.genre)]:[],artistReference:Q.artistReference,referenceTrackLink:Q.referenceTrackLink||"",lyrics:Q.lyrics||"",key:Q.key||"",chords:Q.chords||"",generalNotes:Q.generalNotes||"",vibe:Array.isArray(Q.vibe)?Q.vibe:Q.vibe?[String(Q.vibe)]:[],daw:Q.daw,plugins:Q.plugins,availableInstruments:Q.availableInstruments||""}),l(""),f(""),d(Q.content),G(Q),A(null),I(null),pe(""),Hn(),se(!1),t("trackGuide"),window.scrollTo({top:0,behavior:"smooth"})},Ke=Q=>{R(ge=>ge.filter(ve=>ve.id!==Q)),z&&z.id===Q&&(d(""),G(null),Hn())},Ot=({selections:Q,onRemove:ge})=>y.jsx("div",{className:"flex flex-wrap gap-2 mt-2 mb-2 min-h-[2.25rem]",children:Q.map(ve=>y.jsxs("span",{className:"flex items-center px-3 py-1 bg-orange-600 text-white text-xs font-medium rounded-full shadow-md hover:bg-orange-700 transition-colors",children:[ve,y.jsx("button",{type:"button",onClick:()=>ge(ve),className:"ml-1.5 -mr-0.5 p-0.5 text-orange-200 hover:text-white rounded-full focus:outline-none focus:bg-orange-800 transition-colors","aria-label":`Remove ${ve}`,children:y.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-3 w-3",viewBox:"0 0 20 20",fill:"currentColor",children:y.jsx("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})})})]},ve))}),Pn=Q=>{var ve;const ge=(ve=Q.target.files)==null?void 0:ve[0];if(ge){if(ge.size>cu){P(`File is too large. Maximum size is ${Zi}MB.`),_(He=>({...He,audioFile:null})),at.current&&(at.current.value="");return}if(!ge.type.startsWith("audio/")){P("Invalid file type. Please upload an audio file (e.g., MP3, WAV)."),_(He=>({...He,audioFile:null})),at.current&&(at.current.value="");return}_(He=>({...He,audioFile:ge})),P(null)}},Ft=Q=>{_(ge=>({...ge,userNotes:Q.target.value}))},bn=async Q=>{if(Q.preventDefault(),!k.audioFile){P("Please upload an audio file for feedback.");return}D(!0),window.scrollTo({top:0,behavior:"smooth"}),B(null),P(null);try{const ge=await Mx(k);B(ge)}catch(ge){P(ge.message||"An unknown error occurred while generating mix feedback.")}finally{D(!1)}},Kt=()=>{_(O1),B(null),P(null),at.current&&(at.current.value="")},xt=Q=>new Promise((ge,ve)=>{const He=new FileReader;He.readAsDataURL(Q),He.onload=()=>{const lt=He.result.split(",")[1];ge(lt)},He.onerror=zt=>ve(zt)}),Jt=async()=>{if(!oe.mixA||!oe.mixB){rt("Please upload both Mix A and Mix B files.");return}Ve(!0),window.scrollTo({top:0,behavior:"smooth"}),Re(null),rt(null);try{const Q=await xt(oe.mixA),ge=await xt(oe.mixB),ve={mixAFile:Q,mixBFile:ge,mixAName:oe.mixA.name,mixBName:oe.mixB.name,includeMixBFeedback:oe.includeMixBFeedback,userNotes:oe.userNotes},He=await vI(ve);Re(He)}catch(Q){rt(Q.message||"An unknown error occurred while comparing mixes.")}finally{Ve(!1)}},un=()=>{Te({mixA:null,mixB:null,userNotes:"",includeMixBFeedback:!1}),Re(null),rt(null)};let cn;const Wa=(Yr=n.songTitle)==null?void 0:Yr.trim();if(Wa)cn=`TrackGuide: ${Wa}`;else if(z!=null&&z.title){const Q=z.title;if(Q.startsWith("TrackGuide for ")){const ge=qr(z.content);ge?cn=`TrackGuide: ${ge}`:cn=Q}else cn=`TrackGuide: ${Q}`}else if(h&&e==="trackGuide"){const Q=U1(m);Q?cn=`TrackGuide: ${Q}`:cn="TrackGuide is generating..."}else if(m){const Q=U1(m);Q?cn=`TrackGuide: ${Q}`:cn="Generated TrackGuide"}else cn="TrackGuide";return e==="landing"?y.jsx(JI,{onGetStarted:()=>{t("trackGuide"),setTimeout(()=>window.scrollTo({top:0,behavior:"smooth"}),100)}}):y.jsxs("div",{className:"min-h-screen bg-[#1A1A1A] text-gray-100 p-4 md:p-6 lg:p-8 relative overflow-hidden",children:[y.jsx("div",{className:"absolute inset-0 opacity-20 pointer-events-none",children:y.jsx("div",{className:"absolute inset-0 pointer-events-none",style:{backgroundImage:"radial-gradient(circle at 2px 2px, #FF5722 1px, transparent 0)",backgroundSize:"40px 40px"}})}),y.jsxs("div",{className:"absolute top-10 right-10 w-32 h-32 opacity-10 pointer-events-none",children:[y.jsx("div",{className:"w-full h-full border-2 border-orange-500 transform rotate-12 pointer-events-none"}),y.jsx("div",{className:"absolute top-2 right-2 w-28 h-28 bg-orange-500 transform rotate-12 pointer-events-none"})]}),y.jsxs("header",{className:"text-center mb-6 relative z-10",children:[y.jsxs("div",{className:"flex items-center justify-center space-x-3 mb-4",children:[y.jsx("div",{className:"w-8 h-8 bg-orange-500 transform rotate-45 flex items-center justify-center",children:y.jsx("div",{className:"w-4 h-4 bg-white transform -rotate-45"})}),y.jsxs("div",{children:[y.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-white",children:bx}),y.jsx("p",{className:"text-gray-400 text-lg",children:"Your Smartest Studio Assistant"})]})]}),y.jsx("button",{onClick:()=>t("landing"),className:"mt-2 text-sm text-orange-500 hover:text-orange-400 transition-colors font-medium",children:" Back to Landing"})]}),y.jsxs("nav",{className:"mb-8 flex flex-col justify-center items-center md:flex-row md:justify-center gap-2 border-b border-orange-500/20 pb-3 relative z-10",children:[y.jsx(je,{size:"sm",className:`w-full md:w-auto px-3 py-2 text-xs md:text-sm rounded-md transition-all duration-150 ease-in-out ${e==="trackGuide"?"bg-orange-500 shadow-lg hover:bg-orange-600":"bg-gray-700/80 hover:bg-gray-600/80 border border-gray-600"}`,onClick:()=>t("trackGuide"),variant:e==="trackGuide"?"primary":"secondary",leftIcon:y.jsx(uu,{className:"w-4 h-4"}),children:"TrackGuide AI"}),y.jsx(je,{size:"sm",className:`w-full md:w-auto px-3 py-2 text-xs md:text-sm rounded-md transition-all duration-150 ease-in-out ${e==="mixFeedback"?"bg-orange-500 shadow-lg hover:bg-orange-600":"bg-gray-700/80 hover:bg-gray-600/80 border border-gray-600"}`,onClick:()=>t("mixFeedback"),variant:e==="mixFeedback"?"primary":"secondary",leftIcon:y.jsx("span",{className:"w-4 h-4 text-center",children:""}),children:"Mix Feedback AI"}),y.jsx(je,{size:"sm",className:`w-full md:w-auto px-3 py-2 text-xs md:text-sm rounded-md transition-all duration-150 ease-in-out ${e==="remixGuide"?"bg-orange-500 shadow-lg hover:bg-orange-600":"bg-gray-700/80 hover:bg-gray-600/80 border border-gray-600"}`,onClick:()=>t("remixGuide"),variant:e==="remixGuide"?"primary":"secondary",leftIcon:y.jsx("span",{className:"w-4 h-4 text-center",children:""}),children:"RemixGuide AI"}),y.jsx(je,{size:"sm",className:`w-full md:w-auto px-3 py-2 text-xs md:text-sm rounded-md transition-all duration-150 ease-in-out ${e==="patchGuide"?"bg-orange-500 shadow-lg hover:bg-orange-600":"bg-gray-700/80 hover:bg-gray-600/80 border border-gray-600"}`,onClick:()=>t("patchGuide"),variant:e==="patchGuide"?"primary":"secondary",leftIcon:y.jsx("span",{className:"w-4 h-4 text-center",children:""}),children:"PatchGuide AI"}),y.jsx(je,{size:"sm",className:`w-full md:w-auto px-3 py-2 text-xs md:text-sm rounded-md transition-all duration-150 ease-in-out ${e==="eqGuide"?"bg-orange-500 shadow-lg hover:bg-orange-600":"bg-gray-700/80 hover:bg-gray-600/80 border border-gray-600"}`,onClick:()=>t("eqGuide"),variant:e==="eqGuide"?"primary":"secondary",leftIcon:y.jsx(ad,{className:"w-4 h-4"}),children:"EQ Guide"})]}),e==="trackGuide"&&y.jsxs("div",{className:"max-w-full mx-auto grid grid-cols-1 lg:grid-cols-7 gap-6 px-4",children:[y.jsxs(qe,{title:"Blueprint Your Sound",className:"lg:col-span-2 bg-gray-800/80 backdrop-blur-md shadow-xl border border-gray-700/50",children:[y.jsx("p",{className:"text-sm text-gray-400 mb-4",children:"Describe your visioneverything's optional."}),y.jsxs("form",{onSubmit:Z,className:"space-y-3",children:[y.jsx("div",{children:y.jsx(Nn,{label:"Song Title / Project Name",name:"songTitle",value:n.songTitle||"",onChange:wt,placeholder:"AI will suggest one if left blank"})}),y.jsx("div",{children:y.jsx(Nn,{label:"Artist References",name:"artistReference",value:n.artistReference,onChange:wt,placeholder:"e.g., Daft Punk"})}),y.jsx("div",{children:y.jsx(Nn,{label:"Song Reference",name:"referenceTrackLink",value:n.referenceTrackLink||"",onChange:wt,placeholder:"e.g., YouTube, Spotify, SoundCloud link"})}),y.jsxs("div",{className:"space-y-2",children:[y.jsxs("div",{children:[y.jsx("label",{htmlFor:"genre-input",className:"block text-sm font-medium text-gray-300 mb-1.5",children:"Genre(s)"}),y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsx(Nn,{ref:mt,id:"genre-input",name:"currentGenreText",value:o,onChange:wt,onKeyDown:Q=>ri(Q,"genre"),placeholder:"Type custom genre...",list:"genre-suggestions",className:"flex-grow"}),y.jsx(je,{type:"button",onClick:()=>ii("genre"),size:"sm",variant:"secondary","aria-label":"Add Genre",className:"px-3",children:y.jsx(Kd,{className:"w-4 h-4"})})]}),y.jsx("datalist",{id:"genre-suggestions",children:ab.map(Q=>y.jsx("option",{value:Q},Q))}),y.jsx(Ot,{selections:n.genre,onRemove:Q=>Ur("genre",Q)})]}),y.jsxs("div",{children:[y.jsx("label",{htmlFor:"vibe-input",className:"block text-sm font-medium text-gray-300 mb-1.5",children:"Vibe / Mood"}),y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsx(Nn,{ref:Hr,id:"vibe-input",name:"currentVibeText",value:u,onChange:wt,onKeyDown:Q=>ri(Q,"vibe"),placeholder:"Type custom vibe...",list:"vibe-suggestions",className:"flex-grow"}),y.jsx(je,{type:"button",onClick:()=>ii("vibe"),size:"sm",variant:"secondary","aria-label":"Add Vibe",className:"px-3",children:y.jsx(Kd,{className:"w-4 h-4"})})]}),y.jsx("datalist",{id:"vibe-suggestions",children:fI.map(Q=>y.jsx("option",{value:Q},Q))}),y.jsx(Ot,{selections:n.vibe,onRemove:Q=>Ur("vibe",Q)})]})]}),y.jsxs("div",{children:[y.jsx(Nn,{label:"Preferred DAW",name:"daw",value:n.daw,onChange:wt,placeholder:"Type or select DAW...",list:"daw-suggestions"}),y.jsx("datalist",{id:"daw-suggestions",children:Sx.map(Q=>y.jsx("option",{value:Q},Q))}),y.jsx("div",{className:"flex flex-wrap gap-2 mt-2 mb-1",children:Sx.slice(0,5).map(Q=>y.jsx("button",{type:"button",onClick:()=>Gr(Q),className:`px-3 py-1 text-xs rounded-full transition-all duration-150 ease-in-out shadow-sm hover:shadow-md ${n.daw===Q?"bg-orange-600 text-white ring-2 ring-orange-400 ring-offset-2 ring-offset-gray-800":"bg-gray-700 hover:bg-gray-600 text-gray-300 hover:text-gray-100"}`,children:Q},Q))})]}),y.jsx("div",{children:y.jsx(Da,{label:"Available Plugins",name:"plugins",value:n.plugins,onChange:wt,placeholder:"e.g., Serum, Valhalla Reverbs, Arturia V Collection, or 'stock only'",rows:2})}),y.jsx("div",{children:y.jsx(Da,{label:"Available Instruments",name:"availableInstruments",value:n.availableInstruments||"",onChange:wt,placeholder:"e.g., Electric Guitar, Moog Subsequent 37, Roland TR-808, Vocals",rows:2})}),y.jsxs("div",{className:"border-t border-gray-600 pt-4",children:[y.jsx(je,{type:"button",onClick:()=>ce(!H),variant:"outline",className:"mb-4 w-8 h-8 p-0 flex items-center justify-center",title:H?"Hide Advanced Input":"Show Advanced Input",children:y.jsx("span",{className:`text-lg transition-transform ${H?"rotate-45":""}`,children:"+"})}),H&&y.jsxs("div",{className:"space-y-4 p-4 bg-gray-700/30 rounded-lg border border-gray-600/50",children:[y.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[y.jsx("div",{children:y.jsx(Nn,{label:"Key",name:"key",value:n.key||"",onChange:wt,placeholder:"e.g., C Major"})}),y.jsx("div",{children:y.jsx(Nn,{label:"Scale/Mode",name:"scale",value:n.scale||"",onChange:wt,placeholder:"e.g., Dorian, Mixolydian"})})]}),y.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[y.jsx("div",{children:y.jsx(Nn,{label:"Chords",name:"chords",value:n.chords||"",onChange:wt,placeholder:"e.g., Am - F - C - G"})}),y.jsx("div",{children:y.jsx(Da,{label:"Lyrics",name:"lyrics",value:n.lyrics||"",onChange:wt,placeholder:"Paste your lyrics here if you have any...",rows:2})})]}),y.jsx("div",{children:y.jsx(Da,{label:"General Notes for AI",name:"generalNotes",value:n.generalNotes||"",onChange:wt,placeholder:"Any specific instructions, style notes, or creative direction for the AI to consider...",rows:3})})]})]}),y.jsx(je,{type:"submit",disabled:h,className:"w-full text-base py-2.5",leftIcon:y.jsx(uu,{className:"w-5 h-5"}),children:h?T||"Generating...":"Generate TrackGuide"}),y.jsxs("div",{className:"flex space-x-2 mt-3",children:[y.jsx(je,{type:"button",onClick:()=>se(!0),variant:"secondary",className:"flex-1",leftIcon:y.jsx($d,{className:"w-4 h-4"}),children:"View Library"}),y.jsx(je,{type:"button",onClick:ur,variant:"outline",className:"flex-1",children:"Clear Form"})]})]})]}),y.jsxs("div",{className:"lg:col-span-5 space-y-6",children:[E&&!h&&y.jsxs(qe,{className:"border-red-500 bg-red-900/40 shadow-xl",children:[y.jsx("p",{className:"text-red-300 font-semibold text-lg",children:"TrackGuide Error:"}),y.jsx("p",{className:"text-red-300",children:E})]}),L&&!T.toLowerCase().includes("midi")&&!E&&y.jsxs(qe,{className:"border-yellow-500 bg-yellow-900/40 shadow-xl",children:[y.jsx("p",{className:"text-yellow-300 font-semibold text-lg",children:"MIDI Generation Note:"}),y.jsx("p",{className:"text-yellow-300",children:L})]}),(m||h&&T.includes("TrackGuide is generating"))&&!E&&y.jsxs(qe,{title:cn,className:"bg-gray-800/80 backdrop-blur-md shadow-xl border border-gray-700/50 sticky top-8",titleClassName:"border-b border-gray-700 text-xl",children:[z&&!h&&y.jsxs("div",{className:"flex flex-wrap gap-3 mb-5 pb-4 border-b border-gray-700 items-center",children:[y.jsx(je,{onClick:ue,variant:"secondary",leftIcon:y.jsx(SI,{}),children:"Save to Library"}),y.jsx("div",{className:"flex-grow"}),y.jsx(je,{onClick:ur,variant:"outline",size:"sm",className:"!border-gray-500 !text-gray-400 hover:!bg-gray-600 hover:!text-white",leftIcon:y.jsx(ub,{}),children:"Close"}),le&&y.jsx("span",{className:`ml-3 text-sm ${le.includes("Failed")||le.includes("not supported")?"text-red-400":"text-green-400"}`,children:le})]}),y.jsxs("div",{id:"guidebook-content-display",className:"prose prose-sm md:prose-base prose-invert max-w-none max-h-[calc(100vh-6rem)] overflow-y-auto pr-3 text-gray-300 custom-scrollbar guidebook-content",children:[z&&!h&&y.jsxs("div",{className:"mb-6 p-4 bg-gray-700/50 rounded-lg text-sm shadow-inner border border-gray-600/50 guidebook-section-break",children:[y.jsx("strong",{className:"text-orange-300 block mb-2 text-base",children:"TrackGuide Snapshot:"}),y.jsxs("p",{children:[y.jsx("strong",{children:"Project Title:"})," ",z.title]}),y.jsxs("p",{children:[y.jsx("strong",{children:"Genre(s):"})," ",Array.isArray(z.genre)?z.genre.join(", "):z.genre]}),y.jsxs("p",{children:[y.jsx("strong",{children:"Artist/Song Ref:"})," ",z.artistReference||"N/A"]}),y.jsxs("p",{children:[y.jsx("strong",{children:"Vibe(s):"})," ",Array.isArray(z.vibe)?z.vibe.join(", "):z.vibe]}),y.jsxs("p",{children:[y.jsx("strong",{children:"DAW:"})," ",z.daw]}),y.jsxs("p",{children:[y.jsx("strong",{children:"Plugins:"})," ",z.plugins||"N/A"]}),y.jsxs("p",{children:[y.jsx("strong",{children:"Instruments:"})," ",z.availableInstruments||"N/A"]}),z.generatedMidiPatterns&&y.jsxs("p",{className:"mt-1 text-green-400",children:[y.jsx(lb,{className:"w-4 h-4 inline mr-1"})," Initial MIDI patterns generated."]})]}),y.jsx(cs,{content:m}),h&&T.includes("TrackGuide is generating")&&y.jsx(er,{size:"sm",text:"Generating TrackGuide..."})]})]}),h&&!E&&T&&!T.includes("TrackGuide is generating")&&y.jsx("div",{className:"flex justify-center py-10",children:y.jsx(er,{size:"lg",text:T||"Processing..."})}),z&&!h&&m&&!E&&y.jsx(mb,{currentGuidebookEntry:z,mainAppInputs:n,onUpdateGuidebookEntryMidi:Se,parsedGuidebookBpm:F1(z.content),parsedGuidebookKey:z1(z.content),parsedGuidebookChordProg:j1(z.content)}),!h&&!m&&!E&&!z&&y.jsxs(qe,{className:"bg-gray-800/80 backdrop-blur-md shadow-xl border border-gray-700/50 flex flex-col items-center justify-center h-96 text-center min-h-[500px]",children:[y.jsx("div",{className:"flex justify-center mb-6",children:y.jsx(uu,{className:"w-20 h-20 opacity-80 text-orange-500"})}),y.jsx("h3",{className:"text-2xl font-semibold text-gray-200 mb-2",children:"Produce Smarter. Create More."}),y.jsx("p",{className:"text-gray-400 max-w-md mx-auto",children:"Tell us what youre envisioningTrackGuide AI will generate a custom production guide and MIDI foundation."})]})]})]}),e==="mixFeedback"&&y.jsxs("div",{className:"max-w-7xl mx-auto grid grid-cols-1 md:grid-cols-12 gap-8",children:[y.jsxs("div",{className:"md:col-span-3 space-y-6",children:[y.jsxs("div",{className:"flex bg-gray-800/80 backdrop-blur-md shadow-xl border border-gray-700/50 rounded-lg overflow-hidden",children:[y.jsx("button",{onClick:()=>ye("single"),className:`flex-1 px-4 py-3 text-sm font-medium transition-all ${ne==="single"?"bg-orange-500 text-white":"bg-gray-700/50 text-gray-300 hover:bg-gray-600/50"}`,children:" Mix Analysis"}),y.jsx("button",{onClick:()=>ye("compare"),className:`flex-1 px-4 py-3 text-sm font-medium transition-all ${ne==="compare"?"bg-orange-500 text-white":"bg-gray-700/50 text-gray-300 hover:bg-gray-600/50"}`,children:" Mix Compare"})]}),ne==="single"&&y.jsx(qe,{title:"Upload Your Mix",className:"bg-gray-800/80 backdrop-blur-md shadow-xl border border-gray-700/50",children:y.jsxs("form",{onSubmit:bn,className:"space-y-5",children:[y.jsxs("div",{children:[y.jsx("label",{htmlFor:"mix-audio-file",className:"block text-sm font-medium text-gray-300 mb-1",children:"Audio File (.mp3, .wav, etc.)"}),y.jsx("div",{className:`mt-1 flex justify-center px-6 pt-5 pb-6 border-2 ${te&&k.audioFile===null?"border-red-500":"border-gray-600"} border-dashed rounded-md cursor-pointer hover:border-orange-500 transition-colors`,onClick:()=>{var Q;return(Q=at.current)==null?void 0:Q.click()},onDragOver:Q=>{Q.preventDefault(),Q.currentTarget.classList.add("border-orange-500")},onDragLeave:Q=>Q.currentTarget.classList.remove("border-orange-500"),onDrop:Q=>{if(Q.preventDefault(),Q.currentTarget.classList.remove("border-orange-500"),Q.dataTransfer.files&&Q.dataTransfer.files[0]){const ge=Q.dataTransfer.files[0];if(ge.size>cu){P(`File is too large. Max ${Zi}MB.`);return}if(!ge.type.startsWith("audio/")){P("Invalid file type. Please upload audio.");return}_(ve=>({...ve,audioFile:ge})),P(null)}},children:y.jsxs("div",{className:"space-y-1 text-center",children:[y.jsx(rd,{className:"mx-auto h-12 w-12 text-gray-500"}),y.jsxs("div",{className:"flex text-sm text-gray-400",children:[y.jsx("span",{className:"relative rounded-md font-medium text-orange-400 hover:text-orange-300 focus-within:outline-none focus-within:ring-2 focus-within:ring-offset-2 focus-within:ring-offset-gray-900 focus-within:ring-orange-500",children:y.jsx("span",{children:"Upload a file"})}),y.jsx("input",{id:"mix-audio-file",name:"mix-audio-file",type:"file",className:"sr-only",accept:"audio/*",onChange:Pn,ref:at}),y.jsx("p",{className:"pl-1",children:"or drag and drop"})]}),y.jsxs("p",{className:"text-xs text-gray-500",children:["Max file size: ",Zi,"MB"]})]})}),k.audioFile&&y.jsxs("p",{className:"text-xs text-green-400 mt-2",children:["Selected: ",k.audioFile.name," (",(k.audioFile.size/1024/1024).toFixed(2)," MB)"]}),te&&k.audioFile===null&&y.jsx("p",{className:"text-xs text-red-400 mt-2",children:te})]}),y.jsx("div",{children:y.jsx(Da,{label:"Notes for AI",name:"mixUserNotes",value:k.userNotes,onChange:Ft,placeholder:"e.g., 'Focus on the low-end clarity', 'Is the vocal too loud?', 'General feedback welcome.'",rows:4})}),y.jsx(je,{type:"submit",disabled:Y||!k.audioFile,className:"w-full text-base py-2.5 !bg-orange-600 hover:!bg-orange-700 focus:!ring-orange-500",leftIcon:y.jsx(ad,{className:"w-5 h-5"}),children:Y?"Analyzing Mix...":"Get Mix Feedback"}),y.jsx(je,{type:"button",onClick:Kt,variant:"outline",className:"w-full !border-orange-500 !text-orange-400 hover:!bg-orange-500 hover:!text-white",children:"Clear Mix Form"})]})}),ne==="compare"&&y.jsxs("div",{className:"space-y-5",children:[y.jsxs(qe,{title:"Mix A (Original)",className:"bg-gray-800/80 backdrop-blur-md shadow-xl border border-gray-700/50",children:[y.jsx("div",{className:`mt-1 flex justify-center px-6 pt-5 pb-6 border-2 ${Ne&&!oe.mixA?"border-red-500":"border-gray-600"} border-dashed rounded-md cursor-pointer hover:border-orange-500 transition-colors`,onClick:()=>{var Q;return(Q=document.getElementById("mixA-upload"))==null?void 0:Q.click()},children:y.jsxs("div",{className:"space-y-1 text-center",children:[y.jsx(rd,{className:"mx-auto h-12 w-12 text-gray-400"}),y.jsxs("div",{className:"flex text-sm text-gray-400",children:[y.jsxs("label",{htmlFor:"mixA-upload",className:"relative cursor-pointer rounded-md font-medium text-orange-400 hover:text-orange-300",children:[y.jsx("span",{children:"Upload Mix A"}),y.jsx("input",{id:"mixA-upload",name:"mixA-upload",type:"file",className:"sr-only",accept:"audio/*",onChange:Q=>{var ve;const ge=(ve=Q.target.files)==null?void 0:ve[0];if(ge){if(ge.size>cu){rt(`File is too large. Max ${Zi}MB.`);return}if(!ge.type.startsWith("audio/")){rt("Invalid file type. Please upload audio.");return}Te(He=>({...He,mixA:ge})),rt(null)}}})]}),y.jsx("p",{className:"pl-1",children:"or drag and drop"})]}),y.jsxs("p",{className:"text-xs text-gray-500",children:["MP3, WAV, FLAC up to ",Zi,"MB"]})]})}),oe.mixA&&y.jsxs("p",{className:"text-xs text-green-400 mt-2",children:["Selected: ",oe.mixA.name," (",(oe.mixA.size/1024/1024).toFixed(2)," MB)"]})]}),y.jsxs(qe,{title:"Mix B (Revised)",className:"bg-gray-800/80 backdrop-blur-md shadow-xl border border-gray-700/50",children:[y.jsx("div",{className:`mt-1 flex justify-center px-6 pt-5 pb-6 border-2 ${Ne&&!oe.mixB?"border-red-500":"border-gray-600"} border-dashed rounded-md cursor-pointer hover:border-orange-500 transition-colors`,onClick:()=>{var Q;return(Q=document.getElementById("mixB-upload"))==null?void 0:Q.click()},children:y.jsxs("div",{className:"space-y-1 text-center",children:[y.jsx(rd,{className:"mx-auto h-12 w-12 text-gray-400"}),y.jsxs("div",{className:"flex text-sm text-gray-400",children:[y.jsxs("label",{htmlFor:"mixB-upload",className:"relative cursor-pointer rounded-md font-medium text-orange-400 hover:text-orange-300",children:[y.jsx("span",{children:"Upload Mix B"}),y.jsx("input",{id:"mixB-upload",name:"mixB-upload",type:"file",className:"sr-only",accept:"audio/*",onChange:Q=>{var ve;const ge=(ve=Q.target.files)==null?void 0:ve[0];if(ge){if(ge.size>cu){rt(`File is too large. Max ${Zi}MB.`);return}if(!ge.type.startsWith("audio/")){rt("Invalid file type. Please upload audio.");return}Te(He=>({...He,mixB:ge})),rt(null)}}})]}),y.jsx("p",{className:"pl-1",children:"or drag and drop"})]}),y.jsxs("p",{className:"text-xs text-gray-500",children:["MP3, WAV, FLAC up to ",Zi,"MB"]})]})}),oe.mixB&&y.jsxs("p",{className:"text-xs text-green-400 mt-2",children:["Selected: ",oe.mixB.name," (",(oe.mixB.size/1024/1024).toFixed(2)," MB)"]})]}),y.jsx(qe,{title:"Notes for AI",className:"bg-gray-800/80 backdrop-blur-md shadow-xl border border-gray-700/50",children:y.jsx(Da,{placeholder:"Describe what you want the AI to focus on when comparing these mixes. For example: 'Focus on the vocal clarity and low-end balance' or 'Compare the stereo width and overall loudness'...",value:oe.userNotes,onChange:Q=>Te(ge=>({...ge,userNotes:Q.target.value})),rows:3,className:"w-full"})}),y.jsx(je,{onClick:Jt,disabled:$e||!oe.mixA||!oe.mixB,variant:"primary",className:"w-full px-4 py-3 text-base font-semibold",leftIcon:y.jsx("span",{className:"w-5 h-5 text-center",children:""}),children:$e?"Comparing Mixes...":"Compare Mixes"}),y.jsx(je,{type:"button",onClick:un,variant:"outline",className:"w-full !border-orange-500 !text-orange-400 hover:!bg-orange-500 hover:!text-white",children:"Reset"}),Ne&&!$e&&y.jsxs(qe,{className:"border-red-500 bg-red-900/40 shadow-xl",children:[y.jsx("p",{className:"text-red-300 font-semibold text-lg",children:"Mix Comparison Error:"}),y.jsx("p",{className:"text-red-300",children:Ne})]})]})]}),y.jsxs("div",{className:"md:col-span-9 space-y-6",children:[(Y||$e)&&y.jsx("div",{className:"flex justify-center items-center h-full min-h-[500px]",children:y.jsx(er,{size:"lg",color:"text-orange-500",text:ne==="single"?"AI is analyzing your mix... this may take a moment.":"AI is comparing your mixes... this may take a moment."})}),te&&!Y&&ne==="single"&&y.jsxs(qe,{className:"border-red-500 bg-red-900/40 shadow-xl",children:[y.jsx("p",{className:"text-red-300 font-semibold text-lg",children:"Mix Feedback Error:"}),y.jsx("p",{className:"text-red-300",children:te})]}),Ne&&!$e&&ne==="compare"&&y.jsxs(qe,{className:"border-red-500 bg-red-900/40 shadow-xl",children:[y.jsx("p",{className:"text-red-300 font-semibold text-lg",children:"Mix Comparison Error:"}),y.jsx("p",{className:"text-red-300",children:Ne})]}),C&&!Y&&ne==="single"&&y.jsx(qe,{title:"AI Mix Feedback Report",className:"bg-gray-800/80 backdrop-blur-md shadow-xl border border-gray-700/50 sticky top-8",titleClassName:"border-b border-gray-700 text-xl !text-orange-300",children:y.jsx("div",{id:"mix-feedback-display",className:"prose prose-sm md:prose-base prose-invert max-w-none max-h-[calc(100vh-6rem)] overflow-y-auto pr-3 text-gray-300 custom-scrollbar guidebook-content",children:y.jsx(cs,{content:C})})}),Me&&!$e&&ne==="compare"&&y.jsxs(qe,{title:"AI Mix Comparison Report",className:"bg-gray-800/80 backdrop-blur-md shadow-xl border border-gray-700/50 sticky top-8",titleClassName:"border-b border-gray-700 text-xl !text-orange-300",children:[y.jsx("div",{id:"mix-comparison-display",className:"prose prose-sm md:prose-base prose-invert max-w-none max-h-[calc(100vh-6rem)] overflow-y-auto pr-3 text-gray-300 custom-scrollbar guidebook-content",children:y.jsx(cs,{content:Me})}),y.jsx("div",{className:"p-4 border-t border-gray-700 flex justify-center",children:y.jsx(je,{onClick:async()=>{if(oe.mixB){D(!0),B(null),P(null),_({audioFile:oe.mixB,userNotes:oe.userNotes});try{const Q=await Mx({audioFile:oe.mixB,userNotes:oe.userNotes});B(Q)}catch(Q){console.error("Full Mix B Feedback Error:",Q),P(Q.message||"Failed to generate feedback for Mix B.")}finally{D(!1)}}},disabled:Y,className:"w-full mt-4 text-base py-2.5 !bg-orange-600 hover:!bg-orange-700 focus:!ring-orange-500",leftIcon:y.jsx(ad,{className:"w-5 h-5"}),children:Y?"Analyzing Mix B...":"Get Full Feedback for Mix B"})})]}),!Y&&!$e&&!C&&!Me&&!te&&!Ne&&y.jsxs(qe,{className:"bg-gray-800/80 backdrop-blur-md shadow-xl border border-gray-700/50 flex flex-col items-center justify-center h-96 text-center min-h-[500px]",children:[y.jsx("div",{className:"flex justify-center mb-6",children:y.jsx(uu,{className:"w-20 h-20 opacity-80"})}),y.jsx("h3",{className:"text-2xl font-semibold text-gray-200 mb-2",children:"Refine Your Sound."}),y.jsx("p",{className:"text-gray-400 max-w-md",children:ne==="single"?"Upload your mix, add some notes, and get detailed feedback from our AI mixing engineer.":"Upload two mix versions to compare them side-by-side and get detailed analysis of the differences."})]})]})]}),e==="remixGuide"&&y.jsx("div",{className:"max-w-7xl mx-auto",children:y.jsx(CP,{})}),e==="eqGuide"&&y.jsx("div",{className:"max-w-7xl mx-auto",children:y.jsx(EP,{})}),e==="patchGuide"&&y.jsx("div",{className:"max-w-7xl mx-auto",children:y.jsx(PO,{})}),j&&y.jsx(WI,{library:N,onClose:()=>se(!1),onLoadEntry:Ee,onDeleteEntry:Ke,onCreateNew:ur}),y.jsx("footer",{className:"text-center mt-16 py-8 border-t border-gray-700/60",children:y.jsxs("p",{className:"text-sm text-gray-500",children:[bx," - AI Production Assistant"]})})]})},WS=document.getElementById("root");if(!WS)throw new Error("Could not find root element to mount to");const zO=pE.createRoot(WS);zO.render(y.jsx(km.StrictMode,{children:y.jsx(FO,{})}));
