(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const l of o)if(l.type==="childList")for(const u of l.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&r(u)}).observe(document,{childList:!0,subtree:!0});function n(o){const l={};return o.integrity&&(l.integrity=o.integrity),o.referrerPolicy&&(l.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?l.credentials="include":o.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function r(o){if(o.ep)return;o.ep=!0;const l=n(o);fetch(o.href,l)}})();function Ms(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function zv(e){if(Object.prototype.hasOwnProperty.call(e,"__esModule"))return e;var t=e.default;if(typeof t=="function"){var n=function r(){return this instanceof r?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var o=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,o.get?o:{enumerable:!0,get:function(){return e[r]}})}),n}var nf={exports:{}},Zo={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bg;function jv(){if(bg)return Zo;bg=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(r,o,l){var u=null;if(l!==void 0&&(u=""+l),o.key!==void 0&&(u=""+o.key),"key"in o){l={};for(var f in o)f!=="key"&&(l[f]=o[f])}else l=o;return o=l.ref,{$$typeof:e,type:r,key:u,ref:o!==void 0?o:null,props:l}}return Zo.Fragment=t,Zo.jsx=n,Zo.jsxs=n,Zo}var Tg;function Gv(){return Tg||(Tg=1,nf.exports=jv()),nf.exports}var p=Gv(),af={exports:{}},qe={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Eg;function qv(){if(Eg)return qe;Eg=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),u=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),x=Symbol.iterator;function v(C){return C===null||typeof C!="object"?null:(C=x&&C[x]||C["@@iterator"],typeof C=="function"?C:null)}var S={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},_=Object.assign,D={};function U(C,F,Q){this.props=C,this.context=F,this.refs=D,this.updater=Q||S}U.prototype.isReactComponent={},U.prototype.setState=function(C,F){if(typeof C!="object"&&typeof C!="function"&&C!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,C,F,"setState")},U.prototype.forceUpdate=function(C){this.updater.enqueueForceUpdate(this,C,"forceUpdate")};function L(){}L.prototype=U.prototype;function K(C,F,Q){this.props=C,this.context=F,this.refs=D,this.updater=Q||S}var G=K.prototype=new L;G.constructor=K,_(G,U.prototype),G.isPureReactComponent=!0;var $=Array.isArray,B={H:null,A:null,T:null,S:null,V:null},z=Object.prototype.hasOwnProperty;function se(C,F,Q,I,oe,H){return Q=H.ref,{$$typeof:e,type:C,key:F,ref:Q!==void 0?Q:null,props:H}}function ye(C,F){return se(C.type,F,void 0,void 0,void 0,C.props)}function Ae(C){return typeof C=="object"&&C!==null&&C.$$typeof===e}function q(C){var F={"=":"=0",":":"=2"};return"$"+C.replace(/[=:]/g,function(Q){return F[Q]})}var be=/\/+/g;function Ee(C,F){return typeof C=="object"&&C!==null&&C.key!=null?q(""+C.key):F.toString(36)}function Ce(){}function me(C){switch(C.status){case"fulfilled":return C.value;case"rejected":throw C.reason;default:switch(typeof C.status=="string"?C.then(Ce,Ce):(C.status="pending",C.then(function(F){C.status==="pending"&&(C.status="fulfilled",C.value=F)},function(F){C.status==="pending"&&(C.status="rejected",C.reason=F)})),C.status){case"fulfilled":return C.value;case"rejected":throw C.reason}}throw C}function ie(C,F,Q,I,oe){var H=typeof C;(H==="undefined"||H==="boolean")&&(C=null);var re=!1;if(C===null)re=!0;else switch(H){case"bigint":case"string":case"number":re=!0;break;case"object":switch(C.$$typeof){case e:case t:re=!0;break;case g:return re=C._init,ie(re(C._payload),F,Q,I,oe)}}if(re)return oe=oe(C),re=I===""?"."+Ee(C,0):I,$(oe)?(Q="",re!=null&&(Q=re.replace(be,"$&/")+"/"),ie(oe,F,Q,"",function(De){return De})):oe!=null&&(Ae(oe)&&(oe=ye(oe,Q+(oe.key==null||C&&C.key===oe.key?"":(""+oe.key).replace(be,"$&/")+"/")+re)),F.push(oe)),1;re=0;var _e=I===""?".":I+":";if($(C))for(var Se=0;Se<C.length;Se++)I=C[Se],H=_e+Ee(I,Se),re+=ie(I,F,Q,H,oe);else if(Se=v(C),typeof Se=="function")for(C=Se.call(C),Se=0;!(I=C.next()).done;)I=I.value,H=_e+Ee(I,Se++),re+=ie(I,F,Q,H,oe);else if(H==="object"){if(typeof C.then=="function")return ie(me(C),F,Q,I,oe);throw F=String(C),Error("Objects are not valid as a React child (found: "+(F==="[object Object]"?"object with keys {"+Object.keys(C).join(", ")+"}":F)+"). If you meant to render a collection of children, use an array instead.")}return re}function W(C,F,Q){if(C==null)return C;var I=[],oe=0;return ie(C,I,"","",function(H){return F.call(Q,H,oe++)}),I}function j(C){if(C._status===-1){var F=C._result;F=F(),F.then(function(Q){(C._status===0||C._status===-1)&&(C._status=1,C._result=Q)},function(Q){(C._status===0||C._status===-1)&&(C._status=2,C._result=Q)}),C._status===-1&&(C._status=0,C._result=F)}if(C._status===1)return C._result.default;throw C._result}var R=typeof reportError=="function"?reportError:function(C){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var F=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof C=="object"&&C!==null&&typeof C.message=="string"?String(C.message):String(C),error:C});if(!window.dispatchEvent(F))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",C);return}console.error(C)};function k(){}return qe.Children={map:W,forEach:function(C,F,Q){W(C,function(){F.apply(this,arguments)},Q)},count:function(C){var F=0;return W(C,function(){F++}),F},toArray:function(C){return W(C,function(F){return F})||[]},only:function(C){if(!Ae(C))throw Error("React.Children.only expected to receive a single React element child.");return C}},qe.Component=U,qe.Fragment=n,qe.Profiler=o,qe.PureComponent=K,qe.StrictMode=r,qe.Suspense=m,qe.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=B,qe.__COMPILER_RUNTIME={__proto__:null,c:function(C){return B.H.useMemoCache(C)}},qe.cache=function(C){return function(){return C.apply(null,arguments)}},qe.cloneElement=function(C,F,Q){if(C==null)throw Error("The argument must be a React element, but you passed "+C+".");var I=_({},C.props),oe=C.key,H=void 0;if(F!=null)for(re in F.ref!==void 0&&(H=void 0),F.key!==void 0&&(oe=""+F.key),F)!z.call(F,re)||re==="key"||re==="__self"||re==="__source"||re==="ref"&&F.ref===void 0||(I[re]=F[re]);var re=arguments.length-2;if(re===1)I.children=Q;else if(1<re){for(var _e=Array(re),Se=0;Se<re;Se++)_e[Se]=arguments[Se+2];I.children=_e}return se(C.type,oe,void 0,void 0,H,I)},qe.createContext=function(C){return C={$$typeof:u,_currentValue:C,_currentValue2:C,_threadCount:0,Provider:null,Consumer:null},C.Provider=C,C.Consumer={$$typeof:l,_context:C},C},qe.createElement=function(C,F,Q){var I,oe={},H=null;if(F!=null)for(I in F.key!==void 0&&(H=""+F.key),F)z.call(F,I)&&I!=="key"&&I!=="__self"&&I!=="__source"&&(oe[I]=F[I]);var re=arguments.length-2;if(re===1)oe.children=Q;else if(1<re){for(var _e=Array(re),Se=0;Se<re;Se++)_e[Se]=arguments[Se+2];oe.children=_e}if(C&&C.defaultProps)for(I in re=C.defaultProps,re)oe[I]===void 0&&(oe[I]=re[I]);return se(C,H,void 0,void 0,null,oe)},qe.createRef=function(){return{current:null}},qe.forwardRef=function(C){return{$$typeof:f,render:C}},qe.isValidElement=Ae,qe.lazy=function(C){return{$$typeof:g,_payload:{_status:-1,_result:C},_init:j}},qe.memo=function(C,F){return{$$typeof:d,type:C,compare:F===void 0?null:F}},qe.startTransition=function(C){var F=B.T,Q={};B.T=Q;try{var I=C(),oe=B.S;oe!==null&&oe(Q,I),typeof I=="object"&&I!==null&&typeof I.then=="function"&&I.then(k,R)}catch(H){R(H)}finally{B.T=F}},qe.unstable_useCacheRefresh=function(){return B.H.useCacheRefresh()},qe.use=function(C){return B.H.use(C)},qe.useActionState=function(C,F,Q){return B.H.useActionState(C,F,Q)},qe.useCallback=function(C,F){return B.H.useCallback(C,F)},qe.useContext=function(C){return B.H.useContext(C)},qe.useDebugValue=function(){},qe.useDeferredValue=function(C,F){return B.H.useDeferredValue(C,F)},qe.useEffect=function(C,F,Q){var I=B.H;if(typeof Q=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return I.useEffect(C,F)},qe.useId=function(){return B.H.useId()},qe.useImperativeHandle=function(C,F,Q){return B.H.useImperativeHandle(C,F,Q)},qe.useInsertionEffect=function(C,F){return B.H.useInsertionEffect(C,F)},qe.useLayoutEffect=function(C,F){return B.H.useLayoutEffect(C,F)},qe.useMemo=function(C,F){return B.H.useMemo(C,F)},qe.useOptimistic=function(C,F){return B.H.useOptimistic(C,F)},qe.useReducer=function(C,F,Q){return B.H.useReducer(C,F,Q)},qe.useRef=function(C){return B.H.useRef(C)},qe.useState=function(C){return B.H.useState(C)},qe.useSyncExternalStore=function(C,F,Q){return B.H.useSyncExternalStore(C,F,Q)},qe.useTransition=function(){return B.H.useTransition()},qe.version="19.1.0",qe}var xg;function um(){return xg||(xg=1,af.exports=qv()),af.exports}var he=um();const Mu=Ms(he);var rf={exports:{}},es={},of={exports:{}},sf={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vg;function Yv(){return vg||(vg=1,function(e){function t(W,j){var R=W.length;W.push(j);e:for(;0<R;){var k=R-1>>>1,C=W[k];if(0<o(C,j))W[k]=j,W[R]=C,R=k;else break e}}function n(W){return W.length===0?null:W[0]}function r(W){if(W.length===0)return null;var j=W[0],R=W.pop();if(R!==j){W[0]=R;e:for(var k=0,C=W.length,F=C>>>1;k<F;){var Q=2*(k+1)-1,I=W[Q],oe=Q+1,H=W[oe];if(0>o(I,R))oe<C&&0>o(H,I)?(W[k]=H,W[oe]=R,k=oe):(W[k]=I,W[Q]=R,k=Q);else if(oe<C&&0>o(H,R))W[k]=H,W[oe]=R,k=oe;else break e}}return j}function o(W,j){var R=W.sortIndex-j.sortIndex;return R!==0?R:W.id-j.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;e.unstable_now=function(){return l.now()}}else{var u=Date,f=u.now();e.unstable_now=function(){return u.now()-f}}var m=[],d=[],g=1,x=null,v=3,S=!1,_=!1,D=!1,U=!1,L=typeof setTimeout=="function"?setTimeout:null,K=typeof clearTimeout=="function"?clearTimeout:null,G=typeof setImmediate<"u"?setImmediate:null;function $(W){for(var j=n(d);j!==null;){if(j.callback===null)r(d);else if(j.startTime<=W)r(d),j.sortIndex=j.expirationTime,t(m,j);else break;j=n(d)}}function B(W){if(D=!1,$(W),!_)if(n(m)!==null)_=!0,z||(z=!0,Ee());else{var j=n(d);j!==null&&ie(B,j.startTime-W)}}var z=!1,se=-1,ye=5,Ae=-1;function q(){return U?!0:!(e.unstable_now()-Ae<ye)}function be(){if(U=!1,z){var W=e.unstable_now();Ae=W;var j=!0;try{e:{_=!1,D&&(D=!1,K(se),se=-1),S=!0;var R=v;try{t:{for($(W),x=n(m);x!==null&&!(x.expirationTime>W&&q());){var k=x.callback;if(typeof k=="function"){x.callback=null,v=x.priorityLevel;var C=k(x.expirationTime<=W);if(W=e.unstable_now(),typeof C=="function"){x.callback=C,$(W),j=!0;break t}x===n(m)&&r(m),$(W)}else r(m);x=n(m)}if(x!==null)j=!0;else{var F=n(d);F!==null&&ie(B,F.startTime-W),j=!1}}break e}finally{x=null,v=R,S=!1}j=void 0}}finally{j?Ee():z=!1}}}var Ee;if(typeof G=="function")Ee=function(){G(be)};else if(typeof MessageChannel<"u"){var Ce=new MessageChannel,me=Ce.port2;Ce.port1.onmessage=be,Ee=function(){me.postMessage(null)}}else Ee=function(){L(be,0)};function ie(W,j){se=L(function(){W(e.unstable_now())},j)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(W){W.callback=null},e.unstable_forceFrameRate=function(W){0>W||125<W?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):ye=0<W?Math.floor(1e3/W):5},e.unstable_getCurrentPriorityLevel=function(){return v},e.unstable_next=function(W){switch(v){case 1:case 2:case 3:var j=3;break;default:j=v}var R=v;v=j;try{return W()}finally{v=R}},e.unstable_requestPaint=function(){U=!0},e.unstable_runWithPriority=function(W,j){switch(W){case 1:case 2:case 3:case 4:case 5:break;default:W=3}var R=v;v=W;try{return j()}finally{v=R}},e.unstable_scheduleCallback=function(W,j,R){var k=e.unstable_now();switch(typeof R=="object"&&R!==null?(R=R.delay,R=typeof R=="number"&&0<R?k+R:k):R=k,W){case 1:var C=-1;break;case 2:C=250;break;case 5:C=1073741823;break;case 4:C=1e4;break;default:C=5e3}return C=R+C,W={id:g++,callback:j,priorityLevel:W,startTime:R,expirationTime:C,sortIndex:-1},R>k?(W.sortIndex=R,t(d,W),n(m)===null&&W===n(d)&&(D?(K(se),se=-1):D=!0,ie(B,R-k))):(W.sortIndex=C,t(m,W),_||S||(_=!0,z||(z=!0,Ee()))),W},e.unstable_shouldYield=q,e.unstable_wrapCallback=function(W){var j=v;return function(){var R=v;v=j;try{return W.apply(this,arguments)}finally{v=R}}}}(sf)),sf}var Cg;function Qv(){return Cg||(Cg=1,of.exports=Yv()),of.exports}var lf={exports:{}},Xt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Sg;function Kv(){if(Sg)return Xt;Sg=1;var e=um();function t(m){var d="https://react.dev/errors/"+m;if(1<arguments.length){d+="?args[]="+encodeURIComponent(arguments[1]);for(var g=2;g<arguments.length;g++)d+="&args[]="+encodeURIComponent(arguments[g])}return"Minified React error #"+m+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function l(m,d,g){var x=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:x==null?null:""+x,children:m,containerInfo:d,implementation:g}}var u=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function f(m,d){if(m==="font")return"";if(typeof d=="string")return d==="use-credentials"?d:""}return Xt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Xt.createPortal=function(m,d){var g=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!d||d.nodeType!==1&&d.nodeType!==9&&d.nodeType!==11)throw Error(t(299));return l(m,d,null,g)},Xt.flushSync=function(m){var d=u.T,g=r.p;try{if(u.T=null,r.p=2,m)return m()}finally{u.T=d,r.p=g,r.d.f()}},Xt.preconnect=function(m,d){typeof m=="string"&&(d?(d=d.crossOrigin,d=typeof d=="string"?d==="use-credentials"?d:"":void 0):d=null,r.d.C(m,d))},Xt.prefetchDNS=function(m){typeof m=="string"&&r.d.D(m)},Xt.preinit=function(m,d){if(typeof m=="string"&&d&&typeof d.as=="string"){var g=d.as,x=f(g,d.crossOrigin),v=typeof d.integrity=="string"?d.integrity:void 0,S=typeof d.fetchPriority=="string"?d.fetchPriority:void 0;g==="style"?r.d.S(m,typeof d.precedence=="string"?d.precedence:void 0,{crossOrigin:x,integrity:v,fetchPriority:S}):g==="script"&&r.d.X(m,{crossOrigin:x,integrity:v,fetchPriority:S,nonce:typeof d.nonce=="string"?d.nonce:void 0})}},Xt.preinitModule=function(m,d){if(typeof m=="string")if(typeof d=="object"&&d!==null){if(d.as==null||d.as==="script"){var g=f(d.as,d.crossOrigin);r.d.M(m,{crossOrigin:g,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0})}}else d==null&&r.d.M(m)},Xt.preload=function(m,d){if(typeof m=="string"&&typeof d=="object"&&d!==null&&typeof d.as=="string"){var g=d.as,x=f(g,d.crossOrigin);r.d.L(m,g,{crossOrigin:x,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0,type:typeof d.type=="string"?d.type:void 0,fetchPriority:typeof d.fetchPriority=="string"?d.fetchPriority:void 0,referrerPolicy:typeof d.referrerPolicy=="string"?d.referrerPolicy:void 0,imageSrcSet:typeof d.imageSrcSet=="string"?d.imageSrcSet:void 0,imageSizes:typeof d.imageSizes=="string"?d.imageSizes:void 0,media:typeof d.media=="string"?d.media:void 0})}},Xt.preloadModule=function(m,d){if(typeof m=="string")if(d){var g=f(d.as,d.crossOrigin);r.d.m(m,{as:typeof d.as=="string"&&d.as!=="script"?d.as:void 0,crossOrigin:g,integrity:typeof d.integrity=="string"?d.integrity:void 0})}else r.d.m(m)},Xt.requestFormReset=function(m){r.d.r(m)},Xt.unstable_batchedUpdates=function(m,d){return m(d)},Xt.useFormState=function(m,d,g){return u.H.useFormState(m,d,g)},Xt.useFormStatus=function(){return u.H.useHostTransitionStatus()},Xt.version="19.1.0",Xt}var Ag;function $v(){if(Ag)return lf.exports;Ag=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),lf.exports=Kv(),lf.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _g;function Xv(){if(_g)return es;_g=1;var e=Qv(),t=um(),n=$v();function r(a){var i="https://react.dev/errors/"+a;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)i+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+a+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11)}function l(a){var i=a,s=a;if(a.alternate)for(;i.return;)i=i.return;else{a=i;do i=a,(i.flags&4098)!==0&&(s=i.return),a=i.return;while(a)}return i.tag===3?s:null}function u(a){if(a.tag===13){var i=a.memoizedState;if(i===null&&(a=a.alternate,a!==null&&(i=a.memoizedState)),i!==null)return i.dehydrated}return null}function f(a){if(l(a)!==a)throw Error(r(188))}function m(a){var i=a.alternate;if(!i){if(i=l(a),i===null)throw Error(r(188));return i!==a?null:a}for(var s=a,c=i;;){var h=s.return;if(h===null)break;var T=h.alternate;if(T===null){if(c=h.return,c!==null){s=c;continue}break}if(h.child===T.child){for(T=h.child;T;){if(T===s)return f(h),a;if(T===c)return f(h),i;T=T.sibling}throw Error(r(188))}if(s.return!==c.return)s=h,c=T;else{for(var A=!1,N=h.child;N;){if(N===s){A=!0,s=h,c=T;break}if(N===c){A=!0,c=h,s=T;break}N=N.sibling}if(!A){for(N=T.child;N;){if(N===s){A=!0,s=T,c=h;break}if(N===c){A=!0,c=T,s=h;break}N=N.sibling}if(!A)throw Error(r(189))}}if(s.alternate!==c)throw Error(r(190))}if(s.tag!==3)throw Error(r(188));return s.stateNode.current===s?a:i}function d(a){var i=a.tag;if(i===5||i===26||i===27||i===6)return a;for(a=a.child;a!==null;){if(i=d(a),i!==null)return i;a=a.sibling}return null}var g=Object.assign,x=Symbol.for("react.element"),v=Symbol.for("react.transitional.element"),S=Symbol.for("react.portal"),_=Symbol.for("react.fragment"),D=Symbol.for("react.strict_mode"),U=Symbol.for("react.profiler"),L=Symbol.for("react.provider"),K=Symbol.for("react.consumer"),G=Symbol.for("react.context"),$=Symbol.for("react.forward_ref"),B=Symbol.for("react.suspense"),z=Symbol.for("react.suspense_list"),se=Symbol.for("react.memo"),ye=Symbol.for("react.lazy"),Ae=Symbol.for("react.activity"),q=Symbol.for("react.memo_cache_sentinel"),be=Symbol.iterator;function Ee(a){return a===null||typeof a!="object"?null:(a=be&&a[be]||a["@@iterator"],typeof a=="function"?a:null)}var Ce=Symbol.for("react.client.reference");function me(a){if(a==null)return null;if(typeof a=="function")return a.$$typeof===Ce?null:a.displayName||a.name||null;if(typeof a=="string")return a;switch(a){case _:return"Fragment";case U:return"Profiler";case D:return"StrictMode";case B:return"Suspense";case z:return"SuspenseList";case Ae:return"Activity"}if(typeof a=="object")switch(a.$$typeof){case S:return"Portal";case G:return(a.displayName||"Context")+".Provider";case K:return(a._context.displayName||"Context")+".Consumer";case $:var i=a.render;return a=a.displayName,a||(a=i.displayName||i.name||"",a=a!==""?"ForwardRef("+a+")":"ForwardRef"),a;case se:return i=a.displayName||null,i!==null?i:me(a.type)||"Memo";case ye:i=a._payload,a=a._init;try{return me(a(i))}catch{}}return null}var ie=Array.isArray,W=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,j=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,R={pending:!1,data:null,method:null,action:null},k=[],C=-1;function F(a){return{current:a}}function Q(a){0>C||(a.current=k[C],k[C]=null,C--)}function I(a,i){C++,k[C]=a.current,a.current=i}var oe=F(null),H=F(null),re=F(null),_e=F(null);function Se(a,i){switch(I(re,i),I(H,a),I(oe,null),i.nodeType){case 9:case 11:a=(a=i.documentElement)&&(a=a.namespaceURI)?Yp(a):0;break;default:if(a=i.tagName,i=i.namespaceURI)i=Yp(i),a=Qp(i,a);else switch(a){case"svg":a=1;break;case"math":a=2;break;default:a=0}}Q(oe),I(oe,a)}function De(){Q(oe),Q(H),Q(re)}function we(a){a.memoizedState!==null&&I(_e,a);var i=oe.current,s=Qp(i,a.type);i!==s&&(I(H,a),I(oe,s))}function tt(a){H.current===a&&(Q(oe),Q(H)),_e.current===a&&(Q(_e),Ko._currentValue=R)}var Ue=Object.prototype.hasOwnProperty,Ie=e.unstable_scheduleCallback,je=e.unstable_cancelCallback,Ge=e.unstable_shouldYield,Et=e.unstable_requestPaint,tn=e.unstable_now,Ki=e.unstable_getCurrentPriorityLevel,fi=e.unstable_ImmediatePriority,ka=e.unstable_UserBlockingPriority,da=e.unstable_NormalPriority,$i=e.unstable_LowPriority,Ft=e.unstable_IdlePriority,mi=e.log,Xi=e.unstable_setDisableYieldValue,le=null,ge=null;function ke(a){if(typeof mi=="function"&&Xi(a),ge&&typeof ge.setStrictMode=="function")try{ge.setStrictMode(le,a)}catch{}}var Le=Math.clz32?Math.clz32:jn,st=Math.log,nn=Math.LN2;function jn(a){return a>>>=0,a===0?32:31-(st(a)/nn|0)|0}var Qt=256,Mn=4194304;function Kt(a){var i=a&42;if(i!==0)return i;switch(a&-a){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return a&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return a}}function Dt(a,i,s){var c=a.pendingLanes;if(c===0)return 0;var h=0,T=a.suspendedLanes,A=a.pingedLanes;a=a.warmLanes;var N=c&134217727;return N!==0?(c=N&~T,c!==0?h=Kt(c):(A&=N,A!==0?h=Kt(A):s||(s=N&~a,s!==0&&(h=Kt(s))))):(N=c&~T,N!==0?h=Kt(N):A!==0?h=Kt(A):s||(s=c&~a,s!==0&&(h=Kt(s)))),h===0?0:i!==0&&i!==h&&(i&T)===0&&(T=h&-h,s=i&-i,T>=s||T===32&&(s&4194048)!==0)?i:h}function on(a,i){return(a.pendingLanes&~(a.suspendedLanes&~a.pingedLanes)&i)===0}function sn(a,i){switch(a){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Bs(){var a=Qt;return Qt<<=1,(Qt&4194048)===0&&(Qt=256),a}function Fs(){var a=Mn;return Mn<<=1,(Mn&62914560)===0&&(Mn=4194304),a}function Wi(a){for(var i=[],s=0;31>s;s++)i.push(a);return i}function hi(a,i){a.pendingLanes|=i,i!==268435456&&(a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0)}function Yu(a,i,s,c,h,T){var A=a.pendingLanes;a.pendingLanes=s,a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0,a.expiredLanes&=s,a.entangledLanes&=s,a.errorRecoveryDisabledLanes&=s,a.shellSuspendCounter=0;var N=a.entanglements,P=a.expirationTimes,Z=a.hiddenUpdates;for(s=A&~s;0<s;){var ue=31-Le(s),de=1<<ue;N[ue]=0,P[ue]=-1;var ee=Z[ue];if(ee!==null)for(Z[ue]=null,ue=0;ue<ee.length;ue++){var te=ee[ue];te!==null&&(te.lane&=-536870913)}s&=~de}c!==0&&yn(a,c,0),T!==0&&h===0&&a.tag!==0&&(a.suspendedLanes|=T&~(A&~i))}function yn(a,i,s){a.pendingLanes|=i,a.suspendedLanes&=~i;var c=31-Le(i);a.entangledLanes|=i,a.entanglements[c]=a.entanglements[c]|1073741824|s&4194090}function no(a,i){var s=a.entangledLanes|=i;for(a=a.entanglements;s;){var c=31-Le(s),h=1<<c;h&i|a[c]&i&&(a[c]|=i),s&=~h}}function Ji(a){switch(a){case 2:a=1;break;case 8:a=4;break;case 32:a=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:a=128;break;case 268435456:a=134217728;break;default:a=0}return a}function ne(a){return a&=-a,2<a?8<a?(a&134217727)!==0?32:268435456:8:2}function Te(){var a=j.p;return a!==0?a:(a=window.event,a===void 0?32:fg(a.type))}function Ne(a,i){var s=j.p;try{return j.p=a,i()}finally{j.p=s}}var He=Math.random().toString(36).slice(2),it="__reactFiber$"+He,Qe="__reactProps$"+He,Gn="__reactContainer$"+He,ao="__reactEvents$"+He,Qu="__reactListeners$"+He,Ku="__reactHandles$"+He,Hs="__reactResources$"+He,pi="__reactMarker$"+He;function io(a){delete a[it],delete a[Qe],delete a[ao],delete a[Qu],delete a[Ku]}function qn(a){var i=a[it];if(i)return i;for(var s=a.parentNode;s;){if(i=s[Gn]||s[it]){if(s=i.alternate,i.child!==null||s!==null&&s.child!==null)for(a=Wp(a);a!==null;){if(s=a[it])return s;a=Wp(a)}return i}a=s,s=a.parentNode}return null}function fa(a){if(a=a[it]||a[Gn]){var i=a.tag;if(i===5||i===6||i===13||i===26||i===27||i===3)return a}return null}function gi(a){var i=a.tag;if(i===5||i===26||i===27||i===6)return a.stateNode;throw Error(r(33))}function wa(a){var i=a[Hs];return i||(i=a[Hs]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function Rt(a){a[pi]=!0}var Us=new Set,ro={};function ma(a,i){yi(a,i),yi(a+"Capture",i)}function yi(a,i){for(ro[a]=i,a=0;a<i.length;a++)Us.add(i[a])}var $u=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),ln={},ha={};function Zi(a){return Ue.call(ha,a)?!0:Ue.call(ln,a)?!1:$u.test(a)?ha[a]=!0:(ln[a]=!0,!1)}function bi(a,i,s){if(Zi(i))if(s===null)a.removeAttribute(i);else{switch(typeof s){case"undefined":case"function":case"symbol":a.removeAttribute(i);return;case"boolean":var c=i.toLowerCase().slice(0,5);if(c!=="data-"&&c!=="aria-"){a.removeAttribute(i);return}}a.setAttribute(i,""+s)}}function Vs(a,i,s){if(s===null)a.removeAttribute(i);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(i);return}a.setAttribute(i,""+s)}}function pa(a,i,s,c){if(c===null)a.removeAttribute(s);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(s);return}a.setAttributeNS(i,s,""+c)}}var Xu,Hm;function er(a){if(Xu===void 0)try{throw Error()}catch(s){var i=s.stack.trim().match(/\n( *(at )?)/);Xu=i&&i[1]||"",Hm=-1<s.stack.indexOf(`
    at`)?" (<anonymous>)":-1<s.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Xu+a+Hm}var Wu=!1;function Ju(a,i){if(!a||Wu)return"";Wu=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var c={DetermineComponentFrameRoot:function(){try{if(i){var de=function(){throw Error()};if(Object.defineProperty(de.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(de,[])}catch(te){var ee=te}Reflect.construct(a,[],de)}else{try{de.call()}catch(te){ee=te}a.call(de.prototype)}}else{try{throw Error()}catch(te){ee=te}(de=a())&&typeof de.catch=="function"&&de.catch(function(){})}}catch(te){if(te&&ee&&typeof te.stack=="string")return[te.stack,ee.stack]}return[null,null]}};c.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(c.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(c.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var T=c.DetermineComponentFrameRoot(),A=T[0],N=T[1];if(A&&N){var P=A.split(`
`),Z=N.split(`
`);for(h=c=0;c<P.length&&!P[c].includes("DetermineComponentFrameRoot");)c++;for(;h<Z.length&&!Z[h].includes("DetermineComponentFrameRoot");)h++;if(c===P.length||h===Z.length)for(c=P.length-1,h=Z.length-1;1<=c&&0<=h&&P[c]!==Z[h];)h--;for(;1<=c&&0<=h;c--,h--)if(P[c]!==Z[h]){if(c!==1||h!==1)do if(c--,h--,0>h||P[c]!==Z[h]){var ue=`
`+P[c].replace(" at new "," at ");return a.displayName&&ue.includes("<anonymous>")&&(ue=ue.replace("<anonymous>",a.displayName)),ue}while(1<=c&&0<=h);break}}}finally{Wu=!1,Error.prepareStackTrace=s}return(s=a?a.displayName||a.name:"")?er(s):""}function PE(a){switch(a.tag){case 26:case 27:case 5:return er(a.type);case 16:return er("Lazy");case 13:return er("Suspense");case 19:return er("SuspenseList");case 0:case 15:return Ju(a.type,!1);case 11:return Ju(a.type.render,!1);case 1:return Ju(a.type,!0);case 31:return er("Activity");default:return""}}function Um(a){try{var i="";do i+=PE(a),a=a.return;while(a);return i}catch(s){return`
Error generating stack: `+s.message+`
`+s.stack}}function Dn(a){switch(typeof a){case"bigint":case"boolean":case"number":case"string":case"undefined":return a;case"object":return a;default:return""}}function Vm(a){var i=a.type;return(a=a.nodeName)&&a.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function BE(a){var i=Vm(a)?"checked":"value",s=Object.getOwnPropertyDescriptor(a.constructor.prototype,i),c=""+a[i];if(!a.hasOwnProperty(i)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var h=s.get,T=s.set;return Object.defineProperty(a,i,{configurable:!0,get:function(){return h.call(this)},set:function(A){c=""+A,T.call(this,A)}}),Object.defineProperty(a,i,{enumerable:s.enumerable}),{getValue:function(){return c},setValue:function(A){c=""+A},stopTracking:function(){a._valueTracker=null,delete a[i]}}}}function zs(a){a._valueTracker||(a._valueTracker=BE(a))}function zm(a){if(!a)return!1;var i=a._valueTracker;if(!i)return!0;var s=i.getValue(),c="";return a&&(c=Vm(a)?a.checked?"true":"false":a.value),a=c,a!==s?(i.setValue(a),!0):!1}function js(a){if(a=a||(typeof document<"u"?document:void 0),typeof a>"u")return null;try{return a.activeElement||a.body}catch{return a.body}}var FE=/[\n"\\]/g;function Rn(a){return a.replace(FE,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function Zu(a,i,s,c,h,T,A,N){a.name="",A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"?a.type=A:a.removeAttribute("type"),i!=null?A==="number"?(i===0&&a.value===""||a.value!=i)&&(a.value=""+Dn(i)):a.value!==""+Dn(i)&&(a.value=""+Dn(i)):A!=="submit"&&A!=="reset"||a.removeAttribute("value"),i!=null?ec(a,A,Dn(i)):s!=null?ec(a,A,Dn(s)):c!=null&&a.removeAttribute("value"),h==null&&T!=null&&(a.defaultChecked=!!T),h!=null&&(a.checked=h&&typeof h!="function"&&typeof h!="symbol"),N!=null&&typeof N!="function"&&typeof N!="symbol"&&typeof N!="boolean"?a.name=""+Dn(N):a.removeAttribute("name")}function jm(a,i,s,c,h,T,A,N){if(T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"&&(a.type=T),i!=null||s!=null){if(!(T!=="submit"&&T!=="reset"||i!=null))return;s=s!=null?""+Dn(s):"",i=i!=null?""+Dn(i):s,N||i===a.value||(a.value=i),a.defaultValue=i}c=c??h,c=typeof c!="function"&&typeof c!="symbol"&&!!c,a.checked=N?a.checked:!!c,a.defaultChecked=!!c,A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"&&(a.name=A)}function ec(a,i,s){i==="number"&&js(a.ownerDocument)===a||a.defaultValue===""+s||(a.defaultValue=""+s)}function tr(a,i,s,c){if(a=a.options,i){i={};for(var h=0;h<s.length;h++)i["$"+s[h]]=!0;for(s=0;s<a.length;s++)h=i.hasOwnProperty("$"+a[s].value),a[s].selected!==h&&(a[s].selected=h),h&&c&&(a[s].defaultSelected=!0)}else{for(s=""+Dn(s),i=null,h=0;h<a.length;h++){if(a[h].value===s){a[h].selected=!0,c&&(a[h].defaultSelected=!0);return}i!==null||a[h].disabled||(i=a[h])}i!==null&&(i.selected=!0)}}function Gm(a,i,s){if(i!=null&&(i=""+Dn(i),i!==a.value&&(a.value=i),s==null)){a.defaultValue!==i&&(a.defaultValue=i);return}a.defaultValue=s!=null?""+Dn(s):""}function qm(a,i,s,c){if(i==null){if(c!=null){if(s!=null)throw Error(r(92));if(ie(c)){if(1<c.length)throw Error(r(93));c=c[0]}s=c}s==null&&(s=""),i=s}s=Dn(i),a.defaultValue=s,c=a.textContent,c===s&&c!==""&&c!==null&&(a.value=c)}function nr(a,i){if(i){var s=a.firstChild;if(s&&s===a.lastChild&&s.nodeType===3){s.nodeValue=i;return}}a.textContent=i}var HE=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Ym(a,i,s){var c=i.indexOf("--")===0;s==null||typeof s=="boolean"||s===""?c?a.setProperty(i,""):i==="float"?a.cssFloat="":a[i]="":c?a.setProperty(i,s):typeof s!="number"||s===0||HE.has(i)?i==="float"?a.cssFloat=s:a[i]=(""+s).trim():a[i]=s+"px"}function Qm(a,i,s){if(i!=null&&typeof i!="object")throw Error(r(62));if(a=a.style,s!=null){for(var c in s)!s.hasOwnProperty(c)||i!=null&&i.hasOwnProperty(c)||(c.indexOf("--")===0?a.setProperty(c,""):c==="float"?a.cssFloat="":a[c]="");for(var h in i)c=i[h],i.hasOwnProperty(h)&&s[h]!==c&&Ym(a,h,c)}else for(var T in i)i.hasOwnProperty(T)&&Ym(a,T,i[T])}function tc(a){if(a.indexOf("-")===-1)return!1;switch(a){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var UE=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),VE=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Gs(a){return VE.test(""+a)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":a}var nc=null;function ac(a){return a=a.target||a.srcElement||window,a.correspondingUseElement&&(a=a.correspondingUseElement),a.nodeType===3?a.parentNode:a}var ar=null,ir=null;function Km(a){var i=fa(a);if(i&&(a=i.stateNode)){var s=a[Qe]||null;e:switch(a=i.stateNode,i.type){case"input":if(Zu(a,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name),i=s.name,s.type==="radio"&&i!=null){for(s=a;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll('input[name="'+Rn(""+i)+'"][type="radio"]'),i=0;i<s.length;i++){var c=s[i];if(c!==a&&c.form===a.form){var h=c[Qe]||null;if(!h)throw Error(r(90));Zu(c,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(i=0;i<s.length;i++)c=s[i],c.form===a.form&&zm(c)}break e;case"textarea":Gm(a,s.value,s.defaultValue);break e;case"select":i=s.value,i!=null&&tr(a,!!s.multiple,i,!1)}}}var ic=!1;function $m(a,i,s){if(ic)return a(i,s);ic=!0;try{var c=a(i);return c}finally{if(ic=!1,(ar!==null||ir!==null)&&(Ml(),ar&&(i=ar,a=ir,ir=ar=null,Km(i),a)))for(i=0;i<a.length;i++)Km(a[i])}}function oo(a,i){var s=a.stateNode;if(s===null)return null;var c=s[Qe]||null;if(c===null)return null;s=c[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(a=a.type,c=!(a==="button"||a==="input"||a==="select"||a==="textarea")),a=!c;break e;default:a=!1}if(a)return null;if(s&&typeof s!="function")throw Error(r(231,i,typeof s));return s}var ga=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),rc=!1;if(ga)try{var so={};Object.defineProperty(so,"passive",{get:function(){rc=!0}}),window.addEventListener("test",so,so),window.removeEventListener("test",so,so)}catch{rc=!1}var La=null,oc=null,qs=null;function Xm(){if(qs)return qs;var a,i=oc,s=i.length,c,h="value"in La?La.value:La.textContent,T=h.length;for(a=0;a<s&&i[a]===h[a];a++);var A=s-a;for(c=1;c<=A&&i[s-c]===h[T-c];c++);return qs=h.slice(a,1<c?1-c:void 0)}function Ys(a){var i=a.keyCode;return"charCode"in a?(a=a.charCode,a===0&&i===13&&(a=13)):a=i,a===10&&(a=13),32<=a||a===13?a:0}function Qs(){return!0}function Wm(){return!1}function un(a){function i(s,c,h,T,A){this._reactName=s,this._targetInst=h,this.type=c,this.nativeEvent=T,this.target=A,this.currentTarget=null;for(var N in a)a.hasOwnProperty(N)&&(s=a[N],this[N]=s?s(T):T[N]);return this.isDefaultPrevented=(T.defaultPrevented!=null?T.defaultPrevented:T.returnValue===!1)?Qs:Wm,this.isPropagationStopped=Wm,this}return g(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=Qs)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=Qs)},persist:function(){},isPersistent:Qs}),i}var Ti={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(a){return a.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ks=un(Ti),lo=g({},Ti,{view:0,detail:0}),zE=un(lo),sc,lc,uo,$s=g({},lo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:cc,button:0,buttons:0,relatedTarget:function(a){return a.relatedTarget===void 0?a.fromElement===a.srcElement?a.toElement:a.fromElement:a.relatedTarget},movementX:function(a){return"movementX"in a?a.movementX:(a!==uo&&(uo&&a.type==="mousemove"?(sc=a.screenX-uo.screenX,lc=a.screenY-uo.screenY):lc=sc=0,uo=a),sc)},movementY:function(a){return"movementY"in a?a.movementY:lc}}),Jm=un($s),jE=g({},$s,{dataTransfer:0}),GE=un(jE),qE=g({},lo,{relatedTarget:0}),uc=un(qE),YE=g({},Ti,{animationName:0,elapsedTime:0,pseudoElement:0}),QE=un(YE),KE=g({},Ti,{clipboardData:function(a){return"clipboardData"in a?a.clipboardData:window.clipboardData}}),$E=un(KE),XE=g({},Ti,{data:0}),Zm=un(XE),WE={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},JE={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ZE={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ex(a){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(a):(a=ZE[a])?!!i[a]:!1}function cc(){return ex}var tx=g({},lo,{key:function(a){if(a.key){var i=WE[a.key]||a.key;if(i!=="Unidentified")return i}return a.type==="keypress"?(a=Ys(a),a===13?"Enter":String.fromCharCode(a)):a.type==="keydown"||a.type==="keyup"?JE[a.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:cc,charCode:function(a){return a.type==="keypress"?Ys(a):0},keyCode:function(a){return a.type==="keydown"||a.type==="keyup"?a.keyCode:0},which:function(a){return a.type==="keypress"?Ys(a):a.type==="keydown"||a.type==="keyup"?a.keyCode:0}}),nx=un(tx),ax=g({},$s,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),eh=un(ax),ix=g({},lo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:cc}),rx=un(ix),ox=g({},Ti,{propertyName:0,elapsedTime:0,pseudoElement:0}),sx=un(ox),lx=g({},$s,{deltaX:function(a){return"deltaX"in a?a.deltaX:"wheelDeltaX"in a?-a.wheelDeltaX:0},deltaY:function(a){return"deltaY"in a?a.deltaY:"wheelDeltaY"in a?-a.wheelDeltaY:"wheelDelta"in a?-a.wheelDelta:0},deltaZ:0,deltaMode:0}),ux=un(lx),cx=g({},Ti,{newState:0,oldState:0}),dx=un(cx),fx=[9,13,27,32],dc=ga&&"CompositionEvent"in window,co=null;ga&&"documentMode"in document&&(co=document.documentMode);var mx=ga&&"TextEvent"in window&&!co,th=ga&&(!dc||co&&8<co&&11>=co),nh=" ",ah=!1;function ih(a,i){switch(a){case"keyup":return fx.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function rh(a){return a=a.detail,typeof a=="object"&&"data"in a?a.data:null}var rr=!1;function hx(a,i){switch(a){case"compositionend":return rh(i);case"keypress":return i.which!==32?null:(ah=!0,nh);case"textInput":return a=i.data,a===nh&&ah?null:a;default:return null}}function px(a,i){if(rr)return a==="compositionend"||!dc&&ih(a,i)?(a=Xm(),qs=oc=La=null,rr=!1,a):null;switch(a){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return th&&i.locale!=="ko"?null:i.data;default:return null}}var gx={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function oh(a){var i=a&&a.nodeName&&a.nodeName.toLowerCase();return i==="input"?!!gx[a.type]:i==="textarea"}function sh(a,i,s,c){ar?ir?ir.push(c):ir=[c]:ar=c,i=Ol(i,"onChange"),0<i.length&&(s=new Ks("onChange","change",null,s,c),a.push({event:s,listeners:i}))}var fo=null,mo=null;function yx(a){Vp(a,0)}function Xs(a){var i=gi(a);if(zm(i))return a}function lh(a,i){if(a==="change")return i}var uh=!1;if(ga){var fc;if(ga){var mc="oninput"in document;if(!mc){var ch=document.createElement("div");ch.setAttribute("oninput","return;"),mc=typeof ch.oninput=="function"}fc=mc}else fc=!1;uh=fc&&(!document.documentMode||9<document.documentMode)}function dh(){fo&&(fo.detachEvent("onpropertychange",fh),mo=fo=null)}function fh(a){if(a.propertyName==="value"&&Xs(mo)){var i=[];sh(i,mo,a,ac(a)),$m(yx,i)}}function bx(a,i,s){a==="focusin"?(dh(),fo=i,mo=s,fo.attachEvent("onpropertychange",fh)):a==="focusout"&&dh()}function Tx(a){if(a==="selectionchange"||a==="keyup"||a==="keydown")return Xs(mo)}function Ex(a,i){if(a==="click")return Xs(i)}function xx(a,i){if(a==="input"||a==="change")return Xs(i)}function vx(a,i){return a===i&&(a!==0||1/a===1/i)||a!==a&&i!==i}var bn=typeof Object.is=="function"?Object.is:vx;function ho(a,i){if(bn(a,i))return!0;if(typeof a!="object"||a===null||typeof i!="object"||i===null)return!1;var s=Object.keys(a),c=Object.keys(i);if(s.length!==c.length)return!1;for(c=0;c<s.length;c++){var h=s[c];if(!Ue.call(i,h)||!bn(a[h],i[h]))return!1}return!0}function mh(a){for(;a&&a.firstChild;)a=a.firstChild;return a}function hh(a,i){var s=mh(a);a=0;for(var c;s;){if(s.nodeType===3){if(c=a+s.textContent.length,a<=i&&c>=i)return{node:s,offset:i-a};a=c}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=mh(s)}}function ph(a,i){return a&&i?a===i?!0:a&&a.nodeType===3?!1:i&&i.nodeType===3?ph(a,i.parentNode):"contains"in a?a.contains(i):a.compareDocumentPosition?!!(a.compareDocumentPosition(i)&16):!1:!1}function gh(a){a=a!=null&&a.ownerDocument!=null&&a.ownerDocument.defaultView!=null?a.ownerDocument.defaultView:window;for(var i=js(a.document);i instanceof a.HTMLIFrameElement;){try{var s=typeof i.contentWindow.location.href=="string"}catch{s=!1}if(s)a=i.contentWindow;else break;i=js(a.document)}return i}function hc(a){var i=a&&a.nodeName&&a.nodeName.toLowerCase();return i&&(i==="input"&&(a.type==="text"||a.type==="search"||a.type==="tel"||a.type==="url"||a.type==="password")||i==="textarea"||a.contentEditable==="true")}var Cx=ga&&"documentMode"in document&&11>=document.documentMode,or=null,pc=null,po=null,gc=!1;function yh(a,i,s){var c=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;gc||or==null||or!==js(c)||(c=or,"selectionStart"in c&&hc(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),po&&ho(po,c)||(po=c,c=Ol(pc,"onSelect"),0<c.length&&(i=new Ks("onSelect","select",null,i,s),a.push({event:i,listeners:c}),i.target=or)))}function Ei(a,i){var s={};return s[a.toLowerCase()]=i.toLowerCase(),s["Webkit"+a]="webkit"+i,s["Moz"+a]="moz"+i,s}var sr={animationend:Ei("Animation","AnimationEnd"),animationiteration:Ei("Animation","AnimationIteration"),animationstart:Ei("Animation","AnimationStart"),transitionrun:Ei("Transition","TransitionRun"),transitionstart:Ei("Transition","TransitionStart"),transitioncancel:Ei("Transition","TransitionCancel"),transitionend:Ei("Transition","TransitionEnd")},yc={},bh={};ga&&(bh=document.createElement("div").style,"AnimationEvent"in window||(delete sr.animationend.animation,delete sr.animationiteration.animation,delete sr.animationstart.animation),"TransitionEvent"in window||delete sr.transitionend.transition);function xi(a){if(yc[a])return yc[a];if(!sr[a])return a;var i=sr[a],s;for(s in i)if(i.hasOwnProperty(s)&&s in bh)return yc[a]=i[s];return a}var Th=xi("animationend"),Eh=xi("animationiteration"),xh=xi("animationstart"),Sx=xi("transitionrun"),Ax=xi("transitionstart"),_x=xi("transitioncancel"),vh=xi("transitionend"),Ch=new Map,bc="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");bc.push("scrollEnd");function Yn(a,i){Ch.set(a,i),ma(i,[a])}var Sh=new WeakMap;function kn(a,i){if(typeof a=="object"&&a!==null){var s=Sh.get(a);return s!==void 0?s:(i={value:a,source:i,stack:Um(i)},Sh.set(a,i),i)}return{value:a,source:i,stack:Um(i)}}var wn=[],lr=0,Tc=0;function Ws(){for(var a=lr,i=Tc=lr=0;i<a;){var s=wn[i];wn[i++]=null;var c=wn[i];wn[i++]=null;var h=wn[i];wn[i++]=null;var T=wn[i];if(wn[i++]=null,c!==null&&h!==null){var A=c.pending;A===null?h.next=h:(h.next=A.next,A.next=h),c.pending=h}T!==0&&Ah(s,h,T)}}function Js(a,i,s,c){wn[lr++]=a,wn[lr++]=i,wn[lr++]=s,wn[lr++]=c,Tc|=c,a.lanes|=c,a=a.alternate,a!==null&&(a.lanes|=c)}function Ec(a,i,s,c){return Js(a,i,s,c),Zs(a)}function ur(a,i){return Js(a,null,null,i),Zs(a)}function Ah(a,i,s){a.lanes|=s;var c=a.alternate;c!==null&&(c.lanes|=s);for(var h=!1,T=a.return;T!==null;)T.childLanes|=s,c=T.alternate,c!==null&&(c.childLanes|=s),T.tag===22&&(a=T.stateNode,a===null||a._visibility&1||(h=!0)),a=T,T=T.return;return a.tag===3?(T=a.stateNode,h&&i!==null&&(h=31-Le(s),a=T.hiddenUpdates,c=a[h],c===null?a[h]=[i]:c.push(i),i.lane=s|536870912),T):null}function Zs(a){if(50<Uo)throw Uo=0,_d=null,Error(r(185));for(var i=a.return;i!==null;)a=i,i=a.return;return a.tag===3?a.stateNode:null}var cr={};function Ix(a,i,s,c){this.tag=a,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Tn(a,i,s,c){return new Ix(a,i,s,c)}function xc(a){return a=a.prototype,!(!a||!a.isReactComponent)}function ya(a,i){var s=a.alternate;return s===null?(s=Tn(a.tag,i,a.key,a.mode),s.elementType=a.elementType,s.type=a.type,s.stateNode=a.stateNode,s.alternate=a,a.alternate=s):(s.pendingProps=i,s.type=a.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=a.flags&65011712,s.childLanes=a.childLanes,s.lanes=a.lanes,s.child=a.child,s.memoizedProps=a.memoizedProps,s.memoizedState=a.memoizedState,s.updateQueue=a.updateQueue,i=a.dependencies,s.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},s.sibling=a.sibling,s.index=a.index,s.ref=a.ref,s.refCleanup=a.refCleanup,s}function _h(a,i){a.flags&=65011714;var s=a.alternate;return s===null?(a.childLanes=0,a.lanes=i,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=s.childLanes,a.lanes=s.lanes,a.child=s.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=s.memoizedProps,a.memoizedState=s.memoizedState,a.updateQueue=s.updateQueue,a.type=s.type,i=s.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),a}function el(a,i,s,c,h,T){var A=0;if(c=a,typeof a=="function")xc(a)&&(A=1);else if(typeof a=="string")A=Mv(a,s,oe.current)?26:a==="html"||a==="head"||a==="body"?27:5;else e:switch(a){case Ae:return a=Tn(31,s,i,h),a.elementType=Ae,a.lanes=T,a;case _:return vi(s.children,h,T,i);case D:A=8,h|=24;break;case U:return a=Tn(12,s,i,h|2),a.elementType=U,a.lanes=T,a;case B:return a=Tn(13,s,i,h),a.elementType=B,a.lanes=T,a;case z:return a=Tn(19,s,i,h),a.elementType=z,a.lanes=T,a;default:if(typeof a=="object"&&a!==null)switch(a.$$typeof){case L:case G:A=10;break e;case K:A=9;break e;case $:A=11;break e;case se:A=14;break e;case ye:A=16,c=null;break e}A=29,s=Error(r(130,a===null?"null":typeof a,"")),c=null}return i=Tn(A,s,i,h),i.elementType=a,i.type=c,i.lanes=T,i}function vi(a,i,s,c){return a=Tn(7,a,c,i),a.lanes=s,a}function vc(a,i,s){return a=Tn(6,a,null,i),a.lanes=s,a}function Cc(a,i,s){return i=Tn(4,a.children!==null?a.children:[],a.key,i),i.lanes=s,i.stateNode={containerInfo:a.containerInfo,pendingChildren:null,implementation:a.implementation},i}var dr=[],fr=0,tl=null,nl=0,Ln=[],On=0,Ci=null,ba=1,Ta="";function Si(a,i){dr[fr++]=nl,dr[fr++]=tl,tl=a,nl=i}function Ih(a,i,s){Ln[On++]=ba,Ln[On++]=Ta,Ln[On++]=Ci,Ci=a;var c=ba;a=Ta;var h=32-Le(c)-1;c&=~(1<<h),s+=1;var T=32-Le(i)+h;if(30<T){var A=h-h%5;T=(c&(1<<A)-1).toString(32),c>>=A,h-=A,ba=1<<32-Le(i)+h|s<<h|c,Ta=T+a}else ba=1<<T|s<<h|c,Ta=a}function Sc(a){a.return!==null&&(Si(a,1),Ih(a,1,0))}function Ac(a){for(;a===tl;)tl=dr[--fr],dr[fr]=null,nl=dr[--fr],dr[fr]=null;for(;a===Ci;)Ci=Ln[--On],Ln[On]=null,Ta=Ln[--On],Ln[On]=null,ba=Ln[--On],Ln[On]=null}var an=null,St=null,lt=!1,Ai=null,ea=!1,_c=Error(r(519));function _i(a){var i=Error(r(418,""));throw bo(kn(i,a)),_c}function Nh(a){var i=a.stateNode,s=a.type,c=a.memoizedProps;switch(i[it]=a,i[Qe]=c,s){case"dialog":Ze("cancel",i),Ze("close",i);break;case"iframe":case"object":case"embed":Ze("load",i);break;case"video":case"audio":for(s=0;s<zo.length;s++)Ze(zo[s],i);break;case"source":Ze("error",i);break;case"img":case"image":case"link":Ze("error",i),Ze("load",i);break;case"details":Ze("toggle",i);break;case"input":Ze("invalid",i),jm(i,c.value,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name,!0),zs(i);break;case"select":Ze("invalid",i);break;case"textarea":Ze("invalid",i),qm(i,c.value,c.defaultValue,c.children),zs(i)}s=c.children,typeof s!="string"&&typeof s!="number"&&typeof s!="bigint"||i.textContent===""+s||c.suppressHydrationWarning===!0||qp(i.textContent,s)?(c.popover!=null&&(Ze("beforetoggle",i),Ze("toggle",i)),c.onScroll!=null&&Ze("scroll",i),c.onScrollEnd!=null&&Ze("scrollend",i),c.onClick!=null&&(i.onclick=Pl),i=!0):i=!1,i||_i(a)}function Mh(a){for(an=a.return;an;)switch(an.tag){case 5:case 13:ea=!1;return;case 27:case 3:ea=!0;return;default:an=an.return}}function go(a){if(a!==an)return!1;if(!lt)return Mh(a),lt=!0,!1;var i=a.tag,s;if((s=i!==3&&i!==27)&&((s=i===5)&&(s=a.type,s=!(s!=="form"&&s!=="button")||zd(a.type,a.memoizedProps)),s=!s),s&&St&&_i(a),Mh(a),i===13){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(r(317));e:{for(a=a.nextSibling,i=0;a;){if(a.nodeType===8)if(s=a.data,s==="/$"){if(i===0){St=Kn(a.nextSibling);break e}i--}else s!=="$"&&s!=="$!"&&s!=="$?"||i++;a=a.nextSibling}St=null}}else i===27?(i=St,Xa(a.type)?(a=Yd,Yd=null,St=a):St=i):St=an?Kn(a.stateNode.nextSibling):null;return!0}function yo(){St=an=null,lt=!1}function Dh(){var a=Ai;return a!==null&&(fn===null?fn=a:fn.push.apply(fn,a),Ai=null),a}function bo(a){Ai===null?Ai=[a]:Ai.push(a)}var Ic=F(null),Ii=null,Ea=null;function Oa(a,i,s){I(Ic,i._currentValue),i._currentValue=s}function xa(a){a._currentValue=Ic.current,Q(Ic)}function Nc(a,i,s){for(;a!==null;){var c=a.alternate;if((a.childLanes&i)!==i?(a.childLanes|=i,c!==null&&(c.childLanes|=i)):c!==null&&(c.childLanes&i)!==i&&(c.childLanes|=i),a===s)break;a=a.return}}function Mc(a,i,s,c){var h=a.child;for(h!==null&&(h.return=a);h!==null;){var T=h.dependencies;if(T!==null){var A=h.child;T=T.firstContext;e:for(;T!==null;){var N=T;T=h;for(var P=0;P<i.length;P++)if(N.context===i[P]){T.lanes|=s,N=T.alternate,N!==null&&(N.lanes|=s),Nc(T.return,s,a),c||(A=null);break e}T=N.next}}else if(h.tag===18){if(A=h.return,A===null)throw Error(r(341));A.lanes|=s,T=A.alternate,T!==null&&(T.lanes|=s),Nc(A,s,a),A=null}else A=h.child;if(A!==null)A.return=h;else for(A=h;A!==null;){if(A===a){A=null;break}if(h=A.sibling,h!==null){h.return=A.return,A=h;break}A=A.return}h=A}}function To(a,i,s,c){a=null;for(var h=i,T=!1;h!==null;){if(!T){if((h.flags&524288)!==0)T=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var A=h.alternate;if(A===null)throw Error(r(387));if(A=A.memoizedProps,A!==null){var N=h.type;bn(h.pendingProps.value,A.value)||(a!==null?a.push(N):a=[N])}}else if(h===_e.current){if(A=h.alternate,A===null)throw Error(r(387));A.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(a!==null?a.push(Ko):a=[Ko])}h=h.return}a!==null&&Mc(i,a,s,c),i.flags|=262144}function al(a){for(a=a.firstContext;a!==null;){if(!bn(a.context._currentValue,a.memoizedValue))return!0;a=a.next}return!1}function Ni(a){Ii=a,Ea=null,a=a.dependencies,a!==null&&(a.firstContext=null)}function $t(a){return Rh(Ii,a)}function il(a,i){return Ii===null&&Ni(a),Rh(a,i)}function Rh(a,i){var s=i._currentValue;if(i={context:i,memoizedValue:s,next:null},Ea===null){if(a===null)throw Error(r(308));Ea=i,a.dependencies={lanes:0,firstContext:i},a.flags|=524288}else Ea=Ea.next=i;return s}var Nx=typeof AbortController<"u"?AbortController:function(){var a=[],i=this.signal={aborted:!1,addEventListener:function(s,c){a.push(c)}};this.abort=function(){i.aborted=!0,a.forEach(function(s){return s()})}},Mx=e.unstable_scheduleCallback,Dx=e.unstable_NormalPriority,Pt={$$typeof:G,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Dc(){return{controller:new Nx,data:new Map,refCount:0}}function Eo(a){a.refCount--,a.refCount===0&&Mx(Dx,function(){a.controller.abort()})}var xo=null,Rc=0,mr=0,hr=null;function Rx(a,i){if(xo===null){var s=xo=[];Rc=0,mr=wd(),hr={status:"pending",value:void 0,then:function(c){s.push(c)}}}return Rc++,i.then(kh,kh),i}function kh(){if(--Rc===0&&xo!==null){hr!==null&&(hr.status="fulfilled");var a=xo;xo=null,mr=0,hr=null;for(var i=0;i<a.length;i++)(0,a[i])()}}function kx(a,i){var s=[],c={status:"pending",value:null,reason:null,then:function(h){s.push(h)}};return a.then(function(){c.status="fulfilled",c.value=i;for(var h=0;h<s.length;h++)(0,s[h])(i)},function(h){for(c.status="rejected",c.reason=h,h=0;h<s.length;h++)(0,s[h])(void 0)}),c}var wh=W.S;W.S=function(a,i){typeof i=="object"&&i!==null&&typeof i.then=="function"&&Rx(a,i),wh!==null&&wh(a,i)};var Mi=F(null);function kc(){var a=Mi.current;return a!==null?a:yt.pooledCache}function rl(a,i){i===null?I(Mi,Mi.current):I(Mi,i.pool)}function Lh(){var a=kc();return a===null?null:{parent:Pt._currentValue,pool:a}}var vo=Error(r(460)),Oh=Error(r(474)),ol=Error(r(542)),wc={then:function(){}};function Ph(a){return a=a.status,a==="fulfilled"||a==="rejected"}function sl(){}function Bh(a,i,s){switch(s=a[s],s===void 0?a.push(i):s!==i&&(i.then(sl,sl),i=s),i.status){case"fulfilled":return i.value;case"rejected":throw a=i.reason,Hh(a),a;default:if(typeof i.status=="string")i.then(sl,sl);else{if(a=yt,a!==null&&100<a.shellSuspendCounter)throw Error(r(482));a=i,a.status="pending",a.then(function(c){if(i.status==="pending"){var h=i;h.status="fulfilled",h.value=c}},function(c){if(i.status==="pending"){var h=i;h.status="rejected",h.reason=c}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw a=i.reason,Hh(a),a}throw Co=i,vo}}var Co=null;function Fh(){if(Co===null)throw Error(r(459));var a=Co;return Co=null,a}function Hh(a){if(a===vo||a===ol)throw Error(r(483))}var Pa=!1;function Lc(a){a.updateQueue={baseState:a.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Oc(a,i){a=a.updateQueue,i.updateQueue===a&&(i.updateQueue={baseState:a.baseState,firstBaseUpdate:a.firstBaseUpdate,lastBaseUpdate:a.lastBaseUpdate,shared:a.shared,callbacks:null})}function Ba(a){return{lane:a,tag:0,payload:null,callback:null,next:null}}function Fa(a,i,s){var c=a.updateQueue;if(c===null)return null;if(c=c.shared,(ct&2)!==0){var h=c.pending;return h===null?i.next=i:(i.next=h.next,h.next=i),c.pending=i,i=Zs(a),Ah(a,null,s),i}return Js(a,c,i,s),Zs(a)}function So(a,i,s){if(i=i.updateQueue,i!==null&&(i=i.shared,(s&4194048)!==0)){var c=i.lanes;c&=a.pendingLanes,s|=c,i.lanes=s,no(a,s)}}function Pc(a,i){var s=a.updateQueue,c=a.alternate;if(c!==null&&(c=c.updateQueue,s===c)){var h=null,T=null;if(s=s.firstBaseUpdate,s!==null){do{var A={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};T===null?h=T=A:T=T.next=A,s=s.next}while(s!==null);T===null?h=T=i:T=T.next=i}else h=T=i;s={baseState:c.baseState,firstBaseUpdate:h,lastBaseUpdate:T,shared:c.shared,callbacks:c.callbacks},a.updateQueue=s;return}a=s.lastBaseUpdate,a===null?s.firstBaseUpdate=i:a.next=i,s.lastBaseUpdate=i}var Bc=!1;function Ao(){if(Bc){var a=hr;if(a!==null)throw a}}function _o(a,i,s,c){Bc=!1;var h=a.updateQueue;Pa=!1;var T=h.firstBaseUpdate,A=h.lastBaseUpdate,N=h.shared.pending;if(N!==null){h.shared.pending=null;var P=N,Z=P.next;P.next=null,A===null?T=Z:A.next=Z,A=P;var ue=a.alternate;ue!==null&&(ue=ue.updateQueue,N=ue.lastBaseUpdate,N!==A&&(N===null?ue.firstBaseUpdate=Z:N.next=Z,ue.lastBaseUpdate=P))}if(T!==null){var de=h.baseState;A=0,ue=Z=P=null,N=T;do{var ee=N.lane&-536870913,te=ee!==N.lane;if(te?(nt&ee)===ee:(c&ee)===ee){ee!==0&&ee===mr&&(Bc=!0),ue!==null&&(ue=ue.next={lane:0,tag:N.tag,payload:N.payload,callback:null,next:null});e:{var Fe=a,Pe=N;ee=i;var ht=s;switch(Pe.tag){case 1:if(Fe=Pe.payload,typeof Fe=="function"){de=Fe.call(ht,de,ee);break e}de=Fe;break e;case 3:Fe.flags=Fe.flags&-65537|128;case 0:if(Fe=Pe.payload,ee=typeof Fe=="function"?Fe.call(ht,de,ee):Fe,ee==null)break e;de=g({},de,ee);break e;case 2:Pa=!0}}ee=N.callback,ee!==null&&(a.flags|=64,te&&(a.flags|=8192),te=h.callbacks,te===null?h.callbacks=[ee]:te.push(ee))}else te={lane:ee,tag:N.tag,payload:N.payload,callback:N.callback,next:null},ue===null?(Z=ue=te,P=de):ue=ue.next=te,A|=ee;if(N=N.next,N===null){if(N=h.shared.pending,N===null)break;te=N,N=te.next,te.next=null,h.lastBaseUpdate=te,h.shared.pending=null}}while(!0);ue===null&&(P=de),h.baseState=P,h.firstBaseUpdate=Z,h.lastBaseUpdate=ue,T===null&&(h.shared.lanes=0),Ya|=A,a.lanes=A,a.memoizedState=de}}function Uh(a,i){if(typeof a!="function")throw Error(r(191,a));a.call(i)}function Vh(a,i){var s=a.callbacks;if(s!==null)for(a.callbacks=null,a=0;a<s.length;a++)Uh(s[a],i)}var pr=F(null),ll=F(0);function zh(a,i){a=Na,I(ll,a),I(pr,i),Na=a|i.baseLanes}function Fc(){I(ll,Na),I(pr,pr.current)}function Hc(){Na=ll.current,Q(pr),Q(ll)}var Ha=0,Ke=null,ft=null,kt=null,ul=!1,gr=!1,Di=!1,cl=0,Io=0,yr=null,wx=0;function It(){throw Error(r(321))}function Uc(a,i){if(i===null)return!1;for(var s=0;s<i.length&&s<a.length;s++)if(!bn(a[s],i[s]))return!1;return!0}function Vc(a,i,s,c,h,T){return Ha=T,Ke=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,W.H=a===null||a.memoizedState===null?A0:_0,Di=!1,T=s(c,h),Di=!1,gr&&(T=Gh(i,s,c,h)),jh(a),T}function jh(a){W.H=gl;var i=ft!==null&&ft.next!==null;if(Ha=0,kt=ft=Ke=null,ul=!1,Io=0,yr=null,i)throw Error(r(300));a===null||Ht||(a=a.dependencies,a!==null&&al(a)&&(Ht=!0))}function Gh(a,i,s,c){Ke=a;var h=0;do{if(gr&&(yr=null),Io=0,gr=!1,25<=h)throw Error(r(301));if(h+=1,kt=ft=null,a.updateQueue!=null){var T=a.updateQueue;T.lastEffect=null,T.events=null,T.stores=null,T.memoCache!=null&&(T.memoCache.index=0)}W.H=Ux,T=i(s,c)}while(gr);return T}function Lx(){var a=W.H,i=a.useState()[0];return i=typeof i.then=="function"?No(i):i,a=a.useState()[0],(ft!==null?ft.memoizedState:null)!==a&&(Ke.flags|=1024),i}function zc(){var a=cl!==0;return cl=0,a}function jc(a,i,s){i.updateQueue=a.updateQueue,i.flags&=-2053,a.lanes&=~s}function Gc(a){if(ul){for(a=a.memoizedState;a!==null;){var i=a.queue;i!==null&&(i.pending=null),a=a.next}ul=!1}Ha=0,kt=ft=Ke=null,gr=!1,Io=cl=0,yr=null}function cn(){var a={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return kt===null?Ke.memoizedState=kt=a:kt=kt.next=a,kt}function wt(){if(ft===null){var a=Ke.alternate;a=a!==null?a.memoizedState:null}else a=ft.next;var i=kt===null?Ke.memoizedState:kt.next;if(i!==null)kt=i,ft=a;else{if(a===null)throw Ke.alternate===null?Error(r(467)):Error(r(310));ft=a,a={memoizedState:ft.memoizedState,baseState:ft.baseState,baseQueue:ft.baseQueue,queue:ft.queue,next:null},kt===null?Ke.memoizedState=kt=a:kt=kt.next=a}return kt}function qc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function No(a){var i=Io;return Io+=1,yr===null&&(yr=[]),a=Bh(yr,a,i),i=Ke,(kt===null?i.memoizedState:kt.next)===null&&(i=i.alternate,W.H=i===null||i.memoizedState===null?A0:_0),a}function dl(a){if(a!==null&&typeof a=="object"){if(typeof a.then=="function")return No(a);if(a.$$typeof===G)return $t(a)}throw Error(r(438,String(a)))}function Yc(a){var i=null,s=Ke.updateQueue;if(s!==null&&(i=s.memoCache),i==null){var c=Ke.alternate;c!==null&&(c=c.updateQueue,c!==null&&(c=c.memoCache,c!=null&&(i={data:c.data.map(function(h){return h.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),s===null&&(s=qc(),Ke.updateQueue=s),s.memoCache=i,s=i.data[i.index],s===void 0)for(s=i.data[i.index]=Array(a),c=0;c<a;c++)s[c]=q;return i.index++,s}function va(a,i){return typeof i=="function"?i(a):i}function fl(a){var i=wt();return Qc(i,ft,a)}function Qc(a,i,s){var c=a.queue;if(c===null)throw Error(r(311));c.lastRenderedReducer=s;var h=a.baseQueue,T=c.pending;if(T!==null){if(h!==null){var A=h.next;h.next=T.next,T.next=A}i.baseQueue=h=T,c.pending=null}if(T=a.baseState,h===null)a.memoizedState=T;else{i=h.next;var N=A=null,P=null,Z=i,ue=!1;do{var de=Z.lane&-536870913;if(de!==Z.lane?(nt&de)===de:(Ha&de)===de){var ee=Z.revertLane;if(ee===0)P!==null&&(P=P.next={lane:0,revertLane:0,action:Z.action,hasEagerState:Z.hasEagerState,eagerState:Z.eagerState,next:null}),de===mr&&(ue=!0);else if((Ha&ee)===ee){Z=Z.next,ee===mr&&(ue=!0);continue}else de={lane:0,revertLane:Z.revertLane,action:Z.action,hasEagerState:Z.hasEagerState,eagerState:Z.eagerState,next:null},P===null?(N=P=de,A=T):P=P.next=de,Ke.lanes|=ee,Ya|=ee;de=Z.action,Di&&s(T,de),T=Z.hasEagerState?Z.eagerState:s(T,de)}else ee={lane:de,revertLane:Z.revertLane,action:Z.action,hasEagerState:Z.hasEagerState,eagerState:Z.eagerState,next:null},P===null?(N=P=ee,A=T):P=P.next=ee,Ke.lanes|=de,Ya|=de;Z=Z.next}while(Z!==null&&Z!==i);if(P===null?A=T:P.next=N,!bn(T,a.memoizedState)&&(Ht=!0,ue&&(s=hr,s!==null)))throw s;a.memoizedState=T,a.baseState=A,a.baseQueue=P,c.lastRenderedState=T}return h===null&&(c.lanes=0),[a.memoizedState,c.dispatch]}function Kc(a){var i=wt(),s=i.queue;if(s===null)throw Error(r(311));s.lastRenderedReducer=a;var c=s.dispatch,h=s.pending,T=i.memoizedState;if(h!==null){s.pending=null;var A=h=h.next;do T=a(T,A.action),A=A.next;while(A!==h);bn(T,i.memoizedState)||(Ht=!0),i.memoizedState=T,i.baseQueue===null&&(i.baseState=T),s.lastRenderedState=T}return[T,c]}function qh(a,i,s){var c=Ke,h=wt(),T=lt;if(T){if(s===void 0)throw Error(r(407));s=s()}else s=i();var A=!bn((ft||h).memoizedState,s);A&&(h.memoizedState=s,Ht=!0),h=h.queue;var N=Kh.bind(null,c,h,a);if(Mo(2048,8,N,[a]),h.getSnapshot!==i||A||kt!==null&&kt.memoizedState.tag&1){if(c.flags|=2048,br(9,ml(),Qh.bind(null,c,h,s,i),null),yt===null)throw Error(r(349));T||(Ha&124)!==0||Yh(c,i,s)}return s}function Yh(a,i,s){a.flags|=16384,a={getSnapshot:i,value:s},i=Ke.updateQueue,i===null?(i=qc(),Ke.updateQueue=i,i.stores=[a]):(s=i.stores,s===null?i.stores=[a]:s.push(a))}function Qh(a,i,s,c){i.value=s,i.getSnapshot=c,$h(i)&&Xh(a)}function Kh(a,i,s){return s(function(){$h(i)&&Xh(a)})}function $h(a){var i=a.getSnapshot;a=a.value;try{var s=i();return!bn(a,s)}catch{return!0}}function Xh(a){var i=ur(a,2);i!==null&&Sn(i,a,2)}function $c(a){var i=cn();if(typeof a=="function"){var s=a;if(a=s(),Di){ke(!0);try{s()}finally{ke(!1)}}}return i.memoizedState=i.baseState=a,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:va,lastRenderedState:a},i}function Wh(a,i,s,c){return a.baseState=s,Qc(a,ft,typeof c=="function"?c:va)}function Ox(a,i,s,c,h){if(pl(a))throw Error(r(485));if(a=i.action,a!==null){var T={payload:h,action:a,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(A){T.listeners.push(A)}};W.T!==null?s(!0):T.isTransition=!1,c(T),s=i.pending,s===null?(T.next=i.pending=T,Jh(i,T)):(T.next=s.next,i.pending=s.next=T)}}function Jh(a,i){var s=i.action,c=i.payload,h=a.state;if(i.isTransition){var T=W.T,A={};W.T=A;try{var N=s(h,c),P=W.S;P!==null&&P(A,N),Zh(a,i,N)}catch(Z){Xc(a,i,Z)}finally{W.T=T}}else try{T=s(h,c),Zh(a,i,T)}catch(Z){Xc(a,i,Z)}}function Zh(a,i,s){s!==null&&typeof s=="object"&&typeof s.then=="function"?s.then(function(c){e0(a,i,c)},function(c){return Xc(a,i,c)}):e0(a,i,s)}function e0(a,i,s){i.status="fulfilled",i.value=s,t0(i),a.state=s,i=a.pending,i!==null&&(s=i.next,s===i?a.pending=null:(s=s.next,i.next=s,Jh(a,s)))}function Xc(a,i,s){var c=a.pending;if(a.pending=null,c!==null){c=c.next;do i.status="rejected",i.reason=s,t0(i),i=i.next;while(i!==c)}a.action=null}function t0(a){a=a.listeners;for(var i=0;i<a.length;i++)(0,a[i])()}function n0(a,i){return i}function a0(a,i){if(lt){var s=yt.formState;if(s!==null){e:{var c=Ke;if(lt){if(St){t:{for(var h=St,T=ea;h.nodeType!==8;){if(!T){h=null;break t}if(h=Kn(h.nextSibling),h===null){h=null;break t}}T=h.data,h=T==="F!"||T==="F"?h:null}if(h){St=Kn(h.nextSibling),c=h.data==="F!";break e}}_i(c)}c=!1}c&&(i=s[0])}}return s=cn(),s.memoizedState=s.baseState=i,c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:n0,lastRenderedState:i},s.queue=c,s=v0.bind(null,Ke,c),c.dispatch=s,c=$c(!1),T=td.bind(null,Ke,!1,c.queue),c=cn(),h={state:i,dispatch:null,action:a,pending:null},c.queue=h,s=Ox.bind(null,Ke,h,T,s),h.dispatch=s,c.memoizedState=a,[i,s,!1]}function i0(a){var i=wt();return r0(i,ft,a)}function r0(a,i,s){if(i=Qc(a,i,n0)[0],a=fl(va)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var c=No(i)}catch(A){throw A===vo?ol:A}else c=i;i=wt();var h=i.queue,T=h.dispatch;return s!==i.memoizedState&&(Ke.flags|=2048,br(9,ml(),Px.bind(null,h,s),null)),[c,T,a]}function Px(a,i){a.action=i}function o0(a){var i=wt(),s=ft;if(s!==null)return r0(i,s,a);wt(),i=i.memoizedState,s=wt();var c=s.queue.dispatch;return s.memoizedState=a,[i,c,!1]}function br(a,i,s,c){return a={tag:a,create:s,deps:c,inst:i,next:null},i=Ke.updateQueue,i===null&&(i=qc(),Ke.updateQueue=i),s=i.lastEffect,s===null?i.lastEffect=a.next=a:(c=s.next,s.next=a,a.next=c,i.lastEffect=a),a}function ml(){return{destroy:void 0,resource:void 0}}function s0(){return wt().memoizedState}function hl(a,i,s,c){var h=cn();c=c===void 0?null:c,Ke.flags|=a,h.memoizedState=br(1|i,ml(),s,c)}function Mo(a,i,s,c){var h=wt();c=c===void 0?null:c;var T=h.memoizedState.inst;ft!==null&&c!==null&&Uc(c,ft.memoizedState.deps)?h.memoizedState=br(i,T,s,c):(Ke.flags|=a,h.memoizedState=br(1|i,T,s,c))}function l0(a,i){hl(8390656,8,a,i)}function u0(a,i){Mo(2048,8,a,i)}function c0(a,i){return Mo(4,2,a,i)}function d0(a,i){return Mo(4,4,a,i)}function f0(a,i){if(typeof i=="function"){a=a();var s=i(a);return function(){typeof s=="function"?s():i(null)}}if(i!=null)return a=a(),i.current=a,function(){i.current=null}}function m0(a,i,s){s=s!=null?s.concat([a]):null,Mo(4,4,f0.bind(null,i,a),s)}function Wc(){}function h0(a,i){var s=wt();i=i===void 0?null:i;var c=s.memoizedState;return i!==null&&Uc(i,c[1])?c[0]:(s.memoizedState=[a,i],a)}function p0(a,i){var s=wt();i=i===void 0?null:i;var c=s.memoizedState;if(i!==null&&Uc(i,c[1]))return c[0];if(c=a(),Di){ke(!0);try{a()}finally{ke(!1)}}return s.memoizedState=[c,i],c}function Jc(a,i,s){return s===void 0||(Ha&1073741824)!==0?a.memoizedState=i:(a.memoizedState=s,a=bp(),Ke.lanes|=a,Ya|=a,s)}function g0(a,i,s,c){return bn(s,i)?s:pr.current!==null?(a=Jc(a,s,c),bn(a,i)||(Ht=!0),a):(Ha&42)===0?(Ht=!0,a.memoizedState=s):(a=bp(),Ke.lanes|=a,Ya|=a,i)}function y0(a,i,s,c,h){var T=j.p;j.p=T!==0&&8>T?T:8;var A=W.T,N={};W.T=N,td(a,!1,i,s);try{var P=h(),Z=W.S;if(Z!==null&&Z(N,P),P!==null&&typeof P=="object"&&typeof P.then=="function"){var ue=kx(P,c);Do(a,i,ue,Cn(a))}else Do(a,i,c,Cn(a))}catch(de){Do(a,i,{then:function(){},status:"rejected",reason:de},Cn())}finally{j.p=T,W.T=A}}function Bx(){}function Zc(a,i,s,c){if(a.tag!==5)throw Error(r(476));var h=b0(a).queue;y0(a,h,i,R,s===null?Bx:function(){return T0(a),s(c)})}function b0(a){var i=a.memoizedState;if(i!==null)return i;i={memoizedState:R,baseState:R,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:va,lastRenderedState:R},next:null};var s={};return i.next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:va,lastRenderedState:s},next:null},a.memoizedState=i,a=a.alternate,a!==null&&(a.memoizedState=i),i}function T0(a){var i=b0(a).next.queue;Do(a,i,{},Cn())}function ed(){return $t(Ko)}function E0(){return wt().memoizedState}function x0(){return wt().memoizedState}function Fx(a){for(var i=a.return;i!==null;){switch(i.tag){case 24:case 3:var s=Cn();a=Ba(s);var c=Fa(i,a,s);c!==null&&(Sn(c,i,s),So(c,i,s)),i={cache:Dc()},a.payload=i;return}i=i.return}}function Hx(a,i,s){var c=Cn();s={lane:c,revertLane:0,action:s,hasEagerState:!1,eagerState:null,next:null},pl(a)?C0(i,s):(s=Ec(a,i,s,c),s!==null&&(Sn(s,a,c),S0(s,i,c)))}function v0(a,i,s){var c=Cn();Do(a,i,s,c)}function Do(a,i,s,c){var h={lane:c,revertLane:0,action:s,hasEagerState:!1,eagerState:null,next:null};if(pl(a))C0(i,h);else{var T=a.alternate;if(a.lanes===0&&(T===null||T.lanes===0)&&(T=i.lastRenderedReducer,T!==null))try{var A=i.lastRenderedState,N=T(A,s);if(h.hasEagerState=!0,h.eagerState=N,bn(N,A))return Js(a,i,h,0),yt===null&&Ws(),!1}catch{}finally{}if(s=Ec(a,i,h,c),s!==null)return Sn(s,a,c),S0(s,i,c),!0}return!1}function td(a,i,s,c){if(c={lane:2,revertLane:wd(),action:c,hasEagerState:!1,eagerState:null,next:null},pl(a)){if(i)throw Error(r(479))}else i=Ec(a,s,c,2),i!==null&&Sn(i,a,2)}function pl(a){var i=a.alternate;return a===Ke||i!==null&&i===Ke}function C0(a,i){gr=ul=!0;var s=a.pending;s===null?i.next=i:(i.next=s.next,s.next=i),a.pending=i}function S0(a,i,s){if((s&4194048)!==0){var c=i.lanes;c&=a.pendingLanes,s|=c,i.lanes=s,no(a,s)}}var gl={readContext:$t,use:dl,useCallback:It,useContext:It,useEffect:It,useImperativeHandle:It,useLayoutEffect:It,useInsertionEffect:It,useMemo:It,useReducer:It,useRef:It,useState:It,useDebugValue:It,useDeferredValue:It,useTransition:It,useSyncExternalStore:It,useId:It,useHostTransitionStatus:It,useFormState:It,useActionState:It,useOptimistic:It,useMemoCache:It,useCacheRefresh:It},A0={readContext:$t,use:dl,useCallback:function(a,i){return cn().memoizedState=[a,i===void 0?null:i],a},useContext:$t,useEffect:l0,useImperativeHandle:function(a,i,s){s=s!=null?s.concat([a]):null,hl(4194308,4,f0.bind(null,i,a),s)},useLayoutEffect:function(a,i){return hl(4194308,4,a,i)},useInsertionEffect:function(a,i){hl(4,2,a,i)},useMemo:function(a,i){var s=cn();i=i===void 0?null:i;var c=a();if(Di){ke(!0);try{a()}finally{ke(!1)}}return s.memoizedState=[c,i],c},useReducer:function(a,i,s){var c=cn();if(s!==void 0){var h=s(i);if(Di){ke(!0);try{s(i)}finally{ke(!1)}}}else h=i;return c.memoizedState=c.baseState=h,a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:a,lastRenderedState:h},c.queue=a,a=a.dispatch=Hx.bind(null,Ke,a),[c.memoizedState,a]},useRef:function(a){var i=cn();return a={current:a},i.memoizedState=a},useState:function(a){a=$c(a);var i=a.queue,s=v0.bind(null,Ke,i);return i.dispatch=s,[a.memoizedState,s]},useDebugValue:Wc,useDeferredValue:function(a,i){var s=cn();return Jc(s,a,i)},useTransition:function(){var a=$c(!1);return a=y0.bind(null,Ke,a.queue,!0,!1),cn().memoizedState=a,[!1,a]},useSyncExternalStore:function(a,i,s){var c=Ke,h=cn();if(lt){if(s===void 0)throw Error(r(407));s=s()}else{if(s=i(),yt===null)throw Error(r(349));(nt&124)!==0||Yh(c,i,s)}h.memoizedState=s;var T={value:s,getSnapshot:i};return h.queue=T,l0(Kh.bind(null,c,T,a),[a]),c.flags|=2048,br(9,ml(),Qh.bind(null,c,T,s,i),null),s},useId:function(){var a=cn(),i=yt.identifierPrefix;if(lt){var s=Ta,c=ba;s=(c&~(1<<32-Le(c)-1)).toString(32)+s,i="«"+i+"R"+s,s=cl++,0<s&&(i+="H"+s.toString(32)),i+="»"}else s=wx++,i="«"+i+"r"+s.toString(32)+"»";return a.memoizedState=i},useHostTransitionStatus:ed,useFormState:a0,useActionState:a0,useOptimistic:function(a){var i=cn();i.memoizedState=i.baseState=a;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=s,i=td.bind(null,Ke,!0,s),s.dispatch=i,[a,i]},useMemoCache:Yc,useCacheRefresh:function(){return cn().memoizedState=Fx.bind(null,Ke)}},_0={readContext:$t,use:dl,useCallback:h0,useContext:$t,useEffect:u0,useImperativeHandle:m0,useInsertionEffect:c0,useLayoutEffect:d0,useMemo:p0,useReducer:fl,useRef:s0,useState:function(){return fl(va)},useDebugValue:Wc,useDeferredValue:function(a,i){var s=wt();return g0(s,ft.memoizedState,a,i)},useTransition:function(){var a=fl(va)[0],i=wt().memoizedState;return[typeof a=="boolean"?a:No(a),i]},useSyncExternalStore:qh,useId:E0,useHostTransitionStatus:ed,useFormState:i0,useActionState:i0,useOptimistic:function(a,i){var s=wt();return Wh(s,ft,a,i)},useMemoCache:Yc,useCacheRefresh:x0},Ux={readContext:$t,use:dl,useCallback:h0,useContext:$t,useEffect:u0,useImperativeHandle:m0,useInsertionEffect:c0,useLayoutEffect:d0,useMemo:p0,useReducer:Kc,useRef:s0,useState:function(){return Kc(va)},useDebugValue:Wc,useDeferredValue:function(a,i){var s=wt();return ft===null?Jc(s,a,i):g0(s,ft.memoizedState,a,i)},useTransition:function(){var a=Kc(va)[0],i=wt().memoizedState;return[typeof a=="boolean"?a:No(a),i]},useSyncExternalStore:qh,useId:E0,useHostTransitionStatus:ed,useFormState:o0,useActionState:o0,useOptimistic:function(a,i){var s=wt();return ft!==null?Wh(s,ft,a,i):(s.baseState=a,[a,s.queue.dispatch])},useMemoCache:Yc,useCacheRefresh:x0},Tr=null,Ro=0;function yl(a){var i=Ro;return Ro+=1,Tr===null&&(Tr=[]),Bh(Tr,a,i)}function ko(a,i){i=i.props.ref,a.ref=i!==void 0?i:null}function bl(a,i){throw i.$$typeof===x?Error(r(525)):(a=Object.prototype.toString.call(i),Error(r(31,a==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":a)))}function I0(a){var i=a._init;return i(a._payload)}function N0(a){function i(Y,V){if(a){var X=Y.deletions;X===null?(Y.deletions=[V],Y.flags|=16):X.push(V)}}function s(Y,V){if(!a)return null;for(;V!==null;)i(Y,V),V=V.sibling;return null}function c(Y){for(var V=new Map;Y!==null;)Y.key!==null?V.set(Y.key,Y):V.set(Y.index,Y),Y=Y.sibling;return V}function h(Y,V){return Y=ya(Y,V),Y.index=0,Y.sibling=null,Y}function T(Y,V,X){return Y.index=X,a?(X=Y.alternate,X!==null?(X=X.index,X<V?(Y.flags|=67108866,V):X):(Y.flags|=67108866,V)):(Y.flags|=1048576,V)}function A(Y){return a&&Y.alternate===null&&(Y.flags|=67108866),Y}function N(Y,V,X,ce){return V===null||V.tag!==6?(V=vc(X,Y.mode,ce),V.return=Y,V):(V=h(V,X),V.return=Y,V)}function P(Y,V,X,ce){var Me=X.type;return Me===_?ue(Y,V,X.props.children,ce,X.key):V!==null&&(V.elementType===Me||typeof Me=="object"&&Me!==null&&Me.$$typeof===ye&&I0(Me)===V.type)?(V=h(V,X.props),ko(V,X),V.return=Y,V):(V=el(X.type,X.key,X.props,null,Y.mode,ce),ko(V,X),V.return=Y,V)}function Z(Y,V,X,ce){return V===null||V.tag!==4||V.stateNode.containerInfo!==X.containerInfo||V.stateNode.implementation!==X.implementation?(V=Cc(X,Y.mode,ce),V.return=Y,V):(V=h(V,X.children||[]),V.return=Y,V)}function ue(Y,V,X,ce,Me){return V===null||V.tag!==7?(V=vi(X,Y.mode,ce,Me),V.return=Y,V):(V=h(V,X),V.return=Y,V)}function de(Y,V,X){if(typeof V=="string"&&V!==""||typeof V=="number"||typeof V=="bigint")return V=vc(""+V,Y.mode,X),V.return=Y,V;if(typeof V=="object"&&V!==null){switch(V.$$typeof){case v:return X=el(V.type,V.key,V.props,null,Y.mode,X),ko(X,V),X.return=Y,X;case S:return V=Cc(V,Y.mode,X),V.return=Y,V;case ye:var ce=V._init;return V=ce(V._payload),de(Y,V,X)}if(ie(V)||Ee(V))return V=vi(V,Y.mode,X,null),V.return=Y,V;if(typeof V.then=="function")return de(Y,yl(V),X);if(V.$$typeof===G)return de(Y,il(Y,V),X);bl(Y,V)}return null}function ee(Y,V,X,ce){var Me=V!==null?V.key:null;if(typeof X=="string"&&X!==""||typeof X=="number"||typeof X=="bigint")return Me!==null?null:N(Y,V,""+X,ce);if(typeof X=="object"&&X!==null){switch(X.$$typeof){case v:return X.key===Me?P(Y,V,X,ce):null;case S:return X.key===Me?Z(Y,V,X,ce):null;case ye:return Me=X._init,X=Me(X._payload),ee(Y,V,X,ce)}if(ie(X)||Ee(X))return Me!==null?null:ue(Y,V,X,ce,null);if(typeof X.then=="function")return ee(Y,V,yl(X),ce);if(X.$$typeof===G)return ee(Y,V,il(Y,X),ce);bl(Y,X)}return null}function te(Y,V,X,ce,Me){if(typeof ce=="string"&&ce!==""||typeof ce=="number"||typeof ce=="bigint")return Y=Y.get(X)||null,N(V,Y,""+ce,Me);if(typeof ce=="object"&&ce!==null){switch(ce.$$typeof){case v:return Y=Y.get(ce.key===null?X:ce.key)||null,P(V,Y,ce,Me);case S:return Y=Y.get(ce.key===null?X:ce.key)||null,Z(V,Y,ce,Me);case ye:var $e=ce._init;return ce=$e(ce._payload),te(Y,V,X,ce,Me)}if(ie(ce)||Ee(ce))return Y=Y.get(X)||null,ue(V,Y,ce,Me,null);if(typeof ce.then=="function")return te(Y,V,X,yl(ce),Me);if(ce.$$typeof===G)return te(Y,V,X,il(V,ce),Me);bl(V,ce)}return null}function Fe(Y,V,X,ce){for(var Me=null,$e=null,Re=V,Be=V=0,Vt=null;Re!==null&&Be<X.length;Be++){Re.index>Be?(Vt=Re,Re=null):Vt=Re.sibling;var ot=ee(Y,Re,X[Be],ce);if(ot===null){Re===null&&(Re=Vt);break}a&&Re&&ot.alternate===null&&i(Y,Re),V=T(ot,V,Be),$e===null?Me=ot:$e.sibling=ot,$e=ot,Re=Vt}if(Be===X.length)return s(Y,Re),lt&&Si(Y,Be),Me;if(Re===null){for(;Be<X.length;Be++)Re=de(Y,X[Be],ce),Re!==null&&(V=T(Re,V,Be),$e===null?Me=Re:$e.sibling=Re,$e=Re);return lt&&Si(Y,Be),Me}for(Re=c(Re);Be<X.length;Be++)Vt=te(Re,Y,Be,X[Be],ce),Vt!==null&&(a&&Vt.alternate!==null&&Re.delete(Vt.key===null?Be:Vt.key),V=T(Vt,V,Be),$e===null?Me=Vt:$e.sibling=Vt,$e=Vt);return a&&Re.forEach(function(ti){return i(Y,ti)}),lt&&Si(Y,Be),Me}function Pe(Y,V,X,ce){if(X==null)throw Error(r(151));for(var Me=null,$e=null,Re=V,Be=V=0,Vt=null,ot=X.next();Re!==null&&!ot.done;Be++,ot=X.next()){Re.index>Be?(Vt=Re,Re=null):Vt=Re.sibling;var ti=ee(Y,Re,ot.value,ce);if(ti===null){Re===null&&(Re=Vt);break}a&&Re&&ti.alternate===null&&i(Y,Re),V=T(ti,V,Be),$e===null?Me=ti:$e.sibling=ti,$e=ti,Re=Vt}if(ot.done)return s(Y,Re),lt&&Si(Y,Be),Me;if(Re===null){for(;!ot.done;Be++,ot=X.next())ot=de(Y,ot.value,ce),ot!==null&&(V=T(ot,V,Be),$e===null?Me=ot:$e.sibling=ot,$e=ot);return lt&&Si(Y,Be),Me}for(Re=c(Re);!ot.done;Be++,ot=X.next())ot=te(Re,Y,Be,ot.value,ce),ot!==null&&(a&&ot.alternate!==null&&Re.delete(ot.key===null?Be:ot.key),V=T(ot,V,Be),$e===null?Me=ot:$e.sibling=ot,$e=ot);return a&&Re.forEach(function(Vv){return i(Y,Vv)}),lt&&Si(Y,Be),Me}function ht(Y,V,X,ce){if(typeof X=="object"&&X!==null&&X.type===_&&X.key===null&&(X=X.props.children),typeof X=="object"&&X!==null){switch(X.$$typeof){case v:e:{for(var Me=X.key;V!==null;){if(V.key===Me){if(Me=X.type,Me===_){if(V.tag===7){s(Y,V.sibling),ce=h(V,X.props.children),ce.return=Y,Y=ce;break e}}else if(V.elementType===Me||typeof Me=="object"&&Me!==null&&Me.$$typeof===ye&&I0(Me)===V.type){s(Y,V.sibling),ce=h(V,X.props),ko(ce,X),ce.return=Y,Y=ce;break e}s(Y,V);break}else i(Y,V);V=V.sibling}X.type===_?(ce=vi(X.props.children,Y.mode,ce,X.key),ce.return=Y,Y=ce):(ce=el(X.type,X.key,X.props,null,Y.mode,ce),ko(ce,X),ce.return=Y,Y=ce)}return A(Y);case S:e:{for(Me=X.key;V!==null;){if(V.key===Me)if(V.tag===4&&V.stateNode.containerInfo===X.containerInfo&&V.stateNode.implementation===X.implementation){s(Y,V.sibling),ce=h(V,X.children||[]),ce.return=Y,Y=ce;break e}else{s(Y,V);break}else i(Y,V);V=V.sibling}ce=Cc(X,Y.mode,ce),ce.return=Y,Y=ce}return A(Y);case ye:return Me=X._init,X=Me(X._payload),ht(Y,V,X,ce)}if(ie(X))return Fe(Y,V,X,ce);if(Ee(X)){if(Me=Ee(X),typeof Me!="function")throw Error(r(150));return X=Me.call(X),Pe(Y,V,X,ce)}if(typeof X.then=="function")return ht(Y,V,yl(X),ce);if(X.$$typeof===G)return ht(Y,V,il(Y,X),ce);bl(Y,X)}return typeof X=="string"&&X!==""||typeof X=="number"||typeof X=="bigint"?(X=""+X,V!==null&&V.tag===6?(s(Y,V.sibling),ce=h(V,X),ce.return=Y,Y=ce):(s(Y,V),ce=vc(X,Y.mode,ce),ce.return=Y,Y=ce),A(Y)):s(Y,V)}return function(Y,V,X,ce){try{Ro=0;var Me=ht(Y,V,X,ce);return Tr=null,Me}catch(Re){if(Re===vo||Re===ol)throw Re;var $e=Tn(29,Re,null,Y.mode);return $e.lanes=ce,$e.return=Y,$e}finally{}}}var Er=N0(!0),M0=N0(!1),Pn=F(null),ta=null;function Ua(a){var i=a.alternate;I(Bt,Bt.current&1),I(Pn,a),ta===null&&(i===null||pr.current!==null||i.memoizedState!==null)&&(ta=a)}function D0(a){if(a.tag===22){if(I(Bt,Bt.current),I(Pn,a),ta===null){var i=a.alternate;i!==null&&i.memoizedState!==null&&(ta=a)}}else Va()}function Va(){I(Bt,Bt.current),I(Pn,Pn.current)}function Ca(a){Q(Pn),ta===a&&(ta=null),Q(Bt)}var Bt=F(0);function Tl(a){for(var i=a;i!==null;){if(i.tag===13){var s=i.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||s.data==="$?"||qd(s)))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===a)break;for(;i.sibling===null;){if(i.return===null||i.return===a)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}function nd(a,i,s,c){i=a.memoizedState,s=s(c,i),s=s==null?i:g({},i,s),a.memoizedState=s,a.lanes===0&&(a.updateQueue.baseState=s)}var ad={enqueueSetState:function(a,i,s){a=a._reactInternals;var c=Cn(),h=Ba(c);h.payload=i,s!=null&&(h.callback=s),i=Fa(a,h,c),i!==null&&(Sn(i,a,c),So(i,a,c))},enqueueReplaceState:function(a,i,s){a=a._reactInternals;var c=Cn(),h=Ba(c);h.tag=1,h.payload=i,s!=null&&(h.callback=s),i=Fa(a,h,c),i!==null&&(Sn(i,a,c),So(i,a,c))},enqueueForceUpdate:function(a,i){a=a._reactInternals;var s=Cn(),c=Ba(s);c.tag=2,i!=null&&(c.callback=i),i=Fa(a,c,s),i!==null&&(Sn(i,a,s),So(i,a,s))}};function R0(a,i,s,c,h,T,A){return a=a.stateNode,typeof a.shouldComponentUpdate=="function"?a.shouldComponentUpdate(c,T,A):i.prototype&&i.prototype.isPureReactComponent?!ho(s,c)||!ho(h,T):!0}function k0(a,i,s,c){a=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(s,c),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(s,c),i.state!==a&&ad.enqueueReplaceState(i,i.state,null)}function Ri(a,i){var s=i;if("ref"in i){s={};for(var c in i)c!=="ref"&&(s[c]=i[c])}if(a=a.defaultProps){s===i&&(s=g({},s));for(var h in a)s[h]===void 0&&(s[h]=a[h])}return s}var El=typeof reportError=="function"?reportError:function(a){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof a=="object"&&a!==null&&typeof a.message=="string"?String(a.message):String(a),error:a});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",a);return}console.error(a)};function w0(a){El(a)}function L0(a){console.error(a)}function O0(a){El(a)}function xl(a,i){try{var s=a.onUncaughtError;s(i.value,{componentStack:i.stack})}catch(c){setTimeout(function(){throw c})}}function P0(a,i,s){try{var c=a.onCaughtError;c(s.value,{componentStack:s.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function id(a,i,s){return s=Ba(s),s.tag=3,s.payload={element:null},s.callback=function(){xl(a,i)},s}function B0(a){return a=Ba(a),a.tag=3,a}function F0(a,i,s,c){var h=s.type.getDerivedStateFromError;if(typeof h=="function"){var T=c.value;a.payload=function(){return h(T)},a.callback=function(){P0(i,s,c)}}var A=s.stateNode;A!==null&&typeof A.componentDidCatch=="function"&&(a.callback=function(){P0(i,s,c),typeof h!="function"&&(Qa===null?Qa=new Set([this]):Qa.add(this));var N=c.stack;this.componentDidCatch(c.value,{componentStack:N!==null?N:""})})}function Vx(a,i,s,c,h){if(s.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){if(i=s.alternate,i!==null&&To(i,s,h,!0),s=Pn.current,s!==null){switch(s.tag){case 13:return ta===null?Nd():s.alternate===null&&At===0&&(At=3),s.flags&=-257,s.flags|=65536,s.lanes=h,c===wc?s.flags|=16384:(i=s.updateQueue,i===null?s.updateQueue=new Set([c]):i.add(c),Dd(a,c,h)),!1;case 22:return s.flags|=65536,c===wc?s.flags|=16384:(i=s.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([c])},s.updateQueue=i):(s=i.retryQueue,s===null?i.retryQueue=new Set([c]):s.add(c)),Dd(a,c,h)),!1}throw Error(r(435,s.tag))}return Dd(a,c,h),Nd(),!1}if(lt)return i=Pn.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=h,c!==_c&&(a=Error(r(422),{cause:c}),bo(kn(a,s)))):(c!==_c&&(i=Error(r(423),{cause:c}),bo(kn(i,s))),a=a.current.alternate,a.flags|=65536,h&=-h,a.lanes|=h,c=kn(c,s),h=id(a.stateNode,c,h),Pc(a,h),At!==4&&(At=2)),!1;var T=Error(r(520),{cause:c});if(T=kn(T,s),Ho===null?Ho=[T]:Ho.push(T),At!==4&&(At=2),i===null)return!0;c=kn(c,s),s=i;do{switch(s.tag){case 3:return s.flags|=65536,a=h&-h,s.lanes|=a,a=id(s.stateNode,c,a),Pc(s,a),!1;case 1:if(i=s.type,T=s.stateNode,(s.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||T!==null&&typeof T.componentDidCatch=="function"&&(Qa===null||!Qa.has(T))))return s.flags|=65536,h&=-h,s.lanes|=h,h=B0(h),F0(h,a,s,c),Pc(s,h),!1}s=s.return}while(s!==null);return!1}var H0=Error(r(461)),Ht=!1;function Gt(a,i,s,c){i.child=a===null?M0(i,null,s,c):Er(i,a.child,s,c)}function U0(a,i,s,c,h){s=s.render;var T=i.ref;if("ref"in c){var A={};for(var N in c)N!=="ref"&&(A[N]=c[N])}else A=c;return Ni(i),c=Vc(a,i,s,A,T,h),N=zc(),a!==null&&!Ht?(jc(a,i,h),Sa(a,i,h)):(lt&&N&&Sc(i),i.flags|=1,Gt(a,i,c,h),i.child)}function V0(a,i,s,c,h){if(a===null){var T=s.type;return typeof T=="function"&&!xc(T)&&T.defaultProps===void 0&&s.compare===null?(i.tag=15,i.type=T,z0(a,i,T,c,h)):(a=el(s.type,null,c,i,i.mode,h),a.ref=i.ref,a.return=i,i.child=a)}if(T=a.child,!fd(a,h)){var A=T.memoizedProps;if(s=s.compare,s=s!==null?s:ho,s(A,c)&&a.ref===i.ref)return Sa(a,i,h)}return i.flags|=1,a=ya(T,c),a.ref=i.ref,a.return=i,i.child=a}function z0(a,i,s,c,h){if(a!==null){var T=a.memoizedProps;if(ho(T,c)&&a.ref===i.ref)if(Ht=!1,i.pendingProps=c=T,fd(a,h))(a.flags&131072)!==0&&(Ht=!0);else return i.lanes=a.lanes,Sa(a,i,h)}return rd(a,i,s,c,h)}function j0(a,i,s){var c=i.pendingProps,h=c.children,T=a!==null?a.memoizedState:null;if(c.mode==="hidden"){if((i.flags&128)!==0){if(c=T!==null?T.baseLanes|s:s,a!==null){for(h=i.child=a.child,T=0;h!==null;)T=T|h.lanes|h.childLanes,h=h.sibling;i.childLanes=T&~c}else i.childLanes=0,i.child=null;return G0(a,i,c,s)}if((s&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},a!==null&&rl(i,T!==null?T.cachePool:null),T!==null?zh(i,T):Fc(),D0(i);else return i.lanes=i.childLanes=536870912,G0(a,i,T!==null?T.baseLanes|s:s,s)}else T!==null?(rl(i,T.cachePool),zh(i,T),Va(),i.memoizedState=null):(a!==null&&rl(i,null),Fc(),Va());return Gt(a,i,h,s),i.child}function G0(a,i,s,c){var h=kc();return h=h===null?null:{parent:Pt._currentValue,pool:h},i.memoizedState={baseLanes:s,cachePool:h},a!==null&&rl(i,null),Fc(),D0(i),a!==null&&To(a,i,c,!0),null}function vl(a,i){var s=i.ref;if(s===null)a!==null&&a.ref!==null&&(i.flags|=4194816);else{if(typeof s!="function"&&typeof s!="object")throw Error(r(284));(a===null||a.ref!==s)&&(i.flags|=4194816)}}function rd(a,i,s,c,h){return Ni(i),s=Vc(a,i,s,c,void 0,h),c=zc(),a!==null&&!Ht?(jc(a,i,h),Sa(a,i,h)):(lt&&c&&Sc(i),i.flags|=1,Gt(a,i,s,h),i.child)}function q0(a,i,s,c,h,T){return Ni(i),i.updateQueue=null,s=Gh(i,c,s,h),jh(a),c=zc(),a!==null&&!Ht?(jc(a,i,T),Sa(a,i,T)):(lt&&c&&Sc(i),i.flags|=1,Gt(a,i,s,T),i.child)}function Y0(a,i,s,c,h){if(Ni(i),i.stateNode===null){var T=cr,A=s.contextType;typeof A=="object"&&A!==null&&(T=$t(A)),T=new s(c,T),i.memoizedState=T.state!==null&&T.state!==void 0?T.state:null,T.updater=ad,i.stateNode=T,T._reactInternals=i,T=i.stateNode,T.props=c,T.state=i.memoizedState,T.refs={},Lc(i),A=s.contextType,T.context=typeof A=="object"&&A!==null?$t(A):cr,T.state=i.memoizedState,A=s.getDerivedStateFromProps,typeof A=="function"&&(nd(i,s,A,c),T.state=i.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof T.getSnapshotBeforeUpdate=="function"||typeof T.UNSAFE_componentWillMount!="function"&&typeof T.componentWillMount!="function"||(A=T.state,typeof T.componentWillMount=="function"&&T.componentWillMount(),typeof T.UNSAFE_componentWillMount=="function"&&T.UNSAFE_componentWillMount(),A!==T.state&&ad.enqueueReplaceState(T,T.state,null),_o(i,c,T,h),Ao(),T.state=i.memoizedState),typeof T.componentDidMount=="function"&&(i.flags|=4194308),c=!0}else if(a===null){T=i.stateNode;var N=i.memoizedProps,P=Ri(s,N);T.props=P;var Z=T.context,ue=s.contextType;A=cr,typeof ue=="object"&&ue!==null&&(A=$t(ue));var de=s.getDerivedStateFromProps;ue=typeof de=="function"||typeof T.getSnapshotBeforeUpdate=="function",N=i.pendingProps!==N,ue||typeof T.UNSAFE_componentWillReceiveProps!="function"&&typeof T.componentWillReceiveProps!="function"||(N||Z!==A)&&k0(i,T,c,A),Pa=!1;var ee=i.memoizedState;T.state=ee,_o(i,c,T,h),Ao(),Z=i.memoizedState,N||ee!==Z||Pa?(typeof de=="function"&&(nd(i,s,de,c),Z=i.memoizedState),(P=Pa||R0(i,s,P,c,ee,Z,A))?(ue||typeof T.UNSAFE_componentWillMount!="function"&&typeof T.componentWillMount!="function"||(typeof T.componentWillMount=="function"&&T.componentWillMount(),typeof T.UNSAFE_componentWillMount=="function"&&T.UNSAFE_componentWillMount()),typeof T.componentDidMount=="function"&&(i.flags|=4194308)):(typeof T.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=c,i.memoizedState=Z),T.props=c,T.state=Z,T.context=A,c=P):(typeof T.componentDidMount=="function"&&(i.flags|=4194308),c=!1)}else{T=i.stateNode,Oc(a,i),A=i.memoizedProps,ue=Ri(s,A),T.props=ue,de=i.pendingProps,ee=T.context,Z=s.contextType,P=cr,typeof Z=="object"&&Z!==null&&(P=$t(Z)),N=s.getDerivedStateFromProps,(Z=typeof N=="function"||typeof T.getSnapshotBeforeUpdate=="function")||typeof T.UNSAFE_componentWillReceiveProps!="function"&&typeof T.componentWillReceiveProps!="function"||(A!==de||ee!==P)&&k0(i,T,c,P),Pa=!1,ee=i.memoizedState,T.state=ee,_o(i,c,T,h),Ao();var te=i.memoizedState;A!==de||ee!==te||Pa||a!==null&&a.dependencies!==null&&al(a.dependencies)?(typeof N=="function"&&(nd(i,s,N,c),te=i.memoizedState),(ue=Pa||R0(i,s,ue,c,ee,te,P)||a!==null&&a.dependencies!==null&&al(a.dependencies))?(Z||typeof T.UNSAFE_componentWillUpdate!="function"&&typeof T.componentWillUpdate!="function"||(typeof T.componentWillUpdate=="function"&&T.componentWillUpdate(c,te,P),typeof T.UNSAFE_componentWillUpdate=="function"&&T.UNSAFE_componentWillUpdate(c,te,P)),typeof T.componentDidUpdate=="function"&&(i.flags|=4),typeof T.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof T.componentDidUpdate!="function"||A===a.memoizedProps&&ee===a.memoizedState||(i.flags|=4),typeof T.getSnapshotBeforeUpdate!="function"||A===a.memoizedProps&&ee===a.memoizedState||(i.flags|=1024),i.memoizedProps=c,i.memoizedState=te),T.props=c,T.state=te,T.context=P,c=ue):(typeof T.componentDidUpdate!="function"||A===a.memoizedProps&&ee===a.memoizedState||(i.flags|=4),typeof T.getSnapshotBeforeUpdate!="function"||A===a.memoizedProps&&ee===a.memoizedState||(i.flags|=1024),c=!1)}return T=c,vl(a,i),c=(i.flags&128)!==0,T||c?(T=i.stateNode,s=c&&typeof s.getDerivedStateFromError!="function"?null:T.render(),i.flags|=1,a!==null&&c?(i.child=Er(i,a.child,null,h),i.child=Er(i,null,s,h)):Gt(a,i,s,h),i.memoizedState=T.state,a=i.child):a=Sa(a,i,h),a}function Q0(a,i,s,c){return yo(),i.flags|=256,Gt(a,i,s,c),i.child}var od={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function sd(a){return{baseLanes:a,cachePool:Lh()}}function ld(a,i,s){return a=a!==null?a.childLanes&~s:0,i&&(a|=Bn),a}function K0(a,i,s){var c=i.pendingProps,h=!1,T=(i.flags&128)!==0,A;if((A=T)||(A=a!==null&&a.memoizedState===null?!1:(Bt.current&2)!==0),A&&(h=!0,i.flags&=-129),A=(i.flags&32)!==0,i.flags&=-33,a===null){if(lt){if(h?Ua(i):Va(),lt){var N=St,P;if(P=N){e:{for(P=N,N=ea;P.nodeType!==8;){if(!N){N=null;break e}if(P=Kn(P.nextSibling),P===null){N=null;break e}}N=P}N!==null?(i.memoizedState={dehydrated:N,treeContext:Ci!==null?{id:ba,overflow:Ta}:null,retryLane:536870912,hydrationErrors:null},P=Tn(18,null,null,0),P.stateNode=N,P.return=i,i.child=P,an=i,St=null,P=!0):P=!1}P||_i(i)}if(N=i.memoizedState,N!==null&&(N=N.dehydrated,N!==null))return qd(N)?i.lanes=32:i.lanes=536870912,null;Ca(i)}return N=c.children,c=c.fallback,h?(Va(),h=i.mode,N=Cl({mode:"hidden",children:N},h),c=vi(c,h,s,null),N.return=i,c.return=i,N.sibling=c,i.child=N,h=i.child,h.memoizedState=sd(s),h.childLanes=ld(a,A,s),i.memoizedState=od,c):(Ua(i),ud(i,N))}if(P=a.memoizedState,P!==null&&(N=P.dehydrated,N!==null)){if(T)i.flags&256?(Ua(i),i.flags&=-257,i=cd(a,i,s)):i.memoizedState!==null?(Va(),i.child=a.child,i.flags|=128,i=null):(Va(),h=c.fallback,N=i.mode,c=Cl({mode:"visible",children:c.children},N),h=vi(h,N,s,null),h.flags|=2,c.return=i,h.return=i,c.sibling=h,i.child=c,Er(i,a.child,null,s),c=i.child,c.memoizedState=sd(s),c.childLanes=ld(a,A,s),i.memoizedState=od,i=h);else if(Ua(i),qd(N)){if(A=N.nextSibling&&N.nextSibling.dataset,A)var Z=A.dgst;A=Z,c=Error(r(419)),c.stack="",c.digest=A,bo({value:c,source:null,stack:null}),i=cd(a,i,s)}else if(Ht||To(a,i,s,!1),A=(s&a.childLanes)!==0,Ht||A){if(A=yt,A!==null&&(c=s&-s,c=(c&42)!==0?1:Ji(c),c=(c&(A.suspendedLanes|s))!==0?0:c,c!==0&&c!==P.retryLane))throw P.retryLane=c,ur(a,c),Sn(A,a,c),H0;N.data==="$?"||Nd(),i=cd(a,i,s)}else N.data==="$?"?(i.flags|=192,i.child=a.child,i=null):(a=P.treeContext,St=Kn(N.nextSibling),an=i,lt=!0,Ai=null,ea=!1,a!==null&&(Ln[On++]=ba,Ln[On++]=Ta,Ln[On++]=Ci,ba=a.id,Ta=a.overflow,Ci=i),i=ud(i,c.children),i.flags|=4096);return i}return h?(Va(),h=c.fallback,N=i.mode,P=a.child,Z=P.sibling,c=ya(P,{mode:"hidden",children:c.children}),c.subtreeFlags=P.subtreeFlags&65011712,Z!==null?h=ya(Z,h):(h=vi(h,N,s,null),h.flags|=2),h.return=i,c.return=i,c.sibling=h,i.child=c,c=h,h=i.child,N=a.child.memoizedState,N===null?N=sd(s):(P=N.cachePool,P!==null?(Z=Pt._currentValue,P=P.parent!==Z?{parent:Z,pool:Z}:P):P=Lh(),N={baseLanes:N.baseLanes|s,cachePool:P}),h.memoizedState=N,h.childLanes=ld(a,A,s),i.memoizedState=od,c):(Ua(i),s=a.child,a=s.sibling,s=ya(s,{mode:"visible",children:c.children}),s.return=i,s.sibling=null,a!==null&&(A=i.deletions,A===null?(i.deletions=[a],i.flags|=16):A.push(a)),i.child=s,i.memoizedState=null,s)}function ud(a,i){return i=Cl({mode:"visible",children:i},a.mode),i.return=a,a.child=i}function Cl(a,i){return a=Tn(22,a,null,i),a.lanes=0,a.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},a}function cd(a,i,s){return Er(i,a.child,null,s),a=ud(i,i.pendingProps.children),a.flags|=2,i.memoizedState=null,a}function $0(a,i,s){a.lanes|=i;var c=a.alternate;c!==null&&(c.lanes|=i),Nc(a.return,i,s)}function dd(a,i,s,c,h){var T=a.memoizedState;T===null?a.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:c,tail:s,tailMode:h}:(T.isBackwards=i,T.rendering=null,T.renderingStartTime=0,T.last=c,T.tail=s,T.tailMode=h)}function X0(a,i,s){var c=i.pendingProps,h=c.revealOrder,T=c.tail;if(Gt(a,i,c.children,s),c=Bt.current,(c&2)!==0)c=c&1|2,i.flags|=128;else{if(a!==null&&(a.flags&128)!==0)e:for(a=i.child;a!==null;){if(a.tag===13)a.memoizedState!==null&&$0(a,s,i);else if(a.tag===19)$0(a,s,i);else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===i)break e;for(;a.sibling===null;){if(a.return===null||a.return===i)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}c&=1}switch(I(Bt,c),h){case"forwards":for(s=i.child,h=null;s!==null;)a=s.alternate,a!==null&&Tl(a)===null&&(h=s),s=s.sibling;s=h,s===null?(h=i.child,i.child=null):(h=s.sibling,s.sibling=null),dd(i,!1,h,s,T);break;case"backwards":for(s=null,h=i.child,i.child=null;h!==null;){if(a=h.alternate,a!==null&&Tl(a)===null){i.child=h;break}a=h.sibling,h.sibling=s,s=h,h=a}dd(i,!0,s,null,T);break;case"together":dd(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function Sa(a,i,s){if(a!==null&&(i.dependencies=a.dependencies),Ya|=i.lanes,(s&i.childLanes)===0)if(a!==null){if(To(a,i,s,!1),(s&i.childLanes)===0)return null}else return null;if(a!==null&&i.child!==a.child)throw Error(r(153));if(i.child!==null){for(a=i.child,s=ya(a,a.pendingProps),i.child=s,s.return=i;a.sibling!==null;)a=a.sibling,s=s.sibling=ya(a,a.pendingProps),s.return=i;s.sibling=null}return i.child}function fd(a,i){return(a.lanes&i)!==0?!0:(a=a.dependencies,!!(a!==null&&al(a)))}function zx(a,i,s){switch(i.tag){case 3:Se(i,i.stateNode.containerInfo),Oa(i,Pt,a.memoizedState.cache),yo();break;case 27:case 5:we(i);break;case 4:Se(i,i.stateNode.containerInfo);break;case 10:Oa(i,i.type,i.memoizedProps.value);break;case 13:var c=i.memoizedState;if(c!==null)return c.dehydrated!==null?(Ua(i),i.flags|=128,null):(s&i.child.childLanes)!==0?K0(a,i,s):(Ua(i),a=Sa(a,i,s),a!==null?a.sibling:null);Ua(i);break;case 19:var h=(a.flags&128)!==0;if(c=(s&i.childLanes)!==0,c||(To(a,i,s,!1),c=(s&i.childLanes)!==0),h){if(c)return X0(a,i,s);i.flags|=128}if(h=i.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),I(Bt,Bt.current),c)break;return null;case 22:case 23:return i.lanes=0,j0(a,i,s);case 24:Oa(i,Pt,a.memoizedState.cache)}return Sa(a,i,s)}function W0(a,i,s){if(a!==null)if(a.memoizedProps!==i.pendingProps)Ht=!0;else{if(!fd(a,s)&&(i.flags&128)===0)return Ht=!1,zx(a,i,s);Ht=(a.flags&131072)!==0}else Ht=!1,lt&&(i.flags&1048576)!==0&&Ih(i,nl,i.index);switch(i.lanes=0,i.tag){case 16:e:{a=i.pendingProps;var c=i.elementType,h=c._init;if(c=h(c._payload),i.type=c,typeof c=="function")xc(c)?(a=Ri(c,a),i.tag=1,i=Y0(null,i,c,a,s)):(i.tag=0,i=rd(null,i,c,a,s));else{if(c!=null){if(h=c.$$typeof,h===$){i.tag=11,i=U0(null,i,c,a,s);break e}else if(h===se){i.tag=14,i=V0(null,i,c,a,s);break e}}throw i=me(c)||c,Error(r(306,i,""))}}return i;case 0:return rd(a,i,i.type,i.pendingProps,s);case 1:return c=i.type,h=Ri(c,i.pendingProps),Y0(a,i,c,h,s);case 3:e:{if(Se(i,i.stateNode.containerInfo),a===null)throw Error(r(387));c=i.pendingProps;var T=i.memoizedState;h=T.element,Oc(a,i),_o(i,c,null,s);var A=i.memoizedState;if(c=A.cache,Oa(i,Pt,c),c!==T.cache&&Mc(i,[Pt],s,!0),Ao(),c=A.element,T.isDehydrated)if(T={element:c,isDehydrated:!1,cache:A.cache},i.updateQueue.baseState=T,i.memoizedState=T,i.flags&256){i=Q0(a,i,c,s);break e}else if(c!==h){h=kn(Error(r(424)),i),bo(h),i=Q0(a,i,c,s);break e}else{switch(a=i.stateNode.containerInfo,a.nodeType){case 9:a=a.body;break;default:a=a.nodeName==="HTML"?a.ownerDocument.body:a}for(St=Kn(a.firstChild),an=i,lt=!0,Ai=null,ea=!0,s=M0(i,null,c,s),i.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling}else{if(yo(),c===h){i=Sa(a,i,s);break e}Gt(a,i,c,s)}i=i.child}return i;case 26:return vl(a,i),a===null?(s=tg(i.type,null,i.pendingProps,null))?i.memoizedState=s:lt||(s=i.type,a=i.pendingProps,c=Bl(re.current).createElement(s),c[it]=i,c[Qe]=a,Yt(c,s,a),Rt(c),i.stateNode=c):i.memoizedState=tg(i.type,a.memoizedProps,i.pendingProps,a.memoizedState),null;case 27:return we(i),a===null&&lt&&(c=i.stateNode=Jp(i.type,i.pendingProps,re.current),an=i,ea=!0,h=St,Xa(i.type)?(Yd=h,St=Kn(c.firstChild)):St=h),Gt(a,i,i.pendingProps.children,s),vl(a,i),a===null&&(i.flags|=4194304),i.child;case 5:return a===null&&lt&&((h=c=St)&&(c=gv(c,i.type,i.pendingProps,ea),c!==null?(i.stateNode=c,an=i,St=Kn(c.firstChild),ea=!1,h=!0):h=!1),h||_i(i)),we(i),h=i.type,T=i.pendingProps,A=a!==null?a.memoizedProps:null,c=T.children,zd(h,T)?c=null:A!==null&&zd(h,A)&&(i.flags|=32),i.memoizedState!==null&&(h=Vc(a,i,Lx,null,null,s),Ko._currentValue=h),vl(a,i),Gt(a,i,c,s),i.child;case 6:return a===null&&lt&&((a=s=St)&&(s=yv(s,i.pendingProps,ea),s!==null?(i.stateNode=s,an=i,St=null,a=!0):a=!1),a||_i(i)),null;case 13:return K0(a,i,s);case 4:return Se(i,i.stateNode.containerInfo),c=i.pendingProps,a===null?i.child=Er(i,null,c,s):Gt(a,i,c,s),i.child;case 11:return U0(a,i,i.type,i.pendingProps,s);case 7:return Gt(a,i,i.pendingProps,s),i.child;case 8:return Gt(a,i,i.pendingProps.children,s),i.child;case 12:return Gt(a,i,i.pendingProps.children,s),i.child;case 10:return c=i.pendingProps,Oa(i,i.type,c.value),Gt(a,i,c.children,s),i.child;case 9:return h=i.type._context,c=i.pendingProps.children,Ni(i),h=$t(h),c=c(h),i.flags|=1,Gt(a,i,c,s),i.child;case 14:return V0(a,i,i.type,i.pendingProps,s);case 15:return z0(a,i,i.type,i.pendingProps,s);case 19:return X0(a,i,s);case 31:return c=i.pendingProps,s=i.mode,c={mode:c.mode,children:c.children},a===null?(s=Cl(c,s),s.ref=i.ref,i.child=s,s.return=i,i=s):(s=ya(a.child,c),s.ref=i.ref,i.child=s,s.return=i,i=s),i;case 22:return j0(a,i,s);case 24:return Ni(i),c=$t(Pt),a===null?(h=kc(),h===null&&(h=yt,T=Dc(),h.pooledCache=T,T.refCount++,T!==null&&(h.pooledCacheLanes|=s),h=T),i.memoizedState={parent:c,cache:h},Lc(i),Oa(i,Pt,h)):((a.lanes&s)!==0&&(Oc(a,i),_o(i,null,null,s),Ao()),h=a.memoizedState,T=i.memoizedState,h.parent!==c?(h={parent:c,cache:c},i.memoizedState=h,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=h),Oa(i,Pt,c)):(c=T.cache,Oa(i,Pt,c),c!==h.cache&&Mc(i,[Pt],s,!0))),Gt(a,i,i.pendingProps.children,s),i.child;case 29:throw i.pendingProps}throw Error(r(156,i.tag))}function Aa(a){a.flags|=4}function J0(a,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)a.flags&=-16777217;else if(a.flags|=16777216,!og(i)){if(i=Pn.current,i!==null&&((nt&4194048)===nt?ta!==null:(nt&62914560)!==nt&&(nt&536870912)===0||i!==ta))throw Co=wc,Oh;a.flags|=8192}}function Sl(a,i){i!==null&&(a.flags|=4),a.flags&16384&&(i=a.tag!==22?Fs():536870912,a.lanes|=i,Sr|=i)}function wo(a,i){if(!lt)switch(a.tailMode){case"hidden":i=a.tail;for(var s=null;i!==null;)i.alternate!==null&&(s=i),i=i.sibling;s===null?a.tail=null:s.sibling=null;break;case"collapsed":s=a.tail;for(var c=null;s!==null;)s.alternate!==null&&(c=s),s=s.sibling;c===null?i||a.tail===null?a.tail=null:a.tail.sibling=null:c.sibling=null}}function Ct(a){var i=a.alternate!==null&&a.alternate.child===a.child,s=0,c=0;if(i)for(var h=a.child;h!==null;)s|=h.lanes|h.childLanes,c|=h.subtreeFlags&65011712,c|=h.flags&65011712,h.return=a,h=h.sibling;else for(h=a.child;h!==null;)s|=h.lanes|h.childLanes,c|=h.subtreeFlags,c|=h.flags,h.return=a,h=h.sibling;return a.subtreeFlags|=c,a.childLanes=s,i}function jx(a,i,s){var c=i.pendingProps;switch(Ac(i),i.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ct(i),null;case 1:return Ct(i),null;case 3:return s=i.stateNode,c=null,a!==null&&(c=a.memoizedState.cache),i.memoizedState.cache!==c&&(i.flags|=2048),xa(Pt),De(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(a===null||a.child===null)&&(go(i)?Aa(i):a===null||a.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,Dh())),Ct(i),null;case 26:return s=i.memoizedState,a===null?(Aa(i),s!==null?(Ct(i),J0(i,s)):(Ct(i),i.flags&=-16777217)):s?s!==a.memoizedState?(Aa(i),Ct(i),J0(i,s)):(Ct(i),i.flags&=-16777217):(a.memoizedProps!==c&&Aa(i),Ct(i),i.flags&=-16777217),null;case 27:tt(i),s=re.current;var h=i.type;if(a!==null&&i.stateNode!=null)a.memoizedProps!==c&&Aa(i);else{if(!c){if(i.stateNode===null)throw Error(r(166));return Ct(i),null}a=oe.current,go(i)?Nh(i):(a=Jp(h,c,s),i.stateNode=a,Aa(i))}return Ct(i),null;case 5:if(tt(i),s=i.type,a!==null&&i.stateNode!=null)a.memoizedProps!==c&&Aa(i);else{if(!c){if(i.stateNode===null)throw Error(r(166));return Ct(i),null}if(a=oe.current,go(i))Nh(i);else{switch(h=Bl(re.current),a){case 1:a=h.createElementNS("http://www.w3.org/2000/svg",s);break;case 2:a=h.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;default:switch(s){case"svg":a=h.createElementNS("http://www.w3.org/2000/svg",s);break;case"math":a=h.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;case"script":a=h.createElement("div"),a.innerHTML="<script><\/script>",a=a.removeChild(a.firstChild);break;case"select":a=typeof c.is=="string"?h.createElement("select",{is:c.is}):h.createElement("select"),c.multiple?a.multiple=!0:c.size&&(a.size=c.size);break;default:a=typeof c.is=="string"?h.createElement(s,{is:c.is}):h.createElement(s)}}a[it]=i,a[Qe]=c;e:for(h=i.child;h!==null;){if(h.tag===5||h.tag===6)a.appendChild(h.stateNode);else if(h.tag!==4&&h.tag!==27&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===i)break e;for(;h.sibling===null;){if(h.return===null||h.return===i)break e;h=h.return}h.sibling.return=h.return,h=h.sibling}i.stateNode=a;e:switch(Yt(a,s,c),s){case"button":case"input":case"select":case"textarea":a=!!c.autoFocus;break e;case"img":a=!0;break e;default:a=!1}a&&Aa(i)}}return Ct(i),i.flags&=-16777217,null;case 6:if(a&&i.stateNode!=null)a.memoizedProps!==c&&Aa(i);else{if(typeof c!="string"&&i.stateNode===null)throw Error(r(166));if(a=re.current,go(i)){if(a=i.stateNode,s=i.memoizedProps,c=null,h=an,h!==null)switch(h.tag){case 27:case 5:c=h.memoizedProps}a[it]=i,a=!!(a.nodeValue===s||c!==null&&c.suppressHydrationWarning===!0||qp(a.nodeValue,s)),a||_i(i)}else a=Bl(a).createTextNode(c),a[it]=i,i.stateNode=a}return Ct(i),null;case 13:if(c=i.memoizedState,a===null||a.memoizedState!==null&&a.memoizedState.dehydrated!==null){if(h=go(i),c!==null&&c.dehydrated!==null){if(a===null){if(!h)throw Error(r(318));if(h=i.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(r(317));h[it]=i}else yo(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;Ct(i),h=!1}else h=Dh(),a!==null&&a.memoizedState!==null&&(a.memoizedState.hydrationErrors=h),h=!0;if(!h)return i.flags&256?(Ca(i),i):(Ca(i),null)}if(Ca(i),(i.flags&128)!==0)return i.lanes=s,i;if(s=c!==null,a=a!==null&&a.memoizedState!==null,s){c=i.child,h=null,c.alternate!==null&&c.alternate.memoizedState!==null&&c.alternate.memoizedState.cachePool!==null&&(h=c.alternate.memoizedState.cachePool.pool);var T=null;c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(T=c.memoizedState.cachePool.pool),T!==h&&(c.flags|=2048)}return s!==a&&s&&(i.child.flags|=8192),Sl(i,i.updateQueue),Ct(i),null;case 4:return De(),a===null&&Bd(i.stateNode.containerInfo),Ct(i),null;case 10:return xa(i.type),Ct(i),null;case 19:if(Q(Bt),h=i.memoizedState,h===null)return Ct(i),null;if(c=(i.flags&128)!==0,T=h.rendering,T===null)if(c)wo(h,!1);else{if(At!==0||a!==null&&(a.flags&128)!==0)for(a=i.child;a!==null;){if(T=Tl(a),T!==null){for(i.flags|=128,wo(h,!1),a=T.updateQueue,i.updateQueue=a,Sl(i,a),i.subtreeFlags=0,a=s,s=i.child;s!==null;)_h(s,a),s=s.sibling;return I(Bt,Bt.current&1|2),i.child}a=a.sibling}h.tail!==null&&tn()>Il&&(i.flags|=128,c=!0,wo(h,!1),i.lanes=4194304)}else{if(!c)if(a=Tl(T),a!==null){if(i.flags|=128,c=!0,a=a.updateQueue,i.updateQueue=a,Sl(i,a),wo(h,!0),h.tail===null&&h.tailMode==="hidden"&&!T.alternate&&!lt)return Ct(i),null}else 2*tn()-h.renderingStartTime>Il&&s!==536870912&&(i.flags|=128,c=!0,wo(h,!1),i.lanes=4194304);h.isBackwards?(T.sibling=i.child,i.child=T):(a=h.last,a!==null?a.sibling=T:i.child=T,h.last=T)}return h.tail!==null?(i=h.tail,h.rendering=i,h.tail=i.sibling,h.renderingStartTime=tn(),i.sibling=null,a=Bt.current,I(Bt,c?a&1|2:a&1),i):(Ct(i),null);case 22:case 23:return Ca(i),Hc(),c=i.memoizedState!==null,a!==null?a.memoizedState!==null!==c&&(i.flags|=8192):c&&(i.flags|=8192),c?(s&536870912)!==0&&(i.flags&128)===0&&(Ct(i),i.subtreeFlags&6&&(i.flags|=8192)):Ct(i),s=i.updateQueue,s!==null&&Sl(i,s.retryQueue),s=null,a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(s=a.memoizedState.cachePool.pool),c=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(c=i.memoizedState.cachePool.pool),c!==s&&(i.flags|=2048),a!==null&&Q(Mi),null;case 24:return s=null,a!==null&&(s=a.memoizedState.cache),i.memoizedState.cache!==s&&(i.flags|=2048),xa(Pt),Ct(i),null;case 25:return null;case 30:return null}throw Error(r(156,i.tag))}function Gx(a,i){switch(Ac(i),i.tag){case 1:return a=i.flags,a&65536?(i.flags=a&-65537|128,i):null;case 3:return xa(Pt),De(),a=i.flags,(a&65536)!==0&&(a&128)===0?(i.flags=a&-65537|128,i):null;case 26:case 27:case 5:return tt(i),null;case 13:if(Ca(i),a=i.memoizedState,a!==null&&a.dehydrated!==null){if(i.alternate===null)throw Error(r(340));yo()}return a=i.flags,a&65536?(i.flags=a&-65537|128,i):null;case 19:return Q(Bt),null;case 4:return De(),null;case 10:return xa(i.type),null;case 22:case 23:return Ca(i),Hc(),a!==null&&Q(Mi),a=i.flags,a&65536?(i.flags=a&-65537|128,i):null;case 24:return xa(Pt),null;case 25:return null;default:return null}}function Z0(a,i){switch(Ac(i),i.tag){case 3:xa(Pt),De();break;case 26:case 27:case 5:tt(i);break;case 4:De();break;case 13:Ca(i);break;case 19:Q(Bt);break;case 10:xa(i.type);break;case 22:case 23:Ca(i),Hc(),a!==null&&Q(Mi);break;case 24:xa(Pt)}}function Lo(a,i){try{var s=i.updateQueue,c=s!==null?s.lastEffect:null;if(c!==null){var h=c.next;s=h;do{if((s.tag&a)===a){c=void 0;var T=s.create,A=s.inst;c=T(),A.destroy=c}s=s.next}while(s!==h)}}catch(N){pt(i,i.return,N)}}function za(a,i,s){try{var c=i.updateQueue,h=c!==null?c.lastEffect:null;if(h!==null){var T=h.next;c=T;do{if((c.tag&a)===a){var A=c.inst,N=A.destroy;if(N!==void 0){A.destroy=void 0,h=i;var P=s,Z=N;try{Z()}catch(ue){pt(h,P,ue)}}}c=c.next}while(c!==T)}}catch(ue){pt(i,i.return,ue)}}function ep(a){var i=a.updateQueue;if(i!==null){var s=a.stateNode;try{Vh(i,s)}catch(c){pt(a,a.return,c)}}}function tp(a,i,s){s.props=Ri(a.type,a.memoizedProps),s.state=a.memoizedState;try{s.componentWillUnmount()}catch(c){pt(a,i,c)}}function Oo(a,i){try{var s=a.ref;if(s!==null){switch(a.tag){case 26:case 27:case 5:var c=a.stateNode;break;case 30:c=a.stateNode;break;default:c=a.stateNode}typeof s=="function"?a.refCleanup=s(c):s.current=c}}catch(h){pt(a,i,h)}}function na(a,i){var s=a.ref,c=a.refCleanup;if(s!==null)if(typeof c=="function")try{c()}catch(h){pt(a,i,h)}finally{a.refCleanup=null,a=a.alternate,a!=null&&(a.refCleanup=null)}else if(typeof s=="function")try{s(null)}catch(h){pt(a,i,h)}else s.current=null}function np(a){var i=a.type,s=a.memoizedProps,c=a.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":s.autoFocus&&c.focus();break e;case"img":s.src?c.src=s.src:s.srcSet&&(c.srcset=s.srcSet)}}catch(h){pt(a,a.return,h)}}function md(a,i,s){try{var c=a.stateNode;dv(c,a.type,s,i),c[Qe]=i}catch(h){pt(a,a.return,h)}}function ap(a){return a.tag===5||a.tag===3||a.tag===26||a.tag===27&&Xa(a.type)||a.tag===4}function hd(a){e:for(;;){for(;a.sibling===null;){if(a.return===null||ap(a.return))return null;a=a.return}for(a.sibling.return=a.return,a=a.sibling;a.tag!==5&&a.tag!==6&&a.tag!==18;){if(a.tag===27&&Xa(a.type)||a.flags&2||a.child===null||a.tag===4)continue e;a.child.return=a,a=a.child}if(!(a.flags&2))return a.stateNode}}function pd(a,i,s){var c=a.tag;if(c===5||c===6)a=a.stateNode,i?(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s).insertBefore(a,i):(i=s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,i.appendChild(a),s=s._reactRootContainer,s!=null||i.onclick!==null||(i.onclick=Pl));else if(c!==4&&(c===27&&Xa(a.type)&&(s=a.stateNode,i=null),a=a.child,a!==null))for(pd(a,i,s),a=a.sibling;a!==null;)pd(a,i,s),a=a.sibling}function Al(a,i,s){var c=a.tag;if(c===5||c===6)a=a.stateNode,i?s.insertBefore(a,i):s.appendChild(a);else if(c!==4&&(c===27&&Xa(a.type)&&(s=a.stateNode),a=a.child,a!==null))for(Al(a,i,s),a=a.sibling;a!==null;)Al(a,i,s),a=a.sibling}function ip(a){var i=a.stateNode,s=a.memoizedProps;try{for(var c=a.type,h=i.attributes;h.length;)i.removeAttributeNode(h[0]);Yt(i,c,s),i[it]=a,i[Qe]=s}catch(T){pt(a,a.return,T)}}var _a=!1,Nt=!1,gd=!1,rp=typeof WeakSet=="function"?WeakSet:Set,Ut=null;function qx(a,i){if(a=a.containerInfo,Ud=jl,a=gh(a),hc(a)){if("selectionStart"in a)var s={start:a.selectionStart,end:a.selectionEnd};else e:{s=(s=a.ownerDocument)&&s.defaultView||window;var c=s.getSelection&&s.getSelection();if(c&&c.rangeCount!==0){s=c.anchorNode;var h=c.anchorOffset,T=c.focusNode;c=c.focusOffset;try{s.nodeType,T.nodeType}catch{s=null;break e}var A=0,N=-1,P=-1,Z=0,ue=0,de=a,ee=null;t:for(;;){for(var te;de!==s||h!==0&&de.nodeType!==3||(N=A+h),de!==T||c!==0&&de.nodeType!==3||(P=A+c),de.nodeType===3&&(A+=de.nodeValue.length),(te=de.firstChild)!==null;)ee=de,de=te;for(;;){if(de===a)break t;if(ee===s&&++Z===h&&(N=A),ee===T&&++ue===c&&(P=A),(te=de.nextSibling)!==null)break;de=ee,ee=de.parentNode}de=te}s=N===-1||P===-1?null:{start:N,end:P}}else s=null}s=s||{start:0,end:0}}else s=null;for(Vd={focusedElem:a,selectionRange:s},jl=!1,Ut=i;Ut!==null;)if(i=Ut,a=i.child,(i.subtreeFlags&1024)!==0&&a!==null)a.return=i,Ut=a;else for(;Ut!==null;){switch(i=Ut,T=i.alternate,a=i.flags,i.tag){case 0:break;case 11:case 15:break;case 1:if((a&1024)!==0&&T!==null){a=void 0,s=i,h=T.memoizedProps,T=T.memoizedState,c=s.stateNode;try{var Fe=Ri(s.type,h,s.elementType===s.type);a=c.getSnapshotBeforeUpdate(Fe,T),c.__reactInternalSnapshotBeforeUpdate=a}catch(Pe){pt(s,s.return,Pe)}}break;case 3:if((a&1024)!==0){if(a=i.stateNode.containerInfo,s=a.nodeType,s===9)Gd(a);else if(s===1)switch(a.nodeName){case"HEAD":case"HTML":case"BODY":Gd(a);break;default:a.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((a&1024)!==0)throw Error(r(163))}if(a=i.sibling,a!==null){a.return=i.return,Ut=a;break}Ut=i.return}}function op(a,i,s){var c=s.flags;switch(s.tag){case 0:case 11:case 15:ja(a,s),c&4&&Lo(5,s);break;case 1:if(ja(a,s),c&4)if(a=s.stateNode,i===null)try{a.componentDidMount()}catch(A){pt(s,s.return,A)}else{var h=Ri(s.type,i.memoizedProps);i=i.memoizedState;try{a.componentDidUpdate(h,i,a.__reactInternalSnapshotBeforeUpdate)}catch(A){pt(s,s.return,A)}}c&64&&ep(s),c&512&&Oo(s,s.return);break;case 3:if(ja(a,s),c&64&&(a=s.updateQueue,a!==null)){if(i=null,s.child!==null)switch(s.child.tag){case 27:case 5:i=s.child.stateNode;break;case 1:i=s.child.stateNode}try{Vh(a,i)}catch(A){pt(s,s.return,A)}}break;case 27:i===null&&c&4&&ip(s);case 26:case 5:ja(a,s),i===null&&c&4&&np(s),c&512&&Oo(s,s.return);break;case 12:ja(a,s);break;case 13:ja(a,s),c&4&&up(a,s),c&64&&(a=s.memoizedState,a!==null&&(a=a.dehydrated,a!==null&&(s=ev.bind(null,s),bv(a,s))));break;case 22:if(c=s.memoizedState!==null||_a,!c){i=i!==null&&i.memoizedState!==null||Nt,h=_a;var T=Nt;_a=c,(Nt=i)&&!T?Ga(a,s,(s.subtreeFlags&8772)!==0):ja(a,s),_a=h,Nt=T}break;case 30:break;default:ja(a,s)}}function sp(a){var i=a.alternate;i!==null&&(a.alternate=null,sp(i)),a.child=null,a.deletions=null,a.sibling=null,a.tag===5&&(i=a.stateNode,i!==null&&io(i)),a.stateNode=null,a.return=null,a.dependencies=null,a.memoizedProps=null,a.memoizedState=null,a.pendingProps=null,a.stateNode=null,a.updateQueue=null}var xt=null,dn=!1;function Ia(a,i,s){for(s=s.child;s!==null;)lp(a,i,s),s=s.sibling}function lp(a,i,s){if(ge&&typeof ge.onCommitFiberUnmount=="function")try{ge.onCommitFiberUnmount(le,s)}catch{}switch(s.tag){case 26:Nt||na(s,i),Ia(a,i,s),s.memoizedState?s.memoizedState.count--:s.stateNode&&(s=s.stateNode,s.parentNode.removeChild(s));break;case 27:Nt||na(s,i);var c=xt,h=dn;Xa(s.type)&&(xt=s.stateNode,dn=!1),Ia(a,i,s),Go(s.stateNode),xt=c,dn=h;break;case 5:Nt||na(s,i);case 6:if(c=xt,h=dn,xt=null,Ia(a,i,s),xt=c,dn=h,xt!==null)if(dn)try{(xt.nodeType===9?xt.body:xt.nodeName==="HTML"?xt.ownerDocument.body:xt).removeChild(s.stateNode)}catch(T){pt(s,i,T)}else try{xt.removeChild(s.stateNode)}catch(T){pt(s,i,T)}break;case 18:xt!==null&&(dn?(a=xt,Xp(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,s.stateNode),Jo(a)):Xp(xt,s.stateNode));break;case 4:c=xt,h=dn,xt=s.stateNode.containerInfo,dn=!0,Ia(a,i,s),xt=c,dn=h;break;case 0:case 11:case 14:case 15:Nt||za(2,s,i),Nt||za(4,s,i),Ia(a,i,s);break;case 1:Nt||(na(s,i),c=s.stateNode,typeof c.componentWillUnmount=="function"&&tp(s,i,c)),Ia(a,i,s);break;case 21:Ia(a,i,s);break;case 22:Nt=(c=Nt)||s.memoizedState!==null,Ia(a,i,s),Nt=c;break;default:Ia(a,i,s)}}function up(a,i){if(i.memoizedState===null&&(a=i.alternate,a!==null&&(a=a.memoizedState,a!==null&&(a=a.dehydrated,a!==null))))try{Jo(a)}catch(s){pt(i,i.return,s)}}function Yx(a){switch(a.tag){case 13:case 19:var i=a.stateNode;return i===null&&(i=a.stateNode=new rp),i;case 22:return a=a.stateNode,i=a._retryCache,i===null&&(i=a._retryCache=new rp),i;default:throw Error(r(435,a.tag))}}function yd(a,i){var s=Yx(a);i.forEach(function(c){var h=tv.bind(null,a,c);s.has(c)||(s.add(c),c.then(h,h))})}function En(a,i){var s=i.deletions;if(s!==null)for(var c=0;c<s.length;c++){var h=s[c],T=a,A=i,N=A;e:for(;N!==null;){switch(N.tag){case 27:if(Xa(N.type)){xt=N.stateNode,dn=!1;break e}break;case 5:xt=N.stateNode,dn=!1;break e;case 3:case 4:xt=N.stateNode.containerInfo,dn=!0;break e}N=N.return}if(xt===null)throw Error(r(160));lp(T,A,h),xt=null,dn=!1,T=h.alternate,T!==null&&(T.return=null),h.return=null}if(i.subtreeFlags&13878)for(i=i.child;i!==null;)cp(i,a),i=i.sibling}var Qn=null;function cp(a,i){var s=a.alternate,c=a.flags;switch(a.tag){case 0:case 11:case 14:case 15:En(i,a),xn(a),c&4&&(za(3,a,a.return),Lo(3,a),za(5,a,a.return));break;case 1:En(i,a),xn(a),c&512&&(Nt||s===null||na(s,s.return)),c&64&&_a&&(a=a.updateQueue,a!==null&&(c=a.callbacks,c!==null&&(s=a.shared.hiddenCallbacks,a.shared.hiddenCallbacks=s===null?c:s.concat(c))));break;case 26:var h=Qn;if(En(i,a),xn(a),c&512&&(Nt||s===null||na(s,s.return)),c&4){var T=s!==null?s.memoizedState:null;if(c=a.memoizedState,s===null)if(c===null)if(a.stateNode===null){e:{c=a.type,s=a.memoizedProps,h=h.ownerDocument||h;t:switch(c){case"title":T=h.getElementsByTagName("title")[0],(!T||T[pi]||T[it]||T.namespaceURI==="http://www.w3.org/2000/svg"||T.hasAttribute("itemprop"))&&(T=h.createElement(c),h.head.insertBefore(T,h.querySelector("head > title"))),Yt(T,c,s),T[it]=a,Rt(T),c=T;break e;case"link":var A=ig("link","href",h).get(c+(s.href||""));if(A){for(var N=0;N<A.length;N++)if(T=A[N],T.getAttribute("href")===(s.href==null||s.href===""?null:s.href)&&T.getAttribute("rel")===(s.rel==null?null:s.rel)&&T.getAttribute("title")===(s.title==null?null:s.title)&&T.getAttribute("crossorigin")===(s.crossOrigin==null?null:s.crossOrigin)){A.splice(N,1);break t}}T=h.createElement(c),Yt(T,c,s),h.head.appendChild(T);break;case"meta":if(A=ig("meta","content",h).get(c+(s.content||""))){for(N=0;N<A.length;N++)if(T=A[N],T.getAttribute("content")===(s.content==null?null:""+s.content)&&T.getAttribute("name")===(s.name==null?null:s.name)&&T.getAttribute("property")===(s.property==null?null:s.property)&&T.getAttribute("http-equiv")===(s.httpEquiv==null?null:s.httpEquiv)&&T.getAttribute("charset")===(s.charSet==null?null:s.charSet)){A.splice(N,1);break t}}T=h.createElement(c),Yt(T,c,s),h.head.appendChild(T);break;default:throw Error(r(468,c))}T[it]=a,Rt(T),c=T}a.stateNode=c}else rg(h,a.type,a.stateNode);else a.stateNode=ag(h,c,a.memoizedProps);else T!==c?(T===null?s.stateNode!==null&&(s=s.stateNode,s.parentNode.removeChild(s)):T.count--,c===null?rg(h,a.type,a.stateNode):ag(h,c,a.memoizedProps)):c===null&&a.stateNode!==null&&md(a,a.memoizedProps,s.memoizedProps)}break;case 27:En(i,a),xn(a),c&512&&(Nt||s===null||na(s,s.return)),s!==null&&c&4&&md(a,a.memoizedProps,s.memoizedProps);break;case 5:if(En(i,a),xn(a),c&512&&(Nt||s===null||na(s,s.return)),a.flags&32){h=a.stateNode;try{nr(h,"")}catch(te){pt(a,a.return,te)}}c&4&&a.stateNode!=null&&(h=a.memoizedProps,md(a,h,s!==null?s.memoizedProps:h)),c&1024&&(gd=!0);break;case 6:if(En(i,a),xn(a),c&4){if(a.stateNode===null)throw Error(r(162));c=a.memoizedProps,s=a.stateNode;try{s.nodeValue=c}catch(te){pt(a,a.return,te)}}break;case 3:if(Ul=null,h=Qn,Qn=Fl(i.containerInfo),En(i,a),Qn=h,xn(a),c&4&&s!==null&&s.memoizedState.isDehydrated)try{Jo(i.containerInfo)}catch(te){pt(a,a.return,te)}gd&&(gd=!1,dp(a));break;case 4:c=Qn,Qn=Fl(a.stateNode.containerInfo),En(i,a),xn(a),Qn=c;break;case 12:En(i,a),xn(a);break;case 13:En(i,a),xn(a),a.child.flags&8192&&a.memoizedState!==null!=(s!==null&&s.memoizedState!==null)&&(Cd=tn()),c&4&&(c=a.updateQueue,c!==null&&(a.updateQueue=null,yd(a,c)));break;case 22:h=a.memoizedState!==null;var P=s!==null&&s.memoizedState!==null,Z=_a,ue=Nt;if(_a=Z||h,Nt=ue||P,En(i,a),Nt=ue,_a=Z,xn(a),c&8192)e:for(i=a.stateNode,i._visibility=h?i._visibility&-2:i._visibility|1,h&&(s===null||P||_a||Nt||ki(a)),s=null,i=a;;){if(i.tag===5||i.tag===26){if(s===null){P=s=i;try{if(T=P.stateNode,h)A=T.style,typeof A.setProperty=="function"?A.setProperty("display","none","important"):A.display="none";else{N=P.stateNode;var de=P.memoizedProps.style,ee=de!=null&&de.hasOwnProperty("display")?de.display:null;N.style.display=ee==null||typeof ee=="boolean"?"":(""+ee).trim()}}catch(te){pt(P,P.return,te)}}}else if(i.tag===6){if(s===null){P=i;try{P.stateNode.nodeValue=h?"":P.memoizedProps}catch(te){pt(P,P.return,te)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===a)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===a)break e;for(;i.sibling===null;){if(i.return===null||i.return===a)break e;s===i&&(s=null),i=i.return}s===i&&(s=null),i.sibling.return=i.return,i=i.sibling}c&4&&(c=a.updateQueue,c!==null&&(s=c.retryQueue,s!==null&&(c.retryQueue=null,yd(a,s))));break;case 19:En(i,a),xn(a),c&4&&(c=a.updateQueue,c!==null&&(a.updateQueue=null,yd(a,c)));break;case 30:break;case 21:break;default:En(i,a),xn(a)}}function xn(a){var i=a.flags;if(i&2){try{for(var s,c=a.return;c!==null;){if(ap(c)){s=c;break}c=c.return}if(s==null)throw Error(r(160));switch(s.tag){case 27:var h=s.stateNode,T=hd(a);Al(a,T,h);break;case 5:var A=s.stateNode;s.flags&32&&(nr(A,""),s.flags&=-33);var N=hd(a);Al(a,N,A);break;case 3:case 4:var P=s.stateNode.containerInfo,Z=hd(a);pd(a,Z,P);break;default:throw Error(r(161))}}catch(ue){pt(a,a.return,ue)}a.flags&=-3}i&4096&&(a.flags&=-4097)}function dp(a){if(a.subtreeFlags&1024)for(a=a.child;a!==null;){var i=a;dp(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),a=a.sibling}}function ja(a,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)op(a,i.alternate,i),i=i.sibling}function ki(a){for(a=a.child;a!==null;){var i=a;switch(i.tag){case 0:case 11:case 14:case 15:za(4,i,i.return),ki(i);break;case 1:na(i,i.return);var s=i.stateNode;typeof s.componentWillUnmount=="function"&&tp(i,i.return,s),ki(i);break;case 27:Go(i.stateNode);case 26:case 5:na(i,i.return),ki(i);break;case 22:i.memoizedState===null&&ki(i);break;case 30:ki(i);break;default:ki(i)}a=a.sibling}}function Ga(a,i,s){for(s=s&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var c=i.alternate,h=a,T=i,A=T.flags;switch(T.tag){case 0:case 11:case 15:Ga(h,T,s),Lo(4,T);break;case 1:if(Ga(h,T,s),c=T,h=c.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(Z){pt(c,c.return,Z)}if(c=T,h=c.updateQueue,h!==null){var N=c.stateNode;try{var P=h.shared.hiddenCallbacks;if(P!==null)for(h.shared.hiddenCallbacks=null,h=0;h<P.length;h++)Uh(P[h],N)}catch(Z){pt(c,c.return,Z)}}s&&A&64&&ep(T),Oo(T,T.return);break;case 27:ip(T);case 26:case 5:Ga(h,T,s),s&&c===null&&A&4&&np(T),Oo(T,T.return);break;case 12:Ga(h,T,s);break;case 13:Ga(h,T,s),s&&A&4&&up(h,T);break;case 22:T.memoizedState===null&&Ga(h,T,s),Oo(T,T.return);break;case 30:break;default:Ga(h,T,s)}i=i.sibling}}function bd(a,i){var s=null;a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(s=a.memoizedState.cachePool.pool),a=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(a=i.memoizedState.cachePool.pool),a!==s&&(a!=null&&a.refCount++,s!=null&&Eo(s))}function Td(a,i){a=null,i.alternate!==null&&(a=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==a&&(i.refCount++,a!=null&&Eo(a))}function aa(a,i,s,c){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)fp(a,i,s,c),i=i.sibling}function fp(a,i,s,c){var h=i.flags;switch(i.tag){case 0:case 11:case 15:aa(a,i,s,c),h&2048&&Lo(9,i);break;case 1:aa(a,i,s,c);break;case 3:aa(a,i,s,c),h&2048&&(a=null,i.alternate!==null&&(a=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==a&&(i.refCount++,a!=null&&Eo(a)));break;case 12:if(h&2048){aa(a,i,s,c),a=i.stateNode;try{var T=i.memoizedProps,A=T.id,N=T.onPostCommit;typeof N=="function"&&N(A,i.alternate===null?"mount":"update",a.passiveEffectDuration,-0)}catch(P){pt(i,i.return,P)}}else aa(a,i,s,c);break;case 13:aa(a,i,s,c);break;case 23:break;case 22:T=i.stateNode,A=i.alternate,i.memoizedState!==null?T._visibility&2?aa(a,i,s,c):Po(a,i):T._visibility&2?aa(a,i,s,c):(T._visibility|=2,xr(a,i,s,c,(i.subtreeFlags&10256)!==0)),h&2048&&bd(A,i);break;case 24:aa(a,i,s,c),h&2048&&Td(i.alternate,i);break;default:aa(a,i,s,c)}}function xr(a,i,s,c,h){for(h=h&&(i.subtreeFlags&10256)!==0,i=i.child;i!==null;){var T=a,A=i,N=s,P=c,Z=A.flags;switch(A.tag){case 0:case 11:case 15:xr(T,A,N,P,h),Lo(8,A);break;case 23:break;case 22:var ue=A.stateNode;A.memoizedState!==null?ue._visibility&2?xr(T,A,N,P,h):Po(T,A):(ue._visibility|=2,xr(T,A,N,P,h)),h&&Z&2048&&bd(A.alternate,A);break;case 24:xr(T,A,N,P,h),h&&Z&2048&&Td(A.alternate,A);break;default:xr(T,A,N,P,h)}i=i.sibling}}function Po(a,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var s=a,c=i,h=c.flags;switch(c.tag){case 22:Po(s,c),h&2048&&bd(c.alternate,c);break;case 24:Po(s,c),h&2048&&Td(c.alternate,c);break;default:Po(s,c)}i=i.sibling}}var Bo=8192;function vr(a){if(a.subtreeFlags&Bo)for(a=a.child;a!==null;)mp(a),a=a.sibling}function mp(a){switch(a.tag){case 26:vr(a),a.flags&Bo&&a.memoizedState!==null&&Rv(Qn,a.memoizedState,a.memoizedProps);break;case 5:vr(a);break;case 3:case 4:var i=Qn;Qn=Fl(a.stateNode.containerInfo),vr(a),Qn=i;break;case 22:a.memoizedState===null&&(i=a.alternate,i!==null&&i.memoizedState!==null?(i=Bo,Bo=16777216,vr(a),Bo=i):vr(a));break;default:vr(a)}}function hp(a){var i=a.alternate;if(i!==null&&(a=i.child,a!==null)){i.child=null;do i=a.sibling,a.sibling=null,a=i;while(a!==null)}}function Fo(a){var i=a.deletions;if((a.flags&16)!==0){if(i!==null)for(var s=0;s<i.length;s++){var c=i[s];Ut=c,gp(c,a)}hp(a)}if(a.subtreeFlags&10256)for(a=a.child;a!==null;)pp(a),a=a.sibling}function pp(a){switch(a.tag){case 0:case 11:case 15:Fo(a),a.flags&2048&&za(9,a,a.return);break;case 3:Fo(a);break;case 12:Fo(a);break;case 22:var i=a.stateNode;a.memoizedState!==null&&i._visibility&2&&(a.return===null||a.return.tag!==13)?(i._visibility&=-3,_l(a)):Fo(a);break;default:Fo(a)}}function _l(a){var i=a.deletions;if((a.flags&16)!==0){if(i!==null)for(var s=0;s<i.length;s++){var c=i[s];Ut=c,gp(c,a)}hp(a)}for(a=a.child;a!==null;){switch(i=a,i.tag){case 0:case 11:case 15:za(8,i,i.return),_l(i);break;case 22:s=i.stateNode,s._visibility&2&&(s._visibility&=-3,_l(i));break;default:_l(i)}a=a.sibling}}function gp(a,i){for(;Ut!==null;){var s=Ut;switch(s.tag){case 0:case 11:case 15:za(8,s,i);break;case 23:case 22:if(s.memoizedState!==null&&s.memoizedState.cachePool!==null){var c=s.memoizedState.cachePool.pool;c!=null&&c.refCount++}break;case 24:Eo(s.memoizedState.cache)}if(c=s.child,c!==null)c.return=s,Ut=c;else e:for(s=a;Ut!==null;){c=Ut;var h=c.sibling,T=c.return;if(sp(c),c===s){Ut=null;break e}if(h!==null){h.return=T,Ut=h;break e}Ut=T}}}var Qx={getCacheForType:function(a){var i=$t(Pt),s=i.data.get(a);return s===void 0&&(s=a(),i.data.set(a,s)),s}},Kx=typeof WeakMap=="function"?WeakMap:Map,ct=0,yt=null,Je=null,nt=0,dt=0,vn=null,qa=!1,Cr=!1,Ed=!1,Na=0,At=0,Ya=0,wi=0,xd=0,Bn=0,Sr=0,Ho=null,fn=null,vd=!1,Cd=0,Il=1/0,Nl=null,Qa=null,qt=0,Ka=null,Ar=null,_r=0,Sd=0,Ad=null,yp=null,Uo=0,_d=null;function Cn(){if((ct&2)!==0&&nt!==0)return nt&-nt;if(W.T!==null){var a=mr;return a!==0?a:wd()}return Te()}function bp(){Bn===0&&(Bn=(nt&536870912)===0||lt?Bs():536870912);var a=Pn.current;return a!==null&&(a.flags|=32),Bn}function Sn(a,i,s){(a===yt&&(dt===2||dt===9)||a.cancelPendingCommit!==null)&&(Ir(a,0),$a(a,nt,Bn,!1)),hi(a,s),((ct&2)===0||a!==yt)&&(a===yt&&((ct&2)===0&&(wi|=s),At===4&&$a(a,nt,Bn,!1)),ia(a))}function Tp(a,i,s){if((ct&6)!==0)throw Error(r(327));var c=!s&&(i&124)===0&&(i&a.expiredLanes)===0||on(a,i),h=c?Wx(a,i):Md(a,i,!0),T=c;do{if(h===0){Cr&&!c&&$a(a,i,0,!1);break}else{if(s=a.current.alternate,T&&!$x(s)){h=Md(a,i,!1),T=!1;continue}if(h===2){if(T=i,a.errorRecoveryDisabledLanes&T)var A=0;else A=a.pendingLanes&-536870913,A=A!==0?A:A&536870912?536870912:0;if(A!==0){i=A;e:{var N=a;h=Ho;var P=N.current.memoizedState.isDehydrated;if(P&&(Ir(N,A).flags|=256),A=Md(N,A,!1),A!==2){if(Ed&&!P){N.errorRecoveryDisabledLanes|=T,wi|=T,h=4;break e}T=fn,fn=h,T!==null&&(fn===null?fn=T:fn.push.apply(fn,T))}h=A}if(T=!1,h!==2)continue}}if(h===1){Ir(a,0),$a(a,i,0,!0);break}e:{switch(c=a,T=h,T){case 0:case 1:throw Error(r(345));case 4:if((i&4194048)!==i)break;case 6:$a(c,i,Bn,!qa);break e;case 2:fn=null;break;case 3:case 5:break;default:throw Error(r(329))}if((i&62914560)===i&&(h=Cd+300-tn(),10<h)){if($a(c,i,Bn,!qa),Dt(c,0,!0)!==0)break e;c.timeoutHandle=Kp(Ep.bind(null,c,s,fn,Nl,vd,i,Bn,wi,Sr,qa,T,2,-0,0),h);break e}Ep(c,s,fn,Nl,vd,i,Bn,wi,Sr,qa,T,0,-0,0)}}break}while(!0);ia(a)}function Ep(a,i,s,c,h,T,A,N,P,Z,ue,de,ee,te){if(a.timeoutHandle=-1,de=i.subtreeFlags,(de&8192||(de&16785408)===16785408)&&(Qo={stylesheets:null,count:0,unsuspend:Dv},mp(i),de=kv(),de!==null)){a.cancelPendingCommit=de(Ip.bind(null,a,i,T,s,c,h,A,N,P,ue,1,ee,te)),$a(a,T,A,!Z);return}Ip(a,i,T,s,c,h,A,N,P)}function $x(a){for(var i=a;;){var s=i.tag;if((s===0||s===11||s===15)&&i.flags&16384&&(s=i.updateQueue,s!==null&&(s=s.stores,s!==null)))for(var c=0;c<s.length;c++){var h=s[c],T=h.getSnapshot;h=h.value;try{if(!bn(T(),h))return!1}catch{return!1}}if(s=i.child,i.subtreeFlags&16384&&s!==null)s.return=i,i=s;else{if(i===a)break;for(;i.sibling===null;){if(i.return===null||i.return===a)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function $a(a,i,s,c){i&=~xd,i&=~wi,a.suspendedLanes|=i,a.pingedLanes&=~i,c&&(a.warmLanes|=i),c=a.expirationTimes;for(var h=i;0<h;){var T=31-Le(h),A=1<<T;c[T]=-1,h&=~A}s!==0&&yn(a,s,i)}function Ml(){return(ct&6)===0?(Vo(0),!1):!0}function Id(){if(Je!==null){if(dt===0)var a=Je.return;else a=Je,Ea=Ii=null,Gc(a),Tr=null,Ro=0,a=Je;for(;a!==null;)Z0(a.alternate,a),a=a.return;Je=null}}function Ir(a,i){var s=a.timeoutHandle;s!==-1&&(a.timeoutHandle=-1,mv(s)),s=a.cancelPendingCommit,s!==null&&(a.cancelPendingCommit=null,s()),Id(),yt=a,Je=s=ya(a.current,null),nt=i,dt=0,vn=null,qa=!1,Cr=on(a,i),Ed=!1,Sr=Bn=xd=wi=Ya=At=0,fn=Ho=null,vd=!1,(i&8)!==0&&(i|=i&32);var c=a.entangledLanes;if(c!==0)for(a=a.entanglements,c&=i;0<c;){var h=31-Le(c),T=1<<h;i|=a[h],c&=~T}return Na=i,Ws(),s}function xp(a,i){Ke=null,W.H=gl,i===vo||i===ol?(i=Fh(),dt=3):i===Oh?(i=Fh(),dt=4):dt=i===H0?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,vn=i,Je===null&&(At=1,xl(a,kn(i,a.current)))}function vp(){var a=W.H;return W.H=gl,a===null?gl:a}function Cp(){var a=W.A;return W.A=Qx,a}function Nd(){At=4,qa||(nt&4194048)!==nt&&Pn.current!==null||(Cr=!0),(Ya&134217727)===0&&(wi&134217727)===0||yt===null||$a(yt,nt,Bn,!1)}function Md(a,i,s){var c=ct;ct|=2;var h=vp(),T=Cp();(yt!==a||nt!==i)&&(Nl=null,Ir(a,i)),i=!1;var A=At;e:do try{if(dt!==0&&Je!==null){var N=Je,P=vn;switch(dt){case 8:Id(),A=6;break e;case 3:case 2:case 9:case 6:Pn.current===null&&(i=!0);var Z=dt;if(dt=0,vn=null,Nr(a,N,P,Z),s&&Cr){A=0;break e}break;default:Z=dt,dt=0,vn=null,Nr(a,N,P,Z)}}Xx(),A=At;break}catch(ue){xp(a,ue)}while(!0);return i&&a.shellSuspendCounter++,Ea=Ii=null,ct=c,W.H=h,W.A=T,Je===null&&(yt=null,nt=0,Ws()),A}function Xx(){for(;Je!==null;)Sp(Je)}function Wx(a,i){var s=ct;ct|=2;var c=vp(),h=Cp();yt!==a||nt!==i?(Nl=null,Il=tn()+500,Ir(a,i)):Cr=on(a,i);e:do try{if(dt!==0&&Je!==null){i=Je;var T=vn;t:switch(dt){case 1:dt=0,vn=null,Nr(a,i,T,1);break;case 2:case 9:if(Ph(T)){dt=0,vn=null,Ap(i);break}i=function(){dt!==2&&dt!==9||yt!==a||(dt=7),ia(a)},T.then(i,i);break e;case 3:dt=7;break e;case 4:dt=5;break e;case 7:Ph(T)?(dt=0,vn=null,Ap(i)):(dt=0,vn=null,Nr(a,i,T,7));break;case 5:var A=null;switch(Je.tag){case 26:A=Je.memoizedState;case 5:case 27:var N=Je;if(!A||og(A)){dt=0,vn=null;var P=N.sibling;if(P!==null)Je=P;else{var Z=N.return;Z!==null?(Je=Z,Dl(Z)):Je=null}break t}}dt=0,vn=null,Nr(a,i,T,5);break;case 6:dt=0,vn=null,Nr(a,i,T,6);break;case 8:Id(),At=6;break e;default:throw Error(r(462))}}Jx();break}catch(ue){xp(a,ue)}while(!0);return Ea=Ii=null,W.H=c,W.A=h,ct=s,Je!==null?0:(yt=null,nt=0,Ws(),At)}function Jx(){for(;Je!==null&&!Ge();)Sp(Je)}function Sp(a){var i=W0(a.alternate,a,Na);a.memoizedProps=a.pendingProps,i===null?Dl(a):Je=i}function Ap(a){var i=a,s=i.alternate;switch(i.tag){case 15:case 0:i=q0(s,i,i.pendingProps,i.type,void 0,nt);break;case 11:i=q0(s,i,i.pendingProps,i.type.render,i.ref,nt);break;case 5:Gc(i);default:Z0(s,i),i=Je=_h(i,Na),i=W0(s,i,Na)}a.memoizedProps=a.pendingProps,i===null?Dl(a):Je=i}function Nr(a,i,s,c){Ea=Ii=null,Gc(i),Tr=null,Ro=0;var h=i.return;try{if(Vx(a,h,i,s,nt)){At=1,xl(a,kn(s,a.current)),Je=null;return}}catch(T){if(h!==null)throw Je=h,T;At=1,xl(a,kn(s,a.current)),Je=null;return}i.flags&32768?(lt||c===1?a=!0:Cr||(nt&536870912)!==0?a=!1:(qa=a=!0,(c===2||c===9||c===3||c===6)&&(c=Pn.current,c!==null&&c.tag===13&&(c.flags|=16384))),_p(i,a)):Dl(i)}function Dl(a){var i=a;do{if((i.flags&32768)!==0){_p(i,qa);return}a=i.return;var s=jx(i.alternate,i,Na);if(s!==null){Je=s;return}if(i=i.sibling,i!==null){Je=i;return}Je=i=a}while(i!==null);At===0&&(At=5)}function _p(a,i){do{var s=Gx(a.alternate,a);if(s!==null){s.flags&=32767,Je=s;return}if(s=a.return,s!==null&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!i&&(a=a.sibling,a!==null)){Je=a;return}Je=a=s}while(a!==null);At=6,Je=null}function Ip(a,i,s,c,h,T,A,N,P){a.cancelPendingCommit=null;do Rl();while(qt!==0);if((ct&6)!==0)throw Error(r(327));if(i!==null){if(i===a.current)throw Error(r(177));if(T=i.lanes|i.childLanes,T|=Tc,Yu(a,s,T,A,N,P),a===yt&&(Je=yt=null,nt=0),Ar=i,Ka=a,_r=s,Sd=T,Ad=h,yp=c,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(a.callbackNode=null,a.callbackPriority=0,nv(da,function(){return kp(),null})):(a.callbackNode=null,a.callbackPriority=0),c=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||c){c=W.T,W.T=null,h=j.p,j.p=2,A=ct,ct|=4;try{qx(a,i,s)}finally{ct=A,j.p=h,W.T=c}}qt=1,Np(),Mp(),Dp()}}function Np(){if(qt===1){qt=0;var a=Ka,i=Ar,s=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||s){s=W.T,W.T=null;var c=j.p;j.p=2;var h=ct;ct|=4;try{cp(i,a);var T=Vd,A=gh(a.containerInfo),N=T.focusedElem,P=T.selectionRange;if(A!==N&&N&&N.ownerDocument&&ph(N.ownerDocument.documentElement,N)){if(P!==null&&hc(N)){var Z=P.start,ue=P.end;if(ue===void 0&&(ue=Z),"selectionStart"in N)N.selectionStart=Z,N.selectionEnd=Math.min(ue,N.value.length);else{var de=N.ownerDocument||document,ee=de&&de.defaultView||window;if(ee.getSelection){var te=ee.getSelection(),Fe=N.textContent.length,Pe=Math.min(P.start,Fe),ht=P.end===void 0?Pe:Math.min(P.end,Fe);!te.extend&&Pe>ht&&(A=ht,ht=Pe,Pe=A);var Y=hh(N,Pe),V=hh(N,ht);if(Y&&V&&(te.rangeCount!==1||te.anchorNode!==Y.node||te.anchorOffset!==Y.offset||te.focusNode!==V.node||te.focusOffset!==V.offset)){var X=de.createRange();X.setStart(Y.node,Y.offset),te.removeAllRanges(),Pe>ht?(te.addRange(X),te.extend(V.node,V.offset)):(X.setEnd(V.node,V.offset),te.addRange(X))}}}}for(de=[],te=N;te=te.parentNode;)te.nodeType===1&&de.push({element:te,left:te.scrollLeft,top:te.scrollTop});for(typeof N.focus=="function"&&N.focus(),N=0;N<de.length;N++){var ce=de[N];ce.element.scrollLeft=ce.left,ce.element.scrollTop=ce.top}}jl=!!Ud,Vd=Ud=null}finally{ct=h,j.p=c,W.T=s}}a.current=i,qt=2}}function Mp(){if(qt===2){qt=0;var a=Ka,i=Ar,s=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||s){s=W.T,W.T=null;var c=j.p;j.p=2;var h=ct;ct|=4;try{op(a,i.alternate,i)}finally{ct=h,j.p=c,W.T=s}}qt=3}}function Dp(){if(qt===4||qt===3){qt=0,Et();var a=Ka,i=Ar,s=_r,c=yp;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?qt=5:(qt=0,Ar=Ka=null,Rp(a,a.pendingLanes));var h=a.pendingLanes;if(h===0&&(Qa=null),ne(s),i=i.stateNode,ge&&typeof ge.onCommitFiberRoot=="function")try{ge.onCommitFiberRoot(le,i,void 0,(i.current.flags&128)===128)}catch{}if(c!==null){i=W.T,h=j.p,j.p=2,W.T=null;try{for(var T=a.onRecoverableError,A=0;A<c.length;A++){var N=c[A];T(N.value,{componentStack:N.stack})}}finally{W.T=i,j.p=h}}(_r&3)!==0&&Rl(),ia(a),h=a.pendingLanes,(s&4194090)!==0&&(h&42)!==0?a===_d?Uo++:(Uo=0,_d=a):Uo=0,Vo(0)}}function Rp(a,i){(a.pooledCacheLanes&=i)===0&&(i=a.pooledCache,i!=null&&(a.pooledCache=null,Eo(i)))}function Rl(a){return Np(),Mp(),Dp(),kp()}function kp(){if(qt!==5)return!1;var a=Ka,i=Sd;Sd=0;var s=ne(_r),c=W.T,h=j.p;try{j.p=32>s?32:s,W.T=null,s=Ad,Ad=null;var T=Ka,A=_r;if(qt=0,Ar=Ka=null,_r=0,(ct&6)!==0)throw Error(r(331));var N=ct;if(ct|=4,pp(T.current),fp(T,T.current,A,s),ct=N,Vo(0,!1),ge&&typeof ge.onPostCommitFiberRoot=="function")try{ge.onPostCommitFiberRoot(le,T)}catch{}return!0}finally{j.p=h,W.T=c,Rp(a,i)}}function wp(a,i,s){i=kn(s,i),i=id(a.stateNode,i,2),a=Fa(a,i,2),a!==null&&(hi(a,2),ia(a))}function pt(a,i,s){if(a.tag===3)wp(a,a,s);else for(;i!==null;){if(i.tag===3){wp(i,a,s);break}else if(i.tag===1){var c=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(Qa===null||!Qa.has(c))){a=kn(s,a),s=B0(2),c=Fa(i,s,2),c!==null&&(F0(s,c,i,a),hi(c,2),ia(c));break}}i=i.return}}function Dd(a,i,s){var c=a.pingCache;if(c===null){c=a.pingCache=new Kx;var h=new Set;c.set(i,h)}else h=c.get(i),h===void 0&&(h=new Set,c.set(i,h));h.has(s)||(Ed=!0,h.add(s),a=Zx.bind(null,a,i,s),i.then(a,a))}function Zx(a,i,s){var c=a.pingCache;c!==null&&c.delete(i),a.pingedLanes|=a.suspendedLanes&s,a.warmLanes&=~s,yt===a&&(nt&s)===s&&(At===4||At===3&&(nt&62914560)===nt&&300>tn()-Cd?(ct&2)===0&&Ir(a,0):xd|=s,Sr===nt&&(Sr=0)),ia(a)}function Lp(a,i){i===0&&(i=Fs()),a=ur(a,i),a!==null&&(hi(a,i),ia(a))}function ev(a){var i=a.memoizedState,s=0;i!==null&&(s=i.retryLane),Lp(a,s)}function tv(a,i){var s=0;switch(a.tag){case 13:var c=a.stateNode,h=a.memoizedState;h!==null&&(s=h.retryLane);break;case 19:c=a.stateNode;break;case 22:c=a.stateNode._retryCache;break;default:throw Error(r(314))}c!==null&&c.delete(i),Lp(a,s)}function nv(a,i){return Ie(a,i)}var kl=null,Mr=null,Rd=!1,wl=!1,kd=!1,Li=0;function ia(a){a!==Mr&&a.next===null&&(Mr===null?kl=Mr=a:Mr=Mr.next=a),wl=!0,Rd||(Rd=!0,iv())}function Vo(a,i){if(!kd&&wl){kd=!0;do for(var s=!1,c=kl;c!==null;){if(a!==0){var h=c.pendingLanes;if(h===0)var T=0;else{var A=c.suspendedLanes,N=c.pingedLanes;T=(1<<31-Le(42|a)+1)-1,T&=h&~(A&~N),T=T&201326741?T&201326741|1:T?T|2:0}T!==0&&(s=!0,Fp(c,T))}else T=nt,T=Dt(c,c===yt?T:0,c.cancelPendingCommit!==null||c.timeoutHandle!==-1),(T&3)===0||on(c,T)||(s=!0,Fp(c,T));c=c.next}while(s);kd=!1}}function av(){Op()}function Op(){wl=Rd=!1;var a=0;Li!==0&&(fv()&&(a=Li),Li=0);for(var i=tn(),s=null,c=kl;c!==null;){var h=c.next,T=Pp(c,i);T===0?(c.next=null,s===null?kl=h:s.next=h,h===null&&(Mr=s)):(s=c,(a!==0||(T&3)!==0)&&(wl=!0)),c=h}Vo(a)}function Pp(a,i){for(var s=a.suspendedLanes,c=a.pingedLanes,h=a.expirationTimes,T=a.pendingLanes&-62914561;0<T;){var A=31-Le(T),N=1<<A,P=h[A];P===-1?((N&s)===0||(N&c)!==0)&&(h[A]=sn(N,i)):P<=i&&(a.expiredLanes|=N),T&=~N}if(i=yt,s=nt,s=Dt(a,a===i?s:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),c=a.callbackNode,s===0||a===i&&(dt===2||dt===9)||a.cancelPendingCommit!==null)return c!==null&&c!==null&&je(c),a.callbackNode=null,a.callbackPriority=0;if((s&3)===0||on(a,s)){if(i=s&-s,i===a.callbackPriority)return i;switch(c!==null&&je(c),ne(s)){case 2:case 8:s=ka;break;case 32:s=da;break;case 268435456:s=Ft;break;default:s=da}return c=Bp.bind(null,a),s=Ie(s,c),a.callbackPriority=i,a.callbackNode=s,i}return c!==null&&c!==null&&je(c),a.callbackPriority=2,a.callbackNode=null,2}function Bp(a,i){if(qt!==0&&qt!==5)return a.callbackNode=null,a.callbackPriority=0,null;var s=a.callbackNode;if(Rl()&&a.callbackNode!==s)return null;var c=nt;return c=Dt(a,a===yt?c:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),c===0?null:(Tp(a,c,i),Pp(a,tn()),a.callbackNode!=null&&a.callbackNode===s?Bp.bind(null,a):null)}function Fp(a,i){if(Rl())return null;Tp(a,i,!0)}function iv(){hv(function(){(ct&6)!==0?Ie(fi,av):Op()})}function wd(){return Li===0&&(Li=Bs()),Li}function Hp(a){return a==null||typeof a=="symbol"||typeof a=="boolean"?null:typeof a=="function"?a:Gs(""+a)}function Up(a,i){var s=i.ownerDocument.createElement("input");return s.name=i.name,s.value=i.value,a.id&&s.setAttribute("form",a.id),i.parentNode.insertBefore(s,i),a=new FormData(a),s.parentNode.removeChild(s),a}function rv(a,i,s,c,h){if(i==="submit"&&s&&s.stateNode===h){var T=Hp((h[Qe]||null).action),A=c.submitter;A&&(i=(i=A[Qe]||null)?Hp(i.formAction):A.getAttribute("formAction"),i!==null&&(T=i,A=null));var N=new Ks("action","action",null,c,h);a.push({event:N,listeners:[{instance:null,listener:function(){if(c.defaultPrevented){if(Li!==0){var P=A?Up(h,A):new FormData(h);Zc(s,{pending:!0,data:P,method:h.method,action:T},null,P)}}else typeof T=="function"&&(N.preventDefault(),P=A?Up(h,A):new FormData(h),Zc(s,{pending:!0,data:P,method:h.method,action:T},T,P))},currentTarget:h}]})}}for(var Ld=0;Ld<bc.length;Ld++){var Od=bc[Ld],ov=Od.toLowerCase(),sv=Od[0].toUpperCase()+Od.slice(1);Yn(ov,"on"+sv)}Yn(Th,"onAnimationEnd"),Yn(Eh,"onAnimationIteration"),Yn(xh,"onAnimationStart"),Yn("dblclick","onDoubleClick"),Yn("focusin","onFocus"),Yn("focusout","onBlur"),Yn(Sx,"onTransitionRun"),Yn(Ax,"onTransitionStart"),Yn(_x,"onTransitionCancel"),Yn(vh,"onTransitionEnd"),yi("onMouseEnter",["mouseout","mouseover"]),yi("onMouseLeave",["mouseout","mouseover"]),yi("onPointerEnter",["pointerout","pointerover"]),yi("onPointerLeave",["pointerout","pointerover"]),ma("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ma("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ma("onBeforeInput",["compositionend","keypress","textInput","paste"]),ma("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ma("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ma("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var zo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),lv=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(zo));function Vp(a,i){i=(i&4)!==0;for(var s=0;s<a.length;s++){var c=a[s],h=c.event;c=c.listeners;e:{var T=void 0;if(i)for(var A=c.length-1;0<=A;A--){var N=c[A],P=N.instance,Z=N.currentTarget;if(N=N.listener,P!==T&&h.isPropagationStopped())break e;T=N,h.currentTarget=Z;try{T(h)}catch(ue){El(ue)}h.currentTarget=null,T=P}else for(A=0;A<c.length;A++){if(N=c[A],P=N.instance,Z=N.currentTarget,N=N.listener,P!==T&&h.isPropagationStopped())break e;T=N,h.currentTarget=Z;try{T(h)}catch(ue){El(ue)}h.currentTarget=null,T=P}}}}function Ze(a,i){var s=i[ao];s===void 0&&(s=i[ao]=new Set);var c=a+"__bubble";s.has(c)||(zp(i,a,2,!1),s.add(c))}function Pd(a,i,s){var c=0;i&&(c|=4),zp(s,a,c,i)}var Ll="_reactListening"+Math.random().toString(36).slice(2);function Bd(a){if(!a[Ll]){a[Ll]=!0,Us.forEach(function(s){s!=="selectionchange"&&(lv.has(s)||Pd(s,!1,a),Pd(s,!0,a))});var i=a.nodeType===9?a:a.ownerDocument;i===null||i[Ll]||(i[Ll]=!0,Pd("selectionchange",!1,i))}}function zp(a,i,s,c){switch(fg(i)){case 2:var h=Ov;break;case 8:h=Pv;break;default:h=Wd}s=h.bind(null,i,s,a),h=void 0,!rc||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(h=!0),c?h!==void 0?a.addEventListener(i,s,{capture:!0,passive:h}):a.addEventListener(i,s,!0):h!==void 0?a.addEventListener(i,s,{passive:h}):a.addEventListener(i,s,!1)}function Fd(a,i,s,c,h){var T=c;if((i&1)===0&&(i&2)===0&&c!==null)e:for(;;){if(c===null)return;var A=c.tag;if(A===3||A===4){var N=c.stateNode.containerInfo;if(N===h)break;if(A===4)for(A=c.return;A!==null;){var P=A.tag;if((P===3||P===4)&&A.stateNode.containerInfo===h)return;A=A.return}for(;N!==null;){if(A=qn(N),A===null)return;if(P=A.tag,P===5||P===6||P===26||P===27){c=T=A;continue e}N=N.parentNode}}c=c.return}$m(function(){var Z=T,ue=ac(s),de=[];e:{var ee=Ch.get(a);if(ee!==void 0){var te=Ks,Fe=a;switch(a){case"keypress":if(Ys(s)===0)break e;case"keydown":case"keyup":te=nx;break;case"focusin":Fe="focus",te=uc;break;case"focusout":Fe="blur",te=uc;break;case"beforeblur":case"afterblur":te=uc;break;case"click":if(s.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":te=Jm;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":te=GE;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":te=rx;break;case Th:case Eh:case xh:te=QE;break;case vh:te=sx;break;case"scroll":case"scrollend":te=zE;break;case"wheel":te=ux;break;case"copy":case"cut":case"paste":te=$E;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":te=eh;break;case"toggle":case"beforetoggle":te=dx}var Pe=(i&4)!==0,ht=!Pe&&(a==="scroll"||a==="scrollend"),Y=Pe?ee!==null?ee+"Capture":null:ee;Pe=[];for(var V=Z,X;V!==null;){var ce=V;if(X=ce.stateNode,ce=ce.tag,ce!==5&&ce!==26&&ce!==27||X===null||Y===null||(ce=oo(V,Y),ce!=null&&Pe.push(jo(V,ce,X))),ht)break;V=V.return}0<Pe.length&&(ee=new te(ee,Fe,null,s,ue),de.push({event:ee,listeners:Pe}))}}if((i&7)===0){e:{if(ee=a==="mouseover"||a==="pointerover",te=a==="mouseout"||a==="pointerout",ee&&s!==nc&&(Fe=s.relatedTarget||s.fromElement)&&(qn(Fe)||Fe[Gn]))break e;if((te||ee)&&(ee=ue.window===ue?ue:(ee=ue.ownerDocument)?ee.defaultView||ee.parentWindow:window,te?(Fe=s.relatedTarget||s.toElement,te=Z,Fe=Fe?qn(Fe):null,Fe!==null&&(ht=l(Fe),Pe=Fe.tag,Fe!==ht||Pe!==5&&Pe!==27&&Pe!==6)&&(Fe=null)):(te=null,Fe=Z),te!==Fe)){if(Pe=Jm,ce="onMouseLeave",Y="onMouseEnter",V="mouse",(a==="pointerout"||a==="pointerover")&&(Pe=eh,ce="onPointerLeave",Y="onPointerEnter",V="pointer"),ht=te==null?ee:gi(te),X=Fe==null?ee:gi(Fe),ee=new Pe(ce,V+"leave",te,s,ue),ee.target=ht,ee.relatedTarget=X,ce=null,qn(ue)===Z&&(Pe=new Pe(Y,V+"enter",Fe,s,ue),Pe.target=X,Pe.relatedTarget=ht,ce=Pe),ht=ce,te&&Fe)t:{for(Pe=te,Y=Fe,V=0,X=Pe;X;X=Dr(X))V++;for(X=0,ce=Y;ce;ce=Dr(ce))X++;for(;0<V-X;)Pe=Dr(Pe),V--;for(;0<X-V;)Y=Dr(Y),X--;for(;V--;){if(Pe===Y||Y!==null&&Pe===Y.alternate)break t;Pe=Dr(Pe),Y=Dr(Y)}Pe=null}else Pe=null;te!==null&&jp(de,ee,te,Pe,!1),Fe!==null&&ht!==null&&jp(de,ht,Fe,Pe,!0)}}e:{if(ee=Z?gi(Z):window,te=ee.nodeName&&ee.nodeName.toLowerCase(),te==="select"||te==="input"&&ee.type==="file")var Me=lh;else if(oh(ee))if(uh)Me=xx;else{Me=Tx;var $e=bx}else te=ee.nodeName,!te||te.toLowerCase()!=="input"||ee.type!=="checkbox"&&ee.type!=="radio"?Z&&tc(Z.elementType)&&(Me=lh):Me=Ex;if(Me&&(Me=Me(a,Z))){sh(de,Me,s,ue);break e}$e&&$e(a,ee,Z),a==="focusout"&&Z&&ee.type==="number"&&Z.memoizedProps.value!=null&&ec(ee,"number",ee.value)}switch($e=Z?gi(Z):window,a){case"focusin":(oh($e)||$e.contentEditable==="true")&&(or=$e,pc=Z,po=null);break;case"focusout":po=pc=or=null;break;case"mousedown":gc=!0;break;case"contextmenu":case"mouseup":case"dragend":gc=!1,yh(de,s,ue);break;case"selectionchange":if(Cx)break;case"keydown":case"keyup":yh(de,s,ue)}var Re;if(dc)e:{switch(a){case"compositionstart":var Be="onCompositionStart";break e;case"compositionend":Be="onCompositionEnd";break e;case"compositionupdate":Be="onCompositionUpdate";break e}Be=void 0}else rr?ih(a,s)&&(Be="onCompositionEnd"):a==="keydown"&&s.keyCode===229&&(Be="onCompositionStart");Be&&(th&&s.locale!=="ko"&&(rr||Be!=="onCompositionStart"?Be==="onCompositionEnd"&&rr&&(Re=Xm()):(La=ue,oc="value"in La?La.value:La.textContent,rr=!0)),$e=Ol(Z,Be),0<$e.length&&(Be=new Zm(Be,a,null,s,ue),de.push({event:Be,listeners:$e}),Re?Be.data=Re:(Re=rh(s),Re!==null&&(Be.data=Re)))),(Re=mx?hx(a,s):px(a,s))&&(Be=Ol(Z,"onBeforeInput"),0<Be.length&&($e=new Zm("onBeforeInput","beforeinput",null,s,ue),de.push({event:$e,listeners:Be}),$e.data=Re)),rv(de,a,Z,s,ue)}Vp(de,i)})}function jo(a,i,s){return{instance:a,listener:i,currentTarget:s}}function Ol(a,i){for(var s=i+"Capture",c=[];a!==null;){var h=a,T=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||T===null||(h=oo(a,s),h!=null&&c.unshift(jo(a,h,T)),h=oo(a,i),h!=null&&c.push(jo(a,h,T))),a.tag===3)return c;a=a.return}return[]}function Dr(a){if(a===null)return null;do a=a.return;while(a&&a.tag!==5&&a.tag!==27);return a||null}function jp(a,i,s,c,h){for(var T=i._reactName,A=[];s!==null&&s!==c;){var N=s,P=N.alternate,Z=N.stateNode;if(N=N.tag,P!==null&&P===c)break;N!==5&&N!==26&&N!==27||Z===null||(P=Z,h?(Z=oo(s,T),Z!=null&&A.unshift(jo(s,Z,P))):h||(Z=oo(s,T),Z!=null&&A.push(jo(s,Z,P)))),s=s.return}A.length!==0&&a.push({event:i,listeners:A})}var uv=/\r\n?/g,cv=/\u0000|\uFFFD/g;function Gp(a){return(typeof a=="string"?a:""+a).replace(uv,`
`).replace(cv,"")}function qp(a,i){return i=Gp(i),Gp(a)===i}function Pl(){}function mt(a,i,s,c,h,T){switch(s){case"children":typeof c=="string"?i==="body"||i==="textarea"&&c===""||nr(a,c):(typeof c=="number"||typeof c=="bigint")&&i!=="body"&&nr(a,""+c);break;case"className":Vs(a,"class",c);break;case"tabIndex":Vs(a,"tabindex",c);break;case"dir":case"role":case"viewBox":case"width":case"height":Vs(a,s,c);break;case"style":Qm(a,c,T);break;case"data":if(i!=="object"){Vs(a,"data",c);break}case"src":case"href":if(c===""&&(i!=="a"||s!=="href")){a.removeAttribute(s);break}if(c==null||typeof c=="function"||typeof c=="symbol"||typeof c=="boolean"){a.removeAttribute(s);break}c=Gs(""+c),a.setAttribute(s,c);break;case"action":case"formAction":if(typeof c=="function"){a.setAttribute(s,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof T=="function"&&(s==="formAction"?(i!=="input"&&mt(a,i,"name",h.name,h,null),mt(a,i,"formEncType",h.formEncType,h,null),mt(a,i,"formMethod",h.formMethod,h,null),mt(a,i,"formTarget",h.formTarget,h,null)):(mt(a,i,"encType",h.encType,h,null),mt(a,i,"method",h.method,h,null),mt(a,i,"target",h.target,h,null)));if(c==null||typeof c=="symbol"||typeof c=="boolean"){a.removeAttribute(s);break}c=Gs(""+c),a.setAttribute(s,c);break;case"onClick":c!=null&&(a.onclick=Pl);break;case"onScroll":c!=null&&Ze("scroll",a);break;case"onScrollEnd":c!=null&&Ze("scrollend",a);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(r(61));if(s=c.__html,s!=null){if(h.children!=null)throw Error(r(60));a.innerHTML=s}}break;case"multiple":a.multiple=c&&typeof c!="function"&&typeof c!="symbol";break;case"muted":a.muted=c&&typeof c!="function"&&typeof c!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(c==null||typeof c=="function"||typeof c=="boolean"||typeof c=="symbol"){a.removeAttribute("xlink:href");break}s=Gs(""+c),a.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":c!=null&&typeof c!="function"&&typeof c!="symbol"?a.setAttribute(s,""+c):a.removeAttribute(s);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":c&&typeof c!="function"&&typeof c!="symbol"?a.setAttribute(s,""):a.removeAttribute(s);break;case"capture":case"download":c===!0?a.setAttribute(s,""):c!==!1&&c!=null&&typeof c!="function"&&typeof c!="symbol"?a.setAttribute(s,c):a.removeAttribute(s);break;case"cols":case"rows":case"size":case"span":c!=null&&typeof c!="function"&&typeof c!="symbol"&&!isNaN(c)&&1<=c?a.setAttribute(s,c):a.removeAttribute(s);break;case"rowSpan":case"start":c==null||typeof c=="function"||typeof c=="symbol"||isNaN(c)?a.removeAttribute(s):a.setAttribute(s,c);break;case"popover":Ze("beforetoggle",a),Ze("toggle",a),bi(a,"popover",c);break;case"xlinkActuate":pa(a,"http://www.w3.org/1999/xlink","xlink:actuate",c);break;case"xlinkArcrole":pa(a,"http://www.w3.org/1999/xlink","xlink:arcrole",c);break;case"xlinkRole":pa(a,"http://www.w3.org/1999/xlink","xlink:role",c);break;case"xlinkShow":pa(a,"http://www.w3.org/1999/xlink","xlink:show",c);break;case"xlinkTitle":pa(a,"http://www.w3.org/1999/xlink","xlink:title",c);break;case"xlinkType":pa(a,"http://www.w3.org/1999/xlink","xlink:type",c);break;case"xmlBase":pa(a,"http://www.w3.org/XML/1998/namespace","xml:base",c);break;case"xmlLang":pa(a,"http://www.w3.org/XML/1998/namespace","xml:lang",c);break;case"xmlSpace":pa(a,"http://www.w3.org/XML/1998/namespace","xml:space",c);break;case"is":bi(a,"is",c);break;case"innerText":case"textContent":break;default:(!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(s=UE.get(s)||s,bi(a,s,c))}}function Hd(a,i,s,c,h,T){switch(s){case"style":Qm(a,c,T);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(r(61));if(s=c.__html,s!=null){if(h.children!=null)throw Error(r(60));a.innerHTML=s}}break;case"children":typeof c=="string"?nr(a,c):(typeof c=="number"||typeof c=="bigint")&&nr(a,""+c);break;case"onScroll":c!=null&&Ze("scroll",a);break;case"onScrollEnd":c!=null&&Ze("scrollend",a);break;case"onClick":c!=null&&(a.onclick=Pl);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ro.hasOwnProperty(s))e:{if(s[0]==="o"&&s[1]==="n"&&(h=s.endsWith("Capture"),i=s.slice(2,h?s.length-7:void 0),T=a[Qe]||null,T=T!=null?T[s]:null,typeof T=="function"&&a.removeEventListener(i,T,h),typeof c=="function")){typeof T!="function"&&T!==null&&(s in a?a[s]=null:a.hasAttribute(s)&&a.removeAttribute(s)),a.addEventListener(i,c,h);break e}s in a?a[s]=c:c===!0?a.setAttribute(s,""):bi(a,s,c)}}}function Yt(a,i,s){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ze("error",a),Ze("load",a);var c=!1,h=!1,T;for(T in s)if(s.hasOwnProperty(T)){var A=s[T];if(A!=null)switch(T){case"src":c=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,i));default:mt(a,i,T,A,s,null)}}h&&mt(a,i,"srcSet",s.srcSet,s,null),c&&mt(a,i,"src",s.src,s,null);return;case"input":Ze("invalid",a);var N=T=A=h=null,P=null,Z=null;for(c in s)if(s.hasOwnProperty(c)){var ue=s[c];if(ue!=null)switch(c){case"name":h=ue;break;case"type":A=ue;break;case"checked":P=ue;break;case"defaultChecked":Z=ue;break;case"value":T=ue;break;case"defaultValue":N=ue;break;case"children":case"dangerouslySetInnerHTML":if(ue!=null)throw Error(r(137,i));break;default:mt(a,i,c,ue,s,null)}}jm(a,T,N,P,Z,A,h,!1),zs(a);return;case"select":Ze("invalid",a),c=A=T=null;for(h in s)if(s.hasOwnProperty(h)&&(N=s[h],N!=null))switch(h){case"value":T=N;break;case"defaultValue":A=N;break;case"multiple":c=N;default:mt(a,i,h,N,s,null)}i=T,s=A,a.multiple=!!c,i!=null?tr(a,!!c,i,!1):s!=null&&tr(a,!!c,s,!0);return;case"textarea":Ze("invalid",a),T=h=c=null;for(A in s)if(s.hasOwnProperty(A)&&(N=s[A],N!=null))switch(A){case"value":c=N;break;case"defaultValue":h=N;break;case"children":T=N;break;case"dangerouslySetInnerHTML":if(N!=null)throw Error(r(91));break;default:mt(a,i,A,N,s,null)}qm(a,c,h,T),zs(a);return;case"option":for(P in s)if(s.hasOwnProperty(P)&&(c=s[P],c!=null))switch(P){case"selected":a.selected=c&&typeof c!="function"&&typeof c!="symbol";break;default:mt(a,i,P,c,s,null)}return;case"dialog":Ze("beforetoggle",a),Ze("toggle",a),Ze("cancel",a),Ze("close",a);break;case"iframe":case"object":Ze("load",a);break;case"video":case"audio":for(c=0;c<zo.length;c++)Ze(zo[c],a);break;case"image":Ze("error",a),Ze("load",a);break;case"details":Ze("toggle",a);break;case"embed":case"source":case"link":Ze("error",a),Ze("load",a);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Z in s)if(s.hasOwnProperty(Z)&&(c=s[Z],c!=null))switch(Z){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,i));default:mt(a,i,Z,c,s,null)}return;default:if(tc(i)){for(ue in s)s.hasOwnProperty(ue)&&(c=s[ue],c!==void 0&&Hd(a,i,ue,c,s,void 0));return}}for(N in s)s.hasOwnProperty(N)&&(c=s[N],c!=null&&mt(a,i,N,c,s,null))}function dv(a,i,s,c){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,T=null,A=null,N=null,P=null,Z=null,ue=null;for(te in s){var de=s[te];if(s.hasOwnProperty(te)&&de!=null)switch(te){case"checked":break;case"value":break;case"defaultValue":P=de;default:c.hasOwnProperty(te)||mt(a,i,te,null,c,de)}}for(var ee in c){var te=c[ee];if(de=s[ee],c.hasOwnProperty(ee)&&(te!=null||de!=null))switch(ee){case"type":T=te;break;case"name":h=te;break;case"checked":Z=te;break;case"defaultChecked":ue=te;break;case"value":A=te;break;case"defaultValue":N=te;break;case"children":case"dangerouslySetInnerHTML":if(te!=null)throw Error(r(137,i));break;default:te!==de&&mt(a,i,ee,te,c,de)}}Zu(a,A,N,P,Z,ue,T,h);return;case"select":te=A=N=ee=null;for(T in s)if(P=s[T],s.hasOwnProperty(T)&&P!=null)switch(T){case"value":break;case"multiple":te=P;default:c.hasOwnProperty(T)||mt(a,i,T,null,c,P)}for(h in c)if(T=c[h],P=s[h],c.hasOwnProperty(h)&&(T!=null||P!=null))switch(h){case"value":ee=T;break;case"defaultValue":N=T;break;case"multiple":A=T;default:T!==P&&mt(a,i,h,T,c,P)}i=N,s=A,c=te,ee!=null?tr(a,!!s,ee,!1):!!c!=!!s&&(i!=null?tr(a,!!s,i,!0):tr(a,!!s,s?[]:"",!1));return;case"textarea":te=ee=null;for(N in s)if(h=s[N],s.hasOwnProperty(N)&&h!=null&&!c.hasOwnProperty(N))switch(N){case"value":break;case"children":break;default:mt(a,i,N,null,c,h)}for(A in c)if(h=c[A],T=s[A],c.hasOwnProperty(A)&&(h!=null||T!=null))switch(A){case"value":ee=h;break;case"defaultValue":te=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(r(91));break;default:h!==T&&mt(a,i,A,h,c,T)}Gm(a,ee,te);return;case"option":for(var Fe in s)if(ee=s[Fe],s.hasOwnProperty(Fe)&&ee!=null&&!c.hasOwnProperty(Fe))switch(Fe){case"selected":a.selected=!1;break;default:mt(a,i,Fe,null,c,ee)}for(P in c)if(ee=c[P],te=s[P],c.hasOwnProperty(P)&&ee!==te&&(ee!=null||te!=null))switch(P){case"selected":a.selected=ee&&typeof ee!="function"&&typeof ee!="symbol";break;default:mt(a,i,P,ee,c,te)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Pe in s)ee=s[Pe],s.hasOwnProperty(Pe)&&ee!=null&&!c.hasOwnProperty(Pe)&&mt(a,i,Pe,null,c,ee);for(Z in c)if(ee=c[Z],te=s[Z],c.hasOwnProperty(Z)&&ee!==te&&(ee!=null||te!=null))switch(Z){case"children":case"dangerouslySetInnerHTML":if(ee!=null)throw Error(r(137,i));break;default:mt(a,i,Z,ee,c,te)}return;default:if(tc(i)){for(var ht in s)ee=s[ht],s.hasOwnProperty(ht)&&ee!==void 0&&!c.hasOwnProperty(ht)&&Hd(a,i,ht,void 0,c,ee);for(ue in c)ee=c[ue],te=s[ue],!c.hasOwnProperty(ue)||ee===te||ee===void 0&&te===void 0||Hd(a,i,ue,ee,c,te);return}}for(var Y in s)ee=s[Y],s.hasOwnProperty(Y)&&ee!=null&&!c.hasOwnProperty(Y)&&mt(a,i,Y,null,c,ee);for(de in c)ee=c[de],te=s[de],!c.hasOwnProperty(de)||ee===te||ee==null&&te==null||mt(a,i,de,ee,c,te)}var Ud=null,Vd=null;function Bl(a){return a.nodeType===9?a:a.ownerDocument}function Yp(a){switch(a){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Qp(a,i){if(a===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return a===1&&i==="foreignObject"?0:a}function zd(a,i){return a==="textarea"||a==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var jd=null;function fv(){var a=window.event;return a&&a.type==="popstate"?a===jd?!1:(jd=a,!0):(jd=null,!1)}var Kp=typeof setTimeout=="function"?setTimeout:void 0,mv=typeof clearTimeout=="function"?clearTimeout:void 0,$p=typeof Promise=="function"?Promise:void 0,hv=typeof queueMicrotask=="function"?queueMicrotask:typeof $p<"u"?function(a){return $p.resolve(null).then(a).catch(pv)}:Kp;function pv(a){setTimeout(function(){throw a})}function Xa(a){return a==="head"}function Xp(a,i){var s=i,c=0,h=0;do{var T=s.nextSibling;if(a.removeChild(s),T&&T.nodeType===8)if(s=T.data,s==="/$"){if(0<c&&8>c){s=c;var A=a.ownerDocument;if(s&1&&Go(A.documentElement),s&2&&Go(A.body),s&4)for(s=A.head,Go(s),A=s.firstChild;A;){var N=A.nextSibling,P=A.nodeName;A[pi]||P==="SCRIPT"||P==="STYLE"||P==="LINK"&&A.rel.toLowerCase()==="stylesheet"||s.removeChild(A),A=N}}if(h===0){a.removeChild(T),Jo(i);return}h--}else s==="$"||s==="$?"||s==="$!"?h++:c=s.charCodeAt(0)-48;else c=0;s=T}while(s);Jo(i)}function Gd(a){var i=a.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var s=i;switch(i=i.nextSibling,s.nodeName){case"HTML":case"HEAD":case"BODY":Gd(s),io(s);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(s.rel.toLowerCase()==="stylesheet")continue}a.removeChild(s)}}function gv(a,i,s,c){for(;a.nodeType===1;){var h=s;if(a.nodeName.toLowerCase()!==i.toLowerCase()){if(!c&&(a.nodeName!=="INPUT"||a.type!=="hidden"))break}else if(c){if(!a[pi])switch(i){case"meta":if(!a.hasAttribute("itemprop"))break;return a;case"link":if(T=a.getAttribute("rel"),T==="stylesheet"&&a.hasAttribute("data-precedence"))break;if(T!==h.rel||a.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||a.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||a.getAttribute("title")!==(h.title==null?null:h.title))break;return a;case"style":if(a.hasAttribute("data-precedence"))break;return a;case"script":if(T=a.getAttribute("src"),(T!==(h.src==null?null:h.src)||a.getAttribute("type")!==(h.type==null?null:h.type)||a.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&T&&a.hasAttribute("async")&&!a.hasAttribute("itemprop"))break;return a;default:return a}}else if(i==="input"&&a.type==="hidden"){var T=h.name==null?null:""+h.name;if(h.type==="hidden"&&a.getAttribute("name")===T)return a}else return a;if(a=Kn(a.nextSibling),a===null)break}return null}function yv(a,i,s){if(i==="")return null;for(;a.nodeType!==3;)if((a.nodeType!==1||a.nodeName!=="INPUT"||a.type!=="hidden")&&!s||(a=Kn(a.nextSibling),a===null))return null;return a}function qd(a){return a.data==="$!"||a.data==="$?"&&a.ownerDocument.readyState==="complete"}function bv(a,i){var s=a.ownerDocument;if(a.data!=="$?"||s.readyState==="complete")i();else{var c=function(){i(),s.removeEventListener("DOMContentLoaded",c)};s.addEventListener("DOMContentLoaded",c),a._reactRetry=c}}function Kn(a){for(;a!=null;a=a.nextSibling){var i=a.nodeType;if(i===1||i===3)break;if(i===8){if(i=a.data,i==="$"||i==="$!"||i==="$?"||i==="F!"||i==="F")break;if(i==="/$")return null}}return a}var Yd=null;function Wp(a){a=a.previousSibling;for(var i=0;a;){if(a.nodeType===8){var s=a.data;if(s==="$"||s==="$!"||s==="$?"){if(i===0)return a;i--}else s==="/$"&&i++}a=a.previousSibling}return null}function Jp(a,i,s){switch(i=Bl(s),a){case"html":if(a=i.documentElement,!a)throw Error(r(452));return a;case"head":if(a=i.head,!a)throw Error(r(453));return a;case"body":if(a=i.body,!a)throw Error(r(454));return a;default:throw Error(r(451))}}function Go(a){for(var i=a.attributes;i.length;)a.removeAttributeNode(i[0]);io(a)}var Fn=new Map,Zp=new Set;function Fl(a){return typeof a.getRootNode=="function"?a.getRootNode():a.nodeType===9?a:a.ownerDocument}var Ma=j.d;j.d={f:Tv,r:Ev,D:xv,C:vv,L:Cv,m:Sv,X:_v,S:Av,M:Iv};function Tv(){var a=Ma.f(),i=Ml();return a||i}function Ev(a){var i=fa(a);i!==null&&i.tag===5&&i.type==="form"?T0(i):Ma.r(a)}var Rr=typeof document>"u"?null:document;function eg(a,i,s){var c=Rr;if(c&&typeof i=="string"&&i){var h=Rn(i);h='link[rel="'+a+'"][href="'+h+'"]',typeof s=="string"&&(h+='[crossorigin="'+s+'"]'),Zp.has(h)||(Zp.add(h),a={rel:a,crossOrigin:s,href:i},c.querySelector(h)===null&&(i=c.createElement("link"),Yt(i,"link",a),Rt(i),c.head.appendChild(i)))}}function xv(a){Ma.D(a),eg("dns-prefetch",a,null)}function vv(a,i){Ma.C(a,i),eg("preconnect",a,i)}function Cv(a,i,s){Ma.L(a,i,s);var c=Rr;if(c&&a&&i){var h='link[rel="preload"][as="'+Rn(i)+'"]';i==="image"&&s&&s.imageSrcSet?(h+='[imagesrcset="'+Rn(s.imageSrcSet)+'"]',typeof s.imageSizes=="string"&&(h+='[imagesizes="'+Rn(s.imageSizes)+'"]')):h+='[href="'+Rn(a)+'"]';var T=h;switch(i){case"style":T=kr(a);break;case"script":T=wr(a)}Fn.has(T)||(a=g({rel:"preload",href:i==="image"&&s&&s.imageSrcSet?void 0:a,as:i},s),Fn.set(T,a),c.querySelector(h)!==null||i==="style"&&c.querySelector(qo(T))||i==="script"&&c.querySelector(Yo(T))||(i=c.createElement("link"),Yt(i,"link",a),Rt(i),c.head.appendChild(i)))}}function Sv(a,i){Ma.m(a,i);var s=Rr;if(s&&a){var c=i&&typeof i.as=="string"?i.as:"script",h='link[rel="modulepreload"][as="'+Rn(c)+'"][href="'+Rn(a)+'"]',T=h;switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":T=wr(a)}if(!Fn.has(T)&&(a=g({rel:"modulepreload",href:a},i),Fn.set(T,a),s.querySelector(h)===null)){switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(s.querySelector(Yo(T)))return}c=s.createElement("link"),Yt(c,"link",a),Rt(c),s.head.appendChild(c)}}}function Av(a,i,s){Ma.S(a,i,s);var c=Rr;if(c&&a){var h=wa(c).hoistableStyles,T=kr(a);i=i||"default";var A=h.get(T);if(!A){var N={loading:0,preload:null};if(A=c.querySelector(qo(T)))N.loading=5;else{a=g({rel:"stylesheet",href:a,"data-precedence":i},s),(s=Fn.get(T))&&Qd(a,s);var P=A=c.createElement("link");Rt(P),Yt(P,"link",a),P._p=new Promise(function(Z,ue){P.onload=Z,P.onerror=ue}),P.addEventListener("load",function(){N.loading|=1}),P.addEventListener("error",function(){N.loading|=2}),N.loading|=4,Hl(A,i,c)}A={type:"stylesheet",instance:A,count:1,state:N},h.set(T,A)}}}function _v(a,i){Ma.X(a,i);var s=Rr;if(s&&a){var c=wa(s).hoistableScripts,h=wr(a),T=c.get(h);T||(T=s.querySelector(Yo(h)),T||(a=g({src:a,async:!0},i),(i=Fn.get(h))&&Kd(a,i),T=s.createElement("script"),Rt(T),Yt(T,"link",a),s.head.appendChild(T)),T={type:"script",instance:T,count:1,state:null},c.set(h,T))}}function Iv(a,i){Ma.M(a,i);var s=Rr;if(s&&a){var c=wa(s).hoistableScripts,h=wr(a),T=c.get(h);T||(T=s.querySelector(Yo(h)),T||(a=g({src:a,async:!0,type:"module"},i),(i=Fn.get(h))&&Kd(a,i),T=s.createElement("script"),Rt(T),Yt(T,"link",a),s.head.appendChild(T)),T={type:"script",instance:T,count:1,state:null},c.set(h,T))}}function tg(a,i,s,c){var h=(h=re.current)?Fl(h):null;if(!h)throw Error(r(446));switch(a){case"meta":case"title":return null;case"style":return typeof s.precedence=="string"&&typeof s.href=="string"?(i=kr(s.href),s=wa(h).hoistableStyles,c=s.get(i),c||(c={type:"style",instance:null,count:0,state:null},s.set(i,c)),c):{type:"void",instance:null,count:0,state:null};case"link":if(s.rel==="stylesheet"&&typeof s.href=="string"&&typeof s.precedence=="string"){a=kr(s.href);var T=wa(h).hoistableStyles,A=T.get(a);if(A||(h=h.ownerDocument||h,A={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},T.set(a,A),(T=h.querySelector(qo(a)))&&!T._p&&(A.instance=T,A.state.loading=5),Fn.has(a)||(s={rel:"preload",as:"style",href:s.href,crossOrigin:s.crossOrigin,integrity:s.integrity,media:s.media,hrefLang:s.hrefLang,referrerPolicy:s.referrerPolicy},Fn.set(a,s),T||Nv(h,a,s,A.state))),i&&c===null)throw Error(r(528,""));return A}if(i&&c!==null)throw Error(r(529,""));return null;case"script":return i=s.async,s=s.src,typeof s=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=wr(s),s=wa(h).hoistableScripts,c=s.get(i),c||(c={type:"script",instance:null,count:0,state:null},s.set(i,c)),c):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,a))}}function kr(a){return'href="'+Rn(a)+'"'}function qo(a){return'link[rel="stylesheet"]['+a+"]"}function ng(a){return g({},a,{"data-precedence":a.precedence,precedence:null})}function Nv(a,i,s,c){a.querySelector('link[rel="preload"][as="style"]['+i+"]")?c.loading=1:(i=a.createElement("link"),c.preload=i,i.addEventListener("load",function(){return c.loading|=1}),i.addEventListener("error",function(){return c.loading|=2}),Yt(i,"link",s),Rt(i),a.head.appendChild(i))}function wr(a){return'[src="'+Rn(a)+'"]'}function Yo(a){return"script[async]"+a}function ag(a,i,s){if(i.count++,i.instance===null)switch(i.type){case"style":var c=a.querySelector('style[data-href~="'+Rn(s.href)+'"]');if(c)return i.instance=c,Rt(c),c;var h=g({},s,{"data-href":s.href,"data-precedence":s.precedence,href:null,precedence:null});return c=(a.ownerDocument||a).createElement("style"),Rt(c),Yt(c,"style",h),Hl(c,s.precedence,a),i.instance=c;case"stylesheet":h=kr(s.href);var T=a.querySelector(qo(h));if(T)return i.state.loading|=4,i.instance=T,Rt(T),T;c=ng(s),(h=Fn.get(h))&&Qd(c,h),T=(a.ownerDocument||a).createElement("link"),Rt(T);var A=T;return A._p=new Promise(function(N,P){A.onload=N,A.onerror=P}),Yt(T,"link",c),i.state.loading|=4,Hl(T,s.precedence,a),i.instance=T;case"script":return T=wr(s.src),(h=a.querySelector(Yo(T)))?(i.instance=h,Rt(h),h):(c=s,(h=Fn.get(T))&&(c=g({},s),Kd(c,h)),a=a.ownerDocument||a,h=a.createElement("script"),Rt(h),Yt(h,"link",c),a.head.appendChild(h),i.instance=h);case"void":return null;default:throw Error(r(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(c=i.instance,i.state.loading|=4,Hl(c,s.precedence,a));return i.instance}function Hl(a,i,s){for(var c=s.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=c.length?c[c.length-1]:null,T=h,A=0;A<c.length;A++){var N=c[A];if(N.dataset.precedence===i)T=N;else if(T!==h)break}T?T.parentNode.insertBefore(a,T.nextSibling):(i=s.nodeType===9?s.head:s,i.insertBefore(a,i.firstChild))}function Qd(a,i){a.crossOrigin==null&&(a.crossOrigin=i.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=i.referrerPolicy),a.title==null&&(a.title=i.title)}function Kd(a,i){a.crossOrigin==null&&(a.crossOrigin=i.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=i.referrerPolicy),a.integrity==null&&(a.integrity=i.integrity)}var Ul=null;function ig(a,i,s){if(Ul===null){var c=new Map,h=Ul=new Map;h.set(s,c)}else h=Ul,c=h.get(s),c||(c=new Map,h.set(s,c));if(c.has(a))return c;for(c.set(a,null),s=s.getElementsByTagName(a),h=0;h<s.length;h++){var T=s[h];if(!(T[pi]||T[it]||a==="link"&&T.getAttribute("rel")==="stylesheet")&&T.namespaceURI!=="http://www.w3.org/2000/svg"){var A=T.getAttribute(i)||"";A=a+A;var N=c.get(A);N?N.push(T):c.set(A,[T])}}return c}function rg(a,i,s){a=a.ownerDocument||a,a.head.insertBefore(s,i==="title"?a.querySelector("head > title"):null)}function Mv(a,i,s){if(s===1||i.itemProp!=null)return!1;switch(a){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return a=i.disabled,typeof i.precedence=="string"&&a==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function og(a){return!(a.type==="stylesheet"&&(a.state.loading&3)===0)}var Qo=null;function Dv(){}function Rv(a,i,s){if(Qo===null)throw Error(r(475));var c=Qo;if(i.type==="stylesheet"&&(typeof s.media!="string"||matchMedia(s.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var h=kr(s.href),T=a.querySelector(qo(h));if(T){a=T._p,a!==null&&typeof a=="object"&&typeof a.then=="function"&&(c.count++,c=Vl.bind(c),a.then(c,c)),i.state.loading|=4,i.instance=T,Rt(T);return}T=a.ownerDocument||a,s=ng(s),(h=Fn.get(h))&&Qd(s,h),T=T.createElement("link"),Rt(T);var A=T;A._p=new Promise(function(N,P){A.onload=N,A.onerror=P}),Yt(T,"link",s),i.instance=T}c.stylesheets===null&&(c.stylesheets=new Map),c.stylesheets.set(i,a),(a=i.state.preload)&&(i.state.loading&3)===0&&(c.count++,i=Vl.bind(c),a.addEventListener("load",i),a.addEventListener("error",i))}}function kv(){if(Qo===null)throw Error(r(475));var a=Qo;return a.stylesheets&&a.count===0&&$d(a,a.stylesheets),0<a.count?function(i){var s=setTimeout(function(){if(a.stylesheets&&$d(a,a.stylesheets),a.unsuspend){var c=a.unsuspend;a.unsuspend=null,c()}},6e4);return a.unsuspend=i,function(){a.unsuspend=null,clearTimeout(s)}}:null}function Vl(){if(this.count--,this.count===0){if(this.stylesheets)$d(this,this.stylesheets);else if(this.unsuspend){var a=this.unsuspend;this.unsuspend=null,a()}}}var zl=null;function $d(a,i){a.stylesheets=null,a.unsuspend!==null&&(a.count++,zl=new Map,i.forEach(wv,a),zl=null,Vl.call(a))}function wv(a,i){if(!(i.state.loading&4)){var s=zl.get(a);if(s)var c=s.get(null);else{s=new Map,zl.set(a,s);for(var h=a.querySelectorAll("link[data-precedence],style[data-precedence]"),T=0;T<h.length;T++){var A=h[T];(A.nodeName==="LINK"||A.getAttribute("media")!=="not all")&&(s.set(A.dataset.precedence,A),c=A)}c&&s.set(null,c)}h=i.instance,A=h.getAttribute("data-precedence"),T=s.get(A)||c,T===c&&s.set(null,h),s.set(A,h),this.count++,c=Vl.bind(this),h.addEventListener("load",c),h.addEventListener("error",c),T?T.parentNode.insertBefore(h,T.nextSibling):(a=a.nodeType===9?a.head:a,a.insertBefore(h,a.firstChild)),i.state.loading|=4}}var Ko={$$typeof:G,Provider:null,Consumer:null,_currentValue:R,_currentValue2:R,_threadCount:0};function Lv(a,i,s,c,h,T,A,N){this.tag=1,this.containerInfo=a,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Wi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Wi(0),this.hiddenUpdates=Wi(null),this.identifierPrefix=c,this.onUncaughtError=h,this.onCaughtError=T,this.onRecoverableError=A,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=N,this.incompleteTransitions=new Map}function sg(a,i,s,c,h,T,A,N,P,Z,ue,de){return a=new Lv(a,i,s,A,N,P,Z,de),i=1,T===!0&&(i|=24),T=Tn(3,null,null,i),a.current=T,T.stateNode=a,i=Dc(),i.refCount++,a.pooledCache=i,i.refCount++,T.memoizedState={element:c,isDehydrated:s,cache:i},Lc(T),a}function lg(a){return a?(a=cr,a):cr}function ug(a,i,s,c,h,T){h=lg(h),c.context===null?c.context=h:c.pendingContext=h,c=Ba(i),c.payload={element:s},T=T===void 0?null:T,T!==null&&(c.callback=T),s=Fa(a,c,i),s!==null&&(Sn(s,a,i),So(s,a,i))}function cg(a,i){if(a=a.memoizedState,a!==null&&a.dehydrated!==null){var s=a.retryLane;a.retryLane=s!==0&&s<i?s:i}}function Xd(a,i){cg(a,i),(a=a.alternate)&&cg(a,i)}function dg(a){if(a.tag===13){var i=ur(a,67108864);i!==null&&Sn(i,a,67108864),Xd(a,67108864)}}var jl=!0;function Ov(a,i,s,c){var h=W.T;W.T=null;var T=j.p;try{j.p=2,Wd(a,i,s,c)}finally{j.p=T,W.T=h}}function Pv(a,i,s,c){var h=W.T;W.T=null;var T=j.p;try{j.p=8,Wd(a,i,s,c)}finally{j.p=T,W.T=h}}function Wd(a,i,s,c){if(jl){var h=Jd(c);if(h===null)Fd(a,i,c,Gl,s),mg(a,c);else if(Fv(h,a,i,s,c))c.stopPropagation();else if(mg(a,c),i&4&&-1<Bv.indexOf(a)){for(;h!==null;){var T=fa(h);if(T!==null)switch(T.tag){case 3:if(T=T.stateNode,T.current.memoizedState.isDehydrated){var A=Kt(T.pendingLanes);if(A!==0){var N=T;for(N.pendingLanes|=2,N.entangledLanes|=2;A;){var P=1<<31-Le(A);N.entanglements[1]|=P,A&=~P}ia(T),(ct&6)===0&&(Il=tn()+500,Vo(0))}}break;case 13:N=ur(T,2),N!==null&&Sn(N,T,2),Ml(),Xd(T,2)}if(T=Jd(c),T===null&&Fd(a,i,c,Gl,s),T===h)break;h=T}h!==null&&c.stopPropagation()}else Fd(a,i,c,null,s)}}function Jd(a){return a=ac(a),Zd(a)}var Gl=null;function Zd(a){if(Gl=null,a=qn(a),a!==null){var i=l(a);if(i===null)a=null;else{var s=i.tag;if(s===13){if(a=u(i),a!==null)return a;a=null}else if(s===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;a=null}else i!==a&&(a=null)}}return Gl=a,null}function fg(a){switch(a){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ki()){case fi:return 2;case ka:return 8;case da:case $i:return 32;case Ft:return 268435456;default:return 32}default:return 32}}var ef=!1,Wa=null,Ja=null,Za=null,$o=new Map,Xo=new Map,ei=[],Bv="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function mg(a,i){switch(a){case"focusin":case"focusout":Wa=null;break;case"dragenter":case"dragleave":Ja=null;break;case"mouseover":case"mouseout":Za=null;break;case"pointerover":case"pointerout":$o.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Xo.delete(i.pointerId)}}function Wo(a,i,s,c,h,T){return a===null||a.nativeEvent!==T?(a={blockedOn:i,domEventName:s,eventSystemFlags:c,nativeEvent:T,targetContainers:[h]},i!==null&&(i=fa(i),i!==null&&dg(i)),a):(a.eventSystemFlags|=c,i=a.targetContainers,h!==null&&i.indexOf(h)===-1&&i.push(h),a)}function Fv(a,i,s,c,h){switch(i){case"focusin":return Wa=Wo(Wa,a,i,s,c,h),!0;case"dragenter":return Ja=Wo(Ja,a,i,s,c,h),!0;case"mouseover":return Za=Wo(Za,a,i,s,c,h),!0;case"pointerover":var T=h.pointerId;return $o.set(T,Wo($o.get(T)||null,a,i,s,c,h)),!0;case"gotpointercapture":return T=h.pointerId,Xo.set(T,Wo(Xo.get(T)||null,a,i,s,c,h)),!0}return!1}function hg(a){var i=qn(a.target);if(i!==null){var s=l(i);if(s!==null){if(i=s.tag,i===13){if(i=u(s),i!==null){a.blockedOn=i,Ne(a.priority,function(){if(s.tag===13){var c=Cn();c=Ji(c);var h=ur(s,c);h!==null&&Sn(h,s,c),Xd(s,c)}});return}}else if(i===3&&s.stateNode.current.memoizedState.isDehydrated){a.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}a.blockedOn=null}function ql(a){if(a.blockedOn!==null)return!1;for(var i=a.targetContainers;0<i.length;){var s=Jd(a.nativeEvent);if(s===null){s=a.nativeEvent;var c=new s.constructor(s.type,s);nc=c,s.target.dispatchEvent(c),nc=null}else return i=fa(s),i!==null&&dg(i),a.blockedOn=s,!1;i.shift()}return!0}function pg(a,i,s){ql(a)&&s.delete(i)}function Hv(){ef=!1,Wa!==null&&ql(Wa)&&(Wa=null),Ja!==null&&ql(Ja)&&(Ja=null),Za!==null&&ql(Za)&&(Za=null),$o.forEach(pg),Xo.forEach(pg)}function Yl(a,i){a.blockedOn===i&&(a.blockedOn=null,ef||(ef=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Hv)))}var Ql=null;function gg(a){Ql!==a&&(Ql=a,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){Ql===a&&(Ql=null);for(var i=0;i<a.length;i+=3){var s=a[i],c=a[i+1],h=a[i+2];if(typeof c!="function"){if(Zd(c||s)===null)continue;break}var T=fa(s);T!==null&&(a.splice(i,3),i-=3,Zc(T,{pending:!0,data:h,method:s.method,action:c},c,h))}}))}function Jo(a){function i(P){return Yl(P,a)}Wa!==null&&Yl(Wa,a),Ja!==null&&Yl(Ja,a),Za!==null&&Yl(Za,a),$o.forEach(i),Xo.forEach(i);for(var s=0;s<ei.length;s++){var c=ei[s];c.blockedOn===a&&(c.blockedOn=null)}for(;0<ei.length&&(s=ei[0],s.blockedOn===null);)hg(s),s.blockedOn===null&&ei.shift();if(s=(a.ownerDocument||a).$$reactFormReplay,s!=null)for(c=0;c<s.length;c+=3){var h=s[c],T=s[c+1],A=h[Qe]||null;if(typeof T=="function")A||gg(s);else if(A){var N=null;if(T&&T.hasAttribute("formAction")){if(h=T,A=T[Qe]||null)N=A.formAction;else if(Zd(h)!==null)continue}else N=A.action;typeof N=="function"?s[c+1]=N:(s.splice(c,3),c-=3),gg(s)}}}function tf(a){this._internalRoot=a}Kl.prototype.render=tf.prototype.render=function(a){var i=this._internalRoot;if(i===null)throw Error(r(409));var s=i.current,c=Cn();ug(s,c,a,i,null,null)},Kl.prototype.unmount=tf.prototype.unmount=function(){var a=this._internalRoot;if(a!==null){this._internalRoot=null;var i=a.containerInfo;ug(a.current,2,null,a,null,null),Ml(),i[Gn]=null}};function Kl(a){this._internalRoot=a}Kl.prototype.unstable_scheduleHydration=function(a){if(a){var i=Te();a={blockedOn:null,target:a,priority:i};for(var s=0;s<ei.length&&i!==0&&i<ei[s].priority;s++);ei.splice(s,0,a),s===0&&hg(a)}};var yg=t.version;if(yg!=="19.1.0")throw Error(r(527,yg,"19.1.0"));j.findDOMNode=function(a){var i=a._reactInternals;if(i===void 0)throw typeof a.render=="function"?Error(r(188)):(a=Object.keys(a).join(","),Error(r(268,a)));return a=m(i),a=a!==null?d(a):null,a=a===null?null:a.stateNode,a};var Uv={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:W,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var $l=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!$l.isDisabled&&$l.supportsFiber)try{le=$l.inject(Uv),ge=$l}catch{}}return es.createRoot=function(a,i){if(!o(a))throw Error(r(299));var s=!1,c="",h=w0,T=L0,A=O0,N=null;return i!=null&&(i.unstable_strictMode===!0&&(s=!0),i.identifierPrefix!==void 0&&(c=i.identifierPrefix),i.onUncaughtError!==void 0&&(h=i.onUncaughtError),i.onCaughtError!==void 0&&(T=i.onCaughtError),i.onRecoverableError!==void 0&&(A=i.onRecoverableError),i.unstable_transitionCallbacks!==void 0&&(N=i.unstable_transitionCallbacks)),i=sg(a,1,!1,null,null,s,c,h,T,A,N,null),a[Gn]=i.current,Bd(a),new tf(i)},es.hydrateRoot=function(a,i,s){if(!o(a))throw Error(r(299));var c=!1,h="",T=w0,A=L0,N=O0,P=null,Z=null;return s!=null&&(s.unstable_strictMode===!0&&(c=!0),s.identifierPrefix!==void 0&&(h=s.identifierPrefix),s.onUncaughtError!==void 0&&(T=s.onUncaughtError),s.onCaughtError!==void 0&&(A=s.onCaughtError),s.onRecoverableError!==void 0&&(N=s.onRecoverableError),s.unstable_transitionCallbacks!==void 0&&(P=s.unstable_transitionCallbacks),s.formState!==void 0&&(Z=s.formState)),i=sg(a,1,!0,i,s??null,c,h,T,A,N,P,Z),i.context=lg(null),s=i.current,c=Cn(),c=Ji(c),h=Ba(c),h.callback=null,Fa(s,h,c),s=c,i.current.lanes=s,hi(i,s),ia(i),a[Gn]=i.current,Bd(a),new Kl(i)},es.version="19.1.0",es}var Ig;function Wv(){if(Ig)return rf.exports;Ig=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),rf.exports=Xv(),rf.exports}var Jv=Wv();const Zv=Ms(Jv),e2="modulepreload",t2=function(e){return"/"+e},Ng={},n2=function(t,n,r){let o=Promise.resolve();if(n&&n.length>0){let u=function(d){return Promise.all(d.map(g=>Promise.resolve(g).then(x=>({status:"fulfilled",value:x}),x=>({status:"rejected",reason:x}))))};document.getElementsByTagName("link");const f=document.querySelector("meta[property=csp-nonce]"),m=(f==null?void 0:f.nonce)||(f==null?void 0:f.getAttribute("nonce"));o=u(n.map(d=>{if(d=t2(d),d in Ng)return;Ng[d]=!0;const g=d.endsWith(".css"),x=g?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${d}"]${x}`))return;const v=document.createElement("link");if(v.rel=g?"stylesheet":e2,g||(v.as="script"),v.crossOrigin="",v.href=d,m&&v.setAttribute("nonce",m),document.head.appendChild(v),g)return new Promise((S,_)=>{v.addEventListener("load",S),v.addEventListener("error",()=>_(new Error(`Unable to preload CSS for ${d}`)))})}))}function l(u){const f=new Event("vite:preloadError",{cancelable:!0});if(f.payload=u,window.dispatchEvent(f),!f.defaultPrevented)throw u}return o.then(u=>{for(const f of u||[])f.status==="rejected"&&l(f.reason);return t().catch(l)})};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let a2,i2;function r2(){return{geminiUrl:a2,vertexUrl:i2}}function o2(e,t,n){var r,o,l;if(!(!((r=e.httpOptions)===null||r===void 0)&&r.baseUrl)){const u=r2();return e.vertexai?(o=u.vertexUrl)!==null&&o!==void 0?o:t:(l=u.geminiUrl)!==null&&l!==void 0?l:n}return e.httpOptions.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Ds{}function Ve(e,t){const n=/\{([^}]+)\}/g;return e.replace(n,(r,o)=>{if(Object.prototype.hasOwnProperty.call(t,o)){const l=t[o];return l!=null?String(l):""}else throw new Error(`Key '${o}' not found in valueMap.`)})}function b(e,t,n){for(let l=0;l<t.length-1;l++){const u=t[l];if(u.endsWith("[]")){const f=u.slice(0,-2);if(!(f in e))if(Array.isArray(n))e[f]=Array.from({length:n.length},()=>({}));else throw new Error(`Value must be a list given an array path ${u}`);if(Array.isArray(e[f])){const m=e[f];if(Array.isArray(n))for(let d=0;d<m.length;d++){const g=m[d];b(g,t.slice(l+1),n[d])}else for(const d of m)b(d,t.slice(l+1),n)}return}else if(u.endsWith("[0]")){const f=u.slice(0,-3);f in e||(e[f]=[{}]);const m=e[f];b(m[0],t.slice(l+1),n);return}(!e[u]||typeof e[u]!="object")&&(e[u]={}),e=e[u]}const r=t[t.length-1],o=e[r];if(o!==void 0){if(!n||typeof n=="object"&&Object.keys(n).length===0||n===o)return;if(typeof o=="object"&&typeof n=="object"&&o!==null&&n!==null)Object.assign(o,n);else throw new Error(`Cannot set value for an existing key. Key: ${r}`)}else e[r]=n}function y(e,t){try{if(t.length===1&&t[0]==="_self")return e;for(let n=0;n<t.length;n++){if(typeof e!="object"||e===null)return;const r=t[n];if(r.endsWith("[]")){const o=r.slice(0,-2);if(o in e){const l=e[o];return Array.isArray(l)?l.map(u=>y(u,t.slice(n+1))):void 0}else return}else e=e[r]}return e}catch(n){if(n instanceof TypeError)return;throw n}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function _t(e,t){if(!t||typeof t!="string")throw new Error("model is required and must be a string");if(e.isVertexAI()){if(t.startsWith("publishers/")||t.startsWith("projects/")||t.startsWith("models/"))return t;if(t.indexOf("/")>=0){const n=t.split("/",2);return`publishers/${n[0]}/models/${n[1]}`}else return`publishers/google/models/${t}`}else return t.startsWith("models/")||t.startsWith("tunedModels/")?t:`models/${t}`}function ub(e,t){const n=_t(e,t);return n?n.startsWith("publishers/")&&e.isVertexAI()?`projects/${e.getProject()}/locations/${e.getLocation()}/${n}`:n.startsWith("models/")&&e.isVertexAI()?`projects/${e.getProject()}/locations/${e.getLocation()}/publishers/google/${n}`:n:""}function cb(e,t){return Array.isArray(t)?t.map(n=>bu(e,n)):[bu(e,t)]}function bu(e,t){if(typeof t=="object"&&t!==null)return t;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof t}`)}function s2(e,t){const n=bu(e,t);if(n.mimeType&&n.mimeType.startsWith("image/"))return n;throw new Error(`Unsupported mime type: ${n.mimeType}`)}function l2(e,t){const n=bu(e,t);if(n.mimeType&&n.mimeType.startsWith("audio/"))return n;throw new Error(`Unsupported mime type: ${n.mimeType}`)}function Mg(e,t){if(t==null)throw new Error("PartUnion is required");if(typeof t=="object")return t;if(typeof t=="string")return{text:t};throw new Error(`Unsupported part type: ${typeof t}`)}function db(e,t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("PartListUnion is required");return Array.isArray(t)?t.map(n=>Mg(e,n)):[Mg(e,t)]}function Lf(e){return e!=null&&typeof e=="object"&&"parts"in e&&Array.isArray(e.parts)}function Dg(e){return e!=null&&typeof e=="object"&&"functionCall"in e}function Rg(e){return e!=null&&typeof e=="object"&&"functionResponse"in e}function pn(e,t){if(t==null)throw new Error("ContentUnion is required");return Lf(t)?t:{role:"user",parts:db(e,t)}}function fb(e,t){if(!t)return[];if(e.isVertexAI()&&Array.isArray(t))return t.flatMap(n=>{const r=pn(e,n);return r.parts&&r.parts.length>0&&r.parts[0].text!==void 0?[r.parts[0].text]:[]});if(e.isVertexAI()){const n=pn(e,t);return n.parts&&n.parts.length>0&&n.parts[0].text!==void 0?[n.parts[0].text]:[]}return Array.isArray(t)?t.map(n=>pn(e,n)):[pn(e,t)]}function li(e,t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("contents are required");if(!Array.isArray(t)){if(Dg(t)||Rg(t))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[pn(e,t)]}const n=[],r=[],o=Lf(t[0]);for(const l of t){const u=Lf(l);if(u!=o)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(u)n.push(l);else{if(Dg(l)||Rg(l))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");r.push(l)}}return o||n.push({role:"user",parts:db(e,r)}),n}function mb(e,t){return t}function hb(e,t){if(typeof t=="object")return t;if(typeof t=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:t}}};throw new Error(`Unsupported speechConfig type: ${typeof t}`)}function Du(e,t){return t}function Ru(e,t){if(!Array.isArray(t))throw new Error("tool is required and must be an array of Tools");return t}function u2(e,t,n,r=1){const o=!t.startsWith(`${n}/`)&&t.split("/").length===r;return e.isVertexAI()?t.startsWith("projects/")?t:t.startsWith("locations/")?`projects/${e.getProject()}/${t}`:t.startsWith(`${n}/`)?`projects/${e.getProject()}/locations/${e.getLocation()}/${t}`:o?`projects/${e.getProject()}/locations/${e.getLocation()}/${n}/${t}`:t:o?`${n}/${t}`:t}function ui(e,t){if(typeof t!="string")throw new Error("name must be a string");return u2(e,t,"cachedContents")}function pb(e,t){switch(t){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return t}}function ci(e,t){if(typeof t!="string")throw new Error("fromImageBytes must be a string");return t}function gb(e,t){if(typeof t!="string")throw new Error("fromName must be a string");return t.startsWith("files/")?t.split("files/")[1]:t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function c2(e,t){const n={};if(y(t,["videoMetadata"])!==void 0)throw new Error("videoMetadata parameter is not supported in Gemini API.");const r=y(t,["thought"]);r!=null&&b(n,["thought"],r);const o=y(t,["codeExecutionResult"]);o!=null&&b(n,["codeExecutionResult"],o);const l=y(t,["executableCode"]);l!=null&&b(n,["executableCode"],l);const u=y(t,["fileData"]);u!=null&&b(n,["fileData"],u);const f=y(t,["functionCall"]);f!=null&&b(n,["functionCall"],f);const m=y(t,["functionResponse"]);m!=null&&b(n,["functionResponse"],m);const d=y(t,["inlineData"]);d!=null&&b(n,["inlineData"],d);const g=y(t,["text"]);return g!=null&&b(n,["text"],g),n}function kg(e,t){const n={},r=y(t,["parts"]);if(r!=null){let l=r;Array.isArray(l)&&(l=l.map(u=>c2(e,u))),b(n,["parts"],l)}const o=y(t,["role"]);return o!=null&&b(n,["role"],o),n}function d2(){return{}}function f2(e,t){const n={},r=y(t,["mode"]);r!=null&&b(n,["mode"],r);const o=y(t,["dynamicThreshold"]);return o!=null&&b(n,["dynamicThreshold"],o),n}function m2(e,t){const n={},r=y(t,["dynamicRetrievalConfig"]);return r!=null&&b(n,["dynamicRetrievalConfig"],f2(e,r)),n}function h2(e,t){const n={};if(y(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");y(t,["googleSearch"])!=null&&b(n,["googleSearch"],d2());const o=y(t,["googleSearchRetrieval"]);o!=null&&b(n,["googleSearchRetrieval"],m2(e,o));const l=y(t,["codeExecution"]);l!=null&&b(n,["codeExecution"],l);const u=y(t,["functionDeclarations"]);return u!=null&&b(n,["functionDeclarations"],u),n}function p2(e,t){const n={},r=y(t,["mode"]);r!=null&&b(n,["mode"],r);const o=y(t,["allowedFunctionNames"]);return o!=null&&b(n,["allowedFunctionNames"],o),n}function g2(e,t){const n={},r=y(t,["functionCallingConfig"]);return r!=null&&b(n,["functionCallingConfig"],p2(e,r)),n}function y2(e,t,n){const r={},o=y(t,["ttl"]);n!==void 0&&o!=null&&b(n,["ttl"],o);const l=y(t,["expireTime"]);n!==void 0&&l!=null&&b(n,["expireTime"],l);const u=y(t,["displayName"]);n!==void 0&&u!=null&&b(n,["displayName"],u);const f=y(t,["contents"]);if(n!==void 0&&f!=null){let x=li(e,f);Array.isArray(x)&&(x=x.map(v=>kg(e,v))),b(n,["contents"],x)}const m=y(t,["systemInstruction"]);n!==void 0&&m!=null&&b(n,["systemInstruction"],kg(e,pn(e,m)));const d=y(t,["tools"]);if(n!==void 0&&d!=null){let x=d;Array.isArray(x)&&(x=x.map(v=>h2(e,v))),b(n,["tools"],x)}const g=y(t,["toolConfig"]);return n!==void 0&&g!=null&&b(n,["toolConfig"],g2(e,g)),r}function b2(e,t){const n={},r=y(t,["model"]);r!=null&&b(n,["model"],ub(e,r));const o=y(t,["config"]);return o!=null&&b(n,["config"],y2(e,o,n)),n}function T2(e,t){const n={},r=y(t,["name"]);r!=null&&b(n,["_url","name"],ui(e,r));const o=y(t,["config"]);return o!=null&&b(n,["config"],o),n}function E2(e,t){const n={},r=y(t,["name"]);r!=null&&b(n,["_url","name"],ui(e,r));const o=y(t,["config"]);return o!=null&&b(n,["config"],o),n}function x2(e,t,n){const r={},o=y(t,["ttl"]);n!==void 0&&o!=null&&b(n,["ttl"],o);const l=y(t,["expireTime"]);return n!==void 0&&l!=null&&b(n,["expireTime"],l),r}function v2(e,t){const n={},r=y(t,["name"]);r!=null&&b(n,["_url","name"],ui(e,r));const o=y(t,["config"]);return o!=null&&b(n,["config"],x2(e,o,n)),n}function C2(e,t,n){const r={},o=y(t,["pageSize"]);n!==void 0&&o!=null&&b(n,["_query","pageSize"],o);const l=y(t,["pageToken"]);return n!==void 0&&l!=null&&b(n,["_query","pageToken"],l),r}function S2(e,t){const n={},r=y(t,["config"]);return r!=null&&b(n,["config"],C2(e,r,n)),n}function A2(e,t){const n={},r=y(t,["videoMetadata"]);r!=null&&b(n,["videoMetadata"],r);const o=y(t,["thought"]);o!=null&&b(n,["thought"],o);const l=y(t,["codeExecutionResult"]);l!=null&&b(n,["codeExecutionResult"],l);const u=y(t,["executableCode"]);u!=null&&b(n,["executableCode"],u);const f=y(t,["fileData"]);f!=null&&b(n,["fileData"],f);const m=y(t,["functionCall"]);m!=null&&b(n,["functionCall"],m);const d=y(t,["functionResponse"]);d!=null&&b(n,["functionResponse"],d);const g=y(t,["inlineData"]);g!=null&&b(n,["inlineData"],g);const x=y(t,["text"]);return x!=null&&b(n,["text"],x),n}function wg(e,t){const n={},r=y(t,["parts"]);if(r!=null){let l=r;Array.isArray(l)&&(l=l.map(u=>A2(e,u))),b(n,["parts"],l)}const o=y(t,["role"]);return o!=null&&b(n,["role"],o),n}function _2(){return{}}function I2(e,t){const n={},r=y(t,["mode"]);r!=null&&b(n,["mode"],r);const o=y(t,["dynamicThreshold"]);return o!=null&&b(n,["dynamicThreshold"],o),n}function N2(e,t){const n={},r=y(t,["dynamicRetrievalConfig"]);return r!=null&&b(n,["dynamicRetrievalConfig"],I2(e,r)),n}function M2(e,t){const n={},r=y(t,["retrieval"]);r!=null&&b(n,["retrieval"],r),y(t,["googleSearch"])!=null&&b(n,["googleSearch"],_2());const l=y(t,["googleSearchRetrieval"]);l!=null&&b(n,["googleSearchRetrieval"],N2(e,l));const u=y(t,["codeExecution"]);u!=null&&b(n,["codeExecution"],u);const f=y(t,["functionDeclarations"]);return f!=null&&b(n,["functionDeclarations"],f),n}function D2(e,t){const n={},r=y(t,["mode"]);r!=null&&b(n,["mode"],r);const o=y(t,["allowedFunctionNames"]);return o!=null&&b(n,["allowedFunctionNames"],o),n}function R2(e,t){const n={},r=y(t,["functionCallingConfig"]);return r!=null&&b(n,["functionCallingConfig"],D2(e,r)),n}function k2(e,t,n){const r={},o=y(t,["ttl"]);n!==void 0&&o!=null&&b(n,["ttl"],o);const l=y(t,["expireTime"]);n!==void 0&&l!=null&&b(n,["expireTime"],l);const u=y(t,["displayName"]);n!==void 0&&u!=null&&b(n,["displayName"],u);const f=y(t,["contents"]);if(n!==void 0&&f!=null){let x=li(e,f);Array.isArray(x)&&(x=x.map(v=>wg(e,v))),b(n,["contents"],x)}const m=y(t,["systemInstruction"]);n!==void 0&&m!=null&&b(n,["systemInstruction"],wg(e,pn(e,m)));const d=y(t,["tools"]);if(n!==void 0&&d!=null){let x=d;Array.isArray(x)&&(x=x.map(v=>M2(e,v))),b(n,["tools"],x)}const g=y(t,["toolConfig"]);return n!==void 0&&g!=null&&b(n,["toolConfig"],R2(e,g)),r}function w2(e,t){const n={},r=y(t,["model"]);r!=null&&b(n,["model"],ub(e,r));const o=y(t,["config"]);return o!=null&&b(n,["config"],k2(e,o,n)),n}function L2(e,t){const n={},r=y(t,["name"]);r!=null&&b(n,["_url","name"],ui(e,r));const o=y(t,["config"]);return o!=null&&b(n,["config"],o),n}function O2(e,t){const n={},r=y(t,["name"]);r!=null&&b(n,["_url","name"],ui(e,r));const o=y(t,["config"]);return o!=null&&b(n,["config"],o),n}function P2(e,t,n){const r={},o=y(t,["ttl"]);n!==void 0&&o!=null&&b(n,["ttl"],o);const l=y(t,["expireTime"]);return n!==void 0&&l!=null&&b(n,["expireTime"],l),r}function B2(e,t){const n={},r=y(t,["name"]);r!=null&&b(n,["_url","name"],ui(e,r));const o=y(t,["config"]);return o!=null&&b(n,["config"],P2(e,o,n)),n}function F2(e,t,n){const r={},o=y(t,["pageSize"]);n!==void 0&&o!=null&&b(n,["_query","pageSize"],o);const l=y(t,["pageToken"]);return n!==void 0&&l!=null&&b(n,["_query","pageToken"],l),r}function H2(e,t){const n={},r=y(t,["config"]);return r!=null&&b(n,["config"],F2(e,r,n)),n}function fu(e,t){const n={},r=y(t,["name"]);r!=null&&b(n,["name"],r);const o=y(t,["displayName"]);o!=null&&b(n,["displayName"],o);const l=y(t,["model"]);l!=null&&b(n,["model"],l);const u=y(t,["createTime"]);u!=null&&b(n,["createTime"],u);const f=y(t,["updateTime"]);f!=null&&b(n,["updateTime"],f);const m=y(t,["expireTime"]);m!=null&&b(n,["expireTime"],m);const d=y(t,["usageMetadata"]);return d!=null&&b(n,["usageMetadata"],d),n}function U2(){return{}}function V2(e,t){const n={},r=y(t,["nextPageToken"]);r!=null&&b(n,["nextPageToken"],r);const o=y(t,["cachedContents"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(u=>fu(e,u))),b(n,["cachedContents"],l)}return n}function mu(e,t){const n={},r=y(t,["name"]);r!=null&&b(n,["name"],r);const o=y(t,["displayName"]);o!=null&&b(n,["displayName"],o);const l=y(t,["model"]);l!=null&&b(n,["model"],l);const u=y(t,["createTime"]);u!=null&&b(n,["createTime"],u);const f=y(t,["updateTime"]);f!=null&&b(n,["updateTime"],f);const m=y(t,["expireTime"]);m!=null&&b(n,["expireTime"],m);const d=y(t,["usageMetadata"]);return d!=null&&b(n,["usageMetadata"],d),n}function z2(){return{}}function j2(e,t){const n={},r=y(t,["nextPageToken"]);r!=null&&b(n,["nextPageToken"],r);const o=y(t,["cachedContents"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(u=>mu(e,u))),b(n,["cachedContents"],l)}return n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var vs;(function(e){e.PAGED_ITEM_BATCH_JOBS="batchJobs",e.PAGED_ITEM_MODELS="models",e.PAGED_ITEM_TUNING_JOBS="tuningJobs",e.PAGED_ITEM_FILES="files",e.PAGED_ITEM_CACHED_CONTENTS="cachedContents"})(vs||(vs={}));class cm{constructor(t,n,r,o){this.pageInternal=[],this.paramsInternal={},this.requestInternal=n,this.init(t,r,o)}init(t,n,r){var o,l;this.nameInternal=t,this.pageInternal=n[this.nameInternal]||[],this.idxInternal=0;let u={config:{}};r?typeof r=="object"?u=Object.assign({},r):u=r:u={config:{}},u.config&&(u.config.pageToken=n.nextPageToken),this.paramsInternal=u,this.pageInternalSize=(l=(o=u.config)===null||o===void 0?void 0:o.pageSize)!==null&&l!==void 0?l:this.pageInternal.length}initNextPage(t){this.init(this.nameInternal,t,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(t){return this.pageInternal[t]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const t=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:t,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const t=await this.requestInternal(this.params);return this.initNextPage(t),this.page}hasNextPage(){var t;return((t=this.params.config)===null||t===void 0?void 0:t.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Lg;(function(e){e.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",e.OUTCOME_OK="OUTCOME_OK",e.OUTCOME_FAILED="OUTCOME_FAILED",e.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(Lg||(Lg={}));var Og;(function(e){e.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",e.PYTHON="PYTHON"})(Og||(Og={}));var Pg;(function(e){e.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",e.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",e.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",e.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",e.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",e.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY"})(Pg||(Pg={}));var Bg;(function(e){e.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",e.SEVERITY="SEVERITY",e.PROBABILITY="PROBABILITY"})(Bg||(Bg={}));var Fg;(function(e){e.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",e.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",e.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",e.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",e.BLOCK_NONE="BLOCK_NONE",e.OFF="OFF"})(Fg||(Fg={}));var Hg;(function(e){e.MODE_UNSPECIFIED="MODE_UNSPECIFIED",e.MODE_DYNAMIC="MODE_DYNAMIC"})(Hg||(Hg={}));var Ug;(function(e){e.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",e.STRING="STRING",e.NUMBER="NUMBER",e.INTEGER="INTEGER",e.BOOLEAN="BOOLEAN",e.ARRAY="ARRAY",e.OBJECT="OBJECT"})(Ug||(Ug={}));var Vg;(function(e){e.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",e.STOP="STOP",e.MAX_TOKENS="MAX_TOKENS",e.SAFETY="SAFETY",e.RECITATION="RECITATION",e.LANGUAGE="LANGUAGE",e.OTHER="OTHER",e.BLOCKLIST="BLOCKLIST",e.PROHIBITED_CONTENT="PROHIBITED_CONTENT",e.SPII="SPII",e.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",e.IMAGE_SAFETY="IMAGE_SAFETY"})(Vg||(Vg={}));var zg;(function(e){e.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",e.NEGLIGIBLE="NEGLIGIBLE",e.LOW="LOW",e.MEDIUM="MEDIUM",e.HIGH="HIGH"})(zg||(zg={}));var jg;(function(e){e.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",e.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",e.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",e.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",e.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(jg||(jg={}));var Gg;(function(e){e.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",e.SAFETY="SAFETY",e.OTHER="OTHER",e.BLOCKLIST="BLOCKLIST",e.PROHIBITED_CONTENT="PROHIBITED_CONTENT"})(Gg||(Gg={}));var qg;(function(e){e.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",e.ON_DEMAND="ON_DEMAND",e.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(qg||(qg={}));var Tu;(function(e){e.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",e.TEXT="TEXT",e.IMAGE="IMAGE",e.AUDIO="AUDIO"})(Tu||(Tu={}));var Yg;(function(e){e.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",e.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",e.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",e.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(Yg||(Yg={}));var Of;(function(e){e.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",e.JOB_STATE_QUEUED="JOB_STATE_QUEUED",e.JOB_STATE_PENDING="JOB_STATE_PENDING",e.JOB_STATE_RUNNING="JOB_STATE_RUNNING",e.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",e.JOB_STATE_FAILED="JOB_STATE_FAILED",e.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",e.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",e.JOB_STATE_PAUSED="JOB_STATE_PAUSED",e.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",e.JOB_STATE_UPDATING="JOB_STATE_UPDATING",e.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(Of||(Of={}));var Qg;(function(e){e.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",e.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",e.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",e.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",e.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",e.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",e.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(Qg||(Qg={}));var Kg;(function(e){e.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",e.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",e.BALANCED="BALANCED",e.PRIORITIZE_COST="PRIORITIZE_COST"})(Kg||(Kg={}));var $g;(function(e){e.MODE_UNSPECIFIED="MODE_UNSPECIFIED",e.MODE_DYNAMIC="MODE_DYNAMIC"})($g||($g={}));var Xg;(function(e){e.MODE_UNSPECIFIED="MODE_UNSPECIFIED",e.AUTO="AUTO",e.ANY="ANY",e.NONE="NONE"})(Xg||(Xg={}));var Wg;(function(e){e.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",e.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",e.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",e.BLOCK_NONE="BLOCK_NONE"})(Wg||(Wg={}));var Jg;(function(e){e.DONT_ALLOW="DONT_ALLOW",e.ALLOW_ADULT="ALLOW_ADULT",e.ALLOW_ALL="ALLOW_ALL"})(Jg||(Jg={}));var Zg;(function(e){e.auto="auto",e.en="en",e.ja="ja",e.ko="ko",e.hi="hi"})(Zg||(Zg={}));var ey;(function(e){e.STATE_UNSPECIFIED="STATE_UNSPECIFIED",e.PROCESSING="PROCESSING",e.ACTIVE="ACTIVE",e.FAILED="FAILED"})(ey||(ey={}));var ty;(function(e){e.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",e.UPLOADED="UPLOADED",e.GENERATED="GENERATED"})(ty||(ty={}));var ny;(function(e){e.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",e.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",e.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",e.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",e.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(ny||(ny={}));var ay;(function(e){e.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",e.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",e.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",e.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(ay||(ay={}));var iy;(function(e){e.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",e.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",e.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",e.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(iy||(iy={}));var ry;(function(e){e.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",e.TEXT="TEXT",e.IMAGE="IMAGE",e.VIDEO="VIDEO",e.AUDIO="AUDIO",e.DOCUMENT="DOCUMENT"})(ry||(ry={}));var oy;(function(e){e.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",e.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",e.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(oy||(oy={}));var sy;(function(e){e.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",e.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",e.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(sy||(sy={}));var ly;(function(e){e.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",e.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",e.NO_INTERRUPTION="NO_INTERRUPTION"})(ly||(ly={}));var uy;(function(e){e.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",e.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",e.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(uy||(uy={}));class Xl{get text(){var t,n,r,o,l,u,f,m;if(((o=(r=(n=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||o===void 0?void 0:o.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let d="",g=!1;const x=[];for(const v of(m=(f=(u=(l=this.candidates)===null||l===void 0?void 0:l[0])===null||u===void 0?void 0:u.content)===null||f===void 0?void 0:f.parts)!==null&&m!==void 0?m:[]){for(const[S,_]of Object.entries(v))S!=="text"&&S!=="thought"&&(_!==null||_!==void 0)&&x.push(S);if(typeof v.text=="string"){if(typeof v.thought=="boolean"&&v.thought)continue;g=!0,d+=v.text}}return x.length>0&&console.warn(`there are non-text parts ${x} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),g?d:void 0}get data(){var t,n,r,o,l,u,f,m;if(((o=(r=(n=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||o===void 0?void 0:o.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let d="";const g=[];for(const x of(m=(f=(u=(l=this.candidates)===null||l===void 0?void 0:l[0])===null||u===void 0?void 0:u.content)===null||f===void 0?void 0:f.parts)!==null&&m!==void 0?m:[]){for(const[v,S]of Object.entries(x))v!=="inlineData"&&(S!==null||S!==void 0)&&g.push(v);x.inlineData&&typeof x.inlineData.data=="string"&&(d+=atob(x.inlineData.data))}return g.length>0&&console.warn(`there are non-data parts ${g} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),d.length>0?btoa(d):void 0}get functionCalls(){var t,n,r,o,l,u,f,m;if(((o=(r=(n=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||o===void 0?void 0:o.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const d=(m=(f=(u=(l=this.candidates)===null||l===void 0?void 0:l[0])===null||u===void 0?void 0:u.content)===null||f===void 0?void 0:f.parts)===null||m===void 0?void 0:m.filter(g=>g.functionCall).map(g=>g.functionCall).filter(g=>g!==void 0);if((d==null?void 0:d.length)!==0)return d}get executableCode(){var t,n,r,o,l,u,f,m,d;if(((o=(r=(n=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||o===void 0?void 0:o.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const g=(m=(f=(u=(l=this.candidates)===null||l===void 0?void 0:l[0])===null||u===void 0?void 0:u.content)===null||f===void 0?void 0:f.parts)===null||m===void 0?void 0:m.filter(x=>x.executableCode).map(x=>x.executableCode).filter(x=>x!==void 0);if((g==null?void 0:g.length)!==0)return(d=g==null?void 0:g[0])===null||d===void 0?void 0:d.code}get codeExecutionResult(){var t,n,r,o,l,u,f,m,d;if(((o=(r=(n=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||o===void 0?void 0:o.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const g=(m=(f=(u=(l=this.candidates)===null||l===void 0?void 0:l[0])===null||u===void 0?void 0:u.content)===null||f===void 0?void 0:f.parts)===null||m===void 0?void 0:m.filter(x=>x.codeExecutionResult).map(x=>x.codeExecutionResult).filter(x=>x!==void 0);if((g==null?void 0:g.length)!==0)return(d=g==null?void 0:g[0])===null||d===void 0?void 0:d.output}}class cy{}class dy{}class fy{}class my{}class G2{}class hy{}class py{}class gy{}class q2{}class Pf{constructor(t){const n={};for(const r of t.headers.entries())n[r[0]]=r[1];this.headers=n,this.responseInternal=t}json(){return this.responseInternal.json()}}class Y2{}class Q2{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class K2 extends Ds{constructor(t){super(),this.apiClient=t,this.list=async(n={})=>new cm(vs.PAGED_ITEM_CACHED_CONTENTS,r=>this.listInternal(r),await this.listInternal(n),n)}async create(t){var n,r,o,l;let u,f="",m={};if(this.apiClient.isVertexAI()){const d=w2(this.apiClient,t);return f=Ve("cachedContents",d._url),m=d._query,delete d.config,delete d._url,delete d._query,u=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(g=>g.json()),u.then(g=>mu(this.apiClient,g))}else{const d=b2(this.apiClient,t);return f=Ve("cachedContents",d._url),m=d._query,delete d.config,delete d._url,delete d._query,u=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(g=>g.json()),u.then(g=>fu(this.apiClient,g))}}async get(t){var n,r,o,l;let u,f="",m={};if(this.apiClient.isVertexAI()){const d=L2(this.apiClient,t);return f=Ve("{name}",d._url),m=d._query,delete d.config,delete d._url,delete d._query,u=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(g=>g.json()),u.then(g=>mu(this.apiClient,g))}else{const d=T2(this.apiClient,t);return f=Ve("{name}",d._url),m=d._query,delete d.config,delete d._url,delete d._query,u=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(g=>g.json()),u.then(g=>fu(this.apiClient,g))}}async delete(t){var n,r,o,l;let u,f="",m={};if(this.apiClient.isVertexAI()){const d=O2(this.apiClient,t);return f=Ve("{name}",d._url),m=d._query,delete d.config,delete d._url,delete d._query,u=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(g=>g.json()),u.then(()=>{const g=z2(),x=new py;return Object.assign(x,g),x})}else{const d=E2(this.apiClient,t);return f=Ve("{name}",d._url),m=d._query,delete d.config,delete d._url,delete d._query,u=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(g=>g.json()),u.then(()=>{const g=U2(),x=new py;return Object.assign(x,g),x})}}async update(t){var n,r,o,l;let u,f="",m={};if(this.apiClient.isVertexAI()){const d=B2(this.apiClient,t);return f=Ve("{name}",d._url),m=d._query,delete d.config,delete d._url,delete d._query,u=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(d),httpMethod:"PATCH",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(g=>g.json()),u.then(g=>mu(this.apiClient,g))}else{const d=v2(this.apiClient,t);return f=Ve("{name}",d._url),m=d._query,delete d.config,delete d._url,delete d._query,u=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(d),httpMethod:"PATCH",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(g=>g.json()),u.then(g=>fu(this.apiClient,g))}}async listInternal(t){var n,r,o,l;let u,f="",m={};if(this.apiClient.isVertexAI()){const d=H2(this.apiClient,t);return f=Ve("cachedContents",d._url),m=d._query,delete d.config,delete d._url,delete d._query,u=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(g=>g.json()),u.then(g=>{const x=j2(this.apiClient,g),v=new gy;return Object.assign(v,x),v})}else{const d=S2(this.apiClient,t);return f=Ve("cachedContents",d._url),m=d._query,delete d.config,delete d._url,delete d._query,u=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(g=>g.json()),u.then(g=>{const x=V2(this.apiClient,g),v=new gy;return Object.assign(v,x),v})}}}function yy(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function Wt(e){return this instanceof Wt?(this.v=e,this):new Wt(e)}function Eu(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(e,t||[]),o,l=[];return o=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),f("next"),f("throw"),f("return",u),o[Symbol.asyncIterator]=function(){return this},o;function u(S){return function(_){return Promise.resolve(_).then(S,x)}}function f(S,_){r[S]&&(o[S]=function(D){return new Promise(function(U,L){l.push([S,D,U,L])>1||m(S,D)})},_&&(o[S]=_(o[S])))}function m(S,_){try{d(r[S](_))}catch(D){v(l[0][3],D)}}function d(S){S.value instanceof Wt?Promise.resolve(S.value.v).then(g,x):v(l[0][2],S)}function g(S){m("next",S)}function x(S){m("throw",S)}function v(S,_){S(_),l.shift(),l.length&&m(l[0][0],l[0][1])}}function Bf(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],n;return t?t.call(e):(e=typeof yy=="function"?yy(e):e[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(l){n[l]=e[l]&&function(u){return new Promise(function(f,m){u=e[l](u),o(f,m,u.done,u.value)})}}function o(l,u,f,m){Promise.resolve(m).then(function(d){l({value:d,done:f})},u)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function $2(e){var t;if(e.candidates==null||e.candidates.length===0)return!1;const n=(t=e.candidates[0])===null||t===void 0?void 0:t.content;return n===void 0?!1:yb(n)}function yb(e){if(e.parts===void 0||e.parts.length===0)return!1;for(const t of e.parts)if(t===void 0||Object.keys(t).length===0||t.text!==void 0&&t.text==="")return!1;return!0}function X2(e){if(e.length!==0){if(e[0].role!=="user")throw new Error("History must start with a user turn.");for(const t of e)if(t.role!=="user"&&t.role!=="model")throw new Error(`Role must be user or model, but got ${t.role}.`)}}function W2(e){if(e===void 0||e.length===0)return[];const t=[],n=e.length;let r=0,o=e[0];for(;r<n;)if(e[r].role==="user")o=e[r],r++;else{const l=[];let u=!0;for(;r<n&&e[r].role==="model";)l.push(e[r]),u&&!yb(e[r])&&(u=!1),r++;u&&(t.push(o),t.push(...l))}return t}class J2{constructor(t,n){this.modelsModule=t,this.apiClient=n}create(t){return new Z2(this.apiClient,this.modelsModule,t.model,t.config,t.history)}}class Z2{constructor(t,n,r,o={},l=[]){this.apiClient=t,this.modelsModule=n,this.model=r,this.config=o,this.history=l,this.sendPromise=Promise.resolve(),X2(l)}async sendMessage(t){var n;await this.sendPromise;const r=pn(this.apiClient,t.message),o=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(r),config:(n=t.config)!==null&&n!==void 0?n:this.config});return this.sendPromise=(async()=>{var l,u;const m=(u=(l=(await o).candidates)===null||l===void 0?void 0:l[0])===null||u===void 0?void 0:u.content,d=m?[m]:[];this.recordHistory(r,d)})(),await this.sendPromise,o}async sendMessageStream(t){var n;await this.sendPromise;const r=pn(this.apiClient,t.message),o=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(r),config:(n=t.config)!==null&&n!==void 0?n:this.config});this.sendPromise=o.then(()=>{}).catch(()=>{});const l=await o;return this.processStreamResponse(l,r)}getHistory(t=!1){return t?W2(this.history):this.history}processStreamResponse(t,n){var r,o;return Eu(this,arguments,function*(){var u,f,m,d;const g=[];try{for(var x=!0,v=Bf(t),S;S=yield Wt(v.next()),u=S.done,!u;x=!0){d=S.value,x=!1;const _=d;if($2(_)){const D=(o=(r=_.candidates)===null||r===void 0?void 0:r[0])===null||o===void 0?void 0:o.content;D!==void 0&&g.push(D)}yield yield Wt(_)}}catch(_){f={error:_}}finally{try{!x&&!u&&(m=v.return)&&(yield Wt(m.call(v)))}finally{if(f)throw f.error}}this.recordHistory(n,g)})}recordHistory(t,n){let r=[];n.length>0&&n.every(o=>o.role==="model")?r=n:r.push({role:"model",parts:[]}),this.history.push(t),this.history.push(...r)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function eC(e,t,n){const r={},o=y(t,["pageSize"]);n!==void 0&&o!=null&&b(n,["_query","pageSize"],o);const l=y(t,["pageToken"]);return n!==void 0&&l!=null&&b(n,["_query","pageToken"],l),r}function tC(e,t){const n={},r=y(t,["config"]);return r!=null&&b(n,["config"],eC(e,r,n)),n}function nC(e,t){const n={},r=y(t,["details"]);r!=null&&b(n,["details"],r);const o=y(t,["message"]);o!=null&&b(n,["message"],o);const l=y(t,["code"]);return l!=null&&b(n,["code"],l),n}function aC(e,t){const n={},r=y(t,["name"]);r!=null&&b(n,["name"],r);const o=y(t,["displayName"]);o!=null&&b(n,["displayName"],o);const l=y(t,["mimeType"]);l!=null&&b(n,["mimeType"],l);const u=y(t,["sizeBytes"]);u!=null&&b(n,["sizeBytes"],u);const f=y(t,["createTime"]);f!=null&&b(n,["createTime"],f);const m=y(t,["expirationTime"]);m!=null&&b(n,["expirationTime"],m);const d=y(t,["updateTime"]);d!=null&&b(n,["updateTime"],d);const g=y(t,["sha256Hash"]);g!=null&&b(n,["sha256Hash"],g);const x=y(t,["uri"]);x!=null&&b(n,["uri"],x);const v=y(t,["downloadUri"]);v!=null&&b(n,["downloadUri"],v);const S=y(t,["state"]);S!=null&&b(n,["state"],S);const _=y(t,["source"]);_!=null&&b(n,["source"],_);const D=y(t,["videoMetadata"]);D!=null&&b(n,["videoMetadata"],D);const U=y(t,["error"]);return U!=null&&b(n,["error"],nC(e,U)),n}function iC(e,t){const n={},r=y(t,["file"]);r!=null&&b(n,["file"],aC(e,r));const o=y(t,["config"]);return o!=null&&b(n,["config"],o),n}function rC(e,t){const n={},r=y(t,["name"]);r!=null&&b(n,["_url","file"],gb(e,r));const o=y(t,["config"]);return o!=null&&b(n,["config"],o),n}function oC(e,t){const n={},r=y(t,["name"]);r!=null&&b(n,["_url","file"],gb(e,r));const o=y(t,["config"]);return o!=null&&b(n,["config"],o),n}function sC(e,t){const n={},r=y(t,["details"]);r!=null&&b(n,["details"],r);const o=y(t,["message"]);o!=null&&b(n,["message"],o);const l=y(t,["code"]);return l!=null&&b(n,["code"],l),n}function Ff(e,t){const n={},r=y(t,["name"]);r!=null&&b(n,["name"],r);const o=y(t,["displayName"]);o!=null&&b(n,["displayName"],o);const l=y(t,["mimeType"]);l!=null&&b(n,["mimeType"],l);const u=y(t,["sizeBytes"]);u!=null&&b(n,["sizeBytes"],u);const f=y(t,["createTime"]);f!=null&&b(n,["createTime"],f);const m=y(t,["expirationTime"]);m!=null&&b(n,["expirationTime"],m);const d=y(t,["updateTime"]);d!=null&&b(n,["updateTime"],d);const g=y(t,["sha256Hash"]);g!=null&&b(n,["sha256Hash"],g);const x=y(t,["uri"]);x!=null&&b(n,["uri"],x);const v=y(t,["downloadUri"]);v!=null&&b(n,["downloadUri"],v);const S=y(t,["state"]);S!=null&&b(n,["state"],S);const _=y(t,["source"]);_!=null&&b(n,["source"],_);const D=y(t,["videoMetadata"]);D!=null&&b(n,["videoMetadata"],D);const U=y(t,["error"]);return U!=null&&b(n,["error"],sC(e,U)),n}function lC(e,t){const n={},r=y(t,["nextPageToken"]);r!=null&&b(n,["nextPageToken"],r);const o=y(t,["files"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(u=>Ff(e,u))),b(n,["files"],l)}return n}function uC(){return{}}function cC(){return{}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class dC extends Ds{constructor(t){super(),this.apiClient=t,this.list=async(n={})=>new cm(vs.PAGED_ITEM_FILES,r=>this.listInternal(r),await this.listInternal(n),n)}async upload(t){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(t.file,t.config).then(n=>Ff(this.apiClient,n))}async listInternal(t){var n,r;let o,l="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const f=tC(this.apiClient,t);return l=Ve("files",f._url),u=f._query,delete f.config,delete f._url,delete f._query,o=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(m=>m.json()),o.then(m=>{const d=lC(this.apiClient,m),g=new q2;return Object.assign(g,d),g})}}async createInternal(t){var n,r;let o,l="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const f=iC(this.apiClient,t);return l=Ve("upload/v1beta/files",f._url),u=f._query,delete f.config,delete f._url,delete f._query,o=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(m=>m.json()),o.then(()=>{const m=uC(),d=new Y2;return Object.assign(d,m),d})}}async get(t){var n,r;let o,l="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const f=rC(this.apiClient,t);return l=Ve("files/{file}",f._url),u=f._query,delete f.config,delete f._url,delete f._query,o=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(m=>m.json()),o.then(m=>Ff(this.apiClient,m))}}async delete(t){var n,r;let o,l="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const f=oC(this.apiClient,t);return l=Ve("files/{file}",f._url),u=f._query,delete f.config,delete f._url,delete f._query,o=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(m=>m.json()),o.then(()=>{const m=cC(),d=new Q2;return Object.assign(d,m),d})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function fC(e,t){const n={};if(y(t,["videoMetadata"])!==void 0)throw new Error("videoMetadata parameter is not supported in Gemini API.");const r=y(t,["thought"]);r!=null&&b(n,["thought"],r);const o=y(t,["codeExecutionResult"]);o!=null&&b(n,["codeExecutionResult"],o);const l=y(t,["executableCode"]);l!=null&&b(n,["executableCode"],l);const u=y(t,["fileData"]);u!=null&&b(n,["fileData"],u);const f=y(t,["functionCall"]);f!=null&&b(n,["functionCall"],f);const m=y(t,["functionResponse"]);m!=null&&b(n,["functionResponse"],m);const d=y(t,["inlineData"]);d!=null&&b(n,["inlineData"],d);const g=y(t,["text"]);return g!=null&&b(n,["text"],g),n}function mC(e,t){const n={},r=y(t,["videoMetadata"]);r!=null&&b(n,["videoMetadata"],r);const o=y(t,["thought"]);o!=null&&b(n,["thought"],o);const l=y(t,["codeExecutionResult"]);l!=null&&b(n,["codeExecutionResult"],l);const u=y(t,["executableCode"]);u!=null&&b(n,["executableCode"],u);const f=y(t,["fileData"]);f!=null&&b(n,["fileData"],f);const m=y(t,["functionCall"]);m!=null&&b(n,["functionCall"],m);const d=y(t,["functionResponse"]);d!=null&&b(n,["functionResponse"],d);const g=y(t,["inlineData"]);g!=null&&b(n,["inlineData"],g);const x=y(t,["text"]);return x!=null&&b(n,["text"],x),n}function hC(e,t){const n={},r=y(t,["parts"]);if(r!=null){let l=r;Array.isArray(l)&&(l=l.map(u=>fC(e,u))),b(n,["parts"],l)}const o=y(t,["role"]);return o!=null&&b(n,["role"],o),n}function pC(e,t){const n={},r=y(t,["parts"]);if(r!=null){let l=r;Array.isArray(l)&&(l=l.map(u=>mC(e,u))),b(n,["parts"],l)}const o=y(t,["role"]);return o!=null&&b(n,["role"],o),n}function gC(){return{}}function yC(){return{}}function bC(e,t){const n={},r=y(t,["mode"]);r!=null&&b(n,["mode"],r);const o=y(t,["dynamicThreshold"]);return o!=null&&b(n,["dynamicThreshold"],o),n}function TC(e,t){const n={},r=y(t,["mode"]);r!=null&&b(n,["mode"],r);const o=y(t,["dynamicThreshold"]);return o!=null&&b(n,["dynamicThreshold"],o),n}function EC(e,t){const n={},r=y(t,["dynamicRetrievalConfig"]);return r!=null&&b(n,["dynamicRetrievalConfig"],bC(e,r)),n}function xC(e,t){const n={},r=y(t,["dynamicRetrievalConfig"]);return r!=null&&b(n,["dynamicRetrievalConfig"],TC(e,r)),n}function vC(e,t){const n={};if(y(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");y(t,["googleSearch"])!=null&&b(n,["googleSearch"],gC());const o=y(t,["googleSearchRetrieval"]);o!=null&&b(n,["googleSearchRetrieval"],EC(e,o));const l=y(t,["codeExecution"]);l!=null&&b(n,["codeExecution"],l);const u=y(t,["functionDeclarations"]);return u!=null&&b(n,["functionDeclarations"],u),n}function CC(e,t){const n={},r=y(t,["retrieval"]);r!=null&&b(n,["retrieval"],r),y(t,["googleSearch"])!=null&&b(n,["googleSearch"],yC());const l=y(t,["googleSearchRetrieval"]);l!=null&&b(n,["googleSearchRetrieval"],xC(e,l));const u=y(t,["codeExecution"]);u!=null&&b(n,["codeExecution"],u);const f=y(t,["functionDeclarations"]);return f!=null&&b(n,["functionDeclarations"],f),n}function SC(e,t){const n={},r=y(t,["handle"]);if(r!=null&&b(n,["handle"],r),y(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return n}function AC(e,t){const n={},r=y(t,["handle"]);r!=null&&b(n,["handle"],r);const o=y(t,["transparent"]);return o!=null&&b(n,["transparent"],o),n}function _C(){return{}}function by(){return{}}function IC(e,t){const n={},r=y(t,["disabled"]);r!=null&&b(n,["disabled"],r);const o=y(t,["startOfSpeechSensitivity"]);o!=null&&b(n,["startOfSpeechSensitivity"],o);const l=y(t,["endOfSpeechSensitivity"]);l!=null&&b(n,["endOfSpeechSensitivity"],l);const u=y(t,["prefixPaddingMs"]);u!=null&&b(n,["prefixPaddingMs"],u);const f=y(t,["silenceDurationMs"]);return f!=null&&b(n,["silenceDurationMs"],f),n}function NC(e,t){const n={},r=y(t,["disabled"]);r!=null&&b(n,["disabled"],r);const o=y(t,["startOfSpeechSensitivity"]);o!=null&&b(n,["startOfSpeechSensitivity"],o);const l=y(t,["endOfSpeechSensitivity"]);l!=null&&b(n,["endOfSpeechSensitivity"],l);const u=y(t,["prefixPaddingMs"]);u!=null&&b(n,["prefixPaddingMs"],u);const f=y(t,["silenceDurationMs"]);return f!=null&&b(n,["silenceDurationMs"],f),n}function MC(e,t){const n={},r=y(t,["automaticActivityDetection"]);r!=null&&b(n,["automaticActivityDetection"],IC(e,r));const o=y(t,["activityHandling"]);o!=null&&b(n,["activityHandling"],o);const l=y(t,["turnCoverage"]);return l!=null&&b(n,["turnCoverage"],l),n}function DC(e,t){const n={},r=y(t,["automaticActivityDetection"]);r!=null&&b(n,["automaticActivityDetection"],NC(e,r));const o=y(t,["activityHandling"]);o!=null&&b(n,["activityHandling"],o);const l=y(t,["turnCoverage"]);return l!=null&&b(n,["turnCoverage"],l),n}function RC(e,t){const n={},r=y(t,["targetTokens"]);return r!=null&&b(n,["targetTokens"],r),n}function kC(e,t){const n={},r=y(t,["targetTokens"]);return r!=null&&b(n,["targetTokens"],r),n}function wC(e,t){const n={},r=y(t,["triggerTokens"]);r!=null&&b(n,["triggerTokens"],r);const o=y(t,["slidingWindow"]);return o!=null&&b(n,["slidingWindow"],RC(e,o)),n}function LC(e,t){const n={},r=y(t,["triggerTokens"]);r!=null&&b(n,["triggerTokens"],r);const o=y(t,["slidingWindow"]);return o!=null&&b(n,["slidingWindow"],kC(e,o)),n}function OC(e,t,n){const r={},o=y(t,["generationConfig"]);n!==void 0&&o!=null&&b(n,["setup","generationConfig"],o);const l=y(t,["responseModalities"]);n!==void 0&&l!=null&&b(n,["setup","generationConfig","responseModalities"],l);const u=y(t,["temperature"]);n!==void 0&&u!=null&&b(n,["setup","generationConfig","temperature"],u);const f=y(t,["topP"]);n!==void 0&&f!=null&&b(n,["setup","generationConfig","topP"],f);const m=y(t,["topK"]);n!==void 0&&m!=null&&b(n,["setup","generationConfig","topK"],m);const d=y(t,["maxOutputTokens"]);n!==void 0&&d!=null&&b(n,["setup","generationConfig","maxOutputTokens"],d);const g=y(t,["mediaResolution"]);n!==void 0&&g!=null&&b(n,["setup","generationConfig","mediaResolution"],g);const x=y(t,["seed"]);n!==void 0&&x!=null&&b(n,["setup","generationConfig","seed"],x);const v=y(t,["speechConfig"]);n!==void 0&&v!=null&&b(n,["setup","generationConfig","speechConfig"],v);const S=y(t,["systemInstruction"]);n!==void 0&&S!=null&&b(n,["setup","systemInstruction"],hC(e,pn(e,S)));const _=y(t,["tools"]);if(n!==void 0&&_!=null){let G=Ru(e,_);Array.isArray(G)&&(G=G.map($=>vC(e,Du(e,$)))),b(n,["setup","tools"],G)}const D=y(t,["sessionResumption"]);if(n!==void 0&&D!=null&&b(n,["setup","sessionResumption"],SC(e,D)),y(t,["inputAudioTranscription"])!==void 0)throw new Error("inputAudioTranscription parameter is not supported in Gemini API.");const U=y(t,["outputAudioTranscription"]);n!==void 0&&U!=null&&b(n,["setup","outputAudioTranscription"],_C());const L=y(t,["realtimeInputConfig"]);n!==void 0&&L!=null&&b(n,["setup","realtimeInputConfig"],MC(e,L));const K=y(t,["contextWindowCompression"]);return n!==void 0&&K!=null&&b(n,["setup","contextWindowCompression"],wC(e,K)),r}function PC(e,t,n){const r={},o=y(t,["generationConfig"]);n!==void 0&&o!=null&&b(n,["setup","generationConfig"],o);const l=y(t,["responseModalities"]);n!==void 0&&l!=null&&b(n,["setup","generationConfig","responseModalities"],l);const u=y(t,["temperature"]);n!==void 0&&u!=null&&b(n,["setup","generationConfig","temperature"],u);const f=y(t,["topP"]);n!==void 0&&f!=null&&b(n,["setup","generationConfig","topP"],f);const m=y(t,["topK"]);n!==void 0&&m!=null&&b(n,["setup","generationConfig","topK"],m);const d=y(t,["maxOutputTokens"]);n!==void 0&&d!=null&&b(n,["setup","generationConfig","maxOutputTokens"],d);const g=y(t,["mediaResolution"]);n!==void 0&&g!=null&&b(n,["setup","generationConfig","mediaResolution"],g);const x=y(t,["seed"]);n!==void 0&&x!=null&&b(n,["setup","generationConfig","seed"],x);const v=y(t,["speechConfig"]);n!==void 0&&v!=null&&b(n,["setup","generationConfig","speechConfig"],v);const S=y(t,["systemInstruction"]);n!==void 0&&S!=null&&b(n,["setup","systemInstruction"],pC(e,pn(e,S)));const _=y(t,["tools"]);if(n!==void 0&&_!=null){let $=Ru(e,_);Array.isArray($)&&($=$.map(B=>CC(e,Du(e,B)))),b(n,["setup","tools"],$)}const D=y(t,["sessionResumption"]);n!==void 0&&D!=null&&b(n,["setup","sessionResumption"],AC(e,D));const U=y(t,["inputAudioTranscription"]);n!==void 0&&U!=null&&b(n,["setup","inputAudioTranscription"],by());const L=y(t,["outputAudioTranscription"]);n!==void 0&&L!=null&&b(n,["setup","outputAudioTranscription"],by());const K=y(t,["realtimeInputConfig"]);n!==void 0&&K!=null&&b(n,["setup","realtimeInputConfig"],DC(e,K));const G=y(t,["contextWindowCompression"]);return n!==void 0&&G!=null&&b(n,["setup","contextWindowCompression"],LC(e,G)),r}function BC(e,t){const n={},r=y(t,["model"]);r!=null&&b(n,["setup","model"],_t(e,r));const o=y(t,["config"]);return o!=null&&b(n,["config"],OC(e,o,n)),n}function FC(e,t){const n={},r=y(t,["model"]);r!=null&&b(n,["setup","model"],_t(e,r));const o=y(t,["config"]);return o!=null&&b(n,["config"],PC(e,o,n)),n}function HC(){return{}}function UC(){return{}}function VC(){return{}}function zC(){return{}}function jC(e,t){const n={},r=y(t,["media"]);r!=null&&b(n,["mediaChunks"],cb(e,r));const o=y(t,["audio"]);o!=null&&b(n,["audio"],l2(e,o));const l=y(t,["audioStreamEnd"]);l!=null&&b(n,["audioStreamEnd"],l);const u=y(t,["video"]);u!=null&&b(n,["video"],s2(e,u));const f=y(t,["text"]);return f!=null&&b(n,["text"],f),y(t,["activityStart"])!=null&&b(n,["activityStart"],HC()),y(t,["activityEnd"])!=null&&b(n,["activityEnd"],VC()),n}function GC(e,t){const n={},r=y(t,["media"]);if(r!=null&&b(n,["mediaChunks"],cb(e,r)),y(t,["audio"])!==void 0)throw new Error("audio parameter is not supported in Vertex AI.");const o=y(t,["audioStreamEnd"]);if(o!=null&&b(n,["audioStreamEnd"],o),y(t,["video"])!==void 0)throw new Error("video parameter is not supported in Vertex AI.");if(y(t,["text"])!==void 0)throw new Error("text parameter is not supported in Vertex AI.");return y(t,["activityStart"])!=null&&b(n,["activityStart"],UC()),y(t,["activityEnd"])!=null&&b(n,["activityEnd"],zC()),n}function qC(){return{}}function YC(){return{}}function QC(e,t){const n={},r=y(t,["thought"]);r!=null&&b(n,["thought"],r);const o=y(t,["codeExecutionResult"]);o!=null&&b(n,["codeExecutionResult"],o);const l=y(t,["executableCode"]);l!=null&&b(n,["executableCode"],l);const u=y(t,["fileData"]);u!=null&&b(n,["fileData"],u);const f=y(t,["functionCall"]);f!=null&&b(n,["functionCall"],f);const m=y(t,["functionResponse"]);m!=null&&b(n,["functionResponse"],m);const d=y(t,["inlineData"]);d!=null&&b(n,["inlineData"],d);const g=y(t,["text"]);return g!=null&&b(n,["text"],g),n}function KC(e,t){const n={},r=y(t,["videoMetadata"]);r!=null&&b(n,["videoMetadata"],r);const o=y(t,["thought"]);o!=null&&b(n,["thought"],o);const l=y(t,["codeExecutionResult"]);l!=null&&b(n,["codeExecutionResult"],l);const u=y(t,["executableCode"]);u!=null&&b(n,["executableCode"],u);const f=y(t,["fileData"]);f!=null&&b(n,["fileData"],f);const m=y(t,["functionCall"]);m!=null&&b(n,["functionCall"],m);const d=y(t,["functionResponse"]);d!=null&&b(n,["functionResponse"],d);const g=y(t,["inlineData"]);g!=null&&b(n,["inlineData"],g);const x=y(t,["text"]);return x!=null&&b(n,["text"],x),n}function $C(e,t){const n={},r=y(t,["parts"]);if(r!=null){let l=r;Array.isArray(l)&&(l=l.map(u=>QC(e,u))),b(n,["parts"],l)}const o=y(t,["role"]);return o!=null&&b(n,["role"],o),n}function XC(e,t){const n={},r=y(t,["parts"]);if(r!=null){let l=r;Array.isArray(l)&&(l=l.map(u=>KC(e,u))),b(n,["parts"],l)}const o=y(t,["role"]);return o!=null&&b(n,["role"],o),n}function Ty(e,t){const n={},r=y(t,["text"]);r!=null&&b(n,["text"],r);const o=y(t,["finished"]);return o!=null&&b(n,["finished"],o),n}function Ey(e,t){const n={},r=y(t,["text"]);r!=null&&b(n,["text"],r);const o=y(t,["finished"]);return o!=null&&b(n,["finished"],o),n}function WC(e,t){const n={},r=y(t,["modelTurn"]);r!=null&&b(n,["modelTurn"],$C(e,r));const o=y(t,["turnComplete"]);o!=null&&b(n,["turnComplete"],o);const l=y(t,["interrupted"]);l!=null&&b(n,["interrupted"],l);const u=y(t,["groundingMetadata"]);u!=null&&b(n,["groundingMetadata"],u);const f=y(t,["generationComplete"]);f!=null&&b(n,["generationComplete"],f);const m=y(t,["inputTranscription"]);m!=null&&b(n,["inputTranscription"],Ty(e,m));const d=y(t,["outputTranscription"]);return d!=null&&b(n,["outputTranscription"],Ty(e,d)),n}function JC(e,t){const n={},r=y(t,["modelTurn"]);r!=null&&b(n,["modelTurn"],XC(e,r));const o=y(t,["turnComplete"]);o!=null&&b(n,["turnComplete"],o);const l=y(t,["interrupted"]);l!=null&&b(n,["interrupted"],l);const u=y(t,["groundingMetadata"]);u!=null&&b(n,["groundingMetadata"],u);const f=y(t,["generationComplete"]);f!=null&&b(n,["generationComplete"],f);const m=y(t,["inputTranscription"]);m!=null&&b(n,["inputTranscription"],Ey(e,m));const d=y(t,["outputTranscription"]);return d!=null&&b(n,["outputTranscription"],Ey(e,d)),n}function ZC(e,t){const n={},r=y(t,["id"]);r!=null&&b(n,["id"],r);const o=y(t,["args"]);o!=null&&b(n,["args"],o);const l=y(t,["name"]);return l!=null&&b(n,["name"],l),n}function eS(e,t){const n={},r=y(t,["args"]);r!=null&&b(n,["args"],r);const o=y(t,["name"]);return o!=null&&b(n,["name"],o),n}function tS(e,t){const n={},r=y(t,["functionCalls"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(l=>ZC(e,l))),b(n,["functionCalls"],o)}return n}function nS(e,t){const n={},r=y(t,["functionCalls"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(l=>eS(e,l))),b(n,["functionCalls"],o)}return n}function aS(e,t){const n={},r=y(t,["ids"]);return r!=null&&b(n,["ids"],r),n}function iS(e,t){const n={},r=y(t,["ids"]);return r!=null&&b(n,["ids"],r),n}function Wl(e,t){const n={},r=y(t,["modality"]);r!=null&&b(n,["modality"],r);const o=y(t,["tokenCount"]);return o!=null&&b(n,["tokenCount"],o),n}function Jl(e,t){const n={},r=y(t,["modality"]);r!=null&&b(n,["modality"],r);const o=y(t,["tokenCount"]);return o!=null&&b(n,["tokenCount"],o),n}function rS(e,t){const n={},r=y(t,["promptTokenCount"]);r!=null&&b(n,["promptTokenCount"],r);const o=y(t,["cachedContentTokenCount"]);o!=null&&b(n,["cachedContentTokenCount"],o);const l=y(t,["responseTokenCount"]);l!=null&&b(n,["responseTokenCount"],l);const u=y(t,["toolUsePromptTokenCount"]);u!=null&&b(n,["toolUsePromptTokenCount"],u);const f=y(t,["thoughtsTokenCount"]);f!=null&&b(n,["thoughtsTokenCount"],f);const m=y(t,["totalTokenCount"]);m!=null&&b(n,["totalTokenCount"],m);const d=y(t,["promptTokensDetails"]);if(d!=null){let S=d;Array.isArray(S)&&(S=S.map(_=>Wl(e,_))),b(n,["promptTokensDetails"],S)}const g=y(t,["cacheTokensDetails"]);if(g!=null){let S=g;Array.isArray(S)&&(S=S.map(_=>Wl(e,_))),b(n,["cacheTokensDetails"],S)}const x=y(t,["responseTokensDetails"]);if(x!=null){let S=x;Array.isArray(S)&&(S=S.map(_=>Wl(e,_))),b(n,["responseTokensDetails"],S)}const v=y(t,["toolUsePromptTokensDetails"]);if(v!=null){let S=v;Array.isArray(S)&&(S=S.map(_=>Wl(e,_))),b(n,["toolUsePromptTokensDetails"],S)}return n}function oS(e,t){const n={},r=y(t,["promptTokenCount"]);r!=null&&b(n,["promptTokenCount"],r);const o=y(t,["cachedContentTokenCount"]);o!=null&&b(n,["cachedContentTokenCount"],o);const l=y(t,["candidatesTokenCount"]);l!=null&&b(n,["responseTokenCount"],l);const u=y(t,["toolUsePromptTokenCount"]);u!=null&&b(n,["toolUsePromptTokenCount"],u);const f=y(t,["thoughtsTokenCount"]);f!=null&&b(n,["thoughtsTokenCount"],f);const m=y(t,["totalTokenCount"]);m!=null&&b(n,["totalTokenCount"],m);const d=y(t,["promptTokensDetails"]);if(d!=null){let _=d;Array.isArray(_)&&(_=_.map(D=>Jl(e,D))),b(n,["promptTokensDetails"],_)}const g=y(t,["cacheTokensDetails"]);if(g!=null){let _=g;Array.isArray(_)&&(_=_.map(D=>Jl(e,D))),b(n,["cacheTokensDetails"],_)}const x=y(t,["candidatesTokensDetails"]);if(x!=null){let _=x;Array.isArray(_)&&(_=_.map(D=>Jl(e,D))),b(n,["responseTokensDetails"],_)}const v=y(t,["toolUsePromptTokensDetails"]);if(v!=null){let _=v;Array.isArray(_)&&(_=_.map(D=>Jl(e,D))),b(n,["toolUsePromptTokensDetails"],_)}const S=y(t,["trafficType"]);return S!=null&&b(n,["trafficType"],S),n}function sS(e,t){const n={},r=y(t,["timeLeft"]);return r!=null&&b(n,["timeLeft"],r),n}function lS(e,t){const n={},r=y(t,["timeLeft"]);return r!=null&&b(n,["timeLeft"],r),n}function uS(e,t){const n={},r=y(t,["newHandle"]);r!=null&&b(n,["newHandle"],r);const o=y(t,["resumable"]);o!=null&&b(n,["resumable"],o);const l=y(t,["lastConsumedClientMessageIndex"]);return l!=null&&b(n,["lastConsumedClientMessageIndex"],l),n}function cS(e,t){const n={},r=y(t,["newHandle"]);r!=null&&b(n,["newHandle"],r);const o=y(t,["resumable"]);o!=null&&b(n,["resumable"],o);const l=y(t,["lastConsumedClientMessageIndex"]);return l!=null&&b(n,["lastConsumedClientMessageIndex"],l),n}function dS(e,t){const n={};y(t,["setupComplete"])!=null&&b(n,["setupComplete"],qC());const o=y(t,["serverContent"]);o!=null&&b(n,["serverContent"],WC(e,o));const l=y(t,["toolCall"]);l!=null&&b(n,["toolCall"],tS(e,l));const u=y(t,["toolCallCancellation"]);u!=null&&b(n,["toolCallCancellation"],aS(e,u));const f=y(t,["usageMetadata"]);f!=null&&b(n,["usageMetadata"],rS(e,f));const m=y(t,["goAway"]);m!=null&&b(n,["goAway"],sS(e,m));const d=y(t,["sessionResumptionUpdate"]);return d!=null&&b(n,["sessionResumptionUpdate"],uS(e,d)),n}function fS(e,t){const n={};y(t,["setupComplete"])!=null&&b(n,["setupComplete"],YC());const o=y(t,["serverContent"]);o!=null&&b(n,["serverContent"],JC(e,o));const l=y(t,["toolCall"]);l!=null&&b(n,["toolCall"],nS(e,l));const u=y(t,["toolCallCancellation"]);u!=null&&b(n,["toolCallCancellation"],iS(e,u));const f=y(t,["usageMetadata"]);f!=null&&b(n,["usageMetadata"],oS(e,f));const m=y(t,["goAway"]);m!=null&&b(n,["goAway"],lS(e,m));const d=y(t,["sessionResumptionUpdate"]);return d!=null&&b(n,["sessionResumptionUpdate"],cS(e,d)),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function mS(e,t){const n={};if(y(t,["videoMetadata"])!==void 0)throw new Error("videoMetadata parameter is not supported in Gemini API.");const r=y(t,["thought"]);r!=null&&b(n,["thought"],r);const o=y(t,["codeExecutionResult"]);o!=null&&b(n,["codeExecutionResult"],o);const l=y(t,["executableCode"]);l!=null&&b(n,["executableCode"],l);const u=y(t,["fileData"]);u!=null&&b(n,["fileData"],u);const f=y(t,["functionCall"]);f!=null&&b(n,["functionCall"],f);const m=y(t,["functionResponse"]);m!=null&&b(n,["functionResponse"],m);const d=y(t,["inlineData"]);d!=null&&b(n,["inlineData"],d);const g=y(t,["text"]);return g!=null&&b(n,["text"],g),n}function ku(e,t){const n={},r=y(t,["parts"]);if(r!=null){let l=r;Array.isArray(l)&&(l=l.map(u=>mS(e,u))),b(n,["parts"],l)}const o=y(t,["role"]);return o!=null&&b(n,["role"],o),n}function hS(e,t){const n={};if(y(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const r=y(t,["category"]);r!=null&&b(n,["category"],r);const o=y(t,["threshold"]);return o!=null&&b(n,["threshold"],o),n}function pS(){return{}}function gS(e,t){const n={},r=y(t,["mode"]);r!=null&&b(n,["mode"],r);const o=y(t,["dynamicThreshold"]);return o!=null&&b(n,["dynamicThreshold"],o),n}function yS(e,t){const n={},r=y(t,["dynamicRetrievalConfig"]);return r!=null&&b(n,["dynamicRetrievalConfig"],gS(e,r)),n}function bS(e,t){const n={};if(y(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");y(t,["googleSearch"])!=null&&b(n,["googleSearch"],pS());const o=y(t,["googleSearchRetrieval"]);o!=null&&b(n,["googleSearchRetrieval"],yS(e,o));const l=y(t,["codeExecution"]);l!=null&&b(n,["codeExecution"],l);const u=y(t,["functionDeclarations"]);return u!=null&&b(n,["functionDeclarations"],u),n}function TS(e,t){const n={},r=y(t,["mode"]);r!=null&&b(n,["mode"],r);const o=y(t,["allowedFunctionNames"]);return o!=null&&b(n,["allowedFunctionNames"],o),n}function ES(e,t){const n={},r=y(t,["functionCallingConfig"]);return r!=null&&b(n,["functionCallingConfig"],TS(e,r)),n}function xS(e,t){const n={},r=y(t,["voiceName"]);return r!=null&&b(n,["voiceName"],r),n}function vS(e,t){const n={},r=y(t,["prebuiltVoiceConfig"]);return r!=null&&b(n,["prebuiltVoiceConfig"],xS(e,r)),n}function CS(e,t){const n={},r=y(t,["voiceConfig"]);r!=null&&b(n,["voiceConfig"],vS(e,r));const o=y(t,["languageCode"]);return o!=null&&b(n,["languageCode"],o),n}function SS(e,t){const n={},r=y(t,["includeThoughts"]);r!=null&&b(n,["includeThoughts"],r);const o=y(t,["thinkingBudget"]);return o!=null&&b(n,["thinkingBudget"],o),n}function AS(e,t,n){const r={},o=y(t,["systemInstruction"]);n!==void 0&&o!=null&&b(n,["systemInstruction"],ku(e,pn(e,o)));const l=y(t,["temperature"]);l!=null&&b(r,["temperature"],l);const u=y(t,["topP"]);u!=null&&b(r,["topP"],u);const f=y(t,["topK"]);f!=null&&b(r,["topK"],f);const m=y(t,["candidateCount"]);m!=null&&b(r,["candidateCount"],m);const d=y(t,["maxOutputTokens"]);d!=null&&b(r,["maxOutputTokens"],d);const g=y(t,["stopSequences"]);g!=null&&b(r,["stopSequences"],g);const x=y(t,["responseLogprobs"]);x!=null&&b(r,["responseLogprobs"],x);const v=y(t,["logprobs"]);v!=null&&b(r,["logprobs"],v);const S=y(t,["presencePenalty"]);S!=null&&b(r,["presencePenalty"],S);const _=y(t,["frequencyPenalty"]);_!=null&&b(r,["frequencyPenalty"],_);const D=y(t,["seed"]);D!=null&&b(r,["seed"],D);const U=y(t,["responseMimeType"]);U!=null&&b(r,["responseMimeType"],U);const L=y(t,["responseSchema"]);if(L!=null&&b(r,["responseSchema"],mb(e,L)),y(t,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(y(t,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const K=y(t,["safetySettings"]);if(n!==void 0&&K!=null){let q=K;Array.isArray(q)&&(q=q.map(be=>hS(e,be))),b(n,["safetySettings"],q)}const G=y(t,["tools"]);if(n!==void 0&&G!=null){let q=Ru(e,G);Array.isArray(q)&&(q=q.map(be=>bS(e,Du(e,be)))),b(n,["tools"],q)}const $=y(t,["toolConfig"]);if(n!==void 0&&$!=null&&b(n,["toolConfig"],ES(e,$)),y(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const B=y(t,["cachedContent"]);n!==void 0&&B!=null&&b(n,["cachedContent"],ui(e,B));const z=y(t,["responseModalities"]);z!=null&&b(r,["responseModalities"],z);const se=y(t,["mediaResolution"]);se!=null&&b(r,["mediaResolution"],se);const ye=y(t,["speechConfig"]);if(ye!=null&&b(r,["speechConfig"],CS(e,hb(e,ye))),y(t,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const Ae=y(t,["thinkingConfig"]);return Ae!=null&&b(r,["thinkingConfig"],SS(e,Ae)),r}function xy(e,t){const n={},r=y(t,["model"]);r!=null&&b(n,["_url","model"],_t(e,r));const o=y(t,["contents"]);if(o!=null){let u=li(e,o);Array.isArray(u)&&(u=u.map(f=>ku(e,f))),b(n,["contents"],u)}const l=y(t,["config"]);return l!=null&&b(n,["generationConfig"],AS(e,l,n)),n}function _S(e,t,n){const r={},o=y(t,["taskType"]);n!==void 0&&o!=null&&b(n,["requests[]","taskType"],o);const l=y(t,["title"]);n!==void 0&&l!=null&&b(n,["requests[]","title"],l);const u=y(t,["outputDimensionality"]);if(n!==void 0&&u!=null&&b(n,["requests[]","outputDimensionality"],u),y(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(y(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return r}function IS(e,t){const n={},r=y(t,["model"]);r!=null&&b(n,["_url","model"],_t(e,r));const o=y(t,["contents"]);o!=null&&b(n,["requests[]","content"],fb(e,o));const l=y(t,["config"]);l!=null&&b(n,["config"],_S(e,l,n));const u=y(t,["model"]);return u!==void 0&&b(n,["requests[]","model"],_t(e,u)),n}function NS(e,t,n){const r={};if(y(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(y(t,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const o=y(t,["numberOfImages"]);n!==void 0&&o!=null&&b(n,["parameters","sampleCount"],o);const l=y(t,["aspectRatio"]);n!==void 0&&l!=null&&b(n,["parameters","aspectRatio"],l);const u=y(t,["guidanceScale"]);if(n!==void 0&&u!=null&&b(n,["parameters","guidanceScale"],u),y(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const f=y(t,["safetyFilterLevel"]);n!==void 0&&f!=null&&b(n,["parameters","safetySetting"],f);const m=y(t,["personGeneration"]);n!==void 0&&m!=null&&b(n,["parameters","personGeneration"],m);const d=y(t,["includeSafetyAttributes"]);n!==void 0&&d!=null&&b(n,["parameters","includeSafetyAttributes"],d);const g=y(t,["includeRaiReason"]);n!==void 0&&g!=null&&b(n,["parameters","includeRaiReason"],g);const x=y(t,["language"]);n!==void 0&&x!=null&&b(n,["parameters","language"],x);const v=y(t,["outputMimeType"]);n!==void 0&&v!=null&&b(n,["parameters","outputOptions","mimeType"],v);const S=y(t,["outputCompressionQuality"]);if(n!==void 0&&S!=null&&b(n,["parameters","outputOptions","compressionQuality"],S),y(t,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(y(t,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return r}function MS(e,t){const n={},r=y(t,["model"]);r!=null&&b(n,["_url","model"],_t(e,r));const o=y(t,["prompt"]);o!=null&&b(n,["instances[0]","prompt"],o);const l=y(t,["config"]);return l!=null&&b(n,["config"],NS(e,l,n)),n}function DS(e,t){const n={},r=y(t,["model"]);r!=null&&b(n,["_url","name"],_t(e,r));const o=y(t,["config"]);return o!=null&&b(n,["config"],o),n}function RS(e,t,n){const r={},o=y(t,["displayName"]);n!==void 0&&o!=null&&b(n,["displayName"],o);const l=y(t,["description"]);return n!==void 0&&l!=null&&b(n,["description"],l),r}function kS(e,t){const n={},r=y(t,["model"]);r!=null&&b(n,["_url","name"],_t(e,r));const o=y(t,["config"]);return o!=null&&b(n,["config"],RS(e,o,n)),n}function wS(e,t){const n={},r=y(t,["model"]);r!=null&&b(n,["_url","name"],_t(e,r));const o=y(t,["config"]);return o!=null&&b(n,["config"],o),n}function LS(e,t){const n={};if(y(t,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(y(t,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(y(t,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return n}function OS(e,t){const n={},r=y(t,["model"]);r!=null&&b(n,["_url","model"],_t(e,r));const o=y(t,["contents"]);if(o!=null){let u=li(e,o);Array.isArray(u)&&(u=u.map(f=>ku(e,f))),b(n,["contents"],u)}const l=y(t,["config"]);return l!=null&&b(n,["config"],LS(e,l)),n}function PS(e,t){const n={};if(y(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const r=y(t,["imageBytes"]);r!=null&&b(n,["bytesBase64Encoded"],ci(e,r));const o=y(t,["mimeType"]);return o!=null&&b(n,["mimeType"],o),n}function BS(e,t,n){const r={},o=y(t,["numberOfVideos"]);if(n!==void 0&&o!=null&&b(n,["parameters","sampleCount"],o),y(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(y(t,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const l=y(t,["durationSeconds"]);if(n!==void 0&&l!=null&&b(n,["parameters","durationSeconds"],l),y(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const u=y(t,["aspectRatio"]);if(n!==void 0&&u!=null&&b(n,["parameters","aspectRatio"],u),y(t,["resolution"])!==void 0)throw new Error("resolution parameter is not supported in Gemini API.");const f=y(t,["personGeneration"]);if(n!==void 0&&f!=null&&b(n,["parameters","personGeneration"],f),y(t,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const m=y(t,["negativePrompt"]);if(n!==void 0&&m!=null&&b(n,["parameters","negativePrompt"],m),y(t,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return r}function FS(e,t){const n={},r=y(t,["model"]);r!=null&&b(n,["_url","model"],_t(e,r));const o=y(t,["prompt"]);o!=null&&b(n,["instances[0]","prompt"],o);const l=y(t,["image"]);l!=null&&b(n,["instances[0]","image"],PS(e,l));const u=y(t,["config"]);return u!=null&&b(n,["config"],BS(e,u,n)),n}function HS(e,t){const n={},r=y(t,["videoMetadata"]);r!=null&&b(n,["videoMetadata"],r);const o=y(t,["thought"]);o!=null&&b(n,["thought"],o);const l=y(t,["codeExecutionResult"]);l!=null&&b(n,["codeExecutionResult"],l);const u=y(t,["executableCode"]);u!=null&&b(n,["executableCode"],u);const f=y(t,["fileData"]);f!=null&&b(n,["fileData"],f);const m=y(t,["functionCall"]);m!=null&&b(n,["functionCall"],m);const d=y(t,["functionResponse"]);d!=null&&b(n,["functionResponse"],d);const g=y(t,["inlineData"]);g!=null&&b(n,["inlineData"],g);const x=y(t,["text"]);return x!=null&&b(n,["text"],x),n}function Qr(e,t){const n={},r=y(t,["parts"]);if(r!=null){let l=r;Array.isArray(l)&&(l=l.map(u=>HS(e,u))),b(n,["parts"],l)}const o=y(t,["role"]);return o!=null&&b(n,["role"],o),n}function US(e,t){const n={},r=y(t,["featureSelectionPreference"]);return r!=null&&b(n,["featureSelectionPreference"],r),n}function VS(e,t){const n={},r=y(t,["method"]);r!=null&&b(n,["method"],r);const o=y(t,["category"]);o!=null&&b(n,["category"],o);const l=y(t,["threshold"]);return l!=null&&b(n,["threshold"],l),n}function zS(){return{}}function jS(e,t){const n={},r=y(t,["mode"]);r!=null&&b(n,["mode"],r);const o=y(t,["dynamicThreshold"]);return o!=null&&b(n,["dynamicThreshold"],o),n}function GS(e,t){const n={},r=y(t,["dynamicRetrievalConfig"]);return r!=null&&b(n,["dynamicRetrievalConfig"],jS(e,r)),n}function bb(e,t){const n={},r=y(t,["retrieval"]);r!=null&&b(n,["retrieval"],r),y(t,["googleSearch"])!=null&&b(n,["googleSearch"],zS());const l=y(t,["googleSearchRetrieval"]);l!=null&&b(n,["googleSearchRetrieval"],GS(e,l));const u=y(t,["codeExecution"]);u!=null&&b(n,["codeExecution"],u);const f=y(t,["functionDeclarations"]);return f!=null&&b(n,["functionDeclarations"],f),n}function qS(e,t){const n={},r=y(t,["mode"]);r!=null&&b(n,["mode"],r);const o=y(t,["allowedFunctionNames"]);return o!=null&&b(n,["allowedFunctionNames"],o),n}function YS(e,t){const n={},r=y(t,["functionCallingConfig"]);return r!=null&&b(n,["functionCallingConfig"],qS(e,r)),n}function QS(e,t){const n={},r=y(t,["voiceName"]);return r!=null&&b(n,["voiceName"],r),n}function KS(e,t){const n={},r=y(t,["prebuiltVoiceConfig"]);return r!=null&&b(n,["prebuiltVoiceConfig"],QS(e,r)),n}function $S(e,t){const n={},r=y(t,["voiceConfig"]);r!=null&&b(n,["voiceConfig"],KS(e,r));const o=y(t,["languageCode"]);return o!=null&&b(n,["languageCode"],o),n}function XS(e,t){const n={},r=y(t,["includeThoughts"]);r!=null&&b(n,["includeThoughts"],r);const o=y(t,["thinkingBudget"]);return o!=null&&b(n,["thinkingBudget"],o),n}function WS(e,t,n){const r={},o=y(t,["systemInstruction"]);n!==void 0&&o!=null&&b(n,["systemInstruction"],Qr(e,pn(e,o)));const l=y(t,["temperature"]);l!=null&&b(r,["temperature"],l);const u=y(t,["topP"]);u!=null&&b(r,["topP"],u);const f=y(t,["topK"]);f!=null&&b(r,["topK"],f);const m=y(t,["candidateCount"]);m!=null&&b(r,["candidateCount"],m);const d=y(t,["maxOutputTokens"]);d!=null&&b(r,["maxOutputTokens"],d);const g=y(t,["stopSequences"]);g!=null&&b(r,["stopSequences"],g);const x=y(t,["responseLogprobs"]);x!=null&&b(r,["responseLogprobs"],x);const v=y(t,["logprobs"]);v!=null&&b(r,["logprobs"],v);const S=y(t,["presencePenalty"]);S!=null&&b(r,["presencePenalty"],S);const _=y(t,["frequencyPenalty"]);_!=null&&b(r,["frequencyPenalty"],_);const D=y(t,["seed"]);D!=null&&b(r,["seed"],D);const U=y(t,["responseMimeType"]);U!=null&&b(r,["responseMimeType"],U);const L=y(t,["responseSchema"]);L!=null&&b(r,["responseSchema"],mb(e,L));const K=y(t,["routingConfig"]);K!=null&&b(r,["routingConfig"],K);const G=y(t,["modelSelectionConfig"]);G!=null&&b(r,["modelConfig"],US(e,G));const $=y(t,["safetySettings"]);if(n!==void 0&&$!=null){let me=$;Array.isArray(me)&&(me=me.map(ie=>VS(e,ie))),b(n,["safetySettings"],me)}const B=y(t,["tools"]);if(n!==void 0&&B!=null){let me=Ru(e,B);Array.isArray(me)&&(me=me.map(ie=>bb(e,Du(e,ie)))),b(n,["tools"],me)}const z=y(t,["toolConfig"]);n!==void 0&&z!=null&&b(n,["toolConfig"],YS(e,z));const se=y(t,["labels"]);n!==void 0&&se!=null&&b(n,["labels"],se);const ye=y(t,["cachedContent"]);n!==void 0&&ye!=null&&b(n,["cachedContent"],ui(e,ye));const Ae=y(t,["responseModalities"]);Ae!=null&&b(r,["responseModalities"],Ae);const q=y(t,["mediaResolution"]);q!=null&&b(r,["mediaResolution"],q);const be=y(t,["speechConfig"]);be!=null&&b(r,["speechConfig"],$S(e,hb(e,be)));const Ee=y(t,["audioTimestamp"]);Ee!=null&&b(r,["audioTimestamp"],Ee);const Ce=y(t,["thinkingConfig"]);return Ce!=null&&b(r,["thinkingConfig"],XS(e,Ce)),r}function vy(e,t){const n={},r=y(t,["model"]);r!=null&&b(n,["_url","model"],_t(e,r));const o=y(t,["contents"]);if(o!=null){let u=li(e,o);Array.isArray(u)&&(u=u.map(f=>Qr(e,f))),b(n,["contents"],u)}const l=y(t,["config"]);return l!=null&&b(n,["generationConfig"],WS(e,l,n)),n}function JS(e,t,n){const r={},o=y(t,["taskType"]);n!==void 0&&o!=null&&b(n,["instances[]","task_type"],o);const l=y(t,["title"]);n!==void 0&&l!=null&&b(n,["instances[]","title"],l);const u=y(t,["outputDimensionality"]);n!==void 0&&u!=null&&b(n,["parameters","outputDimensionality"],u);const f=y(t,["mimeType"]);n!==void 0&&f!=null&&b(n,["instances[]","mimeType"],f);const m=y(t,["autoTruncate"]);return n!==void 0&&m!=null&&b(n,["parameters","autoTruncate"],m),r}function ZS(e,t){const n={},r=y(t,["model"]);r!=null&&b(n,["_url","model"],_t(e,r));const o=y(t,["contents"]);o!=null&&b(n,["instances[]","content"],fb(e,o));const l=y(t,["config"]);return l!=null&&b(n,["config"],JS(e,l,n)),n}function eA(e,t,n){const r={},o=y(t,["outputGcsUri"]);n!==void 0&&o!=null&&b(n,["parameters","storageUri"],o);const l=y(t,["negativePrompt"]);n!==void 0&&l!=null&&b(n,["parameters","negativePrompt"],l);const u=y(t,["numberOfImages"]);n!==void 0&&u!=null&&b(n,["parameters","sampleCount"],u);const f=y(t,["aspectRatio"]);n!==void 0&&f!=null&&b(n,["parameters","aspectRatio"],f);const m=y(t,["guidanceScale"]);n!==void 0&&m!=null&&b(n,["parameters","guidanceScale"],m);const d=y(t,["seed"]);n!==void 0&&d!=null&&b(n,["parameters","seed"],d);const g=y(t,["safetyFilterLevel"]);n!==void 0&&g!=null&&b(n,["parameters","safetySetting"],g);const x=y(t,["personGeneration"]);n!==void 0&&x!=null&&b(n,["parameters","personGeneration"],x);const v=y(t,["includeSafetyAttributes"]);n!==void 0&&v!=null&&b(n,["parameters","includeSafetyAttributes"],v);const S=y(t,["includeRaiReason"]);n!==void 0&&S!=null&&b(n,["parameters","includeRaiReason"],S);const _=y(t,["language"]);n!==void 0&&_!=null&&b(n,["parameters","language"],_);const D=y(t,["outputMimeType"]);n!==void 0&&D!=null&&b(n,["parameters","outputOptions","mimeType"],D);const U=y(t,["outputCompressionQuality"]);n!==void 0&&U!=null&&b(n,["parameters","outputOptions","compressionQuality"],U);const L=y(t,["addWatermark"]);n!==void 0&&L!=null&&b(n,["parameters","addWatermark"],L);const K=y(t,["enhancePrompt"]);return n!==void 0&&K!=null&&b(n,["parameters","enhancePrompt"],K),r}function tA(e,t){const n={},r=y(t,["model"]);r!=null&&b(n,["_url","model"],_t(e,r));const o=y(t,["prompt"]);o!=null&&b(n,["instances[0]","prompt"],o);const l=y(t,["config"]);return l!=null&&b(n,["config"],eA(e,l,n)),n}function nA(e,t){const n={},r=y(t,["model"]);r!=null&&b(n,["_url","name"],_t(e,r));const o=y(t,["config"]);return o!=null&&b(n,["config"],o),n}function aA(e,t,n){const r={},o=y(t,["displayName"]);n!==void 0&&o!=null&&b(n,["displayName"],o);const l=y(t,["description"]);return n!==void 0&&l!=null&&b(n,["description"],l),r}function iA(e,t){const n={},r=y(t,["model"]);r!=null&&b(n,["_url","model"],_t(e,r));const o=y(t,["config"]);return o!=null&&b(n,["config"],aA(e,o,n)),n}function rA(e,t){const n={},r=y(t,["model"]);r!=null&&b(n,["_url","name"],_t(e,r));const o=y(t,["config"]);return o!=null&&b(n,["config"],o),n}function oA(e,t,n){const r={},o=y(t,["systemInstruction"]);n!==void 0&&o!=null&&b(n,["systemInstruction"],Qr(e,pn(e,o)));const l=y(t,["tools"]);if(n!==void 0&&l!=null){let f=l;Array.isArray(f)&&(f=f.map(m=>bb(e,m))),b(n,["tools"],f)}const u=y(t,["generationConfig"]);return n!==void 0&&u!=null&&b(n,["generationConfig"],u),r}function sA(e,t){const n={},r=y(t,["model"]);r!=null&&b(n,["_url","model"],_t(e,r));const o=y(t,["contents"]);if(o!=null){let u=li(e,o);Array.isArray(u)&&(u=u.map(f=>Qr(e,f))),b(n,["contents"],u)}const l=y(t,["config"]);return l!=null&&b(n,["config"],oA(e,l,n)),n}function lA(e,t){const n={},r=y(t,["model"]);r!=null&&b(n,["_url","model"],_t(e,r));const o=y(t,["contents"]);if(o!=null){let u=li(e,o);Array.isArray(u)&&(u=u.map(f=>Qr(e,f))),b(n,["contents"],u)}const l=y(t,["config"]);return l!=null&&b(n,["config"],l),n}function uA(e,t){const n={},r=y(t,["gcsUri"]);r!=null&&b(n,["gcsUri"],r);const o=y(t,["imageBytes"]);o!=null&&b(n,["bytesBase64Encoded"],ci(e,o));const l=y(t,["mimeType"]);return l!=null&&b(n,["mimeType"],l),n}function cA(e,t,n){const r={},o=y(t,["numberOfVideos"]);n!==void 0&&o!=null&&b(n,["parameters","sampleCount"],o);const l=y(t,["outputGcsUri"]);n!==void 0&&l!=null&&b(n,["parameters","storageUri"],l);const u=y(t,["fps"]);n!==void 0&&u!=null&&b(n,["parameters","fps"],u);const f=y(t,["durationSeconds"]);n!==void 0&&f!=null&&b(n,["parameters","durationSeconds"],f);const m=y(t,["seed"]);n!==void 0&&m!=null&&b(n,["parameters","seed"],m);const d=y(t,["aspectRatio"]);n!==void 0&&d!=null&&b(n,["parameters","aspectRatio"],d);const g=y(t,["resolution"]);n!==void 0&&g!=null&&b(n,["parameters","resolution"],g);const x=y(t,["personGeneration"]);n!==void 0&&x!=null&&b(n,["parameters","personGeneration"],x);const v=y(t,["pubsubTopic"]);n!==void 0&&v!=null&&b(n,["parameters","pubsubTopic"],v);const S=y(t,["negativePrompt"]);n!==void 0&&S!=null&&b(n,["parameters","negativePrompt"],S);const _=y(t,["enhancePrompt"]);return n!==void 0&&_!=null&&b(n,["parameters","enhancePrompt"],_),r}function dA(e,t){const n={},r=y(t,["model"]);r!=null&&b(n,["_url","model"],_t(e,r));const o=y(t,["prompt"]);o!=null&&b(n,["instances[0]","prompt"],o);const l=y(t,["image"]);l!=null&&b(n,["instances[0]","image"],uA(e,l));const u=y(t,["config"]);return u!=null&&b(n,["config"],cA(e,u,n)),n}function fA(e,t){const n={},r=y(t,["thought"]);r!=null&&b(n,["thought"],r);const o=y(t,["codeExecutionResult"]);o!=null&&b(n,["codeExecutionResult"],o);const l=y(t,["executableCode"]);l!=null&&b(n,["executableCode"],l);const u=y(t,["fileData"]);u!=null&&b(n,["fileData"],u);const f=y(t,["functionCall"]);f!=null&&b(n,["functionCall"],f);const m=y(t,["functionResponse"]);m!=null&&b(n,["functionResponse"],m);const d=y(t,["inlineData"]);d!=null&&b(n,["inlineData"],d);const g=y(t,["text"]);return g!=null&&b(n,["text"],g),n}function mA(e,t){const n={},r=y(t,["parts"]);if(r!=null){let l=r;Array.isArray(l)&&(l=l.map(u=>fA(e,u))),b(n,["parts"],l)}const o=y(t,["role"]);return o!=null&&b(n,["role"],o),n}function hA(e,t){const n={},r=y(t,["citationSources"]);return r!=null&&b(n,["citations"],r),n}function pA(e,t){const n={},r=y(t,["content"]);r!=null&&b(n,["content"],mA(e,r));const o=y(t,["citationMetadata"]);o!=null&&b(n,["citationMetadata"],hA(e,o));const l=y(t,["tokenCount"]);l!=null&&b(n,["tokenCount"],l);const u=y(t,["finishReason"]);u!=null&&b(n,["finishReason"],u);const f=y(t,["avgLogprobs"]);f!=null&&b(n,["avgLogprobs"],f);const m=y(t,["groundingMetadata"]);m!=null&&b(n,["groundingMetadata"],m);const d=y(t,["index"]);d!=null&&b(n,["index"],d);const g=y(t,["logprobsResult"]);g!=null&&b(n,["logprobsResult"],g);const x=y(t,["safetyRatings"]);return x!=null&&b(n,["safetyRatings"],x),n}function Cy(e,t){const n={},r=y(t,["candidates"]);if(r!=null){let f=r;Array.isArray(f)&&(f=f.map(m=>pA(e,m))),b(n,["candidates"],f)}const o=y(t,["modelVersion"]);o!=null&&b(n,["modelVersion"],o);const l=y(t,["promptFeedback"]);l!=null&&b(n,["promptFeedback"],l);const u=y(t,["usageMetadata"]);return u!=null&&b(n,["usageMetadata"],u),n}function gA(e,t){const n={},r=y(t,["values"]);return r!=null&&b(n,["values"],r),n}function yA(){return{}}function bA(e,t){const n={},r=y(t,["embeddings"]);if(r!=null){let l=r;Array.isArray(l)&&(l=l.map(u=>gA(e,u))),b(n,["embeddings"],l)}return y(t,["metadata"])!=null&&b(n,["metadata"],yA()),n}function TA(e,t){const n={},r=y(t,["bytesBase64Encoded"]);r!=null&&b(n,["imageBytes"],ci(e,r));const o=y(t,["mimeType"]);return o!=null&&b(n,["mimeType"],o),n}function Tb(e,t){const n={},r=y(t,["safetyAttributes","categories"]);r!=null&&b(n,["categories"],r);const o=y(t,["safetyAttributes","scores"]);o!=null&&b(n,["scores"],o);const l=y(t,["contentType"]);return l!=null&&b(n,["contentType"],l),n}function EA(e,t){const n={},r=y(t,["_self"]);r!=null&&b(n,["image"],TA(e,r));const o=y(t,["raiFilteredReason"]);o!=null&&b(n,["raiFilteredReason"],o);const l=y(t,["_self"]);return l!=null&&b(n,["safetyAttributes"],Tb(e,l)),n}function xA(e,t){const n={},r=y(t,["predictions"]);if(r!=null){let l=r;Array.isArray(l)&&(l=l.map(u=>EA(e,u))),b(n,["generatedImages"],l)}const o=y(t,["positivePromptSafetyAttributes"]);return o!=null&&b(n,["positivePromptSafetyAttributes"],Tb(e,o)),n}function vA(e,t){const n={},r=y(t,["baseModel"]);r!=null&&b(n,["baseModel"],r);const o=y(t,["createTime"]);o!=null&&b(n,["createTime"],o);const l=y(t,["updateTime"]);return l!=null&&b(n,["updateTime"],l),n}function Sy(e,t){const n={},r=y(t,["name"]);r!=null&&b(n,["name"],r);const o=y(t,["displayName"]);o!=null&&b(n,["displayName"],o);const l=y(t,["description"]);l!=null&&b(n,["description"],l);const u=y(t,["version"]);u!=null&&b(n,["version"],u);const f=y(t,["_self"]);f!=null&&b(n,["tunedModelInfo"],vA(e,f));const m=y(t,["inputTokenLimit"]);m!=null&&b(n,["inputTokenLimit"],m);const d=y(t,["outputTokenLimit"]);d!=null&&b(n,["outputTokenLimit"],d);const g=y(t,["supportedGenerationMethods"]);return g!=null&&b(n,["supportedActions"],g),n}function CA(){return{}}function SA(e,t){const n={},r=y(t,["totalTokens"]);r!=null&&b(n,["totalTokens"],r);const o=y(t,["cachedContentTokenCount"]);return o!=null&&b(n,["cachedContentTokenCount"],o),n}function AA(e,t){const n={},r=y(t,["video","uri"]);r!=null&&b(n,["uri"],r);const o=y(t,["video","encodedVideo"]);o!=null&&b(n,["videoBytes"],ci(e,o));const l=y(t,["encoding"]);return l!=null&&b(n,["mimeType"],l),n}function _A(e,t){const n={},r=y(t,["_self"]);return r!=null&&b(n,["video"],AA(e,r)),n}function IA(e,t){const n={},r=y(t,["generatedSamples"]);if(r!=null){let u=r;Array.isArray(u)&&(u=u.map(f=>_A(e,f))),b(n,["generatedVideos"],u)}const o=y(t,["raiMediaFilteredCount"]);o!=null&&b(n,["raiMediaFilteredCount"],o);const l=y(t,["raiMediaFilteredReasons"]);return l!=null&&b(n,["raiMediaFilteredReasons"],l),n}function NA(e,t){const n={},r=y(t,["name"]);r!=null&&b(n,["name"],r);const o=y(t,["metadata"]);o!=null&&b(n,["metadata"],o);const l=y(t,["done"]);l!=null&&b(n,["done"],l);const u=y(t,["error"]);u!=null&&b(n,["error"],u);const f=y(t,["response","generateVideoResponse"]);return f!=null&&b(n,["response"],IA(e,f)),n}function MA(e,t){const n={},r=y(t,["videoMetadata"]);r!=null&&b(n,["videoMetadata"],r);const o=y(t,["thought"]);o!=null&&b(n,["thought"],o);const l=y(t,["codeExecutionResult"]);l!=null&&b(n,["codeExecutionResult"],l);const u=y(t,["executableCode"]);u!=null&&b(n,["executableCode"],u);const f=y(t,["fileData"]);f!=null&&b(n,["fileData"],f);const m=y(t,["functionCall"]);m!=null&&b(n,["functionCall"],m);const d=y(t,["functionResponse"]);d!=null&&b(n,["functionResponse"],d);const g=y(t,["inlineData"]);g!=null&&b(n,["inlineData"],g);const x=y(t,["text"]);return x!=null&&b(n,["text"],x),n}function DA(e,t){const n={},r=y(t,["parts"]);if(r!=null){let l=r;Array.isArray(l)&&(l=l.map(u=>MA(e,u))),b(n,["parts"],l)}const o=y(t,["role"]);return o!=null&&b(n,["role"],o),n}function RA(e,t){const n={},r=y(t,["citations"]);return r!=null&&b(n,["citations"],r),n}function kA(e,t){const n={},r=y(t,["content"]);r!=null&&b(n,["content"],DA(e,r));const o=y(t,["citationMetadata"]);o!=null&&b(n,["citationMetadata"],RA(e,o));const l=y(t,["finishMessage"]);l!=null&&b(n,["finishMessage"],l);const u=y(t,["finishReason"]);u!=null&&b(n,["finishReason"],u);const f=y(t,["avgLogprobs"]);f!=null&&b(n,["avgLogprobs"],f);const m=y(t,["groundingMetadata"]);m!=null&&b(n,["groundingMetadata"],m);const d=y(t,["index"]);d!=null&&b(n,["index"],d);const g=y(t,["logprobsResult"]);g!=null&&b(n,["logprobsResult"],g);const x=y(t,["safetyRatings"]);return x!=null&&b(n,["safetyRatings"],x),n}function Ay(e,t){const n={},r=y(t,["candidates"]);if(r!=null){let d=r;Array.isArray(d)&&(d=d.map(g=>kA(e,g))),b(n,["candidates"],d)}const o=y(t,["createTime"]);o!=null&&b(n,["createTime"],o);const l=y(t,["responseId"]);l!=null&&b(n,["responseId"],l);const u=y(t,["modelVersion"]);u!=null&&b(n,["modelVersion"],u);const f=y(t,["promptFeedback"]);f!=null&&b(n,["promptFeedback"],f);const m=y(t,["usageMetadata"]);return m!=null&&b(n,["usageMetadata"],m),n}function wA(e,t){const n={},r=y(t,["truncated"]);r!=null&&b(n,["truncated"],r);const o=y(t,["token_count"]);return o!=null&&b(n,["tokenCount"],o),n}function LA(e,t){const n={},r=y(t,["values"]);r!=null&&b(n,["values"],r);const o=y(t,["statistics"]);return o!=null&&b(n,["statistics"],wA(e,o)),n}function OA(e,t){const n={},r=y(t,["billableCharacterCount"]);return r!=null&&b(n,["billableCharacterCount"],r),n}function PA(e,t){const n={},r=y(t,["predictions[]","embeddings"]);if(r!=null){let l=r;Array.isArray(l)&&(l=l.map(u=>LA(e,u))),b(n,["embeddings"],l)}const o=y(t,["metadata"]);return o!=null&&b(n,["metadata"],OA(e,o)),n}function BA(e,t){const n={},r=y(t,["gcsUri"]);r!=null&&b(n,["gcsUri"],r);const o=y(t,["bytesBase64Encoded"]);o!=null&&b(n,["imageBytes"],ci(e,o));const l=y(t,["mimeType"]);return l!=null&&b(n,["mimeType"],l),n}function Eb(e,t){const n={},r=y(t,["safetyAttributes","categories"]);r!=null&&b(n,["categories"],r);const o=y(t,["safetyAttributes","scores"]);o!=null&&b(n,["scores"],o);const l=y(t,["contentType"]);return l!=null&&b(n,["contentType"],l),n}function FA(e,t){const n={},r=y(t,["_self"]);r!=null&&b(n,["image"],BA(e,r));const o=y(t,["raiFilteredReason"]);o!=null&&b(n,["raiFilteredReason"],o);const l=y(t,["_self"]);l!=null&&b(n,["safetyAttributes"],Eb(e,l));const u=y(t,["prompt"]);return u!=null&&b(n,["enhancedPrompt"],u),n}function HA(e,t){const n={},r=y(t,["predictions"]);if(r!=null){let l=r;Array.isArray(l)&&(l=l.map(u=>FA(e,u))),b(n,["generatedImages"],l)}const o=y(t,["positivePromptSafetyAttributes"]);return o!=null&&b(n,["positivePromptSafetyAttributes"],Eb(e,o)),n}function UA(e,t){const n={},r=y(t,["endpoint"]);r!=null&&b(n,["name"],r);const o=y(t,["deployedModelId"]);return o!=null&&b(n,["deployedModelId"],o),n}function VA(e,t){const n={},r=y(t,["labels","google-vertex-llm-tuning-base-model-id"]);r!=null&&b(n,["baseModel"],r);const o=y(t,["createTime"]);o!=null&&b(n,["createTime"],o);const l=y(t,["updateTime"]);return l!=null&&b(n,["updateTime"],l),n}function _y(e,t){const n={},r=y(t,["name"]);r!=null&&b(n,["name"],r);const o=y(t,["displayName"]);o!=null&&b(n,["displayName"],o);const l=y(t,["description"]);l!=null&&b(n,["description"],l);const u=y(t,["versionId"]);u!=null&&b(n,["version"],u);const f=y(t,["deployedModels"]);if(f!=null){let g=f;Array.isArray(g)&&(g=g.map(x=>UA(e,x))),b(n,["endpoints"],g)}const m=y(t,["labels"]);m!=null&&b(n,["labels"],m);const d=y(t,["_self"]);return d!=null&&b(n,["tunedModelInfo"],VA(e,d)),n}function zA(){return{}}function jA(e,t){const n={},r=y(t,["totalTokens"]);return r!=null&&b(n,["totalTokens"],r),n}function GA(e,t){const n={},r=y(t,["tokensInfo"]);return r!=null&&b(n,["tokensInfo"],r),n}function qA(e,t){const n={},r=y(t,["gcsUri"]);r!=null&&b(n,["uri"],r);const o=y(t,["bytesBase64Encoded"]);o!=null&&b(n,["videoBytes"],ci(e,o));const l=y(t,["mimeType"]);return l!=null&&b(n,["mimeType"],l),n}function YA(e,t){const n={},r=y(t,["_self"]);return r!=null&&b(n,["video"],qA(e,r)),n}function QA(e,t){const n={},r=y(t,["videos"]);if(r!=null){let u=r;Array.isArray(u)&&(u=u.map(f=>YA(e,f))),b(n,["generatedVideos"],u)}const o=y(t,["raiMediaFilteredCount"]);o!=null&&b(n,["raiMediaFilteredCount"],o);const l=y(t,["raiMediaFilteredReasons"]);return l!=null&&b(n,["raiMediaFilteredReasons"],l),n}function KA(e,t){const n={},r=y(t,["name"]);r!=null&&b(n,["name"],r);const o=y(t,["metadata"]);o!=null&&b(n,["metadata"],o);const l=y(t,["done"]);l!=null&&b(n,["done"],l);const u=y(t,["error"]);u!=null&&b(n,["error"],u);const f=y(t,["response"]);return f!=null&&b(n,["response"],QA(e,f)),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const $A="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function XA(e,t,n){let r,o;n.data instanceof Blob?o=JSON.parse(await n.data.text()):o=JSON.parse(n.data),e.isVertexAI()?r=fS(e,o):r=dS(e,o),t(r)}class WA{constructor(t,n,r){this.apiClient=t,this.auth=n,this.webSocketFactory=r}async connect(t){var n,r,o,l;const u=this.apiClient.getWebsocketBaseUrl(),f=this.apiClient.getApiVersion();let m;const d=t_(this.apiClient.getDefaultHeaders());if(this.apiClient.isVertexAI())m=`${u}/ws/google.cloud.aiplatform.${f}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(d);else{const $=this.apiClient.getApiKey();m=`${u}/ws/google.ai.generativelanguage.${f}.GenerativeService.BidiGenerateContent?key=${$}`}let g=()=>{};const x=new Promise($=>{g=$}),v=t.callbacks,S=function(){var $;($=v==null?void 0:v.onopen)===null||$===void 0||$.call(v),g({})},_=this.apiClient,D={onopen:S,onmessage:$=>{XA(_,v.onmessage,$)},onerror:(n=v==null?void 0:v.onerror)!==null&&n!==void 0?n:function($){},onclose:(r=v==null?void 0:v.onclose)!==null&&r!==void 0?r:function($){}},U=this.webSocketFactory.create(m,e_(d),D);U.connect(),await x;let L=_t(this.apiClient,t.model);if(this.apiClient.isVertexAI()&&L.startsWith("publishers/")){const $=this.apiClient.getProject(),B=this.apiClient.getLocation();L=`projects/${$}/locations/${B}/`+L}let K={};this.apiClient.isVertexAI()&&((o=t.config)===null||o===void 0?void 0:o.responseModalities)===void 0&&(t.config===void 0?t.config={responseModalities:[Tu.AUDIO]}:t.config.responseModalities=[Tu.AUDIO]),!((l=t.config)===null||l===void 0)&&l.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const G={model:L,config:t.config,callbacks:t.callbacks};return this.apiClient.isVertexAI()?K=FC(this.apiClient,G):K=BC(this.apiClient,G),delete K.config,U.send(JSON.stringify(K)),new ZA(U,this.apiClient)}}const JA={turnComplete:!0};class ZA{constructor(t,n){this.conn=t,this.apiClient=n}tLiveClientContent(t,n){if(n.turns!==null&&n.turns!==void 0){let r=[];try{r=li(t,n.turns),t.isVertexAI()?r=r.map(o=>Qr(t,o)):r=r.map(o=>ku(t,o))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof n.turns}'`)}return{clientContent:{turns:r,turnComplete:n.turnComplete}}}return{clientContent:{turnComplete:n.turnComplete}}}tLiveClienttToolResponse(t,n){let r=[];if(n.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(n.functionResponses)?r=n.functionResponses:r=[n.functionResponses],r.length===0)throw new Error("functionResponses is required.");for(const l of r){if(typeof l!="object"||l===null||!("name"in l)||!("response"in l))throw new Error(`Could not parse function response, type '${typeof l}'.`);if(!t.isVertexAI()&&!("id"in l))throw new Error($A)}return{toolResponse:{functionResponses:r}}}sendClientContent(t){t=Object.assign(Object.assign({},JA),t);const n=this.tLiveClientContent(this.apiClient,t);this.conn.send(JSON.stringify(n))}sendRealtimeInput(t){let n={};this.apiClient.isVertexAI()?n={realtimeInput:GC(this.apiClient,t)}:n={realtimeInput:jC(this.apiClient,t)},this.conn.send(JSON.stringify(n))}sendToolResponse(t){if(t.functionResponses==null)throw new Error("Tool response parameters are required.");const n=this.tLiveClienttToolResponse(this.apiClient,t);this.conn.send(JSON.stringify(n))}close(){this.conn.close()}}function e_(e){const t={};return e.forEach((n,r)=>{t[r]=n}),t}function t_(e){const t=new Headers;for(const[n,r]of Object.entries(e))t.append(n,r);return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class n_ extends Ds{constructor(t){super(),this.apiClient=t,this.generateContent=async n=>await this.generateContentInternal(n),this.generateContentStream=async n=>await this.generateContentStreamInternal(n),this.generateImages=async n=>await this.generateImagesInternal(n).then(r=>{var o;let l;const u=[];if(r!=null&&r.generatedImages)for(const m of r.generatedImages)m&&(m!=null&&m.safetyAttributes)&&((o=m==null?void 0:m.safetyAttributes)===null||o===void 0?void 0:o.contentType)==="Positive Prompt"?l=m==null?void 0:m.safetyAttributes:u.push(m);let f;return l?f={generatedImages:u,positivePromptSafetyAttributes:l}:f={generatedImages:u},f})}async generateContentInternal(t){var n,r,o,l;let u,f="",m={};if(this.apiClient.isVertexAI()){const d=vy(this.apiClient,t);return f=Ve("{model}:generateContent",d._url),m=d._query,delete d.config,delete d._url,delete d._query,u=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(g=>g.json()),u.then(g=>{const x=Ay(this.apiClient,g),v=new Xl;return Object.assign(v,x),v})}else{const d=xy(this.apiClient,t);return f=Ve("{model}:generateContent",d._url),m=d._query,delete d.config,delete d._url,delete d._query,u=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(g=>g.json()),u.then(g=>{const x=Cy(this.apiClient,g),v=new Xl;return Object.assign(v,x),v})}}async generateContentStreamInternal(t){var n,r,o,l;let u,f="",m={};if(this.apiClient.isVertexAI()){const d=vy(this.apiClient,t);f=Ve("{model}:streamGenerateContent?alt=sse",d._url),m=d._query,delete d.config,delete d._url,delete d._query;const g=this.apiClient;return u=g.requestStream({path:f,queryParams:m,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}),u.then(function(x){return Eu(this,arguments,function*(){var v,S,_,D;try{for(var U=!0,L=Bf(x),K;K=yield Wt(L.next()),v=K.done,!v;U=!0){D=K.value,U=!1;const $=Ay(g,yield Wt(D.json())),B=new Xl;Object.assign(B,$),yield yield Wt(B)}}catch(G){S={error:G}}finally{try{!U&&!v&&(_=L.return)&&(yield Wt(_.call(L)))}finally{if(S)throw S.error}}})})}else{const d=xy(this.apiClient,t);f=Ve("{model}:streamGenerateContent?alt=sse",d._url),m=d._query,delete d.config,delete d._url,delete d._query;const g=this.apiClient;return u=g.requestStream({path:f,queryParams:m,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}),u.then(function(x){return Eu(this,arguments,function*(){var v,S,_,D;try{for(var U=!0,L=Bf(x),K;K=yield Wt(L.next()),v=K.done,!v;U=!0){D=K.value,U=!1;const $=Cy(g,yield Wt(D.json())),B=new Xl;Object.assign(B,$),yield yield Wt(B)}}catch(G){S={error:G}}finally{try{!U&&!v&&(_=L.return)&&(yield Wt(_.call(L)))}finally{if(S)throw S.error}}})})}}async embedContent(t){var n,r,o,l;let u,f="",m={};if(this.apiClient.isVertexAI()){const d=ZS(this.apiClient,t);return f=Ve("{model}:predict",d._url),m=d._query,delete d.config,delete d._url,delete d._query,u=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(g=>g.json()),u.then(g=>{const x=PA(this.apiClient,g),v=new cy;return Object.assign(v,x),v})}else{const d=IS(this.apiClient,t);return f=Ve("{model}:batchEmbedContents",d._url),m=d._query,delete d.config,delete d._url,delete d._query,u=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(g=>g.json()),u.then(g=>{const x=bA(this.apiClient,g),v=new cy;return Object.assign(v,x),v})}}async generateImagesInternal(t){var n,r,o,l;let u,f="",m={};if(this.apiClient.isVertexAI()){const d=tA(this.apiClient,t);return f=Ve("{model}:predict",d._url),m=d._query,delete d.config,delete d._url,delete d._query,u=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(g=>g.json()),u.then(g=>{const x=HA(this.apiClient,g),v=new dy;return Object.assign(v,x),v})}else{const d=MS(this.apiClient,t);return f=Ve("{model}:predict",d._url),m=d._query,delete d.config,delete d._url,delete d._query,u=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(g=>g.json()),u.then(g=>{const x=xA(this.apiClient,g),v=new dy;return Object.assign(v,x),v})}}async get(t){var n,r,o,l;let u,f="",m={};if(this.apiClient.isVertexAI()){const d=nA(this.apiClient,t);return f=Ve("{name}",d._url),m=d._query,delete d.config,delete d._url,delete d._query,u=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(g=>g.json()),u.then(g=>_y(this.apiClient,g))}else{const d=DS(this.apiClient,t);return f=Ve("{name}",d._url),m=d._query,delete d.config,delete d._url,delete d._query,u=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(g=>g.json()),u.then(g=>Sy(this.apiClient,g))}}async update(t){var n,r,o,l;let u,f="",m={};if(this.apiClient.isVertexAI()){const d=iA(this.apiClient,t);return f=Ve("{model}",d._url),m=d._query,delete d.config,delete d._url,delete d._query,u=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(d),httpMethod:"PATCH",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(g=>g.json()),u.then(g=>_y(this.apiClient,g))}else{const d=kS(this.apiClient,t);return f=Ve("{name}",d._url),m=d._query,delete d.config,delete d._url,delete d._query,u=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(d),httpMethod:"PATCH",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(g=>g.json()),u.then(g=>Sy(this.apiClient,g))}}async delete(t){var n,r,o,l;let u,f="",m={};if(this.apiClient.isVertexAI()){const d=rA(this.apiClient,t);return f=Ve("{name}",d._url),m=d._query,delete d.config,delete d._url,delete d._query,u=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(g=>g.json()),u.then(()=>{const g=zA(),x=new fy;return Object.assign(x,g),x})}else{const d=wS(this.apiClient,t);return f=Ve("{name}",d._url),m=d._query,delete d.config,delete d._url,delete d._query,u=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(g=>g.json()),u.then(()=>{const g=CA(),x=new fy;return Object.assign(x,g),x})}}async countTokens(t){var n,r,o,l;let u,f="",m={};if(this.apiClient.isVertexAI()){const d=sA(this.apiClient,t);return f=Ve("{model}:countTokens",d._url),m=d._query,delete d.config,delete d._url,delete d._query,u=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(g=>g.json()),u.then(g=>{const x=jA(this.apiClient,g),v=new my;return Object.assign(v,x),v})}else{const d=OS(this.apiClient,t);return f=Ve("{model}:countTokens",d._url),m=d._query,delete d.config,delete d._url,delete d._query,u=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(g=>g.json()),u.then(g=>{const x=SA(this.apiClient,g),v=new my;return Object.assign(v,x),v})}}async computeTokens(t){var n,r;let o,l="",u={};if(this.apiClient.isVertexAI()){const f=lA(this.apiClient,t);return l=Ve("{model}:computeTokens",f._url),u=f._query,delete f.config,delete f._url,delete f._query,o=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(m=>m.json()),o.then(m=>{const d=GA(this.apiClient,m),g=new G2;return Object.assign(g,d),g})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideos(t){var n,r,o,l;let u,f="",m={};if(this.apiClient.isVertexAI()){const d=dA(this.apiClient,t);return f=Ve("{model}:predictLongRunning",d._url),m=d._query,delete d.config,delete d._url,delete d._query,u=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(g=>g.json()),u.then(g=>KA(this.apiClient,g))}else{const d=FS(this.apiClient,t);return f=Ve("{model}:predictLongRunning",d._url),m=d._query,delete d.config,delete d._url,delete d._query,u=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(g=>g.json()),u.then(g=>NA(this.apiClient,g))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function a_(e,t){const n={},r=y(t,["operationName"]);r!=null&&b(n,["_url","operationName"],r);const o=y(t,["config"]);return o!=null&&b(n,["config"],o),n}function i_(e,t){const n={},r=y(t,["operationName"]);r!=null&&b(n,["_url","operationName"],r);const o=y(t,["config"]);return o!=null&&b(n,["config"],o),n}function r_(e,t){const n={},r=y(t,["operationName"]);r!=null&&b(n,["operationName"],r);const o=y(t,["resourceName"]);o!=null&&b(n,["_url","resourceName"],o);const l=y(t,["config"]);return l!=null&&b(n,["config"],l),n}function o_(e,t){const n={},r=y(t,["video","uri"]);r!=null&&b(n,["uri"],r);const o=y(t,["video","encodedVideo"]);o!=null&&b(n,["videoBytes"],ci(e,o));const l=y(t,["encoding"]);return l!=null&&b(n,["mimeType"],l),n}function s_(e,t){const n={},r=y(t,["_self"]);return r!=null&&b(n,["video"],o_(e,r)),n}function l_(e,t){const n={},r=y(t,["generatedSamples"]);if(r!=null){let u=r;Array.isArray(u)&&(u=u.map(f=>s_(e,f))),b(n,["generatedVideos"],u)}const o=y(t,["raiMediaFilteredCount"]);o!=null&&b(n,["raiMediaFilteredCount"],o);const l=y(t,["raiMediaFilteredReasons"]);return l!=null&&b(n,["raiMediaFilteredReasons"],l),n}function u_(e,t){const n={},r=y(t,["name"]);r!=null&&b(n,["name"],r);const o=y(t,["metadata"]);o!=null&&b(n,["metadata"],o);const l=y(t,["done"]);l!=null&&b(n,["done"],l);const u=y(t,["error"]);u!=null&&b(n,["error"],u);const f=y(t,["response","generateVideoResponse"]);return f!=null&&b(n,["response"],l_(e,f)),n}function c_(e,t){const n={},r=y(t,["gcsUri"]);r!=null&&b(n,["uri"],r);const o=y(t,["bytesBase64Encoded"]);o!=null&&b(n,["videoBytes"],ci(e,o));const l=y(t,["mimeType"]);return l!=null&&b(n,["mimeType"],l),n}function d_(e,t){const n={},r=y(t,["_self"]);return r!=null&&b(n,["video"],c_(e,r)),n}function f_(e,t){const n={},r=y(t,["videos"]);if(r!=null){let u=r;Array.isArray(u)&&(u=u.map(f=>d_(e,f))),b(n,["generatedVideos"],u)}const o=y(t,["raiMediaFilteredCount"]);o!=null&&b(n,["raiMediaFilteredCount"],o);const l=y(t,["raiMediaFilteredReasons"]);return l!=null&&b(n,["raiMediaFilteredReasons"],l),n}function Iy(e,t){const n={},r=y(t,["name"]);r!=null&&b(n,["name"],r);const o=y(t,["metadata"]);o!=null&&b(n,["metadata"],o);const l=y(t,["done"]);l!=null&&b(n,["done"],l);const u=y(t,["error"]);u!=null&&b(n,["error"],u);const f=y(t,["response"]);return f!=null&&b(n,["response"],f_(e,f)),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class m_ extends Ds{constructor(t){super(),this.apiClient=t}async getVideosOperation(t){const n=t.operation,r=t.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const o=n.name.split("/operations/")[0];let l;return r&&"httpOptions"in r&&(l=r.httpOptions),this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:o,config:{httpOptions:l}})}else return this.getVideosOperationInternal({operationName:n.name,config:r})}async getVideosOperationInternal(t){var n,r,o,l;let u,f="",m={};if(this.apiClient.isVertexAI()){const d=i_(this.apiClient,t);return f=Ve("{operationName}",d._url),m=d._query,delete d.config,delete d._url,delete d._query,u=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(g=>g.json()),u.then(g=>Iy(this.apiClient,g))}else{const d=a_(this.apiClient,t);return f=Ve("{operationName}",d._url),m=d._query,delete d.config,delete d._url,delete d._query,u=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(g=>g.json()),u.then(g=>u_(this.apiClient,g))}}async fetchPredictVideosOperationInternal(t){var n,r;let o,l="",u={};if(this.apiClient.isVertexAI()){const f=r_(this.apiClient,t);return l=Ve("{resourceName}:fetchPredictOperation",f._url),u=f._query,delete f.config,delete f._url,delete f._query,o=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(m=>m.json()),o.then(m=>Iy(this.apiClient,m))}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const h_="Content-Type",p_="X-Server-Timeout",g_="User-Agent",y_="x-goog-api-client",b_="0.12.0",T_=`google-genai-sdk/${b_}`,E_="v1beta1",x_="v1beta",Ny=/^data: (.*)(?:\n\n|\r\r|\r\n\r\n)/;class xb extends Error{constructor(t,n){n?super(t,{cause:n}):super(t,{cause:new Error().stack}),this.message=t,this.name="ClientError"}}class Hf extends Error{constructor(t,n){n?super(t,{cause:n}):super(t,{cause:new Error().stack}),this.message=t,this.name="ServerError"}}class v_{constructor(t){var n,r;this.clientOptions=Object.assign(Object.assign({},t),{project:t.project,location:t.location,apiKey:t.apiKey,vertexai:t.vertexai});const o={};this.clientOptions.vertexai?(o.apiVersion=(n=this.clientOptions.apiVersion)!==null&&n!==void 0?n:E_,this.getProject()||this.getLocation()?(o.baseUrl=`https://${this.clientOptions.location}-aiplatform.googleapis.com/`,this.clientOptions.apiKey=void 0):(o.baseUrl="https://aiplatform.googleapis.com/",this.clientOptions.project=void 0,this.clientOptions.location=void 0)):(o.apiVersion=(r=this.clientOptions.apiVersion)!==null&&r!==void 0?r:x_,o.baseUrl="https://generativelanguage.googleapis.com/"),o.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=o,t.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(o,t.httpOptions))}isVertexAI(){var t;return(t=this.clientOptions.vertexai)!==null&&t!==void 0?t:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(t){if(!t||t.baseUrl===void 0||t.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const r=[t.baseUrl.endsWith("/")?t.baseUrl.slice(0,-1):t.baseUrl];return t.apiVersion&&t.apiVersion!==""&&r.push(t.apiVersion),r.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const t=this.getBaseUrl(),n=new URL(t);return n.protocol=n.protocol=="http:"?"ws":"wss",n.toString()}setBaseUrl(t){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=t;else throw new Error("HTTP options are not correctly set.")}constructUrl(t,n,r){const o=[this.getRequestUrlInternal(n)];return r&&o.push(this.getBaseResourcePath()),t!==""&&o.push(t),new URL(`${o.join("/")}`)}shouldPrependVertexProjectPath(t){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||t.path.startsWith("projects/")||t.httpMethod==="GET"&&t.path.startsWith("publishers/google/models"))}async request(t){let n=this.clientOptions.httpOptions;t.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,t.httpOptions));const r=this.shouldPrependVertexProjectPath(t),o=this.constructUrl(t.path,n,r);if(t.queryParams)for(const[u,f]of Object.entries(t.queryParams))o.searchParams.append(u,String(f));let l={};if(t.httpMethod==="GET"){if(t.body&&t.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else l.body=t.body;return l=await this.includeExtraHttpOptionsToRequestInit(l,n,t.abortSignal),this.unaryApiCall(o,l,t.httpMethod)}patchHttpOptions(t,n){const r=JSON.parse(JSON.stringify(t));for(const[o,l]of Object.entries(n))typeof l=="object"?r[o]=Object.assign(Object.assign({},r[o]),l):l!==void 0&&(r[o]=l);return r}async requestStream(t){let n=this.clientOptions.httpOptions;t.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,t.httpOptions));const r=this.shouldPrependVertexProjectPath(t),o=this.constructUrl(t.path,n,r);(!o.searchParams.has("alt")||o.searchParams.get("alt")!=="sse")&&o.searchParams.set("alt","sse");let l={};return l.body=t.body,l=await this.includeExtraHttpOptionsToRequestInit(l,n,t.abortSignal),this.streamApiCall(o,l,t.httpMethod)}async includeExtraHttpOptionsToRequestInit(t,n,r){if(n&&n.timeout||r){const o=new AbortController,l=o.signal;n.timeout&&(n==null?void 0:n.timeout)>0&&setTimeout(()=>o.abort(),n.timeout),r&&r.addEventListener("abort",()=>{o.abort()}),t.signal=l}return t.headers=await this.getHeadersInternal(n),t}async unaryApiCall(t,n,r){return this.apiCall(t.toString(),Object.assign(Object.assign({},n),{method:r})).then(async o=>(await My(o),new Pf(o))).catch(o=>{throw o instanceof Error?o:new Error(JSON.stringify(o))})}async streamApiCall(t,n,r){return this.apiCall(t.toString(),Object.assign(Object.assign({},n),{method:r})).then(async o=>(await My(o),this.processStreamResponse(o))).catch(o=>{throw o instanceof Error?o:new Error(JSON.stringify(o))})}processStreamResponse(t){var n;return Eu(this,arguments,function*(){const o=(n=t==null?void 0:t.body)===null||n===void 0?void 0:n.getReader(),l=new TextDecoder("utf-8");if(!o)throw new Error("Response body is empty");try{let u="";for(;;){const{done:f,value:m}=yield Wt(o.read());if(f){if(u.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const d=l.decode(m);try{const x=JSON.parse(d);if("error"in x){const v=JSON.parse(JSON.stringify(x.error)),S=v.status,_=v.code,D=`got status: ${S}. ${JSON.stringify(x)}`;if(_>=400&&_<500)throw new xb(D);if(_>=500&&_<600)throw new Hf(D)}}catch(x){const v=x;if(v.name==="ClientError"||v.name==="ServerError")throw x}u+=d;let g=u.match(Ny);for(;g;){const x=g[1];try{const v=new Response(x,{headers:t==null?void 0:t.headers,status:t==null?void 0:t.status,statusText:t==null?void 0:t.statusText});yield yield Wt(new Pf(v)),u=u.slice(g[0].length),g=u.match(Ny)}catch(v){throw new Error(`exception parsing stream chunk ${x}. ${v}`)}}}}finally{o.releaseLock()}})}async apiCall(t,n){return fetch(t,n).catch(r=>{throw new Error(`exception ${r} sending request`)})}getDefaultHeaders(){const t={},n=T_+" "+this.clientOptions.userAgentExtra;return t[g_]=n,t[y_]=n,t[h_]="application/json",t}async getHeadersInternal(t){const n=new Headers;if(t&&t.headers){for(const[r,o]of Object.entries(t.headers))n.append(r,o);t.timeout&&t.timeout>0&&n.append(p_,String(Math.ceil(t.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(n),n}async uploadFile(t,n){var r;const o={};n!=null&&(o.mimeType=n.mimeType,o.name=n.name,o.displayName=n.displayName),o.name&&!o.name.startsWith("files/")&&(o.name=`files/${o.name}`);const l=this.clientOptions.uploader,u=await l.stat(t);o.sizeBytes=String(u.size);const f=(r=n==null?void 0:n.mimeType)!==null&&r!==void 0?r:u.type;if(f===void 0||f==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");o.mimeType=f;const m=await this.fetchUploadUrl(o,n);return l.upload(t,m,this)}async fetchUploadUrl(t,n){var r;let o={};n!=null&&n.httpOptions?o=n.httpOptions:o={apiVersion:"",headers:{"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${t.sizeBytes}`,"X-Goog-Upload-Header-Content-Type":`${t.mimeType}`}};const l={file:t},u=await this.request({path:Ve("upload/v1beta/files",l._url),body:JSON.stringify(l),httpMethod:"POST",httpOptions:o});if(!u||!(u!=null&&u.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const f=(r=u==null?void 0:u.headers)===null||r===void 0?void 0:r["x-goog-upload-url"];if(f===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return f}}async function My(e){var t;if(e===void 0)throw new Hf("response is undefined");if(!e.ok){const n=e.status,r=e.statusText;let o;!((t=e.headers.get("content-type"))===null||t===void 0)&&t.includes("application/json")?o=await e.json():o={error:{message:await e.text(),code:e.status,status:e.statusText}};const l=`got status: ${n} ${r}. ${JSON.stringify(o)}`;throw n>=400&&n<500?new xb(l):n>=500&&n<600?new Hf(l):new Error(l)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function C_(e,t){const n={},r=y(t,["name"]);r!=null&&b(n,["_url","name"],r);const o=y(t,["config"]);return o!=null&&b(n,["config"],o),n}function S_(e,t,n){const r={},o=y(t,["pageSize"]);n!==void 0&&o!=null&&b(n,["_query","pageSize"],o);const l=y(t,["pageToken"]);n!==void 0&&l!=null&&b(n,["_query","pageToken"],l);const u=y(t,["filter"]);return n!==void 0&&u!=null&&b(n,["_query","filter"],u),r}function A_(e,t){const n={},r=y(t,["config"]);return r!=null&&b(n,["config"],S_(e,r,n)),n}function __(e,t){const n={},r=y(t,["textInput"]);r!=null&&b(n,["textInput"],r);const o=y(t,["output"]);return o!=null&&b(n,["output"],o),n}function I_(e,t){const n={};if(y(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const r=y(t,["examples"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(l=>__(e,l))),b(n,["examples","examples"],o)}return n}function N_(e,t,n){const r={};if(y(t,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const o=y(t,["tunedModelDisplayName"]);if(n!==void 0&&o!=null&&b(n,["displayName"],o),y(t,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const l=y(t,["epochCount"]);n!==void 0&&l!=null&&b(n,["tuningTask","hyperparameters","epochCount"],l);const u=y(t,["learningRateMultiplier"]);if(u!=null&&b(r,["tuningTask","hyperparameters","learningRateMultiplier"],u),y(t,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const f=y(t,["batchSize"]);n!==void 0&&f!=null&&b(n,["tuningTask","hyperparameters","batchSize"],f);const m=y(t,["learningRate"]);return n!==void 0&&m!=null&&b(n,["tuningTask","hyperparameters","learningRate"],m),r}function M_(e,t){const n={},r=y(t,["baseModel"]);r!=null&&b(n,["baseModel"],r);const o=y(t,["trainingDataset"]);o!=null&&b(n,["tuningTask","trainingData"],I_(e,o));const l=y(t,["config"]);return l!=null&&b(n,["config"],N_(e,l,n)),n}function D_(e,t){const n={},r=y(t,["name"]);r!=null&&b(n,["_url","name"],r);const o=y(t,["config"]);return o!=null&&b(n,["config"],o),n}function R_(e,t,n){const r={},o=y(t,["pageSize"]);n!==void 0&&o!=null&&b(n,["_query","pageSize"],o);const l=y(t,["pageToken"]);n!==void 0&&l!=null&&b(n,["_query","pageToken"],l);const u=y(t,["filter"]);return n!==void 0&&u!=null&&b(n,["_query","filter"],u),r}function k_(e,t){const n={},r=y(t,["config"]);return r!=null&&b(n,["config"],R_(e,r,n)),n}function w_(e,t,n){const r={},o=y(t,["gcsUri"]);if(n!==void 0&&o!=null&&b(n,["supervisedTuningSpec","trainingDatasetUri"],o),y(t,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return r}function L_(e,t){const n={},r=y(t,["gcsUri"]);return r!=null&&b(n,["validationDatasetUri"],r),n}function O_(e,t,n){const r={},o=y(t,["validationDataset"]);n!==void 0&&o!=null&&b(n,["supervisedTuningSpec"],L_(e,o));const l=y(t,["tunedModelDisplayName"]);n!==void 0&&l!=null&&b(n,["tunedModelDisplayName"],l);const u=y(t,["description"]);n!==void 0&&u!=null&&b(n,["description"],u);const f=y(t,["epochCount"]);n!==void 0&&f!=null&&b(n,["supervisedTuningSpec","hyperParameters","epochCount"],f);const m=y(t,["learningRateMultiplier"]);n!==void 0&&m!=null&&b(n,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],m);const d=y(t,["adapterSize"]);if(n!==void 0&&d!=null&&b(n,["supervisedTuningSpec","hyperParameters","adapterSize"],d),y(t,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(y(t,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");return r}function P_(e,t){const n={},r=y(t,["baseModel"]);r!=null&&b(n,["baseModel"],r);const o=y(t,["trainingDataset"]);o!=null&&b(n,["supervisedTuningSpec","trainingDatasetUri"],w_(e,o,n));const l=y(t,["config"]);return l!=null&&b(n,["config"],O_(e,l,n)),n}function B_(e,t){const n={},r=y(t,["name"]);r!=null&&b(n,["model"],r);const o=y(t,["name"]);return o!=null&&b(n,["endpoint"],o),n}function vb(e,t){const n={},r=y(t,["name"]);r!=null&&b(n,["name"],r);const o=y(t,["state"]);o!=null&&b(n,["state"],pb(e,o));const l=y(t,["createTime"]);l!=null&&b(n,["createTime"],l);const u=y(t,["tuningTask","startTime"]);u!=null&&b(n,["startTime"],u);const f=y(t,["tuningTask","completeTime"]);f!=null&&b(n,["endTime"],f);const m=y(t,["updateTime"]);m!=null&&b(n,["updateTime"],m);const d=y(t,["description"]);d!=null&&b(n,["description"],d);const g=y(t,["baseModel"]);g!=null&&b(n,["baseModel"],g);const x=y(t,["_self"]);x!=null&&b(n,["tunedModel"],B_(e,x));const v=y(t,["distillationSpec"]);v!=null&&b(n,["distillationSpec"],v);const S=y(t,["experiment"]);S!=null&&b(n,["experiment"],S);const _=y(t,["labels"]);_!=null&&b(n,["labels"],_);const D=y(t,["pipelineJob"]);D!=null&&b(n,["pipelineJob"],D);const U=y(t,["tunedModelDisplayName"]);return U!=null&&b(n,["tunedModelDisplayName"],U),n}function F_(e,t){const n={},r=y(t,["nextPageToken"]);r!=null&&b(n,["nextPageToken"],r);const o=y(t,["tunedModels"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(u=>vb(e,u))),b(n,["tuningJobs"],l)}return n}function H_(e,t){const n={},r=y(t,["name"]);r!=null&&b(n,["name"],r);const o=y(t,["metadata"]);o!=null&&b(n,["metadata"],o);const l=y(t,["done"]);l!=null&&b(n,["done"],l);const u=y(t,["error"]);return u!=null&&b(n,["error"],u),n}function U_(e,t){const n={},r=y(t,["model"]);r!=null&&b(n,["model"],r);const o=y(t,["endpoint"]);return o!=null&&b(n,["endpoint"],o),n}function Uf(e,t){const n={},r=y(t,["name"]);r!=null&&b(n,["name"],r);const o=y(t,["state"]);o!=null&&b(n,["state"],pb(e,o));const l=y(t,["createTime"]);l!=null&&b(n,["createTime"],l);const u=y(t,["startTime"]);u!=null&&b(n,["startTime"],u);const f=y(t,["endTime"]);f!=null&&b(n,["endTime"],f);const m=y(t,["updateTime"]);m!=null&&b(n,["updateTime"],m);const d=y(t,["error"]);d!=null&&b(n,["error"],d);const g=y(t,["description"]);g!=null&&b(n,["description"],g);const x=y(t,["baseModel"]);x!=null&&b(n,["baseModel"],x);const v=y(t,["tunedModel"]);v!=null&&b(n,["tunedModel"],U_(e,v));const S=y(t,["supervisedTuningSpec"]);S!=null&&b(n,["supervisedTuningSpec"],S);const _=y(t,["tuningDataStats"]);_!=null&&b(n,["tuningDataStats"],_);const D=y(t,["encryptionSpec"]);D!=null&&b(n,["encryptionSpec"],D);const U=y(t,["partnerModelTuningSpec"]);U!=null&&b(n,["partnerModelTuningSpec"],U);const L=y(t,["distillationSpec"]);L!=null&&b(n,["distillationSpec"],L);const K=y(t,["experiment"]);K!=null&&b(n,["experiment"],K);const G=y(t,["labels"]);G!=null&&b(n,["labels"],G);const $=y(t,["pipelineJob"]);$!=null&&b(n,["pipelineJob"],$);const B=y(t,["tunedModelDisplayName"]);return B!=null&&b(n,["tunedModelDisplayName"],B),n}function V_(e,t){const n={},r=y(t,["nextPageToken"]);r!=null&&b(n,["nextPageToken"],r);const o=y(t,["tuningJobs"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(u=>Uf(e,u))),b(n,["tuningJobs"],l)}return n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class z_ extends Ds{constructor(t){super(),this.apiClient=t,this.get=async n=>await this.getInternal(n),this.list=async(n={})=>new cm(vs.PAGED_ITEM_TUNING_JOBS,r=>this.listInternal(r),await this.listInternal(n),n),this.tune=async n=>{if(this.apiClient.isVertexAI())return await this.tuneInternal(n);{const r=await this.tuneMldevInternal(n);let o="";return r.metadata!==void 0&&r.metadata.tunedModel!==void 0?o=r.metadata.tunedModel:r.name!==void 0&&r.name.includes("/operations/")&&(o=r.name.split("/operations/")[0]),{name:o,state:Of.JOB_STATE_QUEUED}}}}async getInternal(t){var n,r,o,l;let u,f="",m={};if(this.apiClient.isVertexAI()){const d=D_(this.apiClient,t);return f=Ve("{name}",d._url),m=d._query,delete d.config,delete d._url,delete d._query,u=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(g=>g.json()),u.then(g=>Uf(this.apiClient,g))}else{const d=C_(this.apiClient,t);return f=Ve("{name}",d._url),m=d._query,delete d.config,delete d._url,delete d._query,u=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(g=>g.json()),u.then(g=>vb(this.apiClient,g))}}async listInternal(t){var n,r,o,l;let u,f="",m={};if(this.apiClient.isVertexAI()){const d=k_(this.apiClient,t);return f=Ve("tuningJobs",d._url),m=d._query,delete d.config,delete d._url,delete d._query,u=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(g=>g.json()),u.then(g=>{const x=V_(this.apiClient,g),v=new hy;return Object.assign(v,x),v})}else{const d=A_(this.apiClient,t);return f=Ve("tunedModels",d._url),m=d._query,delete d.config,delete d._url,delete d._query,u=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(g=>g.json()),u.then(g=>{const x=F_(this.apiClient,g),v=new hy;return Object.assign(v,x),v})}}async tuneInternal(t){var n,r;let o,l="",u={};if(this.apiClient.isVertexAI()){const f=P_(this.apiClient,t);return l=Ve("tuningJobs",f._url),u=f._query,delete f.config,delete f._url,delete f._query,o=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(m=>m.json()),o.then(m=>Uf(this.apiClient,m))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(t){var n,r;let o,l="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const f=M_(this.apiClient,t);return l=Ve("tunedModels",f._url),u=f._query,delete f.config,delete f._url,delete f._query,o=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(m=>m.json()),o.then(m=>H_(this.apiClient,m))}}}const j_=1024*1024*8;async function G_(e,t,n){var r,o;let l=0,u=0,f=new Pf(new Response),m="upload";for(l=e.size;u<l;){const g=Math.min(j_,l-u),x=e.slice(u,u+g);if(u+g>=l&&(m+=", finalize"),f=await n.request({path:"",body:x,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:t,headers:{"X-Goog-Upload-Command":m,"X-Goog-Upload-Offset":String(u),"Content-Length":String(g)}}}),u+=g,((r=f==null?void 0:f.headers)===null||r===void 0?void 0:r["x-goog-upload-status"])!=="active")break;if(l<=u)throw new Error("All content has been uploaded, but the upload status is not finalized.")}const d=await(f==null?void 0:f.json());if(((o=f==null?void 0:f.headers)===null||o===void 0?void 0:o["x-goog-upload-status"])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return d.file}async function q_(e){return{size:e.size,type:e.type}}class Y_{async upload(t,n,r){if(typeof t=="string")throw new Error("File path is not supported in browser uploader.");return await G_(t,n,r)}async stat(t){if(typeof t=="string")throw new Error("File path is not supported in browser uploader.");return await q_(t)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Q_{create(t,n,r){return new K_(t,n,r)}}class K_{constructor(t,n,r){this.url=t,this.headers=n,this.callbacks=r}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(t){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(t)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Dy="x-goog-api-key";class $_{constructor(t){this.apiKey=t}async addAuthHeaders(t){t.get(Dy)===null&&t.append(Dy,this.apiKey)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const X_="gl-node/";class W_{constructor(t){var n;if(t.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(t.project||t.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(n=t.vertexai)!==null&&n!==void 0?n:!1,this.apiKey=t.apiKey;const r=o2(t,void 0,void 0);r&&(t.httpOptions?t.httpOptions.baseUrl=r:t.httpOptions={baseUrl:r}),this.apiVersion=t.apiVersion;const o=new $_(this.apiKey);this.apiClient=new v_({auth:o,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:t.httpOptions,userAgentExtra:X_+"web",uploader:new Y_}),this.models=new n_(this.apiClient),this.live=new WA(this.apiClient,o,new Q_),this.chats=new J2(this.models,this.apiClient),this.caches=new K2(this.apiClient),this.files=new dC(this.apiClient),this.operations=new m_(this.apiClient),this.tunings=new z_(this.apiClient)}}const dm=[{category:"House",genre:"House",tempoRange:[120,126],sections:["Intro","Build-Up","Drop","Breakdown","Drop 2","Outro"]},{category:"House",genre:"Deep House",tempoRange:[118,124],sections:["Intro","Build-Up","Drop","Breakdown","Outro"]},{category:"House",genre:"Tech House",tempoRange:[122,127],sections:["Intro","Build-Up","Drop","Breakdown","Drop 2","Outro"]},{category:"House",genre:"Progressive House",tempoRange:[124,128],sections:["Intro","Build-Up","Drop","Breakdown","Outro"]},{category:"House",genre:"Afro House",tempoRange:[120,125],sections:["Intro","Build-Up","Drop","Breakdown","Outro"]},{category:"House",genre:"Nu-Disco",tempoRange:[115,125],sections:["Intro","Verse","Chorus","Bridge","Outro"]},{category:"Techno",genre:"Melodic Techno",tempoRange:[120,126],sections:["Intro","Groove Build","Peak Moment","Mid-Break","Outro"]},{category:"Techno",genre:"Minimal Techno",tempoRange:[120,125],sections:["Intro","Groove Build","Peak Moment","Mid-Break","Outro"]},{category:"Techno",genre:"Big Room Techno",tempoRange:[126,130],sections:["Intro","Build-Up","Drop","Breakdown","Build-Up 2","Final Drop","Outro"]},{category:"Techno",genre:"Peak Time Techno",tempoRange:[128,135],sections:["Intro","Groove Build","Peak Moment","Mid-Break","Outro"]},{category:"Techno",genre:"Hard Techno",tempoRange:[135,145],sections:["Intro","Groove Build","Peak Moment","Mid-Break","Outro"]},{category:"Trance",genre:"Trance",tempoRange:[128,140],sections:["Intro","Build-Up","Drop","Breakdown","Build-Up 2","Final Drop","Outro"]},{category:"Trance",genre:"Psytrance",tempoRange:[140,150],sections:["Intro","Build-Up","Drop","Breakdown","Build-Up 2","Final Drop","Outro"]},{category:"Trance",genre:"Progressive Trance",tempoRange:[130,138],sections:["Intro","Build-Up","Drop","Breakdown","Build-Up 2","Final Drop","Outro"]},{category:"Trance",genre:"Uplifting Trance",tempoRange:[132,140],sections:["Intro","Build-Up","Drop","Breakdown","Build-Up 2","Final Drop","Outro"]},{category:"Bass & Dubstep",genre:"Dubstep",tempoRange:[140,150],sections:["Intro","Pre-Drop","Drop 1","Switch-Up","Drop 2","Outro"]},{category:"Bass & Dubstep",genre:"Riddim Dubstep",tempoRange:[140,150],sections:["Intro","Pre-Drop","Drop 1","Switch-Up","Drop 2","Outro"]},{category:"Bass & Dubstep",genre:"Hybrid Trap",tempoRange:[135,150],sections:["Intro","Pre-Drop","Drop 1","Mid-Section","Drop 2","Outro"]},{category:"Bass & Dubstep",genre:"Midtempo Bass",tempoRange:[95,110],sections:["Intro","Build-Up","Drop","Breakdown","Outro"]},{category:"Bass & Dubstep",genre:"Future Bass",tempoRange:[140,155],sections:["Intro","Pre-Drop","Drop 1","Breakdown","Drop 2","Outro"]},{category:"Bass & Dubstep",genre:"Phonk",tempoRange:[130,150],sections:["Intro","Pre-Drop","Drop 1","Switch-Up","Drop 2","Outro"]},{category:"Bass & Dubstep",genre:"Hardstyle",tempoRange:[150,160],sections:["Intro","Pre-Drop","Drop 1","Switch-Up","Drop 2","Outro"]},{category:"Trap & Future Styles",genre:"Trap",tempoRange:[130,150],sections:["Intro","Pre-Drop","Drop 1","Mid-Section","Drop 2","Outro"]},{category:"Trap & Future Styles",genre:"Hard Trap",tempoRange:[135,150],sections:["Intro","Pre-Drop","Drop 1","Switch-Up","Drop 2","Outro"]},{category:"Trap & Future Styles",genre:"Hyperpop",tempoRange:[140,160],sections:["Intro","Verse","Drop","Bridge","Outro"]},{category:"Trap & Future Styles",genre:"Trap Soul",tempoRange:[100,130],sections:["Intro","Verse","Chorus","Bridge","Outro"]},{category:"Trap & Future Styles",genre:"Jersey Club",tempoRange:[130,140],sections:["Intro","Pre-Drop","Drop 1","Mid-Section","Drop 2","Outro"]},{category:"Drum & Bass / UK Styles",genre:"Drum & Bass",tempoRange:[170,175],sections:["Intro","Build-Up","Drop","Mid-Roll","Breakdown","Second Drop","Outro"]},{category:"Drum & Bass / UK Styles",genre:"Liquid DnB",tempoRange:[170,175],sections:["Intro","Build-Up","Drop","Mid-Roll","Breakdown","Second Drop","Outro"]},{category:"Drum & Bass / UK Styles",genre:"Jungle",tempoRange:[170,175],sections:["Intro","Build-Up","Drop","Mid-Roll","Breakdown","Second Drop","Outro"]},{category:"Drum & Bass / UK Styles",genre:"UK Garage",tempoRange:[130,138],sections:["Intro","Build-Up","Drop","Breakdown","Outro"]},{category:"Drum & Bass / UK Styles",genre:"UK Bass",tempoRange:[128,138],sections:["Intro","Build-Up","Drop","Breakdown","Outro"]},{category:"Drum & Bass / UK Styles",genre:"Breakbeat",tempoRange:[125,135],sections:["Intro","Build-Up","Drop","Breakdown","Outro"]},{category:"Pop / Indie / Electro",genre:"EDM Pop",tempoRange:[110,125],sections:["Intro","Verse","Pre-Chorus","Chorus / Drop","Bridge","Outro"]},{category:"Pop / Indie / Electro",genre:"Indie Pop",tempoRange:[100,120],sections:["Intro","Verse","Chorus","Bridge","Outro"]},{category:"Pop / Indie / Electro",genre:"Indie Dance",tempoRange:[115,125],sections:["Intro","Verse","Chorus","Bridge","Outro"]},{category:"Pop / Indie / Electro",genre:"Electro Pop",tempoRange:[100,120],sections:["Intro","Verse","Pre-Chorus","Chorus","Bridge","Outro"]},{category:"Pop / Indie / Electro",genre:"Synth Pop",tempoRange:[100,115],sections:["Intro","Verse","Pre-Chorus","Chorus","Bridge","Outro"]},{category:"Retro & Synth",genre:"Synthwave",tempoRange:[85,105],sections:["Intro","Main Theme","Breakdown","Bridge","Outro"]},{category:"Retro & Synth",genre:"Chillwave",tempoRange:[85,100],sections:["Intro","Main Theme","Breakdown","Bridge","Outro"]},{category:"Retro & Synth",genre:"Vaporwave",tempoRange:[60,85],sections:["Intro","Main Theme","Breakdown","Outro"]},{category:"Retro & Synth",genre:"Retrowave",tempoRange:[90,110],sections:["Intro","Main Theme","Breakdown","Bridge","Outro"]},{category:"Hip-Hop & RnB",genre:"Boom Bap",tempoRange:[85,95],sections:["Intro","Verse","Chorus","Verse 2","Outro"]},{category:"Hip-Hop & RnB",genre:"Experimental Hip-Hop",tempoRange:[80,100],sections:["Intro","Verse","Drop","Bridge","Outro"]},{category:"Hip-Hop & RnB",genre:"RnB Remix",tempoRange:[85,100],sections:["Intro","Verse","Chorus","Bridge","Outro"]},{category:"Lo-fi & Chill",genre:"Lo-fi Hip-Hop",tempoRange:[65,85],sections:["Intro","Groove Section A","Groove Section B","Bridge / Texture Break","Outro"]},{category:"Lo-fi & Chill",genre:"Chillhop",tempoRange:[70,90],sections:["Intro","Groove Section A","Groove Section B","Bridge / Texture Break","Outro"]},{category:"Lo-fi & Chill",genre:"Trip-Hop",tempoRange:[70,90],sections:["Intro","Main Atmosphere","Texture Development","Outro"]},{category:"Lo-fi & Chill",genre:"Downtempo",tempoRange:[70,90],sections:["Intro","Main Atmosphere","Texture Development","Dynamic Peak","Outro"]},{category:"Lo-fi & Chill",genre:"Chillstep",tempoRange:[100,115],sections:["Intro","Build-Up","Drop","Breakdown","Outro"]},{category:"Ambient & Cinematic",genre:"Ambient",tempoRange:[60,80],sections:["Intro","Main Atmosphere","Texture Development","Outro"]},{category:"Ambient & Cinematic",genre:"Cinematic",tempoRange:[60,80],sections:["Intro","Main Atmosphere","Texture Development","Outro"]}],J_=()=>dm.map(e=>e.genre),Z_=()=>J_();var eI={};const ji=typeof process<"u"&&eI.GEMINI_MODEL_NAME||typeof import.meta<"u"&&void 0||"gemini-2.0-flash-exp",Ry="TrackGuide",ky="songGuidebookLibrary",ts="trackGuideLastUsedDAW",Zl="trackGuideLastUsedPlugins";let Vf=[];try{Vf=Z_()}catch(e){console.warn("Failed to load dynamic genre list, using static list",e),Vf=["Pop","Indie Pop","Synth-Pop","Rock","Alternative Rock","Hard Rock","Punk Rock","Post-Punk","Nu Metal","Progressive Rock","Psychedelic Rock","Folk Rock","Shoegaze","House","Deep House","Progressive House","Tech House","Bass House","Electro House","Minimal House","Techno","Minimal Techno","Industrial Techno","Melodic Techno","Ambient Techno","Hard Techno","Trance","Progressive Trance","Psytrance","Goa Trance","Hard Trance","Ambient","Dark Ambient","Downtempo","Chillout","Chillwave","Psybient","Berlin School","Synthwave","Retrowave","Darksynth","Vaporwave","Future Funk","Drum and Bass","Jungle","Liquid DnB","Neurofunk","Breakcore","Dubstep","Riddim","Future Bass","Trap (EDM)","Hardstyle","Gabber","UK Hardcore","IDM (Intelligent Dance Music)","Glitch","Breakbeat","UK Garage","2-Step","Future Garage","EBM (Electronic Body Music)","Footwork","Juke","Hip Hop","Boom Bap","Trap","Lo-fi Hip Hop","Cloud Rap","Drill","Conscious Hip Hop","R&B","Contemporary R&B","Neo-Soul","Soul","Folk","Acoustic","World Music","Reggae","Dub","Ska","Latin","Afrobeat","Celtic","Jazz","Smooth Jazz","Blues","Funk","Heavy Metal","Thrash Metal","Death Metal","Black Metal","Doom Metal","Metalcore","Deathcore","Experimental","Noise","Industrial","Classical Crossover","Chiptune","Video Game Music"]}const Cb=Vf,tI=["Dark","Atmospheric","Energetic","Uplifting","Chill","Relaxed","Experimental","Trippy","Nostalgic","Retro","Aggressive","Intense","Melancholic","Introspective","Funky","Groovy","Mysterious","Eerie","Euphoric","Anthemic","Dreamy","Ethereal","Raw","Gritty","Sophisticated","Smooth","Cyberpunk","Futuristic","Hypnotic","Driving","Industrial","Mechanical","Hopeful","Aggressive","Peaceful","Romantic","Sad","Joyful","Tense"],uf=["Ableton Live","Logic Pro X","FL Studio","Pro Tools","Reaper","Cubase","Studio One","Reason","Bitwig Studio","GarageBand"],cs=["C Major","G Major","D Major","A Major","E Major","B Major","F# Major","C# Major","F Major","Bb Major","Eb Major","Ab Major","Db Major","Gb Major","Cb Major","A Minor","E Minor","B Minor","F# Minor","C# Minor","G# Minor","D# Minor","A# Minor","D Minor","G Minor","C Minor","F Minor","Bb Minor","Eb Minor","Ab Minor"],wy={C:["Ionian (Major)","Dorian","Phrygian","Lydian","Mixolydian","Aeolian (Natural Minor)","Locrian"],"C#":["Ionian (Major)","Dorian","Phrygian","Lydian","Mixolydian","Aeolian (Natural Minor)","Locrian"],Db:["Ionian (Major)","Dorian","Phrygian","Lydian","Mixolydian","Aeolian (Natural Minor)","Locrian"],D:["Ionian (Major)","Dorian","Phrygian","Lydian","Mixolydian","Aeolian (Natural Minor)","Locrian"],"D#":["Ionian (Major)","Dorian","Phrygian","Lydian","Mixolydian","Aeolian (Natural Minor)","Locrian"],Eb:["Ionian (Major)","Dorian","Phrygian","Lydian","Mixolydian","Aeolian (Natural Minor)","Locrian"],E:["Ionian (Major)","Dorian","Phrygian","Lydian","Mixolydian","Aeolian (Natural Minor)","Locrian"],F:["Ionian (Major)","Dorian","Phrygian","Lydian","Mixolydian","Aeolian (Natural Minor)","Locrian"],"F#":["Ionian (Major)","Dorian","Phrygian","Lydian","Mixolydian","Aeolian (Natural Minor)","Locrian"],Gb:["Ionian (Major)","Dorian","Phrygian","Lydian","Mixolydian","Aeolian (Natural Minor)","Locrian"],G:["Ionian (Major)","Dorian","Phrygian","Lydian","Mixolydian","Aeolian (Natural Minor)","Locrian"],"G#":["Ionian (Major)","Dorian","Phrygian","Lydian","Mixolydian","Aeolian (Natural Minor)","Locrian"],Ab:["Ionian (Major)","Dorian","Phrygian","Lydian","Mixolydian","Aeolian (Natural Minor)","Locrian"],A:["Ionian (Major)","Dorian","Phrygian","Lydian","Mixolydian","Aeolian (Natural Minor)","Locrian"],"A#":["Ionian (Major)","Dorian","Phrygian","Lydian","Mixolydian","Aeolian (Natural Minor)","Locrian"],Bb:["Ionian (Major)","Dorian","Phrygian","Lydian","Mixolydian","Aeolian (Natural Minor)","Locrian"],B:["Ionian (Major)","Dorian","Phrygian","Lydian","Mixolydian","Aeolian (Natural Minor)","Locrian"],Cb:["Ionian (Major)","Dorian","Phrygian","Lydian","Mixolydian","Aeolian (Natural Minor)","Locrian"]},nI=[[4,4],[3,4],[6,8],[2,4],[5,4],[7,8]],aI=[{id:"chords",label:"Chords"},{id:"bassline",label:"Bassline"},{id:"melody",label:"Melody"},{id:"drums",label:"Drums"}],iI=["General Loop","Intro","Verse","Pre-Chorus","Chorus","Post-Chorus","Bridge","Solo","Breakdown","Drop","Outro","Fill"],ut={key:"C Major",tempo:120,timeSignature:[4,4],chordProgression:"I-V-vi-IV",genre:"Pop",bars:8,targetInstruments:["chords","bassline","melody","drums"],guidebookContext:"",songSection:"General Loop"},Hn={Pop:["I-V-vi-IV","vi-IV-I-V","I-IV-V-I","I-vi-IV-V","ii-V-I-IV","vi-ii-V-I","I-iii-vi-V"],"Indie Pop":["I-V-vi-IV","I-IV-vi-V","vi-IV-I-V","I-iii-IV-V","vi-ii-V-I","I-vi-ii-V"],"Synth-Pop":["i-VI-III-VII","I-V-vi-IV","i-iv-v-VI","I-IV-ii-V","vi-IV-I-V","i-VII-VI-V"],Rock:["I-IV-V","vi-IV-I-V","I-bVII-IV-I","i-VI-III-VII","I-V-IV-I","vi-ii-V-I","I-IV-V-vi"],"Alternative Rock":["vi-IV-I-V","I-V-vi-IV","i-VI-III-VII","I-IV-ii-V","I-bVII-IV-I","vi-ii-V-I"],"Hard Rock":["I-IV-V","i-VI-III-VII","I-bVII-IV-I","i-iv-v-i","vi-IV-I-V","I-V-IV-I"],"Punk Rock":["I-IV-V","vi-IV-I-V","I-V-vi-IV","I-bVII-IV-I","i-iv-v-i"],House:["i-VI-III-VII","Am-G-C-F","i-III-VI-VII","i-v-iv-i","vi-IV-I-V","i-VII-VI-V"],"Deep House":["i-VI-III-VII","Am-G-C-F","i-iv-v-i","vi-ii-V-I","i-VII-VI-V","Dm-Bb-F-C"],"Progressive House":["i-VI-III-VII","vi-IV-I-V","i-iv-v-VI","Am-F-C-G","i-VII-VI-V"],"Tech House":["i-VI-III-VII","i-iv-v-i","Am-G-F-E","i-III-VI-VII","vi-IV-I-V"],Techno:["i-VI-III-VII","i-iv-v-i","Am-G-F-E","i-III-VI-VII","i-VII-VI-V","Drone + variations"],"Minimal Techno":["i-iv-v-i","Am-G-F-E","i-VI-III-VII","Single chord drone","i-VII-VI-V"],Trance:["i-VI-III-VII","vi-IV-I-V","i-VII-VI-V","Am-F-C-G","i-iv-v-VI","vi-ii-V-I"],"Progressive Trance":["i-VI-III-VII","vi-IV-I-V","i-iv-v-VI","Am-F-C-G","vi-ii-V-I"],Ambient:["Imaj7-IVmaj7","i-VI","Drone + sus chords","vi-IV-I-V","Am-F-C-G","Cmaj7-Fmaj7-Am7-Dm7"],"Dark Ambient":["i-iv-v-i","Am-Dm-Em-Am","i-VI-III-VII","Drone + minor variations"],Synthwave:["i-VI-III-VII","vi-IV-I-V","I-V-vi-IV","i-iv-v-i","Am-F-C-G","i-VII-VI-V"],Retrowave:["i-VI-III-VII","vi-IV-I-V","I-V-vi-IV","Am-F-C-G","i-iv-v-VI"],Darksynth:["i-VI-III-VII","i-iv-v-i","Am-G-F-E","i-VII-VI-V","vi-IV-I-V"],Vaporwave:["Imaj7-IVmaj7","vi-IV-I-V","I-V-vi-IV","Cmaj7-Fmaj7-Am7-Dm7","ii-V-I-IV"],"Drum and Bass":["i-VI-III-VII","Am-F-C-G","ii-V-I-IV","i-iv-v-VI","Complex jazz voicings"],"Liquid DnB":["ii-V-I-IV","Imaj7-vi7-ii7-V7","i-VI-III-VII","Am-F-C-G","vi-ii-V-I"],Neurofunk:["i-VI-III-VII","i-iv-v-i","Am-G-F-E","Complex chromatic progressions"],Breakcore:["i-VI-III-VII","Complex atonal progressions","i-iv-v-i","Chaotic harmonic structures"],Dubstep:["i-VI-III-VII","i-iv-v-i","Am-G-F-E","Simple 2-3 chord loops","vi-IV-I-V"],Riddim:["i-VI-III-VII","i-iv-v-i","Am-G-F-E","Simple repetitive loops"],"Future Bass":["I-V-vi-IV","vi-IV-I-V","i-VI-III-VII","I-iii-vi-V","vi-ii-V-I"],"Trap (EDM)":["i-VI-III-VII","i-iv-v-i","Am-G-F-E","vi-IV-I-V","Simple 2-3 chord loops"],"Hip Hop":["i-VI-III-VII","Am-G-Em-F","ii-V-I","i-iv-v-i","Sample-based loops","vi-IV-I-V"],"Boom Bap":["ii-V-I","i-VI-III-VII","Am-G-Em-F","Sample-based progressions","i-iv-v-i"],Trap:["i-VI-III-VII","i-iv-v-i","Am-G-F-E","vi-IV-I-V","Simple minor progressions"],"Lo-fi Hip Hop":["ii-V-I-IV","Imaj7-vi7-ii7-V7","I-V-vi-IV","vi-ii-V-I","Cmaj7-Am7-Dm7-G7"],"Cloud Rap":["i-VI-III-VII","vi-IV-I-V","I-V-vi-IV","Atmospheric progressions","Am-F-C-G"],Drill:["i-VI-III-VII","i-iv-v-i","Am-G-F-E","Dark minor progressions","vi-IV-I-V"],"R&B":["Imaj7-IVmaj7","ii-V-I","i-VI-III-VII","vi-ii-V-I","I-iii-vi-V","Cmaj7-Fmaj7-Am7-Dm7"],"Contemporary R&B":["Imaj7-IVmaj7","vi-ii-V-I","I-iii-vi-V","ii-V-I-IV","I-V-vi-IV"],"Neo-Soul":["ii-V-I","Imaj7-vi7-ii7-V7","i-VI-III-VII","Complex jazz progressions","vi-ii-V-I"],Soul:["I-IV-V","ii-V-I","I-vi-IV-V","vi-IV-I-V","I-V-vi-IV"],Folk:["I-IV-V","I-V-vi-IV","G-C-D-G","C-G-Am-F","vi-IV-I-V","I-vi-IV-V"],Acoustic:["I-V-vi-IV","I-IV-V","vi-IV-I-V","G-C-D-G","C-G-Am-F","I-vi-IV-V"],Jazz:["ii-V-I","I-vi-ii-V","iii-vi-ii-V","I-II7-V7-I","Imaj7-IIm7-IIIm7-IVmaj7","vi-ii-V-I"],"Smooth Jazz":["ii-V-I","Imaj7-vi7-ii7-V7","I-vi-ii-V","vi-ii-V-I","iii-vi-ii-V"],Blues:["I-I-I-I-IV-IV-I-I-V-IV-I-I","i-i-i-i-iv-iv-i-i-v-iv-i-i","I-IV-V","i-iv-v"],Funk:["ii-V-I","I-IV-V","i-iv-v-i","vi-ii-V-I","I7-IV7-V7","Dominant 7th progressions"],"Heavy Metal":["i-VI-III-VII","i-iv-v-i","I-bVII-IV-I","vi-IV-I-V","i-VII-VI-V"],"Thrash Metal":["i-VI-III-VII","i-iv-v-i","I-bVII-IV-I","Fast chromatic progressions"],"Death Metal":["i-iv-v-i","i-VI-III-VII","Chromatic progressions","Complex atonal structures"],"Black Metal":["i-iv-v-i","i-VI-III-VII","i-VII-VI-V","Atmospheric minor progressions"],"Doom Metal":["i-iv-v-i","i-VI-III-VII","i-VII-VI-V","Slow minor progressions"],Metalcore:["i-VI-III-VII","vi-IV-I-V","i-iv-v-i","I-bVII-IV-I","vi-ii-V-I"],Deathcore:["i-iv-v-i","i-VI-III-VII","Chromatic breakdowns","Complex atonal progressions"],Experimental:["Atonal progressions","Extended harmony","Microtonal scales","Non-traditional structures"],Noise:["Atonal clusters","Non-harmonic structures","Dissonant progressions","Experimental harmony"],Industrial:["i-iv-v-i","i-VI-III-VII","Power chord progressions","Mechanical repetition"],Chiptune:["I-V-vi-IV","i-VI-III-VII","vi-IV-I-V","Classic video game progressions","I-iii-vi-V"],"Video Game Music":["I-V-vi-IV","i-VI-III-VII","vi-IV-I-V","Adventure progressions","I-iii-vi-V"],Default:["I-V-vi-IV","i-VI-III-VII","I-IV-V-I","vi-IV-I-V","ii-V-I","I-iii-vi-V"]},ra={Pop:[90,130],"Indie Pop":[100,140],"Synth-Pop":[110,140],Rock:[100,160],"Alternative Rock":[90,150],House:[118,128],"Deep House":[115,125],Techno:[125,145],Trance:[130,145],Ambient:[50,100],Synthwave:[80,120],"Drum and Bass":[160,180],Dubstep:[130,150],"Trap (EDM)":[130,160],"Hip Hop":[80,110],"Lo-fi Hip Hop":[70,90],"R&B":[60,100],Folk:[80,120],Jazz:[70,180],Blues:[70,130],Default:[60,200]},Ur={kick:36,snare:38,hihat_closed:42,open_hihat:46,tom_low:41,tom_mid:47,tom_high:50,crash_cymbal_1:49,ride_cymbal_1:51,clap:39,shaker:70,tambourine:54,rim_shot:37,cowbell:56,bass_drum:36,snare_drum:38,closed_hihat:42,hihat:42,crash:49,ride:51},eu=[{category:"Genre",key:"genre",examples:["Techno","House","Trance","Dubstep","Drum & Bass","Synthwave","Ambient","Industrial","Rock","Pop","Hip Hop","R&B","Jazz","Experimental","Cinematic","Video Game Score","Chiptune"]},{category:"Voice Type",key:"voiceType",examples:["Lead","Pad","Bass","Pluck","Arp","FX","Drone","Texture","Atmosphere","Riser","Impact","Chord","Stab"]},{category:"Style & Mood",key:"styleMood",examples:["Warm","Bright","Dark","Metallic","Analog","Digital","Dreamy","Aggressive","Mysterious","Epic","Punchy","Floating","Gritty","Clean","Organic","Mechanical","Futuristic","Retro","Cyberpunk"]},{category:"Dynamics & Movement",key:"dynamicsMovement",examples:["Evolving","Pulsating","Static","Rhythmic","Flowing","Choppy","Breathing","Morphing","Swelling","Pounding","Cascading","Trembling","Wobbling","Shifting","Undulating","Building","Fading","Stuttering"]}],wu=[{dawName:"Ableton Live",workflowTips:["Utilize Session View for arranging and improvisation.","Use Drum Rack for detailed drum programming and sample layering.","Map macros to multiple parameters for quick automation and sound shaping."],advancedFeatures:["Max for Live integration for custom devices and advanced automation.","Advanced warping modes for audio editing.","Capture MIDI functionality to recover played ideas."],stockPlugins:{EQ:["EQ Eight","EQ Three"],Compression:["Compressor","Glue Compressor","Multiband Dynamics"],Reverb:["Hybrid Reverb","Reverb"],Delay:["Echo","Delay"],Creative:["Beat Repeat","Grain Delay","Corpus","Resonators"]},suggestedSignalChains:{Vocal:["EQ Eight","Compressor","Hybrid Reverb","Echo"],DrumBus:["Drum Buss","Glue Compressor","Saturator"],Synth:["EQ Eight","Multiband Dynamics","Chorus-Ensemble","Hybrid Reverb"],Guitar:["Amp","Cabinet","EQ Eight","Delay"]}},{dawName:"Pro Tools",workflowTips:["Use playlist comping for efficient take management.","Leverage AudioSuite plugins for offline processing.","Take advantage of grouping and VCA masters for streamlined mixing."],advancedFeatures:["Elastic Audio for precise timing correction.","Beat Detective for rhythmic correction.","Advanced automation modes and precise automation editing."],stockPlugins:{EQ:["EQ III 7-Band"],Compression:["BF-76 Compressor","Dyn3 Compressor/Limiter"],Reverb:["D-Verb","AIR Reverb"],Delay:["Mod Delay III","AIR Dynamic Delay"],Creative:["AIR Lo-Fi","AIR Distortion","AIR Filter Gate"]},suggestedSignalChains:{Vocal:["EQ III 7-Band","BF-76 Compressor","D-Verb"],DrumBus:["Dyn3 Compressor/Limiter","EQ III 7-Band","AIR Lo-Fi"],Synth:["AIR Enhancer","EQ III 7-Band","AIR Reverb"],Guitar:["Eleven Lite","EQ III 7-Band","Mod Delay III"]}},{dawName:"Logic Pro",workflowTips:["Utilize Track Stacks for easy management of layered sounds.","Take advantage of Logic's built-in Flex Time and Flex Pitch tools for audio editing.","Explore Alchemy for advanced synth design and sound manipulation."],advancedFeatures:["Drummer virtual session player for realistic drum tracks.","Flex Pitch for detailed vocal tuning.","Smart Controls for streamlined automation and modulation."],stockPlugins:{EQ:["Channel EQ","Linear Phase EQ"],Compression:["Compressor","Multipressor"],Reverb:["Space Designer","ChromaVerb"],Delay:["Stereo Delay","Delay Designer"],Creative:["Phat FX","Step FX","Remix FX"]},suggestedSignalChains:{Vocal:["Channel EQ","Compressor","ChromaVerb"],DrumBus:["Multipressor","Channel EQ","Phat FX"],Synth:["Channel EQ","Space Designer","Step FX"],Guitar:["Amp Designer","Pedalboard","Stereo Delay"]}},{dawName:"FL Studio",workflowTips:["Utilize the Channel Rack and Pattern Clips for quick beat and loop creation.","Take advantage of Piano Roll features for detailed MIDI editing.","Use the Mixer effectively for parallel processing and advanced routing."],advancedFeatures:["Gross Beat for creative time and volume manipulation.","Patcher for advanced plugin routing and modular setups.","Advanced automation clips with extensive modulation capabilities."],stockPlugins:{EQ:["Parametric EQ 2"],Compression:["Maximus","Fruity Limiter"],Reverb:["Fruity Reeverb 2","Convolver"],Delay:["Fruity Delay 3"],Creative:["Gross Beat","Effector","Fruity Love Philter"]},suggestedSignalChains:{Vocal:["Parametric EQ 2","Maximus","Fruity Reeverb 2"],DrumBus:["Maximus","Fruity Compressor","Effector"],Synth:["Parametric EQ 2","Gross Beat","Convolver"]}},{dawName:"Cubase",workflowTips:["Take advantage of Cubase's Control Room for advanced monitoring setups.","Utilize Track Versions for efficient comping and arrangement variations.","Explore Chord Track and Chord Pads for creative songwriting support."],advancedFeatures:["VariAudio for detailed pitch and timing correction.","Chord Track for quick harmonic experimentation.","Sampler Track for flexible sample-based sound design."],stockPlugins:{EQ:["Frequency","StudioEQ"],Compression:["Compressor","Vintage Compressor"],Reverb:["Reverence","RoomWorks SE"],Delay:["PingPongDelay","StereoDelay"],Creative:["Quadrafuzz v2","LoopMash FX","ModMachine"]},suggestedSignalChains:{Vocal:["Frequency","Compressor","Reverence"],DrumBus:["Compressor","Frequency","Quadrafuzz v2"],Synth:["StudioEQ","StereoDelay","LoopMash FX"],Guitar:["AmpSimulator","StudioEQ","StereoDelay"]}},{dawName:"Reaper",workflowTips:["Customize actions and macros to optimize workflow.","Leverage routing flexibility for advanced parallel processing.","Utilize ReaScript scripting and extensions for enhanced functionality."],advancedFeatures:["ReaScript for custom scripting and automation.","Dynamic split based on transient detection for flexible editing.","Integrated video support for scoring and post-production."],stockPlugins:{EQ:["ReaEQ"],Compression:["ReaComp","ReaXcomp"],Reverb:["ReaVerbate","ReaVerb"],Delay:["ReaDelay"],Creative:["JSFX (Jesusonic Effects)","ReaPitch"]},suggestedSignalChains:{Vocal:["ReaEQ","ReaComp","ReaVerb"],DrumBus:["ReaXcomp","ReaEQ","JSFX Saturation"],Synth:["ReaEQ","ReaDelay","JSFX Chorus"],Guitar:["ReaEQ","ReaComp","ReaVerb"]}}];function fm(e){return wu.find(t=>t.dawName===e)}function Br(e,t){const n=wu.find(r=>r.dawName===e);return(n==null?void 0:n.stockPlugins[t])||[]}const Kr=typeof import.meta<"u"&&"AIzaSyCxOuxalv_PC6h6aE8JvEjLMK8ie8C9Nts";if(!Kr)throw new Error("API key not configured. Set GEMINI_API_KEY or VITE_GEMINI_API_KEY environment variable.");const Gi=new W_({apiKey:Kr});function Sb(e,t){if(!e&&!t)return`
### 🎛️ Processing Tips & Plugin Parameters

**EQ Settings:**
- High-pass filter: 20-40 Hz to remove sub-bass rumble
- Low-mid cut: 200-400 Hz to reduce muddiness
- Presence boost: 2-5 kHz for clarity
- Air boost: 10-15 kHz for sparkle

**Compression:**
- Ratio: 3:1 to 4:1 for moderate control
- Attack: 10-30ms for punch retention
- Release: 100-300ms for natural decay
- Makeup gain: 2-6 dB as needed

**Reverb & Delay:**
- Room reverb: 0.8-1.5s decay for space
- Delay: 1/8 or 1/4 note timing
- High-cut: 8-12 kHz to avoid harshness
- Mix: 15-30% for depth without wash`;const n=e?fm(e):null,r=n&&e&&Br(e,"EQ")[0]||"Stock EQ",o=n&&e&&Br(e,"Compression")[0]||"Stock Compressor",l=n&&e&&Br(e,"Reverb")[0]||"Stock Reverb",u=n&&e&&Br(e,"Delay")[0]||"Stock Delay",f=n&&e&&Br(e,"Creative")[0]||"Stock Saturator",m=e&&!t?`**${e} Stock Plugin Chain:**`:e?`**${e}-Specific Settings:**`:"",d=t?`**Custom Plugin Chain (${t}):**`:"";return`
### 🎛️ Processing Tips & Plugin Parameters
${m}
${d}

**EQ Parameters:**
${n&&!t?`- ${r}: High-pass at ${e!=null&&e.toLowerCase().includes("logic")?"35":e!=null&&e.toLowerCase().includes("fl")?"30":"40"} Hz, Low-mid cut at ${e!=null&&e.toLowerCase().includes("logic")?"300":e!=null&&e.toLowerCase().includes("fl")?"400":"250"} Hz (-3dB), Presence boost at ${e!=null&&e.toLowerCase().includes("logic")?"12 kHz (+1.5dB)":e!=null&&e.toLowerCase().includes("fl")?"15 kHz (+2dB)":"3 kHz (+2dB)"}`:e==="Ableton Live"?"- EQ Eight: High-pass at 40 Hz, Low-mid cut at 250 Hz (-3dB), Presence boost at 3 kHz (+2dB)":e==="Logic Pro"?"- Channel EQ: High-pass at 35 Hz, Low-mid cut at 300 Hz (-2.5dB), High boost at 12 kHz (+1.5dB)":e==="FL Studio"?"- Parametric EQ 2: High-pass at 30 Hz, Mid cut at 400 Hz (-4dB), Air boost at 15 kHz (+2dB)":"- High-pass filter: 20-40 Hz, Low-mid cut: 200-400 Hz (-2 to -4dB), Presence boost: 2-5 kHz (+1 to +3dB)"}

**Compression Settings:**
${n&&!t?`- ${o}: Ratio ${e!=null&&e.toLowerCase().includes("logic")?"3.5:1":"4:1"}, Attack ${e!=null&&e.toLowerCase().includes("fl")?"10ms":e!=null&&e.toLowerCase().includes("logic")?"20ms":"15ms"}, Release ${e!=null&&e.toLowerCase().includes("logic")?"150ms":e!=null&&e.toLowerCase().includes("fl")?"250ms":"200ms"}${e!=null&&e.toLowerCase().includes("logic")?", Auto-Release enabled":e!=null&&e.toLowerCase().includes("fl")?", Knee 3dB":", Knee 2dB"}`:e==="Ableton Live"?"- Compressor: Ratio 4:1, Attack 15ms, Release 200ms, Knee 2dB":e==="Logic Pro"?"- Compressor: Ratio 3.5:1, Attack 20ms, Release 150ms, Auto-Release enabled":e==="FL Studio"?"- Fruity Compressor: Ratio 4:1, Attack 10ms, Release 250ms, Knee 3dB":"- Ratio: 3:1 to 4:1, Attack: 10-30ms, Release: 100-300ms, Makeup: 2-6 dB"}

**Time-Based Effects:**
${n&&!t?`- ${l}: Room/Hall setting, 1.2s decay, Pre-delay 20ms, Mix 25%
- ${u}: 1/8 note timing, Feedback 35%, High-cut 8kHz, Mix 20%`:e==="Ableton Live"?`- Reverb: Hall algorithm, 1.3s decay, Pre-delay 15ms, Mix 30%
- Echo: 1/8 note ping-pong, Feedback 30%, Filter cutoff 70%, Mix 25%`:e==="Logic Pro"?`- ChromaVerb: Chamber setting, 1.2s decay, Pre-delay 20ms, Mix 25%
- Delay Designer: 1/8 dotted, Feedback 40%, Low-cut 100Hz, High-cut 9kHz`:e==="FL Studio"?`- Reeverb 2: Room size 70%, Diffusion 60%, Decay 1.4s, Mix 22%
- Fruity Delay 3: Tempo-synced 1/8, Stereo offset 20ms, Feedback 35%`:`- Reverb: Medium room/hall, 1-1.5s decay, 15-25ms pre-delay, 20-30% mix
- Delay: 1/8 or 1/4 note timing, 30-40% feedback, high-cut filter`}

**Recommended Signal Chain:**
${n&&n.suggestedSignalChains&&n.suggestedSignalChains.Synth?`- ${n.suggestedSignalChains.Synth.join(" → ")}`:n?`- ${r} → ${o} → ${f} → ${l}/${u}`:e==="Ableton Live"?"- EQ Eight → Compressor → Saturator → Reverb/Echo → Limiter":e==="Logic Pro"?"- Channel EQ → Compressor → Tape → ChromaVerb/Delay Designer → Adaptive Limiter":e==="FL Studio"?"- Parametric EQ 2 → Fruity Compressor → Waveshaper → Reverb/Delay → Fruity Limiter":t||"EQ → Compressor → Saturation → Reverb/Delay → Limiter"}`}function Ab(){return`
## 🎼 Structural Blueprint

<div className="overflow-x-auto">

| **Section** | **Duration** | **Key Elements & Instrumentation** |
| --- | --- | --- |
| **Intro** | 16-32 bars | Atmospheric build, Teaser elements<br/>*Lead synth, Bass, Drums, Pads* |
| **Verse 1** | 16 bars | Main groove, Vocal/Lead melody<br/>*Vocals, Full arrangement* |
| **Pre-Chorus** | 8 bars | Tension build, Filter sweeps<br/>*Reduced arrangement, Focus elements* |
| **Chorus** | 16 bars | Full energy, Hook elements<br/>*Full arrangement, Vocal harmonies* |
| **Breakdown** | 8-16 bars | Stripped back, Build tension<br/>*Breakdown elements, Build-up* |
| **Verse 2/Solo** | 16 bars | Variation, New elements<br/>*Lead elements, Minimal backing* |
| **Final Chorus** | 16-24 bars | Maximum energy, All elements<br/>*Full arrangement, Climax elements* |
| **Outro** | 16-32 bars | Gradual fade, Ambient tail<br/>*Fade elements, Ambient textures* |

</div>`}const rI=async e=>{var K,G;const t=e.songTitle?`- **Project Name**: ${e.songTitle}`:"",n=e.artistReference?`- **Artist References**: ${e.artistReference}`:"",r=((K=e.genre)==null?void 0:K.join(", "))||"Not specified",o=((G=e.vibe)==null?void 0:G.join(", "))||"Not specified",l=e.availableInstruments||"Not specified",u=e.daw?e.daw:"Not specified",f=e.plugins?e.plugins:"Stock/Generic plugins",m=e.key?`Key: ${e.key}`:"",d=e.scale?`Scale/Mode: ${e.scale}`:"",g=e.chords?`Chord Progression: ${e.chords}`:"",x=e.referenceTrackLink?`Reference Track: ${e.referenceTrackLink}`:"",v=e.lyrics?`Lyrics Theme: ${e.lyrics}`:"",S=e.generalNotes?`Additional Notes: ${e.generalNotes}`:"",_=Ab(),D=Sb(e.daw,e.plugins),U=`// ⚡ Including all fields

You are TrackGuideAI, an expert music production assistant specializing in comprehensive track creation guides.

Create a detailed TrackGuide for the following specifications:
${t}
${n}
- **Genre**: ${r}
- **Vibe**: ${o}
- **Available Instruments**: ${l}
- **DAW**: ${u}
- **Plugins**: ${f}
${m}
${d}
${g}
${x}
${v}
${S}

At the end of your opening summary sentence, always add: This guide is a starting point—remember to use your ears and trust your intuition throughout the process.

**Note:** This guide is a starting point—remember to use your ears and trust your intuition throughout the process.

**IMPORTANT REQUIREMENTS:**
1. Include the exact Structural Blueprint table with Instrumentation column as provided
2. Use specific plugin parameters when DAW/plugins are specified
3. Provide actionable, detailed guidance for each section
4. Use markdown formatting with proper headers and emphasis

**Required Sections:**

${_}

## 🎵 Genre DNA Analysis
**Core Characteristics:**
- Tempo range and feel
- Harmonic structure and chord progressions
- Rhythmic patterns and groove elements
- Sonic palette and instrumentation choices

**Reference Analysis:**
${e.referenceTrackLink?"Analyze the provided reference track for key production techniques and arrangement ideas.":`Draw from classic examples in the ${r} genre for inspiration.`}

## 🎹 Instrument & Sound Design
**Primary Elements:**
- Lead sounds: Character, processing, and role
- Bass design: Sub content, mid presence, and groove
- Drum programming: Kick selection, snare character, hi-hat patterns
- Harmonic elements: Pad textures, chord voicings, arpeggios

**Sound Shaping:**
- Synthesis techniques and oscillator choices
- Filter movements and modulation
- Effects processing and spatial placement
- Layering strategies for fullness

${D}

## 🎚️ Mixing & Arrangement Strategy
**Frequency Management:**
- Low-end: Sub-bass vs bass guitar/synth separation
- Midrange: Vocal/lead clarity and instrument separation  
- High-end: Air, sparkle, and presence balance

**Spatial Design:**
- Stereo width: Center, sides, and phantom center elements
- Depth: Reverb sends, delay throws, and dry/wet balance
- Movement: Automation, panning, and filter sweeps

**Dynamic Control:**
- Compression: Individual tracks and bus processing
- Sidechain: Pumping effects and clarity enhancement
- Limiting: Loudness and peak control

## 🎼 Arrangement Flow & Energy Management
**Section Transitions:**
- Build techniques: Risers, drum fills, filter sweeps
- Drop preparation: Silence, reverse reverbs, tension
- Energy curves: How to maintain listener engagement

**Variation Techniques:**
- Verse differences: Subtle changes to maintain interest
- Chorus variations: Building intensity across repetitions
- Bridge/breakdown: Contrast and reset before final sections

Focus on practical, actionable advice that can be immediately applied in ${u}. Provide specific parameter ranges and creative techniques that align with the ${r} aesthetic and ${o} mood.`;return await Gi.models.generateContentStream({model:ji,contents:U})},Cs=async e=>{const t=`// ⚡ Including guidebookContext
You are TrackGuideAI's MIDI Pattern Generator. Generate MIDI patterns in VALID JSON format only.

**Requirements:**
- Key: ${e.key}
- Scale/Mode: ${e.scale||"Major/Natural Minor"}
- Tempo: ${e.tempo} BPM
- Time Signature: ${e.timeSignature.join("/")}
- Chord Progression: ${e.chordProgression}
- Genre Context: ${e.genre}
- Song Section: ${e.songSection||"General Loop"}
- Bars: ${e.bars}
- Target Instruments: ${e.targetInstruments.join(", ")}
- Guidebook Context: ${e.guidebookContext||"Not specified"}

**JSON Structure Required:**
{
  "chords": [
    {
      "time": 0,
      "name": "Cm",
      "duration": 2,
      "notes": [{"pitch": "C4", "midi": 60}, {"pitch": "Eb4", "midi": 63}, {"pitch": "G4", "midi": 67}],
      "velocity": 90
    }
  ],
  "bassline": [
    {
      "time": 0,
      "midi": 36,
      "duration": 0.5,
      "velocity": 100,
      "pitch": "C2"
    }
  ],
  "melody": [
    {
      "time": 0,
      "midi": 72,
      "duration": 1,
      "velocity": 95,
      "pitch": "C5"
    }
  ],
  "drums": {
    "kick": [
      {"time": 0, "duration": 0.25, "velocity": 120},
      {"time": 2, "duration": 0.25, "velocity": 115}
    ],
    "snare": [
      {"time": 1, "duration": 0.25, "velocity": 100},
      {"time": 3, "duration": 0.25, "velocity": 105}
    ],
    "hihat_closed": [
      {"time": 0.5, "duration": 0.125, "velocity": 80},
      {"time": 1.5, "duration": 0.125, "velocity": 75}
    ],
    "open_hihat": [
      {"time": 1.75, "duration": 0.5, "velocity": 85}
    ],
    "clap": [
      {"time": 1, "duration": 0.25, "velocity": 95}
    ],
    "tom_high": [
      {"time": 3.5, "duration": 0.25, "velocity": 90}
    ],
    "tom_mid": [
      {"time": 3.75, "duration": 0.25, "velocity": 95}
    ],
    "tom_low": [
      {"time": 4, "duration": 0.5, "velocity": 100}
    ],
    "crash_cymbal_1": [
      {"time": 0, "duration": 2, "velocity": 110}
    ],
    "ride_cymbal_1": [
      {"time": 0.5, "duration": 0.25, "velocity": 70}
    ]
  }
}

**CRITICAL REQUIREMENTS:**
1. Return ONLY valid JSON. NO explanatory text, NO markdown formatting, NO code blocks, NO backticks.
2. Start your response directly with { and end with }
3. Do not wrap the JSON in code blocks with three backticks
4. All time values must be in beats (0 to ${e.bars*4})
5. All MIDI numbers must be integers between 21-108
6. All durations must be positive numbers
7. All velocities must be integers between 1-127
8. Use appropriate drum elements for ${e.genre}:
   - Essential: kick, snare, hihat_closed
   - Groove: open_hihat, ride_cymbal_1
   - Accents: clap, crash_cymbal_1
   - Fills: tom_high, tom_mid, tom_low
   - Choose elements that fit the genre and song section

**Genre-Specific Drum Guidelines:**
- Electronic/House/Techno: Focus on kick, hihat_closed, open_hihat, clap
- Rock/Metal: Use kick, snare, hihat_closed, crash_cymbal_1, tom_high, tom_mid, tom_low
- Hip Hop/Trap: Emphasize kick, snare, hihat_closed, clap
- Jazz/Funk: Include ride_cymbal_1, hihat_closed, kick, snare
- Pop: Balanced use of kick, snare, hihat_closed, crash_cymbal_1, clap

Generate patterns appropriate for ${e.genre} in the ${e.songSection} section, using ${e.chordProgression} progression in ${e.key}.`;return await Gi.models.generateContentStream({model:ji,contents:t})},oI=async(e,t,n)=>{const r=e.map(m=>`${m.role==="user"?"User":"Assistant"}: ${m.content}`).join(`
`),o=`
**Current Guidebook Context:**
- Title: ${t.title}
- Genre: ${t.genre.join(", ")}
- Vibe: ${t.vibe.join(", ")}
- DAW: ${t.daw}
- Key: ${t.key||"Not specified"}
- Available Instruments: ${t.availableInstruments}`;let l="";if(n){const{remixGuideContent:m,mixFeedbackContent:d,mixComparisonContent:g,patchGuideContent:x,activeView:v}=n;v&&(l+=`
**Current View:** ${v}`),m&&(l+=`

**Active RemixGuide:**
${m.substring(0,2e3)}${m.length>2e3?"...":""}`),d&&(l+=`

**Active Mix Feedback:**
${d.substring(0,2e3)}${d.length>2e3?"...":""}`),g&&(l+=`

**Active Mix Comparison:**
${g.substring(0,2e3)}${g.length>2e3?"...":""}`),x&&(l+=`

**Active PatchGuide:**
${x.substring(0,2e3)}${x.length>2e3?"...":""}`)}const u=`You are TrackGuideAI, an expert music production assistant. You're helping a user with their current track project.

${o}${l}

**Conversation History:**
${r}

**Your Role:**
- Provide specific, actionable music production advice
- Reference the current guidebook context when relevant
- Integrate insights from any active guides (RemixGuide, Mix Feedback, Mix Comparison, PatchGuide)
- Offer technical solutions and creative suggestions based on all available context
- Ask clarifying questions when needed
- Maintain a helpful, professional tone

**Response Guidelines:**
- CRITICAL: DO NOT use any markdown formatting - no asterisks, no bold, no lists with asterisks
- Present complete information in a concise, direct format - maintain all useful details but remove filler text
- Use simple text formatting only:
  - Use numbered lists (1. 2. 3.) for steps or items
  - Use plain text headers followed by a colon
  - Use simple "Name: value" pairs for parameters (Attack: 10ms)
- Technical advice should include all essential parameters with specific values
- Keep paragraphs focused - one idea per paragraph
- For workflows or processes, use clear numbered steps
- When providing multiple options or techniques, include 3-4 of the most relevant ones
- Structure information in scannable sections with clear headers

Respond as the helpful TrackGuideAI assistant with full awareness of the user's current project context.`;return await Gi.models.generateContentStream({model:ji,contents:u})};async function*sI(e,t,n,r,o){var l,u,f;if(!Kr)throw new Error("API Key not configured. Cannot connect to Gemini API for remix guide.");try{const m=n!=null&&n.tempoRange?`${n.tempoRange[0]}-${n.tempoRange[1]} BPM`:"120-130 BPM",d=(n==null?void 0:n.sections)||["Intro","Build-Up","Drop","Breakdown","Outro"];let g=null;try{const{getGenreMetadata:q}=await n2(async()=>{const{getGenreMetadata:be}=await Promise.resolve().then(()=>RL);return{getGenreMetadata:be}},void 0);g=q(t)}catch(q){console.warn("Could not load genre metadata:",q)}const x=((l=g==null?void 0:g.chordProgressions)==null?void 0:l.join(", "))||"Standard progressions for this genre",v=((u=g==null?void 0:g.productionTips)==null?void 0:u.join(", "))||"Standard production techniques",S=(g==null?void 0:g.scalesAndModes)||"Appropriate scales for this genre",_=(g==null?void 0:g.songStructure)||d.join(" → "),D=(g==null?void 0:g.dynamicRange)||"Standard dynamics for this genre",U=((f=g==null?void 0:g.relatedGenres)==null?void 0:f.join(", "))||"Similar genres",L=Ab(),K=Sb(r,o),G=`You are TrackGuideAI's Remix Specialist. Analyze the uploaded audio track and create a comprehensive remix guide for transforming it into ${t} style.

**User Production Setup:**
- **DAW:** ${r||"Not specified"}
- **Available Plugins:** ${o||"Stock/Generic plugins"}

**Analysis Requirements:**
1. Identify the original track's tempo (exact BPM), key, harmonic progression, and rhythmic characteristics
2. Determine optimal transformation approach for ${t}
3. Provide detailed production guidance with specific techniques
4. Include plugin-specific parameter recommendations based on user's setup

**BPM Detection Guidelines:**
- Listen carefully for beats and transients to determine precise BPM value
- Report a single specific BPM number (e.g. "124 BPM" not "120-130 BPM")
- Use beat counting over time to verify accuracy
- For variable tempo tracks, report the main/dominant tempo

**Key & Chord Progression Analysis Guidelines:**
- Listen carefully to the entire track to identify ALL chord progressions present
- For each progression, list BOTH:
  1. Actual chord names with dashes between (e.g., "Am - C - F - G")
  2. Roman numeral analysis in brackets (e.g., "[i - III - VI - VII]")
- If multiple progressions are present, list each complete progression separated by commas
- For the primary key determination:
  1. Analyze all chord progressions together to determine the most likely tonal center
  2. Consider where the track resolves harmonically at major section endpoints
  3. Identify the scale/mode being used (major, minor, dorian, etc.)
- If the key modulates during the track:
  1. Explicitly note each modulation with an arrow (e.g., "C minor → D minor")
  2. Specify where in the track the modulation occurs (e.g., "modulates at bridge")
  3. For each key area, provide the corresponding chord progression
- Identify any modal interchange or borrowed chords and note which mode they're borrowed from

**Response Guidelines:**
- Provide direct, confident analysis without using qualifiers like "Estimated" or "Based on" 
- Present detected values as factual information without disclaimers or parenthetical notes
- Focus on actionable production advice rather than analysis limitations

**Target Genre:** ${t}
**Target Tempo Range:** ${m}
**Suggested Sections:** ${d.join(", ")}
${g!=null&&g.drumPatterns?`**Typical Drum Patterns:** ${g.drumPatterns}`:""}
${x?`**Common Chord Progressions:** ${x}`:""}
${S?`**Typical Scales/Modes:** ${S}`:""}
${_?`**Song Structure:** ${_}`:""}
${D?`**Dynamic Characteristics:** ${D}`:""}
${U?`**Related Genres for Inspiration:** ${U}`:""}
${v?`**Production Techniques:** ${v}`:""}

Create a detailed markdown remix guide that includes:

# 🎵 REMIX GUIDE: [Original Track] → ${t}

## 🎧 Original Track DNA Analysis
**Detected Characteristics:**
- **Original Tempo:** [Exact BPM]
- **Original Key:** [Key]
- **Harmonic Blueprint:** [Chord names and Roman numerals, e.g., "Am - C - F - G [i - III - VI - VII]"]
- **Rhythmic Feel:** [Time signature and groove]
- **Sonic Character:** [Tonal qualities and instrumentation]

**Transformation Strategy:**
- **Target Tempo:** [BPM within ${m}]
- **Target Key:** [Key for ${t}]
- **Genre Adaptation:** [Adaptation approach]

${L}

## 🎹 Sound Design & Instrumentation Transformation
**Lead Elements:**
- **Original → ${t}:** Transform existing leads using specific techniques
- **New Elements:** Add characteristic ${t} sounds
- **Processing Chain:** Specific plugin recommendations and parameters

**Rhythm Section Redesign:**
- **Drum Programming:** ${t}-specific patterns and sounds
- **Bass Design:** Transform or replace bass elements
- **Percussion Layers:** Add characteristic ${t} percussion

## 🔊 Mixing & Processing Techniques
**Signal Chain Recommendations:**
${K}

**${t}-Specific Processing:**
- Genre-characteristic EQ curves
- Compression techniques for ${t}
- Saturation and distortion applications
- Spatial processing (reverb/delay) for the genre

## 🎯 Arrangement & Structure
**Section-by-Section Breakdown:**
${d.map(q=>`
**${q}:**
- Elements to include/exclude
- Energy level and dynamics
- Transition techniques
`).join("")}

**Dynamic Build Strategy:**
- How to create tension and release
- Filter sweeps and automation
- Risers and impacts placement

## 💡 Creative Production Tips
- Unconventional ${t} techniques
- Experimental processing ideas
- Sample manipulation suggestions
- Layering strategies for depth

---
*Generated by TrackGuideAI - Your AI Music Production Assistant*`,z=[{inlineData:{mimeType:e.mimeType,data:e.base64}},{text:G}],se=await Gi.models.generateContentStream({model:ji,contents:{parts:z}});let ye="";for await(const q of se){const be=q.text;be&&(ye+=be,yield{text:be})}yield{text:"",metadata:lI(ye)}}catch(m){throw console.error("Error generating remix guide stream:",m),new Error(`Failed to generate remix guide: ${m instanceof Error?m.message:"Unknown error"}`)}}function lI(e){const t={},n=e.match(/Original Tempo:\s*(\d+(?:\.\d+)?)(?:\s*BPM)?/i);n&&(t.originalTempo=parseFloat(n[1]));const r=e.match(/Target Tempo:\s*(\d+(?:\.\d+)?)(?:\s*BPM)?/i);r&&(t.targetTempo=parseFloat(r[1]));const o=e.match(/Original Key:\s*([A-G][#b]?\s*(?:major|minor|maj|min)(?:\s*→\s*[A-G][#b]?\s*(?:major|minor|maj|min))*)/i);if(o&&(t.originalKey=o[1],o[1].includes("→"))){t.keyModulation=!0;const m=o[1].split("→").map(d=>d.trim());t.startingKey=m[0],t.endingKey=m[m.length-1]}const l=e.match(/Target Key:\s*([A-G][#b]?\s*(?:major|minor|maj|min))/i);l&&(t.targetKey=l[1]);const u=e.match(/Harmonic Blueprint:\s*([^\n]+)/i);if(u){const m=u[1].trim();if(m.includes(",")){if(t.originalChordProgression=m,t.multipleProgressions=!0,t.progressions=m.split(",").map(d=>d.trim()),t.primaryProgression=t.progressions[0],m.includes("["))try{t.chordNames=[],t.romanNumerals=[],m.split(",").forEach(d=>{const x=d.trim().match(/(.*?)\s*\[(.*?)\]/);x&&x.length===3&&(t.chordNames.push(x[1].trim()),t.romanNumerals.push(x[2].trim()))})}catch(d){console.warn("Error parsing chord names and Roman numerals:",d)}}else if(t.originalChordProgression=m,t.multipleProgressions=!1,m.includes("["))try{const d=m.match(/(.*?)\s*\[(.*?)\]/);d&&d.length===3&&(t.chordNames=[d[1].trim()],t.romanNumerals=[d[2].trim()])}catch(d){console.warn("Error parsing chord names and Roman numerals:",d)}}const f=e.match(/Sections:\s*\[(.*?)\]/i);return f&&(t.sections=f[1].split(",").map(m=>m.trim().replace(/"/g,""))),t}async function uI(e){if(!Kr)throw new Error("API Key not configured. Cannot connect to Gemini API.");try{const n=(await Gi.models.generateContent({model:ji,contents:e})).text;if(typeof n!="string")throw new Error("Received an unexpected response format from Gemini API.");return n}catch(t){console.error("Error generating content:",t);let n="An unknown error occurred while generating content.";throw t instanceof Error&&(n=t.message,t.message.includes("API key not valid")||t.message.includes("permission")?n="Invalid API Key or insufficient permissions. Please check your API key configuration.":(t.message.toLowerCase().includes("network error")||t.message.toLowerCase().includes("failed to fetch"))&&(n=`Network error: Failed to connect to Gemini API. Please check your internet connection. (${t.message})`)),new Error(n)}}async function*cI(e){if(!Kr)throw new Error("API Key not configured. Cannot connect to Gemini API for mix feedback.");if(!e.audioFile)throw new Error("Streaming mix feedback requires an audio file.");const n=await(g=>new Promise((x,v)=>{const S=new FileReader;S.onloadend=()=>{const _=S.result;x(_.split(",")[1])},S.onerror=v,S.readAsDataURL(g)}))(e.audioFile),{dawName:r}=e;let o="";if(r){const g=fm(r);g&&(o=`
**DAW Information:**
- DAW: ${r}
- Workflow Tips: ${g.workflowTips.join("; ")}
- Stock Plugins (EQ: ${g.stockPlugins.EQ.join(", ")}; Compression: ${g.stockPlugins.Compression.join(", ")}; Reverb: ${g.stockPlugins.Reverb.join(", ")}; Delay: ${g.stockPlugins.Delay.join(", ")}; Creative: ${g.stockPlugins.Creative.join(", ")})
`)}const l=`You are TrackGuideAI's Advanced Mix Analysis Expert. Analyze the uploaded audio file and provide comprehensive mix feedback.

${o}**Track Information:**
- Track Name: ${e.trackName||"Uploaded Mix"}
- Focus Areas: ${e.focus||"Overall mix balance and clarity"}
- User Notes: ${e.notes||e.userNotes||"No specific notes provided"}

**Comprehensive Analysis Framework:**

## 🎧 Audio Analysis Results

### Frequency Spectrum Analysis
**Low-End (20-250 Hz):**
- Sub-bass presence and control
- Bass clarity and definition
- Low-mid muddiness assessment

**Midrange (250 Hz - 5 kHz):**
- Vocal/lead instrument clarity
- Instrument separation and masking
- Presence and intelligibility

**High-End (5 kHz+):**
- Air and sparkle quality
- Harshness or sibilance issues
- Overall brightness balance

### Stereo Field & Spatial Analysis
**Width & Imaging:**
- Stereo spread effectiveness
- Phantom center stability
- Side content balance

**Depth & Dimension:**
- Reverb usage and space
- Dry/wet balance
- Front-to-back positioning

### Dynamic Range Assessment
**Compression Analysis:**
- Overall dynamic range
- Transient preservation
- Pumping or over-compression

**Loudness Evaluation:**
- Perceived loudness level
- Peak management
- Headroom availability

### Technical Quality Check
**Distortion & Artifacts:**
- Unwanted harmonic distortion
- Digital artifacts or clipping
- Noise floor assessment

**Phase Relationships:**
- Mono compatibility
- Phase cancellation issues
- Correlation analysis

## 🎯 Specific Recommendations

### Immediate Improvements
1. **Priority Fix #1:** [Most critical issue with specific solution]
2. **Priority Fix #2:** [Second most important improvement]
3. **Priority Fix #3:** [Third priority enhancement]

### Technical Adjustments
**EQ Suggestions:**
- Specific frequency cuts/boosts with dB amounts
- Problem frequency identification
- Enhancement opportunities

**Compression Recommendations:**
- Ratio, attack, and release settings
- Specific compressor types or plugins
- Bus compression strategies

**Effects Processing:**
- Reverb and delay adjustments
- Spatial enhancement techniques
- Creative processing opportunities

### Professional Polish
**Mastering Considerations:**
- Final EQ and compression
- Stereo enhancement
- Loudness optimization

**Reference Comparison:**
- How this mix compares to commercial standards
- Genre-specific benchmarks
- Areas for competitive improvement

Provide actionable, specific feedback that can be implemented immediately to improve the mix quality and professional impact.`,m=[{inlineData:{data:n,mimeType:"audio/mpeg"}},{text:l}],d=await Gi.models.generateContentStream({model:ji,contents:{parts:m}});for await(const g of d)g.text&&(yield{text:g.text})}async function*dI(e){if(!Kr)throw new Error("API Key not configured. Cannot connect to Gemini API for mix comparison.");const t=`You are an expert mixing & mastering AI. The user has uploaded two mixes for comparison analysis.

Mix A: "${e.mixAName}" — an earlier version  
Mix B: "${e.mixBName}" — the current working version  

🎧 Instructions:
- Mix B is the active version — focus all actionable feedback on improving Mix B.
- Mix A is an earlier version — if Mix A has strengths vs Mix B, point those out.
- Acknowledge improvements made in Mix B compared to A.
- Do NOT suggest changes to Mix A (it is not being revised).

User Notes: ${e.userNotes||"No specific notes provided"}

Analyze both audio files and provide your comparison in clear Markdown format with the following sections:

## 🎧 Overall Comparison

## 🎛️ Frequency Balance

## 🎚️ Stereo Image & Depth

## 📈 Dynamics & Loudness

## ⚙️ Technical Quality

## 🏆 Strengths & Opportunities (for Mix B)

## 🚀 Actionable Recommendations (for Mix B only)`,n={text:`Mix A Audio (Earlier Version): "${e.mixAName}"`},r={inlineData:{data:e.mixAFile,mimeType:"audio/mpeg"}},o={text:`Mix B Audio (Current Version): "${e.mixBName}"`},l={inlineData:{data:e.mixBFile,mimeType:"audio/mpeg"}},f=[r,n,l,o,{text:t}],m=await Gi.models.generateContentStream({model:ji,contents:{parts:f}});for await(const d of m)d.text&&(yield{text:d.text})}const fI=(e,t="AI response")=>{let n=e.trim();if(!n)throw new Error(`Empty ${t} received`);const r=[/^```json\s*\n([\s\S]*?)\n\s*```$/s,/^```\s*json\s*\n([\s\S]*?)\n\s*```$/s,/^```\s*\n([\s\S]*?)\n\s*```$/s,/^```(\w*)?\s*\n?([\s\S]*?)\n?\s*```$/s];for(const o of r){const l=n.match(o);if(l){n=l[l.length-1].trim();break}}if(n=n.replace(/^`+/g,"").replace(/`+$/g,"").replace(/^json\s*/i,"").trim(),!n.startsWith("{")||!n.endsWith("}")){const o=n.match(/\{[\s\S]*\}/);if(o)n=o[0];else throw new Error(`${t} doesn't contain valid JSON structure. Got: ${n.substring(0,100)}...`)}return n},Ss=(e,t="MIDI generation",n)=>{try{const r=fI(e,t);return JSON.parse(r)}catch(r){const o=r instanceof Error?r.message:"Unknown parsing error",l=e.match(/\{[\s\S]*\}/);if(l)try{return JSON.parse(l[0])}catch{}if(n!==void 0)return n;throw o.includes("Unexpected token")?o.includes("`")?new Error(`AI returned invalid JSON for ${t}. (${o}) The response likely contains markdown formatting that wasn't properly cleaned.`):new Error(`AI returned malformed JSON for ${t}. (${o})`):new Error(`Failed to parse ${t} response: ${o}`)}},In=Mu.forwardRef(({label:e,id:t,wrapperClassName:n,...r},o)=>p.jsxs("div",{className:n,children:[e&&p.jsx("label",{htmlFor:t,className:"block text-sm font-medium text-gray-300 mb-1",children:e}),p.jsx("input",{id:t,ref:o,...r,className:`w-full px-4 py-2 bg-gray-800 border border-gray-700 rounded-md shadow-sm placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-purple-500 text-gray-100 ${r.className||""}`})]}));In.displayName="Input";const Lr=({label:e,id:t,wrapperClassName:n,...r})=>p.jsxs("div",{className:n,children:[e&&p.jsx("label",{htmlFor:t,className:"block text-sm font-medium text-gray-300 mb-1",children:e}),p.jsx("textarea",{id:t,...r,className:`w-full px-4 py-2 bg-gray-800 border border-gray-700 rounded-md shadow-sm placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-purple-500 text-gray-100 ${r.className||""}`,rows:3})]}),Xe=({children:e,variant:t="primary",size:n="md",className:r="",leftIcon:o,rightIcon:l,...u})=>{const f="inline-flex items-center justify-center font-semibold rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-gray-900 transition-colors duration-150 disabled:opacity-50 disabled:cursor-not-allowed",m={primary:"bg-purple-600 hover:bg-purple-700 text-white focus:ring-purple-500",secondary:"bg-gray-700    hover:bg-gray-600 text-gray-100 focus:ring-gray-500",outline:"border border-purple-500 text-purple-400 hover:bg-purple-500 hover:text-white focus:ring-purple-500",danger:"bg-red-600     hover:bg-red-700 text-white focus:ring-red-500"},d={sm:"px-3 py-1.5 text-sm",md:"px-4 py-2   text-base",lg:"px-6 py-3   text-lg"};return p.jsxs("button",{...u,className:`${f} ${m[t]} ${d[n]} ${r}`,children:[o&&p.jsx("span",{className:"mr-2",children:o}),e,l&&p.jsx("span",{className:"ml-2",children:l})]})},rt=({children:e,className:t="",title:n,titleClassName:r="",contentClassName:o="",...l})=>p.jsxs("div",{className:`bg-gray-800 shadow-lg rounded-lg overflow-hidden ${t}`,...l,children:[n&&p.jsx("div",{className:`px-4 py-3 border-b border-gray-700 ${r}`,children:p.jsx("h3",{className:"text-lg font-semibold text-gray-100",children:n})}),p.jsx("div",{className:`p-4 ${o}`,children:e})]}),la=({size:e="md",color:t="text-purple-500",text:n})=>{const r={sm:"w-6 h-6",md:"w-8 h-8",lg:"w-12 h-12"};return p.jsxs("div",{className:"flex flex-col items-center justify-center",children:[p.jsx("div",{className:`animate-spin rounded-full border-t-2 border-b-2 border-transparent ${r[e]} ${t}`,style:{borderTopColor:"currentColor",borderBottomColor:"currentColor"}}),n&&p.jsx("p",{className:"mt-2 text-sm text-gray-400",children:n})]})},zf=({className:e,title:t})=>p.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:e||"w-5 h-5","aria-hidden":t?void 0:"true",role:t?"img":void 0,children:[t&&p.jsx("title",{children:t}),p.jsx("path",{fillRule:"evenodd",d:"M3 17a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zm3.293-7.707a1 1 0 011.414 0L9 10.586V3a1 1 0 112 0v7.586l1.293-1.293a1 1 0 111.414 1.414l-3 3a1 1 0 01-1.414 0l-3-3a1 1 0 010-1.414z",clipRule:"evenodd"})]}),mI=({className:e,title:t})=>p.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:e||"w-5 h-5","aria-hidden":t?void 0:"true",role:t?"img":void 0,children:[t&&p.jsx("title",{children:t}),p.jsx("path",{d:"M5 4a2 2 0 012-2h6a2 2 0 012 2v10a2 2 0 01-2 2H7a2 2 0 01-2-2V4zm2 0v10h6V4H7zm5 1h-4a1 1 0 100 2h4a1 1 0 100-2z"})]}),hI=({className:e,title:t})=>p.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:e||"w-5 h-5","aria-hidden":t?void 0:"true",role:t?"img":void 0,children:[t&&p.jsx("title",{children:t}),p.jsx("path",{fillRule:"evenodd",d:"M9 2a1 1 0 00-.894.553L7.382 4H4a1 1 0 000 2v10a2 2 0 002 2h8a2 2 0 002-2V6a1 1 0 100-2h-3.382l-.724-1.447A1 1 0 0011 2H9zM7 8a1 1 0 012 0v6a1 1 0 11-2 0V8zm5-1a1 1 0 00-1 1v6a1 1 0 102 0V8a1 1 0 00-1-1z",clipRule:"evenodd"})]}),jf=({className:e,title:t})=>p.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:e||"w-6 h-6","aria-hidden":t?void 0:"true",role:t?"img":void 0,children:[t&&p.jsx("title",{children:t}),p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6.042A8.967 8.967 0 006 3.75c-1.052 0-2.062.18-3 .512v14.25A8.987 8.987 0 016 18c2.305 0 4.408.867 6 2.292m0-14.25a8.966 8.966 0 016-2.292c1.052 0 2.062.18 3 .512v14.25A8.987 8.987 0 0018 18a8.967 8.967 0 00-6 2.292m0-14.25v14.25"})]}),pI=({className:e,title:t})=>p.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:e||"w-5 h-5","aria-hidden":t?void 0:"true",role:t?"img":void 0,children:[t&&p.jsx("title",{children:t}),p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 01-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 011.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 00-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 01-1.125-1.125v-9.25m9.75 0l-4.5-4.5m0 0l-4.5 4.5M12.75 3v4.5A2.25 2.25 0 0015 9.75h4.5"})]}),_b=({className:e,title:t})=>p.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:e||"w-5 h-5","aria-hidden":t?void 0:"true",role:t?"img":void 0,children:[t&&p.jsx("title",{children:t}),p.jsx("path",{d:"M10 3.515V11.24a3.513 3.513 0 00-1.5-.406c-1.313 0-2.388.752-2.388 1.672S7.187 14.18 8.5 14.18c1.238 0 2.263-.672 2.375-1.537h.125v-7.14c0-.313.11-.604.313-.828.202-.224.494-.344.812-.344.625 0 1.125.5 1.125 1.125V11.24a3.513 3.513 0 00-1.5-.406c-1.313 0-2.388.752-2.388 1.672S10.187 14.18 11.5 14.18c1.313 0 2.388-.752 2.388-1.672a1.675 1.675 0 00-1.078-1.543V3.515A2.625 2.625 0 0010 1C8.619 1 7.5 2.12 7.5 3.5V11.24A3.513 3.513 0 006 10.833c-1.313 0-2.388.752-2.388 1.672S4.687 14.18 6 14.18c1.237 0 2.262-.672 2.375-1.537h.125V6.125C8.5 4.5 9.125 3.515 10 3.515z"})]}),Gf=({className:e,title:t})=>p.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:e||"w-5 h-5","aria-hidden":t?void 0:"true",role:t?"img":void 0,children:[t&&p.jsx("title",{children:t}),p.jsx("path",{d:"M10.75 4.75a.75.75 0 00-1.5 0v4.5h-4.5a.75.75 0 000 1.5h4.5v4.5a.75.75 0 001.5 0v-4.5h4.5a.75.75 0 000-1.5h-4.5v-4.5z"})]}),Ly=({className:e,title:t})=>p.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:e||"w-5 h-5","aria-hidden":t?void 0:"true",role:t?"img":void 0,children:[t&&p.jsx("title",{children:t}),p.jsx("path",{fillRule:"evenodd",d:"M6.516 4.42A1.5 1.5 0 004 5.662v8.676a1.5 1.5 0 002.516 1.242l6.712-4.338a1.5 1.5 0 000-2.484L6.516 4.42z",clipRule:"evenodd"})]}),gI=({className:e,title:t})=>p.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:e||"w-5 h-5","aria-hidden":t?void 0:"true",role:t?"img":void 0,children:[t&&p.jsx("title",{children:t}),p.jsx("path",{fillRule:"evenodd",d:"M5 5a1 1 0 00-1 1v8a1 1 0 001 1h8a1 1 0 001-1V6a1 1 0 00-1-1H5zm0-2a3 3 0 00-3 3v8a3 3 0 003 3h8a3 3 0 003-3V6a3 3 0 00-3-3H5z",clipRule:"evenodd"})]}),Oy=({className:e,isSpinning:t,title:n})=>p.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:`${e||"w-5 h-5"} ${t?"animate-spin":""}`,"aria-hidden":n?void 0:"true",role:n?"img":void 0,children:[n&&p.jsx("title",{children:n}),p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.023 9.348h4.992v-.001M2.985 19.644v-4.992m0 0h4.992m-4.993 0l3.181 3.183a8.25 8.25 0 0013.803-3.7M4.031 9.865a8.25 8.25 0 0113.803-3.7l3.181 3.182m0-4.991v4.99"})]}),yI=({className:e,title:t})=>p.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:e||"w-5 h-5","aria-hidden":t?void 0:"true",role:t?"img":void 0,children:[t&&p.jsx("title",{children:t}),p.jsx("path",{fillRule:"evenodd",d:"M18 7H2a1 1 0 00-1 1v6a1 1 0 001 1h16a1 1 0 001-1V8a1 1 0 00-1-1zM2 9.5v3h16v-3H2z",clipRule:"evenodd"}),p.jsx("path",{d:"M4 11h1v1H4v-1zm2 0h1v1H6v-1zm2 0h1v1H8v-1zm2 0h1v1h-1v-1zm2 0h1v1h-1v-1zm2 0h1v1h-1v-1z"})]}),bI=({className:e,title:t})=>p.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:e||"w-6 h-6","aria-hidden":t?void 0:"true",role:t?"img":void 0,children:[t&&p.jsx("title",{children:t}),p.jsx("rect",{x:"3.5",y:"3.5",width:"17",height:"17",rx:"2",stroke:"currentColor",fill:"none",strokeWidth:"1.5"})]}),TI=({className:e,title:t})=>p.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:e||"w-5 h-5","aria-hidden":t?void 0:"true",role:t?"img":void 0,children:[t&&p.jsx("title",{children:t}),p.jsx("path",{fillRule:"evenodd",d:"M3 3a1 1 0 011-1h12a1 1 0 011 1v12a1 1 0 01-1 1H4a1 1 0 01-1-1V3zm10.707 3.707a1 1 0 00-1.414-1.414L8 9.586 6.707 8.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l5-5z",clipRule:"evenodd"})]}),Ib=({className:e,title:t})=>p.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:e||"w-6 h-6","aria-hidden":t?void 0:"true",role:t?"img":void 0,children:[t&&p.jsx("title",{children:t}),p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"})]}),cf=({className:e,title:t})=>p.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:e||"w-6 h-6","aria-hidden":t?void 0:"true",role:t?"img":void 0,children:[t&&p.jsx("title",{children:t}),p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 16.5v2.25A2.25 2.25 0 005.25 21h13.5A2.25 2.25 0 0021 18.75V16.5m-13.5-9L12 3m0 0l4.5 4.5M12 3v13.5"})]}),Py=({className:e,title:t})=>p.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:e||"w-6 h-6","aria-hidden":t?void 0:"true",role:t?"img":void 0,children:[t&&p.jsx("title",{children:t}),p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.5 6h9.75M10.5 6a2.25 2.25 0 11-4.5 0m4.5 0a2.25 2.25 0 10-4.5 0M3.75 6H7.5m3 12h9.75m-9.75 0a2.25 2.25 0 01-4.5 0m4.5 0a2.25 2.25 0 00-4.5 0M3.75 18H7.5M10.5 12h9.75M10.5 12a2.25 2.25 0 01-4.5 0m4.5 0a2.25 2.25 0 00-4.5 0M3.75 12H7.5"})]}),By=({className:e="w-4 h-4"})=>p.jsx("div",{className:`${e} bg-orange-500 transform rotate-45 flex items-center justify-center`,children:p.jsx("div",{className:"w-1/2 h-1/2 bg-white transform -rotate-45"})}),EI=({isOpen:e,currentGuidebook:t,userInputs:n,isCollapsed:r=!1,onToggle:o,remixGuideContent:l,mixFeedbackContent:u,mixComparisonContent:f,patchGuideContent:m,activeView:d})=>{const[g,x]=he.useState([]),[v,S]=he.useState(""),[_,D]=he.useState(!1),U=he.useRef(null),L=he.useRef(null),K=he.useRef(null);he.useEffect(()=>{e&&g.length===0&&x([{id:"1",role:"assistant",content:`Hi! I'm your AI music production assistant. I can help you:

1. Refine guides (TrackGuide, RemixGuide, PatchGuide)
2. Analyze Mix Feedback and Comparison reports  
3. Answer production techniques questions
4. Provide creative suggestions and arrangement ideas

What would you like to work on today?`,timestamp:new Date}])},[e,g.length]);const G=()=>{K.current&&(K.current.scrollTop=K.current.scrollHeight)};he.useEffect(()=>{G()},[g]),he.useEffect(()=>{e&&L.current&&setTimeout(()=>{var se;return(se=L.current)==null?void 0:se.focus()},100)},[e]);const $=()=>{x([{id:"1",role:"assistant",content:`Hi! I'm your AI music production assistant. I can help you:

1. Refine guides (TrackGuide, RemixGuide, PatchGuide)
2. Analyze Mix Feedback and Comparison reports  
3. Answer production techniques questions
4. Provide creative suggestions and arrangement ideas

What would you like to work on today?`,timestamp:new Date}])},B=async()=>{if(!v.trim()||_)return;const se={id:Date.now().toString(),role:"user",content:v.trim(),timestamp:new Date};x(ye=>[...ye,se]),S(""),D(!0);try{const ye=g.map(Ce=>({role:Ce.role,content:Ce.content}));ye.push({role:"user",content:se.content});const Ae=t||{id:"temp-"+Date.now(),title:"Current Project",genre:(n==null?void 0:n.genre)||["General"],artistReference:(n==null?void 0:n.artistReference)||"Not specified",vibe:(n==null?void 0:n.vibe)||["Creative"],daw:(n==null?void 0:n.daw)||"Not specified",plugins:(n==null?void 0:n.plugins)||"Not specified",availableInstruments:(n==null?void 0:n.availableInstruments)||"Not specified",content:"Working on current project",createdAt:new Date().toISOString(),key:n==null?void 0:n.key,scale:n==null?void 0:n.scale,chords:n==null?void 0:n.chords},q=await oI(ye,Ae,{remixGuideContent:l,mixFeedbackContent:u,mixComparisonContent:f,patchGuideContent:m,activeView:d}),be={id:(Date.now()+1).toString(),role:"assistant",content:"",timestamp:new Date};x(Ce=>[...Ce,be]);let Ee="";for await(const Ce of q)Ce.text&&(Ee+=Ce.text,x(me=>me.map(ie=>ie.id===be.id?{...ie,content:Ee}:ie)))}catch(ye){console.error("AI Assistant Error:",ye);const Ae={id:(Date.now()+1).toString(),role:"assistant",content:"Sorry, I encountered an error. Please try again or rephrase your question.",timestamp:new Date};x(q=>[...q,Ae])}finally{D(!1)}},z=se=>{se.key==="Enter"&&!se.shiftKey&&(se.preventDefault(),B())};return p.jsxs(p.Fragment,{children:[!r&&p.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-[9998]",onClick:o}),p.jsx("div",{className:"fixed bottom-4 right-4 z-[9999]",children:r?p.jsx("div",{onClick:o,className:"w-14 h-14 bg-gray-700 hover:bg-gray-600 rounded-full shadow-2xl cursor-pointer flex items-center justify-center hover:scale-105 transition-transform duration-200 border-2 border-orange-400/60",children:p.jsx(By,{className:"w-8 h-8"})}):p.jsx("div",{className:"fixed inset-4 md:inset-8 lg:inset-16 z-[9999] flex items-center justify-center pointer-events-none",children:p.jsxs("div",{className:"w-full max-w-4xl h-full max-h-[800px] bg-gray-800 shadow-2xl border border-gray-700 rounded-lg flex flex-col overflow-hidden pointer-events-auto",children:[p.jsxs("div",{className:"p-4 border-b border-gray-700 flex justify-between items-center bg-gradient-to-r from-gray-700 to-gray-600 flex-shrink-0",children:[p.jsxs("div",{className:"flex items-center min-w-0 flex-1",children:[p.jsx(By,{className:"w-6 h-6 text-white mr-3 flex-shrink-0"}),p.jsx("h2",{className:"text-xl font-bold text-white truncate",children:"Production Coach"})]}),p.jsxs("div",{className:"flex gap-2 flex-shrink-0 ml-4",children:[p.jsx(Xe,{onClick:$,variant:"outline",size:"sm",className:"bg-orange-500 text-black border-orange-400 hover:bg-orange-600 font-medium",children:"Clear Chat"}),p.jsx(Xe,{onClick:o,variant:"outline",size:"sm",className:"bg-red-500 text-black border-red-400 hover:bg-red-600 flex-shrink-0 font-bold",children:p.jsx("span",{className:"text-lg",children:"×"})})]})]}),p.jsxs("div",{ref:K,className:"flex-1 overflow-y-auto p-6 space-y-4 bg-gray-900/50",style:{scrollBehavior:"smooth",overflowAnchor:"auto"},children:[g.map(se=>p.jsx("div",{className:`flex ${se.role==="user"?"justify-end":"justify-start"}`,children:p.jsxs("div",{className:`max-w-[80%] p-4 rounded-lg shadow-lg ${se.role==="user"?"bg-orange-600 text-white rounded-br-sm":"bg-gray-700 text-gray-100 rounded-bl-sm"}`,children:[p.jsx("div",{className:"whitespace-pre-wrap break-words leading-relaxed text-base",children:se.content}),p.jsx("div",{className:"text-xs opacity-70 mt-3",children:se.timestamp.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]})},se.id)),_&&p.jsx("div",{className:"flex justify-start",children:p.jsx("div",{className:"bg-gray-700 text-gray-100 p-4 rounded-lg shadow-lg rounded-bl-sm",children:p.jsx(la,{text:"AI is thinking..."})})}),p.jsx("div",{ref:U})]}),p.jsxs("div",{className:"p-4 border-t border-gray-700 bg-gray-800 flex-shrink-0",children:[p.jsxs("div",{className:"flex gap-3 mb-3",children:[p.jsx(In,{ref:L,type:"text",placeholder:"Ask about production techniques, guides, or get help with your current project...",value:v,onChange:se=>S(se.target.value),onKeyPress:z,className:"flex-1 bg-gray-700 border-gray-600 text-white placeholder-gray-400",disabled:_}),p.jsx(Xe,{onClick:B,disabled:!v.trim()||_,variant:"primary",className:"px-6 bg-orange-600 hover:bg-orange-700",children:_?"...":"Send"})]}),p.jsx("div",{className:"text-xs text-gray-400 text-center",children:"Press Enter to send • Clear Chat resets conversation • Click outside to close"})]})]})})})]})},xI=[{instrument:"Vocals",frequencyRange:"20–250 Hz (Bass/Body)",action:"Boost slightly if needed",description:"Adds weight and fullness to vocals. Careful not to over-boost, as excessive gain here causes muddiness; use a gentle boost or high-pass filter to tame subsonic rumble.",source:"unison.audio"},{instrument:"Vocals",frequencyRange:"300–500 Hz (Low-Mids)",action:"Cut if boxy",description:"Reduces “mud” or boxiness. A moderate cut around 300–500 Hz can clear up a congested vocal without thinning it excessively.",source:"unison.audio"},{instrument:"Vocals",frequencyRange:"2–4 kHz (Presence)",action:"Boost (gentle)",description:"Enhances vocal clarity and intelligibility, helping it cut through the mix. Boost in this range makes the vocal stand out, but use precision to avoid emphasizing sibilance.",source:"unison.audio"},{instrument:"Vocals",frequencyRange:"5–8 kHz (High Presence/Sibilance)",action:"Cut (soft, if harsh)",description:"Tames harsh “s” and “t” sounds and high-frequency hiss. A gentle dip here smooths the vocal tone and prevents shrillness.",source:"izotope.com"},{instrument:"Vocals",frequencyRange:"10 kHz and above (Air)",action:"Boost (high-shelf)",description:"Adds airiness and sparkle to the vocal. A subtle high-shelf boost in this range imparts a sense of openness and breathiness.",source:"izotope.com"},{instrument:"Male vocals",frequencyRange:"100–200 Hz (Bass/Low)",action:"Boost (~120 Hz)",description:"Increases warmth and fullness of a male voice. A modest boost around 100–120 Hz adds body without causing boominess.",source:"unison.audio"},{instrument:"Male vocals",frequencyRange:"300–500 Hz (Low-Mids)",action:"Cut if boxy",description:"Clears up muddiness. Cutting a small band around 300–500 Hz can reduce a boxy or “muffled” tone.",source:"unison.audio"},{instrument:"Male vocals",frequencyRange:"3–5 kHz (Presence)",action:"Boost gently",description:"Brings the vocal forward in the mix. A slight boost in this region increases intelligibility, though watch for sibilance.",source:"unison.audio"},{instrument:"Female vocals",frequencyRange:"200–400 Hz (Low-Mids)",action:"Boost slightly",description:"Adds warmth and richness. A gentle boost in the 200–400 Hz range gives a female vocal more body and fullness.",source:"unison.audio"},{instrument:"Female vocals",frequencyRange:"3–6 kHz (Presence/High-Mids)",action:"Boost near 3 kHz; Cut 3–6 kHz if too bright",description:"Enhances clarity and presence. Boosting around 3 kHz helps the voice cut through, while trimming 3–6 kHz can soften harshness if the vocal is too piercing.",source:"unison.audio"},{instrument:"Female vocals",frequencyRange:"10 kHz and above (Air)",action:"Boost (high-shelf)",description:"Adds sparkle and “air.” A shelf boost above 10 kHz introduces breathiness and openness to the vocal tone.",source:"unison.audio"},{instrument:"Kick drum",frequencyRange:"60–80 Hz (Low-End/Sub-Bass)",action:"Boost (gentle)",description:"Emphasizes the kick’s fundamental thump. A moderate boost here adds punch and weight to the kick drum.",source:"izotope.com"},{instrument:"Kick drum",frequencyRange:"100–200 Hz (Bass/Body)",action:"Boost (if needed)",description:"Enhances warmth and fullness. Boosting this band adds weight, giving the kick a beefier sound.",source:"izotope.com"},{instrument:"Kick drum",frequencyRange:"200–500 Hz (Low-Mids/Boxiness)",action:"Cut",description:"Tightens the sound by reducing “boxy” resonance. A cut in this range cleans up muddiness, making the kick sound more defined.",source:"izotope.com"},{instrument:"Kick drum",frequencyRange:"1–5 kHz (Highs/Attack)",action:"Boost",description:"Brings out the beater click and attack. A boost here adds snap and presence to the kick’s transient.",source:"izotope.com"},{instrument:"Snare",frequencyRange:"150–250 Hz (Body)",action:"Boost",description:"Increases the snare’s weight and fullness. A moderate boost around the fundamental adds thickness to the snare tone.",source:"izotope.com"},{instrument:"Snare",frequencyRange:"400–700 Hz (Midrange Ring)",action:"Cut",description:"Reduces hollow or ringing tones. Attenuating a narrow band in this range helps remove an undesirable “ring” and makes the snare sound tighter.",source:"izotope.com"},{instrument:"Snare",frequencyRange:"2–3.5 kHz (Attack)",action:"Boost",description:"Enhances snap and attack. Boosting here makes the snare crisp and cutting, emphasizing the stick hit.",source:"izotope.com"},{instrument:"Snare",frequencyRange:"900 Hz–1.5 kHz (Papery Tone)",action:"Cut (if present)",description:"Removes thin, paper-like snare sounds. Cutting around this range eliminates unwanted high-mid resonance (like a box hit).",source:"izotope.com"},{instrument:"Bass guitar",frequencyRange:"40–120 Hz (Sub/Lows)",action:"Usually leave or slight boost if needed",description:"Adds weight and rumble. Most bass tracks already have strong low end; use a gentle boost for extra punch or a high-pass filter to clean up unnecessary subsonics.",source:"izotope.com"},{instrument:"Bass guitar",frequencyRange:"200–400 Hz (Low-Mids/Mud)",action:"Cut",description:"Cleans up muddiness. A trim in this band clarifies the bass's tone, preventing it from sounding boomy or cluttered.",source:"izotope.com"},{instrument:"Bass guitar",frequencyRange:"800–1000 Hz (High-Mids/Definition)",action:"Boost",description:"Enhances note articulation. A slight boost around 800 Hz–1 kHz brings out string attack and clarity, helping the bass cut through.",source:"izotope.com"},{instrument:"Guitar",frequencyRange:"150–300 Hz (Body)",action:"Boost",description:"Adds thickness and fullness. Boosting this range gives the guitar a beefy, warm tone.",source:"izotope.com"},{instrument:"Guitar",frequencyRange:"200–300 Hz (Tubbiness)",action:"Cut (narrow)",description:'Reduces muddiness or "boxiness." A targeted cut here tightens the guitar sound without losing body.',source:"izotope.com"},{instrument:"Guitar",frequencyRange:"3–6 kHz (Presence/Harshness)",action:"Cut if harsh; boost around 3 kHz if more attack is needed",description:"Shapes brightness and attack. Lower mids (3–6 kHz) often contain harsh overtones; cutting them smooths the tone, whereas a smaller boost near 3 kHz can make solos pop.",source:"izotope.com"},{instrument:"Guitar",frequencyRange:'300–1500 Hz (Midrange "Meat")',action:"Usually leave or adjust gently",description:"Controls the core tone. This broad range contains much of the guitar's character; use broad Q adjustments rather than sharp boosts to shape it subtly.",source:"izotope.com"},{instrument:"Acoustic guitar",frequencyRange:"Below 70–100 Hz",action:"High-pass filter",description:"Removes unnecessary rumble. Cutting subsonic and very low frequencies prevents boominess and leaves headroom in the mix.",source:"izotope.com"},{instrument:"Acoustic guitar",frequencyRange:"200–400 Hz (Body/Wood)",action:"Boost or Cut as needed",description:"Controls warmth and fullness. Boosting in this range can fatten up the guitar's body, while cutting (around 200–300 Hz) can remove boxiness if the tone is too muddy.",source:"izotope.com"},{instrument:"Acoustic guitar",frequencyRange:"1.5–2.5 kHz (Presence)",action:"Boost",description:"Enhances clarity. A boost here helps the acoustic guitar cut through by adding definition to string attack.",source:"izotope.com"},{instrument:"Acoustic guitar",frequencyRange:"8–12 kHz (Air)",action:"Boost",description:'Adds sparkle and brightness. A gentle shelf boost in the high end brings out string detail and "shine" in the acoustic sound.',source:"izotope.com"},{instrument:"Piano",frequencyRange:"20–60 Hz (Sub)",action:"High-pass filter",description:"Removes inaudible rumble. Cutting below ~40–50 Hz prevents unnecessary sub content from muddying the mix.",source:"izotope.com"},{instrument:"Piano",frequencyRange:"60–200 Hz (Low-End Body)",action:"Boost (moderately)",description:"Adds warmth and fullness. A slight boost around 80–150 Hz can make the piano sound fuller and more present.",source:"izotope.com"},{instrument:"Piano",frequencyRange:"200–500 Hz (Low-Mids/Mud)",action:"Cut",description:"Cleans up muddiness. Trimming this range (e.g. 200–300 Hz) reduces boxiness and frees space for other instruments.",source:"izotope.com"},{instrument:"Piano",frequencyRange:"2–4 kHz (High-Mids/Harshness)",action:"Cut (if harsh)",description:"Softens attack. A small cut in 2–4 kHz removes harshness from hard piano tones, yielding a smoother timbre.",source:"izotope.com"},{instrument:"Cymbals",frequencyRange:"0–200 Hz",action:"Cut (high-pass)",description:"Removes sub-bass rumble. Cymbals typically lack useful energy below ~200 Hz, so filtering here cleans mud without affecting cymbal tone.",source:"abletunes.com"},{instrument:"Cymbals",frequencyRange:"200–400 Hz",action:"Cut or sweep",description:'Reduces "gong" or boxiness. Attenuating this range prevents low-mid clank that can make cymbals sound muddy.',source:"abletunes.com"},{instrument:"Cymbals",frequencyRange:"6–15 kHz (Air/Brightness)",action:"Boost",description:"Increases brilliance. A boost in the high end (especially 8–12 kHz) adds shimmer and definition to cymbals; cutting above ~12 kHz can also tame excessive shrillness.",source:"abletunes.com"},{instrument:"Hi-hats",frequencyRange:"3–7 kHz",action:"Cut (gentle)",description:'Reduces piercing high-frequency content. A minor dip here can soften the sharp "tsss" sound of hats if they become harsh.',source:"izotope.com"},{instrument:"Hi-hats",frequencyRange:"Low end",action:"High-pass filter",description:"Remove anything below ~200–300 Hz to eliminate bleed from other drums, since hats have little useful low-frequency content.",source:"izotope.com"},{instrument:"Sub bass",frequencyRange:"20–60 Hz (Sub-Bass)",action:"Boost (if the mix allows)",description:'Adds deep, chest-rattling weight. Emphasizing this range gives "feel" to 808s and sub-bass instruments, but use sparingly to avoid overwhelming the mix.',source:"unison.audio"},{instrument:"Sub bass",frequencyRange:"60–120 Hz",action:"Maintain or boost gently",description:"Covers the bass fundamental and body. If additional warmth is needed, slight boosts near 60–80 Hz can reinforce the sub's punch.",source:"unison.audio"},{instrument:"808s",frequencyRange:"30–60 Hz",action:"Boost",description:'Accentuates the very low "thump." Boosting in this sub range gives the 808 its characteristic weight and power that you feel as well as hear.',source:"unison.audio"},{instrument:"808s",frequencyRange:"80–200 Hz",action:"Occasional boost",description:"Adds mid-punch. Some 808 samples have harmonics or fundamentals in the ~100–200 Hz area; a small boost here can bring out a richer tone. However, be cautious of clashing with the kick.",source:"unison.audio"},{instrument:"Synth bass",frequencyRange:"40–120 Hz (Low-End)",action:"Boost (if needed)",description:"Reinforces subby depth. Giving some emphasis here adds fullness to synth bass lines.",source:"izotope.com"},{instrument:"Synth bass",frequencyRange:"200–500 Hz (Low-Mids/Mud)",action:"Cut",description:"Cleans up muddiness. Trimming a band around 300–400 Hz prevents synth bass from sounding too boxy or cluttered.",source:"izotope.com"},{instrument:"Synth bass",frequencyRange:"800–1000 Hz",action:"Boost",description:"Enhances articulation. Boosting around 800 Hz–1 kHz brings out the character and punch of synth bass, aiding definition.",source:"izotope.com"},{instrument:"Violin",frequencyRange:"Below ~100 Hz",action:"High-pass filter",description:"Removes rumble. Cutting out subsonic frequencies cleans up unnecessary low end.",source:"abletunes.com"},{instrument:"Violin",frequencyRange:"100–250 Hz (Mud/Fundamentals)",action:"Cut/Boost carefully",description:"Balances fullness. A gentle boost around 200–350 Hz can add warmth, while cutting 150–250 Hz removes muddiness.",source:"abletunes.com"},{instrument:"Violin",frequencyRange:"2–10 kHz (Body/String Noise)",action:"Boost (small peaks)",description:"Enhances presence. Boosting around 2–4 kHz brings out string articulation, and a wider lift into 7–10 kHz adds bite; use moderate Q to avoid harshness.",source:"abletunes.com"},{instrument:"Flute",frequencyRange:"0–250 Hz",action:"High-pass filter (up to ~200–250 Hz)",description:"Removes rumble and wind noise. Cutting below ~200 Hz prevents unwanted low-frequency noise.",source:"abletunes.com"},{instrument:"Flute",frequencyRange:"250–400 Hz (Body/Mud)",action:"Cut",description:'Reduces "muddiness." A slight cut in this range cleans up any boxy tone in the flute.',source:"abletunes.com"},{instrument:"Flute",frequencyRange:"2–4 kHz",action:"Cut for softness",description:"Controls honkiness. Attenuating 2–4 kHz softens an overly bright or piercing flute tone.",source:"abletunes.com"},{instrument:"Flute",frequencyRange:"10–12 kHz (Air/Brightness)",action:"Boost",description:"Adds sparkle. A shelf boost in the 10–12 kHz range brings out the airy, delicate overtones of the flute.",source:"abletunes.com"},{instrument:"Cello",frequencyRange:"65–260 Hz (Fundamental)",action:"Boost carefully",description:"Enhances warmth and richness. The cello's fundamental frequencies provide its characteristic woody tone.",source:"iZotope"},{instrument:"Cello",frequencyRange:"250–500 Hz (Body)",action:"Cut if muddy",description:"Controls boxiness. A gentle cut here can clean up muddy or congested cello recordings.",source:"iZotope"},{instrument:"Cello",frequencyRange:"1–3 kHz (Presence)",action:"Boost for clarity",description:"Brings out bow articulation and string texture. Gentle boost helps cello cut through the mix.",source:"iZotope"},{instrument:"Cello",frequencyRange:"5–8 kHz (Brightness)",action:"Boost for air",description:"Adds sparkle and detail to string harmonics. Use sparingly to avoid harshness.",source:"iZotope"},{instrument:"Tuba",frequencyRange:"29–87 Hz (Fundamental)",action:"Boost for power",description:"Enhances the foundation. The tuba's fundamental range provides its powerful low-end presence.",source:"Brass techniques"},{instrument:"Tuba",frequencyRange:"100–200 Hz (Warmth)",action:"Boost for fullness",description:"Adds body and warmth. Gentle boost here fills out the tuba's rich harmonic content.",source:"Brass techniques"},{instrument:"Tuba",frequencyRange:"300–500 Hz",action:"Cut if muddy",description:"Prevents muddiness. Cut here if the tuba sounds unclear or interferes with other instruments.",source:"Brass techniques"},{instrument:"Tuba",frequencyRange:"2–4 kHz (Attack)",action:"Boost for definition",description:"Enhances note attack and articulation. Helps the tuba cut through dense arrangements.",source:"Brass techniques"},{instrument:"Saxophone",frequencyRange:"100–300 Hz (Body)",action:"Boost for warmth",description:"Adds fullness and body. This range contains the saxophone's fundamental warmth.",source:"Woodwind recording"},{instrument:"Saxophone",frequencyRange:"300–800 Hz",action:"Cut if honky",description:"Reduces nasal honking. Cut here if the saxophone sounds too aggressive or nasal.",source:"Woodwind recording"},{instrument:"Saxophone",frequencyRange:"1–3 kHz (Presence)",action:"Boost for clarity",description:"Brings out reed articulation and breath sounds. Essential for saxophone presence in the mix.",source:"Woodwind recording"},{instrument:"Saxophone",frequencyRange:"8–12 kHz (Brightness)",action:"Boost for air",description:"Adds sparkle and harmonic content. Gentle boost brings out the saxophone's natural brightness.",source:"Woodwind recording"},{instrument:"Trumpet",frequencyRange:"100–250 Hz (Body)",action:"Boost for fullness",description:"Adds warmth and body. The trumpet's lower harmonics provide fullness without muddiness.",source:"Brass recording"},{instrument:"Trumpet",frequencyRange:"1–3 kHz (Core)",action:"Boost for presence",description:"Enhances the trumpet's characteristic brightness and cut. This is where the trumpet lives in the mix.",source:"Brass recording"},{instrument:"Trumpet",frequencyRange:"3–6 kHz (Attack)",action:"Boost for bite",description:"Brings out valve attacks and articulation. Helps trumpet punch through the mix.",source:"Brass recording"},{instrument:"Trumpet",frequencyRange:"8–12 kHz (Harmonics)",action:"Boost for brilliance",description:"Adds harmonic sparkle and air. Use carefully to avoid harshness, especially with muted trumpets.",source:"Brass recording"},{instrument:"Brass",frequencyRange:"80–200 Hz (Foundation)",action:"Boost for power",description:"Provides the brass section's foundational weight and impact. Essential for full brass sound.",source:"Orchestral recording"},{instrument:"Brass",frequencyRange:"200–500 Hz",action:"Cut if muddy",description:"Prevents section muddiness. Cut here when brass sounds unclear or conflicts with other instruments.",source:"Orchestral recording"},{instrument:"Brass",frequencyRange:"1–4 kHz (Presence)",action:"Boost for clarity",description:"Brings out brass articulation and bite. This range is crucial for brass section definition.",source:"Orchestral recording"},{instrument:"Brass",frequencyRange:"6–10 kHz (Brilliance)",action:"Boost for sparkle",description:"Adds harmonic content and air. Gentle boost brings out the natural brass shimmer.",source:"Orchestral recording"},{instrument:"Woodwinds",frequencyRange:"Below 100 Hz",action:"High-pass filter",description:"Removes rumble and breath noise. Clean up unnecessary low-frequency content.",source:"Woodwind recording"},{instrument:"Woodwinds",frequencyRange:"200–500 Hz (Body)",action:"Boost for warmth",description:"Enhances the woody, reedy character. This range provides the natural woodwind timbre.",source:"Woodwind recording"},{instrument:"Woodwinds",frequencyRange:"2–6 kHz (Articulation)",action:"Boost for clarity",description:"Brings out reed/embouchure attacks and finger noise. Essential for woodwind definition.",source:"Woodwind recording"},{instrument:"Woodwinds",frequencyRange:"8–15 kHz (Air)",action:"Boost for breath",description:"Adds natural breath sounds and harmonic content. Creates realistic woodwind presence.",source:"Woodwind recording"},{instrument:"Horns",frequencyRange:"80–200 Hz (Foundation)",action:"Boost for fullness",description:"Provides the horn's characteristic warm, round tone. Essential for proper horn weight.",source:"Orchestral recording"},{instrument:"Horns",frequencyRange:"300–600 Hz",action:"Cut if muddy",description:"Prevents honkiness and muddiness. Cut here if horns sound unclear or too nasal.",source:"Orchestral recording"},{instrument:"Horns",frequencyRange:"1–3 kHz (Core)",action:"Boost for presence",description:"Brings out the horn's natural brightness and projection. Key range for horn clarity.",source:"Orchestral recording"},{instrument:"Horns",frequencyRange:"6–10 kHz (Harmonics)",action:"Boost gently for air",description:"Adds harmonic content and natural horn sparkle. Use subtly to maintain warmth.",source:"Orchestral recording"},{instrument:"Strings",frequencyRange:"80–250 Hz (Body)",action:"Boost for richness",description:"Enhances the string section's foundational warmth and body. Essential for full orchestral sound.",source:"Orchestral recording"},{instrument:"Strings",frequencyRange:"250–500 Hz",action:"Cut if muddy",description:"Cleans up section muddiness. Cut here when strings sound unclear or congested.",source:"Orchestral recording"},{instrument:"Strings",frequencyRange:"2–6 kHz (Bow noise)",action:"Boost for detail",description:"Brings out bow articulation and string texture. Adds realism and presence to string sections.",source:"Orchestral recording"},{instrument:"Strings",frequencyRange:"8–15 kHz (Air)",action:"Boost for sparkle",description:"Adds harmonic content and natural string shimmer. Creates open, airy string sound.",source:"Orchestral recording"},{instrument:"Room mics",frequencyRange:"Below 80 Hz",action:"High-pass filter",description:"Removes rumble and HVAC noise. Clean up unnecessary subsonic content from room ambience.",source:"Recording techniques"},{instrument:"Room mics",frequencyRange:"200–500 Hz",action:"Cut for clarity",description:"Reduces room muddiness. Cut here to prevent the room from making the mix unclear.",source:"Recording techniques"},{instrument:"Room mics",frequencyRange:"2–8 kHz (Ambience)",action:"Boost for liveliness",description:"Enhances room character and spatial information. This range contains the room's acoustic signature.",source:"Recording techniques"},{instrument:"Room mics",frequencyRange:"10–15 kHz (Air)",action:"Boost for space",description:"Adds natural room reverb and spatial depth. Creates sense of space and ambience.",source:"Recording techniques"},{instrument:"Drums",frequencyRange:"50–100 Hz (Kick fundamentals)",action:"Boost for punch",description:"Enhances kick drum impact and low-end power. Essential for drum kit foundation.",source:"Drum recording"},{instrument:"Drums",frequencyRange:"200–400 Hz",action:"Cut if muddy",description:"Cleans up kit muddiness. Cut here when drums sound unclear or too boomy.",source:"Drum recording"},{instrument:"Drums",frequencyRange:"2–6 kHz (Attack)",action:"Boost for punch",description:"Brings out stick attacks and drum transients. Essential for drum clarity and definition.",source:"Drum recording"},{instrument:"Drums",frequencyRange:"8–15 kHz (Cymbals/Air)",action:"Boost for sparkle",description:"Enhances cymbal shimmer and kit brightness. Adds natural drum room sound.",source:"Drum recording"}],vI=()=>{const[e,t]=he.useState("All"),[n,r]=he.useState("all"),o=[{frequencyRange:"20-60 Hz (Sub Bass)",action:"High-pass filter",description:"Remove subsonic rumble and unwanted low-end build-up. Most instruments don't need content below 40-60 Hz.",zoneId:"sub"},{frequencyRange:"60-250 Hz (Bass)",action:"Shape with care",description:"Foundation of your mix. Boost for warmth and fullness, cut to reduce muddiness. Critical for kick drums and bass instruments.",zoneId:"bass"},{frequencyRange:"250-500 Hz (Low Mids)",action:"Often cut",description:'Common problem area. Often causes "boxiness" or "muddiness." Light cuts here can clean up your mix significantly.',zoneId:"low-mid"},{frequencyRange:"500 Hz-2 kHz (Mids)",action:"Balance carefully",description:"Core of most instruments. Cuts can make things sound distant, boosts bring instruments forward in the mix.",zoneId:"mid"},{frequencyRange:"2-6 kHz (High Mids)",action:"Clarity & presence",description:"Critical for vocal clarity and instrument definition. Boost for presence, cut to reduce harshness.",zoneId:"high-mid"},{frequencyRange:"6-12 kHz (Presence)",action:"Add brightness",description:'Adds clarity and attack to instruments. Boost for more "bite," cut to smooth harsh elements.',zoneId:"presence"},{frequencyRange:"12 kHz+ (Air)",action:"Gentle enhancement",description:'Adds "air" and openness to your mix. Subtle high-shelf boosts can make mixes sound more polished.',zoneId:"air"}],l=e==="All"&&n==="all",u=l?[]:xI.filter(m=>{var x;const d=e==="All"||m.instrument===e,g=n==="all"||m.frequencyRange.toLowerCase().includes(((x=nu.find(v=>v.id===n))==null?void 0:x.label.split(" ")[0].toLowerCase())||"");return d&&g}),f=n==="all"?o:o.filter(m=>m.zoneId===n);return p.jsxs("div",{className:"max-w-6xl mx-auto w-full py-8 px-4 md:px-0",children:[p.jsxs("div",{className:"flex flex-wrap gap-6 mb-6 items-end",children:[p.jsxs("div",{className:"flex-1 min-w-[180px]",children:[p.jsx("label",{className:"block text-xs font-bold text-gray-400 mb-1",children:"Instrument"}),p.jsxs("select",{value:e,onChange:m=>t(m.target.value),className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-md text-gray-100",children:[p.jsx("option",{disabled:!0,children:"Vocals"}),p.jsx("option",{value:"Vocals",children:"Vocals (general)"}),p.jsx("option",{value:"Male vocals",children:"Male vocals"}),p.jsx("option",{value:"Female vocals",children:"Female vocals"}),p.jsx("option",{disabled:!0,children:"Rhythm Section"}),p.jsx("option",{value:"Kick drum",children:"Kick drum"}),p.jsx("option",{value:"Snare",children:"Snare"}),p.jsx("option",{value:"Bass guitar",children:"Bass guitar"}),p.jsx("option",{value:"808s",children:"808s"}),p.jsx("option",{value:"Sub bass",children:"Sub bass"}),p.jsx("option",{value:"Synth bass",children:"Synth bass"}),p.jsx("option",{value:"Drums",children:"Drums"}),p.jsx("option",{disabled:!0,children:"Other Instruments"}),p.jsx("option",{value:"Guitar",children:"Guitar"}),p.jsx("option",{value:"Acoustic guitar",children:"Acoustic guitar"}),p.jsx("option",{value:"Piano",children:"Piano"}),p.jsx("option",{value:"Cymbals",children:"Cymbals"}),p.jsx("option",{value:"Hi-hats",children:"Hi-hats"}),p.jsx("option",{value:"Horns",children:"Horns"}),p.jsx("option",{value:"Strings",children:"Strings"}),p.jsx("option",{value:"Room mics",children:"Room mics"}),p.jsx("option",{value:"Violin",children:"Violin"}),p.jsx("option",{value:"Cello",children:"Cello"}),p.jsx("option",{value:"Tuba",children:"Tuba"}),p.jsx("option",{value:"Saxophone",children:"Saxophone"}),p.jsx("option",{value:"Trumpet",children:"Trumpet"}),p.jsx("option",{value:"Brass",children:"Brass"}),p.jsx("option",{value:"Woodwinds",children:"Woodwinds"}),p.jsx("option",{value:"Flute",children:"Flute"}),p.jsx("option",{disabled:!0,children:"All/General"}),p.jsx("option",{value:"All",children:"All Instruments"})]})]}),p.jsxs("div",{className:"flex-1 min-w-[180px]",children:[p.jsx("label",{className:"block text-xs font-bold text-gray-400 mb-1",children:"Frequency Range"}),p.jsx("select",{value:n,onChange:m=>r(m.target.value),className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-md text-gray-100",children:nu.map(m=>p.jsx("option",{value:m.id,children:m.label},m.id))})]})]}),p.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:l?f.map((m,d)=>{const g=nu.find(v=>v.id===m.zoneId),x=(g==null?void 0:g.color)||"bg-gray-600";return p.jsx(rt,{className:"bg-gray-800/80 h-fit",children:p.jsxs("div",{className:"flex flex-col gap-3",children:[p.jsxs("div",{className:"flex items-center gap-3",children:[p.jsx("div",{className:`w-3 h-3 rounded-full ${x}`}),p.jsx("span",{className:"text-sm font-bold text-white",children:m.frequencyRange})]}),p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded ${m.action.toLowerCase().includes("boost")||m.action.toLowerCase().includes("enhance")?"bg-green-600 text-white":m.action.toLowerCase().includes("cut")||m.action.toLowerCase().includes("filter")?"bg-red-600 text-white":"bg-blue-600 text-white"}`,children:m.action.toUpperCase()}),p.jsx("span",{className:"text-xs text-gray-400",children:"General Guidance"})]}),p.jsx("p",{className:"text-gray-300 text-sm leading-relaxed",children:m.description})]})},d)}):u.length===0?p.jsx("div",{className:"col-span-full",children:p.jsx(rt,{className:"bg-gray-700/80 text-center py-16",children:p.jsxs("p",{className:"text-gray-300 text-lg",children:["No EQ advice matches your current filters.",p.jsx("br",{}),"Try another instrument or frequency zone."]})})}):u.map((m,d)=>{const g=nu.find(v=>{if(v.id==="all")return!1;const S=v.label.split(" ")[0].toLowerCase();return m.frequencyRange.toLowerCase().includes(S)}),x=(g==null?void 0:g.color)||"bg-gray-600";return p.jsx(rt,{className:"bg-gray-800/80 h-fit",children:p.jsxs("div",{className:"flex flex-col gap-3",children:[p.jsxs("div",{className:"flex items-center gap-3",children:[p.jsx("div",{className:`w-3 h-3 rounded-full ${x}`}),p.jsx("span",{className:"text-sm font-bold text-white",children:m.frequencyRange})]}),p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded ${m.action.toLowerCase().includes("boost")?"bg-green-600 text-white":m.action.toLowerCase().includes("cut")?"bg-red-600 text-white":"bg-yellow-600 text-black"}`,children:m.action.toUpperCase()}),p.jsx("span",{className:"text-xs text-gray-400",children:m.instrument})]}),p.jsx("p",{className:"text-gray-300 text-sm leading-relaxed",children:m.description})]})},d)})}),p.jsx("div",{className:"text-xs text-gray-500 mt-8 text-center px-2",children:"Tip: These are general guidelines—trust your ears and reference pro mixes for your genre."}),p.jsx(SI,{})]})},CI=[{frequency:40,rangeName:"Deep Sub Bass",guidance:"Purely felt rumble. High-pass almost everything except sub-bass synths or specific kick drum tails.",reference:"The feeling in your chest from a movie theater explosion or a passing truck."},{frequency:60,rangeName:"Sub Bass",guidance:"Feel the rumble. High-pass most instruments to remove mud, but boost for kick drum weight.",reference:"The deep, physical hum from a large refrigerator or a distant thunderstorm."},{frequency:80,rangeName:"Low Bass",guidance:"Adds weight and body to basslines and kick drums. Can be muddy if overdone.",reference:"The 'boom' of a car stereo system."},{frequency:100,rangeName:"Bass",guidance:"The core punch of the bass. Boost for warmth, but can quickly become boomy.",reference:"The fundamental 'thump' of a kick drum or the body of a bass guitar note."},{frequency:200,rangeName:"Bass / Low Mid Crossover",guidance:"Fullness for guitars and snares, but also a source of mud. Cut to add clarity between kick and bass.",reference:"The 'thwack' of a snare drum's body."},{frequency:250,rangeName:"Low Mids",guidance:"The 'mud' region. A common area to cut to clean up a mix and remove 'boxiness'.",reference:"The sound of speaking with cupped hands around your mouth."},{frequency:350,rangeName:"Low Mids (Boxiness)",guidance:"Another primary 'boxy' or 'cardboard' sound area. Cutting here can open up the mix.",reference:"The hollow sound of a cheap acoustic guitar."},{frequency:500,rangeName:"Mids",guidance:"Defines the core of many instruments. Be careful, as too much can sound 'honky' or nasal.",reference:"The fundamental tone of a landline telephone's dial tone."},{frequency:750,rangeName:"Mids (Nasal)",guidance:"Can add body to bass guitars but often makes vocals and instruments sound nasal or 'honky'.",reference:"The sound quality of an old AM radio."},{frequency:1e3,rangeName:"Upper Mids",guidance:"Crucial for intelligibility and presence. This is where instruments cut through a mix.",reference:"The '2-pop' beep used in film/video leaders for audio sync."},{frequency:2e3,rangeName:"Presence",guidance:"Adds attack and definition. Boost for clarity on vocals, synths, and snare 'snap'.",reference:"The sharp attack of a drumstick hitting a snare drum or a guitar pick on a string."},{frequency:3e3,rangeName:"Upper Mids (Clarity/Harshness)",guidance:"Brings out vocals and instrument attack, but can quickly become piercing and fatiguing to the ear.",reference:"The sound of a baby crying or fingers on a chalkboard."},{frequency:5e3,rangeName:"Clarity / Sibilance",guidance:"Adds sparkle and clarity, but can also introduce harshness or vocal 's' sounds (sibilance).",reference:"The sound of sizzling bacon or the 's' and 't' consonants in speech."},{frequency:7e3,rangeName:"Sibilance",guidance:"Primary region for vocal 's' and 'sh' sounds. Use a de-esser here to tame harshness.",reference:"The sharp 'sss' sound in speech."},{frequency:1e4,rangeName:"Air / Brilliance",guidance:"Adds delicate 'air' and openness. A gentle high-shelf boost can make a mix sound polished.",reference:"The subtle shimmer of cymbals or the sound of 'crispness' in a recording."},{frequency:12e3,rangeName:"Air / Cymbals",guidance:"Adds sparkle and sheen, especially to cymbals and acoustic guitars. Can sound brittle if boosted too much.",reference:"The sizzle of hi-hats and crash cymbals."},{frequency:15e3,rangeName:"High Air",guidance:"Often beyond hearing for many adults. Adds a sense of space and ultra-high fidelity. Be very subtle.",reference:"The hiss from an old cassette tape or the sound of a CRT television being on."}],tu=10,SI=()=>{const[e,t]=he.useState("idle"),[n,r]=he.useState([]),[o,l]=he.useState([]),[u,f]=he.useState(0),[m,d]=he.useState(!1),[g,x]=he.useState(null),v=he.useRef({context:null,oscillator:null,gain:null}),S=he.useRef(null),_=he.useCallback(()=>{if(S.current&&(clearTimeout(S.current),S.current=null),v.current.oscillator&&v.current.gain&&v.current.context){const B=v.current.context.currentTime;v.current.gain.gain.cancelScheduledValues(B),v.current.gain.gain.setValueAtTime(v.current.gain.gain.value,B),v.current.gain.gain.linearRampToValueAtTime(0,B+.1),v.current.oscillator.stop(B+.1),v.current.oscillator=null,v.current.gain=null,x(null)}},[]),D=he.useCallback((B,z)=>{v.current.oscillator&&_(),setTimeout(()=>{const se=v.current.context&&v.current.context.state!=="closed"?v.current.context:new(window.AudioContext||window.webkitAudioContext);v.current.context=se;const ye=se.createOscillator(),Ae=se.createGain();ye.type="sine",ye.frequency.setValueAtTime(B,se.currentTime),Ae.gain.setValueAtTime(0,se.currentTime),Ae.gain.linearRampToValueAtTime(.5,se.currentTime+.05),ye.connect(Ae),Ae.connect(se.destination),ye.start(),v.current.oscillator=ye,v.current.gain=Ae,x(B),z&&(S.current=window.setTimeout(_,z*1e3))},50)},[_]),U=he.useCallback(()=>{const B=CI.map(ye=>ye.frequency),z=[...B].sort(()=>.5-Math.random()),se=[];for(let ye=0;ye<tu;ye++){const Ae=z[ye%z.length],be=B.filter(Ce=>Ce!==Ae).sort(()=>.5-Math.random()),Ee=[Ae,...be.slice(0,3)].sort(()=>.5-Math.random());se.push({correctAnswer:Ae,options:Ee})}r(se),f(0),l([]),d(!1),t("in-progress"),D(se[0].correctAnswer,1.5)},[D]),L=B=>{if(m)return;const z=n[u],se=B===z.correctAnswer;l(ye=>[...ye,{correctAnswer:z.correctAnswer,userAnswer:B,isCorrect:se}]),d(!0)},K=()=>{const B=u+1;B<n.length?(f(B),d(!1),D(n[B].correctAnswer,1.5)):t("finished")},G=n[u],$=o[o.length-1];return he.useEffect(()=>()=>{_(),v.current.context&&v.current.context.state!=="closed"&&v.current.context.close()},[_]),p.jsxs("div",{className:"mt-16 max-w-2xl mx-auto bg-gray-900/80 rounded-lg p-6 border border-gray-700 shadow-lg",children:[p.jsx("h2",{className:"text-xl font-bold text-primary mb-2 text-center",children:"🎧 Ear Trainer: Frequency Quiz"}),p.jsx("p",{className:"text-gray-400 text-center mb-4",children:"Test your ability to recognize key audio frequencies. Listen to the tone and select the correct frequency."}),e==="idle"&&p.jsx("div",{className:"flex flex-col items-center gap-4",children:p.jsx("button",{className:"bg-primary text-white font-bold px-6 py-2 rounded hover:bg-primary/80",onClick:U,children:"Start Quiz"})}),e==="in-progress"&&G&&p.jsxs("div",{children:[p.jsxs("div",{className:"flex justify-between items-center mb-4",children:[p.jsxs("span",{className:"text-gray-400",children:["Question ",u+1," / ",tu]}),p.jsx("button",{className:"text-primary underline",onClick:()=>D(G.correctAnswer,1.5),children:"Play Tone Again"})]}),p.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3 mb-4",children:G.options.map(B=>p.jsxs("button",{className:`px-4 py-2 rounded font-bold border transition-colors duration-150 ${m&&($==null?void 0:$.userAnswer)===B&&!$.isCorrect?"bg-red-700 text-white border-red-500":"bg-gray-800 text-primary border-gray-700 hover:bg-primary hover:text-black"}`,onClick:()=>L(B),disabled:m,children:[B," Hz"]},B))}),m&&p.jsx("div",{className:`text-center font-bold mb-2 ${$.isCorrect?"text-green-400":"text-red-400"}`,children:$.isCorrect?"Correct!":`Incorrect. The answer was ${$.correctAnswer} Hz.`}),p.jsx("div",{className:"flex justify-center",children:m&&p.jsx("button",{className:"bg-primary text-white font-bold px-6 py-2 rounded hover:bg-primary/80",onClick:K,children:u===tu-1?"Finish Quiz":"Next Question"})})]}),e==="finished"&&p.jsxs("div",{className:"text-center",children:[p.jsx("div",{className:"text-lg font-bold text-primary mb-2",children:"Quiz Complete!"}),p.jsxs("div",{className:"mb-4 text-gray-300",children:["Score: ",o.filter(B=>B.isCorrect).length," / ",tu]}),p.jsx("button",{className:"bg-primary text-white font-bold px-6 py-2 rounded hover:bg-primary/80 mb-4",onClick:U,children:"Start New Quiz"}),o.filter(B=>!B.isCorrect).length>0&&p.jsxs("div",{className:"mt-6 text-left",children:[p.jsx("div",{className:"font-bold text-primary mb-2",children:"Review Your Mistakes"}),o.filter(B=>!B.isCorrect).map((B,z)=>p.jsxs("div",{className:"flex items-center gap-2 mb-2 bg-gray-800 rounded p-2",children:[p.jsxs("span",{className:"flex-1 text-gray-300",children:["Correct: ",p.jsxs("b",{children:[B.correctAnswer," Hz"]}),", You Guessed: ",p.jsxs("b",{children:[B.userAnswer," Hz"]})]}),p.jsx("button",{className:"bg-primary text-black px-3 py-1 rounded text-xs font-bold",onClick:()=>D(B.correctAnswer,1.5),children:"Play Correct"}),p.jsx("button",{className:"bg-red-700 text-white px-3 py-1 rounded text-xs font-bold",onClick:()=>D(B.userAnswer,1.5),children:"Play Your Guess"})]},z))]})]})]})},nu=[{id:"all",label:"All Frequencies",color:"bg-gray-600"},{id:"sub",label:"Sub Bass (20-60Hz)",color:"bg-red-600"},{id:"bass",label:"Bass (60-250Hz)",color:"bg-orange-600"},{id:"low-mid",label:"Low Mids (250-500Hz)",color:"bg-yellow-600"},{id:"mid",label:"Mids (500-2kHz)",color:"bg-green-600"},{id:"high-mid",label:"High Mids (2-6kHz)",color:"bg-blue-600"},{id:"presence",label:"Presence (6-12kHz)",color:"bg-indigo-600"},{id:"air",label:"Air (12kHz+)",color:"bg-purple-600"}],ns=({className:e="w-6 h-6"})=>p.jsx("div",{className:`${e} bg-orange-500 transform rotate-45 flex items-center justify-center`,children:p.jsx("div",{className:"w-1/2 h-1/2 bg-white transform -rotate-45"})}),AI=({onGetStarted:e})=>{const[t,n]=he.useState(!1),r=[{label:"How It Works",href:"#how-it-works"},{label:"Problems We Solve",href:"#problems-we-solve"},{label:"Investment Levels",href:"#investment-levels"}];return p.jsxs("div",{className:"min-h-screen bg-[#2B2B2B] relative overflow-hidden scroll-smooth",children:[p.jsx("div",{className:"absolute inset-0 opacity-40",children:p.jsx("div",{className:"absolute inset-0",style:{backgroundImage:"radial-gradient(circle at 2px 2px, #FF5722 1px, transparent 0)",backgroundSize:"30px 30px"}})}),p.jsx("nav",{className:"sticky top-0 z-20 bg-[#2B2B2B]/80 backdrop-blur-sm px-6 py-4",children:p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsxs("div",{className:"flex items-center space-x-3",children:[p.jsx(ns,{className:"w-8 h-8"}),p.jsxs("div",{children:[p.jsx("div",{className:"text-xl font-bold text-white",children:"TrackGuide AI"}),p.jsx("div",{className:"text-xs text-gray-400",children:"Your Smartest Studio Assistant"})]})]}),p.jsx("div",{className:"hidden md:flex items-center space-x-10 absolute left-1/2 transform -translate-x-1/2",children:r.map(({label:o,href:l})=>p.jsx("a",{href:l,className:"text-white hover:text-orange-400 font-semibold text-lg transition-colors pb-1 border-b-2 border-transparent hover:border-orange-400",children:o},o))}),p.jsx("div",{className:"hidden md:block",children:p.jsxs("button",{onClick:e,className:"bg-black hover:bg-gray-900 text-white px-8 py-3 rounded-xl font-bold text-lg transition-all transform hover:scale-105 flex items-center justify-center space-x-3 shadow-2xl border-2 border-orange-400 hover:border-orange-300",children:[p.jsxs("div",{className:"relative",children:[p.jsx("div",{className:"absolute inset-0 rounded-full bg-orange-500/30 blur-sm"}),p.jsx(ns,{className:"h-6 w-6 relative z-10"})]}),p.jsx("span",{children:"Launch App"})]})}),p.jsx("button",{onClick:()=>n(o=>!o),className:"md:hidden text-gray-300 hover:text-white focus:outline-none",children:t?p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})}):p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})})})]})}),t&&p.jsxs("div",{className:"md:hidden bg-[#2B2B2B]/90 backdrop-blur-sm px-6 py-4 space-y-4",children:[r.map(({label:o,href:l})=>p.jsx("a",{href:l,onClick:()=>n(!1),className:"block py-2 text-white font-medium hover:text-orange-400",children:o},o)),p.jsxs("button",{onClick:()=>{n(!1),e()},className:"w-full bg-black hover:bg-gray-900 text-white px-8 py-4 rounded-xl font-bold text-lg transition-all transform hover:scale-105 flex items-center justify-center space-x-3 shadow-2xl border-2 border-orange-400 hover:border-orange-300 mt-4",children:[p.jsxs("div",{className:"relative",children:[p.jsx("div",{className:"absolute inset-0 rounded-full bg-orange-500/30 blur-sm"}),p.jsx(ns,{className:"h-6 w-6 relative z-10"})]}),p.jsx("span",{children:"Launch App"})]})]}),p.jsx("section",{className:"px-6 py-20",children:p.jsxs("div",{className:"max-w-7xl mx-auto text-center",children:[p.jsxs("h1",{className:"text-5xl md:text-7xl font-bold text-white leading-tight mb-8",children:[p.jsx("span",{className:"text-orange-500",children:"AI Studio Assistant:"}),p.jsx("br",{}),p.jsxs("span",{className:"block text-4xl md:text-7xl",children:["A Complement to Creativity,",p.jsx("br",{}),"Not a Substitute."]})]}),p.jsxs("p",{className:"text-xl md:text-2xl text-gray-300 max-w-4xl mx-auto mb-12",children:["Empowering modern producers with",p.jsx("span",{className:"text-orange-500 font-semibold",children:" structure"}),",",p.jsx("span",{className:"text-orange-500 font-semibold",children:" speed"}),", and",p.jsx("span",{className:"text-orange-500 font-semibold",children:" support"}),"."]}),p.jsx("div",{className:"md:hidden",children:!t&&p.jsxs("button",{onClick:e,className:"bg-black hover:bg-gray-900 text-white px-12 py-5 rounded-xl font-bold text-xl transition-all transform hover:scale-105 flex items-center justify-center space-x-4 shadow-2xl border-2 border-orange-400 hover:border-orange-300 mx-auto",children:[p.jsxs("div",{className:"relative",children:[p.jsx("div",{className:"absolute inset-0 rounded-full bg-orange-500/30 blur-sm"}),p.jsx(ns,{className:"h-7 w-7 relative z-10"})]}),p.jsx("span",{children:"Launch App"})]})})]})}),p.jsx("section",{id:"how-it-works",className:"relative px-6 py-20",children:p.jsxs("div",{className:"max-w-7xl mx-auto",children:[p.jsxs("div",{className:"text-center mb-16",children:[p.jsx("h2",{className:"text-4xl md:text-5xl font-bold text-white mb-6",children:"How TrackGuide Works"}),p.jsx("p",{className:"text-xl text-gray-300 max-w-3xl mx-auto",children:"From concept to creation in three simple steps"})]}),p.jsxs("div",{className:"grid md:grid-cols-3 gap-8",children:[p.jsxs("div",{className:"text-center space-y-6",children:[p.jsx("div",{className:"w-20 h-20 bg-orange-500 rounded-full flex items-center justify-center mx-auto",children:p.jsx("span",{className:"text-2xl font-bold text-white",children:"1"})}),p.jsx("h3",{className:"text-2xl font-bold text-white",children:"Describe Your Vision"}),p.jsx("p",{className:"text-gray-300",children:"Define your genre, vibe, creative goals — and your available plugins & DAW. Our AI understands your intent."})]}),p.jsxs("div",{className:"text-center space-y-6",children:[p.jsx("div",{className:"w-20 h-20 bg-orange-500 rounded-full flex items-center justify-center mx-auto",children:p.jsx("span",{className:"text-2xl font-bold text-white",children:"2"})}),p.jsx("h3",{className:"text-2xl font-bold text-white",children:"Get Your Guide & Tools"}),p.jsx("p",{className:"text-gray-300",children:"Generate a TrackGuide Blueprint, MIDI patterns, and AI recommendations — including plugin parameter suggestions."})]}),p.jsxs("div",{className:"text-center space-y-6",children:[p.jsx("div",{className:"w-20 h-20 bg-orange-500 rounded-full flex items-center justify-center mx-auto",children:p.jsx("span",{className:"text-2xl font-bold text-white",children:"3"})}),p.jsx("h3",{className:"text-2xl font-bold text-white",children:"Iterate & Refine"}),p.jsx("p",{className:"text-gray-300",children:"Upload mixes for feedback, compare revisions, and update your production with AI-assisted insights."})]})]})]})}),p.jsx("section",{className:"relative px-6 py-20 bg-black/10",children:p.jsxs("div",{className:"max-w-7xl mx-auto",children:[p.jsxs("div",{className:"text-center mb-16",children:[p.jsx("h2",{className:"text-4xl md:text-5xl font-bold text-white mb-6",children:"Complete Production Toolkit"}),p.jsx("p",{className:"text-xl text-gray-300 max-w-3xl mx-auto",children:"Everything you need — from first idea to final mix"})]}),p.jsxs("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-8",children:[p.jsxs("div",{className:"bg-gray-800/50 rounded-xl p-6 border border-orange-500/20 hover:border-orange-500/40 transition-all",children:[p.jsx("div",{className:"w-12 h-12 rounded-lg flex items-center justify-center mb-4",children:p.jsx(ns,{className:"w-12 h-12"})}),p.jsx("h3",{className:"text-xl font-bold text-white mb-3",children:"TrackGuide AI"}),p.jsx("p",{className:"text-gray-300",children:"Generate detailed TrackGuide blueprints — structure, instrumentation, plugin parameters, and mix guidance tailored to your tools."})]}),p.jsxs("div",{className:"bg-gray-800/50 rounded-xl p-6 border border-orange-500/20 hover:border-orange-500/40 transition-all",children:[p.jsx("div",{className:"w-12 h-12 bg-orange-500 rounded-lg flex items-center justify-center mb-4",children:p.jsx("span",{className:"text-white font-bold",children:"♪"})}),p.jsx("h3",{className:"text-xl font-bold text-white mb-3",children:"Integrated MIDI Generator"}),p.jsx("p",{className:"text-gray-300",children:"Auto-generate melodic, harmonic, bass, and drum MIDI patterns — matched to your genre and style — exportable to your DAW."})]}),p.jsxs("div",{className:"bg-gray-800/50 rounded-xl p-6 border border-orange-500/20 hover:border-orange-500/40 transition-all",children:[p.jsx("div",{className:"w-12 h-12 bg-orange-500 rounded-lg flex items-center justify-center mb-4",children:p.jsx("span",{className:"text-white font-bold",children:"🎛️"})}),p.jsx("h3",{className:"text-xl font-bold text-white mb-3",children:"RemixGuide AI"}),p.jsx("p",{className:"text-gray-300",children:"Upload any track and generate an intelligent remix plan — new structure, sound design tips, and remix-ready MIDI."})]}),p.jsxs("div",{className:"bg-gray-800/50 rounded-xl p-6 border border-orange-500/20 hover:border-orange-500/40 transition-all",children:[p.jsx("div",{className:"w-12 h-12 bg-orange-500 rounded-lg flex items-center justify-center mb-4",children:p.jsx("span",{className:"text-white font-bold text-2xl",children:"🎹"})}),p.jsx("h3",{className:"text-xl font-bold text-white mb-3",children:"PatchGuide AI"}),p.jsx("p",{className:"text-gray-300",children:"Generate detailed synth patch blueprints — choose your synth, describe your sound, and get step-by-step parameter and modulation tips."})]}),p.jsxs("div",{className:"bg-gray-800/50 rounded-xl p-6 border border-orange-500/20 hover:border-orange-500/40 transition-all",children:[p.jsx("div",{className:"w-12 h-12 bg-orange-500 rounded-lg flex items-center justify-center mb-4",children:p.jsx("span",{className:"text-white font-bold text-2xl",children:"🎚"})}),p.jsx("h3",{className:"text-xl font-bold text-white mb-3",children:"Mix Feedback"}),p.jsx("p",{className:"text-gray-300",children:"Get instant mix advice — AI analyzes one or two versions of your mix to highlight strengths, fix weaknesses, compare refinements, and guide your next steps."})]}),p.jsxs("div",{className:"bg-gray-800/50 rounded-xl p-6 border border-orange-500/20 hover:border-orange-500/40 transition-all",children:[p.jsx("div",{className:"w-12 h-12 bg-orange-500 rounded-lg flex items-center justify-center mb-4",children:p.jsx("span",{className:"text-white font-bold",children:"📊"})}),p.jsx("h3",{className:"text-xl font-bold text-white mb-3",children:"EQ Guide"}),p.jsx("p",{className:"text-gray-300",children:"Quick-reference EQ guide: instrument-by-instrument — learn how to shape sound and resolve common mix problems."})]})]})]})}),p.jsx("section",{className:"relative px-6 py-20 bg-black/20",children:p.jsxs("div",{className:"max-w-7xl mx-auto text-center",children:[p.jsx("h2",{className:"text-4xl md:text-5xl font-bold text-white mb-6",children:"Ready to Transform Your Music Production?"}),p.jsx("p",{className:"text-xl text-gray-300 mb-12 max-w-2xl mx-auto",children:"TrackGuide helps producers of all skill levels — from bedroom creators to pros — finish more tracks, faster."}),p.jsxs("div",{className:"bg-gray-800/50 rounded-2xl p-8 max-w-md mx-auto border border-orange-500/20",children:[p.jsx("h3",{className:"text-2xl font-bold text-white mb-4",children:"Free to Start"}),p.jsx("p",{className:"text-gray-300 mb-6",children:"Get started with TrackGuide AI for free. Upgrade when you're ready to unlock unlimited generations and advanced tools."}),p.jsx("button",{onClick:e,className:"w-full bg-orange-500 hover:bg-orange-600 text-white px-8 py-4 rounded-lg font-bold text-lg transition-all transform hover:scale-105 shadow-xl",children:"Start Creating Free"}),p.jsx("p",{className:"text-gray-500 text-sm mt-4",children:"No credit card required"})]})]})}),p.jsx("section",{className:"px-6 py-16 bg-black/20",children:p.jsxs("div",{className:"max-w-7xl mx-auto text-center",children:[p.jsx("div",{className:"w-32 h-1 bg-orange-500 mx-auto mb-8"}),p.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-white mb-4",children:"The Investment Opportunity"}),p.jsx("p",{className:"text-xl text-gray-300",children:"Helping producers finish better music, faster — in a $43B market."})]})}),p.jsx("section",{id:"problems-we-solve",className:"relative px-6 py-20 bg-black/20",children:p.jsx("div",{className:"max-w-7xl mx-auto",children:p.jsxs("div",{className:"grid lg:grid-cols-2 gap-12 items-center",children:[p.jsxs("div",{className:"space-y-8",children:[p.jsxs("h2",{className:"text-4xl md:text-5xl font-bold text-white leading-tight",children:["Too Many Tools. ",p.jsx("span",{className:"text-orange-500 block",children:"Not Enough Direction."})]}),p.jsxs("div",{className:"grid gap-6",children:[p.jsx("div",{className:"border-l-4 border-orange-500 pl-6",children:p.jsxs("p",{className:"text-gray-300",children:[p.jsx("strong",{children:"Clickbait content lacks depth —"})," TrackGuide guides creativity with real-world skills — not more noise."]})}),p.jsx("div",{className:"border-l-4 border-orange-500 pl-6",children:p.jsxs("p",{className:"text-gray-300",children:[p.jsx("strong",{children:"Clarity over clutter —"})," Cuts through “plugin paralysis” and endless tutorial-hopping."]})}),p.jsx("div",{className:"border-l-4 border-orange-500 pl-6",children:p.jsxs("p",{className:"text-gray-300",children:[p.jsx("strong",{children:"Skills that scale —"})," Builds lasting production knowledge across tools & styles."]})})]})]}),p.jsxs("div",{className:"relative h-96",children:[p.jsxs("div",{className:"absolute top-0 right-0 w-48 h-48",children:[p.jsx("div",{className:"w-full h-full border-2 border-orange-500 transform rotate-45"}),p.jsx("div",{className:"absolute top-4 right-4 w-40 h-40 bg-orange-500 transform rotate-45"})]}),p.jsxs("div",{className:"absolute bottom-0 left-0 w-32 h-32",children:[p.jsx("div",{className:"w-full h-full border-2 border-orange-500"}),p.jsx("div",{className:"absolute top-2 left-2 w-28 h-28 bg-orange-500"})]})]})]})})}),p.jsx("section",{id:"ai-challenge",className:"px-6 py-20 bg-black",children:p.jsxs("div",{className:"max-w-7xl mx-auto grid lg:grid-cols-2 gap-12 items-center",children:[p.jsx("div",{className:"relative h-80 hidden lg:block",children:p.jsxs("div",{className:"absolute top-0 left-0 w-40 h-40",children:[p.jsx("div",{className:"w-full h-full border-2 border-orange-500 transform rotate-45"}),p.jsx("div",{className:"absolute top-4 left-4 w-32 h-32 bg-orange-500 transform rotate-45"})]})}),p.jsxs("div",{className:"space-y-8",children:[p.jsxs("h2",{className:"text-5xl font-bold text-white leading-tight",children:["AI That Teaches. ",p.jsx("span",{className:"text-orange-500 block",children:"Not Just Automates."})]}),p.jsx("p",{className:"text-xl text-gray-300 leading-relaxed",children:"A human-first approach — empowering the artist, respecting the craft."}),p.jsxs("div",{className:"grid gap-6",children:[p.jsxs("div",{className:"border-l-4 border-orange-500 pl-6",children:[p.jsx("h3",{className:"text-lg font-bold text-white mb-2",children:"Avoiding “One-Click” solutions"}),p.jsx("p",{className:"text-gray-400",children:"Our AI augments the creative process — producers stay in control."})]}),p.jsxs("div",{className:"border-l-4 border-orange-500 pl-6",children:[p.jsx("h3",{className:"text-lg font-bold text-white mb-2",children:"Encouraging Innovation"}),p.jsx("p",{className:"text-gray-400",children:"Current AI tools focus on regurgitating “old hit” formulas — ours help creators define new sounds."})]}),p.jsxs("div",{className:"border-l-4 border-orange-500 pl-6",children:[p.jsx("h3",{className:"text-lg font-bold text-white mb-2",children:"Clear IP & ethical AI"}),p.jsx("p",{className:"text-gray-400",children:"Built with transparent usage — your creativity stays yours."})]})]})]})]})}),p.jsx("section",{className:"relative px-6 py-20 bg-black/20",children:p.jsxs("div",{className:"max-w-5xl mx-auto",children:[p.jsxs("h2",{className:"text-4xl md:text-5xl font-bold text-white mb-6",children:["Scalable ",p.jsx("span",{className:"text-orange-500",children:"Business Model"})]}),p.jsx("p",{className:"text-xl text-gray-300 mb-12 max-w-2xl mx-auto",children:"Modular SaaS for creators, pros, educators, and studios."}),p.jsxs("div",{className:"grid md:grid-cols-3 gap-8",children:[p.jsxs("div",{className:"bg-gray-800/30 rounded-lg p-8 border border-orange-500/10 space-y-2",children:[p.jsx("h3",{className:"text-2xl font-bold text-white",children:"SaaS Subscriptions"}),p.jsx("p",{className:"text-gray-300",children:"Premium AI tools, pro workflows, unlimited usage — high-margin recurring revenue."}),p.jsx("div",{className:"text-orange-500 font-semibold text-lg",children:"85% Gross Margin"})]}),p.jsxs("div",{className:"bg-gray-800/30 rounded-lg p-8 border border-orange-500/10 space-y-2",children:[p.jsx("h3",{className:"text-2xl font-bold text-white",children:"Community Marketplace"}),p.jsx("p",{className:"text-gray-300",children:"Revenue from user-generated templates, MIDI packs, remix packs, stems, and presets."}),p.jsx("div",{className:"text-orange-500 font-semibold text-lg",children:"30% Commission"})]}),p.jsxs("div",{className:"bg-gray-800/30 rounded-lg p-8 border border-orange-500/10 space-y-2",children:[p.jsx("h3",{className:"text-2xl font-bold text-white",children:"Enterprise / Education Licensing"}),p.jsx("p",{className:"text-gray-300",children:"Annual contracts for labels, studios, and music education institutions."}),p.jsx("div",{className:"text-orange-500 font-semibold text-lg",children:"$50K+ ARR"})]})]})]})}),p.jsx("section",{id:"investment-levels",className:"px-6 py-20 bg-black",children:p.jsxs("div",{className:"max-w-5xl mx-auto",children:[p.jsxs("div",{className:"text-center mb-12",children:[p.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-white mb-6",children:"Investment Levels"}),p.jsx("p",{className:"text-lg text-gray-300 max-w-2xl mx-auto",children:"We’re raising capital to scale TrackGuide AI — deepen core features, grow early users, and prepare for market launch."}),p.jsx("p",{className:"text-md text-gray-400 mt-4 max-w-xl mx-auto",children:"All investments are via SAFE notes with valuation cap. Larger tiers include additional benefits and advisory access."})]}),p.jsxs("div",{className:"grid md:grid-cols-4 gap-6",children:[p.jsxs("div",{className:"bg-black/80 rounded-lg p-6 border border-orange-500/30 shadow-md flex flex-col justify-between",children:[p.jsxs("div",{children:[p.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"Seed Loop"}),p.jsx("p",{className:"text-gray-300 text-sm mb-2",children:"$10K–$25K"}),p.jsx("p",{className:"text-gray-400 text-sm mb-4",children:"AI refinement, UX polish, early traction testing."})]}),p.jsx("p",{className:"text-orange-400 text-sm mt-4",children:"Return: SAFE @ $5M cap + quarterly updates"})]}),p.jsxs("div",{className:"bg-black/80 rounded-lg p-6 border border-orange-500/30 shadow-md flex flex-col justify-between",children:[p.jsxs("div",{children:[p.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"Creator Tier"}),p.jsx("p",{className:"text-gray-300 text-sm mb-2",children:"$25K–$50K"}),p.jsx("p",{className:"text-gray-400 text-sm mb-4",children:"Monetization rollout, user acquisition, affiliate & referral systems."})]}),p.jsx("p",{className:"text-orange-400 text-sm mt-4",children:"Return: SAFE + 1% revenue share pilot + early feature access"})]}),p.jsxs("div",{className:"bg-black/80 rounded-lg p-6 border border-orange-500/30 shadow-md flex flex-col justify-between",children:[p.jsxs("div",{children:[p.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"Full Stack"}),p.jsx("p",{className:"text-gray-300 text-sm mb-2",children:"$50K–$75K"}),p.jsx("p",{className:"text-gray-400 text-sm mb-4",children:"Strategic hires (PMM / full-stack dev), expanded GTM partnerships."})]}),p.jsx("p",{className:"text-orange-400 text-sm mt-4",children:"Return: SAFE + advisory board seat + product roadmap input"})]}),p.jsxs("div",{className:"bg-black/80 rounded-lg p-6 border border-orange-500/30 shadow-md flex flex-col justify-between",children:[p.jsxs("div",{children:[p.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"Vision Tier"}),p.jsx("p",{className:"text-gray-300 text-sm mb-2",children:"$150K+"}),p.jsx("p",{className:"text-gray-400 text-sm mb-4",children:"Full-scale AI model tuning, GTM campaign, international expansion."})]}),p.jsx("p",{className:"text-orange-400 text-sm mt-4",children:"Return: Discounted SAFE cap + 2% revenue share + strategic board seat"})]})]}),p.jsx("div",{className:"text-center mt-12",children:p.jsx("a",{href:"mailto:dustinspaceproductions@gmail.com?subject=Investment Inquiry - TrackGuide AI",className:"bg-orange-500 hover:bg-orange-600 text-white px-8 py-4 rounded-lg font-bold text-lg transition-all transform hover:scale-105 inline-flex items-center space-x-2 shadow-xl",children:p.jsx("span",{children:"Contact for Full Investor Deck"})})})]})}),p.jsx("section",{className:"px-6 py-20 bg-black/30",children:p.jsxs("div",{className:"max-w-4xl mx-auto text-center",children:[p.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-white mb-6",children:"Interested in Investing?"}),p.jsx("p",{className:"text-xl text-gray-300 mb-8 max-w-2xl mx-auto",children:"Revolutionizing music production with human-first AI. Join us."}),p.jsx("a",{href:"mailto:dustinspaceproductions@gmail.com?subject=Investment Inquiry - TrackGuide AI",className:"bg-orange-500 hover:bg-orange-600 text-white px-8 py-3 rounded-lg font-bold text-lg transition-all transform hover:scale-105 inline-flex items-center space-x-2 shadow-xl",children:p.jsx("span",{children:"Contact for Investment Opportunities"})})]})}),p.jsx("footer",{className:"px-6 py-12 border-t border-orange-500/20 bg-black/20",children:p.jsx("div",{className:"max-w-7xl mx-auto",children:p.jsxs("div",{className:"flex flex-col md:flex-row items-center justify-between",children:[p.jsxs("div",{className:"flex items-center space-x-3 mb-4 md:mb-0",children:[p.jsx("div",{className:"w-6 h-6 bg-orange-500 transform rotate-45 flex items-center justify-center",children:p.jsx("div",{className:"w-3 h-3 bg-white transform -rotate-45"})}),p.jsxs("div",{children:[p.jsx("div",{className:"text-lg font-bold text-white",children:"TrackGuide AI"}),p.jsx("div",{className:"text-xs text-gray-400",children:"AI Studio Assistant for Music Creators"})]})]}),p.jsxs("div",{className:"text-gray-400 text-center md:text-right text-sm space-y-1",children:[p.jsx("p",{children:"© 2025 TrackGuide. Empowering music creators worldwide."}),p.jsxs("p",{children:[p.jsx("a",{href:"#",className:"hover:text-orange-400 mr-4",children:"Privacy Policy"}),p.jsx("a",{href:"#",className:"hover:text-orange-400",children:"Terms of Service"})]})]})]})})})]})};function Fy(e){const t=[],n=String(e||"");let r=n.indexOf(","),o=0,l=!1;for(;!l;){r===-1&&(r=n.length,l=!0);const u=n.slice(o,r).trim();(u||!l)&&t.push(u),o=r+1,r=n.indexOf(",",o)}return t}function Nb(e,t){const n={};return(e[e.length-1]===""?[...e,""]:e).join((n.padRight?" ":"")+","+(n.padLeft===!1?"":" ")).trim()}const _I=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,II=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,NI={};function Hy(e,t){return(NI.jsx?II:_I).test(e)}const MI=/[ \t\n\f\r]/g;function DI(e){return typeof e=="object"?e.type==="text"?Uy(e.value):!1:Uy(e)}function Uy(e){return e.replace(MI,"")===""}let Rs=class{constructor(t,n,r){this.normal=n,this.property=t,r&&(this.space=r)}};Rs.prototype.normal={};Rs.prototype.property={};Rs.prototype.space=void 0;function Mb(e,t){const n={},r={};for(const o of e)Object.assign(n,o.property),Object.assign(r,o.normal);return new Rs(n,r,t)}function As(e){return e.toLowerCase()}let gn=class{constructor(t,n){this.attribute=n,this.property=t}};gn.prototype.attribute="";gn.prototype.booleanish=!1;gn.prototype.boolean=!1;gn.prototype.commaOrSpaceSeparated=!1;gn.prototype.commaSeparated=!1;gn.prototype.defined=!1;gn.prototype.mustUseProperty=!1;gn.prototype.number=!1;gn.prototype.overloadedBoolean=!1;gn.prototype.property="";gn.prototype.spaceSeparated=!1;gn.prototype.space=void 0;let RI=0;const Ye=qi(),Lt=qi(),qf=qi(),xe=qi(),bt=qi(),zr=qi(),An=qi();function qi(){return 2**++RI}const Yf=Object.freeze(Object.defineProperty({__proto__:null,boolean:Ye,booleanish:Lt,commaOrSpaceSeparated:An,commaSeparated:zr,number:xe,overloadedBoolean:qf,spaceSeparated:bt},Symbol.toStringTag,{value:"Module"})),df=Object.keys(Yf);let mm=class extends gn{constructor(t,n,r,o){let l=-1;if(super(t,n),Vy(this,"space",o),typeof r=="number")for(;++l<df.length;){const u=df[l];Vy(this,df[l],(r&Yf[u])===Yf[u])}}};mm.prototype.defined=!0;function Vy(e,t,n){n&&(e[t]=n)}function $r(e){const t={},n={};for(const[r,o]of Object.entries(e.properties)){const l=new mm(r,e.transform(e.attributes||{},r),o,e.space);e.mustUseProperty&&e.mustUseProperty.includes(r)&&(l.mustUseProperty=!0),t[r]=l,n[As(r)]=r,n[As(l.attribute)]=r}return new Rs(t,n,e.space)}const Db=$r({properties:{ariaActiveDescendant:null,ariaAtomic:Lt,ariaAutoComplete:null,ariaBusy:Lt,ariaChecked:Lt,ariaColCount:xe,ariaColIndex:xe,ariaColSpan:xe,ariaControls:bt,ariaCurrent:null,ariaDescribedBy:bt,ariaDetails:null,ariaDisabled:Lt,ariaDropEffect:bt,ariaErrorMessage:null,ariaExpanded:Lt,ariaFlowTo:bt,ariaGrabbed:Lt,ariaHasPopup:null,ariaHidden:Lt,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:bt,ariaLevel:xe,ariaLive:null,ariaModal:Lt,ariaMultiLine:Lt,ariaMultiSelectable:Lt,ariaOrientation:null,ariaOwns:bt,ariaPlaceholder:null,ariaPosInSet:xe,ariaPressed:Lt,ariaReadOnly:Lt,ariaRelevant:null,ariaRequired:Lt,ariaRoleDescription:bt,ariaRowCount:xe,ariaRowIndex:xe,ariaRowSpan:xe,ariaSelected:Lt,ariaSetSize:xe,ariaSort:null,ariaValueMax:xe,ariaValueMin:xe,ariaValueNow:xe,ariaValueText:null,role:null},transform(e,t){return t==="role"?t:"aria-"+t.slice(4).toLowerCase()}});function Rb(e,t){return t in e?e[t]:t}function kb(e,t){return Rb(e,t.toLowerCase())}const kI=$r({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:zr,acceptCharset:bt,accessKey:bt,action:null,allow:null,allowFullScreen:Ye,allowPaymentRequest:Ye,allowUserMedia:Ye,alt:null,as:null,async:Ye,autoCapitalize:null,autoComplete:bt,autoFocus:Ye,autoPlay:Ye,blocking:bt,capture:null,charSet:null,checked:Ye,cite:null,className:bt,cols:xe,colSpan:null,content:null,contentEditable:Lt,controls:Ye,controlsList:bt,coords:xe|zr,crossOrigin:null,data:null,dateTime:null,decoding:null,default:Ye,defer:Ye,dir:null,dirName:null,disabled:Ye,download:qf,draggable:Lt,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:Ye,formTarget:null,headers:bt,height:xe,hidden:qf,high:xe,href:null,hrefLang:null,htmlFor:bt,httpEquiv:bt,id:null,imageSizes:null,imageSrcSet:null,inert:Ye,inputMode:null,integrity:null,is:null,isMap:Ye,itemId:null,itemProp:bt,itemRef:bt,itemScope:Ye,itemType:bt,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:Ye,low:xe,manifest:null,max:null,maxLength:xe,media:null,method:null,min:null,minLength:xe,multiple:Ye,muted:Ye,name:null,nonce:null,noModule:Ye,noValidate:Ye,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:Ye,optimum:xe,pattern:null,ping:bt,placeholder:null,playsInline:Ye,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:Ye,referrerPolicy:null,rel:bt,required:Ye,reversed:Ye,rows:xe,rowSpan:xe,sandbox:bt,scope:null,scoped:Ye,seamless:Ye,selected:Ye,shadowRootClonable:Ye,shadowRootDelegatesFocus:Ye,shadowRootMode:null,shape:null,size:xe,sizes:null,slot:null,span:xe,spellCheck:Lt,src:null,srcDoc:null,srcLang:null,srcSet:null,start:xe,step:null,style:null,tabIndex:xe,target:null,title:null,translate:null,type:null,typeMustMatch:Ye,useMap:null,value:Lt,width:xe,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:bt,axis:null,background:null,bgColor:null,border:xe,borderColor:null,bottomMargin:xe,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:Ye,declare:Ye,event:null,face:null,frame:null,frameBorder:null,hSpace:xe,leftMargin:xe,link:null,longDesc:null,lowSrc:null,marginHeight:xe,marginWidth:xe,noResize:Ye,noHref:Ye,noShade:Ye,noWrap:Ye,object:null,profile:null,prompt:null,rev:null,rightMargin:xe,rules:null,scheme:null,scrolling:Lt,standby:null,summary:null,text:null,topMargin:xe,valueType:null,version:null,vAlign:null,vLink:null,vSpace:xe,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:Ye,disableRemotePlayback:Ye,prefix:null,property:null,results:xe,security:null,unselectable:null},space:"html",transform:kb}),wI=$r({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:An,accentHeight:xe,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:xe,amplitude:xe,arabicForm:null,ascent:xe,attributeName:null,attributeType:null,azimuth:xe,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:xe,by:null,calcMode:null,capHeight:xe,className:bt,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:xe,diffuseConstant:xe,direction:null,display:null,dur:null,divisor:xe,dominantBaseline:null,download:Ye,dx:null,dy:null,edgeMode:null,editable:null,elevation:xe,enableBackground:null,end:null,event:null,exponent:xe,externalResourcesRequired:null,fill:null,fillOpacity:xe,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:zr,g2:zr,glyphName:zr,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:xe,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:xe,horizOriginX:xe,horizOriginY:xe,id:null,ideographic:xe,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:xe,k:xe,k1:xe,k2:xe,k3:xe,k4:xe,kernelMatrix:An,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:xe,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:xe,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:xe,overlineThickness:xe,paintOrder:null,panose1:null,path:null,pathLength:xe,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:bt,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:xe,pointsAtY:xe,pointsAtZ:xe,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:An,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:An,rev:An,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:An,requiredFeatures:An,requiredFonts:An,requiredFormats:An,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:xe,specularExponent:xe,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:xe,strikethroughThickness:xe,string:null,stroke:null,strokeDashArray:An,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:xe,strokeOpacity:xe,strokeWidth:null,style:null,surfaceScale:xe,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:An,tabIndex:xe,tableValues:null,target:null,targetX:xe,targetY:xe,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:An,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:xe,underlineThickness:xe,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:xe,values:null,vAlphabetic:xe,vMathematical:xe,vectorEffect:null,vHanging:xe,vIdeographic:xe,version:null,vertAdvY:xe,vertOriginX:xe,vertOriginY:xe,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:xe,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:Rb}),wb=$r({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform(e,t){return"xlink:"+t.slice(5).toLowerCase()}}),Lb=$r({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:kb}),Ob=$r({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform(e,t){return"xml:"+t.slice(3).toLowerCase()}}),LI={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},OI=/[A-Z]/g,zy=/-[a-z]/g,PI=/^data[-\w.:]+$/i;function hm(e,t){const n=As(t);let r=t,o=gn;if(n in e.normal)return e.property[e.normal[n]];if(n.length>4&&n.slice(0,4)==="data"&&PI.test(t)){if(t.charAt(4)==="-"){const l=t.slice(5).replace(zy,FI);r="data"+l.charAt(0).toUpperCase()+l.slice(1)}else{const l=t.slice(4);if(!zy.test(l)){let u=l.replace(OI,BI);u.charAt(0)!=="-"&&(u="-"+u),t="data"+u}}o=mm}return new o(r,t)}function BI(e){return"-"+e.toLowerCase()}function FI(e){return e.charAt(1).toUpperCase()}const Lu=Mb([Db,kI,wb,Lb,Ob],"html"),Xr=Mb([Db,wI,wb,Lb,Ob],"svg");function jy(e){const t=String(e||"").trim();return t?t.split(/[ \t\n\r\f]+/g):[]}function Pb(e){return e.join(" ").trim()}var Or={},ff,Gy;function HI(){if(Gy)return ff;Gy=1;var e=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,t=/\n/g,n=/^\s*/,r=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,o=/^:\s*/,l=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,u=/^[;\s]*/,f=/^\s+|\s+$/g,m=`
`,d="/",g="*",x="",v="comment",S="declaration";ff=function(D,U){if(typeof D!="string")throw new TypeError("First argument must be a string");if(!D)return[];U=U||{};var L=1,K=1;function G(Ce){var me=Ce.match(t);me&&(L+=me.length);var ie=Ce.lastIndexOf(m);K=~ie?Ce.length-ie:K+Ce.length}function $(){var Ce={line:L,column:K};return function(me){return me.position=new B(Ce),ye(),me}}function B(Ce){this.start=Ce,this.end={line:L,column:K},this.source=U.source}B.prototype.content=D;function z(Ce){var me=new Error(U.source+":"+L+":"+K+": "+Ce);if(me.reason=Ce,me.filename=U.source,me.line=L,me.column=K,me.source=D,!U.silent)throw me}function se(Ce){var me=Ce.exec(D);if(me){var ie=me[0];return G(ie),D=D.slice(ie.length),me}}function ye(){se(n)}function Ae(Ce){var me;for(Ce=Ce||[];me=q();)me!==!1&&Ce.push(me);return Ce}function q(){var Ce=$();if(!(d!=D.charAt(0)||g!=D.charAt(1))){for(var me=2;x!=D.charAt(me)&&(g!=D.charAt(me)||d!=D.charAt(me+1));)++me;if(me+=2,x===D.charAt(me-1))return z("End of comment missing");var ie=D.slice(2,me-2);return K+=2,G(ie),D=D.slice(me),K+=2,Ce({type:v,comment:ie})}}function be(){var Ce=$(),me=se(r);if(me){if(q(),!se(o))return z("property missing ':'");var ie=se(l),W=Ce({type:S,property:_(me[0].replace(e,x)),value:ie?_(ie[0].replace(e,x)):x});return se(u),W}}function Ee(){var Ce=[];Ae(Ce);for(var me;me=be();)me!==!1&&(Ce.push(me),Ae(Ce));return Ce}return ye(),Ee()};function _(D){return D?D.replace(f,x):x}return ff}var qy;function UI(){if(qy)return Or;qy=1;var e=Or&&Or.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Or,"__esModule",{value:!0}),Or.default=n;var t=e(HI());function n(r,o){var l=null;if(!r||typeof r!="string")return l;var u=(0,t.default)(r),f=typeof o=="function";return u.forEach(function(m){if(m.type==="declaration"){var d=m.property,g=m.value;f?o(d,g,m):g&&(l=l||{},l[d]=g)}}),l}return Or}var as={},Yy;function VI(){if(Yy)return as;Yy=1,Object.defineProperty(as,"__esModule",{value:!0}),as.camelCase=void 0;var e=/^--[a-zA-Z0-9_-]+$/,t=/-([a-z])/g,n=/^[^-]+$/,r=/^-(webkit|moz|ms|o|khtml)-/,o=/^-(ms)-/,l=function(d){return!d||n.test(d)||e.test(d)},u=function(d,g){return g.toUpperCase()},f=function(d,g){return"".concat(g,"-")},m=function(d,g){return g===void 0&&(g={}),l(d)?d:(d=d.toLowerCase(),g.reactCompat?d=d.replace(o,f):d=d.replace(r,f),d.replace(t,u))};return as.camelCase=m,as}var is,Qy;function zI(){if(Qy)return is;Qy=1;var e=is&&is.__importDefault||function(o){return o&&o.__esModule?o:{default:o}},t=e(UI()),n=VI();function r(o,l){var u={};return!o||typeof o!="string"||(0,t.default)(o,function(f,m){f&&m&&(u[(0,n.camelCase)(f,l)]=m)}),u}return r.default=r,is=r,is}var jI=zI();const GI=Ms(jI),Ou=Bb("end"),ua=Bb("start");function Bb(e){return t;function t(n){const r=n&&n.position&&n.position[e]||{};if(typeof r.line=="number"&&r.line>0&&typeof r.column=="number"&&r.column>0)return{line:r.line,column:r.column,offset:typeof r.offset=="number"&&r.offset>-1?r.offset:void 0}}}function qI(e){const t=ua(e),n=Ou(e);if(t&&n)return{start:t,end:n}}function ms(e){return!e||typeof e!="object"?"":"position"in e||"type"in e?Ky(e.position):"start"in e||"end"in e?Ky(e):"line"in e||"column"in e?Qf(e):""}function Qf(e){return $y(e&&e.line)+":"+$y(e&&e.column)}function Ky(e){return Qf(e&&e.start)+"-"+Qf(e&&e.end)}function $y(e){return e&&typeof e=="number"?e:1}class Zt extends Error{constructor(t,n,r){super(),typeof n=="string"&&(r=n,n=void 0);let o="",l={},u=!1;if(n&&("line"in n&&"column"in n?l={place:n}:"start"in n&&"end"in n?l={place:n}:"type"in n?l={ancestors:[n],place:n.position}:l={...n}),typeof t=="string"?o=t:!l.cause&&t&&(u=!0,o=t.message,l.cause=t),!l.ruleId&&!l.source&&typeof r=="string"){const m=r.indexOf(":");m===-1?l.ruleId=r:(l.source=r.slice(0,m),l.ruleId=r.slice(m+1))}if(!l.place&&l.ancestors&&l.ancestors){const m=l.ancestors[l.ancestors.length-1];m&&(l.place=m.position)}const f=l.place&&"start"in l.place?l.place.start:l.place;this.ancestors=l.ancestors||void 0,this.cause=l.cause||void 0,this.column=f?f.column:void 0,this.fatal=void 0,this.file,this.message=o,this.line=f?f.line:void 0,this.name=ms(l.place)||"1:1",this.place=l.place||void 0,this.reason=this.message,this.ruleId=l.ruleId||void 0,this.source=l.source||void 0,this.stack=u&&l.cause&&typeof l.cause.stack=="string"?l.cause.stack:"",this.actual,this.expected,this.note,this.url}}Zt.prototype.file="";Zt.prototype.name="";Zt.prototype.reason="";Zt.prototype.message="";Zt.prototype.stack="";Zt.prototype.column=void 0;Zt.prototype.line=void 0;Zt.prototype.ancestors=void 0;Zt.prototype.cause=void 0;Zt.prototype.fatal=void 0;Zt.prototype.place=void 0;Zt.prototype.ruleId=void 0;Zt.prototype.source=void 0;const pm={}.hasOwnProperty,YI=new Map,QI=/[A-Z]/g,KI=new Set(["table","tbody","thead","tfoot","tr"]),$I=new Set(["td","th"]),Fb="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function XI(e,t){if(!t||t.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const n=t.filePath||void 0;let r;if(t.development){if(typeof t.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");r=iN(n,t.jsxDEV)}else{if(typeof t.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof t.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");r=aN(n,t.jsx,t.jsxs)}const o={Fragment:t.Fragment,ancestors:[],components:t.components||{},create:r,elementAttributeNameCase:t.elementAttributeNameCase||"react",evaluater:t.createEvaluater?t.createEvaluater():void 0,filePath:n,ignoreInvalidStyle:t.ignoreInvalidStyle||!1,passKeys:t.passKeys!==!1,passNode:t.passNode||!1,schema:t.space==="svg"?Xr:Lu,stylePropertyNameCase:t.stylePropertyNameCase||"dom",tableCellAlignToStyle:t.tableCellAlignToStyle!==!1},l=Hb(o,e,void 0);return l&&typeof l!="string"?l:o.create(e,o.Fragment,{children:l||void 0},void 0)}function Hb(e,t,n){if(t.type==="element")return WI(e,t,n);if(t.type==="mdxFlowExpression"||t.type==="mdxTextExpression")return JI(e,t);if(t.type==="mdxJsxFlowElement"||t.type==="mdxJsxTextElement")return eN(e,t,n);if(t.type==="mdxjsEsm")return ZI(e,t);if(t.type==="root")return tN(e,t,n);if(t.type==="text")return nN(e,t)}function WI(e,t,n){const r=e.schema;let o=r;t.tagName.toLowerCase()==="svg"&&r.space==="html"&&(o=Xr,e.schema=o),e.ancestors.push(t);const l=Vb(e,t.tagName,!1),u=rN(e,t);let f=ym(e,t);return KI.has(t.tagName)&&(f=f.filter(function(m){return typeof m=="string"?!DI(m):!0})),Ub(e,u,l,t),gm(u,f),e.ancestors.pop(),e.schema=r,e.create(t,l,u,n)}function JI(e,t){if(t.data&&t.data.estree&&e.evaluater){const r=t.data.estree.body[0];return r.type,e.evaluater.evaluateExpression(r.expression)}_s(e,t.position)}function ZI(e,t){if(t.data&&t.data.estree&&e.evaluater)return e.evaluater.evaluateProgram(t.data.estree);_s(e,t.position)}function eN(e,t,n){const r=e.schema;let o=r;t.name==="svg"&&r.space==="html"&&(o=Xr,e.schema=o),e.ancestors.push(t);const l=t.name===null?e.Fragment:Vb(e,t.name,!0),u=oN(e,t),f=ym(e,t);return Ub(e,u,l,t),gm(u,f),e.ancestors.pop(),e.schema=r,e.create(t,l,u,n)}function tN(e,t,n){const r={};return gm(r,ym(e,t)),e.create(t,e.Fragment,r,n)}function nN(e,t){return t.value}function Ub(e,t,n,r){typeof n!="string"&&n!==e.Fragment&&e.passNode&&(t.node=r)}function gm(e,t){if(t.length>0){const n=t.length>1?t:t[0];n&&(e.children=n)}}function aN(e,t,n){return r;function r(o,l,u,f){const d=Array.isArray(u.children)?n:t;return f?d(l,u,f):d(l,u)}}function iN(e,t){return n;function n(r,o,l,u){const f=Array.isArray(l.children),m=ua(r);return t(o,l,u,f,{columnNumber:m?m.column-1:void 0,fileName:e,lineNumber:m?m.line:void 0},void 0)}}function rN(e,t){const n={};let r,o;for(o in t.properties)if(o!=="children"&&pm.call(t.properties,o)){const l=sN(e,o,t.properties[o]);if(l){const[u,f]=l;e.tableCellAlignToStyle&&u==="align"&&typeof f=="string"&&$I.has(t.tagName)?r=f:n[u]=f}}if(r){const l=n.style||(n.style={});l[e.stylePropertyNameCase==="css"?"text-align":"textAlign"]=r}return n}function oN(e,t){const n={};for(const r of t.attributes)if(r.type==="mdxJsxExpressionAttribute")if(r.data&&r.data.estree&&e.evaluater){const l=r.data.estree.body[0];l.type;const u=l.expression;u.type;const f=u.properties[0];f.type,Object.assign(n,e.evaluater.evaluateExpression(f.argument))}else _s(e,t.position);else{const o=r.name;let l;if(r.value&&typeof r.value=="object")if(r.value.data&&r.value.data.estree&&e.evaluater){const f=r.value.data.estree.body[0];f.type,l=e.evaluater.evaluateExpression(f.expression)}else _s(e,t.position);else l=r.value===null?!0:r.value;n[o]=l}return n}function ym(e,t){const n=[];let r=-1;const o=e.passKeys?new Map:YI;for(;++r<t.children.length;){const l=t.children[r];let u;if(e.passKeys){const m=l.type==="element"?l.tagName:l.type==="mdxJsxFlowElement"||l.type==="mdxJsxTextElement"?l.name:void 0;if(m){const d=o.get(m)||0;u=m+"-"+d,o.set(m,d+1)}}const f=Hb(e,l,u);f!==void 0&&n.push(f)}return n}function sN(e,t,n){const r=hm(e.schema,t);if(!(n==null||typeof n=="number"&&Number.isNaN(n))){if(Array.isArray(n)&&(n=r.commaSeparated?Nb(n):Pb(n)),r.property==="style"){let o=typeof n=="object"?n:lN(e,String(n));return e.stylePropertyNameCase==="css"&&(o=uN(o)),["style",o]}return[e.elementAttributeNameCase==="react"&&r.space?LI[r.property]||r.property:r.attribute,n]}}function lN(e,t){try{return GI(t,{reactCompat:!0})}catch(n){if(e.ignoreInvalidStyle)return{};const r=n,o=new Zt("Cannot parse `style` attribute",{ancestors:e.ancestors,cause:r,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw o.file=e.filePath||void 0,o.url=Fb+"#cannot-parse-style-attribute",o}}function Vb(e,t,n){let r;if(!n)r={type:"Literal",value:t};else if(t.includes(".")){const o=t.split(".");let l=-1,u;for(;++l<o.length;){const f=Hy(o[l])?{type:"Identifier",name:o[l]}:{type:"Literal",value:o[l]};u=u?{type:"MemberExpression",object:u,property:f,computed:!!(l&&f.type==="Literal"),optional:!1}:f}r=u}else r=Hy(t)&&!/^[a-z]/.test(t)?{type:"Identifier",name:t}:{type:"Literal",value:t};if(r.type==="Literal"){const o=r.value;return pm.call(e.components,o)?e.components[o]:o}if(e.evaluater)return e.evaluater.evaluateExpression(r);_s(e)}function _s(e,t){const n=new Zt("Cannot handle MDX estrees without `createEvaluater`",{ancestors:e.ancestors,place:t,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw n.file=e.filePath||void 0,n.url=Fb+"#cannot-handle-mdx-estrees-without-createevaluater",n}function uN(e){const t={};let n;for(n in e)pm.call(e,n)&&(t[cN(n)]=e[n]);return t}function cN(e){let t=e.replace(QI,dN);return t.slice(0,3)==="ms-"&&(t="-"+t),t}function dN(e){return"-"+e.toLowerCase()}const mf={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},fN={};function bm(e,t){const n=fN,r=typeof n.includeImageAlt=="boolean"?n.includeImageAlt:!0,o=typeof n.includeHtml=="boolean"?n.includeHtml:!0;return zb(e,r,o)}function zb(e,t,n){if(mN(e)){if("value"in e)return e.type==="html"&&!n?"":e.value;if(t&&"alt"in e&&e.alt)return e.alt;if("children"in e)return Xy(e.children,t,n)}return Array.isArray(e)?Xy(e,t,n):""}function Xy(e,t,n){const r=[];let o=-1;for(;++o<e.length;)r[o]=zb(e[o],t,n);return r.join("")}function mN(e){return!!(e&&typeof e=="object")}const Wy=document.createElement("i");function Tm(e){const t="&"+e+";";Wy.innerHTML=t;const n=Wy.textContent;return n.charCodeAt(n.length-1)===59&&e!=="semi"||n===t?!1:n}function Nn(e,t,n,r){const o=e.length;let l=0,u;if(t<0?t=-t>o?0:o+t:t=t>o?o:t,n=n>0?n:0,r.length<1e4)u=Array.from(r),u.unshift(t,n),e.splice(...u);else for(n&&e.splice(t,n);l<r.length;)u=r.slice(l,l+1e4),u.unshift(t,0),e.splice(...u),l+=1e4,t+=1e4}function Un(e,t){return e.length>0?(Nn(e,e.length,0,t),e):t}const Jy={}.hasOwnProperty;function jb(e){const t={};let n=-1;for(;++n<e.length;)hN(t,e[n]);return t}function hN(e,t){let n;for(n in t){const o=(Jy.call(e,n)?e[n]:void 0)||(e[n]={}),l=t[n];let u;if(l)for(u in l){Jy.call(o,u)||(o[u]=[]);const f=l[u];pN(o[u],Array.isArray(f)?f:f?[f]:[])}}}function pN(e,t){let n=-1;const r=[];for(;++n<t.length;)(t[n].add==="after"?e:r).push(t[n]);Nn(e,0,0,r)}function Gb(e,t){const n=Number.parseInt(e,t);return n<9||n===11||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||(n&65535)===65535||(n&65535)===65534||n>1114111?"�":String.fromCodePoint(n)}function Jn(e){return e.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const rn=di(/[A-Za-z]/),Jt=di(/[\dA-Za-z]/),gN=di(/[#-'*+\--9=?A-Z^-~]/);function xu(e){return e!==null&&(e<32||e===127)}const Kf=di(/\d/),yN=di(/[\dA-Fa-f]/),bN=di(/[!-/:-@[-`{-~]/);function Oe(e){return e!==null&&e<-2}function gt(e){return e!==null&&(e<0||e===32)}function et(e){return e===-2||e===-1||e===32}const Pu=di(new RegExp("\\p{P}|\\p{S}","u")),zi=di(/\s/);function di(e){return t;function t(n){return n!==null&&n>-1&&e.test(String.fromCharCode(n))}}function Wr(e){const t=[];let n=-1,r=0,o=0;for(;++n<e.length;){const l=e.charCodeAt(n);let u="";if(l===37&&Jt(e.charCodeAt(n+1))&&Jt(e.charCodeAt(n+2)))o=2;else if(l<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(l))||(u=String.fromCharCode(l));else if(l>55295&&l<57344){const f=e.charCodeAt(n+1);l<56320&&f>56319&&f<57344?(u=String.fromCharCode(l,f),o=1):u="�"}else u=String.fromCharCode(l);u&&(t.push(e.slice(r,n),encodeURIComponent(u)),r=n+o+1,u=""),o&&(n+=o,o=0)}return t.join("")+e.slice(r)}function at(e,t,n,r){const o=r?r-1:Number.POSITIVE_INFINITY;let l=0;return u;function u(m){return et(m)?(e.enter(n),f(m)):t(m)}function f(m){return et(m)&&l++<o?(e.consume(m),f):(e.exit(n),t(m))}}const TN={tokenize:EN};function EN(e){const t=e.attempt(this.parser.constructs.contentInitial,r,o);let n;return t;function r(f){if(f===null){e.consume(f);return}return e.enter("lineEnding"),e.consume(f),e.exit("lineEnding"),at(e,t,"linePrefix")}function o(f){return e.enter("paragraph"),l(f)}function l(f){const m=e.enter("chunkText",{contentType:"text",previous:n});return n&&(n.next=m),n=m,u(f)}function u(f){if(f===null){e.exit("chunkText"),e.exit("paragraph"),e.consume(f);return}return Oe(f)?(e.consume(f),e.exit("chunkText"),l):(e.consume(f),u)}}const xN={tokenize:vN},Zy={tokenize:CN};function vN(e){const t=this,n=[];let r=0,o,l,u;return f;function f(G){if(r<n.length){const $=n[r];return t.containerState=$[1],e.attempt($[0].continuation,m,d)(G)}return d(G)}function m(G){if(r++,t.containerState._closeFlow){t.containerState._closeFlow=void 0,o&&K();const $=t.events.length;let B=$,z;for(;B--;)if(t.events[B][0]==="exit"&&t.events[B][1].type==="chunkFlow"){z=t.events[B][1].end;break}L(r);let se=$;for(;se<t.events.length;)t.events[se][1].end={...z},se++;return Nn(t.events,B+1,0,t.events.slice($)),t.events.length=se,d(G)}return f(G)}function d(G){if(r===n.length){if(!o)return v(G);if(o.currentConstruct&&o.currentConstruct.concrete)return _(G);t.interrupt=!!(o.currentConstruct&&!o._gfmTableDynamicInterruptHack)}return t.containerState={},e.check(Zy,g,x)(G)}function g(G){return o&&K(),L(r),v(G)}function x(G){return t.parser.lazy[t.now().line]=r!==n.length,u=t.now().offset,_(G)}function v(G){return t.containerState={},e.attempt(Zy,S,_)(G)}function S(G){return r++,n.push([t.currentConstruct,t.containerState]),v(G)}function _(G){if(G===null){o&&K(),L(0),e.consume(G);return}return o=o||t.parser.flow(t.now()),e.enter("chunkFlow",{_tokenizer:o,contentType:"flow",previous:l}),D(G)}function D(G){if(G===null){U(e.exit("chunkFlow"),!0),L(0),e.consume(G);return}return Oe(G)?(e.consume(G),U(e.exit("chunkFlow")),r=0,t.interrupt=void 0,f):(e.consume(G),D)}function U(G,$){const B=t.sliceStream(G);if($&&B.push(null),G.previous=l,l&&(l.next=G),l=G,o.defineSkip(G.start),o.write(B),t.parser.lazy[G.start.line]){let z=o.events.length;for(;z--;)if(o.events[z][1].start.offset<u&&(!o.events[z][1].end||o.events[z][1].end.offset>u))return;const se=t.events.length;let ye=se,Ae,q;for(;ye--;)if(t.events[ye][0]==="exit"&&t.events[ye][1].type==="chunkFlow"){if(Ae){q=t.events[ye][1].end;break}Ae=!0}for(L(r),z=se;z<t.events.length;)t.events[z][1].end={...q},z++;Nn(t.events,ye+1,0,t.events.slice(se)),t.events.length=z}}function L(G){let $=n.length;for(;$-- >G;){const B=n[$];t.containerState=B[1],B[0].exit.call(t,e)}n.length=G}function K(){o.write([null]),l=void 0,o=void 0,t.containerState._closeFlow=void 0}}function CN(e,t,n){return at(e,e.attempt(this.parser.constructs.document,t,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function Gr(e){if(e===null||gt(e)||zi(e))return 1;if(Pu(e))return 2}function Bu(e,t,n){const r=[];let o=-1;for(;++o<e.length;){const l=e[o].resolveAll;l&&!r.includes(l)&&(t=l(t,n),r.push(l))}return t}const $f={name:"attention",resolveAll:SN,tokenize:AN};function SN(e,t){let n=-1,r,o,l,u,f,m,d,g;for(;++n<e.length;)if(e[n][0]==="enter"&&e[n][1].type==="attentionSequence"&&e[n][1]._close){for(r=n;r--;)if(e[r][0]==="exit"&&e[r][1].type==="attentionSequence"&&e[r][1]._open&&t.sliceSerialize(e[r][1]).charCodeAt(0)===t.sliceSerialize(e[n][1]).charCodeAt(0)){if((e[r][1]._close||e[n][1]._open)&&(e[n][1].end.offset-e[n][1].start.offset)%3&&!((e[r][1].end.offset-e[r][1].start.offset+e[n][1].end.offset-e[n][1].start.offset)%3))continue;m=e[r][1].end.offset-e[r][1].start.offset>1&&e[n][1].end.offset-e[n][1].start.offset>1?2:1;const x={...e[r][1].end},v={...e[n][1].start};e1(x,-m),e1(v,m),u={type:m>1?"strongSequence":"emphasisSequence",start:x,end:{...e[r][1].end}},f={type:m>1?"strongSequence":"emphasisSequence",start:{...e[n][1].start},end:v},l={type:m>1?"strongText":"emphasisText",start:{...e[r][1].end},end:{...e[n][1].start}},o={type:m>1?"strong":"emphasis",start:{...u.start},end:{...f.end}},e[r][1].end={...u.start},e[n][1].start={...f.end},d=[],e[r][1].end.offset-e[r][1].start.offset&&(d=Un(d,[["enter",e[r][1],t],["exit",e[r][1],t]])),d=Un(d,[["enter",o,t],["enter",u,t],["exit",u,t],["enter",l,t]]),d=Un(d,Bu(t.parser.constructs.insideSpan.null,e.slice(r+1,n),t)),d=Un(d,[["exit",l,t],["enter",f,t],["exit",f,t],["exit",o,t]]),e[n][1].end.offset-e[n][1].start.offset?(g=2,d=Un(d,[["enter",e[n][1],t],["exit",e[n][1],t]])):g=0,Nn(e,r-1,n-r+3,d),n=r+d.length-g-2;break}}for(n=-1;++n<e.length;)e[n][1].type==="attentionSequence"&&(e[n][1].type="data");return e}function AN(e,t){const n=this.parser.constructs.attentionMarkers.null,r=this.previous,o=Gr(r);let l;return u;function u(m){return l=m,e.enter("attentionSequence"),f(m)}function f(m){if(m===l)return e.consume(m),f;const d=e.exit("attentionSequence"),g=Gr(m),x=!g||g===2&&o||n.includes(m),v=!o||o===2&&g||n.includes(r);return d._open=!!(l===42?x:x&&(o||!v)),d._close=!!(l===42?v:v&&(g||!x)),t(m)}}function e1(e,t){e.column+=t,e.offset+=t,e._bufferIndex+=t}const _N={name:"autolink",tokenize:IN};function IN(e,t,n){let r=0;return o;function o(S){return e.enter("autolink"),e.enter("autolinkMarker"),e.consume(S),e.exit("autolinkMarker"),e.enter("autolinkProtocol"),l}function l(S){return rn(S)?(e.consume(S),u):S===64?n(S):d(S)}function u(S){return S===43||S===45||S===46||Jt(S)?(r=1,f(S)):d(S)}function f(S){return S===58?(e.consume(S),r=0,m):(S===43||S===45||S===46||Jt(S))&&r++<32?(e.consume(S),f):(r=0,d(S))}function m(S){return S===62?(e.exit("autolinkProtocol"),e.enter("autolinkMarker"),e.consume(S),e.exit("autolinkMarker"),e.exit("autolink"),t):S===null||S===32||S===60||xu(S)?n(S):(e.consume(S),m)}function d(S){return S===64?(e.consume(S),g):gN(S)?(e.consume(S),d):n(S)}function g(S){return Jt(S)?x(S):n(S)}function x(S){return S===46?(e.consume(S),r=0,g):S===62?(e.exit("autolinkProtocol").type="autolinkEmail",e.enter("autolinkMarker"),e.consume(S),e.exit("autolinkMarker"),e.exit("autolink"),t):v(S)}function v(S){if((S===45||Jt(S))&&r++<63){const _=S===45?v:x;return e.consume(S),_}return n(S)}}const ks={partial:!0,tokenize:NN};function NN(e,t,n){return r;function r(l){return et(l)?at(e,o,"linePrefix")(l):o(l)}function o(l){return l===null||Oe(l)?t(l):n(l)}}const qb={continuation:{tokenize:DN},exit:RN,name:"blockQuote",tokenize:MN};function MN(e,t,n){const r=this;return o;function o(u){if(u===62){const f=r.containerState;return f.open||(e.enter("blockQuote",{_container:!0}),f.open=!0),e.enter("blockQuotePrefix"),e.enter("blockQuoteMarker"),e.consume(u),e.exit("blockQuoteMarker"),l}return n(u)}function l(u){return et(u)?(e.enter("blockQuotePrefixWhitespace"),e.consume(u),e.exit("blockQuotePrefixWhitespace"),e.exit("blockQuotePrefix"),t):(e.exit("blockQuotePrefix"),t(u))}}function DN(e,t,n){const r=this;return o;function o(u){return et(u)?at(e,l,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(u):l(u)}function l(u){return e.attempt(qb,t,n)(u)}}function RN(e){e.exit("blockQuote")}const Yb={name:"characterEscape",tokenize:kN};function kN(e,t,n){return r;function r(l){return e.enter("characterEscape"),e.enter("escapeMarker"),e.consume(l),e.exit("escapeMarker"),o}function o(l){return bN(l)?(e.enter("characterEscapeValue"),e.consume(l),e.exit("characterEscapeValue"),e.exit("characterEscape"),t):n(l)}}const Qb={name:"characterReference",tokenize:wN};function wN(e,t,n){const r=this;let o=0,l,u;return f;function f(x){return e.enter("characterReference"),e.enter("characterReferenceMarker"),e.consume(x),e.exit("characterReferenceMarker"),m}function m(x){return x===35?(e.enter("characterReferenceMarkerNumeric"),e.consume(x),e.exit("characterReferenceMarkerNumeric"),d):(e.enter("characterReferenceValue"),l=31,u=Jt,g(x))}function d(x){return x===88||x===120?(e.enter("characterReferenceMarkerHexadecimal"),e.consume(x),e.exit("characterReferenceMarkerHexadecimal"),e.enter("characterReferenceValue"),l=6,u=yN,g):(e.enter("characterReferenceValue"),l=7,u=Kf,g(x))}function g(x){if(x===59&&o){const v=e.exit("characterReferenceValue");return u===Jt&&!Tm(r.sliceSerialize(v))?n(x):(e.enter("characterReferenceMarker"),e.consume(x),e.exit("characterReferenceMarker"),e.exit("characterReference"),t)}return u(x)&&o++<l?(e.consume(x),g):n(x)}}const t1={partial:!0,tokenize:ON},n1={concrete:!0,name:"codeFenced",tokenize:LN};function LN(e,t,n){const r=this,o={partial:!0,tokenize:B};let l=0,u=0,f;return m;function m(z){return d(z)}function d(z){const se=r.events[r.events.length-1];return l=se&&se[1].type==="linePrefix"?se[2].sliceSerialize(se[1],!0).length:0,f=z,e.enter("codeFenced"),e.enter("codeFencedFence"),e.enter("codeFencedFenceSequence"),g(z)}function g(z){return z===f?(u++,e.consume(z),g):u<3?n(z):(e.exit("codeFencedFenceSequence"),et(z)?at(e,x,"whitespace")(z):x(z))}function x(z){return z===null||Oe(z)?(e.exit("codeFencedFence"),r.interrupt?t(z):e.check(t1,D,$)(z)):(e.enter("codeFencedFenceInfo"),e.enter("chunkString",{contentType:"string"}),v(z))}function v(z){return z===null||Oe(z)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),x(z)):et(z)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),at(e,S,"whitespace")(z)):z===96&&z===f?n(z):(e.consume(z),v)}function S(z){return z===null||Oe(z)?x(z):(e.enter("codeFencedFenceMeta"),e.enter("chunkString",{contentType:"string"}),_(z))}function _(z){return z===null||Oe(z)?(e.exit("chunkString"),e.exit("codeFencedFenceMeta"),x(z)):z===96&&z===f?n(z):(e.consume(z),_)}function D(z){return e.attempt(o,$,U)(z)}function U(z){return e.enter("lineEnding"),e.consume(z),e.exit("lineEnding"),L}function L(z){return l>0&&et(z)?at(e,K,"linePrefix",l+1)(z):K(z)}function K(z){return z===null||Oe(z)?e.check(t1,D,$)(z):(e.enter("codeFlowValue"),G(z))}function G(z){return z===null||Oe(z)?(e.exit("codeFlowValue"),K(z)):(e.consume(z),G)}function $(z){return e.exit("codeFenced"),t(z)}function B(z,se,ye){let Ae=0;return q;function q(ie){return z.enter("lineEnding"),z.consume(ie),z.exit("lineEnding"),be}function be(ie){return z.enter("codeFencedFence"),et(ie)?at(z,Ee,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(ie):Ee(ie)}function Ee(ie){return ie===f?(z.enter("codeFencedFenceSequence"),Ce(ie)):ye(ie)}function Ce(ie){return ie===f?(Ae++,z.consume(ie),Ce):Ae>=u?(z.exit("codeFencedFenceSequence"),et(ie)?at(z,me,"whitespace")(ie):me(ie)):ye(ie)}function me(ie){return ie===null||Oe(ie)?(z.exit("codeFencedFence"),se(ie)):ye(ie)}}}function ON(e,t,n){const r=this;return o;function o(u){return u===null?n(u):(e.enter("lineEnding"),e.consume(u),e.exit("lineEnding"),l)}function l(u){return r.parser.lazy[r.now().line]?n(u):t(u)}}const hf={name:"codeIndented",tokenize:BN},PN={partial:!0,tokenize:FN};function BN(e,t,n){const r=this;return o;function o(d){return e.enter("codeIndented"),at(e,l,"linePrefix",5)(d)}function l(d){const g=r.events[r.events.length-1];return g&&g[1].type==="linePrefix"&&g[2].sliceSerialize(g[1],!0).length>=4?u(d):n(d)}function u(d){return d===null?m(d):Oe(d)?e.attempt(PN,u,m)(d):(e.enter("codeFlowValue"),f(d))}function f(d){return d===null||Oe(d)?(e.exit("codeFlowValue"),u(d)):(e.consume(d),f)}function m(d){return e.exit("codeIndented"),t(d)}}function FN(e,t,n){const r=this;return o;function o(u){return r.parser.lazy[r.now().line]?n(u):Oe(u)?(e.enter("lineEnding"),e.consume(u),e.exit("lineEnding"),o):at(e,l,"linePrefix",5)(u)}function l(u){const f=r.events[r.events.length-1];return f&&f[1].type==="linePrefix"&&f[2].sliceSerialize(f[1],!0).length>=4?t(u):Oe(u)?o(u):n(u)}}const HN={name:"codeText",previous:VN,resolve:UN,tokenize:zN};function UN(e){let t=e.length-4,n=3,r,o;if((e[n][1].type==="lineEnding"||e[n][1].type==="space")&&(e[t][1].type==="lineEnding"||e[t][1].type==="space")){for(r=n;++r<t;)if(e[r][1].type==="codeTextData"){e[n][1].type="codeTextPadding",e[t][1].type="codeTextPadding",n+=2,t-=2;break}}for(r=n-1,t++;++r<=t;)o===void 0?r!==t&&e[r][1].type!=="lineEnding"&&(o=r):(r===t||e[r][1].type==="lineEnding")&&(e[o][1].type="codeTextData",r!==o+2&&(e[o][1].end=e[r-1][1].end,e.splice(o+2,r-o-2),t-=r-o-2,r=o+2),o=void 0);return e}function VN(e){return e!==96||this.events[this.events.length-1][1].type==="characterEscape"}function zN(e,t,n){let r=0,o,l;return u;function u(x){return e.enter("codeText"),e.enter("codeTextSequence"),f(x)}function f(x){return x===96?(e.consume(x),r++,f):(e.exit("codeTextSequence"),m(x))}function m(x){return x===null?n(x):x===32?(e.enter("space"),e.consume(x),e.exit("space"),m):x===96?(l=e.enter("codeTextSequence"),o=0,g(x)):Oe(x)?(e.enter("lineEnding"),e.consume(x),e.exit("lineEnding"),m):(e.enter("codeTextData"),d(x))}function d(x){return x===null||x===32||x===96||Oe(x)?(e.exit("codeTextData"),m(x)):(e.consume(x),d)}function g(x){return x===96?(e.consume(x),o++,g):o===r?(e.exit("codeTextSequence"),e.exit("codeText"),t(x)):(l.type="codeTextData",d(x))}}class jN{constructor(t){this.left=t?[...t]:[],this.right=[]}get(t){if(t<0||t>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+t+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return t<this.left.length?this.left[t]:this.right[this.right.length-t+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(t,n){const r=n??Number.POSITIVE_INFINITY;return r<this.left.length?this.left.slice(t,r):t>this.left.length?this.right.slice(this.right.length-r+this.left.length,this.right.length-t+this.left.length).reverse():this.left.slice(t).concat(this.right.slice(this.right.length-r+this.left.length).reverse())}splice(t,n,r){const o=n||0;this.setCursor(Math.trunc(t));const l=this.right.splice(this.right.length-o,Number.POSITIVE_INFINITY);return r&&rs(this.left,r),l.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(t){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(t)}pushMany(t){this.setCursor(Number.POSITIVE_INFINITY),rs(this.left,t)}unshift(t){this.setCursor(0),this.right.push(t)}unshiftMany(t){this.setCursor(0),rs(this.right,t.reverse())}setCursor(t){if(!(t===this.left.length||t>this.left.length&&this.right.length===0||t<0&&this.left.length===0))if(t<this.left.length){const n=this.left.splice(t,Number.POSITIVE_INFINITY);rs(this.right,n.reverse())}else{const n=this.right.splice(this.left.length+this.right.length-t,Number.POSITIVE_INFINITY);rs(this.left,n.reverse())}}}function rs(e,t){let n=0;if(t.length<1e4)e.push(...t);else for(;n<t.length;)e.push(...t.slice(n,n+1e4)),n+=1e4}function Kb(e){const t={};let n=-1,r,o,l,u,f,m,d;const g=new jN(e);for(;++n<g.length;){for(;n in t;)n=t[n];if(r=g.get(n),n&&r[1].type==="chunkFlow"&&g.get(n-1)[1].type==="listItemPrefix"&&(m=r[1]._tokenizer.events,l=0,l<m.length&&m[l][1].type==="lineEndingBlank"&&(l+=2),l<m.length&&m[l][1].type==="content"))for(;++l<m.length&&m[l][1].type!=="content";)m[l][1].type==="chunkText"&&(m[l][1]._isInFirstContentOfListItem=!0,l++);if(r[0]==="enter")r[1].contentType&&(Object.assign(t,GN(g,n)),n=t[n],d=!0);else if(r[1]._container){for(l=n,o=void 0;l--;)if(u=g.get(l),u[1].type==="lineEnding"||u[1].type==="lineEndingBlank")u[0]==="enter"&&(o&&(g.get(o)[1].type="lineEndingBlank"),u[1].type="lineEnding",o=l);else if(!(u[1].type==="linePrefix"||u[1].type==="listItemIndent"))break;o&&(r[1].end={...g.get(o)[1].start},f=g.slice(o,n),f.unshift(r),g.splice(o,n-o+1,f))}}return Nn(e,0,Number.POSITIVE_INFINITY,g.slice(0)),!d}function GN(e,t){const n=e.get(t)[1],r=e.get(t)[2];let o=t-1;const l=[];let u=n._tokenizer;u||(u=r.parser[n.contentType](n.start),n._contentTypeTextTrailing&&(u._contentTypeTextTrailing=!0));const f=u.events,m=[],d={};let g,x,v=-1,S=n,_=0,D=0;const U=[D];for(;S;){for(;e.get(++o)[1]!==S;);l.push(o),S._tokenizer||(g=r.sliceStream(S),S.next||g.push(null),x&&u.defineSkip(S.start),S._isInFirstContentOfListItem&&(u._gfmTasklistFirstContentOfListItem=!0),u.write(g),S._isInFirstContentOfListItem&&(u._gfmTasklistFirstContentOfListItem=void 0)),x=S,S=S.next}for(S=n;++v<f.length;)f[v][0]==="exit"&&f[v-1][0]==="enter"&&f[v][1].type===f[v-1][1].type&&f[v][1].start.line!==f[v][1].end.line&&(D=v+1,U.push(D),S._tokenizer=void 0,S.previous=void 0,S=S.next);for(u.events=[],S?(S._tokenizer=void 0,S.previous=void 0):U.pop(),v=U.length;v--;){const L=f.slice(U[v],U[v+1]),K=l.pop();m.push([K,K+L.length-1]),e.splice(K,2,L)}for(m.reverse(),v=-1;++v<m.length;)d[_+m[v][0]]=_+m[v][1],_+=m[v][1]-m[v][0]-1;return d}const qN={resolve:QN,tokenize:KN},YN={partial:!0,tokenize:$N};function QN(e){return Kb(e),e}function KN(e,t){let n;return r;function r(f){return e.enter("content"),n=e.enter("chunkContent",{contentType:"content"}),o(f)}function o(f){return f===null?l(f):Oe(f)?e.check(YN,u,l)(f):(e.consume(f),o)}function l(f){return e.exit("chunkContent"),e.exit("content"),t(f)}function u(f){return e.consume(f),e.exit("chunkContent"),n.next=e.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,o}}function $N(e,t,n){const r=this;return o;function o(u){return e.exit("chunkContent"),e.enter("lineEnding"),e.consume(u),e.exit("lineEnding"),at(e,l,"linePrefix")}function l(u){if(u===null||Oe(u))return n(u);const f=r.events[r.events.length-1];return!r.parser.constructs.disable.null.includes("codeIndented")&&f&&f[1].type==="linePrefix"&&f[2].sliceSerialize(f[1],!0).length>=4?t(u):e.interrupt(r.parser.constructs.flow,n,t)(u)}}function $b(e,t,n,r,o,l,u,f,m){const d=m||Number.POSITIVE_INFINITY;let g=0;return x;function x(L){return L===60?(e.enter(r),e.enter(o),e.enter(l),e.consume(L),e.exit(l),v):L===null||L===32||L===41||xu(L)?n(L):(e.enter(r),e.enter(u),e.enter(f),e.enter("chunkString",{contentType:"string"}),D(L))}function v(L){return L===62?(e.enter(l),e.consume(L),e.exit(l),e.exit(o),e.exit(r),t):(e.enter(f),e.enter("chunkString",{contentType:"string"}),S(L))}function S(L){return L===62?(e.exit("chunkString"),e.exit(f),v(L)):L===null||L===60||Oe(L)?n(L):(e.consume(L),L===92?_:S)}function _(L){return L===60||L===62||L===92?(e.consume(L),S):S(L)}function D(L){return!g&&(L===null||L===41||gt(L))?(e.exit("chunkString"),e.exit(f),e.exit(u),e.exit(r),t(L)):g<d&&L===40?(e.consume(L),g++,D):L===41?(e.consume(L),g--,D):L===null||L===32||L===40||xu(L)?n(L):(e.consume(L),L===92?U:D)}function U(L){return L===40||L===41||L===92?(e.consume(L),D):D(L)}}function Xb(e,t,n,r,o,l){const u=this;let f=0,m;return d;function d(S){return e.enter(r),e.enter(o),e.consume(S),e.exit(o),e.enter(l),g}function g(S){return f>999||S===null||S===91||S===93&&!m||S===94&&!f&&"_hiddenFootnoteSupport"in u.parser.constructs?n(S):S===93?(e.exit(l),e.enter(o),e.consume(S),e.exit(o),e.exit(r),t):Oe(S)?(e.enter("lineEnding"),e.consume(S),e.exit("lineEnding"),g):(e.enter("chunkString",{contentType:"string"}),x(S))}function x(S){return S===null||S===91||S===93||Oe(S)||f++>999?(e.exit("chunkString"),g(S)):(e.consume(S),m||(m=!et(S)),S===92?v:x)}function v(S){return S===91||S===92||S===93?(e.consume(S),f++,x):x(S)}}function Wb(e,t,n,r,o,l){let u;return f;function f(v){return v===34||v===39||v===40?(e.enter(r),e.enter(o),e.consume(v),e.exit(o),u=v===40?41:v,m):n(v)}function m(v){return v===u?(e.enter(o),e.consume(v),e.exit(o),e.exit(r),t):(e.enter(l),d(v))}function d(v){return v===u?(e.exit(l),m(u)):v===null?n(v):Oe(v)?(e.enter("lineEnding"),e.consume(v),e.exit("lineEnding"),at(e,d,"linePrefix")):(e.enter("chunkString",{contentType:"string"}),g(v))}function g(v){return v===u||v===null||Oe(v)?(e.exit("chunkString"),d(v)):(e.consume(v),v===92?x:g)}function x(v){return v===u||v===92?(e.consume(v),g):g(v)}}function hs(e,t){let n;return r;function r(o){return Oe(o)?(e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),n=!0,r):et(o)?at(e,r,n?"linePrefix":"lineSuffix")(o):t(o)}}const XN={name:"definition",tokenize:JN},WN={partial:!0,tokenize:ZN};function JN(e,t,n){const r=this;let o;return l;function l(S){return e.enter("definition"),u(S)}function u(S){return Xb.call(r,e,f,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(S)}function f(S){return o=Jn(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)),S===58?(e.enter("definitionMarker"),e.consume(S),e.exit("definitionMarker"),m):n(S)}function m(S){return gt(S)?hs(e,d)(S):d(S)}function d(S){return $b(e,g,n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(S)}function g(S){return e.attempt(WN,x,x)(S)}function x(S){return et(S)?at(e,v,"whitespace")(S):v(S)}function v(S){return S===null||Oe(S)?(e.exit("definition"),r.parser.defined.push(o),t(S)):n(S)}}function ZN(e,t,n){return r;function r(f){return gt(f)?hs(e,o)(f):n(f)}function o(f){return Wb(e,l,n,"definitionTitle","definitionTitleMarker","definitionTitleString")(f)}function l(f){return et(f)?at(e,u,"whitespace")(f):u(f)}function u(f){return f===null||Oe(f)?t(f):n(f)}}const e3={name:"hardBreakEscape",tokenize:t3};function t3(e,t,n){return r;function r(l){return e.enter("hardBreakEscape"),e.consume(l),o}function o(l){return Oe(l)?(e.exit("hardBreakEscape"),t(l)):n(l)}}const n3={name:"headingAtx",resolve:a3,tokenize:i3};function a3(e,t){let n=e.length-2,r=3,o,l;return e[r][1].type==="whitespace"&&(r+=2),n-2>r&&e[n][1].type==="whitespace"&&(n-=2),e[n][1].type==="atxHeadingSequence"&&(r===n-1||n-4>r&&e[n-2][1].type==="whitespace")&&(n-=r+1===n?2:4),n>r&&(o={type:"atxHeadingText",start:e[r][1].start,end:e[n][1].end},l={type:"chunkText",start:e[r][1].start,end:e[n][1].end,contentType:"text"},Nn(e,r,n-r+1,[["enter",o,t],["enter",l,t],["exit",l,t],["exit",o,t]])),e}function i3(e,t,n){let r=0;return o;function o(g){return e.enter("atxHeading"),l(g)}function l(g){return e.enter("atxHeadingSequence"),u(g)}function u(g){return g===35&&r++<6?(e.consume(g),u):g===null||gt(g)?(e.exit("atxHeadingSequence"),f(g)):n(g)}function f(g){return g===35?(e.enter("atxHeadingSequence"),m(g)):g===null||Oe(g)?(e.exit("atxHeading"),t(g)):et(g)?at(e,f,"whitespace")(g):(e.enter("atxHeadingText"),d(g))}function m(g){return g===35?(e.consume(g),m):(e.exit("atxHeadingSequence"),f(g))}function d(g){return g===null||g===35||gt(g)?(e.exit("atxHeadingText"),f(g)):(e.consume(g),d)}}const r3=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],a1=["pre","script","style","textarea"],o3={concrete:!0,name:"htmlFlow",resolveTo:u3,tokenize:c3},s3={partial:!0,tokenize:f3},l3={partial:!0,tokenize:d3};function u3(e){let t=e.length;for(;t--&&!(e[t][0]==="enter"&&e[t][1].type==="htmlFlow"););return t>1&&e[t-2][1].type==="linePrefix"&&(e[t][1].start=e[t-2][1].start,e[t+1][1].start=e[t-2][1].start,e.splice(t-2,2)),e}function c3(e,t,n){const r=this;let o,l,u,f,m;return d;function d(I){return g(I)}function g(I){return e.enter("htmlFlow"),e.enter("htmlFlowData"),e.consume(I),x}function x(I){return I===33?(e.consume(I),v):I===47?(e.consume(I),l=!0,D):I===63?(e.consume(I),o=3,r.interrupt?t:C):rn(I)?(e.consume(I),u=String.fromCharCode(I),U):n(I)}function v(I){return I===45?(e.consume(I),o=2,S):I===91?(e.consume(I),o=5,f=0,_):rn(I)?(e.consume(I),o=4,r.interrupt?t:C):n(I)}function S(I){return I===45?(e.consume(I),r.interrupt?t:C):n(I)}function _(I){const oe="CDATA[";return I===oe.charCodeAt(f++)?(e.consume(I),f===oe.length?r.interrupt?t:Ee:_):n(I)}function D(I){return rn(I)?(e.consume(I),u=String.fromCharCode(I),U):n(I)}function U(I){if(I===null||I===47||I===62||gt(I)){const oe=I===47,H=u.toLowerCase();return!oe&&!l&&a1.includes(H)?(o=1,r.interrupt?t(I):Ee(I)):r3.includes(u.toLowerCase())?(o=6,oe?(e.consume(I),L):r.interrupt?t(I):Ee(I)):(o=7,r.interrupt&&!r.parser.lazy[r.now().line]?n(I):l?K(I):G(I))}return I===45||Jt(I)?(e.consume(I),u+=String.fromCharCode(I),U):n(I)}function L(I){return I===62?(e.consume(I),r.interrupt?t:Ee):n(I)}function K(I){return et(I)?(e.consume(I),K):q(I)}function G(I){return I===47?(e.consume(I),q):I===58||I===95||rn(I)?(e.consume(I),$):et(I)?(e.consume(I),G):q(I)}function $(I){return I===45||I===46||I===58||I===95||Jt(I)?(e.consume(I),$):B(I)}function B(I){return I===61?(e.consume(I),z):et(I)?(e.consume(I),B):G(I)}function z(I){return I===null||I===60||I===61||I===62||I===96?n(I):I===34||I===39?(e.consume(I),m=I,se):et(I)?(e.consume(I),z):ye(I)}function se(I){return I===m?(e.consume(I),m=null,Ae):I===null||Oe(I)?n(I):(e.consume(I),se)}function ye(I){return I===null||I===34||I===39||I===47||I===60||I===61||I===62||I===96||gt(I)?B(I):(e.consume(I),ye)}function Ae(I){return I===47||I===62||et(I)?G(I):n(I)}function q(I){return I===62?(e.consume(I),be):n(I)}function be(I){return I===null||Oe(I)?Ee(I):et(I)?(e.consume(I),be):n(I)}function Ee(I){return I===45&&o===2?(e.consume(I),W):I===60&&o===1?(e.consume(I),j):I===62&&o===4?(e.consume(I),F):I===63&&o===3?(e.consume(I),C):I===93&&o===5?(e.consume(I),k):Oe(I)&&(o===6||o===7)?(e.exit("htmlFlowData"),e.check(s3,Q,Ce)(I)):I===null||Oe(I)?(e.exit("htmlFlowData"),Ce(I)):(e.consume(I),Ee)}function Ce(I){return e.check(l3,me,Q)(I)}function me(I){return e.enter("lineEnding"),e.consume(I),e.exit("lineEnding"),ie}function ie(I){return I===null||Oe(I)?Ce(I):(e.enter("htmlFlowData"),Ee(I))}function W(I){return I===45?(e.consume(I),C):Ee(I)}function j(I){return I===47?(e.consume(I),u="",R):Ee(I)}function R(I){if(I===62){const oe=u.toLowerCase();return a1.includes(oe)?(e.consume(I),F):Ee(I)}return rn(I)&&u.length<8?(e.consume(I),u+=String.fromCharCode(I),R):Ee(I)}function k(I){return I===93?(e.consume(I),C):Ee(I)}function C(I){return I===62?(e.consume(I),F):I===45&&o===2?(e.consume(I),C):Ee(I)}function F(I){return I===null||Oe(I)?(e.exit("htmlFlowData"),Q(I)):(e.consume(I),F)}function Q(I){return e.exit("htmlFlow"),t(I)}}function d3(e,t,n){const r=this;return o;function o(u){return Oe(u)?(e.enter("lineEnding"),e.consume(u),e.exit("lineEnding"),l):n(u)}function l(u){return r.parser.lazy[r.now().line]?n(u):t(u)}}function f3(e,t,n){return r;function r(o){return e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),e.attempt(ks,t,n)}}const m3={name:"htmlText",tokenize:h3};function h3(e,t,n){const r=this;let o,l,u;return f;function f(C){return e.enter("htmlText"),e.enter("htmlTextData"),e.consume(C),m}function m(C){return C===33?(e.consume(C),d):C===47?(e.consume(C),B):C===63?(e.consume(C),G):rn(C)?(e.consume(C),ye):n(C)}function d(C){return C===45?(e.consume(C),g):C===91?(e.consume(C),l=0,_):rn(C)?(e.consume(C),K):n(C)}function g(C){return C===45?(e.consume(C),S):n(C)}function x(C){return C===null?n(C):C===45?(e.consume(C),v):Oe(C)?(u=x,j(C)):(e.consume(C),x)}function v(C){return C===45?(e.consume(C),S):x(C)}function S(C){return C===62?W(C):C===45?v(C):x(C)}function _(C){const F="CDATA[";return C===F.charCodeAt(l++)?(e.consume(C),l===F.length?D:_):n(C)}function D(C){return C===null?n(C):C===93?(e.consume(C),U):Oe(C)?(u=D,j(C)):(e.consume(C),D)}function U(C){return C===93?(e.consume(C),L):D(C)}function L(C){return C===62?W(C):C===93?(e.consume(C),L):D(C)}function K(C){return C===null||C===62?W(C):Oe(C)?(u=K,j(C)):(e.consume(C),K)}function G(C){return C===null?n(C):C===63?(e.consume(C),$):Oe(C)?(u=G,j(C)):(e.consume(C),G)}function $(C){return C===62?W(C):G(C)}function B(C){return rn(C)?(e.consume(C),z):n(C)}function z(C){return C===45||Jt(C)?(e.consume(C),z):se(C)}function se(C){return Oe(C)?(u=se,j(C)):et(C)?(e.consume(C),se):W(C)}function ye(C){return C===45||Jt(C)?(e.consume(C),ye):C===47||C===62||gt(C)?Ae(C):n(C)}function Ae(C){return C===47?(e.consume(C),W):C===58||C===95||rn(C)?(e.consume(C),q):Oe(C)?(u=Ae,j(C)):et(C)?(e.consume(C),Ae):W(C)}function q(C){return C===45||C===46||C===58||C===95||Jt(C)?(e.consume(C),q):be(C)}function be(C){return C===61?(e.consume(C),Ee):Oe(C)?(u=be,j(C)):et(C)?(e.consume(C),be):Ae(C)}function Ee(C){return C===null||C===60||C===61||C===62||C===96?n(C):C===34||C===39?(e.consume(C),o=C,Ce):Oe(C)?(u=Ee,j(C)):et(C)?(e.consume(C),Ee):(e.consume(C),me)}function Ce(C){return C===o?(e.consume(C),o=void 0,ie):C===null?n(C):Oe(C)?(u=Ce,j(C)):(e.consume(C),Ce)}function me(C){return C===null||C===34||C===39||C===60||C===61||C===96?n(C):C===47||C===62||gt(C)?Ae(C):(e.consume(C),me)}function ie(C){return C===47||C===62||gt(C)?Ae(C):n(C)}function W(C){return C===62?(e.consume(C),e.exit("htmlTextData"),e.exit("htmlText"),t):n(C)}function j(C){return e.exit("htmlTextData"),e.enter("lineEnding"),e.consume(C),e.exit("lineEnding"),R}function R(C){return et(C)?at(e,k,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(C):k(C)}function k(C){return e.enter("htmlTextData"),u(C)}}const Em={name:"labelEnd",resolveAll:b3,resolveTo:T3,tokenize:E3},p3={tokenize:x3},g3={tokenize:v3},y3={tokenize:C3};function b3(e){let t=-1;const n=[];for(;++t<e.length;){const r=e[t][1];if(n.push(e[t]),r.type==="labelImage"||r.type==="labelLink"||r.type==="labelEnd"){const o=r.type==="labelImage"?4:2;r.type="data",t+=o}}return e.length!==n.length&&Nn(e,0,e.length,n),e}function T3(e,t){let n=e.length,r=0,o,l,u,f;for(;n--;)if(o=e[n][1],l){if(o.type==="link"||o.type==="labelLink"&&o._inactive)break;e[n][0]==="enter"&&o.type==="labelLink"&&(o._inactive=!0)}else if(u){if(e[n][0]==="enter"&&(o.type==="labelImage"||o.type==="labelLink")&&!o._balanced&&(l=n,o.type!=="labelLink")){r=2;break}}else o.type==="labelEnd"&&(u=n);const m={type:e[l][1].type==="labelLink"?"link":"image",start:{...e[l][1].start},end:{...e[e.length-1][1].end}},d={type:"label",start:{...e[l][1].start},end:{...e[u][1].end}},g={type:"labelText",start:{...e[l+r+2][1].end},end:{...e[u-2][1].start}};return f=[["enter",m,t],["enter",d,t]],f=Un(f,e.slice(l+1,l+r+3)),f=Un(f,[["enter",g,t]]),f=Un(f,Bu(t.parser.constructs.insideSpan.null,e.slice(l+r+4,u-3),t)),f=Un(f,[["exit",g,t],e[u-2],e[u-1],["exit",d,t]]),f=Un(f,e.slice(u+1)),f=Un(f,[["exit",m,t]]),Nn(e,l,e.length,f),e}function E3(e,t,n){const r=this;let o=r.events.length,l,u;for(;o--;)if((r.events[o][1].type==="labelImage"||r.events[o][1].type==="labelLink")&&!r.events[o][1]._balanced){l=r.events[o][1];break}return f;function f(v){return l?l._inactive?x(v):(u=r.parser.defined.includes(Jn(r.sliceSerialize({start:l.end,end:r.now()}))),e.enter("labelEnd"),e.enter("labelMarker"),e.consume(v),e.exit("labelMarker"),e.exit("labelEnd"),m):n(v)}function m(v){return v===40?e.attempt(p3,g,u?g:x)(v):v===91?e.attempt(g3,g,u?d:x)(v):u?g(v):x(v)}function d(v){return e.attempt(y3,g,x)(v)}function g(v){return t(v)}function x(v){return l._balanced=!0,n(v)}}function x3(e,t,n){return r;function r(x){return e.enter("resource"),e.enter("resourceMarker"),e.consume(x),e.exit("resourceMarker"),o}function o(x){return gt(x)?hs(e,l)(x):l(x)}function l(x){return x===41?g(x):$b(e,u,f,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(x)}function u(x){return gt(x)?hs(e,m)(x):g(x)}function f(x){return n(x)}function m(x){return x===34||x===39||x===40?Wb(e,d,n,"resourceTitle","resourceTitleMarker","resourceTitleString")(x):g(x)}function d(x){return gt(x)?hs(e,g)(x):g(x)}function g(x){return x===41?(e.enter("resourceMarker"),e.consume(x),e.exit("resourceMarker"),e.exit("resource"),t):n(x)}}function v3(e,t,n){const r=this;return o;function o(f){return Xb.call(r,e,l,u,"reference","referenceMarker","referenceString")(f)}function l(f){return r.parser.defined.includes(Jn(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)))?t(f):n(f)}function u(f){return n(f)}}function C3(e,t,n){return r;function r(l){return e.enter("reference"),e.enter("referenceMarker"),e.consume(l),e.exit("referenceMarker"),o}function o(l){return l===93?(e.enter("referenceMarker"),e.consume(l),e.exit("referenceMarker"),e.exit("reference"),t):n(l)}}const S3={name:"labelStartImage",resolveAll:Em.resolveAll,tokenize:A3};function A3(e,t,n){const r=this;return o;function o(f){return e.enter("labelImage"),e.enter("labelImageMarker"),e.consume(f),e.exit("labelImageMarker"),l}function l(f){return f===91?(e.enter("labelMarker"),e.consume(f),e.exit("labelMarker"),e.exit("labelImage"),u):n(f)}function u(f){return f===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(f):t(f)}}const _3={name:"labelStartLink",resolveAll:Em.resolveAll,tokenize:I3};function I3(e,t,n){const r=this;return o;function o(u){return e.enter("labelLink"),e.enter("labelMarker"),e.consume(u),e.exit("labelMarker"),e.exit("labelLink"),l}function l(u){return u===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(u):t(u)}}const pf={name:"lineEnding",tokenize:N3};function N3(e,t){return n;function n(r){return e.enter("lineEnding"),e.consume(r),e.exit("lineEnding"),at(e,t,"linePrefix")}}const hu={name:"thematicBreak",tokenize:M3};function M3(e,t,n){let r=0,o;return l;function l(d){return e.enter("thematicBreak"),u(d)}function u(d){return o=d,f(d)}function f(d){return d===o?(e.enter("thematicBreakSequence"),m(d)):r>=3&&(d===null||Oe(d))?(e.exit("thematicBreak"),t(d)):n(d)}function m(d){return d===o?(e.consume(d),r++,m):(e.exit("thematicBreakSequence"),et(d)?at(e,f,"whitespace")(d):f(d))}}const hn={continuation:{tokenize:w3},exit:O3,name:"list",tokenize:k3},D3={partial:!0,tokenize:P3},R3={partial:!0,tokenize:L3};function k3(e,t,n){const r=this,o=r.events[r.events.length-1];let l=o&&o[1].type==="linePrefix"?o[2].sliceSerialize(o[1],!0).length:0,u=0;return f;function f(S){const _=r.containerState.type||(S===42||S===43||S===45?"listUnordered":"listOrdered");if(_==="listUnordered"?!r.containerState.marker||S===r.containerState.marker:Kf(S)){if(r.containerState.type||(r.containerState.type=_,e.enter(_,{_container:!0})),_==="listUnordered")return e.enter("listItemPrefix"),S===42||S===45?e.check(hu,n,d)(S):d(S);if(!r.interrupt||S===49)return e.enter("listItemPrefix"),e.enter("listItemValue"),m(S)}return n(S)}function m(S){return Kf(S)&&++u<10?(e.consume(S),m):(!r.interrupt||u<2)&&(r.containerState.marker?S===r.containerState.marker:S===41||S===46)?(e.exit("listItemValue"),d(S)):n(S)}function d(S){return e.enter("listItemMarker"),e.consume(S),e.exit("listItemMarker"),r.containerState.marker=r.containerState.marker||S,e.check(ks,r.interrupt?n:g,e.attempt(D3,v,x))}function g(S){return r.containerState.initialBlankLine=!0,l++,v(S)}function x(S){return et(S)?(e.enter("listItemPrefixWhitespace"),e.consume(S),e.exit("listItemPrefixWhitespace"),v):n(S)}function v(S){return r.containerState.size=l+r.sliceSerialize(e.exit("listItemPrefix"),!0).length,t(S)}}function w3(e,t,n){const r=this;return r.containerState._closeFlow=void 0,e.check(ks,o,l);function o(f){return r.containerState.furtherBlankLines=r.containerState.furtherBlankLines||r.containerState.initialBlankLine,at(e,t,"listItemIndent",r.containerState.size+1)(f)}function l(f){return r.containerState.furtherBlankLines||!et(f)?(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,u(f)):(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,e.attempt(R3,t,u)(f))}function u(f){return r.containerState._closeFlow=!0,r.interrupt=void 0,at(e,e.attempt(hn,t,n),"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(f)}}function L3(e,t,n){const r=this;return at(e,o,"listItemIndent",r.containerState.size+1);function o(l){const u=r.events[r.events.length-1];return u&&u[1].type==="listItemIndent"&&u[2].sliceSerialize(u[1],!0).length===r.containerState.size?t(l):n(l)}}function O3(e){e.exit(this.containerState.type)}function P3(e,t,n){const r=this;return at(e,o,"listItemPrefixWhitespace",r.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function o(l){const u=r.events[r.events.length-1];return!et(l)&&u&&u[1].type==="listItemPrefixWhitespace"?t(l):n(l)}}const i1={name:"setextUnderline",resolveTo:B3,tokenize:F3};function B3(e,t){let n=e.length,r,o,l;for(;n--;)if(e[n][0]==="enter"){if(e[n][1].type==="content"){r=n;break}e[n][1].type==="paragraph"&&(o=n)}else e[n][1].type==="content"&&e.splice(n,1),!l&&e[n][1].type==="definition"&&(l=n);const u={type:"setextHeading",start:{...e[r][1].start},end:{...e[e.length-1][1].end}};return e[o][1].type="setextHeadingText",l?(e.splice(o,0,["enter",u,t]),e.splice(l+1,0,["exit",e[r][1],t]),e[r][1].end={...e[l][1].end}):e[r][1]=u,e.push(["exit",u,t]),e}function F3(e,t,n){const r=this;let o;return l;function l(d){let g=r.events.length,x;for(;g--;)if(r.events[g][1].type!=="lineEnding"&&r.events[g][1].type!=="linePrefix"&&r.events[g][1].type!=="content"){x=r.events[g][1].type==="paragraph";break}return!r.parser.lazy[r.now().line]&&(r.interrupt||x)?(e.enter("setextHeadingLine"),o=d,u(d)):n(d)}function u(d){return e.enter("setextHeadingLineSequence"),f(d)}function f(d){return d===o?(e.consume(d),f):(e.exit("setextHeadingLineSequence"),et(d)?at(e,m,"lineSuffix")(d):m(d))}function m(d){return d===null||Oe(d)?(e.exit("setextHeadingLine"),t(d)):n(d)}}const H3={tokenize:U3};function U3(e){const t=this,n=e.attempt(ks,r,e.attempt(this.parser.constructs.flowInitial,o,at(e,e.attempt(this.parser.constructs.flow,o,e.attempt(qN,o)),"linePrefix")));return n;function r(l){if(l===null){e.consume(l);return}return e.enter("lineEndingBlank"),e.consume(l),e.exit("lineEndingBlank"),t.currentConstruct=void 0,n}function o(l){if(l===null){e.consume(l);return}return e.enter("lineEnding"),e.consume(l),e.exit("lineEnding"),t.currentConstruct=void 0,n}}const V3={resolveAll:Zb()},z3=Jb("string"),j3=Jb("text");function Jb(e){return{resolveAll:Zb(e==="text"?G3:void 0),tokenize:t};function t(n){const r=this,o=this.parser.constructs[e],l=n.attempt(o,u,f);return u;function u(g){return d(g)?l(g):f(g)}function f(g){if(g===null){n.consume(g);return}return n.enter("data"),n.consume(g),m}function m(g){return d(g)?(n.exit("data"),l(g)):(n.consume(g),m)}function d(g){if(g===null)return!0;const x=o[g];let v=-1;if(x)for(;++v<x.length;){const S=x[v];if(!S.previous||S.previous.call(r,r.previous))return!0}return!1}}}function Zb(e){return t;function t(n,r){let o=-1,l;for(;++o<=n.length;)l===void 0?n[o]&&n[o][1].type==="data"&&(l=o,o++):(!n[o]||n[o][1].type!=="data")&&(o!==l+2&&(n[l][1].end=n[o-1][1].end,n.splice(l+2,o-l-2),o=l+2),l=void 0);return e?e(n,r):n}}function G3(e,t){let n=0;for(;++n<=e.length;)if((n===e.length||e[n][1].type==="lineEnding")&&e[n-1][1].type==="data"){const r=e[n-1][1],o=t.sliceStream(r);let l=o.length,u=-1,f=0,m;for(;l--;){const d=o[l];if(typeof d=="string"){for(u=d.length;d.charCodeAt(u-1)===32;)f++,u--;if(u)break;u=-1}else if(d===-2)m=!0,f++;else if(d!==-1){l++;break}}if(t._contentTypeTextTrailing&&n===e.length&&(f=0),f){const d={type:n===e.length||m||f<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:l?u:r.start._bufferIndex+u,_index:r.start._index+l,line:r.end.line,column:r.end.column-f,offset:r.end.offset-f},end:{...r.end}};r.end={...d.start},r.start.offset===r.end.offset?Object.assign(r,d):(e.splice(n,0,["enter",d,t],["exit",d,t]),n+=2)}n++}return e}const q3={42:hn,43:hn,45:hn,48:hn,49:hn,50:hn,51:hn,52:hn,53:hn,54:hn,55:hn,56:hn,57:hn,62:qb},Y3={91:XN},Q3={[-2]:hf,[-1]:hf,32:hf},K3={35:n3,42:hu,45:[i1,hu],60:o3,61:i1,95:hu,96:n1,126:n1},$3={38:Qb,92:Yb},X3={[-5]:pf,[-4]:pf,[-3]:pf,33:S3,38:Qb,42:$f,60:[_N,m3],91:_3,92:[e3,Yb],93:Em,95:$f,96:HN},W3={null:[$f,V3]},J3={null:[42,95]},Z3={null:[]},eM=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:J3,contentInitial:Y3,disable:Z3,document:q3,flow:K3,flowInitial:Q3,insideSpan:W3,string:$3,text:X3},Symbol.toStringTag,{value:"Module"}));function tM(e,t,n){let r={_bufferIndex:-1,_index:0,line:n&&n.line||1,column:n&&n.column||1,offset:n&&n.offset||0};const o={},l=[];let u=[],f=[];const m={attempt:se(B),check:se(z),consume:K,enter:G,exit:$,interrupt:se(z,{interrupt:!0})},d={code:null,containerState:{},defineSkip:D,events:[],now:_,parser:e,previous:null,sliceSerialize:v,sliceStream:S,write:x};let g=t.tokenize.call(d,m);return t.resolveAll&&l.push(t),d;function x(be){return u=Un(u,be),U(),u[u.length-1]!==null?[]:(ye(t,0),d.events=Bu(l,d.events,d),d.events)}function v(be,Ee){return aM(S(be),Ee)}function S(be){return nM(u,be)}function _(){const{_bufferIndex:be,_index:Ee,line:Ce,column:me,offset:ie}=r;return{_bufferIndex:be,_index:Ee,line:Ce,column:me,offset:ie}}function D(be){o[be.line]=be.column,q()}function U(){let be;for(;r._index<u.length;){const Ee=u[r._index];if(typeof Ee=="string")for(be=r._index,r._bufferIndex<0&&(r._bufferIndex=0);r._index===be&&r._bufferIndex<Ee.length;)L(Ee.charCodeAt(r._bufferIndex));else L(Ee)}}function L(be){g=g(be)}function K(be){Oe(be)?(r.line++,r.column=1,r.offset+=be===-3?2:1,q()):be!==-1&&(r.column++,r.offset++),r._bufferIndex<0?r._index++:(r._bufferIndex++,r._bufferIndex===u[r._index].length&&(r._bufferIndex=-1,r._index++)),d.previous=be}function G(be,Ee){const Ce=Ee||{};return Ce.type=be,Ce.start=_(),d.events.push(["enter",Ce,d]),f.push(Ce),Ce}function $(be){const Ee=f.pop();return Ee.end=_(),d.events.push(["exit",Ee,d]),Ee}function B(be,Ee){ye(be,Ee.from)}function z(be,Ee){Ee.restore()}function se(be,Ee){return Ce;function Ce(me,ie,W){let j,R,k,C;return Array.isArray(me)?Q(me):"tokenize"in me?Q([me]):F(me);function F(re){return _e;function _e(Se){const De=Se!==null&&re[Se],we=Se!==null&&re.null,tt=[...Array.isArray(De)?De:De?[De]:[],...Array.isArray(we)?we:we?[we]:[]];return Q(tt)(Se)}}function Q(re){return j=re,R=0,re.length===0?W:I(re[R])}function I(re){return _e;function _e(Se){return C=Ae(),k=re,re.partial||(d.currentConstruct=re),re.name&&d.parser.constructs.disable.null.includes(re.name)?H():re.tokenize.call(Ee?Object.assign(Object.create(d),Ee):d,m,oe,H)(Se)}}function oe(re){return be(k,C),ie}function H(re){return C.restore(),++R<j.length?I(j[R]):W}}}function ye(be,Ee){be.resolveAll&&!l.includes(be)&&l.push(be),be.resolve&&Nn(d.events,Ee,d.events.length-Ee,be.resolve(d.events.slice(Ee),d)),be.resolveTo&&(d.events=be.resolveTo(d.events,d))}function Ae(){const be=_(),Ee=d.previous,Ce=d.currentConstruct,me=d.events.length,ie=Array.from(f);return{from:me,restore:W};function W(){r=be,d.previous=Ee,d.currentConstruct=Ce,d.events.length=me,f=ie,q()}}function q(){r.line in o&&r.column<2&&(r.column=o[r.line],r.offset+=o[r.line]-1)}}function nM(e,t){const n=t.start._index,r=t.start._bufferIndex,o=t.end._index,l=t.end._bufferIndex;let u;if(n===o)u=[e[n].slice(r,l)];else{if(u=e.slice(n,o),r>-1){const f=u[0];typeof f=="string"?u[0]=f.slice(r):u.shift()}l>0&&u.push(e[o].slice(0,l))}return u}function aM(e,t){let n=-1;const r=[];let o;for(;++n<e.length;){const l=e[n];let u;if(typeof l=="string")u=l;else switch(l){case-5:{u="\r";break}case-4:{u=`
`;break}case-3:{u=`\r
`;break}case-2:{u=t?" ":"	";break}case-1:{if(!t&&o)continue;u=" ";break}default:u=String.fromCharCode(l)}o=l===-2,r.push(u)}return r.join("")}function iM(e){const r={constructs:jb([eM,...(e||{}).extensions||[]]),content:o(TN),defined:[],document:o(xN),flow:o(H3),lazy:{},string:o(z3),text:o(j3)};return r;function o(l){return u;function u(f){return tM(r,l,f)}}}function rM(e){for(;!Kb(e););return e}const r1=/[\0\t\n\r]/g;function oM(){let e=1,t="",n=!0,r;return o;function o(l,u,f){const m=[];let d,g,x,v,S;for(l=t+(typeof l=="string"?l.toString():new TextDecoder(u||void 0).decode(l)),x=0,t="",n&&(l.charCodeAt(0)===65279&&x++,n=void 0);x<l.length;){if(r1.lastIndex=x,d=r1.exec(l),v=d&&d.index!==void 0?d.index:l.length,S=l.charCodeAt(v),!d){t=l.slice(x);break}if(S===10&&x===v&&r)m.push(-3),r=void 0;else switch(r&&(m.push(-5),r=void 0),x<v&&(m.push(l.slice(x,v)),e+=v-x),S){case 0:{m.push(65533),e++;break}case 9:{for(g=Math.ceil(e/4)*4,m.push(-2);e++<g;)m.push(-1);break}case 10:{m.push(-4),e=1;break}default:r=!0,e=1}x=v+1}return f&&(r&&m.push(-5),t&&m.push(t),m.push(null)),m}}const sM=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function lM(e){return e.replace(sM,uM)}function uM(e,t,n){if(t)return t;if(n.charCodeAt(0)===35){const o=n.charCodeAt(1),l=o===120||o===88;return Gb(n.slice(l?2:1),l?16:10)}return Tm(n)||e}const eT={}.hasOwnProperty;function cM(e,t,n){return typeof t!="string"&&(n=t,t=void 0),dM(n)(rM(iM(n).document().write(oM()(e,t,!0))))}function dM(e){const t={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:l(fi),autolinkProtocol:Ae,autolinkEmail:Ae,atxHeading:l(Ge),blockQuote:l(we),characterEscape:Ae,characterReference:Ae,codeFenced:l(tt),codeFencedFenceInfo:u,codeFencedFenceMeta:u,codeIndented:l(tt,u),codeText:l(Ue,u),codeTextData:Ae,data:Ae,codeFlowValue:Ae,definition:l(Ie),definitionDestinationString:u,definitionLabelString:u,definitionTitleString:u,emphasis:l(je),hardBreakEscape:l(Et),hardBreakTrailing:l(Et),htmlFlow:l(tn,u),htmlFlowData:Ae,htmlText:l(tn,u),htmlTextData:Ae,image:l(Ki),label:u,link:l(fi),listItem:l(da),listItemValue:v,listOrdered:l(ka,x),listUnordered:l(ka),paragraph:l($i),reference:I,referenceString:u,resourceDestinationString:u,resourceTitleString:u,setextHeading:l(Ge),strong:l(Ft),thematicBreak:l(Xi)},exit:{atxHeading:m(),atxHeadingSequence:B,autolink:m(),autolinkEmail:De,autolinkProtocol:Se,blockQuote:m(),characterEscapeValue:q,characterReferenceMarkerHexadecimal:H,characterReferenceMarkerNumeric:H,characterReferenceValue:re,characterReference:_e,codeFenced:m(U),codeFencedFence:D,codeFencedFenceInfo:S,codeFencedFenceMeta:_,codeFlowValue:q,codeIndented:m(L),codeText:m(ie),codeTextData:q,data:q,definition:m(),definitionDestinationString:$,definitionLabelString:K,definitionTitleString:G,emphasis:m(),hardBreakEscape:m(Ee),hardBreakTrailing:m(Ee),htmlFlow:m(Ce),htmlFlowData:q,htmlText:m(me),htmlTextData:q,image:m(j),label:k,labelText:R,lineEnding:be,link:m(W),listItem:m(),listOrdered:m(),listUnordered:m(),paragraph:m(),referenceString:oe,resourceDestinationString:C,resourceTitleString:F,resource:Q,setextHeading:m(ye),setextHeadingLineSequence:se,setextHeadingText:z,strong:m(),thematicBreak:m()}};tT(t,(e||{}).mdastExtensions||[]);const n={};return r;function r(le){let ge={type:"root",children:[]};const ke={stack:[ge],tokenStack:[],config:t,enter:f,exit:d,buffer:u,resume:g,data:n},Le=[];let st=-1;for(;++st<le.length;)if(le[st][1].type==="listOrdered"||le[st][1].type==="listUnordered")if(le[st][0]==="enter")Le.push(st);else{const nn=Le.pop();st=o(le,nn,st)}for(st=-1;++st<le.length;){const nn=t[le[st][0]];eT.call(nn,le[st][1].type)&&nn[le[st][1].type].call(Object.assign({sliceSerialize:le[st][2].sliceSerialize},ke),le[st][1])}if(ke.tokenStack.length>0){const nn=ke.tokenStack[ke.tokenStack.length-1];(nn[1]||o1).call(ke,void 0,nn[0])}for(ge.position={start:ni(le.length>0?le[0][1].start:{line:1,column:1,offset:0}),end:ni(le.length>0?le[le.length-2][1].end:{line:1,column:1,offset:0})},st=-1;++st<t.transforms.length;)ge=t.transforms[st](ge)||ge;return ge}function o(le,ge,ke){let Le=ge-1,st=-1,nn=!1,jn,Qt,Mn,Kt;for(;++Le<=ke;){const Dt=le[Le];switch(Dt[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{Dt[0]==="enter"?st++:st--,Kt=void 0;break}case"lineEndingBlank":{Dt[0]==="enter"&&(jn&&!Kt&&!st&&!Mn&&(Mn=Le),Kt=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:Kt=void 0}if(!st&&Dt[0]==="enter"&&Dt[1].type==="listItemPrefix"||st===-1&&Dt[0]==="exit"&&(Dt[1].type==="listUnordered"||Dt[1].type==="listOrdered")){if(jn){let on=Le;for(Qt=void 0;on--;){const sn=le[on];if(sn[1].type==="lineEnding"||sn[1].type==="lineEndingBlank"){if(sn[0]==="exit")continue;Qt&&(le[Qt][1].type="lineEndingBlank",nn=!0),sn[1].type="lineEnding",Qt=on}else if(!(sn[1].type==="linePrefix"||sn[1].type==="blockQuotePrefix"||sn[1].type==="blockQuotePrefixWhitespace"||sn[1].type==="blockQuoteMarker"||sn[1].type==="listItemIndent"))break}Mn&&(!Qt||Mn<Qt)&&(jn._spread=!0),jn.end=Object.assign({},Qt?le[Qt][1].start:Dt[1].end),le.splice(Qt||Le,0,["exit",jn,Dt[2]]),Le++,ke++}if(Dt[1].type==="listItemPrefix"){const on={type:"listItem",_spread:!1,start:Object.assign({},Dt[1].start),end:void 0};jn=on,le.splice(Le,0,["enter",on,Dt[2]]),Le++,ke++,Mn=void 0,Kt=!0}}}return le[ge][1]._spread=nn,ke}function l(le,ge){return ke;function ke(Le){f.call(this,le(Le),Le),ge&&ge.call(this,Le)}}function u(){this.stack.push({type:"fragment",children:[]})}function f(le,ge,ke){this.stack[this.stack.length-1].children.push(le),this.stack.push(le),this.tokenStack.push([ge,ke||void 0]),le.position={start:ni(ge.start),end:void 0}}function m(le){return ge;function ge(ke){le&&le.call(this,ke),d.call(this,ke)}}function d(le,ge){const ke=this.stack.pop(),Le=this.tokenStack.pop();if(Le)Le[0].type!==le.type&&(ge?ge.call(this,le,Le[0]):(Le[1]||o1).call(this,le,Le[0]));else throw new Error("Cannot close `"+le.type+"` ("+ms({start:le.start,end:le.end})+"): it’s not open");ke.position.end=ni(le.end)}function g(){return bm(this.stack.pop())}function x(){this.data.expectingFirstListItemValue=!0}function v(le){if(this.data.expectingFirstListItemValue){const ge=this.stack[this.stack.length-2];ge.start=Number.parseInt(this.sliceSerialize(le),10),this.data.expectingFirstListItemValue=void 0}}function S(){const le=this.resume(),ge=this.stack[this.stack.length-1];ge.lang=le}function _(){const le=this.resume(),ge=this.stack[this.stack.length-1];ge.meta=le}function D(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function U(){const le=this.resume(),ge=this.stack[this.stack.length-1];ge.value=le.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function L(){const le=this.resume(),ge=this.stack[this.stack.length-1];ge.value=le.replace(/(\r?\n|\r)$/g,"")}function K(le){const ge=this.resume(),ke=this.stack[this.stack.length-1];ke.label=ge,ke.identifier=Jn(this.sliceSerialize(le)).toLowerCase()}function G(){const le=this.resume(),ge=this.stack[this.stack.length-1];ge.title=le}function $(){const le=this.resume(),ge=this.stack[this.stack.length-1];ge.url=le}function B(le){const ge=this.stack[this.stack.length-1];if(!ge.depth){const ke=this.sliceSerialize(le).length;ge.depth=ke}}function z(){this.data.setextHeadingSlurpLineEnding=!0}function se(le){const ge=this.stack[this.stack.length-1];ge.depth=this.sliceSerialize(le).codePointAt(0)===61?1:2}function ye(){this.data.setextHeadingSlurpLineEnding=void 0}function Ae(le){const ke=this.stack[this.stack.length-1].children;let Le=ke[ke.length-1];(!Le||Le.type!=="text")&&(Le=mi(),Le.position={start:ni(le.start),end:void 0},ke.push(Le)),this.stack.push(Le)}function q(le){const ge=this.stack.pop();ge.value+=this.sliceSerialize(le),ge.position.end=ni(le.end)}function be(le){const ge=this.stack[this.stack.length-1];if(this.data.atHardBreak){const ke=ge.children[ge.children.length-1];ke.position.end=ni(le.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&t.canContainEols.includes(ge.type)&&(Ae.call(this,le),q.call(this,le))}function Ee(){this.data.atHardBreak=!0}function Ce(){const le=this.resume(),ge=this.stack[this.stack.length-1];ge.value=le}function me(){const le=this.resume(),ge=this.stack[this.stack.length-1];ge.value=le}function ie(){const le=this.resume(),ge=this.stack[this.stack.length-1];ge.value=le}function W(){const le=this.stack[this.stack.length-1];if(this.data.inReference){const ge=this.data.referenceType||"shortcut";le.type+="Reference",le.referenceType=ge,delete le.url,delete le.title}else delete le.identifier,delete le.label;this.data.referenceType=void 0}function j(){const le=this.stack[this.stack.length-1];if(this.data.inReference){const ge=this.data.referenceType||"shortcut";le.type+="Reference",le.referenceType=ge,delete le.url,delete le.title}else delete le.identifier,delete le.label;this.data.referenceType=void 0}function R(le){const ge=this.sliceSerialize(le),ke=this.stack[this.stack.length-2];ke.label=lM(ge),ke.identifier=Jn(ge).toLowerCase()}function k(){const le=this.stack[this.stack.length-1],ge=this.resume(),ke=this.stack[this.stack.length-1];if(this.data.inReference=!0,ke.type==="link"){const Le=le.children;ke.children=Le}else ke.alt=ge}function C(){const le=this.resume(),ge=this.stack[this.stack.length-1];ge.url=le}function F(){const le=this.resume(),ge=this.stack[this.stack.length-1];ge.title=le}function Q(){this.data.inReference=void 0}function I(){this.data.referenceType="collapsed"}function oe(le){const ge=this.resume(),ke=this.stack[this.stack.length-1];ke.label=ge,ke.identifier=Jn(this.sliceSerialize(le)).toLowerCase(),this.data.referenceType="full"}function H(le){this.data.characterReferenceType=le.type}function re(le){const ge=this.sliceSerialize(le),ke=this.data.characterReferenceType;let Le;ke?(Le=Gb(ge,ke==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):Le=Tm(ge);const st=this.stack[this.stack.length-1];st.value+=Le}function _e(le){const ge=this.stack.pop();ge.position.end=ni(le.end)}function Se(le){q.call(this,le);const ge=this.stack[this.stack.length-1];ge.url=this.sliceSerialize(le)}function De(le){q.call(this,le);const ge=this.stack[this.stack.length-1];ge.url="mailto:"+this.sliceSerialize(le)}function we(){return{type:"blockquote",children:[]}}function tt(){return{type:"code",lang:null,meta:null,value:""}}function Ue(){return{type:"inlineCode",value:""}}function Ie(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function je(){return{type:"emphasis",children:[]}}function Ge(){return{type:"heading",depth:0,children:[]}}function Et(){return{type:"break"}}function tn(){return{type:"html",value:""}}function Ki(){return{type:"image",title:null,url:"",alt:null}}function fi(){return{type:"link",title:null,url:"",children:[]}}function ka(le){return{type:"list",ordered:le.type==="listOrdered",start:null,spread:le._spread,children:[]}}function da(le){return{type:"listItem",spread:le._spread,checked:null,children:[]}}function $i(){return{type:"paragraph",children:[]}}function Ft(){return{type:"strong",children:[]}}function mi(){return{type:"text",value:""}}function Xi(){return{type:"thematicBreak"}}}function ni(e){return{line:e.line,column:e.column,offset:e.offset}}function tT(e,t){let n=-1;for(;++n<t.length;){const r=t[n];Array.isArray(r)?tT(e,r):fM(e,r)}}function fM(e,t){let n;for(n in t)if(eT.call(t,n))switch(n){case"canContainEols":{const r=t[n];r&&e[n].push(...r);break}case"transforms":{const r=t[n];r&&e[n].push(...r);break}case"enter":case"exit":{const r=t[n];r&&Object.assign(e[n],r);break}}}function o1(e,t){throw e?new Error("Cannot close `"+e.type+"` ("+ms({start:e.start,end:e.end})+"): a different token (`"+t.type+"`, "+ms({start:t.start,end:t.end})+") is open"):new Error("Cannot close document, a token (`"+t.type+"`, "+ms({start:t.start,end:t.end})+") is still open")}function mM(e){const t=this;t.parser=n;function n(r){return cM(r,{...t.data("settings"),...e,extensions:t.data("micromarkExtensions")||[],mdastExtensions:t.data("fromMarkdownExtensions")||[]})}}function hM(e,t){const n={type:"element",tagName:"blockquote",properties:{},children:e.wrap(e.all(t),!0)};return e.patch(t,n),e.applyData(t,n)}function pM(e,t){const n={type:"element",tagName:"br",properties:{},children:[]};return e.patch(t,n),[e.applyData(t,n),{type:"text",value:`
`}]}function gM(e,t){const n=t.value?t.value+`
`:"",r={};t.lang&&(r.className=["language-"+t.lang]);let o={type:"element",tagName:"code",properties:r,children:[{type:"text",value:n}]};return t.meta&&(o.data={meta:t.meta}),e.patch(t,o),o=e.applyData(t,o),o={type:"element",tagName:"pre",properties:{},children:[o]},e.patch(t,o),o}function yM(e,t){const n={type:"element",tagName:"del",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function bM(e,t){const n={type:"element",tagName:"em",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function TM(e,t){const n=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",r=String(t.identifier).toUpperCase(),o=Wr(r.toLowerCase()),l=e.footnoteOrder.indexOf(r);let u,f=e.footnoteCounts.get(r);f===void 0?(f=0,e.footnoteOrder.push(r),u=e.footnoteOrder.length):u=l+1,f+=1,e.footnoteCounts.set(r,f);const m={type:"element",tagName:"a",properties:{href:"#"+n+"fn-"+o,id:n+"fnref-"+o+(f>1?"-"+f:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(u)}]};e.patch(t,m);const d={type:"element",tagName:"sup",properties:{},children:[m]};return e.patch(t,d),e.applyData(t,d)}function EM(e,t){const n={type:"element",tagName:"h"+t.depth,properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function xM(e,t){if(e.options.allowDangerousHtml){const n={type:"raw",value:t.value};return e.patch(t,n),e.applyData(t,n)}}function nT(e,t){const n=t.referenceType;let r="]";if(n==="collapsed"?r+="[]":n==="full"&&(r+="["+(t.label||t.identifier)+"]"),t.type==="imageReference")return[{type:"text",value:"!["+t.alt+r}];const o=e.all(t),l=o[0];l&&l.type==="text"?l.value="["+l.value:o.unshift({type:"text",value:"["});const u=o[o.length-1];return u&&u.type==="text"?u.value+=r:o.push({type:"text",value:r}),o}function vM(e,t){const n=String(t.identifier).toUpperCase(),r=e.definitionById.get(n);if(!r)return nT(e,t);const o={src:Wr(r.url||""),alt:t.alt};r.title!==null&&r.title!==void 0&&(o.title=r.title);const l={type:"element",tagName:"img",properties:o,children:[]};return e.patch(t,l),e.applyData(t,l)}function CM(e,t){const n={src:Wr(t.url)};t.alt!==null&&t.alt!==void 0&&(n.alt=t.alt),t.title!==null&&t.title!==void 0&&(n.title=t.title);const r={type:"element",tagName:"img",properties:n,children:[]};return e.patch(t,r),e.applyData(t,r)}function SM(e,t){const n={type:"text",value:t.value.replace(/\r?\n|\r/g," ")};e.patch(t,n);const r={type:"element",tagName:"code",properties:{},children:[n]};return e.patch(t,r),e.applyData(t,r)}function AM(e,t){const n=String(t.identifier).toUpperCase(),r=e.definitionById.get(n);if(!r)return nT(e,t);const o={href:Wr(r.url||"")};r.title!==null&&r.title!==void 0&&(o.title=r.title);const l={type:"element",tagName:"a",properties:o,children:e.all(t)};return e.patch(t,l),e.applyData(t,l)}function _M(e,t){const n={href:Wr(t.url)};t.title!==null&&t.title!==void 0&&(n.title=t.title);const r={type:"element",tagName:"a",properties:n,children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function IM(e,t,n){const r=e.all(t),o=n?NM(n):aT(t),l={},u=[];if(typeof t.checked=="boolean"){const g=r[0];let x;g&&g.type==="element"&&g.tagName==="p"?x=g:(x={type:"element",tagName:"p",properties:{},children:[]},r.unshift(x)),x.children.length>0&&x.children.unshift({type:"text",value:" "}),x.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:t.checked,disabled:!0},children:[]}),l.className=["task-list-item"]}let f=-1;for(;++f<r.length;){const g=r[f];(o||f!==0||g.type!=="element"||g.tagName!=="p")&&u.push({type:"text",value:`
`}),g.type==="element"&&g.tagName==="p"&&!o?u.push(...g.children):u.push(g)}const m=r[r.length-1];m&&(o||m.type!=="element"||m.tagName!=="p")&&u.push({type:"text",value:`
`});const d={type:"element",tagName:"li",properties:l,children:u};return e.patch(t,d),e.applyData(t,d)}function NM(e){let t=!1;if(e.type==="list"){t=e.spread||!1;const n=e.children;let r=-1;for(;!t&&++r<n.length;)t=aT(n[r])}return t}function aT(e){const t=e.spread;return t??e.children.length>1}function MM(e,t){const n={},r=e.all(t);let o=-1;for(typeof t.start=="number"&&t.start!==1&&(n.start=t.start);++o<r.length;){const u=r[o];if(u.type==="element"&&u.tagName==="li"&&u.properties&&Array.isArray(u.properties.className)&&u.properties.className.includes("task-list-item")){n.className=["contains-task-list"];break}}const l={type:"element",tagName:t.ordered?"ol":"ul",properties:n,children:e.wrap(r,!0)};return e.patch(t,l),e.applyData(t,l)}function DM(e,t){const n={type:"element",tagName:"p",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function RM(e,t){const n={type:"root",children:e.wrap(e.all(t))};return e.patch(t,n),e.applyData(t,n)}function kM(e,t){const n={type:"element",tagName:"strong",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function wM(e,t){const n=e.all(t),r=n.shift(),o=[];if(r){const u={type:"element",tagName:"thead",properties:{},children:e.wrap([r],!0)};e.patch(t.children[0],u),o.push(u)}if(n.length>0){const u={type:"element",tagName:"tbody",properties:{},children:e.wrap(n,!0)},f=ua(t.children[1]),m=Ou(t.children[t.children.length-1]);f&&m&&(u.position={start:f,end:m}),o.push(u)}const l={type:"element",tagName:"table",properties:{},children:e.wrap(o,!0)};return e.patch(t,l),e.applyData(t,l)}function LM(e,t,n){const r=n?n.children:void 0,l=(r?r.indexOf(t):1)===0?"th":"td",u=n&&n.type==="table"?n.align:void 0,f=u?u.length:t.children.length;let m=-1;const d=[];for(;++m<f;){const x=t.children[m],v={},S=u?u[m]:void 0;S&&(v.align=S);let _={type:"element",tagName:l,properties:v,children:[]};x&&(_.children=e.all(x),e.patch(x,_),_=e.applyData(x,_)),d.push(_)}const g={type:"element",tagName:"tr",properties:{},children:e.wrap(d,!0)};return e.patch(t,g),e.applyData(t,g)}function OM(e,t){const n={type:"element",tagName:"td",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}const s1=9,l1=32;function PM(e){const t=String(e),n=/\r?\n|\r/g;let r=n.exec(t),o=0;const l=[];for(;r;)l.push(u1(t.slice(o,r.index),o>0,!0),r[0]),o=r.index+r[0].length,r=n.exec(t);return l.push(u1(t.slice(o),o>0,!1)),l.join("")}function u1(e,t,n){let r=0,o=e.length;if(t){let l=e.codePointAt(r);for(;l===s1||l===l1;)r++,l=e.codePointAt(r)}if(n){let l=e.codePointAt(o-1);for(;l===s1||l===l1;)o--,l=e.codePointAt(o-1)}return o>r?e.slice(r,o):""}function BM(e,t){const n={type:"text",value:PM(String(t.value))};return e.patch(t,n),e.applyData(t,n)}function FM(e,t){const n={type:"element",tagName:"hr",properties:{},children:[]};return e.patch(t,n),e.applyData(t,n)}const HM={blockquote:hM,break:pM,code:gM,delete:yM,emphasis:bM,footnoteReference:TM,heading:EM,html:xM,imageReference:vM,image:CM,inlineCode:SM,linkReference:AM,link:_M,listItem:IM,list:MM,paragraph:DM,root:RM,strong:kM,table:wM,tableCell:OM,tableRow:LM,text:BM,thematicBreak:FM,toml:au,yaml:au,definition:au,footnoteDefinition:au};function au(){}const iT=-1,Fu=0,ps=1,vu=2,xm=3,vm=4,Cm=5,Sm=6,rT=7,oT=8,c1=typeof self=="object"?self:globalThis,UM=(e,t)=>{const n=(o,l)=>(e.set(l,o),o),r=o=>{if(e.has(o))return e.get(o);const[l,u]=t[o];switch(l){case Fu:case iT:return n(u,o);case ps:{const f=n([],o);for(const m of u)f.push(r(m));return f}case vu:{const f=n({},o);for(const[m,d]of u)f[r(m)]=r(d);return f}case xm:return n(new Date(u),o);case vm:{const{source:f,flags:m}=u;return n(new RegExp(f,m),o)}case Cm:{const f=n(new Map,o);for(const[m,d]of u)f.set(r(m),r(d));return f}case Sm:{const f=n(new Set,o);for(const m of u)f.add(r(m));return f}case rT:{const{name:f,message:m}=u;return n(new c1[f](m),o)}case oT:return n(BigInt(u),o);case"BigInt":return n(Object(BigInt(u)),o);case"ArrayBuffer":return n(new Uint8Array(u).buffer,u);case"DataView":{const{buffer:f}=new Uint8Array(u);return n(new DataView(f),u)}}return n(new c1[l](u),o)};return r},d1=e=>UM(new Map,e)(0),Pr="",{toString:VM}={},{keys:zM}=Object,os=e=>{const t=typeof e;if(t!=="object"||!e)return[Fu,t];const n=VM.call(e).slice(8,-1);switch(n){case"Array":return[ps,Pr];case"Object":return[vu,Pr];case"Date":return[xm,Pr];case"RegExp":return[vm,Pr];case"Map":return[Cm,Pr];case"Set":return[Sm,Pr];case"DataView":return[ps,n]}return n.includes("Array")?[ps,n]:n.includes("Error")?[rT,n]:[vu,n]},iu=([e,t])=>e===Fu&&(t==="function"||t==="symbol"),jM=(e,t,n,r)=>{const o=(u,f)=>{const m=r.push(u)-1;return n.set(f,m),m},l=u=>{if(n.has(u))return n.get(u);let[f,m]=os(u);switch(f){case Fu:{let g=u;switch(m){case"bigint":f=oT,g=u.toString();break;case"function":case"symbol":if(e)throw new TypeError("unable to serialize "+m);g=null;break;case"undefined":return o([iT],u)}return o([f,g],u)}case ps:{if(m){let v=u;return m==="DataView"?v=new Uint8Array(u.buffer):m==="ArrayBuffer"&&(v=new Uint8Array(u)),o([m,[...v]],u)}const g=[],x=o([f,g],u);for(const v of u)g.push(l(v));return x}case vu:{if(m)switch(m){case"BigInt":return o([m,u.toString()],u);case"Boolean":case"Number":case"String":return o([m,u.valueOf()],u)}if(t&&"toJSON"in u)return l(u.toJSON());const g=[],x=o([f,g],u);for(const v of zM(u))(e||!iu(os(u[v])))&&g.push([l(v),l(u[v])]);return x}case xm:return o([f,u.toISOString()],u);case vm:{const{source:g,flags:x}=u;return o([f,{source:g,flags:x}],u)}case Cm:{const g=[],x=o([f,g],u);for(const[v,S]of u)(e||!(iu(os(v))||iu(os(S))))&&g.push([l(v),l(S)]);return x}case Sm:{const g=[],x=o([f,g],u);for(const v of u)(e||!iu(os(v)))&&g.push(l(v));return x}}const{message:d}=u;return o([f,{name:m,message:d}],u)};return l},f1=(e,{json:t,lossy:n}={})=>{const r=[];return jM(!(t||n),!!t,new Map,r)(e),r},qr=typeof structuredClone=="function"?(e,t)=>t&&("json"in t||"lossy"in t)?d1(f1(e,t)):structuredClone(e):(e,t)=>d1(f1(e,t));function GM(e,t){const n=[{type:"text",value:"↩"}];return t>1&&n.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(t)}]}),n}function qM(e,t){return"Back to reference "+(e+1)+(t>1?"-"+t:"")}function YM(e){const t=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",n=e.options.footnoteBackContent||GM,r=e.options.footnoteBackLabel||qM,o=e.options.footnoteLabel||"Footnotes",l=e.options.footnoteLabelTagName||"h2",u=e.options.footnoteLabelProperties||{className:["sr-only"]},f=[];let m=-1;for(;++m<e.footnoteOrder.length;){const d=e.footnoteById.get(e.footnoteOrder[m]);if(!d)continue;const g=e.all(d),x=String(d.identifier).toUpperCase(),v=Wr(x.toLowerCase());let S=0;const _=[],D=e.footnoteCounts.get(x);for(;D!==void 0&&++S<=D;){_.length>0&&_.push({type:"text",value:" "});let K=typeof n=="string"?n:n(m,S);typeof K=="string"&&(K={type:"text",value:K}),_.push({type:"element",tagName:"a",properties:{href:"#"+t+"fnref-"+v+(S>1?"-"+S:""),dataFootnoteBackref:"",ariaLabel:typeof r=="string"?r:r(m,S),className:["data-footnote-backref"]},children:Array.isArray(K)?K:[K]})}const U=g[g.length-1];if(U&&U.type==="element"&&U.tagName==="p"){const K=U.children[U.children.length-1];K&&K.type==="text"?K.value+=" ":U.children.push({type:"text",value:" "}),U.children.push(..._)}else g.push(..._);const L={type:"element",tagName:"li",properties:{id:t+"fn-"+v},children:e.wrap(g,!0)};e.patch(d,L),f.push(L)}if(f.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:l,properties:{...qr(u),id:"footnote-label"},children:[{type:"text",value:o}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:e.wrap(f,!0)},{type:"text",value:`
`}]}}const Hu=function(e){if(e==null)return XM;if(typeof e=="function")return Uu(e);if(typeof e=="object")return Array.isArray(e)?QM(e):KM(e);if(typeof e=="string")return $M(e);throw new Error("Expected function, string, or object as test")};function QM(e){const t=[];let n=-1;for(;++n<e.length;)t[n]=Hu(e[n]);return Uu(r);function r(...o){let l=-1;for(;++l<t.length;)if(t[l].apply(this,o))return!0;return!1}}function KM(e){const t=e;return Uu(n);function n(r){const o=r;let l;for(l in e)if(o[l]!==t[l])return!1;return!0}}function $M(e){return Uu(t);function t(n){return n&&n.type===e}}function Uu(e){return t;function t(n,r,o){return!!(WM(n)&&e.call(this,n,typeof r=="number"?r:void 0,o||void 0))}}function XM(){return!0}function WM(e){return e!==null&&typeof e=="object"&&"type"in e}const sT=[],JM=!0,Xf=!1,ZM="skip";function lT(e,t,n,r){let o;typeof t=="function"&&typeof n!="function"?(r=n,n=t):o=t;const l=Hu(o),u=r?-1:1;f(e,void 0,[])();function f(m,d,g){const x=m&&typeof m=="object"?m:{};if(typeof x.type=="string"){const S=typeof x.tagName=="string"?x.tagName:typeof x.name=="string"?x.name:void 0;Object.defineProperty(v,"name",{value:"node ("+(m.type+(S?"<"+S+">":""))+")"})}return v;function v(){let S=sT,_,D,U;if((!t||l(m,d,g[g.length-1]||void 0))&&(S=eD(n(m,g)),S[0]===Xf))return S;if("children"in m&&m.children){const L=m;if(L.children&&S[0]!==ZM)for(D=(r?L.children.length:-1)+u,U=g.concat(L);D>-1&&D<L.children.length;){const K=L.children[D];if(_=f(K,D,U)(),_[0]===Xf)return _;D=typeof _[1]=="number"?_[1]:D+u}}return S}}}function eD(e){return Array.isArray(e)?e:typeof e=="number"?[JM,e]:e==null?sT:[e]}function Vu(e,t,n,r){let o,l,u;typeof t=="function"&&typeof n!="function"?(l=void 0,u=t,o=n):(l=t,u=n,o=r),lT(e,l,f,o);function f(m,d){const g=d[d.length-1],x=g?g.children.indexOf(m):void 0;return u(m,x,g)}}const Wf={}.hasOwnProperty,tD={};function nD(e,t){const n=t||tD,r=new Map,o=new Map,l=new Map,u={...HM,...n.handlers},f={all:d,applyData:iD,definitionById:r,footnoteById:o,footnoteCounts:l,footnoteOrder:[],handlers:u,one:m,options:n,patch:aD,wrap:oD};return Vu(e,function(g){if(g.type==="definition"||g.type==="footnoteDefinition"){const x=g.type==="definition"?r:o,v=String(g.identifier).toUpperCase();x.has(v)||x.set(v,g)}}),f;function m(g,x){const v=g.type,S=f.handlers[v];if(Wf.call(f.handlers,v)&&S)return S(f,g,x);if(f.options.passThrough&&f.options.passThrough.includes(v)){if("children"in g){const{children:D,...U}=g,L=qr(U);return L.children=f.all(g),L}return qr(g)}return(f.options.unknownHandler||rD)(f,g,x)}function d(g){const x=[];if("children"in g){const v=g.children;let S=-1;for(;++S<v.length;){const _=f.one(v[S],g);if(_){if(S&&v[S-1].type==="break"&&(!Array.isArray(_)&&_.type==="text"&&(_.value=m1(_.value)),!Array.isArray(_)&&_.type==="element")){const D=_.children[0];D&&D.type==="text"&&(D.value=m1(D.value))}Array.isArray(_)?x.push(..._):x.push(_)}}}return x}}function aD(e,t){e.position&&(t.position=qI(e))}function iD(e,t){let n=t;if(e&&e.data){const r=e.data.hName,o=e.data.hChildren,l=e.data.hProperties;if(typeof r=="string")if(n.type==="element")n.tagName=r;else{const u="children"in n?n.children:[n];n={type:"element",tagName:r,properties:{},children:u}}n.type==="element"&&l&&Object.assign(n.properties,qr(l)),"children"in n&&n.children&&o!==null&&o!==void 0&&(n.children=o)}return n}function rD(e,t){const n=t.data||{},r="value"in t&&!(Wf.call(n,"hProperties")||Wf.call(n,"hChildren"))?{type:"text",value:t.value}:{type:"element",tagName:"div",properties:{},children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function oD(e,t){const n=[];let r=-1;for(t&&n.push({type:"text",value:`
`});++r<e.length;)r&&n.push({type:"text",value:`
`}),n.push(e[r]);return t&&e.length>0&&n.push({type:"text",value:`
`}),n}function m1(e){let t=0,n=e.charCodeAt(t);for(;n===9||n===32;)t++,n=e.charCodeAt(t);return e.slice(t)}function h1(e,t){const n=nD(e,t),r=n.one(e,void 0),o=YM(n),l=Array.isArray(r)?{type:"root",children:r}:r||{type:"root",children:[]};return o&&l.children.push({type:"text",value:`
`},o),l}function sD(e,t){return e&&"run"in e?async function(n,r){const o=h1(n,{file:r,...t});await e.run(o,r)}:function(n,r){return h1(n,{file:r,...e||t})}}function p1(e){if(e)throw e}var gf,g1;function lD(){if(g1)return gf;g1=1;var e=Object.prototype.hasOwnProperty,t=Object.prototype.toString,n=Object.defineProperty,r=Object.getOwnPropertyDescriptor,o=function(d){return typeof Array.isArray=="function"?Array.isArray(d):t.call(d)==="[object Array]"},l=function(d){if(!d||t.call(d)!=="[object Object]")return!1;var g=e.call(d,"constructor"),x=d.constructor&&d.constructor.prototype&&e.call(d.constructor.prototype,"isPrototypeOf");if(d.constructor&&!g&&!x)return!1;var v;for(v in d);return typeof v>"u"||e.call(d,v)},u=function(d,g){n&&g.name==="__proto__"?n(d,g.name,{enumerable:!0,configurable:!0,value:g.newValue,writable:!0}):d[g.name]=g.newValue},f=function(d,g){if(g==="__proto__")if(e.call(d,g)){if(r)return r(d,g).value}else return;return d[g]};return gf=function m(){var d,g,x,v,S,_,D=arguments[0],U=1,L=arguments.length,K=!1;for(typeof D=="boolean"&&(K=D,D=arguments[1]||{},U=2),(D==null||typeof D!="object"&&typeof D!="function")&&(D={});U<L;++U)if(d=arguments[U],d!=null)for(g in d)x=f(D,g),v=f(d,g),D!==v&&(K&&v&&(l(v)||(S=o(v)))?(S?(S=!1,_=x&&o(x)?x:[]):_=x&&l(x)?x:{},u(D,{name:g,newValue:m(K,_,v)})):typeof v<"u"&&u(D,{name:g,newValue:v}));return D},gf}var uD=lD();const yf=Ms(uD);function Jf(e){if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function cD(){const e=[],t={run:n,use:r};return t;function n(...o){let l=-1;const u=o.pop();if(typeof u!="function")throw new TypeError("Expected function as last argument, not "+u);f(null,...o);function f(m,...d){const g=e[++l];let x=-1;if(m){u(m);return}for(;++x<o.length;)(d[x]===null||d[x]===void 0)&&(d[x]=o[x]);o=d,g?dD(g,f)(...d):u(null,...d)}}function r(o){if(typeof o!="function")throw new TypeError("Expected `middelware` to be a function, not "+o);return e.push(o),t}}function dD(e,t){let n;return r;function r(...u){const f=e.length>u.length;let m;f&&u.push(o);try{m=e.apply(this,u)}catch(d){const g=d;if(f&&n)throw g;return o(g)}f||(m&&m.then&&typeof m.then=="function"?m.then(l,o):m instanceof Error?o(m):l(m))}function o(u,...f){n||(n=!0,t(u,...f))}function l(u){o(null,u)}}const oa={basename:fD,dirname:mD,extname:hD,join:pD,sep:"/"};function fD(e,t){if(t!==void 0&&typeof t!="string")throw new TypeError('"ext" argument must be a string');ws(e);let n=0,r=-1,o=e.length,l;if(t===void 0||t.length===0||t.length>e.length){for(;o--;)if(e.codePointAt(o)===47){if(l){n=o+1;break}}else r<0&&(l=!0,r=o+1);return r<0?"":e.slice(n,r)}if(t===e)return"";let u=-1,f=t.length-1;for(;o--;)if(e.codePointAt(o)===47){if(l){n=o+1;break}}else u<0&&(l=!0,u=o+1),f>-1&&(e.codePointAt(o)===t.codePointAt(f--)?f<0&&(r=o):(f=-1,r=u));return n===r?r=u:r<0&&(r=e.length),e.slice(n,r)}function mD(e){if(ws(e),e.length===0)return".";let t=-1,n=e.length,r;for(;--n;)if(e.codePointAt(n)===47){if(r){t=n;break}}else r||(r=!0);return t<0?e.codePointAt(0)===47?"/":".":t===1&&e.codePointAt(0)===47?"//":e.slice(0,t)}function hD(e){ws(e);let t=e.length,n=-1,r=0,o=-1,l=0,u;for(;t--;){const f=e.codePointAt(t);if(f===47){if(u){r=t+1;break}continue}n<0&&(u=!0,n=t+1),f===46?o<0?o=t:l!==1&&(l=1):o>-1&&(l=-1)}return o<0||n<0||l===0||l===1&&o===n-1&&o===r+1?"":e.slice(o,n)}function pD(...e){let t=-1,n;for(;++t<e.length;)ws(e[t]),e[t]&&(n=n===void 0?e[t]:n+"/"+e[t]);return n===void 0?".":gD(n)}function gD(e){ws(e);const t=e.codePointAt(0)===47;let n=yD(e,!t);return n.length===0&&!t&&(n="."),n.length>0&&e.codePointAt(e.length-1)===47&&(n+="/"),t?"/"+n:n}function yD(e,t){let n="",r=0,o=-1,l=0,u=-1,f,m;for(;++u<=e.length;){if(u<e.length)f=e.codePointAt(u);else{if(f===47)break;f=47}if(f===47){if(!(o===u-1||l===1))if(o!==u-1&&l===2){if(n.length<2||r!==2||n.codePointAt(n.length-1)!==46||n.codePointAt(n.length-2)!==46){if(n.length>2){if(m=n.lastIndexOf("/"),m!==n.length-1){m<0?(n="",r=0):(n=n.slice(0,m),r=n.length-1-n.lastIndexOf("/")),o=u,l=0;continue}}else if(n.length>0){n="",r=0,o=u,l=0;continue}}t&&(n=n.length>0?n+"/..":"..",r=2)}else n.length>0?n+="/"+e.slice(o+1,u):n=e.slice(o+1,u),r=u-o-1;o=u,l=0}else f===46&&l>-1?l++:l=-1}return n}function ws(e){if(typeof e!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}const bD={cwd:TD};function TD(){return"/"}function Zf(e){return!!(e!==null&&typeof e=="object"&&"href"in e&&e.href&&"protocol"in e&&e.protocol&&e.auth===void 0)}function ED(e){if(typeof e=="string")e=new URL(e);else if(!Zf(e)){const t=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+e+"`");throw t.code="ERR_INVALID_ARG_TYPE",t}if(e.protocol!=="file:"){const t=new TypeError("The URL must be of scheme file");throw t.code="ERR_INVALID_URL_SCHEME",t}return xD(e)}function xD(e){if(e.hostname!==""){const r=new TypeError('File URL host must be "localhost" or empty on darwin');throw r.code="ERR_INVALID_FILE_URL_HOST",r}const t=e.pathname;let n=-1;for(;++n<t.length;)if(t.codePointAt(n)===37&&t.codePointAt(n+1)===50){const r=t.codePointAt(n+2);if(r===70||r===102){const o=new TypeError("File URL path must not include encoded / characters");throw o.code="ERR_INVALID_FILE_URL_PATH",o}}return decodeURIComponent(t)}const bf=["history","path","basename","stem","extname","dirname"];class uT{constructor(t){let n;t?Zf(t)?n={path:t}:typeof t=="string"||vD(t)?n={value:t}:n=t:n={},this.cwd="cwd"in n?"":bD.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let r=-1;for(;++r<bf.length;){const l=bf[r];l in n&&n[l]!==void 0&&n[l]!==null&&(this[l]=l==="history"?[...n[l]]:n[l])}let o;for(o in n)bf.includes(o)||(this[o]=n[o])}get basename(){return typeof this.path=="string"?oa.basename(this.path):void 0}set basename(t){Ef(t,"basename"),Tf(t,"basename"),this.path=oa.join(this.dirname||"",t)}get dirname(){return typeof this.path=="string"?oa.dirname(this.path):void 0}set dirname(t){y1(this.basename,"dirname"),this.path=oa.join(t||"",this.basename)}get extname(){return typeof this.path=="string"?oa.extname(this.path):void 0}set extname(t){if(Tf(t,"extname"),y1(this.dirname,"extname"),t){if(t.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(t.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=oa.join(this.dirname,this.stem+(t||""))}get path(){return this.history[this.history.length-1]}set path(t){Zf(t)&&(t=ED(t)),Ef(t,"path"),this.path!==t&&this.history.push(t)}get stem(){return typeof this.path=="string"?oa.basename(this.path,this.extname):void 0}set stem(t){Ef(t,"stem"),Tf(t,"stem"),this.path=oa.join(this.dirname||"",t+(this.extname||""))}fail(t,n,r){const o=this.message(t,n,r);throw o.fatal=!0,o}info(t,n,r){const o=this.message(t,n,r);return o.fatal=void 0,o}message(t,n,r){const o=new Zt(t,n,r);return this.path&&(o.name=this.path+":"+o.name,o.file=this.path),o.fatal=!1,this.messages.push(o),o}toString(t){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(t||void 0).decode(this.value)}}function Tf(e,t){if(e&&e.includes(oa.sep))throw new Error("`"+t+"` cannot be a path: did not expect `"+oa.sep+"`")}function Ef(e,t){if(!e)throw new Error("`"+t+"` cannot be empty")}function y1(e,t){if(!e)throw new Error("Setting `"+t+"` requires `path` to be set too")}function vD(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const CD=function(e){const r=this.constructor.prototype,o=r[e],l=function(){return o.apply(l,arguments)};return Object.setPrototypeOf(l,r),l},SD={}.hasOwnProperty;class Am extends CD{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=cD()}copy(){const t=new Am;let n=-1;for(;++n<this.attachers.length;){const r=this.attachers[n];t.use(...r)}return t.data(yf(!0,{},this.namespace)),t}data(t,n){return typeof t=="string"?arguments.length===2?(Cf("data",this.frozen),this.namespace[t]=n,this):SD.call(this.namespace,t)&&this.namespace[t]||void 0:t?(Cf("data",this.frozen),this.namespace=t,this):this.namespace}freeze(){if(this.frozen)return this;const t=this;for(;++this.freezeIndex<this.attachers.length;){const[n,...r]=this.attachers[this.freezeIndex];if(r[0]===!1)continue;r[0]===!0&&(r[0]=void 0);const o=n.call(t,...r);typeof o=="function"&&this.transformers.use(o)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(t){this.freeze();const n=ru(t),r=this.parser||this.Parser;return xf("parse",r),r(String(n),n)}process(t,n){const r=this;return this.freeze(),xf("process",this.parser||this.Parser),vf("process",this.compiler||this.Compiler),n?o(void 0,n):new Promise(o);function o(l,u){const f=ru(t),m=r.parse(f);r.run(m,f,function(g,x,v){if(g||!x||!v)return d(g);const S=x,_=r.stringify(S,v);ID(_)?v.value=_:v.result=_,d(g,v)});function d(g,x){g||!x?u(g):l?l(x):n(void 0,x)}}}processSync(t){let n=!1,r;return this.freeze(),xf("processSync",this.parser||this.Parser),vf("processSync",this.compiler||this.Compiler),this.process(t,o),T1("processSync","process",n),r;function o(l,u){n=!0,p1(l),r=u}}run(t,n,r){b1(t),this.freeze();const o=this.transformers;return!r&&typeof n=="function"&&(r=n,n=void 0),r?l(void 0,r):new Promise(l);function l(u,f){const m=ru(n);o.run(t,m,d);function d(g,x,v){const S=x||t;g?f(g):u?u(S):r(void 0,S,v)}}}runSync(t,n){let r=!1,o;return this.run(t,n,l),T1("runSync","run",r),o;function l(u,f){p1(u),o=f,r=!0}}stringify(t,n){this.freeze();const r=ru(n),o=this.compiler||this.Compiler;return vf("stringify",o),b1(t),o(t,r)}use(t,...n){const r=this.attachers,o=this.namespace;if(Cf("use",this.frozen),t!=null)if(typeof t=="function")m(t,n);else if(typeof t=="object")Array.isArray(t)?f(t):u(t);else throw new TypeError("Expected usable value, not `"+t+"`");return this;function l(d){if(typeof d=="function")m(d,[]);else if(typeof d=="object")if(Array.isArray(d)){const[g,...x]=d;m(g,x)}else u(d);else throw new TypeError("Expected usable value, not `"+d+"`")}function u(d){if(!("plugins"in d)&&!("settings"in d))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");f(d.plugins),d.settings&&(o.settings=yf(!0,o.settings,d.settings))}function f(d){let g=-1;if(d!=null)if(Array.isArray(d))for(;++g<d.length;){const x=d[g];l(x)}else throw new TypeError("Expected a list of plugins, not `"+d+"`")}function m(d,g){let x=-1,v=-1;for(;++x<r.length;)if(r[x][0]===d){v=x;break}if(v===-1)r.push([d,...g]);else if(g.length>0){let[S,..._]=g;const D=r[v][1];Jf(D)&&Jf(S)&&(S=yf(!0,D,S)),r[v]=[d,S,..._]}}}}const AD=new Am().freeze();function xf(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `parser`")}function vf(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `compiler`")}function Cf(e,t){if(t)throw new Error("Cannot call `"+e+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function b1(e){if(!Jf(e)||typeof e.type!="string")throw new TypeError("Expected node, got `"+e+"`")}function T1(e,t,n){if(!n)throw new Error("`"+e+"` finished async. Use `"+t+"` instead")}function ru(e){return _D(e)?e:new uT(e)}function _D(e){return!!(e&&typeof e=="object"&&"message"in e&&"messages"in e)}function ID(e){return typeof e=="string"||ND(e)}function ND(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const MD="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",E1=[],x1={allowDangerousHtml:!0},DD=/^(https?|ircs?|mailto|xmpp)$/i,RD=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"className",id:"remove-classname"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function cT(e){const t=kD(e),n=wD(e);return LD(t.runSync(t.parse(n),n),e)}function kD(e){const t=e.rehypePlugins||E1,n=e.remarkPlugins||E1,r=e.remarkRehypeOptions?{...e.remarkRehypeOptions,...x1}:x1;return AD().use(mM).use(n).use(sD,r).use(t)}function wD(e){const t=e.children||"",n=new uT;return typeof t=="string"&&(n.value=t),n}function LD(e,t){const n=t.allowedElements,r=t.allowElement,o=t.components,l=t.disallowedElements,u=t.skipHtml,f=t.unwrapDisallowed,m=t.urlTransform||OD;for(const g of RD)Object.hasOwn(t,g.from)&&(""+g.from+(g.to?"use `"+g.to+"` instead":"remove it")+MD+g.id,void 0);return Vu(e,d),XI(e,{Fragment:p.Fragment,components:o,ignoreInvalidStyle:!0,jsx:p.jsx,jsxs:p.jsxs,passKeys:!0,passNode:!0});function d(g,x,v){if(g.type==="raw"&&v&&typeof x=="number")return u?v.children.splice(x,1):v.children[x]={type:"text",value:g.value},x;if(g.type==="element"){let S;for(S in mf)if(Object.hasOwn(mf,S)&&Object.hasOwn(g.properties,S)){const _=g.properties[S],D=mf[S];(D===null||D.includes(g.tagName))&&(g.properties[S]=m(String(_||""),S,g))}}if(g.type==="element"){let S=n?!n.includes(g.tagName):l?l.includes(g.tagName):!1;if(!S&&r&&typeof x=="number"&&(S=!r(g,x,v)),S&&v&&typeof x=="number")return f&&g.children?v.children.splice(x,1,...g.children):v.children.splice(x,1),x}}}function OD(e){const t=e.indexOf(":"),n=e.indexOf("?"),r=e.indexOf("#"),o=e.indexOf("/");return t===-1||o!==-1&&t>o||n!==-1&&t>n||r!==-1&&t>r||DD.test(e.slice(0,t))?e:""}function v1(e,t){const n=String(e);if(typeof t!="string")throw new TypeError("Expected character");let r=0,o=n.indexOf(t);for(;o!==-1;)r++,o=n.indexOf(t,o+t.length);return r}function PD(e){if(typeof e!="string")throw new TypeError("Expected a string");return e.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}function dT(e,t,n){const o=Hu((n||{}).ignore||[]),l=BD(t);let u=-1;for(;++u<l.length;)lT(e,"text",f);function f(d,g){let x=-1,v;for(;++x<g.length;){const S=g[x],_=v?v.children:void 0;if(o(S,_?_.indexOf(S):void 0,v))return;v=S}if(v)return m(d,g)}function m(d,g){const x=g[g.length-1],v=l[u][0],S=l[u][1];let _=0;const U=x.children.indexOf(d);let L=!1,K=[];v.lastIndex=0;let G=v.exec(d.value);for(;G;){const $=G.index,B={index:G.index,input:G.input,stack:[...g,d]};let z=S(...G,B);if(typeof z=="string"&&(z=z.length>0?{type:"text",value:z}:void 0),z===!1?v.lastIndex=$+1:(_!==$&&K.push({type:"text",value:d.value.slice(_,$)}),Array.isArray(z)?K.push(...z):z&&K.push(z),_=$+G[0].length,L=!0),!v.global)break;G=v.exec(d.value)}return L?(_<d.value.length&&K.push({type:"text",value:d.value.slice(_)}),x.children.splice(U,1,...K)):K=[d],U+K.length}}function BD(e){const t=[];if(!Array.isArray(e))throw new TypeError("Expected find and replace tuple or list of tuples");const n=!e[0]||Array.isArray(e[0])?e:[e];let r=-1;for(;++r<n.length;){const o=n[r];t.push([FD(o[0]),HD(o[1])])}return t}function FD(e){return typeof e=="string"?new RegExp(PD(e),"g"):e}function HD(e){return typeof e=="function"?e:function(){return e}}const Sf="phrasing",Af=["autolink","link","image","label"];function UD(){return{transforms:[QD],enter:{literalAutolink:zD,literalAutolinkEmail:_f,literalAutolinkHttp:_f,literalAutolinkWww:_f},exit:{literalAutolink:YD,literalAutolinkEmail:qD,literalAutolinkHttp:jD,literalAutolinkWww:GD}}}function VD(){return{unsafe:[{character:"@",before:"[+\\-.\\w]",after:"[\\-.\\w]",inConstruct:Sf,notInConstruct:Af},{character:".",before:"[Ww]",after:"[\\-.\\w]",inConstruct:Sf,notInConstruct:Af},{character:":",before:"[ps]",after:"\\/",inConstruct:Sf,notInConstruct:Af}]}}function zD(e){this.enter({type:"link",title:null,url:"",children:[]},e)}function _f(e){this.config.enter.autolinkProtocol.call(this,e)}function jD(e){this.config.exit.autolinkProtocol.call(this,e)}function GD(e){this.config.exit.data.call(this,e);const t=this.stack[this.stack.length-1];t.type,t.url="http://"+this.sliceSerialize(e)}function qD(e){this.config.exit.autolinkEmail.call(this,e)}function YD(e){this.exit(e)}function QD(e){dT(e,[[/(https?:\/\/|www(?=\.))([-.\w]+)([^ \t\r\n]*)/gi,KD],[new RegExp("(?<=^|\\s|\\p{P}|\\p{S})([-.\\w+]+)@([-\\w]+(?:\\.[-\\w]+)+)","gu"),$D]],{ignore:["link","linkReference"]})}function KD(e,t,n,r,o){let l="";if(!fT(o)||(/^w/i.test(t)&&(n=t+n,t="",l="http://"),!XD(n)))return!1;const u=WD(n+r);if(!u[0])return!1;const f={type:"link",title:null,url:l+t+u[0],children:[{type:"text",value:t+u[0]}]};return u[1]?[f,{type:"text",value:u[1]}]:f}function $D(e,t,n,r){return!fT(r,!0)||/[-\d_]$/.test(n)?!1:{type:"link",title:null,url:"mailto:"+t+"@"+n,children:[{type:"text",value:t+"@"+n}]}}function XD(e){const t=e.split(".");return!(t.length<2||t[t.length-1]&&(/_/.test(t[t.length-1])||!/[a-zA-Z\d]/.test(t[t.length-1]))||t[t.length-2]&&(/_/.test(t[t.length-2])||!/[a-zA-Z\d]/.test(t[t.length-2])))}function WD(e){const t=/[!"&'),.:;<>?\]}]+$/.exec(e);if(!t)return[e,void 0];e=e.slice(0,t.index);let n=t[0],r=n.indexOf(")");const o=v1(e,"(");let l=v1(e,")");for(;r!==-1&&o>l;)e+=n.slice(0,r+1),n=n.slice(r+1),r=n.indexOf(")"),l++;return[e,n]}function fT(e,t){const n=e.input.charCodeAt(e.index-1);return(e.index===0||zi(n)||Pu(n))&&(!t||n!==47)}mT.peek=oR;function JD(){this.buffer()}function ZD(e){this.enter({type:"footnoteReference",identifier:"",label:""},e)}function eR(){this.buffer()}function tR(e){this.enter({type:"footnoteDefinition",identifier:"",label:"",children:[]},e)}function nR(e){const t=this.resume(),n=this.stack[this.stack.length-1];n.type,n.identifier=Jn(this.sliceSerialize(e)).toLowerCase(),n.label=t}function aR(e){this.exit(e)}function iR(e){const t=this.resume(),n=this.stack[this.stack.length-1];n.type,n.identifier=Jn(this.sliceSerialize(e)).toLowerCase(),n.label=t}function rR(e){this.exit(e)}function oR(){return"["}function mT(e,t,n,r){const o=n.createTracker(r);let l=o.move("[^");const u=n.enter("footnoteReference"),f=n.enter("reference");return l+=o.move(n.safe(n.associationId(e),{after:"]",before:l})),f(),u(),l+=o.move("]"),l}function sR(){return{enter:{gfmFootnoteCallString:JD,gfmFootnoteCall:ZD,gfmFootnoteDefinitionLabelString:eR,gfmFootnoteDefinition:tR},exit:{gfmFootnoteCallString:nR,gfmFootnoteCall:aR,gfmFootnoteDefinitionLabelString:iR,gfmFootnoteDefinition:rR}}}function lR(e){let t=!1;return e&&e.firstLineBlank&&(t=!0),{handlers:{footnoteDefinition:n,footnoteReference:mT},unsafe:[{character:"[",inConstruct:["label","phrasing","reference"]}]};function n(r,o,l,u){const f=l.createTracker(u);let m=f.move("[^");const d=l.enter("footnoteDefinition"),g=l.enter("label");return m+=f.move(l.safe(l.associationId(r),{before:m,after:"]"})),g(),m+=f.move("]:"),r.children&&r.children.length>0&&(f.shift(4),m+=f.move((t?`
`:" ")+l.indentLines(l.containerFlow(r,f.current()),t?hT:uR))),d(),m}}function uR(e,t,n){return t===0?e:hT(e,t,n)}function hT(e,t,n){return(n?"":"    ")+e}const cR=["autolink","destinationLiteral","destinationRaw","reference","titleQuote","titleApostrophe"];pT.peek=pR;function dR(){return{canContainEols:["delete"],enter:{strikethrough:mR},exit:{strikethrough:hR}}}function fR(){return{unsafe:[{character:"~",inConstruct:"phrasing",notInConstruct:cR}],handlers:{delete:pT}}}function mR(e){this.enter({type:"delete",children:[]},e)}function hR(e){this.exit(e)}function pT(e,t,n,r){const o=n.createTracker(r),l=n.enter("strikethrough");let u=o.move("~~");return u+=n.containerPhrasing(e,{...o.current(),before:u,after:"~"}),u+=o.move("~~"),l(),u}function pR(){return"~"}function gR(e){return e.length}function yR(e,t){const n=t||{},r=(n.align||[]).concat(),o=n.stringLength||gR,l=[],u=[],f=[],m=[];let d=0,g=-1;for(;++g<e.length;){const D=[],U=[];let L=-1;for(e[g].length>d&&(d=e[g].length);++L<e[g].length;){const K=bR(e[g][L]);if(n.alignDelimiters!==!1){const G=o(K);U[L]=G,(m[L]===void 0||G>m[L])&&(m[L]=G)}D.push(K)}u[g]=D,f[g]=U}let x=-1;if(typeof r=="object"&&"length"in r)for(;++x<d;)l[x]=C1(r[x]);else{const D=C1(r);for(;++x<d;)l[x]=D}x=-1;const v=[],S=[];for(;++x<d;){const D=l[x];let U="",L="";D===99?(U=":",L=":"):D===108?U=":":D===114&&(L=":");let K=n.alignDelimiters===!1?1:Math.max(1,m[x]-U.length-L.length);const G=U+"-".repeat(K)+L;n.alignDelimiters!==!1&&(K=U.length+K+L.length,K>m[x]&&(m[x]=K),S[x]=K),v[x]=G}u.splice(1,0,v),f.splice(1,0,S),g=-1;const _=[];for(;++g<u.length;){const D=u[g],U=f[g];x=-1;const L=[];for(;++x<d;){const K=D[x]||"";let G="",$="";if(n.alignDelimiters!==!1){const B=m[x]-(U[x]||0),z=l[x];z===114?G=" ".repeat(B):z===99?B%2?(G=" ".repeat(B/2+.5),$=" ".repeat(B/2-.5)):(G=" ".repeat(B/2),$=G):$=" ".repeat(B)}n.delimiterStart!==!1&&!x&&L.push("|"),n.padding!==!1&&!(n.alignDelimiters===!1&&K==="")&&(n.delimiterStart!==!1||x)&&L.push(" "),n.alignDelimiters!==!1&&L.push(G),L.push(K),n.alignDelimiters!==!1&&L.push($),n.padding!==!1&&L.push(" "),(n.delimiterEnd!==!1||x!==d-1)&&L.push("|")}_.push(n.delimiterEnd===!1?L.join("").replace(/ +$/,""):L.join(""))}return _.join(`
`)}function bR(e){return e==null?"":String(e)}function C1(e){const t=typeof e=="string"?e.codePointAt(0):0;return t===67||t===99?99:t===76||t===108?108:t===82||t===114?114:0}const S1={}.hasOwnProperty;function gT(e,t){const n=t||{};function r(o,...l){let u=r.invalid;const f=r.handlers;if(o&&S1.call(o,e)){const m=String(o[e]);u=S1.call(f,m)?f[m]:r.unknown}if(u)return u.call(this,o,...l)}return r.handlers=n.handlers||{},r.invalid=n.invalid,r.unknown=n.unknown,r}function TR(e,t,n,r){const o=n.enter("blockquote"),l=n.createTracker(r);l.move("> "),l.shift(2);const u=n.indentLines(n.containerFlow(e,l.current()),ER);return o(),u}function ER(e,t,n){return">"+(n?"":" ")+e}function xR(e,t){return A1(e,t.inConstruct,!0)&&!A1(e,t.notInConstruct,!1)}function A1(e,t,n){if(typeof t=="string"&&(t=[t]),!t||t.length===0)return n;let r=-1;for(;++r<t.length;)if(e.includes(t[r]))return!0;return!1}function _1(e,t,n,r){let o=-1;for(;++o<n.unsafe.length;)if(n.unsafe[o].character===`
`&&xR(n.stack,n.unsafe[o]))return/[ \t]/.test(r.before)?"":" ";return`\\
`}function vR(e,t){const n=String(e);let r=n.indexOf(t),o=r,l=0,u=0;if(typeof t!="string")throw new TypeError("Expected substring");for(;r!==-1;)r===o?++l>u&&(u=l):l=1,o=r+t.length,r=n.indexOf(t,o);return u}function CR(e,t){return!!(t.options.fences===!1&&e.value&&!e.lang&&/[^ \r\n]/.test(e.value)&&!/^[\t ]*(?:[\r\n]|$)|(?:^|[\r\n])[\t ]*$/.test(e.value))}function SR(e){const t=e.options.fence||"`";if(t!=="`"&&t!=="~")throw new Error("Cannot serialize code with `"+t+"` for `options.fence`, expected `` ` `` or `~`");return t}function AR(e,t,n,r){const o=SR(n),l=e.value||"",u=o==="`"?"GraveAccent":"Tilde";if(CR(e,n)){const x=n.enter("codeIndented"),v=n.indentLines(l,_R);return x(),v}const f=n.createTracker(r),m=o.repeat(Math.max(vR(l,o)+1,3)),d=n.enter("codeFenced");let g=f.move(m);if(e.lang){const x=n.enter(`codeFencedLang${u}`);g+=f.move(n.safe(e.lang,{before:g,after:" ",encode:["`"],...f.current()})),x()}if(e.lang&&e.meta){const x=n.enter(`codeFencedMeta${u}`);g+=f.move(" "),g+=f.move(n.safe(e.meta,{before:g,after:`
`,encode:["`"],...f.current()})),x()}return g+=f.move(`
`),l&&(g+=f.move(l+`
`)),g+=f.move(m),d(),g}function _R(e,t,n){return(n?"":"    ")+e}function _m(e){const t=e.options.quote||'"';if(t!=='"'&&t!=="'")throw new Error("Cannot serialize title with `"+t+"` for `options.quote`, expected `\"`, or `'`");return t}function IR(e,t,n,r){const o=_m(n),l=o==='"'?"Quote":"Apostrophe",u=n.enter("definition");let f=n.enter("label");const m=n.createTracker(r);let d=m.move("[");return d+=m.move(n.safe(n.associationId(e),{before:d,after:"]",...m.current()})),d+=m.move("]: "),f(),!e.url||/[\0- \u007F]/.test(e.url)?(f=n.enter("destinationLiteral"),d+=m.move("<"),d+=m.move(n.safe(e.url,{before:d,after:">",...m.current()})),d+=m.move(">")):(f=n.enter("destinationRaw"),d+=m.move(n.safe(e.url,{before:d,after:e.title?" ":`
`,...m.current()}))),f(),e.title&&(f=n.enter(`title${l}`),d+=m.move(" "+o),d+=m.move(n.safe(e.title,{before:d,after:o,...m.current()})),d+=m.move(o),f()),u(),d}function NR(e){const t=e.options.emphasis||"*";if(t!=="*"&&t!=="_")throw new Error("Cannot serialize emphasis with `"+t+"` for `options.emphasis`, expected `*`, or `_`");return t}function Is(e){return"&#x"+e.toString(16).toUpperCase()+";"}function Cu(e,t,n){const r=Gr(e),o=Gr(t);return r===void 0?o===void 0?n==="_"?{inside:!0,outside:!0}:{inside:!1,outside:!1}:o===1?{inside:!0,outside:!0}:{inside:!1,outside:!0}:r===1?o===void 0?{inside:!1,outside:!1}:o===1?{inside:!0,outside:!0}:{inside:!1,outside:!1}:o===void 0?{inside:!1,outside:!1}:o===1?{inside:!0,outside:!1}:{inside:!1,outside:!1}}yT.peek=MR;function yT(e,t,n,r){const o=NR(n),l=n.enter("emphasis"),u=n.createTracker(r),f=u.move(o);let m=u.move(n.containerPhrasing(e,{after:o,before:f,...u.current()}));const d=m.charCodeAt(0),g=Cu(r.before.charCodeAt(r.before.length-1),d,o);g.inside&&(m=Is(d)+m.slice(1));const x=m.charCodeAt(m.length-1),v=Cu(r.after.charCodeAt(0),x,o);v.inside&&(m=m.slice(0,-1)+Is(x));const S=u.move(o);return l(),n.attentionEncodeSurroundingInfo={after:v.outside,before:g.outside},f+m+S}function MR(e,t,n){return n.options.emphasis||"*"}function DR(e,t){let n=!1;return Vu(e,function(r){if("value"in r&&/\r?\n|\r/.test(r.value)||r.type==="break")return n=!0,Xf}),!!((!e.depth||e.depth<3)&&bm(e)&&(t.options.setext||n))}function RR(e,t,n,r){const o=Math.max(Math.min(6,e.depth||1),1),l=n.createTracker(r);if(DR(e,n)){const g=n.enter("headingSetext"),x=n.enter("phrasing"),v=n.containerPhrasing(e,{...l.current(),before:`
`,after:`
`});return x(),g(),v+`
`+(o===1?"=":"-").repeat(v.length-(Math.max(v.lastIndexOf("\r"),v.lastIndexOf(`
`))+1))}const u="#".repeat(o),f=n.enter("headingAtx"),m=n.enter("phrasing");l.move(u+" ");let d=n.containerPhrasing(e,{before:"# ",after:`
`,...l.current()});return/^[\t ]/.test(d)&&(d=Is(d.charCodeAt(0))+d.slice(1)),d=d?u+" "+d:u,n.options.closeAtx&&(d+=" "+u),m(),f(),d}bT.peek=kR;function bT(e){return e.value||""}function kR(){return"<"}TT.peek=wR;function TT(e,t,n,r){const o=_m(n),l=o==='"'?"Quote":"Apostrophe",u=n.enter("image");let f=n.enter("label");const m=n.createTracker(r);let d=m.move("![");return d+=m.move(n.safe(e.alt,{before:d,after:"]",...m.current()})),d+=m.move("]("),f(),!e.url&&e.title||/[\0- \u007F]/.test(e.url)?(f=n.enter("destinationLiteral"),d+=m.move("<"),d+=m.move(n.safe(e.url,{before:d,after:">",...m.current()})),d+=m.move(">")):(f=n.enter("destinationRaw"),d+=m.move(n.safe(e.url,{before:d,after:e.title?" ":")",...m.current()}))),f(),e.title&&(f=n.enter(`title${l}`),d+=m.move(" "+o),d+=m.move(n.safe(e.title,{before:d,after:o,...m.current()})),d+=m.move(o),f()),d+=m.move(")"),u(),d}function wR(){return"!"}ET.peek=LR;function ET(e,t,n,r){const o=e.referenceType,l=n.enter("imageReference");let u=n.enter("label");const f=n.createTracker(r);let m=f.move("![");const d=n.safe(e.alt,{before:m,after:"]",...f.current()});m+=f.move(d+"]["),u();const g=n.stack;n.stack=[],u=n.enter("reference");const x=n.safe(n.associationId(e),{before:m,after:"]",...f.current()});return u(),n.stack=g,l(),o==="full"||!d||d!==x?m+=f.move(x+"]"):o==="shortcut"?m=m.slice(0,-1):m+=f.move("]"),m}function LR(){return"!"}xT.peek=OR;function xT(e,t,n){let r=e.value||"",o="`",l=-1;for(;new RegExp("(^|[^`])"+o+"([^`]|$)").test(r);)o+="`";for(/[^ \r\n]/.test(r)&&(/^[ \r\n]/.test(r)&&/[ \r\n]$/.test(r)||/^`|`$/.test(r))&&(r=" "+r+" ");++l<n.unsafe.length;){const u=n.unsafe[l],f=n.compilePattern(u);let m;if(u.atBreak)for(;m=f.exec(r);){let d=m.index;r.charCodeAt(d)===10&&r.charCodeAt(d-1)===13&&d--,r=r.slice(0,d)+" "+r.slice(m.index+1)}}return o+r+o}function OR(){return"`"}function vT(e,t){const n=bm(e);return!!(!t.options.resourceLink&&e.url&&!e.title&&e.children&&e.children.length===1&&e.children[0].type==="text"&&(n===e.url||"mailto:"+n===e.url)&&/^[a-z][a-z+.-]+:/i.test(e.url)&&!/[\0- <>\u007F]/.test(e.url))}CT.peek=PR;function CT(e,t,n,r){const o=_m(n),l=o==='"'?"Quote":"Apostrophe",u=n.createTracker(r);let f,m;if(vT(e,n)){const g=n.stack;n.stack=[],f=n.enter("autolink");let x=u.move("<");return x+=u.move(n.containerPhrasing(e,{before:x,after:">",...u.current()})),x+=u.move(">"),f(),n.stack=g,x}f=n.enter("link"),m=n.enter("label");let d=u.move("[");return d+=u.move(n.containerPhrasing(e,{before:d,after:"](",...u.current()})),d+=u.move("]("),m(),!e.url&&e.title||/[\0- \u007F]/.test(e.url)?(m=n.enter("destinationLiteral"),d+=u.move("<"),d+=u.move(n.safe(e.url,{before:d,after:">",...u.current()})),d+=u.move(">")):(m=n.enter("destinationRaw"),d+=u.move(n.safe(e.url,{before:d,after:e.title?" ":")",...u.current()}))),m(),e.title&&(m=n.enter(`title${l}`),d+=u.move(" "+o),d+=u.move(n.safe(e.title,{before:d,after:o,...u.current()})),d+=u.move(o),m()),d+=u.move(")"),f(),d}function PR(e,t,n){return vT(e,n)?"<":"["}ST.peek=BR;function ST(e,t,n,r){const o=e.referenceType,l=n.enter("linkReference");let u=n.enter("label");const f=n.createTracker(r);let m=f.move("[");const d=n.containerPhrasing(e,{before:m,after:"]",...f.current()});m+=f.move(d+"]["),u();const g=n.stack;n.stack=[],u=n.enter("reference");const x=n.safe(n.associationId(e),{before:m,after:"]",...f.current()});return u(),n.stack=g,l(),o==="full"||!d||d!==x?m+=f.move(x+"]"):o==="shortcut"?m=m.slice(0,-1):m+=f.move("]"),m}function BR(){return"["}function Im(e){const t=e.options.bullet||"*";if(t!=="*"&&t!=="+"&&t!=="-")throw new Error("Cannot serialize items with `"+t+"` for `options.bullet`, expected `*`, `+`, or `-`");return t}function FR(e){const t=Im(e),n=e.options.bulletOther;if(!n)return t==="*"?"-":"*";if(n!=="*"&&n!=="+"&&n!=="-")throw new Error("Cannot serialize items with `"+n+"` for `options.bulletOther`, expected `*`, `+`, or `-`");if(n===t)throw new Error("Expected `bullet` (`"+t+"`) and `bulletOther` (`"+n+"`) to be different");return n}function HR(e){const t=e.options.bulletOrdered||".";if(t!=="."&&t!==")")throw new Error("Cannot serialize items with `"+t+"` for `options.bulletOrdered`, expected `.` or `)`");return t}function AT(e){const t=e.options.rule||"*";if(t!=="*"&&t!=="-"&&t!=="_")throw new Error("Cannot serialize rules with `"+t+"` for `options.rule`, expected `*`, `-`, or `_`");return t}function UR(e,t,n,r){const o=n.enter("list"),l=n.bulletCurrent;let u=e.ordered?HR(n):Im(n);const f=e.ordered?u==="."?")":".":FR(n);let m=t&&n.bulletLastUsed?u===n.bulletLastUsed:!1;if(!e.ordered){const g=e.children?e.children[0]:void 0;if((u==="*"||u==="-")&&g&&(!g.children||!g.children[0])&&n.stack[n.stack.length-1]==="list"&&n.stack[n.stack.length-2]==="listItem"&&n.stack[n.stack.length-3]==="list"&&n.stack[n.stack.length-4]==="listItem"&&n.indexStack[n.indexStack.length-1]===0&&n.indexStack[n.indexStack.length-2]===0&&n.indexStack[n.indexStack.length-3]===0&&(m=!0),AT(n)===u&&g){let x=-1;for(;++x<e.children.length;){const v=e.children[x];if(v&&v.type==="listItem"&&v.children&&v.children[0]&&v.children[0].type==="thematicBreak"){m=!0;break}}}}m&&(u=f),n.bulletCurrent=u;const d=n.containerFlow(e,r);return n.bulletLastUsed=u,n.bulletCurrent=l,o(),d}function VR(e){const t=e.options.listItemIndent||"one";if(t!=="tab"&&t!=="one"&&t!=="mixed")throw new Error("Cannot serialize items with `"+t+"` for `options.listItemIndent`, expected `tab`, `one`, or `mixed`");return t}function zR(e,t,n,r){const o=VR(n);let l=n.bulletCurrent||Im(n);t&&t.type==="list"&&t.ordered&&(l=(typeof t.start=="number"&&t.start>-1?t.start:1)+(n.options.incrementListMarker===!1?0:t.children.indexOf(e))+l);let u=l.length+1;(o==="tab"||o==="mixed"&&(t&&t.type==="list"&&t.spread||e.spread))&&(u=Math.ceil(u/4)*4);const f=n.createTracker(r);f.move(l+" ".repeat(u-l.length)),f.shift(u);const m=n.enter("listItem"),d=n.indentLines(n.containerFlow(e,f.current()),g);return m(),d;function g(x,v,S){return v?(S?"":" ".repeat(u))+x:(S?l:l+" ".repeat(u-l.length))+x}}function jR(e,t,n,r){const o=n.enter("paragraph"),l=n.enter("phrasing"),u=n.containerPhrasing(e,r);return l(),o(),u}const GR=Hu(["break","delete","emphasis","footnote","footnoteReference","image","imageReference","inlineCode","inlineMath","link","linkReference","mdxJsxTextElement","mdxTextExpression","strong","text","textDirective"]);function qR(e,t,n,r){return(e.children.some(function(u){return GR(u)})?n.containerPhrasing:n.containerFlow).call(n,e,r)}function YR(e){const t=e.options.strong||"*";if(t!=="*"&&t!=="_")throw new Error("Cannot serialize strong with `"+t+"` for `options.strong`, expected `*`, or `_`");return t}_T.peek=QR;function _T(e,t,n,r){const o=YR(n),l=n.enter("strong"),u=n.createTracker(r),f=u.move(o+o);let m=u.move(n.containerPhrasing(e,{after:o,before:f,...u.current()}));const d=m.charCodeAt(0),g=Cu(r.before.charCodeAt(r.before.length-1),d,o);g.inside&&(m=Is(d)+m.slice(1));const x=m.charCodeAt(m.length-1),v=Cu(r.after.charCodeAt(0),x,o);v.inside&&(m=m.slice(0,-1)+Is(x));const S=u.move(o+o);return l(),n.attentionEncodeSurroundingInfo={after:v.outside,before:g.outside},f+m+S}function QR(e,t,n){return n.options.strong||"*"}function KR(e,t,n,r){return n.safe(e.value,r)}function $R(e){const t=e.options.ruleRepetition||3;if(t<3)throw new Error("Cannot serialize rules with repetition `"+t+"` for `options.ruleRepetition`, expected `3` or more");return t}function XR(e,t,n){const r=(AT(n)+(n.options.ruleSpaces?" ":"")).repeat($R(n));return n.options.ruleSpaces?r.slice(0,-1):r}const IT={blockquote:TR,break:_1,code:AR,definition:IR,emphasis:yT,hardBreak:_1,heading:RR,html:bT,image:TT,imageReference:ET,inlineCode:xT,link:CT,linkReference:ST,list:UR,listItem:zR,paragraph:jR,root:qR,strong:_T,text:KR,thematicBreak:XR};function WR(){return{enter:{table:JR,tableData:I1,tableHeader:I1,tableRow:ek},exit:{codeText:tk,table:ZR,tableData:If,tableHeader:If,tableRow:If}}}function JR(e){const t=e._align;this.enter({type:"table",align:t.map(function(n){return n==="none"?null:n}),children:[]},e),this.data.inTable=!0}function ZR(e){this.exit(e),this.data.inTable=void 0}function ek(e){this.enter({type:"tableRow",children:[]},e)}function If(e){this.exit(e)}function I1(e){this.enter({type:"tableCell",children:[]},e)}function tk(e){let t=this.resume();this.data.inTable&&(t=t.replace(/\\([\\|])/g,nk));const n=this.stack[this.stack.length-1];n.type,n.value=t,this.exit(e)}function nk(e,t){return t==="|"?t:e}function ak(e){const t=e||{},n=t.tableCellPadding,r=t.tablePipeAlign,o=t.stringLength,l=n?" ":"|";return{unsafe:[{character:"\r",inConstruct:"tableCell"},{character:`
`,inConstruct:"tableCell"},{atBreak:!0,character:"|",after:"[	 :-]"},{character:"|",inConstruct:"tableCell"},{atBreak:!0,character:":",after:"-"},{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{inlineCode:v,table:u,tableCell:m,tableRow:f}};function u(S,_,D,U){return d(g(S,D,U),S.align)}function f(S,_,D,U){const L=x(S,D,U),K=d([L]);return K.slice(0,K.indexOf(`
`))}function m(S,_,D,U){const L=D.enter("tableCell"),K=D.enter("phrasing"),G=D.containerPhrasing(S,{...U,before:l,after:l});return K(),L(),G}function d(S,_){return yR(S,{align:_,alignDelimiters:r,padding:n,stringLength:o})}function g(S,_,D){const U=S.children;let L=-1;const K=[],G=_.enter("table");for(;++L<U.length;)K[L]=x(U[L],_,D);return G(),K}function x(S,_,D){const U=S.children;let L=-1;const K=[],G=_.enter("tableRow");for(;++L<U.length;)K[L]=m(U[L],S,_,D);return G(),K}function v(S,_,D){let U=IT.inlineCode(S,_,D);return D.stack.includes("tableCell")&&(U=U.replace(/\|/g,"\\$&")),U}}function ik(){return{exit:{taskListCheckValueChecked:N1,taskListCheckValueUnchecked:N1,paragraph:ok}}}function rk(){return{unsafe:[{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{listItem:sk}}}function N1(e){const t=this.stack[this.stack.length-2];t.type,t.checked=e.type==="taskListCheckValueChecked"}function ok(e){const t=this.stack[this.stack.length-2];if(t&&t.type==="listItem"&&typeof t.checked=="boolean"){const n=this.stack[this.stack.length-1];n.type;const r=n.children[0];if(r&&r.type==="text"){const o=t.children;let l=-1,u;for(;++l<o.length;){const f=o[l];if(f.type==="paragraph"){u=f;break}}u===n&&(r.value=r.value.slice(1),r.value.length===0?n.children.shift():n.position&&r.position&&typeof r.position.start.offset=="number"&&(r.position.start.column++,r.position.start.offset++,n.position.start=Object.assign({},r.position.start)))}}this.exit(e)}function sk(e,t,n,r){const o=e.children[0],l=typeof e.checked=="boolean"&&o&&o.type==="paragraph",u="["+(e.checked?"x":" ")+"] ",f=n.createTracker(r);l&&f.move(u);let m=IT.listItem(e,t,n,{...r,...f.current()});return l&&(m=m.replace(/^(?:[*+-]|\d+\.)([\r\n]| {1,3})/,d)),m;function d(g){return g+u}}function lk(){return[UD(),sR(),dR(),WR(),ik()]}function uk(e){return{extensions:[VD(),lR(e),fR(),ak(e),rk()]}}const ck={tokenize:gk,partial:!0},NT={tokenize:yk,partial:!0},MT={tokenize:bk,partial:!0},DT={tokenize:Tk,partial:!0},dk={tokenize:Ek,partial:!0},RT={name:"wwwAutolink",tokenize:hk,previous:wT},kT={name:"protocolAutolink",tokenize:pk,previous:LT},Ra={name:"emailAutolink",tokenize:mk,previous:OT},ca={};function fk(){return{text:ca}}let Oi=48;for(;Oi<123;)ca[Oi]=Ra,Oi++,Oi===58?Oi=65:Oi===91&&(Oi=97);ca[43]=Ra;ca[45]=Ra;ca[46]=Ra;ca[95]=Ra;ca[72]=[Ra,kT];ca[104]=[Ra,kT];ca[87]=[Ra,RT];ca[119]=[Ra,RT];function mk(e,t,n){const r=this;let o,l;return u;function u(x){return!em(x)||!OT.call(r,r.previous)||Nm(r.events)?n(x):(e.enter("literalAutolink"),e.enter("literalAutolinkEmail"),f(x))}function f(x){return em(x)?(e.consume(x),f):x===64?(e.consume(x),m):n(x)}function m(x){return x===46?e.check(dk,g,d)(x):x===45||x===95||Jt(x)?(l=!0,e.consume(x),m):g(x)}function d(x){return e.consume(x),o=!0,m}function g(x){return l&&o&&rn(r.previous)?(e.exit("literalAutolinkEmail"),e.exit("literalAutolink"),t(x)):n(x)}}function hk(e,t,n){const r=this;return o;function o(u){return u!==87&&u!==119||!wT.call(r,r.previous)||Nm(r.events)?n(u):(e.enter("literalAutolink"),e.enter("literalAutolinkWww"),e.check(ck,e.attempt(NT,e.attempt(MT,l),n),n)(u))}function l(u){return e.exit("literalAutolinkWww"),e.exit("literalAutolink"),t(u)}}function pk(e,t,n){const r=this;let o="",l=!1;return u;function u(x){return(x===72||x===104)&&LT.call(r,r.previous)&&!Nm(r.events)?(e.enter("literalAutolink"),e.enter("literalAutolinkHttp"),o+=String.fromCodePoint(x),e.consume(x),f):n(x)}function f(x){if(rn(x)&&o.length<5)return o+=String.fromCodePoint(x),e.consume(x),f;if(x===58){const v=o.toLowerCase();if(v==="http"||v==="https")return e.consume(x),m}return n(x)}function m(x){return x===47?(e.consume(x),l?d:(l=!0,m)):n(x)}function d(x){return x===null||xu(x)||gt(x)||zi(x)||Pu(x)?n(x):e.attempt(NT,e.attempt(MT,g),n)(x)}function g(x){return e.exit("literalAutolinkHttp"),e.exit("literalAutolink"),t(x)}}function gk(e,t,n){let r=0;return o;function o(u){return(u===87||u===119)&&r<3?(r++,e.consume(u),o):u===46&&r===3?(e.consume(u),l):n(u)}function l(u){return u===null?n(u):t(u)}}function yk(e,t,n){let r,o,l;return u;function u(d){return d===46||d===95?e.check(DT,m,f)(d):d===null||gt(d)||zi(d)||d!==45&&Pu(d)?m(d):(l=!0,e.consume(d),u)}function f(d){return d===95?r=!0:(o=r,r=void 0),e.consume(d),u}function m(d){return o||r||!l?n(d):t(d)}}function bk(e,t){let n=0,r=0;return o;function o(u){return u===40?(n++,e.consume(u),o):u===41&&r<n?l(u):u===33||u===34||u===38||u===39||u===41||u===42||u===44||u===46||u===58||u===59||u===60||u===63||u===93||u===95||u===126?e.check(DT,t,l)(u):u===null||gt(u)||zi(u)?t(u):(e.consume(u),o)}function l(u){return u===41&&r++,e.consume(u),o}}function Tk(e,t,n){return r;function r(f){return f===33||f===34||f===39||f===41||f===42||f===44||f===46||f===58||f===59||f===63||f===95||f===126?(e.consume(f),r):f===38?(e.consume(f),l):f===93?(e.consume(f),o):f===60||f===null||gt(f)||zi(f)?t(f):n(f)}function o(f){return f===null||f===40||f===91||gt(f)||zi(f)?t(f):r(f)}function l(f){return rn(f)?u(f):n(f)}function u(f){return f===59?(e.consume(f),r):rn(f)?(e.consume(f),u):n(f)}}function Ek(e,t,n){return r;function r(l){return e.consume(l),o}function o(l){return Jt(l)?n(l):t(l)}}function wT(e){return e===null||e===40||e===42||e===95||e===91||e===93||e===126||gt(e)}function LT(e){return!rn(e)}function OT(e){return!(e===47||em(e))}function em(e){return e===43||e===45||e===46||e===95||Jt(e)}function Nm(e){let t=e.length,n=!1;for(;t--;){const r=e[t][1];if((r.type==="labelLink"||r.type==="labelImage")&&!r._balanced){n=!0;break}if(r._gfmAutolinkLiteralWalkedInto){n=!1;break}}return e.length>0&&!n&&(e[e.length-1][1]._gfmAutolinkLiteralWalkedInto=!0),n}const xk={tokenize:Mk,partial:!0};function vk(){return{document:{91:{name:"gfmFootnoteDefinition",tokenize:_k,continuation:{tokenize:Ik},exit:Nk}},text:{91:{name:"gfmFootnoteCall",tokenize:Ak},93:{name:"gfmPotentialFootnoteCall",add:"after",tokenize:Ck,resolveTo:Sk}}}}function Ck(e,t,n){const r=this;let o=r.events.length;const l=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let u;for(;o--;){const m=r.events[o][1];if(m.type==="labelImage"){u=m;break}if(m.type==="gfmFootnoteCall"||m.type==="labelLink"||m.type==="label"||m.type==="image"||m.type==="link")break}return f;function f(m){if(!u||!u._balanced)return n(m);const d=Jn(r.sliceSerialize({start:u.end,end:r.now()}));return d.codePointAt(0)!==94||!l.includes(d.slice(1))?n(m):(e.enter("gfmFootnoteCallLabelMarker"),e.consume(m),e.exit("gfmFootnoteCallLabelMarker"),t(m))}}function Sk(e,t){let n=e.length;for(;n--;)if(e[n][1].type==="labelImage"&&e[n][0]==="enter"){e[n][1];break}e[n+1][1].type="data",e[n+3][1].type="gfmFootnoteCallLabelMarker";const r={type:"gfmFootnoteCall",start:Object.assign({},e[n+3][1].start),end:Object.assign({},e[e.length-1][1].end)},o={type:"gfmFootnoteCallMarker",start:Object.assign({},e[n+3][1].end),end:Object.assign({},e[n+3][1].end)};o.end.column++,o.end.offset++,o.end._bufferIndex++;const l={type:"gfmFootnoteCallString",start:Object.assign({},o.end),end:Object.assign({},e[e.length-1][1].start)},u={type:"chunkString",contentType:"string",start:Object.assign({},l.start),end:Object.assign({},l.end)},f=[e[n+1],e[n+2],["enter",r,t],e[n+3],e[n+4],["enter",o,t],["exit",o,t],["enter",l,t],["enter",u,t],["exit",u,t],["exit",l,t],e[e.length-2],e[e.length-1],["exit",r,t]];return e.splice(n,e.length-n+1,...f),e}function Ak(e,t,n){const r=this,o=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let l=0,u;return f;function f(x){return e.enter("gfmFootnoteCall"),e.enter("gfmFootnoteCallLabelMarker"),e.consume(x),e.exit("gfmFootnoteCallLabelMarker"),m}function m(x){return x!==94?n(x):(e.enter("gfmFootnoteCallMarker"),e.consume(x),e.exit("gfmFootnoteCallMarker"),e.enter("gfmFootnoteCallString"),e.enter("chunkString").contentType="string",d)}function d(x){if(l>999||x===93&&!u||x===null||x===91||gt(x))return n(x);if(x===93){e.exit("chunkString");const v=e.exit("gfmFootnoteCallString");return o.includes(Jn(r.sliceSerialize(v)))?(e.enter("gfmFootnoteCallLabelMarker"),e.consume(x),e.exit("gfmFootnoteCallLabelMarker"),e.exit("gfmFootnoteCall"),t):n(x)}return gt(x)||(u=!0),l++,e.consume(x),x===92?g:d}function g(x){return x===91||x===92||x===93?(e.consume(x),l++,d):d(x)}}function _k(e,t,n){const r=this,o=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let l,u=0,f;return m;function m(_){return e.enter("gfmFootnoteDefinition")._container=!0,e.enter("gfmFootnoteDefinitionLabel"),e.enter("gfmFootnoteDefinitionLabelMarker"),e.consume(_),e.exit("gfmFootnoteDefinitionLabelMarker"),d}function d(_){return _===94?(e.enter("gfmFootnoteDefinitionMarker"),e.consume(_),e.exit("gfmFootnoteDefinitionMarker"),e.enter("gfmFootnoteDefinitionLabelString"),e.enter("chunkString").contentType="string",g):n(_)}function g(_){if(u>999||_===93&&!f||_===null||_===91||gt(_))return n(_);if(_===93){e.exit("chunkString");const D=e.exit("gfmFootnoteDefinitionLabelString");return l=Jn(r.sliceSerialize(D)),e.enter("gfmFootnoteDefinitionLabelMarker"),e.consume(_),e.exit("gfmFootnoteDefinitionLabelMarker"),e.exit("gfmFootnoteDefinitionLabel"),v}return gt(_)||(f=!0),u++,e.consume(_),_===92?x:g}function x(_){return _===91||_===92||_===93?(e.consume(_),u++,g):g(_)}function v(_){return _===58?(e.enter("definitionMarker"),e.consume(_),e.exit("definitionMarker"),o.includes(l)||o.push(l),at(e,S,"gfmFootnoteDefinitionWhitespace")):n(_)}function S(_){return t(_)}}function Ik(e,t,n){return e.check(ks,t,e.attempt(xk,t,n))}function Nk(e){e.exit("gfmFootnoteDefinition")}function Mk(e,t,n){const r=this;return at(e,o,"gfmFootnoteDefinitionIndent",5);function o(l){const u=r.events[r.events.length-1];return u&&u[1].type==="gfmFootnoteDefinitionIndent"&&u[2].sliceSerialize(u[1],!0).length===4?t(l):n(l)}}function Dk(e){let n=(e||{}).singleTilde;const r={name:"strikethrough",tokenize:l,resolveAll:o};return n==null&&(n=!0),{text:{126:r},insideSpan:{null:[r]},attentionMarkers:{null:[126]}};function o(u,f){let m=-1;for(;++m<u.length;)if(u[m][0]==="enter"&&u[m][1].type==="strikethroughSequenceTemporary"&&u[m][1]._close){let d=m;for(;d--;)if(u[d][0]==="exit"&&u[d][1].type==="strikethroughSequenceTemporary"&&u[d][1]._open&&u[m][1].end.offset-u[m][1].start.offset===u[d][1].end.offset-u[d][1].start.offset){u[m][1].type="strikethroughSequence",u[d][1].type="strikethroughSequence";const g={type:"strikethrough",start:Object.assign({},u[d][1].start),end:Object.assign({},u[m][1].end)},x={type:"strikethroughText",start:Object.assign({},u[d][1].end),end:Object.assign({},u[m][1].start)},v=[["enter",g,f],["enter",u[d][1],f],["exit",u[d][1],f],["enter",x,f]],S=f.parser.constructs.insideSpan.null;S&&Nn(v,v.length,0,Bu(S,u.slice(d+1,m),f)),Nn(v,v.length,0,[["exit",x,f],["enter",u[m][1],f],["exit",u[m][1],f],["exit",g,f]]),Nn(u,d-1,m-d+3,v),m=d+v.length-2;break}}for(m=-1;++m<u.length;)u[m][1].type==="strikethroughSequenceTemporary"&&(u[m][1].type="data");return u}function l(u,f,m){const d=this.previous,g=this.events;let x=0;return v;function v(_){return d===126&&g[g.length-1][1].type!=="characterEscape"?m(_):(u.enter("strikethroughSequenceTemporary"),S(_))}function S(_){const D=Gr(d);if(_===126)return x>1?m(_):(u.consume(_),x++,S);if(x<2&&!n)return m(_);const U=u.exit("strikethroughSequenceTemporary"),L=Gr(_);return U._open=!L||L===2&&!!D,U._close=!D||D===2&&!!L,f(_)}}}class Rk{constructor(){this.map=[]}add(t,n,r){kk(this,t,n,r)}consume(t){if(this.map.sort(function(l,u){return l[0]-u[0]}),this.map.length===0)return;let n=this.map.length;const r=[];for(;n>0;)n-=1,r.push(t.slice(this.map[n][0]+this.map[n][1]),this.map[n][2]),t.length=this.map[n][0];r.push(t.slice()),t.length=0;let o=r.pop();for(;o;){for(const l of o)t.push(l);o=r.pop()}this.map.length=0}}function kk(e,t,n,r){let o=0;if(!(n===0&&r.length===0)){for(;o<e.map.length;){if(e.map[o][0]===t){e.map[o][1]+=n,e.map[o][2].push(...r);return}o+=1}e.map.push([t,n,r])}}function wk(e,t){let n=!1;const r=[];for(;t<e.length;){const o=e[t];if(n){if(o[0]==="enter")o[1].type==="tableContent"&&r.push(e[t+1][1].type==="tableDelimiterMarker"?"left":"none");else if(o[1].type==="tableContent"){if(e[t-1][1].type==="tableDelimiterMarker"){const l=r.length-1;r[l]=r[l]==="left"?"center":"right"}}else if(o[1].type==="tableDelimiterRow")break}else o[0]==="enter"&&o[1].type==="tableDelimiterRow"&&(n=!0);t+=1}return r}function Lk(){return{flow:{null:{name:"table",tokenize:Ok,resolveAll:Pk}}}}function Ok(e,t,n){const r=this;let o=0,l=0,u;return f;function f(q){let be=r.events.length-1;for(;be>-1;){const me=r.events[be][1].type;if(me==="lineEnding"||me==="linePrefix")be--;else break}const Ee=be>-1?r.events[be][1].type:null,Ce=Ee==="tableHead"||Ee==="tableRow"?z:m;return Ce===z&&r.parser.lazy[r.now().line]?n(q):Ce(q)}function m(q){return e.enter("tableHead"),e.enter("tableRow"),d(q)}function d(q){return q===124||(u=!0,l+=1),g(q)}function g(q){return q===null?n(q):Oe(q)?l>1?(l=0,r.interrupt=!0,e.exit("tableRow"),e.enter("lineEnding"),e.consume(q),e.exit("lineEnding"),S):n(q):et(q)?at(e,g,"whitespace")(q):(l+=1,u&&(u=!1,o+=1),q===124?(e.enter("tableCellDivider"),e.consume(q),e.exit("tableCellDivider"),u=!0,g):(e.enter("data"),x(q)))}function x(q){return q===null||q===124||gt(q)?(e.exit("data"),g(q)):(e.consume(q),q===92?v:x)}function v(q){return q===92||q===124?(e.consume(q),x):x(q)}function S(q){return r.interrupt=!1,r.parser.lazy[r.now().line]?n(q):(e.enter("tableDelimiterRow"),u=!1,et(q)?at(e,_,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(q):_(q))}function _(q){return q===45||q===58?U(q):q===124?(u=!0,e.enter("tableCellDivider"),e.consume(q),e.exit("tableCellDivider"),D):B(q)}function D(q){return et(q)?at(e,U,"whitespace")(q):U(q)}function U(q){return q===58?(l+=1,u=!0,e.enter("tableDelimiterMarker"),e.consume(q),e.exit("tableDelimiterMarker"),L):q===45?(l+=1,L(q)):q===null||Oe(q)?$(q):B(q)}function L(q){return q===45?(e.enter("tableDelimiterFiller"),K(q)):B(q)}function K(q){return q===45?(e.consume(q),K):q===58?(u=!0,e.exit("tableDelimiterFiller"),e.enter("tableDelimiterMarker"),e.consume(q),e.exit("tableDelimiterMarker"),G):(e.exit("tableDelimiterFiller"),G(q))}function G(q){return et(q)?at(e,$,"whitespace")(q):$(q)}function $(q){return q===124?_(q):q===null||Oe(q)?!u||o!==l?B(q):(e.exit("tableDelimiterRow"),e.exit("tableHead"),t(q)):B(q)}function B(q){return n(q)}function z(q){return e.enter("tableRow"),se(q)}function se(q){return q===124?(e.enter("tableCellDivider"),e.consume(q),e.exit("tableCellDivider"),se):q===null||Oe(q)?(e.exit("tableRow"),t(q)):et(q)?at(e,se,"whitespace")(q):(e.enter("data"),ye(q))}function ye(q){return q===null||q===124||gt(q)?(e.exit("data"),se(q)):(e.consume(q),q===92?Ae:ye)}function Ae(q){return q===92||q===124?(e.consume(q),ye):ye(q)}}function Pk(e,t){let n=-1,r=!0,o=0,l=[0,0,0,0],u=[0,0,0,0],f=!1,m=0,d,g,x;const v=new Rk;for(;++n<e.length;){const S=e[n],_=S[1];S[0]==="enter"?_.type==="tableHead"?(f=!1,m!==0&&(M1(v,t,m,d,g),g=void 0,m=0),d={type:"table",start:Object.assign({},_.start),end:Object.assign({},_.end)},v.add(n,0,[["enter",d,t]])):_.type==="tableRow"||_.type==="tableDelimiterRow"?(r=!0,x=void 0,l=[0,0,0,0],u=[0,n+1,0,0],f&&(f=!1,g={type:"tableBody",start:Object.assign({},_.start),end:Object.assign({},_.end)},v.add(n,0,[["enter",g,t]])),o=_.type==="tableDelimiterRow"?2:g?3:1):o&&(_.type==="data"||_.type==="tableDelimiterMarker"||_.type==="tableDelimiterFiller")?(r=!1,u[2]===0&&(l[1]!==0&&(u[0]=u[1],x=ou(v,t,l,o,void 0,x),l=[0,0,0,0]),u[2]=n)):_.type==="tableCellDivider"&&(r?r=!1:(l[1]!==0&&(u[0]=u[1],x=ou(v,t,l,o,void 0,x)),l=u,u=[l[1],n,0,0])):_.type==="tableHead"?(f=!0,m=n):_.type==="tableRow"||_.type==="tableDelimiterRow"?(m=n,l[1]!==0?(u[0]=u[1],x=ou(v,t,l,o,n,x)):u[1]!==0&&(x=ou(v,t,u,o,n,x)),o=0):o&&(_.type==="data"||_.type==="tableDelimiterMarker"||_.type==="tableDelimiterFiller")&&(u[3]=n)}for(m!==0&&M1(v,t,m,d,g),v.consume(t.events),n=-1;++n<t.events.length;){const S=t.events[n];S[0]==="enter"&&S[1].type==="table"&&(S[1]._align=wk(t.events,n))}return e}function ou(e,t,n,r,o,l){const u=r===1?"tableHeader":r===2?"tableDelimiter":"tableData",f="tableContent";n[0]!==0&&(l.end=Object.assign({},Fr(t.events,n[0])),e.add(n[0],0,[["exit",l,t]]));const m=Fr(t.events,n[1]);if(l={type:u,start:Object.assign({},m),end:Object.assign({},m)},e.add(n[1],0,[["enter",l,t]]),n[2]!==0){const d=Fr(t.events,n[2]),g=Fr(t.events,n[3]),x={type:f,start:Object.assign({},d),end:Object.assign({},g)};if(e.add(n[2],0,[["enter",x,t]]),r!==2){const v=t.events[n[2]],S=t.events[n[3]];if(v[1].end=Object.assign({},S[1].end),v[1].type="chunkText",v[1].contentType="text",n[3]>n[2]+1){const _=n[2]+1,D=n[3]-n[2]-1;e.add(_,D,[])}}e.add(n[3]+1,0,[["exit",x,t]])}return o!==void 0&&(l.end=Object.assign({},Fr(t.events,o)),e.add(o,0,[["exit",l,t]]),l=void 0),l}function M1(e,t,n,r,o){const l=[],u=Fr(t.events,n);o&&(o.end=Object.assign({},u),l.push(["exit",o,t])),r.end=Object.assign({},u),l.push(["exit",r,t]),e.add(n+1,0,l)}function Fr(e,t){const n=e[t],r=n[0]==="enter"?"start":"end";return n[1][r]}const Bk={name:"tasklistCheck",tokenize:Hk};function Fk(){return{text:{91:Bk}}}function Hk(e,t,n){const r=this;return o;function o(m){return r.previous!==null||!r._gfmTasklistFirstContentOfListItem?n(m):(e.enter("taskListCheck"),e.enter("taskListCheckMarker"),e.consume(m),e.exit("taskListCheckMarker"),l)}function l(m){return gt(m)?(e.enter("taskListCheckValueUnchecked"),e.consume(m),e.exit("taskListCheckValueUnchecked"),u):m===88||m===120?(e.enter("taskListCheckValueChecked"),e.consume(m),e.exit("taskListCheckValueChecked"),u):n(m)}function u(m){return m===93?(e.enter("taskListCheckMarker"),e.consume(m),e.exit("taskListCheckMarker"),e.exit("taskListCheck"),f):n(m)}function f(m){return Oe(m)?t(m):et(m)?e.check({tokenize:Uk},t,n)(m):n(m)}}function Uk(e,t,n){return at(e,r,"whitespace");function r(o){return o===null?n(o):t(o)}}function Vk(e){return jb([fk(),vk(),Dk(e),Lk(),Fk()])}const zk={};function PT(e){const t=this,n=e||zk,r=t.data(),o=r.micromarkExtensions||(r.micromarkExtensions=[]),l=r.fromMarkdownExtensions||(r.fromMarkdownExtensions=[]),u=r.toMarkdownExtensions||(r.toMarkdownExtensions=[]);o.push(Vk(n)),l.push(lk()),u.push(uk(n))}const D1=/[#.]/g;function jk(e,t){const n=e||"",r={};let o=0,l,u;for(;o<n.length;){D1.lastIndex=o;const f=D1.exec(n),m=n.slice(o,f?f.index:n.length);m&&(l?l==="#"?r.id=m:Array.isArray(r.className)?r.className.push(m):r.className=[m]:u=m,o+=m.length),f&&(l=f[0],o++)}return{type:"element",tagName:u||t||"div",properties:r,children:[]}}function BT(e,t,n){const r=n?Qk(n):void 0;function o(l,u,...f){let m;if(l==null){m={type:"root",children:[]};const d=u;f.unshift(d)}else{m=jk(l,t);const d=m.tagName.toLowerCase(),g=r?r.get(d):void 0;if(m.tagName=g||d,Gk(u))f.unshift(u);else for(const[x,v]of Object.entries(u))qk(e,m.properties,x,v)}for(const d of f)tm(m.children,d);return m.type==="element"&&m.tagName==="template"&&(m.content={type:"root",children:m.children},m.children=[]),m}return o}function Gk(e){if(e===null||typeof e!="object"||Array.isArray(e))return!0;if(typeof e.type!="string")return!1;const t=e,n=Object.keys(e);for(const r of n){const o=t[r];if(o&&typeof o=="object"){if(!Array.isArray(o))return!0;const l=o;for(const u of l)if(typeof u!="number"&&typeof u!="string")return!0}}return!!("children"in e&&Array.isArray(e.children))}function qk(e,t,n,r){const o=hm(e,n);let l;if(r!=null){if(typeof r=="number"){if(Number.isNaN(r))return;l=r}else typeof r=="boolean"?l=r:typeof r=="string"?o.spaceSeparated?l=jy(r):o.commaSeparated?l=Fy(r):o.commaOrSpaceSeparated?l=jy(Fy(r).join(" ")):l=R1(o,o.property,r):Array.isArray(r)?l=[...r]:l=o.property==="style"?Yk(r):String(r);if(Array.isArray(l)){const u=[];for(const f of l)u.push(R1(o,o.property,f));l=u}o.property==="className"&&Array.isArray(t.className)&&(l=t.className.concat(l)),t[o.property]=l}}function tm(e,t){if(t!=null)if(typeof t=="number"||typeof t=="string")e.push({type:"text",value:String(t)});else if(Array.isArray(t))for(const n of t)tm(e,n);else if(typeof t=="object"&&"type"in t)t.type==="root"?tm(e,t.children):e.push(t);else throw new Error("Expected node, nodes, or string, got `"+t+"`")}function R1(e,t,n){if(typeof n=="string"){if(e.number&&n&&!Number.isNaN(Number(n)))return Number(n);if((e.boolean||e.overloadedBoolean)&&(n===""||As(n)===As(t)))return!0}return n}function Yk(e){const t=[];for(const[n,r]of Object.entries(e))t.push([n,r].join(": "));return t.join("; ")}function Qk(e){const t=new Map;for(const n of e)t.set(n.toLowerCase(),n);return t}const Kk=["altGlyph","altGlyphDef","altGlyphItem","animateColor","animateMotion","animateTransform","clipPath","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","foreignObject","glyphRef","linearGradient","radialGradient","solidColor","textArea","textPath"],$k=BT(Lu,"div"),Xk=BT(Xr,"g",Kk);function Wk(e){const t=String(e),n=[];return{toOffset:o,toPoint:r};function r(l){if(typeof l=="number"&&l>-1&&l<=t.length){let u=0;for(;;){let f=n[u];if(f===void 0){const m=k1(t,n[u-1]);f=m===-1?t.length+1:m+1,n[u]=f}if(f>l)return{line:u+1,column:l-(u>0?n[u-1]:0)+1,offset:l};u++}}}function o(l){if(l&&typeof l.line=="number"&&typeof l.column=="number"&&!Number.isNaN(l.line)&&!Number.isNaN(l.column)){for(;n.length<l.line;){const f=n[n.length-1],m=k1(t,f),d=m===-1?t.length+1:m+1;if(f===d)break;n.push(d)}const u=(l.line>1?n[l.line-2]:0)+l.column-1;if(u<n[l.line-1])return u}}}function k1(e,t){const n=e.indexOf("\r",t),r=e.indexOf(`
`,t);return r===-1?n:n===-1||n+1===r?r:n<r?n:r}const Ui={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},FT={}.hasOwnProperty,Jk=Object.prototype;function Zk(e,t){const n=t||{};return Mm({file:n.file||void 0,location:!1,schema:n.space==="svg"?Xr:Lu,verbose:n.verbose||!1},e)}function Mm(e,t){let n;switch(t.nodeName){case"#comment":{const r=t;return n={type:"comment",value:r.data},pu(e,r,n),n}case"#document":case"#document-fragment":{const r=t,o="mode"in r?r.mode==="quirks"||r.mode==="limited-quirks":!1;if(n={type:"root",children:HT(e,t.childNodes),data:{quirksMode:o}},e.file&&e.location){const l=String(e.file),u=Wk(l),f=u.toPoint(0),m=u.toPoint(l.length);n.position={start:f,end:m}}return n}case"#documentType":{const r=t;return n={type:"doctype"},pu(e,r,n),n}case"#text":{const r=t;return n={type:"text",value:r.value},pu(e,r,n),n}default:return n=ew(e,t),n}}function HT(e,t){let n=-1;const r=[];for(;++n<t.length;){const o=Mm(e,t[n]);r.push(o)}return r}function ew(e,t){const n=e.schema;e.schema=t.namespaceURI===Ui.svg?Xr:Lu;let r=-1;const o={};for(;++r<t.attrs.length;){const f=t.attrs[r],m=(f.prefix?f.prefix+":":"")+f.name;FT.call(Jk,m)||(o[m]=f.value)}const u=(e.schema.space==="svg"?Xk:$k)(t.tagName,o,HT(e,t.childNodes));if(pu(e,t,u),u.tagName==="template"){const f=t,m=f.sourceCodeLocation,d=m&&m.startTag&&Vr(m.startTag),g=m&&m.endTag&&Vr(m.endTag),x=Mm(e,f.content);d&&g&&e.file&&(x.position={start:d.end,end:g.start}),u.content=x}return e.schema=n,u}function pu(e,t,n){if("sourceCodeLocation"in t&&t.sourceCodeLocation&&e.file){const r=tw(e,n,t.sourceCodeLocation);r&&(e.location=!0,n.position=r)}}function tw(e,t,n){const r=Vr(n);if(t.type==="element"){const o=t.children[t.children.length-1];if(r&&!n.endTag&&o&&o.position&&o.position.end&&(r.end=Object.assign({},o.position.end)),e.verbose){const l={};let u;if(n.attrs)for(u in n.attrs)FT.call(n.attrs,u)&&(l[hm(e.schema,u).property]=Vr(n.attrs[u]));n.startTag;const f=Vr(n.startTag),m=n.endTag?Vr(n.endTag):void 0,d={opening:f};m&&(d.closing=m),d.properties=l,t.data={position:d}}}return r}function Vr(e){const t=w1({line:e.startLine,column:e.startCol,offset:e.startOffset}),n=w1({line:e.endLine,column:e.endCol,offset:e.endOffset});return t||n?{start:t,end:n}:void 0}function w1(e){return e.line&&e.column?e:void 0}class Ls{constructor(t,n,r){this.property=t,this.normal=n,r&&(this.space=r)}}Ls.prototype.property={};Ls.prototype.normal={};Ls.prototype.space=null;function UT(e,t){const n={},r={};let o=-1;for(;++o<e.length;)Object.assign(n,e[o].property),Object.assign(r,e[o].normal);return new Ls(n,r,t)}function nm(e){return e.toLowerCase()}class zn{constructor(t,n){this.property=t,this.attribute=n}}zn.prototype.space=null;zn.prototype.boolean=!1;zn.prototype.booleanish=!1;zn.prototype.overloadedBoolean=!1;zn.prototype.number=!1;zn.prototype.commaSeparated=!1;zn.prototype.spaceSeparated=!1;zn.prototype.commaOrSpaceSeparated=!1;zn.prototype.mustUseProperty=!1;zn.prototype.defined=!1;let nw=0;const ze=Yi(),Ot=Yi(),VT=Yi(),ve=Yi(),Tt=Yi(),jr=Yi(),_n=Yi();function Yi(){return 2**++nw}const am=Object.freeze(Object.defineProperty({__proto__:null,boolean:ze,booleanish:Ot,commaOrSpaceSeparated:_n,commaSeparated:jr,number:ve,overloadedBoolean:VT,spaceSeparated:Tt},Symbol.toStringTag,{value:"Module"})),Nf=Object.keys(am);class Dm extends zn{constructor(t,n,r,o){let l=-1;if(super(t,n),L1(this,"space",o),typeof r=="number")for(;++l<Nf.length;){const u=Nf[l];L1(this,Nf[l],(r&am[u])===am[u])}}}Dm.prototype.defined=!0;function L1(e,t,n){n&&(e[t]=n)}const aw={}.hasOwnProperty;function Jr(e){const t={},n={};let r;for(r in e.properties)if(aw.call(e.properties,r)){const o=e.properties[r],l=new Dm(r,e.transform(e.attributes||{},r),o,e.space);e.mustUseProperty&&e.mustUseProperty.includes(r)&&(l.mustUseProperty=!0),t[r]=l,n[nm(r)]=r,n[nm(l.attribute)]=r}return new Ls(t,n,e.space)}const zT=Jr({space:"xlink",transform(e,t){return"xlink:"+t.slice(5).toLowerCase()},properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null}}),jT=Jr({space:"xml",transform(e,t){return"xml:"+t.slice(3).toLowerCase()},properties:{xmlLang:null,xmlBase:null,xmlSpace:null}});function GT(e,t){return t in e?e[t]:t}function qT(e,t){return GT(e,t.toLowerCase())}const YT=Jr({space:"xmlns",attributes:{xmlnsxlink:"xmlns:xlink"},transform:qT,properties:{xmlns:null,xmlnsXLink:null}}),QT=Jr({transform(e,t){return t==="role"?t:"aria-"+t.slice(4).toLowerCase()},properties:{ariaActiveDescendant:null,ariaAtomic:Ot,ariaAutoComplete:null,ariaBusy:Ot,ariaChecked:Ot,ariaColCount:ve,ariaColIndex:ve,ariaColSpan:ve,ariaControls:Tt,ariaCurrent:null,ariaDescribedBy:Tt,ariaDetails:null,ariaDisabled:Ot,ariaDropEffect:Tt,ariaErrorMessage:null,ariaExpanded:Ot,ariaFlowTo:Tt,ariaGrabbed:Ot,ariaHasPopup:null,ariaHidden:Ot,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:Tt,ariaLevel:ve,ariaLive:null,ariaModal:Ot,ariaMultiLine:Ot,ariaMultiSelectable:Ot,ariaOrientation:null,ariaOwns:Tt,ariaPlaceholder:null,ariaPosInSet:ve,ariaPressed:Ot,ariaReadOnly:Ot,ariaRelevant:null,ariaRequired:Ot,ariaRoleDescription:Tt,ariaRowCount:ve,ariaRowIndex:ve,ariaRowSpan:ve,ariaSelected:Ot,ariaSetSize:ve,ariaSort:null,ariaValueMax:ve,ariaValueMin:ve,ariaValueNow:ve,ariaValueText:null,role:null}}),iw=Jr({space:"html",attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},transform:qT,mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:jr,acceptCharset:Tt,accessKey:Tt,action:null,allow:null,allowFullScreen:ze,allowPaymentRequest:ze,allowUserMedia:ze,alt:null,as:null,async:ze,autoCapitalize:null,autoComplete:Tt,autoFocus:ze,autoPlay:ze,blocking:Tt,capture:null,charSet:null,checked:ze,cite:null,className:Tt,cols:ve,colSpan:null,content:null,contentEditable:Ot,controls:ze,controlsList:Tt,coords:ve|jr,crossOrigin:null,data:null,dateTime:null,decoding:null,default:ze,defer:ze,dir:null,dirName:null,disabled:ze,download:VT,draggable:Ot,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:ze,formTarget:null,headers:Tt,height:ve,hidden:ze,high:ve,href:null,hrefLang:null,htmlFor:Tt,httpEquiv:Tt,id:null,imageSizes:null,imageSrcSet:null,inert:ze,inputMode:null,integrity:null,is:null,isMap:ze,itemId:null,itemProp:Tt,itemRef:Tt,itemScope:ze,itemType:Tt,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:ze,low:ve,manifest:null,max:null,maxLength:ve,media:null,method:null,min:null,minLength:ve,multiple:ze,muted:ze,name:null,nonce:null,noModule:ze,noValidate:ze,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:ze,optimum:ve,pattern:null,ping:Tt,placeholder:null,playsInline:ze,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:ze,referrerPolicy:null,rel:Tt,required:ze,reversed:ze,rows:ve,rowSpan:ve,sandbox:Tt,scope:null,scoped:ze,seamless:ze,selected:ze,shadowRootClonable:ze,shadowRootDelegatesFocus:ze,shadowRootMode:null,shape:null,size:ve,sizes:null,slot:null,span:ve,spellCheck:Ot,src:null,srcDoc:null,srcLang:null,srcSet:null,start:ve,step:null,style:null,tabIndex:ve,target:null,title:null,translate:null,type:null,typeMustMatch:ze,useMap:null,value:Ot,width:ve,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:Tt,axis:null,background:null,bgColor:null,border:ve,borderColor:null,bottomMargin:ve,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:ze,declare:ze,event:null,face:null,frame:null,frameBorder:null,hSpace:ve,leftMargin:ve,link:null,longDesc:null,lowSrc:null,marginHeight:ve,marginWidth:ve,noResize:ze,noHref:ze,noShade:ze,noWrap:ze,object:null,profile:null,prompt:null,rev:null,rightMargin:ve,rules:null,scheme:null,scrolling:Ot,standby:null,summary:null,text:null,topMargin:ve,valueType:null,version:null,vAlign:null,vLink:null,vSpace:ve,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:ze,disableRemotePlayback:ze,prefix:null,property:null,results:ve,security:null,unselectable:null}}),rw=Jr({space:"svg",attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},transform:GT,properties:{about:_n,accentHeight:ve,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:ve,amplitude:ve,arabicForm:null,ascent:ve,attributeName:null,attributeType:null,azimuth:ve,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:ve,by:null,calcMode:null,capHeight:ve,className:Tt,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:ve,diffuseConstant:ve,direction:null,display:null,dur:null,divisor:ve,dominantBaseline:null,download:ze,dx:null,dy:null,edgeMode:null,editable:null,elevation:ve,enableBackground:null,end:null,event:null,exponent:ve,externalResourcesRequired:null,fill:null,fillOpacity:ve,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:jr,g2:jr,glyphName:jr,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:ve,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:ve,horizOriginX:ve,horizOriginY:ve,id:null,ideographic:ve,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:ve,k:ve,k1:ve,k2:ve,k3:ve,k4:ve,kernelMatrix:_n,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:ve,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:ve,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:ve,overlineThickness:ve,paintOrder:null,panose1:null,path:null,pathLength:ve,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:Tt,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:ve,pointsAtY:ve,pointsAtZ:ve,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:_n,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:_n,rev:_n,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:_n,requiredFeatures:_n,requiredFonts:_n,requiredFormats:_n,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:ve,specularExponent:ve,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:ve,strikethroughThickness:ve,string:null,stroke:null,strokeDashArray:_n,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:ve,strokeOpacity:ve,strokeWidth:null,style:null,surfaceScale:ve,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:_n,tabIndex:ve,tableValues:null,target:null,targetX:ve,targetY:ve,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:_n,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:ve,underlineThickness:ve,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:ve,values:null,vAlphabetic:ve,vMathematical:ve,vectorEffect:null,vHanging:ve,vIdeographic:ve,version:null,vertAdvY:ve,vertOriginX:ve,vertOriginY:ve,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:ve,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null}}),ow=/^data[-\w.:]+$/i,O1=/-[a-z]/g,sw=/[A-Z]/g;function lw(e,t){const n=nm(t);let r=t,o=zn;if(n in e.normal)return e.property[e.normal[n]];if(n.length>4&&n.slice(0,4)==="data"&&ow.test(t)){if(t.charAt(4)==="-"){const l=t.slice(5).replace(O1,cw);r="data"+l.charAt(0).toUpperCase()+l.slice(1)}else{const l=t.slice(4);if(!O1.test(l)){let u=l.replace(sw,uw);u.charAt(0)!=="-"&&(u="-"+u),t="data"+u}}o=Dm}return new o(r,t)}function uw(e){return"-"+e.toLowerCase()}function cw(e){return e.charAt(1).toUpperCase()}const dw=UT([jT,zT,YT,QT,iw],"html"),KT=UT([jT,zT,YT,QT,rw],"svg"),fw={},mw={}.hasOwnProperty,$T=gT("type",{handlers:{root:pw,element:Ew,text:bw,comment:Tw,doctype:yw}});function hw(e,t){const r=(t||fw).space;return $T(e,r==="svg"?KT:dw)}function pw(e,t){const n={nodeName:"#document",mode:(e.data||{}).quirksMode?"quirks":"no-quirks",childNodes:[]};return n.childNodes=Rm(e.children,n,t),Zr(e,n),n}function gw(e,t){const n={nodeName:"#document-fragment",childNodes:[]};return n.childNodes=Rm(e.children,n,t),Zr(e,n),n}function yw(e){const t={nodeName:"#documentType",name:"html",publicId:"",systemId:"",parentNode:null};return Zr(e,t),t}function bw(e){const t={nodeName:"#text",value:e.value,parentNode:null};return Zr(e,t),t}function Tw(e){const t={nodeName:"#comment",data:e.value,parentNode:null};return Zr(e,t),t}function Ew(e,t){const n=t;let r=n;e.type==="element"&&e.tagName.toLowerCase()==="svg"&&n.space==="html"&&(r=KT);const o=[];let l;if(e.properties){for(l in e.properties)if(l!=="children"&&mw.call(e.properties,l)){const m=xw(r,l,e.properties[l]);m&&o.push(m)}}const u=r.space,f={nodeName:e.tagName,tagName:e.tagName,attrs:o,namespaceURI:Ui[u],childNodes:[],parentNode:null};return f.childNodes=Rm(e.children,f,r),Zr(e,f),e.tagName==="template"&&e.content&&(f.content=gw(e.content,r)),f}function xw(e,t,n){const r=lw(e,t);if(n===!1||n===null||n===void 0||typeof n=="number"&&Number.isNaN(n)||!n&&r.boolean)return;Array.isArray(n)&&(n=r.commaSeparated?Nb(n):Pb(n));const o={name:r.attribute,value:n===!0?"":String(n)};if(r.space&&r.space!=="html"&&r.space!=="svg"){const l=o.name.indexOf(":");l<0?o.prefix="":(o.name=o.name.slice(l+1),o.prefix=r.attribute.slice(0,l)),o.namespace=Ui[r.space]}return o}function Rm(e,t,n){let r=-1;const o=[];if(e)for(;++r<e.length;){const l=$T(e[r],n);l.parentNode=t,o.push(l)}return o}function Zr(e,t){const n=e.position;n&&n.start&&n.end&&(n.start.offset,n.end.offset,t.sourceCodeLocation={startLine:n.start.line,startCol:n.start.column,startOffset:n.start.offset,endLine:n.end.line,endCol:n.end.column,endOffset:n.end.offset})}const vw=["area","base","basefont","bgsound","br","col","command","embed","frame","hr","image","img","input","keygen","link","meta","param","source","track","wbr"],Cw=new Set([65534,65535,131070,131071,196606,196607,262142,262143,327678,327679,393214,393215,458750,458751,524286,524287,589822,589823,655358,655359,720894,720895,786430,786431,851966,851967,917502,917503,983038,983039,1048574,1048575,1114110,1114111]),vt="�";var M;(function(e){e[e.EOF=-1]="EOF",e[e.NULL=0]="NULL",e[e.TABULATION=9]="TABULATION",e[e.CARRIAGE_RETURN=13]="CARRIAGE_RETURN",e[e.LINE_FEED=10]="LINE_FEED",e[e.FORM_FEED=12]="FORM_FEED",e[e.SPACE=32]="SPACE",e[e.EXCLAMATION_MARK=33]="EXCLAMATION_MARK",e[e.QUOTATION_MARK=34]="QUOTATION_MARK",e[e.AMPERSAND=38]="AMPERSAND",e[e.APOSTROPHE=39]="APOSTROPHE",e[e.HYPHEN_MINUS=45]="HYPHEN_MINUS",e[e.SOLIDUS=47]="SOLIDUS",e[e.DIGIT_0=48]="DIGIT_0",e[e.DIGIT_9=57]="DIGIT_9",e[e.SEMICOLON=59]="SEMICOLON",e[e.LESS_THAN_SIGN=60]="LESS_THAN_SIGN",e[e.EQUALS_SIGN=61]="EQUALS_SIGN",e[e.GREATER_THAN_SIGN=62]="GREATER_THAN_SIGN",e[e.QUESTION_MARK=63]="QUESTION_MARK",e[e.LATIN_CAPITAL_A=65]="LATIN_CAPITAL_A",e[e.LATIN_CAPITAL_Z=90]="LATIN_CAPITAL_Z",e[e.RIGHT_SQUARE_BRACKET=93]="RIGHT_SQUARE_BRACKET",e[e.GRAVE_ACCENT=96]="GRAVE_ACCENT",e[e.LATIN_SMALL_A=97]="LATIN_SMALL_A",e[e.LATIN_SMALL_Z=122]="LATIN_SMALL_Z"})(M||(M={}));const mn={DASH_DASH:"--",CDATA_START:"[CDATA[",DOCTYPE:"doctype",SCRIPT:"script",PUBLIC:"public",SYSTEM:"system"};function XT(e){return e>=55296&&e<=57343}function Sw(e){return e>=56320&&e<=57343}function Aw(e,t){return(e-55296)*1024+9216+t}function WT(e){return e!==32&&e!==10&&e!==13&&e!==9&&e!==12&&e>=1&&e<=31||e>=127&&e<=159}function JT(e){return e>=64976&&e<=65007||Cw.has(e)}var ae;(function(e){e.controlCharacterInInputStream="control-character-in-input-stream",e.noncharacterInInputStream="noncharacter-in-input-stream",e.surrogateInInputStream="surrogate-in-input-stream",e.nonVoidHtmlElementStartTagWithTrailingSolidus="non-void-html-element-start-tag-with-trailing-solidus",e.endTagWithAttributes="end-tag-with-attributes",e.endTagWithTrailingSolidus="end-tag-with-trailing-solidus",e.unexpectedSolidusInTag="unexpected-solidus-in-tag",e.unexpectedNullCharacter="unexpected-null-character",e.unexpectedQuestionMarkInsteadOfTagName="unexpected-question-mark-instead-of-tag-name",e.invalidFirstCharacterOfTagName="invalid-first-character-of-tag-name",e.unexpectedEqualsSignBeforeAttributeName="unexpected-equals-sign-before-attribute-name",e.missingEndTagName="missing-end-tag-name",e.unexpectedCharacterInAttributeName="unexpected-character-in-attribute-name",e.unknownNamedCharacterReference="unknown-named-character-reference",e.missingSemicolonAfterCharacterReference="missing-semicolon-after-character-reference",e.unexpectedCharacterAfterDoctypeSystemIdentifier="unexpected-character-after-doctype-system-identifier",e.unexpectedCharacterInUnquotedAttributeValue="unexpected-character-in-unquoted-attribute-value",e.eofBeforeTagName="eof-before-tag-name",e.eofInTag="eof-in-tag",e.missingAttributeValue="missing-attribute-value",e.missingWhitespaceBetweenAttributes="missing-whitespace-between-attributes",e.missingWhitespaceAfterDoctypePublicKeyword="missing-whitespace-after-doctype-public-keyword",e.missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers="missing-whitespace-between-doctype-public-and-system-identifiers",e.missingWhitespaceAfterDoctypeSystemKeyword="missing-whitespace-after-doctype-system-keyword",e.missingQuoteBeforeDoctypePublicIdentifier="missing-quote-before-doctype-public-identifier",e.missingQuoteBeforeDoctypeSystemIdentifier="missing-quote-before-doctype-system-identifier",e.missingDoctypePublicIdentifier="missing-doctype-public-identifier",e.missingDoctypeSystemIdentifier="missing-doctype-system-identifier",e.abruptDoctypePublicIdentifier="abrupt-doctype-public-identifier",e.abruptDoctypeSystemIdentifier="abrupt-doctype-system-identifier",e.cdataInHtmlContent="cdata-in-html-content",e.incorrectlyOpenedComment="incorrectly-opened-comment",e.eofInScriptHtmlCommentLikeText="eof-in-script-html-comment-like-text",e.eofInDoctype="eof-in-doctype",e.nestedComment="nested-comment",e.abruptClosingOfEmptyComment="abrupt-closing-of-empty-comment",e.eofInComment="eof-in-comment",e.incorrectlyClosedComment="incorrectly-closed-comment",e.eofInCdata="eof-in-cdata",e.absenceOfDigitsInNumericCharacterReference="absence-of-digits-in-numeric-character-reference",e.nullCharacterReference="null-character-reference",e.surrogateCharacterReference="surrogate-character-reference",e.characterReferenceOutsideUnicodeRange="character-reference-outside-unicode-range",e.controlCharacterReference="control-character-reference",e.noncharacterCharacterReference="noncharacter-character-reference",e.missingWhitespaceBeforeDoctypeName="missing-whitespace-before-doctype-name",e.missingDoctypeName="missing-doctype-name",e.invalidCharacterSequenceAfterDoctypeName="invalid-character-sequence-after-doctype-name",e.duplicateAttribute="duplicate-attribute",e.nonConformingDoctype="non-conforming-doctype",e.missingDoctype="missing-doctype",e.misplacedDoctype="misplaced-doctype",e.endTagWithoutMatchingOpenElement="end-tag-without-matching-open-element",e.closingOfElementWithOpenChildElements="closing-of-element-with-open-child-elements",e.disallowedContentInNoscriptInHead="disallowed-content-in-noscript-in-head",e.openElementsLeftAfterEof="open-elements-left-after-eof",e.abandonedHeadElementChild="abandoned-head-element-child",e.misplacedStartTagForHeadElement="misplaced-start-tag-for-head-element",e.nestedNoscriptInHead="nested-noscript-in-head",e.eofInElementThatCanContainOnlyText="eof-in-element-that-can-contain-only-text"})(ae||(ae={}));const _w=65536;class Iw{constructor(t){this.handler=t,this.html="",this.pos=-1,this.lastGapPos=-2,this.gapStack=[],this.skipNextNewLine=!1,this.lastChunkWritten=!1,this.endOfChunkHit=!1,this.bufferWaterline=_w,this.isEol=!1,this.lineStartPos=0,this.droppedBufferSize=0,this.line=1,this.lastErrOffset=-1}get col(){return this.pos-this.lineStartPos+ +(this.lastGapPos!==this.pos)}get offset(){return this.droppedBufferSize+this.pos}getError(t,n){const{line:r,col:o,offset:l}=this,u=o+n,f=l+n;return{code:t,startLine:r,endLine:r,startCol:u,endCol:u,startOffset:f,endOffset:f}}_err(t){this.handler.onParseError&&this.lastErrOffset!==this.offset&&(this.lastErrOffset=this.offset,this.handler.onParseError(this.getError(t,0)))}_addGap(){this.gapStack.push(this.lastGapPos),this.lastGapPos=this.pos}_processSurrogate(t){if(this.pos!==this.html.length-1){const n=this.html.charCodeAt(this.pos+1);if(Sw(n))return this.pos++,this._addGap(),Aw(t,n)}else if(!this.lastChunkWritten)return this.endOfChunkHit=!0,M.EOF;return this._err(ae.surrogateInInputStream),t}willDropParsedChunk(){return this.pos>this.bufferWaterline}dropParsedChunk(){this.willDropParsedChunk()&&(this.html=this.html.substring(this.pos),this.lineStartPos-=this.pos,this.droppedBufferSize+=this.pos,this.pos=0,this.lastGapPos=-2,this.gapStack.length=0)}write(t,n){this.html.length>0?this.html+=t:this.html=t,this.endOfChunkHit=!1,this.lastChunkWritten=n}insertHtmlAtCurrentPos(t){this.html=this.html.substring(0,this.pos+1)+t+this.html.substring(this.pos+1),this.endOfChunkHit=!1}startsWith(t,n){if(this.pos+t.length>this.html.length)return this.endOfChunkHit=!this.lastChunkWritten,!1;if(n)return this.html.startsWith(t,this.pos);for(let r=0;r<t.length;r++)if((this.html.charCodeAt(this.pos+r)|32)!==t.charCodeAt(r))return!1;return!0}peek(t){const n=this.pos+t;if(n>=this.html.length)return this.endOfChunkHit=!this.lastChunkWritten,M.EOF;const r=this.html.charCodeAt(n);return r===M.CARRIAGE_RETURN?M.LINE_FEED:r}advance(){if(this.pos++,this.isEol&&(this.isEol=!1,this.line++,this.lineStartPos=this.pos),this.pos>=this.html.length)return this.endOfChunkHit=!this.lastChunkWritten,M.EOF;let t=this.html.charCodeAt(this.pos);return t===M.CARRIAGE_RETURN?(this.isEol=!0,this.skipNextNewLine=!0,M.LINE_FEED):t===M.LINE_FEED&&(this.isEol=!0,this.skipNextNewLine)?(this.line--,this.skipNextNewLine=!1,this._addGap(),this.advance()):(this.skipNextNewLine=!1,XT(t)&&(t=this._processSurrogate(t)),this.handler.onParseError===null||t>31&&t<127||t===M.LINE_FEED||t===M.CARRIAGE_RETURN||t>159&&t<64976||this._checkForProblematicCharacters(t),t)}_checkForProblematicCharacters(t){WT(t)?this._err(ae.controlCharacterInInputStream):JT(t)&&this._err(ae.noncharacterInInputStream)}retreat(t){for(this.pos-=t;this.pos<this.lastGapPos;)this.lastGapPos=this.gapStack.pop(),this.pos--;this.isEol=!1}}var We;(function(e){e[e.CHARACTER=0]="CHARACTER",e[e.NULL_CHARACTER=1]="NULL_CHARACTER",e[e.WHITESPACE_CHARACTER=2]="WHITESPACE_CHARACTER",e[e.START_TAG=3]="START_TAG",e[e.END_TAG=4]="END_TAG",e[e.COMMENT=5]="COMMENT",e[e.DOCTYPE=6]="DOCTYPE",e[e.EOF=7]="EOF",e[e.HIBERNATION=8]="HIBERNATION"})(We||(We={}));function ZT(e,t){for(let n=e.attrs.length-1;n>=0;n--)if(e.attrs[n].name===t)return e.attrs[n].value;return null}const Nw=new Uint16Array('ᵁ<Õıʊҝջאٵ۞ޢߖࠏ੊ઑඡ๭༉༦჊ረዡᐕᒝᓃᓟᔥ\0\0\0\0\0\0ᕫᛍᦍᰒᷝ὾⁠↰⊍⏀⏻⑂⠤⤒ⴈ⹈⿎〖㊺㘹㞬㣾㨨㩱㫠㬮ࠀEMabcfglmnoprstu\\bfms¦³¹ÈÏlig耻Æ䃆P耻&䀦cute耻Á䃁reve;䄂Āiyx}rc耻Â䃂;䐐r;쀀𝔄rave耻À䃀pha;䎑acr;䄀d;橓Āgp¡on;䄄f;쀀𝔸plyFunction;恡ing耻Å䃅Ācs¾Ãr;쀀𝒜ign;扔ilde耻Ã䃃ml耻Ä䃄ЀaceforsuåûþėĜĢħĪĀcrêòkslash;或Ŷöø;櫧ed;挆y;䐑ƀcrtąċĔause;戵noullis;愬a;䎒r;쀀𝔅pf;쀀𝔹eve;䋘còēmpeq;扎܀HOacdefhilorsuōőŖƀƞƢƵƷƺǜȕɳɸɾcy;䐧PY耻©䂩ƀcpyŝŢźute;䄆Ā;iŧŨ拒talDifferentialD;慅leys;愭ȀaeioƉƎƔƘron;䄌dil耻Ç䃇rc;䄈nint;戰ot;䄊ĀdnƧƭilla;䂸terDot;䂷òſi;䎧rcleȀDMPTǇǋǑǖot;抙inus;抖lus;投imes;抗oĀcsǢǸkwiseContourIntegral;戲eCurlyĀDQȃȏoubleQuote;思uote;怙ȀlnpuȞȨɇɕonĀ;eȥȦ户;橴ƀgitȯȶȺruent;扡nt;戯ourIntegral;戮ĀfrɌɎ;愂oduct;成nterClockwiseContourIntegral;戳oss;樯cr;쀀𝒞pĀ;Cʄʅ拓ap;才րDJSZacefiosʠʬʰʴʸˋ˗ˡ˦̳ҍĀ;oŹʥtrahd;椑cy;䐂cy;䐅cy;䐏ƀgrsʿ˄ˇger;怡r;憡hv;櫤Āayː˕ron;䄎;䐔lĀ;t˝˞戇a;䎔r;쀀𝔇Āaf˫̧Ācm˰̢riticalȀADGT̖̜̀̆cute;䂴oŴ̋̍;䋙bleAcute;䋝rave;䁠ilde;䋜ond;拄ferentialD;慆Ѱ̽\0\0\0͔͂\0Ѕf;쀀𝔻ƀ;DE͈͉͍䂨ot;惜qual;扐blèCDLRUVͣͲ΂ϏϢϸontourIntegraìȹoɴ͹\0\0ͻ»͉nArrow;懓Āeo·ΤftƀARTΐΖΡrrow;懐ightArrow;懔eåˊngĀLRΫτeftĀARγιrrow;柸ightArrow;柺ightArrow;柹ightĀATϘϞrrow;懒ee;抨pɁϩ\0\0ϯrrow;懑ownArrow;懕erticalBar;戥ǹABLRTaВЪаўѿͼrrowƀ;BUНОТ憓ar;椓pArrow;懵reve;䌑eft˒к\0ц\0ѐightVector;楐eeVector;楞ectorĀ;Bљњ憽ar;楖ightǔѧ\0ѱeeVector;楟ectorĀ;BѺѻ懁ar;楗eeĀ;A҆҇护rrow;憧ĀctҒҗr;쀀𝒟rok;䄐ࠀNTacdfglmopqstuxҽӀӄӋӞӢӧӮӵԡԯԶՒ՝ՠեG;䅊H耻Ð䃐cute耻É䃉ƀaiyӒӗӜron;䄚rc耻Ê䃊;䐭ot;䄖r;쀀𝔈rave耻È䃈ement;戈ĀapӺӾcr;䄒tyɓԆ\0\0ԒmallSquare;旻erySmallSquare;斫ĀgpԦԪon;䄘f;쀀𝔼silon;䎕uĀaiԼՉlĀ;TՂՃ橵ilde;扂librium;懌Āci՗՚r;愰m;橳a;䎗ml耻Ë䃋Āipժկsts;戃onentialE;慇ʀcfiosօֈ֍ֲ׌y;䐤r;쀀𝔉lledɓ֗\0\0֣mallSquare;旼erySmallSquare;斪Ͱֺ\0ֿ\0\0ׄf;쀀𝔽All;戀riertrf;愱cò׋؀JTabcdfgorstר׬ׯ׺؀ؒؖ؛؝أ٬ٲcy;䐃耻>䀾mmaĀ;d׷׸䎓;䏜reve;䄞ƀeiy؇،ؐdil;䄢rc;䄜;䐓ot;䄠r;쀀𝔊;拙pf;쀀𝔾eater̀EFGLSTصلَٖٛ٦qualĀ;Lؾؿ扥ess;招ullEqual;执reater;檢ess;扷lantEqual;橾ilde;扳cr;쀀𝒢;扫ЀAacfiosuڅڋږڛڞڪھۊRDcy;䐪Āctڐڔek;䋇;䁞irc;䄤r;愌lbertSpace;愋ǰگ\0ڲf;愍izontalLine;攀Āctۃۅòکrok;䄦mpńېۘownHumðįqual;扏܀EJOacdfgmnostuۺ۾܃܇܎ܚܞܡܨ݄ݸދޏޕcy;䐕lig;䄲cy;䐁cute耻Í䃍Āiyܓܘrc耻Î䃎;䐘ot;䄰r;愑rave耻Ì䃌ƀ;apܠܯܿĀcgܴܷr;䄪inaryI;慈lieóϝǴ݉\0ݢĀ;eݍݎ戬Āgrݓݘral;戫section;拂isibleĀCTݬݲomma;恣imes;恢ƀgptݿރވon;䄮f;쀀𝕀a;䎙cr;愐ilde;䄨ǫޚ\0ޞcy;䐆l耻Ï䃏ʀcfosuެ޷޼߂ߐĀiyޱ޵rc;䄴;䐙r;쀀𝔍pf;쀀𝕁ǣ߇\0ߌr;쀀𝒥rcy;䐈kcy;䐄΀HJacfosߤߨ߽߬߱ࠂࠈcy;䐥cy;䐌ppa;䎚Āey߶߻dil;䄶;䐚r;쀀𝔎pf;쀀𝕂cr;쀀𝒦րJTaceflmostࠥࠩࠬࡐࡣ঳সে্਷ੇcy;䐉耻<䀼ʀcmnpr࠷࠼ࡁࡄࡍute;䄹bda;䎛g;柪lacetrf;愒r;憞ƀaeyࡗ࡜ࡡron;䄽dil;䄻;䐛Āfsࡨ॰tԀACDFRTUVarࡾࢩࢱࣦ࣠ࣼयज़ΐ४Ānrࢃ࢏gleBracket;柨rowƀ;BR࢙࢚࢞憐ar;懤ightArrow;懆eiling;挈oǵࢷ\0ࣃbleBracket;柦nǔࣈ\0࣒eeVector;楡ectorĀ;Bࣛࣜ懃ar;楙loor;挊ightĀAV࣯ࣵrrow;憔ector;楎Āerँगeƀ;AVउऊऐ抣rrow;憤ector;楚iangleƀ;BEतथऩ抲ar;槏qual;抴pƀDTVषूौownVector;楑eeVector;楠ectorĀ;Bॖॗ憿ar;楘ectorĀ;B॥०憼ar;楒ightáΜs̀EFGLSTॾঋকঝঢভqualGreater;拚ullEqual;扦reater;扶ess;檡lantEqual;橽ilde;扲r;쀀𝔏Ā;eঽা拘ftarrow;懚idot;䄿ƀnpw৔ਖਛgȀLRlr৞৷ਂਐeftĀAR০৬rrow;柵ightArrow;柷ightArrow;柶eftĀarγਊightáοightáϊf;쀀𝕃erĀLRਢਬeftArrow;憙ightArrow;憘ƀchtਾੀੂòࡌ;憰rok;䅁;扪Ѐacefiosuਗ਼੝੠੷੼અઋ઎p;椅y;䐜Ādl੥੯iumSpace;恟lintrf;愳r;쀀𝔐nusPlus;戓pf;쀀𝕄cò੶;䎜ҀJacefostuણધભીଔଙඑ඗ඞcy;䐊cute;䅃ƀaey઴હાron;䅇dil;䅅;䐝ƀgswે૰଎ativeƀMTV૓૟૨ediumSpace;怋hiĀcn૦૘ë૙eryThiî૙tedĀGL૸ଆreaterGreateòٳessLesóੈLine;䀊r;쀀𝔑ȀBnptଢନଷ଺reak;恠BreakingSpace;䂠f;愕ڀ;CDEGHLNPRSTV୕ୖ୪୼஡௫ఄ౞಄ದ೘ൡඅ櫬Āou୛୤ngruent;扢pCap;扭oubleVerticalBar;戦ƀlqxஃஊ஛ement;戉ualĀ;Tஒஓ扠ilde;쀀≂̸ists;戄reater΀;EFGLSTஶஷ஽௉௓௘௥扯qual;扱ullEqual;쀀≧̸reater;쀀≫̸ess;批lantEqual;쀀⩾̸ilde;扵umpń௲௽ownHump;쀀≎̸qual;쀀≏̸eĀfsఊధtTriangleƀ;BEచఛడ拪ar;쀀⧏̸qual;括s̀;EGLSTవశ఼ౄోౘ扮qual;扰reater;扸ess;쀀≪̸lantEqual;쀀⩽̸ilde;扴estedĀGL౨౹reaterGreater;쀀⪢̸essLess;쀀⪡̸recedesƀ;ESಒಓಛ技qual;쀀⪯̸lantEqual;拠ĀeiಫಹverseElement;戌ghtTriangleƀ;BEೋೌ೒拫ar;쀀⧐̸qual;拭ĀquೝഌuareSuĀbp೨೹setĀ;E೰ೳ쀀⊏̸qual;拢ersetĀ;Eഃആ쀀⊐̸qual;拣ƀbcpഓതൎsetĀ;Eഛഞ쀀⊂⃒qual;抈ceedsȀ;ESTലള഻െ抁qual;쀀⪰̸lantEqual;拡ilde;쀀≿̸ersetĀ;E൘൛쀀⊃⃒qual;抉ildeȀ;EFT൮൯൵ൿ扁qual;扄ullEqual;扇ilde;扉erticalBar;戤cr;쀀𝒩ilde耻Ñ䃑;䎝܀Eacdfgmoprstuvලෂ෉෕ෛ෠෧෼ขภยา฿ไlig;䅒cute耻Ó䃓Āiy෎ීrc耻Ô䃔;䐞blac;䅐r;쀀𝔒rave耻Ò䃒ƀaei෮ෲ෶cr;䅌ga;䎩cron;䎟pf;쀀𝕆enCurlyĀDQฎบoubleQuote;怜uote;怘;橔Āclวฬr;쀀𝒪ash耻Ø䃘iŬื฼de耻Õ䃕es;樷ml耻Ö䃖erĀBP๋๠Āar๐๓r;怾acĀek๚๜;揞et;掴arenthesis;揜Ҁacfhilors๿ງຊຏຒດຝະ໼rtialD;戂y;䐟r;쀀𝔓i;䎦;䎠usMinus;䂱Āipຢອncareplanåڝf;愙Ȁ;eio຺ູ໠໤檻cedesȀ;EST່້໏໚扺qual;檯lantEqual;扼ilde;找me;怳Ādp໩໮uct;戏ortionĀ;aȥ໹l;戝Āci༁༆r;쀀𝒫;䎨ȀUfos༑༖༛༟OT耻"䀢r;쀀𝔔pf;愚cr;쀀𝒬؀BEacefhiorsu༾གྷཇའཱིྦྷྪྭ႖ႩႴႾarr;椐G耻®䂮ƀcnrཎནབute;䅔g;柫rĀ;tཛྷཝ憠l;椖ƀaeyཧཬཱron;䅘dil;䅖;䐠Ā;vླྀཹ愜erseĀEUྂྙĀlq྇ྎement;戋uilibrium;懋pEquilibrium;楯r»ཹo;䎡ghtЀACDFTUVa࿁࿫࿳ဢဨၛႇϘĀnr࿆࿒gleBracket;柩rowƀ;BL࿜࿝࿡憒ar;懥eftArrow;懄eiling;按oǵ࿹\0စbleBracket;柧nǔည\0နeeVector;楝ectorĀ;Bဝသ懂ar;楕loor;挋Āerိ၃eƀ;AVဵံြ抢rrow;憦ector;楛iangleƀ;BEၐၑၕ抳ar;槐qual;抵pƀDTVၣၮၸownVector;楏eeVector;楜ectorĀ;Bႂႃ憾ar;楔ectorĀ;B႑႒懀ar;楓Āpuႛ႞f;愝ndImplies;楰ightarrow;懛ĀchႹႼr;愛;憱leDelayed;槴ڀHOacfhimoqstuფჱჷჽᄙᄞᅑᅖᅡᅧᆵᆻᆿĀCcჩხHcy;䐩y;䐨FTcy;䐬cute;䅚ʀ;aeiyᄈᄉᄎᄓᄗ檼ron;䅠dil;䅞rc;䅜;䐡r;쀀𝔖ortȀDLRUᄪᄴᄾᅉownArrow»ОeftArrow»࢚ightArrow»࿝pArrow;憑gma;䎣allCircle;战pf;쀀𝕊ɲᅭ\0\0ᅰt;戚areȀ;ISUᅻᅼᆉᆯ斡ntersection;抓uĀbpᆏᆞsetĀ;Eᆗᆘ抏qual;抑ersetĀ;Eᆨᆩ抐qual;抒nion;抔cr;쀀𝒮ar;拆ȀbcmpᇈᇛሉላĀ;sᇍᇎ拐etĀ;Eᇍᇕqual;抆ĀchᇠህeedsȀ;ESTᇭᇮᇴᇿ扻qual;檰lantEqual;扽ilde;承Tháྌ;我ƀ;esሒሓሣ拑rsetĀ;Eሜም抃qual;抇et»ሓրHRSacfhiorsሾቄ቉ቕ቞ቱቶኟዂወዑORN耻Þ䃞ADE;愢ĀHc቎ቒcy;䐋y;䐦Ābuቚቜ;䀉;䎤ƀaeyብቪቯron;䅤dil;䅢;䐢r;쀀𝔗Āeiቻ኉ǲኀ\0ኇefore;戴a;䎘Ācn኎ኘkSpace;쀀  Space;怉ldeȀ;EFTካኬኲኼ戼qual;扃ullEqual;扅ilde;扈pf;쀀𝕋ipleDot;惛Āctዖዛr;쀀𝒯rok;䅦ૡዷጎጚጦ\0ጬጱ\0\0\0\0\0ጸጽ፷ᎅ\0᏿ᐄᐊᐐĀcrዻጁute耻Ú䃚rĀ;oጇገ憟cir;楉rǣጓ\0጖y;䐎ve;䅬Āiyጞጣrc耻Û䃛;䐣blac;䅰r;쀀𝔘rave耻Ù䃙acr;䅪Ādiፁ፩erĀBPፈ፝Āarፍፐr;䁟acĀekፗፙ;揟et;掵arenthesis;揝onĀ;P፰፱拃lus;抎Āgp፻፿on;䅲f;쀀𝕌ЀADETadps᎕ᎮᎸᏄϨᏒᏗᏳrrowƀ;BDᅐᎠᎤar;椒ownArrow;懅ownArrow;憕quilibrium;楮eeĀ;AᏋᏌ报rrow;憥ownáϳerĀLRᏞᏨeftArrow;憖ightArrow;憗iĀ;lᏹᏺ䏒on;䎥ing;䅮cr;쀀𝒰ilde;䅨ml耻Ü䃜ҀDbcdefosvᐧᐬᐰᐳᐾᒅᒊᒐᒖash;披ar;櫫y;䐒ashĀ;lᐻᐼ抩;櫦Āerᑃᑅ;拁ƀbtyᑌᑐᑺar;怖Ā;iᑏᑕcalȀBLSTᑡᑥᑪᑴar;戣ine;䁼eparator;杘ilde;所ThinSpace;怊r;쀀𝔙pf;쀀𝕍cr;쀀𝒱dash;抪ʀcefosᒧᒬᒱᒶᒼirc;䅴dge;拀r;쀀𝔚pf;쀀𝕎cr;쀀𝒲Ȁfiosᓋᓐᓒᓘr;쀀𝔛;䎞pf;쀀𝕏cr;쀀𝒳ҀAIUacfosuᓱᓵᓹᓽᔄᔏᔔᔚᔠcy;䐯cy;䐇cy;䐮cute耻Ý䃝Āiyᔉᔍrc;䅶;䐫r;쀀𝔜pf;쀀𝕐cr;쀀𝒴ml;䅸ЀHacdefosᔵᔹᔿᕋᕏᕝᕠᕤcy;䐖cute;䅹Āayᕄᕉron;䅽;䐗ot;䅻ǲᕔ\0ᕛoWidtè૙a;䎖r;愨pf;愤cr;쀀𝒵௡ᖃᖊᖐ\0ᖰᖶᖿ\0\0\0\0ᗆᗛᗫᙟ᙭\0ᚕ᚛ᚲᚹ\0ᚾcute耻á䃡reve;䄃̀;Ediuyᖜᖝᖡᖣᖨᖭ戾;쀀∾̳;房rc耻â䃢te肻´̆;䐰lig耻æ䃦Ā;r²ᖺ;쀀𝔞rave耻à䃠ĀepᗊᗖĀfpᗏᗔsym;愵èᗓha;䎱ĀapᗟcĀclᗤᗧr;䄁g;樿ɤᗰ\0\0ᘊʀ;adsvᗺᗻᗿᘁᘇ戧nd;橕;橜lope;橘;橚΀;elmrszᘘᘙᘛᘞᘿᙏᙙ戠;榤e»ᘙsdĀ;aᘥᘦ戡ѡᘰᘲᘴᘶᘸᘺᘼᘾ;榨;榩;榪;榫;榬;榭;榮;榯tĀ;vᙅᙆ戟bĀ;dᙌᙍ抾;榝Āptᙔᙗh;戢»¹arr;捼Āgpᙣᙧon;䄅f;쀀𝕒΀;Eaeiop዁ᙻᙽᚂᚄᚇᚊ;橰cir;橯;扊d;手s;䀧roxĀ;e዁ᚒñᚃing耻å䃥ƀctyᚡᚦᚨr;쀀𝒶;䀪mpĀ;e዁ᚯñʈilde耻ã䃣ml耻ä䃤Āciᛂᛈoninôɲnt;樑ࠀNabcdefiklnoprsu᛭ᛱᜰ᜼ᝃᝈ᝸᝽០៦ᠹᡐᜍ᤽᥈ᥰot;櫭Ācrᛶ᜞kȀcepsᜀᜅᜍᜓong;扌psilon;䏶rime;怵imĀ;e᜚᜛戽q;拍Ŷᜢᜦee;抽edĀ;gᜬᜭ挅e»ᜭrkĀ;t፜᜷brk;掶Āoyᜁᝁ;䐱quo;怞ʀcmprtᝓ᝛ᝡᝤᝨausĀ;eĊĉptyv;榰séᜌnoõēƀahwᝯ᝱ᝳ;䎲;愶een;扬r;쀀𝔟g΀costuvwឍឝឳេ៕៛៞ƀaiuបពរðݠrc;旯p»፱ƀdptឤឨឭot;樀lus;樁imes;樂ɱឹ\0\0ើcup;樆ar;昅riangleĀdu៍្own;施p;斳plus;樄eåᑄåᒭarow;植ƀako៭ᠦᠵĀcn៲ᠣkƀlst៺֫᠂ozenge;槫riangleȀ;dlr᠒᠓᠘᠝斴own;斾eft;旂ight;斸k;搣Ʊᠫ\0ᠳƲᠯ\0ᠱ;斒;斑4;斓ck;斈ĀeoᠾᡍĀ;qᡃᡆ쀀=⃥uiv;쀀≡⃥t;挐Ȁptwxᡙᡞᡧᡬf;쀀𝕓Ā;tᏋᡣom»Ꮜtie;拈؀DHUVbdhmptuvᢅᢖᢪᢻᣗᣛᣬ᣿ᤅᤊᤐᤡȀLRlrᢎᢐᢒᢔ;敗;敔;敖;敓ʀ;DUduᢡᢢᢤᢦᢨ敐;敦;敩;敤;敧ȀLRlrᢳᢵᢷᢹ;敝;敚;敜;教΀;HLRhlrᣊᣋᣍᣏᣑᣓᣕ救;敬;散;敠;敫;敢;敟ox;槉ȀLRlrᣤᣦᣨᣪ;敕;敒;攐;攌ʀ;DUduڽ᣷᣹᣻᣽;敥;敨;攬;攴inus;抟lus;択imes;抠ȀLRlrᤙᤛᤝ᤟;敛;敘;攘;攔΀;HLRhlrᤰᤱᤳᤵᤷ᤻᤹攂;敪;敡;敞;攼;攤;攜Āevģ᥂bar耻¦䂦Ȁceioᥑᥖᥚᥠr;쀀𝒷mi;恏mĀ;e᜚᜜lƀ;bhᥨᥩᥫ䁜;槅sub;柈Ŭᥴ᥾lĀ;e᥹᥺怢t»᥺pƀ;Eeįᦅᦇ;檮Ā;qۜۛೡᦧ\0᧨ᨑᨕᨲ\0ᨷᩐ\0\0᪴\0\0᫁\0\0ᬡᬮ᭍᭒\0᯽\0ᰌƀcpr᦭ᦲ᧝ute;䄇̀;abcdsᦿᧀᧄ᧊᧕᧙戩nd;橄rcup;橉Āau᧏᧒p;橋p;橇ot;橀;쀀∩︀Āeo᧢᧥t;恁îړȀaeiu᧰᧻ᨁᨅǰ᧵\0᧸s;橍on;䄍dil耻ç䃧rc;䄉psĀ;sᨌᨍ橌m;橐ot;䄋ƀdmnᨛᨠᨦil肻¸ƭptyv;榲t脀¢;eᨭᨮ䂢räƲr;쀀𝔠ƀceiᨽᩀᩍy;䑇ckĀ;mᩇᩈ朓ark»ᩈ;䏇r΀;Ecefms᩟᩠ᩢᩫ᪤᪪᪮旋;槃ƀ;elᩩᩪᩭ䋆q;扗eɡᩴ\0\0᪈rrowĀlr᩼᪁eft;憺ight;憻ʀRSacd᪒᪔᪖᪚᪟»ཇ;擈st;抛irc;抚ash;抝nint;樐id;櫯cir;槂ubsĀ;u᪻᪼晣it»᪼ˬ᫇᫔᫺\0ᬊonĀ;eᫍᫎ䀺Ā;qÇÆɭ᫙\0\0᫢aĀ;t᫞᫟䀬;䁀ƀ;fl᫨᫩᫫戁îᅠeĀmx᫱᫶ent»᫩eóɍǧ᫾\0ᬇĀ;dኻᬂot;橭nôɆƀfryᬐᬔᬗ;쀀𝕔oäɔ脀©;sŕᬝr;愗Āaoᬥᬩrr;憵ss;朗Ācuᬲᬷr;쀀𝒸Ābpᬼ᭄Ā;eᭁᭂ櫏;櫑Ā;eᭉᭊ櫐;櫒dot;拯΀delprvw᭠᭬᭷ᮂᮬᯔ᯹arrĀlr᭨᭪;椸;椵ɰ᭲\0\0᭵r;拞c;拟arrĀ;p᭿ᮀ憶;椽̀;bcdosᮏᮐᮖᮡᮥᮨ截rcap;橈Āauᮛᮞp;橆p;橊ot;抍r;橅;쀀∪︀Ȁalrv᮵ᮿᯞᯣrrĀ;mᮼᮽ憷;椼yƀevwᯇᯔᯘqɰᯎ\0\0ᯒreã᭳uã᭵ee;拎edge;拏en耻¤䂤earrowĀlrᯮ᯳eft»ᮀight»ᮽeäᯝĀciᰁᰇoninôǷnt;戱lcty;挭ঀAHabcdefhijlorstuwz᰸᰻᰿ᱝᱩᱵᲊᲞᲬᲷ᳻᳿ᴍᵻᶑᶫᶻ᷆᷍rò΁ar;楥Ȁglrs᱈ᱍ᱒᱔ger;怠eth;愸òᄳhĀ;vᱚᱛ怐»ऊūᱡᱧarow;椏aã̕Āayᱮᱳron;䄏;䐴ƀ;ao̲ᱼᲄĀgrʿᲁr;懊tseq;橷ƀglmᲑᲔᲘ耻°䂰ta;䎴ptyv;榱ĀirᲣᲨsht;楿;쀀𝔡arĀlrᲳᲵ»ࣜ»သʀaegsv᳂͸᳖᳜᳠mƀ;oș᳊᳔ndĀ;ș᳑uit;晦amma;䏝in;拲ƀ;io᳧᳨᳸䃷de脀÷;o᳧ᳰntimes;拇nø᳷cy;䑒cɯᴆ\0\0ᴊrn;挞op;挍ʀlptuwᴘᴝᴢᵉᵕlar;䀤f;쀀𝕕ʀ;emps̋ᴭᴷᴽᵂqĀ;d͒ᴳot;扑inus;戸lus;戔quare;抡blebarwedgåúnƀadhᄮᵝᵧownarrowóᲃarpoonĀlrᵲᵶefôᲴighôᲶŢᵿᶅkaro÷གɯᶊ\0\0ᶎrn;挟op;挌ƀcotᶘᶣᶦĀryᶝᶡ;쀀𝒹;䑕l;槶rok;䄑Ādrᶰᶴot;拱iĀ;fᶺ᠖斿Āah᷀᷃ròЩaòྦangle;榦Āci᷒ᷕy;䑟grarr;柿ऀDacdefglmnopqrstuxḁḉḙḸոḼṉṡṾấắẽỡἪἷὄ὎὚ĀDoḆᴴoôᲉĀcsḎḔute耻é䃩ter;橮ȀaioyḢḧḱḶron;䄛rĀ;cḭḮ扖耻ê䃪lon;払;䑍ot;䄗ĀDrṁṅot;扒;쀀𝔢ƀ;rsṐṑṗ檚ave耻è䃨Ā;dṜṝ檖ot;檘Ȁ;ilsṪṫṲṴ檙nters;揧;愓Ā;dṹṺ檕ot;檗ƀapsẅẉẗcr;䄓tyƀ;svẒẓẕ戅et»ẓpĀ1;ẝẤĳạả;怄;怅怃ĀgsẪẬ;䅋p;怂ĀgpẴẸon;䄙f;쀀𝕖ƀalsỄỎỒrĀ;sỊị拕l;槣us;橱iƀ;lvỚớở䎵on»ớ;䏵ȀcsuvỪỳἋἣĀioữḱrc»Ḯɩỹ\0\0ỻíՈantĀglἂἆtr»ṝess»Ṻƀaeiἒ἖Ἒls;䀽st;扟vĀ;DȵἠD;橸parsl;槥ĀDaἯἳot;打rr;楱ƀcdiἾὁỸr;愯oô͒ĀahὉὋ;䎷耻ð䃰Āmrὓὗl耻ë䃫o;悬ƀcipὡὤὧl;䀡sôծĀeoὬὴctatioîՙnentialåչৡᾒ\0ᾞ\0ᾡᾧ\0\0ῆῌ\0ΐ\0ῦῪ \0 ⁚llingdotseñṄy;䑄male;晀ƀilrᾭᾳ῁lig;耀ﬃɩᾹ\0\0᾽g;耀ﬀig;耀ﬄ;쀀𝔣lig;耀ﬁlig;쀀fjƀaltῙ῜ῡt;晭ig;耀ﬂns;斱of;䆒ǰ΅\0ῳf;쀀𝕗ĀakֿῷĀ;vῼ´拔;櫙artint;樍Āao‌⁕Ācs‑⁒α‚‰‸⁅⁈\0⁐β•‥‧‪‬\0‮耻½䂽;慓耻¼䂼;慕;慙;慛Ƴ‴\0‶;慔;慖ʴ‾⁁\0\0⁃耻¾䂾;慗;慜5;慘ƶ⁌\0⁎;慚;慝8;慞l;恄wn;挢cr;쀀𝒻ࢀEabcdefgijlnorstv₂₉₟₥₰₴⃰⃵⃺⃿℃ℒℸ̗ℾ⅒↞Ā;lٍ₇;檌ƀcmpₐₕ₝ute;䇵maĀ;dₜ᳚䎳;檆reve;䄟Āiy₪₮rc;䄝;䐳ot;䄡Ȁ;lqsؾق₽⃉ƀ;qsؾٌ⃄lanô٥Ȁ;cdl٥⃒⃥⃕c;檩otĀ;o⃜⃝檀Ā;l⃢⃣檂;檄Ā;e⃪⃭쀀⋛︀s;檔r;쀀𝔤Ā;gٳ؛mel;愷cy;䑓Ȁ;Eajٚℌℎℐ;檒;檥;檤ȀEaesℛℝ℩ℴ;扩pĀ;p℣ℤ檊rox»ℤĀ;q℮ℯ檈Ā;q℮ℛim;拧pf;쀀𝕘Āci⅃ⅆr;愊mƀ;el٫ⅎ⅐;檎;檐茀>;cdlqr׮ⅠⅪⅮⅳⅹĀciⅥⅧ;檧r;橺ot;拗Par;榕uest;橼ʀadelsↄⅪ←ٖ↛ǰ↉\0↎proø₞r;楸qĀlqؿ↖lesó₈ií٫Āen↣↭rtneqq;쀀≩︀Å↪ԀAabcefkosy⇄⇇⇱⇵⇺∘∝∯≨≽ròΠȀilmr⇐⇔⇗⇛rsðᒄf»․ilôکĀdr⇠⇤cy;䑊ƀ;cwࣴ⇫⇯ir;楈;憭ar;意irc;䄥ƀalr∁∎∓rtsĀ;u∉∊晥it»∊lip;怦con;抹r;쀀𝔥sĀew∣∩arow;椥arow;椦ʀamopr∺∾≃≞≣rr;懿tht;戻kĀlr≉≓eftarrow;憩ightarrow;憪f;쀀𝕙bar;怕ƀclt≯≴≸r;쀀𝒽asè⇴rok;䄧Ābp⊂⊇ull;恃hen»ᱛૡ⊣\0⊪\0⊸⋅⋎\0⋕⋳\0\0⋸⌢⍧⍢⍿\0⎆⎪⎴cute耻í䃭ƀ;iyݱ⊰⊵rc耻î䃮;䐸Ācx⊼⊿y;䐵cl耻¡䂡ĀfrΟ⋉;쀀𝔦rave耻ì䃬Ȁ;inoܾ⋝⋩⋮Āin⋢⋦nt;樌t;戭fin;槜ta;愩lig;䄳ƀaop⋾⌚⌝ƀcgt⌅⌈⌗r;䄫ƀelpܟ⌏⌓inåގarôܠh;䄱f;抷ed;䆵ʀ;cfotӴ⌬⌱⌽⍁are;愅inĀ;t⌸⌹戞ie;槝doô⌙ʀ;celpݗ⍌⍐⍛⍡al;抺Āgr⍕⍙eróᕣã⍍arhk;樗rod;樼Ȁcgpt⍯⍲⍶⍻y;䑑on;䄯f;쀀𝕚a;䎹uest耻¿䂿Āci⎊⎏r;쀀𝒾nʀ;EdsvӴ⎛⎝⎡ӳ;拹ot;拵Ā;v⎦⎧拴;拳Ā;iݷ⎮lde;䄩ǫ⎸\0⎼cy;䑖l耻ï䃯̀cfmosu⏌⏗⏜⏡⏧⏵Āiy⏑⏕rc;䄵;䐹r;쀀𝔧ath;䈷pf;쀀𝕛ǣ⏬\0⏱r;쀀𝒿rcy;䑘kcy;䑔Ѐacfghjos␋␖␢␧␭␱␵␻ppaĀ;v␓␔䎺;䏰Āey␛␠dil;䄷;䐺r;쀀𝔨reen;䄸cy;䑅cy;䑜pf;쀀𝕜cr;쀀𝓀஀ABEHabcdefghjlmnoprstuv⑰⒁⒆⒍⒑┎┽╚▀♎♞♥♹♽⚚⚲⛘❝❨➋⟀⠁⠒ƀart⑷⑺⑼rò৆òΕail;椛arr;椎Ā;gঔ⒋;檋ar;楢ॣ⒥\0⒪\0⒱\0\0\0\0\0⒵Ⓔ\0ⓆⓈⓍ\0⓹ute;䄺mptyv;榴raîࡌbda;䎻gƀ;dlࢎⓁⓃ;榑åࢎ;檅uo耻«䂫rЀ;bfhlpst࢙ⓞⓦⓩ⓫⓮⓱⓵Ā;f࢝ⓣs;椟s;椝ë≒p;憫l;椹im;楳l;憢ƀ;ae⓿─┄檫il;椙Ā;s┉┊檭;쀀⪭︀ƀabr┕┙┝rr;椌rk;杲Āak┢┬cĀek┨┪;䁻;䁛Āes┱┳;榋lĀdu┹┻;榏;榍Ȁaeuy╆╋╖╘ron;䄾Ādi═╔il;䄼ìࢰâ┩;䐻Ȁcqrs╣╦╭╽a;椶uoĀ;rนᝆĀdu╲╷har;楧shar;楋h;憲ʀ;fgqs▋▌উ◳◿扤tʀahlrt▘▤▷◂◨rrowĀ;t࢙□aé⓶arpoonĀdu▯▴own»њp»०eftarrows;懇ightƀahs◍◖◞rrowĀ;sࣴࢧarpoonó྘quigarro÷⇰hreetimes;拋ƀ;qs▋ও◺lanôবʀ;cdgsব☊☍☝☨c;檨otĀ;o☔☕橿Ā;r☚☛檁;檃Ā;e☢☥쀀⋚︀s;檓ʀadegs☳☹☽♉♋pproøⓆot;拖qĀgq♃♅ôউgtò⒌ôছiíলƀilr♕࣡♚sht;楼;쀀𝔩Ā;Eজ♣;檑š♩♶rĀdu▲♮Ā;l॥♳;楪lk;斄cy;䑙ʀ;achtੈ⚈⚋⚑⚖rò◁orneòᴈard;楫ri;旺Āio⚟⚤dot;䅀ustĀ;a⚬⚭掰che»⚭ȀEaes⚻⚽⛉⛔;扨pĀ;p⛃⛄檉rox»⛄Ā;q⛎⛏檇Ā;q⛎⚻im;拦Ѐabnoptwz⛩⛴⛷✚✯❁❇❐Ānr⛮⛱g;柬r;懽rëࣁgƀlmr⛿✍✔eftĀar০✇ightá৲apsto;柼ightá৽parrowĀlr✥✩efô⓭ight;憬ƀafl✶✹✽r;榅;쀀𝕝us;樭imes;樴š❋❏st;戗áፎƀ;ef❗❘᠀旊nge»❘arĀ;l❤❥䀨t;榓ʀachmt❳❶❼➅➇ròࢨorneòᶌarĀ;d྘➃;業;怎ri;抿̀achiqt➘➝ੀ➢➮➻quo;怹r;쀀𝓁mƀ;egল➪➬;檍;檏Ābu┪➳oĀ;rฟ➹;怚rok;䅂萀<;cdhilqrࠫ⟒☹⟜⟠⟥⟪⟰Āci⟗⟙;檦r;橹reå◲mes;拉arr;楶uest;橻ĀPi⟵⟹ar;榖ƀ;ef⠀भ᠛旃rĀdu⠇⠍shar;楊har;楦Āen⠗⠡rtneqq;쀀≨︀Å⠞܀Dacdefhilnopsu⡀⡅⢂⢎⢓⢠⢥⢨⣚⣢⣤ઃ⣳⤂Dot;戺Ȁclpr⡎⡒⡣⡽r耻¯䂯Āet⡗⡙;時Ā;e⡞⡟朠se»⡟Ā;sျ⡨toȀ;dluျ⡳⡷⡻owîҌefôएðᏑker;斮Āoy⢇⢌mma;権;䐼ash;怔asuredangle»ᘦr;쀀𝔪o;愧ƀcdn⢯⢴⣉ro耻µ䂵Ȁ;acdᑤ⢽⣀⣄sôᚧir;櫰ot肻·Ƶusƀ;bd⣒ᤃ⣓戒Ā;uᴼ⣘;横ţ⣞⣡p;櫛ò−ðઁĀdp⣩⣮els;抧f;쀀𝕞Āct⣸⣽r;쀀𝓂pos»ᖝƀ;lm⤉⤊⤍䎼timap;抸ఀGLRVabcdefghijlmoprstuvw⥂⥓⥾⦉⦘⧚⧩⨕⨚⩘⩝⪃⪕⪤⪨⬄⬇⭄⭿⮮ⰴⱧⱼ⳩Āgt⥇⥋;쀀⋙̸Ā;v⥐௏쀀≫⃒ƀelt⥚⥲⥶ftĀar⥡⥧rrow;懍ightarrow;懎;쀀⋘̸Ā;v⥻ే쀀≪⃒ightarrow;懏ĀDd⦎⦓ash;抯ash;抮ʀbcnpt⦣⦧⦬⦱⧌la»˞ute;䅄g;쀀∠⃒ʀ;Eiop඄⦼⧀⧅⧈;쀀⩰̸d;쀀≋̸s;䅉roø඄urĀ;a⧓⧔普lĀ;s⧓ସǳ⧟\0⧣p肻 ଷmpĀ;e௹ఀʀaeouy⧴⧾⨃⨐⨓ǰ⧹\0⧻;橃on;䅈dil;䅆ngĀ;dൾ⨊ot;쀀⩭̸p;橂;䐽ash;怓΀;Aadqsxஒ⨩⨭⨻⩁⩅⩐rr;懗rĀhr⨳⨶k;椤Ā;oᏲᏰot;쀀≐̸uiöୣĀei⩊⩎ar;椨í஘istĀ;s஠டr;쀀𝔫ȀEest௅⩦⩹⩼ƀ;qs஼⩭௡ƀ;qs஼௅⩴lanô௢ií௪Ā;rஶ⪁»ஷƀAap⪊⪍⪑rò⥱rr;憮ar;櫲ƀ;svྍ⪜ྌĀ;d⪡⪢拼;拺cy;䑚΀AEadest⪷⪺⪾⫂⫅⫶⫹rò⥦;쀀≦̸rr;憚r;急Ȁ;fqs఻⫎⫣⫯tĀar⫔⫙rro÷⫁ightarro÷⪐ƀ;qs఻⪺⫪lanôౕĀ;sౕ⫴»శiíౝĀ;rవ⫾iĀ;eచథiäඐĀpt⬌⬑f;쀀𝕟膀¬;in⬙⬚⬶䂬nȀ;Edvஉ⬤⬨⬮;쀀⋹̸ot;쀀⋵̸ǡஉ⬳⬵;拷;拶iĀ;vಸ⬼ǡಸ⭁⭃;拾;拽ƀaor⭋⭣⭩rȀ;ast୻⭕⭚⭟lleì୻l;쀀⫽⃥;쀀∂̸lint;樔ƀ;ceಒ⭰⭳uåಥĀ;cಘ⭸Ā;eಒ⭽ñಘȀAait⮈⮋⮝⮧rò⦈rrƀ;cw⮔⮕⮙憛;쀀⤳̸;쀀↝̸ghtarrow»⮕riĀ;eೋೖ΀chimpqu⮽⯍⯙⬄୸⯤⯯Ȁ;cerല⯆ഷ⯉uå൅;쀀𝓃ortɭ⬅\0\0⯖ará⭖mĀ;e൮⯟Ā;q൴൳suĀbp⯫⯭å೸åഋƀbcp⯶ⰑⰙȀ;Ees⯿ⰀഢⰄ抄;쀀⫅̸etĀ;eഛⰋqĀ;qണⰀcĀ;eലⰗñസȀ;EesⰢⰣൟⰧ抅;쀀⫆̸etĀ;e൘ⰮqĀ;qൠⰣȀgilrⰽⰿⱅⱇìௗlde耻ñ䃱çృiangleĀlrⱒⱜeftĀ;eచⱚñదightĀ;eೋⱥñ೗Ā;mⱬⱭ䎽ƀ;esⱴⱵⱹ䀣ro;愖p;怇ҀDHadgilrsⲏⲔⲙⲞⲣⲰⲶⳓⳣash;抭arr;椄p;쀀≍⃒ash;抬ĀetⲨⲬ;쀀≥⃒;쀀>⃒nfin;槞ƀAetⲽⳁⳅrr;椂;쀀≤⃒Ā;rⳊⳍ쀀<⃒ie;쀀⊴⃒ĀAtⳘⳜrr;椃rie;쀀⊵⃒im;쀀∼⃒ƀAan⳰⳴ⴂrr;懖rĀhr⳺⳽k;椣Ā;oᏧᏥear;椧ቓ᪕\0\0\0\0\0\0\0\0\0\0\0\0\0ⴭ\0ⴸⵈⵠⵥ⵲ⶄᬇ\0\0ⶍⶫ\0ⷈⷎ\0ⷜ⸙⸫⸾⹃Ācsⴱ᪗ute耻ó䃳ĀiyⴼⵅrĀ;c᪞ⵂ耻ô䃴;䐾ʀabios᪠ⵒⵗǈⵚlac;䅑v;樸old;榼lig;䅓Ācr⵩⵭ir;榿;쀀𝔬ͯ⵹\0\0⵼\0ⶂn;䋛ave耻ò䃲;槁Ābmⶈ෴ar;榵Ȁacitⶕ⶘ⶥⶨrò᪀Āir⶝ⶠr;榾oss;榻nå๒;槀ƀaeiⶱⶵⶹcr;䅍ga;䏉ƀcdnⷀⷅǍron;䎿;榶pf;쀀𝕠ƀaelⷔ⷗ǒr;榷rp;榹΀;adiosvⷪⷫⷮ⸈⸍⸐⸖戨rò᪆Ȁ;efmⷷⷸ⸂⸅橝rĀ;oⷾⷿ愴f»ⷿ耻ª䂪耻º䂺gof;抶r;橖lope;橗;橛ƀclo⸟⸡⸧ò⸁ash耻ø䃸l;折iŬⸯ⸴de耻õ䃵esĀ;aǛ⸺s;樶ml耻ö䃶bar;挽ૡ⹞\0⹽\0⺀⺝\0⺢⺹\0\0⻋ຜ\0⼓\0\0⼫⾼\0⿈rȀ;astЃ⹧⹲຅脀¶;l⹭⹮䂶leìЃɩ⹸\0\0⹻m;櫳;櫽y;䐿rʀcimpt⺋⺏⺓ᡥ⺗nt;䀥od;䀮il;怰enk;怱r;쀀𝔭ƀimo⺨⺰⺴Ā;v⺭⺮䏆;䏕maô੶ne;明ƀ;tv⺿⻀⻈䏀chfork»´;䏖Āau⻏⻟nĀck⻕⻝kĀ;h⇴⻛;愎ö⇴sҀ;abcdemst⻳⻴ᤈ⻹⻽⼄⼆⼊⼎䀫cir;樣ir;樢Āouᵀ⼂;樥;橲n肻±ຝim;樦wo;樧ƀipu⼙⼠⼥ntint;樕f;쀀𝕡nd耻£䂣Ԁ;Eaceinosu່⼿⽁⽄⽇⾁⾉⾒⽾⾶;檳p;檷uå໙Ā;c໎⽌̀;acens່⽙⽟⽦⽨⽾pproø⽃urlyeñ໙ñ໎ƀaes⽯⽶⽺pprox;檹qq;檵im;拨iíໟmeĀ;s⾈ຮ怲ƀEas⽸⾐⽺ð⽵ƀdfp໬⾙⾯ƀals⾠⾥⾪lar;挮ine;挒urf;挓Ā;t໻⾴ï໻rel;抰Āci⿀⿅r;쀀𝓅;䏈ncsp;怈̀fiopsu⿚⋢⿟⿥⿫⿱r;쀀𝔮pf;쀀𝕢rime;恗cr;쀀𝓆ƀaeo⿸〉〓tĀei⿾々rnionóڰnt;樖stĀ;e【】䀿ñἙô༔઀ABHabcdefhilmnoprstux぀けさすムㄎㄫㅇㅢㅲㆎ㈆㈕㈤㈩㉘㉮㉲㊐㊰㊷ƀartぇおがròႳòϝail;検aròᱥar;楤΀cdenqrtとふへみわゔヌĀeuねぱ;쀀∽̱te;䅕iãᅮmptyv;榳gȀ;del࿑らるろ;榒;榥å࿑uo耻»䂻rր;abcfhlpstw࿜ガクシスゼゾダッデナp;極Ā;f࿠ゴs;椠;椳s;椞ë≝ð✮l;楅im;楴l;憣;憝Āaiパフil;椚oĀ;nホボ戶aló༞ƀabrョリヮrò៥rk;杳ĀakンヽcĀekヹ・;䁽;䁝Āes㄂㄄;榌lĀduㄊㄌ;榎;榐Ȁaeuyㄗㄜㄧㄩron;䅙Ādiㄡㄥil;䅗ì࿲âヺ;䑀Ȁclqsㄴㄷㄽㅄa;椷dhar;楩uoĀ;rȎȍh;憳ƀacgㅎㅟངlȀ;ipsླྀㅘㅛႜnåႻarôྩt;断ƀilrㅩဣㅮsht;楽;쀀𝔯ĀaoㅷㆆrĀduㅽㅿ»ѻĀ;l႑ㆄ;楬Ā;vㆋㆌ䏁;䏱ƀgns㆕ㇹㇼht̀ahlrstㆤㆰ㇂㇘㇤㇮rrowĀ;t࿜ㆭaéトarpoonĀduㆻㆿowîㅾp»႒eftĀah㇊㇐rrowó࿪arpoonóՑightarrows;應quigarro÷ニhreetimes;拌g;䋚ingdotseñἲƀahm㈍㈐㈓rò࿪aòՑ;怏oustĀ;a㈞㈟掱che»㈟mid;櫮Ȁabpt㈲㈽㉀㉒Ānr㈷㈺g;柭r;懾rëဃƀafl㉇㉊㉎r;榆;쀀𝕣us;樮imes;樵Āap㉝㉧rĀ;g㉣㉤䀩t;榔olint;樒arò㇣Ȁachq㉻㊀Ⴜ㊅quo;怺r;쀀𝓇Ābu・㊊oĀ;rȔȓƀhir㊗㊛㊠reåㇸmes;拊iȀ;efl㊪ၙᠡ㊫方tri;槎luhar;楨;愞ൡ㋕㋛㋟㌬㌸㍱\0㍺㎤\0\0㏬㏰\0㐨㑈㑚㒭㒱㓊㓱\0㘖\0\0㘳cute;䅛quï➺Ԁ;Eaceinpsyᇭ㋳㋵㋿㌂㌋㌏㌟㌦㌩;檴ǰ㋺\0㋼;檸on;䅡uåᇾĀ;dᇳ㌇il;䅟rc;䅝ƀEas㌖㌘㌛;檶p;檺im;择olint;樓iíሄ;䑁otƀ;be㌴ᵇ㌵担;橦΀Aacmstx㍆㍊㍗㍛㍞㍣㍭rr;懘rĀhr㍐㍒ë∨Ā;oਸ਼਴t耻§䂧i;䀻war;椩mĀin㍩ðnuóñt;朶rĀ;o㍶⁕쀀𝔰Ȁacoy㎂㎆㎑㎠rp;景Āhy㎋㎏cy;䑉;䑈rtɭ㎙\0\0㎜iäᑤaraì⹯耻­䂭Āgm㎨㎴maƀ;fv㎱㎲㎲䏃;䏂Ѐ;deglnprካ㏅㏉㏎㏖㏞㏡㏦ot;橪Ā;q኱ኰĀ;E㏓㏔檞;檠Ā;E㏛㏜檝;檟e;扆lus;樤arr;楲aròᄽȀaeit㏸㐈㐏㐗Āls㏽㐄lsetmé㍪hp;樳parsl;槤Ādlᑣ㐔e;挣Ā;e㐜㐝檪Ā;s㐢㐣檬;쀀⪬︀ƀflp㐮㐳㑂tcy;䑌Ā;b㐸㐹䀯Ā;a㐾㐿槄r;挿f;쀀𝕤aĀdr㑍ЂesĀ;u㑔㑕晠it»㑕ƀcsu㑠㑹㒟Āau㑥㑯pĀ;sᆈ㑫;쀀⊓︀pĀ;sᆴ㑵;쀀⊔︀uĀbp㑿㒏ƀ;esᆗᆜ㒆etĀ;eᆗ㒍ñᆝƀ;esᆨᆭ㒖etĀ;eᆨ㒝ñᆮƀ;afᅻ㒦ְrť㒫ֱ»ᅼaròᅈȀcemt㒹㒾㓂㓅r;쀀𝓈tmîñiì㐕aræᆾĀar㓎㓕rĀ;f㓔ឿ昆Āan㓚㓭ightĀep㓣㓪psiloîỠhé⺯s»⡒ʀbcmnp㓻㕞ሉ㖋㖎Ҁ;Edemnprs㔎㔏㔑㔕㔞㔣㔬㔱㔶抂;櫅ot;檽Ā;dᇚ㔚ot;櫃ult;櫁ĀEe㔨㔪;櫋;把lus;檿arr;楹ƀeiu㔽㕒㕕tƀ;en㔎㕅㕋qĀ;qᇚ㔏eqĀ;q㔫㔨m;櫇Ābp㕚㕜;櫕;櫓c̀;acensᇭ㕬㕲㕹㕻㌦pproø㋺urlyeñᇾñᇳƀaes㖂㖈㌛pproø㌚qñ㌗g;晪ڀ123;Edehlmnps㖩㖬㖯ሜ㖲㖴㗀㗉㗕㗚㗟㗨㗭耻¹䂹耻²䂲耻³䂳;櫆Āos㖹㖼t;檾ub;櫘Ā;dሢ㗅ot;櫄sĀou㗏㗒l;柉b;櫗arr;楻ult;櫂ĀEe㗤㗦;櫌;抋lus;櫀ƀeiu㗴㘉㘌tƀ;enሜ㗼㘂qĀ;qሢ㖲eqĀ;q㗧㗤m;櫈Ābp㘑㘓;櫔;櫖ƀAan㘜㘠㘭rr;懙rĀhr㘦㘨ë∮Ā;oਫ਩war;椪lig耻ß䃟௡㙑㙝㙠ዎ㙳㙹\0㙾㛂\0\0\0\0\0㛛㜃\0㜉㝬\0\0\0㞇ɲ㙖\0\0㙛get;挖;䏄rë๟ƀaey㙦㙫㙰ron;䅥dil;䅣;䑂lrec;挕r;쀀𝔱Ȁeiko㚆㚝㚵㚼ǲ㚋\0㚑eĀ4fኄኁaƀ;sv㚘㚙㚛䎸ym;䏑Ācn㚢㚲kĀas㚨㚮pproø዁im»ኬsðኞĀas㚺㚮ð዁rn耻þ䃾Ǭ̟㛆⋧es膀×;bd㛏㛐㛘䃗Ā;aᤏ㛕r;樱;樰ƀeps㛡㛣㜀á⩍Ȁ;bcf҆㛬㛰㛴ot;挶ir;櫱Ā;o㛹㛼쀀𝕥rk;櫚á㍢rime;怴ƀaip㜏㜒㝤dåቈ΀adempst㜡㝍㝀㝑㝗㝜㝟ngleʀ;dlqr㜰㜱㜶㝀㝂斵own»ᶻeftĀ;e⠀㜾ñम;扜ightĀ;e㊪㝋ñၚot;旬inus;樺lus;樹b;槍ime;樻ezium;揢ƀcht㝲㝽㞁Āry㝷㝻;쀀𝓉;䑆cy;䑛rok;䅧Āio㞋㞎xô᝷headĀlr㞗㞠eftarro÷ࡏightarrow»ཝऀAHabcdfghlmoprstuw㟐㟓㟗㟤㟰㟼㠎㠜㠣㠴㡑㡝㡫㢩㣌㣒㣪㣶ròϭar;楣Ācr㟜㟢ute耻ú䃺òᅐrǣ㟪\0㟭y;䑞ve;䅭Āiy㟵㟺rc耻û䃻;䑃ƀabh㠃㠆㠋ròᎭlac;䅱aòᏃĀir㠓㠘sht;楾;쀀𝔲rave耻ù䃹š㠧㠱rĀlr㠬㠮»ॗ»ႃlk;斀Āct㠹㡍ɯ㠿\0\0㡊rnĀ;e㡅㡆挜r»㡆op;挏ri;旸Āal㡖㡚cr;䅫肻¨͉Āgp㡢㡦on;䅳f;쀀𝕦̀adhlsuᅋ㡸㡽፲㢑㢠ownáᎳarpoonĀlr㢈㢌efô㠭ighô㠯iƀ;hl㢙㢚㢜䏅»ᏺon»㢚parrows;懈ƀcit㢰㣄㣈ɯ㢶\0\0㣁rnĀ;e㢼㢽挝r»㢽op;挎ng;䅯ri;旹cr;쀀𝓊ƀdir㣙㣝㣢ot;拰lde;䅩iĀ;f㜰㣨»᠓Āam㣯㣲rò㢨l耻ü䃼angle;榧ހABDacdeflnoprsz㤜㤟㤩㤭㦵㦸㦽㧟㧤㧨㧳㧹㧽㨁㨠ròϷarĀ;v㤦㤧櫨;櫩asèϡĀnr㤲㤷grt;榜΀eknprst㓣㥆㥋㥒㥝㥤㦖appá␕othinçẖƀhir㓫⻈㥙opô⾵Ā;hᎷ㥢ïㆍĀiu㥩㥭gmá㎳Ābp㥲㦄setneqĀ;q㥽㦀쀀⊊︀;쀀⫋︀setneqĀ;q㦏㦒쀀⊋︀;쀀⫌︀Āhr㦛㦟etá㚜iangleĀlr㦪㦯eft»थight»ၑy;䐲ash»ံƀelr㧄㧒㧗ƀ;beⷪ㧋㧏ar;抻q;扚lip;拮Ābt㧜ᑨaòᑩr;쀀𝔳tré㦮suĀbp㧯㧱»ജ»൙pf;쀀𝕧roð໻tré㦴Ācu㨆㨋r;쀀𝓋Ābp㨐㨘nĀEe㦀㨖»㥾nĀEe㦒㨞»㦐igzag;榚΀cefoprs㨶㨻㩖㩛㩔㩡㩪irc;䅵Ādi㩀㩑Ābg㩅㩉ar;機eĀ;qᗺ㩏;扙erp;愘r;쀀𝔴pf;쀀𝕨Ā;eᑹ㩦atèᑹcr;쀀𝓌ૣណ㪇\0㪋\0㪐㪛\0\0㪝㪨㪫㪯\0\0㫃㫎\0㫘ៜ៟tré៑r;쀀𝔵ĀAa㪔㪗ròσrò৶;䎾ĀAa㪡㪤ròθrò৫að✓is;拻ƀdptឤ㪵㪾Āfl㪺ឩ;쀀𝕩imåឲĀAa㫇㫊ròώròਁĀcq㫒ីr;쀀𝓍Āpt៖㫜ré។Ѐacefiosu㫰㫽㬈㬌㬑㬕㬛㬡cĀuy㫶㫻te耻ý䃽;䑏Āiy㬂㬆rc;䅷;䑋n耻¥䂥r;쀀𝔶cy;䑗pf;쀀𝕪cr;쀀𝓎Ācm㬦㬩y;䑎l耻ÿ䃿Ԁacdefhiosw㭂㭈㭔㭘㭤㭩㭭㭴㭺㮀cute;䅺Āay㭍㭒ron;䅾;䐷ot;䅼Āet㭝㭡træᕟa;䎶r;쀀𝔷cy;䐶grarr;懝pf;쀀𝕫cr;쀀𝓏Ājn㮅㮇;怍j;怌'.split("").map(e=>e.charCodeAt(0))),Mw=new Map([[0,65533],[128,8364],[130,8218],[131,402],[132,8222],[133,8230],[134,8224],[135,8225],[136,710],[137,8240],[138,352],[139,8249],[140,338],[142,381],[145,8216],[146,8217],[147,8220],[148,8221],[149,8226],[150,8211],[151,8212],[152,732],[153,8482],[154,353],[155,8250],[156,339],[158,382],[159,376]]);function Dw(e){var t;return e>=55296&&e<=57343||e>1114111?65533:(t=Mw.get(e))!==null&&t!==void 0?t:e}var jt;(function(e){e[e.NUM=35]="NUM",e[e.SEMI=59]="SEMI",e[e.EQUALS=61]="EQUALS",e[e.ZERO=48]="ZERO",e[e.NINE=57]="NINE",e[e.LOWER_A=97]="LOWER_A",e[e.LOWER_F=102]="LOWER_F",e[e.LOWER_X=120]="LOWER_X",e[e.LOWER_Z=122]="LOWER_Z",e[e.UPPER_A=65]="UPPER_A",e[e.UPPER_F=70]="UPPER_F",e[e.UPPER_Z=90]="UPPER_Z"})(jt||(jt={}));const Rw=32;var oi;(function(e){e[e.VALUE_LENGTH=49152]="VALUE_LENGTH",e[e.BRANCH_LENGTH=16256]="BRANCH_LENGTH",e[e.JUMP_TABLE=127]="JUMP_TABLE"})(oi||(oi={}));function im(e){return e>=jt.ZERO&&e<=jt.NINE}function kw(e){return e>=jt.UPPER_A&&e<=jt.UPPER_F||e>=jt.LOWER_A&&e<=jt.LOWER_F}function ww(e){return e>=jt.UPPER_A&&e<=jt.UPPER_Z||e>=jt.LOWER_A&&e<=jt.LOWER_Z||im(e)}function Lw(e){return e===jt.EQUALS||ww(e)}var zt;(function(e){e[e.EntityStart=0]="EntityStart",e[e.NumericStart=1]="NumericStart",e[e.NumericDecimal=2]="NumericDecimal",e[e.NumericHex=3]="NumericHex",e[e.NamedEntity=4]="NamedEntity"})(zt||(zt={}));var Da;(function(e){e[e.Legacy=0]="Legacy",e[e.Strict=1]="Strict",e[e.Attribute=2]="Attribute"})(Da||(Da={}));class Ow{constructor(t,n,r){this.decodeTree=t,this.emitCodePoint=n,this.errors=r,this.state=zt.EntityStart,this.consumed=1,this.result=0,this.treeIndex=0,this.excess=1,this.decodeMode=Da.Strict}startEntity(t){this.decodeMode=t,this.state=zt.EntityStart,this.result=0,this.treeIndex=0,this.excess=1,this.consumed=1}write(t,n){switch(this.state){case zt.EntityStart:return t.charCodeAt(n)===jt.NUM?(this.state=zt.NumericStart,this.consumed+=1,this.stateNumericStart(t,n+1)):(this.state=zt.NamedEntity,this.stateNamedEntity(t,n));case zt.NumericStart:return this.stateNumericStart(t,n);case zt.NumericDecimal:return this.stateNumericDecimal(t,n);case zt.NumericHex:return this.stateNumericHex(t,n);case zt.NamedEntity:return this.stateNamedEntity(t,n)}}stateNumericStart(t,n){return n>=t.length?-1:(t.charCodeAt(n)|Rw)===jt.LOWER_X?(this.state=zt.NumericHex,this.consumed+=1,this.stateNumericHex(t,n+1)):(this.state=zt.NumericDecimal,this.stateNumericDecimal(t,n))}addToNumericResult(t,n,r,o){if(n!==r){const l=r-n;this.result=this.result*Math.pow(o,l)+Number.parseInt(t.substr(n,l),o),this.consumed+=l}}stateNumericHex(t,n){const r=n;for(;n<t.length;){const o=t.charCodeAt(n);if(im(o)||kw(o))n+=1;else return this.addToNumericResult(t,r,n,16),this.emitNumericEntity(o,3)}return this.addToNumericResult(t,r,n,16),-1}stateNumericDecimal(t,n){const r=n;for(;n<t.length;){const o=t.charCodeAt(n);if(im(o))n+=1;else return this.addToNumericResult(t,r,n,10),this.emitNumericEntity(o,2)}return this.addToNumericResult(t,r,n,10),-1}emitNumericEntity(t,n){var r;if(this.consumed<=n)return(r=this.errors)===null||r===void 0||r.absenceOfDigitsInNumericCharacterReference(this.consumed),0;if(t===jt.SEMI)this.consumed+=1;else if(this.decodeMode===Da.Strict)return 0;return this.emitCodePoint(Dw(this.result),this.consumed),this.errors&&(t!==jt.SEMI&&this.errors.missingSemicolonAfterCharacterReference(),this.errors.validateNumericCharacterReference(this.result)),this.consumed}stateNamedEntity(t,n){const{decodeTree:r}=this;let o=r[this.treeIndex],l=(o&oi.VALUE_LENGTH)>>14;for(;n<t.length;n++,this.excess++){const u=t.charCodeAt(n);if(this.treeIndex=Pw(r,o,this.treeIndex+Math.max(1,l),u),this.treeIndex<0)return this.result===0||this.decodeMode===Da.Attribute&&(l===0||Lw(u))?0:this.emitNotTerminatedNamedEntity();if(o=r[this.treeIndex],l=(o&oi.VALUE_LENGTH)>>14,l!==0){if(u===jt.SEMI)return this.emitNamedEntityData(this.treeIndex,l,this.consumed+this.excess);this.decodeMode!==Da.Strict&&(this.result=this.treeIndex,this.consumed+=this.excess,this.excess=0)}}return-1}emitNotTerminatedNamedEntity(){var t;const{result:n,decodeTree:r}=this,o=(r[n]&oi.VALUE_LENGTH)>>14;return this.emitNamedEntityData(n,o,this.consumed),(t=this.errors)===null||t===void 0||t.missingSemicolonAfterCharacterReference(),this.consumed}emitNamedEntityData(t,n,r){const{decodeTree:o}=this;return this.emitCodePoint(n===1?o[t]&~oi.VALUE_LENGTH:o[t+1],r),n===3&&this.emitCodePoint(o[t+2],r),r}end(){var t;switch(this.state){case zt.NamedEntity:return this.result!==0&&(this.decodeMode!==Da.Attribute||this.result===this.treeIndex)?this.emitNotTerminatedNamedEntity():0;case zt.NumericDecimal:return this.emitNumericEntity(0,2);case zt.NumericHex:return this.emitNumericEntity(0,3);case zt.NumericStart:return(t=this.errors)===null||t===void 0||t.absenceOfDigitsInNumericCharacterReference(this.consumed),0;case zt.EntityStart:return 0}}}function Pw(e,t,n,r){const o=(t&oi.BRANCH_LENGTH)>>7,l=t&oi.JUMP_TABLE;if(o===0)return l!==0&&r===l?n:-1;if(l){const m=r-l;return m<0||m>=o?-1:e[n+m]-1}let u=n,f=u+o-1;for(;u<=f;){const m=u+f>>>1,d=e[m];if(d<r)u=m+1;else if(d>r)f=m-1;else return e[m+o]}return-1}var fe;(function(e){e.HTML="http://www.w3.org/1999/xhtml",e.MATHML="http://www.w3.org/1998/Math/MathML",e.SVG="http://www.w3.org/2000/svg",e.XLINK="http://www.w3.org/1999/xlink",e.XML="http://www.w3.org/XML/1998/namespace",e.XMLNS="http://www.w3.org/2000/xmlns/"})(fe||(fe={}));var Vi;(function(e){e.TYPE="type",e.ACTION="action",e.ENCODING="encoding",e.PROMPT="prompt",e.NAME="name",e.COLOR="color",e.FACE="face",e.SIZE="size"})(Vi||(Vi={}));var Vn;(function(e){e.NO_QUIRKS="no-quirks",e.QUIRKS="quirks",e.LIMITED_QUIRKS="limited-quirks"})(Vn||(Vn={}));var J;(function(e){e.A="a",e.ADDRESS="address",e.ANNOTATION_XML="annotation-xml",e.APPLET="applet",e.AREA="area",e.ARTICLE="article",e.ASIDE="aside",e.B="b",e.BASE="base",e.BASEFONT="basefont",e.BGSOUND="bgsound",e.BIG="big",e.BLOCKQUOTE="blockquote",e.BODY="body",e.BR="br",e.BUTTON="button",e.CAPTION="caption",e.CENTER="center",e.CODE="code",e.COL="col",e.COLGROUP="colgroup",e.DD="dd",e.DESC="desc",e.DETAILS="details",e.DIALOG="dialog",e.DIR="dir",e.DIV="div",e.DL="dl",e.DT="dt",e.EM="em",e.EMBED="embed",e.FIELDSET="fieldset",e.FIGCAPTION="figcaption",e.FIGURE="figure",e.FONT="font",e.FOOTER="footer",e.FOREIGN_OBJECT="foreignObject",e.FORM="form",e.FRAME="frame",e.FRAMESET="frameset",e.H1="h1",e.H2="h2",e.H3="h3",e.H4="h4",e.H5="h5",e.H6="h6",e.HEAD="head",e.HEADER="header",e.HGROUP="hgroup",e.HR="hr",e.HTML="html",e.I="i",e.IMG="img",e.IMAGE="image",e.INPUT="input",e.IFRAME="iframe",e.KEYGEN="keygen",e.LABEL="label",e.LI="li",e.LINK="link",e.LISTING="listing",e.MAIN="main",e.MALIGNMARK="malignmark",e.MARQUEE="marquee",e.MATH="math",e.MENU="menu",e.META="meta",e.MGLYPH="mglyph",e.MI="mi",e.MO="mo",e.MN="mn",e.MS="ms",e.MTEXT="mtext",e.NAV="nav",e.NOBR="nobr",e.NOFRAMES="noframes",e.NOEMBED="noembed",e.NOSCRIPT="noscript",e.OBJECT="object",e.OL="ol",e.OPTGROUP="optgroup",e.OPTION="option",e.P="p",e.PARAM="param",e.PLAINTEXT="plaintext",e.PRE="pre",e.RB="rb",e.RP="rp",e.RT="rt",e.RTC="rtc",e.RUBY="ruby",e.S="s",e.SCRIPT="script",e.SEARCH="search",e.SECTION="section",e.SELECT="select",e.SOURCE="source",e.SMALL="small",e.SPAN="span",e.STRIKE="strike",e.STRONG="strong",e.STYLE="style",e.SUB="sub",e.SUMMARY="summary",e.SUP="sup",e.TABLE="table",e.TBODY="tbody",e.TEMPLATE="template",e.TEXTAREA="textarea",e.TFOOT="tfoot",e.TD="td",e.TH="th",e.THEAD="thead",e.TITLE="title",e.TR="tr",e.TRACK="track",e.TT="tt",e.U="u",e.UL="ul",e.SVG="svg",e.VAR="var",e.WBR="wbr",e.XMP="xmp"})(J||(J={}));var E;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.A=1]="A",e[e.ADDRESS=2]="ADDRESS",e[e.ANNOTATION_XML=3]="ANNOTATION_XML",e[e.APPLET=4]="APPLET",e[e.AREA=5]="AREA",e[e.ARTICLE=6]="ARTICLE",e[e.ASIDE=7]="ASIDE",e[e.B=8]="B",e[e.BASE=9]="BASE",e[e.BASEFONT=10]="BASEFONT",e[e.BGSOUND=11]="BGSOUND",e[e.BIG=12]="BIG",e[e.BLOCKQUOTE=13]="BLOCKQUOTE",e[e.BODY=14]="BODY",e[e.BR=15]="BR",e[e.BUTTON=16]="BUTTON",e[e.CAPTION=17]="CAPTION",e[e.CENTER=18]="CENTER",e[e.CODE=19]="CODE",e[e.COL=20]="COL",e[e.COLGROUP=21]="COLGROUP",e[e.DD=22]="DD",e[e.DESC=23]="DESC",e[e.DETAILS=24]="DETAILS",e[e.DIALOG=25]="DIALOG",e[e.DIR=26]="DIR",e[e.DIV=27]="DIV",e[e.DL=28]="DL",e[e.DT=29]="DT",e[e.EM=30]="EM",e[e.EMBED=31]="EMBED",e[e.FIELDSET=32]="FIELDSET",e[e.FIGCAPTION=33]="FIGCAPTION",e[e.FIGURE=34]="FIGURE",e[e.FONT=35]="FONT",e[e.FOOTER=36]="FOOTER",e[e.FOREIGN_OBJECT=37]="FOREIGN_OBJECT",e[e.FORM=38]="FORM",e[e.FRAME=39]="FRAME",e[e.FRAMESET=40]="FRAMESET",e[e.H1=41]="H1",e[e.H2=42]="H2",e[e.H3=43]="H3",e[e.H4=44]="H4",e[e.H5=45]="H5",e[e.H6=46]="H6",e[e.HEAD=47]="HEAD",e[e.HEADER=48]="HEADER",e[e.HGROUP=49]="HGROUP",e[e.HR=50]="HR",e[e.HTML=51]="HTML",e[e.I=52]="I",e[e.IMG=53]="IMG",e[e.IMAGE=54]="IMAGE",e[e.INPUT=55]="INPUT",e[e.IFRAME=56]="IFRAME",e[e.KEYGEN=57]="KEYGEN",e[e.LABEL=58]="LABEL",e[e.LI=59]="LI",e[e.LINK=60]="LINK",e[e.LISTING=61]="LISTING",e[e.MAIN=62]="MAIN",e[e.MALIGNMARK=63]="MALIGNMARK",e[e.MARQUEE=64]="MARQUEE",e[e.MATH=65]="MATH",e[e.MENU=66]="MENU",e[e.META=67]="META",e[e.MGLYPH=68]="MGLYPH",e[e.MI=69]="MI",e[e.MO=70]="MO",e[e.MN=71]="MN",e[e.MS=72]="MS",e[e.MTEXT=73]="MTEXT",e[e.NAV=74]="NAV",e[e.NOBR=75]="NOBR",e[e.NOFRAMES=76]="NOFRAMES",e[e.NOEMBED=77]="NOEMBED",e[e.NOSCRIPT=78]="NOSCRIPT",e[e.OBJECT=79]="OBJECT",e[e.OL=80]="OL",e[e.OPTGROUP=81]="OPTGROUP",e[e.OPTION=82]="OPTION",e[e.P=83]="P",e[e.PARAM=84]="PARAM",e[e.PLAINTEXT=85]="PLAINTEXT",e[e.PRE=86]="PRE",e[e.RB=87]="RB",e[e.RP=88]="RP",e[e.RT=89]="RT",e[e.RTC=90]="RTC",e[e.RUBY=91]="RUBY",e[e.S=92]="S",e[e.SCRIPT=93]="SCRIPT",e[e.SEARCH=94]="SEARCH",e[e.SECTION=95]="SECTION",e[e.SELECT=96]="SELECT",e[e.SOURCE=97]="SOURCE",e[e.SMALL=98]="SMALL",e[e.SPAN=99]="SPAN",e[e.STRIKE=100]="STRIKE",e[e.STRONG=101]="STRONG",e[e.STYLE=102]="STYLE",e[e.SUB=103]="SUB",e[e.SUMMARY=104]="SUMMARY",e[e.SUP=105]="SUP",e[e.TABLE=106]="TABLE",e[e.TBODY=107]="TBODY",e[e.TEMPLATE=108]="TEMPLATE",e[e.TEXTAREA=109]="TEXTAREA",e[e.TFOOT=110]="TFOOT",e[e.TD=111]="TD",e[e.TH=112]="TH",e[e.THEAD=113]="THEAD",e[e.TITLE=114]="TITLE",e[e.TR=115]="TR",e[e.TRACK=116]="TRACK",e[e.TT=117]="TT",e[e.U=118]="U",e[e.UL=119]="UL",e[e.SVG=120]="SVG",e[e.VAR=121]="VAR",e[e.WBR=122]="WBR",e[e.XMP=123]="XMP"})(E||(E={}));const Bw=new Map([[J.A,E.A],[J.ADDRESS,E.ADDRESS],[J.ANNOTATION_XML,E.ANNOTATION_XML],[J.APPLET,E.APPLET],[J.AREA,E.AREA],[J.ARTICLE,E.ARTICLE],[J.ASIDE,E.ASIDE],[J.B,E.B],[J.BASE,E.BASE],[J.BASEFONT,E.BASEFONT],[J.BGSOUND,E.BGSOUND],[J.BIG,E.BIG],[J.BLOCKQUOTE,E.BLOCKQUOTE],[J.BODY,E.BODY],[J.BR,E.BR],[J.BUTTON,E.BUTTON],[J.CAPTION,E.CAPTION],[J.CENTER,E.CENTER],[J.CODE,E.CODE],[J.COL,E.COL],[J.COLGROUP,E.COLGROUP],[J.DD,E.DD],[J.DESC,E.DESC],[J.DETAILS,E.DETAILS],[J.DIALOG,E.DIALOG],[J.DIR,E.DIR],[J.DIV,E.DIV],[J.DL,E.DL],[J.DT,E.DT],[J.EM,E.EM],[J.EMBED,E.EMBED],[J.FIELDSET,E.FIELDSET],[J.FIGCAPTION,E.FIGCAPTION],[J.FIGURE,E.FIGURE],[J.FONT,E.FONT],[J.FOOTER,E.FOOTER],[J.FOREIGN_OBJECT,E.FOREIGN_OBJECT],[J.FORM,E.FORM],[J.FRAME,E.FRAME],[J.FRAMESET,E.FRAMESET],[J.H1,E.H1],[J.H2,E.H2],[J.H3,E.H3],[J.H4,E.H4],[J.H5,E.H5],[J.H6,E.H6],[J.HEAD,E.HEAD],[J.HEADER,E.HEADER],[J.HGROUP,E.HGROUP],[J.HR,E.HR],[J.HTML,E.HTML],[J.I,E.I],[J.IMG,E.IMG],[J.IMAGE,E.IMAGE],[J.INPUT,E.INPUT],[J.IFRAME,E.IFRAME],[J.KEYGEN,E.KEYGEN],[J.LABEL,E.LABEL],[J.LI,E.LI],[J.LINK,E.LINK],[J.LISTING,E.LISTING],[J.MAIN,E.MAIN],[J.MALIGNMARK,E.MALIGNMARK],[J.MARQUEE,E.MARQUEE],[J.MATH,E.MATH],[J.MENU,E.MENU],[J.META,E.META],[J.MGLYPH,E.MGLYPH],[J.MI,E.MI],[J.MO,E.MO],[J.MN,E.MN],[J.MS,E.MS],[J.MTEXT,E.MTEXT],[J.NAV,E.NAV],[J.NOBR,E.NOBR],[J.NOFRAMES,E.NOFRAMES],[J.NOEMBED,E.NOEMBED],[J.NOSCRIPT,E.NOSCRIPT],[J.OBJECT,E.OBJECT],[J.OL,E.OL],[J.OPTGROUP,E.OPTGROUP],[J.OPTION,E.OPTION],[J.P,E.P],[J.PARAM,E.PARAM],[J.PLAINTEXT,E.PLAINTEXT],[J.PRE,E.PRE],[J.RB,E.RB],[J.RP,E.RP],[J.RT,E.RT],[J.RTC,E.RTC],[J.RUBY,E.RUBY],[J.S,E.S],[J.SCRIPT,E.SCRIPT],[J.SEARCH,E.SEARCH],[J.SECTION,E.SECTION],[J.SELECT,E.SELECT],[J.SOURCE,E.SOURCE],[J.SMALL,E.SMALL],[J.SPAN,E.SPAN],[J.STRIKE,E.STRIKE],[J.STRONG,E.STRONG],[J.STYLE,E.STYLE],[J.SUB,E.SUB],[J.SUMMARY,E.SUMMARY],[J.SUP,E.SUP],[J.TABLE,E.TABLE],[J.TBODY,E.TBODY],[J.TEMPLATE,E.TEMPLATE],[J.TEXTAREA,E.TEXTAREA],[J.TFOOT,E.TFOOT],[J.TD,E.TD],[J.TH,E.TH],[J.THEAD,E.THEAD],[J.TITLE,E.TITLE],[J.TR,E.TR],[J.TRACK,E.TRACK],[J.TT,E.TT],[J.U,E.U],[J.UL,E.UL],[J.SVG,E.SVG],[J.VAR,E.VAR],[J.WBR,E.WBR],[J.XMP,E.XMP]]);function eo(e){var t;return(t=Bw.get(e))!==null&&t!==void 0?t:E.UNKNOWN}const pe=E,Fw={[fe.HTML]:new Set([pe.ADDRESS,pe.APPLET,pe.AREA,pe.ARTICLE,pe.ASIDE,pe.BASE,pe.BASEFONT,pe.BGSOUND,pe.BLOCKQUOTE,pe.BODY,pe.BR,pe.BUTTON,pe.CAPTION,pe.CENTER,pe.COL,pe.COLGROUP,pe.DD,pe.DETAILS,pe.DIR,pe.DIV,pe.DL,pe.DT,pe.EMBED,pe.FIELDSET,pe.FIGCAPTION,pe.FIGURE,pe.FOOTER,pe.FORM,pe.FRAME,pe.FRAMESET,pe.H1,pe.H2,pe.H3,pe.H4,pe.H5,pe.H6,pe.HEAD,pe.HEADER,pe.HGROUP,pe.HR,pe.HTML,pe.IFRAME,pe.IMG,pe.INPUT,pe.LI,pe.LINK,pe.LISTING,pe.MAIN,pe.MARQUEE,pe.MENU,pe.META,pe.NAV,pe.NOEMBED,pe.NOFRAMES,pe.NOSCRIPT,pe.OBJECT,pe.OL,pe.P,pe.PARAM,pe.PLAINTEXT,pe.PRE,pe.SCRIPT,pe.SECTION,pe.SELECT,pe.SOURCE,pe.STYLE,pe.SUMMARY,pe.TABLE,pe.TBODY,pe.TD,pe.TEMPLATE,pe.TEXTAREA,pe.TFOOT,pe.TH,pe.THEAD,pe.TITLE,pe.TR,pe.TRACK,pe.UL,pe.WBR,pe.XMP]),[fe.MATHML]:new Set([pe.MI,pe.MO,pe.MN,pe.MS,pe.MTEXT,pe.ANNOTATION_XML]),[fe.SVG]:new Set([pe.TITLE,pe.FOREIGN_OBJECT,pe.DESC]),[fe.XLINK]:new Set,[fe.XML]:new Set,[fe.XMLNS]:new Set},rm=new Set([pe.H1,pe.H2,pe.H3,pe.H4,pe.H5,pe.H6]);J.STYLE,J.SCRIPT,J.XMP,J.IFRAME,J.NOEMBED,J.NOFRAMES,J.PLAINTEXT;var w;(function(e){e[e.DATA=0]="DATA",e[e.RCDATA=1]="RCDATA",e[e.RAWTEXT=2]="RAWTEXT",e[e.SCRIPT_DATA=3]="SCRIPT_DATA",e[e.PLAINTEXT=4]="PLAINTEXT",e[e.TAG_OPEN=5]="TAG_OPEN",e[e.END_TAG_OPEN=6]="END_TAG_OPEN",e[e.TAG_NAME=7]="TAG_NAME",e[e.RCDATA_LESS_THAN_SIGN=8]="RCDATA_LESS_THAN_SIGN",e[e.RCDATA_END_TAG_OPEN=9]="RCDATA_END_TAG_OPEN",e[e.RCDATA_END_TAG_NAME=10]="RCDATA_END_TAG_NAME",e[e.RAWTEXT_LESS_THAN_SIGN=11]="RAWTEXT_LESS_THAN_SIGN",e[e.RAWTEXT_END_TAG_OPEN=12]="RAWTEXT_END_TAG_OPEN",e[e.RAWTEXT_END_TAG_NAME=13]="RAWTEXT_END_TAG_NAME",e[e.SCRIPT_DATA_LESS_THAN_SIGN=14]="SCRIPT_DATA_LESS_THAN_SIGN",e[e.SCRIPT_DATA_END_TAG_OPEN=15]="SCRIPT_DATA_END_TAG_OPEN",e[e.SCRIPT_DATA_END_TAG_NAME=16]="SCRIPT_DATA_END_TAG_NAME",e[e.SCRIPT_DATA_ESCAPE_START=17]="SCRIPT_DATA_ESCAPE_START",e[e.SCRIPT_DATA_ESCAPE_START_DASH=18]="SCRIPT_DATA_ESCAPE_START_DASH",e[e.SCRIPT_DATA_ESCAPED=19]="SCRIPT_DATA_ESCAPED",e[e.SCRIPT_DATA_ESCAPED_DASH=20]="SCRIPT_DATA_ESCAPED_DASH",e[e.SCRIPT_DATA_ESCAPED_DASH_DASH=21]="SCRIPT_DATA_ESCAPED_DASH_DASH",e[e.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN=22]="SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN",e[e.SCRIPT_DATA_ESCAPED_END_TAG_OPEN=23]="SCRIPT_DATA_ESCAPED_END_TAG_OPEN",e[e.SCRIPT_DATA_ESCAPED_END_TAG_NAME=24]="SCRIPT_DATA_ESCAPED_END_TAG_NAME",e[e.SCRIPT_DATA_DOUBLE_ESCAPE_START=25]="SCRIPT_DATA_DOUBLE_ESCAPE_START",e[e.SCRIPT_DATA_DOUBLE_ESCAPED=26]="SCRIPT_DATA_DOUBLE_ESCAPED",e[e.SCRIPT_DATA_DOUBLE_ESCAPED_DASH=27]="SCRIPT_DATA_DOUBLE_ESCAPED_DASH",e[e.SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH=28]="SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH",e[e.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN=29]="SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN",e[e.SCRIPT_DATA_DOUBLE_ESCAPE_END=30]="SCRIPT_DATA_DOUBLE_ESCAPE_END",e[e.BEFORE_ATTRIBUTE_NAME=31]="BEFORE_ATTRIBUTE_NAME",e[e.ATTRIBUTE_NAME=32]="ATTRIBUTE_NAME",e[e.AFTER_ATTRIBUTE_NAME=33]="AFTER_ATTRIBUTE_NAME",e[e.BEFORE_ATTRIBUTE_VALUE=34]="BEFORE_ATTRIBUTE_VALUE",e[e.ATTRIBUTE_VALUE_DOUBLE_QUOTED=35]="ATTRIBUTE_VALUE_DOUBLE_QUOTED",e[e.ATTRIBUTE_VALUE_SINGLE_QUOTED=36]="ATTRIBUTE_VALUE_SINGLE_QUOTED",e[e.ATTRIBUTE_VALUE_UNQUOTED=37]="ATTRIBUTE_VALUE_UNQUOTED",e[e.AFTER_ATTRIBUTE_VALUE_QUOTED=38]="AFTER_ATTRIBUTE_VALUE_QUOTED",e[e.SELF_CLOSING_START_TAG=39]="SELF_CLOSING_START_TAG",e[e.BOGUS_COMMENT=40]="BOGUS_COMMENT",e[e.MARKUP_DECLARATION_OPEN=41]="MARKUP_DECLARATION_OPEN",e[e.COMMENT_START=42]="COMMENT_START",e[e.COMMENT_START_DASH=43]="COMMENT_START_DASH",e[e.COMMENT=44]="COMMENT",e[e.COMMENT_LESS_THAN_SIGN=45]="COMMENT_LESS_THAN_SIGN",e[e.COMMENT_LESS_THAN_SIGN_BANG=46]="COMMENT_LESS_THAN_SIGN_BANG",e[e.COMMENT_LESS_THAN_SIGN_BANG_DASH=47]="COMMENT_LESS_THAN_SIGN_BANG_DASH",e[e.COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH=48]="COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH",e[e.COMMENT_END_DASH=49]="COMMENT_END_DASH",e[e.COMMENT_END=50]="COMMENT_END",e[e.COMMENT_END_BANG=51]="COMMENT_END_BANG",e[e.DOCTYPE=52]="DOCTYPE",e[e.BEFORE_DOCTYPE_NAME=53]="BEFORE_DOCTYPE_NAME",e[e.DOCTYPE_NAME=54]="DOCTYPE_NAME",e[e.AFTER_DOCTYPE_NAME=55]="AFTER_DOCTYPE_NAME",e[e.AFTER_DOCTYPE_PUBLIC_KEYWORD=56]="AFTER_DOCTYPE_PUBLIC_KEYWORD",e[e.BEFORE_DOCTYPE_PUBLIC_IDENTIFIER=57]="BEFORE_DOCTYPE_PUBLIC_IDENTIFIER",e[e.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED=58]="DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED",e[e.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED=59]="DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED",e[e.AFTER_DOCTYPE_PUBLIC_IDENTIFIER=60]="AFTER_DOCTYPE_PUBLIC_IDENTIFIER",e[e.BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS=61]="BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS",e[e.AFTER_DOCTYPE_SYSTEM_KEYWORD=62]="AFTER_DOCTYPE_SYSTEM_KEYWORD",e[e.BEFORE_DOCTYPE_SYSTEM_IDENTIFIER=63]="BEFORE_DOCTYPE_SYSTEM_IDENTIFIER",e[e.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED=64]="DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED",e[e.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED=65]="DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED",e[e.AFTER_DOCTYPE_SYSTEM_IDENTIFIER=66]="AFTER_DOCTYPE_SYSTEM_IDENTIFIER",e[e.BOGUS_DOCTYPE=67]="BOGUS_DOCTYPE",e[e.CDATA_SECTION=68]="CDATA_SECTION",e[e.CDATA_SECTION_BRACKET=69]="CDATA_SECTION_BRACKET",e[e.CDATA_SECTION_END=70]="CDATA_SECTION_END",e[e.CHARACTER_REFERENCE=71]="CHARACTER_REFERENCE",e[e.AMBIGUOUS_AMPERSAND=72]="AMBIGUOUS_AMPERSAND"})(w||(w={}));const Mt={DATA:w.DATA,RCDATA:w.RCDATA,RAWTEXT:w.RAWTEXT,SCRIPT_DATA:w.SCRIPT_DATA,PLAINTEXT:w.PLAINTEXT,CDATA_SECTION:w.CDATA_SECTION};function Hw(e){return e>=M.DIGIT_0&&e<=M.DIGIT_9}function ds(e){return e>=M.LATIN_CAPITAL_A&&e<=M.LATIN_CAPITAL_Z}function Uw(e){return e>=M.LATIN_SMALL_A&&e<=M.LATIN_SMALL_Z}function ai(e){return Uw(e)||ds(e)}function P1(e){return ai(e)||Hw(e)}function su(e){return e+32}function eE(e){return e===M.SPACE||e===M.LINE_FEED||e===M.TABULATION||e===M.FORM_FEED}function B1(e){return eE(e)||e===M.SOLIDUS||e===M.GREATER_THAN_SIGN}function Vw(e){return e===M.NULL?ae.nullCharacterReference:e>1114111?ae.characterReferenceOutsideUnicodeRange:XT(e)?ae.surrogateCharacterReference:JT(e)?ae.noncharacterCharacterReference:WT(e)||e===M.CARRIAGE_RETURN?ae.controlCharacterReference:null}class zw{constructor(t,n){this.options=t,this.handler=n,this.paused=!1,this.inLoop=!1,this.inForeignNode=!1,this.lastStartTagName="",this.active=!1,this.state=w.DATA,this.returnState=w.DATA,this.entityStartPos=0,this.consumedAfterSnapshot=-1,this.currentCharacterToken=null,this.currentToken=null,this.currentAttr={name:"",value:""},this.preprocessor=new Iw(n),this.currentLocation=this.getCurrentLocation(-1),this.entityDecoder=new Ow(Nw,(r,o)=>{this.preprocessor.pos=this.entityStartPos+o-1,this._flushCodePointConsumedAsCharacterReference(r)},n.onParseError?{missingSemicolonAfterCharacterReference:()=>{this._err(ae.missingSemicolonAfterCharacterReference,1)},absenceOfDigitsInNumericCharacterReference:r=>{this._err(ae.absenceOfDigitsInNumericCharacterReference,this.entityStartPos-this.preprocessor.pos+r)},validateNumericCharacterReference:r=>{const o=Vw(r);o&&this._err(o,1)}}:void 0)}_err(t,n=0){var r,o;(o=(r=this.handler).onParseError)===null||o===void 0||o.call(r,this.preprocessor.getError(t,n))}getCurrentLocation(t){return this.options.sourceCodeLocationInfo?{startLine:this.preprocessor.line,startCol:this.preprocessor.col-t,startOffset:this.preprocessor.offset-t,endLine:-1,endCol:-1,endOffset:-1}:null}_runParsingLoop(){if(!this.inLoop){for(this.inLoop=!0;this.active&&!this.paused;){this.consumedAfterSnapshot=0;const t=this._consume();this._ensureHibernation()||this._callState(t)}this.inLoop=!1}}pause(){this.paused=!0}resume(t){if(!this.paused)throw new Error("Parser was already resumed");this.paused=!1,!this.inLoop&&(this._runParsingLoop(),this.paused||t==null||t())}write(t,n,r){this.active=!0,this.preprocessor.write(t,n),this._runParsingLoop(),this.paused||r==null||r()}insertHtmlAtCurrentPos(t){this.active=!0,this.preprocessor.insertHtmlAtCurrentPos(t),this._runParsingLoop()}_ensureHibernation(){return this.preprocessor.endOfChunkHit?(this.preprocessor.retreat(this.consumedAfterSnapshot),this.consumedAfterSnapshot=0,this.active=!1,!0):!1}_consume(){return this.consumedAfterSnapshot++,this.preprocessor.advance()}_advanceBy(t){this.consumedAfterSnapshot+=t;for(let n=0;n<t;n++)this.preprocessor.advance()}_consumeSequenceIfMatch(t,n){return this.preprocessor.startsWith(t,n)?(this._advanceBy(t.length-1),!0):!1}_createStartTagToken(){this.currentToken={type:We.START_TAG,tagName:"",tagID:E.UNKNOWN,selfClosing:!1,ackSelfClosing:!1,attrs:[],location:this.getCurrentLocation(1)}}_createEndTagToken(){this.currentToken={type:We.END_TAG,tagName:"",tagID:E.UNKNOWN,selfClosing:!1,ackSelfClosing:!1,attrs:[],location:this.getCurrentLocation(2)}}_createCommentToken(t){this.currentToken={type:We.COMMENT,data:"",location:this.getCurrentLocation(t)}}_createDoctypeToken(t){this.currentToken={type:We.DOCTYPE,name:t,forceQuirks:!1,publicId:null,systemId:null,location:this.currentLocation}}_createCharacterToken(t,n){this.currentCharacterToken={type:t,chars:n,location:this.currentLocation}}_createAttr(t){this.currentAttr={name:t,value:""},this.currentLocation=this.getCurrentLocation(0)}_leaveAttrName(){var t,n;const r=this.currentToken;if(ZT(r,this.currentAttr.name)===null){if(r.attrs.push(this.currentAttr),r.location&&this.currentLocation){const o=(t=(n=r.location).attrs)!==null&&t!==void 0?t:n.attrs=Object.create(null);o[this.currentAttr.name]=this.currentLocation,this._leaveAttrValue()}}else this._err(ae.duplicateAttribute)}_leaveAttrValue(){this.currentLocation&&(this.currentLocation.endLine=this.preprocessor.line,this.currentLocation.endCol=this.preprocessor.col,this.currentLocation.endOffset=this.preprocessor.offset)}prepareToken(t){this._emitCurrentCharacterToken(t.location),this.currentToken=null,t.location&&(t.location.endLine=this.preprocessor.line,t.location.endCol=this.preprocessor.col+1,t.location.endOffset=this.preprocessor.offset+1),this.currentLocation=this.getCurrentLocation(-1)}emitCurrentTagToken(){const t=this.currentToken;this.prepareToken(t),t.tagID=eo(t.tagName),t.type===We.START_TAG?(this.lastStartTagName=t.tagName,this.handler.onStartTag(t)):(t.attrs.length>0&&this._err(ae.endTagWithAttributes),t.selfClosing&&this._err(ae.endTagWithTrailingSolidus),this.handler.onEndTag(t)),this.preprocessor.dropParsedChunk()}emitCurrentComment(t){this.prepareToken(t),this.handler.onComment(t),this.preprocessor.dropParsedChunk()}emitCurrentDoctype(t){this.prepareToken(t),this.handler.onDoctype(t),this.preprocessor.dropParsedChunk()}_emitCurrentCharacterToken(t){if(this.currentCharacterToken){switch(t&&this.currentCharacterToken.location&&(this.currentCharacterToken.location.endLine=t.startLine,this.currentCharacterToken.location.endCol=t.startCol,this.currentCharacterToken.location.endOffset=t.startOffset),this.currentCharacterToken.type){case We.CHARACTER:{this.handler.onCharacter(this.currentCharacterToken);break}case We.NULL_CHARACTER:{this.handler.onNullCharacter(this.currentCharacterToken);break}case We.WHITESPACE_CHARACTER:{this.handler.onWhitespaceCharacter(this.currentCharacterToken);break}}this.currentCharacterToken=null}}_emitEOFToken(){const t=this.getCurrentLocation(0);t&&(t.endLine=t.startLine,t.endCol=t.startCol,t.endOffset=t.startOffset),this._emitCurrentCharacterToken(t),this.handler.onEof({type:We.EOF,location:t}),this.active=!1}_appendCharToCurrentCharacterToken(t,n){if(this.currentCharacterToken)if(this.currentCharacterToken.type===t){this.currentCharacterToken.chars+=n;return}else this.currentLocation=this.getCurrentLocation(0),this._emitCurrentCharacterToken(this.currentLocation),this.preprocessor.dropParsedChunk();this._createCharacterToken(t,n)}_emitCodePoint(t){const n=eE(t)?We.WHITESPACE_CHARACTER:t===M.NULL?We.NULL_CHARACTER:We.CHARACTER;this._appendCharToCurrentCharacterToken(n,String.fromCodePoint(t))}_emitChars(t){this._appendCharToCurrentCharacterToken(We.CHARACTER,t)}_startCharacterReference(){this.returnState=this.state,this.state=w.CHARACTER_REFERENCE,this.entityStartPos=this.preprocessor.pos,this.entityDecoder.startEntity(this._isCharacterReferenceInAttribute()?Da.Attribute:Da.Legacy)}_isCharacterReferenceInAttribute(){return this.returnState===w.ATTRIBUTE_VALUE_DOUBLE_QUOTED||this.returnState===w.ATTRIBUTE_VALUE_SINGLE_QUOTED||this.returnState===w.ATTRIBUTE_VALUE_UNQUOTED}_flushCodePointConsumedAsCharacterReference(t){this._isCharacterReferenceInAttribute()?this.currentAttr.value+=String.fromCodePoint(t):this._emitCodePoint(t)}_callState(t){switch(this.state){case w.DATA:{this._stateData(t);break}case w.RCDATA:{this._stateRcdata(t);break}case w.RAWTEXT:{this._stateRawtext(t);break}case w.SCRIPT_DATA:{this._stateScriptData(t);break}case w.PLAINTEXT:{this._statePlaintext(t);break}case w.TAG_OPEN:{this._stateTagOpen(t);break}case w.END_TAG_OPEN:{this._stateEndTagOpen(t);break}case w.TAG_NAME:{this._stateTagName(t);break}case w.RCDATA_LESS_THAN_SIGN:{this._stateRcdataLessThanSign(t);break}case w.RCDATA_END_TAG_OPEN:{this._stateRcdataEndTagOpen(t);break}case w.RCDATA_END_TAG_NAME:{this._stateRcdataEndTagName(t);break}case w.RAWTEXT_LESS_THAN_SIGN:{this._stateRawtextLessThanSign(t);break}case w.RAWTEXT_END_TAG_OPEN:{this._stateRawtextEndTagOpen(t);break}case w.RAWTEXT_END_TAG_NAME:{this._stateRawtextEndTagName(t);break}case w.SCRIPT_DATA_LESS_THAN_SIGN:{this._stateScriptDataLessThanSign(t);break}case w.SCRIPT_DATA_END_TAG_OPEN:{this._stateScriptDataEndTagOpen(t);break}case w.SCRIPT_DATA_END_TAG_NAME:{this._stateScriptDataEndTagName(t);break}case w.SCRIPT_DATA_ESCAPE_START:{this._stateScriptDataEscapeStart(t);break}case w.SCRIPT_DATA_ESCAPE_START_DASH:{this._stateScriptDataEscapeStartDash(t);break}case w.SCRIPT_DATA_ESCAPED:{this._stateScriptDataEscaped(t);break}case w.SCRIPT_DATA_ESCAPED_DASH:{this._stateScriptDataEscapedDash(t);break}case w.SCRIPT_DATA_ESCAPED_DASH_DASH:{this._stateScriptDataEscapedDashDash(t);break}case w.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN:{this._stateScriptDataEscapedLessThanSign(t);break}case w.SCRIPT_DATA_ESCAPED_END_TAG_OPEN:{this._stateScriptDataEscapedEndTagOpen(t);break}case w.SCRIPT_DATA_ESCAPED_END_TAG_NAME:{this._stateScriptDataEscapedEndTagName(t);break}case w.SCRIPT_DATA_DOUBLE_ESCAPE_START:{this._stateScriptDataDoubleEscapeStart(t);break}case w.SCRIPT_DATA_DOUBLE_ESCAPED:{this._stateScriptDataDoubleEscaped(t);break}case w.SCRIPT_DATA_DOUBLE_ESCAPED_DASH:{this._stateScriptDataDoubleEscapedDash(t);break}case w.SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH:{this._stateScriptDataDoubleEscapedDashDash(t);break}case w.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN:{this._stateScriptDataDoubleEscapedLessThanSign(t);break}case w.SCRIPT_DATA_DOUBLE_ESCAPE_END:{this._stateScriptDataDoubleEscapeEnd(t);break}case w.BEFORE_ATTRIBUTE_NAME:{this._stateBeforeAttributeName(t);break}case w.ATTRIBUTE_NAME:{this._stateAttributeName(t);break}case w.AFTER_ATTRIBUTE_NAME:{this._stateAfterAttributeName(t);break}case w.BEFORE_ATTRIBUTE_VALUE:{this._stateBeforeAttributeValue(t);break}case w.ATTRIBUTE_VALUE_DOUBLE_QUOTED:{this._stateAttributeValueDoubleQuoted(t);break}case w.ATTRIBUTE_VALUE_SINGLE_QUOTED:{this._stateAttributeValueSingleQuoted(t);break}case w.ATTRIBUTE_VALUE_UNQUOTED:{this._stateAttributeValueUnquoted(t);break}case w.AFTER_ATTRIBUTE_VALUE_QUOTED:{this._stateAfterAttributeValueQuoted(t);break}case w.SELF_CLOSING_START_TAG:{this._stateSelfClosingStartTag(t);break}case w.BOGUS_COMMENT:{this._stateBogusComment(t);break}case w.MARKUP_DECLARATION_OPEN:{this._stateMarkupDeclarationOpen(t);break}case w.COMMENT_START:{this._stateCommentStart(t);break}case w.COMMENT_START_DASH:{this._stateCommentStartDash(t);break}case w.COMMENT:{this._stateComment(t);break}case w.COMMENT_LESS_THAN_SIGN:{this._stateCommentLessThanSign(t);break}case w.COMMENT_LESS_THAN_SIGN_BANG:{this._stateCommentLessThanSignBang(t);break}case w.COMMENT_LESS_THAN_SIGN_BANG_DASH:{this._stateCommentLessThanSignBangDash(t);break}case w.COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH:{this._stateCommentLessThanSignBangDashDash(t);break}case w.COMMENT_END_DASH:{this._stateCommentEndDash(t);break}case w.COMMENT_END:{this._stateCommentEnd(t);break}case w.COMMENT_END_BANG:{this._stateCommentEndBang(t);break}case w.DOCTYPE:{this._stateDoctype(t);break}case w.BEFORE_DOCTYPE_NAME:{this._stateBeforeDoctypeName(t);break}case w.DOCTYPE_NAME:{this._stateDoctypeName(t);break}case w.AFTER_DOCTYPE_NAME:{this._stateAfterDoctypeName(t);break}case w.AFTER_DOCTYPE_PUBLIC_KEYWORD:{this._stateAfterDoctypePublicKeyword(t);break}case w.BEFORE_DOCTYPE_PUBLIC_IDENTIFIER:{this._stateBeforeDoctypePublicIdentifier(t);break}case w.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED:{this._stateDoctypePublicIdentifierDoubleQuoted(t);break}case w.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED:{this._stateDoctypePublicIdentifierSingleQuoted(t);break}case w.AFTER_DOCTYPE_PUBLIC_IDENTIFIER:{this._stateAfterDoctypePublicIdentifier(t);break}case w.BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS:{this._stateBetweenDoctypePublicAndSystemIdentifiers(t);break}case w.AFTER_DOCTYPE_SYSTEM_KEYWORD:{this._stateAfterDoctypeSystemKeyword(t);break}case w.BEFORE_DOCTYPE_SYSTEM_IDENTIFIER:{this._stateBeforeDoctypeSystemIdentifier(t);break}case w.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED:{this._stateDoctypeSystemIdentifierDoubleQuoted(t);break}case w.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED:{this._stateDoctypeSystemIdentifierSingleQuoted(t);break}case w.AFTER_DOCTYPE_SYSTEM_IDENTIFIER:{this._stateAfterDoctypeSystemIdentifier(t);break}case w.BOGUS_DOCTYPE:{this._stateBogusDoctype(t);break}case w.CDATA_SECTION:{this._stateCdataSection(t);break}case w.CDATA_SECTION_BRACKET:{this._stateCdataSectionBracket(t);break}case w.CDATA_SECTION_END:{this._stateCdataSectionEnd(t);break}case w.CHARACTER_REFERENCE:{this._stateCharacterReference();break}case w.AMBIGUOUS_AMPERSAND:{this._stateAmbiguousAmpersand(t);break}default:throw new Error("Unknown state")}}_stateData(t){switch(t){case M.LESS_THAN_SIGN:{this.state=w.TAG_OPEN;break}case M.AMPERSAND:{this._startCharacterReference();break}case M.NULL:{this._err(ae.unexpectedNullCharacter),this._emitCodePoint(t);break}case M.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateRcdata(t){switch(t){case M.AMPERSAND:{this._startCharacterReference();break}case M.LESS_THAN_SIGN:{this.state=w.RCDATA_LESS_THAN_SIGN;break}case M.NULL:{this._err(ae.unexpectedNullCharacter),this._emitChars(vt);break}case M.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateRawtext(t){switch(t){case M.LESS_THAN_SIGN:{this.state=w.RAWTEXT_LESS_THAN_SIGN;break}case M.NULL:{this._err(ae.unexpectedNullCharacter),this._emitChars(vt);break}case M.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateScriptData(t){switch(t){case M.LESS_THAN_SIGN:{this.state=w.SCRIPT_DATA_LESS_THAN_SIGN;break}case M.NULL:{this._err(ae.unexpectedNullCharacter),this._emitChars(vt);break}case M.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(t)}}_statePlaintext(t){switch(t){case M.NULL:{this._err(ae.unexpectedNullCharacter),this._emitChars(vt);break}case M.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateTagOpen(t){if(ai(t))this._createStartTagToken(),this.state=w.TAG_NAME,this._stateTagName(t);else switch(t){case M.EXCLAMATION_MARK:{this.state=w.MARKUP_DECLARATION_OPEN;break}case M.SOLIDUS:{this.state=w.END_TAG_OPEN;break}case M.QUESTION_MARK:{this._err(ae.unexpectedQuestionMarkInsteadOfTagName),this._createCommentToken(1),this.state=w.BOGUS_COMMENT,this._stateBogusComment(t);break}case M.EOF:{this._err(ae.eofBeforeTagName),this._emitChars("<"),this._emitEOFToken();break}default:this._err(ae.invalidFirstCharacterOfTagName),this._emitChars("<"),this.state=w.DATA,this._stateData(t)}}_stateEndTagOpen(t){if(ai(t))this._createEndTagToken(),this.state=w.TAG_NAME,this._stateTagName(t);else switch(t){case M.GREATER_THAN_SIGN:{this._err(ae.missingEndTagName),this.state=w.DATA;break}case M.EOF:{this._err(ae.eofBeforeTagName),this._emitChars("</"),this._emitEOFToken();break}default:this._err(ae.invalidFirstCharacterOfTagName),this._createCommentToken(2),this.state=w.BOGUS_COMMENT,this._stateBogusComment(t)}}_stateTagName(t){const n=this.currentToken;switch(t){case M.SPACE:case M.LINE_FEED:case M.TABULATION:case M.FORM_FEED:{this.state=w.BEFORE_ATTRIBUTE_NAME;break}case M.SOLIDUS:{this.state=w.SELF_CLOSING_START_TAG;break}case M.GREATER_THAN_SIGN:{this.state=w.DATA,this.emitCurrentTagToken();break}case M.NULL:{this._err(ae.unexpectedNullCharacter),n.tagName+=vt;break}case M.EOF:{this._err(ae.eofInTag),this._emitEOFToken();break}default:n.tagName+=String.fromCodePoint(ds(t)?su(t):t)}}_stateRcdataLessThanSign(t){t===M.SOLIDUS?this.state=w.RCDATA_END_TAG_OPEN:(this._emitChars("<"),this.state=w.RCDATA,this._stateRcdata(t))}_stateRcdataEndTagOpen(t){ai(t)?(this.state=w.RCDATA_END_TAG_NAME,this._stateRcdataEndTagName(t)):(this._emitChars("</"),this.state=w.RCDATA,this._stateRcdata(t))}handleSpecialEndTag(t){if(!this.preprocessor.startsWith(this.lastStartTagName,!1))return!this._ensureHibernation();this._createEndTagToken();const n=this.currentToken;switch(n.tagName=this.lastStartTagName,this.preprocessor.peek(this.lastStartTagName.length)){case M.SPACE:case M.LINE_FEED:case M.TABULATION:case M.FORM_FEED:return this._advanceBy(this.lastStartTagName.length),this.state=w.BEFORE_ATTRIBUTE_NAME,!1;case M.SOLIDUS:return this._advanceBy(this.lastStartTagName.length),this.state=w.SELF_CLOSING_START_TAG,!1;case M.GREATER_THAN_SIGN:return this._advanceBy(this.lastStartTagName.length),this.emitCurrentTagToken(),this.state=w.DATA,!1;default:return!this._ensureHibernation()}}_stateRcdataEndTagName(t){this.handleSpecialEndTag(t)&&(this._emitChars("</"),this.state=w.RCDATA,this._stateRcdata(t))}_stateRawtextLessThanSign(t){t===M.SOLIDUS?this.state=w.RAWTEXT_END_TAG_OPEN:(this._emitChars("<"),this.state=w.RAWTEXT,this._stateRawtext(t))}_stateRawtextEndTagOpen(t){ai(t)?(this.state=w.RAWTEXT_END_TAG_NAME,this._stateRawtextEndTagName(t)):(this._emitChars("</"),this.state=w.RAWTEXT,this._stateRawtext(t))}_stateRawtextEndTagName(t){this.handleSpecialEndTag(t)&&(this._emitChars("</"),this.state=w.RAWTEXT,this._stateRawtext(t))}_stateScriptDataLessThanSign(t){switch(t){case M.SOLIDUS:{this.state=w.SCRIPT_DATA_END_TAG_OPEN;break}case M.EXCLAMATION_MARK:{this.state=w.SCRIPT_DATA_ESCAPE_START,this._emitChars("<!");break}default:this._emitChars("<"),this.state=w.SCRIPT_DATA,this._stateScriptData(t)}}_stateScriptDataEndTagOpen(t){ai(t)?(this.state=w.SCRIPT_DATA_END_TAG_NAME,this._stateScriptDataEndTagName(t)):(this._emitChars("</"),this.state=w.SCRIPT_DATA,this._stateScriptData(t))}_stateScriptDataEndTagName(t){this.handleSpecialEndTag(t)&&(this._emitChars("</"),this.state=w.SCRIPT_DATA,this._stateScriptData(t))}_stateScriptDataEscapeStart(t){t===M.HYPHEN_MINUS?(this.state=w.SCRIPT_DATA_ESCAPE_START_DASH,this._emitChars("-")):(this.state=w.SCRIPT_DATA,this._stateScriptData(t))}_stateScriptDataEscapeStartDash(t){t===M.HYPHEN_MINUS?(this.state=w.SCRIPT_DATA_ESCAPED_DASH_DASH,this._emitChars("-")):(this.state=w.SCRIPT_DATA,this._stateScriptData(t))}_stateScriptDataEscaped(t){switch(t){case M.HYPHEN_MINUS:{this.state=w.SCRIPT_DATA_ESCAPED_DASH,this._emitChars("-");break}case M.LESS_THAN_SIGN:{this.state=w.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN;break}case M.NULL:{this._err(ae.unexpectedNullCharacter),this._emitChars(vt);break}case M.EOF:{this._err(ae.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateScriptDataEscapedDash(t){switch(t){case M.HYPHEN_MINUS:{this.state=w.SCRIPT_DATA_ESCAPED_DASH_DASH,this._emitChars("-");break}case M.LESS_THAN_SIGN:{this.state=w.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN;break}case M.NULL:{this._err(ae.unexpectedNullCharacter),this.state=w.SCRIPT_DATA_ESCAPED,this._emitChars(vt);break}case M.EOF:{this._err(ae.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this.state=w.SCRIPT_DATA_ESCAPED,this._emitCodePoint(t)}}_stateScriptDataEscapedDashDash(t){switch(t){case M.HYPHEN_MINUS:{this._emitChars("-");break}case M.LESS_THAN_SIGN:{this.state=w.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN;break}case M.GREATER_THAN_SIGN:{this.state=w.SCRIPT_DATA,this._emitChars(">");break}case M.NULL:{this._err(ae.unexpectedNullCharacter),this.state=w.SCRIPT_DATA_ESCAPED,this._emitChars(vt);break}case M.EOF:{this._err(ae.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this.state=w.SCRIPT_DATA_ESCAPED,this._emitCodePoint(t)}}_stateScriptDataEscapedLessThanSign(t){t===M.SOLIDUS?this.state=w.SCRIPT_DATA_ESCAPED_END_TAG_OPEN:ai(t)?(this._emitChars("<"),this.state=w.SCRIPT_DATA_DOUBLE_ESCAPE_START,this._stateScriptDataDoubleEscapeStart(t)):(this._emitChars("<"),this.state=w.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(t))}_stateScriptDataEscapedEndTagOpen(t){ai(t)?(this.state=w.SCRIPT_DATA_ESCAPED_END_TAG_NAME,this._stateScriptDataEscapedEndTagName(t)):(this._emitChars("</"),this.state=w.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(t))}_stateScriptDataEscapedEndTagName(t){this.handleSpecialEndTag(t)&&(this._emitChars("</"),this.state=w.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(t))}_stateScriptDataDoubleEscapeStart(t){if(this.preprocessor.startsWith(mn.SCRIPT,!1)&&B1(this.preprocessor.peek(mn.SCRIPT.length))){this._emitCodePoint(t);for(let n=0;n<mn.SCRIPT.length;n++)this._emitCodePoint(this._consume());this.state=w.SCRIPT_DATA_DOUBLE_ESCAPED}else this._ensureHibernation()||(this.state=w.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(t))}_stateScriptDataDoubleEscaped(t){switch(t){case M.HYPHEN_MINUS:{this.state=w.SCRIPT_DATA_DOUBLE_ESCAPED_DASH,this._emitChars("-");break}case M.LESS_THAN_SIGN:{this.state=w.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN,this._emitChars("<");break}case M.NULL:{this._err(ae.unexpectedNullCharacter),this._emitChars(vt);break}case M.EOF:{this._err(ae.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateScriptDataDoubleEscapedDash(t){switch(t){case M.HYPHEN_MINUS:{this.state=w.SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH,this._emitChars("-");break}case M.LESS_THAN_SIGN:{this.state=w.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN,this._emitChars("<");break}case M.NULL:{this._err(ae.unexpectedNullCharacter),this.state=w.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitChars(vt);break}case M.EOF:{this._err(ae.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this.state=w.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitCodePoint(t)}}_stateScriptDataDoubleEscapedDashDash(t){switch(t){case M.HYPHEN_MINUS:{this._emitChars("-");break}case M.LESS_THAN_SIGN:{this.state=w.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN,this._emitChars("<");break}case M.GREATER_THAN_SIGN:{this.state=w.SCRIPT_DATA,this._emitChars(">");break}case M.NULL:{this._err(ae.unexpectedNullCharacter),this.state=w.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitChars(vt);break}case M.EOF:{this._err(ae.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this.state=w.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitCodePoint(t)}}_stateScriptDataDoubleEscapedLessThanSign(t){t===M.SOLIDUS?(this.state=w.SCRIPT_DATA_DOUBLE_ESCAPE_END,this._emitChars("/")):(this.state=w.SCRIPT_DATA_DOUBLE_ESCAPED,this._stateScriptDataDoubleEscaped(t))}_stateScriptDataDoubleEscapeEnd(t){if(this.preprocessor.startsWith(mn.SCRIPT,!1)&&B1(this.preprocessor.peek(mn.SCRIPT.length))){this._emitCodePoint(t);for(let n=0;n<mn.SCRIPT.length;n++)this._emitCodePoint(this._consume());this.state=w.SCRIPT_DATA_ESCAPED}else this._ensureHibernation()||(this.state=w.SCRIPT_DATA_DOUBLE_ESCAPED,this._stateScriptDataDoubleEscaped(t))}_stateBeforeAttributeName(t){switch(t){case M.SPACE:case M.LINE_FEED:case M.TABULATION:case M.FORM_FEED:break;case M.SOLIDUS:case M.GREATER_THAN_SIGN:case M.EOF:{this.state=w.AFTER_ATTRIBUTE_NAME,this._stateAfterAttributeName(t);break}case M.EQUALS_SIGN:{this._err(ae.unexpectedEqualsSignBeforeAttributeName),this._createAttr("="),this.state=w.ATTRIBUTE_NAME;break}default:this._createAttr(""),this.state=w.ATTRIBUTE_NAME,this._stateAttributeName(t)}}_stateAttributeName(t){switch(t){case M.SPACE:case M.LINE_FEED:case M.TABULATION:case M.FORM_FEED:case M.SOLIDUS:case M.GREATER_THAN_SIGN:case M.EOF:{this._leaveAttrName(),this.state=w.AFTER_ATTRIBUTE_NAME,this._stateAfterAttributeName(t);break}case M.EQUALS_SIGN:{this._leaveAttrName(),this.state=w.BEFORE_ATTRIBUTE_VALUE;break}case M.QUOTATION_MARK:case M.APOSTROPHE:case M.LESS_THAN_SIGN:{this._err(ae.unexpectedCharacterInAttributeName),this.currentAttr.name+=String.fromCodePoint(t);break}case M.NULL:{this._err(ae.unexpectedNullCharacter),this.currentAttr.name+=vt;break}default:this.currentAttr.name+=String.fromCodePoint(ds(t)?su(t):t)}}_stateAfterAttributeName(t){switch(t){case M.SPACE:case M.LINE_FEED:case M.TABULATION:case M.FORM_FEED:break;case M.SOLIDUS:{this.state=w.SELF_CLOSING_START_TAG;break}case M.EQUALS_SIGN:{this.state=w.BEFORE_ATTRIBUTE_VALUE;break}case M.GREATER_THAN_SIGN:{this.state=w.DATA,this.emitCurrentTagToken();break}case M.EOF:{this._err(ae.eofInTag),this._emitEOFToken();break}default:this._createAttr(""),this.state=w.ATTRIBUTE_NAME,this._stateAttributeName(t)}}_stateBeforeAttributeValue(t){switch(t){case M.SPACE:case M.LINE_FEED:case M.TABULATION:case M.FORM_FEED:break;case M.QUOTATION_MARK:{this.state=w.ATTRIBUTE_VALUE_DOUBLE_QUOTED;break}case M.APOSTROPHE:{this.state=w.ATTRIBUTE_VALUE_SINGLE_QUOTED;break}case M.GREATER_THAN_SIGN:{this._err(ae.missingAttributeValue),this.state=w.DATA,this.emitCurrentTagToken();break}default:this.state=w.ATTRIBUTE_VALUE_UNQUOTED,this._stateAttributeValueUnquoted(t)}}_stateAttributeValueDoubleQuoted(t){switch(t){case M.QUOTATION_MARK:{this.state=w.AFTER_ATTRIBUTE_VALUE_QUOTED;break}case M.AMPERSAND:{this._startCharacterReference();break}case M.NULL:{this._err(ae.unexpectedNullCharacter),this.currentAttr.value+=vt;break}case M.EOF:{this._err(ae.eofInTag),this._emitEOFToken();break}default:this.currentAttr.value+=String.fromCodePoint(t)}}_stateAttributeValueSingleQuoted(t){switch(t){case M.APOSTROPHE:{this.state=w.AFTER_ATTRIBUTE_VALUE_QUOTED;break}case M.AMPERSAND:{this._startCharacterReference();break}case M.NULL:{this._err(ae.unexpectedNullCharacter),this.currentAttr.value+=vt;break}case M.EOF:{this._err(ae.eofInTag),this._emitEOFToken();break}default:this.currentAttr.value+=String.fromCodePoint(t)}}_stateAttributeValueUnquoted(t){switch(t){case M.SPACE:case M.LINE_FEED:case M.TABULATION:case M.FORM_FEED:{this._leaveAttrValue(),this.state=w.BEFORE_ATTRIBUTE_NAME;break}case M.AMPERSAND:{this._startCharacterReference();break}case M.GREATER_THAN_SIGN:{this._leaveAttrValue(),this.state=w.DATA,this.emitCurrentTagToken();break}case M.NULL:{this._err(ae.unexpectedNullCharacter),this.currentAttr.value+=vt;break}case M.QUOTATION_MARK:case M.APOSTROPHE:case M.LESS_THAN_SIGN:case M.EQUALS_SIGN:case M.GRAVE_ACCENT:{this._err(ae.unexpectedCharacterInUnquotedAttributeValue),this.currentAttr.value+=String.fromCodePoint(t);break}case M.EOF:{this._err(ae.eofInTag),this._emitEOFToken();break}default:this.currentAttr.value+=String.fromCodePoint(t)}}_stateAfterAttributeValueQuoted(t){switch(t){case M.SPACE:case M.LINE_FEED:case M.TABULATION:case M.FORM_FEED:{this._leaveAttrValue(),this.state=w.BEFORE_ATTRIBUTE_NAME;break}case M.SOLIDUS:{this._leaveAttrValue(),this.state=w.SELF_CLOSING_START_TAG;break}case M.GREATER_THAN_SIGN:{this._leaveAttrValue(),this.state=w.DATA,this.emitCurrentTagToken();break}case M.EOF:{this._err(ae.eofInTag),this._emitEOFToken();break}default:this._err(ae.missingWhitespaceBetweenAttributes),this.state=w.BEFORE_ATTRIBUTE_NAME,this._stateBeforeAttributeName(t)}}_stateSelfClosingStartTag(t){switch(t){case M.GREATER_THAN_SIGN:{const n=this.currentToken;n.selfClosing=!0,this.state=w.DATA,this.emitCurrentTagToken();break}case M.EOF:{this._err(ae.eofInTag),this._emitEOFToken();break}default:this._err(ae.unexpectedSolidusInTag),this.state=w.BEFORE_ATTRIBUTE_NAME,this._stateBeforeAttributeName(t)}}_stateBogusComment(t){const n=this.currentToken;switch(t){case M.GREATER_THAN_SIGN:{this.state=w.DATA,this.emitCurrentComment(n);break}case M.EOF:{this.emitCurrentComment(n),this._emitEOFToken();break}case M.NULL:{this._err(ae.unexpectedNullCharacter),n.data+=vt;break}default:n.data+=String.fromCodePoint(t)}}_stateMarkupDeclarationOpen(t){this._consumeSequenceIfMatch(mn.DASH_DASH,!0)?(this._createCommentToken(mn.DASH_DASH.length+1),this.state=w.COMMENT_START):this._consumeSequenceIfMatch(mn.DOCTYPE,!1)?(this.currentLocation=this.getCurrentLocation(mn.DOCTYPE.length+1),this.state=w.DOCTYPE):this._consumeSequenceIfMatch(mn.CDATA_START,!0)?this.inForeignNode?this.state=w.CDATA_SECTION:(this._err(ae.cdataInHtmlContent),this._createCommentToken(mn.CDATA_START.length+1),this.currentToken.data="[CDATA[",this.state=w.BOGUS_COMMENT):this._ensureHibernation()||(this._err(ae.incorrectlyOpenedComment),this._createCommentToken(2),this.state=w.BOGUS_COMMENT,this._stateBogusComment(t))}_stateCommentStart(t){switch(t){case M.HYPHEN_MINUS:{this.state=w.COMMENT_START_DASH;break}case M.GREATER_THAN_SIGN:{this._err(ae.abruptClosingOfEmptyComment),this.state=w.DATA;const n=this.currentToken;this.emitCurrentComment(n);break}default:this.state=w.COMMENT,this._stateComment(t)}}_stateCommentStartDash(t){const n=this.currentToken;switch(t){case M.HYPHEN_MINUS:{this.state=w.COMMENT_END;break}case M.GREATER_THAN_SIGN:{this._err(ae.abruptClosingOfEmptyComment),this.state=w.DATA,this.emitCurrentComment(n);break}case M.EOF:{this._err(ae.eofInComment),this.emitCurrentComment(n),this._emitEOFToken();break}default:n.data+="-",this.state=w.COMMENT,this._stateComment(t)}}_stateComment(t){const n=this.currentToken;switch(t){case M.HYPHEN_MINUS:{this.state=w.COMMENT_END_DASH;break}case M.LESS_THAN_SIGN:{n.data+="<",this.state=w.COMMENT_LESS_THAN_SIGN;break}case M.NULL:{this._err(ae.unexpectedNullCharacter),n.data+=vt;break}case M.EOF:{this._err(ae.eofInComment),this.emitCurrentComment(n),this._emitEOFToken();break}default:n.data+=String.fromCodePoint(t)}}_stateCommentLessThanSign(t){const n=this.currentToken;switch(t){case M.EXCLAMATION_MARK:{n.data+="!",this.state=w.COMMENT_LESS_THAN_SIGN_BANG;break}case M.LESS_THAN_SIGN:{n.data+="<";break}default:this.state=w.COMMENT,this._stateComment(t)}}_stateCommentLessThanSignBang(t){t===M.HYPHEN_MINUS?this.state=w.COMMENT_LESS_THAN_SIGN_BANG_DASH:(this.state=w.COMMENT,this._stateComment(t))}_stateCommentLessThanSignBangDash(t){t===M.HYPHEN_MINUS?this.state=w.COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH:(this.state=w.COMMENT_END_DASH,this._stateCommentEndDash(t))}_stateCommentLessThanSignBangDashDash(t){t!==M.GREATER_THAN_SIGN&&t!==M.EOF&&this._err(ae.nestedComment),this.state=w.COMMENT_END,this._stateCommentEnd(t)}_stateCommentEndDash(t){const n=this.currentToken;switch(t){case M.HYPHEN_MINUS:{this.state=w.COMMENT_END;break}case M.EOF:{this._err(ae.eofInComment),this.emitCurrentComment(n),this._emitEOFToken();break}default:n.data+="-",this.state=w.COMMENT,this._stateComment(t)}}_stateCommentEnd(t){const n=this.currentToken;switch(t){case M.GREATER_THAN_SIGN:{this.state=w.DATA,this.emitCurrentComment(n);break}case M.EXCLAMATION_MARK:{this.state=w.COMMENT_END_BANG;break}case M.HYPHEN_MINUS:{n.data+="-";break}case M.EOF:{this._err(ae.eofInComment),this.emitCurrentComment(n),this._emitEOFToken();break}default:n.data+="--",this.state=w.COMMENT,this._stateComment(t)}}_stateCommentEndBang(t){const n=this.currentToken;switch(t){case M.HYPHEN_MINUS:{n.data+="--!",this.state=w.COMMENT_END_DASH;break}case M.GREATER_THAN_SIGN:{this._err(ae.incorrectlyClosedComment),this.state=w.DATA,this.emitCurrentComment(n);break}case M.EOF:{this._err(ae.eofInComment),this.emitCurrentComment(n),this._emitEOFToken();break}default:n.data+="--!",this.state=w.COMMENT,this._stateComment(t)}}_stateDoctype(t){switch(t){case M.SPACE:case M.LINE_FEED:case M.TABULATION:case M.FORM_FEED:{this.state=w.BEFORE_DOCTYPE_NAME;break}case M.GREATER_THAN_SIGN:{this.state=w.BEFORE_DOCTYPE_NAME,this._stateBeforeDoctypeName(t);break}case M.EOF:{this._err(ae.eofInDoctype),this._createDoctypeToken(null);const n=this.currentToken;n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(ae.missingWhitespaceBeforeDoctypeName),this.state=w.BEFORE_DOCTYPE_NAME,this._stateBeforeDoctypeName(t)}}_stateBeforeDoctypeName(t){if(ds(t))this._createDoctypeToken(String.fromCharCode(su(t))),this.state=w.DOCTYPE_NAME;else switch(t){case M.SPACE:case M.LINE_FEED:case M.TABULATION:case M.FORM_FEED:break;case M.NULL:{this._err(ae.unexpectedNullCharacter),this._createDoctypeToken(vt),this.state=w.DOCTYPE_NAME;break}case M.GREATER_THAN_SIGN:{this._err(ae.missingDoctypeName),this._createDoctypeToken(null);const n=this.currentToken;n.forceQuirks=!0,this.emitCurrentDoctype(n),this.state=w.DATA;break}case M.EOF:{this._err(ae.eofInDoctype),this._createDoctypeToken(null);const n=this.currentToken;n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._createDoctypeToken(String.fromCodePoint(t)),this.state=w.DOCTYPE_NAME}}_stateDoctypeName(t){const n=this.currentToken;switch(t){case M.SPACE:case M.LINE_FEED:case M.TABULATION:case M.FORM_FEED:{this.state=w.AFTER_DOCTYPE_NAME;break}case M.GREATER_THAN_SIGN:{this.state=w.DATA,this.emitCurrentDoctype(n);break}case M.NULL:{this._err(ae.unexpectedNullCharacter),n.name+=vt;break}case M.EOF:{this._err(ae.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:n.name+=String.fromCodePoint(ds(t)?su(t):t)}}_stateAfterDoctypeName(t){const n=this.currentToken;switch(t){case M.SPACE:case M.LINE_FEED:case M.TABULATION:case M.FORM_FEED:break;case M.GREATER_THAN_SIGN:{this.state=w.DATA,this.emitCurrentDoctype(n);break}case M.EOF:{this._err(ae.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._consumeSequenceIfMatch(mn.PUBLIC,!1)?this.state=w.AFTER_DOCTYPE_PUBLIC_KEYWORD:this._consumeSequenceIfMatch(mn.SYSTEM,!1)?this.state=w.AFTER_DOCTYPE_SYSTEM_KEYWORD:this._ensureHibernation()||(this._err(ae.invalidCharacterSequenceAfterDoctypeName),n.forceQuirks=!0,this.state=w.BOGUS_DOCTYPE,this._stateBogusDoctype(t))}}_stateAfterDoctypePublicKeyword(t){const n=this.currentToken;switch(t){case M.SPACE:case M.LINE_FEED:case M.TABULATION:case M.FORM_FEED:{this.state=w.BEFORE_DOCTYPE_PUBLIC_IDENTIFIER;break}case M.QUOTATION_MARK:{this._err(ae.missingWhitespaceAfterDoctypePublicKeyword),n.publicId="",this.state=w.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED;break}case M.APOSTROPHE:{this._err(ae.missingWhitespaceAfterDoctypePublicKeyword),n.publicId="",this.state=w.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED;break}case M.GREATER_THAN_SIGN:{this._err(ae.missingDoctypePublicIdentifier),n.forceQuirks=!0,this.state=w.DATA,this.emitCurrentDoctype(n);break}case M.EOF:{this._err(ae.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(ae.missingQuoteBeforeDoctypePublicIdentifier),n.forceQuirks=!0,this.state=w.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateBeforeDoctypePublicIdentifier(t){const n=this.currentToken;switch(t){case M.SPACE:case M.LINE_FEED:case M.TABULATION:case M.FORM_FEED:break;case M.QUOTATION_MARK:{n.publicId="",this.state=w.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED;break}case M.APOSTROPHE:{n.publicId="",this.state=w.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED;break}case M.GREATER_THAN_SIGN:{this._err(ae.missingDoctypePublicIdentifier),n.forceQuirks=!0,this.state=w.DATA,this.emitCurrentDoctype(n);break}case M.EOF:{this._err(ae.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(ae.missingQuoteBeforeDoctypePublicIdentifier),n.forceQuirks=!0,this.state=w.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateDoctypePublicIdentifierDoubleQuoted(t){const n=this.currentToken;switch(t){case M.QUOTATION_MARK:{this.state=w.AFTER_DOCTYPE_PUBLIC_IDENTIFIER;break}case M.NULL:{this._err(ae.unexpectedNullCharacter),n.publicId+=vt;break}case M.GREATER_THAN_SIGN:{this._err(ae.abruptDoctypePublicIdentifier),n.forceQuirks=!0,this.emitCurrentDoctype(n),this.state=w.DATA;break}case M.EOF:{this._err(ae.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:n.publicId+=String.fromCodePoint(t)}}_stateDoctypePublicIdentifierSingleQuoted(t){const n=this.currentToken;switch(t){case M.APOSTROPHE:{this.state=w.AFTER_DOCTYPE_PUBLIC_IDENTIFIER;break}case M.NULL:{this._err(ae.unexpectedNullCharacter),n.publicId+=vt;break}case M.GREATER_THAN_SIGN:{this._err(ae.abruptDoctypePublicIdentifier),n.forceQuirks=!0,this.emitCurrentDoctype(n),this.state=w.DATA;break}case M.EOF:{this._err(ae.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:n.publicId+=String.fromCodePoint(t)}}_stateAfterDoctypePublicIdentifier(t){const n=this.currentToken;switch(t){case M.SPACE:case M.LINE_FEED:case M.TABULATION:case M.FORM_FEED:{this.state=w.BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS;break}case M.GREATER_THAN_SIGN:{this.state=w.DATA,this.emitCurrentDoctype(n);break}case M.QUOTATION_MARK:{this._err(ae.missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers),n.systemId="",this.state=w.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break}case M.APOSTROPHE:{this._err(ae.missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers),n.systemId="",this.state=w.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break}case M.EOF:{this._err(ae.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(ae.missingQuoteBeforeDoctypeSystemIdentifier),n.forceQuirks=!0,this.state=w.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateBetweenDoctypePublicAndSystemIdentifiers(t){const n=this.currentToken;switch(t){case M.SPACE:case M.LINE_FEED:case M.TABULATION:case M.FORM_FEED:break;case M.GREATER_THAN_SIGN:{this.emitCurrentDoctype(n),this.state=w.DATA;break}case M.QUOTATION_MARK:{n.systemId="",this.state=w.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break}case M.APOSTROPHE:{n.systemId="",this.state=w.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break}case M.EOF:{this._err(ae.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(ae.missingQuoteBeforeDoctypeSystemIdentifier),n.forceQuirks=!0,this.state=w.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateAfterDoctypeSystemKeyword(t){const n=this.currentToken;switch(t){case M.SPACE:case M.LINE_FEED:case M.TABULATION:case M.FORM_FEED:{this.state=w.BEFORE_DOCTYPE_SYSTEM_IDENTIFIER;break}case M.QUOTATION_MARK:{this._err(ae.missingWhitespaceAfterDoctypeSystemKeyword),n.systemId="",this.state=w.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break}case M.APOSTROPHE:{this._err(ae.missingWhitespaceAfterDoctypeSystemKeyword),n.systemId="",this.state=w.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break}case M.GREATER_THAN_SIGN:{this._err(ae.missingDoctypeSystemIdentifier),n.forceQuirks=!0,this.state=w.DATA,this.emitCurrentDoctype(n);break}case M.EOF:{this._err(ae.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(ae.missingQuoteBeforeDoctypeSystemIdentifier),n.forceQuirks=!0,this.state=w.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateBeforeDoctypeSystemIdentifier(t){const n=this.currentToken;switch(t){case M.SPACE:case M.LINE_FEED:case M.TABULATION:case M.FORM_FEED:break;case M.QUOTATION_MARK:{n.systemId="",this.state=w.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break}case M.APOSTROPHE:{n.systemId="",this.state=w.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break}case M.GREATER_THAN_SIGN:{this._err(ae.missingDoctypeSystemIdentifier),n.forceQuirks=!0,this.state=w.DATA,this.emitCurrentDoctype(n);break}case M.EOF:{this._err(ae.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(ae.missingQuoteBeforeDoctypeSystemIdentifier),n.forceQuirks=!0,this.state=w.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateDoctypeSystemIdentifierDoubleQuoted(t){const n=this.currentToken;switch(t){case M.QUOTATION_MARK:{this.state=w.AFTER_DOCTYPE_SYSTEM_IDENTIFIER;break}case M.NULL:{this._err(ae.unexpectedNullCharacter),n.systemId+=vt;break}case M.GREATER_THAN_SIGN:{this._err(ae.abruptDoctypeSystemIdentifier),n.forceQuirks=!0,this.emitCurrentDoctype(n),this.state=w.DATA;break}case M.EOF:{this._err(ae.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:n.systemId+=String.fromCodePoint(t)}}_stateDoctypeSystemIdentifierSingleQuoted(t){const n=this.currentToken;switch(t){case M.APOSTROPHE:{this.state=w.AFTER_DOCTYPE_SYSTEM_IDENTIFIER;break}case M.NULL:{this._err(ae.unexpectedNullCharacter),n.systemId+=vt;break}case M.GREATER_THAN_SIGN:{this._err(ae.abruptDoctypeSystemIdentifier),n.forceQuirks=!0,this.emitCurrentDoctype(n),this.state=w.DATA;break}case M.EOF:{this._err(ae.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:n.systemId+=String.fromCodePoint(t)}}_stateAfterDoctypeSystemIdentifier(t){const n=this.currentToken;switch(t){case M.SPACE:case M.LINE_FEED:case M.TABULATION:case M.FORM_FEED:break;case M.GREATER_THAN_SIGN:{this.emitCurrentDoctype(n),this.state=w.DATA;break}case M.EOF:{this._err(ae.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(ae.unexpectedCharacterAfterDoctypeSystemIdentifier),this.state=w.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateBogusDoctype(t){const n=this.currentToken;switch(t){case M.GREATER_THAN_SIGN:{this.emitCurrentDoctype(n),this.state=w.DATA;break}case M.NULL:{this._err(ae.unexpectedNullCharacter);break}case M.EOF:{this.emitCurrentDoctype(n),this._emitEOFToken();break}}}_stateCdataSection(t){switch(t){case M.RIGHT_SQUARE_BRACKET:{this.state=w.CDATA_SECTION_BRACKET;break}case M.EOF:{this._err(ae.eofInCdata),this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateCdataSectionBracket(t){t===M.RIGHT_SQUARE_BRACKET?this.state=w.CDATA_SECTION_END:(this._emitChars("]"),this.state=w.CDATA_SECTION,this._stateCdataSection(t))}_stateCdataSectionEnd(t){switch(t){case M.GREATER_THAN_SIGN:{this.state=w.DATA;break}case M.RIGHT_SQUARE_BRACKET:{this._emitChars("]");break}default:this._emitChars("]]"),this.state=w.CDATA_SECTION,this._stateCdataSection(t)}}_stateCharacterReference(){let t=this.entityDecoder.write(this.preprocessor.html,this.preprocessor.pos);if(t<0)if(this.preprocessor.lastChunkWritten)t=this.entityDecoder.end();else{this.active=!1,this.preprocessor.pos=this.preprocessor.html.length-1,this.consumedAfterSnapshot=0,this.preprocessor.endOfChunkHit=!0;return}t===0?(this.preprocessor.pos=this.entityStartPos,this._flushCodePointConsumedAsCharacterReference(M.AMPERSAND),this.state=!this._isCharacterReferenceInAttribute()&&P1(this.preprocessor.peek(1))?w.AMBIGUOUS_AMPERSAND:this.returnState):this.state=this.returnState}_stateAmbiguousAmpersand(t){P1(t)?this._flushCodePointConsumedAsCharacterReference(t):(t===M.SEMICOLON&&this._err(ae.unknownNamedCharacterReference),this.state=this.returnState,this._callState(t))}}const tE=new Set([E.DD,E.DT,E.LI,E.OPTGROUP,E.OPTION,E.P,E.RB,E.RP,E.RT,E.RTC]),F1=new Set([...tE,E.CAPTION,E.COLGROUP,E.TBODY,E.TD,E.TFOOT,E.TH,E.THEAD,E.TR]),Su=new Set([E.APPLET,E.CAPTION,E.HTML,E.MARQUEE,E.OBJECT,E.TABLE,E.TD,E.TEMPLATE,E.TH]),jw=new Set([...Su,E.OL,E.UL]),Gw=new Set([...Su,E.BUTTON]),H1=new Set([E.ANNOTATION_XML,E.MI,E.MN,E.MO,E.MS,E.MTEXT]),U1=new Set([E.DESC,E.FOREIGN_OBJECT,E.TITLE]),qw=new Set([E.TR,E.TEMPLATE,E.HTML]),Yw=new Set([E.TBODY,E.TFOOT,E.THEAD,E.TEMPLATE,E.HTML]),Qw=new Set([E.TABLE,E.TEMPLATE,E.HTML]),Kw=new Set([E.TD,E.TH]);class $w{get currentTmplContentOrNode(){return this._isInTemplate()?this.treeAdapter.getTemplateContent(this.current):this.current}constructor(t,n,r){this.treeAdapter=n,this.handler=r,this.items=[],this.tagIDs=[],this.stackTop=-1,this.tmplCount=0,this.currentTagId=E.UNKNOWN,this.current=t}_indexOf(t){return this.items.lastIndexOf(t,this.stackTop)}_isInTemplate(){return this.currentTagId===E.TEMPLATE&&this.treeAdapter.getNamespaceURI(this.current)===fe.HTML}_updateCurrentElement(){this.current=this.items[this.stackTop],this.currentTagId=this.tagIDs[this.stackTop]}push(t,n){this.stackTop++,this.items[this.stackTop]=t,this.current=t,this.tagIDs[this.stackTop]=n,this.currentTagId=n,this._isInTemplate()&&this.tmplCount++,this.handler.onItemPush(t,n,!0)}pop(){const t=this.current;this.tmplCount>0&&this._isInTemplate()&&this.tmplCount--,this.stackTop--,this._updateCurrentElement(),this.handler.onItemPop(t,!0)}replace(t,n){const r=this._indexOf(t);this.items[r]=n,r===this.stackTop&&(this.current=n)}insertAfter(t,n,r){const o=this._indexOf(t)+1;this.items.splice(o,0,n),this.tagIDs.splice(o,0,r),this.stackTop++,o===this.stackTop&&this._updateCurrentElement(),this.current&&this.currentTagId!==void 0&&this.handler.onItemPush(this.current,this.currentTagId,o===this.stackTop)}popUntilTagNamePopped(t){let n=this.stackTop+1;do n=this.tagIDs.lastIndexOf(t,n-1);while(n>0&&this.treeAdapter.getNamespaceURI(this.items[n])!==fe.HTML);this.shortenToLength(Math.max(n,0))}shortenToLength(t){for(;this.stackTop>=t;){const n=this.current;this.tmplCount>0&&this._isInTemplate()&&(this.tmplCount-=1),this.stackTop--,this._updateCurrentElement(),this.handler.onItemPop(n,this.stackTop<t)}}popUntilElementPopped(t){const n=this._indexOf(t);this.shortenToLength(Math.max(n,0))}popUntilPopped(t,n){const r=this._indexOfTagNames(t,n);this.shortenToLength(Math.max(r,0))}popUntilNumberedHeaderPopped(){this.popUntilPopped(rm,fe.HTML)}popUntilTableCellPopped(){this.popUntilPopped(Kw,fe.HTML)}popAllUpToHtmlElement(){this.tmplCount=0,this.shortenToLength(1)}_indexOfTagNames(t,n){for(let r=this.stackTop;r>=0;r--)if(t.has(this.tagIDs[r])&&this.treeAdapter.getNamespaceURI(this.items[r])===n)return r;return-1}clearBackTo(t,n){const r=this._indexOfTagNames(t,n);this.shortenToLength(r+1)}clearBackToTableContext(){this.clearBackTo(Qw,fe.HTML)}clearBackToTableBodyContext(){this.clearBackTo(Yw,fe.HTML)}clearBackToTableRowContext(){this.clearBackTo(qw,fe.HTML)}remove(t){const n=this._indexOf(t);n>=0&&(n===this.stackTop?this.pop():(this.items.splice(n,1),this.tagIDs.splice(n,1),this.stackTop--,this._updateCurrentElement(),this.handler.onItemPop(t,!1)))}tryPeekProperlyNestedBodyElement(){return this.stackTop>=1&&this.tagIDs[1]===E.BODY?this.items[1]:null}contains(t){return this._indexOf(t)>-1}getCommonAncestor(t){const n=this._indexOf(t)-1;return n>=0?this.items[n]:null}isRootHtmlElementCurrent(){return this.stackTop===0&&this.tagIDs[0]===E.HTML}hasInDynamicScope(t,n){for(let r=this.stackTop;r>=0;r--){const o=this.tagIDs[r];switch(this.treeAdapter.getNamespaceURI(this.items[r])){case fe.HTML:{if(o===t)return!0;if(n.has(o))return!1;break}case fe.SVG:{if(U1.has(o))return!1;break}case fe.MATHML:{if(H1.has(o))return!1;break}}}return!0}hasInScope(t){return this.hasInDynamicScope(t,Su)}hasInListItemScope(t){return this.hasInDynamicScope(t,jw)}hasInButtonScope(t){return this.hasInDynamicScope(t,Gw)}hasNumberedHeaderInScope(){for(let t=this.stackTop;t>=0;t--){const n=this.tagIDs[t];switch(this.treeAdapter.getNamespaceURI(this.items[t])){case fe.HTML:{if(rm.has(n))return!0;if(Su.has(n))return!1;break}case fe.SVG:{if(U1.has(n))return!1;break}case fe.MATHML:{if(H1.has(n))return!1;break}}}return!0}hasInTableScope(t){for(let n=this.stackTop;n>=0;n--)if(this.treeAdapter.getNamespaceURI(this.items[n])===fe.HTML)switch(this.tagIDs[n]){case t:return!0;case E.TABLE:case E.HTML:return!1}return!0}hasTableBodyContextInTableScope(){for(let t=this.stackTop;t>=0;t--)if(this.treeAdapter.getNamespaceURI(this.items[t])===fe.HTML)switch(this.tagIDs[t]){case E.TBODY:case E.THEAD:case E.TFOOT:return!0;case E.TABLE:case E.HTML:return!1}return!0}hasInSelectScope(t){for(let n=this.stackTop;n>=0;n--)if(this.treeAdapter.getNamespaceURI(this.items[n])===fe.HTML)switch(this.tagIDs[n]){case t:return!0;case E.OPTION:case E.OPTGROUP:break;default:return!1}return!0}generateImpliedEndTags(){for(;this.currentTagId!==void 0&&tE.has(this.currentTagId);)this.pop()}generateImpliedEndTagsThoroughly(){for(;this.currentTagId!==void 0&&F1.has(this.currentTagId);)this.pop()}generateImpliedEndTagsWithExclusion(t){for(;this.currentTagId!==void 0&&this.currentTagId!==t&&F1.has(this.currentTagId);)this.pop()}}const Mf=3;var sa;(function(e){e[e.Marker=0]="Marker",e[e.Element=1]="Element"})(sa||(sa={}));const V1={type:sa.Marker};class Xw{constructor(t){this.treeAdapter=t,this.entries=[],this.bookmark=null}_getNoahArkConditionCandidates(t,n){const r=[],o=n.length,l=this.treeAdapter.getTagName(t),u=this.treeAdapter.getNamespaceURI(t);for(let f=0;f<this.entries.length;f++){const m=this.entries[f];if(m.type===sa.Marker)break;const{element:d}=m;if(this.treeAdapter.getTagName(d)===l&&this.treeAdapter.getNamespaceURI(d)===u){const g=this.treeAdapter.getAttrList(d);g.length===o&&r.push({idx:f,attrs:g})}}return r}_ensureNoahArkCondition(t){if(this.entries.length<Mf)return;const n=this.treeAdapter.getAttrList(t),r=this._getNoahArkConditionCandidates(t,n);if(r.length<Mf)return;const o=new Map(n.map(u=>[u.name,u.value]));let l=0;for(let u=0;u<r.length;u++){const f=r[u];f.attrs.every(m=>o.get(m.name)===m.value)&&(l+=1,l>=Mf&&this.entries.splice(f.idx,1))}}insertMarker(){this.entries.unshift(V1)}pushElement(t,n){this._ensureNoahArkCondition(t),this.entries.unshift({type:sa.Element,element:t,token:n})}insertElementAfterBookmark(t,n){const r=this.entries.indexOf(this.bookmark);this.entries.splice(r,0,{type:sa.Element,element:t,token:n})}removeEntry(t){const n=this.entries.indexOf(t);n!==-1&&this.entries.splice(n,1)}clearToLastMarker(){const t=this.entries.indexOf(V1);t===-1?this.entries.length=0:this.entries.splice(0,t+1)}getElementEntryInScopeWithTagName(t){const n=this.entries.find(r=>r.type===sa.Marker||this.treeAdapter.getTagName(r.element)===t);return n&&n.type===sa.Element?n:null}getElementEntry(t){return this.entries.find(n=>n.type===sa.Element&&n.element===t)}}const ii={createDocument(){return{nodeName:"#document",mode:Vn.NO_QUIRKS,childNodes:[]}},createDocumentFragment(){return{nodeName:"#document-fragment",childNodes:[]}},createElement(e,t,n){return{nodeName:e,tagName:e,attrs:n,namespaceURI:t,childNodes:[],parentNode:null}},createCommentNode(e){return{nodeName:"#comment",data:e,parentNode:null}},createTextNode(e){return{nodeName:"#text",value:e,parentNode:null}},appendChild(e,t){e.childNodes.push(t),t.parentNode=e},insertBefore(e,t,n){const r=e.childNodes.indexOf(n);e.childNodes.splice(r,0,t),t.parentNode=e},setTemplateContent(e,t){e.content=t},getTemplateContent(e){return e.content},setDocumentType(e,t,n,r){const o=e.childNodes.find(l=>l.nodeName==="#documentType");if(o)o.name=t,o.publicId=n,o.systemId=r;else{const l={nodeName:"#documentType",name:t,publicId:n,systemId:r,parentNode:null};ii.appendChild(e,l)}},setDocumentMode(e,t){e.mode=t},getDocumentMode(e){return e.mode},detachNode(e){if(e.parentNode){const t=e.parentNode.childNodes.indexOf(e);e.parentNode.childNodes.splice(t,1),e.parentNode=null}},insertText(e,t){if(e.childNodes.length>0){const n=e.childNodes[e.childNodes.length-1];if(ii.isTextNode(n)){n.value+=t;return}}ii.appendChild(e,ii.createTextNode(t))},insertTextBefore(e,t,n){const r=e.childNodes[e.childNodes.indexOf(n)-1];r&&ii.isTextNode(r)?r.value+=t:ii.insertBefore(e,ii.createTextNode(t),n)},adoptAttributes(e,t){const n=new Set(e.attrs.map(r=>r.name));for(let r=0;r<t.length;r++)n.has(t[r].name)||e.attrs.push(t[r])},getFirstChild(e){return e.childNodes[0]},getChildNodes(e){return e.childNodes},getParentNode(e){return e.parentNode},getAttrList(e){return e.attrs},getTagName(e){return e.tagName},getNamespaceURI(e){return e.namespaceURI},getTextNodeContent(e){return e.value},getCommentNodeContent(e){return e.data},getDocumentTypeNodeName(e){return e.name},getDocumentTypeNodePublicId(e){return e.publicId},getDocumentTypeNodeSystemId(e){return e.systemId},isTextNode(e){return e.nodeName==="#text"},isCommentNode(e){return e.nodeName==="#comment"},isDocumentTypeNode(e){return e.nodeName==="#documentType"},isElementNode(e){return Object.prototype.hasOwnProperty.call(e,"tagName")},setNodeSourceCodeLocation(e,t){e.sourceCodeLocation=t},getNodeSourceCodeLocation(e){return e.sourceCodeLocation},updateNodeSourceCodeLocation(e,t){e.sourceCodeLocation={...e.sourceCodeLocation,...t}}},nE="html",Ww="about:legacy-compat",Jw="http://www.ibm.com/data/dtd/v11/ibmxhtml1-transitional.dtd",aE=["+//silmaril//dtd html pro v0r11 19970101//","-//as//dtd html 3.0 aswedit + extensions//","-//advasoft ltd//dtd html 3.0 aswedit + extensions//","-//ietf//dtd html 2.0 level 1//","-//ietf//dtd html 2.0 level 2//","-//ietf//dtd html 2.0 strict level 1//","-//ietf//dtd html 2.0 strict level 2//","-//ietf//dtd html 2.0 strict//","-//ietf//dtd html 2.0//","-//ietf//dtd html 2.1e//","-//ietf//dtd html 3.0//","-//ietf//dtd html 3.2 final//","-//ietf//dtd html 3.2//","-//ietf//dtd html 3//","-//ietf//dtd html level 0//","-//ietf//dtd html level 1//","-//ietf//dtd html level 2//","-//ietf//dtd html level 3//","-//ietf//dtd html strict level 0//","-//ietf//dtd html strict level 1//","-//ietf//dtd html strict level 2//","-//ietf//dtd html strict level 3//","-//ietf//dtd html strict//","-//ietf//dtd html//","-//metrius//dtd metrius presentational//","-//microsoft//dtd internet explorer 2.0 html strict//","-//microsoft//dtd internet explorer 2.0 html//","-//microsoft//dtd internet explorer 2.0 tables//","-//microsoft//dtd internet explorer 3.0 html strict//","-//microsoft//dtd internet explorer 3.0 html//","-//microsoft//dtd internet explorer 3.0 tables//","-//netscape comm. corp.//dtd html//","-//netscape comm. corp.//dtd strict html//","-//o'reilly and associates//dtd html 2.0//","-//o'reilly and associates//dtd html extended 1.0//","-//o'reilly and associates//dtd html extended relaxed 1.0//","-//sq//dtd html 2.0 hotmetal + extensions//","-//softquad software//dtd hotmetal pro 6.0::19990601::extensions to html 4.0//","-//softquad//dtd hotmetal pro 4.0::19971010::extensions to html 4.0//","-//spyglass//dtd html 2.0 extended//","-//sun microsystems corp.//dtd hotjava html//","-//sun microsystems corp.//dtd hotjava strict html//","-//w3c//dtd html 3 1995-03-24//","-//w3c//dtd html 3.2 draft//","-//w3c//dtd html 3.2 final//","-//w3c//dtd html 3.2//","-//w3c//dtd html 3.2s draft//","-//w3c//dtd html 4.0 frameset//","-//w3c//dtd html 4.0 transitional//","-//w3c//dtd html experimental 19960712//","-//w3c//dtd html experimental 970421//","-//w3c//dtd w3 html//","-//w3o//dtd w3 html 3.0//","-//webtechs//dtd mozilla html 2.0//","-//webtechs//dtd mozilla html//"],Zw=[...aE,"-//w3c//dtd html 4.01 frameset//","-//w3c//dtd html 4.01 transitional//"],e4=new Set(["-//w3o//dtd w3 html strict 3.0//en//","-/w3c/dtd html 4.0 transitional/en","html"]),iE=["-//w3c//dtd xhtml 1.0 frameset//","-//w3c//dtd xhtml 1.0 transitional//"],t4=[...iE,"-//w3c//dtd html 4.01 frameset//","-//w3c//dtd html 4.01 transitional//"];function z1(e,t){return t.some(n=>e.startsWith(n))}function n4(e){return e.name===nE&&e.publicId===null&&(e.systemId===null||e.systemId===Ww)}function a4(e){if(e.name!==nE)return Vn.QUIRKS;const{systemId:t}=e;if(t&&t.toLowerCase()===Jw)return Vn.QUIRKS;let{publicId:n}=e;if(n!==null){if(n=n.toLowerCase(),e4.has(n))return Vn.QUIRKS;let r=t===null?Zw:aE;if(z1(n,r))return Vn.QUIRKS;if(r=t===null?iE:t4,z1(n,r))return Vn.LIMITED_QUIRKS}return Vn.NO_QUIRKS}const j1={TEXT_HTML:"text/html",APPLICATION_XML:"application/xhtml+xml"},i4="definitionurl",r4="definitionURL",o4=new Map(["attributeName","attributeType","baseFrequency","baseProfile","calcMode","clipPathUnits","diffuseConstant","edgeMode","filterUnits","glyphRef","gradientTransform","gradientUnits","kernelMatrix","kernelUnitLength","keyPoints","keySplines","keyTimes","lengthAdjust","limitingConeAngle","markerHeight","markerUnits","markerWidth","maskContentUnits","maskUnits","numOctaves","pathLength","patternContentUnits","patternTransform","patternUnits","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","refX","refY","repeatCount","repeatDur","requiredExtensions","requiredFeatures","specularConstant","specularExponent","spreadMethod","startOffset","stdDeviation","stitchTiles","surfaceScale","systemLanguage","tableValues","targetX","targetY","textLength","viewBox","viewTarget","xChannelSelector","yChannelSelector","zoomAndPan"].map(e=>[e.toLowerCase(),e])),s4=new Map([["xlink:actuate",{prefix:"xlink",name:"actuate",namespace:fe.XLINK}],["xlink:arcrole",{prefix:"xlink",name:"arcrole",namespace:fe.XLINK}],["xlink:href",{prefix:"xlink",name:"href",namespace:fe.XLINK}],["xlink:role",{prefix:"xlink",name:"role",namespace:fe.XLINK}],["xlink:show",{prefix:"xlink",name:"show",namespace:fe.XLINK}],["xlink:title",{prefix:"xlink",name:"title",namespace:fe.XLINK}],["xlink:type",{prefix:"xlink",name:"type",namespace:fe.XLINK}],["xml:lang",{prefix:"xml",name:"lang",namespace:fe.XML}],["xml:space",{prefix:"xml",name:"space",namespace:fe.XML}],["xmlns",{prefix:"",name:"xmlns",namespace:fe.XMLNS}],["xmlns:xlink",{prefix:"xmlns",name:"xlink",namespace:fe.XMLNS}]]),l4=new Map(["altGlyph","altGlyphDef","altGlyphItem","animateColor","animateMotion","animateTransform","clipPath","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","foreignObject","glyphRef","linearGradient","radialGradient","textPath"].map(e=>[e.toLowerCase(),e])),u4=new Set([E.B,E.BIG,E.BLOCKQUOTE,E.BODY,E.BR,E.CENTER,E.CODE,E.DD,E.DIV,E.DL,E.DT,E.EM,E.EMBED,E.H1,E.H2,E.H3,E.H4,E.H5,E.H6,E.HEAD,E.HR,E.I,E.IMG,E.LI,E.LISTING,E.MENU,E.META,E.NOBR,E.OL,E.P,E.PRE,E.RUBY,E.S,E.SMALL,E.SPAN,E.STRONG,E.STRIKE,E.SUB,E.SUP,E.TABLE,E.TT,E.U,E.UL,E.VAR]);function c4(e){const t=e.tagID;return t===E.FONT&&e.attrs.some(({name:r})=>r===Vi.COLOR||r===Vi.SIZE||r===Vi.FACE)||u4.has(t)}function rE(e){for(let t=0;t<e.attrs.length;t++)if(e.attrs[t].name===i4){e.attrs[t].name=r4;break}}function oE(e){for(let t=0;t<e.attrs.length;t++){const n=o4.get(e.attrs[t].name);n!=null&&(e.attrs[t].name=n)}}function km(e){for(let t=0;t<e.attrs.length;t++){const n=s4.get(e.attrs[t].name);n&&(e.attrs[t].prefix=n.prefix,e.attrs[t].name=n.name,e.attrs[t].namespace=n.namespace)}}function d4(e){const t=l4.get(e.tagName);t!=null&&(e.tagName=t,e.tagID=eo(e.tagName))}function f4(e,t){return t===fe.MATHML&&(e===E.MI||e===E.MO||e===E.MN||e===E.MS||e===E.MTEXT)}function m4(e,t,n){if(t===fe.MATHML&&e===E.ANNOTATION_XML){for(let r=0;r<n.length;r++)if(n[r].name===Vi.ENCODING){const o=n[r].value.toLowerCase();return o===j1.TEXT_HTML||o===j1.APPLICATION_XML}}return t===fe.SVG&&(e===E.FOREIGN_OBJECT||e===E.DESC||e===E.TITLE)}function h4(e,t,n,r){return(!r||r===fe.HTML)&&m4(e,t,n)||(!r||r===fe.MATHML)&&f4(e,t)}const p4="hidden",g4=8,y4=3;var O;(function(e){e[e.INITIAL=0]="INITIAL",e[e.BEFORE_HTML=1]="BEFORE_HTML",e[e.BEFORE_HEAD=2]="BEFORE_HEAD",e[e.IN_HEAD=3]="IN_HEAD",e[e.IN_HEAD_NO_SCRIPT=4]="IN_HEAD_NO_SCRIPT",e[e.AFTER_HEAD=5]="AFTER_HEAD",e[e.IN_BODY=6]="IN_BODY",e[e.TEXT=7]="TEXT",e[e.IN_TABLE=8]="IN_TABLE",e[e.IN_TABLE_TEXT=9]="IN_TABLE_TEXT",e[e.IN_CAPTION=10]="IN_CAPTION",e[e.IN_COLUMN_GROUP=11]="IN_COLUMN_GROUP",e[e.IN_TABLE_BODY=12]="IN_TABLE_BODY",e[e.IN_ROW=13]="IN_ROW",e[e.IN_CELL=14]="IN_CELL",e[e.IN_SELECT=15]="IN_SELECT",e[e.IN_SELECT_IN_TABLE=16]="IN_SELECT_IN_TABLE",e[e.IN_TEMPLATE=17]="IN_TEMPLATE",e[e.AFTER_BODY=18]="AFTER_BODY",e[e.IN_FRAMESET=19]="IN_FRAMESET",e[e.AFTER_FRAMESET=20]="AFTER_FRAMESET",e[e.AFTER_AFTER_BODY=21]="AFTER_AFTER_BODY",e[e.AFTER_AFTER_FRAMESET=22]="AFTER_AFTER_FRAMESET"})(O||(O={}));const b4={startLine:-1,startCol:-1,startOffset:-1,endLine:-1,endCol:-1,endOffset:-1},sE=new Set([E.TABLE,E.TBODY,E.TFOOT,E.THEAD,E.TR]),G1={scriptingEnabled:!0,sourceCodeLocationInfo:!1,treeAdapter:ii,onParseError:null};class q1{constructor(t,n,r=null,o=null){this.fragmentContext=r,this.scriptHandler=o,this.currentToken=null,this.stopped=!1,this.insertionMode=O.INITIAL,this.originalInsertionMode=O.INITIAL,this.headElement=null,this.formElement=null,this.currentNotInHTML=!1,this.tmplInsertionModeStack=[],this.pendingCharacterTokens=[],this.hasNonWhitespacePendingCharacterToken=!1,this.framesetOk=!0,this.skipNextNewLine=!1,this.fosterParentingEnabled=!1,this.options={...G1,...t},this.treeAdapter=this.options.treeAdapter,this.onParseError=this.options.onParseError,this.onParseError&&(this.options.sourceCodeLocationInfo=!0),this.document=n??this.treeAdapter.createDocument(),this.tokenizer=new zw(this.options,this),this.activeFormattingElements=new Xw(this.treeAdapter),this.fragmentContextID=r?eo(this.treeAdapter.getTagName(r)):E.UNKNOWN,this._setContextModes(r??this.document,this.fragmentContextID),this.openElements=new $w(this.document,this.treeAdapter,this)}static parse(t,n){const r=new this(n);return r.tokenizer.write(t,!0),r.document}static getFragmentParser(t,n){const r={...G1,...n};t??(t=r.treeAdapter.createElement(J.TEMPLATE,fe.HTML,[]));const o=r.treeAdapter.createElement("documentmock",fe.HTML,[]),l=new this(r,o,t);return l.fragmentContextID===E.TEMPLATE&&l.tmplInsertionModeStack.unshift(O.IN_TEMPLATE),l._initTokenizerForFragmentParsing(),l._insertFakeRootElement(),l._resetInsertionMode(),l._findFormInFragmentContext(),l}getFragment(){const t=this.treeAdapter.getFirstChild(this.document),n=this.treeAdapter.createDocumentFragment();return this._adoptNodes(t,n),n}_err(t,n,r){var o;if(!this.onParseError)return;const l=(o=t.location)!==null&&o!==void 0?o:b4,u={code:n,startLine:l.startLine,startCol:l.startCol,startOffset:l.startOffset,endLine:r?l.startLine:l.endLine,endCol:r?l.startCol:l.endCol,endOffset:r?l.startOffset:l.endOffset};this.onParseError(u)}onItemPush(t,n,r){var o,l;(l=(o=this.treeAdapter).onItemPush)===null||l===void 0||l.call(o,t),r&&this.openElements.stackTop>0&&this._setContextModes(t,n)}onItemPop(t,n){var r,o;if(this.options.sourceCodeLocationInfo&&this._setEndLocation(t,this.currentToken),(o=(r=this.treeAdapter).onItemPop)===null||o===void 0||o.call(r,t,this.openElements.current),n){let l,u;this.openElements.stackTop===0&&this.fragmentContext?(l=this.fragmentContext,u=this.fragmentContextID):{current:l,currentTagId:u}=this.openElements,this._setContextModes(l,u)}}_setContextModes(t,n){const r=t===this.document||t&&this.treeAdapter.getNamespaceURI(t)===fe.HTML;this.currentNotInHTML=!r,this.tokenizer.inForeignNode=!r&&t!==void 0&&n!==void 0&&!this._isIntegrationPoint(n,t)}_switchToTextParsing(t,n){this._insertElement(t,fe.HTML),this.tokenizer.state=n,this.originalInsertionMode=this.insertionMode,this.insertionMode=O.TEXT}switchToPlaintextParsing(){this.insertionMode=O.TEXT,this.originalInsertionMode=O.IN_BODY,this.tokenizer.state=Mt.PLAINTEXT}_getAdjustedCurrentElement(){return this.openElements.stackTop===0&&this.fragmentContext?this.fragmentContext:this.openElements.current}_findFormInFragmentContext(){let t=this.fragmentContext;for(;t;){if(this.treeAdapter.getTagName(t)===J.FORM){this.formElement=t;break}t=this.treeAdapter.getParentNode(t)}}_initTokenizerForFragmentParsing(){if(!(!this.fragmentContext||this.treeAdapter.getNamespaceURI(this.fragmentContext)!==fe.HTML))switch(this.fragmentContextID){case E.TITLE:case E.TEXTAREA:{this.tokenizer.state=Mt.RCDATA;break}case E.STYLE:case E.XMP:case E.IFRAME:case E.NOEMBED:case E.NOFRAMES:case E.NOSCRIPT:{this.tokenizer.state=Mt.RAWTEXT;break}case E.SCRIPT:{this.tokenizer.state=Mt.SCRIPT_DATA;break}case E.PLAINTEXT:{this.tokenizer.state=Mt.PLAINTEXT;break}}}_setDocumentType(t){const n=t.name||"",r=t.publicId||"",o=t.systemId||"";if(this.treeAdapter.setDocumentType(this.document,n,r,o),t.location){const u=this.treeAdapter.getChildNodes(this.document).find(f=>this.treeAdapter.isDocumentTypeNode(f));u&&this.treeAdapter.setNodeSourceCodeLocation(u,t.location)}}_attachElementToTree(t,n){if(this.options.sourceCodeLocationInfo){const r=n&&{...n,startTag:n};this.treeAdapter.setNodeSourceCodeLocation(t,r)}if(this._shouldFosterParentOnInsertion())this._fosterParentElement(t);else{const r=this.openElements.currentTmplContentOrNode;this.treeAdapter.appendChild(r??this.document,t)}}_appendElement(t,n){const r=this.treeAdapter.createElement(t.tagName,n,t.attrs);this._attachElementToTree(r,t.location)}_insertElement(t,n){const r=this.treeAdapter.createElement(t.tagName,n,t.attrs);this._attachElementToTree(r,t.location),this.openElements.push(r,t.tagID)}_insertFakeElement(t,n){const r=this.treeAdapter.createElement(t,fe.HTML,[]);this._attachElementToTree(r,null),this.openElements.push(r,n)}_insertTemplate(t){const n=this.treeAdapter.createElement(t.tagName,fe.HTML,t.attrs),r=this.treeAdapter.createDocumentFragment();this.treeAdapter.setTemplateContent(n,r),this._attachElementToTree(n,t.location),this.openElements.push(n,t.tagID),this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(r,null)}_insertFakeRootElement(){const t=this.treeAdapter.createElement(J.HTML,fe.HTML,[]);this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(t,null),this.treeAdapter.appendChild(this.openElements.current,t),this.openElements.push(t,E.HTML)}_appendCommentNode(t,n){const r=this.treeAdapter.createCommentNode(t.data);this.treeAdapter.appendChild(n,r),this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(r,t.location)}_insertCharacters(t){let n,r;if(this._shouldFosterParentOnInsertion()?({parent:n,beforeElement:r}=this._findFosterParentingLocation(),r?this.treeAdapter.insertTextBefore(n,t.chars,r):this.treeAdapter.insertText(n,t.chars)):(n=this.openElements.currentTmplContentOrNode,this.treeAdapter.insertText(n,t.chars)),!t.location)return;const o=this.treeAdapter.getChildNodes(n),l=r?o.lastIndexOf(r):o.length,u=o[l-1];if(this.treeAdapter.getNodeSourceCodeLocation(u)){const{endLine:m,endCol:d,endOffset:g}=t.location;this.treeAdapter.updateNodeSourceCodeLocation(u,{endLine:m,endCol:d,endOffset:g})}else this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(u,t.location)}_adoptNodes(t,n){for(let r=this.treeAdapter.getFirstChild(t);r;r=this.treeAdapter.getFirstChild(t))this.treeAdapter.detachNode(r),this.treeAdapter.appendChild(n,r)}_setEndLocation(t,n){if(this.treeAdapter.getNodeSourceCodeLocation(t)&&n.location){const r=n.location,o=this.treeAdapter.getTagName(t),l=n.type===We.END_TAG&&o===n.tagName?{endTag:{...r},endLine:r.endLine,endCol:r.endCol,endOffset:r.endOffset}:{endLine:r.startLine,endCol:r.startCol,endOffset:r.startOffset};this.treeAdapter.updateNodeSourceCodeLocation(t,l)}}shouldProcessStartTagTokenInForeignContent(t){if(!this.currentNotInHTML)return!1;let n,r;return this.openElements.stackTop===0&&this.fragmentContext?(n=this.fragmentContext,r=this.fragmentContextID):{current:n,currentTagId:r}=this.openElements,t.tagID===E.SVG&&this.treeAdapter.getTagName(n)===J.ANNOTATION_XML&&this.treeAdapter.getNamespaceURI(n)===fe.MATHML?!1:this.tokenizer.inForeignNode||(t.tagID===E.MGLYPH||t.tagID===E.MALIGNMARK)&&r!==void 0&&!this._isIntegrationPoint(r,n,fe.HTML)}_processToken(t){switch(t.type){case We.CHARACTER:{this.onCharacter(t);break}case We.NULL_CHARACTER:{this.onNullCharacter(t);break}case We.COMMENT:{this.onComment(t);break}case We.DOCTYPE:{this.onDoctype(t);break}case We.START_TAG:{this._processStartTag(t);break}case We.END_TAG:{this.onEndTag(t);break}case We.EOF:{this.onEof(t);break}case We.WHITESPACE_CHARACTER:{this.onWhitespaceCharacter(t);break}}}_isIntegrationPoint(t,n,r){const o=this.treeAdapter.getNamespaceURI(n),l=this.treeAdapter.getAttrList(n);return h4(t,o,l,r)}_reconstructActiveFormattingElements(){const t=this.activeFormattingElements.entries.length;if(t){const n=this.activeFormattingElements.entries.findIndex(o=>o.type===sa.Marker||this.openElements.contains(o.element)),r=n===-1?t-1:n-1;for(let o=r;o>=0;o--){const l=this.activeFormattingElements.entries[o];this._insertElement(l.token,this.treeAdapter.getNamespaceURI(l.element)),l.element=this.openElements.current}}}_closeTableCell(){this.openElements.generateImpliedEndTags(),this.openElements.popUntilTableCellPopped(),this.activeFormattingElements.clearToLastMarker(),this.insertionMode=O.IN_ROW}_closePElement(){this.openElements.generateImpliedEndTagsWithExclusion(E.P),this.openElements.popUntilTagNamePopped(E.P)}_resetInsertionMode(){for(let t=this.openElements.stackTop;t>=0;t--)switch(t===0&&this.fragmentContext?this.fragmentContextID:this.openElements.tagIDs[t]){case E.TR:{this.insertionMode=O.IN_ROW;return}case E.TBODY:case E.THEAD:case E.TFOOT:{this.insertionMode=O.IN_TABLE_BODY;return}case E.CAPTION:{this.insertionMode=O.IN_CAPTION;return}case E.COLGROUP:{this.insertionMode=O.IN_COLUMN_GROUP;return}case E.TABLE:{this.insertionMode=O.IN_TABLE;return}case E.BODY:{this.insertionMode=O.IN_BODY;return}case E.FRAMESET:{this.insertionMode=O.IN_FRAMESET;return}case E.SELECT:{this._resetInsertionModeForSelect(t);return}case E.TEMPLATE:{this.insertionMode=this.tmplInsertionModeStack[0];return}case E.HTML:{this.insertionMode=this.headElement?O.AFTER_HEAD:O.BEFORE_HEAD;return}case E.TD:case E.TH:{if(t>0){this.insertionMode=O.IN_CELL;return}break}case E.HEAD:{if(t>0){this.insertionMode=O.IN_HEAD;return}break}}this.insertionMode=O.IN_BODY}_resetInsertionModeForSelect(t){if(t>0)for(let n=t-1;n>0;n--){const r=this.openElements.tagIDs[n];if(r===E.TEMPLATE)break;if(r===E.TABLE){this.insertionMode=O.IN_SELECT_IN_TABLE;return}}this.insertionMode=O.IN_SELECT}_isElementCausesFosterParenting(t){return sE.has(t)}_shouldFosterParentOnInsertion(){return this.fosterParentingEnabled&&this.openElements.currentTagId!==void 0&&this._isElementCausesFosterParenting(this.openElements.currentTagId)}_findFosterParentingLocation(){for(let t=this.openElements.stackTop;t>=0;t--){const n=this.openElements.items[t];switch(this.openElements.tagIDs[t]){case E.TEMPLATE:{if(this.treeAdapter.getNamespaceURI(n)===fe.HTML)return{parent:this.treeAdapter.getTemplateContent(n),beforeElement:null};break}case E.TABLE:{const r=this.treeAdapter.getParentNode(n);return r?{parent:r,beforeElement:n}:{parent:this.openElements.items[t-1],beforeElement:null}}}}return{parent:this.openElements.items[0],beforeElement:null}}_fosterParentElement(t){const n=this._findFosterParentingLocation();n.beforeElement?this.treeAdapter.insertBefore(n.parent,t,n.beforeElement):this.treeAdapter.appendChild(n.parent,t)}_isSpecialElement(t,n){const r=this.treeAdapter.getNamespaceURI(t);return Fw[r].has(n)}onCharacter(t){if(this.skipNextNewLine=!1,this.tokenizer.inForeignNode){K6(this,t);return}switch(this.insertionMode){case O.INITIAL:{ss(this,t);break}case O.BEFORE_HTML:{gs(this,t);break}case O.BEFORE_HEAD:{ys(this,t);break}case O.IN_HEAD:{bs(this,t);break}case O.IN_HEAD_NO_SCRIPT:{Ts(this,t);break}case O.AFTER_HEAD:{Es(this,t);break}case O.IN_BODY:case O.IN_CAPTION:case O.IN_CELL:case O.IN_TEMPLATE:{uE(this,t);break}case O.TEXT:case O.IN_SELECT:case O.IN_SELECT_IN_TABLE:{this._insertCharacters(t);break}case O.IN_TABLE:case O.IN_TABLE_BODY:case O.IN_ROW:{Df(this,t);break}case O.IN_TABLE_TEXT:{pE(this,t);break}case O.IN_COLUMN_GROUP:{Au(this,t);break}case O.AFTER_BODY:{_u(this,t);break}case O.AFTER_AFTER_BODY:{gu(this,t);break}}}onNullCharacter(t){if(this.skipNextNewLine=!1,this.tokenizer.inForeignNode){Q6(this,t);return}switch(this.insertionMode){case O.INITIAL:{ss(this,t);break}case O.BEFORE_HTML:{gs(this,t);break}case O.BEFORE_HEAD:{ys(this,t);break}case O.IN_HEAD:{bs(this,t);break}case O.IN_HEAD_NO_SCRIPT:{Ts(this,t);break}case O.AFTER_HEAD:{Es(this,t);break}case O.TEXT:{this._insertCharacters(t);break}case O.IN_TABLE:case O.IN_TABLE_BODY:case O.IN_ROW:{Df(this,t);break}case O.IN_COLUMN_GROUP:{Au(this,t);break}case O.AFTER_BODY:{_u(this,t);break}case O.AFTER_AFTER_BODY:{gu(this,t);break}}}onComment(t){if(this.skipNextNewLine=!1,this.currentNotInHTML){om(this,t);return}switch(this.insertionMode){case O.INITIAL:case O.BEFORE_HTML:case O.BEFORE_HEAD:case O.IN_HEAD:case O.IN_HEAD_NO_SCRIPT:case O.AFTER_HEAD:case O.IN_BODY:case O.IN_TABLE:case O.IN_CAPTION:case O.IN_COLUMN_GROUP:case O.IN_TABLE_BODY:case O.IN_ROW:case O.IN_CELL:case O.IN_SELECT:case O.IN_SELECT_IN_TABLE:case O.IN_TEMPLATE:case O.IN_FRAMESET:case O.AFTER_FRAMESET:{om(this,t);break}case O.IN_TABLE_TEXT:{ls(this,t);break}case O.AFTER_BODY:{A4(this,t);break}case O.AFTER_AFTER_BODY:case O.AFTER_AFTER_FRAMESET:{_4(this,t);break}}}onDoctype(t){switch(this.skipNextNewLine=!1,this.insertionMode){case O.INITIAL:{I4(this,t);break}case O.BEFORE_HEAD:case O.IN_HEAD:case O.IN_HEAD_NO_SCRIPT:case O.AFTER_HEAD:{this._err(t,ae.misplacedDoctype);break}case O.IN_TABLE_TEXT:{ls(this,t);break}}}onStartTag(t){this.skipNextNewLine=!1,this.currentToken=t,this._processStartTag(t),t.selfClosing&&!t.ackSelfClosing&&this._err(t,ae.nonVoidHtmlElementStartTagWithTrailingSolidus)}_processStartTag(t){this.shouldProcessStartTagTokenInForeignContent(t)?$6(this,t):this._startTagOutsideForeignContent(t)}_startTagOutsideForeignContent(t){switch(this.insertionMode){case O.INITIAL:{ss(this,t);break}case O.BEFORE_HTML:{N4(this,t);break}case O.BEFORE_HEAD:{D4(this,t);break}case O.IN_HEAD:{Zn(this,t);break}case O.IN_HEAD_NO_SCRIPT:{w4(this,t);break}case O.AFTER_HEAD:{O4(this,t);break}case O.IN_BODY:{en(this,t);break}case O.IN_TABLE:{Yr(this,t);break}case O.IN_TABLE_TEXT:{ls(this,t);break}case O.IN_CAPTION:{R6(this,t);break}case O.IN_COLUMN_GROUP:{Om(this,t);break}case O.IN_TABLE_BODY:{Gu(this,t);break}case O.IN_ROW:{qu(this,t);break}case O.IN_CELL:{L6(this,t);break}case O.IN_SELECT:{bE(this,t);break}case O.IN_SELECT_IN_TABLE:{P6(this,t);break}case O.IN_TEMPLATE:{F6(this,t);break}case O.AFTER_BODY:{U6(this,t);break}case O.IN_FRAMESET:{V6(this,t);break}case O.AFTER_FRAMESET:{j6(this,t);break}case O.AFTER_AFTER_BODY:{q6(this,t);break}case O.AFTER_AFTER_FRAMESET:{Y6(this,t);break}}}onEndTag(t){this.skipNextNewLine=!1,this.currentToken=t,this.currentNotInHTML?X6(this,t):this._endTagOutsideForeignContent(t)}_endTagOutsideForeignContent(t){switch(this.insertionMode){case O.INITIAL:{ss(this,t);break}case O.BEFORE_HTML:{M4(this,t);break}case O.BEFORE_HEAD:{R4(this,t);break}case O.IN_HEAD:{k4(this,t);break}case O.IN_HEAD_NO_SCRIPT:{L4(this,t);break}case O.AFTER_HEAD:{P4(this,t);break}case O.IN_BODY:{ju(this,t);break}case O.TEXT:{x6(this,t);break}case O.IN_TABLE:{Ns(this,t);break}case O.IN_TABLE_TEXT:{ls(this,t);break}case O.IN_CAPTION:{k6(this,t);break}case O.IN_COLUMN_GROUP:{w6(this,t);break}case O.IN_TABLE_BODY:{sm(this,t);break}case O.IN_ROW:{yE(this,t);break}case O.IN_CELL:{O6(this,t);break}case O.IN_SELECT:{TE(this,t);break}case O.IN_SELECT_IN_TABLE:{B6(this,t);break}case O.IN_TEMPLATE:{H6(this,t);break}case O.AFTER_BODY:{xE(this,t);break}case O.IN_FRAMESET:{z6(this,t);break}case O.AFTER_FRAMESET:{G6(this,t);break}case O.AFTER_AFTER_BODY:{gu(this,t);break}}}onEof(t){switch(this.insertionMode){case O.INITIAL:{ss(this,t);break}case O.BEFORE_HTML:{gs(this,t);break}case O.BEFORE_HEAD:{ys(this,t);break}case O.IN_HEAD:{bs(this,t);break}case O.IN_HEAD_NO_SCRIPT:{Ts(this,t);break}case O.AFTER_HEAD:{Es(this,t);break}case O.IN_BODY:case O.IN_TABLE:case O.IN_CAPTION:case O.IN_COLUMN_GROUP:case O.IN_TABLE_BODY:case O.IN_ROW:case O.IN_CELL:case O.IN_SELECT:case O.IN_SELECT_IN_TABLE:{mE(this,t);break}case O.TEXT:{v6(this,t);break}case O.IN_TABLE_TEXT:{ls(this,t);break}case O.IN_TEMPLATE:{EE(this,t);break}case O.AFTER_BODY:case O.IN_FRAMESET:case O.AFTER_FRAMESET:case O.AFTER_AFTER_BODY:case O.AFTER_AFTER_FRAMESET:{Lm(this,t);break}}}onWhitespaceCharacter(t){if(this.skipNextNewLine&&(this.skipNextNewLine=!1,t.chars.charCodeAt(0)===M.LINE_FEED)){if(t.chars.length===1)return;t.chars=t.chars.substr(1)}if(this.tokenizer.inForeignNode){this._insertCharacters(t);return}switch(this.insertionMode){case O.IN_HEAD:case O.IN_HEAD_NO_SCRIPT:case O.AFTER_HEAD:case O.TEXT:case O.IN_COLUMN_GROUP:case O.IN_SELECT:case O.IN_SELECT_IN_TABLE:case O.IN_FRAMESET:case O.AFTER_FRAMESET:{this._insertCharacters(t);break}case O.IN_BODY:case O.IN_CAPTION:case O.IN_CELL:case O.IN_TEMPLATE:case O.AFTER_BODY:case O.AFTER_AFTER_BODY:case O.AFTER_AFTER_FRAMESET:{lE(this,t);break}case O.IN_TABLE:case O.IN_TABLE_BODY:case O.IN_ROW:{Df(this,t);break}case O.IN_TABLE_TEXT:{hE(this,t);break}}}}function T4(e,t){let n=e.activeFormattingElements.getElementEntryInScopeWithTagName(t.tagName);return n?e.openElements.contains(n.element)?e.openElements.hasInScope(t.tagID)||(n=null):(e.activeFormattingElements.removeEntry(n),n=null):fE(e,t),n}function E4(e,t){let n=null,r=e.openElements.stackTop;for(;r>=0;r--){const o=e.openElements.items[r];if(o===t.element)break;e._isSpecialElement(o,e.openElements.tagIDs[r])&&(n=o)}return n||(e.openElements.shortenToLength(Math.max(r,0)),e.activeFormattingElements.removeEntry(t)),n}function x4(e,t,n){let r=t,o=e.openElements.getCommonAncestor(t);for(let l=0,u=o;u!==n;l++,u=o){o=e.openElements.getCommonAncestor(u);const f=e.activeFormattingElements.getElementEntry(u),m=f&&l>=y4;!f||m?(m&&e.activeFormattingElements.removeEntry(f),e.openElements.remove(u)):(u=v4(e,f),r===t&&(e.activeFormattingElements.bookmark=f),e.treeAdapter.detachNode(r),e.treeAdapter.appendChild(u,r),r=u)}return r}function v4(e,t){const n=e.treeAdapter.getNamespaceURI(t.element),r=e.treeAdapter.createElement(t.token.tagName,n,t.token.attrs);return e.openElements.replace(t.element,r),t.element=r,r}function C4(e,t,n){const r=e.treeAdapter.getTagName(t),o=eo(r);if(e._isElementCausesFosterParenting(o))e._fosterParentElement(n);else{const l=e.treeAdapter.getNamespaceURI(t);o===E.TEMPLATE&&l===fe.HTML&&(t=e.treeAdapter.getTemplateContent(t)),e.treeAdapter.appendChild(t,n)}}function S4(e,t,n){const r=e.treeAdapter.getNamespaceURI(n.element),{token:o}=n,l=e.treeAdapter.createElement(o.tagName,r,o.attrs);e._adoptNodes(t,l),e.treeAdapter.appendChild(t,l),e.activeFormattingElements.insertElementAfterBookmark(l,o),e.activeFormattingElements.removeEntry(n),e.openElements.remove(n.element),e.openElements.insertAfter(t,l,o.tagID)}function wm(e,t){for(let n=0;n<g4;n++){const r=T4(e,t);if(!r)break;const o=E4(e,r);if(!o)break;e.activeFormattingElements.bookmark=r;const l=x4(e,o,r.element),u=e.openElements.getCommonAncestor(r.element);e.treeAdapter.detachNode(l),u&&C4(e,u,l),S4(e,o,r)}}function om(e,t){e._appendCommentNode(t,e.openElements.currentTmplContentOrNode)}function A4(e,t){e._appendCommentNode(t,e.openElements.items[0])}function _4(e,t){e._appendCommentNode(t,e.document)}function Lm(e,t){if(e.stopped=!0,t.location){const n=e.fragmentContext?0:2;for(let r=e.openElements.stackTop;r>=n;r--)e._setEndLocation(e.openElements.items[r],t);if(!e.fragmentContext&&e.openElements.stackTop>=0){const r=e.openElements.items[0],o=e.treeAdapter.getNodeSourceCodeLocation(r);if(o&&!o.endTag&&(e._setEndLocation(r,t),e.openElements.stackTop>=1)){const l=e.openElements.items[1],u=e.treeAdapter.getNodeSourceCodeLocation(l);u&&!u.endTag&&e._setEndLocation(l,t)}}}}function I4(e,t){e._setDocumentType(t);const n=t.forceQuirks?Vn.QUIRKS:a4(t);n4(t)||e._err(t,ae.nonConformingDoctype),e.treeAdapter.setDocumentMode(e.document,n),e.insertionMode=O.BEFORE_HTML}function ss(e,t){e._err(t,ae.missingDoctype,!0),e.treeAdapter.setDocumentMode(e.document,Vn.QUIRKS),e.insertionMode=O.BEFORE_HTML,e._processToken(t)}function N4(e,t){t.tagID===E.HTML?(e._insertElement(t,fe.HTML),e.insertionMode=O.BEFORE_HEAD):gs(e,t)}function M4(e,t){const n=t.tagID;(n===E.HTML||n===E.HEAD||n===E.BODY||n===E.BR)&&gs(e,t)}function gs(e,t){e._insertFakeRootElement(),e.insertionMode=O.BEFORE_HEAD,e._processToken(t)}function D4(e,t){switch(t.tagID){case E.HTML:{en(e,t);break}case E.HEAD:{e._insertElement(t,fe.HTML),e.headElement=e.openElements.current,e.insertionMode=O.IN_HEAD;break}default:ys(e,t)}}function R4(e,t){const n=t.tagID;n===E.HEAD||n===E.BODY||n===E.HTML||n===E.BR?ys(e,t):e._err(t,ae.endTagWithoutMatchingOpenElement)}function ys(e,t){e._insertFakeElement(J.HEAD,E.HEAD),e.headElement=e.openElements.current,e.insertionMode=O.IN_HEAD,e._processToken(t)}function Zn(e,t){switch(t.tagID){case E.HTML:{en(e,t);break}case E.BASE:case E.BASEFONT:case E.BGSOUND:case E.LINK:case E.META:{e._appendElement(t,fe.HTML),t.ackSelfClosing=!0;break}case E.TITLE:{e._switchToTextParsing(t,Mt.RCDATA);break}case E.NOSCRIPT:{e.options.scriptingEnabled?e._switchToTextParsing(t,Mt.RAWTEXT):(e._insertElement(t,fe.HTML),e.insertionMode=O.IN_HEAD_NO_SCRIPT);break}case E.NOFRAMES:case E.STYLE:{e._switchToTextParsing(t,Mt.RAWTEXT);break}case E.SCRIPT:{e._switchToTextParsing(t,Mt.SCRIPT_DATA);break}case E.TEMPLATE:{e._insertTemplate(t),e.activeFormattingElements.insertMarker(),e.framesetOk=!1,e.insertionMode=O.IN_TEMPLATE,e.tmplInsertionModeStack.unshift(O.IN_TEMPLATE);break}case E.HEAD:{e._err(t,ae.misplacedStartTagForHeadElement);break}default:bs(e,t)}}function k4(e,t){switch(t.tagID){case E.HEAD:{e.openElements.pop(),e.insertionMode=O.AFTER_HEAD;break}case E.BODY:case E.BR:case E.HTML:{bs(e,t);break}case E.TEMPLATE:{Qi(e,t);break}default:e._err(t,ae.endTagWithoutMatchingOpenElement)}}function Qi(e,t){e.openElements.tmplCount>0?(e.openElements.generateImpliedEndTagsThoroughly(),e.openElements.currentTagId!==E.TEMPLATE&&e._err(t,ae.closingOfElementWithOpenChildElements),e.openElements.popUntilTagNamePopped(E.TEMPLATE),e.activeFormattingElements.clearToLastMarker(),e.tmplInsertionModeStack.shift(),e._resetInsertionMode()):e._err(t,ae.endTagWithoutMatchingOpenElement)}function bs(e,t){e.openElements.pop(),e.insertionMode=O.AFTER_HEAD,e._processToken(t)}function w4(e,t){switch(t.tagID){case E.HTML:{en(e,t);break}case E.BASEFONT:case E.BGSOUND:case E.HEAD:case E.LINK:case E.META:case E.NOFRAMES:case E.STYLE:{Zn(e,t);break}case E.NOSCRIPT:{e._err(t,ae.nestedNoscriptInHead);break}default:Ts(e,t)}}function L4(e,t){switch(t.tagID){case E.NOSCRIPT:{e.openElements.pop(),e.insertionMode=O.IN_HEAD;break}case E.BR:{Ts(e,t);break}default:e._err(t,ae.endTagWithoutMatchingOpenElement)}}function Ts(e,t){const n=t.type===We.EOF?ae.openElementsLeftAfterEof:ae.disallowedContentInNoscriptInHead;e._err(t,n),e.openElements.pop(),e.insertionMode=O.IN_HEAD,e._processToken(t)}function O4(e,t){switch(t.tagID){case E.HTML:{en(e,t);break}case E.BODY:{e._insertElement(t,fe.HTML),e.framesetOk=!1,e.insertionMode=O.IN_BODY;break}case E.FRAMESET:{e._insertElement(t,fe.HTML),e.insertionMode=O.IN_FRAMESET;break}case E.BASE:case E.BASEFONT:case E.BGSOUND:case E.LINK:case E.META:case E.NOFRAMES:case E.SCRIPT:case E.STYLE:case E.TEMPLATE:case E.TITLE:{e._err(t,ae.abandonedHeadElementChild),e.openElements.push(e.headElement,E.HEAD),Zn(e,t),e.openElements.remove(e.headElement);break}case E.HEAD:{e._err(t,ae.misplacedStartTagForHeadElement);break}default:Es(e,t)}}function P4(e,t){switch(t.tagID){case E.BODY:case E.HTML:case E.BR:{Es(e,t);break}case E.TEMPLATE:{Qi(e,t);break}default:e._err(t,ae.endTagWithoutMatchingOpenElement)}}function Es(e,t){e._insertFakeElement(J.BODY,E.BODY),e.insertionMode=O.IN_BODY,zu(e,t)}function zu(e,t){switch(t.type){case We.CHARACTER:{uE(e,t);break}case We.WHITESPACE_CHARACTER:{lE(e,t);break}case We.COMMENT:{om(e,t);break}case We.START_TAG:{en(e,t);break}case We.END_TAG:{ju(e,t);break}case We.EOF:{mE(e,t);break}}}function lE(e,t){e._reconstructActiveFormattingElements(),e._insertCharacters(t)}function uE(e,t){e._reconstructActiveFormattingElements(),e._insertCharacters(t),e.framesetOk=!1}function B4(e,t){e.openElements.tmplCount===0&&e.treeAdapter.adoptAttributes(e.openElements.items[0],t.attrs)}function F4(e,t){const n=e.openElements.tryPeekProperlyNestedBodyElement();n&&e.openElements.tmplCount===0&&(e.framesetOk=!1,e.treeAdapter.adoptAttributes(n,t.attrs))}function H4(e,t){const n=e.openElements.tryPeekProperlyNestedBodyElement();e.framesetOk&&n&&(e.treeAdapter.detachNode(n),e.openElements.popAllUpToHtmlElement(),e._insertElement(t,fe.HTML),e.insertionMode=O.IN_FRAMESET)}function U4(e,t){e.openElements.hasInButtonScope(E.P)&&e._closePElement(),e._insertElement(t,fe.HTML)}function V4(e,t){e.openElements.hasInButtonScope(E.P)&&e._closePElement(),e.openElements.currentTagId!==void 0&&rm.has(e.openElements.currentTagId)&&e.openElements.pop(),e._insertElement(t,fe.HTML)}function z4(e,t){e.openElements.hasInButtonScope(E.P)&&e._closePElement(),e._insertElement(t,fe.HTML),e.skipNextNewLine=!0,e.framesetOk=!1}function j4(e,t){const n=e.openElements.tmplCount>0;(!e.formElement||n)&&(e.openElements.hasInButtonScope(E.P)&&e._closePElement(),e._insertElement(t,fe.HTML),n||(e.formElement=e.openElements.current))}function G4(e,t){e.framesetOk=!1;const n=t.tagID;for(let r=e.openElements.stackTop;r>=0;r--){const o=e.openElements.tagIDs[r];if(n===E.LI&&o===E.LI||(n===E.DD||n===E.DT)&&(o===E.DD||o===E.DT)){e.openElements.generateImpliedEndTagsWithExclusion(o),e.openElements.popUntilTagNamePopped(o);break}if(o!==E.ADDRESS&&o!==E.DIV&&o!==E.P&&e._isSpecialElement(e.openElements.items[r],o))break}e.openElements.hasInButtonScope(E.P)&&e._closePElement(),e._insertElement(t,fe.HTML)}function q4(e,t){e.openElements.hasInButtonScope(E.P)&&e._closePElement(),e._insertElement(t,fe.HTML),e.tokenizer.state=Mt.PLAINTEXT}function Y4(e,t){e.openElements.hasInScope(E.BUTTON)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(E.BUTTON)),e._reconstructActiveFormattingElements(),e._insertElement(t,fe.HTML),e.framesetOk=!1}function Q4(e,t){const n=e.activeFormattingElements.getElementEntryInScopeWithTagName(J.A);n&&(wm(e,t),e.openElements.remove(n.element),e.activeFormattingElements.removeEntry(n)),e._reconstructActiveFormattingElements(),e._insertElement(t,fe.HTML),e.activeFormattingElements.pushElement(e.openElements.current,t)}function K4(e,t){e._reconstructActiveFormattingElements(),e._insertElement(t,fe.HTML),e.activeFormattingElements.pushElement(e.openElements.current,t)}function $4(e,t){e._reconstructActiveFormattingElements(),e.openElements.hasInScope(E.NOBR)&&(wm(e,t),e._reconstructActiveFormattingElements()),e._insertElement(t,fe.HTML),e.activeFormattingElements.pushElement(e.openElements.current,t)}function X4(e,t){e._reconstructActiveFormattingElements(),e._insertElement(t,fe.HTML),e.activeFormattingElements.insertMarker(),e.framesetOk=!1}function W4(e,t){e.treeAdapter.getDocumentMode(e.document)!==Vn.QUIRKS&&e.openElements.hasInButtonScope(E.P)&&e._closePElement(),e._insertElement(t,fe.HTML),e.framesetOk=!1,e.insertionMode=O.IN_TABLE}function cE(e,t){e._reconstructActiveFormattingElements(),e._appendElement(t,fe.HTML),e.framesetOk=!1,t.ackSelfClosing=!0}function dE(e){const t=ZT(e,Vi.TYPE);return t!=null&&t.toLowerCase()===p4}function J4(e,t){e._reconstructActiveFormattingElements(),e._appendElement(t,fe.HTML),dE(t)||(e.framesetOk=!1),t.ackSelfClosing=!0}function Z4(e,t){e._appendElement(t,fe.HTML),t.ackSelfClosing=!0}function e6(e,t){e.openElements.hasInButtonScope(E.P)&&e._closePElement(),e._appendElement(t,fe.HTML),e.framesetOk=!1,t.ackSelfClosing=!0}function t6(e,t){t.tagName=J.IMG,t.tagID=E.IMG,cE(e,t)}function n6(e,t){e._insertElement(t,fe.HTML),e.skipNextNewLine=!0,e.tokenizer.state=Mt.RCDATA,e.originalInsertionMode=e.insertionMode,e.framesetOk=!1,e.insertionMode=O.TEXT}function a6(e,t){e.openElements.hasInButtonScope(E.P)&&e._closePElement(),e._reconstructActiveFormattingElements(),e.framesetOk=!1,e._switchToTextParsing(t,Mt.RAWTEXT)}function i6(e,t){e.framesetOk=!1,e._switchToTextParsing(t,Mt.RAWTEXT)}function Y1(e,t){e._switchToTextParsing(t,Mt.RAWTEXT)}function r6(e,t){e._reconstructActiveFormattingElements(),e._insertElement(t,fe.HTML),e.framesetOk=!1,e.insertionMode=e.insertionMode===O.IN_TABLE||e.insertionMode===O.IN_CAPTION||e.insertionMode===O.IN_TABLE_BODY||e.insertionMode===O.IN_ROW||e.insertionMode===O.IN_CELL?O.IN_SELECT_IN_TABLE:O.IN_SELECT}function o6(e,t){e.openElements.currentTagId===E.OPTION&&e.openElements.pop(),e._reconstructActiveFormattingElements(),e._insertElement(t,fe.HTML)}function s6(e,t){e.openElements.hasInScope(E.RUBY)&&e.openElements.generateImpliedEndTags(),e._insertElement(t,fe.HTML)}function l6(e,t){e.openElements.hasInScope(E.RUBY)&&e.openElements.generateImpliedEndTagsWithExclusion(E.RTC),e._insertElement(t,fe.HTML)}function u6(e,t){e._reconstructActiveFormattingElements(),rE(t),km(t),t.selfClosing?e._appendElement(t,fe.MATHML):e._insertElement(t,fe.MATHML),t.ackSelfClosing=!0}function c6(e,t){e._reconstructActiveFormattingElements(),oE(t),km(t),t.selfClosing?e._appendElement(t,fe.SVG):e._insertElement(t,fe.SVG),t.ackSelfClosing=!0}function Q1(e,t){e._reconstructActiveFormattingElements(),e._insertElement(t,fe.HTML)}function en(e,t){switch(t.tagID){case E.I:case E.S:case E.B:case E.U:case E.EM:case E.TT:case E.BIG:case E.CODE:case E.FONT:case E.SMALL:case E.STRIKE:case E.STRONG:{K4(e,t);break}case E.A:{Q4(e,t);break}case E.H1:case E.H2:case E.H3:case E.H4:case E.H5:case E.H6:{V4(e,t);break}case E.P:case E.DL:case E.OL:case E.UL:case E.DIV:case E.DIR:case E.NAV:case E.MAIN:case E.MENU:case E.ASIDE:case E.CENTER:case E.FIGURE:case E.FOOTER:case E.HEADER:case E.HGROUP:case E.DIALOG:case E.DETAILS:case E.ADDRESS:case E.ARTICLE:case E.SEARCH:case E.SECTION:case E.SUMMARY:case E.FIELDSET:case E.BLOCKQUOTE:case E.FIGCAPTION:{U4(e,t);break}case E.LI:case E.DD:case E.DT:{G4(e,t);break}case E.BR:case E.IMG:case E.WBR:case E.AREA:case E.EMBED:case E.KEYGEN:{cE(e,t);break}case E.HR:{e6(e,t);break}case E.RB:case E.RTC:{s6(e,t);break}case E.RT:case E.RP:{l6(e,t);break}case E.PRE:case E.LISTING:{z4(e,t);break}case E.XMP:{a6(e,t);break}case E.SVG:{c6(e,t);break}case E.HTML:{B4(e,t);break}case E.BASE:case E.LINK:case E.META:case E.STYLE:case E.TITLE:case E.SCRIPT:case E.BGSOUND:case E.BASEFONT:case E.TEMPLATE:{Zn(e,t);break}case E.BODY:{F4(e,t);break}case E.FORM:{j4(e,t);break}case E.NOBR:{$4(e,t);break}case E.MATH:{u6(e,t);break}case E.TABLE:{W4(e,t);break}case E.INPUT:{J4(e,t);break}case E.PARAM:case E.TRACK:case E.SOURCE:{Z4(e,t);break}case E.IMAGE:{t6(e,t);break}case E.BUTTON:{Y4(e,t);break}case E.APPLET:case E.OBJECT:case E.MARQUEE:{X4(e,t);break}case E.IFRAME:{i6(e,t);break}case E.SELECT:{r6(e,t);break}case E.OPTION:case E.OPTGROUP:{o6(e,t);break}case E.NOEMBED:case E.NOFRAMES:{Y1(e,t);break}case E.FRAMESET:{H4(e,t);break}case E.TEXTAREA:{n6(e,t);break}case E.NOSCRIPT:{e.options.scriptingEnabled?Y1(e,t):Q1(e,t);break}case E.PLAINTEXT:{q4(e,t);break}case E.COL:case E.TH:case E.TD:case E.TR:case E.HEAD:case E.FRAME:case E.TBODY:case E.TFOOT:case E.THEAD:case E.CAPTION:case E.COLGROUP:break;default:Q1(e,t)}}function d6(e,t){if(e.openElements.hasInScope(E.BODY)&&(e.insertionMode=O.AFTER_BODY,e.options.sourceCodeLocationInfo)){const n=e.openElements.tryPeekProperlyNestedBodyElement();n&&e._setEndLocation(n,t)}}function f6(e,t){e.openElements.hasInScope(E.BODY)&&(e.insertionMode=O.AFTER_BODY,xE(e,t))}function m6(e,t){const n=t.tagID;e.openElements.hasInScope(n)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(n))}function h6(e){const t=e.openElements.tmplCount>0,{formElement:n}=e;t||(e.formElement=null),(n||t)&&e.openElements.hasInScope(E.FORM)&&(e.openElements.generateImpliedEndTags(),t?e.openElements.popUntilTagNamePopped(E.FORM):n&&e.openElements.remove(n))}function p6(e){e.openElements.hasInButtonScope(E.P)||e._insertFakeElement(J.P,E.P),e._closePElement()}function g6(e){e.openElements.hasInListItemScope(E.LI)&&(e.openElements.generateImpliedEndTagsWithExclusion(E.LI),e.openElements.popUntilTagNamePopped(E.LI))}function y6(e,t){const n=t.tagID;e.openElements.hasInScope(n)&&(e.openElements.generateImpliedEndTagsWithExclusion(n),e.openElements.popUntilTagNamePopped(n))}function b6(e){e.openElements.hasNumberedHeaderInScope()&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilNumberedHeaderPopped())}function T6(e,t){const n=t.tagID;e.openElements.hasInScope(n)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(n),e.activeFormattingElements.clearToLastMarker())}function E6(e){e._reconstructActiveFormattingElements(),e._insertFakeElement(J.BR,E.BR),e.openElements.pop(),e.framesetOk=!1}function fE(e,t){const n=t.tagName,r=t.tagID;for(let o=e.openElements.stackTop;o>0;o--){const l=e.openElements.items[o],u=e.openElements.tagIDs[o];if(r===u&&(r!==E.UNKNOWN||e.treeAdapter.getTagName(l)===n)){e.openElements.generateImpliedEndTagsWithExclusion(r),e.openElements.stackTop>=o&&e.openElements.shortenToLength(o);break}if(e._isSpecialElement(l,u))break}}function ju(e,t){switch(t.tagID){case E.A:case E.B:case E.I:case E.S:case E.U:case E.EM:case E.TT:case E.BIG:case E.CODE:case E.FONT:case E.NOBR:case E.SMALL:case E.STRIKE:case E.STRONG:{wm(e,t);break}case E.P:{p6(e);break}case E.DL:case E.UL:case E.OL:case E.DIR:case E.DIV:case E.NAV:case E.PRE:case E.MAIN:case E.MENU:case E.ASIDE:case E.BUTTON:case E.CENTER:case E.FIGURE:case E.FOOTER:case E.HEADER:case E.HGROUP:case E.DIALOG:case E.ADDRESS:case E.ARTICLE:case E.DETAILS:case E.SEARCH:case E.SECTION:case E.SUMMARY:case E.LISTING:case E.FIELDSET:case E.BLOCKQUOTE:case E.FIGCAPTION:{m6(e,t);break}case E.LI:{g6(e);break}case E.DD:case E.DT:{y6(e,t);break}case E.H1:case E.H2:case E.H3:case E.H4:case E.H5:case E.H6:{b6(e);break}case E.BR:{E6(e);break}case E.BODY:{d6(e,t);break}case E.HTML:{f6(e,t);break}case E.FORM:{h6(e);break}case E.APPLET:case E.OBJECT:case E.MARQUEE:{T6(e,t);break}case E.TEMPLATE:{Qi(e,t);break}default:fE(e,t)}}function mE(e,t){e.tmplInsertionModeStack.length>0?EE(e,t):Lm(e,t)}function x6(e,t){var n;t.tagID===E.SCRIPT&&((n=e.scriptHandler)===null||n===void 0||n.call(e,e.openElements.current)),e.openElements.pop(),e.insertionMode=e.originalInsertionMode}function v6(e,t){e._err(t,ae.eofInElementThatCanContainOnlyText),e.openElements.pop(),e.insertionMode=e.originalInsertionMode,e.onEof(t)}function Df(e,t){if(e.openElements.currentTagId!==void 0&&sE.has(e.openElements.currentTagId))switch(e.pendingCharacterTokens.length=0,e.hasNonWhitespacePendingCharacterToken=!1,e.originalInsertionMode=e.insertionMode,e.insertionMode=O.IN_TABLE_TEXT,t.type){case We.CHARACTER:{pE(e,t);break}case We.WHITESPACE_CHARACTER:{hE(e,t);break}}else Os(e,t)}function C6(e,t){e.openElements.clearBackToTableContext(),e.activeFormattingElements.insertMarker(),e._insertElement(t,fe.HTML),e.insertionMode=O.IN_CAPTION}function S6(e,t){e.openElements.clearBackToTableContext(),e._insertElement(t,fe.HTML),e.insertionMode=O.IN_COLUMN_GROUP}function A6(e,t){e.openElements.clearBackToTableContext(),e._insertFakeElement(J.COLGROUP,E.COLGROUP),e.insertionMode=O.IN_COLUMN_GROUP,Om(e,t)}function _6(e,t){e.openElements.clearBackToTableContext(),e._insertElement(t,fe.HTML),e.insertionMode=O.IN_TABLE_BODY}function I6(e,t){e.openElements.clearBackToTableContext(),e._insertFakeElement(J.TBODY,E.TBODY),e.insertionMode=O.IN_TABLE_BODY,Gu(e,t)}function N6(e,t){e.openElements.hasInTableScope(E.TABLE)&&(e.openElements.popUntilTagNamePopped(E.TABLE),e._resetInsertionMode(),e._processStartTag(t))}function M6(e,t){dE(t)?e._appendElement(t,fe.HTML):Os(e,t),t.ackSelfClosing=!0}function D6(e,t){!e.formElement&&e.openElements.tmplCount===0&&(e._insertElement(t,fe.HTML),e.formElement=e.openElements.current,e.openElements.pop())}function Yr(e,t){switch(t.tagID){case E.TD:case E.TH:case E.TR:{I6(e,t);break}case E.STYLE:case E.SCRIPT:case E.TEMPLATE:{Zn(e,t);break}case E.COL:{A6(e,t);break}case E.FORM:{D6(e,t);break}case E.TABLE:{N6(e,t);break}case E.TBODY:case E.TFOOT:case E.THEAD:{_6(e,t);break}case E.INPUT:{M6(e,t);break}case E.CAPTION:{C6(e,t);break}case E.COLGROUP:{S6(e,t);break}default:Os(e,t)}}function Ns(e,t){switch(t.tagID){case E.TABLE:{e.openElements.hasInTableScope(E.TABLE)&&(e.openElements.popUntilTagNamePopped(E.TABLE),e._resetInsertionMode());break}case E.TEMPLATE:{Qi(e,t);break}case E.BODY:case E.CAPTION:case E.COL:case E.COLGROUP:case E.HTML:case E.TBODY:case E.TD:case E.TFOOT:case E.TH:case E.THEAD:case E.TR:break;default:Os(e,t)}}function Os(e,t){const n=e.fosterParentingEnabled;e.fosterParentingEnabled=!0,zu(e,t),e.fosterParentingEnabled=n}function hE(e,t){e.pendingCharacterTokens.push(t)}function pE(e,t){e.pendingCharacterTokens.push(t),e.hasNonWhitespacePendingCharacterToken=!0}function ls(e,t){let n=0;if(e.hasNonWhitespacePendingCharacterToken)for(;n<e.pendingCharacterTokens.length;n++)Os(e,e.pendingCharacterTokens[n]);else for(;n<e.pendingCharacterTokens.length;n++)e._insertCharacters(e.pendingCharacterTokens[n]);e.insertionMode=e.originalInsertionMode,e._processToken(t)}const gE=new Set([E.CAPTION,E.COL,E.COLGROUP,E.TBODY,E.TD,E.TFOOT,E.TH,E.THEAD,E.TR]);function R6(e,t){const n=t.tagID;gE.has(n)?e.openElements.hasInTableScope(E.CAPTION)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(E.CAPTION),e.activeFormattingElements.clearToLastMarker(),e.insertionMode=O.IN_TABLE,Yr(e,t)):en(e,t)}function k6(e,t){const n=t.tagID;switch(n){case E.CAPTION:case E.TABLE:{e.openElements.hasInTableScope(E.CAPTION)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(E.CAPTION),e.activeFormattingElements.clearToLastMarker(),e.insertionMode=O.IN_TABLE,n===E.TABLE&&Ns(e,t));break}case E.BODY:case E.COL:case E.COLGROUP:case E.HTML:case E.TBODY:case E.TD:case E.TFOOT:case E.TH:case E.THEAD:case E.TR:break;default:ju(e,t)}}function Om(e,t){switch(t.tagID){case E.HTML:{en(e,t);break}case E.COL:{e._appendElement(t,fe.HTML),t.ackSelfClosing=!0;break}case E.TEMPLATE:{Zn(e,t);break}default:Au(e,t)}}function w6(e,t){switch(t.tagID){case E.COLGROUP:{e.openElements.currentTagId===E.COLGROUP&&(e.openElements.pop(),e.insertionMode=O.IN_TABLE);break}case E.TEMPLATE:{Qi(e,t);break}case E.COL:break;default:Au(e,t)}}function Au(e,t){e.openElements.currentTagId===E.COLGROUP&&(e.openElements.pop(),e.insertionMode=O.IN_TABLE,e._processToken(t))}function Gu(e,t){switch(t.tagID){case E.TR:{e.openElements.clearBackToTableBodyContext(),e._insertElement(t,fe.HTML),e.insertionMode=O.IN_ROW;break}case E.TH:case E.TD:{e.openElements.clearBackToTableBodyContext(),e._insertFakeElement(J.TR,E.TR),e.insertionMode=O.IN_ROW,qu(e,t);break}case E.CAPTION:case E.COL:case E.COLGROUP:case E.TBODY:case E.TFOOT:case E.THEAD:{e.openElements.hasTableBodyContextInTableScope()&&(e.openElements.clearBackToTableBodyContext(),e.openElements.pop(),e.insertionMode=O.IN_TABLE,Yr(e,t));break}default:Yr(e,t)}}function sm(e,t){const n=t.tagID;switch(t.tagID){case E.TBODY:case E.TFOOT:case E.THEAD:{e.openElements.hasInTableScope(n)&&(e.openElements.clearBackToTableBodyContext(),e.openElements.pop(),e.insertionMode=O.IN_TABLE);break}case E.TABLE:{e.openElements.hasTableBodyContextInTableScope()&&(e.openElements.clearBackToTableBodyContext(),e.openElements.pop(),e.insertionMode=O.IN_TABLE,Ns(e,t));break}case E.BODY:case E.CAPTION:case E.COL:case E.COLGROUP:case E.HTML:case E.TD:case E.TH:case E.TR:break;default:Ns(e,t)}}function qu(e,t){switch(t.tagID){case E.TH:case E.TD:{e.openElements.clearBackToTableRowContext(),e._insertElement(t,fe.HTML),e.insertionMode=O.IN_CELL,e.activeFormattingElements.insertMarker();break}case E.CAPTION:case E.COL:case E.COLGROUP:case E.TBODY:case E.TFOOT:case E.THEAD:case E.TR:{e.openElements.hasInTableScope(E.TR)&&(e.openElements.clearBackToTableRowContext(),e.openElements.pop(),e.insertionMode=O.IN_TABLE_BODY,Gu(e,t));break}default:Yr(e,t)}}function yE(e,t){switch(t.tagID){case E.TR:{e.openElements.hasInTableScope(E.TR)&&(e.openElements.clearBackToTableRowContext(),e.openElements.pop(),e.insertionMode=O.IN_TABLE_BODY);break}case E.TABLE:{e.openElements.hasInTableScope(E.TR)&&(e.openElements.clearBackToTableRowContext(),e.openElements.pop(),e.insertionMode=O.IN_TABLE_BODY,sm(e,t));break}case E.TBODY:case E.TFOOT:case E.THEAD:{(e.openElements.hasInTableScope(t.tagID)||e.openElements.hasInTableScope(E.TR))&&(e.openElements.clearBackToTableRowContext(),e.openElements.pop(),e.insertionMode=O.IN_TABLE_BODY,sm(e,t));break}case E.BODY:case E.CAPTION:case E.COL:case E.COLGROUP:case E.HTML:case E.TD:case E.TH:break;default:Ns(e,t)}}function L6(e,t){const n=t.tagID;gE.has(n)?(e.openElements.hasInTableScope(E.TD)||e.openElements.hasInTableScope(E.TH))&&(e._closeTableCell(),qu(e,t)):en(e,t)}function O6(e,t){const n=t.tagID;switch(n){case E.TD:case E.TH:{e.openElements.hasInTableScope(n)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(n),e.activeFormattingElements.clearToLastMarker(),e.insertionMode=O.IN_ROW);break}case E.TABLE:case E.TBODY:case E.TFOOT:case E.THEAD:case E.TR:{e.openElements.hasInTableScope(n)&&(e._closeTableCell(),yE(e,t));break}case E.BODY:case E.CAPTION:case E.COL:case E.COLGROUP:case E.HTML:break;default:ju(e,t)}}function bE(e,t){switch(t.tagID){case E.HTML:{en(e,t);break}case E.OPTION:{e.openElements.currentTagId===E.OPTION&&e.openElements.pop(),e._insertElement(t,fe.HTML);break}case E.OPTGROUP:{e.openElements.currentTagId===E.OPTION&&e.openElements.pop(),e.openElements.currentTagId===E.OPTGROUP&&e.openElements.pop(),e._insertElement(t,fe.HTML);break}case E.HR:{e.openElements.currentTagId===E.OPTION&&e.openElements.pop(),e.openElements.currentTagId===E.OPTGROUP&&e.openElements.pop(),e._appendElement(t,fe.HTML),t.ackSelfClosing=!0;break}case E.INPUT:case E.KEYGEN:case E.TEXTAREA:case E.SELECT:{e.openElements.hasInSelectScope(E.SELECT)&&(e.openElements.popUntilTagNamePopped(E.SELECT),e._resetInsertionMode(),t.tagID!==E.SELECT&&e._processStartTag(t));break}case E.SCRIPT:case E.TEMPLATE:{Zn(e,t);break}}}function TE(e,t){switch(t.tagID){case E.OPTGROUP:{e.openElements.stackTop>0&&e.openElements.currentTagId===E.OPTION&&e.openElements.tagIDs[e.openElements.stackTop-1]===E.OPTGROUP&&e.openElements.pop(),e.openElements.currentTagId===E.OPTGROUP&&e.openElements.pop();break}case E.OPTION:{e.openElements.currentTagId===E.OPTION&&e.openElements.pop();break}case E.SELECT:{e.openElements.hasInSelectScope(E.SELECT)&&(e.openElements.popUntilTagNamePopped(E.SELECT),e._resetInsertionMode());break}case E.TEMPLATE:{Qi(e,t);break}}}function P6(e,t){const n=t.tagID;n===E.CAPTION||n===E.TABLE||n===E.TBODY||n===E.TFOOT||n===E.THEAD||n===E.TR||n===E.TD||n===E.TH?(e.openElements.popUntilTagNamePopped(E.SELECT),e._resetInsertionMode(),e._processStartTag(t)):bE(e,t)}function B6(e,t){const n=t.tagID;n===E.CAPTION||n===E.TABLE||n===E.TBODY||n===E.TFOOT||n===E.THEAD||n===E.TR||n===E.TD||n===E.TH?e.openElements.hasInTableScope(n)&&(e.openElements.popUntilTagNamePopped(E.SELECT),e._resetInsertionMode(),e.onEndTag(t)):TE(e,t)}function F6(e,t){switch(t.tagID){case E.BASE:case E.BASEFONT:case E.BGSOUND:case E.LINK:case E.META:case E.NOFRAMES:case E.SCRIPT:case E.STYLE:case E.TEMPLATE:case E.TITLE:{Zn(e,t);break}case E.CAPTION:case E.COLGROUP:case E.TBODY:case E.TFOOT:case E.THEAD:{e.tmplInsertionModeStack[0]=O.IN_TABLE,e.insertionMode=O.IN_TABLE,Yr(e,t);break}case E.COL:{e.tmplInsertionModeStack[0]=O.IN_COLUMN_GROUP,e.insertionMode=O.IN_COLUMN_GROUP,Om(e,t);break}case E.TR:{e.tmplInsertionModeStack[0]=O.IN_TABLE_BODY,e.insertionMode=O.IN_TABLE_BODY,Gu(e,t);break}case E.TD:case E.TH:{e.tmplInsertionModeStack[0]=O.IN_ROW,e.insertionMode=O.IN_ROW,qu(e,t);break}default:e.tmplInsertionModeStack[0]=O.IN_BODY,e.insertionMode=O.IN_BODY,en(e,t)}}function H6(e,t){t.tagID===E.TEMPLATE&&Qi(e,t)}function EE(e,t){e.openElements.tmplCount>0?(e.openElements.popUntilTagNamePopped(E.TEMPLATE),e.activeFormattingElements.clearToLastMarker(),e.tmplInsertionModeStack.shift(),e._resetInsertionMode(),e.onEof(t)):Lm(e,t)}function U6(e,t){t.tagID===E.HTML?en(e,t):_u(e,t)}function xE(e,t){var n;if(t.tagID===E.HTML){if(e.fragmentContext||(e.insertionMode=O.AFTER_AFTER_BODY),e.options.sourceCodeLocationInfo&&e.openElements.tagIDs[0]===E.HTML){e._setEndLocation(e.openElements.items[0],t);const r=e.openElements.items[1];r&&!(!((n=e.treeAdapter.getNodeSourceCodeLocation(r))===null||n===void 0)&&n.endTag)&&e._setEndLocation(r,t)}}else _u(e,t)}function _u(e,t){e.insertionMode=O.IN_BODY,zu(e,t)}function V6(e,t){switch(t.tagID){case E.HTML:{en(e,t);break}case E.FRAMESET:{e._insertElement(t,fe.HTML);break}case E.FRAME:{e._appendElement(t,fe.HTML),t.ackSelfClosing=!0;break}case E.NOFRAMES:{Zn(e,t);break}}}function z6(e,t){t.tagID===E.FRAMESET&&!e.openElements.isRootHtmlElementCurrent()&&(e.openElements.pop(),!e.fragmentContext&&e.openElements.currentTagId!==E.FRAMESET&&(e.insertionMode=O.AFTER_FRAMESET))}function j6(e,t){switch(t.tagID){case E.HTML:{en(e,t);break}case E.NOFRAMES:{Zn(e,t);break}}}function G6(e,t){t.tagID===E.HTML&&(e.insertionMode=O.AFTER_AFTER_FRAMESET)}function q6(e,t){t.tagID===E.HTML?en(e,t):gu(e,t)}function gu(e,t){e.insertionMode=O.IN_BODY,zu(e,t)}function Y6(e,t){switch(t.tagID){case E.HTML:{en(e,t);break}case E.NOFRAMES:{Zn(e,t);break}}}function Q6(e,t){t.chars=vt,e._insertCharacters(t)}function K6(e,t){e._insertCharacters(t),e.framesetOk=!1}function vE(e){for(;e.treeAdapter.getNamespaceURI(e.openElements.current)!==fe.HTML&&e.openElements.currentTagId!==void 0&&!e._isIntegrationPoint(e.openElements.currentTagId,e.openElements.current);)e.openElements.pop()}function $6(e,t){if(c4(t))vE(e),e._startTagOutsideForeignContent(t);else{const n=e._getAdjustedCurrentElement(),r=e.treeAdapter.getNamespaceURI(n);r===fe.MATHML?rE(t):r===fe.SVG&&(d4(t),oE(t)),km(t),t.selfClosing?e._appendElement(t,r):e._insertElement(t,r),t.ackSelfClosing=!0}}function X6(e,t){if(t.tagID===E.P||t.tagID===E.BR){vE(e),e._endTagOutsideForeignContent(t);return}for(let n=e.openElements.stackTop;n>0;n--){const r=e.openElements.items[n];if(e.treeAdapter.getNamespaceURI(r)===fe.HTML){e._endTagOutsideForeignContent(t);break}const o=e.treeAdapter.getTagName(r);if(o.toLowerCase()===t.tagName){t.tagName=o,e.openElements.shortenToLength(n);break}}}J.AREA,J.BASE,J.BASEFONT,J.BGSOUND,J.BR,J.COL,J.EMBED,J.FRAME,J.HR,J.IMG,J.INPUT,J.KEYGEN,J.LINK,J.META,J.PARAM,J.SOURCE,J.TRACK,J.WBR;const W6=/<(\/?)(iframe|noembed|noframes|plaintext|script|style|textarea|title|xmp)(?=[\t\n\f\r />])/gi,J6=new Set(["mdxFlowExpression","mdxJsxFlowElement","mdxJsxTextElement","mdxTextExpression","mdxjsEsm"]),K1={sourceCodeLocationInfo:!0,scriptingEnabled:!1};function CE(e,t){const n=lL(e),r=gT("type",{handlers:{root:Z6,element:eL,text:tL,comment:AE,doctype:nL,raw:iL},unknown:rL}),o={parser:n?new q1(K1):q1.getFragmentParser(void 0,K1),handle(f){r(f,o)},stitches:!1,options:t||{}};r(e,o),to(o,ua());const l=n?o.parser.document:o.parser.getFragment(),u=Zk(l,{file:o.options.file});return o.stitches&&Vu(u,"comment",function(f,m,d){const g=f;if(g.value.stitch&&d&&m!==void 0){const x=d.children;return x[m]=g.value.stitch,m}}),u.type==="root"&&u.children.length===1&&u.children[0].type===e.type?u.children[0]:u}function SE(e,t){let n=-1;if(e)for(;++n<e.length;)t.handle(e[n])}function Z6(e,t){SE(e.children,t)}function eL(e,t){oL(e,t),SE(e.children,t),sL(e,t)}function tL(e,t){t.parser.tokenizer.state>4&&(t.parser.tokenizer.state=0);const n={type:We.CHARACTER,chars:e.value,location:Ps(e)};to(t,ua(e)),t.parser.currentToken=n,t.parser._processToken(t.parser.currentToken)}function nL(e,t){const n={type:We.DOCTYPE,name:"html",forceQuirks:!1,publicId:"",systemId:"",location:Ps(e)};to(t,ua(e)),t.parser.currentToken=n,t.parser._processToken(t.parser.currentToken)}function aL(e,t){t.stitches=!0;const n=uL(e);if("children"in e&&"children"in n){const r=CE({type:"root",children:e.children},t.options);n.children=r.children}AE({type:"comment",value:{stitch:n}},t)}function AE(e,t){const n=e.value,r={type:We.COMMENT,data:n,location:Ps(e)};to(t,ua(e)),t.parser.currentToken=r,t.parser._processToken(t.parser.currentToken)}function iL(e,t){if(t.parser.tokenizer.preprocessor.html="",t.parser.tokenizer.preprocessor.pos=-1,t.parser.tokenizer.preprocessor.lastGapPos=-2,t.parser.tokenizer.preprocessor.gapStack=[],t.parser.tokenizer.preprocessor.skipNextNewLine=!1,t.parser.tokenizer.preprocessor.lastChunkWritten=!1,t.parser.tokenizer.preprocessor.endOfChunkHit=!1,t.parser.tokenizer.preprocessor.isEol=!1,_E(t,ua(e)),t.parser.tokenizer.write(t.options.tagfilter?e.value.replace(W6,"&lt;$1$2"):e.value,!1),t.parser.tokenizer._runParsingLoop(),t.parser.tokenizer.state===72||t.parser.tokenizer.state===78){t.parser.tokenizer.preprocessor.lastChunkWritten=!0;const n=t.parser.tokenizer._consume();t.parser.tokenizer._callState(n)}}function rL(e,t){const n=e;if(t.options.passThrough&&t.options.passThrough.includes(n.type))aL(n,t);else{let r="";throw J6.has(n.type)&&(r=". It looks like you are using MDX nodes with `hast-util-raw` (or `rehype-raw`). If you use this because you are using remark or rehype plugins that inject `'html'` nodes, then please raise an issue with that plugin, as its a bad and slow idea. If you use this because you are using markdown syntax, then you have to configure this utility (or plugin) to pass through these nodes (see `passThrough` in docs), but you can also migrate to use the MDX syntax"),new Error("Cannot compile `"+n.type+"` node"+r)}}function to(e,t){_E(e,t);const n=e.parser.tokenizer.currentCharacterToken;n&&n.location&&(n.location.endLine=e.parser.tokenizer.preprocessor.line,n.location.endCol=e.parser.tokenizer.preprocessor.col+1,n.location.endOffset=e.parser.tokenizer.preprocessor.offset+1,e.parser.currentToken=n,e.parser._processToken(e.parser.currentToken)),e.parser.tokenizer.paused=!1,e.parser.tokenizer.inLoop=!1,e.parser.tokenizer.active=!1,e.parser.tokenizer.returnState=Mt.DATA,e.parser.tokenizer.charRefCode=-1,e.parser.tokenizer.consumedAfterSnapshot=-1,e.parser.tokenizer.currentLocation=null,e.parser.tokenizer.currentCharacterToken=null,e.parser.tokenizer.currentToken=null,e.parser.tokenizer.currentAttr={name:"",value:""}}function _E(e,t){if(t&&t.offset!==void 0){const n={startLine:t.line,startCol:t.column,startOffset:t.offset,endLine:-1,endCol:-1,endOffset:-1};e.parser.tokenizer.preprocessor.lineStartPos=-t.column+1,e.parser.tokenizer.preprocessor.droppedBufferSize=t.offset,e.parser.tokenizer.preprocessor.line=t.line,e.parser.tokenizer.currentLocation=n}}function oL(e,t){const n=e.tagName.toLowerCase();if(t.parser.tokenizer.state===Mt.PLAINTEXT)return;to(t,ua(e));const r=t.parser.openElements.current;let o="namespaceURI"in r?r.namespaceURI:Ui.html;o===Ui.html&&n==="svg"&&(o=Ui.svg);const l=hw({...e,children:[]},{space:o===Ui.svg?"svg":"html"}),u={type:We.START_TAG,tagName:n,tagID:eo(n),selfClosing:!1,ackSelfClosing:!1,attrs:"attrs"in l?l.attrs:[],location:Ps(e)};t.parser.currentToken=u,t.parser._processToken(t.parser.currentToken),t.parser.tokenizer.lastStartTagName=n}function sL(e,t){const n=e.tagName.toLowerCase();if(!t.parser.tokenizer.inForeignNode&&vw.includes(n)||t.parser.tokenizer.state===Mt.PLAINTEXT)return;to(t,Ou(e));const r={type:We.END_TAG,tagName:n,tagID:eo(n),selfClosing:!1,ackSelfClosing:!1,attrs:[],location:Ps(e)};t.parser.currentToken=r,t.parser._processToken(t.parser.currentToken),n===t.parser.tokenizer.lastStartTagName&&(t.parser.tokenizer.state===Mt.RCDATA||t.parser.tokenizer.state===Mt.RAWTEXT||t.parser.tokenizer.state===Mt.SCRIPT_DATA)&&(t.parser.tokenizer.state=Mt.DATA)}function lL(e){const t=e.type==="root"?e.children[0]:e;return!!(t&&(t.type==="doctype"||t.type==="element"&&t.tagName.toLowerCase()==="html"))}function Ps(e){const t=ua(e)||{line:void 0,column:void 0,offset:void 0},n=Ou(e)||{line:void 0,column:void 0,offset:void 0};return{startLine:t.line,startCol:t.column,startOffset:t.offset,endLine:n.line,endCol:n.column,endOffset:n.offset}}function uL(e){return"children"in e?qr({...e,children:[]}):qr(e)}function IE(e){return function(t,n){return CE(t,{...e,file:n})}}const NE=async e=>{if(!e)return{success:!1,message:"No content to copy"};try{const t=`
      <div style="color: #000000; font-family: system-ui, -apple-system, sans-serif; line-height: 1.6; background: transparent;">
        ${e.split(`
`).map(r=>{if(r.startsWith("# "))return`<h1 style="color: #000000; font-size: 1.5rem; font-weight: bold; margin: 1.5rem 0 1rem 0;">${r.replace("# ","")}</h1>`;if(r.startsWith("## "))return`<h2 style="color: #000000; font-size: 1.25rem; font-weight: bold; margin: 1rem 0 0.5rem 0;">${r.replace("## ","")}</h2>`;if(r.startsWith("### "))return`<h3 style="color: #000000; font-size: 1.1rem; font-weight: bold; margin: 0.75rem 0 0.25rem 0;">${r.replace("### ","")}</h3>`;if(r.startsWith("#### "))return`<h4 style="color: #000000; font-size: 1rem; font-weight: bold; margin: 0.5rem 0 0.25rem 0;">${r.replace("#### ","")}</h4>`;if(r.startsWith("- **")){const o=r.match(/- \*\*(.*?)\*\*:\s*(.*)/);if(o)return`<p style="margin: 0.25rem 0; color: #000000;"><strong style="color: #000000;">${o[1]}:</strong> ${o[2]}</p>`}else{if(r.startsWith("- "))return`<p style="margin: 0.25rem 0; padding-left: 1rem; color: #000000;">• ${r.replace("- ","")}</p>`;if(r.match(/^\d+\./))return`<p style="margin: 0.25rem 0; padding-left: 1rem; color: #000000;">${r}</p>`;if(r.startsWith("**")&&r.endsWith("**"))return`<p style="margin: 0.5rem 0; color: #000000; font-weight: bold;">${r.replace(/\*\*/g,"")}</p>`;if(r.trim())return`<p style="margin: 0.5rem 0; color: #000000;">${r}</p>`}return"<br>"}).join("")}
      </div>
    `,n=e.split(`
`).map(r=>{if(r.startsWith("# "))return r.replace("# ","");if(r.startsWith("## "))return r.replace("## ","");if(r.startsWith("### "))return r.replace("### ","");if(r.startsWith("#### "))return r.replace("#### ","");if(r.startsWith("- **")){const o=r.match(/- \*\*(.*?)\*\*:\s*(.*)/);if(o)return`${o[1]}: ${o[2]}`}else{if(r.startsWith("- "))return`• ${r.replace("- ","")}`;if(r.startsWith("**")&&r.endsWith("**"))return r.replace(/\*\*/g,"")}return r}).join(`
`);if(navigator.clipboard&&navigator.clipboard.write){const r=new Blob([t],{type:"text/html"}),o=new Blob([n],{type:"text/plain"}),l=new ClipboardItem({"text/html":r,"text/plain":o});return await navigator.clipboard.write([l]),{success:!0,message:"Content copied (Rich Format)!"}}else return await navigator.clipboard.writeText(n),{success:!0,message:"Content copied (Plain Text)!"}}catch(t){return console.error("Failed to copy content:",t),{success:!1,message:"Failed to copy. Please try manually."}}},Fi=({content:e,onExportPDF:t,onCopy:n,className:r=""})=>{const[o,l]=he.useState(""),u=async()=>{if(n){n();return}const m=await NE(e);l(m.message),setTimeout(()=>l(""),3e3)},f={h1:({children:m})=>p.jsx("h1",{className:"text-3xl font-bold text-purple-300 mb-6 border-b border-gray-600 pb-3",children:m}),h2:({children:m})=>p.jsx("h2",{className:"text-2xl font-semibold text-purple-200 mt-8 mb-4 border-l-4 border-purple-500 pl-4",children:m}),h3:({children:m})=>p.jsx("h3",{className:"text-xl font-semibold text-purple-100 mt-6 mb-3 flex items-center",children:m}),h4:({children:m})=>p.jsx("h4",{className:"text-lg font-medium text-gray-200 mt-4 mb-2",children:m}),p:({children:m})=>p.jsx("p",{className:"text-gray-300 mb-4 leading-relaxed",children:m}),ul:({children:m})=>p.jsx("ul",{className:"list-disc text-gray-300 mb-4 space-y-1 ml-4 pl-4",children:m}),ol:({children:m})=>p.jsx("ol",{className:"list-decimal text-gray-300 mb-4 space-y-1 ml-4 pl-4",children:m}),li:({children:m})=>p.jsx("li",{className:"text-gray-300 mb-1 pl-1",children:m}),strong:({children:m})=>p.jsx("strong",{className:"font-semibold text-gray-100",children:m}),em:({children:m})=>p.jsx("em",{className:"italic text-gray-200",children:m}),code:({children:m,className:d})=>d?p.jsx("pre",{className:"bg-gray-800 border border-gray-600 rounded-lg p-4 overflow-x-auto mb-4",children:p.jsx("code",{className:"text-green-300 text-sm font-mono",children:m})}):p.jsx("code",{className:"bg-gray-700 text-purple-300 px-2 py-1 rounded text-sm font-mono",children:m}),blockquote:({children:m})=>p.jsx("blockquote",{className:"border-l-4 border-purple-500 bg-gray-800/50 pl-4 py-2 mb-4 italic text-gray-300",children:m}),table:({children:m})=>p.jsx("div",{className:"overflow-x-auto mb-6",children:p.jsx("table",{className:"min-w-full bg-gray-800 border border-gray-600 rounded-lg",children:m})}),thead:({children:m})=>p.jsx("thead",{className:"bg-gray-700",children:m}),tbody:({children:m})=>p.jsx("tbody",{className:"divide-y divide-gray-600",children:m}),tr:({children:m})=>p.jsx("tr",{className:"hover:bg-gray-700/50 transition-colors",children:m}),th:({children:m})=>p.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold text-purple-300 border-b border-gray-600",children:m}),td:({children:m})=>p.jsx("td",{className:"px-4 py-3 text-sm text-gray-300",children:m}),hr:()=>p.jsx("hr",{className:"border-gray-600 my-8"}),a:({href:m,children:d})=>p.jsx("a",{href:m,className:"text-purple-400 hover:text-purple-300 underline transition-colors",target:"_blank",rel:"noopener noreferrer",children:d})};return p.jsxs("div",{className:`markdown-content ${r}`,children:[p.jsxs("div",{className:"flex justify-end gap-2 mb-4 pb-4 border-b border-gray-700",children:[p.jsx(Xe,{onClick:u,variant:"outline",size:"sm",leftIcon:p.jsx(pI,{className:"w-4 h-4"}),children:"Copy Content"}),t&&p.jsx(Xe,{onClick:t,variant:"secondary",size:"sm",leftIcon:p.jsx(zf,{className:"w-4 h-4"}),children:"Export PDF"})]}),o&&p.jsx("div",{className:`text-sm mb-4 p-2 rounded ${o.includes("Failed")?"text-red-400 bg-red-900/20":"text-green-400 bg-green-900/20"}`,children:o}),p.jsx("div",{className:"prose prose-invert max-w-none",children:p.jsx(cT,{components:f,remarkPlugins:[PT],rehypePlugins:[IE],children:e})})]})};function cL(e){return typeof e=="number"}function dL(e){return typeof e=="string"}function fL(e){return typeof e<"u"}function mL(e,t){return Math.pow(2,(e-69)/12)*440}var hL=/^([a-gA-G])(#{1,}|b{1,}|x{1,}|)(-?\d*)\s*(.*)\s*$/,pL=[0,2,4,5,7,9,11];function gL(e,t,n){if(typeof e!="string")return null;var r=hL.exec(e);if(!r||r[4])return null;var o={letter:r[1].toUpperCase(),acc:r[2].replace(/x/g,"##")};o.pc=o.letter+o.acc,o.step=(o.letter.charCodeAt(0)+3)%7,o.alt=o.acc[0]==="b"?-o.acc.length:o.acc.length;var l=pL[o.step]+o.alt;return o.chroma=l<0?12+l:l%12,r[3]&&(o.oct=+r[3],o.midi=l+12*(o.oct+1),o.freq=mL(o.midi)),o}function yL(e){if((cL(e)||dL(e))&&e>=0&&e<128)return+e;var t=gL(e);return t&&fL(t.midi)?t.midi:null}function bL(e){return Array.isArray(e)&&e.length===2?e[0]*7+e[1]*12+12:yL(e)}var TL="C Db D Eb E F Gb G Ab A Bb B".split(" "),EL="C C# D D# E F F# G G# A A# B".split(" ");function ME(e,t){if(e===!0||e===!1)return function(l){return ME(l,e)};e=Math.round(e);var n=t===!0?EL:TL,r=n[e%12],o=Math.floor(e/12)-1;return r+o}const xL=Object.freeze(Object.defineProperty({__proto__:null,note:ME,toMidi:bL},Symbol.toStringTag,{value:"Module"})),vL=zv(xL);var Rf,$1;function CL(){if($1)return Rf;$1=1;var e=vL,t={VERSION:"2.1.4",HEADER_CHUNK_TYPE:[77,84,104,100],HEADER_CHUNK_LENGTH:[0,0,0,6],HEADER_CHUNK_FORMAT0:[0,0],HEADER_CHUNK_FORMAT1:[0,1],HEADER_CHUNK_DIVISION:[0,128],TRACK_CHUNK_TYPE:[77,84,114,107],META_EVENT_ID:255,META_TEXT_ID:1,META_COPYRIGHT_ID:2,META_TRACK_NAME_ID:3,META_INSTRUMENT_NAME_ID:4,META_LYRIC_ID:5,META_MARKER_ID:6,META_CUE_POINT:7,META_TEMPO_ID:81,META_SMTPE_OFFSET:84,META_TIME_SIGNATURE_ID:88,META_KEY_SIGNATURE_ID:89,META_END_OF_TRACK_ID:[47,0],CONTROLLER_CHANGE_STATUS:176,PITCH_BEND_STATUS:224};function n(j){"@babel/helpers - typeof";return n=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(R){return typeof R}:function(R){return R&&typeof Symbol=="function"&&R.constructor===Symbol&&R!==Symbol.prototype?"symbol":typeof R},n(j)}function r(){r=function(F,Q){return new k(F,void 0,Q)};var j=RegExp.prototype,R=new WeakMap;function k(F,Q,I){var oe=new RegExp(F,Q);return R.set(oe,I||R.get(F)),m(oe,k.prototype)}function C(F,Q){var I=R.get(Q);return Object.keys(I).reduce(function(oe,H){return oe[H]=F[I[H]],oe},Object.create(null))}return f(k,RegExp),k.prototype.exec=function(F){var Q=j.exec.call(this,F);return Q&&(Q.groups=C(Q,this)),Q},k.prototype[Symbol.replace]=function(F,Q){if(typeof Q=="string"){var I=R.get(this);return j[Symbol.replace].call(this,F,Q.replace(/\$<([^>]+)>/g,function(H,re){return"$"+I[re]}))}if(typeof Q=="function"){var oe=this;return j[Symbol.replace].call(this,F,function(){var H=arguments;return typeof H[H.length-1]!="object"&&(H=[].slice.call(H)).push(C(H,oe)),Q.apply(this,H)})}return j[Symbol.replace].call(this,F,Q)},r.apply(this,arguments)}function o(j,R){if(!(j instanceof R))throw new TypeError("Cannot call a class as a function")}function l(j,R){for(var k=0;k<R.length;k++){var C=R[k];C.enumerable=C.enumerable||!1,C.configurable=!0,"value"in C&&(C.writable=!0),Object.defineProperty(j,C.key,C)}}function u(j,R,k){return R&&l(j.prototype,R),k&&l(j,k),Object.defineProperty(j,"prototype",{writable:!1}),j}function f(j,R){if(typeof R!="function"&&R!==null)throw new TypeError("Super expression must either be null or a function");j.prototype=Object.create(R&&R.prototype,{constructor:{value:j,writable:!0,configurable:!0}}),Object.defineProperty(j,"prototype",{writable:!1}),R&&m(j,R)}function m(j,R){return m=Object.setPrototypeOf||function(C,F){return C.__proto__=F,C},m(j,R)}var d=function(){function j(){o(this,j)}return u(j,null,[{key:"version",value:function(){return t.VERSION}},{key:"stringToBytes",value:function(k){return k.split("").map(function(C){return C.charCodeAt()})}},{key:"isNumeric",value:function(k){return!isNaN(parseFloat(k))&&isFinite(k)}},{key:"getPitch",value:function(k){var C=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"C4";return 60-e.toMidi(C)+e.toMidi(k)}},{key:"numberToVariableLength",value:function(k){k=Math.round(k);for(var C=k&127;k=k>>7;)C<<=8,C|=k&127|128;for(var F=[];F.push(C&255),C&128;)C>>=8;return F}},{key:"stringByteCount",value:function(k){return encodeURI(k).split(/%..|./).length-1}},{key:"numberFromBytes",value:function(k){var C="",F;return k.forEach(function(Q){F=Q.toString(16),F.length==1&&(F="0"+F),C+=F}),parseInt(C,16)}},{key:"numberToBytes",value:function(k,C){C=C||1;var F=k.toString(16);F.length&1&&(F="0"+F);var Q=F.match(/.{2}/g);if(Q=Q.map(function(I){return parseInt(I,16)}),Q.length<C)for(;C-Q.length>0;)Q.unshift(0);return Q}},{key:"toArray",value:function(k){return Array.isArray(k)?k:[k]}},{key:"convertVelocity",value:function(k){return k=k>100?100:k,Math.round(k/100*127)}},{key:"getTickDuration",value:function(k){if(Array.isArray(k))return k.map(function(I){return j.getTickDuration(I)}).reduce(function(I,oe){return I+oe},0);if(k=k.toString(),k.toLowerCase().charAt(0)==="t"){var C=parseInt(k.substring(1));if(isNaN(C)||C<0)throw new Error(k+" is not a valid duration.");return C}var F=j.numberFromBytes(t.HEADER_CHUNK_DIVISION),Q=F*j.getDurationMultiplier(k);return j.getRoundedIfClose(Q)}},{key:"getRoundedIfClose",value:function(k){var C=Math.round(k);return Math.abs(C-k)<1e-6?C:k}},{key:"getPrecisionLoss",value:function(k){var C=Math.round(k);return C-k}},{key:"getDurationMultiplier",value:function(k){if(k==="0")return 0;var C=k.match(r(/^(d+)?(\d+)(?:t(\d*))?/,{dotted:1,base:2,tuplet:3}));if(C){var F=Number(C.groups.base),Q=F===1||(F&F-1)===0;if(Q){var I=F/4,oe=1/I,H=C.groups,re=H.dotted,_e=H.tuplet;if(re){var Se=re.length,De=Math.pow(2,Se);oe=oe+oe*((De-1)/De)}if(typeof _e=="string"){var we=oe*2,tt=Number(_e||"3");oe=we/tt}return oe}}throw new Error(k+" is not a valid duration.")}}]),j}(),g=u(function j(R){o(this,j),R=Object.assign({delta:0},R),this.type="controller",this.data=d.numberToVariableLength(R.delta).concat(t.CONTROLLER_CHANGE_STATUS,R.controllerNumber,R.controllerValue)}),x=u(function j(R){o(this,j),R=Object.assign({delta:0},R),this.type="cue-point";var k=d.stringToBytes(R.text);this.data=d.numberToVariableLength(R.delta).concat(t.META_EVENT_ID,t.META_CUE_POINT,d.numberToVariableLength(k.length),k)}),v=u(function j(R){o(this,j),R=Object.assign({delta:0},R),this.type="end-track",this.data=d.numberToVariableLength(R.delta).concat(t.META_EVENT_ID,t.META_END_OF_TRACK_ID)}),S=u(function j(R){o(this,j),R=Object.assign({delta:0},R),this.type="instrument-name";var k=d.stringToBytes(R.text);this.data=d.numberToVariableLength(R.delta).concat(t.META_EVENT_ID,t.META_INSTRUMENT_NAME_ID,d.numberToVariableLength(k.length),k)}),_=u(function j(R,k){o(this,j),this.type="key-signature";var C=k||0;if(R=R||0,typeof k>"u"){var F=[["Cb","Gb","Db","Ab","Eb","Bb","F","C","G","D","A","E","B","F#","C#"],["ab","eb","bb","f","c","g","d","a","e","b","f#","c#","g#","d#","a#"]],Q=R.length,I=R||"C";if(R[0]===R[0].toLowerCase()&&(C=1),Q>1)switch(R.charAt(Q-1)){case"m":C=1,I=R.charAt(0).toLowerCase(),I=I.concat(R.substring(1,Q-1));break;case"-":C=1,I=R.charAt(0).toLowerCase(),I=I.concat(R.substring(1,Q-1));break;case"M":C=0,I=R.charAt(0).toUpperCase(),I=I.concat(R.substring(1,Q-1));break;case"+":C=0,I=R.charAt(0).toUpperCase(),I=I.concat(R.substring(1,Q-1));break}var oe=F[C].indexOf(I);R=oe===-1?0:oe-7}this.data=d.numberToVariableLength(0).concat(t.META_EVENT_ID,t.META_KEY_SIGNATURE_ID,[2],d.numberToBytes(R,1),d.numberToBytes(C,1))}),D=u(function j(R){o(this,j),R=Object.assign({delta:0},R),this.type="lyric";var k=d.stringToBytes(R.text);this.data=d.numberToVariableLength(R.delta).concat(t.META_EVENT_ID,t.META_LYRIC_ID,d.numberToVariableLength(k.length),k)}),U=u(function j(R){o(this,j),R=Object.assign({delta:0},R),this.type="marker";var k=d.stringToBytes(R.text);this.data=d.numberToVariableLength(R.delta).concat(t.META_EVENT_ID,t.META_MARKER_ID,d.numberToVariableLength(k.length),k)}),L=function(){function j(R){o(this,j),R=Object.assign({channel:1,startTick:null,velocity:50,wait:0},R),this.type="note-on",this.channel=R.channel,this.pitch=R.pitch,this.wait=R.wait,this.velocity=R.velocity,this.startTick=R.startTick,this.tick=null,this.delta=null,this.data=R.data}return u(j,[{key:"buildData",value:function(k,C){var F=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this.data=[],this.startTick?(this.tick=d.getRoundedIfClose(this.startTick),k.tickPointer==0&&(this.delta=this.tick)):(this.delta=d.getTickDuration(this.wait),this.tick=d.getRoundedIfClose(k.tickPointer+this.delta)),this.deltaWithPrecisionCorrection=d.getRoundedIfClose(this.delta-C),this.data=d.numberToVariableLength(this.deltaWithPrecisionCorrection).concat(this.getStatusByte(),d.getPitch(this.pitch,F.middleC),d.convertVelocity(this.velocity)),this}},{key:"getStatusByte",value:function(){return 144+this.channel-1}}]),j}(),K=function(){function j(R){o(this,j),R=Object.assign({channel:1,velocity:50,tick:null},R),this.type="note-off",this.channel=R.channel,this.pitch=R.pitch,this.duration=R.duration,this.velocity=R.velocity,this.tick=R.tick,this.delta=d.getTickDuration(this.duration),this.data=R.data}return u(j,[{key:"buildData",value:function(k,C){var F=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this.tick===null&&(this.tick=d.getRoundedIfClose(this.delta+k.tickPointer)),this.deltaWithPrecisionCorrection=d.getRoundedIfClose(this.delta-C),this.data=d.numberToVariableLength(this.deltaWithPrecisionCorrection).concat(this.getStatusByte(),d.getPitch(this.pitch,F.middleC),d.convertVelocity(this.velocity)),this}},{key:"getStatusByte",value:function(){return 128+this.channel-1}}]),j}(),G=function(){function j(R){o(this,j),R=Object.assign({channel:1,repeat:1,sequential:!1,startTick:null,velocity:50,wait:0},R),this.data=[],this.type="note",this.pitch=d.toArray(R.pitch),this.channel=R.channel,this.duration=R.duration,this.grace=R.grace,this.repeat=R.repeat,this.sequential=R.sequential,this.startTick=R.startTick,this.velocity=R.velocity,this.wait=R.wait,this.tickDuration=d.getTickDuration(this.duration),this.restDuration=d.getTickDuration(this.wait),this.events=[]}return u(j,[{key:"buildData",value:function(){var k=this;if(this.data=[],this.grace){var C=1;this.grace=d.toArray(this.grace),this.grace.forEach(function(){var I=new j({pitch:k.grace,duration:"T"+C});k.data=k.data.concat(I.data)})}if(this.sequential)for(var Q=0;Q<this.repeat;Q++)this.pitch.forEach(function(I,oe){var H=new L({channel:k.channel,wait:oe>0?0:k.wait,velocity:k.velocity,pitch:I,startTick:k.startTick}),re=new K({channel:k.channel,duration:k.duration,velocity:k.velocity,pitch:I});k.events.push(H,re)});else for(var F=0;F<this.repeat;F++)this.pitch.forEach(function(I,oe){var H;oe==0?H=new L({channel:k.channel,wait:k.wait,velocity:k.velocity,pitch:I,startTick:k.startTick}):H=new L({channel:k.channel,wait:0,velocity:k.velocity,pitch:I,startTick:k.startTick}),k.events.push(H)}),this.pitch.forEach(function(I,oe){var H;oe==0?H=new K({channel:k.channel,duration:k.duration,velocity:k.velocity,pitch:I,tick:k.startTick!==null?d.getTickDuration(k.duration)+k.startTick:null}):H=new K({channel:k.channel,duration:0,velocity:k.velocity,pitch:I,tick:k.startTick!==null?d.getTickDuration(k.duration)+k.startTick:null}),k.events.push(H)});return this}}]),j}(),$=function(R){return R<=0?Math.floor(16384*(R+1)/2):Math.floor(16383*(R+1)/2)},B=u(function j(R){o(this,j),R=Object.assign({delta:0},R),this.type="pitch-bend";var k=$(R.bend),C=R.channel||0,F=k&127,Q=k>>7&127;this.data=d.numberToVariableLength(R.delta).concat(t.PITCH_BEND_STATUS|C,F,Q)}),z=function(){function j(R){o(this,j),this.fields=Object.assign({channel:1,delta:0},R),this.type="program",this.data=d.numberToVariableLength(this.fields.delta).concat(this.getStatusByte(),this.fields.instrument)}return u(j,[{key:"getStatusByte",value:function(){return 192+this.fields.channel-1}}]),j}(),se=u(function j(R){o(this,j),R=Object.assign({delta:0},R),this.type="tempo",this.tick=R.tick;var k=Math.round(6e7/R.bpm);this.data=d.numberToVariableLength(R.delta).concat(t.META_EVENT_ID,t.META_TEMPO_ID,[3],d.numberToBytes(k,3))}),ye=u(function j(R){o(this,j),R=Object.assign({delta:0},R),this.type="text";var k=d.stringToBytes(R.text);this.data=d.numberToVariableLength(R.delta).concat(t.META_EVENT_ID,t.META_TEXT_ID,d.numberToVariableLength(k.length),k)}),Ae=u(function j(R,k,C,F){o(this,j),this.type="time-signature",this.data=d.numberToVariableLength(0).concat(t.META_EVENT_ID,t.META_TIME_SIGNATURE_ID,[4],d.numberToBytes(R,1),d.numberToBytes(Math.log2(k),1),d.numberToBytes(C||24,1),d.numberToBytes(F||8,1))}),q=u(function j(R){o(this,j),R=Object.assign({delta:0},R),this.type="copyright";var k=d.stringToBytes(R.text);this.data=d.numberToVariableLength(R.delta).concat(t.META_EVENT_ID,t.META_COPYRIGHT_ID,d.numberToVariableLength(k.length),k)}),be=u(function j(R){o(this,j),R=Object.assign({delta:0},R),this.type="track-name";var k=d.stringToBytes(R.text);this.data=d.numberToVariableLength(R.delta).concat(t.META_EVENT_ID,t.META_TRACK_NAME_ID,d.numberToVariableLength(k.length),k)}),Ee=function(){function j(){o(this,j),this.type=t.TRACK_CHUNK_TYPE,this.data=[],this.size=[],this.events=[],this.explicitTickEvents=[],this.tickPointer=0}return u(j,[{key:"addEvent",value:function(k,C){var F=this;return d.toArray(k).forEach(function(Q,I){if(Q instanceof G){if(typeof C=="function"){var oe=C(I,Q);if(n(oe)==="object")for(var H in oe)switch(H){case"channel":Q.channel=oe[H];break;case"duration":Q.duration=oe[H];break;case"sequential":Q.sequential=oe[H];break;case"velocity":Q.velocity=d.convertVelocity(oe[H]);break}}Q.startTick!==null?F.explicitTickEvents.push(Q):Q.buildData().events.forEach(function(re){return F.events.push(re)})}else Q instanceof v&&F.removeEventsByType("end-track"),F.events.push(Q)}),this}},{key:"buildData",value:function(){var k=this,C=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};(!this.events.length||!(this.events[this.events.length-1]instanceof v))&&this.addEvent(new v),this.data=[],this.size=[],this.tickPointer=0;var F=0;return this.events.forEach(function(Q){if(Q instanceof L||Q instanceof K){var I=Q.buildData(k,F,C);F=d.getPrecisionLoss(Q.deltaWithPrecisionCorrection||0),k.data=k.data.concat(I.data),k.tickPointer=d.getRoundedIfClose(Q.tick)}else Q instanceof se&&(k.tickPointer=d.getRoundedIfClose(Q.tick)),k.data=k.data.concat(Q.data)}),this.mergeExplicitTickEvents(),this.size=d.numberToBytes(this.data.length,4),this}},{key:"mergeExplicitTickEvents",value:function(){var k=this;this.explicitTickEvents.length&&(this.explicitTickEvents.sort(function(C,F){return C.startTick-F.startTick}),this.explicitTickEvents.forEach(function(C){C.buildData().events.forEach(function(F){return F.buildData(k)}),C.events.forEach(function(F){return k.mergeSingleEvent(F)})}),this.explicitTickEvents=[],this.buildData())}},{key:"mergeTrack",value:function(k){var C=this;this.buildData(),k.buildData().events.forEach(function(F){return C.mergeSingleEvent(F)})}},{key:"mergeSingleEvent",value:function(k){if(!this.events.length){this.addEvent(k);return}for(var C,F=0;F<this.events.length&&!(this.events[F].tick>k.tick);F++)C=F;var Q=C+1;k.delta=k.tick-this.events[C].tick,this.events.splice(Q,0,k);for(var I=Q+1;I<this.events.length;I++)this.events[I].delta=this.events[I].tick-this.events[I-1].tick}},{key:"removeEventsByType",value:function(k){var C=this;return this.events.forEach(function(F,Q){F.type===k&&C.events.splice(Q,1)}),this}},{key:"setTempo",value:function(k){var C=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return this.addEvent(new se({bpm:k,tick:C}))}},{key:"setTimeSignature",value:function(k,C,F,Q){return this.addEvent(new Ae(k,C,F,Q))}},{key:"setKeySignature",value:function(k,C){return this.addEvent(new _(k,C))}},{key:"addText",value:function(k){return this.addEvent(new ye({text:k}))}},{key:"addCopyright",value:function(k){return this.addEvent(new q({text:k}))}},{key:"addTrackName",value:function(k){return this.addEvent(new be({text:k}))}},{key:"addInstrumentName",value:function(k){return this.addEvent(new S({text:k}))}},{key:"addMarker",value:function(k){return this.addEvent(new U({text:k}))}},{key:"addCuePoint",value:function(k){return this.addEvent(new x({text:k}))}},{key:"addLyric",value:function(k){return this.addEvent(new D({text:k}))}},{key:"polyModeOn",value:function(){var k=new L({data:[0,176,126,0]});return this.addEvent(k)}},{key:"setPitchBend",value:function(k){return this.addEvent(new B({bend:k}))}},{key:"controllerChange",value:function(k,C){return this.addEvent(new g({controllerNumber:k,controllerValue:C}))}}]),j}(),Ce=function(){function j(){o(this,j)}return u(j,[{key:"trackFromVoice",value:function(k){var C=this,F=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{addRenderedAccidentals:!1},Q=new Ee,I=[];return k.tickables.forEach(function(oe){oe.noteType==="n"?(Q.addEvent(new G({pitch:oe.keys.map(function(H,re){return C.convertPitch(H,re,oe,F.addRenderedAccidentals)}),duration:C.convertDuration(oe),wait:I})),I=[]):oe.noteType==="r"&&I.push(C.convertDuration(oe))}),I.length>0&&Q.addEvent(new G({pitch:"[c4]",duration:"0",wait:I,velocity:"0"})),Q}},{key:"convertPitch",value:function(k,C,F){var Q=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1,I=k.split("/"),oe=I[0].substring(1).replace("n","");if(Q){var H;(H=F.getAccidentals())===null||H===void 0||H.forEach(function(re){re.index===C&&(re.type==="n"?oe="":oe+=re.type)})}return I[0][0]+oe+I[1]}},{key:"convertDuration",value:function(k){return"d".repeat(k.dots)+this.convertBaseDuration(k.duration)+(k.tuplet?"t"+k.tuplet.num_notes:"")}},{key:"convertBaseDuration",value:function(k){switch(k){case"w":return"1";case"h":return"2";case"q":return"4";default:return k}}}]),j}(),me=u(function j(R){o(this,j),this.type=t.HEADER_CHUNK_TYPE;var k=R>1?t.HEADER_CHUNK_FORMAT1:t.HEADER_CHUNK_FORMAT0;this.data=k.concat(d.numberToBytes(R,2),t.HEADER_CHUNK_DIVISION),this.size=[0,0,0,this.data.length]}),ie=function(){function j(R){var k=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};o(this,j),this.tracks=d.toArray(R),this.options=k}return u(j,[{key:"buildData",value:function(){var k=this,C=[];return C.push(new me(this.tracks.length)),this.tracks.forEach(function(F){C.push(F.buildData(k.options))}),C}},{key:"buildFile",value:function(){var k=[];return this.buildData().forEach(function(C){return k=k.concat(C.type,C.size,C.data)}),new Uint8Array(k)}},{key:"base64",value:function(){return typeof btoa=="function"?btoa(String.fromCharCode.apply(null,this.buildFile())):Buffer.from(this.buildFile()).toString("base64")}},{key:"dataUri",value:function(){return"data:audio/midi;base64,"+this.base64()}},{key:"setOption",value:function(k,C){return this.options[k]=C,this}},{key:"stdout",value:function(){return process.stdout.write(Buffer.from(this.buildFile()))}}]),j}(),W={Constants:t,ControllerChangeEvent:g,CuePointEvent:x,EndTrackEvent:v,InstrumentNameEvent:S,KeySignatureEvent:_,LyricEvent:D,MarkerEvent:U,NoteOnEvent:L,NoteOffEvent:K,NoteEvent:G,PitchBendEvent:B,ProgramChangeEvent:z,TempoEvent:se,TextEvent:ye,TimeSignatureEvent:Ae,Track:Ee,TrackNameEvent:be,Utils:d,VexFlow:Ce,Writer:ie};return Rf=W,Rf}var SL=CL();const Wn=Ms(SL),lu=e=>{if(!Wn.Track)return null;const t=new Wn.Track;return t.addTrackName(e),t},kf=(e,t,n,r=!1)=>{!Wn.NoteEvent||!t||t.length===0||!e||t.forEach(o=>{let l=[];if(r)l=o.notes.map(f=>f.midi).filter(f=>typeof f=="number");else{const u=o;typeof u.midi=="number"&&(l=[u.midi])}if(l.length>0){const u=Math.round(o.duration*128),f=Math.round(o.time*128),m=l.map(d=>{const g=["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"],x=Math.floor(d/12)-1;return`${g[d%12]}${x}`});e.addEvent(new Wn.NoteEvent({pitch:m.length===1?m[0]:m,duration:`T${u}`,startTick:f,velocity:o.velocity||(r?90:100),channel:n}))}})},AL=(e,t)=>{!Wn.NoteEvent||!t||Object.keys(t).length===0||!e||Object.entries(t).forEach(([n,r])=>{const o=n.toLowerCase().replace(/\s+/g,"_"),l=Ur[o]||Ur[n];typeof l!="number"||!r||r.forEach(u=>{const f=Math.round(u.duration*128),m=Math.round(u.time*128),d=["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"],g=Math.floor(l/12)-1,v=`${d[l%12]}${g}`;e.addEvent(new Wn.NoteEvent({pitch:v,duration:`T${f}`,startTick:m,velocity:u.velocity||100,channel:10}))})})},X1=(e,t,n="TrackGuide")=>{if(console.log("🎼 Generating MIDI file with patterns:",e),console.log("🎼 Settings:",t),console.log("🎼 Track name prefix:",n),!Wn||!Wn.Writer||!Wn.Track||!Wn.NoteEvent)return console.error("MidiWriterJS components (Writer, Track, NoteEvent) are not loaded. Cannot generate MIDI file."),null;const r=[];let o=!1;const l=f=>(f&&(f.setTempo(t.tempo,0),f.setTimeSignature(t.timeSignature[0],t.timeSignature[1])),f);if(e.chords&&e.chords.length>0){let f=lu(`${n} Chords`);f=l(f),f&&(kf(f,e.chords,1,!0),r.push(f),o=!0)}if(e.bassline&&e.bassline.length>0){let f=lu(`${n} Bassline`);f=l(f),f&&(kf(f,e.bassline,2,!1),r.push(f),o=!0)}if(e.melody&&e.melody.length>0){let f=lu(`${n} Melody`);f=l(f),f&&(kf(f,e.melody,3,!1),r.push(f),o=!0)}if(e.drums&&Object.keys(e.drums).length>0){let f=lu(`${n} Drums`);f=l(f),f&&(AL(f,e.drums),r.push(f),o=!0)}return o?new Wn.Writer(r).dataUri():(console.warn("No patterns to write to MIDI file."),null)},W1=(e,t)=>{if(console.log("💾 Downloading MIDI file:",t),console.log("💾 Data URI length:",e.length),console.log("💾 Data URI starts with:",e.substring(0,50)),!e){console.error("MIDI data URI is null or empty. Cannot download."),alert("Failed to generate MIDI data for download.");return}const n=document.createElement("a");n.href=e,n.download=t,document.body.appendChild(n),n.click(),document.body.removeChild(n),console.log("💾 Download triggered successfully")};let $n=null,si=[],Iu=null,yu=null,Nu=0,xs=0,Hr=!1;const Pm=()=>((!$n||$n.state==="closed")&&($n=new(window.AudioContext||window.webkitAudioContext),Iu=$n.createGain(),Iu.connect($n.destination)),$n.state==="suspended"&&$n.resume(),$n),Bi=(e,t)=>{const n=e/t*60;return Number.isFinite(n)?n:(console.error("🚨 beatsToSeconds produced non-finite result:",n,"beats:",e,"tempo:",t),0)},wf=(e,t,n,r=100,o=!1,l,u)=>{const f=Pm();if(!Iu||!u)return;if(!Number.isFinite(e)||!Number.isFinite(t)||!Number.isFinite(n)||!Number.isFinite(r)){console.error("🚨 Invalid note values detected:",{noteNumber:e,startTimeInLoopSeconds:t,durationSeconds:n,velocity:r,trackType:u,isDrum:o,drumTypeKey:l});return}const m=Nu+xs*DE()+t;if(m<f.currentTime-.05)return;const d=f.createGain(),g=r/127*(o?.75:.35);let x=g;if((!Number.isFinite(x)||x<0)&&(console.error("🚨 Invalid gain value detected:",x,"for velocity:",r),x=.1),d.gain.setValueAtTime(x,m),x>1e-4)try{d.gain.exponentialRampToValueAtTime(1e-4,m+n)}catch{d.gain.linearRampToValueAtTime(1e-4,m+n)}d.connect(Iu);let v;if(o){const S=l||"";if(console.log(`🥁 Synthesizing drum: "${S}" (MIDI: ${e})`),S.includes("kick")||S.includes("bass_drum")||e===36){const _=f.createOscillator();_.type="sine",_.frequency.setValueAtTime(150,m),_.frequency.exponentialRampToValueAtTime(50,m+Math.min(n,.12));const D=f.createGain();D.gain.setValueAtTime(1,m),D.gain.exponentialRampToValueAtTime(.001,m+n),_.connect(D).connect(d),_.start(m),_.stop(m+n),si.push({node:_,controlGainNode:d,trackType:u,intendedVolume:g,scheduledStopTime:m+n,isDrum:!0});return}else if(S.includes("snare")||e===38){v=f.createBufferSource();const _=Math.max(1,Math.floor(f.sampleRate*n)),D=f.createBuffer(1,_,f.sampleRate),U=D.getChannelData(0);for(let L=0;L<_;L++)U[L]=(Math.random()*2-1)*Math.exp(-L/(f.sampleRate*.05));v.buffer=D}else if(S.includes("clap")||S.includes("hand_clap")||e===39){v=f.createBufferSource();const _=Math.max(1,Math.floor(f.sampleRate*n)),D=f.createBuffer(1,_,f.sampleRate),U=D.getChannelData(0);for(let L=0;L<_;L++){const K=Math.exp(-L/(f.sampleRate*.03)),G=Math.random()*2-1,$=Math.sin(L*.01)>.5?1:.3;U[L]=G*K*$}v.buffer=D}else if(S.includes("hat")||S.includes("hihat")||e===42||e===46){v=f.createBufferSource();const _=Math.max(1,Math.floor(f.sampleRate*n)),D=f.createBuffer(1,_,f.sampleRate),U=D.getChannelData(0),L=5e3,G=S.includes("open")||e===46?.15:.03;for(let $=0;$<_;$++)U[$]=(Math.random()*2-1)*Math.exp(-$/(f.sampleRate*G))*Math.sin(2*Math.PI*L*($/f.sampleRate)*(1+Math.random()*.3));v.buffer=D}else if(S.includes("crash")||S.includes("cymbal")||e===49){v=f.createBufferSource();const _=Math.max(1,Math.floor(f.sampleRate*n)),D=f.createBuffer(1,_,f.sampleRate),U=D.getChannelData(0),L=4e3,K=.25;for(let G=0;G<_;G++){const $=Math.exp(-G/(f.sampleRate*K)),B=Math.sin(2*Math.PI*L*(G/f.sampleRate)),z=Math.sin(2*Math.PI*L*1.5*(G/f.sampleRate)),se=(Math.random()*2-1)*.3;U[G]=(B+z*.7+se)*$}v.buffer=D}else if(S.includes("ride")||e===51){v=f.createBufferSource();const _=Math.max(1,Math.floor(f.sampleRate*n)),D=f.createBuffer(1,_,f.sampleRate),U=D.getChannelData(0),L=3e3,K=.15;for(let G=0;G<_;G++){const $=Math.exp(-G/(f.sampleRate*K)),B=Math.sin(2*Math.PI*L*(G/f.sampleRate)),z=Math.sin(2*Math.PI*L*2.5*(G/f.sampleRate))*.3;U[G]=(B+z)*$}v.buffer=D}else if(S.includes("tom")||e===41||e===47||e===50){const _=f.createOscillator();_.type="sine";let D=200;S.includes("high")||e===50?D=300:S.includes("mid")||e===47?D=200:(S.includes("low")||e===41)&&(D=120),_.frequency.setValueAtTime(D,m),_.frequency.exponentialRampToValueAtTime(D*.5,m+n*.8);const U=f.createGain();U.gain.setValueAtTime(.9,m),U.gain.exponentialRampToValueAtTime(.001,m+n),_.connect(U).connect(d),_.start(m),_.stop(m+n),si.push({node:_,controlGainNode:d,trackType:u,intendedVolume:g,scheduledStopTime:m+n,isDrum:!0});return}else if(S.includes("shaker")||S.includes("tambourine")||S.includes("cowbell")||e===70||e===54||e===56){v=f.createBufferSource();const _=Math.max(1,Math.floor(f.sampleRate*n)),D=f.createBuffer(1,_,f.sampleRate),U=D.getChannelData(0),L=S.includes("cowbell")?800:6e3,K=.1;for(let G=0;G<_;G++){const $=Math.exp(-G/(f.sampleRate*K));S.includes("cowbell")?U[G]=Math.sin(2*Math.PI*L*(G/f.sampleRate))*$:U[G]=(Math.random()*2-1)*$}v.buffer=D}else{console.log(`🥁 Using generic percussion for: "${S}" (MIDI: ${e})`),v=f.createBufferSource();const _=Math.max(1,Math.floor(f.sampleRate*n)),D=f.createBuffer(1,_,f.sampleRate),U=D.getChannelData(0);for(let L=0;L<_;L++)U[L]=(Math.random()*2-1)*Math.exp(-L/(f.sampleRate*.1));v.buffer=D}}else{v=f.createOscillator(),v.type="sawtooth";const S=440*Math.pow(2,(e-69)/12);if(!Number.isFinite(S)||S<=0){console.error("🚨 Invalid frequency calculated:",S,"for note number:",e);return}v.frequency.setValueAtTime(S,m)}v.connect(d),v.start(m),v.stop(m+n),si.push({node:v,controlGainNode:d,trackType:u,intendedVolume:g,scheduledStopTime:m+n,isDrum:o})};let lm=null;const DE=()=>{if(!lm)throw new Error("Settings not available for loop duration calculation.");const{tempo:e,bars:t,timeSignature:n}=lm,r=n[0]*(4/n[1]);return Bi(t*r,e)},J1=(e,t,n)=>{console.log("🎵 Starting playback with patterns:",e),console.log("🎵 Settings:",t),console.log("🎵 Track to play:",n),RE(!1),Hr=!0,xs=0,lm={...t};const r=Pm();Nu=r.currentTime,si=[];const o=DE();if(console.log("🎵 Loop duration:",o,"seconds"),o<=0){console.error("Loop duration is zero or negative. Cannot play."),Hr=!1;return}function l(){if(!Hr)return;const u=r.currentTime;si=si.filter(g=>g.scheduledStopTime>u||!g.node);const f=t.tempo,m=(g,x)=>{if(!x){console.log(`🎵 No data for track: ${g}`);return}console.log(`🎵 Scheduling track: ${g}`,x),g==="drums"&&typeof x=="object"&&!Array.isArray(x)?Object.entries(x).forEach(([v,S])=>{let _,D;if(console.log(`🥁 Processing drum element: "${v}"`),_=Ur[v],D=v,!_){const U=v.toLowerCase().replace(/\s+/g,"_");_=Ur[U],D=U}if(!_){const U={kick_drum:{midi:"kick",key:"kick"},bass_drum:{midi:"kick",key:"kick"},acoustic_bass_drum:{midi:"kick",key:"kick"},snare_drum:{midi:"snare",key:"snare"},acoustic_snare:{midi:"snare",key:"snare"},hi_hat_closed:{midi:"hihat_closed",key:"hihat_closed"},hi_hat_open:{midi:"open_hihat",key:"open_hihat"},hihat_open:{midi:"open_hihat",key:"open_hihat"},closed_hi_hat:{midi:"hihat_closed",key:"hihat_closed"},open_hi_hat:{midi:"open_hihat",key:"open_hihat"},crash_cymbal:{midi:"crash_cymbal_1",key:"crash_cymbal_1"},crash:{midi:"crash",key:"crash_cymbal_1"},ride_cymbal:{midi:"ride_cymbal_1",key:"ride_cymbal_1"},ride:{midi:"ride",key:"ride_cymbal_1"},hand_clap:{midi:"clap",key:"clap"},handclap:{midi:"clap",key:"clap"},tom_hi:{midi:"tom_high",key:"tom_high"},tom_lo:{midi:"tom_low",key:"tom_low"},high_tom:{midi:"tom_high",key:"tom_high"},mid_tom:{midi:"tom_mid",key:"tom_mid"},low_tom:{midi:"tom_low",key:"tom_low"},low_floor_tom:{midi:"tom_low",key:"tom_low"},high_floor_tom:{midi:"tom_high",key:"tom_high"}},L=v.toLowerCase().replace(/\s+/g,"_"),K=U[L];K&&(_=Ur[K.midi],D=K.key)}if(console.log(`🥁 Final mapping: "${v}" -> "${D}" -> MIDI: ${_}`),typeof _!="number"||!S){console.warn(`🚨 No MIDI mapping found for drum element: "${v}"`),console.warn("🚨 Available drum mappings:",Object.keys(Ur));return}S.forEach(U=>{console.log(`🥁 Scheduling ${D} hit:`,U),wf(_,Bi(U.time,f),Bi(U.duration,f),U.velocity,!0,D,g)})}):Array.isArray(x)&&x.forEach((v,S)=>{if(console.log(`🎹 Processing ${g} event ${S}:`,v),"notes"in v)v.notes.forEach((D,U)=>{console.log(`🎹 Chord note ${U}:`,D),typeof D.midi=="number"?wf(D.midi,Bi(v.time,f),Bi(v.duration,f),v.velocity,!1,void 0,g):console.warn("🚨 Invalid MIDI number in chord note:",D)});else{const D=v;console.log("🎹 Single note:",D),typeof D.midi=="number"?wf(D.midi,Bi(v.time,f),Bi(v.duration,f),v.velocity,!1,void 0,g):console.warn("🚨 Invalid MIDI number in note:",D)}})};if((n?[n]:["chords","bassline","melody","drums"]).forEach(g=>{switch(g){case"chords":e.chords&&m("chords",e.chords);break;case"bassline":e.bassline&&m("bassline",e.bassline);break;case"melody":e.melody&&m("melody",e.melody);break;case"drums":e.drums&&m("drums",e.drums);break}}),Hr){const g=Nu+(xs+1)*o;let x=(g-r.currentTime)*1e3;x<0&&(console.warn(`Loop drift detected. Next loop scheduled with minimal delay. Ideal: ${g}, Current: ${r.currentTime}`),x=10),yu=window.setTimeout(()=>{Hr&&(xs++,l())},x)}}l()},Xn=()=>{Hr=!1,RE(!0),$n&&$n.state==="suspended"&&$n.resume()},RE=e=>{yu!==null&&(clearTimeout(yu),yu=null),si.forEach(t=>{try{t.node&&(t.node.stop(),t.node.disconnect()),t.controlGainNode&&t.controlGainNode.disconnect()}catch{}}),si=[],e&&(xs=0,Nu=0)},Hi=async()=>{try{const e=Pm();e.state==="suspended"&&await e.resume()}catch(e){console.error("Failed to initialize audio context:",e)}},_L=async e=>new Promise((t,n)=>{const r=new FileReader;r.onload=()=>{if(r.result&&typeof r.result=="string"){const o=r.result.split(","),l=o[1],u=o[0].match(/data:(.*);base64/),f=u?u[1]:e.type||"audio/mpeg";t({base64:l,mimeType:f})}else n(new Error("Failed to read file"))},r.onerror=()=>n(new Error("File reading failed")),r.readAsDataURL(e)}),IL={kick:"Kick",snare:"Snare",hihat:"Hi-Hat",hihat_open:"Hi-Hat Open",hihat_closed:"Hi-Hat Closed",crash:"Crash",ride:"Ride",tom:"Tom",tom_high:"High Tom",tom_mid:"Mid Tom",tom_low:"Low Tom",clap:"Clap",shaker:"Shaker",tambourine:"Tambourine",cowbell:"Cowbell",rim:"Rimshot"},Pi=e=>{if(!e)return"General musical context. Focus on genre and vibe.";const t=e.indexOf("## 3. Instrument & Sound Design Guide"),n=t>0?t:e.indexOf("## 2. Structural Blueprint")>0?e.indexOf("## 2. Structural Blueprint"):1500;return e.substring(0,Math.min(n,e.length))},NL=e=>{const t=e.match(/^([A-G][#b]?)/);return t?t[1]:"C"},ML=e=>{const t=NL(e);return wy[t]||wy.C},DL=e=>Hn[e]||Hn.Default,us=[1,2,4,8,16,32],kE=({currentGuidebookEntry:e,mainAppInputs:t,onUpdateGuidebookEntryMidi:n,parsedGuidebookBpm:r,parsedGuidebookKey:o,parsedGuidebookChordProg:l,initialPatterns:u,sections:f,targetTempo:m,targetKey:d,isRemixMode:g=!1})=>{var F,Q,I,oe;const[x,v]=he.useState(()=>{var Ue,Ie;if(g)return{...ut,key:d||ut.key,tempo:m||ut.tempo,genre:"Electronic",songSection:(f==null?void 0:f[0])||ut.songSection,guidebookContext:`Remix mode for ${d||"C minor"} at ${m||128} BPM`,targetInstruments:["bassline","drums","melody","chords"],bars:8};if(e!=null&&e.midiSettings)return{...e.midiSettings,bars:us.includes(e.midiSettings.bars)?e.midiSettings.bars:ut.bars,songSection:e.midiSettings.songSection||ut.songSection,targetInstruments:e.midiSettings.targetInstruments&&e.midiSettings.targetInstruments.length>0?e.midiSettings.targetInstruments:[...ut.targetInstruments],guidebookContext:e.midiSettings.guidebookContext||Pi(e.content)};const H=((Ue=e==null?void 0:e.genre)==null?void 0:Ue[0])||((Ie=t==null?void 0:t.genre)==null?void 0:Ie[0])||ut.genre,re=Pi((e==null?void 0:e.content)||""),_e=ra[H]||ra.Default,Se=Math.round((_e[0]+_e[1])/2),De=ut.songSection;let we=ut.bars;const tt=De.toLowerCase();return tt.includes("intro")||tt.includes("outro")||tt.includes("fill")||tt.includes("breakdown")?we=4:we=8,we=us.includes(we)?we:ut.bars,{...ut,genre:H,key:o||ut.key,tempo:r||Se,chordProgression:l||(Hn[H]||Hn.Default)[0],guidebookContext:re,targetInstruments:[...ut.targetInstruments],songSection:De,bars:we}}),[S,_]=he.useState(()=>{if(g&&u){const H={};return Object.entries(u).forEach(([re,_e])=>{Object.entries(_e).forEach(([Se,De])=>{const we=`${re}_${Se}`;typeof De!="string"&&(H[we]=De)})}),H}return(e==null?void 0:e.generatedMidiPatterns)||null}),[D,U]=he.useState(!1),[L,K]=he.useState(""),[G,$]=he.useState(null),[B,z]=he.useState(!1),se=he.useRef(B);he.useEffect(()=>{se.current=B},[B]);const[ye,Ae]=he.useState(!1);he.useEffect(()=>{var re,_e;let H;if(e!=null&&e.midiSettings)H=e.midiSettings.bars||ut.bars,v({...e.midiSettings,bars:us.includes(H)?H:ut.bars,songSection:e.midiSettings.songSection||ut.songSection,targetInstruments:e.midiSettings.targetInstruments&&e.midiSettings.targetInstruments.length>0?e.midiSettings.targetInstruments:[...ut.targetInstruments],guidebookContext:e.midiSettings.guidebookContext||Pi(e.content)});else{const Se=((re=e==null?void 0:e.genre)==null?void 0:re[0])||((_e=t==null?void 0:t.genre)==null?void 0:_e[0])||ut.genre,De=Pi((e==null?void 0:e.content)||""),we=ra[Se]||ra.Default,tt=Math.round((we[0]+we[1])/2),Ue=ut.songSection;let Ie=ut.bars;const je=Ue.toLowerCase();je.includes("intro")||je.includes("outro")||je.includes("fill")||je.includes("breakdown")?Ie=4:Ie=8,H=us.includes(Ie)?Ie:ut.bars,v({...ut,key:o||ut.key,tempo:r||tt,chordProgression:l||(Hn[Se]||Hn.Default)[0],genre:Se,guidebookContext:De,targetInstruments:[...ut.targetInstruments],songSection:Ue,bars:H})}_((e==null?void 0:e.generatedMidiPatterns)||null),$(null),se.current&&(Xn(),z(!1))},[e,t==null?void 0:t.genre,r,o,l]);const q=(H,re)=>{v(_e=>{const Se={..._e,[H]:re};if(H==="genre"){const De=re,we=(Hn[_e.genre]||Hn.Default)[0];_e.chordProgression===we&&(Se.chordProgression=(Hn[De]||Hn.Default)[0]);const tt=ra[_e.genre]||ra.Default,Ue=Math.round((tt[0]+tt[1])/2);if(_e.tempo===Ue){const Ie=ra[De]||ra.Default;Se.tempo=Math.round((Ie[0]+Ie[1])/2)}}return e!=null&&e.content&&(Se.guidebookContext=Pi(e.content)),Se})},be=H=>{v(re=>{const _e=re.targetInstruments,Se=_e.includes(H)?_e.filter(De=>De!==H):[..._e,H];return{...re,targetInstruments:Se}})},Ee=async()=>{var re;U(!0),K("Regenerating MIDI patterns..."),$(null),se.current&&(Xn(),z(!1)),await Hi();let H;if(g)H={...x,guidebookContext:`${x.genre} remix at ${x.tempo} BPM in ${x.key}`,genre:x.genre};else{const _e=((re=e==null?void 0:e.genre)==null?void 0:re[0])||x.genre,Se=Pi((e==null?void 0:e.content)||"");H={...x,guidebookContext:Se,genre:_e}}try{const _e=await Cs(H);let Se="";for await(const Ue of _e)Ue.text&&(Se+=Ue.text);console.log("Raw MIDI response:",Se);const De=()=>{const Ue=H.key||"C Major",Ie=H.tempo||120,je=H.bars||4,Ge=H.targetInstruments||["chords","bassline","melody","drums"],Et={};return Ge.includes("chords")&&(Et.chords=[{time:0,name:Ue.split(" ")[0]+"maj",duration:je,notes:[{pitch:"C4",midi:60},{pitch:"E4",midi:64},{pitch:"G4",midi:67}],velocity:90}]),Ge.includes("bassline")&&(Et.bassline=[{time:0,midi:36,duration:je,velocity:100,pitch:"C2"}]),Ge.includes("melody")&&(Et.melody=[{time:0,midi:72,duration:1,velocity:95,pitch:"C5"}]),Ge.includes("drums")&&(Et.drums={kick:[{time:0,duration:.25,velocity:120}],snare:[{time:1,duration:.25,velocity:100}],hihat_closed:[{time:.5,duration:.125,velocity:80}]}),Et};let we;try{we=Ss(Se,"MIDI generation",De())}catch(Ue){console.error("JSON parse error:",Ue),console.error("Failed to parse:",Se),we=De()}if(console.log("Parsed MIDI patterns:",we),(Ue=>{console.log("🔍 Validating MIDI patterns..."),Ue.chords&&Ue.chords.forEach((Ie,je)=>{(!Number.isFinite(Ie.time)||!Number.isFinite(Ie.duration))&&console.error(`🚨 Invalid chord ${je}:`,Ie),Ie.notes.forEach((Ge,Et)=>{Number.isFinite(Ge.midi)||console.error(`🚨 Invalid chord ${je} note ${Et}:`,Ge)})}),["bassline","melody"].forEach(Ie=>{const je=Ue[Ie];je&&je.forEach((Ge,Et)=>{(!Number.isFinite(Ge.time)||!Number.isFinite(Ge.duration)||!Number.isFinite(Ge.midi))&&console.error(`🚨 Invalid ${Ie} note ${Et}:`,Ge)})}),Ue.drums&&Object.entries(Ue.drums).forEach(([Ie,je])=>{je.forEach((Ge,Et)=>{(!Number.isFinite(Ge.time)||!Number.isFinite(Ge.duration)||!Number.isFinite(Ge.velocity||100))&&console.error(`🚨 Invalid ${Ie} hit ${Et}:`,Ge)})})})(we),we.drums){const Ue={};for(const Ie in we.drums)Ue[Ie.toLowerCase().replace(/\s+/g,"_")]=we.drums[Ie];we.drums=Ue}_(we),n==null||n(H,we)}catch(_e){console.error("MIDI Generation Error:",_e);const Se=_e.message.toLowerCase().includes("json")?`AI returned invalid JSON for MIDI patterns. (${_e.message})`:`Failed to generate MIDI patterns: ${_e.message}`;$(Se),_(null)}finally{U(!1),K("")}},Ce=async()=>{S&&(await Hi(),se.current&&(Xn(),z(!1),await new Promise(H=>setTimeout(H,100))),J1(S,x),z(!0))},me=async H=>{!S||!S[H]||(await Hi(),se.current&&(Xn(),z(!1),await new Promise(re=>setTimeout(re,50))),J1(S,x,H),z(!0))},ie=()=>{Xn(),z(!1)};he.useEffect(()=>()=>{se.current&&Xn()},[]);const W=()=>{if(!S)return;const H=((e==null?void 0:e.title)||"TrackGuideMIDI").replace(/[^a-z0-9_.-]/gi,"_"),re=X1(S,x,H);re?W1(re,`${H}_all_tracks.mid`):alert("No MIDI data to download or error in generation.")},j=H=>{if(!S||!S[H]){alert(`No ${H} data available in current patterns.`);return}const re={[H]:S[H]},_e=((e==null?void 0:e.title)||"TrackGuideMIDI").replace(/[^a-z0-9_.-]/gi,"_"),Se=X1(re,x,`${_e}_${H}`);Se?W1(Se,`${_e}_${H}.mid`):alert(`No ${H} data to download or error in generation.`)},R=async H=>{var _e;if(!S)return;U(!0),K(`Regenerating ${H}...`),$(null),se.current&&(Xn(),z(!1)),await Hi();let re;if(g)re={...x,guidebookContext:`${x.genre} remix at ${x.tempo} BPM in ${x.key}`,genre:x.genre,targetInstruments:[H]};else{const Se=((_e=e==null?void 0:e.genre)==null?void 0:_e[0])||x.genre,De=Pi((e==null?void 0:e.content)||"");re={...x,guidebookContext:De,genre:Se,targetInstruments:[H]}}try{const Se=await Cs(re);let De="";for await(const Ie of Se)Ie.text&&(De+=Ie.text);console.log(`Raw MIDI response for ${H}:`,De);let we;const tt=()=>{const Ie=re.key||"C Major",je=re.bars||4,Ge={};return H==="chords"?Ge.chords=[{time:0,name:Ie.split(" ")[0]+"maj",duration:je,notes:[{pitch:"C4",midi:60},{pitch:"E4",midi:64},{pitch:"G4",midi:67}],velocity:90}]:H==="bassline"?Ge.bassline=[{time:0,midi:36,duration:je,velocity:100,pitch:"C2"}]:H==="melody"?Ge.melody=[{time:0,midi:72,duration:1,velocity:95,pitch:"C5"}]:H==="drums"&&(Ge.drums={kick:[{time:0,duration:.25,velocity:120}],snare:[{time:1,duration:.25,velocity:100}],hihat_closed:[{time:.5,duration:.125,velocity:80}]}),Ge};try{we=Ss(De,`${H} regeneration`,tt())}catch(Ie){console.error(`JSON parse error for ${H}:`,Ie),console.error("Failed to parse:",De),we=tt()}console.log(`Parsed MIDI patterns for ${H}:`,we);const Ue={...S,[H]:we[H]};if(H==="drums"&&we.drums){const Ie={};for(const je in we.drums)Ie[je.toLowerCase().replace(/\s+/g,"_")]=we.drums[je];Ue.drums=Ie}_(Ue),n==null||n(x,Ue)}catch(Se){console.error("Error regenerating single track:",Se),$(`Failed to regenerate ${H}. Please try again.`)}finally{U(!1),K("")}},k=async()=>{ye||await Hi(),Ae(H=>!H)},C=(H,re)=>{if(!S||!S[H])return null;const _e=S[H];let Se="";if(H==="drums"&&_e){const De=Object.keys(_e);Se=`${De.length} elements: ${De.map(we=>IL[we]||we).join(", ")}`}else H==="chords"&&Array.isArray(_e)?Se=`${_e.length} chord events`:(H==="bassline"||H==="melody")&&Array.isArray(_e)&&(Se=`${_e.length} notes`);return p.jsxs(rt,{title:re,className:"p-4 border border-gray-600 rounded-md bg-gray-800/50",children:[p.jsx("div",{className:"mb-3",children:p.jsx("p",{className:"text-xs text-gray-400",children:Se})}),p.jsxs("div",{className:"flex flex-wrap gap-2",children:[p.jsx(Xe,{onClick:()=>me(H),leftIcon:p.jsx(Ly,{}),size:"sm",variant:"primary",children:"Play"}),p.jsx(Xe,{onClick:()=>R(H),leftIcon:p.jsx(Oy,{className:"w-4 h-4",isSpinning:D&&L.includes(H)}),size:"sm",variant:"secondary",disabled:D,children:"Regenerate"}),p.jsx(Xe,{onClick:()=>j(H),leftIcon:p.jsx(zf,{}),size:"sm",variant:"secondary",children:"Download"})]})]},H)};return p.jsxs(rt,{title:"🎹 MIDI Tools & Pattern Generator",className:"mt-6 bg-gray-800/80 backdrop-blur-md shadow-xl border border-gray-700/50",children:[p.jsx(Xe,{onClick:k,variant:"secondary",className:"w-full mb-4",leftIcon:p.jsx(yI,{}),children:ye?"Hide MIDI Settings":"Adjust MIDI Settings & Regenerate"}),ye&&p.jsxs("div",{className:"mb-6 border-t border-gray-700 pt-6",children:[p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-x-6 gap-y-4 mb-6",children:[p.jsxs("div",{children:[p.jsx("label",{htmlFor:"midi-key",className:"block text-sm font-medium text-gray-300 mb-1",children:"Key"}),p.jsx("select",{id:"midi-key",value:x.key,onChange:H=>q("key",H.target.value),className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-md shadow-sm text-gray-100 focus:ring-purple-500 focus:border-purple-500 text-sm",children:cs.map(H=>p.jsx("option",{value:H,children:H},H))})]}),p.jsxs("div",{children:[p.jsxs("label",{htmlFor:"midi-scale",className:"block text-sm font-medium text-gray-300 mb-1",children:["Scale/Mode ",p.jsx("span",{className:"text-xs text-gray-400",children:"(Optional)"})]}),p.jsxs("select",{id:"midi-scale",value:x.scale||"",onChange:H=>q("scale",H.target.value),className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-md shadow-sm text-gray-100 focus:ring-purple-500 focus:border-purple-500 text-sm",children:[p.jsx("option",{value:"",children:"Default (from key)"}),ML(x.key).map(H=>p.jsx("option",{value:H,children:H},H))]})]}),p.jsxs("div",{children:[p.jsx("label",{htmlFor:"midi-tempo",className:"block text-sm font-medium text-gray-300 mb-1",children:"Tempo (BPM)"}),p.jsx(In,{type:"number",id:"midi-tempo",value:x.tempo,onChange:H=>q("tempo",parseInt(H.target.value,10)),min:"30",max:"300"})]}),p.jsxs("div",{children:[p.jsx("label",{htmlFor:"midi-timesig",className:"block text-sm font-medium text-gray-300 mb-1",children:"Time Signature"}),p.jsx("select",{id:"midi-timesig",value:x.timeSignature.join("/"),onChange:H=>q("timeSignature",H.target.value.split("/").map(Number)),className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-md shadow-sm text-gray-100 focus:ring-purple-500 focus:border-purple-500 text-sm",children:nI.map(H=>p.jsx("option",{value:H.join("/"),children:H.join("/")},H.join("/")))})]}),p.jsxs("div",{children:[p.jsx("label",{htmlFor:"midi-chords",className:"block text-sm font-medium text-gray-300 mb-1",children:"Chord Progression"}),p.jsx("select",{id:"midi-chords",value:x.chordProgression,onChange:H=>q("chordProgression",H.target.value),className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-md shadow-sm text-gray-100 focus:ring-purple-500 focus:border-purple-500 text-sm",children:DL(x.genre).map(H=>p.jsx("option",{value:H,children:H},H))})]}),p.jsxs("div",{children:[p.jsx("label",{htmlFor:"midi-genre",className:"block text-sm font-medium text-gray-300 mb-1",children:"MIDI Genre Context"}),p.jsxs("select",{id:"midi-genre",value:x.genre,onChange:H=>q("genre",H.target.value),className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-md shadow-sm text-gray-100 focus:ring-purple-500 focus:border-purple-500 text-sm",children:[p.jsxs("option",{value:((F=e==null?void 0:e.genre)==null?void 0:F[0])||((Q=t==null?void 0:t.genre)==null?void 0:Q[0])||ut.genre,children:["Align with Guidebook (",((I=e==null?void 0:e.genre)==null?void 0:I[0])||((oe=t==null?void 0:t.genre)==null?void 0:oe[0])||"Default",")"]}),Cb.map(H=>p.jsx("option",{value:H,children:H},H))]})]}),p.jsxs("div",{children:[p.jsx("label",{htmlFor:"midi-bars",className:"block text-sm font-medium text-gray-300 mb-1",children:"Loop Length (Bars)"}),p.jsx("select",{id:"midi-bars",value:x.bars,onChange:H=>q("bars",parseInt(H.target.value,10)),className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-md shadow-sm text-gray-100 focus:ring-purple-500 focus:border-purple-500 text-sm",children:us.map(H=>p.jsx("option",{value:H,children:H},H))})]}),p.jsxs("div",{className:"lg:col-span-1",children:[p.jsx("label",{htmlFor:"midi-songsection",className:"block text-sm font-medium text-gray-300 mb-1",children:"Song Section Context"}),p.jsx("select",{id:"midi-songsection",value:x.songSection||ut.songSection,onChange:H=>q("songSection",H.target.value),className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-md shadow-sm text-gray-100 focus:ring-purple-500 focus:border-purple-500 text-sm",children:(g&&f?f:iI).map(H=>p.jsx("option",{value:H,children:H},H))})]})]}),p.jsxs("div",{className:"mb-6",children:[p.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Target Instruments to Generate"}),p.jsx("div",{className:"flex flex-wrap gap-x-4 gap-y-2",children:aI.map(H=>p.jsxs("button",{type:"button",onClick:()=>be(H.id),className:`flex items-center px-3 py-1.5 rounded-md text-sm transition-colors duration-150 ease-in-out border
                            ${x.targetInstruments.includes(H.id)?"bg-purple-600 text-white border-purple-500 hover:bg-purple-700 shadow-md":"bg-gray-700 text-gray-300 border-gray-600 hover:bg-gray-600 hover:border-gray-500"}`,"aria-pressed":x.targetInstruments.includes(H.id),children:[x.targetInstruments.includes(H.id)?p.jsx(TI,{className:"w-4 h-4 mr-2"}):p.jsx(bI,{className:"w-4 h-4 mr-2 text-gray-500"}),H.label]},H.id))})]}),p.jsx(Xe,{onClick:Ee,disabled:D||x.targetInstruments.length===0,className:"w-full",leftIcon:p.jsx(Oy,{className:"w-5 h-5",isSpinning:D}),children:D?L||"Regenerating MIDI Patterns...":x.targetInstruments.length===0?"Select instruments first":"Regenerate MIDI Patterns"})]}),G&&p.jsx("p",{className:"text-red-400 bg-red-900/30 p-3 rounded-md text-sm my-4",children:G}),D&&!ye&&(!S||L.includes("MIDI"))&&p.jsx("div",{className:"my-4",children:p.jsx(la,{text:L||"AI is composing..."})}),S&&!D&&p.jsxs("div",{className:"mt-6 space-y-3",children:[p.jsxs("div",{className:"flex flex-wrap gap-3 items-center pb-3 border-b border-gray-700",children:[p.jsx(Xe,{onClick:B?ie:Ce,variant:B?"danger":"primary",size:"md",leftIcon:B?p.jsx(gI,{}):p.jsx(Ly,{}),children:B?"Stop Preview":"Play All Tracks"}),p.jsx(Xe,{onClick:W,variant:"secondary",size:"md",leftIcon:p.jsx(zf,{}),children:"Download All (.mid)"})]}),p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 pt-3",children:[C("chords","Chords"),C("bassline","Bassline"),C("melody","Melody"),C("drums","Drums")]}),S.error&&p.jsxs("p",{className:"text-sm text-yellow-400 mt-2",children:["AI Note: ",S.error]})]}),!S&&!D&&!G&&p.jsxs("p",{className:"text-gray-400 text-sm mt-4 text-center",children:["No MIDI patterns generated yet for this ",g?"RemixGuide":"TrackGuide",'. Click "Adjust MIDI Settings" to configure and generate.']})]})},fs={Pop:{chordProgressions:["I–V–vi–IV","vi–IV–I–V","I–IV–V–I","I–vi–IV–V"],drumPatterns:"4/4, kick on 1 & 3, snare on 2 & 4, hats on 8ths. Dance-pop uses four-on-the-floor. Tempos: 90–130 BPM.",productionTips:["Polished vocals with doubling/harmonies","Layered synths, guitars, and piano for full choruses","Subtle sidechaining and EQ carving for vocal clarity"],tempos:"90–130 BPM",scalesAndModes:"Major or minor, often pentatonic melodies",songStructure:"Verse–Chorus–Verse–Chorus–Bridge–Chorus, often with a short intro and big chorus outro",dynamicRange:"Heavily compressed choruses, sparser verses",relatedGenres:["Indie Pop","Dance-Pop","Electropop"]},"Indie Pop":{chordProgressions:["I–V–vi–IV","I–IV–vi–V","vi–IV–I–V"],drumPatterns:"Backbeat, organic drums, 8th hats, often live kit. 100–140 BPM.",productionTips:["Organic percussion, vintage synths, warm guitar layers","Group vocals and lo-fi textures"],tempos:"100–140 BPM",scalesAndModes:"Major & natural minor, some modal color",songStructure:"Verse–Pre–Chorus–Chorus etc.",dynamicRange:"Quiet verses, energetic choruses",relatedGenres:["Pop","Alternative Rock","Synth-Pop"]},"Synth-Pop":{chordProgressions:["i–VI–III–VII","I–IV–ii–V","vi–IV–I–V"],drumPatterns:"Electronic drums, steady kick, claps on 2 & 4, offbeat hats. 110–140 BPM.",productionTips:["Analog-style synth pads/leads","Gated reverb for retro flavor"],tempos:"110–140 BPM",scalesAndModes:"Major & minor keys",songStructure:"Intro–Verse–Chorus–Synth Solo–Chorus",dynamicRange:"Glossy, compressed choruses",relatedGenres:["Retrowave","Electropop","Chillwave"]},Rock:{chordProgressions:["I–IV–V","I–V–vi–IV","I–♭VII–IV–I","vi–IV–I–V"],drumPatterns:"Standard rock beat, kick 1 & 3, snare 2 & 4, hats/ride on 8ths. 100–140 BPM (ballads 60–90, punk/metal up to 200).",productionTips:["Double-tracked guitars, analog amps","Room reverb on drums","Authentic live feel, minimal quantizing"],tempos:"100–140 BPM (varies by subgenre)",scalesAndModes:"Pentatonic, Mixolydian, blues scale",songStructure:"Verse–Chorus–Verse–Chorus–Bridge–Chorus/Outro",dynamicRange:"Loud choruses, quieter verses/bridges",relatedGenres:["Blues Rock","Hard Rock","Punk Rock","Alternative Rock"]},"Alternative Rock":{chordProgressions:["vi–IV–I–V","I–V–IV–I","I–♭VII–IV–I"],drumPatterns:"Standard or experimental, 90–150 BPM.",productionTips:["Lo-fi textures, pedal fx, stereo delays","Hybrid analog/digital layering"],tempos:"90–150 BPM",scalesAndModes:"Mixolydian, Dorian, minor",songStructure:"Verse–Chorus–Verse–Chorus–Bridge–Chorus",dynamicRange:"Loud/quiet contrast",relatedGenres:["Rock","Post-Punk","Shoegaze"]},"Hard Rock":{chordProgressions:["I–IV–V","vi–IV–I–V"],drumPatterns:"Big, powerful kick/snare, 100–160 BPM.",productionTips:["Quad-tracked guitars","Parallel drum compression"],tempos:"100–160 BPM",scalesAndModes:"Minor pentatonic, natural minor",songStructure:"Intro riff–Verse–Chorus–Solo–Chorus–Outro",dynamicRange:"Consistent, high energy",relatedGenres:["Rock","Heavy Metal","Nu Metal"]},"Punk Rock":{chordProgressions:["I–IV–V","vi–IV–I–V"],drumPatterns:"Fast 4/4, 140–200 BPM, minimal fills.",productionTips:["Raw guitars, minimal FX","Direct, aggressive performance"],tempos:"140–200 BPM",scalesAndModes:"Major & minor pentatonic, power chords",songStructure:"Verse–Chorus–Verse–Chorus–Bridge–Chorus",dynamicRange:"Loud and consistent",relatedGenres:["Hardcore Punk","Pop Punk"]},"Post-Punk":{chordProgressions:["i–VII–VI–VII","I–♭VII–II–V"],drumPatterns:"Danceable 4/4, off-beat toms, 120–140 BPM.",productionTips:["Clean, angular guitars","Synth bass lines"],tempos:"120–140 BPM",scalesAndModes:"Dorian, Aeolian",songStructure:"Intro–Verse–Chorus–Verse–Bridge–Chorus",dynamicRange:"Moderate, rhythm-driven",relatedGenres:["Post-Punk Revival","New Wave","Shoegaze"]},"Nu Metal":{relatedGenres:["Hard Rock","Metalcore","Alternative Metal"]},"Progressive Rock":{relatedGenres:["Alternative Rock","Art Rock","Symphonic Rock"]},"Psychedelic Rock":{relatedGenres:["Progressive Rock","Shoegaze","Acid Rock"]},"Folk Rock":{relatedGenres:["Folk","Rock","Americana"]},Shoegaze:{relatedGenres:["Post-Punk","Dream Pop","Atmospheric Rock"]},"Heavy Metal":{chordProgressions:["i–♭VI–♭VII","Power-chord chromatic riffs"],drumPatterns:"Aggressive kick/snare, double bass, blast beats in some subgenres. 120–220 BPM.",productionTips:["High-gain guitars, palm-muting","Multi-tracked rhythm guitars","Punchy, triggered drums"],tempos:"100–220+ BPM",scalesAndModes:"Natural minor, Phrygian, blues scale, diminished fifth",songStructure:"Verse–Chorus, often with extended solos/breakdowns",dynamicRange:"Loud, some contrast for breakdowns/solos",relatedGenres:["Thrash Metal","Death Metal","Doom Metal","Metalcore"]},"Thrash Metal":{relatedGenres:["Heavy Metal","Hardcore Punk"]},"Death Metal":{relatedGenres:["Heavy Metal","Thrash Metal"]},"Black Metal":{relatedGenres:["Death Metal","Doom Metal"]},"Doom Metal":{relatedGenres:["Black Metal","Heavy Metal"]},Metalcore:{relatedGenres:["Heavy Metal","Hardcore Punk"]},Deathcore:{relatedGenres:["Death Metal","Metalcore"]},House:{"Deep House":{chordProgressions:["i–iv–v","i–IV–V","III–vi–ii–V"],drumPatterns:"4/4, deep kick, offbeat hats, claps layered, swung 16ths. 120–125 BPM.",productionTips:["Minor 7th chords, lush electric piano","Low-pass filters, atmospheric pads, sidechain compression"],tempos:"120–125 BPM",scalesAndModes:"Minor keys (Aeolian), jazzy 7ths/9ths",songStructure:"Long intros/outros, subtle builds, gradual evolution",dynamicRange:"Moderate, DJ-friendly compression",relatedGenres:["Chicago House","Soulful House","Nu-Disco"]},"Tech House":{chordProgressions:["(Minimal; focus on groove and one-chord vamps)"],drumPatterns:"Punchy 4/4, strong offbeat hats, syncopated percussion. 120–128 BPM.",productionTips:["Classic 909/808 drum sounds, tight percs","Filter automation, chopped vocal hooks, sidechain bass"],tempos:"120–128 BPM",scalesAndModes:"Minor or modal",songStructure:"DJ-friendly: beat intro, gradual build, small drops",dynamicRange:"Steady, compressed, club-ready",relatedGenres:["Techno","Minimal House"]},"Progressive House":{chordProgressions:["I–VI–IV–V","I–V–vi–IV","I–IV–V"],drumPatterns:"4/4, open hats, layered percussion, classic driving house groove. 126–130 BPM.",productionTips:["Supersaw leads, lush pads, heavy sidechain","White noise sweeps, melodic arps"],tempos:"126–130 BPM",scalesAndModes:"Major/minor diatonic",songStructure:"Intro–Breakdown–Drop–Breakdown–Drop–Outro",dynamicRange:"Contrast between quieter breakdowns, loud drops",relatedGenres:["Trance","Electro House"]},"Future House":{chordProgressions:["i–VII–i–VII","i–VI–III–VII"],drumPatterns:"Bouncy 4/4, tight kick/snare, syncopated bass. 125–128 BPM.",productionTips:["Modulated 'talking' bass, chopped staccato chords","Pitch bends, sidechain, vocal chops"],tempos:"125–128 BPM",scalesAndModes:"Mostly minor",songStructure:"Beat intro, build, bass drop, short breaks",dynamicRange:"Compressed, hard-hitting",relatedGenres:["Bass House","Electro House"]},"Minimal House":{relatedGenres:["Tech House","Deep House","Electro House"]},"Electro House":{relatedGenres:["Future House","Progressive House","Big Room House"]},"Bass House":{relatedGenres:["House","Future House","UK Garage"]}},Techno:{chordProgressions:["(Not chord-driven; often a single chord or note)"],drumPatterns:"Pounding 4/4, steady kick, offbeat hats, syncopated metallic percs. 120–140 BPM.",productionTips:["Analog drum machines, effects automation","Minimalism, percussive synth stabs, heavy reverb"],tempos:"120–140 BPM",scalesAndModes:"Atonal or minor/modal",songStructure:"Loop-based, gradual build/layering, 5–7 min tracks",dynamicRange:"Steady, narrow, driving",relatedGenres:["Detroit Techno","Minimal Techno","Industrial Techno"]},"Minimal Techno":{relatedGenres:["Techno","Deep Techno","Microhouse"]},"Industrial Techno":{relatedGenres:["Techno","EBM","Industrial"]},"Melodic Techno":{relatedGenres:["Techno","Progressive Techno","Trance"]},"Ambient Techno":{relatedGenres:["Techno","Ambient","Downtempo"]},"Hard Techno":{relatedGenres:["Techno","Hardstyle","Gabber"]},Trance:{"Uplifting Trance":{chordProgressions:["i–VI–VII–i","i–iv–V–III"],drumPatterns:"4/4, 135–140 BPM, rolling 16th-note bass, energetic kicks, snare rolls in builds.",productionTips:["Supersaw leads, lush pads, sidechain compression","Emotional breakdowns, white noise risers"],tempos:"135–140 BPM",scalesAndModes:"Minor, with some modal color",songStructure:"Intro–Breakdown–Build–Drop–Breakdown–Drop–Outro",dynamicRange:"Quiet breakdowns, loud drops",relatedGenres:["Progressive Trance","Euro Trance"]},"Progressive Trance":{chordProgressions:["VI–VII–i–VII","i–VI–v–i"],drumPatterns:"Groovier, syncopated hats, 128–134 BPM, more laid-back than uplifting trance.",productionTips:["Atmospheric pads, rhythmic gating, subtle melodies"],tempos:"128–134 BPM",scalesAndModes:"Mostly minor, repetitive for hypnosis",songStructure:"Long builds, smooth transitions, DJ-friendly",dynamicRange:"More uniform, not as dramatic as uplifting",relatedGenres:["Uplifting Trance","Progressive House"]},Psytrance:{chordProgressions:["(Little to no harmonic movement; focus on bass and rhythm)"],drumPatterns:"4/4, fast (140–145 BPM), 16th-note rolling bass, steady kick.",productionTips:["Acidic synths, modulated FX, stereo panning","Fast 16th-note bass, filter/FX automation"],tempos:"140–145 BPM",scalesAndModes:"Phrygian/Phrygian dominant for mystical leads",songStructure:"Continuous flow, short breakdowns",dynamicRange:"Very steady, relentless",relatedGenres:["Goa Trance","Dark Psytrance"]},"Goa Trance":{relatedGenres:["Trance","Psytrance"]},"Hard Trance":{relatedGenres:["Trance","Hardstyle"]}},Ambient:{relatedGenres:["Dark Ambient","Downtempo","Chillout"]},"Dark Ambient":{relatedGenres:["Ambient","Industrial","Psybient"]},Downtempo:{relatedGenres:["Ambient","Chillout","Trip-Hop"]},Chillout:{relatedGenres:["Downtempo","Chillwave","Lounge"]},Chillwave:{relatedGenres:["Synthwave","Lo-Fi Hip Hop","Dream Pop"]},Psybient:{relatedGenres:["Ambient","Psytrance","Downtempo"]},"Berlin School":{relatedGenres:["Ambient","Synthwave","Electronic"]},Synthwave:{relatedGenres:["Retrowave","Darksynth","Electropop"]},Retrowave:{relatedGenres:["Synthwave","Vaporwave"]},Darksynth:{relatedGenres:["Synthwave","Industrial","Dark Ambient"]},Vaporwave:{relatedGenres:["Retrowave","Chillwave","Lo-Fi Hip Hop"]},"Future Funk":{relatedGenres:["Vaporwave","Nu Disco","Electro"]},"Drum and Bass":{chordProgressions:["(Simple or sampled; focus on bassline, pads for Liquid DnB)"],drumPatterns:"Fast breakbeats (165–175 BPM), snare on 2 & 4, complex ghost snare shuffle.",productionTips:["Chopped breakbeats, deep sub bass","Layered atmospheric pads, punchy drums"],tempos:"170–175 BPM",scalesAndModes:"Minor, minor pentatonic, jazz chords (Liquid)",songStructure:"Intro–Drop–Breakdown–Drop–Outro, DJ-friendly",dynamicRange:"Loud drops, quieter intros/breakdowns",relatedGenres:["Jungle","Liquid DnB","Breakcore"]},Jungle:{relatedGenres:["Drum and Bass","Breakbeat","UK Garage"]},"Liquid DnB":{relatedGenres:["Drum and Bass","Jazz","Soul"]},Neurofunk:{relatedGenres:["Drum and Bass","Techno"]},Breakcore:{relatedGenres:["Drum and Bass","IDM"]},Dubstep:{chordProgressions:["(Minimal; single minor chord or pitch, with melodic breaks in some tracks)"],drumPatterns:"Half-time feel, 140 BPM, heavy snare on 3, LFO bass modulations.",productionTips:["Wobble bass, FM synthesis, aggressive resampling","Sidechain on bass, mid-heavy mixes"],tempos:"140 BPM",scalesAndModes:"Minor, pentatonic, chromatic intervals",songStructure:"Intro–Build–Drop–Break–Drop–Outro",dynamicRange:"Loud, highly compressed drops",relatedGenres:["Brostep","Riddim","Trap (EDM)"]},Riddim:{relatedGenres:["Dubstep","Future Bass"]},"Future Bass":{relatedGenres:["Dubstep","Trap"]},"Trap (EDM)":{relatedGenres:["Future Bass","Hip Hop","Drill"]},Hardstyle:{relatedGenres:["Gabber","Hardcore"]},Gabber:{relatedGenres:["Hardstyle","Hardcore"]},"UK Hardcore":{relatedGenres:["Gabber","Hardcore"]},IDM:{relatedGenres:["Glitch","Ambient","Breakcore"]},Glitch:{relatedGenres:["IDM","Experimental"]},Breakbeat:{relatedGenres:["Jungle","Drum and Bass"]},"UK Garage":{relatedGenres:["2-Step","Future Garage"]},"2-Step":{relatedGenres:["UK Garage","Future Garage"]},"Future Garage":{relatedGenres:["UK Garage","Dubstep"]},EBM:{relatedGenres:["Industrial","Synthpop"]},Footwork:{relatedGenres:["Juke","Drum and Bass"]},Juke:{relatedGenres:["Footwork","Garage"]},"Hip Hop":{chordProgressions:["Sample-based or looped, minor pentatonic, jazz-influenced ii–V–I (occasionally)"],drumPatterns:"Syncopated kicks, snares on 2 & 4, hi-hats with 16ths/triplets, swing/shuffle. 70–110 BPM.",productionTips:["Sampled breaks, chopped vocals, heavy sub bass","808 kicks, hi-hat rolls, sidechain for headroom"],tempos:"70–110 BPM (Trap: 130–150 BPM, half-time feel)",scalesAndModes:"Minor, pentatonic, jazz modes (Boom Bap), phrygian",songStructure:"Intro–Verse–Chorus–Verse–Bridge–Chorus/Outro, with breakdowns/drops in modern styles",dynamicRange:"Heavily compressed, punchy drums",relatedGenres:["Boom Bap","Trap","Lo-fi Hip Hop","Drill","Cloud Rap"]},"Boom Bap":{relatedGenres:["Hip Hop","Jazz Rap"]},Trap:{relatedGenres:["Hip Hop","Drill","Cloud Rap"]},"Lo-fi Hip Hop":{relatedGenres:["Hip Hop","Chillwave"]},"Cloud Rap":{relatedGenres:["Hip Hop","Trap"]},Drill:{relatedGenres:["Trap","Hip Hop"]},"Conscious Hip Hop":{relatedGenres:["Hip Hop","Boom Bap"]},"R&B":{chordProgressions:["I–vi–IV–V","I–IV–V–IV","ii–V–I","Imaj7–vi7–ii7–V7","I–iii–vi–V"],drumPatterns:"Laid-back grooves, swung 16ths, syncopated snares, soft hats. 70–100 BPM.",productionTips:["Smooth vocal layering, lush harmonies, electric piano","Soulful guitar licks, subtle hip hop drums, sidechained bass"],tempos:"60–100 BPM",scalesAndModes:"Major/minor, Mixolydian, jazz-influenced 7th/9th chords",songStructure:"Verse–Chorus–Verse–Bridge–Chorus/Outro",dynamicRange:"Warm, soft verses, louder choruses/bridges",relatedGenres:["Contemporary R&B","Neo-Soul","Soul"]},"Contemporary R&B":{relatedGenres:["R&B","Pop"]},"Neo-Soul":{relatedGenres:["R&B","Soul","Jazz"]},Soul:{relatedGenres:["R&B","Funk","Motown"]},Jazz:{chordProgressions:["ii–V–I","I–vi–ii–V","iii–vi–ii–V","Imaj7–II7–V7–I"],drumPatterns:"Swing ride cymbal, brushes or sticks, walking bass. 70–220 BPM.",productionTips:["Live horns, upright/double bass, electric piano","Improvisation, jazz voicings, complex harmony"],tempos:"70–220 BPM",scalesAndModes:"Major, Dorian, Mixolydian, chromatic passing tones",songStructure:"Head–Solos–Head (AABA or ABAC)",dynamicRange:"Wide, from whisper-quiet to very loud",relatedGenres:["Smooth Jazz","Fusion","Bebop","Funk"]},"Smooth Jazz":{relatedGenres:["Jazz","R&B","Fusion"]},Blues:{chordProgressions:["I–I–I–I–IV–IV–I–I–V–IV–I–I","i–i–i–i–iv–iv–i–i–v–iv–i–i"],drumPatterns:"Shuffle, swung 8ths, simple kit, brushwork. 70–130 BPM.",productionTips:["Blues scale, expressive bends, call-and-response","Raw vocal delivery, amp breakup, tremolo"],tempos:"70–130 BPM",scalesAndModes:"Major/minor pentatonic, blues scale",songStructure:"12-bar, 8-bar or 16-bar blues",dynamicRange:"Moderate, expressive",relatedGenres:["Rock","Jazz","Soul","Funk"]},Funk:{chordProgressions:["I7–IV7–V7","Dominant 7th vamps"],drumPatterns:"16th-note syncopation, ghost notes, tight kick/snare. 90–120 BPM.",productionTips:["Rhythmic guitar, slap bass, horn stabs","Percussive keys, congas, polyrhythms"],tempos:"90–120 BPM",scalesAndModes:"Dominant 7th, Mixolydian, Dorian",songStructure:"Groove-based, extended vamps, call-and-response",dynamicRange:"Consistently punchy, danceable",relatedGenres:["Soul","Disco","Jazz","Afrobeat"]},Folk:{relatedGenres:["Folk Rock","Country"]},Acoustic:{relatedGenres:["Folk","Singer-Songwriter"]},"World Music":{relatedGenres:["Reggae","Afrobeat","Latin","Celtic"]},Reggae:{relatedGenres:["Dub","Ska"]},Dub:{relatedGenres:["Reggae","Electronic"]},Ska:{relatedGenres:["Reggae","Punk Rock"]},Latin:{relatedGenres:["Afrobeat","World Music"]},Afrobeat:{relatedGenres:["Funk","World Music"]},Celtic:{relatedGenres:["Folk","World Music"]},Experimental:{relatedGenres:["Noise","IDM","Glitch"]},Noise:{relatedGenres:["Experimental","Industrial"]},Industrial:{relatedGenres:["Noise","EBM","Industrial Techno"]},"Classical Crossover":{relatedGenres:["Classical","Orchestral"]},Chiptune:{relatedGenres:["Video Game Music","IDM"]},"Video Game Music":{relatedGenres:["Chiptune","Orchestral"]}},Bm=e=>{if(fs[e])return fs[e];for(const t in fs){const n=fs[t];if(typeof n=="object"&&n!==null&&n[e])return n[e]}return null},wE=e=>{const t=Fm(e),n=Bm(e);return{...t,metadata:n}};function Fm(e){return dm.find(t=>t.genre===e)||null}function LE(){return dm.reduce((e,t)=>(e[t.category]||(e[t.category]=[]),e[t.category].includes(t.genre)||e[t.category].push(t.genre),e),{})}const RL=Object.freeze(Object.defineProperty({__proto__:null,GENRE_METADATA:fs,getCombinedGenreData:wE,getGenreInfo:Fm,getGenreMetadata:Bm,getGenresByCategory:LE},Symbol.toStringTag,{value:"Module"})),Z1=e=>{if(!e)return null;const t=/##\s*🎵\s*Original Track DNA Analysis/i,n=e.match(t);if(!n||typeof n.index>"u")return null;const r=n.index,o=e.substring(r+n[0].length).match(/^##\s+/m),l=o&&typeof o.index<"u"?r+n[0].length+o.index:e.length,f=e.substring(r,l).trim().match(/\*\*Harmonic Blueprint\*\*:\s*([^\n]+)/i);if(f&&f[1]){const d=f[1].match(/([IVXLCDMivxlcdm\d\s,-]+(?:\s*-\s*[IVXLCDMivxlcdm\d\s,-]+)*)/);if(d&&d[1])return d[1].trim()}return null},kL=({onContentUpdate:e})=>{const[t,n]=he.useState(null),[r,o]=he.useState(""),[l,u]=he.useState(""),[f,m]=he.useState(""),[d,g]=he.useState(""),[x,v]=he.useState(!1),[S,_]=he.useState(!1),[D,U]=he.useState(null),[L,K]=he.useState(""),[G,$]=he.useState(""),B=he.useRef(null),z=LE(),se=Object.keys(z),ye=ie=>{var k;const W=(k=ie.target.files)==null?void 0:k[0];if(!W)return;if(!(["audio/wav","audio/mpeg","audio/mp3"].includes(W.type)||W.name.toLowerCase().endsWith(".wav")||W.name.toLowerCase().endsWith(".mp3"))){$("Please upload a WAV or MP3 file");return}if(W.size>100*1024*1024){$("File size must be under 100MB");return}n(W),$("")},Ae=ie=>{ie.preventDefault();const W=ie.dataTransfer.files[0];W&&ye({target:{files:[W]}})},q=ie=>{ie.preventDefault()},be=async()=>{if(!t||!l){$("Please upload an audio file and select a target genre");return}v(!0),$(""),K(""),U(null);try{const ie=await _L(t),W={base64:ie.base64,mimeType:ie.mimeType},j=wE(l);let R="",k=null;const C=sI(W,l,j,f,d);for await(const Ie of C)Ie.text&&(R+=Ie.text,K(R),e==null||e(R)),Ie.metadata&&(k=Ie.metadata);const F=Z1(R),Q=(k==null?void 0:k.targetTempo)||128,I=(k==null?void 0:k.targetKey)||"C minor",oe=(k==null?void 0:k.originalChordProgression)||F,H=(k==null?void 0:k.sections)||["Intro","Build-Up","Drop","Breakdown","Outro"],re={guide:R,targetTempo:Q,targetKey:I,sections:H,originalKey:k==null?void 0:k.originalKey,originalTempo:k==null?void 0:k.originalTempo,originalChordProgression:oe};U(re),K(""),_(!0);const _e={key:I,tempo:Q,timeSignature:[4,4],chordProgression:oe||"i-VI-III-VII",genre:l,bars:8,targetInstruments:["bassline","drums","melody","chords"],guidebookContext:`${l} remix at ${Q} BPM in ${I}`,songSection:H[0]||"Intro"};console.log("MIDI settings with remix defaults:",_e),await Hi();const Se=await Cs(_e);let De="";for await(const Ie of Se)Ie.text&&(De+=Ie.text);De=De.trim();const we=[/^```json\s*\n(.*?)\n\s*```$/s,/^```\s*json\s*\n(.*?)\n\s*```$/s,/^```\s*\n(.*?)\n\s*```$/s,/^```(\w*)?\s*\n?(.*?)\n?\s*```$/s];for(const Ie of we){const je=De.match(Ie);if(je){De=je[je.length-1].trim();break}}if(De=De.replace(/^`+/g,"").replace(/`+$/g,"").replace(/^json\s*/i,"").trim(),!De.startsWith("{")||!De.endsWith("}"))throw new Error(`Response doesn't contain valid JSON structure. Got: ${De.substring(0,100)}...`);const tt=Ss(De,"remix MIDI generation");if(tt.drums){const Ie={};Object.entries(tt.drums).forEach(([je,Ge])=>{Ie[je.toLowerCase()]=Ge}),Ie.kick||(Ie.kick=[]),Ie.snare||(Ie.snare=[]),Ie.hihat_closed||(Ie.hihat_closed=[]),Ie.hihat_open||(Ie.hihat_open=[]),Ie.crash||(Ie.crash=[]),tt.drums=Ie}console.log("Generated MIDI patterns:",tt);const Ue={...re,generatedMidiPatterns:tt};U(Ue),e==null||e(R),console.log("RemixGuide completed successfully with streaming and dynamic MIDI defaults")}catch(ie){console.error("Error generating remix guide:",ie),$(ie instanceof Error?ie.message:"Failed to generate remix guide")}finally{v(!1),_(!1)}},Ee=ie=>{o(ie),u("")},Ce=async()=>{if(D){_(!0),$("");try{const ie=Z1(D.guide),W={key:D.targetKey,tempo:D.targetTempo,timeSignature:[4,4],chordProgression:ie||D.originalChordProgression||"i-VI-III-VII",genre:l,bars:8,targetInstruments:["bassline","drums","melody","chords"],guidebookContext:`${l} remix at ${D.targetTempo} BPM in ${D.targetKey}`,songSection:D.sections[0]||"Intro"};console.log("Regenerating MIDI with settings:",W),await Hi();const j=await Cs(W);let R="";for await(const F of j)F.text&&(R+=F.text);R=R.trim();const k=[/^```json\s*\n(.*?)\n\s*```$/s,/^```\s*json\s*\n(.*?)\n\s*```$/s,/^```\s*\n(.*?)\n\s*```$/s,/^```(\w*)?\s*\n?(.*?)\n?\s*```$/s];for(const F of k){const Q=R.match(F);if(Q){R=Q[Q.length-1].trim();break}}if(R=R.replace(/^`+/g,"").replace(/`+$/g,"").replace(/^json\s*/i,"").trim(),!R.startsWith("{")||!R.endsWith("}"))throw new Error(`Response doesn't contain valid JSON structure for regeneration. Got: ${R.substring(0,100)}...`);console.log("Raw regenerated MIDI JSON:",R);const C=Ss(R,"remix MIDI regeneration");if(C.drums){const F={};for(const Q in C.drums)F[Q.toLowerCase().replace(/\s+/g,"_")]=C.drums[Q];F.kick||(F.kick=[]),F.snare||(F.snare=[]),F.hihat_closed||(F.hihat_closed=[]),F.hihat_open||(F.hihat_open=[]),F.crash||(F.crash=[]),C.drums=F}console.log("Regenerated MIDI patterns:",C),U(F=>F?{...F,generatedMidiPatterns:C}:null)}catch(ie){console.error("Error regenerating MIDI patterns:",ie),$(`Failed to regenerate MIDI patterns: ${ie instanceof Error?ie.message:"Unknown error"}`)}finally{_(!1)}}},me=()=>{n(null),o(""),u(""),m(""),g(""),U(null),$(""),B.current&&(B.current.value="")};return p.jsxs("div",{className:"space-y-6",children:[p.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[p.jsxs(rt,{className:"p-6",children:[p.jsx("h3",{className:"text-lg font-semibold mb-4 text-white",children:"Upload Original Track"}),p.jsxs("div",{className:"border-2 border-dashed border-gray-600 rounded-lg p-8 text-center cursor-pointer hover:border-gray-500 transition-colors",onDrop:Ae,onDragOver:q,onClick:()=>{var ie;return(ie=B.current)==null?void 0:ie.click()},children:[p.jsx("input",{ref:B,type:"file",accept:".wav,.mp3,audio/wav,audio/mpeg",onChange:ye,className:"hidden"}),p.jsxs("div",{className:"space-y-2",children:[p.jsx("div",{className:"text-4xl",children:"🎵"}),p.jsx("div",{className:"text-white font-medium",children:t?t.name:"Upload Original Track"}),p.jsx("p",{className:"text-gray-400 text-sm",children:"or drag and drop"})]}),p.jsxs("p",{className:"text-gray-500 text-xs mt-2",children:["MP3, WAV up to ",p.jsx("span",{className:"text-orange-400",children:"100"}),"MB"]})]})]}),p.jsxs(rt,{className:"p-6",children:[p.jsx("h3",{className:"text-lg font-semibold mb-4 text-white",children:"Target Remix Genre"}),p.jsxs("div",{className:"space-y-4",children:[p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"1. Select Category"}),p.jsxs("select",{value:r,onChange:ie=>Ee(ie.target.value),className:"w-full p-3 bg-gray-700 border border-gray-600 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-orange-500",children:[p.jsx("option",{value:"",children:"Choose a category..."}),se.map(ie=>p.jsx("option",{value:ie,children:ie},ie))]})]}),r&&p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"2. Select Genre"}),p.jsxs("select",{value:l,onChange:ie=>u(ie.target.value),className:"w-full p-3 bg-gray-700 border border-gray-600 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-orange-500",children:[p.jsx("option",{value:"",children:"Choose a genre..."}),z[r].map(ie=>p.jsx("option",{value:ie,children:ie},ie))]})]}),l&&p.jsx("div",{className:"text-sm text-gray-400 bg-gray-800 p-3 rounded-lg",children:(()=>{const ie=Fm(l);return ie?`🎵 Tempo: ${ie.tempoRange[0]}-${ie.tempoRange[1]} BPM`:""})()})]})]})]}),p.jsxs(rt,{className:"p-6",children:[p.jsx("h3",{className:"text-lg font-semibold mb-4 text-white",children:"Production Setup (Optional)"}),p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"DAW (Digital Audio Workstation)"}),p.jsxs("select",{value:f,onChange:ie=>m(ie.target.value),className:"w-full p-3 bg-gray-700 border border-gray-600 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-orange-500",children:[p.jsx("option",{value:"",children:"Select your DAW..."}),wu.map(ie=>p.jsx("option",{value:ie.dawName,children:ie.dawName},ie.dawName))]})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Available Plugins"}),p.jsx("input",{type:"text",value:d,onChange:ie=>g(ie.target.value),placeholder:"e.g., Serum, FabFilter Pro-Q 3, Valhalla VintageVerb...",className:"w-full p-3 bg-gray-700 border border-gray-600 rounded-lg text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-orange-500"})]})]}),p.jsx("p",{className:"text-xs text-gray-400 mt-2",children:"Specify your DAW and plugins to get tailored parameter recommendations in the remix guide"})]}),G&&p.jsx("div",{className:"bg-red-900/50 border border-red-500 rounded-lg p-4 text-red-200",children:G}),p.jsxs("div",{className:"flex gap-4",children:[p.jsx(Xe,{onClick:be,disabled:!t||!l||x,className:"flex-1",children:x?p.jsxs(p.Fragment,{children:[p.jsx(la,{size:"sm"})," Generating RemixGuide..."]}):"🎛️ Generate RemixGuide"}),p.jsx(Xe,{onClick:me,variant:"outline",children:"Reset"})]}),x&&L&&!D&&p.jsxs(rt,{className:"p-6",children:[p.jsxs("h3",{className:"text-xl font-bold text-white mb-4",children:["🎛️ Generating ",l," Remix Guide..."]}),p.jsx("div",{className:"bg-gray-800/50 rounded-lg p-6 max-h-[calc(100vh-8rem)] overflow-y-auto",children:p.jsx(Fi,{content:L})})]}),D&&p.jsxs("div",{className:"space-y-6",children:[S&&p.jsx(rt,{className:"p-6",children:p.jsxs("div",{className:"text-center py-8",children:[p.jsx(la,{size:"lg"}),p.jsx("h3",{className:"text-xl font-bold text-white mt-4",children:"🎹 Generating MIDI Patterns..."}),p.jsxs("p",{className:"text-gray-400 mt-2",children:["Creating ",l,"-specific patterns based on your remix guide"]})]})}),p.jsxs(rt,{className:"p-6",children:[p.jsxs("div",{className:"flex justify-between items-center mb-4",children:[p.jsxs("h3",{className:"text-xl font-bold text-white",children:["🎛️ ",l," Remix Guide"]}),p.jsxs("div",{className:"text-sm text-gray-400",children:["Target: ",D.targetTempo," BPM • ",D.targetKey]})]}),p.jsx("div",{className:"bg-gray-800/50 rounded-lg p-6 max-h-[calc(100vh-8rem)] overflow-y-auto",children:p.jsx(Fi,{content:D.guide})})]}),p.jsxs(rt,{className:"p-6",children:[p.jsxs("div",{className:"flex justify-between items-center mb-6",children:[p.jsx("h3",{className:"text-xl font-bold text-white",children:"🎹 MIDI Remix Patterns"}),p.jsx(Xe,{onClick:Ce,disabled:S,variant:"outline",className:"text-sm",children:S?p.jsxs(p.Fragment,{children:[p.jsx(la,{size:"sm"})," Regenerating..."]}):"🔄 Regenerate MIDI"})]}),D.generatedMidiPatterns?p.jsx(kE,{sections:D.sections,targetTempo:D.targetTempo,targetKey:D.targetKey,isRemixMode:!0,currentGuidebookEntry:{id:`remix-${Date.now()}`,title:`${l} Remix`,genre:[l],artistReference:"Remix Guide",vibe:[l],daw:f||"Not specified",plugins:d||"Not specified",availableInstruments:"Remix instruments",content:D.guide,createdAt:new Date().toISOString(),generatedMidiPatterns:D.generatedMidiPatterns}},`remix-${l}-${Date.now()}`):p.jsx("div",{className:"text-center py-8",children:p.jsx("div",{className:"text-gray-400 mb-4",children:S?p.jsxs(p.Fragment,{children:[p.jsx(la,{size:"lg"}),p.jsx("p",{className:"mt-4",children:"Generating MIDI patterns..."})]}):p.jsxs(p.Fragment,{children:[p.jsx("div",{className:"text-4xl mb-2",children:"🎹"}),p.jsx("p",{children:"MIDI patterns will appear here after generation"}),p.jsx("p",{className:"text-sm mt-2",children:'Click "Regenerate MIDI" to generate patterns'})]})})})]})]}),!D&&p.jsx(rt,{className:"p-6 bg-gray-800/30",children:p.jsxs("div",{className:"text-center space-y-4",children:[p.jsx("div",{className:"text-6xl",children:"🎛️"}),p.jsx("h3",{className:"text-xl font-bold text-white",children:"Transform Your Track"}),p.jsx("p",{className:"text-gray-400 max-w-2xl mx-auto",children:"Upload your original track and select a target genre. Our AI will analyze the harmonic progression, melodies, and rhythmic elements, then generate a comprehensive remix guide with genre-appropriate MIDI patterns for basslines, drums, melodies, and textures."})]})})]})};function wL(e){dT(e,[/\r?\n|\r/g,LL])}function LL(){return{type:"break"}}function OL(){return function(e){wL(e)}}const PL={name:"Xfer Serum",oscillators:[{id:"1",name:"Osc 1",type:"Analog",params:["Waveform","Octave","Coarse","Fine","Level"]},{id:"2",name:"Osc 2",type:"Analog",params:["Waveform","Octave","Coarse","Fine","Level"]},{id:"3",name:"Sub Osc",type:"Analog",params:["Octave","Level"]}],filters:[{name:"Filter",types:["Lowpass","Highpass","Bandpass","Comb","Notch","Peak","Formant","Phaser"],defaultType:"Lowpass",parameters:["Cutoff","Resonance","Drive","Pan","Mix"]}],modSources:[{name:"Env 1",type:"Envelope"},{name:"Env 2",type:"Envelope"},{name:"Env 3",type:"Envelope"},{name:"LFO 1",type:"LFO"},{name:"LFO 2",type:"LFO"},{name:"LFO 3",type:"LFO"},{name:"LFO 4",type:"LFO"},{name:"Macro 1",type:"Macro"},{name:"Macro 2",type:"Macro"},{name:"Macro 3",type:"Macro"},{name:"Macro 4",type:"Macro"},{name:"Velocity",type:"MIDI"},{name:"Mod Wheel",type:"MIDI"},{name:"Aftertouch",type:"MIDI"},{name:"Pitch Bend",type:"MIDI"},{name:"Chaos 1",type:"Random"},{name:"Chaos 2",type:"Random"},{name:"Noise OSC",type:"Audio"},{name:"Fixed",type:"Constant"}],modDestinations:[{section:"Oscillator",params:["Wavetable Position","Warp Depth","Coarse","Fine","Level","Pan"]},{section:"Filter",params:["Cutoff","Resonance","Drive","Pan","Mix"]},{section:"Envelope",params:["Attack","Decay","Sustain","Release"]},{section:"LFO",params:["Rate","Shape","Delay"]},{section:"FX",params:["Mix","Depth","Feedback","Time","Tone"]},{section:"Global",params:["Master Tune","Master Level"]}],effects:[{name:"Hyper/Dimension",modulatable:!0,parameters:[{name:"Size",unit:"%",range:[0,100],type:"float"},{name:"Detune",unit:"%",range:[0,100],type:"float"},{name:"Mix",unit:"%",range:[0,100],type:"float"}]},{name:"Distortion",modulatable:!0,parameters:[{name:"Drive",unit:"%",range:[0,100],type:"float"},{name:"Tone",unit:"Hz",range:[500,2e4],type:"float"},{name:"Mix",unit:"%",range:[0,100],type:"float"},{name:"Level",unit:"dB",range:[-12,12],type:"float"},{name:"Type",type:"enum",options:["SoftClip","HardClip","Tube","Fuzz"]}]},{name:"Compressor",modulatable:!0,parameters:[{name:"Threshold",unit:"dB",range:[-60,0],type:"float"},{name:"Ratio",unit:":",range:[1,20],type:"float"},{name:"Attack",unit:"ms",range:[.1,100],type:"float"},{name:"Release",unit:"ms",range:[10,2e3],type:"float"},{name:"Knee",unit:"dB",range:[0,12],type:"float"},{name:"MakeupGain",unit:"dB",range:[0,20],type:"float"},{name:"Mix",unit:"%",range:[0,100],type:"float"}]},{name:"Chorus",modulatable:!0,parameters:[{name:"Rate",unit:"Hz",range:[.1,10],type:"float"},{name:"Depth",unit:"%",range:[0,100],type:"float"},{name:"Delay",unit:"ms",range:[1,30],type:"float"},{name:"Feedback",unit:"%",range:[0,95],type:"float"},{name:"Mix",unit:"%",range:[0,100],type:"float"}]},{name:"Phaser",modulatable:!0,parameters:[{name:"Rate",unit:"Hz",range:[.1,5],type:"float"},{name:"Depth",unit:"%",range:[0,100],type:"float"},{name:"Feedback",unit:"%",range:[0,95],type:"float"},{name:"Stages",unit:"",range:[2,12],type:"int"},{name:"Center",unit:"Hz",range:[100,2e3],type:"float"},{name:"Mix",unit:"%",range:[0,100],type:"float"}]},{name:"Flanger",modulatable:!0,parameters:[{name:"Rate",unit:"Hz",range:[.1,5],type:"float"},{name:"Depth",unit:"%",range:[0,100],type:"float"},{name:"Manual",unit:"ms",range:[0,10],type:"float"},{name:"Feedback",unit:"%",range:[0,99],type:"float"},{name:"Phase",unit:"°",range:[0,180],type:"float"},{name:"Mix",unit:"%",range:[0,100],type:"float"},{name:"LFOShape",type:"enum",options:["Sine","Triangle","Saw"]}]},{name:"EQ",modulatable:!0,parameters:[{name:"LowFreq",unit:"Hz",range:[20,500],type:"float"},{name:"LowGain",unit:"dB",range:[-12,12],type:"float"},{name:"MidFreq",unit:"Hz",range:[200,5e3],type:"float"},{name:"MidGain",unit:"dB",range:[-12,12],type:"float"},{name:"MidQ",unit:"",range:[.5,10],type:"float"},{name:"HighFreq",unit:"Hz",range:[1e3,2e4],type:"float"},{name:"HighGain",unit:"dB",range:[-12,12],type:"float"},{name:"Type",type:"enum",options:["LowShelf","Peaking","HighShelf"]}]},{name:"Reverb",modulatable:!0,parameters:[{name:"Decay",unit:"s",range:[.1,10],type:"float"},{name:"PreDelay",unit:"ms",range:[0,200],type:"float"},{name:"Damping",unit:"%",range:[0,100],type:"float"},{name:"Size",unit:"%",range:[0,100],type:"float"},{name:"HighCut",unit:"Hz",range:[500,2e4],type:"float"},{name:"LowCut",unit:"Hz",range:[20,1e3],type:"float"},{name:"Mix",unit:"%",range:[0,100],type:"float"},{name:"Type",type:"enum",options:["Room","Hall","Plate","Spring"]}]},{name:"Delay",modulatable:!0,parameters:[{name:"Time",unit:"ms",range:[1,5e3],type:"float"},{name:"Feedback",unit:"%",range:[0,100],type:"float"},{name:"Mix",unit:"%",range:[0,100],type:"float"},{name:"Sync",type:"boolean"},{name:"PingPong",type:"boolean"},{name:"Tone",unit:"Hz",range:[20,2e4],type:"float"}]},{name:"Filter (FX)",modulatable:!0,parameters:["Cutoff","Resonance","Drive","Mix"]}]},BL={name:"Vital",oscillators:[{id:"1",name:"Osc 1",type:"Analog",params:["Waveform","Octave","Coarse","Fine","Level"]},{id:"2",name:"Osc 2",type:"Analog",params:["Waveform","Octave","Coarse","Fine","Level"]},{id:"3",name:"Sub Osc",type:"Analog",params:["Octave","Level"]}],filters:[{name:"Filter",types:["Ladder","Analog","Digital","Formant","Comb","Phaser"],defaultType:"Ladder",parameters:["Cutoff","Resonance","Drive","Blend","Keytrack"]}],modSources:[{name:"Env 1",type:"Envelope"},{name:"Env 2",type:"Envelope"},{name:"Env 3",type:"Envelope"},{name:"LFO 1",type:"LFO"},{name:"LFO 2",type:"LFO"},{name:"LFO 3",type:"LFO"},{name:"LFO 4",type:"LFO"},{name:"Random 1",type:"Random"},{name:"Random 2",type:"Random"},{name:"Random 3",type:"Random"},{name:"Random 4",type:"Random"},{name:"Macro 1",type:"Macro"},{name:"Macro 2",type:"Macro"},{name:"Macro 3",type:"Macro"},{name:"Macro 4",type:"Macro"},{name:"Velocity",type:"MIDI"},{name:"Mod Wheel",type:"MIDI"},{name:"Aftertouch",type:"MIDI"},{name:"Pitch Bend",type:"MIDI"},{name:"MPE Slide",type:"MPE"}],modDestinations:[{section:"Oscillator",params:["Wavetable Position","Spectral Warp","Level","Pan","Phase","Detune","Unison"]},{section:"Filter",params:["Cutoff","Resonance","Drive","Blend"]},{section:"Envelope",params:["Attack","Decay","Sustain","Release"]},{section:"LFO",params:["Rate","Shape","Phase"]},{section:"FX",params:["Mix","Feedback","Time","Tone"]},{section:"Global",params:["Master Tune","Master Level"]}],effects:[{name:"Chorus",modulatable:!0,parameters:[{name:"Rate",unit:"Hz",range:[.1,10],type:"float"},{name:"Depth",unit:"%",range:[0,100],type:"float"},{name:"Delay",unit:"ms",range:[1,30],type:"float"},{name:"Feedback",unit:"%",range:[0,95],type:"float"},{name:"Mix",unit:"%",range:[0,100],type:"float"}]},{name:"Phaser",modulatable:!0,parameters:[{name:"Rate",unit:"Hz",range:[.1,5],type:"float"},{name:"Depth",unit:"%",range:[0,100],type:"float"},{name:"Feedback",unit:"%",range:[0,95],type:"float"},{name:"Stages",unit:"",range:[2,12],type:"int"},{name:"Center",unit:"Hz",range:[100,2e3],type:"float"},{name:"Mix",unit:"%",range:[0,100],type:"float"}]},{name:"Distortion",modulatable:!0,parameters:[{name:"Drive",unit:"%",range:[0,100],type:"float"},{name:"Tone",unit:"Hz",range:[500,2e4],type:"float"},{name:"Mix",unit:"%",range:[0,100],type:"float"},{name:"Level",unit:"dB",range:[-12,12],type:"float"},{name:"Type",type:"enum",options:["SoftClip","HardClip","Tube","Fuzz"]}]},{name:"Compressor",modulatable:!0,parameters:[{name:"Threshold",unit:"dB",range:[-60,0],type:"float"},{name:"Ratio",unit:":",range:[1,20],type:"float"},{name:"Attack",unit:"ms",range:[.1,100],type:"float"},{name:"Release",unit:"ms",range:[10,2e3],type:"float"},{name:"Knee",unit:"dB",range:[0,12],type:"float"},{name:"MakeupGain",unit:"dB",range:[0,20],type:"float"},{name:"Mix",unit:"%",range:[0,100],type:"float"}]},{name:"EQ",modulatable:!0,parameters:[{name:"LowFreq",unit:"Hz",range:[20,500],type:"float"},{name:"LowGain",unit:"dB",range:[-12,12],type:"float"},{name:"MidFreq",unit:"Hz",range:[200,5e3],type:"float"},{name:"MidGain",unit:"dB",range:[-12,12],type:"float"},{name:"MidQ",unit:"",range:[.5,10],type:"float"},{name:"HighFreq",unit:"Hz",range:[1e3,2e4],type:"float"},{name:"HighGain",unit:"dB",range:[-12,12],type:"float"},{name:"Type",type:"enum",options:["LowShelf","Peaking","HighShelf"]}]},{name:"Reverb",modulatable:!0,parameters:[{name:"Decay",unit:"s",range:[.1,10],type:"float"},{name:"PreDelay",unit:"ms",range:[0,200],type:"float"},{name:"Damping",unit:"%",range:[0,100],type:"float"},{name:"Size",unit:"%",range:[0,100],type:"float"},{name:"HighCut",unit:"Hz",range:[500,2e4],type:"float"},{name:"LowCut",unit:"Hz",range:[20,1e3],type:"float"},{name:"Mix",unit:"%",range:[0,100],type:"float"},{name:"Type",type:"enum",options:["Room","Hall","Plate","Spring"]}]},{name:"Delay",modulatable:!0,parameters:[{name:"Time",unit:"ms",range:[1,5e3],type:"float"},{name:"Feedback",unit:"%",range:[0,100],type:"float"},{name:"Mix",unit:"%",range:[0,100],type:"float"},{name:"Sync",type:"boolean"},{name:"PingPong",type:"boolean"},{name:"Tone",unit:"Hz",range:[20,2e4],type:"float"}]},{name:"Filter (FX)",modulatable:!0,parameters:["Cutoff","Resonance","Drive","Mix"]}]},FL={name:"Pigments",oscillators:[{id:"1",name:"Osc 1",type:"Analog",params:["Waveform","Octave","Coarse","Fine","Level"]},{id:"2",name:"Osc 2",type:"Analog",params:["Waveform","Octave","Coarse","Fine","Level"]},{id:"3",name:"Sub Osc",type:"Analog",params:["Octave","Level"]}],filters:[{name:"Filter",types:["Ladder","SEM","Jupiter","Formant","Comb","Phaser","Notch"],defaultType:"Ladder",parameters:["Cutoff","Resonance","Drive","Blend","Mode","Keytrack"]}],modSources:[{name:"Env 1 (Amp)",type:"Envelope"},{name:"Env 2",type:"Envelope"},{name:"Env 3",type:"Envelope"},{name:"Env 4",type:"Envelope"},{name:"LFO 1",type:"LFO"},{name:"LFO 2",type:"LFO"},{name:"LFO 3",type:"LFO"},{name:"Function 1",type:"Function"},{name:"Function 2",type:"Function"},{name:"Function 3",type:"Function"},{name:"Macro 1",type:"Macro"},{name:"Macro 2",type:"Macro"},{name:"Macro 3",type:"Macro"},{name:"Macro 4",type:"Macro"},{name:"Random",type:"Random"},{name:"Velocity",type:"MIDI"},{name:"Aftertouch",type:"MIDI"},{name:"Mod Wheel",type:"MIDI"},{name:"Pitch Bend",type:"MIDI"},{name:"Keytrack",type:"MIDI"}],modDestinations:[{section:"Oscillator",params:["Wavetable Position","Analog Shape","Sample Start","Level","Pan","FM Amount"]},{section:"Filter",params:["Cutoff","Resonance","Drive","Blend"]},{section:"Envelope",params:["Attack","Decay","Sustain","Release"]},{section:"LFO",params:["Rate","Shape","Fade In"]},{section:"FX",params:["Mix","Feedback","Time","Tone"]},{section:"Global",params:["Master Tune","Master Level"]}],effects:[{name:"Chorus",modulatable:!0,parameters:[{name:"Rate",unit:"Hz",range:[.1,10],type:"float"},{name:"Depth",unit:"%",range:[0,100],type:"float"},{name:"Delay",unit:"ms",range:[1,30],type:"float"},{name:"Feedback",unit:"%",range:[0,95],type:"float"},{name:"Mix",unit:"%",range:[0,100],type:"float"}]},{name:"Phaser",modulatable:!0,parameters:[{name:"Rate",unit:"Hz",range:[.1,5],type:"float"},{name:"Depth",unit:"%",range:[0,100],type:"float"},{name:"Feedback",unit:"%",range:[0,95],type:"float"},{name:"Stages",unit:"",range:[2,12],type:"int"},{name:"Center",unit:"Hz",range:[100,2e3],type:"float"},{name:"Mix",unit:"%",range:[0,100],type:"float"}]},{name:"Distortion",modulatable:!0,parameters:[{name:"Drive",unit:"%",range:[0,100],type:"float"},{name:"Tone",unit:"Hz",range:[500,2e4],type:"float"},{name:"Mix",unit:"%",range:[0,100],type:"float"},{name:"Level",unit:"dB",range:[-12,12],type:"float"},{name:"Type",type:"enum",options:["SoftClip","HardClip","Tube","Fuzz"]}]},{name:"Compressor",modulatable:!0,parameters:[{name:"Threshold",unit:"dB",range:[-60,0],type:"float"},{name:"Ratio",unit:":",range:[1,20],type:"float"},{name:"Attack",unit:"ms",range:[.1,100],type:"float"},{name:"Release",unit:"ms",range:[10,2e3],type:"float"},{name:"Knee",unit:"dB",range:[0,12],type:"float"},{name:"MakeupGain",unit:"dB",range:[0,20],type:"float"},{name:"Mix",unit:"%",range:[0,100],type:"float"}]},{name:"EQ",modulatable:!0,parameters:[{name:"LowFreq",unit:"Hz",range:[20,500],type:"float"},{name:"LowGain",unit:"dB",range:[-12,12],type:"float"},{name:"MidFreq",unit:"Hz",range:[200,5e3],type:"float"},{name:"MidGain",unit:"dB",range:[-12,12],type:"float"},{name:"MidQ",unit:"",range:[.5,10],type:"float"},{name:"HighFreq",unit:"Hz",range:[1e3,2e4],type:"float"},{name:"HighGain",unit:"dB",range:[-12,12],type:"float"},{name:"Type",type:"enum",options:["LowShelf","Peaking","HighShelf"]}]},{name:"Reverb",modulatable:!0,parameters:[{name:"Decay",unit:"s",range:[.1,10],type:"float"},{name:"PreDelay",unit:"ms",range:[0,200],type:"float"},{name:"Damping",unit:"%",range:[0,100],type:"float"},{name:"Size",unit:"%",range:[0,100],type:"float"},{name:"HighCut",unit:"Hz",range:[500,2e4],type:"float"},{name:"LowCut",unit:"Hz",range:[20,1e3],type:"float"},{name:"Mix",unit:"%",range:[0,100],type:"float"},{name:"Type",type:"enum",options:["Room","Hall","Plate","Spring"]}]},{name:"Delay",modulatable:!0,parameters:[{name:"Time",unit:"ms",range:[1,5e3],type:"float"},{name:"Feedback",unit:"%",range:[0,100],type:"float"},{name:"Mix",unit:"%",range:[0,100],type:"float"},{name:"Sync",type:"boolean"},{name:"PingPong",type:"boolean"},{name:"Tone",unit:"Hz",range:[20,2e4],type:"float"}]},{name:"Filter (FX)",modulatable:!0,parameters:["Cutoff","Resonance","Drive","Mix"]}]},HL={name:"Diva",oscillators:[{id:"1",name:"Osc 1",type:"Analog",params:["Waveform","Octave","Coarse","Fine","Level"]},{id:"2",name:"Osc 2",type:"Analog",params:["Waveform","Octave","Coarse","Fine","Level"]},{id:"3",name:"Sub Osc",type:"Analog",params:["Octave","Level"]}],filters:[{name:"Filter",types:["Moog Ladder","Roland","Korg MS20","HP","BP"],defaultType:"Moog Ladder",parameters:["Cutoff","Resonance","Drive","Keytrack"]}],modSources:[{name:"Env 1 (Amp)",type:"Envelope"},{name:"Env 2 (Filter)",type:"Envelope"},{name:"LFO 1",type:"LFO"},{name:"LFO 2",type:"LFO"},{name:"Velocity",type:"MIDI"},{name:"Mod Wheel",type:"MIDI"},{name:"Aftertouch",type:"MIDI"},{name:"Keytrack",type:"MIDI"}],modDestinations:[{section:"Oscillator",params:["Pitch","Pulse Width"]},{section:"Filter",params:["Cutoff","Resonance","Drive"]},{section:"Amp",params:["Level"]}],effects:[]},UL={name:"Roland Juno-106",oscillators:[{id:"1",name:"Osc 1",type:"Analog",params:["Waveform","Octave","Coarse","Fine","Level"]},{id:"2",name:"Osc 2",type:"Analog",params:["Waveform","Octave","Coarse","Fine","Level"]},{id:"3",name:"Sub Osc",type:"Analog",params:["Octave","Level"]}],filters:[{name:"Filter",types:["Lowpass","Highpass"],defaultType:"Lowpass",parameters:["Cutoff","Resonance","ENV Amount","LFO Amount","Keytrack"]}],modSources:[{name:"ADSR Envelope",type:"Envelope"},{name:"LFO",type:"LFO"},{name:"Mod Lever",type:"Performance"},{name:"Keytrack",type:"MIDI"}],modDestinations:[{section:"Oscillator",params:["Pitch","Pulse Width"]},{section:"Filter",params:["Cutoff","Resonance"]},{section:"Amp",params:["Level"]}],effects:[{name:"Chorus",parameters:["On/Off","Mode"]}]},VL={name:"Arturia Analog Lab",oscillators:[{id:"1",name:"Osc 1",type:"Analog",params:["Waveform","Octave","Coarse","Fine","Level"]},{id:"2",name:"Osc 2",type:"Analog",params:["Waveform","Octave","Coarse","Fine","Level"]},{id:"3",name:"Sub Osc",type:"Analog",params:["Octave","Level"]}],filters:[{name:"Filter",types:["Lowpass","Highpass","Bandpass"],defaultType:"Lowpass",parameters:["Cutoff","Resonance"]}],modSources:[{name:"Macro 1 (Brightness)",type:"Macro"},{name:"Macro 2 (Timbre)",type:"Macro"},{name:"Macro 3 (Time)",type:"Macro"},{name:"Macro 4 (Movement)",type:"Macro"},{name:"Velocity",type:"MIDI"},{name:"Aftertouch",type:"MIDI"}],modDestinations:[{section:"Macros",params:["Brightness","Timbre","Time","Movement"]},{section:"Filter",params:["Cutoff","Resonance"]}],effects:[{name:"Macros (Brightness, Timbre, Time, Movement)"},{name:"Preset-dependent FX (varies by underlying synth)"}]},zL={name:"Generic Synth",oscillators:[{id:"1",name:"Osc 1",type:"Analog",params:["Waveform","Octave","Level"]}],filters:[{name:"Filter",types:["Lowpass","Highpass"],defaultType:"Lowpass",parameters:["Cutoff","Resonance"]}],modSources:[{name:"Env 1",type:"Envelope"},{name:"LFO 1",type:"LFO"}],modDestinations:[{section:"Oscillator",params:["Pitch","Level"]},{section:"Filter",params:["Cutoff","Resonance"]},{section:"Amp",params:["Level"]}],effects:[{name:"Chorus",modulatable:!0,parameters:[{name:"Rate",unit:"Hz",range:[.1,10],type:"float"},{name:"Depth",unit:"%",range:[0,100],type:"float"},{name:"Delay",unit:"ms",range:[1,30],type:"float"},{name:"Feedback",unit:"%",range:[0,95],type:"float"},{name:"Mix",unit:"%",range:[0,100],type:"float"}]},{name:"Delay",modulatable:!0,parameters:[{name:"Time",unit:"ms",range:[1,5e3],type:"float"},{name:"Feedback",unit:"%",range:[0,100],type:"float"},{name:"Mix",unit:"%",range:[0,100],type:"float"},{name:"Sync",type:"boolean"},{name:"PingPong",type:"boolean"},{name:"Tone",unit:"Hz",range:[20,2e4],type:"float"}]},{name:"Reverb",modulatable:!0,parameters:[{name:"Decay",unit:"s",range:[.1,10],type:"float"},{name:"PreDelay",unit:"ms",range:[0,200],type:"float"},{name:"Damping",unit:"%",range:[0,100],type:"float"},{name:"Size",unit:"%",range:[0,100],type:"float"},{name:"HighCut",unit:"Hz",range:[500,2e4],type:"float"},{name:"LowCut",unit:"Hz",range:[20,1e3],type:"float"},{name:"Mix",unit:"%",range:[0,100],type:"float"},{name:"Type",type:"enum",options:["Room","Hall","Plate","Spring"]}]},{name:"Filter (FX)",modulatable:!0,parameters:["Cutoff","Resonance","Drive","Mix"]}]},jL={name:"Apple Alchemy",oscillators:[{id:"1",name:"Osc 1",type:"Analog",params:["Waveform","Octave","Coarse","Fine","Level"]},{id:"2",name:"Osc 2",type:"Analog",params:["Waveform","Octave","Coarse","Fine","Level"]},{id:"3",name:"Sub Osc",type:"Analog",params:["Octave","Level"]}],filters:[{name:"Filter",types:["Lowpass","Highpass","Bandpass","Notch","Comb","Formant"],defaultType:"Lowpass",parameters:["Cutoff","Resonance","Drive","Keytrack","Mix"]}],modSources:[{name:"Env 1",type:"Envelope"},{name:"Env 2",type:"Envelope"},{name:"Env 3",type:"Envelope"},{name:"Env 4",type:"Envelope"},{name:"LFO 1",type:"LFO"},{name:"LFO 2",type:"LFO"},{name:"LFO 3",type:"LFO"},{name:"LFO 4",type:"LFO"},{name:"Keytrack",type:"MIDI"},{name:"Velocity",type:"MIDI"},{name:"Mod Wheel",type:"MIDI"},{name:"Aftertouch",type:"MIDI"},{name:"Pitch Bend",type:"MIDI"}],modDestinations:[{section:"Oscillator",params:["Pitch","Level","Pan","Wave Shape"]},{section:"Filter",params:["Cutoff","Resonance","Drive","Mix"]},{section:"Amp",params:["Level"]}],effects:[{name:"Compressor",modulatable:!0,parameters:[{name:"Threshold",unit:"dB",range:[-60,0],type:"float"},{name:"Ratio",unit:":",range:[1,20],type:"float"},{name:"Attack",unit:"ms",range:[.1,100],type:"float"},{name:"Release",unit:"ms",range:[10,2e3],type:"float"},{name:"Knee",unit:"dB",range:[0,12],type:"float"},{name:"MakeupGain",unit:"dB",range:[0,20],type:"float"},{name:"Mix",unit:"%",range:[0,100],type:"float"}]},{name:"Distortion",modulatable:!0,parameters:[{name:"Drive",unit:"%",range:[0,100],type:"float"},{name:"Tone",unit:"Hz",range:[500,2e4],type:"float"},{name:"Mix",unit:"%",range:[0,100],type:"float"},{name:"Level",unit:"dB",range:[-12,12],type:"float"},{name:"Type",type:"enum",options:["SoftClip","HardClip","Tube","Fuzz"]}]},{name:"Chorus",modulatable:!0,parameters:[{name:"Rate",unit:"Hz",range:[.1,10],type:"float"},{name:"Depth",unit:"%",range:[0,100],type:"float"},{name:"Delay",unit:"ms",range:[1,30],type:"float"},{name:"Feedback",unit:"%",range:[0,95],type:"float"},{name:"Mix",unit:"%",range:[0,100],type:"float"}]},{name:"Phaser",modulatable:!0,parameters:[{name:"Rate",unit:"Hz",range:[.1,5],type:"float"},{name:"Depth",unit:"%",range:[0,100],type:"float"},{name:"Feedback",unit:"%",range:[0,95],type:"float"},{name:"Stages",unit:"",range:[2,12],type:"int"},{name:"Center",unit:"Hz",range:[100,2e3],type:"float"},{name:"Mix",unit:"%",range:[0,100],type:"float"}]},{name:"Flanger",modulatable:!0,parameters:[{name:"Rate",unit:"Hz",range:[.1,5],type:"float"},{name:"Depth",unit:"%",range:[0,100],type:"float"},{name:"Manual",unit:"ms",range:[0,10],type:"float"},{name:"Feedback",unit:"%",range:[0,99],type:"float"},{name:"Phase",unit:"°",range:[0,180],type:"float"},{name:"Mix",unit:"%",range:[0,100],type:"float"},{name:"LFOShape",type:"enum",options:["Sine","Triangle","Saw"]}]},{name:"EQ",modulatable:!0,parameters:[{name:"LowFreq",unit:"Hz",range:[20,500],type:"float"},{name:"LowGain",unit:"dB",range:[-12,12],type:"float"},{name:"MidFreq",unit:"Hz",range:[200,5e3],type:"float"},{name:"MidGain",unit:"dB",range:[-12,12],type:"float"},{name:"MidQ",unit:"",range:[.5,10],type:"float"},{name:"HighFreq",unit:"Hz",range:[1e3,2e4],type:"float"},{name:"HighGain",unit:"dB",range:[-12,12],type:"float"},{name:"Type",type:"enum",options:["LowShelf","Peaking","HighShelf"]}]},{name:"Reverb",modulatable:!0,parameters:[{name:"Decay",unit:"s",range:[.1,10],type:"float"},{name:"PreDelay",unit:"ms",range:[0,200],type:"float"},{name:"Damping",unit:"%",range:[0,100],type:"float"},{name:"Size",unit:"%",range:[0,100],type:"float"},{name:"HighCut",unit:"Hz",range:[500,2e4],type:"float"},{name:"LowCut",unit:"Hz",range:[20,1e3],type:"float"},{name:"Mix",unit:"%",range:[0,100],type:"float"},{name:"Type",type:"enum",options:["Room","Hall","Plate","Spring"]}]},{name:"Delay",modulatable:!0,parameters:[{name:"Time",unit:"ms",range:[1,5e3],type:"float"},{name:"Feedback",unit:"%",range:[0,100],type:"float"},{name:"Mix",unit:"%",range:[0,100],type:"float"},{name:"Sync",type:"boolean"},{name:"PingPong",type:"boolean"},{name:"Tone",unit:"Hz",range:[20,2e4],type:"float"}]},{name:"Filter (FX)",modulatable:!0,parameters:["Cutoff","Resonance","Drive","Mix"]}]},GL={name:"Ableton Operator",oscillators:[{id:"A",name:"Osc A",type:"FM",params:["Coarse","Fine","Level","Waveform"]},{id:"B",name:"Osc B",type:"FM",params:["Coarse","Fine","Level","Waveform"]},{id:"C",name:"Osc C",type:"FM",params:["Coarse","Fine","Level","Waveform"]},{id:"D",name:"Osc D",type:"FM",params:["Coarse","Fine","Level","Waveform"]}],filters:[{name:"Filter",types:["Lowpass","Highpass","Bandpass","Notch"],defaultType:"Lowpass",parameters:["Cutoff","Resonance","Drive","Mix"]}],modSources:[{name:"Env 1",type:"Envelope"},{name:"Env 2",type:"Envelope"},{name:"LFO 1",type:"LFO"},{name:"LFO 2",type:"LFO"},{name:"Keytrack",type:"MIDI"},{name:"Velocity",type:"MIDI"},{name:"Mod Wheel",type:"MIDI"},{name:"Aftertouch",type:"MIDI"},{name:"Pitch Bend",type:"MIDI"}],modDestinations:[{section:"Oscillator",params:["Coarse","Fine","Level","Waveform"]},{section:"Filter",params:["Cutoff","Resonance","Drive","Mix"]},{section:"Amp",params:["Level"]}],effects:[{name:"Chorus",modulatable:!0,parameters:[{name:"Rate",unit:"Hz",range:[.1,10],type:"float"},{name:"Depth",unit:"%",range:[0,100],type:"float"},{name:"Delay",unit:"ms",range:[1,30],type:"float"},{name:"Feedback",unit:"%",range:[0,95],type:"float"},{name:"Mix",unit:"%",range:[0,100],type:"float"}]},{name:"Delay",modulatable:!0,parameters:[{name:"Time",unit:"ms",range:[1,5e3],type:"float"},{name:"Feedback",unit:"%",range:[0,100],type:"float"},{name:"Mix",unit:"%",range:[0,100],type:"float"},{name:"Sync",type:"boolean"},{name:"PingPong",type:"boolean"},{name:"Tone",unit:"Hz",range:[20,2e4],type:"float"}]},{name:"Reverb",modulatable:!0,parameters:[{name:"Decay",unit:"s",range:[.1,10],type:"float"},{name:"PreDelay",unit:"ms",range:[0,200],type:"float"},{name:"Damping",unit:"%",range:[0,100],type:"float"},{name:"Size",unit:"%",range:[0,100],type:"float"},{name:"HighCut",unit:"Hz",range:[500,2e4],type:"float"},{name:"LowCut",unit:"Hz",range:[20,1e3],type:"float"},{name:"Mix",unit:"%",range:[0,100],type:"float"},{name:"Type",type:"enum",options:["Room","Hall","Plate","Spring"]}]},{name:"Filter (FX)",modulatable:!0,parameters:["Cutoff","Resonance","Drive","Mix"]}]},qL={name:"Native Instruments FM8",operators:[{id:"A",name:"Operator A",params:["Ratio","Offset","Level","Waveform"]},{id:"B",name:"Operator B",params:["Ratio","Offset","Level","Waveform"]},{id:"C",name:"Operator C",params:["Ratio","Offset","Level","Waveform"]},{id:"D",name:"Operator D",params:["Ratio","Offset","Level","Waveform"]},{id:"E",name:"Operator E",params:["Ratio","Offset","Level","Waveform"]},{id:"F",name:"Operator F",params:["Ratio","Offset","Level","Waveform"]},{id:"X",name:"Noise/Saturation",params:["Level","Color"]}],filters:[{name:"Filter",types:["Lowpass","Highpass","Bandpass","Notch"],defaultType:"Lowpass",parameters:["Cutoff","Resonance","Drive","Mix"]}],modSources:[{name:"Env 1",type:"Envelope"},{name:"Env 2",type:"Envelope"},{name:"Env 3",type:"Envelope"},{name:"Env 4",type:"Envelope"},{name:"LFO 1",type:"LFO"},{name:"LFO 2",type:"LFO"},{name:"LFO 3",type:"LFO"},{name:"LFO 4",type:"LFO"},{name:"Keytrack",type:"MIDI"},{name:"Velocity",type:"MIDI"},{name:"Mod Wheel",type:"MIDI"},{name:"Aftertouch",type:"MIDI"},{name:"Pitch Bend",type:"MIDI"}],modDestinations:[{section:"Operator",params:["Level","Ratio","Offset","Waveform"]},{section:"Filter",params:["Cutoff","Resonance","Drive","Mix"]},{section:"Amp",params:["Level"]}],effects:[{name:"Chorus",modulatable:!0,parameters:[{name:"Rate",unit:"Hz",range:[.1,10],type:"float"},{name:"Depth",unit:"%",range:[0,100],type:"float"},{name:"Delay",unit:"ms",range:[1,30],type:"float"},{name:"Feedback",unit:"%",range:[0,95],type:"float"},{name:"Mix",unit:"%",range:[0,100],type:"float"}]},{name:"Delay",modulatable:!0,parameters:[{name:"Time",unit:"ms",range:[1,5e3],type:"float"},{name:"Feedback",unit:"%",range:[0,100],type:"float"},{name:"Mix",unit:"%",range:[0,100],type:"float"},{name:"Sync",type:"boolean"},{name:"PingPong",type:"boolean"},{name:"Tone",unit:"Hz",range:[20,2e4],type:"float"}]},{name:"Reverb",modulatable:!0,parameters:[{name:"Decay",unit:"s",range:[.1,10],type:"float"},{name:"PreDelay",unit:"ms",range:[0,200],type:"float"},{name:"Damping",unit:"%",range:[0,100],type:"float"},{name:"Size",unit:"%",range:[0,100],type:"float"},{name:"HighCut",unit:"Hz",range:[500,2e4],type:"float"},{name:"LowCut",unit:"Hz",range:[20,1e3],type:"float"},{name:"Mix",unit:"%",range:[0,100],type:"float"},{name:"Type",type:"enum",options:["Room","Hall","Plate","Spring"]}]},{name:"Filter (FX)",modulatable:!0,parameters:["Cutoff","Resonance","Drive","Mix"]}]},YL={name:"Hive 2",oscillators:[{id:"1",name:"Osc 1",type:"Wavetable",params:["Waveform","Octave","Semitone","Detune","Level"]},{id:"2",name:"Osc 2",type:"Wavetable",params:["Waveform","Octave","Semitone","Detune","Level"]},{id:"Sub",name:"Sub Osc",type:"Analog",params:["Octave","Level"]}],filters:[{name:"Filter 1",types:["Lowpass 12dB","Lowpass 24dB","Highpass 12dB","Highpass 24dB","Bandpass 12dB","Bandpass 24dB","Notch","Peak","Comb+","Comb-","Allpass"],defaultType:"Lowpass 24dB",parameters:["Cutoff","Resonance","Drive","Keytrack","Mix"]},{name:"Filter 2",types:["Lowpass 12dB","Lowpass 24dB","Highpass 12dB","Highpass 24dB","Bandpass 12dB","Bandpass 24dB","Notch","Peak","Comb+","Comb-","Allpass"],defaultType:"Lowpass 24dB",parameters:["Cutoff","Resonance","Drive","Keytrack","Mix"]}],modSources:[{name:"Env 1",type:"Envelope"},{name:"Env 2",type:"Envelope"},{name:"Env 3",type:"Envelope"},{name:"LFO 1",type:"LFO"},{name:"LFO 2",type:"LFO"},{name:"LFO 3",type:"LFO"},{name:"LFO 4",type:"LFO"},{name:"Seq/Arp",type:"Sequencer"},{name:"Keytrack",type:"MIDI"},{name:"Velocity",type:"MIDI"},{name:"Mod Wheel",type:"MIDI"},{name:"Aftertouch",type:"MIDI"},{name:"Pitch Bend",type:"MIDI"}],modDestinations:[{section:"Oscillator",params:["Pitch","Level","Pan","Wave Shape"]},{section:"Filter 1",params:["Cutoff","Resonance","Drive","Mix"]},{section:"Filter 2",params:["Cutoff","Resonance","Drive","Mix"]},{section:"Amp",params:["Level"]}],effects:[{name:"Distortion",modulatable:!0,parameters:[{name:"Drive",unit:"%",range:[0,100],type:"float"},{name:"Tone",unit:"Hz",range:[500,2e4],type:"float"},{name:"Mix",unit:"%",range:[0,100],type:"float"},{name:"Level",unit:"dB",range:[-12,12],type:"float"},{name:"Type",type:"enum",options:["SoftClip","HardClip","Tube","Fuzz"]}]},{name:"Chorus",modulatable:!0,parameters:[{name:"Rate",unit:"Hz",range:[.1,10],type:"float"},{name:"Depth",unit:"%",range:[0,100],type:"float"},{name:"Delay",unit:"ms",range:[1,30],type:"float"},{name:"Feedback",unit:"%",range:[0,95],type:"float"},{name:"Mix",unit:"%",range:[0,100],type:"float"}]},{name:"Phaser",modulatable:!0,parameters:[{name:"Rate",unit:"Hz",range:[.1,5],type:"float"},{name:"Depth",unit:"%",range:[0,100],type:"float"},{name:"Feedback",unit:"%",range:[0,95],type:"float"},{name:"Stages",unit:"",range:[2,12],type:"int"},{name:"Center",unit:"Hz",range:[100,2e3],type:"float"},{name:"Mix",unit:"%",range:[0,100],type:"float"}]},{name:"Flanger",modulatable:!0,parameters:[{name:"Rate",unit:"Hz",range:[.1,5],type:"float"},{name:"Depth",unit:"%",range:[0,100],type:"float"},{name:"Manual",unit:"ms",range:[0,10],type:"float"},{name:"Feedback",unit:"%",range:[0,99],type:"float"},{name:"Phase",unit:"°",range:[0,180],type:"float"},{name:"Mix",unit:"%",range:[0,100],type:"float"},{name:"LFOShape",type:"enum",options:["Sine","Triangle","Saw"]}]},{name:"EQ",modulatable:!0,parameters:[{name:"LowFreq",unit:"Hz",range:[20,500],type:"float"},{name:"LowGain",unit:"dB",range:[-12,12],type:"float"},{name:"MidFreq",unit:"Hz",range:[200,5e3],type:"float"},{name:"MidGain",unit:"dB",range:[-12,12],type:"float"},{name:"MidQ",unit:"",range:[.5,10],type:"float"},{name:"HighFreq",unit:"Hz",range:[1e3,2e4],type:"float"},{name:"HighGain",unit:"dB",range:[-12,12],type:"float"},{name:"Type",type:"enum",options:["LowShelf","Peaking","HighShelf"]}]},{name:"Reverb",modulatable:!0,parameters:[{name:"Decay",unit:"s",range:[.1,10],type:"float"},{name:"PreDelay",unit:"ms",range:[0,200],type:"float"},{name:"Damping",unit:"%",range:[0,100],type:"float"},{name:"Size",unit:"%",range:[0,100],type:"float"},{name:"HighCut",unit:"Hz",range:[500,2e4],type:"float"},{name:"LowCut",unit:"Hz",range:[20,1e3],type:"float"},{name:"Mix",unit:"%",range:[0,100],type:"float"},{name:"Type",type:"enum",options:["Room","Hall","Plate","Spring"]}]},{name:"Delay",modulatable:!0,parameters:[{name:"Time",unit:"ms",range:[1,5e3],type:"float"},{name:"Feedback",unit:"%",range:[0,100],type:"float"},{name:"Mix",unit:"%",range:[0,100],type:"float"},{name:"Sync",type:"boolean"},{name:"PingPong",type:"boolean"},{name:"Tone",unit:"Hz",range:[20,2e4],type:"float"}]},{name:"Filter (FX)",modulatable:!0,parameters:["Cutoff","Resonance","Drive","Mix"]}]},QL={name:"Native Instruments Massive X",oscillators:[{id:"1",name:"Osc 1",type:"Wavetable",params:["Wavetable","Pitch","Warp","Level"]},{id:"2",name:"Osc 2",type:"Wavetable",params:["Wavetable","Pitch","Warp","Level"]}],filters:[{name:"Filter",types:["SVF","Ladder","Comb","Scanner","Groian","Blue Monark","Creak","Crusher"],defaultType:"SVF",parameters:["Cutoff","Resonance","Drive","Mix","Type"]}],modSources:[{name:"Env 1",type:"Envelope"},{name:"Env 2",type:"Envelope"},{name:"Env 3",type:"Envelope"},{name:"Env 4",type:"Envelope"},{name:"LFO 1",type:"LFO"},{name:"LFO 2",type:"LFO"},{name:"LFO 3",type:"LFO"},{name:"Performer 1",type:"Performer"},{name:"Performer 2",type:"Performer"},{name:"Random",type:"Random"},{name:"Keytrack",type:"MIDI"},{name:"Velocity",type:"MIDI"},{name:"Mod Wheel",type:"MIDI"},{name:"Aftertouch",type:"MIDI"},{name:"Pitch Bend",type:"MIDI"}],modDestinations:[{section:"Oscillator",params:["Pitch","Warp","Level"]},{section:"Filter",params:["Cutoff","Resonance","Drive","Mix"]},{section:"Amp",params:["Level"]}],effects:[{name:"Insert FX 1",modulatable:!0,parameters:["Type","Mix","Param 1","Param 2"]},{name:"Insert FX 2",modulatable:!0,parameters:["Type","Mix","Param 1","Param 2"]},{name:"Insert FX 3",modulatable:!0,parameters:["Type","Mix","Param 1","Param 2"]},{name:"Stereo FX 1",modulatable:!0,parameters:["Type","Mix","Param 1","Param 2"]},{name:"Stereo FX 2",modulatable:!0,parameters:["Type","Mix","Param 1","Param 2"]},{name:"Stereo FX 3",modulatable:!0,parameters:["Type","Mix","Param 1","Param 2"]},{name:"EQ",modulatable:!0,parameters:[{name:"Low Gain",unit:"dB",range:[-12,12],type:"float"},{name:"Mid Freq",unit:"Hz",range:[200,5e3],type:"float"},{name:"Mid Gain",unit:"dB",range:[-12,12],type:"float"},{name:"High Gain",unit:"dB",range:[-12,12],type:"float"}]},{name:"Compressor",modulatable:!0,parameters:[{name:"Threshold",unit:"dB",range:[-60,0],type:"float"},{name:"Ratio",unit:":",range:[1,20],type:"float"},{name:"Attack",unit:"ms",range:[.1,100],type:"float"},{name:"Release",unit:"ms",range:[10,2e3],type:"float"},{name:"Knee",unit:"dB",range:[0,12],type:"float"},{name:"MakeupGain",unit:"dB",range:[0,20],type:"float"},{name:"Mix",unit:"%",range:[0,100],type:"float"}]}]},KL={name:"Omnisphere",oscillators:[{id:"A",name:"Layer A",type:"Sample/Synth",params:["Sample/Waveform","Pitch","Level","Pan"]},{id:"B",name:"Layer B",type:"Sample/Synth",params:["Sample/Waveform","Pitch","Level","Pan"]},{id:"C",name:"Layer C",type:"Sample/Synth",params:["Sample/Waveform","Pitch","Level","Pan"]},{id:"D",name:"Layer D",type:"Sample/Synth",params:["Sample/Waveform","Pitch","Level","Pan"]}],filters:[{name:"Filter",types:["Lowpass","Highpass","Bandpass","Notch","Resonator","Formant","Power Filter"],defaultType:"Lowpass",parameters:["Cutoff","Resonance","Drive","Keytrack","Mix"]}],modSources:[{name:"Env 1",type:"Envelope"},{name:"Env 2",type:"Envelope"},{name:"Env 3",type:"Envelope"},{name:"Env 4",type:"Envelope"},{name:"LFO 1",type:"LFO"},{name:"LFO 2",type:"LFO"},{name:"LFO 3",type:"LFO"},{name:"LFO 4",type:"LFO"},{name:"Keytrack",type:"MIDI"},{name:"Velocity",type:"MIDI"},{name:"Mod Wheel",type:"MIDI"},{name:"Aftertouch",type:"MIDI"},{name:"Pitch Bend",type:"MIDI"}],modDestinations:[{section:"Oscillator",params:["Pitch","Level","Pan"]},{section:"Filter",params:["Cutoff","Resonance","Drive","Mix"]},{section:"Amp",params:["Level"]}],effects:[{name:"Chorus",modulatable:!0,parameters:[{name:"Rate",unit:"Hz",range:[.1,10],type:"float"},{name:"Depth",unit:"%",range:[0,100],type:"float"},{name:"Delay",unit:"ms",range:[1,30],type:"float"},{name:"Feedback",unit:"%",range:[0,95],type:"float"},{name:"Mix",unit:"%",range:[0,100],type:"float"}]},{name:"Flanger",modulatable:!0,parameters:[{name:"Rate",unit:"Hz",range:[.1,5],type:"float"},{name:"Depth",unit:"%",range:[0,100],type:"float"},{name:"Manual",unit:"ms",range:[0,10],type:"float"},{name:"Feedback",unit:"%",range:[0,99],type:"float"},{name:"Phase",unit:"°",range:[0,180],type:"float"},{name:"Mix",unit:"%",range:[0,100],type:"float"},{name:"LFOShape",type:"enum",options:["Sine","Triangle","Saw"]}]},{name:"Phaser",modulatable:!0,parameters:[{name:"Rate",unit:"Hz",range:[.1,5],type:"float"},{name:"Depth",unit:"%",range:[0,100],type:"float"},{name:"Feedback",unit:"%",range:[0,95],type:"float"},{name:"Stages",unit:"",range:[2,12],type:"int"},{name:"Center",unit:"Hz",range:[100,2e3],type:"float"},{name:"Mix",unit:"%",range:[0,100],type:"float"}]},{name:"Distortion",modulatable:!0,parameters:[{name:"Drive",unit:"%",range:[0,100],type:"float"},{name:"Tone",unit:"Hz",range:[500,2e4],type:"float"},{name:"Mix",unit:"%",range:[0,100],type:"float"},{name:"Level",unit:"dB",range:[-12,12],type:"float"},{name:"Type",type:"enum",options:["SoftClip","HardClip","Tube","Fuzz"]}]},{name:"Compressor",modulatable:!0,parameters:[{name:"Threshold",unit:"dB",range:[-60,0],type:"float"},{name:"Ratio",unit:":",range:[1,20],type:"float"},{name:"Attack",unit:"ms",range:[.1,100],type:"float"},{name:"Release",unit:"ms",range:[10,2e3],type:"float"},{name:"Knee",unit:"dB",range:[0,12],type:"float"},{name:"MakeupGain",unit:"dB",range:[0,20],type:"float"},{name:"Mix",unit:"%",range:[0,100],type:"float"}]},{name:"EQ",modulatable:!0,parameters:[{name:"LowFreq",unit:"Hz",range:[20,500],type:"float"},{name:"LowGain",unit:"dB",range:[-12,12],type:"float"},{name:"MidFreq",unit:"Hz",range:[200,5e3],type:"float"},{name:"MidGain",unit:"dB",range:[-12,12],type:"float"},{name:"MidQ",unit:"",range:[.5,10],type:"float"},{name:"HighFreq",unit:"Hz",range:[1e3,2e4],type:"float"},{name:"HighGain",unit:"dB",range:[-12,12],type:"float"},{name:"Type",type:"enum",options:["LowShelf","Peaking","HighShelf"]}]},{name:"Reverb",modulatable:!0,parameters:[{name:"Decay",unit:"s",range:[.1,10],type:"float"},{name:"PreDelay",unit:"ms",range:[0,200],type:"float"},{name:"Damping",unit:"%",range:[0,100],type:"float"},{name:"Size",unit:"%",range:[0,100],type:"float"},{name:"HighCut",unit:"Hz",range:[500,2e4],type:"float"},{name:"LowCut",unit:"Hz",range:[20,1e3],type:"float"},{name:"Mix",unit:"%",range:[0,100],type:"float"},{name:"Type",type:"enum",options:["Room","Hall","Plate","Spring"]}]},{name:"Delay",modulatable:!0,parameters:[{name:"Time",unit:"ms",range:[1,5e3],type:"float"},{name:"Feedback",unit:"%",range:[0,100],type:"float"},{name:"Mix",unit:"%",range:[0,100],type:"float"},{name:"Sync",type:"boolean"},{name:"PingPong",type:"boolean"},{name:"Tone",unit:"Hz",range:[20,2e4],type:"float"}]},{name:"Filter (FX)",modulatable:!0,parameters:["Cutoff","Resonance","Drive","Mix"]}]},$L={name:"Apple Retro Synth",oscillators:[{id:"1",name:"Osc 1",type:"Analog/Digital/FM/Wave",params:["Type","Waveform","Octave","Detune","Level"]},{id:"2",name:"Osc 2",type:"Analog/Digital/FM/Wave",params:["Type","Waveform","Octave","Detune","Level"]}],filters:[{name:"Filter",types:["Lowpass","Highpass","Bandpass","Notch"],defaultType:"Lowpass",parameters:["Cutoff","Resonance","Drive","Keytrack","Mix"]}],modSources:[{name:"Env 1",type:"Envelope"},{name:"Env 2",type:"Envelope"},{name:"LFO 1",type:"LFO"},{name:"LFO 2",type:"LFO"},{name:"Keytrack",type:"MIDI"},{name:"Velocity",type:"MIDI"},{name:"Mod Wheel",type:"MIDI"},{name:"Aftertouch",type:"MIDI"},{name:"Pitch Bend",type:"MIDI"}],modDestinations:[{section:"Oscillator",params:["Pitch","Level","Type","Waveform"]},{section:"Filter",params:["Cutoff","Resonance","Drive","Mix"]},{section:"Amp",params:["Level"]}],effects:[{name:"Chorus",modulatable:!0,parameters:[{name:"Rate",unit:"Hz",range:[.1,10],type:"float"},{name:"Depth",unit:"%",range:[0,100],type:"float"},{name:"Delay",unit:"ms",range:[1,30],type:"float"},{name:"Feedback",unit:"%",range:[0,95],type:"float"},{name:"Mix",unit:"%",range:[0,100],type:"float"}]},{name:"Flanger",modulatable:!0,parameters:[{name:"Rate",unit:"Hz",range:[.1,5],type:"float"},{name:"Depth",unit:"%",range:[0,100],type:"float"},{name:"Manual",unit:"ms",range:[0,10],type:"float"},{name:"Feedback",unit:"%",range:[0,99],type:"float"},{name:"Phase",unit:"°",range:[0,180],type:"float"},{name:"Mix",unit:"%",range:[0,100],type:"float"},{name:"LFOShape",type:"enum",options:["Sine","Triangle","Saw"]}]},{name:"Phaser",modulatable:!0,parameters:[{name:"Rate",unit:"Hz",range:[.1,5],type:"float"},{name:"Depth",unit:"%",range:[0,100],type:"float"},{name:"Feedback",unit:"%",range:[0,95],type:"float"},{name:"Stages",unit:"",range:[2,12],type:"int"},{name:"Center",unit:"Hz",range:[100,2e3],type:"float"},{name:"Mix",unit:"%",range:[0,100],type:"float"}]},{name:"Distortion",modulatable:!0,parameters:[{name:"Drive",unit:"%",range:[0,100],type:"float"},{name:"Tone",unit:"Hz",range:[500,2e4],type:"float"},{name:"Mix",unit:"%",range:[0,100],type:"float"},{name:"Level",unit:"dB",range:[-12,12],type:"float"},{name:"Type",type:"enum",options:["SoftClip","HardClip","Tube","Fuzz"]}]},{name:"Compressor",modulatable:!0,parameters:[{name:"Threshold",unit:"dB",range:[-60,0],type:"float"},{name:"Ratio",unit:":",range:[1,20],type:"float"},{name:"Attack",unit:"ms",range:[.1,100],type:"float"},{name:"Release",unit:"ms",range:[10,2e3],type:"float"},{name:"Knee",unit:"dB",range:[0,12],type:"float"},{name:"MakeupGain",unit:"dB",range:[0,20],type:"float"},{name:"Mix",unit:"%",range:[0,100],type:"float"}]},{name:"EQ",modulatable:!0,parameters:[{name:"LowFreq",unit:"Hz",range:[20,500],type:"float"},{name:"LowGain",unit:"dB",range:[-12,12],type:"float"},{name:"MidFreq",unit:"Hz",range:[200,5e3],type:"float"},{name:"MidGain",unit:"dB",range:[-12,12],type:"float"},{name:"MidQ",unit:"",range:[.5,10],type:"float"},{name:"HighFreq",unit:"Hz",range:[1e3,2e4],type:"float"},{name:"HighGain",unit:"dB",range:[-12,12],type:"float"},{name:"Type",type:"enum",options:["LowShelf","Peaking","HighShelf"]}]},{name:"Reverb",modulatable:!0,parameters:[{name:"Decay",unit:"s",range:[.1,10],type:"float"},{name:"PreDelay",unit:"ms",range:[0,200],type:"float"},{name:"Damping",unit:"%",range:[0,100],type:"float"},{name:"Size",unit:"%",range:[0,100],type:"float"},{name:"HighCut",unit:"Hz",range:[500,2e4],type:"float"},{name:"LowCut",unit:"Hz",range:[20,1e3],type:"float"},{name:"Mix",unit:"%",range:[0,100],type:"float"},{name:"Type",type:"enum",options:["Room","Hall","Plate","Spring"]}]},{name:"Delay",modulatable:!0,parameters:[{name:"Time",unit:"ms",range:[1,5e3],type:"float"},{name:"Feedback",unit:"%",range:[0,100],type:"float"},{name:"Mix",unit:"%",range:[0,100],type:"float"},{name:"Sync",type:"boolean"},{name:"PingPong",type:"boolean"},{name:"Tone",unit:"Hz",range:[20,2e4],type:"float"}]},{name:"Filter (FX)",modulatable:!0,parameters:["Cutoff","Resonance","Drive","Mix"]}]},XL={name:"Roland SH-101",oscillators:[{id:"1",name:"Osc 1",type:"Analog",params:["Waveform","Octave","Sub Level","Pulse Width","Level"]}],filters:[{name:"VCF",types:["Lowpass"],defaultType:"Lowpass",parameters:["Cutoff","Resonance","Env Mod","Keytrack"]}],modSources:[{name:"Env",type:"Envelope"},{name:"LFO",type:"LFO"},{name:"Keytrack",type:"MIDI"},{name:"Mod Wheel",type:"MIDI"},{name:"Pitch Bend",type:"MIDI"}],modDestinations:[{section:"Oscillator",params:["Pitch","Pulse Width","Level"]},{section:"VCF",params:["Cutoff","Resonance","Env Mod"]},{section:"Amp",params:["Level"]}],effects:[{name:"Chorus",modulatable:!1,parameters:["Rate","Depth","Mix"]}]},WL={name:"Sylenth1",oscillators:[{id:"A1",name:"Osc A1",type:"Analog",params:["Waveform","Voices","Detune","Stereo","Phase","Volume"]},{id:"A2",name:"Osc A2",type:"Analog",params:["Waveform","Voices","Detune","Stereo","Phase","Volume"]},{id:"B1",name:"Osc B1",type:"Analog",params:["Waveform","Voices","Detune","Stereo","Phase","Volume"]},{id:"B2",name:"Osc B2",type:"Analog",params:["Waveform","Voices","Detune","Stereo","Phase","Volume"]}],filters:[{name:"Filter A",types:["Lowpass","Highpass","Bandpass"],defaultType:"Lowpass",parameters:["Cutoff","Resonance","Drive","Keytrack"]},{name:"Filter B",types:["Lowpass","Highpass","Bandpass"],defaultType:"Lowpass",parameters:["Cutoff","Resonance","Drive","Keytrack"]}],modSources:[{name:"Env 1",type:"Envelope"},{name:"Env 2",type:"Envelope"},{name:"LFO 1",type:"LFO"},{name:"LFO 2",type:"LFO"},{name:"Mod Wheel",type:"MIDI"},{name:"Pitch Bend",type:"MIDI"},{name:"Velocity",type:"MIDI"},{name:"Keytrack",type:"MIDI"}],modDestinations:[{section:"Oscillator",params:["Pitch","Detune","Volume"]},{section:"Filter A",params:["Cutoff","Resonance","Drive"]},{section:"Filter B",params:["Cutoff","Resonance","Drive"]},{section:"Amp",params:["Level"]}],effects:[{name:"Distortion",modulatable:!0,parameters:[{name:"Drive",unit:"%",range:[0,100],type:"float"},{name:"Tone",unit:"Hz",range:[500,2e4],type:"float"},{name:"Mix",unit:"%",range:[0,100],type:"float"},{name:"Level",unit:"dB",range:[-12,12],type:"float"},{name:"Type",type:"enum",options:["SoftClip","HardClip","Tube","Fuzz"]}]},{name:"Phaser",modulatable:!0,parameters:[{name:"Rate",unit:"Hz",range:[.1,5],type:"float"},{name:"Depth",unit:"%",range:[0,100],type:"float"},{name:"Feedback",unit:"%",range:[0,95],type:"float"},{name:"Stages",unit:"",range:[2,12],type:"int"},{name:"Center",unit:"Hz",range:[100,2e3],type:"float"},{name:"Mix",unit:"%",range:[0,100],type:"float"}]},{name:"Chorus",modulatable:!0,parameters:[{name:"Rate",unit:"Hz",range:[.1,10],type:"float"},{name:"Depth",unit:"%",range:[0,100],type:"float"},{name:"Delay",unit:"ms",range:[1,30],type:"float"},{name:"Feedback",unit:"%",range:[0,95],type:"float"},{name:"Mix",unit:"%",range:[0,100],type:"float"}]},{name:"Reverb",modulatable:!0,parameters:[{name:"Decay",unit:"s",range:[.1,10],type:"float"},{name:"PreDelay",unit:"ms",range:[0,200],type:"float"},{name:"Damping",unit:"%",range:[0,100],type:"float"},{name:"Size",unit:"%",range:[0,100],type:"float"},{name:"HighCut",unit:"Hz",range:[500,2e4],type:"float"},{name:"LowCut",unit:"Hz",range:[20,1e3],type:"float"},{name:"Mix",unit:"%",range:[0,100],type:"float"},{name:"Type",type:"enum",options:["Room","Hall","Plate","Spring"]}]}]},JL={name:"Zebra2",oscillators:[{id:"1",name:"Osc 1",type:"Wavetable",params:["Waveform","Tune","Detune","Phase","Level"]},{id:"2",name:"Osc 2",type:"Wavetable",params:["Waveform","Tune","Detune","Phase","Level"]},{id:"3",name:"Osc 3",type:"Wavetable",params:["Waveform","Tune","Detune","Phase","Level"]},{id:"4",name:"Osc 4",type:"Wavetable",params:["Waveform","Tune","Detune","Phase","Level"]}],filters:[{name:"Filter 1",types:["Lowpass","Highpass","Bandpass","Notch","Comb","Formant"],defaultType:"Lowpass",parameters:["Cutoff","Resonance","Drive","Keytrack","Mix"]},{name:"Filter 2",types:["Lowpass","Highpass","Bandpass","Notch","Comb","Formant"],defaultType:"Lowpass",parameters:["Cutoff","Resonance","Drive","Keytrack","Mix"]}],modSources:[{name:"Env 1",type:"Envelope"},{name:"Env 2",type:"Envelope"},{name:"Env 3",type:"Envelope"},{name:"Env 4",type:"Envelope"},{name:"LFO 1",type:"LFO"},{name:"LFO 2",type:"LFO"},{name:"LFO 3",type:"LFO"},{name:"LFO 4",type:"LFO"},{name:"Keytrack",type:"MIDI"},{name:"Velocity",type:"MIDI"},{name:"Mod Wheel",type:"MIDI"},{name:"Aftertouch",type:"MIDI"},{name:"Pitch Bend",type:"MIDI"}],modDestinations:[{section:"Oscillator",params:["Pitch","Level","Detune","Phase"]},{section:"Filter 1",params:["Cutoff","Resonance","Drive","Mix"]},{section:"Filter 2",params:["Cutoff","Resonance","Drive","Mix"]},{section:"Amp",params:["Level"]}],effects:[{name:"Chorus",modulatable:!0,parameters:[{name:"Rate",unit:"Hz",range:[.1,10],type:"float"},{name:"Depth",unit:"%",range:[0,100],type:"float"},{name:"Delay",unit:"ms",range:[1,30],type:"float"},{name:"Feedback",unit:"%",range:[0,95],type:"float"},{name:"Mix",unit:"%",range:[0,100],type:"float"}]},{name:"Flanger",modulatable:!0,parameters:[{name:"Rate",unit:"Hz",range:[.1,5],type:"float"},{name:"Depth",unit:"%",range:[0,100],type:"float"},{name:"Manual",unit:"ms",range:[0,10],type:"float"},{name:"Feedback",unit:"%",range:[0,99],type:"float"},{name:"Phase",unit:"°",range:[0,180],type:"float"},{name:"Mix",unit:"%",range:[0,100],type:"float"},{name:"LFOShape",type:"enum",options:["Sine","Triangle","Saw"]}]},{name:"Phaser",modulatable:!0,parameters:[{name:"Rate",unit:"Hz",range:[.1,5],type:"float"},{name:"Depth",unit:"%",range:[0,100],type:"float"},{name:"Feedback",unit:"%",range:[0,95],type:"float"},{name:"Stages",unit:"",range:[2,12],type:"int"},{name:"Center",unit:"Hz",range:[100,2e3],type:"float"},{name:"Mix",unit:"%",range:[0,100],type:"float"}]},{name:"Distortion",modulatable:!0,parameters:[{name:"Drive",unit:"%",range:[0,100],type:"float"},{name:"Tone",unit:"Hz",range:[500,2e4],type:"float"},{name:"Mix",unit:"%",range:[0,100],type:"float"},{name:"Level",unit:"dB",range:[-12,12],type:"float"},{name:"Type",type:"enum",options:["SoftClip","HardClip","Tube","Fuzz"]}]},{name:"Compressor",modulatable:!0,parameters:[{name:"Threshold",unit:"dB",range:[-60,0],type:"float"},{name:"Ratio",unit:":",range:[1,20],type:"float"},{name:"Attack",unit:"ms",range:[.1,100],type:"float"},{name:"Release",unit:"ms",range:[10,2e3],type:"float"},{name:"Knee",unit:"dB",range:[0,12],type:"float"},{name:"MakeupGain",unit:"dB",range:[0,20],type:"float"},{name:"Mix",unit:"%",range:[0,100],type:"float"}]},{name:"EQ",modulatable:!0,parameters:[{name:"LowFreq",unit:"Hz",range:[20,500],type:"float"},{name:"LowGain",unit:"dB",range:[-12,12],type:"float"},{name:"MidFreq",unit:"Hz",range:[200,5e3],type:"float"},{name:"MidGain",unit:"dB",range:[-12,12],type:"float"},{name:"MidQ",unit:"",range:[.5,10],type:"float"},{name:"HighFreq",unit:"Hz",range:[1e3,2e4],type:"float"},{name:"HighGain",unit:"dB",range:[-12,12],type:"float"},{name:"Type",type:"enum",options:["LowShelf","Peaking","HighShelf"]}]},{name:"Reverb",modulatable:!0,parameters:[{name:"Decay",unit:"s",range:[.1,10],type:"float"},{name:"PreDelay",unit:"ms",range:[0,200],type:"float"},{name:"Damping",unit:"%",range:[0,100],type:"float"},{name:"Size",unit:"%",range:[0,100],type:"float"},{name:"HighCut",unit:"Hz",range:[500,2e4],type:"float"},{name:"LowCut",unit:"Hz",range:[20,1e3],type:"float"},{name:"Mix",unit:"%",range:[0,100],type:"float"},{name:"Type",type:"enum",options:["Room","Hall","Plate","Spring"]}]},{name:"Delay",modulatable:!0,parameters:[{name:"Time",unit:"ms",range:[1,5e3],type:"float"},{name:"Feedback",unit:"%",range:[0,100],type:"float"},{name:"Mix",unit:"%",range:[0,100],type:"float"},{name:"Sync",type:"boolean"},{name:"PingPong",type:"boolean"},{name:"Tone",unit:"Hz",range:[20,2e4],type:"float"}]},{name:"Filter (FX)",modulatable:!0,parameters:["Cutoff","Resonance","Drive","Mix"]}]},ZL=[{name:"Chorus"},{name:"Delay"},{name:"Reverb"},{name:"Flanger"},{name:"Phaser"},{name:"Distortion"},{name:"Bitcrusher"},{name:"Tape Saturation"},{name:"Compressor"},{name:"EQ"},{name:"Filter"},{name:"Wah"},{name:"Tremolo"},{name:"Insert Distortion"},{name:"Insert Bitcrusher"},{name:"Insert Comb Filter"},{name:"Insert Frequency Shifter"},{name:"Insert Ring Mod"},{name:"Insert Sample & Hold"},{name:"Insert EQ"},{name:"Stereo Chorus"},{name:"Stereo Flanger"},{name:"Stereo Phaser"},{name:"Stereo Delay"},{name:"Stereo Reverb"},{name:"Stereo Tape Saturation"},{name:"Hyper/Dimension"}],e5={Serum:PL,Vital:BL,Pigments:FL,Diva:HL,Juno106:UL,AnalogLab:VL,Generic:zL,Alchemy:jL,Operator:GL,FM8:qL,Hive2:YL,MassiveX:QL,Omnisphere:KL,RetroSynth:$L,SH101:XL,Sylenth1:WL,Zebra2:JL,fallbackStandardEffects:ZL},t5=[{key:"subtractive",label:"Subtractive"},{key:"additive",label:"Additive"},{key:"fm",label:"FM"},{key:"wavetable",label:"Wavetable"},{key:"granular",label:"Granular"}],eb={subtractive:{oscillators:{osc1_waveform:{type:"enum",options:["sine","sawtooth","square","triangle","noise"]},osc1_tune:{type:"float",range:[-24,24],unit:"semitones"},osc1_level:{type:"float",range:[0,1],unit:"linear"},osc1_pulse_width:{type:"float",range:[0,1],unit:"percent"},osc2_waveform:{type:"enum",options:["sine","sawtooth","square","triangle","noise"]},osc2_tune:{type:"float",range:[-24,24],unit:"semitones"},osc2_level:{type:"float",range:[0,1],unit:"linear"}},filter:{filter_type:{type:"enum",options:["lowpass","highpass","bandpass","notch"]},filter_cutoff:{type:"float",range:[20,2e4],unit:"Hz"},filter_resonance:{type:"float",range:[0,1],unit:"Q"},filter_env_amount:{type:"float",range:[-1,1],unit:"amount"}},envelopes:{amp_env:{attack:{type:"float",range:[.001,10],unit:"seconds"},decay:{type:"float",range:[.001,10],unit:"seconds"},sustain:{type:"float",range:[0,1],unit:"level"},release:{type:"float",range:[.001,10],unit:"seconds"}},filter_env:{attack:{type:"float",range:[.001,10],unit:"seconds"},decay:{type:"float",range:[.001,10],unit:"seconds"},sustain:{type:"float",range:[0,1],unit:"level"},release:{type:"float",range:[.001,10],unit:"seconds"}}},lfo:{lfo1_shape:{type:"enum",options:["sine","triangle","square","saw"]},lfo1_rate:{type:"float",range:[.1,20],unit:"Hz"},lfo1_depth:{type:"float",range:[0,1],unit:"amount"},lfo1_target:{type:"enum",options:["pitch","filter_cutoff","osc1_level","osc2_level"]}},global:{volume:{type:"float",range:[0,1],unit:"linear"},pan:{type:"float",range:[-1,1],unit:"stereo"},glide_time:{type:"float",range:[0,5],unit:"seconds"},voices:{type:"int",range:[1,16],unit:"count"},voice_mode:{type:"enum",options:["polyphonic","mono","legato"]}}},additive:{partials:{partial_count:{type:"int",range:[1,32],unit:"count"},partial1_frequency:{type:"float",range:[.5,10],unit:"ratio"},partial1_amplitude:{type:"float",range:[0,1],unit:"level"},partial1_phase:{type:"float",range:[0,1],unit:"normalized"},partial2_frequency:{type:"float",range:[.5,10],unit:"ratio"},partial2_amplitude:{type:"float",range:[0,1],unit:"level"},partial2_phase:{type:"float",range:[0,1],unit:"normalized"}},global:{fundamental_freq:{type:"float",range:[20,1e3],unit:"Hz"},global_env:{attack:{type:"float",range:[.001,10],unit:"seconds"},decay:{type:"float",range:[.001,10],unit:"seconds"},sustain:{type:"float",range:[0,1],unit:"level"},release:{type:"float",range:[.001,10],unit:"seconds"}},stereo_spread:{type:"float",range:[0,1],unit:"amount"}}},fm:{operators:{op1_waveform:{type:"enum",options:["sine","triangle","square","saw"]},op1_freq_ratio:{type:"float",range:[.5,12],unit:"ratio"},op1_fixed_freq:{type:"boolean"},op1_output_level:{type:"float",range:[0,1],unit:"level"},op2_waveform:{type:"enum",options:["sine","triangle","square","saw"]},op2_freq_ratio:{type:"float",range:[.5,12],unit:"ratio"},op2_fixed_freq:{type:"boolean"},op2_output_level:{type:"float",range:[0,1],unit:"level"},op3_waveform:{type:"enum",options:["sine","triangle","square","saw"]},op3_freq_ratio:{type:"float",range:[.5,12],unit:"ratio"},op3_fixed_freq:{type:"boolean"},op3_output_level:{type:"float",range:[0,1],unit:"level"},op4_waveform:{type:"enum",options:["sine","triangle","square","saw"]},op4_freq_ratio:{type:"float",range:[.5,12],unit:"ratio"},op4_fixed_freq:{type:"boolean"},op4_output_level:{type:"float",range:[0,1],unit:"level"}},routing:{algorithm:{type:"int",range:[1,8],unit:"index"},feedback_connections:{type:"int",range:[0,4],unit:"count"}},envelopes:{op1_env:{attack:{type:"float",range:[.001,10],unit:"seconds"},decay:{type:"float",range:[.001,10],unit:"seconds"},sustain:{type:"float",range:[0,1],unit:"level"},release:{type:"float",range:[.001,10],unit:"seconds"}},op2_env:{attack:{type:"float",range:[.001,10],unit:"seconds"},decay:{type:"float",range:[.001,10],unit:"seconds"},sustain:{type:"float",range:[0,1],unit:"level"},release:{type:"float",range:[.001,10],unit:"seconds"}}},global:{voices:{type:"int",range:[1,16],unit:"count"},glide_time:{type:"float",range:[0,5],unit:"seconds"}}},wavetable:{oscillators:{osc1_wavetable:{type:"string"},osc1_position:{type:"float",range:[0,1],unit:"position"},osc1_tune:{type:"float",range:[-24,24],unit:"semitones"},osc1_level:{type:"float",range:[0,1],unit:"level"},osc1_phase:{type:"float",range:[0,1],unit:"normalized"},osc1_warp_type:{type:"enum",options:["bend+","bend-","sync","mirror"]},osc1_warp_amount:{type:"float",range:[0,1],unit:"amount"},osc2_wavetable:{type:"string"},osc2_position:{type:"float",range:[0,1],unit:"position"},osc2_tune:{type:"float",range:[-24,24],unit:"semitones"},osc2_level:{type:"float",range:[0,1],unit:"level"}},filter:{filter_type:{type:"enum",options:["lowpass","highpass","bandpass","notch"]},filter_cutoff:{type:"float",range:[20,2e4],unit:"Hz"},filter_resonance:{type:"float",range:[0,1],unit:"Q"},filter_env_amount:{type:"float",range:[-1,1],unit:"amount"},filter_drive:{type:"float",range:[0,1],unit:"amount"}},envelopes:{amp_env:{attack:{type:"float",range:[.001,10],unit:"seconds"},decay:{type:"float",range:[.001,10],unit:"seconds"},sustain:{type:"float",range:[0,1],unit:"level"},release:{type:"float",range:[.001,10],unit:"seconds"}},mod_env1:{attack:{type:"float",range:[.001,10],unit:"seconds"},decay:{type:"float",range:[.001,10],unit:"seconds"},sustain:{type:"float",range:[0,1],unit:"level"},release:{type:"float",range:[.001,10],unit:"seconds"}}},lfos:{lfo1_shape:{type:"enum",options:["sine","triangle","square","saw"]},lfo1_rate:{type:"float",range:[.1,20],unit:"Hz"},lfo1_depth:{type:"float",range:[0,1],unit:"amount"}},global:{voices:{type:"int",range:[1,16],unit:"count"},unison_voice_count:{type:"int",range:[1,8],unit:"count"},unison_detune:{type:"float",range:[0,100],unit:"cents"}}},granular:{source:{sample_source:{type:"string"},start_offset:{type:"float",range:[0,60],unit:"seconds"},playback_mode:{type:"enum",options:["forward","reverse","alternate"]},loop_enable:{type:"boolean"}},grains:{grain_size:{type:"float",range:[1,100],unit:"milliseconds"},grain_size_jitter:{type:"float",range:[0,1],unit:"amount"},grain_density:{type:"float",range:[1,100],unit:"grains/sec"},density_jitter:{type:"float",range:[0,1],unit:"amount"},grain_position:{type:"float",range:[0,1],unit:"position"},position_jitter:{type:"float",range:[0,1],unit:"amount"},grain_pitch:{type:"float",range:[-24,24],unit:"semitones"},pitch_jitter:{type:"float",range:[0,1],unit:"amount"},grain_envelope:{type:"enum",options:["gaussian","hann","rectangular","triangular"]},grain_pan:{type:"float",range:[-1,1],unit:"stereo"},max_grains:{type:"int",range:[1,256],unit:"count"}},global:{amp_env:{attack:{type:"float",range:[.001,10],unit:"seconds"},decay:{type:"float",range:[.001,10],unit:"seconds"},sustain:{type:"float",range:[0,1],unit:"level"},release:{type:"float",range:[.001,10],unit:"seconds"}},time_stretch:{type:"float",range:[.1,10],unit:"factor"},grain_overlap:{type:"float",range:[0,1],unit:"amount"}}}},tb={subtractive:["Diva","Juno106","AnalogLab","Generic","SH101","Sylenth1","MiniMoog","Prophet-5","Harmor","Vital","Pigments","Absynth","Operator","RetroSynth","Alchemy","Subtractor","Thor","Monotone","CS-80 V","Jun-6 V","MS-20 V","OP-Xa V","Prophet-5 V","Acid V","MiniFreak V","Buchla Easel V","Synthi V","Mini V 4","Jup-8 V"],additive:["Pigments","Absynth","Alchemy","Harmor","Kawai K5","Vital","Thor"],fm:["Operator","FM8","RetroSynth","Pigments","Absynth","Thor"],wavetable:["Serum","Vital","Pigments","Hive2","MassiveX","RetroSynth","Zebra2","Omnisphere","Europa","Thor"],granular:["Absynth","Alchemy","Omnisphere","Granulator II","Padshop","Grain","Malström"]},uu=e5,n5=e=>{if(uu[e])return uu[e];const t=e.toLowerCase().replace(/[^a-z0-9]/g,""),n=Object.keys(uu).find(r=>r.toLowerCase().replace(/[^a-z0-9]/g,"")===t);return n?uu[n]:{name:e,oscillators:[{id:"1",name:"Osc 1",params:["Waveform","Coarse","Fine","Level"]},{id:"2",name:"Osc 2",params:["Waveform","Coarse","Fine","Level"]}],filters:[{name:"Filter",types:["Lowpass","Highpass","Bandpass"],parameters:["Cutoff","Resonance"]}],effects:[]}},a5=(e,t)=>{var v,S;const{description:n,synthesisType:r,synthModel:o,genre:l,voiceType:u,notes:f,dawName:m}=e,d=Bm(l),g=m?fm(m):void 0;let x=`You are a professional synthesizer programmer. Create a detailed patch guide for these specifications:

**Target Sound:**
- Synthesis Type: ${r}
${o?`- Synth Model: ${o}`:""}
- Genre: ${l}
- Voice Type: ${u}
- Description: ${n}
${f?`- Additional Notes: ${f}`:""}
${m?`- DAW: ${m}`:""}`;if(d&&(x+=`

**Genre Characteristics:**`,d.tempos&&(x+=`
- Typical Tempo Range: ${d.tempos}`),d.chordProgressions&&d.chordProgressions.length>0&&(x+=`
- Common Chord Progressions: ${d.chordProgressions.join(", ")}`),d.scalesAndModes&&(x+=`
- Typical Scales/Modes: ${d.scalesAndModes}`),d.productionTips&&d.productionTips.length>0&&(x+=`
- Production Techniques: ${d.productionTips.join(", ")}`)),g&&(x+=`

**DAW-Specific Information:**`,g.workflowTips&&g.workflowTips.length>0&&(x+=`
- Workflow Tips: ${g.workflowTips.join(", ")}`),(v=g.stockPlugins)!=null&&v.Creative&&g.stockPlugins.Creative.length>0&&(x+=`
- Suggested Creative Effects: ${g.stockPlugins.Creative.join(", ")}`),(S=g.suggestedSignalChains)!=null&&S.Synth&&g.suggestedSignalChains.Synth.length>0&&(x+=`
- Recommended Signal Chain: ${g.suggestedSignalChains.Synth.join(" → ")}`)),r&&eb[r]){x+=`

Generate a patch using these ${r} synthesis parameters:`;const _=eb[r];Object.entries(_).forEach(([D,U])=>{x+=`

### ${D.charAt(0).toUpperCase()+D.slice(1)} Parameters`,Object.keys(U).forEach(L=>{x+=`
- ${L}`})})}return o&&(x+=`

Also use characteristics of ${o} to further refine the sound.`),x+=`

**IMPORTANT:** You must respond with EXACTLY this structured markdown format with clear organization. Use HTML spacing elements where needed for better layout:

## 🎛️ Core Sound Engine

### 🌊 Oscillator Setup

**Primary Oscillator (Osc 1)**

- Waveform: [type] 
- Coarse Tune: [value] semitones
- Fine Tune: [value] cents
- Level: [value] dB

**Secondary Oscillator (Osc 2)**

- Waveform: [type]
- Coarse Tune: [value] semitones  
- Fine Tune: [value] cents
- Level: [value] dB

**Sub Oscillator** (if applicable)

- Waveform: [type]
- Octave: [value] 
- Level: [value] dB

### 🎚️ Filter Configuration

**Filter Type:** [type] (Lowpass/Highpass/Bandpass)

**Cutoff Frequency:** [frequency] Hz  

**Resonance:** [percentage]%

**Drive/Saturation:** [percentage]%

### 📈 Filter Envelope (VCF)

| Parameter | Value | Purpose |
|-----------|-------|---------|
| **Attack** | [time] ms | [brief explanation] |
| **Decay** | [time] ms | [brief explanation] |
| **Sustain** | [percentage]% | [brief explanation] |
| **Release** | [time] ms | [brief explanation] |

### 🔊 Amplitude Envelope (VCA)

| Parameter | Value | Purpose |
|-----------|-------|---------|
| **Attack** | [time] ms | [brief explanation] |
| **Decay** | [time] ms | [brief explanation] |
| **Sustain** | [percentage]% | [brief explanation] |
| **Release** | [time] ms | [brief explanation] |

## 🎭 Effects & Character

### 🌀 Modulation Matrix
  
Include these standard modulation routings:
  
- **LFO 1 → Filter Cutoff**
  - Amount: [percentage]%
  - Rate: [rate] Hz  
  - Waveform: [type]
  - *Purpose:* [explanation]

- **Envelope → Oscillator Pitch**
  - Amount: [percentage]%
  - *Purpose:* [explanation]

- **Mod Wheel → Vibrato**
  - Amount: [percentage]%
  - *Purpose:* [explanation]

Additionally, suggest **1-2 additional** modulation routings tailored to the **${l}** genre, the **${o||r}** synth, and the target sound characteristics.

### 🎧 Effects Chain

**Chorus**

- Rate: [rate] Hz | Depth: [percentage]% | Mix: [percentage]%

**Delay**

- Time: [time] ms | Feedback: [percentage]% | Mix: [percentage]%

**Reverb**

- Decay: [time] s | Size: [percentage]% | Mix: [percentage]%
${m?`

**DAW-Specific Creative Effects**

${Br(m,"Creative").map(_=>`- ${_}: [suggested settings]`).join(`
`)}`:""}

## 🎯 Performance & Production

### 🎹 Playing Techniques

**Velocity Response:**

- [Specific velocity technique advice]

**Expression Control:**

- [Mod wheel, aftertouch, or pedal suggestions]

**Register Considerations:**

- [Low/mid/high register playing advice]

### 🥁 Rhythm & Percussion Integration 

If this sound could be paired with drums, suggest:

**Complementary Drum Elements:**

- [Specific kick/snare character that pairs well]
- [Hi-hat/cymbal patterns that work with this sound]
- [Other percussion elements that enhance this sound]

### 🎚️ Mix Integration

**EQ Approach:**

- [Frequency range emphasis/cuts]
- [Specific EQ curve suggestions]

**Compression:**

- [Attack/release settings]
- [Ratio and threshold guidance]

**Spatial Placement:**

- [Stereo positioning advice]
- [Reverb send levels]

### 💡 Creative Variations

**For Softer Passages:**

- [Parameter adjustments for dynamics]

**For Aggressive Sections:**

- [Parameter adjustments for intensity]

**Alternative Textures:**

- [Quick parameter tweaks for variation]

**Guidelines:**
- Use specific numeric values with units (Hz, ms, %, dB)
- Include brief explanations for parameter purposes  
- Focus on ${l} genre characteristics and ${u} voice type
- Make all values musically appropriate and realistic
- Format your response with proper spacing between sections
- Use tables and bullet points for clear readability

**Available Synth Parameters:**
${JSON.stringify(t,null,2)}

Respond ONLY with the structured markdown format above. Use proper spacing between sections and ensure tables are formatted correctly.`,x},i5=e=>{if(!(e!=null&&e.trim()))throw new Error("Empty response from AI");const t=e.trim(),n=(u,f)=>{const m=new RegExp(`### ${f}[\\s\\S]*?\\| \\*\\*Attack\\*\\* \\| ([\\d.]+) ms[\\s\\S]*?\\| \\*\\*Decay\\*\\* \\| ([\\d.]+) ms[\\s\\S]*?\\| \\*\\*Sustain\\*\\* \\| ([\\d.]+)%[\\s\\S]*?\\| \\*\\*Release\\*\\* \\| ([\\d.]+) ms`,"i"),d=u.match(m);if(d)return{attack:parseFloat(d[1])/1e3,decay:parseFloat(d[2])/1e3,sustain:parseFloat(d[3])/100,release:parseFloat(d[4])/1e3};const g=new RegExp(`${f}[^:]*:.*?Attack: ([\\d.]+) ms.*?Decay: ([\\d.]+) ms.*?Sustain: ([\\d.]+)%.*?Release: ([\\d.]+) ms`,"i"),x=u.match(g);return x?{attack:parseFloat(x[1])/1e3,decay:parseFloat(x[2])/1e3,sustain:parseFloat(x[3])/100,release:parseFloat(x[4])/1e3}:f.includes("Amplitude")||f.includes("VCA")?{attack:.05,decay:.3,sustain:.9,release:.8}:{attack:.1,decay:.5,sustain:.7,release:1.2}},r=()=>{const u=t.match(/### 🌊 Oscillator Setup(.*?)### 🎚️ Filter Configuration/s);if(!u)return[];const f=[],m=u[1].match(/\*\*Primary Oscillator.*?\*\*.*?- Waveform: ([^\n]+).*?- Coarse Tune: ([^\n]+).*?- Fine Tune: ([^\n]+).*?- Level: ([^\n]+)/s);m&&f.push({name:"Primary Oscillator",values:{Waveform:m[1].trim(),"Coarse Tune":m[2].trim(),"Fine Tune":m[3].trim(),Level:m[4].trim()}});const d=u[1].match(/\*\*Secondary Oscillator.*?\*\*.*?- Waveform: ([^\n]+).*?- Coarse Tune: ([^\n]+).*?- Fine Tune: ([^\n]+).*?- Level: ([^\n]+)/s);d&&f.push({name:"Secondary Oscillator",values:{Waveform:d[1].trim(),"Coarse Tune":d[2].trim(),"Fine Tune":d[3].trim(),Level:d[4].trim()}});const g=u[1].match(/\*\*Sub Oscillator.*?\*\*.*?- Waveform: ([^\n]+).*?- Octave: ([^\n]+).*?- Level: ([^\n]+)/s);return g&&f.push({name:"Sub Oscillator",values:{Waveform:g[1].trim(),Octave:g[2].trim(),Level:g[3].trim()}}),f},o=()=>{var g,x,v;const u=t.match(/### 🎚️ Filter Configuration([\s\S]*?)(### |## |$)/);if(!u)return{selectedType:"Lowpass",cutoff:"5000 Hz",resonance:"30%"};const f=u[1].match(/\*\*Filter Type:\*\* ([^\n]+)/),m=u[1].match(/\*\*Cutoff Frequency:\*\* ([^\n]+)/),d=u[1].match(/\*\*Resonance:\*\* ([^\n]+)/);return{selectedType:((g=f==null?void 0:f[1])==null?void 0:g.trim())||"Lowpass",cutoff:((x=m==null?void 0:m[1])==null?void 0:x.trim())||"5000 Hz",resonance:((v=d==null?void 0:d[1])==null?void 0:v.trim())||"30%"}},l=()=>{const u=t.match(/### 🎧 Effects Chain(.*?)## 🎯 Performance & Production/s);if(!u)return{};const f={},m=u[1].match(/\*\*Chorus\*\*.*?Rate: ([^|]+) \| Depth: ([^|]+) \| Mix: ([^\n]+)/);m&&(f.chorus={rate:m[1].trim(),depth:m[2].trim(),mix:m[3].trim()});const d=u[1].match(/\*\*Delay\*\*.*?Time: ([^|]+) \| Feedback: ([^|]+) \| Mix: ([^\n]+)/);d&&(f.delay={time:d[1].trim(),feedback:d[2].trim(),mix:d[3].trim()});const g=u[1].match(/\*\*Reverb\*\*.*?Decay: ([^|]+) \| Size: ([^|]+) \| Mix: ([^\n]+)/);return g&&(f.reverb={decay:g[1].trim(),size:g[2].trim(),mix:g[3].trim()}),f};return{text:t,synthConfig:{oscillators:r(),filter:o(),effects:l()},adsrVCF:n(t,"Filter Envelope"),adsrVCA:n(t,"Amplitude Envelope"),summary:t.includes("## 🎯 Performance & Production")?t.split("## 🎯 Performance & Production")[1].trim():t.includes("### 💡 Creative Variations")?t.split("### 💡 Creative Variations")[1].trim():"No creative tips provided"}},r5=(e,t)=>{const n=(l,u)=>!l||typeof l!="object"?u:{attack:typeof l.attack=="number"?Math.max(.01,Math.min(10,l.attack)):u.attack,decay:typeof l.decay=="number"?Math.max(.01,Math.min(10,l.decay)):u.decay,sustain:typeof l.sustain=="number"?Math.max(0,Math.min(1,l.sustain)):u.sustain,release:typeof l.release=="number"?Math.max(.01,Math.min(10,l.release)):u.release},r=()=>Array.isArray(e.oscillators)&&e.oscillators.length>0?e.oscillators.map((l,u)=>({name:l.name||`Oscillator ${u+1}`,id:String(u+1),values:l.values||{}})):Array.isArray(t.oscillators)?t.oscillators.map((l,u)=>({name:l.name||`Oscillator ${u+1}`,id:l.id||String(u+1),values:{}})):[],o=()=>{const l=e.filter||{};return{name:"Filter",selectedType:l.selectedType||"Lowpass",cutoff:l.cutoff||"5000 Hz",resonance:l.resonance||"30%"}};return{text:typeof e.text=="string"?e.text:"No instructions provided",synthConfig:{...t,oscillators:r(),filters:[o()]},adsrVCF:n(e.adsrVCF,{attack:.1,decay:.5,sustain:.7,release:1.2}),adsrVCA:n(e.adsrVCA,{attack:.05,decay:.3,sustain:.9,release:.8}),summary:typeof e.summary=="string"?e.summary:"No creative tips provided"}},o5=async e=>{if(!e.description||!e.synthesisType||!e.genre||!e.voiceType)throw new Error("Missing required fields: description, synthesisType, genre, and voiceType are required");try{const t=e.synthModel?n5(e.synthModel):{name:e.synthesisType,type:e.synthesisType,oscillators:[{id:"1",name:"Osc 1",params:["Waveform","Coarse","Fine","Level"]},{id:"2",name:"Osc 2",params:["Waveform","Coarse","Fine","Level"]}],filters:[{name:"Filter",types:["Lowpass","Highpass","Bandpass"],parameters:["Cutoff","Resonance"]}],effects:[]},n=a5(e,t),r=await uI(n);if(!r)throw new Error("No response received from AI");const o=i5(r);return r5(o,t)}catch(t){throw console.error("PatchGuide Generation Error:",t),t instanceof Error?t.message.includes("API key")?new Error("Invalid API key configuration. Please check your environment variables."):t.message.includes("quota")||t.message.includes("rate limit")?new Error("API quota exceeded. Please try again later."):t:new Error("Unknown error occurred while generating patch guide")}},s5=o5;class l5 extends Mu.Component{constructor(t){super(t),this.state={hasError:!1}}static getDerivedStateFromError(t){return{hasError:!0,error:t}}render(){return this.state.hasError?p.jsx("div",{className:"p-4 bg-red-900/20 border border-red-500 rounded-lg",children:p.jsx("p",{className:"text-red-400",children:"Something went wrong displaying the patch guide. Please try regenerating."})}):this.props.children}}const u5=({onContentUpdate:e})=>{var G,$;const[t,n]=he.useState({synthesisType:"",synthModel:void 0,genre:"",voiceType:"",styleMood:[],dynamicsMovement:[],notes:"",dawName:void 0}),[r,o]=he.useState(null),[l,u]=he.useState(!1),[f,m]=he.useState(""),d=he.useMemo(()=>{var B;return((B=eu.find(z=>z.key==="genre"))==null?void 0:B.examples)||[]},[]),g=he.useMemo(()=>{var B;return((B=eu.find(z=>z.key==="voiceType"))==null?void 0:B.examples)||[]},[]),x=he.useMemo(()=>{var B;return((B=eu.find(z=>z.key==="styleMood"))==null?void 0:B.examples)||[]},[]),v=he.useMemo(()=>{var B;return((B=eu.find(z=>z.key==="dynamicsMovement"))==null?void 0:B.examples)||[]},[]),S=he.useCallback((B,z)=>{n(se=>({...se,[B]:z}))},[]),_=he.useCallback(B=>{n(z=>({...z,styleMood:z.styleMood.includes(B)?z.styleMood.filter(se=>se!==B):[...z.styleMood,B]}))},[]),D=he.useCallback(B=>{n(z=>({...z,dynamicsMovement:z.dynamicsMovement.includes(B)?z.dynamicsMovement.filter(se=>se!==B):[...z.dynamicsMovement,B]}))},[]),U=he.useMemo(()=>t.synthesisType&&t.genre&&t.voiceType,[t.synthesisType,t.genre,t.voiceType]),L=he.useCallback(async B=>{var z;if(B.preventDefault(),!!U){u(!0),m(""),o(null);try{let se=[...t.styleMood,...t.dynamicsMovement].join(", ");se.trim()||(se=((z=t.notes)==null?void 0:z.trim())||"No specific style or movement provided");const ye=await s5({description:se,synthesisType:t.synthesisType,synthModel:t.synthModel,genre:t.genre,voiceType:t.voiceType,notes:t.notes,dawName:t.dawName}),Ae={text:ye.text||"",synthConfig:ye.synthConfig||{},adsrVCF:ye.adsrVCF||{attack:.1,decay:.5,sustain:.8,release:1.5},adsrVCA:ye.adsrVCA||{attack:.05,decay:.3,sustain:.9,release:.6},summary:ye.summary||""};o(Ae),e==null||e(Ae.text)}catch(se){m(se instanceof Error?se.message:"Failed to generate patch guide")}finally{u(!1)}}},[t,U]),K=he.useCallback(()=>{n({synthesisType:"",synthModel:void 0,genre:"",voiceType:"",styleMood:[],dynamicsMovement:[],notes:"",dawName:void 0}),o(null),m(""),e==null||e("")},[e]);return p.jsxs("div",{className:"max-w-5xl mx-auto p-6 space-y-6",children:[p.jsxs(rt,{children:[p.jsx("h2",{className:"text-xl font-semibold text-white mb-6",children:"Create Synth Patch Guide"}),p.jsxs("form",{onSubmit:L,className:"space-y-6",children:[p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[p.jsxs("div",{className:"col-span-1",children:[p.jsx("label",{className:"block text-gray-200 mb-2 font-medium",children:"Synthesis Type"}),p.jsxs("select",{value:t.synthesisType,onChange:B=>{S("synthesisType",B.target.value),S("synthModel",void 0)},className:"w-full bg-gray-700 text-white p-3 rounded-lg border border-gray-600 focus:border-purple-500 focus:ring-1 focus:ring-purple-500",required:!0,children:[p.jsx("option",{value:"",children:"Select synthesis type..."}),t5.map(B=>p.jsx("option",{value:B.key,children:B.label},B.key))]})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-gray-200 mb-2 font-medium",children:"Genre"}),p.jsxs("select",{value:t.genre,onChange:B=>S("genre",B.target.value),className:"w-full bg-gray-700 text-white p-3 rounded-lg border border-gray-600 focus:border-purple-500 focus:ring-1 focus:ring-purple-500",required:!0,children:[p.jsx("option",{value:"",children:"Select genre..."}),d.map(B=>p.jsx("option",{value:B,children:B},B))]})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-gray-200 mb-2 font-medium",children:"Voice Type"}),p.jsxs("select",{value:t.voiceType,onChange:B=>S("voiceType",B.target.value),className:"w-full bg-gray-700 text-white p-3 rounded-lg border border-gray-600 focus:border-purple-500 focus:ring-1 focus:ring-purple-500",required:!0,children:[p.jsx("option",{value:"",children:"Select voice type..."}),g.map(B=>p.jsx("option",{value:B,children:B},B))]})]})]}),p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.synthesisType&&((G=tb[t.synthesisType])==null?void 0:G.length)>0&&p.jsxs("div",{children:[p.jsx("label",{className:"block text-gray-200 mb-2 font-medium",children:"Synth Model (optional)"}),p.jsxs("select",{value:t.synthModel||"",onChange:B=>S("synthModel",B.target.value||void 0),className:"w-full bg-gray-700 text-white p-3 rounded-lg border border-gray-600 focus:border-purple-500 focus:ring-1 focus:ring-purple-500",children:[p.jsx("option",{value:"",children:"None"}),($=tb[t.synthesisType])==null?void 0:$.map(B=>p.jsx("option",{value:B,children:B},B))]})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-gray-200 mb-2 font-medium",children:"DAW (optional)"}),p.jsxs("select",{value:t.dawName||"",onChange:B=>S("dawName",B.target.value||void 0),className:"w-full bg-gray-700 text-white p-3 rounded-lg border border-gray-600 focus:border-purple-500 focus:ring-1 focus:ring-purple-500",children:[p.jsx("option",{value:"",children:"None"}),wu.map(B=>p.jsx("option",{value:B.dawName,children:B.dawName},B.dawName))]})]})]}),p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[p.jsxs("div",{children:[p.jsxs("label",{className:"block text-gray-200 mb-3 font-medium",children:["Style & Mood ",p.jsx("span",{className:"text-gray-400 text-sm",children:"(optional)"})]}),p.jsx("div",{className:"flex flex-wrap gap-2",children:x.slice(0,15).map(B=>p.jsx("button",{type:"button",onClick:()=>_(B),className:`px-3 py-1.5 rounded-lg text-sm font-medium transition-colors ${t.styleMood.includes(B)?"bg-purple-600 text-white border-purple-600":"bg-gray-700 text-gray-300 border-gray-600 hover:bg-gray-600"} border`,children:B},B))})]}),p.jsxs("div",{children:[p.jsxs("label",{className:"block text-gray-200 mb-3 font-medium",children:["Dynamics & Movement ",p.jsx("span",{className:"text-gray-400 text-sm",children:"(optional)"})]}),p.jsx("div",{className:"flex flex-wrap gap-2",children:v.slice(0,15).map(B=>p.jsx("button",{type:"button",onClick:()=>D(B),className:`px-3 py-1.5 rounded-lg text-sm font-medium transition-colors ${t.dynamicsMovement.includes(B)?"bg-blue-600 text-white border-blue-600":"bg-gray-700 text-gray-300 border-gray-600 hover:bg-gray-600"} border`,children:B},B))})]})]}),p.jsxs("div",{children:[p.jsxs("label",{className:"block text-gray-200 mb-2 font-medium",children:["Additional Notes ",p.jsx("span",{className:"text-gray-400 text-sm",children:"(optional)"})]}),p.jsx("textarea",{value:t.notes,onChange:B=>S("notes",B.target.value),placeholder:"Reference artist, track, or specific sound characteristics...",className:"w-full bg-gray-700 text-white p-3 rounded-lg border border-gray-600 focus:border-purple-500 focus:ring-1 focus:ring-purple-500 resize-none",rows:3})]}),p.jsxs("div",{className:"flex items-center gap-4",children:[p.jsxs(Xe,{type:"submit",disabled:l||!U,className:"flex items-center gap-2",children:[l&&p.jsx(la,{}),l?"Generating...":"Generate Patch Guide"]}),p.jsx(Xe,{type:"button",variant:"secondary",onClick:K,disabled:l,children:"Reset"})]}),f&&p.jsx("div",{className:"p-4 bg-red-900/20 border border-red-500 rounded-lg",children:p.jsx("p",{className:"text-red-400",children:f})})]})]}),r&&p.jsx(l5,{children:p.jsx(c5,{result:r})})]})},c5=({result:e})=>{const[t,n]=Mu.useState(!1),r=()=>{NE(e.text),n(!0),setTimeout(()=>n(!1),1200)};return p.jsxs(rt,{children:[p.jsxs("div",{className:"flex items-center justify-between mb-6",children:[p.jsx("h3",{className:"text-lg font-semibold text-white",children:"Complete Patch Guide"}),p.jsx("button",{onClick:r,className:"px-3 py-1.5 rounded-lg bg-gray-700 text-gray-200 border border-gray-600 hover:bg-purple-600 hover:text-white transition-colors text-sm font-medium",children:t?"Copied!":"Copy Text"})]}),p.jsx("div",{className:"prose prose-invert max-w-none overflow-auto",children:p.jsx(cT,{remarkPlugins:[PT,OL],rehypePlugins:[IE],components:{table:({node:o,...l})=>p.jsx("div",{className:"overflow-auto my-4",children:p.jsx("table",{className:"border-collapse border border-gray-700",...l})}),tr:({node:o,...l})=>p.jsx("tr",{className:"border-b border-gray-700",...l}),th:({node:o,...l})=>p.jsx("th",{className:"border border-gray-700 px-4 py-2 bg-gray-800",...l}),td:({node:o,...l})=>p.jsx("td",{className:"border border-gray-700 px-4 py-2",...l}),h2:({node:o,...l})=>p.jsx("h2",{className:"text-xl font-bold mt-8 mb-4 text-purple-400",...l}),h3:({node:o,...l})=>p.jsx("h3",{className:"text-lg font-bold mt-6 mb-3 text-blue-400",...l}),p:({node:o,...l})=>p.jsx("p",{className:"my-4",...l}),ul:({node:o,...l})=>p.jsx("ul",{className:"list-disc pl-6 my-4",...l}),ol:({node:o,...l})=>p.jsx("ol",{className:"list-decimal pl-6 my-4",...l}),li:({node:o,...l})=>p.jsx("li",{className:"my-1",...l})},children:e.text})})]})},d5=({library:e,onClose:t,onLoadEntry:n,onDeleteEntry:r,onCreateNew:o})=>{const[l,u]=he.useState(""),f=e.filter(m=>m.title.toLowerCase().includes(l.toLowerCase())||m.genre.join(", ").toLowerCase().includes(l.toLowerCase())).sort((m,d)=>new Date(d.createdAt).getTime()-new Date(m.createdAt).getTime());return p.jsx("div",{className:"fixed inset-0 bg-gray-900/80 backdrop-blur-sm flex items-center justify-center p-4 z-50 transition-opacity duration-300 ease-in-out",onClick:t,role:"dialog","aria-modal":"true","aria-labelledby":"library-modal-title",children:p.jsxs(rt,{className:"w-full max-w-2xl bg-gray-800 shadow-2xl border border-gray-700 max-h-[90vh] flex flex-col",onClick:m=>m.stopPropagation(),children:[p.jsxs("div",{className:"flex justify-between items-center px-6 py-4 border-b border-gray-700",children:[p.jsxs("h2",{id:"library-modal-title",className:"text-2xl font-semibold text-purple-300 flex items-center",children:[p.jsx(jf,{className:"w-7 h-7 mr-3 text-purple-400"}),"TrackGuide Library"]}),p.jsx(Xe,{onClick:t,variant:"secondary",size:"sm",className:"p-2 -mr-2","aria-label":"Close Library",children:p.jsx(Ib,{className:"w-5 h-5"})})]}),p.jsx("div",{className:"px-6 py-4",children:p.jsx(In,{type:"search",placeholder:"Search by title or genre...",value:l,onChange:m=>u(m.target.value),className:"mb-4 bg-gray-700 border-gray-600 placeholder-gray-500","aria-label":"Search library"})}),p.jsx("div",{className:"flex-grow overflow-y-auto px-6 pb-6 space-y-3 custom-scrollbar pr-3",children:f.length===0?p.jsx("p",{className:"text-gray-400 text-center py-8",children:l?`No entries found for "${l}".`:"Your library is empty. Create some TrackGuides!"}):f.map(m=>p.jsx("div",{className:"p-4 bg-gray-700/60 rounded-lg hover:bg-gray-600/50 transition-colors shadow-md border border-gray-600/50",children:p.jsxs("div",{className:"flex justify-between items-start",children:[p.jsxs("div",{className:"flex-grow min-w-0",children:[p.jsx("h4",{className:"font-semibold text-purple-300 truncate text-lg",title:m.title,children:m.title}),p.jsx("p",{className:"text-sm text-gray-400 truncate",title:Array.isArray(m.genre)?m.genre.join(", "):m.genre,children:Array.isArray(m.genre)?m.genre.join(", "):m.genre}),p.jsxs("p",{className:"text-xs text-gray-500",children:["Created: ",new Date(m.createdAt).toLocaleDateString(),m.generatedMidiPatterns&&p.jsx(_b,{className:"w-3 h-3 text-green-400 inline-block ml-2",title:"MIDI available"})]})]}),p.jsxs("div",{className:"flex flex-col sm:flex-row space-y-2 sm:space-y-0 sm:space-x-2 items-end shrink-0 ml-3 mt-1 sm:mt-0",children:[p.jsx(Xe,{onClick:()=>n(m),size:"sm",variant:"outline",className:"text-xs px-3 py-1.5 w-full sm:w-auto",leftIcon:p.jsx(jf,{className:"w-4 h-4"}),children:"Load"}),p.jsx(Xe,{onClick:()=>r(m.id),size:"sm",variant:"danger",className:"text-xs px-3 py-1.5 w-full sm:w-auto",leftIcon:p.jsx(hI,{className:"w-4 h-4"})})]})]})},m.id))}),p.jsx("div",{className:"px-6 py-4 border-t border-gray-700",children:p.jsx(Xe,{onClick:o,variant:"primary",className:"w-full",leftIcon:p.jsx(Gf,{}),children:"Create New TrackGuide"})})]})})},cu=({className:e="w-4 h-4"})=>p.jsx("div",{className:`${e} bg-orange-500 transform rotate-45 flex items-center justify-center`,children:p.jsx("div",{className:"w-1/2 h-1/2 bg-white transform -rotate-45"})}),nb={songTitle:"",genre:[],artistReference:"",referenceTrackLink:"",lyrics:"",key:"",scale:"",chords:"",generalNotes:"",vibe:[],daw:"",plugins:"",availableInstruments:""},ab={audioFile:null,userNotes:"",trackName:"",dawName:""},ri=100,du=ri*1024*1024,ib=e=>{const t=[/Tempo.*?(\d+)\s*(?:-|to)\s*(\d+)\s*BPM/i,/BPM.*?(\d+)\s*(?:-|to)\s*(\d+)/i,/(\d+)\s*(?:-|to)\s*(\d+)\s*BPM/i,/Tempo.*?(\d+)\s*BPM/i,/BPM.*?(\d+)/i,/(\d+)\s*BPM/i];for(const n of t){const r=e.match(n);if(r){if(r[2])return Math.round((parseInt(r[1],10)+parseInt(r[2],10))/2);if(r[1])return parseInt(r[1],10)}}return null},rb=e=>{const t=[/Suggested Key\(s\) \/ Scale\(s\):\s*([^(\n]+)/i,/Key.*?:\s*([A-G][#b]?\s*(?:Major|Minor|major|minor))/i,/([A-G][#b]?\s*(?:Major|Minor|major|minor))/i];for(const n of t){const r=e.match(n);if(r&&r[1]){const o=r[1].split(/,|\/| or /).map(u=>u.trim().replace(/\.$/,""));for(const u of o){const f=u.includes(" Minor")||u.includes(" minor")?u.replace(/minor/i,"Minor"):u.replace(/major/i,"Major").replace(/Major$/,"").trim()+" Major";if(cs.includes(u)||cs.includes(f))return cs.includes(u)?u:f}const l=o[0];if(l){for(const u of cs)if(l.toLowerCase().startsWith(u.split(" ")[0].toLowerCase())){if(l.toLowerCase().includes("minor")){if(u.includes("Minor"))return u}else if(u.includes("Major"))return u}return l}}}return null},ob=e=>{const t=[/Chord Progression\(s\)?\s*(?:\([^)]+\))?:\s*([^\n]+)/i,/Progression\(s\)?:\s*([^\n]+)/i,/Chords?:\s*([ivclxmdIVCLXMDab#ø°dimaug\d\/sus-][^\n]*)/i,/([ivclxmdIVCLXMD]+(?:\s*-\s*[ivclxmdIVCLXMD]+){2,})/i];for(const n of t){const r=e.match(n);if(r&&r[1]){const l=r[1].match(/([ivclxmdIVCLXMDab#ø°dimaug\d\/sus-]+(?:\s*-\s*[ivclxmdIVCLXMDab#ø°dimaug\d\/sus-]+)*)/);if(l&&l[1]){let u=l[1].trim();u.endsWith(".")&&(u=u.slice(0,-1));const f=[", ",". ","; "];for(const m of f)if(u.includes(m)){u=u.split(m)[0].trim();break}return u}}}return null},sb=(e,t)=>{const n=e.match(t);if(!n||typeof n.index>"u")return"";const r=n.index,o=e.substring(r+n[0].length).match(/^##\s+/m),l=o&&typeof o.index<"u"?r+n[0].length+o.index:e.length;return e.substring(r,l).trim()},f5=e=>{if(!e)return"";let t="";return t+=sb(e,/^##\s*1\.\s*Song Overview/im)+`

`,t+=sb(e,/^##\s*4\.\s*Harmony, Melody & Rhythmic Core/im),t.trim()||"General musical context not fully parsed. Focus on genre and vibe."},lb=e=>{const t=e.match(/^\s*-\s*\*\*Suggested Title:\*\*\s*(.*)/im);return t&&t[1]?t[1].trim().replace(/\*\*([^*]+)\*\*/g,"$1").replace(/\*([^*]+)\*/g,"$1"):null},m5=()=>{var Ji;const[e,t]=he.useState("landing"),[n,r]=he.useState(nb),[o,l]=he.useState(""),[u,f]=he.useState(""),[m,d]=he.useState(""),[g,x]=he.useState(!1),[v,S]=he.useState(""),[_,D]=he.useState(null),[U,L]=he.useState(null),[K,G]=he.useState([]),[$,B]=he.useState(null),[z,se]=he.useState(!1),[ye,Ae]=he.useState(""),[q,be]=he.useState(!1),[Ee,Ce]=he.useState(!0),[me,ie]=he.useState(ab),[W,j]=he.useState(null),[R,k]=he.useState(""),[C,F]=he.useState(!1),[Q,I]=he.useState(null),[oe,H]=he.useState("single"),[re,_e]=he.useState({mixA:null,mixB:null,userNotes:"",includeMixBFeedback:!1}),[Se,De]=he.useState(null),[we,tt]=he.useState(""),[Ue,Ie]=he.useState(!1),[je,Ge]=he.useState(null),Et=he.useRef(null),[tn,Ki]=he.useState(""),[fi,ka]=he.useState(""),da=he.useRef(null),$i=he.useRef(null);he.useEffect(()=>{try{const Ne=localStorage.getItem(ky);if(Ne){const it=JSON.parse(Ne).map(Qe=>({...Qe,genre:Array.isArray(Qe.genre)?Qe.genre:Qe.genre?[Qe.genre]:[],vibe:Array.isArray(Qe.vibe)?Qe.vibe:Qe.vibe?[Qe.vibe]:[],scale:Qe.scale||"",midiSettings:Qe.midiSettings||void 0,generatedMidiPatterns:Qe.generatedMidiPatterns||void 0}));G(it)}}catch(Ne){console.error("Failed to load library from local storage:",Ne),G([])}const ne=localStorage.getItem(ts),Te=localStorage.getItem(Zl);r(Ne=>({...Ne,daw:ne||Ne.daw||"",plugins:Te||Ne.plugins||""}))},[]),he.useEffect(()=>{try{localStorage.setItem(ky,JSON.stringify(K))}catch(ne){console.error("Failed to save library to local storage:",ne)}},[K]),he.useEffect(()=>{e!=="remixGuide"&&Ki(""),e!=="patchGuide"&&ka("")},[e]);const Ft=ne=>{const{name:Te,value:Ne}=ne.target;Te==="currentGenreText"?l(Ne):Te==="currentVibeText"?f(Ne):(r(He=>({...He,[Te]:Ne})),Te==="daw"?localStorage.setItem(ts,Ne):Te==="plugins"&&localStorage.setItem(Zl,Ne))},mi=ne=>{var Ne,He;const Te=ne==="genre"?o.trim():u.trim();Te&&!n[ne].includes(Te)&&r(it=>({...it,[ne]:[...it[ne],Te]})),ne==="genre"?(l(""),(Ne=da.current)==null||Ne.focus()):(f(""),(He=$i.current)==null||He.focus())},Xi=(ne,Te)=>{ne.key==="Enter"&&(ne.preventDefault(),mi(Te))},le=(ne,Te)=>{r(Ne=>{const it=Ne[ne].filter(Qe=>Qe!==Te);return{...Ne,[ne]:it}})},ge=ne=>{r(Te=>({...Te,daw:ne})),localStorage.setItem(ts,ne)},ke=ne=>{const Te=ne.match(/^#\s*TRACKGUIDE:\s*"?([^"\n]+)"?/im);return Te&&Te[1]?Te[1].trim():null},Le=()=>{const ne=localStorage.getItem(ts)||"",Te=localStorage.getItem(Zl)||"";r({...nb,songTitle:"",daw:ne,plugins:Te}),l(""),f(""),d(""),B(null),D(null),L(null),Ae(""),Xn(),se(!1)},st=async ne=>{var it;ne.preventDefault(),x(!0),D(null),L(null),d(""),B(null),Ae(""),Xn(),window.scrollTo({top:0,behavior:"smooth"}),n.daw&&localStorage.setItem(ts,n.daw),n.plugins&&localStorage.setItem(Zl,n.plugins);let Te="",Ne,He;try{S("TrackGuide is generating...");const Qe=await rI(n);for await(const ln of Qe)Te+=ln.text,d(ha=>ha+ln.text);S("Initial MIDI patterns are generating...");const Gn=ke(Te),ao=(it=n.songTitle)!=null&&it.trim()?n.songTitle.trim():Gn||`TrackGuide for ${n.genre.join(", ")||"Unknown Genre"}`,Qu=Date.now().toString(),Ku=new Date().toISOString(),Hs=ib(Te),pi=rb(Te),io=ob(Te),qn=n.genre[0]||ut.genre,fa=ra[qn]||ra.Default,gi=Math.round((fa[0]+fa[1])/2),wa=(Hn[qn]||Hn.Default)[0],Rt=f5(Te),Us=ut.songSection;let ro=8;const ma=qn.toLowerCase();["lo-fi hip hop","lofi hip hop","lofi","trap","ambient","idm","breakcore","footwork","juke","experimental"].some(ln=>ma.includes(ln))&&(ro=4);const $u=["chords","bassline","melody","drums"];He={key:pi||ut.key,tempo:Hs||gi,timeSignature:ut.timeSignature,chordProgression:io||wa,genre:qn,bars:ro,targetInstruments:$u,guidebookContext:Rt,songSection:Us};try{const ln=await Cs(He);let ha="";for await(const Zi of ln)ha+=Zi.text;if(Ne=Ss(ha,"initial MIDI generation"),Ne.drums){const Zi={};for(const bi in Ne.drums)Zi[bi.toLowerCase().replace(/\s+/g,"_")]=Ne.drums[bi];Ne.drums=Zi}L(null)}catch(ln){console.error("Initial MIDI generation failed:",ln);const ha=ln.message.toLowerCase().includes("json")?`AI returned invalid JSON for MIDI patterns during initial generation. (${ln.message})`:`Initial MIDI generation failed: ${ln.message}.`;L(ha+" You can try generating MIDI manually in the MIDI tools section."),Ne=void 0}B({id:Qu,title:ao,genre:n.genre,artistReference:n.artistReference,referenceTrackLink:n.referenceTrackLink,lyrics:n.lyrics,key:n.key,chords:n.chords,generalNotes:n.generalNotes,vibe:n.vibe,daw:n.daw,plugins:n.plugins,availableInstruments:n.availableInstruments||"",content:Te,createdAt:Ku,midiSettings:He,generatedMidiPatterns:Ne})}catch(Qe){D(Qe.message||"An unexpected error occurred while generating TrackGuide."),B(null),d("")}finally{x(!1),S("")}},nn=()=>{if(!$)return;const ne={...$};G(Te=>{const Ne=Te.findIndex(He=>He.id===ne.id);if(Ne>-1){const He=[...Te];return He[Ne]=ne,He}return[ne,...Te]})},jn=(ne,Te)=>{B(Ne=>Ne?{...Ne,midiSettings:ne,generatedMidiPatterns:Te}:null)},Qt=ne=>{r({songTitle:ne.title,genre:Array.isArray(ne.genre)?ne.genre:ne.genre?[String(ne.genre)]:[],artistReference:ne.artistReference,referenceTrackLink:ne.referenceTrackLink||"",lyrics:ne.lyrics||"",key:ne.key||"",chords:ne.chords||"",generalNotes:ne.generalNotes||"",vibe:Array.isArray(ne.vibe)?ne.vibe:ne.vibe?[String(ne.vibe)]:[],daw:ne.daw,plugins:ne.plugins,availableInstruments:ne.availableInstruments||""}),l(""),f(""),d(ne.content),B(ne),D(null),L(null),Ae(""),Xn(),se(!1),t("trackGuide"),window.scrollTo({top:0,behavior:"smooth"})},Mn=ne=>{G(Te=>Te.filter(Ne=>Ne.id!==ne)),$&&$.id===ne&&(d(""),B(null),Xn())},Kt=({selections:ne,onRemove:Te})=>p.jsx("div",{className:"flex flex-wrap gap-2 mt-2 mb-2 min-h-[2.25rem]",children:ne.map(Ne=>p.jsxs("span",{className:"flex items-center px-3 py-1 bg-orange-600 text-white text-xs font-medium rounded-full shadow-md hover:bg-orange-700 transition-colors",children:[Ne,p.jsx("button",{type:"button",onClick:()=>Te(Ne),className:"ml-1.5 -mr-0.5 p-0.5 text-orange-200 hover:text-white rounded-full focus:outline-none focus:bg-orange-800 transition-colors","aria-label":`Remove ${Ne}`,children:p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-3 w-3",viewBox:"0 0 20 20",fill:"currentColor",children:p.jsx("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})})})]},Ne))}),Dt=ne=>{var Ne;const Te=(Ne=ne.target.files)==null?void 0:Ne[0];if(Te){if(Te.size>du){I(`File is too large. Maximum size is ${ri}MB.`),ie(He=>({...He,audioFile:null})),Et.current&&(Et.current.value="");return}if(!Te.type.startsWith("audio/")){I("Invalid file type. Please upload an audio file (e.g., MP3, WAV)."),ie(He=>({...He,audioFile:null})),Et.current&&(Et.current.value="");return}ie(He=>({...He,audioFile:Te})),I(null)}},on=ne=>{ie(Te=>({...Te,userNotes:ne.target.value}))},sn=ne=>{let Te=ne.trim();const Ne=Te.match(/(^|\n)(##? |🎧|Audio Analysis Results)/);return Ne&&Ne.index!==void 0&&(Te=Te.slice(Ne.index).trim()),Te},Bs=async ne=>{if(ne.preventDefault(),!me.audioFile){I("Please upload an audio file for feedback.");return}F(!0),window.scrollTo({top:0,behavior:"smooth"}),j(null),k(""),I(null);try{console.log("MixFeedback: audioFile",me.audioFile);let Te="";const Ne=cI(me);if(!Ne||typeof Ne[Symbol.asyncIterator]!="function")throw new Error("generateMixFeedbackWithAudioStream did not return an async iterable.");let He=!1;for await(const Qe of Ne)He=!0,Qe.text&&(Te+=Qe.text,k(Te));if(!He)throw new Error("No data received from feedback stream.");const it=sn(Te);j(it),k("")}catch(Te){console.error("MixFeedback error:",Te),I(Te&&Te.message?Te.message:"An unknown error occurred while generating mix feedback."),k("")}finally{F(!1)}},Fs=()=>{ie(ab),j(null),I(null),Et.current&&(Et.current.value="")},Wi=ne=>new Promise((Te,Ne)=>{const He=new FileReader;He.readAsDataURL(ne),He.onload=()=>{const Qe=He.result.split(",")[1];Te(Qe)},He.onerror=it=>Ne(it)}),hi=async()=>{if(!re.mixA||!re.mixB){Ge("Please upload both Mix A and Mix B files.");return}Ie(!0),window.scrollTo({top:0,behavior:"smooth"}),De(null),tt(""),Ge(null);try{const ne=await Wi(re.mixA),Te=await Wi(re.mixB),Ne={mixAFile:ne,mixBFile:Te,mixAName:re.mixA.name,mixBName:re.mixB.name,includeMixBFeedback:re.includeMixBFeedback,userNotes:re.userNotes};let He="";const it=dI(Ne);for await(const Gn of it)Gn.text&&(He+=Gn.text,tt(He));const Qe=sn(He);De(Qe),tt("")}catch(ne){Ge(ne.message||"An unknown error occurred while comparing mixes."),tt("")}finally{Ie(!1)}},Yu=()=>{_e({mixA:null,mixB:null,userNotes:"",includeMixBFeedback:!1}),De(null),Ge(null)};let yn;const no=(Ji=n.songTitle)==null?void 0:Ji.trim();if(no)yn=`TrackGuide: ${no}`;else if($!=null&&$.title){const ne=$.title;if(ne.startsWith("TrackGuide for ")){const Te=ke($.content);Te?yn=`TrackGuide: ${Te}`:yn=ne}else yn=`TrackGuide: ${ne}`}else if(g&&e==="trackGuide"){const ne=lb(m);ne?yn=`TrackGuide: ${ne}`:yn="TrackGuide is generating..."}else if(m){const ne=lb(m);ne?yn=`TrackGuide: ${ne}`:yn="Generated TrackGuide"}else yn="TrackGuide";return e==="landing"?p.jsx(AI,{onGetStarted:()=>{t("trackGuide"),setTimeout(()=>window.scrollTo({top:0,behavior:"smooth"}),100)}}):p.jsxs("div",{className:"min-h-screen bg-[#1A1A1A] text-gray-100 p-4 md:p-6 lg:p-8 relative overflow-hidden",children:[p.jsx("div",{className:"absolute inset-0 opacity-20 pointer-events-none",children:p.jsx("div",{className:"absolute inset-0 pointer-events-none",style:{backgroundImage:"radial-gradient(circle at 2px 2px, #FF5722 1px, transparent 0)",backgroundSize:"40px 40px"}})}),p.jsxs("div",{className:"absolute top-10 right-10 w-32 h-32 opacity-10 pointer-events-none",children:[p.jsx("div",{className:"w-full h-full border-2 border-orange-500 transform rotate-12 pointer-events-none"}),p.jsx("div",{className:"absolute top-2 right-2 w-28 h-28 bg-orange-500 transform rotate-12 pointer-events-none"})]}),p.jsxs("header",{className:"text-center mb-6 relative z-10",children:[p.jsxs("div",{className:"flex items-center justify-center space-x-3 mb-4",children:[p.jsx("div",{className:"w-8 h-8 bg-orange-500 transform rotate-45 flex items-center justify-center",children:p.jsx("div",{className:"w-4 h-4 bg-white transform -rotate-45"})}),p.jsxs("div",{children:[p.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-white",children:Ry}),p.jsx("p",{className:"text-gray-400 text-lg",children:"Your Smartest Studio Assistant"})]})]}),p.jsx("button",{onClick:()=>t("landing"),className:"mt-2 text-sm text-orange-500 hover:text-orange-400 transition-colors font-medium",children:"← Back to Landing"})]}),p.jsxs("nav",{className:"mb-8 flex flex-col justify-center items-center md:flex-row md:justify-center gap-2 border-b border-orange-500/20 pb-3 relative z-10",children:[p.jsx(Xe,{size:"sm",className:`w-full md:w-auto px-3 py-2 text-xs md:text-sm rounded-md transition-all duration-150 ease-in-out ${e==="trackGuide"?"bg-orange-500 shadow-lg hover:bg-orange-600":"bg-gray-700/80 hover:bg-gray-600/80 border border-gray-600"}`,onClick:()=>t("trackGuide"),variant:e==="trackGuide"?"primary":"secondary",leftIcon:p.jsx(cu,{className:"w-4 h-4"}),children:"TrackGuide AI"}),p.jsx(Xe,{size:"sm",className:`w-full md:w-auto px-3 py-2 text-xs md:text-sm rounded-md transition-all duration-150 ease-in-out ${e==="mixFeedback"?"bg-orange-500 shadow-lg hover:bg-orange-600":"bg-gray-700/80 hover:bg-gray-600/80 border border-gray-600"}`,onClick:()=>t("mixFeedback"),variant:e==="mixFeedback"?"primary":"secondary",leftIcon:p.jsx("span",{className:"w-4 h-4 text-center",children:"🎚️"}),children:"Mix Feedback AI"}),p.jsx(Xe,{size:"sm",className:`w-full md:w-auto px-3 py-2 text-xs md:text-sm rounded-md transition-all duration-150 ease-in-out ${e==="remixGuide"?"bg-orange-500 shadow-lg hover:bg-orange-600":"bg-gray-700/80 hover:bg-gray-600/80 border border-gray-600"}`,onClick:()=>t("remixGuide"),variant:e==="remixGuide"?"primary":"secondary",leftIcon:p.jsx("span",{className:"w-4 h-4 text-center",children:"🎛️"}),children:"RemixGuide AI"}),p.jsx(Xe,{size:"sm",className:`w-full md:w-auto px-3 py-2 text-xs md:text-sm rounded-md transition-all duration-150 ease-in-out ${e==="patchGuide"?"bg-orange-500 shadow-lg hover:bg-orange-600":"bg-gray-700/80 hover:bg-gray-600/80 border border-gray-600"}`,onClick:()=>t("patchGuide"),variant:e==="patchGuide"?"primary":"secondary",leftIcon:p.jsx("span",{className:"w-4 h-4 text-center",children:"🎹"}),children:"PatchGuide AI"}),p.jsx(Xe,{size:"sm",className:`w-full md:w-auto px-3 py-2 text-xs md:text-sm rounded-md transition-all duration-150 ease-in-out ${e==="eqGuide"?"bg-orange-500 shadow-lg hover:bg-orange-600":"bg-gray-700/80 hover:bg-gray-600/80 border border-gray-600"}`,onClick:()=>t("eqGuide"),variant:e==="eqGuide"?"primary":"secondary",leftIcon:p.jsx(Py,{className:"w-4 h-4"}),children:"EQ Guide"})]}),e==="trackGuide"&&p.jsxs("div",{className:"max-w-full mx-auto grid grid-cols-1 lg:grid-cols-7 gap-6 px-4",children:[p.jsxs(rt,{title:"Blueprint Your Sound",className:"lg:col-span-2 bg-gray-800/80 backdrop-blur-md shadow-xl border border-gray-700/50",children:[p.jsx("p",{className:"text-sm text-gray-400 mb-4",children:"Describe your vision—everything's optional."}),p.jsxs("form",{onSubmit:st,className:"space-y-3",children:[p.jsx("div",{children:p.jsx(In,{label:"Song Title / Project Name",name:"songTitle",value:n.songTitle||"",onChange:Ft,placeholder:"AI will suggest one if left blank"})}),p.jsx("div",{children:p.jsx(In,{label:"Artist References",name:"artistReference",value:n.artistReference,onChange:Ft,placeholder:"e.g., Daft Punk"})}),p.jsx("div",{children:p.jsx(In,{label:"Song Reference",name:"referenceTrackLink",value:n.referenceTrackLink||"",onChange:Ft,placeholder:"e.g., YouTube, Spotify, SoundCloud link"})}),p.jsxs("div",{className:"space-y-2",children:[p.jsxs("div",{children:[p.jsx("label",{htmlFor:"genre-input",className:"block text-sm font-medium text-gray-300 mb-1.5",children:"Genre(s)"}),p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx(In,{ref:da,id:"genre-input",name:"currentGenreText",value:o,onChange:Ft,onKeyDown:ne=>Xi(ne,"genre"),placeholder:"Type custom genre...",list:"genre-suggestions",className:"flex-grow"}),p.jsx(Xe,{type:"button",onClick:()=>mi("genre"),size:"sm",variant:"secondary","aria-label":"Add Genre",className:"px-3",children:p.jsx(Gf,{className:"w-4 h-4"})})]}),p.jsx("datalist",{id:"genre-suggestions",children:Cb.map(ne=>p.jsx("option",{value:ne},ne))}),p.jsx(Kt,{selections:n.genre,onRemove:ne=>le("genre",ne)})]}),p.jsxs("div",{children:[p.jsx("label",{htmlFor:"vibe-input",className:"block text-sm font-medium text-gray-300 mb-1.5",children:"Vibe / Mood"}),p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx(In,{ref:$i,id:"vibe-input",name:"currentVibeText",value:u,onChange:Ft,onKeyDown:ne=>Xi(ne,"vibe"),placeholder:"Type custom vibe...",list:"vibe-suggestions",className:"flex-grow"}),p.jsx(Xe,{type:"button",onClick:()=>mi("vibe"),size:"sm",variant:"secondary","aria-label":"Add Vibe",className:"px-3",children:p.jsx(Gf,{className:"w-4 h-4"})})]}),p.jsx("datalist",{id:"vibe-suggestions",children:tI.map(ne=>p.jsx("option",{value:ne},ne))}),p.jsx(Kt,{selections:n.vibe,onRemove:ne=>le("vibe",ne)})]})]}),p.jsxs("div",{children:[p.jsx(In,{label:"Preferred DAW",name:"daw",value:n.daw,onChange:Ft,placeholder:"Type or select DAW...",list:"daw-suggestions"}),p.jsx("datalist",{id:"daw-suggestions",children:uf.map(ne=>p.jsx("option",{value:ne},ne))}),p.jsx("div",{className:"flex flex-wrap gap-2 mt-2 mb-1",children:uf.slice(0,5).map(ne=>p.jsx("button",{type:"button",onClick:()=>ge(ne),className:`px-3 py-1 text-xs rounded-full transition-all duration-150 ease-in-out ${n.daw===ne?"bg-orange-600 text-white ring-2 ring-orange-400 ring-offset-2 ring-offset-gray-800":"bg-gray-700 hover:bg-gray-600 text-gray-300 hover:text-gray-100"}`,children:ne},ne))})]}),p.jsx("div",{children:p.jsx(Lr,{label:"Available Plugins",name:"plugins",value:n.plugins,onChange:Ft,placeholder:"e.g., Serum, Valhalla Reverbs, Arturia V Collection, or 'stock only'",rows:2})}),p.jsx("div",{children:p.jsx(Lr,{label:"Available Instruments",name:"availableInstruments",value:n.availableInstruments||"",onChange:Ft,placeholder:"e.g., Electric Guitar, Moog Subsequent 37, Roland TR-808, Vocals",rows:2})}),p.jsxs("div",{className:"border-t border-gray-600 pt-4",children:[p.jsx(Xe,{type:"button",onClick:()=>be(!q),variant:"outline",className:"mb-4 w-8 h-8 p-0 flex items-center justify-center",title:q?"Hide Advanced Input":"Show Advanced Input",children:p.jsx("span",{className:`text-lg transition-transform ${q?"rotate-45":""}`,children:"+"})}),q&&p.jsxs("div",{className:"space-y-4 p-4 bg-gray-700/30 rounded-lg border border-gray-600/50",children:[p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[p.jsx("div",{children:p.jsx(In,{label:"Key",name:"key",value:n.key||"",onChange:Ft,placeholder:"e.g., C Major"})}),p.jsx("div",{children:p.jsx(In,{label:"Scale/Mode",name:"scale",value:n.scale||"",onChange:Ft,placeholder:"e.g., Dorian, Mixolydian"})})]}),p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[p.jsx("div",{children:p.jsx(In,{label:"Chords",name:"chords",value:n.chords||"",onChange:Ft,placeholder:"e.g., Am - F - C - G"})}),p.jsx("div",{children:p.jsx(Lr,{label:"Lyrics",name:"lyrics",value:n.lyrics||"",onChange:Ft,placeholder:"Paste your lyrics here if you have any...",rows:2})})]}),p.jsx("div",{children:p.jsx(Lr,{label:"General Notes for AI",name:"generalNotes",value:n.generalNotes||"",onChange:Ft,placeholder:"Any specific instructions, style notes, or creative direction for the AI to consider...",rows:3})})]})]}),p.jsx(Xe,{type:"submit",disabled:g,className:"w-full text-base py-2.5",leftIcon:p.jsx(cu,{className:"w-5 h-5"}),children:g?v||"Generating...":"Generate TrackGuide"}),p.jsxs("div",{className:"flex space-x-2 mt-3",children:[p.jsx(Xe,{type:"button",onClick:()=>se(!0),variant:"secondary",className:"flex-1",leftIcon:p.jsx(jf,{className:"w-4 h-4"}),children:"View Library"}),p.jsx(Xe,{type:"button",onClick:Le,variant:"outline",className:"flex-1",children:"Clear Form"})]})]})]}),p.jsxs("div",{className:"lg:col-span-5 space-y-6",children:[_&&!g&&p.jsxs(rt,{className:"border-red-500 bg-red-900/40 shadow-xl",children:[p.jsx("p",{className:"text-red-300 font-semibold text-lg",children:"TrackGuide Error:"}),p.jsx("p",{className:"text-red-300",children:_})]}),U&&!v.toLowerCase().includes("midi")&&!_&&p.jsxs(rt,{className:"border-yellow-500 bg-yellow-900/40 shadow-xl",children:[p.jsx("p",{className:"text-yellow-300 font-semibold text-lg",children:"MIDI Generation Note:"}),p.jsx("p",{className:"text-yellow-300",children:U})]}),(m||g&&v.includes("TrackGuide is generating"))&&!_&&p.jsxs(rt,{title:yn,className:"bg-gray-800/80 backdrop-blur-md shadow-xl border border-gray-700/50 sticky top-8",titleClassName:"border-b border-gray-700 text-xl",children:[$&&!g&&p.jsxs("div",{className:"flex flex-wrap gap-3 mb-5 pb-4 border-b border-gray-700 items-center",children:[p.jsx(Xe,{onClick:nn,variant:"secondary",leftIcon:p.jsx(mI,{}),children:"Save to Library"}),p.jsx("div",{className:"flex-grow"}),p.jsx(Xe,{onClick:Le,variant:"outline",size:"sm",className:"!border-gray-500 !text-gray-400 hover:!bg-gray-600 hover:!text-white",leftIcon:p.jsx(Ib,{}),children:"Close"}),ye&&p.jsx("span",{className:`ml-3 text-sm ${ye.includes("Failed")||ye.includes("not supported")?"text-red-400":"text-green-400"}`,children:ye})]}),p.jsxs("div",{id:"guidebook-content-display",className:"prose prose-sm md:prose-base prose-invert max-w-none max-h-[calc(100vh-6rem)] overflow-y-auto pr-3 text-gray-300 custom-scrollbar guidebook-content",children:[$&&!g&&p.jsxs("div",{className:"mb-6 p-4 bg-gray-700/50 rounded-lg text-sm shadow-inner border border-gray-600/50 guidebook-section-break",children:[p.jsx("strong",{className:"text-orange-300 block mb-2 text-base",children:"TrackGuide Snapshot:"}),p.jsxs("p",{children:[p.jsx("strong",{children:"Project Title:"})," ",$.title]}),p.jsxs("p",{children:[p.jsx("strong",{children:"Genre(s):"})," ",Array.isArray($.genre)?$.genre.join(", "):$.genre]}),p.jsxs("p",{children:[p.jsx("strong",{children:"Artist/Song Ref:"})," ",$.artistReference||"N/A"]}),p.jsxs("p",{children:[p.jsx("strong",{children:"Vibe(s):"})," ",Array.isArray($.vibe)?$.vibe.join(", "):$.vibe]}),p.jsxs("p",{children:[p.jsx("strong",{children:"DAW:"})," ",$.daw]}),p.jsxs("p",{children:[p.jsx("strong",{children:"Plugins:"})," ",$.plugins||"N/A"]}),p.jsxs("p",{children:[p.jsx("strong",{children:"Instruments:"})," ",$.availableInstruments||"N/A"]}),$.generatedMidiPatterns&&p.jsxs("p",{className:"mt-1 text-green-400",children:[p.jsx(_b,{className:"w-4 h-4 inline mr-1"})," Initial MIDI patterns generated."]})]}),p.jsx(Fi,{content:m}),g&&v.includes("TrackGuide is generating")&&p.jsx(la,{size:"sm",text:"Generating TrackGuide..."})]})]}),g&&!_&&v&&!v.includes("TrackGuide is generating")&&p.jsx("div",{className:"flex justify-center py-10",children:p.jsx(la,{size:"lg",text:v||"Processing..."})}),$&&!g&&m&&!_&&p.jsx(kE,{currentGuidebookEntry:$,mainAppInputs:n,onUpdateGuidebookEntryMidi:jn,parsedGuidebookBpm:ib($.content),parsedGuidebookKey:rb($.content),parsedGuidebookChordProg:ob($.content)}),!g&&!m&&!_&&!$&&p.jsxs(rt,{className:"bg-gray-800/80 backdrop-blur-md shadow-xl border border-gray-700/50 flex flex-col items-center justify-center h-96 text-center min-h-[500px]",children:[p.jsx("div",{className:"flex justify-center mb-6",children:p.jsx(cu,{className:"w-20 h-20 opacity-80 text-orange-500"})}),p.jsx("h3",{className:"text-2xl font-semibold text-gray-200 mb-2",children:"Produce Smarter. Create More."}),p.jsx("p",{className:"text-gray-400 max-w-md mx-auto",children:"Tell us what you’re envisioning—TrackGuide AI will generate a custom production guide and MIDI foundation."})]})]})]}),e==="mixFeedback"&&p.jsxs("div",{className:"max-w-7xl mx-auto grid grid-cols-1 md:grid-cols-12 gap-8",children:[p.jsxs("div",{className:"md:col-span-3 space-y-6",children:[p.jsxs("div",{className:"flex bg-gray-800/80 backdrop-blur-md shadow-xl border border-gray-700/50 rounded-lg overflow-hidden",children:[p.jsx("button",{onClick:()=>H("single"),className:`flex-1 px-4 py-3 text-sm font-medium transition-all ${oe==="single"?"bg-orange-500 text-white":"bg-gray-700/50 text-gray-300 hover:bg-gray-600/50"}`,children:"🎚️ Mix Analysis"}),p.jsx("button",{onClick:()=>H("compare"),className:`flex-1 px-4 py-3 text-sm font-medium transition-all ${oe==="compare"?"bg-orange-500 text-white":"bg-gray-700/50 text-gray-300 hover:bg-gray-600/50"}`,children:"⚖️ Mix Compare"})]}),oe==="single"&&p.jsx(rt,{title:"Upload Your Mix",className:"bg-gray-800/80 backdrop-blur-md shadow-xl border border-gray-700/50",children:p.jsxs("form",{onSubmit:Bs,className:"space-y-5",children:[p.jsxs("div",{children:[p.jsx("label",{htmlFor:"mix-audio-file",className:"block text-sm font-medium text-gray-300 mb-1",children:"Audio File (.mp3, .wav, etc.)"}),p.jsx("div",{className:`mt-1 flex justify-center px-6 pt-5 pb-6 border-2 ${Q&&me.audioFile===null?"border-red-500":"border-gray-600"} border-dashed rounded-md cursor-pointer hover:border-orange-500 transition-colors`,onClick:()=>{var ne;return(ne=Et.current)==null?void 0:ne.click()},onDragOver:ne=>{ne.preventDefault(),ne.currentTarget.classList.add("border-orange-500")},onDragLeave:ne=>ne.currentTarget.classList.remove("border-orange-500"),onDrop:ne=>{if(ne.preventDefault(),ne.currentTarget.classList.remove("border-orange-500"),ne.dataTransfer.files&&ne.dataTransfer.files[0]){const Te=ne.dataTransfer.files[0];if(Te.size>du){I(`File is too large. Max ${ri}MB.`);return}if(!Te.type.startsWith("audio/")){I("Invalid file type. Please upload audio.");return}ie(Ne=>({...Ne,audioFile:Te})),I(null)}},children:p.jsxs("div",{className:"space-y-1 text-center",children:[p.jsx(cf,{className:"mx-auto h-12 w-12 text-gray-500"}),p.jsxs("div",{className:"flex text-sm text-gray-400",children:[p.jsx("span",{className:"relative rounded-md font-medium text-orange-400 hover:text-orange-300 focus-within:outline-none focus-within:ring-2 focus-within:ring-offset-2 focus-within:ring-offset-gray-900 focus-within:ring-orange-500",children:p.jsx("span",{children:"Upload a file"})}),p.jsx("input",{id:"mix-audio-file",name:"mix-audio-file",type:"file",className:"sr-only",accept:"audio/*",onChange:Dt,ref:Et}),p.jsx("p",{className:"pl-1",children:"or drag and drop"})]}),p.jsxs("p",{className:"text-xs text-gray-500",children:["Max file size: ",ri,"MB"]})]})}),me.audioFile&&p.jsxs("p",{className:"text-xs text-green-400 mt-2",children:["Selected: ",me.audioFile.name," (",(me.audioFile.size/1024/1024).toFixed(2)," MB)"]}),Q&&me.audioFile===null&&p.jsx("p",{className:"text-xs text-red-400 mt-2",children:Q})]}),p.jsx("div",{children:p.jsx(Lr,{label:"Notes for AI",name:"mixUserNotes",value:me.userNotes,onChange:on,placeholder:"e.g., 'Focus on the low-end clarity', 'Is the vocal too loud?', 'General feedback welcome.'",rows:4})}),p.jsxs("div",{children:[p.jsx("label",{htmlFor:"mix-daw-select",className:"block text-sm font-medium text-gray-300 mb-1",children:"Your DAW (Optional)"}),p.jsxs("select",{id:"mix-daw-select",value:me.dawName,onChange:ne=>ie(Te=>({...Te,dawName:ne.target.value})),className:"w-full bg-gray-700 text-white border border-gray-600 rounded-lg px-4 py-2 focus:outline-none focus:ring-2 focus:ring-orange-500",children:[p.jsx("option",{value:"",children:"Select your DAW (optional)"}),uf.map(ne=>p.jsx("option",{value:ne,children:ne},ne))]}),p.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Selecting your DAW will provide feedback tailored to your specific tools."})]}),p.jsx(Xe,{type:"submit",disabled:C||!me.audioFile,className:"w-full text-base py-2.5 !bg-orange-600 hover:!bg-orange-700 focus:!ring-orange-500",leftIcon:p.jsx(Py,{className:"w-5 h-5"}),children:C?"Analyzing Mix...":"Get Mix Feedback"}),p.jsx(Xe,{type:"button",onClick:Fs,variant:"outline",className:"w-full !border-orange-500 !text-orange-400 hover:!bg-orange-500 hover:!text-white",children:"Clear Mix Form"})]})}),oe==="compare"&&p.jsxs("div",{className:"space-y-5",children:[p.jsxs(rt,{title:"Mix A (Original)",className:"bg-gray-800/80 backdrop-blur-md shadow-xl border border-gray-700/50",children:[p.jsx("div",{className:`mt-1 flex justify-center px-6 pt-5 pb-6 border-2 ${je&&!re.mixA?"border-red-500":"border-gray-600"} border-dashed rounded-md cursor-pointer hover:border-orange-500 transition-colors`,onClick:()=>{var ne;return(ne=document.getElementById("mixA-upload"))==null?void 0:ne.click()},children:p.jsxs("div",{className:"space-y-1 text-center",children:[p.jsx(cf,{className:"mx-auto h-12 w-12 text-gray-400"}),p.jsxs("div",{className:"flex text-sm text-gray-400",children:[p.jsxs("label",{htmlFor:"mixA-upload",className:"relative cursor-pointer rounded-md font-medium text-orange-400 hover:text-orange-300",children:[p.jsx("span",{children:"Upload Mix A"}),p.jsx("input",{id:"mixA-upload",name:"mixA-upload",type:"file",className:"sr-only",accept:"audio/*",onChange:ne=>{var Ne;const Te=(Ne=ne.target.files)==null?void 0:Ne[0];if(Te){if(Te.size>du){Ge(`File is too large. Max ${ri}MB.`);return}if(!Te.type.startsWith("audio/")){Ge("Invalid file type. Please upload audio.");return}_e(He=>({...He,mixA:Te})),Ge(null)}}})]}),p.jsx("p",{className:"pl-1",children:"or drag and drop"})]}),p.jsxs("p",{className:"text-xs text-gray-500",children:["MP3, WAV, FLAC up to ",ri,"MB"]})]})}),re.mixA&&p.jsxs("p",{className:"text-xs text-green-400 mt-2",children:["Selected: ",re.mixA.name," (",(re.mixA.size/1024/1024).toFixed(2)," MB)"]})]}),p.jsxs(rt,{title:"Mix B (Revised)",className:"bg-gray-800/80 backdrop-blur-md shadow-xl border border-gray-700/50",children:[p.jsx("div",{className:`mt-1 flex justify-center px-6 pt-5 pb-6 border-2 ${je&&!re.mixB?"border-red-500":"border-gray-600"} border-dashed rounded-md cursor-pointer hover:border-orange-500 transition-colors`,onClick:()=>{var ne;return(ne=document.getElementById("mixB-upload"))==null?void 0:ne.click()},children:p.jsxs("div",{className:"space-y-1 text-center",children:[p.jsx(cf,{className:"mx-auto h-12 w-12 text-gray-400"}),p.jsxs("div",{className:"flex text-sm text-gray-400",children:[p.jsxs("label",{htmlFor:"mixB-upload",className:"relative cursor-pointer rounded-md font-medium text-orange-400 hover:text-orange-300",children:[p.jsx("span",{children:"Upload Mix B"}),p.jsx("input",{id:"mixB-upload",name:"mixB-upload",type:"file",className:"sr-only",accept:"audio/*",onChange:ne=>{var Ne;const Te=(Ne=ne.target.files)==null?void 0:Ne[0];if(Te){if(Te.size>du){Ge(`File is too large. Max ${ri}MB.`);return}if(!Te.type.startsWith("audio/")){Ge("Invalid file type. Please upload audio.");return}_e(He=>({...He,mixB:Te})),Ge(null)}}})]}),p.jsx("p",{className:"pl-1",children:"or drag and drop"})]}),p.jsxs("p",{className:"text-xs text-gray-500",children:["MP3, WAV, FLAC up to ",ri,"MB"]})]})}),re.mixB&&p.jsxs("p",{className:"text-xs text-green-400 mt-2",children:["Selected: ",re.mixB.name," (",(re.mixB.size/1024/1024).toFixed(2)," MB)"]})]}),p.jsx(rt,{title:"Notes for AI",className:"bg-gray-800/80 backdrop-blur-md shadow-xl border border-gray-700/50",children:p.jsx(Lr,{placeholder:"Describe what you want the AI to focus on when comparing these mixes. For example: 'Focus on the vocal clarity and low-end balance' or 'Compare the stereo width and overall loudness'...",value:re.userNotes,onChange:ne=>_e(Te=>({...Te,userNotes:ne.target.value})),rows:3,className:"w-full"})}),p.jsx(Xe,{onClick:hi,disabled:Ue||!re.mixA||!re.mixB,variant:"primary",className:"w-full px-4 py-3 text-base font-semibold",leftIcon:p.jsx("span",{className:"w-5 h-5 text-center",children:"⚖️"}),children:Ue?"Comparing Mixes...":"Compare Mixes"}),p.jsx(Xe,{type:"button",onClick:Yu,variant:"outline",className:"w-full !border-orange-500 !text-orange-400 hover:!bg-orange-500 hover:!text-white",children:"Reset"}),je&&!Ue&&p.jsxs(rt,{className:"border-red-500 bg-red-900/40 shadow-xl",children:[p.jsx("p",{className:"text-red-300 font-semibold text-lg",children:"Mix Comparison Error:"}),p.jsx("p",{className:"text-red-300",children:je})]})]})]}),p.jsxs("div",{className:"md:col-span-9 space-y-6",children:[C&&R&&oe==="single"&&p.jsx(rt,{title:"AI Mix Feedback Report (Generating...)",className:"bg-gray-800/80 backdrop-blur-md shadow-xl border border-gray-700/50 sticky top-8",titleClassName:"border-b border-gray-700 text-xl !text-orange-300",children:p.jsx("div",{className:"prose prose-sm md:prose-base prose-invert max-w-none max-h-[calc(100vh-6rem)] overflow-y-auto pr-3 text-gray-300 custom-scrollbar guidebook-content",children:p.jsx(Fi,{content:R})})}),Ue&&we&&oe==="compare"&&p.jsx(rt,{title:"AI Mix Comparison Report (Generating...)",className:"bg-gray-800/80 backdrop-blur-md shadow-xl border border-gray-700/50 sticky top-8",titleClassName:"border-b border-gray-700 text-xl !text-orange-300",children:p.jsx("div",{className:"prose prose-sm md:prose-base prose-invert max-w-none max-h-[calc(100vh-6rem)] overflow-y-auto pr-3 text-gray-300 custom-scrollbar guidebook-content",children:p.jsx(Fi,{content:we})})}),(C&&!R&&oe==="single"||Ue&&!we&&oe==="compare")&&p.jsx("div",{className:"flex justify-center items-center h-full min-h-[500px]",children:p.jsx(la,{size:"lg",color:"text-orange-500",text:oe==="single"?"AI is analyzing your mix... this may take a moment.":"AI is comparing your mixes... this may take a moment."})}),Q&&!C&&oe==="single"&&p.jsxs(rt,{className:"border-red-500 bg-red-900/40 shadow-xl",children:[p.jsx("p",{className:"text-red-300 font-semibold text-lg",children:"Mix Feedback Error:"}),p.jsx("p",{className:"text-red-300",children:Q})]}),je&&!Ue&&oe==="compare"&&p.jsxs(rt,{className:"border-red-500 bg-red-900/40 shadow-xl",children:[p.jsx("p",{className:"text-red-300 font-semibold text-lg",children:"Mix Comparison Error:"}),p.jsx("p",{className:"text-red-300",children:je})]}),W&&!C&&oe==="single"&&p.jsx(rt,{title:"AI Mix Feedback Report",className:"bg-gray-800/80 backdrop-blur-md shadow-xl border border-gray-700/50 sticky top-8",titleClassName:"border-b border-gray-700 text-xl !text-orange-300",children:p.jsx("div",{id:"mix-feedback-display",className:"prose prose-sm md:prose-base prose-invert max-w-none max-h-[calc(100vh-6rem)] overflow-y-auto pr-3 text-gray-300 custom-scrollbar guidebook-content",children:p.jsx(Fi,{content:function(){let ne=(W||"").trim();const Te=ne.match(/(^|\n)(##? |🎧|Audio Analysis Results)/);return Te&&Te.index!==void 0&&(ne=ne.slice(Te.index).trim()),ne}()})})}),Se&&!Ue&&oe==="compare"&&p.jsx(rt,{title:"AI Mix Comparison Report",className:"bg-gray-800/80 backdrop-blur-md shadow-xl border border-gray-700/50 sticky top-8",titleClassName:"border-b border-gray-700 text-xl !text-orange-300",children:p.jsx("div",{id:"mix-comparison-display",className:"prose prose-sm md:prose-base prose-invert max-w-none max-h-[calc(100vh-6rem)] overflow-y-auto pr-3 text-gray-300 custom-scrollbar guidebook-content",children:p.jsx(Fi,{content:Se})})}),!C&&!Ue&&!W&&!Se&&!Q&&!je&&p.jsxs(rt,{className:"bg-gray-800/80 backdrop-blur-md shadow-xl border border-gray-700/50 flex flex-col items-center justify-center h-96 text-center min-h-[500px]",children:[p.jsx("div",{className:"flex justify-center mb-6",children:p.jsx(cu,{className:"w-20 h-20 opacity-80"})}),p.jsx("h3",{className:"text-2xl font-semibold text-gray-200 mb-2",children:"Refine Your Sound."}),p.jsx("p",{className:"text-gray-400 max-w-md",children:oe==="single"?"Upload your mix, add some notes, and get detailed feedback from our AI mixing engineer.":"Upload two mix versions to compare them side-by-side and get detailed analysis of the differences."})]})]})]}),e==="remixGuide"&&p.jsx("div",{className:"max-w-7xl mx-auto",children:p.jsx(kL,{onContentUpdate:Ki})}),e==="eqGuide"&&p.jsx("div",{className:"max-w-7xl mx-auto",children:p.jsx(vI,{})}),e==="patchGuide"&&p.jsx("div",{className:"max-w-7xl mx-auto",children:p.jsx(u5,{onContentUpdate:ka})}),z&&p.jsx(d5,{library:K,onClose:()=>se(!1),onLoadEntry:Qt,onDeleteEntry:Mn,onCreateNew:Le}),p.jsx(EI,{isOpen:!Ee,onClose:()=>Ce(!0),currentGuidebook:$||void 0,userInputs:n,isCollapsed:Ee,onToggle:()=>Ce(!Ee),remixGuideContent:tn,mixFeedbackContent:W||void 0,mixComparisonContent:Se||void 0,patchGuideContent:fi,activeView:e}),p.jsx("footer",{className:"text-center mt-16 py-8 border-t border-gray-700/60",children:p.jsxs("p",{className:"text-sm text-gray-500",children:[Ry," - AI Production Assistant"]})})]})},OE=document.getElementById("root");if(!OE)throw new Error("Could not find root element to mount to");const h5=Zv.createRoot(OE);h5.render(p.jsx(Mu.StrictMode,{children:p.jsx(m5,{})}));
