(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const l of o)if(l.type==="childList")for(const u of l.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&r(u)}).observe(document,{childList:!0,subtree:!0});function n(o){const l={};return o.integrity&&(l.integrity=o.integrity),o.referrerPolicy&&(l.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?l.credentials="include":o.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function r(o){if(o.ep)return;o.ep=!0;const l=n(o);fetch(o.href,l)}})();function Ds(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function aw(e){if(Object.prototype.hasOwnProperty.call(e,"__esModule"))return e;var t=e.default;if(typeof t=="function"){var n=function r(){return this instanceof r?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var o=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,o.get?o:{enumerable:!0,get:function(){return e[r]}})}),n}var td={exports:{}},Xo={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var l0;function ow(){if(l0)return Xo;l0=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(r,o,l){var u=null;if(l!==void 0&&(u=""+l),o.key!==void 0&&(u=""+o.key),"key"in o){l={};for(var f in o)f!=="key"&&(l[f]=o[f])}else l=o;return o=l.ref,{$$typeof:e,type:r,key:u,ref:o!==void 0?o:null,props:l}}return Xo.Fragment=t,Xo.jsx=n,Xo.jsxs=n,Xo}var u0;function sw(){return u0||(u0=1,td.exports=ow()),td.exports}var g=sw(),nd={exports:{}},Ve={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var c0;function lw(){if(c0)return Ve;c0=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),u=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),y=Symbol.iterator;function T(C){return C===null||typeof C!="object"?null:(C=y&&C[y]||C["@@iterator"],typeof C=="function"?C:null)}var S={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},w=Object.assign,A={};function _(C,P,G){this.props=C,this.context=P,this.refs=A,this.updater=G||S}_.prototype.isReactComponent={},_.prototype.setState=function(C,P){if(typeof C!="object"&&typeof C!="function"&&C!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,C,P,"setState")},_.prototype.forceUpdate=function(C){this.updater.enqueueForceUpdate(this,C,"forceUpdate")};function k(){}k.prototype=_.prototype;function V(C,P,G){this.props=C,this.context=P,this.refs=A,this.updater=G||S}var I=V.prototype=new k;I.constructor=V,w(I,_.prototype),I.isPureReactComponent=!0;var B=Array.isArray,U={H:null,A:null,T:null,S:null,V:null},z=Object.prototype.hasOwnProperty;function ie(C,P,G,E,ee,O){return G=O.ref,{$$typeof:e,type:C,key:P,ref:G!==void 0?G:null,props:O}}function se(C,P){return ie(C.type,P,void 0,void 0,void 0,C.props)}function ge(C){return typeof C=="object"&&C!==null&&C.$$typeof===e}function H(C){var P={"=":"=0",":":"=2"};return"$"+C.replace(/[=:]/g,function(G){return P[G]})}var ue=/\/+/g;function fe(C,P){return typeof C=="object"&&C!==null&&C.key!=null?H(""+C.key):P.toString(36)}function he(){}function le(C){switch(C.status){case"fulfilled":return C.value;case"rejected":throw C.reason;default:switch(typeof C.status=="string"?C.then(he,he):(C.status="pending",C.then(function(P){C.status==="pending"&&(C.status="fulfilled",C.value=P)},function(P){C.status==="pending"&&(C.status="rejected",C.reason=P)})),C.status){case"fulfilled":return C.value;case"rejected":throw C.reason}}throw C}function Z(C,P,G,E,ee){var O=typeof C;(O==="undefined"||O==="boolean")&&(C=null);var J=!1;if(C===null)J=!0;else switch(O){case"bigint":case"string":case"number":J=!0;break;case"object":switch(C.$$typeof){case e:case t:J=!0;break;case h:return J=C._init,Z(J(C._payload),P,G,E,ee)}}if(J)return ee=ee(C),J=E===""?"."+fe(C,0):E,B(ee)?(G="",J!=null&&(G=J.replace(ue,"$&/")+"/"),Z(ee,P,G,"",function(be){return be})):ee!=null&&(ge(ee)&&(ee=se(ee,G+(ee.key==null||C&&C.key===ee.key?"":(""+ee.key).replace(ue,"$&/")+"/")+J)),P.push(ee)),1;J=0;var ye=E===""?".":E+":";if(B(C))for(var pe=0;pe<C.length;pe++)E=C[pe],O=ye+fe(E,pe),J+=Z(E,P,G,O,ee);else if(pe=T(C),typeof pe=="function")for(C=pe.call(C),pe=0;!(E=C.next()).done;)E=E.value,O=ye+fe(E,pe++),J+=Z(E,P,G,O,ee);else if(O==="object"){if(typeof C.then=="function")return Z(le(C),P,G,E,ee);throw P=String(C),Error("Objects are not valid as a React child (found: "+(P==="[object Object]"?"object with keys {"+Object.keys(C).join(", ")+"}":P)+"). If you meant to render a collection of children, use an array instead.")}return J}function $(C,P,G){if(C==null)return C;var E=[],ee=0;return Z(C,E,"","",function(O){return P.call(G,O,ee++)}),E}function F(C){if(C._status===-1){var P=C._result;P=P(),P.then(function(G){(C._status===0||C._status===-1)&&(C._status=1,C._result=G)},function(G){(C._status===0||C._status===-1)&&(C._status=2,C._result=G)}),C._status===-1&&(C._status=0,C._result=P)}if(C._status===1)return C._result.default;throw C._result}var N=typeof reportError=="function"?reportError:function(C){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var P=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof C=="object"&&C!==null&&typeof C.message=="string"?String(C.message):String(C),error:C});if(!window.dispatchEvent(P))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",C);return}console.error(C)};function R(){}return Ve.Children={map:$,forEach:function(C,P,G){$(C,function(){P.apply(this,arguments)},G)},count:function(C){var P=0;return $(C,function(){P++}),P},toArray:function(C){return $(C,function(P){return P})||[]},only:function(C){if(!ge(C))throw Error("React.Children.only expected to receive a single React element child.");return C}},Ve.Component=_,Ve.Fragment=n,Ve.Profiler=o,Ve.PureComponent=V,Ve.StrictMode=r,Ve.Suspense=m,Ve.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=U,Ve.__COMPILER_RUNTIME={__proto__:null,c:function(C){return U.H.useMemoCache(C)}},Ve.cache=function(C){return function(){return C.apply(null,arguments)}},Ve.cloneElement=function(C,P,G){if(C==null)throw Error("The argument must be a React element, but you passed "+C+".");var E=w({},C.props),ee=C.key,O=void 0;if(P!=null)for(J in P.ref!==void 0&&(O=void 0),P.key!==void 0&&(ee=""+P.key),P)!z.call(P,J)||J==="key"||J==="__self"||J==="__source"||J==="ref"&&P.ref===void 0||(E[J]=P[J]);var J=arguments.length-2;if(J===1)E.children=G;else if(1<J){for(var ye=Array(J),pe=0;pe<J;pe++)ye[pe]=arguments[pe+2];E.children=ye}return ie(C.type,ee,void 0,void 0,O,E)},Ve.createContext=function(C){return C={$$typeof:u,_currentValue:C,_currentValue2:C,_threadCount:0,Provider:null,Consumer:null},C.Provider=C,C.Consumer={$$typeof:l,_context:C},C},Ve.createElement=function(C,P,G){var E,ee={},O=null;if(P!=null)for(E in P.key!==void 0&&(O=""+P.key),P)z.call(P,E)&&E!=="key"&&E!=="__self"&&E!=="__source"&&(ee[E]=P[E]);var J=arguments.length-2;if(J===1)ee.children=G;else if(1<J){for(var ye=Array(J),pe=0;pe<J;pe++)ye[pe]=arguments[pe+2];ee.children=ye}if(C&&C.defaultProps)for(E in J=C.defaultProps,J)ee[E]===void 0&&(ee[E]=J[E]);return ie(C,O,void 0,void 0,null,ee)},Ve.createRef=function(){return{current:null}},Ve.forwardRef=function(C){return{$$typeof:f,render:C}},Ve.isValidElement=ge,Ve.lazy=function(C){return{$$typeof:h,_payload:{_status:-1,_result:C},_init:F}},Ve.memo=function(C,P){return{$$typeof:d,type:C,compare:P===void 0?null:P}},Ve.startTransition=function(C){var P=U.T,G={};U.T=G;try{var E=C(),ee=U.S;ee!==null&&ee(G,E),typeof E=="object"&&E!==null&&typeof E.then=="function"&&E.then(R,N)}catch(O){N(O)}finally{U.T=P}},Ve.unstable_useCacheRefresh=function(){return U.H.useCacheRefresh()},Ve.use=function(C){return U.H.use(C)},Ve.useActionState=function(C,P,G){return U.H.useActionState(C,P,G)},Ve.useCallback=function(C,P){return U.H.useCallback(C,P)},Ve.useContext=function(C){return U.H.useContext(C)},Ve.useDebugValue=function(){},Ve.useDeferredValue=function(C,P){return U.H.useDeferredValue(C,P)},Ve.useEffect=function(C,P,G){var E=U.H;if(typeof G=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return E.useEffect(C,P)},Ve.useId=function(){return U.H.useId()},Ve.useImperativeHandle=function(C,P,G){return U.H.useImperativeHandle(C,P,G)},Ve.useInsertionEffect=function(C,P){return U.H.useInsertionEffect(C,P)},Ve.useLayoutEffect=function(C,P){return U.H.useLayoutEffect(C,P)},Ve.useMemo=function(C,P){return U.H.useMemo(C,P)},Ve.useOptimistic=function(C,P){return U.H.useOptimistic(C,P)},Ve.useReducer=function(C,P,G){return U.H.useReducer(C,P,G)},Ve.useRef=function(C){return U.H.useRef(C)},Ve.useState=function(C){return U.H.useState(C)},Ve.useSyncExternalStore=function(C,P,G){return U.H.useSyncExternalStore(C,P,G)},Ve.useTransition=function(){return U.H.useTransition()},Ve.version="19.1.0",Ve}var f0;function Im(){return f0||(f0=1,nd.exports=lw()),nd.exports}var ne=Im();const _u=Ds(ne);var id={exports:{}},Wo={},rd={exports:{}},ad={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var d0;function uw(){return d0||(d0=1,function(e){function t($,F){var N=$.length;$.push(F);e:for(;0<N;){var R=N-1>>>1,C=$[R];if(0<o(C,F))$[R]=F,$[N]=C,N=R;else break e}}function n($){return $.length===0?null:$[0]}function r($){if($.length===0)return null;var F=$[0],N=$.pop();if(N!==F){$[0]=N;e:for(var R=0,C=$.length,P=C>>>1;R<P;){var G=2*(R+1)-1,E=$[G],ee=G+1,O=$[ee];if(0>o(E,N))ee<C&&0>o(O,E)?($[R]=O,$[ee]=N,R=ee):($[R]=E,$[G]=N,R=G);else if(ee<C&&0>o(O,N))$[R]=O,$[ee]=N,R=ee;else break e}}return F}function o($,F){var N=$.sortIndex-F.sortIndex;return N!==0?N:$.id-F.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;e.unstable_now=function(){return l.now()}}else{var u=Date,f=u.now();e.unstable_now=function(){return u.now()-f}}var m=[],d=[],h=1,y=null,T=3,S=!1,w=!1,A=!1,_=!1,k=typeof setTimeout=="function"?setTimeout:null,V=typeof clearTimeout=="function"?clearTimeout:null,I=typeof setImmediate<"u"?setImmediate:null;function B($){for(var F=n(d);F!==null;){if(F.callback===null)r(d);else if(F.startTime<=$)r(d),F.sortIndex=F.expirationTime,t(m,F);else break;F=n(d)}}function U($){if(A=!1,B($),!w)if(n(m)!==null)w=!0,z||(z=!0,fe());else{var F=n(d);F!==null&&Z(U,F.startTime-$)}}var z=!1,ie=-1,se=5,ge=-1;function H(){return _?!0:!(e.unstable_now()-ge<se)}function ue(){if(_=!1,z){var $=e.unstable_now();ge=$;var F=!0;try{e:{w=!1,A&&(A=!1,V(ie),ie=-1),S=!0;var N=T;try{t:{for(B($),y=n(m);y!==null&&!(y.expirationTime>$&&H());){var R=y.callback;if(typeof R=="function"){y.callback=null,T=y.priorityLevel;var C=R(y.expirationTime<=$);if($=e.unstable_now(),typeof C=="function"){y.callback=C,B($),F=!0;break t}y===n(m)&&r(m),B($)}else r(m);y=n(m)}if(y!==null)F=!0;else{var P=n(d);P!==null&&Z(U,P.startTime-$),F=!1}}break e}finally{y=null,T=N,S=!1}F=void 0}}finally{F?fe():z=!1}}}var fe;if(typeof I=="function")fe=function(){I(ue)};else if(typeof MessageChannel<"u"){var he=new MessageChannel,le=he.port2;he.port1.onmessage=ue,fe=function(){le.postMessage(null)}}else fe=function(){k(ue,0)};function Z($,F){ie=k(function(){$(e.unstable_now())},F)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function($){$.callback=null},e.unstable_forceFrameRate=function($){0>$||125<$?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):se=0<$?Math.floor(1e3/$):5},e.unstable_getCurrentPriorityLevel=function(){return T},e.unstable_next=function($){switch(T){case 1:case 2:case 3:var F=3;break;default:F=T}var N=T;T=F;try{return $()}finally{T=N}},e.unstable_requestPaint=function(){_=!0},e.unstable_runWithPriority=function($,F){switch($){case 1:case 2:case 3:case 4:case 5:break;default:$=3}var N=T;T=$;try{return F()}finally{T=N}},e.unstable_scheduleCallback=function($,F,N){var R=e.unstable_now();switch(typeof N=="object"&&N!==null?(N=N.delay,N=typeof N=="number"&&0<N?R+N:R):N=R,$){case 1:var C=-1;break;case 2:C=250;break;case 5:C=1073741823;break;case 4:C=1e4;break;default:C=5e3}return C=N+C,$={id:h++,callback:F,priorityLevel:$,startTime:N,expirationTime:C,sortIndex:-1},N>R?($.sortIndex=N,t(d,$),n(m)===null&&$===n(d)&&(A?(V(ie),ie=-1):A=!0,Z(U,N-R))):($.sortIndex=C,t(m,$),w||S||(w=!0,z||(z=!0,fe()))),$},e.unstable_shouldYield=H,e.unstable_wrapCallback=function($){var F=T;return function(){var N=T;T=F;try{return $.apply(this,arguments)}finally{T=N}}}}(ad)),ad}var m0;function cw(){return m0||(m0=1,rd.exports=uw()),rd.exports}var od={exports:{}},zt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var h0;function fw(){if(h0)return zt;h0=1;var e=Im();function t(m){var d="https://react.dev/errors/"+m;if(1<arguments.length){d+="?args[]="+encodeURIComponent(arguments[1]);for(var h=2;h<arguments.length;h++)d+="&args[]="+encodeURIComponent(arguments[h])}return"Minified React error #"+m+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function l(m,d,h){var y=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:y==null?null:""+y,children:m,containerInfo:d,implementation:h}}var u=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function f(m,d){if(m==="font")return"";if(typeof d=="string")return d==="use-credentials"?d:""}return zt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,zt.createPortal=function(m,d){var h=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!d||d.nodeType!==1&&d.nodeType!==9&&d.nodeType!==11)throw Error(t(299));return l(m,d,null,h)},zt.flushSync=function(m){var d=u.T,h=r.p;try{if(u.T=null,r.p=2,m)return m()}finally{u.T=d,r.p=h,r.d.f()}},zt.preconnect=function(m,d){typeof m=="string"&&(d?(d=d.crossOrigin,d=typeof d=="string"?d==="use-credentials"?d:"":void 0):d=null,r.d.C(m,d))},zt.prefetchDNS=function(m){typeof m=="string"&&r.d.D(m)},zt.preinit=function(m,d){if(typeof m=="string"&&d&&typeof d.as=="string"){var h=d.as,y=f(h,d.crossOrigin),T=typeof d.integrity=="string"?d.integrity:void 0,S=typeof d.fetchPriority=="string"?d.fetchPriority:void 0;h==="style"?r.d.S(m,typeof d.precedence=="string"?d.precedence:void 0,{crossOrigin:y,integrity:T,fetchPriority:S}):h==="script"&&r.d.X(m,{crossOrigin:y,integrity:T,fetchPriority:S,nonce:typeof d.nonce=="string"?d.nonce:void 0})}},zt.preinitModule=function(m,d){if(typeof m=="string")if(typeof d=="object"&&d!==null){if(d.as==null||d.as==="script"){var h=f(d.as,d.crossOrigin);r.d.M(m,{crossOrigin:h,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0})}}else d==null&&r.d.M(m)},zt.preload=function(m,d){if(typeof m=="string"&&typeof d=="object"&&d!==null&&typeof d.as=="string"){var h=d.as,y=f(h,d.crossOrigin);r.d.L(m,h,{crossOrigin:y,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0,type:typeof d.type=="string"?d.type:void 0,fetchPriority:typeof d.fetchPriority=="string"?d.fetchPriority:void 0,referrerPolicy:typeof d.referrerPolicy=="string"?d.referrerPolicy:void 0,imageSrcSet:typeof d.imageSrcSet=="string"?d.imageSrcSet:void 0,imageSizes:typeof d.imageSizes=="string"?d.imageSizes:void 0,media:typeof d.media=="string"?d.media:void 0})}},zt.preloadModule=function(m,d){if(typeof m=="string")if(d){var h=f(d.as,d.crossOrigin);r.d.m(m,{as:typeof d.as=="string"&&d.as!=="script"?d.as:void 0,crossOrigin:h,integrity:typeof d.integrity=="string"?d.integrity:void 0})}else r.d.m(m)},zt.requestFormReset=function(m){r.d.r(m)},zt.unstable_batchedUpdates=function(m,d){return m(d)},zt.useFormState=function(m,d,h){return u.H.useFormState(m,d,h)},zt.useFormStatus=function(){return u.H.useHostTransitionStatus()},zt.version="19.1.0",zt}var p0;function dw(){if(p0)return od.exports;p0=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),od.exports=fw(),od.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var g0;function mw(){if(g0)return Wo;g0=1;var e=cw(),t=Im(),n=dw();function r(i){var a="https://react.dev/errors/"+i;if(1<arguments.length){a+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)a+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+i+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function l(i){var a=i,s=i;if(i.alternate)for(;a.return;)a=a.return;else{i=a;do a=i,(a.flags&4098)!==0&&(s=a.return),i=a.return;while(i)}return a.tag===3?s:null}function u(i){if(i.tag===13){var a=i.memoizedState;if(a===null&&(i=i.alternate,i!==null&&(a=i.memoizedState)),a!==null)return a.dehydrated}return null}function f(i){if(l(i)!==i)throw Error(r(188))}function m(i){var a=i.alternate;if(!a){if(a=l(i),a===null)throw Error(r(188));return a!==i?null:i}for(var s=i,c=a;;){var p=s.return;if(p===null)break;var b=p.alternate;if(b===null){if(c=p.return,c!==null){s=c;continue}break}if(p.child===b.child){for(b=p.child;b;){if(b===s)return f(p),i;if(b===c)return f(p),a;b=b.sibling}throw Error(r(188))}if(s.return!==c.return)s=p,c=b;else{for(var M=!1,D=p.child;D;){if(D===s){M=!0,s=p,c=b;break}if(D===c){M=!0,c=p,s=b;break}D=D.sibling}if(!M){for(D=b.child;D;){if(D===s){M=!0,s=b,c=p;break}if(D===c){M=!0,c=b,s=p;break}D=D.sibling}if(!M)throw Error(r(189))}}if(s.alternate!==c)throw Error(r(190))}if(s.tag!==3)throw Error(r(188));return s.stateNode.current===s?i:a}function d(i){var a=i.tag;if(a===5||a===26||a===27||a===6)return i;for(i=i.child;i!==null;){if(a=d(i),a!==null)return a;i=i.sibling}return null}var h=Object.assign,y=Symbol.for("react.element"),T=Symbol.for("react.transitional.element"),S=Symbol.for("react.portal"),w=Symbol.for("react.fragment"),A=Symbol.for("react.strict_mode"),_=Symbol.for("react.profiler"),k=Symbol.for("react.provider"),V=Symbol.for("react.consumer"),I=Symbol.for("react.context"),B=Symbol.for("react.forward_ref"),U=Symbol.for("react.suspense"),z=Symbol.for("react.suspense_list"),ie=Symbol.for("react.memo"),se=Symbol.for("react.lazy"),ge=Symbol.for("react.activity"),H=Symbol.for("react.memo_cache_sentinel"),ue=Symbol.iterator;function fe(i){return i===null||typeof i!="object"?null:(i=ue&&i[ue]||i["@@iterator"],typeof i=="function"?i:null)}var he=Symbol.for("react.client.reference");function le(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===he?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case w:return"Fragment";case _:return"Profiler";case A:return"StrictMode";case U:return"Suspense";case z:return"SuspenseList";case ge:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case S:return"Portal";case I:return(i.displayName||"Context")+".Provider";case V:return(i._context.displayName||"Context")+".Consumer";case B:var a=i.render;return i=i.displayName,i||(i=a.displayName||a.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case ie:return a=i.displayName||null,a!==null?a:le(i.type)||"Memo";case se:a=i._payload,i=i._init;try{return le(i(a))}catch{}}return null}var Z=Array.isArray,$=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,F=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,N={pending:!1,data:null,method:null,action:null},R=[],C=-1;function P(i){return{current:i}}function G(i){0>C||(i.current=R[C],R[C]=null,C--)}function E(i,a){C++,R[C]=i.current,i.current=a}var ee=P(null),O=P(null),J=P(null),ye=P(null);function pe(i,a){switch(E(J,a),E(O,i),E(ee,null),a.nodeType){case 9:case 11:i=(i=a.documentElement)&&(i=i.namespaceURI)?Py(i):0;break;default:if(i=a.tagName,a=a.namespaceURI)a=Py(a),i=By(a,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}G(ee),E(ee,i)}function be(){G(ee),G(O),G(J)}function _e(i){i.memoizedState!==null&&E(ye,i);var a=ee.current,s=By(a,i.type);a!==s&&(E(O,i),E(ee,s))}function Ie(i){O.current===i&&(G(ee),G(O)),ye.current===i&&(G(ye),Go._currentValue=N)}var Ge=Object.prototype.hasOwnProperty,Le=e.unstable_scheduleCallback,Me=e.unstable_cancelCallback,tt=e.unstable_shouldYield,nt=e.unstable_requestPaint,xt=e.unstable_now,Ur=e.unstable_getCurrentPriorityLevel,ur=e.unstable_ImmediatePriority,Mi=e.unstable_UserBlockingPriority,ii=e.unstable_NormalPriority,Gr=e.unstable_LowPriority,It=e.unstable_IdlePriority,cr=e.log,qr=e.unstable_setDisableYieldValue,te=null,ce=null;function Se(i){if(typeof cr=="function"&&qr(i),ce&&typeof ce.setStrictMode=="function")try{ce.setStrictMode(te,i)}catch{}}var Ce=Math.clz32?Math.clz32:Vn,We=Math.log,$t=Math.LN2;function Vn(i){return i>>>=0,i===0?32:31-(We(i)/$t|0)|0}var Ft=256,bn=4194304;function Ot(i){var a=i&42;if(a!==0)return a;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function St(i,a,s){var c=i.pendingLanes;if(c===0)return 0;var p=0,b=i.suspendedLanes,M=i.pingedLanes;i=i.warmLanes;var D=c&134217727;return D!==0?(c=D&~b,c!==0?p=Ot(c):(M&=D,M!==0?p=Ot(M):s||(s=D&~i,s!==0&&(p=Ot(s))))):(D=c&~b,D!==0?p=Ot(D):M!==0?p=Ot(M):s||(s=c&~i,s!==0&&(p=Ot(s)))),p===0?0:a!==0&&a!==p&&(a&b)===0&&(b=p&-p,s=a&-a,b>=s||b===32&&(s&4194048)!==0)?a:p}function Wt(i,a){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&a)===0}function Qt(i,a){switch(i){case 1:case 2:case 4:case 8:case 64:return a+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Bs(){var i=Ft;return Ft<<=1,(Ft&4194048)===0&&(Ft=256),i}function Fs(){var i=bn;return bn<<=1,(bn&62914560)===0&&(bn=4194304),i}function $r(i){for(var a=[],s=0;31>s;s++)a.push(i);return a}function fr(i,a){i.pendingLanes|=a,a!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function qu(i,a,s,c,p,b){var M=i.pendingLanes;i.pendingLanes=s,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=s,i.entangledLanes&=s,i.errorRecoveryDisabledLanes&=s,i.shellSuspendCounter=0;var D=i.entanglements,L=i.expirationTimes,K=i.hiddenUpdates;for(s=M&~s;0<s;){var re=31-Ce(s),oe=1<<re;D[re]=0,L[re]=-1;var X=K[re];if(X!==null)for(K[re]=null,re=0;re<X.length;re++){var W=X[re];W!==null&&(W.lane&=-536870913)}s&=~oe}c!==0&&un(i,c,0),b!==0&&p===0&&i.tag!==0&&(i.suspendedLanes|=b&~(M&~a))}function un(i,a,s){i.pendingLanes|=a,i.suspendedLanes&=~a;var c=31-Ce(a);i.entangledLanes|=a,i.entanglements[c]=i.entanglements[c]|1073741824|s&4194090}function Qa(i,a){var s=i.entangledLanes|=a;for(i=i.entanglements;s;){var c=31-Ce(s),p=1<<c;p&a|i[c]&a&&(i[c]|=a),s&=~p}}function Yr(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function Q(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function de(){var i=F.p;return i!==0?i:(i=window.event,i===void 0?32:n0(i.type))}function xe(i,a){var s=F.p;try{return F.p=i,a()}finally{F.p=s}}var Ne=Math.random().toString(36).slice(2),qe="__reactFiber$"+Ne,je="__reactProps$"+Ne,Pn="__reactContainer$"+Ne,Ja="__reactEvents$"+Ne,$u="__reactListeners$"+Ne,Yu="__reactHandles$"+Ne,Os="__reactResources$"+Ne,dr="__reactMarker$"+Ne;function Za(i){delete i[qe],delete i[je],delete i[Ja],delete i[$u],delete i[Yu]}function Bn(i){var a=i[qe];if(a)return a;for(var s=i.parentNode;s;){if(a=s[Pn]||s[qe]){if(s=a.alternate,a.child!==null||s!==null&&s.child!==null)for(i=zy(i);i!==null;){if(s=i[qe])return s;i=zy(i)}return a}i=s,s=i.parentNode}return null}function ri(i){if(i=i[qe]||i[Pn]){var a=i.tag;if(a===5||a===6||a===13||a===26||a===27||a===3)return i}return null}function mr(i){var a=i.tag;if(a===5||a===26||a===27||a===6)return i.stateNode;throw Error(r(33))}function wi(i){var a=i[Os];return a||(a=i[Os]={hoistableStyles:new Map,hoistableScripts:new Map}),a}function Ct(i){i[dr]=!0}var js=new Set,eo={};function ai(i,a){hr(i,a),hr(i+"Capture",a)}function hr(i,a){for(eo[i]=a,i=0;i<a.length;i++)js.add(a[i])}var Ku=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Jt={},oi={};function to(i){return Ge.call(oi,i)?!0:Ge.call(Jt,i)?!1:Ku.test(i)?oi[i]=!0:(Jt[i]=!0,!1)}function Kr(i,a,s){if(to(a))if(s===null)i.removeAttribute(a);else{switch(typeof s){case"undefined":case"function":case"symbol":i.removeAttribute(a);return;case"boolean":var c=a.toLowerCase().slice(0,5);if(c!=="data-"&&c!=="aria-"){i.removeAttribute(a);return}}i.setAttribute(a,""+s)}}function Ai(i,a,s){if(s===null)i.removeAttribute(a);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(a);return}i.setAttribute(a,""+s)}}function Zt(i,a,s,c){if(c===null)i.removeAttribute(s);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(s);return}i.setAttributeNS(a,s,""+c)}}var Xr,kh;function Wr(i){if(Xr===void 0)try{throw Error()}catch(s){var a=s.stack.trim().match(/\n( *(at )?)/);Xr=a&&a[1]||"",kh=-1<s.stack.indexOf(`
    at`)?" (<anonymous>)":-1<s.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Xr+i+kh}var Xu=!1;function Wu(i,a){if(!i||Xu)return"";Xu=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var c={DetermineComponentFrameRoot:function(){try{if(a){var oe=function(){throw Error()};if(Object.defineProperty(oe.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(oe,[])}catch(W){var X=W}Reflect.construct(i,[],oe)}else{try{oe.call()}catch(W){X=W}i.call(oe.prototype)}}else{try{throw Error()}catch(W){X=W}(oe=i())&&typeof oe.catch=="function"&&oe.catch(function(){})}}catch(W){if(W&&X&&typeof W.stack=="string")return[W.stack,X.stack]}return[null,null]}};c.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var p=Object.getOwnPropertyDescriptor(c.DetermineComponentFrameRoot,"name");p&&p.configurable&&Object.defineProperty(c.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var b=c.DetermineComponentFrameRoot(),M=b[0],D=b[1];if(M&&D){var L=M.split(`
`),K=D.split(`
`);for(p=c=0;c<L.length&&!L[c].includes("DetermineComponentFrameRoot");)c++;for(;p<K.length&&!K[p].includes("DetermineComponentFrameRoot");)p++;if(c===L.length||p===K.length)for(c=L.length-1,p=K.length-1;1<=c&&0<=p&&L[c]!==K[p];)p--;for(;1<=c&&0<=p;c--,p--)if(L[c]!==K[p]){if(c!==1||p!==1)do if(c--,p--,0>p||L[c]!==K[p]){var re=`
`+L[c].replace(" at new "," at ");return i.displayName&&re.includes("<anonymous>")&&(re=re.replace("<anonymous>",i.displayName)),re}while(1<=c&&0<=p);break}}}finally{Xu=!1,Error.prepareStackTrace=s}return(s=i?i.displayName||i.name:"")?Wr(s):""}function ZS(i){switch(i.tag){case 26:case 27:case 5:return Wr(i.type);case 16:return Wr("Lazy");case 13:return Wr("Suspense");case 19:return Wr("SuspenseList");case 0:case 15:return Wu(i.type,!1);case 11:return Wu(i.type.render,!1);case 1:return Wu(i.type,!0);case 31:return Wr("Activity");default:return""}}function Ih(i){try{var a="";do a+=ZS(i),i=i.return;while(i);return a}catch(s){return`
Error generating stack: `+s.message+`
`+s.stack}}function Tn(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function Nh(i){var a=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function eC(i){var a=Nh(i)?"checked":"value",s=Object.getOwnPropertyDescriptor(i.constructor.prototype,a),c=""+i[a];if(!i.hasOwnProperty(a)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var p=s.get,b=s.set;return Object.defineProperty(i,a,{configurable:!0,get:function(){return p.call(this)},set:function(M){c=""+M,b.call(this,M)}}),Object.defineProperty(i,a,{enumerable:s.enumerable}),{getValue:function(){return c},setValue:function(M){c=""+M},stopTracking:function(){i._valueTracker=null,delete i[a]}}}}function zs(i){i._valueTracker||(i._valueTracker=eC(i))}function Rh(i){if(!i)return!1;var a=i._valueTracker;if(!a)return!0;var s=a.getValue(),c="";return i&&(c=Nh(i)?i.checked?"true":"false":i.value),i=c,i!==s?(a.setValue(i),!0):!1}function Hs(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var tC=/[\n"\\]/g;function Sn(i){return i.replace(tC,function(a){return"\\"+a.charCodeAt(0).toString(16)+" "})}function Qu(i,a,s,c,p,b,M,D){i.name="",M!=null&&typeof M!="function"&&typeof M!="symbol"&&typeof M!="boolean"?i.type=M:i.removeAttribute("type"),a!=null?M==="number"?(a===0&&i.value===""||i.value!=a)&&(i.value=""+Tn(a)):i.value!==""+Tn(a)&&(i.value=""+Tn(a)):M!=="submit"&&M!=="reset"||i.removeAttribute("value"),a!=null?Ju(i,M,Tn(a)):s!=null?Ju(i,M,Tn(s)):c!=null&&i.removeAttribute("value"),p==null&&b!=null&&(i.defaultChecked=!!b),p!=null&&(i.checked=p&&typeof p!="function"&&typeof p!="symbol"),D!=null&&typeof D!="function"&&typeof D!="symbol"&&typeof D!="boolean"?i.name=""+Tn(D):i.removeAttribute("name")}function _h(i,a,s,c,p,b,M,D){if(b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"&&(i.type=b),a!=null||s!=null){if(!(b!=="submit"&&b!=="reset"||a!=null))return;s=s!=null?""+Tn(s):"",a=a!=null?""+Tn(a):s,D||a===i.value||(i.value=a),i.defaultValue=a}c=c??p,c=typeof c!="function"&&typeof c!="symbol"&&!!c,i.checked=D?i.checked:!!c,i.defaultChecked=!!c,M!=null&&typeof M!="function"&&typeof M!="symbol"&&typeof M!="boolean"&&(i.name=M)}function Ju(i,a,s){a==="number"&&Hs(i.ownerDocument)===i||i.defaultValue===""+s||(i.defaultValue=""+s)}function Qr(i,a,s,c){if(i=i.options,a){a={};for(var p=0;p<s.length;p++)a["$"+s[p]]=!0;for(s=0;s<i.length;s++)p=a.hasOwnProperty("$"+i[s].value),i[s].selected!==p&&(i[s].selected=p),p&&c&&(i[s].defaultSelected=!0)}else{for(s=""+Tn(s),a=null,p=0;p<i.length;p++){if(i[p].value===s){i[p].selected=!0,c&&(i[p].defaultSelected=!0);return}a!==null||i[p].disabled||(a=i[p])}a!==null&&(a.selected=!0)}}function Lh(i,a,s){if(a!=null&&(a=""+Tn(a),a!==i.value&&(i.value=a),s==null)){i.defaultValue!==a&&(i.defaultValue=a);return}i.defaultValue=s!=null?""+Tn(s):""}function Vh(i,a,s,c){if(a==null){if(c!=null){if(s!=null)throw Error(r(92));if(Z(c)){if(1<c.length)throw Error(r(93));c=c[0]}s=c}s==null&&(s=""),a=s}s=Tn(a),i.defaultValue=s,c=i.textContent,c===s&&c!==""&&c!==null&&(i.value=c)}function Jr(i,a){if(a){var s=i.firstChild;if(s&&s===i.lastChild&&s.nodeType===3){s.nodeValue=a;return}}i.textContent=a}var nC=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Ph(i,a,s){var c=a.indexOf("--")===0;s==null||typeof s=="boolean"||s===""?c?i.setProperty(a,""):a==="float"?i.cssFloat="":i[a]="":c?i.setProperty(a,s):typeof s!="number"||s===0||nC.has(a)?a==="float"?i.cssFloat=s:i[a]=(""+s).trim():i[a]=s+"px"}function Bh(i,a,s){if(a!=null&&typeof a!="object")throw Error(r(62));if(i=i.style,s!=null){for(var c in s)!s.hasOwnProperty(c)||a!=null&&a.hasOwnProperty(c)||(c.indexOf("--")===0?i.setProperty(c,""):c==="float"?i.cssFloat="":i[c]="");for(var p in a)c=a[p],a.hasOwnProperty(p)&&s[p]!==c&&Ph(i,p,c)}else for(var b in a)a.hasOwnProperty(b)&&Ph(i,b,a[b])}function Zu(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var iC=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),rC=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Us(i){return rC.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}var ec=null;function tc(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var Zr=null,ea=null;function Fh(i){var a=ri(i);if(a&&(i=a.stateNode)){var s=i[je]||null;e:switch(i=a.stateNode,a.type){case"input":if(Qu(i,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name),a=s.name,s.type==="radio"&&a!=null){for(s=i;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll('input[name="'+Sn(""+a)+'"][type="radio"]'),a=0;a<s.length;a++){var c=s[a];if(c!==i&&c.form===i.form){var p=c[je]||null;if(!p)throw Error(r(90));Qu(c,p.value,p.defaultValue,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name)}}for(a=0;a<s.length;a++)c=s[a],c.form===i.form&&Rh(c)}break e;case"textarea":Lh(i,s.value,s.defaultValue);break e;case"select":a=s.value,a!=null&&Qr(i,!!s.multiple,a,!1)}}}var nc=!1;function Oh(i,a,s){if(nc)return i(a,s);nc=!0;try{var c=i(a);return c}finally{if(nc=!1,(Zr!==null||ea!==null)&&(Dl(),Zr&&(a=Zr,i=ea,ea=Zr=null,Fh(a),i)))for(a=0;a<i.length;a++)Fh(i[a])}}function no(i,a){var s=i.stateNode;if(s===null)return null;var c=s[je]||null;if(c===null)return null;s=c[a];e:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(i=i.type,c=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!c;break e;default:i=!1}if(i)return null;if(s&&typeof s!="function")throw Error(r(231,a,typeof s));return s}var si=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ic=!1;if(si)try{var io={};Object.defineProperty(io,"passive",{get:function(){ic=!0}}),window.addEventListener("test",io,io),window.removeEventListener("test",io,io)}catch{ic=!1}var Ei=null,rc=null,Gs=null;function jh(){if(Gs)return Gs;var i,a=rc,s=a.length,c,p="value"in Ei?Ei.value:Ei.textContent,b=p.length;for(i=0;i<s&&a[i]===p[i];i++);var M=s-i;for(c=1;c<=M&&a[s-c]===p[b-c];c++);return Gs=p.slice(i,1<c?1-c:void 0)}function qs(i){var a=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&a===13&&(i=13)):i=a,i===10&&(i=13),32<=i||i===13?i:0}function $s(){return!0}function zh(){return!1}function en(i){function a(s,c,p,b,M){this._reactName=s,this._targetInst=p,this.type=c,this.nativeEvent=b,this.target=M,this.currentTarget=null;for(var D in i)i.hasOwnProperty(D)&&(s=i[D],this[D]=s?s(b):b[D]);return this.isDefaultPrevented=(b.defaultPrevented!=null?b.defaultPrevented:b.returnValue===!1)?$s:zh,this.isPropagationStopped=zh,this}return h(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=$s)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=$s)},persist:function(){},isPersistent:$s}),a}var pr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ys=en(pr),ro=h({},pr,{view:0,detail:0}),aC=en(ro),ac,oc,ao,Ks=h({},ro,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:lc,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==ao&&(ao&&i.type==="mousemove"?(ac=i.screenX-ao.screenX,oc=i.screenY-ao.screenY):oc=ac=0,ao=i),ac)},movementY:function(i){return"movementY"in i?i.movementY:oc}}),Hh=en(Ks),oC=h({},Ks,{dataTransfer:0}),sC=en(oC),lC=h({},ro,{relatedTarget:0}),sc=en(lC),uC=h({},pr,{animationName:0,elapsedTime:0,pseudoElement:0}),cC=en(uC),fC=h({},pr,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),dC=en(fC),mC=h({},pr,{data:0}),Uh=en(mC),hC={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},pC={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},gC={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function yC(i){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(i):(i=gC[i])?!!a[i]:!1}function lc(){return yC}var xC=h({},ro,{key:function(i){if(i.key){var a=hC[i.key]||i.key;if(a!=="Unidentified")return a}return i.type==="keypress"?(i=qs(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?pC[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:lc,charCode:function(i){return i.type==="keypress"?qs(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?qs(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),vC=en(xC),bC=h({},Ks,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Gh=en(bC),TC=h({},ro,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:lc}),SC=en(TC),CC=h({},pr,{propertyName:0,elapsedTime:0,pseudoElement:0}),MC=en(CC),wC=h({},Ks,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),AC=en(wC),EC=h({},pr,{newState:0,oldState:0}),DC=en(EC),kC=[9,13,27,32],uc=si&&"CompositionEvent"in window,oo=null;si&&"documentMode"in document&&(oo=document.documentMode);var IC=si&&"TextEvent"in window&&!oo,qh=si&&(!uc||oo&&8<oo&&11>=oo),$h=" ",Yh=!1;function Kh(i,a){switch(i){case"keyup":return kC.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Xh(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var ta=!1;function NC(i,a){switch(i){case"compositionend":return Xh(a);case"keypress":return a.which!==32?null:(Yh=!0,$h);case"textInput":return i=a.data,i===$h&&Yh?null:i;default:return null}}function RC(i,a){if(ta)return i==="compositionend"||!uc&&Kh(i,a)?(i=jh(),Gs=rc=Ei=null,ta=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return qh&&a.locale!=="ko"?null:a.data;default:return null}}var _C={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Wh(i){var a=i&&i.nodeName&&i.nodeName.toLowerCase();return a==="input"?!!_C[i.type]:a==="textarea"}function Qh(i,a,s,c){Zr?ea?ea.push(c):ea=[c]:Zr=c,a=Ll(a,"onChange"),0<a.length&&(s=new Ys("onChange","change",null,s,c),i.push({event:s,listeners:a}))}var so=null,lo=null;function LC(i){Ny(i,0)}function Xs(i){var a=mr(i);if(Rh(a))return i}function Jh(i,a){if(i==="change")return a}var Zh=!1;if(si){var cc;if(si){var fc="oninput"in document;if(!fc){var ep=document.createElement("div");ep.setAttribute("oninput","return;"),fc=typeof ep.oninput=="function"}cc=fc}else cc=!1;Zh=cc&&(!document.documentMode||9<document.documentMode)}function tp(){so&&(so.detachEvent("onpropertychange",np),lo=so=null)}function np(i){if(i.propertyName==="value"&&Xs(lo)){var a=[];Qh(a,lo,i,tc(i)),Oh(LC,a)}}function VC(i,a,s){i==="focusin"?(tp(),so=a,lo=s,so.attachEvent("onpropertychange",np)):i==="focusout"&&tp()}function PC(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return Xs(lo)}function BC(i,a){if(i==="click")return Xs(a)}function FC(i,a){if(i==="input"||i==="change")return Xs(a)}function OC(i,a){return i===a&&(i!==0||1/i===1/a)||i!==i&&a!==a}var cn=typeof Object.is=="function"?Object.is:OC;function uo(i,a){if(cn(i,a))return!0;if(typeof i!="object"||i===null||typeof a!="object"||a===null)return!1;var s=Object.keys(i),c=Object.keys(a);if(s.length!==c.length)return!1;for(c=0;c<s.length;c++){var p=s[c];if(!Ge.call(a,p)||!cn(i[p],a[p]))return!1}return!0}function ip(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function rp(i,a){var s=ip(i);i=0;for(var c;s;){if(s.nodeType===3){if(c=i+s.textContent.length,i<=a&&c>=a)return{node:s,offset:a-i};i=c}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=ip(s)}}function ap(i,a){return i&&a?i===a?!0:i&&i.nodeType===3?!1:a&&a.nodeType===3?ap(i,a.parentNode):"contains"in i?i.contains(a):i.compareDocumentPosition?!!(i.compareDocumentPosition(a)&16):!1:!1}function op(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var a=Hs(i.document);a instanceof i.HTMLIFrameElement;){try{var s=typeof a.contentWindow.location.href=="string"}catch{s=!1}if(s)i=a.contentWindow;else break;a=Hs(i.document)}return a}function dc(i){var a=i&&i.nodeName&&i.nodeName.toLowerCase();return a&&(a==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||a==="textarea"||i.contentEditable==="true")}var jC=si&&"documentMode"in document&&11>=document.documentMode,na=null,mc=null,co=null,hc=!1;function sp(i,a,s){var c=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;hc||na==null||na!==Hs(c)||(c=na,"selectionStart"in c&&dc(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),co&&uo(co,c)||(co=c,c=Ll(mc,"onSelect"),0<c.length&&(a=new Ys("onSelect","select",null,a,s),i.push({event:a,listeners:c}),a.target=na)))}function gr(i,a){var s={};return s[i.toLowerCase()]=a.toLowerCase(),s["Webkit"+i]="webkit"+a,s["Moz"+i]="moz"+a,s}var ia={animationend:gr("Animation","AnimationEnd"),animationiteration:gr("Animation","AnimationIteration"),animationstart:gr("Animation","AnimationStart"),transitionrun:gr("Transition","TransitionRun"),transitionstart:gr("Transition","TransitionStart"),transitioncancel:gr("Transition","TransitionCancel"),transitionend:gr("Transition","TransitionEnd")},pc={},lp={};si&&(lp=document.createElement("div").style,"AnimationEvent"in window||(delete ia.animationend.animation,delete ia.animationiteration.animation,delete ia.animationstart.animation),"TransitionEvent"in window||delete ia.transitionend.transition);function yr(i){if(pc[i])return pc[i];if(!ia[i])return i;var a=ia[i],s;for(s in a)if(a.hasOwnProperty(s)&&s in lp)return pc[i]=a[s];return i}var up=yr("animationend"),cp=yr("animationiteration"),fp=yr("animationstart"),zC=yr("transitionrun"),HC=yr("transitionstart"),UC=yr("transitioncancel"),dp=yr("transitionend"),mp=new Map,gc="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");gc.push("scrollEnd");function Fn(i,a){mp.set(i,a),ai(a,[i])}var hp=new WeakMap;function Cn(i,a){if(typeof i=="object"&&i!==null){var s=hp.get(i);return s!==void 0?s:(a={value:i,source:a,stack:Ih(a)},hp.set(i,a),a)}return{value:i,source:a,stack:Ih(a)}}var Mn=[],ra=0,yc=0;function Ws(){for(var i=ra,a=yc=ra=0;a<i;){var s=Mn[a];Mn[a++]=null;var c=Mn[a];Mn[a++]=null;var p=Mn[a];Mn[a++]=null;var b=Mn[a];if(Mn[a++]=null,c!==null&&p!==null){var M=c.pending;M===null?p.next=p:(p.next=M.next,M.next=p),c.pending=p}b!==0&&pp(s,p,b)}}function Qs(i,a,s,c){Mn[ra++]=i,Mn[ra++]=a,Mn[ra++]=s,Mn[ra++]=c,yc|=c,i.lanes|=c,i=i.alternate,i!==null&&(i.lanes|=c)}function xc(i,a,s,c){return Qs(i,a,s,c),Js(i)}function aa(i,a){return Qs(i,null,null,a),Js(i)}function pp(i,a,s){i.lanes|=s;var c=i.alternate;c!==null&&(c.lanes|=s);for(var p=!1,b=i.return;b!==null;)b.childLanes|=s,c=b.alternate,c!==null&&(c.childLanes|=s),b.tag===22&&(i=b.stateNode,i===null||i._visibility&1||(p=!0)),i=b,b=b.return;return i.tag===3?(b=i.stateNode,p&&a!==null&&(p=31-Ce(s),i=b.hiddenUpdates,c=i[p],c===null?i[p]=[a]:c.push(a),a.lane=s|536870912),b):null}function Js(i){if(50<Po)throw Po=0,wf=null,Error(r(185));for(var a=i.return;a!==null;)i=a,a=i.return;return i.tag===3?i.stateNode:null}var oa={};function GC(i,a,s,c){this.tag=i,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function fn(i,a,s,c){return new GC(i,a,s,c)}function vc(i){return i=i.prototype,!(!i||!i.isReactComponent)}function li(i,a){var s=i.alternate;return s===null?(s=fn(i.tag,a,i.key,i.mode),s.elementType=i.elementType,s.type=i.type,s.stateNode=i.stateNode,s.alternate=i,i.alternate=s):(s.pendingProps=a,s.type=i.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=i.flags&65011712,s.childLanes=i.childLanes,s.lanes=i.lanes,s.child=i.child,s.memoizedProps=i.memoizedProps,s.memoizedState=i.memoizedState,s.updateQueue=i.updateQueue,a=i.dependencies,s.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},s.sibling=i.sibling,s.index=i.index,s.ref=i.ref,s.refCleanup=i.refCleanup,s}function gp(i,a){i.flags&=65011714;var s=i.alternate;return s===null?(i.childLanes=0,i.lanes=a,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=s.childLanes,i.lanes=s.lanes,i.child=s.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=s.memoizedProps,i.memoizedState=s.memoizedState,i.updateQueue=s.updateQueue,i.type=s.type,a=s.dependencies,i.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext}),i}function Zs(i,a,s,c,p,b){var M=0;if(c=i,typeof i=="function")vc(i)&&(M=1);else if(typeof i=="string")M=$M(i,s,ee.current)?26:i==="html"||i==="head"||i==="body"?27:5;else e:switch(i){case ge:return i=fn(31,s,a,p),i.elementType=ge,i.lanes=b,i;case w:return xr(s.children,p,b,a);case A:M=8,p|=24;break;case _:return i=fn(12,s,a,p|2),i.elementType=_,i.lanes=b,i;case U:return i=fn(13,s,a,p),i.elementType=U,i.lanes=b,i;case z:return i=fn(19,s,a,p),i.elementType=z,i.lanes=b,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case k:case I:M=10;break e;case V:M=9;break e;case B:M=11;break e;case ie:M=14;break e;case se:M=16,c=null;break e}M=29,s=Error(r(130,i===null?"null":typeof i,"")),c=null}return a=fn(M,s,a,p),a.elementType=i,a.type=c,a.lanes=b,a}function xr(i,a,s,c){return i=fn(7,i,c,a),i.lanes=s,i}function bc(i,a,s){return i=fn(6,i,null,a),i.lanes=s,i}function Tc(i,a,s){return a=fn(4,i.children!==null?i.children:[],i.key,a),a.lanes=s,a.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},a}var sa=[],la=0,el=null,tl=0,wn=[],An=0,vr=null,ui=1,ci="";function br(i,a){sa[la++]=tl,sa[la++]=el,el=i,tl=a}function yp(i,a,s){wn[An++]=ui,wn[An++]=ci,wn[An++]=vr,vr=i;var c=ui;i=ci;var p=32-Ce(c)-1;c&=~(1<<p),s+=1;var b=32-Ce(a)+p;if(30<b){var M=p-p%5;b=(c&(1<<M)-1).toString(32),c>>=M,p-=M,ui=1<<32-Ce(a)+p|s<<p|c,ci=b+i}else ui=1<<b|s<<p|c,ci=i}function Sc(i){i.return!==null&&(br(i,1),yp(i,1,0))}function Cc(i){for(;i===el;)el=sa[--la],sa[la]=null,tl=sa[--la],sa[la]=null;for(;i===vr;)vr=wn[--An],wn[An]=null,ci=wn[--An],wn[An]=null,ui=wn[--An],wn[An]=null}var Yt=null,ht=null,Qe=!1,Tr=null,qn=!1,Mc=Error(r(519));function Sr(i){var a=Error(r(418,""));throw ho(Cn(a,i)),Mc}function xp(i){var a=i.stateNode,s=i.type,c=i.memoizedProps;switch(a[qe]=i,a[je]=c,s){case"dialog":He("cancel",a),He("close",a);break;case"iframe":case"object":case"embed":He("load",a);break;case"video":case"audio":for(s=0;s<Fo.length;s++)He(Fo[s],a);break;case"source":He("error",a);break;case"img":case"image":case"link":He("error",a),He("load",a);break;case"details":He("toggle",a);break;case"input":He("invalid",a),_h(a,c.value,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name,!0),zs(a);break;case"select":He("invalid",a);break;case"textarea":He("invalid",a),Vh(a,c.value,c.defaultValue,c.children),zs(a)}s=c.children,typeof s!="string"&&typeof s!="number"&&typeof s!="bigint"||a.textContent===""+s||c.suppressHydrationWarning===!0||Vy(a.textContent,s)?(c.popover!=null&&(He("beforetoggle",a),He("toggle",a)),c.onScroll!=null&&He("scroll",a),c.onScrollEnd!=null&&He("scrollend",a),c.onClick!=null&&(a.onclick=Vl),a=!0):a=!1,a||Sr(i)}function vp(i){for(Yt=i.return;Yt;)switch(Yt.tag){case 5:case 13:qn=!1;return;case 27:case 3:qn=!0;return;default:Yt=Yt.return}}function fo(i){if(i!==Yt)return!1;if(!Qe)return vp(i),Qe=!0,!1;var a=i.tag,s;if((s=a!==3&&a!==27)&&((s=a===5)&&(s=i.type,s=!(s!=="form"&&s!=="button")||zf(i.type,i.memoizedProps)),s=!s),s&&ht&&Sr(i),vp(i),a===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(317));e:{for(i=i.nextSibling,a=0;i;){if(i.nodeType===8)if(s=i.data,s==="/$"){if(a===0){ht=jn(i.nextSibling);break e}a--}else s!=="$"&&s!=="$!"&&s!=="$?"||a++;i=i.nextSibling}ht=null}}else a===27?(a=ht,Ui(i.type)?(i=qf,qf=null,ht=i):ht=a):ht=Yt?jn(i.stateNode.nextSibling):null;return!0}function mo(){ht=Yt=null,Qe=!1}function bp(){var i=Tr;return i!==null&&(rn===null?rn=i:rn.push.apply(rn,i),Tr=null),i}function ho(i){Tr===null?Tr=[i]:Tr.push(i)}var wc=P(null),Cr=null,fi=null;function Di(i,a,s){E(wc,a._currentValue),a._currentValue=s}function di(i){i._currentValue=wc.current,G(wc)}function Ac(i,a,s){for(;i!==null;){var c=i.alternate;if((i.childLanes&a)!==a?(i.childLanes|=a,c!==null&&(c.childLanes|=a)):c!==null&&(c.childLanes&a)!==a&&(c.childLanes|=a),i===s)break;i=i.return}}function Ec(i,a,s,c){var p=i.child;for(p!==null&&(p.return=i);p!==null;){var b=p.dependencies;if(b!==null){var M=p.child;b=b.firstContext;e:for(;b!==null;){var D=b;b=p;for(var L=0;L<a.length;L++)if(D.context===a[L]){b.lanes|=s,D=b.alternate,D!==null&&(D.lanes|=s),Ac(b.return,s,i),c||(M=null);break e}b=D.next}}else if(p.tag===18){if(M=p.return,M===null)throw Error(r(341));M.lanes|=s,b=M.alternate,b!==null&&(b.lanes|=s),Ac(M,s,i),M=null}else M=p.child;if(M!==null)M.return=p;else for(M=p;M!==null;){if(M===i){M=null;break}if(p=M.sibling,p!==null){p.return=M.return,M=p;break}M=M.return}p=M}}function po(i,a,s,c){i=null;for(var p=a,b=!1;p!==null;){if(!b){if((p.flags&524288)!==0)b=!0;else if((p.flags&262144)!==0)break}if(p.tag===10){var M=p.alternate;if(M===null)throw Error(r(387));if(M=M.memoizedProps,M!==null){var D=p.type;cn(p.pendingProps.value,M.value)||(i!==null?i.push(D):i=[D])}}else if(p===ye.current){if(M=p.alternate,M===null)throw Error(r(387));M.memoizedState.memoizedState!==p.memoizedState.memoizedState&&(i!==null?i.push(Go):i=[Go])}p=p.return}i!==null&&Ec(a,i,s,c),a.flags|=262144}function nl(i){for(i=i.firstContext;i!==null;){if(!cn(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function Mr(i){Cr=i,fi=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function jt(i){return Tp(Cr,i)}function il(i,a){return Cr===null&&Mr(i),Tp(i,a)}function Tp(i,a){var s=a._currentValue;if(a={context:a,memoizedValue:s,next:null},fi===null){if(i===null)throw Error(r(308));fi=a,i.dependencies={lanes:0,firstContext:a},i.flags|=524288}else fi=fi.next=a;return s}var qC=typeof AbortController<"u"?AbortController:function(){var i=[],a=this.signal={aborted:!1,addEventListener:function(s,c){i.push(c)}};this.abort=function(){a.aborted=!0,i.forEach(function(s){return s()})}},$C=e.unstable_scheduleCallback,YC=e.unstable_NormalPriority,Dt={$$typeof:I,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Dc(){return{controller:new qC,data:new Map,refCount:0}}function go(i){i.refCount--,i.refCount===0&&$C(YC,function(){i.controller.abort()})}var yo=null,kc=0,ua=0,ca=null;function KC(i,a){if(yo===null){var s=yo=[];kc=0,ua=Rf(),ca={status:"pending",value:void 0,then:function(c){s.push(c)}}}return kc++,a.then(Sp,Sp),a}function Sp(){if(--kc===0&&yo!==null){ca!==null&&(ca.status="fulfilled");var i=yo;yo=null,ua=0,ca=null;for(var a=0;a<i.length;a++)(0,i[a])()}}function XC(i,a){var s=[],c={status:"pending",value:null,reason:null,then:function(p){s.push(p)}};return i.then(function(){c.status="fulfilled",c.value=a;for(var p=0;p<s.length;p++)(0,s[p])(a)},function(p){for(c.status="rejected",c.reason=p,p=0;p<s.length;p++)(0,s[p])(void 0)}),c}var Cp=$.S;$.S=function(i,a){typeof a=="object"&&a!==null&&typeof a.then=="function"&&KC(i,a),Cp!==null&&Cp(i,a)};var wr=P(null);function Ic(){var i=wr.current;return i!==null?i:lt.pooledCache}function rl(i,a){a===null?E(wr,wr.current):E(wr,a.pool)}function Mp(){var i=Ic();return i===null?null:{parent:Dt._currentValue,pool:i}}var xo=Error(r(460)),wp=Error(r(474)),al=Error(r(542)),Nc={then:function(){}};function Ap(i){return i=i.status,i==="fulfilled"||i==="rejected"}function ol(){}function Ep(i,a,s){switch(s=i[s],s===void 0?i.push(a):s!==a&&(a.then(ol,ol),a=s),a.status){case"fulfilled":return a.value;case"rejected":throw i=a.reason,kp(i),i;default:if(typeof a.status=="string")a.then(ol,ol);else{if(i=lt,i!==null&&100<i.shellSuspendCounter)throw Error(r(482));i=a,i.status="pending",i.then(function(c){if(a.status==="pending"){var p=a;p.status="fulfilled",p.value=c}},function(c){if(a.status==="pending"){var p=a;p.status="rejected",p.reason=c}})}switch(a.status){case"fulfilled":return a.value;case"rejected":throw i=a.reason,kp(i),i}throw vo=a,xo}}var vo=null;function Dp(){if(vo===null)throw Error(r(459));var i=vo;return vo=null,i}function kp(i){if(i===xo||i===al)throw Error(r(483))}var ki=!1;function Rc(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function _c(i,a){i=i.updateQueue,a.updateQueue===i&&(a.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function Ii(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function Ni(i,a,s){var c=i.updateQueue;if(c===null)return null;if(c=c.shared,(Ze&2)!==0){var p=c.pending;return p===null?a.next=a:(a.next=p.next,p.next=a),c.pending=a,a=Js(i),pp(i,null,s),a}return Qs(i,c,a,s),Js(i)}function bo(i,a,s){if(a=a.updateQueue,a!==null&&(a=a.shared,(s&4194048)!==0)){var c=a.lanes;c&=i.pendingLanes,s|=c,a.lanes=s,Qa(i,s)}}function Lc(i,a){var s=i.updateQueue,c=i.alternate;if(c!==null&&(c=c.updateQueue,s===c)){var p=null,b=null;if(s=s.firstBaseUpdate,s!==null){do{var M={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};b===null?p=b=M:b=b.next=M,s=s.next}while(s!==null);b===null?p=b=a:b=b.next=a}else p=b=a;s={baseState:c.baseState,firstBaseUpdate:p,lastBaseUpdate:b,shared:c.shared,callbacks:c.callbacks},i.updateQueue=s;return}i=s.lastBaseUpdate,i===null?s.firstBaseUpdate=a:i.next=a,s.lastBaseUpdate=a}var Vc=!1;function To(){if(Vc){var i=ca;if(i!==null)throw i}}function So(i,a,s,c){Vc=!1;var p=i.updateQueue;ki=!1;var b=p.firstBaseUpdate,M=p.lastBaseUpdate,D=p.shared.pending;if(D!==null){p.shared.pending=null;var L=D,K=L.next;L.next=null,M===null?b=K:M.next=K,M=L;var re=i.alternate;re!==null&&(re=re.updateQueue,D=re.lastBaseUpdate,D!==M&&(D===null?re.firstBaseUpdate=K:D.next=K,re.lastBaseUpdate=L))}if(b!==null){var oe=p.baseState;M=0,re=K=L=null,D=b;do{var X=D.lane&-536870913,W=X!==D.lane;if(W?($e&X)===X:(c&X)===X){X!==0&&X===ua&&(Vc=!0),re!==null&&(re=re.next={lane:0,tag:D.tag,payload:D.payload,callback:null,next:null});e:{var De=i,Ae=D;X=a;var at=s;switch(Ae.tag){case 1:if(De=Ae.payload,typeof De=="function"){oe=De.call(at,oe,X);break e}oe=De;break e;case 3:De.flags=De.flags&-65537|128;case 0:if(De=Ae.payload,X=typeof De=="function"?De.call(at,oe,X):De,X==null)break e;oe=h({},oe,X);break e;case 2:ki=!0}}X=D.callback,X!==null&&(i.flags|=64,W&&(i.flags|=8192),W=p.callbacks,W===null?p.callbacks=[X]:W.push(X))}else W={lane:X,tag:D.tag,payload:D.payload,callback:D.callback,next:null},re===null?(K=re=W,L=oe):re=re.next=W,M|=X;if(D=D.next,D===null){if(D=p.shared.pending,D===null)break;W=D,D=W.next,W.next=null,p.lastBaseUpdate=W,p.shared.pending=null}}while(!0);re===null&&(L=oe),p.baseState=L,p.firstBaseUpdate=K,p.lastBaseUpdate=re,b===null&&(p.shared.lanes=0),Oi|=M,i.lanes=M,i.memoizedState=oe}}function Ip(i,a){if(typeof i!="function")throw Error(r(191,i));i.call(a)}function Np(i,a){var s=i.callbacks;if(s!==null)for(i.callbacks=null,i=0;i<s.length;i++)Ip(s[i],a)}var fa=P(null),sl=P(0);function Rp(i,a){i=vi,E(sl,i),E(fa,a),vi=i|a.baseLanes}function Pc(){E(sl,vi),E(fa,fa.current)}function Bc(){vi=sl.current,G(fa),G(sl)}var Ri=0,Be=null,it=null,Mt=null,ll=!1,da=!1,Ar=!1,ul=0,Co=0,ma=null,WC=0;function vt(){throw Error(r(321))}function Fc(i,a){if(a===null)return!1;for(var s=0;s<a.length&&s<i.length;s++)if(!cn(i[s],a[s]))return!1;return!0}function Oc(i,a,s,c,p,b){return Ri=b,Be=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,$.H=i===null||i.memoizedState===null?pg:gg,Ar=!1,b=s(c,p),Ar=!1,da&&(b=Lp(a,s,c,p)),_p(i),b}function _p(i){$.H=pl;var a=it!==null&&it.next!==null;if(Ri=0,Mt=it=Be=null,ll=!1,Co=0,ma=null,a)throw Error(r(300));i===null||Nt||(i=i.dependencies,i!==null&&nl(i)&&(Nt=!0))}function Lp(i,a,s,c){Be=i;var p=0;do{if(da&&(ma=null),Co=0,da=!1,25<=p)throw Error(r(301));if(p+=1,Mt=it=null,i.updateQueue!=null){var b=i.updateQueue;b.lastEffect=null,b.events=null,b.stores=null,b.memoCache!=null&&(b.memoCache.index=0)}$.H=iM,b=a(s,c)}while(da);return b}function QC(){var i=$.H,a=i.useState()[0];return a=typeof a.then=="function"?Mo(a):a,i=i.useState()[0],(it!==null?it.memoizedState:null)!==i&&(Be.flags|=1024),a}function jc(){var i=ul!==0;return ul=0,i}function zc(i,a,s){a.updateQueue=i.updateQueue,a.flags&=-2053,i.lanes&=~s}function Hc(i){if(ll){for(i=i.memoizedState;i!==null;){var a=i.queue;a!==null&&(a.pending=null),i=i.next}ll=!1}Ri=0,Mt=it=Be=null,da=!1,Co=ul=0,ma=null}function tn(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Mt===null?Be.memoizedState=Mt=i:Mt=Mt.next=i,Mt}function wt(){if(it===null){var i=Be.alternate;i=i!==null?i.memoizedState:null}else i=it.next;var a=Mt===null?Be.memoizedState:Mt.next;if(a!==null)Mt=a,it=i;else{if(i===null)throw Be.alternate===null?Error(r(467)):Error(r(310));it=i,i={memoizedState:it.memoizedState,baseState:it.baseState,baseQueue:it.baseQueue,queue:it.queue,next:null},Mt===null?Be.memoizedState=Mt=i:Mt=Mt.next=i}return Mt}function Uc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Mo(i){var a=Co;return Co+=1,ma===null&&(ma=[]),i=Ep(ma,i,a),a=Be,(Mt===null?a.memoizedState:Mt.next)===null&&(a=a.alternate,$.H=a===null||a.memoizedState===null?pg:gg),i}function cl(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return Mo(i);if(i.$$typeof===I)return jt(i)}throw Error(r(438,String(i)))}function Gc(i){var a=null,s=Be.updateQueue;if(s!==null&&(a=s.memoCache),a==null){var c=Be.alternate;c!==null&&(c=c.updateQueue,c!==null&&(c=c.memoCache,c!=null&&(a={data:c.data.map(function(p){return p.slice()}),index:0})))}if(a==null&&(a={data:[],index:0}),s===null&&(s=Uc(),Be.updateQueue=s),s.memoCache=a,s=a.data[a.index],s===void 0)for(s=a.data[a.index]=Array(i),c=0;c<i;c++)s[c]=H;return a.index++,s}function mi(i,a){return typeof a=="function"?a(i):a}function fl(i){var a=wt();return qc(a,it,i)}function qc(i,a,s){var c=i.queue;if(c===null)throw Error(r(311));c.lastRenderedReducer=s;var p=i.baseQueue,b=c.pending;if(b!==null){if(p!==null){var M=p.next;p.next=b.next,b.next=M}a.baseQueue=p=b,c.pending=null}if(b=i.baseState,p===null)i.memoizedState=b;else{a=p.next;var D=M=null,L=null,K=a,re=!1;do{var oe=K.lane&-536870913;if(oe!==K.lane?($e&oe)===oe:(Ri&oe)===oe){var X=K.revertLane;if(X===0)L!==null&&(L=L.next={lane:0,revertLane:0,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null}),oe===ua&&(re=!0);else if((Ri&X)===X){K=K.next,X===ua&&(re=!0);continue}else oe={lane:0,revertLane:K.revertLane,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null},L===null?(D=L=oe,M=b):L=L.next=oe,Be.lanes|=X,Oi|=X;oe=K.action,Ar&&s(b,oe),b=K.hasEagerState?K.eagerState:s(b,oe)}else X={lane:oe,revertLane:K.revertLane,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null},L===null?(D=L=X,M=b):L=L.next=X,Be.lanes|=oe,Oi|=oe;K=K.next}while(K!==null&&K!==a);if(L===null?M=b:L.next=D,!cn(b,i.memoizedState)&&(Nt=!0,re&&(s=ca,s!==null)))throw s;i.memoizedState=b,i.baseState=M,i.baseQueue=L,c.lastRenderedState=b}return p===null&&(c.lanes=0),[i.memoizedState,c.dispatch]}function $c(i){var a=wt(),s=a.queue;if(s===null)throw Error(r(311));s.lastRenderedReducer=i;var c=s.dispatch,p=s.pending,b=a.memoizedState;if(p!==null){s.pending=null;var M=p=p.next;do b=i(b,M.action),M=M.next;while(M!==p);cn(b,a.memoizedState)||(Nt=!0),a.memoizedState=b,a.baseQueue===null&&(a.baseState=b),s.lastRenderedState=b}return[b,c]}function Vp(i,a,s){var c=Be,p=wt(),b=Qe;if(b){if(s===void 0)throw Error(r(407));s=s()}else s=a();var M=!cn((it||p).memoizedState,s);M&&(p.memoizedState=s,Nt=!0),p=p.queue;var D=Fp.bind(null,c,p,i);if(wo(2048,8,D,[i]),p.getSnapshot!==a||M||Mt!==null&&Mt.memoizedState.tag&1){if(c.flags|=2048,ha(9,dl(),Bp.bind(null,c,p,s,a),null),lt===null)throw Error(r(349));b||(Ri&124)!==0||Pp(c,a,s)}return s}function Pp(i,a,s){i.flags|=16384,i={getSnapshot:a,value:s},a=Be.updateQueue,a===null?(a=Uc(),Be.updateQueue=a,a.stores=[i]):(s=a.stores,s===null?a.stores=[i]:s.push(i))}function Bp(i,a,s,c){a.value=s,a.getSnapshot=c,Op(a)&&jp(i)}function Fp(i,a,s){return s(function(){Op(a)&&jp(i)})}function Op(i){var a=i.getSnapshot;i=i.value;try{var s=a();return!cn(i,s)}catch{return!0}}function jp(i){var a=aa(i,2);a!==null&&gn(a,i,2)}function Yc(i){var a=tn();if(typeof i=="function"){var s=i;if(i=s(),Ar){Se(!0);try{s()}finally{Se(!1)}}}return a.memoizedState=a.baseState=i,a.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:mi,lastRenderedState:i},a}function zp(i,a,s,c){return i.baseState=s,qc(i,it,typeof c=="function"?c:mi)}function JC(i,a,s,c,p){if(hl(i))throw Error(r(485));if(i=a.action,i!==null){var b={payload:p,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(M){b.listeners.push(M)}};$.T!==null?s(!0):b.isTransition=!1,c(b),s=a.pending,s===null?(b.next=a.pending=b,Hp(a,b)):(b.next=s.next,a.pending=s.next=b)}}function Hp(i,a){var s=a.action,c=a.payload,p=i.state;if(a.isTransition){var b=$.T,M={};$.T=M;try{var D=s(p,c),L=$.S;L!==null&&L(M,D),Up(i,a,D)}catch(K){Kc(i,a,K)}finally{$.T=b}}else try{b=s(p,c),Up(i,a,b)}catch(K){Kc(i,a,K)}}function Up(i,a,s){s!==null&&typeof s=="object"&&typeof s.then=="function"?s.then(function(c){Gp(i,a,c)},function(c){return Kc(i,a,c)}):Gp(i,a,s)}function Gp(i,a,s){a.status="fulfilled",a.value=s,qp(a),i.state=s,a=i.pending,a!==null&&(s=a.next,s===a?i.pending=null:(s=s.next,a.next=s,Hp(i,s)))}function Kc(i,a,s){var c=i.pending;if(i.pending=null,c!==null){c=c.next;do a.status="rejected",a.reason=s,qp(a),a=a.next;while(a!==c)}i.action=null}function qp(i){i=i.listeners;for(var a=0;a<i.length;a++)(0,i[a])()}function $p(i,a){return a}function Yp(i,a){if(Qe){var s=lt.formState;if(s!==null){e:{var c=Be;if(Qe){if(ht){t:{for(var p=ht,b=qn;p.nodeType!==8;){if(!b){p=null;break t}if(p=jn(p.nextSibling),p===null){p=null;break t}}b=p.data,p=b==="F!"||b==="F"?p:null}if(p){ht=jn(p.nextSibling),c=p.data==="F!";break e}}Sr(c)}c=!1}c&&(a=s[0])}}return s=tn(),s.memoizedState=s.baseState=a,c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:$p,lastRenderedState:a},s.queue=c,s=dg.bind(null,Be,c),c.dispatch=s,c=Yc(!1),b=Zc.bind(null,Be,!1,c.queue),c=tn(),p={state:a,dispatch:null,action:i,pending:null},c.queue=p,s=JC.bind(null,Be,p,b,s),p.dispatch=s,c.memoizedState=i,[a,s,!1]}function Kp(i){var a=wt();return Xp(a,it,i)}function Xp(i,a,s){if(a=qc(i,a,$p)[0],i=fl(mi)[0],typeof a=="object"&&a!==null&&typeof a.then=="function")try{var c=Mo(a)}catch(M){throw M===xo?al:M}else c=a;a=wt();var p=a.queue,b=p.dispatch;return s!==a.memoizedState&&(Be.flags|=2048,ha(9,dl(),ZC.bind(null,p,s),null)),[c,b,i]}function ZC(i,a){i.action=a}function Wp(i){var a=wt(),s=it;if(s!==null)return Xp(a,s,i);wt(),a=a.memoizedState,s=wt();var c=s.queue.dispatch;return s.memoizedState=i,[a,c,!1]}function ha(i,a,s,c){return i={tag:i,create:s,deps:c,inst:a,next:null},a=Be.updateQueue,a===null&&(a=Uc(),Be.updateQueue=a),s=a.lastEffect,s===null?a.lastEffect=i.next=i:(c=s.next,s.next=i,i.next=c,a.lastEffect=i),i}function dl(){return{destroy:void 0,resource:void 0}}function Qp(){return wt().memoizedState}function ml(i,a,s,c){var p=tn();c=c===void 0?null:c,Be.flags|=i,p.memoizedState=ha(1|a,dl(),s,c)}function wo(i,a,s,c){var p=wt();c=c===void 0?null:c;var b=p.memoizedState.inst;it!==null&&c!==null&&Fc(c,it.memoizedState.deps)?p.memoizedState=ha(a,b,s,c):(Be.flags|=i,p.memoizedState=ha(1|a,b,s,c))}function Jp(i,a){ml(8390656,8,i,a)}function Zp(i,a){wo(2048,8,i,a)}function eg(i,a){return wo(4,2,i,a)}function tg(i,a){return wo(4,4,i,a)}function ng(i,a){if(typeof a=="function"){i=i();var s=a(i);return function(){typeof s=="function"?s():a(null)}}if(a!=null)return i=i(),a.current=i,function(){a.current=null}}function ig(i,a,s){s=s!=null?s.concat([i]):null,wo(4,4,ng.bind(null,a,i),s)}function Xc(){}function rg(i,a){var s=wt();a=a===void 0?null:a;var c=s.memoizedState;return a!==null&&Fc(a,c[1])?c[0]:(s.memoizedState=[i,a],i)}function ag(i,a){var s=wt();a=a===void 0?null:a;var c=s.memoizedState;if(a!==null&&Fc(a,c[1]))return c[0];if(c=i(),Ar){Se(!0);try{i()}finally{Se(!1)}}return s.memoizedState=[c,a],c}function Wc(i,a,s){return s===void 0||(Ri&1073741824)!==0?i.memoizedState=a:(i.memoizedState=s,i=ly(),Be.lanes|=i,Oi|=i,s)}function og(i,a,s,c){return cn(s,a)?s:fa.current!==null?(i=Wc(i,s,c),cn(i,a)||(Nt=!0),i):(Ri&42)===0?(Nt=!0,i.memoizedState=s):(i=ly(),Be.lanes|=i,Oi|=i,a)}function sg(i,a,s,c,p){var b=F.p;F.p=b!==0&&8>b?b:8;var M=$.T,D={};$.T=D,Zc(i,!1,a,s);try{var L=p(),K=$.S;if(K!==null&&K(D,L),L!==null&&typeof L=="object"&&typeof L.then=="function"){var re=XC(L,c);Ao(i,a,re,pn(i))}else Ao(i,a,c,pn(i))}catch(oe){Ao(i,a,{then:function(){},status:"rejected",reason:oe},pn())}finally{F.p=b,$.T=M}}function eM(){}function Qc(i,a,s,c){if(i.tag!==5)throw Error(r(476));var p=lg(i).queue;sg(i,p,a,N,s===null?eM:function(){return ug(i),s(c)})}function lg(i){var a=i.memoizedState;if(a!==null)return a;a={memoizedState:N,baseState:N,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:mi,lastRenderedState:N},next:null};var s={};return a.next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:mi,lastRenderedState:s},next:null},i.memoizedState=a,i=i.alternate,i!==null&&(i.memoizedState=a),a}function ug(i){var a=lg(i).next.queue;Ao(i,a,{},pn())}function Jc(){return jt(Go)}function cg(){return wt().memoizedState}function fg(){return wt().memoizedState}function tM(i){for(var a=i.return;a!==null;){switch(a.tag){case 24:case 3:var s=pn();i=Ii(s);var c=Ni(a,i,s);c!==null&&(gn(c,a,s),bo(c,a,s)),a={cache:Dc()},i.payload=a;return}a=a.return}}function nM(i,a,s){var c=pn();s={lane:c,revertLane:0,action:s,hasEagerState:!1,eagerState:null,next:null},hl(i)?mg(a,s):(s=xc(i,a,s,c),s!==null&&(gn(s,i,c),hg(s,a,c)))}function dg(i,a,s){var c=pn();Ao(i,a,s,c)}function Ao(i,a,s,c){var p={lane:c,revertLane:0,action:s,hasEagerState:!1,eagerState:null,next:null};if(hl(i))mg(a,p);else{var b=i.alternate;if(i.lanes===0&&(b===null||b.lanes===0)&&(b=a.lastRenderedReducer,b!==null))try{var M=a.lastRenderedState,D=b(M,s);if(p.hasEagerState=!0,p.eagerState=D,cn(D,M))return Qs(i,a,p,0),lt===null&&Ws(),!1}catch{}finally{}if(s=xc(i,a,p,c),s!==null)return gn(s,i,c),hg(s,a,c),!0}return!1}function Zc(i,a,s,c){if(c={lane:2,revertLane:Rf(),action:c,hasEagerState:!1,eagerState:null,next:null},hl(i)){if(a)throw Error(r(479))}else a=xc(i,s,c,2),a!==null&&gn(a,i,2)}function hl(i){var a=i.alternate;return i===Be||a!==null&&a===Be}function mg(i,a){da=ll=!0;var s=i.pending;s===null?a.next=a:(a.next=s.next,s.next=a),i.pending=a}function hg(i,a,s){if((s&4194048)!==0){var c=a.lanes;c&=i.pendingLanes,s|=c,a.lanes=s,Qa(i,s)}}var pl={readContext:jt,use:cl,useCallback:vt,useContext:vt,useEffect:vt,useImperativeHandle:vt,useLayoutEffect:vt,useInsertionEffect:vt,useMemo:vt,useReducer:vt,useRef:vt,useState:vt,useDebugValue:vt,useDeferredValue:vt,useTransition:vt,useSyncExternalStore:vt,useId:vt,useHostTransitionStatus:vt,useFormState:vt,useActionState:vt,useOptimistic:vt,useMemoCache:vt,useCacheRefresh:vt},pg={readContext:jt,use:cl,useCallback:function(i,a){return tn().memoizedState=[i,a===void 0?null:a],i},useContext:jt,useEffect:Jp,useImperativeHandle:function(i,a,s){s=s!=null?s.concat([i]):null,ml(4194308,4,ng.bind(null,a,i),s)},useLayoutEffect:function(i,a){return ml(4194308,4,i,a)},useInsertionEffect:function(i,a){ml(4,2,i,a)},useMemo:function(i,a){var s=tn();a=a===void 0?null:a;var c=i();if(Ar){Se(!0);try{i()}finally{Se(!1)}}return s.memoizedState=[c,a],c},useReducer:function(i,a,s){var c=tn();if(s!==void 0){var p=s(a);if(Ar){Se(!0);try{s(a)}finally{Se(!1)}}}else p=a;return c.memoizedState=c.baseState=p,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:p},c.queue=i,i=i.dispatch=nM.bind(null,Be,i),[c.memoizedState,i]},useRef:function(i){var a=tn();return i={current:i},a.memoizedState=i},useState:function(i){i=Yc(i);var a=i.queue,s=dg.bind(null,Be,a);return a.dispatch=s,[i.memoizedState,s]},useDebugValue:Xc,useDeferredValue:function(i,a){var s=tn();return Wc(s,i,a)},useTransition:function(){var i=Yc(!1);return i=sg.bind(null,Be,i.queue,!0,!1),tn().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,a,s){var c=Be,p=tn();if(Qe){if(s===void 0)throw Error(r(407));s=s()}else{if(s=a(),lt===null)throw Error(r(349));($e&124)!==0||Pp(c,a,s)}p.memoizedState=s;var b={value:s,getSnapshot:a};return p.queue=b,Jp(Fp.bind(null,c,b,i),[i]),c.flags|=2048,ha(9,dl(),Bp.bind(null,c,b,s,a),null),s},useId:function(){var i=tn(),a=lt.identifierPrefix;if(Qe){var s=ci,c=ui;s=(c&~(1<<32-Ce(c)-1)).toString(32)+s,a=""+a+"R"+s,s=ul++,0<s&&(a+="H"+s.toString(32)),a+=""}else s=WC++,a=""+a+"r"+s.toString(32)+"";return i.memoizedState=a},useHostTransitionStatus:Jc,useFormState:Yp,useActionState:Yp,useOptimistic:function(i){var a=tn();a.memoizedState=a.baseState=i;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return a.queue=s,a=Zc.bind(null,Be,!0,s),s.dispatch=a,[i,a]},useMemoCache:Gc,useCacheRefresh:function(){return tn().memoizedState=tM.bind(null,Be)}},gg={readContext:jt,use:cl,useCallback:rg,useContext:jt,useEffect:Zp,useImperativeHandle:ig,useInsertionEffect:eg,useLayoutEffect:tg,useMemo:ag,useReducer:fl,useRef:Qp,useState:function(){return fl(mi)},useDebugValue:Xc,useDeferredValue:function(i,a){var s=wt();return og(s,it.memoizedState,i,a)},useTransition:function(){var i=fl(mi)[0],a=wt().memoizedState;return[typeof i=="boolean"?i:Mo(i),a]},useSyncExternalStore:Vp,useId:cg,useHostTransitionStatus:Jc,useFormState:Kp,useActionState:Kp,useOptimistic:function(i,a){var s=wt();return zp(s,it,i,a)},useMemoCache:Gc,useCacheRefresh:fg},iM={readContext:jt,use:cl,useCallback:rg,useContext:jt,useEffect:Zp,useImperativeHandle:ig,useInsertionEffect:eg,useLayoutEffect:tg,useMemo:ag,useReducer:$c,useRef:Qp,useState:function(){return $c(mi)},useDebugValue:Xc,useDeferredValue:function(i,a){var s=wt();return it===null?Wc(s,i,a):og(s,it.memoizedState,i,a)},useTransition:function(){var i=$c(mi)[0],a=wt().memoizedState;return[typeof i=="boolean"?i:Mo(i),a]},useSyncExternalStore:Vp,useId:cg,useHostTransitionStatus:Jc,useFormState:Wp,useActionState:Wp,useOptimistic:function(i,a){var s=wt();return it!==null?zp(s,it,i,a):(s.baseState=i,[i,s.queue.dispatch])},useMemoCache:Gc,useCacheRefresh:fg},pa=null,Eo=0;function gl(i){var a=Eo;return Eo+=1,pa===null&&(pa=[]),Ep(pa,i,a)}function Do(i,a){a=a.props.ref,i.ref=a!==void 0?a:null}function yl(i,a){throw a.$$typeof===y?Error(r(525)):(i=Object.prototype.toString.call(a),Error(r(31,i==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":i)))}function yg(i){var a=i._init;return a(i._payload)}function xg(i){function a(q,j){if(i){var Y=q.deletions;Y===null?(q.deletions=[j],q.flags|=16):Y.push(j)}}function s(q,j){if(!i)return null;for(;j!==null;)a(q,j),j=j.sibling;return null}function c(q){for(var j=new Map;q!==null;)q.key!==null?j.set(q.key,q):j.set(q.index,q),q=q.sibling;return j}function p(q,j){return q=li(q,j),q.index=0,q.sibling=null,q}function b(q,j,Y){return q.index=Y,i?(Y=q.alternate,Y!==null?(Y=Y.index,Y<j?(q.flags|=67108866,j):Y):(q.flags|=67108866,j)):(q.flags|=1048576,j)}function M(q){return i&&q.alternate===null&&(q.flags|=67108866),q}function D(q,j,Y,ae){return j===null||j.tag!==6?(j=bc(Y,q.mode,ae),j.return=q,j):(j=p(j,Y),j.return=q,j)}function L(q,j,Y,ae){var ve=Y.type;return ve===w?re(q,j,Y.props.children,ae,Y.key):j!==null&&(j.elementType===ve||typeof ve=="object"&&ve!==null&&ve.$$typeof===se&&yg(ve)===j.type)?(j=p(j,Y.props),Do(j,Y),j.return=q,j):(j=Zs(Y.type,Y.key,Y.props,null,q.mode,ae),Do(j,Y),j.return=q,j)}function K(q,j,Y,ae){return j===null||j.tag!==4||j.stateNode.containerInfo!==Y.containerInfo||j.stateNode.implementation!==Y.implementation?(j=Tc(Y,q.mode,ae),j.return=q,j):(j=p(j,Y.children||[]),j.return=q,j)}function re(q,j,Y,ae,ve){return j===null||j.tag!==7?(j=xr(Y,q.mode,ae,ve),j.return=q,j):(j=p(j,Y),j.return=q,j)}function oe(q,j,Y){if(typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint")return j=bc(""+j,q.mode,Y),j.return=q,j;if(typeof j=="object"&&j!==null){switch(j.$$typeof){case T:return Y=Zs(j.type,j.key,j.props,null,q.mode,Y),Do(Y,j),Y.return=q,Y;case S:return j=Tc(j,q.mode,Y),j.return=q,j;case se:var ae=j._init;return j=ae(j._payload),oe(q,j,Y)}if(Z(j)||fe(j))return j=xr(j,q.mode,Y,null),j.return=q,j;if(typeof j.then=="function")return oe(q,gl(j),Y);if(j.$$typeof===I)return oe(q,il(q,j),Y);yl(q,j)}return null}function X(q,j,Y,ae){var ve=j!==null?j.key:null;if(typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint")return ve!==null?null:D(q,j,""+Y,ae);if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case T:return Y.key===ve?L(q,j,Y,ae):null;case S:return Y.key===ve?K(q,j,Y,ae):null;case se:return ve=Y._init,Y=ve(Y._payload),X(q,j,Y,ae)}if(Z(Y)||fe(Y))return ve!==null?null:re(q,j,Y,ae,null);if(typeof Y.then=="function")return X(q,j,gl(Y),ae);if(Y.$$typeof===I)return X(q,j,il(q,Y),ae);yl(q,Y)}return null}function W(q,j,Y,ae,ve){if(typeof ae=="string"&&ae!==""||typeof ae=="number"||typeof ae=="bigint")return q=q.get(Y)||null,D(j,q,""+ae,ve);if(typeof ae=="object"&&ae!==null){switch(ae.$$typeof){case T:return q=q.get(ae.key===null?Y:ae.key)||null,L(j,q,ae,ve);case S:return q=q.get(ae.key===null?Y:ae.key)||null,K(j,q,ae,ve);case se:var Oe=ae._init;return ae=Oe(ae._payload),W(q,j,Y,ae,ve)}if(Z(ae)||fe(ae))return q=q.get(Y)||null,re(j,q,ae,ve,null);if(typeof ae.then=="function")return W(q,j,Y,gl(ae),ve);if(ae.$$typeof===I)return W(q,j,Y,il(j,ae),ve);yl(j,ae)}return null}function De(q,j,Y,ae){for(var ve=null,Oe=null,Te=j,Ee=j=0,_t=null;Te!==null&&Ee<Y.length;Ee++){Te.index>Ee?(_t=Te,Te=null):_t=Te.sibling;var Ke=X(q,Te,Y[Ee],ae);if(Ke===null){Te===null&&(Te=_t);break}i&&Te&&Ke.alternate===null&&a(q,Te),j=b(Ke,j,Ee),Oe===null?ve=Ke:Oe.sibling=Ke,Oe=Ke,Te=_t}if(Ee===Y.length)return s(q,Te),Qe&&br(q,Ee),ve;if(Te===null){for(;Ee<Y.length;Ee++)Te=oe(q,Y[Ee],ae),Te!==null&&(j=b(Te,j,Ee),Oe===null?ve=Te:Oe.sibling=Te,Oe=Te);return Qe&&br(q,Ee),ve}for(Te=c(Te);Ee<Y.length;Ee++)_t=W(Te,q,Ee,Y[Ee],ae),_t!==null&&(i&&_t.alternate!==null&&Te.delete(_t.key===null?Ee:_t.key),j=b(_t,j,Ee),Oe===null?ve=_t:Oe.sibling=_t,Oe=_t);return i&&Te.forEach(function(Ki){return a(q,Ki)}),Qe&&br(q,Ee),ve}function Ae(q,j,Y,ae){if(Y==null)throw Error(r(151));for(var ve=null,Oe=null,Te=j,Ee=j=0,_t=null,Ke=Y.next();Te!==null&&!Ke.done;Ee++,Ke=Y.next()){Te.index>Ee?(_t=Te,Te=null):_t=Te.sibling;var Ki=X(q,Te,Ke.value,ae);if(Ki===null){Te===null&&(Te=_t);break}i&&Te&&Ki.alternate===null&&a(q,Te),j=b(Ki,j,Ee),Oe===null?ve=Ki:Oe.sibling=Ki,Oe=Ki,Te=_t}if(Ke.done)return s(q,Te),Qe&&br(q,Ee),ve;if(Te===null){for(;!Ke.done;Ee++,Ke=Y.next())Ke=oe(q,Ke.value,ae),Ke!==null&&(j=b(Ke,j,Ee),Oe===null?ve=Ke:Oe.sibling=Ke,Oe=Ke);return Qe&&br(q,Ee),ve}for(Te=c(Te);!Ke.done;Ee++,Ke=Y.next())Ke=W(Te,q,Ee,Ke.value,ae),Ke!==null&&(i&&Ke.alternate!==null&&Te.delete(Ke.key===null?Ee:Ke.key),j=b(Ke,j,Ee),Oe===null?ve=Ke:Oe.sibling=Ke,Oe=Ke);return i&&Te.forEach(function(rw){return a(q,rw)}),Qe&&br(q,Ee),ve}function at(q,j,Y,ae){if(typeof Y=="object"&&Y!==null&&Y.type===w&&Y.key===null&&(Y=Y.props.children),typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case T:e:{for(var ve=Y.key;j!==null;){if(j.key===ve){if(ve=Y.type,ve===w){if(j.tag===7){s(q,j.sibling),ae=p(j,Y.props.children),ae.return=q,q=ae;break e}}else if(j.elementType===ve||typeof ve=="object"&&ve!==null&&ve.$$typeof===se&&yg(ve)===j.type){s(q,j.sibling),ae=p(j,Y.props),Do(ae,Y),ae.return=q,q=ae;break e}s(q,j);break}else a(q,j);j=j.sibling}Y.type===w?(ae=xr(Y.props.children,q.mode,ae,Y.key),ae.return=q,q=ae):(ae=Zs(Y.type,Y.key,Y.props,null,q.mode,ae),Do(ae,Y),ae.return=q,q=ae)}return M(q);case S:e:{for(ve=Y.key;j!==null;){if(j.key===ve)if(j.tag===4&&j.stateNode.containerInfo===Y.containerInfo&&j.stateNode.implementation===Y.implementation){s(q,j.sibling),ae=p(j,Y.children||[]),ae.return=q,q=ae;break e}else{s(q,j);break}else a(q,j);j=j.sibling}ae=Tc(Y,q.mode,ae),ae.return=q,q=ae}return M(q);case se:return ve=Y._init,Y=ve(Y._payload),at(q,j,Y,ae)}if(Z(Y))return De(q,j,Y,ae);if(fe(Y)){if(ve=fe(Y),typeof ve!="function")throw Error(r(150));return Y=ve.call(Y),Ae(q,j,Y,ae)}if(typeof Y.then=="function")return at(q,j,gl(Y),ae);if(Y.$$typeof===I)return at(q,j,il(q,Y),ae);yl(q,Y)}return typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint"?(Y=""+Y,j!==null&&j.tag===6?(s(q,j.sibling),ae=p(j,Y),ae.return=q,q=ae):(s(q,j),ae=bc(Y,q.mode,ae),ae.return=q,q=ae),M(q)):s(q,j)}return function(q,j,Y,ae){try{Eo=0;var ve=at(q,j,Y,ae);return pa=null,ve}catch(Te){if(Te===xo||Te===al)throw Te;var Oe=fn(29,Te,null,q.mode);return Oe.lanes=ae,Oe.return=q,Oe}finally{}}}var ga=xg(!0),vg=xg(!1),En=P(null),$n=null;function _i(i){var a=i.alternate;E(kt,kt.current&1),E(En,i),$n===null&&(a===null||fa.current!==null||a.memoizedState!==null)&&($n=i)}function bg(i){if(i.tag===22){if(E(kt,kt.current),E(En,i),$n===null){var a=i.alternate;a!==null&&a.memoizedState!==null&&($n=i)}}else Li()}function Li(){E(kt,kt.current),E(En,En.current)}function hi(i){G(En),$n===i&&($n=null),G(kt)}var kt=P(0);function xl(i){for(var a=i;a!==null;){if(a.tag===13){var s=a.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||s.data==="$?"||Gf(s)))return a}else if(a.tag===19&&a.memoizedProps.revealOrder!==void 0){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===i)break;for(;a.sibling===null;){if(a.return===null||a.return===i)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}function ef(i,a,s,c){a=i.memoizedState,s=s(c,a),s=s==null?a:h({},a,s),i.memoizedState=s,i.lanes===0&&(i.updateQueue.baseState=s)}var tf={enqueueSetState:function(i,a,s){i=i._reactInternals;var c=pn(),p=Ii(c);p.payload=a,s!=null&&(p.callback=s),a=Ni(i,p,c),a!==null&&(gn(a,i,c),bo(a,i,c))},enqueueReplaceState:function(i,a,s){i=i._reactInternals;var c=pn(),p=Ii(c);p.tag=1,p.payload=a,s!=null&&(p.callback=s),a=Ni(i,p,c),a!==null&&(gn(a,i,c),bo(a,i,c))},enqueueForceUpdate:function(i,a){i=i._reactInternals;var s=pn(),c=Ii(s);c.tag=2,a!=null&&(c.callback=a),a=Ni(i,c,s),a!==null&&(gn(a,i,s),bo(a,i,s))}};function Tg(i,a,s,c,p,b,M){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(c,b,M):a.prototype&&a.prototype.isPureReactComponent?!uo(s,c)||!uo(p,b):!0}function Sg(i,a,s,c){i=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(s,c),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(s,c),a.state!==i&&tf.enqueueReplaceState(a,a.state,null)}function Er(i,a){var s=a;if("ref"in a){s={};for(var c in a)c!=="ref"&&(s[c]=a[c])}if(i=i.defaultProps){s===a&&(s=h({},s));for(var p in i)s[p]===void 0&&(s[p]=i[p])}return s}var vl=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var a=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(a))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)};function Cg(i){vl(i)}function Mg(i){console.error(i)}function wg(i){vl(i)}function bl(i,a){try{var s=i.onUncaughtError;s(a.value,{componentStack:a.stack})}catch(c){setTimeout(function(){throw c})}}function Ag(i,a,s){try{var c=i.onCaughtError;c(s.value,{componentStack:s.stack,errorBoundary:a.tag===1?a.stateNode:null})}catch(p){setTimeout(function(){throw p})}}function nf(i,a,s){return s=Ii(s),s.tag=3,s.payload={element:null},s.callback=function(){bl(i,a)},s}function Eg(i){return i=Ii(i),i.tag=3,i}function Dg(i,a,s,c){var p=s.type.getDerivedStateFromError;if(typeof p=="function"){var b=c.value;i.payload=function(){return p(b)},i.callback=function(){Ag(a,s,c)}}var M=s.stateNode;M!==null&&typeof M.componentDidCatch=="function"&&(i.callback=function(){Ag(a,s,c),typeof p!="function"&&(ji===null?ji=new Set([this]):ji.add(this));var D=c.stack;this.componentDidCatch(c.value,{componentStack:D!==null?D:""})})}function rM(i,a,s,c,p){if(s.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){if(a=s.alternate,a!==null&&po(a,s,p,!0),s=En.current,s!==null){switch(s.tag){case 13:return $n===null?Ef():s.alternate===null&&pt===0&&(pt=3),s.flags&=-257,s.flags|=65536,s.lanes=p,c===Nc?s.flags|=16384:(a=s.updateQueue,a===null?s.updateQueue=new Set([c]):a.add(c),kf(i,c,p)),!1;case 22:return s.flags|=65536,c===Nc?s.flags|=16384:(a=s.updateQueue,a===null?(a={transitions:null,markerInstances:null,retryQueue:new Set([c])},s.updateQueue=a):(s=a.retryQueue,s===null?a.retryQueue=new Set([c]):s.add(c)),kf(i,c,p)),!1}throw Error(r(435,s.tag))}return kf(i,c,p),Ef(),!1}if(Qe)return a=En.current,a!==null?((a.flags&65536)===0&&(a.flags|=256),a.flags|=65536,a.lanes=p,c!==Mc&&(i=Error(r(422),{cause:c}),ho(Cn(i,s)))):(c!==Mc&&(a=Error(r(423),{cause:c}),ho(Cn(a,s))),i=i.current.alternate,i.flags|=65536,p&=-p,i.lanes|=p,c=Cn(c,s),p=nf(i.stateNode,c,p),Lc(i,p),pt!==4&&(pt=2)),!1;var b=Error(r(520),{cause:c});if(b=Cn(b,s),Vo===null?Vo=[b]:Vo.push(b),pt!==4&&(pt=2),a===null)return!0;c=Cn(c,s),s=a;do{switch(s.tag){case 3:return s.flags|=65536,i=p&-p,s.lanes|=i,i=nf(s.stateNode,c,i),Lc(s,i),!1;case 1:if(a=s.type,b=s.stateNode,(s.flags&128)===0&&(typeof a.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(ji===null||!ji.has(b))))return s.flags|=65536,p&=-p,s.lanes|=p,p=Eg(p),Dg(p,i,s,c),Lc(s,p),!1}s=s.return}while(s!==null);return!1}var kg=Error(r(461)),Nt=!1;function Lt(i,a,s,c){a.child=i===null?vg(a,null,s,c):ga(a,i.child,s,c)}function Ig(i,a,s,c,p){s=s.render;var b=a.ref;if("ref"in c){var M={};for(var D in c)D!=="ref"&&(M[D]=c[D])}else M=c;return Mr(a),c=Oc(i,a,s,M,b,p),D=jc(),i!==null&&!Nt?(zc(i,a,p),pi(i,a,p)):(Qe&&D&&Sc(a),a.flags|=1,Lt(i,a,c,p),a.child)}function Ng(i,a,s,c,p){if(i===null){var b=s.type;return typeof b=="function"&&!vc(b)&&b.defaultProps===void 0&&s.compare===null?(a.tag=15,a.type=b,Rg(i,a,b,c,p)):(i=Zs(s.type,null,c,a,a.mode,p),i.ref=a.ref,i.return=a,a.child=i)}if(b=i.child,!ff(i,p)){var M=b.memoizedProps;if(s=s.compare,s=s!==null?s:uo,s(M,c)&&i.ref===a.ref)return pi(i,a,p)}return a.flags|=1,i=li(b,c),i.ref=a.ref,i.return=a,a.child=i}function Rg(i,a,s,c,p){if(i!==null){var b=i.memoizedProps;if(uo(b,c)&&i.ref===a.ref)if(Nt=!1,a.pendingProps=c=b,ff(i,p))(i.flags&131072)!==0&&(Nt=!0);else return a.lanes=i.lanes,pi(i,a,p)}return rf(i,a,s,c,p)}function _g(i,a,s){var c=a.pendingProps,p=c.children,b=i!==null?i.memoizedState:null;if(c.mode==="hidden"){if((a.flags&128)!==0){if(c=b!==null?b.baseLanes|s:s,i!==null){for(p=a.child=i.child,b=0;p!==null;)b=b|p.lanes|p.childLanes,p=p.sibling;a.childLanes=b&~c}else a.childLanes=0,a.child=null;return Lg(i,a,c,s)}if((s&536870912)!==0)a.memoizedState={baseLanes:0,cachePool:null},i!==null&&rl(a,b!==null?b.cachePool:null),b!==null?Rp(a,b):Pc(),bg(a);else return a.lanes=a.childLanes=536870912,Lg(i,a,b!==null?b.baseLanes|s:s,s)}else b!==null?(rl(a,b.cachePool),Rp(a,b),Li(),a.memoizedState=null):(i!==null&&rl(a,null),Pc(),Li());return Lt(i,a,p,s),a.child}function Lg(i,a,s,c){var p=Ic();return p=p===null?null:{parent:Dt._currentValue,pool:p},a.memoizedState={baseLanes:s,cachePool:p},i!==null&&rl(a,null),Pc(),bg(a),i!==null&&po(i,a,c,!0),null}function Tl(i,a){var s=a.ref;if(s===null)i!==null&&i.ref!==null&&(a.flags|=4194816);else{if(typeof s!="function"&&typeof s!="object")throw Error(r(284));(i===null||i.ref!==s)&&(a.flags|=4194816)}}function rf(i,a,s,c,p){return Mr(a),s=Oc(i,a,s,c,void 0,p),c=jc(),i!==null&&!Nt?(zc(i,a,p),pi(i,a,p)):(Qe&&c&&Sc(a),a.flags|=1,Lt(i,a,s,p),a.child)}function Vg(i,a,s,c,p,b){return Mr(a),a.updateQueue=null,s=Lp(a,c,s,p),_p(i),c=jc(),i!==null&&!Nt?(zc(i,a,b),pi(i,a,b)):(Qe&&c&&Sc(a),a.flags|=1,Lt(i,a,s,b),a.child)}function Pg(i,a,s,c,p){if(Mr(a),a.stateNode===null){var b=oa,M=s.contextType;typeof M=="object"&&M!==null&&(b=jt(M)),b=new s(c,b),a.memoizedState=b.state!==null&&b.state!==void 0?b.state:null,b.updater=tf,a.stateNode=b,b._reactInternals=a,b=a.stateNode,b.props=c,b.state=a.memoizedState,b.refs={},Rc(a),M=s.contextType,b.context=typeof M=="object"&&M!==null?jt(M):oa,b.state=a.memoizedState,M=s.getDerivedStateFromProps,typeof M=="function"&&(ef(a,s,M,c),b.state=a.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof b.getSnapshotBeforeUpdate=="function"||typeof b.UNSAFE_componentWillMount!="function"&&typeof b.componentWillMount!="function"||(M=b.state,typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount(),M!==b.state&&tf.enqueueReplaceState(b,b.state,null),So(a,c,b,p),To(),b.state=a.memoizedState),typeof b.componentDidMount=="function"&&(a.flags|=4194308),c=!0}else if(i===null){b=a.stateNode;var D=a.memoizedProps,L=Er(s,D);b.props=L;var K=b.context,re=s.contextType;M=oa,typeof re=="object"&&re!==null&&(M=jt(re));var oe=s.getDerivedStateFromProps;re=typeof oe=="function"||typeof b.getSnapshotBeforeUpdate=="function",D=a.pendingProps!==D,re||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||(D||K!==M)&&Sg(a,b,c,M),ki=!1;var X=a.memoizedState;b.state=X,So(a,c,b,p),To(),K=a.memoizedState,D||X!==K||ki?(typeof oe=="function"&&(ef(a,s,oe,c),K=a.memoizedState),(L=ki||Tg(a,s,L,c,X,K,M))?(re||typeof b.UNSAFE_componentWillMount!="function"&&typeof b.componentWillMount!="function"||(typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount()),typeof b.componentDidMount=="function"&&(a.flags|=4194308)):(typeof b.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=c,a.memoizedState=K),b.props=c,b.state=K,b.context=M,c=L):(typeof b.componentDidMount=="function"&&(a.flags|=4194308),c=!1)}else{b=a.stateNode,_c(i,a),M=a.memoizedProps,re=Er(s,M),b.props=re,oe=a.pendingProps,X=b.context,K=s.contextType,L=oa,typeof K=="object"&&K!==null&&(L=jt(K)),D=s.getDerivedStateFromProps,(K=typeof D=="function"||typeof b.getSnapshotBeforeUpdate=="function")||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||(M!==oe||X!==L)&&Sg(a,b,c,L),ki=!1,X=a.memoizedState,b.state=X,So(a,c,b,p),To();var W=a.memoizedState;M!==oe||X!==W||ki||i!==null&&i.dependencies!==null&&nl(i.dependencies)?(typeof D=="function"&&(ef(a,s,D,c),W=a.memoizedState),(re=ki||Tg(a,s,re,c,X,W,L)||i!==null&&i.dependencies!==null&&nl(i.dependencies))?(K||typeof b.UNSAFE_componentWillUpdate!="function"&&typeof b.componentWillUpdate!="function"||(typeof b.componentWillUpdate=="function"&&b.componentWillUpdate(c,W,L),typeof b.UNSAFE_componentWillUpdate=="function"&&b.UNSAFE_componentWillUpdate(c,W,L)),typeof b.componentDidUpdate=="function"&&(a.flags|=4),typeof b.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof b.componentDidUpdate!="function"||M===i.memoizedProps&&X===i.memoizedState||(a.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||M===i.memoizedProps&&X===i.memoizedState||(a.flags|=1024),a.memoizedProps=c,a.memoizedState=W),b.props=c,b.state=W,b.context=L,c=re):(typeof b.componentDidUpdate!="function"||M===i.memoizedProps&&X===i.memoizedState||(a.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||M===i.memoizedProps&&X===i.memoizedState||(a.flags|=1024),c=!1)}return b=c,Tl(i,a),c=(a.flags&128)!==0,b||c?(b=a.stateNode,s=c&&typeof s.getDerivedStateFromError!="function"?null:b.render(),a.flags|=1,i!==null&&c?(a.child=ga(a,i.child,null,p),a.child=ga(a,null,s,p)):Lt(i,a,s,p),a.memoizedState=b.state,i=a.child):i=pi(i,a,p),i}function Bg(i,a,s,c){return mo(),a.flags|=256,Lt(i,a,s,c),a.child}var af={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function of(i){return{baseLanes:i,cachePool:Mp()}}function sf(i,a,s){return i=i!==null?i.childLanes&~s:0,a&&(i|=Dn),i}function Fg(i,a,s){var c=a.pendingProps,p=!1,b=(a.flags&128)!==0,M;if((M=b)||(M=i!==null&&i.memoizedState===null?!1:(kt.current&2)!==0),M&&(p=!0,a.flags&=-129),M=(a.flags&32)!==0,a.flags&=-33,i===null){if(Qe){if(p?_i(a):Li(),Qe){var D=ht,L;if(L=D){e:{for(L=D,D=qn;L.nodeType!==8;){if(!D){D=null;break e}if(L=jn(L.nextSibling),L===null){D=null;break e}}D=L}D!==null?(a.memoizedState={dehydrated:D,treeContext:vr!==null?{id:ui,overflow:ci}:null,retryLane:536870912,hydrationErrors:null},L=fn(18,null,null,0),L.stateNode=D,L.return=a,a.child=L,Yt=a,ht=null,L=!0):L=!1}L||Sr(a)}if(D=a.memoizedState,D!==null&&(D=D.dehydrated,D!==null))return Gf(D)?a.lanes=32:a.lanes=536870912,null;hi(a)}return D=c.children,c=c.fallback,p?(Li(),p=a.mode,D=Sl({mode:"hidden",children:D},p),c=xr(c,p,s,null),D.return=a,c.return=a,D.sibling=c,a.child=D,p=a.child,p.memoizedState=of(s),p.childLanes=sf(i,M,s),a.memoizedState=af,c):(_i(a),lf(a,D))}if(L=i.memoizedState,L!==null&&(D=L.dehydrated,D!==null)){if(b)a.flags&256?(_i(a),a.flags&=-257,a=uf(i,a,s)):a.memoizedState!==null?(Li(),a.child=i.child,a.flags|=128,a=null):(Li(),p=c.fallback,D=a.mode,c=Sl({mode:"visible",children:c.children},D),p=xr(p,D,s,null),p.flags|=2,c.return=a,p.return=a,c.sibling=p,a.child=c,ga(a,i.child,null,s),c=a.child,c.memoizedState=of(s),c.childLanes=sf(i,M,s),a.memoizedState=af,a=p);else if(_i(a),Gf(D)){if(M=D.nextSibling&&D.nextSibling.dataset,M)var K=M.dgst;M=K,c=Error(r(419)),c.stack="",c.digest=M,ho({value:c,source:null,stack:null}),a=uf(i,a,s)}else if(Nt||po(i,a,s,!1),M=(s&i.childLanes)!==0,Nt||M){if(M=lt,M!==null&&(c=s&-s,c=(c&42)!==0?1:Yr(c),c=(c&(M.suspendedLanes|s))!==0?0:c,c!==0&&c!==L.retryLane))throw L.retryLane=c,aa(i,c),gn(M,i,c),kg;D.data==="$?"||Ef(),a=uf(i,a,s)}else D.data==="$?"?(a.flags|=192,a.child=i.child,a=null):(i=L.treeContext,ht=jn(D.nextSibling),Yt=a,Qe=!0,Tr=null,qn=!1,i!==null&&(wn[An++]=ui,wn[An++]=ci,wn[An++]=vr,ui=i.id,ci=i.overflow,vr=a),a=lf(a,c.children),a.flags|=4096);return a}return p?(Li(),p=c.fallback,D=a.mode,L=i.child,K=L.sibling,c=li(L,{mode:"hidden",children:c.children}),c.subtreeFlags=L.subtreeFlags&65011712,K!==null?p=li(K,p):(p=xr(p,D,s,null),p.flags|=2),p.return=a,c.return=a,c.sibling=p,a.child=c,c=p,p=a.child,D=i.child.memoizedState,D===null?D=of(s):(L=D.cachePool,L!==null?(K=Dt._currentValue,L=L.parent!==K?{parent:K,pool:K}:L):L=Mp(),D={baseLanes:D.baseLanes|s,cachePool:L}),p.memoizedState=D,p.childLanes=sf(i,M,s),a.memoizedState=af,c):(_i(a),s=i.child,i=s.sibling,s=li(s,{mode:"visible",children:c.children}),s.return=a,s.sibling=null,i!==null&&(M=a.deletions,M===null?(a.deletions=[i],a.flags|=16):M.push(i)),a.child=s,a.memoizedState=null,s)}function lf(i,a){return a=Sl({mode:"visible",children:a},i.mode),a.return=i,i.child=a}function Sl(i,a){return i=fn(22,i,null,a),i.lanes=0,i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},i}function uf(i,a,s){return ga(a,i.child,null,s),i=lf(a,a.pendingProps.children),i.flags|=2,a.memoizedState=null,i}function Og(i,a,s){i.lanes|=a;var c=i.alternate;c!==null&&(c.lanes|=a),Ac(i.return,a,s)}function cf(i,a,s,c,p){var b=i.memoizedState;b===null?i.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:c,tail:s,tailMode:p}:(b.isBackwards=a,b.rendering=null,b.renderingStartTime=0,b.last=c,b.tail=s,b.tailMode=p)}function jg(i,a,s){var c=a.pendingProps,p=c.revealOrder,b=c.tail;if(Lt(i,a,c.children,s),c=kt.current,(c&2)!==0)c=c&1|2,a.flags|=128;else{if(i!==null&&(i.flags&128)!==0)e:for(i=a.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&Og(i,s,a);else if(i.tag===19)Og(i,s,a);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===a)break e;for(;i.sibling===null;){if(i.return===null||i.return===a)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}c&=1}switch(E(kt,c),p){case"forwards":for(s=a.child,p=null;s!==null;)i=s.alternate,i!==null&&xl(i)===null&&(p=s),s=s.sibling;s=p,s===null?(p=a.child,a.child=null):(p=s.sibling,s.sibling=null),cf(a,!1,p,s,b);break;case"backwards":for(s=null,p=a.child,a.child=null;p!==null;){if(i=p.alternate,i!==null&&xl(i)===null){a.child=p;break}i=p.sibling,p.sibling=s,s=p,p=i}cf(a,!0,s,null,b);break;case"together":cf(a,!1,null,null,void 0);break;default:a.memoizedState=null}return a.child}function pi(i,a,s){if(i!==null&&(a.dependencies=i.dependencies),Oi|=a.lanes,(s&a.childLanes)===0)if(i!==null){if(po(i,a,s,!1),(s&a.childLanes)===0)return null}else return null;if(i!==null&&a.child!==i.child)throw Error(r(153));if(a.child!==null){for(i=a.child,s=li(i,i.pendingProps),a.child=s,s.return=a;i.sibling!==null;)i=i.sibling,s=s.sibling=li(i,i.pendingProps),s.return=a;s.sibling=null}return a.child}function ff(i,a){return(i.lanes&a)!==0?!0:(i=i.dependencies,!!(i!==null&&nl(i)))}function aM(i,a,s){switch(a.tag){case 3:pe(a,a.stateNode.containerInfo),Di(a,Dt,i.memoizedState.cache),mo();break;case 27:case 5:_e(a);break;case 4:pe(a,a.stateNode.containerInfo);break;case 10:Di(a,a.type,a.memoizedProps.value);break;case 13:var c=a.memoizedState;if(c!==null)return c.dehydrated!==null?(_i(a),a.flags|=128,null):(s&a.child.childLanes)!==0?Fg(i,a,s):(_i(a),i=pi(i,a,s),i!==null?i.sibling:null);_i(a);break;case 19:var p=(i.flags&128)!==0;if(c=(s&a.childLanes)!==0,c||(po(i,a,s,!1),c=(s&a.childLanes)!==0),p){if(c)return jg(i,a,s);a.flags|=128}if(p=a.memoizedState,p!==null&&(p.rendering=null,p.tail=null,p.lastEffect=null),E(kt,kt.current),c)break;return null;case 22:case 23:return a.lanes=0,_g(i,a,s);case 24:Di(a,Dt,i.memoizedState.cache)}return pi(i,a,s)}function zg(i,a,s){if(i!==null)if(i.memoizedProps!==a.pendingProps)Nt=!0;else{if(!ff(i,s)&&(a.flags&128)===0)return Nt=!1,aM(i,a,s);Nt=(i.flags&131072)!==0}else Nt=!1,Qe&&(a.flags&1048576)!==0&&yp(a,tl,a.index);switch(a.lanes=0,a.tag){case 16:e:{i=a.pendingProps;var c=a.elementType,p=c._init;if(c=p(c._payload),a.type=c,typeof c=="function")vc(c)?(i=Er(c,i),a.tag=1,a=Pg(null,a,c,i,s)):(a.tag=0,a=rf(null,a,c,i,s));else{if(c!=null){if(p=c.$$typeof,p===B){a.tag=11,a=Ig(null,a,c,i,s);break e}else if(p===ie){a.tag=14,a=Ng(null,a,c,i,s);break e}}throw a=le(c)||c,Error(r(306,a,""))}}return a;case 0:return rf(i,a,a.type,a.pendingProps,s);case 1:return c=a.type,p=Er(c,a.pendingProps),Pg(i,a,c,p,s);case 3:e:{if(pe(a,a.stateNode.containerInfo),i===null)throw Error(r(387));c=a.pendingProps;var b=a.memoizedState;p=b.element,_c(i,a),So(a,c,null,s);var M=a.memoizedState;if(c=M.cache,Di(a,Dt,c),c!==b.cache&&Ec(a,[Dt],s,!0),To(),c=M.element,b.isDehydrated)if(b={element:c,isDehydrated:!1,cache:M.cache},a.updateQueue.baseState=b,a.memoizedState=b,a.flags&256){a=Bg(i,a,c,s);break e}else if(c!==p){p=Cn(Error(r(424)),a),ho(p),a=Bg(i,a,c,s);break e}else{switch(i=a.stateNode.containerInfo,i.nodeType){case 9:i=i.body;break;default:i=i.nodeName==="HTML"?i.ownerDocument.body:i}for(ht=jn(i.firstChild),Yt=a,Qe=!0,Tr=null,qn=!0,s=vg(a,null,c,s),a.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling}else{if(mo(),c===p){a=pi(i,a,s);break e}Lt(i,a,c,s)}a=a.child}return a;case 26:return Tl(i,a),i===null?(s=qy(a.type,null,a.pendingProps,null))?a.memoizedState=s:Qe||(s=a.type,i=a.pendingProps,c=Pl(J.current).createElement(s),c[qe]=a,c[je]=i,Pt(c,s,i),Ct(c),a.stateNode=c):a.memoizedState=qy(a.type,i.memoizedProps,a.pendingProps,i.memoizedState),null;case 27:return _e(a),i===null&&Qe&&(c=a.stateNode=Hy(a.type,a.pendingProps,J.current),Yt=a,qn=!0,p=ht,Ui(a.type)?(qf=p,ht=jn(c.firstChild)):ht=p),Lt(i,a,a.pendingProps.children,s),Tl(i,a),i===null&&(a.flags|=4194304),a.child;case 5:return i===null&&Qe&&((p=c=ht)&&(c=_M(c,a.type,a.pendingProps,qn),c!==null?(a.stateNode=c,Yt=a,ht=jn(c.firstChild),qn=!1,p=!0):p=!1),p||Sr(a)),_e(a),p=a.type,b=a.pendingProps,M=i!==null?i.memoizedProps:null,c=b.children,zf(p,b)?c=null:M!==null&&zf(p,M)&&(a.flags|=32),a.memoizedState!==null&&(p=Oc(i,a,QC,null,null,s),Go._currentValue=p),Tl(i,a),Lt(i,a,c,s),a.child;case 6:return i===null&&Qe&&((i=s=ht)&&(s=LM(s,a.pendingProps,qn),s!==null?(a.stateNode=s,Yt=a,ht=null,i=!0):i=!1),i||Sr(a)),null;case 13:return Fg(i,a,s);case 4:return pe(a,a.stateNode.containerInfo),c=a.pendingProps,i===null?a.child=ga(a,null,c,s):Lt(i,a,c,s),a.child;case 11:return Ig(i,a,a.type,a.pendingProps,s);case 7:return Lt(i,a,a.pendingProps,s),a.child;case 8:return Lt(i,a,a.pendingProps.children,s),a.child;case 12:return Lt(i,a,a.pendingProps.children,s),a.child;case 10:return c=a.pendingProps,Di(a,a.type,c.value),Lt(i,a,c.children,s),a.child;case 9:return p=a.type._context,c=a.pendingProps.children,Mr(a),p=jt(p),c=c(p),a.flags|=1,Lt(i,a,c,s),a.child;case 14:return Ng(i,a,a.type,a.pendingProps,s);case 15:return Rg(i,a,a.type,a.pendingProps,s);case 19:return jg(i,a,s);case 31:return c=a.pendingProps,s=a.mode,c={mode:c.mode,children:c.children},i===null?(s=Sl(c,s),s.ref=a.ref,a.child=s,s.return=a,a=s):(s=li(i.child,c),s.ref=a.ref,a.child=s,s.return=a,a=s),a;case 22:return _g(i,a,s);case 24:return Mr(a),c=jt(Dt),i===null?(p=Ic(),p===null&&(p=lt,b=Dc(),p.pooledCache=b,b.refCount++,b!==null&&(p.pooledCacheLanes|=s),p=b),a.memoizedState={parent:c,cache:p},Rc(a),Di(a,Dt,p)):((i.lanes&s)!==0&&(_c(i,a),So(a,null,null,s),To()),p=i.memoizedState,b=a.memoizedState,p.parent!==c?(p={parent:c,cache:c},a.memoizedState=p,a.lanes===0&&(a.memoizedState=a.updateQueue.baseState=p),Di(a,Dt,c)):(c=b.cache,Di(a,Dt,c),c!==p.cache&&Ec(a,[Dt],s,!0))),Lt(i,a,a.pendingProps.children,s),a.child;case 29:throw a.pendingProps}throw Error(r(156,a.tag))}function gi(i){i.flags|=4}function Hg(i,a){if(a.type!=="stylesheet"||(a.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!Wy(a)){if(a=En.current,a!==null&&(($e&4194048)===$e?$n!==null:($e&62914560)!==$e&&($e&536870912)===0||a!==$n))throw vo=Nc,wp;i.flags|=8192}}function Cl(i,a){a!==null&&(i.flags|=4),i.flags&16384&&(a=i.tag!==22?Fs():536870912,i.lanes|=a,ba|=a)}function ko(i,a){if(!Qe)switch(i.tailMode){case"hidden":a=i.tail;for(var s=null;a!==null;)a.alternate!==null&&(s=a),a=a.sibling;s===null?i.tail=null:s.sibling=null;break;case"collapsed":s=i.tail;for(var c=null;s!==null;)s.alternate!==null&&(c=s),s=s.sibling;c===null?a||i.tail===null?i.tail=null:i.tail.sibling=null:c.sibling=null}}function ft(i){var a=i.alternate!==null&&i.alternate.child===i.child,s=0,c=0;if(a)for(var p=i.child;p!==null;)s|=p.lanes|p.childLanes,c|=p.subtreeFlags&65011712,c|=p.flags&65011712,p.return=i,p=p.sibling;else for(p=i.child;p!==null;)s|=p.lanes|p.childLanes,c|=p.subtreeFlags,c|=p.flags,p.return=i,p=p.sibling;return i.subtreeFlags|=c,i.childLanes=s,a}function oM(i,a,s){var c=a.pendingProps;switch(Cc(a),a.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ft(a),null;case 1:return ft(a),null;case 3:return s=a.stateNode,c=null,i!==null&&(c=i.memoizedState.cache),a.memoizedState.cache!==c&&(a.flags|=2048),di(Dt),be(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(i===null||i.child===null)&&(fo(a)?gi(a):i===null||i.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,bp())),ft(a),null;case 26:return s=a.memoizedState,i===null?(gi(a),s!==null?(ft(a),Hg(a,s)):(ft(a),a.flags&=-16777217)):s?s!==i.memoizedState?(gi(a),ft(a),Hg(a,s)):(ft(a),a.flags&=-16777217):(i.memoizedProps!==c&&gi(a),ft(a),a.flags&=-16777217),null;case 27:Ie(a),s=J.current;var p=a.type;if(i!==null&&a.stateNode!=null)i.memoizedProps!==c&&gi(a);else{if(!c){if(a.stateNode===null)throw Error(r(166));return ft(a),null}i=ee.current,fo(a)?xp(a):(i=Hy(p,c,s),a.stateNode=i,gi(a))}return ft(a),null;case 5:if(Ie(a),s=a.type,i!==null&&a.stateNode!=null)i.memoizedProps!==c&&gi(a);else{if(!c){if(a.stateNode===null)throw Error(r(166));return ft(a),null}if(i=ee.current,fo(a))xp(a);else{switch(p=Pl(J.current),i){case 1:i=p.createElementNS("http://www.w3.org/2000/svg",s);break;case 2:i=p.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;default:switch(s){case"svg":i=p.createElementNS("http://www.w3.org/2000/svg",s);break;case"math":i=p.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;case"script":i=p.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild);break;case"select":i=typeof c.is=="string"?p.createElement("select",{is:c.is}):p.createElement("select"),c.multiple?i.multiple=!0:c.size&&(i.size=c.size);break;default:i=typeof c.is=="string"?p.createElement(s,{is:c.is}):p.createElement(s)}}i[qe]=a,i[je]=c;e:for(p=a.child;p!==null;){if(p.tag===5||p.tag===6)i.appendChild(p.stateNode);else if(p.tag!==4&&p.tag!==27&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===a)break e;for(;p.sibling===null;){if(p.return===null||p.return===a)break e;p=p.return}p.sibling.return=p.return,p=p.sibling}a.stateNode=i;e:switch(Pt(i,s,c),s){case"button":case"input":case"select":case"textarea":i=!!c.autoFocus;break e;case"img":i=!0;break e;default:i=!1}i&&gi(a)}}return ft(a),a.flags&=-16777217,null;case 6:if(i&&a.stateNode!=null)i.memoizedProps!==c&&gi(a);else{if(typeof c!="string"&&a.stateNode===null)throw Error(r(166));if(i=J.current,fo(a)){if(i=a.stateNode,s=a.memoizedProps,c=null,p=Yt,p!==null)switch(p.tag){case 27:case 5:c=p.memoizedProps}i[qe]=a,i=!!(i.nodeValue===s||c!==null&&c.suppressHydrationWarning===!0||Vy(i.nodeValue,s)),i||Sr(a)}else i=Pl(i).createTextNode(c),i[qe]=a,a.stateNode=i}return ft(a),null;case 13:if(c=a.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(p=fo(a),c!==null&&c.dehydrated!==null){if(i===null){if(!p)throw Error(r(318));if(p=a.memoizedState,p=p!==null?p.dehydrated:null,!p)throw Error(r(317));p[qe]=a}else mo(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;ft(a),p=!1}else p=bp(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=p),p=!0;if(!p)return a.flags&256?(hi(a),a):(hi(a),null)}if(hi(a),(a.flags&128)!==0)return a.lanes=s,a;if(s=c!==null,i=i!==null&&i.memoizedState!==null,s){c=a.child,p=null,c.alternate!==null&&c.alternate.memoizedState!==null&&c.alternate.memoizedState.cachePool!==null&&(p=c.alternate.memoizedState.cachePool.pool);var b=null;c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(b=c.memoizedState.cachePool.pool),b!==p&&(c.flags|=2048)}return s!==i&&s&&(a.child.flags|=8192),Cl(a,a.updateQueue),ft(a),null;case 4:return be(),i===null&&Pf(a.stateNode.containerInfo),ft(a),null;case 10:return di(a.type),ft(a),null;case 19:if(G(kt),p=a.memoizedState,p===null)return ft(a),null;if(c=(a.flags&128)!==0,b=p.rendering,b===null)if(c)ko(p,!1);else{if(pt!==0||i!==null&&(i.flags&128)!==0)for(i=a.child;i!==null;){if(b=xl(i),b!==null){for(a.flags|=128,ko(p,!1),i=b.updateQueue,a.updateQueue=i,Cl(a,i),a.subtreeFlags=0,i=s,s=a.child;s!==null;)gp(s,i),s=s.sibling;return E(kt,kt.current&1|2),a.child}i=i.sibling}p.tail!==null&&xt()>Al&&(a.flags|=128,c=!0,ko(p,!1),a.lanes=4194304)}else{if(!c)if(i=xl(b),i!==null){if(a.flags|=128,c=!0,i=i.updateQueue,a.updateQueue=i,Cl(a,i),ko(p,!0),p.tail===null&&p.tailMode==="hidden"&&!b.alternate&&!Qe)return ft(a),null}else 2*xt()-p.renderingStartTime>Al&&s!==536870912&&(a.flags|=128,c=!0,ko(p,!1),a.lanes=4194304);p.isBackwards?(b.sibling=a.child,a.child=b):(i=p.last,i!==null?i.sibling=b:a.child=b,p.last=b)}return p.tail!==null?(a=p.tail,p.rendering=a,p.tail=a.sibling,p.renderingStartTime=xt(),a.sibling=null,i=kt.current,E(kt,c?i&1|2:i&1),a):(ft(a),null);case 22:case 23:return hi(a),Bc(),c=a.memoizedState!==null,i!==null?i.memoizedState!==null!==c&&(a.flags|=8192):c&&(a.flags|=8192),c?(s&536870912)!==0&&(a.flags&128)===0&&(ft(a),a.subtreeFlags&6&&(a.flags|=8192)):ft(a),s=a.updateQueue,s!==null&&Cl(a,s.retryQueue),s=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(s=i.memoizedState.cachePool.pool),c=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(c=a.memoizedState.cachePool.pool),c!==s&&(a.flags|=2048),i!==null&&G(wr),null;case 24:return s=null,i!==null&&(s=i.memoizedState.cache),a.memoizedState.cache!==s&&(a.flags|=2048),di(Dt),ft(a),null;case 25:return null;case 30:return null}throw Error(r(156,a.tag))}function sM(i,a){switch(Cc(a),a.tag){case 1:return i=a.flags,i&65536?(a.flags=i&-65537|128,a):null;case 3:return di(Dt),be(),i=a.flags,(i&65536)!==0&&(i&128)===0?(a.flags=i&-65537|128,a):null;case 26:case 27:case 5:return Ie(a),null;case 13:if(hi(a),i=a.memoizedState,i!==null&&i.dehydrated!==null){if(a.alternate===null)throw Error(r(340));mo()}return i=a.flags,i&65536?(a.flags=i&-65537|128,a):null;case 19:return G(kt),null;case 4:return be(),null;case 10:return di(a.type),null;case 22:case 23:return hi(a),Bc(),i!==null&&G(wr),i=a.flags,i&65536?(a.flags=i&-65537|128,a):null;case 24:return di(Dt),null;case 25:return null;default:return null}}function Ug(i,a){switch(Cc(a),a.tag){case 3:di(Dt),be();break;case 26:case 27:case 5:Ie(a);break;case 4:be();break;case 13:hi(a);break;case 19:G(kt);break;case 10:di(a.type);break;case 22:case 23:hi(a),Bc(),i!==null&&G(wr);break;case 24:di(Dt)}}function Io(i,a){try{var s=a.updateQueue,c=s!==null?s.lastEffect:null;if(c!==null){var p=c.next;s=p;do{if((s.tag&i)===i){c=void 0;var b=s.create,M=s.inst;c=b(),M.destroy=c}s=s.next}while(s!==p)}}catch(D){ot(a,a.return,D)}}function Vi(i,a,s){try{var c=a.updateQueue,p=c!==null?c.lastEffect:null;if(p!==null){var b=p.next;c=b;do{if((c.tag&i)===i){var M=c.inst,D=M.destroy;if(D!==void 0){M.destroy=void 0,p=a;var L=s,K=D;try{K()}catch(re){ot(p,L,re)}}}c=c.next}while(c!==b)}}catch(re){ot(a,a.return,re)}}function Gg(i){var a=i.updateQueue;if(a!==null){var s=i.stateNode;try{Np(a,s)}catch(c){ot(i,i.return,c)}}}function qg(i,a,s){s.props=Er(i.type,i.memoizedProps),s.state=i.memoizedState;try{s.componentWillUnmount()}catch(c){ot(i,a,c)}}function No(i,a){try{var s=i.ref;if(s!==null){switch(i.tag){case 26:case 27:case 5:var c=i.stateNode;break;case 30:c=i.stateNode;break;default:c=i.stateNode}typeof s=="function"?i.refCleanup=s(c):s.current=c}}catch(p){ot(i,a,p)}}function Yn(i,a){var s=i.ref,c=i.refCleanup;if(s!==null)if(typeof c=="function")try{c()}catch(p){ot(i,a,p)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof s=="function")try{s(null)}catch(p){ot(i,a,p)}else s.current=null}function $g(i){var a=i.type,s=i.memoizedProps,c=i.stateNode;try{e:switch(a){case"button":case"input":case"select":case"textarea":s.autoFocus&&c.focus();break e;case"img":s.src?c.src=s.src:s.srcSet&&(c.srcset=s.srcSet)}}catch(p){ot(i,i.return,p)}}function df(i,a,s){try{var c=i.stateNode;DM(c,i.type,s,a),c[je]=a}catch(p){ot(i,i.return,p)}}function Yg(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&Ui(i.type)||i.tag===4}function mf(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||Yg(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&Ui(i.type)||i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function hf(i,a,s){var c=i.tag;if(c===5||c===6)i=i.stateNode,a?(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s).insertBefore(i,a):(a=s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,a.appendChild(i),s=s._reactRootContainer,s!=null||a.onclick!==null||(a.onclick=Vl));else if(c!==4&&(c===27&&Ui(i.type)&&(s=i.stateNode,a=null),i=i.child,i!==null))for(hf(i,a,s),i=i.sibling;i!==null;)hf(i,a,s),i=i.sibling}function Ml(i,a,s){var c=i.tag;if(c===5||c===6)i=i.stateNode,a?s.insertBefore(i,a):s.appendChild(i);else if(c!==4&&(c===27&&Ui(i.type)&&(s=i.stateNode),i=i.child,i!==null))for(Ml(i,a,s),i=i.sibling;i!==null;)Ml(i,a,s),i=i.sibling}function Kg(i){var a=i.stateNode,s=i.memoizedProps;try{for(var c=i.type,p=a.attributes;p.length;)a.removeAttributeNode(p[0]);Pt(a,c,s),a[qe]=i,a[je]=s}catch(b){ot(i,i.return,b)}}var yi=!1,bt=!1,pf=!1,Xg=typeof WeakSet=="function"?WeakSet:Set,Rt=null;function lM(i,a){if(i=i.containerInfo,Of=Hl,i=op(i),dc(i)){if("selectionStart"in i)var s={start:i.selectionStart,end:i.selectionEnd};else e:{s=(s=i.ownerDocument)&&s.defaultView||window;var c=s.getSelection&&s.getSelection();if(c&&c.rangeCount!==0){s=c.anchorNode;var p=c.anchorOffset,b=c.focusNode;c=c.focusOffset;try{s.nodeType,b.nodeType}catch{s=null;break e}var M=0,D=-1,L=-1,K=0,re=0,oe=i,X=null;t:for(;;){for(var W;oe!==s||p!==0&&oe.nodeType!==3||(D=M+p),oe!==b||c!==0&&oe.nodeType!==3||(L=M+c),oe.nodeType===3&&(M+=oe.nodeValue.length),(W=oe.firstChild)!==null;)X=oe,oe=W;for(;;){if(oe===i)break t;if(X===s&&++K===p&&(D=M),X===b&&++re===c&&(L=M),(W=oe.nextSibling)!==null)break;oe=X,X=oe.parentNode}oe=W}s=D===-1||L===-1?null:{start:D,end:L}}else s=null}s=s||{start:0,end:0}}else s=null;for(jf={focusedElem:i,selectionRange:s},Hl=!1,Rt=a;Rt!==null;)if(a=Rt,i=a.child,(a.subtreeFlags&1024)!==0&&i!==null)i.return=a,Rt=i;else for(;Rt!==null;){switch(a=Rt,b=a.alternate,i=a.flags,a.tag){case 0:break;case 11:case 15:break;case 1:if((i&1024)!==0&&b!==null){i=void 0,s=a,p=b.memoizedProps,b=b.memoizedState,c=s.stateNode;try{var De=Er(s.type,p,s.elementType===s.type);i=c.getSnapshotBeforeUpdate(De,b),c.__reactInternalSnapshotBeforeUpdate=i}catch(Ae){ot(s,s.return,Ae)}}break;case 3:if((i&1024)!==0){if(i=a.stateNode.containerInfo,s=i.nodeType,s===9)Uf(i);else if(s===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":Uf(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(r(163))}if(i=a.sibling,i!==null){i.return=a.return,Rt=i;break}Rt=a.return}}function Wg(i,a,s){var c=s.flags;switch(s.tag){case 0:case 11:case 15:Pi(i,s),c&4&&Io(5,s);break;case 1:if(Pi(i,s),c&4)if(i=s.stateNode,a===null)try{i.componentDidMount()}catch(M){ot(s,s.return,M)}else{var p=Er(s.type,a.memoizedProps);a=a.memoizedState;try{i.componentDidUpdate(p,a,i.__reactInternalSnapshotBeforeUpdate)}catch(M){ot(s,s.return,M)}}c&64&&Gg(s),c&512&&No(s,s.return);break;case 3:if(Pi(i,s),c&64&&(i=s.updateQueue,i!==null)){if(a=null,s.child!==null)switch(s.child.tag){case 27:case 5:a=s.child.stateNode;break;case 1:a=s.child.stateNode}try{Np(i,a)}catch(M){ot(s,s.return,M)}}break;case 27:a===null&&c&4&&Kg(s);case 26:case 5:Pi(i,s),a===null&&c&4&&$g(s),c&512&&No(s,s.return);break;case 12:Pi(i,s);break;case 13:Pi(i,s),c&4&&Zg(i,s),c&64&&(i=s.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(s=yM.bind(null,s),VM(i,s))));break;case 22:if(c=s.memoizedState!==null||yi,!c){a=a!==null&&a.memoizedState!==null||bt,p=yi;var b=bt;yi=c,(bt=a)&&!b?Bi(i,s,(s.subtreeFlags&8772)!==0):Pi(i,s),yi=p,bt=b}break;case 30:break;default:Pi(i,s)}}function Qg(i){var a=i.alternate;a!==null&&(i.alternate=null,Qg(a)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(a=i.stateNode,a!==null&&Za(a)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var ct=null,nn=!1;function xi(i,a,s){for(s=s.child;s!==null;)Jg(i,a,s),s=s.sibling}function Jg(i,a,s){if(ce&&typeof ce.onCommitFiberUnmount=="function")try{ce.onCommitFiberUnmount(te,s)}catch{}switch(s.tag){case 26:bt||Yn(s,a),xi(i,a,s),s.memoizedState?s.memoizedState.count--:s.stateNode&&(s=s.stateNode,s.parentNode.removeChild(s));break;case 27:bt||Yn(s,a);var c=ct,p=nn;Ui(s.type)&&(ct=s.stateNode,nn=!1),xi(i,a,s),jo(s.stateNode),ct=c,nn=p;break;case 5:bt||Yn(s,a);case 6:if(c=ct,p=nn,ct=null,xi(i,a,s),ct=c,nn=p,ct!==null)if(nn)try{(ct.nodeType===9?ct.body:ct.nodeName==="HTML"?ct.ownerDocument.body:ct).removeChild(s.stateNode)}catch(b){ot(s,a,b)}else try{ct.removeChild(s.stateNode)}catch(b){ot(s,a,b)}break;case 18:ct!==null&&(nn?(i=ct,jy(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,s.stateNode),Ko(i)):jy(ct,s.stateNode));break;case 4:c=ct,p=nn,ct=s.stateNode.containerInfo,nn=!0,xi(i,a,s),ct=c,nn=p;break;case 0:case 11:case 14:case 15:bt||Vi(2,s,a),bt||Vi(4,s,a),xi(i,a,s);break;case 1:bt||(Yn(s,a),c=s.stateNode,typeof c.componentWillUnmount=="function"&&qg(s,a,c)),xi(i,a,s);break;case 21:xi(i,a,s);break;case 22:bt=(c=bt)||s.memoizedState!==null,xi(i,a,s),bt=c;break;default:xi(i,a,s)}}function Zg(i,a){if(a.memoizedState===null&&(i=a.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{Ko(i)}catch(s){ot(a,a.return,s)}}function uM(i){switch(i.tag){case 13:case 19:var a=i.stateNode;return a===null&&(a=i.stateNode=new Xg),a;case 22:return i=i.stateNode,a=i._retryCache,a===null&&(a=i._retryCache=new Xg),a;default:throw Error(r(435,i.tag))}}function gf(i,a){var s=uM(i);a.forEach(function(c){var p=xM.bind(null,i,c);s.has(c)||(s.add(c),c.then(p,p))})}function dn(i,a){var s=a.deletions;if(s!==null)for(var c=0;c<s.length;c++){var p=s[c],b=i,M=a,D=M;e:for(;D!==null;){switch(D.tag){case 27:if(Ui(D.type)){ct=D.stateNode,nn=!1;break e}break;case 5:ct=D.stateNode,nn=!1;break e;case 3:case 4:ct=D.stateNode.containerInfo,nn=!0;break e}D=D.return}if(ct===null)throw Error(r(160));Jg(b,M,p),ct=null,nn=!1,b=p.alternate,b!==null&&(b.return=null),p.return=null}if(a.subtreeFlags&13878)for(a=a.child;a!==null;)ey(a,i),a=a.sibling}var On=null;function ey(i,a){var s=i.alternate,c=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:dn(a,i),mn(i),c&4&&(Vi(3,i,i.return),Io(3,i),Vi(5,i,i.return));break;case 1:dn(a,i),mn(i),c&512&&(bt||s===null||Yn(s,s.return)),c&64&&yi&&(i=i.updateQueue,i!==null&&(c=i.callbacks,c!==null&&(s=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=s===null?c:s.concat(c))));break;case 26:var p=On;if(dn(a,i),mn(i),c&512&&(bt||s===null||Yn(s,s.return)),c&4){var b=s!==null?s.memoizedState:null;if(c=i.memoizedState,s===null)if(c===null)if(i.stateNode===null){e:{c=i.type,s=i.memoizedProps,p=p.ownerDocument||p;t:switch(c){case"title":b=p.getElementsByTagName("title")[0],(!b||b[dr]||b[qe]||b.namespaceURI==="http://www.w3.org/2000/svg"||b.hasAttribute("itemprop"))&&(b=p.createElement(c),p.head.insertBefore(b,p.querySelector("head > title"))),Pt(b,c,s),b[qe]=i,Ct(b),c=b;break e;case"link":var M=Ky("link","href",p).get(c+(s.href||""));if(M){for(var D=0;D<M.length;D++)if(b=M[D],b.getAttribute("href")===(s.href==null||s.href===""?null:s.href)&&b.getAttribute("rel")===(s.rel==null?null:s.rel)&&b.getAttribute("title")===(s.title==null?null:s.title)&&b.getAttribute("crossorigin")===(s.crossOrigin==null?null:s.crossOrigin)){M.splice(D,1);break t}}b=p.createElement(c),Pt(b,c,s),p.head.appendChild(b);break;case"meta":if(M=Ky("meta","content",p).get(c+(s.content||""))){for(D=0;D<M.length;D++)if(b=M[D],b.getAttribute("content")===(s.content==null?null:""+s.content)&&b.getAttribute("name")===(s.name==null?null:s.name)&&b.getAttribute("property")===(s.property==null?null:s.property)&&b.getAttribute("http-equiv")===(s.httpEquiv==null?null:s.httpEquiv)&&b.getAttribute("charset")===(s.charSet==null?null:s.charSet)){M.splice(D,1);break t}}b=p.createElement(c),Pt(b,c,s),p.head.appendChild(b);break;default:throw Error(r(468,c))}b[qe]=i,Ct(b),c=b}i.stateNode=c}else Xy(p,i.type,i.stateNode);else i.stateNode=Yy(p,c,i.memoizedProps);else b!==c?(b===null?s.stateNode!==null&&(s=s.stateNode,s.parentNode.removeChild(s)):b.count--,c===null?Xy(p,i.type,i.stateNode):Yy(p,c,i.memoizedProps)):c===null&&i.stateNode!==null&&df(i,i.memoizedProps,s.memoizedProps)}break;case 27:dn(a,i),mn(i),c&512&&(bt||s===null||Yn(s,s.return)),s!==null&&c&4&&df(i,i.memoizedProps,s.memoizedProps);break;case 5:if(dn(a,i),mn(i),c&512&&(bt||s===null||Yn(s,s.return)),i.flags&32){p=i.stateNode;try{Jr(p,"")}catch(W){ot(i,i.return,W)}}c&4&&i.stateNode!=null&&(p=i.memoizedProps,df(i,p,s!==null?s.memoizedProps:p)),c&1024&&(pf=!0);break;case 6:if(dn(a,i),mn(i),c&4){if(i.stateNode===null)throw Error(r(162));c=i.memoizedProps,s=i.stateNode;try{s.nodeValue=c}catch(W){ot(i,i.return,W)}}break;case 3:if(Ol=null,p=On,On=Bl(a.containerInfo),dn(a,i),On=p,mn(i),c&4&&s!==null&&s.memoizedState.isDehydrated)try{Ko(a.containerInfo)}catch(W){ot(i,i.return,W)}pf&&(pf=!1,ty(i));break;case 4:c=On,On=Bl(i.stateNode.containerInfo),dn(a,i),mn(i),On=c;break;case 12:dn(a,i),mn(i);break;case 13:dn(a,i),mn(i),i.child.flags&8192&&i.memoizedState!==null!=(s!==null&&s.memoizedState!==null)&&(Sf=xt()),c&4&&(c=i.updateQueue,c!==null&&(i.updateQueue=null,gf(i,c)));break;case 22:p=i.memoizedState!==null;var L=s!==null&&s.memoizedState!==null,K=yi,re=bt;if(yi=K||p,bt=re||L,dn(a,i),bt=re,yi=K,mn(i),c&8192)e:for(a=i.stateNode,a._visibility=p?a._visibility&-2:a._visibility|1,p&&(s===null||L||yi||bt||Dr(i)),s=null,a=i;;){if(a.tag===5||a.tag===26){if(s===null){L=s=a;try{if(b=L.stateNode,p)M=b.style,typeof M.setProperty=="function"?M.setProperty("display","none","important"):M.display="none";else{D=L.stateNode;var oe=L.memoizedProps.style,X=oe!=null&&oe.hasOwnProperty("display")?oe.display:null;D.style.display=X==null||typeof X=="boolean"?"":(""+X).trim()}}catch(W){ot(L,L.return,W)}}}else if(a.tag===6){if(s===null){L=a;try{L.stateNode.nodeValue=p?"":L.memoizedProps}catch(W){ot(L,L.return,W)}}}else if((a.tag!==22&&a.tag!==23||a.memoizedState===null||a===i)&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===i)break e;for(;a.sibling===null;){if(a.return===null||a.return===i)break e;s===a&&(s=null),a=a.return}s===a&&(s=null),a.sibling.return=a.return,a=a.sibling}c&4&&(c=i.updateQueue,c!==null&&(s=c.retryQueue,s!==null&&(c.retryQueue=null,gf(i,s))));break;case 19:dn(a,i),mn(i),c&4&&(c=i.updateQueue,c!==null&&(i.updateQueue=null,gf(i,c)));break;case 30:break;case 21:break;default:dn(a,i),mn(i)}}function mn(i){var a=i.flags;if(a&2){try{for(var s,c=i.return;c!==null;){if(Yg(c)){s=c;break}c=c.return}if(s==null)throw Error(r(160));switch(s.tag){case 27:var p=s.stateNode,b=mf(i);Ml(i,b,p);break;case 5:var M=s.stateNode;s.flags&32&&(Jr(M,""),s.flags&=-33);var D=mf(i);Ml(i,D,M);break;case 3:case 4:var L=s.stateNode.containerInfo,K=mf(i);hf(i,K,L);break;default:throw Error(r(161))}}catch(re){ot(i,i.return,re)}i.flags&=-3}a&4096&&(i.flags&=-4097)}function ty(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var a=i;ty(a),a.tag===5&&a.flags&1024&&a.stateNode.reset(),i=i.sibling}}function Pi(i,a){if(a.subtreeFlags&8772)for(a=a.child;a!==null;)Wg(i,a.alternate,a),a=a.sibling}function Dr(i){for(i=i.child;i!==null;){var a=i;switch(a.tag){case 0:case 11:case 14:case 15:Vi(4,a,a.return),Dr(a);break;case 1:Yn(a,a.return);var s=a.stateNode;typeof s.componentWillUnmount=="function"&&qg(a,a.return,s),Dr(a);break;case 27:jo(a.stateNode);case 26:case 5:Yn(a,a.return),Dr(a);break;case 22:a.memoizedState===null&&Dr(a);break;case 30:Dr(a);break;default:Dr(a)}i=i.sibling}}function Bi(i,a,s){for(s=s&&(a.subtreeFlags&8772)!==0,a=a.child;a!==null;){var c=a.alternate,p=i,b=a,M=b.flags;switch(b.tag){case 0:case 11:case 15:Bi(p,b,s),Io(4,b);break;case 1:if(Bi(p,b,s),c=b,p=c.stateNode,typeof p.componentDidMount=="function")try{p.componentDidMount()}catch(K){ot(c,c.return,K)}if(c=b,p=c.updateQueue,p!==null){var D=c.stateNode;try{var L=p.shared.hiddenCallbacks;if(L!==null)for(p.shared.hiddenCallbacks=null,p=0;p<L.length;p++)Ip(L[p],D)}catch(K){ot(c,c.return,K)}}s&&M&64&&Gg(b),No(b,b.return);break;case 27:Kg(b);case 26:case 5:Bi(p,b,s),s&&c===null&&M&4&&$g(b),No(b,b.return);break;case 12:Bi(p,b,s);break;case 13:Bi(p,b,s),s&&M&4&&Zg(p,b);break;case 22:b.memoizedState===null&&Bi(p,b,s),No(b,b.return);break;case 30:break;default:Bi(p,b,s)}a=a.sibling}}function yf(i,a){var s=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(s=i.memoizedState.cachePool.pool),i=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(i=a.memoizedState.cachePool.pool),i!==s&&(i!=null&&i.refCount++,s!=null&&go(s))}function xf(i,a){i=null,a.alternate!==null&&(i=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==i&&(a.refCount++,i!=null&&go(i))}function Kn(i,a,s,c){if(a.subtreeFlags&10256)for(a=a.child;a!==null;)ny(i,a,s,c),a=a.sibling}function ny(i,a,s,c){var p=a.flags;switch(a.tag){case 0:case 11:case 15:Kn(i,a,s,c),p&2048&&Io(9,a);break;case 1:Kn(i,a,s,c);break;case 3:Kn(i,a,s,c),p&2048&&(i=null,a.alternate!==null&&(i=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==i&&(a.refCount++,i!=null&&go(i)));break;case 12:if(p&2048){Kn(i,a,s,c),i=a.stateNode;try{var b=a.memoizedProps,M=b.id,D=b.onPostCommit;typeof D=="function"&&D(M,a.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(L){ot(a,a.return,L)}}else Kn(i,a,s,c);break;case 13:Kn(i,a,s,c);break;case 23:break;case 22:b=a.stateNode,M=a.alternate,a.memoizedState!==null?b._visibility&2?Kn(i,a,s,c):Ro(i,a):b._visibility&2?Kn(i,a,s,c):(b._visibility|=2,ya(i,a,s,c,(a.subtreeFlags&10256)!==0)),p&2048&&yf(M,a);break;case 24:Kn(i,a,s,c),p&2048&&xf(a.alternate,a);break;default:Kn(i,a,s,c)}}function ya(i,a,s,c,p){for(p=p&&(a.subtreeFlags&10256)!==0,a=a.child;a!==null;){var b=i,M=a,D=s,L=c,K=M.flags;switch(M.tag){case 0:case 11:case 15:ya(b,M,D,L,p),Io(8,M);break;case 23:break;case 22:var re=M.stateNode;M.memoizedState!==null?re._visibility&2?ya(b,M,D,L,p):Ro(b,M):(re._visibility|=2,ya(b,M,D,L,p)),p&&K&2048&&yf(M.alternate,M);break;case 24:ya(b,M,D,L,p),p&&K&2048&&xf(M.alternate,M);break;default:ya(b,M,D,L,p)}a=a.sibling}}function Ro(i,a){if(a.subtreeFlags&10256)for(a=a.child;a!==null;){var s=i,c=a,p=c.flags;switch(c.tag){case 22:Ro(s,c),p&2048&&yf(c.alternate,c);break;case 24:Ro(s,c),p&2048&&xf(c.alternate,c);break;default:Ro(s,c)}a=a.sibling}}var _o=8192;function xa(i){if(i.subtreeFlags&_o)for(i=i.child;i!==null;)iy(i),i=i.sibling}function iy(i){switch(i.tag){case 26:xa(i),i.flags&_o&&i.memoizedState!==null&&KM(On,i.memoizedState,i.memoizedProps);break;case 5:xa(i);break;case 3:case 4:var a=On;On=Bl(i.stateNode.containerInfo),xa(i),On=a;break;case 22:i.memoizedState===null&&(a=i.alternate,a!==null&&a.memoizedState!==null?(a=_o,_o=16777216,xa(i),_o=a):xa(i));break;default:xa(i)}}function ry(i){var a=i.alternate;if(a!==null&&(i=a.child,i!==null)){a.child=null;do a=i.sibling,i.sibling=null,i=a;while(i!==null)}}function Lo(i){var a=i.deletions;if((i.flags&16)!==0){if(a!==null)for(var s=0;s<a.length;s++){var c=a[s];Rt=c,oy(c,i)}ry(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)ay(i),i=i.sibling}function ay(i){switch(i.tag){case 0:case 11:case 15:Lo(i),i.flags&2048&&Vi(9,i,i.return);break;case 3:Lo(i);break;case 12:Lo(i);break;case 22:var a=i.stateNode;i.memoizedState!==null&&a._visibility&2&&(i.return===null||i.return.tag!==13)?(a._visibility&=-3,wl(i)):Lo(i);break;default:Lo(i)}}function wl(i){var a=i.deletions;if((i.flags&16)!==0){if(a!==null)for(var s=0;s<a.length;s++){var c=a[s];Rt=c,oy(c,i)}ry(i)}for(i=i.child;i!==null;){switch(a=i,a.tag){case 0:case 11:case 15:Vi(8,a,a.return),wl(a);break;case 22:s=a.stateNode,s._visibility&2&&(s._visibility&=-3,wl(a));break;default:wl(a)}i=i.sibling}}function oy(i,a){for(;Rt!==null;){var s=Rt;switch(s.tag){case 0:case 11:case 15:Vi(8,s,a);break;case 23:case 22:if(s.memoizedState!==null&&s.memoizedState.cachePool!==null){var c=s.memoizedState.cachePool.pool;c!=null&&c.refCount++}break;case 24:go(s.memoizedState.cache)}if(c=s.child,c!==null)c.return=s,Rt=c;else e:for(s=i;Rt!==null;){c=Rt;var p=c.sibling,b=c.return;if(Qg(c),c===s){Rt=null;break e}if(p!==null){p.return=b,Rt=p;break e}Rt=b}}}var cM={getCacheForType:function(i){var a=jt(Dt),s=a.data.get(i);return s===void 0&&(s=i(),a.data.set(i,s)),s}},fM=typeof WeakMap=="function"?WeakMap:Map,Ze=0,lt=null,ze=null,$e=0,et=0,hn=null,Fi=!1,va=!1,vf=!1,vi=0,pt=0,Oi=0,kr=0,bf=0,Dn=0,ba=0,Vo=null,rn=null,Tf=!1,Sf=0,Al=1/0,El=null,ji=null,Vt=0,zi=null,Ta=null,Sa=0,Cf=0,Mf=null,sy=null,Po=0,wf=null;function pn(){if((Ze&2)!==0&&$e!==0)return $e&-$e;if($.T!==null){var i=ua;return i!==0?i:Rf()}return de()}function ly(){Dn===0&&(Dn=($e&536870912)===0||Qe?Bs():536870912);var i=En.current;return i!==null&&(i.flags|=32),Dn}function gn(i,a,s){(i===lt&&(et===2||et===9)||i.cancelPendingCommit!==null)&&(Ca(i,0),Hi(i,$e,Dn,!1)),fr(i,s),((Ze&2)===0||i!==lt)&&(i===lt&&((Ze&2)===0&&(kr|=s),pt===4&&Hi(i,$e,Dn,!1)),Xn(i))}function uy(i,a,s){if((Ze&6)!==0)throw Error(r(327));var c=!s&&(a&124)===0&&(a&i.expiredLanes)===0||Wt(i,a),p=c?hM(i,a):Df(i,a,!0),b=c;do{if(p===0){va&&!c&&Hi(i,a,0,!1);break}else{if(s=i.current.alternate,b&&!dM(s)){p=Df(i,a,!1),b=!1;continue}if(p===2){if(b=a,i.errorRecoveryDisabledLanes&b)var M=0;else M=i.pendingLanes&-536870913,M=M!==0?M:M&536870912?536870912:0;if(M!==0){a=M;e:{var D=i;p=Vo;var L=D.current.memoizedState.isDehydrated;if(L&&(Ca(D,M).flags|=256),M=Df(D,M,!1),M!==2){if(vf&&!L){D.errorRecoveryDisabledLanes|=b,kr|=b,p=4;break e}b=rn,rn=p,b!==null&&(rn===null?rn=b:rn.push.apply(rn,b))}p=M}if(b=!1,p!==2)continue}}if(p===1){Ca(i,0),Hi(i,a,0,!0);break}e:{switch(c=i,b=p,b){case 0:case 1:throw Error(r(345));case 4:if((a&4194048)!==a)break;case 6:Hi(c,a,Dn,!Fi);break e;case 2:rn=null;break;case 3:case 5:break;default:throw Error(r(329))}if((a&62914560)===a&&(p=Sf+300-xt(),10<p)){if(Hi(c,a,Dn,!Fi),St(c,0,!0)!==0)break e;c.timeoutHandle=Fy(cy.bind(null,c,s,rn,El,Tf,a,Dn,kr,ba,Fi,b,2,-0,0),p);break e}cy(c,s,rn,El,Tf,a,Dn,kr,ba,Fi,b,0,-0,0)}}break}while(!0);Xn(i)}function cy(i,a,s,c,p,b,M,D,L,K,re,oe,X,W){if(i.timeoutHandle=-1,oe=a.subtreeFlags,(oe&8192||(oe&16785408)===16785408)&&(Uo={stylesheets:null,count:0,unsuspend:YM},iy(a),oe=XM(),oe!==null)){i.cancelPendingCommit=oe(yy.bind(null,i,a,b,s,c,p,M,D,L,re,1,X,W)),Hi(i,b,M,!K);return}yy(i,a,b,s,c,p,M,D,L)}function dM(i){for(var a=i;;){var s=a.tag;if((s===0||s===11||s===15)&&a.flags&16384&&(s=a.updateQueue,s!==null&&(s=s.stores,s!==null)))for(var c=0;c<s.length;c++){var p=s[c],b=p.getSnapshot;p=p.value;try{if(!cn(b(),p))return!1}catch{return!1}}if(s=a.child,a.subtreeFlags&16384&&s!==null)s.return=a,a=s;else{if(a===i)break;for(;a.sibling===null;){if(a.return===null||a.return===i)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function Hi(i,a,s,c){a&=~bf,a&=~kr,i.suspendedLanes|=a,i.pingedLanes&=~a,c&&(i.warmLanes|=a),c=i.expirationTimes;for(var p=a;0<p;){var b=31-Ce(p),M=1<<b;c[b]=-1,p&=~M}s!==0&&un(i,s,a)}function Dl(){return(Ze&6)===0?(Bo(0),!1):!0}function Af(){if(ze!==null){if(et===0)var i=ze.return;else i=ze,fi=Cr=null,Hc(i),pa=null,Eo=0,i=ze;for(;i!==null;)Ug(i.alternate,i),i=i.return;ze=null}}function Ca(i,a){var s=i.timeoutHandle;s!==-1&&(i.timeoutHandle=-1,IM(s)),s=i.cancelPendingCommit,s!==null&&(i.cancelPendingCommit=null,s()),Af(),lt=i,ze=s=li(i.current,null),$e=a,et=0,hn=null,Fi=!1,va=Wt(i,a),vf=!1,ba=Dn=bf=kr=Oi=pt=0,rn=Vo=null,Tf=!1,(a&8)!==0&&(a|=a&32);var c=i.entangledLanes;if(c!==0)for(i=i.entanglements,c&=a;0<c;){var p=31-Ce(c),b=1<<p;a|=i[p],c&=~b}return vi=a,Ws(),s}function fy(i,a){Be=null,$.H=pl,a===xo||a===al?(a=Dp(),et=3):a===wp?(a=Dp(),et=4):et=a===kg?8:a!==null&&typeof a=="object"&&typeof a.then=="function"?6:1,hn=a,ze===null&&(pt=1,bl(i,Cn(a,i.current)))}function dy(){var i=$.H;return $.H=pl,i===null?pl:i}function my(){var i=$.A;return $.A=cM,i}function Ef(){pt=4,Fi||($e&4194048)!==$e&&En.current!==null||(va=!0),(Oi&134217727)===0&&(kr&134217727)===0||lt===null||Hi(lt,$e,Dn,!1)}function Df(i,a,s){var c=Ze;Ze|=2;var p=dy(),b=my();(lt!==i||$e!==a)&&(El=null,Ca(i,a)),a=!1;var M=pt;e:do try{if(et!==0&&ze!==null){var D=ze,L=hn;switch(et){case 8:Af(),M=6;break e;case 3:case 2:case 9:case 6:En.current===null&&(a=!0);var K=et;if(et=0,hn=null,Ma(i,D,L,K),s&&va){M=0;break e}break;default:K=et,et=0,hn=null,Ma(i,D,L,K)}}mM(),M=pt;break}catch(re){fy(i,re)}while(!0);return a&&i.shellSuspendCounter++,fi=Cr=null,Ze=c,$.H=p,$.A=b,ze===null&&(lt=null,$e=0,Ws()),M}function mM(){for(;ze!==null;)hy(ze)}function hM(i,a){var s=Ze;Ze|=2;var c=dy(),p=my();lt!==i||$e!==a?(El=null,Al=xt()+500,Ca(i,a)):va=Wt(i,a);e:do try{if(et!==0&&ze!==null){a=ze;var b=hn;t:switch(et){case 1:et=0,hn=null,Ma(i,a,b,1);break;case 2:case 9:if(Ap(b)){et=0,hn=null,py(a);break}a=function(){et!==2&&et!==9||lt!==i||(et=7),Xn(i)},b.then(a,a);break e;case 3:et=7;break e;case 4:et=5;break e;case 7:Ap(b)?(et=0,hn=null,py(a)):(et=0,hn=null,Ma(i,a,b,7));break;case 5:var M=null;switch(ze.tag){case 26:M=ze.memoizedState;case 5:case 27:var D=ze;if(!M||Wy(M)){et=0,hn=null;var L=D.sibling;if(L!==null)ze=L;else{var K=D.return;K!==null?(ze=K,kl(K)):ze=null}break t}}et=0,hn=null,Ma(i,a,b,5);break;case 6:et=0,hn=null,Ma(i,a,b,6);break;case 8:Af(),pt=6;break e;default:throw Error(r(462))}}pM();break}catch(re){fy(i,re)}while(!0);return fi=Cr=null,$.H=c,$.A=p,Ze=s,ze!==null?0:(lt=null,$e=0,Ws(),pt)}function pM(){for(;ze!==null&&!tt();)hy(ze)}function hy(i){var a=zg(i.alternate,i,vi);i.memoizedProps=i.pendingProps,a===null?kl(i):ze=a}function py(i){var a=i,s=a.alternate;switch(a.tag){case 15:case 0:a=Vg(s,a,a.pendingProps,a.type,void 0,$e);break;case 11:a=Vg(s,a,a.pendingProps,a.type.render,a.ref,$e);break;case 5:Hc(a);default:Ug(s,a),a=ze=gp(a,vi),a=zg(s,a,vi)}i.memoizedProps=i.pendingProps,a===null?kl(i):ze=a}function Ma(i,a,s,c){fi=Cr=null,Hc(a),pa=null,Eo=0;var p=a.return;try{if(rM(i,p,a,s,$e)){pt=1,bl(i,Cn(s,i.current)),ze=null;return}}catch(b){if(p!==null)throw ze=p,b;pt=1,bl(i,Cn(s,i.current)),ze=null;return}a.flags&32768?(Qe||c===1?i=!0:va||($e&536870912)!==0?i=!1:(Fi=i=!0,(c===2||c===9||c===3||c===6)&&(c=En.current,c!==null&&c.tag===13&&(c.flags|=16384))),gy(a,i)):kl(a)}function kl(i){var a=i;do{if((a.flags&32768)!==0){gy(a,Fi);return}i=a.return;var s=oM(a.alternate,a,vi);if(s!==null){ze=s;return}if(a=a.sibling,a!==null){ze=a;return}ze=a=i}while(a!==null);pt===0&&(pt=5)}function gy(i,a){do{var s=sM(i.alternate,i);if(s!==null){s.flags&=32767,ze=s;return}if(s=i.return,s!==null&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!a&&(i=i.sibling,i!==null)){ze=i;return}ze=i=s}while(i!==null);pt=6,ze=null}function yy(i,a,s,c,p,b,M,D,L){i.cancelPendingCommit=null;do Il();while(Vt!==0);if((Ze&6)!==0)throw Error(r(327));if(a!==null){if(a===i.current)throw Error(r(177));if(b=a.lanes|a.childLanes,b|=yc,qu(i,s,b,M,D,L),i===lt&&(ze=lt=null,$e=0),Ta=a,zi=i,Sa=s,Cf=b,Mf=p,sy=c,(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,vM(ii,function(){return Sy(),null})):(i.callbackNode=null,i.callbackPriority=0),c=(a.flags&13878)!==0,(a.subtreeFlags&13878)!==0||c){c=$.T,$.T=null,p=F.p,F.p=2,M=Ze,Ze|=4;try{lM(i,a,s)}finally{Ze=M,F.p=p,$.T=c}}Vt=1,xy(),vy(),by()}}function xy(){if(Vt===1){Vt=0;var i=zi,a=Ta,s=(a.flags&13878)!==0;if((a.subtreeFlags&13878)!==0||s){s=$.T,$.T=null;var c=F.p;F.p=2;var p=Ze;Ze|=4;try{ey(a,i);var b=jf,M=op(i.containerInfo),D=b.focusedElem,L=b.selectionRange;if(M!==D&&D&&D.ownerDocument&&ap(D.ownerDocument.documentElement,D)){if(L!==null&&dc(D)){var K=L.start,re=L.end;if(re===void 0&&(re=K),"selectionStart"in D)D.selectionStart=K,D.selectionEnd=Math.min(re,D.value.length);else{var oe=D.ownerDocument||document,X=oe&&oe.defaultView||window;if(X.getSelection){var W=X.getSelection(),De=D.textContent.length,Ae=Math.min(L.start,De),at=L.end===void 0?Ae:Math.min(L.end,De);!W.extend&&Ae>at&&(M=at,at=Ae,Ae=M);var q=rp(D,Ae),j=rp(D,at);if(q&&j&&(W.rangeCount!==1||W.anchorNode!==q.node||W.anchorOffset!==q.offset||W.focusNode!==j.node||W.focusOffset!==j.offset)){var Y=oe.createRange();Y.setStart(q.node,q.offset),W.removeAllRanges(),Ae>at?(W.addRange(Y),W.extend(j.node,j.offset)):(Y.setEnd(j.node,j.offset),W.addRange(Y))}}}}for(oe=[],W=D;W=W.parentNode;)W.nodeType===1&&oe.push({element:W,left:W.scrollLeft,top:W.scrollTop});for(typeof D.focus=="function"&&D.focus(),D=0;D<oe.length;D++){var ae=oe[D];ae.element.scrollLeft=ae.left,ae.element.scrollTop=ae.top}}Hl=!!Of,jf=Of=null}finally{Ze=p,F.p=c,$.T=s}}i.current=a,Vt=2}}function vy(){if(Vt===2){Vt=0;var i=zi,a=Ta,s=(a.flags&8772)!==0;if((a.subtreeFlags&8772)!==0||s){s=$.T,$.T=null;var c=F.p;F.p=2;var p=Ze;Ze|=4;try{Wg(i,a.alternate,a)}finally{Ze=p,F.p=c,$.T=s}}Vt=3}}function by(){if(Vt===4||Vt===3){Vt=0,nt();var i=zi,a=Ta,s=Sa,c=sy;(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?Vt=5:(Vt=0,Ta=zi=null,Ty(i,i.pendingLanes));var p=i.pendingLanes;if(p===0&&(ji=null),Q(s),a=a.stateNode,ce&&typeof ce.onCommitFiberRoot=="function")try{ce.onCommitFiberRoot(te,a,void 0,(a.current.flags&128)===128)}catch{}if(c!==null){a=$.T,p=F.p,F.p=2,$.T=null;try{for(var b=i.onRecoverableError,M=0;M<c.length;M++){var D=c[M];b(D.value,{componentStack:D.stack})}}finally{$.T=a,F.p=p}}(Sa&3)!==0&&Il(),Xn(i),p=i.pendingLanes,(s&4194090)!==0&&(p&42)!==0?i===wf?Po++:(Po=0,wf=i):Po=0,Bo(0)}}function Ty(i,a){(i.pooledCacheLanes&=a)===0&&(a=i.pooledCache,a!=null&&(i.pooledCache=null,go(a)))}function Il(i){return xy(),vy(),by(),Sy()}function Sy(){if(Vt!==5)return!1;var i=zi,a=Cf;Cf=0;var s=Q(Sa),c=$.T,p=F.p;try{F.p=32>s?32:s,$.T=null,s=Mf,Mf=null;var b=zi,M=Sa;if(Vt=0,Ta=zi=null,Sa=0,(Ze&6)!==0)throw Error(r(331));var D=Ze;if(Ze|=4,ay(b.current),ny(b,b.current,M,s),Ze=D,Bo(0,!1),ce&&typeof ce.onPostCommitFiberRoot=="function")try{ce.onPostCommitFiberRoot(te,b)}catch{}return!0}finally{F.p=p,$.T=c,Ty(i,a)}}function Cy(i,a,s){a=Cn(s,a),a=nf(i.stateNode,a,2),i=Ni(i,a,2),i!==null&&(fr(i,2),Xn(i))}function ot(i,a,s){if(i.tag===3)Cy(i,i,s);else for(;a!==null;){if(a.tag===3){Cy(a,i,s);break}else if(a.tag===1){var c=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(ji===null||!ji.has(c))){i=Cn(s,i),s=Eg(2),c=Ni(a,s,2),c!==null&&(Dg(s,c,a,i),fr(c,2),Xn(c));break}}a=a.return}}function kf(i,a,s){var c=i.pingCache;if(c===null){c=i.pingCache=new fM;var p=new Set;c.set(a,p)}else p=c.get(a),p===void 0&&(p=new Set,c.set(a,p));p.has(s)||(vf=!0,p.add(s),i=gM.bind(null,i,a,s),a.then(i,i))}function gM(i,a,s){var c=i.pingCache;c!==null&&c.delete(a),i.pingedLanes|=i.suspendedLanes&s,i.warmLanes&=~s,lt===i&&($e&s)===s&&(pt===4||pt===3&&($e&62914560)===$e&&300>xt()-Sf?(Ze&2)===0&&Ca(i,0):bf|=s,ba===$e&&(ba=0)),Xn(i)}function My(i,a){a===0&&(a=Fs()),i=aa(i,a),i!==null&&(fr(i,a),Xn(i))}function yM(i){var a=i.memoizedState,s=0;a!==null&&(s=a.retryLane),My(i,s)}function xM(i,a){var s=0;switch(i.tag){case 13:var c=i.stateNode,p=i.memoizedState;p!==null&&(s=p.retryLane);break;case 19:c=i.stateNode;break;case 22:c=i.stateNode._retryCache;break;default:throw Error(r(314))}c!==null&&c.delete(a),My(i,s)}function vM(i,a){return Le(i,a)}var Nl=null,wa=null,If=!1,Rl=!1,Nf=!1,Ir=0;function Xn(i){i!==wa&&i.next===null&&(wa===null?Nl=wa=i:wa=wa.next=i),Rl=!0,If||(If=!0,TM())}function Bo(i,a){if(!Nf&&Rl){Nf=!0;do for(var s=!1,c=Nl;c!==null;){if(i!==0){var p=c.pendingLanes;if(p===0)var b=0;else{var M=c.suspendedLanes,D=c.pingedLanes;b=(1<<31-Ce(42|i)+1)-1,b&=p&~(M&~D),b=b&201326741?b&201326741|1:b?b|2:0}b!==0&&(s=!0,Dy(c,b))}else b=$e,b=St(c,c===lt?b:0,c.cancelPendingCommit!==null||c.timeoutHandle!==-1),(b&3)===0||Wt(c,b)||(s=!0,Dy(c,b));c=c.next}while(s);Nf=!1}}function bM(){wy()}function wy(){Rl=If=!1;var i=0;Ir!==0&&(kM()&&(i=Ir),Ir=0);for(var a=xt(),s=null,c=Nl;c!==null;){var p=c.next,b=Ay(c,a);b===0?(c.next=null,s===null?Nl=p:s.next=p,p===null&&(wa=s)):(s=c,(i!==0||(b&3)!==0)&&(Rl=!0)),c=p}Bo(i)}function Ay(i,a){for(var s=i.suspendedLanes,c=i.pingedLanes,p=i.expirationTimes,b=i.pendingLanes&-62914561;0<b;){var M=31-Ce(b),D=1<<M,L=p[M];L===-1?((D&s)===0||(D&c)!==0)&&(p[M]=Qt(D,a)):L<=a&&(i.expiredLanes|=D),b&=~D}if(a=lt,s=$e,s=St(i,i===a?s:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),c=i.callbackNode,s===0||i===a&&(et===2||et===9)||i.cancelPendingCommit!==null)return c!==null&&c!==null&&Me(c),i.callbackNode=null,i.callbackPriority=0;if((s&3)===0||Wt(i,s)){if(a=s&-s,a===i.callbackPriority)return a;switch(c!==null&&Me(c),Q(s)){case 2:case 8:s=Mi;break;case 32:s=ii;break;case 268435456:s=It;break;default:s=ii}return c=Ey.bind(null,i),s=Le(s,c),i.callbackPriority=a,i.callbackNode=s,a}return c!==null&&c!==null&&Me(c),i.callbackPriority=2,i.callbackNode=null,2}function Ey(i,a){if(Vt!==0&&Vt!==5)return i.callbackNode=null,i.callbackPriority=0,null;var s=i.callbackNode;if(Il()&&i.callbackNode!==s)return null;var c=$e;return c=St(i,i===lt?c:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),c===0?null:(uy(i,c,a),Ay(i,xt()),i.callbackNode!=null&&i.callbackNode===s?Ey.bind(null,i):null)}function Dy(i,a){if(Il())return null;uy(i,a,!0)}function TM(){NM(function(){(Ze&6)!==0?Le(ur,bM):wy()})}function Rf(){return Ir===0&&(Ir=Bs()),Ir}function ky(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:Us(""+i)}function Iy(i,a){var s=a.ownerDocument.createElement("input");return s.name=a.name,s.value=a.value,i.id&&s.setAttribute("form",i.id),a.parentNode.insertBefore(s,a),i=new FormData(i),s.parentNode.removeChild(s),i}function SM(i,a,s,c,p){if(a==="submit"&&s&&s.stateNode===p){var b=ky((p[je]||null).action),M=c.submitter;M&&(a=(a=M[je]||null)?ky(a.formAction):M.getAttribute("formAction"),a!==null&&(b=a,M=null));var D=new Ys("action","action",null,c,p);i.push({event:D,listeners:[{instance:null,listener:function(){if(c.defaultPrevented){if(Ir!==0){var L=M?Iy(p,M):new FormData(p);Qc(s,{pending:!0,data:L,method:p.method,action:b},null,L)}}else typeof b=="function"&&(D.preventDefault(),L=M?Iy(p,M):new FormData(p),Qc(s,{pending:!0,data:L,method:p.method,action:b},b,L))},currentTarget:p}]})}}for(var _f=0;_f<gc.length;_f++){var Lf=gc[_f],CM=Lf.toLowerCase(),MM=Lf[0].toUpperCase()+Lf.slice(1);Fn(CM,"on"+MM)}Fn(up,"onAnimationEnd"),Fn(cp,"onAnimationIteration"),Fn(fp,"onAnimationStart"),Fn("dblclick","onDoubleClick"),Fn("focusin","onFocus"),Fn("focusout","onBlur"),Fn(zC,"onTransitionRun"),Fn(HC,"onTransitionStart"),Fn(UC,"onTransitionCancel"),Fn(dp,"onTransitionEnd"),hr("onMouseEnter",["mouseout","mouseover"]),hr("onMouseLeave",["mouseout","mouseover"]),hr("onPointerEnter",["pointerout","pointerover"]),hr("onPointerLeave",["pointerout","pointerover"]),ai("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ai("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ai("onBeforeInput",["compositionend","keypress","textInput","paste"]),ai("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ai("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ai("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Fo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),wM=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Fo));function Ny(i,a){a=(a&4)!==0;for(var s=0;s<i.length;s++){var c=i[s],p=c.event;c=c.listeners;e:{var b=void 0;if(a)for(var M=c.length-1;0<=M;M--){var D=c[M],L=D.instance,K=D.currentTarget;if(D=D.listener,L!==b&&p.isPropagationStopped())break e;b=D,p.currentTarget=K;try{b(p)}catch(re){vl(re)}p.currentTarget=null,b=L}else for(M=0;M<c.length;M++){if(D=c[M],L=D.instance,K=D.currentTarget,D=D.listener,L!==b&&p.isPropagationStopped())break e;b=D,p.currentTarget=K;try{b(p)}catch(re){vl(re)}p.currentTarget=null,b=L}}}}function He(i,a){var s=a[Ja];s===void 0&&(s=a[Ja]=new Set);var c=i+"__bubble";s.has(c)||(Ry(a,i,2,!1),s.add(c))}function Vf(i,a,s){var c=0;a&&(c|=4),Ry(s,i,c,a)}var _l="_reactListening"+Math.random().toString(36).slice(2);function Pf(i){if(!i[_l]){i[_l]=!0,js.forEach(function(s){s!=="selectionchange"&&(wM.has(s)||Vf(s,!1,i),Vf(s,!0,i))});var a=i.nodeType===9?i:i.ownerDocument;a===null||a[_l]||(a[_l]=!0,Vf("selectionchange",!1,a))}}function Ry(i,a,s,c){switch(n0(a)){case 2:var p=JM;break;case 8:p=ZM;break;default:p=Wf}s=p.bind(null,a,s,i),p=void 0,!ic||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(p=!0),c?p!==void 0?i.addEventListener(a,s,{capture:!0,passive:p}):i.addEventListener(a,s,!0):p!==void 0?i.addEventListener(a,s,{passive:p}):i.addEventListener(a,s,!1)}function Bf(i,a,s,c,p){var b=c;if((a&1)===0&&(a&2)===0&&c!==null)e:for(;;){if(c===null)return;var M=c.tag;if(M===3||M===4){var D=c.stateNode.containerInfo;if(D===p)break;if(M===4)for(M=c.return;M!==null;){var L=M.tag;if((L===3||L===4)&&M.stateNode.containerInfo===p)return;M=M.return}for(;D!==null;){if(M=Bn(D),M===null)return;if(L=M.tag,L===5||L===6||L===26||L===27){c=b=M;continue e}D=D.parentNode}}c=c.return}Oh(function(){var K=b,re=tc(s),oe=[];e:{var X=mp.get(i);if(X!==void 0){var W=Ys,De=i;switch(i){case"keypress":if(qs(s)===0)break e;case"keydown":case"keyup":W=vC;break;case"focusin":De="focus",W=sc;break;case"focusout":De="blur",W=sc;break;case"beforeblur":case"afterblur":W=sc;break;case"click":if(s.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":W=Hh;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":W=sC;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":W=SC;break;case up:case cp:case fp:W=cC;break;case dp:W=MC;break;case"scroll":case"scrollend":W=aC;break;case"wheel":W=AC;break;case"copy":case"cut":case"paste":W=dC;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":W=Gh;break;case"toggle":case"beforetoggle":W=DC}var Ae=(a&4)!==0,at=!Ae&&(i==="scroll"||i==="scrollend"),q=Ae?X!==null?X+"Capture":null:X;Ae=[];for(var j=K,Y;j!==null;){var ae=j;if(Y=ae.stateNode,ae=ae.tag,ae!==5&&ae!==26&&ae!==27||Y===null||q===null||(ae=no(j,q),ae!=null&&Ae.push(Oo(j,ae,Y))),at)break;j=j.return}0<Ae.length&&(X=new W(X,De,null,s,re),oe.push({event:X,listeners:Ae}))}}if((a&7)===0){e:{if(X=i==="mouseover"||i==="pointerover",W=i==="mouseout"||i==="pointerout",X&&s!==ec&&(De=s.relatedTarget||s.fromElement)&&(Bn(De)||De[Pn]))break e;if((W||X)&&(X=re.window===re?re:(X=re.ownerDocument)?X.defaultView||X.parentWindow:window,W?(De=s.relatedTarget||s.toElement,W=K,De=De?Bn(De):null,De!==null&&(at=l(De),Ae=De.tag,De!==at||Ae!==5&&Ae!==27&&Ae!==6)&&(De=null)):(W=null,De=K),W!==De)){if(Ae=Hh,ae="onMouseLeave",q="onMouseEnter",j="mouse",(i==="pointerout"||i==="pointerover")&&(Ae=Gh,ae="onPointerLeave",q="onPointerEnter",j="pointer"),at=W==null?X:mr(W),Y=De==null?X:mr(De),X=new Ae(ae,j+"leave",W,s,re),X.target=at,X.relatedTarget=Y,ae=null,Bn(re)===K&&(Ae=new Ae(q,j+"enter",De,s,re),Ae.target=Y,Ae.relatedTarget=at,ae=Ae),at=ae,W&&De)t:{for(Ae=W,q=De,j=0,Y=Ae;Y;Y=Aa(Y))j++;for(Y=0,ae=q;ae;ae=Aa(ae))Y++;for(;0<j-Y;)Ae=Aa(Ae),j--;for(;0<Y-j;)q=Aa(q),Y--;for(;j--;){if(Ae===q||q!==null&&Ae===q.alternate)break t;Ae=Aa(Ae),q=Aa(q)}Ae=null}else Ae=null;W!==null&&_y(oe,X,W,Ae,!1),De!==null&&at!==null&&_y(oe,at,De,Ae,!0)}}e:{if(X=K?mr(K):window,W=X.nodeName&&X.nodeName.toLowerCase(),W==="select"||W==="input"&&X.type==="file")var ve=Jh;else if(Wh(X))if(Zh)ve=FC;else{ve=PC;var Oe=VC}else W=X.nodeName,!W||W.toLowerCase()!=="input"||X.type!=="checkbox"&&X.type!=="radio"?K&&Zu(K.elementType)&&(ve=Jh):ve=BC;if(ve&&(ve=ve(i,K))){Qh(oe,ve,s,re);break e}Oe&&Oe(i,X,K),i==="focusout"&&K&&X.type==="number"&&K.memoizedProps.value!=null&&Ju(X,"number",X.value)}switch(Oe=K?mr(K):window,i){case"focusin":(Wh(Oe)||Oe.contentEditable==="true")&&(na=Oe,mc=K,co=null);break;case"focusout":co=mc=na=null;break;case"mousedown":hc=!0;break;case"contextmenu":case"mouseup":case"dragend":hc=!1,sp(oe,s,re);break;case"selectionchange":if(jC)break;case"keydown":case"keyup":sp(oe,s,re)}var Te;if(uc)e:{switch(i){case"compositionstart":var Ee="onCompositionStart";break e;case"compositionend":Ee="onCompositionEnd";break e;case"compositionupdate":Ee="onCompositionUpdate";break e}Ee=void 0}else ta?Kh(i,s)&&(Ee="onCompositionEnd"):i==="keydown"&&s.keyCode===229&&(Ee="onCompositionStart");Ee&&(qh&&s.locale!=="ko"&&(ta||Ee!=="onCompositionStart"?Ee==="onCompositionEnd"&&ta&&(Te=jh()):(Ei=re,rc="value"in Ei?Ei.value:Ei.textContent,ta=!0)),Oe=Ll(K,Ee),0<Oe.length&&(Ee=new Uh(Ee,i,null,s,re),oe.push({event:Ee,listeners:Oe}),Te?Ee.data=Te:(Te=Xh(s),Te!==null&&(Ee.data=Te)))),(Te=IC?NC(i,s):RC(i,s))&&(Ee=Ll(K,"onBeforeInput"),0<Ee.length&&(Oe=new Uh("onBeforeInput","beforeinput",null,s,re),oe.push({event:Oe,listeners:Ee}),Oe.data=Te)),SM(oe,i,K,s,re)}Ny(oe,a)})}function Oo(i,a,s){return{instance:i,listener:a,currentTarget:s}}function Ll(i,a){for(var s=a+"Capture",c=[];i!==null;){var p=i,b=p.stateNode;if(p=p.tag,p!==5&&p!==26&&p!==27||b===null||(p=no(i,s),p!=null&&c.unshift(Oo(i,p,b)),p=no(i,a),p!=null&&c.push(Oo(i,p,b))),i.tag===3)return c;i=i.return}return[]}function Aa(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function _y(i,a,s,c,p){for(var b=a._reactName,M=[];s!==null&&s!==c;){var D=s,L=D.alternate,K=D.stateNode;if(D=D.tag,L!==null&&L===c)break;D!==5&&D!==26&&D!==27||K===null||(L=K,p?(K=no(s,b),K!=null&&M.unshift(Oo(s,K,L))):p||(K=no(s,b),K!=null&&M.push(Oo(s,K,L)))),s=s.return}M.length!==0&&i.push({event:a,listeners:M})}var AM=/\r\n?/g,EM=/\u0000|\uFFFD/g;function Ly(i){return(typeof i=="string"?i:""+i).replace(AM,`
`).replace(EM,"")}function Vy(i,a){return a=Ly(a),Ly(i)===a}function Vl(){}function rt(i,a,s,c,p,b){switch(s){case"children":typeof c=="string"?a==="body"||a==="textarea"&&c===""||Jr(i,c):(typeof c=="number"||typeof c=="bigint")&&a!=="body"&&Jr(i,""+c);break;case"className":Ai(i,"class",c);break;case"tabIndex":Ai(i,"tabindex",c);break;case"dir":case"role":case"viewBox":case"width":case"height":Ai(i,s,c);break;case"style":Bh(i,c,b);break;case"data":if(a!=="object"){Ai(i,"data",c);break}case"src":case"href":if(c===""&&(a!=="a"||s!=="href")){i.removeAttribute(s);break}if(c==null||typeof c=="function"||typeof c=="symbol"||typeof c=="boolean"){i.removeAttribute(s);break}c=Us(""+c),i.setAttribute(s,c);break;case"action":case"formAction":if(typeof c=="function"){i.setAttribute(s,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof b=="function"&&(s==="formAction"?(a!=="input"&&rt(i,a,"name",p.name,p,null),rt(i,a,"formEncType",p.formEncType,p,null),rt(i,a,"formMethod",p.formMethod,p,null),rt(i,a,"formTarget",p.formTarget,p,null)):(rt(i,a,"encType",p.encType,p,null),rt(i,a,"method",p.method,p,null),rt(i,a,"target",p.target,p,null)));if(c==null||typeof c=="symbol"||typeof c=="boolean"){i.removeAttribute(s);break}c=Us(""+c),i.setAttribute(s,c);break;case"onClick":c!=null&&(i.onclick=Vl);break;case"onScroll":c!=null&&He("scroll",i);break;case"onScrollEnd":c!=null&&He("scrollend",i);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(r(61));if(s=c.__html,s!=null){if(p.children!=null)throw Error(r(60));i.innerHTML=s}}break;case"multiple":i.multiple=c&&typeof c!="function"&&typeof c!="symbol";break;case"muted":i.muted=c&&typeof c!="function"&&typeof c!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(c==null||typeof c=="function"||typeof c=="boolean"||typeof c=="symbol"){i.removeAttribute("xlink:href");break}s=Us(""+c),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":c!=null&&typeof c!="function"&&typeof c!="symbol"?i.setAttribute(s,""+c):i.removeAttribute(s);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":c&&typeof c!="function"&&typeof c!="symbol"?i.setAttribute(s,""):i.removeAttribute(s);break;case"capture":case"download":c===!0?i.setAttribute(s,""):c!==!1&&c!=null&&typeof c!="function"&&typeof c!="symbol"?i.setAttribute(s,c):i.removeAttribute(s);break;case"cols":case"rows":case"size":case"span":c!=null&&typeof c!="function"&&typeof c!="symbol"&&!isNaN(c)&&1<=c?i.setAttribute(s,c):i.removeAttribute(s);break;case"rowSpan":case"start":c==null||typeof c=="function"||typeof c=="symbol"||isNaN(c)?i.removeAttribute(s):i.setAttribute(s,c);break;case"popover":He("beforetoggle",i),He("toggle",i),Kr(i,"popover",c);break;case"xlinkActuate":Zt(i,"http://www.w3.org/1999/xlink","xlink:actuate",c);break;case"xlinkArcrole":Zt(i,"http://www.w3.org/1999/xlink","xlink:arcrole",c);break;case"xlinkRole":Zt(i,"http://www.w3.org/1999/xlink","xlink:role",c);break;case"xlinkShow":Zt(i,"http://www.w3.org/1999/xlink","xlink:show",c);break;case"xlinkTitle":Zt(i,"http://www.w3.org/1999/xlink","xlink:title",c);break;case"xlinkType":Zt(i,"http://www.w3.org/1999/xlink","xlink:type",c);break;case"xmlBase":Zt(i,"http://www.w3.org/XML/1998/namespace","xml:base",c);break;case"xmlLang":Zt(i,"http://www.w3.org/XML/1998/namespace","xml:lang",c);break;case"xmlSpace":Zt(i,"http://www.w3.org/XML/1998/namespace","xml:space",c);break;case"is":Kr(i,"is",c);break;case"innerText":case"textContent":break;default:(!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(s=iC.get(s)||s,Kr(i,s,c))}}function Ff(i,a,s,c,p,b){switch(s){case"style":Bh(i,c,b);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(r(61));if(s=c.__html,s!=null){if(p.children!=null)throw Error(r(60));i.innerHTML=s}}break;case"children":typeof c=="string"?Jr(i,c):(typeof c=="number"||typeof c=="bigint")&&Jr(i,""+c);break;case"onScroll":c!=null&&He("scroll",i);break;case"onScrollEnd":c!=null&&He("scrollend",i);break;case"onClick":c!=null&&(i.onclick=Vl);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!eo.hasOwnProperty(s))e:{if(s[0]==="o"&&s[1]==="n"&&(p=s.endsWith("Capture"),a=s.slice(2,p?s.length-7:void 0),b=i[je]||null,b=b!=null?b[s]:null,typeof b=="function"&&i.removeEventListener(a,b,p),typeof c=="function")){typeof b!="function"&&b!==null&&(s in i?i[s]=null:i.hasAttribute(s)&&i.removeAttribute(s)),i.addEventListener(a,c,p);break e}s in i?i[s]=c:c===!0?i.setAttribute(s,""):Kr(i,s,c)}}}function Pt(i,a,s){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":He("error",i),He("load",i);var c=!1,p=!1,b;for(b in s)if(s.hasOwnProperty(b)){var M=s[b];if(M!=null)switch(b){case"src":c=!0;break;case"srcSet":p=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,a));default:rt(i,a,b,M,s,null)}}p&&rt(i,a,"srcSet",s.srcSet,s,null),c&&rt(i,a,"src",s.src,s,null);return;case"input":He("invalid",i);var D=b=M=p=null,L=null,K=null;for(c in s)if(s.hasOwnProperty(c)){var re=s[c];if(re!=null)switch(c){case"name":p=re;break;case"type":M=re;break;case"checked":L=re;break;case"defaultChecked":K=re;break;case"value":b=re;break;case"defaultValue":D=re;break;case"children":case"dangerouslySetInnerHTML":if(re!=null)throw Error(r(137,a));break;default:rt(i,a,c,re,s,null)}}_h(i,b,D,L,K,M,p,!1),zs(i);return;case"select":He("invalid",i),c=M=b=null;for(p in s)if(s.hasOwnProperty(p)&&(D=s[p],D!=null))switch(p){case"value":b=D;break;case"defaultValue":M=D;break;case"multiple":c=D;default:rt(i,a,p,D,s,null)}a=b,s=M,i.multiple=!!c,a!=null?Qr(i,!!c,a,!1):s!=null&&Qr(i,!!c,s,!0);return;case"textarea":He("invalid",i),b=p=c=null;for(M in s)if(s.hasOwnProperty(M)&&(D=s[M],D!=null))switch(M){case"value":c=D;break;case"defaultValue":p=D;break;case"children":b=D;break;case"dangerouslySetInnerHTML":if(D!=null)throw Error(r(91));break;default:rt(i,a,M,D,s,null)}Vh(i,c,p,b),zs(i);return;case"option":for(L in s)if(s.hasOwnProperty(L)&&(c=s[L],c!=null))switch(L){case"selected":i.selected=c&&typeof c!="function"&&typeof c!="symbol";break;default:rt(i,a,L,c,s,null)}return;case"dialog":He("beforetoggle",i),He("toggle",i),He("cancel",i),He("close",i);break;case"iframe":case"object":He("load",i);break;case"video":case"audio":for(c=0;c<Fo.length;c++)He(Fo[c],i);break;case"image":He("error",i),He("load",i);break;case"details":He("toggle",i);break;case"embed":case"source":case"link":He("error",i),He("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(K in s)if(s.hasOwnProperty(K)&&(c=s[K],c!=null))switch(K){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,a));default:rt(i,a,K,c,s,null)}return;default:if(Zu(a)){for(re in s)s.hasOwnProperty(re)&&(c=s[re],c!==void 0&&Ff(i,a,re,c,s,void 0));return}}for(D in s)s.hasOwnProperty(D)&&(c=s[D],c!=null&&rt(i,a,D,c,s,null))}function DM(i,a,s,c){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var p=null,b=null,M=null,D=null,L=null,K=null,re=null;for(W in s){var oe=s[W];if(s.hasOwnProperty(W)&&oe!=null)switch(W){case"checked":break;case"value":break;case"defaultValue":L=oe;default:c.hasOwnProperty(W)||rt(i,a,W,null,c,oe)}}for(var X in c){var W=c[X];if(oe=s[X],c.hasOwnProperty(X)&&(W!=null||oe!=null))switch(X){case"type":b=W;break;case"name":p=W;break;case"checked":K=W;break;case"defaultChecked":re=W;break;case"value":M=W;break;case"defaultValue":D=W;break;case"children":case"dangerouslySetInnerHTML":if(W!=null)throw Error(r(137,a));break;default:W!==oe&&rt(i,a,X,W,c,oe)}}Qu(i,M,D,L,K,re,b,p);return;case"select":W=M=D=X=null;for(b in s)if(L=s[b],s.hasOwnProperty(b)&&L!=null)switch(b){case"value":break;case"multiple":W=L;default:c.hasOwnProperty(b)||rt(i,a,b,null,c,L)}for(p in c)if(b=c[p],L=s[p],c.hasOwnProperty(p)&&(b!=null||L!=null))switch(p){case"value":X=b;break;case"defaultValue":D=b;break;case"multiple":M=b;default:b!==L&&rt(i,a,p,b,c,L)}a=D,s=M,c=W,X!=null?Qr(i,!!s,X,!1):!!c!=!!s&&(a!=null?Qr(i,!!s,a,!0):Qr(i,!!s,s?[]:"",!1));return;case"textarea":W=X=null;for(D in s)if(p=s[D],s.hasOwnProperty(D)&&p!=null&&!c.hasOwnProperty(D))switch(D){case"value":break;case"children":break;default:rt(i,a,D,null,c,p)}for(M in c)if(p=c[M],b=s[M],c.hasOwnProperty(M)&&(p!=null||b!=null))switch(M){case"value":X=p;break;case"defaultValue":W=p;break;case"children":break;case"dangerouslySetInnerHTML":if(p!=null)throw Error(r(91));break;default:p!==b&&rt(i,a,M,p,c,b)}Lh(i,X,W);return;case"option":for(var De in s)if(X=s[De],s.hasOwnProperty(De)&&X!=null&&!c.hasOwnProperty(De))switch(De){case"selected":i.selected=!1;break;default:rt(i,a,De,null,c,X)}for(L in c)if(X=c[L],W=s[L],c.hasOwnProperty(L)&&X!==W&&(X!=null||W!=null))switch(L){case"selected":i.selected=X&&typeof X!="function"&&typeof X!="symbol";break;default:rt(i,a,L,X,c,W)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ae in s)X=s[Ae],s.hasOwnProperty(Ae)&&X!=null&&!c.hasOwnProperty(Ae)&&rt(i,a,Ae,null,c,X);for(K in c)if(X=c[K],W=s[K],c.hasOwnProperty(K)&&X!==W&&(X!=null||W!=null))switch(K){case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(r(137,a));break;default:rt(i,a,K,X,c,W)}return;default:if(Zu(a)){for(var at in s)X=s[at],s.hasOwnProperty(at)&&X!==void 0&&!c.hasOwnProperty(at)&&Ff(i,a,at,void 0,c,X);for(re in c)X=c[re],W=s[re],!c.hasOwnProperty(re)||X===W||X===void 0&&W===void 0||Ff(i,a,re,X,c,W);return}}for(var q in s)X=s[q],s.hasOwnProperty(q)&&X!=null&&!c.hasOwnProperty(q)&&rt(i,a,q,null,c,X);for(oe in c)X=c[oe],W=s[oe],!c.hasOwnProperty(oe)||X===W||X==null&&W==null||rt(i,a,oe,X,c,W)}var Of=null,jf=null;function Pl(i){return i.nodeType===9?i:i.ownerDocument}function Py(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function By(i,a){if(i===0)switch(a){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&a==="foreignObject"?0:i}function zf(i,a){return i==="textarea"||i==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.children=="bigint"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var Hf=null;function kM(){var i=window.event;return i&&i.type==="popstate"?i===Hf?!1:(Hf=i,!0):(Hf=null,!1)}var Fy=typeof setTimeout=="function"?setTimeout:void 0,IM=typeof clearTimeout=="function"?clearTimeout:void 0,Oy=typeof Promise=="function"?Promise:void 0,NM=typeof queueMicrotask=="function"?queueMicrotask:typeof Oy<"u"?function(i){return Oy.resolve(null).then(i).catch(RM)}:Fy;function RM(i){setTimeout(function(){throw i})}function Ui(i){return i==="head"}function jy(i,a){var s=a,c=0,p=0;do{var b=s.nextSibling;if(i.removeChild(s),b&&b.nodeType===8)if(s=b.data,s==="/$"){if(0<c&&8>c){s=c;var M=i.ownerDocument;if(s&1&&jo(M.documentElement),s&2&&jo(M.body),s&4)for(s=M.head,jo(s),M=s.firstChild;M;){var D=M.nextSibling,L=M.nodeName;M[dr]||L==="SCRIPT"||L==="STYLE"||L==="LINK"&&M.rel.toLowerCase()==="stylesheet"||s.removeChild(M),M=D}}if(p===0){i.removeChild(b),Ko(a);return}p--}else s==="$"||s==="$?"||s==="$!"?p++:c=s.charCodeAt(0)-48;else c=0;s=b}while(s);Ko(a)}function Uf(i){var a=i.firstChild;for(a&&a.nodeType===10&&(a=a.nextSibling);a;){var s=a;switch(a=a.nextSibling,s.nodeName){case"HTML":case"HEAD":case"BODY":Uf(s),Za(s);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(s.rel.toLowerCase()==="stylesheet")continue}i.removeChild(s)}}function _M(i,a,s,c){for(;i.nodeType===1;){var p=s;if(i.nodeName.toLowerCase()!==a.toLowerCase()){if(!c&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(c){if(!i[dr])switch(a){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(b=i.getAttribute("rel"),b==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(b!==p.rel||i.getAttribute("href")!==(p.href==null||p.href===""?null:p.href)||i.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin)||i.getAttribute("title")!==(p.title==null?null:p.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(b=i.getAttribute("src"),(b!==(p.src==null?null:p.src)||i.getAttribute("type")!==(p.type==null?null:p.type)||i.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin))&&b&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(a==="input"&&i.type==="hidden"){var b=p.name==null?null:""+p.name;if(p.type==="hidden"&&i.getAttribute("name")===b)return i}else return i;if(i=jn(i.nextSibling),i===null)break}return null}function LM(i,a,s){if(a==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!s||(i=jn(i.nextSibling),i===null))return null;return i}function Gf(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState==="complete"}function VM(i,a){var s=i.ownerDocument;if(i.data!=="$?"||s.readyState==="complete")a();else{var c=function(){a(),s.removeEventListener("DOMContentLoaded",c)};s.addEventListener("DOMContentLoaded",c),i._reactRetry=c}}function jn(i){for(;i!=null;i=i.nextSibling){var a=i.nodeType;if(a===1||a===3)break;if(a===8){if(a=i.data,a==="$"||a==="$!"||a==="$?"||a==="F!"||a==="F")break;if(a==="/$")return null}}return i}var qf=null;function zy(i){i=i.previousSibling;for(var a=0;i;){if(i.nodeType===8){var s=i.data;if(s==="$"||s==="$!"||s==="$?"){if(a===0)return i;a--}else s==="/$"&&a++}i=i.previousSibling}return null}function Hy(i,a,s){switch(a=Pl(s),i){case"html":if(i=a.documentElement,!i)throw Error(r(452));return i;case"head":if(i=a.head,!i)throw Error(r(453));return i;case"body":if(i=a.body,!i)throw Error(r(454));return i;default:throw Error(r(451))}}function jo(i){for(var a=i.attributes;a.length;)i.removeAttributeNode(a[0]);Za(i)}var kn=new Map,Uy=new Set;function Bl(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var bi=F.d;F.d={f:PM,r:BM,D:FM,C:OM,L:jM,m:zM,X:UM,S:HM,M:GM};function PM(){var i=bi.f(),a=Dl();return i||a}function BM(i){var a=ri(i);a!==null&&a.tag===5&&a.type==="form"?ug(a):bi.r(i)}var Ea=typeof document>"u"?null:document;function Gy(i,a,s){var c=Ea;if(c&&typeof a=="string"&&a){var p=Sn(a);p='link[rel="'+i+'"][href="'+p+'"]',typeof s=="string"&&(p+='[crossorigin="'+s+'"]'),Uy.has(p)||(Uy.add(p),i={rel:i,crossOrigin:s,href:a},c.querySelector(p)===null&&(a=c.createElement("link"),Pt(a,"link",i),Ct(a),c.head.appendChild(a)))}}function FM(i){bi.D(i),Gy("dns-prefetch",i,null)}function OM(i,a){bi.C(i,a),Gy("preconnect",i,a)}function jM(i,a,s){bi.L(i,a,s);var c=Ea;if(c&&i&&a){var p='link[rel="preload"][as="'+Sn(a)+'"]';a==="image"&&s&&s.imageSrcSet?(p+='[imagesrcset="'+Sn(s.imageSrcSet)+'"]',typeof s.imageSizes=="string"&&(p+='[imagesizes="'+Sn(s.imageSizes)+'"]')):p+='[href="'+Sn(i)+'"]';var b=p;switch(a){case"style":b=Da(i);break;case"script":b=ka(i)}kn.has(b)||(i=h({rel:"preload",href:a==="image"&&s&&s.imageSrcSet?void 0:i,as:a},s),kn.set(b,i),c.querySelector(p)!==null||a==="style"&&c.querySelector(zo(b))||a==="script"&&c.querySelector(Ho(b))||(a=c.createElement("link"),Pt(a,"link",i),Ct(a),c.head.appendChild(a)))}}function zM(i,a){bi.m(i,a);var s=Ea;if(s&&i){var c=a&&typeof a.as=="string"?a.as:"script",p='link[rel="modulepreload"][as="'+Sn(c)+'"][href="'+Sn(i)+'"]',b=p;switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":b=ka(i)}if(!kn.has(b)&&(i=h({rel:"modulepreload",href:i},a),kn.set(b,i),s.querySelector(p)===null)){switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(s.querySelector(Ho(b)))return}c=s.createElement("link"),Pt(c,"link",i),Ct(c),s.head.appendChild(c)}}}function HM(i,a,s){bi.S(i,a,s);var c=Ea;if(c&&i){var p=wi(c).hoistableStyles,b=Da(i);a=a||"default";var M=p.get(b);if(!M){var D={loading:0,preload:null};if(M=c.querySelector(zo(b)))D.loading=5;else{i=h({rel:"stylesheet",href:i,"data-precedence":a},s),(s=kn.get(b))&&$f(i,s);var L=M=c.createElement("link");Ct(L),Pt(L,"link",i),L._p=new Promise(function(K,re){L.onload=K,L.onerror=re}),L.addEventListener("load",function(){D.loading|=1}),L.addEventListener("error",function(){D.loading|=2}),D.loading|=4,Fl(M,a,c)}M={type:"stylesheet",instance:M,count:1,state:D},p.set(b,M)}}}function UM(i,a){bi.X(i,a);var s=Ea;if(s&&i){var c=wi(s).hoistableScripts,p=ka(i),b=c.get(p);b||(b=s.querySelector(Ho(p)),b||(i=h({src:i,async:!0},a),(a=kn.get(p))&&Yf(i,a),b=s.createElement("script"),Ct(b),Pt(b,"link",i),s.head.appendChild(b)),b={type:"script",instance:b,count:1,state:null},c.set(p,b))}}function GM(i,a){bi.M(i,a);var s=Ea;if(s&&i){var c=wi(s).hoistableScripts,p=ka(i),b=c.get(p);b||(b=s.querySelector(Ho(p)),b||(i=h({src:i,async:!0,type:"module"},a),(a=kn.get(p))&&Yf(i,a),b=s.createElement("script"),Ct(b),Pt(b,"link",i),s.head.appendChild(b)),b={type:"script",instance:b,count:1,state:null},c.set(p,b))}}function qy(i,a,s,c){var p=(p=J.current)?Bl(p):null;if(!p)throw Error(r(446));switch(i){case"meta":case"title":return null;case"style":return typeof s.precedence=="string"&&typeof s.href=="string"?(a=Da(s.href),s=wi(p).hoistableStyles,c=s.get(a),c||(c={type:"style",instance:null,count:0,state:null},s.set(a,c)),c):{type:"void",instance:null,count:0,state:null};case"link":if(s.rel==="stylesheet"&&typeof s.href=="string"&&typeof s.precedence=="string"){i=Da(s.href);var b=wi(p).hoistableStyles,M=b.get(i);if(M||(p=p.ownerDocument||p,M={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},b.set(i,M),(b=p.querySelector(zo(i)))&&!b._p&&(M.instance=b,M.state.loading=5),kn.has(i)||(s={rel:"preload",as:"style",href:s.href,crossOrigin:s.crossOrigin,integrity:s.integrity,media:s.media,hrefLang:s.hrefLang,referrerPolicy:s.referrerPolicy},kn.set(i,s),b||qM(p,i,s,M.state))),a&&c===null)throw Error(r(528,""));return M}if(a&&c!==null)throw Error(r(529,""));return null;case"script":return a=s.async,s=s.src,typeof s=="string"&&a&&typeof a!="function"&&typeof a!="symbol"?(a=ka(s),s=wi(p).hoistableScripts,c=s.get(a),c||(c={type:"script",instance:null,count:0,state:null},s.set(a,c)),c):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,i))}}function Da(i){return'href="'+Sn(i)+'"'}function zo(i){return'link[rel="stylesheet"]['+i+"]"}function $y(i){return h({},i,{"data-precedence":i.precedence,precedence:null})}function qM(i,a,s,c){i.querySelector('link[rel="preload"][as="style"]['+a+"]")?c.loading=1:(a=i.createElement("link"),c.preload=a,a.addEventListener("load",function(){return c.loading|=1}),a.addEventListener("error",function(){return c.loading|=2}),Pt(a,"link",s),Ct(a),i.head.appendChild(a))}function ka(i){return'[src="'+Sn(i)+'"]'}function Ho(i){return"script[async]"+i}function Yy(i,a,s){if(a.count++,a.instance===null)switch(a.type){case"style":var c=i.querySelector('style[data-href~="'+Sn(s.href)+'"]');if(c)return a.instance=c,Ct(c),c;var p=h({},s,{"data-href":s.href,"data-precedence":s.precedence,href:null,precedence:null});return c=(i.ownerDocument||i).createElement("style"),Ct(c),Pt(c,"style",p),Fl(c,s.precedence,i),a.instance=c;case"stylesheet":p=Da(s.href);var b=i.querySelector(zo(p));if(b)return a.state.loading|=4,a.instance=b,Ct(b),b;c=$y(s),(p=kn.get(p))&&$f(c,p),b=(i.ownerDocument||i).createElement("link"),Ct(b);var M=b;return M._p=new Promise(function(D,L){M.onload=D,M.onerror=L}),Pt(b,"link",c),a.state.loading|=4,Fl(b,s.precedence,i),a.instance=b;case"script":return b=ka(s.src),(p=i.querySelector(Ho(b)))?(a.instance=p,Ct(p),p):(c=s,(p=kn.get(b))&&(c=h({},s),Yf(c,p)),i=i.ownerDocument||i,p=i.createElement("script"),Ct(p),Pt(p,"link",c),i.head.appendChild(p),a.instance=p);case"void":return null;default:throw Error(r(443,a.type))}else a.type==="stylesheet"&&(a.state.loading&4)===0&&(c=a.instance,a.state.loading|=4,Fl(c,s.precedence,i));return a.instance}function Fl(i,a,s){for(var c=s.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),p=c.length?c[c.length-1]:null,b=p,M=0;M<c.length;M++){var D=c[M];if(D.dataset.precedence===a)b=D;else if(b!==p)break}b?b.parentNode.insertBefore(i,b.nextSibling):(a=s.nodeType===9?s.head:s,a.insertBefore(i,a.firstChild))}function $f(i,a){i.crossOrigin==null&&(i.crossOrigin=a.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=a.referrerPolicy),i.title==null&&(i.title=a.title)}function Yf(i,a){i.crossOrigin==null&&(i.crossOrigin=a.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=a.referrerPolicy),i.integrity==null&&(i.integrity=a.integrity)}var Ol=null;function Ky(i,a,s){if(Ol===null){var c=new Map,p=Ol=new Map;p.set(s,c)}else p=Ol,c=p.get(s),c||(c=new Map,p.set(s,c));if(c.has(i))return c;for(c.set(i,null),s=s.getElementsByTagName(i),p=0;p<s.length;p++){var b=s[p];if(!(b[dr]||b[qe]||i==="link"&&b.getAttribute("rel")==="stylesheet")&&b.namespaceURI!=="http://www.w3.org/2000/svg"){var M=b.getAttribute(a)||"";M=i+M;var D=c.get(M);D?D.push(b):c.set(M,[b])}}return c}function Xy(i,a,s){i=i.ownerDocument||i,i.head.insertBefore(s,a==="title"?i.querySelector("head > title"):null)}function $M(i,a,s){if(s===1||a.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof a.precedence!="string"||typeof a.href!="string"||a.href==="")break;return!0;case"link":if(typeof a.rel!="string"||typeof a.href!="string"||a.href===""||a.onLoad||a.onError)break;switch(a.rel){case"stylesheet":return i=a.disabled,typeof a.precedence=="string"&&i==null;default:return!0}case"script":if(a.async&&typeof a.async!="function"&&typeof a.async!="symbol"&&!a.onLoad&&!a.onError&&a.src&&typeof a.src=="string")return!0}return!1}function Wy(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}var Uo=null;function YM(){}function KM(i,a,s){if(Uo===null)throw Error(r(475));var c=Uo;if(a.type==="stylesheet"&&(typeof s.media!="string"||matchMedia(s.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var p=Da(s.href),b=i.querySelector(zo(p));if(b){i=b._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(c.count++,c=jl.bind(c),i.then(c,c)),a.state.loading|=4,a.instance=b,Ct(b);return}b=i.ownerDocument||i,s=$y(s),(p=kn.get(p))&&$f(s,p),b=b.createElement("link"),Ct(b);var M=b;M._p=new Promise(function(D,L){M.onload=D,M.onerror=L}),Pt(b,"link",s),a.instance=b}c.stylesheets===null&&(c.stylesheets=new Map),c.stylesheets.set(a,i),(i=a.state.preload)&&(a.state.loading&3)===0&&(c.count++,a=jl.bind(c),i.addEventListener("load",a),i.addEventListener("error",a))}}function XM(){if(Uo===null)throw Error(r(475));var i=Uo;return i.stylesheets&&i.count===0&&Kf(i,i.stylesheets),0<i.count?function(a){var s=setTimeout(function(){if(i.stylesheets&&Kf(i,i.stylesheets),i.unsuspend){var c=i.unsuspend;i.unsuspend=null,c()}},6e4);return i.unsuspend=a,function(){i.unsuspend=null,clearTimeout(s)}}:null}function jl(){if(this.count--,this.count===0){if(this.stylesheets)Kf(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var zl=null;function Kf(i,a){i.stylesheets=null,i.unsuspend!==null&&(i.count++,zl=new Map,a.forEach(WM,i),zl=null,jl.call(i))}function WM(i,a){if(!(a.state.loading&4)){var s=zl.get(i);if(s)var c=s.get(null);else{s=new Map,zl.set(i,s);for(var p=i.querySelectorAll("link[data-precedence],style[data-precedence]"),b=0;b<p.length;b++){var M=p[b];(M.nodeName==="LINK"||M.getAttribute("media")!=="not all")&&(s.set(M.dataset.precedence,M),c=M)}c&&s.set(null,c)}p=a.instance,M=p.getAttribute("data-precedence"),b=s.get(M)||c,b===c&&s.set(null,p),s.set(M,p),this.count++,c=jl.bind(this),p.addEventListener("load",c),p.addEventListener("error",c),b?b.parentNode.insertBefore(p,b.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(p,i.firstChild)),a.state.loading|=4}}var Go={$$typeof:I,Provider:null,Consumer:null,_currentValue:N,_currentValue2:N,_threadCount:0};function QM(i,a,s,c,p,b,M,D){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=$r(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=$r(0),this.hiddenUpdates=$r(null),this.identifierPrefix=c,this.onUncaughtError=p,this.onCaughtError=b,this.onRecoverableError=M,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=D,this.incompleteTransitions=new Map}function Qy(i,a,s,c,p,b,M,D,L,K,re,oe){return i=new QM(i,a,s,M,D,L,K,oe),a=1,b===!0&&(a|=24),b=fn(3,null,null,a),i.current=b,b.stateNode=i,a=Dc(),a.refCount++,i.pooledCache=a,a.refCount++,b.memoizedState={element:c,isDehydrated:s,cache:a},Rc(b),i}function Jy(i){return i?(i=oa,i):oa}function Zy(i,a,s,c,p,b){p=Jy(p),c.context===null?c.context=p:c.pendingContext=p,c=Ii(a),c.payload={element:s},b=b===void 0?null:b,b!==null&&(c.callback=b),s=Ni(i,c,a),s!==null&&(gn(s,i,a),bo(s,i,a))}function e0(i,a){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var s=i.retryLane;i.retryLane=s!==0&&s<a?s:a}}function Xf(i,a){e0(i,a),(i=i.alternate)&&e0(i,a)}function t0(i){if(i.tag===13){var a=aa(i,67108864);a!==null&&gn(a,i,67108864),Xf(i,67108864)}}var Hl=!0;function JM(i,a,s,c){var p=$.T;$.T=null;var b=F.p;try{F.p=2,Wf(i,a,s,c)}finally{F.p=b,$.T=p}}function ZM(i,a,s,c){var p=$.T;$.T=null;var b=F.p;try{F.p=8,Wf(i,a,s,c)}finally{F.p=b,$.T=p}}function Wf(i,a,s,c){if(Hl){var p=Qf(c);if(p===null)Bf(i,a,c,Ul,s),i0(i,c);else if(tw(p,i,a,s,c))c.stopPropagation();else if(i0(i,c),a&4&&-1<ew.indexOf(i)){for(;p!==null;){var b=ri(p);if(b!==null)switch(b.tag){case 3:if(b=b.stateNode,b.current.memoizedState.isDehydrated){var M=Ot(b.pendingLanes);if(M!==0){var D=b;for(D.pendingLanes|=2,D.entangledLanes|=2;M;){var L=1<<31-Ce(M);D.entanglements[1]|=L,M&=~L}Xn(b),(Ze&6)===0&&(Al=xt()+500,Bo(0))}}break;case 13:D=aa(b,2),D!==null&&gn(D,b,2),Dl(),Xf(b,2)}if(b=Qf(c),b===null&&Bf(i,a,c,Ul,s),b===p)break;p=b}p!==null&&c.stopPropagation()}else Bf(i,a,c,null,s)}}function Qf(i){return i=tc(i),Jf(i)}var Ul=null;function Jf(i){if(Ul=null,i=Bn(i),i!==null){var a=l(i);if(a===null)i=null;else{var s=a.tag;if(s===13){if(i=u(a),i!==null)return i;i=null}else if(s===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;i=null}else a!==i&&(i=null)}}return Ul=i,null}function n0(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ur()){case ur:return 2;case Mi:return 8;case ii:case Gr:return 32;case It:return 268435456;default:return 32}default:return 32}}var Zf=!1,Gi=null,qi=null,$i=null,qo=new Map,$o=new Map,Yi=[],ew="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function i0(i,a){switch(i){case"focusin":case"focusout":Gi=null;break;case"dragenter":case"dragleave":qi=null;break;case"mouseover":case"mouseout":$i=null;break;case"pointerover":case"pointerout":qo.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":$o.delete(a.pointerId)}}function Yo(i,a,s,c,p,b){return i===null||i.nativeEvent!==b?(i={blockedOn:a,domEventName:s,eventSystemFlags:c,nativeEvent:b,targetContainers:[p]},a!==null&&(a=ri(a),a!==null&&t0(a)),i):(i.eventSystemFlags|=c,a=i.targetContainers,p!==null&&a.indexOf(p)===-1&&a.push(p),i)}function tw(i,a,s,c,p){switch(a){case"focusin":return Gi=Yo(Gi,i,a,s,c,p),!0;case"dragenter":return qi=Yo(qi,i,a,s,c,p),!0;case"mouseover":return $i=Yo($i,i,a,s,c,p),!0;case"pointerover":var b=p.pointerId;return qo.set(b,Yo(qo.get(b)||null,i,a,s,c,p)),!0;case"gotpointercapture":return b=p.pointerId,$o.set(b,Yo($o.get(b)||null,i,a,s,c,p)),!0}return!1}function r0(i){var a=Bn(i.target);if(a!==null){var s=l(a);if(s!==null){if(a=s.tag,a===13){if(a=u(s),a!==null){i.blockedOn=a,xe(i.priority,function(){if(s.tag===13){var c=pn();c=Yr(c);var p=aa(s,c);p!==null&&gn(p,s,c),Xf(s,c)}});return}}else if(a===3&&s.stateNode.current.memoizedState.isDehydrated){i.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}i.blockedOn=null}function Gl(i){if(i.blockedOn!==null)return!1;for(var a=i.targetContainers;0<a.length;){var s=Qf(i.nativeEvent);if(s===null){s=i.nativeEvent;var c=new s.constructor(s.type,s);ec=c,s.target.dispatchEvent(c),ec=null}else return a=ri(s),a!==null&&t0(a),i.blockedOn=s,!1;a.shift()}return!0}function a0(i,a,s){Gl(i)&&s.delete(a)}function nw(){Zf=!1,Gi!==null&&Gl(Gi)&&(Gi=null),qi!==null&&Gl(qi)&&(qi=null),$i!==null&&Gl($i)&&($i=null),qo.forEach(a0),$o.forEach(a0)}function ql(i,a){i.blockedOn===a&&(i.blockedOn=null,Zf||(Zf=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,nw)))}var $l=null;function o0(i){$l!==i&&($l=i,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){$l===i&&($l=null);for(var a=0;a<i.length;a+=3){var s=i[a],c=i[a+1],p=i[a+2];if(typeof c!="function"){if(Jf(c||s)===null)continue;break}var b=ri(s);b!==null&&(i.splice(a,3),a-=3,Qc(b,{pending:!0,data:p,method:s.method,action:c},c,p))}}))}function Ko(i){function a(L){return ql(L,i)}Gi!==null&&ql(Gi,i),qi!==null&&ql(qi,i),$i!==null&&ql($i,i),qo.forEach(a),$o.forEach(a);for(var s=0;s<Yi.length;s++){var c=Yi[s];c.blockedOn===i&&(c.blockedOn=null)}for(;0<Yi.length&&(s=Yi[0],s.blockedOn===null);)r0(s),s.blockedOn===null&&Yi.shift();if(s=(i.ownerDocument||i).$$reactFormReplay,s!=null)for(c=0;c<s.length;c+=3){var p=s[c],b=s[c+1],M=p[je]||null;if(typeof b=="function")M||o0(s);else if(M){var D=null;if(b&&b.hasAttribute("formAction")){if(p=b,M=b[je]||null)D=M.formAction;else if(Jf(p)!==null)continue}else D=M.action;typeof D=="function"?s[c+1]=D:(s.splice(c,3),c-=3),o0(s)}}}function ed(i){this._internalRoot=i}Yl.prototype.render=ed.prototype.render=function(i){var a=this._internalRoot;if(a===null)throw Error(r(409));var s=a.current,c=pn();Zy(s,c,i,a,null,null)},Yl.prototype.unmount=ed.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var a=i.containerInfo;Zy(i.current,2,null,i,null,null),Dl(),a[Pn]=null}};function Yl(i){this._internalRoot=i}Yl.prototype.unstable_scheduleHydration=function(i){if(i){var a=de();i={blockedOn:null,target:i,priority:a};for(var s=0;s<Yi.length&&a!==0&&a<Yi[s].priority;s++);Yi.splice(s,0,i),s===0&&r0(i)}};var s0=t.version;if(s0!=="19.1.0")throw Error(r(527,s0,"19.1.0"));F.findDOMNode=function(i){var a=i._reactInternals;if(a===void 0)throw typeof i.render=="function"?Error(r(188)):(i=Object.keys(i).join(","),Error(r(268,i)));return i=m(a),i=i!==null?d(i):null,i=i===null?null:i.stateNode,i};var iw={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:$,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Kl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Kl.isDisabled&&Kl.supportsFiber)try{te=Kl.inject(iw),ce=Kl}catch{}}return Wo.createRoot=function(i,a){if(!o(i))throw Error(r(299));var s=!1,c="",p=Cg,b=Mg,M=wg,D=null;return a!=null&&(a.unstable_strictMode===!0&&(s=!0),a.identifierPrefix!==void 0&&(c=a.identifierPrefix),a.onUncaughtError!==void 0&&(p=a.onUncaughtError),a.onCaughtError!==void 0&&(b=a.onCaughtError),a.onRecoverableError!==void 0&&(M=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(D=a.unstable_transitionCallbacks)),a=Qy(i,1,!1,null,null,s,c,p,b,M,D,null),i[Pn]=a.current,Pf(i),new ed(a)},Wo.hydrateRoot=function(i,a,s){if(!o(i))throw Error(r(299));var c=!1,p="",b=Cg,M=Mg,D=wg,L=null,K=null;return s!=null&&(s.unstable_strictMode===!0&&(c=!0),s.identifierPrefix!==void 0&&(p=s.identifierPrefix),s.onUncaughtError!==void 0&&(b=s.onUncaughtError),s.onCaughtError!==void 0&&(M=s.onCaughtError),s.onRecoverableError!==void 0&&(D=s.onRecoverableError),s.unstable_transitionCallbacks!==void 0&&(L=s.unstable_transitionCallbacks),s.formState!==void 0&&(K=s.formState)),a=Qy(i,1,!0,a,s??null,c,p,b,M,D,L,K),a.context=Jy(null),s=a.current,c=pn(),c=Yr(c),p=Ii(c),p.callback=null,Ni(s,p,c),s=c,a.current.lanes=s,fr(a,s),Xn(a),i[Pn]=a.current,Pf(i),new Yl(a)},Wo.version="19.1.0",Wo}var y0;function hw(){if(y0)return id.exports;y0=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),id.exports=mw(),id.exports}var pw=hw();const gw=Ds(pw);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let yw,xw;function vw(){return{geminiUrl:yw,vertexUrl:xw}}function bw(e,t,n){var r,o,l;if(!(!((r=e.httpOptions)===null||r===void 0)&&r.baseUrl)){const u=vw();return e.vertexai?(o=u.vertexUrl)!==null&&o!==void 0?o:t:(l=u.geminiUrl)!==null&&l!==void 0?l:n}return e.httpOptions.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class ks{}function Re(e,t){const n=/\{([^}]+)\}/g;return e.replace(n,(r,o)=>{if(Object.prototype.hasOwnProperty.call(t,o)){const l=t[o];return l!=null?String(l):""}else throw new Error(`Key '${o}' not found in valueMap.`)})}function v(e,t,n){for(let l=0;l<t.length-1;l++){const u=t[l];if(u.endsWith("[]")){const f=u.slice(0,-2);if(!(f in e))if(Array.isArray(n))e[f]=Array.from({length:n.length},()=>({}));else throw new Error(`Value must be a list given an array path ${u}`);if(Array.isArray(e[f])){const m=e[f];if(Array.isArray(n))for(let d=0;d<m.length;d++){const h=m[d];v(h,t.slice(l+1),n[d])}else for(const d of m)v(d,t.slice(l+1),n)}return}else if(u.endsWith("[0]")){const f=u.slice(0,-3);f in e||(e[f]=[{}]);const m=e[f];v(m[0],t.slice(l+1),n);return}(!e[u]||typeof e[u]!="object")&&(e[u]={}),e=e[u]}const r=t[t.length-1],o=e[r];if(o!==void 0){if(!n||typeof n=="object"&&Object.keys(n).length===0||n===o)return;if(typeof o=="object"&&typeof n=="object"&&o!==null&&n!==null)Object.assign(o,n);else throw new Error(`Cannot set value for an existing key. Key: ${r}`)}else e[r]=n}function x(e,t){try{if(t.length===1&&t[0]==="_self")return e;for(let n=0;n<t.length;n++){if(typeof e!="object"||e===null)return;const r=t[n];if(r.endsWith("[]")){const o=r.slice(0,-2);if(o in e){const l=e[o];return Array.isArray(l)?l.map(u=>x(u,t.slice(n+1))):void 0}else return}else e=e[r]}return e}catch(n){if(n instanceof TypeError)return;throw n}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function yt(e,t){if(!t||typeof t!="string")throw new Error("model is required and must be a string");if(e.isVertexAI()){if(t.startsWith("publishers/")||t.startsWith("projects/")||t.startsWith("models/"))return t;if(t.indexOf("/")>=0){const n=t.split("/",2);return`publishers/${n[0]}/models/${n[1]}`}else return`publishers/google/models/${t}`}else return t.startsWith("models/")||t.startsWith("tunedModels/")?t:`models/${t}`}function Gb(e,t){const n=yt(e,t);return n?n.startsWith("publishers/")&&e.isVertexAI()?`projects/${e.getProject()}/locations/${e.getLocation()}/${n}`:n.startsWith("models/")&&e.isVertexAI()?`projects/${e.getProject()}/locations/${e.getLocation()}/publishers/google/${n}`:n:""}function qb(e,t){return Array.isArray(t)?t.map(n=>vu(e,n)):[vu(e,t)]}function vu(e,t){if(typeof t=="object"&&t!==null)return t;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof t}`)}function Tw(e,t){const n=vu(e,t);if(n.mimeType&&n.mimeType.startsWith("image/"))return n;throw new Error(`Unsupported mime type: ${n.mimeType}`)}function Sw(e,t){const n=vu(e,t);if(n.mimeType&&n.mimeType.startsWith("audio/"))return n;throw new Error(`Unsupported mime type: ${n.mimeType}`)}function x0(e,t){if(t==null)throw new Error("PartUnion is required");if(typeof t=="object")return t;if(typeof t=="string")return{text:t};throw new Error(`Unsupported part type: ${typeof t}`)}function $b(e,t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("PartListUnion is required");return Array.isArray(t)?t.map(n=>x0(e,n)):[x0(e,t)]}function Hd(e){return e!=null&&typeof e=="object"&&"parts"in e&&Array.isArray(e.parts)}function v0(e){return e!=null&&typeof e=="object"&&"functionCall"in e}function b0(e){return e!=null&&typeof e=="object"&&"functionResponse"in e}function on(e,t){if(t==null)throw new Error("ContentUnion is required");return Hd(t)?t:{role:"user",parts:$b(e,t)}}function Yb(e,t){if(!t)return[];if(e.isVertexAI()&&Array.isArray(t))return t.flatMap(n=>{const r=on(e,n);return r.parts&&r.parts.length>0&&r.parts[0].text!==void 0?[r.parts[0].text]:[]});if(e.isVertexAI()){const n=on(e,t);return n.parts&&n.parts.length>0&&n.parts[0].text!==void 0?[n.parts[0].text]:[]}return Array.isArray(t)?t.map(n=>on(e,n)):[on(e,t)]}function nr(e,t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("contents are required");if(!Array.isArray(t)){if(v0(t)||b0(t))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[on(e,t)]}const n=[],r=[],o=Hd(t[0]);for(const l of t){const u=Hd(l);if(u!=o)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(u)n.push(l);else{if(v0(l)||b0(l))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");r.push(l)}}return o||n.push({role:"user",parts:$b(e,r)}),n}function Kb(e,t){return t}function Xb(e,t){if(typeof t=="object")return t;if(typeof t=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:t}}};throw new Error(`Unsupported speechConfig type: ${typeof t}`)}function Lu(e,t){return t}function Vu(e,t){if(!Array.isArray(t))throw new Error("tool is required and must be an array of Tools");return t}function Cw(e,t,n,r=1){const o=!t.startsWith(`${n}/`)&&t.split("/").length===r;return e.isVertexAI()?t.startsWith("projects/")?t:t.startsWith("locations/")?`projects/${e.getProject()}/${t}`:t.startsWith(`${n}/`)?`projects/${e.getProject()}/locations/${e.getLocation()}/${t}`:o?`projects/${e.getProject()}/locations/${e.getLocation()}/${n}/${t}`:t:o?`${n}/${t}`:t}function ir(e,t){if(typeof t!="string")throw new Error("name must be a string");return Cw(e,t,"cachedContents")}function Wb(e,t){switch(t){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return t}}function rr(e,t){if(typeof t!="string")throw new Error("fromImageBytes must be a string");return t}function Qb(e,t){if(typeof t!="string")throw new Error("fromName must be a string");return t.startsWith("files/")?t.split("files/")[1]:t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Mw(e,t){const n={};if(x(t,["videoMetadata"])!==void 0)throw new Error("videoMetadata parameter is not supported in Gemini API.");const r=x(t,["thought"]);r!=null&&v(n,["thought"],r);const o=x(t,["codeExecutionResult"]);o!=null&&v(n,["codeExecutionResult"],o);const l=x(t,["executableCode"]);l!=null&&v(n,["executableCode"],l);const u=x(t,["fileData"]);u!=null&&v(n,["fileData"],u);const f=x(t,["functionCall"]);f!=null&&v(n,["functionCall"],f);const m=x(t,["functionResponse"]);m!=null&&v(n,["functionResponse"],m);const d=x(t,["inlineData"]);d!=null&&v(n,["inlineData"],d);const h=x(t,["text"]);return h!=null&&v(n,["text"],h),n}function T0(e,t){const n={},r=x(t,["parts"]);if(r!=null){let l=r;Array.isArray(l)&&(l=l.map(u=>Mw(e,u))),v(n,["parts"],l)}const o=x(t,["role"]);return o!=null&&v(n,["role"],o),n}function ww(){return{}}function Aw(e,t){const n={},r=x(t,["mode"]);r!=null&&v(n,["mode"],r);const o=x(t,["dynamicThreshold"]);return o!=null&&v(n,["dynamicThreshold"],o),n}function Ew(e,t){const n={},r=x(t,["dynamicRetrievalConfig"]);return r!=null&&v(n,["dynamicRetrievalConfig"],Aw(e,r)),n}function Dw(e,t){const n={};if(x(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");x(t,["googleSearch"])!=null&&v(n,["googleSearch"],ww());const o=x(t,["googleSearchRetrieval"]);o!=null&&v(n,["googleSearchRetrieval"],Ew(e,o));const l=x(t,["codeExecution"]);l!=null&&v(n,["codeExecution"],l);const u=x(t,["functionDeclarations"]);return u!=null&&v(n,["functionDeclarations"],u),n}function kw(e,t){const n={},r=x(t,["mode"]);r!=null&&v(n,["mode"],r);const o=x(t,["allowedFunctionNames"]);return o!=null&&v(n,["allowedFunctionNames"],o),n}function Iw(e,t){const n={},r=x(t,["functionCallingConfig"]);return r!=null&&v(n,["functionCallingConfig"],kw(e,r)),n}function Nw(e,t,n){const r={},o=x(t,["ttl"]);n!==void 0&&o!=null&&v(n,["ttl"],o);const l=x(t,["expireTime"]);n!==void 0&&l!=null&&v(n,["expireTime"],l);const u=x(t,["displayName"]);n!==void 0&&u!=null&&v(n,["displayName"],u);const f=x(t,["contents"]);if(n!==void 0&&f!=null){let y=nr(e,f);Array.isArray(y)&&(y=y.map(T=>T0(e,T))),v(n,["contents"],y)}const m=x(t,["systemInstruction"]);n!==void 0&&m!=null&&v(n,["systemInstruction"],T0(e,on(e,m)));const d=x(t,["tools"]);if(n!==void 0&&d!=null){let y=d;Array.isArray(y)&&(y=y.map(T=>Dw(e,T))),v(n,["tools"],y)}const h=x(t,["toolConfig"]);return n!==void 0&&h!=null&&v(n,["toolConfig"],Iw(e,h)),r}function Rw(e,t){const n={},r=x(t,["model"]);r!=null&&v(n,["model"],Gb(e,r));const o=x(t,["config"]);return o!=null&&v(n,["config"],Nw(e,o,n)),n}function _w(e,t){const n={},r=x(t,["name"]);r!=null&&v(n,["_url","name"],ir(e,r));const o=x(t,["config"]);return o!=null&&v(n,["config"],o),n}function Lw(e,t){const n={},r=x(t,["name"]);r!=null&&v(n,["_url","name"],ir(e,r));const o=x(t,["config"]);return o!=null&&v(n,["config"],o),n}function Vw(e,t,n){const r={},o=x(t,["ttl"]);n!==void 0&&o!=null&&v(n,["ttl"],o);const l=x(t,["expireTime"]);return n!==void 0&&l!=null&&v(n,["expireTime"],l),r}function Pw(e,t){const n={},r=x(t,["name"]);r!=null&&v(n,["_url","name"],ir(e,r));const o=x(t,["config"]);return o!=null&&v(n,["config"],Vw(e,o,n)),n}function Bw(e,t,n){const r={},o=x(t,["pageSize"]);n!==void 0&&o!=null&&v(n,["_query","pageSize"],o);const l=x(t,["pageToken"]);return n!==void 0&&l!=null&&v(n,["_query","pageToken"],l),r}function Fw(e,t){const n={},r=x(t,["config"]);return r!=null&&v(n,["config"],Bw(e,r,n)),n}function Ow(e,t){const n={},r=x(t,["videoMetadata"]);r!=null&&v(n,["videoMetadata"],r);const o=x(t,["thought"]);o!=null&&v(n,["thought"],o);const l=x(t,["codeExecutionResult"]);l!=null&&v(n,["codeExecutionResult"],l);const u=x(t,["executableCode"]);u!=null&&v(n,["executableCode"],u);const f=x(t,["fileData"]);f!=null&&v(n,["fileData"],f);const m=x(t,["functionCall"]);m!=null&&v(n,["functionCall"],m);const d=x(t,["functionResponse"]);d!=null&&v(n,["functionResponse"],d);const h=x(t,["inlineData"]);h!=null&&v(n,["inlineData"],h);const y=x(t,["text"]);return y!=null&&v(n,["text"],y),n}function S0(e,t){const n={},r=x(t,["parts"]);if(r!=null){let l=r;Array.isArray(l)&&(l=l.map(u=>Ow(e,u))),v(n,["parts"],l)}const o=x(t,["role"]);return o!=null&&v(n,["role"],o),n}function jw(){return{}}function zw(e,t){const n={},r=x(t,["mode"]);r!=null&&v(n,["mode"],r);const o=x(t,["dynamicThreshold"]);return o!=null&&v(n,["dynamicThreshold"],o),n}function Hw(e,t){const n={},r=x(t,["dynamicRetrievalConfig"]);return r!=null&&v(n,["dynamicRetrievalConfig"],zw(e,r)),n}function Uw(e,t){const n={},r=x(t,["retrieval"]);r!=null&&v(n,["retrieval"],r),x(t,["googleSearch"])!=null&&v(n,["googleSearch"],jw());const l=x(t,["googleSearchRetrieval"]);l!=null&&v(n,["googleSearchRetrieval"],Hw(e,l));const u=x(t,["codeExecution"]);u!=null&&v(n,["codeExecution"],u);const f=x(t,["functionDeclarations"]);return f!=null&&v(n,["functionDeclarations"],f),n}function Gw(e,t){const n={},r=x(t,["mode"]);r!=null&&v(n,["mode"],r);const o=x(t,["allowedFunctionNames"]);return o!=null&&v(n,["allowedFunctionNames"],o),n}function qw(e,t){const n={},r=x(t,["functionCallingConfig"]);return r!=null&&v(n,["functionCallingConfig"],Gw(e,r)),n}function $w(e,t,n){const r={},o=x(t,["ttl"]);n!==void 0&&o!=null&&v(n,["ttl"],o);const l=x(t,["expireTime"]);n!==void 0&&l!=null&&v(n,["expireTime"],l);const u=x(t,["displayName"]);n!==void 0&&u!=null&&v(n,["displayName"],u);const f=x(t,["contents"]);if(n!==void 0&&f!=null){let y=nr(e,f);Array.isArray(y)&&(y=y.map(T=>S0(e,T))),v(n,["contents"],y)}const m=x(t,["systemInstruction"]);n!==void 0&&m!=null&&v(n,["systemInstruction"],S0(e,on(e,m)));const d=x(t,["tools"]);if(n!==void 0&&d!=null){let y=d;Array.isArray(y)&&(y=y.map(T=>Uw(e,T))),v(n,["tools"],y)}const h=x(t,["toolConfig"]);return n!==void 0&&h!=null&&v(n,["toolConfig"],qw(e,h)),r}function Yw(e,t){const n={},r=x(t,["model"]);r!=null&&v(n,["model"],Gb(e,r));const o=x(t,["config"]);return o!=null&&v(n,["config"],$w(e,o,n)),n}function Kw(e,t){const n={},r=x(t,["name"]);r!=null&&v(n,["_url","name"],ir(e,r));const o=x(t,["config"]);return o!=null&&v(n,["config"],o),n}function Xw(e,t){const n={},r=x(t,["name"]);r!=null&&v(n,["_url","name"],ir(e,r));const o=x(t,["config"]);return o!=null&&v(n,["config"],o),n}function Ww(e,t,n){const r={},o=x(t,["ttl"]);n!==void 0&&o!=null&&v(n,["ttl"],o);const l=x(t,["expireTime"]);return n!==void 0&&l!=null&&v(n,["expireTime"],l),r}function Qw(e,t){const n={},r=x(t,["name"]);r!=null&&v(n,["_url","name"],ir(e,r));const o=x(t,["config"]);return o!=null&&v(n,["config"],Ww(e,o,n)),n}function Jw(e,t,n){const r={},o=x(t,["pageSize"]);n!==void 0&&o!=null&&v(n,["_query","pageSize"],o);const l=x(t,["pageToken"]);return n!==void 0&&l!=null&&v(n,["_query","pageToken"],l),r}function Zw(e,t){const n={},r=x(t,["config"]);return r!=null&&v(n,["config"],Jw(e,r,n)),n}function fu(e,t){const n={},r=x(t,["name"]);r!=null&&v(n,["name"],r);const o=x(t,["displayName"]);o!=null&&v(n,["displayName"],o);const l=x(t,["model"]);l!=null&&v(n,["model"],l);const u=x(t,["createTime"]);u!=null&&v(n,["createTime"],u);const f=x(t,["updateTime"]);f!=null&&v(n,["updateTime"],f);const m=x(t,["expireTime"]);m!=null&&v(n,["expireTime"],m);const d=x(t,["usageMetadata"]);return d!=null&&v(n,["usageMetadata"],d),n}function eA(){return{}}function tA(e,t){const n={},r=x(t,["nextPageToken"]);r!=null&&v(n,["nextPageToken"],r);const o=x(t,["cachedContents"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(u=>fu(e,u))),v(n,["cachedContents"],l)}return n}function du(e,t){const n={},r=x(t,["name"]);r!=null&&v(n,["name"],r);const o=x(t,["displayName"]);o!=null&&v(n,["displayName"],o);const l=x(t,["model"]);l!=null&&v(n,["model"],l);const u=x(t,["createTime"]);u!=null&&v(n,["createTime"],u);const f=x(t,["updateTime"]);f!=null&&v(n,["updateTime"],f);const m=x(t,["expireTime"]);m!=null&&v(n,["expireTime"],m);const d=x(t,["usageMetadata"]);return d!=null&&v(n,["usageMetadata"],d),n}function nA(){return{}}function iA(e,t){const n={},r=x(t,["nextPageToken"]);r!=null&&v(n,["nextPageToken"],r);const o=x(t,["cachedContents"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(u=>du(e,u))),v(n,["cachedContents"],l)}return n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var ys;(function(e){e.PAGED_ITEM_BATCH_JOBS="batchJobs",e.PAGED_ITEM_MODELS="models",e.PAGED_ITEM_TUNING_JOBS="tuningJobs",e.PAGED_ITEM_FILES="files",e.PAGED_ITEM_CACHED_CONTENTS="cachedContents"})(ys||(ys={}));class Nm{constructor(t,n,r,o){this.pageInternal=[],this.paramsInternal={},this.requestInternal=n,this.init(t,r,o)}init(t,n,r){var o,l;this.nameInternal=t,this.pageInternal=n[this.nameInternal]||[],this.idxInternal=0;let u={config:{}};r?typeof r=="object"?u=Object.assign({},r):u=r:u={config:{}},u.config&&(u.config.pageToken=n.nextPageToken),this.paramsInternal=u,this.pageInternalSize=(l=(o=u.config)===null||o===void 0?void 0:o.pageSize)!==null&&l!==void 0?l:this.pageInternal.length}initNextPage(t){this.init(this.nameInternal,t,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(t){return this.pageInternal[t]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const t=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:t,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const t=await this.requestInternal(this.params);return this.initNextPage(t),this.page}hasNextPage(){var t;return((t=this.params.config)===null||t===void 0?void 0:t.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var C0;(function(e){e.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",e.OUTCOME_OK="OUTCOME_OK",e.OUTCOME_FAILED="OUTCOME_FAILED",e.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(C0||(C0={}));var M0;(function(e){e.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",e.PYTHON="PYTHON"})(M0||(M0={}));var w0;(function(e){e.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",e.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",e.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",e.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",e.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",e.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY"})(w0||(w0={}));var A0;(function(e){e.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",e.SEVERITY="SEVERITY",e.PROBABILITY="PROBABILITY"})(A0||(A0={}));var E0;(function(e){e.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",e.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",e.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",e.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",e.BLOCK_NONE="BLOCK_NONE",e.OFF="OFF"})(E0||(E0={}));var D0;(function(e){e.MODE_UNSPECIFIED="MODE_UNSPECIFIED",e.MODE_DYNAMIC="MODE_DYNAMIC"})(D0||(D0={}));var k0;(function(e){e.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",e.STRING="STRING",e.NUMBER="NUMBER",e.INTEGER="INTEGER",e.BOOLEAN="BOOLEAN",e.ARRAY="ARRAY",e.OBJECT="OBJECT"})(k0||(k0={}));var I0;(function(e){e.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",e.STOP="STOP",e.MAX_TOKENS="MAX_TOKENS",e.SAFETY="SAFETY",e.RECITATION="RECITATION",e.LANGUAGE="LANGUAGE",e.OTHER="OTHER",e.BLOCKLIST="BLOCKLIST",e.PROHIBITED_CONTENT="PROHIBITED_CONTENT",e.SPII="SPII",e.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",e.IMAGE_SAFETY="IMAGE_SAFETY"})(I0||(I0={}));var N0;(function(e){e.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",e.NEGLIGIBLE="NEGLIGIBLE",e.LOW="LOW",e.MEDIUM="MEDIUM",e.HIGH="HIGH"})(N0||(N0={}));var R0;(function(e){e.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",e.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",e.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",e.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",e.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(R0||(R0={}));var _0;(function(e){e.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",e.SAFETY="SAFETY",e.OTHER="OTHER",e.BLOCKLIST="BLOCKLIST",e.PROHIBITED_CONTENT="PROHIBITED_CONTENT"})(_0||(_0={}));var L0;(function(e){e.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",e.ON_DEMAND="ON_DEMAND",e.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(L0||(L0={}));var bu;(function(e){e.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",e.TEXT="TEXT",e.IMAGE="IMAGE",e.AUDIO="AUDIO"})(bu||(bu={}));var V0;(function(e){e.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",e.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",e.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",e.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(V0||(V0={}));var Ud;(function(e){e.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",e.JOB_STATE_QUEUED="JOB_STATE_QUEUED",e.JOB_STATE_PENDING="JOB_STATE_PENDING",e.JOB_STATE_RUNNING="JOB_STATE_RUNNING",e.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",e.JOB_STATE_FAILED="JOB_STATE_FAILED",e.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",e.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",e.JOB_STATE_PAUSED="JOB_STATE_PAUSED",e.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",e.JOB_STATE_UPDATING="JOB_STATE_UPDATING",e.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(Ud||(Ud={}));var P0;(function(e){e.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",e.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",e.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",e.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",e.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",e.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",e.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(P0||(P0={}));var B0;(function(e){e.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",e.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",e.BALANCED="BALANCED",e.PRIORITIZE_COST="PRIORITIZE_COST"})(B0||(B0={}));var F0;(function(e){e.MODE_UNSPECIFIED="MODE_UNSPECIFIED",e.MODE_DYNAMIC="MODE_DYNAMIC"})(F0||(F0={}));var O0;(function(e){e.MODE_UNSPECIFIED="MODE_UNSPECIFIED",e.AUTO="AUTO",e.ANY="ANY",e.NONE="NONE"})(O0||(O0={}));var j0;(function(e){e.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",e.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",e.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",e.BLOCK_NONE="BLOCK_NONE"})(j0||(j0={}));var z0;(function(e){e.DONT_ALLOW="DONT_ALLOW",e.ALLOW_ADULT="ALLOW_ADULT",e.ALLOW_ALL="ALLOW_ALL"})(z0||(z0={}));var H0;(function(e){e.auto="auto",e.en="en",e.ja="ja",e.ko="ko",e.hi="hi"})(H0||(H0={}));var U0;(function(e){e.STATE_UNSPECIFIED="STATE_UNSPECIFIED",e.PROCESSING="PROCESSING",e.ACTIVE="ACTIVE",e.FAILED="FAILED"})(U0||(U0={}));var G0;(function(e){e.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",e.UPLOADED="UPLOADED",e.GENERATED="GENERATED"})(G0||(G0={}));var q0;(function(e){e.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",e.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",e.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",e.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",e.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(q0||(q0={}));var $0;(function(e){e.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",e.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",e.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",e.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})($0||($0={}));var Y0;(function(e){e.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",e.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",e.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",e.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(Y0||(Y0={}));var K0;(function(e){e.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",e.TEXT="TEXT",e.IMAGE="IMAGE",e.VIDEO="VIDEO",e.AUDIO="AUDIO",e.DOCUMENT="DOCUMENT"})(K0||(K0={}));var X0;(function(e){e.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",e.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",e.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(X0||(X0={}));var W0;(function(e){e.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",e.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",e.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(W0||(W0={}));var Q0;(function(e){e.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",e.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",e.NO_INTERRUPTION="NO_INTERRUPTION"})(Q0||(Q0={}));var J0;(function(e){e.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",e.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",e.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(J0||(J0={}));class Xl{get text(){var t,n,r,o,l,u,f,m;if(((o=(r=(n=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||o===void 0?void 0:o.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let d="",h=!1;const y=[];for(const T of(m=(f=(u=(l=this.candidates)===null||l===void 0?void 0:l[0])===null||u===void 0?void 0:u.content)===null||f===void 0?void 0:f.parts)!==null&&m!==void 0?m:[]){for(const[S,w]of Object.entries(T))S!=="text"&&S!=="thought"&&(w!==null||w!==void 0)&&y.push(S);if(typeof T.text=="string"){if(typeof T.thought=="boolean"&&T.thought)continue;h=!0,d+=T.text}}return y.length>0&&console.warn(`there are non-text parts ${y} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),h?d:void 0}get data(){var t,n,r,o,l,u,f,m;if(((o=(r=(n=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||o===void 0?void 0:o.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let d="";const h=[];for(const y of(m=(f=(u=(l=this.candidates)===null||l===void 0?void 0:l[0])===null||u===void 0?void 0:u.content)===null||f===void 0?void 0:f.parts)!==null&&m!==void 0?m:[]){for(const[T,S]of Object.entries(y))T!=="inlineData"&&(S!==null||S!==void 0)&&h.push(T);y.inlineData&&typeof y.inlineData.data=="string"&&(d+=atob(y.inlineData.data))}return h.length>0&&console.warn(`there are non-data parts ${h} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),d.length>0?btoa(d):void 0}get functionCalls(){var t,n,r,o,l,u,f,m;if(((o=(r=(n=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||o===void 0?void 0:o.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const d=(m=(f=(u=(l=this.candidates)===null||l===void 0?void 0:l[0])===null||u===void 0?void 0:u.content)===null||f===void 0?void 0:f.parts)===null||m===void 0?void 0:m.filter(h=>h.functionCall).map(h=>h.functionCall).filter(h=>h!==void 0);if((d==null?void 0:d.length)!==0)return d}get executableCode(){var t,n,r,o,l,u,f,m,d;if(((o=(r=(n=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||o===void 0?void 0:o.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const h=(m=(f=(u=(l=this.candidates)===null||l===void 0?void 0:l[0])===null||u===void 0?void 0:u.content)===null||f===void 0?void 0:f.parts)===null||m===void 0?void 0:m.filter(y=>y.executableCode).map(y=>y.executableCode).filter(y=>y!==void 0);if((h==null?void 0:h.length)!==0)return(d=h==null?void 0:h[0])===null||d===void 0?void 0:d.code}get codeExecutionResult(){var t,n,r,o,l,u,f,m,d;if(((o=(r=(n=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||o===void 0?void 0:o.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const h=(m=(f=(u=(l=this.candidates)===null||l===void 0?void 0:l[0])===null||u===void 0?void 0:u.content)===null||f===void 0?void 0:f.parts)===null||m===void 0?void 0:m.filter(y=>y.codeExecutionResult).map(y=>y.codeExecutionResult).filter(y=>y!==void 0);if((h==null?void 0:h.length)!==0)return(d=h==null?void 0:h[0])===null||d===void 0?void 0:d.output}}class Z0{}class ex{}class tx{}class nx{}class rA{}class ix{}class rx{}class ax{}class aA{}class Gd{constructor(t){const n={};for(const r of t.headers.entries())n[r[0]]=r[1];this.headers=n,this.responseInternal=t}json(){return this.responseInternal.json()}}class oA{}class sA{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class lA extends ks{constructor(t){super(),this.apiClient=t,this.list=async(n={})=>new Nm(ys.PAGED_ITEM_CACHED_CONTENTS,r=>this.listInternal(r),await this.listInternal(n),n)}async create(t){var n,r,o,l;let u,f="",m={};if(this.apiClient.isVertexAI()){const d=Yw(this.apiClient,t);return f=Re("cachedContents",d._url),m=d._query,delete d.config,delete d._url,delete d._query,u=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),u.then(h=>du(this.apiClient,h))}else{const d=Rw(this.apiClient,t);return f=Re("cachedContents",d._url),m=d._query,delete d.config,delete d._url,delete d._query,u=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(h=>h.json()),u.then(h=>fu(this.apiClient,h))}}async get(t){var n,r,o,l;let u,f="",m={};if(this.apiClient.isVertexAI()){const d=Kw(this.apiClient,t);return f=Re("{name}",d._url),m=d._query,delete d.config,delete d._url,delete d._query,u=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),u.then(h=>du(this.apiClient,h))}else{const d=_w(this.apiClient,t);return f=Re("{name}",d._url),m=d._query,delete d.config,delete d._url,delete d._query,u=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(h=>h.json()),u.then(h=>fu(this.apiClient,h))}}async delete(t){var n,r,o,l;let u,f="",m={};if(this.apiClient.isVertexAI()){const d=Xw(this.apiClient,t);return f=Re("{name}",d._url),m=d._query,delete d.config,delete d._url,delete d._query,u=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),u.then(()=>{const h=nA(),y=new rx;return Object.assign(y,h),y})}else{const d=Lw(this.apiClient,t);return f=Re("{name}",d._url),m=d._query,delete d.config,delete d._url,delete d._query,u=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(h=>h.json()),u.then(()=>{const h=eA(),y=new rx;return Object.assign(y,h),y})}}async update(t){var n,r,o,l;let u,f="",m={};if(this.apiClient.isVertexAI()){const d=Qw(this.apiClient,t);return f=Re("{name}",d._url),m=d._query,delete d.config,delete d._url,delete d._query,u=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(d),httpMethod:"PATCH",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),u.then(h=>du(this.apiClient,h))}else{const d=Pw(this.apiClient,t);return f=Re("{name}",d._url),m=d._query,delete d.config,delete d._url,delete d._query,u=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(d),httpMethod:"PATCH",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(h=>h.json()),u.then(h=>fu(this.apiClient,h))}}async listInternal(t){var n,r,o,l;let u,f="",m={};if(this.apiClient.isVertexAI()){const d=Zw(this.apiClient,t);return f=Re("cachedContents",d._url),m=d._query,delete d.config,delete d._url,delete d._query,u=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),u.then(h=>{const y=iA(this.apiClient,h),T=new ax;return Object.assign(T,y),T})}else{const d=Fw(this.apiClient,t);return f=Re("cachedContents",d._url),m=d._query,delete d.config,delete d._url,delete d._query,u=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(h=>h.json()),u.then(h=>{const y=tA(this.apiClient,h),T=new ax;return Object.assign(T,y),T})}}}function ox(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function Ht(e){return this instanceof Ht?(this.v=e,this):new Ht(e)}function Tu(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(e,t||[]),o,l=[];return o=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),f("next"),f("throw"),f("return",u),o[Symbol.asyncIterator]=function(){return this},o;function u(S){return function(w){return Promise.resolve(w).then(S,y)}}function f(S,w){r[S]&&(o[S]=function(A){return new Promise(function(_,k){l.push([S,A,_,k])>1||m(S,A)})},w&&(o[S]=w(o[S])))}function m(S,w){try{d(r[S](w))}catch(A){T(l[0][3],A)}}function d(S){S.value instanceof Ht?Promise.resolve(S.value.v).then(h,y):T(l[0][2],S)}function h(S){m("next",S)}function y(S){m("throw",S)}function T(S,w){S(w),l.shift(),l.length&&m(l[0][0],l[0][1])}}function qd(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],n;return t?t.call(e):(e=typeof ox=="function"?ox(e):e[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(l){n[l]=e[l]&&function(u){return new Promise(function(f,m){u=e[l](u),o(f,m,u.done,u.value)})}}function o(l,u,f,m){Promise.resolve(m).then(function(d){l({value:d,done:f})},u)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function uA(e){var t;if(e.candidates==null||e.candidates.length===0)return!1;const n=(t=e.candidates[0])===null||t===void 0?void 0:t.content;return n===void 0?!1:Jb(n)}function Jb(e){if(e.parts===void 0||e.parts.length===0)return!1;for(const t of e.parts)if(t===void 0||Object.keys(t).length===0||t.text!==void 0&&t.text==="")return!1;return!0}function cA(e){if(e.length!==0){if(e[0].role!=="user")throw new Error("History must start with a user turn.");for(const t of e)if(t.role!=="user"&&t.role!=="model")throw new Error(`Role must be user or model, but got ${t.role}.`)}}function fA(e){if(e===void 0||e.length===0)return[];const t=[],n=e.length;let r=0,o=e[0];for(;r<n;)if(e[r].role==="user")o=e[r],r++;else{const l=[];let u=!0;for(;r<n&&e[r].role==="model";)l.push(e[r]),u&&!Jb(e[r])&&(u=!1),r++;u&&(t.push(o),t.push(...l))}return t}class dA{constructor(t,n){this.modelsModule=t,this.apiClient=n}create(t){return new mA(this.apiClient,this.modelsModule,t.model,t.config,t.history)}}class mA{constructor(t,n,r,o={},l=[]){this.apiClient=t,this.modelsModule=n,this.model=r,this.config=o,this.history=l,this.sendPromise=Promise.resolve(),cA(l)}async sendMessage(t){var n;await this.sendPromise;const r=on(this.apiClient,t.message),o=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(r),config:(n=t.config)!==null&&n!==void 0?n:this.config});return this.sendPromise=(async()=>{var l,u;const m=(u=(l=(await o).candidates)===null||l===void 0?void 0:l[0])===null||u===void 0?void 0:u.content,d=m?[m]:[];this.recordHistory(r,d)})(),await this.sendPromise,o}async sendMessageStream(t){var n;await this.sendPromise;const r=on(this.apiClient,t.message),o=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(r),config:(n=t.config)!==null&&n!==void 0?n:this.config});this.sendPromise=o.then(()=>{}).catch(()=>{});const l=await o;return this.processStreamResponse(l,r)}getHistory(t=!1){return t?fA(this.history):this.history}processStreamResponse(t,n){var r,o;return Tu(this,arguments,function*(){var u,f,m,d;const h=[];try{for(var y=!0,T=qd(t),S;S=yield Ht(T.next()),u=S.done,!u;y=!0){d=S.value,y=!1;const w=d;if(uA(w)){const A=(o=(r=w.candidates)===null||r===void 0?void 0:r[0])===null||o===void 0?void 0:o.content;A!==void 0&&h.push(A)}yield yield Ht(w)}}catch(w){f={error:w}}finally{try{!y&&!u&&(m=T.return)&&(yield Ht(m.call(T)))}finally{if(f)throw f.error}}this.recordHistory(n,h)})}recordHistory(t,n){let r=[];n.length>0&&n.every(o=>o.role==="model")?r=n:r.push({role:"model",parts:[]}),this.history.push(t),this.history.push(...r)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function hA(e,t,n){const r={},o=x(t,["pageSize"]);n!==void 0&&o!=null&&v(n,["_query","pageSize"],o);const l=x(t,["pageToken"]);return n!==void 0&&l!=null&&v(n,["_query","pageToken"],l),r}function pA(e,t){const n={},r=x(t,["config"]);return r!=null&&v(n,["config"],hA(e,r,n)),n}function gA(e,t){const n={},r=x(t,["details"]);r!=null&&v(n,["details"],r);const o=x(t,["message"]);o!=null&&v(n,["message"],o);const l=x(t,["code"]);return l!=null&&v(n,["code"],l),n}function yA(e,t){const n={},r=x(t,["name"]);r!=null&&v(n,["name"],r);const o=x(t,["displayName"]);o!=null&&v(n,["displayName"],o);const l=x(t,["mimeType"]);l!=null&&v(n,["mimeType"],l);const u=x(t,["sizeBytes"]);u!=null&&v(n,["sizeBytes"],u);const f=x(t,["createTime"]);f!=null&&v(n,["createTime"],f);const m=x(t,["expirationTime"]);m!=null&&v(n,["expirationTime"],m);const d=x(t,["updateTime"]);d!=null&&v(n,["updateTime"],d);const h=x(t,["sha256Hash"]);h!=null&&v(n,["sha256Hash"],h);const y=x(t,["uri"]);y!=null&&v(n,["uri"],y);const T=x(t,["downloadUri"]);T!=null&&v(n,["downloadUri"],T);const S=x(t,["state"]);S!=null&&v(n,["state"],S);const w=x(t,["source"]);w!=null&&v(n,["source"],w);const A=x(t,["videoMetadata"]);A!=null&&v(n,["videoMetadata"],A);const _=x(t,["error"]);return _!=null&&v(n,["error"],gA(e,_)),n}function xA(e,t){const n={},r=x(t,["file"]);r!=null&&v(n,["file"],yA(e,r));const o=x(t,["config"]);return o!=null&&v(n,["config"],o),n}function vA(e,t){const n={},r=x(t,["name"]);r!=null&&v(n,["_url","file"],Qb(e,r));const o=x(t,["config"]);return o!=null&&v(n,["config"],o),n}function bA(e,t){const n={},r=x(t,["name"]);r!=null&&v(n,["_url","file"],Qb(e,r));const o=x(t,["config"]);return o!=null&&v(n,["config"],o),n}function TA(e,t){const n={},r=x(t,["details"]);r!=null&&v(n,["details"],r);const o=x(t,["message"]);o!=null&&v(n,["message"],o);const l=x(t,["code"]);return l!=null&&v(n,["code"],l),n}function $d(e,t){const n={},r=x(t,["name"]);r!=null&&v(n,["name"],r);const o=x(t,["displayName"]);o!=null&&v(n,["displayName"],o);const l=x(t,["mimeType"]);l!=null&&v(n,["mimeType"],l);const u=x(t,["sizeBytes"]);u!=null&&v(n,["sizeBytes"],u);const f=x(t,["createTime"]);f!=null&&v(n,["createTime"],f);const m=x(t,["expirationTime"]);m!=null&&v(n,["expirationTime"],m);const d=x(t,["updateTime"]);d!=null&&v(n,["updateTime"],d);const h=x(t,["sha256Hash"]);h!=null&&v(n,["sha256Hash"],h);const y=x(t,["uri"]);y!=null&&v(n,["uri"],y);const T=x(t,["downloadUri"]);T!=null&&v(n,["downloadUri"],T);const S=x(t,["state"]);S!=null&&v(n,["state"],S);const w=x(t,["source"]);w!=null&&v(n,["source"],w);const A=x(t,["videoMetadata"]);A!=null&&v(n,["videoMetadata"],A);const _=x(t,["error"]);return _!=null&&v(n,["error"],TA(e,_)),n}function SA(e,t){const n={},r=x(t,["nextPageToken"]);r!=null&&v(n,["nextPageToken"],r);const o=x(t,["files"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(u=>$d(e,u))),v(n,["files"],l)}return n}function CA(){return{}}function MA(){return{}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class wA extends ks{constructor(t){super(),this.apiClient=t,this.list=async(n={})=>new Nm(ys.PAGED_ITEM_FILES,r=>this.listInternal(r),await this.listInternal(n),n)}async upload(t){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(t.file,t.config).then(n=>$d(this.apiClient,n))}async listInternal(t){var n,r;let o,l="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const f=pA(this.apiClient,t);return l=Re("files",f._url),u=f._query,delete f.config,delete f._url,delete f._query,o=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(m=>m.json()),o.then(m=>{const d=SA(this.apiClient,m),h=new aA;return Object.assign(h,d),h})}}async createInternal(t){var n,r;let o,l="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const f=xA(this.apiClient,t);return l=Re("upload/v1beta/files",f._url),u=f._query,delete f.config,delete f._url,delete f._query,o=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(m=>m.json()),o.then(()=>{const m=CA(),d=new oA;return Object.assign(d,m),d})}}async get(t){var n,r;let o,l="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const f=vA(this.apiClient,t);return l=Re("files/{file}",f._url),u=f._query,delete f.config,delete f._url,delete f._query,o=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(m=>m.json()),o.then(m=>$d(this.apiClient,m))}}async delete(t){var n,r;let o,l="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const f=bA(this.apiClient,t);return l=Re("files/{file}",f._url),u=f._query,delete f.config,delete f._url,delete f._query,o=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(m=>m.json()),o.then(()=>{const m=MA(),d=new sA;return Object.assign(d,m),d})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function AA(e,t){const n={};if(x(t,["videoMetadata"])!==void 0)throw new Error("videoMetadata parameter is not supported in Gemini API.");const r=x(t,["thought"]);r!=null&&v(n,["thought"],r);const o=x(t,["codeExecutionResult"]);o!=null&&v(n,["codeExecutionResult"],o);const l=x(t,["executableCode"]);l!=null&&v(n,["executableCode"],l);const u=x(t,["fileData"]);u!=null&&v(n,["fileData"],u);const f=x(t,["functionCall"]);f!=null&&v(n,["functionCall"],f);const m=x(t,["functionResponse"]);m!=null&&v(n,["functionResponse"],m);const d=x(t,["inlineData"]);d!=null&&v(n,["inlineData"],d);const h=x(t,["text"]);return h!=null&&v(n,["text"],h),n}function EA(e,t){const n={},r=x(t,["videoMetadata"]);r!=null&&v(n,["videoMetadata"],r);const o=x(t,["thought"]);o!=null&&v(n,["thought"],o);const l=x(t,["codeExecutionResult"]);l!=null&&v(n,["codeExecutionResult"],l);const u=x(t,["executableCode"]);u!=null&&v(n,["executableCode"],u);const f=x(t,["fileData"]);f!=null&&v(n,["fileData"],f);const m=x(t,["functionCall"]);m!=null&&v(n,["functionCall"],m);const d=x(t,["functionResponse"]);d!=null&&v(n,["functionResponse"],d);const h=x(t,["inlineData"]);h!=null&&v(n,["inlineData"],h);const y=x(t,["text"]);return y!=null&&v(n,["text"],y),n}function DA(e,t){const n={},r=x(t,["parts"]);if(r!=null){let l=r;Array.isArray(l)&&(l=l.map(u=>AA(e,u))),v(n,["parts"],l)}const o=x(t,["role"]);return o!=null&&v(n,["role"],o),n}function kA(e,t){const n={},r=x(t,["parts"]);if(r!=null){let l=r;Array.isArray(l)&&(l=l.map(u=>EA(e,u))),v(n,["parts"],l)}const o=x(t,["role"]);return o!=null&&v(n,["role"],o),n}function IA(){return{}}function NA(){return{}}function RA(e,t){const n={},r=x(t,["mode"]);r!=null&&v(n,["mode"],r);const o=x(t,["dynamicThreshold"]);return o!=null&&v(n,["dynamicThreshold"],o),n}function _A(e,t){const n={},r=x(t,["mode"]);r!=null&&v(n,["mode"],r);const o=x(t,["dynamicThreshold"]);return o!=null&&v(n,["dynamicThreshold"],o),n}function LA(e,t){const n={},r=x(t,["dynamicRetrievalConfig"]);return r!=null&&v(n,["dynamicRetrievalConfig"],RA(e,r)),n}function VA(e,t){const n={},r=x(t,["dynamicRetrievalConfig"]);return r!=null&&v(n,["dynamicRetrievalConfig"],_A(e,r)),n}function PA(e,t){const n={};if(x(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");x(t,["googleSearch"])!=null&&v(n,["googleSearch"],IA());const o=x(t,["googleSearchRetrieval"]);o!=null&&v(n,["googleSearchRetrieval"],LA(e,o));const l=x(t,["codeExecution"]);l!=null&&v(n,["codeExecution"],l);const u=x(t,["functionDeclarations"]);return u!=null&&v(n,["functionDeclarations"],u),n}function BA(e,t){const n={},r=x(t,["retrieval"]);r!=null&&v(n,["retrieval"],r),x(t,["googleSearch"])!=null&&v(n,["googleSearch"],NA());const l=x(t,["googleSearchRetrieval"]);l!=null&&v(n,["googleSearchRetrieval"],VA(e,l));const u=x(t,["codeExecution"]);u!=null&&v(n,["codeExecution"],u);const f=x(t,["functionDeclarations"]);return f!=null&&v(n,["functionDeclarations"],f),n}function FA(e,t){const n={},r=x(t,["handle"]);if(r!=null&&v(n,["handle"],r),x(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return n}function OA(e,t){const n={},r=x(t,["handle"]);r!=null&&v(n,["handle"],r);const o=x(t,["transparent"]);return o!=null&&v(n,["transparent"],o),n}function jA(){return{}}function sx(){return{}}function zA(e,t){const n={},r=x(t,["disabled"]);r!=null&&v(n,["disabled"],r);const o=x(t,["startOfSpeechSensitivity"]);o!=null&&v(n,["startOfSpeechSensitivity"],o);const l=x(t,["endOfSpeechSensitivity"]);l!=null&&v(n,["endOfSpeechSensitivity"],l);const u=x(t,["prefixPaddingMs"]);u!=null&&v(n,["prefixPaddingMs"],u);const f=x(t,["silenceDurationMs"]);return f!=null&&v(n,["silenceDurationMs"],f),n}function HA(e,t){const n={},r=x(t,["disabled"]);r!=null&&v(n,["disabled"],r);const o=x(t,["startOfSpeechSensitivity"]);o!=null&&v(n,["startOfSpeechSensitivity"],o);const l=x(t,["endOfSpeechSensitivity"]);l!=null&&v(n,["endOfSpeechSensitivity"],l);const u=x(t,["prefixPaddingMs"]);u!=null&&v(n,["prefixPaddingMs"],u);const f=x(t,["silenceDurationMs"]);return f!=null&&v(n,["silenceDurationMs"],f),n}function UA(e,t){const n={},r=x(t,["automaticActivityDetection"]);r!=null&&v(n,["automaticActivityDetection"],zA(e,r));const o=x(t,["activityHandling"]);o!=null&&v(n,["activityHandling"],o);const l=x(t,["turnCoverage"]);return l!=null&&v(n,["turnCoverage"],l),n}function GA(e,t){const n={},r=x(t,["automaticActivityDetection"]);r!=null&&v(n,["automaticActivityDetection"],HA(e,r));const o=x(t,["activityHandling"]);o!=null&&v(n,["activityHandling"],o);const l=x(t,["turnCoverage"]);return l!=null&&v(n,["turnCoverage"],l),n}function qA(e,t){const n={},r=x(t,["targetTokens"]);return r!=null&&v(n,["targetTokens"],r),n}function $A(e,t){const n={},r=x(t,["targetTokens"]);return r!=null&&v(n,["targetTokens"],r),n}function YA(e,t){const n={},r=x(t,["triggerTokens"]);r!=null&&v(n,["triggerTokens"],r);const o=x(t,["slidingWindow"]);return o!=null&&v(n,["slidingWindow"],qA(e,o)),n}function KA(e,t){const n={},r=x(t,["triggerTokens"]);r!=null&&v(n,["triggerTokens"],r);const o=x(t,["slidingWindow"]);return o!=null&&v(n,["slidingWindow"],$A(e,o)),n}function XA(e,t,n){const r={},o=x(t,["generationConfig"]);n!==void 0&&o!=null&&v(n,["setup","generationConfig"],o);const l=x(t,["responseModalities"]);n!==void 0&&l!=null&&v(n,["setup","generationConfig","responseModalities"],l);const u=x(t,["temperature"]);n!==void 0&&u!=null&&v(n,["setup","generationConfig","temperature"],u);const f=x(t,["topP"]);n!==void 0&&f!=null&&v(n,["setup","generationConfig","topP"],f);const m=x(t,["topK"]);n!==void 0&&m!=null&&v(n,["setup","generationConfig","topK"],m);const d=x(t,["maxOutputTokens"]);n!==void 0&&d!=null&&v(n,["setup","generationConfig","maxOutputTokens"],d);const h=x(t,["mediaResolution"]);n!==void 0&&h!=null&&v(n,["setup","generationConfig","mediaResolution"],h);const y=x(t,["seed"]);n!==void 0&&y!=null&&v(n,["setup","generationConfig","seed"],y);const T=x(t,["speechConfig"]);n!==void 0&&T!=null&&v(n,["setup","generationConfig","speechConfig"],T);const S=x(t,["systemInstruction"]);n!==void 0&&S!=null&&v(n,["setup","systemInstruction"],DA(e,on(e,S)));const w=x(t,["tools"]);if(n!==void 0&&w!=null){let I=Vu(e,w);Array.isArray(I)&&(I=I.map(B=>PA(e,Lu(e,B)))),v(n,["setup","tools"],I)}const A=x(t,["sessionResumption"]);if(n!==void 0&&A!=null&&v(n,["setup","sessionResumption"],FA(e,A)),x(t,["inputAudioTranscription"])!==void 0)throw new Error("inputAudioTranscription parameter is not supported in Gemini API.");const _=x(t,["outputAudioTranscription"]);n!==void 0&&_!=null&&v(n,["setup","outputAudioTranscription"],jA());const k=x(t,["realtimeInputConfig"]);n!==void 0&&k!=null&&v(n,["setup","realtimeInputConfig"],UA(e,k));const V=x(t,["contextWindowCompression"]);return n!==void 0&&V!=null&&v(n,["setup","contextWindowCompression"],YA(e,V)),r}function WA(e,t,n){const r={},o=x(t,["generationConfig"]);n!==void 0&&o!=null&&v(n,["setup","generationConfig"],o);const l=x(t,["responseModalities"]);n!==void 0&&l!=null&&v(n,["setup","generationConfig","responseModalities"],l);const u=x(t,["temperature"]);n!==void 0&&u!=null&&v(n,["setup","generationConfig","temperature"],u);const f=x(t,["topP"]);n!==void 0&&f!=null&&v(n,["setup","generationConfig","topP"],f);const m=x(t,["topK"]);n!==void 0&&m!=null&&v(n,["setup","generationConfig","topK"],m);const d=x(t,["maxOutputTokens"]);n!==void 0&&d!=null&&v(n,["setup","generationConfig","maxOutputTokens"],d);const h=x(t,["mediaResolution"]);n!==void 0&&h!=null&&v(n,["setup","generationConfig","mediaResolution"],h);const y=x(t,["seed"]);n!==void 0&&y!=null&&v(n,["setup","generationConfig","seed"],y);const T=x(t,["speechConfig"]);n!==void 0&&T!=null&&v(n,["setup","generationConfig","speechConfig"],T);const S=x(t,["systemInstruction"]);n!==void 0&&S!=null&&v(n,["setup","systemInstruction"],kA(e,on(e,S)));const w=x(t,["tools"]);if(n!==void 0&&w!=null){let B=Vu(e,w);Array.isArray(B)&&(B=B.map(U=>BA(e,Lu(e,U)))),v(n,["setup","tools"],B)}const A=x(t,["sessionResumption"]);n!==void 0&&A!=null&&v(n,["setup","sessionResumption"],OA(e,A));const _=x(t,["inputAudioTranscription"]);n!==void 0&&_!=null&&v(n,["setup","inputAudioTranscription"],sx());const k=x(t,["outputAudioTranscription"]);n!==void 0&&k!=null&&v(n,["setup","outputAudioTranscription"],sx());const V=x(t,["realtimeInputConfig"]);n!==void 0&&V!=null&&v(n,["setup","realtimeInputConfig"],GA(e,V));const I=x(t,["contextWindowCompression"]);return n!==void 0&&I!=null&&v(n,["setup","contextWindowCompression"],KA(e,I)),r}function QA(e,t){const n={},r=x(t,["model"]);r!=null&&v(n,["setup","model"],yt(e,r));const o=x(t,["config"]);return o!=null&&v(n,["config"],XA(e,o,n)),n}function JA(e,t){const n={},r=x(t,["model"]);r!=null&&v(n,["setup","model"],yt(e,r));const o=x(t,["config"]);return o!=null&&v(n,["config"],WA(e,o,n)),n}function ZA(){return{}}function eE(){return{}}function tE(){return{}}function nE(){return{}}function iE(e,t){const n={},r=x(t,["media"]);r!=null&&v(n,["mediaChunks"],qb(e,r));const o=x(t,["audio"]);o!=null&&v(n,["audio"],Sw(e,o));const l=x(t,["audioStreamEnd"]);l!=null&&v(n,["audioStreamEnd"],l);const u=x(t,["video"]);u!=null&&v(n,["video"],Tw(e,u));const f=x(t,["text"]);return f!=null&&v(n,["text"],f),x(t,["activityStart"])!=null&&v(n,["activityStart"],ZA()),x(t,["activityEnd"])!=null&&v(n,["activityEnd"],tE()),n}function rE(e,t){const n={},r=x(t,["media"]);if(r!=null&&v(n,["mediaChunks"],qb(e,r)),x(t,["audio"])!==void 0)throw new Error("audio parameter is not supported in Vertex AI.");const o=x(t,["audioStreamEnd"]);if(o!=null&&v(n,["audioStreamEnd"],o),x(t,["video"])!==void 0)throw new Error("video parameter is not supported in Vertex AI.");if(x(t,["text"])!==void 0)throw new Error("text parameter is not supported in Vertex AI.");return x(t,["activityStart"])!=null&&v(n,["activityStart"],eE()),x(t,["activityEnd"])!=null&&v(n,["activityEnd"],nE()),n}function aE(){return{}}function oE(){return{}}function sE(e,t){const n={},r=x(t,["thought"]);r!=null&&v(n,["thought"],r);const o=x(t,["codeExecutionResult"]);o!=null&&v(n,["codeExecutionResult"],o);const l=x(t,["executableCode"]);l!=null&&v(n,["executableCode"],l);const u=x(t,["fileData"]);u!=null&&v(n,["fileData"],u);const f=x(t,["functionCall"]);f!=null&&v(n,["functionCall"],f);const m=x(t,["functionResponse"]);m!=null&&v(n,["functionResponse"],m);const d=x(t,["inlineData"]);d!=null&&v(n,["inlineData"],d);const h=x(t,["text"]);return h!=null&&v(n,["text"],h),n}function lE(e,t){const n={},r=x(t,["videoMetadata"]);r!=null&&v(n,["videoMetadata"],r);const o=x(t,["thought"]);o!=null&&v(n,["thought"],o);const l=x(t,["codeExecutionResult"]);l!=null&&v(n,["codeExecutionResult"],l);const u=x(t,["executableCode"]);u!=null&&v(n,["executableCode"],u);const f=x(t,["fileData"]);f!=null&&v(n,["fileData"],f);const m=x(t,["functionCall"]);m!=null&&v(n,["functionCall"],m);const d=x(t,["functionResponse"]);d!=null&&v(n,["functionResponse"],d);const h=x(t,["inlineData"]);h!=null&&v(n,["inlineData"],h);const y=x(t,["text"]);return y!=null&&v(n,["text"],y),n}function uE(e,t){const n={},r=x(t,["parts"]);if(r!=null){let l=r;Array.isArray(l)&&(l=l.map(u=>sE(e,u))),v(n,["parts"],l)}const o=x(t,["role"]);return o!=null&&v(n,["role"],o),n}function cE(e,t){const n={},r=x(t,["parts"]);if(r!=null){let l=r;Array.isArray(l)&&(l=l.map(u=>lE(e,u))),v(n,["parts"],l)}const o=x(t,["role"]);return o!=null&&v(n,["role"],o),n}function lx(e,t){const n={},r=x(t,["text"]);r!=null&&v(n,["text"],r);const o=x(t,["finished"]);return o!=null&&v(n,["finished"],o),n}function ux(e,t){const n={},r=x(t,["text"]);r!=null&&v(n,["text"],r);const o=x(t,["finished"]);return o!=null&&v(n,["finished"],o),n}function fE(e,t){const n={},r=x(t,["modelTurn"]);r!=null&&v(n,["modelTurn"],uE(e,r));const o=x(t,["turnComplete"]);o!=null&&v(n,["turnComplete"],o);const l=x(t,["interrupted"]);l!=null&&v(n,["interrupted"],l);const u=x(t,["groundingMetadata"]);u!=null&&v(n,["groundingMetadata"],u);const f=x(t,["generationComplete"]);f!=null&&v(n,["generationComplete"],f);const m=x(t,["inputTranscription"]);m!=null&&v(n,["inputTranscription"],lx(e,m));const d=x(t,["outputTranscription"]);return d!=null&&v(n,["outputTranscription"],lx(e,d)),n}function dE(e,t){const n={},r=x(t,["modelTurn"]);r!=null&&v(n,["modelTurn"],cE(e,r));const o=x(t,["turnComplete"]);o!=null&&v(n,["turnComplete"],o);const l=x(t,["interrupted"]);l!=null&&v(n,["interrupted"],l);const u=x(t,["groundingMetadata"]);u!=null&&v(n,["groundingMetadata"],u);const f=x(t,["generationComplete"]);f!=null&&v(n,["generationComplete"],f);const m=x(t,["inputTranscription"]);m!=null&&v(n,["inputTranscription"],ux(e,m));const d=x(t,["outputTranscription"]);return d!=null&&v(n,["outputTranscription"],ux(e,d)),n}function mE(e,t){const n={},r=x(t,["id"]);r!=null&&v(n,["id"],r);const o=x(t,["args"]);o!=null&&v(n,["args"],o);const l=x(t,["name"]);return l!=null&&v(n,["name"],l),n}function hE(e,t){const n={},r=x(t,["args"]);r!=null&&v(n,["args"],r);const o=x(t,["name"]);return o!=null&&v(n,["name"],o),n}function pE(e,t){const n={},r=x(t,["functionCalls"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(l=>mE(e,l))),v(n,["functionCalls"],o)}return n}function gE(e,t){const n={},r=x(t,["functionCalls"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(l=>hE(e,l))),v(n,["functionCalls"],o)}return n}function yE(e,t){const n={},r=x(t,["ids"]);return r!=null&&v(n,["ids"],r),n}function xE(e,t){const n={},r=x(t,["ids"]);return r!=null&&v(n,["ids"],r),n}function Wl(e,t){const n={},r=x(t,["modality"]);r!=null&&v(n,["modality"],r);const o=x(t,["tokenCount"]);return o!=null&&v(n,["tokenCount"],o),n}function Ql(e,t){const n={},r=x(t,["modality"]);r!=null&&v(n,["modality"],r);const o=x(t,["tokenCount"]);return o!=null&&v(n,["tokenCount"],o),n}function vE(e,t){const n={},r=x(t,["promptTokenCount"]);r!=null&&v(n,["promptTokenCount"],r);const o=x(t,["cachedContentTokenCount"]);o!=null&&v(n,["cachedContentTokenCount"],o);const l=x(t,["responseTokenCount"]);l!=null&&v(n,["responseTokenCount"],l);const u=x(t,["toolUsePromptTokenCount"]);u!=null&&v(n,["toolUsePromptTokenCount"],u);const f=x(t,["thoughtsTokenCount"]);f!=null&&v(n,["thoughtsTokenCount"],f);const m=x(t,["totalTokenCount"]);m!=null&&v(n,["totalTokenCount"],m);const d=x(t,["promptTokensDetails"]);if(d!=null){let S=d;Array.isArray(S)&&(S=S.map(w=>Wl(e,w))),v(n,["promptTokensDetails"],S)}const h=x(t,["cacheTokensDetails"]);if(h!=null){let S=h;Array.isArray(S)&&(S=S.map(w=>Wl(e,w))),v(n,["cacheTokensDetails"],S)}const y=x(t,["responseTokensDetails"]);if(y!=null){let S=y;Array.isArray(S)&&(S=S.map(w=>Wl(e,w))),v(n,["responseTokensDetails"],S)}const T=x(t,["toolUsePromptTokensDetails"]);if(T!=null){let S=T;Array.isArray(S)&&(S=S.map(w=>Wl(e,w))),v(n,["toolUsePromptTokensDetails"],S)}return n}function bE(e,t){const n={},r=x(t,["promptTokenCount"]);r!=null&&v(n,["promptTokenCount"],r);const o=x(t,["cachedContentTokenCount"]);o!=null&&v(n,["cachedContentTokenCount"],o);const l=x(t,["candidatesTokenCount"]);l!=null&&v(n,["responseTokenCount"],l);const u=x(t,["toolUsePromptTokenCount"]);u!=null&&v(n,["toolUsePromptTokenCount"],u);const f=x(t,["thoughtsTokenCount"]);f!=null&&v(n,["thoughtsTokenCount"],f);const m=x(t,["totalTokenCount"]);m!=null&&v(n,["totalTokenCount"],m);const d=x(t,["promptTokensDetails"]);if(d!=null){let w=d;Array.isArray(w)&&(w=w.map(A=>Ql(e,A))),v(n,["promptTokensDetails"],w)}const h=x(t,["cacheTokensDetails"]);if(h!=null){let w=h;Array.isArray(w)&&(w=w.map(A=>Ql(e,A))),v(n,["cacheTokensDetails"],w)}const y=x(t,["candidatesTokensDetails"]);if(y!=null){let w=y;Array.isArray(w)&&(w=w.map(A=>Ql(e,A))),v(n,["responseTokensDetails"],w)}const T=x(t,["toolUsePromptTokensDetails"]);if(T!=null){let w=T;Array.isArray(w)&&(w=w.map(A=>Ql(e,A))),v(n,["toolUsePromptTokensDetails"],w)}const S=x(t,["trafficType"]);return S!=null&&v(n,["trafficType"],S),n}function TE(e,t){const n={},r=x(t,["timeLeft"]);return r!=null&&v(n,["timeLeft"],r),n}function SE(e,t){const n={},r=x(t,["timeLeft"]);return r!=null&&v(n,["timeLeft"],r),n}function CE(e,t){const n={},r=x(t,["newHandle"]);r!=null&&v(n,["newHandle"],r);const o=x(t,["resumable"]);o!=null&&v(n,["resumable"],o);const l=x(t,["lastConsumedClientMessageIndex"]);return l!=null&&v(n,["lastConsumedClientMessageIndex"],l),n}function ME(e,t){const n={},r=x(t,["newHandle"]);r!=null&&v(n,["newHandle"],r);const o=x(t,["resumable"]);o!=null&&v(n,["resumable"],o);const l=x(t,["lastConsumedClientMessageIndex"]);return l!=null&&v(n,["lastConsumedClientMessageIndex"],l),n}function wE(e,t){const n={};x(t,["setupComplete"])!=null&&v(n,["setupComplete"],aE());const o=x(t,["serverContent"]);o!=null&&v(n,["serverContent"],fE(e,o));const l=x(t,["toolCall"]);l!=null&&v(n,["toolCall"],pE(e,l));const u=x(t,["toolCallCancellation"]);u!=null&&v(n,["toolCallCancellation"],yE(e,u));const f=x(t,["usageMetadata"]);f!=null&&v(n,["usageMetadata"],vE(e,f));const m=x(t,["goAway"]);m!=null&&v(n,["goAway"],TE(e,m));const d=x(t,["sessionResumptionUpdate"]);return d!=null&&v(n,["sessionResumptionUpdate"],CE(e,d)),n}function AE(e,t){const n={};x(t,["setupComplete"])!=null&&v(n,["setupComplete"],oE());const o=x(t,["serverContent"]);o!=null&&v(n,["serverContent"],dE(e,o));const l=x(t,["toolCall"]);l!=null&&v(n,["toolCall"],gE(e,l));const u=x(t,["toolCallCancellation"]);u!=null&&v(n,["toolCallCancellation"],xE(e,u));const f=x(t,["usageMetadata"]);f!=null&&v(n,["usageMetadata"],bE(e,f));const m=x(t,["goAway"]);m!=null&&v(n,["goAway"],SE(e,m));const d=x(t,["sessionResumptionUpdate"]);return d!=null&&v(n,["sessionResumptionUpdate"],ME(e,d)),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function EE(e,t){const n={};if(x(t,["videoMetadata"])!==void 0)throw new Error("videoMetadata parameter is not supported in Gemini API.");const r=x(t,["thought"]);r!=null&&v(n,["thought"],r);const o=x(t,["codeExecutionResult"]);o!=null&&v(n,["codeExecutionResult"],o);const l=x(t,["executableCode"]);l!=null&&v(n,["executableCode"],l);const u=x(t,["fileData"]);u!=null&&v(n,["fileData"],u);const f=x(t,["functionCall"]);f!=null&&v(n,["functionCall"],f);const m=x(t,["functionResponse"]);m!=null&&v(n,["functionResponse"],m);const d=x(t,["inlineData"]);d!=null&&v(n,["inlineData"],d);const h=x(t,["text"]);return h!=null&&v(n,["text"],h),n}function Pu(e,t){const n={},r=x(t,["parts"]);if(r!=null){let l=r;Array.isArray(l)&&(l=l.map(u=>EE(e,u))),v(n,["parts"],l)}const o=x(t,["role"]);return o!=null&&v(n,["role"],o),n}function DE(e,t){const n={};if(x(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const r=x(t,["category"]);r!=null&&v(n,["category"],r);const o=x(t,["threshold"]);return o!=null&&v(n,["threshold"],o),n}function kE(){return{}}function IE(e,t){const n={},r=x(t,["mode"]);r!=null&&v(n,["mode"],r);const o=x(t,["dynamicThreshold"]);return o!=null&&v(n,["dynamicThreshold"],o),n}function NE(e,t){const n={},r=x(t,["dynamicRetrievalConfig"]);return r!=null&&v(n,["dynamicRetrievalConfig"],IE(e,r)),n}function RE(e,t){const n={};if(x(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");x(t,["googleSearch"])!=null&&v(n,["googleSearch"],kE());const o=x(t,["googleSearchRetrieval"]);o!=null&&v(n,["googleSearchRetrieval"],NE(e,o));const l=x(t,["codeExecution"]);l!=null&&v(n,["codeExecution"],l);const u=x(t,["functionDeclarations"]);return u!=null&&v(n,["functionDeclarations"],u),n}function _E(e,t){const n={},r=x(t,["mode"]);r!=null&&v(n,["mode"],r);const o=x(t,["allowedFunctionNames"]);return o!=null&&v(n,["allowedFunctionNames"],o),n}function LE(e,t){const n={},r=x(t,["functionCallingConfig"]);return r!=null&&v(n,["functionCallingConfig"],_E(e,r)),n}function VE(e,t){const n={},r=x(t,["voiceName"]);return r!=null&&v(n,["voiceName"],r),n}function PE(e,t){const n={},r=x(t,["prebuiltVoiceConfig"]);return r!=null&&v(n,["prebuiltVoiceConfig"],VE(e,r)),n}function BE(e,t){const n={},r=x(t,["voiceConfig"]);r!=null&&v(n,["voiceConfig"],PE(e,r));const o=x(t,["languageCode"]);return o!=null&&v(n,["languageCode"],o),n}function FE(e,t){const n={},r=x(t,["includeThoughts"]);r!=null&&v(n,["includeThoughts"],r);const o=x(t,["thinkingBudget"]);return o!=null&&v(n,["thinkingBudget"],o),n}function OE(e,t,n){const r={},o=x(t,["systemInstruction"]);n!==void 0&&o!=null&&v(n,["systemInstruction"],Pu(e,on(e,o)));const l=x(t,["temperature"]);l!=null&&v(r,["temperature"],l);const u=x(t,["topP"]);u!=null&&v(r,["topP"],u);const f=x(t,["topK"]);f!=null&&v(r,["topK"],f);const m=x(t,["candidateCount"]);m!=null&&v(r,["candidateCount"],m);const d=x(t,["maxOutputTokens"]);d!=null&&v(r,["maxOutputTokens"],d);const h=x(t,["stopSequences"]);h!=null&&v(r,["stopSequences"],h);const y=x(t,["responseLogprobs"]);y!=null&&v(r,["responseLogprobs"],y);const T=x(t,["logprobs"]);T!=null&&v(r,["logprobs"],T);const S=x(t,["presencePenalty"]);S!=null&&v(r,["presencePenalty"],S);const w=x(t,["frequencyPenalty"]);w!=null&&v(r,["frequencyPenalty"],w);const A=x(t,["seed"]);A!=null&&v(r,["seed"],A);const _=x(t,["responseMimeType"]);_!=null&&v(r,["responseMimeType"],_);const k=x(t,["responseSchema"]);if(k!=null&&v(r,["responseSchema"],Kb(e,k)),x(t,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(x(t,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const V=x(t,["safetySettings"]);if(n!==void 0&&V!=null){let H=V;Array.isArray(H)&&(H=H.map(ue=>DE(e,ue))),v(n,["safetySettings"],H)}const I=x(t,["tools"]);if(n!==void 0&&I!=null){let H=Vu(e,I);Array.isArray(H)&&(H=H.map(ue=>RE(e,Lu(e,ue)))),v(n,["tools"],H)}const B=x(t,["toolConfig"]);if(n!==void 0&&B!=null&&v(n,["toolConfig"],LE(e,B)),x(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const U=x(t,["cachedContent"]);n!==void 0&&U!=null&&v(n,["cachedContent"],ir(e,U));const z=x(t,["responseModalities"]);z!=null&&v(r,["responseModalities"],z);const ie=x(t,["mediaResolution"]);ie!=null&&v(r,["mediaResolution"],ie);const se=x(t,["speechConfig"]);if(se!=null&&v(r,["speechConfig"],BE(e,Xb(e,se))),x(t,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const ge=x(t,["thinkingConfig"]);return ge!=null&&v(r,["thinkingConfig"],FE(e,ge)),r}function cx(e,t){const n={},r=x(t,["model"]);r!=null&&v(n,["_url","model"],yt(e,r));const o=x(t,["contents"]);if(o!=null){let u=nr(e,o);Array.isArray(u)&&(u=u.map(f=>Pu(e,f))),v(n,["contents"],u)}const l=x(t,["config"]);return l!=null&&v(n,["generationConfig"],OE(e,l,n)),n}function jE(e,t,n){const r={},o=x(t,["taskType"]);n!==void 0&&o!=null&&v(n,["requests[]","taskType"],o);const l=x(t,["title"]);n!==void 0&&l!=null&&v(n,["requests[]","title"],l);const u=x(t,["outputDimensionality"]);if(n!==void 0&&u!=null&&v(n,["requests[]","outputDimensionality"],u),x(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(x(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return r}function zE(e,t){const n={},r=x(t,["model"]);r!=null&&v(n,["_url","model"],yt(e,r));const o=x(t,["contents"]);o!=null&&v(n,["requests[]","content"],Yb(e,o));const l=x(t,["config"]);l!=null&&v(n,["config"],jE(e,l,n));const u=x(t,["model"]);return u!==void 0&&v(n,["requests[]","model"],yt(e,u)),n}function HE(e,t,n){const r={};if(x(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(x(t,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const o=x(t,["numberOfImages"]);n!==void 0&&o!=null&&v(n,["parameters","sampleCount"],o);const l=x(t,["aspectRatio"]);n!==void 0&&l!=null&&v(n,["parameters","aspectRatio"],l);const u=x(t,["guidanceScale"]);if(n!==void 0&&u!=null&&v(n,["parameters","guidanceScale"],u),x(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const f=x(t,["safetyFilterLevel"]);n!==void 0&&f!=null&&v(n,["parameters","safetySetting"],f);const m=x(t,["personGeneration"]);n!==void 0&&m!=null&&v(n,["parameters","personGeneration"],m);const d=x(t,["includeSafetyAttributes"]);n!==void 0&&d!=null&&v(n,["parameters","includeSafetyAttributes"],d);const h=x(t,["includeRaiReason"]);n!==void 0&&h!=null&&v(n,["parameters","includeRaiReason"],h);const y=x(t,["language"]);n!==void 0&&y!=null&&v(n,["parameters","language"],y);const T=x(t,["outputMimeType"]);n!==void 0&&T!=null&&v(n,["parameters","outputOptions","mimeType"],T);const S=x(t,["outputCompressionQuality"]);if(n!==void 0&&S!=null&&v(n,["parameters","outputOptions","compressionQuality"],S),x(t,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(x(t,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return r}function UE(e,t){const n={},r=x(t,["model"]);r!=null&&v(n,["_url","model"],yt(e,r));const o=x(t,["prompt"]);o!=null&&v(n,["instances[0]","prompt"],o);const l=x(t,["config"]);return l!=null&&v(n,["config"],HE(e,l,n)),n}function GE(e,t){const n={},r=x(t,["model"]);r!=null&&v(n,["_url","name"],yt(e,r));const o=x(t,["config"]);return o!=null&&v(n,["config"],o),n}function qE(e,t,n){const r={},o=x(t,["displayName"]);n!==void 0&&o!=null&&v(n,["displayName"],o);const l=x(t,["description"]);return n!==void 0&&l!=null&&v(n,["description"],l),r}function $E(e,t){const n={},r=x(t,["model"]);r!=null&&v(n,["_url","name"],yt(e,r));const o=x(t,["config"]);return o!=null&&v(n,["config"],qE(e,o,n)),n}function YE(e,t){const n={},r=x(t,["model"]);r!=null&&v(n,["_url","name"],yt(e,r));const o=x(t,["config"]);return o!=null&&v(n,["config"],o),n}function KE(e,t){const n={};if(x(t,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(x(t,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(x(t,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return n}function XE(e,t){const n={},r=x(t,["model"]);r!=null&&v(n,["_url","model"],yt(e,r));const o=x(t,["contents"]);if(o!=null){let u=nr(e,o);Array.isArray(u)&&(u=u.map(f=>Pu(e,f))),v(n,["contents"],u)}const l=x(t,["config"]);return l!=null&&v(n,["config"],KE(e,l)),n}function WE(e,t){const n={};if(x(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const r=x(t,["imageBytes"]);r!=null&&v(n,["bytesBase64Encoded"],rr(e,r));const o=x(t,["mimeType"]);return o!=null&&v(n,["mimeType"],o),n}function QE(e,t,n){const r={},o=x(t,["numberOfVideos"]);if(n!==void 0&&o!=null&&v(n,["parameters","sampleCount"],o),x(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(x(t,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const l=x(t,["durationSeconds"]);if(n!==void 0&&l!=null&&v(n,["parameters","durationSeconds"],l),x(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const u=x(t,["aspectRatio"]);if(n!==void 0&&u!=null&&v(n,["parameters","aspectRatio"],u),x(t,["resolution"])!==void 0)throw new Error("resolution parameter is not supported in Gemini API.");const f=x(t,["personGeneration"]);if(n!==void 0&&f!=null&&v(n,["parameters","personGeneration"],f),x(t,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const m=x(t,["negativePrompt"]);if(n!==void 0&&m!=null&&v(n,["parameters","negativePrompt"],m),x(t,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return r}function JE(e,t){const n={},r=x(t,["model"]);r!=null&&v(n,["_url","model"],yt(e,r));const o=x(t,["prompt"]);o!=null&&v(n,["instances[0]","prompt"],o);const l=x(t,["image"]);l!=null&&v(n,["instances[0]","image"],WE(e,l));const u=x(t,["config"]);return u!=null&&v(n,["config"],QE(e,u,n)),n}function ZE(e,t){const n={},r=x(t,["videoMetadata"]);r!=null&&v(n,["videoMetadata"],r);const o=x(t,["thought"]);o!=null&&v(n,["thought"],o);const l=x(t,["codeExecutionResult"]);l!=null&&v(n,["codeExecutionResult"],l);const u=x(t,["executableCode"]);u!=null&&v(n,["executableCode"],u);const f=x(t,["fileData"]);f!=null&&v(n,["fileData"],f);const m=x(t,["functionCall"]);m!=null&&v(n,["functionCall"],m);const d=x(t,["functionResponse"]);d!=null&&v(n,["functionResponse"],d);const h=x(t,["inlineData"]);h!=null&&v(n,["inlineData"],h);const y=x(t,["text"]);return y!=null&&v(n,["text"],y),n}function qa(e,t){const n={},r=x(t,["parts"]);if(r!=null){let l=r;Array.isArray(l)&&(l=l.map(u=>ZE(e,u))),v(n,["parts"],l)}const o=x(t,["role"]);return o!=null&&v(n,["role"],o),n}function e2(e,t){const n={},r=x(t,["featureSelectionPreference"]);return r!=null&&v(n,["featureSelectionPreference"],r),n}function t2(e,t){const n={},r=x(t,["method"]);r!=null&&v(n,["method"],r);const o=x(t,["category"]);o!=null&&v(n,["category"],o);const l=x(t,["threshold"]);return l!=null&&v(n,["threshold"],l),n}function n2(){return{}}function i2(e,t){const n={},r=x(t,["mode"]);r!=null&&v(n,["mode"],r);const o=x(t,["dynamicThreshold"]);return o!=null&&v(n,["dynamicThreshold"],o),n}function r2(e,t){const n={},r=x(t,["dynamicRetrievalConfig"]);return r!=null&&v(n,["dynamicRetrievalConfig"],i2(e,r)),n}function Zb(e,t){const n={},r=x(t,["retrieval"]);r!=null&&v(n,["retrieval"],r),x(t,["googleSearch"])!=null&&v(n,["googleSearch"],n2());const l=x(t,["googleSearchRetrieval"]);l!=null&&v(n,["googleSearchRetrieval"],r2(e,l));const u=x(t,["codeExecution"]);u!=null&&v(n,["codeExecution"],u);const f=x(t,["functionDeclarations"]);return f!=null&&v(n,["functionDeclarations"],f),n}function a2(e,t){const n={},r=x(t,["mode"]);r!=null&&v(n,["mode"],r);const o=x(t,["allowedFunctionNames"]);return o!=null&&v(n,["allowedFunctionNames"],o),n}function o2(e,t){const n={},r=x(t,["functionCallingConfig"]);return r!=null&&v(n,["functionCallingConfig"],a2(e,r)),n}function s2(e,t){const n={},r=x(t,["voiceName"]);return r!=null&&v(n,["voiceName"],r),n}function l2(e,t){const n={},r=x(t,["prebuiltVoiceConfig"]);return r!=null&&v(n,["prebuiltVoiceConfig"],s2(e,r)),n}function u2(e,t){const n={},r=x(t,["voiceConfig"]);r!=null&&v(n,["voiceConfig"],l2(e,r));const o=x(t,["languageCode"]);return o!=null&&v(n,["languageCode"],o),n}function c2(e,t){const n={},r=x(t,["includeThoughts"]);r!=null&&v(n,["includeThoughts"],r);const o=x(t,["thinkingBudget"]);return o!=null&&v(n,["thinkingBudget"],o),n}function f2(e,t,n){const r={},o=x(t,["systemInstruction"]);n!==void 0&&o!=null&&v(n,["systemInstruction"],qa(e,on(e,o)));const l=x(t,["temperature"]);l!=null&&v(r,["temperature"],l);const u=x(t,["topP"]);u!=null&&v(r,["topP"],u);const f=x(t,["topK"]);f!=null&&v(r,["topK"],f);const m=x(t,["candidateCount"]);m!=null&&v(r,["candidateCount"],m);const d=x(t,["maxOutputTokens"]);d!=null&&v(r,["maxOutputTokens"],d);const h=x(t,["stopSequences"]);h!=null&&v(r,["stopSequences"],h);const y=x(t,["responseLogprobs"]);y!=null&&v(r,["responseLogprobs"],y);const T=x(t,["logprobs"]);T!=null&&v(r,["logprobs"],T);const S=x(t,["presencePenalty"]);S!=null&&v(r,["presencePenalty"],S);const w=x(t,["frequencyPenalty"]);w!=null&&v(r,["frequencyPenalty"],w);const A=x(t,["seed"]);A!=null&&v(r,["seed"],A);const _=x(t,["responseMimeType"]);_!=null&&v(r,["responseMimeType"],_);const k=x(t,["responseSchema"]);k!=null&&v(r,["responseSchema"],Kb(e,k));const V=x(t,["routingConfig"]);V!=null&&v(r,["routingConfig"],V);const I=x(t,["modelSelectionConfig"]);I!=null&&v(r,["modelConfig"],e2(e,I));const B=x(t,["safetySettings"]);if(n!==void 0&&B!=null){let le=B;Array.isArray(le)&&(le=le.map(Z=>t2(e,Z))),v(n,["safetySettings"],le)}const U=x(t,["tools"]);if(n!==void 0&&U!=null){let le=Vu(e,U);Array.isArray(le)&&(le=le.map(Z=>Zb(e,Lu(e,Z)))),v(n,["tools"],le)}const z=x(t,["toolConfig"]);n!==void 0&&z!=null&&v(n,["toolConfig"],o2(e,z));const ie=x(t,["labels"]);n!==void 0&&ie!=null&&v(n,["labels"],ie);const se=x(t,["cachedContent"]);n!==void 0&&se!=null&&v(n,["cachedContent"],ir(e,se));const ge=x(t,["responseModalities"]);ge!=null&&v(r,["responseModalities"],ge);const H=x(t,["mediaResolution"]);H!=null&&v(r,["mediaResolution"],H);const ue=x(t,["speechConfig"]);ue!=null&&v(r,["speechConfig"],u2(e,Xb(e,ue)));const fe=x(t,["audioTimestamp"]);fe!=null&&v(r,["audioTimestamp"],fe);const he=x(t,["thinkingConfig"]);return he!=null&&v(r,["thinkingConfig"],c2(e,he)),r}function fx(e,t){const n={},r=x(t,["model"]);r!=null&&v(n,["_url","model"],yt(e,r));const o=x(t,["contents"]);if(o!=null){let u=nr(e,o);Array.isArray(u)&&(u=u.map(f=>qa(e,f))),v(n,["contents"],u)}const l=x(t,["config"]);return l!=null&&v(n,["generationConfig"],f2(e,l,n)),n}function d2(e,t,n){const r={},o=x(t,["taskType"]);n!==void 0&&o!=null&&v(n,["instances[]","task_type"],o);const l=x(t,["title"]);n!==void 0&&l!=null&&v(n,["instances[]","title"],l);const u=x(t,["outputDimensionality"]);n!==void 0&&u!=null&&v(n,["parameters","outputDimensionality"],u);const f=x(t,["mimeType"]);n!==void 0&&f!=null&&v(n,["instances[]","mimeType"],f);const m=x(t,["autoTruncate"]);return n!==void 0&&m!=null&&v(n,["parameters","autoTruncate"],m),r}function m2(e,t){const n={},r=x(t,["model"]);r!=null&&v(n,["_url","model"],yt(e,r));const o=x(t,["contents"]);o!=null&&v(n,["instances[]","content"],Yb(e,o));const l=x(t,["config"]);return l!=null&&v(n,["config"],d2(e,l,n)),n}function h2(e,t,n){const r={},o=x(t,["outputGcsUri"]);n!==void 0&&o!=null&&v(n,["parameters","storageUri"],o);const l=x(t,["negativePrompt"]);n!==void 0&&l!=null&&v(n,["parameters","negativePrompt"],l);const u=x(t,["numberOfImages"]);n!==void 0&&u!=null&&v(n,["parameters","sampleCount"],u);const f=x(t,["aspectRatio"]);n!==void 0&&f!=null&&v(n,["parameters","aspectRatio"],f);const m=x(t,["guidanceScale"]);n!==void 0&&m!=null&&v(n,["parameters","guidanceScale"],m);const d=x(t,["seed"]);n!==void 0&&d!=null&&v(n,["parameters","seed"],d);const h=x(t,["safetyFilterLevel"]);n!==void 0&&h!=null&&v(n,["parameters","safetySetting"],h);const y=x(t,["personGeneration"]);n!==void 0&&y!=null&&v(n,["parameters","personGeneration"],y);const T=x(t,["includeSafetyAttributes"]);n!==void 0&&T!=null&&v(n,["parameters","includeSafetyAttributes"],T);const S=x(t,["includeRaiReason"]);n!==void 0&&S!=null&&v(n,["parameters","includeRaiReason"],S);const w=x(t,["language"]);n!==void 0&&w!=null&&v(n,["parameters","language"],w);const A=x(t,["outputMimeType"]);n!==void 0&&A!=null&&v(n,["parameters","outputOptions","mimeType"],A);const _=x(t,["outputCompressionQuality"]);n!==void 0&&_!=null&&v(n,["parameters","outputOptions","compressionQuality"],_);const k=x(t,["addWatermark"]);n!==void 0&&k!=null&&v(n,["parameters","addWatermark"],k);const V=x(t,["enhancePrompt"]);return n!==void 0&&V!=null&&v(n,["parameters","enhancePrompt"],V),r}function p2(e,t){const n={},r=x(t,["model"]);r!=null&&v(n,["_url","model"],yt(e,r));const o=x(t,["prompt"]);o!=null&&v(n,["instances[0]","prompt"],o);const l=x(t,["config"]);return l!=null&&v(n,["config"],h2(e,l,n)),n}function g2(e,t){const n={},r=x(t,["model"]);r!=null&&v(n,["_url","name"],yt(e,r));const o=x(t,["config"]);return o!=null&&v(n,["config"],o),n}function y2(e,t,n){const r={},o=x(t,["displayName"]);n!==void 0&&o!=null&&v(n,["displayName"],o);const l=x(t,["description"]);return n!==void 0&&l!=null&&v(n,["description"],l),r}function x2(e,t){const n={},r=x(t,["model"]);r!=null&&v(n,["_url","model"],yt(e,r));const o=x(t,["config"]);return o!=null&&v(n,["config"],y2(e,o,n)),n}function v2(e,t){const n={},r=x(t,["model"]);r!=null&&v(n,["_url","name"],yt(e,r));const o=x(t,["config"]);return o!=null&&v(n,["config"],o),n}function b2(e,t,n){const r={},o=x(t,["systemInstruction"]);n!==void 0&&o!=null&&v(n,["systemInstruction"],qa(e,on(e,o)));const l=x(t,["tools"]);if(n!==void 0&&l!=null){let f=l;Array.isArray(f)&&(f=f.map(m=>Zb(e,m))),v(n,["tools"],f)}const u=x(t,["generationConfig"]);return n!==void 0&&u!=null&&v(n,["generationConfig"],u),r}function T2(e,t){const n={},r=x(t,["model"]);r!=null&&v(n,["_url","model"],yt(e,r));const o=x(t,["contents"]);if(o!=null){let u=nr(e,o);Array.isArray(u)&&(u=u.map(f=>qa(e,f))),v(n,["contents"],u)}const l=x(t,["config"]);return l!=null&&v(n,["config"],b2(e,l,n)),n}function S2(e,t){const n={},r=x(t,["model"]);r!=null&&v(n,["_url","model"],yt(e,r));const o=x(t,["contents"]);if(o!=null){let u=nr(e,o);Array.isArray(u)&&(u=u.map(f=>qa(e,f))),v(n,["contents"],u)}const l=x(t,["config"]);return l!=null&&v(n,["config"],l),n}function C2(e,t){const n={},r=x(t,["gcsUri"]);r!=null&&v(n,["gcsUri"],r);const o=x(t,["imageBytes"]);o!=null&&v(n,["bytesBase64Encoded"],rr(e,o));const l=x(t,["mimeType"]);return l!=null&&v(n,["mimeType"],l),n}function M2(e,t,n){const r={},o=x(t,["numberOfVideos"]);n!==void 0&&o!=null&&v(n,["parameters","sampleCount"],o);const l=x(t,["outputGcsUri"]);n!==void 0&&l!=null&&v(n,["parameters","storageUri"],l);const u=x(t,["fps"]);n!==void 0&&u!=null&&v(n,["parameters","fps"],u);const f=x(t,["durationSeconds"]);n!==void 0&&f!=null&&v(n,["parameters","durationSeconds"],f);const m=x(t,["seed"]);n!==void 0&&m!=null&&v(n,["parameters","seed"],m);const d=x(t,["aspectRatio"]);n!==void 0&&d!=null&&v(n,["parameters","aspectRatio"],d);const h=x(t,["resolution"]);n!==void 0&&h!=null&&v(n,["parameters","resolution"],h);const y=x(t,["personGeneration"]);n!==void 0&&y!=null&&v(n,["parameters","personGeneration"],y);const T=x(t,["pubsubTopic"]);n!==void 0&&T!=null&&v(n,["parameters","pubsubTopic"],T);const S=x(t,["negativePrompt"]);n!==void 0&&S!=null&&v(n,["parameters","negativePrompt"],S);const w=x(t,["enhancePrompt"]);return n!==void 0&&w!=null&&v(n,["parameters","enhancePrompt"],w),r}function w2(e,t){const n={},r=x(t,["model"]);r!=null&&v(n,["_url","model"],yt(e,r));const o=x(t,["prompt"]);o!=null&&v(n,["instances[0]","prompt"],o);const l=x(t,["image"]);l!=null&&v(n,["instances[0]","image"],C2(e,l));const u=x(t,["config"]);return u!=null&&v(n,["config"],M2(e,u,n)),n}function A2(e,t){const n={},r=x(t,["thought"]);r!=null&&v(n,["thought"],r);const o=x(t,["codeExecutionResult"]);o!=null&&v(n,["codeExecutionResult"],o);const l=x(t,["executableCode"]);l!=null&&v(n,["executableCode"],l);const u=x(t,["fileData"]);u!=null&&v(n,["fileData"],u);const f=x(t,["functionCall"]);f!=null&&v(n,["functionCall"],f);const m=x(t,["functionResponse"]);m!=null&&v(n,["functionResponse"],m);const d=x(t,["inlineData"]);d!=null&&v(n,["inlineData"],d);const h=x(t,["text"]);return h!=null&&v(n,["text"],h),n}function E2(e,t){const n={},r=x(t,["parts"]);if(r!=null){let l=r;Array.isArray(l)&&(l=l.map(u=>A2(e,u))),v(n,["parts"],l)}const o=x(t,["role"]);return o!=null&&v(n,["role"],o),n}function D2(e,t){const n={},r=x(t,["citationSources"]);return r!=null&&v(n,["citations"],r),n}function k2(e,t){const n={},r=x(t,["content"]);r!=null&&v(n,["content"],E2(e,r));const o=x(t,["citationMetadata"]);o!=null&&v(n,["citationMetadata"],D2(e,o));const l=x(t,["tokenCount"]);l!=null&&v(n,["tokenCount"],l);const u=x(t,["finishReason"]);u!=null&&v(n,["finishReason"],u);const f=x(t,["avgLogprobs"]);f!=null&&v(n,["avgLogprobs"],f);const m=x(t,["groundingMetadata"]);m!=null&&v(n,["groundingMetadata"],m);const d=x(t,["index"]);d!=null&&v(n,["index"],d);const h=x(t,["logprobsResult"]);h!=null&&v(n,["logprobsResult"],h);const y=x(t,["safetyRatings"]);return y!=null&&v(n,["safetyRatings"],y),n}function dx(e,t){const n={},r=x(t,["candidates"]);if(r!=null){let f=r;Array.isArray(f)&&(f=f.map(m=>k2(e,m))),v(n,["candidates"],f)}const o=x(t,["modelVersion"]);o!=null&&v(n,["modelVersion"],o);const l=x(t,["promptFeedback"]);l!=null&&v(n,["promptFeedback"],l);const u=x(t,["usageMetadata"]);return u!=null&&v(n,["usageMetadata"],u),n}function I2(e,t){const n={},r=x(t,["values"]);return r!=null&&v(n,["values"],r),n}function N2(){return{}}function R2(e,t){const n={},r=x(t,["embeddings"]);if(r!=null){let l=r;Array.isArray(l)&&(l=l.map(u=>I2(e,u))),v(n,["embeddings"],l)}return x(t,["metadata"])!=null&&v(n,["metadata"],N2()),n}function _2(e,t){const n={},r=x(t,["bytesBase64Encoded"]);r!=null&&v(n,["imageBytes"],rr(e,r));const o=x(t,["mimeType"]);return o!=null&&v(n,["mimeType"],o),n}function e1(e,t){const n={},r=x(t,["safetyAttributes","categories"]);r!=null&&v(n,["categories"],r);const o=x(t,["safetyAttributes","scores"]);o!=null&&v(n,["scores"],o);const l=x(t,["contentType"]);return l!=null&&v(n,["contentType"],l),n}function L2(e,t){const n={},r=x(t,["_self"]);r!=null&&v(n,["image"],_2(e,r));const o=x(t,["raiFilteredReason"]);o!=null&&v(n,["raiFilteredReason"],o);const l=x(t,["_self"]);return l!=null&&v(n,["safetyAttributes"],e1(e,l)),n}function V2(e,t){const n={},r=x(t,["predictions"]);if(r!=null){let l=r;Array.isArray(l)&&(l=l.map(u=>L2(e,u))),v(n,["generatedImages"],l)}const o=x(t,["positivePromptSafetyAttributes"]);return o!=null&&v(n,["positivePromptSafetyAttributes"],e1(e,o)),n}function P2(e,t){const n={},r=x(t,["baseModel"]);r!=null&&v(n,["baseModel"],r);const o=x(t,["createTime"]);o!=null&&v(n,["createTime"],o);const l=x(t,["updateTime"]);return l!=null&&v(n,["updateTime"],l),n}function mx(e,t){const n={},r=x(t,["name"]);r!=null&&v(n,["name"],r);const o=x(t,["displayName"]);o!=null&&v(n,["displayName"],o);const l=x(t,["description"]);l!=null&&v(n,["description"],l);const u=x(t,["version"]);u!=null&&v(n,["version"],u);const f=x(t,["_self"]);f!=null&&v(n,["tunedModelInfo"],P2(e,f));const m=x(t,["inputTokenLimit"]);m!=null&&v(n,["inputTokenLimit"],m);const d=x(t,["outputTokenLimit"]);d!=null&&v(n,["outputTokenLimit"],d);const h=x(t,["supportedGenerationMethods"]);return h!=null&&v(n,["supportedActions"],h),n}function B2(){return{}}function F2(e,t){const n={},r=x(t,["totalTokens"]);r!=null&&v(n,["totalTokens"],r);const o=x(t,["cachedContentTokenCount"]);return o!=null&&v(n,["cachedContentTokenCount"],o),n}function O2(e,t){const n={},r=x(t,["video","uri"]);r!=null&&v(n,["uri"],r);const o=x(t,["video","encodedVideo"]);o!=null&&v(n,["videoBytes"],rr(e,o));const l=x(t,["encoding"]);return l!=null&&v(n,["mimeType"],l),n}function j2(e,t){const n={},r=x(t,["_self"]);return r!=null&&v(n,["video"],O2(e,r)),n}function z2(e,t){const n={},r=x(t,["generatedSamples"]);if(r!=null){let u=r;Array.isArray(u)&&(u=u.map(f=>j2(e,f))),v(n,["generatedVideos"],u)}const o=x(t,["raiMediaFilteredCount"]);o!=null&&v(n,["raiMediaFilteredCount"],o);const l=x(t,["raiMediaFilteredReasons"]);return l!=null&&v(n,["raiMediaFilteredReasons"],l),n}function H2(e,t){const n={},r=x(t,["name"]);r!=null&&v(n,["name"],r);const o=x(t,["metadata"]);o!=null&&v(n,["metadata"],o);const l=x(t,["done"]);l!=null&&v(n,["done"],l);const u=x(t,["error"]);u!=null&&v(n,["error"],u);const f=x(t,["response","generateVideoResponse"]);return f!=null&&v(n,["response"],z2(e,f)),n}function U2(e,t){const n={},r=x(t,["videoMetadata"]);r!=null&&v(n,["videoMetadata"],r);const o=x(t,["thought"]);o!=null&&v(n,["thought"],o);const l=x(t,["codeExecutionResult"]);l!=null&&v(n,["codeExecutionResult"],l);const u=x(t,["executableCode"]);u!=null&&v(n,["executableCode"],u);const f=x(t,["fileData"]);f!=null&&v(n,["fileData"],f);const m=x(t,["functionCall"]);m!=null&&v(n,["functionCall"],m);const d=x(t,["functionResponse"]);d!=null&&v(n,["functionResponse"],d);const h=x(t,["inlineData"]);h!=null&&v(n,["inlineData"],h);const y=x(t,["text"]);return y!=null&&v(n,["text"],y),n}function G2(e,t){const n={},r=x(t,["parts"]);if(r!=null){let l=r;Array.isArray(l)&&(l=l.map(u=>U2(e,u))),v(n,["parts"],l)}const o=x(t,["role"]);return o!=null&&v(n,["role"],o),n}function q2(e,t){const n={},r=x(t,["citations"]);return r!=null&&v(n,["citations"],r),n}function $2(e,t){const n={},r=x(t,["content"]);r!=null&&v(n,["content"],G2(e,r));const o=x(t,["citationMetadata"]);o!=null&&v(n,["citationMetadata"],q2(e,o));const l=x(t,["finishMessage"]);l!=null&&v(n,["finishMessage"],l);const u=x(t,["finishReason"]);u!=null&&v(n,["finishReason"],u);const f=x(t,["avgLogprobs"]);f!=null&&v(n,["avgLogprobs"],f);const m=x(t,["groundingMetadata"]);m!=null&&v(n,["groundingMetadata"],m);const d=x(t,["index"]);d!=null&&v(n,["index"],d);const h=x(t,["logprobsResult"]);h!=null&&v(n,["logprobsResult"],h);const y=x(t,["safetyRatings"]);return y!=null&&v(n,["safetyRatings"],y),n}function hx(e,t){const n={},r=x(t,["candidates"]);if(r!=null){let d=r;Array.isArray(d)&&(d=d.map(h=>$2(e,h))),v(n,["candidates"],d)}const o=x(t,["createTime"]);o!=null&&v(n,["createTime"],o);const l=x(t,["responseId"]);l!=null&&v(n,["responseId"],l);const u=x(t,["modelVersion"]);u!=null&&v(n,["modelVersion"],u);const f=x(t,["promptFeedback"]);f!=null&&v(n,["promptFeedback"],f);const m=x(t,["usageMetadata"]);return m!=null&&v(n,["usageMetadata"],m),n}function Y2(e,t){const n={},r=x(t,["truncated"]);r!=null&&v(n,["truncated"],r);const o=x(t,["token_count"]);return o!=null&&v(n,["tokenCount"],o),n}function K2(e,t){const n={},r=x(t,["values"]);r!=null&&v(n,["values"],r);const o=x(t,["statistics"]);return o!=null&&v(n,["statistics"],Y2(e,o)),n}function X2(e,t){const n={},r=x(t,["billableCharacterCount"]);return r!=null&&v(n,["billableCharacterCount"],r),n}function W2(e,t){const n={},r=x(t,["predictions[]","embeddings"]);if(r!=null){let l=r;Array.isArray(l)&&(l=l.map(u=>K2(e,u))),v(n,["embeddings"],l)}const o=x(t,["metadata"]);return o!=null&&v(n,["metadata"],X2(e,o)),n}function Q2(e,t){const n={},r=x(t,["gcsUri"]);r!=null&&v(n,["gcsUri"],r);const o=x(t,["bytesBase64Encoded"]);o!=null&&v(n,["imageBytes"],rr(e,o));const l=x(t,["mimeType"]);return l!=null&&v(n,["mimeType"],l),n}function t1(e,t){const n={},r=x(t,["safetyAttributes","categories"]);r!=null&&v(n,["categories"],r);const o=x(t,["safetyAttributes","scores"]);o!=null&&v(n,["scores"],o);const l=x(t,["contentType"]);return l!=null&&v(n,["contentType"],l),n}function J2(e,t){const n={},r=x(t,["_self"]);r!=null&&v(n,["image"],Q2(e,r));const o=x(t,["raiFilteredReason"]);o!=null&&v(n,["raiFilteredReason"],o);const l=x(t,["_self"]);l!=null&&v(n,["safetyAttributes"],t1(e,l));const u=x(t,["prompt"]);return u!=null&&v(n,["enhancedPrompt"],u),n}function Z2(e,t){const n={},r=x(t,["predictions"]);if(r!=null){let l=r;Array.isArray(l)&&(l=l.map(u=>J2(e,u))),v(n,["generatedImages"],l)}const o=x(t,["positivePromptSafetyAttributes"]);return o!=null&&v(n,["positivePromptSafetyAttributes"],t1(e,o)),n}function eD(e,t){const n={},r=x(t,["endpoint"]);r!=null&&v(n,["name"],r);const o=x(t,["deployedModelId"]);return o!=null&&v(n,["deployedModelId"],o),n}function tD(e,t){const n={},r=x(t,["labels","google-vertex-llm-tuning-base-model-id"]);r!=null&&v(n,["baseModel"],r);const o=x(t,["createTime"]);o!=null&&v(n,["createTime"],o);const l=x(t,["updateTime"]);return l!=null&&v(n,["updateTime"],l),n}function px(e,t){const n={},r=x(t,["name"]);r!=null&&v(n,["name"],r);const o=x(t,["displayName"]);o!=null&&v(n,["displayName"],o);const l=x(t,["description"]);l!=null&&v(n,["description"],l);const u=x(t,["versionId"]);u!=null&&v(n,["version"],u);const f=x(t,["deployedModels"]);if(f!=null){let h=f;Array.isArray(h)&&(h=h.map(y=>eD(e,y))),v(n,["endpoints"],h)}const m=x(t,["labels"]);m!=null&&v(n,["labels"],m);const d=x(t,["_self"]);return d!=null&&v(n,["tunedModelInfo"],tD(e,d)),n}function nD(){return{}}function iD(e,t){const n={},r=x(t,["totalTokens"]);return r!=null&&v(n,["totalTokens"],r),n}function rD(e,t){const n={},r=x(t,["tokensInfo"]);return r!=null&&v(n,["tokensInfo"],r),n}function aD(e,t){const n={},r=x(t,["gcsUri"]);r!=null&&v(n,["uri"],r);const o=x(t,["bytesBase64Encoded"]);o!=null&&v(n,["videoBytes"],rr(e,o));const l=x(t,["mimeType"]);return l!=null&&v(n,["mimeType"],l),n}function oD(e,t){const n={},r=x(t,["_self"]);return r!=null&&v(n,["video"],aD(e,r)),n}function sD(e,t){const n={},r=x(t,["videos"]);if(r!=null){let u=r;Array.isArray(u)&&(u=u.map(f=>oD(e,f))),v(n,["generatedVideos"],u)}const o=x(t,["raiMediaFilteredCount"]);o!=null&&v(n,["raiMediaFilteredCount"],o);const l=x(t,["raiMediaFilteredReasons"]);return l!=null&&v(n,["raiMediaFilteredReasons"],l),n}function lD(e,t){const n={},r=x(t,["name"]);r!=null&&v(n,["name"],r);const o=x(t,["metadata"]);o!=null&&v(n,["metadata"],o);const l=x(t,["done"]);l!=null&&v(n,["done"],l);const u=x(t,["error"]);u!=null&&v(n,["error"],u);const f=x(t,["response"]);return f!=null&&v(n,["response"],sD(e,f)),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const uD="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function cD(e,t,n){let r,o;n.data instanceof Blob?o=JSON.parse(await n.data.text()):o=JSON.parse(n.data),e.isVertexAI()?r=AE(e,o):r=wE(e,o),t(r)}class fD{constructor(t,n,r){this.apiClient=t,this.auth=n,this.webSocketFactory=r}async connect(t){var n,r,o,l;const u=this.apiClient.getWebsocketBaseUrl(),f=this.apiClient.getApiVersion();let m;const d=pD(this.apiClient.getDefaultHeaders());if(this.apiClient.isVertexAI())m=`${u}/ws/google.cloud.aiplatform.${f}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(d);else{const B=this.apiClient.getApiKey();m=`${u}/ws/google.ai.generativelanguage.${f}.GenerativeService.BidiGenerateContent?key=${B}`}let h=()=>{};const y=new Promise(B=>{h=B}),T=t.callbacks,S=function(){var B;(B=T==null?void 0:T.onopen)===null||B===void 0||B.call(T),h({})},w=this.apiClient,A={onopen:S,onmessage:B=>{cD(w,T.onmessage,B)},onerror:(n=T==null?void 0:T.onerror)!==null&&n!==void 0?n:function(B){},onclose:(r=T==null?void 0:T.onclose)!==null&&r!==void 0?r:function(B){}},_=this.webSocketFactory.create(m,hD(d),A);_.connect(),await y;let k=yt(this.apiClient,t.model);if(this.apiClient.isVertexAI()&&k.startsWith("publishers/")){const B=this.apiClient.getProject(),U=this.apiClient.getLocation();k=`projects/${B}/locations/${U}/`+k}let V={};this.apiClient.isVertexAI()&&((o=t.config)===null||o===void 0?void 0:o.responseModalities)===void 0&&(t.config===void 0?t.config={responseModalities:[bu.AUDIO]}:t.config.responseModalities=[bu.AUDIO]),!((l=t.config)===null||l===void 0)&&l.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const I={model:k,config:t.config,callbacks:t.callbacks};return this.apiClient.isVertexAI()?V=JA(this.apiClient,I):V=QA(this.apiClient,I),delete V.config,_.send(JSON.stringify(V)),new mD(_,this.apiClient)}}const dD={turnComplete:!0};class mD{constructor(t,n){this.conn=t,this.apiClient=n}tLiveClientContent(t,n){if(n.turns!==null&&n.turns!==void 0){let r=[];try{r=nr(t,n.turns),t.isVertexAI()?r=r.map(o=>qa(t,o)):r=r.map(o=>Pu(t,o))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof n.turns}'`)}return{clientContent:{turns:r,turnComplete:n.turnComplete}}}return{clientContent:{turnComplete:n.turnComplete}}}tLiveClienttToolResponse(t,n){let r=[];if(n.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(n.functionResponses)?r=n.functionResponses:r=[n.functionResponses],r.length===0)throw new Error("functionResponses is required.");for(const l of r){if(typeof l!="object"||l===null||!("name"in l)||!("response"in l))throw new Error(`Could not parse function response, type '${typeof l}'.`);if(!t.isVertexAI()&&!("id"in l))throw new Error(uD)}return{toolResponse:{functionResponses:r}}}sendClientContent(t){t=Object.assign(Object.assign({},dD),t);const n=this.tLiveClientContent(this.apiClient,t);this.conn.send(JSON.stringify(n))}sendRealtimeInput(t){let n={};this.apiClient.isVertexAI()?n={realtimeInput:rE(this.apiClient,t)}:n={realtimeInput:iE(this.apiClient,t)},this.conn.send(JSON.stringify(n))}sendToolResponse(t){if(t.functionResponses==null)throw new Error("Tool response parameters are required.");const n=this.tLiveClienttToolResponse(this.apiClient,t);this.conn.send(JSON.stringify(n))}close(){this.conn.close()}}function hD(e){const t={};return e.forEach((n,r)=>{t[r]=n}),t}function pD(e){const t=new Headers;for(const[n,r]of Object.entries(e))t.append(n,r);return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class gD extends ks{constructor(t){super(),this.apiClient=t,this.generateContent=async n=>await this.generateContentInternal(n),this.generateContentStream=async n=>await this.generateContentStreamInternal(n),this.generateImages=async n=>await this.generateImagesInternal(n).then(r=>{var o;let l;const u=[];if(r!=null&&r.generatedImages)for(const m of r.generatedImages)m&&(m!=null&&m.safetyAttributes)&&((o=m==null?void 0:m.safetyAttributes)===null||o===void 0?void 0:o.contentType)==="Positive Prompt"?l=m==null?void 0:m.safetyAttributes:u.push(m);let f;return l?f={generatedImages:u,positivePromptSafetyAttributes:l}:f={generatedImages:u},f})}async generateContentInternal(t){var n,r,o,l;let u,f="",m={};if(this.apiClient.isVertexAI()){const d=fx(this.apiClient,t);return f=Re("{model}:generateContent",d._url),m=d._query,delete d.config,delete d._url,delete d._query,u=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),u.then(h=>{const y=hx(this.apiClient,h),T=new Xl;return Object.assign(T,y),T})}else{const d=cx(this.apiClient,t);return f=Re("{model}:generateContent",d._url),m=d._query,delete d.config,delete d._url,delete d._query,u=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(h=>h.json()),u.then(h=>{const y=dx(this.apiClient,h),T=new Xl;return Object.assign(T,y),T})}}async generateContentStreamInternal(t){var n,r,o,l;let u,f="",m={};if(this.apiClient.isVertexAI()){const d=fx(this.apiClient,t);f=Re("{model}:streamGenerateContent?alt=sse",d._url),m=d._query,delete d.config,delete d._url,delete d._query;const h=this.apiClient;return u=h.requestStream({path:f,queryParams:m,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}),u.then(function(y){return Tu(this,arguments,function*(){var T,S,w,A;try{for(var _=!0,k=qd(y),V;V=yield Ht(k.next()),T=V.done,!T;_=!0){A=V.value,_=!1;const B=hx(h,yield Ht(A.json())),U=new Xl;Object.assign(U,B),yield yield Ht(U)}}catch(I){S={error:I}}finally{try{!_&&!T&&(w=k.return)&&(yield Ht(w.call(k)))}finally{if(S)throw S.error}}})})}else{const d=cx(this.apiClient,t);f=Re("{model}:streamGenerateContent?alt=sse",d._url),m=d._query,delete d.config,delete d._url,delete d._query;const h=this.apiClient;return u=h.requestStream({path:f,queryParams:m,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}),u.then(function(y){return Tu(this,arguments,function*(){var T,S,w,A;try{for(var _=!0,k=qd(y),V;V=yield Ht(k.next()),T=V.done,!T;_=!0){A=V.value,_=!1;const B=dx(h,yield Ht(A.json())),U=new Xl;Object.assign(U,B),yield yield Ht(U)}}catch(I){S={error:I}}finally{try{!_&&!T&&(w=k.return)&&(yield Ht(w.call(k)))}finally{if(S)throw S.error}}})})}}async embedContent(t){var n,r,o,l;let u,f="",m={};if(this.apiClient.isVertexAI()){const d=m2(this.apiClient,t);return f=Re("{model}:predict",d._url),m=d._query,delete d.config,delete d._url,delete d._query,u=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),u.then(h=>{const y=W2(this.apiClient,h),T=new Z0;return Object.assign(T,y),T})}else{const d=zE(this.apiClient,t);return f=Re("{model}:batchEmbedContents",d._url),m=d._query,delete d.config,delete d._url,delete d._query,u=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(h=>h.json()),u.then(h=>{const y=R2(this.apiClient,h),T=new Z0;return Object.assign(T,y),T})}}async generateImagesInternal(t){var n,r,o,l;let u,f="",m={};if(this.apiClient.isVertexAI()){const d=p2(this.apiClient,t);return f=Re("{model}:predict",d._url),m=d._query,delete d.config,delete d._url,delete d._query,u=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),u.then(h=>{const y=Z2(this.apiClient,h),T=new ex;return Object.assign(T,y),T})}else{const d=UE(this.apiClient,t);return f=Re("{model}:predict",d._url),m=d._query,delete d.config,delete d._url,delete d._query,u=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(h=>h.json()),u.then(h=>{const y=V2(this.apiClient,h),T=new ex;return Object.assign(T,y),T})}}async get(t){var n,r,o,l;let u,f="",m={};if(this.apiClient.isVertexAI()){const d=g2(this.apiClient,t);return f=Re("{name}",d._url),m=d._query,delete d.config,delete d._url,delete d._query,u=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),u.then(h=>px(this.apiClient,h))}else{const d=GE(this.apiClient,t);return f=Re("{name}",d._url),m=d._query,delete d.config,delete d._url,delete d._query,u=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(h=>h.json()),u.then(h=>mx(this.apiClient,h))}}async update(t){var n,r,o,l;let u,f="",m={};if(this.apiClient.isVertexAI()){const d=x2(this.apiClient,t);return f=Re("{model}",d._url),m=d._query,delete d.config,delete d._url,delete d._query,u=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(d),httpMethod:"PATCH",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),u.then(h=>px(this.apiClient,h))}else{const d=$E(this.apiClient,t);return f=Re("{name}",d._url),m=d._query,delete d.config,delete d._url,delete d._query,u=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(d),httpMethod:"PATCH",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(h=>h.json()),u.then(h=>mx(this.apiClient,h))}}async delete(t){var n,r,o,l;let u,f="",m={};if(this.apiClient.isVertexAI()){const d=v2(this.apiClient,t);return f=Re("{name}",d._url),m=d._query,delete d.config,delete d._url,delete d._query,u=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),u.then(()=>{const h=nD(),y=new tx;return Object.assign(y,h),y})}else{const d=YE(this.apiClient,t);return f=Re("{name}",d._url),m=d._query,delete d.config,delete d._url,delete d._query,u=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(h=>h.json()),u.then(()=>{const h=B2(),y=new tx;return Object.assign(y,h),y})}}async countTokens(t){var n,r,o,l;let u,f="",m={};if(this.apiClient.isVertexAI()){const d=T2(this.apiClient,t);return f=Re("{model}:countTokens",d._url),m=d._query,delete d.config,delete d._url,delete d._query,u=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),u.then(h=>{const y=iD(this.apiClient,h),T=new nx;return Object.assign(T,y),T})}else{const d=XE(this.apiClient,t);return f=Re("{model}:countTokens",d._url),m=d._query,delete d.config,delete d._url,delete d._query,u=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(h=>h.json()),u.then(h=>{const y=F2(this.apiClient,h),T=new nx;return Object.assign(T,y),T})}}async computeTokens(t){var n,r;let o,l="",u={};if(this.apiClient.isVertexAI()){const f=S2(this.apiClient,t);return l=Re("{model}:computeTokens",f._url),u=f._query,delete f.config,delete f._url,delete f._query,o=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(m=>m.json()),o.then(m=>{const d=rD(this.apiClient,m),h=new rA;return Object.assign(h,d),h})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideos(t){var n,r,o,l;let u,f="",m={};if(this.apiClient.isVertexAI()){const d=w2(this.apiClient,t);return f=Re("{model}:predictLongRunning",d._url),m=d._query,delete d.config,delete d._url,delete d._query,u=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),u.then(h=>lD(this.apiClient,h))}else{const d=JE(this.apiClient,t);return f=Re("{model}:predictLongRunning",d._url),m=d._query,delete d.config,delete d._url,delete d._query,u=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(h=>h.json()),u.then(h=>H2(this.apiClient,h))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function yD(e,t){const n={},r=x(t,["operationName"]);r!=null&&v(n,["_url","operationName"],r);const o=x(t,["config"]);return o!=null&&v(n,["config"],o),n}function xD(e,t){const n={},r=x(t,["operationName"]);r!=null&&v(n,["_url","operationName"],r);const o=x(t,["config"]);return o!=null&&v(n,["config"],o),n}function vD(e,t){const n={},r=x(t,["operationName"]);r!=null&&v(n,["operationName"],r);const o=x(t,["resourceName"]);o!=null&&v(n,["_url","resourceName"],o);const l=x(t,["config"]);return l!=null&&v(n,["config"],l),n}function bD(e,t){const n={},r=x(t,["video","uri"]);r!=null&&v(n,["uri"],r);const o=x(t,["video","encodedVideo"]);o!=null&&v(n,["videoBytes"],rr(e,o));const l=x(t,["encoding"]);return l!=null&&v(n,["mimeType"],l),n}function TD(e,t){const n={},r=x(t,["_self"]);return r!=null&&v(n,["video"],bD(e,r)),n}function SD(e,t){const n={},r=x(t,["generatedSamples"]);if(r!=null){let u=r;Array.isArray(u)&&(u=u.map(f=>TD(e,f))),v(n,["generatedVideos"],u)}const o=x(t,["raiMediaFilteredCount"]);o!=null&&v(n,["raiMediaFilteredCount"],o);const l=x(t,["raiMediaFilteredReasons"]);return l!=null&&v(n,["raiMediaFilteredReasons"],l),n}function CD(e,t){const n={},r=x(t,["name"]);r!=null&&v(n,["name"],r);const o=x(t,["metadata"]);o!=null&&v(n,["metadata"],o);const l=x(t,["done"]);l!=null&&v(n,["done"],l);const u=x(t,["error"]);u!=null&&v(n,["error"],u);const f=x(t,["response","generateVideoResponse"]);return f!=null&&v(n,["response"],SD(e,f)),n}function MD(e,t){const n={},r=x(t,["gcsUri"]);r!=null&&v(n,["uri"],r);const o=x(t,["bytesBase64Encoded"]);o!=null&&v(n,["videoBytes"],rr(e,o));const l=x(t,["mimeType"]);return l!=null&&v(n,["mimeType"],l),n}function wD(e,t){const n={},r=x(t,["_self"]);return r!=null&&v(n,["video"],MD(e,r)),n}function AD(e,t){const n={},r=x(t,["videos"]);if(r!=null){let u=r;Array.isArray(u)&&(u=u.map(f=>wD(e,f))),v(n,["generatedVideos"],u)}const o=x(t,["raiMediaFilteredCount"]);o!=null&&v(n,["raiMediaFilteredCount"],o);const l=x(t,["raiMediaFilteredReasons"]);return l!=null&&v(n,["raiMediaFilteredReasons"],l),n}function gx(e,t){const n={},r=x(t,["name"]);r!=null&&v(n,["name"],r);const o=x(t,["metadata"]);o!=null&&v(n,["metadata"],o);const l=x(t,["done"]);l!=null&&v(n,["done"],l);const u=x(t,["error"]);u!=null&&v(n,["error"],u);const f=x(t,["response"]);return f!=null&&v(n,["response"],AD(e,f)),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class ED extends ks{constructor(t){super(),this.apiClient=t}async getVideosOperation(t){const n=t.operation,r=t.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const o=n.name.split("/operations/")[0];let l;return r&&"httpOptions"in r&&(l=r.httpOptions),this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:o,config:{httpOptions:l}})}else return this.getVideosOperationInternal({operationName:n.name,config:r})}async getVideosOperationInternal(t){var n,r,o,l;let u,f="",m={};if(this.apiClient.isVertexAI()){const d=xD(this.apiClient,t);return f=Re("{operationName}",d._url),m=d._query,delete d.config,delete d._url,delete d._query,u=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),u.then(h=>gx(this.apiClient,h))}else{const d=yD(this.apiClient,t);return f=Re("{operationName}",d._url),m=d._query,delete d.config,delete d._url,delete d._query,u=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(h=>h.json()),u.then(h=>CD(this.apiClient,h))}}async fetchPredictVideosOperationInternal(t){var n,r;let o,l="",u={};if(this.apiClient.isVertexAI()){const f=vD(this.apiClient,t);return l=Re("{resourceName}:fetchPredictOperation",f._url),u=f._query,delete f.config,delete f._url,delete f._query,o=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(m=>m.json()),o.then(m=>gx(this.apiClient,m))}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const DD="Content-Type",kD="X-Server-Timeout",ID="User-Agent",ND="x-goog-api-client",RD="0.12.0",_D=`google-genai-sdk/${RD}`,LD="v1beta1",VD="v1beta",yx=/^data: (.*)(?:\n\n|\r\r|\r\n\r\n)/;class n1 extends Error{constructor(t,n){n?super(t,{cause:n}):super(t,{cause:new Error().stack}),this.message=t,this.name="ClientError"}}class Yd extends Error{constructor(t,n){n?super(t,{cause:n}):super(t,{cause:new Error().stack}),this.message=t,this.name="ServerError"}}class PD{constructor(t){var n,r;this.clientOptions=Object.assign(Object.assign({},t),{project:t.project,location:t.location,apiKey:t.apiKey,vertexai:t.vertexai});const o={};this.clientOptions.vertexai?(o.apiVersion=(n=this.clientOptions.apiVersion)!==null&&n!==void 0?n:LD,this.getProject()||this.getLocation()?(o.baseUrl=`https://${this.clientOptions.location}-aiplatform.googleapis.com/`,this.clientOptions.apiKey=void 0):(o.baseUrl="https://aiplatform.googleapis.com/",this.clientOptions.project=void 0,this.clientOptions.location=void 0)):(o.apiVersion=(r=this.clientOptions.apiVersion)!==null&&r!==void 0?r:VD,o.baseUrl="https://generativelanguage.googleapis.com/"),o.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=o,t.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(o,t.httpOptions))}isVertexAI(){var t;return(t=this.clientOptions.vertexai)!==null&&t!==void 0?t:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(t){if(!t||t.baseUrl===void 0||t.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const r=[t.baseUrl.endsWith("/")?t.baseUrl.slice(0,-1):t.baseUrl];return t.apiVersion&&t.apiVersion!==""&&r.push(t.apiVersion),r.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const t=this.getBaseUrl(),n=new URL(t);return n.protocol=n.protocol=="http:"?"ws":"wss",n.toString()}setBaseUrl(t){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=t;else throw new Error("HTTP options are not correctly set.")}constructUrl(t,n,r){const o=[this.getRequestUrlInternal(n)];return r&&o.push(this.getBaseResourcePath()),t!==""&&o.push(t),new URL(`${o.join("/")}`)}shouldPrependVertexProjectPath(t){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||t.path.startsWith("projects/")||t.httpMethod==="GET"&&t.path.startsWith("publishers/google/models"))}async request(t){let n=this.clientOptions.httpOptions;t.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,t.httpOptions));const r=this.shouldPrependVertexProjectPath(t),o=this.constructUrl(t.path,n,r);if(t.queryParams)for(const[u,f]of Object.entries(t.queryParams))o.searchParams.append(u,String(f));let l={};if(t.httpMethod==="GET"){if(t.body&&t.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else l.body=t.body;return l=await this.includeExtraHttpOptionsToRequestInit(l,n,t.abortSignal),this.unaryApiCall(o,l,t.httpMethod)}patchHttpOptions(t,n){const r=JSON.parse(JSON.stringify(t));for(const[o,l]of Object.entries(n))typeof l=="object"?r[o]=Object.assign(Object.assign({},r[o]),l):l!==void 0&&(r[o]=l);return r}async requestStream(t){let n=this.clientOptions.httpOptions;t.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,t.httpOptions));const r=this.shouldPrependVertexProjectPath(t),o=this.constructUrl(t.path,n,r);(!o.searchParams.has("alt")||o.searchParams.get("alt")!=="sse")&&o.searchParams.set("alt","sse");let l={};return l.body=t.body,l=await this.includeExtraHttpOptionsToRequestInit(l,n,t.abortSignal),this.streamApiCall(o,l,t.httpMethod)}async includeExtraHttpOptionsToRequestInit(t,n,r){if(n&&n.timeout||r){const o=new AbortController,l=o.signal;n.timeout&&(n==null?void 0:n.timeout)>0&&setTimeout(()=>o.abort(),n.timeout),r&&r.addEventListener("abort",()=>{o.abort()}),t.signal=l}return t.headers=await this.getHeadersInternal(n),t}async unaryApiCall(t,n,r){return this.apiCall(t.toString(),Object.assign(Object.assign({},n),{method:r})).then(async o=>(await xx(o),new Gd(o))).catch(o=>{throw o instanceof Error?o:new Error(JSON.stringify(o))})}async streamApiCall(t,n,r){return this.apiCall(t.toString(),Object.assign(Object.assign({},n),{method:r})).then(async o=>(await xx(o),this.processStreamResponse(o))).catch(o=>{throw o instanceof Error?o:new Error(JSON.stringify(o))})}processStreamResponse(t){var n;return Tu(this,arguments,function*(){const o=(n=t==null?void 0:t.body)===null||n===void 0?void 0:n.getReader(),l=new TextDecoder("utf-8");if(!o)throw new Error("Response body is empty");try{let u="";for(;;){const{done:f,value:m}=yield Ht(o.read());if(f){if(u.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const d=l.decode(m);try{const y=JSON.parse(d);if("error"in y){const T=JSON.parse(JSON.stringify(y.error)),S=T.status,w=T.code,A=`got status: ${S}. ${JSON.stringify(y)}`;if(w>=400&&w<500)throw new n1(A);if(w>=500&&w<600)throw new Yd(A)}}catch(y){const T=y;if(T.name==="ClientError"||T.name==="ServerError")throw y}u+=d;let h=u.match(yx);for(;h;){const y=h[1];try{const T=new Response(y,{headers:t==null?void 0:t.headers,status:t==null?void 0:t.status,statusText:t==null?void 0:t.statusText});yield yield Ht(new Gd(T)),u=u.slice(h[0].length),h=u.match(yx)}catch(T){throw new Error(`exception parsing stream chunk ${y}. ${T}`)}}}}finally{o.releaseLock()}})}async apiCall(t,n){return fetch(t,n).catch(r=>{throw new Error(`exception ${r} sending request`)})}getDefaultHeaders(){const t={},n=_D+" "+this.clientOptions.userAgentExtra;return t[ID]=n,t[ND]=n,t[DD]="application/json",t}async getHeadersInternal(t){const n=new Headers;if(t&&t.headers){for(const[r,o]of Object.entries(t.headers))n.append(r,o);t.timeout&&t.timeout>0&&n.append(kD,String(Math.ceil(t.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(n),n}async uploadFile(t,n){var r;const o={};n!=null&&(o.mimeType=n.mimeType,o.name=n.name,o.displayName=n.displayName),o.name&&!o.name.startsWith("files/")&&(o.name=`files/${o.name}`);const l=this.clientOptions.uploader,u=await l.stat(t);o.sizeBytes=String(u.size);const f=(r=n==null?void 0:n.mimeType)!==null&&r!==void 0?r:u.type;if(f===void 0||f==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");o.mimeType=f;const m=await this.fetchUploadUrl(o,n);return l.upload(t,m,this)}async fetchUploadUrl(t,n){var r;let o={};n!=null&&n.httpOptions?o=n.httpOptions:o={apiVersion:"",headers:{"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${t.sizeBytes}`,"X-Goog-Upload-Header-Content-Type":`${t.mimeType}`}};const l={file:t},u=await this.request({path:Re("upload/v1beta/files",l._url),body:JSON.stringify(l),httpMethod:"POST",httpOptions:o});if(!u||!(u!=null&&u.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const f=(r=u==null?void 0:u.headers)===null||r===void 0?void 0:r["x-goog-upload-url"];if(f===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return f}}async function xx(e){var t;if(e===void 0)throw new Yd("response is undefined");if(!e.ok){const n=e.status,r=e.statusText;let o;!((t=e.headers.get("content-type"))===null||t===void 0)&&t.includes("application/json")?o=await e.json():o={error:{message:await e.text(),code:e.status,status:e.statusText}};const l=`got status: ${n} ${r}. ${JSON.stringify(o)}`;throw n>=400&&n<500?new n1(l):n>=500&&n<600?new Yd(l):new Error(l)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function BD(e,t){const n={},r=x(t,["name"]);r!=null&&v(n,["_url","name"],r);const o=x(t,["config"]);return o!=null&&v(n,["config"],o),n}function FD(e,t,n){const r={},o=x(t,["pageSize"]);n!==void 0&&o!=null&&v(n,["_query","pageSize"],o);const l=x(t,["pageToken"]);n!==void 0&&l!=null&&v(n,["_query","pageToken"],l);const u=x(t,["filter"]);return n!==void 0&&u!=null&&v(n,["_query","filter"],u),r}function OD(e,t){const n={},r=x(t,["config"]);return r!=null&&v(n,["config"],FD(e,r,n)),n}function jD(e,t){const n={},r=x(t,["textInput"]);r!=null&&v(n,["textInput"],r);const o=x(t,["output"]);return o!=null&&v(n,["output"],o),n}function zD(e,t){const n={};if(x(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const r=x(t,["examples"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(l=>jD(e,l))),v(n,["examples","examples"],o)}return n}function HD(e,t,n){const r={};if(x(t,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const o=x(t,["tunedModelDisplayName"]);if(n!==void 0&&o!=null&&v(n,["displayName"],o),x(t,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const l=x(t,["epochCount"]);n!==void 0&&l!=null&&v(n,["tuningTask","hyperparameters","epochCount"],l);const u=x(t,["learningRateMultiplier"]);if(u!=null&&v(r,["tuningTask","hyperparameters","learningRateMultiplier"],u),x(t,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const f=x(t,["batchSize"]);n!==void 0&&f!=null&&v(n,["tuningTask","hyperparameters","batchSize"],f);const m=x(t,["learningRate"]);return n!==void 0&&m!=null&&v(n,["tuningTask","hyperparameters","learningRate"],m),r}function UD(e,t){const n={},r=x(t,["baseModel"]);r!=null&&v(n,["baseModel"],r);const o=x(t,["trainingDataset"]);o!=null&&v(n,["tuningTask","trainingData"],zD(e,o));const l=x(t,["config"]);return l!=null&&v(n,["config"],HD(e,l,n)),n}function GD(e,t){const n={},r=x(t,["name"]);r!=null&&v(n,["_url","name"],r);const o=x(t,["config"]);return o!=null&&v(n,["config"],o),n}function qD(e,t,n){const r={},o=x(t,["pageSize"]);n!==void 0&&o!=null&&v(n,["_query","pageSize"],o);const l=x(t,["pageToken"]);n!==void 0&&l!=null&&v(n,["_query","pageToken"],l);const u=x(t,["filter"]);return n!==void 0&&u!=null&&v(n,["_query","filter"],u),r}function $D(e,t){const n={},r=x(t,["config"]);return r!=null&&v(n,["config"],qD(e,r,n)),n}function YD(e,t,n){const r={},o=x(t,["gcsUri"]);if(n!==void 0&&o!=null&&v(n,["supervisedTuningSpec","trainingDatasetUri"],o),x(t,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return r}function KD(e,t){const n={},r=x(t,["gcsUri"]);return r!=null&&v(n,["validationDatasetUri"],r),n}function XD(e,t,n){const r={},o=x(t,["validationDataset"]);n!==void 0&&o!=null&&v(n,["supervisedTuningSpec"],KD(e,o));const l=x(t,["tunedModelDisplayName"]);n!==void 0&&l!=null&&v(n,["tunedModelDisplayName"],l);const u=x(t,["description"]);n!==void 0&&u!=null&&v(n,["description"],u);const f=x(t,["epochCount"]);n!==void 0&&f!=null&&v(n,["supervisedTuningSpec","hyperParameters","epochCount"],f);const m=x(t,["learningRateMultiplier"]);n!==void 0&&m!=null&&v(n,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],m);const d=x(t,["adapterSize"]);if(n!==void 0&&d!=null&&v(n,["supervisedTuningSpec","hyperParameters","adapterSize"],d),x(t,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(x(t,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");return r}function WD(e,t){const n={},r=x(t,["baseModel"]);r!=null&&v(n,["baseModel"],r);const o=x(t,["trainingDataset"]);o!=null&&v(n,["supervisedTuningSpec","trainingDatasetUri"],YD(e,o,n));const l=x(t,["config"]);return l!=null&&v(n,["config"],XD(e,l,n)),n}function QD(e,t){const n={},r=x(t,["name"]);r!=null&&v(n,["model"],r);const o=x(t,["name"]);return o!=null&&v(n,["endpoint"],o),n}function i1(e,t){const n={},r=x(t,["name"]);r!=null&&v(n,["name"],r);const o=x(t,["state"]);o!=null&&v(n,["state"],Wb(e,o));const l=x(t,["createTime"]);l!=null&&v(n,["createTime"],l);const u=x(t,["tuningTask","startTime"]);u!=null&&v(n,["startTime"],u);const f=x(t,["tuningTask","completeTime"]);f!=null&&v(n,["endTime"],f);const m=x(t,["updateTime"]);m!=null&&v(n,["updateTime"],m);const d=x(t,["description"]);d!=null&&v(n,["description"],d);const h=x(t,["baseModel"]);h!=null&&v(n,["baseModel"],h);const y=x(t,["_self"]);y!=null&&v(n,["tunedModel"],QD(e,y));const T=x(t,["distillationSpec"]);T!=null&&v(n,["distillationSpec"],T);const S=x(t,["experiment"]);S!=null&&v(n,["experiment"],S);const w=x(t,["labels"]);w!=null&&v(n,["labels"],w);const A=x(t,["pipelineJob"]);A!=null&&v(n,["pipelineJob"],A);const _=x(t,["tunedModelDisplayName"]);return _!=null&&v(n,["tunedModelDisplayName"],_),n}function JD(e,t){const n={},r=x(t,["nextPageToken"]);r!=null&&v(n,["nextPageToken"],r);const o=x(t,["tunedModels"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(u=>i1(e,u))),v(n,["tuningJobs"],l)}return n}function ZD(e,t){const n={},r=x(t,["name"]);r!=null&&v(n,["name"],r);const o=x(t,["metadata"]);o!=null&&v(n,["metadata"],o);const l=x(t,["done"]);l!=null&&v(n,["done"],l);const u=x(t,["error"]);return u!=null&&v(n,["error"],u),n}function ek(e,t){const n={},r=x(t,["model"]);r!=null&&v(n,["model"],r);const o=x(t,["endpoint"]);return o!=null&&v(n,["endpoint"],o),n}function Kd(e,t){const n={},r=x(t,["name"]);r!=null&&v(n,["name"],r);const o=x(t,["state"]);o!=null&&v(n,["state"],Wb(e,o));const l=x(t,["createTime"]);l!=null&&v(n,["createTime"],l);const u=x(t,["startTime"]);u!=null&&v(n,["startTime"],u);const f=x(t,["endTime"]);f!=null&&v(n,["endTime"],f);const m=x(t,["updateTime"]);m!=null&&v(n,["updateTime"],m);const d=x(t,["error"]);d!=null&&v(n,["error"],d);const h=x(t,["description"]);h!=null&&v(n,["description"],h);const y=x(t,["baseModel"]);y!=null&&v(n,["baseModel"],y);const T=x(t,["tunedModel"]);T!=null&&v(n,["tunedModel"],ek(e,T));const S=x(t,["supervisedTuningSpec"]);S!=null&&v(n,["supervisedTuningSpec"],S);const w=x(t,["tuningDataStats"]);w!=null&&v(n,["tuningDataStats"],w);const A=x(t,["encryptionSpec"]);A!=null&&v(n,["encryptionSpec"],A);const _=x(t,["partnerModelTuningSpec"]);_!=null&&v(n,["partnerModelTuningSpec"],_);const k=x(t,["distillationSpec"]);k!=null&&v(n,["distillationSpec"],k);const V=x(t,["experiment"]);V!=null&&v(n,["experiment"],V);const I=x(t,["labels"]);I!=null&&v(n,["labels"],I);const B=x(t,["pipelineJob"]);B!=null&&v(n,["pipelineJob"],B);const U=x(t,["tunedModelDisplayName"]);return U!=null&&v(n,["tunedModelDisplayName"],U),n}function tk(e,t){const n={},r=x(t,["nextPageToken"]);r!=null&&v(n,["nextPageToken"],r);const o=x(t,["tuningJobs"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(u=>Kd(e,u))),v(n,["tuningJobs"],l)}return n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class nk extends ks{constructor(t){super(),this.apiClient=t,this.get=async n=>await this.getInternal(n),this.list=async(n={})=>new Nm(ys.PAGED_ITEM_TUNING_JOBS,r=>this.listInternal(r),await this.listInternal(n),n),this.tune=async n=>{if(this.apiClient.isVertexAI())return await this.tuneInternal(n);{const r=await this.tuneMldevInternal(n);let o="";return r.metadata!==void 0&&r.metadata.tunedModel!==void 0?o=r.metadata.tunedModel:r.name!==void 0&&r.name.includes("/operations/")&&(o=r.name.split("/operations/")[0]),{name:o,state:Ud.JOB_STATE_QUEUED}}}}async getInternal(t){var n,r,o,l;let u,f="",m={};if(this.apiClient.isVertexAI()){const d=GD(this.apiClient,t);return f=Re("{name}",d._url),m=d._query,delete d.config,delete d._url,delete d._query,u=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),u.then(h=>Kd(this.apiClient,h))}else{const d=BD(this.apiClient,t);return f=Re("{name}",d._url),m=d._query,delete d.config,delete d._url,delete d._query,u=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(h=>h.json()),u.then(h=>i1(this.apiClient,h))}}async listInternal(t){var n,r,o,l;let u,f="",m={};if(this.apiClient.isVertexAI()){const d=$D(this.apiClient,t);return f=Re("tuningJobs",d._url),m=d._query,delete d.config,delete d._url,delete d._query,u=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),u.then(h=>{const y=tk(this.apiClient,h),T=new ix;return Object.assign(T,y),T})}else{const d=OD(this.apiClient,t);return f=Re("tunedModels",d._url),m=d._query,delete d.config,delete d._url,delete d._query,u=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(h=>h.json()),u.then(h=>{const y=JD(this.apiClient,h),T=new ix;return Object.assign(T,y),T})}}async tuneInternal(t){var n,r;let o,l="",u={};if(this.apiClient.isVertexAI()){const f=WD(this.apiClient,t);return l=Re("tuningJobs",f._url),u=f._query,delete f.config,delete f._url,delete f._query,o=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(m=>m.json()),o.then(m=>Kd(this.apiClient,m))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(t){var n,r;let o,l="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const f=UD(this.apiClient,t);return l=Re("tunedModels",f._url),u=f._query,delete f.config,delete f._url,delete f._query,o=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(m=>m.json()),o.then(m=>ZD(this.apiClient,m))}}}const ik=1024*1024*8;async function rk(e,t,n){var r,o;let l=0,u=0,f=new Gd(new Response),m="upload";for(l=e.size;u<l;){const h=Math.min(ik,l-u),y=e.slice(u,u+h);if(u+h>=l&&(m+=", finalize"),f=await n.request({path:"",body:y,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:t,headers:{"X-Goog-Upload-Command":m,"X-Goog-Upload-Offset":String(u),"Content-Length":String(h)}}}),u+=h,((r=f==null?void 0:f.headers)===null||r===void 0?void 0:r["x-goog-upload-status"])!=="active")break;if(l<=u)throw new Error("All content has been uploaded, but the upload status is not finalized.")}const d=await(f==null?void 0:f.json());if(((o=f==null?void 0:f.headers)===null||o===void 0?void 0:o["x-goog-upload-status"])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return d.file}async function ak(e){return{size:e.size,type:e.type}}class ok{async upload(t,n,r){if(typeof t=="string")throw new Error("File path is not supported in browser uploader.");return await rk(t,n,r)}async stat(t){if(typeof t=="string")throw new Error("File path is not supported in browser uploader.");return await ak(t)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class sk{create(t,n,r){return new lk(t,n,r)}}class lk{constructor(t,n,r){this.url=t,this.headers=n,this.callbacks=r}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(t){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(t)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const vx="x-goog-api-key";class uk{constructor(t){this.apiKey=t}async addAuthHeaders(t){t.get(vx)===null&&t.append(vx,this.apiKey)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const ck="gl-node/";class fk{constructor(t){var n;if(t.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(t.project||t.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(n=t.vertexai)!==null&&n!==void 0?n:!1,this.apiKey=t.apiKey;const r=bw(t,void 0,void 0);r&&(t.httpOptions?t.httpOptions.baseUrl=r:t.httpOptions={baseUrl:r}),this.apiVersion=t.apiVersion;const o=new uk(this.apiKey);this.apiClient=new PD({auth:o,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:t.httpOptions,userAgentExtra:ck+"web",uploader:new ok}),this.models=new gD(this.apiClient),this.live=new fD(this.apiClient,o,new sk),this.chats=new dA(this.models,this.apiClient),this.caches=new lA(this.apiClient),this.files=new wA(this.apiClient),this.operations=new ED(this.apiClient),this.tunings=new nk(this.apiClient)}}var dk={};const ar=typeof process<"u"&&dk.GEMINI_MODEL_NAME||typeof import.meta<"u"&&void 0||"gemini-2.0-flash-exp",bx="TrackGuide",Tx="songGuidebookLibrary",Qo="trackGuideLastUsedDAW",Jl="trackGuideLastUsedPlugins",r1=["Pop","Indie Pop","Synth-Pop","Rock","Alternative Rock","Hard Rock","Punk Rock","Post-Punk","Nu Metal","Progressive Rock","Psychedelic Rock","Folk Rock","Shoegaze","House","Deep House","Progressive House","Tech House","Bass House","Electro House","Minimal House","Techno","Minimal Techno","Industrial Techno","Melodic Techno","Ambient Techno","Hard Techno","Trance","Progressive Trance","Psytrance","Goa Trance","Hard Trance","Ambient","Dark Ambient","Downtempo","Chillout","Chillwave","Psybient","Berlin School","Synthwave","Retrowave","Darksynth","Vaporwave","Future Funk","Drum and Bass","Jungle","Liquid DnB","Neurofunk","Breakcore","Dubstep","Riddim","Future Bass","Trap (EDM)","Hardstyle","Gabber","UK Hardcore","IDM (Intelligent Dance Music)","Glitch","Breakbeat","UK Garage","2-Step","Future Garage","EBM (Electronic Body Music)","Footwork","Juke","Hip Hop","Boom Bap","Trap","Lo-fi Hip Hop","Cloud Rap","Drill","Conscious Hip Hop","R&B","Contemporary R&B","Neo-Soul","Soul","Folk","Acoustic","World Music","Reggae","Dub","Ska","Latin","Afrobeat","Celtic","Jazz","Smooth Jazz","Blues","Funk","Heavy Metal","Thrash Metal","Death Metal","Black Metal","Doom Metal","Metalcore","Deathcore","Experimental","Noise","Industrial","Classical Crossover","Chiptune","Video Game Music"],mk=["Dark","Atmospheric","Energetic","Uplifting","Chill","Relaxed","Experimental","Trippy","Nostalgic","Retro","Aggressive","Intense","Melancholic","Introspective","Funky","Groovy","Mysterious","Eerie","Euphoric","Anthemic","Dreamy","Ethereal","Raw","Gritty","Sophisticated","Smooth","Cyberpunk","Futuristic","Hypnotic","Driving","Industrial","Mechanical","Hopeful","Aggressive","Peaceful","Romantic","Sad","Joyful","Tense"],Sx=["Ableton Live","Logic Pro X","FL Studio","Pro Tools","Cubase","Studio One","Reason","Bitwig Studio","Reaper","GarageBand"],os=["C Major","G Major","D Major","A Major","E Major","B Major","F# Major","C# Major","F Major","Bb Major","Eb Major","Ab Major","Db Major","Gb Major","Cb Major","A Minor","E Minor","B Minor","F# Minor","C# Minor","G# Minor","D# Minor","A# Minor","D Minor","G Minor","C Minor","F Minor","Bb Minor","Eb Minor","Ab Minor"],Cx={C:["Ionian (Major)","Dorian","Phrygian","Lydian","Mixolydian","Aeolian (Natural Minor)","Locrian"],"C#":["Ionian (Major)","Dorian","Phrygian","Lydian","Mixolydian","Aeolian (Natural Minor)","Locrian"],Db:["Ionian (Major)","Dorian","Phrygian","Lydian","Mixolydian","Aeolian (Natural Minor)","Locrian"],D:["Ionian (Major)","Dorian","Phrygian","Lydian","Mixolydian","Aeolian (Natural Minor)","Locrian"],"D#":["Ionian (Major)","Dorian","Phrygian","Lydian","Mixolydian","Aeolian (Natural Minor)","Locrian"],Eb:["Ionian (Major)","Dorian","Phrygian","Lydian","Mixolydian","Aeolian (Natural Minor)","Locrian"],E:["Ionian (Major)","Dorian","Phrygian","Lydian","Mixolydian","Aeolian (Natural Minor)","Locrian"],F:["Ionian (Major)","Dorian","Phrygian","Lydian","Mixolydian","Aeolian (Natural Minor)","Locrian"],"F#":["Ionian (Major)","Dorian","Phrygian","Lydian","Mixolydian","Aeolian (Natural Minor)","Locrian"],Gb:["Ionian (Major)","Dorian","Phrygian","Lydian","Mixolydian","Aeolian (Natural Minor)","Locrian"],G:["Ionian (Major)","Dorian","Phrygian","Lydian","Mixolydian","Aeolian (Natural Minor)","Locrian"],"G#":["Ionian (Major)","Dorian","Phrygian","Lydian","Mixolydian","Aeolian (Natural Minor)","Locrian"],Ab:["Ionian (Major)","Dorian","Phrygian","Lydian","Mixolydian","Aeolian (Natural Minor)","Locrian"],A:["Ionian (Major)","Dorian","Phrygian","Lydian","Mixolydian","Aeolian (Natural Minor)","Locrian"],"A#":["Ionian (Major)","Dorian","Phrygian","Lydian","Mixolydian","Aeolian (Natural Minor)","Locrian"],Bb:["Ionian (Major)","Dorian","Phrygian","Lydian","Mixolydian","Aeolian (Natural Minor)","Locrian"],B:["Ionian (Major)","Dorian","Phrygian","Lydian","Mixolydian","Aeolian (Natural Minor)","Locrian"],Cb:["Ionian (Major)","Dorian","Phrygian","Lydian","Mixolydian","Aeolian (Natural Minor)","Locrian"]},hk=[[4,4],[3,4],[6,8],[2,4],[5,4],[7,8]],pk=[{id:"chords",label:"Chords"},{id:"bassline",label:"Bassline"},{id:"melody",label:"Melody"},{id:"drums",label:"Drums"}],gk=["General Loop","Intro","Verse","Pre-Chorus","Chorus","Post-Chorus","Bridge","Solo","Breakdown","Drop","Outro","Fill"],Je={key:"C Major",tempo:120,timeSignature:[4,4],chordProgression:"I-V-vi-IV",genre:"Pop",bars:8,targetInstruments:["chords","bassline","melody","drums"],guidebookContext:"",songSection:"General Loop"},Rn={Pop:["I-V-vi-IV","vi-IV-I-V","I-IV-V-I","I-vi-IV-V","ii-V-I-IV","vi-ii-V-I","I-iii-vi-V"],"Indie Pop":["I-V-vi-IV","I-IV-vi-V","vi-IV-I-V","I-iii-IV-V","vi-ii-V-I","I-vi-ii-V"],"Synth-Pop":["i-VI-III-VII","I-V-vi-IV","i-iv-v-VI","I-IV-ii-V","vi-IV-I-V","i-VII-VI-V"],Rock:["I-IV-V","vi-IV-I-V","I-bVII-IV-I","i-VI-III-VII","I-V-IV-I","vi-ii-V-I","I-IV-V-vi"],"Alternative Rock":["vi-IV-I-V","I-V-vi-IV","i-VI-III-VII","I-IV-ii-V","I-bVII-IV-I","vi-ii-V-I"],"Hard Rock":["I-IV-V","i-VI-III-VII","I-bVII-IV-I","i-iv-v-i","vi-IV-I-V","I-V-IV-I"],"Punk Rock":["I-IV-V","vi-IV-I-V","I-V-vi-IV","I-bVII-IV-I","i-iv-v-i"],House:["i-VI-III-VII","Am-G-C-F","i-III-VI-VII","i-v-iv-i","vi-IV-I-V","i-VII-VI-V"],"Deep House":["i-VI-III-VII","Am-G-C-F","i-iv-v-i","vi-ii-V-I","i-VII-VI-V","Dm-Bb-F-C"],"Progressive House":["i-VI-III-VII","vi-IV-I-V","i-iv-v-VI","Am-F-C-G","i-VII-VI-V"],"Tech House":["i-VI-III-VII","i-iv-v-i","Am-G-F-E","i-III-VI-VII","vi-IV-I-V"],Techno:["i-VI-III-VII","i-iv-v-i","Am-G-F-E","i-III-VI-VII","i-VII-VI-V","Drone + variations"],"Minimal Techno":["i-iv-v-i","Am-G-F-E","i-VI-III-VII","Single chord drone","i-VII-VI-V"],Trance:["i-VI-III-VII","vi-IV-I-V","i-VII-VI-V","Am-F-C-G","i-iv-v-VI","vi-ii-V-I"],"Progressive Trance":["i-VI-III-VII","vi-IV-I-V","i-iv-v-VI","Am-F-C-G","vi-ii-V-I"],Ambient:["Imaj7-IVmaj7","i-VI","Drone + sus chords","vi-IV-I-V","Am-F-C-G","Cmaj7-Fmaj7-Am7-Dm7"],"Dark Ambient":["i-iv-v-i","Am-Dm-Em-Am","i-VI-III-VII","Drone + minor variations"],Synthwave:["i-VI-III-VII","vi-IV-I-V","I-V-vi-IV","i-iv-v-i","Am-F-C-G","i-VII-VI-V"],Retrowave:["i-VI-III-VII","vi-IV-I-V","I-V-vi-IV","Am-F-C-G","i-iv-v-VI"],Darksynth:["i-VI-III-VII","i-iv-v-i","Am-G-F-E","i-VII-VI-V","vi-IV-I-V"],Vaporwave:["Imaj7-IVmaj7","vi-IV-I-V","I-V-vi-IV","Cmaj7-Fmaj7-Am7-Dm7","ii-V-I-IV"],"Drum and Bass":["i-VI-III-VII","Am-F-C-G","ii-V-I-IV","i-iv-v-VI","Complex jazz voicings"],"Liquid DnB":["ii-V-I-IV","Imaj7-vi7-ii7-V7","i-VI-III-VII","Am-F-C-G","vi-ii-V-I"],Neurofunk:["i-VI-III-VII","i-iv-v-i","Am-G-F-E","Complex chromatic progressions"],Breakcore:["i-VI-III-VII","Complex atonal progressions","i-iv-v-i","Chaotic harmonic structures"],Dubstep:["i-VI-III-VII","i-iv-v-i","Am-G-F-E","Simple 2-3 chord loops","vi-IV-I-V"],Riddim:["i-VI-III-VII","i-iv-v-i","Am-G-F-E","Simple repetitive loops"],"Future Bass":["I-V-vi-IV","vi-IV-I-V","i-VI-III-VII","I-iii-vi-V","vi-ii-V-I"],"Trap (EDM)":["i-VI-III-VII","i-iv-v-i","Am-G-F-E","vi-IV-I-V","Simple 2-3 chord loops"],"Hip Hop":["i-VI-III-VII","Am-G-Em-F","ii-V-I","i-iv-v-i","Sample-based loops","vi-IV-I-V"],"Boom Bap":["ii-V-I","i-VI-III-VII","Am-G-Em-F","Sample-based progressions","i-iv-v-i"],Trap:["i-VI-III-VII","i-iv-v-i","Am-G-F-E","vi-IV-I-V","Simple minor progressions"],"Lo-fi Hip Hop":["ii-V-I-IV","Imaj7-vi7-ii7-V7","I-V-vi-IV","vi-ii-V-I","Cmaj7-Am7-Dm7-G7"],"Cloud Rap":["i-VI-III-VII","vi-IV-I-V","I-V-vi-IV","Atmospheric progressions","Am-F-C-G"],Drill:["i-VI-III-VII","i-iv-v-i","Am-G-F-E","Dark minor progressions","vi-IV-I-V"],"R&B":["Imaj7-IVmaj7","ii-V-I","i-VI-III-VII","vi-ii-V-I","I-iii-vi-V","Cmaj7-Fmaj7-Am7-Dm7"],"Contemporary R&B":["Imaj7-IVmaj7","vi-ii-V-I","I-iii-vi-V","ii-V-I-IV","I-V-vi-IV"],"Neo-Soul":["ii-V-I","Imaj7-vi7-ii7-V7","i-VI-III-VII","Complex jazz progressions","vi-ii-V-I"],Soul:["I-IV-V","ii-V-I","I-vi-IV-V","vi-IV-I-V","I-V-vi-IV"],Folk:["I-IV-V","I-V-vi-IV","G-C-D-G","C-G-Am-F","vi-IV-I-V","I-vi-IV-V"],Acoustic:["I-V-vi-IV","I-IV-V","vi-IV-I-V","G-C-D-G","C-G-Am-F","I-vi-IV-V"],Jazz:["ii-V-I","I-vi-ii-V","iii-vi-ii-V","I-II7-V7-I","Imaj7-IIm7-IIIm7-IVmaj7","vi-ii-V-I"],"Smooth Jazz":["ii-V-I","Imaj7-vi7-ii7-V7","I-vi-ii-V","vi-ii-V-I","iii-vi-ii-V"],Blues:["I-I-I-I-IV-IV-I-I-V-IV-I-I","i-i-i-i-iv-iv-i-i-v-iv-i-i","I-IV-V","i-iv-v"],Funk:["ii-V-I","I-IV-V","i-iv-v-i","vi-ii-V-I","I7-IV7-V7","Dominant 7th progressions"],"Heavy Metal":["i-VI-III-VII","i-iv-v-i","I-bVII-IV-I","vi-IV-I-V","i-VII-VI-V"],"Thrash Metal":["i-VI-III-VII","i-iv-v-i","I-bVII-IV-I","Fast chromatic progressions"],"Death Metal":["i-iv-v-i","i-VI-III-VII","Chromatic progressions","Complex atonal structures"],"Black Metal":["i-iv-v-i","i-VI-III-VII","i-VII-VI-V","Atmospheric minor progressions"],"Doom Metal":["i-iv-v-i","i-VI-III-VII","i-VII-VI-V","Slow minor progressions"],Metalcore:["i-VI-III-VII","vi-IV-I-V","i-iv-v-i","I-bVII-IV-I","vi-ii-V-I"],Deathcore:["i-iv-v-i","i-VI-III-VII","Chromatic breakdowns","Complex atonal progressions"],Experimental:["Atonal progressions","Extended harmony","Microtonal scales","Non-traditional structures"],Noise:["Atonal clusters","Non-harmonic structures","Dissonant progressions","Experimental harmony"],Industrial:["i-iv-v-i","i-VI-III-VII","Power chord progressions","Mechanical repetition"],Chiptune:["I-V-vi-IV","i-VI-III-VII","vi-IV-I-V","Classic video game progressions","I-iii-vi-V"],"Video Game Music":["I-V-vi-IV","i-VI-III-VII","vi-IV-I-V","Adventure progressions","I-iii-vi-V"],Default:["I-V-vi-IV","i-VI-III-VII","I-IV-V-I","vi-IV-I-V","ii-V-I","I-iii-vi-V"]},Wn={Pop:[90,130],"Indie Pop":[100,140],"Synth-Pop":[110,140],Rock:[100,160],"Alternative Rock":[90,150],House:[118,128],"Deep House":[115,125],Techno:[125,145],Trance:[130,145],Ambient:[50,100],Synthwave:[80,120],"Drum and Bass":[160,180],Dubstep:[130,150],"Trap (EDM)":[130,160],"Hip Hop":[80,110],"Lo-fi Hip Hop":[70,90],"R&B":[60,100],Folk:[80,120],Jazz:[70,180],Blues:[70,130],Default:[60,200]},Va={kick:36,snare:38,hihat_closed:42,open_hihat:46,tom_low:41,tom_mid:47,tom_high:50,crash_cymbal_1:49,ride_cymbal_1:51,clap:39,shaker:70,tambourine:54,rim_shot:37,cowbell:56,bass_drum:36,snare_drum:38,closed_hihat:42,hihat:42,crash:49,ride:51},Zl=[{category:"Genre",key:"genre",examples:["Techno","House","Trance","Dubstep","Drum & Bass","Synthwave","Ambient","Industrial","Rock","Pop","Hip Hop","R&B","Jazz","Experimental","Cinematic","Video Game Score","Chiptune"]},{category:"Voice Type",key:"voiceType",examples:["Lead","Pad","Bass","Pluck","Arp","FX","Drone","Texture","Atmosphere","Riser","Impact","Chord","Stab"]},{category:"Style & Mood",key:"styleMood",examples:["Warm","Bright","Dark","Metallic","Analog","Digital","Dreamy","Aggressive","Mysterious","Epic","Punchy","Floating","Gritty","Clean","Organic","Mechanical","Futuristic","Retro","Cyberpunk"]},{category:"Dynamics & Movement",key:"dynamicsMovement",examples:["Evolving","Pulsating","Static","Rhythmic","Flowing","Choppy","Breathing","Morphing","Swelling","Pounding","Cascading","Trembling","Wobbling","Shifting","Undulating","Building","Fading","Stuttering"]}],yk=["Ableton Operator","Ableton Wavetable","Apple Alchemy","Apple Retro Synth","Arturia Analog Lab","Arturia PolyBrute","Bazille","DiscoDSP OB-Xd","Diva","Hive 2","Kilohearts Phase Plant","Korg MS-20","Korg Wavestate","Moog Minimoog","Native Instruments FM8","Native Instruments Massive","Native Instruments Massive X","Native Instruments Monark","Omnisphere","Pigments","Roland Jupiter-8","Roland Juno-106","Roland SH-101","Sylenth1","TAL TAL-U-No-LX","u-he Repro-1","u-he Repro-5","Vital","Xfer Serum","Zebra2","Generic"].sort(),xk="AIzaSyCxOuxalv_PC6h6aE8JvEjLMK8ie8C9Nts",or=new fk({apiKey:xk});function a1(e,t){if(!e&&!t)return`
###  Processing Tips & Plugin Parameters

**EQ Settings:**
- High-pass filter: 20-40 Hz to remove sub-bass rumble
- Low-mid cut: 200-400 Hz to reduce muddiness
- Presence boost: 2-5 kHz for clarity
- Air boost: 10-15 kHz for sparkle

**Compression:**
- Ratio: 3:1 to 4:1 for moderate control
- Attack: 10-30ms for punch retention
- Release: 100-300ms for natural decay
- Makeup gain: 2-6 dB as needed

**Reverb & Delay:**
- Room reverb: 0.8-1.5s decay for space
- Delay: 1/8 or 1/4 note timing
- High-cut: 8-12 kHz to avoid harshness
- Mix: 15-30% for depth without wash`;const r=e?(u=>{const f=u.toLowerCase();return f.includes("ableton")?{eq:"EQ Eight",compressor:"Compressor",reverb:"Reverb",delay:"Echo",limiter:"Limiter",saturator:"Saturator"}:f.includes("logic")?{eq:"Channel EQ",compressor:"Compressor",reverb:"ChromaVerb",delay:"Echo",limiter:"Adaptive Limiter",saturator:"Tape"}:f.includes("fl studio")||f.includes("fl")?{eq:"Parametric EQ 2",compressor:"Fruity Compressor",reverb:"Reverb 2",delay:"Fruity Delay 3",limiter:"Fruity Limiter",saturator:"Fruity Waveshaper"}:f.includes("pro tools")?{eq:"EQ III",compressor:"Dyn3 Compressor/Limiter",reverb:"D-Verb",delay:"Mod Delay III",limiter:"Dyn3 Compressor/Limiter",saturator:"Lo-Fi"}:f.includes("cubase")||f.includes("nuendo")?{eq:"StudioEQ",compressor:"Compressor",reverb:"REVerence",delay:"ModMachine",limiter:"Limiter",saturator:"Tape"}:f.includes("reaper")?{eq:"ReaEQ",compressor:"ReaComp",reverb:"ReaVerb",delay:"ReaDelay",limiter:"ReaLimit",saturator:"ReaSynth"}:{eq:"Stock EQ",compressor:"Stock Compressor",reverb:"Stock Reverb",delay:"Stock Delay",limiter:"Stock Limiter",saturator:"Stock Saturator"}})(e):null,o=e&&!t?`**${e} Stock Plugin Chain:**`:e?`**${e}-Specific Settings:**`:"",l=t?`**Custom Plugin Chain (${t}):**`:"";return`
###  Processing Tips & Plugin Parameters
${o}
${l}

**EQ Parameters:**
${r&&!t?`- ${r.eq}: High-pass at ${e!=null&&e.toLowerCase().includes("logic")?"35":e!=null&&e.toLowerCase().includes("fl")?"30":"40"} Hz, Low-mid cut at ${e!=null&&e.toLowerCase().includes("logic")?"300":e!=null&&e.toLowerCase().includes("fl")?"400":"250"} Hz (-3dB), Presence boost at ${e!=null&&e.toLowerCase().includes("logic")?"12 kHz (+1.5dB)":e!=null&&e.toLowerCase().includes("fl")?"15 kHz (+2dB)":"3 kHz (+2dB)"}`:e==="Ableton Live"?"- EQ Eight: High-pass at 40 Hz, Low-mid cut at 250 Hz (-3dB), Presence boost at 3 kHz (+2dB)":e==="Logic Pro X"?"- Channel EQ: High-pass at 35 Hz, Low-mid cut at 300 Hz (-2.5dB), High boost at 12 kHz (+1.5dB)":e==="FL Studio"?"- Parametric EQ 2: High-pass at 30 Hz, Mid cut at 400 Hz (-4dB), Air boost at 15 kHz (+2dB)":"- High-pass filter: 20-40 Hz, Low-mid cut: 200-400 Hz (-2 to -4dB), Presence boost: 2-5 kHz (+1 to +3dB)"}

**Compression Settings:**
${r&&!t?`- ${r.compressor}: Ratio ${e!=null&&e.toLowerCase().includes("logic")?"3.5:1":"4:1"}, Attack ${e!=null&&e.toLowerCase().includes("fl")?"10ms":e!=null&&e.toLowerCase().includes("logic")?"20ms":"15ms"}, Release ${e!=null&&e.toLowerCase().includes("logic")?"150ms":e!=null&&e.toLowerCase().includes("fl")?"250ms":"200ms"}${e!=null&&e.toLowerCase().includes("logic")?", Auto-Release enabled":e!=null&&e.toLowerCase().includes("fl")?", Knee 3dB":", Knee 2dB"}`:e==="Ableton Live"?"- Compressor: Ratio 4:1, Attack 15ms, Release 200ms, Knee 2dB":e==="Logic Pro X"?"- Compressor: Ratio 3.5:1, Attack 20ms, Release 150ms, Auto-Release enabled":e==="FL Studio"?"- Fruity Compressor: Ratio 4:1, Attack 10ms, Release 250ms, Knee 3dB":"- Ratio: 3:1 to 4:1, Attack: 10-30ms, Release: 100-300ms"}

**Reverb & Delay:**
${r&&!t?`- ${r.reverb}: Room/Hall setting, 1.2s decay, Pre-delay 20ms, Mix 25%
- ${r.delay}: 1/8 note timing, Feedback 35%, High-cut 8kHz, Mix 20%`:"- Room reverb: 0.8-1.5s decay for space, Delay: 1/8 or 1/4 note timing, High-cut: 8-12 kHz to avoid harshness"}

**Effects Chain:**
${t?`- Using ${t}: Apply specific parameter recommendations based on your plugin selection`:r?`- ${r.eq}  ${r.compressor}  ${r.saturator}  ${r.reverb}/${r.delay}  ${r.limiter}`:"- Standard effects: EQ  Compressor  Reverb/Delay  Limiter"}
- Send levels: 15-25% to reverb bus, 10-20% to delay bus
- Sidechain settings: 4:1 ratio, fast attack, medium release`}function o1(){return`
##  Structural Blueprint

<div className="overflow-x-auto">

| **Section** | **Duration** | **Key Elements & Instrumentation** | **Energy** |
| --- | --- | --- | --- |
| **Intro** | 16-32 bars | Atmospheric build, Teaser elements<br/>*Lead synth, Bass, Drums, Pads* | Low-Medium |
| **Verse 1** | 16 bars | Main groove, Vocal/Lead melody<br/>*Vocals, Full arrangement* | Medium |
| **Pre-Chorus** | 8 bars | Tension build, Filter sweeps<br/>*Reduced arrangement, Focus elements* | Medium-High |
| **Chorus** | 16 bars | Full energy, Hook elements<br/>*Full arrangement, Vocal harmonies* | High |
| **Breakdown** | 8-16 bars | Stripped back, Build tension<br/>*Breakdown elements, Build-up* | Low-Medium |
| **Verse 2/Solo** | 16 bars | Variation, New elements<br/>*Lead elements, Minimal backing* | Medium-High |
| **Final Chorus** | 16-24 bars | Maximum energy, All elements<br/>*Full arrangement, Climax elements* | Maximum |
| **Outro** | 16-32 bars | Gradual fade, Ambient tail<br/>*Fade elements, Ambient textures* | Low |

</div>`}const vk=async e=>{var V,I;const t=e.songTitle?`- **Project Name**: ${e.songTitle}`:"",n=e.artistReference?`- **Artist References**: ${e.artistReference}`:"",r=((V=e.genre)==null?void 0:V.join(", "))||"Not specified",o=((I=e.vibe)==null?void 0:I.join(", "))||"Not specified",l=e.availableInstruments||"Not specified",u=e.daw?e.daw:"Not specified",f=e.plugins?e.plugins:"Stock/Generic plugins",m=e.key?`Key: ${e.key}`:"",d=e.scale?`Scale/Mode: ${e.scale}`:"",h=e.chords?`Chord Progression: ${e.chords}`:"",y=e.referenceTrackLink?`Reference Track: ${e.referenceTrackLink}`:"",T=e.lyrics?`Lyrics Theme: ${e.lyrics}`:"",S=e.generalNotes?`Additional Notes: ${e.generalNotes}`:"",w=o1(),A=a1(e.daw,e.plugins),_=`//  Including all fields
You are TrackGuideAI, an expert music production assistant specializing in comprehensive track creation guides.

Create a detailed TrackGuide for the following specifications:
${t}
${n}
- **Genre**: ${r}
- **Vibe**: ${o}
- **Available Instruments**: ${l}
- **DAW**: ${u}
- **Plugins**: ${f}
${m}
${d}
${h}
${y}
${T}
${S}

**IMPORTANT FORMATTING REQUIREMENTS:**
1. Include the exact Structural Blueprint table with Instrumentation column as provided
2. Use specific plugin parameters when DAW/plugins are specified
3. Provide actionable, detailed guidance for each section
4. Use markdown formatting with proper headers and emphasis

**Required Sections:**

${w}

##  Genre DNA Analysis
**Core Characteristics:**
- Tempo range and feel
- Harmonic structure and chord progressions
- Rhythmic patterns and groove elements
- Sonic palette and instrumentation choices

**Reference Analysis:**
${e.referenceTrackLink?"Analyze the provided reference track for key production techniques and arrangement ideas.":`Draw from classic examples in the ${r} genre for inspiration.`}

##  Instrument & Sound Design
**Primary Elements:**
- Lead sounds: Character, processing, and role
- Bass design: Sub content, mid presence, and groove
- Drum programming: Kick selection, snare character, hi-hat patterns
- Harmonic elements: Pad textures, chord voicings, arpeggios

**Sound Shaping:**
- Synthesis techniques and oscillator choices
- Filter movements and modulation
- Effects processing and spatial placement
- Layering strategies for fullness

${A}

##  Mixing & Arrangement Strategy
**Frequency Management:**
- Low-end: Sub-bass vs bass guitar/synth separation
- Midrange: Vocal/lead clarity and instrument separation  
- High-end: Air, sparkle, and presence balance

**Spatial Design:**
- Stereo width: Center, sides, and phantom center elements
- Depth: Reverb sends, delay throws, and dry/wet balance
- Movement: Automation, panning, and filter sweeps

**Dynamic Control:**
- Compression: Individual tracks and bus processing
- Sidechain: Pumping effects and clarity enhancement
- Limiting: Loudness and peak control

##  Arrangement Flow & Energy Management
**Section Transitions:**
- Build techniques: Risers, drum fills, filter sweeps
- Drop preparation: Silence, reverse reverbs, tension
- Energy curves: How to maintain listener engagement

**Variation Techniques:**
- Verse differences: Subtle changes to maintain interest
- Chorus variations: Building intensity across repetitions
- Bridge/breakdown: Contrast and reset before final sections

Focus on practical, actionable advice that can be immediately applied in ${u}. Provide specific parameter ranges and creative techniques that align with the ${r} aesthetic and ${o} mood.`;return await or.models.generateContentStream({model:ar,contents:_})},xs=async e=>{const t=`//  Including guidebookContext
You are TrackGuideAI's MIDI Pattern Generator. Generate MIDI patterns in VALID JSON format only.

**Requirements:**
- Key: ${e.key}
- Scale/Mode: ${e.scale||"Major/Natural Minor"}
- Tempo: ${e.tempo} BPM
- Time Signature: ${e.timeSignature.join("/")}
- Chord Progression: ${e.chordProgression}
- Genre Context: ${e.genre}
- Song Section: ${e.songSection||"General Loop"}
- Bars: ${e.bars}
- Target Instruments: ${e.targetInstruments.join(", ")}
- Guidebook Context: ${e.guidebookContext||"Not specified"}

**JSON Structure Required:**
{
  "chords": [
    {
      "time": 0,
      "name": "Cm",
      "duration": 2,
      "notes": [{"pitch": "C4", "midi": 60}, {"pitch": "Eb4", "midi": 63}, {"pitch": "G4", "midi": 67}],
      "velocity": 90
    }
  ],
  "bassline": [
    {
      "time": 0,
      "midi": 36,
      "duration": 0.5,
      "velocity": 100,
      "pitch": "C2"
    }
  ],
  "melody": [
    {
      "time": 0,
      "midi": 72,
      "duration": 1,
      "velocity": 95,
      "pitch": "C5"
    }
  ],
  "drums": {
    "kick": [
      {"time": 0, "duration": 0.25, "velocity": 120},
      {"time": 2, "duration": 0.25, "velocity": 115}
    ],
    "snare": [
      {"time": 1, "duration": 0.25, "velocity": 100},
      {"time": 3, "duration": 0.25, "velocity": 105}
    ],
    "hihat_closed": [
      {"time": 0.5, "duration": 0.125, "velocity": 80},
      {"time": 1.5, "duration": 0.125, "velocity": 75}
    ],
    "open_hihat": [
      {"time": 1.75, "duration": 0.5, "velocity": 85}
    ],
    "clap": [
      {"time": 1, "duration": 0.25, "velocity": 95}
    ],
    "tom_high": [
      {"time": 3.5, "duration": 0.25, "velocity": 90}
    ],
    "tom_mid": [
      {"time": 3.75, "duration": 0.25, "velocity": 95}
    ],
    "tom_low": [
      {"time": 4, "duration": 0.5, "velocity": 100}
    ],
    "crash_cymbal_1": [
      {"time": 0, "duration": 2, "velocity": 110}
    ],
    "ride_cymbal_1": [
      {"time": 0.5, "duration": 0.25, "velocity": 70}
    ]
  }
}

**CRITICAL REQUIREMENTS:**
1. Return ONLY valid JSON. No explanatory text, no markdown formatting, no code blocks.
2. All time values must be in beats (0 to ${e.bars*4})
3. All MIDI numbers must be integers between 21-108
4. All durations must be positive numbers
5. All velocities must be integers between 1-127
6. Use appropriate drum elements for ${e.genre}:
   - Essential: kick, snare, hihat_closed
   - Groove: open_hihat, ride_cymbal_1
   - Accents: clap, crash_cymbal_1
   - Fills: tom_high, tom_mid, tom_low
   - Choose elements that fit the genre and song section

**Genre-Specific Drum Guidelines:**
- Electronic/House/Techno: Focus on kick, hihat_closed, open_hihat, clap
- Rock/Metal: Use kick, snare, hihat_closed, crash_cymbal_1, tom_high, tom_mid, tom_low
- Hip Hop/Trap: Emphasize kick, snare, hihat_closed, clap
- Jazz/Funk: Include ride_cymbal_1, hihat_closed, kick, snare
- Pop: Balanced use of kick, snare, hihat_closed, crash_cymbal_1, clap

Generate patterns appropriate for ${e.genre} in the ${e.songSection} section, using ${e.chordProgression} progression in ${e.key}.`;return await or.models.generateContentStream({model:ar,contents:t})},bk=async(e,t,n)=>{const r=e.map(m=>`${m.role==="user"?"User":"Assistant"}: ${m.content}`).join(`
`),o=`
**Current Guidebook Context:**
- Title: ${t.title}
- Genre: ${t.genre.join(", ")}
- Vibe: ${t.vibe.join(", ")}
- DAW: ${t.daw}
- Key: ${t.key||"Not specified"}
- Available Instruments: ${t.availableInstruments}`;let l="";if(n){const{remixGuideContent:m,mixFeedbackContent:d,mixComparisonContent:h,patchGuideContent:y,activeView:T}=n;T&&(l+=`
**Current View:** ${T}`),m&&(l+=`

**Active RemixGuide:**
${m.substring(0,2e3)}${m.length>2e3?"...":""}`),d&&(l+=`

**Active Mix Feedback:**
${d.substring(0,2e3)}${d.length>2e3?"...":""}`),h&&(l+=`

**Active Mix Comparison:**
${h.substring(0,2e3)}${h.length>2e3?"...":""}`),y&&(l+=`

**Active PatchGuide:**
${y.substring(0,2e3)}${y.length>2e3?"...":""}`)}const u=`You are TrackGuideAI, an expert music production assistant. You're helping a user with their current track project.

${o}${l}

**Conversation History:**
${r}

**Your Role:**
- Provide specific, actionable music production advice
- Reference the current guidebook context when relevant
- Integrate insights from any active guides (RemixGuide, Mix Feedback, Mix Comparison, PatchGuide)
- Offer technical solutions and creative suggestions based on all available context
- Ask clarifying questions when needed
- Maintain a helpful, professional tone

**Response Guidelines:**
- Be concise but thorough
- Include specific parameter suggestions when applicable
- Reference DAW-specific techniques when relevant
- Provide alternative approaches when possible
- When relevant guides are active, reference their content and insights
- Help users understand connections between different aspects of their project

Respond as the helpful TrackGuideAI assistant with full awareness of the user's current project context.`;return await or.models.generateContentStream({model:ar,contents:u})};async function*Tk(e,t,n,r,o){try{const l=n!=null&&n.tempoRange?`${n.tempoRange[0]}-${n.tempoRange[1]} BPM`:"120-130 BPM",u=(n==null?void 0:n.sections)||["Intro","Build-Up","Drop","Breakdown","Outro"],f=o1(),m=a1(r,o),d=`You are TrackGuideAI's Remix Specialist. Analyze the uploaded audio track and create a comprehensive remix guide for transforming it into ${t} style.

**User Production Setup:**
- **DAW:** ${r||"Not specified"}
- **Available Plugins:** ${o||"Stock/Generic plugins"}

**Analysis Requirements:**
1. Identify the original track's tempo, key, harmonic progression, and rhythmic characteristics
2. Determine optimal transformation approach for ${t}
3. Provide detailed production guidance with specific techniques
4. Include plugin-specific parameter recommendations based on user's setup

**Target Genre:** ${t}
**Target Tempo Range:** ${l}
**Suggested Sections:** ${u.join(", ")}

Create a detailed markdown remix guide that includes:

#  REMIX GUIDE: [Original Track]  ${t}

##  Original Track DNA Analysis
**Detected Characteristics:**
- **Original Tempo:** [Detected BPM]
- **Original Key:** [Detected Key]
- **Harmonic Blueprint:** [Chord progression analysis]
- **Rhythmic Feel:** [Time signature and groove analysis]
- **Sonic Character:** [Tonal qualities and instrumentation]

**Transformation Strategy:**
- **Target Tempo:** [Recommended BPM within ${l}]
- **Target Key:** [Optimal key for ${t}]
- **Genre Adaptation:** [How to adapt original elements]

${f}

##  Sound Design & Instrumentation Transformation
**Lead Elements:**
- **Original  ${t}:** Transform existing leads using specific techniques
- **New Elements:** Add characteristic ${t} sounds
- **Processing Chain:** Specific plugin recommendations and parameters

**Rhythm Section Redesign:**
- **Drum Programming:** ${t}-specific patterns and sounds
- **Bass Design:** Transform or replace bass elements
- **Percussion Layers:** Add characteristic ${t} percussion

##  Mixing & Processing Techniques
**Signal Chain Recommendations:**
${m}

**${t}-Specific Processing:**
- Genre-characteristic EQ curves
- Compression techniques for ${t}
- Saturation and distortion applications
- Spatial processing (reverb/delay) for the genre

##  Arrangement & Structure
**Section-by-Section Breakdown:**
${u.map(S=>`
**${S}:**
- Elements to include/exclude
- Energy level and dynamics
- Transition techniques
`).join("")}

**Dynamic Build Strategy:**
- How to create tension and release
- Filter sweeps and automation
- Risers and impacts placement

##  Creative Production Tips
- Unconventional ${t} techniques
- Experimental processing ideas
- Sample manipulation suggestions
- Layering strategies for depth

---
*Generated by TrackGuideAI - Your AI Music Production Assistant*`,h=await or.models.generateContentStream({model:ar,contents:[{role:"user",parts:[{text:d},{inlineData:{mimeType:e.mimeType,data:e.base64}}]}]});let y="";for await(const S of h){const w=S.text;w&&(y+=w,yield{text:w})}yield{text:"",metadata:Sk(y)}}catch(l){throw console.error("Error generating remix guide stream:",l),new Error(`Failed to generate remix guide: ${l instanceof Error?l.message:"Unknown error"}`)}}function Sk(e){const t={},n=e.match(/Original Tempo:\s*(\d+)/i);n&&(t.originalTempo=parseInt(n[1]));const r=e.match(/Target Tempo:\s*(\d+)/i);r&&(t.targetTempo=parseInt(r[1]));const o=e.match(/Original Key:\s*([A-G][#b]?\s*(?:major|minor|maj|min))/i);o&&(t.originalKey=o[1]);const l=e.match(/Target Key:\s*([A-G][#b]?\s*(?:major|minor|maj|min))/i);l&&(t.targetKey=l[1]);const u=e.match(/Harmonic Blueprint:\s*([IVXivx\d\s\-,]+)/i);u&&(t.originalChordProgression=u[1].trim());const f=e.match(/Sections:\s*\[(.*?)\]/i);return f&&(t.sections=f[1].split(",").map(m=>m.trim().replace(/"/g,""))),t}const Ck=async e=>{const t=`You are TrackGuideAI's Advanced Mix Analysis Expert. Analyze the uploaded audio file and provide comprehensive mix feedback.

**Track Information:**
- Track Name: ${e.trackName||"Uploaded Mix"}
- Focus Areas: ${e.focus||"Overall mix balance and clarity"}
- User Notes: ${e.notes||e.userNotes||"No specific notes provided"}

**Comprehensive Analysis Framework:**

##  Audio Analysis Results

### Frequency Spectrum Analysis
**Low-End (20-250 Hz):**
- Sub-bass presence and control
- Bass clarity and definition
- Low-mid muddiness assessment

**Midrange (250 Hz - 5 kHz):**
- Vocal/lead instrument clarity
- Instrument separation and masking
- Presence and intelligibility

**High-End (5 kHz+):**
- Air and sparkle quality
- Harshness or sibilance issues
- Overall brightness balance

### Stereo Field & Spatial Analysis
**Width & Imaging:**
- Stereo spread effectiveness
- Phantom center stability
- Side content balance

**Depth & Dimension:**
- Reverb usage and space
- Dry/wet balance
- Front-to-back positioning

### Dynamic Range Assessment
**Compression Analysis:**
- Overall dynamic range
- Transient preservation
- Pumping or over-compression

**Loudness Evaluation:**
- Perceived loudness level
- Peak management
- Headroom availability

### Technical Quality Check
**Distortion & Artifacts:**
- Unwanted harmonic distortion
- Digital artifacts or clipping
- Noise floor assessment

**Phase Relationships:**
- Mono compatibility
- Phase cancellation issues
- Correlation analysis

##  Specific Recommendations

### Immediate Improvements
1. **Priority Fix #1:** [Most critical issue with specific solution]
2. **Priority Fix #2:** [Second most important improvement]
3. **Priority Fix #3:** [Third priority enhancement]

### Technical Adjustments
**EQ Suggestions:**
- Specific frequency cuts/boosts with dB amounts
- Problem frequency identification
- Enhancement opportunities

**Compression Recommendations:**
- Ratio, attack, and release settings
- Specific compressor types or plugins
- Bus compression strategies

**Effects Processing:**
- Reverb and delay adjustments
- Spatial enhancement techniques
- Creative processing opportunities

### Professional Polish
**Mastering Considerations:**
- Final EQ and compression
- Stereo enhancement
- Loudness optimization

**Reference Comparison:**
- How this mix compares to commercial standards
- Genre-specific benchmarks
- Areas for competitive improvement

Provide actionable, specific feedback that can be implemented immediately to improve the mix quality and professional impact.`;return(await or.models.generateContent({model:ar,contents:t})).text};async function Mk(e){try{const n=(await or.models.generateContent({model:ar,contents:e})).text;if(typeof n!="string")throw new Error("Received an unexpected response format from Gemini API.");return n}catch(t){console.error("Error generating content:",t);let n="An unknown error occurred while generating content.";throw t instanceof Error&&(n=t.message,t.message.includes("API key not valid")||t.message.includes("permission")?n="Invalid API Key or insufficient permissions. Please check your API key configuration.":(t.message.toLowerCase().includes("network error")||t.message.toLowerCase().includes("failed to fetch"))&&(n=`Network error: Failed to connect to Gemini API. Please check your internet connection. (${t.message})`)),new Error(n)}}async function*wk(e){if(!e.audioFile)throw new Error("Streaming mix feedback requires an audio file.");const n=await(m=>new Promise((d,h)=>{const y=new FileReader;y.onloadend=()=>{const T=y.result;d(T.split(",")[1])},y.onerror=h,y.readAsDataURL(m)}))(e.audioFile),o={text:`You are TrackGuideAI's Advanced Mix Analysis Expert. Analyze the uploaded audio file and provide comprehensive mix feedback.

**Track Information:**
- Track Name: ${e.trackName||"Uploaded Mix"}
- Focus Areas: ${e.focus||"Overall mix balance and clarity"}
- User Notes: ${e.notes||e.userNotes||"No specific notes provided"}

**Comprehensive Analysis Framework:**

##  Audio Analysis Results

### Frequency Spectrum Analysis
**Low-End (20-250 Hz):**
- Sub-bass presence and control
- Bass clarity and definition
- Low-mid muddiness assessment

**Midrange (250 Hz - 5 kHz):**
- Vocal/lead instrument clarity
- Instrument separation and masking
- Presence and intelligibility

**High-End (5 kHz+):**
- Air and sparkle quality
- Harshness or sibilance issues
- Overall brightness balance

### Stereo Field & Spatial Analysis
**Width & Imaging:**
- Stereo spread effectiveness
- Phantom center stability
- Side content balance

**Depth & Dimension:**
- Reverb usage and space
- Dry/wet balance
- Front-to-back positioning

### Dynamic Range Assessment
**Compression Analysis:**
- Overall dynamic range
- Transient preservation
- Pumping or over-compression

**Loudness Evaluation:**
- Perceived loudness level
- Peak management
- Headroom availability

### Technical Quality Check
**Distortion & Artifacts:**
- Unwanted harmonic distortion
- Digital artifacts or clipping
- Noise floor assessment

**Phase Relationships:**
- Mono compatibility
- Phase cancellation issues
- Correlation analysis

##  Specific Recommendations

### Immediate Improvements
1. **Priority Fix #1:** [Most critical issue with specific solution]
2. **Priority Fix #2:** [Second most important improvement]
3. **Priority Fix #3:** [Third priority enhancement]

### Technical Adjustments
**EQ Suggestions:**
- Specific frequency cuts/boosts with dB amounts
- Problem frequency identification
- Enhancement opportunities

**Compression Recommendations:**
- Ratio, attack, and release settings
- Specific compressor types or plugins
- Bus compression strategies

**Effects Processing:**
- Reverb and delay adjustments
- Spatial enhancement techniques
- Creative processing opportunities

### Professional Polish
**Mastering Considerations:**
- Final EQ and compression
- Stereo enhancement
- Loudness optimization

**Reference Comparison:**
- How this mix compares to commercial standards
- Genre-specific benchmarks
- Areas for competitive improvement

Provide actionable, specific feedback that can be implemented immediately to improve the mix quality and professional impact.`},u=[{inlineData:{data:n,mimeType:e.audioFile.type||"audio/mpeg"}},o],f=await or.models.generateContentStream({model:ar,contents:{parts:u}});for await(const m of f)m.text&&(yield{text:m.text})}async function*Ak(e){const t=`You are an expert mixing & mastering AI. The user has uploaded two mixes for comparison analysis.

Mix A: "${e.mixAName}"  an earlier version  
Mix B: "${e.mixBName}"  the current working version  

 Instructions:
- Mix B is the active version  focus all actionable feedback on improving Mix B.
- Mix A is an earlier version  if Mix A has strengths vs Mix B, point those out.
- Acknowledge improvements made in Mix B compared to A.
- Do NOT suggest changes to Mix A (it is not being revised).

User Notes: ${e.userNotes||"No specific notes provided"}

Analyze both audio files and provide your comparison in clear Markdown format with the following sections:

##  Overall Comparison

##  Frequency Balance

##  Stereo Image & Depth

##  Dynamics & Loudness

##  Technical Quality

##  Strengths & Opportunities (for Mix B)

##  Actionable Recommendations (for Mix B only)

Focus on specific, actionable feedback for improving Mix B while acknowledging its strengths compared to Mix A.`,n={text:`Mix A Audio (Earlier Version): "${e.mixAName}"`},r={inlineData:{data:e.mixAFile,mimeType:"audio/mpeg"}},o={text:`Mix B Audio (Current Version): "${e.mixBName}"`},l={inlineData:{data:e.mixBFile,mimeType:"audio/mpeg"}},f=[r,n,l,o,{text:t}],m=await or.models.generateContentStream({model:ar,contents:{parts:f}});for await(const d of m)d.text&&(yield{text:d.text})}const xn=_u.forwardRef(({label:e,id:t,wrapperClassName:n,...r},o)=>g.jsxs("div",{className:n,children:[e&&g.jsx("label",{htmlFor:t,className:"block text-sm font-medium text-gray-300 mb-1",children:e}),g.jsx("input",{id:t,ref:o,...r,className:`w-full px-4 py-2 bg-gray-800 border border-gray-700 rounded-md shadow-sm placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-purple-500 text-gray-100 ${r.className||""}`})]}));xn.displayName="Input";const Ia=({label:e,id:t,wrapperClassName:n,...r})=>g.jsxs("div",{className:n,children:[e&&g.jsx("label",{htmlFor:t,className:"block text-sm font-medium text-gray-300 mb-1",children:e}),g.jsx("textarea",{id:t,...r,className:`w-full px-4 py-2 bg-gray-800 border border-gray-700 rounded-md shadow-sm placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-purple-500 text-gray-100 ${r.className||""}`,rows:3})]}),Fe=({children:e,variant:t="primary",size:n="md",className:r="",leftIcon:o,rightIcon:l,...u})=>{const f="inline-flex items-center justify-center font-semibold rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-gray-900 transition-colors duration-150 disabled:opacity-50 disabled:cursor-not-allowed",m={primary:"bg-purple-600 hover:bg-purple-700 text-white focus:ring-purple-500",secondary:"bg-gray-700    hover:bg-gray-600 text-gray-100 focus:ring-gray-500",outline:"border border-purple-500 text-purple-400 hover:bg-purple-500 hover:text-white focus:ring-purple-500",danger:"bg-red-600     hover:bg-red-700 text-white focus:ring-red-500"},d={sm:"px-3 py-1.5 text-sm",md:"px-4 py-2   text-base",lg:"px-6 py-3   text-lg"};return g.jsxs("button",{...u,className:`${f} ${m[t]} ${d[n]} ${r}`,children:[o&&g.jsx("span",{className:"mr-2",children:o}),e,l&&g.jsx("span",{className:"ml-2",children:l})]})},Xe=({children:e,className:t="",title:n,titleClassName:r="",contentClassName:o="",...l})=>g.jsxs("div",{className:`bg-gray-800 shadow-lg rounded-lg overflow-hidden ${t}`,...l,children:[n&&g.jsx("div",{className:`px-4 py-3 border-b border-gray-700 ${r}`,children:g.jsx("h3",{className:"text-lg font-semibold text-gray-100",children:n})}),g.jsx("div",{className:`p-4 ${o}`,children:e})]}),Jn=({size:e="md",color:t="text-purple-500",text:n})=>{const r={sm:"w-6 h-6",md:"w-8 h-8",lg:"w-12 h-12"};return g.jsxs("div",{className:"flex flex-col items-center justify-center",children:[g.jsx("div",{className:`animate-spin rounded-full border-t-2 border-b-2 border-transparent ${r[e]} ${t}`,style:{borderTopColor:"currentColor",borderBottomColor:"currentColor"}}),n&&g.jsx("p",{className:"mt-2 text-sm text-gray-400",children:n})]})},Xd=({className:e,title:t})=>g.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:e||"w-5 h-5","aria-hidden":t?void 0:"true",role:t?"img":void 0,children:[t&&g.jsx("title",{children:t}),g.jsx("path",{fillRule:"evenodd",d:"M3 17a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zm3.293-7.707a1 1 0 011.414 0L9 10.586V3a1 1 0 112 0v7.586l1.293-1.293a1 1 0 111.414 1.414l-3 3a1 1 0 01-1.414 0l-3-3a1 1 0 010-1.414z",clipRule:"evenodd"})]}),Ek=({className:e,title:t})=>g.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:e||"w-5 h-5","aria-hidden":t?void 0:"true",role:t?"img":void 0,children:[t&&g.jsx("title",{children:t}),g.jsx("path",{d:"M5 4a2 2 0 012-2h6a2 2 0 012 2v10a2 2 0 01-2 2H7a2 2 0 01-2-2V4zm2 0v10h6V4H7zm5 1h-4a1 1 0 100 2h4a1 1 0 100-2z"})]}),Dk=({className:e,title:t})=>g.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:e||"w-5 h-5","aria-hidden":t?void 0:"true",role:t?"img":void 0,children:[t&&g.jsx("title",{children:t}),g.jsx("path",{fillRule:"evenodd",d:"M9 2a1 1 0 00-.894.553L7.382 4H4a1 1 0 000 2v10a2 2 0 002 2h8a2 2 0 002-2V6a1 1 0 100-2h-3.382l-.724-1.447A1 1 0 0011 2H9zM7 8a1 1 0 012 0v6a1 1 0 11-2 0V8zm5-1a1 1 0 00-1 1v6a1 1 0 102 0V8a1 1 0 00-1-1z",clipRule:"evenodd"})]}),Wd=({className:e,title:t})=>g.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:e||"w-6 h-6","aria-hidden":t?void 0:"true",role:t?"img":void 0,children:[t&&g.jsx("title",{children:t}),g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6.042A8.967 8.967 0 006 3.75c-1.052 0-2.062.18-3 .512v14.25A8.987 8.987 0 016 18c2.305 0 4.408.867 6 2.292m0-14.25a8.966 8.966 0 016-2.292c1.052 0 2.062.18 3 .512v14.25A8.987 8.987 0 0018 18a8.967 8.967 0 00-6 2.292m0-14.25v14.25"})]}),kk=({className:e,title:t})=>g.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:e||"w-5 h-5","aria-hidden":t?void 0:"true",role:t?"img":void 0,children:[t&&g.jsx("title",{children:t}),g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 01-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 011.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 00-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 01-1.125-1.125v-9.25m9.75 0l-4.5-4.5m0 0l-4.5 4.5M12.75 3v4.5A2.25 2.25 0 0015 9.75h4.5"})]}),s1=({className:e,title:t})=>g.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:e||"w-5 h-5","aria-hidden":t?void 0:"true",role:t?"img":void 0,children:[t&&g.jsx("title",{children:t}),g.jsx("path",{d:"M10 3.515V11.24a3.513 3.513 0 00-1.5-.406c-1.313 0-2.388.752-2.388 1.672S7.187 14.18 8.5 14.18c1.238 0 2.263-.672 2.375-1.537h.125v-7.14c0-.313.11-.604.313-.828.202-.224.494-.344.812-.344.625 0 1.125.5 1.125 1.125V11.24a3.513 3.513 0 00-1.5-.406c-1.313 0-2.388.752-2.388 1.672S10.187 14.18 11.5 14.18c1.313 0 2.388-.752 2.388-1.672a1.675 1.675 0 00-1.078-1.543V3.515A2.625 2.625 0 0010 1C8.619 1 7.5 2.12 7.5 3.5V11.24A3.513 3.513 0 006 10.833c-1.313 0-2.388.752-2.388 1.672S4.687 14.18 6 14.18c1.237 0 2.262-.672 2.375-1.537h.125V6.125C8.5 4.5 9.125 3.515 10 3.515z"})]}),Qd=({className:e,title:t})=>g.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:e||"w-5 h-5","aria-hidden":t?void 0:"true",role:t?"img":void 0,children:[t&&g.jsx("title",{children:t}),g.jsx("path",{d:"M10.75 4.75a.75.75 0 00-1.5 0v4.5h-4.5a.75.75 0 000 1.5h4.5v4.5a.75.75 0 001.5 0v-4.5h4.5a.75.75 0 000-1.5h-4.5v-4.5z"})]}),Mx=({className:e,title:t})=>g.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:e||"w-5 h-5","aria-hidden":t?void 0:"true",role:t?"img":void 0,children:[t&&g.jsx("title",{children:t}),g.jsx("path",{fillRule:"evenodd",d:"M6.516 4.42A1.5 1.5 0 004 5.662v8.676a1.5 1.5 0 002.516 1.242l6.712-4.338a1.5 1.5 0 000-2.484L6.516 4.42z",clipRule:"evenodd"})]}),Ik=({className:e,title:t})=>g.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:e||"w-5 h-5","aria-hidden":t?void 0:"true",role:t?"img":void 0,children:[t&&g.jsx("title",{children:t}),g.jsx("path",{fillRule:"evenodd",d:"M5 5a1 1 0 00-1 1v8a1 1 0 001 1h8a1 1 0 001-1V6a1 1 0 00-1-1H5zm0-2a3 3 0 00-3 3v8a3 3 0 003 3h8a3 3 0 003-3V6a3 3 0 00-3-3H5z",clipRule:"evenodd"})]}),wx=({className:e,isSpinning:t,title:n})=>g.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:`${e||"w-5 h-5"} ${t?"animate-spin":""}`,"aria-hidden":n?void 0:"true",role:n?"img":void 0,children:[n&&g.jsx("title",{children:n}),g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.023 9.348h4.992v-.001M2.985 19.644v-4.992m0 0h4.992m-4.993 0l3.181 3.183a8.25 8.25 0 0013.803-3.7M4.031 9.865a8.25 8.25 0 0113.803-3.7l3.181 3.182m0-4.991v4.99"})]}),Nk=({className:e,title:t})=>g.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:e||"w-5 h-5","aria-hidden":t?void 0:"true",role:t?"img":void 0,children:[t&&g.jsx("title",{children:t}),g.jsx("path",{fillRule:"evenodd",d:"M18 7H2a1 1 0 00-1 1v6a1 1 0 001 1h16a1 1 0 001-1V8a1 1 0 00-1-1zM2 9.5v3h16v-3H2z",clipRule:"evenodd"}),g.jsx("path",{d:"M4 11h1v1H4v-1zm2 0h1v1H6v-1zm2 0h1v1H8v-1zm2 0h1v1h-1v-1zm2 0h1v1h-1v-1zm2 0h1v1h-1v-1z"})]}),Rk=({className:e,title:t})=>g.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:e||"w-6 h-6","aria-hidden":t?void 0:"true",role:t?"img":void 0,children:[t&&g.jsx("title",{children:t}),g.jsx("rect",{x:"3.5",y:"3.5",width:"17",height:"17",rx:"2",stroke:"currentColor",fill:"none",strokeWidth:"1.5"})]}),_k=({className:e,title:t})=>g.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:e||"w-5 h-5","aria-hidden":t?void 0:"true",role:t?"img":void 0,children:[t&&g.jsx("title",{children:t}),g.jsx("path",{fillRule:"evenodd",d:"M3 3a1 1 0 011-1h12a1 1 0 011 1v12a1 1 0 01-1 1H4a1 1 0 01-1-1V3zm10.707 3.707a1 1 0 00-1.414-1.414L8 9.586 6.707 8.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l5-5z",clipRule:"evenodd"})]}),l1=({className:e,title:t})=>g.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:e||"w-6 h-6","aria-hidden":t?void 0:"true",role:t?"img":void 0,children:[t&&g.jsx("title",{children:t}),g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"})]}),sd=({className:e,title:t})=>g.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:e||"w-6 h-6","aria-hidden":t?void 0:"true",role:t?"img":void 0,children:[t&&g.jsx("title",{children:t}),g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 16.5v2.25A2.25 2.25 0 005.25 21h13.5A2.25 2.25 0 0021 18.75V16.5m-13.5-9L12 3m0 0l4.5 4.5M12 3v13.5"})]}),ld=({className:e,title:t})=>g.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:e||"w-6 h-6","aria-hidden":t?void 0:"true",role:t?"img":void 0,children:[t&&g.jsx("title",{children:t}),g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.5 6h9.75M10.5 6a2.25 2.25 0 11-4.5 0m4.5 0a2.25 2.25 0 10-4.5 0M3.75 6H7.5m3 12h9.75m-9.75 0a2.25 2.25 0 01-4.5 0m4.5 0a2.25 2.25 0 00-4.5 0M3.75 18H7.5M10.5 12h9.75M10.5 12a2.25 2.25 0 01-4.5 0m4.5 0a2.25 2.25 0 00-4.5 0M3.75 12H7.5"})]}),Ax=({className:e="w-4 h-4"})=>g.jsx("div",{className:`${e} bg-orange-500 transform rotate-45 flex items-center justify-center`,children:g.jsx("div",{className:"w-1/2 h-1/2 bg-white transform -rotate-45"})}),Lk=({isOpen:e,currentGuidebook:t,userInputs:n,isCollapsed:r=!1,onToggle:o,remixGuideContent:l,mixFeedbackContent:u,mixComparisonContent:f,patchGuideContent:m,activeView:d})=>{const[h,y]=ne.useState([]),[T,S]=ne.useState(""),[w,A]=ne.useState(!1),_=ne.useRef(null),k=ne.useRef(null),V=ne.useRef(null);ne.useEffect(()=>{e&&h.length===0&&y([{id:"1",role:"assistant",content:`Hi! I'm your AI music production assistant. I can help you:

 Refine guides (TrackGuide, RemixGuide, PatchGuide)
 Analyze Mix Feedback and Comparison reports  
 Answer production techniques questions
 Provide creative suggestions and arrangement ideas

What would you like to work on today?`,timestamp:new Date}])},[e,h.length]);const I=()=>{V.current&&(V.current.scrollTop=V.current.scrollHeight)};ne.useEffect(()=>{I()},[h]),ne.useEffect(()=>{e&&k.current&&setTimeout(()=>{var ie;return(ie=k.current)==null?void 0:ie.focus()},100)},[e]);const B=()=>{y([{id:"1",role:"assistant",content:`Hi! I'm your AI music production assistant. I can help you:

 Refine guides (TrackGuide, RemixGuide, PatchGuide)
 Analyze Mix Feedback and Comparison reports  
 Answer production techniques questions
 Provide creative suggestions and arrangement ideas

What would you like to work on today?`,timestamp:new Date}])},U=async()=>{if(!T.trim()||w)return;const ie={id:Date.now().toString(),role:"user",content:T.trim(),timestamp:new Date};y(se=>[...se,ie]),S(""),A(!0);try{const se=h.map(he=>({role:he.role,content:he.content}));se.push({role:"user",content:ie.content});const ge=t||{id:"temp-"+Date.now(),title:"Current Project",genre:(n==null?void 0:n.genre)||["General"],artistReference:(n==null?void 0:n.artistReference)||"Not specified",vibe:(n==null?void 0:n.vibe)||["Creative"],daw:(n==null?void 0:n.daw)||"Not specified",plugins:(n==null?void 0:n.plugins)||"Not specified",availableInstruments:(n==null?void 0:n.availableInstruments)||"Not specified",content:"Working on current project",createdAt:new Date().toISOString(),key:n==null?void 0:n.key,scale:n==null?void 0:n.scale,chords:n==null?void 0:n.chords},H=await bk(se,ge,{remixGuideContent:l,mixFeedbackContent:u,mixComparisonContent:f,patchGuideContent:m,activeView:d}),ue={id:(Date.now()+1).toString(),role:"assistant",content:"",timestamp:new Date};y(he=>[...he,ue]);let fe="";for await(const he of H)he.text&&(fe+=he.text,y(le=>le.map(Z=>Z.id===ue.id?{...Z,content:fe}:Z)))}catch(se){console.error("AI Assistant Error:",se);const ge={id:(Date.now()+1).toString(),role:"assistant",content:"Sorry, I encountered an error. Please try again or rephrase your question.",timestamp:new Date};y(H=>[...H,ge])}finally{A(!1)}},z=ie=>{ie.key==="Enter"&&!ie.shiftKey&&(ie.preventDefault(),U())};return g.jsxs(g.Fragment,{children:[!r&&g.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-[9998]",onClick:o}),g.jsx("div",{className:"fixed bottom-4 right-4 z-[9999]",children:r?g.jsx("div",{onClick:o,className:"w-14 h-14 bg-gray-700 hover:bg-gray-600 rounded-full shadow-2xl cursor-pointer flex items-center justify-center hover:scale-105 transition-transform duration-200 border-2 border-orange-400/60",children:g.jsx(Ax,{className:"w-8 h-8"})}):g.jsx("div",{className:"fixed inset-4 md:inset-8 lg:inset-16 z-[9999] flex items-center justify-center pointer-events-none",children:g.jsxs("div",{className:"w-full max-w-4xl h-full max-h-[800px] bg-gray-800 shadow-2xl border border-gray-700 rounded-lg flex flex-col overflow-hidden pointer-events-auto",children:[g.jsxs("div",{className:"p-4 border-b border-gray-700 flex justify-between items-center bg-gradient-to-r from-gray-700 to-gray-600 flex-shrink-0",children:[g.jsxs("div",{className:"flex items-center min-w-0 flex-1",children:[g.jsx(Ax,{className:"w-6 h-6 text-white mr-3 flex-shrink-0"}),g.jsx("h2",{className:"text-xl font-bold text-white truncate",children:"Production Coach"})]}),g.jsxs("div",{className:"flex gap-2 flex-shrink-0 ml-4",children:[g.jsx(Fe,{onClick:B,variant:"outline",size:"sm",className:"bg-orange-500 text-black border-orange-400 hover:bg-orange-600 font-medium",children:"Clear Chat"}),g.jsx(Fe,{onClick:o,variant:"outline",size:"sm",className:"bg-red-500 text-black border-red-400 hover:bg-red-600 flex-shrink-0 font-bold",children:g.jsx("span",{className:"text-lg",children:""})})]})]}),g.jsxs("div",{ref:V,className:"flex-1 overflow-y-auto p-6 space-y-4 bg-gray-900/50",style:{scrollBehavior:"smooth",overflowAnchor:"auto"},children:[h.map(ie=>g.jsx("div",{className:`flex ${ie.role==="user"?"justify-end":"justify-start"}`,children:g.jsxs("div",{className:`max-w-[80%] p-4 rounded-lg shadow-lg ${ie.role==="user"?"bg-orange-600 text-white rounded-br-sm":"bg-gray-700 text-gray-100 rounded-bl-sm"}`,children:[g.jsx("div",{className:"whitespace-pre-wrap break-words leading-relaxed text-base",children:ie.content}),g.jsx("div",{className:"text-xs opacity-70 mt-3",children:ie.timestamp.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]})},ie.id)),w&&g.jsx("div",{className:"flex justify-start",children:g.jsx("div",{className:"bg-gray-700 text-gray-100 p-4 rounded-lg shadow-lg rounded-bl-sm",children:g.jsx(Jn,{text:"AI is thinking..."})})}),g.jsx("div",{ref:_})]}),g.jsxs("div",{className:"p-4 border-t border-gray-700 bg-gray-800 flex-shrink-0",children:[g.jsxs("div",{className:"flex gap-3 mb-3",children:[g.jsx(xn,{ref:k,type:"text",placeholder:"Ask about production techniques, guides, or get help with your current project...",value:T,onChange:ie=>S(ie.target.value),onKeyPress:z,className:"flex-1 bg-gray-700 border-gray-600 text-white placeholder-gray-400",disabled:w}),g.jsx(Fe,{onClick:U,disabled:!T.trim()||w,variant:"primary",className:"px-6 bg-orange-600 hover:bg-orange-700",children:w?"...":"Send"})]}),g.jsx("div",{className:"text-xs text-gray-400 text-center",children:"Press Enter to send  Clear Chat resets conversation  Click outside to close"})]})]})})})]})},Ex=[{frequency:"20-30 Hz",category:"sub",min:20,max:30,description:"Extreme sub-bass rumble. Rarely useful except for cinematic or sub-heavy genres.",action:"cut",instruments:["Kick drum","Sub bass","808s","Synth bass"]},{frequency:"30-50 Hz",category:"sub",min:30,max:50,description:"Deep low-end power. Adds weight, but too much = flabbiness.",action:"boost",instruments:["Kick drum","Sub bass","Bass guitar","808s"]},{frequency:"50-60 Hz",category:"sub",min:50,max:60,description:'Bass punch and fullness. Defines the "bottom" of mix.',action:"boost",instruments:["Kick drum","Bass guitar","Sub bass","Synths"]},{frequency:"60-100 Hz",category:"bass",min:60,max:100,description:"Bass body and tone. Core of bass instruments. Too much = boom.",action:"boost",instruments:["Bass guitar","Kick drum","Synth bass","Cello"]},{frequency:"100-160 Hz",category:"bass",min:100,max:160,description:"Low warmth. Helps glue bass + low mids. Overdone = muddiness.",action:"cut",instruments:["Bass guitar","Piano","Guitar","Vocals","Drums"]},{frequency:"160-250 Hz",category:"bass",min:160,max:250,description:"Upper bass/low mid overlap. Often cut to clean mud.",action:"cut",instruments:["Bass guitar","Vocals","Strings","Brass"]},{frequency:"250-350 Hz",category:"low-mid",min:250,max:350,description:"Boxiness / wool. Can cloud guitars & vocals.",action:"cut",instruments:["Vocals","Guitar","Piano","Snare"]},{frequency:"350-500 Hz",category:"low-mid",min:350,max:500,description:"Warmth vs. mud. Boost for body, cut for clarity.",action:"cut",instruments:["Vocals","Snare","Guitar","Keys"]},{frequency:"500-800 Hz",category:"mid",min:500,max:800,description:"Core midrange  thickness and presence. Often cluttered.",action:"cut",instruments:["Vocals","Guitar","Snare","Keys"]},{frequency:"800 Hz - 1.5 kHz",category:"mid",min:800,max:1500,description:"Body and clarity. Essential for definition.",action:"boost",instruments:["Vocals","Guitar","Piano","Snare"]},{frequency:"1.5-2 kHz",category:"mid",min:1500,max:2e3,description:"Presence and attack. Boost for definition.",action:"boost",instruments:["Vocals","Snare","Guitar"]},{frequency:"2-3 kHz",category:"high-mid",min:2e3,max:3e3,description:"Vocal clarity and edge. Boost carefully.",action:"boost",instruments:["Vocals","Snare","Guitar","Piano"]},{frequency:"3-5 kHz",category:"high-mid",min:3e3,max:5e3,description:"Presence, bite, intelligibility. Too much = harsh.",action:"cut",instruments:["Vocals","Snare","Cymbals"]},{frequency:"5-8 kHz",category:"presence",min:5e3,max:8e3,description:"Detail and sparkle. Brings life, but sibilant if overdone.",action:"boost",instruments:["Vocals","Hi-hats","Acoustic guitar","Cymbals"]},{frequency:"8-12 kHz",category:"air",min:8e3,max:12e3,description:"Air and openness. Adds space.",action:"boost",instruments:["Vocals","Strings","Cymbals","Room mics"]},{frequency:"12-20 kHz",category:"air",min:12e3,max:2e4,description:"Extreme highs. Use for shimmer.",action:"boost",instruments:["Cymbals","Room mics","Vocals"]},{frequency:"80-200 Hz",category:"bass",min:80,max:200,description:"Cut gently to reduce muddiness and low-end buildup.",action:"cut",instruments:["Male vocals"]},{frequency:"200-400 Hz",category:"low-mid",min:200,max:400,description:"Boost lightly for body, cut if vocals sound boxy.",action:"boost",instruments:["Male vocals"]},{frequency:"1-2 kHz",category:"mid",min:1e3,max:2e3,description:"Boost for presence and clarity, helping vocals cut through the mix.",action:"boost",instruments:["Male vocals"]},{frequency:"4-6 kHz",category:"high-mid",min:4e3,max:6e3,description:"Boost for air and articulation, but watch out for harshness.",action:"boost",instruments:["Male vocals"]},{frequency:"100-250 Hz",category:"bass",min:100,max:250,description:"Cut to reduce any muddiness. Female vocals rarely need low-end boosting.",action:"cut",instruments:["Female vocals"]},{frequency:"400-800 Hz",category:"mid",min:400,max:800,description:"Boost for warmth and body, but cut if vocals sound boxy.",action:"boost",instruments:["Female vocals"]},{frequency:"2-4 kHz",category:"high-mid",min:2e3,max:4e3,description:"Boost for presence, articulation, and forward vocals.",action:"boost",instruments:["Female vocals"]},{frequency:"7-10 kHz",category:"presence",min:7e3,max:1e4,description:"Boost for air and breathiness, cut if sibilant (ess sounds).",action:"boost",instruments:["Female vocals"]},{frequency:"7-10 kHz",category:"presence",min:7e3,max:1e4,description:"Cut to control sibilance if vocals are too essy.",action:"cut",instruments:["Female vocals"]},{frequency:"200-400 Hz",category:"low-mid",min:200,max:400,description:"Boost for warmth, fullness.",action:"boost",instruments:["Saxophone"]},{frequency:"1-2 kHz",category:"mid",min:1e3,max:2e3,description:"Boost for body and presence.",action:"boost",instruments:["Saxophone"]},{frequency:"3-5 kHz",category:"high-mid",min:3e3,max:5e3,description:"Cut to tame harshness or reed noise.",action:"cut",instruments:["Saxophone"]},{frequency:"8-12 kHz",category:"air",min:8e3,max:12e3,description:"Boost for air and shine.",action:"boost",instruments:["Saxophone"]}],Dx=[{id:"all",label:"All Frequencies",color:"bg-gray-600"},{id:"sub",label:"Sub Bass (20-60Hz)",color:"bg-red-600"},{id:"bass",label:"Bass (60-250Hz)",color:"bg-orange-600"},{id:"low-mid",label:"Low Mids (250-500Hz)",color:"bg-yellow-600"},{id:"mid",label:"Mids (500-2kHz)",color:"bg-green-600"},{id:"high-mid",label:"High Mids (2-6kHz)",color:"bg-blue-600"},{id:"presence",label:"Presence (6-12kHz)",color:"bg-indigo-600"},{id:"air",label:"Air (12kHz+)",color:"bg-purple-600"}];function Vk({min:e,max:t}){const n=100*(Math.log10(e)-Math.log10(20))/(Math.log10(2e4)-Math.log10(20)),r=100*(Math.log10(t)-Math.log10(20))/(Math.log10(2e4)-Math.log10(20));return g.jsx("div",{className:"relative h-2 w-full bg-gray-900 rounded-full my-2",children:g.jsx("div",{className:"absolute h-2 rounded-full bg-orange-500 transition-all",style:{left:`${n}%`,width:`${Math.max(r-n,3)}%`}})})}const Pk=()=>{const[e,t]=ne.useState("All"),[n,r]=ne.useState("all"),o=Ex.filter(u=>{const f=n==="all"||u.category===n,m=e==="All"||u.instruments.includes(e);return f&&(e==="All"?!0:m)}),l=u=>Ex.filter(f=>f.frequency===u.frequency&&f.category===u.category&&f.action===u.action).flatMap(f=>f.instruments).filter((f,m,d)=>d.indexOf(f)===m);return g.jsxs("div",{className:"max-w-4xl mx-auto w-full py-8 px-4 md:px-0",children:[g.jsxs("div",{className:"flex flex-wrap gap-6 mb-6 items-end",children:[g.jsxs("div",{className:"flex-1 min-w-[180px]",children:[g.jsx("label",{className:"block text-xs font-bold text-gray-400 mb-1",children:"Instrument"}),g.jsxs("select",{value:e,onChange:u=>t(u.target.value),className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-md text-gray-100",children:[g.jsx("option",{disabled:!0,children:"Vocals"}),g.jsx("option",{value:"Vocals",children:"Vocals (general)"}),g.jsx("option",{value:"Male vocals",children:"Male vocals"}),g.jsx("option",{value:"Female vocals",children:"Female vocals"}),g.jsx("option",{disabled:!0,children:"Rhythm Section"}),g.jsx("option",{value:"Kick drum",children:"Kick drum"}),g.jsx("option",{value:"Snare",children:"Snare"}),g.jsx("option",{value:"Bass guitar",children:"Bass guitar"}),g.jsx("option",{value:"808s",children:"808s"}),g.jsx("option",{value:"Sub bass",children:"Sub bass"}),g.jsx("option",{value:"Synth bass",children:"Synth bass"}),g.jsx("option",{value:"Drums",children:"Drums"}),g.jsx("option",{disabled:!0,children:"Other Instruments"}),g.jsx("option",{value:"Guitar",children:"Guitar"}),g.jsx("option",{value:"Acoustic guitar",children:"Acoustic guitar"}),g.jsx("option",{value:"Piano",children:"Piano"}),g.jsx("option",{value:"Cymbals",children:"Cymbals"}),g.jsx("option",{value:"Hi-hats",children:"Hi-hats"}),g.jsx("option",{value:"Horns",children:"Horns"}),g.jsx("option",{value:"Strings",children:"Strings"}),g.jsx("option",{value:"Room mics",children:"Room mics"}),g.jsx("option",{value:"Violin",children:"Violin"}),g.jsx("option",{value:"Cello",children:"Cello"}),g.jsx("option",{value:"Tuba",children:"Tuba"}),g.jsx("option",{value:"Saxophone",children:"Saxophone"}),g.jsx("option",{value:"Trumpet",children:"Trumpet"}),g.jsx("option",{value:"Brass",children:"Brass"}),g.jsx("option",{value:"Woodwinds",children:"Woodwinds"}),g.jsx("option",{value:"Flute",children:"Flute"}),g.jsx("option",{disabled:!0,children:"All/General"}),g.jsx("option",{value:"All",children:"All Instruments"})]})]}),g.jsxs("div",{className:"flex-1 min-w-[180px]",children:[g.jsx("label",{className:"block text-xs font-bold text-gray-400 mb-1",children:"Frequency Range"}),g.jsx("select",{value:n,onChange:u=>r(u.target.value),className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-md text-gray-100",children:Dx.map(u=>g.jsx("option",{value:u.id,children:u.label},u.id))})]})]}),g.jsx("div",{className:"space-y-4",children:o.length===0?g.jsx(Xe,{className:"bg-gray-700/80 text-center py-16",children:g.jsxs("p",{className:"text-gray-300 text-lg",children:["No EQ data matches your current filters.",g.jsx("br",{}),"Try another instrument or frequency zone."]})}):o.map((u,f)=>{var m;return g.jsx(Xe,{className:"bg-gray-800/80",children:g.jsxs("div",{className:"flex flex-col gap-2",children:[g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx("span",{className:"text-lg font-bold text-white",children:u.frequency}),g.jsx("span",{className:`text-xs font-bold rounded-full px-2 py-1 ${((m=Dx.find(d=>d.id===u.category))==null?void 0:m.color)||"bg-gray-600"} text-white`,children:u.category.replace("-"," ").toUpperCase()}),g.jsx("span",{className:`ml-2 text-sm font-medium ${u.action==="boost"?"text-green-400":u.action==="cut"?"text-red-400":"text-yellow-400"}`,children:u.action==="boost"?" BOOST":u.action==="cut"?" CUT":"NOTCH"})]}),g.jsx(Vk,{min:u.min,max:u.max}),g.jsx("p",{className:"text-gray-300",children:u.description}),g.jsxs("div",{className:"flex flex-wrap gap-1 items-center",children:[g.jsx("span",{className:"text-xs font-bold text-gray-400 mr-1",children:"Applies to:"}),l(u).map(d=>g.jsx("span",{className:"bg-gray-700 text-orange-200 rounded px-2 py-1 text-xs font-medium",children:d},d))]})]})},f)})}),g.jsx("div",{className:"text-xs text-gray-500 mt-8 text-center px-2",children:"Tip: These are general guidelinestrust your ears and reference pro mixes for your genre."})]})},Jo=({className:e="w-6 h-6"})=>g.jsx("div",{className:`${e} bg-orange-500 transform rotate-45 flex items-center justify-center`,children:g.jsx("div",{className:"w-1/2 h-1/2 bg-white transform -rotate-45"})}),Bk=({onGetStarted:e})=>{const[t,n]=ne.useState(!1),r=[{label:"How It Works",href:"#how-it-works"},{label:"Problems We Solve",href:"#problems-we-solve"},{label:"Investment Levels",href:"#investment-levels"}];return g.jsxs("div",{className:"min-h-screen bg-[#2B2B2B] relative overflow-hidden scroll-smooth",children:[g.jsx("div",{className:"absolute inset-0 opacity-40",children:g.jsx("div",{className:"absolute inset-0",style:{backgroundImage:"radial-gradient(circle at 2px 2px, #FF5722 1px, transparent 0)",backgroundSize:"30px 30px"}})}),g.jsx("nav",{className:"sticky top-0 z-20 bg-[#2B2B2B]/80 backdrop-blur-sm px-6 py-4",children:g.jsxs("div",{className:"flex items-center justify-between",children:[g.jsxs("div",{className:"flex items-center space-x-3",children:[g.jsx(Jo,{className:"w-8 h-8"}),g.jsxs("div",{children:[g.jsx("div",{className:"text-xl font-bold text-white",children:"TrackGuide AI"}),g.jsx("div",{className:"text-xs text-gray-400",children:"Your Smartest Studio Assistant"})]})]}),g.jsx("div",{className:"hidden md:flex items-center space-x-10 absolute left-1/2 transform -translate-x-1/2",children:r.map(({label:o,href:l})=>g.jsx("a",{href:l,className:"text-white hover:text-orange-400 font-semibold text-lg transition-colors pb-1 border-b-2 border-transparent hover:border-orange-400",children:o},o))}),g.jsx("div",{className:"hidden md:block",children:g.jsxs("button",{onClick:e,className:"bg-black hover:bg-gray-900 text-white px-8 py-3 rounded-xl font-bold text-lg transition-all transform hover:scale-105 flex items-center justify-center space-x-3 shadow-2xl border-2 border-orange-400 hover:border-orange-300",children:[g.jsxs("div",{className:"relative",children:[g.jsx("div",{className:"absolute inset-0 rounded-full bg-orange-500/30 blur-sm"}),g.jsx(Jo,{className:"h-6 w-6 relative z-10"})]}),g.jsx("span",{children:"Launch App"})]})}),g.jsx("button",{onClick:()=>n(o=>!o),className:"md:hidden text-gray-300 hover:text-white focus:outline-none",children:t?g.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})}):g.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})})})]})}),t&&g.jsxs("div",{className:"md:hidden bg-[#2B2B2B]/90 backdrop-blur-sm px-6 py-4 space-y-4",children:[r.map(({label:o,href:l})=>g.jsx("a",{href:l,onClick:()=>n(!1),className:"block py-2 text-white font-medium hover:text-orange-400",children:o},o)),g.jsxs("button",{onClick:()=>{n(!1),e()},className:"w-full bg-black hover:bg-gray-900 text-white px-8 py-4 rounded-xl font-bold text-lg transition-all transform hover:scale-105 flex items-center justify-center space-x-3 shadow-2xl border-2 border-orange-400 hover:border-orange-300 mt-4",children:[g.jsxs("div",{className:"relative",children:[g.jsx("div",{className:"absolute inset-0 rounded-full bg-orange-500/30 blur-sm"}),g.jsx(Jo,{className:"h-6 w-6 relative z-10"})]}),g.jsx("span",{children:"Launch App"})]})]}),g.jsx("section",{className:"px-6 py-20",children:g.jsxs("div",{className:"max-w-7xl mx-auto text-center",children:[g.jsxs("h1",{className:"text-5xl md:text-7xl font-bold text-white leading-tight mb-8",children:[g.jsx("span",{className:"text-orange-500",children:"AI Studio Assistant:"}),g.jsx("br",{}),g.jsxs("span",{className:"block text-4xl md:text-7xl",children:["A Complement to Creativity,",g.jsx("br",{}),"Not a Substitute."]})]}),g.jsxs("p",{className:"text-xl md:text-2xl text-gray-300 max-w-4xl mx-auto mb-12",children:["Empowering modern producers with",g.jsx("span",{className:"text-orange-500 font-semibold",children:" structure"}),",",g.jsx("span",{className:"text-orange-500 font-semibold",children:" speed"}),", and",g.jsx("span",{className:"text-orange-500 font-semibold",children:" support"}),"."]}),g.jsx("div",{className:"md:hidden",children:!t&&g.jsxs("button",{onClick:e,className:"bg-black hover:bg-gray-900 text-white px-12 py-5 rounded-xl font-bold text-xl transition-all transform hover:scale-105 flex items-center justify-center space-x-4 shadow-2xl border-2 border-orange-400 hover:border-orange-300 mx-auto",children:[g.jsxs("div",{className:"relative",children:[g.jsx("div",{className:"absolute inset-0 rounded-full bg-orange-500/30 blur-sm"}),g.jsx(Jo,{className:"h-7 w-7 relative z-10"})]}),g.jsx("span",{children:"Launch App"})]})})]})}),g.jsx("section",{id:"how-it-works",className:"relative px-6 py-20",children:g.jsxs("div",{className:"max-w-7xl mx-auto",children:[g.jsxs("div",{className:"text-center mb-16",children:[g.jsx("h2",{className:"text-4xl md:text-5xl font-bold text-white mb-6",children:"How TrackGuide Works"}),g.jsx("p",{className:"text-xl text-gray-300 max-w-3xl mx-auto",children:"From concept to creation in three simple steps"})]}),g.jsxs("div",{className:"grid md:grid-cols-3 gap-8",children:[g.jsxs("div",{className:"text-center space-y-6",children:[g.jsx("div",{className:"w-20 h-20 bg-orange-500 rounded-full flex items-center justify-center mx-auto",children:g.jsx("span",{className:"text-2xl font-bold text-white",children:"1"})}),g.jsx("h3",{className:"text-2xl font-bold text-white",children:"Describe Your Vision"}),g.jsx("p",{className:"text-gray-300",children:"Define your genre, vibe, creative goals  and your available plugins & DAW. Our AI understands your intent."})]}),g.jsxs("div",{className:"text-center space-y-6",children:[g.jsx("div",{className:"w-20 h-20 bg-orange-500 rounded-full flex items-center justify-center mx-auto",children:g.jsx("span",{className:"text-2xl font-bold text-white",children:"2"})}),g.jsx("h3",{className:"text-2xl font-bold text-white",children:"Get Your Guide & Tools"}),g.jsx("p",{className:"text-gray-300",children:"Generate a TrackGuide Blueprint, MIDI patterns, and AI recommendations  including plugin parameter suggestions."})]}),g.jsxs("div",{className:"text-center space-y-6",children:[g.jsx("div",{className:"w-20 h-20 bg-orange-500 rounded-full flex items-center justify-center mx-auto",children:g.jsx("span",{className:"text-2xl font-bold text-white",children:"3"})}),g.jsx("h3",{className:"text-2xl font-bold text-white",children:"Iterate & Refine"}),g.jsx("p",{className:"text-gray-300",children:"Upload mixes for feedback, compare revisions, and update your production with AI-assisted insights."})]})]})]})}),g.jsx("section",{className:"relative px-6 py-20 bg-black/10",children:g.jsxs("div",{className:"max-w-7xl mx-auto",children:[g.jsxs("div",{className:"text-center mb-16",children:[g.jsx("h2",{className:"text-4xl md:text-5xl font-bold text-white mb-6",children:"Complete Production Toolkit"}),g.jsx("p",{className:"text-xl text-gray-300 max-w-3xl mx-auto",children:"Everything you need  from first idea to final mix"})]}),g.jsxs("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-8",children:[g.jsxs("div",{className:"bg-gray-800/50 rounded-xl p-6 border border-orange-500/20 hover:border-orange-500/40 transition-all",children:[g.jsx("div",{className:"w-12 h-12 rounded-lg flex items-center justify-center mb-4",children:g.jsx(Jo,{className:"w-12 h-12"})}),g.jsx("h3",{className:"text-xl font-bold text-white mb-3",children:"TrackGuide AI"}),g.jsx("p",{className:"text-gray-300",children:"Generate detailed TrackGuide blueprints  structure, instrumentation, plugin parameters, and mix guidance tailored to your tools."})]}),g.jsxs("div",{className:"bg-gray-800/50 rounded-xl p-6 border border-orange-500/20 hover:border-orange-500/40 transition-all",children:[g.jsx("div",{className:"w-12 h-12 bg-orange-500 rounded-lg flex items-center justify-center mb-4",children:g.jsx("span",{className:"text-white font-bold",children:""})}),g.jsx("h3",{className:"text-xl font-bold text-white mb-3",children:"Integrated MIDI Generator"}),g.jsx("p",{className:"text-gray-300",children:"Auto-generate melodic, harmonic, bass, and drum MIDI patterns  matched to your genre and style  exportable to your DAW."})]}),g.jsxs("div",{className:"bg-gray-800/50 rounded-xl p-6 border border-orange-500/20 hover:border-orange-500/40 transition-all",children:[g.jsx("div",{className:"w-12 h-12 bg-orange-500 rounded-lg flex items-center justify-center mb-4",children:g.jsx("span",{className:"text-white font-bold",children:""})}),g.jsx("h3",{className:"text-xl font-bold text-white mb-3",children:"RemixGuide AI"}),g.jsx("p",{className:"text-gray-300",children:"Upload any track and generate an intelligent remix plan  new structure, sound design tips, and remix-ready MIDI."})]}),g.jsxs("div",{className:"bg-gray-800/50 rounded-xl p-6 border border-orange-500/20 hover:border-orange-500/40 transition-all",children:[g.jsx("div",{className:"w-12 h-12 bg-orange-500 rounded-lg flex items-center justify-center mb-4",children:g.jsx("span",{className:"text-white font-bold text-2xl",children:""})}),g.jsx("h3",{className:"text-xl font-bold text-white mb-3",children:"PatchGuide AI"}),g.jsx("p",{className:"text-gray-300",children:"Generate detailed synth patch blueprints  choose your synth, describe your sound, and get step-by-step parameter and modulation tips."})]}),g.jsxs("div",{className:"bg-gray-800/50 rounded-xl p-6 border border-orange-500/20 hover:border-orange-500/40 transition-all",children:[g.jsx("div",{className:"w-12 h-12 bg-orange-500 rounded-lg flex items-center justify-center mb-4",children:g.jsx("span",{className:"text-white font-bold text-2xl",children:""})}),g.jsx("h3",{className:"text-xl font-bold text-white mb-3",children:"Mix Feedback"}),g.jsx("p",{className:"text-gray-300",children:"Get instant mix advice  AI analyzes one or two versions of your mix to highlight strengths, fix weaknesses, compare refinements, and guide your next steps."})]}),g.jsxs("div",{className:"bg-gray-800/50 rounded-xl p-6 border border-orange-500/20 hover:border-orange-500/40 transition-all",children:[g.jsx("div",{className:"w-12 h-12 bg-orange-500 rounded-lg flex items-center justify-center mb-4",children:g.jsx("span",{className:"text-white font-bold",children:""})}),g.jsx("h3",{className:"text-xl font-bold text-white mb-3",children:"EQ Guide"}),g.jsx("p",{className:"text-gray-300",children:"Quick-reference EQ guide: instrument-by-instrument  learn how to shape sound and resolve common mix problems."})]})]})]})}),g.jsx("section",{className:"relative px-6 py-20 bg-black/20",children:g.jsxs("div",{className:"max-w-7xl mx-auto text-center",children:[g.jsx("h2",{className:"text-4xl md:text-5xl font-bold text-white mb-6",children:"Ready to Transform Your Music Production?"}),g.jsx("p",{className:"text-xl text-gray-300 mb-12 max-w-2xl mx-auto",children:"TrackGuide helps producers of all skill levels  from bedroom creators to pros  finish more tracks, faster."}),g.jsxs("div",{className:"bg-gray-800/50 rounded-2xl p-8 max-w-md mx-auto border border-orange-500/20",children:[g.jsx("h3",{className:"text-2xl font-bold text-white mb-4",children:"Free to Start"}),g.jsx("p",{className:"text-gray-300 mb-6",children:"Get started with TrackGuide AI for free. Upgrade when you're ready to unlock unlimited generations and advanced tools."}),g.jsx("button",{onClick:e,className:"w-full bg-orange-500 hover:bg-orange-600 text-white px-8 py-4 rounded-lg font-bold text-lg transition-all transform hover:scale-105 shadow-xl",children:"Start Creating Free"}),g.jsx("p",{className:"text-gray-500 text-sm mt-4",children:"No credit card required"})]})]})}),g.jsx("section",{className:"px-6 py-16 bg-black/20",children:g.jsxs("div",{className:"max-w-7xl mx-auto text-center",children:[g.jsx("div",{className:"w-32 h-1 bg-orange-500 mx-auto mb-8"}),g.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-white mb-4",children:"The Investment Opportunity"}),g.jsx("p",{className:"text-xl text-gray-300",children:"Helping producers finish better music, faster  in a $43B market."})]})}),g.jsx("section",{id:"problems-we-solve",className:"relative px-6 py-20 bg-black/20",children:g.jsx("div",{className:"max-w-7xl mx-auto",children:g.jsxs("div",{className:"grid lg:grid-cols-2 gap-12 items-center",children:[g.jsxs("div",{className:"space-y-8",children:[g.jsxs("h2",{className:"text-4xl md:text-5xl font-bold text-white leading-tight",children:["Too Many Tools. ",g.jsx("span",{className:"text-orange-500 block",children:"Not Enough Direction."})]}),g.jsxs("div",{className:"grid gap-6",children:[g.jsx("div",{className:"border-l-4 border-orange-500 pl-6",children:g.jsxs("p",{className:"text-gray-300",children:[g.jsx("strong",{children:"Clickbait content lacks depth "})," TrackGuide guides creativity with real-world skills  not more noise."]})}),g.jsx("div",{className:"border-l-4 border-orange-500 pl-6",children:g.jsxs("p",{className:"text-gray-300",children:[g.jsx("strong",{children:"Clarity over clutter "})," Cuts through plugin paralysis and endless tutorial-hopping."]})}),g.jsx("div",{className:"border-l-4 border-orange-500 pl-6",children:g.jsxs("p",{className:"text-gray-300",children:[g.jsx("strong",{children:"Skills that scale "})," Builds lasting production knowledge across tools & styles."]})})]})]}),g.jsxs("div",{className:"relative h-96",children:[g.jsxs("div",{className:"absolute top-0 right-0 w-48 h-48",children:[g.jsx("div",{className:"w-full h-full border-2 border-orange-500 transform rotate-45"}),g.jsx("div",{className:"absolute top-4 right-4 w-40 h-40 bg-orange-500 transform rotate-45"})]}),g.jsxs("div",{className:"absolute bottom-0 left-0 w-32 h-32",children:[g.jsx("div",{className:"w-full h-full border-2 border-orange-500"}),g.jsx("div",{className:"absolute top-2 left-2 w-28 h-28 bg-orange-500"})]})]})]})})}),g.jsx("section",{id:"ai-challenge",className:"px-6 py-20 bg-black",children:g.jsxs("div",{className:"max-w-7xl mx-auto grid lg:grid-cols-2 gap-12 items-center",children:[g.jsx("div",{className:"relative h-80 hidden lg:block",children:g.jsxs("div",{className:"absolute top-0 left-0 w-40 h-40",children:[g.jsx("div",{className:"w-full h-full border-2 border-orange-500 transform rotate-45"}),g.jsx("div",{className:"absolute top-4 left-4 w-32 h-32 bg-orange-500 transform rotate-45"})]})}),g.jsxs("div",{className:"space-y-8",children:[g.jsxs("h2",{className:"text-5xl font-bold text-white leading-tight",children:["AI That Teaches. ",g.jsx("span",{className:"text-orange-500 block",children:"Not Just Automates."})]}),g.jsx("p",{className:"text-xl text-gray-300 leading-relaxed",children:"A human-first approach  empowering the artist, respecting the craft."}),g.jsxs("div",{className:"grid gap-6",children:[g.jsxs("div",{className:"border-l-4 border-orange-500 pl-6",children:[g.jsx("h3",{className:"text-lg font-bold text-white mb-2",children:"Avoiding One-Click solutions"}),g.jsx("p",{className:"text-gray-400",children:"Our AI augments the creative process  producers stay in control."})]}),g.jsxs("div",{className:"border-l-4 border-orange-500 pl-6",children:[g.jsx("h3",{className:"text-lg font-bold text-white mb-2",children:"Encouraging Innovation"}),g.jsx("p",{className:"text-gray-400",children:"Current AI tools focus on regurgitating old hit formulas  ours help creators define new sounds."})]}),g.jsxs("div",{className:"border-l-4 border-orange-500 pl-6",children:[g.jsx("h3",{className:"text-lg font-bold text-white mb-2",children:"Clear IP & ethical AI"}),g.jsx("p",{className:"text-gray-400",children:"Built with transparent usage  your creativity stays yours."})]})]})]})]})}),g.jsx("section",{className:"relative px-6 py-20 bg-black/20",children:g.jsxs("div",{className:"max-w-5xl mx-auto",children:[g.jsxs("h2",{className:"text-4xl md:text-5xl font-bold text-white mb-6",children:["Scalable ",g.jsx("span",{className:"text-orange-500",children:"Business Model"})]}),g.jsx("p",{className:"text-xl text-gray-300 mb-12 max-w-2xl mx-auto",children:"Modular SaaS for creators, pros, educators, and studios."}),g.jsxs("div",{className:"grid md:grid-cols-3 gap-8",children:[g.jsxs("div",{className:"bg-gray-800/30 rounded-lg p-8 border border-orange-500/10 space-y-2",children:[g.jsx("h3",{className:"text-2xl font-bold text-white",children:"SaaS Subscriptions"}),g.jsx("p",{className:"text-gray-300",children:"Premium AI tools, pro workflows, unlimited usage  high-margin recurring revenue."}),g.jsx("div",{className:"text-orange-500 font-semibold text-lg",children:"85% Gross Margin"})]}),g.jsxs("div",{className:"bg-gray-800/30 rounded-lg p-8 border border-orange-500/10 space-y-2",children:[g.jsx("h3",{className:"text-2xl font-bold text-white",children:"Community Marketplace"}),g.jsx("p",{className:"text-gray-300",children:"Revenue from user-generated templates, MIDI packs, remix packs, stems, and presets."}),g.jsx("div",{className:"text-orange-500 font-semibold text-lg",children:"30% Commission"})]}),g.jsxs("div",{className:"bg-gray-800/30 rounded-lg p-8 border border-orange-500/10 space-y-2",children:[g.jsx("h3",{className:"text-2xl font-bold text-white",children:"Enterprise / Education Licensing"}),g.jsx("p",{className:"text-gray-300",children:"Annual contracts for labels, studios, and music education institutions."}),g.jsx("div",{className:"text-orange-500 font-semibold text-lg",children:"$50K+ ARR"})]})]})]})}),g.jsx("section",{id:"investment-levels",className:"px-6 py-20 bg-black",children:g.jsxs("div",{className:"max-w-5xl mx-auto",children:[g.jsxs("div",{className:"text-center mb-12",children:[g.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-white mb-6",children:"Investment Levels"}),g.jsx("p",{className:"text-lg text-gray-300 max-w-2xl mx-auto",children:"Were raising capital to scale TrackGuide AI  deepen core features, grow early users, and prepare for market launch."}),g.jsx("p",{className:"text-md text-gray-400 mt-4 max-w-xl mx-auto",children:"All investments are via SAFE notes with valuation cap. Larger tiers include additional benefits and advisory access."})]}),g.jsxs("div",{className:"grid md:grid-cols-4 gap-6",children:[g.jsxs("div",{className:"bg-black/80 rounded-lg p-6 border border-orange-500/30 shadow-md flex flex-col justify-between",children:[g.jsxs("div",{children:[g.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"Seed Loop"}),g.jsx("p",{className:"text-gray-300 text-sm mb-2",children:"$10K$25K"}),g.jsx("p",{className:"text-gray-400 text-sm mb-4",children:"AI refinement, UX polish, early traction testing."})]}),g.jsx("p",{className:"text-orange-400 text-sm mt-4",children:"Return: SAFE @ $5M cap + quarterly updates"})]}),g.jsxs("div",{className:"bg-black/80 rounded-lg p-6 border border-orange-500/30 shadow-md flex flex-col justify-between",children:[g.jsxs("div",{children:[g.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"Creator Tier"}),g.jsx("p",{className:"text-gray-300 text-sm mb-2",children:"$25K$50K"}),g.jsx("p",{className:"text-gray-400 text-sm mb-4",children:"Monetization rollout, user acquisition, affiliate & referral systems."})]}),g.jsx("p",{className:"text-orange-400 text-sm mt-4",children:"Return: SAFE + 1% revenue share pilot + early feature access"})]}),g.jsxs("div",{className:"bg-black/80 rounded-lg p-6 border border-orange-500/30 shadow-md flex flex-col justify-between",children:[g.jsxs("div",{children:[g.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"Full Stack"}),g.jsx("p",{className:"text-gray-300 text-sm mb-2",children:"$50K$75K"}),g.jsx("p",{className:"text-gray-400 text-sm mb-4",children:"Strategic hires (PMM / full-stack dev), expanded GTM partnerships."})]}),g.jsx("p",{className:"text-orange-400 text-sm mt-4",children:"Return: SAFE + advisory board seat + product roadmap input"})]}),g.jsxs("div",{className:"bg-black/80 rounded-lg p-6 border border-orange-500/30 shadow-md flex flex-col justify-between",children:[g.jsxs("div",{children:[g.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"Vision Tier"}),g.jsx("p",{className:"text-gray-300 text-sm mb-2",children:"$150K+"}),g.jsx("p",{className:"text-gray-400 text-sm mb-4",children:"Full-scale AI model tuning, GTM campaign, international expansion."})]}),g.jsx("p",{className:"text-orange-400 text-sm mt-4",children:"Return: Discounted SAFE cap + 2% revenue share + strategic board seat"})]})]}),g.jsx("div",{className:"text-center mt-12",children:g.jsx("a",{href:"mailto:dustinspaceproductions@gmail.com?subject=Investment Inquiry - TrackGuide AI",className:"bg-orange-500 hover:bg-orange-600 text-white px-8 py-4 rounded-lg font-bold text-lg transition-all transform hover:scale-105 inline-flex items-center space-x-2 shadow-xl",children:g.jsx("span",{children:"Contact for Full Investor Deck"})})})]})}),g.jsx("section",{className:"px-6 py-20 bg-black/30",children:g.jsxs("div",{className:"max-w-4xl mx-auto text-center",children:[g.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-white mb-6",children:"Interested in Investing?"}),g.jsx("p",{className:"text-xl text-gray-300 mb-8 max-w-2xl mx-auto",children:"Revolutionizing music production with human-first AI. Join us."}),g.jsx("a",{href:"mailto:dustinspaceproductions@gmail.com?subject=Investment Inquiry - TrackGuide AI",className:"bg-orange-500 hover:bg-orange-600 text-white px-8 py-3 rounded-lg font-bold text-lg transition-all transform hover:scale-105 inline-flex items-center space-x-2 shadow-xl",children:g.jsx("span",{children:"Contact for Investment Opportunities"})})]})}),g.jsx("footer",{className:"px-6 py-12 border-t border-orange-500/20 bg-black/20",children:g.jsx("div",{className:"max-w-7xl mx-auto",children:g.jsxs("div",{className:"flex flex-col md:flex-row items-center justify-between",children:[g.jsxs("div",{className:"flex items-center space-x-3 mb-4 md:mb-0",children:[g.jsx("div",{className:"w-6 h-6 bg-orange-500 transform rotate-45 flex items-center justify-center",children:g.jsx("div",{className:"w-3 h-3 bg-white transform -rotate-45"})}),g.jsxs("div",{children:[g.jsx("div",{className:"text-lg font-bold text-white",children:"TrackGuide AI"}),g.jsx("div",{className:"text-xs text-gray-400",children:"AI Studio Assistant for Music Creators"})]})]}),g.jsxs("div",{className:"text-gray-400 text-center md:text-right text-sm space-y-1",children:[g.jsx("p",{children:" 2025 TrackGuide. Empowering music creators worldwide."}),g.jsxs("p",{children:[g.jsx("a",{href:"#",className:"hover:text-orange-400 mr-4",children:"Privacy Policy"}),g.jsx("a",{href:"#",className:"hover:text-orange-400",children:"Terms of Service"})]})]})]})})})]})};function Fk(e,t){const n={};return(e[e.length-1]===""?[...e,""]:e).join((n.padRight?" ":"")+","+(n.padLeft===!1?"":" ")).trim()}const Ok=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,jk=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,zk={};function kx(e,t){return(zk.jsx?jk:Ok).test(e)}const Hk=/[ \t\n\f\r]/g;function Uk(e){return typeof e=="object"?e.type==="text"?Ix(e.value):!1:Ix(e)}function Ix(e){return e.replace(Hk,"")===""}class Is{constructor(t,n,r){this.normal=n,this.property=t,r&&(this.space=r)}}Is.prototype.normal={};Is.prototype.property={};Is.prototype.space=void 0;function u1(e,t){const n={},r={};for(const o of e)Object.assign(n,o.property),Object.assign(r,o.normal);return new Is(n,r,t)}function Jd(e){return e.toLowerCase()}class ln{constructor(t,n){this.attribute=n,this.property=t}}ln.prototype.attribute="";ln.prototype.booleanish=!1;ln.prototype.boolean=!1;ln.prototype.commaOrSpaceSeparated=!1;ln.prototype.commaSeparated=!1;ln.prototype.defined=!1;ln.prototype.mustUseProperty=!1;ln.prototype.number=!1;ln.prototype.overloadedBoolean=!1;ln.prototype.property="";ln.prototype.spaceSeparated=!1;ln.prototype.space=void 0;let Gk=0;const Pe=Hr(),At=Hr(),Zd=Hr(),me=Hr(),ut=Hr(),za=Hr(),yn=Hr();function Hr(){return 2**++Gk}const em=Object.freeze(Object.defineProperty({__proto__:null,boolean:Pe,booleanish:At,commaOrSpaceSeparated:yn,commaSeparated:za,number:me,overloadedBoolean:Zd,spaceSeparated:ut},Symbol.toStringTag,{value:"Module"})),ud=Object.keys(em);class Rm extends ln{constructor(t,n,r,o){let l=-1;if(super(t,n),Nx(this,"space",o),typeof r=="number")for(;++l<ud.length;){const u=ud[l];Nx(this,ud[l],(r&em[u])===em[u])}}}Rm.prototype.defined=!0;function Nx(e,t,n){n&&(e[t]=n)}function $a(e){const t={},n={};for(const[r,o]of Object.entries(e.properties)){const l=new Rm(r,e.transform(e.attributes||{},r),o,e.space);e.mustUseProperty&&e.mustUseProperty.includes(r)&&(l.mustUseProperty=!0),t[r]=l,n[Jd(r)]=r,n[Jd(l.attribute)]=r}return new Is(t,n,e.space)}const c1=$a({properties:{ariaActiveDescendant:null,ariaAtomic:At,ariaAutoComplete:null,ariaBusy:At,ariaChecked:At,ariaColCount:me,ariaColIndex:me,ariaColSpan:me,ariaControls:ut,ariaCurrent:null,ariaDescribedBy:ut,ariaDetails:null,ariaDisabled:At,ariaDropEffect:ut,ariaErrorMessage:null,ariaExpanded:At,ariaFlowTo:ut,ariaGrabbed:At,ariaHasPopup:null,ariaHidden:At,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:ut,ariaLevel:me,ariaLive:null,ariaModal:At,ariaMultiLine:At,ariaMultiSelectable:At,ariaOrientation:null,ariaOwns:ut,ariaPlaceholder:null,ariaPosInSet:me,ariaPressed:At,ariaReadOnly:At,ariaRelevant:null,ariaRequired:At,ariaRoleDescription:ut,ariaRowCount:me,ariaRowIndex:me,ariaRowSpan:me,ariaSelected:At,ariaSetSize:me,ariaSort:null,ariaValueMax:me,ariaValueMin:me,ariaValueNow:me,ariaValueText:null,role:null},transform(e,t){return t==="role"?t:"aria-"+t.slice(4).toLowerCase()}});function f1(e,t){return t in e?e[t]:t}function d1(e,t){return f1(e,t.toLowerCase())}const qk=$a({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:za,acceptCharset:ut,accessKey:ut,action:null,allow:null,allowFullScreen:Pe,allowPaymentRequest:Pe,allowUserMedia:Pe,alt:null,as:null,async:Pe,autoCapitalize:null,autoComplete:ut,autoFocus:Pe,autoPlay:Pe,blocking:ut,capture:null,charSet:null,checked:Pe,cite:null,className:ut,cols:me,colSpan:null,content:null,contentEditable:At,controls:Pe,controlsList:ut,coords:me|za,crossOrigin:null,data:null,dateTime:null,decoding:null,default:Pe,defer:Pe,dir:null,dirName:null,disabled:Pe,download:Zd,draggable:At,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:Pe,formTarget:null,headers:ut,height:me,hidden:Zd,high:me,href:null,hrefLang:null,htmlFor:ut,httpEquiv:ut,id:null,imageSizes:null,imageSrcSet:null,inert:Pe,inputMode:null,integrity:null,is:null,isMap:Pe,itemId:null,itemProp:ut,itemRef:ut,itemScope:Pe,itemType:ut,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:Pe,low:me,manifest:null,max:null,maxLength:me,media:null,method:null,min:null,minLength:me,multiple:Pe,muted:Pe,name:null,nonce:null,noModule:Pe,noValidate:Pe,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:Pe,optimum:me,pattern:null,ping:ut,placeholder:null,playsInline:Pe,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:Pe,referrerPolicy:null,rel:ut,required:Pe,reversed:Pe,rows:me,rowSpan:me,sandbox:ut,scope:null,scoped:Pe,seamless:Pe,selected:Pe,shadowRootClonable:Pe,shadowRootDelegatesFocus:Pe,shadowRootMode:null,shape:null,size:me,sizes:null,slot:null,span:me,spellCheck:At,src:null,srcDoc:null,srcLang:null,srcSet:null,start:me,step:null,style:null,tabIndex:me,target:null,title:null,translate:null,type:null,typeMustMatch:Pe,useMap:null,value:At,width:me,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:ut,axis:null,background:null,bgColor:null,border:me,borderColor:null,bottomMargin:me,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:Pe,declare:Pe,event:null,face:null,frame:null,frameBorder:null,hSpace:me,leftMargin:me,link:null,longDesc:null,lowSrc:null,marginHeight:me,marginWidth:me,noResize:Pe,noHref:Pe,noShade:Pe,noWrap:Pe,object:null,profile:null,prompt:null,rev:null,rightMargin:me,rules:null,scheme:null,scrolling:At,standby:null,summary:null,text:null,topMargin:me,valueType:null,version:null,vAlign:null,vLink:null,vSpace:me,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:Pe,disableRemotePlayback:Pe,prefix:null,property:null,results:me,security:null,unselectable:null},space:"html",transform:d1}),$k=$a({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:yn,accentHeight:me,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:me,amplitude:me,arabicForm:null,ascent:me,attributeName:null,attributeType:null,azimuth:me,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:me,by:null,calcMode:null,capHeight:me,className:ut,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:me,diffuseConstant:me,direction:null,display:null,dur:null,divisor:me,dominantBaseline:null,download:Pe,dx:null,dy:null,edgeMode:null,editable:null,elevation:me,enableBackground:null,end:null,event:null,exponent:me,externalResourcesRequired:null,fill:null,fillOpacity:me,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:za,g2:za,glyphName:za,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:me,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:me,horizOriginX:me,horizOriginY:me,id:null,ideographic:me,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:me,k:me,k1:me,k2:me,k3:me,k4:me,kernelMatrix:yn,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:me,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:me,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:me,overlineThickness:me,paintOrder:null,panose1:null,path:null,pathLength:me,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:ut,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:me,pointsAtY:me,pointsAtZ:me,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:yn,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:yn,rev:yn,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:yn,requiredFeatures:yn,requiredFonts:yn,requiredFormats:yn,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:me,specularExponent:me,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:me,strikethroughThickness:me,string:null,stroke:null,strokeDashArray:yn,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:me,strokeOpacity:me,strokeWidth:null,style:null,surfaceScale:me,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:yn,tabIndex:me,tableValues:null,target:null,targetX:me,targetY:me,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:yn,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:me,underlineThickness:me,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:me,values:null,vAlphabetic:me,vMathematical:me,vectorEffect:null,vHanging:me,vIdeographic:me,version:null,vertAdvY:me,vertOriginX:me,vertOriginY:me,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:me,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:f1}),m1=$a({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform(e,t){return"xlink:"+t.slice(5).toLowerCase()}}),h1=$a({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:d1}),p1=$a({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform(e,t){return"xml:"+t.slice(3).toLowerCase()}}),Yk={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},Kk=/[A-Z]/g,Rx=/-[a-z]/g,Xk=/^data[-\w.:]+$/i;function Wk(e,t){const n=Jd(t);let r=t,o=ln;if(n in e.normal)return e.property[e.normal[n]];if(n.length>4&&n.slice(0,4)==="data"&&Xk.test(t)){if(t.charAt(4)==="-"){const l=t.slice(5).replace(Rx,Jk);r="data"+l.charAt(0).toUpperCase()+l.slice(1)}else{const l=t.slice(4);if(!Rx.test(l)){let u=l.replace(Kk,Qk);u.charAt(0)!=="-"&&(u="-"+u),t="data"+u}}o=Rm}return new o(r,t)}function Qk(e){return"-"+e.toLowerCase()}function Jk(e){return e.charAt(1).toUpperCase()}const Zk=u1([c1,qk,m1,h1,p1],"html"),_m=u1([c1,$k,m1,h1,p1],"svg");function eI(e){return e.join(" ").trim()}var Na={},cd,_x;function tI(){if(_x)return cd;_x=1;var e=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,t=/\n/g,n=/^\s*/,r=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,o=/^:\s*/,l=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,u=/^[;\s]*/,f=/^\s+|\s+$/g,m=`
`,d="/",h="*",y="",T="comment",S="declaration";cd=function(A,_){if(typeof A!="string")throw new TypeError("First argument must be a string");if(!A)return[];_=_||{};var k=1,V=1;function I(he){var le=he.match(t);le&&(k+=le.length);var Z=he.lastIndexOf(m);V=~Z?he.length-Z:V+he.length}function B(){var he={line:k,column:V};return function(le){return le.position=new U(he),se(),le}}function U(he){this.start=he,this.end={line:k,column:V},this.source=_.source}U.prototype.content=A;function z(he){var le=new Error(_.source+":"+k+":"+V+": "+he);if(le.reason=he,le.filename=_.source,le.line=k,le.column=V,le.source=A,!_.silent)throw le}function ie(he){var le=he.exec(A);if(le){var Z=le[0];return I(Z),A=A.slice(Z.length),le}}function se(){ie(n)}function ge(he){var le;for(he=he||[];le=H();)le!==!1&&he.push(le);return he}function H(){var he=B();if(!(d!=A.charAt(0)||h!=A.charAt(1))){for(var le=2;y!=A.charAt(le)&&(h!=A.charAt(le)||d!=A.charAt(le+1));)++le;if(le+=2,y===A.charAt(le-1))return z("End of comment missing");var Z=A.slice(2,le-2);return V+=2,I(Z),A=A.slice(le),V+=2,he({type:T,comment:Z})}}function ue(){var he=B(),le=ie(r);if(le){if(H(),!ie(o))return z("property missing ':'");var Z=ie(l),$=he({type:S,property:w(le[0].replace(e,y)),value:Z?w(Z[0].replace(e,y)):y});return ie(u),$}}function fe(){var he=[];ge(he);for(var le;le=ue();)le!==!1&&(he.push(le),ge(he));return he}return se(),fe()};function w(A){return A?A.replace(f,y):y}return cd}var Lx;function nI(){if(Lx)return Na;Lx=1;var e=Na&&Na.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Na,"__esModule",{value:!0}),Na.default=n;var t=e(tI());function n(r,o){var l=null;if(!r||typeof r!="string")return l;var u=(0,t.default)(r),f=typeof o=="function";return u.forEach(function(m){if(m.type==="declaration"){var d=m.property,h=m.value;f?o(d,h,m):h&&(l=l||{},l[d]=h)}}),l}return Na}var Zo={},Vx;function iI(){if(Vx)return Zo;Vx=1,Object.defineProperty(Zo,"__esModule",{value:!0}),Zo.camelCase=void 0;var e=/^--[a-zA-Z0-9_-]+$/,t=/-([a-z])/g,n=/^[^-]+$/,r=/^-(webkit|moz|ms|o|khtml)-/,o=/^-(ms)-/,l=function(d){return!d||n.test(d)||e.test(d)},u=function(d,h){return h.toUpperCase()},f=function(d,h){return"".concat(h,"-")},m=function(d,h){return h===void 0&&(h={}),l(d)?d:(d=d.toLowerCase(),h.reactCompat?d=d.replace(o,f):d=d.replace(r,f),d.replace(t,u))};return Zo.camelCase=m,Zo}var es,Px;function rI(){if(Px)return es;Px=1;var e=es&&es.__importDefault||function(o){return o&&o.__esModule?o:{default:o}},t=e(nI()),n=iI();function r(o,l){var u={};return!o||typeof o!="string"||(0,t.default)(o,function(f,m){f&&m&&(u[(0,n.camelCase)(f,l)]=m)}),u}return r.default=r,es=r,es}var aI=rI();const oI=Ds(aI),g1=y1("end"),Lm=y1("start");function y1(e){return t;function t(n){const r=n&&n.position&&n.position[e]||{};if(typeof r.line=="number"&&r.line>0&&typeof r.column=="number"&&r.column>0)return{line:r.line,column:r.column,offset:typeof r.offset=="number"&&r.offset>-1?r.offset:void 0}}}function sI(e){const t=Lm(e),n=g1(e);if(t&&n)return{start:t,end:n}}function ls(e){return!e||typeof e!="object"?"":"position"in e||"type"in e?Bx(e.position):"start"in e||"end"in e?Bx(e):"line"in e||"column"in e?tm(e):""}function tm(e){return Fx(e&&e.line)+":"+Fx(e&&e.column)}function Bx(e){return tm(e&&e.start)+"-"+tm(e&&e.end)}function Fx(e){return e&&typeof e=="number"?e:1}class qt extends Error{constructor(t,n,r){super(),typeof n=="string"&&(r=n,n=void 0);let o="",l={},u=!1;if(n&&("line"in n&&"column"in n?l={place:n}:"start"in n&&"end"in n?l={place:n}:"type"in n?l={ancestors:[n],place:n.position}:l={...n}),typeof t=="string"?o=t:!l.cause&&t&&(u=!0,o=t.message,l.cause=t),!l.ruleId&&!l.source&&typeof r=="string"){const m=r.indexOf(":");m===-1?l.ruleId=r:(l.source=r.slice(0,m),l.ruleId=r.slice(m+1))}if(!l.place&&l.ancestors&&l.ancestors){const m=l.ancestors[l.ancestors.length-1];m&&(l.place=m.position)}const f=l.place&&"start"in l.place?l.place.start:l.place;this.ancestors=l.ancestors||void 0,this.cause=l.cause||void 0,this.column=f?f.column:void 0,this.fatal=void 0,this.file,this.message=o,this.line=f?f.line:void 0,this.name=ls(l.place)||"1:1",this.place=l.place||void 0,this.reason=this.message,this.ruleId=l.ruleId||void 0,this.source=l.source||void 0,this.stack=u&&l.cause&&typeof l.cause.stack=="string"?l.cause.stack:"",this.actual,this.expected,this.note,this.url}}qt.prototype.file="";qt.prototype.name="";qt.prototype.reason="";qt.prototype.message="";qt.prototype.stack="";qt.prototype.column=void 0;qt.prototype.line=void 0;qt.prototype.ancestors=void 0;qt.prototype.cause=void 0;qt.prototype.fatal=void 0;qt.prototype.place=void 0;qt.prototype.ruleId=void 0;qt.prototype.source=void 0;const Vm={}.hasOwnProperty,lI=new Map,uI=/[A-Z]/g,cI=new Set(["table","tbody","thead","tfoot","tr"]),fI=new Set(["td","th"]),x1="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function dI(e,t){if(!t||t.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const n=t.filePath||void 0;let r;if(t.development){if(typeof t.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");r=bI(n,t.jsxDEV)}else{if(typeof t.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof t.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");r=vI(n,t.jsx,t.jsxs)}const o={Fragment:t.Fragment,ancestors:[],components:t.components||{},create:r,elementAttributeNameCase:t.elementAttributeNameCase||"react",evaluater:t.createEvaluater?t.createEvaluater():void 0,filePath:n,ignoreInvalidStyle:t.ignoreInvalidStyle||!1,passKeys:t.passKeys!==!1,passNode:t.passNode||!1,schema:t.space==="svg"?_m:Zk,stylePropertyNameCase:t.stylePropertyNameCase||"dom",tableCellAlignToStyle:t.tableCellAlignToStyle!==!1},l=v1(o,e,void 0);return l&&typeof l!="string"?l:o.create(e,o.Fragment,{children:l||void 0},void 0)}function v1(e,t,n){if(t.type==="element")return mI(e,t,n);if(t.type==="mdxFlowExpression"||t.type==="mdxTextExpression")return hI(e,t);if(t.type==="mdxJsxFlowElement"||t.type==="mdxJsxTextElement")return gI(e,t,n);if(t.type==="mdxjsEsm")return pI(e,t);if(t.type==="root")return yI(e,t,n);if(t.type==="text")return xI(e,t)}function mI(e,t,n){const r=e.schema;let o=r;t.tagName.toLowerCase()==="svg"&&r.space==="html"&&(o=_m,e.schema=o),e.ancestors.push(t);const l=T1(e,t.tagName,!1),u=TI(e,t);let f=Bm(e,t);return cI.has(t.tagName)&&(f=f.filter(function(m){return typeof m=="string"?!Uk(m):!0})),b1(e,u,l,t),Pm(u,f),e.ancestors.pop(),e.schema=r,e.create(t,l,u,n)}function hI(e,t){if(t.data&&t.data.estree&&e.evaluater){const r=t.data.estree.body[0];return r.type,e.evaluater.evaluateExpression(r.expression)}vs(e,t.position)}function pI(e,t){if(t.data&&t.data.estree&&e.evaluater)return e.evaluater.evaluateProgram(t.data.estree);vs(e,t.position)}function gI(e,t,n){const r=e.schema;let o=r;t.name==="svg"&&r.space==="html"&&(o=_m,e.schema=o),e.ancestors.push(t);const l=t.name===null?e.Fragment:T1(e,t.name,!0),u=SI(e,t),f=Bm(e,t);return b1(e,u,l,t),Pm(u,f),e.ancestors.pop(),e.schema=r,e.create(t,l,u,n)}function yI(e,t,n){const r={};return Pm(r,Bm(e,t)),e.create(t,e.Fragment,r,n)}function xI(e,t){return t.value}function b1(e,t,n,r){typeof n!="string"&&n!==e.Fragment&&e.passNode&&(t.node=r)}function Pm(e,t){if(t.length>0){const n=t.length>1?t:t[0];n&&(e.children=n)}}function vI(e,t,n){return r;function r(o,l,u,f){const d=Array.isArray(u.children)?n:t;return f?d(l,u,f):d(l,u)}}function bI(e,t){return n;function n(r,o,l,u){const f=Array.isArray(l.children),m=Lm(r);return t(o,l,u,f,{columnNumber:m?m.column-1:void 0,fileName:e,lineNumber:m?m.line:void 0},void 0)}}function TI(e,t){const n={};let r,o;for(o in t.properties)if(o!=="children"&&Vm.call(t.properties,o)){const l=CI(e,o,t.properties[o]);if(l){const[u,f]=l;e.tableCellAlignToStyle&&u==="align"&&typeof f=="string"&&fI.has(t.tagName)?r=f:n[u]=f}}if(r){const l=n.style||(n.style={});l[e.stylePropertyNameCase==="css"?"text-align":"textAlign"]=r}return n}function SI(e,t){const n={};for(const r of t.attributes)if(r.type==="mdxJsxExpressionAttribute")if(r.data&&r.data.estree&&e.evaluater){const l=r.data.estree.body[0];l.type;const u=l.expression;u.type;const f=u.properties[0];f.type,Object.assign(n,e.evaluater.evaluateExpression(f.argument))}else vs(e,t.position);else{const o=r.name;let l;if(r.value&&typeof r.value=="object")if(r.value.data&&r.value.data.estree&&e.evaluater){const f=r.value.data.estree.body[0];f.type,l=e.evaluater.evaluateExpression(f.expression)}else vs(e,t.position);else l=r.value===null?!0:r.value;n[o]=l}return n}function Bm(e,t){const n=[];let r=-1;const o=e.passKeys?new Map:lI;for(;++r<t.children.length;){const l=t.children[r];let u;if(e.passKeys){const m=l.type==="element"?l.tagName:l.type==="mdxJsxFlowElement"||l.type==="mdxJsxTextElement"?l.name:void 0;if(m){const d=o.get(m)||0;u=m+"-"+d,o.set(m,d+1)}}const f=v1(e,l,u);f!==void 0&&n.push(f)}return n}function CI(e,t,n){const r=Wk(e.schema,t);if(!(n==null||typeof n=="number"&&Number.isNaN(n))){if(Array.isArray(n)&&(n=r.commaSeparated?Fk(n):eI(n)),r.property==="style"){let o=typeof n=="object"?n:MI(e,String(n));return e.stylePropertyNameCase==="css"&&(o=wI(o)),["style",o]}return[e.elementAttributeNameCase==="react"&&r.space?Yk[r.property]||r.property:r.attribute,n]}}function MI(e,t){try{return oI(t,{reactCompat:!0})}catch(n){if(e.ignoreInvalidStyle)return{};const r=n,o=new qt("Cannot parse `style` attribute",{ancestors:e.ancestors,cause:r,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw o.file=e.filePath||void 0,o.url=x1+"#cannot-parse-style-attribute",o}}function T1(e,t,n){let r;if(!n)r={type:"Literal",value:t};else if(t.includes(".")){const o=t.split(".");let l=-1,u;for(;++l<o.length;){const f=kx(o[l])?{type:"Identifier",name:o[l]}:{type:"Literal",value:o[l]};u=u?{type:"MemberExpression",object:u,property:f,computed:!!(l&&f.type==="Literal"),optional:!1}:f}r=u}else r=kx(t)&&!/^[a-z]/.test(t)?{type:"Identifier",name:t}:{type:"Literal",value:t};if(r.type==="Literal"){const o=r.value;return Vm.call(e.components,o)?e.components[o]:o}if(e.evaluater)return e.evaluater.evaluateExpression(r);vs(e)}function vs(e,t){const n=new qt("Cannot handle MDX estrees without `createEvaluater`",{ancestors:e.ancestors,place:t,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw n.file=e.filePath||void 0,n.url=x1+"#cannot-handle-mdx-estrees-without-createevaluater",n}function wI(e){const t={};let n;for(n in e)Vm.call(e,n)&&(t[AI(n)]=e[n]);return t}function AI(e){let t=e.replace(uI,EI);return t.slice(0,3)==="ms-"&&(t="-"+t),t}function EI(e){return"-"+e.toLowerCase()}const fd={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},DI={};function Fm(e,t){const n=DI,r=typeof n.includeImageAlt=="boolean"?n.includeImageAlt:!0,o=typeof n.includeHtml=="boolean"?n.includeHtml:!0;return S1(e,r,o)}function S1(e,t,n){if(kI(e)){if("value"in e)return e.type==="html"&&!n?"":e.value;if(t&&"alt"in e&&e.alt)return e.alt;if("children"in e)return Ox(e.children,t,n)}return Array.isArray(e)?Ox(e,t,n):""}function Ox(e,t,n){const r=[];let o=-1;for(;++o<e.length;)r[o]=S1(e[o],t,n);return r.join("")}function kI(e){return!!(e&&typeof e=="object")}const jx=document.createElement("i");function Om(e){const t="&"+e+";";jx.innerHTML=t;const n=jx.textContent;return n.charCodeAt(n.length-1)===59&&e!=="semi"||n===t?!1:n}function vn(e,t,n,r){const o=e.length;let l=0,u;if(t<0?t=-t>o?0:o+t:t=t>o?o:t,n=n>0?n:0,r.length<1e4)u=Array.from(r),u.unshift(t,n),e.splice(...u);else for(n&&e.splice(t,n);l<r.length;)u=r.slice(l,l+1e4),u.unshift(t,0),e.splice(...u),l+=1e4,t+=1e4}function _n(e,t){return e.length>0?(vn(e,e.length,0,t),e):t}const zx={}.hasOwnProperty;function C1(e){const t={};let n=-1;for(;++n<e.length;)II(t,e[n]);return t}function II(e,t){let n;for(n in t){const o=(zx.call(e,n)?e[n]:void 0)||(e[n]={}),l=t[n];let u;if(l)for(u in l){zx.call(o,u)||(o[u]=[]);const f=l[u];NI(o[u],Array.isArray(f)?f:f?[f]:[])}}}function NI(e,t){let n=-1;const r=[];for(;++n<t.length;)(t[n].add==="after"?e:r).push(t[n]);vn(e,0,0,r)}function M1(e,t){const n=Number.parseInt(e,t);return n<9||n===11||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||(n&65535)===65535||(n&65535)===65534||n>1114111?"":String.fromCodePoint(n)}function Gn(e){return e.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const Kt=sr(/[A-Za-z]/),Ut=sr(/[\dA-Za-z]/),RI=sr(/[#-'*+\--9=?A-Z^-~]/);function Su(e){return e!==null&&(e<32||e===127)}const nm=sr(/\d/),_I=sr(/[\dA-Fa-f]/),LI=sr(/[!-/:-@[-`{-~]/);function we(e){return e!==null&&e<-2}function st(e){return e!==null&&(e<0||e===32)}function Ue(e){return e===-2||e===-1||e===32}const Bu=sr(new RegExp("\\p{P}|\\p{S}","u")),zr=sr(/\s/);function sr(e){return t;function t(n){return n!==null&&n>-1&&e.test(String.fromCharCode(n))}}function Ya(e){const t=[];let n=-1,r=0,o=0;for(;++n<e.length;){const l=e.charCodeAt(n);let u="";if(l===37&&Ut(e.charCodeAt(n+1))&&Ut(e.charCodeAt(n+2)))o=2;else if(l<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(l))||(u=String.fromCharCode(l));else if(l>55295&&l<57344){const f=e.charCodeAt(n+1);l<56320&&f>56319&&f<57344?(u=String.fromCharCode(l,f),o=1):u=""}else u=String.fromCharCode(l);u&&(t.push(e.slice(r,n),encodeURIComponent(u)),r=n+o+1,u=""),o&&(n+=o,o=0)}return t.join("")+e.slice(r)}function Ye(e,t,n,r){const o=r?r-1:Number.POSITIVE_INFINITY;let l=0;return u;function u(m){return Ue(m)?(e.enter(n),f(m)):t(m)}function f(m){return Ue(m)&&l++<o?(e.consume(m),f):(e.exit(n),t(m))}}const VI={tokenize:PI};function PI(e){const t=e.attempt(this.parser.constructs.contentInitial,r,o);let n;return t;function r(f){if(f===null){e.consume(f);return}return e.enter("lineEnding"),e.consume(f),e.exit("lineEnding"),Ye(e,t,"linePrefix")}function o(f){return e.enter("paragraph"),l(f)}function l(f){const m=e.enter("chunkText",{contentType:"text",previous:n});return n&&(n.next=m),n=m,u(f)}function u(f){if(f===null){e.exit("chunkText"),e.exit("paragraph"),e.consume(f);return}return we(f)?(e.consume(f),e.exit("chunkText"),l):(e.consume(f),u)}}const BI={tokenize:FI},Hx={tokenize:OI};function FI(e){const t=this,n=[];let r=0,o,l,u;return f;function f(I){if(r<n.length){const B=n[r];return t.containerState=B[1],e.attempt(B[0].continuation,m,d)(I)}return d(I)}function m(I){if(r++,t.containerState._closeFlow){t.containerState._closeFlow=void 0,o&&V();const B=t.events.length;let U=B,z;for(;U--;)if(t.events[U][0]==="exit"&&t.events[U][1].type==="chunkFlow"){z=t.events[U][1].end;break}k(r);let ie=B;for(;ie<t.events.length;)t.events[ie][1].end={...z},ie++;return vn(t.events,U+1,0,t.events.slice(B)),t.events.length=ie,d(I)}return f(I)}function d(I){if(r===n.length){if(!o)return T(I);if(o.currentConstruct&&o.currentConstruct.concrete)return w(I);t.interrupt=!!(o.currentConstruct&&!o._gfmTableDynamicInterruptHack)}return t.containerState={},e.check(Hx,h,y)(I)}function h(I){return o&&V(),k(r),T(I)}function y(I){return t.parser.lazy[t.now().line]=r!==n.length,u=t.now().offset,w(I)}function T(I){return t.containerState={},e.attempt(Hx,S,w)(I)}function S(I){return r++,n.push([t.currentConstruct,t.containerState]),T(I)}function w(I){if(I===null){o&&V(),k(0),e.consume(I);return}return o=o||t.parser.flow(t.now()),e.enter("chunkFlow",{_tokenizer:o,contentType:"flow",previous:l}),A(I)}function A(I){if(I===null){_(e.exit("chunkFlow"),!0),k(0),e.consume(I);return}return we(I)?(e.consume(I),_(e.exit("chunkFlow")),r=0,t.interrupt=void 0,f):(e.consume(I),A)}function _(I,B){const U=t.sliceStream(I);if(B&&U.push(null),I.previous=l,l&&(l.next=I),l=I,o.defineSkip(I.start),o.write(U),t.parser.lazy[I.start.line]){let z=o.events.length;for(;z--;)if(o.events[z][1].start.offset<u&&(!o.events[z][1].end||o.events[z][1].end.offset>u))return;const ie=t.events.length;let se=ie,ge,H;for(;se--;)if(t.events[se][0]==="exit"&&t.events[se][1].type==="chunkFlow"){if(ge){H=t.events[se][1].end;break}ge=!0}for(k(r),z=ie;z<t.events.length;)t.events[z][1].end={...H},z++;vn(t.events,se+1,0,t.events.slice(ie)),t.events.length=z}}function k(I){let B=n.length;for(;B-- >I;){const U=n[B];t.containerState=U[1],U[0].exit.call(t,e)}n.length=I}function V(){o.write([null]),l=void 0,o=void 0,t.containerState._closeFlow=void 0}}function OI(e,t,n){return Ye(e,e.attempt(this.parser.constructs.document,t,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function Ha(e){if(e===null||st(e)||zr(e))return 1;if(Bu(e))return 2}function Fu(e,t,n){const r=[];let o=-1;for(;++o<e.length;){const l=e[o].resolveAll;l&&!r.includes(l)&&(t=l(t,n),r.push(l))}return t}const im={name:"attention",resolveAll:jI,tokenize:zI};function jI(e,t){let n=-1,r,o,l,u,f,m,d,h;for(;++n<e.length;)if(e[n][0]==="enter"&&e[n][1].type==="attentionSequence"&&e[n][1]._close){for(r=n;r--;)if(e[r][0]==="exit"&&e[r][1].type==="attentionSequence"&&e[r][1]._open&&t.sliceSerialize(e[r][1]).charCodeAt(0)===t.sliceSerialize(e[n][1]).charCodeAt(0)){if((e[r][1]._close||e[n][1]._open)&&(e[n][1].end.offset-e[n][1].start.offset)%3&&!((e[r][1].end.offset-e[r][1].start.offset+e[n][1].end.offset-e[n][1].start.offset)%3))continue;m=e[r][1].end.offset-e[r][1].start.offset>1&&e[n][1].end.offset-e[n][1].start.offset>1?2:1;const y={...e[r][1].end},T={...e[n][1].start};Ux(y,-m),Ux(T,m),u={type:m>1?"strongSequence":"emphasisSequence",start:y,end:{...e[r][1].end}},f={type:m>1?"strongSequence":"emphasisSequence",start:{...e[n][1].start},end:T},l={type:m>1?"strongText":"emphasisText",start:{...e[r][1].end},end:{...e[n][1].start}},o={type:m>1?"strong":"emphasis",start:{...u.start},end:{...f.end}},e[r][1].end={...u.start},e[n][1].start={...f.end},d=[],e[r][1].end.offset-e[r][1].start.offset&&(d=_n(d,[["enter",e[r][1],t],["exit",e[r][1],t]])),d=_n(d,[["enter",o,t],["enter",u,t],["exit",u,t],["enter",l,t]]),d=_n(d,Fu(t.parser.constructs.insideSpan.null,e.slice(r+1,n),t)),d=_n(d,[["exit",l,t],["enter",f,t],["exit",f,t],["exit",o,t]]),e[n][1].end.offset-e[n][1].start.offset?(h=2,d=_n(d,[["enter",e[n][1],t],["exit",e[n][1],t]])):h=0,vn(e,r-1,n-r+3,d),n=r+d.length-h-2;break}}for(n=-1;++n<e.length;)e[n][1].type==="attentionSequence"&&(e[n][1].type="data");return e}function zI(e,t){const n=this.parser.constructs.attentionMarkers.null,r=this.previous,o=Ha(r);let l;return u;function u(m){return l=m,e.enter("attentionSequence"),f(m)}function f(m){if(m===l)return e.consume(m),f;const d=e.exit("attentionSequence"),h=Ha(m),y=!h||h===2&&o||n.includes(m),T=!o||o===2&&h||n.includes(r);return d._open=!!(l===42?y:y&&(o||!T)),d._close=!!(l===42?T:T&&(h||!y)),t(m)}}function Ux(e,t){e.column+=t,e.offset+=t,e._bufferIndex+=t}const HI={name:"autolink",tokenize:UI};function UI(e,t,n){let r=0;return o;function o(S){return e.enter("autolink"),e.enter("autolinkMarker"),e.consume(S),e.exit("autolinkMarker"),e.enter("autolinkProtocol"),l}function l(S){return Kt(S)?(e.consume(S),u):S===64?n(S):d(S)}function u(S){return S===43||S===45||S===46||Ut(S)?(r=1,f(S)):d(S)}function f(S){return S===58?(e.consume(S),r=0,m):(S===43||S===45||S===46||Ut(S))&&r++<32?(e.consume(S),f):(r=0,d(S))}function m(S){return S===62?(e.exit("autolinkProtocol"),e.enter("autolinkMarker"),e.consume(S),e.exit("autolinkMarker"),e.exit("autolink"),t):S===null||S===32||S===60||Su(S)?n(S):(e.consume(S),m)}function d(S){return S===64?(e.consume(S),h):RI(S)?(e.consume(S),d):n(S)}function h(S){return Ut(S)?y(S):n(S)}function y(S){return S===46?(e.consume(S),r=0,h):S===62?(e.exit("autolinkProtocol").type="autolinkEmail",e.enter("autolinkMarker"),e.consume(S),e.exit("autolinkMarker"),e.exit("autolink"),t):T(S)}function T(S){if((S===45||Ut(S))&&r++<63){const w=S===45?T:y;return e.consume(S),w}return n(S)}}const Ns={partial:!0,tokenize:GI};function GI(e,t,n){return r;function r(l){return Ue(l)?Ye(e,o,"linePrefix")(l):o(l)}function o(l){return l===null||we(l)?t(l):n(l)}}const w1={continuation:{tokenize:$I},exit:YI,name:"blockQuote",tokenize:qI};function qI(e,t,n){const r=this;return o;function o(u){if(u===62){const f=r.containerState;return f.open||(e.enter("blockQuote",{_container:!0}),f.open=!0),e.enter("blockQuotePrefix"),e.enter("blockQuoteMarker"),e.consume(u),e.exit("blockQuoteMarker"),l}return n(u)}function l(u){return Ue(u)?(e.enter("blockQuotePrefixWhitespace"),e.consume(u),e.exit("blockQuotePrefixWhitespace"),e.exit("blockQuotePrefix"),t):(e.exit("blockQuotePrefix"),t(u))}}function $I(e,t,n){const r=this;return o;function o(u){return Ue(u)?Ye(e,l,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(u):l(u)}function l(u){return e.attempt(w1,t,n)(u)}}function YI(e){e.exit("blockQuote")}const A1={name:"characterEscape",tokenize:KI};function KI(e,t,n){return r;function r(l){return e.enter("characterEscape"),e.enter("escapeMarker"),e.consume(l),e.exit("escapeMarker"),o}function o(l){return LI(l)?(e.enter("characterEscapeValue"),e.consume(l),e.exit("characterEscapeValue"),e.exit("characterEscape"),t):n(l)}}const E1={name:"characterReference",tokenize:XI};function XI(e,t,n){const r=this;let o=0,l,u;return f;function f(y){return e.enter("characterReference"),e.enter("characterReferenceMarker"),e.consume(y),e.exit("characterReferenceMarker"),m}function m(y){return y===35?(e.enter("characterReferenceMarkerNumeric"),e.consume(y),e.exit("characterReferenceMarkerNumeric"),d):(e.enter("characterReferenceValue"),l=31,u=Ut,h(y))}function d(y){return y===88||y===120?(e.enter("characterReferenceMarkerHexadecimal"),e.consume(y),e.exit("characterReferenceMarkerHexadecimal"),e.enter("characterReferenceValue"),l=6,u=_I,h):(e.enter("characterReferenceValue"),l=7,u=nm,h(y))}function h(y){if(y===59&&o){const T=e.exit("characterReferenceValue");return u===Ut&&!Om(r.sliceSerialize(T))?n(y):(e.enter("characterReferenceMarker"),e.consume(y),e.exit("characterReferenceMarker"),e.exit("characterReference"),t)}return u(y)&&o++<l?(e.consume(y),h):n(y)}}const Gx={partial:!0,tokenize:QI},qx={concrete:!0,name:"codeFenced",tokenize:WI};function WI(e,t,n){const r=this,o={partial:!0,tokenize:U};let l=0,u=0,f;return m;function m(z){return d(z)}function d(z){const ie=r.events[r.events.length-1];return l=ie&&ie[1].type==="linePrefix"?ie[2].sliceSerialize(ie[1],!0).length:0,f=z,e.enter("codeFenced"),e.enter("codeFencedFence"),e.enter("codeFencedFenceSequence"),h(z)}function h(z){return z===f?(u++,e.consume(z),h):u<3?n(z):(e.exit("codeFencedFenceSequence"),Ue(z)?Ye(e,y,"whitespace")(z):y(z))}function y(z){return z===null||we(z)?(e.exit("codeFencedFence"),r.interrupt?t(z):e.check(Gx,A,B)(z)):(e.enter("codeFencedFenceInfo"),e.enter("chunkString",{contentType:"string"}),T(z))}function T(z){return z===null||we(z)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),y(z)):Ue(z)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),Ye(e,S,"whitespace")(z)):z===96&&z===f?n(z):(e.consume(z),T)}function S(z){return z===null||we(z)?y(z):(e.enter("codeFencedFenceMeta"),e.enter("chunkString",{contentType:"string"}),w(z))}function w(z){return z===null||we(z)?(e.exit("chunkString"),e.exit("codeFencedFenceMeta"),y(z)):z===96&&z===f?n(z):(e.consume(z),w)}function A(z){return e.attempt(o,B,_)(z)}function _(z){return e.enter("lineEnding"),e.consume(z),e.exit("lineEnding"),k}function k(z){return l>0&&Ue(z)?Ye(e,V,"linePrefix",l+1)(z):V(z)}function V(z){return z===null||we(z)?e.check(Gx,A,B)(z):(e.enter("codeFlowValue"),I(z))}function I(z){return z===null||we(z)?(e.exit("codeFlowValue"),V(z)):(e.consume(z),I)}function B(z){return e.exit("codeFenced"),t(z)}function U(z,ie,se){let ge=0;return H;function H(Z){return z.enter("lineEnding"),z.consume(Z),z.exit("lineEnding"),ue}function ue(Z){return z.enter("codeFencedFence"),Ue(Z)?Ye(z,fe,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(Z):fe(Z)}function fe(Z){return Z===f?(z.enter("codeFencedFenceSequence"),he(Z)):se(Z)}function he(Z){return Z===f?(ge++,z.consume(Z),he):ge>=u?(z.exit("codeFencedFenceSequence"),Ue(Z)?Ye(z,le,"whitespace")(Z):le(Z)):se(Z)}function le(Z){return Z===null||we(Z)?(z.exit("codeFencedFence"),ie(Z)):se(Z)}}}function QI(e,t,n){const r=this;return o;function o(u){return u===null?n(u):(e.enter("lineEnding"),e.consume(u),e.exit("lineEnding"),l)}function l(u){return r.parser.lazy[r.now().line]?n(u):t(u)}}const dd={name:"codeIndented",tokenize:ZI},JI={partial:!0,tokenize:eN};function ZI(e,t,n){const r=this;return o;function o(d){return e.enter("codeIndented"),Ye(e,l,"linePrefix",5)(d)}function l(d){const h=r.events[r.events.length-1];return h&&h[1].type==="linePrefix"&&h[2].sliceSerialize(h[1],!0).length>=4?u(d):n(d)}function u(d){return d===null?m(d):we(d)?e.attempt(JI,u,m)(d):(e.enter("codeFlowValue"),f(d))}function f(d){return d===null||we(d)?(e.exit("codeFlowValue"),u(d)):(e.consume(d),f)}function m(d){return e.exit("codeIndented"),t(d)}}function eN(e,t,n){const r=this;return o;function o(u){return r.parser.lazy[r.now().line]?n(u):we(u)?(e.enter("lineEnding"),e.consume(u),e.exit("lineEnding"),o):Ye(e,l,"linePrefix",5)(u)}function l(u){const f=r.events[r.events.length-1];return f&&f[1].type==="linePrefix"&&f[2].sliceSerialize(f[1],!0).length>=4?t(u):we(u)?o(u):n(u)}}const tN={name:"codeText",previous:iN,resolve:nN,tokenize:rN};function nN(e){let t=e.length-4,n=3,r,o;if((e[n][1].type==="lineEnding"||e[n][1].type==="space")&&(e[t][1].type==="lineEnding"||e[t][1].type==="space")){for(r=n;++r<t;)if(e[r][1].type==="codeTextData"){e[n][1].type="codeTextPadding",e[t][1].type="codeTextPadding",n+=2,t-=2;break}}for(r=n-1,t++;++r<=t;)o===void 0?r!==t&&e[r][1].type!=="lineEnding"&&(o=r):(r===t||e[r][1].type==="lineEnding")&&(e[o][1].type="codeTextData",r!==o+2&&(e[o][1].end=e[r-1][1].end,e.splice(o+2,r-o-2),t-=r-o-2,r=o+2),o=void 0);return e}function iN(e){return e!==96||this.events[this.events.length-1][1].type==="characterEscape"}function rN(e,t,n){let r=0,o,l;return u;function u(y){return e.enter("codeText"),e.enter("codeTextSequence"),f(y)}function f(y){return y===96?(e.consume(y),r++,f):(e.exit("codeTextSequence"),m(y))}function m(y){return y===null?n(y):y===32?(e.enter("space"),e.consume(y),e.exit("space"),m):y===96?(l=e.enter("codeTextSequence"),o=0,h(y)):we(y)?(e.enter("lineEnding"),e.consume(y),e.exit("lineEnding"),m):(e.enter("codeTextData"),d(y))}function d(y){return y===null||y===32||y===96||we(y)?(e.exit("codeTextData"),m(y)):(e.consume(y),d)}function h(y){return y===96?(e.consume(y),o++,h):o===r?(e.exit("codeTextSequence"),e.exit("codeText"),t(y)):(l.type="codeTextData",d(y))}}class aN{constructor(t){this.left=t?[...t]:[],this.right=[]}get(t){if(t<0||t>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+t+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return t<this.left.length?this.left[t]:this.right[this.right.length-t+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(t,n){const r=n??Number.POSITIVE_INFINITY;return r<this.left.length?this.left.slice(t,r):t>this.left.length?this.right.slice(this.right.length-r+this.left.length,this.right.length-t+this.left.length).reverse():this.left.slice(t).concat(this.right.slice(this.right.length-r+this.left.length).reverse())}splice(t,n,r){const o=n||0;this.setCursor(Math.trunc(t));const l=this.right.splice(this.right.length-o,Number.POSITIVE_INFINITY);return r&&ts(this.left,r),l.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(t){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(t)}pushMany(t){this.setCursor(Number.POSITIVE_INFINITY),ts(this.left,t)}unshift(t){this.setCursor(0),this.right.push(t)}unshiftMany(t){this.setCursor(0),ts(this.right,t.reverse())}setCursor(t){if(!(t===this.left.length||t>this.left.length&&this.right.length===0||t<0&&this.left.length===0))if(t<this.left.length){const n=this.left.splice(t,Number.POSITIVE_INFINITY);ts(this.right,n.reverse())}else{const n=this.right.splice(this.left.length+this.right.length-t,Number.POSITIVE_INFINITY);ts(this.left,n.reverse())}}}function ts(e,t){let n=0;if(t.length<1e4)e.push(...t);else for(;n<t.length;)e.push(...t.slice(n,n+1e4)),n+=1e4}function D1(e){const t={};let n=-1,r,o,l,u,f,m,d;const h=new aN(e);for(;++n<h.length;){for(;n in t;)n=t[n];if(r=h.get(n),n&&r[1].type==="chunkFlow"&&h.get(n-1)[1].type==="listItemPrefix"&&(m=r[1]._tokenizer.events,l=0,l<m.length&&m[l][1].type==="lineEndingBlank"&&(l+=2),l<m.length&&m[l][1].type==="content"))for(;++l<m.length&&m[l][1].type!=="content";)m[l][1].type==="chunkText"&&(m[l][1]._isInFirstContentOfListItem=!0,l++);if(r[0]==="enter")r[1].contentType&&(Object.assign(t,oN(h,n)),n=t[n],d=!0);else if(r[1]._container){for(l=n,o=void 0;l--;)if(u=h.get(l),u[1].type==="lineEnding"||u[1].type==="lineEndingBlank")u[0]==="enter"&&(o&&(h.get(o)[1].type="lineEndingBlank"),u[1].type="lineEnding",o=l);else if(!(u[1].type==="linePrefix"||u[1].type==="listItemIndent"))break;o&&(r[1].end={...h.get(o)[1].start},f=h.slice(o,n),f.unshift(r),h.splice(o,n-o+1,f))}}return vn(e,0,Number.POSITIVE_INFINITY,h.slice(0)),!d}function oN(e,t){const n=e.get(t)[1],r=e.get(t)[2];let o=t-1;const l=[];let u=n._tokenizer;u||(u=r.parser[n.contentType](n.start),n._contentTypeTextTrailing&&(u._contentTypeTextTrailing=!0));const f=u.events,m=[],d={};let h,y,T=-1,S=n,w=0,A=0;const _=[A];for(;S;){for(;e.get(++o)[1]!==S;);l.push(o),S._tokenizer||(h=r.sliceStream(S),S.next||h.push(null),y&&u.defineSkip(S.start),S._isInFirstContentOfListItem&&(u._gfmTasklistFirstContentOfListItem=!0),u.write(h),S._isInFirstContentOfListItem&&(u._gfmTasklistFirstContentOfListItem=void 0)),y=S,S=S.next}for(S=n;++T<f.length;)f[T][0]==="exit"&&f[T-1][0]==="enter"&&f[T][1].type===f[T-1][1].type&&f[T][1].start.line!==f[T][1].end.line&&(A=T+1,_.push(A),S._tokenizer=void 0,S.previous=void 0,S=S.next);for(u.events=[],S?(S._tokenizer=void 0,S.previous=void 0):_.pop(),T=_.length;T--;){const k=f.slice(_[T],_[T+1]),V=l.pop();m.push([V,V+k.length-1]),e.splice(V,2,k)}for(m.reverse(),T=-1;++T<m.length;)d[w+m[T][0]]=w+m[T][1],w+=m[T][1]-m[T][0]-1;return d}const sN={resolve:uN,tokenize:cN},lN={partial:!0,tokenize:fN};function uN(e){return D1(e),e}function cN(e,t){let n;return r;function r(f){return e.enter("content"),n=e.enter("chunkContent",{contentType:"content"}),o(f)}function o(f){return f===null?l(f):we(f)?e.check(lN,u,l)(f):(e.consume(f),o)}function l(f){return e.exit("chunkContent"),e.exit("content"),t(f)}function u(f){return e.consume(f),e.exit("chunkContent"),n.next=e.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,o}}function fN(e,t,n){const r=this;return o;function o(u){return e.exit("chunkContent"),e.enter("lineEnding"),e.consume(u),e.exit("lineEnding"),Ye(e,l,"linePrefix")}function l(u){if(u===null||we(u))return n(u);const f=r.events[r.events.length-1];return!r.parser.constructs.disable.null.includes("codeIndented")&&f&&f[1].type==="linePrefix"&&f[2].sliceSerialize(f[1],!0).length>=4?t(u):e.interrupt(r.parser.constructs.flow,n,t)(u)}}function k1(e,t,n,r,o,l,u,f,m){const d=m||Number.POSITIVE_INFINITY;let h=0;return y;function y(k){return k===60?(e.enter(r),e.enter(o),e.enter(l),e.consume(k),e.exit(l),T):k===null||k===32||k===41||Su(k)?n(k):(e.enter(r),e.enter(u),e.enter(f),e.enter("chunkString",{contentType:"string"}),A(k))}function T(k){return k===62?(e.enter(l),e.consume(k),e.exit(l),e.exit(o),e.exit(r),t):(e.enter(f),e.enter("chunkString",{contentType:"string"}),S(k))}function S(k){return k===62?(e.exit("chunkString"),e.exit(f),T(k)):k===null||k===60||we(k)?n(k):(e.consume(k),k===92?w:S)}function w(k){return k===60||k===62||k===92?(e.consume(k),S):S(k)}function A(k){return!h&&(k===null||k===41||st(k))?(e.exit("chunkString"),e.exit(f),e.exit(u),e.exit(r),t(k)):h<d&&k===40?(e.consume(k),h++,A):k===41?(e.consume(k),h--,A):k===null||k===32||k===40||Su(k)?n(k):(e.consume(k),k===92?_:A)}function _(k){return k===40||k===41||k===92?(e.consume(k),A):A(k)}}function I1(e,t,n,r,o,l){const u=this;let f=0,m;return d;function d(S){return e.enter(r),e.enter(o),e.consume(S),e.exit(o),e.enter(l),h}function h(S){return f>999||S===null||S===91||S===93&&!m||S===94&&!f&&"_hiddenFootnoteSupport"in u.parser.constructs?n(S):S===93?(e.exit(l),e.enter(o),e.consume(S),e.exit(o),e.exit(r),t):we(S)?(e.enter("lineEnding"),e.consume(S),e.exit("lineEnding"),h):(e.enter("chunkString",{contentType:"string"}),y(S))}function y(S){return S===null||S===91||S===93||we(S)||f++>999?(e.exit("chunkString"),h(S)):(e.consume(S),m||(m=!Ue(S)),S===92?T:y)}function T(S){return S===91||S===92||S===93?(e.consume(S),f++,y):y(S)}}function N1(e,t,n,r,o,l){let u;return f;function f(T){return T===34||T===39||T===40?(e.enter(r),e.enter(o),e.consume(T),e.exit(o),u=T===40?41:T,m):n(T)}function m(T){return T===u?(e.enter(o),e.consume(T),e.exit(o),e.exit(r),t):(e.enter(l),d(T))}function d(T){return T===u?(e.exit(l),m(u)):T===null?n(T):we(T)?(e.enter("lineEnding"),e.consume(T),e.exit("lineEnding"),Ye(e,d,"linePrefix")):(e.enter("chunkString",{contentType:"string"}),h(T))}function h(T){return T===u||T===null||we(T)?(e.exit("chunkString"),d(T)):(e.consume(T),T===92?y:h)}function y(T){return T===u||T===92?(e.consume(T),h):h(T)}}function us(e,t){let n;return r;function r(o){return we(o)?(e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),n=!0,r):Ue(o)?Ye(e,r,n?"linePrefix":"lineSuffix")(o):t(o)}}const dN={name:"definition",tokenize:hN},mN={partial:!0,tokenize:pN};function hN(e,t,n){const r=this;let o;return l;function l(S){return e.enter("definition"),u(S)}function u(S){return I1.call(r,e,f,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(S)}function f(S){return o=Gn(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)),S===58?(e.enter("definitionMarker"),e.consume(S),e.exit("definitionMarker"),m):n(S)}function m(S){return st(S)?us(e,d)(S):d(S)}function d(S){return k1(e,h,n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(S)}function h(S){return e.attempt(mN,y,y)(S)}function y(S){return Ue(S)?Ye(e,T,"whitespace")(S):T(S)}function T(S){return S===null||we(S)?(e.exit("definition"),r.parser.defined.push(o),t(S)):n(S)}}function pN(e,t,n){return r;function r(f){return st(f)?us(e,o)(f):n(f)}function o(f){return N1(e,l,n,"definitionTitle","definitionTitleMarker","definitionTitleString")(f)}function l(f){return Ue(f)?Ye(e,u,"whitespace")(f):u(f)}function u(f){return f===null||we(f)?t(f):n(f)}}const gN={name:"hardBreakEscape",tokenize:yN};function yN(e,t,n){return r;function r(l){return e.enter("hardBreakEscape"),e.consume(l),o}function o(l){return we(l)?(e.exit("hardBreakEscape"),t(l)):n(l)}}const xN={name:"headingAtx",resolve:vN,tokenize:bN};function vN(e,t){let n=e.length-2,r=3,o,l;return e[r][1].type==="whitespace"&&(r+=2),n-2>r&&e[n][1].type==="whitespace"&&(n-=2),e[n][1].type==="atxHeadingSequence"&&(r===n-1||n-4>r&&e[n-2][1].type==="whitespace")&&(n-=r+1===n?2:4),n>r&&(o={type:"atxHeadingText",start:e[r][1].start,end:e[n][1].end},l={type:"chunkText",start:e[r][1].start,end:e[n][1].end,contentType:"text"},vn(e,r,n-r+1,[["enter",o,t],["enter",l,t],["exit",l,t],["exit",o,t]])),e}function bN(e,t,n){let r=0;return o;function o(h){return e.enter("atxHeading"),l(h)}function l(h){return e.enter("atxHeadingSequence"),u(h)}function u(h){return h===35&&r++<6?(e.consume(h),u):h===null||st(h)?(e.exit("atxHeadingSequence"),f(h)):n(h)}function f(h){return h===35?(e.enter("atxHeadingSequence"),m(h)):h===null||we(h)?(e.exit("atxHeading"),t(h)):Ue(h)?Ye(e,f,"whitespace")(h):(e.enter("atxHeadingText"),d(h))}function m(h){return h===35?(e.consume(h),m):(e.exit("atxHeadingSequence"),f(h))}function d(h){return h===null||h===35||st(h)?(e.exit("atxHeadingText"),f(h)):(e.consume(h),d)}}const TN=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],$x=["pre","script","style","textarea"],SN={concrete:!0,name:"htmlFlow",resolveTo:wN,tokenize:AN},CN={partial:!0,tokenize:DN},MN={partial:!0,tokenize:EN};function wN(e){let t=e.length;for(;t--&&!(e[t][0]==="enter"&&e[t][1].type==="htmlFlow"););return t>1&&e[t-2][1].type==="linePrefix"&&(e[t][1].start=e[t-2][1].start,e[t+1][1].start=e[t-2][1].start,e.splice(t-2,2)),e}function AN(e,t,n){const r=this;let o,l,u,f,m;return d;function d(E){return h(E)}function h(E){return e.enter("htmlFlow"),e.enter("htmlFlowData"),e.consume(E),y}function y(E){return E===33?(e.consume(E),T):E===47?(e.consume(E),l=!0,A):E===63?(e.consume(E),o=3,r.interrupt?t:C):Kt(E)?(e.consume(E),u=String.fromCharCode(E),_):n(E)}function T(E){return E===45?(e.consume(E),o=2,S):E===91?(e.consume(E),o=5,f=0,w):Kt(E)?(e.consume(E),o=4,r.interrupt?t:C):n(E)}function S(E){return E===45?(e.consume(E),r.interrupt?t:C):n(E)}function w(E){const ee="CDATA[";return E===ee.charCodeAt(f++)?(e.consume(E),f===ee.length?r.interrupt?t:fe:w):n(E)}function A(E){return Kt(E)?(e.consume(E),u=String.fromCharCode(E),_):n(E)}function _(E){if(E===null||E===47||E===62||st(E)){const ee=E===47,O=u.toLowerCase();return!ee&&!l&&$x.includes(O)?(o=1,r.interrupt?t(E):fe(E)):TN.includes(u.toLowerCase())?(o=6,ee?(e.consume(E),k):r.interrupt?t(E):fe(E)):(o=7,r.interrupt&&!r.parser.lazy[r.now().line]?n(E):l?V(E):I(E))}return E===45||Ut(E)?(e.consume(E),u+=String.fromCharCode(E),_):n(E)}function k(E){return E===62?(e.consume(E),r.interrupt?t:fe):n(E)}function V(E){return Ue(E)?(e.consume(E),V):H(E)}function I(E){return E===47?(e.consume(E),H):E===58||E===95||Kt(E)?(e.consume(E),B):Ue(E)?(e.consume(E),I):H(E)}function B(E){return E===45||E===46||E===58||E===95||Ut(E)?(e.consume(E),B):U(E)}function U(E){return E===61?(e.consume(E),z):Ue(E)?(e.consume(E),U):I(E)}function z(E){return E===null||E===60||E===61||E===62||E===96?n(E):E===34||E===39?(e.consume(E),m=E,ie):Ue(E)?(e.consume(E),z):se(E)}function ie(E){return E===m?(e.consume(E),m=null,ge):E===null||we(E)?n(E):(e.consume(E),ie)}function se(E){return E===null||E===34||E===39||E===47||E===60||E===61||E===62||E===96||st(E)?U(E):(e.consume(E),se)}function ge(E){return E===47||E===62||Ue(E)?I(E):n(E)}function H(E){return E===62?(e.consume(E),ue):n(E)}function ue(E){return E===null||we(E)?fe(E):Ue(E)?(e.consume(E),ue):n(E)}function fe(E){return E===45&&o===2?(e.consume(E),$):E===60&&o===1?(e.consume(E),F):E===62&&o===4?(e.consume(E),P):E===63&&o===3?(e.consume(E),C):E===93&&o===5?(e.consume(E),R):we(E)&&(o===6||o===7)?(e.exit("htmlFlowData"),e.check(CN,G,he)(E)):E===null||we(E)?(e.exit("htmlFlowData"),he(E)):(e.consume(E),fe)}function he(E){return e.check(MN,le,G)(E)}function le(E){return e.enter("lineEnding"),e.consume(E),e.exit("lineEnding"),Z}function Z(E){return E===null||we(E)?he(E):(e.enter("htmlFlowData"),fe(E))}function $(E){return E===45?(e.consume(E),C):fe(E)}function F(E){return E===47?(e.consume(E),u="",N):fe(E)}function N(E){if(E===62){const ee=u.toLowerCase();return $x.includes(ee)?(e.consume(E),P):fe(E)}return Kt(E)&&u.length<8?(e.consume(E),u+=String.fromCharCode(E),N):fe(E)}function R(E){return E===93?(e.consume(E),C):fe(E)}function C(E){return E===62?(e.consume(E),P):E===45&&o===2?(e.consume(E),C):fe(E)}function P(E){return E===null||we(E)?(e.exit("htmlFlowData"),G(E)):(e.consume(E),P)}function G(E){return e.exit("htmlFlow"),t(E)}}function EN(e,t,n){const r=this;return o;function o(u){return we(u)?(e.enter("lineEnding"),e.consume(u),e.exit("lineEnding"),l):n(u)}function l(u){return r.parser.lazy[r.now().line]?n(u):t(u)}}function DN(e,t,n){return r;function r(o){return e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),e.attempt(Ns,t,n)}}const kN={name:"htmlText",tokenize:IN};function IN(e,t,n){const r=this;let o,l,u;return f;function f(C){return e.enter("htmlText"),e.enter("htmlTextData"),e.consume(C),m}function m(C){return C===33?(e.consume(C),d):C===47?(e.consume(C),U):C===63?(e.consume(C),I):Kt(C)?(e.consume(C),se):n(C)}function d(C){return C===45?(e.consume(C),h):C===91?(e.consume(C),l=0,w):Kt(C)?(e.consume(C),V):n(C)}function h(C){return C===45?(e.consume(C),S):n(C)}function y(C){return C===null?n(C):C===45?(e.consume(C),T):we(C)?(u=y,F(C)):(e.consume(C),y)}function T(C){return C===45?(e.consume(C),S):y(C)}function S(C){return C===62?$(C):C===45?T(C):y(C)}function w(C){const P="CDATA[";return C===P.charCodeAt(l++)?(e.consume(C),l===P.length?A:w):n(C)}function A(C){return C===null?n(C):C===93?(e.consume(C),_):we(C)?(u=A,F(C)):(e.consume(C),A)}function _(C){return C===93?(e.consume(C),k):A(C)}function k(C){return C===62?$(C):C===93?(e.consume(C),k):A(C)}function V(C){return C===null||C===62?$(C):we(C)?(u=V,F(C)):(e.consume(C),V)}function I(C){return C===null?n(C):C===63?(e.consume(C),B):we(C)?(u=I,F(C)):(e.consume(C),I)}function B(C){return C===62?$(C):I(C)}function U(C){return Kt(C)?(e.consume(C),z):n(C)}function z(C){return C===45||Ut(C)?(e.consume(C),z):ie(C)}function ie(C){return we(C)?(u=ie,F(C)):Ue(C)?(e.consume(C),ie):$(C)}function se(C){return C===45||Ut(C)?(e.consume(C),se):C===47||C===62||st(C)?ge(C):n(C)}function ge(C){return C===47?(e.consume(C),$):C===58||C===95||Kt(C)?(e.consume(C),H):we(C)?(u=ge,F(C)):Ue(C)?(e.consume(C),ge):$(C)}function H(C){return C===45||C===46||C===58||C===95||Ut(C)?(e.consume(C),H):ue(C)}function ue(C){return C===61?(e.consume(C),fe):we(C)?(u=ue,F(C)):Ue(C)?(e.consume(C),ue):ge(C)}function fe(C){return C===null||C===60||C===61||C===62||C===96?n(C):C===34||C===39?(e.consume(C),o=C,he):we(C)?(u=fe,F(C)):Ue(C)?(e.consume(C),fe):(e.consume(C),le)}function he(C){return C===o?(e.consume(C),o=void 0,Z):C===null?n(C):we(C)?(u=he,F(C)):(e.consume(C),he)}function le(C){return C===null||C===34||C===39||C===60||C===61||C===96?n(C):C===47||C===62||st(C)?ge(C):(e.consume(C),le)}function Z(C){return C===47||C===62||st(C)?ge(C):n(C)}function $(C){return C===62?(e.consume(C),e.exit("htmlTextData"),e.exit("htmlText"),t):n(C)}function F(C){return e.exit("htmlTextData"),e.enter("lineEnding"),e.consume(C),e.exit("lineEnding"),N}function N(C){return Ue(C)?Ye(e,R,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(C):R(C)}function R(C){return e.enter("htmlTextData"),u(C)}}const jm={name:"labelEnd",resolveAll:LN,resolveTo:VN,tokenize:PN},NN={tokenize:BN},RN={tokenize:FN},_N={tokenize:ON};function LN(e){let t=-1;const n=[];for(;++t<e.length;){const r=e[t][1];if(n.push(e[t]),r.type==="labelImage"||r.type==="labelLink"||r.type==="labelEnd"){const o=r.type==="labelImage"?4:2;r.type="data",t+=o}}return e.length!==n.length&&vn(e,0,e.length,n),e}function VN(e,t){let n=e.length,r=0,o,l,u,f;for(;n--;)if(o=e[n][1],l){if(o.type==="link"||o.type==="labelLink"&&o._inactive)break;e[n][0]==="enter"&&o.type==="labelLink"&&(o._inactive=!0)}else if(u){if(e[n][0]==="enter"&&(o.type==="labelImage"||o.type==="labelLink")&&!o._balanced&&(l=n,o.type!=="labelLink")){r=2;break}}else o.type==="labelEnd"&&(u=n);const m={type:e[l][1].type==="labelLink"?"link":"image",start:{...e[l][1].start},end:{...e[e.length-1][1].end}},d={type:"label",start:{...e[l][1].start},end:{...e[u][1].end}},h={type:"labelText",start:{...e[l+r+2][1].end},end:{...e[u-2][1].start}};return f=[["enter",m,t],["enter",d,t]],f=_n(f,e.slice(l+1,l+r+3)),f=_n(f,[["enter",h,t]]),f=_n(f,Fu(t.parser.constructs.insideSpan.null,e.slice(l+r+4,u-3),t)),f=_n(f,[["exit",h,t],e[u-2],e[u-1],["exit",d,t]]),f=_n(f,e.slice(u+1)),f=_n(f,[["exit",m,t]]),vn(e,l,e.length,f),e}function PN(e,t,n){const r=this;let o=r.events.length,l,u;for(;o--;)if((r.events[o][1].type==="labelImage"||r.events[o][1].type==="labelLink")&&!r.events[o][1]._balanced){l=r.events[o][1];break}return f;function f(T){return l?l._inactive?y(T):(u=r.parser.defined.includes(Gn(r.sliceSerialize({start:l.end,end:r.now()}))),e.enter("labelEnd"),e.enter("labelMarker"),e.consume(T),e.exit("labelMarker"),e.exit("labelEnd"),m):n(T)}function m(T){return T===40?e.attempt(NN,h,u?h:y)(T):T===91?e.attempt(RN,h,u?d:y)(T):u?h(T):y(T)}function d(T){return e.attempt(_N,h,y)(T)}function h(T){return t(T)}function y(T){return l._balanced=!0,n(T)}}function BN(e,t,n){return r;function r(y){return e.enter("resource"),e.enter("resourceMarker"),e.consume(y),e.exit("resourceMarker"),o}function o(y){return st(y)?us(e,l)(y):l(y)}function l(y){return y===41?h(y):k1(e,u,f,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(y)}function u(y){return st(y)?us(e,m)(y):h(y)}function f(y){return n(y)}function m(y){return y===34||y===39||y===40?N1(e,d,n,"resourceTitle","resourceTitleMarker","resourceTitleString")(y):h(y)}function d(y){return st(y)?us(e,h)(y):h(y)}function h(y){return y===41?(e.enter("resourceMarker"),e.consume(y),e.exit("resourceMarker"),e.exit("resource"),t):n(y)}}function FN(e,t,n){const r=this;return o;function o(f){return I1.call(r,e,l,u,"reference","referenceMarker","referenceString")(f)}function l(f){return r.parser.defined.includes(Gn(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)))?t(f):n(f)}function u(f){return n(f)}}function ON(e,t,n){return r;function r(l){return e.enter("reference"),e.enter("referenceMarker"),e.consume(l),e.exit("referenceMarker"),o}function o(l){return l===93?(e.enter("referenceMarker"),e.consume(l),e.exit("referenceMarker"),e.exit("reference"),t):n(l)}}const jN={name:"labelStartImage",resolveAll:jm.resolveAll,tokenize:zN};function zN(e,t,n){const r=this;return o;function o(f){return e.enter("labelImage"),e.enter("labelImageMarker"),e.consume(f),e.exit("labelImageMarker"),l}function l(f){return f===91?(e.enter("labelMarker"),e.consume(f),e.exit("labelMarker"),e.exit("labelImage"),u):n(f)}function u(f){return f===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(f):t(f)}}const HN={name:"labelStartLink",resolveAll:jm.resolveAll,tokenize:UN};function UN(e,t,n){const r=this;return o;function o(u){return e.enter("labelLink"),e.enter("labelMarker"),e.consume(u),e.exit("labelMarker"),e.exit("labelLink"),l}function l(u){return u===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(u):t(u)}}const md={name:"lineEnding",tokenize:GN};function GN(e,t){return n;function n(r){return e.enter("lineEnding"),e.consume(r),e.exit("lineEnding"),Ye(e,t,"linePrefix")}}const mu={name:"thematicBreak",tokenize:qN};function qN(e,t,n){let r=0,o;return l;function l(d){return e.enter("thematicBreak"),u(d)}function u(d){return o=d,f(d)}function f(d){return d===o?(e.enter("thematicBreakSequence"),m(d)):r>=3&&(d===null||we(d))?(e.exit("thematicBreak"),t(d)):n(d)}function m(d){return d===o?(e.consume(d),r++,m):(e.exit("thematicBreakSequence"),Ue(d)?Ye(e,f,"whitespace")(d):f(d))}}const an={continuation:{tokenize:XN},exit:QN,name:"list",tokenize:KN},$N={partial:!0,tokenize:JN},YN={partial:!0,tokenize:WN};function KN(e,t,n){const r=this,o=r.events[r.events.length-1];let l=o&&o[1].type==="linePrefix"?o[2].sliceSerialize(o[1],!0).length:0,u=0;return f;function f(S){const w=r.containerState.type||(S===42||S===43||S===45?"listUnordered":"listOrdered");if(w==="listUnordered"?!r.containerState.marker||S===r.containerState.marker:nm(S)){if(r.containerState.type||(r.containerState.type=w,e.enter(w,{_container:!0})),w==="listUnordered")return e.enter("listItemPrefix"),S===42||S===45?e.check(mu,n,d)(S):d(S);if(!r.interrupt||S===49)return e.enter("listItemPrefix"),e.enter("listItemValue"),m(S)}return n(S)}function m(S){return nm(S)&&++u<10?(e.consume(S),m):(!r.interrupt||u<2)&&(r.containerState.marker?S===r.containerState.marker:S===41||S===46)?(e.exit("listItemValue"),d(S)):n(S)}function d(S){return e.enter("listItemMarker"),e.consume(S),e.exit("listItemMarker"),r.containerState.marker=r.containerState.marker||S,e.check(Ns,r.interrupt?n:h,e.attempt($N,T,y))}function h(S){return r.containerState.initialBlankLine=!0,l++,T(S)}function y(S){return Ue(S)?(e.enter("listItemPrefixWhitespace"),e.consume(S),e.exit("listItemPrefixWhitespace"),T):n(S)}function T(S){return r.containerState.size=l+r.sliceSerialize(e.exit("listItemPrefix"),!0).length,t(S)}}function XN(e,t,n){const r=this;return r.containerState._closeFlow=void 0,e.check(Ns,o,l);function o(f){return r.containerState.furtherBlankLines=r.containerState.furtherBlankLines||r.containerState.initialBlankLine,Ye(e,t,"listItemIndent",r.containerState.size+1)(f)}function l(f){return r.containerState.furtherBlankLines||!Ue(f)?(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,u(f)):(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,e.attempt(YN,t,u)(f))}function u(f){return r.containerState._closeFlow=!0,r.interrupt=void 0,Ye(e,e.attempt(an,t,n),"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(f)}}function WN(e,t,n){const r=this;return Ye(e,o,"listItemIndent",r.containerState.size+1);function o(l){const u=r.events[r.events.length-1];return u&&u[1].type==="listItemIndent"&&u[2].sliceSerialize(u[1],!0).length===r.containerState.size?t(l):n(l)}}function QN(e){e.exit(this.containerState.type)}function JN(e,t,n){const r=this;return Ye(e,o,"listItemPrefixWhitespace",r.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function o(l){const u=r.events[r.events.length-1];return!Ue(l)&&u&&u[1].type==="listItemPrefixWhitespace"?t(l):n(l)}}const Yx={name:"setextUnderline",resolveTo:ZN,tokenize:eR};function ZN(e,t){let n=e.length,r,o,l;for(;n--;)if(e[n][0]==="enter"){if(e[n][1].type==="content"){r=n;break}e[n][1].type==="paragraph"&&(o=n)}else e[n][1].type==="content"&&e.splice(n,1),!l&&e[n][1].type==="definition"&&(l=n);const u={type:"setextHeading",start:{...e[r][1].start},end:{...e[e.length-1][1].end}};return e[o][1].type="setextHeadingText",l?(e.splice(o,0,["enter",u,t]),e.splice(l+1,0,["exit",e[r][1],t]),e[r][1].end={...e[l][1].end}):e[r][1]=u,e.push(["exit",u,t]),e}function eR(e,t,n){const r=this;let o;return l;function l(d){let h=r.events.length,y;for(;h--;)if(r.events[h][1].type!=="lineEnding"&&r.events[h][1].type!=="linePrefix"&&r.events[h][1].type!=="content"){y=r.events[h][1].type==="paragraph";break}return!r.parser.lazy[r.now().line]&&(r.interrupt||y)?(e.enter("setextHeadingLine"),o=d,u(d)):n(d)}function u(d){return e.enter("setextHeadingLineSequence"),f(d)}function f(d){return d===o?(e.consume(d),f):(e.exit("setextHeadingLineSequence"),Ue(d)?Ye(e,m,"lineSuffix")(d):m(d))}function m(d){return d===null||we(d)?(e.exit("setextHeadingLine"),t(d)):n(d)}}const tR={tokenize:nR};function nR(e){const t=this,n=e.attempt(Ns,r,e.attempt(this.parser.constructs.flowInitial,o,Ye(e,e.attempt(this.parser.constructs.flow,o,e.attempt(sN,o)),"linePrefix")));return n;function r(l){if(l===null){e.consume(l);return}return e.enter("lineEndingBlank"),e.consume(l),e.exit("lineEndingBlank"),t.currentConstruct=void 0,n}function o(l){if(l===null){e.consume(l);return}return e.enter("lineEnding"),e.consume(l),e.exit("lineEnding"),t.currentConstruct=void 0,n}}const iR={resolveAll:_1()},rR=R1("string"),aR=R1("text");function R1(e){return{resolveAll:_1(e==="text"?oR:void 0),tokenize:t};function t(n){const r=this,o=this.parser.constructs[e],l=n.attempt(o,u,f);return u;function u(h){return d(h)?l(h):f(h)}function f(h){if(h===null){n.consume(h);return}return n.enter("data"),n.consume(h),m}function m(h){return d(h)?(n.exit("data"),l(h)):(n.consume(h),m)}function d(h){if(h===null)return!0;const y=o[h];let T=-1;if(y)for(;++T<y.length;){const S=y[T];if(!S.previous||S.previous.call(r,r.previous))return!0}return!1}}}function _1(e){return t;function t(n,r){let o=-1,l;for(;++o<=n.length;)l===void 0?n[o]&&n[o][1].type==="data"&&(l=o,o++):(!n[o]||n[o][1].type!=="data")&&(o!==l+2&&(n[l][1].end=n[o-1][1].end,n.splice(l+2,o-l-2),o=l+2),l=void 0);return e?e(n,r):n}}function oR(e,t){let n=0;for(;++n<=e.length;)if((n===e.length||e[n][1].type==="lineEnding")&&e[n-1][1].type==="data"){const r=e[n-1][1],o=t.sliceStream(r);let l=o.length,u=-1,f=0,m;for(;l--;){const d=o[l];if(typeof d=="string"){for(u=d.length;d.charCodeAt(u-1)===32;)f++,u--;if(u)break;u=-1}else if(d===-2)m=!0,f++;else if(d!==-1){l++;break}}if(t._contentTypeTextTrailing&&n===e.length&&(f=0),f){const d={type:n===e.length||m||f<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:l?u:r.start._bufferIndex+u,_index:r.start._index+l,line:r.end.line,column:r.end.column-f,offset:r.end.offset-f},end:{...r.end}};r.end={...d.start},r.start.offset===r.end.offset?Object.assign(r,d):(e.splice(n,0,["enter",d,t],["exit",d,t]),n+=2)}n++}return e}const sR={42:an,43:an,45:an,48:an,49:an,50:an,51:an,52:an,53:an,54:an,55:an,56:an,57:an,62:w1},lR={91:dN},uR={[-2]:dd,[-1]:dd,32:dd},cR={35:xN,42:mu,45:[Yx,mu],60:SN,61:Yx,95:mu,96:qx,126:qx},fR={38:E1,92:A1},dR={[-5]:md,[-4]:md,[-3]:md,33:jN,38:E1,42:im,60:[HI,kN],91:HN,92:[gN,A1],93:jm,95:im,96:tN},mR={null:[im,iR]},hR={null:[42,95]},pR={null:[]},gR=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:hR,contentInitial:lR,disable:pR,document:sR,flow:cR,flowInitial:uR,insideSpan:mR,string:fR,text:dR},Symbol.toStringTag,{value:"Module"}));function yR(e,t,n){let r={_bufferIndex:-1,_index:0,line:n&&n.line||1,column:n&&n.column||1,offset:n&&n.offset||0};const o={},l=[];let u=[],f=[];const m={attempt:ie(U),check:ie(z),consume:V,enter:I,exit:B,interrupt:ie(z,{interrupt:!0})},d={code:null,containerState:{},defineSkip:A,events:[],now:w,parser:e,previous:null,sliceSerialize:T,sliceStream:S,write:y};let h=t.tokenize.call(d,m);return t.resolveAll&&l.push(t),d;function y(ue){return u=_n(u,ue),_(),u[u.length-1]!==null?[]:(se(t,0),d.events=Fu(l,d.events,d),d.events)}function T(ue,fe){return vR(S(ue),fe)}function S(ue){return xR(u,ue)}function w(){const{_bufferIndex:ue,_index:fe,line:he,column:le,offset:Z}=r;return{_bufferIndex:ue,_index:fe,line:he,column:le,offset:Z}}function A(ue){o[ue.line]=ue.column,H()}function _(){let ue;for(;r._index<u.length;){const fe=u[r._index];if(typeof fe=="string")for(ue=r._index,r._bufferIndex<0&&(r._bufferIndex=0);r._index===ue&&r._bufferIndex<fe.length;)k(fe.charCodeAt(r._bufferIndex));else k(fe)}}function k(ue){h=h(ue)}function V(ue){we(ue)?(r.line++,r.column=1,r.offset+=ue===-3?2:1,H()):ue!==-1&&(r.column++,r.offset++),r._bufferIndex<0?r._index++:(r._bufferIndex++,r._bufferIndex===u[r._index].length&&(r._bufferIndex=-1,r._index++)),d.previous=ue}function I(ue,fe){const he=fe||{};return he.type=ue,he.start=w(),d.events.push(["enter",he,d]),f.push(he),he}function B(ue){const fe=f.pop();return fe.end=w(),d.events.push(["exit",fe,d]),fe}function U(ue,fe){se(ue,fe.from)}function z(ue,fe){fe.restore()}function ie(ue,fe){return he;function he(le,Z,$){let F,N,R,C;return Array.isArray(le)?G(le):"tokenize"in le?G([le]):P(le);function P(J){return ye;function ye(pe){const be=pe!==null&&J[pe],_e=pe!==null&&J.null,Ie=[...Array.isArray(be)?be:be?[be]:[],...Array.isArray(_e)?_e:_e?[_e]:[]];return G(Ie)(pe)}}function G(J){return F=J,N=0,J.length===0?$:E(J[N])}function E(J){return ye;function ye(pe){return C=ge(),R=J,J.partial||(d.currentConstruct=J),J.name&&d.parser.constructs.disable.null.includes(J.name)?O():J.tokenize.call(fe?Object.assign(Object.create(d),fe):d,m,ee,O)(pe)}}function ee(J){return ue(R,C),Z}function O(J){return C.restore(),++N<F.length?E(F[N]):$}}}function se(ue,fe){ue.resolveAll&&!l.includes(ue)&&l.push(ue),ue.resolve&&vn(d.events,fe,d.events.length-fe,ue.resolve(d.events.slice(fe),d)),ue.resolveTo&&(d.events=ue.resolveTo(d.events,d))}function ge(){const ue=w(),fe=d.previous,he=d.currentConstruct,le=d.events.length,Z=Array.from(f);return{from:le,restore:$};function $(){r=ue,d.previous=fe,d.currentConstruct=he,d.events.length=le,f=Z,H()}}function H(){r.line in o&&r.column<2&&(r.column=o[r.line],r.offset+=o[r.line]-1)}}function xR(e,t){const n=t.start._index,r=t.start._bufferIndex,o=t.end._index,l=t.end._bufferIndex;let u;if(n===o)u=[e[n].slice(r,l)];else{if(u=e.slice(n,o),r>-1){const f=u[0];typeof f=="string"?u[0]=f.slice(r):u.shift()}l>0&&u.push(e[o].slice(0,l))}return u}function vR(e,t){let n=-1;const r=[];let o;for(;++n<e.length;){const l=e[n];let u;if(typeof l=="string")u=l;else switch(l){case-5:{u="\r";break}case-4:{u=`
`;break}case-3:{u=`\r
`;break}case-2:{u=t?" ":"	";break}case-1:{if(!t&&o)continue;u=" ";break}default:u=String.fromCharCode(l)}o=l===-2,r.push(u)}return r.join("")}function bR(e){const r={constructs:C1([gR,...(e||{}).extensions||[]]),content:o(VI),defined:[],document:o(BI),flow:o(tR),lazy:{},string:o(rR),text:o(aR)};return r;function o(l){return u;function u(f){return yR(r,l,f)}}}function TR(e){for(;!D1(e););return e}const Kx=/[\0\t\n\r]/g;function SR(){let e=1,t="",n=!0,r;return o;function o(l,u,f){const m=[];let d,h,y,T,S;for(l=t+(typeof l=="string"?l.toString():new TextDecoder(u||void 0).decode(l)),y=0,t="",n&&(l.charCodeAt(0)===65279&&y++,n=void 0);y<l.length;){if(Kx.lastIndex=y,d=Kx.exec(l),T=d&&d.index!==void 0?d.index:l.length,S=l.charCodeAt(T),!d){t=l.slice(y);break}if(S===10&&y===T&&r)m.push(-3),r=void 0;else switch(r&&(m.push(-5),r=void 0),y<T&&(m.push(l.slice(y,T)),e+=T-y),S){case 0:{m.push(65533),e++;break}case 9:{for(h=Math.ceil(e/4)*4,m.push(-2);e++<h;)m.push(-1);break}case 10:{m.push(-4),e=1;break}default:r=!0,e=1}y=T+1}return f&&(r&&m.push(-5),t&&m.push(t),m.push(null)),m}}const CR=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function MR(e){return e.replace(CR,wR)}function wR(e,t,n){if(t)return t;if(n.charCodeAt(0)===35){const o=n.charCodeAt(1),l=o===120||o===88;return M1(n.slice(l?2:1),l?16:10)}return Om(n)||e}const L1={}.hasOwnProperty;function AR(e,t,n){return typeof t!="string"&&(n=t,t=void 0),ER(n)(TR(bR(n).document().write(SR()(e,t,!0))))}function ER(e){const t={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:l(ur),autolinkProtocol:ge,autolinkEmail:ge,atxHeading:l(tt),blockQuote:l(_e),characterEscape:ge,characterReference:ge,codeFenced:l(Ie),codeFencedFenceInfo:u,codeFencedFenceMeta:u,codeIndented:l(Ie,u),codeText:l(Ge,u),codeTextData:ge,data:ge,codeFlowValue:ge,definition:l(Le),definitionDestinationString:u,definitionLabelString:u,definitionTitleString:u,emphasis:l(Me),hardBreakEscape:l(nt),hardBreakTrailing:l(nt),htmlFlow:l(xt,u),htmlFlowData:ge,htmlText:l(xt,u),htmlTextData:ge,image:l(Ur),label:u,link:l(ur),listItem:l(ii),listItemValue:T,listOrdered:l(Mi,y),listUnordered:l(Mi),paragraph:l(Gr),reference:E,referenceString:u,resourceDestinationString:u,resourceTitleString:u,setextHeading:l(tt),strong:l(It),thematicBreak:l(qr)},exit:{atxHeading:m(),atxHeadingSequence:U,autolink:m(),autolinkEmail:be,autolinkProtocol:pe,blockQuote:m(),characterEscapeValue:H,characterReferenceMarkerHexadecimal:O,characterReferenceMarkerNumeric:O,characterReferenceValue:J,characterReference:ye,codeFenced:m(_),codeFencedFence:A,codeFencedFenceInfo:S,codeFencedFenceMeta:w,codeFlowValue:H,codeIndented:m(k),codeText:m(Z),codeTextData:H,data:H,definition:m(),definitionDestinationString:B,definitionLabelString:V,definitionTitleString:I,emphasis:m(),hardBreakEscape:m(fe),hardBreakTrailing:m(fe),htmlFlow:m(he),htmlFlowData:H,htmlText:m(le),htmlTextData:H,image:m(F),label:R,labelText:N,lineEnding:ue,link:m($),listItem:m(),listOrdered:m(),listUnordered:m(),paragraph:m(),referenceString:ee,resourceDestinationString:C,resourceTitleString:P,resource:G,setextHeading:m(se),setextHeadingLineSequence:ie,setextHeadingText:z,strong:m(),thematicBreak:m()}};V1(t,(e||{}).mdastExtensions||[]);const n={};return r;function r(te){let ce={type:"root",children:[]};const Se={stack:[ce],tokenStack:[],config:t,enter:f,exit:d,buffer:u,resume:h,data:n},Ce=[];let We=-1;for(;++We<te.length;)if(te[We][1].type==="listOrdered"||te[We][1].type==="listUnordered")if(te[We][0]==="enter")Ce.push(We);else{const $t=Ce.pop();We=o(te,$t,We)}for(We=-1;++We<te.length;){const $t=t[te[We][0]];L1.call($t,te[We][1].type)&&$t[te[We][1].type].call(Object.assign({sliceSerialize:te[We][2].sliceSerialize},Se),te[We][1])}if(Se.tokenStack.length>0){const $t=Se.tokenStack[Se.tokenStack.length-1];($t[1]||Xx).call(Se,void 0,$t[0])}for(ce.position={start:Xi(te.length>0?te[0][1].start:{line:1,column:1,offset:0}),end:Xi(te.length>0?te[te.length-2][1].end:{line:1,column:1,offset:0})},We=-1;++We<t.transforms.length;)ce=t.transforms[We](ce)||ce;return ce}function o(te,ce,Se){let Ce=ce-1,We=-1,$t=!1,Vn,Ft,bn,Ot;for(;++Ce<=Se;){const St=te[Ce];switch(St[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{St[0]==="enter"?We++:We--,Ot=void 0;break}case"lineEndingBlank":{St[0]==="enter"&&(Vn&&!Ot&&!We&&!bn&&(bn=Ce),Ot=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:Ot=void 0}if(!We&&St[0]==="enter"&&St[1].type==="listItemPrefix"||We===-1&&St[0]==="exit"&&(St[1].type==="listUnordered"||St[1].type==="listOrdered")){if(Vn){let Wt=Ce;for(Ft=void 0;Wt--;){const Qt=te[Wt];if(Qt[1].type==="lineEnding"||Qt[1].type==="lineEndingBlank"){if(Qt[0]==="exit")continue;Ft&&(te[Ft][1].type="lineEndingBlank",$t=!0),Qt[1].type="lineEnding",Ft=Wt}else if(!(Qt[1].type==="linePrefix"||Qt[1].type==="blockQuotePrefix"||Qt[1].type==="blockQuotePrefixWhitespace"||Qt[1].type==="blockQuoteMarker"||Qt[1].type==="listItemIndent"))break}bn&&(!Ft||bn<Ft)&&(Vn._spread=!0),Vn.end=Object.assign({},Ft?te[Ft][1].start:St[1].end),te.splice(Ft||Ce,0,["exit",Vn,St[2]]),Ce++,Se++}if(St[1].type==="listItemPrefix"){const Wt={type:"listItem",_spread:!1,start:Object.assign({},St[1].start),end:void 0};Vn=Wt,te.splice(Ce,0,["enter",Wt,St[2]]),Ce++,Se++,bn=void 0,Ot=!0}}}return te[ce][1]._spread=$t,Se}function l(te,ce){return Se;function Se(Ce){f.call(this,te(Ce),Ce),ce&&ce.call(this,Ce)}}function u(){this.stack.push({type:"fragment",children:[]})}function f(te,ce,Se){this.stack[this.stack.length-1].children.push(te),this.stack.push(te),this.tokenStack.push([ce,Se||void 0]),te.position={start:Xi(ce.start),end:void 0}}function m(te){return ce;function ce(Se){te&&te.call(this,Se),d.call(this,Se)}}function d(te,ce){const Se=this.stack.pop(),Ce=this.tokenStack.pop();if(Ce)Ce[0].type!==te.type&&(ce?ce.call(this,te,Ce[0]):(Ce[1]||Xx).call(this,te,Ce[0]));else throw new Error("Cannot close `"+te.type+"` ("+ls({start:te.start,end:te.end})+"): its not open");Se.position.end=Xi(te.end)}function h(){return Fm(this.stack.pop())}function y(){this.data.expectingFirstListItemValue=!0}function T(te){if(this.data.expectingFirstListItemValue){const ce=this.stack[this.stack.length-2];ce.start=Number.parseInt(this.sliceSerialize(te),10),this.data.expectingFirstListItemValue=void 0}}function S(){const te=this.resume(),ce=this.stack[this.stack.length-1];ce.lang=te}function w(){const te=this.resume(),ce=this.stack[this.stack.length-1];ce.meta=te}function A(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function _(){const te=this.resume(),ce=this.stack[this.stack.length-1];ce.value=te.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function k(){const te=this.resume(),ce=this.stack[this.stack.length-1];ce.value=te.replace(/(\r?\n|\r)$/g,"")}function V(te){const ce=this.resume(),Se=this.stack[this.stack.length-1];Se.label=ce,Se.identifier=Gn(this.sliceSerialize(te)).toLowerCase()}function I(){const te=this.resume(),ce=this.stack[this.stack.length-1];ce.title=te}function B(){const te=this.resume(),ce=this.stack[this.stack.length-1];ce.url=te}function U(te){const ce=this.stack[this.stack.length-1];if(!ce.depth){const Se=this.sliceSerialize(te).length;ce.depth=Se}}function z(){this.data.setextHeadingSlurpLineEnding=!0}function ie(te){const ce=this.stack[this.stack.length-1];ce.depth=this.sliceSerialize(te).codePointAt(0)===61?1:2}function se(){this.data.setextHeadingSlurpLineEnding=void 0}function ge(te){const Se=this.stack[this.stack.length-1].children;let Ce=Se[Se.length-1];(!Ce||Ce.type!=="text")&&(Ce=cr(),Ce.position={start:Xi(te.start),end:void 0},Se.push(Ce)),this.stack.push(Ce)}function H(te){const ce=this.stack.pop();ce.value+=this.sliceSerialize(te),ce.position.end=Xi(te.end)}function ue(te){const ce=this.stack[this.stack.length-1];if(this.data.atHardBreak){const Se=ce.children[ce.children.length-1];Se.position.end=Xi(te.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&t.canContainEols.includes(ce.type)&&(ge.call(this,te),H.call(this,te))}function fe(){this.data.atHardBreak=!0}function he(){const te=this.resume(),ce=this.stack[this.stack.length-1];ce.value=te}function le(){const te=this.resume(),ce=this.stack[this.stack.length-1];ce.value=te}function Z(){const te=this.resume(),ce=this.stack[this.stack.length-1];ce.value=te}function $(){const te=this.stack[this.stack.length-1];if(this.data.inReference){const ce=this.data.referenceType||"shortcut";te.type+="Reference",te.referenceType=ce,delete te.url,delete te.title}else delete te.identifier,delete te.label;this.data.referenceType=void 0}function F(){const te=this.stack[this.stack.length-1];if(this.data.inReference){const ce=this.data.referenceType||"shortcut";te.type+="Reference",te.referenceType=ce,delete te.url,delete te.title}else delete te.identifier,delete te.label;this.data.referenceType=void 0}function N(te){const ce=this.sliceSerialize(te),Se=this.stack[this.stack.length-2];Se.label=MR(ce),Se.identifier=Gn(ce).toLowerCase()}function R(){const te=this.stack[this.stack.length-1],ce=this.resume(),Se=this.stack[this.stack.length-1];if(this.data.inReference=!0,Se.type==="link"){const Ce=te.children;Se.children=Ce}else Se.alt=ce}function C(){const te=this.resume(),ce=this.stack[this.stack.length-1];ce.url=te}function P(){const te=this.resume(),ce=this.stack[this.stack.length-1];ce.title=te}function G(){this.data.inReference=void 0}function E(){this.data.referenceType="collapsed"}function ee(te){const ce=this.resume(),Se=this.stack[this.stack.length-1];Se.label=ce,Se.identifier=Gn(this.sliceSerialize(te)).toLowerCase(),this.data.referenceType="full"}function O(te){this.data.characterReferenceType=te.type}function J(te){const ce=this.sliceSerialize(te),Se=this.data.characterReferenceType;let Ce;Se?(Ce=M1(ce,Se==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):Ce=Om(ce);const We=this.stack[this.stack.length-1];We.value+=Ce}function ye(te){const ce=this.stack.pop();ce.position.end=Xi(te.end)}function pe(te){H.call(this,te);const ce=this.stack[this.stack.length-1];ce.url=this.sliceSerialize(te)}function be(te){H.call(this,te);const ce=this.stack[this.stack.length-1];ce.url="mailto:"+this.sliceSerialize(te)}function _e(){return{type:"blockquote",children:[]}}function Ie(){return{type:"code",lang:null,meta:null,value:""}}function Ge(){return{type:"inlineCode",value:""}}function Le(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function Me(){return{type:"emphasis",children:[]}}function tt(){return{type:"heading",depth:0,children:[]}}function nt(){return{type:"break"}}function xt(){return{type:"html",value:""}}function Ur(){return{type:"image",title:null,url:"",alt:null}}function ur(){return{type:"link",title:null,url:"",children:[]}}function Mi(te){return{type:"list",ordered:te.type==="listOrdered",start:null,spread:te._spread,children:[]}}function ii(te){return{type:"listItem",spread:te._spread,checked:null,children:[]}}function Gr(){return{type:"paragraph",children:[]}}function It(){return{type:"strong",children:[]}}function cr(){return{type:"text",value:""}}function qr(){return{type:"thematicBreak"}}}function Xi(e){return{line:e.line,column:e.column,offset:e.offset}}function V1(e,t){let n=-1;for(;++n<t.length;){const r=t[n];Array.isArray(r)?V1(e,r):DR(e,r)}}function DR(e,t){let n;for(n in t)if(L1.call(t,n))switch(n){case"canContainEols":{const r=t[n];r&&e[n].push(...r);break}case"transforms":{const r=t[n];r&&e[n].push(...r);break}case"enter":case"exit":{const r=t[n];r&&Object.assign(e[n],r);break}}}function Xx(e,t){throw e?new Error("Cannot close `"+e.type+"` ("+ls({start:e.start,end:e.end})+"): a different token (`"+t.type+"`, "+ls({start:t.start,end:t.end})+") is open"):new Error("Cannot close document, a token (`"+t.type+"`, "+ls({start:t.start,end:t.end})+") is still open")}function kR(e){const t=this;t.parser=n;function n(r){return AR(r,{...t.data("settings"),...e,extensions:t.data("micromarkExtensions")||[],mdastExtensions:t.data("fromMarkdownExtensions")||[]})}}function IR(e,t){const n={type:"element",tagName:"blockquote",properties:{},children:e.wrap(e.all(t),!0)};return e.patch(t,n),e.applyData(t,n)}function NR(e,t){const n={type:"element",tagName:"br",properties:{},children:[]};return e.patch(t,n),[e.applyData(t,n),{type:"text",value:`
`}]}function RR(e,t){const n=t.value?t.value+`
`:"",r={};t.lang&&(r.className=["language-"+t.lang]);let o={type:"element",tagName:"code",properties:r,children:[{type:"text",value:n}]};return t.meta&&(o.data={meta:t.meta}),e.patch(t,o),o=e.applyData(t,o),o={type:"element",tagName:"pre",properties:{},children:[o]},e.patch(t,o),o}function _R(e,t){const n={type:"element",tagName:"del",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function LR(e,t){const n={type:"element",tagName:"em",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function VR(e,t){const n=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",r=String(t.identifier).toUpperCase(),o=Ya(r.toLowerCase()),l=e.footnoteOrder.indexOf(r);let u,f=e.footnoteCounts.get(r);f===void 0?(f=0,e.footnoteOrder.push(r),u=e.footnoteOrder.length):u=l+1,f+=1,e.footnoteCounts.set(r,f);const m={type:"element",tagName:"a",properties:{href:"#"+n+"fn-"+o,id:n+"fnref-"+o+(f>1?"-"+f:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(u)}]};e.patch(t,m);const d={type:"element",tagName:"sup",properties:{},children:[m]};return e.patch(t,d),e.applyData(t,d)}function PR(e,t){const n={type:"element",tagName:"h"+t.depth,properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function BR(e,t){if(e.options.allowDangerousHtml){const n={type:"raw",value:t.value};return e.patch(t,n),e.applyData(t,n)}}function P1(e,t){const n=t.referenceType;let r="]";if(n==="collapsed"?r+="[]":n==="full"&&(r+="["+(t.label||t.identifier)+"]"),t.type==="imageReference")return[{type:"text",value:"!["+t.alt+r}];const o=e.all(t),l=o[0];l&&l.type==="text"?l.value="["+l.value:o.unshift({type:"text",value:"["});const u=o[o.length-1];return u&&u.type==="text"?u.value+=r:o.push({type:"text",value:r}),o}function FR(e,t){const n=String(t.identifier).toUpperCase(),r=e.definitionById.get(n);if(!r)return P1(e,t);const o={src:Ya(r.url||""),alt:t.alt};r.title!==null&&r.title!==void 0&&(o.title=r.title);const l={type:"element",tagName:"img",properties:o,children:[]};return e.patch(t,l),e.applyData(t,l)}function OR(e,t){const n={src:Ya(t.url)};t.alt!==null&&t.alt!==void 0&&(n.alt=t.alt),t.title!==null&&t.title!==void 0&&(n.title=t.title);const r={type:"element",tagName:"img",properties:n,children:[]};return e.patch(t,r),e.applyData(t,r)}function jR(e,t){const n={type:"text",value:t.value.replace(/\r?\n|\r/g," ")};e.patch(t,n);const r={type:"element",tagName:"code",properties:{},children:[n]};return e.patch(t,r),e.applyData(t,r)}function zR(e,t){const n=String(t.identifier).toUpperCase(),r=e.definitionById.get(n);if(!r)return P1(e,t);const o={href:Ya(r.url||"")};r.title!==null&&r.title!==void 0&&(o.title=r.title);const l={type:"element",tagName:"a",properties:o,children:e.all(t)};return e.patch(t,l),e.applyData(t,l)}function HR(e,t){const n={href:Ya(t.url)};t.title!==null&&t.title!==void 0&&(n.title=t.title);const r={type:"element",tagName:"a",properties:n,children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function UR(e,t,n){const r=e.all(t),o=n?GR(n):B1(t),l={},u=[];if(typeof t.checked=="boolean"){const h=r[0];let y;h&&h.type==="element"&&h.tagName==="p"?y=h:(y={type:"element",tagName:"p",properties:{},children:[]},r.unshift(y)),y.children.length>0&&y.children.unshift({type:"text",value:" "}),y.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:t.checked,disabled:!0},children:[]}),l.className=["task-list-item"]}let f=-1;for(;++f<r.length;){const h=r[f];(o||f!==0||h.type!=="element"||h.tagName!=="p")&&u.push({type:"text",value:`
`}),h.type==="element"&&h.tagName==="p"&&!o?u.push(...h.children):u.push(h)}const m=r[r.length-1];m&&(o||m.type!=="element"||m.tagName!=="p")&&u.push({type:"text",value:`
`});const d={type:"element",tagName:"li",properties:l,children:u};return e.patch(t,d),e.applyData(t,d)}function GR(e){let t=!1;if(e.type==="list"){t=e.spread||!1;const n=e.children;let r=-1;for(;!t&&++r<n.length;)t=B1(n[r])}return t}function B1(e){const t=e.spread;return t??e.children.length>1}function qR(e,t){const n={},r=e.all(t);let o=-1;for(typeof t.start=="number"&&t.start!==1&&(n.start=t.start);++o<r.length;){const u=r[o];if(u.type==="element"&&u.tagName==="li"&&u.properties&&Array.isArray(u.properties.className)&&u.properties.className.includes("task-list-item")){n.className=["contains-task-list"];break}}const l={type:"element",tagName:t.ordered?"ol":"ul",properties:n,children:e.wrap(r,!0)};return e.patch(t,l),e.applyData(t,l)}function $R(e,t){const n={type:"element",tagName:"p",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function YR(e,t){const n={type:"root",children:e.wrap(e.all(t))};return e.patch(t,n),e.applyData(t,n)}function KR(e,t){const n={type:"element",tagName:"strong",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function XR(e,t){const n=e.all(t),r=n.shift(),o=[];if(r){const u={type:"element",tagName:"thead",properties:{},children:e.wrap([r],!0)};e.patch(t.children[0],u),o.push(u)}if(n.length>0){const u={type:"element",tagName:"tbody",properties:{},children:e.wrap(n,!0)},f=Lm(t.children[1]),m=g1(t.children[t.children.length-1]);f&&m&&(u.position={start:f,end:m}),o.push(u)}const l={type:"element",tagName:"table",properties:{},children:e.wrap(o,!0)};return e.patch(t,l),e.applyData(t,l)}function WR(e,t,n){const r=n?n.children:void 0,l=(r?r.indexOf(t):1)===0?"th":"td",u=n&&n.type==="table"?n.align:void 0,f=u?u.length:t.children.length;let m=-1;const d=[];for(;++m<f;){const y=t.children[m],T={},S=u?u[m]:void 0;S&&(T.align=S);let w={type:"element",tagName:l,properties:T,children:[]};y&&(w.children=e.all(y),e.patch(y,w),w=e.applyData(y,w)),d.push(w)}const h={type:"element",tagName:"tr",properties:{},children:e.wrap(d,!0)};return e.patch(t,h),e.applyData(t,h)}function QR(e,t){const n={type:"element",tagName:"td",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}const Wx=9,Qx=32;function JR(e){const t=String(e),n=/\r?\n|\r/g;let r=n.exec(t),o=0;const l=[];for(;r;)l.push(Jx(t.slice(o,r.index),o>0,!0),r[0]),o=r.index+r[0].length,r=n.exec(t);return l.push(Jx(t.slice(o),o>0,!1)),l.join("")}function Jx(e,t,n){let r=0,o=e.length;if(t){let l=e.codePointAt(r);for(;l===Wx||l===Qx;)r++,l=e.codePointAt(r)}if(n){let l=e.codePointAt(o-1);for(;l===Wx||l===Qx;)o--,l=e.codePointAt(o-1)}return o>r?e.slice(r,o):""}function ZR(e,t){const n={type:"text",value:JR(String(t.value))};return e.patch(t,n),e.applyData(t,n)}function e_(e,t){const n={type:"element",tagName:"hr",properties:{},children:[]};return e.patch(t,n),e.applyData(t,n)}const t_={blockquote:IR,break:NR,code:RR,delete:_R,emphasis:LR,footnoteReference:VR,heading:PR,html:BR,imageReference:FR,image:OR,inlineCode:jR,linkReference:zR,link:HR,listItem:UR,list:qR,paragraph:$R,root:YR,strong:KR,table:XR,tableCell:QR,tableRow:WR,text:ZR,thematicBreak:e_,toml:eu,yaml:eu,definition:eu,footnoteDefinition:eu};function eu(){}const F1=-1,Ou=0,cs=1,Cu=2,zm=3,Hm=4,Um=5,Gm=6,O1=7,j1=8,Zx=typeof self=="object"?self:globalThis,n_=(e,t)=>{const n=(o,l)=>(e.set(l,o),o),r=o=>{if(e.has(o))return e.get(o);const[l,u]=t[o];switch(l){case Ou:case F1:return n(u,o);case cs:{const f=n([],o);for(const m of u)f.push(r(m));return f}case Cu:{const f=n({},o);for(const[m,d]of u)f[r(m)]=r(d);return f}case zm:return n(new Date(u),o);case Hm:{const{source:f,flags:m}=u;return n(new RegExp(f,m),o)}case Um:{const f=n(new Map,o);for(const[m,d]of u)f.set(r(m),r(d));return f}case Gm:{const f=n(new Set,o);for(const m of u)f.add(r(m));return f}case O1:{const{name:f,message:m}=u;return n(new Zx[f](m),o)}case j1:return n(BigInt(u),o);case"BigInt":return n(Object(BigInt(u)),o);case"ArrayBuffer":return n(new Uint8Array(u).buffer,u);case"DataView":{const{buffer:f}=new Uint8Array(u);return n(new DataView(f),u)}}return n(new Zx[l](u),o)};return r},ev=e=>n_(new Map,e)(0),Ra="",{toString:i_}={},{keys:r_}=Object,ns=e=>{const t=typeof e;if(t!=="object"||!e)return[Ou,t];const n=i_.call(e).slice(8,-1);switch(n){case"Array":return[cs,Ra];case"Object":return[Cu,Ra];case"Date":return[zm,Ra];case"RegExp":return[Hm,Ra];case"Map":return[Um,Ra];case"Set":return[Gm,Ra];case"DataView":return[cs,n]}return n.includes("Array")?[cs,n]:n.includes("Error")?[O1,n]:[Cu,n]},tu=([e,t])=>e===Ou&&(t==="function"||t==="symbol"),a_=(e,t,n,r)=>{const o=(u,f)=>{const m=r.push(u)-1;return n.set(f,m),m},l=u=>{if(n.has(u))return n.get(u);let[f,m]=ns(u);switch(f){case Ou:{let h=u;switch(m){case"bigint":f=j1,h=u.toString();break;case"function":case"symbol":if(e)throw new TypeError("unable to serialize "+m);h=null;break;case"undefined":return o([F1],u)}return o([f,h],u)}case cs:{if(m){let T=u;return m==="DataView"?T=new Uint8Array(u.buffer):m==="ArrayBuffer"&&(T=new Uint8Array(u)),o([m,[...T]],u)}const h=[],y=o([f,h],u);for(const T of u)h.push(l(T));return y}case Cu:{if(m)switch(m){case"BigInt":return o([m,u.toString()],u);case"Boolean":case"Number":case"String":return o([m,u.valueOf()],u)}if(t&&"toJSON"in u)return l(u.toJSON());const h=[],y=o([f,h],u);for(const T of r_(u))(e||!tu(ns(u[T])))&&h.push([l(T),l(u[T])]);return y}case zm:return o([f,u.toISOString()],u);case Hm:{const{source:h,flags:y}=u;return o([f,{source:h,flags:y}],u)}case Um:{const h=[],y=o([f,h],u);for(const[T,S]of u)(e||!(tu(ns(T))||tu(ns(S))))&&h.push([l(T),l(S)]);return y}case Gm:{const h=[],y=o([f,h],u);for(const T of u)(e||!tu(ns(T)))&&h.push(l(T));return y}}const{message:d}=u;return o([f,{name:m,message:d}],u)};return l},tv=(e,{json:t,lossy:n}={})=>{const r=[];return a_(!(t||n),!!t,new Map,r)(e),r},Mu=typeof structuredClone=="function"?(e,t)=>t&&("json"in t||"lossy"in t)?ev(tv(e,t)):structuredClone(e):(e,t)=>ev(tv(e,t));function o_(e,t){const n=[{type:"text",value:""}];return t>1&&n.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(t)}]}),n}function s_(e,t){return"Back to reference "+(e+1)+(t>1?"-"+t:"")}function l_(e){const t=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",n=e.options.footnoteBackContent||o_,r=e.options.footnoteBackLabel||s_,o=e.options.footnoteLabel||"Footnotes",l=e.options.footnoteLabelTagName||"h2",u=e.options.footnoteLabelProperties||{className:["sr-only"]},f=[];let m=-1;for(;++m<e.footnoteOrder.length;){const d=e.footnoteById.get(e.footnoteOrder[m]);if(!d)continue;const h=e.all(d),y=String(d.identifier).toUpperCase(),T=Ya(y.toLowerCase());let S=0;const w=[],A=e.footnoteCounts.get(y);for(;A!==void 0&&++S<=A;){w.length>0&&w.push({type:"text",value:" "});let V=typeof n=="string"?n:n(m,S);typeof V=="string"&&(V={type:"text",value:V}),w.push({type:"element",tagName:"a",properties:{href:"#"+t+"fnref-"+T+(S>1?"-"+S:""),dataFootnoteBackref:"",ariaLabel:typeof r=="string"?r:r(m,S),className:["data-footnote-backref"]},children:Array.isArray(V)?V:[V]})}const _=h[h.length-1];if(_&&_.type==="element"&&_.tagName==="p"){const V=_.children[_.children.length-1];V&&V.type==="text"?V.value+=" ":_.children.push({type:"text",value:" "}),_.children.push(...w)}else h.push(...w);const k={type:"element",tagName:"li",properties:{id:t+"fn-"+T},children:e.wrap(h,!0)};e.patch(d,k),f.push(k)}if(f.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:l,properties:{...Mu(u),id:"footnote-label"},children:[{type:"text",value:o}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:e.wrap(f,!0)},{type:"text",value:`
`}]}}const ju=function(e){if(e==null)return d_;if(typeof e=="function")return zu(e);if(typeof e=="object")return Array.isArray(e)?u_(e):c_(e);if(typeof e=="string")return f_(e);throw new Error("Expected function, string, or object as test")};function u_(e){const t=[];let n=-1;for(;++n<e.length;)t[n]=ju(e[n]);return zu(r);function r(...o){let l=-1;for(;++l<t.length;)if(t[l].apply(this,o))return!0;return!1}}function c_(e){const t=e;return zu(n);function n(r){const o=r;let l;for(l in e)if(o[l]!==t[l])return!1;return!0}}function f_(e){return zu(t);function t(n){return n&&n.type===e}}function zu(e){return t;function t(n,r,o){return!!(m_(n)&&e.call(this,n,typeof r=="number"?r:void 0,o||void 0))}}function d_(){return!0}function m_(e){return e!==null&&typeof e=="object"&&"type"in e}const z1=[],h_=!0,rm=!1,p_="skip";function H1(e,t,n,r){let o;typeof t=="function"&&typeof n!="function"?(r=n,n=t):o=t;const l=ju(o),u=r?-1:1;f(e,void 0,[])();function f(m,d,h){const y=m&&typeof m=="object"?m:{};if(typeof y.type=="string"){const S=typeof y.tagName=="string"?y.tagName:typeof y.name=="string"?y.name:void 0;Object.defineProperty(T,"name",{value:"node ("+(m.type+(S?"<"+S+">":""))+")"})}return T;function T(){let S=z1,w,A,_;if((!t||l(m,d,h[h.length-1]||void 0))&&(S=g_(n(m,h)),S[0]===rm))return S;if("children"in m&&m.children){const k=m;if(k.children&&S[0]!==p_)for(A=(r?k.children.length:-1)+u,_=h.concat(k);A>-1&&A<k.children.length;){const V=k.children[A];if(w=f(V,A,_)(),w[0]===rm)return w;A=typeof w[1]=="number"?w[1]:A+u}}return S}}}function g_(e){return Array.isArray(e)?e:typeof e=="number"?[h_,e]:e==null?z1:[e]}function qm(e,t,n,r){let o,l,u;typeof t=="function"&&typeof n!="function"?(l=void 0,u=t,o=n):(l=t,u=n,o=r),H1(e,l,f,o);function f(m,d){const h=d[d.length-1],y=h?h.children.indexOf(m):void 0;return u(m,y,h)}}const am={}.hasOwnProperty,y_={};function x_(e,t){const n=t||y_,r=new Map,o=new Map,l=new Map,u={...t_,...n.handlers},f={all:d,applyData:b_,definitionById:r,footnoteById:o,footnoteCounts:l,footnoteOrder:[],handlers:u,one:m,options:n,patch:v_,wrap:S_};return qm(e,function(h){if(h.type==="definition"||h.type==="footnoteDefinition"){const y=h.type==="definition"?r:o,T=String(h.identifier).toUpperCase();y.has(T)||y.set(T,h)}}),f;function m(h,y){const T=h.type,S=f.handlers[T];if(am.call(f.handlers,T)&&S)return S(f,h,y);if(f.options.passThrough&&f.options.passThrough.includes(T)){if("children"in h){const{children:A,..._}=h,k=Mu(_);return k.children=f.all(h),k}return Mu(h)}return(f.options.unknownHandler||T_)(f,h,y)}function d(h){const y=[];if("children"in h){const T=h.children;let S=-1;for(;++S<T.length;){const w=f.one(T[S],h);if(w){if(S&&T[S-1].type==="break"&&(!Array.isArray(w)&&w.type==="text"&&(w.value=nv(w.value)),!Array.isArray(w)&&w.type==="element")){const A=w.children[0];A&&A.type==="text"&&(A.value=nv(A.value))}Array.isArray(w)?y.push(...w):y.push(w)}}}return y}}function v_(e,t){e.position&&(t.position=sI(e))}function b_(e,t){let n=t;if(e&&e.data){const r=e.data.hName,o=e.data.hChildren,l=e.data.hProperties;if(typeof r=="string")if(n.type==="element")n.tagName=r;else{const u="children"in n?n.children:[n];n={type:"element",tagName:r,properties:{},children:u}}n.type==="element"&&l&&Object.assign(n.properties,Mu(l)),"children"in n&&n.children&&o!==null&&o!==void 0&&(n.children=o)}return n}function T_(e,t){const n=t.data||{},r="value"in t&&!(am.call(n,"hProperties")||am.call(n,"hChildren"))?{type:"text",value:t.value}:{type:"element",tagName:"div",properties:{},children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function S_(e,t){const n=[];let r=-1;for(t&&n.push({type:"text",value:`
`});++r<e.length;)r&&n.push({type:"text",value:`
`}),n.push(e[r]);return t&&e.length>0&&n.push({type:"text",value:`
`}),n}function nv(e){let t=0,n=e.charCodeAt(t);for(;n===9||n===32;)t++,n=e.charCodeAt(t);return e.slice(t)}function iv(e,t){const n=x_(e,t),r=n.one(e,void 0),o=l_(n),l=Array.isArray(r)?{type:"root",children:r}:r||{type:"root",children:[]};return o&&l.children.push({type:"text",value:`
`},o),l}function C_(e,t){return e&&"run"in e?async function(n,r){const o=iv(n,{file:r,...t});await e.run(o,r)}:function(n,r){return iv(n,{file:r,...e||t})}}function rv(e){if(e)throw e}var hd,av;function M_(){if(av)return hd;av=1;var e=Object.prototype.hasOwnProperty,t=Object.prototype.toString,n=Object.defineProperty,r=Object.getOwnPropertyDescriptor,o=function(d){return typeof Array.isArray=="function"?Array.isArray(d):t.call(d)==="[object Array]"},l=function(d){if(!d||t.call(d)!=="[object Object]")return!1;var h=e.call(d,"constructor"),y=d.constructor&&d.constructor.prototype&&e.call(d.constructor.prototype,"isPrototypeOf");if(d.constructor&&!h&&!y)return!1;var T;for(T in d);return typeof T>"u"||e.call(d,T)},u=function(d,h){n&&h.name==="__proto__"?n(d,h.name,{enumerable:!0,configurable:!0,value:h.newValue,writable:!0}):d[h.name]=h.newValue},f=function(d,h){if(h==="__proto__")if(e.call(d,h)){if(r)return r(d,h).value}else return;return d[h]};return hd=function m(){var d,h,y,T,S,w,A=arguments[0],_=1,k=arguments.length,V=!1;for(typeof A=="boolean"&&(V=A,A=arguments[1]||{},_=2),(A==null||typeof A!="object"&&typeof A!="function")&&(A={});_<k;++_)if(d=arguments[_],d!=null)for(h in d)y=f(A,h),T=f(d,h),A!==T&&(V&&T&&(l(T)||(S=o(T)))?(S?(S=!1,w=y&&o(y)?y:[]):w=y&&l(y)?y:{},u(A,{name:h,newValue:m(V,w,T)})):typeof T<"u"&&u(A,{name:h,newValue:T}));return A},hd}var w_=M_();const pd=Ds(w_);function om(e){if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function A_(){const e=[],t={run:n,use:r};return t;function n(...o){let l=-1;const u=o.pop();if(typeof u!="function")throw new TypeError("Expected function as last argument, not "+u);f(null,...o);function f(m,...d){const h=e[++l];let y=-1;if(m){u(m);return}for(;++y<o.length;)(d[y]===null||d[y]===void 0)&&(d[y]=o[y]);o=d,h?E_(h,f)(...d):u(null,...d)}}function r(o){if(typeof o!="function")throw new TypeError("Expected `middelware` to be a function, not "+o);return e.push(o),t}}function E_(e,t){let n;return r;function r(...u){const f=e.length>u.length;let m;f&&u.push(o);try{m=e.apply(this,u)}catch(d){const h=d;if(f&&n)throw h;return o(h)}f||(m&&m.then&&typeof m.then=="function"?m.then(l,o):m instanceof Error?o(m):l(m))}function o(u,...f){n||(n=!0,t(u,...f))}function l(u){o(null,u)}}const Qn={basename:D_,dirname:k_,extname:I_,join:N_,sep:"/"};function D_(e,t){if(t!==void 0&&typeof t!="string")throw new TypeError('"ext" argument must be a string');Rs(e);let n=0,r=-1,o=e.length,l;if(t===void 0||t.length===0||t.length>e.length){for(;o--;)if(e.codePointAt(o)===47){if(l){n=o+1;break}}else r<0&&(l=!0,r=o+1);return r<0?"":e.slice(n,r)}if(t===e)return"";let u=-1,f=t.length-1;for(;o--;)if(e.codePointAt(o)===47){if(l){n=o+1;break}}else u<0&&(l=!0,u=o+1),f>-1&&(e.codePointAt(o)===t.codePointAt(f--)?f<0&&(r=o):(f=-1,r=u));return n===r?r=u:r<0&&(r=e.length),e.slice(n,r)}function k_(e){if(Rs(e),e.length===0)return".";let t=-1,n=e.length,r;for(;--n;)if(e.codePointAt(n)===47){if(r){t=n;break}}else r||(r=!0);return t<0?e.codePointAt(0)===47?"/":".":t===1&&e.codePointAt(0)===47?"//":e.slice(0,t)}function I_(e){Rs(e);let t=e.length,n=-1,r=0,o=-1,l=0,u;for(;t--;){const f=e.codePointAt(t);if(f===47){if(u){r=t+1;break}continue}n<0&&(u=!0,n=t+1),f===46?o<0?o=t:l!==1&&(l=1):o>-1&&(l=-1)}return o<0||n<0||l===0||l===1&&o===n-1&&o===r+1?"":e.slice(o,n)}function N_(...e){let t=-1,n;for(;++t<e.length;)Rs(e[t]),e[t]&&(n=n===void 0?e[t]:n+"/"+e[t]);return n===void 0?".":R_(n)}function R_(e){Rs(e);const t=e.codePointAt(0)===47;let n=__(e,!t);return n.length===0&&!t&&(n="."),n.length>0&&e.codePointAt(e.length-1)===47&&(n+="/"),t?"/"+n:n}function __(e,t){let n="",r=0,o=-1,l=0,u=-1,f,m;for(;++u<=e.length;){if(u<e.length)f=e.codePointAt(u);else{if(f===47)break;f=47}if(f===47){if(!(o===u-1||l===1))if(o!==u-1&&l===2){if(n.length<2||r!==2||n.codePointAt(n.length-1)!==46||n.codePointAt(n.length-2)!==46){if(n.length>2){if(m=n.lastIndexOf("/"),m!==n.length-1){m<0?(n="",r=0):(n=n.slice(0,m),r=n.length-1-n.lastIndexOf("/")),o=u,l=0;continue}}else if(n.length>0){n="",r=0,o=u,l=0;continue}}t&&(n=n.length>0?n+"/..":"..",r=2)}else n.length>0?n+="/"+e.slice(o+1,u):n=e.slice(o+1,u),r=u-o-1;o=u,l=0}else f===46&&l>-1?l++:l=-1}return n}function Rs(e){if(typeof e!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}const L_={cwd:V_};function V_(){return"/"}function sm(e){return!!(e!==null&&typeof e=="object"&&"href"in e&&e.href&&"protocol"in e&&e.protocol&&e.auth===void 0)}function P_(e){if(typeof e=="string")e=new URL(e);else if(!sm(e)){const t=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+e+"`");throw t.code="ERR_INVALID_ARG_TYPE",t}if(e.protocol!=="file:"){const t=new TypeError("The URL must be of scheme file");throw t.code="ERR_INVALID_URL_SCHEME",t}return B_(e)}function B_(e){if(e.hostname!==""){const r=new TypeError('File URL host must be "localhost" or empty on darwin');throw r.code="ERR_INVALID_FILE_URL_HOST",r}const t=e.pathname;let n=-1;for(;++n<t.length;)if(t.codePointAt(n)===37&&t.codePointAt(n+1)===50){const r=t.codePointAt(n+2);if(r===70||r===102){const o=new TypeError("File URL path must not include encoded / characters");throw o.code="ERR_INVALID_FILE_URL_PATH",o}}return decodeURIComponent(t)}const gd=["history","path","basename","stem","extname","dirname"];class U1{constructor(t){let n;t?sm(t)?n={path:t}:typeof t=="string"||F_(t)?n={value:t}:n=t:n={},this.cwd="cwd"in n?"":L_.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let r=-1;for(;++r<gd.length;){const l=gd[r];l in n&&n[l]!==void 0&&n[l]!==null&&(this[l]=l==="history"?[...n[l]]:n[l])}let o;for(o in n)gd.includes(o)||(this[o]=n[o])}get basename(){return typeof this.path=="string"?Qn.basename(this.path):void 0}set basename(t){xd(t,"basename"),yd(t,"basename"),this.path=Qn.join(this.dirname||"",t)}get dirname(){return typeof this.path=="string"?Qn.dirname(this.path):void 0}set dirname(t){ov(this.basename,"dirname"),this.path=Qn.join(t||"",this.basename)}get extname(){return typeof this.path=="string"?Qn.extname(this.path):void 0}set extname(t){if(yd(t,"extname"),ov(this.dirname,"extname"),t){if(t.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(t.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=Qn.join(this.dirname,this.stem+(t||""))}get path(){return this.history[this.history.length-1]}set path(t){sm(t)&&(t=P_(t)),xd(t,"path"),this.path!==t&&this.history.push(t)}get stem(){return typeof this.path=="string"?Qn.basename(this.path,this.extname):void 0}set stem(t){xd(t,"stem"),yd(t,"stem"),this.path=Qn.join(this.dirname||"",t+(this.extname||""))}fail(t,n,r){const o=this.message(t,n,r);throw o.fatal=!0,o}info(t,n,r){const o=this.message(t,n,r);return o.fatal=void 0,o}message(t,n,r){const o=new qt(t,n,r);return this.path&&(o.name=this.path+":"+o.name,o.file=this.path),o.fatal=!1,this.messages.push(o),o}toString(t){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(t||void 0).decode(this.value)}}function yd(e,t){if(e&&e.includes(Qn.sep))throw new Error("`"+t+"` cannot be a path: did not expect `"+Qn.sep+"`")}function xd(e,t){if(!e)throw new Error("`"+t+"` cannot be empty")}function ov(e,t){if(!e)throw new Error("Setting `"+t+"` requires `path` to be set too")}function F_(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const O_=function(e){const r=this.constructor.prototype,o=r[e],l=function(){return o.apply(l,arguments)};return Object.setPrototypeOf(l,r),l},j_={}.hasOwnProperty;class $m extends O_{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=A_()}copy(){const t=new $m;let n=-1;for(;++n<this.attachers.length;){const r=this.attachers[n];t.use(...r)}return t.data(pd(!0,{},this.namespace)),t}data(t,n){return typeof t=="string"?arguments.length===2?(Td("data",this.frozen),this.namespace[t]=n,this):j_.call(this.namespace,t)&&this.namespace[t]||void 0:t?(Td("data",this.frozen),this.namespace=t,this):this.namespace}freeze(){if(this.frozen)return this;const t=this;for(;++this.freezeIndex<this.attachers.length;){const[n,...r]=this.attachers[this.freezeIndex];if(r[0]===!1)continue;r[0]===!0&&(r[0]=void 0);const o=n.call(t,...r);typeof o=="function"&&this.transformers.use(o)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(t){this.freeze();const n=nu(t),r=this.parser||this.Parser;return vd("parse",r),r(String(n),n)}process(t,n){const r=this;return this.freeze(),vd("process",this.parser||this.Parser),bd("process",this.compiler||this.Compiler),n?o(void 0,n):new Promise(o);function o(l,u){const f=nu(t),m=r.parse(f);r.run(m,f,function(h,y,T){if(h||!y||!T)return d(h);const S=y,w=r.stringify(S,T);U_(w)?T.value=w:T.result=w,d(h,T)});function d(h,y){h||!y?u(h):l?l(y):n(void 0,y)}}}processSync(t){let n=!1,r;return this.freeze(),vd("processSync",this.parser||this.Parser),bd("processSync",this.compiler||this.Compiler),this.process(t,o),lv("processSync","process",n),r;function o(l,u){n=!0,rv(l),r=u}}run(t,n,r){sv(t),this.freeze();const o=this.transformers;return!r&&typeof n=="function"&&(r=n,n=void 0),r?l(void 0,r):new Promise(l);function l(u,f){const m=nu(n);o.run(t,m,d);function d(h,y,T){const S=y||t;h?f(h):u?u(S):r(void 0,S,T)}}}runSync(t,n){let r=!1,o;return this.run(t,n,l),lv("runSync","run",r),o;function l(u,f){rv(u),o=f,r=!0}}stringify(t,n){this.freeze();const r=nu(n),o=this.compiler||this.Compiler;return bd("stringify",o),sv(t),o(t,r)}use(t,...n){const r=this.attachers,o=this.namespace;if(Td("use",this.frozen),t!=null)if(typeof t=="function")m(t,n);else if(typeof t=="object")Array.isArray(t)?f(t):u(t);else throw new TypeError("Expected usable value, not `"+t+"`");return this;function l(d){if(typeof d=="function")m(d,[]);else if(typeof d=="object")if(Array.isArray(d)){const[h,...y]=d;m(h,y)}else u(d);else throw new TypeError("Expected usable value, not `"+d+"`")}function u(d){if(!("plugins"in d)&&!("settings"in d))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");f(d.plugins),d.settings&&(o.settings=pd(!0,o.settings,d.settings))}function f(d){let h=-1;if(d!=null)if(Array.isArray(d))for(;++h<d.length;){const y=d[h];l(y)}else throw new TypeError("Expected a list of plugins, not `"+d+"`")}function m(d,h){let y=-1,T=-1;for(;++y<r.length;)if(r[y][0]===d){T=y;break}if(T===-1)r.push([d,...h]);else if(h.length>0){let[S,...w]=h;const A=r[T][1];om(A)&&om(S)&&(S=pd(!0,A,S)),r[T]=[d,S,...w]}}}}const z_=new $m().freeze();function vd(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `parser`")}function bd(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `compiler`")}function Td(e,t){if(t)throw new Error("Cannot call `"+e+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function sv(e){if(!om(e)||typeof e.type!="string")throw new TypeError("Expected node, got `"+e+"`")}function lv(e,t,n){if(!n)throw new Error("`"+e+"` finished async. Use `"+t+"` instead")}function nu(e){return H_(e)?e:new U1(e)}function H_(e){return!!(e&&typeof e=="object"&&"message"in e&&"messages"in e)}function U_(e){return typeof e=="string"||G_(e)}function G_(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const q_="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",uv=[],cv={allowDangerousHtml:!0},$_=/^(https?|ircs?|mailto|xmpp)$/i,Y_=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"className",id:"remove-classname"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function G1(e){const t=K_(e),n=X_(e);return W_(t.runSync(t.parse(n),n),e)}function K_(e){const t=e.rehypePlugins||uv,n=e.remarkPlugins||uv,r=e.remarkRehypeOptions?{...e.remarkRehypeOptions,...cv}:cv;return z_().use(kR).use(n).use(C_,r).use(t)}function X_(e){const t=e.children||"",n=new U1;return typeof t=="string"&&(n.value=t),n}function W_(e,t){const n=t.allowedElements,r=t.allowElement,o=t.components,l=t.disallowedElements,u=t.skipHtml,f=t.unwrapDisallowed,m=t.urlTransform||Q_;for(const h of Y_)Object.hasOwn(t,h.from)&&(""+h.from+(h.to?"use `"+h.to+"` instead":"remove it")+q_+h.id,void 0);return qm(e,d),dI(e,{Fragment:g.Fragment,components:o,ignoreInvalidStyle:!0,jsx:g.jsx,jsxs:g.jsxs,passKeys:!0,passNode:!0});function d(h,y,T){if(h.type==="raw"&&T&&typeof y=="number")return u?T.children.splice(y,1):T.children[y]={type:"text",value:h.value},y;if(h.type==="element"){let S;for(S in fd)if(Object.hasOwn(fd,S)&&Object.hasOwn(h.properties,S)){const w=h.properties[S],A=fd[S];(A===null||A.includes(h.tagName))&&(h.properties[S]=m(String(w||""),S,h))}}if(h.type==="element"){let S=n?!n.includes(h.tagName):l?l.includes(h.tagName):!1;if(!S&&r&&typeof y=="number"&&(S=!r(h,y,T)),S&&T&&typeof y=="number")return f&&h.children?T.children.splice(y,1,...h.children):T.children.splice(y,1),y}}}function Q_(e){const t=e.indexOf(":"),n=e.indexOf("?"),r=e.indexOf("#"),o=e.indexOf("/");return t===-1||o!==-1&&t>o||n!==-1&&t>n||r!==-1&&t>r||$_.test(e.slice(0,t))?e:""}function fv(e,t){const n=String(e);if(typeof t!="string")throw new TypeError("Expected character");let r=0,o=n.indexOf(t);for(;o!==-1;)r++,o=n.indexOf(t,o+t.length);return r}function J_(e){if(typeof e!="string")throw new TypeError("Expected a string");return e.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}function Z_(e,t,n){const o=ju((n||{}).ignore||[]),l=eL(t);let u=-1;for(;++u<l.length;)H1(e,"text",f);function f(d,h){let y=-1,T;for(;++y<h.length;){const S=h[y],w=T?T.children:void 0;if(o(S,w?w.indexOf(S):void 0,T))return;T=S}if(T)return m(d,h)}function m(d,h){const y=h[h.length-1],T=l[u][0],S=l[u][1];let w=0;const _=y.children.indexOf(d);let k=!1,V=[];T.lastIndex=0;let I=T.exec(d.value);for(;I;){const B=I.index,U={index:I.index,input:I.input,stack:[...h,d]};let z=S(...I,U);if(typeof z=="string"&&(z=z.length>0?{type:"text",value:z}:void 0),z===!1?T.lastIndex=B+1:(w!==B&&V.push({type:"text",value:d.value.slice(w,B)}),Array.isArray(z)?V.push(...z):z&&V.push(z),w=B+I[0].length,k=!0),!T.global)break;I=T.exec(d.value)}return k?(w<d.value.length&&V.push({type:"text",value:d.value.slice(w)}),y.children.splice(_,1,...V)):V=[d],_+V.length}}function eL(e){const t=[];if(!Array.isArray(e))throw new TypeError("Expected find and replace tuple or list of tuples");const n=!e[0]||Array.isArray(e[0])?e:[e];let r=-1;for(;++r<n.length;){const o=n[r];t.push([tL(o[0]),nL(o[1])])}return t}function tL(e){return typeof e=="string"?new RegExp(J_(e),"g"):e}function nL(e){return typeof e=="function"?e:function(){return e}}const Sd="phrasing",Cd=["autolink","link","image","label"];function iL(){return{transforms:[cL],enter:{literalAutolink:aL,literalAutolinkEmail:Md,literalAutolinkHttp:Md,literalAutolinkWww:Md},exit:{literalAutolink:uL,literalAutolinkEmail:lL,literalAutolinkHttp:oL,literalAutolinkWww:sL}}}function rL(){return{unsafe:[{character:"@",before:"[+\\-.\\w]",after:"[\\-.\\w]",inConstruct:Sd,notInConstruct:Cd},{character:".",before:"[Ww]",after:"[\\-.\\w]",inConstruct:Sd,notInConstruct:Cd},{character:":",before:"[ps]",after:"\\/",inConstruct:Sd,notInConstruct:Cd}]}}function aL(e){this.enter({type:"link",title:null,url:"",children:[]},e)}function Md(e){this.config.enter.autolinkProtocol.call(this,e)}function oL(e){this.config.exit.autolinkProtocol.call(this,e)}function sL(e){this.config.exit.data.call(this,e);const t=this.stack[this.stack.length-1];t.type,t.url="http://"+this.sliceSerialize(e)}function lL(e){this.config.exit.autolinkEmail.call(this,e)}function uL(e){this.exit(e)}function cL(e){Z_(e,[[/(https?:\/\/|www(?=\.))([-.\w]+)([^ \t\r\n]*)/gi,fL],[new RegExp("(?<=^|\\s|\\p{P}|\\p{S})([-.\\w+]+)@([-\\w]+(?:\\.[-\\w]+)+)","gu"),dL]],{ignore:["link","linkReference"]})}function fL(e,t,n,r,o){let l="";if(!q1(o)||(/^w/i.test(t)&&(n=t+n,t="",l="http://"),!mL(n)))return!1;const u=hL(n+r);if(!u[0])return!1;const f={type:"link",title:null,url:l+t+u[0],children:[{type:"text",value:t+u[0]}]};return u[1]?[f,{type:"text",value:u[1]}]:f}function dL(e,t,n,r){return!q1(r,!0)||/[-\d_]$/.test(n)?!1:{type:"link",title:null,url:"mailto:"+t+"@"+n,children:[{type:"text",value:t+"@"+n}]}}function mL(e){const t=e.split(".");return!(t.length<2||t[t.length-1]&&(/_/.test(t[t.length-1])||!/[a-zA-Z\d]/.test(t[t.length-1]))||t[t.length-2]&&(/_/.test(t[t.length-2])||!/[a-zA-Z\d]/.test(t[t.length-2])))}function hL(e){const t=/[!"&'),.:;<>?\]}]+$/.exec(e);if(!t)return[e,void 0];e=e.slice(0,t.index);let n=t[0],r=n.indexOf(")");const o=fv(e,"(");let l=fv(e,")");for(;r!==-1&&o>l;)e+=n.slice(0,r+1),n=n.slice(r+1),r=n.indexOf(")"),l++;return[e,n]}function q1(e,t){const n=e.input.charCodeAt(e.index-1);return(e.index===0||zr(n)||Bu(n))&&(!t||n!==47)}$1.peek=CL;function pL(){this.buffer()}function gL(e){this.enter({type:"footnoteReference",identifier:"",label:""},e)}function yL(){this.buffer()}function xL(e){this.enter({type:"footnoteDefinition",identifier:"",label:"",children:[]},e)}function vL(e){const t=this.resume(),n=this.stack[this.stack.length-1];n.type,n.identifier=Gn(this.sliceSerialize(e)).toLowerCase(),n.label=t}function bL(e){this.exit(e)}function TL(e){const t=this.resume(),n=this.stack[this.stack.length-1];n.type,n.identifier=Gn(this.sliceSerialize(e)).toLowerCase(),n.label=t}function SL(e){this.exit(e)}function CL(){return"["}function $1(e,t,n,r){const o=n.createTracker(r);let l=o.move("[^");const u=n.enter("footnoteReference"),f=n.enter("reference");return l+=o.move(n.safe(n.associationId(e),{after:"]",before:l})),f(),u(),l+=o.move("]"),l}function ML(){return{enter:{gfmFootnoteCallString:pL,gfmFootnoteCall:gL,gfmFootnoteDefinitionLabelString:yL,gfmFootnoteDefinition:xL},exit:{gfmFootnoteCallString:vL,gfmFootnoteCall:bL,gfmFootnoteDefinitionLabelString:TL,gfmFootnoteDefinition:SL}}}function wL(e){let t=!1;return e&&e.firstLineBlank&&(t=!0),{handlers:{footnoteDefinition:n,footnoteReference:$1},unsafe:[{character:"[",inConstruct:["label","phrasing","reference"]}]};function n(r,o,l,u){const f=l.createTracker(u);let m=f.move("[^");const d=l.enter("footnoteDefinition"),h=l.enter("label");return m+=f.move(l.safe(l.associationId(r),{before:m,after:"]"})),h(),m+=f.move("]:"),r.children&&r.children.length>0&&(f.shift(4),m+=f.move((t?`
`:" ")+l.indentLines(l.containerFlow(r,f.current()),t?Y1:AL))),d(),m}}function AL(e,t,n){return t===0?e:Y1(e,t,n)}function Y1(e,t,n){return(n?"":"    ")+e}const EL=["autolink","destinationLiteral","destinationRaw","reference","titleQuote","titleApostrophe"];K1.peek=RL;function DL(){return{canContainEols:["delete"],enter:{strikethrough:IL},exit:{strikethrough:NL}}}function kL(){return{unsafe:[{character:"~",inConstruct:"phrasing",notInConstruct:EL}],handlers:{delete:K1}}}function IL(e){this.enter({type:"delete",children:[]},e)}function NL(e){this.exit(e)}function K1(e,t,n,r){const o=n.createTracker(r),l=n.enter("strikethrough");let u=o.move("~~");return u+=n.containerPhrasing(e,{...o.current(),before:u,after:"~"}),u+=o.move("~~"),l(),u}function RL(){return"~"}function _L(e){return e.length}function LL(e,t){const n=t||{},r=(n.align||[]).concat(),o=n.stringLength||_L,l=[],u=[],f=[],m=[];let d=0,h=-1;for(;++h<e.length;){const A=[],_=[];let k=-1;for(e[h].length>d&&(d=e[h].length);++k<e[h].length;){const V=VL(e[h][k]);if(n.alignDelimiters!==!1){const I=o(V);_[k]=I,(m[k]===void 0||I>m[k])&&(m[k]=I)}A.push(V)}u[h]=A,f[h]=_}let y=-1;if(typeof r=="object"&&"length"in r)for(;++y<d;)l[y]=dv(r[y]);else{const A=dv(r);for(;++y<d;)l[y]=A}y=-1;const T=[],S=[];for(;++y<d;){const A=l[y];let _="",k="";A===99?(_=":",k=":"):A===108?_=":":A===114&&(k=":");let V=n.alignDelimiters===!1?1:Math.max(1,m[y]-_.length-k.length);const I=_+"-".repeat(V)+k;n.alignDelimiters!==!1&&(V=_.length+V+k.length,V>m[y]&&(m[y]=V),S[y]=V),T[y]=I}u.splice(1,0,T),f.splice(1,0,S),h=-1;const w=[];for(;++h<u.length;){const A=u[h],_=f[h];y=-1;const k=[];for(;++y<d;){const V=A[y]||"";let I="",B="";if(n.alignDelimiters!==!1){const U=m[y]-(_[y]||0),z=l[y];z===114?I=" ".repeat(U):z===99?U%2?(I=" ".repeat(U/2+.5),B=" ".repeat(U/2-.5)):(I=" ".repeat(U/2),B=I):B=" ".repeat(U)}n.delimiterStart!==!1&&!y&&k.push("|"),n.padding!==!1&&!(n.alignDelimiters===!1&&V==="")&&(n.delimiterStart!==!1||y)&&k.push(" "),n.alignDelimiters!==!1&&k.push(I),k.push(V),n.alignDelimiters!==!1&&k.push(B),n.padding!==!1&&k.push(" "),(n.delimiterEnd!==!1||y!==d-1)&&k.push("|")}w.push(n.delimiterEnd===!1?k.join("").replace(/ +$/,""):k.join(""))}return w.join(`
`)}function VL(e){return e==null?"":String(e)}function dv(e){const t=typeof e=="string"?e.codePointAt(0):0;return t===67||t===99?99:t===76||t===108?108:t===82||t===114?114:0}function PL(e,t,n,r){const o=n.enter("blockquote"),l=n.createTracker(r);l.move("> "),l.shift(2);const u=n.indentLines(n.containerFlow(e,l.current()),BL);return o(),u}function BL(e,t,n){return">"+(n?"":" ")+e}function FL(e,t){return mv(e,t.inConstruct,!0)&&!mv(e,t.notInConstruct,!1)}function mv(e,t,n){if(typeof t=="string"&&(t=[t]),!t||t.length===0)return n;let r=-1;for(;++r<t.length;)if(e.includes(t[r]))return!0;return!1}function hv(e,t,n,r){let o=-1;for(;++o<n.unsafe.length;)if(n.unsafe[o].character===`
`&&FL(n.stack,n.unsafe[o]))return/[ \t]/.test(r.before)?"":" ";return`\\
`}function OL(e,t){const n=String(e);let r=n.indexOf(t),o=r,l=0,u=0;if(typeof t!="string")throw new TypeError("Expected substring");for(;r!==-1;)r===o?++l>u&&(u=l):l=1,o=r+t.length,r=n.indexOf(t,o);return u}function jL(e,t){return!!(t.options.fences===!1&&e.value&&!e.lang&&/[^ \r\n]/.test(e.value)&&!/^[\t ]*(?:[\r\n]|$)|(?:^|[\r\n])[\t ]*$/.test(e.value))}function zL(e){const t=e.options.fence||"`";if(t!=="`"&&t!=="~")throw new Error("Cannot serialize code with `"+t+"` for `options.fence`, expected `` ` `` or `~`");return t}function HL(e,t,n,r){const o=zL(n),l=e.value||"",u=o==="`"?"GraveAccent":"Tilde";if(jL(e,n)){const y=n.enter("codeIndented"),T=n.indentLines(l,UL);return y(),T}const f=n.createTracker(r),m=o.repeat(Math.max(OL(l,o)+1,3)),d=n.enter("codeFenced");let h=f.move(m);if(e.lang){const y=n.enter(`codeFencedLang${u}`);h+=f.move(n.safe(e.lang,{before:h,after:" ",encode:["`"],...f.current()})),y()}if(e.lang&&e.meta){const y=n.enter(`codeFencedMeta${u}`);h+=f.move(" "),h+=f.move(n.safe(e.meta,{before:h,after:`
`,encode:["`"],...f.current()})),y()}return h+=f.move(`
`),l&&(h+=f.move(l+`
`)),h+=f.move(m),d(),h}function UL(e,t,n){return(n?"":"    ")+e}function Ym(e){const t=e.options.quote||'"';if(t!=='"'&&t!=="'")throw new Error("Cannot serialize title with `"+t+"` for `options.quote`, expected `\"`, or `'`");return t}function GL(e,t,n,r){const o=Ym(n),l=o==='"'?"Quote":"Apostrophe",u=n.enter("definition");let f=n.enter("label");const m=n.createTracker(r);let d=m.move("[");return d+=m.move(n.safe(n.associationId(e),{before:d,after:"]",...m.current()})),d+=m.move("]: "),f(),!e.url||/[\0- \u007F]/.test(e.url)?(f=n.enter("destinationLiteral"),d+=m.move("<"),d+=m.move(n.safe(e.url,{before:d,after:">",...m.current()})),d+=m.move(">")):(f=n.enter("destinationRaw"),d+=m.move(n.safe(e.url,{before:d,after:e.title?" ":`
`,...m.current()}))),f(),e.title&&(f=n.enter(`title${l}`),d+=m.move(" "+o),d+=m.move(n.safe(e.title,{before:d,after:o,...m.current()})),d+=m.move(o),f()),u(),d}function qL(e){const t=e.options.emphasis||"*";if(t!=="*"&&t!=="_")throw new Error("Cannot serialize emphasis with `"+t+"` for `options.emphasis`, expected `*`, or `_`");return t}function bs(e){return"&#x"+e.toString(16).toUpperCase()+";"}function wu(e,t,n){const r=Ha(e),o=Ha(t);return r===void 0?o===void 0?n==="_"?{inside:!0,outside:!0}:{inside:!1,outside:!1}:o===1?{inside:!0,outside:!0}:{inside:!1,outside:!0}:r===1?o===void 0?{inside:!1,outside:!1}:o===1?{inside:!0,outside:!0}:{inside:!1,outside:!1}:o===void 0?{inside:!1,outside:!1}:o===1?{inside:!0,outside:!1}:{inside:!1,outside:!1}}X1.peek=$L;function X1(e,t,n,r){const o=qL(n),l=n.enter("emphasis"),u=n.createTracker(r),f=u.move(o);let m=u.move(n.containerPhrasing(e,{after:o,before:f,...u.current()}));const d=m.charCodeAt(0),h=wu(r.before.charCodeAt(r.before.length-1),d,o);h.inside&&(m=bs(d)+m.slice(1));const y=m.charCodeAt(m.length-1),T=wu(r.after.charCodeAt(0),y,o);T.inside&&(m=m.slice(0,-1)+bs(y));const S=u.move(o);return l(),n.attentionEncodeSurroundingInfo={after:T.outside,before:h.outside},f+m+S}function $L(e,t,n){return n.options.emphasis||"*"}function YL(e,t){let n=!1;return qm(e,function(r){if("value"in r&&/\r?\n|\r/.test(r.value)||r.type==="break")return n=!0,rm}),!!((!e.depth||e.depth<3)&&Fm(e)&&(t.options.setext||n))}function KL(e,t,n,r){const o=Math.max(Math.min(6,e.depth||1),1),l=n.createTracker(r);if(YL(e,n)){const h=n.enter("headingSetext"),y=n.enter("phrasing"),T=n.containerPhrasing(e,{...l.current(),before:`
`,after:`
`});return y(),h(),T+`
`+(o===1?"=":"-").repeat(T.length-(Math.max(T.lastIndexOf("\r"),T.lastIndexOf(`
`))+1))}const u="#".repeat(o),f=n.enter("headingAtx"),m=n.enter("phrasing");l.move(u+" ");let d=n.containerPhrasing(e,{before:"# ",after:`
`,...l.current()});return/^[\t ]/.test(d)&&(d=bs(d.charCodeAt(0))+d.slice(1)),d=d?u+" "+d:u,n.options.closeAtx&&(d+=" "+u),m(),f(),d}W1.peek=XL;function W1(e){return e.value||""}function XL(){return"<"}Q1.peek=WL;function Q1(e,t,n,r){const o=Ym(n),l=o==='"'?"Quote":"Apostrophe",u=n.enter("image");let f=n.enter("label");const m=n.createTracker(r);let d=m.move("![");return d+=m.move(n.safe(e.alt,{before:d,after:"]",...m.current()})),d+=m.move("]("),f(),!e.url&&e.title||/[\0- \u007F]/.test(e.url)?(f=n.enter("destinationLiteral"),d+=m.move("<"),d+=m.move(n.safe(e.url,{before:d,after:">",...m.current()})),d+=m.move(">")):(f=n.enter("destinationRaw"),d+=m.move(n.safe(e.url,{before:d,after:e.title?" ":")",...m.current()}))),f(),e.title&&(f=n.enter(`title${l}`),d+=m.move(" "+o),d+=m.move(n.safe(e.title,{before:d,after:o,...m.current()})),d+=m.move(o),f()),d+=m.move(")"),u(),d}function WL(){return"!"}J1.peek=QL;function J1(e,t,n,r){const o=e.referenceType,l=n.enter("imageReference");let u=n.enter("label");const f=n.createTracker(r);let m=f.move("![");const d=n.safe(e.alt,{before:m,after:"]",...f.current()});m+=f.move(d+"]["),u();const h=n.stack;n.stack=[],u=n.enter("reference");const y=n.safe(n.associationId(e),{before:m,after:"]",...f.current()});return u(),n.stack=h,l(),o==="full"||!d||d!==y?m+=f.move(y+"]"):o==="shortcut"?m=m.slice(0,-1):m+=f.move("]"),m}function QL(){return"!"}Z1.peek=JL;function Z1(e,t,n){let r=e.value||"",o="`",l=-1;for(;new RegExp("(^|[^`])"+o+"([^`]|$)").test(r);)o+="`";for(/[^ \r\n]/.test(r)&&(/^[ \r\n]/.test(r)&&/[ \r\n]$/.test(r)||/^`|`$/.test(r))&&(r=" "+r+" ");++l<n.unsafe.length;){const u=n.unsafe[l],f=n.compilePattern(u);let m;if(u.atBreak)for(;m=f.exec(r);){let d=m.index;r.charCodeAt(d)===10&&r.charCodeAt(d-1)===13&&d--,r=r.slice(0,d)+" "+r.slice(m.index+1)}}return o+r+o}function JL(){return"`"}function eT(e,t){const n=Fm(e);return!!(!t.options.resourceLink&&e.url&&!e.title&&e.children&&e.children.length===1&&e.children[0].type==="text"&&(n===e.url||"mailto:"+n===e.url)&&/^[a-z][a-z+.-]+:/i.test(e.url)&&!/[\0- <>\u007F]/.test(e.url))}tT.peek=ZL;function tT(e,t,n,r){const o=Ym(n),l=o==='"'?"Quote":"Apostrophe",u=n.createTracker(r);let f,m;if(eT(e,n)){const h=n.stack;n.stack=[],f=n.enter("autolink");let y=u.move("<");return y+=u.move(n.containerPhrasing(e,{before:y,after:">",...u.current()})),y+=u.move(">"),f(),n.stack=h,y}f=n.enter("link"),m=n.enter("label");let d=u.move("[");return d+=u.move(n.containerPhrasing(e,{before:d,after:"](",...u.current()})),d+=u.move("]("),m(),!e.url&&e.title||/[\0- \u007F]/.test(e.url)?(m=n.enter("destinationLiteral"),d+=u.move("<"),d+=u.move(n.safe(e.url,{before:d,after:">",...u.current()})),d+=u.move(">")):(m=n.enter("destinationRaw"),d+=u.move(n.safe(e.url,{before:d,after:e.title?" ":")",...u.current()}))),m(),e.title&&(m=n.enter(`title${l}`),d+=u.move(" "+o),d+=u.move(n.safe(e.title,{before:d,after:o,...u.current()})),d+=u.move(o),m()),d+=u.move(")"),f(),d}function ZL(e,t,n){return eT(e,n)?"<":"["}nT.peek=eV;function nT(e,t,n,r){const o=e.referenceType,l=n.enter("linkReference");let u=n.enter("label");const f=n.createTracker(r);let m=f.move("[");const d=n.containerPhrasing(e,{before:m,after:"]",...f.current()});m+=f.move(d+"]["),u();const h=n.stack;n.stack=[],u=n.enter("reference");const y=n.safe(n.associationId(e),{before:m,after:"]",...f.current()});return u(),n.stack=h,l(),o==="full"||!d||d!==y?m+=f.move(y+"]"):o==="shortcut"?m=m.slice(0,-1):m+=f.move("]"),m}function eV(){return"["}function Km(e){const t=e.options.bullet||"*";if(t!=="*"&&t!=="+"&&t!=="-")throw new Error("Cannot serialize items with `"+t+"` for `options.bullet`, expected `*`, `+`, or `-`");return t}function tV(e){const t=Km(e),n=e.options.bulletOther;if(!n)return t==="*"?"-":"*";if(n!=="*"&&n!=="+"&&n!=="-")throw new Error("Cannot serialize items with `"+n+"` for `options.bulletOther`, expected `*`, `+`, or `-`");if(n===t)throw new Error("Expected `bullet` (`"+t+"`) and `bulletOther` (`"+n+"`) to be different");return n}function nV(e){const t=e.options.bulletOrdered||".";if(t!=="."&&t!==")")throw new Error("Cannot serialize items with `"+t+"` for `options.bulletOrdered`, expected `.` or `)`");return t}function iT(e){const t=e.options.rule||"*";if(t!=="*"&&t!=="-"&&t!=="_")throw new Error("Cannot serialize rules with `"+t+"` for `options.rule`, expected `*`, `-`, or `_`");return t}function iV(e,t,n,r){const o=n.enter("list"),l=n.bulletCurrent;let u=e.ordered?nV(n):Km(n);const f=e.ordered?u==="."?")":".":tV(n);let m=t&&n.bulletLastUsed?u===n.bulletLastUsed:!1;if(!e.ordered){const h=e.children?e.children[0]:void 0;if((u==="*"||u==="-")&&h&&(!h.children||!h.children[0])&&n.stack[n.stack.length-1]==="list"&&n.stack[n.stack.length-2]==="listItem"&&n.stack[n.stack.length-3]==="list"&&n.stack[n.stack.length-4]==="listItem"&&n.indexStack[n.indexStack.length-1]===0&&n.indexStack[n.indexStack.length-2]===0&&n.indexStack[n.indexStack.length-3]===0&&(m=!0),iT(n)===u&&h){let y=-1;for(;++y<e.children.length;){const T=e.children[y];if(T&&T.type==="listItem"&&T.children&&T.children[0]&&T.children[0].type==="thematicBreak"){m=!0;break}}}}m&&(u=f),n.bulletCurrent=u;const d=n.containerFlow(e,r);return n.bulletLastUsed=u,n.bulletCurrent=l,o(),d}function rV(e){const t=e.options.listItemIndent||"one";if(t!=="tab"&&t!=="one"&&t!=="mixed")throw new Error("Cannot serialize items with `"+t+"` for `options.listItemIndent`, expected `tab`, `one`, or `mixed`");return t}function aV(e,t,n,r){const o=rV(n);let l=n.bulletCurrent||Km(n);t&&t.type==="list"&&t.ordered&&(l=(typeof t.start=="number"&&t.start>-1?t.start:1)+(n.options.incrementListMarker===!1?0:t.children.indexOf(e))+l);let u=l.length+1;(o==="tab"||o==="mixed"&&(t&&t.type==="list"&&t.spread||e.spread))&&(u=Math.ceil(u/4)*4);const f=n.createTracker(r);f.move(l+" ".repeat(u-l.length)),f.shift(u);const m=n.enter("listItem"),d=n.indentLines(n.containerFlow(e,f.current()),h);return m(),d;function h(y,T,S){return T?(S?"":" ".repeat(u))+y:(S?l:l+" ".repeat(u-l.length))+y}}function oV(e,t,n,r){const o=n.enter("paragraph"),l=n.enter("phrasing"),u=n.containerPhrasing(e,r);return l(),o(),u}const sV=ju(["break","delete","emphasis","footnote","footnoteReference","image","imageReference","inlineCode","inlineMath","link","linkReference","mdxJsxTextElement","mdxTextExpression","strong","text","textDirective"]);function lV(e,t,n,r){return(e.children.some(function(u){return sV(u)})?n.containerPhrasing:n.containerFlow).call(n,e,r)}function uV(e){const t=e.options.strong||"*";if(t!=="*"&&t!=="_")throw new Error("Cannot serialize strong with `"+t+"` for `options.strong`, expected `*`, or `_`");return t}rT.peek=cV;function rT(e,t,n,r){const o=uV(n),l=n.enter("strong"),u=n.createTracker(r),f=u.move(o+o);let m=u.move(n.containerPhrasing(e,{after:o,before:f,...u.current()}));const d=m.charCodeAt(0),h=wu(r.before.charCodeAt(r.before.length-1),d,o);h.inside&&(m=bs(d)+m.slice(1));const y=m.charCodeAt(m.length-1),T=wu(r.after.charCodeAt(0),y,o);T.inside&&(m=m.slice(0,-1)+bs(y));const S=u.move(o+o);return l(),n.attentionEncodeSurroundingInfo={after:T.outside,before:h.outside},f+m+S}function cV(e,t,n){return n.options.strong||"*"}function fV(e,t,n,r){return n.safe(e.value,r)}function dV(e){const t=e.options.ruleRepetition||3;if(t<3)throw new Error("Cannot serialize rules with repetition `"+t+"` for `options.ruleRepetition`, expected `3` or more");return t}function mV(e,t,n){const r=(iT(n)+(n.options.ruleSpaces?" ":"")).repeat(dV(n));return n.options.ruleSpaces?r.slice(0,-1):r}const aT={blockquote:PL,break:hv,code:HL,definition:GL,emphasis:X1,hardBreak:hv,heading:KL,html:W1,image:Q1,imageReference:J1,inlineCode:Z1,link:tT,linkReference:nT,list:iV,listItem:aV,paragraph:oV,root:lV,strong:rT,text:fV,thematicBreak:mV};function hV(){return{enter:{table:pV,tableData:pv,tableHeader:pv,tableRow:yV},exit:{codeText:xV,table:gV,tableData:wd,tableHeader:wd,tableRow:wd}}}function pV(e){const t=e._align;this.enter({type:"table",align:t.map(function(n){return n==="none"?null:n}),children:[]},e),this.data.inTable=!0}function gV(e){this.exit(e),this.data.inTable=void 0}function yV(e){this.enter({type:"tableRow",children:[]},e)}function wd(e){this.exit(e)}function pv(e){this.enter({type:"tableCell",children:[]},e)}function xV(e){let t=this.resume();this.data.inTable&&(t=t.replace(/\\([\\|])/g,vV));const n=this.stack[this.stack.length-1];n.type,n.value=t,this.exit(e)}function vV(e,t){return t==="|"?t:e}function bV(e){const t=e||{},n=t.tableCellPadding,r=t.tablePipeAlign,o=t.stringLength,l=n?" ":"|";return{unsafe:[{character:"\r",inConstruct:"tableCell"},{character:`
`,inConstruct:"tableCell"},{atBreak:!0,character:"|",after:"[	 :-]"},{character:"|",inConstruct:"tableCell"},{atBreak:!0,character:":",after:"-"},{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{inlineCode:T,table:u,tableCell:m,tableRow:f}};function u(S,w,A,_){return d(h(S,A,_),S.align)}function f(S,w,A,_){const k=y(S,A,_),V=d([k]);return V.slice(0,V.indexOf(`
`))}function m(S,w,A,_){const k=A.enter("tableCell"),V=A.enter("phrasing"),I=A.containerPhrasing(S,{..._,before:l,after:l});return V(),k(),I}function d(S,w){return LL(S,{align:w,alignDelimiters:r,padding:n,stringLength:o})}function h(S,w,A){const _=S.children;let k=-1;const V=[],I=w.enter("table");for(;++k<_.length;)V[k]=y(_[k],w,A);return I(),V}function y(S,w,A){const _=S.children;let k=-1;const V=[],I=w.enter("tableRow");for(;++k<_.length;)V[k]=m(_[k],S,w,A);return I(),V}function T(S,w,A){let _=aT.inlineCode(S,w,A);return A.stack.includes("tableCell")&&(_=_.replace(/\|/g,"\\$&")),_}}function TV(){return{exit:{taskListCheckValueChecked:gv,taskListCheckValueUnchecked:gv,paragraph:CV}}}function SV(){return{unsafe:[{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{listItem:MV}}}function gv(e){const t=this.stack[this.stack.length-2];t.type,t.checked=e.type==="taskListCheckValueChecked"}function CV(e){const t=this.stack[this.stack.length-2];if(t&&t.type==="listItem"&&typeof t.checked=="boolean"){const n=this.stack[this.stack.length-1];n.type;const r=n.children[0];if(r&&r.type==="text"){const o=t.children;let l=-1,u;for(;++l<o.length;){const f=o[l];if(f.type==="paragraph"){u=f;break}}u===n&&(r.value=r.value.slice(1),r.value.length===0?n.children.shift():n.position&&r.position&&typeof r.position.start.offset=="number"&&(r.position.start.column++,r.position.start.offset++,n.position.start=Object.assign({},r.position.start)))}}this.exit(e)}function MV(e,t,n,r){const o=e.children[0],l=typeof e.checked=="boolean"&&o&&o.type==="paragraph",u="["+(e.checked?"x":" ")+"] ",f=n.createTracker(r);l&&f.move(u);let m=aT.listItem(e,t,n,{...r,...f.current()});return l&&(m=m.replace(/^(?:[*+-]|\d+\.)([\r\n]| {1,3})/,d)),m;function d(h){return h+u}}function wV(){return[iL(),ML(),DL(),hV(),TV()]}function AV(e){return{extensions:[rL(),wL(e),kL(),bV(e),SV()]}}const EV={tokenize:_V,partial:!0},oT={tokenize:LV,partial:!0},sT={tokenize:VV,partial:!0},lT={tokenize:PV,partial:!0},DV={tokenize:BV,partial:!0},uT={name:"wwwAutolink",tokenize:NV,previous:fT},cT={name:"protocolAutolink",tokenize:RV,previous:dT},Ci={name:"emailAutolink",tokenize:IV,previous:mT},ni={};function kV(){return{text:ni}}let Nr=48;for(;Nr<123;)ni[Nr]=Ci,Nr++,Nr===58?Nr=65:Nr===91&&(Nr=97);ni[43]=Ci;ni[45]=Ci;ni[46]=Ci;ni[95]=Ci;ni[72]=[Ci,cT];ni[104]=[Ci,cT];ni[87]=[Ci,uT];ni[119]=[Ci,uT];function IV(e,t,n){const r=this;let o,l;return u;function u(y){return!lm(y)||!mT.call(r,r.previous)||Xm(r.events)?n(y):(e.enter("literalAutolink"),e.enter("literalAutolinkEmail"),f(y))}function f(y){return lm(y)?(e.consume(y),f):y===64?(e.consume(y),m):n(y)}function m(y){return y===46?e.check(DV,h,d)(y):y===45||y===95||Ut(y)?(l=!0,e.consume(y),m):h(y)}function d(y){return e.consume(y),o=!0,m}function h(y){return l&&o&&Kt(r.previous)?(e.exit("literalAutolinkEmail"),e.exit("literalAutolink"),t(y)):n(y)}}function NV(e,t,n){const r=this;return o;function o(u){return u!==87&&u!==119||!fT.call(r,r.previous)||Xm(r.events)?n(u):(e.enter("literalAutolink"),e.enter("literalAutolinkWww"),e.check(EV,e.attempt(oT,e.attempt(sT,l),n),n)(u))}function l(u){return e.exit("literalAutolinkWww"),e.exit("literalAutolink"),t(u)}}function RV(e,t,n){const r=this;let o="",l=!1;return u;function u(y){return(y===72||y===104)&&dT.call(r,r.previous)&&!Xm(r.events)?(e.enter("literalAutolink"),e.enter("literalAutolinkHttp"),o+=String.fromCodePoint(y),e.consume(y),f):n(y)}function f(y){if(Kt(y)&&o.length<5)return o+=String.fromCodePoint(y),e.consume(y),f;if(y===58){const T=o.toLowerCase();if(T==="http"||T==="https")return e.consume(y),m}return n(y)}function m(y){return y===47?(e.consume(y),l?d:(l=!0,m)):n(y)}function d(y){return y===null||Su(y)||st(y)||zr(y)||Bu(y)?n(y):e.attempt(oT,e.attempt(sT,h),n)(y)}function h(y){return e.exit("literalAutolinkHttp"),e.exit("literalAutolink"),t(y)}}function _V(e,t,n){let r=0;return o;function o(u){return(u===87||u===119)&&r<3?(r++,e.consume(u),o):u===46&&r===3?(e.consume(u),l):n(u)}function l(u){return u===null?n(u):t(u)}}function LV(e,t,n){let r,o,l;return u;function u(d){return d===46||d===95?e.check(lT,m,f)(d):d===null||st(d)||zr(d)||d!==45&&Bu(d)?m(d):(l=!0,e.consume(d),u)}function f(d){return d===95?r=!0:(o=r,r=void 0),e.consume(d),u}function m(d){return o||r||!l?n(d):t(d)}}function VV(e,t){let n=0,r=0;return o;function o(u){return u===40?(n++,e.consume(u),o):u===41&&r<n?l(u):u===33||u===34||u===38||u===39||u===41||u===42||u===44||u===46||u===58||u===59||u===60||u===63||u===93||u===95||u===126?e.check(lT,t,l)(u):u===null||st(u)||zr(u)?t(u):(e.consume(u),o)}function l(u){return u===41&&r++,e.consume(u),o}}function PV(e,t,n){return r;function r(f){return f===33||f===34||f===39||f===41||f===42||f===44||f===46||f===58||f===59||f===63||f===95||f===126?(e.consume(f),r):f===38?(e.consume(f),l):f===93?(e.consume(f),o):f===60||f===null||st(f)||zr(f)?t(f):n(f)}function o(f){return f===null||f===40||f===91||st(f)||zr(f)?t(f):r(f)}function l(f){return Kt(f)?u(f):n(f)}function u(f){return f===59?(e.consume(f),r):Kt(f)?(e.consume(f),u):n(f)}}function BV(e,t,n){return r;function r(l){return e.consume(l),o}function o(l){return Ut(l)?n(l):t(l)}}function fT(e){return e===null||e===40||e===42||e===95||e===91||e===93||e===126||st(e)}function dT(e){return!Kt(e)}function mT(e){return!(e===47||lm(e))}function lm(e){return e===43||e===45||e===46||e===95||Ut(e)}function Xm(e){let t=e.length,n=!1;for(;t--;){const r=e[t][1];if((r.type==="labelLink"||r.type==="labelImage")&&!r._balanced){n=!0;break}if(r._gfmAutolinkLiteralWalkedInto){n=!1;break}}return e.length>0&&!n&&(e[e.length-1][1]._gfmAutolinkLiteralWalkedInto=!0),n}const FV={tokenize:$V,partial:!0};function OV(){return{document:{91:{name:"gfmFootnoteDefinition",tokenize:UV,continuation:{tokenize:GV},exit:qV}},text:{91:{name:"gfmFootnoteCall",tokenize:HV},93:{name:"gfmPotentialFootnoteCall",add:"after",tokenize:jV,resolveTo:zV}}}}function jV(e,t,n){const r=this;let o=r.events.length;const l=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let u;for(;o--;){const m=r.events[o][1];if(m.type==="labelImage"){u=m;break}if(m.type==="gfmFootnoteCall"||m.type==="labelLink"||m.type==="label"||m.type==="image"||m.type==="link")break}return f;function f(m){if(!u||!u._balanced)return n(m);const d=Gn(r.sliceSerialize({start:u.end,end:r.now()}));return d.codePointAt(0)!==94||!l.includes(d.slice(1))?n(m):(e.enter("gfmFootnoteCallLabelMarker"),e.consume(m),e.exit("gfmFootnoteCallLabelMarker"),t(m))}}function zV(e,t){let n=e.length;for(;n--;)if(e[n][1].type==="labelImage"&&e[n][0]==="enter"){e[n][1];break}e[n+1][1].type="data",e[n+3][1].type="gfmFootnoteCallLabelMarker";const r={type:"gfmFootnoteCall",start:Object.assign({},e[n+3][1].start),end:Object.assign({},e[e.length-1][1].end)},o={type:"gfmFootnoteCallMarker",start:Object.assign({},e[n+3][1].end),end:Object.assign({},e[n+3][1].end)};o.end.column++,o.end.offset++,o.end._bufferIndex++;const l={type:"gfmFootnoteCallString",start:Object.assign({},o.end),end:Object.assign({},e[e.length-1][1].start)},u={type:"chunkString",contentType:"string",start:Object.assign({},l.start),end:Object.assign({},l.end)},f=[e[n+1],e[n+2],["enter",r,t],e[n+3],e[n+4],["enter",o,t],["exit",o,t],["enter",l,t],["enter",u,t],["exit",u,t],["exit",l,t],e[e.length-2],e[e.length-1],["exit",r,t]];return e.splice(n,e.length-n+1,...f),e}function HV(e,t,n){const r=this,o=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let l=0,u;return f;function f(y){return e.enter("gfmFootnoteCall"),e.enter("gfmFootnoteCallLabelMarker"),e.consume(y),e.exit("gfmFootnoteCallLabelMarker"),m}function m(y){return y!==94?n(y):(e.enter("gfmFootnoteCallMarker"),e.consume(y),e.exit("gfmFootnoteCallMarker"),e.enter("gfmFootnoteCallString"),e.enter("chunkString").contentType="string",d)}function d(y){if(l>999||y===93&&!u||y===null||y===91||st(y))return n(y);if(y===93){e.exit("chunkString");const T=e.exit("gfmFootnoteCallString");return o.includes(Gn(r.sliceSerialize(T)))?(e.enter("gfmFootnoteCallLabelMarker"),e.consume(y),e.exit("gfmFootnoteCallLabelMarker"),e.exit("gfmFootnoteCall"),t):n(y)}return st(y)||(u=!0),l++,e.consume(y),y===92?h:d}function h(y){return y===91||y===92||y===93?(e.consume(y),l++,d):d(y)}}function UV(e,t,n){const r=this,o=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let l,u=0,f;return m;function m(w){return e.enter("gfmFootnoteDefinition")._container=!0,e.enter("gfmFootnoteDefinitionLabel"),e.enter("gfmFootnoteDefinitionLabelMarker"),e.consume(w),e.exit("gfmFootnoteDefinitionLabelMarker"),d}function d(w){return w===94?(e.enter("gfmFootnoteDefinitionMarker"),e.consume(w),e.exit("gfmFootnoteDefinitionMarker"),e.enter("gfmFootnoteDefinitionLabelString"),e.enter("chunkString").contentType="string",h):n(w)}function h(w){if(u>999||w===93&&!f||w===null||w===91||st(w))return n(w);if(w===93){e.exit("chunkString");const A=e.exit("gfmFootnoteDefinitionLabelString");return l=Gn(r.sliceSerialize(A)),e.enter("gfmFootnoteDefinitionLabelMarker"),e.consume(w),e.exit("gfmFootnoteDefinitionLabelMarker"),e.exit("gfmFootnoteDefinitionLabel"),T}return st(w)||(f=!0),u++,e.consume(w),w===92?y:h}function y(w){return w===91||w===92||w===93?(e.consume(w),u++,h):h(w)}function T(w){return w===58?(e.enter("definitionMarker"),e.consume(w),e.exit("definitionMarker"),o.includes(l)||o.push(l),Ye(e,S,"gfmFootnoteDefinitionWhitespace")):n(w)}function S(w){return t(w)}}function GV(e,t,n){return e.check(Ns,t,e.attempt(FV,t,n))}function qV(e){e.exit("gfmFootnoteDefinition")}function $V(e,t,n){const r=this;return Ye(e,o,"gfmFootnoteDefinitionIndent",5);function o(l){const u=r.events[r.events.length-1];return u&&u[1].type==="gfmFootnoteDefinitionIndent"&&u[2].sliceSerialize(u[1],!0).length===4?t(l):n(l)}}function YV(e){let n=(e||{}).singleTilde;const r={name:"strikethrough",tokenize:l,resolveAll:o};return n==null&&(n=!0),{text:{126:r},insideSpan:{null:[r]},attentionMarkers:{null:[126]}};function o(u,f){let m=-1;for(;++m<u.length;)if(u[m][0]==="enter"&&u[m][1].type==="strikethroughSequenceTemporary"&&u[m][1]._close){let d=m;for(;d--;)if(u[d][0]==="exit"&&u[d][1].type==="strikethroughSequenceTemporary"&&u[d][1]._open&&u[m][1].end.offset-u[m][1].start.offset===u[d][1].end.offset-u[d][1].start.offset){u[m][1].type="strikethroughSequence",u[d][1].type="strikethroughSequence";const h={type:"strikethrough",start:Object.assign({},u[d][1].start),end:Object.assign({},u[m][1].end)},y={type:"strikethroughText",start:Object.assign({},u[d][1].end),end:Object.assign({},u[m][1].start)},T=[["enter",h,f],["enter",u[d][1],f],["exit",u[d][1],f],["enter",y,f]],S=f.parser.constructs.insideSpan.null;S&&vn(T,T.length,0,Fu(S,u.slice(d+1,m),f)),vn(T,T.length,0,[["exit",y,f],["enter",u[m][1],f],["exit",u[m][1],f],["exit",h,f]]),vn(u,d-1,m-d+3,T),m=d+T.length-2;break}}for(m=-1;++m<u.length;)u[m][1].type==="strikethroughSequenceTemporary"&&(u[m][1].type="data");return u}function l(u,f,m){const d=this.previous,h=this.events;let y=0;return T;function T(w){return d===126&&h[h.length-1][1].type!=="characterEscape"?m(w):(u.enter("strikethroughSequenceTemporary"),S(w))}function S(w){const A=Ha(d);if(w===126)return y>1?m(w):(u.consume(w),y++,S);if(y<2&&!n)return m(w);const _=u.exit("strikethroughSequenceTemporary"),k=Ha(w);return _._open=!k||k===2&&!!A,_._close=!A||A===2&&!!k,f(w)}}}class KV{constructor(){this.map=[]}add(t,n,r){XV(this,t,n,r)}consume(t){if(this.map.sort(function(l,u){return l[0]-u[0]}),this.map.length===0)return;let n=this.map.length;const r=[];for(;n>0;)n-=1,r.push(t.slice(this.map[n][0]+this.map[n][1]),this.map[n][2]),t.length=this.map[n][0];r.push(t.slice()),t.length=0;let o=r.pop();for(;o;){for(const l of o)t.push(l);o=r.pop()}this.map.length=0}}function XV(e,t,n,r){let o=0;if(!(n===0&&r.length===0)){for(;o<e.map.length;){if(e.map[o][0]===t){e.map[o][1]+=n,e.map[o][2].push(...r);return}o+=1}e.map.push([t,n,r])}}function WV(e,t){let n=!1;const r=[];for(;t<e.length;){const o=e[t];if(n){if(o[0]==="enter")o[1].type==="tableContent"&&r.push(e[t+1][1].type==="tableDelimiterMarker"?"left":"none");else if(o[1].type==="tableContent"){if(e[t-1][1].type==="tableDelimiterMarker"){const l=r.length-1;r[l]=r[l]==="left"?"center":"right"}}else if(o[1].type==="tableDelimiterRow")break}else o[0]==="enter"&&o[1].type==="tableDelimiterRow"&&(n=!0);t+=1}return r}function QV(){return{flow:{null:{name:"table",tokenize:JV,resolveAll:ZV}}}}function JV(e,t,n){const r=this;let o=0,l=0,u;return f;function f(H){let ue=r.events.length-1;for(;ue>-1;){const le=r.events[ue][1].type;if(le==="lineEnding"||le==="linePrefix")ue--;else break}const fe=ue>-1?r.events[ue][1].type:null,he=fe==="tableHead"||fe==="tableRow"?z:m;return he===z&&r.parser.lazy[r.now().line]?n(H):he(H)}function m(H){return e.enter("tableHead"),e.enter("tableRow"),d(H)}function d(H){return H===124||(u=!0,l+=1),h(H)}function h(H){return H===null?n(H):we(H)?l>1?(l=0,r.interrupt=!0,e.exit("tableRow"),e.enter("lineEnding"),e.consume(H),e.exit("lineEnding"),S):n(H):Ue(H)?Ye(e,h,"whitespace")(H):(l+=1,u&&(u=!1,o+=1),H===124?(e.enter("tableCellDivider"),e.consume(H),e.exit("tableCellDivider"),u=!0,h):(e.enter("data"),y(H)))}function y(H){return H===null||H===124||st(H)?(e.exit("data"),h(H)):(e.consume(H),H===92?T:y)}function T(H){return H===92||H===124?(e.consume(H),y):y(H)}function S(H){return r.interrupt=!1,r.parser.lazy[r.now().line]?n(H):(e.enter("tableDelimiterRow"),u=!1,Ue(H)?Ye(e,w,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(H):w(H))}function w(H){return H===45||H===58?_(H):H===124?(u=!0,e.enter("tableCellDivider"),e.consume(H),e.exit("tableCellDivider"),A):U(H)}function A(H){return Ue(H)?Ye(e,_,"whitespace")(H):_(H)}function _(H){return H===58?(l+=1,u=!0,e.enter("tableDelimiterMarker"),e.consume(H),e.exit("tableDelimiterMarker"),k):H===45?(l+=1,k(H)):H===null||we(H)?B(H):U(H)}function k(H){return H===45?(e.enter("tableDelimiterFiller"),V(H)):U(H)}function V(H){return H===45?(e.consume(H),V):H===58?(u=!0,e.exit("tableDelimiterFiller"),e.enter("tableDelimiterMarker"),e.consume(H),e.exit("tableDelimiterMarker"),I):(e.exit("tableDelimiterFiller"),I(H))}function I(H){return Ue(H)?Ye(e,B,"whitespace")(H):B(H)}function B(H){return H===124?w(H):H===null||we(H)?!u||o!==l?U(H):(e.exit("tableDelimiterRow"),e.exit("tableHead"),t(H)):U(H)}function U(H){return n(H)}function z(H){return e.enter("tableRow"),ie(H)}function ie(H){return H===124?(e.enter("tableCellDivider"),e.consume(H),e.exit("tableCellDivider"),ie):H===null||we(H)?(e.exit("tableRow"),t(H)):Ue(H)?Ye(e,ie,"whitespace")(H):(e.enter("data"),se(H))}function se(H){return H===null||H===124||st(H)?(e.exit("data"),ie(H)):(e.consume(H),H===92?ge:se)}function ge(H){return H===92||H===124?(e.consume(H),se):se(H)}}function ZV(e,t){let n=-1,r=!0,o=0,l=[0,0,0,0],u=[0,0,0,0],f=!1,m=0,d,h,y;const T=new KV;for(;++n<e.length;){const S=e[n],w=S[1];S[0]==="enter"?w.type==="tableHead"?(f=!1,m!==0&&(yv(T,t,m,d,h),h=void 0,m=0),d={type:"table",start:Object.assign({},w.start),end:Object.assign({},w.end)},T.add(n,0,[["enter",d,t]])):w.type==="tableRow"||w.type==="tableDelimiterRow"?(r=!0,y=void 0,l=[0,0,0,0],u=[0,n+1,0,0],f&&(f=!1,h={type:"tableBody",start:Object.assign({},w.start),end:Object.assign({},w.end)},T.add(n,0,[["enter",h,t]])),o=w.type==="tableDelimiterRow"?2:h?3:1):o&&(w.type==="data"||w.type==="tableDelimiterMarker"||w.type==="tableDelimiterFiller")?(r=!1,u[2]===0&&(l[1]!==0&&(u[0]=u[1],y=iu(T,t,l,o,void 0,y),l=[0,0,0,0]),u[2]=n)):w.type==="tableCellDivider"&&(r?r=!1:(l[1]!==0&&(u[0]=u[1],y=iu(T,t,l,o,void 0,y)),l=u,u=[l[1],n,0,0])):w.type==="tableHead"?(f=!0,m=n):w.type==="tableRow"||w.type==="tableDelimiterRow"?(m=n,l[1]!==0?(u[0]=u[1],y=iu(T,t,l,o,n,y)):u[1]!==0&&(y=iu(T,t,u,o,n,y)),o=0):o&&(w.type==="data"||w.type==="tableDelimiterMarker"||w.type==="tableDelimiterFiller")&&(u[3]=n)}for(m!==0&&yv(T,t,m,d,h),T.consume(t.events),n=-1;++n<t.events.length;){const S=t.events[n];S[0]==="enter"&&S[1].type==="table"&&(S[1]._align=WV(t.events,n))}return e}function iu(e,t,n,r,o,l){const u=r===1?"tableHeader":r===2?"tableDelimiter":"tableData",f="tableContent";n[0]!==0&&(l.end=Object.assign({},_a(t.events,n[0])),e.add(n[0],0,[["exit",l,t]]));const m=_a(t.events,n[1]);if(l={type:u,start:Object.assign({},m),end:Object.assign({},m)},e.add(n[1],0,[["enter",l,t]]),n[2]!==0){const d=_a(t.events,n[2]),h=_a(t.events,n[3]),y={type:f,start:Object.assign({},d),end:Object.assign({},h)};if(e.add(n[2],0,[["enter",y,t]]),r!==2){const T=t.events[n[2]],S=t.events[n[3]];if(T[1].end=Object.assign({},S[1].end),T[1].type="chunkText",T[1].contentType="text",n[3]>n[2]+1){const w=n[2]+1,A=n[3]-n[2]-1;e.add(w,A,[])}}e.add(n[3]+1,0,[["exit",y,t]])}return o!==void 0&&(l.end=Object.assign({},_a(t.events,o)),e.add(o,0,[["exit",l,t]]),l=void 0),l}function yv(e,t,n,r,o){const l=[],u=_a(t.events,n);o&&(o.end=Object.assign({},u),l.push(["exit",o,t])),r.end=Object.assign({},u),l.push(["exit",r,t]),e.add(n+1,0,l)}function _a(e,t){const n=e[t],r=n[0]==="enter"?"start":"end";return n[1][r]}const eP={name:"tasklistCheck",tokenize:nP};function tP(){return{text:{91:eP}}}function nP(e,t,n){const r=this;return o;function o(m){return r.previous!==null||!r._gfmTasklistFirstContentOfListItem?n(m):(e.enter("taskListCheck"),e.enter("taskListCheckMarker"),e.consume(m),e.exit("taskListCheckMarker"),l)}function l(m){return st(m)?(e.enter("taskListCheckValueUnchecked"),e.consume(m),e.exit("taskListCheckValueUnchecked"),u):m===88||m===120?(e.enter("taskListCheckValueChecked"),e.consume(m),e.exit("taskListCheckValueChecked"),u):n(m)}function u(m){return m===93?(e.enter("taskListCheckMarker"),e.consume(m),e.exit("taskListCheckMarker"),e.exit("taskListCheck"),f):n(m)}function f(m){return we(m)?t(m):Ue(m)?e.check({tokenize:iP},t,n)(m):n(m)}}function iP(e,t,n){return Ye(e,r,"whitespace");function r(o){return o===null?n(o):t(o)}}function rP(e){return C1([kV(),OV(),YV(e),QV(),tP()])}const aP={};function hT(e){const t=this,n=e||aP,r=t.data(),o=r.micromarkExtensions||(r.micromarkExtensions=[]),l=r.fromMarkdownExtensions||(r.fromMarkdownExtensions=[]),u=r.toMarkdownExtensions||(r.toMarkdownExtensions=[]);o.push(rP(n)),l.push(wV()),u.push(AV(n))}const pT=async e=>{if(!e)return{success:!1,message:"No content to copy"};try{const t=`
      <div style="color: #000000; font-family: system-ui, -apple-system, sans-serif; line-height: 1.6; background: transparent;">
        ${e.split(`
`).map(r=>{if(r.startsWith("# "))return`<h1 style="color: #000000; font-size: 1.5rem; font-weight: bold; margin: 1.5rem 0 1rem 0;">${r.replace("# ","")}</h1>`;if(r.startsWith("## "))return`<h2 style="color: #000000; font-size: 1.25rem; font-weight: bold; margin: 1rem 0 0.5rem 0;">${r.replace("## ","")}</h2>`;if(r.startsWith("### "))return`<h3 style="color: #000000; font-size: 1.1rem; font-weight: bold; margin: 0.75rem 0 0.25rem 0;">${r.replace("### ","")}</h3>`;if(r.startsWith("#### "))return`<h4 style="color: #000000; font-size: 1rem; font-weight: bold; margin: 0.5rem 0 0.25rem 0;">${r.replace("#### ","")}</h4>`;if(r.startsWith("- **")){const o=r.match(/- \*\*(.*?)\*\*:\s*(.*)/);if(o)return`<p style="margin: 0.25rem 0; color: #000000;"><strong style="color: #000000;">${o[1]}:</strong> ${o[2]}</p>`}else{if(r.startsWith("- "))return`<p style="margin: 0.25rem 0; padding-left: 1rem; color: #000000;"> ${r.replace("- ","")}</p>`;if(r.match(/^\d+\./))return`<p style="margin: 0.25rem 0; padding-left: 1rem; color: #000000;">${r}</p>`;if(r.startsWith("**")&&r.endsWith("**"))return`<p style="margin: 0.5rem 0; color: #000000; font-weight: bold;">${r.replace(/\*\*/g,"")}</p>`;if(r.trim())return`<p style="margin: 0.5rem 0; color: #000000;">${r}</p>`}return"<br>"}).join("")}
      </div>
    `,n=e.split(`
`).map(r=>{if(r.startsWith("# "))return r.replace("# ","");if(r.startsWith("## "))return r.replace("## ","");if(r.startsWith("### "))return r.replace("### ","");if(r.startsWith("#### "))return r.replace("#### ","");if(r.startsWith("- **")){const o=r.match(/- \*\*(.*?)\*\*:\s*(.*)/);if(o)return`${o[1]}: ${o[2]}`}else{if(r.startsWith("- "))return` ${r.replace("- ","")}`;if(r.startsWith("**")&&r.endsWith("**"))return r.replace(/\*\*/g,"")}return r}).join(`
`);if(navigator.clipboard&&navigator.clipboard.write){const r=new Blob([t],{type:"text/html"}),o=new Blob([n],{type:"text/plain"}),l=new ClipboardItem({"text/html":r,"text/plain":o});return await navigator.clipboard.write([l]),{success:!0,message:"Content copied (Rich Format)!"}}else return await navigator.clipboard.writeText(n),{success:!0,message:"Content copied (Plain Text)!"}}catch(t){return console.error("Failed to copy content:",t),{success:!1,message:"Failed to copy. Please try manually."}}},Pr=({content:e,onExportPDF:t,onCopy:n,className:r=""})=>{const[o,l]=ne.useState(""),u=async()=>{if(n){n();return}const m=await pT(e);l(m.message),setTimeout(()=>l(""),3e3)},f={h1:({children:m})=>g.jsx("h1",{className:"text-3xl font-bold text-purple-300 mb-6 border-b border-gray-600 pb-3",children:m}),h2:({children:m})=>g.jsx("h2",{className:"text-2xl font-semibold text-purple-200 mt-8 mb-4 border-l-4 border-purple-500 pl-4",children:m}),h3:({children:m})=>g.jsx("h3",{className:"text-xl font-semibold text-purple-100 mt-6 mb-3 flex items-center",children:m}),h4:({children:m})=>g.jsx("h4",{className:"text-lg font-medium text-gray-200 mt-4 mb-2",children:m}),p:({children:m})=>g.jsx("p",{className:"text-gray-300 mb-4 leading-relaxed",children:m}),ul:({children:m})=>g.jsx("ul",{className:"list-disc list-inside text-gray-300 mb-4 space-y-1 ml-4",children:m}),ol:({children:m})=>g.jsx("ol",{className:"list-decimal list-inside text-gray-300 mb-4 space-y-1 ml-4",children:m}),li:({children:m})=>g.jsx("li",{className:"text-gray-300 mb-1",children:m}),strong:({children:m})=>g.jsx("strong",{className:"font-semibold text-gray-100",children:m}),em:({children:m})=>g.jsx("em",{className:"italic text-gray-200",children:m}),code:({children:m,className:d})=>d?g.jsx("pre",{className:"bg-gray-800 border border-gray-600 rounded-lg p-4 overflow-x-auto mb-4",children:g.jsx("code",{className:"text-green-300 text-sm font-mono",children:m})}):g.jsx("code",{className:"bg-gray-700 text-purple-300 px-2 py-1 rounded text-sm font-mono",children:m}),blockquote:({children:m})=>g.jsx("blockquote",{className:"border-l-4 border-purple-500 bg-gray-800/50 pl-4 py-2 mb-4 italic text-gray-300",children:m}),table:({children:m})=>g.jsx("div",{className:"overflow-x-auto mb-6",children:g.jsx("table",{className:"min-w-full bg-gray-800 border border-gray-600 rounded-lg",children:m})}),thead:({children:m})=>g.jsx("thead",{className:"bg-gray-700",children:m}),tbody:({children:m})=>g.jsx("tbody",{className:"divide-y divide-gray-600",children:m}),tr:({children:m})=>g.jsx("tr",{className:"hover:bg-gray-700/50 transition-colors",children:m}),th:({children:m})=>g.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold text-purple-300 border-b border-gray-600",children:m}),td:({children:m})=>g.jsx("td",{className:"px-4 py-3 text-sm text-gray-300",children:m}),hr:()=>g.jsx("hr",{className:"border-gray-600 my-8"}),a:({href:m,children:d})=>g.jsx("a",{href:m,className:"text-purple-400 hover:text-purple-300 underline transition-colors",target:"_blank",rel:"noopener noreferrer",children:d})};return g.jsxs("div",{className:`markdown-content ${r}`,children:[g.jsxs("div",{className:"flex justify-end gap-2 mb-4 pb-4 border-b border-gray-700",children:[g.jsx(Fe,{onClick:u,variant:"outline",size:"sm",leftIcon:g.jsx(kk,{className:"w-4 h-4"}),children:"Copy Content"}),t&&g.jsx(Fe,{onClick:t,variant:"secondary",size:"sm",leftIcon:g.jsx(Xd,{className:"w-4 h-4"}),children:"Export PDF"})]}),o&&g.jsx("div",{className:`text-sm mb-4 p-2 rounded ${o.includes("Failed")?"text-red-400 bg-red-900/20":"text-green-400 bg-green-900/20"}`,children:o}),g.jsx("div",{className:"prose prose-invert max-w-none",children:g.jsx(G1,{components:f,remarkPlugins:[hT],children:e})})]})};function oP(e){return typeof e=="number"}function sP(e){return typeof e=="string"}function lP(e){return typeof e<"u"}function uP(e,t){return Math.pow(2,(e-69)/12)*440}var cP=/^([a-gA-G])(#{1,}|b{1,}|x{1,}|)(-?\d*)\s*(.*)\s*$/,fP=[0,2,4,5,7,9,11];function dP(e,t,n){if(typeof e!="string")return null;var r=cP.exec(e);if(!r||r[4])return null;var o={letter:r[1].toUpperCase(),acc:r[2].replace(/x/g,"##")};o.pc=o.letter+o.acc,o.step=(o.letter.charCodeAt(0)+3)%7,o.alt=o.acc[0]==="b"?-o.acc.length:o.acc.length;var l=fP[o.step]+o.alt;return o.chroma=l<0?12+l:l%12,r[3]&&(o.oct=+r[3],o.midi=l+12*(o.oct+1),o.freq=uP(o.midi)),o}function mP(e){if((oP(e)||sP(e))&&e>=0&&e<128)return+e;var t=dP(e);return t&&lP(t.midi)?t.midi:null}function hP(e){return Array.isArray(e)&&e.length===2?e[0]*7+e[1]*12+12:mP(e)}var pP="C Db D Eb E F Gb G Ab A Bb B".split(" "),gP="C C# D D# E F F# G G# A A# B".split(" ");function gT(e,t){if(e===!0||e===!1)return function(l){return gT(l,e)};e=Math.round(e);var n=t===!0?gP:pP,r=n[e%12],o=Math.floor(e/12)-1;return r+o}const yP=Object.freeze(Object.defineProperty({__proto__:null,note:gT,toMidi:hP},Symbol.toStringTag,{value:"Module"})),xP=aw(yP);var Ad,xv;function vP(){if(xv)return Ad;xv=1;var e=xP,t={VERSION:"2.1.4",HEADER_CHUNK_TYPE:[77,84,104,100],HEADER_CHUNK_LENGTH:[0,0,0,6],HEADER_CHUNK_FORMAT0:[0,0],HEADER_CHUNK_FORMAT1:[0,1],HEADER_CHUNK_DIVISION:[0,128],TRACK_CHUNK_TYPE:[77,84,114,107],META_EVENT_ID:255,META_TEXT_ID:1,META_COPYRIGHT_ID:2,META_TRACK_NAME_ID:3,META_INSTRUMENT_NAME_ID:4,META_LYRIC_ID:5,META_MARKER_ID:6,META_CUE_POINT:7,META_TEMPO_ID:81,META_SMTPE_OFFSET:84,META_TIME_SIGNATURE_ID:88,META_KEY_SIGNATURE_ID:89,META_END_OF_TRACK_ID:[47,0],CONTROLLER_CHANGE_STATUS:176,PITCH_BEND_STATUS:224};function n(F){"@babel/helpers - typeof";return n=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(N){return typeof N}:function(N){return N&&typeof Symbol=="function"&&N.constructor===Symbol&&N!==Symbol.prototype?"symbol":typeof N},n(F)}function r(){r=function(P,G){return new R(P,void 0,G)};var F=RegExp.prototype,N=new WeakMap;function R(P,G,E){var ee=new RegExp(P,G);return N.set(ee,E||N.get(P)),m(ee,R.prototype)}function C(P,G){var E=N.get(G);return Object.keys(E).reduce(function(ee,O){return ee[O]=P[E[O]],ee},Object.create(null))}return f(R,RegExp),R.prototype.exec=function(P){var G=F.exec.call(this,P);return G&&(G.groups=C(G,this)),G},R.prototype[Symbol.replace]=function(P,G){if(typeof G=="string"){var E=N.get(this);return F[Symbol.replace].call(this,P,G.replace(/\$<([^>]+)>/g,function(O,J){return"$"+E[J]}))}if(typeof G=="function"){var ee=this;return F[Symbol.replace].call(this,P,function(){var O=arguments;return typeof O[O.length-1]!="object"&&(O=[].slice.call(O)).push(C(O,ee)),G.apply(this,O)})}return F[Symbol.replace].call(this,P,G)},r.apply(this,arguments)}function o(F,N){if(!(F instanceof N))throw new TypeError("Cannot call a class as a function")}function l(F,N){for(var R=0;R<N.length;R++){var C=N[R];C.enumerable=C.enumerable||!1,C.configurable=!0,"value"in C&&(C.writable=!0),Object.defineProperty(F,C.key,C)}}function u(F,N,R){return N&&l(F.prototype,N),R&&l(F,R),Object.defineProperty(F,"prototype",{writable:!1}),F}function f(F,N){if(typeof N!="function"&&N!==null)throw new TypeError("Super expression must either be null or a function");F.prototype=Object.create(N&&N.prototype,{constructor:{value:F,writable:!0,configurable:!0}}),Object.defineProperty(F,"prototype",{writable:!1}),N&&m(F,N)}function m(F,N){return m=Object.setPrototypeOf||function(C,P){return C.__proto__=P,C},m(F,N)}var d=function(){function F(){o(this,F)}return u(F,null,[{key:"version",value:function(){return t.VERSION}},{key:"stringToBytes",value:function(R){return R.split("").map(function(C){return C.charCodeAt()})}},{key:"isNumeric",value:function(R){return!isNaN(parseFloat(R))&&isFinite(R)}},{key:"getPitch",value:function(R){var C=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"C4";return 60-e.toMidi(C)+e.toMidi(R)}},{key:"numberToVariableLength",value:function(R){R=Math.round(R);for(var C=R&127;R=R>>7;)C<<=8,C|=R&127|128;for(var P=[];P.push(C&255),C&128;)C>>=8;return P}},{key:"stringByteCount",value:function(R){return encodeURI(R).split(/%..|./).length-1}},{key:"numberFromBytes",value:function(R){var C="",P;return R.forEach(function(G){P=G.toString(16),P.length==1&&(P="0"+P),C+=P}),parseInt(C,16)}},{key:"numberToBytes",value:function(R,C){C=C||1;var P=R.toString(16);P.length&1&&(P="0"+P);var G=P.match(/.{2}/g);if(G=G.map(function(E){return parseInt(E,16)}),G.length<C)for(;C-G.length>0;)G.unshift(0);return G}},{key:"toArray",value:function(R){return Array.isArray(R)?R:[R]}},{key:"convertVelocity",value:function(R){return R=R>100?100:R,Math.round(R/100*127)}},{key:"getTickDuration",value:function(R){if(Array.isArray(R))return R.map(function(E){return F.getTickDuration(E)}).reduce(function(E,ee){return E+ee},0);if(R=R.toString(),R.toLowerCase().charAt(0)==="t"){var C=parseInt(R.substring(1));if(isNaN(C)||C<0)throw new Error(R+" is not a valid duration.");return C}var P=F.numberFromBytes(t.HEADER_CHUNK_DIVISION),G=P*F.getDurationMultiplier(R);return F.getRoundedIfClose(G)}},{key:"getRoundedIfClose",value:function(R){var C=Math.round(R);return Math.abs(C-R)<1e-6?C:R}},{key:"getPrecisionLoss",value:function(R){var C=Math.round(R);return C-R}},{key:"getDurationMultiplier",value:function(R){if(R==="0")return 0;var C=R.match(r(/^(d+)?(\d+)(?:t(\d*))?/,{dotted:1,base:2,tuplet:3}));if(C){var P=Number(C.groups.base),G=P===1||(P&P-1)===0;if(G){var E=P/4,ee=1/E,O=C.groups,J=O.dotted,ye=O.tuplet;if(J){var pe=J.length,be=Math.pow(2,pe);ee=ee+ee*((be-1)/be)}if(typeof ye=="string"){var _e=ee*2,Ie=Number(ye||"3");ee=_e/Ie}return ee}}throw new Error(R+" is not a valid duration.")}}]),F}(),h=u(function F(N){o(this,F),N=Object.assign({delta:0},N),this.type="controller",this.data=d.numberToVariableLength(N.delta).concat(t.CONTROLLER_CHANGE_STATUS,N.controllerNumber,N.controllerValue)}),y=u(function F(N){o(this,F),N=Object.assign({delta:0},N),this.type="cue-point";var R=d.stringToBytes(N.text);this.data=d.numberToVariableLength(N.delta).concat(t.META_EVENT_ID,t.META_CUE_POINT,d.numberToVariableLength(R.length),R)}),T=u(function F(N){o(this,F),N=Object.assign({delta:0},N),this.type="end-track",this.data=d.numberToVariableLength(N.delta).concat(t.META_EVENT_ID,t.META_END_OF_TRACK_ID)}),S=u(function F(N){o(this,F),N=Object.assign({delta:0},N),this.type="instrument-name";var R=d.stringToBytes(N.text);this.data=d.numberToVariableLength(N.delta).concat(t.META_EVENT_ID,t.META_INSTRUMENT_NAME_ID,d.numberToVariableLength(R.length),R)}),w=u(function F(N,R){o(this,F),this.type="key-signature";var C=R||0;if(N=N||0,typeof R>"u"){var P=[["Cb","Gb","Db","Ab","Eb","Bb","F","C","G","D","A","E","B","F#","C#"],["ab","eb","bb","f","c","g","d","a","e","b","f#","c#","g#","d#","a#"]],G=N.length,E=N||"C";if(N[0]===N[0].toLowerCase()&&(C=1),G>1)switch(N.charAt(G-1)){case"m":C=1,E=N.charAt(0).toLowerCase(),E=E.concat(N.substring(1,G-1));break;case"-":C=1,E=N.charAt(0).toLowerCase(),E=E.concat(N.substring(1,G-1));break;case"M":C=0,E=N.charAt(0).toUpperCase(),E=E.concat(N.substring(1,G-1));break;case"+":C=0,E=N.charAt(0).toUpperCase(),E=E.concat(N.substring(1,G-1));break}var ee=P[C].indexOf(E);N=ee===-1?0:ee-7}this.data=d.numberToVariableLength(0).concat(t.META_EVENT_ID,t.META_KEY_SIGNATURE_ID,[2],d.numberToBytes(N,1),d.numberToBytes(C,1))}),A=u(function F(N){o(this,F),N=Object.assign({delta:0},N),this.type="lyric";var R=d.stringToBytes(N.text);this.data=d.numberToVariableLength(N.delta).concat(t.META_EVENT_ID,t.META_LYRIC_ID,d.numberToVariableLength(R.length),R)}),_=u(function F(N){o(this,F),N=Object.assign({delta:0},N),this.type="marker";var R=d.stringToBytes(N.text);this.data=d.numberToVariableLength(N.delta).concat(t.META_EVENT_ID,t.META_MARKER_ID,d.numberToVariableLength(R.length),R)}),k=function(){function F(N){o(this,F),N=Object.assign({channel:1,startTick:null,velocity:50,wait:0},N),this.type="note-on",this.channel=N.channel,this.pitch=N.pitch,this.wait=N.wait,this.velocity=N.velocity,this.startTick=N.startTick,this.tick=null,this.delta=null,this.data=N.data}return u(F,[{key:"buildData",value:function(R,C){var P=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this.data=[],this.startTick?(this.tick=d.getRoundedIfClose(this.startTick),R.tickPointer==0&&(this.delta=this.tick)):(this.delta=d.getTickDuration(this.wait),this.tick=d.getRoundedIfClose(R.tickPointer+this.delta)),this.deltaWithPrecisionCorrection=d.getRoundedIfClose(this.delta-C),this.data=d.numberToVariableLength(this.deltaWithPrecisionCorrection).concat(this.getStatusByte(),d.getPitch(this.pitch,P.middleC),d.convertVelocity(this.velocity)),this}},{key:"getStatusByte",value:function(){return 144+this.channel-1}}]),F}(),V=function(){function F(N){o(this,F),N=Object.assign({channel:1,velocity:50,tick:null},N),this.type="note-off",this.channel=N.channel,this.pitch=N.pitch,this.duration=N.duration,this.velocity=N.velocity,this.tick=N.tick,this.delta=d.getTickDuration(this.duration),this.data=N.data}return u(F,[{key:"buildData",value:function(R,C){var P=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this.tick===null&&(this.tick=d.getRoundedIfClose(this.delta+R.tickPointer)),this.deltaWithPrecisionCorrection=d.getRoundedIfClose(this.delta-C),this.data=d.numberToVariableLength(this.deltaWithPrecisionCorrection).concat(this.getStatusByte(),d.getPitch(this.pitch,P.middleC),d.convertVelocity(this.velocity)),this}},{key:"getStatusByte",value:function(){return 128+this.channel-1}}]),F}(),I=function(){function F(N){o(this,F),N=Object.assign({channel:1,repeat:1,sequential:!1,startTick:null,velocity:50,wait:0},N),this.data=[],this.type="note",this.pitch=d.toArray(N.pitch),this.channel=N.channel,this.duration=N.duration,this.grace=N.grace,this.repeat=N.repeat,this.sequential=N.sequential,this.startTick=N.startTick,this.velocity=N.velocity,this.wait=N.wait,this.tickDuration=d.getTickDuration(this.duration),this.restDuration=d.getTickDuration(this.wait),this.events=[]}return u(F,[{key:"buildData",value:function(){var R=this;if(this.data=[],this.grace){var C=1;this.grace=d.toArray(this.grace),this.grace.forEach(function(){var E=new F({pitch:R.grace,duration:"T"+C});R.data=R.data.concat(E.data)})}if(this.sequential)for(var G=0;G<this.repeat;G++)this.pitch.forEach(function(E,ee){var O=new k({channel:R.channel,wait:ee>0?0:R.wait,velocity:R.velocity,pitch:E,startTick:R.startTick}),J=new V({channel:R.channel,duration:R.duration,velocity:R.velocity,pitch:E});R.events.push(O,J)});else for(var P=0;P<this.repeat;P++)this.pitch.forEach(function(E,ee){var O;ee==0?O=new k({channel:R.channel,wait:R.wait,velocity:R.velocity,pitch:E,startTick:R.startTick}):O=new k({channel:R.channel,wait:0,velocity:R.velocity,pitch:E,startTick:R.startTick}),R.events.push(O)}),this.pitch.forEach(function(E,ee){var O;ee==0?O=new V({channel:R.channel,duration:R.duration,velocity:R.velocity,pitch:E,tick:R.startTick!==null?d.getTickDuration(R.duration)+R.startTick:null}):O=new V({channel:R.channel,duration:0,velocity:R.velocity,pitch:E,tick:R.startTick!==null?d.getTickDuration(R.duration)+R.startTick:null}),R.events.push(O)});return this}}]),F}(),B=function(N){return N<=0?Math.floor(16384*(N+1)/2):Math.floor(16383*(N+1)/2)},U=u(function F(N){o(this,F),N=Object.assign({delta:0},N),this.type="pitch-bend";var R=B(N.bend),C=N.channel||0,P=R&127,G=R>>7&127;this.data=d.numberToVariableLength(N.delta).concat(t.PITCH_BEND_STATUS|C,P,G)}),z=function(){function F(N){o(this,F),this.fields=Object.assign({channel:1,delta:0},N),this.type="program",this.data=d.numberToVariableLength(this.fields.delta).concat(this.getStatusByte(),this.fields.instrument)}return u(F,[{key:"getStatusByte",value:function(){return 192+this.fields.channel-1}}]),F}(),ie=u(function F(N){o(this,F),N=Object.assign({delta:0},N),this.type="tempo",this.tick=N.tick;var R=Math.round(6e7/N.bpm);this.data=d.numberToVariableLength(N.delta).concat(t.META_EVENT_ID,t.META_TEMPO_ID,[3],d.numberToBytes(R,3))}),se=u(function F(N){o(this,F),N=Object.assign({delta:0},N),this.type="text";var R=d.stringToBytes(N.text);this.data=d.numberToVariableLength(N.delta).concat(t.META_EVENT_ID,t.META_TEXT_ID,d.numberToVariableLength(R.length),R)}),ge=u(function F(N,R,C,P){o(this,F),this.type="time-signature",this.data=d.numberToVariableLength(0).concat(t.META_EVENT_ID,t.META_TIME_SIGNATURE_ID,[4],d.numberToBytes(N,1),d.numberToBytes(Math.log2(R),1),d.numberToBytes(C||24,1),d.numberToBytes(P||8,1))}),H=u(function F(N){o(this,F),N=Object.assign({delta:0},N),this.type="copyright";var R=d.stringToBytes(N.text);this.data=d.numberToVariableLength(N.delta).concat(t.META_EVENT_ID,t.META_COPYRIGHT_ID,d.numberToVariableLength(R.length),R)}),ue=u(function F(N){o(this,F),N=Object.assign({delta:0},N),this.type="track-name";var R=d.stringToBytes(N.text);this.data=d.numberToVariableLength(N.delta).concat(t.META_EVENT_ID,t.META_TRACK_NAME_ID,d.numberToVariableLength(R.length),R)}),fe=function(){function F(){o(this,F),this.type=t.TRACK_CHUNK_TYPE,this.data=[],this.size=[],this.events=[],this.explicitTickEvents=[],this.tickPointer=0}return u(F,[{key:"addEvent",value:function(R,C){var P=this;return d.toArray(R).forEach(function(G,E){if(G instanceof I){if(typeof C=="function"){var ee=C(E,G);if(n(ee)==="object")for(var O in ee)switch(O){case"channel":G.channel=ee[O];break;case"duration":G.duration=ee[O];break;case"sequential":G.sequential=ee[O];break;case"velocity":G.velocity=d.convertVelocity(ee[O]);break}}G.startTick!==null?P.explicitTickEvents.push(G):G.buildData().events.forEach(function(J){return P.events.push(J)})}else G instanceof T&&P.removeEventsByType("end-track"),P.events.push(G)}),this}},{key:"buildData",value:function(){var R=this,C=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};(!this.events.length||!(this.events[this.events.length-1]instanceof T))&&this.addEvent(new T),this.data=[],this.size=[],this.tickPointer=0;var P=0;return this.events.forEach(function(G){if(G instanceof k||G instanceof V){var E=G.buildData(R,P,C);P=d.getPrecisionLoss(G.deltaWithPrecisionCorrection||0),R.data=R.data.concat(E.data),R.tickPointer=d.getRoundedIfClose(G.tick)}else G instanceof ie&&(R.tickPointer=d.getRoundedIfClose(G.tick)),R.data=R.data.concat(G.data)}),this.mergeExplicitTickEvents(),this.size=d.numberToBytes(this.data.length,4),this}},{key:"mergeExplicitTickEvents",value:function(){var R=this;this.explicitTickEvents.length&&(this.explicitTickEvents.sort(function(C,P){return C.startTick-P.startTick}),this.explicitTickEvents.forEach(function(C){C.buildData().events.forEach(function(P){return P.buildData(R)}),C.events.forEach(function(P){return R.mergeSingleEvent(P)})}),this.explicitTickEvents=[],this.buildData())}},{key:"mergeTrack",value:function(R){var C=this;this.buildData(),R.buildData().events.forEach(function(P){return C.mergeSingleEvent(P)})}},{key:"mergeSingleEvent",value:function(R){if(!this.events.length){this.addEvent(R);return}for(var C,P=0;P<this.events.length&&!(this.events[P].tick>R.tick);P++)C=P;var G=C+1;R.delta=R.tick-this.events[C].tick,this.events.splice(G,0,R);for(var E=G+1;E<this.events.length;E++)this.events[E].delta=this.events[E].tick-this.events[E-1].tick}},{key:"removeEventsByType",value:function(R){var C=this;return this.events.forEach(function(P,G){P.type===R&&C.events.splice(G,1)}),this}},{key:"setTempo",value:function(R){var C=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return this.addEvent(new ie({bpm:R,tick:C}))}},{key:"setTimeSignature",value:function(R,C,P,G){return this.addEvent(new ge(R,C,P,G))}},{key:"setKeySignature",value:function(R,C){return this.addEvent(new w(R,C))}},{key:"addText",value:function(R){return this.addEvent(new se({text:R}))}},{key:"addCopyright",value:function(R){return this.addEvent(new H({text:R}))}},{key:"addTrackName",value:function(R){return this.addEvent(new ue({text:R}))}},{key:"addInstrumentName",value:function(R){return this.addEvent(new S({text:R}))}},{key:"addMarker",value:function(R){return this.addEvent(new _({text:R}))}},{key:"addCuePoint",value:function(R){return this.addEvent(new y({text:R}))}},{key:"addLyric",value:function(R){return this.addEvent(new A({text:R}))}},{key:"polyModeOn",value:function(){var R=new k({data:[0,176,126,0]});return this.addEvent(R)}},{key:"setPitchBend",value:function(R){return this.addEvent(new U({bend:R}))}},{key:"controllerChange",value:function(R,C){return this.addEvent(new h({controllerNumber:R,controllerValue:C}))}}]),F}(),he=function(){function F(){o(this,F)}return u(F,[{key:"trackFromVoice",value:function(R){var C=this,P=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{addRenderedAccidentals:!1},G=new fe,E=[];return R.tickables.forEach(function(ee){ee.noteType==="n"?(G.addEvent(new I({pitch:ee.keys.map(function(O,J){return C.convertPitch(O,J,ee,P.addRenderedAccidentals)}),duration:C.convertDuration(ee),wait:E})),E=[]):ee.noteType==="r"&&E.push(C.convertDuration(ee))}),E.length>0&&G.addEvent(new I({pitch:"[c4]",duration:"0",wait:E,velocity:"0"})),G}},{key:"convertPitch",value:function(R,C,P){var G=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1,E=R.split("/"),ee=E[0].substring(1).replace("n","");if(G){var O;(O=P.getAccidentals())===null||O===void 0||O.forEach(function(J){J.index===C&&(J.type==="n"?ee="":ee+=J.type)})}return E[0][0]+ee+E[1]}},{key:"convertDuration",value:function(R){return"d".repeat(R.dots)+this.convertBaseDuration(R.duration)+(R.tuplet?"t"+R.tuplet.num_notes:"")}},{key:"convertBaseDuration",value:function(R){switch(R){case"w":return"1";case"h":return"2";case"q":return"4";default:return R}}}]),F}(),le=u(function F(N){o(this,F),this.type=t.HEADER_CHUNK_TYPE;var R=N>1?t.HEADER_CHUNK_FORMAT1:t.HEADER_CHUNK_FORMAT0;this.data=R.concat(d.numberToBytes(N,2),t.HEADER_CHUNK_DIVISION),this.size=[0,0,0,this.data.length]}),Z=function(){function F(N){var R=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};o(this,F),this.tracks=d.toArray(N),this.options=R}return u(F,[{key:"buildData",value:function(){var R=this,C=[];return C.push(new le(this.tracks.length)),this.tracks.forEach(function(P){C.push(P.buildData(R.options))}),C}},{key:"buildFile",value:function(){var R=[];return this.buildData().forEach(function(C){return R=R.concat(C.type,C.size,C.data)}),new Uint8Array(R)}},{key:"base64",value:function(){return typeof btoa=="function"?btoa(String.fromCharCode.apply(null,this.buildFile())):Buffer.from(this.buildFile()).toString("base64")}},{key:"dataUri",value:function(){return"data:audio/midi;base64,"+this.base64()}},{key:"setOption",value:function(R,C){return this.options[R]=C,this}},{key:"stdout",value:function(){return process.stdout.write(Buffer.from(this.buildFile()))}}]),F}(),$={Constants:t,ControllerChangeEvent:h,CuePointEvent:y,EndTrackEvent:T,InstrumentNameEvent:S,KeySignatureEvent:w,LyricEvent:A,MarkerEvent:_,NoteOnEvent:k,NoteOffEvent:V,NoteEvent:I,PitchBendEvent:U,ProgramChangeEvent:z,TempoEvent:ie,TextEvent:se,TimeSignatureEvent:ge,Track:fe,TrackNameEvent:ue,Utils:d,VexFlow:he,Writer:Z};return Ad=$,Ad}var bP=vP();const Un=Ds(bP),ru=e=>{if(!Un.Track)return null;const t=new Un.Track;return t.addTrackName(e),t},Ed=(e,t,n,r=!1)=>{!Un.NoteEvent||!t||t.length===0||!e||t.forEach(o=>{let l=[];if(r)l=o.notes.map(f=>f.midi).filter(f=>typeof f=="number");else{const u=o;typeof u.midi=="number"&&(l=[u.midi])}if(l.length>0){const u=Math.round(o.duration*128),f=Math.round(o.time*128),m=l.map(d=>{const h=["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"],y=Math.floor(d/12)-1;return`${h[d%12]}${y}`});e.addEvent(new Un.NoteEvent({pitch:m.length===1?m[0]:m,duration:`T${u}`,startTick:f,velocity:o.velocity||(r?90:100),channel:n}))}})},TP=(e,t)=>{!Un.NoteEvent||!t||Object.keys(t).length===0||!e||Object.entries(t).forEach(([n,r])=>{const o=n.toLowerCase().replace(/\s+/g,"_"),l=Va[o]||Va[n];typeof l!="number"||!r||r.forEach(u=>{const f=Math.round(u.duration*128),m=Math.round(u.time*128),d=["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"],h=Math.floor(l/12)-1,T=`${d[l%12]}${h}`;e.addEvent(new Un.NoteEvent({pitch:T,duration:`T${f}`,startTick:m,velocity:u.velocity||100,channel:10}))})})},vv=(e,t,n="TrackGuide")=>{if(console.log(" Generating MIDI file with patterns:",e),console.log(" Settings:",t),console.log(" Track name prefix:",n),!Un||!Un.Writer||!Un.Track||!Un.NoteEvent)return console.error("MidiWriterJS components (Writer, Track, NoteEvent) are not loaded. Cannot generate MIDI file."),null;const r=[];let o=!1;const l=f=>(f&&(f.setTempo(t.tempo,0),f.setTimeSignature(t.timeSignature[0],t.timeSignature[1])),f);if(e.chords&&e.chords.length>0){let f=ru(`${n} Chords`);f=l(f),f&&(Ed(f,e.chords,1,!0),r.push(f),o=!0)}if(e.bassline&&e.bassline.length>0){let f=ru(`${n} Bassline`);f=l(f),f&&(Ed(f,e.bassline,2,!1),r.push(f),o=!0)}if(e.melody&&e.melody.length>0){let f=ru(`${n} Melody`);f=l(f),f&&(Ed(f,e.melody,3,!1),r.push(f),o=!0)}if(e.drums&&Object.keys(e.drums).length>0){let f=ru(`${n} Drums`);f=l(f),f&&(TP(f,e.drums),r.push(f),o=!0)}return o?new Un.Writer(r).dataUri():(console.warn("No patterns to write to MIDI file."),null)},bv=(e,t)=>{if(console.log(" Downloading MIDI file:",t),console.log(" Data URI length:",e.length),console.log(" Data URI starts with:",e.substring(0,50)),!e){console.error("MIDI data URI is null or empty. Cannot download."),alert("Failed to generate MIDI data for download.");return}const n=document.createElement("a");n.href=e,n.download=t,document.body.appendChild(n),n.click(),document.body.removeChild(n),console.log(" Download triggered successfully")};let Wi=null,Zi=[],Au=null,hu=null,Eu=0,fs=0,La=!1;const Wm=()=>((!Wi||Wi.state==="closed")&&(Wi=new(window.AudioContext||window.webkitAudioContext),Au=Wi.createGain(),Au.connect(Wi.destination)),Wi.state==="suspended"&&Wi.resume(),Wi),Lr=(e,t)=>{const n=e/t*60;return Number.isFinite(n)?n:(console.error(" beatsToSeconds produced non-finite result:",n,"beats:",e,"tempo:",t),0)},Dd=(e,t,n,r=100,o=!1,l,u)=>{const f=Wm();if(!Au||!u)return;if(!Number.isFinite(e)||!Number.isFinite(t)||!Number.isFinite(n)||!Number.isFinite(r)){console.error(" Invalid note values detected:",{noteNumber:e,startTimeInLoopSeconds:t,durationSeconds:n,velocity:r,trackType:u,isDrum:o,drumTypeKey:l});return}const m=Eu+fs*yT()+t;if(m<f.currentTime-.05)return;const d=f.createGain(),h=r/127*(o?.75:.35);let y=h;if((!Number.isFinite(y)||y<0)&&(console.error(" Invalid gain value detected:",y,"for velocity:",r),y=.1),d.gain.setValueAtTime(y,m),y>1e-4)try{d.gain.exponentialRampToValueAtTime(1e-4,m+n)}catch{d.gain.linearRampToValueAtTime(1e-4,m+n)}d.connect(Au);let T;if(o){const S=l||"";if(console.log(` Synthesizing drum: "${S}" (MIDI: ${e})`),S.includes("kick")||S.includes("bass_drum")||e===36){const w=f.createOscillator();w.type="sine",w.frequency.setValueAtTime(150,m),w.frequency.exponentialRampToValueAtTime(50,m+Math.min(n,.12));const A=f.createGain();A.gain.setValueAtTime(1,m),A.gain.exponentialRampToValueAtTime(.001,m+n),w.connect(A).connect(d),w.start(m),w.stop(m+n),Zi.push({node:w,controlGainNode:d,trackType:u,intendedVolume:h,scheduledStopTime:m+n,isDrum:!0});return}else if(S.includes("snare")||e===38){T=f.createBufferSource();const w=Math.max(1,Math.floor(f.sampleRate*n)),A=f.createBuffer(1,w,f.sampleRate),_=A.getChannelData(0);for(let k=0;k<w;k++)_[k]=(Math.random()*2-1)*Math.exp(-k/(f.sampleRate*.05));T.buffer=A}else if(S.includes("clap")||S.includes("hand_clap")||e===39){T=f.createBufferSource();const w=Math.max(1,Math.floor(f.sampleRate*n)),A=f.createBuffer(1,w,f.sampleRate),_=A.getChannelData(0);for(let k=0;k<w;k++){const V=Math.exp(-k/(f.sampleRate*.03)),I=Math.random()*2-1,B=Math.sin(k*.01)>.5?1:.3;_[k]=I*V*B}T.buffer=A}else if(S.includes("hat")||S.includes("hihat")||e===42||e===46){T=f.createBufferSource();const w=Math.max(1,Math.floor(f.sampleRate*n)),A=f.createBuffer(1,w,f.sampleRate),_=A.getChannelData(0),k=5e3,I=S.includes("open")||e===46?.15:.03;for(let B=0;B<w;B++)_[B]=(Math.random()*2-1)*Math.exp(-B/(f.sampleRate*I))*Math.sin(2*Math.PI*k*(B/f.sampleRate)*(1+Math.random()*.3));T.buffer=A}else if(S.includes("crash")||S.includes("cymbal")||e===49){T=f.createBufferSource();const w=Math.max(1,Math.floor(f.sampleRate*n)),A=f.createBuffer(1,w,f.sampleRate),_=A.getChannelData(0),k=4e3,V=.25;for(let I=0;I<w;I++){const B=Math.exp(-I/(f.sampleRate*V)),U=Math.sin(2*Math.PI*k*(I/f.sampleRate)),z=Math.sin(2*Math.PI*k*1.5*(I/f.sampleRate)),ie=(Math.random()*2-1)*.3;_[I]=(U+z*.7+ie)*B}T.buffer=A}else if(S.includes("ride")||e===51){T=f.createBufferSource();const w=Math.max(1,Math.floor(f.sampleRate*n)),A=f.createBuffer(1,w,f.sampleRate),_=A.getChannelData(0),k=3e3,V=.15;for(let I=0;I<w;I++){const B=Math.exp(-I/(f.sampleRate*V)),U=Math.sin(2*Math.PI*k*(I/f.sampleRate)),z=Math.sin(2*Math.PI*k*2.5*(I/f.sampleRate))*.3;_[I]=(U+z)*B}T.buffer=A}else if(S.includes("tom")||e===41||e===47||e===50){const w=f.createOscillator();w.type="sine";let A=200;S.includes("high")||e===50?A=300:S.includes("mid")||e===47?A=200:(S.includes("low")||e===41)&&(A=120),w.frequency.setValueAtTime(A,m),w.frequency.exponentialRampToValueAtTime(A*.5,m+n*.8);const _=f.createGain();_.gain.setValueAtTime(.9,m),_.gain.exponentialRampToValueAtTime(.001,m+n),w.connect(_).connect(d),w.start(m),w.stop(m+n),Zi.push({node:w,controlGainNode:d,trackType:u,intendedVolume:h,scheduledStopTime:m+n,isDrum:!0});return}else if(S.includes("shaker")||S.includes("tambourine")||S.includes("cowbell")||e===70||e===54||e===56){T=f.createBufferSource();const w=Math.max(1,Math.floor(f.sampleRate*n)),A=f.createBuffer(1,w,f.sampleRate),_=A.getChannelData(0),k=S.includes("cowbell")?800:6e3,V=.1;for(let I=0;I<w;I++){const B=Math.exp(-I/(f.sampleRate*V));S.includes("cowbell")?_[I]=Math.sin(2*Math.PI*k*(I/f.sampleRate))*B:_[I]=(Math.random()*2-1)*B}T.buffer=A}else{console.log(` Using generic percussion for: "${S}" (MIDI: ${e})`),T=f.createBufferSource();const w=Math.max(1,Math.floor(f.sampleRate*n)),A=f.createBuffer(1,w,f.sampleRate),_=A.getChannelData(0);for(let k=0;k<w;k++)_[k]=(Math.random()*2-1)*Math.exp(-k/(f.sampleRate*.1));T.buffer=A}}else{T=f.createOscillator(),T.type="sawtooth";const S=440*Math.pow(2,(e-69)/12);if(!Number.isFinite(S)||S<=0){console.error(" Invalid frequency calculated:",S,"for note number:",e);return}T.frequency.setValueAtTime(S,m)}T.connect(d),T.start(m),T.stop(m+n),Zi.push({node:T,controlGainNode:d,trackType:u,intendedVolume:h,scheduledStopTime:m+n,isDrum:o})};let um=null;const yT=()=>{if(!um)throw new Error("Settings not available for loop duration calculation.");const{tempo:e,bars:t,timeSignature:n}=um,r=n[0]*(4/n[1]);return Lr(t*r,e)},Tv=(e,t,n)=>{console.log(" Starting playback with patterns:",e),console.log(" Settings:",t),console.log(" Track to play:",n),xT(!1),La=!0,fs=0,um={...t};const r=Wm();Eu=r.currentTime,Zi=[];const o=yT();if(console.log(" Loop duration:",o,"seconds"),o<=0){console.error("Loop duration is zero or negative. Cannot play."),La=!1;return}function l(){if(!La)return;const u=r.currentTime;Zi=Zi.filter(h=>h.scheduledStopTime>u||!h.node);const f=t.tempo,m=(h,y)=>{if(!y){console.log(` No data for track: ${h}`);return}console.log(` Scheduling track: ${h}`,y),h==="drums"&&typeof y=="object"&&!Array.isArray(y)?Object.entries(y).forEach(([T,S])=>{let w,A;if(console.log(` Processing drum element: "${T}"`),w=Va[T],A=T,!w){const _=T.toLowerCase().replace(/\s+/g,"_");w=Va[_],A=_}if(!w){const _={kick_drum:{midi:"kick",key:"kick"},bass_drum:{midi:"kick",key:"kick"},acoustic_bass_drum:{midi:"kick",key:"kick"},snare_drum:{midi:"snare",key:"snare"},acoustic_snare:{midi:"snare",key:"snare"},hi_hat_closed:{midi:"hihat_closed",key:"hihat_closed"},hi_hat_open:{midi:"open_hihat",key:"open_hihat"},hihat_open:{midi:"open_hihat",key:"open_hihat"},closed_hi_hat:{midi:"hihat_closed",key:"hihat_closed"},open_hi_hat:{midi:"open_hihat",key:"open_hihat"},crash_cymbal:{midi:"crash_cymbal_1",key:"crash_cymbal_1"},crash:{midi:"crash",key:"crash_cymbal_1"},ride_cymbal:{midi:"ride_cymbal_1",key:"ride_cymbal_1"},ride:{midi:"ride",key:"ride_cymbal_1"},hand_clap:{midi:"clap",key:"clap"},handclap:{midi:"clap",key:"clap"},tom_hi:{midi:"tom_high",key:"tom_high"},tom_lo:{midi:"tom_low",key:"tom_low"},high_tom:{midi:"tom_high",key:"tom_high"},mid_tom:{midi:"tom_mid",key:"tom_mid"},low_tom:{midi:"tom_low",key:"tom_low"},low_floor_tom:{midi:"tom_low",key:"tom_low"},high_floor_tom:{midi:"tom_high",key:"tom_high"}},k=T.toLowerCase().replace(/\s+/g,"_"),V=_[k];V&&(w=Va[V.midi],A=V.key)}if(console.log(` Final mapping: "${T}" -> "${A}" -> MIDI: ${w}`),typeof w!="number"||!S){console.warn(` No MIDI mapping found for drum element: "${T}"`),console.warn(" Available drum mappings:",Object.keys(Va));return}S.forEach(_=>{console.log(` Scheduling ${A} hit:`,_),Dd(w,Lr(_.time,f),Lr(_.duration,f),_.velocity,!0,A,h)})}):Array.isArray(y)&&y.forEach((T,S)=>{if(console.log(` Processing ${h} event ${S}:`,T),"notes"in T)T.notes.forEach((A,_)=>{console.log(` Chord note ${_}:`,A),typeof A.midi=="number"?Dd(A.midi,Lr(T.time,f),Lr(T.duration,f),T.velocity,!1,void 0,h):console.warn(" Invalid MIDI number in chord note:",A)});else{const A=T;console.log(" Single note:",A),typeof A.midi=="number"?Dd(A.midi,Lr(T.time,f),Lr(T.duration,f),T.velocity,!1,void 0,h):console.warn(" Invalid MIDI number in note:",A)}})};if((n?[n]:["chords","bassline","melody","drums"]).forEach(h=>{switch(h){case"chords":e.chords&&m("chords",e.chords);break;case"bassline":e.bassline&&m("bassline",e.bassline);break;case"melody":e.melody&&m("melody",e.melody);break;case"drums":e.drums&&m("drums",e.drums);break}}),La){const h=Eu+(fs+1)*o;let y=(h-r.currentTime)*1e3;y<0&&(console.warn(`Loop drift detected. Next loop scheduled with minimal delay. Ideal: ${h}, Current: ${r.currentTime}`),y=10),hu=window.setTimeout(()=>{La&&(fs++,l())},y)}}l()},Hn=()=>{La=!1,xT(!0)},xT=e=>{hu!==null&&(clearTimeout(hu),hu=null),Zi.forEach(t=>{try{t.node&&(t.node.stop(),t.node.disconnect()),t.controlGainNode&&t.controlGainNode.disconnect()}catch{}}),Zi=[],e&&(fs=0,Eu=0)},is=async()=>{try{const e=Wm();e.state==="suspended"&&await e.resume()}catch(e){console.error("Failed to initialize audio context:",e)}},SP=async e=>new Promise((t,n)=>{const r=new FileReader;r.onload=()=>{if(r.result&&typeof r.result=="string"){const o=r.result.split(","),l=o[1],u=o[0].match(/data:(.*);base64/),f=u?u[1]:e.type||"audio/mpeg";t({base64:l,mimeType:f})}else n(new Error("Failed to read file"))},r.onerror=()=>n(new Error("File reading failed")),r.readAsDataURL(e)}),CP={kick:"Kick",snare:"Snare",hihat:"Hi-Hat",hihat_open:"Hi-Hat Open",hihat_closed:"Hi-Hat Closed",crash:"Crash",ride:"Ride",tom:"Tom",tom_high:"High Tom",tom_mid:"Mid Tom",tom_low:"Low Tom",clap:"Clap",shaker:"Shaker",tambourine:"Tambourine",cowbell:"Cowbell",rim:"Rimshot"},Rr=e=>{if(!e)return"General musical context. Focus on genre and vibe.";const t=e.indexOf("## 3. Instrument & Sound Design Guide"),n=t>0?t:e.indexOf("## 2. Structural Blueprint")>0?e.indexOf("## 2. Structural Blueprint"):1500;return e.substring(0,Math.min(n,e.length))},MP=e=>{const t=e.match(/^([A-G][#b]?)/);return t?t[1]:"C"},wP=e=>{const t=MP(e);return Cx[t]||Cx.C},AP=e=>Rn[e]||Rn.Default,rs=[1,2,4,8,16,32],vT=({currentGuidebookEntry:e,mainAppInputs:t,onUpdateGuidebookEntryMidi:n,parsedGuidebookBpm:r,parsedGuidebookKey:o,parsedGuidebookChordProg:l,initialPatterns:u,sections:f,targetTempo:m,targetKey:d,isRemixMode:h=!1})=>{var P,G,E,ee;const[y,T]=ne.useState(()=>{var Ge,Le;if(h)return{...Je,key:d||Je.key,tempo:m||Je.tempo,genre:"Electronic",songSection:(f==null?void 0:f[0])||Je.songSection,guidebookContext:`Remix mode for ${d||"C minor"} at ${m||128} BPM`,targetInstruments:["bassline","drums","melody","chords"],bars:8};if(e!=null&&e.midiSettings)return{...e.midiSettings,bars:rs.includes(e.midiSettings.bars)?e.midiSettings.bars:Je.bars,songSection:e.midiSettings.songSection||Je.songSection,targetInstruments:e.midiSettings.targetInstruments&&e.midiSettings.targetInstruments.length>0?e.midiSettings.targetInstruments:[...Je.targetInstruments],guidebookContext:e.midiSettings.guidebookContext||Rr(e.content)};const O=((Ge=e==null?void 0:e.genre)==null?void 0:Ge[0])||((Le=t==null?void 0:t.genre)==null?void 0:Le[0])||Je.genre,J=Rr((e==null?void 0:e.content)||""),ye=Wn[O]||Wn.Default,pe=Math.round((ye[0]+ye[1])/2),be=Je.songSection;let _e=Je.bars;const Ie=be.toLowerCase();return Ie.includes("intro")||Ie.includes("outro")||Ie.includes("fill")||Ie.includes("breakdown")?_e=4:_e=8,_e=rs.includes(_e)?_e:Je.bars,{...Je,genre:O,key:o||Je.key,tempo:r||pe,chordProgression:l||(Rn[O]||Rn.Default)[0],guidebookContext:J,targetInstruments:[...Je.targetInstruments],songSection:be,bars:_e}}),[S,w]=ne.useState(()=>{if(h&&u){const O={};return Object.entries(u).forEach(([J,ye])=>{Object.entries(ye).forEach(([pe,be])=>{const _e=`${J}_${pe}`;typeof be!="string"&&(O[_e]=be)})}),O}return(e==null?void 0:e.generatedMidiPatterns)||null}),[A,_]=ne.useState(!1),[k,V]=ne.useState(""),[I,B]=ne.useState(null),[U,z]=ne.useState(!1),ie=ne.useRef(U);ne.useEffect(()=>{ie.current=U},[U]);const[se,ge]=ne.useState(!1);ne.useEffect(()=>{var J,ye;let O;if(e!=null&&e.midiSettings)O=e.midiSettings.bars||Je.bars,T({...e.midiSettings,bars:rs.includes(O)?O:Je.bars,songSection:e.midiSettings.songSection||Je.songSection,targetInstruments:e.midiSettings.targetInstruments&&e.midiSettings.targetInstruments.length>0?e.midiSettings.targetInstruments:[...Je.targetInstruments],guidebookContext:e.midiSettings.guidebookContext||Rr(e.content)});else{const pe=((J=e==null?void 0:e.genre)==null?void 0:J[0])||((ye=t==null?void 0:t.genre)==null?void 0:ye[0])||Je.genre,be=Rr((e==null?void 0:e.content)||""),_e=Wn[pe]||Wn.Default,Ie=Math.round((_e[0]+_e[1])/2),Ge=Je.songSection;let Le=Je.bars;const Me=Ge.toLowerCase();Me.includes("intro")||Me.includes("outro")||Me.includes("fill")||Me.includes("breakdown")?Le=4:Le=8,O=rs.includes(Le)?Le:Je.bars,T({...Je,key:o||Je.key,tempo:r||Ie,chordProgression:l||(Rn[pe]||Rn.Default)[0],genre:pe,guidebookContext:be,targetInstruments:[...Je.targetInstruments],songSection:Ge,bars:O})}w((e==null?void 0:e.generatedMidiPatterns)||null),B(null),ie.current&&(Hn(),z(!1))},[e,t==null?void 0:t.genre,r,o,l]);const H=(O,J)=>{T(ye=>{const pe={...ye,[O]:J};if(O==="genre"){const be=J,_e=(Rn[ye.genre]||Rn.Default)[0];ye.chordProgression===_e&&(pe.chordProgression=(Rn[be]||Rn.Default)[0]);const Ie=Wn[ye.genre]||Wn.Default,Ge=Math.round((Ie[0]+Ie[1])/2);if(ye.tempo===Ge){const Le=Wn[be]||Wn.Default;pe.tempo=Math.round((Le[0]+Le[1])/2)}}return e!=null&&e.content&&(pe.guidebookContext=Rr(e.content)),pe})},ue=O=>{T(J=>{const ye=J.targetInstruments,pe=ye.includes(O)?ye.filter(be=>be!==O):[...ye,O];return{...J,targetInstruments:pe}})},fe=async()=>{var J;_(!0),V("Regenerating MIDI patterns..."),B(null),ie.current&&(Hn(),z(!1)),await is();let O;if(h)O={...y,guidebookContext:`${y.genre} remix at ${y.tempo} BPM in ${y.key}`,genre:y.genre};else{const ye=((J=e==null?void 0:e.genre)==null?void 0:J[0])||y.genre,pe=Rr((e==null?void 0:e.content)||"");O={...y,guidebookContext:pe,genre:ye}}try{const ye=await xs(O);let pe="";for await(const Le of ye)Le.text&&(pe+=Le.text);console.log("Raw MIDI response:",pe),pe=pe.trim();const be=/^```(\w*)?\s*\n?(.*?)\n?\s*```$/s,_e=pe.match(be);_e&&_e[2]&&(console.log("Found code block, extracting JSON:",_e[2]),pe=_e[2].trim());let Ie;try{Ie=JSON.parse(pe)}catch(Le){throw console.error("JSON parse error:",Le),console.error("Failed to parse:",pe),new Error(`Invalid JSON response from AI: ${Le instanceof Error?Le.message:"Unknown parse error"}. Response was: ${pe.substring(0,200)}...`)}if(console.log("Parsed MIDI patterns:",Ie),(Le=>{console.log(" Validating MIDI patterns..."),Le.chords&&Le.chords.forEach((Me,tt)=>{(!Number.isFinite(Me.time)||!Number.isFinite(Me.duration))&&console.error(` Invalid chord ${tt}:`,Me),Me.notes.forEach((nt,xt)=>{Number.isFinite(nt.midi)||console.error(` Invalid chord ${tt} note ${xt}:`,nt)})}),["bassline","melody"].forEach(Me=>{const tt=Le[Me];tt&&tt.forEach((nt,xt)=>{(!Number.isFinite(nt.time)||!Number.isFinite(nt.duration)||!Number.isFinite(nt.midi))&&console.error(` Invalid ${Me} note ${xt}:`,nt)})}),Le.drums&&Object.entries(Le.drums).forEach(([Me,tt])=>{tt.forEach((nt,xt)=>{(!Number.isFinite(nt.time)||!Number.isFinite(nt.duration)||!Number.isFinite(nt.velocity||100))&&console.error(` Invalid ${Me} hit ${xt}:`,nt)})})})(Ie),Ie.drums){const Le={};for(const Me in Ie.drums)Le[Me.toLowerCase().replace(/\s+/g,"_")]=Ie.drums[Me];Ie.drums=Le}w(Ie),n==null||n(O,Ie)}catch(ye){console.error("MIDI Generation Error:",ye);const pe=ye.message.toLowerCase().includes("json")?`AI returned invalid JSON for MIDI patterns. (${ye.message})`:`Failed to generate MIDI patterns: ${ye.message}`;B(pe),w(null)}finally{_(!1),V("")}},he=async()=>{S&&(await is(),ie.current&&(Hn(),z(!1),await new Promise(O=>setTimeout(O,50))),Tv(S,y),z(!0))},le=async O=>{!S||!S[O]||(await is(),ie.current&&(Hn(),z(!1),await new Promise(J=>setTimeout(J,50))),Tv(S,y,O),z(!0))},Z=()=>{Hn(),z(!1)};ne.useEffect(()=>()=>{ie.current&&Hn()},[]);const $=()=>{if(!S)return;const O=((e==null?void 0:e.title)||"TrackGuideMIDI").replace(/[^a-z0-9_.-]/gi,"_"),J=vv(S,y,O);J?bv(J,`${O}_all_tracks.mid`):alert("No MIDI data to download or error in generation.")},F=O=>{if(!S||!S[O]){alert(`No ${O} data available in current patterns.`);return}const J={[O]:S[O]},ye=((e==null?void 0:e.title)||"TrackGuideMIDI").replace(/[^a-z0-9_.-]/gi,"_"),pe=vv(J,y,`${ye}_${O}`);pe?bv(pe,`${ye}_${O}.mid`):alert(`No ${O} data to download or error in generation.`)},N=async O=>{var ye;if(!S)return;_(!0),V(`Regenerating ${O}...`),B(null),ie.current&&(Hn(),z(!1)),await is();let J;if(h)J={...y,guidebookContext:`${y.genre} remix at ${y.tempo} BPM in ${y.key}`,genre:y.genre,targetInstruments:[O]};else{const pe=((ye=e==null?void 0:e.genre)==null?void 0:ye[0])||y.genre,be=Rr((e==null?void 0:e.content)||"");J={...y,guidebookContext:be,genre:pe,targetInstruments:[O]}}try{const pe=await xs(J);let be="";for await(const Me of pe)Me.text&&(be+=Me.text);console.log(`Raw MIDI response for ${O}:`,be),be=be.trim();const _e=/^```(\w*)?\s*\n?(.*?)\n?\s*```$/s,Ie=be.match(_e);Ie&&Ie[2]&&(console.log(`Found code block for ${O}, extracting JSON:`,Ie[2]),be=Ie[2].trim());let Ge;try{Ge=JSON.parse(be)}catch(Me){throw console.error(`JSON parse error for ${O}:`,Me),console.error("Failed to parse:",be),new Error(`Invalid JSON response from AI for ${O}: ${Me instanceof Error?Me.message:"Unknown parse error"}`)}console.log(`Parsed MIDI patterns for ${O}:`,Ge);const Le={...S,[O]:Ge[O]};if(O==="drums"&&Ge.drums){const Me={};for(const tt in Ge.drums)Me[tt.toLowerCase().replace(/\s+/g,"_")]=Ge.drums[tt];Le.drums=Me}w(Le),n==null||n(y,Le)}catch(pe){console.error("Error regenerating single track:",pe),B(`Failed to regenerate ${O}. Please try again.`)}finally{_(!1),V("")}},R=async()=>{se||await is(),ge(O=>!O)},C=(O,J)=>{if(!S||!S[O])return null;const ye=S[O];let pe="";if(O==="drums"&&ye){const be=Object.keys(ye);pe=`${be.length} elements: ${be.map(_e=>CP[_e]||_e).join(", ")}`}else O==="chords"&&Array.isArray(ye)?pe=`${ye.length} chord events`:(O==="bassline"||O==="melody")&&Array.isArray(ye)&&(pe=`${ye.length} notes`);return g.jsxs(Xe,{title:J,className:"p-4 border border-gray-600 rounded-md bg-gray-800/50",children:[g.jsx("div",{className:"mb-3",children:g.jsx("p",{className:"text-xs text-gray-400",children:pe})}),g.jsxs("div",{className:"flex flex-wrap gap-2",children:[g.jsx(Fe,{onClick:()=>le(O),leftIcon:g.jsx(Mx,{}),size:"sm",variant:"primary",children:"Play"}),g.jsx(Fe,{onClick:()=>N(O),leftIcon:g.jsx(wx,{className:"w-4 h-4",isSpinning:A&&k.includes(O)}),size:"sm",variant:"secondary",disabled:A,children:"Regenerate"}),g.jsx(Fe,{onClick:()=>F(O),leftIcon:g.jsx(Xd,{}),size:"sm",variant:"secondary",children:"Download"})]})]},O)};return g.jsxs(Xe,{title:" MIDI Tools & Pattern Generator",className:"mt-6 bg-gray-800/80 backdrop-blur-md shadow-xl border border-gray-700/50",children:[g.jsx(Fe,{onClick:R,variant:"secondary",className:"w-full mb-4",leftIcon:g.jsx(Nk,{}),children:se?"Hide MIDI Settings":"Adjust MIDI Settings & Regenerate"}),se&&g.jsxs("div",{className:"mb-6 border-t border-gray-700 pt-6",children:[g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-x-6 gap-y-4 mb-6",children:[g.jsxs("div",{children:[g.jsx("label",{htmlFor:"midi-key",className:"block text-sm font-medium text-gray-300 mb-1",children:"Key"}),g.jsx("select",{id:"midi-key",value:y.key,onChange:O=>H("key",O.target.value),className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-md shadow-sm text-gray-100 focus:ring-purple-500 focus:border-purple-500 text-sm",children:os.map(O=>g.jsx("option",{value:O,children:O},O))})]}),g.jsxs("div",{children:[g.jsxs("label",{htmlFor:"midi-scale",className:"block text-sm font-medium text-gray-300 mb-1",children:["Scale/Mode ",g.jsx("span",{className:"text-xs text-gray-400",children:"(Optional)"})]}),g.jsxs("select",{id:"midi-scale",value:y.scale||"",onChange:O=>H("scale",O.target.value),className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-md shadow-sm text-gray-100 focus:ring-purple-500 focus:border-purple-500 text-sm",children:[g.jsx("option",{value:"",children:"Default (from key)"}),wP(y.key).map(O=>g.jsx("option",{value:O,children:O},O))]})]}),g.jsxs("div",{children:[g.jsx("label",{htmlFor:"midi-tempo",className:"block text-sm font-medium text-gray-300 mb-1",children:"Tempo (BPM)"}),g.jsx(xn,{type:"number",id:"midi-tempo",value:y.tempo,onChange:O=>H("tempo",parseInt(O.target.value,10)),min:"30",max:"300"})]}),g.jsxs("div",{children:[g.jsx("label",{htmlFor:"midi-timesig",className:"block text-sm font-medium text-gray-300 mb-1",children:"Time Signature"}),g.jsx("select",{id:"midi-timesig",value:y.timeSignature.join("/"),onChange:O=>H("timeSignature",O.target.value.split("/").map(Number)),className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-md shadow-sm text-gray-100 focus:ring-purple-500 focus:border-purple-500 text-sm",children:hk.map(O=>g.jsx("option",{value:O.join("/"),children:O.join("/")},O.join("/")))})]}),g.jsxs("div",{children:[g.jsx("label",{htmlFor:"midi-chords",className:"block text-sm font-medium text-gray-300 mb-1",children:"Chord Progression"}),g.jsx("select",{id:"midi-chords",value:y.chordProgression,onChange:O=>H("chordProgression",O.target.value),className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-md shadow-sm text-gray-100 focus:ring-purple-500 focus:border-purple-500 text-sm",children:AP(y.genre).map(O=>g.jsx("option",{value:O,children:O},O))})]}),g.jsxs("div",{children:[g.jsx("label",{htmlFor:"midi-genre",className:"block text-sm font-medium text-gray-300 mb-1",children:"MIDI Genre Context"}),g.jsxs("select",{id:"midi-genre",value:y.genre,onChange:O=>H("genre",O.target.value),className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-md shadow-sm text-gray-100 focus:ring-purple-500 focus:border-purple-500 text-sm",children:[g.jsxs("option",{value:((P=e==null?void 0:e.genre)==null?void 0:P[0])||((G=t==null?void 0:t.genre)==null?void 0:G[0])||Je.genre,children:["Align with Guidebook (",((E=e==null?void 0:e.genre)==null?void 0:E[0])||((ee=t==null?void 0:t.genre)==null?void 0:ee[0])||"Default",")"]}),r1.map(O=>g.jsx("option",{value:O,children:O},O))]})]}),g.jsxs("div",{children:[g.jsx("label",{htmlFor:"midi-bars",className:"block text-sm font-medium text-gray-300 mb-1",children:"Loop Length (Bars)"}),g.jsx("select",{id:"midi-bars",value:y.bars,onChange:O=>H("bars",parseInt(O.target.value,10)),className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-md shadow-sm text-gray-100 focus:ring-purple-500 focus:border-purple-500 text-sm",children:rs.map(O=>g.jsx("option",{value:O,children:O},O))})]}),g.jsxs("div",{className:"lg:col-span-1",children:[g.jsx("label",{htmlFor:"midi-songsection",className:"block text-sm font-medium text-gray-300 mb-1",children:"Song Section Context"}),g.jsx("select",{id:"midi-songsection",value:y.songSection||Je.songSection,onChange:O=>H("songSection",O.target.value),className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-md shadow-sm text-gray-100 focus:ring-purple-500 focus:border-purple-500 text-sm",children:(h&&f?f:gk).map(O=>g.jsx("option",{value:O,children:O},O))})]})]}),g.jsxs("div",{className:"mb-6",children:[g.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Target Instruments to Generate"}),g.jsx("div",{className:"flex flex-wrap gap-x-4 gap-y-2",children:pk.map(O=>g.jsxs("button",{type:"button",onClick:()=>ue(O.id),className:`flex items-center px-3 py-1.5 rounded-md text-sm transition-colors duration-150 ease-in-out border
                            ${y.targetInstruments.includes(O.id)?"bg-purple-600 text-white border-purple-500 hover:bg-purple-700 shadow-md":"bg-gray-700 text-gray-300 border-gray-600 hover:bg-gray-600 hover:border-gray-500"}`,"aria-pressed":y.targetInstruments.includes(O.id),children:[y.targetInstruments.includes(O.id)?g.jsx(_k,{className:"w-4 h-4 mr-2"}):g.jsx(Rk,{className:"w-4 h-4 mr-2 text-gray-500"}),O.label]},O.id))})]}),g.jsx(Fe,{onClick:fe,disabled:A||y.targetInstruments.length===0,className:"w-full",leftIcon:g.jsx(wx,{className:"w-5 h-5",isSpinning:A}),children:A?k||"Regenerating MIDI Patterns...":y.targetInstruments.length===0?"Select instruments first":"Regenerate MIDI Patterns"})]}),I&&g.jsx("p",{className:"text-red-400 bg-red-900/30 p-3 rounded-md text-sm my-4",children:I}),A&&!se&&(!S||k.includes("MIDI"))&&g.jsx("div",{className:"my-4",children:g.jsx(Jn,{text:k||"AI is composing..."})}),S&&!A&&g.jsxs("div",{className:"mt-6 space-y-3",children:[g.jsxs("div",{className:"flex flex-wrap gap-3 items-center pb-3 border-b border-gray-700",children:[g.jsx(Fe,{onClick:U?Z:he,variant:U?"danger":"primary",size:"md",leftIcon:U?g.jsx(Ik,{}):g.jsx(Mx,{}),children:U?"Stop Preview":"Play All Tracks"}),g.jsx(Fe,{onClick:$,variant:"secondary",size:"md",leftIcon:g.jsx(Xd,{}),children:"Download All (.mid)"})]}),g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 pt-3",children:[C("chords","Chords"),C("bassline","Bassline"),C("melody","Melody"),C("drums","Drums")]}),S.error&&g.jsxs("p",{className:"text-sm text-yellow-400 mt-2",children:["AI Note: ",S.error]})]}),!S&&!A&&!I&&g.jsxs("p",{className:"text-gray-400 text-sm mt-4 text-center",children:["No MIDI patterns generated yet for this ",h?"RemixGuide":"TrackGuide",'. Click "Adjust MIDI Settings" to configure and generate.']})]})},bT=[{category:"House",genre:"House",tempoRange:[120,126],sections:["Intro","Build-Up","Drop","Breakdown","Drop 2","Outro"]},{category:"House",genre:"Deep House",tempoRange:[118,124],sections:["Intro","Build-Up","Drop","Breakdown","Outro"]},{category:"House",genre:"Tech House",tempoRange:[122,127],sections:["Intro","Build-Up","Drop","Breakdown","Drop 2","Outro"]},{category:"House",genre:"Progressive House",tempoRange:[124,128],sections:["Intro","Build-Up","Drop","Breakdown","Outro"]},{category:"House",genre:"Afro House",tempoRange:[120,125],sections:["Intro","Build-Up","Drop","Breakdown","Outro"]},{category:"House",genre:"Nu-Disco",tempoRange:[115,125],sections:["Intro","Verse","Chorus","Bridge","Outro"]},{category:"Techno",genre:"Melodic Techno",tempoRange:[120,126],sections:["Intro","Groove Build","Peak Moment","Mid-Break","Outro"]},{category:"Techno",genre:"Minimal Techno",tempoRange:[120,125],sections:["Intro","Groove Build","Peak Moment","Mid-Break","Outro"]},{category:"Techno",genre:"Big Room Techno",tempoRange:[126,130],sections:["Intro","Build-Up","Drop","Breakdown","Build-Up 2","Final Drop","Outro"]},{category:"Techno",genre:"Peak Time Techno",tempoRange:[128,135],sections:["Intro","Groove Build","Peak Moment","Mid-Break","Outro"]},{category:"Techno",genre:"Hard Techno",tempoRange:[135,145],sections:["Intro","Groove Build","Peak Moment","Mid-Break","Outro"]},{category:"Trance",genre:"Trance",tempoRange:[128,140],sections:["Intro","Build-Up","Drop","Breakdown","Build-Up 2","Final Drop","Outro"]},{category:"Trance",genre:"Psytrance",tempoRange:[140,150],sections:["Intro","Build-Up","Drop","Breakdown","Build-Up 2","Final Drop","Outro"]},{category:"Trance",genre:"Progressive Trance",tempoRange:[130,138],sections:["Intro","Build-Up","Drop","Breakdown","Build-Up 2","Final Drop","Outro"]},{category:"Trance",genre:"Uplifting Trance",tempoRange:[132,140],sections:["Intro","Build-Up","Drop","Breakdown","Build-Up 2","Final Drop","Outro"]},{category:"Bass & Dubstep",genre:"Dubstep",tempoRange:[140,150],sections:["Intro","Pre-Drop","Drop 1","Switch-Up","Drop 2","Outro"]},{category:"Bass & Dubstep",genre:"Riddim Dubstep",tempoRange:[140,150],sections:["Intro","Pre-Drop","Drop 1","Switch-Up","Drop 2","Outro"]},{category:"Bass & Dubstep",genre:"Hybrid Trap",tempoRange:[135,150],sections:["Intro","Pre-Drop","Drop 1","Mid-Section","Drop 2","Outro"]},{category:"Bass & Dubstep",genre:"Midtempo Bass",tempoRange:[95,110],sections:["Intro","Build-Up","Drop","Breakdown","Outro"]},{category:"Bass & Dubstep",genre:"Future Bass",tempoRange:[140,155],sections:["Intro","Pre-Drop","Drop 1","Breakdown","Drop 2","Outro"]},{category:"Bass & Dubstep",genre:"Phonk",tempoRange:[130,150],sections:["Intro","Pre-Drop","Drop 1","Switch-Up","Drop 2","Outro"]},{category:"Bass & Dubstep",genre:"Hardstyle",tempoRange:[150,160],sections:["Intro","Pre-Drop","Drop 1","Switch-Up","Drop 2","Outro"]},{category:"Trap & Future Styles",genre:"Trap",tempoRange:[130,150],sections:["Intro","Pre-Drop","Drop 1","Mid-Section","Drop 2","Outro"]},{category:"Trap & Future Styles",genre:"Hard Trap",tempoRange:[135,150],sections:["Intro","Pre-Drop","Drop 1","Switch-Up","Drop 2","Outro"]},{category:"Trap & Future Styles",genre:"Hyperpop",tempoRange:[140,160],sections:["Intro","Verse","Drop","Bridge","Outro"]},{category:"Trap & Future Styles",genre:"Trap Soul",tempoRange:[100,130],sections:["Intro","Verse","Chorus","Bridge","Outro"]},{category:"Trap & Future Styles",genre:"Jersey Club",tempoRange:[130,140],sections:["Intro","Pre-Drop","Drop 1","Mid-Section","Drop 2","Outro"]},{category:"Drum & Bass / UK Styles",genre:"Drum & Bass",tempoRange:[170,175],sections:["Intro","Build-Up","Drop","Mid-Roll","Breakdown","Second Drop","Outro"]},{category:"Drum & Bass / UK Styles",genre:"Liquid DnB",tempoRange:[170,175],sections:["Intro","Build-Up","Drop","Mid-Roll","Breakdown","Second Drop","Outro"]},{category:"Drum & Bass / UK Styles",genre:"Jungle",tempoRange:[170,175],sections:["Intro","Build-Up","Drop","Mid-Roll","Breakdown","Second Drop","Outro"]},{category:"Drum & Bass / UK Styles",genre:"UK Garage",tempoRange:[130,138],sections:["Intro","Build-Up","Drop","Breakdown","Outro"]},{category:"Drum & Bass / UK Styles",genre:"UK Bass",tempoRange:[128,138],sections:["Intro","Build-Up","Drop","Breakdown","Outro"]},{category:"Drum & Bass / UK Styles",genre:"Breakbeat",tempoRange:[125,135],sections:["Intro","Build-Up","Drop","Breakdown","Outro"]},{category:"Pop / Indie / Electro",genre:"EDM Pop",tempoRange:[110,125],sections:["Intro","Verse","Pre-Chorus","Chorus / Drop","Bridge","Outro"]},{category:"Pop / Indie / Electro",genre:"Indie Pop",tempoRange:[100,120],sections:["Intro","Verse","Chorus","Bridge","Outro"]},{category:"Pop / Indie / Electro",genre:"Indie Dance",tempoRange:[115,125],sections:["Intro","Verse","Chorus","Bridge","Outro"]},{category:"Pop / Indie / Electro",genre:"Electro Pop",tempoRange:[100,120],sections:["Intro","Verse","Pre-Chorus","Chorus","Bridge","Outro"]},{category:"Pop / Indie / Electro",genre:"Synth Pop",tempoRange:[100,115],sections:["Intro","Verse","Pre-Chorus","Chorus","Bridge","Outro"]},{category:"Retro & Synth",genre:"Synthwave",tempoRange:[85,105],sections:["Intro","Main Theme","Breakdown","Bridge","Outro"]},{category:"Retro & Synth",genre:"Chillwave",tempoRange:[85,100],sections:["Intro","Main Theme","Breakdown","Bridge","Outro"]},{category:"Retro & Synth",genre:"Vaporwave",tempoRange:[60,85],sections:["Intro","Main Theme","Breakdown","Outro"]},{category:"Retro & Synth",genre:"Retrowave",tempoRange:[90,110],sections:["Intro","Main Theme","Breakdown","Bridge","Outro"]},{category:"Hip-Hop & RnB",genre:"Boom Bap",tempoRange:[85,95],sections:["Intro","Verse","Chorus","Verse 2","Outro"]},{category:"Hip-Hop & RnB",genre:"Experimental Hip-Hop",tempoRange:[80,100],sections:["Intro","Verse","Drop","Bridge","Outro"]},{category:"Hip-Hop & RnB",genre:"RnB Remix",tempoRange:[85,100],sections:["Intro","Verse","Chorus","Bridge","Outro"]},{category:"Lo-fi & Chill",genre:"Lo-fi Hip-Hop",tempoRange:[65,85],sections:["Intro","Groove Section A","Groove Section B","Bridge / Texture Break","Outro"]},{category:"Lo-fi & Chill",genre:"Chillhop",tempoRange:[70,90],sections:["Intro","Groove Section A","Groove Section B","Bridge / Texture Break","Outro"]},{category:"Lo-fi & Chill",genre:"Trip-Hop",tempoRange:[70,90],sections:["Intro","Main Atmosphere","Texture Development","Outro"]},{category:"Lo-fi & Chill",genre:"Downtempo",tempoRange:[70,90],sections:["Intro","Main Atmosphere","Texture Development","Dynamic Peak","Outro"]},{category:"Lo-fi & Chill",genre:"Chillstep",tempoRange:[100,115],sections:["Intro","Build-Up","Drop","Breakdown","Outro"]},{category:"Ambient & Cinematic",genre:"Ambient",tempoRange:[60,80],sections:["Intro","Main Atmosphere","Texture Development","Outro"]},{category:"Ambient & Cinematic",genre:"Cinematic",tempoRange:[60,80],sections:["Intro","Main Atmosphere","Texture Development","Outro"]}],EP=()=>{const e={};return bT.forEach(({category:t,genre:n})=>{e[t]||(e[t]=[]),e[t].push(n)}),e},Sv=e=>bT.find(t=>t.genre===e),Cv=e=>{if(!e)return null;const t=/##\s*\s*Original Track DNA Analysis/i,n=e.match(t);if(!n||typeof n.index>"u")return null;const r=n.index,o=e.substring(r+n[0].length).match(/^##\s+/m),l=o&&typeof o.index<"u"?r+n[0].length+o.index:e.length,f=e.substring(r,l).trim().match(/\*\*Harmonic Blueprint\*\*:\s*([^\n]+)/i);if(f&&f[1]){const d=f[1].match(/([IVXLCDMivxlcdm\d\s,-]+(?:\s*-\s*[IVXLCDMivxlcdm\d\s,-]+)*)/);if(d&&d[1])return d[1].trim()}return null},DP=({onContentUpdate:e})=>{const[t,n]=ne.useState(null),[r,o]=ne.useState(""),[l,u]=ne.useState(""),[f,m]=ne.useState(""),[d,h]=ne.useState(""),[y,T]=ne.useState(!1),[S,w]=ne.useState(!1),[A,_]=ne.useState(null),[k,V]=ne.useState(""),[I,B]=ne.useState(""),U=ne.useRef(null),z=EP(),ie=Object.keys(z),se=Z=>{var R;const $=(R=Z.target.files)==null?void 0:R[0];if(!$)return;if(!(["audio/wav","audio/mpeg","audio/mp3"].includes($.type)||$.name.toLowerCase().endsWith(".wav")||$.name.toLowerCase().endsWith(".mp3"))){B("Please upload a WAV or MP3 file");return}if($.size>100*1024*1024){B("File size must be under 100MB");return}n($),B("")},ge=Z=>{Z.preventDefault();const $=Z.dataTransfer.files[0];$&&se({target:{files:[$]}})},H=Z=>{Z.preventDefault()},ue=async()=>{if(!t||!l){B("Please upload an audio file and select a target genre");return}T(!0),B(""),V(""),_(null);try{const Z=await SP(t),$={base64:Z.base64,mimeType:Z.mimeType},F=Sv(l);let N="",R=null;const C=Tk($,l,F,f,d);for await(const Me of C)Me.text&&(N+=Me.text,V(N),e==null||e(N)),Me.metadata&&(R=Me.metadata);console.log("Remix guide generated, now generating MIDI patterns..."),w(!0);const P=Cv(N),G=(R==null?void 0:R.targetTempo)||128,E=(R==null?void 0:R.targetKey)||"C minor",ee=(R==null?void 0:R.originalChordProgression)||P,O=(R==null?void 0:R.sections)||["Intro","Build-Up","Drop","Breakdown","Outro"],J={guide:N,targetTempo:G,targetKey:E,sections:O,originalKey:R==null?void 0:R.originalKey,originalTempo:R==null?void 0:R.originalTempo,originalChordProgression:ee};_(J),V("");const ye={key:E,tempo:G,timeSignature:[4,4],chordProgression:ee||"i-VI-III-VII",genre:l,bars:8,targetInstruments:["bassline","drums","melody","chords"],guidebookContext:`${l} remix at ${G} BPM in ${E}`,songSection:O[0]||"Intro"};console.log("MIDI settings with remix defaults:",ye);const pe=await xs(ye);let be="";for await(const Me of pe)Me.text&&(be+=Me.text);be=be.trim();const _e=/^```(\w*)?\s*\n?(.*?)\n?\s*```$/s,Ie=be.match(_e);Ie&&Ie[2]&&(be=Ie[2].trim());const Ge=JSON.parse(be);if(Ge.drums){const Me={};Object.entries(Ge.drums).forEach(([tt,nt])=>{Me[tt.toLowerCase()]=nt}),Ge.drums=Me}console.log("Generated MIDI patterns:",Ge);const Le={...J,generatedMidiPatterns:Ge};_(Le),e==null||e(N),console.log("RemixGuide completed successfully with streaming and dynamic MIDI defaults")}catch(Z){console.error("Error generating remix guide:",Z),B(Z instanceof Error?Z.message:"Failed to generate remix guide")}finally{T(!1),w(!1)}},fe=Z=>{o(Z),u("")},he=async()=>{if(A){w(!0),B("");try{const Z=Cv(A.guide),$={key:A.targetKey,tempo:A.targetTempo,timeSignature:[4,4],chordProgression:Z||A.originalChordProgression||"i-VI-III-VII",genre:l,bars:8,targetInstruments:["bassline","drums","melody","chords"],guidebookContext:`${l} remix at ${A.targetTempo} BPM in ${A.targetKey}`,songSection:A.sections[0]||"Intro"};console.log("Regenerating MIDI with settings:",$);const F=await xs($);let N="";for await(const G of F)G.text&&(N+=G.text);N=N.trim();const R=/^```(\w*)?\s*\n?(.*?)\n?\s*```$/s,C=N.match(R);C&&C[2]&&(N=C[2].trim()),console.log("Raw regenerated MIDI JSON:",N);const P=JSON.parse(N);if(P.drums){const G={};for(const E in P.drums)G[E.toLowerCase().replace(/\s+/g,"_")]=P.drums[E];P.drums=G}console.log("Regenerated MIDI patterns:",P),_(G=>G?{...G,generatedMidiPatterns:P}:null)}catch(Z){console.error("Error regenerating MIDI patterns:",Z),B(`Failed to regenerate MIDI patterns: ${Z instanceof Error?Z.message:"Unknown error"}`)}finally{w(!1)}}},le=()=>{n(null),o(""),u(""),m(""),h(""),_(null),B(""),U.current&&(U.current.value="")};return g.jsxs("div",{className:"space-y-6",children:[g.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[g.jsxs(Xe,{className:"p-6",children:[g.jsx("h3",{className:"text-lg font-semibold mb-4 text-white",children:"Upload Original Track"}),g.jsxs("div",{className:"border-2 border-dashed border-gray-600 rounded-lg p-8 text-center cursor-pointer hover:border-gray-500 transition-colors",onDrop:ge,onDragOver:H,onClick:()=>{var Z;return(Z=U.current)==null?void 0:Z.click()},children:[g.jsx("input",{ref:U,type:"file",accept:".wav,.mp3,audio/wav,audio/mpeg",onChange:se,className:"hidden"}),g.jsxs("div",{className:"space-y-2",children:[g.jsx("div",{className:"text-4xl",children:""}),g.jsx("div",{className:"text-white font-medium",children:t?t.name:"Upload Original Track"}),g.jsx("p",{className:"text-gray-400 text-sm",children:"or drag and drop"})]}),g.jsxs("p",{className:"text-gray-500 text-xs mt-2",children:["MP3, WAV up to ",g.jsx("span",{className:"text-orange-400",children:"100"}),"MB"]})]})]}),g.jsxs(Xe,{className:"p-6",children:[g.jsx("h3",{className:"text-lg font-semibold mb-4 text-white",children:"Target Remix Genre"}),g.jsxs("div",{className:"space-y-4",children:[g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"1. Select Category"}),g.jsxs("select",{value:r,onChange:Z=>fe(Z.target.value),className:"w-full p-3 bg-gray-700 border border-gray-600 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-orange-500",children:[g.jsx("option",{value:"",children:"Choose a category..."}),ie.map(Z=>g.jsx("option",{value:Z,children:Z},Z))]})]}),r&&g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"2. Select Genre"}),g.jsxs("select",{value:l,onChange:Z=>u(Z.target.value),className:"w-full p-3 bg-gray-700 border border-gray-600 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-orange-500",children:[g.jsx("option",{value:"",children:"Choose a genre..."}),z[r].map(Z=>g.jsx("option",{value:Z,children:Z},Z))]})]}),l&&g.jsx("div",{className:"text-sm text-gray-400 bg-gray-800 p-3 rounded-lg",children:(()=>{const Z=Sv(l);return Z?` Tempo: ${Z.tempoRange[0]}-${Z.tempoRange[1]} BPM`:""})()})]})]})]}),g.jsxs(Xe,{className:"p-6",children:[g.jsx("h3",{className:"text-lg font-semibold mb-4 text-white",children:"Production Setup (Optional)"}),g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"DAW (Digital Audio Workstation)"}),g.jsx("input",{type:"text",value:f,onChange:Z=>m(Z.target.value),placeholder:"e.g., Ableton Live, Logic Pro X, FL Studio...",className:"w-full p-3 bg-gray-700 border border-gray-600 rounded-lg text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-orange-500"})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Available Plugins"}),g.jsx("input",{type:"text",value:d,onChange:Z=>h(Z.target.value),placeholder:"e.g., Serum, FabFilter Pro-Q 3, Valhalla VintageVerb...",className:"w-full p-3 bg-gray-700 border border-gray-600 rounded-lg text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-orange-500"})]})]}),g.jsx("p",{className:"text-xs text-gray-400 mt-2",children:"Specify your DAW and plugins to get tailored parameter recommendations in the remix guide"})]}),I&&g.jsx("div",{className:"bg-red-900/50 border border-red-500 rounded-lg p-4 text-red-200",children:I}),g.jsxs("div",{className:"flex gap-4",children:[g.jsx(Fe,{onClick:ue,disabled:!t||!l||y,className:"flex-1",children:y?g.jsxs(g.Fragment,{children:[g.jsx(Jn,{size:"sm"})," Generating RemixGuide..."]}):" Generate RemixGuide"}),g.jsx(Fe,{onClick:le,variant:"outline",children:"Reset"})]}),y&&k&&g.jsxs(Xe,{className:"p-6",children:[g.jsxs("h3",{className:"text-xl font-bold text-white mb-4",children:[" Generating ",l," Remix Guide..."]}),g.jsx("div",{className:"bg-gray-800/50 rounded-lg p-6 max-h-[calc(100vh-8rem)] overflow-y-auto",children:g.jsx(Pr,{content:k})})]}),S&&A&&!y&&g.jsx(Xe,{className:"p-6",children:g.jsxs("div",{className:"text-center py-8",children:[g.jsx(Jn,{size:"lg"}),g.jsx("h3",{className:"text-xl font-bold text-white mt-4",children:" Generating MIDI Patterns..."}),g.jsxs("p",{className:"text-gray-400 mt-2",children:["Creating ",l,"-specific patterns based on your remix guide"]})]})}),A&&!y&&g.jsxs("div",{className:"space-y-6",children:[g.jsxs(Xe,{className:"p-6",children:[g.jsxs("div",{className:"flex justify-between items-center mb-4",children:[g.jsxs("h3",{className:"text-xl font-bold text-white",children:[" ",l," Remix Guide"]}),g.jsxs("div",{className:"text-sm text-gray-400",children:["Target: ",A.targetTempo," BPM  ",A.targetKey]})]}),g.jsx("div",{className:"bg-gray-800/50 rounded-lg p-6 max-h-[calc(100vh-8rem)] overflow-y-auto",children:g.jsx(Pr,{content:A.guide})})]}),g.jsxs(Xe,{className:"p-6",children:[g.jsxs("div",{className:"flex justify-between items-center mb-6",children:[g.jsx("h3",{className:"text-xl font-bold text-white",children:" MIDI Remix Patterns"}),g.jsx(Fe,{onClick:he,disabled:S,variant:"outline",className:"text-sm",children:S?g.jsxs(g.Fragment,{children:[g.jsx(Jn,{size:"sm"})," Regenerating..."]}):" Regenerate MIDI"})]}),A.generatedMidiPatterns?g.jsx(vT,{sections:A.sections,targetTempo:A.targetTempo,targetKey:A.targetKey,isRemixMode:!0,currentGuidebookEntry:{id:`remix-${Date.now()}`,title:`${l} Remix`,genre:[l],artistReference:"Remix Guide",vibe:[l],daw:f||"Not specified",plugins:d||"Not specified",availableInstruments:"Remix instruments",content:A.guide,createdAt:new Date().toISOString(),generatedMidiPatterns:A.generatedMidiPatterns}},`remix-${l}-${Date.now()}`):g.jsx("div",{className:"text-center py-8",children:g.jsx("div",{className:"text-gray-400 mb-4",children:S?g.jsxs(g.Fragment,{children:[g.jsx(Jn,{size:"lg"}),g.jsx("p",{className:"mt-4",children:"Generating MIDI patterns..."})]}):g.jsxs(g.Fragment,{children:[g.jsx("div",{className:"text-4xl mb-2",children:""}),g.jsx("p",{children:"MIDI patterns will appear here after generation"}),g.jsx("p",{className:"text-sm mt-2",children:'Click "Regenerate MIDI" to generate patterns'})]})})})]})]}),!A&&g.jsx(Xe,{className:"p-6 bg-gray-800/30",children:g.jsxs("div",{className:"text-center space-y-4",children:[g.jsx("div",{className:"text-6xl",children:""}),g.jsx("h3",{className:"text-xl font-bold text-white",children:"Transform Your Track"}),g.jsx("p",{className:"text-gray-400 max-w-2xl mx-auto",children:"Upload your original track and select a target genre. Our AI will analyze the harmonic progression, melodies, and rhythmic elements, then generate a comprehensive remix guide with genre-appropriate MIDI patterns for basslines, drums, melodies, and textures."})]})})]})},Mv=({attack:e,decay:t,sustain:n,release:r,width:o=400,height:l=150})=>{const u=Math.max(0,Math.min(1,e)),f=Math.max(0,Math.min(1,t)),m=Math.max(0,Math.min(1,n)),d=Math.max(0,Math.min(1,r)),h=u+f+.3+d,y=u/h*o*.8,T=f/h*o*.8,S=.3/h*o*.8,w=d/h*o*.8,A=l*.9,_=l*.1,k=_+(1-m)*(A-_),V=o*.1;let I=V;const B=[`M ${I} ${A}`],U=I+y*.5,z=A-(A-_)*.1;B.push(`C ${U} ${z}, ${I+y*.8} ${_+10}, ${I+y} ${_}`),I+=y;const ie=I+T*.3,se=_+(k-_)*.2;B.push(`C ${ie} ${se}, ${I+T*.7} ${k-5}, ${I+T} ${k}`),I+=T,B.push(`L ${I+S} ${k}`),I+=S;const ge=I+w*.7,H=k+(A-k)*.8;B.push(`C ${I+w*.3} ${k+5}, ${ge} ${H}, ${I+w} ${A}`);const ue=B.join(" ");return g.jsxs("svg",{width:o,height:l,className:"w-full h-auto",children:[g.jsx("rect",{width:"100%",height:"100%",fill:"#1f2937",rx:"4",ry:"4"}),g.jsx("line",{x1:"0",y1:A,x2:o,y2:A,stroke:"#4b5563",strokeWidth:"1",strokeDasharray:"4,4"}),g.jsx("line",{x1:"0",y1:_,x2:o,y2:_,stroke:"#4b5563",strokeWidth:"1",strokeDasharray:"4,4"}),g.jsx("line",{x1:"0",y1:k,x2:o,y2:k,stroke:"#4b5563",strokeWidth:"1",strokeDasharray:"4,4"}),g.jsx("path",{d:ue,fill:"none",stroke:"#f97316",strokeWidth:"3",strokeLinecap:"round",strokeLinejoin:"round"}),g.jsx("line",{x1:V+y,y1:_-5,x2:V+y,y2:A+5,stroke:"#6b7280",strokeWidth:"1",strokeDasharray:"4,4"}),g.jsx("line",{x1:V+y+T,y1:_-5,x2:V+y+T,y2:A+5,stroke:"#6b7280",strokeWidth:"1",strokeDasharray:"4,4"}),g.jsx("line",{x1:V+y+T+S,y1:_-5,x2:V+y+T+S,y2:A+5,stroke:"#6b7280",strokeWidth:"1",strokeDasharray:"4,4"}),g.jsx("text",{x:V+y/2,y:l-5,textAnchor:"middle",fill:"#d1d5db",fontSize:"10",children:"A"}),g.jsx("text",{x:V+y+T/2,y:l-5,textAnchor:"middle",fill:"#d1d5db",fontSize:"10",children:"D"}),g.jsx("text",{x:V+y+T+S/2,y:l-5,textAnchor:"middle",fill:"#d1d5db",fontSize:"10",children:"S"}),g.jsx("text",{x:V+y+T+S+w/2,y:l-5,textAnchor:"middle",fill:"#d1d5db",fontSize:"10",children:"R"}),g.jsx("text",{x:"5",y:_+15,fill:"#d1d5db",fontSize:"10",children:"1.0"}),g.jsx("text",{x:"5",y:k+15,fill:"#d1d5db",fontSize:"10",children:m.toFixed(1)}),g.jsx("text",{x:"5",y:A-5,fill:"#d1d5db",fontSize:"10",children:"0.0"}),g.jsxs("text",{x:o-5,y:15,textAnchor:"end",fill:"#d1d5db",fontSize:"10",children:["A: ",u.toFixed(2)," D: ",f.toFixed(2)," S: ",m.toFixed(2)," R: ",d.toFixed(2)]})]})},kP={name:"Xfer Serum",oscillators:[{id:"1",name:"Osc 1",type:"Analog",params:["Waveform","Octave","Coarse","Fine","Level"]},{id:"2",name:"Osc 2",type:"Analog",params:["Waveform","Octave","Coarse","Fine","Level"]},{id:"3",name:"Sub Osc",type:"Analog",params:["Octave","Level"]}],filters:[{name:"Filter",types:["Lowpass","Highpass","Bandpass","Comb","Notch","Peak","Formant","Phaser"],defaultType:"Lowpass",parameters:["Cutoff","Resonance","Drive","Pan","Mix"]}],modSources:[{name:"Env 1",type:"Envelope"},{name:"Env 2",type:"Envelope"},{name:"Env 3",type:"Envelope"},{name:"LFO 1",type:"LFO"},{name:"LFO 2",type:"LFO"},{name:"LFO 3",type:"LFO"},{name:"LFO 4",type:"LFO"},{name:"Macro 1",type:"Macro"},{name:"Macro 2",type:"Macro"},{name:"Macro 3",type:"Macro"},{name:"Macro 4",type:"Macro"},{name:"Velocity",type:"MIDI"},{name:"Mod Wheel",type:"MIDI"},{name:"Aftertouch",type:"MIDI"},{name:"Pitch Bend",type:"MIDI"},{name:"Chaos 1",type:"Random"},{name:"Chaos 2",type:"Random"},{name:"Noise OSC",type:"Audio"},{name:"Fixed",type:"Constant"}],modDestinations:[{section:"Oscillator",params:["Wavetable Position","Warp Depth","Coarse","Fine","Level","Pan"]},{section:"Filter",params:["Cutoff","Resonance","Drive","Pan","Mix"]},{section:"Envelope",params:["Attack","Decay","Sustain","Release"]},{section:"LFO",params:["Rate","Shape","Delay"]},{section:"FX",params:["Mix","Depth","Feedback","Time","Tone"]},{section:"Global",params:["Master Tune","Master Level"]}],effects:[{name:"Hyper/Dimension",modulatable:!0,parameters:[{name:"Size",unit:"%",range:[0,100],type:"float"},{name:"Detune",unit:"%",range:[0,100],type:"float"},{name:"Mix",unit:"%",range:[0,100],type:"float"}]},{name:"Distortion",modulatable:!0,parameters:[{name:"Drive",unit:"%",range:[0,100],type:"float"},{name:"Tone",unit:"Hz",range:[500,2e4],type:"float"},{name:"Mix",unit:"%",range:[0,100],type:"float"},{name:"Level",unit:"dB",range:[-12,12],type:"float"},{name:"Type",type:"enum",options:["SoftClip","HardClip","Tube","Fuzz"]}]},{name:"Compressor",modulatable:!0,parameters:[{name:"Threshold",unit:"dB",range:[-60,0],type:"float"},{name:"Ratio",unit:":",range:[1,20],type:"float"},{name:"Attack",unit:"ms",range:[.1,100],type:"float"},{name:"Release",unit:"ms",range:[10,2e3],type:"float"},{name:"Knee",unit:"dB",range:[0,12],type:"float"},{name:"MakeupGain",unit:"dB",range:[0,20],type:"float"},{name:"Mix",unit:"%",range:[0,100],type:"float"}]},{name:"Chorus",modulatable:!0,parameters:[{name:"Rate",unit:"Hz",range:[.1,10],type:"float"},{name:"Depth",unit:"%",range:[0,100],type:"float"},{name:"Delay",unit:"ms",range:[1,30],type:"float"},{name:"Feedback",unit:"%",range:[0,95],type:"float"},{name:"Mix",unit:"%",range:[0,100],type:"float"}]},{name:"Phaser",modulatable:!0,parameters:[{name:"Rate",unit:"Hz",range:[.1,5],type:"float"},{name:"Depth",unit:"%",range:[0,100],type:"float"},{name:"Feedback",unit:"%",range:[0,95],type:"float"},{name:"Stages",unit:"",range:[2,12],type:"int"},{name:"Center",unit:"Hz",range:[100,2e3],type:"float"},{name:"Mix",unit:"%",range:[0,100],type:"float"}]},{name:"Flanger",modulatable:!0,parameters:[{name:"Rate",unit:"Hz",range:[.1,5],type:"float"},{name:"Depth",unit:"%",range:[0,100],type:"float"},{name:"Manual",unit:"ms",range:[0,10],type:"float"},{name:"Feedback",unit:"%",range:[0,99],type:"float"},{name:"Phase",unit:"",range:[0,180],type:"float"},{name:"Mix",unit:"%",range:[0,100],type:"float"},{name:"LFOShape",type:"enum",options:["Sine","Triangle","Saw"]}]},{name:"EQ",modulatable:!0,parameters:[{name:"LowFreq",unit:"Hz",range:[20,500],type:"float"},{name:"LowGain",unit:"dB",range:[-12,12],type:"float"},{name:"MidFreq",unit:"Hz",range:[200,5e3],type:"float"},{name:"MidGain",unit:"dB",range:[-12,12],type:"float"},{name:"MidQ",unit:"",range:[.5,10],type:"float"},{name:"HighFreq",unit:"Hz",range:[1e3,2e4],type:"float"},{name:"HighGain",unit:"dB",range:[-12,12],type:"float"},{name:"Type",type:"enum",options:["LowShelf","Peaking","HighShelf"]}]},{name:"Reverb",modulatable:!0,parameters:[{name:"Decay",unit:"s",range:[.1,10],type:"float"},{name:"PreDelay",unit:"ms",range:[0,200],type:"float"},{name:"Damping",unit:"%",range:[0,100],type:"float"},{name:"Size",unit:"%",range:[0,100],type:"float"},{name:"HighCut",unit:"Hz",range:[500,2e4],type:"float"},{name:"LowCut",unit:"Hz",range:[20,1e3],type:"float"},{name:"Mix",unit:"%",range:[0,100],type:"float"},{name:"Type",type:"enum",options:["Room","Hall","Plate","Spring"]}]},{name:"Delay",modulatable:!0,parameters:[{name:"Time",unit:"ms",range:[1,5e3],type:"float"},{name:"Feedback",unit:"%",range:[0,100],type:"float"},{name:"Mix",unit:"%",range:[0,100],type:"float"},{name:"Sync",type:"boolean"},{name:"PingPong",type:"boolean"},{name:"Tone",unit:"Hz",range:[20,2e4],type:"float"}]},{name:"Filter (FX)",modulatable:!0,parameters:["Cutoff","Resonance","Drive","Mix"]}]},IP={name:"Vital",oscillators:[{id:"1",name:"Osc 1",type:"Analog",params:["Waveform","Octave","Coarse","Fine","Level"]},{id:"2",name:"Osc 2",type:"Analog",params:["Waveform","Octave","Coarse","Fine","Level"]},{id:"3",name:"Sub Osc",type:"Analog",params:["Octave","Level"]}],filters:[{name:"Filter",types:["Ladder","Analog","Digital","Formant","Comb","Phaser"],defaultType:"Ladder",parameters:["Cutoff","Resonance","Drive","Blend","Keytrack"]}],modSources:[{name:"Env 1",type:"Envelope"},{name:"Env 2",type:"Envelope"},{name:"Env 3",type:"Envelope"},{name:"LFO 1",type:"LFO"},{name:"LFO 2",type:"LFO"},{name:"LFO 3",type:"LFO"},{name:"LFO 4",type:"LFO"},{name:"Random 1",type:"Random"},{name:"Random 2",type:"Random"},{name:"Random 3",type:"Random"},{name:"Random 4",type:"Random"},{name:"Macro 1",type:"Macro"},{name:"Macro 2",type:"Macro"},{name:"Macro 3",type:"Macro"},{name:"Macro 4",type:"Macro"},{name:"Velocity",type:"MIDI"},{name:"Mod Wheel",type:"MIDI"},{name:"Aftertouch",type:"MIDI"},{name:"Pitch Bend",type:"MIDI"},{name:"MPE Slide",type:"MPE"}],modDestinations:[{section:"Oscillator",params:["Wavetable Position","Spectral Warp","Level","Pan","Phase","Detune","Unison"]},{section:"Filter",params:["Cutoff","Resonance","Drive","Blend"]},{section:"Envelope",params:["Attack","Decay","Sustain","Release"]},{section:"LFO",params:["Rate","Shape","Phase"]},{section:"FX",params:["Mix","Feedback","Time","Tone"]},{section:"Global",params:["Master Tune","Master Level"]}],effects:[{name:"Chorus",modulatable:!0,parameters:[{name:"Rate",unit:"Hz",range:[.1,10],type:"float"},{name:"Depth",unit:"%",range:[0,100],type:"float"},{name:"Delay",unit:"ms",range:[1,30],type:"float"},{name:"Feedback",unit:"%",range:[0,95],type:"float"},{name:"Mix",unit:"%",range:[0,100],type:"float"}]},{name:"Phaser",modulatable:!0,parameters:[{name:"Rate",unit:"Hz",range:[.1,5],type:"float"},{name:"Depth",unit:"%",range:[0,100],type:"float"},{name:"Feedback",unit:"%",range:[0,95],type:"float"},{name:"Stages",unit:"",range:[2,12],type:"int"},{name:"Center",unit:"Hz",range:[100,2e3],type:"float"},{name:"Mix",unit:"%",range:[0,100],type:"float"}]},{name:"Distortion",modulatable:!0,parameters:[{name:"Drive",unit:"%",range:[0,100],type:"float"},{name:"Tone",unit:"Hz",range:[500,2e4],type:"float"},{name:"Mix",unit:"%",range:[0,100],type:"float"},{name:"Level",unit:"dB",range:[-12,12],type:"float"},{name:"Type",type:"enum",options:["SoftClip","HardClip","Tube","Fuzz"]}]},{name:"Compressor",modulatable:!0,parameters:[{name:"Threshold",unit:"dB",range:[-60,0],type:"float"},{name:"Ratio",unit:":",range:[1,20],type:"float"},{name:"Attack",unit:"ms",range:[.1,100],type:"float"},{name:"Release",unit:"ms",range:[10,2e3],type:"float"},{name:"Knee",unit:"dB",range:[0,12],type:"float"},{name:"MakeupGain",unit:"dB",range:[0,20],type:"float"},{name:"Mix",unit:"%",range:[0,100],type:"float"}]},{name:"EQ",modulatable:!0,parameters:[{name:"LowFreq",unit:"Hz",range:[20,500],type:"float"},{name:"LowGain",unit:"dB",range:[-12,12],type:"float"},{name:"MidFreq",unit:"Hz",range:[200,5e3],type:"float"},{name:"MidGain",unit:"dB",range:[-12,12],type:"float"},{name:"MidQ",unit:"",range:[.5,10],type:"float"},{name:"HighFreq",unit:"Hz",range:[1e3,2e4],type:"float"},{name:"HighGain",unit:"dB",range:[-12,12],type:"float"},{name:"Type",type:"enum",options:["LowShelf","Peaking","HighShelf"]}]},{name:"Reverb",modulatable:!0,parameters:[{name:"Decay",unit:"s",range:[.1,10],type:"float"},{name:"PreDelay",unit:"ms",range:[0,200],type:"float"},{name:"Damping",unit:"%",range:[0,100],type:"float"},{name:"Size",unit:"%",range:[0,100],type:"float"},{name:"HighCut",unit:"Hz",range:[500,2e4],type:"float"},{name:"LowCut",unit:"Hz",range:[20,1e3],type:"float"},{name:"Mix",unit:"%",range:[0,100],type:"float"},{name:"Type",type:"enum",options:["Room","Hall","Plate","Spring"]}]},{name:"Delay",modulatable:!0,parameters:[{name:"Time",unit:"ms",range:[1,5e3],type:"float"},{name:"Feedback",unit:"%",range:[0,100],type:"float"},{name:"Mix",unit:"%",range:[0,100],type:"float"},{name:"Sync",type:"boolean"},{name:"PingPong",type:"boolean"},{name:"Tone",unit:"Hz",range:[20,2e4],type:"float"}]},{name:"Filter (FX)",modulatable:!0,parameters:["Cutoff","Resonance","Drive","Mix"]}]},NP={name:"Pigments",oscillators:[{id:"1",name:"Osc 1",type:"Analog",params:["Waveform","Octave","Coarse","Fine","Level"]},{id:"2",name:"Osc 2",type:"Analog",params:["Waveform","Octave","Coarse","Fine","Level"]},{id:"3",name:"Sub Osc",type:"Analog",params:["Octave","Level"]}],filters:[{name:"Filter",types:["Ladder","SEM","Jupiter","Formant","Comb","Phaser","Notch"],defaultType:"Ladder",parameters:["Cutoff","Resonance","Drive","Blend","Mode","Keytrack"]}],modSources:[{name:"Env 1 (Amp)",type:"Envelope"},{name:"Env 2",type:"Envelope"},{name:"Env 3",type:"Envelope"},{name:"Env 4",type:"Envelope"},{name:"LFO 1",type:"LFO"},{name:"LFO 2",type:"LFO"},{name:"LFO 3",type:"LFO"},{name:"Function 1",type:"Function"},{name:"Function 2",type:"Function"},{name:"Function 3",type:"Function"},{name:"Macro 1",type:"Macro"},{name:"Macro 2",type:"Macro"},{name:"Macro 3",type:"Macro"},{name:"Macro 4",type:"Macro"},{name:"Random",type:"Random"},{name:"Velocity",type:"MIDI"},{name:"Aftertouch",type:"MIDI"},{name:"Mod Wheel",type:"MIDI"},{name:"Pitch Bend",type:"MIDI"},{name:"Keytrack",type:"MIDI"}],modDestinations:[{section:"Oscillator",params:["Wavetable Position","Analog Shape","Sample Start","Level","Pan","FM Amount"]},{section:"Filter",params:["Cutoff","Resonance","Drive","Blend"]},{section:"Envelope",params:["Attack","Decay","Sustain","Release"]},{section:"LFO",params:["Rate","Shape","Fade In"]},{section:"FX",params:["Mix","Feedback","Time","Tone"]},{section:"Global",params:["Master Tune","Master Level"]}],effects:[{name:"Chorus",modulatable:!0,parameters:[{name:"Rate",unit:"Hz",range:[.1,10],type:"float"},{name:"Depth",unit:"%",range:[0,100],type:"float"},{name:"Delay",unit:"ms",range:[1,30],type:"float"},{name:"Feedback",unit:"%",range:[0,95],type:"float"},{name:"Mix",unit:"%",range:[0,100],type:"float"}]},{name:"Phaser",modulatable:!0,parameters:[{name:"Rate",unit:"Hz",range:[.1,5],type:"float"},{name:"Depth",unit:"%",range:[0,100],type:"float"},{name:"Feedback",unit:"%",range:[0,95],type:"float"},{name:"Stages",unit:"",range:[2,12],type:"int"},{name:"Center",unit:"Hz",range:[100,2e3],type:"float"},{name:"Mix",unit:"%",range:[0,100],type:"float"}]},{name:"Distortion",modulatable:!0,parameters:[{name:"Drive",unit:"%",range:[0,100],type:"float"},{name:"Tone",unit:"Hz",range:[500,2e4],type:"float"},{name:"Mix",unit:"%",range:[0,100],type:"float"},{name:"Level",unit:"dB",range:[-12,12],type:"float"},{name:"Type",type:"enum",options:["SoftClip","HardClip","Tube","Fuzz"]}]},{name:"Compressor",modulatable:!0,parameters:[{name:"Threshold",unit:"dB",range:[-60,0],type:"float"},{name:"Ratio",unit:":",range:[1,20],type:"float"},{name:"Attack",unit:"ms",range:[.1,100],type:"float"},{name:"Release",unit:"ms",range:[10,2e3],type:"float"},{name:"Knee",unit:"dB",range:[0,12],type:"float"},{name:"MakeupGain",unit:"dB",range:[0,20],type:"float"},{name:"Mix",unit:"%",range:[0,100],type:"float"}]},{name:"EQ",modulatable:!0,parameters:[{name:"LowFreq",unit:"Hz",range:[20,500],type:"float"},{name:"LowGain",unit:"dB",range:[-12,12],type:"float"},{name:"MidFreq",unit:"Hz",range:[200,5e3],type:"float"},{name:"MidGain",unit:"dB",range:[-12,12],type:"float"},{name:"MidQ",unit:"",range:[.5,10],type:"float"},{name:"HighFreq",unit:"Hz",range:[1e3,2e4],type:"float"},{name:"HighGain",unit:"dB",range:[-12,12],type:"float"},{name:"Type",type:"enum",options:["LowShelf","Peaking","HighShelf"]}]},{name:"Reverb",modulatable:!0,parameters:[{name:"Decay",unit:"s",range:[.1,10],type:"float"},{name:"PreDelay",unit:"ms",range:[0,200],type:"float"},{name:"Damping",unit:"%",range:[0,100],type:"float"},{name:"Size",unit:"%",range:[0,100],type:"float"},{name:"HighCut",unit:"Hz",range:[500,2e4],type:"float"},{name:"LowCut",unit:"Hz",range:[20,1e3],type:"float"},{name:"Mix",unit:"%",range:[0,100],type:"float"},{name:"Type",type:"enum",options:["Room","Hall","Plate","Spring"]}]},{name:"Delay",modulatable:!0,parameters:[{name:"Time",unit:"ms",range:[1,5e3],type:"float"},{name:"Feedback",unit:"%",range:[0,100],type:"float"},{name:"Mix",unit:"%",range:[0,100],type:"float"},{name:"Sync",type:"boolean"},{name:"PingPong",type:"boolean"},{name:"Tone",unit:"Hz",range:[20,2e4],type:"float"}]},{name:"Filter (FX)",modulatable:!0,parameters:["Cutoff","Resonance","Drive","Mix"]}]},RP={name:"Diva",oscillators:[{id:"1",name:"Osc 1",type:"Analog",params:["Waveform","Octave","Coarse","Fine","Level"]},{id:"2",name:"Osc 2",type:"Analog",params:["Waveform","Octave","Coarse","Fine","Level"]},{id:"3",name:"Sub Osc",type:"Analog",params:["Octave","Level"]}],filters:[{name:"Filter",types:["Moog Ladder","Roland","Korg MS20","HP","BP"],defaultType:"Moog Ladder",parameters:["Cutoff","Resonance","Drive","Keytrack"]}],modSources:[{name:"Env 1 (Amp)",type:"Envelope"},{name:"Env 2 (Filter)",type:"Envelope"},{name:"LFO 1",type:"LFO"},{name:"LFO 2",type:"LFO"},{name:"Velocity",type:"MIDI"},{name:"Mod Wheel",type:"MIDI"},{name:"Aftertouch",type:"MIDI"},{name:"Keytrack",type:"MIDI"}],modDestinations:[{section:"Oscillator",params:["Pitch","Pulse Width"]},{section:"Filter",params:["Cutoff","Resonance","Drive"]},{section:"Amp",params:["Level"]}],effects:[]},_P={name:"Roland Juno-106",oscillators:[{id:"1",name:"Osc 1",type:"Analog",params:["Waveform","Octave","Coarse","Fine","Level"]},{id:"2",name:"Osc 2",type:"Analog",params:["Waveform","Octave","Coarse","Fine","Level"]},{id:"3",name:"Sub Osc",type:"Analog",params:["Octave","Level"]}],filters:[{name:"Filter",types:["Lowpass","Highpass"],defaultType:"Lowpass",parameters:["Cutoff","Resonance","ENV Amount","LFO Amount","Keytrack"]}],modSources:[{name:"ADSR Envelope",type:"Envelope"},{name:"LFO",type:"LFO"},{name:"Mod Lever",type:"Performance"},{name:"Keytrack",type:"MIDI"}],modDestinations:[{section:"Oscillator",params:["Pitch","Pulse Width"]},{section:"Filter",params:["Cutoff","Resonance"]},{section:"Amp",params:["Level"]}],effects:[{name:"Chorus",parameters:["On/Off","Mode"]}]},LP={name:"Arturia Analog Lab",oscillators:[{id:"1",name:"Osc 1",type:"Analog",params:["Waveform","Octave","Coarse","Fine","Level"]},{id:"2",name:"Osc 2",type:"Analog",params:["Waveform","Octave","Coarse","Fine","Level"]},{id:"3",name:"Sub Osc",type:"Analog",params:["Octave","Level"]}],filters:[{name:"Filter",types:["Lowpass","Highpass","Bandpass"],defaultType:"Lowpass",parameters:["Cutoff","Resonance"]}],modSources:[{name:"Macro 1 (Brightness)",type:"Macro"},{name:"Macro 2 (Timbre)",type:"Macro"},{name:"Macro 3 (Time)",type:"Macro"},{name:"Macro 4 (Movement)",type:"Macro"},{name:"Velocity",type:"MIDI"},{name:"Aftertouch",type:"MIDI"}],modDestinations:[{section:"Macros",params:["Brightness","Timbre","Time","Movement"]},{section:"Filter",params:["Cutoff","Resonance"]}],effects:[{name:"Macros (Brightness, Timbre, Time, Movement)"},{name:"Preset-dependent FX (varies by underlying synth)"}]},VP={name:"Generic Synth",oscillators:[{id:"1",name:"Osc 1",type:"Analog",params:["Waveform","Octave","Level"]}],filters:[{name:"Filter",types:["Lowpass","Highpass"],defaultType:"Lowpass",parameters:["Cutoff","Resonance"]}],modSources:[{name:"Env 1",type:"Envelope"},{name:"LFO 1",type:"LFO"}],modDestinations:[{section:"Oscillator",params:["Pitch","Level"]},{section:"Filter",params:["Cutoff","Resonance"]},{section:"Amp",params:["Level"]}],effects:[{name:"Chorus",modulatable:!0,parameters:[{name:"Rate",unit:"Hz",range:[.1,10],type:"float"},{name:"Depth",unit:"%",range:[0,100],type:"float"},{name:"Delay",unit:"ms",range:[1,30],type:"float"},{name:"Feedback",unit:"%",range:[0,95],type:"float"},{name:"Mix",unit:"%",range:[0,100],type:"float"}]},{name:"Delay",modulatable:!0,parameters:[{name:"Time",unit:"ms",range:[1,5e3],type:"float"},{name:"Feedback",unit:"%",range:[0,100],type:"float"},{name:"Mix",unit:"%",range:[0,100],type:"float"},{name:"Sync",type:"boolean"},{name:"PingPong",type:"boolean"},{name:"Tone",unit:"Hz",range:[20,2e4],type:"float"}]},{name:"Reverb",modulatable:!0,parameters:[{name:"Decay",unit:"s",range:[.1,10],type:"float"},{name:"PreDelay",unit:"ms",range:[0,200],type:"float"},{name:"Damping",unit:"%",range:[0,100],type:"float"},{name:"Size",unit:"%",range:[0,100],type:"float"},{name:"HighCut",unit:"Hz",range:[500,2e4],type:"float"},{name:"LowCut",unit:"Hz",range:[20,1e3],type:"float"},{name:"Mix",unit:"%",range:[0,100],type:"float"},{name:"Type",type:"enum",options:["Room","Hall","Plate","Spring"]}]},{name:"Filter (FX)",modulatable:!0,parameters:["Cutoff","Resonance","Drive","Mix"]}]},PP={name:"Apple Alchemy",oscillators:[{id:"1",name:"Osc 1",type:"Analog",params:["Waveform","Octave","Coarse","Fine","Level"]},{id:"2",name:"Osc 2",type:"Analog",params:["Waveform","Octave","Coarse","Fine","Level"]},{id:"3",name:"Sub Osc",type:"Analog",params:["Octave","Level"]}],filters:[{name:"Filter",types:["Lowpass","Highpass","Bandpass","Notch","Comb","Formant"],defaultType:"Lowpass",parameters:["Cutoff","Resonance","Drive","Keytrack","Mix"]}],modSources:[{name:"Env 1",type:"Envelope"},{name:"Env 2",type:"Envelope"},{name:"Env 3",type:"Envelope"},{name:"Env 4",type:"Envelope"},{name:"LFO 1",type:"LFO"},{name:"LFO 2",type:"LFO"},{name:"LFO 3",type:"LFO"},{name:"LFO 4",type:"LFO"},{name:"Keytrack",type:"MIDI"},{name:"Velocity",type:"MIDI"},{name:"Mod Wheel",type:"MIDI"},{name:"Aftertouch",type:"MIDI"},{name:"Pitch Bend",type:"MIDI"}],modDestinations:[{section:"Oscillator",params:["Pitch","Level","Pan","Wave Shape"]},{section:"Filter",params:["Cutoff","Resonance","Drive","Mix"]},{section:"Amp",params:["Level"]}],effects:[{name:"Compressor",modulatable:!0,parameters:[{name:"Threshold",unit:"dB",range:[-60,0],type:"float"},{name:"Ratio",unit:":",range:[1,20],type:"float"},{name:"Attack",unit:"ms",range:[.1,100],type:"float"},{name:"Release",unit:"ms",range:[10,2e3],type:"float"},{name:"Knee",unit:"dB",range:[0,12],type:"float"},{name:"MakeupGain",unit:"dB",range:[0,20],type:"float"},{name:"Mix",unit:"%",range:[0,100],type:"float"}]},{name:"Distortion",modulatable:!0,parameters:[{name:"Drive",unit:"%",range:[0,100],type:"float"},{name:"Tone",unit:"Hz",range:[500,2e4],type:"float"},{name:"Mix",unit:"%",range:[0,100],type:"float"},{name:"Level",unit:"dB",range:[-12,12],type:"float"},{name:"Type",type:"enum",options:["SoftClip","HardClip","Tube","Fuzz"]}]},{name:"Chorus",modulatable:!0,parameters:[{name:"Rate",unit:"Hz",range:[.1,10],type:"float"},{name:"Depth",unit:"%",range:[0,100],type:"float"},{name:"Delay",unit:"ms",range:[1,30],type:"float"},{name:"Feedback",unit:"%",range:[0,95],type:"float"},{name:"Mix",unit:"%",range:[0,100],type:"float"}]},{name:"Phaser",modulatable:!0,parameters:[{name:"Rate",unit:"Hz",range:[.1,5],type:"float"},{name:"Depth",unit:"%",range:[0,100],type:"float"},{name:"Feedback",unit:"%",range:[0,95],type:"float"},{name:"Stages",unit:"",range:[2,12],type:"int"},{name:"Center",unit:"Hz",range:[100,2e3],type:"float"},{name:"Mix",unit:"%",range:[0,100],type:"float"}]},{name:"Flanger",modulatable:!0,parameters:[{name:"Rate",unit:"Hz",range:[.1,5],type:"float"},{name:"Depth",unit:"%",range:[0,100],type:"float"},{name:"Manual",unit:"ms",range:[0,10],type:"float"},{name:"Feedback",unit:"%",range:[0,99],type:"float"},{name:"Phase",unit:"",range:[0,180],type:"float"},{name:"Mix",unit:"%",range:[0,100],type:"float"},{name:"LFOShape",type:"enum",options:["Sine","Triangle","Saw"]}]},{name:"EQ",modulatable:!0,parameters:[{name:"LowFreq",unit:"Hz",range:[20,500],type:"float"},{name:"LowGain",unit:"dB",range:[-12,12],type:"float"},{name:"MidFreq",unit:"Hz",range:[200,5e3],type:"float"},{name:"MidGain",unit:"dB",range:[-12,12],type:"float"},{name:"MidQ",unit:"",range:[.5,10],type:"float"},{name:"HighFreq",unit:"Hz",range:[1e3,2e4],type:"float"},{name:"HighGain",unit:"dB",range:[-12,12],type:"float"},{name:"Type",type:"enum",options:["LowShelf","Peaking","HighShelf"]}]},{name:"Reverb",modulatable:!0,parameters:[{name:"Decay",unit:"s",range:[.1,10],type:"float"},{name:"PreDelay",unit:"ms",range:[0,200],type:"float"},{name:"Damping",unit:"%",range:[0,100],type:"float"},{name:"Size",unit:"%",range:[0,100],type:"float"},{name:"HighCut",unit:"Hz",range:[500,2e4],type:"float"},{name:"LowCut",unit:"Hz",range:[20,1e3],type:"float"},{name:"Mix",unit:"%",range:[0,100],type:"float"},{name:"Type",type:"enum",options:["Room","Hall","Plate","Spring"]}]},{name:"Delay",modulatable:!0,parameters:[{name:"Time",unit:"ms",range:[1,5e3],type:"float"},{name:"Feedback",unit:"%",range:[0,100],type:"float"},{name:"Mix",unit:"%",range:[0,100],type:"float"},{name:"Sync",type:"boolean"},{name:"PingPong",type:"boolean"},{name:"Tone",unit:"Hz",range:[20,2e4],type:"float"}]},{name:"Filter (FX)",modulatable:!0,parameters:["Cutoff","Resonance","Drive","Mix"]}]},BP={name:"Ableton Operator",oscillators:[{id:"A",name:"Osc A",type:"FM",params:["Coarse","Fine","Level","Waveform"]},{id:"B",name:"Osc B",type:"FM",params:["Coarse","Fine","Level","Waveform"]},{id:"C",name:"Osc C",type:"FM",params:["Coarse","Fine","Level","Waveform"]},{id:"D",name:"Osc D",type:"FM",params:["Coarse","Fine","Level","Waveform"]}],filters:[{name:"Filter",types:["Lowpass","Highpass","Bandpass","Notch"],defaultType:"Lowpass",parameters:["Cutoff","Resonance","Drive","Mix"]}],modSources:[{name:"Env 1",type:"Envelope"},{name:"Env 2",type:"Envelope"},{name:"LFO 1",type:"LFO"},{name:"LFO 2",type:"LFO"},{name:"Keytrack",type:"MIDI"},{name:"Velocity",type:"MIDI"},{name:"Mod Wheel",type:"MIDI"},{name:"Aftertouch",type:"MIDI"},{name:"Pitch Bend",type:"MIDI"}],modDestinations:[{section:"Oscillator",params:["Coarse","Fine","Level","Waveform"]},{section:"Filter",params:["Cutoff","Resonance","Drive","Mix"]},{section:"Amp",params:["Level"]}],effects:[{name:"Chorus",modulatable:!0,parameters:[{name:"Rate",unit:"Hz",range:[.1,10],type:"float"},{name:"Depth",unit:"%",range:[0,100],type:"float"},{name:"Delay",unit:"ms",range:[1,30],type:"float"},{name:"Feedback",unit:"%",range:[0,95],type:"float"},{name:"Mix",unit:"%",range:[0,100],type:"float"}]},{name:"Delay",modulatable:!0,parameters:[{name:"Time",unit:"ms",range:[1,5e3],type:"float"},{name:"Feedback",unit:"%",range:[0,100],type:"float"},{name:"Mix",unit:"%",range:[0,100],type:"float"},{name:"Sync",type:"boolean"},{name:"PingPong",type:"boolean"},{name:"Tone",unit:"Hz",range:[20,2e4],type:"float"}]},{name:"Reverb",modulatable:!0,parameters:[{name:"Decay",unit:"s",range:[.1,10],type:"float"},{name:"PreDelay",unit:"ms",range:[0,200],type:"float"},{name:"Damping",unit:"%",range:[0,100],type:"float"},{name:"Size",unit:"%",range:[0,100],type:"float"},{name:"HighCut",unit:"Hz",range:[500,2e4],type:"float"},{name:"LowCut",unit:"Hz",range:[20,1e3],type:"float"},{name:"Mix",unit:"%",range:[0,100],type:"float"},{name:"Type",type:"enum",options:["Room","Hall","Plate","Spring"]}]},{name:"Filter (FX)",modulatable:!0,parameters:["Cutoff","Resonance","Drive","Mix"]}]},FP={name:"Native Instruments FM8",operators:[{id:"A",name:"Operator A",params:["Ratio","Offset","Level","Waveform"]},{id:"B",name:"Operator B",params:["Ratio","Offset","Level","Waveform"]},{id:"C",name:"Operator C",params:["Ratio","Offset","Level","Waveform"]},{id:"D",name:"Operator D",params:["Ratio","Offset","Level","Waveform"]},{id:"E",name:"Operator E",params:["Ratio","Offset","Level","Waveform"]},{id:"F",name:"Operator F",params:["Ratio","Offset","Level","Waveform"]},{id:"X",name:"Noise/Saturation",params:["Level","Color"]}],filters:[{name:"Filter",types:["Lowpass","Highpass","Bandpass","Notch"],defaultType:"Lowpass",parameters:["Cutoff","Resonance","Drive","Mix"]}],modSources:[{name:"Env 1",type:"Envelope"},{name:"Env 2",type:"Envelope"},{name:"Env 3",type:"Envelope"},{name:"Env 4",type:"Envelope"},{name:"LFO 1",type:"LFO"},{name:"LFO 2",type:"LFO"},{name:"LFO 3",type:"LFO"},{name:"LFO 4",type:"LFO"},{name:"Keytrack",type:"MIDI"},{name:"Velocity",type:"MIDI"},{name:"Mod Wheel",type:"MIDI"},{name:"Aftertouch",type:"MIDI"},{name:"Pitch Bend",type:"MIDI"}],modDestinations:[{section:"Operator",params:["Level","Ratio","Offset","Waveform"]},{section:"Filter",params:["Cutoff","Resonance","Drive","Mix"]},{section:"Amp",params:["Level"]}],effects:[{name:"Chorus",modulatable:!0,parameters:[{name:"Rate",unit:"Hz",range:[.1,10],type:"float"},{name:"Depth",unit:"%",range:[0,100],type:"float"},{name:"Delay",unit:"ms",range:[1,30],type:"float"},{name:"Feedback",unit:"%",range:[0,95],type:"float"},{name:"Mix",unit:"%",range:[0,100],type:"float"}]},{name:"Delay",modulatable:!0,parameters:[{name:"Time",unit:"ms",range:[1,5e3],type:"float"},{name:"Feedback",unit:"%",range:[0,100],type:"float"},{name:"Mix",unit:"%",range:[0,100],type:"float"},{name:"Sync",type:"boolean"},{name:"PingPong",type:"boolean"},{name:"Tone",unit:"Hz",range:[20,2e4],type:"float"}]},{name:"Reverb",modulatable:!0,parameters:[{name:"Decay",unit:"s",range:[.1,10],type:"float"},{name:"PreDelay",unit:"ms",range:[0,200],type:"float"},{name:"Damping",unit:"%",range:[0,100],type:"float"},{name:"Size",unit:"%",range:[0,100],type:"float"},{name:"HighCut",unit:"Hz",range:[500,2e4],type:"float"},{name:"LowCut",unit:"Hz",range:[20,1e3],type:"float"},{name:"Mix",unit:"%",range:[0,100],type:"float"},{name:"Type",type:"enum",options:["Room","Hall","Plate","Spring"]}]},{name:"Filter (FX)",modulatable:!0,parameters:["Cutoff","Resonance","Drive","Mix"]}]},OP={name:"Hive 2",oscillators:[{id:"1",name:"Osc 1",type:"Wavetable",params:["Waveform","Octave","Semitone","Detune","Level"]},{id:"2",name:"Osc 2",type:"Wavetable",params:["Waveform","Octave","Semitone","Detune","Level"]},{id:"Sub",name:"Sub Osc",type:"Analog",params:["Octave","Level"]}],filters:[{name:"Filter 1",types:["Lowpass 12dB","Lowpass 24dB","Highpass 12dB","Highpass 24dB","Bandpass 12dB","Bandpass 24dB","Notch","Peak","Comb+","Comb-","Allpass"],defaultType:"Lowpass 24dB",parameters:["Cutoff","Resonance","Drive","Keytrack","Mix"]},{name:"Filter 2",types:["Lowpass 12dB","Lowpass 24dB","Highpass 12dB","Highpass 24dB","Bandpass 12dB","Bandpass 24dB","Notch","Peak","Comb+","Comb-","Allpass"],defaultType:"Lowpass 24dB",parameters:["Cutoff","Resonance","Drive","Keytrack","Mix"]}],modSources:[{name:"Env 1",type:"Envelope"},{name:"Env 2",type:"Envelope"},{name:"Env 3",type:"Envelope"},{name:"LFO 1",type:"LFO"},{name:"LFO 2",type:"LFO"},{name:"LFO 3",type:"LFO"},{name:"LFO 4",type:"LFO"},{name:"Seq/Arp",type:"Sequencer"},{name:"Keytrack",type:"MIDI"},{name:"Velocity",type:"MIDI"},{name:"Mod Wheel",type:"MIDI"},{name:"Aftertouch",type:"MIDI"},{name:"Pitch Bend",type:"MIDI"}],modDestinations:[{section:"Oscillator",params:["Pitch","Level","Pan","Wave Shape"]},{section:"Filter 1",params:["Cutoff","Resonance","Drive","Mix"]},{section:"Filter 2",params:["Cutoff","Resonance","Drive","Mix"]},{section:"Amp",params:["Level"]}],effects:[{name:"Distortion",modulatable:!0,parameters:[{name:"Drive",unit:"%",range:[0,100],type:"float"},{name:"Tone",unit:"Hz",range:[500,2e4],type:"float"},{name:"Mix",unit:"%",range:[0,100],type:"float"},{name:"Level",unit:"dB",range:[-12,12],type:"float"},{name:"Type",type:"enum",options:["SoftClip","HardClip","Tube","Fuzz"]}]},{name:"Chorus",modulatable:!0,parameters:[{name:"Rate",unit:"Hz",range:[.1,10],type:"float"},{name:"Depth",unit:"%",range:[0,100],type:"float"},{name:"Delay",unit:"ms",range:[1,30],type:"float"},{name:"Feedback",unit:"%",range:[0,95],type:"float"},{name:"Mix",unit:"%",range:[0,100],type:"float"}]},{name:"Phaser",modulatable:!0,parameters:[{name:"Rate",unit:"Hz",range:[.1,5],type:"float"},{name:"Depth",unit:"%",range:[0,100],type:"float"},{name:"Feedback",unit:"%",range:[0,95],type:"float"},{name:"Stages",unit:"",range:[2,12],type:"int"},{name:"Center",unit:"Hz",range:[100,2e3],type:"float"},{name:"Mix",unit:"%",range:[0,100],type:"float"}]},{name:"Flanger",modulatable:!0,parameters:[{name:"Rate",unit:"Hz",range:[.1,5],type:"float"},{name:"Depth",unit:"%",range:[0,100],type:"float"},{name:"Manual",unit:"ms",range:[0,10],type:"float"},{name:"Feedback",unit:"%",range:[0,99],type:"float"},{name:"Phase",unit:"",range:[0,180],type:"float"},{name:"Mix",unit:"%",range:[0,100],type:"float"},{name:"LFOShape",type:"enum",options:["Sine","Triangle","Saw"]}]},{name:"EQ",modulatable:!0,parameters:[{name:"LowFreq",unit:"Hz",range:[20,500],type:"float"},{name:"LowGain",unit:"dB",range:[-12,12],type:"float"},{name:"MidFreq",unit:"Hz",range:[200,5e3],type:"float"},{name:"MidGain",unit:"dB",range:[-12,12],type:"float"},{name:"MidQ",unit:"",range:[.5,10],type:"float"},{name:"HighFreq",unit:"Hz",range:[1e3,2e4],type:"float"},{name:"HighGain",unit:"dB",range:[-12,12],type:"float"},{name:"Type",type:"enum",options:["LowShelf","Peaking","HighShelf"]}]},{name:"Reverb",modulatable:!0,parameters:[{name:"Decay",unit:"s",range:[.1,10],type:"float"},{name:"PreDelay",unit:"ms",range:[0,200],type:"float"},{name:"Damping",unit:"%",range:[0,100],type:"float"},{name:"Size",unit:"%",range:[0,100],type:"float"},{name:"HighCut",unit:"Hz",range:[500,2e4],type:"float"},{name:"LowCut",unit:"Hz",range:[20,1e3],type:"float"},{name:"Mix",unit:"%",range:[0,100],type:"float"},{name:"Type",type:"enum",options:["Room","Hall","Plate","Spring"]}]},{name:"Delay",modulatable:!0,parameters:[{name:"Time",unit:"ms",range:[1,5e3],type:"float"},{name:"Feedback",unit:"%",range:[0,100],type:"float"},{name:"Mix",unit:"%",range:[0,100],type:"float"},{name:"Sync",type:"boolean"},{name:"PingPong",type:"boolean"},{name:"Tone",unit:"Hz",range:[20,2e4],type:"float"}]},{name:"Filter (FX)",modulatable:!0,parameters:["Cutoff","Resonance","Drive","Mix"]}]},jP={name:"Native Instruments Massive X",oscillators:[{id:"1",name:"Osc 1",type:"Wavetable",params:["Wavetable","Pitch","Warp","Level"]},{id:"2",name:"Osc 2",type:"Wavetable",params:["Wavetable","Pitch","Warp","Level"]}],filters:[{name:"Filter",types:["SVF","Ladder","Comb","Scanner","Groian","Blue Monark","Creak","Crusher"],defaultType:"SVF",parameters:["Cutoff","Resonance","Drive","Mix","Type"]}],modSources:[{name:"Env 1",type:"Envelope"},{name:"Env 2",type:"Envelope"},{name:"Env 3",type:"Envelope"},{name:"Env 4",type:"Envelope"},{name:"LFO 1",type:"LFO"},{name:"LFO 2",type:"LFO"},{name:"LFO 3",type:"LFO"},{name:"Performer 1",type:"Performer"},{name:"Performer 2",type:"Performer"},{name:"Random",type:"Random"},{name:"Keytrack",type:"MIDI"},{name:"Velocity",type:"MIDI"},{name:"Mod Wheel",type:"MIDI"},{name:"Aftertouch",type:"MIDI"},{name:"Pitch Bend",type:"MIDI"}],modDestinations:[{section:"Oscillator",params:["Pitch","Warp","Level"]},{section:"Filter",params:["Cutoff","Resonance","Drive","Mix"]},{section:"Amp",params:["Level"]}],effects:[{name:"Insert FX 1",modulatable:!0,parameters:["Type","Mix","Param 1","Param 2"]},{name:"Insert FX 2",modulatable:!0,parameters:["Type","Mix","Param 1","Param 2"]},{name:"Insert FX 3",modulatable:!0,parameters:["Type","Mix","Param 1","Param 2"]},{name:"Stereo FX 1",modulatable:!0,parameters:["Type","Mix","Param 1","Param 2"]},{name:"Stereo FX 2",modulatable:!0,parameters:["Type","Mix","Param 1","Param 2"]},{name:"Stereo FX 3",modulatable:!0,parameters:["Type","Mix","Param 1","Param 2"]},{name:"EQ",modulatable:!0,parameters:[{name:"Low Gain",unit:"dB",range:[-12,12],type:"float"},{name:"Mid Freq",unit:"Hz",range:[200,5e3],type:"float"},{name:"Mid Gain",unit:"dB",range:[-12,12],type:"float"},{name:"High Gain",unit:"dB",range:[-12,12],type:"float"}]},{name:"Compressor",modulatable:!0,parameters:[{name:"Threshold",unit:"dB",range:[-60,0],type:"float"},{name:"Ratio",unit:":",range:[1,20],type:"float"},{name:"Attack",unit:"ms",range:[.1,100],type:"float"},{name:"Release",unit:"ms",range:[10,2e3],type:"float"},{name:"Knee",unit:"dB",range:[0,12],type:"float"},{name:"MakeupGain",unit:"dB",range:[0,20],type:"float"},{name:"Mix",unit:"%",range:[0,100],type:"float"}]}]},zP={name:"Omnisphere",oscillators:[{id:"A",name:"Layer A",type:"Sample/Synth",params:["Sample/Waveform","Pitch","Level","Pan"]},{id:"B",name:"Layer B",type:"Sample/Synth",params:["Sample/Waveform","Pitch","Level","Pan"]},{id:"C",name:"Layer C",type:"Sample/Synth",params:["Sample/Waveform","Pitch","Level","Pan"]},{id:"D",name:"Layer D",type:"Sample/Synth",params:["Sample/Waveform","Pitch","Level","Pan"]}],filters:[{name:"Filter",types:["Lowpass","Highpass","Bandpass","Notch","Resonator","Formant","Power Filter"],defaultType:"Lowpass",parameters:["Cutoff","Resonance","Drive","Keytrack","Mix"]}],modSources:[{name:"Env 1",type:"Envelope"},{name:"Env 2",type:"Envelope"},{name:"Env 3",type:"Envelope"},{name:"Env 4",type:"Envelope"},{name:"LFO 1",type:"LFO"},{name:"LFO 2",type:"LFO"},{name:"LFO 3",type:"LFO"},{name:"LFO 4",type:"LFO"},{name:"Keytrack",type:"MIDI"},{name:"Velocity",type:"MIDI"},{name:"Mod Wheel",type:"MIDI"},{name:"Aftertouch",type:"MIDI"},{name:"Pitch Bend",type:"MIDI"}],modDestinations:[{section:"Oscillator",params:["Pitch","Level","Pan"]},{section:"Filter",params:["Cutoff","Resonance","Drive","Mix"]},{section:"Amp",params:["Level"]}],effects:[{name:"Chorus",modulatable:!0,parameters:[{name:"Rate",unit:"Hz",range:[.1,10],type:"float"},{name:"Depth",unit:"%",range:[0,100],type:"float"},{name:"Delay",unit:"ms",range:[1,30],type:"float"},{name:"Feedback",unit:"%",range:[0,95],type:"float"},{name:"Mix",unit:"%",range:[0,100],type:"float"}]},{name:"Flanger",modulatable:!0,parameters:[{name:"Rate",unit:"Hz",range:[.1,5],type:"float"},{name:"Depth",unit:"%",range:[0,100],type:"float"},{name:"Manual",unit:"ms",range:[0,10],type:"float"},{name:"Feedback",unit:"%",range:[0,99],type:"float"},{name:"Phase",unit:"",range:[0,180],type:"float"},{name:"Mix",unit:"%",range:[0,100],type:"float"},{name:"LFOShape",type:"enum",options:["Sine","Triangle","Saw"]}]},{name:"Phaser",modulatable:!0,parameters:[{name:"Rate",unit:"Hz",range:[.1,5],type:"float"},{name:"Depth",unit:"%",range:[0,100],type:"float"},{name:"Feedback",unit:"%",range:[0,95],type:"float"},{name:"Stages",unit:"",range:[2,12],type:"int"},{name:"Center",unit:"Hz",range:[100,2e3],type:"float"},{name:"Mix",unit:"%",range:[0,100],type:"float"}]},{name:"Distortion",modulatable:!0,parameters:[{name:"Drive",unit:"%",range:[0,100],type:"float"},{name:"Tone",unit:"Hz",range:[500,2e4],type:"float"},{name:"Mix",unit:"%",range:[0,100],type:"float"},{name:"Level",unit:"dB",range:[-12,12],type:"float"},{name:"Type",type:"enum",options:["SoftClip","HardClip","Tube","Fuzz"]}]},{name:"Compressor",modulatable:!0,parameters:[{name:"Threshold",unit:"dB",range:[-60,0],type:"float"},{name:"Ratio",unit:":",range:[1,20],type:"float"},{name:"Attack",unit:"ms",range:[.1,100],type:"float"},{name:"Release",unit:"ms",range:[10,2e3],type:"float"},{name:"Knee",unit:"dB",range:[0,12],type:"float"},{name:"MakeupGain",unit:"dB",range:[0,20],type:"float"},{name:"Mix",unit:"%",range:[0,100],type:"float"}]},{name:"EQ",modulatable:!0,parameters:[{name:"LowFreq",unit:"Hz",range:[20,500],type:"float"},{name:"LowGain",unit:"dB",range:[-12,12],type:"float"},{name:"MidFreq",unit:"Hz",range:[200,5e3],type:"float"},{name:"MidGain",unit:"dB",range:[-12,12],type:"float"},{name:"MidQ",unit:"",range:[.5,10],type:"float"},{name:"HighFreq",unit:"Hz",range:[1e3,2e4],type:"float"},{name:"HighGain",unit:"dB",range:[-12,12],type:"float"},{name:"Type",type:"enum",options:["LowShelf","Peaking","HighShelf"]}]},{name:"Reverb",modulatable:!0,parameters:[{name:"Decay",unit:"s",range:[.1,10],type:"float"},{name:"PreDelay",unit:"ms",range:[0,200],type:"float"},{name:"Damping",unit:"%",range:[0,100],type:"float"},{name:"Size",unit:"%",range:[0,100],type:"float"},{name:"HighCut",unit:"Hz",range:[500,2e4],type:"float"},{name:"LowCut",unit:"Hz",range:[20,1e3],type:"float"},{name:"Mix",unit:"%",range:[0,100],type:"float"},{name:"Type",type:"enum",options:["Room","Hall","Plate","Spring"]}]},{name:"Delay",modulatable:!0,parameters:[{name:"Time",unit:"ms",range:[1,5e3],type:"float"},{name:"Feedback",unit:"%",range:[0,100],type:"float"},{name:"Mix",unit:"%",range:[0,100],type:"float"},{name:"Sync",type:"boolean"},{name:"PingPong",type:"boolean"},{name:"Tone",unit:"Hz",range:[20,2e4],type:"float"}]},{name:"Filter (FX)",modulatable:!0,parameters:["Cutoff","Resonance","Drive","Mix"]}]},HP={name:"Apple Retro Synth",oscillators:[{id:"1",name:"Osc 1",type:"Analog/Digital/FM/Wave",params:["Type","Waveform","Octave","Detune","Level"]},{id:"2",name:"Osc 2",type:"Analog/Digital/FM/Wave",params:["Type","Waveform","Octave","Detune","Level"]}],filters:[{name:"Filter",types:["Lowpass","Highpass","Bandpass","Notch"],defaultType:"Lowpass",parameters:["Cutoff","Resonance","Drive","Keytrack","Mix"]}],modSources:[{name:"Env 1",type:"Envelope"},{name:"Env 2",type:"Envelope"},{name:"LFO 1",type:"LFO"},{name:"LFO 2",type:"LFO"},{name:"Keytrack",type:"MIDI"},{name:"Velocity",type:"MIDI"},{name:"Mod Wheel",type:"MIDI"},{name:"Aftertouch",type:"MIDI"},{name:"Pitch Bend",type:"MIDI"}],modDestinations:[{section:"Oscillator",params:["Pitch","Level","Type","Waveform"]},{section:"Filter",params:["Cutoff","Resonance","Drive","Mix"]},{section:"Amp",params:["Level"]}],effects:[{name:"Chorus",modulatable:!0,parameters:[{name:"Rate",unit:"Hz",range:[.1,10],type:"float"},{name:"Depth",unit:"%",range:[0,100],type:"float"},{name:"Delay",unit:"ms",range:[1,30],type:"float"},{name:"Feedback",unit:"%",range:[0,95],type:"float"},{name:"Mix",unit:"%",range:[0,100],type:"float"}]},{name:"Flanger",modulatable:!0,parameters:[{name:"Rate",unit:"Hz",range:[.1,5],type:"float"},{name:"Depth",unit:"%",range:[0,100],type:"float"},{name:"Manual",unit:"ms",range:[0,10],type:"float"},{name:"Feedback",unit:"%",range:[0,99],type:"float"},{name:"Phase",unit:"",range:[0,180],type:"float"},{name:"Mix",unit:"%",range:[0,100],type:"float"},{name:"LFOShape",type:"enum",options:["Sine","Triangle","Saw"]}]},{name:"Phaser",modulatable:!0,parameters:[{name:"Rate",unit:"Hz",range:[.1,5],type:"float"},{name:"Depth",unit:"%",range:[0,100],type:"float"},{name:"Feedback",unit:"%",range:[0,95],type:"float"},{name:"Stages",unit:"",range:[2,12],type:"int"},{name:"Center",unit:"Hz",range:[100,2e3],type:"float"},{name:"Mix",unit:"%",range:[0,100],type:"float"}]},{name:"Distortion",modulatable:!0,parameters:[{name:"Drive",unit:"%",range:[0,100],type:"float"},{name:"Tone",unit:"Hz",range:[500,2e4],type:"float"},{name:"Mix",unit:"%",range:[0,100],type:"float"},{name:"Level",unit:"dB",range:[-12,12],type:"float"},{name:"Type",type:"enum",options:["SoftClip","HardClip","Tube","Fuzz"]}]},{name:"Compressor",modulatable:!0,parameters:[{name:"Threshold",unit:"dB",range:[-60,0],type:"float"},{name:"Ratio",unit:":",range:[1,20],type:"float"},{name:"Attack",unit:"ms",range:[.1,100],type:"float"},{name:"Release",unit:"ms",range:[10,2e3],type:"float"},{name:"Knee",unit:"dB",range:[0,12],type:"float"},{name:"MakeupGain",unit:"dB",range:[0,20],type:"float"},{name:"Mix",unit:"%",range:[0,100],type:"float"}]},{name:"EQ",modulatable:!0,parameters:[{name:"LowFreq",unit:"Hz",range:[20,500],type:"float"},{name:"LowGain",unit:"dB",range:[-12,12],type:"float"},{name:"MidFreq",unit:"Hz",range:[200,5e3],type:"float"},{name:"MidGain",unit:"dB",range:[-12,12],type:"float"},{name:"MidQ",unit:"",range:[.5,10],type:"float"},{name:"HighFreq",unit:"Hz",range:[1e3,2e4],type:"float"},{name:"HighGain",unit:"dB",range:[-12,12],type:"float"},{name:"Type",type:"enum",options:["LowShelf","Peaking","HighShelf"]}]},{name:"Reverb",modulatable:!0,parameters:[{name:"Decay",unit:"s",range:[.1,10],type:"float"},{name:"PreDelay",unit:"ms",range:[0,200],type:"float"},{name:"Damping",unit:"%",range:[0,100],type:"float"},{name:"Size",unit:"%",range:[0,100],type:"float"},{name:"HighCut",unit:"Hz",range:[500,2e4],type:"float"},{name:"LowCut",unit:"Hz",range:[20,1e3],type:"float"},{name:"Mix",unit:"%",range:[0,100],type:"float"},{name:"Type",type:"enum",options:["Room","Hall","Plate","Spring"]}]},{name:"Delay",modulatable:!0,parameters:[{name:"Time",unit:"ms",range:[1,5e3],type:"float"},{name:"Feedback",unit:"%",range:[0,100],type:"float"},{name:"Mix",unit:"%",range:[0,100],type:"float"},{name:"Sync",type:"boolean"},{name:"PingPong",type:"boolean"},{name:"Tone",unit:"Hz",range:[20,2e4],type:"float"}]},{name:"Filter (FX)",modulatable:!0,parameters:["Cutoff","Resonance","Drive","Mix"]}]},UP={name:"Roland SH-101",oscillators:[{id:"1",name:"Osc 1",type:"Analog",params:["Waveform","Octave","Sub Level","Pulse Width","Level"]}],filters:[{name:"VCF",types:["Lowpass"],defaultType:"Lowpass",parameters:["Cutoff","Resonance","Env Mod","Keytrack"]}],modSources:[{name:"Env",type:"Envelope"},{name:"LFO",type:"LFO"},{name:"Keytrack",type:"MIDI"},{name:"Mod Wheel",type:"MIDI"},{name:"Pitch Bend",type:"MIDI"}],modDestinations:[{section:"Oscillator",params:["Pitch","Pulse Width","Level"]},{section:"VCF",params:["Cutoff","Resonance","Env Mod"]},{section:"Amp",params:["Level"]}],effects:[{name:"Chorus",modulatable:!1,parameters:["Rate","Depth","Mix"]}]},GP={name:"Sylenth1",oscillators:[{id:"A1",name:"Osc A1",type:"Analog",params:["Waveform","Voices","Detune","Stereo","Phase","Volume"]},{id:"A2",name:"Osc A2",type:"Analog",params:["Waveform","Voices","Detune","Stereo","Phase","Volume"]},{id:"B1",name:"Osc B1",type:"Analog",params:["Waveform","Voices","Detune","Stereo","Phase","Volume"]},{id:"B2",name:"Osc B2",type:"Analog",params:["Waveform","Voices","Detune","Stereo","Phase","Volume"]}],filters:[{name:"Filter A",types:["Lowpass","Highpass","Bandpass"],defaultType:"Lowpass",parameters:["Cutoff","Resonance","Drive","Keytrack"]},{name:"Filter B",types:["Lowpass","Highpass","Bandpass"],defaultType:"Lowpass",parameters:["Cutoff","Resonance","Drive","Keytrack"]}],modSources:[{name:"Env 1",type:"Envelope"},{name:"Env 2",type:"Envelope"},{name:"LFO 1",type:"LFO"},{name:"LFO 2",type:"LFO"},{name:"Mod Wheel",type:"MIDI"},{name:"Pitch Bend",type:"MIDI"},{name:"Velocity",type:"MIDI"},{name:"Keytrack",type:"MIDI"}],modDestinations:[{section:"Oscillator",params:["Pitch","Detune","Volume"]},{section:"Filter A",params:["Cutoff","Resonance","Drive"]},{section:"Filter B",params:["Cutoff","Resonance","Drive"]},{section:"Amp",params:["Level"]}],effects:[{name:"Distortion",modulatable:!0,parameters:[{name:"Drive",unit:"%",range:[0,100],type:"float"},{name:"Tone",unit:"Hz",range:[500,2e4],type:"float"},{name:"Mix",unit:"%",range:[0,100],type:"float"},{name:"Level",unit:"dB",range:[-12,12],type:"float"},{name:"Type",type:"enum",options:["SoftClip","HardClip","Tube","Fuzz"]}]},{name:"Phaser",modulatable:!0,parameters:[{name:"Rate",unit:"Hz",range:[.1,5],type:"float"},{name:"Depth",unit:"%",range:[0,100],type:"float"},{name:"Feedback",unit:"%",range:[0,95],type:"float"},{name:"Stages",unit:"",range:[2,12],type:"int"},{name:"Center",unit:"Hz",range:[100,2e3],type:"float"},{name:"Mix",unit:"%",range:[0,100],type:"float"}]},{name:"Chorus",modulatable:!0,parameters:[{name:"Rate",unit:"Hz",range:[.1,10],type:"float"},{name:"Depth",unit:"%",range:[0,100],type:"float"},{name:"Delay",unit:"ms",range:[1,30],type:"float"},{name:"Feedback",unit:"%",range:[0,95],type:"float"},{name:"Mix",unit:"%",range:[0,100],type:"float"}]},{name:"Reverb",modulatable:!0,parameters:[{name:"Decay",unit:"s",range:[.1,10],type:"float"},{name:"PreDelay",unit:"ms",range:[0,200],type:"float"},{name:"Damping",unit:"%",range:[0,100],type:"float"},{name:"Size",unit:"%",range:[0,100],type:"float"},{name:"HighCut",unit:"Hz",range:[500,2e4],type:"float"},{name:"LowCut",unit:"Hz",range:[20,1e3],type:"float"},{name:"Mix",unit:"%",range:[0,100],type:"float"},{name:"Type",type:"enum",options:["Room","Hall","Plate","Spring"]}]}]},qP={name:"Zebra2",oscillators:[{id:"1",name:"Osc 1",type:"Wavetable",params:["Waveform","Tune","Detune","Phase","Level"]},{id:"2",name:"Osc 2",type:"Wavetable",params:["Waveform","Tune","Detune","Phase","Level"]},{id:"3",name:"Osc 3",type:"Wavetable",params:["Waveform","Tune","Detune","Phase","Level"]},{id:"4",name:"Osc 4",type:"Wavetable",params:["Waveform","Tune","Detune","Phase","Level"]}],filters:[{name:"Filter 1",types:["Lowpass","Highpass","Bandpass","Notch","Comb","Formant"],defaultType:"Lowpass",parameters:["Cutoff","Resonance","Drive","Keytrack","Mix"]},{name:"Filter 2",types:["Lowpass","Highpass","Bandpass","Notch","Comb","Formant"],defaultType:"Lowpass",parameters:["Cutoff","Resonance","Drive","Keytrack","Mix"]}],modSources:[{name:"Env 1",type:"Envelope"},{name:"Env 2",type:"Envelope"},{name:"Env 3",type:"Envelope"},{name:"Env 4",type:"Envelope"},{name:"LFO 1",type:"LFO"},{name:"LFO 2",type:"LFO"},{name:"LFO 3",type:"LFO"},{name:"LFO 4",type:"LFO"},{name:"Keytrack",type:"MIDI"},{name:"Velocity",type:"MIDI"},{name:"Mod Wheel",type:"MIDI"},{name:"Aftertouch",type:"MIDI"},{name:"Pitch Bend",type:"MIDI"}],modDestinations:[{section:"Oscillator",params:["Pitch","Level","Detune","Phase"]},{section:"Filter 1",params:["Cutoff","Resonance","Drive","Mix"]},{section:"Filter 2",params:["Cutoff","Resonance","Drive","Mix"]},{section:"Amp",params:["Level"]}],effects:[{name:"Chorus",modulatable:!0,parameters:[{name:"Rate",unit:"Hz",range:[.1,10],type:"float"},{name:"Depth",unit:"%",range:[0,100],type:"float"},{name:"Delay",unit:"ms",range:[1,30],type:"float"},{name:"Feedback",unit:"%",range:[0,95],type:"float"},{name:"Mix",unit:"%",range:[0,100],type:"float"}]},{name:"Flanger",modulatable:!0,parameters:[{name:"Rate",unit:"Hz",range:[.1,5],type:"float"},{name:"Depth",unit:"%",range:[0,100],type:"float"},{name:"Manual",unit:"ms",range:[0,10],type:"float"},{name:"Feedback",unit:"%",range:[0,99],type:"float"},{name:"Phase",unit:"",range:[0,180],type:"float"},{name:"Mix",unit:"%",range:[0,100],type:"float"},{name:"LFOShape",type:"enum",options:["Sine","Triangle","Saw"]}]},{name:"Phaser",modulatable:!0,parameters:[{name:"Rate",unit:"Hz",range:[.1,5],type:"float"},{name:"Depth",unit:"%",range:[0,100],type:"float"},{name:"Feedback",unit:"%",range:[0,95],type:"float"},{name:"Stages",unit:"",range:[2,12],type:"int"},{name:"Center",unit:"Hz",range:[100,2e3],type:"float"},{name:"Mix",unit:"%",range:[0,100],type:"float"}]},{name:"Distortion",modulatable:!0,parameters:[{name:"Drive",unit:"%",range:[0,100],type:"float"},{name:"Tone",unit:"Hz",range:[500,2e4],type:"float"},{name:"Mix",unit:"%",range:[0,100],type:"float"},{name:"Level",unit:"dB",range:[-12,12],type:"float"},{name:"Type",type:"enum",options:["SoftClip","HardClip","Tube","Fuzz"]}]},{name:"Compressor",modulatable:!0,parameters:[{name:"Threshold",unit:"dB",range:[-60,0],type:"float"},{name:"Ratio",unit:":",range:[1,20],type:"float"},{name:"Attack",unit:"ms",range:[.1,100],type:"float"},{name:"Release",unit:"ms",range:[10,2e3],type:"float"},{name:"Knee",unit:"dB",range:[0,12],type:"float"},{name:"MakeupGain",unit:"dB",range:[0,20],type:"float"},{name:"Mix",unit:"%",range:[0,100],type:"float"}]},{name:"EQ",modulatable:!0,parameters:[{name:"LowFreq",unit:"Hz",range:[20,500],type:"float"},{name:"LowGain",unit:"dB",range:[-12,12],type:"float"},{name:"MidFreq",unit:"Hz",range:[200,5e3],type:"float"},{name:"MidGain",unit:"dB",range:[-12,12],type:"float"},{name:"MidQ",unit:"",range:[.5,10],type:"float"},{name:"HighFreq",unit:"Hz",range:[1e3,2e4],type:"float"},{name:"HighGain",unit:"dB",range:[-12,12],type:"float"},{name:"Type",type:"enum",options:["LowShelf","Peaking","HighShelf"]}]},{name:"Reverb",modulatable:!0,parameters:[{name:"Decay",unit:"s",range:[.1,10],type:"float"},{name:"PreDelay",unit:"ms",range:[0,200],type:"float"},{name:"Damping",unit:"%",range:[0,100],type:"float"},{name:"Size",unit:"%",range:[0,100],type:"float"},{name:"HighCut",unit:"Hz",range:[500,2e4],type:"float"},{name:"LowCut",unit:"Hz",range:[20,1e3],type:"float"},{name:"Mix",unit:"%",range:[0,100],type:"float"},{name:"Type",type:"enum",options:["Room","Hall","Plate","Spring"]}]},{name:"Delay",modulatable:!0,parameters:[{name:"Time",unit:"ms",range:[1,5e3],type:"float"},{name:"Feedback",unit:"%",range:[0,100],type:"float"},{name:"Mix",unit:"%",range:[0,100],type:"float"},{name:"Sync",type:"boolean"},{name:"PingPong",type:"boolean"},{name:"Tone",unit:"Hz",range:[20,2e4],type:"float"}]},{name:"Filter (FX)",modulatable:!0,parameters:["Cutoff","Resonance","Drive","Mix"]}]},$P=[{name:"Chorus"},{name:"Delay"},{name:"Reverb"},{name:"Flanger"},{name:"Phaser"},{name:"Distortion"},{name:"Bitcrusher"},{name:"Tape Saturation"},{name:"Compressor"},{name:"EQ"},{name:"Filter"},{name:"Wah"},{name:"Tremolo"},{name:"Insert Distortion"},{name:"Insert Bitcrusher"},{name:"Insert Comb Filter"},{name:"Insert Frequency Shifter"},{name:"Insert Ring Mod"},{name:"Insert Sample & Hold"},{name:"Insert EQ"},{name:"Stereo Chorus"},{name:"Stereo Flanger"},{name:"Stereo Phaser"},{name:"Stereo Delay"},{name:"Stereo Reverb"},{name:"Stereo Tape Saturation"},{name:"Hyper/Dimension"}],YP={Serum:kP,Vital:IP,Pigments:NP,Diva:RP,Juno106:_P,AnalogLab:LP,Generic:VP,Alchemy:PP,Operator:BP,FM8:FP,Hive2:OP,MassiveX:jP,Omnisphere:zP,RetroSynth:HP,SH101:UP,Sylenth1:GP,Zebra2:qP,fallbackStandardEffects:$P},au=YP,KP=e=>{if(au[e])return au[e];const t=e.toLowerCase().replace(/[^a-z0-9]/g,""),n=Object.keys(au).find(r=>r.toLowerCase().replace(/[^a-z0-9]/g,"")===t);return n?au[n]:{name:e,oscillators:[{id:"1",name:"Osc 1",params:["Waveform","Coarse","Fine","Level"]},{id:"2",name:"Osc 2",params:["Waveform","Coarse","Fine","Level"]}],filters:[{name:"Filter",types:["Lowpass","Highpass","Bandpass"],parameters:["Cutoff","Resonance"]}],effects:[]}},XP=(e,t)=>{const{description:n,synth:r,genre:o,voiceType:l,notes:u}=e;return`You are a professional synthesizer programmer. Create a detailed patch guide for these specifications:

**Target Sound:**
- Synth: ${r}
- Genre: ${o}
- Voice Type: ${l}
- Description: ${n}
${u?`- Additional Notes: ${u}`:""}

**IMPORTANT:** You must respond with EXACTLY this structured markdown format with clear organization and excellent spacing:

##  Core Sound Engine

###  Oscillator Setup

**Primary Oscillator (Osc 1)**

- Waveform: [type] 
- Coarse Tune: [value] semitones
- Fine Tune: [value] cents
- Level: [value] dB

**Secondary Oscillator (Osc 2)**

- Waveform: [type]
- Coarse Tune: [value] semitones  
- Fine Tune: [value] cents
- Level: [value] dB

**Sub Oscillator**

- Waveform: [type]
- Octave: [value] 
- Level: [value] dB

###  Filter Configuration

**Filter Type:** [type] (Lowpass/Highpass/Bandpass)

**Cutoff Frequency:** [frequency] Hz  

**Resonance:** [percentage]%

**Drive/Saturation:** [percentage]%

##  Dynamic Response

###  Filter Envelope (VCF)
| Parameter | Value | Purpose |
|-----------|--------|---------|
| **Attack** | [time] ms | [brief explanation] |
| **Decay** | [time] ms | [brief explanation] |
| **Sustain** | [percentage]% | [brief explanation] |
| **Release** | [time] ms | [brief explanation] |

###  Amplitude Envelope (VCA)
| Parameter | Value | Purpose |
|-----------|--------|---------|
| **Attack** | [time] ms | [brief explanation] |
| **Decay** | [time] ms | [brief explanation] |
| **Sustain** | [percentage]% | [brief explanation] |
| **Release** | [time] ms | [brief explanation] |

##  Effects & Character

###  Modulation Matrix

**LFO 1  Filter Cutoff**

- Amount: [percentage]%
- Rate: [rate] Hz  
- Waveform: [type]
- *Purpose:* [explanation]

**Envelope  Oscillator Pitch**

- Amount: [percentage]%
- *Purpose:* [explanation]

**Mod Wheel  Vibrato**

- Amount: [percentage]%
- *Purpose:* [explanation]

###  Effects Chain

**Chorus**

- Rate: [rate] Hz | Depth: [percentage]% | Mix: [percentage]%

**Delay**

- Time: [time] ms | Feedback: [percentage]% | Mix: [percentage]%

**Reverb**

- Decay: [time] s | Size: [percentage]% | Mix: [percentage]%

##  Performance & Production

###  Playing Techniques

**Velocity Response:**

- [Specific velocity technique advice]

**Expression Control:**

- [Mod wheel, aftertouch, or pedal suggestions]

**Register Considerations:**

- [Low/mid/high register playing advice]

###  Mix Integration

**EQ Approach:**

- [Frequency range emphasis/cuts]
- [Specific EQ curve suggestions]

**Compression:**

- [Attack/release settings]
- [Ratio and threshold guidance]

**Spatial Placement:**

- [Stereo positioning advice]
- [Reverb send levels]

###  Creative Variations

**For Softer Passages:**

- [Parameter adjustments for dynamics]

**For Aggressive Sections:**

- [Parameter adjustments for intensity]

**Alternative Textures:**

- [Quick parameter tweaks for variation]

**Guidelines:**
- Use specific numeric values with units (Hz, ms, %, dB)
- Include brief explanations for parameter purposes  
- Focus on ${o} genre characteristics and ${l} voice type
- Make all values musically appropriate and realistic
- Organize information for quick scanning and implementation

**Available Synth Parameters:**
${JSON.stringify(t,null,2)}

Respond ONLY with the structured markdown format above. Use tables, bullet points, and clear headings for maximum readability.`},WP=e=>{if(!(e!=null&&e.trim()))throw new Error("Empty response from AI");const t=e.trim(),n=(u,f)=>{const m=new RegExp(`### ${f}[\\s\\S]*?\\| \\*\\*Attack\\*\\* \\| ([\\d.]+) ms[\\s\\S]*?\\| \\*\\*Decay\\*\\* \\| ([\\d.]+) ms[\\s\\S]*?\\| \\*\\*Sustain\\*\\* \\| ([\\d.]+)%[\\s\\S]*?\\| \\*\\*Release\\*\\* \\| ([\\d.]+) ms`,"i"),d=u.match(m);if(d)return{attack:parseFloat(d[1])/1e3,decay:parseFloat(d[2])/1e3,sustain:parseFloat(d[3])/100,release:parseFloat(d[4])/1e3};const h=new RegExp(`${f}[^:]*:.*?Attack: ([\\d.]+) ms.*?Decay: ([\\d.]+) ms.*?Sustain: ([\\d.]+)%.*?Release: ([\\d.]+) ms`,"i"),y=u.match(h);return y?{attack:parseFloat(y[1])/1e3,decay:parseFloat(y[2])/1e3,sustain:parseFloat(y[3])/100,release:parseFloat(y[4])/1e3}:f.includes("Amplitude")||f.includes("VCA")?{attack:.05,decay:.3,sustain:.9,release:.8}:{attack:.1,decay:.5,sustain:.7,release:1.2}},r=()=>{const u=t.match(/###  Oscillator Setup(.*?)###  Filter Configuration/s);if(!u)return[];const f=[],m=u[1].match(/\*\*Primary Oscillator.*?\*\*.*?- Waveform: ([^\n]+).*?- Coarse Tune: ([^\n]+).*?- Fine Tune: ([^\n]+).*?- Level: ([^\n]+)/s);m&&f.push({name:"Primary Oscillator",waveform:m[1].trim(),coarse:m[2].trim(),fine:m[3].trim(),level:m[4].trim()});const d=u[1].match(/\*\*Secondary Oscillator.*?\*\*.*?- Waveform: ([^\n]+).*?- Coarse Tune: ([^\n]+).*?- Fine Tune: ([^\n]+).*?- Level: ([^\n]+)/s);return d&&f.push({name:"Secondary Oscillator",waveform:d[1].trim(),coarse:d[2].trim(),fine:d[3].trim(),level:d[4].trim()}),f},o=()=>{var h,y,T;const u=t.match(/###  Filter Configuration(.*?)##  Dynamic Response/s);if(!u)return{selectedType:"Lowpass",cutoff:"5000 Hz",resonance:"30%"};const f=u[1].match(/\*\*Filter Type:\*\* ([^\n]+)/),m=u[1].match(/\*\*Cutoff Frequency:\*\* ([^\n]+)/),d=u[1].match(/\*\*Resonance:\*\* ([^\n]+)/);return{selectedType:((h=f==null?void 0:f[1])==null?void 0:h.trim())||"Lowpass",cutoff:((y=m==null?void 0:m[1])==null?void 0:y.trim())||"5000 Hz",resonance:((T=d==null?void 0:d[1])==null?void 0:T.trim())||"30%"}},l=()=>{const u=t.match(/###  Effects Chain(.*?)##  Performance & Production/s);if(!u)return{};const f={},m=u[1].match(/\*\*Chorus\*\*.*?Rate: ([^|]+) \| Depth: ([^|]+) \| Mix: ([^\n]+)/);m&&(f.chorus={rate:m[1].trim(),depth:m[2].trim(),mix:m[3].trim()});const d=u[1].match(/\*\*Delay\*\*.*?Time: ([^|]+) \| Feedback: ([^|]+) \| Mix: ([^\n]+)/);d&&(f.delay={time:d[1].trim(),feedback:d[2].trim(),mix:d[3].trim()});const h=u[1].match(/\*\*Reverb\*\*.*?Decay: ([^|]+) \| Size: ([^|]+) \| Mix: ([^\n]+)/);return h&&(f.reverb={decay:h[1].trim(),size:h[2].trim(),mix:h[3].trim()}),f};return{text:t,synthConfig:{oscillators:r(),filter:o(),effects:l()},adsrVCF:n(t,"Filter Envelope"),adsrVCA:n(t,"Amplitude Envelope"),summary:t.includes("##  Performance & Production")?t.split("##  Performance & Production")[1].trim():t.includes("###  Creative Variations")?t.split("###  Creative Variations")[1].trim():"No creative tips provided"}},QP=(e,t)=>{const n=(l,u)=>!l||typeof l!="object"?u:{attack:typeof l.attack=="number"?Math.max(.01,Math.min(10,l.attack)):u.attack,decay:typeof l.decay=="number"?Math.max(.01,Math.min(10,l.decay)):u.decay,sustain:typeof l.sustain=="number"?Math.max(0,Math.min(1,l.sustain)):u.sustain,release:typeof l.release=="number"?Math.max(.01,Math.min(10,l.release)):u.release},r=()=>Array.isArray(e.oscillators)?e.oscillators.map((l,u)=>({name:l.name||`Oscillator ${u+1}`,id:String(u+1),values:l.values||{}})):[],o=()=>{const l=e.filter||{};return{name:"Filter",selectedType:l.selectedType||"Lowpass",cutoff:l.cutoff||"5000 Hz",resonance:l.resonance||"30%"}};return{text:typeof e.text=="string"?e.text:"No instructions provided",synthConfig:{...t,oscillators:r(),filters:[o()]},adsrVCF:n(e.adsrVCF,{attack:.1,decay:.5,sustain:.7,release:1.2}),adsrVCA:n(e.adsrVCA,{attack:.05,decay:.3,sustain:.9,release:.8}),summary:typeof e.summary=="string"?e.summary:"No creative tips provided"}},JP=async e=>{if(!e.description||!e.synth||!e.genre||!e.voiceType)throw new Error("Missing required fields: description, synth, genre, and voiceType are required");try{const t=KP(e.synth),n=XP(e,t),r=await Mk(n);if(!r)throw new Error("No response received from AI");const o=WP(r);return QP(o,t)}catch(t){throw console.error("PatchGuide Generation Error:",t),t instanceof Error?t.message.includes("API key")?new Error("Invalid API key configuration. Please check your environment variables."):t.message.includes("quota")||t.message.includes("rate limit")?new Error("API quota exceeded. Please try again later."):t:new Error("Unknown error occurred while generating patch guide")}},ZP=JP,TT=ne.createContext({});function e3(e){const t=ne.useRef(null);return t.current===null&&(t.current=e()),t.current}const Qm=typeof window<"u",t3=Qm?ne.useLayoutEffect:ne.useEffect,Jm=ne.createContext(null);function Zm(e,t){e.indexOf(t)===-1&&e.push(t)}function eh(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}const Ti=(e,t,n)=>n>t?t:n<e?e:n;let th=()=>{};const Si={},ST=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e);function CT(e){return typeof e=="object"&&e!==null}const MT=e=>/^0[^.\s]+$/u.test(e);function nh(e){let t;return()=>(t===void 0&&(t=e()),t)}const Ln=e=>e,n3=(e,t)=>n=>t(e(n)),_s=(...e)=>e.reduce(n3),Ts=(e,t,n)=>{const r=t-e;return r===0?1:(n-e)/r};class ih{constructor(){this.subscriptions=[]}add(t){return Zm(this.subscriptions,t),()=>eh(this.subscriptions,t)}notify(t,n,r){const o=this.subscriptions.length;if(o)if(o===1)this.subscriptions[0](t,n,r);else for(let l=0;l<o;l++){const u=this.subscriptions[l];u&&u(t,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Zn=e=>e*1e3,ei=e=>e/1e3;function wT(e,t){return t?e*(1e3/t):0}const AT=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,i3=1e-7,r3=12;function a3(e,t,n,r,o){let l,u,f=0;do u=t+(n-t)/2,l=AT(u,r,o)-e,l>0?n=u:t=u;while(Math.abs(l)>i3&&++f<r3);return u}function Ls(e,t,n,r){if(e===t&&n===r)return Ln;const o=l=>a3(l,0,1,e,n);return l=>l===0||l===1?l:AT(o(l),t,r)}const ET=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,DT=e=>t=>1-e(1-t),kT=Ls(.33,1.53,.69,.99),rh=DT(kT),IT=ET(rh),NT=e=>(e*=2)<1?.5*rh(e):.5*(2-Math.pow(2,-10*(e-1))),ah=e=>1-Math.sin(Math.acos(e)),RT=DT(ah),_T=ET(ah),o3=Ls(.42,0,1,1),s3=Ls(0,0,.58,1),LT=Ls(.42,0,.58,1),l3=e=>Array.isArray(e)&&typeof e[0]!="number",VT=e=>Array.isArray(e)&&typeof e[0]=="number",u3={linear:Ln,easeIn:o3,easeInOut:LT,easeOut:s3,circIn:ah,circInOut:_T,circOut:RT,backIn:rh,backInOut:IT,backOut:kT,anticipate:NT},c3=e=>typeof e=="string",wv=e=>{if(VT(e)){th(e.length===4);const[t,n,r,o]=e;return Ls(t,n,r,o)}else if(c3(e))return u3[e];return e},ou=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"],Av={value:null};function f3(e,t){let n=new Set,r=new Set,o=!1,l=!1;const u=new WeakSet;let f={delta:0,timestamp:0,isProcessing:!1},m=0;function d(y){u.has(y)&&(h.schedule(y),e()),m++,y(f)}const h={schedule:(y,T=!1,S=!1)=>{const A=S&&o?n:r;return T&&u.add(y),A.has(y)||A.add(y),y},cancel:y=>{r.delete(y),u.delete(y)},process:y=>{if(f=y,o){l=!0;return}o=!0,[n,r]=[r,n],n.forEach(d),t&&Av.value&&Av.value.frameloop[t].push(m),m=0,n.clear(),o=!1,l&&(l=!1,h.process(y))}};return h}const d3=40;function PT(e,t){let n=!1,r=!0;const o={delta:0,timestamp:0,isProcessing:!1},l=()=>n=!0,u=ou.reduce((I,B)=>(I[B]=f3(l,t?B:void 0),I),{}),{setup:f,read:m,resolveKeyframes:d,preUpdate:h,update:y,preRender:T,render:S,postRender:w}=u,A=()=>{const I=Si.useManualTiming?o.timestamp:performance.now();n=!1,Si.useManualTiming||(o.delta=r?1e3/60:Math.max(Math.min(I-o.timestamp,d3),1)),o.timestamp=I,o.isProcessing=!0,f.process(o),m.process(o),d.process(o),h.process(o),y.process(o),T.process(o),S.process(o),w.process(o),o.isProcessing=!1,n&&t&&(r=!1,e(A))},_=()=>{n=!0,r=!0,o.isProcessing||e(A)};return{schedule:ou.reduce((I,B)=>{const U=u[B];return I[B]=(z,ie=!1,se=!1)=>(n||_(),U.schedule(z,ie,se)),I},{}),cancel:I=>{for(let B=0;B<ou.length;B++)u[ou[B]].cancel(I)},state:o,steps:u}}const{schedule:mt,cancel:er,state:Bt,steps:kd}=PT(typeof requestAnimationFrame<"u"?requestAnimationFrame:Ln,!0);let pu;function m3(){pu=void 0}const sn={now:()=>(pu===void 0&&sn.set(Bt.isProcessing||Si.useManualTiming?Bt.timestamp:performance.now()),pu),set:e=>{pu=e,queueMicrotask(m3)}},BT=e=>t=>typeof t=="string"&&t.startsWith(e),oh=BT("--"),h3=BT("var(--"),sh=e=>h3(e)?p3.test(e.split("/*")[0].trim()):!1,p3=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Ka={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},Ss={...Ka,transform:e=>Ti(0,1,e)},su={...Ka,default:1},ds=e=>Math.round(e*1e5)/1e5,lh=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function g3(e){return e==null}const y3=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,uh=(e,t)=>n=>!!(typeof n=="string"&&y3.test(n)&&n.startsWith(e)||t&&!g3(n)&&Object.prototype.hasOwnProperty.call(n,t)),FT=(e,t,n)=>r=>{if(typeof r!="string")return r;const[o,l,u,f]=r.match(lh);return{[e]:parseFloat(o),[t]:parseFloat(l),[n]:parseFloat(u),alpha:f!==void 0?parseFloat(f):1}},x3=e=>Ti(0,255,e),Id={...Ka,transform:e=>Math.round(x3(e))},Br={test:uh("rgb","red"),parse:FT("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:r=1})=>"rgba("+Id.transform(e)+", "+Id.transform(t)+", "+Id.transform(n)+", "+ds(Ss.transform(r))+")"};function v3(e){let t="",n="",r="",o="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),r=e.substring(5,7),o=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),r=e.substring(3,4),o=e.substring(4,5),t+=t,n+=n,r+=r,o+=o),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:o?parseInt(o,16)/255:1}}const cm={test:uh("#"),parse:v3,transform:Br.transform},Vs=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),Qi=Vs("deg"),ti=Vs("%"),ke=Vs("px"),b3=Vs("vh"),T3=Vs("vw"),Ev={...ti,parse:e=>ti.parse(e)/100,transform:e=>ti.transform(e*100)},Pa={test:uh("hsl","hue"),parse:FT("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:r=1})=>"hsla("+Math.round(e)+", "+ti.transform(ds(t))+", "+ti.transform(ds(n))+", "+ds(Ss.transform(r))+")"},Et={test:e=>Br.test(e)||cm.test(e)||Pa.test(e),parse:e=>Br.test(e)?Br.parse(e):Pa.test(e)?Pa.parse(e):cm.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?Br.transform(e):Pa.transform(e),getAnimatableNone:e=>{const t=Et.parse(e);return t.alpha=0,Et.transform(t)}},S3=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function C3(e){var t,n;return isNaN(e)&&typeof e=="string"&&(((t=e.match(lh))==null?void 0:t.length)||0)+(((n=e.match(S3))==null?void 0:n.length)||0)>0}const OT="number",jT="color",M3="var",w3="var(",Dv="${}",A3=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Cs(e){const t=e.toString(),n=[],r={color:[],number:[],var:[]},o=[];let l=0;const f=t.replace(A3,m=>(Et.test(m)?(r.color.push(l),o.push(jT),n.push(Et.parse(m))):m.startsWith(w3)?(r.var.push(l),o.push(M3),n.push(m)):(r.number.push(l),o.push(OT),n.push(parseFloat(m))),++l,Dv)).split(Dv);return{values:n,split:f,indexes:r,types:o}}function zT(e){return Cs(e).values}function HT(e){const{split:t,types:n}=Cs(e),r=t.length;return o=>{let l="";for(let u=0;u<r;u++)if(l+=t[u],o[u]!==void 0){const f=n[u];f===OT?l+=ds(o[u]):f===jT?l+=Et.transform(o[u]):l+=o[u]}return l}}const E3=e=>typeof e=="number"?0:Et.test(e)?Et.getAnimatableNone(e):e;function D3(e){const t=zT(e);return HT(e)(t.map(E3))}const tr={test:C3,parse:zT,createTransformer:HT,getAnimatableNone:D3};function Nd(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function k3({hue:e,saturation:t,lightness:n,alpha:r}){e/=360,t/=100,n/=100;let o=0,l=0,u=0;if(!t)o=l=u=n;else{const f=n<.5?n*(1+t):n+t-n*t,m=2*n-f;o=Nd(m,f,e+1/3),l=Nd(m,f,e),u=Nd(m,f,e-1/3)}return{red:Math.round(o*255),green:Math.round(l*255),blue:Math.round(u*255),alpha:r}}function Du(e,t){return n=>n>0?t:e}const dt=(e,t,n)=>e+(t-e)*n,Rd=(e,t,n)=>{const r=e*e,o=n*(t*t-r)+r;return o<0?0:Math.sqrt(o)},I3=[cm,Br,Pa],N3=e=>I3.find(t=>t.test(e));function kv(e){const t=N3(e);if(!t)return!1;let n=t.parse(e);return t===Pa&&(n=k3(n)),n}const Iv=(e,t)=>{const n=kv(e),r=kv(t);if(!n||!r)return Du(e,t);const o={...n};return l=>(o.red=Rd(n.red,r.red,l),o.green=Rd(n.green,r.green,l),o.blue=Rd(n.blue,r.blue,l),o.alpha=dt(n.alpha,r.alpha,l),Br.transform(o))},fm=new Set(["none","hidden"]);function R3(e,t){return fm.has(e)?n=>n<=0?e:t:n=>n>=1?t:e}function _3(e,t){return n=>dt(e,t,n)}function ch(e){return typeof e=="number"?_3:typeof e=="string"?sh(e)?Du:Et.test(e)?Iv:P3:Array.isArray(e)?UT:typeof e=="object"?Et.test(e)?Iv:L3:Du}function UT(e,t){const n=[...e],r=n.length,o=e.map((l,u)=>ch(l)(l,t[u]));return l=>{for(let u=0;u<r;u++)n[u]=o[u](l);return n}}function L3(e,t){const n={...e,...t},r={};for(const o in n)e[o]!==void 0&&t[o]!==void 0&&(r[o]=ch(e[o])(e[o],t[o]));return o=>{for(const l in r)n[l]=r[l](o);return n}}function V3(e,t){const n=[],r={color:0,var:0,number:0};for(let o=0;o<t.values.length;o++){const l=t.types[o],u=e.indexes[l][r[l]],f=e.values[u]??0;n[o]=f,r[l]++}return n}const P3=(e,t)=>{const n=tr.createTransformer(t),r=Cs(e),o=Cs(t);return r.indexes.var.length===o.indexes.var.length&&r.indexes.color.length===o.indexes.color.length&&r.indexes.number.length>=o.indexes.number.length?fm.has(e)&&!o.values.length||fm.has(t)&&!r.values.length?R3(e,t):_s(UT(V3(r,o),o.values),n):Du(e,t)};function GT(e,t,n){return typeof e=="number"&&typeof t=="number"&&typeof n=="number"?dt(e,t,n):ch(e)(e,t)}const B3=e=>{const t=({timestamp:n})=>e(n);return{start:(n=!0)=>mt.update(t,n),stop:()=>er(t),now:()=>Bt.isProcessing?Bt.timestamp:sn.now()}},qT=(e,t,n=10)=>{let r="";const o=Math.max(Math.round(t/n),2);for(let l=0;l<o;l++)r+=Math.round(e(l/(o-1))*1e4)/1e4+", ";return`linear(${r.substring(0,r.length-2)})`},ku=2e4;function fh(e){let t=0;const n=50;let r=e.next(t);for(;!r.done&&t<ku;)t+=n,r=e.next(t);return t>=ku?1/0:t}function F3(e,t=100,n){const r=n({...e,keyframes:[0,t]}),o=Math.min(fh(r),ku);return{type:"keyframes",ease:l=>r.next(o*l).value/t,duration:ei(o)}}const O3=5;function $T(e,t,n){const r=Math.max(t-O3,0);return wT(n-e(r),t-r)}const gt={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},_d=.001;function j3({duration:e=gt.duration,bounce:t=gt.bounce,velocity:n=gt.velocity,mass:r=gt.mass}){let o,l,u=1-t;u=Ti(gt.minDamping,gt.maxDamping,u),e=Ti(gt.minDuration,gt.maxDuration,ei(e)),u<1?(o=d=>{const h=d*u,y=h*e,T=h-n,S=dm(d,u),w=Math.exp(-y);return _d-T/S*w},l=d=>{const y=d*u*e,T=y*n+n,S=Math.pow(u,2)*Math.pow(d,2)*e,w=Math.exp(-y),A=dm(Math.pow(d,2),u);return(-o(d)+_d>0?-1:1)*((T-S)*w)/A}):(o=d=>{const h=Math.exp(-d*e),y=(d-n)*e+1;return-_d+h*y},l=d=>{const h=Math.exp(-d*e),y=(n-d)*(e*e);return h*y});const f=5/e,m=H3(o,l,f);if(e=Zn(e),isNaN(m))return{stiffness:gt.stiffness,damping:gt.damping,duration:e};{const d=Math.pow(m,2)*r;return{stiffness:d,damping:u*2*Math.sqrt(r*d),duration:e}}}const z3=12;function H3(e,t,n){let r=n;for(let o=1;o<z3;o++)r=r-e(r)/t(r);return r}function dm(e,t){return e*Math.sqrt(1-t*t)}const U3=["duration","bounce"],G3=["stiffness","damping","mass"];function Nv(e,t){return t.some(n=>e[n]!==void 0)}function q3(e){let t={velocity:gt.velocity,stiffness:gt.stiffness,damping:gt.damping,mass:gt.mass,isResolvedFromDuration:!1,...e};if(!Nv(e,G3)&&Nv(e,U3))if(e.visualDuration){const n=e.visualDuration,r=2*Math.PI/(n*1.2),o=r*r,l=2*Ti(.05,1,1-(e.bounce||0))*Math.sqrt(o);t={...t,mass:gt.mass,stiffness:o,damping:l}}else{const n=j3(e);t={...t,...n,mass:gt.mass},t.isResolvedFromDuration=!0}return t}function Iu(e=gt.visualDuration,t=gt.bounce){const n=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:r,restDelta:o}=n;const l=n.keyframes[0],u=n.keyframes[n.keyframes.length-1],f={done:!1,value:l},{stiffness:m,damping:d,mass:h,duration:y,velocity:T,isResolvedFromDuration:S}=q3({...n,velocity:-ei(n.velocity||0)}),w=T||0,A=d/(2*Math.sqrt(m*h)),_=u-l,k=ei(Math.sqrt(m/h)),V=Math.abs(_)<5;r||(r=V?gt.restSpeed.granular:gt.restSpeed.default),o||(o=V?gt.restDelta.granular:gt.restDelta.default);let I;if(A<1){const U=dm(k,A);I=z=>{const ie=Math.exp(-A*k*z);return u-ie*((w+A*k*_)/U*Math.sin(U*z)+_*Math.cos(U*z))}}else if(A===1)I=U=>u-Math.exp(-k*U)*(_+(w+k*_)*U);else{const U=k*Math.sqrt(A*A-1);I=z=>{const ie=Math.exp(-A*k*z),se=Math.min(U*z,300);return u-ie*((w+A*k*_)*Math.sinh(se)+U*_*Math.cosh(se))/U}}const B={calculatedDuration:S&&y||null,next:U=>{const z=I(U);if(S)f.done=U>=y;else{let ie=U===0?w:0;A<1&&(ie=U===0?Zn(w):$T(I,U,z));const se=Math.abs(ie)<=r,ge=Math.abs(u-z)<=o;f.done=se&&ge}return f.value=f.done?u:z,f},toString:()=>{const U=Math.min(fh(B),ku),z=qT(ie=>B.next(U*ie).value,U,30);return U+"ms "+z},toTransition:()=>{}};return B}Iu.applyToOptions=e=>{const t=F3(e,100,Iu);return e.ease=t.ease,e.duration=Zn(t.duration),e.type="keyframes",e};function mm({keyframes:e,velocity:t=0,power:n=.8,timeConstant:r=325,bounceDamping:o=10,bounceStiffness:l=500,modifyTarget:u,min:f,max:m,restDelta:d=.5,restSpeed:h}){const y=e[0],T={done:!1,value:y},S=se=>f!==void 0&&se<f||m!==void 0&&se>m,w=se=>f===void 0?m:m===void 0||Math.abs(f-se)<Math.abs(m-se)?f:m;let A=n*t;const _=y+A,k=u===void 0?_:u(_);k!==_&&(A=k-y);const V=se=>-A*Math.exp(-se/r),I=se=>k+V(se),B=se=>{const ge=V(se),H=I(se);T.done=Math.abs(ge)<=d,T.value=T.done?k:H};let U,z;const ie=se=>{S(T.value)&&(U=se,z=Iu({keyframes:[T.value,w(T.value)],velocity:$T(I,se,T.value),damping:o,stiffness:l,restDelta:d,restSpeed:h}))};return ie(0),{calculatedDuration:null,next:se=>{let ge=!1;return!z&&U===void 0&&(ge=!0,B(se),ie(se)),U!==void 0&&se>=U?z.next(se-U):(!ge&&B(se),T)}}}function $3(e,t,n){const r=[],o=n||Si.mix||GT,l=e.length-1;for(let u=0;u<l;u++){let f=o(e[u],e[u+1]);if(t){const m=Array.isArray(t)?t[u]||Ln:t;f=_s(m,f)}r.push(f)}return r}function Y3(e,t,{clamp:n=!0,ease:r,mixer:o}={}){const l=e.length;if(th(l===t.length),l===1)return()=>t[0];if(l===2&&t[0]===t[1])return()=>t[1];const u=e[0]===e[1];e[0]>e[l-1]&&(e=[...e].reverse(),t=[...t].reverse());const f=$3(t,r,o),m=f.length,d=h=>{if(u&&h<e[0])return t[0];let y=0;if(m>1)for(;y<e.length-2&&!(h<e[y+1]);y++);const T=Ts(e[y],e[y+1],h);return f[y](T)};return n?h=>d(Ti(e[0],e[l-1],h)):d}function K3(e,t){const n=e[e.length-1];for(let r=1;r<=t;r++){const o=Ts(0,t,r);e.push(dt(n,1,o))}}function X3(e){const t=[0];return K3(t,e.length-1),t}function W3(e,t){return e.map(n=>n*t)}function Q3(e,t){return e.map(()=>t||LT).splice(0,e.length-1)}function ms({duration:e=300,keyframes:t,times:n,ease:r="easeInOut"}){const o=l3(r)?r.map(wv):wv(r),l={done:!1,value:t[0]},u=W3(n&&n.length===t.length?n:X3(t),e),f=Y3(u,t,{ease:Array.isArray(o)?o:Q3(t,o)});return{calculatedDuration:e,next:m=>(l.value=f(m),l.done=m>=e,l)}}const J3=e=>e!==null;function dh(e,{repeat:t,repeatType:n="loop"},r,o=1){const l=e.filter(J3),f=o<0||t&&n!=="loop"&&t%2===1?0:l.length-1;return!f||r===void 0?l[f]:r}const Z3={decay:mm,inertia:mm,tween:ms,keyframes:ms,spring:Iu};function YT(e){typeof e.type=="string"&&(e.type=Z3[e.type])}class mh{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,n){return this.finished.then(t,n)}}const e5=e=>e/100;class hh extends mh{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var r,o;const{motionValue:n}=this.options;n&&n.updatedAt!==sn.now()&&this.tick(sn.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(o=(r=this.options).onStop)==null||o.call(r))},this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){const{options:t}=this;YT(t);const{type:n=ms,repeat:r=0,repeatDelay:o=0,repeatType:l,velocity:u=0}=t;let{keyframes:f}=t;const m=n||ms;m!==ms&&typeof f[0]!="number"&&(this.mixKeyframes=_s(e5,GT(f[0],f[1])),f=[0,100]);const d=m({...t,keyframes:f});l==="mirror"&&(this.mirroredGenerator=m({...t,keyframes:[...f].reverse(),velocity:-u})),d.calculatedDuration===null&&(d.calculatedDuration=fh(d));const{calculatedDuration:h}=d;this.calculatedDuration=h,this.resolvedDuration=h+o,this.totalDuration=this.resolvedDuration*(r+1)-o,this.generator=d}updateTime(t){const n=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(t,n=!1){const{generator:r,totalDuration:o,mixKeyframes:l,mirroredGenerator:u,resolvedDuration:f,calculatedDuration:m}=this;if(this.startTime===null)return r.next(0);const{delay:d=0,keyframes:h,repeat:y,repeatType:T,repeatDelay:S,type:w,onUpdate:A,finalKeyframe:_}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-o/this.speed,this.startTime)),n?this.currentTime=t:this.updateTime(t);const k=this.currentTime-d*(this.playbackSpeed>=0?1:-1),V=this.playbackSpeed>=0?k<0:k>o;this.currentTime=Math.max(k,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=o);let I=this.currentTime,B=r;if(y){const se=Math.min(this.currentTime,o)/f;let ge=Math.floor(se),H=se%1;!H&&se>=1&&(H=1),H===1&&ge--,ge=Math.min(ge,y+1),!!(ge%2)&&(T==="reverse"?(H=1-H,S&&(H-=S/f)):T==="mirror"&&(B=u)),I=Ti(0,1,H)*f}const U=V?{done:!1,value:h[0]}:B.next(I);l&&(U.value=l(U.value));let{done:z}=U;!V&&m!==null&&(z=this.playbackSpeed>=0?this.currentTime>=o:this.currentTime<=0);const ie=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&z);return ie&&w!==mm&&(U.value=dh(h,this.options,_,this.speed)),A&&A(U.value),ie&&this.finish(),U}then(t,n){return this.finished.then(t,n)}get duration(){return ei(this.calculatedDuration)}get time(){return ei(this.currentTime)}set time(t){var n;t=Zn(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed),(n=this.driver)==null||n.start(!1)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(sn.now());const n=this.playbackSpeed!==t;this.playbackSpeed=t,n&&(this.time=ei(this.currentTime))}play(){var o,l;if(this.isStopped)return;const{driver:t=B3,startTime:n}=this.options;this.driver||(this.driver=t(u=>this.tick(u))),(l=(o=this.options).onPlay)==null||l.call(o);const r=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=r):this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime||(this.startTime=n??r),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(sn.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var t,n;this.notifyFinished(),this.teardown(),this.state="finished",(n=(t=this.options).onComplete)==null||n.call(t)}cancel(){var t,n;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(n=(t=this.options).onCancel)==null||n.call(t)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){var n;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(n=this.driver)==null||n.stop(),t.observe(this)}}function t5(e){for(let t=1;t<e.length;t++)e[t]??(e[t]=e[t-1])}const Fr=e=>e*180/Math.PI,hm=e=>{const t=Fr(Math.atan2(e[1],e[0]));return pm(t)},n5={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:hm,rotateZ:hm,skewX:e=>Fr(Math.atan(e[1])),skewY:e=>Fr(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},pm=e=>(e=e%360,e<0&&(e+=360),e),Rv=hm,_v=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),Lv=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),i5={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:_v,scaleY:Lv,scale:e=>(_v(e)+Lv(e))/2,rotateX:e=>pm(Fr(Math.atan2(e[6],e[5]))),rotateY:e=>pm(Fr(Math.atan2(-e[2],e[0]))),rotateZ:Rv,rotate:Rv,skewX:e=>Fr(Math.atan(e[4])),skewY:e=>Fr(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function gm(e){return e.includes("scale")?1:0}function ym(e,t){if(!e||e==="none")return gm(t);const n=e.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,o;if(n)r=i5,o=n;else{const f=e.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=n5,o=f}if(!o)return gm(t);const l=r[t],u=o[1].split(",").map(a5);return typeof l=="function"?l(u):u[l]}const r5=(e,t)=>{const{transform:n="none"}=getComputedStyle(e);return ym(n,t)};function a5(e){return parseFloat(e.trim())}const Xa=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Wa=new Set(Xa),Vv=e=>e===Ka||e===ke,o5=new Set(["x","y","z"]),s5=Xa.filter(e=>!o5.has(e));function l5(e){const t=[];return s5.forEach(n=>{const r=e.getValue(n);r!==void 0&&(t.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),t}const Or={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:(e,{transform:t})=>ym(t,"x"),y:(e,{transform:t})=>ym(t,"y")};Or.translateX=Or.x;Or.translateY=Or.y;const jr=new Set;let xm=!1,vm=!1,bm=!1;function KT(){if(vm){const e=Array.from(jr).filter(r=>r.needsMeasurement),t=new Set(e.map(r=>r.element)),n=new Map;t.forEach(r=>{const o=l5(r);o.length&&(n.set(r,o),r.render())}),e.forEach(r=>r.measureInitialState()),t.forEach(r=>{r.render();const o=n.get(r);o&&o.forEach(([l,u])=>{var f;(f=r.getValue(l))==null||f.set(u)})}),e.forEach(r=>r.measureEndState()),e.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}vm=!1,xm=!1,jr.forEach(e=>e.complete(bm)),jr.clear()}function XT(){jr.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(vm=!0)})}function u5(){bm=!0,XT(),KT(),bm=!1}class ph{constructor(t,n,r,o,l,u=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...t],this.onComplete=n,this.name=r,this.motionValue=o,this.element=l,this.isAsync=u}scheduleResolve(){this.state="scheduled",this.isAsync?(jr.add(this),xm||(xm=!0,mt.read(XT),mt.resolveKeyframes(KT))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:n,element:r,motionValue:o}=this;if(t[0]===null){const l=o==null?void 0:o.get(),u=t[t.length-1];if(l!==void 0)t[0]=l;else if(r&&n){const f=r.readValue(n,u);f!=null&&(t[0]=f)}t[0]===void 0&&(t[0]=u),o&&l===void 0&&o.set(t[0])}t5(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),jr.delete(this)}cancel(){this.state==="scheduled"&&(jr.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const c5=e=>e.startsWith("--");function f5(e,t,n){c5(t)?e.style.setProperty(t,n):e.style[t]=n}const d5=nh(()=>window.ScrollTimeline!==void 0),m5={};function h5(e,t){const n=nh(e);return()=>m5[t]??n()}const WT=h5(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),ss=([e,t,n,r])=>`cubic-bezier(${e}, ${t}, ${n}, ${r})`,Pv={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:ss([0,.65,.55,1]),circOut:ss([.55,0,1,.45]),backIn:ss([.31,.01,.66,-.59]),backOut:ss([.33,1.53,.69,.99])};function QT(e,t){if(e)return typeof e=="function"?WT()?qT(e,t):"ease-out":VT(e)?ss(e):Array.isArray(e)?e.map(n=>QT(n,t)||Pv.easeOut):Pv[e]}function p5(e,t,n,{delay:r=0,duration:o=300,repeat:l=0,repeatType:u="loop",ease:f="easeOut",times:m}={},d=void 0){const h={[t]:n};m&&(h.offset=m);const y=QT(f,o);Array.isArray(y)&&(h.easing=y);const T={delay:r,duration:o,easing:Array.isArray(y)?"linear":y,fill:"both",iterations:l+1,direction:u==="reverse"?"alternate":"normal"};return d&&(T.pseudoElement=d),e.animate(h,T)}function JT(e){return typeof e=="function"&&"applyToOptions"in e}function g5({type:e,...t}){return JT(e)&&WT()?e.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}class y5 extends mh{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,!t)return;const{element:n,name:r,keyframes:o,pseudoElement:l,allowFlatten:u=!1,finalKeyframe:f,onComplete:m}=t;this.isPseudoElement=!!l,this.allowFlatten=u,this.options=t,th(typeof t.type!="string");const d=g5(t);this.animation=p5(n,r,o,d,l),d.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!l){const h=dh(o,this.options,f,this.speed);this.updateMotionValue?this.updateMotionValue(h):f5(n,r,h),this.animation.cancel()}m==null||m(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var t,n;(n=(t=this.animation).finish)==null||n.call(t)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var t,n;this.isPseudoElement||(n=(t=this.animation).commitStyles)==null||n.call(t)}get duration(){var n,r;const t=((r=(n=this.animation.effect)==null?void 0:n.getComputedTiming)==null?void 0:r.call(n).duration)||0;return ei(Number(t))}get time(){return ei(Number(this.animation.currentTime)||0)}set time(t){this.finishedTime=null,this.animation.currentTime=Zn(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(t){this.animation.startTime=t}attachTimeline({timeline:t,observe:n}){var r;return this.allowFlatten&&((r=this.animation.effect)==null||r.updateTiming({easing:"linear"})),this.animation.onfinish=null,t&&d5()?(this.animation.timeline=t,Ln):n(this)}}const ZT={anticipate:NT,backInOut:IT,circInOut:_T};function x5(e){return e in ZT}function v5(e){typeof e.ease=="string"&&x5(e.ease)&&(e.ease=ZT[e.ease])}const Bv=10;class b5 extends y5{constructor(t){v5(t),YT(t),super(t),t.startTime&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const{motionValue:n,onUpdate:r,onComplete:o,element:l,...u}=this.options;if(!n)return;if(t!==void 0){n.set(t);return}const f=new hh({...u,autoplay:!1}),m=Zn(this.finishedTime??this.time);n.setWithVelocity(f.sample(m-Bv).value,f.sample(m).value,Bv),f.stop()}}const Fv=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(tr.test(e)||e==="0")&&!e.startsWith("url("));function T5(e){const t=e[0];if(e.length===1)return!0;for(let n=0;n<e.length;n++)if(e[n]!==t)return!0}function S5(e,t,n,r){const o=e[0];if(o===null)return!1;if(t==="display"||t==="visibility")return!0;const l=e[e.length-1],u=Fv(o,t),f=Fv(l,t);return!u||!f?!1:T5(e)||(n==="spring"||JT(n))&&r}function eS(e){return CT(e)&&"offsetHeight"in e}const C5=new Set(["opacity","clipPath","filter","transform"]),M5=nh(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function w5(e){var d;const{motionValue:t,name:n,repeatDelay:r,repeatType:o,damping:l,type:u}=e;if(!eS((d=t==null?void 0:t.owner)==null?void 0:d.current))return!1;const{onUpdate:f,transformTemplate:m}=t.owner.getProps();return M5()&&n&&C5.has(n)&&(n!=="transform"||!m)&&!f&&!r&&o!=="mirror"&&l!==0&&u!=="inertia"}const A5=40;class E5 extends mh{constructor({autoplay:t=!0,delay:n=0,type:r="keyframes",repeat:o=0,repeatDelay:l=0,repeatType:u="loop",keyframes:f,name:m,motionValue:d,element:h,...y}){var w;super(),this.stop=()=>{var A,_;this._animation&&(this._animation.stop(),(A=this.stopTimeline)==null||A.call(this)),(_=this.keyframeResolver)==null||_.cancel()},this.createdAt=sn.now();const T={autoplay:t,delay:n,type:r,repeat:o,repeatDelay:l,repeatType:u,name:m,motionValue:d,element:h,...y},S=(h==null?void 0:h.KeyframeResolver)||ph;this.keyframeResolver=new S(f,(A,_,k)=>this.onKeyframesResolved(A,_,T,!k),m,d,h),(w=this.keyframeResolver)==null||w.scheduleResolve()}onKeyframesResolved(t,n,r,o){this.keyframeResolver=void 0;const{name:l,type:u,velocity:f,delay:m,isHandoff:d,onUpdate:h}=r;this.resolvedAt=sn.now(),S5(t,l,u,f)||((Si.instantAnimations||!m)&&(h==null||h(dh(t,r,n))),t[0]=t[t.length-1],r.duration=0,r.repeat=0);const T={startTime:o?this.resolvedAt?this.resolvedAt-this.createdAt>A5?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...r,keyframes:t},S=!d&&w5(T)?new b5({...T,element:T.motionValue.owner.current}):new hh(T);S.finished.then(()=>this.notifyFinished()).catch(Ln),this.pendingTimeline&&(this.stopTimeline=S.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=S}get finished(){return this._animation?this.animation.finished:this._finished}then(t,n){return this.finished.finally(t).then(()=>{})}get animation(){var t;return this._animation||((t=this.keyframeResolver)==null||t.resume(),u5()),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var t;this._animation&&this.animation.cancel(),(t=this.keyframeResolver)==null||t.cancel()}}const D5=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function k5(e){const t=D5.exec(e);if(!t)return[,];const[,n,r,o]=t;return[`--${n??r}`,o]}function tS(e,t,n=1){const[r,o]=k5(e);if(!r)return;const l=window.getComputedStyle(t).getPropertyValue(r);if(l){const u=l.trim();return ST(u)?parseFloat(u):u}return sh(o)?tS(o,t,n+1):o}function gh(e,t){return(e==null?void 0:e[t])??(e==null?void 0:e.default)??e}const nS=new Set(["width","height","top","left","right","bottom",...Xa]),I5={test:e=>e==="auto",parse:e=>e},iS=e=>t=>t.test(e),rS=[Ka,ke,ti,Qi,T3,b3,I5],Ov=e=>rS.find(iS(e));function N5(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||MT(e):!0}const R5=new Set(["brightness","contrast","saturate","opacity"]);function _5(e){const[t,n]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[r]=n.match(lh)||[];if(!r)return e;const o=n.replace(r,"");let l=R5.has(t)?1:0;return r!==n&&(l*=100),t+"("+l+o+")"}const L5=/\b([a-z-]*)\(.*?\)/gu,Tm={...tr,getAnimatableNone:e=>{const t=e.match(L5);return t?t.map(_5).join(" "):e}},jv={...Ka,transform:Math.round},V5={rotate:Qi,rotateX:Qi,rotateY:Qi,rotateZ:Qi,scale:su,scaleX:su,scaleY:su,scaleZ:su,skew:Qi,skewX:Qi,skewY:Qi,distance:ke,translateX:ke,translateY:ke,translateZ:ke,x:ke,y:ke,z:ke,perspective:ke,transformPerspective:ke,opacity:Ss,originX:Ev,originY:Ev,originZ:ke},yh={borderWidth:ke,borderTopWidth:ke,borderRightWidth:ke,borderBottomWidth:ke,borderLeftWidth:ke,borderRadius:ke,radius:ke,borderTopLeftRadius:ke,borderTopRightRadius:ke,borderBottomRightRadius:ke,borderBottomLeftRadius:ke,width:ke,maxWidth:ke,height:ke,maxHeight:ke,top:ke,right:ke,bottom:ke,left:ke,padding:ke,paddingTop:ke,paddingRight:ke,paddingBottom:ke,paddingLeft:ke,margin:ke,marginTop:ke,marginRight:ke,marginBottom:ke,marginLeft:ke,backgroundPositionX:ke,backgroundPositionY:ke,...V5,zIndex:jv,fillOpacity:Ss,strokeOpacity:Ss,numOctaves:jv},P5={...yh,color:Et,backgroundColor:Et,outlineColor:Et,fill:Et,stroke:Et,borderColor:Et,borderTopColor:Et,borderRightColor:Et,borderBottomColor:Et,borderLeftColor:Et,filter:Tm,WebkitFilter:Tm},aS=e=>P5[e];function oS(e,t){let n=aS(e);return n!==Tm&&(n=tr),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const B5=new Set(["auto","none","0"]);function F5(e,t,n){let r=0,o;for(;r<e.length&&!o;){const l=e[r];typeof l=="string"&&!B5.has(l)&&Cs(l).values.length&&(o=e[r]),r++}if(o&&n)for(const l of t)e[l]=oS(n,o)}class O5 extends ph{constructor(t,n,r,o,l){super(t,n,r,o,l,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let m=0;m<t.length;m++){let d=t[m];if(typeof d=="string"&&(d=d.trim(),sh(d))){const h=tS(d,n.current);h!==void 0&&(t[m]=h),m===t.length-1&&(this.finalKeyframe=d)}}if(this.resolveNoneKeyframes(),!nS.has(r)||t.length!==2)return;const[o,l]=t,u=Ov(o),f=Ov(l);if(u!==f)if(Vv(u)&&Vv(f))for(let m=0;m<t.length;m++){const d=t[m];typeof d=="string"&&(t[m]=parseFloat(d))}else Or[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:n}=this,r=[];for(let o=0;o<t.length;o++)(t[o]===null||N5(t[o]))&&r.push(o);r.length&&F5(t,r,n)}measureInitialState(){const{element:t,unresolvedKeyframes:n,name:r}=this;if(!t||!t.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Or[r](t.measureViewportBox(),window.getComputedStyle(t.current)),n[0]=this.measuredOrigin;const o=n[n.length-1];o!==void 0&&t.getValue(r,o).jump(o,!1)}measureEndState(){var f;const{element:t,name:n,unresolvedKeyframes:r}=this;if(!t||!t.current)return;const o=t.getValue(n);o&&o.jump(this.measuredOrigin,!1);const l=r.length-1,u=r[l];r[l]=Or[n](t.measureViewportBox(),window.getComputedStyle(t.current)),u!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=u),(f=this.removedTransforms)!=null&&f.length&&this.removedTransforms.forEach(([m,d])=>{t.getValue(m).set(d)}),this.resolveNoneKeyframes()}}function j5(e,t,n){if(e instanceof EventTarget)return[e];if(typeof e=="string"){let r=document;const o=(n==null?void 0:n[e])??r.querySelectorAll(e);return o?Array.from(o):[]}return Array.from(e)}const sS=(e,t)=>t&&typeof e=="number"?t.transform(e):e,zv=30,z5=e=>!isNaN(parseFloat(e));class H5{constructor(t,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=(r,o=!0)=>{var u,f;const l=sn.now();if(this.updatedAt!==l&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&((u=this.events.change)==null||u.notify(this.current),this.dependents))for(const m of this.dependents)m.dirty();o&&((f=this.events.renderRequest)==null||f.notify(this.current))},this.hasAnimated=!1,this.setCurrent(t),this.owner=n.owner}setCurrent(t){this.current=t,this.updatedAt=sn.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=z5(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,n){this.events[t]||(this.events[t]=new ih);const r=this.events[t].add(n);return t==="change"?()=>{r(),mt.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,n){this.passiveEffect=t,this.stopPassiveEffect=n}set(t,n=!0){!n||!this.passiveEffect?this.updateAndNotify(t,n):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-r}jump(t,n=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var t;(t=this.events.change)==null||t.notify(this.current)}addDependent(t){this.dependents||(this.dependents=new Set),this.dependents.add(t)}removeDependent(t){this.dependents&&this.dependents.delete(t)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=sn.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>zv)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,zv);return wT(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(t){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=t(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var t,n;(t=this.dependents)==null||t.clear(),(n=this.events.destroy)==null||n.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Ua(e,t){return new H5(e,t)}const{schedule:xh}=PT(queueMicrotask,!1),zn={x:!1,y:!1};function lS(){return zn.x||zn.y}function U5(e){return e==="x"||e==="y"?zn[e]?null:(zn[e]=!0,()=>{zn[e]=!1}):zn.x||zn.y?null:(zn.x=zn.y=!0,()=>{zn.x=zn.y=!1})}function uS(e,t){const n=j5(e),r=new AbortController,o={passive:!0,...t,signal:r.signal};return[n,o,()=>r.abort()]}function Hv(e){return!(e.pointerType==="touch"||lS())}function G5(e,t,n={}){const[r,o,l]=uS(e,n),u=f=>{if(!Hv(f))return;const{target:m}=f,d=t(m,f);if(typeof d!="function"||!m)return;const h=y=>{Hv(y)&&(d(y),m.removeEventListener("pointerleave",h))};m.addEventListener("pointerleave",h,o)};return r.forEach(f=>{f.addEventListener("pointerenter",u,o)}),l}const cS=(e,t)=>t?e===t?!0:cS(e,t.parentElement):!1,vh=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,q5=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function $5(e){return q5.has(e.tagName)||e.tabIndex!==-1}const gu=new WeakSet;function Uv(e){return t=>{t.key==="Enter"&&e(t)}}function Ld(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const Y5=(e,t)=>{const n=e.currentTarget;if(!n)return;const r=Uv(()=>{if(gu.has(n))return;Ld(n,"down");const o=Uv(()=>{Ld(n,"up")}),l=()=>Ld(n,"cancel");n.addEventListener("keyup",o,t),n.addEventListener("blur",l,t)});n.addEventListener("keydown",r,t),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),t)};function Gv(e){return vh(e)&&!lS()}function K5(e,t,n={}){const[r,o,l]=uS(e,n),u=f=>{const m=f.currentTarget;if(!Gv(f))return;gu.add(m);const d=t(m,f),h=(S,w)=>{window.removeEventListener("pointerup",y),window.removeEventListener("pointercancel",T),gu.has(m)&&gu.delete(m),Gv(S)&&typeof d=="function"&&d(S,{success:w})},y=S=>{h(S,m===window||m===document||n.useGlobalTarget||cS(m,S.target))},T=S=>{h(S,!1)};window.addEventListener("pointerup",y,o),window.addEventListener("pointercancel",T,o)};return r.forEach(f=>{(n.useGlobalTarget?window:f).addEventListener("pointerdown",u,o),eS(f)&&(f.addEventListener("focus",d=>Y5(d,o)),!$5(f)&&!f.hasAttribute("tabindex")&&(f.tabIndex=0))}),l}function fS(e){return CT(e)&&"ownerSVGElement"in e}function X5(e){return fS(e)&&e.tagName==="svg"}const Gt=e=>!!(e&&e.getVelocity),W5=[...rS,Et,tr],Q5=e=>W5.find(iS(e)),dS=ne.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});function J5(e=!0){const t=ne.useContext(Jm);if(t===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:o}=t,l=ne.useId();ne.useEffect(()=>{if(e)return o(l)},[e]);const u=ne.useCallback(()=>e&&r&&r(l),[l,r,e]);return!n&&r?[!1,u]:[!0]}const mS=ne.createContext({strict:!1}),qv={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Ga={};for(const e in qv)Ga[e]={isEnabled:t=>qv[e].some(n=>!!t[n])};function Z5(e){for(const t in e)Ga[t]={...Ga[t],...e[t]}}const e4=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Nu(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||e4.has(e)}let hS=e=>!Nu(e);function t4(e){typeof e=="function"&&(hS=t=>t.startsWith("on")?!Nu(t):e(t))}try{t4(require("@emotion/is-prop-valid").default)}catch{}function n4(e,t,n){const r={};for(const o in e)o==="values"&&typeof e.values=="object"||(hS(o)||n===!0&&Nu(o)||!t&&!Nu(o)||e.draggable&&o.startsWith("onDrag"))&&(r[o]=e[o]);return r}function i4(e){if(typeof Proxy>"u")return e;const t=new Map,n=(...r)=>e(...r);return new Proxy(n,{get:(r,o)=>o==="create"?e:(t.has(o)||t.set(o,e(o)),t.get(o))})}const Hu=ne.createContext({});function Uu(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}function Ms(e){return typeof e=="string"||Array.isArray(e)}const bh=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Th=["initial",...bh];function Gu(e){return Uu(e.animate)||Th.some(t=>Ms(e[t]))}function pS(e){return!!(Gu(e)||e.variants)}function r4(e,t){if(Gu(e)){const{initial:n,animate:r}=e;return{initial:n===!1||Ms(n)?n:void 0,animate:Ms(r)?r:void 0}}return e.inherit!==!1?t:{}}function a4(e){const{initial:t,animate:n}=r4(e,ne.useContext(Hu));return ne.useMemo(()=>({initial:t,animate:n}),[$v(t),$v(n)])}function $v(e){return Array.isArray(e)?e.join(" "):e}const o4=Symbol.for("motionComponentSymbol");function Ba(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function s4(e,t,n){return ne.useCallback(r=>{r&&e.onMount&&e.onMount(r),t&&(r?t.mount(r):t.unmount()),n&&(typeof n=="function"?n(r):Ba(n)&&(n.current=r))},[t])}const Sh=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),l4="framerAppearId",gS="data-"+Sh(l4),yS=ne.createContext({});function u4(e,t,n,r,o){var A,_;const{visualElement:l}=ne.useContext(Hu),u=ne.useContext(mS),f=ne.useContext(Jm),m=ne.useContext(dS).reducedMotion,d=ne.useRef(null);r=r||u.renderer,!d.current&&r&&(d.current=r(e,{visualState:t,parent:l,props:n,presenceContext:f,blockInitialAnimation:f?f.initial===!1:!1,reducedMotionConfig:m}));const h=d.current,y=ne.useContext(yS);h&&!h.projection&&o&&(h.type==="html"||h.type==="svg")&&c4(d.current,n,o,y);const T=ne.useRef(!1);ne.useInsertionEffect(()=>{h&&T.current&&h.update(n,f)});const S=n[gS],w=ne.useRef(!!S&&!((A=window.MotionHandoffIsComplete)!=null&&A.call(window,S))&&((_=window.MotionHasOptimisedAnimation)==null?void 0:_.call(window,S)));return t3(()=>{h&&(T.current=!0,window.MotionIsMounted=!0,h.updateFeatures(),xh.render(h.render),w.current&&h.animationState&&h.animationState.animateChanges())}),ne.useEffect(()=>{h&&(!w.current&&h.animationState&&h.animationState.animateChanges(),w.current&&(queueMicrotask(()=>{var k;(k=window.MotionHandoffMarkAsComplete)==null||k.call(window,S)}),w.current=!1))}),h}function c4(e,t,n,r){const{layoutId:o,layout:l,drag:u,dragConstraints:f,layoutScroll:m,layoutRoot:d,layoutCrossfade:h}=t;e.projection=new n(e.latestValues,t["data-framer-portal-id"]?void 0:xS(e.parent)),e.projection.setOptions({layoutId:o,layout:l,alwaysMeasureLayout:!!u||f&&Ba(f),visualElement:e,animationType:typeof l=="string"?l:"both",initialPromotionConfig:r,crossfade:h,layoutScroll:m,layoutRoot:d})}function xS(e){if(e)return e.options.allowProjection!==!1?e.projection:xS(e.parent)}function f4({preloadedFeatures:e,createVisualElement:t,useRender:n,useVisualState:r,Component:o}){e&&Z5(e);function l(f,m){let d;const h={...ne.useContext(dS),...f,layoutId:d4(f)},{isStatic:y}=h,T=a4(f),S=r(f,y);if(!y&&Qm){m4();const w=h4(h);d=w.MeasureLayout,T.visualElement=u4(o,S,h,t,w.ProjectionNode)}return g.jsxs(Hu.Provider,{value:T,children:[d&&T.visualElement?g.jsx(d,{visualElement:T.visualElement,...h}):null,n(o,f,s4(S,T.visualElement,m),S,y,T.visualElement)]})}l.displayName=`motion.${typeof o=="string"?o:`create(${o.displayName??o.name??""})`}`;const u=ne.forwardRef(l);return u[o4]=o,u}function d4({layoutId:e}){const t=ne.useContext(TT).id;return t&&e!==void 0?t+"-"+e:e}function m4(e,t){ne.useContext(mS).strict}function h4(e){const{drag:t,layout:n}=Ga;if(!t&&!n)return{};const r={...t,...n};return{MeasureLayout:t!=null&&t.isEnabled(e)||n!=null&&n.isEnabled(e)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}const ws={};function p4(e){for(const t in e)ws[t]=e[t],oh(t)&&(ws[t].isCSSVariable=!0)}function vS(e,{layout:t,layoutId:n}){return Wa.has(e)||e.startsWith("origin")||(t||n!==void 0)&&(!!ws[e]||e==="opacity")}const g4={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},y4=Xa.length;function x4(e,t,n){let r="",o=!0;for(let l=0;l<y4;l++){const u=Xa[l],f=e[u];if(f===void 0)continue;let m=!0;if(typeof f=="number"?m=f===(u.startsWith("scale")?1:0):m=parseFloat(f)===0,!m||n){const d=sS(f,yh[u]);if(!m){o=!1;const h=g4[u]||u;r+=`${h}(${d}) `}n&&(t[u]=d)}}return r=r.trim(),n?r=n(t,o?"":r):o&&(r="none"),r}function Ch(e,t,n){const{style:r,vars:o,transformOrigin:l}=e;let u=!1,f=!1;for(const m in t){const d=t[m];if(Wa.has(m)){u=!0;continue}else if(oh(m)){o[m]=d;continue}else{const h=sS(d,yh[m]);m.startsWith("origin")?(f=!0,l[m]=h):r[m]=h}}if(t.transform||(u||n?r.transform=x4(t,e.transform,n):r.transform&&(r.transform="none")),f){const{originX:m="50%",originY:d="50%",originZ:h=0}=l;r.transformOrigin=`${m} ${d} ${h}`}}const Mh=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function bS(e,t,n){for(const r in t)!Gt(t[r])&&!vS(r,n)&&(e[r]=t[r])}function v4({transformTemplate:e},t){return ne.useMemo(()=>{const n=Mh();return Ch(n,t,e),Object.assign({},n.vars,n.style)},[t])}function b4(e,t){const n=e.style||{},r={};return bS(r,n,e),Object.assign(r,v4(e,t)),r}function T4(e,t){const n={},r=b4(e,t);return e.drag&&e.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(n.tabIndex=0),n.style=r,n}const S4={offset:"stroke-dashoffset",array:"stroke-dasharray"},C4={offset:"strokeDashoffset",array:"strokeDasharray"};function M4(e,t,n=1,r=0,o=!0){e.pathLength=1;const l=o?S4:C4;e[l.offset]=ke.transform(-r);const u=ke.transform(t),f=ke.transform(n);e[l.array]=`${u} ${f}`}function TS(e,{attrX:t,attrY:n,attrScale:r,pathLength:o,pathSpacing:l=1,pathOffset:u=0,...f},m,d,h){if(Ch(e,f,d),m){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:y,style:T}=e;y.transform&&(T.transform=y.transform,delete y.transform),(T.transform||y.transformOrigin)&&(T.transformOrigin=y.transformOrigin??"50% 50%",delete y.transformOrigin),T.transform&&(T.transformBox=(h==null?void 0:h.transformBox)??"fill-box",delete y.transformBox),t!==void 0&&(y.x=t),n!==void 0&&(y.y=n),r!==void 0&&(y.scale=r),o!==void 0&&M4(y,o,l,u,!1)}const SS=()=>({...Mh(),attrs:{}}),CS=e=>typeof e=="string"&&e.toLowerCase()==="svg";function w4(e,t,n,r){const o=ne.useMemo(()=>{const l=SS();return TS(l,t,CS(r),e.transformTemplate,e.style),{...l.attrs,style:{...l.style}}},[t]);if(e.style){const l={};bS(l,e.style,e),o.style={...l,...o.style}}return o}const A4=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function wh(e){return typeof e!="string"||e.includes("-")?!1:!!(A4.indexOf(e)>-1||/[A-Z]/u.test(e))}function E4(e=!1){return(n,r,o,{latestValues:l},u)=>{const m=(wh(n)?w4:T4)(r,l,u,n),d=n4(r,typeof n=="string",e),h=n!==ne.Fragment?{...d,...m,ref:o}:{},{children:y}=r,T=ne.useMemo(()=>Gt(y)?y.get():y,[y]);return ne.createElement(n,{...h,children:T})}}function Yv(e){const t=[{},{}];return e==null||e.values.forEach((n,r)=>{t[0][r]=n.get(),t[1][r]=n.getVelocity()}),t}function Ah(e,t,n,r){if(typeof t=="function"){const[o,l]=Yv(r);t=t(n!==void 0?n:e.custom,o,l)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[o,l]=Yv(r);t=t(n!==void 0?n:e.custom,o,l)}return t}function yu(e){return Gt(e)?e.get():e}function D4({scrapeMotionValuesFromProps:e,createRenderState:t},n,r,o){return{latestValues:k4(n,r,o,e),renderState:t()}}const MS=e=>(t,n)=>{const r=ne.useContext(Hu),o=ne.useContext(Jm),l=()=>D4(e,t,r,o);return n?l():e3(l)};function k4(e,t,n,r){const o={},l=r(e,{});for(const T in l)o[T]=yu(l[T]);let{initial:u,animate:f}=e;const m=Gu(e),d=pS(e);t&&d&&!m&&e.inherit!==!1&&(u===void 0&&(u=t.initial),f===void 0&&(f=t.animate));let h=n?n.initial===!1:!1;h=h||u===!1;const y=h?f:u;if(y&&typeof y!="boolean"&&!Uu(y)){const T=Array.isArray(y)?y:[y];for(let S=0;S<T.length;S++){const w=Ah(e,T[S]);if(w){const{transitionEnd:A,transition:_,...k}=w;for(const V in k){let I=k[V];if(Array.isArray(I)){const B=h?I.length-1:0;I=I[B]}I!==null&&(o[V]=I)}for(const V in A)o[V]=A[V]}}}return o}function Eh(e,t,n){var l;const{style:r}=e,o={};for(const u in r)(Gt(r[u])||t.style&&Gt(t.style[u])||vS(u,e)||((l=n==null?void 0:n.getValue(u))==null?void 0:l.liveStyle)!==void 0)&&(o[u]=r[u]);return o}const I4={useVisualState:MS({scrapeMotionValuesFromProps:Eh,createRenderState:Mh})};function wS(e,t,n){const r=Eh(e,t,n);for(const o in e)if(Gt(e[o])||Gt(t[o])){const l=Xa.indexOf(o)!==-1?"attr"+o.charAt(0).toUpperCase()+o.substring(1):o;r[l]=e[o]}return r}const N4={useVisualState:MS({scrapeMotionValuesFromProps:wS,createRenderState:SS})};function R4(e,t){return function(r,{forwardMotionProps:o}={forwardMotionProps:!1}){const u={...wh(r)?N4:I4,preloadedFeatures:e,useRender:E4(o),createVisualElement:t,Component:r};return f4(u)}}function As(e,t,n){const r=e.getProps();return Ah(r,t,n!==void 0?n:r.custom,e)}const Sm=e=>Array.isArray(e);function _4(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,Ua(n))}function L4(e){return Sm(e)?e[e.length-1]||0:e}function V4(e,t){const n=As(e,t);let{transitionEnd:r={},transition:o={},...l}=n||{};l={...l,...r};for(const u in l){const f=L4(l[u]);_4(e,u,f)}}function P4(e){return!!(Gt(e)&&e.add)}function Cm(e,t){const n=e.getValue("willChange");if(P4(n))return n.add(t);if(!n&&Si.WillChange){const r=new Si.WillChange("auto");e.addValue("willChange",r),r.add(t)}}function AS(e){return e.props[gS]}const B4=e=>e!==null;function F4(e,{repeat:t,repeatType:n="loop"},r){const o=e.filter(B4),l=t&&n!=="loop"&&t%2===1?0:o.length-1;return o[l]}const O4={type:"spring",stiffness:500,damping:25,restSpeed:10},j4=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),z4={type:"keyframes",duration:.8},H4={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},U4=(e,{keyframes:t})=>t.length>2?z4:Wa.has(e)?e.startsWith("scale")?j4(t[1]):O4:H4;function G4({when:e,delay:t,delayChildren:n,staggerChildren:r,staggerDirection:o,repeat:l,repeatType:u,repeatDelay:f,from:m,elapsed:d,...h}){return!!Object.keys(h).length}const Dh=(e,t,n,r={},o,l)=>u=>{const f=gh(r,e)||{},m=f.delay||r.delay||0;let{elapsed:d=0}=r;d=d-Zn(m);const h={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:t.getVelocity(),...f,delay:-d,onUpdate:T=>{t.set(T),f.onUpdate&&f.onUpdate(T)},onComplete:()=>{u(),f.onComplete&&f.onComplete()},name:e,motionValue:t,element:l?void 0:o};G4(f)||Object.assign(h,U4(e,h)),h.duration&&(h.duration=Zn(h.duration)),h.repeatDelay&&(h.repeatDelay=Zn(h.repeatDelay)),h.from!==void 0&&(h.keyframes[0]=h.from);let y=!1;if((h.type===!1||h.duration===0&&!h.repeatDelay)&&(h.duration=0,h.delay===0&&(y=!0)),(Si.instantAnimations||Si.skipAnimations)&&(y=!0,h.duration=0,h.delay=0),h.allowFlatten=!f.type&&!f.ease,y&&!l&&t.get()!==void 0){const T=F4(h.keyframes,f);if(T!==void 0){mt.update(()=>{h.onUpdate(T),h.onComplete()});return}}return f.isSync?new hh(h):new E5(h)};function q4({protectedKeys:e,needsAnimating:t},n){const r=e.hasOwnProperty(n)&&t[n]!==!0;return t[n]=!1,r}function ES(e,t,{delay:n=0,transitionOverride:r,type:o}={}){let{transition:l=e.getDefaultTransition(),transitionEnd:u,...f}=t;r&&(l=r);const m=[],d=o&&e.animationState&&e.animationState.getState()[o];for(const h in f){const y=e.getValue(h,e.latestValues[h]??null),T=f[h];if(T===void 0||d&&q4(d,h))continue;const S={delay:n,...gh(l||{},h)},w=y.get();if(w!==void 0&&!y.isAnimating&&!Array.isArray(T)&&T===w&&!S.velocity)continue;let A=!1;if(window.MotionHandoffAnimation){const k=AS(e);if(k){const V=window.MotionHandoffAnimation(k,h,mt);V!==null&&(S.startTime=V,A=!0)}}Cm(e,h),y.start(Dh(h,y,T,e.shouldReduceMotion&&nS.has(h)?{type:!1}:S,e,A));const _=y.animation;_&&m.push(_)}return u&&Promise.all(m).then(()=>{mt.update(()=>{u&&V4(e,u)})}),m}function Mm(e,t,n={}){var m;const r=As(e,t,n.type==="exit"?(m=e.presenceContext)==null?void 0:m.custom:void 0);let{transition:o=e.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(o=n.transitionOverride);const l=r?()=>Promise.all(ES(e,r,n)):()=>Promise.resolve(),u=e.variantChildren&&e.variantChildren.size?(d=0)=>{const{delayChildren:h=0,staggerChildren:y,staggerDirection:T}=o;return $4(e,t,h+d,y,T,n)}:()=>Promise.resolve(),{when:f}=o;if(f){const[d,h]=f==="beforeChildren"?[l,u]:[u,l];return d().then(()=>h())}else return Promise.all([l(),u(n.delay)])}function $4(e,t,n=0,r=0,o=1,l){const u=[],f=(e.variantChildren.size-1)*r,m=o===1?(d=0)=>d*r:(d=0)=>f-d*r;return Array.from(e.variantChildren).sort(Y4).forEach((d,h)=>{d.notify("AnimationStart",t),u.push(Mm(d,t,{...l,delay:n+m(h)}).then(()=>d.notify("AnimationComplete",t)))}),Promise.all(u)}function Y4(e,t){return e.sortNodePosition(t)}function K4(e,t,n={}){e.notify("AnimationStart",t);let r;if(Array.isArray(t)){const o=t.map(l=>Mm(e,l,n));r=Promise.all(o)}else if(typeof t=="string")r=Mm(e,t,n);else{const o=typeof t=="function"?As(e,t,n.custom):t;r=Promise.all(ES(e,o,n))}return r.then(()=>{e.notify("AnimationComplete",t)})}function DS(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}const X4=Th.length;function kS(e){if(!e)return;if(!e.isControllingVariants){const n=e.parent?kS(e.parent)||{}:{};return e.props.initial!==void 0&&(n.initial=e.props.initial),n}const t={};for(let n=0;n<X4;n++){const r=Th[n],o=e.props[r];(Ms(o)||o===!1)&&(t[r]=o)}return t}const W4=[...bh].reverse(),Q4=bh.length;function J4(e){return t=>Promise.all(t.map(({animation:n,options:r})=>K4(e,n,r)))}function Z4(e){let t=J4(e),n=Kv(),r=!0;const o=m=>(d,h)=>{var T;const y=As(e,h,m==="exit"?(T=e.presenceContext)==null?void 0:T.custom:void 0);if(y){const{transition:S,transitionEnd:w,...A}=y;d={...d,...A,...w}}return d};function l(m){t=m(e)}function u(m){const{props:d}=e,h=kS(e.parent)||{},y=[],T=new Set;let S={},w=1/0;for(let _=0;_<Q4;_++){const k=W4[_],V=n[k],I=d[k]!==void 0?d[k]:h[k],B=Ms(I),U=k===m?V.isActive:null;U===!1&&(w=_);let z=I===h[k]&&I!==d[k]&&B;if(z&&r&&e.manuallyAnimateOnMount&&(z=!1),V.protectedKeys={...S},!V.isActive&&U===null||!I&&!V.prevProp||Uu(I)||typeof I=="boolean")continue;const ie=eB(V.prevProp,I);let se=ie||k===m&&V.isActive&&!z&&B||_>w&&B,ge=!1;const H=Array.isArray(I)?I:[I];let ue=H.reduce(o(k),{});U===!1&&(ue={});const{prevResolvedValues:fe={}}=V,he={...fe,...ue},le=F=>{se=!0,T.has(F)&&(ge=!0,T.delete(F)),V.needsAnimating[F]=!0;const N=e.getValue(F);N&&(N.liveStyle=!1)};for(const F in he){const N=ue[F],R=fe[F];if(S.hasOwnProperty(F))continue;let C=!1;Sm(N)&&Sm(R)?C=!DS(N,R):C=N!==R,C?N!=null?le(F):T.add(F):N!==void 0&&T.has(F)?le(F):V.protectedKeys[F]=!0}V.prevProp=I,V.prevResolvedValues=ue,V.isActive&&(S={...S,...ue}),r&&e.blockInitialAnimation&&(se=!1),se&&(!(z&&ie)||ge)&&y.push(...H.map(F=>({animation:F,options:{type:k}})))}if(T.size){const _={};if(typeof d.initial!="boolean"){const k=As(e,Array.isArray(d.initial)?d.initial[0]:d.initial);k&&k.transition&&(_.transition=k.transition)}T.forEach(k=>{const V=e.getBaseTarget(k),I=e.getValue(k);I&&(I.liveStyle=!0),_[k]=V??null}),y.push({animation:_})}let A=!!y.length;return r&&(d.initial===!1||d.initial===d.animate)&&!e.manuallyAnimateOnMount&&(A=!1),r=!1,A?t(y):Promise.resolve()}function f(m,d){var y;if(n[m].isActive===d)return Promise.resolve();(y=e.variantChildren)==null||y.forEach(T=>{var S;return(S=T.animationState)==null?void 0:S.setActive(m,d)}),n[m].isActive=d;const h=u(m);for(const T in n)n[T].protectedKeys={};return h}return{animateChanges:u,setActive:f,setAnimateFunction:l,getState:()=>n,reset:()=>{n=Kv(),r=!0}}}function eB(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!DS(t,e):!1}function _r(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function Kv(){return{animate:_r(!0),whileInView:_r(),whileHover:_r(),whileTap:_r(),whileDrag:_r(),whileFocus:_r(),exit:_r()}}class lr{constructor(t){this.isMounted=!1,this.node=t}update(){}}class tB extends lr{constructor(t){super(t),t.animationState||(t.animationState=Z4(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();Uu(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:n}=this.node.prevProps||{};t!==n&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),(t=this.unmountControls)==null||t.call(this)}}let nB=0;class iB extends lr{constructor(){super(...arguments),this.id=nB++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===r)return;const o=this.node.animationState.setActive("exit",!t);n&&!t&&o.then(()=>{n(this.id)})}mount(){const{register:t,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const rB={animation:{Feature:tB},exit:{Feature:iB}};function Es(e,t,n,r={passive:!0}){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n)}function Ps(e){return{point:{x:e.pageX,y:e.pageY}}}const aB=e=>t=>vh(t)&&e(t,Ps(t));function hs(e,t,n,r){return Es(e,t,aB(n),r)}function IS({top:e,left:t,right:n,bottom:r}){return{x:{min:t,max:n},y:{min:e,max:r}}}function oB({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function sB(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),r=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}const NS=1e-4,lB=1-NS,uB=1+NS,RS=.01,cB=0-RS,fB=0+RS;function Xt(e){return e.max-e.min}function dB(e,t,n){return Math.abs(e-t)<=n}function Xv(e,t,n,r=.5){e.origin=r,e.originPoint=dt(t.min,t.max,e.origin),e.scale=Xt(n)/Xt(t),e.translate=dt(n.min,n.max,e.origin)-e.originPoint,(e.scale>=lB&&e.scale<=uB||isNaN(e.scale))&&(e.scale=1),(e.translate>=cB&&e.translate<=fB||isNaN(e.translate))&&(e.translate=0)}function ps(e,t,n,r){Xv(e.x,t.x,n.x,r?r.originX:void 0),Xv(e.y,t.y,n.y,r?r.originY:void 0)}function Wv(e,t,n){e.min=n.min+t.min,e.max=e.min+Xt(t)}function mB(e,t,n){Wv(e.x,t.x,n.x),Wv(e.y,t.y,n.y)}function Qv(e,t,n){e.min=t.min-n.min,e.max=e.min+Xt(t)}function gs(e,t,n){Qv(e.x,t.x,n.x),Qv(e.y,t.y,n.y)}const Jv=()=>({translate:0,scale:1,origin:0,originPoint:0}),Fa=()=>({x:Jv(),y:Jv()}),Zv=()=>({min:0,max:0}),Tt=()=>({x:Zv(),y:Zv()});function Nn(e){return[e("x"),e("y")]}function Vd(e){return e===void 0||e===1}function wm({scale:e,scaleX:t,scaleY:n}){return!Vd(e)||!Vd(t)||!Vd(n)}function Vr(e){return wm(e)||_S(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function _S(e){return eb(e.x)||eb(e.y)}function eb(e){return e&&e!=="0%"}function Ru(e,t,n){const r=e-n,o=t*r;return n+o}function tb(e,t,n,r,o){return o!==void 0&&(e=Ru(e,o,r)),Ru(e,n,r)+t}function Am(e,t=0,n=1,r,o){e.min=tb(e.min,t,n,r,o),e.max=tb(e.max,t,n,r,o)}function LS(e,{x:t,y:n}){Am(e.x,t.translate,t.scale,t.originPoint),Am(e.y,n.translate,n.scale,n.originPoint)}const nb=.999999999999,ib=1.0000000000001;function hB(e,t,n,r=!1){const o=n.length;if(!o)return;t.x=t.y=1;let l,u;for(let f=0;f<o;f++){l=n[f],u=l.projectionDelta;const{visualElement:m}=l.options;m&&m.props.style&&m.props.style.display==="contents"||(r&&l.options.layoutScroll&&l.scroll&&l!==l.root&&ja(e,{x:-l.scroll.offset.x,y:-l.scroll.offset.y}),u&&(t.x*=u.x.scale,t.y*=u.y.scale,LS(e,u)),r&&Vr(l.latestValues)&&ja(e,l.latestValues))}t.x<ib&&t.x>nb&&(t.x=1),t.y<ib&&t.y>nb&&(t.y=1)}function Oa(e,t){e.min=e.min+t,e.max=e.max+t}function rb(e,t,n,r,o=.5){const l=dt(e.min,e.max,o);Am(e,t,n,l,r)}function ja(e,t){rb(e.x,t.x,t.scaleX,t.scale,t.originX),rb(e.y,t.y,t.scaleY,t.scale,t.originY)}function VS(e,t){return IS(sB(e.getBoundingClientRect(),t))}function pB(e,t,n){const r=VS(e,n),{scroll:o}=t;return o&&(Oa(r.x,o.offset.x),Oa(r.y,o.offset.y)),r}const PS=({current:e})=>e?e.ownerDocument.defaultView:null,ab=(e,t)=>Math.abs(e-t);function gB(e,t){const n=ab(e.x,t.x),r=ab(e.y,t.y);return Math.sqrt(n**2+r**2)}class BS{constructor(t,n,{transformPagePoint:r,contextWindow:o,dragSnapToOrigin:l=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const y=Bd(this.lastMoveEventInfo,this.history),T=this.startEvent!==null,S=gB(y.offset,{x:0,y:0})>=3;if(!T&&!S)return;const{point:w}=y,{timestamp:A}=Bt;this.history.push({...w,timestamp:A});const{onStart:_,onMove:k}=this.handlers;T||(_&&_(this.lastMoveEvent,y),this.startEvent=this.lastMoveEvent),k&&k(this.lastMoveEvent,y)},this.handlePointerMove=(y,T)=>{this.lastMoveEvent=y,this.lastMoveEventInfo=Pd(T,this.transformPagePoint),mt.update(this.updatePoint,!0)},this.handlePointerUp=(y,T)=>{this.end();const{onEnd:S,onSessionEnd:w,resumeAnimation:A}=this.handlers;if(this.dragSnapToOrigin&&A&&A(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const _=Bd(y.type==="pointercancel"?this.lastMoveEventInfo:Pd(T,this.transformPagePoint),this.history);this.startEvent&&S&&S(y,_),w&&w(y,_)},!vh(t))return;this.dragSnapToOrigin=l,this.handlers=n,this.transformPagePoint=r,this.contextWindow=o||window;const u=Ps(t),f=Pd(u,this.transformPagePoint),{point:m}=f,{timestamp:d}=Bt;this.history=[{...m,timestamp:d}];const{onSessionStart:h}=n;h&&h(t,Bd(f,this.history)),this.removeListeners=_s(hs(this.contextWindow,"pointermove",this.handlePointerMove),hs(this.contextWindow,"pointerup",this.handlePointerUp),hs(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),er(this.updatePoint)}}function Pd(e,t){return t?{point:t(e.point)}:e}function ob(e,t){return{x:e.x-t.x,y:e.y-t.y}}function Bd({point:e},t){return{point:e,delta:ob(e,FS(t)),offset:ob(e,yB(t)),velocity:xB(t,.1)}}function yB(e){return e[0]}function FS(e){return e[e.length-1]}function xB(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,r=null;const o=FS(e);for(;n>=0&&(r=e[n],!(o.timestamp-r.timestamp>Zn(t)));)n--;if(!r)return{x:0,y:0};const l=ei(o.timestamp-r.timestamp);if(l===0)return{x:0,y:0};const u={x:(o.x-r.x)/l,y:(o.y-r.y)/l};return u.x===1/0&&(u.x=0),u.y===1/0&&(u.y=0),u}function vB(e,{min:t,max:n},r){return t!==void 0&&e<t?e=r?dt(t,e,r.min):Math.max(e,t):n!==void 0&&e>n&&(e=r?dt(n,e,r.max):Math.min(e,n)),e}function sb(e,t,n){return{min:t!==void 0?e.min+t:void 0,max:n!==void 0?e.max+n-(e.max-e.min):void 0}}function bB(e,{top:t,left:n,bottom:r,right:o}){return{x:sb(e.x,n,o),y:sb(e.y,t,r)}}function lb(e,t){let n=t.min-e.min,r=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,r]=[r,n]),{min:n,max:r}}function TB(e,t){return{x:lb(e.x,t.x),y:lb(e.y,t.y)}}function SB(e,t){let n=.5;const r=Xt(e),o=Xt(t);return o>r?n=Ts(t.min,t.max-r,e.min):r>o&&(n=Ts(e.min,e.max-o,t.min)),Ti(0,1,n)}function CB(e,t){const n={};return t.min!==void 0&&(n.min=t.min-e.min),t.max!==void 0&&(n.max=t.max-e.min),n}const Em=.35;function MB(e=Em){return e===!1?e=0:e===!0&&(e=Em),{x:ub(e,"left","right"),y:ub(e,"top","bottom")}}function ub(e,t,n){return{min:cb(e,t),max:cb(e,n)}}function cb(e,t){return typeof e=="number"?e:e[t]||0}const wB=new WeakMap;class AB{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Tt(),this.visualElement=t}start(t,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const o=h=>{const{dragSnapToOrigin:y}=this.getProps();y?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Ps(h).point)},l=(h,y)=>{const{drag:T,dragPropagation:S,onDragStart:w}=this.getProps();if(T&&!S&&(this.openDragLock&&this.openDragLock(),this.openDragLock=U5(T),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Nn(_=>{let k=this.getAxisMotionValue(_).get()||0;if(ti.test(k)){const{projection:V}=this.visualElement;if(V&&V.layout){const I=V.layout.layoutBox[_];I&&(k=Xt(I)*(parseFloat(k)/100))}}this.originPoint[_]=k}),w&&mt.postRender(()=>w(h,y)),Cm(this.visualElement,"transform");const{animationState:A}=this.visualElement;A&&A.setActive("whileDrag",!0)},u=(h,y)=>{const{dragPropagation:T,dragDirectionLock:S,onDirectionLock:w,onDrag:A}=this.getProps();if(!T&&!this.openDragLock)return;const{offset:_}=y;if(S&&this.currentDirection===null){this.currentDirection=EB(_),this.currentDirection!==null&&w&&w(this.currentDirection);return}this.updateAxis("x",y.point,_),this.updateAxis("y",y.point,_),this.visualElement.render(),A&&A(h,y)},f=(h,y)=>this.stop(h,y),m=()=>Nn(h=>{var y;return this.getAnimationState(h)==="paused"&&((y=this.getAxisMotionValue(h).animation)==null?void 0:y.play())}),{dragSnapToOrigin:d}=this.getProps();this.panSession=new BS(t,{onSessionStart:o,onStart:l,onMove:u,onSessionEnd:f,resumeAnimation:m},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:d,contextWindow:PS(this.visualElement)})}stop(t,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:o}=n;this.startAnimation(o);const{onDragEnd:l}=this.getProps();l&&mt.postRender(()=>l(t,n))}cancel(){this.isDragging=!1;const{projection:t,animationState:n}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(t,n,r){const{drag:o}=this.getProps();if(!r||!lu(t,o,this.currentDirection))return;const l=this.getAxisMotionValue(t);let u=this.originPoint[t]+r[t];this.constraints&&this.constraints[t]&&(u=vB(u,this.constraints[t],this.elastic[t])),l.set(u)}resolveConstraints(){var l;const{dragConstraints:t,dragElastic:n}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(l=this.visualElement.projection)==null?void 0:l.layout,o=this.constraints;t&&Ba(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&r?this.constraints=bB(r.layoutBox,t):this.constraints=!1,this.elastic=MB(n),o!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&Nn(u=>{this.constraints!==!1&&this.getAxisMotionValue(u)&&(this.constraints[u]=CB(r.layoutBox[u],this.constraints[u]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:n}=this.getProps();if(!t||!Ba(t))return!1;const r=t.current,{projection:o}=this.visualElement;if(!o||!o.layout)return!1;const l=pB(r,o.root,this.visualElement.getTransformPagePoint());let u=TB(o.layout.layoutBox,l);if(n){const f=n(oB(u));this.hasMutatedConstraints=!!f,f&&(u=IS(f))}return u}startAnimation(t){const{drag:n,dragMomentum:r,dragElastic:o,dragTransition:l,dragSnapToOrigin:u,onDragTransitionEnd:f}=this.getProps(),m=this.constraints||{},d=Nn(h=>{if(!lu(h,n,this.currentDirection))return;let y=m&&m[h]||{};u&&(y={min:0,max:0});const T=o?200:1e6,S=o?40:1e7,w={type:"inertia",velocity:r?t[h]:0,bounceStiffness:T,bounceDamping:S,timeConstant:750,restDelta:1,restSpeed:10,...l,...y};return this.startAxisValueAnimation(h,w)});return Promise.all(d).then(f)}startAxisValueAnimation(t,n){const r=this.getAxisMotionValue(t);return Cm(this.visualElement,t),r.start(Dh(t,r,0,n,this.visualElement,!1))}stopAnimation(){Nn(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){Nn(t=>{var n;return(n=this.getAxisMotionValue(t).animation)==null?void 0:n.pause()})}getAnimationState(t){var n;return(n=this.getAxisMotionValue(t).animation)==null?void 0:n.state}getAxisMotionValue(t){const n=`_drag${t.toUpperCase()}`,r=this.visualElement.getProps(),o=r[n];return o||this.visualElement.getValue(t,(r.initial?r.initial[t]:void 0)||0)}snapToCursor(t){Nn(n=>{const{drag:r}=this.getProps();if(!lu(n,r,this.currentDirection))return;const{projection:o}=this.visualElement,l=this.getAxisMotionValue(n);if(o&&o.layout){const{min:u,max:f}=o.layout.layoutBox[n];l.set(t[n]-dt(u,f,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!Ba(n)||!r||!this.constraints)return;this.stopAnimation();const o={x:0,y:0};Nn(u=>{const f=this.getAxisMotionValue(u);if(f&&this.constraints!==!1){const m=f.get();o[u]=SB({min:m,max:m},this.constraints[u])}});const{transformTemplate:l}=this.visualElement.getProps();this.visualElement.current.style.transform=l?l({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),Nn(u=>{if(!lu(u,t,null))return;const f=this.getAxisMotionValue(u),{min:m,max:d}=this.constraints[u];f.set(dt(m,d,o[u]))})}addListeners(){if(!this.visualElement.current)return;wB.set(this.visualElement,this);const t=this.visualElement.current,n=hs(t,"pointerdown",m=>{const{drag:d,dragListener:h=!0}=this.getProps();d&&h&&this.start(m)}),r=()=>{const{dragConstraints:m}=this.getProps();Ba(m)&&m.current&&(this.constraints=this.resolveRefConstraints())},{projection:o}=this.visualElement,l=o.addEventListener("measure",r);o&&!o.layout&&(o.root&&o.root.updateScroll(),o.updateLayout()),mt.read(r);const u=Es(window,"resize",()=>this.scalePositionWithinConstraints()),f=o.addEventListener("didUpdate",({delta:m,hasLayoutChanged:d})=>{this.isDragging&&d&&(Nn(h=>{const y=this.getAxisMotionValue(h);y&&(this.originPoint[h]+=m[h].translate,y.set(y.get()+m[h].translate))}),this.visualElement.render())});return()=>{u(),n(),l(),f&&f()}}getProps(){const t=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:o=!1,dragConstraints:l=!1,dragElastic:u=Em,dragMomentum:f=!0}=t;return{...t,drag:n,dragDirectionLock:r,dragPropagation:o,dragConstraints:l,dragElastic:u,dragMomentum:f}}}function lu(e,t,n){return(t===!0||t===e)&&(n===null||n===e)}function EB(e,t=10){let n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}class DB extends lr{constructor(t){super(t),this.removeGroupControls=Ln,this.removeListeners=Ln,this.controls=new AB(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Ln}unmount(){this.removeGroupControls(),this.removeListeners()}}const fb=e=>(t,n)=>{e&&mt.postRender(()=>e(t,n))};class kB extends lr{constructor(){super(...arguments),this.removePointerDownListener=Ln}onPointerDown(t){this.session=new BS(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:PS(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:n,onPan:r,onPanEnd:o}=this.node.getProps();return{onSessionStart:fb(t),onStart:fb(n),onMove:r,onEnd:(l,u)=>{delete this.session,o&&mt.postRender(()=>o(l,u))}}}mount(){this.removePointerDownListener=hs(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const xu={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function db(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const as={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(ke.test(e))e=parseFloat(e);else return e;const n=db(e,t.target.x),r=db(e,t.target.y);return`${n}% ${r}%`}},IB={correct:(e,{treeScale:t,projectionDelta:n})=>{const r=e,o=tr.parse(e);if(o.length>5)return r;const l=tr.createTransformer(e),u=typeof o[0]!="number"?1:0,f=n.x.scale*t.x,m=n.y.scale*t.y;o[0+u]/=f,o[1+u]/=m;const d=dt(f,m,.5);return typeof o[2+u]=="number"&&(o[2+u]/=d),typeof o[3+u]=="number"&&(o[3+u]/=d),l(o)}};class NB extends ne.Component{componentDidMount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r,layoutId:o}=this.props,{projection:l}=t;p4(RB),l&&(n.group&&n.group.add(l),r&&r.register&&o&&r.register(l),l.root.didUpdate(),l.addEventListener("animationComplete",()=>{this.safeToRemove()}),l.setOptions({...l.options,onExitComplete:()=>this.safeToRemove()})),xu.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:n,visualElement:r,drag:o,isPresent:l}=this.props,{projection:u}=r;return u&&(u.isPresent=l,o||t.layoutDependency!==n||n===void 0||t.isPresent!==l?u.willUpdate():this.safeToRemove(),t.isPresent!==l&&(l?u.promote():u.relegate()||mt.postRender(()=>{const f=u.getStack();(!f||!f.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),xh.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:o}=t;o&&(o.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(o),r&&r.deregister&&r.deregister(o))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function OS(e){const[t,n]=J5(),r=ne.useContext(TT);return g.jsx(NB,{...e,layoutGroup:r,switchLayoutGroup:ne.useContext(yS),isPresent:t,safeToRemove:n})}const RB={borderRadius:{...as,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:as,borderTopRightRadius:as,borderBottomLeftRadius:as,borderBottomRightRadius:as,boxShadow:IB};function _B(e,t,n){const r=Gt(e)?e:Ua(e);return r.start(Dh("",r,t,n)),r.animation}const LB=(e,t)=>e.depth-t.depth;class VB{constructor(){this.children=[],this.isDirty=!1}add(t){Zm(this.children,t),this.isDirty=!0}remove(t){eh(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(LB),this.isDirty=!1,this.children.forEach(t)}}function PB(e,t){const n=sn.now(),r=({timestamp:o})=>{const l=o-n;l>=t&&(er(r),e(l-t))};return mt.setup(r,!0),()=>er(r)}const jS=["TopLeft","TopRight","BottomLeft","BottomRight"],BB=jS.length,mb=e=>typeof e=="string"?parseFloat(e):e,hb=e=>typeof e=="number"||ke.test(e);function FB(e,t,n,r,o,l){o?(e.opacity=dt(0,n.opacity??1,OB(r)),e.opacityExit=dt(t.opacity??1,0,jB(r))):l&&(e.opacity=dt(t.opacity??1,n.opacity??1,r));for(let u=0;u<BB;u++){const f=`border${jS[u]}Radius`;let m=pb(t,f),d=pb(n,f);if(m===void 0&&d===void 0)continue;m||(m=0),d||(d=0),m===0||d===0||hb(m)===hb(d)?(e[f]=Math.max(dt(mb(m),mb(d),r),0),(ti.test(d)||ti.test(m))&&(e[f]+="%")):e[f]=d}(t.rotate||n.rotate)&&(e.rotate=dt(t.rotate||0,n.rotate||0,r))}function pb(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const OB=zS(0,.5,RT),jB=zS(.5,.95,Ln);function zS(e,t,n){return r=>r<e?0:r>t?1:n(Ts(e,t,r))}function gb(e,t){e.min=t.min,e.max=t.max}function In(e,t){gb(e.x,t.x),gb(e.y,t.y)}function yb(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function xb(e,t,n,r,o){return e-=t,e=Ru(e,1/n,r),o!==void 0&&(e=Ru(e,1/o,r)),e}function zB(e,t=0,n=1,r=.5,o,l=e,u=e){if(ti.test(t)&&(t=parseFloat(t),t=dt(u.min,u.max,t/100)-u.min),typeof t!="number")return;let f=dt(l.min,l.max,r);e===l&&(f-=t),e.min=xb(e.min,t,n,f,o),e.max=xb(e.max,t,n,f,o)}function vb(e,t,[n,r,o],l,u){zB(e,t[n],t[r],t[o],t.scale,l,u)}const HB=["x","scaleX","originX"],UB=["y","scaleY","originY"];function bb(e,t,n,r){vb(e.x,t,HB,n?n.x:void 0,r?r.x:void 0),vb(e.y,t,UB,n?n.y:void 0,r?r.y:void 0)}function Tb(e){return e.translate===0&&e.scale===1}function HS(e){return Tb(e.x)&&Tb(e.y)}function Sb(e,t){return e.min===t.min&&e.max===t.max}function GB(e,t){return Sb(e.x,t.x)&&Sb(e.y,t.y)}function Cb(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function US(e,t){return Cb(e.x,t.x)&&Cb(e.y,t.y)}function Mb(e){return Xt(e.x)/Xt(e.y)}function wb(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class qB{constructor(){this.members=[]}add(t){Zm(this.members,t),t.scheduleRender()}remove(t){if(eh(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(t){const n=this.members.findIndex(o=>t===o);if(n===0)return!1;let r;for(let o=n;o>=0;o--){const l=this.members[o];if(l.isPresent!==!1){r=l;break}}return r?(this.promote(r),!0):!1}promote(t,n){const r=this.lead;if(t!==r&&(this.prevLead=r,this.lead=t,t.show(),r)){r.instance&&r.scheduleRender(),t.scheduleRender(),t.resumeFrom=r,n&&(t.resumeFrom.preserveOpacity=!0),r.snapshot&&(t.snapshot=r.snapshot,t.snapshot.latestValues=r.animationValues||r.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:o}=t.options;o===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:n,resumingFrom:r}=t;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function $B(e,t,n){let r="";const o=e.x.translate/t.x,l=e.y.translate/t.y,u=(n==null?void 0:n.z)||0;if((o||l||u)&&(r=`translate3d(${o}px, ${l}px, ${u}px) `),(t.x!==1||t.y!==1)&&(r+=`scale(${1/t.x}, ${1/t.y}) `),n){const{transformPerspective:d,rotate:h,rotateX:y,rotateY:T,skewX:S,skewY:w}=n;d&&(r=`perspective(${d}px) ${r}`),h&&(r+=`rotate(${h}deg) `),y&&(r+=`rotateX(${y}deg) `),T&&(r+=`rotateY(${T}deg) `),S&&(r+=`skewX(${S}deg) `),w&&(r+=`skewY(${w}deg) `)}const f=e.x.scale*t.x,m=e.y.scale*t.y;return(f!==1||m!==1)&&(r+=`scale(${f}, ${m})`),r||"none"}const Fd=["","X","Y","Z"],YB={visibility:"hidden"},KB=1e3;let XB=0;function Od(e,t,n,r){const{latestValues:o}=t;o[e]&&(n[e]=o[e],t.setStaticValue(e,0),r&&(r[e]=0))}function GS(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const n=AS(t);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:o,layoutId:l}=e.options;window.MotionCancelOptimisedAnimation(n,"transform",mt,!(o||l))}const{parent:r}=e;r&&!r.hasCheckedOptimisedAppear&&GS(r)}function qS({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:r,resetTransform:o}){return class{constructor(u={},f=t==null?void 0:t()){this.id=XB++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(JB),this.nodes.forEach(iF),this.nodes.forEach(rF),this.nodes.forEach(ZB)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=u,this.root=f?f.root||f:this,this.path=f?[...f.path,f]:[],this.parent=f,this.depth=f?f.depth+1:0;for(let m=0;m<this.path.length;m++)this.path[m].shouldResetTransform=!0;this.root===this&&(this.nodes=new VB)}addEventListener(u,f){return this.eventHandlers.has(u)||this.eventHandlers.set(u,new ih),this.eventHandlers.get(u).add(f)}notifyListeners(u,...f){const m=this.eventHandlers.get(u);m&&m.notify(...f)}hasListeners(u){return this.eventHandlers.has(u)}mount(u){if(this.instance)return;this.isSVG=fS(u)&&!X5(u),this.instance=u;const{layoutId:f,layout:m,visualElement:d}=this.options;if(d&&!d.current&&d.mount(u),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(m||f)&&(this.isLayoutDirty=!0),e){let h;const y=()=>this.root.updateBlockedByResize=!1;e(u,()=>{this.root.updateBlockedByResize=!0,h&&h(),h=PB(y,250),xu.hasAnimatedSinceResize&&(xu.hasAnimatedSinceResize=!1,this.nodes.forEach(Eb))})}f&&this.root.registerSharedNode(f,this),this.options.animate!==!1&&d&&(f||m)&&this.addEventListener("didUpdate",({delta:h,hasLayoutChanged:y,hasRelativeLayoutChanged:T,layout:S})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const w=this.options.transition||d.getDefaultTransition()||uF,{onLayoutAnimationStart:A,onLayoutAnimationComplete:_}=d.getProps(),k=!this.targetLayout||!US(this.targetLayout,S),V=!y&&T;if(this.options.layoutRoot||this.resumeFrom||V||y&&(k||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const I={...gh(w,"layout"),onPlay:A,onComplete:_};(d.shouldReduceMotion||this.options.layoutRoot)&&(I.delay=0,I.type=!1),this.startAnimation(I),this.setAnimationOrigin(h,V)}else y||Eb(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=S})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const u=this.getStack();u&&u.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),er(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(aF),this.animationId++)}getTransformTemplate(){const{visualElement:u}=this.options;return u&&u.getProps().transformTemplate}willUpdate(u=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&GS(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let h=0;h<this.path.length;h++){const y=this.path[h];y.shouldResetTransform=!0,y.updateScroll("snapshot"),y.options.layoutRoot&&y.willUpdate(!1)}const{layoutId:f,layout:m}=this.options;if(f===void 0&&!m)return;const d=this.getTransformTemplate();this.prevTransformTemplateValue=d?d(this.latestValues,""):void 0,this.updateSnapshot(),u&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(Ab);return}this.isUpdating||this.nodes.forEach(tF),this.isUpdating=!1,this.nodes.forEach(nF),this.nodes.forEach(WB),this.nodes.forEach(QB),this.clearAllSnapshots();const f=sn.now();Bt.delta=Ti(0,1e3/60,f-Bt.timestamp),Bt.timestamp=f,Bt.isProcessing=!0,kd.update.process(Bt),kd.preRender.process(Bt),kd.render.process(Bt),Bt.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,xh.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(eF),this.sharedNodes.forEach(oF)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,mt.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){mt.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Xt(this.snapshot.measuredBox.x)&&!Xt(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let m=0;m<this.path.length;m++)this.path[m].updateScroll();const u=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Tt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:f}=this.options;f&&f.notify("LayoutMeasure",this.layout.layoutBox,u?u.layoutBox:void 0)}updateScroll(u="measure"){let f=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===u&&(f=!1),f&&this.instance){const m=r(this.instance);this.scroll={animationId:this.root.animationId,phase:u,isRoot:m,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:m}}}resetTransform(){if(!o)return;const u=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,f=this.projectionDelta&&!HS(this.projectionDelta),m=this.getTransformTemplate(),d=m?m(this.latestValues,""):void 0,h=d!==this.prevTransformTemplateValue;u&&this.instance&&(f||Vr(this.latestValues)||h)&&(o(this.instance,d),this.shouldResetTransform=!1,this.scheduleRender())}measure(u=!0){const f=this.measurePageBox();let m=this.removeElementScroll(f);return u&&(m=this.removeTransform(m)),cF(m),{animationId:this.root.animationId,measuredBox:f,layoutBox:m,latestValues:{},source:this.id}}measurePageBox(){var d;const{visualElement:u}=this.options;if(!u)return Tt();const f=u.measureViewportBox();if(!(((d=this.scroll)==null?void 0:d.wasRoot)||this.path.some(fF))){const{scroll:h}=this.root;h&&(Oa(f.x,h.offset.x),Oa(f.y,h.offset.y))}return f}removeElementScroll(u){var m;const f=Tt();if(In(f,u),(m=this.scroll)!=null&&m.wasRoot)return f;for(let d=0;d<this.path.length;d++){const h=this.path[d],{scroll:y,options:T}=h;h!==this.root&&y&&T.layoutScroll&&(y.wasRoot&&In(f,u),Oa(f.x,y.offset.x),Oa(f.y,y.offset.y))}return f}applyTransform(u,f=!1){const m=Tt();In(m,u);for(let d=0;d<this.path.length;d++){const h=this.path[d];!f&&h.options.layoutScroll&&h.scroll&&h!==h.root&&ja(m,{x:-h.scroll.offset.x,y:-h.scroll.offset.y}),Vr(h.latestValues)&&ja(m,h.latestValues)}return Vr(this.latestValues)&&ja(m,this.latestValues),m}removeTransform(u){const f=Tt();In(f,u);for(let m=0;m<this.path.length;m++){const d=this.path[m];if(!d.instance||!Vr(d.latestValues))continue;wm(d.latestValues)&&d.updateSnapshot();const h=Tt(),y=d.measurePageBox();In(h,y),bb(f,d.latestValues,d.snapshot?d.snapshot.layoutBox:void 0,h)}return Vr(this.latestValues)&&bb(f,this.latestValues),f}setTargetDelta(u){this.targetDelta=u,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(u){this.options={...this.options,...u,crossfade:u.crossfade!==void 0?u.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Bt.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(u=!1){var T;const f=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=f.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=f.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=f.isSharedProjectionDirty);const m=!!this.resumingFrom||this!==f;if(!(u||m&&this.isSharedProjectionDirty||this.isProjectionDirty||(T=this.parent)!=null&&T.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:h,layoutId:y}=this.options;if(!(!this.layout||!(h||y))){if(this.resolvedRelativeTargetAt=Bt.timestamp,!this.targetDelta&&!this.relativeTarget){const S=this.getClosestProjectingParent();S&&S.layout&&this.animationProgress!==1?(this.relativeParent=S,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Tt(),this.relativeTargetOrigin=Tt(),gs(this.relativeTargetOrigin,this.layout.layoutBox,S.layout.layoutBox),In(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Tt(),this.targetWithTransforms=Tt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),mB(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):In(this.target,this.layout.layoutBox),LS(this.target,this.targetDelta)):In(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const S=this.getClosestProjectingParent();S&&!!S.resumingFrom==!!this.resumingFrom&&!S.options.layoutScroll&&S.target&&this.animationProgress!==1?(this.relativeParent=S,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Tt(),this.relativeTargetOrigin=Tt(),gs(this.relativeTargetOrigin,this.target,S.target),In(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||wm(this.parent.latestValues)||_S(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var w;const u=this.getLead(),f=!!this.resumingFrom||this!==u;let m=!0;if((this.isProjectionDirty||(w=this.parent)!=null&&w.isProjectionDirty)&&(m=!1),f&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(m=!1),this.resolvedRelativeTargetAt===Bt.timestamp&&(m=!1),m)return;const{layout:d,layoutId:h}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(d||h))return;In(this.layoutCorrected,this.layout.layoutBox);const y=this.treeScale.x,T=this.treeScale.y;hB(this.layoutCorrected,this.treeScale,this.path,f),u.layout&&!u.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(u.target=u.layout.layoutBox,u.targetWithTransforms=Tt());const{target:S}=u;if(!S){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(yb(this.prevProjectionDelta.x,this.projectionDelta.x),yb(this.prevProjectionDelta.y,this.projectionDelta.y)),ps(this.projectionDelta,this.layoutCorrected,S,this.latestValues),(this.treeScale.x!==y||this.treeScale.y!==T||!wb(this.projectionDelta.x,this.prevProjectionDelta.x)||!wb(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",S))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(u=!0){var f;if((f=this.options.visualElement)==null||f.scheduleRender(),u){const m=this.getStack();m&&m.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Fa(),this.projectionDelta=Fa(),this.projectionDeltaWithTransform=Fa()}setAnimationOrigin(u,f=!1){const m=this.snapshot,d=m?m.latestValues:{},h={...this.latestValues},y=Fa();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!f;const T=Tt(),S=m?m.source:void 0,w=this.layout?this.layout.source:void 0,A=S!==w,_=this.getStack(),k=!_||_.members.length<=1,V=!!(A&&!k&&this.options.crossfade===!0&&!this.path.some(lF));this.animationProgress=0;let I;this.mixTargetDelta=B=>{const U=B/1e3;Db(y.x,u.x,U),Db(y.y,u.y,U),this.setTargetDelta(y),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(gs(T,this.layout.layoutBox,this.relativeParent.layout.layoutBox),sF(this.relativeTarget,this.relativeTargetOrigin,T,U),I&&GB(this.relativeTarget,I)&&(this.isProjectionDirty=!1),I||(I=Tt()),In(I,this.relativeTarget)),A&&(this.animationValues=h,FB(h,d,this.latestValues,U,V,k)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=U},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(u){var f,m,d;this.notifyListeners("animationStart"),(f=this.currentAnimation)==null||f.stop(),(d=(m=this.resumingFrom)==null?void 0:m.currentAnimation)==null||d.stop(),this.pendingAnimation&&(er(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=mt.update(()=>{xu.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Ua(0)),this.currentAnimation=_B(this.motionValue,[0,1e3],{...u,velocity:0,isSync:!0,onUpdate:h=>{this.mixTargetDelta(h),u.onUpdate&&u.onUpdate(h)},onStop:()=>{},onComplete:()=>{u.onComplete&&u.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const u=this.getStack();u&&u.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(KB),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const u=this.getLead();let{targetWithTransforms:f,target:m,layout:d,latestValues:h}=u;if(!(!f||!m||!d)){if(this!==u&&this.layout&&d&&$S(this.options.animationType,this.layout.layoutBox,d.layoutBox)){m=this.target||Tt();const y=Xt(this.layout.layoutBox.x);m.x.min=u.target.x.min,m.x.max=m.x.min+y;const T=Xt(this.layout.layoutBox.y);m.y.min=u.target.y.min,m.y.max=m.y.min+T}In(f,m),ja(f,h),ps(this.projectionDeltaWithTransform,this.layoutCorrected,f,h)}}registerSharedNode(u,f){this.sharedNodes.has(u)||this.sharedNodes.set(u,new qB),this.sharedNodes.get(u).add(f);const d=f.options.initialPromotionConfig;f.promote({transition:d?d.transition:void 0,preserveFollowOpacity:d&&d.shouldPreserveFollowOpacity?d.shouldPreserveFollowOpacity(f):void 0})}isLead(){const u=this.getStack();return u?u.lead===this:!0}getLead(){var f;const{layoutId:u}=this.options;return u?((f=this.getStack())==null?void 0:f.lead)||this:this}getPrevLead(){var f;const{layoutId:u}=this.options;return u?(f=this.getStack())==null?void 0:f.prevLead:void 0}getStack(){const{layoutId:u}=this.options;if(u)return this.root.sharedNodes.get(u)}promote({needsReset:u,transition:f,preserveFollowOpacity:m}={}){const d=this.getStack();d&&d.promote(this,m),u&&(this.projectionDelta=void 0,this.needsReset=!0),f&&this.setOptions({transition:f})}relegate(){const u=this.getStack();return u?u.relegate(this):!1}resetSkewAndRotation(){const{visualElement:u}=this.options;if(!u)return;let f=!1;const{latestValues:m}=u;if((m.z||m.rotate||m.rotateX||m.rotateY||m.rotateZ||m.skewX||m.skewY)&&(f=!0),!f)return;const d={};m.z&&Od("z",u,d,this.animationValues);for(let h=0;h<Fd.length;h++)Od(`rotate${Fd[h]}`,u,d,this.animationValues),Od(`skew${Fd[h]}`,u,d,this.animationValues);u.render();for(const h in d)u.setStaticValue(h,d[h]),this.animationValues&&(this.animationValues[h]=d[h]);u.scheduleRender()}getProjectionStyles(u){if(!this.instance||this.isSVG)return;if(!this.isVisible)return YB;const f={visibility:""},m=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,f.opacity="",f.pointerEvents=yu(u==null?void 0:u.pointerEvents)||"",f.transform=m?m(this.latestValues,""):"none",f;const d=this.getLead();if(!this.projectionDelta||!this.layout||!d.target){const S={};return this.options.layoutId&&(S.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,S.pointerEvents=yu(u==null?void 0:u.pointerEvents)||""),this.hasProjected&&!Vr(this.latestValues)&&(S.transform=m?m({},""):"none",this.hasProjected=!1),S}const h=d.animationValues||d.latestValues;this.applyTransformsToTarget(),f.transform=$B(this.projectionDeltaWithTransform,this.treeScale,h),m&&(f.transform=m(h,f.transform));const{x:y,y:T}=this.projectionDelta;f.transformOrigin=`${y.origin*100}% ${T.origin*100}% 0`,d.animationValues?f.opacity=d===this?h.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:h.opacityExit:f.opacity=d===this?h.opacity!==void 0?h.opacity:"":h.opacityExit!==void 0?h.opacityExit:0;for(const S in ws){if(h[S]===void 0)continue;const{correct:w,applyTo:A,isCSSVariable:_}=ws[S],k=f.transform==="none"?h[S]:w(h[S],d);if(A){const V=A.length;for(let I=0;I<V;I++)f[A[I]]=k}else _?this.options.visualElement.renderState.vars[S]=k:f[S]=k}return this.options.layoutId&&(f.pointerEvents=d===this?yu(u==null?void 0:u.pointerEvents)||"":"none"),f}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(u=>{var f;return(f=u.currentAnimation)==null?void 0:f.stop()}),this.root.nodes.forEach(Ab),this.root.sharedNodes.clear()}}}function WB(e){e.updateLayout()}function QB(e){var n;const t=((n=e.resumeFrom)==null?void 0:n.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&t&&e.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:o}=e.layout,{animationType:l}=e.options,u=t.source!==e.layout.source;l==="size"?Nn(y=>{const T=u?t.measuredBox[y]:t.layoutBox[y],S=Xt(T);T.min=r[y].min,T.max=T.min+S}):$S(l,t.layoutBox,r)&&Nn(y=>{const T=u?t.measuredBox[y]:t.layoutBox[y],S=Xt(r[y]);T.max=T.min+S,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[y].max=e.relativeTarget[y].min+S)});const f=Fa();ps(f,r,t.layoutBox);const m=Fa();u?ps(m,e.applyTransform(o,!0),t.measuredBox):ps(m,r,t.layoutBox);const d=!HS(f);let h=!1;if(!e.resumeFrom){const y=e.getClosestProjectingParent();if(y&&!y.resumeFrom){const{snapshot:T,layout:S}=y;if(T&&S){const w=Tt();gs(w,t.layoutBox,T.layoutBox);const A=Tt();gs(A,r,S.layoutBox),US(w,A)||(h=!0),y.options.layoutRoot&&(e.relativeTarget=A,e.relativeTargetOrigin=w,e.relativeParent=y)}}}e.notifyListeners("didUpdate",{layout:r,snapshot:t,delta:m,layoutDelta:f,hasLayoutChanged:d,hasRelativeLayoutChanged:h})}else if(e.isLead()){const{onExitComplete:r}=e.options;r&&r()}e.options.transition=void 0}function JB(e){e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function ZB(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function eF(e){e.clearSnapshot()}function Ab(e){e.clearMeasurements()}function tF(e){e.isLayoutDirty=!1}function nF(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function Eb(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function iF(e){e.resolveTargetDelta()}function rF(e){e.calcProjection()}function aF(e){e.resetSkewAndRotation()}function oF(e){e.removeLeadSnapshot()}function Db(e,t,n){e.translate=dt(t.translate,0,n),e.scale=dt(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function kb(e,t,n,r){e.min=dt(t.min,n.min,r),e.max=dt(t.max,n.max,r)}function sF(e,t,n,r){kb(e.x,t.x,n.x,r),kb(e.y,t.y,n.y,r)}function lF(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const uF={duration:.45,ease:[.4,0,.1,1]},Ib=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),Nb=Ib("applewebkit/")&&!Ib("chrome/")?Math.round:Ln;function Rb(e){e.min=Nb(e.min),e.max=Nb(e.max)}function cF(e){Rb(e.x),Rb(e.y)}function $S(e,t,n){return e==="position"||e==="preserve-aspect"&&!dB(Mb(t),Mb(n),.2)}function fF(e){var t;return e!==e.root&&((t=e.scroll)==null?void 0:t.wasRoot)}const dF=qS({attachResizeListener:(e,t)=>Es(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),jd={current:void 0},YS=qS({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!jd.current){const e=new dF({});e.mount(window),e.setOptions({layoutScroll:!0}),jd.current=e}return jd.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),mF={pan:{Feature:kB},drag:{Feature:DB,ProjectionNode:YS,MeasureLayout:OS}};function _b(e,t,n){const{props:r}=e;e.animationState&&r.whileHover&&e.animationState.setActive("whileHover",n==="Start");const o="onHover"+n,l=r[o];l&&mt.postRender(()=>l(t,Ps(t)))}class hF extends lr{mount(){const{current:t}=this.node;t&&(this.unmount=G5(t,(n,r)=>(_b(this.node,r,"Start"),o=>_b(this.node,o,"End"))))}unmount(){}}class pF extends lr{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=_s(Es(this.node.current,"focus",()=>this.onFocus()),Es(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function Lb(e,t,n){const{props:r}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&r.whileTap&&e.animationState.setActive("whileTap",n==="Start");const o="onTap"+(n==="End"?"":n),l=r[o];l&&mt.postRender(()=>l(t,Ps(t)))}class gF extends lr{mount(){const{current:t}=this.node;t&&(this.unmount=K5(t,(n,r)=>(Lb(this.node,r,"Start"),(o,{success:l})=>Lb(this.node,o,l?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Dm=new WeakMap,zd=new WeakMap,yF=e=>{const t=Dm.get(e.target);t&&t(e)},xF=e=>{e.forEach(yF)};function vF({root:e,...t}){const n=e||document;zd.has(n)||zd.set(n,{});const r=zd.get(n),o=JSON.stringify(t);return r[o]||(r[o]=new IntersectionObserver(xF,{root:e,...t})),r[o]}function bF(e,t,n){const r=vF(t);return Dm.set(e,n),r.observe(e),()=>{Dm.delete(e),r.unobserve(e)}}const TF={some:0,all:1};class SF extends lr{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:n,margin:r,amount:o="some",once:l}=t,u={root:n?n.current:void 0,rootMargin:r,threshold:typeof o=="number"?o:TF[o]},f=m=>{const{isIntersecting:d}=m;if(this.isInView===d||(this.isInView=d,l&&!d&&this.hasEnteredView))return;d&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",d);const{onViewportEnter:h,onViewportLeave:y}=this.node.getProps(),T=d?h:y;T&&T(m)};return bF(this.node.current,u,f)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:n}=this.node;["amount","margin","root"].some(CF(t,n))&&this.startObserver()}unmount(){}}function CF({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}const MF={inView:{Feature:SF},tap:{Feature:gF},focus:{Feature:pF},hover:{Feature:hF}},wF={layout:{ProjectionNode:YS,MeasureLayout:OS}},km={current:null},KS={current:!1};function AF(){if(KS.current=!0,!!Qm)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>km.current=e.matches;e.addListener(t),t()}else km.current=!1}const EF=new WeakMap;function DF(e,t,n){for(const r in t){const o=t[r],l=n[r];if(Gt(o))e.addValue(r,o);else if(Gt(l))e.addValue(r,Ua(o,{owner:e}));else if(l!==o)if(e.hasValue(r)){const u=e.getValue(r);u.liveStyle===!0?u.jump(o):u.hasAnimated||u.set(o)}else{const u=e.getStaticValue(r);e.addValue(r,Ua(u!==void 0?u:o,{owner:e}))}}for(const r in n)t[r]===void 0&&e.removeValue(r);return t}const Vb=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class kF{scrapeMotionValuesFromProps(t,n,r){return{}}constructor({parent:t,props:n,presenceContext:r,reducedMotionConfig:o,blockInitialAnimation:l,visualState:u},f={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=ph,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const T=sn.now();this.renderScheduledAt<T&&(this.renderScheduledAt=T,mt.render(this.render,!1,!0))};const{latestValues:m,renderState:d}=u;this.latestValues=m,this.baseTarget={...m},this.initialValues=n.initial?{...m}:{},this.renderState=d,this.parent=t,this.props=n,this.presenceContext=r,this.depth=t?t.depth+1:0,this.reducedMotionConfig=o,this.options=f,this.blockInitialAnimation=!!l,this.isControllingVariants=Gu(n),this.isVariantNode=pS(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:h,...y}=this.scrapeMotionValuesFromProps(n,{},this);for(const T in y){const S=y[T];m[T]!==void 0&&Gt(S)&&S.set(m[T],!1)}}mount(t){this.current=t,EF.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),KS.current||AF(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:km.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),er(this.notifyUpdate),er(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const n=this.features[t];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(t,n){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const r=Wa.has(t);r&&this.onBindTransform&&this.onBindTransform();const o=n.on("change",f=>{this.latestValues[t]=f,this.props.onUpdate&&mt.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0)}),l=n.on("renderRequest",this.scheduleRender);let u;window.MotionCheckAppearSync&&(u=window.MotionCheckAppearSync(this,t,n)),this.valueSubscriptions.set(t,()=>{o(),l(),u&&u(),n.owner&&n.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in Ga){const n=Ga[t];if(!n)continue;const{isEnabled:r,Feature:o}=n;if(!this.features[t]&&o&&r(this.props)&&(this.features[t]=new o(this)),this.features[t]){const l=this.features[t];l.isMounted?l.update():(l.mount(),l.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Tt()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,n){this.latestValues[t]=n}update(t,n){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<Vb.length;r++){const o=Vb[r];this.propEventSubscriptions[o]&&(this.propEventSubscriptions[o](),delete this.propEventSubscriptions[o]);const l="on"+o,u=t[l];u&&(this.propEventSubscriptions[o]=this.on(o,u))}this.prevMotionValues=DF(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(t),()=>n.variantChildren.delete(t)}addValue(t,n){const r=this.values.get(t);n!==r&&(r&&this.removeValue(t),this.bindToMotionValue(t,n),this.values.set(t,n),this.latestValues[t]=n.get())}removeValue(t){this.values.delete(t);const n=this.valueSubscriptions.get(t);n&&(n(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,n){if(this.props.values&&this.props.values[t])return this.props.values[t];let r=this.values.get(t);return r===void 0&&n!==void 0&&(r=Ua(n===null?void 0:n,{owner:this}),this.addValue(t,r)),r}readValue(t,n){let r=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return r!=null&&(typeof r=="string"&&(ST(r)||MT(r))?r=parseFloat(r):!Q5(r)&&tr.test(n)&&(r=oS(t,n)),this.setBaseTarget(t,Gt(r)?r.get():r)),Gt(r)?r.get():r}setBaseTarget(t,n){this.baseTarget[t]=n}getBaseTarget(t){var l;const{initial:n}=this.props;let r;if(typeof n=="string"||typeof n=="object"){const u=Ah(this.props,n,(l=this.presenceContext)==null?void 0:l.custom);u&&(r=u[t])}if(n&&r!==void 0)return r;const o=this.getBaseTargetFromProps(this.props,t);return o!==void 0&&!Gt(o)?o:this.initialValues[t]!==void 0&&r===void 0?void 0:this.baseTarget[t]}on(t,n){return this.events[t]||(this.events[t]=new ih),this.events[t].add(n)}notify(t,...n){this.events[t]&&this.events[t].notify(...n)}}class XS extends kF{constructor(){super(...arguments),this.KeyframeResolver=O5}sortInstanceNodePosition(t,n){return t.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(t,n){return t.style?t.style[n]:void 0}removeValueFromRenderState(t,{vars:n,style:r}){delete n[t],delete r[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;Gt(t)&&(this.childSubscription=t.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function WS(e,{style:t,vars:n},r,o){Object.assign(e.style,t,o&&o.getProjectionStyles(r));for(const l in n)e.style.setProperty(l,n[l])}function IF(e){return window.getComputedStyle(e)}class NF extends XS{constructor(){super(...arguments),this.type="html",this.renderInstance=WS}readValueFromInstance(t,n){var r;if(Wa.has(n))return(r=this.projection)!=null&&r.isProjecting?gm(n):r5(t,n);{const o=IF(t),l=(oh(n)?o.getPropertyValue(n):o[n])||0;return typeof l=="string"?l.trim():l}}measureInstanceViewportBox(t,{transformPagePoint:n}){return VS(t,n)}build(t,n,r){Ch(t,n,r.transformTemplate)}scrapeMotionValuesFromProps(t,n,r){return Eh(t,n,r)}}const QS=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function RF(e,t,n,r){WS(e,t,void 0,r);for(const o in t.attrs)e.setAttribute(QS.has(o)?o:Sh(o),t.attrs[o])}class _F extends XS{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Tt}getBaseTargetFromProps(t,n){return t[n]}readValueFromInstance(t,n){if(Wa.has(n)){const r=aS(n);return r&&r.default||0}return n=QS.has(n)?n:Sh(n),t.getAttribute(n)}scrapeMotionValuesFromProps(t,n,r){return wS(t,n,r)}build(t,n,r){TS(t,n,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(t,n,r,o){RF(t,n,r,o)}mount(t){this.isSVGTag=CS(t.tagName),super.mount(t)}}const LF=(e,t)=>wh(e)?new _F(t):new NF(t,{allowProjection:e!==ne.Fragment}),VF=R4({...rB,...MF,...mF,...wF},LF),PF=i4(VF),Pb=({value:e,min:t=0,max:n=1,size:r=80,label:o,onChange:l})=>{const u=Math.max(0,Math.min(1,(e-t)/(n-t))),f=-150+u*300;return g.jsxs("div",{className:"flex flex-col items-center",children:[g.jsxs("div",{className:"relative cursor-pointer select-none",style:{width:r,height:r},children:[g.jsx("div",{className:"absolute inset-0 rounded-full bg-gradient-to-b from-gray-700 to-gray-900 border-2 border-gray-600 shadow-lg",children:[...Array(11)].map((m,d)=>{const h=-150+d*30,y=d/10<=u,T=d%5===0?r*.1:r*.05,S=r/2-T,w=r/2-2,A=r/2+S*Math.cos(h*Math.PI/180),_=r/2+S*Math.sin(h*Math.PI/180),k=r/2+w*Math.cos(h*Math.PI/180),V=r/2+w*Math.sin(h*Math.PI/180);return g.jsx("line",{x1:A,y1:_,x2:k,y2:V,stroke:y?"#f97316":"#6b7280",strokeWidth:d%5===0?2:1},d)})}),g.jsx(PF.div,{className:"absolute bg-orange-500 rounded-full shadow-md",style:{width:r*.05,height:r*.3,left:"50%",top:r*.1,marginLeft:r*-.025,transformOrigin:`50% ${r*.4}px`},animate:{rotate:f},transition:{type:"spring",stiffness:300,damping:30}}),g.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:g.jsx("span",{className:"text-xs font-mono text-white bg-gray-800/70 px-2 py-1 rounded-full",children:Math.round(u*100)})})]}),o&&g.jsx("span",{className:"text-xs text-gray-300 mt-2 text-center max-w-[80px] truncate",children:o})]})};function BF(e){return e?e.replace(/<[^>]+>/g,""):""}class FF extends _u.Component{constructor(t){super(t),this.state={hasError:!1}}static getDerivedStateFromError(t){return{hasError:!0,error:t}}render(){return this.state.hasError?g.jsx("div",{className:"p-4 bg-red-900/20 border border-red-500 rounded-lg",children:g.jsx("p",{className:"text-red-400",children:"Something went wrong displaying the patch guide. Please try regenerating."})}):this.props.children}}const OF=({onContentUpdate:e})=>{const[t,n]=ne.useState({synth:"Generic",genre:"",voiceType:"",styleMood:[],dynamicsMovement:[],notes:""}),[r,o]=ne.useState(null),[l,u]=ne.useState(!1),[f,m]=ne.useState(""),d=ne.useMemo(()=>{var I;return((I=Zl.find(B=>B.key==="genre"))==null?void 0:I.examples)||[]},[]),h=ne.useMemo(()=>{var I;return((I=Zl.find(B=>B.key==="voiceType"))==null?void 0:I.examples)||[]},[]),y=ne.useMemo(()=>{var I;return((I=Zl.find(B=>B.key==="styleMood"))==null?void 0:I.examples)||[]},[]),T=ne.useMemo(()=>{var I;return((I=Zl.find(B=>B.key==="dynamicsMovement"))==null?void 0:I.examples)||[]},[]),S=ne.useCallback((I,B)=>{n(U=>({...U,[I]:B}))},[]),w=ne.useCallback(I=>{n(B=>({...B,styleMood:B.styleMood.includes(I)?B.styleMood.filter(U=>U!==I):[...B.styleMood,I]}))},[]),A=ne.useCallback(I=>{n(B=>({...B,dynamicsMovement:B.dynamicsMovement.includes(I)?B.dynamicsMovement.filter(U=>U!==I):[...B.dynamicsMovement,I]}))},[]),_=ne.useMemo(()=>t.synth&&t.genre&&t.voiceType,[t.synth,t.genre,t.voiceType]),k=ne.useCallback(async I=>{var B;if(I.preventDefault(),!!_){u(!0),m(""),o(null);try{let U=[...t.styleMood,...t.dynamicsMovement].join(", ");U.trim()||(U=((B=t.notes)==null?void 0:B.trim())||"No specific style or movement provided");const z=await ZP({description:U,synth:t.synth,genre:t.genre,voiceType:t.voiceType,notes:t.notes}),ie={text:z.text||"",synthConfig:z.synthConfig||{},adsrVCF:z.adsrVCF||{attack:.1,decay:.5,sustain:.8,release:1.5},adsrVCA:z.adsrVCA||{attack:.05,decay:.3,sustain:.9,release:.6},summary:z.summary||""};o(ie),e==null||e(ie.text)}catch(U){m(U instanceof Error?U.message:"Failed to generate patch guide")}finally{u(!1)}}},[t,_]),V=ne.useCallback(()=>{n({synth:"Generic",genre:"",voiceType:"",styleMood:[],dynamicsMovement:[],notes:""}),o(null),m(""),e==null||e("")},[e]);return g.jsxs("div",{className:"max-w-5xl mx-auto p-6 space-y-6",children:[g.jsxs(Xe,{children:[g.jsx("h2",{className:"text-xl font-semibold text-white mb-6",children:"Create Synth Patch Guide"}),g.jsxs("form",{onSubmit:k,className:"space-y-6",children:[g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[g.jsxs("div",{children:[g.jsx("label",{className:"block text-gray-200 mb-2 font-medium",children:"Synthesizer"}),g.jsxs("select",{value:t.synth,onChange:I=>S("synth",I.target.value),className:"w-full bg-gray-700 text-white p-3 rounded-lg border border-gray-600 focus:border-purple-500 focus:ring-1 focus:ring-purple-500",required:!0,children:[g.jsx("option",{value:"",children:"Select synth..."}),yk.map(I=>g.jsx("option",{value:I,children:I},I))]})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-gray-200 mb-2 font-medium",children:"Genre"}),g.jsxs("select",{value:t.genre,onChange:I=>S("genre",I.target.value),className:"w-full bg-gray-700 text-white p-3 rounded-lg border border-gray-600 focus:border-purple-500 focus:ring-1 focus:ring-purple-500",required:!0,children:[g.jsx("option",{value:"",children:"Select genre..."}),d.map(I=>g.jsx("option",{value:I,children:I},I))]})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-gray-200 mb-2 font-medium",children:"Voice Type"}),g.jsxs("select",{value:t.voiceType,onChange:I=>S("voiceType",I.target.value),className:"w-full bg-gray-700 text-white p-3 rounded-lg border border-gray-600 focus:border-purple-500 focus:ring-1 focus:ring-purple-500",required:!0,children:[g.jsx("option",{value:"",children:"Select voice type..."}),h.map(I=>g.jsx("option",{value:I,children:I},I))]})]})]}),g.jsxs("div",{children:[g.jsxs("label",{className:"block text-gray-200 mb-3 font-medium",children:["Style & Mood ",g.jsx("span",{className:"text-gray-400 text-sm",children:"(optional)"})]}),g.jsx("div",{className:"flex flex-wrap gap-2",children:y.slice(0,15).map(I=>g.jsx("button",{type:"button",onClick:()=>w(I),className:`px-3 py-1.5 rounded-lg text-sm font-medium transition-colors ${t.styleMood.includes(I)?"bg-purple-600 text-white border-purple-600":"bg-gray-700 text-gray-300 border-gray-600 hover:bg-gray-600"} border`,children:I},I))})]}),g.jsxs("div",{children:[g.jsxs("label",{className:"block text-gray-200 mb-3 font-medium",children:["Dynamics & Movement ",g.jsx("span",{className:"text-gray-400 text-sm",children:"(optional)"})]}),g.jsx("div",{className:"flex flex-wrap gap-2",children:T.slice(0,15).map(I=>g.jsx("button",{type:"button",onClick:()=>A(I),className:`px-3 py-1.5 rounded-lg text-sm font-medium transition-colors ${t.dynamicsMovement.includes(I)?"bg-blue-600 text-white border-blue-600":"bg-gray-700 text-gray-300 border-gray-600 hover:bg-gray-600"} border`,children:I},I))})]}),g.jsxs("div",{children:[g.jsxs("label",{className:"block text-gray-200 mb-2 font-medium",children:["Additional Notes ",g.jsx("span",{className:"text-gray-400 text-sm",children:"(optional)"})]}),g.jsx("textarea",{value:t.notes,onChange:I=>S("notes",I.target.value),placeholder:"Reference artist, track, or specific sound characteristics...",className:"w-full bg-gray-700 text-white p-3 rounded-lg border border-gray-600 focus:border-purple-500 focus:ring-1 focus:ring-purple-500 resize-none",rows:3})]}),g.jsxs("div",{className:"flex items-center gap-4",children:[g.jsxs(Fe,{type:"submit",disabled:l||!_,className:"flex items-center gap-2",children:[l&&g.jsx(Jn,{}),l?"Generating...":"Generate Patch Guide"]}),g.jsx(Fe,{type:"button",variant:"secondary",onClick:V,disabled:l,children:"Reset"})]}),f&&g.jsx("div",{className:"p-4 bg-red-900/20 border border-red-500 rounded-lg",children:g.jsx("p",{className:"text-red-400",children:f})})]})]}),r&&g.jsx(FF,{children:g.jsx(zF,{result:r})})]})};function jF(e,t="audio"){return t==="lfo"?(e*20).toFixed(2):(20*Math.pow(1e3,e)).toFixed(0)}const zF=({result:e})=>{var l,u;const[t,n]=_u.useState(!1),r=()=>{pT(e.text),n(!0),setTimeout(()=>n(!1),1200)},o=BF(e.text);return g.jsxs(Xe,{children:[g.jsxs("div",{className:"flex items-center justify-between mb-6",children:[g.jsx("h3",{className:"text-lg font-semibold text-white",children:"Complete Patch Guide"}),g.jsx("button",{onClick:r,className:"px-3 py-1.5 rounded-lg bg-gray-700 text-gray-200 border border-gray-600 hover:bg-purple-600 hover:text-white transition-colors text-sm font-medium flex items-center gap-2",children:t?"Copied!":"Copy Text"})]}),e.text&&g.jsxs("div",{className:"space-y-8",children:[((l=e.synthConfig)==null?void 0:l.oscillators)&&e.synthConfig.oscillators.length>0&&g.jsxs("div",{className:"mb-6",children:[g.jsx("h3",{className:"text-lg font-semibold text-purple-300 mb-4",children:"Oscillator Summary"}),g.jsx("div",{className:"bg-gray-800 rounded-lg p-6",children:g.jsx("div",{className:`grid grid-cols-1 sm:grid-cols-2 md:grid-cols-${Math.min(5,Math.max(3,e.synthConfig.oscillators.length))} gap-4`,children:e.synthConfig.oscillators.map((f,m)=>g.jsxs("div",{className:"bg-gray-700 rounded-lg p-4",children:[g.jsx("h4",{className:"font-semibold text-purple-300 mb-3 text-sm",children:f.name||`Oscillator ${m+1}`}),g.jsx("div",{className:"space-y-1 text-xs",children:Object.entries(f.values||{}).map(([d,h])=>g.jsxs("div",{className:"flex justify-between",children:[g.jsxs("span",{className:"text-gray-300",children:[d,":"]}),g.jsx("span",{className:"text-white font-mono",children:String(h)})]},d))})]},m))})})]}),((u=e.synthConfig)==null?void 0:u.filters)&&e.synthConfig.filters.length>0&&g.jsxs("div",{className:"border-t border-gray-600 pt-8 mt-8",children:[g.jsx("h2",{className:"text-xl font-bold text-white mb-6 border-b border-gray-600 pb-2",children:"Filter Configuration"}),g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[g.jsx("div",{children:e.synthConfig.filters.map((f,m)=>g.jsxs("div",{className:"mb-6",children:[g.jsx("h3",{className:"font-semibold text-purple-300 mb-3 text-sm",children:f.name||`Filter ${m+1}`}),g.jsxs("table",{className:"w-full border-collapse border border-gray-600 text-sm mb-4",children:[g.jsx("thead",{children:g.jsxs("tr",{children:[g.jsx("th",{className:"border border-gray-600 bg-gray-800 py-2 px-3 text-left font-semibold",children:"Type"}),g.jsx("th",{className:"border border-gray-600 bg-gray-800 py-2 px-3 text-left font-semibold",children:"Cutoff"}),g.jsx("th",{className:"border border-gray-600 bg-gray-800 py-2 px-3 text-left font-semibold",children:"Resonance"})]})}),g.jsx("tbody",{children:g.jsxs("tr",{children:[g.jsx("td",{className:"border border-gray-600 py-2 px-3",children:f.selectedType||"Lowpass"}),g.jsx("td",{className:"border border-gray-600 py-2 px-3",children:Number.isFinite(Number(f.cutoff))?Number(f.cutoff).toFixed(2):"0.50"}),g.jsx("td",{className:"border border-gray-600 py-2 px-3",children:Number.isFinite(Number(f.resonance))?Number(f.resonance).toFixed(2):"0.30"})]})})]})]},m))}),g.jsx("div",{children:e.synthConfig.filters.map((f,m)=>{const d=Math.max(0,Math.min(1,Number(f.cutoff)||.5)),h=Math.max(0,Math.min(1,Number(f.resonance)||.3)),y=jF(d,"audio");return g.jsxs("div",{className:"text-center mb-8",children:[g.jsxs("div",{className:"font-medium text-gray-200 mb-4",children:["Filter Type: ",g.jsx("span",{className:"font-bold text-purple-400",children:f.selectedType||"Lowpass"})]}),g.jsxs("div",{className:"flex flex-row gap-8 justify-center mb-3",children:[g.jsx(Pb,{value:d,label:"Cutoff",size:80,min:0,max:1}),g.jsx(Pb,{value:h,label:"Resonance",size:80,min:0,max:1})]}),g.jsxs("div",{className:"text-gray-300 space-x-6 text-sm",children:[g.jsxs("span",{children:["Cutoff: ",g.jsxs("span",{className:"font-mono text-white",children:[y," Hz"]})]}),g.jsxs("span",{children:["Resonance: ",g.jsx("span",{className:"font-mono text-white",children:Number.isFinite(h)?h.toFixed(2):"0.00"})]})]})]},m)})})]})]}),g.jsxs("div",{className:"border-t border-gray-600 pt-8 mt-8",children:[g.jsx("h2",{className:"text-xl font-bold text-white mb-6 border-b border-gray-600 pb-2",children:"Main Envelopes"}),g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[g.jsxs("div",{children:[g.jsx("h3",{className:"font-semibold text-purple-300 mb-3 text-sm",children:" Filter Envelope (VCF)"}),g.jsxs("table",{className:"w-full border-collapse border border-gray-600 text-sm mb-4",children:[g.jsx("thead",{children:g.jsxs("tr",{children:[g.jsx("th",{className:"border border-gray-600 bg-gray-800 py-2 px-3 text-left font-semibold",children:"Attack"}),g.jsx("th",{className:"border border-gray-600 bg-gray-800 py-2 px-3 text-left font-semibold",children:"Decay"}),g.jsx("th",{className:"border border-gray-600 bg-gray-800 py-2 px-3 text-left font-semibold",children:"Sustain"}),g.jsx("th",{className:"border border-gray-600 bg-gray-800 py-2 px-3 text-left font-semibold",children:"Release"})]})}),g.jsx("tbody",{children:g.jsxs("tr",{children:[g.jsxs("td",{className:"border border-gray-600 py-2 px-3",children:[(e.adsrVCF.attack*1e3).toFixed(0),"ms"]}),g.jsxs("td",{className:"border border-gray-600 py-2 px-3",children:[(e.adsrVCF.decay*1e3).toFixed(0),"ms"]}),g.jsxs("td",{className:"border border-gray-600 py-2 px-3",children:[(e.adsrVCF.sustain*100).toFixed(0),"%"]}),g.jsxs("td",{className:"border border-gray-600 py-2 px-3",children:[(e.adsrVCF.release*1e3).toFixed(0),"ms"]})]})})]}),g.jsx("div",{className:"flex justify-center mt-4",children:g.jsx(Mv,{...e.adsrVCF,width:300,height:150})})]}),g.jsxs("div",{children:[g.jsx("h3",{className:"font-semibold text-purple-300 mb-3 text-sm",children:" Amplitude Envelope (VCA)"}),g.jsxs("table",{className:"w-full border-collapse border border-gray-600 text-sm mb-4",children:[g.jsx("thead",{children:g.jsxs("tr",{children:[g.jsx("th",{className:"border border-gray-600 bg-gray-800 py-2 px-3 text-left font-semibold",children:"Attack"}),g.jsx("th",{className:"border border-gray-600 bg-gray-800 py-2 px-3 text-left font-semibold",children:"Decay"}),g.jsx("th",{className:"border border-gray-600 bg-gray-800 py-2 px-3 text-left font-semibold",children:"Sustain"}),g.jsx("th",{className:"border border-gray-600 bg-gray-800 py-2 px-3 text-left font-semibold",children:"Release"})]})}),g.jsx("tbody",{children:g.jsxs("tr",{children:[g.jsxs("td",{className:"border border-gray-600 py-2 px-3",children:[(e.adsrVCA.attack*1e3).toFixed(0),"ms"]}),g.jsxs("td",{className:"border border-gray-600 py-2 px-3",children:[(e.adsrVCA.decay*1e3).toFixed(0),"ms"]}),g.jsxs("td",{className:"border border-gray-600 py-2 px-3",children:[(e.adsrVCA.sustain*100).toFixed(0),"%"]}),g.jsxs("td",{className:"border border-gray-600 py-2 px-3",children:[(e.adsrVCA.release*1e3).toFixed(0),"ms"]})]})})]}),g.jsx("div",{className:"flex justify-center mt-4",children:g.jsx(Mv,{...e.adsrVCA,width:300,height:150})})]})]})]}),g.jsx("div",{className:"prose prose-invert max-w-none prose-headings:text-white prose-h2:text-xl prose-h2:font-bold prose-h2:mt-8 prose-h2:mb-4 prose-h2:border-b prose-h2:border-gray-600 prose-h2:pb-2 prose-h3:text-lg prose-h3:font-semibold prose-h3:mt-6 prose-h3:mb-3 prose-h3:text-purple-300 prose-table:text-sm prose-td:py-2 prose-td:px-3 prose-th:py-2 prose-th:px-3 prose-li:my-2",children:g.jsx(G1,{remarkPlugins:[hT],components:{h2:({children:f,...m})=>g.jsx("h2",{...m,className:"text-xl font-bold text-white mt-8 mb-4 border-b border-gray-600 pb-2 first:mt-0",children:f}),h3:({children:f,...m})=>g.jsx("h3",{...m,className:"text-lg font-semibold text-purple-300 mt-6 mb-3",children:f}),p:({children:f,...m})=>g.jsx("p",{...m,className:"mb-4 leading-relaxed",children:f}),ul:({children:f,...m})=>g.jsx("ul",{...m,className:"space-y-2 mb-4",children:f}),li:({children:f,...m})=>g.jsx("li",{...m,className:"my-2",children:f}),table:({children:f,...m})=>g.jsx("div",{className:"overflow-x-auto my-6",children:g.jsx("table",{...m,className:"w-full border-collapse border border-gray-600 text-sm",children:f})}),th:({children:f,...m})=>g.jsx("th",{...m,className:"border border-gray-600 bg-gray-800 py-2 px-3 text-left font-semibold",children:f}),td:({children:f,...m})=>g.jsx("td",{...m,className:"border border-gray-600 py-2 px-3",children:f})},children:o})})]})]})},HF=({library:e,onClose:t,onLoadEntry:n,onDeleteEntry:r,onCreateNew:o})=>{const[l,u]=ne.useState(""),f=e.filter(m=>m.title.toLowerCase().includes(l.toLowerCase())||m.genre.join(", ").toLowerCase().includes(l.toLowerCase())).sort((m,d)=>new Date(d.createdAt).getTime()-new Date(m.createdAt).getTime());return g.jsx("div",{className:"fixed inset-0 bg-gray-900/80 backdrop-blur-sm flex items-center justify-center p-4 z-50 transition-opacity duration-300 ease-in-out",onClick:t,role:"dialog","aria-modal":"true","aria-labelledby":"library-modal-title",children:g.jsxs(Xe,{className:"w-full max-w-2xl bg-gray-800 shadow-2xl border border-gray-700 max-h-[90vh] flex flex-col",onClick:m=>m.stopPropagation(),children:[g.jsxs("div",{className:"flex justify-between items-center px-6 py-4 border-b border-gray-700",children:[g.jsxs("h2",{id:"library-modal-title",className:"text-2xl font-semibold text-purple-300 flex items-center",children:[g.jsx(Wd,{className:"w-7 h-7 mr-3 text-purple-400"}),"TrackGuide Library"]}),g.jsx(Fe,{onClick:t,variant:"secondary",size:"sm",className:"p-2 -mr-2","aria-label":"Close Library",children:g.jsx(l1,{className:"w-5 h-5"})})]}),g.jsx("div",{className:"px-6 py-4",children:g.jsx(xn,{type:"search",placeholder:"Search by title or genre...",value:l,onChange:m=>u(m.target.value),className:"mb-4 bg-gray-700 border-gray-600 placeholder-gray-500","aria-label":"Search library"})}),g.jsx("div",{className:"flex-grow overflow-y-auto px-6 pb-6 space-y-3 custom-scrollbar pr-3",children:f.length===0?g.jsx("p",{className:"text-gray-400 text-center py-8",children:l?`No entries found for "${l}".`:"Your library is empty. Create some TrackGuides!"}):f.map(m=>g.jsx("div",{className:"p-4 bg-gray-700/60 rounded-lg hover:bg-gray-600/50 transition-colors shadow-md border border-gray-600/50",children:g.jsxs("div",{className:"flex justify-between items-start",children:[g.jsxs("div",{className:"flex-grow min-w-0",children:[g.jsx("h4",{className:"font-semibold text-purple-300 truncate text-lg",title:m.title,children:m.title}),g.jsx("p",{className:"text-sm text-gray-400 truncate",title:Array.isArray(m.genre)?m.genre.join(", "):m.genre,children:Array.isArray(m.genre)?m.genre.join(", "):m.genre}),g.jsxs("p",{className:"text-xs text-gray-500",children:["Created: ",new Date(m.createdAt).toLocaleDateString(),m.generatedMidiPatterns&&g.jsx(s1,{className:"w-3 h-3 text-green-400 inline-block ml-2",title:"MIDI available"})]})]}),g.jsxs("div",{className:"flex flex-col sm:flex-row space-y-2 sm:space-y-0 sm:space-x-2 items-end shrink-0 ml-3 mt-1 sm:mt-0",children:[g.jsx(Fe,{onClick:()=>n(m),size:"sm",variant:"outline",className:"text-xs px-3 py-1.5 w-full sm:w-auto",leftIcon:g.jsx(Wd,{className:"w-4 h-4"}),children:"Load"}),g.jsx(Fe,{onClick:()=>r(m.id),size:"sm",variant:"danger",className:"text-xs px-3 py-1.5 w-full sm:w-auto",leftIcon:g.jsx(Dk,{className:"w-4 h-4"})})]})]})},m.id))}),g.jsx("div",{className:"px-6 py-4 border-t border-gray-700",children:g.jsx(Fe,{onClick:o,variant:"primary",className:"w-full",leftIcon:g.jsx(Qd,{}),children:"Create New TrackGuide"})})]})})},uu=({className:e="w-4 h-4"})=>g.jsx("div",{className:`${e} bg-orange-500 transform rotate-45 flex items-center justify-center`,children:g.jsx("div",{className:"w-1/2 h-1/2 bg-white transform -rotate-45"})}),Bb={songTitle:"",genre:[],artistReference:"",referenceTrackLink:"",lyrics:"",key:"",scale:"",chords:"",generalNotes:"",vibe:[],daw:"",plugins:"",availableInstruments:""},Fb={audioFile:null,userNotes:"",trackName:""},Ji=100,cu=Ji*1024*1024,Ob=e=>{const t=[/Tempo.*?(\d+)\s*(?:-|to)\s*(\d+)\s*BPM/i,/BPM.*?(\d+)\s*(?:-|to)\s*(\d+)/i,/(\d+)\s*(?:-|to)\s*(\d+)\s*BPM/i,/Tempo.*?(\d+)\s*BPM/i,/BPM.*?(\d+)/i,/(\d+)\s*BPM/i];for(const n of t){const r=e.match(n);if(r){if(r[2])return Math.round((parseInt(r[1],10)+parseInt(r[2],10))/2);if(r[1])return parseInt(r[1],10)}}return null},jb=e=>{const t=[/Suggested Key\(s\) \/ Scale\(s\):\s*([^(\n]+)/i,/Key.*?:\s*([A-G][#b]?\s*(?:Major|Minor|major|minor))/i,/([A-G][#b]?\s*(?:Major|Minor|major|minor))/i];for(const n of t){const r=e.match(n);if(r&&r[1]){const o=r[1].split(/,|\/| or /).map(u=>u.trim().replace(/\.$/,""));for(const u of o){const f=u.includes(" Minor")||u.includes(" minor")?u.replace(/minor/i,"Minor"):u.replace(/major/i,"Major").replace(/Major$/,"").trim()+" Major";if(os.includes(u)||os.includes(f))return os.includes(u)?u:f}const l=o[0];if(l){for(const u of os)if(l.toLowerCase().startsWith(u.split(" ")[0].toLowerCase())){if(l.toLowerCase().includes("minor")){if(u.includes("Minor"))return u}else if(u.includes("Major"))return u}return l}}}return null},zb=e=>{const t=[/Chord Progression\(s\)?\s*(?:\([^)]+\))?:\s*([^\n]+)/i,/Progression\(s\)?:\s*([^\n]+)/i,/Chords?:\s*([ivclxmdIVCLXMDab#dimaug\d\/sus-][^\n]*)/i,/([ivclxmdIVCLXMD]+(?:\s*-\s*[ivclxmdIVCLXMD]+){2,})/i];for(const n of t){const r=e.match(n);if(r&&r[1]){const l=r[1].match(/([ivclxmdIVCLXMDab#dimaug\d\/sus-]+(?:\s*-\s*[ivclxmdIVCLXMDab#dimaug\d\/sus-]+)*)/);if(l&&l[1]){let u=l[1].trim();u.endsWith(".")&&(u=u.slice(0,-1));const f=[", ",". ","; "];for(const m of f)if(u.includes(m)){u=u.split(m)[0].trim();break}return u}}}return null},Hb=(e,t)=>{const n=e.match(t);if(!n||typeof n.index>"u")return"";const r=n.index,o=e.substring(r+n[0].length).match(/^##\s+/m),l=o&&typeof o.index<"u"?r+n[0].length+o.index:e.length;return e.substring(r,l).trim()},UF=e=>{if(!e)return"";let t="";return t+=Hb(e,/^##\s*1\.\s*Song Overview/im)+`

`,t+=Hb(e,/^##\s*4\.\s*Harmony, Melody & Rhythmic Core/im),t.trim()||"General musical context not fully parsed. Focus on genre and vibe."},Ub=e=>{const t=e.match(/^\s*-\s*\*\*Suggested Title:\*\*\s*(.*)/im);return t&&t[1]?t[1].trim().replace(/\*\*([^*]+)\*\*/g,"$1").replace(/\*([^*]+)\*/g,"$1"):null},GF=()=>{var Yr;const[e,t]=ne.useState("landing"),[n,r]=ne.useState(Bb),[o,l]=ne.useState(""),[u,f]=ne.useState(""),[m,d]=ne.useState(""),[h,y]=ne.useState(!1),[T,S]=ne.useState(""),[w,A]=ne.useState(null),[_,k]=ne.useState(null),[V,I]=ne.useState([]),[B,U]=ne.useState(null),[z,ie]=ne.useState(!1),[se,ge]=ne.useState(""),[H,ue]=ne.useState(!1),[fe,he]=ne.useState(!0),[le,Z]=ne.useState(Fb),[$,F]=ne.useState(null),[N,R]=ne.useState(""),[C,P]=ne.useState(!1),[G,E]=ne.useState(null),[ee,O]=ne.useState("single"),[J,ye]=ne.useState({mixA:null,mixB:null,userNotes:"",includeMixBFeedback:!1}),[pe,be]=ne.useState(null),[_e,Ie]=ne.useState(""),[Ge,Le]=ne.useState(!1),[Me,tt]=ne.useState(null),nt=ne.useRef(null),[xt,Ur]=ne.useState(""),[ur,Mi]=ne.useState(""),ii=ne.useRef(null),Gr=ne.useRef(null);ne.useEffect(()=>{try{const xe=localStorage.getItem(Tx);if(xe){const qe=JSON.parse(xe).map(je=>({...je,genre:Array.isArray(je.genre)?je.genre:je.genre?[je.genre]:[],vibe:Array.isArray(je.vibe)?je.vibe:je.vibe?[je.vibe]:[],scale:je.scale||"",midiSettings:je.midiSettings||void 0,generatedMidiPatterns:je.generatedMidiPatterns||void 0}));I(qe)}}catch(xe){console.error("Failed to load library from local storage:",xe),I([])}const Q=localStorage.getItem(Qo),de=localStorage.getItem(Jl);r(xe=>({...xe,daw:Q||xe.daw||"",plugins:de||xe.plugins||""}))},[]),ne.useEffect(()=>{try{localStorage.setItem(Tx,JSON.stringify(V))}catch(Q){console.error("Failed to save library to local storage:",Q)}},[V]),ne.useEffect(()=>{e!=="remixGuide"&&Ur(""),e!=="patchGuide"&&Mi("")},[e]);const It=Q=>{const{name:de,value:xe}=Q.target;de==="currentGenreText"?l(xe):de==="currentVibeText"?f(xe):(r(Ne=>({...Ne,[de]:xe})),de==="daw"?localStorage.setItem(Qo,xe):de==="plugins"&&localStorage.setItem(Jl,xe))},cr=Q=>{var xe,Ne;const de=Q==="genre"?o.trim():u.trim();de&&!n[Q].includes(de)&&r(qe=>({...qe,[Q]:[...qe[Q],de]})),Q==="genre"?(l(""),(xe=ii.current)==null||xe.focus()):(f(""),(Ne=Gr.current)==null||Ne.focus())},qr=(Q,de)=>{Q.key==="Enter"&&(Q.preventDefault(),cr(de))},te=(Q,de)=>{r(xe=>{const qe=xe[Q].filter(je=>je!==de);return{...xe,[Q]:qe}})},ce=Q=>{r(de=>({...de,daw:Q})),localStorage.setItem(Qo,Q)},Se=Q=>{const de=Q.match(/^#\s*TRACKGUIDE:\s*"?([^"\n]+)"?/im);return de&&de[1]?de[1].trim():null},Ce=()=>{const Q=localStorage.getItem(Qo)||"",de=localStorage.getItem(Jl)||"";r({...Bb,songTitle:"",daw:Q,plugins:de}),l(""),f(""),d(""),U(null),A(null),k(null),ge(""),Hn(),ie(!1)},We=async Q=>{var qe;Q.preventDefault(),y(!0),A(null),k(null),d(""),U(null),ge(""),Hn(),window.scrollTo({top:0,behavior:"smooth"}),n.daw&&localStorage.setItem(Qo,n.daw),n.plugins&&localStorage.setItem(Jl,n.plugins);let de="",xe,Ne;try{S("TrackGuide is generating...");const je=await vk(n);for await(const Jt of je)de+=Jt.text,d(oi=>oi+Jt.text);S("Initial MIDI patterns are generating...");const Pn=Se(de),Ja=(qe=n.songTitle)!=null&&qe.trim()?n.songTitle.trim():Pn||`TrackGuide for ${n.genre.join(", ")||"Unknown Genre"}`,$u=Date.now().toString(),Yu=new Date().toISOString(),Os=Ob(de),dr=jb(de),Za=zb(de),Bn=n.genre[0]||Je.genre,ri=Wn[Bn]||Wn.Default,mr=Math.round((ri[0]+ri[1])/2),wi=(Rn[Bn]||Rn.Default)[0],Ct=UF(de),js=Je.songSection;let eo=8;const ai=Bn.toLowerCase();["lo-fi hip hop","lofi hip hop","lofi","trap","ambient","idm","breakcore","footwork","juke","experimental"].some(Jt=>ai.includes(Jt))&&(eo=4);const Ku=["chords","bassline","melody","drums"];Ne={key:dr||Je.key,tempo:Os||mr,timeSignature:Je.timeSignature,chordProgression:Za||wi,genre:Bn,bars:eo,targetInstruments:Ku,guidebookContext:Ct,songSection:js};try{const Jt=await xs(Ne);let oi="";for await(const Zt of Jt)oi+=Zt.text;let to=oi.trim();const Kr=/^```(\w*)?\s*\n?(.*?)\n?\s*```$/s,Ai=to.match(Kr);if(Ai&&Ai[2]&&(to=Ai[2].trim()),xe=JSON.parse(to),xe.drums){const Zt={};for(const Xr in xe.drums)Zt[Xr.toLowerCase().replace(/\s+/g,"_")]=xe.drums[Xr];xe.drums=Zt}k(null)}catch(Jt){console.error("Initial MIDI generation failed:",Jt);const oi=Jt.message.toLowerCase().includes("json")?`AI returned invalid JSON for MIDI patterns during initial generation. (${Jt.message})`:`Initial MIDI generation failed: ${Jt.message}.`;k(oi+" You can try generating MIDI manually in the MIDI tools section."),xe=void 0}U({id:$u,title:Ja,genre:n.genre,artistReference:n.artistReference,referenceTrackLink:n.referenceTrackLink,lyrics:n.lyrics,key:n.key,chords:n.chords,generalNotes:n.generalNotes,vibe:n.vibe,daw:n.daw,plugins:n.plugins,availableInstruments:n.availableInstruments||"",content:de,createdAt:Yu,midiSettings:Ne,generatedMidiPatterns:xe})}catch(je){A(je.message||"An unexpected error occurred while generating TrackGuide."),U(null),d("")}finally{y(!1),S("")}},$t=()=>{if(!B)return;const Q={...B};I(de=>{const xe=de.findIndex(Ne=>Ne.id===Q.id);if(xe>-1){const Ne=[...de];return Ne[xe]=Q,Ne}return[Q,...de]})},Vn=(Q,de)=>{U(xe=>xe?{...xe,midiSettings:Q,generatedMidiPatterns:de}:null)},Ft=Q=>{r({songTitle:Q.title,genre:Array.isArray(Q.genre)?Q.genre:Q.genre?[String(Q.genre)]:[],artistReference:Q.artistReference,referenceTrackLink:Q.referenceTrackLink||"",lyrics:Q.lyrics||"",key:Q.key||"",chords:Q.chords||"",generalNotes:Q.generalNotes||"",vibe:Array.isArray(Q.vibe)?Q.vibe:Q.vibe?[String(Q.vibe)]:[],daw:Q.daw,plugins:Q.plugins,availableInstruments:Q.availableInstruments||""}),l(""),f(""),d(Q.content),U(Q),A(null),k(null),ge(""),Hn(),ie(!1),t("trackGuide"),window.scrollTo({top:0,behavior:"smooth"})},bn=Q=>{I(de=>de.filter(xe=>xe.id!==Q)),B&&B.id===Q&&(d(""),U(null),Hn())},Ot=({selections:Q,onRemove:de})=>g.jsx("div",{className:"flex flex-wrap gap-2 mt-2 mb-2 min-h-[2.25rem]",children:Q.map(xe=>g.jsxs("span",{className:"flex items-center px-3 py-1 bg-orange-600 text-white text-xs font-medium rounded-full shadow-md hover:bg-orange-700 transition-colors",children:[xe,g.jsx("button",{type:"button",onClick:()=>de(xe),className:"ml-1.5 -mr-0.5 p-0.5 text-orange-200 hover:text-white rounded-full focus:outline-none focus:bg-orange-800 transition-colors","aria-label":`Remove ${xe}`,children:g.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-3 w-3",viewBox:"0 0 20 20",fill:"currentColor",children:g.jsx("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})})})]},xe))}),St=Q=>{var xe;const de=(xe=Q.target.files)==null?void 0:xe[0];if(de){if(de.size>cu){E(`File is too large. Maximum size is ${Ji}MB.`),Z(Ne=>({...Ne,audioFile:null})),nt.current&&(nt.current.value="");return}if(!de.type.startsWith("audio/")){E("Invalid file type. Please upload an audio file (e.g., MP3, WAV)."),Z(Ne=>({...Ne,audioFile:null})),nt.current&&(nt.current.value="");return}Z(Ne=>({...Ne,audioFile:de})),E(null)}},Wt=Q=>{Z(de=>({...de,userNotes:Q.target.value}))},Qt=Q=>{let de=Q.trim();const xe=de.match(/(^|\n)(##? ||Audio Analysis Results)/);return xe&&xe.index!==void 0&&(de=de.slice(xe.index).trim()),de},Bs=async Q=>{if(Q.preventDefault(),!le.audioFile){E("Please upload an audio file for feedback.");return}P(!0),window.scrollTo({top:0,behavior:"smooth"}),F(null),R(""),E(null);try{let de="";const xe=wk(le);for await(const qe of xe)qe.text&&(de+=qe.text,R(de));const Ne=Qt(de);F(Ne),R("")}catch(de){E(de.message||"An unknown error occurred while generating mix feedback."),R("")}finally{P(!1)}},Fs=()=>{Z(Fb),F(null),E(null),nt.current&&(nt.current.value="")},$r=Q=>new Promise((de,xe)=>{const Ne=new FileReader;Ne.readAsDataURL(Q),Ne.onload=()=>{const je=Ne.result.split(",")[1];de(je)},Ne.onerror=qe=>xe(qe)}),fr=async()=>{if(!J.mixA||!J.mixB){tt("Please upload both Mix A and Mix B files.");return}Le(!0),window.scrollTo({top:0,behavior:"smooth"}),be(null),Ie(""),tt(null);try{const Q=await $r(J.mixA),de=await $r(J.mixB),xe={mixAFile:Q,mixBFile:de,mixAName:J.mixA.name,mixBName:J.mixB.name,includeMixBFeedback:J.includeMixBFeedback,userNotes:J.userNotes};let Ne="";const qe=Ak(xe);for await(const Pn of qe)Pn.text&&(Ne+=Pn.text,Ie(Ne));const je=Qt(Ne);be(je),Ie("")}catch(Q){tt(Q.message||"An unknown error occurred while comparing mixes."),Ie("")}finally{Le(!1)}},qu=()=>{ye({mixA:null,mixB:null,userNotes:"",includeMixBFeedback:!1}),be(null),tt(null)};let un;const Qa=(Yr=n.songTitle)==null?void 0:Yr.trim();if(Qa)un=`TrackGuide: ${Qa}`;else if(B!=null&&B.title){const Q=B.title;if(Q.startsWith("TrackGuide for ")){const de=Se(B.content);de?un=`TrackGuide: ${de}`:un=Q}else un=`TrackGuide: ${Q}`}else if(h&&e==="trackGuide"){const Q=Ub(m);Q?un=`TrackGuide: ${Q}`:un="TrackGuide is generating..."}else if(m){const Q=Ub(m);Q?un=`TrackGuide: ${Q}`:un="Generated TrackGuide"}else un="TrackGuide";return e==="landing"?g.jsx(Bk,{onGetStarted:()=>{t("trackGuide"),setTimeout(()=>window.scrollTo({top:0,behavior:"smooth"}),100)}}):g.jsxs("div",{className:"min-h-screen bg-[#1A1A1A] text-gray-100 p-4 md:p-6 lg:p-8 relative overflow-hidden",children:[g.jsx("div",{className:"absolute inset-0 opacity-20 pointer-events-none",children:g.jsx("div",{className:"absolute inset-0 pointer-events-none",style:{backgroundImage:"radial-gradient(circle at 2px 2px, #FF5722 1px, transparent 0)",backgroundSize:"40px 40px"}})}),g.jsxs("div",{className:"absolute top-10 right-10 w-32 h-32 opacity-10 pointer-events-none",children:[g.jsx("div",{className:"w-full h-full border-2 border-orange-500 transform rotate-12 pointer-events-none"}),g.jsx("div",{className:"absolute top-2 right-2 w-28 h-28 bg-orange-500 transform rotate-12 pointer-events-none"})]}),g.jsxs("header",{className:"text-center mb-6 relative z-10",children:[g.jsxs("div",{className:"flex items-center justify-center space-x-3 mb-4",children:[g.jsx("div",{className:"w-8 h-8 bg-orange-500 transform rotate-45 flex items-center justify-center",children:g.jsx("div",{className:"w-4 h-4 bg-white transform -rotate-45"})}),g.jsxs("div",{children:[g.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-white",children:bx}),g.jsx("p",{className:"text-gray-400 text-lg",children:"Your Smartest Studio Assistant"})]})]}),g.jsx("button",{onClick:()=>t("landing"),className:"mt-2 text-sm text-orange-500 hover:text-orange-400 transition-colors font-medium",children:" Back to Landing"})]}),g.jsxs("nav",{className:"mb-8 flex flex-col justify-center items-center md:flex-row md:justify-center gap-2 border-b border-orange-500/20 pb-3 relative z-10",children:[g.jsx(Fe,{size:"sm",className:`w-full md:w-auto px-3 py-2 text-xs md:text-sm rounded-md transition-all duration-150 ease-in-out ${e==="trackGuide"?"bg-orange-500 shadow-lg hover:bg-orange-600":"bg-gray-700/80 hover:bg-gray-600/80 border border-gray-600"}`,onClick:()=>t("trackGuide"),variant:e==="trackGuide"?"primary":"secondary",leftIcon:g.jsx(uu,{className:"w-4 h-4"}),children:"TrackGuide AI"}),g.jsx(Fe,{size:"sm",className:`w-full md:w-auto px-3 py-2 text-xs md:text-sm rounded-md transition-all duration-150 ease-in-out ${e==="mixFeedback"?"bg-orange-500 shadow-lg hover:bg-orange-600":"bg-gray-700/80 hover:bg-gray-600/80 border border-gray-600"}`,onClick:()=>t("mixFeedback"),variant:e==="mixFeedback"?"primary":"secondary",leftIcon:g.jsx("span",{className:"w-4 h-4 text-center",children:""}),children:"Mix Feedback AI"}),g.jsx(Fe,{size:"sm",className:`w-full md:w-auto px-3 py-2 text-xs md:text-sm rounded-md transition-all duration-150 ease-in-out ${e==="remixGuide"?"bg-orange-500 shadow-lg hover:bg-orange-600":"bg-gray-700/80 hover:bg-gray-600/80 border border-gray-600"}`,onClick:()=>t("remixGuide"),variant:e==="remixGuide"?"primary":"secondary",leftIcon:g.jsx("span",{className:"w-4 h-4 text-center",children:""}),children:"RemixGuide AI"}),g.jsx(Fe,{size:"sm",className:`w-full md:w-auto px-3 py-2 text-xs md:text-sm rounded-md transition-all duration-150 ease-in-out ${e==="patchGuide"?"bg-orange-500 shadow-lg hover:bg-orange-600":"bg-gray-700/80 hover:bg-gray-600/80 border border-gray-600"}`,onClick:()=>t("patchGuide"),variant:e==="patchGuide"?"primary":"secondary",leftIcon:g.jsx("span",{className:"w-4 h-4 text-center",children:""}),children:"PatchGuide AI"}),g.jsx(Fe,{size:"sm",className:`w-full md:w-auto px-3 py-2 text-xs md:text-sm rounded-md transition-all duration-150 ease-in-out ${e==="eqGuide"?"bg-orange-500 shadow-lg hover:bg-orange-600":"bg-gray-700/80 hover:bg-gray-600/80 border border-gray-600"}`,onClick:()=>t("eqGuide"),variant:e==="eqGuide"?"primary":"secondary",leftIcon:g.jsx(ld,{className:"w-4 h-4"}),children:"EQ Guide"})]}),e==="trackGuide"&&g.jsxs("div",{className:"max-w-full mx-auto grid grid-cols-1 lg:grid-cols-7 gap-6 px-4",children:[g.jsxs(Xe,{title:"Blueprint Your Sound",className:"lg:col-span-2 bg-gray-800/80 backdrop-blur-md shadow-xl border border-gray-700/50",children:[g.jsx("p",{className:"text-sm text-gray-400 mb-4",children:"Describe your visioneverything's optional."}),g.jsxs("form",{onSubmit:We,className:"space-y-3",children:[g.jsx("div",{children:g.jsx(xn,{label:"Song Title / Project Name",name:"songTitle",value:n.songTitle||"",onChange:It,placeholder:"AI will suggest one if left blank"})}),g.jsx("div",{children:g.jsx(xn,{label:"Artist References",name:"artistReference",value:n.artistReference,onChange:It,placeholder:"e.g., Daft Punk"})}),g.jsx("div",{children:g.jsx(xn,{label:"Song Reference",name:"referenceTrackLink",value:n.referenceTrackLink||"",onChange:It,placeholder:"e.g., YouTube, Spotify, SoundCloud link"})}),g.jsxs("div",{className:"space-y-2",children:[g.jsxs("div",{children:[g.jsx("label",{htmlFor:"genre-input",className:"block text-sm font-medium text-gray-300 mb-1.5",children:"Genre(s)"}),g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx(xn,{ref:ii,id:"genre-input",name:"currentGenreText",value:o,onChange:It,onKeyDown:Q=>qr(Q,"genre"),placeholder:"Type custom genre...",list:"genre-suggestions",className:"flex-grow"}),g.jsx(Fe,{type:"button",onClick:()=>cr("genre"),size:"sm",variant:"secondary","aria-label":"Add Genre",className:"px-3",children:g.jsx(Qd,{className:"w-4 h-4"})})]}),g.jsx("datalist",{id:"genre-suggestions",children:r1.map(Q=>g.jsx("option",{value:Q},Q))}),g.jsx(Ot,{selections:n.genre,onRemove:Q=>te("genre",Q)})]}),g.jsxs("div",{children:[g.jsx("label",{htmlFor:"vibe-input",className:"block text-sm font-medium text-gray-300 mb-1.5",children:"Vibe / Mood"}),g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx(xn,{ref:Gr,id:"vibe-input",name:"currentVibeText",value:u,onChange:It,onKeyDown:Q=>qr(Q,"vibe"),placeholder:"Type custom vibe...",list:"vibe-suggestions",className:"flex-grow"}),g.jsx(Fe,{type:"button",onClick:()=>cr("vibe"),size:"sm",variant:"secondary","aria-label":"Add Vibe",className:"px-3",children:g.jsx(Qd,{className:"w-4 h-4"})})]}),g.jsx("datalist",{id:"vibe-suggestions",children:mk.map(Q=>g.jsx("option",{value:Q},Q))}),g.jsx(Ot,{selections:n.vibe,onRemove:Q=>te("vibe",Q)})]})]}),g.jsxs("div",{children:[g.jsx(xn,{label:"Preferred DAW",name:"daw",value:n.daw,onChange:It,placeholder:"Type or select DAW...",list:"daw-suggestions"}),g.jsx("datalist",{id:"daw-suggestions",children:Sx.map(Q=>g.jsx("option",{value:Q},Q))}),g.jsx("div",{className:"flex flex-wrap gap-2 mt-2 mb-1",children:Sx.slice(0,5).map(Q=>g.jsx("button",{type:"button",onClick:()=>ce(Q),className:`px-3 py-1 text-xs rounded-full transition-all duration-150 ease-in-out shadow-sm hover:shadow-md ${n.daw===Q?"bg-orange-600 text-white ring-2 ring-orange-400 ring-offset-2 ring-offset-gray-800":"bg-gray-700 hover:bg-gray-600 text-gray-300 hover:text-gray-100"}`,children:Q},Q))})]}),g.jsx("div",{children:g.jsx(Ia,{label:"Available Plugins",name:"plugins",value:n.plugins,onChange:It,placeholder:"e.g., Serum, Valhalla Reverbs, Arturia V Collection, or 'stock only'",rows:2})}),g.jsx("div",{children:g.jsx(Ia,{label:"Available Instruments",name:"availableInstruments",value:n.availableInstruments||"",onChange:It,placeholder:"e.g., Electric Guitar, Moog Subsequent 37, Roland TR-808, Vocals",rows:2})}),g.jsxs("div",{className:"border-t border-gray-600 pt-4",children:[g.jsx(Fe,{type:"button",onClick:()=>ue(!H),variant:"outline",className:"mb-4 w-8 h-8 p-0 flex items-center justify-center",title:H?"Hide Advanced Input":"Show Advanced Input",children:g.jsx("span",{className:`text-lg transition-transform ${H?"rotate-45":""}`,children:"+"})}),H&&g.jsxs("div",{className:"space-y-4 p-4 bg-gray-700/30 rounded-lg border border-gray-600/50",children:[g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[g.jsx("div",{children:g.jsx(xn,{label:"Key",name:"key",value:n.key||"",onChange:It,placeholder:"e.g., C Major"})}),g.jsx("div",{children:g.jsx(xn,{label:"Scale/Mode",name:"scale",value:n.scale||"",onChange:It,placeholder:"e.g., Dorian, Mixolydian"})})]}),g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[g.jsx("div",{children:g.jsx(xn,{label:"Chords",name:"chords",value:n.chords||"",onChange:It,placeholder:"e.g., Am - F - C - G"})}),g.jsx("div",{children:g.jsx(Ia,{label:"Lyrics",name:"lyrics",value:n.lyrics||"",onChange:It,placeholder:"Paste your lyrics here if you have any...",rows:2})})]}),g.jsx("div",{children:g.jsx(Ia,{label:"General Notes for AI",name:"generalNotes",value:n.generalNotes||"",onChange:It,placeholder:"Any specific instructions, style notes, or creative direction for the AI to consider...",rows:3})})]})]}),g.jsx(Fe,{type:"submit",disabled:h,className:"w-full text-base py-2.5",leftIcon:g.jsx(uu,{className:"w-5 h-5"}),children:h?T||"Generating...":"Generate TrackGuide"}),g.jsxs("div",{className:"flex space-x-2 mt-3",children:[g.jsx(Fe,{type:"button",onClick:()=>ie(!0),variant:"secondary",className:"flex-1",leftIcon:g.jsx(Wd,{className:"w-4 h-4"}),children:"View Library"}),g.jsx(Fe,{type:"button",onClick:Ce,variant:"outline",className:"flex-1",children:"Clear Form"})]})]})]}),g.jsxs("div",{className:"lg:col-span-5 space-y-6",children:[w&&!h&&g.jsxs(Xe,{className:"border-red-500 bg-red-900/40 shadow-xl",children:[g.jsx("p",{className:"text-red-300 font-semibold text-lg",children:"TrackGuide Error:"}),g.jsx("p",{className:"text-red-300",children:w})]}),_&&!T.toLowerCase().includes("midi")&&!w&&g.jsxs(Xe,{className:"border-yellow-500 bg-yellow-900/40 shadow-xl",children:[g.jsx("p",{className:"text-yellow-300 font-semibold text-lg",children:"MIDI Generation Note:"}),g.jsx("p",{className:"text-yellow-300",children:_})]}),(m||h&&T.includes("TrackGuide is generating"))&&!w&&g.jsxs(Xe,{title:un,className:"bg-gray-800/80 backdrop-blur-md shadow-xl border border-gray-700/50 sticky top-8",titleClassName:"border-b border-gray-700 text-xl",children:[B&&!h&&g.jsxs("div",{className:"flex flex-wrap gap-3 mb-5 pb-4 border-b border-gray-700 items-center",children:[g.jsx(Fe,{onClick:$t,variant:"secondary",leftIcon:g.jsx(Ek,{}),children:"Save to Library"}),g.jsx("div",{className:"flex-grow"}),g.jsx(Fe,{onClick:Ce,variant:"outline",size:"sm",className:"!border-gray-500 !text-gray-400 hover:!bg-gray-600 hover:!text-white",leftIcon:g.jsx(l1,{}),children:"Close"}),se&&g.jsx("span",{className:`ml-3 text-sm ${se.includes("Failed")||se.includes("not supported")?"text-red-400":"text-green-400"}`,children:se})]}),g.jsxs("div",{id:"guidebook-content-display",className:"prose prose-sm md:prose-base prose-invert max-w-none max-h-[calc(100vh-6rem)] overflow-y-auto pr-3 text-gray-300 custom-scrollbar guidebook-content",children:[B&&!h&&g.jsxs("div",{className:"mb-6 p-4 bg-gray-700/50 rounded-lg text-sm shadow-inner border border-gray-600/50 guidebook-section-break",children:[g.jsx("strong",{className:"text-orange-300 block mb-2 text-base",children:"TrackGuide Snapshot:"}),g.jsxs("p",{children:[g.jsx("strong",{children:"Project Title:"})," ",B.title]}),g.jsxs("p",{children:[g.jsx("strong",{children:"Genre(s):"})," ",Array.isArray(B.genre)?B.genre.join(", "):B.genre]}),g.jsxs("p",{children:[g.jsx("strong",{children:"Artist/Song Ref:"})," ",B.artistReference||"N/A"]}),g.jsxs("p",{children:[g.jsx("strong",{children:"Vibe(s):"})," ",Array.isArray(B.vibe)?B.vibe.join(", "):B.vibe]}),g.jsxs("p",{children:[g.jsx("strong",{children:"DAW:"})," ",B.daw]}),g.jsxs("p",{children:[g.jsx("strong",{children:"Plugins:"})," ",B.plugins||"N/A"]}),g.jsxs("p",{children:[g.jsx("strong",{children:"Instruments:"})," ",B.availableInstruments||"N/A"]}),B.generatedMidiPatterns&&g.jsxs("p",{className:"mt-1 text-green-400",children:[g.jsx(s1,{className:"w-4 h-4 inline mr-1"})," Initial MIDI patterns generated."]})]}),g.jsx(Pr,{content:m}),h&&T.includes("TrackGuide is generating")&&g.jsx(Jn,{size:"sm",text:"Generating TrackGuide..."})]})]}),h&&!w&&T&&!T.includes("TrackGuide is generating")&&g.jsx("div",{className:"flex justify-center py-10",children:g.jsx(Jn,{size:"lg",text:T||"Processing..."})}),B&&!h&&m&&!w&&g.jsx(vT,{currentGuidebookEntry:B,mainAppInputs:n,onUpdateGuidebookEntryMidi:Vn,parsedGuidebookBpm:Ob(B.content),parsedGuidebookKey:jb(B.content),parsedGuidebookChordProg:zb(B.content)}),!h&&!m&&!w&&!B&&g.jsxs(Xe,{className:"bg-gray-800/80 backdrop-blur-md shadow-xl border border-gray-700/50 flex flex-col items-center justify-center h-96 text-center min-h-[500px]",children:[g.jsx("div",{className:"flex justify-center mb-6",children:g.jsx(uu,{className:"w-20 h-20 opacity-80 text-orange-500"})}),g.jsx("h3",{className:"text-2xl font-semibold text-gray-200 mb-2",children:"Produce Smarter. Create More."}),g.jsx("p",{className:"text-gray-400 max-w-md mx-auto",children:"Tell us what youre envisioningTrackGuide AI will generate a custom production guide and MIDI foundation."})]})]})]}),e==="mixFeedback"&&g.jsxs("div",{className:"max-w-7xl mx-auto grid grid-cols-1 md:grid-cols-12 gap-8",children:[g.jsxs("div",{className:"md:col-span-3 space-y-6",children:[g.jsxs("div",{className:"flex bg-gray-800/80 backdrop-blur-md shadow-xl border border-gray-700/50 rounded-lg overflow-hidden",children:[g.jsx("button",{onClick:()=>O("single"),className:`flex-1 px-4 py-3 text-sm font-medium transition-all ${ee==="single"?"bg-orange-500 text-white":"bg-gray-700/50 text-gray-300 hover:bg-gray-600/50"}`,children:" Mix Analysis"}),g.jsx("button",{onClick:()=>O("compare"),className:`flex-1 px-4 py-3 text-sm font-medium transition-all ${ee==="compare"?"bg-orange-500 text-white":"bg-gray-700/50 text-gray-300 hover:bg-gray-600/50"}`,children:" Mix Compare"})]}),ee==="single"&&g.jsx(Xe,{title:"Upload Your Mix",className:"bg-gray-800/80 backdrop-blur-md shadow-xl border border-gray-700/50",children:g.jsxs("form",{onSubmit:Bs,className:"space-y-5",children:[g.jsxs("div",{children:[g.jsx("label",{htmlFor:"mix-audio-file",className:"block text-sm font-medium text-gray-300 mb-1",children:"Audio File (.mp3, .wav, etc.)"}),g.jsx("div",{className:`mt-1 flex justify-center px-6 pt-5 pb-6 border-2 ${G&&le.audioFile===null?"border-red-500":"border-gray-600"} border-dashed rounded-md cursor-pointer hover:border-orange-500 transition-colors`,onClick:()=>{var Q;return(Q=nt.current)==null?void 0:Q.click()},onDragOver:Q=>{Q.preventDefault(),Q.currentTarget.classList.add("border-orange-500")},onDragLeave:Q=>Q.currentTarget.classList.remove("border-orange-500"),onDrop:Q=>{if(Q.preventDefault(),Q.currentTarget.classList.remove("border-orange-500"),Q.dataTransfer.files&&Q.dataTransfer.files[0]){const de=Q.dataTransfer.files[0];if(de.size>cu){E(`File is too large. Max ${Ji}MB.`);return}if(!de.type.startsWith("audio/")){E("Invalid file type. Please upload audio.");return}Z(xe=>({...xe,audioFile:de})),E(null)}},children:g.jsxs("div",{className:"space-y-1 text-center",children:[g.jsx(sd,{className:"mx-auto h-12 w-12 text-gray-500"}),g.jsxs("div",{className:"flex text-sm text-gray-400",children:[g.jsx("span",{className:"relative rounded-md font-medium text-orange-400 hover:text-orange-300 focus-within:outline-none focus-within:ring-2 focus-within:ring-offset-2 focus-within:ring-offset-gray-900 focus-within:ring-orange-500",children:g.jsx("span",{children:"Upload a file"})}),g.jsx("input",{id:"mix-audio-file",name:"mix-audio-file",type:"file",className:"sr-only",accept:"audio/*",onChange:St,ref:nt}),g.jsx("p",{className:"pl-1",children:"or drag and drop"})]}),g.jsxs("p",{className:"text-xs text-gray-500",children:["Max file size: ",Ji,"MB"]})]})}),le.audioFile&&g.jsxs("p",{className:"text-xs text-green-400 mt-2",children:["Selected: ",le.audioFile.name," (",(le.audioFile.size/1024/1024).toFixed(2)," MB)"]}),G&&le.audioFile===null&&g.jsx("p",{className:"text-xs text-red-400 mt-2",children:G})]}),g.jsx("div",{children:g.jsx(Ia,{label:"Notes for AI",name:"mixUserNotes",value:le.userNotes,onChange:Wt,placeholder:"e.g., 'Focus on the low-end clarity', 'Is the vocal too loud?', 'General feedback welcome.'",rows:4})}),g.jsx(Fe,{type:"submit",disabled:C||!le.audioFile,className:"w-full text-base py-2.5 !bg-orange-600 hover:!bg-orange-700 focus:!ring-orange-500",leftIcon:g.jsx(ld,{className:"w-5 h-5"}),children:C?"Analyzing Mix...":"Get Mix Feedback"}),g.jsx(Fe,{type:"button",onClick:Fs,variant:"outline",className:"w-full !border-orange-500 !text-orange-400 hover:!bg-orange-500 hover:!text-white",children:"Clear Mix Form"})]})}),ee==="compare"&&g.jsxs("div",{className:"space-y-5",children:[g.jsxs(Xe,{title:"Mix A (Original)",className:"bg-gray-800/80 backdrop-blur-md shadow-xl border border-gray-700/50",children:[g.jsx("div",{className:`mt-1 flex justify-center px-6 pt-5 pb-6 border-2 ${Me&&!J.mixA?"border-red-500":"border-gray-600"} border-dashed rounded-md cursor-pointer hover:border-orange-500 transition-colors`,onClick:()=>{var Q;return(Q=document.getElementById("mixA-upload"))==null?void 0:Q.click()},children:g.jsxs("div",{className:"space-y-1 text-center",children:[g.jsx(sd,{className:"mx-auto h-12 w-12 text-gray-400"}),g.jsxs("div",{className:"flex text-sm text-gray-400",children:[g.jsxs("label",{htmlFor:"mixA-upload",className:"relative cursor-pointer rounded-md font-medium text-orange-400 hover:text-orange-300",children:[g.jsx("span",{children:"Upload Mix A"}),g.jsx("input",{id:"mixA-upload",name:"mixA-upload",type:"file",className:"sr-only",accept:"audio/*",onChange:Q=>{var xe;const de=(xe=Q.target.files)==null?void 0:xe[0];if(de){if(de.size>cu){tt(`File is too large. Max ${Ji}MB.`);return}if(!de.type.startsWith("audio/")){tt("Invalid file type. Please upload audio.");return}ye(Ne=>({...Ne,mixA:de})),tt(null)}}})]}),g.jsx("p",{className:"pl-1",children:"or drag and drop"})]}),g.jsxs("p",{className:"text-xs text-gray-500",children:["MP3, WAV, FLAC up to ",Ji,"MB"]})]})}),J.mixA&&g.jsxs("p",{className:"text-xs text-green-400 mt-2",children:["Selected: ",J.mixA.name," (",(J.mixA.size/1024/1024).toFixed(2)," MB)"]})]}),g.jsxs(Xe,{title:"Mix B (Revised)",className:"bg-gray-800/80 backdrop-blur-md shadow-xl border border-gray-700/50",children:[g.jsx("div",{className:`mt-1 flex justify-center px-6 pt-5 pb-6 border-2 ${Me&&!J.mixB?"border-red-500":"border-gray-600"} border-dashed rounded-md cursor-pointer hover:border-orange-500 transition-colors`,onClick:()=>{var Q;return(Q=document.getElementById("mixB-upload"))==null?void 0:Q.click()},children:g.jsxs("div",{className:"space-y-1 text-center",children:[g.jsx(sd,{className:"mx-auto h-12 w-12 text-gray-400"}),g.jsxs("div",{className:"flex text-sm text-gray-400",children:[g.jsxs("label",{htmlFor:"mixB-upload",className:"relative cursor-pointer rounded-md font-medium text-orange-400 hover:text-orange-300",children:[g.jsx("span",{children:"Upload Mix B"}),g.jsx("input",{id:"mixB-upload",name:"mixB-upload",type:"file",className:"sr-only",accept:"audio/*",onChange:Q=>{var xe;const de=(xe=Q.target.files)==null?void 0:xe[0];if(de){if(de.size>cu){tt(`File is too large. Max ${Ji}MB.`);return}if(!de.type.startsWith("audio/")){tt("Invalid file type. Please upload audio.");return}ye(Ne=>({...Ne,mixB:de})),tt(null)}}})]}),g.jsx("p",{className:"pl-1",children:"or drag and drop"})]}),g.jsxs("p",{className:"text-xs text-gray-500",children:["MP3, WAV, FLAC up to ",Ji,"MB"]})]})}),J.mixB&&g.jsxs("p",{className:"text-xs text-green-400 mt-2",children:["Selected: ",J.mixB.name," (",(J.mixB.size/1024/1024).toFixed(2)," MB)"]})]}),g.jsx(Xe,{title:"Notes for AI",className:"bg-gray-800/80 backdrop-blur-md shadow-xl border border-gray-700/50",children:g.jsx(Ia,{placeholder:"Describe what you want the AI to focus on when comparing these mixes. For example: 'Focus on the vocal clarity and low-end balance' or 'Compare the stereo width and overall loudness'...",value:J.userNotes,onChange:Q=>ye(de=>({...de,userNotes:Q.target.value})),rows:3,className:"w-full"})}),g.jsx(Fe,{onClick:fr,disabled:Ge||!J.mixA||!J.mixB,variant:"primary",className:"w-full px-4 py-3 text-base font-semibold",leftIcon:g.jsx("span",{className:"w-5 h-5 text-center",children:""}),children:Ge?"Comparing Mixes...":"Compare Mixes"}),g.jsx(Fe,{type:"button",onClick:qu,variant:"outline",className:"w-full !border-orange-500 !text-orange-400 hover:!bg-orange-500 hover:!text-white",children:"Reset"}),Me&&!Ge&&g.jsxs(Xe,{className:"border-red-500 bg-red-900/40 shadow-xl",children:[g.jsx("p",{className:"text-red-300 font-semibold text-lg",children:"Mix Comparison Error:"}),g.jsx("p",{className:"text-red-300",children:Me})]})]})]}),g.jsxs("div",{className:"md:col-span-9 space-y-6",children:[C&&N&&ee==="single"&&g.jsx(Xe,{title:"AI Mix Feedback Report (Generating...)",className:"bg-gray-800/80 backdrop-blur-md shadow-xl border border-gray-700/50 sticky top-8",titleClassName:"border-b border-gray-700 text-xl !text-orange-300",children:g.jsx("div",{className:"prose prose-sm md:prose-base prose-invert max-w-none max-h-[calc(100vh-6rem)] overflow-y-auto pr-3 text-gray-300 custom-scrollbar guidebook-content",children:g.jsx(Pr,{content:N})})}),Ge&&_e&&ee==="compare"&&g.jsx(Xe,{title:"AI Mix Comparison Report (Generating...)",className:"bg-gray-800/80 backdrop-blur-md shadow-xl border border-gray-700/50 sticky top-8",titleClassName:"border-b border-gray-700 text-xl !text-orange-300",children:g.jsx("div",{className:"prose prose-sm md:prose-base prose-invert max-w-none max-h-[calc(100vh-6rem)] overflow-y-auto pr-3 text-gray-300 custom-scrollbar guidebook-content",children:g.jsx(Pr,{content:_e})})}),(C&&!N&&ee==="single"||Ge&&!_e&&ee==="compare")&&g.jsx("div",{className:"flex justify-center items-center h-full min-h-[500px]",children:g.jsx(Jn,{size:"lg",color:"text-orange-500",text:ee==="single"?"AI is analyzing your mix... this may take a moment.":"AI is comparing your mixes... this may take a moment."})}),G&&!C&&ee==="single"&&g.jsxs(Xe,{className:"border-red-500 bg-red-900/40 shadow-xl",children:[g.jsx("p",{className:"text-red-300 font-semibold text-lg",children:"Mix Feedback Error:"}),g.jsx("p",{className:"text-red-300",children:G})]}),Me&&!Ge&&ee==="compare"&&g.jsxs(Xe,{className:"border-red-500 bg-red-900/40 shadow-xl",children:[g.jsx("p",{className:"text-red-300 font-semibold text-lg",children:"Mix Comparison Error:"}),g.jsx("p",{className:"text-red-300",children:Me})]}),$&&!C&&ee==="single"&&g.jsx(Xe,{title:"AI Mix Feedback Report",className:"bg-gray-800/80 backdrop-blur-md shadow-xl border border-gray-700/50 sticky top-8",titleClassName:"border-b border-gray-700 text-xl !text-orange-300",children:g.jsx("div",{id:"mix-feedback-display",className:"prose prose-sm md:prose-base prose-invert max-w-none max-h-[calc(100vh-6rem)] overflow-y-auto pr-3 text-gray-300 custom-scrollbar guidebook-content",children:g.jsx(Pr,{content:function(){let Q=($||"").trim();const de=Q.match(/(^|\n)(##? ||Audio Analysis Results)/);return de&&de.index!==void 0&&(Q=Q.slice(de.index).trim()),Q}()})})}),pe&&!Ge&&ee==="compare"&&g.jsxs(Xe,{title:"AI Mix Comparison Report",className:"bg-gray-800/80 backdrop-blur-md shadow-xl border border-gray-700/50 sticky top-8",titleClassName:"border-b border-gray-700 text-xl !text-orange-300",children:[g.jsx("div",{id:"mix-comparison-display",className:"prose prose-sm md:prose-base prose-invert max-w-none max-h-[calc(100vh-6rem)] overflow-y-auto pr-3 text-gray-300 custom-scrollbar guidebook-content",children:g.jsx(Pr,{content:pe})}),g.jsx("div",{className:"p-4 border-t border-gray-700 flex justify-center",children:g.jsx(Fe,{onClick:async()=>{var Q,de;if(J.mixB){P(!0),F(null),E(null),Z({audioFile:J.mixB,userNotes:J.userNotes,trackName:((Q=J.mixB)==null?void 0:Q.name)||"Mix B"});try{const xe=await Ck({audioFile:J.mixB,userNotes:J.userNotes,trackName:((de=J.mixB)==null?void 0:de.name)||"Mix B"});F(xe)}catch(xe){console.error("Full Mix B Feedback Error:",xe),E(xe.message||"Failed to generate feedback for Mix B.")}finally{P(!1)}}},disabled:C,className:"w-full mt-4 text-base py-2.5 !bg-orange-600 hover:!bg-orange-700 focus:!ring-orange-500",leftIcon:g.jsx(ld,{className:"w-5 h-5"}),children:C?"Analyzing Mix B...":"Get Full Feedback for Mix B"})})]}),!C&&!Ge&&!$&&!pe&&!G&&!Me&&g.jsxs(Xe,{className:"bg-gray-800/80 backdrop-blur-md shadow-xl border border-gray-700/50 flex flex-col items-center justify-center h-96 text-center min-h-[500px]",children:[g.jsx("div",{className:"flex justify-center mb-6",children:g.jsx(uu,{className:"w-20 h-20 opacity-80"})}),g.jsx("h3",{className:"text-2xl font-semibold text-gray-200 mb-2",children:"Refine Your Sound."}),g.jsx("p",{className:"text-gray-400 max-w-md",children:ee==="single"?"Upload your mix, add some notes, and get detailed feedback from our AI mixing engineer.":"Upload two mix versions to compare them side-by-side and get detailed analysis of the differences."})]})]})]}),e==="remixGuide"&&g.jsx("div",{className:"max-w-7xl mx-auto",children:g.jsx(DP,{onContentUpdate:Ur})}),e==="eqGuide"&&g.jsx("div",{className:"max-w-7xl mx-auto",children:g.jsx(Pk,{})}),e==="patchGuide"&&g.jsx("div",{className:"max-w-7xl mx-auto",children:g.jsx(OF,{onContentUpdate:Mi})}),z&&g.jsx(HF,{library:V,onClose:()=>ie(!1),onLoadEntry:Ft,onDeleteEntry:bn,onCreateNew:Ce}),g.jsx(Lk,{isOpen:!fe,onClose:()=>he(!0),currentGuidebook:B||void 0,userInputs:n,isCollapsed:fe,onToggle:()=>he(!fe),remixGuideContent:xt,mixFeedbackContent:$||void 0,mixComparisonContent:pe||void 0,patchGuideContent:ur,activeView:e}),g.jsx("footer",{className:"text-center mt-16 py-8 border-t border-gray-700/60",children:g.jsxs("p",{className:"text-sm text-gray-500",children:[bx," - AI Production Assistant"]})})]})},JS=document.getElementById("root");if(!JS)throw new Error("Could not find root element to mount to");const qF=gw.createRoot(JS);qF.render(g.jsx(_u.StrictMode,{children:g.jsx(GF,{})}));
