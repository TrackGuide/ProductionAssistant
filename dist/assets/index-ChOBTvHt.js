(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))a(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const c of u.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&a(c)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function a(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();function Sa(l){return l&&l.__esModule&&Object.prototype.hasOwnProperty.call(l,"default")?l.default:l}function kv(l){if(Object.prototype.hasOwnProperty.call(l,"__esModule"))return l;var t=l.default;if(typeof t=="function"){var n=function a(){return this instanceof a?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(l).forEach(function(a){var o=Object.getOwnPropertyDescriptor(l,a);Object.defineProperty(n,a,o.get?o:{enumerable:!0,get:function(){return l[a]}})}),n}var Tc={exports:{}},la={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fp;function Lv(){if(fp)return la;fp=1;var l=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(a,o,u){var c=null;if(u!==void 0&&(c=""+u),o.key!==void 0&&(c=""+o.key),"key"in o){u={};for(var h in o)h!=="key"&&(u[h]=o[h])}else u=o;return o=u.ref,{$$typeof:l,type:a,key:c,ref:o!==void 0?o:null,props:u}}return la.Fragment=t,la.jsx=n,la.jsxs=n,la}var hp;function Bv(){return hp||(hp=1,Tc.exports=Lv()),Tc.exports}var m=Bv(),Sc={exports:{}},ke={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mp;function Uv(){if(mp)return ke;mp=1;var l=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),c=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),x=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),b=Symbol.iterator;function E(T){return T===null||typeof T!="object"?null:(T=b&&T[b]||T["@@iterator"],typeof T=="function"?T:null)}var C={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},D=Object.assign,U={};function F(T,R,j){this.props=T,this.context=R,this.refs=U,this.updater=j||C}F.prototype.isReactComponent={},F.prototype.setState=function(T,R){if(typeof T!="object"&&typeof T!="function"&&T!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,T,R,"setState")},F.prototype.forceUpdate=function(T){this.updater.enqueueForceUpdate(this,T,"forceUpdate")};function L(){}L.prototype=F.prototype;function Y(T,R,j){this.props=T,this.context=R,this.refs=U,this.updater=j||C}var $=Y.prototype=new L;$.constructor=Y,D($,F.prototype),$.isPureReactComponent=!0;var Z=Array.isArray,ne={H:null,A:null,T:null,S:null,V:null},K=Object.prototype.hasOwnProperty;function fe(T,R,j,w,J,oe){return j=oe.ref,{$$typeof:l,type:T,key:R,ref:j!==void 0?j:null,props:oe}}function ve(T,R){return fe(T.type,R,void 0,void 0,void 0,T.props)}function xe(T){return typeof T=="object"&&T!==null&&T.$$typeof===l}function pe(T){var R={"=":"=0",":":"=2"};return"$"+T.replace(/[=:]/g,function(j){return R[j]})}var ce=/\/+/g;function se(T,R){return typeof T=="object"&&T!==null&&T.key!=null?pe(""+T.key):R.toString(36)}function he(){}function ae(T){switch(T.status){case"fulfilled":return T.value;case"rejected":throw T.reason;default:switch(typeof T.status=="string"?T.then(he,he):(T.status="pending",T.then(function(R){T.status==="pending"&&(T.status="fulfilled",T.value=R)},function(R){T.status==="pending"&&(T.status="rejected",T.reason=R)})),T.status){case"fulfilled":return T.value;case"rejected":throw T.reason}}throw T}function de(T,R,j,w,J){var oe=typeof T;(oe==="undefined"||oe==="boolean")&&(T=null);var I=!1;if(T===null)I=!0;else switch(oe){case"bigint":case"string":case"number":I=!0;break;case"object":switch(T.$$typeof){case l:case t:I=!0;break;case v:return I=T._init,de(I(T._payload),R,j,w,J)}}if(I)return J=J(T),I=w===""?"."+se(T,0):w,Z(J)?(j="",I!=null&&(j=I.replace(ce,"$&/")+"/"),de(J,R,j,"",function(Ae){return Ae})):J!=null&&(xe(J)&&(J=ve(J,j+(J.key==null||T&&T.key===J.key?"":(""+J.key).replace(ce,"$&/")+"/")+I)),R.push(J)),1;I=0;var me=w===""?".":w+":";if(Z(T))for(var ue=0;ue<T.length;ue++)w=T[ue],oe=me+se(w,ue),I+=de(w,R,j,oe,J);else if(ue=E(T),typeof ue=="function")for(T=ue.call(T),ue=0;!(w=T.next()).done;)w=w.value,oe=me+se(w,ue++),I+=de(w,R,j,oe,J);else if(oe==="object"){if(typeof T.then=="function")return de(ae(T),R,j,w,J);throw R=String(T),Error("Objects are not valid as a React child (found: "+(R==="[object Object]"?"object with keys {"+Object.keys(T).join(", ")+"}":R)+"). If you meant to render a collection of children, use an array instead.")}return I}function P(T,R,j){if(T==null)return T;var w=[],J=0;return de(T,w,"","",function(oe){return R.call(j,oe,J++)}),w}function B(T){if(T._status===-1){var R=T._result;R=R(),R.then(function(j){(T._status===0||T._status===-1)&&(T._status=1,T._result=j)},function(j){(T._status===0||T._status===-1)&&(T._status=2,T._result=j)}),T._status===-1&&(T._status=0,T._result=R)}if(T._status===1)return T._result.default;throw T._result}var N=typeof reportError=="function"?reportError:function(T){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var R=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof T=="object"&&T!==null&&typeof T.message=="string"?String(T.message):String(T),error:T});if(!window.dispatchEvent(R))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",T);return}console.error(T)};function M(){}return ke.Children={map:P,forEach:function(T,R,j){P(T,function(){R.apply(this,arguments)},j)},count:function(T){var R=0;return P(T,function(){R++}),R},toArray:function(T){return P(T,function(R){return R})||[]},only:function(T){if(!xe(T))throw Error("React.Children.only expected to receive a single React element child.");return T}},ke.Component=F,ke.Fragment=n,ke.Profiler=o,ke.PureComponent=Y,ke.StrictMode=a,ke.Suspense=x,ke.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=ne,ke.__COMPILER_RUNTIME={__proto__:null,c:function(T){return ne.H.useMemoCache(T)}},ke.cache=function(T){return function(){return T.apply(null,arguments)}},ke.cloneElement=function(T,R,j){if(T==null)throw Error("The argument must be a React element, but you passed "+T+".");var w=D({},T.props),J=T.key,oe=void 0;if(R!=null)for(I in R.ref!==void 0&&(oe=void 0),R.key!==void 0&&(J=""+R.key),R)!K.call(R,I)||I==="key"||I==="__self"||I==="__source"||I==="ref"&&R.ref===void 0||(w[I]=R[I]);var I=arguments.length-2;if(I===1)w.children=j;else if(1<I){for(var me=Array(I),ue=0;ue<I;ue++)me[ue]=arguments[ue+2];w.children=me}return fe(T.type,J,void 0,void 0,oe,w)},ke.createContext=function(T){return T={$$typeof:c,_currentValue:T,_currentValue2:T,_threadCount:0,Provider:null,Consumer:null},T.Provider=T,T.Consumer={$$typeof:u,_context:T},T},ke.createElement=function(T,R,j){var w,J={},oe=null;if(R!=null)for(w in R.key!==void 0&&(oe=""+R.key),R)K.call(R,w)&&w!=="key"&&w!=="__self"&&w!=="__source"&&(J[w]=R[w]);var I=arguments.length-2;if(I===1)J.children=j;else if(1<I){for(var me=Array(I),ue=0;ue<I;ue++)me[ue]=arguments[ue+2];J.children=me}if(T&&T.defaultProps)for(w in I=T.defaultProps,I)J[w]===void 0&&(J[w]=I[w]);return fe(T,oe,void 0,void 0,null,J)},ke.createRef=function(){return{current:null}},ke.forwardRef=function(T){return{$$typeof:h,render:T}},ke.isValidElement=xe,ke.lazy=function(T){return{$$typeof:v,_payload:{_status:-1,_result:T},_init:B}},ke.memo=function(T,R){return{$$typeof:f,type:T,compare:R===void 0?null:R}},ke.startTransition=function(T){var R=ne.T,j={};ne.T=j;try{var w=T(),J=ne.S;J!==null&&J(j,w),typeof w=="object"&&w!==null&&typeof w.then=="function"&&w.then(M,N)}catch(oe){N(oe)}finally{ne.T=R}},ke.unstable_useCacheRefresh=function(){return ne.H.useCacheRefresh()},ke.use=function(T){return ne.H.use(T)},ke.useActionState=function(T,R,j){return ne.H.useActionState(T,R,j)},ke.useCallback=function(T,R){return ne.H.useCallback(T,R)},ke.useContext=function(T){return ne.H.useContext(T)},ke.useDebugValue=function(){},ke.useDeferredValue=function(T,R){return ne.H.useDeferredValue(T,R)},ke.useEffect=function(T,R,j){var w=ne.H;if(typeof j=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return w.useEffect(T,R)},ke.useId=function(){return ne.H.useId()},ke.useImperativeHandle=function(T,R,j){return ne.H.useImperativeHandle(T,R,j)},ke.useInsertionEffect=function(T,R){return ne.H.useInsertionEffect(T,R)},ke.useLayoutEffect=function(T,R){return ne.H.useLayoutEffect(T,R)},ke.useMemo=function(T,R){return ne.H.useMemo(T,R)},ke.useOptimistic=function(T,R){return ne.H.useOptimistic(T,R)},ke.useReducer=function(T,R,j){return ne.H.useReducer(T,R,j)},ke.useRef=function(T){return ne.H.useRef(T)},ke.useState=function(T){return ne.H.useState(T)},ke.useSyncExternalStore=function(T,R,j){return ne.H.useSyncExternalStore(T,R,j)},ke.useTransition=function(){return ne.H.useTransition()},ke.version="19.1.0",ke}var pp;function md(){return pp||(pp=1,Sc.exports=Uv()),Sc.exports}var be=md();const fl=Sa(be);var Cc={exports:{}},ra={},Ec={exports:{}},wc={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gp;function zv(){return gp||(gp=1,function(l){function t(P,B){var N=P.length;P.push(B);e:for(;0<N;){var M=N-1>>>1,T=P[M];if(0<o(T,B))P[M]=B,P[N]=T,N=M;else break e}}function n(P){return P.length===0?null:P[0]}function a(P){if(P.length===0)return null;var B=P[0],N=P.pop();if(N!==B){P[0]=N;e:for(var M=0,T=P.length,R=T>>>1;M<R;){var j=2*(M+1)-1,w=P[j],J=j+1,oe=P[J];if(0>o(w,N))J<T&&0>o(oe,w)?(P[M]=oe,P[J]=N,M=J):(P[M]=w,P[j]=N,M=j);else if(J<T&&0>o(oe,N))P[M]=oe,P[J]=N,M=J;else break e}}return B}function o(P,B){var N=P.sortIndex-B.sortIndex;return N!==0?N:P.id-B.id}if(l.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;l.unstable_now=function(){return u.now()}}else{var c=Date,h=c.now();l.unstable_now=function(){return c.now()-h}}var x=[],f=[],v=1,b=null,E=3,C=!1,D=!1,U=!1,F=!1,L=typeof setTimeout=="function"?setTimeout:null,Y=typeof clearTimeout=="function"?clearTimeout:null,$=typeof setImmediate<"u"?setImmediate:null;function Z(P){for(var B=n(f);B!==null;){if(B.callback===null)a(f);else if(B.startTime<=P)a(f),B.sortIndex=B.expirationTime,t(x,B);else break;B=n(f)}}function ne(P){if(U=!1,Z(P),!D)if(n(x)!==null)D=!0,K||(K=!0,se());else{var B=n(f);B!==null&&de(ne,B.startTime-P)}}var K=!1,fe=-1,ve=5,xe=-1;function pe(){return F?!0:!(l.unstable_now()-xe<ve)}function ce(){if(F=!1,K){var P=l.unstable_now();xe=P;var B=!0;try{e:{D=!1,U&&(U=!1,Y(fe),fe=-1),C=!0;var N=E;try{t:{for(Z(P),b=n(x);b!==null&&!(b.expirationTime>P&&pe());){var M=b.callback;if(typeof M=="function"){b.callback=null,E=b.priorityLevel;var T=M(b.expirationTime<=P);if(P=l.unstable_now(),typeof T=="function"){b.callback=T,Z(P),B=!0;break t}b===n(x)&&a(x),Z(P)}else a(x);b=n(x)}if(b!==null)B=!0;else{var R=n(f);R!==null&&de(ne,R.startTime-P),B=!1}}break e}finally{b=null,E=N,C=!1}B=void 0}}finally{B?se():K=!1}}}var se;if(typeof $=="function")se=function(){$(ce)};else if(typeof MessageChannel<"u"){var he=new MessageChannel,ae=he.port2;he.port1.onmessage=ce,se=function(){ae.postMessage(null)}}else se=function(){L(ce,0)};function de(P,B){fe=L(function(){P(l.unstable_now())},B)}l.unstable_IdlePriority=5,l.unstable_ImmediatePriority=1,l.unstable_LowPriority=4,l.unstable_NormalPriority=3,l.unstable_Profiling=null,l.unstable_UserBlockingPriority=2,l.unstable_cancelCallback=function(P){P.callback=null},l.unstable_forceFrameRate=function(P){0>P||125<P?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):ve=0<P?Math.floor(1e3/P):5},l.unstable_getCurrentPriorityLevel=function(){return E},l.unstable_next=function(P){switch(E){case 1:case 2:case 3:var B=3;break;default:B=E}var N=E;E=B;try{return P()}finally{E=N}},l.unstable_requestPaint=function(){F=!0},l.unstable_runWithPriority=function(P,B){switch(P){case 1:case 2:case 3:case 4:case 5:break;default:P=3}var N=E;E=P;try{return B()}finally{E=N}},l.unstable_scheduleCallback=function(P,B,N){var M=l.unstable_now();switch(typeof N=="object"&&N!==null?(N=N.delay,N=typeof N=="number"&&0<N?M+N:M):N=M,P){case 1:var T=-1;break;case 2:T=250;break;case 5:T=1073741823;break;case 4:T=1e4;break;default:T=5e3}return T=N+T,P={id:v++,callback:B,priorityLevel:P,startTime:N,expirationTime:T,sortIndex:-1},N>M?(P.sortIndex=N,t(f,P),n(x)===null&&P===n(f)&&(U?(Y(fe),fe=-1):U=!0,de(ne,N-M))):(P.sortIndex=T,t(x,P),D||C||(D=!0,K||(K=!0,se()))),P},l.unstable_shouldYield=pe,l.unstable_wrapCallback=function(P){var B=E;return function(){var N=E;E=B;try{return P.apply(this,arguments)}finally{E=N}}}}(wc)),wc}var yp;function jv(){return yp||(yp=1,Ec.exports=zv()),Ec.exports}var Ac={exports:{}},Ft={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xp;function Ov(){if(xp)return Ft;xp=1;var l=md();function t(x){var f="https://react.dev/errors/"+x;if(1<arguments.length){f+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)f+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+x+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var a={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(x,f,v){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:b==null?null:""+b,children:x,containerInfo:f,implementation:v}}var c=l.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function h(x,f){if(x==="font")return"";if(typeof f=="string")return f==="use-credentials"?f:""}return Ft.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,Ft.createPortal=function(x,f){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!f||f.nodeType!==1&&f.nodeType!==9&&f.nodeType!==11)throw Error(t(299));return u(x,f,null,v)},Ft.flushSync=function(x){var f=c.T,v=a.p;try{if(c.T=null,a.p=2,x)return x()}finally{c.T=f,a.p=v,a.d.f()}},Ft.preconnect=function(x,f){typeof x=="string"&&(f?(f=f.crossOrigin,f=typeof f=="string"?f==="use-credentials"?f:"":void 0):f=null,a.d.C(x,f))},Ft.prefetchDNS=function(x){typeof x=="string"&&a.d.D(x)},Ft.preinit=function(x,f){if(typeof x=="string"&&f&&typeof f.as=="string"){var v=f.as,b=h(v,f.crossOrigin),E=typeof f.integrity=="string"?f.integrity:void 0,C=typeof f.fetchPriority=="string"?f.fetchPriority:void 0;v==="style"?a.d.S(x,typeof f.precedence=="string"?f.precedence:void 0,{crossOrigin:b,integrity:E,fetchPriority:C}):v==="script"&&a.d.X(x,{crossOrigin:b,integrity:E,fetchPriority:C,nonce:typeof f.nonce=="string"?f.nonce:void 0})}},Ft.preinitModule=function(x,f){if(typeof x=="string")if(typeof f=="object"&&f!==null){if(f.as==null||f.as==="script"){var v=h(f.as,f.crossOrigin);a.d.M(x,{crossOrigin:v,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0})}}else f==null&&a.d.M(x)},Ft.preload=function(x,f){if(typeof x=="string"&&typeof f=="object"&&f!==null&&typeof f.as=="string"){var v=f.as,b=h(v,f.crossOrigin);a.d.L(x,v,{crossOrigin:b,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0,type:typeof f.type=="string"?f.type:void 0,fetchPriority:typeof f.fetchPriority=="string"?f.fetchPriority:void 0,referrerPolicy:typeof f.referrerPolicy=="string"?f.referrerPolicy:void 0,imageSrcSet:typeof f.imageSrcSet=="string"?f.imageSrcSet:void 0,imageSizes:typeof f.imageSizes=="string"?f.imageSizes:void 0,media:typeof f.media=="string"?f.media:void 0})}},Ft.preloadModule=function(x,f){if(typeof x=="string")if(f){var v=h(f.as,f.crossOrigin);a.d.m(x,{as:typeof f.as=="string"&&f.as!=="script"?f.as:void 0,crossOrigin:v,integrity:typeof f.integrity=="string"?f.integrity:void 0})}else a.d.m(x)},Ft.requestFormReset=function(x){a.d.r(x)},Ft.unstable_batchedUpdates=function(x,f){return x(f)},Ft.useFormState=function(x,f,v){return c.H.useFormState(x,f,v)},Ft.useFormStatus=function(){return c.H.useHostTransitionStatus()},Ft.version="19.1.0",Ft}var vp;function Vv(){if(vp)return Ac.exports;vp=1;function l(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(l)}catch(t){console.error(t)}}return l(),Ac.exports=Ov(),Ac.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bp;function Pv(){if(bp)return ra;bp=1;var l=jv(),t=md(),n=Vv();function a(e){var i="https://react.dev/errors/"+e;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)i+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+e+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function u(e){var i=e,r=e;if(e.alternate)for(;i.return;)i=i.return;else{e=i;do i=e,(i.flags&4098)!==0&&(r=i.return),e=i.return;while(e)}return i.tag===3?r:null}function c(e){if(e.tag===13){var i=e.memoizedState;if(i===null&&(e=e.alternate,e!==null&&(i=e.memoizedState)),i!==null)return i.dehydrated}return null}function h(e){if(u(e)!==e)throw Error(a(188))}function x(e){var i=e.alternate;if(!i){if(i=u(e),i===null)throw Error(a(188));return i!==e?null:e}for(var r=e,s=i;;){var d=r.return;if(d===null)break;var y=d.alternate;if(y===null){if(s=d.return,s!==null){r=s;continue}break}if(d.child===y.child){for(y=d.child;y;){if(y===r)return h(d),e;if(y===s)return h(d),i;y=y.sibling}throw Error(a(188))}if(r.return!==s.return)r=d,s=y;else{for(var S=!1,A=d.child;A;){if(A===r){S=!0,r=d,s=y;break}if(A===s){S=!0,s=d,r=y;break}A=A.sibling}if(!S){for(A=y.child;A;){if(A===r){S=!0,r=y,s=d;break}if(A===s){S=!0,s=y,r=d;break}A=A.sibling}if(!S)throw Error(a(189))}}if(r.alternate!==s)throw Error(a(190))}if(r.tag!==3)throw Error(a(188));return r.stateNode.current===r?e:i}function f(e){var i=e.tag;if(i===5||i===26||i===27||i===6)return e;for(e=e.child;e!==null;){if(i=f(e),i!==null)return i;e=e.sibling}return null}var v=Object.assign,b=Symbol.for("react.element"),E=Symbol.for("react.transitional.element"),C=Symbol.for("react.portal"),D=Symbol.for("react.fragment"),U=Symbol.for("react.strict_mode"),F=Symbol.for("react.profiler"),L=Symbol.for("react.provider"),Y=Symbol.for("react.consumer"),$=Symbol.for("react.context"),Z=Symbol.for("react.forward_ref"),ne=Symbol.for("react.suspense"),K=Symbol.for("react.suspense_list"),fe=Symbol.for("react.memo"),ve=Symbol.for("react.lazy"),xe=Symbol.for("react.activity"),pe=Symbol.for("react.memo_cache_sentinel"),ce=Symbol.iterator;function se(e){return e===null||typeof e!="object"?null:(e=ce&&e[ce]||e["@@iterator"],typeof e=="function"?e:null)}var he=Symbol.for("react.client.reference");function ae(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===he?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case D:return"Fragment";case F:return"Profiler";case U:return"StrictMode";case ne:return"Suspense";case K:return"SuspenseList";case xe:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case C:return"Portal";case $:return(e.displayName||"Context")+".Provider";case Y:return(e._context.displayName||"Context")+".Consumer";case Z:var i=e.render;return e=e.displayName,e||(e=i.displayName||i.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case fe:return i=e.displayName||null,i!==null?i:ae(e.type)||"Memo";case ve:i=e._payload,e=e._init;try{return ae(e(i))}catch{}}return null}var de=Array.isArray,P=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,B=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,N={pending:!1,data:null,method:null,action:null},M=[],T=-1;function R(e){return{current:e}}function j(e){0>T||(e.current=M[T],M[T]=null,T--)}function w(e,i){T++,M[T]=e.current,e.current=i}var J=R(null),oe=R(null),I=R(null),me=R(null);function ue(e,i){switch(w(I,i),w(oe,e),w(J,null),i.nodeType){case 9:case 11:e=(e=i.documentElement)&&(e=e.namespaceURI)?Vm(e):0;break;default:if(e=i.tagName,i=i.namespaceURI)i=Vm(i),e=Pm(i,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}j(J),w(J,e)}function Ae(){j(J),j(oe),j(I)}function De(e){e.memoizedState!==null&&w(me,e);var i=J.current,r=Pm(i,e.type);i!==r&&(w(oe,e),w(J,r))}function Be(e){oe.current===e&&(j(J),j(oe)),me.current===e&&(j(me),Wr._currentValue=N)}var je=Object.prototype.hasOwnProperty,Ye=l.unstable_scheduleCallback,et=l.unstable_cancelCallback,Rt=l.unstable_shouldYield,Ut=l.unstable_requestPaint,qe=l.unstable_now,Sn=l.unstable_getCurrentPriorityLevel,Un=l.unstable_ImmediatePriority,di=l.unstable_UserBlockingPriority,fi=l.unstable_NormalPriority,ml=l.unstable_LowPriority,hi=l.unstable_IdlePriority,ur=l.log,cr=l.unstable_setDisableYieldValue,X=null,ie=null;function Se(e){if(typeof ur=="function"&&cr(e),ie&&typeof ie.setStrictMode=="function")try{ie.setStrictMode(X,e)}catch{}}var Ee=Math.clz32?Math.clz32:dn,Xe=Math.log,zt=Math.LN2;function dn(e){return e>>>=0,e===0?32:31-(Xe(e)/zt|0)|0}var jt=256,Cn=4194304;function Xt(e){var i=e&42;if(i!==0)return i;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Et(e,i,r){var s=e.pendingLanes;if(s===0)return 0;var d=0,y=e.suspendedLanes,S=e.pingedLanes;e=e.warmLanes;var A=s&134217727;return A!==0?(s=A&~y,s!==0?d=Xt(s):(S&=A,S!==0?d=Xt(S):r||(r=A&~e,r!==0&&(d=Xt(r))))):(A=s&~y,A!==0?d=Xt(A):S!==0?d=Xt(S):r||(r=s&~e,r!==0&&(d=Xt(r)))),d===0?0:i!==0&&i!==d&&(i&y)===0&&(y=d&-d,r=i&-i,y>=r||y===32&&(r&4194048)!==0)?i:d}function Jt(e,i){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&i)===0}function Zt(e,i){switch(e){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Aa(){var e=jt;return jt<<=1,(jt&4194048)===0&&(jt=256),e}function Na(){var e=Cn;return Cn<<=1,(Cn&62914560)===0&&(Cn=4194304),e}function Wt(e){for(var i=[],r=0;31>r;r++)i.push(e);return i}function mi(e,i){e.pendingLanes|=i,i!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Ma(e,i,r,s,d,y){var S=e.pendingLanes;e.pendingLanes=r,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=r,e.entangledLanes&=r,e.errorRecoveryDisabledLanes&=r,e.shellSuspendCounter=0;var A=e.entanglements,_=e.expirationTimes,V=e.hiddenUpdates;for(r=S&~r;0<r;){var Q=31-Ee(r),ee=1<<Q;A[Q]=0,_[Q]=-1;var H=V[Q];if(H!==null)for(V[Q]=null,Q=0;Q<H.length;Q++){var q=H[Q];q!==null&&(q.lane&=-536870913)}r&=~ee}s!==0&&G(e,s,0),y!==0&&d===0&&e.tag!==0&&(e.suspendedLanes|=y&~(S&~i))}function G(e,i,r){e.pendingLanes|=i,e.suspendedLanes&=~i;var s=31-Ee(i);e.entangledLanes|=i,e.entanglements[s]=e.entanglements[s]|1073741824|r&4194090}function te(e,i){var r=e.entangledLanes|=i;for(e=e.entanglements;r;){var s=31-Ee(r),d=1<<s;d&i|e[s]&i&&(e[s]|=i),r&=~d}}function le(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function ge(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Re(){var e=B.p;return e!==0?e:(e=window.event,e===void 0?32:ap(e.type))}function Ce(e,i){var r=B.p;try{return B.p=e,i()}finally{B.p=r}}var He=Math.random().toString(36).slice(2),Fe="__reactFiber$"+He,dt="__reactProps$"+He,Ot="__reactContainer$"+He,en="__reactEvents$"+He,lt="__reactListeners$"+He,at="__reactHandles$"+He,pt="__reactResources$"+He,ht="__reactMarker$"+He;function Mt(e){delete e[Fe],delete e[dt],delete e[en],delete e[lt],delete e[at]}function gt(e){var i=e[Fe];if(i)return i;for(var r=e.parentNode;r;){if(i=r[Ot]||r[Fe]){if(r=i.alternate,i.child!==null||r!==null&&r.child!==null)for(e=Fm(e);e!==null;){if(r=e[Fe])return r;e=Fm(e)}return i}e=r,r=e.parentNode}return null}function Vt(e){if(e=e[Fe]||e[Ot]){var i=e.tag;if(i===5||i===6||i===13||i===26||i===27||i===3)return e}return null}function _t(e){var i=e.tag;if(i===5||i===26||i===27||i===6)return e.stateNode;throw Error(a(33))}function $t(e){var i=e[pt];return i||(i=e[pt]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function yt(e){e[ht]=!0}var Fi=new Set,Yi={};function Tt(e,i){fn(e,i),fn(e+"Capture",i)}function fn(e,i){for(Yi[e]=i,e=0;e<i.length;e++)Fi.add(i[e])}var dr=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),_a={},pl={};function gl(e){return je.call(pl,e)?!0:je.call(_a,e)?!1:dr.test(e)?pl[e]=!0:(_a[e]=!0,!1)}function Ki(e,i,r){if(gl(i))if(r===null)e.removeAttribute(i);else{switch(typeof r){case"undefined":case"function":case"symbol":e.removeAttribute(i);return;case"boolean":var s=i.toLowerCase().slice(0,5);if(s!=="data-"&&s!=="aria-"){e.removeAttribute(i);return}}e.setAttribute(i,""+r)}}function Da(e,i,r){if(r===null)e.removeAttribute(i);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(i);return}e.setAttribute(i,""+r)}}function Qn(e,i,r,s){if(s===null)e.removeAttribute(r);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(r);return}e.setAttributeNS(i,r,""+s)}}var ps,Rd;function yl(e){if(ps===void 0)try{throw Error()}catch(r){var i=r.stack.trim().match(/\n( *(at )?)/);ps=i&&i[1]||"",Rd=-1<r.stack.indexOf(`
    at`)?" (<anonymous>)":-1<r.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ps+e+Rd}var gs=!1;function ys(e,i){if(!e||gs)return"";gs=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var s={DetermineComponentFrameRoot:function(){try{if(i){var ee=function(){throw Error()};if(Object.defineProperty(ee.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ee,[])}catch(q){var H=q}Reflect.construct(e,[],ee)}else{try{ee.call()}catch(q){H=q}e.call(ee.prototype)}}else{try{throw Error()}catch(q){H=q}(ee=e())&&typeof ee.catch=="function"&&ee.catch(function(){})}}catch(q){if(q&&H&&typeof q.stack=="string")return[q.stack,H.stack]}return[null,null]}};s.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var d=Object.getOwnPropertyDescriptor(s.DetermineComponentFrameRoot,"name");d&&d.configurable&&Object.defineProperty(s.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var y=s.DetermineComponentFrameRoot(),S=y[0],A=y[1];if(S&&A){var _=S.split(`
`),V=A.split(`
`);for(d=s=0;s<_.length&&!_[s].includes("DetermineComponentFrameRoot");)s++;for(;d<V.length&&!V[d].includes("DetermineComponentFrameRoot");)d++;if(s===_.length||d===V.length)for(s=_.length-1,d=V.length-1;1<=s&&0<=d&&_[s]!==V[d];)d--;for(;1<=s&&0<=d;s--,d--)if(_[s]!==V[d]){if(s!==1||d!==1)do if(s--,d--,0>d||_[s]!==V[d]){var Q=`
`+_[s].replace(" at new "," at ");return e.displayName&&Q.includes("<anonymous>")&&(Q=Q.replace("<anonymous>",e.displayName)),Q}while(1<=s&&0<=d);break}}}finally{gs=!1,Error.prepareStackTrace=r}return(r=e?e.displayName||e.name:"")?yl(r):""}function Ny(e){switch(e.tag){case 26:case 27:case 5:return yl(e.type);case 16:return yl("Lazy");case 13:return yl("Suspense");case 19:return yl("SuspenseList");case 0:case 15:return ys(e.type,!1);case 11:return ys(e.type.render,!1);case 1:return ys(e.type,!0);case 31:return yl("Activity");default:return""}}function kd(e){try{var i="";do i+=Ny(e),e=e.return;while(e);return i}catch(r){return`
Error generating stack: `+r.message+`
`+r.stack}}function En(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Ld(e){var i=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function My(e){var i=Ld(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,i),s=""+e[i];if(!e.hasOwnProperty(i)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var d=r.get,y=r.set;return Object.defineProperty(e,i,{configurable:!0,get:function(){return d.call(this)},set:function(S){s=""+S,y.call(this,S)}}),Object.defineProperty(e,i,{enumerable:r.enumerable}),{getValue:function(){return s},setValue:function(S){s=""+S},stopTracking:function(){e._valueTracker=null,delete e[i]}}}}function Ia(e){e._valueTracker||(e._valueTracker=My(e))}function Bd(e){if(!e)return!1;var i=e._valueTracker;if(!i)return!0;var r=i.getValue(),s="";return e&&(s=Ld(e)?e.checked?"true":"false":e.value),e=s,e!==r?(i.setValue(e),!0):!1}function Ra(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var _y=/[\n"\\]/g;function wn(e){return e.replace(_y,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function xs(e,i,r,s,d,y,S,A){e.name="",S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?e.type=S:e.removeAttribute("type"),i!=null?S==="number"?(i===0&&e.value===""||e.value!=i)&&(e.value=""+En(i)):e.value!==""+En(i)&&(e.value=""+En(i)):S!=="submit"&&S!=="reset"||e.removeAttribute("value"),i!=null?vs(e,S,En(i)):r!=null?vs(e,S,En(r)):s!=null&&e.removeAttribute("value"),d==null&&y!=null&&(e.defaultChecked=!!y),d!=null&&(e.checked=d&&typeof d!="function"&&typeof d!="symbol"),A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"?e.name=""+En(A):e.removeAttribute("name")}function Ud(e,i,r,s,d,y,S,A){if(y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(e.type=y),i!=null||r!=null){if(!(y!=="submit"&&y!=="reset"||i!=null))return;r=r!=null?""+En(r):"",i=i!=null?""+En(i):r,A||i===e.value||(e.value=i),e.defaultValue=i}s=s??d,s=typeof s!="function"&&typeof s!="symbol"&&!!s,e.checked=A?e.checked:!!s,e.defaultChecked=!!s,S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"&&(e.name=S)}function vs(e,i,r){i==="number"&&Ra(e.ownerDocument)===e||e.defaultValue===""+r||(e.defaultValue=""+r)}function xl(e,i,r,s){if(e=e.options,i){i={};for(var d=0;d<r.length;d++)i["$"+r[d]]=!0;for(r=0;r<e.length;r++)d=i.hasOwnProperty("$"+e[r].value),e[r].selected!==d&&(e[r].selected=d),d&&s&&(e[r].defaultSelected=!0)}else{for(r=""+En(r),i=null,d=0;d<e.length;d++){if(e[d].value===r){e[d].selected=!0,s&&(e[d].defaultSelected=!0);return}i!==null||e[d].disabled||(i=e[d])}i!==null&&(i.selected=!0)}}function zd(e,i,r){if(i!=null&&(i=""+En(i),i!==e.value&&(e.value=i),r==null)){e.defaultValue!==i&&(e.defaultValue=i);return}e.defaultValue=r!=null?""+En(r):""}function jd(e,i,r,s){if(i==null){if(s!=null){if(r!=null)throw Error(a(92));if(de(s)){if(1<s.length)throw Error(a(93));s=s[0]}r=s}r==null&&(r=""),i=r}r=En(i),e.defaultValue=r,s=e.textContent,s===r&&s!==""&&s!==null&&(e.value=s)}function vl(e,i){if(i){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=i;return}}e.textContent=i}var Dy=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Od(e,i,r){var s=i.indexOf("--")===0;r==null||typeof r=="boolean"||r===""?s?e.setProperty(i,""):i==="float"?e.cssFloat="":e[i]="":s?e.setProperty(i,r):typeof r!="number"||r===0||Dy.has(i)?i==="float"?e.cssFloat=r:e[i]=(""+r).trim():e[i]=r+"px"}function Vd(e,i,r){if(i!=null&&typeof i!="object")throw Error(a(62));if(e=e.style,r!=null){for(var s in r)!r.hasOwnProperty(s)||i!=null&&i.hasOwnProperty(s)||(s.indexOf("--")===0?e.setProperty(s,""):s==="float"?e.cssFloat="":e[s]="");for(var d in i)s=i[d],i.hasOwnProperty(d)&&r[d]!==s&&Od(e,d,s)}else for(var y in i)i.hasOwnProperty(y)&&Od(e,y,i[y])}function bs(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Iy=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Ry=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ka(e){return Ry.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var Ts=null;function Ss(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var bl=null,Tl=null;function Pd(e){var i=Vt(e);if(i&&(e=i.stateNode)){var r=e[dt]||null;e:switch(e=i.stateNode,i.type){case"input":if(xs(e,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name),i=r.name,r.type==="radio"&&i!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll('input[name="'+wn(""+i)+'"][type="radio"]'),i=0;i<r.length;i++){var s=r[i];if(s!==e&&s.form===e.form){var d=s[dt]||null;if(!d)throw Error(a(90));xs(s,d.value,d.defaultValue,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name)}}for(i=0;i<r.length;i++)s=r[i],s.form===e.form&&Bd(s)}break e;case"textarea":zd(e,r.value,r.defaultValue);break e;case"select":i=r.value,i!=null&&xl(e,!!r.multiple,i,!1)}}}var Cs=!1;function Hd(e,i,r){if(Cs)return e(i,r);Cs=!0;try{var s=e(i);return s}finally{if(Cs=!1,(bl!==null||Tl!==null)&&(vo(),bl&&(i=bl,e=Tl,Tl=bl=null,Pd(i),e)))for(i=0;i<e.length;i++)Pd(e[i])}}function fr(e,i){var r=e.stateNode;if(r===null)return null;var s=r[dt]||null;if(s===null)return null;r=s[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(e=e.type,s=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!s;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(a(231,i,typeof r));return r}var Jn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Es=!1;if(Jn)try{var hr={};Object.defineProperty(hr,"passive",{get:function(){Es=!0}}),window.addEventListener("test",hr,hr),window.removeEventListener("test",hr,hr)}catch{Es=!1}var pi=null,ws=null,La=null;function qd(){if(La)return La;var e,i=ws,r=i.length,s,d="value"in pi?pi.value:pi.textContent,y=d.length;for(e=0;e<r&&i[e]===d[e];e++);var S=r-e;for(s=1;s<=S&&i[r-s]===d[y-s];s++);return La=d.slice(e,1<s?1-s:void 0)}function Ba(e){var i=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&i===13&&(e=13)):e=i,e===10&&(e=13),32<=e||e===13?e:0}function Ua(){return!0}function Gd(){return!1}function tn(e){function i(r,s,d,y,S){this._reactName=r,this._targetInst=d,this.type=s,this.nativeEvent=y,this.target=S,this.currentTarget=null;for(var A in e)e.hasOwnProperty(A)&&(r=e[A],this[A]=r?r(y):y[A]);return this.isDefaultPrevented=(y.defaultPrevented!=null?y.defaultPrevented:y.returnValue===!1)?Ua:Gd,this.isPropagationStopped=Gd,this}return v(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Ua)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Ua)},persist:function(){},isPersistent:Ua}),i}var Xi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},za=tn(Xi),mr=v({},Xi,{view:0,detail:0}),ky=tn(mr),As,Ns,pr,ja=v({},mr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:_s,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==pr&&(pr&&e.type==="mousemove"?(As=e.screenX-pr.screenX,Ns=e.screenY-pr.screenY):Ns=As=0,pr=e),As)},movementY:function(e){return"movementY"in e?e.movementY:Ns}}),Fd=tn(ja),Ly=v({},ja,{dataTransfer:0}),By=tn(Ly),Uy=v({},mr,{relatedTarget:0}),Ms=tn(Uy),zy=v({},Xi,{animationName:0,elapsedTime:0,pseudoElement:0}),jy=tn(zy),Oy=v({},Xi,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Vy=tn(Oy),Py=v({},Xi,{data:0}),Yd=tn(Py),Hy={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},qy={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Gy={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Fy(e){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(e):(e=Gy[e])?!!i[e]:!1}function _s(){return Fy}var Yy=v({},mr,{key:function(e){if(e.key){var i=Hy[e.key]||e.key;if(i!=="Unidentified")return i}return e.type==="keypress"?(e=Ba(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?qy[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:_s,charCode:function(e){return e.type==="keypress"?Ba(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Ba(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Ky=tn(Yy),Xy=v({},ja,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Kd=tn(Xy),$y=v({},mr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:_s}),Qy=tn($y),Jy=v({},Xi,{propertyName:0,elapsedTime:0,pseudoElement:0}),Zy=tn(Jy),Wy=v({},ja,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),ex=tn(Wy),tx=v({},Xi,{newState:0,oldState:0}),nx=tn(tx),ix=[9,13,27,32],Ds=Jn&&"CompositionEvent"in window,gr=null;Jn&&"documentMode"in document&&(gr=document.documentMode);var lx=Jn&&"TextEvent"in window&&!gr,Xd=Jn&&(!Ds||gr&&8<gr&&11>=gr),$d=" ",Qd=!1;function Jd(e,i){switch(e){case"keyup":return ix.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Zd(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Sl=!1;function rx(e,i){switch(e){case"compositionend":return Zd(i);case"keypress":return i.which!==32?null:(Qd=!0,$d);case"textInput":return e=i.data,e===$d&&Qd?null:e;default:return null}}function ax(e,i){if(Sl)return e==="compositionend"||!Ds&&Jd(e,i)?(e=qd(),La=ws=pi=null,Sl=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return Xd&&i.locale!=="ko"?null:i.data;default:return null}}var ox={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Wd(e){var i=e&&e.nodeName&&e.nodeName.toLowerCase();return i==="input"?!!ox[e.type]:i==="textarea"}function ef(e,i,r,s){bl?Tl?Tl.push(s):Tl=[s]:bl=s,i=wo(i,"onChange"),0<i.length&&(r=new za("onChange","change",null,r,s),e.push({event:r,listeners:i}))}var yr=null,xr=null;function sx(e){Bm(e,0)}function Oa(e){var i=_t(e);if(Bd(i))return e}function tf(e,i){if(e==="change")return i}var nf=!1;if(Jn){var Is;if(Jn){var Rs="oninput"in document;if(!Rs){var lf=document.createElement("div");lf.setAttribute("oninput","return;"),Rs=typeof lf.oninput=="function"}Is=Rs}else Is=!1;nf=Is&&(!document.documentMode||9<document.documentMode)}function rf(){yr&&(yr.detachEvent("onpropertychange",af),xr=yr=null)}function af(e){if(e.propertyName==="value"&&Oa(xr)){var i=[];ef(i,xr,e,Ss(e)),Hd(sx,i)}}function ux(e,i,r){e==="focusin"?(rf(),yr=i,xr=r,yr.attachEvent("onpropertychange",af)):e==="focusout"&&rf()}function cx(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Oa(xr)}function dx(e,i){if(e==="click")return Oa(i)}function fx(e,i){if(e==="input"||e==="change")return Oa(i)}function hx(e,i){return e===i&&(e!==0||1/e===1/i)||e!==e&&i!==i}var hn=typeof Object.is=="function"?Object.is:hx;function vr(e,i){if(hn(e,i))return!0;if(typeof e!="object"||e===null||typeof i!="object"||i===null)return!1;var r=Object.keys(e),s=Object.keys(i);if(r.length!==s.length)return!1;for(s=0;s<r.length;s++){var d=r[s];if(!je.call(i,d)||!hn(e[d],i[d]))return!1}return!0}function of(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function sf(e,i){var r=of(e);e=0;for(var s;r;){if(r.nodeType===3){if(s=e+r.textContent.length,e<=i&&s>=i)return{node:r,offset:i-e};e=s}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=of(r)}}function uf(e,i){return e&&i?e===i?!0:e&&e.nodeType===3?!1:i&&i.nodeType===3?uf(e,i.parentNode):"contains"in e?e.contains(i):e.compareDocumentPosition?!!(e.compareDocumentPosition(i)&16):!1:!1}function cf(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var i=Ra(e.document);i instanceof e.HTMLIFrameElement;){try{var r=typeof i.contentWindow.location.href=="string"}catch{r=!1}if(r)e=i.contentWindow;else break;i=Ra(e.document)}return i}function ks(e){var i=e&&e.nodeName&&e.nodeName.toLowerCase();return i&&(i==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||i==="textarea"||e.contentEditable==="true")}var mx=Jn&&"documentMode"in document&&11>=document.documentMode,Cl=null,Ls=null,br=null,Bs=!1;function df(e,i,r){var s=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Bs||Cl==null||Cl!==Ra(s)||(s=Cl,"selectionStart"in s&&ks(s)?s={start:s.selectionStart,end:s.selectionEnd}:(s=(s.ownerDocument&&s.ownerDocument.defaultView||window).getSelection(),s={anchorNode:s.anchorNode,anchorOffset:s.anchorOffset,focusNode:s.focusNode,focusOffset:s.focusOffset}),br&&vr(br,s)||(br=s,s=wo(Ls,"onSelect"),0<s.length&&(i=new za("onSelect","select",null,i,r),e.push({event:i,listeners:s}),i.target=Cl)))}function $i(e,i){var r={};return r[e.toLowerCase()]=i.toLowerCase(),r["Webkit"+e]="webkit"+i,r["Moz"+e]="moz"+i,r}var El={animationend:$i("Animation","AnimationEnd"),animationiteration:$i("Animation","AnimationIteration"),animationstart:$i("Animation","AnimationStart"),transitionrun:$i("Transition","TransitionRun"),transitionstart:$i("Transition","TransitionStart"),transitioncancel:$i("Transition","TransitionCancel"),transitionend:$i("Transition","TransitionEnd")},Us={},ff={};Jn&&(ff=document.createElement("div").style,"AnimationEvent"in window||(delete El.animationend.animation,delete El.animationiteration.animation,delete El.animationstart.animation),"TransitionEvent"in window||delete El.transitionend.transition);function Qi(e){if(Us[e])return Us[e];if(!El[e])return e;var i=El[e],r;for(r in i)if(i.hasOwnProperty(r)&&r in ff)return Us[e]=i[r];return e}var hf=Qi("animationend"),mf=Qi("animationiteration"),pf=Qi("animationstart"),px=Qi("transitionrun"),gx=Qi("transitionstart"),yx=Qi("transitioncancel"),gf=Qi("transitionend"),yf=new Map,zs="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");zs.push("scrollEnd");function zn(e,i){yf.set(e,i),Tt(i,[e])}var xf=new WeakMap;function An(e,i){if(typeof e=="object"&&e!==null){var r=xf.get(e);return r!==void 0?r:(i={value:e,source:i,stack:kd(i)},xf.set(e,i),i)}return{value:e,source:i,stack:kd(i)}}var Nn=[],wl=0,js=0;function Va(){for(var e=wl,i=js=wl=0;i<e;){var r=Nn[i];Nn[i++]=null;var s=Nn[i];Nn[i++]=null;var d=Nn[i];Nn[i++]=null;var y=Nn[i];if(Nn[i++]=null,s!==null&&d!==null){var S=s.pending;S===null?d.next=d:(d.next=S.next,S.next=d),s.pending=d}y!==0&&vf(r,d,y)}}function Pa(e,i,r,s){Nn[wl++]=e,Nn[wl++]=i,Nn[wl++]=r,Nn[wl++]=s,js|=s,e.lanes|=s,e=e.alternate,e!==null&&(e.lanes|=s)}function Os(e,i,r,s){return Pa(e,i,r,s),Ha(e)}function Al(e,i){return Pa(e,null,null,i),Ha(e)}function vf(e,i,r){e.lanes|=r;var s=e.alternate;s!==null&&(s.lanes|=r);for(var d=!1,y=e.return;y!==null;)y.childLanes|=r,s=y.alternate,s!==null&&(s.childLanes|=r),y.tag===22&&(e=y.stateNode,e===null||e._visibility&1||(d=!0)),e=y,y=y.return;return e.tag===3?(y=e.stateNode,d&&i!==null&&(d=31-Ee(r),e=y.hiddenUpdates,s=e[d],s===null?e[d]=[i]:s.push(i),i.lane=r|536870912),y):null}function Ha(e){if(50<Fr)throw Fr=0,Fu=null,Error(a(185));for(var i=e.return;i!==null;)e=i,i=e.return;return e.tag===3?e.stateNode:null}var Nl={};function xx(e,i,r,s){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function mn(e,i,r,s){return new xx(e,i,r,s)}function Vs(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Zn(e,i){var r=e.alternate;return r===null?(r=mn(e.tag,i,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=i,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&65011712,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,i=e.dependencies,r.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r.refCleanup=e.refCleanup,r}function bf(e,i){e.flags&=65011714;var r=e.alternate;return r===null?(e.childLanes=0,e.lanes=i,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=r.childLanes,e.lanes=r.lanes,e.child=r.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=r.memoizedProps,e.memoizedState=r.memoizedState,e.updateQueue=r.updateQueue,e.type=r.type,i=r.dependencies,e.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),e}function qa(e,i,r,s,d,y){var S=0;if(s=e,typeof e=="function")Vs(e)&&(S=1);else if(typeof e=="string")S=bv(e,r,J.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case xe:return e=mn(31,r,i,d),e.elementType=xe,e.lanes=y,e;case D:return Ji(r.children,d,y,i);case U:S=8,d|=24;break;case F:return e=mn(12,r,i,d|2),e.elementType=F,e.lanes=y,e;case ne:return e=mn(13,r,i,d),e.elementType=ne,e.lanes=y,e;case K:return e=mn(19,r,i,d),e.elementType=K,e.lanes=y,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case L:case $:S=10;break e;case Y:S=9;break e;case Z:S=11;break e;case fe:S=14;break e;case ve:S=16,s=null;break e}S=29,r=Error(a(130,e===null?"null":typeof e,"")),s=null}return i=mn(S,r,i,d),i.elementType=e,i.type=s,i.lanes=y,i}function Ji(e,i,r,s){return e=mn(7,e,s,i),e.lanes=r,e}function Ps(e,i,r){return e=mn(6,e,null,i),e.lanes=r,e}function Hs(e,i,r){return i=mn(4,e.children!==null?e.children:[],e.key,i),i.lanes=r,i.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},i}var Ml=[],_l=0,Ga=null,Fa=0,Mn=[],_n=0,Zi=null,Wn=1,ei="";function Wi(e,i){Ml[_l++]=Fa,Ml[_l++]=Ga,Ga=e,Fa=i}function Tf(e,i,r){Mn[_n++]=Wn,Mn[_n++]=ei,Mn[_n++]=Zi,Zi=e;var s=Wn;e=ei;var d=32-Ee(s)-1;s&=~(1<<d),r+=1;var y=32-Ee(i)+d;if(30<y){var S=d-d%5;y=(s&(1<<S)-1).toString(32),s>>=S,d-=S,Wn=1<<32-Ee(i)+d|r<<d|s,ei=y+e}else Wn=1<<y|r<<d|s,ei=e}function qs(e){e.return!==null&&(Wi(e,1),Tf(e,1,0))}function Gs(e){for(;e===Ga;)Ga=Ml[--_l],Ml[_l]=null,Fa=Ml[--_l],Ml[_l]=null;for(;e===Zi;)Zi=Mn[--_n],Mn[_n]=null,ei=Mn[--_n],Mn[_n]=null,Wn=Mn[--_n],Mn[_n]=null}var Qt=null,xt=null,$e=!1,el=null,Hn=!1,Fs=Error(a(519));function tl(e){var i=Error(a(418,""));throw Cr(An(i,e)),Fs}function Sf(e){var i=e.stateNode,r=e.type,s=e.memoizedProps;switch(i[Fe]=e,i[dt]=s,r){case"dialog":Pe("cancel",i),Pe("close",i);break;case"iframe":case"object":case"embed":Pe("load",i);break;case"video":case"audio":for(r=0;r<Kr.length;r++)Pe(Kr[r],i);break;case"source":Pe("error",i);break;case"img":case"image":case"link":Pe("error",i),Pe("load",i);break;case"details":Pe("toggle",i);break;case"input":Pe("invalid",i),Ud(i,s.value,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name,!0),Ia(i);break;case"select":Pe("invalid",i);break;case"textarea":Pe("invalid",i),jd(i,s.value,s.defaultValue,s.children),Ia(i)}r=s.children,typeof r!="string"&&typeof r!="number"&&typeof r!="bigint"||i.textContent===""+r||s.suppressHydrationWarning===!0||Om(i.textContent,r)?(s.popover!=null&&(Pe("beforetoggle",i),Pe("toggle",i)),s.onScroll!=null&&Pe("scroll",i),s.onScrollEnd!=null&&Pe("scrollend",i),s.onClick!=null&&(i.onclick=Ao),i=!0):i=!1,i||tl(e)}function Cf(e){for(Qt=e.return;Qt;)switch(Qt.tag){case 5:case 13:Hn=!1;return;case 27:case 3:Hn=!0;return;default:Qt=Qt.return}}function Tr(e){if(e!==Qt)return!1;if(!$e)return Cf(e),$e=!0,!1;var i=e.tag,r;if((r=i!==3&&i!==27)&&((r=i===5)&&(r=e.type,r=!(r!=="form"&&r!=="button")||oc(e.type,e.memoizedProps)),r=!r),r&&xt&&tl(e),Cf(e),i===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));e:{for(e=e.nextSibling,i=0;e;){if(e.nodeType===8)if(r=e.data,r==="/$"){if(i===0){xt=On(e.nextSibling);break e}i--}else r!=="$"&&r!=="$!"&&r!=="$?"||i++;e=e.nextSibling}xt=null}}else i===27?(i=xt,Ii(e.type)?(e=dc,dc=null,xt=e):xt=i):xt=Qt?On(e.stateNode.nextSibling):null;return!0}function Sr(){xt=Qt=null,$e=!1}function Ef(){var e=el;return e!==null&&(rn===null?rn=e:rn.push.apply(rn,e),el=null),e}function Cr(e){el===null?el=[e]:el.push(e)}var Ys=R(null),nl=null,ti=null;function gi(e,i,r){w(Ys,i._currentValue),i._currentValue=r}function ni(e){e._currentValue=Ys.current,j(Ys)}function Ks(e,i,r){for(;e!==null;){var s=e.alternate;if((e.childLanes&i)!==i?(e.childLanes|=i,s!==null&&(s.childLanes|=i)):s!==null&&(s.childLanes&i)!==i&&(s.childLanes|=i),e===r)break;e=e.return}}function Xs(e,i,r,s){var d=e.child;for(d!==null&&(d.return=e);d!==null;){var y=d.dependencies;if(y!==null){var S=d.child;y=y.firstContext;e:for(;y!==null;){var A=y;y=d;for(var _=0;_<i.length;_++)if(A.context===i[_]){y.lanes|=r,A=y.alternate,A!==null&&(A.lanes|=r),Ks(y.return,r,e),s||(S=null);break e}y=A.next}}else if(d.tag===18){if(S=d.return,S===null)throw Error(a(341));S.lanes|=r,y=S.alternate,y!==null&&(y.lanes|=r),Ks(S,r,e),S=null}else S=d.child;if(S!==null)S.return=d;else for(S=d;S!==null;){if(S===e){S=null;break}if(d=S.sibling,d!==null){d.return=S.return,S=d;break}S=S.return}d=S}}function Er(e,i,r,s){e=null;for(var d=i,y=!1;d!==null;){if(!y){if((d.flags&524288)!==0)y=!0;else if((d.flags&262144)!==0)break}if(d.tag===10){var S=d.alternate;if(S===null)throw Error(a(387));if(S=S.memoizedProps,S!==null){var A=d.type;hn(d.pendingProps.value,S.value)||(e!==null?e.push(A):e=[A])}}else if(d===me.current){if(S=d.alternate,S===null)throw Error(a(387));S.memoizedState.memoizedState!==d.memoizedState.memoizedState&&(e!==null?e.push(Wr):e=[Wr])}d=d.return}e!==null&&Xs(i,e,r,s),i.flags|=262144}function Ya(e){for(e=e.firstContext;e!==null;){if(!hn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function il(e){nl=e,ti=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Gt(e){return wf(nl,e)}function Ka(e,i){return nl===null&&il(e),wf(e,i)}function wf(e,i){var r=i._currentValue;if(i={context:i,memoizedValue:r,next:null},ti===null){if(e===null)throw Error(a(308));ti=i,e.dependencies={lanes:0,firstContext:i},e.flags|=524288}else ti=ti.next=i;return r}var vx=typeof AbortController<"u"?AbortController:function(){var e=[],i=this.signal={aborted:!1,addEventListener:function(r,s){e.push(s)}};this.abort=function(){i.aborted=!0,e.forEach(function(r){return r()})}},bx=l.unstable_scheduleCallback,Tx=l.unstable_NormalPriority,Dt={$$typeof:$,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function $s(){return{controller:new vx,data:new Map,refCount:0}}function wr(e){e.refCount--,e.refCount===0&&bx(Tx,function(){e.controller.abort()})}var Ar=null,Qs=0,Dl=0,Il=null;function Sx(e,i){if(Ar===null){var r=Ar=[];Qs=0,Dl=Zu(),Il={status:"pending",value:void 0,then:function(s){r.push(s)}}}return Qs++,i.then(Af,Af),i}function Af(){if(--Qs===0&&Ar!==null){Il!==null&&(Il.status="fulfilled");var e=Ar;Ar=null,Dl=0,Il=null;for(var i=0;i<e.length;i++)(0,e[i])()}}function Cx(e,i){var r=[],s={status:"pending",value:null,reason:null,then:function(d){r.push(d)}};return e.then(function(){s.status="fulfilled",s.value=i;for(var d=0;d<r.length;d++)(0,r[d])(i)},function(d){for(s.status="rejected",s.reason=d,d=0;d<r.length;d++)(0,r[d])(void 0)}),s}var Nf=P.S;P.S=function(e,i){typeof i=="object"&&i!==null&&typeof i.then=="function"&&Sx(e,i),Nf!==null&&Nf(e,i)};var ll=R(null);function Js(){var e=ll.current;return e!==null?e:ot.pooledCache}function Xa(e,i){i===null?w(ll,ll.current):w(ll,i.pool)}function Mf(){var e=Js();return e===null?null:{parent:Dt._currentValue,pool:e}}var Nr=Error(a(460)),_f=Error(a(474)),$a=Error(a(542)),Zs={then:function(){}};function Df(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Qa(){}function If(e,i,r){switch(r=e[r],r===void 0?e.push(i):r!==i&&(i.then(Qa,Qa),i=r),i.status){case"fulfilled":return i.value;case"rejected":throw e=i.reason,kf(e),e;default:if(typeof i.status=="string")i.then(Qa,Qa);else{if(e=ot,e!==null&&100<e.shellSuspendCounter)throw Error(a(482));e=i,e.status="pending",e.then(function(s){if(i.status==="pending"){var d=i;d.status="fulfilled",d.value=s}},function(s){if(i.status==="pending"){var d=i;d.status="rejected",d.reason=s}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw e=i.reason,kf(e),e}throw Mr=i,Nr}}var Mr=null;function Rf(){if(Mr===null)throw Error(a(459));var e=Mr;return Mr=null,e}function kf(e){if(e===Nr||e===$a)throw Error(a(483))}var yi=!1;function Ws(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function eu(e,i){e=e.updateQueue,i.updateQueue===e&&(i.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function xi(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function vi(e,i,r){var s=e.updateQueue;if(s===null)return null;if(s=s.shared,(Ze&2)!==0){var d=s.pending;return d===null?i.next=i:(i.next=d.next,d.next=i),s.pending=i,i=Ha(e),vf(e,null,r),i}return Pa(e,s,i,r),Ha(e)}function _r(e,i,r){if(i=i.updateQueue,i!==null&&(i=i.shared,(r&4194048)!==0)){var s=i.lanes;s&=e.pendingLanes,r|=s,i.lanes=r,te(e,r)}}function tu(e,i){var r=e.updateQueue,s=e.alternate;if(s!==null&&(s=s.updateQueue,r===s)){var d=null,y=null;if(r=r.firstBaseUpdate,r!==null){do{var S={lane:r.lane,tag:r.tag,payload:r.payload,callback:null,next:null};y===null?d=y=S:y=y.next=S,r=r.next}while(r!==null);y===null?d=y=i:y=y.next=i}else d=y=i;r={baseState:s.baseState,firstBaseUpdate:d,lastBaseUpdate:y,shared:s.shared,callbacks:s.callbacks},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=i:e.next=i,r.lastBaseUpdate=i}var nu=!1;function Dr(){if(nu){var e=Il;if(e!==null)throw e}}function Ir(e,i,r,s){nu=!1;var d=e.updateQueue;yi=!1;var y=d.firstBaseUpdate,S=d.lastBaseUpdate,A=d.shared.pending;if(A!==null){d.shared.pending=null;var _=A,V=_.next;_.next=null,S===null?y=V:S.next=V,S=_;var Q=e.alternate;Q!==null&&(Q=Q.updateQueue,A=Q.lastBaseUpdate,A!==S&&(A===null?Q.firstBaseUpdate=V:A.next=V,Q.lastBaseUpdate=_))}if(y!==null){var ee=d.baseState;S=0,Q=V=_=null,A=y;do{var H=A.lane&-536870913,q=H!==A.lane;if(q?(Ge&H)===H:(s&H)===H){H!==0&&H===Dl&&(nu=!0),Q!==null&&(Q=Q.next={lane:0,tag:A.tag,payload:A.payload,callback:null,next:null});e:{var Me=e,we=A;H=i;var it=r;switch(we.tag){case 1:if(Me=we.payload,typeof Me=="function"){ee=Me.call(it,ee,H);break e}ee=Me;break e;case 3:Me.flags=Me.flags&-65537|128;case 0:if(Me=we.payload,H=typeof Me=="function"?Me.call(it,ee,H):Me,H==null)break e;ee=v({},ee,H);break e;case 2:yi=!0}}H=A.callback,H!==null&&(e.flags|=64,q&&(e.flags|=8192),q=d.callbacks,q===null?d.callbacks=[H]:q.push(H))}else q={lane:H,tag:A.tag,payload:A.payload,callback:A.callback,next:null},Q===null?(V=Q=q,_=ee):Q=Q.next=q,S|=H;if(A=A.next,A===null){if(A=d.shared.pending,A===null)break;q=A,A=q.next,q.next=null,d.lastBaseUpdate=q,d.shared.pending=null}}while(!0);Q===null&&(_=ee),d.baseState=_,d.firstBaseUpdate=V,d.lastBaseUpdate=Q,y===null&&(d.shared.lanes=0),Ni|=S,e.lanes=S,e.memoizedState=ee}}function Lf(e,i){if(typeof e!="function")throw Error(a(191,e));e.call(i)}function Bf(e,i){var r=e.callbacks;if(r!==null)for(e.callbacks=null,e=0;e<r.length;e++)Lf(r[e],i)}var Rl=R(null),Ja=R(0);function Uf(e,i){e=ui,w(Ja,e),w(Rl,i),ui=e|i.baseLanes}function iu(){w(Ja,ui),w(Rl,Rl.current)}function lu(){ui=Ja.current,j(Rl),j(Ja)}var bi=0,Ue=null,tt=null,wt=null,Za=!1,kl=!1,rl=!1,Wa=0,Rr=0,Ll=null,Ex=0;function St(){throw Error(a(321))}function ru(e,i){if(i===null)return!1;for(var r=0;r<i.length&&r<e.length;r++)if(!hn(e[r],i[r]))return!1;return!0}function au(e,i,r,s,d,y){return bi=y,Ue=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,P.H=e===null||e.memoizedState===null?vh:bh,rl=!1,y=r(s,d),rl=!1,kl&&(y=jf(i,r,s,d)),zf(e),y}function zf(e){P.H=ro;var i=tt!==null&&tt.next!==null;if(bi=0,wt=tt=Ue=null,Za=!1,Rr=0,Ll=null,i)throw Error(a(300));e===null||kt||(e=e.dependencies,e!==null&&Ya(e)&&(kt=!0))}function jf(e,i,r,s){Ue=e;var d=0;do{if(kl&&(Ll=null),Rr=0,kl=!1,25<=d)throw Error(a(301));if(d+=1,wt=tt=null,e.updateQueue!=null){var y=e.updateQueue;y.lastEffect=null,y.events=null,y.stores=null,y.memoCache!=null&&(y.memoCache.index=0)}P.H=Ix,y=i(r,s)}while(kl);return y}function wx(){var e=P.H,i=e.useState()[0];return i=typeof i.then=="function"?kr(i):i,e=e.useState()[0],(tt!==null?tt.memoizedState:null)!==e&&(Ue.flags|=1024),i}function ou(){var e=Wa!==0;return Wa=0,e}function su(e,i,r){i.updateQueue=e.updateQueue,i.flags&=-2053,e.lanes&=~r}function uu(e){if(Za){for(e=e.memoizedState;e!==null;){var i=e.queue;i!==null&&(i.pending=null),e=e.next}Za=!1}bi=0,wt=tt=Ue=null,kl=!1,Rr=Wa=0,Ll=null}function nn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return wt===null?Ue.memoizedState=wt=e:wt=wt.next=e,wt}function At(){if(tt===null){var e=Ue.alternate;e=e!==null?e.memoizedState:null}else e=tt.next;var i=wt===null?Ue.memoizedState:wt.next;if(i!==null)wt=i,tt=e;else{if(e===null)throw Ue.alternate===null?Error(a(467)):Error(a(310));tt=e,e={memoizedState:tt.memoizedState,baseState:tt.baseState,baseQueue:tt.baseQueue,queue:tt.queue,next:null},wt===null?Ue.memoizedState=wt=e:wt=wt.next=e}return wt}function cu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function kr(e){var i=Rr;return Rr+=1,Ll===null&&(Ll=[]),e=If(Ll,e,i),i=Ue,(wt===null?i.memoizedState:wt.next)===null&&(i=i.alternate,P.H=i===null||i.memoizedState===null?vh:bh),e}function eo(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return kr(e);if(e.$$typeof===$)return Gt(e)}throw Error(a(438,String(e)))}function du(e){var i=null,r=Ue.updateQueue;if(r!==null&&(i=r.memoCache),i==null){var s=Ue.alternate;s!==null&&(s=s.updateQueue,s!==null&&(s=s.memoCache,s!=null&&(i={data:s.data.map(function(d){return d.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),r===null&&(r=cu(),Ue.updateQueue=r),r.memoCache=i,r=i.data[i.index],r===void 0)for(r=i.data[i.index]=Array(e),s=0;s<e;s++)r[s]=pe;return i.index++,r}function ii(e,i){return typeof i=="function"?i(e):i}function to(e){var i=At();return fu(i,tt,e)}function fu(e,i,r){var s=e.queue;if(s===null)throw Error(a(311));s.lastRenderedReducer=r;var d=e.baseQueue,y=s.pending;if(y!==null){if(d!==null){var S=d.next;d.next=y.next,y.next=S}i.baseQueue=d=y,s.pending=null}if(y=e.baseState,d===null)e.memoizedState=y;else{i=d.next;var A=S=null,_=null,V=i,Q=!1;do{var ee=V.lane&-536870913;if(ee!==V.lane?(Ge&ee)===ee:(bi&ee)===ee){var H=V.revertLane;if(H===0)_!==null&&(_=_.next={lane:0,revertLane:0,action:V.action,hasEagerState:V.hasEagerState,eagerState:V.eagerState,next:null}),ee===Dl&&(Q=!0);else if((bi&H)===H){V=V.next,H===Dl&&(Q=!0);continue}else ee={lane:0,revertLane:V.revertLane,action:V.action,hasEagerState:V.hasEagerState,eagerState:V.eagerState,next:null},_===null?(A=_=ee,S=y):_=_.next=ee,Ue.lanes|=H,Ni|=H;ee=V.action,rl&&r(y,ee),y=V.hasEagerState?V.eagerState:r(y,ee)}else H={lane:ee,revertLane:V.revertLane,action:V.action,hasEagerState:V.hasEagerState,eagerState:V.eagerState,next:null},_===null?(A=_=H,S=y):_=_.next=H,Ue.lanes|=ee,Ni|=ee;V=V.next}while(V!==null&&V!==i);if(_===null?S=y:_.next=A,!hn(y,e.memoizedState)&&(kt=!0,Q&&(r=Il,r!==null)))throw r;e.memoizedState=y,e.baseState=S,e.baseQueue=_,s.lastRenderedState=y}return d===null&&(s.lanes=0),[e.memoizedState,s.dispatch]}function hu(e){var i=At(),r=i.queue;if(r===null)throw Error(a(311));r.lastRenderedReducer=e;var s=r.dispatch,d=r.pending,y=i.memoizedState;if(d!==null){r.pending=null;var S=d=d.next;do y=e(y,S.action),S=S.next;while(S!==d);hn(y,i.memoizedState)||(kt=!0),i.memoizedState=y,i.baseQueue===null&&(i.baseState=y),r.lastRenderedState=y}return[y,s]}function Of(e,i,r){var s=Ue,d=At(),y=$e;if(y){if(r===void 0)throw Error(a(407));r=r()}else r=i();var S=!hn((tt||d).memoizedState,r);S&&(d.memoizedState=r,kt=!0),d=d.queue;var A=Hf.bind(null,s,d,e);if(Lr(2048,8,A,[e]),d.getSnapshot!==i||S||wt!==null&&wt.memoizedState.tag&1){if(s.flags|=2048,Bl(9,no(),Pf.bind(null,s,d,r,i),null),ot===null)throw Error(a(349));y||(bi&124)!==0||Vf(s,i,r)}return r}function Vf(e,i,r){e.flags|=16384,e={getSnapshot:i,value:r},i=Ue.updateQueue,i===null?(i=cu(),Ue.updateQueue=i,i.stores=[e]):(r=i.stores,r===null?i.stores=[e]:r.push(e))}function Pf(e,i,r,s){i.value=r,i.getSnapshot=s,qf(i)&&Gf(e)}function Hf(e,i,r){return r(function(){qf(i)&&Gf(e)})}function qf(e){var i=e.getSnapshot;e=e.value;try{var r=i();return!hn(e,r)}catch{return!0}}function Gf(e){var i=Al(e,2);i!==null&&vn(i,e,2)}function mu(e){var i=nn();if(typeof e=="function"){var r=e;if(e=r(),rl){Se(!0);try{r()}finally{Se(!1)}}}return i.memoizedState=i.baseState=e,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ii,lastRenderedState:e},i}function Ff(e,i,r,s){return e.baseState=r,fu(e,tt,typeof s=="function"?s:ii)}function Ax(e,i,r,s,d){if(lo(e))throw Error(a(485));if(e=i.action,e!==null){var y={payload:d,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(S){y.listeners.push(S)}};P.T!==null?r(!0):y.isTransition=!1,s(y),r=i.pending,r===null?(y.next=i.pending=y,Yf(i,y)):(y.next=r.next,i.pending=r.next=y)}}function Yf(e,i){var r=i.action,s=i.payload,d=e.state;if(i.isTransition){var y=P.T,S={};P.T=S;try{var A=r(d,s),_=P.S;_!==null&&_(S,A),Kf(e,i,A)}catch(V){pu(e,i,V)}finally{P.T=y}}else try{y=r(d,s),Kf(e,i,y)}catch(V){pu(e,i,V)}}function Kf(e,i,r){r!==null&&typeof r=="object"&&typeof r.then=="function"?r.then(function(s){Xf(e,i,s)},function(s){return pu(e,i,s)}):Xf(e,i,r)}function Xf(e,i,r){i.status="fulfilled",i.value=r,$f(i),e.state=r,i=e.pending,i!==null&&(r=i.next,r===i?e.pending=null:(r=r.next,i.next=r,Yf(e,r)))}function pu(e,i,r){var s=e.pending;if(e.pending=null,s!==null){s=s.next;do i.status="rejected",i.reason=r,$f(i),i=i.next;while(i!==s)}e.action=null}function $f(e){e=e.listeners;for(var i=0;i<e.length;i++)(0,e[i])()}function Qf(e,i){return i}function Jf(e,i){if($e){var r=ot.formState;if(r!==null){e:{var s=Ue;if($e){if(xt){t:{for(var d=xt,y=Hn;d.nodeType!==8;){if(!y){d=null;break t}if(d=On(d.nextSibling),d===null){d=null;break t}}y=d.data,d=y==="F!"||y==="F"?d:null}if(d){xt=On(d.nextSibling),s=d.data==="F!";break e}}tl(s)}s=!1}s&&(i=r[0])}}return r=nn(),r.memoizedState=r.baseState=i,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Qf,lastRenderedState:i},r.queue=s,r=gh.bind(null,Ue,s),s.dispatch=r,s=mu(!1),y=bu.bind(null,Ue,!1,s.queue),s=nn(),d={state:i,dispatch:null,action:e,pending:null},s.queue=d,r=Ax.bind(null,Ue,d,y,r),d.dispatch=r,s.memoizedState=e,[i,r,!1]}function Zf(e){var i=At();return Wf(i,tt,e)}function Wf(e,i,r){if(i=fu(e,i,Qf)[0],e=to(ii)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var s=kr(i)}catch(S){throw S===Nr?$a:S}else s=i;i=At();var d=i.queue,y=d.dispatch;return r!==i.memoizedState&&(Ue.flags|=2048,Bl(9,no(),Nx.bind(null,d,r),null)),[s,y,e]}function Nx(e,i){e.action=i}function eh(e){var i=At(),r=tt;if(r!==null)return Wf(i,r,e);At(),i=i.memoizedState,r=At();var s=r.queue.dispatch;return r.memoizedState=e,[i,s,!1]}function Bl(e,i,r,s){return e={tag:e,create:r,deps:s,inst:i,next:null},i=Ue.updateQueue,i===null&&(i=cu(),Ue.updateQueue=i),r=i.lastEffect,r===null?i.lastEffect=e.next=e:(s=r.next,r.next=e,e.next=s,i.lastEffect=e),e}function no(){return{destroy:void 0,resource:void 0}}function th(){return At().memoizedState}function io(e,i,r,s){var d=nn();s=s===void 0?null:s,Ue.flags|=e,d.memoizedState=Bl(1|i,no(),r,s)}function Lr(e,i,r,s){var d=At();s=s===void 0?null:s;var y=d.memoizedState.inst;tt!==null&&s!==null&&ru(s,tt.memoizedState.deps)?d.memoizedState=Bl(i,y,r,s):(Ue.flags|=e,d.memoizedState=Bl(1|i,y,r,s))}function nh(e,i){io(8390656,8,e,i)}function ih(e,i){Lr(2048,8,e,i)}function lh(e,i){return Lr(4,2,e,i)}function rh(e,i){return Lr(4,4,e,i)}function ah(e,i){if(typeof i=="function"){e=e();var r=i(e);return function(){typeof r=="function"?r():i(null)}}if(i!=null)return e=e(),i.current=e,function(){i.current=null}}function oh(e,i,r){r=r!=null?r.concat([e]):null,Lr(4,4,ah.bind(null,i,e),r)}function gu(){}function sh(e,i){var r=At();i=i===void 0?null:i;var s=r.memoizedState;return i!==null&&ru(i,s[1])?s[0]:(r.memoizedState=[e,i],e)}function uh(e,i){var r=At();i=i===void 0?null:i;var s=r.memoizedState;if(i!==null&&ru(i,s[1]))return s[0];if(s=e(),rl){Se(!0);try{e()}finally{Se(!1)}}return r.memoizedState=[s,i],s}function yu(e,i,r){return r===void 0||(bi&1073741824)!==0?e.memoizedState=i:(e.memoizedState=r,e=fm(),Ue.lanes|=e,Ni|=e,r)}function ch(e,i,r,s){return hn(r,i)?r:Rl.current!==null?(e=yu(e,r,s),hn(e,i)||(kt=!0),e):(bi&42)===0?(kt=!0,e.memoizedState=r):(e=fm(),Ue.lanes|=e,Ni|=e,i)}function dh(e,i,r,s,d){var y=B.p;B.p=y!==0&&8>y?y:8;var S=P.T,A={};P.T=A,bu(e,!1,i,r);try{var _=d(),V=P.S;if(V!==null&&V(A,_),_!==null&&typeof _=="object"&&typeof _.then=="function"){var Q=Cx(_,s);Br(e,i,Q,xn(e))}else Br(e,i,s,xn(e))}catch(ee){Br(e,i,{then:function(){},status:"rejected",reason:ee},xn())}finally{B.p=y,P.T=S}}function Mx(){}function xu(e,i,r,s){if(e.tag!==5)throw Error(a(476));var d=fh(e).queue;dh(e,d,i,N,r===null?Mx:function(){return hh(e),r(s)})}function fh(e){var i=e.memoizedState;if(i!==null)return i;i={memoizedState:N,baseState:N,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ii,lastRenderedState:N},next:null};var r={};return i.next={memoizedState:r,baseState:r,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ii,lastRenderedState:r},next:null},e.memoizedState=i,e=e.alternate,e!==null&&(e.memoizedState=i),i}function hh(e){var i=fh(e).next.queue;Br(e,i,{},xn())}function vu(){return Gt(Wr)}function mh(){return At().memoizedState}function ph(){return At().memoizedState}function _x(e){for(var i=e.return;i!==null;){switch(i.tag){case 24:case 3:var r=xn();e=xi(r);var s=vi(i,e,r);s!==null&&(vn(s,i,r),_r(s,i,r)),i={cache:$s()},e.payload=i;return}i=i.return}}function Dx(e,i,r){var s=xn();r={lane:s,revertLane:0,action:r,hasEagerState:!1,eagerState:null,next:null},lo(e)?yh(i,r):(r=Os(e,i,r,s),r!==null&&(vn(r,e,s),xh(r,i,s)))}function gh(e,i,r){var s=xn();Br(e,i,r,s)}function Br(e,i,r,s){var d={lane:s,revertLane:0,action:r,hasEagerState:!1,eagerState:null,next:null};if(lo(e))yh(i,d);else{var y=e.alternate;if(e.lanes===0&&(y===null||y.lanes===0)&&(y=i.lastRenderedReducer,y!==null))try{var S=i.lastRenderedState,A=y(S,r);if(d.hasEagerState=!0,d.eagerState=A,hn(A,S))return Pa(e,i,d,0),ot===null&&Va(),!1}catch{}finally{}if(r=Os(e,i,d,s),r!==null)return vn(r,e,s),xh(r,i,s),!0}return!1}function bu(e,i,r,s){if(s={lane:2,revertLane:Zu(),action:s,hasEagerState:!1,eagerState:null,next:null},lo(e)){if(i)throw Error(a(479))}else i=Os(e,r,s,2),i!==null&&vn(i,e,2)}function lo(e){var i=e.alternate;return e===Ue||i!==null&&i===Ue}function yh(e,i){kl=Za=!0;var r=e.pending;r===null?i.next=i:(i.next=r.next,r.next=i),e.pending=i}function xh(e,i,r){if((r&4194048)!==0){var s=i.lanes;s&=e.pendingLanes,r|=s,i.lanes=r,te(e,r)}}var ro={readContext:Gt,use:eo,useCallback:St,useContext:St,useEffect:St,useImperativeHandle:St,useLayoutEffect:St,useInsertionEffect:St,useMemo:St,useReducer:St,useRef:St,useState:St,useDebugValue:St,useDeferredValue:St,useTransition:St,useSyncExternalStore:St,useId:St,useHostTransitionStatus:St,useFormState:St,useActionState:St,useOptimistic:St,useMemoCache:St,useCacheRefresh:St},vh={readContext:Gt,use:eo,useCallback:function(e,i){return nn().memoizedState=[e,i===void 0?null:i],e},useContext:Gt,useEffect:nh,useImperativeHandle:function(e,i,r){r=r!=null?r.concat([e]):null,io(4194308,4,ah.bind(null,i,e),r)},useLayoutEffect:function(e,i){return io(4194308,4,e,i)},useInsertionEffect:function(e,i){io(4,2,e,i)},useMemo:function(e,i){var r=nn();i=i===void 0?null:i;var s=e();if(rl){Se(!0);try{e()}finally{Se(!1)}}return r.memoizedState=[s,i],s},useReducer:function(e,i,r){var s=nn();if(r!==void 0){var d=r(i);if(rl){Se(!0);try{r(i)}finally{Se(!1)}}}else d=i;return s.memoizedState=s.baseState=d,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:d},s.queue=e,e=e.dispatch=Dx.bind(null,Ue,e),[s.memoizedState,e]},useRef:function(e){var i=nn();return e={current:e},i.memoizedState=e},useState:function(e){e=mu(e);var i=e.queue,r=gh.bind(null,Ue,i);return i.dispatch=r,[e.memoizedState,r]},useDebugValue:gu,useDeferredValue:function(e,i){var r=nn();return yu(r,e,i)},useTransition:function(){var e=mu(!1);return e=dh.bind(null,Ue,e.queue,!0,!1),nn().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,i,r){var s=Ue,d=nn();if($e){if(r===void 0)throw Error(a(407));r=r()}else{if(r=i(),ot===null)throw Error(a(349));(Ge&124)!==0||Vf(s,i,r)}d.memoizedState=r;var y={value:r,getSnapshot:i};return d.queue=y,nh(Hf.bind(null,s,y,e),[e]),s.flags|=2048,Bl(9,no(),Pf.bind(null,s,y,r,i),null),r},useId:function(){var e=nn(),i=ot.identifierPrefix;if($e){var r=ei,s=Wn;r=(s&~(1<<32-Ee(s)-1)).toString(32)+r,i=""+i+"R"+r,r=Wa++,0<r&&(i+="H"+r.toString(32)),i+=""}else r=Ex++,i=""+i+"r"+r.toString(32)+"";return e.memoizedState=i},useHostTransitionStatus:vu,useFormState:Jf,useActionState:Jf,useOptimistic:function(e){var i=nn();i.memoizedState=i.baseState=e;var r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=r,i=bu.bind(null,Ue,!0,r),r.dispatch=i,[e,i]},useMemoCache:du,useCacheRefresh:function(){return nn().memoizedState=_x.bind(null,Ue)}},bh={readContext:Gt,use:eo,useCallback:sh,useContext:Gt,useEffect:ih,useImperativeHandle:oh,useInsertionEffect:lh,useLayoutEffect:rh,useMemo:uh,useReducer:to,useRef:th,useState:function(){return to(ii)},useDebugValue:gu,useDeferredValue:function(e,i){var r=At();return ch(r,tt.memoizedState,e,i)},useTransition:function(){var e=to(ii)[0],i=At().memoizedState;return[typeof e=="boolean"?e:kr(e),i]},useSyncExternalStore:Of,useId:mh,useHostTransitionStatus:vu,useFormState:Zf,useActionState:Zf,useOptimistic:function(e,i){var r=At();return Ff(r,tt,e,i)},useMemoCache:du,useCacheRefresh:ph},Ix={readContext:Gt,use:eo,useCallback:sh,useContext:Gt,useEffect:ih,useImperativeHandle:oh,useInsertionEffect:lh,useLayoutEffect:rh,useMemo:uh,useReducer:hu,useRef:th,useState:function(){return hu(ii)},useDebugValue:gu,useDeferredValue:function(e,i){var r=At();return tt===null?yu(r,e,i):ch(r,tt.memoizedState,e,i)},useTransition:function(){var e=hu(ii)[0],i=At().memoizedState;return[typeof e=="boolean"?e:kr(e),i]},useSyncExternalStore:Of,useId:mh,useHostTransitionStatus:vu,useFormState:eh,useActionState:eh,useOptimistic:function(e,i){var r=At();return tt!==null?Ff(r,tt,e,i):(r.baseState=e,[e,r.queue.dispatch])},useMemoCache:du,useCacheRefresh:ph},Ul=null,Ur=0;function ao(e){var i=Ur;return Ur+=1,Ul===null&&(Ul=[]),If(Ul,e,i)}function zr(e,i){i=i.props.ref,e.ref=i!==void 0?i:null}function oo(e,i){throw i.$$typeof===b?Error(a(525)):(e=Object.prototype.toString.call(i),Error(a(31,e==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":e)))}function Th(e){var i=e._init;return i(e._payload)}function Sh(e){function i(z,k){if(e){var O=z.deletions;O===null?(z.deletions=[k],z.flags|=16):O.push(k)}}function r(z,k){if(!e)return null;for(;k!==null;)i(z,k),k=k.sibling;return null}function s(z){for(var k=new Map;z!==null;)z.key!==null?k.set(z.key,z):k.set(z.index,z),z=z.sibling;return k}function d(z,k){return z=Zn(z,k),z.index=0,z.sibling=null,z}function y(z,k,O){return z.index=O,e?(O=z.alternate,O!==null?(O=O.index,O<k?(z.flags|=67108866,k):O):(z.flags|=67108866,k)):(z.flags|=1048576,k)}function S(z){return e&&z.alternate===null&&(z.flags|=67108866),z}function A(z,k,O,W){return k===null||k.tag!==6?(k=Ps(O,z.mode,W),k.return=z,k):(k=d(k,O),k.return=z,k)}function _(z,k,O,W){var ye=O.type;return ye===D?Q(z,k,O.props.children,W,O.key):k!==null&&(k.elementType===ye||typeof ye=="object"&&ye!==null&&ye.$$typeof===ve&&Th(ye)===k.type)?(k=d(k,O.props),zr(k,O),k.return=z,k):(k=qa(O.type,O.key,O.props,null,z.mode,W),zr(k,O),k.return=z,k)}function V(z,k,O,W){return k===null||k.tag!==4||k.stateNode.containerInfo!==O.containerInfo||k.stateNode.implementation!==O.implementation?(k=Hs(O,z.mode,W),k.return=z,k):(k=d(k,O.children||[]),k.return=z,k)}function Q(z,k,O,W,ye){return k===null||k.tag!==7?(k=Ji(O,z.mode,W,ye),k.return=z,k):(k=d(k,O),k.return=z,k)}function ee(z,k,O){if(typeof k=="string"&&k!==""||typeof k=="number"||typeof k=="bigint")return k=Ps(""+k,z.mode,O),k.return=z,k;if(typeof k=="object"&&k!==null){switch(k.$$typeof){case E:return O=qa(k.type,k.key,k.props,null,z.mode,O),zr(O,k),O.return=z,O;case C:return k=Hs(k,z.mode,O),k.return=z,k;case ve:var W=k._init;return k=W(k._payload),ee(z,k,O)}if(de(k)||se(k))return k=Ji(k,z.mode,O,null),k.return=z,k;if(typeof k.then=="function")return ee(z,ao(k),O);if(k.$$typeof===$)return ee(z,Ka(z,k),O);oo(z,k)}return null}function H(z,k,O,W){var ye=k!==null?k.key:null;if(typeof O=="string"&&O!==""||typeof O=="number"||typeof O=="bigint")return ye!==null?null:A(z,k,""+O,W);if(typeof O=="object"&&O!==null){switch(O.$$typeof){case E:return O.key===ye?_(z,k,O,W):null;case C:return O.key===ye?V(z,k,O,W):null;case ve:return ye=O._init,O=ye(O._payload),H(z,k,O,W)}if(de(O)||se(O))return ye!==null?null:Q(z,k,O,W,null);if(typeof O.then=="function")return H(z,k,ao(O),W);if(O.$$typeof===$)return H(z,k,Ka(z,O),W);oo(z,O)}return null}function q(z,k,O,W,ye){if(typeof W=="string"&&W!==""||typeof W=="number"||typeof W=="bigint")return z=z.get(O)||null,A(k,z,""+W,ye);if(typeof W=="object"&&W!==null){switch(W.$$typeof){case E:return z=z.get(W.key===null?O:W.key)||null,_(k,z,W,ye);case C:return z=z.get(W.key===null?O:W.key)||null,V(k,z,W,ye);case ve:var Oe=W._init;return W=Oe(W._payload),q(z,k,O,W,ye)}if(de(W)||se(W))return z=z.get(O)||null,Q(k,z,W,ye,null);if(typeof W.then=="function")return q(z,k,O,ao(W),ye);if(W.$$typeof===$)return q(z,k,O,Ka(k,W),ye);oo(k,W)}return null}function Me(z,k,O,W){for(var ye=null,Oe=null,Te=k,Ne=k=0,Bt=null;Te!==null&&Ne<O.length;Ne++){Te.index>Ne?(Bt=Te,Te=null):Bt=Te.sibling;var Ke=H(z,Te,O[Ne],W);if(Ke===null){Te===null&&(Te=Bt);break}e&&Te&&Ke.alternate===null&&i(z,Te),k=y(Ke,k,Ne),Oe===null?ye=Ke:Oe.sibling=Ke,Oe=Ke,Te=Bt}if(Ne===O.length)return r(z,Te),$e&&Wi(z,Ne),ye;if(Te===null){for(;Ne<O.length;Ne++)Te=ee(z,O[Ne],W),Te!==null&&(k=y(Te,k,Ne),Oe===null?ye=Te:Oe.sibling=Te,Oe=Te);return $e&&Wi(z,Ne),ye}for(Te=s(Te);Ne<O.length;Ne++)Bt=q(Te,z,Ne,O[Ne],W),Bt!==null&&(e&&Bt.alternate!==null&&Te.delete(Bt.key===null?Ne:Bt.key),k=y(Bt,k,Ne),Oe===null?ye=Bt:Oe.sibling=Bt,Oe=Bt);return e&&Te.forEach(function(Ui){return i(z,Ui)}),$e&&Wi(z,Ne),ye}function we(z,k,O,W){if(O==null)throw Error(a(151));for(var ye=null,Oe=null,Te=k,Ne=k=0,Bt=null,Ke=O.next();Te!==null&&!Ke.done;Ne++,Ke=O.next()){Te.index>Ne?(Bt=Te,Te=null):Bt=Te.sibling;var Ui=H(z,Te,Ke.value,W);if(Ui===null){Te===null&&(Te=Bt);break}e&&Te&&Ui.alternate===null&&i(z,Te),k=y(Ui,k,Ne),Oe===null?ye=Ui:Oe.sibling=Ui,Oe=Ui,Te=Bt}if(Ke.done)return r(z,Te),$e&&Wi(z,Ne),ye;if(Te===null){for(;!Ke.done;Ne++,Ke=O.next())Ke=ee(z,Ke.value,W),Ke!==null&&(k=y(Ke,k,Ne),Oe===null?ye=Ke:Oe.sibling=Ke,Oe=Ke);return $e&&Wi(z,Ne),ye}for(Te=s(Te);!Ke.done;Ne++,Ke=O.next())Ke=q(Te,z,Ne,Ke.value,W),Ke!==null&&(e&&Ke.alternate!==null&&Te.delete(Ke.key===null?Ne:Ke.key),k=y(Ke,k,Ne),Oe===null?ye=Ke:Oe.sibling=Ke,Oe=Ke);return e&&Te.forEach(function(Rv){return i(z,Rv)}),$e&&Wi(z,Ne),ye}function it(z,k,O,W){if(typeof O=="object"&&O!==null&&O.type===D&&O.key===null&&(O=O.props.children),typeof O=="object"&&O!==null){switch(O.$$typeof){case E:e:{for(var ye=O.key;k!==null;){if(k.key===ye){if(ye=O.type,ye===D){if(k.tag===7){r(z,k.sibling),W=d(k,O.props.children),W.return=z,z=W;break e}}else if(k.elementType===ye||typeof ye=="object"&&ye!==null&&ye.$$typeof===ve&&Th(ye)===k.type){r(z,k.sibling),W=d(k,O.props),zr(W,O),W.return=z,z=W;break e}r(z,k);break}else i(z,k);k=k.sibling}O.type===D?(W=Ji(O.props.children,z.mode,W,O.key),W.return=z,z=W):(W=qa(O.type,O.key,O.props,null,z.mode,W),zr(W,O),W.return=z,z=W)}return S(z);case C:e:{for(ye=O.key;k!==null;){if(k.key===ye)if(k.tag===4&&k.stateNode.containerInfo===O.containerInfo&&k.stateNode.implementation===O.implementation){r(z,k.sibling),W=d(k,O.children||[]),W.return=z,z=W;break e}else{r(z,k);break}else i(z,k);k=k.sibling}W=Hs(O,z.mode,W),W.return=z,z=W}return S(z);case ve:return ye=O._init,O=ye(O._payload),it(z,k,O,W)}if(de(O))return Me(z,k,O,W);if(se(O)){if(ye=se(O),typeof ye!="function")throw Error(a(150));return O=ye.call(O),we(z,k,O,W)}if(typeof O.then=="function")return it(z,k,ao(O),W);if(O.$$typeof===$)return it(z,k,Ka(z,O),W);oo(z,O)}return typeof O=="string"&&O!==""||typeof O=="number"||typeof O=="bigint"?(O=""+O,k!==null&&k.tag===6?(r(z,k.sibling),W=d(k,O),W.return=z,z=W):(r(z,k),W=Ps(O,z.mode,W),W.return=z,z=W),S(z)):r(z,k)}return function(z,k,O,W){try{Ur=0;var ye=it(z,k,O,W);return Ul=null,ye}catch(Te){if(Te===Nr||Te===$a)throw Te;var Oe=mn(29,Te,null,z.mode);return Oe.lanes=W,Oe.return=z,Oe}finally{}}}var zl=Sh(!0),Ch=Sh(!1),Dn=R(null),qn=null;function Ti(e){var i=e.alternate;w(It,It.current&1),w(Dn,e),qn===null&&(i===null||Rl.current!==null||i.memoizedState!==null)&&(qn=e)}function Eh(e){if(e.tag===22){if(w(It,It.current),w(Dn,e),qn===null){var i=e.alternate;i!==null&&i.memoizedState!==null&&(qn=e)}}else Si()}function Si(){w(It,It.current),w(Dn,Dn.current)}function li(e){j(Dn),qn===e&&(qn=null),j(It)}var It=R(0);function so(e){for(var i=e;i!==null;){if(i.tag===13){var r=i.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||cc(r)))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break;for(;i.sibling===null;){if(i.return===null||i.return===e)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}function Tu(e,i,r,s){i=e.memoizedState,r=r(s,i),r=r==null?i:v({},i,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var Su={enqueueSetState:function(e,i,r){e=e._reactInternals;var s=xn(),d=xi(s);d.payload=i,r!=null&&(d.callback=r),i=vi(e,d,s),i!==null&&(vn(i,e,s),_r(i,e,s))},enqueueReplaceState:function(e,i,r){e=e._reactInternals;var s=xn(),d=xi(s);d.tag=1,d.payload=i,r!=null&&(d.callback=r),i=vi(e,d,s),i!==null&&(vn(i,e,s),_r(i,e,s))},enqueueForceUpdate:function(e,i){e=e._reactInternals;var r=xn(),s=xi(r);s.tag=2,i!=null&&(s.callback=i),i=vi(e,s,r),i!==null&&(vn(i,e,r),_r(i,e,r))}};function wh(e,i,r,s,d,y,S){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(s,y,S):i.prototype&&i.prototype.isPureReactComponent?!vr(r,s)||!vr(d,y):!0}function Ah(e,i,r,s){e=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(r,s),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(r,s),i.state!==e&&Su.enqueueReplaceState(i,i.state,null)}function al(e,i){var r=i;if("ref"in i){r={};for(var s in i)s!=="ref"&&(r[s]=i[s])}if(e=e.defaultProps){r===i&&(r=v({},r));for(var d in e)r[d]===void 0&&(r[d]=e[d])}return r}var uo=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function Nh(e){uo(e)}function Mh(e){console.error(e)}function _h(e){uo(e)}function co(e,i){try{var r=e.onUncaughtError;r(i.value,{componentStack:i.stack})}catch(s){setTimeout(function(){throw s})}}function Dh(e,i,r){try{var s=e.onCaughtError;s(r.value,{componentStack:r.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(d){setTimeout(function(){throw d})}}function Cu(e,i,r){return r=xi(r),r.tag=3,r.payload={element:null},r.callback=function(){co(e,i)},r}function Ih(e){return e=xi(e),e.tag=3,e}function Rh(e,i,r,s){var d=r.type.getDerivedStateFromError;if(typeof d=="function"){var y=s.value;e.payload=function(){return d(y)},e.callback=function(){Dh(i,r,s)}}var S=r.stateNode;S!==null&&typeof S.componentDidCatch=="function"&&(e.callback=function(){Dh(i,r,s),typeof d!="function"&&(Mi===null?Mi=new Set([this]):Mi.add(this));var A=s.stack;this.componentDidCatch(s.value,{componentStack:A!==null?A:""})})}function Rx(e,i,r,s,d){if(r.flags|=32768,s!==null&&typeof s=="object"&&typeof s.then=="function"){if(i=r.alternate,i!==null&&Er(i,r,d,!0),r=Dn.current,r!==null){switch(r.tag){case 13:return qn===null?Ku():r.alternate===null&&vt===0&&(vt=3),r.flags&=-257,r.flags|=65536,r.lanes=d,s===Zs?r.flags|=16384:(i=r.updateQueue,i===null?r.updateQueue=new Set([s]):i.add(s),$u(e,s,d)),!1;case 22:return r.flags|=65536,s===Zs?r.flags|=16384:(i=r.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([s])},r.updateQueue=i):(r=i.retryQueue,r===null?i.retryQueue=new Set([s]):r.add(s)),$u(e,s,d)),!1}throw Error(a(435,r.tag))}return $u(e,s,d),Ku(),!1}if($e)return i=Dn.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=d,s!==Fs&&(e=Error(a(422),{cause:s}),Cr(An(e,r)))):(s!==Fs&&(i=Error(a(423),{cause:s}),Cr(An(i,r))),e=e.current.alternate,e.flags|=65536,d&=-d,e.lanes|=d,s=An(s,r),d=Cu(e.stateNode,s,d),tu(e,d),vt!==4&&(vt=2)),!1;var y=Error(a(520),{cause:s});if(y=An(y,r),Gr===null?Gr=[y]:Gr.push(y),vt!==4&&(vt=2),i===null)return!0;s=An(s,r),r=i;do{switch(r.tag){case 3:return r.flags|=65536,e=d&-d,r.lanes|=e,e=Cu(r.stateNode,s,e),tu(r,e),!1;case 1:if(i=r.type,y=r.stateNode,(r.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(Mi===null||!Mi.has(y))))return r.flags|=65536,d&=-d,r.lanes|=d,d=Ih(d),Rh(d,e,r,s),tu(r,d),!1}r=r.return}while(r!==null);return!1}var kh=Error(a(461)),kt=!1;function Pt(e,i,r,s){i.child=e===null?Ch(i,null,r,s):zl(i,e.child,r,s)}function Lh(e,i,r,s,d){r=r.render;var y=i.ref;if("ref"in s){var S={};for(var A in s)A!=="ref"&&(S[A]=s[A])}else S=s;return il(i),s=au(e,i,r,S,y,d),A=ou(),e!==null&&!kt?(su(e,i,d),ri(e,i,d)):($e&&A&&qs(i),i.flags|=1,Pt(e,i,s,d),i.child)}function Bh(e,i,r,s,d){if(e===null){var y=r.type;return typeof y=="function"&&!Vs(y)&&y.defaultProps===void 0&&r.compare===null?(i.tag=15,i.type=y,Uh(e,i,y,s,d)):(e=qa(r.type,null,s,i,i.mode,d),e.ref=i.ref,e.return=i,i.child=e)}if(y=e.child,!Iu(e,d)){var S=y.memoizedProps;if(r=r.compare,r=r!==null?r:vr,r(S,s)&&e.ref===i.ref)return ri(e,i,d)}return i.flags|=1,e=Zn(y,s),e.ref=i.ref,e.return=i,i.child=e}function Uh(e,i,r,s,d){if(e!==null){var y=e.memoizedProps;if(vr(y,s)&&e.ref===i.ref)if(kt=!1,i.pendingProps=s=y,Iu(e,d))(e.flags&131072)!==0&&(kt=!0);else return i.lanes=e.lanes,ri(e,i,d)}return Eu(e,i,r,s,d)}function zh(e,i,r){var s=i.pendingProps,d=s.children,y=e!==null?e.memoizedState:null;if(s.mode==="hidden"){if((i.flags&128)!==0){if(s=y!==null?y.baseLanes|r:r,e!==null){for(d=i.child=e.child,y=0;d!==null;)y=y|d.lanes|d.childLanes,d=d.sibling;i.childLanes=y&~s}else i.childLanes=0,i.child=null;return jh(e,i,s,r)}if((r&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},e!==null&&Xa(i,y!==null?y.cachePool:null),y!==null?Uf(i,y):iu(),Eh(i);else return i.lanes=i.childLanes=536870912,jh(e,i,y!==null?y.baseLanes|r:r,r)}else y!==null?(Xa(i,y.cachePool),Uf(i,y),Si(),i.memoizedState=null):(e!==null&&Xa(i,null),iu(),Si());return Pt(e,i,d,r),i.child}function jh(e,i,r,s){var d=Js();return d=d===null?null:{parent:Dt._currentValue,pool:d},i.memoizedState={baseLanes:r,cachePool:d},e!==null&&Xa(i,null),iu(),Eh(i),e!==null&&Er(e,i,s,!0),null}function fo(e,i){var r=i.ref;if(r===null)e!==null&&e.ref!==null&&(i.flags|=4194816);else{if(typeof r!="function"&&typeof r!="object")throw Error(a(284));(e===null||e.ref!==r)&&(i.flags|=4194816)}}function Eu(e,i,r,s,d){return il(i),r=au(e,i,r,s,void 0,d),s=ou(),e!==null&&!kt?(su(e,i,d),ri(e,i,d)):($e&&s&&qs(i),i.flags|=1,Pt(e,i,r,d),i.child)}function Oh(e,i,r,s,d,y){return il(i),i.updateQueue=null,r=jf(i,s,r,d),zf(e),s=ou(),e!==null&&!kt?(su(e,i,y),ri(e,i,y)):($e&&s&&qs(i),i.flags|=1,Pt(e,i,r,y),i.child)}function Vh(e,i,r,s,d){if(il(i),i.stateNode===null){var y=Nl,S=r.contextType;typeof S=="object"&&S!==null&&(y=Gt(S)),y=new r(s,y),i.memoizedState=y.state!==null&&y.state!==void 0?y.state:null,y.updater=Su,i.stateNode=y,y._reactInternals=i,y=i.stateNode,y.props=s,y.state=i.memoizedState,y.refs={},Ws(i),S=r.contextType,y.context=typeof S=="object"&&S!==null?Gt(S):Nl,y.state=i.memoizedState,S=r.getDerivedStateFromProps,typeof S=="function"&&(Tu(i,r,S,s),y.state=i.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof y.getSnapshotBeforeUpdate=="function"||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(S=y.state,typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount(),S!==y.state&&Su.enqueueReplaceState(y,y.state,null),Ir(i,s,y,d),Dr(),y.state=i.memoizedState),typeof y.componentDidMount=="function"&&(i.flags|=4194308),s=!0}else if(e===null){y=i.stateNode;var A=i.memoizedProps,_=al(r,A);y.props=_;var V=y.context,Q=r.contextType;S=Nl,typeof Q=="object"&&Q!==null&&(S=Gt(Q));var ee=r.getDerivedStateFromProps;Q=typeof ee=="function"||typeof y.getSnapshotBeforeUpdate=="function",A=i.pendingProps!==A,Q||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(A||V!==S)&&Ah(i,y,s,S),yi=!1;var H=i.memoizedState;y.state=H,Ir(i,s,y,d),Dr(),V=i.memoizedState,A||H!==V||yi?(typeof ee=="function"&&(Tu(i,r,ee,s),V=i.memoizedState),(_=yi||wh(i,r,_,s,H,V,S))?(Q||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount()),typeof y.componentDidMount=="function"&&(i.flags|=4194308)):(typeof y.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=s,i.memoizedState=V),y.props=s,y.state=V,y.context=S,s=_):(typeof y.componentDidMount=="function"&&(i.flags|=4194308),s=!1)}else{y=i.stateNode,eu(e,i),S=i.memoizedProps,Q=al(r,S),y.props=Q,ee=i.pendingProps,H=y.context,V=r.contextType,_=Nl,typeof V=="object"&&V!==null&&(_=Gt(V)),A=r.getDerivedStateFromProps,(V=typeof A=="function"||typeof y.getSnapshotBeforeUpdate=="function")||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(S!==ee||H!==_)&&Ah(i,y,s,_),yi=!1,H=i.memoizedState,y.state=H,Ir(i,s,y,d),Dr();var q=i.memoizedState;S!==ee||H!==q||yi||e!==null&&e.dependencies!==null&&Ya(e.dependencies)?(typeof A=="function"&&(Tu(i,r,A,s),q=i.memoizedState),(Q=yi||wh(i,r,Q,s,H,q,_)||e!==null&&e.dependencies!==null&&Ya(e.dependencies))?(V||typeof y.UNSAFE_componentWillUpdate!="function"&&typeof y.componentWillUpdate!="function"||(typeof y.componentWillUpdate=="function"&&y.componentWillUpdate(s,q,_),typeof y.UNSAFE_componentWillUpdate=="function"&&y.UNSAFE_componentWillUpdate(s,q,_)),typeof y.componentDidUpdate=="function"&&(i.flags|=4),typeof y.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof y.componentDidUpdate!="function"||S===e.memoizedProps&&H===e.memoizedState||(i.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||S===e.memoizedProps&&H===e.memoizedState||(i.flags|=1024),i.memoizedProps=s,i.memoizedState=q),y.props=s,y.state=q,y.context=_,s=Q):(typeof y.componentDidUpdate!="function"||S===e.memoizedProps&&H===e.memoizedState||(i.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||S===e.memoizedProps&&H===e.memoizedState||(i.flags|=1024),s=!1)}return y=s,fo(e,i),s=(i.flags&128)!==0,y||s?(y=i.stateNode,r=s&&typeof r.getDerivedStateFromError!="function"?null:y.render(),i.flags|=1,e!==null&&s?(i.child=zl(i,e.child,null,d),i.child=zl(i,null,r,d)):Pt(e,i,r,d),i.memoizedState=y.state,e=i.child):e=ri(e,i,d),e}function Ph(e,i,r,s){return Sr(),i.flags|=256,Pt(e,i,r,s),i.child}var wu={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Au(e){return{baseLanes:e,cachePool:Mf()}}function Nu(e,i,r){return e=e!==null?e.childLanes&~r:0,i&&(e|=In),e}function Hh(e,i,r){var s=i.pendingProps,d=!1,y=(i.flags&128)!==0,S;if((S=y)||(S=e!==null&&e.memoizedState===null?!1:(It.current&2)!==0),S&&(d=!0,i.flags&=-129),S=(i.flags&32)!==0,i.flags&=-33,e===null){if($e){if(d?Ti(i):Si(),$e){var A=xt,_;if(_=A){e:{for(_=A,A=Hn;_.nodeType!==8;){if(!A){A=null;break e}if(_=On(_.nextSibling),_===null){A=null;break e}}A=_}A!==null?(i.memoizedState={dehydrated:A,treeContext:Zi!==null?{id:Wn,overflow:ei}:null,retryLane:536870912,hydrationErrors:null},_=mn(18,null,null,0),_.stateNode=A,_.return=i,i.child=_,Qt=i,xt=null,_=!0):_=!1}_||tl(i)}if(A=i.memoizedState,A!==null&&(A=A.dehydrated,A!==null))return cc(A)?i.lanes=32:i.lanes=536870912,null;li(i)}return A=s.children,s=s.fallback,d?(Si(),d=i.mode,A=ho({mode:"hidden",children:A},d),s=Ji(s,d,r,null),A.return=i,s.return=i,A.sibling=s,i.child=A,d=i.child,d.memoizedState=Au(r),d.childLanes=Nu(e,S,r),i.memoizedState=wu,s):(Ti(i),Mu(i,A))}if(_=e.memoizedState,_!==null&&(A=_.dehydrated,A!==null)){if(y)i.flags&256?(Ti(i),i.flags&=-257,i=_u(e,i,r)):i.memoizedState!==null?(Si(),i.child=e.child,i.flags|=128,i=null):(Si(),d=s.fallback,A=i.mode,s=ho({mode:"visible",children:s.children},A),d=Ji(d,A,r,null),d.flags|=2,s.return=i,d.return=i,s.sibling=d,i.child=s,zl(i,e.child,null,r),s=i.child,s.memoizedState=Au(r),s.childLanes=Nu(e,S,r),i.memoizedState=wu,i=d);else if(Ti(i),cc(A)){if(S=A.nextSibling&&A.nextSibling.dataset,S)var V=S.dgst;S=V,s=Error(a(419)),s.stack="",s.digest=S,Cr({value:s,source:null,stack:null}),i=_u(e,i,r)}else if(kt||Er(e,i,r,!1),S=(r&e.childLanes)!==0,kt||S){if(S=ot,S!==null&&(s=r&-r,s=(s&42)!==0?1:le(s),s=(s&(S.suspendedLanes|r))!==0?0:s,s!==0&&s!==_.retryLane))throw _.retryLane=s,Al(e,s),vn(S,e,s),kh;A.data==="$?"||Ku(),i=_u(e,i,r)}else A.data==="$?"?(i.flags|=192,i.child=e.child,i=null):(e=_.treeContext,xt=On(A.nextSibling),Qt=i,$e=!0,el=null,Hn=!1,e!==null&&(Mn[_n++]=Wn,Mn[_n++]=ei,Mn[_n++]=Zi,Wn=e.id,ei=e.overflow,Zi=i),i=Mu(i,s.children),i.flags|=4096);return i}return d?(Si(),d=s.fallback,A=i.mode,_=e.child,V=_.sibling,s=Zn(_,{mode:"hidden",children:s.children}),s.subtreeFlags=_.subtreeFlags&65011712,V!==null?d=Zn(V,d):(d=Ji(d,A,r,null),d.flags|=2),d.return=i,s.return=i,s.sibling=d,i.child=s,s=d,d=i.child,A=e.child.memoizedState,A===null?A=Au(r):(_=A.cachePool,_!==null?(V=Dt._currentValue,_=_.parent!==V?{parent:V,pool:V}:_):_=Mf(),A={baseLanes:A.baseLanes|r,cachePool:_}),d.memoizedState=A,d.childLanes=Nu(e,S,r),i.memoizedState=wu,s):(Ti(i),r=e.child,e=r.sibling,r=Zn(r,{mode:"visible",children:s.children}),r.return=i,r.sibling=null,e!==null&&(S=i.deletions,S===null?(i.deletions=[e],i.flags|=16):S.push(e)),i.child=r,i.memoizedState=null,r)}function Mu(e,i){return i=ho({mode:"visible",children:i},e.mode),i.return=e,e.child=i}function ho(e,i){return e=mn(22,e,null,i),e.lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function _u(e,i,r){return zl(i,e.child,null,r),e=Mu(i,i.pendingProps.children),e.flags|=2,i.memoizedState=null,e}function qh(e,i,r){e.lanes|=i;var s=e.alternate;s!==null&&(s.lanes|=i),Ks(e.return,i,r)}function Du(e,i,r,s,d){var y=e.memoizedState;y===null?e.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:s,tail:r,tailMode:d}:(y.isBackwards=i,y.rendering=null,y.renderingStartTime=0,y.last=s,y.tail=r,y.tailMode=d)}function Gh(e,i,r){var s=i.pendingProps,d=s.revealOrder,y=s.tail;if(Pt(e,i,s.children,r),s=It.current,(s&2)!==0)s=s&1|2,i.flags|=128;else{if(e!==null&&(e.flags&128)!==0)e:for(e=i.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&qh(e,r,i);else if(e.tag===19)qh(e,r,i);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===i)break e;for(;e.sibling===null;){if(e.return===null||e.return===i)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}s&=1}switch(w(It,s),d){case"forwards":for(r=i.child,d=null;r!==null;)e=r.alternate,e!==null&&so(e)===null&&(d=r),r=r.sibling;r=d,r===null?(d=i.child,i.child=null):(d=r.sibling,r.sibling=null),Du(i,!1,d,r,y);break;case"backwards":for(r=null,d=i.child,i.child=null;d!==null;){if(e=d.alternate,e!==null&&so(e)===null){i.child=d;break}e=d.sibling,d.sibling=r,r=d,d=e}Du(i,!0,r,null,y);break;case"together":Du(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function ri(e,i,r){if(e!==null&&(i.dependencies=e.dependencies),Ni|=i.lanes,(r&i.childLanes)===0)if(e!==null){if(Er(e,i,r,!1),(r&i.childLanes)===0)return null}else return null;if(e!==null&&i.child!==e.child)throw Error(a(153));if(i.child!==null){for(e=i.child,r=Zn(e,e.pendingProps),i.child=r,r.return=i;e.sibling!==null;)e=e.sibling,r=r.sibling=Zn(e,e.pendingProps),r.return=i;r.sibling=null}return i.child}function Iu(e,i){return(e.lanes&i)!==0?!0:(e=e.dependencies,!!(e!==null&&Ya(e)))}function kx(e,i,r){switch(i.tag){case 3:ue(i,i.stateNode.containerInfo),gi(i,Dt,e.memoizedState.cache),Sr();break;case 27:case 5:De(i);break;case 4:ue(i,i.stateNode.containerInfo);break;case 10:gi(i,i.type,i.memoizedProps.value);break;case 13:var s=i.memoizedState;if(s!==null)return s.dehydrated!==null?(Ti(i),i.flags|=128,null):(r&i.child.childLanes)!==0?Hh(e,i,r):(Ti(i),e=ri(e,i,r),e!==null?e.sibling:null);Ti(i);break;case 19:var d=(e.flags&128)!==0;if(s=(r&i.childLanes)!==0,s||(Er(e,i,r,!1),s=(r&i.childLanes)!==0),d){if(s)return Gh(e,i,r);i.flags|=128}if(d=i.memoizedState,d!==null&&(d.rendering=null,d.tail=null,d.lastEffect=null),w(It,It.current),s)break;return null;case 22:case 23:return i.lanes=0,zh(e,i,r);case 24:gi(i,Dt,e.memoizedState.cache)}return ri(e,i,r)}function Fh(e,i,r){if(e!==null)if(e.memoizedProps!==i.pendingProps)kt=!0;else{if(!Iu(e,r)&&(i.flags&128)===0)return kt=!1,kx(e,i,r);kt=(e.flags&131072)!==0}else kt=!1,$e&&(i.flags&1048576)!==0&&Tf(i,Fa,i.index);switch(i.lanes=0,i.tag){case 16:e:{e=i.pendingProps;var s=i.elementType,d=s._init;if(s=d(s._payload),i.type=s,typeof s=="function")Vs(s)?(e=al(s,e),i.tag=1,i=Vh(null,i,s,e,r)):(i.tag=0,i=Eu(null,i,s,e,r));else{if(s!=null){if(d=s.$$typeof,d===Z){i.tag=11,i=Lh(null,i,s,e,r);break e}else if(d===fe){i.tag=14,i=Bh(null,i,s,e,r);break e}}throw i=ae(s)||s,Error(a(306,i,""))}}return i;case 0:return Eu(e,i,i.type,i.pendingProps,r);case 1:return s=i.type,d=al(s,i.pendingProps),Vh(e,i,s,d,r);case 3:e:{if(ue(i,i.stateNode.containerInfo),e===null)throw Error(a(387));s=i.pendingProps;var y=i.memoizedState;d=y.element,eu(e,i),Ir(i,s,null,r);var S=i.memoizedState;if(s=S.cache,gi(i,Dt,s),s!==y.cache&&Xs(i,[Dt],r,!0),Dr(),s=S.element,y.isDehydrated)if(y={element:s,isDehydrated:!1,cache:S.cache},i.updateQueue.baseState=y,i.memoizedState=y,i.flags&256){i=Ph(e,i,s,r);break e}else if(s!==d){d=An(Error(a(424)),i),Cr(d),i=Ph(e,i,s,r);break e}else{switch(e=i.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(xt=On(e.firstChild),Qt=i,$e=!0,el=null,Hn=!0,r=Ch(i,null,s,r),i.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling}else{if(Sr(),s===d){i=ri(e,i,r);break e}Pt(e,i,s,r)}i=i.child}return i;case 26:return fo(e,i),e===null?(r=$m(i.type,null,i.pendingProps,null))?i.memoizedState=r:$e||(r=i.type,e=i.pendingProps,s=No(I.current).createElement(r),s[Fe]=i,s[dt]=e,qt(s,r,e),yt(s),i.stateNode=s):i.memoizedState=$m(i.type,e.memoizedProps,i.pendingProps,e.memoizedState),null;case 27:return De(i),e===null&&$e&&(s=i.stateNode=Ym(i.type,i.pendingProps,I.current),Qt=i,Hn=!0,d=xt,Ii(i.type)?(dc=d,xt=On(s.firstChild)):xt=d),Pt(e,i,i.pendingProps.children,r),fo(e,i),e===null&&(i.flags|=4194304),i.child;case 5:return e===null&&$e&&((d=s=xt)&&(s=ov(s,i.type,i.pendingProps,Hn),s!==null?(i.stateNode=s,Qt=i,xt=On(s.firstChild),Hn=!1,d=!0):d=!1),d||tl(i)),De(i),d=i.type,y=i.pendingProps,S=e!==null?e.memoizedProps:null,s=y.children,oc(d,y)?s=null:S!==null&&oc(d,S)&&(i.flags|=32),i.memoizedState!==null&&(d=au(e,i,wx,null,null,r),Wr._currentValue=d),fo(e,i),Pt(e,i,s,r),i.child;case 6:return e===null&&$e&&((e=r=xt)&&(r=sv(r,i.pendingProps,Hn),r!==null?(i.stateNode=r,Qt=i,xt=null,e=!0):e=!1),e||tl(i)),null;case 13:return Hh(e,i,r);case 4:return ue(i,i.stateNode.containerInfo),s=i.pendingProps,e===null?i.child=zl(i,null,s,r):Pt(e,i,s,r),i.child;case 11:return Lh(e,i,i.type,i.pendingProps,r);case 7:return Pt(e,i,i.pendingProps,r),i.child;case 8:return Pt(e,i,i.pendingProps.children,r),i.child;case 12:return Pt(e,i,i.pendingProps.children,r),i.child;case 10:return s=i.pendingProps,gi(i,i.type,s.value),Pt(e,i,s.children,r),i.child;case 9:return d=i.type._context,s=i.pendingProps.children,il(i),d=Gt(d),s=s(d),i.flags|=1,Pt(e,i,s,r),i.child;case 14:return Bh(e,i,i.type,i.pendingProps,r);case 15:return Uh(e,i,i.type,i.pendingProps,r);case 19:return Gh(e,i,r);case 31:return s=i.pendingProps,r=i.mode,s={mode:s.mode,children:s.children},e===null?(r=ho(s,r),r.ref=i.ref,i.child=r,r.return=i,i=r):(r=Zn(e.child,s),r.ref=i.ref,i.child=r,r.return=i,i=r),i;case 22:return zh(e,i,r);case 24:return il(i),s=Gt(Dt),e===null?(d=Js(),d===null&&(d=ot,y=$s(),d.pooledCache=y,y.refCount++,y!==null&&(d.pooledCacheLanes|=r),d=y),i.memoizedState={parent:s,cache:d},Ws(i),gi(i,Dt,d)):((e.lanes&r)!==0&&(eu(e,i),Ir(i,null,null,r),Dr()),d=e.memoizedState,y=i.memoizedState,d.parent!==s?(d={parent:s,cache:s},i.memoizedState=d,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=d),gi(i,Dt,s)):(s=y.cache,gi(i,Dt,s),s!==d.cache&&Xs(i,[Dt],r,!0))),Pt(e,i,i.pendingProps.children,r),i.child;case 29:throw i.pendingProps}throw Error(a(156,i.tag))}function ai(e){e.flags|=4}function Yh(e,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!ep(i)){if(i=Dn.current,i!==null&&((Ge&4194048)===Ge?qn!==null:(Ge&62914560)!==Ge&&(Ge&536870912)===0||i!==qn))throw Mr=Zs,_f;e.flags|=8192}}function mo(e,i){i!==null&&(e.flags|=4),e.flags&16384&&(i=e.tag!==22?Na():536870912,e.lanes|=i,Pl|=i)}function jr(e,i){if(!$e)switch(e.tailMode){case"hidden":i=e.tail;for(var r=null;i!==null;)i.alternate!==null&&(r=i),i=i.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var s=null;r!==null;)r.alternate!==null&&(s=r),r=r.sibling;s===null?i||e.tail===null?e.tail=null:e.tail.sibling=null:s.sibling=null}}function mt(e){var i=e.alternate!==null&&e.alternate.child===e.child,r=0,s=0;if(i)for(var d=e.child;d!==null;)r|=d.lanes|d.childLanes,s|=d.subtreeFlags&65011712,s|=d.flags&65011712,d.return=e,d=d.sibling;else for(d=e.child;d!==null;)r|=d.lanes|d.childLanes,s|=d.subtreeFlags,s|=d.flags,d.return=e,d=d.sibling;return e.subtreeFlags|=s,e.childLanes=r,i}function Lx(e,i,r){var s=i.pendingProps;switch(Gs(i),i.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return mt(i),null;case 1:return mt(i),null;case 3:return r=i.stateNode,s=null,e!==null&&(s=e.memoizedState.cache),i.memoizedState.cache!==s&&(i.flags|=2048),ni(Dt),Ae(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Tr(i)?ai(i):e===null||e.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,Ef())),mt(i),null;case 26:return r=i.memoizedState,e===null?(ai(i),r!==null?(mt(i),Yh(i,r)):(mt(i),i.flags&=-16777217)):r?r!==e.memoizedState?(ai(i),mt(i),Yh(i,r)):(mt(i),i.flags&=-16777217):(e.memoizedProps!==s&&ai(i),mt(i),i.flags&=-16777217),null;case 27:Be(i),r=I.current;var d=i.type;if(e!==null&&i.stateNode!=null)e.memoizedProps!==s&&ai(i);else{if(!s){if(i.stateNode===null)throw Error(a(166));return mt(i),null}e=J.current,Tr(i)?Sf(i):(e=Ym(d,s,r),i.stateNode=e,ai(i))}return mt(i),null;case 5:if(Be(i),r=i.type,e!==null&&i.stateNode!=null)e.memoizedProps!==s&&ai(i);else{if(!s){if(i.stateNode===null)throw Error(a(166));return mt(i),null}if(e=J.current,Tr(i))Sf(i);else{switch(d=No(I.current),e){case 1:e=d.createElementNS("http://www.w3.org/2000/svg",r);break;case 2:e=d.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;default:switch(r){case"svg":e=d.createElementNS("http://www.w3.org/2000/svg",r);break;case"math":e=d.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;case"script":e=d.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e=typeof s.is=="string"?d.createElement("select",{is:s.is}):d.createElement("select"),s.multiple?e.multiple=!0:s.size&&(e.size=s.size);break;default:e=typeof s.is=="string"?d.createElement(r,{is:s.is}):d.createElement(r)}}e[Fe]=i,e[dt]=s;e:for(d=i.child;d!==null;){if(d.tag===5||d.tag===6)e.appendChild(d.stateNode);else if(d.tag!==4&&d.tag!==27&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===i)break e;for(;d.sibling===null;){if(d.return===null||d.return===i)break e;d=d.return}d.sibling.return=d.return,d=d.sibling}i.stateNode=e;e:switch(qt(e,r,s),r){case"button":case"input":case"select":case"textarea":e=!!s.autoFocus;break e;case"img":e=!0;break e;default:e=!1}e&&ai(i)}}return mt(i),i.flags&=-16777217,null;case 6:if(e&&i.stateNode!=null)e.memoizedProps!==s&&ai(i);else{if(typeof s!="string"&&i.stateNode===null)throw Error(a(166));if(e=I.current,Tr(i)){if(e=i.stateNode,r=i.memoizedProps,s=null,d=Qt,d!==null)switch(d.tag){case 27:case 5:s=d.memoizedProps}e[Fe]=i,e=!!(e.nodeValue===r||s!==null&&s.suppressHydrationWarning===!0||Om(e.nodeValue,r)),e||tl(i)}else e=No(e).createTextNode(s),e[Fe]=i,i.stateNode=e}return mt(i),null;case 13:if(s=i.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(d=Tr(i),s!==null&&s.dehydrated!==null){if(e===null){if(!d)throw Error(a(318));if(d=i.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(a(317));d[Fe]=i}else Sr(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;mt(i),d=!1}else d=Ef(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=d),d=!0;if(!d)return i.flags&256?(li(i),i):(li(i),null)}if(li(i),(i.flags&128)!==0)return i.lanes=r,i;if(r=s!==null,e=e!==null&&e.memoizedState!==null,r){s=i.child,d=null,s.alternate!==null&&s.alternate.memoizedState!==null&&s.alternate.memoizedState.cachePool!==null&&(d=s.alternate.memoizedState.cachePool.pool);var y=null;s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(y=s.memoizedState.cachePool.pool),y!==d&&(s.flags|=2048)}return r!==e&&r&&(i.child.flags|=8192),mo(i,i.updateQueue),mt(i),null;case 4:return Ae(),e===null&&nc(i.stateNode.containerInfo),mt(i),null;case 10:return ni(i.type),mt(i),null;case 19:if(j(It),d=i.memoizedState,d===null)return mt(i),null;if(s=(i.flags&128)!==0,y=d.rendering,y===null)if(s)jr(d,!1);else{if(vt!==0||e!==null&&(e.flags&128)!==0)for(e=i.child;e!==null;){if(y=so(e),y!==null){for(i.flags|=128,jr(d,!1),e=y.updateQueue,i.updateQueue=e,mo(i,e),i.subtreeFlags=0,e=r,r=i.child;r!==null;)bf(r,e),r=r.sibling;return w(It,It.current&1|2),i.child}e=e.sibling}d.tail!==null&&qe()>yo&&(i.flags|=128,s=!0,jr(d,!1),i.lanes=4194304)}else{if(!s)if(e=so(y),e!==null){if(i.flags|=128,s=!0,e=e.updateQueue,i.updateQueue=e,mo(i,e),jr(d,!0),d.tail===null&&d.tailMode==="hidden"&&!y.alternate&&!$e)return mt(i),null}else 2*qe()-d.renderingStartTime>yo&&r!==536870912&&(i.flags|=128,s=!0,jr(d,!1),i.lanes=4194304);d.isBackwards?(y.sibling=i.child,i.child=y):(e=d.last,e!==null?e.sibling=y:i.child=y,d.last=y)}return d.tail!==null?(i=d.tail,d.rendering=i,d.tail=i.sibling,d.renderingStartTime=qe(),i.sibling=null,e=It.current,w(It,s?e&1|2:e&1),i):(mt(i),null);case 22:case 23:return li(i),lu(),s=i.memoizedState!==null,e!==null?e.memoizedState!==null!==s&&(i.flags|=8192):s&&(i.flags|=8192),s?(r&536870912)!==0&&(i.flags&128)===0&&(mt(i),i.subtreeFlags&6&&(i.flags|=8192)):mt(i),r=i.updateQueue,r!==null&&mo(i,r.retryQueue),r=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(r=e.memoizedState.cachePool.pool),s=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(s=i.memoizedState.cachePool.pool),s!==r&&(i.flags|=2048),e!==null&&j(ll),null;case 24:return r=null,e!==null&&(r=e.memoizedState.cache),i.memoizedState.cache!==r&&(i.flags|=2048),ni(Dt),mt(i),null;case 25:return null;case 30:return null}throw Error(a(156,i.tag))}function Bx(e,i){switch(Gs(i),i.tag){case 1:return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 3:return ni(Dt),Ae(),e=i.flags,(e&65536)!==0&&(e&128)===0?(i.flags=e&-65537|128,i):null;case 26:case 27:case 5:return Be(i),null;case 13:if(li(i),e=i.memoizedState,e!==null&&e.dehydrated!==null){if(i.alternate===null)throw Error(a(340));Sr()}return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 19:return j(It),null;case 4:return Ae(),null;case 10:return ni(i.type),null;case 22:case 23:return li(i),lu(),e!==null&&j(ll),e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 24:return ni(Dt),null;case 25:return null;default:return null}}function Kh(e,i){switch(Gs(i),i.tag){case 3:ni(Dt),Ae();break;case 26:case 27:case 5:Be(i);break;case 4:Ae();break;case 13:li(i);break;case 19:j(It);break;case 10:ni(i.type);break;case 22:case 23:li(i),lu(),e!==null&&j(ll);break;case 24:ni(Dt)}}function Or(e,i){try{var r=i.updateQueue,s=r!==null?r.lastEffect:null;if(s!==null){var d=s.next;r=d;do{if((r.tag&e)===e){s=void 0;var y=r.create,S=r.inst;s=y(),S.destroy=s}r=r.next}while(r!==d)}}catch(A){rt(i,i.return,A)}}function Ci(e,i,r){try{var s=i.updateQueue,d=s!==null?s.lastEffect:null;if(d!==null){var y=d.next;s=y;do{if((s.tag&e)===e){var S=s.inst,A=S.destroy;if(A!==void 0){S.destroy=void 0,d=i;var _=r,V=A;try{V()}catch(Q){rt(d,_,Q)}}}s=s.next}while(s!==y)}}catch(Q){rt(i,i.return,Q)}}function Xh(e){var i=e.updateQueue;if(i!==null){var r=e.stateNode;try{Bf(i,r)}catch(s){rt(e,e.return,s)}}}function $h(e,i,r){r.props=al(e.type,e.memoizedProps),r.state=e.memoizedState;try{r.componentWillUnmount()}catch(s){rt(e,i,s)}}function Vr(e,i){try{var r=e.ref;if(r!==null){switch(e.tag){case 26:case 27:case 5:var s=e.stateNode;break;case 30:s=e.stateNode;break;default:s=e.stateNode}typeof r=="function"?e.refCleanup=r(s):r.current=s}}catch(d){rt(e,i,d)}}function Gn(e,i){var r=e.ref,s=e.refCleanup;if(r!==null)if(typeof s=="function")try{s()}catch(d){rt(e,i,d)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof r=="function")try{r(null)}catch(d){rt(e,i,d)}else r.current=null}function Qh(e){var i=e.type,r=e.memoizedProps,s=e.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":r.autoFocus&&s.focus();break e;case"img":r.src?s.src=r.src:r.srcSet&&(s.srcset=r.srcSet)}}catch(d){rt(e,e.return,d)}}function Ru(e,i,r){try{var s=e.stateNode;nv(s,e.type,r,i),s[dt]=i}catch(d){rt(e,e.return,d)}}function Jh(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Ii(e.type)||e.tag===4}function ku(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Jh(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Ii(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Lu(e,i,r){var s=e.tag;if(s===5||s===6)e=e.stateNode,i?(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r).insertBefore(e,i):(i=r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,i.appendChild(e),r=r._reactRootContainer,r!=null||i.onclick!==null||(i.onclick=Ao));else if(s!==4&&(s===27&&Ii(e.type)&&(r=e.stateNode,i=null),e=e.child,e!==null))for(Lu(e,i,r),e=e.sibling;e!==null;)Lu(e,i,r),e=e.sibling}function po(e,i,r){var s=e.tag;if(s===5||s===6)e=e.stateNode,i?r.insertBefore(e,i):r.appendChild(e);else if(s!==4&&(s===27&&Ii(e.type)&&(r=e.stateNode),e=e.child,e!==null))for(po(e,i,r),e=e.sibling;e!==null;)po(e,i,r),e=e.sibling}function Zh(e){var i=e.stateNode,r=e.memoizedProps;try{for(var s=e.type,d=i.attributes;d.length;)i.removeAttributeNode(d[0]);qt(i,s,r),i[Fe]=e,i[dt]=r}catch(y){rt(e,e.return,y)}}var oi=!1,Ct=!1,Bu=!1,Wh=typeof WeakSet=="function"?WeakSet:Set,Lt=null;function Ux(e,i){if(e=e.containerInfo,rc=ko,e=cf(e),ks(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var s=r.getSelection&&r.getSelection();if(s&&s.rangeCount!==0){r=s.anchorNode;var d=s.anchorOffset,y=s.focusNode;s=s.focusOffset;try{r.nodeType,y.nodeType}catch{r=null;break e}var S=0,A=-1,_=-1,V=0,Q=0,ee=e,H=null;t:for(;;){for(var q;ee!==r||d!==0&&ee.nodeType!==3||(A=S+d),ee!==y||s!==0&&ee.nodeType!==3||(_=S+s),ee.nodeType===3&&(S+=ee.nodeValue.length),(q=ee.firstChild)!==null;)H=ee,ee=q;for(;;){if(ee===e)break t;if(H===r&&++V===d&&(A=S),H===y&&++Q===s&&(_=S),(q=ee.nextSibling)!==null)break;ee=H,H=ee.parentNode}ee=q}r=A===-1||_===-1?null:{start:A,end:_}}else r=null}r=r||{start:0,end:0}}else r=null;for(ac={focusedElem:e,selectionRange:r},ko=!1,Lt=i;Lt!==null;)if(i=Lt,e=i.child,(i.subtreeFlags&1024)!==0&&e!==null)e.return=i,Lt=e;else for(;Lt!==null;){switch(i=Lt,y=i.alternate,e=i.flags,i.tag){case 0:break;case 11:case 15:break;case 1:if((e&1024)!==0&&y!==null){e=void 0,r=i,d=y.memoizedProps,y=y.memoizedState,s=r.stateNode;try{var Me=al(r.type,d,r.elementType===r.type);e=s.getSnapshotBeforeUpdate(Me,y),s.__reactInternalSnapshotBeforeUpdate=e}catch(we){rt(r,r.return,we)}}break;case 3:if((e&1024)!==0){if(e=i.stateNode.containerInfo,r=e.nodeType,r===9)uc(e);else if(r===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":uc(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(a(163))}if(e=i.sibling,e!==null){e.return=i.return,Lt=e;break}Lt=i.return}}function em(e,i,r){var s=r.flags;switch(r.tag){case 0:case 11:case 15:Ei(e,r),s&4&&Or(5,r);break;case 1:if(Ei(e,r),s&4)if(e=r.stateNode,i===null)try{e.componentDidMount()}catch(S){rt(r,r.return,S)}else{var d=al(r.type,i.memoizedProps);i=i.memoizedState;try{e.componentDidUpdate(d,i,e.__reactInternalSnapshotBeforeUpdate)}catch(S){rt(r,r.return,S)}}s&64&&Xh(r),s&512&&Vr(r,r.return);break;case 3:if(Ei(e,r),s&64&&(e=r.updateQueue,e!==null)){if(i=null,r.child!==null)switch(r.child.tag){case 27:case 5:i=r.child.stateNode;break;case 1:i=r.child.stateNode}try{Bf(e,i)}catch(S){rt(r,r.return,S)}}break;case 27:i===null&&s&4&&Zh(r);case 26:case 5:Ei(e,r),i===null&&s&4&&Qh(r),s&512&&Vr(r,r.return);break;case 12:Ei(e,r);break;case 13:Ei(e,r),s&4&&im(e,r),s&64&&(e=r.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(r=Fx.bind(null,r),uv(e,r))));break;case 22:if(s=r.memoizedState!==null||oi,!s){i=i!==null&&i.memoizedState!==null||Ct,d=oi;var y=Ct;oi=s,(Ct=i)&&!y?wi(e,r,(r.subtreeFlags&8772)!==0):Ei(e,r),oi=d,Ct=y}break;case 30:break;default:Ei(e,r)}}function tm(e){var i=e.alternate;i!==null&&(e.alternate=null,tm(i)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(i=e.stateNode,i!==null&&Mt(i)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var ft=null,ln=!1;function si(e,i,r){for(r=r.child;r!==null;)nm(e,i,r),r=r.sibling}function nm(e,i,r){if(ie&&typeof ie.onCommitFiberUnmount=="function")try{ie.onCommitFiberUnmount(X,r)}catch{}switch(r.tag){case 26:Ct||Gn(r,i),si(e,i,r),r.memoizedState?r.memoizedState.count--:r.stateNode&&(r=r.stateNode,r.parentNode.removeChild(r));break;case 27:Ct||Gn(r,i);var s=ft,d=ln;Ii(r.type)&&(ft=r.stateNode,ln=!1),si(e,i,r),$r(r.stateNode),ft=s,ln=d;break;case 5:Ct||Gn(r,i);case 6:if(s=ft,d=ln,ft=null,si(e,i,r),ft=s,ln=d,ft!==null)if(ln)try{(ft.nodeType===9?ft.body:ft.nodeName==="HTML"?ft.ownerDocument.body:ft).removeChild(r.stateNode)}catch(y){rt(r,i,y)}else try{ft.removeChild(r.stateNode)}catch(y){rt(r,i,y)}break;case 18:ft!==null&&(ln?(e=ft,Gm(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,r.stateNode),ia(e)):Gm(ft,r.stateNode));break;case 4:s=ft,d=ln,ft=r.stateNode.containerInfo,ln=!0,si(e,i,r),ft=s,ln=d;break;case 0:case 11:case 14:case 15:Ct||Ci(2,r,i),Ct||Ci(4,r,i),si(e,i,r);break;case 1:Ct||(Gn(r,i),s=r.stateNode,typeof s.componentWillUnmount=="function"&&$h(r,i,s)),si(e,i,r);break;case 21:si(e,i,r);break;case 22:Ct=(s=Ct)||r.memoizedState!==null,si(e,i,r),Ct=s;break;default:si(e,i,r)}}function im(e,i){if(i.memoizedState===null&&(e=i.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{ia(e)}catch(r){rt(i,i.return,r)}}function zx(e){switch(e.tag){case 13:case 19:var i=e.stateNode;return i===null&&(i=e.stateNode=new Wh),i;case 22:return e=e.stateNode,i=e._retryCache,i===null&&(i=e._retryCache=new Wh),i;default:throw Error(a(435,e.tag))}}function Uu(e,i){var r=zx(e);i.forEach(function(s){var d=Yx.bind(null,e,s);r.has(s)||(r.add(s),s.then(d,d))})}function pn(e,i){var r=i.deletions;if(r!==null)for(var s=0;s<r.length;s++){var d=r[s],y=e,S=i,A=S;e:for(;A!==null;){switch(A.tag){case 27:if(Ii(A.type)){ft=A.stateNode,ln=!1;break e}break;case 5:ft=A.stateNode,ln=!1;break e;case 3:case 4:ft=A.stateNode.containerInfo,ln=!0;break e}A=A.return}if(ft===null)throw Error(a(160));nm(y,S,d),ft=null,ln=!1,y=d.alternate,y!==null&&(y.return=null),d.return=null}if(i.subtreeFlags&13878)for(i=i.child;i!==null;)lm(i,e),i=i.sibling}var jn=null;function lm(e,i){var r=e.alternate,s=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:pn(i,e),gn(e),s&4&&(Ci(3,e,e.return),Or(3,e),Ci(5,e,e.return));break;case 1:pn(i,e),gn(e),s&512&&(Ct||r===null||Gn(r,r.return)),s&64&&oi&&(e=e.updateQueue,e!==null&&(s=e.callbacks,s!==null&&(r=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=r===null?s:r.concat(s))));break;case 26:var d=jn;if(pn(i,e),gn(e),s&512&&(Ct||r===null||Gn(r,r.return)),s&4){var y=r!==null?r.memoizedState:null;if(s=e.memoizedState,r===null)if(s===null)if(e.stateNode===null){e:{s=e.type,r=e.memoizedProps,d=d.ownerDocument||d;t:switch(s){case"title":y=d.getElementsByTagName("title")[0],(!y||y[ht]||y[Fe]||y.namespaceURI==="http://www.w3.org/2000/svg"||y.hasAttribute("itemprop"))&&(y=d.createElement(s),d.head.insertBefore(y,d.querySelector("head > title"))),qt(y,s,r),y[Fe]=e,yt(y),s=y;break e;case"link":var S=Zm("link","href",d).get(s+(r.href||""));if(S){for(var A=0;A<S.length;A++)if(y=S[A],y.getAttribute("href")===(r.href==null||r.href===""?null:r.href)&&y.getAttribute("rel")===(r.rel==null?null:r.rel)&&y.getAttribute("title")===(r.title==null?null:r.title)&&y.getAttribute("crossorigin")===(r.crossOrigin==null?null:r.crossOrigin)){S.splice(A,1);break t}}y=d.createElement(s),qt(y,s,r),d.head.appendChild(y);break;case"meta":if(S=Zm("meta","content",d).get(s+(r.content||""))){for(A=0;A<S.length;A++)if(y=S[A],y.getAttribute("content")===(r.content==null?null:""+r.content)&&y.getAttribute("name")===(r.name==null?null:r.name)&&y.getAttribute("property")===(r.property==null?null:r.property)&&y.getAttribute("http-equiv")===(r.httpEquiv==null?null:r.httpEquiv)&&y.getAttribute("charset")===(r.charSet==null?null:r.charSet)){S.splice(A,1);break t}}y=d.createElement(s),qt(y,s,r),d.head.appendChild(y);break;default:throw Error(a(468,s))}y[Fe]=e,yt(y),s=y}e.stateNode=s}else Wm(d,e.type,e.stateNode);else e.stateNode=Jm(d,s,e.memoizedProps);else y!==s?(y===null?r.stateNode!==null&&(r=r.stateNode,r.parentNode.removeChild(r)):y.count--,s===null?Wm(d,e.type,e.stateNode):Jm(d,s,e.memoizedProps)):s===null&&e.stateNode!==null&&Ru(e,e.memoizedProps,r.memoizedProps)}break;case 27:pn(i,e),gn(e),s&512&&(Ct||r===null||Gn(r,r.return)),r!==null&&s&4&&Ru(e,e.memoizedProps,r.memoizedProps);break;case 5:if(pn(i,e),gn(e),s&512&&(Ct||r===null||Gn(r,r.return)),e.flags&32){d=e.stateNode;try{vl(d,"")}catch(q){rt(e,e.return,q)}}s&4&&e.stateNode!=null&&(d=e.memoizedProps,Ru(e,d,r!==null?r.memoizedProps:d)),s&1024&&(Bu=!0);break;case 6:if(pn(i,e),gn(e),s&4){if(e.stateNode===null)throw Error(a(162));s=e.memoizedProps,r=e.stateNode;try{r.nodeValue=s}catch(q){rt(e,e.return,q)}}break;case 3:if(Do=null,d=jn,jn=Mo(i.containerInfo),pn(i,e),jn=d,gn(e),s&4&&r!==null&&r.memoizedState.isDehydrated)try{ia(i.containerInfo)}catch(q){rt(e,e.return,q)}Bu&&(Bu=!1,rm(e));break;case 4:s=jn,jn=Mo(e.stateNode.containerInfo),pn(i,e),gn(e),jn=s;break;case 12:pn(i,e),gn(e);break;case 13:pn(i,e),gn(e),e.child.flags&8192&&e.memoizedState!==null!=(r!==null&&r.memoizedState!==null)&&(Hu=qe()),s&4&&(s=e.updateQueue,s!==null&&(e.updateQueue=null,Uu(e,s)));break;case 22:d=e.memoizedState!==null;var _=r!==null&&r.memoizedState!==null,V=oi,Q=Ct;if(oi=V||d,Ct=Q||_,pn(i,e),Ct=Q,oi=V,gn(e),s&8192)e:for(i=e.stateNode,i._visibility=d?i._visibility&-2:i._visibility|1,d&&(r===null||_||oi||Ct||ol(e)),r=null,i=e;;){if(i.tag===5||i.tag===26){if(r===null){_=r=i;try{if(y=_.stateNode,d)S=y.style,typeof S.setProperty=="function"?S.setProperty("display","none","important"):S.display="none";else{A=_.stateNode;var ee=_.memoizedProps.style,H=ee!=null&&ee.hasOwnProperty("display")?ee.display:null;A.style.display=H==null||typeof H=="boolean"?"":(""+H).trim()}}catch(q){rt(_,_.return,q)}}}else if(i.tag===6){if(r===null){_=i;try{_.stateNode.nodeValue=d?"":_.memoizedProps}catch(q){rt(_,_.return,q)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===e)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break e;for(;i.sibling===null;){if(i.return===null||i.return===e)break e;r===i&&(r=null),i=i.return}r===i&&(r=null),i.sibling.return=i.return,i=i.sibling}s&4&&(s=e.updateQueue,s!==null&&(r=s.retryQueue,r!==null&&(s.retryQueue=null,Uu(e,r))));break;case 19:pn(i,e),gn(e),s&4&&(s=e.updateQueue,s!==null&&(e.updateQueue=null,Uu(e,s)));break;case 30:break;case 21:break;default:pn(i,e),gn(e)}}function gn(e){var i=e.flags;if(i&2){try{for(var r,s=e.return;s!==null;){if(Jh(s)){r=s;break}s=s.return}if(r==null)throw Error(a(160));switch(r.tag){case 27:var d=r.stateNode,y=ku(e);po(e,y,d);break;case 5:var S=r.stateNode;r.flags&32&&(vl(S,""),r.flags&=-33);var A=ku(e);po(e,A,S);break;case 3:case 4:var _=r.stateNode.containerInfo,V=ku(e);Lu(e,V,_);break;default:throw Error(a(161))}}catch(Q){rt(e,e.return,Q)}e.flags&=-3}i&4096&&(e.flags&=-4097)}function rm(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var i=e;rm(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),e=e.sibling}}function Ei(e,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)em(e,i.alternate,i),i=i.sibling}function ol(e){for(e=e.child;e!==null;){var i=e;switch(i.tag){case 0:case 11:case 14:case 15:Ci(4,i,i.return),ol(i);break;case 1:Gn(i,i.return);var r=i.stateNode;typeof r.componentWillUnmount=="function"&&$h(i,i.return,r),ol(i);break;case 27:$r(i.stateNode);case 26:case 5:Gn(i,i.return),ol(i);break;case 22:i.memoizedState===null&&ol(i);break;case 30:ol(i);break;default:ol(i)}e=e.sibling}}function wi(e,i,r){for(r=r&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var s=i.alternate,d=e,y=i,S=y.flags;switch(y.tag){case 0:case 11:case 15:wi(d,y,r),Or(4,y);break;case 1:if(wi(d,y,r),s=y,d=s.stateNode,typeof d.componentDidMount=="function")try{d.componentDidMount()}catch(V){rt(s,s.return,V)}if(s=y,d=s.updateQueue,d!==null){var A=s.stateNode;try{var _=d.shared.hiddenCallbacks;if(_!==null)for(d.shared.hiddenCallbacks=null,d=0;d<_.length;d++)Lf(_[d],A)}catch(V){rt(s,s.return,V)}}r&&S&64&&Xh(y),Vr(y,y.return);break;case 27:Zh(y);case 26:case 5:wi(d,y,r),r&&s===null&&S&4&&Qh(y),Vr(y,y.return);break;case 12:wi(d,y,r);break;case 13:wi(d,y,r),r&&S&4&&im(d,y);break;case 22:y.memoizedState===null&&wi(d,y,r),Vr(y,y.return);break;case 30:break;default:wi(d,y,r)}i=i.sibling}}function zu(e,i){var r=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(r=e.memoizedState.cachePool.pool),e=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(e=i.memoizedState.cachePool.pool),e!==r&&(e!=null&&e.refCount++,r!=null&&wr(r))}function ju(e,i){e=null,i.alternate!==null&&(e=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==e&&(i.refCount++,e!=null&&wr(e))}function Fn(e,i,r,s){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)am(e,i,r,s),i=i.sibling}function am(e,i,r,s){var d=i.flags;switch(i.tag){case 0:case 11:case 15:Fn(e,i,r,s),d&2048&&Or(9,i);break;case 1:Fn(e,i,r,s);break;case 3:Fn(e,i,r,s),d&2048&&(e=null,i.alternate!==null&&(e=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==e&&(i.refCount++,e!=null&&wr(e)));break;case 12:if(d&2048){Fn(e,i,r,s),e=i.stateNode;try{var y=i.memoizedProps,S=y.id,A=y.onPostCommit;typeof A=="function"&&A(S,i.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(_){rt(i,i.return,_)}}else Fn(e,i,r,s);break;case 13:Fn(e,i,r,s);break;case 23:break;case 22:y=i.stateNode,S=i.alternate,i.memoizedState!==null?y._visibility&2?Fn(e,i,r,s):Pr(e,i):y._visibility&2?Fn(e,i,r,s):(y._visibility|=2,jl(e,i,r,s,(i.subtreeFlags&10256)!==0)),d&2048&&zu(S,i);break;case 24:Fn(e,i,r,s),d&2048&&ju(i.alternate,i);break;default:Fn(e,i,r,s)}}function jl(e,i,r,s,d){for(d=d&&(i.subtreeFlags&10256)!==0,i=i.child;i!==null;){var y=e,S=i,A=r,_=s,V=S.flags;switch(S.tag){case 0:case 11:case 15:jl(y,S,A,_,d),Or(8,S);break;case 23:break;case 22:var Q=S.stateNode;S.memoizedState!==null?Q._visibility&2?jl(y,S,A,_,d):Pr(y,S):(Q._visibility|=2,jl(y,S,A,_,d)),d&&V&2048&&zu(S.alternate,S);break;case 24:jl(y,S,A,_,d),d&&V&2048&&ju(S.alternate,S);break;default:jl(y,S,A,_,d)}i=i.sibling}}function Pr(e,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var r=e,s=i,d=s.flags;switch(s.tag){case 22:Pr(r,s),d&2048&&zu(s.alternate,s);break;case 24:Pr(r,s),d&2048&&ju(s.alternate,s);break;default:Pr(r,s)}i=i.sibling}}var Hr=8192;function Ol(e){if(e.subtreeFlags&Hr)for(e=e.child;e!==null;)om(e),e=e.sibling}function om(e){switch(e.tag){case 26:Ol(e),e.flags&Hr&&e.memoizedState!==null&&Sv(jn,e.memoizedState,e.memoizedProps);break;case 5:Ol(e);break;case 3:case 4:var i=jn;jn=Mo(e.stateNode.containerInfo),Ol(e),jn=i;break;case 22:e.memoizedState===null&&(i=e.alternate,i!==null&&i.memoizedState!==null?(i=Hr,Hr=16777216,Ol(e),Hr=i):Ol(e));break;default:Ol(e)}}function sm(e){var i=e.alternate;if(i!==null&&(e=i.child,e!==null)){i.child=null;do i=e.sibling,e.sibling=null,e=i;while(e!==null)}}function qr(e){var i=e.deletions;if((e.flags&16)!==0){if(i!==null)for(var r=0;r<i.length;r++){var s=i[r];Lt=s,cm(s,e)}sm(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)um(e),e=e.sibling}function um(e){switch(e.tag){case 0:case 11:case 15:qr(e),e.flags&2048&&Ci(9,e,e.return);break;case 3:qr(e);break;case 12:qr(e);break;case 22:var i=e.stateNode;e.memoizedState!==null&&i._visibility&2&&(e.return===null||e.return.tag!==13)?(i._visibility&=-3,go(e)):qr(e);break;default:qr(e)}}function go(e){var i=e.deletions;if((e.flags&16)!==0){if(i!==null)for(var r=0;r<i.length;r++){var s=i[r];Lt=s,cm(s,e)}sm(e)}for(e=e.child;e!==null;){switch(i=e,i.tag){case 0:case 11:case 15:Ci(8,i,i.return),go(i);break;case 22:r=i.stateNode,r._visibility&2&&(r._visibility&=-3,go(i));break;default:go(i)}e=e.sibling}}function cm(e,i){for(;Lt!==null;){var r=Lt;switch(r.tag){case 0:case 11:case 15:Ci(8,r,i);break;case 23:case 22:if(r.memoizedState!==null&&r.memoizedState.cachePool!==null){var s=r.memoizedState.cachePool.pool;s!=null&&s.refCount++}break;case 24:wr(r.memoizedState.cache)}if(s=r.child,s!==null)s.return=r,Lt=s;else e:for(r=e;Lt!==null;){s=Lt;var d=s.sibling,y=s.return;if(tm(s),s===r){Lt=null;break e}if(d!==null){d.return=y,Lt=d;break e}Lt=y}}}var jx={getCacheForType:function(e){var i=Gt(Dt),r=i.data.get(e);return r===void 0&&(r=e(),i.data.set(e,r)),r}},Ox=typeof WeakMap=="function"?WeakMap:Map,Ze=0,ot=null,Ve=null,Ge=0,We=0,yn=null,Ai=!1,Vl=!1,Ou=!1,ui=0,vt=0,Ni=0,sl=0,Vu=0,In=0,Pl=0,Gr=null,rn=null,Pu=!1,Hu=0,yo=1/0,xo=null,Mi=null,Ht=0,_i=null,Hl=null,ql=0,qu=0,Gu=null,dm=null,Fr=0,Fu=null;function xn(){if((Ze&2)!==0&&Ge!==0)return Ge&-Ge;if(P.T!==null){var e=Dl;return e!==0?e:Zu()}return Re()}function fm(){In===0&&(In=(Ge&536870912)===0||$e?Aa():536870912);var e=Dn.current;return e!==null&&(e.flags|=32),In}function vn(e,i,r){(e===ot&&(We===2||We===9)||e.cancelPendingCommit!==null)&&(Gl(e,0),Di(e,Ge,In,!1)),mi(e,r),((Ze&2)===0||e!==ot)&&(e===ot&&((Ze&2)===0&&(sl|=r),vt===4&&Di(e,Ge,In,!1)),Yn(e))}function hm(e,i,r){if((Ze&6)!==0)throw Error(a(327));var s=!r&&(i&124)===0&&(i&e.expiredLanes)===0||Jt(e,i),d=s?Hx(e,i):Xu(e,i,!0),y=s;do{if(d===0){Vl&&!s&&Di(e,i,0,!1);break}else{if(r=e.current.alternate,y&&!Vx(r)){d=Xu(e,i,!1),y=!1;continue}if(d===2){if(y=i,e.errorRecoveryDisabledLanes&y)var S=0;else S=e.pendingLanes&-536870913,S=S!==0?S:S&536870912?536870912:0;if(S!==0){i=S;e:{var A=e;d=Gr;var _=A.current.memoizedState.isDehydrated;if(_&&(Gl(A,S).flags|=256),S=Xu(A,S,!1),S!==2){if(Ou&&!_){A.errorRecoveryDisabledLanes|=y,sl|=y,d=4;break e}y=rn,rn=d,y!==null&&(rn===null?rn=y:rn.push.apply(rn,y))}d=S}if(y=!1,d!==2)continue}}if(d===1){Gl(e,0),Di(e,i,0,!0);break}e:{switch(s=e,y=d,y){case 0:case 1:throw Error(a(345));case 4:if((i&4194048)!==i)break;case 6:Di(s,i,In,!Ai);break e;case 2:rn=null;break;case 3:case 5:break;default:throw Error(a(329))}if((i&62914560)===i&&(d=Hu+300-qe(),10<d)){if(Di(s,i,In,!Ai),Et(s,0,!0)!==0)break e;s.timeoutHandle=Hm(mm.bind(null,s,r,rn,xo,Pu,i,In,sl,Pl,Ai,y,2,-0,0),d);break e}mm(s,r,rn,xo,Pu,i,In,sl,Pl,Ai,y,0,-0,0)}}break}while(!0);Yn(e)}function mm(e,i,r,s,d,y,S,A,_,V,Q,ee,H,q){if(e.timeoutHandle=-1,ee=i.subtreeFlags,(ee&8192||(ee&16785408)===16785408)&&(Zr={stylesheets:null,count:0,unsuspend:Tv},om(i),ee=Cv(),ee!==null)){e.cancelPendingCommit=ee(Tm.bind(null,e,i,y,r,s,d,S,A,_,Q,1,H,q)),Di(e,y,S,!V);return}Tm(e,i,y,r,s,d,S,A,_)}function Vx(e){for(var i=e;;){var r=i.tag;if((r===0||r===11||r===15)&&i.flags&16384&&(r=i.updateQueue,r!==null&&(r=r.stores,r!==null)))for(var s=0;s<r.length;s++){var d=r[s],y=d.getSnapshot;d=d.value;try{if(!hn(y(),d))return!1}catch{return!1}}if(r=i.child,i.subtreeFlags&16384&&r!==null)r.return=i,i=r;else{if(i===e)break;for(;i.sibling===null;){if(i.return===null||i.return===e)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Di(e,i,r,s){i&=~Vu,i&=~sl,e.suspendedLanes|=i,e.pingedLanes&=~i,s&&(e.warmLanes|=i),s=e.expirationTimes;for(var d=i;0<d;){var y=31-Ee(d),S=1<<y;s[y]=-1,d&=~S}r!==0&&G(e,r,i)}function vo(){return(Ze&6)===0?(Yr(0),!1):!0}function Yu(){if(Ve!==null){if(We===0)var e=Ve.return;else e=Ve,ti=nl=null,uu(e),Ul=null,Ur=0,e=Ve;for(;e!==null;)Kh(e.alternate,e),e=e.return;Ve=null}}function Gl(e,i){var r=e.timeoutHandle;r!==-1&&(e.timeoutHandle=-1,lv(r)),r=e.cancelPendingCommit,r!==null&&(e.cancelPendingCommit=null,r()),Yu(),ot=e,Ve=r=Zn(e.current,null),Ge=i,We=0,yn=null,Ai=!1,Vl=Jt(e,i),Ou=!1,Pl=In=Vu=sl=Ni=vt=0,rn=Gr=null,Pu=!1,(i&8)!==0&&(i|=i&32);var s=e.entangledLanes;if(s!==0)for(e=e.entanglements,s&=i;0<s;){var d=31-Ee(s),y=1<<d;i|=e[d],s&=~y}return ui=i,Va(),r}function pm(e,i){Ue=null,P.H=ro,i===Nr||i===$a?(i=Rf(),We=3):i===_f?(i=Rf(),We=4):We=i===kh?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,yn=i,Ve===null&&(vt=1,co(e,An(i,e.current)))}function gm(){var e=P.H;return P.H=ro,e===null?ro:e}function ym(){var e=P.A;return P.A=jx,e}function Ku(){vt=4,Ai||(Ge&4194048)!==Ge&&Dn.current!==null||(Vl=!0),(Ni&134217727)===0&&(sl&134217727)===0||ot===null||Di(ot,Ge,In,!1)}function Xu(e,i,r){var s=Ze;Ze|=2;var d=gm(),y=ym();(ot!==e||Ge!==i)&&(xo=null,Gl(e,i)),i=!1;var S=vt;e:do try{if(We!==0&&Ve!==null){var A=Ve,_=yn;switch(We){case 8:Yu(),S=6;break e;case 3:case 2:case 9:case 6:Dn.current===null&&(i=!0);var V=We;if(We=0,yn=null,Fl(e,A,_,V),r&&Vl){S=0;break e}break;default:V=We,We=0,yn=null,Fl(e,A,_,V)}}Px(),S=vt;break}catch(Q){pm(e,Q)}while(!0);return i&&e.shellSuspendCounter++,ti=nl=null,Ze=s,P.H=d,P.A=y,Ve===null&&(ot=null,Ge=0,Va()),S}function Px(){for(;Ve!==null;)xm(Ve)}function Hx(e,i){var r=Ze;Ze|=2;var s=gm(),d=ym();ot!==e||Ge!==i?(xo=null,yo=qe()+500,Gl(e,i)):Vl=Jt(e,i);e:do try{if(We!==0&&Ve!==null){i=Ve;var y=yn;t:switch(We){case 1:We=0,yn=null,Fl(e,i,y,1);break;case 2:case 9:if(Df(y)){We=0,yn=null,vm(i);break}i=function(){We!==2&&We!==9||ot!==e||(We=7),Yn(e)},y.then(i,i);break e;case 3:We=7;break e;case 4:We=5;break e;case 7:Df(y)?(We=0,yn=null,vm(i)):(We=0,yn=null,Fl(e,i,y,7));break;case 5:var S=null;switch(Ve.tag){case 26:S=Ve.memoizedState;case 5:case 27:var A=Ve;if(!S||ep(S)){We=0,yn=null;var _=A.sibling;if(_!==null)Ve=_;else{var V=A.return;V!==null?(Ve=V,bo(V)):Ve=null}break t}}We=0,yn=null,Fl(e,i,y,5);break;case 6:We=0,yn=null,Fl(e,i,y,6);break;case 8:Yu(),vt=6;break e;default:throw Error(a(462))}}qx();break}catch(Q){pm(e,Q)}while(!0);return ti=nl=null,P.H=s,P.A=d,Ze=r,Ve!==null?0:(ot=null,Ge=0,Va(),vt)}function qx(){for(;Ve!==null&&!Rt();)xm(Ve)}function xm(e){var i=Fh(e.alternate,e,ui);e.memoizedProps=e.pendingProps,i===null?bo(e):Ve=i}function vm(e){var i=e,r=i.alternate;switch(i.tag){case 15:case 0:i=Oh(r,i,i.pendingProps,i.type,void 0,Ge);break;case 11:i=Oh(r,i,i.pendingProps,i.type.render,i.ref,Ge);break;case 5:uu(i);default:Kh(r,i),i=Ve=bf(i,ui),i=Fh(r,i,ui)}e.memoizedProps=e.pendingProps,i===null?bo(e):Ve=i}function Fl(e,i,r,s){ti=nl=null,uu(i),Ul=null,Ur=0;var d=i.return;try{if(Rx(e,d,i,r,Ge)){vt=1,co(e,An(r,e.current)),Ve=null;return}}catch(y){if(d!==null)throw Ve=d,y;vt=1,co(e,An(r,e.current)),Ve=null;return}i.flags&32768?($e||s===1?e=!0:Vl||(Ge&536870912)!==0?e=!1:(Ai=e=!0,(s===2||s===9||s===3||s===6)&&(s=Dn.current,s!==null&&s.tag===13&&(s.flags|=16384))),bm(i,e)):bo(i)}function bo(e){var i=e;do{if((i.flags&32768)!==0){bm(i,Ai);return}e=i.return;var r=Lx(i.alternate,i,ui);if(r!==null){Ve=r;return}if(i=i.sibling,i!==null){Ve=i;return}Ve=i=e}while(i!==null);vt===0&&(vt=5)}function bm(e,i){do{var r=Bx(e.alternate,e);if(r!==null){r.flags&=32767,Ve=r;return}if(r=e.return,r!==null&&(r.flags|=32768,r.subtreeFlags=0,r.deletions=null),!i&&(e=e.sibling,e!==null)){Ve=e;return}Ve=e=r}while(e!==null);vt=6,Ve=null}function Tm(e,i,r,s,d,y,S,A,_){e.cancelPendingCommit=null;do To();while(Ht!==0);if((Ze&6)!==0)throw Error(a(327));if(i!==null){if(i===e.current)throw Error(a(177));if(y=i.lanes|i.childLanes,y|=js,Ma(e,r,y,S,A,_),e===ot&&(Ve=ot=null,Ge=0),Hl=i,_i=e,ql=r,qu=y,Gu=d,dm=s,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,Kx(fi,function(){return Am(),null})):(e.callbackNode=null,e.callbackPriority=0),s=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||s){s=P.T,P.T=null,d=B.p,B.p=2,S=Ze,Ze|=4;try{Ux(e,i,r)}finally{Ze=S,B.p=d,P.T=s}}Ht=1,Sm(),Cm(),Em()}}function Sm(){if(Ht===1){Ht=0;var e=_i,i=Hl,r=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||r){r=P.T,P.T=null;var s=B.p;B.p=2;var d=Ze;Ze|=4;try{lm(i,e);var y=ac,S=cf(e.containerInfo),A=y.focusedElem,_=y.selectionRange;if(S!==A&&A&&A.ownerDocument&&uf(A.ownerDocument.documentElement,A)){if(_!==null&&ks(A)){var V=_.start,Q=_.end;if(Q===void 0&&(Q=V),"selectionStart"in A)A.selectionStart=V,A.selectionEnd=Math.min(Q,A.value.length);else{var ee=A.ownerDocument||document,H=ee&&ee.defaultView||window;if(H.getSelection){var q=H.getSelection(),Me=A.textContent.length,we=Math.min(_.start,Me),it=_.end===void 0?we:Math.min(_.end,Me);!q.extend&&we>it&&(S=it,it=we,we=S);var z=sf(A,we),k=sf(A,it);if(z&&k&&(q.rangeCount!==1||q.anchorNode!==z.node||q.anchorOffset!==z.offset||q.focusNode!==k.node||q.focusOffset!==k.offset)){var O=ee.createRange();O.setStart(z.node,z.offset),q.removeAllRanges(),we>it?(q.addRange(O),q.extend(k.node,k.offset)):(O.setEnd(k.node,k.offset),q.addRange(O))}}}}for(ee=[],q=A;q=q.parentNode;)q.nodeType===1&&ee.push({element:q,left:q.scrollLeft,top:q.scrollTop});for(typeof A.focus=="function"&&A.focus(),A=0;A<ee.length;A++){var W=ee[A];W.element.scrollLeft=W.left,W.element.scrollTop=W.top}}ko=!!rc,ac=rc=null}finally{Ze=d,B.p=s,P.T=r}}e.current=i,Ht=2}}function Cm(){if(Ht===2){Ht=0;var e=_i,i=Hl,r=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||r){r=P.T,P.T=null;var s=B.p;B.p=2;var d=Ze;Ze|=4;try{em(e,i.alternate,i)}finally{Ze=d,B.p=s,P.T=r}}Ht=3}}function Em(){if(Ht===4||Ht===3){Ht=0,Ut();var e=_i,i=Hl,r=ql,s=dm;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?Ht=5:(Ht=0,Hl=_i=null,wm(e,e.pendingLanes));var d=e.pendingLanes;if(d===0&&(Mi=null),ge(r),i=i.stateNode,ie&&typeof ie.onCommitFiberRoot=="function")try{ie.onCommitFiberRoot(X,i,void 0,(i.current.flags&128)===128)}catch{}if(s!==null){i=P.T,d=B.p,B.p=2,P.T=null;try{for(var y=e.onRecoverableError,S=0;S<s.length;S++){var A=s[S];y(A.value,{componentStack:A.stack})}}finally{P.T=i,B.p=d}}(ql&3)!==0&&To(),Yn(e),d=e.pendingLanes,(r&4194090)!==0&&(d&42)!==0?e===Fu?Fr++:(Fr=0,Fu=e):Fr=0,Yr(0)}}function wm(e,i){(e.pooledCacheLanes&=i)===0&&(i=e.pooledCache,i!=null&&(e.pooledCache=null,wr(i)))}function To(e){return Sm(),Cm(),Em(),Am()}function Am(){if(Ht!==5)return!1;var e=_i,i=qu;qu=0;var r=ge(ql),s=P.T,d=B.p;try{B.p=32>r?32:r,P.T=null,r=Gu,Gu=null;var y=_i,S=ql;if(Ht=0,Hl=_i=null,ql=0,(Ze&6)!==0)throw Error(a(331));var A=Ze;if(Ze|=4,um(y.current),am(y,y.current,S,r),Ze=A,Yr(0,!1),ie&&typeof ie.onPostCommitFiberRoot=="function")try{ie.onPostCommitFiberRoot(X,y)}catch{}return!0}finally{B.p=d,P.T=s,wm(e,i)}}function Nm(e,i,r){i=An(r,i),i=Cu(e.stateNode,i,2),e=vi(e,i,2),e!==null&&(mi(e,2),Yn(e))}function rt(e,i,r){if(e.tag===3)Nm(e,e,r);else for(;i!==null;){if(i.tag===3){Nm(i,e,r);break}else if(i.tag===1){var s=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof s.componentDidCatch=="function"&&(Mi===null||!Mi.has(s))){e=An(r,e),r=Ih(2),s=vi(i,r,2),s!==null&&(Rh(r,s,i,e),mi(s,2),Yn(s));break}}i=i.return}}function $u(e,i,r){var s=e.pingCache;if(s===null){s=e.pingCache=new Ox;var d=new Set;s.set(i,d)}else d=s.get(i),d===void 0&&(d=new Set,s.set(i,d));d.has(r)||(Ou=!0,d.add(r),e=Gx.bind(null,e,i,r),i.then(e,e))}function Gx(e,i,r){var s=e.pingCache;s!==null&&s.delete(i),e.pingedLanes|=e.suspendedLanes&r,e.warmLanes&=~r,ot===e&&(Ge&r)===r&&(vt===4||vt===3&&(Ge&62914560)===Ge&&300>qe()-Hu?(Ze&2)===0&&Gl(e,0):Vu|=r,Pl===Ge&&(Pl=0)),Yn(e)}function Mm(e,i){i===0&&(i=Na()),e=Al(e,i),e!==null&&(mi(e,i),Yn(e))}function Fx(e){var i=e.memoizedState,r=0;i!==null&&(r=i.retryLane),Mm(e,r)}function Yx(e,i){var r=0;switch(e.tag){case 13:var s=e.stateNode,d=e.memoizedState;d!==null&&(r=d.retryLane);break;case 19:s=e.stateNode;break;case 22:s=e.stateNode._retryCache;break;default:throw Error(a(314))}s!==null&&s.delete(i),Mm(e,r)}function Kx(e,i){return Ye(e,i)}var So=null,Yl=null,Qu=!1,Co=!1,Ju=!1,ul=0;function Yn(e){e!==Yl&&e.next===null&&(Yl===null?So=Yl=e:Yl=Yl.next=e),Co=!0,Qu||(Qu=!0,$x())}function Yr(e,i){if(!Ju&&Co){Ju=!0;do for(var r=!1,s=So;s!==null;){if(e!==0){var d=s.pendingLanes;if(d===0)var y=0;else{var S=s.suspendedLanes,A=s.pingedLanes;y=(1<<31-Ee(42|e)+1)-1,y&=d&~(S&~A),y=y&201326741?y&201326741|1:y?y|2:0}y!==0&&(r=!0,Rm(s,y))}else y=Ge,y=Et(s,s===ot?y:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),(y&3)===0||Jt(s,y)||(r=!0,Rm(s,y));s=s.next}while(r);Ju=!1}}function Xx(){_m()}function _m(){Co=Qu=!1;var e=0;ul!==0&&(iv()&&(e=ul),ul=0);for(var i=qe(),r=null,s=So;s!==null;){var d=s.next,y=Dm(s,i);y===0?(s.next=null,r===null?So=d:r.next=d,d===null&&(Yl=r)):(r=s,(e!==0||(y&3)!==0)&&(Co=!0)),s=d}Yr(e)}function Dm(e,i){for(var r=e.suspendedLanes,s=e.pingedLanes,d=e.expirationTimes,y=e.pendingLanes&-62914561;0<y;){var S=31-Ee(y),A=1<<S,_=d[S];_===-1?((A&r)===0||(A&s)!==0)&&(d[S]=Zt(A,i)):_<=i&&(e.expiredLanes|=A),y&=~A}if(i=ot,r=Ge,r=Et(e,e===i?r:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),s=e.callbackNode,r===0||e===i&&(We===2||We===9)||e.cancelPendingCommit!==null)return s!==null&&s!==null&&et(s),e.callbackNode=null,e.callbackPriority=0;if((r&3)===0||Jt(e,r)){if(i=r&-r,i===e.callbackPriority)return i;switch(s!==null&&et(s),ge(r)){case 2:case 8:r=di;break;case 32:r=fi;break;case 268435456:r=hi;break;default:r=fi}return s=Im.bind(null,e),r=Ye(r,s),e.callbackPriority=i,e.callbackNode=r,i}return s!==null&&s!==null&&et(s),e.callbackPriority=2,e.callbackNode=null,2}function Im(e,i){if(Ht!==0&&Ht!==5)return e.callbackNode=null,e.callbackPriority=0,null;var r=e.callbackNode;if(To()&&e.callbackNode!==r)return null;var s=Ge;return s=Et(e,e===ot?s:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),s===0?null:(hm(e,s,i),Dm(e,qe()),e.callbackNode!=null&&e.callbackNode===r?Im.bind(null,e):null)}function Rm(e,i){if(To())return null;hm(e,i,!0)}function $x(){rv(function(){(Ze&6)!==0?Ye(Un,Xx):_m()})}function Zu(){return ul===0&&(ul=Aa()),ul}function km(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:ka(""+e)}function Lm(e,i){var r=i.ownerDocument.createElement("input");return r.name=i.name,r.value=i.value,e.id&&r.setAttribute("form",e.id),i.parentNode.insertBefore(r,i),e=new FormData(e),r.parentNode.removeChild(r),e}function Qx(e,i,r,s,d){if(i==="submit"&&r&&r.stateNode===d){var y=km((d[dt]||null).action),S=s.submitter;S&&(i=(i=S[dt]||null)?km(i.formAction):S.getAttribute("formAction"),i!==null&&(y=i,S=null));var A=new za("action","action",null,s,d);e.push({event:A,listeners:[{instance:null,listener:function(){if(s.defaultPrevented){if(ul!==0){var _=S?Lm(d,S):new FormData(d);xu(r,{pending:!0,data:_,method:d.method,action:y},null,_)}}else typeof y=="function"&&(A.preventDefault(),_=S?Lm(d,S):new FormData(d),xu(r,{pending:!0,data:_,method:d.method,action:y},y,_))},currentTarget:d}]})}}for(var Wu=0;Wu<zs.length;Wu++){var ec=zs[Wu],Jx=ec.toLowerCase(),Zx=ec[0].toUpperCase()+ec.slice(1);zn(Jx,"on"+Zx)}zn(hf,"onAnimationEnd"),zn(mf,"onAnimationIteration"),zn(pf,"onAnimationStart"),zn("dblclick","onDoubleClick"),zn("focusin","onFocus"),zn("focusout","onBlur"),zn(px,"onTransitionRun"),zn(gx,"onTransitionStart"),zn(yx,"onTransitionCancel"),zn(gf,"onTransitionEnd"),fn("onMouseEnter",["mouseout","mouseover"]),fn("onMouseLeave",["mouseout","mouseover"]),fn("onPointerEnter",["pointerout","pointerover"]),fn("onPointerLeave",["pointerout","pointerover"]),Tt("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Tt("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Tt("onBeforeInput",["compositionend","keypress","textInput","paste"]),Tt("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Tt("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Tt("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Kr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Wx=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Kr));function Bm(e,i){i=(i&4)!==0;for(var r=0;r<e.length;r++){var s=e[r],d=s.event;s=s.listeners;e:{var y=void 0;if(i)for(var S=s.length-1;0<=S;S--){var A=s[S],_=A.instance,V=A.currentTarget;if(A=A.listener,_!==y&&d.isPropagationStopped())break e;y=A,d.currentTarget=V;try{y(d)}catch(Q){uo(Q)}d.currentTarget=null,y=_}else for(S=0;S<s.length;S++){if(A=s[S],_=A.instance,V=A.currentTarget,A=A.listener,_!==y&&d.isPropagationStopped())break e;y=A,d.currentTarget=V;try{y(d)}catch(Q){uo(Q)}d.currentTarget=null,y=_}}}}function Pe(e,i){var r=i[en];r===void 0&&(r=i[en]=new Set);var s=e+"__bubble";r.has(s)||(Um(i,e,2,!1),r.add(s))}function tc(e,i,r){var s=0;i&&(s|=4),Um(r,e,s,i)}var Eo="_reactListening"+Math.random().toString(36).slice(2);function nc(e){if(!e[Eo]){e[Eo]=!0,Fi.forEach(function(r){r!=="selectionchange"&&(Wx.has(r)||tc(r,!1,e),tc(r,!0,e))});var i=e.nodeType===9?e:e.ownerDocument;i===null||i[Eo]||(i[Eo]=!0,tc("selectionchange",!1,i))}}function Um(e,i,r,s){switch(ap(i)){case 2:var d=Av;break;case 8:d=Nv;break;default:d=gc}r=d.bind(null,i,r,e),d=void 0,!Es||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(d=!0),s?d!==void 0?e.addEventListener(i,r,{capture:!0,passive:d}):e.addEventListener(i,r,!0):d!==void 0?e.addEventListener(i,r,{passive:d}):e.addEventListener(i,r,!1)}function ic(e,i,r,s,d){var y=s;if((i&1)===0&&(i&2)===0&&s!==null)e:for(;;){if(s===null)return;var S=s.tag;if(S===3||S===4){var A=s.stateNode.containerInfo;if(A===d)break;if(S===4)for(S=s.return;S!==null;){var _=S.tag;if((_===3||_===4)&&S.stateNode.containerInfo===d)return;S=S.return}for(;A!==null;){if(S=gt(A),S===null)return;if(_=S.tag,_===5||_===6||_===26||_===27){s=y=S;continue e}A=A.parentNode}}s=s.return}Hd(function(){var V=y,Q=Ss(r),ee=[];e:{var H=yf.get(e);if(H!==void 0){var q=za,Me=e;switch(e){case"keypress":if(Ba(r)===0)break e;case"keydown":case"keyup":q=Ky;break;case"focusin":Me="focus",q=Ms;break;case"focusout":Me="blur",q=Ms;break;case"beforeblur":case"afterblur":q=Ms;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":q=Fd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":q=By;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":q=Qy;break;case hf:case mf:case pf:q=jy;break;case gf:q=Zy;break;case"scroll":case"scrollend":q=ky;break;case"wheel":q=ex;break;case"copy":case"cut":case"paste":q=Vy;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":q=Kd;break;case"toggle":case"beforetoggle":q=nx}var we=(i&4)!==0,it=!we&&(e==="scroll"||e==="scrollend"),z=we?H!==null?H+"Capture":null:H;we=[];for(var k=V,O;k!==null;){var W=k;if(O=W.stateNode,W=W.tag,W!==5&&W!==26&&W!==27||O===null||z===null||(W=fr(k,z),W!=null&&we.push(Xr(k,W,O))),it)break;k=k.return}0<we.length&&(H=new q(H,Me,null,r,Q),ee.push({event:H,listeners:we}))}}if((i&7)===0){e:{if(H=e==="mouseover"||e==="pointerover",q=e==="mouseout"||e==="pointerout",H&&r!==Ts&&(Me=r.relatedTarget||r.fromElement)&&(gt(Me)||Me[Ot]))break e;if((q||H)&&(H=Q.window===Q?Q:(H=Q.ownerDocument)?H.defaultView||H.parentWindow:window,q?(Me=r.relatedTarget||r.toElement,q=V,Me=Me?gt(Me):null,Me!==null&&(it=u(Me),we=Me.tag,Me!==it||we!==5&&we!==27&&we!==6)&&(Me=null)):(q=null,Me=V),q!==Me)){if(we=Fd,W="onMouseLeave",z="onMouseEnter",k="mouse",(e==="pointerout"||e==="pointerover")&&(we=Kd,W="onPointerLeave",z="onPointerEnter",k="pointer"),it=q==null?H:_t(q),O=Me==null?H:_t(Me),H=new we(W,k+"leave",q,r,Q),H.target=it,H.relatedTarget=O,W=null,gt(Q)===V&&(we=new we(z,k+"enter",Me,r,Q),we.target=O,we.relatedTarget=it,W=we),it=W,q&&Me)t:{for(we=q,z=Me,k=0,O=we;O;O=Kl(O))k++;for(O=0,W=z;W;W=Kl(W))O++;for(;0<k-O;)we=Kl(we),k--;for(;0<O-k;)z=Kl(z),O--;for(;k--;){if(we===z||z!==null&&we===z.alternate)break t;we=Kl(we),z=Kl(z)}we=null}else we=null;q!==null&&zm(ee,H,q,we,!1),Me!==null&&it!==null&&zm(ee,it,Me,we,!0)}}e:{if(H=V?_t(V):window,q=H.nodeName&&H.nodeName.toLowerCase(),q==="select"||q==="input"&&H.type==="file")var ye=tf;else if(Wd(H))if(nf)ye=fx;else{ye=cx;var Oe=ux}else q=H.nodeName,!q||q.toLowerCase()!=="input"||H.type!=="checkbox"&&H.type!=="radio"?V&&bs(V.elementType)&&(ye=tf):ye=dx;if(ye&&(ye=ye(e,V))){ef(ee,ye,r,Q);break e}Oe&&Oe(e,H,V),e==="focusout"&&V&&H.type==="number"&&V.memoizedProps.value!=null&&vs(H,"number",H.value)}switch(Oe=V?_t(V):window,e){case"focusin":(Wd(Oe)||Oe.contentEditable==="true")&&(Cl=Oe,Ls=V,br=null);break;case"focusout":br=Ls=Cl=null;break;case"mousedown":Bs=!0;break;case"contextmenu":case"mouseup":case"dragend":Bs=!1,df(ee,r,Q);break;case"selectionchange":if(mx)break;case"keydown":case"keyup":df(ee,r,Q)}var Te;if(Ds)e:{switch(e){case"compositionstart":var Ne="onCompositionStart";break e;case"compositionend":Ne="onCompositionEnd";break e;case"compositionupdate":Ne="onCompositionUpdate";break e}Ne=void 0}else Sl?Jd(e,r)&&(Ne="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(Ne="onCompositionStart");Ne&&(Xd&&r.locale!=="ko"&&(Sl||Ne!=="onCompositionStart"?Ne==="onCompositionEnd"&&Sl&&(Te=qd()):(pi=Q,ws="value"in pi?pi.value:pi.textContent,Sl=!0)),Oe=wo(V,Ne),0<Oe.length&&(Ne=new Yd(Ne,e,null,r,Q),ee.push({event:Ne,listeners:Oe}),Te?Ne.data=Te:(Te=Zd(r),Te!==null&&(Ne.data=Te)))),(Te=lx?rx(e,r):ax(e,r))&&(Ne=wo(V,"onBeforeInput"),0<Ne.length&&(Oe=new Yd("onBeforeInput","beforeinput",null,r,Q),ee.push({event:Oe,listeners:Ne}),Oe.data=Te)),Qx(ee,e,V,r,Q)}Bm(ee,i)})}function Xr(e,i,r){return{instance:e,listener:i,currentTarget:r}}function wo(e,i){for(var r=i+"Capture",s=[];e!==null;){var d=e,y=d.stateNode;if(d=d.tag,d!==5&&d!==26&&d!==27||y===null||(d=fr(e,r),d!=null&&s.unshift(Xr(e,d,y)),d=fr(e,i),d!=null&&s.push(Xr(e,d,y))),e.tag===3)return s;e=e.return}return[]}function Kl(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function zm(e,i,r,s,d){for(var y=i._reactName,S=[];r!==null&&r!==s;){var A=r,_=A.alternate,V=A.stateNode;if(A=A.tag,_!==null&&_===s)break;A!==5&&A!==26&&A!==27||V===null||(_=V,d?(V=fr(r,y),V!=null&&S.unshift(Xr(r,V,_))):d||(V=fr(r,y),V!=null&&S.push(Xr(r,V,_)))),r=r.return}S.length!==0&&e.push({event:i,listeners:S})}var ev=/\r\n?/g,tv=/\u0000|\uFFFD/g;function jm(e){return(typeof e=="string"?e:""+e).replace(ev,`
`).replace(tv,"")}function Om(e,i){return i=jm(i),jm(e)===i}function Ao(){}function nt(e,i,r,s,d,y){switch(r){case"children":typeof s=="string"?i==="body"||i==="textarea"&&s===""||vl(e,s):(typeof s=="number"||typeof s=="bigint")&&i!=="body"&&vl(e,""+s);break;case"className":Da(e,"class",s);break;case"tabIndex":Da(e,"tabindex",s);break;case"dir":case"role":case"viewBox":case"width":case"height":Da(e,r,s);break;case"style":Vd(e,s,y);break;case"data":if(i!=="object"){Da(e,"data",s);break}case"src":case"href":if(s===""&&(i!=="a"||r!=="href")){e.removeAttribute(r);break}if(s==null||typeof s=="function"||typeof s=="symbol"||typeof s=="boolean"){e.removeAttribute(r);break}s=ka(""+s),e.setAttribute(r,s);break;case"action":case"formAction":if(typeof s=="function"){e.setAttribute(r,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof y=="function"&&(r==="formAction"?(i!=="input"&&nt(e,i,"name",d.name,d,null),nt(e,i,"formEncType",d.formEncType,d,null),nt(e,i,"formMethod",d.formMethod,d,null),nt(e,i,"formTarget",d.formTarget,d,null)):(nt(e,i,"encType",d.encType,d,null),nt(e,i,"method",d.method,d,null),nt(e,i,"target",d.target,d,null)));if(s==null||typeof s=="symbol"||typeof s=="boolean"){e.removeAttribute(r);break}s=ka(""+s),e.setAttribute(r,s);break;case"onClick":s!=null&&(e.onclick=Ao);break;case"onScroll":s!=null&&Pe("scroll",e);break;case"onScrollEnd":s!=null&&Pe("scrollend",e);break;case"dangerouslySetInnerHTML":if(s!=null){if(typeof s!="object"||!("__html"in s))throw Error(a(61));if(r=s.__html,r!=null){if(d.children!=null)throw Error(a(60));e.innerHTML=r}}break;case"multiple":e.multiple=s&&typeof s!="function"&&typeof s!="symbol";break;case"muted":e.muted=s&&typeof s!="function"&&typeof s!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(s==null||typeof s=="function"||typeof s=="boolean"||typeof s=="symbol"){e.removeAttribute("xlink:href");break}r=ka(""+s),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",r);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":s!=null&&typeof s!="function"&&typeof s!="symbol"?e.setAttribute(r,""+s):e.removeAttribute(r);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":s&&typeof s!="function"&&typeof s!="symbol"?e.setAttribute(r,""):e.removeAttribute(r);break;case"capture":case"download":s===!0?e.setAttribute(r,""):s!==!1&&s!=null&&typeof s!="function"&&typeof s!="symbol"?e.setAttribute(r,s):e.removeAttribute(r);break;case"cols":case"rows":case"size":case"span":s!=null&&typeof s!="function"&&typeof s!="symbol"&&!isNaN(s)&&1<=s?e.setAttribute(r,s):e.removeAttribute(r);break;case"rowSpan":case"start":s==null||typeof s=="function"||typeof s=="symbol"||isNaN(s)?e.removeAttribute(r):e.setAttribute(r,s);break;case"popover":Pe("beforetoggle",e),Pe("toggle",e),Ki(e,"popover",s);break;case"xlinkActuate":Qn(e,"http://www.w3.org/1999/xlink","xlink:actuate",s);break;case"xlinkArcrole":Qn(e,"http://www.w3.org/1999/xlink","xlink:arcrole",s);break;case"xlinkRole":Qn(e,"http://www.w3.org/1999/xlink","xlink:role",s);break;case"xlinkShow":Qn(e,"http://www.w3.org/1999/xlink","xlink:show",s);break;case"xlinkTitle":Qn(e,"http://www.w3.org/1999/xlink","xlink:title",s);break;case"xlinkType":Qn(e,"http://www.w3.org/1999/xlink","xlink:type",s);break;case"xmlBase":Qn(e,"http://www.w3.org/XML/1998/namespace","xml:base",s);break;case"xmlLang":Qn(e,"http://www.w3.org/XML/1998/namespace","xml:lang",s);break;case"xmlSpace":Qn(e,"http://www.w3.org/XML/1998/namespace","xml:space",s);break;case"is":Ki(e,"is",s);break;case"innerText":case"textContent":break;default:(!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(r=Iy.get(r)||r,Ki(e,r,s))}}function lc(e,i,r,s,d,y){switch(r){case"style":Vd(e,s,y);break;case"dangerouslySetInnerHTML":if(s!=null){if(typeof s!="object"||!("__html"in s))throw Error(a(61));if(r=s.__html,r!=null){if(d.children!=null)throw Error(a(60));e.innerHTML=r}}break;case"children":typeof s=="string"?vl(e,s):(typeof s=="number"||typeof s=="bigint")&&vl(e,""+s);break;case"onScroll":s!=null&&Pe("scroll",e);break;case"onScrollEnd":s!=null&&Pe("scrollend",e);break;case"onClick":s!=null&&(e.onclick=Ao);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Yi.hasOwnProperty(r))e:{if(r[0]==="o"&&r[1]==="n"&&(d=r.endsWith("Capture"),i=r.slice(2,d?r.length-7:void 0),y=e[dt]||null,y=y!=null?y[r]:null,typeof y=="function"&&e.removeEventListener(i,y,d),typeof s=="function")){typeof y!="function"&&y!==null&&(r in e?e[r]=null:e.hasAttribute(r)&&e.removeAttribute(r)),e.addEventListener(i,s,d);break e}r in e?e[r]=s:s===!0?e.setAttribute(r,""):Ki(e,r,s)}}}function qt(e,i,r){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Pe("error",e),Pe("load",e);var s=!1,d=!1,y;for(y in r)if(r.hasOwnProperty(y)){var S=r[y];if(S!=null)switch(y){case"src":s=!0;break;case"srcSet":d=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,i));default:nt(e,i,y,S,r,null)}}d&&nt(e,i,"srcSet",r.srcSet,r,null),s&&nt(e,i,"src",r.src,r,null);return;case"input":Pe("invalid",e);var A=y=S=d=null,_=null,V=null;for(s in r)if(r.hasOwnProperty(s)){var Q=r[s];if(Q!=null)switch(s){case"name":d=Q;break;case"type":S=Q;break;case"checked":_=Q;break;case"defaultChecked":V=Q;break;case"value":y=Q;break;case"defaultValue":A=Q;break;case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(a(137,i));break;default:nt(e,i,s,Q,r,null)}}Ud(e,y,A,_,V,S,d,!1),Ia(e);return;case"select":Pe("invalid",e),s=S=y=null;for(d in r)if(r.hasOwnProperty(d)&&(A=r[d],A!=null))switch(d){case"value":y=A;break;case"defaultValue":S=A;break;case"multiple":s=A;default:nt(e,i,d,A,r,null)}i=y,r=S,e.multiple=!!s,i!=null?xl(e,!!s,i,!1):r!=null&&xl(e,!!s,r,!0);return;case"textarea":Pe("invalid",e),y=d=s=null;for(S in r)if(r.hasOwnProperty(S)&&(A=r[S],A!=null))switch(S){case"value":s=A;break;case"defaultValue":d=A;break;case"children":y=A;break;case"dangerouslySetInnerHTML":if(A!=null)throw Error(a(91));break;default:nt(e,i,S,A,r,null)}jd(e,s,d,y),Ia(e);return;case"option":for(_ in r)if(r.hasOwnProperty(_)&&(s=r[_],s!=null))switch(_){case"selected":e.selected=s&&typeof s!="function"&&typeof s!="symbol";break;default:nt(e,i,_,s,r,null)}return;case"dialog":Pe("beforetoggle",e),Pe("toggle",e),Pe("cancel",e),Pe("close",e);break;case"iframe":case"object":Pe("load",e);break;case"video":case"audio":for(s=0;s<Kr.length;s++)Pe(Kr[s],e);break;case"image":Pe("error",e),Pe("load",e);break;case"details":Pe("toggle",e);break;case"embed":case"source":case"link":Pe("error",e),Pe("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(V in r)if(r.hasOwnProperty(V)&&(s=r[V],s!=null))switch(V){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,i));default:nt(e,i,V,s,r,null)}return;default:if(bs(i)){for(Q in r)r.hasOwnProperty(Q)&&(s=r[Q],s!==void 0&&lc(e,i,Q,s,r,void 0));return}}for(A in r)r.hasOwnProperty(A)&&(s=r[A],s!=null&&nt(e,i,A,s,r,null))}function nv(e,i,r,s){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var d=null,y=null,S=null,A=null,_=null,V=null,Q=null;for(q in r){var ee=r[q];if(r.hasOwnProperty(q)&&ee!=null)switch(q){case"checked":break;case"value":break;case"defaultValue":_=ee;default:s.hasOwnProperty(q)||nt(e,i,q,null,s,ee)}}for(var H in s){var q=s[H];if(ee=r[H],s.hasOwnProperty(H)&&(q!=null||ee!=null))switch(H){case"type":y=q;break;case"name":d=q;break;case"checked":V=q;break;case"defaultChecked":Q=q;break;case"value":S=q;break;case"defaultValue":A=q;break;case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(a(137,i));break;default:q!==ee&&nt(e,i,H,q,s,ee)}}xs(e,S,A,_,V,Q,y,d);return;case"select":q=S=A=H=null;for(y in r)if(_=r[y],r.hasOwnProperty(y)&&_!=null)switch(y){case"value":break;case"multiple":q=_;default:s.hasOwnProperty(y)||nt(e,i,y,null,s,_)}for(d in s)if(y=s[d],_=r[d],s.hasOwnProperty(d)&&(y!=null||_!=null))switch(d){case"value":H=y;break;case"defaultValue":A=y;break;case"multiple":S=y;default:y!==_&&nt(e,i,d,y,s,_)}i=A,r=S,s=q,H!=null?xl(e,!!r,H,!1):!!s!=!!r&&(i!=null?xl(e,!!r,i,!0):xl(e,!!r,r?[]:"",!1));return;case"textarea":q=H=null;for(A in r)if(d=r[A],r.hasOwnProperty(A)&&d!=null&&!s.hasOwnProperty(A))switch(A){case"value":break;case"children":break;default:nt(e,i,A,null,s,d)}for(S in s)if(d=s[S],y=r[S],s.hasOwnProperty(S)&&(d!=null||y!=null))switch(S){case"value":H=d;break;case"defaultValue":q=d;break;case"children":break;case"dangerouslySetInnerHTML":if(d!=null)throw Error(a(91));break;default:d!==y&&nt(e,i,S,d,s,y)}zd(e,H,q);return;case"option":for(var Me in r)if(H=r[Me],r.hasOwnProperty(Me)&&H!=null&&!s.hasOwnProperty(Me))switch(Me){case"selected":e.selected=!1;break;default:nt(e,i,Me,null,s,H)}for(_ in s)if(H=s[_],q=r[_],s.hasOwnProperty(_)&&H!==q&&(H!=null||q!=null))switch(_){case"selected":e.selected=H&&typeof H!="function"&&typeof H!="symbol";break;default:nt(e,i,_,H,s,q)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var we in r)H=r[we],r.hasOwnProperty(we)&&H!=null&&!s.hasOwnProperty(we)&&nt(e,i,we,null,s,H);for(V in s)if(H=s[V],q=r[V],s.hasOwnProperty(V)&&H!==q&&(H!=null||q!=null))switch(V){case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(a(137,i));break;default:nt(e,i,V,H,s,q)}return;default:if(bs(i)){for(var it in r)H=r[it],r.hasOwnProperty(it)&&H!==void 0&&!s.hasOwnProperty(it)&&lc(e,i,it,void 0,s,H);for(Q in s)H=s[Q],q=r[Q],!s.hasOwnProperty(Q)||H===q||H===void 0&&q===void 0||lc(e,i,Q,H,s,q);return}}for(var z in r)H=r[z],r.hasOwnProperty(z)&&H!=null&&!s.hasOwnProperty(z)&&nt(e,i,z,null,s,H);for(ee in s)H=s[ee],q=r[ee],!s.hasOwnProperty(ee)||H===q||H==null&&q==null||nt(e,i,ee,H,s,q)}var rc=null,ac=null;function No(e){return e.nodeType===9?e:e.ownerDocument}function Vm(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Pm(e,i){if(e===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&i==="foreignObject"?0:e}function oc(e,i){return e==="textarea"||e==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var sc=null;function iv(){var e=window.event;return e&&e.type==="popstate"?e===sc?!1:(sc=e,!0):(sc=null,!1)}var Hm=typeof setTimeout=="function"?setTimeout:void 0,lv=typeof clearTimeout=="function"?clearTimeout:void 0,qm=typeof Promise=="function"?Promise:void 0,rv=typeof queueMicrotask=="function"?queueMicrotask:typeof qm<"u"?function(e){return qm.resolve(null).then(e).catch(av)}:Hm;function av(e){setTimeout(function(){throw e})}function Ii(e){return e==="head"}function Gm(e,i){var r=i,s=0,d=0;do{var y=r.nextSibling;if(e.removeChild(r),y&&y.nodeType===8)if(r=y.data,r==="/$"){if(0<s&&8>s){r=s;var S=e.ownerDocument;if(r&1&&$r(S.documentElement),r&2&&$r(S.body),r&4)for(r=S.head,$r(r),S=r.firstChild;S;){var A=S.nextSibling,_=S.nodeName;S[ht]||_==="SCRIPT"||_==="STYLE"||_==="LINK"&&S.rel.toLowerCase()==="stylesheet"||r.removeChild(S),S=A}}if(d===0){e.removeChild(y),ia(i);return}d--}else r==="$"||r==="$?"||r==="$!"?d++:s=r.charCodeAt(0)-48;else s=0;r=y}while(r);ia(i)}function uc(e){var i=e.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var r=i;switch(i=i.nextSibling,r.nodeName){case"HTML":case"HEAD":case"BODY":uc(r),Mt(r);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(r.rel.toLowerCase()==="stylesheet")continue}e.removeChild(r)}}function ov(e,i,r,s){for(;e.nodeType===1;){var d=r;if(e.nodeName.toLowerCase()!==i.toLowerCase()){if(!s&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(s){if(!e[ht])switch(i){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(y=e.getAttribute("rel"),y==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(y!==d.rel||e.getAttribute("href")!==(d.href==null||d.href===""?null:d.href)||e.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin)||e.getAttribute("title")!==(d.title==null?null:d.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(y=e.getAttribute("src"),(y!==(d.src==null?null:d.src)||e.getAttribute("type")!==(d.type==null?null:d.type)||e.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin))&&y&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(i==="input"&&e.type==="hidden"){var y=d.name==null?null:""+d.name;if(d.type==="hidden"&&e.getAttribute("name")===y)return e}else return e;if(e=On(e.nextSibling),e===null)break}return null}function sv(e,i,r){if(i==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!r||(e=On(e.nextSibling),e===null))return null;return e}function cc(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState==="complete"}function uv(e,i){var r=e.ownerDocument;if(e.data!=="$?"||r.readyState==="complete")i();else{var s=function(){i(),r.removeEventListener("DOMContentLoaded",s)};r.addEventListener("DOMContentLoaded",s),e._reactRetry=s}}function On(e){for(;e!=null;e=e.nextSibling){var i=e.nodeType;if(i===1||i===3)break;if(i===8){if(i=e.data,i==="$"||i==="$!"||i==="$?"||i==="F!"||i==="F")break;if(i==="/$")return null}}return e}var dc=null;function Fm(e){e=e.previousSibling;for(var i=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(i===0)return e;i--}else r==="/$"&&i++}e=e.previousSibling}return null}function Ym(e,i,r){switch(i=No(r),e){case"html":if(e=i.documentElement,!e)throw Error(a(452));return e;case"head":if(e=i.head,!e)throw Error(a(453));return e;case"body":if(e=i.body,!e)throw Error(a(454));return e;default:throw Error(a(451))}}function $r(e){for(var i=e.attributes;i.length;)e.removeAttributeNode(i[0]);Mt(e)}var Rn=new Map,Km=new Set;function Mo(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var ci=B.d;B.d={f:cv,r:dv,D:fv,C:hv,L:mv,m:pv,X:yv,S:gv,M:xv};function cv(){var e=ci.f(),i=vo();return e||i}function dv(e){var i=Vt(e);i!==null&&i.tag===5&&i.type==="form"?hh(i):ci.r(e)}var Xl=typeof document>"u"?null:document;function Xm(e,i,r){var s=Xl;if(s&&typeof i=="string"&&i){var d=wn(i);d='link[rel="'+e+'"][href="'+d+'"]',typeof r=="string"&&(d+='[crossorigin="'+r+'"]'),Km.has(d)||(Km.add(d),e={rel:e,crossOrigin:r,href:i},s.querySelector(d)===null&&(i=s.createElement("link"),qt(i,"link",e),yt(i),s.head.appendChild(i)))}}function fv(e){ci.D(e),Xm("dns-prefetch",e,null)}function hv(e,i){ci.C(e,i),Xm("preconnect",e,i)}function mv(e,i,r){ci.L(e,i,r);var s=Xl;if(s&&e&&i){var d='link[rel="preload"][as="'+wn(i)+'"]';i==="image"&&r&&r.imageSrcSet?(d+='[imagesrcset="'+wn(r.imageSrcSet)+'"]',typeof r.imageSizes=="string"&&(d+='[imagesizes="'+wn(r.imageSizes)+'"]')):d+='[href="'+wn(e)+'"]';var y=d;switch(i){case"style":y=$l(e);break;case"script":y=Ql(e)}Rn.has(y)||(e=v({rel:"preload",href:i==="image"&&r&&r.imageSrcSet?void 0:e,as:i},r),Rn.set(y,e),s.querySelector(d)!==null||i==="style"&&s.querySelector(Qr(y))||i==="script"&&s.querySelector(Jr(y))||(i=s.createElement("link"),qt(i,"link",e),yt(i),s.head.appendChild(i)))}}function pv(e,i){ci.m(e,i);var r=Xl;if(r&&e){var s=i&&typeof i.as=="string"?i.as:"script",d='link[rel="modulepreload"][as="'+wn(s)+'"][href="'+wn(e)+'"]',y=d;switch(s){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":y=Ql(e)}if(!Rn.has(y)&&(e=v({rel:"modulepreload",href:e},i),Rn.set(y,e),r.querySelector(d)===null)){switch(s){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(r.querySelector(Jr(y)))return}s=r.createElement("link"),qt(s,"link",e),yt(s),r.head.appendChild(s)}}}function gv(e,i,r){ci.S(e,i,r);var s=Xl;if(s&&e){var d=$t(s).hoistableStyles,y=$l(e);i=i||"default";var S=d.get(y);if(!S){var A={loading:0,preload:null};if(S=s.querySelector(Qr(y)))A.loading=5;else{e=v({rel:"stylesheet",href:e,"data-precedence":i},r),(r=Rn.get(y))&&fc(e,r);var _=S=s.createElement("link");yt(_),qt(_,"link",e),_._p=new Promise(function(V,Q){_.onload=V,_.onerror=Q}),_.addEventListener("load",function(){A.loading|=1}),_.addEventListener("error",function(){A.loading|=2}),A.loading|=4,_o(S,i,s)}S={type:"stylesheet",instance:S,count:1,state:A},d.set(y,S)}}}function yv(e,i){ci.X(e,i);var r=Xl;if(r&&e){var s=$t(r).hoistableScripts,d=Ql(e),y=s.get(d);y||(y=r.querySelector(Jr(d)),y||(e=v({src:e,async:!0},i),(i=Rn.get(d))&&hc(e,i),y=r.createElement("script"),yt(y),qt(y,"link",e),r.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},s.set(d,y))}}function xv(e,i){ci.M(e,i);var r=Xl;if(r&&e){var s=$t(r).hoistableScripts,d=Ql(e),y=s.get(d);y||(y=r.querySelector(Jr(d)),y||(e=v({src:e,async:!0,type:"module"},i),(i=Rn.get(d))&&hc(e,i),y=r.createElement("script"),yt(y),qt(y,"link",e),r.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},s.set(d,y))}}function $m(e,i,r,s){var d=(d=I.current)?Mo(d):null;if(!d)throw Error(a(446));switch(e){case"meta":case"title":return null;case"style":return typeof r.precedence=="string"&&typeof r.href=="string"?(i=$l(r.href),r=$t(d).hoistableStyles,s=r.get(i),s||(s={type:"style",instance:null,count:0,state:null},r.set(i,s)),s):{type:"void",instance:null,count:0,state:null};case"link":if(r.rel==="stylesheet"&&typeof r.href=="string"&&typeof r.precedence=="string"){e=$l(r.href);var y=$t(d).hoistableStyles,S=y.get(e);if(S||(d=d.ownerDocument||d,S={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},y.set(e,S),(y=d.querySelector(Qr(e)))&&!y._p&&(S.instance=y,S.state.loading=5),Rn.has(e)||(r={rel:"preload",as:"style",href:r.href,crossOrigin:r.crossOrigin,integrity:r.integrity,media:r.media,hrefLang:r.hrefLang,referrerPolicy:r.referrerPolicy},Rn.set(e,r),y||vv(d,e,r,S.state))),i&&s===null)throw Error(a(528,""));return S}if(i&&s!==null)throw Error(a(529,""));return null;case"script":return i=r.async,r=r.src,typeof r=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=Ql(r),r=$t(d).hoistableScripts,s=r.get(i),s||(s={type:"script",instance:null,count:0,state:null},r.set(i,s)),s):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,e))}}function $l(e){return'href="'+wn(e)+'"'}function Qr(e){return'link[rel="stylesheet"]['+e+"]"}function Qm(e){return v({},e,{"data-precedence":e.precedence,precedence:null})}function vv(e,i,r,s){e.querySelector('link[rel="preload"][as="style"]['+i+"]")?s.loading=1:(i=e.createElement("link"),s.preload=i,i.addEventListener("load",function(){return s.loading|=1}),i.addEventListener("error",function(){return s.loading|=2}),qt(i,"link",r),yt(i),e.head.appendChild(i))}function Ql(e){return'[src="'+wn(e)+'"]'}function Jr(e){return"script[async]"+e}function Jm(e,i,r){if(i.count++,i.instance===null)switch(i.type){case"style":var s=e.querySelector('style[data-href~="'+wn(r.href)+'"]');if(s)return i.instance=s,yt(s),s;var d=v({},r,{"data-href":r.href,"data-precedence":r.precedence,href:null,precedence:null});return s=(e.ownerDocument||e).createElement("style"),yt(s),qt(s,"style",d),_o(s,r.precedence,e),i.instance=s;case"stylesheet":d=$l(r.href);var y=e.querySelector(Qr(d));if(y)return i.state.loading|=4,i.instance=y,yt(y),y;s=Qm(r),(d=Rn.get(d))&&fc(s,d),y=(e.ownerDocument||e).createElement("link"),yt(y);var S=y;return S._p=new Promise(function(A,_){S.onload=A,S.onerror=_}),qt(y,"link",s),i.state.loading|=4,_o(y,r.precedence,e),i.instance=y;case"script":return y=Ql(r.src),(d=e.querySelector(Jr(y)))?(i.instance=d,yt(d),d):(s=r,(d=Rn.get(y))&&(s=v({},r),hc(s,d)),e=e.ownerDocument||e,d=e.createElement("script"),yt(d),qt(d,"link",s),e.head.appendChild(d),i.instance=d);case"void":return null;default:throw Error(a(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(s=i.instance,i.state.loading|=4,_o(s,r.precedence,e));return i.instance}function _o(e,i,r){for(var s=r.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),d=s.length?s[s.length-1]:null,y=d,S=0;S<s.length;S++){var A=s[S];if(A.dataset.precedence===i)y=A;else if(y!==d)break}y?y.parentNode.insertBefore(e,y.nextSibling):(i=r.nodeType===9?r.head:r,i.insertBefore(e,i.firstChild))}function fc(e,i){e.crossOrigin==null&&(e.crossOrigin=i.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=i.referrerPolicy),e.title==null&&(e.title=i.title)}function hc(e,i){e.crossOrigin==null&&(e.crossOrigin=i.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=i.referrerPolicy),e.integrity==null&&(e.integrity=i.integrity)}var Do=null;function Zm(e,i,r){if(Do===null){var s=new Map,d=Do=new Map;d.set(r,s)}else d=Do,s=d.get(r),s||(s=new Map,d.set(r,s));if(s.has(e))return s;for(s.set(e,null),r=r.getElementsByTagName(e),d=0;d<r.length;d++){var y=r[d];if(!(y[ht]||y[Fe]||e==="link"&&y.getAttribute("rel")==="stylesheet")&&y.namespaceURI!=="http://www.w3.org/2000/svg"){var S=y.getAttribute(i)||"";S=e+S;var A=s.get(S);A?A.push(y):s.set(S,[y])}}return s}function Wm(e,i,r){e=e.ownerDocument||e,e.head.insertBefore(r,i==="title"?e.querySelector("head > title"):null)}function bv(e,i,r){if(r===1||i.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return e=i.disabled,typeof i.precedence=="string"&&e==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function ep(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}var Zr=null;function Tv(){}function Sv(e,i,r){if(Zr===null)throw Error(a(475));var s=Zr;if(i.type==="stylesheet"&&(typeof r.media!="string"||matchMedia(r.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var d=$l(r.href),y=e.querySelector(Qr(d));if(y){e=y._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(s.count++,s=Io.bind(s),e.then(s,s)),i.state.loading|=4,i.instance=y,yt(y);return}y=e.ownerDocument||e,r=Qm(r),(d=Rn.get(d))&&fc(r,d),y=y.createElement("link"),yt(y);var S=y;S._p=new Promise(function(A,_){S.onload=A,S.onerror=_}),qt(y,"link",r),i.instance=y}s.stylesheets===null&&(s.stylesheets=new Map),s.stylesheets.set(i,e),(e=i.state.preload)&&(i.state.loading&3)===0&&(s.count++,i=Io.bind(s),e.addEventListener("load",i),e.addEventListener("error",i))}}function Cv(){if(Zr===null)throw Error(a(475));var e=Zr;return e.stylesheets&&e.count===0&&mc(e,e.stylesheets),0<e.count?function(i){var r=setTimeout(function(){if(e.stylesheets&&mc(e,e.stylesheets),e.unsuspend){var s=e.unsuspend;e.unsuspend=null,s()}},6e4);return e.unsuspend=i,function(){e.unsuspend=null,clearTimeout(r)}}:null}function Io(){if(this.count--,this.count===0){if(this.stylesheets)mc(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Ro=null;function mc(e,i){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Ro=new Map,i.forEach(Ev,e),Ro=null,Io.call(e))}function Ev(e,i){if(!(i.state.loading&4)){var r=Ro.get(e);if(r)var s=r.get(null);else{r=new Map,Ro.set(e,r);for(var d=e.querySelectorAll("link[data-precedence],style[data-precedence]"),y=0;y<d.length;y++){var S=d[y];(S.nodeName==="LINK"||S.getAttribute("media")!=="not all")&&(r.set(S.dataset.precedence,S),s=S)}s&&r.set(null,s)}d=i.instance,S=d.getAttribute("data-precedence"),y=r.get(S)||s,y===s&&r.set(null,d),r.set(S,d),this.count++,s=Io.bind(this),d.addEventListener("load",s),d.addEventListener("error",s),y?y.parentNode.insertBefore(d,y.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(d,e.firstChild)),i.state.loading|=4}}var Wr={$$typeof:$,Provider:null,Consumer:null,_currentValue:N,_currentValue2:N,_threadCount:0};function wv(e,i,r,s,d,y,S,A){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Wt(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Wt(0),this.hiddenUpdates=Wt(null),this.identifierPrefix=s,this.onUncaughtError=d,this.onCaughtError=y,this.onRecoverableError=S,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=A,this.incompleteTransitions=new Map}function tp(e,i,r,s,d,y,S,A,_,V,Q,ee){return e=new wv(e,i,r,S,A,_,V,ee),i=1,y===!0&&(i|=24),y=mn(3,null,null,i),e.current=y,y.stateNode=e,i=$s(),i.refCount++,e.pooledCache=i,i.refCount++,y.memoizedState={element:s,isDehydrated:r,cache:i},Ws(y),e}function np(e){return e?(e=Nl,e):Nl}function ip(e,i,r,s,d,y){d=np(d),s.context===null?s.context=d:s.pendingContext=d,s=xi(i),s.payload={element:r},y=y===void 0?null:y,y!==null&&(s.callback=y),r=vi(e,s,i),r!==null&&(vn(r,e,i),_r(r,e,i))}function lp(e,i){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<i?r:i}}function pc(e,i){lp(e,i),(e=e.alternate)&&lp(e,i)}function rp(e){if(e.tag===13){var i=Al(e,67108864);i!==null&&vn(i,e,67108864),pc(e,67108864)}}var ko=!0;function Av(e,i,r,s){var d=P.T;P.T=null;var y=B.p;try{B.p=2,gc(e,i,r,s)}finally{B.p=y,P.T=d}}function Nv(e,i,r,s){var d=P.T;P.T=null;var y=B.p;try{B.p=8,gc(e,i,r,s)}finally{B.p=y,P.T=d}}function gc(e,i,r,s){if(ko){var d=yc(s);if(d===null)ic(e,i,s,Lo,r),op(e,s);else if(_v(d,e,i,r,s))s.stopPropagation();else if(op(e,s),i&4&&-1<Mv.indexOf(e)){for(;d!==null;){var y=Vt(d);if(y!==null)switch(y.tag){case 3:if(y=y.stateNode,y.current.memoizedState.isDehydrated){var S=Xt(y.pendingLanes);if(S!==0){var A=y;for(A.pendingLanes|=2,A.entangledLanes|=2;S;){var _=1<<31-Ee(S);A.entanglements[1]|=_,S&=~_}Yn(y),(Ze&6)===0&&(yo=qe()+500,Yr(0))}}break;case 13:A=Al(y,2),A!==null&&vn(A,y,2),vo(),pc(y,2)}if(y=yc(s),y===null&&ic(e,i,s,Lo,r),y===d)break;d=y}d!==null&&s.stopPropagation()}else ic(e,i,s,null,r)}}function yc(e){return e=Ss(e),xc(e)}var Lo=null;function xc(e){if(Lo=null,e=gt(e),e!==null){var i=u(e);if(i===null)e=null;else{var r=i.tag;if(r===13){if(e=c(i),e!==null)return e;e=null}else if(r===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;e=null}else i!==e&&(e=null)}}return Lo=e,null}function ap(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Sn()){case Un:return 2;case di:return 8;case fi:case ml:return 32;case hi:return 268435456;default:return 32}default:return 32}}var vc=!1,Ri=null,ki=null,Li=null,ea=new Map,ta=new Map,Bi=[],Mv="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function op(e,i){switch(e){case"focusin":case"focusout":Ri=null;break;case"dragenter":case"dragleave":ki=null;break;case"mouseover":case"mouseout":Li=null;break;case"pointerover":case"pointerout":ea.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":ta.delete(i.pointerId)}}function na(e,i,r,s,d,y){return e===null||e.nativeEvent!==y?(e={blockedOn:i,domEventName:r,eventSystemFlags:s,nativeEvent:y,targetContainers:[d]},i!==null&&(i=Vt(i),i!==null&&rp(i)),e):(e.eventSystemFlags|=s,i=e.targetContainers,d!==null&&i.indexOf(d)===-1&&i.push(d),e)}function _v(e,i,r,s,d){switch(i){case"focusin":return Ri=na(Ri,e,i,r,s,d),!0;case"dragenter":return ki=na(ki,e,i,r,s,d),!0;case"mouseover":return Li=na(Li,e,i,r,s,d),!0;case"pointerover":var y=d.pointerId;return ea.set(y,na(ea.get(y)||null,e,i,r,s,d)),!0;case"gotpointercapture":return y=d.pointerId,ta.set(y,na(ta.get(y)||null,e,i,r,s,d)),!0}return!1}function sp(e){var i=gt(e.target);if(i!==null){var r=u(i);if(r!==null){if(i=r.tag,i===13){if(i=c(r),i!==null){e.blockedOn=i,Ce(e.priority,function(){if(r.tag===13){var s=xn();s=le(s);var d=Al(r,s);d!==null&&vn(d,r,s),pc(r,s)}});return}}else if(i===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Bo(e){if(e.blockedOn!==null)return!1;for(var i=e.targetContainers;0<i.length;){var r=yc(e.nativeEvent);if(r===null){r=e.nativeEvent;var s=new r.constructor(r.type,r);Ts=s,r.target.dispatchEvent(s),Ts=null}else return i=Vt(r),i!==null&&rp(i),e.blockedOn=r,!1;i.shift()}return!0}function up(e,i,r){Bo(e)&&r.delete(i)}function Dv(){vc=!1,Ri!==null&&Bo(Ri)&&(Ri=null),ki!==null&&Bo(ki)&&(ki=null),Li!==null&&Bo(Li)&&(Li=null),ea.forEach(up),ta.forEach(up)}function Uo(e,i){e.blockedOn===i&&(e.blockedOn=null,vc||(vc=!0,l.unstable_scheduleCallback(l.unstable_NormalPriority,Dv)))}var zo=null;function cp(e){zo!==e&&(zo=e,l.unstable_scheduleCallback(l.unstable_NormalPriority,function(){zo===e&&(zo=null);for(var i=0;i<e.length;i+=3){var r=e[i],s=e[i+1],d=e[i+2];if(typeof s!="function"){if(xc(s||r)===null)continue;break}var y=Vt(r);y!==null&&(e.splice(i,3),i-=3,xu(y,{pending:!0,data:d,method:r.method,action:s},s,d))}}))}function ia(e){function i(_){return Uo(_,e)}Ri!==null&&Uo(Ri,e),ki!==null&&Uo(ki,e),Li!==null&&Uo(Li,e),ea.forEach(i),ta.forEach(i);for(var r=0;r<Bi.length;r++){var s=Bi[r];s.blockedOn===e&&(s.blockedOn=null)}for(;0<Bi.length&&(r=Bi[0],r.blockedOn===null);)sp(r),r.blockedOn===null&&Bi.shift();if(r=(e.ownerDocument||e).$$reactFormReplay,r!=null)for(s=0;s<r.length;s+=3){var d=r[s],y=r[s+1],S=d[dt]||null;if(typeof y=="function")S||cp(r);else if(S){var A=null;if(y&&y.hasAttribute("formAction")){if(d=y,S=y[dt]||null)A=S.formAction;else if(xc(d)!==null)continue}else A=S.action;typeof A=="function"?r[s+1]=A:(r.splice(s,3),s-=3),cp(r)}}}function bc(e){this._internalRoot=e}jo.prototype.render=bc.prototype.render=function(e){var i=this._internalRoot;if(i===null)throw Error(a(409));var r=i.current,s=xn();ip(r,s,e,i,null,null)},jo.prototype.unmount=bc.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var i=e.containerInfo;ip(e.current,2,null,e,null,null),vo(),i[Ot]=null}};function jo(e){this._internalRoot=e}jo.prototype.unstable_scheduleHydration=function(e){if(e){var i=Re();e={blockedOn:null,target:e,priority:i};for(var r=0;r<Bi.length&&i!==0&&i<Bi[r].priority;r++);Bi.splice(r,0,e),r===0&&sp(e)}};var dp=t.version;if(dp!=="19.1.0")throw Error(a(527,dp,"19.1.0"));B.findDOMNode=function(e){var i=e._reactInternals;if(i===void 0)throw typeof e.render=="function"?Error(a(188)):(e=Object.keys(e).join(","),Error(a(268,e)));return e=x(i),e=e!==null?f(e):null,e=e===null?null:e.stateNode,e};var Iv={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:P,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Oo=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Oo.isDisabled&&Oo.supportsFiber)try{X=Oo.inject(Iv),ie=Oo}catch{}}return ra.createRoot=function(e,i){if(!o(e))throw Error(a(299));var r=!1,s="",d=Nh,y=Mh,S=_h,A=null;return i!=null&&(i.unstable_strictMode===!0&&(r=!0),i.identifierPrefix!==void 0&&(s=i.identifierPrefix),i.onUncaughtError!==void 0&&(d=i.onUncaughtError),i.onCaughtError!==void 0&&(y=i.onCaughtError),i.onRecoverableError!==void 0&&(S=i.onRecoverableError),i.unstable_transitionCallbacks!==void 0&&(A=i.unstable_transitionCallbacks)),i=tp(e,1,!1,null,null,r,s,d,y,S,A,null),e[Ot]=i.current,nc(e),new bc(i)},ra.hydrateRoot=function(e,i,r){if(!o(e))throw Error(a(299));var s=!1,d="",y=Nh,S=Mh,A=_h,_=null,V=null;return r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(d=r.identifierPrefix),r.onUncaughtError!==void 0&&(y=r.onUncaughtError),r.onCaughtError!==void 0&&(S=r.onCaughtError),r.onRecoverableError!==void 0&&(A=r.onRecoverableError),r.unstable_transitionCallbacks!==void 0&&(_=r.unstable_transitionCallbacks),r.formState!==void 0&&(V=r.formState)),i=tp(e,1,!0,i,r??null,s,d,y,S,A,_,V),i.context=np(null),r=i.current,s=xn(),s=le(s),d=xi(s),d.callback=null,vi(r,d,s),r=s,i.current.lanes=r,mi(i,r),Yn(i),e[Ot]=i.current,nc(e),new jo(i)},ra.version="19.1.0",ra}var Tp;function Hv(){if(Tp)return Cc.exports;Tp=1;function l(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(l)}catch(t){console.error(t)}}return l(),Cc.exports=Pv(),Cc.exports}var qv=Hv();const Gv=Sa(qv);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let Fv,Yv;function Kv(){return{geminiUrl:Fv,vertexUrl:Yv}}function Xv(l,t,n){var a,o,u;if(!(!((a=l.httpOptions)===null||a===void 0)&&a.baseUrl)){const c=Kv();return l.vertexai?(o=c.vertexUrl)!==null&&o!==void 0?o:t:(u=c.geminiUrl)!==null&&u!==void 0?u:n}return l.httpOptions.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Ca{}function Ie(l,t){const n=/\{([^}]+)\}/g;return l.replace(n,(a,o)=>{if(Object.prototype.hasOwnProperty.call(t,o)){const u=t[o];return u!=null?String(u):""}else throw new Error(`Key '${o}' not found in valueMap.`)})}function g(l,t,n){for(let u=0;u<t.length-1;u++){const c=t[u];if(c.endsWith("[]")){const h=c.slice(0,-2);if(!(h in l))if(Array.isArray(n))l[h]=Array.from({length:n.length},()=>({}));else throw new Error(`Value must be a list given an array path ${c}`);if(Array.isArray(l[h])){const x=l[h];if(Array.isArray(n))for(let f=0;f<x.length;f++){const v=x[f];g(v,t.slice(u+1),n[f])}else for(const f of x)g(f,t.slice(u+1),n)}return}else if(c.endsWith("[0]")){const h=c.slice(0,-3);h in l||(l[h]=[{}]);const x=l[h];g(x[0],t.slice(u+1),n);return}(!l[c]||typeof l[c]!="object")&&(l[c]={}),l=l[c]}const a=t[t.length-1],o=l[a];if(o!==void 0){if(!n||typeof n=="object"&&Object.keys(n).length===0||n===o)return;if(typeof o=="object"&&typeof n=="object"&&o!==null&&n!==null)Object.assign(o,n);else throw new Error(`Cannot set value for an existing key. Key: ${a}`)}else l[a]=n}function p(l,t){try{if(t.length===1&&t[0]==="_self")return l;for(let n=0;n<t.length;n++){if(typeof l!="object"||l===null)return;const a=t[n];if(a.endsWith("[]")){const o=a.slice(0,-2);if(o in l){const u=l[o];return Array.isArray(u)?u.map(c=>p(c,t.slice(n+1))):void 0}else return}else l=l[a]}return l}catch(n){if(n instanceof TypeError)return;throw n}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function bt(l,t){if(!t||typeof t!="string")throw new Error("model is required and must be a string");if(l.isVertexAI()){if(t.startsWith("publishers/")||t.startsWith("projects/")||t.startsWith("models/"))return t;if(t.indexOf("/")>=0){const n=t.split("/",2);return`publishers/${n[0]}/models/${n[1]}`}else return`publishers/google/models/${t}`}else return t.startsWith("models/")||t.startsWith("tunedModels/")?t:`models/${t}`}function w0(l,t){const n=bt(l,t);return n?n.startsWith("publishers/")&&l.isVertexAI()?`projects/${l.getProject()}/locations/${l.getLocation()}/${n}`:n.startsWith("models/")&&l.isVertexAI()?`projects/${l.getProject()}/locations/${l.getLocation()}/publishers/google/${n}`:n:""}function A0(l,t){return Array.isArray(t)?t.map(n=>ts(l,n)):[ts(l,t)]}function ts(l,t){if(typeof t=="object"&&t!==null)return t;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof t}`)}function $v(l,t){const n=ts(l,t);if(n.mimeType&&n.mimeType.startsWith("image/"))return n;throw new Error(`Unsupported mime type: ${n.mimeType}`)}function Qv(l,t){const n=ts(l,t);if(n.mimeType&&n.mimeType.startsWith("audio/"))return n;throw new Error(`Unsupported mime type: ${n.mimeType}`)}function Sp(l,t){if(t==null)throw new Error("PartUnion is required");if(typeof t=="object")return t;if(typeof t=="string")return{text:t};throw new Error(`Unsupported part type: ${typeof t}`)}function N0(l,t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("PartListUnion is required");return Array.isArray(t)?t.map(n=>Sp(l,n)):[Sp(l,t)]}function Fc(l){return l!=null&&typeof l=="object"&&"parts"in l&&Array.isArray(l.parts)}function Cp(l){return l!=null&&typeof l=="object"&&"functionCall"in l}function Ep(l){return l!=null&&typeof l=="object"&&"functionResponse"in l}function sn(l,t){if(t==null)throw new Error("ContentUnion is required");return Fc(t)?t:{role:"user",parts:N0(l,t)}}function M0(l,t){if(!t)return[];if(l.isVertexAI()&&Array.isArray(t))return t.flatMap(n=>{const a=sn(l,n);return a.parts&&a.parts.length>0&&a.parts[0].text!==void 0?[a.parts[0].text]:[]});if(l.isVertexAI()){const n=sn(l,t);return n.parts&&n.parts.length>0&&n.parts[0].text!==void 0?[n.parts[0].text]:[]}return Array.isArray(t)?t.map(n=>sn(l,n)):[sn(l,t)]}function Pi(l,t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("contents are required");if(!Array.isArray(t)){if(Cp(t)||Ep(t))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[sn(l,t)]}const n=[],a=[],o=Fc(t[0]);for(const u of t){const c=Fc(u);if(c!=o)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(c)n.push(u);else{if(Cp(u)||Ep(u))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");a.push(u)}}return o||n.push({role:"user",parts:N0(l,a)}),n}function _0(l,t){return t}function D0(l,t){if(typeof t=="object")return t;if(typeof t=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:t}}};throw new Error(`Unsupported speechConfig type: ${typeof t}`)}function us(l,t){return t}function cs(l,t){if(!Array.isArray(t))throw new Error("tool is required and must be an array of Tools");return t}function Jv(l,t,n,a=1){const o=!t.startsWith(`${n}/`)&&t.split("/").length===a;return l.isVertexAI()?t.startsWith("projects/")?t:t.startsWith("locations/")?`projects/${l.getProject()}/${t}`:t.startsWith(`${n}/`)?`projects/${l.getProject()}/locations/${l.getLocation()}/${t}`:o?`projects/${l.getProject()}/locations/${l.getLocation()}/${n}/${t}`:t:o?`${n}/${t}`:t}function Hi(l,t){if(typeof t!="string")throw new Error("name must be a string");return Jv(l,t,"cachedContents")}function I0(l,t){switch(t){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return t}}function qi(l,t){if(typeof t!="string")throw new Error("fromImageBytes must be a string");return t}function R0(l,t){if(typeof t!="string")throw new Error("fromName must be a string");return t.startsWith("files/")?t.split("files/")[1]:t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Zv(l,t){const n={};if(p(t,["videoMetadata"])!==void 0)throw new Error("videoMetadata parameter is not supported in Gemini API.");const a=p(t,["thought"]);a!=null&&g(n,["thought"],a);const o=p(t,["codeExecutionResult"]);o!=null&&g(n,["codeExecutionResult"],o);const u=p(t,["executableCode"]);u!=null&&g(n,["executableCode"],u);const c=p(t,["fileData"]);c!=null&&g(n,["fileData"],c);const h=p(t,["functionCall"]);h!=null&&g(n,["functionCall"],h);const x=p(t,["functionResponse"]);x!=null&&g(n,["functionResponse"],x);const f=p(t,["inlineData"]);f!=null&&g(n,["inlineData"],f);const v=p(t,["text"]);return v!=null&&g(n,["text"],v),n}function wp(l,t){const n={},a=p(t,["parts"]);if(a!=null){let u=a;Array.isArray(u)&&(u=u.map(c=>Zv(l,c))),g(n,["parts"],u)}const o=p(t,["role"]);return o!=null&&g(n,["role"],o),n}function Wv(){return{}}function eb(l,t){const n={},a=p(t,["mode"]);a!=null&&g(n,["mode"],a);const o=p(t,["dynamicThreshold"]);return o!=null&&g(n,["dynamicThreshold"],o),n}function tb(l,t){const n={},a=p(t,["dynamicRetrievalConfig"]);return a!=null&&g(n,["dynamicRetrievalConfig"],eb(l,a)),n}function nb(l,t){const n={};if(p(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");p(t,["googleSearch"])!=null&&g(n,["googleSearch"],Wv());const o=p(t,["googleSearchRetrieval"]);o!=null&&g(n,["googleSearchRetrieval"],tb(l,o));const u=p(t,["codeExecution"]);u!=null&&g(n,["codeExecution"],u);const c=p(t,["functionDeclarations"]);return c!=null&&g(n,["functionDeclarations"],c),n}function ib(l,t){const n={},a=p(t,["mode"]);a!=null&&g(n,["mode"],a);const o=p(t,["allowedFunctionNames"]);return o!=null&&g(n,["allowedFunctionNames"],o),n}function lb(l,t){const n={},a=p(t,["functionCallingConfig"]);return a!=null&&g(n,["functionCallingConfig"],ib(l,a)),n}function rb(l,t,n){const a={},o=p(t,["ttl"]);n!==void 0&&o!=null&&g(n,["ttl"],o);const u=p(t,["expireTime"]);n!==void 0&&u!=null&&g(n,["expireTime"],u);const c=p(t,["displayName"]);n!==void 0&&c!=null&&g(n,["displayName"],c);const h=p(t,["contents"]);if(n!==void 0&&h!=null){let b=Pi(l,h);Array.isArray(b)&&(b=b.map(E=>wp(l,E))),g(n,["contents"],b)}const x=p(t,["systemInstruction"]);n!==void 0&&x!=null&&g(n,["systemInstruction"],wp(l,sn(l,x)));const f=p(t,["tools"]);if(n!==void 0&&f!=null){let b=f;Array.isArray(b)&&(b=b.map(E=>nb(l,E))),g(n,["tools"],b)}const v=p(t,["toolConfig"]);return n!==void 0&&v!=null&&g(n,["toolConfig"],lb(l,v)),a}function ab(l,t){const n={},a=p(t,["model"]);a!=null&&g(n,["model"],w0(l,a));const o=p(t,["config"]);return o!=null&&g(n,["config"],rb(l,o,n)),n}function ob(l,t){const n={},a=p(t,["name"]);a!=null&&g(n,["_url","name"],Hi(l,a));const o=p(t,["config"]);return o!=null&&g(n,["config"],o),n}function sb(l,t){const n={},a=p(t,["name"]);a!=null&&g(n,["_url","name"],Hi(l,a));const o=p(t,["config"]);return o!=null&&g(n,["config"],o),n}function ub(l,t,n){const a={},o=p(t,["ttl"]);n!==void 0&&o!=null&&g(n,["ttl"],o);const u=p(t,["expireTime"]);return n!==void 0&&u!=null&&g(n,["expireTime"],u),a}function cb(l,t){const n={},a=p(t,["name"]);a!=null&&g(n,["_url","name"],Hi(l,a));const o=p(t,["config"]);return o!=null&&g(n,["config"],ub(l,o,n)),n}function db(l,t,n){const a={},o=p(t,["pageSize"]);n!==void 0&&o!=null&&g(n,["_query","pageSize"],o);const u=p(t,["pageToken"]);return n!==void 0&&u!=null&&g(n,["_query","pageToken"],u),a}function fb(l,t){const n={},a=p(t,["config"]);return a!=null&&g(n,["config"],db(l,a,n)),n}function hb(l,t){const n={},a=p(t,["videoMetadata"]);a!=null&&g(n,["videoMetadata"],a);const o=p(t,["thought"]);o!=null&&g(n,["thought"],o);const u=p(t,["codeExecutionResult"]);u!=null&&g(n,["codeExecutionResult"],u);const c=p(t,["executableCode"]);c!=null&&g(n,["executableCode"],c);const h=p(t,["fileData"]);h!=null&&g(n,["fileData"],h);const x=p(t,["functionCall"]);x!=null&&g(n,["functionCall"],x);const f=p(t,["functionResponse"]);f!=null&&g(n,["functionResponse"],f);const v=p(t,["inlineData"]);v!=null&&g(n,["inlineData"],v);const b=p(t,["text"]);return b!=null&&g(n,["text"],b),n}function Ap(l,t){const n={},a=p(t,["parts"]);if(a!=null){let u=a;Array.isArray(u)&&(u=u.map(c=>hb(l,c))),g(n,["parts"],u)}const o=p(t,["role"]);return o!=null&&g(n,["role"],o),n}function mb(){return{}}function pb(l,t){const n={},a=p(t,["mode"]);a!=null&&g(n,["mode"],a);const o=p(t,["dynamicThreshold"]);return o!=null&&g(n,["dynamicThreshold"],o),n}function gb(l,t){const n={},a=p(t,["dynamicRetrievalConfig"]);return a!=null&&g(n,["dynamicRetrievalConfig"],pb(l,a)),n}function yb(l,t){const n={},a=p(t,["retrieval"]);a!=null&&g(n,["retrieval"],a),p(t,["googleSearch"])!=null&&g(n,["googleSearch"],mb());const u=p(t,["googleSearchRetrieval"]);u!=null&&g(n,["googleSearchRetrieval"],gb(l,u));const c=p(t,["codeExecution"]);c!=null&&g(n,["codeExecution"],c);const h=p(t,["functionDeclarations"]);return h!=null&&g(n,["functionDeclarations"],h),n}function xb(l,t){const n={},a=p(t,["mode"]);a!=null&&g(n,["mode"],a);const o=p(t,["allowedFunctionNames"]);return o!=null&&g(n,["allowedFunctionNames"],o),n}function vb(l,t){const n={},a=p(t,["functionCallingConfig"]);return a!=null&&g(n,["functionCallingConfig"],xb(l,a)),n}function bb(l,t,n){const a={},o=p(t,["ttl"]);n!==void 0&&o!=null&&g(n,["ttl"],o);const u=p(t,["expireTime"]);n!==void 0&&u!=null&&g(n,["expireTime"],u);const c=p(t,["displayName"]);n!==void 0&&c!=null&&g(n,["displayName"],c);const h=p(t,["contents"]);if(n!==void 0&&h!=null){let b=Pi(l,h);Array.isArray(b)&&(b=b.map(E=>Ap(l,E))),g(n,["contents"],b)}const x=p(t,["systemInstruction"]);n!==void 0&&x!=null&&g(n,["systemInstruction"],Ap(l,sn(l,x)));const f=p(t,["tools"]);if(n!==void 0&&f!=null){let b=f;Array.isArray(b)&&(b=b.map(E=>yb(l,E))),g(n,["tools"],b)}const v=p(t,["toolConfig"]);return n!==void 0&&v!=null&&g(n,["toolConfig"],vb(l,v)),a}function Tb(l,t){const n={},a=p(t,["model"]);a!=null&&g(n,["model"],w0(l,a));const o=p(t,["config"]);return o!=null&&g(n,["config"],bb(l,o,n)),n}function Sb(l,t){const n={},a=p(t,["name"]);a!=null&&g(n,["_url","name"],Hi(l,a));const o=p(t,["config"]);return o!=null&&g(n,["config"],o),n}function Cb(l,t){const n={},a=p(t,["name"]);a!=null&&g(n,["_url","name"],Hi(l,a));const o=p(t,["config"]);return o!=null&&g(n,["config"],o),n}function Eb(l,t,n){const a={},o=p(t,["ttl"]);n!==void 0&&o!=null&&g(n,["ttl"],o);const u=p(t,["expireTime"]);return n!==void 0&&u!=null&&g(n,["expireTime"],u),a}function wb(l,t){const n={},a=p(t,["name"]);a!=null&&g(n,["_url","name"],Hi(l,a));const o=p(t,["config"]);return o!=null&&g(n,["config"],Eb(l,o,n)),n}function Ab(l,t,n){const a={},o=p(t,["pageSize"]);n!==void 0&&o!=null&&g(n,["_query","pageSize"],o);const u=p(t,["pageToken"]);return n!==void 0&&u!=null&&g(n,["_query","pageToken"],u),a}function Nb(l,t){const n={},a=p(t,["config"]);return a!=null&&g(n,["config"],Ab(l,a,n)),n}function Qo(l,t){const n={},a=p(t,["name"]);a!=null&&g(n,["name"],a);const o=p(t,["displayName"]);o!=null&&g(n,["displayName"],o);const u=p(t,["model"]);u!=null&&g(n,["model"],u);const c=p(t,["createTime"]);c!=null&&g(n,["createTime"],c);const h=p(t,["updateTime"]);h!=null&&g(n,["updateTime"],h);const x=p(t,["expireTime"]);x!=null&&g(n,["expireTime"],x);const f=p(t,["usageMetadata"]);return f!=null&&g(n,["usageMetadata"],f),n}function Mb(){return{}}function _b(l,t){const n={},a=p(t,["nextPageToken"]);a!=null&&g(n,["nextPageToken"],a);const o=p(t,["cachedContents"]);if(o!=null){let u=o;Array.isArray(u)&&(u=u.map(c=>Qo(l,c))),g(n,["cachedContents"],u)}return n}function Jo(l,t){const n={},a=p(t,["name"]);a!=null&&g(n,["name"],a);const o=p(t,["displayName"]);o!=null&&g(n,["displayName"],o);const u=p(t,["model"]);u!=null&&g(n,["model"],u);const c=p(t,["createTime"]);c!=null&&g(n,["createTime"],c);const h=p(t,["updateTime"]);h!=null&&g(n,["updateTime"],h);const x=p(t,["expireTime"]);x!=null&&g(n,["expireTime"],x);const f=p(t,["usageMetadata"]);return f!=null&&g(n,["usageMetadata"],f),n}function Db(){return{}}function Ib(l,t){const n={},a=p(t,["nextPageToken"]);a!=null&&g(n,["nextPageToken"],a);const o=p(t,["cachedContents"]);if(o!=null){let u=o;Array.isArray(u)&&(u=u.map(c=>Jo(l,c))),g(n,["cachedContents"],u)}return n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var ba;(function(l){l.PAGED_ITEM_BATCH_JOBS="batchJobs",l.PAGED_ITEM_MODELS="models",l.PAGED_ITEM_TUNING_JOBS="tuningJobs",l.PAGED_ITEM_FILES="files",l.PAGED_ITEM_CACHED_CONTENTS="cachedContents"})(ba||(ba={}));class pd{constructor(t,n,a,o){this.pageInternal=[],this.paramsInternal={},this.requestInternal=n,this.init(t,a,o)}init(t,n,a){var o,u;this.nameInternal=t,this.pageInternal=n[this.nameInternal]||[],this.idxInternal=0;let c={config:{}};a?typeof a=="object"?c=Object.assign({},a):c=a:c={config:{}},c.config&&(c.config.pageToken=n.nextPageToken),this.paramsInternal=c,this.pageInternalSize=(u=(o=c.config)===null||o===void 0?void 0:o.pageSize)!==null&&u!==void 0?u:this.pageInternal.length}initNextPage(t){this.init(this.nameInternal,t,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(t){return this.pageInternal[t]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const t=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:t,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const t=await this.requestInternal(this.params);return this.initNextPage(t),this.page}hasNextPage(){var t;return((t=this.params.config)===null||t===void 0?void 0:t.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Np;(function(l){l.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",l.OUTCOME_OK="OUTCOME_OK",l.OUTCOME_FAILED="OUTCOME_FAILED",l.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(Np||(Np={}));var Mp;(function(l){l.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",l.PYTHON="PYTHON"})(Mp||(Mp={}));var _p;(function(l){l.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",l.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",l.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",l.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",l.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",l.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY"})(_p||(_p={}));var Dp;(function(l){l.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",l.SEVERITY="SEVERITY",l.PROBABILITY="PROBABILITY"})(Dp||(Dp={}));var Ip;(function(l){l.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",l.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",l.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",l.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",l.BLOCK_NONE="BLOCK_NONE",l.OFF="OFF"})(Ip||(Ip={}));var Rp;(function(l){l.MODE_UNSPECIFIED="MODE_UNSPECIFIED",l.MODE_DYNAMIC="MODE_DYNAMIC"})(Rp||(Rp={}));var kp;(function(l){l.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",l.STRING="STRING",l.NUMBER="NUMBER",l.INTEGER="INTEGER",l.BOOLEAN="BOOLEAN",l.ARRAY="ARRAY",l.OBJECT="OBJECT"})(kp||(kp={}));var Lp;(function(l){l.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",l.STOP="STOP",l.MAX_TOKENS="MAX_TOKENS",l.SAFETY="SAFETY",l.RECITATION="RECITATION",l.LANGUAGE="LANGUAGE",l.OTHER="OTHER",l.BLOCKLIST="BLOCKLIST",l.PROHIBITED_CONTENT="PROHIBITED_CONTENT",l.SPII="SPII",l.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",l.IMAGE_SAFETY="IMAGE_SAFETY"})(Lp||(Lp={}));var Bp;(function(l){l.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",l.NEGLIGIBLE="NEGLIGIBLE",l.LOW="LOW",l.MEDIUM="MEDIUM",l.HIGH="HIGH"})(Bp||(Bp={}));var Up;(function(l){l.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",l.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",l.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",l.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",l.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(Up||(Up={}));var zp;(function(l){l.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",l.SAFETY="SAFETY",l.OTHER="OTHER",l.BLOCKLIST="BLOCKLIST",l.PROHIBITED_CONTENT="PROHIBITED_CONTENT"})(zp||(zp={}));var jp;(function(l){l.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",l.ON_DEMAND="ON_DEMAND",l.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(jp||(jp={}));var ns;(function(l){l.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",l.TEXT="TEXT",l.IMAGE="IMAGE",l.AUDIO="AUDIO"})(ns||(ns={}));var Op;(function(l){l.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",l.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",l.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",l.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(Op||(Op={}));var Yc;(function(l){l.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",l.JOB_STATE_QUEUED="JOB_STATE_QUEUED",l.JOB_STATE_PENDING="JOB_STATE_PENDING",l.JOB_STATE_RUNNING="JOB_STATE_RUNNING",l.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",l.JOB_STATE_FAILED="JOB_STATE_FAILED",l.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",l.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",l.JOB_STATE_PAUSED="JOB_STATE_PAUSED",l.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",l.JOB_STATE_UPDATING="JOB_STATE_UPDATING",l.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(Yc||(Yc={}));var Vp;(function(l){l.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",l.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",l.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",l.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",l.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",l.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",l.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(Vp||(Vp={}));var Pp;(function(l){l.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",l.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",l.BALANCED="BALANCED",l.PRIORITIZE_COST="PRIORITIZE_COST"})(Pp||(Pp={}));var Hp;(function(l){l.MODE_UNSPECIFIED="MODE_UNSPECIFIED",l.MODE_DYNAMIC="MODE_DYNAMIC"})(Hp||(Hp={}));var qp;(function(l){l.MODE_UNSPECIFIED="MODE_UNSPECIFIED",l.AUTO="AUTO",l.ANY="ANY",l.NONE="NONE"})(qp||(qp={}));var Gp;(function(l){l.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",l.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",l.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",l.BLOCK_NONE="BLOCK_NONE"})(Gp||(Gp={}));var Fp;(function(l){l.DONT_ALLOW="DONT_ALLOW",l.ALLOW_ADULT="ALLOW_ADULT",l.ALLOW_ALL="ALLOW_ALL"})(Fp||(Fp={}));var Yp;(function(l){l.auto="auto",l.en="en",l.ja="ja",l.ko="ko",l.hi="hi"})(Yp||(Yp={}));var Kp;(function(l){l.STATE_UNSPECIFIED="STATE_UNSPECIFIED",l.PROCESSING="PROCESSING",l.ACTIVE="ACTIVE",l.FAILED="FAILED"})(Kp||(Kp={}));var Xp;(function(l){l.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",l.UPLOADED="UPLOADED",l.GENERATED="GENERATED"})(Xp||(Xp={}));var $p;(function(l){l.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",l.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",l.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",l.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",l.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})($p||($p={}));var Qp;(function(l){l.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",l.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",l.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",l.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(Qp||(Qp={}));var Jp;(function(l){l.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",l.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",l.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",l.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(Jp||(Jp={}));var Zp;(function(l){l.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",l.TEXT="TEXT",l.IMAGE="IMAGE",l.VIDEO="VIDEO",l.AUDIO="AUDIO",l.DOCUMENT="DOCUMENT"})(Zp||(Zp={}));var Wp;(function(l){l.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",l.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",l.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(Wp||(Wp={}));var eg;(function(l){l.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",l.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",l.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(eg||(eg={}));var tg;(function(l){l.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",l.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",l.NO_INTERRUPTION="NO_INTERRUPTION"})(tg||(tg={}));var ng;(function(l){l.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",l.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",l.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(ng||(ng={}));class Vo{get text(){var t,n,a,o,u,c,h,x;if(((o=(a=(n=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||n===void 0?void 0:n.content)===null||a===void 0?void 0:a.parts)===null||o===void 0?void 0:o.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let f="",v=!1;const b=[];for(const E of(x=(h=(c=(u=this.candidates)===null||u===void 0?void 0:u[0])===null||c===void 0?void 0:c.content)===null||h===void 0?void 0:h.parts)!==null&&x!==void 0?x:[]){for(const[C,D]of Object.entries(E))C!=="text"&&C!=="thought"&&(D!==null||D!==void 0)&&b.push(C);if(typeof E.text=="string"){if(typeof E.thought=="boolean"&&E.thought)continue;v=!0,f+=E.text}}return b.length>0&&console.warn(`there are non-text parts ${b} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),v?f:void 0}get data(){var t,n,a,o,u,c,h,x;if(((o=(a=(n=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||n===void 0?void 0:n.content)===null||a===void 0?void 0:a.parts)===null||o===void 0?void 0:o.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let f="";const v=[];for(const b of(x=(h=(c=(u=this.candidates)===null||u===void 0?void 0:u[0])===null||c===void 0?void 0:c.content)===null||h===void 0?void 0:h.parts)!==null&&x!==void 0?x:[]){for(const[E,C]of Object.entries(b))E!=="inlineData"&&(C!==null||C!==void 0)&&v.push(E);b.inlineData&&typeof b.inlineData.data=="string"&&(f+=atob(b.inlineData.data))}return v.length>0&&console.warn(`there are non-data parts ${v} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),f.length>0?btoa(f):void 0}get functionCalls(){var t,n,a,o,u,c,h,x;if(((o=(a=(n=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||n===void 0?void 0:n.content)===null||a===void 0?void 0:a.parts)===null||o===void 0?void 0:o.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const f=(x=(h=(c=(u=this.candidates)===null||u===void 0?void 0:u[0])===null||c===void 0?void 0:c.content)===null||h===void 0?void 0:h.parts)===null||x===void 0?void 0:x.filter(v=>v.functionCall).map(v=>v.functionCall).filter(v=>v!==void 0);if((f==null?void 0:f.length)!==0)return f}get executableCode(){var t,n,a,o,u,c,h,x,f;if(((o=(a=(n=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||n===void 0?void 0:n.content)===null||a===void 0?void 0:a.parts)===null||o===void 0?void 0:o.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const v=(x=(h=(c=(u=this.candidates)===null||u===void 0?void 0:u[0])===null||c===void 0?void 0:c.content)===null||h===void 0?void 0:h.parts)===null||x===void 0?void 0:x.filter(b=>b.executableCode).map(b=>b.executableCode).filter(b=>b!==void 0);if((v==null?void 0:v.length)!==0)return(f=v==null?void 0:v[0])===null||f===void 0?void 0:f.code}get codeExecutionResult(){var t,n,a,o,u,c,h,x,f;if(((o=(a=(n=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||n===void 0?void 0:n.content)===null||a===void 0?void 0:a.parts)===null||o===void 0?void 0:o.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const v=(x=(h=(c=(u=this.candidates)===null||u===void 0?void 0:u[0])===null||c===void 0?void 0:c.content)===null||h===void 0?void 0:h.parts)===null||x===void 0?void 0:x.filter(b=>b.codeExecutionResult).map(b=>b.codeExecutionResult).filter(b=>b!==void 0);if((v==null?void 0:v.length)!==0)return(f=v==null?void 0:v[0])===null||f===void 0?void 0:f.output}}class ig{}class lg{}class rg{}class ag{}class Rb{}class og{}class sg{}class ug{}class kb{}class Kc{constructor(t){const n={};for(const a of t.headers.entries())n[a[0]]=a[1];this.headers=n,this.responseInternal=t}json(){return this.responseInternal.json()}}class Lb{}class Bb{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Ub extends Ca{constructor(t){super(),this.apiClient=t,this.list=async(n={})=>new pd(ba.PAGED_ITEM_CACHED_CONTENTS,a=>this.listInternal(a),await this.listInternal(n),n)}async create(t){var n,a,o,u;let c,h="",x={};if(this.apiClient.isVertexAI()){const f=Tb(this.apiClient,t);return h=Ie("cachedContents",f._url),x=f._query,delete f.config,delete f._url,delete f._query,c=this.apiClient.request({path:h,queryParams:x,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),c.then(v=>Jo(this.apiClient,v))}else{const f=ab(this.apiClient,t);return h=Ie("cachedContents",f._url),x=f._query,delete f.config,delete f._url,delete f._query,c=this.apiClient.request({path:h,queryParams:x,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(u=t.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json()),c.then(v=>Qo(this.apiClient,v))}}async get(t){var n,a,o,u;let c,h="",x={};if(this.apiClient.isVertexAI()){const f=Sb(this.apiClient,t);return h=Ie("{name}",f._url),x=f._query,delete f.config,delete f._url,delete f._query,c=this.apiClient.request({path:h,queryParams:x,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),c.then(v=>Jo(this.apiClient,v))}else{const f=ob(this.apiClient,t);return h=Ie("{name}",f._url),x=f._query,delete f.config,delete f._url,delete f._query,c=this.apiClient.request({path:h,queryParams:x,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(u=t.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json()),c.then(v=>Qo(this.apiClient,v))}}async delete(t){var n,a,o,u;let c,h="",x={};if(this.apiClient.isVertexAI()){const f=Cb(this.apiClient,t);return h=Ie("{name}",f._url),x=f._query,delete f.config,delete f._url,delete f._query,c=this.apiClient.request({path:h,queryParams:x,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),c.then(()=>{const v=Db(),b=new sg;return Object.assign(b,v),b})}else{const f=sb(this.apiClient,t);return h=Ie("{name}",f._url),x=f._query,delete f.config,delete f._url,delete f._query,c=this.apiClient.request({path:h,queryParams:x,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(u=t.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json()),c.then(()=>{const v=Mb(),b=new sg;return Object.assign(b,v),b})}}async update(t){var n,a,o,u;let c,h="",x={};if(this.apiClient.isVertexAI()){const f=wb(this.apiClient,t);return h=Ie("{name}",f._url),x=f._query,delete f.config,delete f._url,delete f._query,c=this.apiClient.request({path:h,queryParams:x,body:JSON.stringify(f),httpMethod:"PATCH",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),c.then(v=>Jo(this.apiClient,v))}else{const f=cb(this.apiClient,t);return h=Ie("{name}",f._url),x=f._query,delete f.config,delete f._url,delete f._query,c=this.apiClient.request({path:h,queryParams:x,body:JSON.stringify(f),httpMethod:"PATCH",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(u=t.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json()),c.then(v=>Qo(this.apiClient,v))}}async listInternal(t){var n,a,o,u;let c,h="",x={};if(this.apiClient.isVertexAI()){const f=Nb(this.apiClient,t);return h=Ie("cachedContents",f._url),x=f._query,delete f.config,delete f._url,delete f._query,c=this.apiClient.request({path:h,queryParams:x,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),c.then(v=>{const b=Ib(this.apiClient,v),E=new ug;return Object.assign(E,b),E})}else{const f=fb(this.apiClient,t);return h=Ie("cachedContents",f._url),x=f._query,delete f.config,delete f._url,delete f._query,c=this.apiClient.request({path:h,queryParams:x,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(u=t.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json()),c.then(v=>{const b=_b(this.apiClient,v),E=new ug;return Object.assign(E,b),E})}}}function cg(l){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&l[t],a=0;if(n)return n.call(l);if(l&&typeof l.length=="number")return{next:function(){return l&&a>=l.length&&(l=void 0),{value:l&&l[a++],done:!l}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function Yt(l){return this instanceof Yt?(this.v=l,this):new Yt(l)}function is(l,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var a=n.apply(l,t||[]),o,u=[];return o=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),h("next"),h("throw"),h("return",c),o[Symbol.asyncIterator]=function(){return this},o;function c(C){return function(D){return Promise.resolve(D).then(C,b)}}function h(C,D){a[C]&&(o[C]=function(U){return new Promise(function(F,L){u.push([C,U,F,L])>1||x(C,U)})},D&&(o[C]=D(o[C])))}function x(C,D){try{f(a[C](D))}catch(U){E(u[0][3],U)}}function f(C){C.value instanceof Yt?Promise.resolve(C.value.v).then(v,b):E(u[0][2],C)}function v(C){x("next",C)}function b(C){x("throw",C)}function E(C,D){C(D),u.shift(),u.length&&x(u[0][0],u[0][1])}}function Xc(l){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=l[Symbol.asyncIterator],n;return t?t.call(l):(l=typeof cg=="function"?cg(l):l[Symbol.iterator](),n={},a("next"),a("throw"),a("return"),n[Symbol.asyncIterator]=function(){return this},n);function a(u){n[u]=l[u]&&function(c){return new Promise(function(h,x){c=l[u](c),o(h,x,c.done,c.value)})}}function o(u,c,h,x){Promise.resolve(x).then(function(f){u({value:f,done:h})},c)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function zb(l){var t;if(l.candidates==null||l.candidates.length===0)return!1;const n=(t=l.candidates[0])===null||t===void 0?void 0:t.content;return n===void 0?!1:k0(n)}function k0(l){if(l.parts===void 0||l.parts.length===0)return!1;for(const t of l.parts)if(t===void 0||Object.keys(t).length===0||t.text!==void 0&&t.text==="")return!1;return!0}function jb(l){if(l.length!==0){if(l[0].role!=="user")throw new Error("History must start with a user turn.");for(const t of l)if(t.role!=="user"&&t.role!=="model")throw new Error(`Role must be user or model, but got ${t.role}.`)}}function Ob(l){if(l===void 0||l.length===0)return[];const t=[],n=l.length;let a=0,o=l[0];for(;a<n;)if(l[a].role==="user")o=l[a],a++;else{const u=[];let c=!0;for(;a<n&&l[a].role==="model";)u.push(l[a]),c&&!k0(l[a])&&(c=!1),a++;c&&(t.push(o),t.push(...u))}return t}class Vb{constructor(t,n){this.modelsModule=t,this.apiClient=n}create(t){return new Pb(this.apiClient,this.modelsModule,t.model,t.config,t.history)}}class Pb{constructor(t,n,a,o={},u=[]){this.apiClient=t,this.modelsModule=n,this.model=a,this.config=o,this.history=u,this.sendPromise=Promise.resolve(),jb(u)}async sendMessage(t){var n;await this.sendPromise;const a=sn(this.apiClient,t.message),o=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(a),config:(n=t.config)!==null&&n!==void 0?n:this.config});return this.sendPromise=(async()=>{var u,c;const x=(c=(u=(await o).candidates)===null||u===void 0?void 0:u[0])===null||c===void 0?void 0:c.content,f=x?[x]:[];this.recordHistory(a,f)})(),await this.sendPromise,o}async sendMessageStream(t){var n;await this.sendPromise;const a=sn(this.apiClient,t.message),o=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(a),config:(n=t.config)!==null&&n!==void 0?n:this.config});this.sendPromise=o.then(()=>{}).catch(()=>{});const u=await o;return this.processStreamResponse(u,a)}getHistory(t=!1){return t?Ob(this.history):this.history}processStreamResponse(t,n){var a,o;return is(this,arguments,function*(){var c,h,x,f;const v=[];try{for(var b=!0,E=Xc(t),C;C=yield Yt(E.next()),c=C.done,!c;b=!0){f=C.value,b=!1;const D=f;if(zb(D)){const U=(o=(a=D.candidates)===null||a===void 0?void 0:a[0])===null||o===void 0?void 0:o.content;U!==void 0&&v.push(U)}yield yield Yt(D)}}catch(D){h={error:D}}finally{try{!b&&!c&&(x=E.return)&&(yield Yt(x.call(E)))}finally{if(h)throw h.error}}this.recordHistory(n,v)})}recordHistory(t,n){let a=[];n.length>0&&n.every(o=>o.role==="model")?a=n:a.push({role:"model",parts:[]}),this.history.push(t),this.history.push(...a)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Hb(l,t,n){const a={},o=p(t,["pageSize"]);n!==void 0&&o!=null&&g(n,["_query","pageSize"],o);const u=p(t,["pageToken"]);return n!==void 0&&u!=null&&g(n,["_query","pageToken"],u),a}function qb(l,t){const n={},a=p(t,["config"]);return a!=null&&g(n,["config"],Hb(l,a,n)),n}function Gb(l,t){const n={},a=p(t,["details"]);a!=null&&g(n,["details"],a);const o=p(t,["message"]);o!=null&&g(n,["message"],o);const u=p(t,["code"]);return u!=null&&g(n,["code"],u),n}function Fb(l,t){const n={},a=p(t,["name"]);a!=null&&g(n,["name"],a);const o=p(t,["displayName"]);o!=null&&g(n,["displayName"],o);const u=p(t,["mimeType"]);u!=null&&g(n,["mimeType"],u);const c=p(t,["sizeBytes"]);c!=null&&g(n,["sizeBytes"],c);const h=p(t,["createTime"]);h!=null&&g(n,["createTime"],h);const x=p(t,["expirationTime"]);x!=null&&g(n,["expirationTime"],x);const f=p(t,["updateTime"]);f!=null&&g(n,["updateTime"],f);const v=p(t,["sha256Hash"]);v!=null&&g(n,["sha256Hash"],v);const b=p(t,["uri"]);b!=null&&g(n,["uri"],b);const E=p(t,["downloadUri"]);E!=null&&g(n,["downloadUri"],E);const C=p(t,["state"]);C!=null&&g(n,["state"],C);const D=p(t,["source"]);D!=null&&g(n,["source"],D);const U=p(t,["videoMetadata"]);U!=null&&g(n,["videoMetadata"],U);const F=p(t,["error"]);return F!=null&&g(n,["error"],Gb(l,F)),n}function Yb(l,t){const n={},a=p(t,["file"]);a!=null&&g(n,["file"],Fb(l,a));const o=p(t,["config"]);return o!=null&&g(n,["config"],o),n}function Kb(l,t){const n={},a=p(t,["name"]);a!=null&&g(n,["_url","file"],R0(l,a));const o=p(t,["config"]);return o!=null&&g(n,["config"],o),n}function Xb(l,t){const n={},a=p(t,["name"]);a!=null&&g(n,["_url","file"],R0(l,a));const o=p(t,["config"]);return o!=null&&g(n,["config"],o),n}function $b(l,t){const n={},a=p(t,["details"]);a!=null&&g(n,["details"],a);const o=p(t,["message"]);o!=null&&g(n,["message"],o);const u=p(t,["code"]);return u!=null&&g(n,["code"],u),n}function $c(l,t){const n={},a=p(t,["name"]);a!=null&&g(n,["name"],a);const o=p(t,["displayName"]);o!=null&&g(n,["displayName"],o);const u=p(t,["mimeType"]);u!=null&&g(n,["mimeType"],u);const c=p(t,["sizeBytes"]);c!=null&&g(n,["sizeBytes"],c);const h=p(t,["createTime"]);h!=null&&g(n,["createTime"],h);const x=p(t,["expirationTime"]);x!=null&&g(n,["expirationTime"],x);const f=p(t,["updateTime"]);f!=null&&g(n,["updateTime"],f);const v=p(t,["sha256Hash"]);v!=null&&g(n,["sha256Hash"],v);const b=p(t,["uri"]);b!=null&&g(n,["uri"],b);const E=p(t,["downloadUri"]);E!=null&&g(n,["downloadUri"],E);const C=p(t,["state"]);C!=null&&g(n,["state"],C);const D=p(t,["source"]);D!=null&&g(n,["source"],D);const U=p(t,["videoMetadata"]);U!=null&&g(n,["videoMetadata"],U);const F=p(t,["error"]);return F!=null&&g(n,["error"],$b(l,F)),n}function Qb(l,t){const n={},a=p(t,["nextPageToken"]);a!=null&&g(n,["nextPageToken"],a);const o=p(t,["files"]);if(o!=null){let u=o;Array.isArray(u)&&(u=u.map(c=>$c(l,c))),g(n,["files"],u)}return n}function Jb(){return{}}function Zb(){return{}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Wb extends Ca{constructor(t){super(),this.apiClient=t,this.list=async(n={})=>new pd(ba.PAGED_ITEM_FILES,a=>this.listInternal(a),await this.listInternal(n),n)}async upload(t){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(t.file,t.config).then(n=>$c(this.apiClient,n))}async listInternal(t){var n,a;let o,u="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=qb(this.apiClient,t);return u=Ie("files",h._url),c=h._query,delete h.config,delete h._url,delete h._query,o=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(x=>x.json()),o.then(x=>{const f=Qb(this.apiClient,x),v=new kb;return Object.assign(v,f),v})}}async createInternal(t){var n,a;let o,u="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=Yb(this.apiClient,t);return u=Ie("upload/v1beta/files",h._url),c=h._query,delete h.config,delete h._url,delete h._query,o=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(x=>x.json()),o.then(()=>{const x=Jb(),f=new Lb;return Object.assign(f,x),f})}}async get(t){var n,a;let o,u="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=Kb(this.apiClient,t);return u=Ie("files/{file}",h._url),c=h._query,delete h.config,delete h._url,delete h._query,o=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(x=>x.json()),o.then(x=>$c(this.apiClient,x))}}async delete(t){var n,a;let o,u="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=Xb(this.apiClient,t);return u=Ie("files/{file}",h._url),c=h._query,delete h.config,delete h._url,delete h._query,o=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(x=>x.json()),o.then(()=>{const x=Zb(),f=new Bb;return Object.assign(f,x),f})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function e1(l,t){const n={};if(p(t,["videoMetadata"])!==void 0)throw new Error("videoMetadata parameter is not supported in Gemini API.");const a=p(t,["thought"]);a!=null&&g(n,["thought"],a);const o=p(t,["codeExecutionResult"]);o!=null&&g(n,["codeExecutionResult"],o);const u=p(t,["executableCode"]);u!=null&&g(n,["executableCode"],u);const c=p(t,["fileData"]);c!=null&&g(n,["fileData"],c);const h=p(t,["functionCall"]);h!=null&&g(n,["functionCall"],h);const x=p(t,["functionResponse"]);x!=null&&g(n,["functionResponse"],x);const f=p(t,["inlineData"]);f!=null&&g(n,["inlineData"],f);const v=p(t,["text"]);return v!=null&&g(n,["text"],v),n}function t1(l,t){const n={},a=p(t,["videoMetadata"]);a!=null&&g(n,["videoMetadata"],a);const o=p(t,["thought"]);o!=null&&g(n,["thought"],o);const u=p(t,["codeExecutionResult"]);u!=null&&g(n,["codeExecutionResult"],u);const c=p(t,["executableCode"]);c!=null&&g(n,["executableCode"],c);const h=p(t,["fileData"]);h!=null&&g(n,["fileData"],h);const x=p(t,["functionCall"]);x!=null&&g(n,["functionCall"],x);const f=p(t,["functionResponse"]);f!=null&&g(n,["functionResponse"],f);const v=p(t,["inlineData"]);v!=null&&g(n,["inlineData"],v);const b=p(t,["text"]);return b!=null&&g(n,["text"],b),n}function n1(l,t){const n={},a=p(t,["parts"]);if(a!=null){let u=a;Array.isArray(u)&&(u=u.map(c=>e1(l,c))),g(n,["parts"],u)}const o=p(t,["role"]);return o!=null&&g(n,["role"],o),n}function i1(l,t){const n={},a=p(t,["parts"]);if(a!=null){let u=a;Array.isArray(u)&&(u=u.map(c=>t1(l,c))),g(n,["parts"],u)}const o=p(t,["role"]);return o!=null&&g(n,["role"],o),n}function l1(){return{}}function r1(){return{}}function a1(l,t){const n={},a=p(t,["mode"]);a!=null&&g(n,["mode"],a);const o=p(t,["dynamicThreshold"]);return o!=null&&g(n,["dynamicThreshold"],o),n}function o1(l,t){const n={},a=p(t,["mode"]);a!=null&&g(n,["mode"],a);const o=p(t,["dynamicThreshold"]);return o!=null&&g(n,["dynamicThreshold"],o),n}function s1(l,t){const n={},a=p(t,["dynamicRetrievalConfig"]);return a!=null&&g(n,["dynamicRetrievalConfig"],a1(l,a)),n}function u1(l,t){const n={},a=p(t,["dynamicRetrievalConfig"]);return a!=null&&g(n,["dynamicRetrievalConfig"],o1(l,a)),n}function c1(l,t){const n={};if(p(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");p(t,["googleSearch"])!=null&&g(n,["googleSearch"],l1());const o=p(t,["googleSearchRetrieval"]);o!=null&&g(n,["googleSearchRetrieval"],s1(l,o));const u=p(t,["codeExecution"]);u!=null&&g(n,["codeExecution"],u);const c=p(t,["functionDeclarations"]);return c!=null&&g(n,["functionDeclarations"],c),n}function d1(l,t){const n={},a=p(t,["retrieval"]);a!=null&&g(n,["retrieval"],a),p(t,["googleSearch"])!=null&&g(n,["googleSearch"],r1());const u=p(t,["googleSearchRetrieval"]);u!=null&&g(n,["googleSearchRetrieval"],u1(l,u));const c=p(t,["codeExecution"]);c!=null&&g(n,["codeExecution"],c);const h=p(t,["functionDeclarations"]);return h!=null&&g(n,["functionDeclarations"],h),n}function f1(l,t){const n={},a=p(t,["handle"]);if(a!=null&&g(n,["handle"],a),p(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return n}function h1(l,t){const n={},a=p(t,["handle"]);a!=null&&g(n,["handle"],a);const o=p(t,["transparent"]);return o!=null&&g(n,["transparent"],o),n}function m1(){return{}}function dg(){return{}}function p1(l,t){const n={},a=p(t,["disabled"]);a!=null&&g(n,["disabled"],a);const o=p(t,["startOfSpeechSensitivity"]);o!=null&&g(n,["startOfSpeechSensitivity"],o);const u=p(t,["endOfSpeechSensitivity"]);u!=null&&g(n,["endOfSpeechSensitivity"],u);const c=p(t,["prefixPaddingMs"]);c!=null&&g(n,["prefixPaddingMs"],c);const h=p(t,["silenceDurationMs"]);return h!=null&&g(n,["silenceDurationMs"],h),n}function g1(l,t){const n={},a=p(t,["disabled"]);a!=null&&g(n,["disabled"],a);const o=p(t,["startOfSpeechSensitivity"]);o!=null&&g(n,["startOfSpeechSensitivity"],o);const u=p(t,["endOfSpeechSensitivity"]);u!=null&&g(n,["endOfSpeechSensitivity"],u);const c=p(t,["prefixPaddingMs"]);c!=null&&g(n,["prefixPaddingMs"],c);const h=p(t,["silenceDurationMs"]);return h!=null&&g(n,["silenceDurationMs"],h),n}function y1(l,t){const n={},a=p(t,["automaticActivityDetection"]);a!=null&&g(n,["automaticActivityDetection"],p1(l,a));const o=p(t,["activityHandling"]);o!=null&&g(n,["activityHandling"],o);const u=p(t,["turnCoverage"]);return u!=null&&g(n,["turnCoverage"],u),n}function x1(l,t){const n={},a=p(t,["automaticActivityDetection"]);a!=null&&g(n,["automaticActivityDetection"],g1(l,a));const o=p(t,["activityHandling"]);o!=null&&g(n,["activityHandling"],o);const u=p(t,["turnCoverage"]);return u!=null&&g(n,["turnCoverage"],u),n}function v1(l,t){const n={},a=p(t,["targetTokens"]);return a!=null&&g(n,["targetTokens"],a),n}function b1(l,t){const n={},a=p(t,["targetTokens"]);return a!=null&&g(n,["targetTokens"],a),n}function T1(l,t){const n={},a=p(t,["triggerTokens"]);a!=null&&g(n,["triggerTokens"],a);const o=p(t,["slidingWindow"]);return o!=null&&g(n,["slidingWindow"],v1(l,o)),n}function S1(l,t){const n={},a=p(t,["triggerTokens"]);a!=null&&g(n,["triggerTokens"],a);const o=p(t,["slidingWindow"]);return o!=null&&g(n,["slidingWindow"],b1(l,o)),n}function C1(l,t,n){const a={},o=p(t,["generationConfig"]);n!==void 0&&o!=null&&g(n,["setup","generationConfig"],o);const u=p(t,["responseModalities"]);n!==void 0&&u!=null&&g(n,["setup","generationConfig","responseModalities"],u);const c=p(t,["temperature"]);n!==void 0&&c!=null&&g(n,["setup","generationConfig","temperature"],c);const h=p(t,["topP"]);n!==void 0&&h!=null&&g(n,["setup","generationConfig","topP"],h);const x=p(t,["topK"]);n!==void 0&&x!=null&&g(n,["setup","generationConfig","topK"],x);const f=p(t,["maxOutputTokens"]);n!==void 0&&f!=null&&g(n,["setup","generationConfig","maxOutputTokens"],f);const v=p(t,["mediaResolution"]);n!==void 0&&v!=null&&g(n,["setup","generationConfig","mediaResolution"],v);const b=p(t,["seed"]);n!==void 0&&b!=null&&g(n,["setup","generationConfig","seed"],b);const E=p(t,["speechConfig"]);n!==void 0&&E!=null&&g(n,["setup","generationConfig","speechConfig"],E);const C=p(t,["systemInstruction"]);n!==void 0&&C!=null&&g(n,["setup","systemInstruction"],n1(l,sn(l,C)));const D=p(t,["tools"]);if(n!==void 0&&D!=null){let $=cs(l,D);Array.isArray($)&&($=$.map(Z=>c1(l,us(l,Z)))),g(n,["setup","tools"],$)}const U=p(t,["sessionResumption"]);if(n!==void 0&&U!=null&&g(n,["setup","sessionResumption"],f1(l,U)),p(t,["inputAudioTranscription"])!==void 0)throw new Error("inputAudioTranscription parameter is not supported in Gemini API.");const F=p(t,["outputAudioTranscription"]);n!==void 0&&F!=null&&g(n,["setup","outputAudioTranscription"],m1());const L=p(t,["realtimeInputConfig"]);n!==void 0&&L!=null&&g(n,["setup","realtimeInputConfig"],y1(l,L));const Y=p(t,["contextWindowCompression"]);return n!==void 0&&Y!=null&&g(n,["setup","contextWindowCompression"],T1(l,Y)),a}function E1(l,t,n){const a={},o=p(t,["generationConfig"]);n!==void 0&&o!=null&&g(n,["setup","generationConfig"],o);const u=p(t,["responseModalities"]);n!==void 0&&u!=null&&g(n,["setup","generationConfig","responseModalities"],u);const c=p(t,["temperature"]);n!==void 0&&c!=null&&g(n,["setup","generationConfig","temperature"],c);const h=p(t,["topP"]);n!==void 0&&h!=null&&g(n,["setup","generationConfig","topP"],h);const x=p(t,["topK"]);n!==void 0&&x!=null&&g(n,["setup","generationConfig","topK"],x);const f=p(t,["maxOutputTokens"]);n!==void 0&&f!=null&&g(n,["setup","generationConfig","maxOutputTokens"],f);const v=p(t,["mediaResolution"]);n!==void 0&&v!=null&&g(n,["setup","generationConfig","mediaResolution"],v);const b=p(t,["seed"]);n!==void 0&&b!=null&&g(n,["setup","generationConfig","seed"],b);const E=p(t,["speechConfig"]);n!==void 0&&E!=null&&g(n,["setup","generationConfig","speechConfig"],E);const C=p(t,["systemInstruction"]);n!==void 0&&C!=null&&g(n,["setup","systemInstruction"],i1(l,sn(l,C)));const D=p(t,["tools"]);if(n!==void 0&&D!=null){let Z=cs(l,D);Array.isArray(Z)&&(Z=Z.map(ne=>d1(l,us(l,ne)))),g(n,["setup","tools"],Z)}const U=p(t,["sessionResumption"]);n!==void 0&&U!=null&&g(n,["setup","sessionResumption"],h1(l,U));const F=p(t,["inputAudioTranscription"]);n!==void 0&&F!=null&&g(n,["setup","inputAudioTranscription"],dg());const L=p(t,["outputAudioTranscription"]);n!==void 0&&L!=null&&g(n,["setup","outputAudioTranscription"],dg());const Y=p(t,["realtimeInputConfig"]);n!==void 0&&Y!=null&&g(n,["setup","realtimeInputConfig"],x1(l,Y));const $=p(t,["contextWindowCompression"]);return n!==void 0&&$!=null&&g(n,["setup","contextWindowCompression"],S1(l,$)),a}function w1(l,t){const n={},a=p(t,["model"]);a!=null&&g(n,["setup","model"],bt(l,a));const o=p(t,["config"]);return o!=null&&g(n,["config"],C1(l,o,n)),n}function A1(l,t){const n={},a=p(t,["model"]);a!=null&&g(n,["setup","model"],bt(l,a));const o=p(t,["config"]);return o!=null&&g(n,["config"],E1(l,o,n)),n}function N1(){return{}}function M1(){return{}}function _1(){return{}}function D1(){return{}}function I1(l,t){const n={},a=p(t,["media"]);a!=null&&g(n,["mediaChunks"],A0(l,a));const o=p(t,["audio"]);o!=null&&g(n,["audio"],Qv(l,o));const u=p(t,["audioStreamEnd"]);u!=null&&g(n,["audioStreamEnd"],u);const c=p(t,["video"]);c!=null&&g(n,["video"],$v(l,c));const h=p(t,["text"]);return h!=null&&g(n,["text"],h),p(t,["activityStart"])!=null&&g(n,["activityStart"],N1()),p(t,["activityEnd"])!=null&&g(n,["activityEnd"],_1()),n}function R1(l,t){const n={},a=p(t,["media"]);if(a!=null&&g(n,["mediaChunks"],A0(l,a)),p(t,["audio"])!==void 0)throw new Error("audio parameter is not supported in Vertex AI.");const o=p(t,["audioStreamEnd"]);if(o!=null&&g(n,["audioStreamEnd"],o),p(t,["video"])!==void 0)throw new Error("video parameter is not supported in Vertex AI.");if(p(t,["text"])!==void 0)throw new Error("text parameter is not supported in Vertex AI.");return p(t,["activityStart"])!=null&&g(n,["activityStart"],M1()),p(t,["activityEnd"])!=null&&g(n,["activityEnd"],D1()),n}function k1(){return{}}function L1(){return{}}function B1(l,t){const n={},a=p(t,["thought"]);a!=null&&g(n,["thought"],a);const o=p(t,["codeExecutionResult"]);o!=null&&g(n,["codeExecutionResult"],o);const u=p(t,["executableCode"]);u!=null&&g(n,["executableCode"],u);const c=p(t,["fileData"]);c!=null&&g(n,["fileData"],c);const h=p(t,["functionCall"]);h!=null&&g(n,["functionCall"],h);const x=p(t,["functionResponse"]);x!=null&&g(n,["functionResponse"],x);const f=p(t,["inlineData"]);f!=null&&g(n,["inlineData"],f);const v=p(t,["text"]);return v!=null&&g(n,["text"],v),n}function U1(l,t){const n={},a=p(t,["videoMetadata"]);a!=null&&g(n,["videoMetadata"],a);const o=p(t,["thought"]);o!=null&&g(n,["thought"],o);const u=p(t,["codeExecutionResult"]);u!=null&&g(n,["codeExecutionResult"],u);const c=p(t,["executableCode"]);c!=null&&g(n,["executableCode"],c);const h=p(t,["fileData"]);h!=null&&g(n,["fileData"],h);const x=p(t,["functionCall"]);x!=null&&g(n,["functionCall"],x);const f=p(t,["functionResponse"]);f!=null&&g(n,["functionResponse"],f);const v=p(t,["inlineData"]);v!=null&&g(n,["inlineData"],v);const b=p(t,["text"]);return b!=null&&g(n,["text"],b),n}function z1(l,t){const n={},a=p(t,["parts"]);if(a!=null){let u=a;Array.isArray(u)&&(u=u.map(c=>B1(l,c))),g(n,["parts"],u)}const o=p(t,["role"]);return o!=null&&g(n,["role"],o),n}function j1(l,t){const n={},a=p(t,["parts"]);if(a!=null){let u=a;Array.isArray(u)&&(u=u.map(c=>U1(l,c))),g(n,["parts"],u)}const o=p(t,["role"]);return o!=null&&g(n,["role"],o),n}function fg(l,t){const n={},a=p(t,["text"]);a!=null&&g(n,["text"],a);const o=p(t,["finished"]);return o!=null&&g(n,["finished"],o),n}function hg(l,t){const n={},a=p(t,["text"]);a!=null&&g(n,["text"],a);const o=p(t,["finished"]);return o!=null&&g(n,["finished"],o),n}function O1(l,t){const n={},a=p(t,["modelTurn"]);a!=null&&g(n,["modelTurn"],z1(l,a));const o=p(t,["turnComplete"]);o!=null&&g(n,["turnComplete"],o);const u=p(t,["interrupted"]);u!=null&&g(n,["interrupted"],u);const c=p(t,["groundingMetadata"]);c!=null&&g(n,["groundingMetadata"],c);const h=p(t,["generationComplete"]);h!=null&&g(n,["generationComplete"],h);const x=p(t,["inputTranscription"]);x!=null&&g(n,["inputTranscription"],fg(l,x));const f=p(t,["outputTranscription"]);return f!=null&&g(n,["outputTranscription"],fg(l,f)),n}function V1(l,t){const n={},a=p(t,["modelTurn"]);a!=null&&g(n,["modelTurn"],j1(l,a));const o=p(t,["turnComplete"]);o!=null&&g(n,["turnComplete"],o);const u=p(t,["interrupted"]);u!=null&&g(n,["interrupted"],u);const c=p(t,["groundingMetadata"]);c!=null&&g(n,["groundingMetadata"],c);const h=p(t,["generationComplete"]);h!=null&&g(n,["generationComplete"],h);const x=p(t,["inputTranscription"]);x!=null&&g(n,["inputTranscription"],hg(l,x));const f=p(t,["outputTranscription"]);return f!=null&&g(n,["outputTranscription"],hg(l,f)),n}function P1(l,t){const n={},a=p(t,["id"]);a!=null&&g(n,["id"],a);const o=p(t,["args"]);o!=null&&g(n,["args"],o);const u=p(t,["name"]);return u!=null&&g(n,["name"],u),n}function H1(l,t){const n={},a=p(t,["args"]);a!=null&&g(n,["args"],a);const o=p(t,["name"]);return o!=null&&g(n,["name"],o),n}function q1(l,t){const n={},a=p(t,["functionCalls"]);if(a!=null){let o=a;Array.isArray(o)&&(o=o.map(u=>P1(l,u))),g(n,["functionCalls"],o)}return n}function G1(l,t){const n={},a=p(t,["functionCalls"]);if(a!=null){let o=a;Array.isArray(o)&&(o=o.map(u=>H1(l,u))),g(n,["functionCalls"],o)}return n}function F1(l,t){const n={},a=p(t,["ids"]);return a!=null&&g(n,["ids"],a),n}function Y1(l,t){const n={},a=p(t,["ids"]);return a!=null&&g(n,["ids"],a),n}function Po(l,t){const n={},a=p(t,["modality"]);a!=null&&g(n,["modality"],a);const o=p(t,["tokenCount"]);return o!=null&&g(n,["tokenCount"],o),n}function Ho(l,t){const n={},a=p(t,["modality"]);a!=null&&g(n,["modality"],a);const o=p(t,["tokenCount"]);return o!=null&&g(n,["tokenCount"],o),n}function K1(l,t){const n={},a=p(t,["promptTokenCount"]);a!=null&&g(n,["promptTokenCount"],a);const o=p(t,["cachedContentTokenCount"]);o!=null&&g(n,["cachedContentTokenCount"],o);const u=p(t,["responseTokenCount"]);u!=null&&g(n,["responseTokenCount"],u);const c=p(t,["toolUsePromptTokenCount"]);c!=null&&g(n,["toolUsePromptTokenCount"],c);const h=p(t,["thoughtsTokenCount"]);h!=null&&g(n,["thoughtsTokenCount"],h);const x=p(t,["totalTokenCount"]);x!=null&&g(n,["totalTokenCount"],x);const f=p(t,["promptTokensDetails"]);if(f!=null){let C=f;Array.isArray(C)&&(C=C.map(D=>Po(l,D))),g(n,["promptTokensDetails"],C)}const v=p(t,["cacheTokensDetails"]);if(v!=null){let C=v;Array.isArray(C)&&(C=C.map(D=>Po(l,D))),g(n,["cacheTokensDetails"],C)}const b=p(t,["responseTokensDetails"]);if(b!=null){let C=b;Array.isArray(C)&&(C=C.map(D=>Po(l,D))),g(n,["responseTokensDetails"],C)}const E=p(t,["toolUsePromptTokensDetails"]);if(E!=null){let C=E;Array.isArray(C)&&(C=C.map(D=>Po(l,D))),g(n,["toolUsePromptTokensDetails"],C)}return n}function X1(l,t){const n={},a=p(t,["promptTokenCount"]);a!=null&&g(n,["promptTokenCount"],a);const o=p(t,["cachedContentTokenCount"]);o!=null&&g(n,["cachedContentTokenCount"],o);const u=p(t,["candidatesTokenCount"]);u!=null&&g(n,["responseTokenCount"],u);const c=p(t,["toolUsePromptTokenCount"]);c!=null&&g(n,["toolUsePromptTokenCount"],c);const h=p(t,["thoughtsTokenCount"]);h!=null&&g(n,["thoughtsTokenCount"],h);const x=p(t,["totalTokenCount"]);x!=null&&g(n,["totalTokenCount"],x);const f=p(t,["promptTokensDetails"]);if(f!=null){let D=f;Array.isArray(D)&&(D=D.map(U=>Ho(l,U))),g(n,["promptTokensDetails"],D)}const v=p(t,["cacheTokensDetails"]);if(v!=null){let D=v;Array.isArray(D)&&(D=D.map(U=>Ho(l,U))),g(n,["cacheTokensDetails"],D)}const b=p(t,["candidatesTokensDetails"]);if(b!=null){let D=b;Array.isArray(D)&&(D=D.map(U=>Ho(l,U))),g(n,["responseTokensDetails"],D)}const E=p(t,["toolUsePromptTokensDetails"]);if(E!=null){let D=E;Array.isArray(D)&&(D=D.map(U=>Ho(l,U))),g(n,["toolUsePromptTokensDetails"],D)}const C=p(t,["trafficType"]);return C!=null&&g(n,["trafficType"],C),n}function $1(l,t){const n={},a=p(t,["timeLeft"]);return a!=null&&g(n,["timeLeft"],a),n}function Q1(l,t){const n={},a=p(t,["timeLeft"]);return a!=null&&g(n,["timeLeft"],a),n}function J1(l,t){const n={},a=p(t,["newHandle"]);a!=null&&g(n,["newHandle"],a);const o=p(t,["resumable"]);o!=null&&g(n,["resumable"],o);const u=p(t,["lastConsumedClientMessageIndex"]);return u!=null&&g(n,["lastConsumedClientMessageIndex"],u),n}function Z1(l,t){const n={},a=p(t,["newHandle"]);a!=null&&g(n,["newHandle"],a);const o=p(t,["resumable"]);o!=null&&g(n,["resumable"],o);const u=p(t,["lastConsumedClientMessageIndex"]);return u!=null&&g(n,["lastConsumedClientMessageIndex"],u),n}function W1(l,t){const n={};p(t,["setupComplete"])!=null&&g(n,["setupComplete"],k1());const o=p(t,["serverContent"]);o!=null&&g(n,["serverContent"],O1(l,o));const u=p(t,["toolCall"]);u!=null&&g(n,["toolCall"],q1(l,u));const c=p(t,["toolCallCancellation"]);c!=null&&g(n,["toolCallCancellation"],F1(l,c));const h=p(t,["usageMetadata"]);h!=null&&g(n,["usageMetadata"],K1(l,h));const x=p(t,["goAway"]);x!=null&&g(n,["goAway"],$1(l,x));const f=p(t,["sessionResumptionUpdate"]);return f!=null&&g(n,["sessionResumptionUpdate"],J1(l,f)),n}function eT(l,t){const n={};p(t,["setupComplete"])!=null&&g(n,["setupComplete"],L1());const o=p(t,["serverContent"]);o!=null&&g(n,["serverContent"],V1(l,o));const u=p(t,["toolCall"]);u!=null&&g(n,["toolCall"],G1(l,u));const c=p(t,["toolCallCancellation"]);c!=null&&g(n,["toolCallCancellation"],Y1(l,c));const h=p(t,["usageMetadata"]);h!=null&&g(n,["usageMetadata"],X1(l,h));const x=p(t,["goAway"]);x!=null&&g(n,["goAway"],Q1(l,x));const f=p(t,["sessionResumptionUpdate"]);return f!=null&&g(n,["sessionResumptionUpdate"],Z1(l,f)),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function tT(l,t){const n={};if(p(t,["videoMetadata"])!==void 0)throw new Error("videoMetadata parameter is not supported in Gemini API.");const a=p(t,["thought"]);a!=null&&g(n,["thought"],a);const o=p(t,["codeExecutionResult"]);o!=null&&g(n,["codeExecutionResult"],o);const u=p(t,["executableCode"]);u!=null&&g(n,["executableCode"],u);const c=p(t,["fileData"]);c!=null&&g(n,["fileData"],c);const h=p(t,["functionCall"]);h!=null&&g(n,["functionCall"],h);const x=p(t,["functionResponse"]);x!=null&&g(n,["functionResponse"],x);const f=p(t,["inlineData"]);f!=null&&g(n,["inlineData"],f);const v=p(t,["text"]);return v!=null&&g(n,["text"],v),n}function ds(l,t){const n={},a=p(t,["parts"]);if(a!=null){let u=a;Array.isArray(u)&&(u=u.map(c=>tT(l,c))),g(n,["parts"],u)}const o=p(t,["role"]);return o!=null&&g(n,["role"],o),n}function nT(l,t){const n={};if(p(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const a=p(t,["category"]);a!=null&&g(n,["category"],a);const o=p(t,["threshold"]);return o!=null&&g(n,["threshold"],o),n}function iT(){return{}}function lT(l,t){const n={},a=p(t,["mode"]);a!=null&&g(n,["mode"],a);const o=p(t,["dynamicThreshold"]);return o!=null&&g(n,["dynamicThreshold"],o),n}function rT(l,t){const n={},a=p(t,["dynamicRetrievalConfig"]);return a!=null&&g(n,["dynamicRetrievalConfig"],lT(l,a)),n}function aT(l,t){const n={};if(p(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");p(t,["googleSearch"])!=null&&g(n,["googleSearch"],iT());const o=p(t,["googleSearchRetrieval"]);o!=null&&g(n,["googleSearchRetrieval"],rT(l,o));const u=p(t,["codeExecution"]);u!=null&&g(n,["codeExecution"],u);const c=p(t,["functionDeclarations"]);return c!=null&&g(n,["functionDeclarations"],c),n}function oT(l,t){const n={},a=p(t,["mode"]);a!=null&&g(n,["mode"],a);const o=p(t,["allowedFunctionNames"]);return o!=null&&g(n,["allowedFunctionNames"],o),n}function sT(l,t){const n={},a=p(t,["functionCallingConfig"]);return a!=null&&g(n,["functionCallingConfig"],oT(l,a)),n}function uT(l,t){const n={},a=p(t,["voiceName"]);return a!=null&&g(n,["voiceName"],a),n}function cT(l,t){const n={},a=p(t,["prebuiltVoiceConfig"]);return a!=null&&g(n,["prebuiltVoiceConfig"],uT(l,a)),n}function dT(l,t){const n={},a=p(t,["voiceConfig"]);a!=null&&g(n,["voiceConfig"],cT(l,a));const o=p(t,["languageCode"]);return o!=null&&g(n,["languageCode"],o),n}function fT(l,t){const n={},a=p(t,["includeThoughts"]);a!=null&&g(n,["includeThoughts"],a);const o=p(t,["thinkingBudget"]);return o!=null&&g(n,["thinkingBudget"],o),n}function hT(l,t,n){const a={},o=p(t,["systemInstruction"]);n!==void 0&&o!=null&&g(n,["systemInstruction"],ds(l,sn(l,o)));const u=p(t,["temperature"]);u!=null&&g(a,["temperature"],u);const c=p(t,["topP"]);c!=null&&g(a,["topP"],c);const h=p(t,["topK"]);h!=null&&g(a,["topK"],h);const x=p(t,["candidateCount"]);x!=null&&g(a,["candidateCount"],x);const f=p(t,["maxOutputTokens"]);f!=null&&g(a,["maxOutputTokens"],f);const v=p(t,["stopSequences"]);v!=null&&g(a,["stopSequences"],v);const b=p(t,["responseLogprobs"]);b!=null&&g(a,["responseLogprobs"],b);const E=p(t,["logprobs"]);E!=null&&g(a,["logprobs"],E);const C=p(t,["presencePenalty"]);C!=null&&g(a,["presencePenalty"],C);const D=p(t,["frequencyPenalty"]);D!=null&&g(a,["frequencyPenalty"],D);const U=p(t,["seed"]);U!=null&&g(a,["seed"],U);const F=p(t,["responseMimeType"]);F!=null&&g(a,["responseMimeType"],F);const L=p(t,["responseSchema"]);if(L!=null&&g(a,["responseSchema"],_0(l,L)),p(t,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(p(t,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const Y=p(t,["safetySettings"]);if(n!==void 0&&Y!=null){let pe=Y;Array.isArray(pe)&&(pe=pe.map(ce=>nT(l,ce))),g(n,["safetySettings"],pe)}const $=p(t,["tools"]);if(n!==void 0&&$!=null){let pe=cs(l,$);Array.isArray(pe)&&(pe=pe.map(ce=>aT(l,us(l,ce)))),g(n,["tools"],pe)}const Z=p(t,["toolConfig"]);if(n!==void 0&&Z!=null&&g(n,["toolConfig"],sT(l,Z)),p(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const ne=p(t,["cachedContent"]);n!==void 0&&ne!=null&&g(n,["cachedContent"],Hi(l,ne));const K=p(t,["responseModalities"]);K!=null&&g(a,["responseModalities"],K);const fe=p(t,["mediaResolution"]);fe!=null&&g(a,["mediaResolution"],fe);const ve=p(t,["speechConfig"]);if(ve!=null&&g(a,["speechConfig"],dT(l,D0(l,ve))),p(t,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const xe=p(t,["thinkingConfig"]);return xe!=null&&g(a,["thinkingConfig"],fT(l,xe)),a}function mg(l,t){const n={},a=p(t,["model"]);a!=null&&g(n,["_url","model"],bt(l,a));const o=p(t,["contents"]);if(o!=null){let c=Pi(l,o);Array.isArray(c)&&(c=c.map(h=>ds(l,h))),g(n,["contents"],c)}const u=p(t,["config"]);return u!=null&&g(n,["generationConfig"],hT(l,u,n)),n}function mT(l,t,n){const a={},o=p(t,["taskType"]);n!==void 0&&o!=null&&g(n,["requests[]","taskType"],o);const u=p(t,["title"]);n!==void 0&&u!=null&&g(n,["requests[]","title"],u);const c=p(t,["outputDimensionality"]);if(n!==void 0&&c!=null&&g(n,["requests[]","outputDimensionality"],c),p(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(p(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return a}function pT(l,t){const n={},a=p(t,["model"]);a!=null&&g(n,["_url","model"],bt(l,a));const o=p(t,["contents"]);o!=null&&g(n,["requests[]","content"],M0(l,o));const u=p(t,["config"]);u!=null&&g(n,["config"],mT(l,u,n));const c=p(t,["model"]);return c!==void 0&&g(n,["requests[]","model"],bt(l,c)),n}function gT(l,t,n){const a={};if(p(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(p(t,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const o=p(t,["numberOfImages"]);n!==void 0&&o!=null&&g(n,["parameters","sampleCount"],o);const u=p(t,["aspectRatio"]);n!==void 0&&u!=null&&g(n,["parameters","aspectRatio"],u);const c=p(t,["guidanceScale"]);if(n!==void 0&&c!=null&&g(n,["parameters","guidanceScale"],c),p(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const h=p(t,["safetyFilterLevel"]);n!==void 0&&h!=null&&g(n,["parameters","safetySetting"],h);const x=p(t,["personGeneration"]);n!==void 0&&x!=null&&g(n,["parameters","personGeneration"],x);const f=p(t,["includeSafetyAttributes"]);n!==void 0&&f!=null&&g(n,["parameters","includeSafetyAttributes"],f);const v=p(t,["includeRaiReason"]);n!==void 0&&v!=null&&g(n,["parameters","includeRaiReason"],v);const b=p(t,["language"]);n!==void 0&&b!=null&&g(n,["parameters","language"],b);const E=p(t,["outputMimeType"]);n!==void 0&&E!=null&&g(n,["parameters","outputOptions","mimeType"],E);const C=p(t,["outputCompressionQuality"]);if(n!==void 0&&C!=null&&g(n,["parameters","outputOptions","compressionQuality"],C),p(t,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(p(t,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return a}function yT(l,t){const n={},a=p(t,["model"]);a!=null&&g(n,["_url","model"],bt(l,a));const o=p(t,["prompt"]);o!=null&&g(n,["instances[0]","prompt"],o);const u=p(t,["config"]);return u!=null&&g(n,["config"],gT(l,u,n)),n}function xT(l,t){const n={},a=p(t,["model"]);a!=null&&g(n,["_url","name"],bt(l,a));const o=p(t,["config"]);return o!=null&&g(n,["config"],o),n}function vT(l,t,n){const a={},o=p(t,["displayName"]);n!==void 0&&o!=null&&g(n,["displayName"],o);const u=p(t,["description"]);return n!==void 0&&u!=null&&g(n,["description"],u),a}function bT(l,t){const n={},a=p(t,["model"]);a!=null&&g(n,["_url","name"],bt(l,a));const o=p(t,["config"]);return o!=null&&g(n,["config"],vT(l,o,n)),n}function TT(l,t){const n={},a=p(t,["model"]);a!=null&&g(n,["_url","name"],bt(l,a));const o=p(t,["config"]);return o!=null&&g(n,["config"],o),n}function ST(l,t){const n={};if(p(t,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(p(t,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(p(t,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return n}function CT(l,t){const n={},a=p(t,["model"]);a!=null&&g(n,["_url","model"],bt(l,a));const o=p(t,["contents"]);if(o!=null){let c=Pi(l,o);Array.isArray(c)&&(c=c.map(h=>ds(l,h))),g(n,["contents"],c)}const u=p(t,["config"]);return u!=null&&g(n,["config"],ST(l,u)),n}function ET(l,t){const n={};if(p(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const a=p(t,["imageBytes"]);a!=null&&g(n,["bytesBase64Encoded"],qi(l,a));const o=p(t,["mimeType"]);return o!=null&&g(n,["mimeType"],o),n}function wT(l,t,n){const a={},o=p(t,["numberOfVideos"]);if(n!==void 0&&o!=null&&g(n,["parameters","sampleCount"],o),p(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(p(t,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const u=p(t,["durationSeconds"]);if(n!==void 0&&u!=null&&g(n,["parameters","durationSeconds"],u),p(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const c=p(t,["aspectRatio"]);if(n!==void 0&&c!=null&&g(n,["parameters","aspectRatio"],c),p(t,["resolution"])!==void 0)throw new Error("resolution parameter is not supported in Gemini API.");const h=p(t,["personGeneration"]);if(n!==void 0&&h!=null&&g(n,["parameters","personGeneration"],h),p(t,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const x=p(t,["negativePrompt"]);if(n!==void 0&&x!=null&&g(n,["parameters","negativePrompt"],x),p(t,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return a}function AT(l,t){const n={},a=p(t,["model"]);a!=null&&g(n,["_url","model"],bt(l,a));const o=p(t,["prompt"]);o!=null&&g(n,["instances[0]","prompt"],o);const u=p(t,["image"]);u!=null&&g(n,["instances[0]","image"],ET(l,u));const c=p(t,["config"]);return c!=null&&g(n,["config"],wT(l,c,n)),n}function NT(l,t){const n={},a=p(t,["videoMetadata"]);a!=null&&g(n,["videoMetadata"],a);const o=p(t,["thought"]);o!=null&&g(n,["thought"],o);const u=p(t,["codeExecutionResult"]);u!=null&&g(n,["codeExecutionResult"],u);const c=p(t,["executableCode"]);c!=null&&g(n,["executableCode"],c);const h=p(t,["fileData"]);h!=null&&g(n,["fileData"],h);const x=p(t,["functionCall"]);x!=null&&g(n,["functionCall"],x);const f=p(t,["functionResponse"]);f!=null&&g(n,["functionResponse"],f);const v=p(t,["inlineData"]);v!=null&&g(n,["inlineData"],v);const b=p(t,["text"]);return b!=null&&g(n,["text"],b),n}function lr(l,t){const n={},a=p(t,["parts"]);if(a!=null){let u=a;Array.isArray(u)&&(u=u.map(c=>NT(l,c))),g(n,["parts"],u)}const o=p(t,["role"]);return o!=null&&g(n,["role"],o),n}function MT(l,t){const n={},a=p(t,["featureSelectionPreference"]);return a!=null&&g(n,["featureSelectionPreference"],a),n}function _T(l,t){const n={},a=p(t,["method"]);a!=null&&g(n,["method"],a);const o=p(t,["category"]);o!=null&&g(n,["category"],o);const u=p(t,["threshold"]);return u!=null&&g(n,["threshold"],u),n}function DT(){return{}}function IT(l,t){const n={},a=p(t,["mode"]);a!=null&&g(n,["mode"],a);const o=p(t,["dynamicThreshold"]);return o!=null&&g(n,["dynamicThreshold"],o),n}function RT(l,t){const n={},a=p(t,["dynamicRetrievalConfig"]);return a!=null&&g(n,["dynamicRetrievalConfig"],IT(l,a)),n}function L0(l,t){const n={},a=p(t,["retrieval"]);a!=null&&g(n,["retrieval"],a),p(t,["googleSearch"])!=null&&g(n,["googleSearch"],DT());const u=p(t,["googleSearchRetrieval"]);u!=null&&g(n,["googleSearchRetrieval"],RT(l,u));const c=p(t,["codeExecution"]);c!=null&&g(n,["codeExecution"],c);const h=p(t,["functionDeclarations"]);return h!=null&&g(n,["functionDeclarations"],h),n}function kT(l,t){const n={},a=p(t,["mode"]);a!=null&&g(n,["mode"],a);const o=p(t,["allowedFunctionNames"]);return o!=null&&g(n,["allowedFunctionNames"],o),n}function LT(l,t){const n={},a=p(t,["functionCallingConfig"]);return a!=null&&g(n,["functionCallingConfig"],kT(l,a)),n}function BT(l,t){const n={},a=p(t,["voiceName"]);return a!=null&&g(n,["voiceName"],a),n}function UT(l,t){const n={},a=p(t,["prebuiltVoiceConfig"]);return a!=null&&g(n,["prebuiltVoiceConfig"],BT(l,a)),n}function zT(l,t){const n={},a=p(t,["voiceConfig"]);a!=null&&g(n,["voiceConfig"],UT(l,a));const o=p(t,["languageCode"]);return o!=null&&g(n,["languageCode"],o),n}function jT(l,t){const n={},a=p(t,["includeThoughts"]);a!=null&&g(n,["includeThoughts"],a);const o=p(t,["thinkingBudget"]);return o!=null&&g(n,["thinkingBudget"],o),n}function OT(l,t,n){const a={},o=p(t,["systemInstruction"]);n!==void 0&&o!=null&&g(n,["systemInstruction"],lr(l,sn(l,o)));const u=p(t,["temperature"]);u!=null&&g(a,["temperature"],u);const c=p(t,["topP"]);c!=null&&g(a,["topP"],c);const h=p(t,["topK"]);h!=null&&g(a,["topK"],h);const x=p(t,["candidateCount"]);x!=null&&g(a,["candidateCount"],x);const f=p(t,["maxOutputTokens"]);f!=null&&g(a,["maxOutputTokens"],f);const v=p(t,["stopSequences"]);v!=null&&g(a,["stopSequences"],v);const b=p(t,["responseLogprobs"]);b!=null&&g(a,["responseLogprobs"],b);const E=p(t,["logprobs"]);E!=null&&g(a,["logprobs"],E);const C=p(t,["presencePenalty"]);C!=null&&g(a,["presencePenalty"],C);const D=p(t,["frequencyPenalty"]);D!=null&&g(a,["frequencyPenalty"],D);const U=p(t,["seed"]);U!=null&&g(a,["seed"],U);const F=p(t,["responseMimeType"]);F!=null&&g(a,["responseMimeType"],F);const L=p(t,["responseSchema"]);L!=null&&g(a,["responseSchema"],_0(l,L));const Y=p(t,["routingConfig"]);Y!=null&&g(a,["routingConfig"],Y);const $=p(t,["modelSelectionConfig"]);$!=null&&g(a,["modelConfig"],MT(l,$));const Z=p(t,["safetySettings"]);if(n!==void 0&&Z!=null){let ae=Z;Array.isArray(ae)&&(ae=ae.map(de=>_T(l,de))),g(n,["safetySettings"],ae)}const ne=p(t,["tools"]);if(n!==void 0&&ne!=null){let ae=cs(l,ne);Array.isArray(ae)&&(ae=ae.map(de=>L0(l,us(l,de)))),g(n,["tools"],ae)}const K=p(t,["toolConfig"]);n!==void 0&&K!=null&&g(n,["toolConfig"],LT(l,K));const fe=p(t,["labels"]);n!==void 0&&fe!=null&&g(n,["labels"],fe);const ve=p(t,["cachedContent"]);n!==void 0&&ve!=null&&g(n,["cachedContent"],Hi(l,ve));const xe=p(t,["responseModalities"]);xe!=null&&g(a,["responseModalities"],xe);const pe=p(t,["mediaResolution"]);pe!=null&&g(a,["mediaResolution"],pe);const ce=p(t,["speechConfig"]);ce!=null&&g(a,["speechConfig"],zT(l,D0(l,ce)));const se=p(t,["audioTimestamp"]);se!=null&&g(a,["audioTimestamp"],se);const he=p(t,["thinkingConfig"]);return he!=null&&g(a,["thinkingConfig"],jT(l,he)),a}function pg(l,t){const n={},a=p(t,["model"]);a!=null&&g(n,["_url","model"],bt(l,a));const o=p(t,["contents"]);if(o!=null){let c=Pi(l,o);Array.isArray(c)&&(c=c.map(h=>lr(l,h))),g(n,["contents"],c)}const u=p(t,["config"]);return u!=null&&g(n,["generationConfig"],OT(l,u,n)),n}function VT(l,t,n){const a={},o=p(t,["taskType"]);n!==void 0&&o!=null&&g(n,["instances[]","task_type"],o);const u=p(t,["title"]);n!==void 0&&u!=null&&g(n,["instances[]","title"],u);const c=p(t,["outputDimensionality"]);n!==void 0&&c!=null&&g(n,["parameters","outputDimensionality"],c);const h=p(t,["mimeType"]);n!==void 0&&h!=null&&g(n,["instances[]","mimeType"],h);const x=p(t,["autoTruncate"]);return n!==void 0&&x!=null&&g(n,["parameters","autoTruncate"],x),a}function PT(l,t){const n={},a=p(t,["model"]);a!=null&&g(n,["_url","model"],bt(l,a));const o=p(t,["contents"]);o!=null&&g(n,["instances[]","content"],M0(l,o));const u=p(t,["config"]);return u!=null&&g(n,["config"],VT(l,u,n)),n}function HT(l,t,n){const a={},o=p(t,["outputGcsUri"]);n!==void 0&&o!=null&&g(n,["parameters","storageUri"],o);const u=p(t,["negativePrompt"]);n!==void 0&&u!=null&&g(n,["parameters","negativePrompt"],u);const c=p(t,["numberOfImages"]);n!==void 0&&c!=null&&g(n,["parameters","sampleCount"],c);const h=p(t,["aspectRatio"]);n!==void 0&&h!=null&&g(n,["parameters","aspectRatio"],h);const x=p(t,["guidanceScale"]);n!==void 0&&x!=null&&g(n,["parameters","guidanceScale"],x);const f=p(t,["seed"]);n!==void 0&&f!=null&&g(n,["parameters","seed"],f);const v=p(t,["safetyFilterLevel"]);n!==void 0&&v!=null&&g(n,["parameters","safetySetting"],v);const b=p(t,["personGeneration"]);n!==void 0&&b!=null&&g(n,["parameters","personGeneration"],b);const E=p(t,["includeSafetyAttributes"]);n!==void 0&&E!=null&&g(n,["parameters","includeSafetyAttributes"],E);const C=p(t,["includeRaiReason"]);n!==void 0&&C!=null&&g(n,["parameters","includeRaiReason"],C);const D=p(t,["language"]);n!==void 0&&D!=null&&g(n,["parameters","language"],D);const U=p(t,["outputMimeType"]);n!==void 0&&U!=null&&g(n,["parameters","outputOptions","mimeType"],U);const F=p(t,["outputCompressionQuality"]);n!==void 0&&F!=null&&g(n,["parameters","outputOptions","compressionQuality"],F);const L=p(t,["addWatermark"]);n!==void 0&&L!=null&&g(n,["parameters","addWatermark"],L);const Y=p(t,["enhancePrompt"]);return n!==void 0&&Y!=null&&g(n,["parameters","enhancePrompt"],Y),a}function qT(l,t){const n={},a=p(t,["model"]);a!=null&&g(n,["_url","model"],bt(l,a));const o=p(t,["prompt"]);o!=null&&g(n,["instances[0]","prompt"],o);const u=p(t,["config"]);return u!=null&&g(n,["config"],HT(l,u,n)),n}function GT(l,t){const n={},a=p(t,["model"]);a!=null&&g(n,["_url","name"],bt(l,a));const o=p(t,["config"]);return o!=null&&g(n,["config"],o),n}function FT(l,t,n){const a={},o=p(t,["displayName"]);n!==void 0&&o!=null&&g(n,["displayName"],o);const u=p(t,["description"]);return n!==void 0&&u!=null&&g(n,["description"],u),a}function YT(l,t){const n={},a=p(t,["model"]);a!=null&&g(n,["_url","model"],bt(l,a));const o=p(t,["config"]);return o!=null&&g(n,["config"],FT(l,o,n)),n}function KT(l,t){const n={},a=p(t,["model"]);a!=null&&g(n,["_url","name"],bt(l,a));const o=p(t,["config"]);return o!=null&&g(n,["config"],o),n}function XT(l,t,n){const a={},o=p(t,["systemInstruction"]);n!==void 0&&o!=null&&g(n,["systemInstruction"],lr(l,sn(l,o)));const u=p(t,["tools"]);if(n!==void 0&&u!=null){let h=u;Array.isArray(h)&&(h=h.map(x=>L0(l,x))),g(n,["tools"],h)}const c=p(t,["generationConfig"]);return n!==void 0&&c!=null&&g(n,["generationConfig"],c),a}function $T(l,t){const n={},a=p(t,["model"]);a!=null&&g(n,["_url","model"],bt(l,a));const o=p(t,["contents"]);if(o!=null){let c=Pi(l,o);Array.isArray(c)&&(c=c.map(h=>lr(l,h))),g(n,["contents"],c)}const u=p(t,["config"]);return u!=null&&g(n,["config"],XT(l,u,n)),n}function QT(l,t){const n={},a=p(t,["model"]);a!=null&&g(n,["_url","model"],bt(l,a));const o=p(t,["contents"]);if(o!=null){let c=Pi(l,o);Array.isArray(c)&&(c=c.map(h=>lr(l,h))),g(n,["contents"],c)}const u=p(t,["config"]);return u!=null&&g(n,["config"],u),n}function JT(l,t){const n={},a=p(t,["gcsUri"]);a!=null&&g(n,["gcsUri"],a);const o=p(t,["imageBytes"]);o!=null&&g(n,["bytesBase64Encoded"],qi(l,o));const u=p(t,["mimeType"]);return u!=null&&g(n,["mimeType"],u),n}function ZT(l,t,n){const a={},o=p(t,["numberOfVideos"]);n!==void 0&&o!=null&&g(n,["parameters","sampleCount"],o);const u=p(t,["outputGcsUri"]);n!==void 0&&u!=null&&g(n,["parameters","storageUri"],u);const c=p(t,["fps"]);n!==void 0&&c!=null&&g(n,["parameters","fps"],c);const h=p(t,["durationSeconds"]);n!==void 0&&h!=null&&g(n,["parameters","durationSeconds"],h);const x=p(t,["seed"]);n!==void 0&&x!=null&&g(n,["parameters","seed"],x);const f=p(t,["aspectRatio"]);n!==void 0&&f!=null&&g(n,["parameters","aspectRatio"],f);const v=p(t,["resolution"]);n!==void 0&&v!=null&&g(n,["parameters","resolution"],v);const b=p(t,["personGeneration"]);n!==void 0&&b!=null&&g(n,["parameters","personGeneration"],b);const E=p(t,["pubsubTopic"]);n!==void 0&&E!=null&&g(n,["parameters","pubsubTopic"],E);const C=p(t,["negativePrompt"]);n!==void 0&&C!=null&&g(n,["parameters","negativePrompt"],C);const D=p(t,["enhancePrompt"]);return n!==void 0&&D!=null&&g(n,["parameters","enhancePrompt"],D),a}function WT(l,t){const n={},a=p(t,["model"]);a!=null&&g(n,["_url","model"],bt(l,a));const o=p(t,["prompt"]);o!=null&&g(n,["instances[0]","prompt"],o);const u=p(t,["image"]);u!=null&&g(n,["instances[0]","image"],JT(l,u));const c=p(t,["config"]);return c!=null&&g(n,["config"],ZT(l,c,n)),n}function eS(l,t){const n={},a=p(t,["thought"]);a!=null&&g(n,["thought"],a);const o=p(t,["codeExecutionResult"]);o!=null&&g(n,["codeExecutionResult"],o);const u=p(t,["executableCode"]);u!=null&&g(n,["executableCode"],u);const c=p(t,["fileData"]);c!=null&&g(n,["fileData"],c);const h=p(t,["functionCall"]);h!=null&&g(n,["functionCall"],h);const x=p(t,["functionResponse"]);x!=null&&g(n,["functionResponse"],x);const f=p(t,["inlineData"]);f!=null&&g(n,["inlineData"],f);const v=p(t,["text"]);return v!=null&&g(n,["text"],v),n}function tS(l,t){const n={},a=p(t,["parts"]);if(a!=null){let u=a;Array.isArray(u)&&(u=u.map(c=>eS(l,c))),g(n,["parts"],u)}const o=p(t,["role"]);return o!=null&&g(n,["role"],o),n}function nS(l,t){const n={},a=p(t,["citationSources"]);return a!=null&&g(n,["citations"],a),n}function iS(l,t){const n={},a=p(t,["content"]);a!=null&&g(n,["content"],tS(l,a));const o=p(t,["citationMetadata"]);o!=null&&g(n,["citationMetadata"],nS(l,o));const u=p(t,["tokenCount"]);u!=null&&g(n,["tokenCount"],u);const c=p(t,["finishReason"]);c!=null&&g(n,["finishReason"],c);const h=p(t,["avgLogprobs"]);h!=null&&g(n,["avgLogprobs"],h);const x=p(t,["groundingMetadata"]);x!=null&&g(n,["groundingMetadata"],x);const f=p(t,["index"]);f!=null&&g(n,["index"],f);const v=p(t,["logprobsResult"]);v!=null&&g(n,["logprobsResult"],v);const b=p(t,["safetyRatings"]);return b!=null&&g(n,["safetyRatings"],b),n}function gg(l,t){const n={},a=p(t,["candidates"]);if(a!=null){let h=a;Array.isArray(h)&&(h=h.map(x=>iS(l,x))),g(n,["candidates"],h)}const o=p(t,["modelVersion"]);o!=null&&g(n,["modelVersion"],o);const u=p(t,["promptFeedback"]);u!=null&&g(n,["promptFeedback"],u);const c=p(t,["usageMetadata"]);return c!=null&&g(n,["usageMetadata"],c),n}function lS(l,t){const n={},a=p(t,["values"]);return a!=null&&g(n,["values"],a),n}function rS(){return{}}function aS(l,t){const n={},a=p(t,["embeddings"]);if(a!=null){let u=a;Array.isArray(u)&&(u=u.map(c=>lS(l,c))),g(n,["embeddings"],u)}return p(t,["metadata"])!=null&&g(n,["metadata"],rS()),n}function oS(l,t){const n={},a=p(t,["bytesBase64Encoded"]);a!=null&&g(n,["imageBytes"],qi(l,a));const o=p(t,["mimeType"]);return o!=null&&g(n,["mimeType"],o),n}function B0(l,t){const n={},a=p(t,["safetyAttributes","categories"]);a!=null&&g(n,["categories"],a);const o=p(t,["safetyAttributes","scores"]);o!=null&&g(n,["scores"],o);const u=p(t,["contentType"]);return u!=null&&g(n,["contentType"],u),n}function sS(l,t){const n={},a=p(t,["_self"]);a!=null&&g(n,["image"],oS(l,a));const o=p(t,["raiFilteredReason"]);o!=null&&g(n,["raiFilteredReason"],o);const u=p(t,["_self"]);return u!=null&&g(n,["safetyAttributes"],B0(l,u)),n}function uS(l,t){const n={},a=p(t,["predictions"]);if(a!=null){let u=a;Array.isArray(u)&&(u=u.map(c=>sS(l,c))),g(n,["generatedImages"],u)}const o=p(t,["positivePromptSafetyAttributes"]);return o!=null&&g(n,["positivePromptSafetyAttributes"],B0(l,o)),n}function cS(l,t){const n={},a=p(t,["baseModel"]);a!=null&&g(n,["baseModel"],a);const o=p(t,["createTime"]);o!=null&&g(n,["createTime"],o);const u=p(t,["updateTime"]);return u!=null&&g(n,["updateTime"],u),n}function yg(l,t){const n={},a=p(t,["name"]);a!=null&&g(n,["name"],a);const o=p(t,["displayName"]);o!=null&&g(n,["displayName"],o);const u=p(t,["description"]);u!=null&&g(n,["description"],u);const c=p(t,["version"]);c!=null&&g(n,["version"],c);const h=p(t,["_self"]);h!=null&&g(n,["tunedModelInfo"],cS(l,h));const x=p(t,["inputTokenLimit"]);x!=null&&g(n,["inputTokenLimit"],x);const f=p(t,["outputTokenLimit"]);f!=null&&g(n,["outputTokenLimit"],f);const v=p(t,["supportedGenerationMethods"]);return v!=null&&g(n,["supportedActions"],v),n}function dS(){return{}}function fS(l,t){const n={},a=p(t,["totalTokens"]);a!=null&&g(n,["totalTokens"],a);const o=p(t,["cachedContentTokenCount"]);return o!=null&&g(n,["cachedContentTokenCount"],o),n}function hS(l,t){const n={},a=p(t,["video","uri"]);a!=null&&g(n,["uri"],a);const o=p(t,["video","encodedVideo"]);o!=null&&g(n,["videoBytes"],qi(l,o));const u=p(t,["encoding"]);return u!=null&&g(n,["mimeType"],u),n}function mS(l,t){const n={},a=p(t,["_self"]);return a!=null&&g(n,["video"],hS(l,a)),n}function pS(l,t){const n={},a=p(t,["generatedSamples"]);if(a!=null){let c=a;Array.isArray(c)&&(c=c.map(h=>mS(l,h))),g(n,["generatedVideos"],c)}const o=p(t,["raiMediaFilteredCount"]);o!=null&&g(n,["raiMediaFilteredCount"],o);const u=p(t,["raiMediaFilteredReasons"]);return u!=null&&g(n,["raiMediaFilteredReasons"],u),n}function gS(l,t){const n={},a=p(t,["name"]);a!=null&&g(n,["name"],a);const o=p(t,["metadata"]);o!=null&&g(n,["metadata"],o);const u=p(t,["done"]);u!=null&&g(n,["done"],u);const c=p(t,["error"]);c!=null&&g(n,["error"],c);const h=p(t,["response","generateVideoResponse"]);return h!=null&&g(n,["response"],pS(l,h)),n}function yS(l,t){const n={},a=p(t,["videoMetadata"]);a!=null&&g(n,["videoMetadata"],a);const o=p(t,["thought"]);o!=null&&g(n,["thought"],o);const u=p(t,["codeExecutionResult"]);u!=null&&g(n,["codeExecutionResult"],u);const c=p(t,["executableCode"]);c!=null&&g(n,["executableCode"],c);const h=p(t,["fileData"]);h!=null&&g(n,["fileData"],h);const x=p(t,["functionCall"]);x!=null&&g(n,["functionCall"],x);const f=p(t,["functionResponse"]);f!=null&&g(n,["functionResponse"],f);const v=p(t,["inlineData"]);v!=null&&g(n,["inlineData"],v);const b=p(t,["text"]);return b!=null&&g(n,["text"],b),n}function xS(l,t){const n={},a=p(t,["parts"]);if(a!=null){let u=a;Array.isArray(u)&&(u=u.map(c=>yS(l,c))),g(n,["parts"],u)}const o=p(t,["role"]);return o!=null&&g(n,["role"],o),n}function vS(l,t){const n={},a=p(t,["citations"]);return a!=null&&g(n,["citations"],a),n}function bS(l,t){const n={},a=p(t,["content"]);a!=null&&g(n,["content"],xS(l,a));const o=p(t,["citationMetadata"]);o!=null&&g(n,["citationMetadata"],vS(l,o));const u=p(t,["finishMessage"]);u!=null&&g(n,["finishMessage"],u);const c=p(t,["finishReason"]);c!=null&&g(n,["finishReason"],c);const h=p(t,["avgLogprobs"]);h!=null&&g(n,["avgLogprobs"],h);const x=p(t,["groundingMetadata"]);x!=null&&g(n,["groundingMetadata"],x);const f=p(t,["index"]);f!=null&&g(n,["index"],f);const v=p(t,["logprobsResult"]);v!=null&&g(n,["logprobsResult"],v);const b=p(t,["safetyRatings"]);return b!=null&&g(n,["safetyRatings"],b),n}function xg(l,t){const n={},a=p(t,["candidates"]);if(a!=null){let f=a;Array.isArray(f)&&(f=f.map(v=>bS(l,v))),g(n,["candidates"],f)}const o=p(t,["createTime"]);o!=null&&g(n,["createTime"],o);const u=p(t,["responseId"]);u!=null&&g(n,["responseId"],u);const c=p(t,["modelVersion"]);c!=null&&g(n,["modelVersion"],c);const h=p(t,["promptFeedback"]);h!=null&&g(n,["promptFeedback"],h);const x=p(t,["usageMetadata"]);return x!=null&&g(n,["usageMetadata"],x),n}function TS(l,t){const n={},a=p(t,["truncated"]);a!=null&&g(n,["truncated"],a);const o=p(t,["token_count"]);return o!=null&&g(n,["tokenCount"],o),n}function SS(l,t){const n={},a=p(t,["values"]);a!=null&&g(n,["values"],a);const o=p(t,["statistics"]);return o!=null&&g(n,["statistics"],TS(l,o)),n}function CS(l,t){const n={},a=p(t,["billableCharacterCount"]);return a!=null&&g(n,["billableCharacterCount"],a),n}function ES(l,t){const n={},a=p(t,["predictions[]","embeddings"]);if(a!=null){let u=a;Array.isArray(u)&&(u=u.map(c=>SS(l,c))),g(n,["embeddings"],u)}const o=p(t,["metadata"]);return o!=null&&g(n,["metadata"],CS(l,o)),n}function wS(l,t){const n={},a=p(t,["gcsUri"]);a!=null&&g(n,["gcsUri"],a);const o=p(t,["bytesBase64Encoded"]);o!=null&&g(n,["imageBytes"],qi(l,o));const u=p(t,["mimeType"]);return u!=null&&g(n,["mimeType"],u),n}function U0(l,t){const n={},a=p(t,["safetyAttributes","categories"]);a!=null&&g(n,["categories"],a);const o=p(t,["safetyAttributes","scores"]);o!=null&&g(n,["scores"],o);const u=p(t,["contentType"]);return u!=null&&g(n,["contentType"],u),n}function AS(l,t){const n={},a=p(t,["_self"]);a!=null&&g(n,["image"],wS(l,a));const o=p(t,["raiFilteredReason"]);o!=null&&g(n,["raiFilteredReason"],o);const u=p(t,["_self"]);u!=null&&g(n,["safetyAttributes"],U0(l,u));const c=p(t,["prompt"]);return c!=null&&g(n,["enhancedPrompt"],c),n}function NS(l,t){const n={},a=p(t,["predictions"]);if(a!=null){let u=a;Array.isArray(u)&&(u=u.map(c=>AS(l,c))),g(n,["generatedImages"],u)}const o=p(t,["positivePromptSafetyAttributes"]);return o!=null&&g(n,["positivePromptSafetyAttributes"],U0(l,o)),n}function MS(l,t){const n={},a=p(t,["endpoint"]);a!=null&&g(n,["name"],a);const o=p(t,["deployedModelId"]);return o!=null&&g(n,["deployedModelId"],o),n}function _S(l,t){const n={},a=p(t,["labels","google-vertex-llm-tuning-base-model-id"]);a!=null&&g(n,["baseModel"],a);const o=p(t,["createTime"]);o!=null&&g(n,["createTime"],o);const u=p(t,["updateTime"]);return u!=null&&g(n,["updateTime"],u),n}function vg(l,t){const n={},a=p(t,["name"]);a!=null&&g(n,["name"],a);const o=p(t,["displayName"]);o!=null&&g(n,["displayName"],o);const u=p(t,["description"]);u!=null&&g(n,["description"],u);const c=p(t,["versionId"]);c!=null&&g(n,["version"],c);const h=p(t,["deployedModels"]);if(h!=null){let v=h;Array.isArray(v)&&(v=v.map(b=>MS(l,b))),g(n,["endpoints"],v)}const x=p(t,["labels"]);x!=null&&g(n,["labels"],x);const f=p(t,["_self"]);return f!=null&&g(n,["tunedModelInfo"],_S(l,f)),n}function DS(){return{}}function IS(l,t){const n={},a=p(t,["totalTokens"]);return a!=null&&g(n,["totalTokens"],a),n}function RS(l,t){const n={},a=p(t,["tokensInfo"]);return a!=null&&g(n,["tokensInfo"],a),n}function kS(l,t){const n={},a=p(t,["gcsUri"]);a!=null&&g(n,["uri"],a);const o=p(t,["bytesBase64Encoded"]);o!=null&&g(n,["videoBytes"],qi(l,o));const u=p(t,["mimeType"]);return u!=null&&g(n,["mimeType"],u),n}function LS(l,t){const n={},a=p(t,["_self"]);return a!=null&&g(n,["video"],kS(l,a)),n}function BS(l,t){const n={},a=p(t,["videos"]);if(a!=null){let c=a;Array.isArray(c)&&(c=c.map(h=>LS(l,h))),g(n,["generatedVideos"],c)}const o=p(t,["raiMediaFilteredCount"]);o!=null&&g(n,["raiMediaFilteredCount"],o);const u=p(t,["raiMediaFilteredReasons"]);return u!=null&&g(n,["raiMediaFilteredReasons"],u),n}function US(l,t){const n={},a=p(t,["name"]);a!=null&&g(n,["name"],a);const o=p(t,["metadata"]);o!=null&&g(n,["metadata"],o);const u=p(t,["done"]);u!=null&&g(n,["done"],u);const c=p(t,["error"]);c!=null&&g(n,["error"],c);const h=p(t,["response"]);return h!=null&&g(n,["response"],BS(l,h)),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const zS="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function jS(l,t,n){let a,o;n.data instanceof Blob?o=JSON.parse(await n.data.text()):o=JSON.parse(n.data),l.isVertexAI()?a=eT(l,o):a=W1(l,o),t(a)}class OS{constructor(t,n,a){this.apiClient=t,this.auth=n,this.webSocketFactory=a}async connect(t){var n,a,o,u;const c=this.apiClient.getWebsocketBaseUrl(),h=this.apiClient.getApiVersion();let x;const f=qS(this.apiClient.getDefaultHeaders());if(this.apiClient.isVertexAI())x=`${c}/ws/google.cloud.aiplatform.${h}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(f);else{const Z=this.apiClient.getApiKey();x=`${c}/ws/google.ai.generativelanguage.${h}.GenerativeService.BidiGenerateContent?key=${Z}`}let v=()=>{};const b=new Promise(Z=>{v=Z}),E=t.callbacks,C=function(){var Z;(Z=E==null?void 0:E.onopen)===null||Z===void 0||Z.call(E),v({})},D=this.apiClient,U={onopen:C,onmessage:Z=>{jS(D,E.onmessage,Z)},onerror:(n=E==null?void 0:E.onerror)!==null&&n!==void 0?n:function(Z){},onclose:(a=E==null?void 0:E.onclose)!==null&&a!==void 0?a:function(Z){}},F=this.webSocketFactory.create(x,HS(f),U);F.connect(),await b;let L=bt(this.apiClient,t.model);if(this.apiClient.isVertexAI()&&L.startsWith("publishers/")){const Z=this.apiClient.getProject(),ne=this.apiClient.getLocation();L=`projects/${Z}/locations/${ne}/`+L}let Y={};this.apiClient.isVertexAI()&&((o=t.config)===null||o===void 0?void 0:o.responseModalities)===void 0&&(t.config===void 0?t.config={responseModalities:[ns.AUDIO]}:t.config.responseModalities=[ns.AUDIO]),!((u=t.config)===null||u===void 0)&&u.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const $={model:L,config:t.config,callbacks:t.callbacks};return this.apiClient.isVertexAI()?Y=A1(this.apiClient,$):Y=w1(this.apiClient,$),delete Y.config,F.send(JSON.stringify(Y)),new PS(F,this.apiClient)}}const VS={turnComplete:!0};class PS{constructor(t,n){this.conn=t,this.apiClient=n}tLiveClientContent(t,n){if(n.turns!==null&&n.turns!==void 0){let a=[];try{a=Pi(t,n.turns),t.isVertexAI()?a=a.map(o=>lr(t,o)):a=a.map(o=>ds(t,o))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof n.turns}'`)}return{clientContent:{turns:a,turnComplete:n.turnComplete}}}return{clientContent:{turnComplete:n.turnComplete}}}tLiveClienttToolResponse(t,n){let a=[];if(n.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(n.functionResponses)?a=n.functionResponses:a=[n.functionResponses],a.length===0)throw new Error("functionResponses is required.");for(const u of a){if(typeof u!="object"||u===null||!("name"in u)||!("response"in u))throw new Error(`Could not parse function response, type '${typeof u}'.`);if(!t.isVertexAI()&&!("id"in u))throw new Error(zS)}return{toolResponse:{functionResponses:a}}}sendClientContent(t){t=Object.assign(Object.assign({},VS),t);const n=this.tLiveClientContent(this.apiClient,t);this.conn.send(JSON.stringify(n))}sendRealtimeInput(t){let n={};this.apiClient.isVertexAI()?n={realtimeInput:R1(this.apiClient,t)}:n={realtimeInput:I1(this.apiClient,t)},this.conn.send(JSON.stringify(n))}sendToolResponse(t){if(t.functionResponses==null)throw new Error("Tool response parameters are required.");const n=this.tLiveClienttToolResponse(this.apiClient,t);this.conn.send(JSON.stringify(n))}close(){this.conn.close()}}function HS(l){const t={};return l.forEach((n,a)=>{t[a]=n}),t}function qS(l){const t=new Headers;for(const[n,a]of Object.entries(l))t.append(n,a);return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class GS extends Ca{constructor(t){super(),this.apiClient=t,this.generateContent=async n=>await this.generateContentInternal(n),this.generateContentStream=async n=>await this.generateContentStreamInternal(n),this.generateImages=async n=>await this.generateImagesInternal(n).then(a=>{var o;let u;const c=[];if(a!=null&&a.generatedImages)for(const x of a.generatedImages)x&&(x!=null&&x.safetyAttributes)&&((o=x==null?void 0:x.safetyAttributes)===null||o===void 0?void 0:o.contentType)==="Positive Prompt"?u=x==null?void 0:x.safetyAttributes:c.push(x);let h;return u?h={generatedImages:c,positivePromptSafetyAttributes:u}:h={generatedImages:c},h})}async generateContentInternal(t){var n,a,o,u;let c,h="",x={};if(this.apiClient.isVertexAI()){const f=pg(this.apiClient,t);return h=Ie("{model}:generateContent",f._url),x=f._query,delete f.config,delete f._url,delete f._query,c=this.apiClient.request({path:h,queryParams:x,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),c.then(v=>{const b=xg(this.apiClient,v),E=new Vo;return Object.assign(E,b),E})}else{const f=mg(this.apiClient,t);return h=Ie("{model}:generateContent",f._url),x=f._query,delete f.config,delete f._url,delete f._query,c=this.apiClient.request({path:h,queryParams:x,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(u=t.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json()),c.then(v=>{const b=gg(this.apiClient,v),E=new Vo;return Object.assign(E,b),E})}}async generateContentStreamInternal(t){var n,a,o,u;let c,h="",x={};if(this.apiClient.isVertexAI()){const f=pg(this.apiClient,t);h=Ie("{model}:streamGenerateContent?alt=sse",f._url),x=f._query,delete f.config,delete f._url,delete f._query;const v=this.apiClient;return c=v.requestStream({path:h,queryParams:x,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}),c.then(function(b){return is(this,arguments,function*(){var E,C,D,U;try{for(var F=!0,L=Xc(b),Y;Y=yield Yt(L.next()),E=Y.done,!E;F=!0){U=Y.value,F=!1;const Z=xg(v,yield Yt(U.json())),ne=new Vo;Object.assign(ne,Z),yield yield Yt(ne)}}catch($){C={error:$}}finally{try{!F&&!E&&(D=L.return)&&(yield Yt(D.call(L)))}finally{if(C)throw C.error}}})})}else{const f=mg(this.apiClient,t);h=Ie("{model}:streamGenerateContent?alt=sse",f._url),x=f._query,delete f.config,delete f._url,delete f._query;const v=this.apiClient;return c=v.requestStream({path:h,queryParams:x,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(u=t.config)===null||u===void 0?void 0:u.abortSignal}),c.then(function(b){return is(this,arguments,function*(){var E,C,D,U;try{for(var F=!0,L=Xc(b),Y;Y=yield Yt(L.next()),E=Y.done,!E;F=!0){U=Y.value,F=!1;const Z=gg(v,yield Yt(U.json())),ne=new Vo;Object.assign(ne,Z),yield yield Yt(ne)}}catch($){C={error:$}}finally{try{!F&&!E&&(D=L.return)&&(yield Yt(D.call(L)))}finally{if(C)throw C.error}}})})}}async embedContent(t){var n,a,o,u;let c,h="",x={};if(this.apiClient.isVertexAI()){const f=PT(this.apiClient,t);return h=Ie("{model}:predict",f._url),x=f._query,delete f.config,delete f._url,delete f._query,c=this.apiClient.request({path:h,queryParams:x,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),c.then(v=>{const b=ES(this.apiClient,v),E=new ig;return Object.assign(E,b),E})}else{const f=pT(this.apiClient,t);return h=Ie("{model}:batchEmbedContents",f._url),x=f._query,delete f.config,delete f._url,delete f._query,c=this.apiClient.request({path:h,queryParams:x,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(u=t.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json()),c.then(v=>{const b=aS(this.apiClient,v),E=new ig;return Object.assign(E,b),E})}}async generateImagesInternal(t){var n,a,o,u;let c,h="",x={};if(this.apiClient.isVertexAI()){const f=qT(this.apiClient,t);return h=Ie("{model}:predict",f._url),x=f._query,delete f.config,delete f._url,delete f._query,c=this.apiClient.request({path:h,queryParams:x,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),c.then(v=>{const b=NS(this.apiClient,v),E=new lg;return Object.assign(E,b),E})}else{const f=yT(this.apiClient,t);return h=Ie("{model}:predict",f._url),x=f._query,delete f.config,delete f._url,delete f._query,c=this.apiClient.request({path:h,queryParams:x,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(u=t.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json()),c.then(v=>{const b=uS(this.apiClient,v),E=new lg;return Object.assign(E,b),E})}}async get(t){var n,a,o,u;let c,h="",x={};if(this.apiClient.isVertexAI()){const f=GT(this.apiClient,t);return h=Ie("{name}",f._url),x=f._query,delete f.config,delete f._url,delete f._query,c=this.apiClient.request({path:h,queryParams:x,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),c.then(v=>vg(this.apiClient,v))}else{const f=xT(this.apiClient,t);return h=Ie("{name}",f._url),x=f._query,delete f.config,delete f._url,delete f._query,c=this.apiClient.request({path:h,queryParams:x,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(u=t.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json()),c.then(v=>yg(this.apiClient,v))}}async update(t){var n,a,o,u;let c,h="",x={};if(this.apiClient.isVertexAI()){const f=YT(this.apiClient,t);return h=Ie("{model}",f._url),x=f._query,delete f.config,delete f._url,delete f._query,c=this.apiClient.request({path:h,queryParams:x,body:JSON.stringify(f),httpMethod:"PATCH",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),c.then(v=>vg(this.apiClient,v))}else{const f=bT(this.apiClient,t);return h=Ie("{name}",f._url),x=f._query,delete f.config,delete f._url,delete f._query,c=this.apiClient.request({path:h,queryParams:x,body:JSON.stringify(f),httpMethod:"PATCH",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(u=t.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json()),c.then(v=>yg(this.apiClient,v))}}async delete(t){var n,a,o,u;let c,h="",x={};if(this.apiClient.isVertexAI()){const f=KT(this.apiClient,t);return h=Ie("{name}",f._url),x=f._query,delete f.config,delete f._url,delete f._query,c=this.apiClient.request({path:h,queryParams:x,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),c.then(()=>{const v=DS(),b=new rg;return Object.assign(b,v),b})}else{const f=TT(this.apiClient,t);return h=Ie("{name}",f._url),x=f._query,delete f.config,delete f._url,delete f._query,c=this.apiClient.request({path:h,queryParams:x,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(u=t.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json()),c.then(()=>{const v=dS(),b=new rg;return Object.assign(b,v),b})}}async countTokens(t){var n,a,o,u;let c,h="",x={};if(this.apiClient.isVertexAI()){const f=$T(this.apiClient,t);return h=Ie("{model}:countTokens",f._url),x=f._query,delete f.config,delete f._url,delete f._query,c=this.apiClient.request({path:h,queryParams:x,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),c.then(v=>{const b=IS(this.apiClient,v),E=new ag;return Object.assign(E,b),E})}else{const f=CT(this.apiClient,t);return h=Ie("{model}:countTokens",f._url),x=f._query,delete f.config,delete f._url,delete f._query,c=this.apiClient.request({path:h,queryParams:x,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(u=t.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json()),c.then(v=>{const b=fS(this.apiClient,v),E=new ag;return Object.assign(E,b),E})}}async computeTokens(t){var n,a;let o,u="",c={};if(this.apiClient.isVertexAI()){const h=QT(this.apiClient,t);return u=Ie("{model}:computeTokens",h._url),c=h._query,delete h.config,delete h._url,delete h._query,o=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(x=>x.json()),o.then(x=>{const f=RS(this.apiClient,x),v=new Rb;return Object.assign(v,f),v})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideos(t){var n,a,o,u;let c,h="",x={};if(this.apiClient.isVertexAI()){const f=WT(this.apiClient,t);return h=Ie("{model}:predictLongRunning",f._url),x=f._query,delete f.config,delete f._url,delete f._query,c=this.apiClient.request({path:h,queryParams:x,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),c.then(v=>US(this.apiClient,v))}else{const f=AT(this.apiClient,t);return h=Ie("{model}:predictLongRunning",f._url),x=f._query,delete f.config,delete f._url,delete f._query,c=this.apiClient.request({path:h,queryParams:x,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(u=t.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json()),c.then(v=>gS(this.apiClient,v))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function FS(l,t){const n={},a=p(t,["operationName"]);a!=null&&g(n,["_url","operationName"],a);const o=p(t,["config"]);return o!=null&&g(n,["config"],o),n}function YS(l,t){const n={},a=p(t,["operationName"]);a!=null&&g(n,["_url","operationName"],a);const o=p(t,["config"]);return o!=null&&g(n,["config"],o),n}function KS(l,t){const n={},a=p(t,["operationName"]);a!=null&&g(n,["operationName"],a);const o=p(t,["resourceName"]);o!=null&&g(n,["_url","resourceName"],o);const u=p(t,["config"]);return u!=null&&g(n,["config"],u),n}function XS(l,t){const n={},a=p(t,["video","uri"]);a!=null&&g(n,["uri"],a);const o=p(t,["video","encodedVideo"]);o!=null&&g(n,["videoBytes"],qi(l,o));const u=p(t,["encoding"]);return u!=null&&g(n,["mimeType"],u),n}function $S(l,t){const n={},a=p(t,["_self"]);return a!=null&&g(n,["video"],XS(l,a)),n}function QS(l,t){const n={},a=p(t,["generatedSamples"]);if(a!=null){let c=a;Array.isArray(c)&&(c=c.map(h=>$S(l,h))),g(n,["generatedVideos"],c)}const o=p(t,["raiMediaFilteredCount"]);o!=null&&g(n,["raiMediaFilteredCount"],o);const u=p(t,["raiMediaFilteredReasons"]);return u!=null&&g(n,["raiMediaFilteredReasons"],u),n}function JS(l,t){const n={},a=p(t,["name"]);a!=null&&g(n,["name"],a);const o=p(t,["metadata"]);o!=null&&g(n,["metadata"],o);const u=p(t,["done"]);u!=null&&g(n,["done"],u);const c=p(t,["error"]);c!=null&&g(n,["error"],c);const h=p(t,["response","generateVideoResponse"]);return h!=null&&g(n,["response"],QS(l,h)),n}function ZS(l,t){const n={},a=p(t,["gcsUri"]);a!=null&&g(n,["uri"],a);const o=p(t,["bytesBase64Encoded"]);o!=null&&g(n,["videoBytes"],qi(l,o));const u=p(t,["mimeType"]);return u!=null&&g(n,["mimeType"],u),n}function WS(l,t){const n={},a=p(t,["_self"]);return a!=null&&g(n,["video"],ZS(l,a)),n}function eC(l,t){const n={},a=p(t,["videos"]);if(a!=null){let c=a;Array.isArray(c)&&(c=c.map(h=>WS(l,h))),g(n,["generatedVideos"],c)}const o=p(t,["raiMediaFilteredCount"]);o!=null&&g(n,["raiMediaFilteredCount"],o);const u=p(t,["raiMediaFilteredReasons"]);return u!=null&&g(n,["raiMediaFilteredReasons"],u),n}function bg(l,t){const n={},a=p(t,["name"]);a!=null&&g(n,["name"],a);const o=p(t,["metadata"]);o!=null&&g(n,["metadata"],o);const u=p(t,["done"]);u!=null&&g(n,["done"],u);const c=p(t,["error"]);c!=null&&g(n,["error"],c);const h=p(t,["response"]);return h!=null&&g(n,["response"],eC(l,h)),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class tC extends Ca{constructor(t){super(),this.apiClient=t}async getVideosOperation(t){const n=t.operation,a=t.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const o=n.name.split("/operations/")[0];let u;return a&&"httpOptions"in a&&(u=a.httpOptions),this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:o,config:{httpOptions:u}})}else return this.getVideosOperationInternal({operationName:n.name,config:a})}async getVideosOperationInternal(t){var n,a,o,u;let c,h="",x={};if(this.apiClient.isVertexAI()){const f=YS(this.apiClient,t);return h=Ie("{operationName}",f._url),x=f._query,delete f.config,delete f._url,delete f._query,c=this.apiClient.request({path:h,queryParams:x,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),c.then(v=>bg(this.apiClient,v))}else{const f=FS(this.apiClient,t);return h=Ie("{operationName}",f._url),x=f._query,delete f.config,delete f._url,delete f._query,c=this.apiClient.request({path:h,queryParams:x,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(u=t.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json()),c.then(v=>JS(this.apiClient,v))}}async fetchPredictVideosOperationInternal(t){var n,a;let o,u="",c={};if(this.apiClient.isVertexAI()){const h=KS(this.apiClient,t);return u=Ie("{resourceName}:fetchPredictOperation",h._url),c=h._query,delete h.config,delete h._url,delete h._query,o=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(x=>x.json()),o.then(x=>bg(this.apiClient,x))}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const nC="Content-Type",iC="X-Server-Timeout",lC="User-Agent",rC="x-goog-api-client",aC="0.12.0",oC=`google-genai-sdk/${aC}`,sC="v1beta1",uC="v1beta",Tg=/^data: (.*)(?:\n\n|\r\r|\r\n\r\n)/;class z0 extends Error{constructor(t,n){n?super(t,{cause:n}):super(t,{cause:new Error().stack}),this.message=t,this.name="ClientError"}}class Qc extends Error{constructor(t,n){n?super(t,{cause:n}):super(t,{cause:new Error().stack}),this.message=t,this.name="ServerError"}}class cC{constructor(t){var n,a;this.clientOptions=Object.assign(Object.assign({},t),{project:t.project,location:t.location,apiKey:t.apiKey,vertexai:t.vertexai});const o={};this.clientOptions.vertexai?(o.apiVersion=(n=this.clientOptions.apiVersion)!==null&&n!==void 0?n:sC,this.getProject()||this.getLocation()?(o.baseUrl=`https://${this.clientOptions.location}-aiplatform.googleapis.com/`,this.clientOptions.apiKey=void 0):(o.baseUrl="https://aiplatform.googleapis.com/",this.clientOptions.project=void 0,this.clientOptions.location=void 0)):(o.apiVersion=(a=this.clientOptions.apiVersion)!==null&&a!==void 0?a:uC,o.baseUrl="https://generativelanguage.googleapis.com/"),o.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=o,t.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(o,t.httpOptions))}isVertexAI(){var t;return(t=this.clientOptions.vertexai)!==null&&t!==void 0?t:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(t){if(!t||t.baseUrl===void 0||t.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const a=[t.baseUrl.endsWith("/")?t.baseUrl.slice(0,-1):t.baseUrl];return t.apiVersion&&t.apiVersion!==""&&a.push(t.apiVersion),a.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const t=this.getBaseUrl(),n=new URL(t);return n.protocol=n.protocol=="http:"?"ws":"wss",n.toString()}setBaseUrl(t){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=t;else throw new Error("HTTP options are not correctly set.")}constructUrl(t,n,a){const o=[this.getRequestUrlInternal(n)];return a&&o.push(this.getBaseResourcePath()),t!==""&&o.push(t),new URL(`${o.join("/")}`)}shouldPrependVertexProjectPath(t){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||t.path.startsWith("projects/")||t.httpMethod==="GET"&&t.path.startsWith("publishers/google/models"))}async request(t){let n=this.clientOptions.httpOptions;t.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,t.httpOptions));const a=this.shouldPrependVertexProjectPath(t),o=this.constructUrl(t.path,n,a);if(t.queryParams)for(const[c,h]of Object.entries(t.queryParams))o.searchParams.append(c,String(h));let u={};if(t.httpMethod==="GET"){if(t.body&&t.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else u.body=t.body;return u=await this.includeExtraHttpOptionsToRequestInit(u,n,t.abortSignal),this.unaryApiCall(o,u,t.httpMethod)}patchHttpOptions(t,n){const a=JSON.parse(JSON.stringify(t));for(const[o,u]of Object.entries(n))typeof u=="object"?a[o]=Object.assign(Object.assign({},a[o]),u):u!==void 0&&(a[o]=u);return a}async requestStream(t){let n=this.clientOptions.httpOptions;t.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,t.httpOptions));const a=this.shouldPrependVertexProjectPath(t),o=this.constructUrl(t.path,n,a);(!o.searchParams.has("alt")||o.searchParams.get("alt")!=="sse")&&o.searchParams.set("alt","sse");let u={};return u.body=t.body,u=await this.includeExtraHttpOptionsToRequestInit(u,n,t.abortSignal),this.streamApiCall(o,u,t.httpMethod)}async includeExtraHttpOptionsToRequestInit(t,n,a){if(n&&n.timeout||a){const o=new AbortController,u=o.signal;n.timeout&&(n==null?void 0:n.timeout)>0&&setTimeout(()=>o.abort(),n.timeout),a&&a.addEventListener("abort",()=>{o.abort()}),t.signal=u}return t.headers=await this.getHeadersInternal(n),t}async unaryApiCall(t,n,a){return this.apiCall(t.toString(),Object.assign(Object.assign({},n),{method:a})).then(async o=>(await Sg(o),new Kc(o))).catch(o=>{throw o instanceof Error?o:new Error(JSON.stringify(o))})}async streamApiCall(t,n,a){return this.apiCall(t.toString(),Object.assign(Object.assign({},n),{method:a})).then(async o=>(await Sg(o),this.processStreamResponse(o))).catch(o=>{throw o instanceof Error?o:new Error(JSON.stringify(o))})}processStreamResponse(t){var n;return is(this,arguments,function*(){const o=(n=t==null?void 0:t.body)===null||n===void 0?void 0:n.getReader(),u=new TextDecoder("utf-8");if(!o)throw new Error("Response body is empty");try{let c="";for(;;){const{done:h,value:x}=yield Yt(o.read());if(h){if(c.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const f=u.decode(x);try{const b=JSON.parse(f);if("error"in b){const E=JSON.parse(JSON.stringify(b.error)),C=E.status,D=E.code,U=`got status: ${C}. ${JSON.stringify(b)}`;if(D>=400&&D<500)throw new z0(U);if(D>=500&&D<600)throw new Qc(U)}}catch(b){const E=b;if(E.name==="ClientError"||E.name==="ServerError")throw b}c+=f;let v=c.match(Tg);for(;v;){const b=v[1];try{const E=new Response(b,{headers:t==null?void 0:t.headers,status:t==null?void 0:t.status,statusText:t==null?void 0:t.statusText});yield yield Yt(new Kc(E)),c=c.slice(v[0].length),v=c.match(Tg)}catch(E){throw new Error(`exception parsing stream chunk ${b}. ${E}`)}}}}finally{o.releaseLock()}})}async apiCall(t,n){return fetch(t,n).catch(a=>{throw new Error(`exception ${a} sending request`)})}getDefaultHeaders(){const t={},n=oC+" "+this.clientOptions.userAgentExtra;return t[lC]=n,t[rC]=n,t[nC]="application/json",t}async getHeadersInternal(t){const n=new Headers;if(t&&t.headers){for(const[a,o]of Object.entries(t.headers))n.append(a,o);t.timeout&&t.timeout>0&&n.append(iC,String(Math.ceil(t.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(n),n}async uploadFile(t,n){var a;const o={};n!=null&&(o.mimeType=n.mimeType,o.name=n.name,o.displayName=n.displayName),o.name&&!o.name.startsWith("files/")&&(o.name=`files/${o.name}`);const u=this.clientOptions.uploader,c=await u.stat(t);o.sizeBytes=String(c.size);const h=(a=n==null?void 0:n.mimeType)!==null&&a!==void 0?a:c.type;if(h===void 0||h==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");o.mimeType=h;const x=await this.fetchUploadUrl(o,n);return u.upload(t,x,this)}async fetchUploadUrl(t,n){var a;let o={};n!=null&&n.httpOptions?o=n.httpOptions:o={apiVersion:"",headers:{"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${t.sizeBytes}`,"X-Goog-Upload-Header-Content-Type":`${t.mimeType}`}};const u={file:t},c=await this.request({path:Ie("upload/v1beta/files",u._url),body:JSON.stringify(u),httpMethod:"POST",httpOptions:o});if(!c||!(c!=null&&c.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const h=(a=c==null?void 0:c.headers)===null||a===void 0?void 0:a["x-goog-upload-url"];if(h===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return h}}async function Sg(l){var t;if(l===void 0)throw new Qc("response is undefined");if(!l.ok){const n=l.status,a=l.statusText;let o;!((t=l.headers.get("content-type"))===null||t===void 0)&&t.includes("application/json")?o=await l.json():o={error:{message:await l.text(),code:l.status,status:l.statusText}};const u=`got status: ${n} ${a}. ${JSON.stringify(o)}`;throw n>=400&&n<500?new z0(u):n>=500&&n<600?new Qc(u):new Error(u)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function dC(l,t){const n={},a=p(t,["name"]);a!=null&&g(n,["_url","name"],a);const o=p(t,["config"]);return o!=null&&g(n,["config"],o),n}function fC(l,t,n){const a={},o=p(t,["pageSize"]);n!==void 0&&o!=null&&g(n,["_query","pageSize"],o);const u=p(t,["pageToken"]);n!==void 0&&u!=null&&g(n,["_query","pageToken"],u);const c=p(t,["filter"]);return n!==void 0&&c!=null&&g(n,["_query","filter"],c),a}function hC(l,t){const n={},a=p(t,["config"]);return a!=null&&g(n,["config"],fC(l,a,n)),n}function mC(l,t){const n={},a=p(t,["textInput"]);a!=null&&g(n,["textInput"],a);const o=p(t,["output"]);return o!=null&&g(n,["output"],o),n}function pC(l,t){const n={};if(p(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const a=p(t,["examples"]);if(a!=null){let o=a;Array.isArray(o)&&(o=o.map(u=>mC(l,u))),g(n,["examples","examples"],o)}return n}function gC(l,t,n){const a={};if(p(t,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const o=p(t,["tunedModelDisplayName"]);if(n!==void 0&&o!=null&&g(n,["displayName"],o),p(t,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const u=p(t,["epochCount"]);n!==void 0&&u!=null&&g(n,["tuningTask","hyperparameters","epochCount"],u);const c=p(t,["learningRateMultiplier"]);if(c!=null&&g(a,["tuningTask","hyperparameters","learningRateMultiplier"],c),p(t,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const h=p(t,["batchSize"]);n!==void 0&&h!=null&&g(n,["tuningTask","hyperparameters","batchSize"],h);const x=p(t,["learningRate"]);return n!==void 0&&x!=null&&g(n,["tuningTask","hyperparameters","learningRate"],x),a}function yC(l,t){const n={},a=p(t,["baseModel"]);a!=null&&g(n,["baseModel"],a);const o=p(t,["trainingDataset"]);o!=null&&g(n,["tuningTask","trainingData"],pC(l,o));const u=p(t,["config"]);return u!=null&&g(n,["config"],gC(l,u,n)),n}function xC(l,t){const n={},a=p(t,["name"]);a!=null&&g(n,["_url","name"],a);const o=p(t,["config"]);return o!=null&&g(n,["config"],o),n}function vC(l,t,n){const a={},o=p(t,["pageSize"]);n!==void 0&&o!=null&&g(n,["_query","pageSize"],o);const u=p(t,["pageToken"]);n!==void 0&&u!=null&&g(n,["_query","pageToken"],u);const c=p(t,["filter"]);return n!==void 0&&c!=null&&g(n,["_query","filter"],c),a}function bC(l,t){const n={},a=p(t,["config"]);return a!=null&&g(n,["config"],vC(l,a,n)),n}function TC(l,t,n){const a={},o=p(t,["gcsUri"]);if(n!==void 0&&o!=null&&g(n,["supervisedTuningSpec","trainingDatasetUri"],o),p(t,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return a}function SC(l,t){const n={},a=p(t,["gcsUri"]);return a!=null&&g(n,["validationDatasetUri"],a),n}function CC(l,t,n){const a={},o=p(t,["validationDataset"]);n!==void 0&&o!=null&&g(n,["supervisedTuningSpec"],SC(l,o));const u=p(t,["tunedModelDisplayName"]);n!==void 0&&u!=null&&g(n,["tunedModelDisplayName"],u);const c=p(t,["description"]);n!==void 0&&c!=null&&g(n,["description"],c);const h=p(t,["epochCount"]);n!==void 0&&h!=null&&g(n,["supervisedTuningSpec","hyperParameters","epochCount"],h);const x=p(t,["learningRateMultiplier"]);n!==void 0&&x!=null&&g(n,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],x);const f=p(t,["adapterSize"]);if(n!==void 0&&f!=null&&g(n,["supervisedTuningSpec","hyperParameters","adapterSize"],f),p(t,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(p(t,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");return a}function EC(l,t){const n={},a=p(t,["baseModel"]);a!=null&&g(n,["baseModel"],a);const o=p(t,["trainingDataset"]);o!=null&&g(n,["supervisedTuningSpec","trainingDatasetUri"],TC(l,o,n));const u=p(t,["config"]);return u!=null&&g(n,["config"],CC(l,u,n)),n}function wC(l,t){const n={},a=p(t,["name"]);a!=null&&g(n,["model"],a);const o=p(t,["name"]);return o!=null&&g(n,["endpoint"],o),n}function j0(l,t){const n={},a=p(t,["name"]);a!=null&&g(n,["name"],a);const o=p(t,["state"]);o!=null&&g(n,["state"],I0(l,o));const u=p(t,["createTime"]);u!=null&&g(n,["createTime"],u);const c=p(t,["tuningTask","startTime"]);c!=null&&g(n,["startTime"],c);const h=p(t,["tuningTask","completeTime"]);h!=null&&g(n,["endTime"],h);const x=p(t,["updateTime"]);x!=null&&g(n,["updateTime"],x);const f=p(t,["description"]);f!=null&&g(n,["description"],f);const v=p(t,["baseModel"]);v!=null&&g(n,["baseModel"],v);const b=p(t,["_self"]);b!=null&&g(n,["tunedModel"],wC(l,b));const E=p(t,["distillationSpec"]);E!=null&&g(n,["distillationSpec"],E);const C=p(t,["experiment"]);C!=null&&g(n,["experiment"],C);const D=p(t,["labels"]);D!=null&&g(n,["labels"],D);const U=p(t,["pipelineJob"]);U!=null&&g(n,["pipelineJob"],U);const F=p(t,["tunedModelDisplayName"]);return F!=null&&g(n,["tunedModelDisplayName"],F),n}function AC(l,t){const n={},a=p(t,["nextPageToken"]);a!=null&&g(n,["nextPageToken"],a);const o=p(t,["tunedModels"]);if(o!=null){let u=o;Array.isArray(u)&&(u=u.map(c=>j0(l,c))),g(n,["tuningJobs"],u)}return n}function NC(l,t){const n={},a=p(t,["name"]);a!=null&&g(n,["name"],a);const o=p(t,["metadata"]);o!=null&&g(n,["metadata"],o);const u=p(t,["done"]);u!=null&&g(n,["done"],u);const c=p(t,["error"]);return c!=null&&g(n,["error"],c),n}function MC(l,t){const n={},a=p(t,["model"]);a!=null&&g(n,["model"],a);const o=p(t,["endpoint"]);return o!=null&&g(n,["endpoint"],o),n}function Jc(l,t){const n={},a=p(t,["name"]);a!=null&&g(n,["name"],a);const o=p(t,["state"]);o!=null&&g(n,["state"],I0(l,o));const u=p(t,["createTime"]);u!=null&&g(n,["createTime"],u);const c=p(t,["startTime"]);c!=null&&g(n,["startTime"],c);const h=p(t,["endTime"]);h!=null&&g(n,["endTime"],h);const x=p(t,["updateTime"]);x!=null&&g(n,["updateTime"],x);const f=p(t,["error"]);f!=null&&g(n,["error"],f);const v=p(t,["description"]);v!=null&&g(n,["description"],v);const b=p(t,["baseModel"]);b!=null&&g(n,["baseModel"],b);const E=p(t,["tunedModel"]);E!=null&&g(n,["tunedModel"],MC(l,E));const C=p(t,["supervisedTuningSpec"]);C!=null&&g(n,["supervisedTuningSpec"],C);const D=p(t,["tuningDataStats"]);D!=null&&g(n,["tuningDataStats"],D);const U=p(t,["encryptionSpec"]);U!=null&&g(n,["encryptionSpec"],U);const F=p(t,["partnerModelTuningSpec"]);F!=null&&g(n,["partnerModelTuningSpec"],F);const L=p(t,["distillationSpec"]);L!=null&&g(n,["distillationSpec"],L);const Y=p(t,["experiment"]);Y!=null&&g(n,["experiment"],Y);const $=p(t,["labels"]);$!=null&&g(n,["labels"],$);const Z=p(t,["pipelineJob"]);Z!=null&&g(n,["pipelineJob"],Z);const ne=p(t,["tunedModelDisplayName"]);return ne!=null&&g(n,["tunedModelDisplayName"],ne),n}function _C(l,t){const n={},a=p(t,["nextPageToken"]);a!=null&&g(n,["nextPageToken"],a);const o=p(t,["tuningJobs"]);if(o!=null){let u=o;Array.isArray(u)&&(u=u.map(c=>Jc(l,c))),g(n,["tuningJobs"],u)}return n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class DC extends Ca{constructor(t){super(),this.apiClient=t,this.get=async n=>await this.getInternal(n),this.list=async(n={})=>new pd(ba.PAGED_ITEM_TUNING_JOBS,a=>this.listInternal(a),await this.listInternal(n),n),this.tune=async n=>{if(this.apiClient.isVertexAI())return await this.tuneInternal(n);{const a=await this.tuneMldevInternal(n);let o="";return a.metadata!==void 0&&a.metadata.tunedModel!==void 0?o=a.metadata.tunedModel:a.name!==void 0&&a.name.includes("/operations/")&&(o=a.name.split("/operations/")[0]),{name:o,state:Yc.JOB_STATE_QUEUED}}}}async getInternal(t){var n,a,o,u;let c,h="",x={};if(this.apiClient.isVertexAI()){const f=xC(this.apiClient,t);return h=Ie("{name}",f._url),x=f._query,delete f.config,delete f._url,delete f._query,c=this.apiClient.request({path:h,queryParams:x,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),c.then(v=>Jc(this.apiClient,v))}else{const f=dC(this.apiClient,t);return h=Ie("{name}",f._url),x=f._query,delete f.config,delete f._url,delete f._query,c=this.apiClient.request({path:h,queryParams:x,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(u=t.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json()),c.then(v=>j0(this.apiClient,v))}}async listInternal(t){var n,a,o,u;let c,h="",x={};if(this.apiClient.isVertexAI()){const f=bC(this.apiClient,t);return h=Ie("tuningJobs",f._url),x=f._query,delete f.config,delete f._url,delete f._query,c=this.apiClient.request({path:h,queryParams:x,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),c.then(v=>{const b=_C(this.apiClient,v),E=new og;return Object.assign(E,b),E})}else{const f=hC(this.apiClient,t);return h=Ie("tunedModels",f._url),x=f._query,delete f.config,delete f._url,delete f._query,c=this.apiClient.request({path:h,queryParams:x,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(u=t.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json()),c.then(v=>{const b=AC(this.apiClient,v),E=new og;return Object.assign(E,b),E})}}async tuneInternal(t){var n,a;let o,u="",c={};if(this.apiClient.isVertexAI()){const h=EC(this.apiClient,t);return u=Ie("tuningJobs",h._url),c=h._query,delete h.config,delete h._url,delete h._query,o=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(x=>x.json()),o.then(x=>Jc(this.apiClient,x))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(t){var n,a;let o,u="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=yC(this.apiClient,t);return u=Ie("tunedModels",h._url),c=h._query,delete h.config,delete h._url,delete h._query,o=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(x=>x.json()),o.then(x=>NC(this.apiClient,x))}}}const IC=1024*1024*8;async function RC(l,t,n){var a,o;let u=0,c=0,h=new Kc(new Response),x="upload";for(u=l.size;c<u;){const v=Math.min(IC,u-c),b=l.slice(c,c+v);if(c+v>=u&&(x+=", finalize"),h=await n.request({path:"",body:b,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:t,headers:{"X-Goog-Upload-Command":x,"X-Goog-Upload-Offset":String(c),"Content-Length":String(v)}}}),c+=v,((a=h==null?void 0:h.headers)===null||a===void 0?void 0:a["x-goog-upload-status"])!=="active")break;if(u<=c)throw new Error("All content has been uploaded, but the upload status is not finalized.")}const f=await(h==null?void 0:h.json());if(((o=h==null?void 0:h.headers)===null||o===void 0?void 0:o["x-goog-upload-status"])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return f.file}async function kC(l){return{size:l.size,type:l.type}}class LC{async upload(t,n,a){if(typeof t=="string")throw new Error("File path is not supported in browser uploader.");return await RC(t,n,a)}async stat(t){if(typeof t=="string")throw new Error("File path is not supported in browser uploader.");return await kC(t)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class BC{create(t,n,a){return new UC(t,n,a)}}class UC{constructor(t,n,a){this.url=t,this.headers=n,this.callbacks=a}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(t){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(t)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Cg="x-goog-api-key";class zC{constructor(t){this.apiKey=t}async addAuthHeaders(t){t.get(Cg)===null&&t.append(Cg,this.apiKey)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const jC="gl-node/";class OC{constructor(t){var n;if(t.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(t.project||t.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(n=t.vertexai)!==null&&n!==void 0?n:!1,this.apiKey=t.apiKey;const a=Xv(t,void 0,void 0);a&&(t.httpOptions?t.httpOptions.baseUrl=a:t.httpOptions={baseUrl:a}),this.apiVersion=t.apiVersion;const o=new zC(this.apiKey);this.apiClient=new cC({auth:o,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:t.httpOptions,userAgentExtra:jC+"web",uploader:new LC}),this.models=new GS(this.apiClient),this.live=new OS(this.apiClient,o,new BC),this.chats=new Vb(this.models,this.apiClient),this.caches=new Ub(this.apiClient),this.files=new Wb(this.apiClient),this.operations=new tC(this.apiClient),this.tunings=new DC(this.apiClient)}}const rr="gemini-2.5-flash-preview-04-17",Eg="TrackGuide",wg="songGuidebookLibrary",aa="trackGuideLastUsedDAW",qo="trackGuideLastUsedPlugins",O0=["Pop","Indie Pop","Synth-Pop","Rock","Alternative Rock","Hard Rock","Punk Rock","Post-Punk","Nu Metal","Progressive Rock","Psychedelic Rock","Folk Rock","Shoegaze","House","Deep House","Progressive House","Tech House","Bass House","Electro House","Minimal House","Techno","Minimal Techno","Industrial Techno","Melodic Techno","Ambient Techno","Hard Techno","Trance","Progressive Trance","Psytrance","Goa Trance","Hard Trance","Ambient","Dark Ambient","Downtempo","Chillout","Chillwave","Psybient","Berlin School","Synthwave","Retrowave","Darksynth","Vaporwave","Future Funk","Drum and Bass","Jungle","Liquid DnB","Neurofunk","Breakcore","Dubstep","Riddim","Future Bass","Trap (EDM)","Hardstyle","Gabber","UK Hardcore","IDM (Intelligent Dance Music)","Glitch","Breakbeat","UK Garage","2-Step","Future Garage","EBM (Electronic Body Music)","Footwork","Juke","Hip Hop","Boom Bap","Trap","Lo-fi Hip Hop","Cloud Rap","Drill","Conscious Hip Hop","R&B","Contemporary R&B","Neo-Soul","Soul","Folk","Acoustic","World Music","Reggae","Dub","Ska","Latin","Afrobeat","Celtic","Jazz","Smooth Jazz","Blues","Funk","Heavy Metal","Thrash Metal","Death Metal","Black Metal","Doom Metal","Metalcore","Deathcore","Experimental","Noise","Industrial","Classical Crossover","Chiptune","Video Game Music"],VC=["Dark","Atmospheric","Energetic","Uplifting","Chill","Relaxed","Experimental","Trippy","Nostalgic","Retro","Aggressive","Intense","Melancholic","Introspective","Funky","Groovy","Mysterious","Eerie","Euphoric","Anthemic","Dreamy","Ethereal","Raw","Gritty","Sophisticated","Smooth","Cyberpunk","Futuristic","Hypnotic","Driving","Industrial","Mechanical","Hopeful","Aggressive","Peaceful","Romantic","Sad","Joyful","Tense"],Ag=["Ableton Live","Logic Pro X","FL Studio","Pro Tools","Cubase","Studio One","Reason","Bitwig Studio","Reaper","GarageBand"],ha=["C Major","G Major","D Major","A Major","E Major","B Major","F# Major","C# Major","F Major","Bb Major","Eb Major","Ab Major","Db Major","Gb Major","Cb Major","A Minor","E Minor","B Minor","F# Minor","C# Minor","G# Minor","D# Minor","A# Minor","D Minor","G Minor","C Minor","F Minor","Bb Minor","Eb Minor","Ab Minor"],Ng={C:["Ionian (Major)","Dorian","Phrygian","Lydian","Mixolydian","Aeolian (Natural Minor)","Locrian"],"C#":["Ionian (Major)","Dorian","Phrygian","Lydian","Mixolydian","Aeolian (Natural Minor)","Locrian"],Db:["Ionian (Major)","Dorian","Phrygian","Lydian","Mixolydian","Aeolian (Natural Minor)","Locrian"],D:["Ionian (Major)","Dorian","Phrygian","Lydian","Mixolydian","Aeolian (Natural Minor)","Locrian"],"D#":["Ionian (Major)","Dorian","Phrygian","Lydian","Mixolydian","Aeolian (Natural Minor)","Locrian"],Eb:["Ionian (Major)","Dorian","Phrygian","Lydian","Mixolydian","Aeolian (Natural Minor)","Locrian"],E:["Ionian (Major)","Dorian","Phrygian","Lydian","Mixolydian","Aeolian (Natural Minor)","Locrian"],F:["Ionian (Major)","Dorian","Phrygian","Lydian","Mixolydian","Aeolian (Natural Minor)","Locrian"],"F#":["Ionian (Major)","Dorian","Phrygian","Lydian","Mixolydian","Aeolian (Natural Minor)","Locrian"],Gb:["Ionian (Major)","Dorian","Phrygian","Lydian","Mixolydian","Aeolian (Natural Minor)","Locrian"],G:["Ionian (Major)","Dorian","Phrygian","Lydian","Mixolydian","Aeolian (Natural Minor)","Locrian"],"G#":["Ionian (Major)","Dorian","Phrygian","Lydian","Mixolydian","Aeolian (Natural Minor)","Locrian"],Ab:["Ionian (Major)","Dorian","Phrygian","Lydian","Mixolydian","Aeolian (Natural Minor)","Locrian"],A:["Ionian (Major)","Dorian","Phrygian","Lydian","Mixolydian","Aeolian (Natural Minor)","Locrian"],"A#":["Ionian (Major)","Dorian","Phrygian","Lydian","Mixolydian","Aeolian (Natural Minor)","Locrian"],Bb:["Ionian (Major)","Dorian","Phrygian","Lydian","Mixolydian","Aeolian (Natural Minor)","Locrian"],B:["Ionian (Major)","Dorian","Phrygian","Lydian","Mixolydian","Aeolian (Natural Minor)","Locrian"],Cb:["Ionian (Major)","Dorian","Phrygian","Lydian","Mixolydian","Aeolian (Natural Minor)","Locrian"]},PC=[[4,4],[3,4],[6,8],[2,4],[5,4],[7,8]],HC=[{id:"chords",label:"Chords"},{id:"bassline",label:"Bassline"},{id:"melody",label:"Melody"},{id:"drums",label:"Drums"}],qC=["General Loop","Intro","Verse","Pre-Chorus","Chorus","Post-Chorus","Bridge","Solo","Breakdown","Drop","Outro","Fill"],Qe={key:"C Major",tempo:120,timeSignature:[4,4],chordProgression:"I-V-vi-IV",genre:"Pop",bars:8,targetInstruments:["chords","bassline","melody","drums"],guidebookContext:"",songSection:"General Loop"},kn={Pop:["I-V-vi-IV","vi-IV-I-V","I-IV-V-I","I-vi-IV-V","ii-V-I-IV"],"Indie Pop":["I-V-vi-IV","I-IV-vi-V","vi-IV-I-V","I-iii-IV-V"],"Synth-Pop":["i-VI-III-VII (minor)","I-V-vi-IV (major)","i-iv-v-VI (minor)","I-IV-ii-V (major)"],Rock:["I-IV-V","vi-IV-I-V","I-bVII-IV-I","i-VI-III-VII (minor)","I-V-IV-I"],"Alternative Rock":["vi-IV-I-V","I-V-vi-IV","i-VI-III-VII","I-IV-ii-V"],House:["Am-G-C-F","i-VI-III-VII (Am-F-C-G)","i-III-VI-VII","i-v-iv-i"],"Deep House":["i-VI-III-VII (e.g. Dm-Bb-F-C)","Am-G-C-F","i-iv-v-i"],Techno:["i-VI-III-VII","i-iv-v-i (minor, repetitive)","Single chord drone with variations","Am-G-F-E"],Trance:["vi-IV-I-V (Am-F-C-G)","i-VI-III-VII","i-VII-VI-V (minor descending)"],Ambient:["Imaj7-IVmaj7 (long, evolving)","i-VI (slow changes)","Drone + suspended chords"],Synthwave:["i-VI-III-VII (Am-F-C-G)","vi-IV-I-V","I-V-vi-IV","i-iv-v-i"],"Drum and Bass":["i-VI-III-VII","Am-F-C-G","Complex jazz voicings over two chords","i-iv-v-VI"],Dubstep:["i-VI-III-VII","i-iv-v-i (minor)","Heavy focus on sound design over complex progression"],"Trap (EDM)":["i-VI-III-VII","i-iv-v-i (minor)","Simple 2 or 3 chord loops"],"Hip Hop":["i-VI-III-VII","Am-G-Em-F","ii-V-I (Jazz influenced)","i-iv-v-i","Sample-based loops"],"Lo-fi Hip Hop":["ii-V-I-IV (Jazz)","Imaj7-vi7-ii7-V7","Simple 2-4 chord loops"],"R&B":["Imaj7-IVmaj7","ii-V-I","i-VI-III-VII","vi-ii-V-I"],Folk:["I-IV-V","I-V-vi-IV","G-C-D-G","C-G-Am-F"],Jazz:["ii-V-I","I-vi-ii-V","iii-vi-ii-V","I-II7-V7-I (Rhythm Changes A section)","Imaj7-IIm7-IIIm7-IVmaj7 (Modal)"],Blues:["I-I-I-I-IV-IV-I-I-V-IV-I-I (12-bar)","i-i-i-i-iv-iv-i-i-v-iv-i-i (minor 12-bar)"],Default:["I-V-vi-IV","i-VI-III-VII","I-IV-V-I","ii-V-I"]},Ln={Pop:[90,130],"Indie Pop":[100,140],"Synth-Pop":[110,140],Rock:[100,160],"Alternative Rock":[90,150],House:[118,128],"Deep House":[115,125],Techno:[125,145],Trance:[130,145],Ambient:[50,100],Synthwave:[80,120],"Drum and Bass":[160,180],Dubstep:[130,150],"Trap (EDM)":[130,160],"Hip Hop":[80,110],"Lo-fi Hip Hop":[70,90],"R&B":[60,100],Folk:[80,120],Jazz:[70,180],Blues:[70,130],Default:[60,200]},ls={kick:36,snare:38,hihat_closed:42,closed_hihat:42,hihat_open:46,open_hihat:46,tom_low:41,low_tom:41,tom_mid:47,mid_tom:47,tom_high:50,high_tom:50,crash_cymbal_1:49,crash:49,ride_cymbal_1:51,ride:51,clap:39,shaker:70,tambourine:54,rim_shot:37,cowbell:56,bass_drum:36,snare_drum:38},GC="AIzaSyCxOuxalv_PC6h6aE8JvEjLMK8ie8C9Nts",ar=new OC({apiKey:GC}),FC=l=>{var b;const t=l.genre.length>0?l.genre.join(", "):"Not specified",n=l.vibe.length>0?l.vibe.join(", "):"Not specified",a=l.artistReference||"General to genre/vibe",o=((b=l.songTitle)==null?void 0:b.trim())||"",u=l.plugins&&l.plugins.trim()!==""&&!l.plugins.toLowerCase().includes("stock only"),c=u?l.plugins:`Stock plugins of ${l.daw||"the selected DAW"}`,h=l.availableInstruments||"Standard rock/pop/electronic instruments assumed",x=(E,C,D)=>u?l.plugins.toLowerCase().includes(E.split(" ")[0].toLowerCase())?`\`${E}\``:l.plugins.toLowerCase().includes("arturia")&&E.toLowerCase().includes("arturia")?`\`${E}\``:(l.plugins.toLowerCase().includes("native instruments")||l.plugins.toLowerCase().includes("komplete"))&&["massive","kontakt","reaktor","guitar rig","battery"].some(U=>E.toLowerCase().includes(U))?`\`${E}\``:l.plugins.toLowerCase().includes("fabfilter")&&E.toLowerCase().includes("fabfilter")?`\`${E}\``:l.plugins.toLowerCase().includes("soundtoys")&&E.toLowerCase().includes("soundtoys")?`\`${E}\``:l.plugins.toLowerCase().includes("valhalla")&&E.toLowerCase().includes("valhalla")?`\`${E}\``:`a suitable ${C.toLowerCase()}`:`${l.daw||"DAW"} stock ${D.toLowerCase()}`,f=o?`The user has provisionally titled this project: "${o}". Use this as the primary title in the '# TRACKGUIDE: "..."' heading, or refine it slightly if you can make it more engaging while keeping its core idea.`:`Generate an engaging and ORIGINAL title for the '# TRACKGUIDE: "..."' heading that creatively combines '${t}', '${n}', and '${a}' if provided, e.g., "Substructure Anomaly" - An Experimental Neurofunk Descent.`,v=o?`Use the user-provided title: "${o}".`:'Generate a creative, SHORT, and ORIGINAL title that captures the essence of all inputs. Avoid generic phrases like "Song for..." or simply restating the genre/vibe.';return`
You are TrackGuideAI, an expert music production assistant. Generate a comprehensive TrackGuide based on the following user inputs.
The user wants to create a song with the following characteristics:
- Project Title (User Provided): ${o||"Not specified"}
- Genre(s): ${t}
- Artist/Song Reference(s): ${a}
- Reference Track Link: ${l.referenceTrackLink||"Not provided"}
- Lyrics: ${l.lyrics||"Not provided"}
- Key: ${l.key||"Not specified"}
- Chords: ${l.chords||"Not specified"}
- General Notes for AI: ${l.generalNotes||"None"}
- Vibe/Mood(s): ${n}
- Preferred DAW: ${l.daw||"Not specified, suggest generally or for Ableton Live/Logic Pro"}
- Available Plugins: ${c}
- Available Instruments: ${h}

**IMPORTANT INSTRUCTIONS FOR AI (OVERALL):**
- **STYLE:** Follow a "Quick Reference / Cheat Sheet Style" for Section 3 (Instrument & Sound Design) and Section 4 (Harmony, Melody & Rhythmic Core). Be extremely concise and actionable.
- **TERMINOLOGY:** Use professional music production terminology.
- **MARKDOWN:** Use Markdown for formatting (e.g., #, ##, ### for headings, bullet points for lists).
- **CONCISENESS (Sections 1, 2, 5):** Keep these sections brief and to the point.
- **EMOJIS (Section 3):** Use a relevant emoji before each instrument name heading (e.g., ###  Drums & Percussion).
- **NEW FIELD CONSIDERATIONS:**
  - If Reference Track Link is provided, analyze and reference the style/production techniques from that track
  - If Lyrics are provided, consider their structure, themes, and emotional content when suggesting arrangement and instrumentation
  - If Key/Chords are specified, prioritize those in your harmonic suggestions and ensure compatibility
  - If General Notes are provided, incorporate those specific instructions throughout all sections

**SECTION 3: INSTRUMENT & SOUND DESIGN GUIDE - "QUICK REFERENCE" FORMATTING:**
For EACH instrument/category in Section 3:
1.  **Heading:** Start with "### Emoji Instrument Name" (e.g., "###  Drums & Percussion").
2.  **Style:** "**Style:** Brief description (e.g., "Hip-hop influenced, punchy transients")."
3.  **Tips Sub-Heading:** Use ONE of these bolded labels:
    *   "**Programming Tips:**" (for drums, synths, etc.)
    *   "**Arrangement Tips:**" (for guitars, orchestral sections, etc.)
    *   "**Flow Tips:**" (for vocals)
    *   "**Role:**" (for DJ/Samples)
    *   "**Purpose:**" (for Synths/Keys if more about function than programming)
    *   Follow with 2-3 ultra-concise bullet points.
4.  **Processing Sub-Heading:** Use ONE of these bolded labels:
    *   "**EQ & Processing Summary:**" (if covering multiple effect types)
    *   "**Processing:**" (if focusing on 1-2 main effects or amp sims)
    *   "**Patch Ideas:**" (for Synths/Keys, can include VI suggestions here)
    *   Follow with 2-4 ultra-concise bullet points. EACH bullet should summarize ONE key processing step or patch idea.
    *   **Parameter Examples:** Integrate highly condensed parameter examples (e.g., "EQ: Thump at 6080Hz, carve mud at 300500Hz, add attack at 35kHz.").
    *   **Plugin/VI Suggestions:** Integrate these directly and concisely within the processing/patch bullets.
        *   If 'Available Plugins' indicates 'Stock plugins of [DAW NAME]' or is empty, **EXCLUSIVELY recommend stock plugins for the specified DAW.**
        *   If specific plugins ARE listed by the user, prioritize those.
        *   Example for plugin: "Saturation: ${x("Ableton Saturator","saturator plugin","Saturation")} (Soft Clip), on snare or full kit."
        *   Example for VI in Patch Ideas: "Pads: ${x("Arturia Prophet V","analog-style synth VI","Synth")}, long attack/release."
    *   **NO "Virtual Instrument Suggestions" as a separate sub-heading.** Integrate these into "Patch Ideas" or "Processing" (e.g., for Amp Sims).
    *   **DO NOT list every possible effect.** Focus on the 2-4 MOST impactful for the instrument in the given context.

**SECTION 4: HARMONY, MELODY & RHYTHMIC CORE - "QUICK REFERENCE" FORMATTING:**
- Structure with the following main bullet points, each followed by 1-3 concise sub-bullet points:
    - **Chord Progressions:** (with examples, e.g., "i  bVI  bVII (e.g., Cm  Ab  Bb)")
    - **Melodic Notes:** (or characteristics/scales, e.g., "Minor Pentatonic or Phrygian")
    - **Rhythmic Focus:** (key rhythmic interactions, e.g., "Tight sync between kick, bass, and palm-muted guitar")
- NO "Harmonic Textures" sub-section. Keep this section very lean.

Please structure the TrackGuide with the following sections:

# TRACKGUIDE: "${f}"

## 1. Song Overview
- **Suggested Title:** ${v}
- **Genre(s):** ${t}
- **Artist DNA:** (Briefly, 1-2 sentences, describe artist/song influence or genre/vibe archetypes if no reference)
- **Vibe(s):** ${n}
- **Estimated BPM Range:** (e.g., 120-130 BPM, consider the blend if multiple genres)
- **Suggested Key(s) / Scale(s):** (List 1-2 common keys/scales, e.g., C Minor, A Lydian)
- **Overall Sonic Palette:** (Describe in 1-2 key phrases, e.g., "Dark, punchy drums, ethereal pads, gritty bass")

## 2. Structural Blueprint
Provide a **concise Markdown table** for a typical song structure for the genre(s).
- **Production Tips Column:** Succinctly combine key creative ideas and primary instrumentation focus for each section. Consider user's available instruments: ${h}.
- **Mood Column:** Describe the mood with 2-3 impactful keywords or a very short descriptive phrase (e.g., 'Intense, Driving', 'Reflective & Hopeful', 'Darkly Cinematic'), reflecting listed vibes: ${n}.

*Example Table (adapt to genre(s), ensure it's concise and well-formatted Markdown):*
| Section    | Length   | Production Tips                     | Mood        |
|------------|----------|-------------------------------------|-------------|
| Intro      | 8 bars   | Filtered pads, subtle rhythmic pulse, light perc. | Evolving    |
| Verse A    | 16 bars  | Main groove, sparse vocals, core bassline. | Driving     |
| ...etc.    | ...      | ...                                 | ...         |

## 3. Instrument & Sound Design Guide
(Follow the "QUICK REFERENCE" formatting detailed above. Tailor suggestions to user's 'Available Instruments' like '${h}' if specified.)

###  Drums & Percussion
**Style:** (e.g., "Hip-hop influenced, punchy transients" for ${t})
**Programming Tips:**
  - (e.g., Snare on 2 & 4)
  - (e.g., Syncopated kicks, varied hat velocities)
**EQ & Processing Summary:**
  - (e.g., Kick: 6080Hz (thump), 300500Hz (cut mud), 35kHz (click))
  - (e.g., Snare: 200Hz (body), 4kHz (crack), touch of plate reverb with ${x("Valhalla Plate","plate reverb","Reverb")})
  - (e.g., Bus Compression: ${x("Ableton Glue Compressor","bus compressor","Compressor")}, Ratio 4:1, Attack 1030ms)

###  Bass
**Style:** (e.g., "Syncopated, distorted, groove-locked with kick")
**Programming Tips:**
  - (e.g., Follow guitar riff in choruses)
  - (e.g., Use slides/ghosts for groove)
**Processing:**
  - (e.g., EQ: Boost 60100Hz, 800Hz2kHz for bite, cut 200400Hz)
  - (e.g., Saturation: Parallel drive via ${x("Soundtoys Decapitator","saturation plugin","Saturation")} or ${x("Ableton Amp","amp simulator","Amp Sim")})

(Include similar "Quick Reference" sections for Guitars, Vocals, DJ Scratches & Samples, Synths & Keys, etc., based on user inputs or common instrumentation for the genre. Remember to integrate plugin suggestions concisely using getPluginSuggestion and adhere to all formatting rules.)

## 4. Harmony, Melody & Rhythmic Core
(Follow the "QUICK REFERENCE" formatting detailed above.)
- **Chord Progressions:**
  - (e.g., i  bVI  bVII (e.g., Cm  Ab  Bb for ${t}))
  - (e.g., Riff-based grooves with rhythmic single-note chugs if appropriate for ${t})
- **Melodic Notes:**
  - (e.g., Minor Pentatonic or Phrygian scale for ${t})
  - (e.g., Rap cadence in verses, short catchy lines in hooks, if vocals are mentioned or typical for ${t})
- **Rhythmic Focus:**
  - (e.g., Tight sync between kick, bass, and palm-muted guitar for a ${n} feel)
  - (e.g., Hi-hats with syncopation and velocity variation for ${t} groove)

##  5. Final Notes & Implementation
(Provide 3-5 VERY concise, actionable bullet points specific to making THIS SONG unique and impactful. Start each with a " " (checkmark emoji and space).)
-  Focus on [key element from inputs, e.g., the rhythmic drive of ${t}].
-  Experiment with [a specific technique related to vibe, e.g., filter automation to enhance the '${n}' vibe].
-  Leverage [a unique aspect of inputs, e.g., the textures from ${h} if unique, or a specific plugin from ${c} in a creative way].
-  If referencing ${a}, try their [specific technique, e.g., approach to layering] but apply it to [your unique element].
-  Don't be afraid to [a general creative encouragement, e.g., break conventions slightly for a memorable track].

---
This TrackGuide for "${o||`${t} (${n})`}" using ${l.daw||"your DAW"} is a starting point. Experiment, trust your ears, and enjoy the creative journey!
`},YC=async l=>{try{const t=FC(l);return await ar.models.generateContentStream({model:rr,contents:t})}catch(t){console.error("Error initiating TrackGuide content stream:",t);let n="An unknown error occurred while initiating the TrackGuide stream.";throw t instanceof Error&&(n=t.message,t.message.includes("API key not valid")||t.message.includes("permission")&&t.message.includes("API key")?n="Invalid API Key or insufficient permissions. Please check your API key and its configuration.":t.message.toLowerCase().includes("network error")||t.message.toLowerCase().includes("failed to fetch")?n=`Network error: Failed to connect to Gemini API. Please check your internet connection. (${t.message})`:n=`Failed to generate TrackGuide: ${t.message}`),new Error(n)}},KC=l=>{const{key:t,scale:n,tempo:a,timeSignature:o,chordProgression:u,genre:c,bars:h,targetInstruments:x,guidebookContext:f,songSection:v}=l,b=x.join(", "),E=n?` (${n} mode)`:"";return`Generate MIDI patterns in JSON format for ${c} music with INCREASED COMPLEXITY and VARIETY.

Context: Key=${t}${E}, Tempo=${a}BPM, Time=${o[0]}/${o[1]}, Chords=${u}, Bars=${h}, Section=${v||"General"}
Instruments: ${b}
${f?`Style: ${f.substring(0,300)}...`:""}

IMPORTANT REQUIREMENTS:
1. VELOCITY VARIETY: Use wide velocity ranges (40-127) with musical dynamics
2. RHYTHMIC COMPLEXITY: Include syncopation, off-beat notes, and varied note lengths
3. TIMING VARIETY: Use subtle timing variations (0.01-0.05 beat offsets for groove)
4. DRUM COMPLEXITY: Always include AT LEAST 5 drum elements per pattern

Return JSON with keys: ${x.map(C=>`"${C}"`).join(", ")}

Format Requirements:
- "chords": [{"time": 0, "name": "Cmaj7", "duration": 1, "notes": [{"pitch": "C4", "midi": 60}], "velocity": 65-95}]
- "bassline": [{"time": 0, "pitch": "C2", "midi": 36, "duration": 0.5, "velocity": 70-110}] (MIDI 12-59 only)
- "melody": [{"time": 0, "pitch": "C5", "midi": 72, "duration": 0.25, "velocity": 50-100}] (include grace notes, runs)
- "drums": Must include minimum 5 elements from: kick, snare, hihat_closed, hihat_open, ride, crash, clap, tom_low, tom_mid, tom_high, shaker, tambourine

DRUM REQUIREMENTS:
- Always generate patterns appropriate for ${c}
- Include at least: kick, snare, hihat_closed, hihat_open, and one additional element (ride/crash/clap/etc.)
- Use velocity range 60-127 for drums
- Create realistic drum patterns with proper spacing and fills

MUSICAL COMPLEXITY:
- Add passing tones, chord extensions, and scale-appropriate embellishments
- Use rhythmic displacement and syncopation where appropriate for ${c}
- Include dynamic contrast within patterns
- Make patterns suitable for ${v||"general"} section energy level

Generate musically rich, production-ready patterns.`},Zc=async l=>{try{const t=KC(l);return await ar.models.generateContentStream({model:rr,contents:t,config:{responseMimeType:"application/json"}})}catch(t){console.error("Error initiating MIDI pattern stream:",t);let n="An unknown error occurred while initiating MIDI pattern stream.";throw t instanceof Error&&(n=t.message,t.message.includes("API key not valid")?n="Invalid API Key for MIDI generation. Please check your API key.":n=`Failed to initiate MIDI pattern stream: ${t.message}`),new Error(n)}},XC=async l=>{const t=new Promise(n=>{const a=new FileReader;a.onloadend=()=>n(a.result.split(",")[1]),a.readAsDataURL(l)});return{inlineData:{mimeType:l.type,data:await t}}},$C=l=>`
You are an expert audio mixing and mastering engineer AI. The user has uploaded an audio file of their mix and provided some notes.
Analyze the audio mix thoroughly.

User's Notes/Questions:
"${l||"No specific notes provided by the user."}"

Provide comprehensive, constructive, and actionable feedback on the mix. Structure your feedback using Markdown with clear headings for each section. Cover the following aspects:

1.  **Overall Impression & Balance:**
    *   Initial thoughts on the mix.
    *   How well do the different instruments/elements sit together?
    *   Are vocals (if present) clear and well-placed?
    *   Is there a good sense of depth and separation between elements?

2.  **Frequency Spectrum Analysis:**
    *   **Low-End (Bass, Kick, etc.):** Is it clear, muddy, boomy, or lacking? Any masking?
    *   **Mid-Range (Vocals, Guitars, Synths, Snares):** Is it clear, honky, harsh, scooped, or well-defined?
    *   **High-End (Cymbals, Air, Sibilance):** Is it crisp, dull, harsh, or smooth?
    *   Suggest specific EQ adjustments with frequency ranges if applicable (e.g., "Consider a gentle cut around 250Hz on the bass to reduce mud").

3.  **Dynamics & Loudness:**
    *   Is the mix punchy and dynamic, or does it sound over-compressed or flat?
    *   Assess the use of compression on individual tracks and the master bus (if discernible).
    *   Comment on the perceived loudness and headroom. Any signs of clipping?

4.  **Stereo Image & Panning:**
    *   How wide or narrow does the mix feel?
    *   Is panning used effectively to create space and interest?
    *   Any phase issues noticeable (e.g., elements disappearing in mono)?

5.  **Effects Usage (Reverb, Delay, Modulation, etc.):**
    *   Are effects used tastefully and effectively to enhance the mix, or are they distracting/muddying?
    *   Comment on the sense of space created by reverbs/delays.

6.  **Technical Issues (If any observed):**
    *   Clipping, distortion (unintentional), noise, clicks, pops, significant phase problems.

7.  **Actionable Summary & Key Recommendations:**
    *   Summarize the top 2-3 most impactful things the user could do to improve their mix.
    *   Prioritize suggestions based on what would make the biggest positive difference.

**IMPORTANT:**
- Be encouraging and constructive.
- Use professional terminology but explain concepts clearly if they might be complex.
- Refer back to the user's specific notes/questions if they provided any.
- Provide specific examples where possible (e.g., "The snare feels a bit buried; try increasing its level by 1-2dB or adding some top-end around 5kHz for more crack.").
- Do not comment on the musical composition or performance itself, ONLY the mix quality.
`,QC=async l=>{if(!l.audioFile)return Promise.reject(new Error("No audio file provided for mix feedback."));try{const t=await XC(l.audioFile),n={text:$C(l.userNotes)},a=[t,n],o=await ar.models.generateContent({model:rr,contents:{parts:a}}),u=o.text;if(typeof u!="string")throw console.error("Received non-text response or no text from Gemini API for mix feedback. Response:",o),new Error("Received an unexpected response format from Gemini API for mix feedback.");return u}catch(t){console.error("Error generating mix feedback:",t);let n="An unknown error occurred while generating mix feedback.";return t instanceof Error&&(n=t.message,t.message.includes("API key not valid")||t.message.includes("permission")&&t.message.includes("API key")?n="Invalid API Key or insufficient permissions. Please check your API key and its configuration.":t.message.toLowerCase().includes("network error")||t.message.toLowerCase().includes("failed to fetch")?n=`Network error: Failed to connect to Gemini API. Please check your internet connection. (${t.message})`:t.message.includes("Candidate was blocked")?n="The response for mix feedback was blocked by the AI. This might be due to content policies or other restrictions. Please try again or adjust your input if possible.":t.message.includes("audio")?n=`There was an issue processing the audio file with the AI. Ensure it's a common format and not too large. (${t.message})`:n=`Failed to generate mix feedback: ${t.message}`),Promise.reject(new Error(n))}},JC=async(l,t)=>{var n,a,o,u;try{const h=`You are an AI music production assistant. Help the user with their music production questions.

${t?`
Current project context:
- Genre: ${((n=t.userInputs)==null?void 0:n.genre)||"Not specified"}
- Vibe: ${((a=t.userInputs)==null?void 0:a.vibe)||"Not specified"}
- DAW: ${((o=t.userInputs)==null?void 0:o.daw)||"Not specified"}
- Current guidebook: ${((u=t.currentGuidebook)==null?void 0:u.title)||"None"}
`:""}

User question: ${l}

Provide helpful, concise advice related to music production, mixing, sound design, or composition. Keep responses practical and actionable.`,x=await ar.models.generateContent({model:rr,contents:{parts:[{text:h}]}}),f=x.text;if(typeof f!="string")throw console.error("Received non-text response from Gemini API:",x),new Error("Received an unexpected response format from Gemini API.");return f}catch(c){console.error("Error generating AI assistant response:",c);let h="An unknown error occurred while generating response.";return c instanceof Error&&(h=c.message,c.message.includes("API key not valid")||c.message.includes("permission")&&c.message.includes("API key")?h="Invalid API Key or insufficient permissions. Please check your API key and its configuration.":c.message.toLowerCase().includes("network error")||c.message.toLowerCase().includes("failed to fetch")?h=`Network error: Failed to connect to Gemini API. Please check your internet connection. (${c.message})`:c.message.includes("Candidate was blocked")?h="The response was blocked by the AI. This might be due to content policies or other restrictions. Please try again or adjust your input if possible.":h=`Failed to generate response: ${c.message}`),Promise.reject(new Error(h))}},ZC=l=>l.mixAFile&&l.mixBFile?`You are an expert audio mixing and mastering engineer AI. The user has uploaded two audio files for comparison: "${l.mixAName}" (Mix A) and "${l.mixBName}" (Mix B).

Analyze both audio files thoroughly and provide a comprehensive comparison. Structure your response using Markdown with clear headings.

## Mix Comparison Analysis

### Overall Assessment
Compare the two mixes and identify which version is stronger overall and why.

### Key Differences Found
Analyze and compare these specific aspects between the two mixes:
- **Frequency Balance**: Compare low-end, midrange, and high-frequency content
- **Stereo Width**: Compare stereo imaging and spatial characteristics
- **Dynamic Range**: Compare compression, punch, and dynamics
- **Vocal/Lead Presence**: Compare how lead elements sit in the mix
- **Clarity and Separation**: Compare how well instruments are defined
- **Tonal Character**: Compare overall sonic character and color

### Technical Metrics Comparison
Provide estimated technical measurements for both mixes:
- **LUFS** (loudness)
- **Peak levels**
- **Stereo correlation**
- **Dynamic range**

### Recommendations
Provide specific, actionable advice on:
1. Which elements from each mix should be combined
2. Technical improvements needed
3. Processing suggestions
4. Next steps for optimization

${l.requestMixAAnalysis?`

## Full Mix A Analysis (${l.mixAName})

### Detailed Frequency Analysis
Analyze each frequency band in detail:
- **Sub Bass (20-60Hz)**
- **Bass (60-250Hz)**
- **Low Mids (250-500Hz)**
- **Mids (500Hz-2kHz)**
- **High Mids (2-5kHz)**
- **Highs (5-12kHz)**
- **Air (12kHz+)**

### Stereo Field Analysis
- **Width and imaging**
- **Center focus**
- **Panning decisions**
- **Phase correlation**

### Dynamic Analysis
- **Peak and RMS levels**
- **Dynamic range**
- **Transient response**
- **Compression characteristics**

### Instrument-Specific Analysis
Analyze how individual elements sit in the mix and suggest improvements.`:""}

${l.requestMixBAnalysis?`

## Full Mix B Analysis (${l.mixBName})

### Detailed Frequency Analysis
Analyze each frequency band in detail:
- **Sub Bass (20-60Hz)**
- **Bass (60-250Hz)**
- **Low Mids (250-500Hz)**
- **Mids (500Hz-2kHz)**
- **High Mids (2-5kHz)**
- **Highs (5-12kHz)**
- **Air (12kHz+)**

### Stereo Field Analysis
- **Width and imaging**
- **Center focus**
- **Panning decisions**
- **Phase correlation**

### Dynamic Analysis
- **Peak and RMS levels**
- **Dynamic range**
- **Transient response**
- **Compression characteristics**

### Instrument-Specific Analysis
Analyze how individual elements sit in the mix and suggest improvements.`:""}

Keep your analysis professional, detailed, and actionable. Focus on technical aspects and mixing decisions rather than musical composition.`:`You are an expert audio mixing and mastering engineer AI. The user has uploaded a single audio file: "${l.mixAName}".

Analyze the audio file thoroughly and provide comprehensive feedback. Structure your response using Markdown with clear headings.

## Mix Comparison Analysis

### Overall Assessment
Single mix analysis for: ${l.mixAName}

Provide an overall evaluation of the mix quality, balance, and technical execution.

### Mix Evaluation
Analyze these key aspects:
- **Overall Balance**: Frequency distribution and tonal balance
- **Stereo Image**: Width, imaging, and spatial characteristics
- **Dynamic Range**: Compression, punch, and dynamics
- **Tonal Balance**: Character, warmth, brightness
- **Clarity**: Separation and definition of elements

### Technical Metrics
Provide estimated technical measurements:
- **LUFS** (loudness)
- **Peak levels**
- **Stereo correlation**
- **Dynamic range**

### Recommendations
Provide specific, actionable advice for improvement:
1. **Technical improvements**
2. **Processing suggestions**
3. **Frequency adjustments**
4. **Dynamic enhancements**

${l.requestMixAAnalysis?`

## Full Single Mix Analysis (${l.mixAName})

### Detailed Frequency Analysis
Analyze each frequency band in detail:
- **Sub Bass (20-60Hz)**
- **Bass (60-250Hz)**
- **Low Mids (250-500Hz)**
- **Mids (500Hz-2kHz)**
- **High Mids (2-5kHz)**
- **Highs (5-12kHz)**
- **Air (12kHz+)**

### Stereo Field Analysis
- **Width and imaging**
- **Center focus**
- **Panning decisions**
- **Phase correlation**

### Dynamic Analysis
- **Peak and RMS levels**
- **Dynamic range**
- **Transient response**
- **Compression characteristics**

### Instrument-Specific Analysis
Analyze how individual elements sit in the mix and provide specific recommendations for each element.

### Recommendations
Provide detailed, actionable recommendations for:
1. **Peak Management**
2. **Frequency Balance**
3. **Dynamic Enhancement**
4. **Stereo Processing**
5. **Overall Polish**`:""}

Keep your analysis professional, detailed, and actionable. Focus on technical mixing aspects rather than musical composition.`,WC=async l=>{if(!l.mixAFile)return Promise.reject(new Error("No audio file provided for mix comparison."));try{const n=[{text:ZC(l)}];n.push({inlineData:{data:l.mixAFile,mimeType:"audio/mpeg"}}),l.mixBFile&&n.push({inlineData:{data:l.mixBFile,mimeType:"audio/mpeg"}});const a=await ar.models.generateContent({model:rr,contents:n});if(a.response&&a.response.text)return a.response.text();throw console.error("Received non-text response or no text from Gemini API for mix comparison. Response:",a),new Error("Received an unexpected response format from Gemini API for mix comparison.")}catch(t){console.error("Error generating mix comparison:",t);let n="An unknown error occurred while generating mix comparison.";return t.message&&(t.message.includes("API_KEY")?n="API Key issue. Please check your Gemini API configuration.":t.message.includes("SAFETY")||t.message.includes("blocked")?n="The response for mix comparison was blocked by the AI. This might be due to content policies or other restrictions. Please try again or adjust your input if possible.":t.message.includes("quota")||t.message.includes("limit")?n="API quota exceeded. Please try again later.":n=`Failed to generate mix comparison: ${t.message}`),Promise.reject(new Error(n))}},eE=(l,t,n)=>{const a=n?`${n.tempoRange[0]}-${n.tempoRange[1]} BPM`:"120-130 BPM",o=n?n.sections.join(", "):"Intro, Build-Up, Drop, Breakdown, Outro";return`You are a professional music producer assistant. The user has uploaded a track and selected the remix genre: ${t}.

Analyze the uploaded track: identify its tempo, key, harmonic progression, melodic motifs, and rhythmic feel.

Now, generate a Remix Guide that includes:

1. Suggested overall remix approach (how to transform this track into a ${t} remix).
2. Arrangement ideas  which elements to emphasize, which to strip, which to modify.
3. Sound design tips  drums, bass, synths, vocals.
4. Suggested structure (using sections like: ${o}).
5. Target tempo & key for the remix (auto-adjust as needed, typical range: ${a}).

Then, generate MIDI patterns for each section of the suggested remix structure:
- Bassline
- Drum pattern  
- Melody / Harmony
- Pads or textures (if suitable)

IMPORTANT: Return your response as a JSON object with this exact structure:
{
  "guide": "# ${t} Remix Guide\\n\\n## Analysis of Original Track\\n\\n[Your analysis here]\\n\\n## Remix Approach\\n\\n[Your approach here]\\n\\n## Arrangement Ideas\\n\\n[Your arrangement ideas]\\n\\n## Sound Design Tips\\n\\n[Your sound design tips]\\n\\n## Suggested Structure\\n\\n[Your structure suggestions]",
  "targetTempo": 128,
  "targetKey": "C minor",
  "sections": ["Intro", "Build-Up", "Drop", "Breakdown", "Outro"],
  "midiPatterns": {
    "Intro": {
      "bassline": "C2:q C2:q G1:q G1:q",
      "drums": "C1:q r:q C1:q r:q",
      "melody": "C4:h G4:h",
      "pads": "C3:w"
    },
    "Build-Up": {
      "bassline": "C2:e C2:e G1:e G1:e C2:e C2:e G1:e G1:e",
      "drums": "C1:e r:e C1:e r:e C1:e r:e C1:e r:e",
      "melody": "C4:q G4:q E4:q G4:q",
      "pads": "C3:h G3:h"
    }
  }
}

Make sure the guide is comprehensive and the MIDI patterns are appropriate for ${t}. Use proper note notation (e.g., "C4:q" for quarter note C4, "r:q" for quarter rest).`},tE=async(l,t,n)=>{var a,o;try{const u=eE(l,t,n),c=await ar.models.generateContent({model:rr,contents:[{text:u},{inlineData:{data:l,mimeType:"audio/mpeg"}}]});if(c.response&&c.response.text){const h=c.response.text();try{const x=h.match(/\{[\s\S]*\}/);return x?JSON.parse(x[0]):{guide:h,targetTempo:((a=n==null?void 0:n.tempoRange)==null?void 0:a[0])||128,targetKey:"C minor",sections:(n==null?void 0:n.sections)||["Intro","Build-Up","Drop","Breakdown","Outro"],midiPatterns:{}}}catch(x){return console.error("Error parsing JSON response:",x),{guide:h,targetTempo:((o=n==null?void 0:n.tempoRange)==null?void 0:o[0])||128,targetKey:"C minor",sections:(n==null?void 0:n.sections)||["Intro","Build-Up","Drop","Breakdown","Outro"],midiPatterns:{}}}}else throw console.error("Received non-text response from Gemini API for remix guide. Response:",c),new Error("Received an unexpected response format from Gemini API for remix guide.")}catch(u){console.error("Error generating remix guide:",u);let c="An unknown error occurred while generating remix guide.";return u.message&&(u.message.includes("API_KEY")?c="API Key issue. Please check your Gemini API configuration.":u.message.includes("SAFETY")||u.message.includes("blocked")?c="The response for remix guide was blocked by the AI. This might be due to content policies or other restrictions. Please try again or adjust your input if possible.":u.message.includes("quota")||u.message.includes("limit")?c="API quota exceeded. Please try again later.":c=`Failed to generate remix guide: ${u.message}`),Promise.reject(new Error(c))}},on=fl.forwardRef(({label:l,id:t,wrapperClassName:n,...a},o)=>m.jsxs("div",{className:n,children:[l&&m.jsx("label",{htmlFor:t,className:"block text-sm font-medium text-gray-300 mb-1",children:l}),m.jsx("input",{id:t,ref:o,...a,className:`w-full px-4 py-2 bg-gray-800 border border-gray-700 rounded-md shadow-sm placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-purple-500 text-gray-100 ${a.className||""}`})]}));on.displayName="Input";const Jl=({label:l,id:t,wrapperClassName:n,...a})=>m.jsxs("div",{className:n,children:[l&&m.jsx("label",{htmlFor:t,className:"block text-sm font-medium text-gray-300 mb-1",children:l}),m.jsx("textarea",{id:t,...a,className:`w-full px-4 py-2 bg-gray-800 border border-gray-700 rounded-md shadow-sm placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-purple-500 text-gray-100 ${a.className||""}`,rows:3})]}),ze=({children:l,variant:t="primary",size:n="md",className:a="",leftIcon:o,rightIcon:u,...c})=>{const h="inline-flex items-center justify-center font-semibold rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-gray-900 transition-colors duration-150 disabled:opacity-50 disabled:cursor-not-allowed",x={primary:"bg-purple-600 hover:bg-purple-700 text-white focus:ring-purple-500",secondary:"bg-gray-700    hover:bg-gray-600 text-gray-100 focus:ring-gray-500",outline:"border border-purple-500 text-purple-400 hover:bg-purple-500 hover:text-white focus:ring-purple-500",danger:"bg-red-600     hover:bg-red-700 text-white focus:ring-red-500"},f={sm:"px-3 py-1.5 text-sm",md:"px-4 py-2   text-base",lg:"px-6 py-3   text-lg"};return m.jsxs("button",{...c,className:`${h} ${x[t]} ${f[n]} ${a}`,children:[o&&m.jsx("span",{className:"mr-2",children:o}),l,u&&m.jsx("span",{className:"ml-2",children:u})]})},ct=({children:l,className:t="",title:n,titleClassName:a="",contentClassName:o="",...u})=>m.jsxs("div",{className:`bg-gray-800 shadow-lg rounded-lg overflow-hidden ${t}`,...u,children:[n&&m.jsx("div",{className:`px-4 py-3 border-b border-gray-700 ${a}`,children:m.jsx("h3",{className:"text-lg font-semibold text-gray-100",children:n})}),m.jsx("div",{className:`p-4 ${o}`,children:l})]}),tr=({size:l="md",color:t="text-purple-500",text:n})=>{const a={sm:"w-6 h-6",md:"w-8 h-8",lg:"w-12 h-12"};return m.jsxs("div",{className:"flex flex-col items-center justify-center",children:[m.jsx("div",{className:`animate-spin rounded-full border-t-2 border-b-2 border-transparent ${a[l]} ${t}`,style:{borderTopColor:"currentColor",borderBottomColor:"currentColor"}}),n&&m.jsx("p",{className:"mt-2 text-sm text-gray-400",children:n})]})},nE=({className:l,title:t})=>m.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:l||"w-5 h-5","aria-hidden":t?void 0:"true",role:t?"img":void 0,children:[t&&m.jsx("title",{children:t}),m.jsx("path",{fillRule:"evenodd",d:"M10.868 2.884c-.321-.772-1.415-.772-1.736 0l-1.83 4.401-4.753.381c-.833.067-1.171 1.107-.536 1.651l3.62 3.102-1.106 4.637c-.194.813.691 1.456 1.405 1.02L10 15.591l4.069 2.485c.713.436 1.598-.207 1.404-1.02l-1.106-4.637 3.62-3.102c.635-.544.297-1.584-.536-1.65l-4.752-.382-1.831-4.401z",clipRule:"evenodd"})]}),Wc=({className:l,title:t})=>m.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:l||"w-5 h-5","aria-hidden":t?void 0:"true",role:t?"img":void 0,children:[t&&m.jsx("title",{children:t}),m.jsx("path",{fillRule:"evenodd",d:"M3 17a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zm3.293-7.707a1 1 0 011.414 0L9 10.586V3a1 1 0 112 0v7.586l1.293-1.293a1 1 0 111.414 1.414l-3 3a1 1 0 01-1.414 0l-3-3a1 1 0 010-1.414z",clipRule:"evenodd"})]}),iE=({className:l,title:t})=>m.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:l||"w-5 h-5","aria-hidden":t?void 0:"true",role:t?"img":void 0,children:[t&&m.jsx("title",{children:t}),m.jsx("path",{d:"M5 4a2 2 0 012-2h6a2 2 0 012 2v10a2 2 0 01-2 2H7a2 2 0 01-2-2V4zm2 0v10h6V4H7zm5 1h-4a1 1 0 100 2h4a1 1 0 100-2z"})]}),lE=({className:l,title:t})=>m.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:l||"w-5 h-5","aria-hidden":t?void 0:"true",role:t?"img":void 0,children:[t&&m.jsx("title",{children:t}),m.jsx("path",{fillRule:"evenodd",d:"M9 2a1 1 0 00-.894.553L7.382 4H4a1 1 0 000 2v10a2 2 0 002 2h8a2 2 0 002-2V6a1 1 0 100-2h-3.382l-.724-1.447A1 1 0 0011 2H9zM7 8a1 1 0 012 0v6a1 1 0 11-2 0V8zm5-1a1 1 0 00-1 1v6a1 1 0 102 0V8a1 1 0 00-1-1z",clipRule:"evenodd"})]}),ed=({className:l,title:t})=>m.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:l||"w-6 h-6","aria-hidden":t?void 0:"true",role:t?"img":void 0,children:[t&&m.jsx("title",{children:t}),m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6.042A8.967 8.967 0 006 3.75c-1.052 0-2.062.18-3 .512v14.25A8.987 8.987 0 016 18c2.305 0 4.408.867 6 2.292m0-14.25a8.966 8.966 0 016-2.292c1.052 0 2.062.18 3 .512v14.25A8.987 8.987 0 0018 18a8.967 8.967 0 00-6 2.292m0-14.25v14.25"})]}),Zo=({className:l,title:t})=>m.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:l||"w-5 h-5","aria-hidden":t?void 0:"true",role:t?"img":void 0,children:[t&&m.jsx("title",{children:t}),m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 01-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 011.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 00-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 01-1.125-1.125v-9.25m9.75 0l-4.5-4.5m0 0l-4.5 4.5M12.75 3v4.5A2.25 2.25 0 0015 9.75h4.5"})]}),ma=({className:l,title:t})=>m.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:l||"w-5 h-5","aria-hidden":t?void 0:"true",role:t?"img":void 0,children:[t&&m.jsx("title",{children:t}),m.jsx("path",{d:"M10 3.515V11.24a3.513 3.513 0 00-1.5-.406c-1.313 0-2.388.752-2.388 1.672S7.187 14.18 8.5 14.18c1.238 0 2.263-.672 2.375-1.537h.125v-7.14c0-.313.11-.604.313-.828.202-.224.494-.344.812-.344.625 0 1.125.5 1.125 1.125V11.24a3.513 3.513 0 00-1.5-.406c-1.313 0-2.388.752-2.388 1.672S10.187 14.18 11.5 14.18c1.313 0 2.388-.752 2.388-1.672a1.675 1.675 0 00-1.078-1.543V3.515A2.625 2.625 0 0010 1C8.619 1 7.5 2.12 7.5 3.5V11.24A3.513 3.513 0 006 10.833c-1.313 0-2.388.752-2.388 1.672S4.687 14.18 6 14.18c1.237 0 2.262-.672 2.375-1.537h.125V6.125C8.5 4.5 9.125 3.515 10 3.515z"})]}),td=({className:l,title:t})=>m.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:l||"w-5 h-5","aria-hidden":t?void 0:"true",role:t?"img":void 0,children:[t&&m.jsx("title",{children:t}),m.jsx("path",{d:"M10.75 4.75a.75.75 0 00-1.5 0v4.5h-4.5a.75.75 0 000 1.5h4.5v4.5a.75.75 0 001.5 0v-4.5h4.5a.75.75 0 000-1.5h-4.5v-4.5z"})]}),Mg=({className:l,title:t})=>m.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:l||"w-5 h-5","aria-hidden":t?void 0:"true",role:t?"img":void 0,children:[t&&m.jsx("title",{children:t}),m.jsx("path",{fillRule:"evenodd",d:"M6.516 4.42A1.5 1.5 0 004 5.662v8.676a1.5 1.5 0 002.516 1.242l6.712-4.338a1.5 1.5 0 000-2.484L6.516 4.42z",clipRule:"evenodd"})]}),rE=({className:l,title:t})=>m.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:l||"w-5 h-5","aria-hidden":t?void 0:"true",role:t?"img":void 0,children:[t&&m.jsx("title",{children:t}),m.jsx("path",{fillRule:"evenodd",d:"M5 5a1 1 0 00-1 1v8a1 1 0 001 1h8a1 1 0 001-1V6a1 1 0 00-1-1H5zm0-2a3 3 0 00-3 3v8a3 3 0 003 3h8a3 3 0 003-3V6a3 3 0 00-3-3H5z",clipRule:"evenodd"})]}),_g=({className:l,isSpinning:t,title:n})=>m.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:`${l||"w-5 h-5"} ${t?"animate-spin":""}`,"aria-hidden":n?void 0:"true",role:n?"img":void 0,children:[n&&m.jsx("title",{children:n}),m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.023 9.348h4.992v-.001M2.985 19.644v-4.992m0 0h4.992m-4.993 0l3.181 3.183a8.25 8.25 0 0013.803-3.7M4.031 9.865a8.25 8.25 0 0113.803-3.7l3.181 3.182m0-4.991v4.99"})]}),aE=({className:l,title:t})=>m.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:l||"w-5 h-5","aria-hidden":t?void 0:"true",role:t?"img":void 0,children:[t&&m.jsx("title",{children:t}),m.jsx("path",{fillRule:"evenodd",d:"M18 7H2a1 1 0 00-1 1v6a1 1 0 001 1h16a1 1 0 001-1V8a1 1 0 00-1-1zM2 9.5v3h16v-3H2z",clipRule:"evenodd"}),m.jsx("path",{d:"M4 11h1v1H4v-1zm2 0h1v1H6v-1zm2 0h1v1H8v-1zm2 0h1v1h-1v-1zm2 0h1v1h-1v-1zm2 0h1v1h-1v-1z"})]}),oE=({className:l,title:t})=>m.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:l||"w-6 h-6","aria-hidden":t?void 0:"true",role:t?"img":void 0,children:[t&&m.jsx("title",{children:t}),m.jsx("rect",{x:"3.5",y:"3.5",width:"17",height:"17",rx:"2",stroke:"currentColor",fill:"none",strokeWidth:"1.5"})]}),sE=({className:l,title:t})=>m.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:l||"w-5 h-5","aria-hidden":t?void 0:"true",role:t?"img":void 0,children:[t&&m.jsx("title",{children:t}),m.jsx("path",{fillRule:"evenodd",d:"M3 3a1 1 0 011-1h12a1 1 0 011 1v12a1 1 0 01-1 1H4a1 1 0 01-1-1V3zm10.707 3.707a1 1 0 00-1.414-1.414L8 9.586 6.707 8.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l5-5z",clipRule:"evenodd"})]}),gd=({className:l,title:t})=>m.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:l||"w-6 h-6","aria-hidden":t?void 0:"true",role:t?"img":void 0,children:[t&&m.jsx("title",{children:t}),m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"})]}),Nc=({className:l,title:t})=>m.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:l||"w-6 h-6","aria-hidden":t?void 0:"true",role:t?"img":void 0,children:[t&&m.jsx("title",{children:t}),m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 16.5v2.25A2.25 2.25 0 005.25 21h13.5A2.25 2.25 0 0021 18.75V16.5m-13.5-9L12 3m0 0l4.5 4.5M12 3v13.5"})]}),pa=({className:l,title:t})=>m.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:l||"w-6 h-6","aria-hidden":t?void 0:"true",role:t?"img":void 0,children:[t&&m.jsx("title",{children:t}),m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.5 6h9.75M10.5 6a2.25 2.25 0 11-4.5 0m4.5 0a2.25 2.25 0 10-4.5 0M3.75 6H7.5m3 12h9.75m-9.75 0a2.25 2.25 0 01-4.5 0m4.5 0a2.25 2.25 0 00-4.5 0M3.75 18H7.5M10.5 12h9.75M10.5 12a2.25 2.25 0 01-4.5 0m4.5 0a2.25 2.25 0 00-4.5 0M3.75 12H7.5"})]}),uE=({className:l,title:t})=>m.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:l||"w-6 h-6","aria-hidden":t?void 0:"true",role:t?"img":void 0,children:[t&&m.jsx("title",{children:t}),m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.862 4.487l1.687-1.688a1.875 1.875 0 112.652 2.652L10.582 16.07a4.5 4.5 0 01-1.897 1.13L6 18l.8-2.685a4.5 4.5 0 011.13-1.897l8.932-8.931zm0 0L19.5 7.125M18 14v4.75A2.25 2.25 0 0115.75 21H5.25A2.25 2.25 0 013 18.75V8.25A2.25 2.25 0 015.25 6H10"})]});function cE(l){return typeof l=="number"}function dE(l){return typeof l=="string"}function fE(l){return typeof l<"u"}function hE(l,t){return Math.pow(2,(l-69)/12)*440}var mE=/^([a-gA-G])(#{1,}|b{1,}|x{1,}|)(-?\d*)\s*(.*)\s*$/,pE=[0,2,4,5,7,9,11];function gE(l,t,n){if(typeof l!="string")return null;var a=mE.exec(l);if(!a||a[4])return null;var o={letter:a[1].toUpperCase(),acc:a[2].replace(/x/g,"##")};o.pc=o.letter+o.acc,o.step=(o.letter.charCodeAt(0)+3)%7,o.alt=o.acc[0]==="b"?-o.acc.length:o.acc.length;var u=pE[o.step]+o.alt;return o.chroma=u<0?12+u:u%12,a[3]&&(o.oct=+a[3],o.midi=u+12*(o.oct+1),o.freq=hE(o.midi)),o}function yE(l){if((cE(l)||dE(l))&&l>=0&&l<128)return+l;var t=gE(l);return t&&fE(t.midi)?t.midi:null}function xE(l){return Array.isArray(l)&&l.length===2?l[0]*7+l[1]*12+12:yE(l)}var vE="C Db D Eb E F Gb G Ab A Bb B".split(" "),bE="C C# D D# E F F# G G# A A# B".split(" ");function V0(l,t){if(l===!0||l===!1)return function(u){return V0(u,l)};l=Math.round(l);var n=t===!0?bE:vE,a=n[l%12],o=Math.floor(l/12)-1;return a+o}const TE=Object.freeze(Object.defineProperty({__proto__:null,note:V0,toMidi:xE},Symbol.toStringTag,{value:"Module"})),SE=kv(TE);var Mc,Dg;function CE(){if(Dg)return Mc;Dg=1;var l=SE,t={VERSION:"2.1.4",HEADER_CHUNK_TYPE:[77,84,104,100],HEADER_CHUNK_LENGTH:[0,0,0,6],HEADER_CHUNK_FORMAT0:[0,0],HEADER_CHUNK_FORMAT1:[0,1],HEADER_CHUNK_DIVISION:[0,128],TRACK_CHUNK_TYPE:[77,84,114,107],META_EVENT_ID:255,META_TEXT_ID:1,META_COPYRIGHT_ID:2,META_TRACK_NAME_ID:3,META_INSTRUMENT_NAME_ID:4,META_LYRIC_ID:5,META_MARKER_ID:6,META_CUE_POINT:7,META_TEMPO_ID:81,META_SMTPE_OFFSET:84,META_TIME_SIGNATURE_ID:88,META_KEY_SIGNATURE_ID:89,META_END_OF_TRACK_ID:[47,0],CONTROLLER_CHANGE_STATUS:176,PITCH_BEND_STATUS:224};function n(B){"@babel/helpers - typeof";return n=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(N){return typeof N}:function(N){return N&&typeof Symbol=="function"&&N.constructor===Symbol&&N!==Symbol.prototype?"symbol":typeof N},n(B)}function a(){a=function(R,j){return new M(R,void 0,j)};var B=RegExp.prototype,N=new WeakMap;function M(R,j,w){var J=new RegExp(R,j);return N.set(J,w||N.get(R)),x(J,M.prototype)}function T(R,j){var w=N.get(j);return Object.keys(w).reduce(function(J,oe){return J[oe]=R[w[oe]],J},Object.create(null))}return h(M,RegExp),M.prototype.exec=function(R){var j=B.exec.call(this,R);return j&&(j.groups=T(j,this)),j},M.prototype[Symbol.replace]=function(R,j){if(typeof j=="string"){var w=N.get(this);return B[Symbol.replace].call(this,R,j.replace(/\$<([^>]+)>/g,function(oe,I){return"$"+w[I]}))}if(typeof j=="function"){var J=this;return B[Symbol.replace].call(this,R,function(){var oe=arguments;return typeof oe[oe.length-1]!="object"&&(oe=[].slice.call(oe)).push(T(oe,J)),j.apply(this,oe)})}return B[Symbol.replace].call(this,R,j)},a.apply(this,arguments)}function o(B,N){if(!(B instanceof N))throw new TypeError("Cannot call a class as a function")}function u(B,N){for(var M=0;M<N.length;M++){var T=N[M];T.enumerable=T.enumerable||!1,T.configurable=!0,"value"in T&&(T.writable=!0),Object.defineProperty(B,T.key,T)}}function c(B,N,M){return N&&u(B.prototype,N),M&&u(B,M),Object.defineProperty(B,"prototype",{writable:!1}),B}function h(B,N){if(typeof N!="function"&&N!==null)throw new TypeError("Super expression must either be null or a function");B.prototype=Object.create(N&&N.prototype,{constructor:{value:B,writable:!0,configurable:!0}}),Object.defineProperty(B,"prototype",{writable:!1}),N&&x(B,N)}function x(B,N){return x=Object.setPrototypeOf||function(T,R){return T.__proto__=R,T},x(B,N)}var f=function(){function B(){o(this,B)}return c(B,null,[{key:"version",value:function(){return t.VERSION}},{key:"stringToBytes",value:function(M){return M.split("").map(function(T){return T.charCodeAt()})}},{key:"isNumeric",value:function(M){return!isNaN(parseFloat(M))&&isFinite(M)}},{key:"getPitch",value:function(M){var T=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"C4";return 60-l.toMidi(T)+l.toMidi(M)}},{key:"numberToVariableLength",value:function(M){M=Math.round(M);for(var T=M&127;M=M>>7;)T<<=8,T|=M&127|128;for(var R=[];R.push(T&255),T&128;)T>>=8;return R}},{key:"stringByteCount",value:function(M){return encodeURI(M).split(/%..|./).length-1}},{key:"numberFromBytes",value:function(M){var T="",R;return M.forEach(function(j){R=j.toString(16),R.length==1&&(R="0"+R),T+=R}),parseInt(T,16)}},{key:"numberToBytes",value:function(M,T){T=T||1;var R=M.toString(16);R.length&1&&(R="0"+R);var j=R.match(/.{2}/g);if(j=j.map(function(w){return parseInt(w,16)}),j.length<T)for(;T-j.length>0;)j.unshift(0);return j}},{key:"toArray",value:function(M){return Array.isArray(M)?M:[M]}},{key:"convertVelocity",value:function(M){return M=M>100?100:M,Math.round(M/100*127)}},{key:"getTickDuration",value:function(M){if(Array.isArray(M))return M.map(function(w){return B.getTickDuration(w)}).reduce(function(w,J){return w+J},0);if(M=M.toString(),M.toLowerCase().charAt(0)==="t"){var T=parseInt(M.substring(1));if(isNaN(T)||T<0)throw new Error(M+" is not a valid duration.");return T}var R=B.numberFromBytes(t.HEADER_CHUNK_DIVISION),j=R*B.getDurationMultiplier(M);return B.getRoundedIfClose(j)}},{key:"getRoundedIfClose",value:function(M){var T=Math.round(M);return Math.abs(T-M)<1e-6?T:M}},{key:"getPrecisionLoss",value:function(M){var T=Math.round(M);return T-M}},{key:"getDurationMultiplier",value:function(M){if(M==="0")return 0;var T=M.match(a(/^(d+)?(\d+)(?:t(\d*))?/,{dotted:1,base:2,tuplet:3}));if(T){var R=Number(T.groups.base),j=R===1||(R&R-1)===0;if(j){var w=R/4,J=1/w,oe=T.groups,I=oe.dotted,me=oe.tuplet;if(I){var ue=I.length,Ae=Math.pow(2,ue);J=J+J*((Ae-1)/Ae)}if(typeof me=="string"){var De=J*2,Be=Number(me||"3");J=De/Be}return J}}throw new Error(M+" is not a valid duration.")}}]),B}(),v=c(function B(N){o(this,B),N=Object.assign({delta:0},N),this.type="controller",this.data=f.numberToVariableLength(N.delta).concat(t.CONTROLLER_CHANGE_STATUS,N.controllerNumber,N.controllerValue)}),b=c(function B(N){o(this,B),N=Object.assign({delta:0},N),this.type="cue-point";var M=f.stringToBytes(N.text);this.data=f.numberToVariableLength(N.delta).concat(t.META_EVENT_ID,t.META_CUE_POINT,f.numberToVariableLength(M.length),M)}),E=c(function B(N){o(this,B),N=Object.assign({delta:0},N),this.type="end-track",this.data=f.numberToVariableLength(N.delta).concat(t.META_EVENT_ID,t.META_END_OF_TRACK_ID)}),C=c(function B(N){o(this,B),N=Object.assign({delta:0},N),this.type="instrument-name";var M=f.stringToBytes(N.text);this.data=f.numberToVariableLength(N.delta).concat(t.META_EVENT_ID,t.META_INSTRUMENT_NAME_ID,f.numberToVariableLength(M.length),M)}),D=c(function B(N,M){o(this,B),this.type="key-signature";var T=M||0;if(N=N||0,typeof M>"u"){var R=[["Cb","Gb","Db","Ab","Eb","Bb","F","C","G","D","A","E","B","F#","C#"],["ab","eb","bb","f","c","g","d","a","e","b","f#","c#","g#","d#","a#"]],j=N.length,w=N||"C";if(N[0]===N[0].toLowerCase()&&(T=1),j>1)switch(N.charAt(j-1)){case"m":T=1,w=N.charAt(0).toLowerCase(),w=w.concat(N.substring(1,j-1));break;case"-":T=1,w=N.charAt(0).toLowerCase(),w=w.concat(N.substring(1,j-1));break;case"M":T=0,w=N.charAt(0).toUpperCase(),w=w.concat(N.substring(1,j-1));break;case"+":T=0,w=N.charAt(0).toUpperCase(),w=w.concat(N.substring(1,j-1));break}var J=R[T].indexOf(w);N=J===-1?0:J-7}this.data=f.numberToVariableLength(0).concat(t.META_EVENT_ID,t.META_KEY_SIGNATURE_ID,[2],f.numberToBytes(N,1),f.numberToBytes(T,1))}),U=c(function B(N){o(this,B),N=Object.assign({delta:0},N),this.type="lyric";var M=f.stringToBytes(N.text);this.data=f.numberToVariableLength(N.delta).concat(t.META_EVENT_ID,t.META_LYRIC_ID,f.numberToVariableLength(M.length),M)}),F=c(function B(N){o(this,B),N=Object.assign({delta:0},N),this.type="marker";var M=f.stringToBytes(N.text);this.data=f.numberToVariableLength(N.delta).concat(t.META_EVENT_ID,t.META_MARKER_ID,f.numberToVariableLength(M.length),M)}),L=function(){function B(N){o(this,B),N=Object.assign({channel:1,startTick:null,velocity:50,wait:0},N),this.type="note-on",this.channel=N.channel,this.pitch=N.pitch,this.wait=N.wait,this.velocity=N.velocity,this.startTick=N.startTick,this.tick=null,this.delta=null,this.data=N.data}return c(B,[{key:"buildData",value:function(M,T){var R=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this.data=[],this.startTick?(this.tick=f.getRoundedIfClose(this.startTick),M.tickPointer==0&&(this.delta=this.tick)):(this.delta=f.getTickDuration(this.wait),this.tick=f.getRoundedIfClose(M.tickPointer+this.delta)),this.deltaWithPrecisionCorrection=f.getRoundedIfClose(this.delta-T),this.data=f.numberToVariableLength(this.deltaWithPrecisionCorrection).concat(this.getStatusByte(),f.getPitch(this.pitch,R.middleC),f.convertVelocity(this.velocity)),this}},{key:"getStatusByte",value:function(){return 144+this.channel-1}}]),B}(),Y=function(){function B(N){o(this,B),N=Object.assign({channel:1,velocity:50,tick:null},N),this.type="note-off",this.channel=N.channel,this.pitch=N.pitch,this.duration=N.duration,this.velocity=N.velocity,this.tick=N.tick,this.delta=f.getTickDuration(this.duration),this.data=N.data}return c(B,[{key:"buildData",value:function(M,T){var R=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this.tick===null&&(this.tick=f.getRoundedIfClose(this.delta+M.tickPointer)),this.deltaWithPrecisionCorrection=f.getRoundedIfClose(this.delta-T),this.data=f.numberToVariableLength(this.deltaWithPrecisionCorrection).concat(this.getStatusByte(),f.getPitch(this.pitch,R.middleC),f.convertVelocity(this.velocity)),this}},{key:"getStatusByte",value:function(){return 128+this.channel-1}}]),B}(),$=function(){function B(N){o(this,B),N=Object.assign({channel:1,repeat:1,sequential:!1,startTick:null,velocity:50,wait:0},N),this.data=[],this.type="note",this.pitch=f.toArray(N.pitch),this.channel=N.channel,this.duration=N.duration,this.grace=N.grace,this.repeat=N.repeat,this.sequential=N.sequential,this.startTick=N.startTick,this.velocity=N.velocity,this.wait=N.wait,this.tickDuration=f.getTickDuration(this.duration),this.restDuration=f.getTickDuration(this.wait),this.events=[]}return c(B,[{key:"buildData",value:function(){var M=this;if(this.data=[],this.grace){var T=1;this.grace=f.toArray(this.grace),this.grace.forEach(function(){var w=new B({pitch:M.grace,duration:"T"+T});M.data=M.data.concat(w.data)})}if(this.sequential)for(var j=0;j<this.repeat;j++)this.pitch.forEach(function(w,J){var oe=new L({channel:M.channel,wait:J>0?0:M.wait,velocity:M.velocity,pitch:w,startTick:M.startTick}),I=new Y({channel:M.channel,duration:M.duration,velocity:M.velocity,pitch:w});M.events.push(oe,I)});else for(var R=0;R<this.repeat;R++)this.pitch.forEach(function(w,J){var oe;J==0?oe=new L({channel:M.channel,wait:M.wait,velocity:M.velocity,pitch:w,startTick:M.startTick}):oe=new L({channel:M.channel,wait:0,velocity:M.velocity,pitch:w,startTick:M.startTick}),M.events.push(oe)}),this.pitch.forEach(function(w,J){var oe;J==0?oe=new Y({channel:M.channel,duration:M.duration,velocity:M.velocity,pitch:w,tick:M.startTick!==null?f.getTickDuration(M.duration)+M.startTick:null}):oe=new Y({channel:M.channel,duration:0,velocity:M.velocity,pitch:w,tick:M.startTick!==null?f.getTickDuration(M.duration)+M.startTick:null}),M.events.push(oe)});return this}}]),B}(),Z=function(N){return N<=0?Math.floor(16384*(N+1)/2):Math.floor(16383*(N+1)/2)},ne=c(function B(N){o(this,B),N=Object.assign({delta:0},N),this.type="pitch-bend";var M=Z(N.bend),T=N.channel||0,R=M&127,j=M>>7&127;this.data=f.numberToVariableLength(N.delta).concat(t.PITCH_BEND_STATUS|T,R,j)}),K=function(){function B(N){o(this,B),this.fields=Object.assign({channel:1,delta:0},N),this.type="program",this.data=f.numberToVariableLength(this.fields.delta).concat(this.getStatusByte(),this.fields.instrument)}return c(B,[{key:"getStatusByte",value:function(){return 192+this.fields.channel-1}}]),B}(),fe=c(function B(N){o(this,B),N=Object.assign({delta:0},N),this.type="tempo",this.tick=N.tick;var M=Math.round(6e7/N.bpm);this.data=f.numberToVariableLength(N.delta).concat(t.META_EVENT_ID,t.META_TEMPO_ID,[3],f.numberToBytes(M,3))}),ve=c(function B(N){o(this,B),N=Object.assign({delta:0},N),this.type="text";var M=f.stringToBytes(N.text);this.data=f.numberToVariableLength(N.delta).concat(t.META_EVENT_ID,t.META_TEXT_ID,f.numberToVariableLength(M.length),M)}),xe=c(function B(N,M,T,R){o(this,B),this.type="time-signature",this.data=f.numberToVariableLength(0).concat(t.META_EVENT_ID,t.META_TIME_SIGNATURE_ID,[4],f.numberToBytes(N,1),f.numberToBytes(Math.log2(M),1),f.numberToBytes(T||24,1),f.numberToBytes(R||8,1))}),pe=c(function B(N){o(this,B),N=Object.assign({delta:0},N),this.type="copyright";var M=f.stringToBytes(N.text);this.data=f.numberToVariableLength(N.delta).concat(t.META_EVENT_ID,t.META_COPYRIGHT_ID,f.numberToVariableLength(M.length),M)}),ce=c(function B(N){o(this,B),N=Object.assign({delta:0},N),this.type="track-name";var M=f.stringToBytes(N.text);this.data=f.numberToVariableLength(N.delta).concat(t.META_EVENT_ID,t.META_TRACK_NAME_ID,f.numberToVariableLength(M.length),M)}),se=function(){function B(){o(this,B),this.type=t.TRACK_CHUNK_TYPE,this.data=[],this.size=[],this.events=[],this.explicitTickEvents=[],this.tickPointer=0}return c(B,[{key:"addEvent",value:function(M,T){var R=this;return f.toArray(M).forEach(function(j,w){if(j instanceof $){if(typeof T=="function"){var J=T(w,j);if(n(J)==="object")for(var oe in J)switch(oe){case"channel":j.channel=J[oe];break;case"duration":j.duration=J[oe];break;case"sequential":j.sequential=J[oe];break;case"velocity":j.velocity=f.convertVelocity(J[oe]);break}}j.startTick!==null?R.explicitTickEvents.push(j):j.buildData().events.forEach(function(I){return R.events.push(I)})}else j instanceof E&&R.removeEventsByType("end-track"),R.events.push(j)}),this}},{key:"buildData",value:function(){var M=this,T=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};(!this.events.length||!(this.events[this.events.length-1]instanceof E))&&this.addEvent(new E),this.data=[],this.size=[],this.tickPointer=0;var R=0;return this.events.forEach(function(j){if(j instanceof L||j instanceof Y){var w=j.buildData(M,R,T);R=f.getPrecisionLoss(j.deltaWithPrecisionCorrection||0),M.data=M.data.concat(w.data),M.tickPointer=f.getRoundedIfClose(j.tick)}else j instanceof fe&&(M.tickPointer=f.getRoundedIfClose(j.tick)),M.data=M.data.concat(j.data)}),this.mergeExplicitTickEvents(),this.size=f.numberToBytes(this.data.length,4),this}},{key:"mergeExplicitTickEvents",value:function(){var M=this;this.explicitTickEvents.length&&(this.explicitTickEvents.sort(function(T,R){return T.startTick-R.startTick}),this.explicitTickEvents.forEach(function(T){T.buildData().events.forEach(function(R){return R.buildData(M)}),T.events.forEach(function(R){return M.mergeSingleEvent(R)})}),this.explicitTickEvents=[],this.buildData())}},{key:"mergeTrack",value:function(M){var T=this;this.buildData(),M.buildData().events.forEach(function(R){return T.mergeSingleEvent(R)})}},{key:"mergeSingleEvent",value:function(M){if(!this.events.length){this.addEvent(M);return}for(var T,R=0;R<this.events.length&&!(this.events[R].tick>M.tick);R++)T=R;var j=T+1;M.delta=M.tick-this.events[T].tick,this.events.splice(j,0,M);for(var w=j+1;w<this.events.length;w++)this.events[w].delta=this.events[w].tick-this.events[w-1].tick}},{key:"removeEventsByType",value:function(M){var T=this;return this.events.forEach(function(R,j){R.type===M&&T.events.splice(j,1)}),this}},{key:"setTempo",value:function(M){var T=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return this.addEvent(new fe({bpm:M,tick:T}))}},{key:"setTimeSignature",value:function(M,T,R,j){return this.addEvent(new xe(M,T,R,j))}},{key:"setKeySignature",value:function(M,T){return this.addEvent(new D(M,T))}},{key:"addText",value:function(M){return this.addEvent(new ve({text:M}))}},{key:"addCopyright",value:function(M){return this.addEvent(new pe({text:M}))}},{key:"addTrackName",value:function(M){return this.addEvent(new ce({text:M}))}},{key:"addInstrumentName",value:function(M){return this.addEvent(new C({text:M}))}},{key:"addMarker",value:function(M){return this.addEvent(new F({text:M}))}},{key:"addCuePoint",value:function(M){return this.addEvent(new b({text:M}))}},{key:"addLyric",value:function(M){return this.addEvent(new U({text:M}))}},{key:"polyModeOn",value:function(){var M=new L({data:[0,176,126,0]});return this.addEvent(M)}},{key:"setPitchBend",value:function(M){return this.addEvent(new ne({bend:M}))}},{key:"controllerChange",value:function(M,T){return this.addEvent(new v({controllerNumber:M,controllerValue:T}))}}]),B}(),he=function(){function B(){o(this,B)}return c(B,[{key:"trackFromVoice",value:function(M){var T=this,R=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{addRenderedAccidentals:!1},j=new se,w=[];return M.tickables.forEach(function(J){J.noteType==="n"?(j.addEvent(new $({pitch:J.keys.map(function(oe,I){return T.convertPitch(oe,I,J,R.addRenderedAccidentals)}),duration:T.convertDuration(J),wait:w})),w=[]):J.noteType==="r"&&w.push(T.convertDuration(J))}),w.length>0&&j.addEvent(new $({pitch:"[c4]",duration:"0",wait:w,velocity:"0"})),j}},{key:"convertPitch",value:function(M,T,R){var j=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1,w=M.split("/"),J=w[0].substring(1).replace("n","");if(j){var oe;(oe=R.getAccidentals())===null||oe===void 0||oe.forEach(function(I){I.index===T&&(I.type==="n"?J="":J+=I.type)})}return w[0][0]+J+w[1]}},{key:"convertDuration",value:function(M){return"d".repeat(M.dots)+this.convertBaseDuration(M.duration)+(M.tuplet?"t"+M.tuplet.num_notes:"")}},{key:"convertBaseDuration",value:function(M){switch(M){case"w":return"1";case"h":return"2";case"q":return"4";default:return M}}}]),B}(),ae=c(function B(N){o(this,B),this.type=t.HEADER_CHUNK_TYPE;var M=N>1?t.HEADER_CHUNK_FORMAT1:t.HEADER_CHUNK_FORMAT0;this.data=M.concat(f.numberToBytes(N,2),t.HEADER_CHUNK_DIVISION),this.size=[0,0,0,this.data.length]}),de=function(){function B(N){var M=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};o(this,B),this.tracks=f.toArray(N),this.options=M}return c(B,[{key:"buildData",value:function(){var M=this,T=[];return T.push(new ae(this.tracks.length)),this.tracks.forEach(function(R){T.push(R.buildData(M.options))}),T}},{key:"buildFile",value:function(){var M=[];return this.buildData().forEach(function(T){return M=M.concat(T.type,T.size,T.data)}),new Uint8Array(M)}},{key:"base64",value:function(){return typeof btoa=="function"?btoa(String.fromCharCode.apply(null,this.buildFile())):Buffer.from(this.buildFile()).toString("base64")}},{key:"dataUri",value:function(){return"data:audio/midi;base64,"+this.base64()}},{key:"setOption",value:function(M,T){return this.options[M]=T,this}},{key:"stdout",value:function(){return process.stdout.write(Buffer.from(this.buildFile()))}}]),B}(),P={Constants:t,ControllerChangeEvent:v,CuePointEvent:b,EndTrackEvent:E,InstrumentNameEvent:C,KeySignatureEvent:D,LyricEvent:U,MarkerEvent:F,NoteOnEvent:L,NoteOffEvent:Y,NoteEvent:$,PitchBendEvent:ne,ProgramChangeEvent:K,TempoEvent:fe,TextEvent:ve,TimeSignatureEvent:xe,Track:se,TrackNameEvent:ce,Utils:f,VexFlow:he,Writer:de};return Mc=P,Mc}var EE=CE();const Pn=Sa(EE),Go=l=>{if(!Pn.Track)return null;const t=new Pn.Track;return t.addTrackName(l),t},_c=(l,t,n,a=!1)=>{!Pn.NoteEvent||!t||t.length===0||!l||t.forEach(o=>{let u=[];if(a)u=o.notes.map(h=>h.midi).filter(h=>typeof h=="number");else{const c=o;typeof c.midi=="number"&&(u=[c.midi])}if(u.length>0){const c=Math.round(o.duration*128),h=Math.round(o.time*128),x=u.map(f=>{const v=["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"],b=Math.floor(f/12)-1;return`${v[f%12]}${b}`});l.addEvent(new Pn.NoteEvent({pitch:x.length===1?x[0]:x,duration:`T${c}`,startTick:h,velocity:o.velocity||(a?90:100),channel:n}))}})},wE=(l,t)=>{!Pn.NoteEvent||!t||Object.keys(t).length===0||!l||Object.entries(t).forEach(([n,a])=>{const o=n.toLowerCase().replace(/\s+/g,"_"),u=ls[o]||ls[n];typeof u!="number"||!a||a.forEach(c=>{const h=Math.round(c.duration*128),x=Math.round(c.time*128),f=["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"],v=Math.floor(u/12)-1,E=`${f[u%12]}${v}`;l.addEvent(new Pn.NoteEvent({pitch:E,duration:`T${h}`,startTick:x,velocity:c.velocity||100,channel:10}))})})},Ig=(l,t,n="TrackGuide")=>{if(!Pn||!Pn.Writer||!Pn.Track||!Pn.NoteEvent)return console.error("MidiWriterJS components (Writer, Track, NoteEvent) are not loaded. Cannot generate MIDI file."),null;const a=[];let o=!1;const u=h=>(h&&(h.setTempo(t.tempo,0),h.setTimeSignature(t.timeSignature[0],t.timeSignature[1])),h);if(l.chords&&l.chords.length>0){let h=Go(`${n} Chords`);h=u(h),h&&(_c(h,l.chords,1,!0),a.push(h),o=!0)}if(l.bassline&&l.bassline.length>0){let h=Go(`${n} Bassline`);h=u(h),h&&(_c(h,l.bassline,2,!1),a.push(h),o=!0)}if(l.melody&&l.melody.length>0){let h=Go(`${n} Melody`);h=u(h),h&&(_c(h,l.melody,3,!1),a.push(h),o=!0)}if(l.drums&&Object.keys(l.drums).length>0){let h=Go(`${n} Drums`);h=u(h),h&&(wE(h,l.drums),a.push(h),o=!0)}return o?new Pn.Writer(a).dataUri():(console.warn("No patterns to write to MIDI file."),null)},Rg=(l,t)=>{if(!l){console.error("MIDI data URI is null or empty. Cannot download."),alert("Failed to generate MIDI data for download.");return}const n=document.createElement("a");n.href=l,n.download=t,document.body.appendChild(n),n.click(),document.body.removeChild(n)};let zi=null,Vi=[],rs=null,Wo=null,as=0,ga=0,er=!1;const yd=()=>((!zi||zi.state==="closed")&&(zi=new(window.AudioContext||window.webkitAudioContext),rs=zi.createGain(),rs.connect(zi.destination)),zi.state==="suspended"&&zi.resume(),zi),dl=(l,t)=>l/t*60,Dc=(l,t,n,a=100,o=!1,u,c)=>{const h=yd();if(!rs||!c)return;const x=as+ga*P0()+t;if(x<h.currentTime-.05)return;const f=h.createGain(),v=a/127*(o?.75:.35);let b=v;if(f.gain.setValueAtTime(b,x),b>1e-4)try{f.gain.exponentialRampToValueAtTime(1e-4,x+n)}catch{f.gain.linearRampToValueAtTime(1e-4,x+n)}f.connect(rs);let E;if(o)if(u==="kick"){const C=h.createOscillator();C.type="sine",C.frequency.setValueAtTime(150,x),C.frequency.exponentialRampToValueAtTime(50,x+Math.min(n,.12));const D=h.createGain();D.gain.setValueAtTime(1,x),D.gain.exponentialRampToValueAtTime(.001,x+n),C.connect(D).connect(f),C.start(x),C.stop(x+n),Vi.push({node:C,controlGainNode:f,trackType:c,intendedVolume:v,scheduledStopTime:x+n,isDrum:!0});return}else{E=h.createBufferSource();const C=Math.max(1,Math.floor(h.sampleRate*n)),D=h.createBuffer(1,C,h.sampleRate),U=D.getChannelData(0);if(u==="snare"||u==="clap")for(let F=0;F<C;F++)U[F]=(Math.random()*2-1)*Math.exp(-F/(h.sampleRate*.05));else if(u&&(u.includes("hat")||u.includes("cymbal")||u.includes("shaker"))){const F=u.includes("hat")?5e3:u.includes("shaker")?7e3:3e3,L=u.includes("hat")?.03:u.includes("shaker")?.02:.25;for(let Y=0;Y<C;Y++)U[Y]=(Math.random()*2-1)*Math.exp(-Y/(h.sampleRate*L))*Math.sin(2*Math.PI*F*(Y/h.sampleRate)*(1+Math.random()*.3))}else{const F=h.createOscillator();F.type="sine",F.frequency.setValueAtTime(200+Math.random()*150,x),F.frequency.exponentialRampToValueAtTime(100,x+n*.8);const L=h.createGain();L.gain.setValueAtTime(.9,x),L.gain.exponentialRampToValueAtTime(.001,x+n),F.connect(L).connect(f),F.start(x),F.stop(x+n),Vi.push({node:F,controlGainNode:f,trackType:c,intendedVolume:v,scheduledStopTime:x+n,isDrum:!0});return}E.buffer=D}else{E=h.createOscillator(),E.type="sawtooth";const C=440*Math.pow(2,(l-69)/12);E.frequency.setValueAtTime(C,x)}E.connect(f),E.start(x),E.stop(x+n),Vi.push({node:E,controlGainNode:f,trackType:c,intendedVolume:v,scheduledStopTime:x+n,isDrum:o})};let nd=null;const P0=()=>{if(!nd)throw new Error("Settings not available for loop duration calculation.");const{tempo:l,bars:t,timeSignature:n}=nd,a=n[0]*(4/n[1]);return dl(t*a,l)},kg=(l,t,n)=>{H0(!1),er=!0,ga=0,nd={...t};const a=yd();as=a.currentTime,Vi=[];const o=P0();if(o<=0){console.error("Loop duration is zero or negative. Cannot play."),er=!1;return}function u(){if(!er)return;const c=a.currentTime;Vi=Vi.filter(v=>v.scheduledStopTime>c||!v.node);const h=t.tempo,x=(v,b)=>{b&&(v==="drums"&&typeof b=="object"&&!Array.isArray(b)?Object.entries(b).forEach(([E,C])=>{const D=E.toLowerCase().replace(/\s+/g,"_"),U=ls[D]||ls[E];typeof U!="number"||!C||C.forEach(F=>{Dc(U,dl(F.time,h),dl(F.duration,h),F.velocity,!0,D,v)})}):Array.isArray(b)&&b.forEach(E=>{"notes"in E?E.notes.forEach(D=>{typeof D.midi=="number"&&Dc(D.midi,dl(E.time,h),dl(E.duration,h),E.velocity,!1,void 0,v)}):typeof E.midi=="number"&&Dc(E.midi,dl(E.time,h),dl(E.duration,h),E.velocity,!1,void 0,v)}))};if((n?[n]:["chords","bassline","melody","drums"]).forEach(v=>{switch(v){case"chords":l.chords&&x("chords",l.chords);break;case"bassline":l.bassline&&x("bassline",l.bassline);break;case"melody":l.melody&&x("melody",l.melody);break;case"drums":l.drums&&x("drums",l.drums);break}}),er){const v=as+(ga+1)*o;let b=(v-a.currentTime)*1e3;b<0&&(console.warn(`Loop drift detected. Next loop scheduled with minimal delay. Ideal: ${v}, Current: ${a.currentTime}`),b=10),Wo=window.setTimeout(()=>{er&&(ga++,u())},b)}}u()},Vn=()=>{er=!1,H0(!0)},H0=l=>{Wo!==null&&(clearTimeout(Wo),Wo=null),Vi.forEach(t=>{try{t.node&&(t.node.stop(),t.node.disconnect()),t.controlGainNode&&t.controlGainNode.disconnect()}catch{}}),Vi=[],l&&(ga=0,as=0)},oa=async()=>{try{const l=yd();l.state==="suspended"&&await l.resume()}catch(l){console.error("Failed to initialize audio context:",l)}},AE=async l=>new Promise((t,n)=>{const a=new FileReader;a.onload=()=>{if(a.result&&typeof a.result=="string"){const o=a.result.split(",")[1];t(o)}else n(new Error("Failed to read file"))},a.onerror=()=>n(new Error("File reading failed")),a.readAsDataURL(l)}),cl=l=>{if(!l)return"General musical context. Focus on genre and vibe.";const t=l.indexOf("## 3. Instrument & Sound Design Guide"),n=t>0?t:l.indexOf("## 2. Structural Blueprint")>0?l.indexOf("## 2. Structural Blueprint"):1500;return l.substring(0,Math.min(n,l.length))},NE=l=>{const t=l.match(/^([A-G][#b]?)/);return t?t[1]:"C"},ME=l=>{const t=NE(l);return Ng[t]||Ng.C},sa=[1,2,4,8,16,32],q0=({currentGuidebookEntry:l,mainAppInputs:t,onUpdateGuidebookEntryMidi:n,parsedGuidebookBpm:a,parsedGuidebookKey:o,parsedGuidebookChordProg:u,initialPatterns:c,sections:h,targetTempo:x,targetKey:f,isRemixMode:v=!1})=>{var J,oe;const[b,E]=be.useState(()=>{var Ye;if(v)return{...Qe,key:f||Qe.key,tempo:x||Qe.tempo,genre:"Electronic",songSection:(h==null?void 0:h[0])||Qe.songSection,guidebookContext:`Remix mode for ${f||"C minor"} at ${x||128} BPM`,targetInstruments:["Bassline","Drums","Melody","Pads"],bars:8};if(l!=null&&l.midiSettings)return{...l.midiSettings,bars:sa.includes(l.midiSettings.bars)?l.midiSettings.bars:Qe.bars,songSection:l.midiSettings.songSection||Qe.songSection,targetInstruments:l.midiSettings.targetInstruments&&l.midiSettings.targetInstruments.length>0?l.midiSettings.targetInstruments:[...Qe.targetInstruments],guidebookContext:l.midiSettings.guidebookContext||cl(l.content)};const I=((Ye=l==null?void 0:l.genre)==null?void 0:Ye[0])||(t==null?void 0:t.genre[0])||Qe.genre,me=cl((l==null?void 0:l.content)||""),ue=Ln[I]||Ln.Default,Ae=Math.round((ue[0]+ue[1])/2),De=Qe.songSection;let Be=Qe.bars;const je=De.toLowerCase();return je.includes("intro")||je.includes("outro")||je.includes("fill")||je.includes("breakdown")?Be=4:Be=8,Be=sa.includes(Be)?Be:Qe.bars,{...Qe,genre:I,key:o||Qe.key,tempo:a||Ae,chordProgression:u||(kn[I]||kn.Default)[0],guidebookContext:me,targetInstruments:[...Qe.targetInstruments],songSection:De,bars:Be}}),[C,D]=be.useState(()=>{if(v&&c){const I={};return Object.entries(c).forEach(([me,ue])=>{Object.entries(ue).forEach(([Ae,De])=>{const Be=`${me}_${Ae}`;typeof De!="string"&&(I[Be]=De)})}),I}return(l==null?void 0:l.generatedMidiPatterns)||null}),[U,F]=be.useState(!1),[L,Y]=be.useState(""),[$,Z]=be.useState(null),[ne,K]=be.useState(!1),fe=be.useRef(ne);be.useEffect(()=>{fe.current=ne},[ne]);const[ve,xe]=be.useState(!1);be.useEffect(()=>{var me;let I;if(l!=null&&l.midiSettings)I=l.midiSettings.bars||Qe.bars,E({...l.midiSettings,bars:sa.includes(I)?I:Qe.bars,songSection:l.midiSettings.songSection||Qe.songSection,targetInstruments:l.midiSettings.targetInstruments&&l.midiSettings.targetInstruments.length>0?l.midiSettings.targetInstruments:[...Qe.targetInstruments],guidebookContext:l.midiSettings.guidebookContext||cl(l.content)});else{const ue=((me=l==null?void 0:l.genre)==null?void 0:me[0])||(t==null?void 0:t.genre[0])||Qe.genre,Ae=cl((l==null?void 0:l.content)||""),De=Ln[ue]||Ln.Default,Be=Math.round((De[0]+De[1])/2),je=Qe.songSection;let Ye=Qe.bars;const et=je.toLowerCase();et.includes("intro")||et.includes("outro")||et.includes("fill")||et.includes("breakdown")?Ye=4:Ye=8,I=sa.includes(Ye)?Ye:Qe.bars,E({...Qe,key:o||Qe.key,tempo:a||Be,chordProgression:u||(kn[ue]||kn.Default)[0],genre:ue,guidebookContext:Ae,targetInstruments:[...Qe.targetInstruments],songSection:je,bars:I})}D((l==null?void 0:l.generatedMidiPatterns)||null),Z(null),fe.current&&(Vn(),K(!1))},[l,t==null?void 0:t.genre,a,o,u]);const pe=(I,me)=>{E(ue=>{const Ae={...ue,[I]:me};if(I==="genre"){const De=me,Be=(kn[ue.genre]||kn.Default)[0];ue.chordProgression===Be&&(Ae.chordProgression=(kn[De]||kn.Default)[0]);const je=Ln[ue.genre]||Ln.Default,Ye=Math.round((je[0]+je[1])/2);if(ue.tempo===Ye){const et=Ln[De]||Ln.Default;Ae.tempo=Math.round((et[0]+et[1])/2)}}return l!=null&&l.content&&(Ae.guidebookContext=cl(l.content)),Ae})},ce=I=>{E(me=>{const ue=me.targetInstruments,Ae=ue.includes(I)?ue.filter(De=>De!==I):[...ue,I];return{...me,targetInstruments:Ae}})},se=async()=>{var De;F(!0),Y("Regenerating MIDI patterns..."),Z(null),fe.current&&(Vn(),K(!1)),await oa();const I=((De=l==null?void 0:l.genre)==null?void 0:De[0])||b.genre,me=cl((l==null?void 0:l.content)||""),ue={...b,guidebookContext:me,genre:I};let Ae="";try{const Be=await Zc(ue);for await(const Ut of Be)Ae+=Ut.text;let je=Ae.trim();const Ye=/^```(\w*)?\s*\n?(.*?)\n?\s*```$/s,et=je.match(Ye);et&&et[2]&&(je=et[2].trim());const Rt=JSON.parse(je);if(Rt.drums){const Ut={};for(const qe in Rt.drums)Ut[qe.toLowerCase().replace(/\s+/g,"_")]=Rt.drums[qe];Rt.drums=Ut}D(Rt),n==null||n(ue,Rt)}catch(Be){console.error("MIDI Generation Error:",Be);const je=Be.message.toLowerCase().includes("json")?`AI returned invalid JSON for MIDI patterns. (${Be.message})`:`Failed to generate MIDI patterns: ${Be.message}`;Z(je),D(null)}finally{F(!1),Y("")}},he=async()=>{C&&(await oa(),fe.current&&(Vn(),K(!1),await new Promise(I=>setTimeout(I,50))),kg(C,b),K(!0))},ae=async I=>{!C||!C[I]||(await oa(),fe.current&&(Vn(),K(!1),await new Promise(me=>setTimeout(me,50))),kg(C,b,I),K(!0))},de=()=>{Vn(),K(!1)};be.useEffect(()=>()=>{fe.current&&Vn()},[]);const P=()=>{if(!C)return;const I=((l==null?void 0:l.title)||"TrackGuideMIDI").replace(/[^a-z0-9_.-]/gi,"_"),me=Ig(C,b,I);me?Rg(me,`${I}_all_tracks.mid`):alert("No MIDI data to download or error in generation.")},B=I=>{if(!C||!C[I]){alert(`No ${I} data available in current patterns.`);return}const me={[I]:C[I]},ue=((l==null?void 0:l.title)||"TrackGuideMIDI").replace(/[^a-z0-9_.-]/gi,"_"),Ae=Ig(me,b,`${ue}_${I}`);Ae?Rg(Ae,`${ue}_${I}.mid`):alert(`No ${I} data to download or error in generation.`)},N=async I=>{var Be;if(!C)return;F(!0),Y("Generating MIDI..."),Z(null),fe.current&&(Vn(),K(!1)),await oa();const me=((Be=l==null?void 0:l.genre)==null?void 0:Be[0])||b.genre,ue=cl((l==null?void 0:l.content)||""),Ae={...b,guidebookContext:ue,genre:me,targetInstruments:[I]};let De="";try{const je=await Zc(Ae);for await(const Sn of je)De+=Sn.text;let Ye=De.trim();const et=/^```(\w*)?\s*\n?(.*?)\n?\s*```$/s,Rt=Ye.match(et);Rt&&Rt[2]&&(Ye=Rt[2].trim());const Ut=JSON.parse(Ye),qe={...C,[I]:Ut[I]};if(I==="drums"&&Ut.drums){const Sn={};for(const Un in Ut.drums)Sn[Un.toLowerCase().replace(/\s+/g,"_")]=Ut.drums[Un];qe.drums=Sn}D(qe),n==null||n(b,qe),Y("")}catch(je){console.error("Error regenerating single track:",je),Z(`Failed to regenerate ${I}. Please try again.`),Y("")}finally{F(!1)}},M=I=>{const me=Ln[I]||Ln.Default;return`(${me[0]}-${me[1]} BPM for ${I})`},T=I=>kn[I]||kn.Default,R=(I,me)=>{if(!I)return m.jsxs("p",{className:"text-xs text-gray-500",children:["No ",me," pattern generated."]});if(me==="Chords"&&Array.isArray(I)){const ue=I;if(ue.length>0){let Ae=[],De=null;for(const je of ue)je.name!==De&&(Ae.push(je.name),De=je.name);const Be=Ae.join(" - ");return m.jsx("div",{className:"text-xs text-gray-300 bg-gray-700 p-2 rounded-md mt-1 whitespace-normal break-words max-h-20 overflow-y-auto custom-scrollbar",children:Be})}}return null},j=async()=>{ve||await oa(),xe(I=>!I)},w=(I,me)=>{const ue=C==null?void 0:C[I],Ae=ue&&(Array.isArray(ue)&&ue.length>0||typeof ue=="object"&&Object.keys(ue).length>0&&!(ue!=null&&ue.error));if(!Ae)return C&&!C[I]&&b.targetInstruments.includes(I)?m.jsx(ct,{title:me,className:"bg-gray-700/50 opacity-60",contentClassName:"p-3",children:m.jsx("p",{className:"text-xs text-gray-400",children:"Pattern not generated or empty. Try regenerating with this instrument selected."})}):null;const De=R(ue,me);return m.jsxs(ct,{title:me,className:"bg-gray-700/50",contentClassName:"p-3",children:[De,m.jsxs("div",{className:`${De?"mt-3":""} flex gap-2 items-center`,children:[m.jsx(ze,{size:"sm",variant:"secondary",onClick:()=>ae(I),disabled:!Ae||ne,className:"px-2.5 py-1.5 flex-1",title:`Preview ${me}`,leftIcon:m.jsx(Mg,{className:"w-4 h-4"}),children:"Preview"}),m.jsx(ze,{size:"sm",variant:"outline",onClick:()=>N(I),className:"p-1.5 flex-none",title:`Regenerate ${me}`,"aria-label":`Regenerate ${me}`,disabled:U,children:m.jsx(_g,{className:"w-4 h-4",isSpinning:U&&L.includes(I)})}),m.jsx(ze,{size:"sm",variant:"outline",onClick:()=>B(I),className:"p-1.5 flex-none",title:`Download ${me} MIDI`,"aria-label":`Download ${me} MIDI`,disabled:!Ae,children:m.jsx(Wc,{className:"w-4 h-4"})})]})]})};return m.jsxs(ct,{title:" MIDI Tools & Pattern Generator",className:"mt-6 bg-gray-800/80 backdrop-blur-md shadow-xl border border-gray-700/50",children:[m.jsx(ze,{onClick:j,variant:"secondary",className:"w-full mb-4",leftIcon:m.jsx(aE,{}),children:ve?"Hide MIDI Settings":"Adjust MIDI Settings & Regenerate"}),ve&&m.jsxs("div",{className:"mb-6 border-t border-gray-700 pt-6",children:[m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-x-6 gap-y-4 mb-6",children:[m.jsxs("div",{children:[m.jsxs("label",{htmlFor:"midi-key",className:"block text-sm font-medium text-gray-300 mb-1",children:["Key ",m.jsxs("span",{className:"text-xs text-gray-400",children:["(Guidebook: ",o||"N/A",")"]})]}),m.jsx("select",{id:"midi-key",value:b.key,onChange:I=>pe("key",I.target.value),className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-md shadow-sm text-gray-100 focus:ring-purple-500 focus:border-purple-500 text-sm",children:ha.map(I=>m.jsx("option",{value:I,children:I},I))})]}),m.jsxs("div",{children:[m.jsxs("label",{htmlFor:"midi-scale",className:"block text-sm font-medium text-gray-300 mb-1",children:["Scale/Mode ",m.jsx("span",{className:"text-xs text-gray-400",children:"(Optional)"})]}),m.jsxs("select",{id:"midi-scale",value:b.scale||"",onChange:I=>pe("scale",I.target.value),className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-md shadow-sm text-gray-100 focus:ring-purple-500 focus:border-purple-500 text-sm",children:[m.jsx("option",{value:"",children:"Default (from key)"}),ME(b.key).map(I=>m.jsx("option",{value:I,children:I},I))]})]}),m.jsxs("div",{children:[m.jsxs("label",{htmlFor:"midi-tempo",className:"block text-sm font-medium text-gray-300 mb-1",children:["Tempo (BPM) ",m.jsxs("span",{className:"text-xs text-gray-400",children:["Guidebook: ",a||"N/A"]})]}),m.jsx(on,{type:"number",id:"midi-tempo",value:b.tempo,onChange:I=>pe("tempo",parseInt(I.target.value,10)),min:"30",max:"300"}),m.jsx("p",{className:"text-xs text-gray-400 mt-1",children:M(b.genre)})]}),m.jsxs("div",{children:[m.jsx("label",{htmlFor:"midi-timesig",className:"block text-sm font-medium text-gray-300 mb-1",children:"Time Signature"}),m.jsx("select",{id:"midi-timesig",value:b.timeSignature.join("/"),onChange:I=>pe("timeSignature",I.target.value.split("/").map(Number)),className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-md shadow-sm text-gray-100 focus:ring-purple-500 focus:border-purple-500 text-sm",children:PC.map(I=>m.jsx("option",{value:I.join("/"),children:I.join("/")},I.join("/")))})]}),m.jsxs("div",{children:[m.jsxs("label",{htmlFor:"midi-chords",className:"block text-sm font-medium text-gray-300 mb-1",children:["Chord Progression ",m.jsxs("span",{className:"text-xs text-gray-400",children:["(Guidebook: ",u||"N/A",")"]})]}),m.jsx("select",{id:"midi-chords",value:b.chordProgression,onChange:I=>pe("chordProgression",I.target.value),className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-md shadow-sm text-gray-100 focus:ring-purple-500 focus:border-purple-500 text-sm",children:T(b.genre).map(I=>m.jsx("option",{value:I,children:I},I))})]}),m.jsxs("div",{children:[m.jsx("label",{htmlFor:"midi-genre",className:"block text-sm font-medium text-gray-300 mb-1",children:"MIDI Genre Context"}),m.jsxs("select",{id:"midi-genre",value:b.genre,onChange:I=>pe("genre",I.target.value),className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-md shadow-sm text-gray-100 focus:ring-purple-500 focus:border-purple-500 text-sm",children:[m.jsxs("option",{value:((J=l==null?void 0:l.genre)==null?void 0:J[0])||(t==null?void 0:t.genre[0])||Qe.genre,children:["Align with Guidebook (",((oe=l==null?void 0:l.genre)==null?void 0:oe[0])||(t==null?void 0:t.genre[0])||"Default",")"]}),O0.map(I=>m.jsx("option",{value:I,children:I},I))]})]}),m.jsxs("div",{children:[m.jsx("label",{htmlFor:"midi-bars",className:"block text-sm font-medium text-gray-300 mb-1",children:"Loop Length (Bars)"}),m.jsx("select",{id:"midi-bars",value:b.bars,onChange:I=>pe("bars",parseInt(I.target.value,10)),className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-md shadow-sm text-gray-100 focus:ring-purple-500 focus:border-purple-500 text-sm",children:sa.map(I=>m.jsx("option",{value:I,children:I},I))})]}),m.jsxs("div",{className:"lg:col-span-1",children:[m.jsx("label",{htmlFor:"midi-songsection",className:"block text-sm font-medium text-gray-300 mb-1",children:"Song Section Context"}),m.jsx("select",{id:"midi-songsection",value:b.songSection||Qe.songSection,onChange:I=>pe("songSection",I.target.value),className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-md shadow-sm text-gray-100 focus:ring-purple-500 focus:border-purple-500 text-sm",children:(v&&h?h:qC).map(I=>m.jsx("option",{value:I,children:I},I))})]})]}),m.jsxs("div",{className:"mb-6",children:[m.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Target Instruments to Generate"}),m.jsx("div",{className:"flex flex-wrap gap-x-4 gap-y-2",children:HC.map(I=>m.jsxs("button",{type:"button",onClick:()=>ce(I.id),className:`flex items-center px-3 py-1.5 rounded-md text-sm transition-colors duration-150 ease-in-out border
                            ${b.targetInstruments.includes(I.id)?"bg-purple-600 text-white border-purple-500 hover:bg-purple-700 shadow-md":"bg-gray-700 text-gray-300 border-gray-600 hover:bg-gray-600 hover:border-gray-500"}`,"aria-pressed":b.targetInstruments.includes(I.id),children:[b.targetInstruments.includes(I.id)?m.jsx(sE,{className:"w-4 h-4 mr-2"}):m.jsx(oE,{className:"w-4 h-4 mr-2 text-gray-500"}),I.label]},I.id))})]}),m.jsx(ze,{onClick:se,disabled:U||b.targetInstruments.length===0,className:"w-full",leftIcon:m.jsx(_g,{className:"w-5 h-5",isSpinning:U}),children:U?L||"Regenerating MIDI Patterns...":b.targetInstruments.length===0?"Select instruments first":"Regenerate MIDI Patterns"})]}),$&&m.jsx("p",{className:"text-red-400 bg-red-900/30 p-3 rounded-md text-sm my-4",children:$}),U&&!ve&&(!C||L.includes("MIDI"))&&m.jsx("div",{className:"my-4",children:m.jsx(tr,{text:L||"AI is composing..."})}),C&&!U&&m.jsxs("div",{className:"mt-6 space-y-3",children:[m.jsxs("div",{className:"flex flex-wrap gap-3 items-center pb-3 border-b border-gray-700",children:[m.jsx(ze,{onClick:ne?de:he,variant:ne?"danger":"primary",size:"md",leftIcon:ne?m.jsx(rE,{}):m.jsx(Mg,{}),children:ne?"Stop Preview":"Play All Tracks"}),m.jsx(ze,{onClick:P,variant:"secondary",size:"md",leftIcon:m.jsx(Wc,{}),children:"Download All (.mid)"})]}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 pt-3",children:[w("chords","Chords"),w("bassline","Bassline"),w("melody","Melody"),w("drums","Drums")]}),C.error&&m.jsxs("p",{className:"text-sm text-yellow-400 mt-2",children:["AI Note: ",C.error]})]}),!C&&!U&&!$&&m.jsx("p",{className:"text-gray-400 text-sm mt-4 text-center",children:'No MIDI patterns generated yet for this TrackGuide. Click "Adjust MIDI Settings" to configure and generate.'})]})},_E=({library:l,onClose:t,onLoadEntry:n,onDeleteEntry:a,onCreateNew:o})=>{const[u,c]=be.useState(""),h=l.filter(x=>x.title.toLowerCase().includes(u.toLowerCase())||x.genre.join(", ").toLowerCase().includes(u.toLowerCase())).sort((x,f)=>new Date(f.createdAt).getTime()-new Date(x.createdAt).getTime());return m.jsx("div",{className:"fixed inset-0 bg-gray-900/80 backdrop-blur-sm flex items-center justify-center p-4 z-50 transition-opacity duration-300 ease-in-out",onClick:t,role:"dialog","aria-modal":"true","aria-labelledby":"library-modal-title",children:m.jsxs(ct,{className:"w-full max-w-2xl bg-gray-800 shadow-2xl border border-gray-700 max-h-[90vh] flex flex-col",onClick:x=>x.stopPropagation(),children:[m.jsxs("div",{className:"flex justify-between items-center px-6 py-4 border-b border-gray-700",children:[m.jsxs("h2",{id:"library-modal-title",className:"text-2xl font-semibold text-purple-300 flex items-center",children:[m.jsx(ed,{className:"w-7 h-7 mr-3 text-purple-400"}),"TrackGuide Library"]}),m.jsx(ze,{onClick:t,variant:"secondary",size:"sm",className:"p-2 -mr-2","aria-label":"Close Library",children:m.jsx(gd,{className:"w-5 h-5"})})]}),m.jsx("div",{className:"px-6 py-4",children:m.jsx(on,{type:"search",placeholder:"Search by title or genre...",value:u,onChange:x=>c(x.target.value),className:"mb-4 bg-gray-700 border-gray-600 placeholder-gray-500","aria-label":"Search library"})}),m.jsx("div",{className:"flex-grow overflow-y-auto px-6 pb-6 space-y-3 custom-scrollbar pr-3",children:h.length===0?m.jsx("p",{className:"text-gray-400 text-center py-8",children:u?`No entries found for "${u}".`:"Your library is empty. Create some TrackGuides!"}):h.map(x=>m.jsx("div",{className:"p-4 bg-gray-700/60 rounded-lg hover:bg-gray-600/50 transition-colors shadow-md border border-gray-600/50",children:m.jsxs("div",{className:"flex justify-between items-start",children:[m.jsxs("div",{className:"flex-grow min-w-0",children:[m.jsx("h4",{className:"font-semibold text-purple-300 truncate text-lg",title:x.title,children:x.title}),m.jsx("p",{className:"text-sm text-gray-400 truncate",title:Array.isArray(x.genre)?x.genre.join(", "):x.genre,children:Array.isArray(x.genre)?x.genre.join(", "):x.genre}),m.jsxs("p",{className:"text-xs text-gray-500",children:["Created: ",new Date(x.createdAt).toLocaleDateString(),x.generatedMidiPatterns&&m.jsx(ma,{className:"w-3 h-3 text-green-400 inline-block ml-2",title:"MIDI available"})]})]}),m.jsxs("div",{className:"flex flex-col sm:flex-row space-y-2 sm:space-y-0 sm:space-x-2 items-end shrink-0 ml-3 mt-1 sm:mt-0",children:[m.jsx(ze,{onClick:()=>n(x),size:"sm",variant:"outline",className:"text-xs px-3 py-1.5 w-full sm:w-auto",leftIcon:m.jsx(ed,{className:"w-4 h-4"}),children:"Load"}),m.jsx(ze,{onClick:()=>a(x.id),size:"sm",variant:"danger",className:"text-xs px-3 py-1.5 w-full sm:w-auto",leftIcon:m.jsx(lE,{className:"w-4 h-4"})})]})]})},x.id))}),m.jsx("div",{className:"px-6 py-4 border-t border-gray-700",children:m.jsx(ze,{onClick:o,variant:"primary",className:"w-full",leftIcon:m.jsx(td,{}),children:"Create New TrackGuide"})})]})})},DE=({isOpen:l,onClose:t,currentGuidebook:n,userInputs:a})=>{const[o,u]=be.useState([]),[c,h]=be.useState(""),[x,f]=be.useState(!1),v=be.useRef(null),b=be.useRef(null),E=be.useRef(null);be.useEffect(()=>{l&&o.length===0&&u([{id:"1",role:"assistant",content:`Hi! I'm your AI music production assistant. I can help you:

 Refine your TrackGuide with specific questions
 Suggest improvements to your current project
 Answer production techniques questions
 Help adjust your genre, vibe, or arrangement ideas
 Provide detailed explanations about any aspect of your track

What would you like to work on today?`,timestamp:new Date}])},[l,o.length]);const C=()=>{E.current&&(E.current.scrollTop=E.current.scrollHeight)};be.useEffect(()=>{C()},[o]),be.useEffect(()=>{l&&b.current&&setTimeout(()=>{var L;return(L=b.current)==null?void 0:L.focus()},100)},[l]);const D=()=>{u([{id:"1",role:"assistant",content:`Hi! I'm your AI music production assistant. I can help you:

 Refine your TrackGuide with specific questions
 Suggest improvements to your current project
 Answer production techniques questions
 Help adjust your genre, vibe, or arrangement ideas
 Provide detailed explanations about any aspect of your track

What would you like to work on today?`,timestamp:new Date}])},U=async()=>{if(!c.trim()||x)return;const L={id:Date.now().toString(),role:"user",content:c.trim(),timestamp:new Date};u(Y=>[...Y,L]),h(""),f(!0);try{const Y={currentGuidebook:(n==null?void 0:n.content)||"",userInputs:a||{},conversationHistory:o.slice(-6)},$=await JC(L.content,Y),Z={id:(Date.now()+1).toString(),role:"assistant",content:$,timestamp:new Date};u(ne=>[...ne,Z])}catch(Y){console.error("AI Assistant Error:",Y);const $={id:(Date.now()+1).toString(),role:"assistant",content:"Sorry, I encountered an error. Please try again or rephrase your question.",timestamp:new Date};u(Z=>[...Z,$])}finally{f(!1)}},F=L=>{L.key==="Enter"&&!L.shiftKey&&(L.preventDefault(),U())};return l?m.jsx("div",{className:"fixed bottom-4 right-4 z-[9999] w-96 h-[600px] max-h-[80vh] max-w-[calc(100vw-2rem)] md:max-w-96",children:m.jsxs("div",{className:"h-full bg-gray-800 shadow-2xl border border-gray-700 rounded-lg flex flex-col overflow-hidden",children:[m.jsxs("div",{className:"p-3 border-b border-gray-700 flex justify-between items-center bg-gradient-to-r from-purple-600 to-blue-600 flex-shrink-0",children:[m.jsxs("div",{className:"flex items-center min-w-0 flex-1",children:[m.jsx(nE,{className:"w-5 h-5 text-white mr-2 flex-shrink-0"}),m.jsx("h2",{className:"text-lg font-bold text-white truncate",children:"Production Coach"})]}),m.jsxs("div",{className:"flex gap-1 flex-shrink-0 ml-2",children:[m.jsx(ze,{onClick:D,variant:"outline",size:"sm",className:"text-white border-white/30 hover:bg-white/10 hidden sm:inline-flex",children:"Clear"}),m.jsx(ze,{onClick:t,variant:"outline",size:"sm",className:"text-white border-white/30 hover:bg-white/10 flex-shrink-0",children:m.jsx(gd,{className:"w-4 h-4"})})]})]}),m.jsxs("div",{ref:E,className:"flex-1 overflow-y-auto p-3 space-y-3 bg-gray-900/50",style:{scrollBehavior:"smooth",overflowAnchor:"auto"},children:[o.map(L=>m.jsx("div",{className:`flex ${L.role==="user"?"justify-end":"justify-start"}`,children:m.jsxs("div",{className:`max-w-[85%] p-3 rounded-lg text-sm shadow-lg ${L.role==="user"?"bg-purple-600 text-white rounded-br-sm":"bg-gray-700 text-gray-100 rounded-bl-sm"}`,children:[m.jsx("div",{className:"whitespace-pre-wrap break-words leading-relaxed",children:L.content}),m.jsx("div",{className:"text-xs opacity-70 mt-2",children:L.timestamp.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]})},L.id)),x&&m.jsx("div",{className:"flex justify-start",children:m.jsx("div",{className:"bg-gray-700 text-gray-100 p-3 rounded-lg text-sm shadow-lg rounded-bl-sm",children:m.jsx(tr,{text:"AI is thinking..."})})}),m.jsx("div",{ref:v})]}),m.jsxs("div",{className:"p-3 border-t border-gray-700 bg-gray-800 flex-shrink-0",children:[m.jsxs("div",{className:"flex gap-2 mb-2",children:[m.jsx(on,{ref:b,type:"text",placeholder:"Ask about production techniques...",value:c,onChange:L=>h(L.target.value),onKeyPress:F,className:"flex-1 text-sm bg-gray-700 border-gray-600 text-white placeholder-gray-400",disabled:x}),m.jsx(ze,{onClick:U,disabled:!c.trim()||x,variant:"primary",size:"sm",className:"px-4",children:x?"...":"Send"})]}),m.jsx("div",{className:"text-xs text-gray-400 text-center",children:"Press Enter to send  Clear resets conversation"})]})]})}):null},IE=[{frequency:"20-30 Hz",description:"Sub-bass rumble, often felt more than heard",instruments:["Kick drum","Sub bass","808s"],action:"cut",category:"sub"},{frequency:"30-60 Hz",description:"Deep bass foundation, power and weight",instruments:["Kick drum","Bass guitar","Sub bass"],action:"boost",category:"sub"},{frequency:"60-100 Hz",description:"Bass fundamentals, warmth and body",instruments:["Bass guitar","Kick drum","Male vocals"],action:"boost",category:"bass"},{frequency:"100-200 Hz",description:"Bass clarity, can get muddy if excessive",instruments:["Bass guitar","Piano","Guitar","Vocals"],action:"cut",category:"bass"},{frequency:"200-250 Hz",description:"Muddiness zone, often needs cutting",instruments:["Most instruments"],action:"cut",category:"bass"},{frequency:"250-400 Hz",description:"Cardboard/boxy sound, often problematic",instruments:["Vocals","Snare","Guitar"],action:"cut",category:"low-mid"},{frequency:"400-500 Hz",description:"Honky/nasal frequencies",instruments:["Vocals","Horns","Guitar"],action:"cut",category:"low-mid"},{frequency:"500-800 Hz",description:"Vocal clarity and instrument definition",instruments:["Vocals","Snare","Guitar"],action:"boost",category:"mid"},{frequency:"800-1200 Hz",description:"Vocal presence, can sound harsh",instruments:["Vocals","Snare","Hi-hats"],action:"boost",category:"mid"},{frequency:"1-2 kHz",description:"Attack and punch, vocal intelligibility",instruments:["Vocals","Snare","Guitar","Piano"],action:"boost",category:"mid"},{frequency:"2-3 kHz",description:"Vocal presence, can be fatiguing",instruments:["Vocals","Snare","Cymbals"],action:"boost",category:"high-mid"},{frequency:"3-5 kHz",description:"Clarity and definition, harshness zone",instruments:["Vocals","Snare","Guitar","Cymbals"],action:"cut",category:"high-mid"},{frequency:"5-6 kHz",description:"Sibilance in vocals, cymbal harshness",instruments:["Vocals","Cymbals","Hi-hats"],action:"cut",category:"high-mid"},{frequency:"6-8 kHz",description:"Vocal sibilance, cymbal brightness",instruments:["Vocals","Cymbals","Acoustic guitar"],action:"cut",category:"presence"},{frequency:"8-12 kHz",description:"Brightness and clarity, can be harsh",instruments:["Cymbals","Hi-hats","Vocals"],action:"boost",category:"presence"},{frequency:"12-16 kHz",description:"Air and sparkle, openness",instruments:["Cymbals","Vocals","Strings"],action:"boost",category:"air"},{frequency:"16+ kHz",description:"Ultra-high frequencies, air and space",instruments:["Cymbals","Room mics"],action:"boost",category:"air"}],RE=["All","Vocals","Kick drum","Snare","Bass guitar","Guitar","Piano","Cymbals","Hi-hats","Sub bass","808s","Horns","Strings","Room mics"],Ic=[{id:"all",label:"All Frequencies",color:"bg-gray-600"},{id:"sub",label:"Sub Bass (20-60Hz)",color:"bg-red-600"},{id:"bass",label:"Bass (60-250Hz)",color:"bg-orange-600"},{id:"low-mid",label:"Low Mids (250-500Hz)",color:"bg-yellow-600"},{id:"mid",label:"Mids (500-2kHz)",color:"bg-green-600"},{id:"high-mid",label:"High Mids (2-6kHz)",color:"bg-blue-600"},{id:"presence",label:"Presence (6-12kHz)",color:"bg-indigo-600"},{id:"air",label:"Air (12kHz+)",color:"bg-purple-600"}],kE=({isOpen:l,onClose:t})=>{const[n,a]=be.useState("All"),[o,u]=be.useState("all"),[c,h]=be.useState("");if(!l)return null;const x=IE.filter(b=>{const E=n==="All"||b.instruments.includes(n),C=o==="all"||b.category===o,D=c===""||b.frequency.toLowerCase().includes(c.toLowerCase())||b.description.toLowerCase().includes(c.toLowerCase())||b.instruments.some(U=>U.toLowerCase().includes(c.toLowerCase()));return E&&C&&D}),f=b=>{switch(b){case"boost":return"text-green-400";case"cut":return"text-red-400";case"notch":return"text-yellow-400";default:return"text-gray-400"}},v=b=>{switch(b){case"boost":return"";case"cut":return"";case"notch":return"";default:return""}};return m.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:m.jsxs("div",{className:"bg-gray-800 rounded-lg shadow-xl max-w-6xl w-full max-h-[90vh] overflow-hidden",children:[m.jsxs("div",{className:"p-6 border-b border-gray-700",children:[m.jsxs("div",{className:"flex justify-between items-center mb-4",children:[m.jsxs("h2",{className:"text-2xl font-bold text-white flex items-center",children:[m.jsx(pa,{className:"w-6 h-6 mr-2"}),"EQ Cheat Sheet"]}),m.jsx(ze,{onClick:t,variant:"outline",size:"sm",children:" Close"})]}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Filter by Instrument"}),m.jsx("select",{value:n,onChange:b=>a(b.target.value),className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-md text-gray-100 focus:ring-purple-500 focus:border-purple-500",children:RE.map(b=>m.jsx("option",{value:b,children:b},b))})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Frequency Zone"}),m.jsx("select",{value:o,onChange:b=>u(b.target.value),className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-md text-gray-100 focus:ring-purple-500 focus:border-purple-500",children:Ic.map(b=>m.jsx("option",{value:b.id,children:b.label},b.id))})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Search"}),m.jsx(on,{type:"text",placeholder:"Search frequencies, descriptions...",value:c,onChange:b=>h(b.target.value)})]})]})]}),m.jsxs("div",{className:"p-6 overflow-y-auto max-h-[calc(90vh-200px)]",children:[m.jsxs("div",{className:"mb-6",children:[m.jsx("h3",{className:"text-lg font-semibold text-white mb-3",children:"Frequency Zones"}),m.jsx("div",{className:"flex flex-wrap gap-2",children:Ic.map(b=>m.jsx("button",{onClick:()=>u(b.id),className:`px-3 py-1 rounded-full text-sm font-medium transition-all ${o===b.id?`${b.color} text-white shadow-lg`:"bg-gray-700 text-gray-300 hover:bg-gray-600"}`,children:b.label},b.id))})]}),m.jsx("div",{className:"space-y-3",children:x.length===0?m.jsx("p",{className:"text-gray-400 text-center py-8",children:"No EQ data matches your current filters."}):x.map((b,E)=>{var C;return m.jsx(ct,{className:"bg-gray-700/50 hover:bg-gray-700/70 transition-colors",children:m.jsx("div",{className:"p-4",children:m.jsx("div",{className:"flex items-start justify-between",children:m.jsxs("div",{className:"flex-1",children:[m.jsxs("div",{className:"flex items-center mb-2",children:[m.jsx("span",{className:"text-lg font-bold text-white mr-3",children:b.frequency}),m.jsxs("span",{className:`text-sm font-medium ${f(b.action)}`,children:[v(b.action)," ",b.action.toUpperCase()]}),m.jsx("span",{className:`ml-2 px-2 py-1 rounded-full text-xs font-medium ${((C=Ic.find(D=>D.id===b.category))==null?void 0:C.color)||"bg-gray-600"} text-white`,children:b.category.replace("-"," ").toUpperCase()})]}),m.jsx("p",{className:"text-gray-300 mb-2",children:b.description}),m.jsx("div",{className:"flex flex-wrap gap-1",children:b.instruments.map(D=>m.jsx("span",{className:"px-2 py-1 bg-gray-600 text-gray-200 rounded text-xs",children:D},D))})]})})})},E)})})]}),m.jsx("div",{className:"p-4 border-t border-gray-700 bg-gray-800/50",children:m.jsx("p",{className:"text-xs text-gray-400 text-center",children:" Tip: These are general guidelines. Always trust your ears and adjust based on the specific context of your mix."})})]})})},LE=({className:l="w-6 h-6"})=>m.jsx("div",{className:`${l} bg-orange-500 transform rotate-45 flex items-center justify-center`,children:m.jsx("div",{className:"w-1/2 h-1/2 bg-white transform -rotate-45"})}),BE=({onGetStarted:l})=>m.jsxs("div",{className:"min-h-screen bg-[#2B2B2B] relative overflow-hidden",children:[m.jsx("div",{className:"absolute inset-0 opacity-40",children:m.jsx("div",{className:"absolute inset-0",style:{backgroundImage:"radial-gradient(circle at 2px 2px, #FF5722 1px, transparent 0)",backgroundSize:"30px 30px"}})}),m.jsx("div",{className:"absolute top-20 right-10 w-64 h-64 opacity-20",children:m.jsxs("div",{className:"relative w-full h-full",children:[m.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 border-2 border-orange-500 transform rotate-12"}),m.jsx("div",{className:"absolute top-8 right-8 w-32 h-32 bg-orange-500 transform rotate-12"}),m.jsx("div",{className:"absolute top-16 right-16 w-16 h-16 bg-white rounded-full"})]})}),m.jsx("div",{className:"absolute bottom-20 left-10 w-48 h-48 opacity-15",children:m.jsxs("div",{className:"relative w-full h-full",children:[m.jsx("div",{className:"absolute bottom-0 left-0 w-24 h-24 border-2 border-orange-500 transform -rotate-45"}),m.jsx("div",{className:"absolute bottom-4 left-4 w-24 h-24 bg-orange-500 transform -rotate-45"})]})}),m.jsx("nav",{className:"relative z-10 px-6 py-6",children:m.jsxs("div",{className:"max-w-7xl mx-auto flex items-center justify-between",children:[m.jsxs("div",{className:"flex items-center space-x-3",children:[m.jsx("div",{className:"w-8 h-8 bg-orange-500 transform rotate-45 flex items-center justify-center",children:m.jsx("div",{className:"w-4 h-4 bg-white transform -rotate-45"})}),m.jsxs("div",{children:[m.jsx("div",{className:"text-xl font-bold text-white",children:"TrackGuide AI"}),m.jsx("div",{className:"text-xs text-gray-400",children:"Your Smartest Studio Assistant"})]})]}),m.jsx("button",{onClick:l,className:"bg-orange-500 hover:bg-orange-600 text-white px-6 py-3 rounded-lg font-semibold transition-all transform hover:scale-105 shadow-lg",children:"Get Started"})]})}),m.jsx("section",{className:"relative px-6 py-16",children:m.jsxs("div",{className:"max-w-7xl mx-auto",children:[m.jsxs("div",{className:"grid lg:grid-cols-2 gap-12 items-center",children:[m.jsxs("div",{className:"space-y-8",children:[m.jsxs("h1",{className:"text-6xl md:text-7xl lg:text-8xl font-bold text-white leading-tight",children:[m.jsx("span",{className:"text-orange-500",children:"AI Studio Assistant:"}),m.jsx("span",{className:"block text-white mt-2 text-4xl md:text-5xl lg:text-6xl",children:"A Complement to Creativity,"}),m.jsx("span",{className:"block text-white mt-2 text-4xl md:text-5xl lg:text-6xl",children:"Not a Substitute."})]}),m.jsxs("p",{className:"text-xl text-gray-300 max-w-2xl leading-relaxed",children:["Empowering modern producers with ",m.jsx("span",{className:"text-orange-500 font-semibold",children:"structure"}),", ",m.jsx("span",{className:"text-orange-500 font-semibold",children:"speed"}),", and ",m.jsx("span",{className:"text-orange-500 font-semibold",children:"support"})," in their creative workflow."]})]}),m.jsxs("div",{className:"relative h-96 lg:h-[500px]",children:[m.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:m.jsx("div",{className:"w-80 h-80 bg-gradient-to-br from-gray-300 to-gray-500 rounded-full opacity-80"})}),m.jsxs("div",{className:"absolute top-0 right-0 w-32 h-32",children:[m.jsx("div",{className:"w-full h-full border-2 border-orange-500 transform rotate-12"}),m.jsx("div",{className:"absolute top-2 right-2 w-28 h-28 bg-orange-500 transform rotate-12"})]}),m.jsxs("div",{className:"absolute bottom-0 right-8 w-24 h-24",children:[m.jsx("div",{className:"w-full h-full border-2 border-orange-500"}),m.jsx("div",{className:"absolute top-2 left-2 w-20 h-20 bg-orange-500"})]}),m.jsx("div",{className:"absolute top-1/2 right-0 w-16 h-16 bg-orange-500 rounded-full transform translate-x-8"})]})]}),m.jsx("div",{className:"flex flex-col sm:flex-row gap-6 mt-12 lg:justify-start",children:m.jsxs("button",{onClick:l,className:"bg-orange-500 hover:bg-orange-600 text-white px-12 py-5 rounded-xl font-bold text-xl transition-all transform hover:scale-105 flex items-center justify-center space-x-4 shadow-2xl border-2 border-orange-400",children:[m.jsx(LE,{className:"h-8 w-8"}),m.jsx("span",{children:"Start Creating Now"})]})})]})}),m.jsx("section",{className:"relative px-6 py-20",children:m.jsxs("div",{className:"max-w-7xl mx-auto",children:[m.jsxs("div",{className:"text-center mb-16",children:[m.jsx("h2",{className:"text-4xl md:text-5xl font-bold text-white mb-6",children:"How TrackGuide Works"}),m.jsx("p",{className:"text-xl text-gray-300 max-w-3xl mx-auto",children:"From concept to creation in three simple steps"})]}),m.jsxs("div",{className:"grid md:grid-cols-3 gap-8",children:[m.jsxs("div",{className:"text-center space-y-6",children:[m.jsx("div",{className:"w-20 h-20 bg-orange-500 rounded-full flex items-center justify-center mx-auto",children:m.jsx("span",{className:"text-2xl font-bold text-white",children:"1"})}),m.jsx("h3",{className:"text-2xl font-bold text-white",children:"Describe Your Vision"}),m.jsx("p",{className:"text-gray-300",children:"Tell us your genre, vibe, and creative goals. Our AI understands your artistic intent."})]}),m.jsxs("div",{className:"text-center space-y-6",children:[m.jsx("div",{className:"w-20 h-20 bg-orange-500 rounded-full flex items-center justify-center mx-auto",children:m.jsx("span",{className:"text-2xl font-bold text-white",children:"2"})}),m.jsx("h3",{className:"text-2xl font-bold text-white",children:"Get Your Blueprint"}),m.jsx("p",{className:"text-gray-300",children:"Receive a detailed production guide with arrangement tips, sound design, and MIDI foundations."})]}),m.jsxs("div",{className:"text-center space-y-6",children:[m.jsx("div",{className:"w-20 h-20 bg-orange-500 rounded-full flex items-center justify-center mx-auto",children:m.jsx("span",{className:"text-2xl font-bold text-white",children:"3"})}),m.jsx("h3",{className:"text-2xl font-bold text-white",children:"Create & Refine"}),m.jsx("p",{className:"text-gray-300",children:"Use our tools to generate MIDI, get mix feedback, and bring your vision to life."})]})]})]})}),m.jsx("section",{className:"relative px-6 py-20 bg-black/10",children:m.jsxs("div",{className:"max-w-7xl mx-auto",children:[m.jsxs("div",{className:"text-center mb-16",children:[m.jsx("h2",{className:"text-4xl md:text-5xl font-bold text-white mb-6",children:"Complete Production Toolkit"}),m.jsx("p",{className:"text-xl text-gray-300 max-w-3xl mx-auto",children:"Every tool you need to take your music from idea to finished track"})]}),m.jsxs("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-8",children:[m.jsxs("div",{className:"bg-gray-800/50 rounded-xl p-6 border border-orange-500/20 hover:border-orange-500/40 transition-all",children:[m.jsx("div",{className:"w-12 h-12 bg-orange-500 rounded-lg flex items-center justify-center mb-4",children:m.jsx("span",{className:"text-white font-bold",children:"AI"})}),m.jsx("h3",{className:"text-xl font-bold text-white mb-3",children:"TrackGuide AI"}),m.jsx("p",{className:"text-gray-300",children:"Generate comprehensive, custom how-to guides based on your genre, vibe, and reference artists."})]}),m.jsxs("div",{className:"bg-gray-800/50 rounded-xl p-6 border border-orange-500/20 hover:border-orange-500/40 transition-all",children:[m.jsx("div",{className:"w-12 h-12 bg-orange-500 rounded-lg flex items-center justify-center mb-4",children:m.jsx("span",{className:"text-white font-bold",children:""})}),m.jsx("h3",{className:"text-xl font-bold text-white mb-3",children:"Integrated MIDI Generator"}),m.jsx("p",{className:"text-gray-300",children:"Create intelligent chord progressions, basslines, melodies, and drum patterns that match your track's context."})]}),m.jsxs("div",{className:"bg-gray-800/50 rounded-xl p-6 border border-orange-500/20 hover:border-orange-500/40 transition-all",children:[m.jsx("div",{className:"w-12 h-12 bg-orange-500 rounded-lg flex items-center justify-center mb-4",children:m.jsx("span",{className:"text-white font-bold",children:""})}),m.jsx("h3",{className:"text-xl font-bold text-white mb-3",children:"Mix Feedback"}),m.jsx("p",{className:"text-gray-300",children:"Upload tracks for AI-powered analysis and detailed mixing recommendations."})]}),m.jsxs("div",{className:"bg-gray-800/50 rounded-xl p-6 border border-orange-500/20 hover:border-orange-500/40 transition-all",children:[m.jsx("div",{className:"w-12 h-12 bg-orange-500 rounded-lg flex items-center justify-center mb-4",children:m.jsx("span",{className:"text-white font-bold",children:""})}),m.jsx("h3",{className:"text-xl font-bold text-white mb-3",children:"Mix Compare"}),m.jsx("p",{className:"text-gray-300",children:"Upload multiple tracks for AI-powered analysis that compares different versions side-by-side."})]}),m.jsxs("div",{className:"bg-gray-800/50 rounded-xl p-6 border border-orange-500/20 hover:border-orange-500/40 transition-all",children:[m.jsx("div",{className:"w-12 h-12 bg-orange-500 rounded-lg flex items-center justify-center mb-4",children:m.jsx("span",{className:"text-white font-bold",children:""})}),m.jsx("h3",{className:"text-xl font-bold text-white mb-3",children:"Live Production Coach"}),m.jsx("p",{className:"text-gray-300",children:"Interactive chatbot providing real-time production advice and guidance."})]}),m.jsxs("div",{className:"bg-gray-800/50 rounded-xl p-6 border border-orange-500/20 hover:border-orange-500/40 transition-all",children:[m.jsx("div",{className:"w-12 h-12 bg-orange-500 rounded-lg flex items-center justify-center mb-4",children:m.jsx("span",{className:"text-white font-bold",children:""})}),m.jsx("h3",{className:"text-xl font-bold text-white mb-3",children:"EQ Cheat Sheet"}),m.jsx("p",{className:"text-gray-300",children:"Quick reference guide for EQ frequencies and their effects on different instruments."})]})]})]})}),m.jsx("section",{className:"relative px-6 py-20 bg-black/20",children:m.jsxs("div",{className:"max-w-7xl mx-auto text-center",children:[m.jsx("h2",{className:"text-4xl md:text-5xl font-bold text-white mb-6",children:"Ready to Transform Your Music Production?"}),m.jsx("p",{className:"text-xl text-gray-300 mb-12 max-w-2xl mx-auto",children:"From initial inspiration to final mix, TrackGuide provides intelligent assistance at every stage of your music production journey."}),m.jsxs("div",{className:"bg-gray-800/50 rounded-2xl p-8 max-w-md mx-auto border border-orange-500/20",children:[m.jsx("h3",{className:"text-2xl font-bold text-white mb-4",children:"Free to Start"}),m.jsx("p",{className:"text-gray-300 mb-6",children:"Get started with TrackGuide AI at no cost. Upgrade when you're ready for more."}),m.jsx("button",{onClick:l,className:"w-full bg-orange-500 hover:bg-orange-600 text-white px-8 py-4 rounded-lg font-bold text-lg transition-all transform hover:scale-105 shadow-xl",children:"Start Creating Free"}),m.jsx("p",{className:"text-gray-500 text-sm mt-4",children:"No credit card required"})]})]})}),m.jsx("section",{className:"px-6 py-16 bg-black/20",children:m.jsxs("div",{className:"max-w-7xl mx-auto text-center",children:[m.jsx("div",{className:"w-32 h-1 bg-orange-500 mx-auto mb-8"}),m.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-white mb-4",children:"The Investment Opportunity"}),m.jsx("p",{className:"text-xl text-gray-300",children:"Transforming the $43B music production industry"})]})}),m.jsx("section",{className:"relative px-6 py-20 bg-black/20",children:m.jsx("div",{className:"max-w-7xl mx-auto",children:m.jsxs("div",{className:"grid lg:grid-cols-2 gap-12 items-center",children:[m.jsxs("div",{className:"space-y-8",children:[m.jsxs("h2",{className:"text-4xl md:text-5xl font-bold text-white leading-tight",children:["Too Many Tools:",m.jsx("span",{className:"block text-orange-500",children:"Not Enough Direction"})]}),m.jsxs("p",{className:"text-xl text-gray-300 leading-relaxed",children:["As the modern production landscape fragments into countless tools and tutorials, producers struggle to maintain ",m.jsx("strong",{children:"focus"})," and build ",m.jsx("strong",{children:"real skills"}),"."]}),m.jsxs("div",{className:"grid gap-6",children:[m.jsx("div",{className:"border-l-4 border-orange-500 pl-6",children:m.jsxs("p",{className:"text-gray-300",children:[m.jsx("strong",{children:"Without a clear structure"}),", many producers struggle to turn inspiration into finished tracks."]})}),m.jsx("div",{className:"border-l-4 border-orange-500 pl-6",children:m.jsxs("p",{className:"text-gray-300",children:[m.jsx("strong",{children:"  Clickbait tutorials lack context, feedback, and depth"}),"offering tips without teaching transferable skills."]})}),m.jsx("div",{className:"border-l-4 border-orange-500 pl-6",children:m.jsxs("p",{className:"text-gray-300",children:[m.jsx("strong",{children:"  A constant stream of flashy tools"})," distracts from understanding core production fundamentals."]})})]})]}),m.jsxs("div",{className:"relative h-96",children:[m.jsxs("div",{className:"absolute top-0 right-0 w-48 h-48",children:[m.jsx("div",{className:"w-full h-full border-2 border-orange-500 transform rotate-45"}),m.jsx("div",{className:"absolute top-4 right-4 w-40 h-40 bg-orange-500 transform rotate-45"})]}),m.jsxs("div",{className:"absolute bottom-0 left-0 w-32 h-32",children:[m.jsx("div",{className:"w-full h-full border-2 border-orange-500"}),m.jsx("div",{className:"absolute top-2 left-2 w-28 h-28 bg-orange-500"})]})]})]})})}),m.jsxs("section",{className:"px-6 py-20 bg-black",children:[m.jsx("div",{className:"block lg:hidden space-y-12",children:m.jsxs("div",{className:"space-y-8",children:[m.jsxs("h2",{className:"text-4xl md:text-5xl font-bold text-white leading-tight",children:["Navigating the",m.jsx("span",{className:"block text-orange-500",children:"AI Challenge"})]}),m.jsx("p",{className:"text-xl text-gray-300 leading-relaxed",children:"Empowering the artist vs. replacing the craft"}),m.jsxs("div",{className:"grid gap-6",children:[m.jsxs("div",{className:"border-l-4 border-orange-500 pl-6",children:[m.jsx("h3",{className:"text-lg font-bold text-white mb-2",children:"One-click generations lure"}),m.jsx("p",{className:"text-gray-400",children:"threatens to bypass traditional songwriting and production craftsmanship."})]}),m.jsxs("div",{className:"border-l-4 border-orange-500 pl-6",children:[m.jsx("h3",{className:"text-lg font-bold text-white mb-2",children:"Training on old hits risks"}),m.jsx("p",{className:"text-gray-400",children:"reinforcing trends rather than innovating new sonic directions."})]}),m.jsxs("div",{className:"border-l-4 border-orange-500 pl-6",children:[m.jsx("h3",{className:"text-lg font-bold text-white mb-2",children:"Ethical & legal questions"}),m.jsx("p",{className:"text-gray-400",children:"around authorship, royalties, and intellectual property multiply."})]})]})]})}),m.jsxs("div",{className:"hidden lg:grid max-w-7xl mx-auto grid-cols-2 gap-12 items-center pt-16",children:[m.jsx("div",{className:"relative h-80",children:m.jsxs("div",{className:"absolute top-0 left-0 w-40 h-40",children:[m.jsx("div",{className:"w-full h-full border-2 border-orange-500 transform rotate-45"}),m.jsx("div",{className:"absolute top-4 left-4 w-32 h-32 bg-orange-500 transform rotate-45"})]})}),m.jsxs("div",{className:"space-y-8",children:[m.jsxs("h2",{className:"text-5xl font-bold text-white leading-tight",children:["Navigating the ",m.jsx("span",{className:"text-orange-500 block",children:"AI Challenge"})]}),m.jsx("p",{className:"text-xl text-gray-300 leading-relaxed",children:"Empowering the artist vs. replacing the craft"}),m.jsxs("div",{className:"grid gap-6",children:[m.jsxs("div",{className:"border-l-4 border-orange-500 pl-6",children:[m.jsx("h3",{className:"text-lg font-bold text-white mb-2",children:"One-click generations lure"}),m.jsx("p",{className:"text-gray-400",children:"threatens to bypass traditional songwriting and production craftsmanship."})]}),m.jsxs("div",{className:"border-l-4 border-orange-500 pl-6",children:[m.jsx("h3",{className:"text-lg font-bold text-white mb-2",children:"Training on old hits risks"}),m.jsx("p",{className:"text-gray-400",children:"reinforcing trends rather than innovating new sonic directions."})]}),m.jsxs("div",{className:"border-l-4 border-orange-500 pl-6",children:[m.jsx("h3",{className:"text-lg font-bold text-white mb-2",children:"Ethical & legal questions"}),m.jsx("p",{className:"text-gray-400",children:"around authorship, royalties, and intellectual property multiply."})]})]})]})]})]}),m.jsxs("section",{className:"relative px-6 py-20 bg-black/20",children:[m.jsxs("div",{className:"block lg:hidden space-y-12",children:[m.jsxs("div",{className:"space-y-8 text-center",children:[m.jsxs("h2",{className:"text-4xl md:text-5xl font-bold text-white leading-tight",children:["Scalable ",m.jsx("span",{className:"block text-orange-500",children:"Business Model"})]}),m.jsx("p",{className:"text-xl text-gray-300 leading-relaxed max-w-2xl mx-auto",children:"Serving creators of all kinds  from indie artists to institutions  with high-margin, modular tools."})]}),m.jsxs("div",{className:"grid gap-8",children:[m.jsxs("div",{className:"bg-gray-800/30 rounded-lg p-6 border border-orange-500/10",children:[m.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"Producers & Indie Artists"}),m.jsx("p",{className:"text-gray-300",children:"Flexible pricing tiers to empower individual workflows and creativity."})]}),m.jsxs("div",{className:"bg-gray-800/30 rounded-lg p-6 border border-orange-500/10",children:[m.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"Educational Institutions"}),m.jsx("p",{className:"text-gray-300",children:"Licensing packages built for music schools, colleges, and training programs."})]}),m.jsxs("div",{className:"bg-gray-800/30 rounded-lg p-6 border border-orange-500/10",children:[m.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"Enterprise Clients"}),m.jsx("p",{className:"text-gray-300",children:"Custom solutions for labels, production teams, and enterprise use cases."})]})]}),m.jsxs("div",{className:"grid gap-8",children:[m.jsxs("div",{className:"bg-gray-800/30 rounded-lg p-6 border border-orange-500/20",children:[m.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"SaaS Subscriptions"}),m.jsx("p",{className:"text-gray-300 mb-2",children:"Premium features, AI workflows, and unlimited generations."}),m.jsx("div",{className:"text-orange-500 font-semibold text-base",children:"85% Gross Margin"})]}),m.jsxs("div",{className:"bg-gray-800/30 rounded-lg p-6 border border-orange-500/20",children:[m.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"Community Marketplace"}),m.jsx("p",{className:"text-gray-300 mb-2",children:"Commissions from samples, templates, and sound packs by creators."}),m.jsx("div",{className:"text-orange-500 font-semibold text-base",children:"30% Commission"})]}),m.jsxs("div",{className:"bg-gray-800/30 rounded-lg p-6 border border-orange-500/20",children:[m.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"Enterprise Licensing"}),m.jsx("p",{className:"text-gray-300 mb-2",children:"Annual contracts for studios, labels, and academic partners."}),m.jsx("div",{className:"text-orange-500 font-semibold text-base",children:"$50K+ ARR"})]})]})]}),m.jsxs("div",{className:"hidden lg:grid max-w-7xl mx-auto gap-24",children:[m.jsxs("div",{className:"flex justify-between items-start",children:[m.jsxs("div",{children:[m.jsxs("h2",{className:"text-5xl font-bold text-white mb-4",children:["Scalable ",m.jsx("span",{className:"text-orange-500",children:"Business Model"})]}),m.jsx("p",{className:"text-xl text-gray-300 max-w-2xl",children:"Serving creators of all kinds  from indie artists to institutions  with high-margin, modular tools."})]}),m.jsxs("div",{className:"relative w-24 h-24",children:[m.jsx("div",{className:"absolute inset-0 border-2 border-orange-500 transform rotate-45"}),m.jsx("div",{className:"absolute top-2 left-2 w-20 h-20",children:m.jsx("div",{className:"w-full h-full bg-orange-500 rounded-full"})})]})]}),m.jsxs("div",{className:"grid grid-cols-3 gap-8",children:[m.jsxs("div",{className:"bg-gray-800/30 rounded-lg p-8 border border-orange-500/10 space-y-2",children:[m.jsx("h3",{className:"text-2xl font-bold text-white",children:"Producers & Indie Artists"}),m.jsx("p",{className:"text-gray-300",children:"Flexible pricing tiers to empower individual workflows and creativity."})]}),m.jsxs("div",{className:"bg-gray-800/30 rounded-lg p-8 border border-orange-500/10 space-y-2",children:[m.jsx("h3",{className:"text-2xl font-bold text-white",children:"Educational Institutions"}),m.jsx("p",{className:"text-gray-300",children:"Licensing packages built for music schools, colleges, and training programs."})]}),m.jsxs("div",{className:"bg-gray-800/30 rounded-lg p-8 border border-orange-500/10 space-y-2",children:[m.jsx("h3",{className:"text-2xl font-bold text-white",children:"Enterprise Clients"}),m.jsx("p",{className:"text-gray-300",children:"Custom solutions for labels, production teams, and enterprise use cases."})]})]}),m.jsxs("div",{className:"grid grid-cols-3 gap-8",children:[m.jsxs("div",{className:"bg-gray-800/30 rounded-lg p-8 border border-orange-500/20 space-y-4",children:[m.jsx("h3",{className:"text-2xl font-bold text-white",children:"SaaS Subscriptions"}),m.jsx("p",{className:"text-gray-300",children:"Premium features, AI workflows, and unlimited generations."}),m.jsx("div",{className:"text-orange-500 font-semibold text-lg",children:"85% Gross Margin"})]}),m.jsxs("div",{className:"bg-gray-800/30 rounded-lg p-8 border border-orange-500/20 space-y-4",children:[m.jsx("h3",{className:"text-2xl font-bold text-white",children:"Community Marketplace"}),m.jsx("p",{className:"text-gray-300",children:"Commissions from samples, templates, and sound packs by creators."}),m.jsx("div",{className:"text-orange-500 font-semibold text-lg",children:"30% Commission"})]}),m.jsxs("div",{className:"bg-gray-800/30 rounded-lg p-8 border border-orange-500/20 space-y-4",children:[m.jsx("h3",{className:"text-2xl font-bold text-white",children:"Enterprise Licensing"}),m.jsx("p",{className:"text-gray-300",children:"Annual contracts for studios, labels, and academic partners."}),m.jsx("div",{className:"text-orange-500 font-semibold text-lg",children:"$50K+ ARR"})]})]})]})]}),m.jsx("section",{className:"px-6 py-20 bg-black",children:m.jsxs("div",{className:"max-w-5xl mx-auto",children:[m.jsxs("div",{className:"text-center mb-12",children:[m.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-white mb-6",children:"Investment Levels"}),m.jsx("p",{className:"text-lg text-gray-300 max-w-2xl mx-auto",children:"We're raising capital to finalize our MVP, build out our go-to-market strategy, and scale our team."})]}),m.jsxs("div",{className:"grid md:grid-cols-4 gap-6",children:[m.jsxs("div",{className:"bg-black/80 rounded-lg p-6 border border-orange-500/30 shadow-md",children:[m.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"Seed Loop"}),m.jsx("p",{className:"text-gray-300 text-sm mb-2",children:"$10K$25K"}),m.jsx("p",{className:"text-gray-400 text-sm mb-2",children:"Product polish, UI/UX refinement, performance tuning."}),m.jsx("p",{className:"text-orange-400 text-sm",children:"Return: SAFE note @ $5M cap + quarterly updates"})]}),m.jsxs("div",{className:"bg-black/80 rounded-lg p-6 border border-orange-500/30 shadow-md",children:[m.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"Creator Tier"}),m.jsx("p",{className:"text-gray-300 text-sm mb-2",children:"$25K$50K"}),m.jsx("p",{className:"text-gray-400 text-sm mb-2",children:"Monetization rollout, user acquisition, referral systems."}),m.jsx("p",{className:"text-orange-400 text-sm",children:"Return: SAFE + 1% revenue share pilot + feedback seat"})]}),m.jsxs("div",{className:"bg-black/80 rounded-lg p-6 border border-orange-500/30 shadow-md",children:[m.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"Full Stack"}),m.jsx("p",{className:"text-gray-300 text-sm mb-2",children:"$50K$75K"}),m.jsx("p",{className:"text-gray-400 text-sm mb-2",children:"Strategic hires (PMM/dev), professional business consulting."}),m.jsx("p",{className:"text-orange-400 text-sm",children:"Return: SAFE + advisory board access + product roadmap input"})]}),m.jsxs("div",{className:"bg-black/80 rounded-lg p-6 border border-orange-500/30 shadow-md",children:[m.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"Vision Tier"}),m.jsx("p",{className:"text-gray-300 text-sm mb-2",children:"$150K+"}),m.jsx("p",{className:"text-gray-400 text-sm mb-2",children:"Full-scale GTM campaign, AI model tuning, global launch."}),m.jsx("p",{className:"text-orange-400 text-sm",children:"Return: Discounted SAFE cap, 2% revenue share pilot, strategic board seat"})]})]})]})}),m.jsx("section",{className:"px-6 py-20 bg-black/30",children:m.jsxs("div",{className:"max-w-4xl mx-auto text-center",children:[m.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-white mb-6",children:"Interested in Investing?"}),m.jsx("p",{className:"text-xl text-gray-300 mb-8 max-w-2xl mx-auto",children:"TrackGuide is revolutionizing music production with AI-powered assistance. Join us in empowering the next generation of creators."}),m.jsx("a",{href:"mailto:dustinspaceproductions@gmail.com?subject=Investment Inquiry - TrackGuide AI",className:"bg-orange-500 hover:bg-orange-600 text-white px-8 py-3 rounded-lg font-bold text-lg transition-all transform hover:scale-105 inline-flex items-center space-x-2 shadow-xl",children:m.jsx("span",{children:"Contact for Investment Opportunities"})}),m.jsx("p",{className:"text-gray-500 mt-4",children:"dustinspaceproductions@gmail.com"})]})}),m.jsx("footer",{className:"px-6 py-12 border-t border-orange-500/20 bg-black/20",children:m.jsx("div",{className:"max-w-7xl mx-auto",children:m.jsxs("div",{className:"flex flex-col md:flex-row items-center justify-between",children:[m.jsxs("div",{className:"flex items-center space-x-3 mb-4 md:mb-0",children:[m.jsx("div",{className:"w-6 h-6 bg-orange-500 transform rotate-45 flex items-center justify-center",children:m.jsx("div",{className:"w-3 h-3 bg-white transform -rotate-45"})}),m.jsxs("div",{children:[m.jsx("div",{className:"text-lg font-bold text-white",children:"TrackGuide AI"}),m.jsx("div",{className:"text-xs text-gray-400",children:"Your Smartest Studio Assistant"})]})]}),m.jsx("div",{className:"text-gray-400 text-center md:text-right",children:m.jsx("p",{children:" 2025 TrackGuide. Empowering music creators worldwide."})})]})})})]});function UE(l,t){const n={};return(l[l.length-1]===""?[...l,""]:l).join((n.padRight?" ":"")+","+(n.padLeft===!1?"":" ")).trim()}const zE=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,jE=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,OE={};function Lg(l,t){return(OE.jsx?jE:zE).test(l)}const VE=/[ \t\n\f\r]/g;function PE(l){return typeof l=="object"?l.type==="text"?Bg(l.value):!1:Bg(l)}function Bg(l){return l.replace(VE,"")===""}class Ea{constructor(t,n,a){this.normal=n,this.property=t,a&&(this.space=a)}}Ea.prototype.normal={};Ea.prototype.property={};Ea.prototype.space=void 0;function G0(l,t){const n={},a={};for(const o of l)Object.assign(n,o.property),Object.assign(a,o.normal);return new Ea(n,a,t)}function id(l){return l.toLowerCase()}class cn{constructor(t,n){this.attribute=n,this.property=t}}cn.prototype.attribute="";cn.prototype.booleanish=!1;cn.prototype.boolean=!1;cn.prototype.commaOrSpaceSeparated=!1;cn.prototype.commaSeparated=!1;cn.prototype.defined=!1;cn.prototype.mustUseProperty=!1;cn.prototype.number=!1;cn.prototype.overloadedBoolean=!1;cn.prototype.property="";cn.prototype.spaceSeparated=!1;cn.prototype.space=void 0;let HE=0;const Le=hl(),Nt=hl(),ld=hl(),re=hl(),st=hl(),nr=hl(),bn=hl();function hl(){return 2**++HE}const rd=Object.freeze(Object.defineProperty({__proto__:null,boolean:Le,booleanish:Nt,commaOrSpaceSeparated:bn,commaSeparated:nr,number:re,overloadedBoolean:ld,spaceSeparated:st},Symbol.toStringTag,{value:"Module"})),Rc=Object.keys(rd);class xd extends cn{constructor(t,n,a,o){let u=-1;if(super(t,n),Ug(this,"space",o),typeof a=="number")for(;++u<Rc.length;){const c=Rc[u];Ug(this,Rc[u],(a&rd[c])===rd[c])}}}xd.prototype.defined=!0;function Ug(l,t,n){n&&(l[t]=n)}function or(l){const t={},n={};for(const[a,o]of Object.entries(l.properties)){const u=new xd(a,l.transform(l.attributes||{},a),o,l.space);l.mustUseProperty&&l.mustUseProperty.includes(a)&&(u.mustUseProperty=!0),t[a]=u,n[id(a)]=a,n[id(u.attribute)]=a}return new Ea(t,n,l.space)}const F0=or({properties:{ariaActiveDescendant:null,ariaAtomic:Nt,ariaAutoComplete:null,ariaBusy:Nt,ariaChecked:Nt,ariaColCount:re,ariaColIndex:re,ariaColSpan:re,ariaControls:st,ariaCurrent:null,ariaDescribedBy:st,ariaDetails:null,ariaDisabled:Nt,ariaDropEffect:st,ariaErrorMessage:null,ariaExpanded:Nt,ariaFlowTo:st,ariaGrabbed:Nt,ariaHasPopup:null,ariaHidden:Nt,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:st,ariaLevel:re,ariaLive:null,ariaModal:Nt,ariaMultiLine:Nt,ariaMultiSelectable:Nt,ariaOrientation:null,ariaOwns:st,ariaPlaceholder:null,ariaPosInSet:re,ariaPressed:Nt,ariaReadOnly:Nt,ariaRelevant:null,ariaRequired:Nt,ariaRoleDescription:st,ariaRowCount:re,ariaRowIndex:re,ariaRowSpan:re,ariaSelected:Nt,ariaSetSize:re,ariaSort:null,ariaValueMax:re,ariaValueMin:re,ariaValueNow:re,ariaValueText:null,role:null},transform(l,t){return t==="role"?t:"aria-"+t.slice(4).toLowerCase()}});function Y0(l,t){return t in l?l[t]:t}function K0(l,t){return Y0(l,t.toLowerCase())}const qE=or({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:nr,acceptCharset:st,accessKey:st,action:null,allow:null,allowFullScreen:Le,allowPaymentRequest:Le,allowUserMedia:Le,alt:null,as:null,async:Le,autoCapitalize:null,autoComplete:st,autoFocus:Le,autoPlay:Le,blocking:st,capture:null,charSet:null,checked:Le,cite:null,className:st,cols:re,colSpan:null,content:null,contentEditable:Nt,controls:Le,controlsList:st,coords:re|nr,crossOrigin:null,data:null,dateTime:null,decoding:null,default:Le,defer:Le,dir:null,dirName:null,disabled:Le,download:ld,draggable:Nt,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:Le,formTarget:null,headers:st,height:re,hidden:ld,high:re,href:null,hrefLang:null,htmlFor:st,httpEquiv:st,id:null,imageSizes:null,imageSrcSet:null,inert:Le,inputMode:null,integrity:null,is:null,isMap:Le,itemId:null,itemProp:st,itemRef:st,itemScope:Le,itemType:st,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:Le,low:re,manifest:null,max:null,maxLength:re,media:null,method:null,min:null,minLength:re,multiple:Le,muted:Le,name:null,nonce:null,noModule:Le,noValidate:Le,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:Le,optimum:re,pattern:null,ping:st,placeholder:null,playsInline:Le,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:Le,referrerPolicy:null,rel:st,required:Le,reversed:Le,rows:re,rowSpan:re,sandbox:st,scope:null,scoped:Le,seamless:Le,selected:Le,shadowRootClonable:Le,shadowRootDelegatesFocus:Le,shadowRootMode:null,shape:null,size:re,sizes:null,slot:null,span:re,spellCheck:Nt,src:null,srcDoc:null,srcLang:null,srcSet:null,start:re,step:null,style:null,tabIndex:re,target:null,title:null,translate:null,type:null,typeMustMatch:Le,useMap:null,value:Nt,width:re,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:st,axis:null,background:null,bgColor:null,border:re,borderColor:null,bottomMargin:re,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:Le,declare:Le,event:null,face:null,frame:null,frameBorder:null,hSpace:re,leftMargin:re,link:null,longDesc:null,lowSrc:null,marginHeight:re,marginWidth:re,noResize:Le,noHref:Le,noShade:Le,noWrap:Le,object:null,profile:null,prompt:null,rev:null,rightMargin:re,rules:null,scheme:null,scrolling:Nt,standby:null,summary:null,text:null,topMargin:re,valueType:null,version:null,vAlign:null,vLink:null,vSpace:re,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:Le,disableRemotePlayback:Le,prefix:null,property:null,results:re,security:null,unselectable:null},space:"html",transform:K0}),GE=or({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:bn,accentHeight:re,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:re,amplitude:re,arabicForm:null,ascent:re,attributeName:null,attributeType:null,azimuth:re,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:re,by:null,calcMode:null,capHeight:re,className:st,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:re,diffuseConstant:re,direction:null,display:null,dur:null,divisor:re,dominantBaseline:null,download:Le,dx:null,dy:null,edgeMode:null,editable:null,elevation:re,enableBackground:null,end:null,event:null,exponent:re,externalResourcesRequired:null,fill:null,fillOpacity:re,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:nr,g2:nr,glyphName:nr,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:re,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:re,horizOriginX:re,horizOriginY:re,id:null,ideographic:re,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:re,k:re,k1:re,k2:re,k3:re,k4:re,kernelMatrix:bn,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:re,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:re,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:re,overlineThickness:re,paintOrder:null,panose1:null,path:null,pathLength:re,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:st,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:re,pointsAtY:re,pointsAtZ:re,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:bn,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:bn,rev:bn,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:bn,requiredFeatures:bn,requiredFonts:bn,requiredFormats:bn,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:re,specularExponent:re,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:re,strikethroughThickness:re,string:null,stroke:null,strokeDashArray:bn,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:re,strokeOpacity:re,strokeWidth:null,style:null,surfaceScale:re,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:bn,tabIndex:re,tableValues:null,target:null,targetX:re,targetY:re,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:bn,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:re,underlineThickness:re,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:re,values:null,vAlphabetic:re,vMathematical:re,vectorEffect:null,vHanging:re,vIdeographic:re,version:null,vertAdvY:re,vertOriginX:re,vertOriginY:re,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:re,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:Y0}),X0=or({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform(l,t){return"xlink:"+t.slice(5).toLowerCase()}}),$0=or({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:K0}),Q0=or({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform(l,t){return"xml:"+t.slice(3).toLowerCase()}}),FE={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},YE=/[A-Z]/g,zg=/-[a-z]/g,KE=/^data[-\w.:]+$/i;function XE(l,t){const n=id(t);let a=t,o=cn;if(n in l.normal)return l.property[l.normal[n]];if(n.length>4&&n.slice(0,4)==="data"&&KE.test(t)){if(t.charAt(4)==="-"){const u=t.slice(5).replace(zg,QE);a="data"+u.charAt(0).toUpperCase()+u.slice(1)}else{const u=t.slice(4);if(!zg.test(u)){let c=u.replace(YE,$E);c.charAt(0)!=="-"&&(c="-"+c),t="data"+c}}o=xd}return new o(a,t)}function $E(l){return"-"+l.toLowerCase()}function QE(l){return l.charAt(1).toUpperCase()}const JE=G0([F0,qE,X0,$0,Q0],"html"),vd=G0([F0,GE,X0,$0,Q0],"svg");function ZE(l){return l.join(" ").trim()}var Zl={},kc,jg;function WE(){if(jg)return kc;jg=1;var l=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,t=/\n/g,n=/^\s*/,a=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,o=/^:\s*/,u=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,c=/^[;\s]*/,h=/^\s+|\s+$/g,x=`
`,f="/",v="*",b="",E="comment",C="declaration";kc=function(U,F){if(typeof U!="string")throw new TypeError("First argument must be a string");if(!U)return[];F=F||{};var L=1,Y=1;function $(he){var ae=he.match(t);ae&&(L+=ae.length);var de=he.lastIndexOf(x);Y=~de?he.length-de:Y+he.length}function Z(){var he={line:L,column:Y};return function(ae){return ae.position=new ne(he),ve(),ae}}function ne(he){this.start=he,this.end={line:L,column:Y},this.source=F.source}ne.prototype.content=U;function K(he){var ae=new Error(F.source+":"+L+":"+Y+": "+he);if(ae.reason=he,ae.filename=F.source,ae.line=L,ae.column=Y,ae.source=U,!F.silent)throw ae}function fe(he){var ae=he.exec(U);if(ae){var de=ae[0];return $(de),U=U.slice(de.length),ae}}function ve(){fe(n)}function xe(he){var ae;for(he=he||[];ae=pe();)ae!==!1&&he.push(ae);return he}function pe(){var he=Z();if(!(f!=U.charAt(0)||v!=U.charAt(1))){for(var ae=2;b!=U.charAt(ae)&&(v!=U.charAt(ae)||f!=U.charAt(ae+1));)++ae;if(ae+=2,b===U.charAt(ae-1))return K("End of comment missing");var de=U.slice(2,ae-2);return Y+=2,$(de),U=U.slice(ae),Y+=2,he({type:E,comment:de})}}function ce(){var he=Z(),ae=fe(a);if(ae){if(pe(),!fe(o))return K("property missing ':'");var de=fe(u),P=he({type:C,property:D(ae[0].replace(l,b)),value:de?D(de[0].replace(l,b)):b});return fe(c),P}}function se(){var he=[];xe(he);for(var ae;ae=ce();)ae!==!1&&(he.push(ae),xe(he));return he}return ve(),se()};function D(U){return U?U.replace(h,b):b}return kc}var Og;function ew(){if(Og)return Zl;Og=1;var l=Zl&&Zl.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(Zl,"__esModule",{value:!0}),Zl.default=n;var t=l(WE());function n(a,o){var u=null;if(!a||typeof a!="string")return u;var c=(0,t.default)(a),h=typeof o=="function";return c.forEach(function(x){if(x.type==="declaration"){var f=x.property,v=x.value;h?o(f,v,x):v&&(u=u||{},u[f]=v)}}),u}return Zl}var ua={},Vg;function tw(){if(Vg)return ua;Vg=1,Object.defineProperty(ua,"__esModule",{value:!0}),ua.camelCase=void 0;var l=/^--[a-zA-Z0-9_-]+$/,t=/-([a-z])/g,n=/^[^-]+$/,a=/^-(webkit|moz|ms|o|khtml)-/,o=/^-(ms)-/,u=function(f){return!f||n.test(f)||l.test(f)},c=function(f,v){return v.toUpperCase()},h=function(f,v){return"".concat(v,"-")},x=function(f,v){return v===void 0&&(v={}),u(f)?f:(f=f.toLowerCase(),v.reactCompat?f=f.replace(o,h):f=f.replace(a,h),f.replace(t,c))};return ua.camelCase=x,ua}var ca,Pg;function nw(){if(Pg)return ca;Pg=1;var l=ca&&ca.__importDefault||function(o){return o&&o.__esModule?o:{default:o}},t=l(ew()),n=tw();function a(o,u){var c={};return!o||typeof o!="string"||(0,t.default)(o,function(h,x){h&&x&&(c[(0,n.camelCase)(h,u)]=x)}),c}return a.default=a,ca=a,ca}var iw=nw();const lw=Sa(iw),J0=Z0("end"),bd=Z0("start");function Z0(l){return t;function t(n){const a=n&&n.position&&n.position[l]||{};if(typeof a.line=="number"&&a.line>0&&typeof a.column=="number"&&a.column>0)return{line:a.line,column:a.column,offset:typeof a.offset=="number"&&a.offset>-1?a.offset:void 0}}}function rw(l){const t=bd(l),n=J0(l);if(t&&n)return{start:t,end:n}}function ya(l){return!l||typeof l!="object"?"":"position"in l||"type"in l?Hg(l.position):"start"in l||"end"in l?Hg(l):"line"in l||"column"in l?ad(l):""}function ad(l){return qg(l&&l.line)+":"+qg(l&&l.column)}function Hg(l){return ad(l&&l.start)+"-"+ad(l&&l.end)}function qg(l){return l&&typeof l=="number"?l:1}class Kt extends Error{constructor(t,n,a){super(),typeof n=="string"&&(a=n,n=void 0);let o="",u={},c=!1;if(n&&("line"in n&&"column"in n?u={place:n}:"start"in n&&"end"in n?u={place:n}:"type"in n?u={ancestors:[n],place:n.position}:u={...n}),typeof t=="string"?o=t:!u.cause&&t&&(c=!0,o=t.message,u.cause=t),!u.ruleId&&!u.source&&typeof a=="string"){const x=a.indexOf(":");x===-1?u.ruleId=a:(u.source=a.slice(0,x),u.ruleId=a.slice(x+1))}if(!u.place&&u.ancestors&&u.ancestors){const x=u.ancestors[u.ancestors.length-1];x&&(u.place=x.position)}const h=u.place&&"start"in u.place?u.place.start:u.place;this.ancestors=u.ancestors||void 0,this.cause=u.cause||void 0,this.column=h?h.column:void 0,this.fatal=void 0,this.file,this.message=o,this.line=h?h.line:void 0,this.name=ya(u.place)||"1:1",this.place=u.place||void 0,this.reason=this.message,this.ruleId=u.ruleId||void 0,this.source=u.source||void 0,this.stack=c&&u.cause&&typeof u.cause.stack=="string"?u.cause.stack:"",this.actual,this.expected,this.note,this.url}}Kt.prototype.file="";Kt.prototype.name="";Kt.prototype.reason="";Kt.prototype.message="";Kt.prototype.stack="";Kt.prototype.column=void 0;Kt.prototype.line=void 0;Kt.prototype.ancestors=void 0;Kt.prototype.cause=void 0;Kt.prototype.fatal=void 0;Kt.prototype.place=void 0;Kt.prototype.ruleId=void 0;Kt.prototype.source=void 0;const Td={}.hasOwnProperty,aw=new Map,ow=/[A-Z]/g,sw=new Set(["table","tbody","thead","tfoot","tr"]),uw=new Set(["td","th"]),W0="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function cw(l,t){if(!t||t.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const n=t.filePath||void 0;let a;if(t.development){if(typeof t.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");a=xw(n,t.jsxDEV)}else{if(typeof t.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof t.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");a=yw(n,t.jsx,t.jsxs)}const o={Fragment:t.Fragment,ancestors:[],components:t.components||{},create:a,elementAttributeNameCase:t.elementAttributeNameCase||"react",evaluater:t.createEvaluater?t.createEvaluater():void 0,filePath:n,ignoreInvalidStyle:t.ignoreInvalidStyle||!1,passKeys:t.passKeys!==!1,passNode:t.passNode||!1,schema:t.space==="svg"?vd:JE,stylePropertyNameCase:t.stylePropertyNameCase||"dom",tableCellAlignToStyle:t.tableCellAlignToStyle!==!1},u=ey(o,l,void 0);return u&&typeof u!="string"?u:o.create(l,o.Fragment,{children:u||void 0},void 0)}function ey(l,t,n){if(t.type==="element")return dw(l,t,n);if(t.type==="mdxFlowExpression"||t.type==="mdxTextExpression")return fw(l,t);if(t.type==="mdxJsxFlowElement"||t.type==="mdxJsxTextElement")return mw(l,t,n);if(t.type==="mdxjsEsm")return hw(l,t);if(t.type==="root")return pw(l,t,n);if(t.type==="text")return gw(l,t)}function dw(l,t,n){const a=l.schema;let o=a;t.tagName.toLowerCase()==="svg"&&a.space==="html"&&(o=vd,l.schema=o),l.ancestors.push(t);const u=ny(l,t.tagName,!1),c=vw(l,t);let h=Cd(l,t);return sw.has(t.tagName)&&(h=h.filter(function(x){return typeof x=="string"?!PE(x):!0})),ty(l,c,u,t),Sd(c,h),l.ancestors.pop(),l.schema=a,l.create(t,u,c,n)}function fw(l,t){if(t.data&&t.data.estree&&l.evaluater){const a=t.data.estree.body[0];return a.type,l.evaluater.evaluateExpression(a.expression)}Ta(l,t.position)}function hw(l,t){if(t.data&&t.data.estree&&l.evaluater)return l.evaluater.evaluateProgram(t.data.estree);Ta(l,t.position)}function mw(l,t,n){const a=l.schema;let o=a;t.name==="svg"&&a.space==="html"&&(o=vd,l.schema=o),l.ancestors.push(t);const u=t.name===null?l.Fragment:ny(l,t.name,!0),c=bw(l,t),h=Cd(l,t);return ty(l,c,u,t),Sd(c,h),l.ancestors.pop(),l.schema=a,l.create(t,u,c,n)}function pw(l,t,n){const a={};return Sd(a,Cd(l,t)),l.create(t,l.Fragment,a,n)}function gw(l,t){return t.value}function ty(l,t,n,a){typeof n!="string"&&n!==l.Fragment&&l.passNode&&(t.node=a)}function Sd(l,t){if(t.length>0){const n=t.length>1?t:t[0];n&&(l.children=n)}}function yw(l,t,n){return a;function a(o,u,c,h){const f=Array.isArray(c.children)?n:t;return h?f(u,c,h):f(u,c)}}function xw(l,t){return n;function n(a,o,u,c){const h=Array.isArray(u.children),x=bd(a);return t(o,u,c,h,{columnNumber:x?x.column-1:void 0,fileName:l,lineNumber:x?x.line:void 0},void 0)}}function vw(l,t){const n={};let a,o;for(o in t.properties)if(o!=="children"&&Td.call(t.properties,o)){const u=Tw(l,o,t.properties[o]);if(u){const[c,h]=u;l.tableCellAlignToStyle&&c==="align"&&typeof h=="string"&&uw.has(t.tagName)?a=h:n[c]=h}}if(a){const u=n.style||(n.style={});u[l.stylePropertyNameCase==="css"?"text-align":"textAlign"]=a}return n}function bw(l,t){const n={};for(const a of t.attributes)if(a.type==="mdxJsxExpressionAttribute")if(a.data&&a.data.estree&&l.evaluater){const u=a.data.estree.body[0];u.type;const c=u.expression;c.type;const h=c.properties[0];h.type,Object.assign(n,l.evaluater.evaluateExpression(h.argument))}else Ta(l,t.position);else{const o=a.name;let u;if(a.value&&typeof a.value=="object")if(a.value.data&&a.value.data.estree&&l.evaluater){const h=a.value.data.estree.body[0];h.type,u=l.evaluater.evaluateExpression(h.expression)}else Ta(l,t.position);else u=a.value===null?!0:a.value;n[o]=u}return n}function Cd(l,t){const n=[];let a=-1;const o=l.passKeys?new Map:aw;for(;++a<t.children.length;){const u=t.children[a];let c;if(l.passKeys){const x=u.type==="element"?u.tagName:u.type==="mdxJsxFlowElement"||u.type==="mdxJsxTextElement"?u.name:void 0;if(x){const f=o.get(x)||0;c=x+"-"+f,o.set(x,f+1)}}const h=ey(l,u,c);h!==void 0&&n.push(h)}return n}function Tw(l,t,n){const a=XE(l.schema,t);if(!(n==null||typeof n=="number"&&Number.isNaN(n))){if(Array.isArray(n)&&(n=a.commaSeparated?UE(n):ZE(n)),a.property==="style"){let o=typeof n=="object"?n:Sw(l,String(n));return l.stylePropertyNameCase==="css"&&(o=Cw(o)),["style",o]}return[l.elementAttributeNameCase==="react"&&a.space?FE[a.property]||a.property:a.attribute,n]}}function Sw(l,t){try{return lw(t,{reactCompat:!0})}catch(n){if(l.ignoreInvalidStyle)return{};const a=n,o=new Kt("Cannot parse `style` attribute",{ancestors:l.ancestors,cause:a,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw o.file=l.filePath||void 0,o.url=W0+"#cannot-parse-style-attribute",o}}function ny(l,t,n){let a;if(!n)a={type:"Literal",value:t};else if(t.includes(".")){const o=t.split(".");let u=-1,c;for(;++u<o.length;){const h=Lg(o[u])?{type:"Identifier",name:o[u]}:{type:"Literal",value:o[u]};c=c?{type:"MemberExpression",object:c,property:h,computed:!!(u&&h.type==="Literal"),optional:!1}:h}a=c}else a=Lg(t)&&!/^[a-z]/.test(t)?{type:"Identifier",name:t}:{type:"Literal",value:t};if(a.type==="Literal"){const o=a.value;return Td.call(l.components,o)?l.components[o]:o}if(l.evaluater)return l.evaluater.evaluateExpression(a);Ta(l)}function Ta(l,t){const n=new Kt("Cannot handle MDX estrees without `createEvaluater`",{ancestors:l.ancestors,place:t,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw n.file=l.filePath||void 0,n.url=W0+"#cannot-handle-mdx-estrees-without-createevaluater",n}function Cw(l){const t={};let n;for(n in l)Td.call(l,n)&&(t[Ew(n)]=l[n]);return t}function Ew(l){let t=l.replace(ow,ww);return t.slice(0,3)==="ms-"&&(t="-"+t),t}function ww(l){return"-"+l.toLowerCase()}const Lc={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},Aw={};function Nw(l,t){const n=Aw,a=typeof n.includeImageAlt=="boolean"?n.includeImageAlt:!0,o=typeof n.includeHtml=="boolean"?n.includeHtml:!0;return iy(l,a,o)}function iy(l,t,n){if(Mw(l)){if("value"in l)return l.type==="html"&&!n?"":l.value;if(t&&"alt"in l&&l.alt)return l.alt;if("children"in l)return Gg(l.children,t,n)}return Array.isArray(l)?Gg(l,t,n):""}function Gg(l,t,n){const a=[];let o=-1;for(;++o<l.length;)a[o]=iy(l[o],t,n);return a.join("")}function Mw(l){return!!(l&&typeof l=="object")}const Fg=document.createElement("i");function Ed(l){const t="&"+l+";";Fg.innerHTML=t;const n=Fg.textContent;return n.charCodeAt(n.length-1)===59&&l!=="semi"||n===t?!1:n}function $n(l,t,n,a){const o=l.length;let u=0,c;if(t<0?t=-t>o?0:o+t:t=t>o?o:t,n=n>0?n:0,a.length<1e4)c=Array.from(a),c.unshift(t,n),l.splice(...c);else for(n&&l.splice(t,n);u<a.length;)c=a.slice(u,u+1e4),c.unshift(t,0),l.splice(...c),u+=1e4,t+=1e4}function Bn(l,t){return l.length>0?($n(l,l.length,0,t),l):t}const Yg={}.hasOwnProperty;function _w(l){const t={};let n=-1;for(;++n<l.length;)Dw(t,l[n]);return t}function Dw(l,t){let n;for(n in t){const o=(Yg.call(l,n)?l[n]:void 0)||(l[n]={}),u=t[n];let c;if(u)for(c in u){Yg.call(o,c)||(o[c]=[]);const h=u[c];Iw(o[c],Array.isArray(h)?h:h?[h]:[])}}}function Iw(l,t){let n=-1;const a=[];for(;++n<t.length;)(t[n].add==="after"?l:a).push(t[n]);$n(l,0,0,a)}function ly(l,t){const n=Number.parseInt(l,t);return n<9||n===11||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||(n&65535)===65535||(n&65535)===65534||n>1114111?"":String.fromCodePoint(n)}function ir(l){return l.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const Xn=Gi(/[A-Za-z]/),Tn=Gi(/[\dA-Za-z]/),Rw=Gi(/[#-'*+\--9=?A-Z^-~]/);function od(l){return l!==null&&(l<32||l===127)}const sd=Gi(/\d/),kw=Gi(/[\dA-Fa-f]/),Lw=Gi(/[!-/:-@[-`{-~]/);function _e(l){return l!==null&&l<-2}function un(l){return l!==null&&(l<0||l===32)}function Je(l){return l===-2||l===-1||l===32}const Bw=Gi(new RegExp("\\p{P}|\\p{S}","u")),Uw=Gi(/\s/);function Gi(l){return t;function t(n){return n!==null&&n>-1&&l.test(String.fromCharCode(n))}}function sr(l){const t=[];let n=-1,a=0,o=0;for(;++n<l.length;){const u=l.charCodeAt(n);let c="";if(u===37&&Tn(l.charCodeAt(n+1))&&Tn(l.charCodeAt(n+2)))o=2;else if(u<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(u))||(c=String.fromCharCode(u));else if(u>55295&&u<57344){const h=l.charCodeAt(n+1);u<56320&&h>56319&&h<57344?(c=String.fromCharCode(u,h),o=1):c=""}else c=String.fromCharCode(u);c&&(t.push(l.slice(a,n),encodeURIComponent(c)),a=n+o+1,c=""),o&&(n+=o,o=0)}return t.join("")+l.slice(a)}function ut(l,t,n,a){const o=a?a-1:Number.POSITIVE_INFINITY;let u=0;return c;function c(x){return Je(x)?(l.enter(n),h(x)):t(x)}function h(x){return Je(x)&&u++<o?(l.consume(x),h):(l.exit(n),t(x))}}const zw={tokenize:jw};function jw(l){const t=l.attempt(this.parser.constructs.contentInitial,a,o);let n;return t;function a(h){if(h===null){l.consume(h);return}return l.enter("lineEnding"),l.consume(h),l.exit("lineEnding"),ut(l,t,"linePrefix")}function o(h){return l.enter("paragraph"),u(h)}function u(h){const x=l.enter("chunkText",{contentType:"text",previous:n});return n&&(n.next=x),n=x,c(h)}function c(h){if(h===null){l.exit("chunkText"),l.exit("paragraph"),l.consume(h);return}return _e(h)?(l.consume(h),l.exit("chunkText"),u):(l.consume(h),c)}}const Ow={tokenize:Vw},Kg={tokenize:Pw};function Vw(l){const t=this,n=[];let a=0,o,u,c;return h;function h($){if(a<n.length){const Z=n[a];return t.containerState=Z[1],l.attempt(Z[0].continuation,x,f)($)}return f($)}function x($){if(a++,t.containerState._closeFlow){t.containerState._closeFlow=void 0,o&&Y();const Z=t.events.length;let ne=Z,K;for(;ne--;)if(t.events[ne][0]==="exit"&&t.events[ne][1].type==="chunkFlow"){K=t.events[ne][1].end;break}L(a);let fe=Z;for(;fe<t.events.length;)t.events[fe][1].end={...K},fe++;return $n(t.events,ne+1,0,t.events.slice(Z)),t.events.length=fe,f($)}return h($)}function f($){if(a===n.length){if(!o)return E($);if(o.currentConstruct&&o.currentConstruct.concrete)return D($);t.interrupt=!!(o.currentConstruct&&!o._gfmTableDynamicInterruptHack)}return t.containerState={},l.check(Kg,v,b)($)}function v($){return o&&Y(),L(a),E($)}function b($){return t.parser.lazy[t.now().line]=a!==n.length,c=t.now().offset,D($)}function E($){return t.containerState={},l.attempt(Kg,C,D)($)}function C($){return a++,n.push([t.currentConstruct,t.containerState]),E($)}function D($){if($===null){o&&Y(),L(0),l.consume($);return}return o=o||t.parser.flow(t.now()),l.enter("chunkFlow",{_tokenizer:o,contentType:"flow",previous:u}),U($)}function U($){if($===null){F(l.exit("chunkFlow"),!0),L(0),l.consume($);return}return _e($)?(l.consume($),F(l.exit("chunkFlow")),a=0,t.interrupt=void 0,h):(l.consume($),U)}function F($,Z){const ne=t.sliceStream($);if(Z&&ne.push(null),$.previous=u,u&&(u.next=$),u=$,o.defineSkip($.start),o.write(ne),t.parser.lazy[$.start.line]){let K=o.events.length;for(;K--;)if(o.events[K][1].start.offset<c&&(!o.events[K][1].end||o.events[K][1].end.offset>c))return;const fe=t.events.length;let ve=fe,xe,pe;for(;ve--;)if(t.events[ve][0]==="exit"&&t.events[ve][1].type==="chunkFlow"){if(xe){pe=t.events[ve][1].end;break}xe=!0}for(L(a),K=fe;K<t.events.length;)t.events[K][1].end={...pe},K++;$n(t.events,ve+1,0,t.events.slice(fe)),t.events.length=K}}function L($){let Z=n.length;for(;Z-- >$;){const ne=n[Z];t.containerState=ne[1],ne[0].exit.call(t,l)}n.length=$}function Y(){o.write([null]),u=void 0,o=void 0,t.containerState._closeFlow=void 0}}function Pw(l,t,n){return ut(l,l.attempt(this.parser.constructs.document,t,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function Xg(l){if(l===null||un(l)||Uw(l))return 1;if(Bw(l))return 2}function wd(l,t,n){const a=[];let o=-1;for(;++o<l.length;){const u=l[o].resolveAll;u&&!a.includes(u)&&(t=u(t,n),a.push(u))}return t}const ud={name:"attention",resolveAll:Hw,tokenize:qw};function Hw(l,t){let n=-1,a,o,u,c,h,x,f,v;for(;++n<l.length;)if(l[n][0]==="enter"&&l[n][1].type==="attentionSequence"&&l[n][1]._close){for(a=n;a--;)if(l[a][0]==="exit"&&l[a][1].type==="attentionSequence"&&l[a][1]._open&&t.sliceSerialize(l[a][1]).charCodeAt(0)===t.sliceSerialize(l[n][1]).charCodeAt(0)){if((l[a][1]._close||l[n][1]._open)&&(l[n][1].end.offset-l[n][1].start.offset)%3&&!((l[a][1].end.offset-l[a][1].start.offset+l[n][1].end.offset-l[n][1].start.offset)%3))continue;x=l[a][1].end.offset-l[a][1].start.offset>1&&l[n][1].end.offset-l[n][1].start.offset>1?2:1;const b={...l[a][1].end},E={...l[n][1].start};$g(b,-x),$g(E,x),c={type:x>1?"strongSequence":"emphasisSequence",start:b,end:{...l[a][1].end}},h={type:x>1?"strongSequence":"emphasisSequence",start:{...l[n][1].start},end:E},u={type:x>1?"strongText":"emphasisText",start:{...l[a][1].end},end:{...l[n][1].start}},o={type:x>1?"strong":"emphasis",start:{...c.start},end:{...h.end}},l[a][1].end={...c.start},l[n][1].start={...h.end},f=[],l[a][1].end.offset-l[a][1].start.offset&&(f=Bn(f,[["enter",l[a][1],t],["exit",l[a][1],t]])),f=Bn(f,[["enter",o,t],["enter",c,t],["exit",c,t],["enter",u,t]]),f=Bn(f,wd(t.parser.constructs.insideSpan.null,l.slice(a+1,n),t)),f=Bn(f,[["exit",u,t],["enter",h,t],["exit",h,t],["exit",o,t]]),l[n][1].end.offset-l[n][1].start.offset?(v=2,f=Bn(f,[["enter",l[n][1],t],["exit",l[n][1],t]])):v=0,$n(l,a-1,n-a+3,f),n=a+f.length-v-2;break}}for(n=-1;++n<l.length;)l[n][1].type==="attentionSequence"&&(l[n][1].type="data");return l}function qw(l,t){const n=this.parser.constructs.attentionMarkers.null,a=this.previous,o=Xg(a);let u;return c;function c(x){return u=x,l.enter("attentionSequence"),h(x)}function h(x){if(x===u)return l.consume(x),h;const f=l.exit("attentionSequence"),v=Xg(x),b=!v||v===2&&o||n.includes(x),E=!o||o===2&&v||n.includes(a);return f._open=!!(u===42?b:b&&(o||!E)),f._close=!!(u===42?E:E&&(v||!b)),t(x)}}function $g(l,t){l.column+=t,l.offset+=t,l._bufferIndex+=t}const Gw={name:"autolink",tokenize:Fw};function Fw(l,t,n){let a=0;return o;function o(C){return l.enter("autolink"),l.enter("autolinkMarker"),l.consume(C),l.exit("autolinkMarker"),l.enter("autolinkProtocol"),u}function u(C){return Xn(C)?(l.consume(C),c):C===64?n(C):f(C)}function c(C){return C===43||C===45||C===46||Tn(C)?(a=1,h(C)):f(C)}function h(C){return C===58?(l.consume(C),a=0,x):(C===43||C===45||C===46||Tn(C))&&a++<32?(l.consume(C),h):(a=0,f(C))}function x(C){return C===62?(l.exit("autolinkProtocol"),l.enter("autolinkMarker"),l.consume(C),l.exit("autolinkMarker"),l.exit("autolink"),t):C===null||C===32||C===60||od(C)?n(C):(l.consume(C),x)}function f(C){return C===64?(l.consume(C),v):Rw(C)?(l.consume(C),f):n(C)}function v(C){return Tn(C)?b(C):n(C)}function b(C){return C===46?(l.consume(C),a=0,v):C===62?(l.exit("autolinkProtocol").type="autolinkEmail",l.enter("autolinkMarker"),l.consume(C),l.exit("autolinkMarker"),l.exit("autolink"),t):E(C)}function E(C){if((C===45||Tn(C))&&a++<63){const D=C===45?E:b;return l.consume(C),D}return n(C)}}const fs={partial:!0,tokenize:Yw};function Yw(l,t,n){return a;function a(u){return Je(u)?ut(l,o,"linePrefix")(u):o(u)}function o(u){return u===null||_e(u)?t(u):n(u)}}const ry={continuation:{tokenize:Xw},exit:$w,name:"blockQuote",tokenize:Kw};function Kw(l,t,n){const a=this;return o;function o(c){if(c===62){const h=a.containerState;return h.open||(l.enter("blockQuote",{_container:!0}),h.open=!0),l.enter("blockQuotePrefix"),l.enter("blockQuoteMarker"),l.consume(c),l.exit("blockQuoteMarker"),u}return n(c)}function u(c){return Je(c)?(l.enter("blockQuotePrefixWhitespace"),l.consume(c),l.exit("blockQuotePrefixWhitespace"),l.exit("blockQuotePrefix"),t):(l.exit("blockQuotePrefix"),t(c))}}function Xw(l,t,n){const a=this;return o;function o(c){return Je(c)?ut(l,u,"linePrefix",a.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(c):u(c)}function u(c){return l.attempt(ry,t,n)(c)}}function $w(l){l.exit("blockQuote")}const ay={name:"characterEscape",tokenize:Qw};function Qw(l,t,n){return a;function a(u){return l.enter("characterEscape"),l.enter("escapeMarker"),l.consume(u),l.exit("escapeMarker"),o}function o(u){return Lw(u)?(l.enter("characterEscapeValue"),l.consume(u),l.exit("characterEscapeValue"),l.exit("characterEscape"),t):n(u)}}const oy={name:"characterReference",tokenize:Jw};function Jw(l,t,n){const a=this;let o=0,u,c;return h;function h(b){return l.enter("characterReference"),l.enter("characterReferenceMarker"),l.consume(b),l.exit("characterReferenceMarker"),x}function x(b){return b===35?(l.enter("characterReferenceMarkerNumeric"),l.consume(b),l.exit("characterReferenceMarkerNumeric"),f):(l.enter("characterReferenceValue"),u=31,c=Tn,v(b))}function f(b){return b===88||b===120?(l.enter("characterReferenceMarkerHexadecimal"),l.consume(b),l.exit("characterReferenceMarkerHexadecimal"),l.enter("characterReferenceValue"),u=6,c=kw,v):(l.enter("characterReferenceValue"),u=7,c=sd,v(b))}function v(b){if(b===59&&o){const E=l.exit("characterReferenceValue");return c===Tn&&!Ed(a.sliceSerialize(E))?n(b):(l.enter("characterReferenceMarker"),l.consume(b),l.exit("characterReferenceMarker"),l.exit("characterReference"),t)}return c(b)&&o++<u?(l.consume(b),v):n(b)}}const Qg={partial:!0,tokenize:Ww},Jg={concrete:!0,name:"codeFenced",tokenize:Zw};function Zw(l,t,n){const a=this,o={partial:!0,tokenize:ne};let u=0,c=0,h;return x;function x(K){return f(K)}function f(K){const fe=a.events[a.events.length-1];return u=fe&&fe[1].type==="linePrefix"?fe[2].sliceSerialize(fe[1],!0).length:0,h=K,l.enter("codeFenced"),l.enter("codeFencedFence"),l.enter("codeFencedFenceSequence"),v(K)}function v(K){return K===h?(c++,l.consume(K),v):c<3?n(K):(l.exit("codeFencedFenceSequence"),Je(K)?ut(l,b,"whitespace")(K):b(K))}function b(K){return K===null||_e(K)?(l.exit("codeFencedFence"),a.interrupt?t(K):l.check(Qg,U,Z)(K)):(l.enter("codeFencedFenceInfo"),l.enter("chunkString",{contentType:"string"}),E(K))}function E(K){return K===null||_e(K)?(l.exit("chunkString"),l.exit("codeFencedFenceInfo"),b(K)):Je(K)?(l.exit("chunkString"),l.exit("codeFencedFenceInfo"),ut(l,C,"whitespace")(K)):K===96&&K===h?n(K):(l.consume(K),E)}function C(K){return K===null||_e(K)?b(K):(l.enter("codeFencedFenceMeta"),l.enter("chunkString",{contentType:"string"}),D(K))}function D(K){return K===null||_e(K)?(l.exit("chunkString"),l.exit("codeFencedFenceMeta"),b(K)):K===96&&K===h?n(K):(l.consume(K),D)}function U(K){return l.attempt(o,Z,F)(K)}function F(K){return l.enter("lineEnding"),l.consume(K),l.exit("lineEnding"),L}function L(K){return u>0&&Je(K)?ut(l,Y,"linePrefix",u+1)(K):Y(K)}function Y(K){return K===null||_e(K)?l.check(Qg,U,Z)(K):(l.enter("codeFlowValue"),$(K))}function $(K){return K===null||_e(K)?(l.exit("codeFlowValue"),Y(K)):(l.consume(K),$)}function Z(K){return l.exit("codeFenced"),t(K)}function ne(K,fe,ve){let xe=0;return pe;function pe(de){return K.enter("lineEnding"),K.consume(de),K.exit("lineEnding"),ce}function ce(de){return K.enter("codeFencedFence"),Je(de)?ut(K,se,"linePrefix",a.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(de):se(de)}function se(de){return de===h?(K.enter("codeFencedFenceSequence"),he(de)):ve(de)}function he(de){return de===h?(xe++,K.consume(de),he):xe>=c?(K.exit("codeFencedFenceSequence"),Je(de)?ut(K,ae,"whitespace")(de):ae(de)):ve(de)}function ae(de){return de===null||_e(de)?(K.exit("codeFencedFence"),fe(de)):ve(de)}}}function Ww(l,t,n){const a=this;return o;function o(c){return c===null?n(c):(l.enter("lineEnding"),l.consume(c),l.exit("lineEnding"),u)}function u(c){return a.parser.lazy[a.now().line]?n(c):t(c)}}const Bc={name:"codeIndented",tokenize:tA},eA={partial:!0,tokenize:nA};function tA(l,t,n){const a=this;return o;function o(f){return l.enter("codeIndented"),ut(l,u,"linePrefix",5)(f)}function u(f){const v=a.events[a.events.length-1];return v&&v[1].type==="linePrefix"&&v[2].sliceSerialize(v[1],!0).length>=4?c(f):n(f)}function c(f){return f===null?x(f):_e(f)?l.attempt(eA,c,x)(f):(l.enter("codeFlowValue"),h(f))}function h(f){return f===null||_e(f)?(l.exit("codeFlowValue"),c(f)):(l.consume(f),h)}function x(f){return l.exit("codeIndented"),t(f)}}function nA(l,t,n){const a=this;return o;function o(c){return a.parser.lazy[a.now().line]?n(c):_e(c)?(l.enter("lineEnding"),l.consume(c),l.exit("lineEnding"),o):ut(l,u,"linePrefix",5)(c)}function u(c){const h=a.events[a.events.length-1];return h&&h[1].type==="linePrefix"&&h[2].sliceSerialize(h[1],!0).length>=4?t(c):_e(c)?o(c):n(c)}}const iA={name:"codeText",previous:rA,resolve:lA,tokenize:aA};function lA(l){let t=l.length-4,n=3,a,o;if((l[n][1].type==="lineEnding"||l[n][1].type==="space")&&(l[t][1].type==="lineEnding"||l[t][1].type==="space")){for(a=n;++a<t;)if(l[a][1].type==="codeTextData"){l[n][1].type="codeTextPadding",l[t][1].type="codeTextPadding",n+=2,t-=2;break}}for(a=n-1,t++;++a<=t;)o===void 0?a!==t&&l[a][1].type!=="lineEnding"&&(o=a):(a===t||l[a][1].type==="lineEnding")&&(l[o][1].type="codeTextData",a!==o+2&&(l[o][1].end=l[a-1][1].end,l.splice(o+2,a-o-2),t-=a-o-2,a=o+2),o=void 0);return l}function rA(l){return l!==96||this.events[this.events.length-1][1].type==="characterEscape"}function aA(l,t,n){let a=0,o,u;return c;function c(b){return l.enter("codeText"),l.enter("codeTextSequence"),h(b)}function h(b){return b===96?(l.consume(b),a++,h):(l.exit("codeTextSequence"),x(b))}function x(b){return b===null?n(b):b===32?(l.enter("space"),l.consume(b),l.exit("space"),x):b===96?(u=l.enter("codeTextSequence"),o=0,v(b)):_e(b)?(l.enter("lineEnding"),l.consume(b),l.exit("lineEnding"),x):(l.enter("codeTextData"),f(b))}function f(b){return b===null||b===32||b===96||_e(b)?(l.exit("codeTextData"),x(b)):(l.consume(b),f)}function v(b){return b===96?(l.consume(b),o++,v):o===a?(l.exit("codeTextSequence"),l.exit("codeText"),t(b)):(u.type="codeTextData",f(b))}}class oA{constructor(t){this.left=t?[...t]:[],this.right=[]}get(t){if(t<0||t>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+t+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return t<this.left.length?this.left[t]:this.right[this.right.length-t+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(t,n){const a=n??Number.POSITIVE_INFINITY;return a<this.left.length?this.left.slice(t,a):t>this.left.length?this.right.slice(this.right.length-a+this.left.length,this.right.length-t+this.left.length).reverse():this.left.slice(t).concat(this.right.slice(this.right.length-a+this.left.length).reverse())}splice(t,n,a){const o=n||0;this.setCursor(Math.trunc(t));const u=this.right.splice(this.right.length-o,Number.POSITIVE_INFINITY);return a&&da(this.left,a),u.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(t){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(t)}pushMany(t){this.setCursor(Number.POSITIVE_INFINITY),da(this.left,t)}unshift(t){this.setCursor(0),this.right.push(t)}unshiftMany(t){this.setCursor(0),da(this.right,t.reverse())}setCursor(t){if(!(t===this.left.length||t>this.left.length&&this.right.length===0||t<0&&this.left.length===0))if(t<this.left.length){const n=this.left.splice(t,Number.POSITIVE_INFINITY);da(this.right,n.reverse())}else{const n=this.right.splice(this.left.length+this.right.length-t,Number.POSITIVE_INFINITY);da(this.left,n.reverse())}}}function da(l,t){let n=0;if(t.length<1e4)l.push(...t);else for(;n<t.length;)l.push(...t.slice(n,n+1e4)),n+=1e4}function sy(l){const t={};let n=-1,a,o,u,c,h,x,f;const v=new oA(l);for(;++n<v.length;){for(;n in t;)n=t[n];if(a=v.get(n),n&&a[1].type==="chunkFlow"&&v.get(n-1)[1].type==="listItemPrefix"&&(x=a[1]._tokenizer.events,u=0,u<x.length&&x[u][1].type==="lineEndingBlank"&&(u+=2),u<x.length&&x[u][1].type==="content"))for(;++u<x.length&&x[u][1].type!=="content";)x[u][1].type==="chunkText"&&(x[u][1]._isInFirstContentOfListItem=!0,u++);if(a[0]==="enter")a[1].contentType&&(Object.assign(t,sA(v,n)),n=t[n],f=!0);else if(a[1]._container){for(u=n,o=void 0;u--;)if(c=v.get(u),c[1].type==="lineEnding"||c[1].type==="lineEndingBlank")c[0]==="enter"&&(o&&(v.get(o)[1].type="lineEndingBlank"),c[1].type="lineEnding",o=u);else if(!(c[1].type==="linePrefix"||c[1].type==="listItemIndent"))break;o&&(a[1].end={...v.get(o)[1].start},h=v.slice(o,n),h.unshift(a),v.splice(o,n-o+1,h))}}return $n(l,0,Number.POSITIVE_INFINITY,v.slice(0)),!f}function sA(l,t){const n=l.get(t)[1],a=l.get(t)[2];let o=t-1;const u=[];let c=n._tokenizer;c||(c=a.parser[n.contentType](n.start),n._contentTypeTextTrailing&&(c._contentTypeTextTrailing=!0));const h=c.events,x=[],f={};let v,b,E=-1,C=n,D=0,U=0;const F=[U];for(;C;){for(;l.get(++o)[1]!==C;);u.push(o),C._tokenizer||(v=a.sliceStream(C),C.next||v.push(null),b&&c.defineSkip(C.start),C._isInFirstContentOfListItem&&(c._gfmTasklistFirstContentOfListItem=!0),c.write(v),C._isInFirstContentOfListItem&&(c._gfmTasklistFirstContentOfListItem=void 0)),b=C,C=C.next}for(C=n;++E<h.length;)h[E][0]==="exit"&&h[E-1][0]==="enter"&&h[E][1].type===h[E-1][1].type&&h[E][1].start.line!==h[E][1].end.line&&(U=E+1,F.push(U),C._tokenizer=void 0,C.previous=void 0,C=C.next);for(c.events=[],C?(C._tokenizer=void 0,C.previous=void 0):F.pop(),E=F.length;E--;){const L=h.slice(F[E],F[E+1]),Y=u.pop();x.push([Y,Y+L.length-1]),l.splice(Y,2,L)}for(x.reverse(),E=-1;++E<x.length;)f[D+x[E][0]]=D+x[E][1],D+=x[E][1]-x[E][0]-1;return f}const uA={resolve:dA,tokenize:fA},cA={partial:!0,tokenize:hA};function dA(l){return sy(l),l}function fA(l,t){let n;return a;function a(h){return l.enter("content"),n=l.enter("chunkContent",{contentType:"content"}),o(h)}function o(h){return h===null?u(h):_e(h)?l.check(cA,c,u)(h):(l.consume(h),o)}function u(h){return l.exit("chunkContent"),l.exit("content"),t(h)}function c(h){return l.consume(h),l.exit("chunkContent"),n.next=l.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,o}}function hA(l,t,n){const a=this;return o;function o(c){return l.exit("chunkContent"),l.enter("lineEnding"),l.consume(c),l.exit("lineEnding"),ut(l,u,"linePrefix")}function u(c){if(c===null||_e(c))return n(c);const h=a.events[a.events.length-1];return!a.parser.constructs.disable.null.includes("codeIndented")&&h&&h[1].type==="linePrefix"&&h[2].sliceSerialize(h[1],!0).length>=4?t(c):l.interrupt(a.parser.constructs.flow,n,t)(c)}}function uy(l,t,n,a,o,u,c,h,x){const f=x||Number.POSITIVE_INFINITY;let v=0;return b;function b(L){return L===60?(l.enter(a),l.enter(o),l.enter(u),l.consume(L),l.exit(u),E):L===null||L===32||L===41||od(L)?n(L):(l.enter(a),l.enter(c),l.enter(h),l.enter("chunkString",{contentType:"string"}),U(L))}function E(L){return L===62?(l.enter(u),l.consume(L),l.exit(u),l.exit(o),l.exit(a),t):(l.enter(h),l.enter("chunkString",{contentType:"string"}),C(L))}function C(L){return L===62?(l.exit("chunkString"),l.exit(h),E(L)):L===null||L===60||_e(L)?n(L):(l.consume(L),L===92?D:C)}function D(L){return L===60||L===62||L===92?(l.consume(L),C):C(L)}function U(L){return!v&&(L===null||L===41||un(L))?(l.exit("chunkString"),l.exit(h),l.exit(c),l.exit(a),t(L)):v<f&&L===40?(l.consume(L),v++,U):L===41?(l.consume(L),v--,U):L===null||L===32||L===40||od(L)?n(L):(l.consume(L),L===92?F:U)}function F(L){return L===40||L===41||L===92?(l.consume(L),U):U(L)}}function cy(l,t,n,a,o,u){const c=this;let h=0,x;return f;function f(C){return l.enter(a),l.enter(o),l.consume(C),l.exit(o),l.enter(u),v}function v(C){return h>999||C===null||C===91||C===93&&!x||C===94&&!h&&"_hiddenFootnoteSupport"in c.parser.constructs?n(C):C===93?(l.exit(u),l.enter(o),l.consume(C),l.exit(o),l.exit(a),t):_e(C)?(l.enter("lineEnding"),l.consume(C),l.exit("lineEnding"),v):(l.enter("chunkString",{contentType:"string"}),b(C))}function b(C){return C===null||C===91||C===93||_e(C)||h++>999?(l.exit("chunkString"),v(C)):(l.consume(C),x||(x=!Je(C)),C===92?E:b)}function E(C){return C===91||C===92||C===93?(l.consume(C),h++,b):b(C)}}function dy(l,t,n,a,o,u){let c;return h;function h(E){return E===34||E===39||E===40?(l.enter(a),l.enter(o),l.consume(E),l.exit(o),c=E===40?41:E,x):n(E)}function x(E){return E===c?(l.enter(o),l.consume(E),l.exit(o),l.exit(a),t):(l.enter(u),f(E))}function f(E){return E===c?(l.exit(u),x(c)):E===null?n(E):_e(E)?(l.enter("lineEnding"),l.consume(E),l.exit("lineEnding"),ut(l,f,"linePrefix")):(l.enter("chunkString",{contentType:"string"}),v(E))}function v(E){return E===c||E===null||_e(E)?(l.exit("chunkString"),f(E)):(l.consume(E),E===92?b:v)}function b(E){return E===c||E===92?(l.consume(E),v):v(E)}}function xa(l,t){let n;return a;function a(o){return _e(o)?(l.enter("lineEnding"),l.consume(o),l.exit("lineEnding"),n=!0,a):Je(o)?ut(l,a,n?"linePrefix":"lineSuffix")(o):t(o)}}const mA={name:"definition",tokenize:gA},pA={partial:!0,tokenize:yA};function gA(l,t,n){const a=this;let o;return u;function u(C){return l.enter("definition"),c(C)}function c(C){return cy.call(a,l,h,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(C)}function h(C){return o=ir(a.sliceSerialize(a.events[a.events.length-1][1]).slice(1,-1)),C===58?(l.enter("definitionMarker"),l.consume(C),l.exit("definitionMarker"),x):n(C)}function x(C){return un(C)?xa(l,f)(C):f(C)}function f(C){return uy(l,v,n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(C)}function v(C){return l.attempt(pA,b,b)(C)}function b(C){return Je(C)?ut(l,E,"whitespace")(C):E(C)}function E(C){return C===null||_e(C)?(l.exit("definition"),a.parser.defined.push(o),t(C)):n(C)}}function yA(l,t,n){return a;function a(h){return un(h)?xa(l,o)(h):n(h)}function o(h){return dy(l,u,n,"definitionTitle","definitionTitleMarker","definitionTitleString")(h)}function u(h){return Je(h)?ut(l,c,"whitespace")(h):c(h)}function c(h){return h===null||_e(h)?t(h):n(h)}}const xA={name:"hardBreakEscape",tokenize:vA};function vA(l,t,n){return a;function a(u){return l.enter("hardBreakEscape"),l.consume(u),o}function o(u){return _e(u)?(l.exit("hardBreakEscape"),t(u)):n(u)}}const bA={name:"headingAtx",resolve:TA,tokenize:SA};function TA(l,t){let n=l.length-2,a=3,o,u;return l[a][1].type==="whitespace"&&(a+=2),n-2>a&&l[n][1].type==="whitespace"&&(n-=2),l[n][1].type==="atxHeadingSequence"&&(a===n-1||n-4>a&&l[n-2][1].type==="whitespace")&&(n-=a+1===n?2:4),n>a&&(o={type:"atxHeadingText",start:l[a][1].start,end:l[n][1].end},u={type:"chunkText",start:l[a][1].start,end:l[n][1].end,contentType:"text"},$n(l,a,n-a+1,[["enter",o,t],["enter",u,t],["exit",u,t],["exit",o,t]])),l}function SA(l,t,n){let a=0;return o;function o(v){return l.enter("atxHeading"),u(v)}function u(v){return l.enter("atxHeadingSequence"),c(v)}function c(v){return v===35&&a++<6?(l.consume(v),c):v===null||un(v)?(l.exit("atxHeadingSequence"),h(v)):n(v)}function h(v){return v===35?(l.enter("atxHeadingSequence"),x(v)):v===null||_e(v)?(l.exit("atxHeading"),t(v)):Je(v)?ut(l,h,"whitespace")(v):(l.enter("atxHeadingText"),f(v))}function x(v){return v===35?(l.consume(v),x):(l.exit("atxHeadingSequence"),h(v))}function f(v){return v===null||v===35||un(v)?(l.exit("atxHeadingText"),h(v)):(l.consume(v),f)}}const CA=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],Zg=["pre","script","style","textarea"],EA={concrete:!0,name:"htmlFlow",resolveTo:NA,tokenize:MA},wA={partial:!0,tokenize:DA},AA={partial:!0,tokenize:_A};function NA(l){let t=l.length;for(;t--&&!(l[t][0]==="enter"&&l[t][1].type==="htmlFlow"););return t>1&&l[t-2][1].type==="linePrefix"&&(l[t][1].start=l[t-2][1].start,l[t+1][1].start=l[t-2][1].start,l.splice(t-2,2)),l}function MA(l,t,n){const a=this;let o,u,c,h,x;return f;function f(w){return v(w)}function v(w){return l.enter("htmlFlow"),l.enter("htmlFlowData"),l.consume(w),b}function b(w){return w===33?(l.consume(w),E):w===47?(l.consume(w),u=!0,U):w===63?(l.consume(w),o=3,a.interrupt?t:T):Xn(w)?(l.consume(w),c=String.fromCharCode(w),F):n(w)}function E(w){return w===45?(l.consume(w),o=2,C):w===91?(l.consume(w),o=5,h=0,D):Xn(w)?(l.consume(w),o=4,a.interrupt?t:T):n(w)}function C(w){return w===45?(l.consume(w),a.interrupt?t:T):n(w)}function D(w){const J="CDATA[";return w===J.charCodeAt(h++)?(l.consume(w),h===J.length?a.interrupt?t:se:D):n(w)}function U(w){return Xn(w)?(l.consume(w),c=String.fromCharCode(w),F):n(w)}function F(w){if(w===null||w===47||w===62||un(w)){const J=w===47,oe=c.toLowerCase();return!J&&!u&&Zg.includes(oe)?(o=1,a.interrupt?t(w):se(w)):CA.includes(c.toLowerCase())?(o=6,J?(l.consume(w),L):a.interrupt?t(w):se(w)):(o=7,a.interrupt&&!a.parser.lazy[a.now().line]?n(w):u?Y(w):$(w))}return w===45||Tn(w)?(l.consume(w),c+=String.fromCharCode(w),F):n(w)}function L(w){return w===62?(l.consume(w),a.interrupt?t:se):n(w)}function Y(w){return Je(w)?(l.consume(w),Y):pe(w)}function $(w){return w===47?(l.consume(w),pe):w===58||w===95||Xn(w)?(l.consume(w),Z):Je(w)?(l.consume(w),$):pe(w)}function Z(w){return w===45||w===46||w===58||w===95||Tn(w)?(l.consume(w),Z):ne(w)}function ne(w){return w===61?(l.consume(w),K):Je(w)?(l.consume(w),ne):$(w)}function K(w){return w===null||w===60||w===61||w===62||w===96?n(w):w===34||w===39?(l.consume(w),x=w,fe):Je(w)?(l.consume(w),K):ve(w)}function fe(w){return w===x?(l.consume(w),x=null,xe):w===null||_e(w)?n(w):(l.consume(w),fe)}function ve(w){return w===null||w===34||w===39||w===47||w===60||w===61||w===62||w===96||un(w)?ne(w):(l.consume(w),ve)}function xe(w){return w===47||w===62||Je(w)?$(w):n(w)}function pe(w){return w===62?(l.consume(w),ce):n(w)}function ce(w){return w===null||_e(w)?se(w):Je(w)?(l.consume(w),ce):n(w)}function se(w){return w===45&&o===2?(l.consume(w),P):w===60&&o===1?(l.consume(w),B):w===62&&o===4?(l.consume(w),R):w===63&&o===3?(l.consume(w),T):w===93&&o===5?(l.consume(w),M):_e(w)&&(o===6||o===7)?(l.exit("htmlFlowData"),l.check(wA,j,he)(w)):w===null||_e(w)?(l.exit("htmlFlowData"),he(w)):(l.consume(w),se)}function he(w){return l.check(AA,ae,j)(w)}function ae(w){return l.enter("lineEnding"),l.consume(w),l.exit("lineEnding"),de}function de(w){return w===null||_e(w)?he(w):(l.enter("htmlFlowData"),se(w))}function P(w){return w===45?(l.consume(w),T):se(w)}function B(w){return w===47?(l.consume(w),c="",N):se(w)}function N(w){if(w===62){const J=c.toLowerCase();return Zg.includes(J)?(l.consume(w),R):se(w)}return Xn(w)&&c.length<8?(l.consume(w),c+=String.fromCharCode(w),N):se(w)}function M(w){return w===93?(l.consume(w),T):se(w)}function T(w){return w===62?(l.consume(w),R):w===45&&o===2?(l.consume(w),T):se(w)}function R(w){return w===null||_e(w)?(l.exit("htmlFlowData"),j(w)):(l.consume(w),R)}function j(w){return l.exit("htmlFlow"),t(w)}}function _A(l,t,n){const a=this;return o;function o(c){return _e(c)?(l.enter("lineEnding"),l.consume(c),l.exit("lineEnding"),u):n(c)}function u(c){return a.parser.lazy[a.now().line]?n(c):t(c)}}function DA(l,t,n){return a;function a(o){return l.enter("lineEnding"),l.consume(o),l.exit("lineEnding"),l.attempt(fs,t,n)}}const IA={name:"htmlText",tokenize:RA};function RA(l,t,n){const a=this;let o,u,c;return h;function h(T){return l.enter("htmlText"),l.enter("htmlTextData"),l.consume(T),x}function x(T){return T===33?(l.consume(T),f):T===47?(l.consume(T),ne):T===63?(l.consume(T),$):Xn(T)?(l.consume(T),ve):n(T)}function f(T){return T===45?(l.consume(T),v):T===91?(l.consume(T),u=0,D):Xn(T)?(l.consume(T),Y):n(T)}function v(T){return T===45?(l.consume(T),C):n(T)}function b(T){return T===null?n(T):T===45?(l.consume(T),E):_e(T)?(c=b,B(T)):(l.consume(T),b)}function E(T){return T===45?(l.consume(T),C):b(T)}function C(T){return T===62?P(T):T===45?E(T):b(T)}function D(T){const R="CDATA[";return T===R.charCodeAt(u++)?(l.consume(T),u===R.length?U:D):n(T)}function U(T){return T===null?n(T):T===93?(l.consume(T),F):_e(T)?(c=U,B(T)):(l.consume(T),U)}function F(T){return T===93?(l.consume(T),L):U(T)}function L(T){return T===62?P(T):T===93?(l.consume(T),L):U(T)}function Y(T){return T===null||T===62?P(T):_e(T)?(c=Y,B(T)):(l.consume(T),Y)}function $(T){return T===null?n(T):T===63?(l.consume(T),Z):_e(T)?(c=$,B(T)):(l.consume(T),$)}function Z(T){return T===62?P(T):$(T)}function ne(T){return Xn(T)?(l.consume(T),K):n(T)}function K(T){return T===45||Tn(T)?(l.consume(T),K):fe(T)}function fe(T){return _e(T)?(c=fe,B(T)):Je(T)?(l.consume(T),fe):P(T)}function ve(T){return T===45||Tn(T)?(l.consume(T),ve):T===47||T===62||un(T)?xe(T):n(T)}function xe(T){return T===47?(l.consume(T),P):T===58||T===95||Xn(T)?(l.consume(T),pe):_e(T)?(c=xe,B(T)):Je(T)?(l.consume(T),xe):P(T)}function pe(T){return T===45||T===46||T===58||T===95||Tn(T)?(l.consume(T),pe):ce(T)}function ce(T){return T===61?(l.consume(T),se):_e(T)?(c=ce,B(T)):Je(T)?(l.consume(T),ce):xe(T)}function se(T){return T===null||T===60||T===61||T===62||T===96?n(T):T===34||T===39?(l.consume(T),o=T,he):_e(T)?(c=se,B(T)):Je(T)?(l.consume(T),se):(l.consume(T),ae)}function he(T){return T===o?(l.consume(T),o=void 0,de):T===null?n(T):_e(T)?(c=he,B(T)):(l.consume(T),he)}function ae(T){return T===null||T===34||T===39||T===60||T===61||T===96?n(T):T===47||T===62||un(T)?xe(T):(l.consume(T),ae)}function de(T){return T===47||T===62||un(T)?xe(T):n(T)}function P(T){return T===62?(l.consume(T),l.exit("htmlTextData"),l.exit("htmlText"),t):n(T)}function B(T){return l.exit("htmlTextData"),l.enter("lineEnding"),l.consume(T),l.exit("lineEnding"),N}function N(T){return Je(T)?ut(l,M,"linePrefix",a.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(T):M(T)}function M(T){return l.enter("htmlTextData"),c(T)}}const Ad={name:"labelEnd",resolveAll:UA,resolveTo:zA,tokenize:jA},kA={tokenize:OA},LA={tokenize:VA},BA={tokenize:PA};function UA(l){let t=-1;const n=[];for(;++t<l.length;){const a=l[t][1];if(n.push(l[t]),a.type==="labelImage"||a.type==="labelLink"||a.type==="labelEnd"){const o=a.type==="labelImage"?4:2;a.type="data",t+=o}}return l.length!==n.length&&$n(l,0,l.length,n),l}function zA(l,t){let n=l.length,a=0,o,u,c,h;for(;n--;)if(o=l[n][1],u){if(o.type==="link"||o.type==="labelLink"&&o._inactive)break;l[n][0]==="enter"&&o.type==="labelLink"&&(o._inactive=!0)}else if(c){if(l[n][0]==="enter"&&(o.type==="labelImage"||o.type==="labelLink")&&!o._balanced&&(u=n,o.type!=="labelLink")){a=2;break}}else o.type==="labelEnd"&&(c=n);const x={type:l[u][1].type==="labelLink"?"link":"image",start:{...l[u][1].start},end:{...l[l.length-1][1].end}},f={type:"label",start:{...l[u][1].start},end:{...l[c][1].end}},v={type:"labelText",start:{...l[u+a+2][1].end},end:{...l[c-2][1].start}};return h=[["enter",x,t],["enter",f,t]],h=Bn(h,l.slice(u+1,u+a+3)),h=Bn(h,[["enter",v,t]]),h=Bn(h,wd(t.parser.constructs.insideSpan.null,l.slice(u+a+4,c-3),t)),h=Bn(h,[["exit",v,t],l[c-2],l[c-1],["exit",f,t]]),h=Bn(h,l.slice(c+1)),h=Bn(h,[["exit",x,t]]),$n(l,u,l.length,h),l}function jA(l,t,n){const a=this;let o=a.events.length,u,c;for(;o--;)if((a.events[o][1].type==="labelImage"||a.events[o][1].type==="labelLink")&&!a.events[o][1]._balanced){u=a.events[o][1];break}return h;function h(E){return u?u._inactive?b(E):(c=a.parser.defined.includes(ir(a.sliceSerialize({start:u.end,end:a.now()}))),l.enter("labelEnd"),l.enter("labelMarker"),l.consume(E),l.exit("labelMarker"),l.exit("labelEnd"),x):n(E)}function x(E){return E===40?l.attempt(kA,v,c?v:b)(E):E===91?l.attempt(LA,v,c?f:b)(E):c?v(E):b(E)}function f(E){return l.attempt(BA,v,b)(E)}function v(E){return t(E)}function b(E){return u._balanced=!0,n(E)}}function OA(l,t,n){return a;function a(b){return l.enter("resource"),l.enter("resourceMarker"),l.consume(b),l.exit("resourceMarker"),o}function o(b){return un(b)?xa(l,u)(b):u(b)}function u(b){return b===41?v(b):uy(l,c,h,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(b)}function c(b){return un(b)?xa(l,x)(b):v(b)}function h(b){return n(b)}function x(b){return b===34||b===39||b===40?dy(l,f,n,"resourceTitle","resourceTitleMarker","resourceTitleString")(b):v(b)}function f(b){return un(b)?xa(l,v)(b):v(b)}function v(b){return b===41?(l.enter("resourceMarker"),l.consume(b),l.exit("resourceMarker"),l.exit("resource"),t):n(b)}}function VA(l,t,n){const a=this;return o;function o(h){return cy.call(a,l,u,c,"reference","referenceMarker","referenceString")(h)}function u(h){return a.parser.defined.includes(ir(a.sliceSerialize(a.events[a.events.length-1][1]).slice(1,-1)))?t(h):n(h)}function c(h){return n(h)}}function PA(l,t,n){return a;function a(u){return l.enter("reference"),l.enter("referenceMarker"),l.consume(u),l.exit("referenceMarker"),o}function o(u){return u===93?(l.enter("referenceMarker"),l.consume(u),l.exit("referenceMarker"),l.exit("reference"),t):n(u)}}const HA={name:"labelStartImage",resolveAll:Ad.resolveAll,tokenize:qA};function qA(l,t,n){const a=this;return o;function o(h){return l.enter("labelImage"),l.enter("labelImageMarker"),l.consume(h),l.exit("labelImageMarker"),u}function u(h){return h===91?(l.enter("labelMarker"),l.consume(h),l.exit("labelMarker"),l.exit("labelImage"),c):n(h)}function c(h){return h===94&&"_hiddenFootnoteSupport"in a.parser.constructs?n(h):t(h)}}const GA={name:"labelStartLink",resolveAll:Ad.resolveAll,tokenize:FA};function FA(l,t,n){const a=this;return o;function o(c){return l.enter("labelLink"),l.enter("labelMarker"),l.consume(c),l.exit("labelMarker"),l.exit("labelLink"),u}function u(c){return c===94&&"_hiddenFootnoteSupport"in a.parser.constructs?n(c):t(c)}}const Uc={name:"lineEnding",tokenize:YA};function YA(l,t){return n;function n(a){return l.enter("lineEnding"),l.consume(a),l.exit("lineEnding"),ut(l,t,"linePrefix")}}const es={name:"thematicBreak",tokenize:KA};function KA(l,t,n){let a=0,o;return u;function u(f){return l.enter("thematicBreak"),c(f)}function c(f){return o=f,h(f)}function h(f){return f===o?(l.enter("thematicBreakSequence"),x(f)):a>=3&&(f===null||_e(f))?(l.exit("thematicBreak"),t(f)):n(f)}function x(f){return f===o?(l.consume(f),a++,x):(l.exit("thematicBreakSequence"),Je(f)?ut(l,h,"whitespace")(f):h(f))}}const an={continuation:{tokenize:JA},exit:WA,name:"list",tokenize:QA},XA={partial:!0,tokenize:eN},$A={partial:!0,tokenize:ZA};function QA(l,t,n){const a=this,o=a.events[a.events.length-1];let u=o&&o[1].type==="linePrefix"?o[2].sliceSerialize(o[1],!0).length:0,c=0;return h;function h(C){const D=a.containerState.type||(C===42||C===43||C===45?"listUnordered":"listOrdered");if(D==="listUnordered"?!a.containerState.marker||C===a.containerState.marker:sd(C)){if(a.containerState.type||(a.containerState.type=D,l.enter(D,{_container:!0})),D==="listUnordered")return l.enter("listItemPrefix"),C===42||C===45?l.check(es,n,f)(C):f(C);if(!a.interrupt||C===49)return l.enter("listItemPrefix"),l.enter("listItemValue"),x(C)}return n(C)}function x(C){return sd(C)&&++c<10?(l.consume(C),x):(!a.interrupt||c<2)&&(a.containerState.marker?C===a.containerState.marker:C===41||C===46)?(l.exit("listItemValue"),f(C)):n(C)}function f(C){return l.enter("listItemMarker"),l.consume(C),l.exit("listItemMarker"),a.containerState.marker=a.containerState.marker||C,l.check(fs,a.interrupt?n:v,l.attempt(XA,E,b))}function v(C){return a.containerState.initialBlankLine=!0,u++,E(C)}function b(C){return Je(C)?(l.enter("listItemPrefixWhitespace"),l.consume(C),l.exit("listItemPrefixWhitespace"),E):n(C)}function E(C){return a.containerState.size=u+a.sliceSerialize(l.exit("listItemPrefix"),!0).length,t(C)}}function JA(l,t,n){const a=this;return a.containerState._closeFlow=void 0,l.check(fs,o,u);function o(h){return a.containerState.furtherBlankLines=a.containerState.furtherBlankLines||a.containerState.initialBlankLine,ut(l,t,"listItemIndent",a.containerState.size+1)(h)}function u(h){return a.containerState.furtherBlankLines||!Je(h)?(a.containerState.furtherBlankLines=void 0,a.containerState.initialBlankLine=void 0,c(h)):(a.containerState.furtherBlankLines=void 0,a.containerState.initialBlankLine=void 0,l.attempt($A,t,c)(h))}function c(h){return a.containerState._closeFlow=!0,a.interrupt=void 0,ut(l,l.attempt(an,t,n),"linePrefix",a.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(h)}}function ZA(l,t,n){const a=this;return ut(l,o,"listItemIndent",a.containerState.size+1);function o(u){const c=a.events[a.events.length-1];return c&&c[1].type==="listItemIndent"&&c[2].sliceSerialize(c[1],!0).length===a.containerState.size?t(u):n(u)}}function WA(l){l.exit(this.containerState.type)}function eN(l,t,n){const a=this;return ut(l,o,"listItemPrefixWhitespace",a.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function o(u){const c=a.events[a.events.length-1];return!Je(u)&&c&&c[1].type==="listItemPrefixWhitespace"?t(u):n(u)}}const Wg={name:"setextUnderline",resolveTo:tN,tokenize:nN};function tN(l,t){let n=l.length,a,o,u;for(;n--;)if(l[n][0]==="enter"){if(l[n][1].type==="content"){a=n;break}l[n][1].type==="paragraph"&&(o=n)}else l[n][1].type==="content"&&l.splice(n,1),!u&&l[n][1].type==="definition"&&(u=n);const c={type:"setextHeading",start:{...l[a][1].start},end:{...l[l.length-1][1].end}};return l[o][1].type="setextHeadingText",u?(l.splice(o,0,["enter",c,t]),l.splice(u+1,0,["exit",l[a][1],t]),l[a][1].end={...l[u][1].end}):l[a][1]=c,l.push(["exit",c,t]),l}function nN(l,t,n){const a=this;let o;return u;function u(f){let v=a.events.length,b;for(;v--;)if(a.events[v][1].type!=="lineEnding"&&a.events[v][1].type!=="linePrefix"&&a.events[v][1].type!=="content"){b=a.events[v][1].type==="paragraph";break}return!a.parser.lazy[a.now().line]&&(a.interrupt||b)?(l.enter("setextHeadingLine"),o=f,c(f)):n(f)}function c(f){return l.enter("setextHeadingLineSequence"),h(f)}function h(f){return f===o?(l.consume(f),h):(l.exit("setextHeadingLineSequence"),Je(f)?ut(l,x,"lineSuffix")(f):x(f))}function x(f){return f===null||_e(f)?(l.exit("setextHeadingLine"),t(f)):n(f)}}const iN={tokenize:lN};function lN(l){const t=this,n=l.attempt(fs,a,l.attempt(this.parser.constructs.flowInitial,o,ut(l,l.attempt(this.parser.constructs.flow,o,l.attempt(uA,o)),"linePrefix")));return n;function a(u){if(u===null){l.consume(u);return}return l.enter("lineEndingBlank"),l.consume(u),l.exit("lineEndingBlank"),t.currentConstruct=void 0,n}function o(u){if(u===null){l.consume(u);return}return l.enter("lineEnding"),l.consume(u),l.exit("lineEnding"),t.currentConstruct=void 0,n}}const rN={resolveAll:hy()},aN=fy("string"),oN=fy("text");function fy(l){return{resolveAll:hy(l==="text"?sN:void 0),tokenize:t};function t(n){const a=this,o=this.parser.constructs[l],u=n.attempt(o,c,h);return c;function c(v){return f(v)?u(v):h(v)}function h(v){if(v===null){n.consume(v);return}return n.enter("data"),n.consume(v),x}function x(v){return f(v)?(n.exit("data"),u(v)):(n.consume(v),x)}function f(v){if(v===null)return!0;const b=o[v];let E=-1;if(b)for(;++E<b.length;){const C=b[E];if(!C.previous||C.previous.call(a,a.previous))return!0}return!1}}}function hy(l){return t;function t(n,a){let o=-1,u;for(;++o<=n.length;)u===void 0?n[o]&&n[o][1].type==="data"&&(u=o,o++):(!n[o]||n[o][1].type!=="data")&&(o!==u+2&&(n[u][1].end=n[o-1][1].end,n.splice(u+2,o-u-2),o=u+2),u=void 0);return l?l(n,a):n}}function sN(l,t){let n=0;for(;++n<=l.length;)if((n===l.length||l[n][1].type==="lineEnding")&&l[n-1][1].type==="data"){const a=l[n-1][1],o=t.sliceStream(a);let u=o.length,c=-1,h=0,x;for(;u--;){const f=o[u];if(typeof f=="string"){for(c=f.length;f.charCodeAt(c-1)===32;)h++,c--;if(c)break;c=-1}else if(f===-2)x=!0,h++;else if(f!==-1){u++;break}}if(t._contentTypeTextTrailing&&n===l.length&&(h=0),h){const f={type:n===l.length||x||h<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:u?c:a.start._bufferIndex+c,_index:a.start._index+u,line:a.end.line,column:a.end.column-h,offset:a.end.offset-h},end:{...a.end}};a.end={...f.start},a.start.offset===a.end.offset?Object.assign(a,f):(l.splice(n,0,["enter",f,t],["exit",f,t]),n+=2)}n++}return l}const uN={42:an,43:an,45:an,48:an,49:an,50:an,51:an,52:an,53:an,54:an,55:an,56:an,57:an,62:ry},cN={91:mA},dN={[-2]:Bc,[-1]:Bc,32:Bc},fN={35:bA,42:es,45:[Wg,es],60:EA,61:Wg,95:es,96:Jg,126:Jg},hN={38:oy,92:ay},mN={[-5]:Uc,[-4]:Uc,[-3]:Uc,33:HA,38:oy,42:ud,60:[Gw,IA],91:GA,92:[xA,ay],93:Ad,95:ud,96:iA},pN={null:[ud,rN]},gN={null:[42,95]},yN={null:[]},xN=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:gN,contentInitial:cN,disable:yN,document:uN,flow:fN,flowInitial:dN,insideSpan:pN,string:hN,text:mN},Symbol.toStringTag,{value:"Module"}));function vN(l,t,n){let a={_bufferIndex:-1,_index:0,line:n&&n.line||1,column:n&&n.column||1,offset:n&&n.offset||0};const o={},u=[];let c=[],h=[];const x={attempt:fe(ne),check:fe(K),consume:Y,enter:$,exit:Z,interrupt:fe(K,{interrupt:!0})},f={code:null,containerState:{},defineSkip:U,events:[],now:D,parser:l,previous:null,sliceSerialize:E,sliceStream:C,write:b};let v=t.tokenize.call(f,x);return t.resolveAll&&u.push(t),f;function b(ce){return c=Bn(c,ce),F(),c[c.length-1]!==null?[]:(ve(t,0),f.events=wd(u,f.events,f),f.events)}function E(ce,se){return TN(C(ce),se)}function C(ce){return bN(c,ce)}function D(){const{_bufferIndex:ce,_index:se,line:he,column:ae,offset:de}=a;return{_bufferIndex:ce,_index:se,line:he,column:ae,offset:de}}function U(ce){o[ce.line]=ce.column,pe()}function F(){let ce;for(;a._index<c.length;){const se=c[a._index];if(typeof se=="string")for(ce=a._index,a._bufferIndex<0&&(a._bufferIndex=0);a._index===ce&&a._bufferIndex<se.length;)L(se.charCodeAt(a._bufferIndex));else L(se)}}function L(ce){v=v(ce)}function Y(ce){_e(ce)?(a.line++,a.column=1,a.offset+=ce===-3?2:1,pe()):ce!==-1&&(a.column++,a.offset++),a._bufferIndex<0?a._index++:(a._bufferIndex++,a._bufferIndex===c[a._index].length&&(a._bufferIndex=-1,a._index++)),f.previous=ce}function $(ce,se){const he=se||{};return he.type=ce,he.start=D(),f.events.push(["enter",he,f]),h.push(he),he}function Z(ce){const se=h.pop();return se.end=D(),f.events.push(["exit",se,f]),se}function ne(ce,se){ve(ce,se.from)}function K(ce,se){se.restore()}function fe(ce,se){return he;function he(ae,de,P){let B,N,M,T;return Array.isArray(ae)?j(ae):"tokenize"in ae?j([ae]):R(ae);function R(I){return me;function me(ue){const Ae=ue!==null&&I[ue],De=ue!==null&&I.null,Be=[...Array.isArray(Ae)?Ae:Ae?[Ae]:[],...Array.isArray(De)?De:De?[De]:[]];return j(Be)(ue)}}function j(I){return B=I,N=0,I.length===0?P:w(I[N])}function w(I){return me;function me(ue){return T=xe(),M=I,I.partial||(f.currentConstruct=I),I.name&&f.parser.constructs.disable.null.includes(I.name)?oe():I.tokenize.call(se?Object.assign(Object.create(f),se):f,x,J,oe)(ue)}}function J(I){return ce(M,T),de}function oe(I){return T.restore(),++N<B.length?w(B[N]):P}}}function ve(ce,se){ce.resolveAll&&!u.includes(ce)&&u.push(ce),ce.resolve&&$n(f.events,se,f.events.length-se,ce.resolve(f.events.slice(se),f)),ce.resolveTo&&(f.events=ce.resolveTo(f.events,f))}function xe(){const ce=D(),se=f.previous,he=f.currentConstruct,ae=f.events.length,de=Array.from(h);return{from:ae,restore:P};function P(){a=ce,f.previous=se,f.currentConstruct=he,f.events.length=ae,h=de,pe()}}function pe(){a.line in o&&a.column<2&&(a.column=o[a.line],a.offset+=o[a.line]-1)}}function bN(l,t){const n=t.start._index,a=t.start._bufferIndex,o=t.end._index,u=t.end._bufferIndex;let c;if(n===o)c=[l[n].slice(a,u)];else{if(c=l.slice(n,o),a>-1){const h=c[0];typeof h=="string"?c[0]=h.slice(a):c.shift()}u>0&&c.push(l[o].slice(0,u))}return c}function TN(l,t){let n=-1;const a=[];let o;for(;++n<l.length;){const u=l[n];let c;if(typeof u=="string")c=u;else switch(u){case-5:{c="\r";break}case-4:{c=`
`;break}case-3:{c=`\r
`;break}case-2:{c=t?" ":"	";break}case-1:{if(!t&&o)continue;c=" ";break}default:c=String.fromCharCode(u)}o=u===-2,a.push(c)}return a.join("")}function SN(l){const a={constructs:_w([xN,...(l||{}).extensions||[]]),content:o(zw),defined:[],document:o(Ow),flow:o(iN),lazy:{},string:o(aN),text:o(oN)};return a;function o(u){return c;function c(h){return vN(a,u,h)}}}function CN(l){for(;!sy(l););return l}const e0=/[\0\t\n\r]/g;function EN(){let l=1,t="",n=!0,a;return o;function o(u,c,h){const x=[];let f,v,b,E,C;for(u=t+(typeof u=="string"?u.toString():new TextDecoder(c||void 0).decode(u)),b=0,t="",n&&(u.charCodeAt(0)===65279&&b++,n=void 0);b<u.length;){if(e0.lastIndex=b,f=e0.exec(u),E=f&&f.index!==void 0?f.index:u.length,C=u.charCodeAt(E),!f){t=u.slice(b);break}if(C===10&&b===E&&a)x.push(-3),a=void 0;else switch(a&&(x.push(-5),a=void 0),b<E&&(x.push(u.slice(b,E)),l+=E-b),C){case 0:{x.push(65533),l++;break}case 9:{for(v=Math.ceil(l/4)*4,x.push(-2);l++<v;)x.push(-1);break}case 10:{x.push(-4),l=1;break}default:a=!0,l=1}b=E+1}return h&&(a&&x.push(-5),t&&x.push(t),x.push(null)),x}}const wN=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function AN(l){return l.replace(wN,NN)}function NN(l,t,n){if(t)return t;if(n.charCodeAt(0)===35){const o=n.charCodeAt(1),u=o===120||o===88;return ly(n.slice(u?2:1),u?16:10)}return Ed(n)||l}const my={}.hasOwnProperty;function MN(l,t,n){return typeof t!="string"&&(n=t,t=void 0),_N(n)(CN(SN(n).document().write(EN()(l,t,!0))))}function _N(l){const t={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:u(Un),autolinkProtocol:xe,autolinkEmail:xe,atxHeading:u(Rt),blockQuote:u(De),characterEscape:xe,characterReference:xe,codeFenced:u(Be),codeFencedFenceInfo:c,codeFencedFenceMeta:c,codeIndented:u(Be,c),codeText:u(je,c),codeTextData:xe,data:xe,codeFlowValue:xe,definition:u(Ye),definitionDestinationString:c,definitionLabelString:c,definitionTitleString:c,emphasis:u(et),hardBreakEscape:u(Ut),hardBreakTrailing:u(Ut),htmlFlow:u(qe,c),htmlFlowData:xe,htmlText:u(qe,c),htmlTextData:xe,image:u(Sn),label:c,link:u(Un),listItem:u(fi),listItemValue:E,listOrdered:u(di,b),listUnordered:u(di),paragraph:u(ml),reference:w,referenceString:c,resourceDestinationString:c,resourceTitleString:c,setextHeading:u(Rt),strong:u(hi),thematicBreak:u(cr)},exit:{atxHeading:x(),atxHeadingSequence:ne,autolink:x(),autolinkEmail:Ae,autolinkProtocol:ue,blockQuote:x(),characterEscapeValue:pe,characterReferenceMarkerHexadecimal:oe,characterReferenceMarkerNumeric:oe,characterReferenceValue:I,characterReference:me,codeFenced:x(F),codeFencedFence:U,codeFencedFenceInfo:C,codeFencedFenceMeta:D,codeFlowValue:pe,codeIndented:x(L),codeText:x(de),codeTextData:pe,data:pe,definition:x(),definitionDestinationString:Z,definitionLabelString:Y,definitionTitleString:$,emphasis:x(),hardBreakEscape:x(se),hardBreakTrailing:x(se),htmlFlow:x(he),htmlFlowData:pe,htmlText:x(ae),htmlTextData:pe,image:x(B),label:M,labelText:N,lineEnding:ce,link:x(P),listItem:x(),listOrdered:x(),listUnordered:x(),paragraph:x(),referenceString:J,resourceDestinationString:T,resourceTitleString:R,resource:j,setextHeading:x(ve),setextHeadingLineSequence:fe,setextHeadingText:K,strong:x(),thematicBreak:x()}};py(t,(l||{}).mdastExtensions||[]);const n={};return a;function a(X){let ie={type:"root",children:[]};const Se={stack:[ie],tokenStack:[],config:t,enter:h,exit:f,buffer:c,resume:v,data:n},Ee=[];let Xe=-1;for(;++Xe<X.length;)if(X[Xe][1].type==="listOrdered"||X[Xe][1].type==="listUnordered")if(X[Xe][0]==="enter")Ee.push(Xe);else{const zt=Ee.pop();Xe=o(X,zt,Xe)}for(Xe=-1;++Xe<X.length;){const zt=t[X[Xe][0]];my.call(zt,X[Xe][1].type)&&zt[X[Xe][1].type].call(Object.assign({sliceSerialize:X[Xe][2].sliceSerialize},Se),X[Xe][1])}if(Se.tokenStack.length>0){const zt=Se.tokenStack[Se.tokenStack.length-1];(zt[1]||t0).call(Se,void 0,zt[0])}for(ie.position={start:ji(X.length>0?X[0][1].start:{line:1,column:1,offset:0}),end:ji(X.length>0?X[X.length-2][1].end:{line:1,column:1,offset:0})},Xe=-1;++Xe<t.transforms.length;)ie=t.transforms[Xe](ie)||ie;return ie}function o(X,ie,Se){let Ee=ie-1,Xe=-1,zt=!1,dn,jt,Cn,Xt;for(;++Ee<=Se;){const Et=X[Ee];switch(Et[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{Et[0]==="enter"?Xe++:Xe--,Xt=void 0;break}case"lineEndingBlank":{Et[0]==="enter"&&(dn&&!Xt&&!Xe&&!Cn&&(Cn=Ee),Xt=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:Xt=void 0}if(!Xe&&Et[0]==="enter"&&Et[1].type==="listItemPrefix"||Xe===-1&&Et[0]==="exit"&&(Et[1].type==="listUnordered"||Et[1].type==="listOrdered")){if(dn){let Jt=Ee;for(jt=void 0;Jt--;){const Zt=X[Jt];if(Zt[1].type==="lineEnding"||Zt[1].type==="lineEndingBlank"){if(Zt[0]==="exit")continue;jt&&(X[jt][1].type="lineEndingBlank",zt=!0),Zt[1].type="lineEnding",jt=Jt}else if(!(Zt[1].type==="linePrefix"||Zt[1].type==="blockQuotePrefix"||Zt[1].type==="blockQuotePrefixWhitespace"||Zt[1].type==="blockQuoteMarker"||Zt[1].type==="listItemIndent"))break}Cn&&(!jt||Cn<jt)&&(dn._spread=!0),dn.end=Object.assign({},jt?X[jt][1].start:Et[1].end),X.splice(jt||Ee,0,["exit",dn,Et[2]]),Ee++,Se++}if(Et[1].type==="listItemPrefix"){const Jt={type:"listItem",_spread:!1,start:Object.assign({},Et[1].start),end:void 0};dn=Jt,X.splice(Ee,0,["enter",Jt,Et[2]]),Ee++,Se++,Cn=void 0,Xt=!0}}}return X[ie][1]._spread=zt,Se}function u(X,ie){return Se;function Se(Ee){h.call(this,X(Ee),Ee),ie&&ie.call(this,Ee)}}function c(){this.stack.push({type:"fragment",children:[]})}function h(X,ie,Se){this.stack[this.stack.length-1].children.push(X),this.stack.push(X),this.tokenStack.push([ie,Se||void 0]),X.position={start:ji(ie.start),end:void 0}}function x(X){return ie;function ie(Se){X&&X.call(this,Se),f.call(this,Se)}}function f(X,ie){const Se=this.stack.pop(),Ee=this.tokenStack.pop();if(Ee)Ee[0].type!==X.type&&(ie?ie.call(this,X,Ee[0]):(Ee[1]||t0).call(this,X,Ee[0]));else throw new Error("Cannot close `"+X.type+"` ("+ya({start:X.start,end:X.end})+"): its not open");Se.position.end=ji(X.end)}function v(){return Nw(this.stack.pop())}function b(){this.data.expectingFirstListItemValue=!0}function E(X){if(this.data.expectingFirstListItemValue){const ie=this.stack[this.stack.length-2];ie.start=Number.parseInt(this.sliceSerialize(X),10),this.data.expectingFirstListItemValue=void 0}}function C(){const X=this.resume(),ie=this.stack[this.stack.length-1];ie.lang=X}function D(){const X=this.resume(),ie=this.stack[this.stack.length-1];ie.meta=X}function U(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function F(){const X=this.resume(),ie=this.stack[this.stack.length-1];ie.value=X.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function L(){const X=this.resume(),ie=this.stack[this.stack.length-1];ie.value=X.replace(/(\r?\n|\r)$/g,"")}function Y(X){const ie=this.resume(),Se=this.stack[this.stack.length-1];Se.label=ie,Se.identifier=ir(this.sliceSerialize(X)).toLowerCase()}function $(){const X=this.resume(),ie=this.stack[this.stack.length-1];ie.title=X}function Z(){const X=this.resume(),ie=this.stack[this.stack.length-1];ie.url=X}function ne(X){const ie=this.stack[this.stack.length-1];if(!ie.depth){const Se=this.sliceSerialize(X).length;ie.depth=Se}}function K(){this.data.setextHeadingSlurpLineEnding=!0}function fe(X){const ie=this.stack[this.stack.length-1];ie.depth=this.sliceSerialize(X).codePointAt(0)===61?1:2}function ve(){this.data.setextHeadingSlurpLineEnding=void 0}function xe(X){const Se=this.stack[this.stack.length-1].children;let Ee=Se[Se.length-1];(!Ee||Ee.type!=="text")&&(Ee=ur(),Ee.position={start:ji(X.start),end:void 0},Se.push(Ee)),this.stack.push(Ee)}function pe(X){const ie=this.stack.pop();ie.value+=this.sliceSerialize(X),ie.position.end=ji(X.end)}function ce(X){const ie=this.stack[this.stack.length-1];if(this.data.atHardBreak){const Se=ie.children[ie.children.length-1];Se.position.end=ji(X.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&t.canContainEols.includes(ie.type)&&(xe.call(this,X),pe.call(this,X))}function se(){this.data.atHardBreak=!0}function he(){const X=this.resume(),ie=this.stack[this.stack.length-1];ie.value=X}function ae(){const X=this.resume(),ie=this.stack[this.stack.length-1];ie.value=X}function de(){const X=this.resume(),ie=this.stack[this.stack.length-1];ie.value=X}function P(){const X=this.stack[this.stack.length-1];if(this.data.inReference){const ie=this.data.referenceType||"shortcut";X.type+="Reference",X.referenceType=ie,delete X.url,delete X.title}else delete X.identifier,delete X.label;this.data.referenceType=void 0}function B(){const X=this.stack[this.stack.length-1];if(this.data.inReference){const ie=this.data.referenceType||"shortcut";X.type+="Reference",X.referenceType=ie,delete X.url,delete X.title}else delete X.identifier,delete X.label;this.data.referenceType=void 0}function N(X){const ie=this.sliceSerialize(X),Se=this.stack[this.stack.length-2];Se.label=AN(ie),Se.identifier=ir(ie).toLowerCase()}function M(){const X=this.stack[this.stack.length-1],ie=this.resume(),Se=this.stack[this.stack.length-1];if(this.data.inReference=!0,Se.type==="link"){const Ee=X.children;Se.children=Ee}else Se.alt=ie}function T(){const X=this.resume(),ie=this.stack[this.stack.length-1];ie.url=X}function R(){const X=this.resume(),ie=this.stack[this.stack.length-1];ie.title=X}function j(){this.data.inReference=void 0}function w(){this.data.referenceType="collapsed"}function J(X){const ie=this.resume(),Se=this.stack[this.stack.length-1];Se.label=ie,Se.identifier=ir(this.sliceSerialize(X)).toLowerCase(),this.data.referenceType="full"}function oe(X){this.data.characterReferenceType=X.type}function I(X){const ie=this.sliceSerialize(X),Se=this.data.characterReferenceType;let Ee;Se?(Ee=ly(ie,Se==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):Ee=Ed(ie);const Xe=this.stack[this.stack.length-1];Xe.value+=Ee}function me(X){const ie=this.stack.pop();ie.position.end=ji(X.end)}function ue(X){pe.call(this,X);const ie=this.stack[this.stack.length-1];ie.url=this.sliceSerialize(X)}function Ae(X){pe.call(this,X);const ie=this.stack[this.stack.length-1];ie.url="mailto:"+this.sliceSerialize(X)}function De(){return{type:"blockquote",children:[]}}function Be(){return{type:"code",lang:null,meta:null,value:""}}function je(){return{type:"inlineCode",value:""}}function Ye(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function et(){return{type:"emphasis",children:[]}}function Rt(){return{type:"heading",depth:0,children:[]}}function Ut(){return{type:"break"}}function qe(){return{type:"html",value:""}}function Sn(){return{type:"image",title:null,url:"",alt:null}}function Un(){return{type:"link",title:null,url:"",children:[]}}function di(X){return{type:"list",ordered:X.type==="listOrdered",start:null,spread:X._spread,children:[]}}function fi(X){return{type:"listItem",spread:X._spread,checked:null,children:[]}}function ml(){return{type:"paragraph",children:[]}}function hi(){return{type:"strong",children:[]}}function ur(){return{type:"text",value:""}}function cr(){return{type:"thematicBreak"}}}function ji(l){return{line:l.line,column:l.column,offset:l.offset}}function py(l,t){let n=-1;for(;++n<t.length;){const a=t[n];Array.isArray(a)?py(l,a):DN(l,a)}}function DN(l,t){let n;for(n in t)if(my.call(t,n))switch(n){case"canContainEols":{const a=t[n];a&&l[n].push(...a);break}case"transforms":{const a=t[n];a&&l[n].push(...a);break}case"enter":case"exit":{const a=t[n];a&&Object.assign(l[n],a);break}}}function t0(l,t){throw l?new Error("Cannot close `"+l.type+"` ("+ya({start:l.start,end:l.end})+"): a different token (`"+t.type+"`, "+ya({start:t.start,end:t.end})+") is open"):new Error("Cannot close document, a token (`"+t.type+"`, "+ya({start:t.start,end:t.end})+") is still open")}function IN(l){const t=this;t.parser=n;function n(a){return MN(a,{...t.data("settings"),...l,extensions:t.data("micromarkExtensions")||[],mdastExtensions:t.data("fromMarkdownExtensions")||[]})}}function RN(l,t){const n={type:"element",tagName:"blockquote",properties:{},children:l.wrap(l.all(t),!0)};return l.patch(t,n),l.applyData(t,n)}function kN(l,t){const n={type:"element",tagName:"br",properties:{},children:[]};return l.patch(t,n),[l.applyData(t,n),{type:"text",value:`
`}]}function LN(l,t){const n=t.value?t.value+`
`:"",a={};t.lang&&(a.className=["language-"+t.lang]);let o={type:"element",tagName:"code",properties:a,children:[{type:"text",value:n}]};return t.meta&&(o.data={meta:t.meta}),l.patch(t,o),o=l.applyData(t,o),o={type:"element",tagName:"pre",properties:{},children:[o]},l.patch(t,o),o}function BN(l,t){const n={type:"element",tagName:"del",properties:{},children:l.all(t)};return l.patch(t,n),l.applyData(t,n)}function UN(l,t){const n={type:"element",tagName:"em",properties:{},children:l.all(t)};return l.patch(t,n),l.applyData(t,n)}function zN(l,t){const n=typeof l.options.clobberPrefix=="string"?l.options.clobberPrefix:"user-content-",a=String(t.identifier).toUpperCase(),o=sr(a.toLowerCase()),u=l.footnoteOrder.indexOf(a);let c,h=l.footnoteCounts.get(a);h===void 0?(h=0,l.footnoteOrder.push(a),c=l.footnoteOrder.length):c=u+1,h+=1,l.footnoteCounts.set(a,h);const x={type:"element",tagName:"a",properties:{href:"#"+n+"fn-"+o,id:n+"fnref-"+o+(h>1?"-"+h:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(c)}]};l.patch(t,x);const f={type:"element",tagName:"sup",properties:{},children:[x]};return l.patch(t,f),l.applyData(t,f)}function jN(l,t){const n={type:"element",tagName:"h"+t.depth,properties:{},children:l.all(t)};return l.patch(t,n),l.applyData(t,n)}function ON(l,t){if(l.options.allowDangerousHtml){const n={type:"raw",value:t.value};return l.patch(t,n),l.applyData(t,n)}}function gy(l,t){const n=t.referenceType;let a="]";if(n==="collapsed"?a+="[]":n==="full"&&(a+="["+(t.label||t.identifier)+"]"),t.type==="imageReference")return[{type:"text",value:"!["+t.alt+a}];const o=l.all(t),u=o[0];u&&u.type==="text"?u.value="["+u.value:o.unshift({type:"text",value:"["});const c=o[o.length-1];return c&&c.type==="text"?c.value+=a:o.push({type:"text",value:a}),o}function VN(l,t){const n=String(t.identifier).toUpperCase(),a=l.definitionById.get(n);if(!a)return gy(l,t);const o={src:sr(a.url||""),alt:t.alt};a.title!==null&&a.title!==void 0&&(o.title=a.title);const u={type:"element",tagName:"img",properties:o,children:[]};return l.patch(t,u),l.applyData(t,u)}function PN(l,t){const n={src:sr(t.url)};t.alt!==null&&t.alt!==void 0&&(n.alt=t.alt),t.title!==null&&t.title!==void 0&&(n.title=t.title);const a={type:"element",tagName:"img",properties:n,children:[]};return l.patch(t,a),l.applyData(t,a)}function HN(l,t){const n={type:"text",value:t.value.replace(/\r?\n|\r/g," ")};l.patch(t,n);const a={type:"element",tagName:"code",properties:{},children:[n]};return l.patch(t,a),l.applyData(t,a)}function qN(l,t){const n=String(t.identifier).toUpperCase(),a=l.definitionById.get(n);if(!a)return gy(l,t);const o={href:sr(a.url||"")};a.title!==null&&a.title!==void 0&&(o.title=a.title);const u={type:"element",tagName:"a",properties:o,children:l.all(t)};return l.patch(t,u),l.applyData(t,u)}function GN(l,t){const n={href:sr(t.url)};t.title!==null&&t.title!==void 0&&(n.title=t.title);const a={type:"element",tagName:"a",properties:n,children:l.all(t)};return l.patch(t,a),l.applyData(t,a)}function FN(l,t,n){const a=l.all(t),o=n?YN(n):yy(t),u={},c=[];if(typeof t.checked=="boolean"){const v=a[0];let b;v&&v.type==="element"&&v.tagName==="p"?b=v:(b={type:"element",tagName:"p",properties:{},children:[]},a.unshift(b)),b.children.length>0&&b.children.unshift({type:"text",value:" "}),b.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:t.checked,disabled:!0},children:[]}),u.className=["task-list-item"]}let h=-1;for(;++h<a.length;){const v=a[h];(o||h!==0||v.type!=="element"||v.tagName!=="p")&&c.push({type:"text",value:`
`}),v.type==="element"&&v.tagName==="p"&&!o?c.push(...v.children):c.push(v)}const x=a[a.length-1];x&&(o||x.type!=="element"||x.tagName!=="p")&&c.push({type:"text",value:`
`});const f={type:"element",tagName:"li",properties:u,children:c};return l.patch(t,f),l.applyData(t,f)}function YN(l){let t=!1;if(l.type==="list"){t=l.spread||!1;const n=l.children;let a=-1;for(;!t&&++a<n.length;)t=yy(n[a])}return t}function yy(l){const t=l.spread;return t??l.children.length>1}function KN(l,t){const n={},a=l.all(t);let o=-1;for(typeof t.start=="number"&&t.start!==1&&(n.start=t.start);++o<a.length;){const c=a[o];if(c.type==="element"&&c.tagName==="li"&&c.properties&&Array.isArray(c.properties.className)&&c.properties.className.includes("task-list-item")){n.className=["contains-task-list"];break}}const u={type:"element",tagName:t.ordered?"ol":"ul",properties:n,children:l.wrap(a,!0)};return l.patch(t,u),l.applyData(t,u)}function XN(l,t){const n={type:"element",tagName:"p",properties:{},children:l.all(t)};return l.patch(t,n),l.applyData(t,n)}function $N(l,t){const n={type:"root",children:l.wrap(l.all(t))};return l.patch(t,n),l.applyData(t,n)}function QN(l,t){const n={type:"element",tagName:"strong",properties:{},children:l.all(t)};return l.patch(t,n),l.applyData(t,n)}function JN(l,t){const n=l.all(t),a=n.shift(),o=[];if(a){const c={type:"element",tagName:"thead",properties:{},children:l.wrap([a],!0)};l.patch(t.children[0],c),o.push(c)}if(n.length>0){const c={type:"element",tagName:"tbody",properties:{},children:l.wrap(n,!0)},h=bd(t.children[1]),x=J0(t.children[t.children.length-1]);h&&x&&(c.position={start:h,end:x}),o.push(c)}const u={type:"element",tagName:"table",properties:{},children:l.wrap(o,!0)};return l.patch(t,u),l.applyData(t,u)}function ZN(l,t,n){const a=n?n.children:void 0,u=(a?a.indexOf(t):1)===0?"th":"td",c=n&&n.type==="table"?n.align:void 0,h=c?c.length:t.children.length;let x=-1;const f=[];for(;++x<h;){const b=t.children[x],E={},C=c?c[x]:void 0;C&&(E.align=C);let D={type:"element",tagName:u,properties:E,children:[]};b&&(D.children=l.all(b),l.patch(b,D),D=l.applyData(b,D)),f.push(D)}const v={type:"element",tagName:"tr",properties:{},children:l.wrap(f,!0)};return l.patch(t,v),l.applyData(t,v)}function WN(l,t){const n={type:"element",tagName:"td",properties:{},children:l.all(t)};return l.patch(t,n),l.applyData(t,n)}const n0=9,i0=32;function e2(l){const t=String(l),n=/\r?\n|\r/g;let a=n.exec(t),o=0;const u=[];for(;a;)u.push(l0(t.slice(o,a.index),o>0,!0),a[0]),o=a.index+a[0].length,a=n.exec(t);return u.push(l0(t.slice(o),o>0,!1)),u.join("")}function l0(l,t,n){let a=0,o=l.length;if(t){let u=l.codePointAt(a);for(;u===n0||u===i0;)a++,u=l.codePointAt(a)}if(n){let u=l.codePointAt(o-1);for(;u===n0||u===i0;)o--,u=l.codePointAt(o-1)}return o>a?l.slice(a,o):""}function t2(l,t){const n={type:"text",value:e2(String(t.value))};return l.patch(t,n),l.applyData(t,n)}function n2(l,t){const n={type:"element",tagName:"hr",properties:{},children:[]};return l.patch(t,n),l.applyData(t,n)}const i2={blockquote:RN,break:kN,code:LN,delete:BN,emphasis:UN,footnoteReference:zN,heading:jN,html:ON,imageReference:VN,image:PN,inlineCode:HN,linkReference:qN,link:GN,listItem:FN,list:KN,paragraph:XN,root:$N,strong:QN,table:JN,tableCell:WN,tableRow:ZN,text:t2,thematicBreak:n2,toml:Fo,yaml:Fo,definition:Fo,footnoteDefinition:Fo};function Fo(){}const xy=-1,hs=0,va=1,os=2,Nd=3,Md=4,_d=5,Dd=6,vy=7,by=8,r0=typeof self=="object"?self:globalThis,l2=(l,t)=>{const n=(o,u)=>(l.set(u,o),o),a=o=>{if(l.has(o))return l.get(o);const[u,c]=t[o];switch(u){case hs:case xy:return n(c,o);case va:{const h=n([],o);for(const x of c)h.push(a(x));return h}case os:{const h=n({},o);for(const[x,f]of c)h[a(x)]=a(f);return h}case Nd:return n(new Date(c),o);case Md:{const{source:h,flags:x}=c;return n(new RegExp(h,x),o)}case _d:{const h=n(new Map,o);for(const[x,f]of c)h.set(a(x),a(f));return h}case Dd:{const h=n(new Set,o);for(const x of c)h.add(a(x));return h}case vy:{const{name:h,message:x}=c;return n(new r0[h](x),o)}case by:return n(BigInt(c),o);case"BigInt":return n(Object(BigInt(c)),o);case"ArrayBuffer":return n(new Uint8Array(c).buffer,c);case"DataView":{const{buffer:h}=new Uint8Array(c);return n(new DataView(h),c)}}return n(new r0[u](c),o)};return a},a0=l=>l2(new Map,l)(0),Wl="",{toString:r2}={},{keys:a2}=Object,fa=l=>{const t=typeof l;if(t!=="object"||!l)return[hs,t];const n=r2.call(l).slice(8,-1);switch(n){case"Array":return[va,Wl];case"Object":return[os,Wl];case"Date":return[Nd,Wl];case"RegExp":return[Md,Wl];case"Map":return[_d,Wl];case"Set":return[Dd,Wl];case"DataView":return[va,n]}return n.includes("Array")?[va,n]:n.includes("Error")?[vy,n]:[os,n]},Yo=([l,t])=>l===hs&&(t==="function"||t==="symbol"),o2=(l,t,n,a)=>{const o=(c,h)=>{const x=a.push(c)-1;return n.set(h,x),x},u=c=>{if(n.has(c))return n.get(c);let[h,x]=fa(c);switch(h){case hs:{let v=c;switch(x){case"bigint":h=by,v=c.toString();break;case"function":case"symbol":if(l)throw new TypeError("unable to serialize "+x);v=null;break;case"undefined":return o([xy],c)}return o([h,v],c)}case va:{if(x){let E=c;return x==="DataView"?E=new Uint8Array(c.buffer):x==="ArrayBuffer"&&(E=new Uint8Array(c)),o([x,[...E]],c)}const v=[],b=o([h,v],c);for(const E of c)v.push(u(E));return b}case os:{if(x)switch(x){case"BigInt":return o([x,c.toString()],c);case"Boolean":case"Number":case"String":return o([x,c.valueOf()],c)}if(t&&"toJSON"in c)return u(c.toJSON());const v=[],b=o([h,v],c);for(const E of a2(c))(l||!Yo(fa(c[E])))&&v.push([u(E),u(c[E])]);return b}case Nd:return o([h,c.toISOString()],c);case Md:{const{source:v,flags:b}=c;return o([h,{source:v,flags:b}],c)}case _d:{const v=[],b=o([h,v],c);for(const[E,C]of c)(l||!(Yo(fa(E))||Yo(fa(C))))&&v.push([u(E),u(C)]);return b}case Dd:{const v=[],b=o([h,v],c);for(const E of c)(l||!Yo(fa(E)))&&v.push(u(E));return b}}const{message:f}=c;return o([h,{name:x,message:f}],c)};return u},o0=(l,{json:t,lossy:n}={})=>{const a=[];return o2(!(t||n),!!t,new Map,a)(l),a},ss=typeof structuredClone=="function"?(l,t)=>t&&("json"in t||"lossy"in t)?a0(o0(l,t)):structuredClone(l):(l,t)=>a0(o0(l,t));function s2(l,t){const n=[{type:"text",value:""}];return t>1&&n.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(t)}]}),n}function u2(l,t){return"Back to reference "+(l+1)+(t>1?"-"+t:"")}function c2(l){const t=typeof l.options.clobberPrefix=="string"?l.options.clobberPrefix:"user-content-",n=l.options.footnoteBackContent||s2,a=l.options.footnoteBackLabel||u2,o=l.options.footnoteLabel||"Footnotes",u=l.options.footnoteLabelTagName||"h2",c=l.options.footnoteLabelProperties||{className:["sr-only"]},h=[];let x=-1;for(;++x<l.footnoteOrder.length;){const f=l.footnoteById.get(l.footnoteOrder[x]);if(!f)continue;const v=l.all(f),b=String(f.identifier).toUpperCase(),E=sr(b.toLowerCase());let C=0;const D=[],U=l.footnoteCounts.get(b);for(;U!==void 0&&++C<=U;){D.length>0&&D.push({type:"text",value:" "});let Y=typeof n=="string"?n:n(x,C);typeof Y=="string"&&(Y={type:"text",value:Y}),D.push({type:"element",tagName:"a",properties:{href:"#"+t+"fnref-"+E+(C>1?"-"+C:""),dataFootnoteBackref:"",ariaLabel:typeof a=="string"?a:a(x,C),className:["data-footnote-backref"]},children:Array.isArray(Y)?Y:[Y]})}const F=v[v.length-1];if(F&&F.type==="element"&&F.tagName==="p"){const Y=F.children[F.children.length-1];Y&&Y.type==="text"?Y.value+=" ":F.children.push({type:"text",value:" "}),F.children.push(...D)}else v.push(...D);const L={type:"element",tagName:"li",properties:{id:t+"fn-"+E},children:l.wrap(v,!0)};l.patch(f,L),h.push(L)}if(h.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:u,properties:{...ss(c),id:"footnote-label"},children:[{type:"text",value:o}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:l.wrap(h,!0)},{type:"text",value:`
`}]}}const Ty=function(l){if(l==null)return m2;if(typeof l=="function")return ms(l);if(typeof l=="object")return Array.isArray(l)?d2(l):f2(l);if(typeof l=="string")return h2(l);throw new Error("Expected function, string, or object as test")};function d2(l){const t=[];let n=-1;for(;++n<l.length;)t[n]=Ty(l[n]);return ms(a);function a(...o){let u=-1;for(;++u<t.length;)if(t[u].apply(this,o))return!0;return!1}}function f2(l){const t=l;return ms(n);function n(a){const o=a;let u;for(u in l)if(o[u]!==t[u])return!1;return!0}}function h2(l){return ms(t);function t(n){return n&&n.type===l}}function ms(l){return t;function t(n,a,o){return!!(p2(n)&&l.call(this,n,typeof a=="number"?a:void 0,o||void 0))}}function m2(){return!0}function p2(l){return l!==null&&typeof l=="object"&&"type"in l}const Sy=[],g2=!0,s0=!1,y2="skip";function x2(l,t,n,a){let o;typeof t=="function"&&typeof n!="function"?(a=n,n=t):o=t;const u=Ty(o),c=a?-1:1;h(l,void 0,[])();function h(x,f,v){const b=x&&typeof x=="object"?x:{};if(typeof b.type=="string"){const C=typeof b.tagName=="string"?b.tagName:typeof b.name=="string"?b.name:void 0;Object.defineProperty(E,"name",{value:"node ("+(x.type+(C?"<"+C+">":""))+")"})}return E;function E(){let C=Sy,D,U,F;if((!t||u(x,f,v[v.length-1]||void 0))&&(C=v2(n(x,v)),C[0]===s0))return C;if("children"in x&&x.children){const L=x;if(L.children&&C[0]!==y2)for(U=(a?L.children.length:-1)+c,F=v.concat(L);U>-1&&U<L.children.length;){const Y=L.children[U];if(D=h(Y,U,F)(),D[0]===s0)return D;U=typeof D[1]=="number"?D[1]:U+c}}return C}}}function v2(l){return Array.isArray(l)?l:typeof l=="number"?[g2,l]:l==null?Sy:[l]}function Cy(l,t,n,a){let o,u,c;typeof t=="function"&&typeof n!="function"?(u=void 0,c=t,o=n):(u=t,c=n,o=a),x2(l,u,h,o);function h(x,f){const v=f[f.length-1],b=v?v.children.indexOf(x):void 0;return c(x,b,v)}}const cd={}.hasOwnProperty,b2={};function T2(l,t){const n=t||b2,a=new Map,o=new Map,u=new Map,c={...i2,...n.handlers},h={all:f,applyData:C2,definitionById:a,footnoteById:o,footnoteCounts:u,footnoteOrder:[],handlers:c,one:x,options:n,patch:S2,wrap:w2};return Cy(l,function(v){if(v.type==="definition"||v.type==="footnoteDefinition"){const b=v.type==="definition"?a:o,E=String(v.identifier).toUpperCase();b.has(E)||b.set(E,v)}}),h;function x(v,b){const E=v.type,C=h.handlers[E];if(cd.call(h.handlers,E)&&C)return C(h,v,b);if(h.options.passThrough&&h.options.passThrough.includes(E)){if("children"in v){const{children:U,...F}=v,L=ss(F);return L.children=h.all(v),L}return ss(v)}return(h.options.unknownHandler||E2)(h,v,b)}function f(v){const b=[];if("children"in v){const E=v.children;let C=-1;for(;++C<E.length;){const D=h.one(E[C],v);if(D){if(C&&E[C-1].type==="break"&&(!Array.isArray(D)&&D.type==="text"&&(D.value=u0(D.value)),!Array.isArray(D)&&D.type==="element")){const U=D.children[0];U&&U.type==="text"&&(U.value=u0(U.value))}Array.isArray(D)?b.push(...D):b.push(D)}}}return b}}function S2(l,t){l.position&&(t.position=rw(l))}function C2(l,t){let n=t;if(l&&l.data){const a=l.data.hName,o=l.data.hChildren,u=l.data.hProperties;if(typeof a=="string")if(n.type==="element")n.tagName=a;else{const c="children"in n?n.children:[n];n={type:"element",tagName:a,properties:{},children:c}}n.type==="element"&&u&&Object.assign(n.properties,ss(u)),"children"in n&&n.children&&o!==null&&o!==void 0&&(n.children=o)}return n}function E2(l,t){const n=t.data||{},a="value"in t&&!(cd.call(n,"hProperties")||cd.call(n,"hChildren"))?{type:"text",value:t.value}:{type:"element",tagName:"div",properties:{},children:l.all(t)};return l.patch(t,a),l.applyData(t,a)}function w2(l,t){const n=[];let a=-1;for(t&&n.push({type:"text",value:`
`});++a<l.length;)a&&n.push({type:"text",value:`
`}),n.push(l[a]);return t&&l.length>0&&n.push({type:"text",value:`
`}),n}function u0(l){let t=0,n=l.charCodeAt(t);for(;n===9||n===32;)t++,n=l.charCodeAt(t);return l.slice(t)}function c0(l,t){const n=T2(l,t),a=n.one(l,void 0),o=c2(n),u=Array.isArray(a)?{type:"root",children:a}:a||{type:"root",children:[]};return o&&u.children.push({type:"text",value:`
`},o),u}function A2(l,t){return l&&"run"in l?async function(n,a){const o=c0(n,{file:a,...t});await l.run(o,a)}:function(n,a){return c0(n,{file:a,...l||t})}}function d0(l){if(l)throw l}var zc,f0;function N2(){if(f0)return zc;f0=1;var l=Object.prototype.hasOwnProperty,t=Object.prototype.toString,n=Object.defineProperty,a=Object.getOwnPropertyDescriptor,o=function(f){return typeof Array.isArray=="function"?Array.isArray(f):t.call(f)==="[object Array]"},u=function(f){if(!f||t.call(f)!=="[object Object]")return!1;var v=l.call(f,"constructor"),b=f.constructor&&f.constructor.prototype&&l.call(f.constructor.prototype,"isPrototypeOf");if(f.constructor&&!v&&!b)return!1;var E;for(E in f);return typeof E>"u"||l.call(f,E)},c=function(f,v){n&&v.name==="__proto__"?n(f,v.name,{enumerable:!0,configurable:!0,value:v.newValue,writable:!0}):f[v.name]=v.newValue},h=function(f,v){if(v==="__proto__")if(l.call(f,v)){if(a)return a(f,v).value}else return;return f[v]};return zc=function x(){var f,v,b,E,C,D,U=arguments[0],F=1,L=arguments.length,Y=!1;for(typeof U=="boolean"&&(Y=U,U=arguments[1]||{},F=2),(U==null||typeof U!="object"&&typeof U!="function")&&(U={});F<L;++F)if(f=arguments[F],f!=null)for(v in f)b=h(U,v),E=h(f,v),U!==E&&(Y&&E&&(u(E)||(C=o(E)))?(C?(C=!1,D=b&&o(b)?b:[]):D=b&&u(b)?b:{},c(U,{name:v,newValue:x(Y,D,E)})):typeof E<"u"&&c(U,{name:v,newValue:E}));return U},zc}var M2=N2();const jc=Sa(M2);function dd(l){if(typeof l!="object"||l===null)return!1;const t=Object.getPrototypeOf(l);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in l)&&!(Symbol.iterator in l)}function _2(){const l=[],t={run:n,use:a};return t;function n(...o){let u=-1;const c=o.pop();if(typeof c!="function")throw new TypeError("Expected function as last argument, not "+c);h(null,...o);function h(x,...f){const v=l[++u];let b=-1;if(x){c(x);return}for(;++b<o.length;)(f[b]===null||f[b]===void 0)&&(f[b]=o[b]);o=f,v?D2(v,h)(...f):c(null,...f)}}function a(o){if(typeof o!="function")throw new TypeError("Expected `middelware` to be a function, not "+o);return l.push(o),t}}function D2(l,t){let n;return a;function a(...c){const h=l.length>c.length;let x;h&&c.push(o);try{x=l.apply(this,c)}catch(f){const v=f;if(h&&n)throw v;return o(v)}h||(x&&x.then&&typeof x.then=="function"?x.then(u,o):x instanceof Error?o(x):u(x))}function o(c,...h){n||(n=!0,t(c,...h))}function u(c){o(null,c)}}const Kn={basename:I2,dirname:R2,extname:k2,join:L2,sep:"/"};function I2(l,t){if(t!==void 0&&typeof t!="string")throw new TypeError('"ext" argument must be a string');wa(l);let n=0,a=-1,o=l.length,u;if(t===void 0||t.length===0||t.length>l.length){for(;o--;)if(l.codePointAt(o)===47){if(u){n=o+1;break}}else a<0&&(u=!0,a=o+1);return a<0?"":l.slice(n,a)}if(t===l)return"";let c=-1,h=t.length-1;for(;o--;)if(l.codePointAt(o)===47){if(u){n=o+1;break}}else c<0&&(u=!0,c=o+1),h>-1&&(l.codePointAt(o)===t.codePointAt(h--)?h<0&&(a=o):(h=-1,a=c));return n===a?a=c:a<0&&(a=l.length),l.slice(n,a)}function R2(l){if(wa(l),l.length===0)return".";let t=-1,n=l.length,a;for(;--n;)if(l.codePointAt(n)===47){if(a){t=n;break}}else a||(a=!0);return t<0?l.codePointAt(0)===47?"/":".":t===1&&l.codePointAt(0)===47?"//":l.slice(0,t)}function k2(l){wa(l);let t=l.length,n=-1,a=0,o=-1,u=0,c;for(;t--;){const h=l.codePointAt(t);if(h===47){if(c){a=t+1;break}continue}n<0&&(c=!0,n=t+1),h===46?o<0?o=t:u!==1&&(u=1):o>-1&&(u=-1)}return o<0||n<0||u===0||u===1&&o===n-1&&o===a+1?"":l.slice(o,n)}function L2(...l){let t=-1,n;for(;++t<l.length;)wa(l[t]),l[t]&&(n=n===void 0?l[t]:n+"/"+l[t]);return n===void 0?".":B2(n)}function B2(l){wa(l);const t=l.codePointAt(0)===47;let n=U2(l,!t);return n.length===0&&!t&&(n="."),n.length>0&&l.codePointAt(l.length-1)===47&&(n+="/"),t?"/"+n:n}function U2(l,t){let n="",a=0,o=-1,u=0,c=-1,h,x;for(;++c<=l.length;){if(c<l.length)h=l.codePointAt(c);else{if(h===47)break;h=47}if(h===47){if(!(o===c-1||u===1))if(o!==c-1&&u===2){if(n.length<2||a!==2||n.codePointAt(n.length-1)!==46||n.codePointAt(n.length-2)!==46){if(n.length>2){if(x=n.lastIndexOf("/"),x!==n.length-1){x<0?(n="",a=0):(n=n.slice(0,x),a=n.length-1-n.lastIndexOf("/")),o=c,u=0;continue}}else if(n.length>0){n="",a=0,o=c,u=0;continue}}t&&(n=n.length>0?n+"/..":"..",a=2)}else n.length>0?n+="/"+l.slice(o+1,c):n=l.slice(o+1,c),a=c-o-1;o=c,u=0}else h===46&&u>-1?u++:u=-1}return n}function wa(l){if(typeof l!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(l))}const z2={cwd:j2};function j2(){return"/"}function fd(l){return!!(l!==null&&typeof l=="object"&&"href"in l&&l.href&&"protocol"in l&&l.protocol&&l.auth===void 0)}function O2(l){if(typeof l=="string")l=new URL(l);else if(!fd(l)){const t=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+l+"`");throw t.code="ERR_INVALID_ARG_TYPE",t}if(l.protocol!=="file:"){const t=new TypeError("The URL must be of scheme file");throw t.code="ERR_INVALID_URL_SCHEME",t}return V2(l)}function V2(l){if(l.hostname!==""){const a=new TypeError('File URL host must be "localhost" or empty on darwin');throw a.code="ERR_INVALID_FILE_URL_HOST",a}const t=l.pathname;let n=-1;for(;++n<t.length;)if(t.codePointAt(n)===37&&t.codePointAt(n+1)===50){const a=t.codePointAt(n+2);if(a===70||a===102){const o=new TypeError("File URL path must not include encoded / characters");throw o.code="ERR_INVALID_FILE_URL_PATH",o}}return decodeURIComponent(t)}const Oc=["history","path","basename","stem","extname","dirname"];class Ey{constructor(t){let n;t?fd(t)?n={path:t}:typeof t=="string"||P2(t)?n={value:t}:n=t:n={},this.cwd="cwd"in n?"":z2.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let a=-1;for(;++a<Oc.length;){const u=Oc[a];u in n&&n[u]!==void 0&&n[u]!==null&&(this[u]=u==="history"?[...n[u]]:n[u])}let o;for(o in n)Oc.includes(o)||(this[o]=n[o])}get basename(){return typeof this.path=="string"?Kn.basename(this.path):void 0}set basename(t){Pc(t,"basename"),Vc(t,"basename"),this.path=Kn.join(this.dirname||"",t)}get dirname(){return typeof this.path=="string"?Kn.dirname(this.path):void 0}set dirname(t){h0(this.basename,"dirname"),this.path=Kn.join(t||"",this.basename)}get extname(){return typeof this.path=="string"?Kn.extname(this.path):void 0}set extname(t){if(Vc(t,"extname"),h0(this.dirname,"extname"),t){if(t.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(t.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=Kn.join(this.dirname,this.stem+(t||""))}get path(){return this.history[this.history.length-1]}set path(t){fd(t)&&(t=O2(t)),Pc(t,"path"),this.path!==t&&this.history.push(t)}get stem(){return typeof this.path=="string"?Kn.basename(this.path,this.extname):void 0}set stem(t){Pc(t,"stem"),Vc(t,"stem"),this.path=Kn.join(this.dirname||"",t+(this.extname||""))}fail(t,n,a){const o=this.message(t,n,a);throw o.fatal=!0,o}info(t,n,a){const o=this.message(t,n,a);return o.fatal=void 0,o}message(t,n,a){const o=new Kt(t,n,a);return this.path&&(o.name=this.path+":"+o.name,o.file=this.path),o.fatal=!1,this.messages.push(o),o}toString(t){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(t||void 0).decode(this.value)}}function Vc(l,t){if(l&&l.includes(Kn.sep))throw new Error("`"+t+"` cannot be a path: did not expect `"+Kn.sep+"`")}function Pc(l,t){if(!l)throw new Error("`"+t+"` cannot be empty")}function h0(l,t){if(!l)throw new Error("Setting `"+t+"` requires `path` to be set too")}function P2(l){return!!(l&&typeof l=="object"&&"byteLength"in l&&"byteOffset"in l)}const H2=function(l){const a=this.constructor.prototype,o=a[l],u=function(){return o.apply(u,arguments)};return Object.setPrototypeOf(u,a),u},q2={}.hasOwnProperty;class Id extends H2{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=_2()}copy(){const t=new Id;let n=-1;for(;++n<this.attachers.length;){const a=this.attachers[n];t.use(...a)}return t.data(jc(!0,{},this.namespace)),t}data(t,n){return typeof t=="string"?arguments.length===2?(Gc("data",this.frozen),this.namespace[t]=n,this):q2.call(this.namespace,t)&&this.namespace[t]||void 0:t?(Gc("data",this.frozen),this.namespace=t,this):this.namespace}freeze(){if(this.frozen)return this;const t=this;for(;++this.freezeIndex<this.attachers.length;){const[n,...a]=this.attachers[this.freezeIndex];if(a[0]===!1)continue;a[0]===!0&&(a[0]=void 0);const o=n.call(t,...a);typeof o=="function"&&this.transformers.use(o)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(t){this.freeze();const n=Ko(t),a=this.parser||this.Parser;return Hc("parse",a),a(String(n),n)}process(t,n){const a=this;return this.freeze(),Hc("process",this.parser||this.Parser),qc("process",this.compiler||this.Compiler),n?o(void 0,n):new Promise(o);function o(u,c){const h=Ko(t),x=a.parse(h);a.run(x,h,function(v,b,E){if(v||!b||!E)return f(v);const C=b,D=a.stringify(C,E);Y2(D)?E.value=D:E.result=D,f(v,E)});function f(v,b){v||!b?c(v):u?u(b):n(void 0,b)}}}processSync(t){let n=!1,a;return this.freeze(),Hc("processSync",this.parser||this.Parser),qc("processSync",this.compiler||this.Compiler),this.process(t,o),p0("processSync","process",n),a;function o(u,c){n=!0,d0(u),a=c}}run(t,n,a){m0(t),this.freeze();const o=this.transformers;return!a&&typeof n=="function"&&(a=n,n=void 0),a?u(void 0,a):new Promise(u);function u(c,h){const x=Ko(n);o.run(t,x,f);function f(v,b,E){const C=b||t;v?h(v):c?c(C):a(void 0,C,E)}}}runSync(t,n){let a=!1,o;return this.run(t,n,u),p0("runSync","run",a),o;function u(c,h){d0(c),o=h,a=!0}}stringify(t,n){this.freeze();const a=Ko(n),o=this.compiler||this.Compiler;return qc("stringify",o),m0(t),o(t,a)}use(t,...n){const a=this.attachers,o=this.namespace;if(Gc("use",this.frozen),t!=null)if(typeof t=="function")x(t,n);else if(typeof t=="object")Array.isArray(t)?h(t):c(t);else throw new TypeError("Expected usable value, not `"+t+"`");return this;function u(f){if(typeof f=="function")x(f,[]);else if(typeof f=="object")if(Array.isArray(f)){const[v,...b]=f;x(v,b)}else c(f);else throw new TypeError("Expected usable value, not `"+f+"`")}function c(f){if(!("plugins"in f)&&!("settings"in f))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");h(f.plugins),f.settings&&(o.settings=jc(!0,o.settings,f.settings))}function h(f){let v=-1;if(f!=null)if(Array.isArray(f))for(;++v<f.length;){const b=f[v];u(b)}else throw new TypeError("Expected a list of plugins, not `"+f+"`")}function x(f,v){let b=-1,E=-1;for(;++b<a.length;)if(a[b][0]===f){E=b;break}if(E===-1)a.push([f,...v]);else if(v.length>0){let[C,...D]=v;const U=a[E][1];dd(U)&&dd(C)&&(C=jc(!0,U,C)),a[E]=[f,C,...D]}}}}const G2=new Id().freeze();function Hc(l,t){if(typeof t!="function")throw new TypeError("Cannot `"+l+"` without `parser`")}function qc(l,t){if(typeof t!="function")throw new TypeError("Cannot `"+l+"` without `compiler`")}function Gc(l,t){if(t)throw new Error("Cannot call `"+l+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function m0(l){if(!dd(l)||typeof l.type!="string")throw new TypeError("Expected node, got `"+l+"`")}function p0(l,t,n){if(!n)throw new Error("`"+l+"` finished async. Use `"+t+"` instead")}function Ko(l){return F2(l)?l:new Ey(l)}function F2(l){return!!(l&&typeof l=="object"&&"message"in l&&"messages"in l)}function Y2(l){return typeof l=="string"||K2(l)}function K2(l){return!!(l&&typeof l=="object"&&"byteLength"in l&&"byteOffset"in l)}const X2="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",g0=[],y0={allowDangerousHtml:!0},$2=/^(https?|ircs?|mailto|xmpp)$/i,Q2=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"className",id:"remove-classname"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function J2(l){const t=Z2(l),n=W2(l);return eM(t.runSync(t.parse(n),n),l)}function Z2(l){const t=l.rehypePlugins||g0,n=l.remarkPlugins||g0,a=l.remarkRehypeOptions?{...l.remarkRehypeOptions,...y0}:y0;return G2().use(IN).use(n).use(A2,a).use(t)}function W2(l){const t=l.children||"",n=new Ey;return typeof t=="string"&&(n.value=t),n}function eM(l,t){const n=t.allowedElements,a=t.allowElement,o=t.components,u=t.disallowedElements,c=t.skipHtml,h=t.unwrapDisallowed,x=t.urlTransform||tM;for(const v of Q2)Object.hasOwn(t,v.from)&&(""+v.from+(v.to?"use `"+v.to+"` instead":"remove it")+X2+v.id,void 0);return Cy(l,f),cw(l,{Fragment:m.Fragment,components:o,ignoreInvalidStyle:!0,jsx:m.jsx,jsxs:m.jsxs,passKeys:!0,passNode:!0});function f(v,b,E){if(v.type==="raw"&&E&&typeof b=="number")return c?E.children.splice(b,1):E.children[b]={type:"text",value:v.value},b;if(v.type==="element"){let C;for(C in Lc)if(Object.hasOwn(Lc,C)&&Object.hasOwn(v.properties,C)){const D=v.properties[C],U=Lc[C];(U===null||U.includes(v.tagName))&&(v.properties[C]=x(String(D||""),C,v))}}if(v.type==="element"){let C=n?!n.includes(v.tagName):u?u.includes(v.tagName):!1;if(!C&&a&&typeof b=="number"&&(C=!a(v,b,E)),C&&E&&typeof b=="number")return h&&v.children?E.children.splice(b,1,...v.children):E.children.splice(b,1),b}}}function tM(l){const t=l.indexOf(":"),n=l.indexOf("?"),a=l.indexOf("#"),o=l.indexOf("/");return t===-1||o!==-1&&t>o||n!==-1&&t>n||a!==-1&&t>a||$2.test(l.slice(0,t))?l:""}const nM=({content:l,onExportPDF:t,onCopy:n,className:a=""})=>{const o={h1:({children:u})=>m.jsx("h1",{className:"text-3xl font-bold text-purple-300 mb-6 border-b border-gray-600 pb-3",children:u}),h2:({children:u})=>m.jsx("h2",{className:"text-2xl font-semibold text-purple-200 mt-8 mb-4 border-l-4 border-purple-500 pl-4",children:u}),h3:({children:u})=>m.jsx("h3",{className:"text-xl font-semibold text-purple-100 mt-6 mb-3 flex items-center",children:u}),h4:({children:u})=>m.jsx("h4",{className:"text-lg font-medium text-gray-200 mt-4 mb-2",children:u}),p:({children:u})=>m.jsx("p",{className:"text-gray-300 mb-4 leading-relaxed",children:u}),ul:({children:u})=>m.jsx("ul",{className:"list-disc list-inside text-gray-300 mb-4 space-y-1 ml-4",children:u}),ol:({children:u})=>m.jsx("ol",{className:"list-decimal list-inside text-gray-300 mb-4 space-y-1 ml-4",children:u}),li:({children:u})=>m.jsx("li",{className:"text-gray-300 mb-1",children:u}),strong:({children:u})=>m.jsx("strong",{className:"font-semibold text-gray-100",children:u}),em:({children:u})=>m.jsx("em",{className:"italic text-gray-200",children:u}),code:({children:u,className:c})=>c?m.jsx("pre",{className:"bg-gray-800 border border-gray-600 rounded-lg p-4 overflow-x-auto mb-4",children:m.jsx("code",{className:"text-green-300 text-sm font-mono",children:u})}):m.jsx("code",{className:"bg-gray-700 text-purple-300 px-2 py-1 rounded text-sm font-mono",children:u}),blockquote:({children:u})=>m.jsx("blockquote",{className:"border-l-4 border-purple-500 bg-gray-800/50 pl-4 py-2 mb-4 italic text-gray-300",children:u}),table:({children:u})=>m.jsx("div",{className:"overflow-x-auto mb-6",children:m.jsx("table",{className:"min-w-full bg-gray-800 border border-gray-600 rounded-lg",children:u})}),thead:({children:u})=>m.jsx("thead",{className:"bg-gray-700",children:u}),tbody:({children:u})=>m.jsx("tbody",{className:"divide-y divide-gray-600",children:u}),tr:({children:u})=>m.jsx("tr",{className:"hover:bg-gray-700/50 transition-colors",children:u}),th:({children:u})=>m.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold text-purple-300 border-b border-gray-600",children:u}),td:({children:u})=>m.jsx("td",{className:"px-4 py-3 text-sm text-gray-300",children:u}),hr:()=>m.jsx("hr",{className:"border-gray-600 my-8"}),a:({href:u,children:c})=>m.jsx("a",{href:u,className:"text-purple-400 hover:text-purple-300 underline transition-colors",target:"_blank",rel:"noopener noreferrer",children:c})};return m.jsxs("div",{className:`markdown-content ${a}`,children:[(t||n)&&m.jsxs("div",{className:"flex justify-end gap-2 mb-4 pb-4 border-b border-gray-700",children:[n&&m.jsx(ze,{onClick:n,variant:"outline",size:"sm",leftIcon:m.jsx(Zo,{className:"w-4 h-4"}),children:"Copy Content"}),t&&m.jsx(ze,{onClick:t,variant:"secondary",size:"sm",leftIcon:m.jsx(Wc,{className:"w-4 h-4"}),children:"Export PDF"})]}),m.jsx("div",{className:"prose prose-invert max-w-none",children:m.jsx(J2,{components:o,children:l})})]})},wy=[{category:"House / Techno",genre:"House",tempoRange:[120,126],sections:["Intro","Build-Up","Drop","Breakdown","Drop 2","Outro"]},{category:"House / Techno",genre:"Deep House",tempoRange:[118,124],sections:["Intro","Build-Up","Drop","Breakdown","Outro"]},{category:"House / Techno",genre:"Tech House",tempoRange:[122,127],sections:["Intro","Build-Up","Drop","Breakdown","Drop 2","Outro"]},{category:"House / Techno",genre:"Progressive House",tempoRange:[124,128],sections:["Intro","Build-Up","Drop","Breakdown","Outro"]},{category:"House / Techno",genre:"Melodic Techno",tempoRange:[120,126],sections:["Intro","Groove Build","Peak Moment","Mid-Break","Outro"]},{category:"House / Techno",genre:"Minimal Techno",tempoRange:[120,125],sections:["Intro","Groove Build","Peak Moment","Mid-Break","Outro"]},{category:"Trance / Big Room",genre:"Trance",tempoRange:[128,140],sections:["Intro","Build-Up","Drop","Breakdown","Build-Up 2","Final Drop","Outro"]},{category:"Trance / Big Room",genre:"Big Room",tempoRange:[126,130],sections:["Intro","Build-Up","Drop","Breakdown","Build-Up 2","Final Drop","Outro"]},{category:"Bass / Trap / Dubstep",genre:"Trap",tempoRange:[130,150],sections:["Intro","Pre-Drop","Drop 1","Mid-Section","Drop 2","Outro"]},{category:"Bass / Trap / Dubstep",genre:"Hard Trap",tempoRange:[135,150],sections:["Intro","Pre-Drop","Drop 1","Switch-Up","Drop 2","Outro"]},{category:"Bass / Trap / Dubstep",genre:"Hybrid Trap",tempoRange:[135,150],sections:["Intro","Pre-Drop","Drop 1","Mid-Section","Drop 2","Outro"]},{category:"Bass / Trap / Dubstep",genre:"Future Bass",tempoRange:[140,155],sections:["Intro","Pre-Drop","Drop 1","Breakdown","Drop 2","Outro"]},{category:"Bass / Trap / Dubstep",genre:"Dubstep",tempoRange:[140,150],sections:["Intro","Pre-Drop","Drop 1","Switch-Up","Drop 2","Outro"]},{category:"Bass / Trap / Dubstep",genre:"Riddim Dubstep",tempoRange:[140,150],sections:["Intro","Pre-Drop","Drop 1","Switch-Up","Drop 2","Outro"]},{category:"Bass / Trap / Dubstep",genre:"Midtempo Bass",tempoRange:[95,110],sections:["Intro","Build-Up","Drop","Breakdown","Outro"]},{category:"DNB / Breaks / UK",genre:"Drum & Bass",tempoRange:[170,175],sections:["Intro","Build-Up","Drop","Mid-Roll","Breakdown","Second Drop","Outro"]},{category:"DNB / Breaks / UK",genre:"Jungle",tempoRange:[170,175],sections:["Intro","Build-Up","Drop","Mid-Roll","Breakdown","Second Drop","Outro"]},{category:"DNB / Breaks / UK",genre:"Liquid DnB",tempoRange:[170,175],sections:["Intro","Build-Up","Drop","Mid-Roll","Breakdown","Second Drop","Outro"]},{category:"DNB / Breaks / UK",genre:"Breakbeat",tempoRange:[125,135],sections:["Intro","Build-Up","Drop","Breakdown","Outro"]},{category:"DNB / Breaks / UK",genre:"UK Garage",tempoRange:[130,138],sections:["Intro","Build-Up","Drop","Breakdown","Outro"]},{category:"DNB / Breaks / UK",genre:"UK Bass",tempoRange:[128,138],sections:["Intro","Build-Up","Drop","Breakdown","Outro"]},{category:"Pop / Indie",genre:"EDM Pop",tempoRange:[110,125],sections:["Intro","Verse","Pre-Chorus","Chorus / Drop","Bridge","Outro"]},{category:"Pop / Indie",genre:"Indie Dance",tempoRange:[115,125],sections:["Intro","Verse","Chorus","Bridge","Outro"]},{category:"Pop / Indie",genre:"Nu-Disco",tempoRange:[115,125],sections:["Intro","Verse","Chorus","Bridge","Outro"]},{category:"Pop / Indie",genre:"Indie Pop",tempoRange:[100,120],sections:["Intro","Verse","Chorus","Bridge","Outro"]},{category:"Pop / Indie",genre:"Hyperpop",tempoRange:[140,160],sections:["Intro","Verse","Drop","Bridge","Outro"]},{category:"Pop / Indie",genre:"Electro Pop",tempoRange:[100,120],sections:["Intro","Verse","Pre-Chorus","Chorus","Bridge","Outro"]},{category:"Pop / Indie",genre:"Synth Pop",tempoRange:[100,115],sections:["Intro","Verse","Pre-Chorus","Chorus","Bridge","Outro"]},{category:"Retro / Alt",genre:"Synthwave",tempoRange:[85,105],sections:["Intro","Main Theme","Breakdown","Bridge","Outro"]},{category:"Retro / Alt",genre:"Chillwave",tempoRange:[85,100],sections:["Intro","Main Theme","Breakdown","Bridge","Outro"]},{category:"Retro / Alt",genre:"Vaporwave",tempoRange:[60,85],sections:["Intro","Main Theme","Breakdown","Outro"]},{category:"Retro / Alt",genre:"Retrowave",tempoRange:[90,110],sections:["Intro","Main Theme","Breakdown","Bridge","Outro"]},{category:"Hip-Hop / Lo-fi",genre:"Boom Bap",tempoRange:[85,95],sections:["Intro","Verse","Chorus","Verse 2","Outro"]},{category:"Hip-Hop / Lo-fi",genre:"Lo-fi Hip-Hop",tempoRange:[65,85],sections:["Intro","Groove Section A","Groove Section B","Bridge / Texture Break","Outro"]},{category:"Hip-Hop / Lo-fi",genre:"Chillhop",tempoRange:[70,90],sections:["Intro","Groove Section A","Groove Section B","Bridge / Texture Break","Outro"]},{category:"Hip-Hop / Lo-fi",genre:"Experimental Hip-Hop",tempoRange:[80,100],sections:["Intro","Verse","Drop","Bridge","Outro"]},{category:"Hip-Hop / Lo-fi",genre:"Trap Soul",tempoRange:[100,130],sections:["Intro","Verse","Chorus","Bridge","Outro"]},{category:"Hip-Hop / Lo-fi",genre:"RnB Remix",tempoRange:[85,100],sections:["Intro","Verse","Chorus","Bridge","Outro"]},{category:"Chill / Ambient",genre:"Downtempo",tempoRange:[70,90],sections:["Intro","Main Atmosphere","Texture Development","Dynamic Peak","Outro"]},{category:"Chill / Ambient",genre:"Trip-Hop",tempoRange:[70,90],sections:["Intro","Main Atmosphere","Texture Development","Outro"]},{category:"Chill / Ambient",genre:"Chillstep",tempoRange:[100,115],sections:["Intro","Build-Up","Drop","Breakdown","Outro"]},{category:"Chill / Ambient",genre:"Cinematic Ambient",tempoRange:[60,80],sections:["Intro","Main Atmosphere","Texture Development","Outro"]},{category:"Chill / Ambient",genre:"Ambient",tempoRange:[60,80],sections:["Intro","Main Atmosphere","Texture Development","Outro"]}],x0=l=>wy.find(t=>t.genre===l),iM=()=>wy.map(l=>l.genre),lM=()=>{const[l,t]=be.useState(null),[n,a]=be.useState(""),[o,u]=be.useState(!1),[c,h]=be.useState(null),[x,f]=be.useState(""),v=be.useRef(null),b=iM(),E=L=>{var $;const Y=($=L.target.files)==null?void 0:$[0];Y&&(["audio/wav","audio/mpeg","audio/mp3"].includes(Y.type)||Y.name.toLowerCase().endsWith(".wav")||Y.name.toLowerCase().endsWith(".mp3")?Y.size<=50*1024*1024?(t(Y),f("")):f("File size must be under 50MB"):f("Please upload a WAV or MP3 file"))},C=L=>{L.preventDefault();const Y=L.dataTransfer.files[0];Y&&(["audio/wav","audio/mpeg","audio/mp3"].includes(Y.type)||Y.name.toLowerCase().endsWith(".wav")||Y.name.toLowerCase().endsWith(".mp3")?Y.size<=50*1024*1024?(t(Y),f("")):f("File size must be under 50MB"):f("Please upload a WAV or MP3 file"))},D=L=>{L.preventDefault()},U=async()=>{if(!l||!n){f("Please upload an audio file and select a target genre");return}u(!0),f("");try{const L=await AE(l),Y=x0(n),$=await tE(L,n,Y);h($)}catch(L){console.error("Error generating remix guide:",L),f("Failed to generate remix guide. Please try again.")}finally{u(!1)}},F=()=>{t(null),a(""),h(null),f(""),v.current&&(v.current.value="")};return m.jsxs("div",{className:"space-y-6",children:[m.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[m.jsxs(ct,{className:"p-6",children:[m.jsx("h3",{className:"text-lg font-semibold mb-4 text-white",children:"Upload Original Track"}),m.jsxs("div",{className:"border-2 border-dashed border-gray-600 rounded-lg p-8 text-center cursor-pointer hover:border-gray-500 transition-colors",onDrop:C,onDragOver:D,onClick:()=>{var L;return(L=v.current)==null?void 0:L.click()},children:[m.jsx("input",{ref:v,type:"file",accept:".wav,.mp3,audio/wav,audio/mpeg",onChange:E,className:"hidden"}),m.jsxs("div",{className:"space-y-2",children:[m.jsx("div",{className:"text-4xl",children:""}),m.jsx("div",{className:"text-white font-medium",children:l?l.name:"Upload Original Track"}),m.jsx("p",{className:"text-gray-400 text-sm",children:"or drag and drop"})]}),m.jsxs("p",{className:"text-gray-500 text-xs mt-2",children:["MP3, WAV up to ",m.jsx("span",{className:"text-orange-400",children:"50"}),"MB"]})]})]}),m.jsxs(ct,{className:"p-6",children:[m.jsx("h3",{className:"text-lg font-semibold mb-4 text-white",children:"Target Remix Genre"}),m.jsxs("div",{className:"space-y-4",children:[m.jsxs("select",{value:n,onChange:L=>a(L.target.value),className:"w-full p-3 bg-gray-700 border border-gray-600 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-orange-500",children:[m.jsx("option",{value:"",children:"Select target genre..."}),b.map(L=>m.jsx("option",{value:L,children:L},L))]}),n&&m.jsx("div",{className:"text-sm text-gray-400",children:(()=>{const L=x0(n);return L?`Tempo: ${L.tempoRange[0]}-${L.tempoRange[1]} BPM`:""})()})]})]})]}),x&&m.jsx("div",{className:"bg-red-900/50 border border-red-500 rounded-lg p-4 text-red-200",children:x}),m.jsxs("div",{className:"flex gap-4",children:[m.jsx(ze,{onClick:U,disabled:!l||!n||o,className:"flex-1",children:o?m.jsxs(m.Fragment,{children:[m.jsx(tr,{size:"sm"}),"Analyzing & Generating Remix Guide..."]}):" Generate Remix Guide"}),m.jsx(ze,{onClick:F,variant:"outline",children:"Reset"})]}),c&&m.jsxs("div",{className:"space-y-6",children:[m.jsxs(ct,{className:"p-6",children:[m.jsxs("div",{className:"flex justify-between items-center mb-4",children:[m.jsxs("h3",{className:"text-xl font-bold text-white",children:[" ",n," Remix Guide"]}),m.jsxs("div",{className:"text-sm text-gray-400",children:["Target: ",c.targetTempo," BPM  ",c.targetKey]})]}),m.jsx("div",{className:"bg-gray-800/50 rounded-lg p-6 max-h-[calc(100vh-8rem)] overflow-y-auto",children:m.jsx(nM,{content:c.guide})})]}),m.jsxs(ct,{className:"p-6",children:[m.jsx("h3",{className:"text-xl font-bold text-white mb-6",children:" MIDI Remix Patterns"}),m.jsx(q0,{initialPatterns:c.midiPatterns,sections:c.sections,targetTempo:c.targetTempo,targetKey:c.targetKey,isRemixMode:!0},`remix-${n}-${Date.now()}`)]})]}),!c&&m.jsx(ct,{className:"p-6 bg-gray-800/30",children:m.jsxs("div",{className:"text-center space-y-4",children:[m.jsx("div",{className:"text-6xl",children:""}),m.jsx("h3",{className:"text-xl font-bold text-white",children:"Transform Your Track"}),m.jsx("p",{className:"text-gray-400 max-w-2xl mx-auto",children:"Upload your original track and select a target genre. Our AI will analyze the harmonic progression, melodies, and rhythmic elements, then generate a comprehensive remix guide with genre-appropriate MIDI patterns for basslines, drums, melodies, and textures."})]})})]})},Xo=({className:l="w-4 h-4"})=>m.jsx("div",{className:`${l} bg-orange-500 transform rotate-45 flex items-center justify-center`,children:m.jsx("div",{className:"w-1/2 h-1/2 bg-white transform -rotate-45"})}),v0={songTitle:"",genre:[],artistReference:"",referenceTrackLink:"",lyrics:"",key:"",scale:"",chords:"",generalNotes:"",vibe:[],daw:"",plugins:"",availableInstruments:""},b0={audioFile:null,userNotes:""},Oi=50,$o=Oi*1024*1024,T0=l=>{const t=l.match(/Estimated BPM Range:\s*.*?(\d+)\s*(?:-|to)\s*(\d+)\s*BPM/i);if(t&&t[1]&&t[2])return Math.round((parseInt(t[1],10)+parseInt(t[2],10))/2);const n=l.match(/Estimated BPM Range:\s*.*?(\d+)\s*BPM/i);if(n&&n[1])return parseInt(n[1],10);const a=l.match(/BPM:\s*(\d+)/i);return a&&a[1]?parseInt(a[1],10):null},S0=l=>{const t=l.match(/Suggested Key\(s\) \/ Scale\(s\):\s*([^(\n]+)/i);if(t&&t[1]){const n=t[1].split(/,|\/| or /).map(o=>o.trim().replace(/\.$/,""));for(const o of n){const u=o.includes(" Minor")?o:o.replace("Major","").trim()+" Major";if(ha.includes(o)||ha.includes(u))return ha.includes(o)?o:u}const a=n[0];if(a){for(const o of ha)if(a.toLowerCase().startsWith(o.split(" ")[0].toLowerCase()))if(a.toLowerCase().includes("minor")){if(o.includes("Minor"))return o}else if(a.toLowerCase().includes("major")){if(o.includes("Major"))return o}else return o;return a}}return null},C0=l=>{const t=l.match(/## (?:3|4)\.(?:.*Harmony.*|.*Chord Progressions.*)\s*\n(?:[^\n]*\n)*?.*?Chord Progression\(s\)\s*(?:\([^)]+\))?:\s*([^\n]+)/im);if(t&&t[1]){const o=t[1].match(/([ivclxmdIVCLXMDab#dimaug\d\/sus-]+(?:\s*-\s*[ivclxmdIVCLXMDab#dimaug\d\/sus-]+)*)/);if(o&&o[1]){let u=o[1].trim();u.endsWith(".")&&(u=u.slice(0,-1));const c=[", ",". ","; "];for(const h of c)if(u.includes(h)){u=u.split(h)[0];break}if(/[IVXLCDMivxlcdm]/.test(u))return u}}const n=l.match(/Chord Progression\(s\).*?:\s*([IVXLCDMivxlcdm\d\s,-]+)/i);if(n&&n[1]){const a=n[1].split(",")[0].trim();if(/[IVXLCDMivxlcdm]/.test(a))return a}return null},hd=(l,t)=>{const n=l.match(t);if(!n||typeof n.index>"u")return"";const a=n.index,o=l.substring(a+n[0].length).match(/^##\s+/m),u=o&&typeof o.index<"u"?a+n[0].length+o.index:l.length;return l.substring(a,u).trim()},rM=l=>{if(!l)return"";let t="";return t+=hd(l,/^##\s*1\.\s*Song Overview/im)+`

`,t+=hd(l,/^##\s*4\.\s*Harmony, Melody & Rhythmic Core/im),t.trim()||"General musical context not fully parsed. Focus on genre and vibe."},aM=l=>{if(!l)return[];const n=hd(l,/^##\s*2\.\s*Structural Blueprint/im);if(!n)return[];const a=[],o=n.split(`
`);for(const u of o){const c=u.match(/\*\*([^(]+)\s*\(([^)]+)\):\*\*\s*(.*)/);c&&a.push({section:c[1].trim(),duration:c[2].trim(),description:c[3].trim()})}return a},E0=l=>{const t=l.match(/^\s*-\s*\*\*Suggested Title:\*\*\s*(.*)/im);return t&&t[1]?t[1].trim().replace(/\*\*([^*]+)\*\*/g,"$1").replace(/\*([^*]+)\*/g,"$1"):null},oM=()=>{var Ma;const[l,t]=be.useState("landing"),[n,a]=be.useState(v0),[o,u]=be.useState(""),[c,h]=be.useState(""),[x,f]=be.useState(""),[v,b]=be.useState(!1),[E,C]=be.useState(""),[D,U]=be.useState(null),[F,L]=be.useState(null),[Y,$]=be.useState([]),[Z,ne]=be.useState(null),[K,fe]=be.useState(!1),[ve,xe]=be.useState(""),[pe,ce]=be.useState(!1),[se,he]=be.useState(!1),[ae,de]=be.useState(!1),[P,B]=be.useState(b0),[N,M]=be.useState(null),[T,R]=be.useState(!1),[j,w]=be.useState(null),[J,oe]=be.useState("single"),[I,me]=be.useState({mixA:null,mixB:null,userNotes:"",includeMixBFeedback:!1}),[ue,Ae]=be.useState(null),[De,Be]=be.useState(!1),[je,Ye]=be.useState(null),et=be.useRef(null),Rt=be.useRef(null),Ut=be.useRef(null);be.useEffect(()=>{try{const le=localStorage.getItem(wg);if(le){const Re=JSON.parse(le).map(Ce=>({...Ce,genre:Array.isArray(Ce.genre)?Ce.genre:Ce.genre?[Ce.genre]:[],vibe:Array.isArray(Ce.vibe)?Ce.vibe:Ce.vibe?[Ce.vibe]:[],scale:Ce.scale||"",midiSettings:Ce.midiSettings||void 0,generatedMidiPatterns:Ce.generatedMidiPatterns||void 0}));$(Re)}}catch(le){console.error("Failed to load library from local storage:",le),$([])}const G=localStorage.getItem(aa),te=localStorage.getItem(qo);a(le=>({...le,daw:G||le.daw||"",plugins:te||le.plugins||""}))},[]),be.useEffect(()=>{try{localStorage.setItem(wg,JSON.stringify(Y))}catch(G){console.error("Failed to save library to local storage:",G)}},[Y]);const qe=G=>{const{name:te,value:le}=G.target;te==="currentGenreText"?u(le):te==="currentVibeText"?h(le):(a(ge=>({...ge,[te]:le})),te==="daw"?localStorage.setItem(aa,le):te==="plugins"&&localStorage.setItem(qo,le))},Sn=G=>{var le,ge;const te=G==="genre"?o.trim():c.trim();te&&!n[G].includes(te)&&a(Re=>({...Re,[G]:[...Re[G],te]})),G==="genre"?(u(""),(le=Rt.current)==null||le.focus()):(h(""),(ge=Ut.current)==null||ge.focus())},Un=(G,te)=>{G.key==="Enter"&&(G.preventDefault(),Sn(te))},di=(G,te)=>{a(le=>{const Re=le[G].filter(Ce=>Ce!==te);return{...le,[G]:Re}})},fi=G=>{a(te=>({...te,daw:G})),localStorage.setItem(aa,G)},ml=G=>{const te=G.match(/^#\s*TRACKGUIDE:\s*"?([^"\n]+)"?/im);return te&&te[1]?te[1].trim():null},hi=()=>{const G=localStorage.getItem(aa)||"",te=localStorage.getItem(qo)||"";a({...v0,songTitle:"",daw:G,plugins:te}),u(""),h(""),f(""),ne(null),U(null),L(null),xe(""),Vn(),fe(!1)},ur=async G=>{var Re;G.preventDefault(),b(!0),U(null),L(null),f(""),ne(null),xe(""),Vn(),window.scrollTo({top:0,behavior:"smooth"}),n.daw&&localStorage.setItem(aa,n.daw),n.plugins&&localStorage.setItem(qo,n.plugins);let te="",le,ge;try{C("TrackGuide is generating...");const Ce=await YC(n);for await(const Tt of Ce)te+=Tt.text,f(fn=>fn+Tt.text);C("Initial MIDI patterns are generating...");const He=ml(te),Fe=(Re=n.songTitle)!=null&&Re.trim()?n.songTitle.trim():He||`TrackGuide for ${n.genre.join(", ")||"Unknown Genre"}`,dt=Date.now().toString(),Ot=new Date().toISOString(),en=T0(te),lt=S0(te),at=C0(te),pt=n.genre[0]||Qe.genre,ht=Ln[pt]||Ln.Default,Mt=Math.round((ht[0]+ht[1])/2),gt=(kn[pt]||kn.Default)[0],Vt=rM(te),_t=Qe.songSection;let $t=8;const yt=pt.toLowerCase();["lo-fi hip hop","lofi hip hop","lofi","trap","ambient","idm","breakcore","footwork","juke","experimental"].some(Tt=>yt.includes(Tt))&&($t=4);const Yi=["chords","bassline","melody","drums"];ge={key:lt||Qe.key,tempo:en||Mt,timeSignature:Qe.timeSignature,chordProgression:at||gt,genre:pt,bars:$t,targetInstruments:Yi,guidebookContext:Vt,songSection:_t};try{const Tt=await Zc(ge);let fn="";for await(const gl of Tt)fn+=gl.text;let dr=fn.trim();const _a=/^```(\w*)?\s*\n?(.*?)\n?\s*```$/s,pl=dr.match(_a);if(pl&&pl[2]&&(dr=pl[2].trim()),le=JSON.parse(dr),le.drums){const gl={};for(const Ki in le.drums)gl[Ki.toLowerCase().replace(/\s+/g,"_")]=le.drums[Ki];le.drums=gl}L(null)}catch(Tt){console.error("Initial MIDI generation failed:",Tt);const fn=Tt.message.toLowerCase().includes("json")?`AI returned invalid JSON for MIDI patterns during initial generation. (${Tt.message})`:`Initial MIDI generation failed: ${Tt.message}.`;L(fn+" You can try generating MIDI manually in the MIDI tools section."),le=void 0}ne({id:dt,title:Fe,genre:n.genre,artistReference:n.artistReference,referenceTrackLink:n.referenceTrackLink,lyrics:n.lyrics,key:n.key,chords:n.chords,generalNotes:n.generalNotes,vibe:n.vibe,daw:n.daw,plugins:n.plugins,availableInstruments:n.availableInstruments||"",content:te,createdAt:Ot,midiSettings:ge,generatedMidiPatterns:le})}catch(Ce){U(Ce.message||"An unexpected error occurred while generating TrackGuide."),ne(null),f("")}finally{b(!1),C("")}},cr=()=>{if(!Z)return;const G={...Z};$(te=>{const le=te.findIndex(ge=>ge.id===G.id);if(le>-1){const ge=[...te];return ge[le]=G,ge}return[G,...te]})},X=(G,te)=>{ne(le=>le?{...le,midiSettings:G,generatedMidiPatterns:te}:null)},ie=G=>{a({songTitle:G.title,genre:Array.isArray(G.genre)?G.genre:G.genre?[String(G.genre)]:[],artistReference:G.artistReference,referenceTrackLink:G.referenceTrackLink||"",lyrics:G.lyrics||"",key:G.key||"",chords:G.chords||"",generalNotes:G.generalNotes||"",vibe:Array.isArray(G.vibe)?G.vibe:G.vibe?[String(G.vibe)]:[],daw:G.daw,plugins:G.plugins,availableInstruments:G.availableInstruments||""}),u(""),h(""),f(G.content),ne(G),U(null),L(null),xe(""),Vn(),fe(!1),t("trackGuide"),window.scrollTo({top:0,behavior:"smooth"})},Se=G=>{$(te=>te.filter(le=>le.id!==G)),Z&&Z.id===G&&(f(""),ne(null),Vn())},Ee=G=>{let te="";const le=document.createTreeWalker(G,NodeFilter.SHOW_ELEMENT|NodeFilter.SHOW_TEXT,null);let ge,Re="",Ce=0;const He=dt=>{te+=dt+`
`,Re=""},Fe=dt=>{Re+=dt};for(;ge=le.nextNode();)if(ge.nodeType===Node.TEXT_NODE)Fe(ge.textContent||"");else if(ge.nodeType===Node.ELEMENT_NODE){const Ot=ge.tagName.toLowerCase();switch(["h1","h2","h3","p","div","ul","li","table","hr","tr","td","th"].includes(Ot)&&Re.trim()!==""&&He(Re),Ot){case"h1":Fe("# ");break;case"h2":Fe("## ");break;case"h3":Fe("### ");break;case"p":te.length>0&&!te.endsWith(`

`)&&!te.endsWith(`
`)&&He("");break;case"strong":case"b":Fe("**");break;case"em":case"i":Fe("*");break;case"ul":Ce++;break;case"li":Fe("  ".repeat(Ce-1)+"- ");break;case"hr":He("---");break;case"br":He(Re);break;case"tr":Re.trim()!==""&&He(Re);break;case"td":case"th":Fe("| ");break}switch(Ot){case"h1":case"h2":case"h3":case"p":He(Re),He("");break;case"strong":case"b":Fe("**");break;case"em":case"i":Fe("*");break;case"ul":Ce--,te.endsWith(`
`)||He(Re);break;case"li":He(Re);break;case"tr":Fe(" |"),He(Re);break;case"table":te.endsWith(`
`)||He("");break}}return Re.trim()!==""&&He(Re),te.replace(/\n\s*\n/g,`

`).trim()},Xe=G=>{const te=G.split(`
`);let le='<div style="color: #000000; font-family: system-ui, -apple-system, sans-serif; line-height: 1.6; background: transparent;">';for(const ge of te)if(ge.trim()==="")le+="<br>";else if(ge.startsWith("## "))le+=`<h2 style="color: #000000; font-size: 1.25rem; font-weight: bold; margin: 1rem 0 0.5rem 0;">${ge.replace("## ","")}</h2>`;else if(ge.startsWith("### "))le+=`<h3 style="color: #000000; font-size: 1.1rem; font-weight: bold; margin: 0.75rem 0 0.25rem 0;">${ge.replace("### ","")}</h3>`;else if(ge.startsWith("#### "))le+=`<h4 style="color: #000000; font-size: 1rem; font-weight: bold; margin: 0.5rem 0 0.25rem 0;">${ge.replace("#### ","")}</h4>`;else if(ge.match(/^\d+\./))le+=`<p style="margin: 0.25rem 0; padding-left: 1rem; color: #000000;">${ge}</p>`;else if(ge.startsWith(" ")||ge.startsWith("- "))le+=`<p style="margin: 0.25rem 0; padding-left: 1rem; color: #000000;">${ge}</p>`;else if(ge.includes(": ")){const Re=ge.indexOf(": "),Ce=ge.substring(0,Re),He=ge.substring(Re+2);le+=`<p style="margin: 0.25rem 0; color: #000000;"><strong style="color: #000000;">${Ce}:</strong> ${He}</p>`}else le+=`<p style="margin: 0.5rem 0; color: #000000;">${ge}</p>`;return le+="</div>",le},zt=async G=>{const te=document.getElementById(G);if(!te){xe("Content area not found."),setTimeout(()=>xe(""),3e3);return}const le=Ee(te.cloneNode(!0)),ge=Xe(le);try{if(navigator.clipboard&&navigator.clipboard.write){const Re=new Blob([ge],{type:"text/html"}),Ce=new Blob([le],{type:"text/plain"}),He=new ClipboardItem({"text/html":Re,"text/plain":Ce});await navigator.clipboard.write([He]),xe("Content Copied (Rich Format)!")}else await navigator.clipboard.writeText(le),xe("Content Copied (Plain Text)!")}catch(Re){console.error("Failed to copy content using modern Clipboard API:",Re);try{const Ce=document.createElement("textarea");Ce.value=le,Ce.style.position="fixed",Ce.style.opacity="0",document.body.appendChild(Ce),Ce.focus(),Ce.select();const He=document.execCommand("copy");if(document.body.removeChild(Ce),He)xe("Content Copied (Legacy Fallback)!");else throw new Error("execCommand failed")}catch(Ce){console.error("Failed to copy content using execCommand:",Ce),xe("Failed to copy. Please try manually.")}}finally{setTimeout(()=>xe(""),3e3)}},dn=(G,te=!1)=>{const le=[];if(!G&&!v)return le;if(!(!G&&v&&(E.includes("TrackGuide is generating")||E.includes("Generating TrackGuide")))){if(!G)return le}const ge=G.split(`
`);let Re=!1,Ce=[],He=!1;const Fe=(lt,at)=>{const pt=lt.match(/^\*\*(.*?):\*\*\s*(.*)/);if(pt){const Mt=pt[1],gt=pt[2];le.push(m.jsxs("p",{className:"my-2.5 text-gray-300 leading-relaxed break-words",children:[m.jsxs("strong",{className:"text-orange-300 font-semibold mr-1.5",children:[Mt,":"]}),m.jsx("span",{dangerouslySetInnerHTML:{__html:String.prototype.substring.call(gt,0).replace(/\*(.*?)\*/g,"<em>$1</em>").replace(/\s/g,'<span class="text-green-400 mr-1"></span>')}})]},at));return}let ht=lt.replace(/\*\*(.*?)\*\*/g,"<strong>$1</strong>");if(ht=ht.replace(/\*(.*?)\*/g,"<em>$1</em>"),ht=ht.replace(/\s/g,'<span class="text-green-400 mr-1"></span>'),lt.startsWith("# TRACKGUIDE:")){const Mt=lt.match(/^#\s*TRACKGUIDE:\s*"?([^"\n]+)"?/i),gt=Mt&&Mt[1]?Mt[1].trim():"Generated TrackGuide";le.push(m.jsxs("h1",{className:"text-3xl font-bold mt-6 mb-4 text-orange-300 break-words flex items-center",children:[m.jsx(ma,{className:"w-6 h-6 mr-3 text-orange-400 opacity-80"}),gt]},at));return}if(lt.startsWith("# ")&&!te){le.push(m.jsxs("h1",{className:"text-3xl font-bold mt-6 mb-4 text-orange-300 break-words flex items-center",children:[m.jsx(ma,{className:"w-6 h-6 mr-3 text-orange-400 opacity-80"}),String.prototype.substring.call(ht,2)]},at));return}if(lt.startsWith("# ")&&te){le.push(m.jsxs("h1",{className:"text-3xl font-bold mt-6 mb-4 text-orange-300 break-words flex items-center",children:[m.jsx(pa,{className:"w-6 h-6 mr-3 text-orange-400 opacity-80"}),String.prototype.substring.call(ht,2)]},at));return}if(lt.startsWith("## ")){const Mt=String.prototype.substring.call(ht,3),gt="text-orange-500",Vt="text-orange-400",_t=te?pa:ma;le.push(m.jsxs("h2",{className:`text-2xl font-semibold mt-10 mb-4 pt-4 border-t border-gray-700 ${Vt} break-words flex items-center guidebook-section-break`,children:[m.jsx(_t,{className:`w-5 h-5 mr-2 ${gt} opacity-70`}),Mt]},at));return}if(lt.startsWith("### ")){const Mt=String.prototype.substring.call(ht,4);le.push(m.jsx("h3",{className:"text-xl font-medium mt-6 mb-3 text-orange-300 break-words",children:Mt},at));return}if(lt.startsWith("* ")||lt.startsWith("- ")){le.push(m.jsx("li",{className:"ml-7 list-disc text-gray-300 my-1.5",dangerouslySetInnerHTML:{__html:String.prototype.substring.call(ht,2)}},at));return}if(lt.trim()==="---"){le.push(m.jsx("hr",{className:"my-8 border-gray-600"},at));return}lt.trim()&&le.push(m.jsx("p",{className:"my-2.5 text-gray-300 leading-relaxed break-words",dangerouslySetInnerHTML:{__html:ht}},at))},dt=lt=>{if(Ce.length>0){let at=null,pt=[...Ce];He&&Ce.length>0&&(at=Ce[0],pt=Ce.slice(1)),le.push(m.jsx("div",{className:"overflow-x-auto my-5 shadow-md rounded-lg guidebook-section-break",children:m.jsxs("table",{className:"w-full border-collapse border border-gray-600 bg-gray-800",children:[at&&m.jsx("thead",{className:"bg-gray-700",children:at}),pt.length>0&&m.jsx("tbody",{children:pt})]})},`table-container-${lt}`))}Re=!1,Ce=[],He=!1};ge.forEach((lt,at)=>{const pt=lt.trim(),ht=pt.startsWith("|")&&pt.endsWith("|"),Mt=ht&&pt.includes("---")&&pt.replace(/\|/g,"").replace(/-/g,"").trim()==="";if(Re)if(ht&&!Mt){const Vt=pt.split("|").slice(1,-1).map(_t=>_t.trim()).map((_t,$t)=>m.jsx("td",{className:"p-3 text-gray-300 border border-gray-600 text-sm",dangerouslySetInnerHTML:{__html:_t.replace(/\*\*(.*?)\*\*/g,"<strong>$1</strong>").replace(/\*(.*?)\*/g,"<em>$1</em>")}},$t));Ce.push(m.jsx("tr",{className:"border-b border-gray-600 hover:bg-gray-700/50 transition-colors duration-150",children:Vt},`row-${at}`))}else if(Mt){if(Ce.length>0&&!He){const gt=Ce.pop();if(fl.isValidElement(gt)){const Vt=gt,_t="bg-orange-800/30",$t="text-orange-200",yt=fl.Children.map(Vt.props.children,Fi=>{if(fl.isValidElement(Fi)){const Yi=Fi,Tt=Yi.props;return fl.cloneElement(Yi,{...Tt,className:`p-3 font-semibold ${$t} text-left border border-gray-500 text-sm ${_t}`})}return Fi});Ce.unshift(m.jsx("tr",{className:"border-b border-gray-500",children:yt},Vt.key||`header-${at}`)),He=!0}else gt&&Ce.push(gt)}}else dt(at),Fe(lt,at);else if(ht&&!Mt){Re=!0,Ce=[],He=!1;const Vt=pt.split("|").slice(1,-1).map(_t=>_t.trim()).map((_t,$t)=>m.jsx("td",{className:"p-3 text-gray-300 border border-gray-600 text-sm",dangerouslySetInnerHTML:{__html:_t.replace(/\*\*(.*?)\*\*/g,"<strong>$1</strong>").replace(/\*(.*?)\*/g,"<em>$1</em>")}},$t));Ce.push(m.jsx("tr",{className:"border-b border-gray-600 hover:bg-gray-700/50 transition-colors duration-150",children:Vt},`row-${at}`))}else Fe(lt,at)}),Re&&dt("final");const Ot=[];let en=[];return le.forEach((lt,at)=>{fl.isValidElement(lt)&&lt.type==="li"?en.push(lt):(en.length>0&&(Ot.push(m.jsx("ul",{className:"space-y-1 my-3 ml-2",children:en},`ul-${at-en.length}`)),en=[]),Ot.push(lt))}),en.length>0&&Ot.push(m.jsx("ul",{className:"space-y-1 my-3 ml-2",children:en},"ul-final")),Ot},jt=({selections:G,onRemove:te})=>m.jsx("div",{className:"flex flex-wrap gap-2 mt-2 mb-2 min-h-[2.25rem]",children:G.map(le=>m.jsxs("span",{className:"flex items-center px-3 py-1 bg-orange-600 text-white text-xs font-medium rounded-full shadow-md hover:bg-orange-700 transition-colors",children:[le,m.jsx("button",{type:"button",onClick:()=>te(le),className:"ml-1.5 -mr-0.5 p-0.5 text-orange-200 hover:text-white rounded-full focus:outline-none focus:bg-orange-800 transition-colors","aria-label":`Remove ${le}`,children:m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-3 w-3",viewBox:"0 0 20 20",fill:"currentColor",children:m.jsx("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})})})]},le))}),Cn=G=>{var le;const te=(le=G.target.files)==null?void 0:le[0];if(te){if(te.size>$o){w(`File is too large. Maximum size is ${Oi}MB.`),B(ge=>({...ge,audioFile:null})),et.current&&(et.current.value="");return}if(!te.type.startsWith("audio/")){w("Invalid file type. Please upload an audio file (e.g., MP3, WAV)."),B(ge=>({...ge,audioFile:null})),et.current&&(et.current.value="");return}B(ge=>({...ge,audioFile:te})),w(null)}},Xt=G=>{B(te=>({...te,userNotes:G.target.value}))},Et=async G=>{if(G.preventDefault(),!P.audioFile){w("Please upload an audio file for feedback.");return}R(!0),M(null),w(null);try{const te=await QC(P);M(te)}catch(te){w(te.message||"An unknown error occurred while generating mix feedback.")}finally{R(!1)}},Jt=()=>{B(b0),M(null),w(null),et.current&&(et.current.value="")},Zt=G=>new Promise((te,le)=>{const ge=new FileReader;ge.readAsDataURL(G),ge.onload=()=>{const Ce=ge.result.split(",")[1];te(Ce)},ge.onerror=Re=>le(Re)}),Aa=async()=>{if(!I.mixA||!I.mixB){Ye("Please upload both Mix A and Mix B files.");return}Be(!0),Ae(null),Ye(null);try{const G=await Zt(I.mixA),te=await Zt(I.mixB),le={mixAFile:G,mixBFile:te,mixAName:I.mixA.name,mixBName:I.mixB.name,includeMixBFeedback:I.includeMixBFeedback,userNotes:I.userNotes},ge=await WC(le);Ae(ge)}catch(G){Ye(G.message||"An unknown error occurred while comparing mixes.")}finally{Be(!1)}},Na=()=>{me({mixA:null,mixB:null,userNotes:"",includeMixBFeedback:!1}),Ae(null),Ye(null)};let Wt;const mi=(Ma=n.songTitle)==null?void 0:Ma.trim();if(mi)Wt=`TrackGuide: ${mi}`;else if(Z!=null&&Z.title){const G=Z.title;if(G.startsWith("TrackGuide for ")){const te=ml(Z.content);te?Wt=`TrackGuide: ${te}`:Wt=G}else Wt=`TrackGuide: ${G}`}else if(v&&l==="trackGuide"){const G=E0(x);G?Wt=`TrackGuide: ${G}`:Wt="TrackGuide is generating..."}else if(x){const G=E0(x);G?Wt=`TrackGuide: ${G}`:Wt="Generated TrackGuide"}else Wt="TrackGuide";return l==="landing"?m.jsx(BE,{onGetStarted:()=>{t("trackGuide"),setTimeout(()=>window.scrollTo({top:0,behavior:"smooth"}),100)}}):m.jsxs("div",{className:"min-h-screen bg-[#1A1A1A] text-gray-100 p-4 md:p-6 lg:p-8 relative overflow-hidden",children:[m.jsx("div",{className:"absolute inset-0 opacity-20",children:m.jsx("div",{className:"absolute inset-0",style:{backgroundImage:"radial-gradient(circle at 2px 2px, #FF5722 1px, transparent 0)",backgroundSize:"40px 40px"}})}),m.jsxs("div",{className:"absolute top-10 right-10 w-32 h-32 opacity-10",children:[m.jsx("div",{className:"w-full h-full border-2 border-orange-500 transform rotate-12"}),m.jsx("div",{className:"absolute top-2 right-2 w-28 h-28 bg-orange-500 transform rotate-12"})]}),m.jsxs("header",{className:"text-center mb-6 relative z-10",children:[m.jsxs("div",{className:"flex items-center justify-center space-x-3 mb-4",children:[m.jsx("div",{className:"w-8 h-8 bg-orange-500 transform rotate-45 flex items-center justify-center",children:m.jsx("div",{className:"w-4 h-4 bg-white transform -rotate-45"})}),m.jsxs("div",{children:[m.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-white",children:Eg}),m.jsx("p",{className:"text-gray-400 text-lg",children:"Your Smartest Studio Assistant"})]})]}),m.jsx("button",{onClick:()=>t("landing"),className:"mt-2 text-sm text-orange-500 hover:text-orange-400 transition-colors font-medium",children:" Back to Landing"})]}),m.jsxs("nav",{className:"mb-8 flex flex-col justify-center items-center md:flex-row md:justify-center gap-2 border-b border-orange-500/20 pb-3 relative z-10",children:[m.jsx(ze,{size:"sm",className:`w-full md:w-auto px-3 py-2 text-xs md:text-sm rounded-md transition-all duration-150 ease-in-out ${l==="trackGuide"?"bg-orange-500 shadow-lg hover:bg-orange-600":"bg-gray-700/80 hover:bg-gray-600/80 border border-gray-600"}`,onClick:()=>t("trackGuide"),variant:l==="trackGuide"?"primary":"secondary",leftIcon:m.jsx(uE,{className:"w-4 h-4"}),children:"TrackGuide AI"}),m.jsx(ze,{size:"sm",className:`w-full md:w-auto px-3 py-2 text-xs md:text-sm rounded-md transition-all duration-150 ease-in-out ${l==="mixFeedback"?"bg-orange-500 shadow-lg hover:bg-orange-600":"bg-gray-700/80 hover:bg-gray-600/80 border border-gray-600"}`,onClick:()=>t("mixFeedback"),variant:l==="mixFeedback"?"primary":"secondary",leftIcon:m.jsx("span",{className:"w-4 h-4 text-center",children:""}),children:"Mix Feedback AI"}),m.jsx(ze,{size:"sm",className:`w-full md:w-auto px-3 py-2 text-xs md:text-sm rounded-md transition-all duration-150 ease-in-out ${l==="remixGuide"?"bg-orange-500 shadow-lg hover:bg-orange-600":"bg-gray-700/80 hover:bg-gray-600/80 border border-gray-600"}`,onClick:()=>t("remixGuide"),variant:l==="remixGuide"?"primary":"secondary",leftIcon:m.jsx("span",{className:"w-4 h-4 text-center",children:""}),children:"RemixGuide AI"}),m.jsx(ze,{size:"sm",className:"w-full md:w-auto px-3 py-2 text-xs md:text-sm rounded-md transition-all duration-150 ease-in-out bg-gray-700/80 hover:bg-gray-600/80 border border-gray-600",onClick:()=>he(!0),variant:"secondary",leftIcon:m.jsx(Xo,{className:"w-4 h-4"}),children:"Production Coach"}),m.jsx(ze,{size:"sm",className:"w-full md:w-auto px-3 py-2 text-xs md:text-sm rounded-md transition-all duration-150 ease-in-out bg-gray-700/80 hover:bg-gray-600/80 border border-gray-600",onClick:()=>de(!0),variant:"secondary",leftIcon:m.jsx(pa,{className:"w-4 h-4"}),children:"EQ Guide"})]}),l==="trackGuide"&&m.jsxs("div",{className:"max-w-full mx-auto grid grid-cols-1 lg:grid-cols-7 gap-6 px-4",children:[m.jsxs(ct,{title:"Blueprint Your Sound",className:"lg:col-span-2 bg-gray-800/80 backdrop-blur-md shadow-xl border border-gray-700/50",children:[m.jsx("p",{className:"text-sm text-gray-400 mb-4",children:"Describe your visioneverything's optional."}),m.jsxs("form",{onSubmit:ur,className:"space-y-3",children:[m.jsx("div",{children:m.jsx(on,{label:"Song Title / Project Name",name:"songTitle",value:n.songTitle||"",onChange:qe,placeholder:"AI will suggest one if left blank"})}),m.jsx("div",{children:m.jsx(on,{label:"Artist References",name:"artistReference",value:n.artistReference,onChange:qe,placeholder:"e.g., Daft Punk"})}),m.jsx("div",{children:m.jsx(on,{label:"Song Reference",name:"referenceTrackLink",value:n.referenceTrackLink||"",onChange:qe,placeholder:"e.g., YouTube, Spotify, SoundCloud link"})}),m.jsxs("div",{className:"space-y-2",children:[m.jsxs("div",{children:[m.jsx("label",{htmlFor:"genre-input",className:"block text-sm font-medium text-gray-300 mb-1.5",children:"Genre(s)"}),m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx(on,{ref:Rt,id:"genre-input",name:"currentGenreText",value:o,onChange:qe,onKeyDown:G=>Un(G,"genre"),placeholder:"Type custom genre...",list:"genre-suggestions",className:"flex-grow"}),m.jsx(ze,{type:"button",onClick:()=>Sn("genre"),size:"sm",variant:"secondary","aria-label":"Add Genre",className:"px-3",children:m.jsx(td,{className:"w-4 h-4"})})]}),m.jsx("datalist",{id:"genre-suggestions",children:O0.map(G=>m.jsx("option",{value:G},G))}),m.jsx(jt,{selections:n.genre,onRemove:G=>di("genre",G)})]}),m.jsxs("div",{children:[m.jsx("label",{htmlFor:"vibe-input",className:"block text-sm font-medium text-gray-300 mb-1.5",children:"Vibe / Mood"}),m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx(on,{ref:Ut,id:"vibe-input",name:"currentVibeText",value:c,onChange:qe,onKeyDown:G=>Un(G,"vibe"),placeholder:"Type custom vibe...",list:"vibe-suggestions",className:"flex-grow"}),m.jsx(ze,{type:"button",onClick:()=>Sn("vibe"),size:"sm",variant:"secondary","aria-label":"Add Vibe",className:"px-3",children:m.jsx(td,{className:"w-4 h-4"})})]}),m.jsx("datalist",{id:"vibe-suggestions",children:VC.map(G=>m.jsx("option",{value:G},G))}),m.jsx(jt,{selections:n.vibe,onRemove:G=>di("vibe",G)})]})]}),m.jsxs("div",{children:[m.jsx(on,{label:"Preferred DAW",name:"daw",value:n.daw,onChange:qe,placeholder:"Type or select DAW...",list:"daw-suggestions"}),m.jsx("datalist",{id:"daw-suggestions",children:Ag.map(G=>m.jsx("option",{value:G},G))}),m.jsx("div",{className:"flex flex-wrap gap-2 mt-2 mb-1",children:Ag.slice(0,5).map(G=>m.jsx("button",{type:"button",onClick:()=>fi(G),className:`px-3 py-1 text-xs rounded-full transition-all duration-150 ease-in-out shadow-sm hover:shadow-md ${n.daw===G?"bg-orange-600 text-white ring-2 ring-orange-400 ring-offset-2 ring-offset-gray-800":"bg-gray-700 hover:bg-gray-600 text-gray-300 hover:text-gray-100"}`,children:G},G))})]}),m.jsx("div",{children:m.jsx(Jl,{label:"Available Plugins",name:"plugins",value:n.plugins,onChange:qe,placeholder:"e.g., Serum, Valhalla Reverbs, Arturia V Collection, or 'stock only'",rows:2})}),m.jsx("div",{children:m.jsx(Jl,{label:"Available Instruments",name:"availableInstruments",value:n.availableInstruments||"",onChange:qe,placeholder:"e.g., Electric Guitar, Moog Subsequent 37, Roland TR-808, Vocals",rows:2})}),m.jsxs("div",{className:"border-t border-gray-600 pt-4",children:[m.jsx(ze,{type:"button",onClick:()=>ce(!pe),variant:"outline",className:"mb-4 w-8 h-8 p-0 flex items-center justify-center",title:pe?"Hide Advanced Input":"Show Advanced Input",children:m.jsx("span",{className:`text-lg transition-transform ${pe?"rotate-45":""}`,children:"+"})}),pe&&m.jsxs("div",{className:"space-y-4 p-4 bg-gray-700/30 rounded-lg border border-gray-600/50",children:[m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[m.jsx("div",{children:m.jsx(on,{label:"Key",name:"key",value:n.key||"",onChange:qe,placeholder:"e.g., C Major"})}),m.jsx("div",{children:m.jsx(on,{label:"Scale/Mode",name:"scale",value:n.scale||"",onChange:qe,placeholder:"e.g., Dorian, Mixolydian"})})]}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[m.jsx("div",{children:m.jsx(on,{label:"Chords",name:"chords",value:n.chords||"",onChange:qe,placeholder:"e.g., Am - F - C - G"})}),m.jsx("div",{children:m.jsx(Jl,{label:"Lyrics",name:"lyrics",value:n.lyrics||"",onChange:qe,placeholder:"Paste your lyrics here if you have any...",rows:2})})]}),m.jsx("div",{children:m.jsx(Jl,{label:"General Notes for AI",name:"generalNotes",value:n.generalNotes||"",onChange:qe,placeholder:"Any specific instructions, style notes, or creative direction for the AI to consider...",rows:3})})]})]}),m.jsx(ze,{type:"submit",disabled:v,className:"w-full text-base py-2.5",leftIcon:m.jsx(Xo,{className:"w-5 h-5"}),children:v?E||"Generating...":"Generate TrackGuide"}),m.jsxs("div",{className:"flex space-x-2 mt-3",children:[m.jsx(ze,{type:"button",onClick:()=>fe(!0),variant:"secondary",className:"flex-1",leftIcon:m.jsx(ed,{className:"w-4 h-4"}),children:"View Library"}),m.jsx(ze,{type:"button",onClick:hi,variant:"outline",className:"flex-1",children:"Clear Form"})]})]})]}),m.jsxs("div",{className:"lg:col-span-5 space-y-6",children:[D&&!v&&m.jsxs(ct,{className:"border-red-500 bg-red-900/40 shadow-xl",children:[m.jsx("p",{className:"text-red-300 font-semibold text-lg",children:"TrackGuide Error:"}),m.jsx("p",{className:"text-red-300",children:D})]}),F&&!E.toLowerCase().includes("midi")&&!D&&m.jsxs(ct,{className:"border-yellow-500 bg-yellow-900/40 shadow-xl",children:[m.jsx("p",{className:"text-yellow-300 font-semibold text-lg",children:"MIDI Generation Note:"}),m.jsx("p",{className:"text-yellow-300",children:F})]}),(x||v&&E.includes("TrackGuide is generating"))&&!D&&m.jsxs(ct,{title:Wt,className:"bg-gray-800/80 backdrop-blur-md shadow-xl border border-gray-700/50 sticky top-8",titleClassName:"border-b border-gray-700 text-xl",children:[Z&&!v&&m.jsxs("div",{className:"flex flex-wrap gap-3 mb-5 pb-4 border-b border-gray-700 items-center",children:[m.jsx(ze,{onClick:cr,variant:"secondary",leftIcon:m.jsx(iE,{}),children:"Save to Library"}),m.jsx(ze,{onClick:()=>zt("guidebook-content-display"),variant:"outline",leftIcon:m.jsx(Zo,{}),children:"Copy TrackGuide"}),m.jsx("div",{className:"flex-grow"}),m.jsx(ze,{onClick:hi,variant:"outline",size:"sm",className:"!border-gray-500 !text-gray-400 hover:!bg-gray-600 hover:!text-white",leftIcon:m.jsx(gd,{}),children:"Close"}),ve&&m.jsx("span",{className:`ml-3 text-sm ${ve.includes("Failed")||ve.includes("not supported")?"text-red-400":"text-green-400"}`,children:ve})]}),m.jsxs("div",{id:"guidebook-content-display",className:"prose prose-sm md:prose-base prose-invert max-w-none max-h-[calc(100vh-6rem)] overflow-y-auto pr-3 text-gray-300 custom-scrollbar guidebook-content",children:[Z&&!v&&m.jsxs("div",{className:"mb-6 p-4 bg-gray-700/50 rounded-lg text-sm shadow-inner border border-gray-600/50 guidebook-section-break",children:[m.jsx("strong",{className:"text-orange-300 block mb-2 text-base",children:"TrackGuide Snapshot:"}),m.jsxs("p",{children:[m.jsx("strong",{children:"Project Title:"})," ",Z.title]}),m.jsxs("p",{children:[m.jsx("strong",{children:"Genre(s):"})," ",Array.isArray(Z.genre)?Z.genre.join(", "):Z.genre]}),m.jsxs("p",{children:[m.jsx("strong",{children:"Artist/Song Ref:"})," ",Z.artistReference||"N/A"]}),m.jsxs("p",{children:[m.jsx("strong",{children:"Vibe(s):"})," ",Array.isArray(Z.vibe)?Z.vibe.join(", "):Z.vibe]}),m.jsxs("p",{children:[m.jsx("strong",{children:"DAW:"})," ",Z.daw]}),m.jsxs("p",{children:[m.jsx("strong",{children:"Plugins:"})," ",Z.plugins||"N/A"]}),m.jsxs("p",{children:[m.jsx("strong",{children:"Instruments:"})," ",Z.availableInstruments||"N/A"]}),Z.generatedMidiPatterns&&m.jsxs("p",{className:"mt-1 text-green-400",children:[m.jsx(ma,{className:"w-4 h-4 inline mr-1"})," Initial MIDI patterns generated."]})]}),Z&&!v&&(()=>{const G=aM(Z.content);return G.length>0&&m.jsxs("div",{className:"mb-6 p-4 bg-gray-700/50 rounded-lg text-sm shadow-inner border border-gray-600/50 guidebook-section-break",children:[m.jsx("strong",{className:"text-orange-300 block mb-3 text-base",children:"Structural Blueprint:"}),m.jsx("div",{className:"overflow-x-auto",children:m.jsxs("table",{className:"w-full border-collapse border border-gray-600 bg-gray-800 text-xs",children:[m.jsx("thead",{className:"bg-orange-800/30",children:m.jsxs("tr",{className:"border-b border-gray-500",children:[m.jsx("th",{className:"p-2 font-semibold text-orange-200 text-left border border-gray-500",children:"Section"}),m.jsx("th",{className:"p-2 font-semibold text-orange-200 text-left border border-gray-500",children:"Duration"}),m.jsx("th",{className:"p-2 font-semibold text-orange-200 text-left border border-gray-500",children:"Description"})]})}),m.jsx("tbody",{children:G.map((te,le)=>m.jsxs("tr",{className:"border-b border-gray-600 hover:bg-gray-700/50 transition-colors duration-150",children:[m.jsx("td",{className:"p-2 text-gray-300 border border-gray-600 font-medium",children:te.section}),m.jsx("td",{className:"p-2 text-gray-300 border border-gray-600",children:te.duration}),m.jsx("td",{className:"p-2 text-gray-300 border border-gray-600",children:te.description})]},le))})]})})]})})(),dn(x),v&&E.includes("TrackGuide is generating")&&m.jsx(tr,{size:"sm",text:"Generating TrackGuide..."})]})]}),v&&!D&&E&&!E.includes("TrackGuide is generating")&&m.jsx("div",{className:"flex justify-center py-10",children:m.jsx(tr,{size:"lg",text:E||"Processing..."})}),Z&&!v&&x&&!D&&m.jsx(q0,{currentGuidebookEntry:Z,mainAppInputs:n,onUpdateGuidebookEntryMidi:X,parsedGuidebookBpm:T0(Z.content),parsedGuidebookKey:S0(Z.content),parsedGuidebookChordProg:C0(Z.content)}),!v&&!x&&!D&&!Z&&m.jsxs(ct,{className:"bg-gray-800/80 backdrop-blur-md shadow-xl border border-gray-700/50 flex flex-col items-center justify-center h-96 text-center min-h-[500px]",children:[m.jsx("div",{className:"flex justify-center mb-6",children:m.jsx(Xo,{className:"w-20 h-20 opacity-80 text-orange-500"})}),m.jsx("h3",{className:"text-2xl font-semibold text-gray-200 mb-2",children:"Produce Smarter. Create More."}),m.jsx("p",{className:"text-gray-400 max-w-md mx-auto",children:"Tell us what youre envisioningTrackGuide AI will generate a custom production guide and MIDI foundation."})]})]})]}),l==="mixFeedback"&&m.jsxs("div",{className:"max-w-7xl mx-auto grid grid-cols-1 md:grid-cols-12 gap-8",children:[m.jsxs("div",{className:"md:col-span-3 space-y-6",children:[m.jsxs("div",{className:"flex bg-gray-800/80 backdrop-blur-md shadow-xl border border-gray-700/50 rounded-lg overflow-hidden",children:[m.jsx("button",{onClick:()=>oe("single"),className:`flex-1 px-4 py-3 text-sm font-medium transition-all ${J==="single"?"bg-orange-500 text-white":"bg-gray-700/50 text-gray-300 hover:bg-gray-600/50"}`,children:" Mix Analysis"}),m.jsx("button",{onClick:()=>oe("compare"),className:`flex-1 px-4 py-3 text-sm font-medium transition-all ${J==="compare"?"bg-orange-500 text-white":"bg-gray-700/50 text-gray-300 hover:bg-gray-600/50"}`,children:" Mix Compare"})]}),J==="single"&&m.jsx(ct,{title:"Upload Your Mix",className:"bg-gray-800/80 backdrop-blur-md shadow-xl border border-gray-700/50",children:m.jsxs("form",{onSubmit:Et,className:"space-y-5",children:[m.jsxs("div",{children:[m.jsx("label",{htmlFor:"mix-audio-file",className:"block text-sm font-medium text-gray-300 mb-1",children:"Audio File (.mp3, .wav, etc.)"}),m.jsx("div",{className:`mt-1 flex justify-center px-6 pt-5 pb-6 border-2 ${j&&P.audioFile===null?"border-red-500":"border-gray-600"} border-dashed rounded-md cursor-pointer hover:border-orange-500 transition-colors`,onClick:()=>{var G;return(G=et.current)==null?void 0:G.click()},onDragOver:G=>{G.preventDefault(),G.currentTarget.classList.add("border-orange-500")},onDragLeave:G=>G.currentTarget.classList.remove("border-orange-500"),onDrop:G=>{if(G.preventDefault(),G.currentTarget.classList.remove("border-orange-500"),G.dataTransfer.files&&G.dataTransfer.files[0]){const te=G.dataTransfer.files[0];if(te.size>$o){w(`File is too large. Max ${Oi}MB.`);return}if(!te.type.startsWith("audio/")){w("Invalid file type. Please upload audio.");return}B(le=>({...le,audioFile:te})),w(null)}},children:m.jsxs("div",{className:"space-y-1 text-center",children:[m.jsx(Nc,{className:"mx-auto h-12 w-12 text-gray-500"}),m.jsxs("div",{className:"flex text-sm text-gray-400",children:[m.jsx("span",{className:"relative rounded-md font-medium text-orange-400 hover:text-orange-300 focus-within:outline-none focus-within:ring-2 focus-within:ring-offset-2 focus-within:ring-offset-gray-900 focus-within:ring-orange-500",children:m.jsx("span",{children:"Upload a file"})}),m.jsx("input",{id:"mix-audio-file",name:"mix-audio-file",type:"file",className:"sr-only",accept:"audio/*",onChange:Cn,ref:et}),m.jsx("p",{className:"pl-1",children:"or drag and drop"})]}),m.jsxs("p",{className:"text-xs text-gray-500",children:["Max file size: ",Oi,"MB"]})]})}),P.audioFile&&m.jsxs("p",{className:"text-xs text-green-400 mt-2",children:["Selected: ",P.audioFile.name," (",(P.audioFile.size/1024/1024).toFixed(2)," MB)"]}),j&&P.audioFile===null&&m.jsx("p",{className:"text-xs text-red-400 mt-2",children:j})]}),m.jsx("div",{children:m.jsx(Jl,{label:"Notes for AI",name:"mixUserNotes",value:P.userNotes,onChange:Xt,placeholder:"e.g., 'Focus on the low-end clarity', 'Is the vocal too loud?', 'General feedback welcome.'",rows:4})}),m.jsx(ze,{type:"submit",disabled:T||!P.audioFile,className:"w-full text-base py-2.5 !bg-orange-600 hover:!bg-orange-700 focus:!ring-orange-500",leftIcon:m.jsx(pa,{className:"w-5 h-5"}),children:T?"Analyzing Mix...":"Get Mix Feedback"}),m.jsx(ze,{type:"button",onClick:Jt,variant:"outline",className:"w-full !border-orange-500 !text-orange-400 hover:!bg-orange-500 hover:!text-white",children:"Clear Mix Form"})]})}),J==="compare"&&m.jsxs("div",{className:"space-y-5",children:[m.jsxs(ct,{title:"Mix A (Original)",className:"bg-gray-800/80 backdrop-blur-md shadow-xl border border-gray-700/50",children:[m.jsx("div",{className:`mt-1 flex justify-center px-6 pt-5 pb-6 border-2 ${je&&!I.mixA?"border-red-500":"border-gray-600"} border-dashed rounded-md cursor-pointer hover:border-orange-500 transition-colors`,onClick:()=>{var G;return(G=document.getElementById("mixA-upload"))==null?void 0:G.click()},children:m.jsxs("div",{className:"space-y-1 text-center",children:[m.jsx(Nc,{className:"mx-auto h-12 w-12 text-gray-400"}),m.jsxs("div",{className:"flex text-sm text-gray-400",children:[m.jsxs("label",{htmlFor:"mixA-upload",className:"relative cursor-pointer rounded-md font-medium text-orange-400 hover:text-orange-300",children:[m.jsx("span",{children:"Upload Mix A"}),m.jsx("input",{id:"mixA-upload",name:"mixA-upload",type:"file",className:"sr-only",accept:"audio/*",onChange:G=>{var le;const te=(le=G.target.files)==null?void 0:le[0];if(te){if(te.size>$o){Ye(`File is too large. Max ${Oi}MB.`);return}if(!te.type.startsWith("audio/")){Ye("Invalid file type. Please upload audio.");return}me(ge=>({...ge,mixA:te})),Ye(null)}}})]}),m.jsx("p",{className:"pl-1",children:"or drag and drop"})]}),m.jsxs("p",{className:"text-xs text-gray-500",children:["MP3, WAV, FLAC up to ",Oi,"MB"]})]})}),I.mixA&&m.jsxs("p",{className:"text-xs text-green-400 mt-2",children:["Selected: ",I.mixA.name," (",(I.mixA.size/1024/1024).toFixed(2)," MB)"]})]}),m.jsxs(ct,{title:"Mix B (Revised)",className:"bg-gray-800/80 backdrop-blur-md shadow-xl border border-gray-700/50",children:[m.jsx("div",{className:`mt-1 flex justify-center px-6 pt-5 pb-6 border-2 ${je&&!I.mixB?"border-red-500":"border-gray-600"} border-dashed rounded-md cursor-pointer hover:border-orange-500 transition-colors`,onClick:()=>{var G;return(G=document.getElementById("mixB-upload"))==null?void 0:G.click()},children:m.jsxs("div",{className:"space-y-1 text-center",children:[m.jsx(Nc,{className:"mx-auto h-12 w-12 text-gray-400"}),m.jsxs("div",{className:"flex text-sm text-gray-400",children:[m.jsxs("label",{htmlFor:"mixB-upload",className:"relative cursor-pointer rounded-md font-medium text-orange-400 hover:text-orange-300",children:[m.jsx("span",{children:"Upload Mix B"}),m.jsx("input",{id:"mixB-upload",name:"mixB-upload",type:"file",className:"sr-only",accept:"audio/*",onChange:G=>{var le;const te=(le=G.target.files)==null?void 0:le[0];if(te){if(te.size>$o){Ye(`File is too large. Max ${Oi}MB.`);return}if(!te.type.startsWith("audio/")){Ye("Invalid file type. Please upload audio.");return}me(ge=>({...ge,mixB:te})),Ye(null)}}})]}),m.jsx("p",{className:"pl-1",children:"or drag and drop"})]}),m.jsxs("p",{className:"text-xs text-gray-500",children:["MP3, WAV, FLAC up to ",Oi,"MB"]})]})}),I.mixB&&m.jsxs("p",{className:"text-xs text-green-400 mt-2",children:["Selected: ",I.mixB.name," (",(I.mixB.size/1024/1024).toFixed(2)," MB)"]}),m.jsx("div",{className:"mt-4 pt-4 border-t border-gray-600",children:m.jsxs("label",{className:"flex items-center space-x-3 cursor-pointer",children:[m.jsx("input",{type:"checkbox",checked:I.includeMixBFeedback||!1,onChange:G=>me(te=>({...te,includeMixBFeedback:G.target.checked})),className:"w-4 h-4 text-orange-600 bg-gray-700 border-gray-600 rounded focus:ring-orange-500 focus:ring-2"}),m.jsx("span",{className:"text-sm text-gray-300",children:"Include general mix feedback"})]})})]}),m.jsx(ct,{title:"Notes for AI",className:"bg-gray-800/80 backdrop-blur-md shadow-xl border border-gray-700/50",children:m.jsx(Jl,{placeholder:"Describe what you want the AI to focus on when comparing these mixes. For example: 'Focus on the vocal clarity and low-end balance' or 'Compare the stereo width and overall loudness'...",value:I.userNotes,onChange:G=>me(te=>({...te,userNotes:G.target.value})),rows:3,className:"w-full"})}),m.jsx(ze,{onClick:Aa,disabled:De||!I.mixA||!I.mixB,variant:"primary",className:"w-full px-4 py-3 text-base font-semibold",leftIcon:m.jsx("span",{className:"w-5 h-5 text-center",children:""}),children:De?"Comparing Mixes...":"Compare Mixes"}),m.jsx(ze,{type:"button",onClick:Na,variant:"outline",className:"w-full !border-orange-500 !text-orange-400 hover:!bg-orange-500 hover:!text-white",children:"Reset"}),je&&!De&&m.jsxs(ct,{className:"border-red-500 bg-red-900/40 shadow-xl",children:[m.jsx("p",{className:"text-red-300 font-semibold text-lg",children:"Mix Comparison Error:"}),m.jsx("p",{className:"text-red-300",children:je})]})]})]}),m.jsxs("div",{className:"md:col-span-9 space-y-6",children:[(T||De)&&m.jsx("div",{className:"flex justify-center items-center h-full min-h-[500px]",children:m.jsx(tr,{size:"lg",color:"text-orange-500",text:J==="single"?"AI is analyzing your mix... this may take a moment.":"AI is comparing your mixes... this may take a moment."})}),j&&!T&&J==="single"&&m.jsxs(ct,{className:"border-red-500 bg-red-900/40 shadow-xl",children:[m.jsx("p",{className:"text-red-300 font-semibold text-lg",children:"Mix Feedback Error:"}),m.jsx("p",{className:"text-red-300",children:j})]}),je&&!De&&J==="compare"&&m.jsxs(ct,{className:"border-red-500 bg-red-900/40 shadow-xl",children:[m.jsx("p",{className:"text-red-300 font-semibold text-lg",children:"Mix Comparison Error:"}),m.jsx("p",{className:"text-red-300",children:je})]}),N&&!T&&J==="single"&&m.jsxs(ct,{title:"AI Mix Feedback Report",className:"bg-gray-800/80 backdrop-blur-md shadow-xl border border-gray-700/50 sticky top-8",titleClassName:"border-b border-gray-700 text-xl !text-orange-300",children:[m.jsxs("div",{className:"flex flex-wrap gap-3 mb-5 pb-4 border-b border-gray-700 items-center",children:[m.jsx(ze,{onClick:()=>zt("mix-feedback-display"),variant:"outline",className:"!border-orange-500 !text-orange-400 hover:!bg-orange-500 hover:!text-white",leftIcon:m.jsx(Zo,{}),children:"Copy Feedback"}),ve&&m.jsx("span",{className:`ml-3 text-sm ${ve.includes("Failed")?"text-red-400":"text-green-400"}`,children:ve})]}),m.jsx("div",{id:"mix-feedback-display",className:"prose prose-sm md:prose-base prose-invert max-w-none max-h-[calc(100vh-6rem)] overflow-y-auto pr-3 text-gray-300 custom-scrollbar guidebook-content",children:dn(N,!0)})]}),ue&&!De&&J==="compare"&&m.jsxs(ct,{title:"AI Mix Comparison Report",className:"bg-gray-800/80 backdrop-blur-md shadow-xl border border-gray-700/50 sticky top-8",titleClassName:"border-b border-gray-700 text-xl !text-orange-300",children:[m.jsxs("div",{className:"flex flex-wrap gap-3 mb-5 pb-4 border-b border-gray-700 items-center",children:[m.jsx(ze,{onClick:()=>zt("mix-comparison-display"),variant:"outline",className:"!border-orange-500 !text-orange-400 hover:!bg-orange-500 hover:!text-white",leftIcon:m.jsx(Zo,{}),children:"Copy Comparison"}),ve&&m.jsx("span",{className:`ml-3 text-sm ${ve.includes("Failed")?"text-red-400":"text-green-400"}`,children:ve})]}),m.jsx("div",{id:"mix-comparison-display",className:"prose prose-sm md:prose-base prose-invert max-w-none max-h-[calc(100vh-6rem)] overflow-y-auto pr-3 text-gray-300 custom-scrollbar guidebook-content",children:dn(ue,!0)})]}),!T&&!De&&!N&&!ue&&!j&&!je&&m.jsxs(ct,{className:"bg-gray-800/80 backdrop-blur-md shadow-xl border border-gray-700/50 flex flex-col items-center justify-center h-96 text-center min-h-[500px]",children:[m.jsx("div",{className:"flex justify-center mb-6",children:m.jsx(Xo,{className:"w-20 h-20 opacity-80"})}),m.jsx("h3",{className:"text-2xl font-semibold text-gray-200 mb-2",children:"Refine Your Sound."}),m.jsx("p",{className:"text-gray-400 max-w-md",children:J==="single"?"Upload your mix, add some notes, and get detailed feedback from our AI mixing engineer.":"Upload two mix versions to compare them side-by-side and get detailed analysis of the differences."})]})]})]}),l==="remixGuide"&&m.jsx("div",{className:"max-w-7xl mx-auto",children:m.jsx(lM,{})}),K&&m.jsx(_E,{library:Y,onClose:()=>fe(!1),onLoadEntry:ie,onDeleteEntry:Se,onCreateNew:hi}),se&&m.jsx(DE,{isOpen:se,onClose:()=>he(!1),currentGuidebook:Z||void 0,userInputs:n}),ae&&m.jsx(kE,{isOpen:ae,onClose:()=>de(!1)}),m.jsx("footer",{className:"text-center mt-16 py-8 border-t border-gray-700/60",children:m.jsxs("p",{className:"text-sm text-gray-500",children:[Eg," - AI Production Assistant"]})})]})},Ay=document.getElementById("root");if(!Ay)throw new Error("Could not find root element to mount to");const sM=Gv.createRoot(Ay);sM.render(m.jsx(fl.StrictMode,{children:m.jsx(oM,{})}));
