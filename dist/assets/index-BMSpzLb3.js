(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const l of o)if(l.type==="childList")for(const u of l.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&r(u)}).observe(document,{childList:!0,subtree:!0});function n(o){const l={};return o.integrity&&(l.integrity=o.integrity),o.referrerPolicy&&(l.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?l.credentials="include":o.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function r(o){if(o.ep)return;o.ep=!0;const l=n(o);fetch(o.href,l)}})();function Ts(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function rM(e){if(Object.prototype.hasOwnProperty.call(e,"__esModule"))return e;var t=e.default;if(typeof t=="function"){var n=function r(){return this instanceof r?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var o=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,o.get?o:{enumerable:!0,get:function(){return e[r]}})}),n}var Xf={exports:{}},Ho={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var s0;function aM(){if(s0)return Ho;s0=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(r,o,l){var u=null;if(l!==void 0&&(u=""+l),o.key!==void 0&&(u=""+o.key),"key"in o){l={};for(var f in o)f!=="key"&&(l[f]=o[f])}else l=o;return o=l.ref,{$$typeof:e,type:r,key:u,ref:o!==void 0?o:null,props:l}}return Ho.Fragment=t,Ho.jsx=n,Ho.jsxs=n,Ho}var l0;function oM(){return l0||(l0=1,Xf.exports=aM()),Xf.exports}var g=oM(),Wf={exports:{}},Ne={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var u0;function sM(){if(u0)return Ne;u0=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),u=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),y=Symbol.iterator;function T(C){return C===null||typeof C!="object"?null:(C=y&&C[y]||C["@@iterator"],typeof C=="function"?C:null)}var S={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},M=Object.assign,E={};function _(C,P,Y){this.props=C,this.context=P,this.refs=E,this.updater=Y||S}_.prototype.isReactComponent={},_.prototype.setState=function(C,P){if(typeof C!="object"&&typeof C!="function"&&C!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,C,P,"setState")},_.prototype.forceUpdate=function(C){this.updater.enqueueForceUpdate(this,C,"forceUpdate")};function I(){}I.prototype=_.prototype;function k(C,P,Y){this.props=C,this.context=P,this.refs=E,this.updater=Y||S}var R=k.prototype=new I;R.constructor=k,M(R,_.prototype),R.isPureReactComponent=!0;var z=Array.isArray,G={H:null,A:null,T:null,S:null,V:null},H=Object.prototype.hasOwnProperty;function se(C,P,Y,D,J,O){return Y=O.ref,{$$typeof:e,type:C,key:P,ref:Y!==void 0?Y:null,props:O}}function oe(C,P){return se(C.type,P,void 0,void 0,void 0,C.props)}function pe(C){return typeof C=="object"&&C!==null&&C.$$typeof===e}function j(C){var P={"=":"=0",":":"=2"};return"$"+C.replace(/[=:]/g,function(Y){return P[Y]})}var fe=/\/+/g;function Z(C,P){return typeof C=="object"&&C!==null&&C.key!=null?j(""+C.key):P.toString(36)}function he(){}function le(C){switch(C.status){case"fulfilled":return C.value;case"rejected":throw C.reason;default:switch(typeof C.status=="string"?C.then(he,he):(C.status="pending",C.then(function(P){C.status==="pending"&&(C.status="fulfilled",C.value=P)},function(P){C.status==="pending"&&(C.status="rejected",C.reason=P)})),C.status){case"fulfilled":return C.value;case"rejected":throw C.reason}}throw C}function ce(C,P,Y,D,J){var O=typeof C;(O==="undefined"||O==="boolean")&&(C=null);var re=!1;if(C===null)re=!0;else switch(O){case"bigint":case"string":case"number":re=!0;break;case"object":switch(C.$$typeof){case e:case t:re=!0;break;case h:return re=C._init,ce(re(C._payload),P,Y,D,J)}}if(re)return J=J(C),re=D===""?"."+Z(C,0):D,z(J)?(Y="",re!=null&&(Y=re.replace(fe,"$&/")+"/"),ce(J,P,Y,"",function(Ce){return Ce})):J!=null&&(pe(J)&&(J=oe(J,Y+(J.key==null||C&&C.key===J.key?"":(""+J.key).replace(fe,"$&/")+"/")+re)),P.push(J)),1;re=0;var ye=D===""?".":D+":";if(z(C))for(var de=0;de<C.length;de++)D=C[de],O=ye+Z(D,de),re+=ce(D,P,Y,O,J);else if(de=T(C),typeof de=="function")for(C=de.call(C),de=0;!(D=C.next()).done;)D=D.value,O=ye+Z(D,de++),re+=ce(D,P,Y,O,J);else if(O==="object"){if(typeof C.then=="function")return ce(le(C),P,Y,D,J);throw P=String(C),Error("Objects are not valid as a React child (found: "+(P==="[object Object]"?"object with keys {"+Object.keys(C).join(", ")+"}":P)+"). If you meant to render a collection of children, use an array instead.")}return re}function q(C,P,Y){if(C==null)return C;var D=[],J=0;return ce(C,D,"","",function(O){return P.call(Y,O,J++)}),D}function B(C){if(C._status===-1){var P=C._result;P=P(),P.then(function(Y){(C._status===0||C._status===-1)&&(C._status=1,C._result=Y)},function(Y){(C._status===0||C._status===-1)&&(C._status=2,C._result=Y)}),C._status===-1&&(C._status=0,C._result=P)}if(C._status===1)return C._result.default;throw C._result}var N=typeof reportError=="function"?reportError:function(C){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var P=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof C=="object"&&C!==null&&typeof C.message=="string"?String(C.message):String(C),error:C});if(!window.dispatchEvent(P))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",C);return}console.error(C)};function L(){}return Ne.Children={map:q,forEach:function(C,P,Y){q(C,function(){P.apply(this,arguments)},Y)},count:function(C){var P=0;return q(C,function(){P++}),P},toArray:function(C){return q(C,function(P){return P})||[]},only:function(C){if(!pe(C))throw Error("React.Children.only expected to receive a single React element child.");return C}},Ne.Component=_,Ne.Fragment=n,Ne.Profiler=o,Ne.PureComponent=k,Ne.StrictMode=r,Ne.Suspense=m,Ne.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=G,Ne.__COMPILER_RUNTIME={__proto__:null,c:function(C){return G.H.useMemoCache(C)}},Ne.cache=function(C){return function(){return C.apply(null,arguments)}},Ne.cloneElement=function(C,P,Y){if(C==null)throw Error("The argument must be a React element, but you passed "+C+".");var D=M({},C.props),J=C.key,O=void 0;if(P!=null)for(re in P.ref!==void 0&&(O=void 0),P.key!==void 0&&(J=""+P.key),P)!H.call(P,re)||re==="key"||re==="__self"||re==="__source"||re==="ref"&&P.ref===void 0||(D[re]=P[re]);var re=arguments.length-2;if(re===1)D.children=Y;else if(1<re){for(var ye=Array(re),de=0;de<re;de++)ye[de]=arguments[de+2];D.children=ye}return se(C.type,J,void 0,void 0,O,D)},Ne.createContext=function(C){return C={$$typeof:u,_currentValue:C,_currentValue2:C,_threadCount:0,Provider:null,Consumer:null},C.Provider=C,C.Consumer={$$typeof:l,_context:C},C},Ne.createElement=function(C,P,Y){var D,J={},O=null;if(P!=null)for(D in P.key!==void 0&&(O=""+P.key),P)H.call(P,D)&&D!=="key"&&D!=="__self"&&D!=="__source"&&(J[D]=P[D]);var re=arguments.length-2;if(re===1)J.children=Y;else if(1<re){for(var ye=Array(re),de=0;de<re;de++)ye[de]=arguments[de+2];J.children=ye}if(C&&C.defaultProps)for(D in re=C.defaultProps,re)J[D]===void 0&&(J[D]=re[D]);return se(C,O,void 0,void 0,null,J)},Ne.createRef=function(){return{current:null}},Ne.forwardRef=function(C){return{$$typeof:f,render:C}},Ne.isValidElement=pe,Ne.lazy=function(C){return{$$typeof:h,_payload:{_status:-1,_result:C},_init:B}},Ne.memo=function(C,P){return{$$typeof:d,type:C,compare:P===void 0?null:P}},Ne.startTransition=function(C){var P=G.T,Y={};G.T=Y;try{var D=C(),J=G.S;J!==null&&J(Y,D),typeof D=="object"&&D!==null&&typeof D.then=="function"&&D.then(L,N)}catch(O){N(O)}finally{G.T=P}},Ne.unstable_useCacheRefresh=function(){return G.H.useCacheRefresh()},Ne.use=function(C){return G.H.use(C)},Ne.useActionState=function(C,P,Y){return G.H.useActionState(C,P,Y)},Ne.useCallback=function(C,P){return G.H.useCallback(C,P)},Ne.useContext=function(C){return G.H.useContext(C)},Ne.useDebugValue=function(){},Ne.useDeferredValue=function(C,P){return G.H.useDeferredValue(C,P)},Ne.useEffect=function(C,P,Y){var D=G.H;if(typeof Y=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return D.useEffect(C,P)},Ne.useId=function(){return G.H.useId()},Ne.useImperativeHandle=function(C,P,Y){return G.H.useImperativeHandle(C,P,Y)},Ne.useInsertionEffect=function(C,P){return G.H.useInsertionEffect(C,P)},Ne.useLayoutEffect=function(C,P){return G.H.useLayoutEffect(C,P)},Ne.useMemo=function(C,P){return G.H.useMemo(C,P)},Ne.useOptimistic=function(C,P){return G.H.useOptimistic(C,P)},Ne.useReducer=function(C,P,Y){return G.H.useReducer(C,P,Y)},Ne.useRef=function(C){return G.H.useRef(C)},Ne.useState=function(C){return G.H.useState(C)},Ne.useSyncExternalStore=function(C,P,Y){return G.H.useSyncExternalStore(C,P,Y)},Ne.useTransition=function(){return G.H.useTransition()},Ne.version="19.1.0",Ne}var c0;function Em(){return c0||(c0=1,Wf.exports=sM()),Wf.exports}var ne=Em();const Am=Ts(ne);var Qf={exports:{}},Uo={},Jf={exports:{}},Zf={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var f0;function lM(){return f0||(f0=1,function(e){function t(q,B){var N=q.length;q.push(B);e:for(;0<N;){var L=N-1>>>1,C=q[L];if(0<o(C,B))q[L]=B,q[N]=C,N=L;else break e}}function n(q){return q.length===0?null:q[0]}function r(q){if(q.length===0)return null;var B=q[0],N=q.pop();if(N!==B){q[0]=N;e:for(var L=0,C=q.length,P=C>>>1;L<P;){var Y=2*(L+1)-1,D=q[Y],J=Y+1,O=q[J];if(0>o(D,N))J<C&&0>o(O,D)?(q[L]=O,q[J]=N,L=J):(q[L]=D,q[Y]=N,L=Y);else if(J<C&&0>o(O,N))q[L]=O,q[J]=N,L=J;else break e}}return B}function o(q,B){var N=q.sortIndex-B.sortIndex;return N!==0?N:q.id-B.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;e.unstable_now=function(){return l.now()}}else{var u=Date,f=u.now();e.unstable_now=function(){return u.now()-f}}var m=[],d=[],h=1,y=null,T=3,S=!1,M=!1,E=!1,_=!1,I=typeof setTimeout=="function"?setTimeout:null,k=typeof clearTimeout=="function"?clearTimeout:null,R=typeof setImmediate<"u"?setImmediate:null;function z(q){for(var B=n(d);B!==null;){if(B.callback===null)r(d);else if(B.startTime<=q)r(d),B.sortIndex=B.expirationTime,t(m,B);else break;B=n(d)}}function G(q){if(E=!1,z(q),!M)if(n(m)!==null)M=!0,H||(H=!0,Z());else{var B=n(d);B!==null&&ce(G,B.startTime-q)}}var H=!1,se=-1,oe=5,pe=-1;function j(){return _?!0:!(e.unstable_now()-pe<oe)}function fe(){if(_=!1,H){var q=e.unstable_now();pe=q;var B=!0;try{e:{M=!1,E&&(E=!1,k(se),se=-1),S=!0;var N=T;try{t:{for(z(q),y=n(m);y!==null&&!(y.expirationTime>q&&j());){var L=y.callback;if(typeof L=="function"){y.callback=null,T=y.priorityLevel;var C=L(y.expirationTime<=q);if(q=e.unstable_now(),typeof C=="function"){y.callback=C,z(q),B=!0;break t}y===n(m)&&r(m),z(q)}else r(m);y=n(m)}if(y!==null)B=!0;else{var P=n(d);P!==null&&ce(G,P.startTime-q),B=!1}}break e}finally{y=null,T=N,S=!1}B=void 0}}finally{B?Z():H=!1}}}var Z;if(typeof R=="function")Z=function(){R(fe)};else if(typeof MessageChannel<"u"){var he=new MessageChannel,le=he.port2;he.port1.onmessage=fe,Z=function(){le.postMessage(null)}}else Z=function(){I(fe,0)};function ce(q,B){se=I(function(){q(e.unstable_now())},B)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(q){q.callback=null},e.unstable_forceFrameRate=function(q){0>q||125<q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):oe=0<q?Math.floor(1e3/q):5},e.unstable_getCurrentPriorityLevel=function(){return T},e.unstable_next=function(q){switch(T){case 1:case 2:case 3:var B=3;break;default:B=T}var N=T;T=B;try{return q()}finally{T=N}},e.unstable_requestPaint=function(){_=!0},e.unstable_runWithPriority=function(q,B){switch(q){case 1:case 2:case 3:case 4:case 5:break;default:q=3}var N=T;T=q;try{return B()}finally{T=N}},e.unstable_scheduleCallback=function(q,B,N){var L=e.unstable_now();switch(typeof N=="object"&&N!==null?(N=N.delay,N=typeof N=="number"&&0<N?L+N:L):N=L,q){case 1:var C=-1;break;case 2:C=250;break;case 5:C=1073741823;break;case 4:C=1e4;break;default:C=5e3}return C=N+C,q={id:h++,callback:B,priorityLevel:q,startTime:N,expirationTime:C,sortIndex:-1},N>L?(q.sortIndex=N,t(d,q),n(m)===null&&q===n(d)&&(E?(k(se),se=-1):E=!0,ce(G,N-L))):(q.sortIndex=C,t(m,q),M||S||(M=!0,H||(H=!0,Z()))),q},e.unstable_shouldYield=j,e.unstable_wrapCallback=function(q){var B=T;return function(){var N=T;T=B;try{return q.apply(this,arguments)}finally{T=N}}}}(Zf)),Zf}var d0;function uM(){return d0||(d0=1,Jf.exports=lM()),Jf.exports}var ed={exports:{}},Ut={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var m0;function cM(){if(m0)return Ut;m0=1;var e=Em();function t(m){var d="https://react.dev/errors/"+m;if(1<arguments.length){d+="?args[]="+encodeURIComponent(arguments[1]);for(var h=2;h<arguments.length;h++)d+="&args[]="+encodeURIComponent(arguments[h])}return"Minified React error #"+m+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function l(m,d,h){var y=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:y==null?null:""+y,children:m,containerInfo:d,implementation:h}}var u=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function f(m,d){if(m==="font")return"";if(typeof d=="string")return d==="use-credentials"?d:""}return Ut.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Ut.createPortal=function(m,d){var h=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!d||d.nodeType!==1&&d.nodeType!==9&&d.nodeType!==11)throw Error(t(299));return l(m,d,null,h)},Ut.flushSync=function(m){var d=u.T,h=r.p;try{if(u.T=null,r.p=2,m)return m()}finally{u.T=d,r.p=h,r.d.f()}},Ut.preconnect=function(m,d){typeof m=="string"&&(d?(d=d.crossOrigin,d=typeof d=="string"?d==="use-credentials"?d:"":void 0):d=null,r.d.C(m,d))},Ut.prefetchDNS=function(m){typeof m=="string"&&r.d.D(m)},Ut.preinit=function(m,d){if(typeof m=="string"&&d&&typeof d.as=="string"){var h=d.as,y=f(h,d.crossOrigin),T=typeof d.integrity=="string"?d.integrity:void 0,S=typeof d.fetchPriority=="string"?d.fetchPriority:void 0;h==="style"?r.d.S(m,typeof d.precedence=="string"?d.precedence:void 0,{crossOrigin:y,integrity:T,fetchPriority:S}):h==="script"&&r.d.X(m,{crossOrigin:y,integrity:T,fetchPriority:S,nonce:typeof d.nonce=="string"?d.nonce:void 0})}},Ut.preinitModule=function(m,d){if(typeof m=="string")if(typeof d=="object"&&d!==null){if(d.as==null||d.as==="script"){var h=f(d.as,d.crossOrigin);r.d.M(m,{crossOrigin:h,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0})}}else d==null&&r.d.M(m)},Ut.preload=function(m,d){if(typeof m=="string"&&typeof d=="object"&&d!==null&&typeof d.as=="string"){var h=d.as,y=f(h,d.crossOrigin);r.d.L(m,h,{crossOrigin:y,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0,type:typeof d.type=="string"?d.type:void 0,fetchPriority:typeof d.fetchPriority=="string"?d.fetchPriority:void 0,referrerPolicy:typeof d.referrerPolicy=="string"?d.referrerPolicy:void 0,imageSrcSet:typeof d.imageSrcSet=="string"?d.imageSrcSet:void 0,imageSizes:typeof d.imageSizes=="string"?d.imageSizes:void 0,media:typeof d.media=="string"?d.media:void 0})}},Ut.preloadModule=function(m,d){if(typeof m=="string")if(d){var h=f(d.as,d.crossOrigin);r.d.m(m,{as:typeof d.as=="string"&&d.as!=="script"?d.as:void 0,crossOrigin:h,integrity:typeof d.integrity=="string"?d.integrity:void 0})}else r.d.m(m)},Ut.requestFormReset=function(m){r.d.r(m)},Ut.unstable_batchedUpdates=function(m,d){return m(d)},Ut.useFormState=function(m,d,h){return u.H.useFormState(m,d,h)},Ut.useFormStatus=function(){return u.H.useHostTransitionStatus()},Ut.version="19.1.0",Ut}var h0;function fM(){if(h0)return ed.exports;h0=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),ed.exports=cM(),ed.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var p0;function dM(){if(p0)return Uo;p0=1;var e=uM(),t=Em(),n=fM();function r(i){var a="https://react.dev/errors/"+i;if(1<arguments.length){a+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)a+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+i+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function l(i){var a=i,s=i;if(i.alternate)for(;a.return;)a=a.return;else{i=a;do a=i,(a.flags&4098)!==0&&(s=a.return),i=a.return;while(i)}return a.tag===3?s:null}function u(i){if(i.tag===13){var a=i.memoizedState;if(a===null&&(i=i.alternate,i!==null&&(a=i.memoizedState)),a!==null)return a.dehydrated}return null}function f(i){if(l(i)!==i)throw Error(r(188))}function m(i){var a=i.alternate;if(!a){if(a=l(i),a===null)throw Error(r(188));return a!==i?null:i}for(var s=i,c=a;;){var p=s.return;if(p===null)break;var b=p.alternate;if(b===null){if(c=p.return,c!==null){s=c;continue}break}if(p.child===b.child){for(b=p.child;b;){if(b===s)return f(p),i;if(b===c)return f(p),a;b=b.sibling}throw Error(r(188))}if(s.return!==c.return)s=p,c=b;else{for(var w=!1,A=p.child;A;){if(A===s){w=!0,s=p,c=b;break}if(A===c){w=!0,c=p,s=b;break}A=A.sibling}if(!w){for(A=b.child;A;){if(A===s){w=!0,s=b,c=p;break}if(A===c){w=!0,c=b,s=p;break}A=A.sibling}if(!w)throw Error(r(189))}}if(s.alternate!==c)throw Error(r(190))}if(s.tag!==3)throw Error(r(188));return s.stateNode.current===s?i:a}function d(i){var a=i.tag;if(a===5||a===26||a===27||a===6)return i;for(i=i.child;i!==null;){if(a=d(i),a!==null)return a;i=i.sibling}return null}var h=Object.assign,y=Symbol.for("react.element"),T=Symbol.for("react.transitional.element"),S=Symbol.for("react.portal"),M=Symbol.for("react.fragment"),E=Symbol.for("react.strict_mode"),_=Symbol.for("react.profiler"),I=Symbol.for("react.provider"),k=Symbol.for("react.consumer"),R=Symbol.for("react.context"),z=Symbol.for("react.forward_ref"),G=Symbol.for("react.suspense"),H=Symbol.for("react.suspense_list"),se=Symbol.for("react.memo"),oe=Symbol.for("react.lazy"),pe=Symbol.for("react.activity"),j=Symbol.for("react.memo_cache_sentinel"),fe=Symbol.iterator;function Z(i){return i===null||typeof i!="object"?null:(i=fe&&i[fe]||i["@@iterator"],typeof i=="function"?i:null)}var he=Symbol.for("react.client.reference");function le(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===he?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case M:return"Fragment";case _:return"Profiler";case E:return"StrictMode";case G:return"Suspense";case H:return"SuspenseList";case pe:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case S:return"Portal";case R:return(i.displayName||"Context")+".Provider";case k:return(i._context.displayName||"Context")+".Consumer";case z:var a=i.render;return i=i.displayName,i||(i=a.displayName||a.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case se:return a=i.displayName||null,a!==null?a:le(i.type)||"Memo";case oe:a=i._payload,i=i._init;try{return le(i(a))}catch{}}return null}var ce=Array.isArray,q=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,B=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,N={pending:!1,data:null,method:null,action:null},L=[],C=-1;function P(i){return{current:i}}function Y(i){0>C||(i.current=L[C],L[C]=null,C--)}function D(i,a){C++,L[C]=i.current,i.current=a}var J=P(null),O=P(null),re=P(null),ye=P(null);function de(i,a){switch(D(re,a),D(O,i),D(J,null),a.nodeType){case 9:case 11:i=(i=a.documentElement)&&(i=i.namespaceURI)?Vy(i):0;break;default:if(i=a.tagName,a=a.namespaceURI)a=Vy(a),i=Py(a,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}Y(J),D(J,i)}function Ce(){Y(J),Y(O),Y(re)}function Te(i){i.memoizedState!==null&&D(ye,i);var a=J.current,s=Py(a,i.type);a!==s&&(D(O,i),D(J,s))}function De(i){O.current===i&&(Y(J),Y(O)),ye.current===i&&(Y(ye),Bo._currentValue=N)}var Ye=Object.prototype.hasOwnProperty,Le=e.unstable_scheduleCallback,je=e.unstable_cancelCallback,Qe=e.unstable_shouldYield,xt=e.unstable_requestPaint,dt=e.unstable_now,Br=e.unstable_getCurrentPriorityLevel,or=e.unstable_ImmediatePriority,Si=e.unstable_UserBlockingPriority,Hn=e.unstable_NormalPriority,Ha=e.unstable_LowPriority,Or=e.unstable_IdlePriority,Ua=e.log,Ga=e.unstable_setDisableYieldValue,ee=null,ue=null;function Se(i){if(typeof Ua=="function"&&Ga(i),ue&&typeof ue.setStrictMode=="function")try{ue.setStrictMode(ee,i)}catch{}}var Me=Math.clz32?Math.clz32:xn,Ke=Math.log,Kt=Math.LN2;function xn(i){return i>>>=0,i===0?32:31-(Ke(i)/Kt|0)|0}var jt=256,vn=4194304;function st(i){var a=i&42;if(a!==0)return a;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function vt(i,a,s){var c=i.pendingLanes;if(c===0)return 0;var p=0,b=i.suspendedLanes,w=i.pingedLanes;i=i.warmLanes;var A=c&134217727;return A!==0?(c=A&~b,c!==0?p=st(c):(w&=A,w!==0?p=st(w):s||(s=A&~i,s!==0&&(p=st(s))))):(A=c&~b,A!==0?p=st(A):w!==0?p=st(w):s||(s=c&~i,s!==0&&(p=st(s)))),p===0?0:a!==0&&a!==p&&(a&b)===0&&(b=p&-p,s=a&-a,b>=s||b===32&&(s&4194048)!==0)?a:p}function Xt(i,a){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&a)===0}function Q(i,a){switch(i){case 1:case 2:case 4:case 8:case 64:return a+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ge(){var i=jt;return jt<<=1,(jt&4194048)===0&&(jt=256),i}function ve(){var i=vn;return vn<<=1,(vn&62914560)===0&&(vn=4194304),i}function He(i){for(var a=[],s=0;31>s;s++)a.push(i);return a}function Rt(i,a){i.pendingLanes|=a,a!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function mt(i,a,s,c,p,b){var w=i.pendingLanes;i.pendingLanes=s,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=s,i.entangledLanes&=s,i.errorRecoveryDisabledLanes&=s,i.shellSuspendCounter=0;var A=i.entanglements,V=i.expirationTimes,K=i.hiddenUpdates;for(s=w&~s;0<s;){var te=31-Me(s),ae=1<<te;A[te]=0,V[te]=-1;var X=K[te];if(X!==null)for(K[te]=null,te=0;te<X.length;te++){var W=X[te];W!==null&&(W.lane&=-536870913)}s&=~ae}c!==0&&ks(i,c,0),b!==0&&p===0&&i.tag!==0&&(i.suspendedLanes|=b&~(w&~a))}function ks(i,a,s){i.pendingLanes|=a,i.suspendedLanes&=~a;var c=31-Me(a);i.entangledLanes|=a,i.entanglements[c]=i.entanglements[c]|1073741824|s&4194090}function Rs(i,a){var s=i.entangledLanes|=a;for(i=i.entanglements;s;){var c=31-Me(s),p=1<<c;p&a|i[c]&a&&(i[c]|=a),s&=~p}}function qa(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function Ya(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function Ns(){var i=B.p;return i!==0?i:(i=window.event,i===void 0?32:t0(i.type))}function Fu(i,a){var s=B.p;try{return B.p=i,a()}finally{B.p=s}}var Un=Math.random().toString(36).slice(2),bt="__reactFiber$"+Un,Pt="__reactProps$"+Un,Ci="__reactContainer$"+Un,$a="__reactEvents$"+Un,zu="__reactListeners$"+Un,ju="__reactHandles$"+Un,Ka="__reactResources$"+Un,sr="__reactMarker$"+Un;function _s(i){delete i[bt],delete i[Pt],delete i[$a],delete i[zu],delete i[ju]}function wi(i){var a=i[bt];if(a)return a;for(var s=i.parentNode;s;){if(a=s[Ci]||s[bt]){if(s=a.alternate,a.child!==null||s!==null&&s.child!==null)for(i=zy(i);i!==null;){if(s=i[bt])return s;i=zy(i)}return a}i=s,s=i.parentNode}return null}function Nt(i){if(i=i[bt]||i[Ci]){var a=i.tag;if(a===5||a===6||a===13||a===26||a===27||a===3)return i}return null}function bn(i){var a=i.tag;if(a===5||a===26||a===27||a===6)return i.stateNode;throw Error(r(33))}function Gn(i){var a=i[Ka];return a||(a=i[Ka]={hoistableStyles:new Map,hoistableScripts:new Map}),a}function wt(i){i[sr]=!0}var Fr=new Set,lr={};function qn(i,a){zr(i,a),zr(i+"Capture",a)}function zr(i,a){for(lr[i]=a,i=0;i<a.length;i++)Fr.add(a[i])}var WS=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Eh={},Ah={};function QS(i){return Ye.call(Ah,i)?!0:Ye.call(Eh,i)?!1:WS.test(i)?Ah[i]=!0:(Eh[i]=!0,!1)}function Ls(i,a,s){if(QS(a))if(s===null)i.removeAttribute(a);else{switch(typeof s){case"undefined":case"function":case"symbol":i.removeAttribute(a);return;case"boolean":var c=a.toLowerCase().slice(0,5);if(c!=="data-"&&c!=="aria-"){i.removeAttribute(a);return}}i.setAttribute(a,""+s)}}function Vs(i,a,s){if(s===null)i.removeAttribute(a);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(a);return}i.setAttribute(a,""+s)}}function ii(i,a,s,c){if(c===null)i.removeAttribute(s);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(s);return}i.setAttributeNS(a,s,""+c)}}var Hu,Dh;function jr(i){if(Hu===void 0)try{throw Error()}catch(s){var a=s.stack.trim().match(/\n( *(at )?)/);Hu=a&&a[1]||"",Dh=-1<s.stack.indexOf(`
    at`)?" (<anonymous>)":-1<s.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Hu+i+Dh}var Uu=!1;function Gu(i,a){if(!i||Uu)return"";Uu=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var c={DetermineComponentFrameRoot:function(){try{if(a){var ae=function(){throw Error()};if(Object.defineProperty(ae.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ae,[])}catch(W){var X=W}Reflect.construct(i,[],ae)}else{try{ae.call()}catch(W){X=W}i.call(ae.prototype)}}else{try{throw Error()}catch(W){X=W}(ae=i())&&typeof ae.catch=="function"&&ae.catch(function(){})}}catch(W){if(W&&X&&typeof W.stack=="string")return[W.stack,X.stack]}return[null,null]}};c.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var p=Object.getOwnPropertyDescriptor(c.DetermineComponentFrameRoot,"name");p&&p.configurable&&Object.defineProperty(c.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var b=c.DetermineComponentFrameRoot(),w=b[0],A=b[1];if(w&&A){var V=w.split(`
`),K=A.split(`
`);for(p=c=0;c<V.length&&!V[c].includes("DetermineComponentFrameRoot");)c++;for(;p<K.length&&!K[p].includes("DetermineComponentFrameRoot");)p++;if(c===V.length||p===K.length)for(c=V.length-1,p=K.length-1;1<=c&&0<=p&&V[c]!==K[p];)p--;for(;1<=c&&0<=p;c--,p--)if(V[c]!==K[p]){if(c!==1||p!==1)do if(c--,p--,0>p||V[c]!==K[p]){var te=`
`+V[c].replace(" at new "," at ");return i.displayName&&te.includes("<anonymous>")&&(te=te.replace("<anonymous>",i.displayName)),te}while(1<=c&&0<=p);break}}}finally{Uu=!1,Error.prepareStackTrace=s}return(s=i?i.displayName||i.name:"")?jr(s):""}function JS(i){switch(i.tag){case 26:case 27:case 5:return jr(i.type);case 16:return jr("Lazy");case 13:return jr("Suspense");case 19:return jr("SuspenseList");case 0:case 15:return Gu(i.type,!1);case 11:return Gu(i.type.render,!1);case 1:return Gu(i.type,!0);case 31:return jr("Activity");default:return""}}function Ih(i){try{var a="";do a+=JS(i),i=i.return;while(i);return a}catch(s){return`
Error generating stack: `+s.message+`
`+s.stack}}function Tn(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function kh(i){var a=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function ZS(i){var a=kh(i)?"checked":"value",s=Object.getOwnPropertyDescriptor(i.constructor.prototype,a),c=""+i[a];if(!i.hasOwnProperty(a)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var p=s.get,b=s.set;return Object.defineProperty(i,a,{configurable:!0,get:function(){return p.call(this)},set:function(w){c=""+w,b.call(this,w)}}),Object.defineProperty(i,a,{enumerable:s.enumerable}),{getValue:function(){return c},setValue:function(w){c=""+w},stopTracking:function(){i._valueTracker=null,delete i[a]}}}}function Ps(i){i._valueTracker||(i._valueTracker=ZS(i))}function Rh(i){if(!i)return!1;var a=i._valueTracker;if(!a)return!0;var s=a.getValue(),c="";return i&&(c=kh(i)?i.checked?"true":"false":i.value),i=c,i!==s?(a.setValue(i),!0):!1}function Bs(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var eC=/[\n"\\]/g;function Sn(i){return i.replace(eC,function(a){return"\\"+a.charCodeAt(0).toString(16)+" "})}function qu(i,a,s,c,p,b,w,A){i.name="",w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"?i.type=w:i.removeAttribute("type"),a!=null?w==="number"?(a===0&&i.value===""||i.value!=a)&&(i.value=""+Tn(a)):i.value!==""+Tn(a)&&(i.value=""+Tn(a)):w!=="submit"&&w!=="reset"||i.removeAttribute("value"),a!=null?Yu(i,w,Tn(a)):s!=null?Yu(i,w,Tn(s)):c!=null&&i.removeAttribute("value"),p==null&&b!=null&&(i.defaultChecked=!!b),p!=null&&(i.checked=p&&typeof p!="function"&&typeof p!="symbol"),A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"?i.name=""+Tn(A):i.removeAttribute("name")}function Nh(i,a,s,c,p,b,w,A){if(b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"&&(i.type=b),a!=null||s!=null){if(!(b!=="submit"&&b!=="reset"||a!=null))return;s=s!=null?""+Tn(s):"",a=a!=null?""+Tn(a):s,A||a===i.value||(i.value=a),i.defaultValue=a}c=c??p,c=typeof c!="function"&&typeof c!="symbol"&&!!c,i.checked=A?i.checked:!!c,i.defaultChecked=!!c,w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"&&(i.name=w)}function Yu(i,a,s){a==="number"&&Bs(i.ownerDocument)===i||i.defaultValue===""+s||(i.defaultValue=""+s)}function Hr(i,a,s,c){if(i=i.options,a){a={};for(var p=0;p<s.length;p++)a["$"+s[p]]=!0;for(s=0;s<i.length;s++)p=a.hasOwnProperty("$"+i[s].value),i[s].selected!==p&&(i[s].selected=p),p&&c&&(i[s].defaultSelected=!0)}else{for(s=""+Tn(s),a=null,p=0;p<i.length;p++){if(i[p].value===s){i[p].selected=!0,c&&(i[p].defaultSelected=!0);return}a!==null||i[p].disabled||(a=i[p])}a!==null&&(a.selected=!0)}}function _h(i,a,s){if(a!=null&&(a=""+Tn(a),a!==i.value&&(i.value=a),s==null)){i.defaultValue!==a&&(i.defaultValue=a);return}i.defaultValue=s!=null?""+Tn(s):""}function Lh(i,a,s,c){if(a==null){if(c!=null){if(s!=null)throw Error(r(92));if(ce(c)){if(1<c.length)throw Error(r(93));c=c[0]}s=c}s==null&&(s=""),a=s}s=Tn(a),i.defaultValue=s,c=i.textContent,c===s&&c!==""&&c!==null&&(i.value=c)}function Ur(i,a){if(a){var s=i.firstChild;if(s&&s===i.lastChild&&s.nodeType===3){s.nodeValue=a;return}}i.textContent=a}var tC=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Vh(i,a,s){var c=a.indexOf("--")===0;s==null||typeof s=="boolean"||s===""?c?i.setProperty(a,""):a==="float"?i.cssFloat="":i[a]="":c?i.setProperty(a,s):typeof s!="number"||s===0||tC.has(a)?a==="float"?i.cssFloat=s:i[a]=(""+s).trim():i[a]=s+"px"}function Ph(i,a,s){if(a!=null&&typeof a!="object")throw Error(r(62));if(i=i.style,s!=null){for(var c in s)!s.hasOwnProperty(c)||a!=null&&a.hasOwnProperty(c)||(c.indexOf("--")===0?i.setProperty(c,""):c==="float"?i.cssFloat="":i[c]="");for(var p in a)c=a[p],a.hasOwnProperty(p)&&s[p]!==c&&Vh(i,p,c)}else for(var b in a)a.hasOwnProperty(b)&&Vh(i,b,a[b])}function $u(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var nC=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),iC=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Os(i){return iC.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}var Ku=null;function Xu(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var Gr=null,qr=null;function Bh(i){var a=Nt(i);if(a&&(i=a.stateNode)){var s=i[Pt]||null;e:switch(i=a.stateNode,a.type){case"input":if(qu(i,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name),a=s.name,s.type==="radio"&&a!=null){for(s=i;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll('input[name="'+Sn(""+a)+'"][type="radio"]'),a=0;a<s.length;a++){var c=s[a];if(c!==i&&c.form===i.form){var p=c[Pt]||null;if(!p)throw Error(r(90));qu(c,p.value,p.defaultValue,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name)}}for(a=0;a<s.length;a++)c=s[a],c.form===i.form&&Rh(c)}break e;case"textarea":_h(i,s.value,s.defaultValue);break e;case"select":a=s.value,a!=null&&Hr(i,!!s.multiple,a,!1)}}}var Wu=!1;function Oh(i,a,s){if(Wu)return i(a,s);Wu=!0;try{var c=i(a);return c}finally{if(Wu=!1,(Gr!==null||qr!==null)&&(Cl(),Gr&&(a=Gr,i=qr,qr=Gr=null,Bh(a),i)))for(a=0;a<i.length;a++)Bh(i[a])}}function Xa(i,a){var s=i.stateNode;if(s===null)return null;var c=s[Pt]||null;if(c===null)return null;s=c[a];e:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(i=i.type,c=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!c;break e;default:i=!1}if(i)return null;if(s&&typeof s!="function")throw Error(r(231,a,typeof s));return s}var ri=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Qu=!1;if(ri)try{var Wa={};Object.defineProperty(Wa,"passive",{get:function(){Qu=!0}}),window.addEventListener("test",Wa,Wa),window.removeEventListener("test",Wa,Wa)}catch{Qu=!1}var Mi=null,Ju=null,Fs=null;function Fh(){if(Fs)return Fs;var i,a=Ju,s=a.length,c,p="value"in Mi?Mi.value:Mi.textContent,b=p.length;for(i=0;i<s&&a[i]===p[i];i++);var w=s-i;for(c=1;c<=w&&a[s-c]===p[b-c];c++);return Fs=p.slice(i,1<c?1-c:void 0)}function zs(i){var a=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&a===13&&(i=13)):i=a,i===10&&(i=13),32<=i||i===13?i:0}function js(){return!0}function zh(){return!1}function Zt(i){function a(s,c,p,b,w){this._reactName=s,this._targetInst=p,this.type=c,this.nativeEvent=b,this.target=w,this.currentTarget=null;for(var A in i)i.hasOwnProperty(A)&&(s=i[A],this[A]=s?s(b):b[A]);return this.isDefaultPrevented=(b.defaultPrevented!=null?b.defaultPrevented:b.returnValue===!1)?js:zh,this.isPropagationStopped=zh,this}return h(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=js)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=js)},persist:function(){},isPersistent:js}),a}var ur={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Hs=Zt(ur),Qa=h({},ur,{view:0,detail:0}),rC=Zt(Qa),Zu,ec,Ja,Us=h({},Qa,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:nc,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==Ja&&(Ja&&i.type==="mousemove"?(Zu=i.screenX-Ja.screenX,ec=i.screenY-Ja.screenY):ec=Zu=0,Ja=i),Zu)},movementY:function(i){return"movementY"in i?i.movementY:ec}}),jh=Zt(Us),aC=h({},Us,{dataTransfer:0}),oC=Zt(aC),sC=h({},Qa,{relatedTarget:0}),tc=Zt(sC),lC=h({},ur,{animationName:0,elapsedTime:0,pseudoElement:0}),uC=Zt(lC),cC=h({},ur,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),fC=Zt(cC),dC=h({},ur,{data:0}),Hh=Zt(dC),mC={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},hC={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},pC={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function gC(i){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(i):(i=pC[i])?!!a[i]:!1}function nc(){return gC}var yC=h({},Qa,{key:function(i){if(i.key){var a=mC[i.key]||i.key;if(a!=="Unidentified")return a}return i.type==="keypress"?(i=zs(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?hC[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:nc,charCode:function(i){return i.type==="keypress"?zs(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?zs(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),xC=Zt(yC),vC=h({},Us,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Uh=Zt(vC),bC=h({},Qa,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:nc}),TC=Zt(bC),SC=h({},ur,{propertyName:0,elapsedTime:0,pseudoElement:0}),CC=Zt(SC),wC=h({},Us,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),MC=Zt(wC),EC=h({},ur,{newState:0,oldState:0}),AC=Zt(EC),DC=[9,13,27,32],ic=ri&&"CompositionEvent"in window,Za=null;ri&&"documentMode"in document&&(Za=document.documentMode);var IC=ri&&"TextEvent"in window&&!Za,Gh=ri&&(!ic||Za&&8<Za&&11>=Za),qh=" ",Yh=!1;function $h(i,a){switch(i){case"keyup":return DC.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Kh(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var Yr=!1;function kC(i,a){switch(i){case"compositionend":return Kh(a);case"keypress":return a.which!==32?null:(Yh=!0,qh);case"textInput":return i=a.data,i===qh&&Yh?null:i;default:return null}}function RC(i,a){if(Yr)return i==="compositionend"||!ic&&$h(i,a)?(i=Fh(),Fs=Ju=Mi=null,Yr=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return Gh&&a.locale!=="ko"?null:a.data;default:return null}}var NC={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Xh(i){var a=i&&i.nodeName&&i.nodeName.toLowerCase();return a==="input"?!!NC[i.type]:a==="textarea"}function Wh(i,a,s,c){Gr?qr?qr.push(c):qr=[c]:Gr=c,a=Il(a,"onChange"),0<a.length&&(s=new Hs("onChange","change",null,s,c),i.push({event:s,listeners:a}))}var eo=null,to=null;function _C(i){ky(i,0)}function Gs(i){var a=bn(i);if(Rh(a))return i}function Qh(i,a){if(i==="change")return a}var Jh=!1;if(ri){var rc;if(ri){var ac="oninput"in document;if(!ac){var Zh=document.createElement("div");Zh.setAttribute("oninput","return;"),ac=typeof Zh.oninput=="function"}rc=ac}else rc=!1;Jh=rc&&(!document.documentMode||9<document.documentMode)}function ep(){eo&&(eo.detachEvent("onpropertychange",tp),to=eo=null)}function tp(i){if(i.propertyName==="value"&&Gs(to)){var a=[];Wh(a,to,i,Xu(i)),Oh(_C,a)}}function LC(i,a,s){i==="focusin"?(ep(),eo=a,to=s,eo.attachEvent("onpropertychange",tp)):i==="focusout"&&ep()}function VC(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return Gs(to)}function PC(i,a){if(i==="click")return Gs(a)}function BC(i,a){if(i==="input"||i==="change")return Gs(a)}function OC(i,a){return i===a&&(i!==0||1/i===1/a)||i!==i&&a!==a}var ln=typeof Object.is=="function"?Object.is:OC;function no(i,a){if(ln(i,a))return!0;if(typeof i!="object"||i===null||typeof a!="object"||a===null)return!1;var s=Object.keys(i),c=Object.keys(a);if(s.length!==c.length)return!1;for(c=0;c<s.length;c++){var p=s[c];if(!Ye.call(a,p)||!ln(i[p],a[p]))return!1}return!0}function np(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function ip(i,a){var s=np(i);i=0;for(var c;s;){if(s.nodeType===3){if(c=i+s.textContent.length,i<=a&&c>=a)return{node:s,offset:a-i};i=c}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=np(s)}}function rp(i,a){return i&&a?i===a?!0:i&&i.nodeType===3?!1:a&&a.nodeType===3?rp(i,a.parentNode):"contains"in i?i.contains(a):i.compareDocumentPosition?!!(i.compareDocumentPosition(a)&16):!1:!1}function ap(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var a=Bs(i.document);a instanceof i.HTMLIFrameElement;){try{var s=typeof a.contentWindow.location.href=="string"}catch{s=!1}if(s)i=a.contentWindow;else break;a=Bs(i.document)}return a}function oc(i){var a=i&&i.nodeName&&i.nodeName.toLowerCase();return a&&(a==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||a==="textarea"||i.contentEditable==="true")}var FC=ri&&"documentMode"in document&&11>=document.documentMode,$r=null,sc=null,io=null,lc=!1;function op(i,a,s){var c=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;lc||$r==null||$r!==Bs(c)||(c=$r,"selectionStart"in c&&oc(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),io&&no(io,c)||(io=c,c=Il(sc,"onSelect"),0<c.length&&(a=new Hs("onSelect","select",null,a,s),i.push({event:a,listeners:c}),a.target=$r)))}function cr(i,a){var s={};return s[i.toLowerCase()]=a.toLowerCase(),s["Webkit"+i]="webkit"+a,s["Moz"+i]="moz"+a,s}var Kr={animationend:cr("Animation","AnimationEnd"),animationiteration:cr("Animation","AnimationIteration"),animationstart:cr("Animation","AnimationStart"),transitionrun:cr("Transition","TransitionRun"),transitionstart:cr("Transition","TransitionStart"),transitioncancel:cr("Transition","TransitionCancel"),transitionend:cr("Transition","TransitionEnd")},uc={},sp={};ri&&(sp=document.createElement("div").style,"AnimationEvent"in window||(delete Kr.animationend.animation,delete Kr.animationiteration.animation,delete Kr.animationstart.animation),"TransitionEvent"in window||delete Kr.transitionend.transition);function fr(i){if(uc[i])return uc[i];if(!Kr[i])return i;var a=Kr[i],s;for(s in a)if(a.hasOwnProperty(s)&&s in sp)return uc[i]=a[s];return i}var lp=fr("animationend"),up=fr("animationiteration"),cp=fr("animationstart"),zC=fr("transitionrun"),jC=fr("transitionstart"),HC=fr("transitioncancel"),fp=fr("transitionend"),dp=new Map,cc="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");cc.push("scrollEnd");function Vn(i,a){dp.set(i,a),qn(a,[i])}var mp=new WeakMap;function Cn(i,a){if(typeof i=="object"&&i!==null){var s=mp.get(i);return s!==void 0?s:(a={value:i,source:a,stack:Ih(a)},mp.set(i,a),a)}return{value:i,source:a,stack:Ih(a)}}var wn=[],Xr=0,fc=0;function qs(){for(var i=Xr,a=fc=Xr=0;a<i;){var s=wn[a];wn[a++]=null;var c=wn[a];wn[a++]=null;var p=wn[a];wn[a++]=null;var b=wn[a];if(wn[a++]=null,c!==null&&p!==null){var w=c.pending;w===null?p.next=p:(p.next=w.next,w.next=p),c.pending=p}b!==0&&hp(s,p,b)}}function Ys(i,a,s,c){wn[Xr++]=i,wn[Xr++]=a,wn[Xr++]=s,wn[Xr++]=c,fc|=c,i.lanes|=c,i=i.alternate,i!==null&&(i.lanes|=c)}function dc(i,a,s,c){return Ys(i,a,s,c),$s(i)}function Wr(i,a){return Ys(i,null,null,a),$s(i)}function hp(i,a,s){i.lanes|=s;var c=i.alternate;c!==null&&(c.lanes|=s);for(var p=!1,b=i.return;b!==null;)b.childLanes|=s,c=b.alternate,c!==null&&(c.childLanes|=s),b.tag===22&&(i=b.stateNode,i===null||i._visibility&1||(p=!0)),i=b,b=b.return;return i.tag===3?(b=i.stateNode,p&&a!==null&&(p=31-Me(s),i=b.hiddenUpdates,c=i[p],c===null?i[p]=[a]:c.push(a),a.lane=s|536870912),b):null}function $s(i){if(50<Io)throw Io=0,vf=null,Error(r(185));for(var a=i.return;a!==null;)i=a,a=i.return;return i.tag===3?i.stateNode:null}var Qr={};function UC(i,a,s,c){this.tag=i,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function un(i,a,s,c){return new UC(i,a,s,c)}function mc(i){return i=i.prototype,!(!i||!i.isReactComponent)}function ai(i,a){var s=i.alternate;return s===null?(s=un(i.tag,a,i.key,i.mode),s.elementType=i.elementType,s.type=i.type,s.stateNode=i.stateNode,s.alternate=i,i.alternate=s):(s.pendingProps=a,s.type=i.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=i.flags&65011712,s.childLanes=i.childLanes,s.lanes=i.lanes,s.child=i.child,s.memoizedProps=i.memoizedProps,s.memoizedState=i.memoizedState,s.updateQueue=i.updateQueue,a=i.dependencies,s.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},s.sibling=i.sibling,s.index=i.index,s.ref=i.ref,s.refCleanup=i.refCleanup,s}function pp(i,a){i.flags&=65011714;var s=i.alternate;return s===null?(i.childLanes=0,i.lanes=a,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=s.childLanes,i.lanes=s.lanes,i.child=s.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=s.memoizedProps,i.memoizedState=s.memoizedState,i.updateQueue=s.updateQueue,i.type=s.type,a=s.dependencies,i.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext}),i}function Ks(i,a,s,c,p,b){var w=0;if(c=i,typeof i=="function")mc(i)&&(w=1);else if(typeof i=="string")w=qw(i,s,J.current)?26:i==="html"||i==="head"||i==="body"?27:5;else e:switch(i){case pe:return i=un(31,s,a,p),i.elementType=pe,i.lanes=b,i;case M:return dr(s.children,p,b,a);case E:w=8,p|=24;break;case _:return i=un(12,s,a,p|2),i.elementType=_,i.lanes=b,i;case G:return i=un(13,s,a,p),i.elementType=G,i.lanes=b,i;case H:return i=un(19,s,a,p),i.elementType=H,i.lanes=b,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case I:case R:w=10;break e;case k:w=9;break e;case z:w=11;break e;case se:w=14;break e;case oe:w=16,c=null;break e}w=29,s=Error(r(130,i===null?"null":typeof i,"")),c=null}return a=un(w,s,a,p),a.elementType=i,a.type=c,a.lanes=b,a}function dr(i,a,s,c){return i=un(7,i,c,a),i.lanes=s,i}function hc(i,a,s){return i=un(6,i,null,a),i.lanes=s,i}function pc(i,a,s){return a=un(4,i.children!==null?i.children:[],i.key,a),a.lanes=s,a.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},a}var Jr=[],Zr=0,Xs=null,Ws=0,Mn=[],En=0,mr=null,oi=1,si="";function hr(i,a){Jr[Zr++]=Ws,Jr[Zr++]=Xs,Xs=i,Ws=a}function gp(i,a,s){Mn[En++]=oi,Mn[En++]=si,Mn[En++]=mr,mr=i;var c=oi;i=si;var p=32-Me(c)-1;c&=~(1<<p),s+=1;var b=32-Me(a)+p;if(30<b){var w=p-p%5;b=(c&(1<<w)-1).toString(32),c>>=w,p-=w,oi=1<<32-Me(a)+p|s<<p|c,si=b+i}else oi=1<<b|s<<p|c,si=i}function gc(i){i.return!==null&&(hr(i,1),gp(i,1,0))}function yc(i){for(;i===Xs;)Xs=Jr[--Zr],Jr[Zr]=null,Ws=Jr[--Zr],Jr[Zr]=null;for(;i===mr;)mr=Mn[--En],Mn[En]=null,si=Mn[--En],Mn[En]=null,oi=Mn[--En],Mn[En]=null}var Wt=null,ht=null,Xe=!1,pr=null,Yn=!1,xc=Error(r(519));function gr(i){var a=Error(r(418,""));throw oo(Cn(a,i)),xc}function yp(i){var a=i.stateNode,s=i.type,c=i.memoizedProps;switch(a[bt]=i,a[Pt]=c,s){case"dialog":Fe("cancel",a),Fe("close",a);break;case"iframe":case"object":case"embed":Fe("load",a);break;case"video":case"audio":for(s=0;s<Ro.length;s++)Fe(Ro[s],a);break;case"source":Fe("error",a);break;case"img":case"image":case"link":Fe("error",a),Fe("load",a);break;case"details":Fe("toggle",a);break;case"input":Fe("invalid",a),Nh(a,c.value,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name,!0),Ps(a);break;case"select":Fe("invalid",a);break;case"textarea":Fe("invalid",a),Lh(a,c.value,c.defaultValue,c.children),Ps(a)}s=c.children,typeof s!="string"&&typeof s!="number"&&typeof s!="bigint"||a.textContent===""+s||c.suppressHydrationWarning===!0||Ly(a.textContent,s)?(c.popover!=null&&(Fe("beforetoggle",a),Fe("toggle",a)),c.onScroll!=null&&Fe("scroll",a),c.onScrollEnd!=null&&Fe("scrollend",a),c.onClick!=null&&(a.onclick=kl),a=!0):a=!1,a||gr(i)}function xp(i){for(Wt=i.return;Wt;)switch(Wt.tag){case 5:case 13:Yn=!1;return;case 27:case 3:Yn=!0;return;default:Wt=Wt.return}}function ro(i){if(i!==Wt)return!1;if(!Xe)return xp(i),Xe=!0,!1;var a=i.tag,s;if((s=a!==3&&a!==27)&&((s=a===5)&&(s=i.type,s=!(s!=="form"&&s!=="button")||Vf(i.type,i.memoizedProps)),s=!s),s&&ht&&gr(i),xp(i),a===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(317));e:{for(i=i.nextSibling,a=0;i;){if(i.nodeType===8)if(s=i.data,s==="/$"){if(a===0){ht=Bn(i.nextSibling);break e}a--}else s!=="$"&&s!=="$!"&&s!=="$?"||a++;i=i.nextSibling}ht=null}}else a===27?(a=ht,ji(i.type)?(i=Ff,Ff=null,ht=i):ht=a):ht=Wt?Bn(i.stateNode.nextSibling):null;return!0}function ao(){ht=Wt=null,Xe=!1}function vp(){var i=pr;return i!==null&&(nn===null?nn=i:nn.push.apply(nn,i),pr=null),i}function oo(i){pr===null?pr=[i]:pr.push(i)}var vc=P(null),yr=null,li=null;function Ei(i,a,s){D(vc,a._currentValue),a._currentValue=s}function ui(i){i._currentValue=vc.current,Y(vc)}function bc(i,a,s){for(;i!==null;){var c=i.alternate;if((i.childLanes&a)!==a?(i.childLanes|=a,c!==null&&(c.childLanes|=a)):c!==null&&(c.childLanes&a)!==a&&(c.childLanes|=a),i===s)break;i=i.return}}function Tc(i,a,s,c){var p=i.child;for(p!==null&&(p.return=i);p!==null;){var b=p.dependencies;if(b!==null){var w=p.child;b=b.firstContext;e:for(;b!==null;){var A=b;b=p;for(var V=0;V<a.length;V++)if(A.context===a[V]){b.lanes|=s,A=b.alternate,A!==null&&(A.lanes|=s),bc(b.return,s,i),c||(w=null);break e}b=A.next}}else if(p.tag===18){if(w=p.return,w===null)throw Error(r(341));w.lanes|=s,b=w.alternate,b!==null&&(b.lanes|=s),bc(w,s,i),w=null}else w=p.child;if(w!==null)w.return=p;else for(w=p;w!==null;){if(w===i){w=null;break}if(p=w.sibling,p!==null){p.return=w.return,w=p;break}w=w.return}p=w}}function so(i,a,s,c){i=null;for(var p=a,b=!1;p!==null;){if(!b){if((p.flags&524288)!==0)b=!0;else if((p.flags&262144)!==0)break}if(p.tag===10){var w=p.alternate;if(w===null)throw Error(r(387));if(w=w.memoizedProps,w!==null){var A=p.type;ln(p.pendingProps.value,w.value)||(i!==null?i.push(A):i=[A])}}else if(p===ye.current){if(w=p.alternate,w===null)throw Error(r(387));w.memoizedState.memoizedState!==p.memoizedState.memoizedState&&(i!==null?i.push(Bo):i=[Bo])}p=p.return}i!==null&&Tc(a,i,s,c),a.flags|=262144}function Qs(i){for(i=i.firstContext;i!==null;){if(!ln(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function xr(i){yr=i,li=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function Ht(i){return bp(yr,i)}function Js(i,a){return yr===null&&xr(i),bp(i,a)}function bp(i,a){var s=a._currentValue;if(a={context:a,memoizedValue:s,next:null},li===null){if(i===null)throw Error(r(308));li=a,i.dependencies={lanes:0,firstContext:a},i.flags|=524288}else li=li.next=a;return s}var GC=typeof AbortController<"u"?AbortController:function(){var i=[],a=this.signal={aborted:!1,addEventListener:function(s,c){i.push(c)}};this.abort=function(){a.aborted=!0,i.forEach(function(s){return s()})}},qC=e.unstable_scheduleCallback,YC=e.unstable_NormalPriority,It={$$typeof:R,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Sc(){return{controller:new GC,data:new Map,refCount:0}}function lo(i){i.refCount--,i.refCount===0&&qC(YC,function(){i.controller.abort()})}var uo=null,Cc=0,ea=0,ta=null;function $C(i,a){if(uo===null){var s=uo=[];Cc=0,ea=Ef(),ta={status:"pending",value:void 0,then:function(c){s.push(c)}}}return Cc++,a.then(Tp,Tp),a}function Tp(){if(--Cc===0&&uo!==null){ta!==null&&(ta.status="fulfilled");var i=uo;uo=null,ea=0,ta=null;for(var a=0;a<i.length;a++)(0,i[a])()}}function KC(i,a){var s=[],c={status:"pending",value:null,reason:null,then:function(p){s.push(p)}};return i.then(function(){c.status="fulfilled",c.value=a;for(var p=0;p<s.length;p++)(0,s[p])(a)},function(p){for(c.status="rejected",c.reason=p,p=0;p<s.length;p++)(0,s[p])(void 0)}),c}var Sp=q.S;q.S=function(i,a){typeof a=="object"&&a!==null&&typeof a.then=="function"&&$C(i,a),Sp!==null&&Sp(i,a)};var vr=P(null);function wc(){var i=vr.current;return i!==null?i:at.pooledCache}function Zs(i,a){a===null?D(vr,vr.current):D(vr,a.pool)}function Cp(){var i=wc();return i===null?null:{parent:It._currentValue,pool:i}}var co=Error(r(460)),wp=Error(r(474)),el=Error(r(542)),Mc={then:function(){}};function Mp(i){return i=i.status,i==="fulfilled"||i==="rejected"}function tl(){}function Ep(i,a,s){switch(s=i[s],s===void 0?i.push(a):s!==a&&(a.then(tl,tl),a=s),a.status){case"fulfilled":return a.value;case"rejected":throw i=a.reason,Dp(i),i;default:if(typeof a.status=="string")a.then(tl,tl);else{if(i=at,i!==null&&100<i.shellSuspendCounter)throw Error(r(482));i=a,i.status="pending",i.then(function(c){if(a.status==="pending"){var p=a;p.status="fulfilled",p.value=c}},function(c){if(a.status==="pending"){var p=a;p.status="rejected",p.reason=c}})}switch(a.status){case"fulfilled":return a.value;case"rejected":throw i=a.reason,Dp(i),i}throw fo=a,co}}var fo=null;function Ap(){if(fo===null)throw Error(r(459));var i=fo;return fo=null,i}function Dp(i){if(i===co||i===el)throw Error(r(483))}var Ai=!1;function Ec(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Ac(i,a){i=i.updateQueue,a.updateQueue===i&&(a.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function Di(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function Ii(i,a,s){var c=i.updateQueue;if(c===null)return null;if(c=c.shared,(Je&2)!==0){var p=c.pending;return p===null?a.next=a:(a.next=p.next,p.next=a),c.pending=a,a=$s(i),hp(i,null,s),a}return Ys(i,c,a,s),$s(i)}function mo(i,a,s){if(a=a.updateQueue,a!==null&&(a=a.shared,(s&4194048)!==0)){var c=a.lanes;c&=i.pendingLanes,s|=c,a.lanes=s,Rs(i,s)}}function Dc(i,a){var s=i.updateQueue,c=i.alternate;if(c!==null&&(c=c.updateQueue,s===c)){var p=null,b=null;if(s=s.firstBaseUpdate,s!==null){do{var w={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};b===null?p=b=w:b=b.next=w,s=s.next}while(s!==null);b===null?p=b=a:b=b.next=a}else p=b=a;s={baseState:c.baseState,firstBaseUpdate:p,lastBaseUpdate:b,shared:c.shared,callbacks:c.callbacks},i.updateQueue=s;return}i=s.lastBaseUpdate,i===null?s.firstBaseUpdate=a:i.next=a,s.lastBaseUpdate=a}var Ic=!1;function ho(){if(Ic){var i=ta;if(i!==null)throw i}}function po(i,a,s,c){Ic=!1;var p=i.updateQueue;Ai=!1;var b=p.firstBaseUpdate,w=p.lastBaseUpdate,A=p.shared.pending;if(A!==null){p.shared.pending=null;var V=A,K=V.next;V.next=null,w===null?b=K:w.next=K,w=V;var te=i.alternate;te!==null&&(te=te.updateQueue,A=te.lastBaseUpdate,A!==w&&(A===null?te.firstBaseUpdate=K:A.next=K,te.lastBaseUpdate=V))}if(b!==null){var ae=p.baseState;w=0,te=K=V=null,A=b;do{var X=A.lane&-536870913,W=X!==A.lane;if(W?(Ue&X)===X:(c&X)===X){X!==0&&X===ea&&(Ic=!0),te!==null&&(te=te.next={lane:0,tag:A.tag,payload:A.payload,callback:null,next:null});e:{var Ie=i,Ee=A;X=a;var nt=s;switch(Ee.tag){case 1:if(Ie=Ee.payload,typeof Ie=="function"){ae=Ie.call(nt,ae,X);break e}ae=Ie;break e;case 3:Ie.flags=Ie.flags&-65537|128;case 0:if(Ie=Ee.payload,X=typeof Ie=="function"?Ie.call(nt,ae,X):Ie,X==null)break e;ae=h({},ae,X);break e;case 2:Ai=!0}}X=A.callback,X!==null&&(i.flags|=64,W&&(i.flags|=8192),W=p.callbacks,W===null?p.callbacks=[X]:W.push(X))}else W={lane:X,tag:A.tag,payload:A.payload,callback:A.callback,next:null},te===null?(K=te=W,V=ae):te=te.next=W,w|=X;if(A=A.next,A===null){if(A=p.shared.pending,A===null)break;W=A,A=W.next,W.next=null,p.lastBaseUpdate=W,p.shared.pending=null}}while(!0);te===null&&(V=ae),p.baseState=V,p.firstBaseUpdate=K,p.lastBaseUpdate=te,b===null&&(p.shared.lanes=0),Bi|=w,i.lanes=w,i.memoizedState=ae}}function Ip(i,a){if(typeof i!="function")throw Error(r(191,i));i.call(a)}function kp(i,a){var s=i.callbacks;if(s!==null)for(i.callbacks=null,i=0;i<s.length;i++)Ip(s[i],a)}var na=P(null),nl=P(0);function Rp(i,a){i=gi,D(nl,i),D(na,a),gi=i|a.baseLanes}function kc(){D(nl,gi),D(na,na.current)}function Rc(){gi=nl.current,Y(na),Y(nl)}var ki=0,Ve=null,et=null,Mt=null,il=!1,ia=!1,br=!1,rl=0,go=0,ra=null,XC=0;function Tt(){throw Error(r(321))}function Nc(i,a){if(a===null)return!1;for(var s=0;s<a.length&&s<i.length;s++)if(!ln(i[s],a[s]))return!1;return!0}function _c(i,a,s,c,p,b){return ki=b,Ve=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,q.H=i===null||i.memoizedState===null?hg:pg,br=!1,b=s(c,p),br=!1,ia&&(b=_p(a,s,c,p)),Np(i),b}function Np(i){q.H=cl;var a=et!==null&&et.next!==null;if(ki=0,Mt=et=Ve=null,il=!1,go=0,ra=null,a)throw Error(r(300));i===null||_t||(i=i.dependencies,i!==null&&Qs(i)&&(_t=!0))}function _p(i,a,s,c){Ve=i;var p=0;do{if(ia&&(ra=null),go=0,ia=!1,25<=p)throw Error(r(301));if(p+=1,Mt=et=null,i.updateQueue!=null){var b=i.updateQueue;b.lastEffect=null,b.events=null,b.stores=null,b.memoCache!=null&&(b.memoCache.index=0)}q.H=nw,b=a(s,c)}while(ia);return b}function WC(){var i=q.H,a=i.useState()[0];return a=typeof a.then=="function"?yo(a):a,i=i.useState()[0],(et!==null?et.memoizedState:null)!==i&&(Ve.flags|=1024),a}function Lc(){var i=rl!==0;return rl=0,i}function Vc(i,a,s){a.updateQueue=i.updateQueue,a.flags&=-2053,i.lanes&=~s}function Pc(i){if(il){for(i=i.memoizedState;i!==null;){var a=i.queue;a!==null&&(a.pending=null),i=i.next}il=!1}ki=0,Mt=et=Ve=null,ia=!1,go=rl=0,ra=null}function en(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Mt===null?Ve.memoizedState=Mt=i:Mt=Mt.next=i,Mt}function Et(){if(et===null){var i=Ve.alternate;i=i!==null?i.memoizedState:null}else i=et.next;var a=Mt===null?Ve.memoizedState:Mt.next;if(a!==null)Mt=a,et=i;else{if(i===null)throw Ve.alternate===null?Error(r(467)):Error(r(310));et=i,i={memoizedState:et.memoizedState,baseState:et.baseState,baseQueue:et.baseQueue,queue:et.queue,next:null},Mt===null?Ve.memoizedState=Mt=i:Mt=Mt.next=i}return Mt}function Bc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function yo(i){var a=go;return go+=1,ra===null&&(ra=[]),i=Ep(ra,i,a),a=Ve,(Mt===null?a.memoizedState:Mt.next)===null&&(a=a.alternate,q.H=a===null||a.memoizedState===null?hg:pg),i}function al(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return yo(i);if(i.$$typeof===R)return Ht(i)}throw Error(r(438,String(i)))}function Oc(i){var a=null,s=Ve.updateQueue;if(s!==null&&(a=s.memoCache),a==null){var c=Ve.alternate;c!==null&&(c=c.updateQueue,c!==null&&(c=c.memoCache,c!=null&&(a={data:c.data.map(function(p){return p.slice()}),index:0})))}if(a==null&&(a={data:[],index:0}),s===null&&(s=Bc(),Ve.updateQueue=s),s.memoCache=a,s=a.data[a.index],s===void 0)for(s=a.data[a.index]=Array(i),c=0;c<i;c++)s[c]=j;return a.index++,s}function ci(i,a){return typeof a=="function"?a(i):a}function ol(i){var a=Et();return Fc(a,et,i)}function Fc(i,a,s){var c=i.queue;if(c===null)throw Error(r(311));c.lastRenderedReducer=s;var p=i.baseQueue,b=c.pending;if(b!==null){if(p!==null){var w=p.next;p.next=b.next,b.next=w}a.baseQueue=p=b,c.pending=null}if(b=i.baseState,p===null)i.memoizedState=b;else{a=p.next;var A=w=null,V=null,K=a,te=!1;do{var ae=K.lane&-536870913;if(ae!==K.lane?(Ue&ae)===ae:(ki&ae)===ae){var X=K.revertLane;if(X===0)V!==null&&(V=V.next={lane:0,revertLane:0,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null}),ae===ea&&(te=!0);else if((ki&X)===X){K=K.next,X===ea&&(te=!0);continue}else ae={lane:0,revertLane:K.revertLane,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null},V===null?(A=V=ae,w=b):V=V.next=ae,Ve.lanes|=X,Bi|=X;ae=K.action,br&&s(b,ae),b=K.hasEagerState?K.eagerState:s(b,ae)}else X={lane:ae,revertLane:K.revertLane,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null},V===null?(A=V=X,w=b):V=V.next=X,Ve.lanes|=ae,Bi|=ae;K=K.next}while(K!==null&&K!==a);if(V===null?w=b:V.next=A,!ln(b,i.memoizedState)&&(_t=!0,te&&(s=ta,s!==null)))throw s;i.memoizedState=b,i.baseState=w,i.baseQueue=V,c.lastRenderedState=b}return p===null&&(c.lanes=0),[i.memoizedState,c.dispatch]}function zc(i){var a=Et(),s=a.queue;if(s===null)throw Error(r(311));s.lastRenderedReducer=i;var c=s.dispatch,p=s.pending,b=a.memoizedState;if(p!==null){s.pending=null;var w=p=p.next;do b=i(b,w.action),w=w.next;while(w!==p);ln(b,a.memoizedState)||(_t=!0),a.memoizedState=b,a.baseQueue===null&&(a.baseState=b),s.lastRenderedState=b}return[b,c]}function Lp(i,a,s){var c=Ve,p=Et(),b=Xe;if(b){if(s===void 0)throw Error(r(407));s=s()}else s=a();var w=!ln((et||p).memoizedState,s);w&&(p.memoizedState=s,_t=!0),p=p.queue;var A=Bp.bind(null,c,p,i);if(xo(2048,8,A,[i]),p.getSnapshot!==a||w||Mt!==null&&Mt.memoizedState.tag&1){if(c.flags|=2048,aa(9,sl(),Pp.bind(null,c,p,s,a),null),at===null)throw Error(r(349));b||(ki&124)!==0||Vp(c,a,s)}return s}function Vp(i,a,s){i.flags|=16384,i={getSnapshot:a,value:s},a=Ve.updateQueue,a===null?(a=Bc(),Ve.updateQueue=a,a.stores=[i]):(s=a.stores,s===null?a.stores=[i]:s.push(i))}function Pp(i,a,s,c){a.value=s,a.getSnapshot=c,Op(a)&&Fp(i)}function Bp(i,a,s){return s(function(){Op(a)&&Fp(i)})}function Op(i){var a=i.getSnapshot;i=i.value;try{var s=a();return!ln(i,s)}catch{return!0}}function Fp(i){var a=Wr(i,2);a!==null&&hn(a,i,2)}function jc(i){var a=en();if(typeof i=="function"){var s=i;if(i=s(),br){Se(!0);try{s()}finally{Se(!1)}}}return a.memoizedState=a.baseState=i,a.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ci,lastRenderedState:i},a}function zp(i,a,s,c){return i.baseState=s,Fc(i,et,typeof c=="function"?c:ci)}function QC(i,a,s,c,p){if(ul(i))throw Error(r(485));if(i=a.action,i!==null){var b={payload:p,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(w){b.listeners.push(w)}};q.T!==null?s(!0):b.isTransition=!1,c(b),s=a.pending,s===null?(b.next=a.pending=b,jp(a,b)):(b.next=s.next,a.pending=s.next=b)}}function jp(i,a){var s=a.action,c=a.payload,p=i.state;if(a.isTransition){var b=q.T,w={};q.T=w;try{var A=s(p,c),V=q.S;V!==null&&V(w,A),Hp(i,a,A)}catch(K){Hc(i,a,K)}finally{q.T=b}}else try{b=s(p,c),Hp(i,a,b)}catch(K){Hc(i,a,K)}}function Hp(i,a,s){s!==null&&typeof s=="object"&&typeof s.then=="function"?s.then(function(c){Up(i,a,c)},function(c){return Hc(i,a,c)}):Up(i,a,s)}function Up(i,a,s){a.status="fulfilled",a.value=s,Gp(a),i.state=s,a=i.pending,a!==null&&(s=a.next,s===a?i.pending=null:(s=s.next,a.next=s,jp(i,s)))}function Hc(i,a,s){var c=i.pending;if(i.pending=null,c!==null){c=c.next;do a.status="rejected",a.reason=s,Gp(a),a=a.next;while(a!==c)}i.action=null}function Gp(i){i=i.listeners;for(var a=0;a<i.length;a++)(0,i[a])()}function qp(i,a){return a}function Yp(i,a){if(Xe){var s=at.formState;if(s!==null){e:{var c=Ve;if(Xe){if(ht){t:{for(var p=ht,b=Yn;p.nodeType!==8;){if(!b){p=null;break t}if(p=Bn(p.nextSibling),p===null){p=null;break t}}b=p.data,p=b==="F!"||b==="F"?p:null}if(p){ht=Bn(p.nextSibling),c=p.data==="F!";break e}}gr(c)}c=!1}c&&(a=s[0])}}return s=en(),s.memoizedState=s.baseState=a,c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:qp,lastRenderedState:a},s.queue=c,s=fg.bind(null,Ve,c),c.dispatch=s,c=jc(!1),b=$c.bind(null,Ve,!1,c.queue),c=en(),p={state:a,dispatch:null,action:i,pending:null},c.queue=p,s=QC.bind(null,Ve,p,b,s),p.dispatch=s,c.memoizedState=i,[a,s,!1]}function $p(i){var a=Et();return Kp(a,et,i)}function Kp(i,a,s){if(a=Fc(i,a,qp)[0],i=ol(ci)[0],typeof a=="object"&&a!==null&&typeof a.then=="function")try{var c=yo(a)}catch(w){throw w===co?el:w}else c=a;a=Et();var p=a.queue,b=p.dispatch;return s!==a.memoizedState&&(Ve.flags|=2048,aa(9,sl(),JC.bind(null,p,s),null)),[c,b,i]}function JC(i,a){i.action=a}function Xp(i){var a=Et(),s=et;if(s!==null)return Kp(a,s,i);Et(),a=a.memoizedState,s=Et();var c=s.queue.dispatch;return s.memoizedState=i,[a,c,!1]}function aa(i,a,s,c){return i={tag:i,create:s,deps:c,inst:a,next:null},a=Ve.updateQueue,a===null&&(a=Bc(),Ve.updateQueue=a),s=a.lastEffect,s===null?a.lastEffect=i.next=i:(c=s.next,s.next=i,i.next=c,a.lastEffect=i),i}function sl(){return{destroy:void 0,resource:void 0}}function Wp(){return Et().memoizedState}function ll(i,a,s,c){var p=en();c=c===void 0?null:c,Ve.flags|=i,p.memoizedState=aa(1|a,sl(),s,c)}function xo(i,a,s,c){var p=Et();c=c===void 0?null:c;var b=p.memoizedState.inst;et!==null&&c!==null&&Nc(c,et.memoizedState.deps)?p.memoizedState=aa(a,b,s,c):(Ve.flags|=i,p.memoizedState=aa(1|a,b,s,c))}function Qp(i,a){ll(8390656,8,i,a)}function Jp(i,a){xo(2048,8,i,a)}function Zp(i,a){return xo(4,2,i,a)}function eg(i,a){return xo(4,4,i,a)}function tg(i,a){if(typeof a=="function"){i=i();var s=a(i);return function(){typeof s=="function"?s():a(null)}}if(a!=null)return i=i(),a.current=i,function(){a.current=null}}function ng(i,a,s){s=s!=null?s.concat([i]):null,xo(4,4,tg.bind(null,a,i),s)}function Uc(){}function ig(i,a){var s=Et();a=a===void 0?null:a;var c=s.memoizedState;return a!==null&&Nc(a,c[1])?c[0]:(s.memoizedState=[i,a],i)}function rg(i,a){var s=Et();a=a===void 0?null:a;var c=s.memoizedState;if(a!==null&&Nc(a,c[1]))return c[0];if(c=i(),br){Se(!0);try{i()}finally{Se(!1)}}return s.memoizedState=[c,a],c}function Gc(i,a,s){return s===void 0||(ki&1073741824)!==0?i.memoizedState=a:(i.memoizedState=s,i=sy(),Ve.lanes|=i,Bi|=i,s)}function ag(i,a,s,c){return ln(s,a)?s:na.current!==null?(i=Gc(i,s,c),ln(i,a)||(_t=!0),i):(ki&42)===0?(_t=!0,i.memoizedState=s):(i=sy(),Ve.lanes|=i,Bi|=i,a)}function og(i,a,s,c,p){var b=B.p;B.p=b!==0&&8>b?b:8;var w=q.T,A={};q.T=A,$c(i,!1,a,s);try{var V=p(),K=q.S;if(K!==null&&K(A,V),V!==null&&typeof V=="object"&&typeof V.then=="function"){var te=KC(V,c);vo(i,a,te,mn(i))}else vo(i,a,c,mn(i))}catch(ae){vo(i,a,{then:function(){},status:"rejected",reason:ae},mn())}finally{B.p=b,q.T=w}}function ZC(){}function qc(i,a,s,c){if(i.tag!==5)throw Error(r(476));var p=sg(i).queue;og(i,p,a,N,s===null?ZC:function(){return lg(i),s(c)})}function sg(i){var a=i.memoizedState;if(a!==null)return a;a={memoizedState:N,baseState:N,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ci,lastRenderedState:N},next:null};var s={};return a.next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ci,lastRenderedState:s},next:null},i.memoizedState=a,i=i.alternate,i!==null&&(i.memoizedState=a),a}function lg(i){var a=sg(i).next.queue;vo(i,a,{},mn())}function Yc(){return Ht(Bo)}function ug(){return Et().memoizedState}function cg(){return Et().memoizedState}function ew(i){for(var a=i.return;a!==null;){switch(a.tag){case 24:case 3:var s=mn();i=Di(s);var c=Ii(a,i,s);c!==null&&(hn(c,a,s),mo(c,a,s)),a={cache:Sc()},i.payload=a;return}a=a.return}}function tw(i,a,s){var c=mn();s={lane:c,revertLane:0,action:s,hasEagerState:!1,eagerState:null,next:null},ul(i)?dg(a,s):(s=dc(i,a,s,c),s!==null&&(hn(s,i,c),mg(s,a,c)))}function fg(i,a,s){var c=mn();vo(i,a,s,c)}function vo(i,a,s,c){var p={lane:c,revertLane:0,action:s,hasEagerState:!1,eagerState:null,next:null};if(ul(i))dg(a,p);else{var b=i.alternate;if(i.lanes===0&&(b===null||b.lanes===0)&&(b=a.lastRenderedReducer,b!==null))try{var w=a.lastRenderedState,A=b(w,s);if(p.hasEagerState=!0,p.eagerState=A,ln(A,w))return Ys(i,a,p,0),at===null&&qs(),!1}catch{}finally{}if(s=dc(i,a,p,c),s!==null)return hn(s,i,c),mg(s,a,c),!0}return!1}function $c(i,a,s,c){if(c={lane:2,revertLane:Ef(),action:c,hasEagerState:!1,eagerState:null,next:null},ul(i)){if(a)throw Error(r(479))}else a=dc(i,s,c,2),a!==null&&hn(a,i,2)}function ul(i){var a=i.alternate;return i===Ve||a!==null&&a===Ve}function dg(i,a){ia=il=!0;var s=i.pending;s===null?a.next=a:(a.next=s.next,s.next=a),i.pending=a}function mg(i,a,s){if((s&4194048)!==0){var c=a.lanes;c&=i.pendingLanes,s|=c,a.lanes=s,Rs(i,s)}}var cl={readContext:Ht,use:al,useCallback:Tt,useContext:Tt,useEffect:Tt,useImperativeHandle:Tt,useLayoutEffect:Tt,useInsertionEffect:Tt,useMemo:Tt,useReducer:Tt,useRef:Tt,useState:Tt,useDebugValue:Tt,useDeferredValue:Tt,useTransition:Tt,useSyncExternalStore:Tt,useId:Tt,useHostTransitionStatus:Tt,useFormState:Tt,useActionState:Tt,useOptimistic:Tt,useMemoCache:Tt,useCacheRefresh:Tt},hg={readContext:Ht,use:al,useCallback:function(i,a){return en().memoizedState=[i,a===void 0?null:a],i},useContext:Ht,useEffect:Qp,useImperativeHandle:function(i,a,s){s=s!=null?s.concat([i]):null,ll(4194308,4,tg.bind(null,a,i),s)},useLayoutEffect:function(i,a){return ll(4194308,4,i,a)},useInsertionEffect:function(i,a){ll(4,2,i,a)},useMemo:function(i,a){var s=en();a=a===void 0?null:a;var c=i();if(br){Se(!0);try{i()}finally{Se(!1)}}return s.memoizedState=[c,a],c},useReducer:function(i,a,s){var c=en();if(s!==void 0){var p=s(a);if(br){Se(!0);try{s(a)}finally{Se(!1)}}}else p=a;return c.memoizedState=c.baseState=p,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:p},c.queue=i,i=i.dispatch=tw.bind(null,Ve,i),[c.memoizedState,i]},useRef:function(i){var a=en();return i={current:i},a.memoizedState=i},useState:function(i){i=jc(i);var a=i.queue,s=fg.bind(null,Ve,a);return a.dispatch=s,[i.memoizedState,s]},useDebugValue:Uc,useDeferredValue:function(i,a){var s=en();return Gc(s,i,a)},useTransition:function(){var i=jc(!1);return i=og.bind(null,Ve,i.queue,!0,!1),en().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,a,s){var c=Ve,p=en();if(Xe){if(s===void 0)throw Error(r(407));s=s()}else{if(s=a(),at===null)throw Error(r(349));(Ue&124)!==0||Vp(c,a,s)}p.memoizedState=s;var b={value:s,getSnapshot:a};return p.queue=b,Qp(Bp.bind(null,c,b,i),[i]),c.flags|=2048,aa(9,sl(),Pp.bind(null,c,b,s,a),null),s},useId:function(){var i=en(),a=at.identifierPrefix;if(Xe){var s=si,c=oi;s=(c&~(1<<32-Me(c)-1)).toString(32)+s,a="«"+a+"R"+s,s=rl++,0<s&&(a+="H"+s.toString(32)),a+="»"}else s=XC++,a="«"+a+"r"+s.toString(32)+"»";return i.memoizedState=a},useHostTransitionStatus:Yc,useFormState:Yp,useActionState:Yp,useOptimistic:function(i){var a=en();a.memoizedState=a.baseState=i;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return a.queue=s,a=$c.bind(null,Ve,!0,s),s.dispatch=a,[i,a]},useMemoCache:Oc,useCacheRefresh:function(){return en().memoizedState=ew.bind(null,Ve)}},pg={readContext:Ht,use:al,useCallback:ig,useContext:Ht,useEffect:Jp,useImperativeHandle:ng,useInsertionEffect:Zp,useLayoutEffect:eg,useMemo:rg,useReducer:ol,useRef:Wp,useState:function(){return ol(ci)},useDebugValue:Uc,useDeferredValue:function(i,a){var s=Et();return ag(s,et.memoizedState,i,a)},useTransition:function(){var i=ol(ci)[0],a=Et().memoizedState;return[typeof i=="boolean"?i:yo(i),a]},useSyncExternalStore:Lp,useId:ug,useHostTransitionStatus:Yc,useFormState:$p,useActionState:$p,useOptimistic:function(i,a){var s=Et();return zp(s,et,i,a)},useMemoCache:Oc,useCacheRefresh:cg},nw={readContext:Ht,use:al,useCallback:ig,useContext:Ht,useEffect:Jp,useImperativeHandle:ng,useInsertionEffect:Zp,useLayoutEffect:eg,useMemo:rg,useReducer:zc,useRef:Wp,useState:function(){return zc(ci)},useDebugValue:Uc,useDeferredValue:function(i,a){var s=Et();return et===null?Gc(s,i,a):ag(s,et.memoizedState,i,a)},useTransition:function(){var i=zc(ci)[0],a=Et().memoizedState;return[typeof i=="boolean"?i:yo(i),a]},useSyncExternalStore:Lp,useId:ug,useHostTransitionStatus:Yc,useFormState:Xp,useActionState:Xp,useOptimistic:function(i,a){var s=Et();return et!==null?zp(s,et,i,a):(s.baseState=i,[i,s.queue.dispatch])},useMemoCache:Oc,useCacheRefresh:cg},oa=null,bo=0;function fl(i){var a=bo;return bo+=1,oa===null&&(oa=[]),Ep(oa,i,a)}function To(i,a){a=a.props.ref,i.ref=a!==void 0?a:null}function dl(i,a){throw a.$$typeof===y?Error(r(525)):(i=Object.prototype.toString.call(a),Error(r(31,i==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":i)))}function gg(i){var a=i._init;return a(i._payload)}function yg(i){function a(U,F){if(i){var $=U.deletions;$===null?(U.deletions=[F],U.flags|=16):$.push(F)}}function s(U,F){if(!i)return null;for(;F!==null;)a(U,F),F=F.sibling;return null}function c(U){for(var F=new Map;U!==null;)U.key!==null?F.set(U.key,U):F.set(U.index,U),U=U.sibling;return F}function p(U,F){return U=ai(U,F),U.index=0,U.sibling=null,U}function b(U,F,$){return U.index=$,i?($=U.alternate,$!==null?($=$.index,$<F?(U.flags|=67108866,F):$):(U.flags|=67108866,F)):(U.flags|=1048576,F)}function w(U){return i&&U.alternate===null&&(U.flags|=67108866),U}function A(U,F,$,ie){return F===null||F.tag!==6?(F=hc($,U.mode,ie),F.return=U,F):(F=p(F,$),F.return=U,F)}function V(U,F,$,ie){var xe=$.type;return xe===M?te(U,F,$.props.children,ie,$.key):F!==null&&(F.elementType===xe||typeof xe=="object"&&xe!==null&&xe.$$typeof===oe&&gg(xe)===F.type)?(F=p(F,$.props),To(F,$),F.return=U,F):(F=Ks($.type,$.key,$.props,null,U.mode,ie),To(F,$),F.return=U,F)}function K(U,F,$,ie){return F===null||F.tag!==4||F.stateNode.containerInfo!==$.containerInfo||F.stateNode.implementation!==$.implementation?(F=pc($,U.mode,ie),F.return=U,F):(F=p(F,$.children||[]),F.return=U,F)}function te(U,F,$,ie,xe){return F===null||F.tag!==7?(F=dr($,U.mode,ie,xe),F.return=U,F):(F=p(F,$),F.return=U,F)}function ae(U,F,$){if(typeof F=="string"&&F!==""||typeof F=="number"||typeof F=="bigint")return F=hc(""+F,U.mode,$),F.return=U,F;if(typeof F=="object"&&F!==null){switch(F.$$typeof){case T:return $=Ks(F.type,F.key,F.props,null,U.mode,$),To($,F),$.return=U,$;case S:return F=pc(F,U.mode,$),F.return=U,F;case oe:var ie=F._init;return F=ie(F._payload),ae(U,F,$)}if(ce(F)||Z(F))return F=dr(F,U.mode,$,null),F.return=U,F;if(typeof F.then=="function")return ae(U,fl(F),$);if(F.$$typeof===R)return ae(U,Js(U,F),$);dl(U,F)}return null}function X(U,F,$,ie){var xe=F!==null?F.key:null;if(typeof $=="string"&&$!==""||typeof $=="number"||typeof $=="bigint")return xe!==null?null:A(U,F,""+$,ie);if(typeof $=="object"&&$!==null){switch($.$$typeof){case T:return $.key===xe?V(U,F,$,ie):null;case S:return $.key===xe?K(U,F,$,ie):null;case oe:return xe=$._init,$=xe($._payload),X(U,F,$,ie)}if(ce($)||Z($))return xe!==null?null:te(U,F,$,ie,null);if(typeof $.then=="function")return X(U,F,fl($),ie);if($.$$typeof===R)return X(U,F,Js(U,$),ie);dl(U,$)}return null}function W(U,F,$,ie,xe){if(typeof ie=="string"&&ie!==""||typeof ie=="number"||typeof ie=="bigint")return U=U.get($)||null,A(F,U,""+ie,xe);if(typeof ie=="object"&&ie!==null){switch(ie.$$typeof){case T:return U=U.get(ie.key===null?$:ie.key)||null,V(F,U,ie,xe);case S:return U=U.get(ie.key===null?$:ie.key)||null,K(F,U,ie,xe);case oe:var Be=ie._init;return ie=Be(ie._payload),W(U,F,$,ie,xe)}if(ce(ie)||Z(ie))return U=U.get($)||null,te(F,U,ie,xe,null);if(typeof ie.then=="function")return W(U,F,$,fl(ie),xe);if(ie.$$typeof===R)return W(U,F,$,Js(F,ie),xe);dl(F,ie)}return null}function Ie(U,F,$,ie){for(var xe=null,Be=null,be=F,Ae=F=0,Vt=null;be!==null&&Ae<$.length;Ae++){be.index>Ae?(Vt=be,be=null):Vt=be.sibling;var $e=X(U,be,$[Ae],ie);if($e===null){be===null&&(be=Vt);break}i&&be&&$e.alternate===null&&a(U,be),F=b($e,F,Ae),Be===null?xe=$e:Be.sibling=$e,Be=$e,be=Vt}if(Ae===$.length)return s(U,be),Xe&&hr(U,Ae),xe;if(be===null){for(;Ae<$.length;Ae++)be=ae(U,$[Ae],ie),be!==null&&(F=b(be,F,Ae),Be===null?xe=be:Be.sibling=be,Be=be);return Xe&&hr(U,Ae),xe}for(be=c(be);Ae<$.length;Ae++)Vt=W(be,U,Ae,$[Ae],ie),Vt!==null&&(i&&Vt.alternate!==null&&be.delete(Vt.key===null?Ae:Vt.key),F=b(Vt,F,Ae),Be===null?xe=Vt:Be.sibling=Vt,Be=Vt);return i&&be.forEach(function(Yi){return a(U,Yi)}),Xe&&hr(U,Ae),xe}function Ee(U,F,$,ie){if($==null)throw Error(r(151));for(var xe=null,Be=null,be=F,Ae=F=0,Vt=null,$e=$.next();be!==null&&!$e.done;Ae++,$e=$.next()){be.index>Ae?(Vt=be,be=null):Vt=be.sibling;var Yi=X(U,be,$e.value,ie);if(Yi===null){be===null&&(be=Vt);break}i&&be&&Yi.alternate===null&&a(U,be),F=b(Yi,F,Ae),Be===null?xe=Yi:Be.sibling=Yi,Be=Yi,be=Vt}if($e.done)return s(U,be),Xe&&hr(U,Ae),xe;if(be===null){for(;!$e.done;Ae++,$e=$.next())$e=ae(U,$e.value,ie),$e!==null&&(F=b($e,F,Ae),Be===null?xe=$e:Be.sibling=$e,Be=$e);return Xe&&hr(U,Ae),xe}for(be=c(be);!$e.done;Ae++,$e=$.next())$e=W(be,U,Ae,$e.value,ie),$e!==null&&(i&&$e.alternate!==null&&be.delete($e.key===null?Ae:$e.key),F=b($e,F,Ae),Be===null?xe=$e:Be.sibling=$e,Be=$e);return i&&be.forEach(function(iM){return a(U,iM)}),Xe&&hr(U,Ae),xe}function nt(U,F,$,ie){if(typeof $=="object"&&$!==null&&$.type===M&&$.key===null&&($=$.props.children),typeof $=="object"&&$!==null){switch($.$$typeof){case T:e:{for(var xe=$.key;F!==null;){if(F.key===xe){if(xe=$.type,xe===M){if(F.tag===7){s(U,F.sibling),ie=p(F,$.props.children),ie.return=U,U=ie;break e}}else if(F.elementType===xe||typeof xe=="object"&&xe!==null&&xe.$$typeof===oe&&gg(xe)===F.type){s(U,F.sibling),ie=p(F,$.props),To(ie,$),ie.return=U,U=ie;break e}s(U,F);break}else a(U,F);F=F.sibling}$.type===M?(ie=dr($.props.children,U.mode,ie,$.key),ie.return=U,U=ie):(ie=Ks($.type,$.key,$.props,null,U.mode,ie),To(ie,$),ie.return=U,U=ie)}return w(U);case S:e:{for(xe=$.key;F!==null;){if(F.key===xe)if(F.tag===4&&F.stateNode.containerInfo===$.containerInfo&&F.stateNode.implementation===$.implementation){s(U,F.sibling),ie=p(F,$.children||[]),ie.return=U,U=ie;break e}else{s(U,F);break}else a(U,F);F=F.sibling}ie=pc($,U.mode,ie),ie.return=U,U=ie}return w(U);case oe:return xe=$._init,$=xe($._payload),nt(U,F,$,ie)}if(ce($))return Ie(U,F,$,ie);if(Z($)){if(xe=Z($),typeof xe!="function")throw Error(r(150));return $=xe.call($),Ee(U,F,$,ie)}if(typeof $.then=="function")return nt(U,F,fl($),ie);if($.$$typeof===R)return nt(U,F,Js(U,$),ie);dl(U,$)}return typeof $=="string"&&$!==""||typeof $=="number"||typeof $=="bigint"?($=""+$,F!==null&&F.tag===6?(s(U,F.sibling),ie=p(F,$),ie.return=U,U=ie):(s(U,F),ie=hc($,U.mode,ie),ie.return=U,U=ie),w(U)):s(U,F)}return function(U,F,$,ie){try{bo=0;var xe=nt(U,F,$,ie);return oa=null,xe}catch(be){if(be===co||be===el)throw be;var Be=un(29,be,null,U.mode);return Be.lanes=ie,Be.return=U,Be}finally{}}}var sa=yg(!0),xg=yg(!1),An=P(null),$n=null;function Ri(i){var a=i.alternate;D(kt,kt.current&1),D(An,i),$n===null&&(a===null||na.current!==null||a.memoizedState!==null)&&($n=i)}function vg(i){if(i.tag===22){if(D(kt,kt.current),D(An,i),$n===null){var a=i.alternate;a!==null&&a.memoizedState!==null&&($n=i)}}else Ni()}function Ni(){D(kt,kt.current),D(An,An.current)}function fi(i){Y(An),$n===i&&($n=null),Y(kt)}var kt=P(0);function ml(i){for(var a=i;a!==null;){if(a.tag===13){var s=a.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||s.data==="$?"||Of(s)))return a}else if(a.tag===19&&a.memoizedProps.revealOrder!==void 0){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===i)break;for(;a.sibling===null;){if(a.return===null||a.return===i)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}function Kc(i,a,s,c){a=i.memoizedState,s=s(c,a),s=s==null?a:h({},a,s),i.memoizedState=s,i.lanes===0&&(i.updateQueue.baseState=s)}var Xc={enqueueSetState:function(i,a,s){i=i._reactInternals;var c=mn(),p=Di(c);p.payload=a,s!=null&&(p.callback=s),a=Ii(i,p,c),a!==null&&(hn(a,i,c),mo(a,i,c))},enqueueReplaceState:function(i,a,s){i=i._reactInternals;var c=mn(),p=Di(c);p.tag=1,p.payload=a,s!=null&&(p.callback=s),a=Ii(i,p,c),a!==null&&(hn(a,i,c),mo(a,i,c))},enqueueForceUpdate:function(i,a){i=i._reactInternals;var s=mn(),c=Di(s);c.tag=2,a!=null&&(c.callback=a),a=Ii(i,c,s),a!==null&&(hn(a,i,s),mo(a,i,s))}};function bg(i,a,s,c,p,b,w){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(c,b,w):a.prototype&&a.prototype.isPureReactComponent?!no(s,c)||!no(p,b):!0}function Tg(i,a,s,c){i=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(s,c),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(s,c),a.state!==i&&Xc.enqueueReplaceState(a,a.state,null)}function Tr(i,a){var s=a;if("ref"in a){s={};for(var c in a)c!=="ref"&&(s[c]=a[c])}if(i=i.defaultProps){s===a&&(s=h({},s));for(var p in i)s[p]===void 0&&(s[p]=i[p])}return s}var hl=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var a=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(a))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)};function Sg(i){hl(i)}function Cg(i){console.error(i)}function wg(i){hl(i)}function pl(i,a){try{var s=i.onUncaughtError;s(a.value,{componentStack:a.stack})}catch(c){setTimeout(function(){throw c})}}function Mg(i,a,s){try{var c=i.onCaughtError;c(s.value,{componentStack:s.stack,errorBoundary:a.tag===1?a.stateNode:null})}catch(p){setTimeout(function(){throw p})}}function Wc(i,a,s){return s=Di(s),s.tag=3,s.payload={element:null},s.callback=function(){pl(i,a)},s}function Eg(i){return i=Di(i),i.tag=3,i}function Ag(i,a,s,c){var p=s.type.getDerivedStateFromError;if(typeof p=="function"){var b=c.value;i.payload=function(){return p(b)},i.callback=function(){Mg(a,s,c)}}var w=s.stateNode;w!==null&&typeof w.componentDidCatch=="function"&&(i.callback=function(){Mg(a,s,c),typeof p!="function"&&(Oi===null?Oi=new Set([this]):Oi.add(this));var A=c.stack;this.componentDidCatch(c.value,{componentStack:A!==null?A:""})})}function iw(i,a,s,c,p){if(s.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){if(a=s.alternate,a!==null&&so(a,s,p,!0),s=An.current,s!==null){switch(s.tag){case 13:return $n===null?Tf():s.alternate===null&&pt===0&&(pt=3),s.flags&=-257,s.flags|=65536,s.lanes=p,c===Mc?s.flags|=16384:(a=s.updateQueue,a===null?s.updateQueue=new Set([c]):a.add(c),Cf(i,c,p)),!1;case 22:return s.flags|=65536,c===Mc?s.flags|=16384:(a=s.updateQueue,a===null?(a={transitions:null,markerInstances:null,retryQueue:new Set([c])},s.updateQueue=a):(s=a.retryQueue,s===null?a.retryQueue=new Set([c]):s.add(c)),Cf(i,c,p)),!1}throw Error(r(435,s.tag))}return Cf(i,c,p),Tf(),!1}if(Xe)return a=An.current,a!==null?((a.flags&65536)===0&&(a.flags|=256),a.flags|=65536,a.lanes=p,c!==xc&&(i=Error(r(422),{cause:c}),oo(Cn(i,s)))):(c!==xc&&(a=Error(r(423),{cause:c}),oo(Cn(a,s))),i=i.current.alternate,i.flags|=65536,p&=-p,i.lanes|=p,c=Cn(c,s),p=Wc(i.stateNode,c,p),Dc(i,p),pt!==4&&(pt=2)),!1;var b=Error(r(520),{cause:c});if(b=Cn(b,s),Do===null?Do=[b]:Do.push(b),pt!==4&&(pt=2),a===null)return!0;c=Cn(c,s),s=a;do{switch(s.tag){case 3:return s.flags|=65536,i=p&-p,s.lanes|=i,i=Wc(s.stateNode,c,i),Dc(s,i),!1;case 1:if(a=s.type,b=s.stateNode,(s.flags&128)===0&&(typeof a.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(Oi===null||!Oi.has(b))))return s.flags|=65536,p&=-p,s.lanes|=p,p=Eg(p),Ag(p,i,s,c),Dc(s,p),!1}s=s.return}while(s!==null);return!1}var Dg=Error(r(461)),_t=!1;function Bt(i,a,s,c){a.child=i===null?xg(a,null,s,c):sa(a,i.child,s,c)}function Ig(i,a,s,c,p){s=s.render;var b=a.ref;if("ref"in c){var w={};for(var A in c)A!=="ref"&&(w[A]=c[A])}else w=c;return xr(a),c=_c(i,a,s,w,b,p),A=Lc(),i!==null&&!_t?(Vc(i,a,p),di(i,a,p)):(Xe&&A&&gc(a),a.flags|=1,Bt(i,a,c,p),a.child)}function kg(i,a,s,c,p){if(i===null){var b=s.type;return typeof b=="function"&&!mc(b)&&b.defaultProps===void 0&&s.compare===null?(a.tag=15,a.type=b,Rg(i,a,b,c,p)):(i=Ks(s.type,null,c,a,a.mode,p),i.ref=a.ref,i.return=a,a.child=i)}if(b=i.child,!af(i,p)){var w=b.memoizedProps;if(s=s.compare,s=s!==null?s:no,s(w,c)&&i.ref===a.ref)return di(i,a,p)}return a.flags|=1,i=ai(b,c),i.ref=a.ref,i.return=a,a.child=i}function Rg(i,a,s,c,p){if(i!==null){var b=i.memoizedProps;if(no(b,c)&&i.ref===a.ref)if(_t=!1,a.pendingProps=c=b,af(i,p))(i.flags&131072)!==0&&(_t=!0);else return a.lanes=i.lanes,di(i,a,p)}return Qc(i,a,s,c,p)}function Ng(i,a,s){var c=a.pendingProps,p=c.children,b=i!==null?i.memoizedState:null;if(c.mode==="hidden"){if((a.flags&128)!==0){if(c=b!==null?b.baseLanes|s:s,i!==null){for(p=a.child=i.child,b=0;p!==null;)b=b|p.lanes|p.childLanes,p=p.sibling;a.childLanes=b&~c}else a.childLanes=0,a.child=null;return _g(i,a,c,s)}if((s&536870912)!==0)a.memoizedState={baseLanes:0,cachePool:null},i!==null&&Zs(a,b!==null?b.cachePool:null),b!==null?Rp(a,b):kc(),vg(a);else return a.lanes=a.childLanes=536870912,_g(i,a,b!==null?b.baseLanes|s:s,s)}else b!==null?(Zs(a,b.cachePool),Rp(a,b),Ni(),a.memoizedState=null):(i!==null&&Zs(a,null),kc(),Ni());return Bt(i,a,p,s),a.child}function _g(i,a,s,c){var p=wc();return p=p===null?null:{parent:It._currentValue,pool:p},a.memoizedState={baseLanes:s,cachePool:p},i!==null&&Zs(a,null),kc(),vg(a),i!==null&&so(i,a,c,!0),null}function gl(i,a){var s=a.ref;if(s===null)i!==null&&i.ref!==null&&(a.flags|=4194816);else{if(typeof s!="function"&&typeof s!="object")throw Error(r(284));(i===null||i.ref!==s)&&(a.flags|=4194816)}}function Qc(i,a,s,c,p){return xr(a),s=_c(i,a,s,c,void 0,p),c=Lc(),i!==null&&!_t?(Vc(i,a,p),di(i,a,p)):(Xe&&c&&gc(a),a.flags|=1,Bt(i,a,s,p),a.child)}function Lg(i,a,s,c,p,b){return xr(a),a.updateQueue=null,s=_p(a,c,s,p),Np(i),c=Lc(),i!==null&&!_t?(Vc(i,a,b),di(i,a,b)):(Xe&&c&&gc(a),a.flags|=1,Bt(i,a,s,b),a.child)}function Vg(i,a,s,c,p){if(xr(a),a.stateNode===null){var b=Qr,w=s.contextType;typeof w=="object"&&w!==null&&(b=Ht(w)),b=new s(c,b),a.memoizedState=b.state!==null&&b.state!==void 0?b.state:null,b.updater=Xc,a.stateNode=b,b._reactInternals=a,b=a.stateNode,b.props=c,b.state=a.memoizedState,b.refs={},Ec(a),w=s.contextType,b.context=typeof w=="object"&&w!==null?Ht(w):Qr,b.state=a.memoizedState,w=s.getDerivedStateFromProps,typeof w=="function"&&(Kc(a,s,w,c),b.state=a.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof b.getSnapshotBeforeUpdate=="function"||typeof b.UNSAFE_componentWillMount!="function"&&typeof b.componentWillMount!="function"||(w=b.state,typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount(),w!==b.state&&Xc.enqueueReplaceState(b,b.state,null),po(a,c,b,p),ho(),b.state=a.memoizedState),typeof b.componentDidMount=="function"&&(a.flags|=4194308),c=!0}else if(i===null){b=a.stateNode;var A=a.memoizedProps,V=Tr(s,A);b.props=V;var K=b.context,te=s.contextType;w=Qr,typeof te=="object"&&te!==null&&(w=Ht(te));var ae=s.getDerivedStateFromProps;te=typeof ae=="function"||typeof b.getSnapshotBeforeUpdate=="function",A=a.pendingProps!==A,te||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||(A||K!==w)&&Tg(a,b,c,w),Ai=!1;var X=a.memoizedState;b.state=X,po(a,c,b,p),ho(),K=a.memoizedState,A||X!==K||Ai?(typeof ae=="function"&&(Kc(a,s,ae,c),K=a.memoizedState),(V=Ai||bg(a,s,V,c,X,K,w))?(te||typeof b.UNSAFE_componentWillMount!="function"&&typeof b.componentWillMount!="function"||(typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount()),typeof b.componentDidMount=="function"&&(a.flags|=4194308)):(typeof b.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=c,a.memoizedState=K),b.props=c,b.state=K,b.context=w,c=V):(typeof b.componentDidMount=="function"&&(a.flags|=4194308),c=!1)}else{b=a.stateNode,Ac(i,a),w=a.memoizedProps,te=Tr(s,w),b.props=te,ae=a.pendingProps,X=b.context,K=s.contextType,V=Qr,typeof K=="object"&&K!==null&&(V=Ht(K)),A=s.getDerivedStateFromProps,(K=typeof A=="function"||typeof b.getSnapshotBeforeUpdate=="function")||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||(w!==ae||X!==V)&&Tg(a,b,c,V),Ai=!1,X=a.memoizedState,b.state=X,po(a,c,b,p),ho();var W=a.memoizedState;w!==ae||X!==W||Ai||i!==null&&i.dependencies!==null&&Qs(i.dependencies)?(typeof A=="function"&&(Kc(a,s,A,c),W=a.memoizedState),(te=Ai||bg(a,s,te,c,X,W,V)||i!==null&&i.dependencies!==null&&Qs(i.dependencies))?(K||typeof b.UNSAFE_componentWillUpdate!="function"&&typeof b.componentWillUpdate!="function"||(typeof b.componentWillUpdate=="function"&&b.componentWillUpdate(c,W,V),typeof b.UNSAFE_componentWillUpdate=="function"&&b.UNSAFE_componentWillUpdate(c,W,V)),typeof b.componentDidUpdate=="function"&&(a.flags|=4),typeof b.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof b.componentDidUpdate!="function"||w===i.memoizedProps&&X===i.memoizedState||(a.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||w===i.memoizedProps&&X===i.memoizedState||(a.flags|=1024),a.memoizedProps=c,a.memoizedState=W),b.props=c,b.state=W,b.context=V,c=te):(typeof b.componentDidUpdate!="function"||w===i.memoizedProps&&X===i.memoizedState||(a.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||w===i.memoizedProps&&X===i.memoizedState||(a.flags|=1024),c=!1)}return b=c,gl(i,a),c=(a.flags&128)!==0,b||c?(b=a.stateNode,s=c&&typeof s.getDerivedStateFromError!="function"?null:b.render(),a.flags|=1,i!==null&&c?(a.child=sa(a,i.child,null,p),a.child=sa(a,null,s,p)):Bt(i,a,s,p),a.memoizedState=b.state,i=a.child):i=di(i,a,p),i}function Pg(i,a,s,c){return ao(),a.flags|=256,Bt(i,a,s,c),a.child}var Jc={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Zc(i){return{baseLanes:i,cachePool:Cp()}}function ef(i,a,s){return i=i!==null?i.childLanes&~s:0,a&&(i|=Dn),i}function Bg(i,a,s){var c=a.pendingProps,p=!1,b=(a.flags&128)!==0,w;if((w=b)||(w=i!==null&&i.memoizedState===null?!1:(kt.current&2)!==0),w&&(p=!0,a.flags&=-129),w=(a.flags&32)!==0,a.flags&=-33,i===null){if(Xe){if(p?Ri(a):Ni(),Xe){var A=ht,V;if(V=A){e:{for(V=A,A=Yn;V.nodeType!==8;){if(!A){A=null;break e}if(V=Bn(V.nextSibling),V===null){A=null;break e}}A=V}A!==null?(a.memoizedState={dehydrated:A,treeContext:mr!==null?{id:oi,overflow:si}:null,retryLane:536870912,hydrationErrors:null},V=un(18,null,null,0),V.stateNode=A,V.return=a,a.child=V,Wt=a,ht=null,V=!0):V=!1}V||gr(a)}if(A=a.memoizedState,A!==null&&(A=A.dehydrated,A!==null))return Of(A)?a.lanes=32:a.lanes=536870912,null;fi(a)}return A=c.children,c=c.fallback,p?(Ni(),p=a.mode,A=yl({mode:"hidden",children:A},p),c=dr(c,p,s,null),A.return=a,c.return=a,A.sibling=c,a.child=A,p=a.child,p.memoizedState=Zc(s),p.childLanes=ef(i,w,s),a.memoizedState=Jc,c):(Ri(a),tf(a,A))}if(V=i.memoizedState,V!==null&&(A=V.dehydrated,A!==null)){if(b)a.flags&256?(Ri(a),a.flags&=-257,a=nf(i,a,s)):a.memoizedState!==null?(Ni(),a.child=i.child,a.flags|=128,a=null):(Ni(),p=c.fallback,A=a.mode,c=yl({mode:"visible",children:c.children},A),p=dr(p,A,s,null),p.flags|=2,c.return=a,p.return=a,c.sibling=p,a.child=c,sa(a,i.child,null,s),c=a.child,c.memoizedState=Zc(s),c.childLanes=ef(i,w,s),a.memoizedState=Jc,a=p);else if(Ri(a),Of(A)){if(w=A.nextSibling&&A.nextSibling.dataset,w)var K=w.dgst;w=K,c=Error(r(419)),c.stack="",c.digest=w,oo({value:c,source:null,stack:null}),a=nf(i,a,s)}else if(_t||so(i,a,s,!1),w=(s&i.childLanes)!==0,_t||w){if(w=at,w!==null&&(c=s&-s,c=(c&42)!==0?1:qa(c),c=(c&(w.suspendedLanes|s))!==0?0:c,c!==0&&c!==V.retryLane))throw V.retryLane=c,Wr(i,c),hn(w,i,c),Dg;A.data==="$?"||Tf(),a=nf(i,a,s)}else A.data==="$?"?(a.flags|=192,a.child=i.child,a=null):(i=V.treeContext,ht=Bn(A.nextSibling),Wt=a,Xe=!0,pr=null,Yn=!1,i!==null&&(Mn[En++]=oi,Mn[En++]=si,Mn[En++]=mr,oi=i.id,si=i.overflow,mr=a),a=tf(a,c.children),a.flags|=4096);return a}return p?(Ni(),p=c.fallback,A=a.mode,V=i.child,K=V.sibling,c=ai(V,{mode:"hidden",children:c.children}),c.subtreeFlags=V.subtreeFlags&65011712,K!==null?p=ai(K,p):(p=dr(p,A,s,null),p.flags|=2),p.return=a,c.return=a,c.sibling=p,a.child=c,c=p,p=a.child,A=i.child.memoizedState,A===null?A=Zc(s):(V=A.cachePool,V!==null?(K=It._currentValue,V=V.parent!==K?{parent:K,pool:K}:V):V=Cp(),A={baseLanes:A.baseLanes|s,cachePool:V}),p.memoizedState=A,p.childLanes=ef(i,w,s),a.memoizedState=Jc,c):(Ri(a),s=i.child,i=s.sibling,s=ai(s,{mode:"visible",children:c.children}),s.return=a,s.sibling=null,i!==null&&(w=a.deletions,w===null?(a.deletions=[i],a.flags|=16):w.push(i)),a.child=s,a.memoizedState=null,s)}function tf(i,a){return a=yl({mode:"visible",children:a},i.mode),a.return=i,i.child=a}function yl(i,a){return i=un(22,i,null,a),i.lanes=0,i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},i}function nf(i,a,s){return sa(a,i.child,null,s),i=tf(a,a.pendingProps.children),i.flags|=2,a.memoizedState=null,i}function Og(i,a,s){i.lanes|=a;var c=i.alternate;c!==null&&(c.lanes|=a),bc(i.return,a,s)}function rf(i,a,s,c,p){var b=i.memoizedState;b===null?i.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:c,tail:s,tailMode:p}:(b.isBackwards=a,b.rendering=null,b.renderingStartTime=0,b.last=c,b.tail=s,b.tailMode=p)}function Fg(i,a,s){var c=a.pendingProps,p=c.revealOrder,b=c.tail;if(Bt(i,a,c.children,s),c=kt.current,(c&2)!==0)c=c&1|2,a.flags|=128;else{if(i!==null&&(i.flags&128)!==0)e:for(i=a.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&Og(i,s,a);else if(i.tag===19)Og(i,s,a);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===a)break e;for(;i.sibling===null;){if(i.return===null||i.return===a)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}c&=1}switch(D(kt,c),p){case"forwards":for(s=a.child,p=null;s!==null;)i=s.alternate,i!==null&&ml(i)===null&&(p=s),s=s.sibling;s=p,s===null?(p=a.child,a.child=null):(p=s.sibling,s.sibling=null),rf(a,!1,p,s,b);break;case"backwards":for(s=null,p=a.child,a.child=null;p!==null;){if(i=p.alternate,i!==null&&ml(i)===null){a.child=p;break}i=p.sibling,p.sibling=s,s=p,p=i}rf(a,!0,s,null,b);break;case"together":rf(a,!1,null,null,void 0);break;default:a.memoizedState=null}return a.child}function di(i,a,s){if(i!==null&&(a.dependencies=i.dependencies),Bi|=a.lanes,(s&a.childLanes)===0)if(i!==null){if(so(i,a,s,!1),(s&a.childLanes)===0)return null}else return null;if(i!==null&&a.child!==i.child)throw Error(r(153));if(a.child!==null){for(i=a.child,s=ai(i,i.pendingProps),a.child=s,s.return=a;i.sibling!==null;)i=i.sibling,s=s.sibling=ai(i,i.pendingProps),s.return=a;s.sibling=null}return a.child}function af(i,a){return(i.lanes&a)!==0?!0:(i=i.dependencies,!!(i!==null&&Qs(i)))}function rw(i,a,s){switch(a.tag){case 3:de(a,a.stateNode.containerInfo),Ei(a,It,i.memoizedState.cache),ao();break;case 27:case 5:Te(a);break;case 4:de(a,a.stateNode.containerInfo);break;case 10:Ei(a,a.type,a.memoizedProps.value);break;case 13:var c=a.memoizedState;if(c!==null)return c.dehydrated!==null?(Ri(a),a.flags|=128,null):(s&a.child.childLanes)!==0?Bg(i,a,s):(Ri(a),i=di(i,a,s),i!==null?i.sibling:null);Ri(a);break;case 19:var p=(i.flags&128)!==0;if(c=(s&a.childLanes)!==0,c||(so(i,a,s,!1),c=(s&a.childLanes)!==0),p){if(c)return Fg(i,a,s);a.flags|=128}if(p=a.memoizedState,p!==null&&(p.rendering=null,p.tail=null,p.lastEffect=null),D(kt,kt.current),c)break;return null;case 22:case 23:return a.lanes=0,Ng(i,a,s);case 24:Ei(a,It,i.memoizedState.cache)}return di(i,a,s)}function zg(i,a,s){if(i!==null)if(i.memoizedProps!==a.pendingProps)_t=!0;else{if(!af(i,s)&&(a.flags&128)===0)return _t=!1,rw(i,a,s);_t=(i.flags&131072)!==0}else _t=!1,Xe&&(a.flags&1048576)!==0&&gp(a,Ws,a.index);switch(a.lanes=0,a.tag){case 16:e:{i=a.pendingProps;var c=a.elementType,p=c._init;if(c=p(c._payload),a.type=c,typeof c=="function")mc(c)?(i=Tr(c,i),a.tag=1,a=Vg(null,a,c,i,s)):(a.tag=0,a=Qc(null,a,c,i,s));else{if(c!=null){if(p=c.$$typeof,p===z){a.tag=11,a=Ig(null,a,c,i,s);break e}else if(p===se){a.tag=14,a=kg(null,a,c,i,s);break e}}throw a=le(c)||c,Error(r(306,a,""))}}return a;case 0:return Qc(i,a,a.type,a.pendingProps,s);case 1:return c=a.type,p=Tr(c,a.pendingProps),Vg(i,a,c,p,s);case 3:e:{if(de(a,a.stateNode.containerInfo),i===null)throw Error(r(387));c=a.pendingProps;var b=a.memoizedState;p=b.element,Ac(i,a),po(a,c,null,s);var w=a.memoizedState;if(c=w.cache,Ei(a,It,c),c!==b.cache&&Tc(a,[It],s,!0),ho(),c=w.element,b.isDehydrated)if(b={element:c,isDehydrated:!1,cache:w.cache},a.updateQueue.baseState=b,a.memoizedState=b,a.flags&256){a=Pg(i,a,c,s);break e}else if(c!==p){p=Cn(Error(r(424)),a),oo(p),a=Pg(i,a,c,s);break e}else{switch(i=a.stateNode.containerInfo,i.nodeType){case 9:i=i.body;break;default:i=i.nodeName==="HTML"?i.ownerDocument.body:i}for(ht=Bn(i.firstChild),Wt=a,Xe=!0,pr=null,Yn=!0,s=xg(a,null,c,s),a.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling}else{if(ao(),c===p){a=di(i,a,s);break e}Bt(i,a,c,s)}a=a.child}return a;case 26:return gl(i,a),i===null?(s=Gy(a.type,null,a.pendingProps,null))?a.memoizedState=s:Xe||(s=a.type,i=a.pendingProps,c=Rl(re.current).createElement(s),c[bt]=a,c[Pt]=i,Ft(c,s,i),wt(c),a.stateNode=c):a.memoizedState=Gy(a.type,i.memoizedProps,a.pendingProps,i.memoizedState),null;case 27:return Te(a),i===null&&Xe&&(c=a.stateNode=jy(a.type,a.pendingProps,re.current),Wt=a,Yn=!0,p=ht,ji(a.type)?(Ff=p,ht=Bn(c.firstChild)):ht=p),Bt(i,a,a.pendingProps.children,s),gl(i,a),i===null&&(a.flags|=4194304),a.child;case 5:return i===null&&Xe&&((p=c=ht)&&(c=Nw(c,a.type,a.pendingProps,Yn),c!==null?(a.stateNode=c,Wt=a,ht=Bn(c.firstChild),Yn=!1,p=!0):p=!1),p||gr(a)),Te(a),p=a.type,b=a.pendingProps,w=i!==null?i.memoizedProps:null,c=b.children,Vf(p,b)?c=null:w!==null&&Vf(p,w)&&(a.flags|=32),a.memoizedState!==null&&(p=_c(i,a,WC,null,null,s),Bo._currentValue=p),gl(i,a),Bt(i,a,c,s),a.child;case 6:return i===null&&Xe&&((i=s=ht)&&(s=_w(s,a.pendingProps,Yn),s!==null?(a.stateNode=s,Wt=a,ht=null,i=!0):i=!1),i||gr(a)),null;case 13:return Bg(i,a,s);case 4:return de(a,a.stateNode.containerInfo),c=a.pendingProps,i===null?a.child=sa(a,null,c,s):Bt(i,a,c,s),a.child;case 11:return Ig(i,a,a.type,a.pendingProps,s);case 7:return Bt(i,a,a.pendingProps,s),a.child;case 8:return Bt(i,a,a.pendingProps.children,s),a.child;case 12:return Bt(i,a,a.pendingProps.children,s),a.child;case 10:return c=a.pendingProps,Ei(a,a.type,c.value),Bt(i,a,c.children,s),a.child;case 9:return p=a.type._context,c=a.pendingProps.children,xr(a),p=Ht(p),c=c(p),a.flags|=1,Bt(i,a,c,s),a.child;case 14:return kg(i,a,a.type,a.pendingProps,s);case 15:return Rg(i,a,a.type,a.pendingProps,s);case 19:return Fg(i,a,s);case 31:return c=a.pendingProps,s=a.mode,c={mode:c.mode,children:c.children},i===null?(s=yl(c,s),s.ref=a.ref,a.child=s,s.return=a,a=s):(s=ai(i.child,c),s.ref=a.ref,a.child=s,s.return=a,a=s),a;case 22:return Ng(i,a,s);case 24:return xr(a),c=Ht(It),i===null?(p=wc(),p===null&&(p=at,b=Sc(),p.pooledCache=b,b.refCount++,b!==null&&(p.pooledCacheLanes|=s),p=b),a.memoizedState={parent:c,cache:p},Ec(a),Ei(a,It,p)):((i.lanes&s)!==0&&(Ac(i,a),po(a,null,null,s),ho()),p=i.memoizedState,b=a.memoizedState,p.parent!==c?(p={parent:c,cache:c},a.memoizedState=p,a.lanes===0&&(a.memoizedState=a.updateQueue.baseState=p),Ei(a,It,c)):(c=b.cache,Ei(a,It,c),c!==p.cache&&Tc(a,[It],s,!0))),Bt(i,a,a.pendingProps.children,s),a.child;case 29:throw a.pendingProps}throw Error(r(156,a.tag))}function mi(i){i.flags|=4}function jg(i,a){if(a.type!=="stylesheet"||(a.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!Xy(a)){if(a=An.current,a!==null&&((Ue&4194048)===Ue?$n!==null:(Ue&62914560)!==Ue&&(Ue&536870912)===0||a!==$n))throw fo=Mc,wp;i.flags|=8192}}function xl(i,a){a!==null&&(i.flags|=4),i.flags&16384&&(a=i.tag!==22?ve():536870912,i.lanes|=a,fa|=a)}function So(i,a){if(!Xe)switch(i.tailMode){case"hidden":a=i.tail;for(var s=null;a!==null;)a.alternate!==null&&(s=a),a=a.sibling;s===null?i.tail=null:s.sibling=null;break;case"collapsed":s=i.tail;for(var c=null;s!==null;)s.alternate!==null&&(c=s),s=s.sibling;c===null?a||i.tail===null?i.tail=null:i.tail.sibling=null:c.sibling=null}}function ut(i){var a=i.alternate!==null&&i.alternate.child===i.child,s=0,c=0;if(a)for(var p=i.child;p!==null;)s|=p.lanes|p.childLanes,c|=p.subtreeFlags&65011712,c|=p.flags&65011712,p.return=i,p=p.sibling;else for(p=i.child;p!==null;)s|=p.lanes|p.childLanes,c|=p.subtreeFlags,c|=p.flags,p.return=i,p=p.sibling;return i.subtreeFlags|=c,i.childLanes=s,a}function aw(i,a,s){var c=a.pendingProps;switch(yc(a),a.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ut(a),null;case 1:return ut(a),null;case 3:return s=a.stateNode,c=null,i!==null&&(c=i.memoizedState.cache),a.memoizedState.cache!==c&&(a.flags|=2048),ui(It),Ce(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(i===null||i.child===null)&&(ro(a)?mi(a):i===null||i.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,vp())),ut(a),null;case 26:return s=a.memoizedState,i===null?(mi(a),s!==null?(ut(a),jg(a,s)):(ut(a),a.flags&=-16777217)):s?s!==i.memoizedState?(mi(a),ut(a),jg(a,s)):(ut(a),a.flags&=-16777217):(i.memoizedProps!==c&&mi(a),ut(a),a.flags&=-16777217),null;case 27:De(a),s=re.current;var p=a.type;if(i!==null&&a.stateNode!=null)i.memoizedProps!==c&&mi(a);else{if(!c){if(a.stateNode===null)throw Error(r(166));return ut(a),null}i=J.current,ro(a)?yp(a):(i=jy(p,c,s),a.stateNode=i,mi(a))}return ut(a),null;case 5:if(De(a),s=a.type,i!==null&&a.stateNode!=null)i.memoizedProps!==c&&mi(a);else{if(!c){if(a.stateNode===null)throw Error(r(166));return ut(a),null}if(i=J.current,ro(a))yp(a);else{switch(p=Rl(re.current),i){case 1:i=p.createElementNS("http://www.w3.org/2000/svg",s);break;case 2:i=p.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;default:switch(s){case"svg":i=p.createElementNS("http://www.w3.org/2000/svg",s);break;case"math":i=p.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;case"script":i=p.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild);break;case"select":i=typeof c.is=="string"?p.createElement("select",{is:c.is}):p.createElement("select"),c.multiple?i.multiple=!0:c.size&&(i.size=c.size);break;default:i=typeof c.is=="string"?p.createElement(s,{is:c.is}):p.createElement(s)}}i[bt]=a,i[Pt]=c;e:for(p=a.child;p!==null;){if(p.tag===5||p.tag===6)i.appendChild(p.stateNode);else if(p.tag!==4&&p.tag!==27&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===a)break e;for(;p.sibling===null;){if(p.return===null||p.return===a)break e;p=p.return}p.sibling.return=p.return,p=p.sibling}a.stateNode=i;e:switch(Ft(i,s,c),s){case"button":case"input":case"select":case"textarea":i=!!c.autoFocus;break e;case"img":i=!0;break e;default:i=!1}i&&mi(a)}}return ut(a),a.flags&=-16777217,null;case 6:if(i&&a.stateNode!=null)i.memoizedProps!==c&&mi(a);else{if(typeof c!="string"&&a.stateNode===null)throw Error(r(166));if(i=re.current,ro(a)){if(i=a.stateNode,s=a.memoizedProps,c=null,p=Wt,p!==null)switch(p.tag){case 27:case 5:c=p.memoizedProps}i[bt]=a,i=!!(i.nodeValue===s||c!==null&&c.suppressHydrationWarning===!0||Ly(i.nodeValue,s)),i||gr(a)}else i=Rl(i).createTextNode(c),i[bt]=a,a.stateNode=i}return ut(a),null;case 13:if(c=a.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(p=ro(a),c!==null&&c.dehydrated!==null){if(i===null){if(!p)throw Error(r(318));if(p=a.memoizedState,p=p!==null?p.dehydrated:null,!p)throw Error(r(317));p[bt]=a}else ao(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;ut(a),p=!1}else p=vp(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=p),p=!0;if(!p)return a.flags&256?(fi(a),a):(fi(a),null)}if(fi(a),(a.flags&128)!==0)return a.lanes=s,a;if(s=c!==null,i=i!==null&&i.memoizedState!==null,s){c=a.child,p=null,c.alternate!==null&&c.alternate.memoizedState!==null&&c.alternate.memoizedState.cachePool!==null&&(p=c.alternate.memoizedState.cachePool.pool);var b=null;c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(b=c.memoizedState.cachePool.pool),b!==p&&(c.flags|=2048)}return s!==i&&s&&(a.child.flags|=8192),xl(a,a.updateQueue),ut(a),null;case 4:return Ce(),i===null&&kf(a.stateNode.containerInfo),ut(a),null;case 10:return ui(a.type),ut(a),null;case 19:if(Y(kt),p=a.memoizedState,p===null)return ut(a),null;if(c=(a.flags&128)!==0,b=p.rendering,b===null)if(c)So(p,!1);else{if(pt!==0||i!==null&&(i.flags&128)!==0)for(i=a.child;i!==null;){if(b=ml(i),b!==null){for(a.flags|=128,So(p,!1),i=b.updateQueue,a.updateQueue=i,xl(a,i),a.subtreeFlags=0,i=s,s=a.child;s!==null;)pp(s,i),s=s.sibling;return D(kt,kt.current&1|2),a.child}i=i.sibling}p.tail!==null&&dt()>Tl&&(a.flags|=128,c=!0,So(p,!1),a.lanes=4194304)}else{if(!c)if(i=ml(b),i!==null){if(a.flags|=128,c=!0,i=i.updateQueue,a.updateQueue=i,xl(a,i),So(p,!0),p.tail===null&&p.tailMode==="hidden"&&!b.alternate&&!Xe)return ut(a),null}else 2*dt()-p.renderingStartTime>Tl&&s!==536870912&&(a.flags|=128,c=!0,So(p,!1),a.lanes=4194304);p.isBackwards?(b.sibling=a.child,a.child=b):(i=p.last,i!==null?i.sibling=b:a.child=b,p.last=b)}return p.tail!==null?(a=p.tail,p.rendering=a,p.tail=a.sibling,p.renderingStartTime=dt(),a.sibling=null,i=kt.current,D(kt,c?i&1|2:i&1),a):(ut(a),null);case 22:case 23:return fi(a),Rc(),c=a.memoizedState!==null,i!==null?i.memoizedState!==null!==c&&(a.flags|=8192):c&&(a.flags|=8192),c?(s&536870912)!==0&&(a.flags&128)===0&&(ut(a),a.subtreeFlags&6&&(a.flags|=8192)):ut(a),s=a.updateQueue,s!==null&&xl(a,s.retryQueue),s=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(s=i.memoizedState.cachePool.pool),c=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(c=a.memoizedState.cachePool.pool),c!==s&&(a.flags|=2048),i!==null&&Y(vr),null;case 24:return s=null,i!==null&&(s=i.memoizedState.cache),a.memoizedState.cache!==s&&(a.flags|=2048),ui(It),ut(a),null;case 25:return null;case 30:return null}throw Error(r(156,a.tag))}function ow(i,a){switch(yc(a),a.tag){case 1:return i=a.flags,i&65536?(a.flags=i&-65537|128,a):null;case 3:return ui(It),Ce(),i=a.flags,(i&65536)!==0&&(i&128)===0?(a.flags=i&-65537|128,a):null;case 26:case 27:case 5:return De(a),null;case 13:if(fi(a),i=a.memoizedState,i!==null&&i.dehydrated!==null){if(a.alternate===null)throw Error(r(340));ao()}return i=a.flags,i&65536?(a.flags=i&-65537|128,a):null;case 19:return Y(kt),null;case 4:return Ce(),null;case 10:return ui(a.type),null;case 22:case 23:return fi(a),Rc(),i!==null&&Y(vr),i=a.flags,i&65536?(a.flags=i&-65537|128,a):null;case 24:return ui(It),null;case 25:return null;default:return null}}function Hg(i,a){switch(yc(a),a.tag){case 3:ui(It),Ce();break;case 26:case 27:case 5:De(a);break;case 4:Ce();break;case 13:fi(a);break;case 19:Y(kt);break;case 10:ui(a.type);break;case 22:case 23:fi(a),Rc(),i!==null&&Y(vr);break;case 24:ui(It)}}function Co(i,a){try{var s=a.updateQueue,c=s!==null?s.lastEffect:null;if(c!==null){var p=c.next;s=p;do{if((s.tag&i)===i){c=void 0;var b=s.create,w=s.inst;c=b(),w.destroy=c}s=s.next}while(s!==p)}}catch(A){it(a,a.return,A)}}function _i(i,a,s){try{var c=a.updateQueue,p=c!==null?c.lastEffect:null;if(p!==null){var b=p.next;c=b;do{if((c.tag&i)===i){var w=c.inst,A=w.destroy;if(A!==void 0){w.destroy=void 0,p=a;var V=s,K=A;try{K()}catch(te){it(p,V,te)}}}c=c.next}while(c!==b)}}catch(te){it(a,a.return,te)}}function Ug(i){var a=i.updateQueue;if(a!==null){var s=i.stateNode;try{kp(a,s)}catch(c){it(i,i.return,c)}}}function Gg(i,a,s){s.props=Tr(i.type,i.memoizedProps),s.state=i.memoizedState;try{s.componentWillUnmount()}catch(c){it(i,a,c)}}function wo(i,a){try{var s=i.ref;if(s!==null){switch(i.tag){case 26:case 27:case 5:var c=i.stateNode;break;case 30:c=i.stateNode;break;default:c=i.stateNode}typeof s=="function"?i.refCleanup=s(c):s.current=c}}catch(p){it(i,a,p)}}function Kn(i,a){var s=i.ref,c=i.refCleanup;if(s!==null)if(typeof c=="function")try{c()}catch(p){it(i,a,p)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof s=="function")try{s(null)}catch(p){it(i,a,p)}else s.current=null}function qg(i){var a=i.type,s=i.memoizedProps,c=i.stateNode;try{e:switch(a){case"button":case"input":case"select":case"textarea":s.autoFocus&&c.focus();break e;case"img":s.src?c.src=s.src:s.srcSet&&(c.srcset=s.srcSet)}}catch(p){it(i,i.return,p)}}function of(i,a,s){try{var c=i.stateNode;Aw(c,i.type,s,a),c[Pt]=a}catch(p){it(i,i.return,p)}}function Yg(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&ji(i.type)||i.tag===4}function sf(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||Yg(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&ji(i.type)||i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function lf(i,a,s){var c=i.tag;if(c===5||c===6)i=i.stateNode,a?(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s).insertBefore(i,a):(a=s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,a.appendChild(i),s=s._reactRootContainer,s!=null||a.onclick!==null||(a.onclick=kl));else if(c!==4&&(c===27&&ji(i.type)&&(s=i.stateNode,a=null),i=i.child,i!==null))for(lf(i,a,s),i=i.sibling;i!==null;)lf(i,a,s),i=i.sibling}function vl(i,a,s){var c=i.tag;if(c===5||c===6)i=i.stateNode,a?s.insertBefore(i,a):s.appendChild(i);else if(c!==4&&(c===27&&ji(i.type)&&(s=i.stateNode),i=i.child,i!==null))for(vl(i,a,s),i=i.sibling;i!==null;)vl(i,a,s),i=i.sibling}function $g(i){var a=i.stateNode,s=i.memoizedProps;try{for(var c=i.type,p=a.attributes;p.length;)a.removeAttributeNode(p[0]);Ft(a,c,s),a[bt]=i,a[Pt]=s}catch(b){it(i,i.return,b)}}var hi=!1,St=!1,uf=!1,Kg=typeof WeakSet=="function"?WeakSet:Set,Lt=null;function sw(i,a){if(i=i.containerInfo,_f=Bl,i=ap(i),oc(i)){if("selectionStart"in i)var s={start:i.selectionStart,end:i.selectionEnd};else e:{s=(s=i.ownerDocument)&&s.defaultView||window;var c=s.getSelection&&s.getSelection();if(c&&c.rangeCount!==0){s=c.anchorNode;var p=c.anchorOffset,b=c.focusNode;c=c.focusOffset;try{s.nodeType,b.nodeType}catch{s=null;break e}var w=0,A=-1,V=-1,K=0,te=0,ae=i,X=null;t:for(;;){for(var W;ae!==s||p!==0&&ae.nodeType!==3||(A=w+p),ae!==b||c!==0&&ae.nodeType!==3||(V=w+c),ae.nodeType===3&&(w+=ae.nodeValue.length),(W=ae.firstChild)!==null;)X=ae,ae=W;for(;;){if(ae===i)break t;if(X===s&&++K===p&&(A=w),X===b&&++te===c&&(V=w),(W=ae.nextSibling)!==null)break;ae=X,X=ae.parentNode}ae=W}s=A===-1||V===-1?null:{start:A,end:V}}else s=null}s=s||{start:0,end:0}}else s=null;for(Lf={focusedElem:i,selectionRange:s},Bl=!1,Lt=a;Lt!==null;)if(a=Lt,i=a.child,(a.subtreeFlags&1024)!==0&&i!==null)i.return=a,Lt=i;else for(;Lt!==null;){switch(a=Lt,b=a.alternate,i=a.flags,a.tag){case 0:break;case 11:case 15:break;case 1:if((i&1024)!==0&&b!==null){i=void 0,s=a,p=b.memoizedProps,b=b.memoizedState,c=s.stateNode;try{var Ie=Tr(s.type,p,s.elementType===s.type);i=c.getSnapshotBeforeUpdate(Ie,b),c.__reactInternalSnapshotBeforeUpdate=i}catch(Ee){it(s,s.return,Ee)}}break;case 3:if((i&1024)!==0){if(i=a.stateNode.containerInfo,s=i.nodeType,s===9)Bf(i);else if(s===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":Bf(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(r(163))}if(i=a.sibling,i!==null){i.return=a.return,Lt=i;break}Lt=a.return}}function Xg(i,a,s){var c=s.flags;switch(s.tag){case 0:case 11:case 15:Li(i,s),c&4&&Co(5,s);break;case 1:if(Li(i,s),c&4)if(i=s.stateNode,a===null)try{i.componentDidMount()}catch(w){it(s,s.return,w)}else{var p=Tr(s.type,a.memoizedProps);a=a.memoizedState;try{i.componentDidUpdate(p,a,i.__reactInternalSnapshotBeforeUpdate)}catch(w){it(s,s.return,w)}}c&64&&Ug(s),c&512&&wo(s,s.return);break;case 3:if(Li(i,s),c&64&&(i=s.updateQueue,i!==null)){if(a=null,s.child!==null)switch(s.child.tag){case 27:case 5:a=s.child.stateNode;break;case 1:a=s.child.stateNode}try{kp(i,a)}catch(w){it(s,s.return,w)}}break;case 27:a===null&&c&4&&$g(s);case 26:case 5:Li(i,s),a===null&&c&4&&qg(s),c&512&&wo(s,s.return);break;case 12:Li(i,s);break;case 13:Li(i,s),c&4&&Jg(i,s),c&64&&(i=s.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(s=gw.bind(null,s),Lw(i,s))));break;case 22:if(c=s.memoizedState!==null||hi,!c){a=a!==null&&a.memoizedState!==null||St,p=hi;var b=St;hi=c,(St=a)&&!b?Vi(i,s,(s.subtreeFlags&8772)!==0):Li(i,s),hi=p,St=b}break;case 30:break;default:Li(i,s)}}function Wg(i){var a=i.alternate;a!==null&&(i.alternate=null,Wg(a)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(a=i.stateNode,a!==null&&_s(a)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var lt=null,tn=!1;function pi(i,a,s){for(s=s.child;s!==null;)Qg(i,a,s),s=s.sibling}function Qg(i,a,s){if(ue&&typeof ue.onCommitFiberUnmount=="function")try{ue.onCommitFiberUnmount(ee,s)}catch{}switch(s.tag){case 26:St||Kn(s,a),pi(i,a,s),s.memoizedState?s.memoizedState.count--:s.stateNode&&(s=s.stateNode,s.parentNode.removeChild(s));break;case 27:St||Kn(s,a);var c=lt,p=tn;ji(s.type)&&(lt=s.stateNode,tn=!1),pi(i,a,s),_o(s.stateNode),lt=c,tn=p;break;case 5:St||Kn(s,a);case 6:if(c=lt,p=tn,lt=null,pi(i,a,s),lt=c,tn=p,lt!==null)if(tn)try{(lt.nodeType===9?lt.body:lt.nodeName==="HTML"?lt.ownerDocument.body:lt).removeChild(s.stateNode)}catch(b){it(s,a,b)}else try{lt.removeChild(s.stateNode)}catch(b){it(s,a,b)}break;case 18:lt!==null&&(tn?(i=lt,Fy(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,s.stateNode),jo(i)):Fy(lt,s.stateNode));break;case 4:c=lt,p=tn,lt=s.stateNode.containerInfo,tn=!0,pi(i,a,s),lt=c,tn=p;break;case 0:case 11:case 14:case 15:St||_i(2,s,a),St||_i(4,s,a),pi(i,a,s);break;case 1:St||(Kn(s,a),c=s.stateNode,typeof c.componentWillUnmount=="function"&&Gg(s,a,c)),pi(i,a,s);break;case 21:pi(i,a,s);break;case 22:St=(c=St)||s.memoizedState!==null,pi(i,a,s),St=c;break;default:pi(i,a,s)}}function Jg(i,a){if(a.memoizedState===null&&(i=a.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{jo(i)}catch(s){it(a,a.return,s)}}function lw(i){switch(i.tag){case 13:case 19:var a=i.stateNode;return a===null&&(a=i.stateNode=new Kg),a;case 22:return i=i.stateNode,a=i._retryCache,a===null&&(a=i._retryCache=new Kg),a;default:throw Error(r(435,i.tag))}}function cf(i,a){var s=lw(i);a.forEach(function(c){var p=yw.bind(null,i,c);s.has(c)||(s.add(c),c.then(p,p))})}function cn(i,a){var s=a.deletions;if(s!==null)for(var c=0;c<s.length;c++){var p=s[c],b=i,w=a,A=w;e:for(;A!==null;){switch(A.tag){case 27:if(ji(A.type)){lt=A.stateNode,tn=!1;break e}break;case 5:lt=A.stateNode,tn=!1;break e;case 3:case 4:lt=A.stateNode.containerInfo,tn=!0;break e}A=A.return}if(lt===null)throw Error(r(160));Qg(b,w,p),lt=null,tn=!1,b=p.alternate,b!==null&&(b.return=null),p.return=null}if(a.subtreeFlags&13878)for(a=a.child;a!==null;)Zg(a,i),a=a.sibling}var Pn=null;function Zg(i,a){var s=i.alternate,c=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:cn(a,i),fn(i),c&4&&(_i(3,i,i.return),Co(3,i),_i(5,i,i.return));break;case 1:cn(a,i),fn(i),c&512&&(St||s===null||Kn(s,s.return)),c&64&&hi&&(i=i.updateQueue,i!==null&&(c=i.callbacks,c!==null&&(s=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=s===null?c:s.concat(c))));break;case 26:var p=Pn;if(cn(a,i),fn(i),c&512&&(St||s===null||Kn(s,s.return)),c&4){var b=s!==null?s.memoizedState:null;if(c=i.memoizedState,s===null)if(c===null)if(i.stateNode===null){e:{c=i.type,s=i.memoizedProps,p=p.ownerDocument||p;t:switch(c){case"title":b=p.getElementsByTagName("title")[0],(!b||b[sr]||b[bt]||b.namespaceURI==="http://www.w3.org/2000/svg"||b.hasAttribute("itemprop"))&&(b=p.createElement(c),p.head.insertBefore(b,p.querySelector("head > title"))),Ft(b,c,s),b[bt]=i,wt(b),c=b;break e;case"link":var w=$y("link","href",p).get(c+(s.href||""));if(w){for(var A=0;A<w.length;A++)if(b=w[A],b.getAttribute("href")===(s.href==null||s.href===""?null:s.href)&&b.getAttribute("rel")===(s.rel==null?null:s.rel)&&b.getAttribute("title")===(s.title==null?null:s.title)&&b.getAttribute("crossorigin")===(s.crossOrigin==null?null:s.crossOrigin)){w.splice(A,1);break t}}b=p.createElement(c),Ft(b,c,s),p.head.appendChild(b);break;case"meta":if(w=$y("meta","content",p).get(c+(s.content||""))){for(A=0;A<w.length;A++)if(b=w[A],b.getAttribute("content")===(s.content==null?null:""+s.content)&&b.getAttribute("name")===(s.name==null?null:s.name)&&b.getAttribute("property")===(s.property==null?null:s.property)&&b.getAttribute("http-equiv")===(s.httpEquiv==null?null:s.httpEquiv)&&b.getAttribute("charset")===(s.charSet==null?null:s.charSet)){w.splice(A,1);break t}}b=p.createElement(c),Ft(b,c,s),p.head.appendChild(b);break;default:throw Error(r(468,c))}b[bt]=i,wt(b),c=b}i.stateNode=c}else Ky(p,i.type,i.stateNode);else i.stateNode=Yy(p,c,i.memoizedProps);else b!==c?(b===null?s.stateNode!==null&&(s=s.stateNode,s.parentNode.removeChild(s)):b.count--,c===null?Ky(p,i.type,i.stateNode):Yy(p,c,i.memoizedProps)):c===null&&i.stateNode!==null&&of(i,i.memoizedProps,s.memoizedProps)}break;case 27:cn(a,i),fn(i),c&512&&(St||s===null||Kn(s,s.return)),s!==null&&c&4&&of(i,i.memoizedProps,s.memoizedProps);break;case 5:if(cn(a,i),fn(i),c&512&&(St||s===null||Kn(s,s.return)),i.flags&32){p=i.stateNode;try{Ur(p,"")}catch(W){it(i,i.return,W)}}c&4&&i.stateNode!=null&&(p=i.memoizedProps,of(i,p,s!==null?s.memoizedProps:p)),c&1024&&(uf=!0);break;case 6:if(cn(a,i),fn(i),c&4){if(i.stateNode===null)throw Error(r(162));c=i.memoizedProps,s=i.stateNode;try{s.nodeValue=c}catch(W){it(i,i.return,W)}}break;case 3:if(Ll=null,p=Pn,Pn=Nl(a.containerInfo),cn(a,i),Pn=p,fn(i),c&4&&s!==null&&s.memoizedState.isDehydrated)try{jo(a.containerInfo)}catch(W){it(i,i.return,W)}uf&&(uf=!1,ey(i));break;case 4:c=Pn,Pn=Nl(i.stateNode.containerInfo),cn(a,i),fn(i),Pn=c;break;case 12:cn(a,i),fn(i);break;case 13:cn(a,i),fn(i),i.child.flags&8192&&i.memoizedState!==null!=(s!==null&&s.memoizedState!==null)&&(gf=dt()),c&4&&(c=i.updateQueue,c!==null&&(i.updateQueue=null,cf(i,c)));break;case 22:p=i.memoizedState!==null;var V=s!==null&&s.memoizedState!==null,K=hi,te=St;if(hi=K||p,St=te||V,cn(a,i),St=te,hi=K,fn(i),c&8192)e:for(a=i.stateNode,a._visibility=p?a._visibility&-2:a._visibility|1,p&&(s===null||V||hi||St||Sr(i)),s=null,a=i;;){if(a.tag===5||a.tag===26){if(s===null){V=s=a;try{if(b=V.stateNode,p)w=b.style,typeof w.setProperty=="function"?w.setProperty("display","none","important"):w.display="none";else{A=V.stateNode;var ae=V.memoizedProps.style,X=ae!=null&&ae.hasOwnProperty("display")?ae.display:null;A.style.display=X==null||typeof X=="boolean"?"":(""+X).trim()}}catch(W){it(V,V.return,W)}}}else if(a.tag===6){if(s===null){V=a;try{V.stateNode.nodeValue=p?"":V.memoizedProps}catch(W){it(V,V.return,W)}}}else if((a.tag!==22&&a.tag!==23||a.memoizedState===null||a===i)&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===i)break e;for(;a.sibling===null;){if(a.return===null||a.return===i)break e;s===a&&(s=null),a=a.return}s===a&&(s=null),a.sibling.return=a.return,a=a.sibling}c&4&&(c=i.updateQueue,c!==null&&(s=c.retryQueue,s!==null&&(c.retryQueue=null,cf(i,s))));break;case 19:cn(a,i),fn(i),c&4&&(c=i.updateQueue,c!==null&&(i.updateQueue=null,cf(i,c)));break;case 30:break;case 21:break;default:cn(a,i),fn(i)}}function fn(i){var a=i.flags;if(a&2){try{for(var s,c=i.return;c!==null;){if(Yg(c)){s=c;break}c=c.return}if(s==null)throw Error(r(160));switch(s.tag){case 27:var p=s.stateNode,b=sf(i);vl(i,b,p);break;case 5:var w=s.stateNode;s.flags&32&&(Ur(w,""),s.flags&=-33);var A=sf(i);vl(i,A,w);break;case 3:case 4:var V=s.stateNode.containerInfo,K=sf(i);lf(i,K,V);break;default:throw Error(r(161))}}catch(te){it(i,i.return,te)}i.flags&=-3}a&4096&&(i.flags&=-4097)}function ey(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var a=i;ey(a),a.tag===5&&a.flags&1024&&a.stateNode.reset(),i=i.sibling}}function Li(i,a){if(a.subtreeFlags&8772)for(a=a.child;a!==null;)Xg(i,a.alternate,a),a=a.sibling}function Sr(i){for(i=i.child;i!==null;){var a=i;switch(a.tag){case 0:case 11:case 14:case 15:_i(4,a,a.return),Sr(a);break;case 1:Kn(a,a.return);var s=a.stateNode;typeof s.componentWillUnmount=="function"&&Gg(a,a.return,s),Sr(a);break;case 27:_o(a.stateNode);case 26:case 5:Kn(a,a.return),Sr(a);break;case 22:a.memoizedState===null&&Sr(a);break;case 30:Sr(a);break;default:Sr(a)}i=i.sibling}}function Vi(i,a,s){for(s=s&&(a.subtreeFlags&8772)!==0,a=a.child;a!==null;){var c=a.alternate,p=i,b=a,w=b.flags;switch(b.tag){case 0:case 11:case 15:Vi(p,b,s),Co(4,b);break;case 1:if(Vi(p,b,s),c=b,p=c.stateNode,typeof p.componentDidMount=="function")try{p.componentDidMount()}catch(K){it(c,c.return,K)}if(c=b,p=c.updateQueue,p!==null){var A=c.stateNode;try{var V=p.shared.hiddenCallbacks;if(V!==null)for(p.shared.hiddenCallbacks=null,p=0;p<V.length;p++)Ip(V[p],A)}catch(K){it(c,c.return,K)}}s&&w&64&&Ug(b),wo(b,b.return);break;case 27:$g(b);case 26:case 5:Vi(p,b,s),s&&c===null&&w&4&&qg(b),wo(b,b.return);break;case 12:Vi(p,b,s);break;case 13:Vi(p,b,s),s&&w&4&&Jg(p,b);break;case 22:b.memoizedState===null&&Vi(p,b,s),wo(b,b.return);break;case 30:break;default:Vi(p,b,s)}a=a.sibling}}function ff(i,a){var s=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(s=i.memoizedState.cachePool.pool),i=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(i=a.memoizedState.cachePool.pool),i!==s&&(i!=null&&i.refCount++,s!=null&&lo(s))}function df(i,a){i=null,a.alternate!==null&&(i=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==i&&(a.refCount++,i!=null&&lo(i))}function Xn(i,a,s,c){if(a.subtreeFlags&10256)for(a=a.child;a!==null;)ty(i,a,s,c),a=a.sibling}function ty(i,a,s,c){var p=a.flags;switch(a.tag){case 0:case 11:case 15:Xn(i,a,s,c),p&2048&&Co(9,a);break;case 1:Xn(i,a,s,c);break;case 3:Xn(i,a,s,c),p&2048&&(i=null,a.alternate!==null&&(i=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==i&&(a.refCount++,i!=null&&lo(i)));break;case 12:if(p&2048){Xn(i,a,s,c),i=a.stateNode;try{var b=a.memoizedProps,w=b.id,A=b.onPostCommit;typeof A=="function"&&A(w,a.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(V){it(a,a.return,V)}}else Xn(i,a,s,c);break;case 13:Xn(i,a,s,c);break;case 23:break;case 22:b=a.stateNode,w=a.alternate,a.memoizedState!==null?b._visibility&2?Xn(i,a,s,c):Mo(i,a):b._visibility&2?Xn(i,a,s,c):(b._visibility|=2,la(i,a,s,c,(a.subtreeFlags&10256)!==0)),p&2048&&ff(w,a);break;case 24:Xn(i,a,s,c),p&2048&&df(a.alternate,a);break;default:Xn(i,a,s,c)}}function la(i,a,s,c,p){for(p=p&&(a.subtreeFlags&10256)!==0,a=a.child;a!==null;){var b=i,w=a,A=s,V=c,K=w.flags;switch(w.tag){case 0:case 11:case 15:la(b,w,A,V,p),Co(8,w);break;case 23:break;case 22:var te=w.stateNode;w.memoizedState!==null?te._visibility&2?la(b,w,A,V,p):Mo(b,w):(te._visibility|=2,la(b,w,A,V,p)),p&&K&2048&&ff(w.alternate,w);break;case 24:la(b,w,A,V,p),p&&K&2048&&df(w.alternate,w);break;default:la(b,w,A,V,p)}a=a.sibling}}function Mo(i,a){if(a.subtreeFlags&10256)for(a=a.child;a!==null;){var s=i,c=a,p=c.flags;switch(c.tag){case 22:Mo(s,c),p&2048&&ff(c.alternate,c);break;case 24:Mo(s,c),p&2048&&df(c.alternate,c);break;default:Mo(s,c)}a=a.sibling}}var Eo=8192;function ua(i){if(i.subtreeFlags&Eo)for(i=i.child;i!==null;)ny(i),i=i.sibling}function ny(i){switch(i.tag){case 26:ua(i),i.flags&Eo&&i.memoizedState!==null&&$w(Pn,i.memoizedState,i.memoizedProps);break;case 5:ua(i);break;case 3:case 4:var a=Pn;Pn=Nl(i.stateNode.containerInfo),ua(i),Pn=a;break;case 22:i.memoizedState===null&&(a=i.alternate,a!==null&&a.memoizedState!==null?(a=Eo,Eo=16777216,ua(i),Eo=a):ua(i));break;default:ua(i)}}function iy(i){var a=i.alternate;if(a!==null&&(i=a.child,i!==null)){a.child=null;do a=i.sibling,i.sibling=null,i=a;while(i!==null)}}function Ao(i){var a=i.deletions;if((i.flags&16)!==0){if(a!==null)for(var s=0;s<a.length;s++){var c=a[s];Lt=c,ay(c,i)}iy(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)ry(i),i=i.sibling}function ry(i){switch(i.tag){case 0:case 11:case 15:Ao(i),i.flags&2048&&_i(9,i,i.return);break;case 3:Ao(i);break;case 12:Ao(i);break;case 22:var a=i.stateNode;i.memoizedState!==null&&a._visibility&2&&(i.return===null||i.return.tag!==13)?(a._visibility&=-3,bl(i)):Ao(i);break;default:Ao(i)}}function bl(i){var a=i.deletions;if((i.flags&16)!==0){if(a!==null)for(var s=0;s<a.length;s++){var c=a[s];Lt=c,ay(c,i)}iy(i)}for(i=i.child;i!==null;){switch(a=i,a.tag){case 0:case 11:case 15:_i(8,a,a.return),bl(a);break;case 22:s=a.stateNode,s._visibility&2&&(s._visibility&=-3,bl(a));break;default:bl(a)}i=i.sibling}}function ay(i,a){for(;Lt!==null;){var s=Lt;switch(s.tag){case 0:case 11:case 15:_i(8,s,a);break;case 23:case 22:if(s.memoizedState!==null&&s.memoizedState.cachePool!==null){var c=s.memoizedState.cachePool.pool;c!=null&&c.refCount++}break;case 24:lo(s.memoizedState.cache)}if(c=s.child,c!==null)c.return=s,Lt=c;else e:for(s=i;Lt!==null;){c=Lt;var p=c.sibling,b=c.return;if(Wg(c),c===s){Lt=null;break e}if(p!==null){p.return=b,Lt=p;break e}Lt=b}}}var uw={getCacheForType:function(i){var a=Ht(It),s=a.data.get(i);return s===void 0&&(s=i(),a.data.set(i,s)),s}},cw=typeof WeakMap=="function"?WeakMap:Map,Je=0,at=null,Oe=null,Ue=0,Ze=0,dn=null,Pi=!1,ca=!1,mf=!1,gi=0,pt=0,Bi=0,Cr=0,hf=0,Dn=0,fa=0,Do=null,nn=null,pf=!1,gf=0,Tl=1/0,Sl=null,Oi=null,Ot=0,Fi=null,da=null,ma=0,yf=0,xf=null,oy=null,Io=0,vf=null;function mn(){if((Je&2)!==0&&Ue!==0)return Ue&-Ue;if(q.T!==null){var i=ea;return i!==0?i:Ef()}return Ns()}function sy(){Dn===0&&(Dn=(Ue&536870912)===0||Xe?ge():536870912);var i=An.current;return i!==null&&(i.flags|=32),Dn}function hn(i,a,s){(i===at&&(Ze===2||Ze===9)||i.cancelPendingCommit!==null)&&(ha(i,0),zi(i,Ue,Dn,!1)),Rt(i,s),((Je&2)===0||i!==at)&&(i===at&&((Je&2)===0&&(Cr|=s),pt===4&&zi(i,Ue,Dn,!1)),Wn(i))}function ly(i,a,s){if((Je&6)!==0)throw Error(r(327));var c=!s&&(a&124)===0&&(a&i.expiredLanes)===0||Xt(i,a),p=c?mw(i,a):Sf(i,a,!0),b=c;do{if(p===0){ca&&!c&&zi(i,a,0,!1);break}else{if(s=i.current.alternate,b&&!fw(s)){p=Sf(i,a,!1),b=!1;continue}if(p===2){if(b=a,i.errorRecoveryDisabledLanes&b)var w=0;else w=i.pendingLanes&-536870913,w=w!==0?w:w&536870912?536870912:0;if(w!==0){a=w;e:{var A=i;p=Do;var V=A.current.memoizedState.isDehydrated;if(V&&(ha(A,w).flags|=256),w=Sf(A,w,!1),w!==2){if(mf&&!V){A.errorRecoveryDisabledLanes|=b,Cr|=b,p=4;break e}b=nn,nn=p,b!==null&&(nn===null?nn=b:nn.push.apply(nn,b))}p=w}if(b=!1,p!==2)continue}}if(p===1){ha(i,0),zi(i,a,0,!0);break}e:{switch(c=i,b=p,b){case 0:case 1:throw Error(r(345));case 4:if((a&4194048)!==a)break;case 6:zi(c,a,Dn,!Pi);break e;case 2:nn=null;break;case 3:case 5:break;default:throw Error(r(329))}if((a&62914560)===a&&(p=gf+300-dt(),10<p)){if(zi(c,a,Dn,!Pi),vt(c,0,!0)!==0)break e;c.timeoutHandle=By(uy.bind(null,c,s,nn,Sl,pf,a,Dn,Cr,fa,Pi,b,2,-0,0),p);break e}uy(c,s,nn,Sl,pf,a,Dn,Cr,fa,Pi,b,0,-0,0)}}break}while(!0);Wn(i)}function uy(i,a,s,c,p,b,w,A,V,K,te,ae,X,W){if(i.timeoutHandle=-1,ae=a.subtreeFlags,(ae&8192||(ae&16785408)===16785408)&&(Po={stylesheets:null,count:0,unsuspend:Yw},ny(a),ae=Kw(),ae!==null)){i.cancelPendingCommit=ae(gy.bind(null,i,a,b,s,c,p,w,A,V,te,1,X,W)),zi(i,b,w,!K);return}gy(i,a,b,s,c,p,w,A,V)}function fw(i){for(var a=i;;){var s=a.tag;if((s===0||s===11||s===15)&&a.flags&16384&&(s=a.updateQueue,s!==null&&(s=s.stores,s!==null)))for(var c=0;c<s.length;c++){var p=s[c],b=p.getSnapshot;p=p.value;try{if(!ln(b(),p))return!1}catch{return!1}}if(s=a.child,a.subtreeFlags&16384&&s!==null)s.return=a,a=s;else{if(a===i)break;for(;a.sibling===null;){if(a.return===null||a.return===i)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function zi(i,a,s,c){a&=~hf,a&=~Cr,i.suspendedLanes|=a,i.pingedLanes&=~a,c&&(i.warmLanes|=a),c=i.expirationTimes;for(var p=a;0<p;){var b=31-Me(p),w=1<<b;c[b]=-1,p&=~w}s!==0&&ks(i,s,a)}function Cl(){return(Je&6)===0?(ko(0),!1):!0}function bf(){if(Oe!==null){if(Ze===0)var i=Oe.return;else i=Oe,li=yr=null,Pc(i),oa=null,bo=0,i=Oe;for(;i!==null;)Hg(i.alternate,i),i=i.return;Oe=null}}function ha(i,a){var s=i.timeoutHandle;s!==-1&&(i.timeoutHandle=-1,Iw(s)),s=i.cancelPendingCommit,s!==null&&(i.cancelPendingCommit=null,s()),bf(),at=i,Oe=s=ai(i.current,null),Ue=a,Ze=0,dn=null,Pi=!1,ca=Xt(i,a),mf=!1,fa=Dn=hf=Cr=Bi=pt=0,nn=Do=null,pf=!1,(a&8)!==0&&(a|=a&32);var c=i.entangledLanes;if(c!==0)for(i=i.entanglements,c&=a;0<c;){var p=31-Me(c),b=1<<p;a|=i[p],c&=~b}return gi=a,qs(),s}function cy(i,a){Ve=null,q.H=cl,a===co||a===el?(a=Ap(),Ze=3):a===wp?(a=Ap(),Ze=4):Ze=a===Dg?8:a!==null&&typeof a=="object"&&typeof a.then=="function"?6:1,dn=a,Oe===null&&(pt=1,pl(i,Cn(a,i.current)))}function fy(){var i=q.H;return q.H=cl,i===null?cl:i}function dy(){var i=q.A;return q.A=uw,i}function Tf(){pt=4,Pi||(Ue&4194048)!==Ue&&An.current!==null||(ca=!0),(Bi&134217727)===0&&(Cr&134217727)===0||at===null||zi(at,Ue,Dn,!1)}function Sf(i,a,s){var c=Je;Je|=2;var p=fy(),b=dy();(at!==i||Ue!==a)&&(Sl=null,ha(i,a)),a=!1;var w=pt;e:do try{if(Ze!==0&&Oe!==null){var A=Oe,V=dn;switch(Ze){case 8:bf(),w=6;break e;case 3:case 2:case 9:case 6:An.current===null&&(a=!0);var K=Ze;if(Ze=0,dn=null,pa(i,A,V,K),s&&ca){w=0;break e}break;default:K=Ze,Ze=0,dn=null,pa(i,A,V,K)}}dw(),w=pt;break}catch(te){cy(i,te)}while(!0);return a&&i.shellSuspendCounter++,li=yr=null,Je=c,q.H=p,q.A=b,Oe===null&&(at=null,Ue=0,qs()),w}function dw(){for(;Oe!==null;)my(Oe)}function mw(i,a){var s=Je;Je|=2;var c=fy(),p=dy();at!==i||Ue!==a?(Sl=null,Tl=dt()+500,ha(i,a)):ca=Xt(i,a);e:do try{if(Ze!==0&&Oe!==null){a=Oe;var b=dn;t:switch(Ze){case 1:Ze=0,dn=null,pa(i,a,b,1);break;case 2:case 9:if(Mp(b)){Ze=0,dn=null,hy(a);break}a=function(){Ze!==2&&Ze!==9||at!==i||(Ze=7),Wn(i)},b.then(a,a);break e;case 3:Ze=7;break e;case 4:Ze=5;break e;case 7:Mp(b)?(Ze=0,dn=null,hy(a)):(Ze=0,dn=null,pa(i,a,b,7));break;case 5:var w=null;switch(Oe.tag){case 26:w=Oe.memoizedState;case 5:case 27:var A=Oe;if(!w||Xy(w)){Ze=0,dn=null;var V=A.sibling;if(V!==null)Oe=V;else{var K=A.return;K!==null?(Oe=K,wl(K)):Oe=null}break t}}Ze=0,dn=null,pa(i,a,b,5);break;case 6:Ze=0,dn=null,pa(i,a,b,6);break;case 8:bf(),pt=6;break e;default:throw Error(r(462))}}hw();break}catch(te){cy(i,te)}while(!0);return li=yr=null,q.H=c,q.A=p,Je=s,Oe!==null?0:(at=null,Ue=0,qs(),pt)}function hw(){for(;Oe!==null&&!Qe();)my(Oe)}function my(i){var a=zg(i.alternate,i,gi);i.memoizedProps=i.pendingProps,a===null?wl(i):Oe=a}function hy(i){var a=i,s=a.alternate;switch(a.tag){case 15:case 0:a=Lg(s,a,a.pendingProps,a.type,void 0,Ue);break;case 11:a=Lg(s,a,a.pendingProps,a.type.render,a.ref,Ue);break;case 5:Pc(a);default:Hg(s,a),a=Oe=pp(a,gi),a=zg(s,a,gi)}i.memoizedProps=i.pendingProps,a===null?wl(i):Oe=a}function pa(i,a,s,c){li=yr=null,Pc(a),oa=null,bo=0;var p=a.return;try{if(iw(i,p,a,s,Ue)){pt=1,pl(i,Cn(s,i.current)),Oe=null;return}}catch(b){if(p!==null)throw Oe=p,b;pt=1,pl(i,Cn(s,i.current)),Oe=null;return}a.flags&32768?(Xe||c===1?i=!0:ca||(Ue&536870912)!==0?i=!1:(Pi=i=!0,(c===2||c===9||c===3||c===6)&&(c=An.current,c!==null&&c.tag===13&&(c.flags|=16384))),py(a,i)):wl(a)}function wl(i){var a=i;do{if((a.flags&32768)!==0){py(a,Pi);return}i=a.return;var s=aw(a.alternate,a,gi);if(s!==null){Oe=s;return}if(a=a.sibling,a!==null){Oe=a;return}Oe=a=i}while(a!==null);pt===0&&(pt=5)}function py(i,a){do{var s=ow(i.alternate,i);if(s!==null){s.flags&=32767,Oe=s;return}if(s=i.return,s!==null&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!a&&(i=i.sibling,i!==null)){Oe=i;return}Oe=i=s}while(i!==null);pt=6,Oe=null}function gy(i,a,s,c,p,b,w,A,V){i.cancelPendingCommit=null;do Ml();while(Ot!==0);if((Je&6)!==0)throw Error(r(327));if(a!==null){if(a===i.current)throw Error(r(177));if(b=a.lanes|a.childLanes,b|=fc,mt(i,s,b,w,A,V),i===at&&(Oe=at=null,Ue=0),da=a,Fi=i,ma=s,yf=b,xf=p,oy=c,(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,xw(Hn,function(){return Ty(),null})):(i.callbackNode=null,i.callbackPriority=0),c=(a.flags&13878)!==0,(a.subtreeFlags&13878)!==0||c){c=q.T,q.T=null,p=B.p,B.p=2,w=Je,Je|=4;try{sw(i,a,s)}finally{Je=w,B.p=p,q.T=c}}Ot=1,yy(),xy(),vy()}}function yy(){if(Ot===1){Ot=0;var i=Fi,a=da,s=(a.flags&13878)!==0;if((a.subtreeFlags&13878)!==0||s){s=q.T,q.T=null;var c=B.p;B.p=2;var p=Je;Je|=4;try{Zg(a,i);var b=Lf,w=ap(i.containerInfo),A=b.focusedElem,V=b.selectionRange;if(w!==A&&A&&A.ownerDocument&&rp(A.ownerDocument.documentElement,A)){if(V!==null&&oc(A)){var K=V.start,te=V.end;if(te===void 0&&(te=K),"selectionStart"in A)A.selectionStart=K,A.selectionEnd=Math.min(te,A.value.length);else{var ae=A.ownerDocument||document,X=ae&&ae.defaultView||window;if(X.getSelection){var W=X.getSelection(),Ie=A.textContent.length,Ee=Math.min(V.start,Ie),nt=V.end===void 0?Ee:Math.min(V.end,Ie);!W.extend&&Ee>nt&&(w=nt,nt=Ee,Ee=w);var U=ip(A,Ee),F=ip(A,nt);if(U&&F&&(W.rangeCount!==1||W.anchorNode!==U.node||W.anchorOffset!==U.offset||W.focusNode!==F.node||W.focusOffset!==F.offset)){var $=ae.createRange();$.setStart(U.node,U.offset),W.removeAllRanges(),Ee>nt?(W.addRange($),W.extend(F.node,F.offset)):($.setEnd(F.node,F.offset),W.addRange($))}}}}for(ae=[],W=A;W=W.parentNode;)W.nodeType===1&&ae.push({element:W,left:W.scrollLeft,top:W.scrollTop});for(typeof A.focus=="function"&&A.focus(),A=0;A<ae.length;A++){var ie=ae[A];ie.element.scrollLeft=ie.left,ie.element.scrollTop=ie.top}}Bl=!!_f,Lf=_f=null}finally{Je=p,B.p=c,q.T=s}}i.current=a,Ot=2}}function xy(){if(Ot===2){Ot=0;var i=Fi,a=da,s=(a.flags&8772)!==0;if((a.subtreeFlags&8772)!==0||s){s=q.T,q.T=null;var c=B.p;B.p=2;var p=Je;Je|=4;try{Xg(i,a.alternate,a)}finally{Je=p,B.p=c,q.T=s}}Ot=3}}function vy(){if(Ot===4||Ot===3){Ot=0,xt();var i=Fi,a=da,s=ma,c=oy;(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?Ot=5:(Ot=0,da=Fi=null,by(i,i.pendingLanes));var p=i.pendingLanes;if(p===0&&(Oi=null),Ya(s),a=a.stateNode,ue&&typeof ue.onCommitFiberRoot=="function")try{ue.onCommitFiberRoot(ee,a,void 0,(a.current.flags&128)===128)}catch{}if(c!==null){a=q.T,p=B.p,B.p=2,q.T=null;try{for(var b=i.onRecoverableError,w=0;w<c.length;w++){var A=c[w];b(A.value,{componentStack:A.stack})}}finally{q.T=a,B.p=p}}(ma&3)!==0&&Ml(),Wn(i),p=i.pendingLanes,(s&4194090)!==0&&(p&42)!==0?i===vf?Io++:(Io=0,vf=i):Io=0,ko(0)}}function by(i,a){(i.pooledCacheLanes&=a)===0&&(a=i.pooledCache,a!=null&&(i.pooledCache=null,lo(a)))}function Ml(i){return yy(),xy(),vy(),Ty()}function Ty(){if(Ot!==5)return!1;var i=Fi,a=yf;yf=0;var s=Ya(ma),c=q.T,p=B.p;try{B.p=32>s?32:s,q.T=null,s=xf,xf=null;var b=Fi,w=ma;if(Ot=0,da=Fi=null,ma=0,(Je&6)!==0)throw Error(r(331));var A=Je;if(Je|=4,ry(b.current),ty(b,b.current,w,s),Je=A,ko(0,!1),ue&&typeof ue.onPostCommitFiberRoot=="function")try{ue.onPostCommitFiberRoot(ee,b)}catch{}return!0}finally{B.p=p,q.T=c,by(i,a)}}function Sy(i,a,s){a=Cn(s,a),a=Wc(i.stateNode,a,2),i=Ii(i,a,2),i!==null&&(Rt(i,2),Wn(i))}function it(i,a,s){if(i.tag===3)Sy(i,i,s);else for(;a!==null;){if(a.tag===3){Sy(a,i,s);break}else if(a.tag===1){var c=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(Oi===null||!Oi.has(c))){i=Cn(s,i),s=Eg(2),c=Ii(a,s,2),c!==null&&(Ag(s,c,a,i),Rt(c,2),Wn(c));break}}a=a.return}}function Cf(i,a,s){var c=i.pingCache;if(c===null){c=i.pingCache=new cw;var p=new Set;c.set(a,p)}else p=c.get(a),p===void 0&&(p=new Set,c.set(a,p));p.has(s)||(mf=!0,p.add(s),i=pw.bind(null,i,a,s),a.then(i,i))}function pw(i,a,s){var c=i.pingCache;c!==null&&c.delete(a),i.pingedLanes|=i.suspendedLanes&s,i.warmLanes&=~s,at===i&&(Ue&s)===s&&(pt===4||pt===3&&(Ue&62914560)===Ue&&300>dt()-gf?(Je&2)===0&&ha(i,0):hf|=s,fa===Ue&&(fa=0)),Wn(i)}function Cy(i,a){a===0&&(a=ve()),i=Wr(i,a),i!==null&&(Rt(i,a),Wn(i))}function gw(i){var a=i.memoizedState,s=0;a!==null&&(s=a.retryLane),Cy(i,s)}function yw(i,a){var s=0;switch(i.tag){case 13:var c=i.stateNode,p=i.memoizedState;p!==null&&(s=p.retryLane);break;case 19:c=i.stateNode;break;case 22:c=i.stateNode._retryCache;break;default:throw Error(r(314))}c!==null&&c.delete(a),Cy(i,s)}function xw(i,a){return Le(i,a)}var El=null,ga=null,wf=!1,Al=!1,Mf=!1,wr=0;function Wn(i){i!==ga&&i.next===null&&(ga===null?El=ga=i:ga=ga.next=i),Al=!0,wf||(wf=!0,bw())}function ko(i,a){if(!Mf&&Al){Mf=!0;do for(var s=!1,c=El;c!==null;){if(i!==0){var p=c.pendingLanes;if(p===0)var b=0;else{var w=c.suspendedLanes,A=c.pingedLanes;b=(1<<31-Me(42|i)+1)-1,b&=p&~(w&~A),b=b&201326741?b&201326741|1:b?b|2:0}b!==0&&(s=!0,Ay(c,b))}else b=Ue,b=vt(c,c===at?b:0,c.cancelPendingCommit!==null||c.timeoutHandle!==-1),(b&3)===0||Xt(c,b)||(s=!0,Ay(c,b));c=c.next}while(s);Mf=!1}}function vw(){wy()}function wy(){Al=wf=!1;var i=0;wr!==0&&(Dw()&&(i=wr),wr=0);for(var a=dt(),s=null,c=El;c!==null;){var p=c.next,b=My(c,a);b===0?(c.next=null,s===null?El=p:s.next=p,p===null&&(ga=s)):(s=c,(i!==0||(b&3)!==0)&&(Al=!0)),c=p}ko(i)}function My(i,a){for(var s=i.suspendedLanes,c=i.pingedLanes,p=i.expirationTimes,b=i.pendingLanes&-62914561;0<b;){var w=31-Me(b),A=1<<w,V=p[w];V===-1?((A&s)===0||(A&c)!==0)&&(p[w]=Q(A,a)):V<=a&&(i.expiredLanes|=A),b&=~A}if(a=at,s=Ue,s=vt(i,i===a?s:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),c=i.callbackNode,s===0||i===a&&(Ze===2||Ze===9)||i.cancelPendingCommit!==null)return c!==null&&c!==null&&je(c),i.callbackNode=null,i.callbackPriority=0;if((s&3)===0||Xt(i,s)){if(a=s&-s,a===i.callbackPriority)return a;switch(c!==null&&je(c),Ya(s)){case 2:case 8:s=Si;break;case 32:s=Hn;break;case 268435456:s=Or;break;default:s=Hn}return c=Ey.bind(null,i),s=Le(s,c),i.callbackPriority=a,i.callbackNode=s,a}return c!==null&&c!==null&&je(c),i.callbackPriority=2,i.callbackNode=null,2}function Ey(i,a){if(Ot!==0&&Ot!==5)return i.callbackNode=null,i.callbackPriority=0,null;var s=i.callbackNode;if(Ml()&&i.callbackNode!==s)return null;var c=Ue;return c=vt(i,i===at?c:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),c===0?null:(ly(i,c,a),My(i,dt()),i.callbackNode!=null&&i.callbackNode===s?Ey.bind(null,i):null)}function Ay(i,a){if(Ml())return null;ly(i,a,!0)}function bw(){kw(function(){(Je&6)!==0?Le(or,vw):wy()})}function Ef(){return wr===0&&(wr=ge()),wr}function Dy(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:Os(""+i)}function Iy(i,a){var s=a.ownerDocument.createElement("input");return s.name=a.name,s.value=a.value,i.id&&s.setAttribute("form",i.id),a.parentNode.insertBefore(s,a),i=new FormData(i),s.parentNode.removeChild(s),i}function Tw(i,a,s,c,p){if(a==="submit"&&s&&s.stateNode===p){var b=Dy((p[Pt]||null).action),w=c.submitter;w&&(a=(a=w[Pt]||null)?Dy(a.formAction):w.getAttribute("formAction"),a!==null&&(b=a,w=null));var A=new Hs("action","action",null,c,p);i.push({event:A,listeners:[{instance:null,listener:function(){if(c.defaultPrevented){if(wr!==0){var V=w?Iy(p,w):new FormData(p);qc(s,{pending:!0,data:V,method:p.method,action:b},null,V)}}else typeof b=="function"&&(A.preventDefault(),V=w?Iy(p,w):new FormData(p),qc(s,{pending:!0,data:V,method:p.method,action:b},b,V))},currentTarget:p}]})}}for(var Af=0;Af<cc.length;Af++){var Df=cc[Af],Sw=Df.toLowerCase(),Cw=Df[0].toUpperCase()+Df.slice(1);Vn(Sw,"on"+Cw)}Vn(lp,"onAnimationEnd"),Vn(up,"onAnimationIteration"),Vn(cp,"onAnimationStart"),Vn("dblclick","onDoubleClick"),Vn("focusin","onFocus"),Vn("focusout","onBlur"),Vn(zC,"onTransitionRun"),Vn(jC,"onTransitionStart"),Vn(HC,"onTransitionCancel"),Vn(fp,"onTransitionEnd"),zr("onMouseEnter",["mouseout","mouseover"]),zr("onMouseLeave",["mouseout","mouseover"]),zr("onPointerEnter",["pointerout","pointerover"]),zr("onPointerLeave",["pointerout","pointerover"]),qn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),qn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),qn("onBeforeInput",["compositionend","keypress","textInput","paste"]),qn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),qn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),qn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ro="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ww=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ro));function ky(i,a){a=(a&4)!==0;for(var s=0;s<i.length;s++){var c=i[s],p=c.event;c=c.listeners;e:{var b=void 0;if(a)for(var w=c.length-1;0<=w;w--){var A=c[w],V=A.instance,K=A.currentTarget;if(A=A.listener,V!==b&&p.isPropagationStopped())break e;b=A,p.currentTarget=K;try{b(p)}catch(te){hl(te)}p.currentTarget=null,b=V}else for(w=0;w<c.length;w++){if(A=c[w],V=A.instance,K=A.currentTarget,A=A.listener,V!==b&&p.isPropagationStopped())break e;b=A,p.currentTarget=K;try{b(p)}catch(te){hl(te)}p.currentTarget=null,b=V}}}}function Fe(i,a){var s=a[$a];s===void 0&&(s=a[$a]=new Set);var c=i+"__bubble";s.has(c)||(Ry(a,i,2,!1),s.add(c))}function If(i,a,s){var c=0;a&&(c|=4),Ry(s,i,c,a)}var Dl="_reactListening"+Math.random().toString(36).slice(2);function kf(i){if(!i[Dl]){i[Dl]=!0,Fr.forEach(function(s){s!=="selectionchange"&&(ww.has(s)||If(s,!1,i),If(s,!0,i))});var a=i.nodeType===9?i:i.ownerDocument;a===null||a[Dl]||(a[Dl]=!0,If("selectionchange",!1,a))}}function Ry(i,a,s,c){switch(t0(a)){case 2:var p=Qw;break;case 8:p=Jw;break;default:p=Gf}s=p.bind(null,a,s,i),p=void 0,!Qu||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(p=!0),c?p!==void 0?i.addEventListener(a,s,{capture:!0,passive:p}):i.addEventListener(a,s,!0):p!==void 0?i.addEventListener(a,s,{passive:p}):i.addEventListener(a,s,!1)}function Rf(i,a,s,c,p){var b=c;if((a&1)===0&&(a&2)===0&&c!==null)e:for(;;){if(c===null)return;var w=c.tag;if(w===3||w===4){var A=c.stateNode.containerInfo;if(A===p)break;if(w===4)for(w=c.return;w!==null;){var V=w.tag;if((V===3||V===4)&&w.stateNode.containerInfo===p)return;w=w.return}for(;A!==null;){if(w=wi(A),w===null)return;if(V=w.tag,V===5||V===6||V===26||V===27){c=b=w;continue e}A=A.parentNode}}c=c.return}Oh(function(){var K=b,te=Xu(s),ae=[];e:{var X=dp.get(i);if(X!==void 0){var W=Hs,Ie=i;switch(i){case"keypress":if(zs(s)===0)break e;case"keydown":case"keyup":W=xC;break;case"focusin":Ie="focus",W=tc;break;case"focusout":Ie="blur",W=tc;break;case"beforeblur":case"afterblur":W=tc;break;case"click":if(s.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":W=jh;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":W=oC;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":W=TC;break;case lp:case up:case cp:W=uC;break;case fp:W=CC;break;case"scroll":case"scrollend":W=rC;break;case"wheel":W=MC;break;case"copy":case"cut":case"paste":W=fC;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":W=Uh;break;case"toggle":case"beforetoggle":W=AC}var Ee=(a&4)!==0,nt=!Ee&&(i==="scroll"||i==="scrollend"),U=Ee?X!==null?X+"Capture":null:X;Ee=[];for(var F=K,$;F!==null;){var ie=F;if($=ie.stateNode,ie=ie.tag,ie!==5&&ie!==26&&ie!==27||$===null||U===null||(ie=Xa(F,U),ie!=null&&Ee.push(No(F,ie,$))),nt)break;F=F.return}0<Ee.length&&(X=new W(X,Ie,null,s,te),ae.push({event:X,listeners:Ee}))}}if((a&7)===0){e:{if(X=i==="mouseover"||i==="pointerover",W=i==="mouseout"||i==="pointerout",X&&s!==Ku&&(Ie=s.relatedTarget||s.fromElement)&&(wi(Ie)||Ie[Ci]))break e;if((W||X)&&(X=te.window===te?te:(X=te.ownerDocument)?X.defaultView||X.parentWindow:window,W?(Ie=s.relatedTarget||s.toElement,W=K,Ie=Ie?wi(Ie):null,Ie!==null&&(nt=l(Ie),Ee=Ie.tag,Ie!==nt||Ee!==5&&Ee!==27&&Ee!==6)&&(Ie=null)):(W=null,Ie=K),W!==Ie)){if(Ee=jh,ie="onMouseLeave",U="onMouseEnter",F="mouse",(i==="pointerout"||i==="pointerover")&&(Ee=Uh,ie="onPointerLeave",U="onPointerEnter",F="pointer"),nt=W==null?X:bn(W),$=Ie==null?X:bn(Ie),X=new Ee(ie,F+"leave",W,s,te),X.target=nt,X.relatedTarget=$,ie=null,wi(te)===K&&(Ee=new Ee(U,F+"enter",Ie,s,te),Ee.target=$,Ee.relatedTarget=nt,ie=Ee),nt=ie,W&&Ie)t:{for(Ee=W,U=Ie,F=0,$=Ee;$;$=ya($))F++;for($=0,ie=U;ie;ie=ya(ie))$++;for(;0<F-$;)Ee=ya(Ee),F--;for(;0<$-F;)U=ya(U),$--;for(;F--;){if(Ee===U||U!==null&&Ee===U.alternate)break t;Ee=ya(Ee),U=ya(U)}Ee=null}else Ee=null;W!==null&&Ny(ae,X,W,Ee,!1),Ie!==null&&nt!==null&&Ny(ae,nt,Ie,Ee,!0)}}e:{if(X=K?bn(K):window,W=X.nodeName&&X.nodeName.toLowerCase(),W==="select"||W==="input"&&X.type==="file")var xe=Qh;else if(Xh(X))if(Jh)xe=BC;else{xe=VC;var Be=LC}else W=X.nodeName,!W||W.toLowerCase()!=="input"||X.type!=="checkbox"&&X.type!=="radio"?K&&$u(K.elementType)&&(xe=Qh):xe=PC;if(xe&&(xe=xe(i,K))){Wh(ae,xe,s,te);break e}Be&&Be(i,X,K),i==="focusout"&&K&&X.type==="number"&&K.memoizedProps.value!=null&&Yu(X,"number",X.value)}switch(Be=K?bn(K):window,i){case"focusin":(Xh(Be)||Be.contentEditable==="true")&&($r=Be,sc=K,io=null);break;case"focusout":io=sc=$r=null;break;case"mousedown":lc=!0;break;case"contextmenu":case"mouseup":case"dragend":lc=!1,op(ae,s,te);break;case"selectionchange":if(FC)break;case"keydown":case"keyup":op(ae,s,te)}var be;if(ic)e:{switch(i){case"compositionstart":var Ae="onCompositionStart";break e;case"compositionend":Ae="onCompositionEnd";break e;case"compositionupdate":Ae="onCompositionUpdate";break e}Ae=void 0}else Yr?$h(i,s)&&(Ae="onCompositionEnd"):i==="keydown"&&s.keyCode===229&&(Ae="onCompositionStart");Ae&&(Gh&&s.locale!=="ko"&&(Yr||Ae!=="onCompositionStart"?Ae==="onCompositionEnd"&&Yr&&(be=Fh()):(Mi=te,Ju="value"in Mi?Mi.value:Mi.textContent,Yr=!0)),Be=Il(K,Ae),0<Be.length&&(Ae=new Hh(Ae,i,null,s,te),ae.push({event:Ae,listeners:Be}),be?Ae.data=be:(be=Kh(s),be!==null&&(Ae.data=be)))),(be=IC?kC(i,s):RC(i,s))&&(Ae=Il(K,"onBeforeInput"),0<Ae.length&&(Be=new Hh("onBeforeInput","beforeinput",null,s,te),ae.push({event:Be,listeners:Ae}),Be.data=be)),Tw(ae,i,K,s,te)}ky(ae,a)})}function No(i,a,s){return{instance:i,listener:a,currentTarget:s}}function Il(i,a){for(var s=a+"Capture",c=[];i!==null;){var p=i,b=p.stateNode;if(p=p.tag,p!==5&&p!==26&&p!==27||b===null||(p=Xa(i,s),p!=null&&c.unshift(No(i,p,b)),p=Xa(i,a),p!=null&&c.push(No(i,p,b))),i.tag===3)return c;i=i.return}return[]}function ya(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function Ny(i,a,s,c,p){for(var b=a._reactName,w=[];s!==null&&s!==c;){var A=s,V=A.alternate,K=A.stateNode;if(A=A.tag,V!==null&&V===c)break;A!==5&&A!==26&&A!==27||K===null||(V=K,p?(K=Xa(s,b),K!=null&&w.unshift(No(s,K,V))):p||(K=Xa(s,b),K!=null&&w.push(No(s,K,V)))),s=s.return}w.length!==0&&i.push({event:a,listeners:w})}var Mw=/\r\n?/g,Ew=/\u0000|\uFFFD/g;function _y(i){return(typeof i=="string"?i:""+i).replace(Mw,`
`).replace(Ew,"")}function Ly(i,a){return a=_y(a),_y(i)===a}function kl(){}function tt(i,a,s,c,p,b){switch(s){case"children":typeof c=="string"?a==="body"||a==="textarea"&&c===""||Ur(i,c):(typeof c=="number"||typeof c=="bigint")&&a!=="body"&&Ur(i,""+c);break;case"className":Vs(i,"class",c);break;case"tabIndex":Vs(i,"tabindex",c);break;case"dir":case"role":case"viewBox":case"width":case"height":Vs(i,s,c);break;case"style":Ph(i,c,b);break;case"data":if(a!=="object"){Vs(i,"data",c);break}case"src":case"href":if(c===""&&(a!=="a"||s!=="href")){i.removeAttribute(s);break}if(c==null||typeof c=="function"||typeof c=="symbol"||typeof c=="boolean"){i.removeAttribute(s);break}c=Os(""+c),i.setAttribute(s,c);break;case"action":case"formAction":if(typeof c=="function"){i.setAttribute(s,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof b=="function"&&(s==="formAction"?(a!=="input"&&tt(i,a,"name",p.name,p,null),tt(i,a,"formEncType",p.formEncType,p,null),tt(i,a,"formMethod",p.formMethod,p,null),tt(i,a,"formTarget",p.formTarget,p,null)):(tt(i,a,"encType",p.encType,p,null),tt(i,a,"method",p.method,p,null),tt(i,a,"target",p.target,p,null)));if(c==null||typeof c=="symbol"||typeof c=="boolean"){i.removeAttribute(s);break}c=Os(""+c),i.setAttribute(s,c);break;case"onClick":c!=null&&(i.onclick=kl);break;case"onScroll":c!=null&&Fe("scroll",i);break;case"onScrollEnd":c!=null&&Fe("scrollend",i);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(r(61));if(s=c.__html,s!=null){if(p.children!=null)throw Error(r(60));i.innerHTML=s}}break;case"multiple":i.multiple=c&&typeof c!="function"&&typeof c!="symbol";break;case"muted":i.muted=c&&typeof c!="function"&&typeof c!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(c==null||typeof c=="function"||typeof c=="boolean"||typeof c=="symbol"){i.removeAttribute("xlink:href");break}s=Os(""+c),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":c!=null&&typeof c!="function"&&typeof c!="symbol"?i.setAttribute(s,""+c):i.removeAttribute(s);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":c&&typeof c!="function"&&typeof c!="symbol"?i.setAttribute(s,""):i.removeAttribute(s);break;case"capture":case"download":c===!0?i.setAttribute(s,""):c!==!1&&c!=null&&typeof c!="function"&&typeof c!="symbol"?i.setAttribute(s,c):i.removeAttribute(s);break;case"cols":case"rows":case"size":case"span":c!=null&&typeof c!="function"&&typeof c!="symbol"&&!isNaN(c)&&1<=c?i.setAttribute(s,c):i.removeAttribute(s);break;case"rowSpan":case"start":c==null||typeof c=="function"||typeof c=="symbol"||isNaN(c)?i.removeAttribute(s):i.setAttribute(s,c);break;case"popover":Fe("beforetoggle",i),Fe("toggle",i),Ls(i,"popover",c);break;case"xlinkActuate":ii(i,"http://www.w3.org/1999/xlink","xlink:actuate",c);break;case"xlinkArcrole":ii(i,"http://www.w3.org/1999/xlink","xlink:arcrole",c);break;case"xlinkRole":ii(i,"http://www.w3.org/1999/xlink","xlink:role",c);break;case"xlinkShow":ii(i,"http://www.w3.org/1999/xlink","xlink:show",c);break;case"xlinkTitle":ii(i,"http://www.w3.org/1999/xlink","xlink:title",c);break;case"xlinkType":ii(i,"http://www.w3.org/1999/xlink","xlink:type",c);break;case"xmlBase":ii(i,"http://www.w3.org/XML/1998/namespace","xml:base",c);break;case"xmlLang":ii(i,"http://www.w3.org/XML/1998/namespace","xml:lang",c);break;case"xmlSpace":ii(i,"http://www.w3.org/XML/1998/namespace","xml:space",c);break;case"is":Ls(i,"is",c);break;case"innerText":case"textContent":break;default:(!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(s=nC.get(s)||s,Ls(i,s,c))}}function Nf(i,a,s,c,p,b){switch(s){case"style":Ph(i,c,b);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(r(61));if(s=c.__html,s!=null){if(p.children!=null)throw Error(r(60));i.innerHTML=s}}break;case"children":typeof c=="string"?Ur(i,c):(typeof c=="number"||typeof c=="bigint")&&Ur(i,""+c);break;case"onScroll":c!=null&&Fe("scroll",i);break;case"onScrollEnd":c!=null&&Fe("scrollend",i);break;case"onClick":c!=null&&(i.onclick=kl);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!lr.hasOwnProperty(s))e:{if(s[0]==="o"&&s[1]==="n"&&(p=s.endsWith("Capture"),a=s.slice(2,p?s.length-7:void 0),b=i[Pt]||null,b=b!=null?b[s]:null,typeof b=="function"&&i.removeEventListener(a,b,p),typeof c=="function")){typeof b!="function"&&b!==null&&(s in i?i[s]=null:i.hasAttribute(s)&&i.removeAttribute(s)),i.addEventListener(a,c,p);break e}s in i?i[s]=c:c===!0?i.setAttribute(s,""):Ls(i,s,c)}}}function Ft(i,a,s){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Fe("error",i),Fe("load",i);var c=!1,p=!1,b;for(b in s)if(s.hasOwnProperty(b)){var w=s[b];if(w!=null)switch(b){case"src":c=!0;break;case"srcSet":p=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,a));default:tt(i,a,b,w,s,null)}}p&&tt(i,a,"srcSet",s.srcSet,s,null),c&&tt(i,a,"src",s.src,s,null);return;case"input":Fe("invalid",i);var A=b=w=p=null,V=null,K=null;for(c in s)if(s.hasOwnProperty(c)){var te=s[c];if(te!=null)switch(c){case"name":p=te;break;case"type":w=te;break;case"checked":V=te;break;case"defaultChecked":K=te;break;case"value":b=te;break;case"defaultValue":A=te;break;case"children":case"dangerouslySetInnerHTML":if(te!=null)throw Error(r(137,a));break;default:tt(i,a,c,te,s,null)}}Nh(i,b,A,V,K,w,p,!1),Ps(i);return;case"select":Fe("invalid",i),c=w=b=null;for(p in s)if(s.hasOwnProperty(p)&&(A=s[p],A!=null))switch(p){case"value":b=A;break;case"defaultValue":w=A;break;case"multiple":c=A;default:tt(i,a,p,A,s,null)}a=b,s=w,i.multiple=!!c,a!=null?Hr(i,!!c,a,!1):s!=null&&Hr(i,!!c,s,!0);return;case"textarea":Fe("invalid",i),b=p=c=null;for(w in s)if(s.hasOwnProperty(w)&&(A=s[w],A!=null))switch(w){case"value":c=A;break;case"defaultValue":p=A;break;case"children":b=A;break;case"dangerouslySetInnerHTML":if(A!=null)throw Error(r(91));break;default:tt(i,a,w,A,s,null)}Lh(i,c,p,b),Ps(i);return;case"option":for(V in s)if(s.hasOwnProperty(V)&&(c=s[V],c!=null))switch(V){case"selected":i.selected=c&&typeof c!="function"&&typeof c!="symbol";break;default:tt(i,a,V,c,s,null)}return;case"dialog":Fe("beforetoggle",i),Fe("toggle",i),Fe("cancel",i),Fe("close",i);break;case"iframe":case"object":Fe("load",i);break;case"video":case"audio":for(c=0;c<Ro.length;c++)Fe(Ro[c],i);break;case"image":Fe("error",i),Fe("load",i);break;case"details":Fe("toggle",i);break;case"embed":case"source":case"link":Fe("error",i),Fe("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(K in s)if(s.hasOwnProperty(K)&&(c=s[K],c!=null))switch(K){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,a));default:tt(i,a,K,c,s,null)}return;default:if($u(a)){for(te in s)s.hasOwnProperty(te)&&(c=s[te],c!==void 0&&Nf(i,a,te,c,s,void 0));return}}for(A in s)s.hasOwnProperty(A)&&(c=s[A],c!=null&&tt(i,a,A,c,s,null))}function Aw(i,a,s,c){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var p=null,b=null,w=null,A=null,V=null,K=null,te=null;for(W in s){var ae=s[W];if(s.hasOwnProperty(W)&&ae!=null)switch(W){case"checked":break;case"value":break;case"defaultValue":V=ae;default:c.hasOwnProperty(W)||tt(i,a,W,null,c,ae)}}for(var X in c){var W=c[X];if(ae=s[X],c.hasOwnProperty(X)&&(W!=null||ae!=null))switch(X){case"type":b=W;break;case"name":p=W;break;case"checked":K=W;break;case"defaultChecked":te=W;break;case"value":w=W;break;case"defaultValue":A=W;break;case"children":case"dangerouslySetInnerHTML":if(W!=null)throw Error(r(137,a));break;default:W!==ae&&tt(i,a,X,W,c,ae)}}qu(i,w,A,V,K,te,b,p);return;case"select":W=w=A=X=null;for(b in s)if(V=s[b],s.hasOwnProperty(b)&&V!=null)switch(b){case"value":break;case"multiple":W=V;default:c.hasOwnProperty(b)||tt(i,a,b,null,c,V)}for(p in c)if(b=c[p],V=s[p],c.hasOwnProperty(p)&&(b!=null||V!=null))switch(p){case"value":X=b;break;case"defaultValue":A=b;break;case"multiple":w=b;default:b!==V&&tt(i,a,p,b,c,V)}a=A,s=w,c=W,X!=null?Hr(i,!!s,X,!1):!!c!=!!s&&(a!=null?Hr(i,!!s,a,!0):Hr(i,!!s,s?[]:"",!1));return;case"textarea":W=X=null;for(A in s)if(p=s[A],s.hasOwnProperty(A)&&p!=null&&!c.hasOwnProperty(A))switch(A){case"value":break;case"children":break;default:tt(i,a,A,null,c,p)}for(w in c)if(p=c[w],b=s[w],c.hasOwnProperty(w)&&(p!=null||b!=null))switch(w){case"value":X=p;break;case"defaultValue":W=p;break;case"children":break;case"dangerouslySetInnerHTML":if(p!=null)throw Error(r(91));break;default:p!==b&&tt(i,a,w,p,c,b)}_h(i,X,W);return;case"option":for(var Ie in s)if(X=s[Ie],s.hasOwnProperty(Ie)&&X!=null&&!c.hasOwnProperty(Ie))switch(Ie){case"selected":i.selected=!1;break;default:tt(i,a,Ie,null,c,X)}for(V in c)if(X=c[V],W=s[V],c.hasOwnProperty(V)&&X!==W&&(X!=null||W!=null))switch(V){case"selected":i.selected=X&&typeof X!="function"&&typeof X!="symbol";break;default:tt(i,a,V,X,c,W)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ee in s)X=s[Ee],s.hasOwnProperty(Ee)&&X!=null&&!c.hasOwnProperty(Ee)&&tt(i,a,Ee,null,c,X);for(K in c)if(X=c[K],W=s[K],c.hasOwnProperty(K)&&X!==W&&(X!=null||W!=null))switch(K){case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(r(137,a));break;default:tt(i,a,K,X,c,W)}return;default:if($u(a)){for(var nt in s)X=s[nt],s.hasOwnProperty(nt)&&X!==void 0&&!c.hasOwnProperty(nt)&&Nf(i,a,nt,void 0,c,X);for(te in c)X=c[te],W=s[te],!c.hasOwnProperty(te)||X===W||X===void 0&&W===void 0||Nf(i,a,te,X,c,W);return}}for(var U in s)X=s[U],s.hasOwnProperty(U)&&X!=null&&!c.hasOwnProperty(U)&&tt(i,a,U,null,c,X);for(ae in c)X=c[ae],W=s[ae],!c.hasOwnProperty(ae)||X===W||X==null&&W==null||tt(i,a,ae,X,c,W)}var _f=null,Lf=null;function Rl(i){return i.nodeType===9?i:i.ownerDocument}function Vy(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Py(i,a){if(i===0)switch(a){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&a==="foreignObject"?0:i}function Vf(i,a){return i==="textarea"||i==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.children=="bigint"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var Pf=null;function Dw(){var i=window.event;return i&&i.type==="popstate"?i===Pf?!1:(Pf=i,!0):(Pf=null,!1)}var By=typeof setTimeout=="function"?setTimeout:void 0,Iw=typeof clearTimeout=="function"?clearTimeout:void 0,Oy=typeof Promise=="function"?Promise:void 0,kw=typeof queueMicrotask=="function"?queueMicrotask:typeof Oy<"u"?function(i){return Oy.resolve(null).then(i).catch(Rw)}:By;function Rw(i){setTimeout(function(){throw i})}function ji(i){return i==="head"}function Fy(i,a){var s=a,c=0,p=0;do{var b=s.nextSibling;if(i.removeChild(s),b&&b.nodeType===8)if(s=b.data,s==="/$"){if(0<c&&8>c){s=c;var w=i.ownerDocument;if(s&1&&_o(w.documentElement),s&2&&_o(w.body),s&4)for(s=w.head,_o(s),w=s.firstChild;w;){var A=w.nextSibling,V=w.nodeName;w[sr]||V==="SCRIPT"||V==="STYLE"||V==="LINK"&&w.rel.toLowerCase()==="stylesheet"||s.removeChild(w),w=A}}if(p===0){i.removeChild(b),jo(a);return}p--}else s==="$"||s==="$?"||s==="$!"?p++:c=s.charCodeAt(0)-48;else c=0;s=b}while(s);jo(a)}function Bf(i){var a=i.firstChild;for(a&&a.nodeType===10&&(a=a.nextSibling);a;){var s=a;switch(a=a.nextSibling,s.nodeName){case"HTML":case"HEAD":case"BODY":Bf(s),_s(s);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(s.rel.toLowerCase()==="stylesheet")continue}i.removeChild(s)}}function Nw(i,a,s,c){for(;i.nodeType===1;){var p=s;if(i.nodeName.toLowerCase()!==a.toLowerCase()){if(!c&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(c){if(!i[sr])switch(a){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(b=i.getAttribute("rel"),b==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(b!==p.rel||i.getAttribute("href")!==(p.href==null||p.href===""?null:p.href)||i.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin)||i.getAttribute("title")!==(p.title==null?null:p.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(b=i.getAttribute("src"),(b!==(p.src==null?null:p.src)||i.getAttribute("type")!==(p.type==null?null:p.type)||i.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin))&&b&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(a==="input"&&i.type==="hidden"){var b=p.name==null?null:""+p.name;if(p.type==="hidden"&&i.getAttribute("name")===b)return i}else return i;if(i=Bn(i.nextSibling),i===null)break}return null}function _w(i,a,s){if(a==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!s||(i=Bn(i.nextSibling),i===null))return null;return i}function Of(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState==="complete"}function Lw(i,a){var s=i.ownerDocument;if(i.data!=="$?"||s.readyState==="complete")a();else{var c=function(){a(),s.removeEventListener("DOMContentLoaded",c)};s.addEventListener("DOMContentLoaded",c),i._reactRetry=c}}function Bn(i){for(;i!=null;i=i.nextSibling){var a=i.nodeType;if(a===1||a===3)break;if(a===8){if(a=i.data,a==="$"||a==="$!"||a==="$?"||a==="F!"||a==="F")break;if(a==="/$")return null}}return i}var Ff=null;function zy(i){i=i.previousSibling;for(var a=0;i;){if(i.nodeType===8){var s=i.data;if(s==="$"||s==="$!"||s==="$?"){if(a===0)return i;a--}else s==="/$"&&a++}i=i.previousSibling}return null}function jy(i,a,s){switch(a=Rl(s),i){case"html":if(i=a.documentElement,!i)throw Error(r(452));return i;case"head":if(i=a.head,!i)throw Error(r(453));return i;case"body":if(i=a.body,!i)throw Error(r(454));return i;default:throw Error(r(451))}}function _o(i){for(var a=i.attributes;a.length;)i.removeAttributeNode(a[0]);_s(i)}var In=new Map,Hy=new Set;function Nl(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var yi=B.d;B.d={f:Vw,r:Pw,D:Bw,C:Ow,L:Fw,m:zw,X:Hw,S:jw,M:Uw};function Vw(){var i=yi.f(),a=Cl();return i||a}function Pw(i){var a=Nt(i);a!==null&&a.tag===5&&a.type==="form"?lg(a):yi.r(i)}var xa=typeof document>"u"?null:document;function Uy(i,a,s){var c=xa;if(c&&typeof a=="string"&&a){var p=Sn(a);p='link[rel="'+i+'"][href="'+p+'"]',typeof s=="string"&&(p+='[crossorigin="'+s+'"]'),Hy.has(p)||(Hy.add(p),i={rel:i,crossOrigin:s,href:a},c.querySelector(p)===null&&(a=c.createElement("link"),Ft(a,"link",i),wt(a),c.head.appendChild(a)))}}function Bw(i){yi.D(i),Uy("dns-prefetch",i,null)}function Ow(i,a){yi.C(i,a),Uy("preconnect",i,a)}function Fw(i,a,s){yi.L(i,a,s);var c=xa;if(c&&i&&a){var p='link[rel="preload"][as="'+Sn(a)+'"]';a==="image"&&s&&s.imageSrcSet?(p+='[imagesrcset="'+Sn(s.imageSrcSet)+'"]',typeof s.imageSizes=="string"&&(p+='[imagesizes="'+Sn(s.imageSizes)+'"]')):p+='[href="'+Sn(i)+'"]';var b=p;switch(a){case"style":b=va(i);break;case"script":b=ba(i)}In.has(b)||(i=h({rel:"preload",href:a==="image"&&s&&s.imageSrcSet?void 0:i,as:a},s),In.set(b,i),c.querySelector(p)!==null||a==="style"&&c.querySelector(Lo(b))||a==="script"&&c.querySelector(Vo(b))||(a=c.createElement("link"),Ft(a,"link",i),wt(a),c.head.appendChild(a)))}}function zw(i,a){yi.m(i,a);var s=xa;if(s&&i){var c=a&&typeof a.as=="string"?a.as:"script",p='link[rel="modulepreload"][as="'+Sn(c)+'"][href="'+Sn(i)+'"]',b=p;switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":b=ba(i)}if(!In.has(b)&&(i=h({rel:"modulepreload",href:i},a),In.set(b,i),s.querySelector(p)===null)){switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(s.querySelector(Vo(b)))return}c=s.createElement("link"),Ft(c,"link",i),wt(c),s.head.appendChild(c)}}}function jw(i,a,s){yi.S(i,a,s);var c=xa;if(c&&i){var p=Gn(c).hoistableStyles,b=va(i);a=a||"default";var w=p.get(b);if(!w){var A={loading:0,preload:null};if(w=c.querySelector(Lo(b)))A.loading=5;else{i=h({rel:"stylesheet",href:i,"data-precedence":a},s),(s=In.get(b))&&zf(i,s);var V=w=c.createElement("link");wt(V),Ft(V,"link",i),V._p=new Promise(function(K,te){V.onload=K,V.onerror=te}),V.addEventListener("load",function(){A.loading|=1}),V.addEventListener("error",function(){A.loading|=2}),A.loading|=4,_l(w,a,c)}w={type:"stylesheet",instance:w,count:1,state:A},p.set(b,w)}}}function Hw(i,a){yi.X(i,a);var s=xa;if(s&&i){var c=Gn(s).hoistableScripts,p=ba(i),b=c.get(p);b||(b=s.querySelector(Vo(p)),b||(i=h({src:i,async:!0},a),(a=In.get(p))&&jf(i,a),b=s.createElement("script"),wt(b),Ft(b,"link",i),s.head.appendChild(b)),b={type:"script",instance:b,count:1,state:null},c.set(p,b))}}function Uw(i,a){yi.M(i,a);var s=xa;if(s&&i){var c=Gn(s).hoistableScripts,p=ba(i),b=c.get(p);b||(b=s.querySelector(Vo(p)),b||(i=h({src:i,async:!0,type:"module"},a),(a=In.get(p))&&jf(i,a),b=s.createElement("script"),wt(b),Ft(b,"link",i),s.head.appendChild(b)),b={type:"script",instance:b,count:1,state:null},c.set(p,b))}}function Gy(i,a,s,c){var p=(p=re.current)?Nl(p):null;if(!p)throw Error(r(446));switch(i){case"meta":case"title":return null;case"style":return typeof s.precedence=="string"&&typeof s.href=="string"?(a=va(s.href),s=Gn(p).hoistableStyles,c=s.get(a),c||(c={type:"style",instance:null,count:0,state:null},s.set(a,c)),c):{type:"void",instance:null,count:0,state:null};case"link":if(s.rel==="stylesheet"&&typeof s.href=="string"&&typeof s.precedence=="string"){i=va(s.href);var b=Gn(p).hoistableStyles,w=b.get(i);if(w||(p=p.ownerDocument||p,w={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},b.set(i,w),(b=p.querySelector(Lo(i)))&&!b._p&&(w.instance=b,w.state.loading=5),In.has(i)||(s={rel:"preload",as:"style",href:s.href,crossOrigin:s.crossOrigin,integrity:s.integrity,media:s.media,hrefLang:s.hrefLang,referrerPolicy:s.referrerPolicy},In.set(i,s),b||Gw(p,i,s,w.state))),a&&c===null)throw Error(r(528,""));return w}if(a&&c!==null)throw Error(r(529,""));return null;case"script":return a=s.async,s=s.src,typeof s=="string"&&a&&typeof a!="function"&&typeof a!="symbol"?(a=ba(s),s=Gn(p).hoistableScripts,c=s.get(a),c||(c={type:"script",instance:null,count:0,state:null},s.set(a,c)),c):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,i))}}function va(i){return'href="'+Sn(i)+'"'}function Lo(i){return'link[rel="stylesheet"]['+i+"]"}function qy(i){return h({},i,{"data-precedence":i.precedence,precedence:null})}function Gw(i,a,s,c){i.querySelector('link[rel="preload"][as="style"]['+a+"]")?c.loading=1:(a=i.createElement("link"),c.preload=a,a.addEventListener("load",function(){return c.loading|=1}),a.addEventListener("error",function(){return c.loading|=2}),Ft(a,"link",s),wt(a),i.head.appendChild(a))}function ba(i){return'[src="'+Sn(i)+'"]'}function Vo(i){return"script[async]"+i}function Yy(i,a,s){if(a.count++,a.instance===null)switch(a.type){case"style":var c=i.querySelector('style[data-href~="'+Sn(s.href)+'"]');if(c)return a.instance=c,wt(c),c;var p=h({},s,{"data-href":s.href,"data-precedence":s.precedence,href:null,precedence:null});return c=(i.ownerDocument||i).createElement("style"),wt(c),Ft(c,"style",p),_l(c,s.precedence,i),a.instance=c;case"stylesheet":p=va(s.href);var b=i.querySelector(Lo(p));if(b)return a.state.loading|=4,a.instance=b,wt(b),b;c=qy(s),(p=In.get(p))&&zf(c,p),b=(i.ownerDocument||i).createElement("link"),wt(b);var w=b;return w._p=new Promise(function(A,V){w.onload=A,w.onerror=V}),Ft(b,"link",c),a.state.loading|=4,_l(b,s.precedence,i),a.instance=b;case"script":return b=ba(s.src),(p=i.querySelector(Vo(b)))?(a.instance=p,wt(p),p):(c=s,(p=In.get(b))&&(c=h({},s),jf(c,p)),i=i.ownerDocument||i,p=i.createElement("script"),wt(p),Ft(p,"link",c),i.head.appendChild(p),a.instance=p);case"void":return null;default:throw Error(r(443,a.type))}else a.type==="stylesheet"&&(a.state.loading&4)===0&&(c=a.instance,a.state.loading|=4,_l(c,s.precedence,i));return a.instance}function _l(i,a,s){for(var c=s.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),p=c.length?c[c.length-1]:null,b=p,w=0;w<c.length;w++){var A=c[w];if(A.dataset.precedence===a)b=A;else if(b!==p)break}b?b.parentNode.insertBefore(i,b.nextSibling):(a=s.nodeType===9?s.head:s,a.insertBefore(i,a.firstChild))}function zf(i,a){i.crossOrigin==null&&(i.crossOrigin=a.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=a.referrerPolicy),i.title==null&&(i.title=a.title)}function jf(i,a){i.crossOrigin==null&&(i.crossOrigin=a.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=a.referrerPolicy),i.integrity==null&&(i.integrity=a.integrity)}var Ll=null;function $y(i,a,s){if(Ll===null){var c=new Map,p=Ll=new Map;p.set(s,c)}else p=Ll,c=p.get(s),c||(c=new Map,p.set(s,c));if(c.has(i))return c;for(c.set(i,null),s=s.getElementsByTagName(i),p=0;p<s.length;p++){var b=s[p];if(!(b[sr]||b[bt]||i==="link"&&b.getAttribute("rel")==="stylesheet")&&b.namespaceURI!=="http://www.w3.org/2000/svg"){var w=b.getAttribute(a)||"";w=i+w;var A=c.get(w);A?A.push(b):c.set(w,[b])}}return c}function Ky(i,a,s){i=i.ownerDocument||i,i.head.insertBefore(s,a==="title"?i.querySelector("head > title"):null)}function qw(i,a,s){if(s===1||a.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof a.precedence!="string"||typeof a.href!="string"||a.href==="")break;return!0;case"link":if(typeof a.rel!="string"||typeof a.href!="string"||a.href===""||a.onLoad||a.onError)break;switch(a.rel){case"stylesheet":return i=a.disabled,typeof a.precedence=="string"&&i==null;default:return!0}case"script":if(a.async&&typeof a.async!="function"&&typeof a.async!="symbol"&&!a.onLoad&&!a.onError&&a.src&&typeof a.src=="string")return!0}return!1}function Xy(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}var Po=null;function Yw(){}function $w(i,a,s){if(Po===null)throw Error(r(475));var c=Po;if(a.type==="stylesheet"&&(typeof s.media!="string"||matchMedia(s.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var p=va(s.href),b=i.querySelector(Lo(p));if(b){i=b._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(c.count++,c=Vl.bind(c),i.then(c,c)),a.state.loading|=4,a.instance=b,wt(b);return}b=i.ownerDocument||i,s=qy(s),(p=In.get(p))&&zf(s,p),b=b.createElement("link"),wt(b);var w=b;w._p=new Promise(function(A,V){w.onload=A,w.onerror=V}),Ft(b,"link",s),a.instance=b}c.stylesheets===null&&(c.stylesheets=new Map),c.stylesheets.set(a,i),(i=a.state.preload)&&(a.state.loading&3)===0&&(c.count++,a=Vl.bind(c),i.addEventListener("load",a),i.addEventListener("error",a))}}function Kw(){if(Po===null)throw Error(r(475));var i=Po;return i.stylesheets&&i.count===0&&Hf(i,i.stylesheets),0<i.count?function(a){var s=setTimeout(function(){if(i.stylesheets&&Hf(i,i.stylesheets),i.unsuspend){var c=i.unsuspend;i.unsuspend=null,c()}},6e4);return i.unsuspend=a,function(){i.unsuspend=null,clearTimeout(s)}}:null}function Vl(){if(this.count--,this.count===0){if(this.stylesheets)Hf(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var Pl=null;function Hf(i,a){i.stylesheets=null,i.unsuspend!==null&&(i.count++,Pl=new Map,a.forEach(Xw,i),Pl=null,Vl.call(i))}function Xw(i,a){if(!(a.state.loading&4)){var s=Pl.get(i);if(s)var c=s.get(null);else{s=new Map,Pl.set(i,s);for(var p=i.querySelectorAll("link[data-precedence],style[data-precedence]"),b=0;b<p.length;b++){var w=p[b];(w.nodeName==="LINK"||w.getAttribute("media")!=="not all")&&(s.set(w.dataset.precedence,w),c=w)}c&&s.set(null,c)}p=a.instance,w=p.getAttribute("data-precedence"),b=s.get(w)||c,b===c&&s.set(null,p),s.set(w,p),this.count++,c=Vl.bind(this),p.addEventListener("load",c),p.addEventListener("error",c),b?b.parentNode.insertBefore(p,b.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(p,i.firstChild)),a.state.loading|=4}}var Bo={$$typeof:R,Provider:null,Consumer:null,_currentValue:N,_currentValue2:N,_threadCount:0};function Ww(i,a,s,c,p,b,w,A){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=He(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=He(0),this.hiddenUpdates=He(null),this.identifierPrefix=c,this.onUncaughtError=p,this.onCaughtError=b,this.onRecoverableError=w,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=A,this.incompleteTransitions=new Map}function Wy(i,a,s,c,p,b,w,A,V,K,te,ae){return i=new Ww(i,a,s,w,A,V,K,ae),a=1,b===!0&&(a|=24),b=un(3,null,null,a),i.current=b,b.stateNode=i,a=Sc(),a.refCount++,i.pooledCache=a,a.refCount++,b.memoizedState={element:c,isDehydrated:s,cache:a},Ec(b),i}function Qy(i){return i?(i=Qr,i):Qr}function Jy(i,a,s,c,p,b){p=Qy(p),c.context===null?c.context=p:c.pendingContext=p,c=Di(a),c.payload={element:s},b=b===void 0?null:b,b!==null&&(c.callback=b),s=Ii(i,c,a),s!==null&&(hn(s,i,a),mo(s,i,a))}function Zy(i,a){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var s=i.retryLane;i.retryLane=s!==0&&s<a?s:a}}function Uf(i,a){Zy(i,a),(i=i.alternate)&&Zy(i,a)}function e0(i){if(i.tag===13){var a=Wr(i,67108864);a!==null&&hn(a,i,67108864),Uf(i,67108864)}}var Bl=!0;function Qw(i,a,s,c){var p=q.T;q.T=null;var b=B.p;try{B.p=2,Gf(i,a,s,c)}finally{B.p=b,q.T=p}}function Jw(i,a,s,c){var p=q.T;q.T=null;var b=B.p;try{B.p=8,Gf(i,a,s,c)}finally{B.p=b,q.T=p}}function Gf(i,a,s,c){if(Bl){var p=qf(c);if(p===null)Rf(i,a,c,Ol,s),n0(i,c);else if(eM(p,i,a,s,c))c.stopPropagation();else if(n0(i,c),a&4&&-1<Zw.indexOf(i)){for(;p!==null;){var b=Nt(p);if(b!==null)switch(b.tag){case 3:if(b=b.stateNode,b.current.memoizedState.isDehydrated){var w=st(b.pendingLanes);if(w!==0){var A=b;for(A.pendingLanes|=2,A.entangledLanes|=2;w;){var V=1<<31-Me(w);A.entanglements[1]|=V,w&=~V}Wn(b),(Je&6)===0&&(Tl=dt()+500,ko(0))}}break;case 13:A=Wr(b,2),A!==null&&hn(A,b,2),Cl(),Uf(b,2)}if(b=qf(c),b===null&&Rf(i,a,c,Ol,s),b===p)break;p=b}p!==null&&c.stopPropagation()}else Rf(i,a,c,null,s)}}function qf(i){return i=Xu(i),Yf(i)}var Ol=null;function Yf(i){if(Ol=null,i=wi(i),i!==null){var a=l(i);if(a===null)i=null;else{var s=a.tag;if(s===13){if(i=u(a),i!==null)return i;i=null}else if(s===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;i=null}else a!==i&&(i=null)}}return Ol=i,null}function t0(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Br()){case or:return 2;case Si:return 8;case Hn:case Ha:return 32;case Or:return 268435456;default:return 32}default:return 32}}var $f=!1,Hi=null,Ui=null,Gi=null,Oo=new Map,Fo=new Map,qi=[],Zw="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function n0(i,a){switch(i){case"focusin":case"focusout":Hi=null;break;case"dragenter":case"dragleave":Ui=null;break;case"mouseover":case"mouseout":Gi=null;break;case"pointerover":case"pointerout":Oo.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":Fo.delete(a.pointerId)}}function zo(i,a,s,c,p,b){return i===null||i.nativeEvent!==b?(i={blockedOn:a,domEventName:s,eventSystemFlags:c,nativeEvent:b,targetContainers:[p]},a!==null&&(a=Nt(a),a!==null&&e0(a)),i):(i.eventSystemFlags|=c,a=i.targetContainers,p!==null&&a.indexOf(p)===-1&&a.push(p),i)}function eM(i,a,s,c,p){switch(a){case"focusin":return Hi=zo(Hi,i,a,s,c,p),!0;case"dragenter":return Ui=zo(Ui,i,a,s,c,p),!0;case"mouseover":return Gi=zo(Gi,i,a,s,c,p),!0;case"pointerover":var b=p.pointerId;return Oo.set(b,zo(Oo.get(b)||null,i,a,s,c,p)),!0;case"gotpointercapture":return b=p.pointerId,Fo.set(b,zo(Fo.get(b)||null,i,a,s,c,p)),!0}return!1}function i0(i){var a=wi(i.target);if(a!==null){var s=l(a);if(s!==null){if(a=s.tag,a===13){if(a=u(s),a!==null){i.blockedOn=a,Fu(i.priority,function(){if(s.tag===13){var c=mn();c=qa(c);var p=Wr(s,c);p!==null&&hn(p,s,c),Uf(s,c)}});return}}else if(a===3&&s.stateNode.current.memoizedState.isDehydrated){i.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}i.blockedOn=null}function Fl(i){if(i.blockedOn!==null)return!1;for(var a=i.targetContainers;0<a.length;){var s=qf(i.nativeEvent);if(s===null){s=i.nativeEvent;var c=new s.constructor(s.type,s);Ku=c,s.target.dispatchEvent(c),Ku=null}else return a=Nt(s),a!==null&&e0(a),i.blockedOn=s,!1;a.shift()}return!0}function r0(i,a,s){Fl(i)&&s.delete(a)}function tM(){$f=!1,Hi!==null&&Fl(Hi)&&(Hi=null),Ui!==null&&Fl(Ui)&&(Ui=null),Gi!==null&&Fl(Gi)&&(Gi=null),Oo.forEach(r0),Fo.forEach(r0)}function zl(i,a){i.blockedOn===a&&(i.blockedOn=null,$f||($f=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,tM)))}var jl=null;function a0(i){jl!==i&&(jl=i,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){jl===i&&(jl=null);for(var a=0;a<i.length;a+=3){var s=i[a],c=i[a+1],p=i[a+2];if(typeof c!="function"){if(Yf(c||s)===null)continue;break}var b=Nt(s);b!==null&&(i.splice(a,3),a-=3,qc(b,{pending:!0,data:p,method:s.method,action:c},c,p))}}))}function jo(i){function a(V){return zl(V,i)}Hi!==null&&zl(Hi,i),Ui!==null&&zl(Ui,i),Gi!==null&&zl(Gi,i),Oo.forEach(a),Fo.forEach(a);for(var s=0;s<qi.length;s++){var c=qi[s];c.blockedOn===i&&(c.blockedOn=null)}for(;0<qi.length&&(s=qi[0],s.blockedOn===null);)i0(s),s.blockedOn===null&&qi.shift();if(s=(i.ownerDocument||i).$$reactFormReplay,s!=null)for(c=0;c<s.length;c+=3){var p=s[c],b=s[c+1],w=p[Pt]||null;if(typeof b=="function")w||a0(s);else if(w){var A=null;if(b&&b.hasAttribute("formAction")){if(p=b,w=b[Pt]||null)A=w.formAction;else if(Yf(p)!==null)continue}else A=w.action;typeof A=="function"?s[c+1]=A:(s.splice(c,3),c-=3),a0(s)}}}function Kf(i){this._internalRoot=i}Hl.prototype.render=Kf.prototype.render=function(i){var a=this._internalRoot;if(a===null)throw Error(r(409));var s=a.current,c=mn();Jy(s,c,i,a,null,null)},Hl.prototype.unmount=Kf.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var a=i.containerInfo;Jy(i.current,2,null,i,null,null),Cl(),a[Ci]=null}};function Hl(i){this._internalRoot=i}Hl.prototype.unstable_scheduleHydration=function(i){if(i){var a=Ns();i={blockedOn:null,target:i,priority:a};for(var s=0;s<qi.length&&a!==0&&a<qi[s].priority;s++);qi.splice(s,0,i),s===0&&i0(i)}};var o0=t.version;if(o0!=="19.1.0")throw Error(r(527,o0,"19.1.0"));B.findDOMNode=function(i){var a=i._reactInternals;if(a===void 0)throw typeof i.render=="function"?Error(r(188)):(i=Object.keys(i).join(","),Error(r(268,i)));return i=m(a),i=i!==null?d(i):null,i=i===null?null:i.stateNode,i};var nM={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:q,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ul=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ul.isDisabled&&Ul.supportsFiber)try{ee=Ul.inject(nM),ue=Ul}catch{}}return Uo.createRoot=function(i,a){if(!o(i))throw Error(r(299));var s=!1,c="",p=Sg,b=Cg,w=wg,A=null;return a!=null&&(a.unstable_strictMode===!0&&(s=!0),a.identifierPrefix!==void 0&&(c=a.identifierPrefix),a.onUncaughtError!==void 0&&(p=a.onUncaughtError),a.onCaughtError!==void 0&&(b=a.onCaughtError),a.onRecoverableError!==void 0&&(w=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(A=a.unstable_transitionCallbacks)),a=Wy(i,1,!1,null,null,s,c,p,b,w,A,null),i[Ci]=a.current,kf(i),new Kf(a)},Uo.hydrateRoot=function(i,a,s){if(!o(i))throw Error(r(299));var c=!1,p="",b=Sg,w=Cg,A=wg,V=null,K=null;return s!=null&&(s.unstable_strictMode===!0&&(c=!0),s.identifierPrefix!==void 0&&(p=s.identifierPrefix),s.onUncaughtError!==void 0&&(b=s.onUncaughtError),s.onCaughtError!==void 0&&(w=s.onCaughtError),s.onRecoverableError!==void 0&&(A=s.onRecoverableError),s.unstable_transitionCallbacks!==void 0&&(V=s.unstable_transitionCallbacks),s.formState!==void 0&&(K=s.formState)),a=Wy(i,1,!0,a,s??null,c,p,b,w,A,V,K),a.context=Qy(null),s=a.current,c=mn(),c=qa(c),p=Di(c),p.callback=null,Ii(s,p,c),s=c,a.current.lanes=s,Rt(a,s),Wn(a),i[Ci]=a.current,kf(i),new Hl(a)},Uo.version="19.1.0",Uo}var g0;function mM(){if(g0)return Qf.exports;g0=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),Qf.exports=dM(),Qf.exports}var hM=mM();const pM=Ts(hM);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let gM,yM;function xM(){return{geminiUrl:gM,vertexUrl:yM}}function vM(e,t,n){var r,o,l;if(!(!((r=e.httpOptions)===null||r===void 0)&&r.baseUrl)){const u=xM();return e.vertexai?(o=u.vertexUrl)!==null&&o!==void 0?o:t:(l=u.geminiUrl)!==null&&l!==void 0?l:n}return e.httpOptions.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Ss{}function Re(e,t){const n=/\{([^}]+)\}/g;return e.replace(n,(r,o)=>{if(Object.prototype.hasOwnProperty.call(t,o)){const l=t[o];return l!=null?String(l):""}else throw new Error(`Key '${o}' not found in valueMap.`)})}function v(e,t,n){for(let l=0;l<t.length-1;l++){const u=t[l];if(u.endsWith("[]")){const f=u.slice(0,-2);if(!(f in e))if(Array.isArray(n))e[f]=Array.from({length:n.length},()=>({}));else throw new Error(`Value must be a list given an array path ${u}`);if(Array.isArray(e[f])){const m=e[f];if(Array.isArray(n))for(let d=0;d<m.length;d++){const h=m[d];v(h,t.slice(l+1),n[d])}else for(const d of m)v(d,t.slice(l+1),n)}return}else if(u.endsWith("[0]")){const f=u.slice(0,-3);f in e||(e[f]=[{}]);const m=e[f];v(m[0],t.slice(l+1),n);return}(!e[u]||typeof e[u]!="object")&&(e[u]={}),e=e[u]}const r=t[t.length-1],o=e[r];if(o!==void 0){if(!n||typeof n=="object"&&Object.keys(n).length===0||n===o)return;if(typeof o=="object"&&typeof n=="object"&&o!==null&&n!==null)Object.assign(o,n);else throw new Error(`Cannot set value for an existing key. Key: ${r}`)}else e[r]=n}function x(e,t){try{if(t.length===1&&t[0]==="_self")return e;for(let n=0;n<t.length;n++){if(typeof e!="object"||e===null)return;const r=t[n];if(r.endsWith("[]")){const o=r.slice(0,-2);if(o in e){const l=e[o];return Array.isArray(l)?l.map(u=>x(u,t.slice(n+1))):void 0}else return}else e=e[r]}return e}catch(n){if(n instanceof TypeError)return;throw n}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function yt(e,t){if(!t||typeof t!="string")throw new Error("model is required and must be a string");if(e.isVertexAI()){if(t.startsWith("publishers/")||t.startsWith("projects/")||t.startsWith("models/"))return t;if(t.indexOf("/")>=0){const n=t.split("/",2);return`publishers/${n[0]}/models/${n[1]}`}else return`publishers/google/models/${t}`}else return t.startsWith("models/")||t.startsWith("tunedModels/")?t:`models/${t}`}function U1(e,t){const n=yt(e,t);return n?n.startsWith("publishers/")&&e.isVertexAI()?`projects/${e.getProject()}/locations/${e.getLocation()}/${n}`:n.startsWith("models/")&&e.isVertexAI()?`projects/${e.getProject()}/locations/${e.getLocation()}/publishers/google/${n}`:n:""}function G1(e,t){return Array.isArray(t)?t.map(n=>hu(e,n)):[hu(e,t)]}function hu(e,t){if(typeof t=="object"&&t!==null)return t;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof t}`)}function bM(e,t){const n=hu(e,t);if(n.mimeType&&n.mimeType.startsWith("image/"))return n;throw new Error(`Unsupported mime type: ${n.mimeType}`)}function TM(e,t){const n=hu(e,t);if(n.mimeType&&n.mimeType.startsWith("audio/"))return n;throw new Error(`Unsupported mime type: ${n.mimeType}`)}function y0(e,t){if(t==null)throw new Error("PartUnion is required");if(typeof t=="object")return t;if(typeof t=="string")return{text:t};throw new Error(`Unsupported part type: ${typeof t}`)}function q1(e,t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("PartListUnion is required");return Array.isArray(t)?t.map(n=>y0(e,n)):[y0(e,t)]}function Pd(e){return e!=null&&typeof e=="object"&&"parts"in e&&Array.isArray(e.parts)}function x0(e){return e!=null&&typeof e=="object"&&"functionCall"in e}function v0(e){return e!=null&&typeof e=="object"&&"functionResponse"in e}function an(e,t){if(t==null)throw new Error("ContentUnion is required");return Pd(t)?t:{role:"user",parts:q1(e,t)}}function Y1(e,t){if(!t)return[];if(e.isVertexAI()&&Array.isArray(t))return t.flatMap(n=>{const r=an(e,n);return r.parts&&r.parts.length>0&&r.parts[0].text!==void 0?[r.parts[0].text]:[]});if(e.isVertexAI()){const n=an(e,t);return n.parts&&n.parts.length>0&&n.parts[0].text!==void 0?[n.parts[0].text]:[]}return Array.isArray(t)?t.map(n=>an(e,n)):[an(e,t)]}function er(e,t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("contents are required");if(!Array.isArray(t)){if(x0(t)||v0(t))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[an(e,t)]}const n=[],r=[],o=Pd(t[0]);for(const l of t){const u=Pd(l);if(u!=o)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(u)n.push(l);else{if(x0(l)||v0(l))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");r.push(l)}}return o||n.push({role:"user",parts:q1(e,r)}),n}function $1(e,t){return t}function K1(e,t){if(typeof t=="object")return t;if(typeof t=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:t}}};throw new Error(`Unsupported speechConfig type: ${typeof t}`)}function Du(e,t){return t}function Iu(e,t){if(!Array.isArray(t))throw new Error("tool is required and must be an array of Tools");return t}function SM(e,t,n,r=1){const o=!t.startsWith(`${n}/`)&&t.split("/").length===r;return e.isVertexAI()?t.startsWith("projects/")?t:t.startsWith("locations/")?`projects/${e.getProject()}/${t}`:t.startsWith(`${n}/`)?`projects/${e.getProject()}/locations/${e.getLocation()}/${t}`:o?`projects/${e.getProject()}/locations/${e.getLocation()}/${n}/${t}`:t:o?`${n}/${t}`:t}function tr(e,t){if(typeof t!="string")throw new Error("name must be a string");return SM(e,t,"cachedContents")}function X1(e,t){switch(t){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return t}}function nr(e,t){if(typeof t!="string")throw new Error("fromImageBytes must be a string");return t}function W1(e,t){if(typeof t!="string")throw new Error("fromName must be a string");return t.startsWith("files/")?t.split("files/")[1]:t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function CM(e,t){const n={};if(x(t,["videoMetadata"])!==void 0)throw new Error("videoMetadata parameter is not supported in Gemini API.");const r=x(t,["thought"]);r!=null&&v(n,["thought"],r);const o=x(t,["codeExecutionResult"]);o!=null&&v(n,["codeExecutionResult"],o);const l=x(t,["executableCode"]);l!=null&&v(n,["executableCode"],l);const u=x(t,["fileData"]);u!=null&&v(n,["fileData"],u);const f=x(t,["functionCall"]);f!=null&&v(n,["functionCall"],f);const m=x(t,["functionResponse"]);m!=null&&v(n,["functionResponse"],m);const d=x(t,["inlineData"]);d!=null&&v(n,["inlineData"],d);const h=x(t,["text"]);return h!=null&&v(n,["text"],h),n}function b0(e,t){const n={},r=x(t,["parts"]);if(r!=null){let l=r;Array.isArray(l)&&(l=l.map(u=>CM(e,u))),v(n,["parts"],l)}const o=x(t,["role"]);return o!=null&&v(n,["role"],o),n}function wM(){return{}}function MM(e,t){const n={},r=x(t,["mode"]);r!=null&&v(n,["mode"],r);const o=x(t,["dynamicThreshold"]);return o!=null&&v(n,["dynamicThreshold"],o),n}function EM(e,t){const n={},r=x(t,["dynamicRetrievalConfig"]);return r!=null&&v(n,["dynamicRetrievalConfig"],MM(e,r)),n}function AM(e,t){const n={};if(x(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");x(t,["googleSearch"])!=null&&v(n,["googleSearch"],wM());const o=x(t,["googleSearchRetrieval"]);o!=null&&v(n,["googleSearchRetrieval"],EM(e,o));const l=x(t,["codeExecution"]);l!=null&&v(n,["codeExecution"],l);const u=x(t,["functionDeclarations"]);return u!=null&&v(n,["functionDeclarations"],u),n}function DM(e,t){const n={},r=x(t,["mode"]);r!=null&&v(n,["mode"],r);const o=x(t,["allowedFunctionNames"]);return o!=null&&v(n,["allowedFunctionNames"],o),n}function IM(e,t){const n={},r=x(t,["functionCallingConfig"]);return r!=null&&v(n,["functionCallingConfig"],DM(e,r)),n}function kM(e,t,n){const r={},o=x(t,["ttl"]);n!==void 0&&o!=null&&v(n,["ttl"],o);const l=x(t,["expireTime"]);n!==void 0&&l!=null&&v(n,["expireTime"],l);const u=x(t,["displayName"]);n!==void 0&&u!=null&&v(n,["displayName"],u);const f=x(t,["contents"]);if(n!==void 0&&f!=null){let y=er(e,f);Array.isArray(y)&&(y=y.map(T=>b0(e,T))),v(n,["contents"],y)}const m=x(t,["systemInstruction"]);n!==void 0&&m!=null&&v(n,["systemInstruction"],b0(e,an(e,m)));const d=x(t,["tools"]);if(n!==void 0&&d!=null){let y=d;Array.isArray(y)&&(y=y.map(T=>AM(e,T))),v(n,["tools"],y)}const h=x(t,["toolConfig"]);return n!==void 0&&h!=null&&v(n,["toolConfig"],IM(e,h)),r}function RM(e,t){const n={},r=x(t,["model"]);r!=null&&v(n,["model"],U1(e,r));const o=x(t,["config"]);return o!=null&&v(n,["config"],kM(e,o,n)),n}function NM(e,t){const n={},r=x(t,["name"]);r!=null&&v(n,["_url","name"],tr(e,r));const o=x(t,["config"]);return o!=null&&v(n,["config"],o),n}function _M(e,t){const n={},r=x(t,["name"]);r!=null&&v(n,["_url","name"],tr(e,r));const o=x(t,["config"]);return o!=null&&v(n,["config"],o),n}function LM(e,t,n){const r={},o=x(t,["ttl"]);n!==void 0&&o!=null&&v(n,["ttl"],o);const l=x(t,["expireTime"]);return n!==void 0&&l!=null&&v(n,["expireTime"],l),r}function VM(e,t){const n={},r=x(t,["name"]);r!=null&&v(n,["_url","name"],tr(e,r));const o=x(t,["config"]);return o!=null&&v(n,["config"],LM(e,o,n)),n}function PM(e,t,n){const r={},o=x(t,["pageSize"]);n!==void 0&&o!=null&&v(n,["_query","pageSize"],o);const l=x(t,["pageToken"]);return n!==void 0&&l!=null&&v(n,["_query","pageToken"],l),r}function BM(e,t){const n={},r=x(t,["config"]);return r!=null&&v(n,["config"],PM(e,r,n)),n}function OM(e,t){const n={},r=x(t,["videoMetadata"]);r!=null&&v(n,["videoMetadata"],r);const o=x(t,["thought"]);o!=null&&v(n,["thought"],o);const l=x(t,["codeExecutionResult"]);l!=null&&v(n,["codeExecutionResult"],l);const u=x(t,["executableCode"]);u!=null&&v(n,["executableCode"],u);const f=x(t,["fileData"]);f!=null&&v(n,["fileData"],f);const m=x(t,["functionCall"]);m!=null&&v(n,["functionCall"],m);const d=x(t,["functionResponse"]);d!=null&&v(n,["functionResponse"],d);const h=x(t,["inlineData"]);h!=null&&v(n,["inlineData"],h);const y=x(t,["text"]);return y!=null&&v(n,["text"],y),n}function T0(e,t){const n={},r=x(t,["parts"]);if(r!=null){let l=r;Array.isArray(l)&&(l=l.map(u=>OM(e,u))),v(n,["parts"],l)}const o=x(t,["role"]);return o!=null&&v(n,["role"],o),n}function FM(){return{}}function zM(e,t){const n={},r=x(t,["mode"]);r!=null&&v(n,["mode"],r);const o=x(t,["dynamicThreshold"]);return o!=null&&v(n,["dynamicThreshold"],o),n}function jM(e,t){const n={},r=x(t,["dynamicRetrievalConfig"]);return r!=null&&v(n,["dynamicRetrievalConfig"],zM(e,r)),n}function HM(e,t){const n={},r=x(t,["retrieval"]);r!=null&&v(n,["retrieval"],r),x(t,["googleSearch"])!=null&&v(n,["googleSearch"],FM());const l=x(t,["googleSearchRetrieval"]);l!=null&&v(n,["googleSearchRetrieval"],jM(e,l));const u=x(t,["codeExecution"]);u!=null&&v(n,["codeExecution"],u);const f=x(t,["functionDeclarations"]);return f!=null&&v(n,["functionDeclarations"],f),n}function UM(e,t){const n={},r=x(t,["mode"]);r!=null&&v(n,["mode"],r);const o=x(t,["allowedFunctionNames"]);return o!=null&&v(n,["allowedFunctionNames"],o),n}function GM(e,t){const n={},r=x(t,["functionCallingConfig"]);return r!=null&&v(n,["functionCallingConfig"],UM(e,r)),n}function qM(e,t,n){const r={},o=x(t,["ttl"]);n!==void 0&&o!=null&&v(n,["ttl"],o);const l=x(t,["expireTime"]);n!==void 0&&l!=null&&v(n,["expireTime"],l);const u=x(t,["displayName"]);n!==void 0&&u!=null&&v(n,["displayName"],u);const f=x(t,["contents"]);if(n!==void 0&&f!=null){let y=er(e,f);Array.isArray(y)&&(y=y.map(T=>T0(e,T))),v(n,["contents"],y)}const m=x(t,["systemInstruction"]);n!==void 0&&m!=null&&v(n,["systemInstruction"],T0(e,an(e,m)));const d=x(t,["tools"]);if(n!==void 0&&d!=null){let y=d;Array.isArray(y)&&(y=y.map(T=>HM(e,T))),v(n,["tools"],y)}const h=x(t,["toolConfig"]);return n!==void 0&&h!=null&&v(n,["toolConfig"],GM(e,h)),r}function YM(e,t){const n={},r=x(t,["model"]);r!=null&&v(n,["model"],U1(e,r));const o=x(t,["config"]);return o!=null&&v(n,["config"],qM(e,o,n)),n}function $M(e,t){const n={},r=x(t,["name"]);r!=null&&v(n,["_url","name"],tr(e,r));const o=x(t,["config"]);return o!=null&&v(n,["config"],o),n}function KM(e,t){const n={},r=x(t,["name"]);r!=null&&v(n,["_url","name"],tr(e,r));const o=x(t,["config"]);return o!=null&&v(n,["config"],o),n}function XM(e,t,n){const r={},o=x(t,["ttl"]);n!==void 0&&o!=null&&v(n,["ttl"],o);const l=x(t,["expireTime"]);return n!==void 0&&l!=null&&v(n,["expireTime"],l),r}function WM(e,t){const n={},r=x(t,["name"]);r!=null&&v(n,["_url","name"],tr(e,r));const o=x(t,["config"]);return o!=null&&v(n,["config"],XM(e,o,n)),n}function QM(e,t,n){const r={},o=x(t,["pageSize"]);n!==void 0&&o!=null&&v(n,["_query","pageSize"],o);const l=x(t,["pageToken"]);return n!==void 0&&l!=null&&v(n,["_query","pageToken"],l),r}function JM(e,t){const n={},r=x(t,["config"]);return r!=null&&v(n,["config"],QM(e,r,n)),n}function ou(e,t){const n={},r=x(t,["name"]);r!=null&&v(n,["name"],r);const o=x(t,["displayName"]);o!=null&&v(n,["displayName"],o);const l=x(t,["model"]);l!=null&&v(n,["model"],l);const u=x(t,["createTime"]);u!=null&&v(n,["createTime"],u);const f=x(t,["updateTime"]);f!=null&&v(n,["updateTime"],f);const m=x(t,["expireTime"]);m!=null&&v(n,["expireTime"],m);const d=x(t,["usageMetadata"]);return d!=null&&v(n,["usageMetadata"],d),n}function ZM(){return{}}function eE(e,t){const n={},r=x(t,["nextPageToken"]);r!=null&&v(n,["nextPageToken"],r);const o=x(t,["cachedContents"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(u=>ou(e,u))),v(n,["cachedContents"],l)}return n}function su(e,t){const n={},r=x(t,["name"]);r!=null&&v(n,["name"],r);const o=x(t,["displayName"]);o!=null&&v(n,["displayName"],o);const l=x(t,["model"]);l!=null&&v(n,["model"],l);const u=x(t,["createTime"]);u!=null&&v(n,["createTime"],u);const f=x(t,["updateTime"]);f!=null&&v(n,["updateTime"],f);const m=x(t,["expireTime"]);m!=null&&v(n,["expireTime"],m);const d=x(t,["usageMetadata"]);return d!=null&&v(n,["usageMetadata"],d),n}function tE(){return{}}function nE(e,t){const n={},r=x(t,["nextPageToken"]);r!=null&&v(n,["nextPageToken"],r);const o=x(t,["cachedContents"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(u=>su(e,u))),v(n,["cachedContents"],l)}return n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var cs;(function(e){e.PAGED_ITEM_BATCH_JOBS="batchJobs",e.PAGED_ITEM_MODELS="models",e.PAGED_ITEM_TUNING_JOBS="tuningJobs",e.PAGED_ITEM_FILES="files",e.PAGED_ITEM_CACHED_CONTENTS="cachedContents"})(cs||(cs={}));class Dm{constructor(t,n,r,o){this.pageInternal=[],this.paramsInternal={},this.requestInternal=n,this.init(t,r,o)}init(t,n,r){var o,l;this.nameInternal=t,this.pageInternal=n[this.nameInternal]||[],this.idxInternal=0;let u={config:{}};r?typeof r=="object"?u=Object.assign({},r):u=r:u={config:{}},u.config&&(u.config.pageToken=n.nextPageToken),this.paramsInternal=u,this.pageInternalSize=(l=(o=u.config)===null||o===void 0?void 0:o.pageSize)!==null&&l!==void 0?l:this.pageInternal.length}initNextPage(t){this.init(this.nameInternal,t,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(t){return this.pageInternal[t]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const t=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:t,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const t=await this.requestInternal(this.params);return this.initNextPage(t),this.page}hasNextPage(){var t;return((t=this.params.config)===null||t===void 0?void 0:t.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var S0;(function(e){e.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",e.OUTCOME_OK="OUTCOME_OK",e.OUTCOME_FAILED="OUTCOME_FAILED",e.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(S0||(S0={}));var C0;(function(e){e.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",e.PYTHON="PYTHON"})(C0||(C0={}));var w0;(function(e){e.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",e.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",e.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",e.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",e.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",e.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY"})(w0||(w0={}));var M0;(function(e){e.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",e.SEVERITY="SEVERITY",e.PROBABILITY="PROBABILITY"})(M0||(M0={}));var E0;(function(e){e.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",e.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",e.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",e.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",e.BLOCK_NONE="BLOCK_NONE",e.OFF="OFF"})(E0||(E0={}));var A0;(function(e){e.MODE_UNSPECIFIED="MODE_UNSPECIFIED",e.MODE_DYNAMIC="MODE_DYNAMIC"})(A0||(A0={}));var D0;(function(e){e.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",e.STRING="STRING",e.NUMBER="NUMBER",e.INTEGER="INTEGER",e.BOOLEAN="BOOLEAN",e.ARRAY="ARRAY",e.OBJECT="OBJECT"})(D0||(D0={}));var I0;(function(e){e.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",e.STOP="STOP",e.MAX_TOKENS="MAX_TOKENS",e.SAFETY="SAFETY",e.RECITATION="RECITATION",e.LANGUAGE="LANGUAGE",e.OTHER="OTHER",e.BLOCKLIST="BLOCKLIST",e.PROHIBITED_CONTENT="PROHIBITED_CONTENT",e.SPII="SPII",e.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",e.IMAGE_SAFETY="IMAGE_SAFETY"})(I0||(I0={}));var k0;(function(e){e.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",e.NEGLIGIBLE="NEGLIGIBLE",e.LOW="LOW",e.MEDIUM="MEDIUM",e.HIGH="HIGH"})(k0||(k0={}));var R0;(function(e){e.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",e.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",e.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",e.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",e.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(R0||(R0={}));var N0;(function(e){e.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",e.SAFETY="SAFETY",e.OTHER="OTHER",e.BLOCKLIST="BLOCKLIST",e.PROHIBITED_CONTENT="PROHIBITED_CONTENT"})(N0||(N0={}));var _0;(function(e){e.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",e.ON_DEMAND="ON_DEMAND",e.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(_0||(_0={}));var pu;(function(e){e.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",e.TEXT="TEXT",e.IMAGE="IMAGE",e.AUDIO="AUDIO"})(pu||(pu={}));var L0;(function(e){e.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",e.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",e.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",e.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(L0||(L0={}));var Bd;(function(e){e.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",e.JOB_STATE_QUEUED="JOB_STATE_QUEUED",e.JOB_STATE_PENDING="JOB_STATE_PENDING",e.JOB_STATE_RUNNING="JOB_STATE_RUNNING",e.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",e.JOB_STATE_FAILED="JOB_STATE_FAILED",e.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",e.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",e.JOB_STATE_PAUSED="JOB_STATE_PAUSED",e.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",e.JOB_STATE_UPDATING="JOB_STATE_UPDATING",e.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(Bd||(Bd={}));var V0;(function(e){e.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",e.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",e.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",e.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",e.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",e.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",e.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(V0||(V0={}));var P0;(function(e){e.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",e.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",e.BALANCED="BALANCED",e.PRIORITIZE_COST="PRIORITIZE_COST"})(P0||(P0={}));var B0;(function(e){e.MODE_UNSPECIFIED="MODE_UNSPECIFIED",e.MODE_DYNAMIC="MODE_DYNAMIC"})(B0||(B0={}));var O0;(function(e){e.MODE_UNSPECIFIED="MODE_UNSPECIFIED",e.AUTO="AUTO",e.ANY="ANY",e.NONE="NONE"})(O0||(O0={}));var F0;(function(e){e.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",e.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",e.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",e.BLOCK_NONE="BLOCK_NONE"})(F0||(F0={}));var z0;(function(e){e.DONT_ALLOW="DONT_ALLOW",e.ALLOW_ADULT="ALLOW_ADULT",e.ALLOW_ALL="ALLOW_ALL"})(z0||(z0={}));var j0;(function(e){e.auto="auto",e.en="en",e.ja="ja",e.ko="ko",e.hi="hi"})(j0||(j0={}));var H0;(function(e){e.STATE_UNSPECIFIED="STATE_UNSPECIFIED",e.PROCESSING="PROCESSING",e.ACTIVE="ACTIVE",e.FAILED="FAILED"})(H0||(H0={}));var U0;(function(e){e.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",e.UPLOADED="UPLOADED",e.GENERATED="GENERATED"})(U0||(U0={}));var G0;(function(e){e.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",e.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",e.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",e.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",e.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(G0||(G0={}));var q0;(function(e){e.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",e.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",e.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",e.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(q0||(q0={}));var Y0;(function(e){e.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",e.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",e.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",e.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(Y0||(Y0={}));var $0;(function(e){e.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",e.TEXT="TEXT",e.IMAGE="IMAGE",e.VIDEO="VIDEO",e.AUDIO="AUDIO",e.DOCUMENT="DOCUMENT"})($0||($0={}));var K0;(function(e){e.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",e.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",e.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(K0||(K0={}));var X0;(function(e){e.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",e.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",e.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(X0||(X0={}));var W0;(function(e){e.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",e.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",e.NO_INTERRUPTION="NO_INTERRUPTION"})(W0||(W0={}));var Q0;(function(e){e.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",e.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",e.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(Q0||(Q0={}));class Gl{get text(){var t,n,r,o,l,u,f,m;if(((o=(r=(n=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||o===void 0?void 0:o.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let d="",h=!1;const y=[];for(const T of(m=(f=(u=(l=this.candidates)===null||l===void 0?void 0:l[0])===null||u===void 0?void 0:u.content)===null||f===void 0?void 0:f.parts)!==null&&m!==void 0?m:[]){for(const[S,M]of Object.entries(T))S!=="text"&&S!=="thought"&&(M!==null||M!==void 0)&&y.push(S);if(typeof T.text=="string"){if(typeof T.thought=="boolean"&&T.thought)continue;h=!0,d+=T.text}}return y.length>0&&console.warn(`there are non-text parts ${y} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),h?d:void 0}get data(){var t,n,r,o,l,u,f,m;if(((o=(r=(n=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||o===void 0?void 0:o.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let d="";const h=[];for(const y of(m=(f=(u=(l=this.candidates)===null||l===void 0?void 0:l[0])===null||u===void 0?void 0:u.content)===null||f===void 0?void 0:f.parts)!==null&&m!==void 0?m:[]){for(const[T,S]of Object.entries(y))T!=="inlineData"&&(S!==null||S!==void 0)&&h.push(T);y.inlineData&&typeof y.inlineData.data=="string"&&(d+=atob(y.inlineData.data))}return h.length>0&&console.warn(`there are non-data parts ${h} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),d.length>0?btoa(d):void 0}get functionCalls(){var t,n,r,o,l,u,f,m;if(((o=(r=(n=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||o===void 0?void 0:o.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const d=(m=(f=(u=(l=this.candidates)===null||l===void 0?void 0:l[0])===null||u===void 0?void 0:u.content)===null||f===void 0?void 0:f.parts)===null||m===void 0?void 0:m.filter(h=>h.functionCall).map(h=>h.functionCall).filter(h=>h!==void 0);if((d==null?void 0:d.length)!==0)return d}get executableCode(){var t,n,r,o,l,u,f,m,d;if(((o=(r=(n=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||o===void 0?void 0:o.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const h=(m=(f=(u=(l=this.candidates)===null||l===void 0?void 0:l[0])===null||u===void 0?void 0:u.content)===null||f===void 0?void 0:f.parts)===null||m===void 0?void 0:m.filter(y=>y.executableCode).map(y=>y.executableCode).filter(y=>y!==void 0);if((h==null?void 0:h.length)!==0)return(d=h==null?void 0:h[0])===null||d===void 0?void 0:d.code}get codeExecutionResult(){var t,n,r,o,l,u,f,m,d;if(((o=(r=(n=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||o===void 0?void 0:o.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const h=(m=(f=(u=(l=this.candidates)===null||l===void 0?void 0:l[0])===null||u===void 0?void 0:u.content)===null||f===void 0?void 0:f.parts)===null||m===void 0?void 0:m.filter(y=>y.codeExecutionResult).map(y=>y.codeExecutionResult).filter(y=>y!==void 0);if((h==null?void 0:h.length)!==0)return(d=h==null?void 0:h[0])===null||d===void 0?void 0:d.output}}class J0{}class Z0{}class ex{}class tx{}class iE{}class nx{}class ix{}class rx{}class rE{}class Od{constructor(t){const n={};for(const r of t.headers.entries())n[r[0]]=r[1];this.headers=n,this.responseInternal=t}json(){return this.responseInternal.json()}}class aE{}class oE{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class sE extends Ss{constructor(t){super(),this.apiClient=t,this.list=async(n={})=>new Dm(cs.PAGED_ITEM_CACHED_CONTENTS,r=>this.listInternal(r),await this.listInternal(n),n)}async create(t){var n,r,o,l;let u,f="",m={};if(this.apiClient.isVertexAI()){const d=YM(this.apiClient,t);return f=Re("cachedContents",d._url),m=d._query,delete d.config,delete d._url,delete d._query,u=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),u.then(h=>su(this.apiClient,h))}else{const d=RM(this.apiClient,t);return f=Re("cachedContents",d._url),m=d._query,delete d.config,delete d._url,delete d._query,u=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(h=>h.json()),u.then(h=>ou(this.apiClient,h))}}async get(t){var n,r,o,l;let u,f="",m={};if(this.apiClient.isVertexAI()){const d=$M(this.apiClient,t);return f=Re("{name}",d._url),m=d._query,delete d.config,delete d._url,delete d._query,u=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),u.then(h=>su(this.apiClient,h))}else{const d=NM(this.apiClient,t);return f=Re("{name}",d._url),m=d._query,delete d.config,delete d._url,delete d._query,u=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(h=>h.json()),u.then(h=>ou(this.apiClient,h))}}async delete(t){var n,r,o,l;let u,f="",m={};if(this.apiClient.isVertexAI()){const d=KM(this.apiClient,t);return f=Re("{name}",d._url),m=d._query,delete d.config,delete d._url,delete d._query,u=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),u.then(()=>{const h=tE(),y=new ix;return Object.assign(y,h),y})}else{const d=_M(this.apiClient,t);return f=Re("{name}",d._url),m=d._query,delete d.config,delete d._url,delete d._query,u=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(h=>h.json()),u.then(()=>{const h=ZM(),y=new ix;return Object.assign(y,h),y})}}async update(t){var n,r,o,l;let u,f="",m={};if(this.apiClient.isVertexAI()){const d=WM(this.apiClient,t);return f=Re("{name}",d._url),m=d._query,delete d.config,delete d._url,delete d._query,u=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(d),httpMethod:"PATCH",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),u.then(h=>su(this.apiClient,h))}else{const d=VM(this.apiClient,t);return f=Re("{name}",d._url),m=d._query,delete d.config,delete d._url,delete d._query,u=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(d),httpMethod:"PATCH",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(h=>h.json()),u.then(h=>ou(this.apiClient,h))}}async listInternal(t){var n,r,o,l;let u,f="",m={};if(this.apiClient.isVertexAI()){const d=JM(this.apiClient,t);return f=Re("cachedContents",d._url),m=d._query,delete d.config,delete d._url,delete d._query,u=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),u.then(h=>{const y=nE(this.apiClient,h),T=new rx;return Object.assign(T,y),T})}else{const d=BM(this.apiClient,t);return f=Re("cachedContents",d._url),m=d._query,delete d.config,delete d._url,delete d._query,u=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(h=>h.json()),u.then(h=>{const y=eE(this.apiClient,h),T=new rx;return Object.assign(T,y),T})}}}function ax(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function Gt(e){return this instanceof Gt?(this.v=e,this):new Gt(e)}function gu(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(e,t||[]),o,l=[];return o=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),f("next"),f("throw"),f("return",u),o[Symbol.asyncIterator]=function(){return this},o;function u(S){return function(M){return Promise.resolve(M).then(S,y)}}function f(S,M){r[S]&&(o[S]=function(E){return new Promise(function(_,I){l.push([S,E,_,I])>1||m(S,E)})},M&&(o[S]=M(o[S])))}function m(S,M){try{d(r[S](M))}catch(E){T(l[0][3],E)}}function d(S){S.value instanceof Gt?Promise.resolve(S.value.v).then(h,y):T(l[0][2],S)}function h(S){m("next",S)}function y(S){m("throw",S)}function T(S,M){S(M),l.shift(),l.length&&m(l[0][0],l[0][1])}}function Fd(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],n;return t?t.call(e):(e=typeof ax=="function"?ax(e):e[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(l){n[l]=e[l]&&function(u){return new Promise(function(f,m){u=e[l](u),o(f,m,u.done,u.value)})}}function o(l,u,f,m){Promise.resolve(m).then(function(d){l({value:d,done:f})},u)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function lE(e){var t;if(e.candidates==null||e.candidates.length===0)return!1;const n=(t=e.candidates[0])===null||t===void 0?void 0:t.content;return n===void 0?!1:Q1(n)}function Q1(e){if(e.parts===void 0||e.parts.length===0)return!1;for(const t of e.parts)if(t===void 0||Object.keys(t).length===0||t.text!==void 0&&t.text==="")return!1;return!0}function uE(e){if(e.length!==0){if(e[0].role!=="user")throw new Error("History must start with a user turn.");for(const t of e)if(t.role!=="user"&&t.role!=="model")throw new Error(`Role must be user or model, but got ${t.role}.`)}}function cE(e){if(e===void 0||e.length===0)return[];const t=[],n=e.length;let r=0,o=e[0];for(;r<n;)if(e[r].role==="user")o=e[r],r++;else{const l=[];let u=!0;for(;r<n&&e[r].role==="model";)l.push(e[r]),u&&!Q1(e[r])&&(u=!1),r++;u&&(t.push(o),t.push(...l))}return t}class fE{constructor(t,n){this.modelsModule=t,this.apiClient=n}create(t){return new dE(this.apiClient,this.modelsModule,t.model,t.config,t.history)}}class dE{constructor(t,n,r,o={},l=[]){this.apiClient=t,this.modelsModule=n,this.model=r,this.config=o,this.history=l,this.sendPromise=Promise.resolve(),uE(l)}async sendMessage(t){var n;await this.sendPromise;const r=an(this.apiClient,t.message),o=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(r),config:(n=t.config)!==null&&n!==void 0?n:this.config});return this.sendPromise=(async()=>{var l,u;const m=(u=(l=(await o).candidates)===null||l===void 0?void 0:l[0])===null||u===void 0?void 0:u.content,d=m?[m]:[];this.recordHistory(r,d)})(),await this.sendPromise,o}async sendMessageStream(t){var n;await this.sendPromise;const r=an(this.apiClient,t.message),o=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(r),config:(n=t.config)!==null&&n!==void 0?n:this.config});this.sendPromise=o.then(()=>{}).catch(()=>{});const l=await o;return this.processStreamResponse(l,r)}getHistory(t=!1){return t?cE(this.history):this.history}processStreamResponse(t,n){var r,o;return gu(this,arguments,function*(){var u,f,m,d;const h=[];try{for(var y=!0,T=Fd(t),S;S=yield Gt(T.next()),u=S.done,!u;y=!0){d=S.value,y=!1;const M=d;if(lE(M)){const E=(o=(r=M.candidates)===null||r===void 0?void 0:r[0])===null||o===void 0?void 0:o.content;E!==void 0&&h.push(E)}yield yield Gt(M)}}catch(M){f={error:M}}finally{try{!y&&!u&&(m=T.return)&&(yield Gt(m.call(T)))}finally{if(f)throw f.error}}this.recordHistory(n,h)})}recordHistory(t,n){let r=[];n.length>0&&n.every(o=>o.role==="model")?r=n:r.push({role:"model",parts:[]}),this.history.push(t),this.history.push(...r)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function mE(e,t,n){const r={},o=x(t,["pageSize"]);n!==void 0&&o!=null&&v(n,["_query","pageSize"],o);const l=x(t,["pageToken"]);return n!==void 0&&l!=null&&v(n,["_query","pageToken"],l),r}function hE(e,t){const n={},r=x(t,["config"]);return r!=null&&v(n,["config"],mE(e,r,n)),n}function pE(e,t){const n={},r=x(t,["details"]);r!=null&&v(n,["details"],r);const o=x(t,["message"]);o!=null&&v(n,["message"],o);const l=x(t,["code"]);return l!=null&&v(n,["code"],l),n}function gE(e,t){const n={},r=x(t,["name"]);r!=null&&v(n,["name"],r);const o=x(t,["displayName"]);o!=null&&v(n,["displayName"],o);const l=x(t,["mimeType"]);l!=null&&v(n,["mimeType"],l);const u=x(t,["sizeBytes"]);u!=null&&v(n,["sizeBytes"],u);const f=x(t,["createTime"]);f!=null&&v(n,["createTime"],f);const m=x(t,["expirationTime"]);m!=null&&v(n,["expirationTime"],m);const d=x(t,["updateTime"]);d!=null&&v(n,["updateTime"],d);const h=x(t,["sha256Hash"]);h!=null&&v(n,["sha256Hash"],h);const y=x(t,["uri"]);y!=null&&v(n,["uri"],y);const T=x(t,["downloadUri"]);T!=null&&v(n,["downloadUri"],T);const S=x(t,["state"]);S!=null&&v(n,["state"],S);const M=x(t,["source"]);M!=null&&v(n,["source"],M);const E=x(t,["videoMetadata"]);E!=null&&v(n,["videoMetadata"],E);const _=x(t,["error"]);return _!=null&&v(n,["error"],pE(e,_)),n}function yE(e,t){const n={},r=x(t,["file"]);r!=null&&v(n,["file"],gE(e,r));const o=x(t,["config"]);return o!=null&&v(n,["config"],o),n}function xE(e,t){const n={},r=x(t,["name"]);r!=null&&v(n,["_url","file"],W1(e,r));const o=x(t,["config"]);return o!=null&&v(n,["config"],o),n}function vE(e,t){const n={},r=x(t,["name"]);r!=null&&v(n,["_url","file"],W1(e,r));const o=x(t,["config"]);return o!=null&&v(n,["config"],o),n}function bE(e,t){const n={},r=x(t,["details"]);r!=null&&v(n,["details"],r);const o=x(t,["message"]);o!=null&&v(n,["message"],o);const l=x(t,["code"]);return l!=null&&v(n,["code"],l),n}function zd(e,t){const n={},r=x(t,["name"]);r!=null&&v(n,["name"],r);const o=x(t,["displayName"]);o!=null&&v(n,["displayName"],o);const l=x(t,["mimeType"]);l!=null&&v(n,["mimeType"],l);const u=x(t,["sizeBytes"]);u!=null&&v(n,["sizeBytes"],u);const f=x(t,["createTime"]);f!=null&&v(n,["createTime"],f);const m=x(t,["expirationTime"]);m!=null&&v(n,["expirationTime"],m);const d=x(t,["updateTime"]);d!=null&&v(n,["updateTime"],d);const h=x(t,["sha256Hash"]);h!=null&&v(n,["sha256Hash"],h);const y=x(t,["uri"]);y!=null&&v(n,["uri"],y);const T=x(t,["downloadUri"]);T!=null&&v(n,["downloadUri"],T);const S=x(t,["state"]);S!=null&&v(n,["state"],S);const M=x(t,["source"]);M!=null&&v(n,["source"],M);const E=x(t,["videoMetadata"]);E!=null&&v(n,["videoMetadata"],E);const _=x(t,["error"]);return _!=null&&v(n,["error"],bE(e,_)),n}function TE(e,t){const n={},r=x(t,["nextPageToken"]);r!=null&&v(n,["nextPageToken"],r);const o=x(t,["files"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(u=>zd(e,u))),v(n,["files"],l)}return n}function SE(){return{}}function CE(){return{}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class wE extends Ss{constructor(t){super(),this.apiClient=t,this.list=async(n={})=>new Dm(cs.PAGED_ITEM_FILES,r=>this.listInternal(r),await this.listInternal(n),n)}async upload(t){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(t.file,t.config).then(n=>zd(this.apiClient,n))}async listInternal(t){var n,r;let o,l="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const f=hE(this.apiClient,t);return l=Re("files",f._url),u=f._query,delete f.config,delete f._url,delete f._query,o=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(m=>m.json()),o.then(m=>{const d=TE(this.apiClient,m),h=new rE;return Object.assign(h,d),h})}}async createInternal(t){var n,r;let o,l="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const f=yE(this.apiClient,t);return l=Re("upload/v1beta/files",f._url),u=f._query,delete f.config,delete f._url,delete f._query,o=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(m=>m.json()),o.then(()=>{const m=SE(),d=new aE;return Object.assign(d,m),d})}}async get(t){var n,r;let o,l="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const f=xE(this.apiClient,t);return l=Re("files/{file}",f._url),u=f._query,delete f.config,delete f._url,delete f._query,o=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(m=>m.json()),o.then(m=>zd(this.apiClient,m))}}async delete(t){var n,r;let o,l="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const f=vE(this.apiClient,t);return l=Re("files/{file}",f._url),u=f._query,delete f.config,delete f._url,delete f._query,o=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(m=>m.json()),o.then(()=>{const m=CE(),d=new oE;return Object.assign(d,m),d})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function ME(e,t){const n={};if(x(t,["videoMetadata"])!==void 0)throw new Error("videoMetadata parameter is not supported in Gemini API.");const r=x(t,["thought"]);r!=null&&v(n,["thought"],r);const o=x(t,["codeExecutionResult"]);o!=null&&v(n,["codeExecutionResult"],o);const l=x(t,["executableCode"]);l!=null&&v(n,["executableCode"],l);const u=x(t,["fileData"]);u!=null&&v(n,["fileData"],u);const f=x(t,["functionCall"]);f!=null&&v(n,["functionCall"],f);const m=x(t,["functionResponse"]);m!=null&&v(n,["functionResponse"],m);const d=x(t,["inlineData"]);d!=null&&v(n,["inlineData"],d);const h=x(t,["text"]);return h!=null&&v(n,["text"],h),n}function EE(e,t){const n={},r=x(t,["videoMetadata"]);r!=null&&v(n,["videoMetadata"],r);const o=x(t,["thought"]);o!=null&&v(n,["thought"],o);const l=x(t,["codeExecutionResult"]);l!=null&&v(n,["codeExecutionResult"],l);const u=x(t,["executableCode"]);u!=null&&v(n,["executableCode"],u);const f=x(t,["fileData"]);f!=null&&v(n,["fileData"],f);const m=x(t,["functionCall"]);m!=null&&v(n,["functionCall"],m);const d=x(t,["functionResponse"]);d!=null&&v(n,["functionResponse"],d);const h=x(t,["inlineData"]);h!=null&&v(n,["inlineData"],h);const y=x(t,["text"]);return y!=null&&v(n,["text"],y),n}function AE(e,t){const n={},r=x(t,["parts"]);if(r!=null){let l=r;Array.isArray(l)&&(l=l.map(u=>ME(e,u))),v(n,["parts"],l)}const o=x(t,["role"]);return o!=null&&v(n,["role"],o),n}function DE(e,t){const n={},r=x(t,["parts"]);if(r!=null){let l=r;Array.isArray(l)&&(l=l.map(u=>EE(e,u))),v(n,["parts"],l)}const o=x(t,["role"]);return o!=null&&v(n,["role"],o),n}function IE(){return{}}function kE(){return{}}function RE(e,t){const n={},r=x(t,["mode"]);r!=null&&v(n,["mode"],r);const o=x(t,["dynamicThreshold"]);return o!=null&&v(n,["dynamicThreshold"],o),n}function NE(e,t){const n={},r=x(t,["mode"]);r!=null&&v(n,["mode"],r);const o=x(t,["dynamicThreshold"]);return o!=null&&v(n,["dynamicThreshold"],o),n}function _E(e,t){const n={},r=x(t,["dynamicRetrievalConfig"]);return r!=null&&v(n,["dynamicRetrievalConfig"],RE(e,r)),n}function LE(e,t){const n={},r=x(t,["dynamicRetrievalConfig"]);return r!=null&&v(n,["dynamicRetrievalConfig"],NE(e,r)),n}function VE(e,t){const n={};if(x(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");x(t,["googleSearch"])!=null&&v(n,["googleSearch"],IE());const o=x(t,["googleSearchRetrieval"]);o!=null&&v(n,["googleSearchRetrieval"],_E(e,o));const l=x(t,["codeExecution"]);l!=null&&v(n,["codeExecution"],l);const u=x(t,["functionDeclarations"]);return u!=null&&v(n,["functionDeclarations"],u),n}function PE(e,t){const n={},r=x(t,["retrieval"]);r!=null&&v(n,["retrieval"],r),x(t,["googleSearch"])!=null&&v(n,["googleSearch"],kE());const l=x(t,["googleSearchRetrieval"]);l!=null&&v(n,["googleSearchRetrieval"],LE(e,l));const u=x(t,["codeExecution"]);u!=null&&v(n,["codeExecution"],u);const f=x(t,["functionDeclarations"]);return f!=null&&v(n,["functionDeclarations"],f),n}function BE(e,t){const n={},r=x(t,["handle"]);if(r!=null&&v(n,["handle"],r),x(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return n}function OE(e,t){const n={},r=x(t,["handle"]);r!=null&&v(n,["handle"],r);const o=x(t,["transparent"]);return o!=null&&v(n,["transparent"],o),n}function FE(){return{}}function ox(){return{}}function zE(e,t){const n={},r=x(t,["disabled"]);r!=null&&v(n,["disabled"],r);const o=x(t,["startOfSpeechSensitivity"]);o!=null&&v(n,["startOfSpeechSensitivity"],o);const l=x(t,["endOfSpeechSensitivity"]);l!=null&&v(n,["endOfSpeechSensitivity"],l);const u=x(t,["prefixPaddingMs"]);u!=null&&v(n,["prefixPaddingMs"],u);const f=x(t,["silenceDurationMs"]);return f!=null&&v(n,["silenceDurationMs"],f),n}function jE(e,t){const n={},r=x(t,["disabled"]);r!=null&&v(n,["disabled"],r);const o=x(t,["startOfSpeechSensitivity"]);o!=null&&v(n,["startOfSpeechSensitivity"],o);const l=x(t,["endOfSpeechSensitivity"]);l!=null&&v(n,["endOfSpeechSensitivity"],l);const u=x(t,["prefixPaddingMs"]);u!=null&&v(n,["prefixPaddingMs"],u);const f=x(t,["silenceDurationMs"]);return f!=null&&v(n,["silenceDurationMs"],f),n}function HE(e,t){const n={},r=x(t,["automaticActivityDetection"]);r!=null&&v(n,["automaticActivityDetection"],zE(e,r));const o=x(t,["activityHandling"]);o!=null&&v(n,["activityHandling"],o);const l=x(t,["turnCoverage"]);return l!=null&&v(n,["turnCoverage"],l),n}function UE(e,t){const n={},r=x(t,["automaticActivityDetection"]);r!=null&&v(n,["automaticActivityDetection"],jE(e,r));const o=x(t,["activityHandling"]);o!=null&&v(n,["activityHandling"],o);const l=x(t,["turnCoverage"]);return l!=null&&v(n,["turnCoverage"],l),n}function GE(e,t){const n={},r=x(t,["targetTokens"]);return r!=null&&v(n,["targetTokens"],r),n}function qE(e,t){const n={},r=x(t,["targetTokens"]);return r!=null&&v(n,["targetTokens"],r),n}function YE(e,t){const n={},r=x(t,["triggerTokens"]);r!=null&&v(n,["triggerTokens"],r);const o=x(t,["slidingWindow"]);return o!=null&&v(n,["slidingWindow"],GE(e,o)),n}function $E(e,t){const n={},r=x(t,["triggerTokens"]);r!=null&&v(n,["triggerTokens"],r);const o=x(t,["slidingWindow"]);return o!=null&&v(n,["slidingWindow"],qE(e,o)),n}function KE(e,t,n){const r={},o=x(t,["generationConfig"]);n!==void 0&&o!=null&&v(n,["setup","generationConfig"],o);const l=x(t,["responseModalities"]);n!==void 0&&l!=null&&v(n,["setup","generationConfig","responseModalities"],l);const u=x(t,["temperature"]);n!==void 0&&u!=null&&v(n,["setup","generationConfig","temperature"],u);const f=x(t,["topP"]);n!==void 0&&f!=null&&v(n,["setup","generationConfig","topP"],f);const m=x(t,["topK"]);n!==void 0&&m!=null&&v(n,["setup","generationConfig","topK"],m);const d=x(t,["maxOutputTokens"]);n!==void 0&&d!=null&&v(n,["setup","generationConfig","maxOutputTokens"],d);const h=x(t,["mediaResolution"]);n!==void 0&&h!=null&&v(n,["setup","generationConfig","mediaResolution"],h);const y=x(t,["seed"]);n!==void 0&&y!=null&&v(n,["setup","generationConfig","seed"],y);const T=x(t,["speechConfig"]);n!==void 0&&T!=null&&v(n,["setup","generationConfig","speechConfig"],T);const S=x(t,["systemInstruction"]);n!==void 0&&S!=null&&v(n,["setup","systemInstruction"],AE(e,an(e,S)));const M=x(t,["tools"]);if(n!==void 0&&M!=null){let R=Iu(e,M);Array.isArray(R)&&(R=R.map(z=>VE(e,Du(e,z)))),v(n,["setup","tools"],R)}const E=x(t,["sessionResumption"]);if(n!==void 0&&E!=null&&v(n,["setup","sessionResumption"],BE(e,E)),x(t,["inputAudioTranscription"])!==void 0)throw new Error("inputAudioTranscription parameter is not supported in Gemini API.");const _=x(t,["outputAudioTranscription"]);n!==void 0&&_!=null&&v(n,["setup","outputAudioTranscription"],FE());const I=x(t,["realtimeInputConfig"]);n!==void 0&&I!=null&&v(n,["setup","realtimeInputConfig"],HE(e,I));const k=x(t,["contextWindowCompression"]);return n!==void 0&&k!=null&&v(n,["setup","contextWindowCompression"],YE(e,k)),r}function XE(e,t,n){const r={},o=x(t,["generationConfig"]);n!==void 0&&o!=null&&v(n,["setup","generationConfig"],o);const l=x(t,["responseModalities"]);n!==void 0&&l!=null&&v(n,["setup","generationConfig","responseModalities"],l);const u=x(t,["temperature"]);n!==void 0&&u!=null&&v(n,["setup","generationConfig","temperature"],u);const f=x(t,["topP"]);n!==void 0&&f!=null&&v(n,["setup","generationConfig","topP"],f);const m=x(t,["topK"]);n!==void 0&&m!=null&&v(n,["setup","generationConfig","topK"],m);const d=x(t,["maxOutputTokens"]);n!==void 0&&d!=null&&v(n,["setup","generationConfig","maxOutputTokens"],d);const h=x(t,["mediaResolution"]);n!==void 0&&h!=null&&v(n,["setup","generationConfig","mediaResolution"],h);const y=x(t,["seed"]);n!==void 0&&y!=null&&v(n,["setup","generationConfig","seed"],y);const T=x(t,["speechConfig"]);n!==void 0&&T!=null&&v(n,["setup","generationConfig","speechConfig"],T);const S=x(t,["systemInstruction"]);n!==void 0&&S!=null&&v(n,["setup","systemInstruction"],DE(e,an(e,S)));const M=x(t,["tools"]);if(n!==void 0&&M!=null){let z=Iu(e,M);Array.isArray(z)&&(z=z.map(G=>PE(e,Du(e,G)))),v(n,["setup","tools"],z)}const E=x(t,["sessionResumption"]);n!==void 0&&E!=null&&v(n,["setup","sessionResumption"],OE(e,E));const _=x(t,["inputAudioTranscription"]);n!==void 0&&_!=null&&v(n,["setup","inputAudioTranscription"],ox());const I=x(t,["outputAudioTranscription"]);n!==void 0&&I!=null&&v(n,["setup","outputAudioTranscription"],ox());const k=x(t,["realtimeInputConfig"]);n!==void 0&&k!=null&&v(n,["setup","realtimeInputConfig"],UE(e,k));const R=x(t,["contextWindowCompression"]);return n!==void 0&&R!=null&&v(n,["setup","contextWindowCompression"],$E(e,R)),r}function WE(e,t){const n={},r=x(t,["model"]);r!=null&&v(n,["setup","model"],yt(e,r));const o=x(t,["config"]);return o!=null&&v(n,["config"],KE(e,o,n)),n}function QE(e,t){const n={},r=x(t,["model"]);r!=null&&v(n,["setup","model"],yt(e,r));const o=x(t,["config"]);return o!=null&&v(n,["config"],XE(e,o,n)),n}function JE(){return{}}function ZE(){return{}}function eA(){return{}}function tA(){return{}}function nA(e,t){const n={},r=x(t,["media"]);r!=null&&v(n,["mediaChunks"],G1(e,r));const o=x(t,["audio"]);o!=null&&v(n,["audio"],TM(e,o));const l=x(t,["audioStreamEnd"]);l!=null&&v(n,["audioStreamEnd"],l);const u=x(t,["video"]);u!=null&&v(n,["video"],bM(e,u));const f=x(t,["text"]);return f!=null&&v(n,["text"],f),x(t,["activityStart"])!=null&&v(n,["activityStart"],JE()),x(t,["activityEnd"])!=null&&v(n,["activityEnd"],eA()),n}function iA(e,t){const n={},r=x(t,["media"]);if(r!=null&&v(n,["mediaChunks"],G1(e,r)),x(t,["audio"])!==void 0)throw new Error("audio parameter is not supported in Vertex AI.");const o=x(t,["audioStreamEnd"]);if(o!=null&&v(n,["audioStreamEnd"],o),x(t,["video"])!==void 0)throw new Error("video parameter is not supported in Vertex AI.");if(x(t,["text"])!==void 0)throw new Error("text parameter is not supported in Vertex AI.");return x(t,["activityStart"])!=null&&v(n,["activityStart"],ZE()),x(t,["activityEnd"])!=null&&v(n,["activityEnd"],tA()),n}function rA(){return{}}function aA(){return{}}function oA(e,t){const n={},r=x(t,["thought"]);r!=null&&v(n,["thought"],r);const o=x(t,["codeExecutionResult"]);o!=null&&v(n,["codeExecutionResult"],o);const l=x(t,["executableCode"]);l!=null&&v(n,["executableCode"],l);const u=x(t,["fileData"]);u!=null&&v(n,["fileData"],u);const f=x(t,["functionCall"]);f!=null&&v(n,["functionCall"],f);const m=x(t,["functionResponse"]);m!=null&&v(n,["functionResponse"],m);const d=x(t,["inlineData"]);d!=null&&v(n,["inlineData"],d);const h=x(t,["text"]);return h!=null&&v(n,["text"],h),n}function sA(e,t){const n={},r=x(t,["videoMetadata"]);r!=null&&v(n,["videoMetadata"],r);const o=x(t,["thought"]);o!=null&&v(n,["thought"],o);const l=x(t,["codeExecutionResult"]);l!=null&&v(n,["codeExecutionResult"],l);const u=x(t,["executableCode"]);u!=null&&v(n,["executableCode"],u);const f=x(t,["fileData"]);f!=null&&v(n,["fileData"],f);const m=x(t,["functionCall"]);m!=null&&v(n,["functionCall"],m);const d=x(t,["functionResponse"]);d!=null&&v(n,["functionResponse"],d);const h=x(t,["inlineData"]);h!=null&&v(n,["inlineData"],h);const y=x(t,["text"]);return y!=null&&v(n,["text"],y),n}function lA(e,t){const n={},r=x(t,["parts"]);if(r!=null){let l=r;Array.isArray(l)&&(l=l.map(u=>oA(e,u))),v(n,["parts"],l)}const o=x(t,["role"]);return o!=null&&v(n,["role"],o),n}function uA(e,t){const n={},r=x(t,["parts"]);if(r!=null){let l=r;Array.isArray(l)&&(l=l.map(u=>sA(e,u))),v(n,["parts"],l)}const o=x(t,["role"]);return o!=null&&v(n,["role"],o),n}function sx(e,t){const n={},r=x(t,["text"]);r!=null&&v(n,["text"],r);const o=x(t,["finished"]);return o!=null&&v(n,["finished"],o),n}function lx(e,t){const n={},r=x(t,["text"]);r!=null&&v(n,["text"],r);const o=x(t,["finished"]);return o!=null&&v(n,["finished"],o),n}function cA(e,t){const n={},r=x(t,["modelTurn"]);r!=null&&v(n,["modelTurn"],lA(e,r));const o=x(t,["turnComplete"]);o!=null&&v(n,["turnComplete"],o);const l=x(t,["interrupted"]);l!=null&&v(n,["interrupted"],l);const u=x(t,["groundingMetadata"]);u!=null&&v(n,["groundingMetadata"],u);const f=x(t,["generationComplete"]);f!=null&&v(n,["generationComplete"],f);const m=x(t,["inputTranscription"]);m!=null&&v(n,["inputTranscription"],sx(e,m));const d=x(t,["outputTranscription"]);return d!=null&&v(n,["outputTranscription"],sx(e,d)),n}function fA(e,t){const n={},r=x(t,["modelTurn"]);r!=null&&v(n,["modelTurn"],uA(e,r));const o=x(t,["turnComplete"]);o!=null&&v(n,["turnComplete"],o);const l=x(t,["interrupted"]);l!=null&&v(n,["interrupted"],l);const u=x(t,["groundingMetadata"]);u!=null&&v(n,["groundingMetadata"],u);const f=x(t,["generationComplete"]);f!=null&&v(n,["generationComplete"],f);const m=x(t,["inputTranscription"]);m!=null&&v(n,["inputTranscription"],lx(e,m));const d=x(t,["outputTranscription"]);return d!=null&&v(n,["outputTranscription"],lx(e,d)),n}function dA(e,t){const n={},r=x(t,["id"]);r!=null&&v(n,["id"],r);const o=x(t,["args"]);o!=null&&v(n,["args"],o);const l=x(t,["name"]);return l!=null&&v(n,["name"],l),n}function mA(e,t){const n={},r=x(t,["args"]);r!=null&&v(n,["args"],r);const o=x(t,["name"]);return o!=null&&v(n,["name"],o),n}function hA(e,t){const n={},r=x(t,["functionCalls"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(l=>dA(e,l))),v(n,["functionCalls"],o)}return n}function pA(e,t){const n={},r=x(t,["functionCalls"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(l=>mA(e,l))),v(n,["functionCalls"],o)}return n}function gA(e,t){const n={},r=x(t,["ids"]);return r!=null&&v(n,["ids"],r),n}function yA(e,t){const n={},r=x(t,["ids"]);return r!=null&&v(n,["ids"],r),n}function ql(e,t){const n={},r=x(t,["modality"]);r!=null&&v(n,["modality"],r);const o=x(t,["tokenCount"]);return o!=null&&v(n,["tokenCount"],o),n}function Yl(e,t){const n={},r=x(t,["modality"]);r!=null&&v(n,["modality"],r);const o=x(t,["tokenCount"]);return o!=null&&v(n,["tokenCount"],o),n}function xA(e,t){const n={},r=x(t,["promptTokenCount"]);r!=null&&v(n,["promptTokenCount"],r);const o=x(t,["cachedContentTokenCount"]);o!=null&&v(n,["cachedContentTokenCount"],o);const l=x(t,["responseTokenCount"]);l!=null&&v(n,["responseTokenCount"],l);const u=x(t,["toolUsePromptTokenCount"]);u!=null&&v(n,["toolUsePromptTokenCount"],u);const f=x(t,["thoughtsTokenCount"]);f!=null&&v(n,["thoughtsTokenCount"],f);const m=x(t,["totalTokenCount"]);m!=null&&v(n,["totalTokenCount"],m);const d=x(t,["promptTokensDetails"]);if(d!=null){let S=d;Array.isArray(S)&&(S=S.map(M=>ql(e,M))),v(n,["promptTokensDetails"],S)}const h=x(t,["cacheTokensDetails"]);if(h!=null){let S=h;Array.isArray(S)&&(S=S.map(M=>ql(e,M))),v(n,["cacheTokensDetails"],S)}const y=x(t,["responseTokensDetails"]);if(y!=null){let S=y;Array.isArray(S)&&(S=S.map(M=>ql(e,M))),v(n,["responseTokensDetails"],S)}const T=x(t,["toolUsePromptTokensDetails"]);if(T!=null){let S=T;Array.isArray(S)&&(S=S.map(M=>ql(e,M))),v(n,["toolUsePromptTokensDetails"],S)}return n}function vA(e,t){const n={},r=x(t,["promptTokenCount"]);r!=null&&v(n,["promptTokenCount"],r);const o=x(t,["cachedContentTokenCount"]);o!=null&&v(n,["cachedContentTokenCount"],o);const l=x(t,["candidatesTokenCount"]);l!=null&&v(n,["responseTokenCount"],l);const u=x(t,["toolUsePromptTokenCount"]);u!=null&&v(n,["toolUsePromptTokenCount"],u);const f=x(t,["thoughtsTokenCount"]);f!=null&&v(n,["thoughtsTokenCount"],f);const m=x(t,["totalTokenCount"]);m!=null&&v(n,["totalTokenCount"],m);const d=x(t,["promptTokensDetails"]);if(d!=null){let M=d;Array.isArray(M)&&(M=M.map(E=>Yl(e,E))),v(n,["promptTokensDetails"],M)}const h=x(t,["cacheTokensDetails"]);if(h!=null){let M=h;Array.isArray(M)&&(M=M.map(E=>Yl(e,E))),v(n,["cacheTokensDetails"],M)}const y=x(t,["candidatesTokensDetails"]);if(y!=null){let M=y;Array.isArray(M)&&(M=M.map(E=>Yl(e,E))),v(n,["responseTokensDetails"],M)}const T=x(t,["toolUsePromptTokensDetails"]);if(T!=null){let M=T;Array.isArray(M)&&(M=M.map(E=>Yl(e,E))),v(n,["toolUsePromptTokensDetails"],M)}const S=x(t,["trafficType"]);return S!=null&&v(n,["trafficType"],S),n}function bA(e,t){const n={},r=x(t,["timeLeft"]);return r!=null&&v(n,["timeLeft"],r),n}function TA(e,t){const n={},r=x(t,["timeLeft"]);return r!=null&&v(n,["timeLeft"],r),n}function SA(e,t){const n={},r=x(t,["newHandle"]);r!=null&&v(n,["newHandle"],r);const o=x(t,["resumable"]);o!=null&&v(n,["resumable"],o);const l=x(t,["lastConsumedClientMessageIndex"]);return l!=null&&v(n,["lastConsumedClientMessageIndex"],l),n}function CA(e,t){const n={},r=x(t,["newHandle"]);r!=null&&v(n,["newHandle"],r);const o=x(t,["resumable"]);o!=null&&v(n,["resumable"],o);const l=x(t,["lastConsumedClientMessageIndex"]);return l!=null&&v(n,["lastConsumedClientMessageIndex"],l),n}function wA(e,t){const n={};x(t,["setupComplete"])!=null&&v(n,["setupComplete"],rA());const o=x(t,["serverContent"]);o!=null&&v(n,["serverContent"],cA(e,o));const l=x(t,["toolCall"]);l!=null&&v(n,["toolCall"],hA(e,l));const u=x(t,["toolCallCancellation"]);u!=null&&v(n,["toolCallCancellation"],gA(e,u));const f=x(t,["usageMetadata"]);f!=null&&v(n,["usageMetadata"],xA(e,f));const m=x(t,["goAway"]);m!=null&&v(n,["goAway"],bA(e,m));const d=x(t,["sessionResumptionUpdate"]);return d!=null&&v(n,["sessionResumptionUpdate"],SA(e,d)),n}function MA(e,t){const n={};x(t,["setupComplete"])!=null&&v(n,["setupComplete"],aA());const o=x(t,["serverContent"]);o!=null&&v(n,["serverContent"],fA(e,o));const l=x(t,["toolCall"]);l!=null&&v(n,["toolCall"],pA(e,l));const u=x(t,["toolCallCancellation"]);u!=null&&v(n,["toolCallCancellation"],yA(e,u));const f=x(t,["usageMetadata"]);f!=null&&v(n,["usageMetadata"],vA(e,f));const m=x(t,["goAway"]);m!=null&&v(n,["goAway"],TA(e,m));const d=x(t,["sessionResumptionUpdate"]);return d!=null&&v(n,["sessionResumptionUpdate"],CA(e,d)),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function EA(e,t){const n={};if(x(t,["videoMetadata"])!==void 0)throw new Error("videoMetadata parameter is not supported in Gemini API.");const r=x(t,["thought"]);r!=null&&v(n,["thought"],r);const o=x(t,["codeExecutionResult"]);o!=null&&v(n,["codeExecutionResult"],o);const l=x(t,["executableCode"]);l!=null&&v(n,["executableCode"],l);const u=x(t,["fileData"]);u!=null&&v(n,["fileData"],u);const f=x(t,["functionCall"]);f!=null&&v(n,["functionCall"],f);const m=x(t,["functionResponse"]);m!=null&&v(n,["functionResponse"],m);const d=x(t,["inlineData"]);d!=null&&v(n,["inlineData"],d);const h=x(t,["text"]);return h!=null&&v(n,["text"],h),n}function ku(e,t){const n={},r=x(t,["parts"]);if(r!=null){let l=r;Array.isArray(l)&&(l=l.map(u=>EA(e,u))),v(n,["parts"],l)}const o=x(t,["role"]);return o!=null&&v(n,["role"],o),n}function AA(e,t){const n={};if(x(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const r=x(t,["category"]);r!=null&&v(n,["category"],r);const o=x(t,["threshold"]);return o!=null&&v(n,["threshold"],o),n}function DA(){return{}}function IA(e,t){const n={},r=x(t,["mode"]);r!=null&&v(n,["mode"],r);const o=x(t,["dynamicThreshold"]);return o!=null&&v(n,["dynamicThreshold"],o),n}function kA(e,t){const n={},r=x(t,["dynamicRetrievalConfig"]);return r!=null&&v(n,["dynamicRetrievalConfig"],IA(e,r)),n}function RA(e,t){const n={};if(x(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");x(t,["googleSearch"])!=null&&v(n,["googleSearch"],DA());const o=x(t,["googleSearchRetrieval"]);o!=null&&v(n,["googleSearchRetrieval"],kA(e,o));const l=x(t,["codeExecution"]);l!=null&&v(n,["codeExecution"],l);const u=x(t,["functionDeclarations"]);return u!=null&&v(n,["functionDeclarations"],u),n}function NA(e,t){const n={},r=x(t,["mode"]);r!=null&&v(n,["mode"],r);const o=x(t,["allowedFunctionNames"]);return o!=null&&v(n,["allowedFunctionNames"],o),n}function _A(e,t){const n={},r=x(t,["functionCallingConfig"]);return r!=null&&v(n,["functionCallingConfig"],NA(e,r)),n}function LA(e,t){const n={},r=x(t,["voiceName"]);return r!=null&&v(n,["voiceName"],r),n}function VA(e,t){const n={},r=x(t,["prebuiltVoiceConfig"]);return r!=null&&v(n,["prebuiltVoiceConfig"],LA(e,r)),n}function PA(e,t){const n={},r=x(t,["voiceConfig"]);r!=null&&v(n,["voiceConfig"],VA(e,r));const o=x(t,["languageCode"]);return o!=null&&v(n,["languageCode"],o),n}function BA(e,t){const n={},r=x(t,["includeThoughts"]);r!=null&&v(n,["includeThoughts"],r);const o=x(t,["thinkingBudget"]);return o!=null&&v(n,["thinkingBudget"],o),n}function OA(e,t,n){const r={},o=x(t,["systemInstruction"]);n!==void 0&&o!=null&&v(n,["systemInstruction"],ku(e,an(e,o)));const l=x(t,["temperature"]);l!=null&&v(r,["temperature"],l);const u=x(t,["topP"]);u!=null&&v(r,["topP"],u);const f=x(t,["topK"]);f!=null&&v(r,["topK"],f);const m=x(t,["candidateCount"]);m!=null&&v(r,["candidateCount"],m);const d=x(t,["maxOutputTokens"]);d!=null&&v(r,["maxOutputTokens"],d);const h=x(t,["stopSequences"]);h!=null&&v(r,["stopSequences"],h);const y=x(t,["responseLogprobs"]);y!=null&&v(r,["responseLogprobs"],y);const T=x(t,["logprobs"]);T!=null&&v(r,["logprobs"],T);const S=x(t,["presencePenalty"]);S!=null&&v(r,["presencePenalty"],S);const M=x(t,["frequencyPenalty"]);M!=null&&v(r,["frequencyPenalty"],M);const E=x(t,["seed"]);E!=null&&v(r,["seed"],E);const _=x(t,["responseMimeType"]);_!=null&&v(r,["responseMimeType"],_);const I=x(t,["responseSchema"]);if(I!=null&&v(r,["responseSchema"],$1(e,I)),x(t,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(x(t,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const k=x(t,["safetySettings"]);if(n!==void 0&&k!=null){let j=k;Array.isArray(j)&&(j=j.map(fe=>AA(e,fe))),v(n,["safetySettings"],j)}const R=x(t,["tools"]);if(n!==void 0&&R!=null){let j=Iu(e,R);Array.isArray(j)&&(j=j.map(fe=>RA(e,Du(e,fe)))),v(n,["tools"],j)}const z=x(t,["toolConfig"]);if(n!==void 0&&z!=null&&v(n,["toolConfig"],_A(e,z)),x(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const G=x(t,["cachedContent"]);n!==void 0&&G!=null&&v(n,["cachedContent"],tr(e,G));const H=x(t,["responseModalities"]);H!=null&&v(r,["responseModalities"],H);const se=x(t,["mediaResolution"]);se!=null&&v(r,["mediaResolution"],se);const oe=x(t,["speechConfig"]);if(oe!=null&&v(r,["speechConfig"],PA(e,K1(e,oe))),x(t,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const pe=x(t,["thinkingConfig"]);return pe!=null&&v(r,["thinkingConfig"],BA(e,pe)),r}function ux(e,t){const n={},r=x(t,["model"]);r!=null&&v(n,["_url","model"],yt(e,r));const o=x(t,["contents"]);if(o!=null){let u=er(e,o);Array.isArray(u)&&(u=u.map(f=>ku(e,f))),v(n,["contents"],u)}const l=x(t,["config"]);return l!=null&&v(n,["generationConfig"],OA(e,l,n)),n}function FA(e,t,n){const r={},o=x(t,["taskType"]);n!==void 0&&o!=null&&v(n,["requests[]","taskType"],o);const l=x(t,["title"]);n!==void 0&&l!=null&&v(n,["requests[]","title"],l);const u=x(t,["outputDimensionality"]);if(n!==void 0&&u!=null&&v(n,["requests[]","outputDimensionality"],u),x(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(x(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return r}function zA(e,t){const n={},r=x(t,["model"]);r!=null&&v(n,["_url","model"],yt(e,r));const o=x(t,["contents"]);o!=null&&v(n,["requests[]","content"],Y1(e,o));const l=x(t,["config"]);l!=null&&v(n,["config"],FA(e,l,n));const u=x(t,["model"]);return u!==void 0&&v(n,["requests[]","model"],yt(e,u)),n}function jA(e,t,n){const r={};if(x(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(x(t,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const o=x(t,["numberOfImages"]);n!==void 0&&o!=null&&v(n,["parameters","sampleCount"],o);const l=x(t,["aspectRatio"]);n!==void 0&&l!=null&&v(n,["parameters","aspectRatio"],l);const u=x(t,["guidanceScale"]);if(n!==void 0&&u!=null&&v(n,["parameters","guidanceScale"],u),x(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const f=x(t,["safetyFilterLevel"]);n!==void 0&&f!=null&&v(n,["parameters","safetySetting"],f);const m=x(t,["personGeneration"]);n!==void 0&&m!=null&&v(n,["parameters","personGeneration"],m);const d=x(t,["includeSafetyAttributes"]);n!==void 0&&d!=null&&v(n,["parameters","includeSafetyAttributes"],d);const h=x(t,["includeRaiReason"]);n!==void 0&&h!=null&&v(n,["parameters","includeRaiReason"],h);const y=x(t,["language"]);n!==void 0&&y!=null&&v(n,["parameters","language"],y);const T=x(t,["outputMimeType"]);n!==void 0&&T!=null&&v(n,["parameters","outputOptions","mimeType"],T);const S=x(t,["outputCompressionQuality"]);if(n!==void 0&&S!=null&&v(n,["parameters","outputOptions","compressionQuality"],S),x(t,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(x(t,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return r}function HA(e,t){const n={},r=x(t,["model"]);r!=null&&v(n,["_url","model"],yt(e,r));const o=x(t,["prompt"]);o!=null&&v(n,["instances[0]","prompt"],o);const l=x(t,["config"]);return l!=null&&v(n,["config"],jA(e,l,n)),n}function UA(e,t){const n={},r=x(t,["model"]);r!=null&&v(n,["_url","name"],yt(e,r));const o=x(t,["config"]);return o!=null&&v(n,["config"],o),n}function GA(e,t,n){const r={},o=x(t,["displayName"]);n!==void 0&&o!=null&&v(n,["displayName"],o);const l=x(t,["description"]);return n!==void 0&&l!=null&&v(n,["description"],l),r}function qA(e,t){const n={},r=x(t,["model"]);r!=null&&v(n,["_url","name"],yt(e,r));const o=x(t,["config"]);return o!=null&&v(n,["config"],GA(e,o,n)),n}function YA(e,t){const n={},r=x(t,["model"]);r!=null&&v(n,["_url","name"],yt(e,r));const o=x(t,["config"]);return o!=null&&v(n,["config"],o),n}function $A(e,t){const n={};if(x(t,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(x(t,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(x(t,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return n}function KA(e,t){const n={},r=x(t,["model"]);r!=null&&v(n,["_url","model"],yt(e,r));const o=x(t,["contents"]);if(o!=null){let u=er(e,o);Array.isArray(u)&&(u=u.map(f=>ku(e,f))),v(n,["contents"],u)}const l=x(t,["config"]);return l!=null&&v(n,["config"],$A(e,l)),n}function XA(e,t){const n={};if(x(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const r=x(t,["imageBytes"]);r!=null&&v(n,["bytesBase64Encoded"],nr(e,r));const o=x(t,["mimeType"]);return o!=null&&v(n,["mimeType"],o),n}function WA(e,t,n){const r={},o=x(t,["numberOfVideos"]);if(n!==void 0&&o!=null&&v(n,["parameters","sampleCount"],o),x(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(x(t,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const l=x(t,["durationSeconds"]);if(n!==void 0&&l!=null&&v(n,["parameters","durationSeconds"],l),x(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const u=x(t,["aspectRatio"]);if(n!==void 0&&u!=null&&v(n,["parameters","aspectRatio"],u),x(t,["resolution"])!==void 0)throw new Error("resolution parameter is not supported in Gemini API.");const f=x(t,["personGeneration"]);if(n!==void 0&&f!=null&&v(n,["parameters","personGeneration"],f),x(t,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const m=x(t,["negativePrompt"]);if(n!==void 0&&m!=null&&v(n,["parameters","negativePrompt"],m),x(t,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return r}function QA(e,t){const n={},r=x(t,["model"]);r!=null&&v(n,["_url","model"],yt(e,r));const o=x(t,["prompt"]);o!=null&&v(n,["instances[0]","prompt"],o);const l=x(t,["image"]);l!=null&&v(n,["instances[0]","image"],XA(e,l));const u=x(t,["config"]);return u!=null&&v(n,["config"],WA(e,u,n)),n}function JA(e,t){const n={},r=x(t,["videoMetadata"]);r!=null&&v(n,["videoMetadata"],r);const o=x(t,["thought"]);o!=null&&v(n,["thought"],o);const l=x(t,["codeExecutionResult"]);l!=null&&v(n,["codeExecutionResult"],l);const u=x(t,["executableCode"]);u!=null&&v(n,["executableCode"],u);const f=x(t,["fileData"]);f!=null&&v(n,["fileData"],f);const m=x(t,["functionCall"]);m!=null&&v(n,["functionCall"],m);const d=x(t,["functionResponse"]);d!=null&&v(n,["functionResponse"],d);const h=x(t,["inlineData"]);h!=null&&v(n,["inlineData"],h);const y=x(t,["text"]);return y!=null&&v(n,["text"],y),n}function Pa(e,t){const n={},r=x(t,["parts"]);if(r!=null){let l=r;Array.isArray(l)&&(l=l.map(u=>JA(e,u))),v(n,["parts"],l)}const o=x(t,["role"]);return o!=null&&v(n,["role"],o),n}function ZA(e,t){const n={},r=x(t,["featureSelectionPreference"]);return r!=null&&v(n,["featureSelectionPreference"],r),n}function e2(e,t){const n={},r=x(t,["method"]);r!=null&&v(n,["method"],r);const o=x(t,["category"]);o!=null&&v(n,["category"],o);const l=x(t,["threshold"]);return l!=null&&v(n,["threshold"],l),n}function t2(){return{}}function n2(e,t){const n={},r=x(t,["mode"]);r!=null&&v(n,["mode"],r);const o=x(t,["dynamicThreshold"]);return o!=null&&v(n,["dynamicThreshold"],o),n}function i2(e,t){const n={},r=x(t,["dynamicRetrievalConfig"]);return r!=null&&v(n,["dynamicRetrievalConfig"],n2(e,r)),n}function J1(e,t){const n={},r=x(t,["retrieval"]);r!=null&&v(n,["retrieval"],r),x(t,["googleSearch"])!=null&&v(n,["googleSearch"],t2());const l=x(t,["googleSearchRetrieval"]);l!=null&&v(n,["googleSearchRetrieval"],i2(e,l));const u=x(t,["codeExecution"]);u!=null&&v(n,["codeExecution"],u);const f=x(t,["functionDeclarations"]);return f!=null&&v(n,["functionDeclarations"],f),n}function r2(e,t){const n={},r=x(t,["mode"]);r!=null&&v(n,["mode"],r);const o=x(t,["allowedFunctionNames"]);return o!=null&&v(n,["allowedFunctionNames"],o),n}function a2(e,t){const n={},r=x(t,["functionCallingConfig"]);return r!=null&&v(n,["functionCallingConfig"],r2(e,r)),n}function o2(e,t){const n={},r=x(t,["voiceName"]);return r!=null&&v(n,["voiceName"],r),n}function s2(e,t){const n={},r=x(t,["prebuiltVoiceConfig"]);return r!=null&&v(n,["prebuiltVoiceConfig"],o2(e,r)),n}function l2(e,t){const n={},r=x(t,["voiceConfig"]);r!=null&&v(n,["voiceConfig"],s2(e,r));const o=x(t,["languageCode"]);return o!=null&&v(n,["languageCode"],o),n}function u2(e,t){const n={},r=x(t,["includeThoughts"]);r!=null&&v(n,["includeThoughts"],r);const o=x(t,["thinkingBudget"]);return o!=null&&v(n,["thinkingBudget"],o),n}function c2(e,t,n){const r={},o=x(t,["systemInstruction"]);n!==void 0&&o!=null&&v(n,["systemInstruction"],Pa(e,an(e,o)));const l=x(t,["temperature"]);l!=null&&v(r,["temperature"],l);const u=x(t,["topP"]);u!=null&&v(r,["topP"],u);const f=x(t,["topK"]);f!=null&&v(r,["topK"],f);const m=x(t,["candidateCount"]);m!=null&&v(r,["candidateCount"],m);const d=x(t,["maxOutputTokens"]);d!=null&&v(r,["maxOutputTokens"],d);const h=x(t,["stopSequences"]);h!=null&&v(r,["stopSequences"],h);const y=x(t,["responseLogprobs"]);y!=null&&v(r,["responseLogprobs"],y);const T=x(t,["logprobs"]);T!=null&&v(r,["logprobs"],T);const S=x(t,["presencePenalty"]);S!=null&&v(r,["presencePenalty"],S);const M=x(t,["frequencyPenalty"]);M!=null&&v(r,["frequencyPenalty"],M);const E=x(t,["seed"]);E!=null&&v(r,["seed"],E);const _=x(t,["responseMimeType"]);_!=null&&v(r,["responseMimeType"],_);const I=x(t,["responseSchema"]);I!=null&&v(r,["responseSchema"],$1(e,I));const k=x(t,["routingConfig"]);k!=null&&v(r,["routingConfig"],k);const R=x(t,["modelSelectionConfig"]);R!=null&&v(r,["modelConfig"],ZA(e,R));const z=x(t,["safetySettings"]);if(n!==void 0&&z!=null){let le=z;Array.isArray(le)&&(le=le.map(ce=>e2(e,ce))),v(n,["safetySettings"],le)}const G=x(t,["tools"]);if(n!==void 0&&G!=null){let le=Iu(e,G);Array.isArray(le)&&(le=le.map(ce=>J1(e,Du(e,ce)))),v(n,["tools"],le)}const H=x(t,["toolConfig"]);n!==void 0&&H!=null&&v(n,["toolConfig"],a2(e,H));const se=x(t,["labels"]);n!==void 0&&se!=null&&v(n,["labels"],se);const oe=x(t,["cachedContent"]);n!==void 0&&oe!=null&&v(n,["cachedContent"],tr(e,oe));const pe=x(t,["responseModalities"]);pe!=null&&v(r,["responseModalities"],pe);const j=x(t,["mediaResolution"]);j!=null&&v(r,["mediaResolution"],j);const fe=x(t,["speechConfig"]);fe!=null&&v(r,["speechConfig"],l2(e,K1(e,fe)));const Z=x(t,["audioTimestamp"]);Z!=null&&v(r,["audioTimestamp"],Z);const he=x(t,["thinkingConfig"]);return he!=null&&v(r,["thinkingConfig"],u2(e,he)),r}function cx(e,t){const n={},r=x(t,["model"]);r!=null&&v(n,["_url","model"],yt(e,r));const o=x(t,["contents"]);if(o!=null){let u=er(e,o);Array.isArray(u)&&(u=u.map(f=>Pa(e,f))),v(n,["contents"],u)}const l=x(t,["config"]);return l!=null&&v(n,["generationConfig"],c2(e,l,n)),n}function f2(e,t,n){const r={},o=x(t,["taskType"]);n!==void 0&&o!=null&&v(n,["instances[]","task_type"],o);const l=x(t,["title"]);n!==void 0&&l!=null&&v(n,["instances[]","title"],l);const u=x(t,["outputDimensionality"]);n!==void 0&&u!=null&&v(n,["parameters","outputDimensionality"],u);const f=x(t,["mimeType"]);n!==void 0&&f!=null&&v(n,["instances[]","mimeType"],f);const m=x(t,["autoTruncate"]);return n!==void 0&&m!=null&&v(n,["parameters","autoTruncate"],m),r}function d2(e,t){const n={},r=x(t,["model"]);r!=null&&v(n,["_url","model"],yt(e,r));const o=x(t,["contents"]);o!=null&&v(n,["instances[]","content"],Y1(e,o));const l=x(t,["config"]);return l!=null&&v(n,["config"],f2(e,l,n)),n}function m2(e,t,n){const r={},o=x(t,["outputGcsUri"]);n!==void 0&&o!=null&&v(n,["parameters","storageUri"],o);const l=x(t,["negativePrompt"]);n!==void 0&&l!=null&&v(n,["parameters","negativePrompt"],l);const u=x(t,["numberOfImages"]);n!==void 0&&u!=null&&v(n,["parameters","sampleCount"],u);const f=x(t,["aspectRatio"]);n!==void 0&&f!=null&&v(n,["parameters","aspectRatio"],f);const m=x(t,["guidanceScale"]);n!==void 0&&m!=null&&v(n,["parameters","guidanceScale"],m);const d=x(t,["seed"]);n!==void 0&&d!=null&&v(n,["parameters","seed"],d);const h=x(t,["safetyFilterLevel"]);n!==void 0&&h!=null&&v(n,["parameters","safetySetting"],h);const y=x(t,["personGeneration"]);n!==void 0&&y!=null&&v(n,["parameters","personGeneration"],y);const T=x(t,["includeSafetyAttributes"]);n!==void 0&&T!=null&&v(n,["parameters","includeSafetyAttributes"],T);const S=x(t,["includeRaiReason"]);n!==void 0&&S!=null&&v(n,["parameters","includeRaiReason"],S);const M=x(t,["language"]);n!==void 0&&M!=null&&v(n,["parameters","language"],M);const E=x(t,["outputMimeType"]);n!==void 0&&E!=null&&v(n,["parameters","outputOptions","mimeType"],E);const _=x(t,["outputCompressionQuality"]);n!==void 0&&_!=null&&v(n,["parameters","outputOptions","compressionQuality"],_);const I=x(t,["addWatermark"]);n!==void 0&&I!=null&&v(n,["parameters","addWatermark"],I);const k=x(t,["enhancePrompt"]);return n!==void 0&&k!=null&&v(n,["parameters","enhancePrompt"],k),r}function h2(e,t){const n={},r=x(t,["model"]);r!=null&&v(n,["_url","model"],yt(e,r));const o=x(t,["prompt"]);o!=null&&v(n,["instances[0]","prompt"],o);const l=x(t,["config"]);return l!=null&&v(n,["config"],m2(e,l,n)),n}function p2(e,t){const n={},r=x(t,["model"]);r!=null&&v(n,["_url","name"],yt(e,r));const o=x(t,["config"]);return o!=null&&v(n,["config"],o),n}function g2(e,t,n){const r={},o=x(t,["displayName"]);n!==void 0&&o!=null&&v(n,["displayName"],o);const l=x(t,["description"]);return n!==void 0&&l!=null&&v(n,["description"],l),r}function y2(e,t){const n={},r=x(t,["model"]);r!=null&&v(n,["_url","model"],yt(e,r));const o=x(t,["config"]);return o!=null&&v(n,["config"],g2(e,o,n)),n}function x2(e,t){const n={},r=x(t,["model"]);r!=null&&v(n,["_url","name"],yt(e,r));const o=x(t,["config"]);return o!=null&&v(n,["config"],o),n}function v2(e,t,n){const r={},o=x(t,["systemInstruction"]);n!==void 0&&o!=null&&v(n,["systemInstruction"],Pa(e,an(e,o)));const l=x(t,["tools"]);if(n!==void 0&&l!=null){let f=l;Array.isArray(f)&&(f=f.map(m=>J1(e,m))),v(n,["tools"],f)}const u=x(t,["generationConfig"]);return n!==void 0&&u!=null&&v(n,["generationConfig"],u),r}function b2(e,t){const n={},r=x(t,["model"]);r!=null&&v(n,["_url","model"],yt(e,r));const o=x(t,["contents"]);if(o!=null){let u=er(e,o);Array.isArray(u)&&(u=u.map(f=>Pa(e,f))),v(n,["contents"],u)}const l=x(t,["config"]);return l!=null&&v(n,["config"],v2(e,l,n)),n}function T2(e,t){const n={},r=x(t,["model"]);r!=null&&v(n,["_url","model"],yt(e,r));const o=x(t,["contents"]);if(o!=null){let u=er(e,o);Array.isArray(u)&&(u=u.map(f=>Pa(e,f))),v(n,["contents"],u)}const l=x(t,["config"]);return l!=null&&v(n,["config"],l),n}function S2(e,t){const n={},r=x(t,["gcsUri"]);r!=null&&v(n,["gcsUri"],r);const o=x(t,["imageBytes"]);o!=null&&v(n,["bytesBase64Encoded"],nr(e,o));const l=x(t,["mimeType"]);return l!=null&&v(n,["mimeType"],l),n}function C2(e,t,n){const r={},o=x(t,["numberOfVideos"]);n!==void 0&&o!=null&&v(n,["parameters","sampleCount"],o);const l=x(t,["outputGcsUri"]);n!==void 0&&l!=null&&v(n,["parameters","storageUri"],l);const u=x(t,["fps"]);n!==void 0&&u!=null&&v(n,["parameters","fps"],u);const f=x(t,["durationSeconds"]);n!==void 0&&f!=null&&v(n,["parameters","durationSeconds"],f);const m=x(t,["seed"]);n!==void 0&&m!=null&&v(n,["parameters","seed"],m);const d=x(t,["aspectRatio"]);n!==void 0&&d!=null&&v(n,["parameters","aspectRatio"],d);const h=x(t,["resolution"]);n!==void 0&&h!=null&&v(n,["parameters","resolution"],h);const y=x(t,["personGeneration"]);n!==void 0&&y!=null&&v(n,["parameters","personGeneration"],y);const T=x(t,["pubsubTopic"]);n!==void 0&&T!=null&&v(n,["parameters","pubsubTopic"],T);const S=x(t,["negativePrompt"]);n!==void 0&&S!=null&&v(n,["parameters","negativePrompt"],S);const M=x(t,["enhancePrompt"]);return n!==void 0&&M!=null&&v(n,["parameters","enhancePrompt"],M),r}function w2(e,t){const n={},r=x(t,["model"]);r!=null&&v(n,["_url","model"],yt(e,r));const o=x(t,["prompt"]);o!=null&&v(n,["instances[0]","prompt"],o);const l=x(t,["image"]);l!=null&&v(n,["instances[0]","image"],S2(e,l));const u=x(t,["config"]);return u!=null&&v(n,["config"],C2(e,u,n)),n}function M2(e,t){const n={},r=x(t,["thought"]);r!=null&&v(n,["thought"],r);const o=x(t,["codeExecutionResult"]);o!=null&&v(n,["codeExecutionResult"],o);const l=x(t,["executableCode"]);l!=null&&v(n,["executableCode"],l);const u=x(t,["fileData"]);u!=null&&v(n,["fileData"],u);const f=x(t,["functionCall"]);f!=null&&v(n,["functionCall"],f);const m=x(t,["functionResponse"]);m!=null&&v(n,["functionResponse"],m);const d=x(t,["inlineData"]);d!=null&&v(n,["inlineData"],d);const h=x(t,["text"]);return h!=null&&v(n,["text"],h),n}function E2(e,t){const n={},r=x(t,["parts"]);if(r!=null){let l=r;Array.isArray(l)&&(l=l.map(u=>M2(e,u))),v(n,["parts"],l)}const o=x(t,["role"]);return o!=null&&v(n,["role"],o),n}function A2(e,t){const n={},r=x(t,["citationSources"]);return r!=null&&v(n,["citations"],r),n}function D2(e,t){const n={},r=x(t,["content"]);r!=null&&v(n,["content"],E2(e,r));const o=x(t,["citationMetadata"]);o!=null&&v(n,["citationMetadata"],A2(e,o));const l=x(t,["tokenCount"]);l!=null&&v(n,["tokenCount"],l);const u=x(t,["finishReason"]);u!=null&&v(n,["finishReason"],u);const f=x(t,["avgLogprobs"]);f!=null&&v(n,["avgLogprobs"],f);const m=x(t,["groundingMetadata"]);m!=null&&v(n,["groundingMetadata"],m);const d=x(t,["index"]);d!=null&&v(n,["index"],d);const h=x(t,["logprobsResult"]);h!=null&&v(n,["logprobsResult"],h);const y=x(t,["safetyRatings"]);return y!=null&&v(n,["safetyRatings"],y),n}function fx(e,t){const n={},r=x(t,["candidates"]);if(r!=null){let f=r;Array.isArray(f)&&(f=f.map(m=>D2(e,m))),v(n,["candidates"],f)}const o=x(t,["modelVersion"]);o!=null&&v(n,["modelVersion"],o);const l=x(t,["promptFeedback"]);l!=null&&v(n,["promptFeedback"],l);const u=x(t,["usageMetadata"]);return u!=null&&v(n,["usageMetadata"],u),n}function I2(e,t){const n={},r=x(t,["values"]);return r!=null&&v(n,["values"],r),n}function k2(){return{}}function R2(e,t){const n={},r=x(t,["embeddings"]);if(r!=null){let l=r;Array.isArray(l)&&(l=l.map(u=>I2(e,u))),v(n,["embeddings"],l)}return x(t,["metadata"])!=null&&v(n,["metadata"],k2()),n}function N2(e,t){const n={},r=x(t,["bytesBase64Encoded"]);r!=null&&v(n,["imageBytes"],nr(e,r));const o=x(t,["mimeType"]);return o!=null&&v(n,["mimeType"],o),n}function Z1(e,t){const n={},r=x(t,["safetyAttributes","categories"]);r!=null&&v(n,["categories"],r);const o=x(t,["safetyAttributes","scores"]);o!=null&&v(n,["scores"],o);const l=x(t,["contentType"]);return l!=null&&v(n,["contentType"],l),n}function _2(e,t){const n={},r=x(t,["_self"]);r!=null&&v(n,["image"],N2(e,r));const o=x(t,["raiFilteredReason"]);o!=null&&v(n,["raiFilteredReason"],o);const l=x(t,["_self"]);return l!=null&&v(n,["safetyAttributes"],Z1(e,l)),n}function L2(e,t){const n={},r=x(t,["predictions"]);if(r!=null){let l=r;Array.isArray(l)&&(l=l.map(u=>_2(e,u))),v(n,["generatedImages"],l)}const o=x(t,["positivePromptSafetyAttributes"]);return o!=null&&v(n,["positivePromptSafetyAttributes"],Z1(e,o)),n}function V2(e,t){const n={},r=x(t,["baseModel"]);r!=null&&v(n,["baseModel"],r);const o=x(t,["createTime"]);o!=null&&v(n,["createTime"],o);const l=x(t,["updateTime"]);return l!=null&&v(n,["updateTime"],l),n}function dx(e,t){const n={},r=x(t,["name"]);r!=null&&v(n,["name"],r);const o=x(t,["displayName"]);o!=null&&v(n,["displayName"],o);const l=x(t,["description"]);l!=null&&v(n,["description"],l);const u=x(t,["version"]);u!=null&&v(n,["version"],u);const f=x(t,["_self"]);f!=null&&v(n,["tunedModelInfo"],V2(e,f));const m=x(t,["inputTokenLimit"]);m!=null&&v(n,["inputTokenLimit"],m);const d=x(t,["outputTokenLimit"]);d!=null&&v(n,["outputTokenLimit"],d);const h=x(t,["supportedGenerationMethods"]);return h!=null&&v(n,["supportedActions"],h),n}function P2(){return{}}function B2(e,t){const n={},r=x(t,["totalTokens"]);r!=null&&v(n,["totalTokens"],r);const o=x(t,["cachedContentTokenCount"]);return o!=null&&v(n,["cachedContentTokenCount"],o),n}function O2(e,t){const n={},r=x(t,["video","uri"]);r!=null&&v(n,["uri"],r);const o=x(t,["video","encodedVideo"]);o!=null&&v(n,["videoBytes"],nr(e,o));const l=x(t,["encoding"]);return l!=null&&v(n,["mimeType"],l),n}function F2(e,t){const n={},r=x(t,["_self"]);return r!=null&&v(n,["video"],O2(e,r)),n}function z2(e,t){const n={},r=x(t,["generatedSamples"]);if(r!=null){let u=r;Array.isArray(u)&&(u=u.map(f=>F2(e,f))),v(n,["generatedVideos"],u)}const o=x(t,["raiMediaFilteredCount"]);o!=null&&v(n,["raiMediaFilteredCount"],o);const l=x(t,["raiMediaFilteredReasons"]);return l!=null&&v(n,["raiMediaFilteredReasons"],l),n}function j2(e,t){const n={},r=x(t,["name"]);r!=null&&v(n,["name"],r);const o=x(t,["metadata"]);o!=null&&v(n,["metadata"],o);const l=x(t,["done"]);l!=null&&v(n,["done"],l);const u=x(t,["error"]);u!=null&&v(n,["error"],u);const f=x(t,["response","generateVideoResponse"]);return f!=null&&v(n,["response"],z2(e,f)),n}function H2(e,t){const n={},r=x(t,["videoMetadata"]);r!=null&&v(n,["videoMetadata"],r);const o=x(t,["thought"]);o!=null&&v(n,["thought"],o);const l=x(t,["codeExecutionResult"]);l!=null&&v(n,["codeExecutionResult"],l);const u=x(t,["executableCode"]);u!=null&&v(n,["executableCode"],u);const f=x(t,["fileData"]);f!=null&&v(n,["fileData"],f);const m=x(t,["functionCall"]);m!=null&&v(n,["functionCall"],m);const d=x(t,["functionResponse"]);d!=null&&v(n,["functionResponse"],d);const h=x(t,["inlineData"]);h!=null&&v(n,["inlineData"],h);const y=x(t,["text"]);return y!=null&&v(n,["text"],y),n}function U2(e,t){const n={},r=x(t,["parts"]);if(r!=null){let l=r;Array.isArray(l)&&(l=l.map(u=>H2(e,u))),v(n,["parts"],l)}const o=x(t,["role"]);return o!=null&&v(n,["role"],o),n}function G2(e,t){const n={},r=x(t,["citations"]);return r!=null&&v(n,["citations"],r),n}function q2(e,t){const n={},r=x(t,["content"]);r!=null&&v(n,["content"],U2(e,r));const o=x(t,["citationMetadata"]);o!=null&&v(n,["citationMetadata"],G2(e,o));const l=x(t,["finishMessage"]);l!=null&&v(n,["finishMessage"],l);const u=x(t,["finishReason"]);u!=null&&v(n,["finishReason"],u);const f=x(t,["avgLogprobs"]);f!=null&&v(n,["avgLogprobs"],f);const m=x(t,["groundingMetadata"]);m!=null&&v(n,["groundingMetadata"],m);const d=x(t,["index"]);d!=null&&v(n,["index"],d);const h=x(t,["logprobsResult"]);h!=null&&v(n,["logprobsResult"],h);const y=x(t,["safetyRatings"]);return y!=null&&v(n,["safetyRatings"],y),n}function mx(e,t){const n={},r=x(t,["candidates"]);if(r!=null){let d=r;Array.isArray(d)&&(d=d.map(h=>q2(e,h))),v(n,["candidates"],d)}const o=x(t,["createTime"]);o!=null&&v(n,["createTime"],o);const l=x(t,["responseId"]);l!=null&&v(n,["responseId"],l);const u=x(t,["modelVersion"]);u!=null&&v(n,["modelVersion"],u);const f=x(t,["promptFeedback"]);f!=null&&v(n,["promptFeedback"],f);const m=x(t,["usageMetadata"]);return m!=null&&v(n,["usageMetadata"],m),n}function Y2(e,t){const n={},r=x(t,["truncated"]);r!=null&&v(n,["truncated"],r);const o=x(t,["token_count"]);return o!=null&&v(n,["tokenCount"],o),n}function $2(e,t){const n={},r=x(t,["values"]);r!=null&&v(n,["values"],r);const o=x(t,["statistics"]);return o!=null&&v(n,["statistics"],Y2(e,o)),n}function K2(e,t){const n={},r=x(t,["billableCharacterCount"]);return r!=null&&v(n,["billableCharacterCount"],r),n}function X2(e,t){const n={},r=x(t,["predictions[]","embeddings"]);if(r!=null){let l=r;Array.isArray(l)&&(l=l.map(u=>$2(e,u))),v(n,["embeddings"],l)}const o=x(t,["metadata"]);return o!=null&&v(n,["metadata"],K2(e,o)),n}function W2(e,t){const n={},r=x(t,["gcsUri"]);r!=null&&v(n,["gcsUri"],r);const o=x(t,["bytesBase64Encoded"]);o!=null&&v(n,["imageBytes"],nr(e,o));const l=x(t,["mimeType"]);return l!=null&&v(n,["mimeType"],l),n}function eb(e,t){const n={},r=x(t,["safetyAttributes","categories"]);r!=null&&v(n,["categories"],r);const o=x(t,["safetyAttributes","scores"]);o!=null&&v(n,["scores"],o);const l=x(t,["contentType"]);return l!=null&&v(n,["contentType"],l),n}function Q2(e,t){const n={},r=x(t,["_self"]);r!=null&&v(n,["image"],W2(e,r));const o=x(t,["raiFilteredReason"]);o!=null&&v(n,["raiFilteredReason"],o);const l=x(t,["_self"]);l!=null&&v(n,["safetyAttributes"],eb(e,l));const u=x(t,["prompt"]);return u!=null&&v(n,["enhancedPrompt"],u),n}function J2(e,t){const n={},r=x(t,["predictions"]);if(r!=null){let l=r;Array.isArray(l)&&(l=l.map(u=>Q2(e,u))),v(n,["generatedImages"],l)}const o=x(t,["positivePromptSafetyAttributes"]);return o!=null&&v(n,["positivePromptSafetyAttributes"],eb(e,o)),n}function Z2(e,t){const n={},r=x(t,["endpoint"]);r!=null&&v(n,["name"],r);const o=x(t,["deployedModelId"]);return o!=null&&v(n,["deployedModelId"],o),n}function eD(e,t){const n={},r=x(t,["labels","google-vertex-llm-tuning-base-model-id"]);r!=null&&v(n,["baseModel"],r);const o=x(t,["createTime"]);o!=null&&v(n,["createTime"],o);const l=x(t,["updateTime"]);return l!=null&&v(n,["updateTime"],l),n}function hx(e,t){const n={},r=x(t,["name"]);r!=null&&v(n,["name"],r);const o=x(t,["displayName"]);o!=null&&v(n,["displayName"],o);const l=x(t,["description"]);l!=null&&v(n,["description"],l);const u=x(t,["versionId"]);u!=null&&v(n,["version"],u);const f=x(t,["deployedModels"]);if(f!=null){let h=f;Array.isArray(h)&&(h=h.map(y=>Z2(e,y))),v(n,["endpoints"],h)}const m=x(t,["labels"]);m!=null&&v(n,["labels"],m);const d=x(t,["_self"]);return d!=null&&v(n,["tunedModelInfo"],eD(e,d)),n}function tD(){return{}}function nD(e,t){const n={},r=x(t,["totalTokens"]);return r!=null&&v(n,["totalTokens"],r),n}function iD(e,t){const n={},r=x(t,["tokensInfo"]);return r!=null&&v(n,["tokensInfo"],r),n}function rD(e,t){const n={},r=x(t,["gcsUri"]);r!=null&&v(n,["uri"],r);const o=x(t,["bytesBase64Encoded"]);o!=null&&v(n,["videoBytes"],nr(e,o));const l=x(t,["mimeType"]);return l!=null&&v(n,["mimeType"],l),n}function aD(e,t){const n={},r=x(t,["_self"]);return r!=null&&v(n,["video"],rD(e,r)),n}function oD(e,t){const n={},r=x(t,["videos"]);if(r!=null){let u=r;Array.isArray(u)&&(u=u.map(f=>aD(e,f))),v(n,["generatedVideos"],u)}const o=x(t,["raiMediaFilteredCount"]);o!=null&&v(n,["raiMediaFilteredCount"],o);const l=x(t,["raiMediaFilteredReasons"]);return l!=null&&v(n,["raiMediaFilteredReasons"],l),n}function sD(e,t){const n={},r=x(t,["name"]);r!=null&&v(n,["name"],r);const o=x(t,["metadata"]);o!=null&&v(n,["metadata"],o);const l=x(t,["done"]);l!=null&&v(n,["done"],l);const u=x(t,["error"]);u!=null&&v(n,["error"],u);const f=x(t,["response"]);return f!=null&&v(n,["response"],oD(e,f)),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const lD="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function uD(e,t,n){let r,o;n.data instanceof Blob?o=JSON.parse(await n.data.text()):o=JSON.parse(n.data),e.isVertexAI()?r=MA(e,o):r=wA(e,o),t(r)}class cD{constructor(t,n,r){this.apiClient=t,this.auth=n,this.webSocketFactory=r}async connect(t){var n,r,o,l;const u=this.apiClient.getWebsocketBaseUrl(),f=this.apiClient.getApiVersion();let m;const d=hD(this.apiClient.getDefaultHeaders());if(this.apiClient.isVertexAI())m=`${u}/ws/google.cloud.aiplatform.${f}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(d);else{const z=this.apiClient.getApiKey();m=`${u}/ws/google.ai.generativelanguage.${f}.GenerativeService.BidiGenerateContent?key=${z}`}let h=()=>{};const y=new Promise(z=>{h=z}),T=t.callbacks,S=function(){var z;(z=T==null?void 0:T.onopen)===null||z===void 0||z.call(T),h({})},M=this.apiClient,E={onopen:S,onmessage:z=>{uD(M,T.onmessage,z)},onerror:(n=T==null?void 0:T.onerror)!==null&&n!==void 0?n:function(z){},onclose:(r=T==null?void 0:T.onclose)!==null&&r!==void 0?r:function(z){}},_=this.webSocketFactory.create(m,mD(d),E);_.connect(),await y;let I=yt(this.apiClient,t.model);if(this.apiClient.isVertexAI()&&I.startsWith("publishers/")){const z=this.apiClient.getProject(),G=this.apiClient.getLocation();I=`projects/${z}/locations/${G}/`+I}let k={};this.apiClient.isVertexAI()&&((o=t.config)===null||o===void 0?void 0:o.responseModalities)===void 0&&(t.config===void 0?t.config={responseModalities:[pu.AUDIO]}:t.config.responseModalities=[pu.AUDIO]),!((l=t.config)===null||l===void 0)&&l.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const R={model:I,config:t.config,callbacks:t.callbacks};return this.apiClient.isVertexAI()?k=QE(this.apiClient,R):k=WE(this.apiClient,R),delete k.config,_.send(JSON.stringify(k)),new dD(_,this.apiClient)}}const fD={turnComplete:!0};class dD{constructor(t,n){this.conn=t,this.apiClient=n}tLiveClientContent(t,n){if(n.turns!==null&&n.turns!==void 0){let r=[];try{r=er(t,n.turns),t.isVertexAI()?r=r.map(o=>Pa(t,o)):r=r.map(o=>ku(t,o))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof n.turns}'`)}return{clientContent:{turns:r,turnComplete:n.turnComplete}}}return{clientContent:{turnComplete:n.turnComplete}}}tLiveClienttToolResponse(t,n){let r=[];if(n.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(n.functionResponses)?r=n.functionResponses:r=[n.functionResponses],r.length===0)throw new Error("functionResponses is required.");for(const l of r){if(typeof l!="object"||l===null||!("name"in l)||!("response"in l))throw new Error(`Could not parse function response, type '${typeof l}'.`);if(!t.isVertexAI()&&!("id"in l))throw new Error(lD)}return{toolResponse:{functionResponses:r}}}sendClientContent(t){t=Object.assign(Object.assign({},fD),t);const n=this.tLiveClientContent(this.apiClient,t);this.conn.send(JSON.stringify(n))}sendRealtimeInput(t){let n={};this.apiClient.isVertexAI()?n={realtimeInput:iA(this.apiClient,t)}:n={realtimeInput:nA(this.apiClient,t)},this.conn.send(JSON.stringify(n))}sendToolResponse(t){if(t.functionResponses==null)throw new Error("Tool response parameters are required.");const n=this.tLiveClienttToolResponse(this.apiClient,t);this.conn.send(JSON.stringify(n))}close(){this.conn.close()}}function mD(e){const t={};return e.forEach((n,r)=>{t[r]=n}),t}function hD(e){const t=new Headers;for(const[n,r]of Object.entries(e))t.append(n,r);return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class pD extends Ss{constructor(t){super(),this.apiClient=t,this.generateContent=async n=>await this.generateContentInternal(n),this.generateContentStream=async n=>await this.generateContentStreamInternal(n),this.generateImages=async n=>await this.generateImagesInternal(n).then(r=>{var o;let l;const u=[];if(r!=null&&r.generatedImages)for(const m of r.generatedImages)m&&(m!=null&&m.safetyAttributes)&&((o=m==null?void 0:m.safetyAttributes)===null||o===void 0?void 0:o.contentType)==="Positive Prompt"?l=m==null?void 0:m.safetyAttributes:u.push(m);let f;return l?f={generatedImages:u,positivePromptSafetyAttributes:l}:f={generatedImages:u},f})}async generateContentInternal(t){var n,r,o,l;let u,f="",m={};if(this.apiClient.isVertexAI()){const d=cx(this.apiClient,t);return f=Re("{model}:generateContent",d._url),m=d._query,delete d.config,delete d._url,delete d._query,u=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),u.then(h=>{const y=mx(this.apiClient,h),T=new Gl;return Object.assign(T,y),T})}else{const d=ux(this.apiClient,t);return f=Re("{model}:generateContent",d._url),m=d._query,delete d.config,delete d._url,delete d._query,u=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(h=>h.json()),u.then(h=>{const y=fx(this.apiClient,h),T=new Gl;return Object.assign(T,y),T})}}async generateContentStreamInternal(t){var n,r,o,l;let u,f="",m={};if(this.apiClient.isVertexAI()){const d=cx(this.apiClient,t);f=Re("{model}:streamGenerateContent?alt=sse",d._url),m=d._query,delete d.config,delete d._url,delete d._query;const h=this.apiClient;return u=h.requestStream({path:f,queryParams:m,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}),u.then(function(y){return gu(this,arguments,function*(){var T,S,M,E;try{for(var _=!0,I=Fd(y),k;k=yield Gt(I.next()),T=k.done,!T;_=!0){E=k.value,_=!1;const z=mx(h,yield Gt(E.json())),G=new Gl;Object.assign(G,z),yield yield Gt(G)}}catch(R){S={error:R}}finally{try{!_&&!T&&(M=I.return)&&(yield Gt(M.call(I)))}finally{if(S)throw S.error}}})})}else{const d=ux(this.apiClient,t);f=Re("{model}:streamGenerateContent?alt=sse",d._url),m=d._query,delete d.config,delete d._url,delete d._query;const h=this.apiClient;return u=h.requestStream({path:f,queryParams:m,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}),u.then(function(y){return gu(this,arguments,function*(){var T,S,M,E;try{for(var _=!0,I=Fd(y),k;k=yield Gt(I.next()),T=k.done,!T;_=!0){E=k.value,_=!1;const z=fx(h,yield Gt(E.json())),G=new Gl;Object.assign(G,z),yield yield Gt(G)}}catch(R){S={error:R}}finally{try{!_&&!T&&(M=I.return)&&(yield Gt(M.call(I)))}finally{if(S)throw S.error}}})})}}async embedContent(t){var n,r,o,l;let u,f="",m={};if(this.apiClient.isVertexAI()){const d=d2(this.apiClient,t);return f=Re("{model}:predict",d._url),m=d._query,delete d.config,delete d._url,delete d._query,u=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),u.then(h=>{const y=X2(this.apiClient,h),T=new J0;return Object.assign(T,y),T})}else{const d=zA(this.apiClient,t);return f=Re("{model}:batchEmbedContents",d._url),m=d._query,delete d.config,delete d._url,delete d._query,u=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(h=>h.json()),u.then(h=>{const y=R2(this.apiClient,h),T=new J0;return Object.assign(T,y),T})}}async generateImagesInternal(t){var n,r,o,l;let u,f="",m={};if(this.apiClient.isVertexAI()){const d=h2(this.apiClient,t);return f=Re("{model}:predict",d._url),m=d._query,delete d.config,delete d._url,delete d._query,u=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),u.then(h=>{const y=J2(this.apiClient,h),T=new Z0;return Object.assign(T,y),T})}else{const d=HA(this.apiClient,t);return f=Re("{model}:predict",d._url),m=d._query,delete d.config,delete d._url,delete d._query,u=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(h=>h.json()),u.then(h=>{const y=L2(this.apiClient,h),T=new Z0;return Object.assign(T,y),T})}}async get(t){var n,r,o,l;let u,f="",m={};if(this.apiClient.isVertexAI()){const d=p2(this.apiClient,t);return f=Re("{name}",d._url),m=d._query,delete d.config,delete d._url,delete d._query,u=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),u.then(h=>hx(this.apiClient,h))}else{const d=UA(this.apiClient,t);return f=Re("{name}",d._url),m=d._query,delete d.config,delete d._url,delete d._query,u=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(h=>h.json()),u.then(h=>dx(this.apiClient,h))}}async update(t){var n,r,o,l;let u,f="",m={};if(this.apiClient.isVertexAI()){const d=y2(this.apiClient,t);return f=Re("{model}",d._url),m=d._query,delete d.config,delete d._url,delete d._query,u=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(d),httpMethod:"PATCH",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),u.then(h=>hx(this.apiClient,h))}else{const d=qA(this.apiClient,t);return f=Re("{name}",d._url),m=d._query,delete d.config,delete d._url,delete d._query,u=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(d),httpMethod:"PATCH",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(h=>h.json()),u.then(h=>dx(this.apiClient,h))}}async delete(t){var n,r,o,l;let u,f="",m={};if(this.apiClient.isVertexAI()){const d=x2(this.apiClient,t);return f=Re("{name}",d._url),m=d._query,delete d.config,delete d._url,delete d._query,u=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),u.then(()=>{const h=tD(),y=new ex;return Object.assign(y,h),y})}else{const d=YA(this.apiClient,t);return f=Re("{name}",d._url),m=d._query,delete d.config,delete d._url,delete d._query,u=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(h=>h.json()),u.then(()=>{const h=P2(),y=new ex;return Object.assign(y,h),y})}}async countTokens(t){var n,r,o,l;let u,f="",m={};if(this.apiClient.isVertexAI()){const d=b2(this.apiClient,t);return f=Re("{model}:countTokens",d._url),m=d._query,delete d.config,delete d._url,delete d._query,u=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),u.then(h=>{const y=nD(this.apiClient,h),T=new tx;return Object.assign(T,y),T})}else{const d=KA(this.apiClient,t);return f=Re("{model}:countTokens",d._url),m=d._query,delete d.config,delete d._url,delete d._query,u=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(h=>h.json()),u.then(h=>{const y=B2(this.apiClient,h),T=new tx;return Object.assign(T,y),T})}}async computeTokens(t){var n,r;let o,l="",u={};if(this.apiClient.isVertexAI()){const f=T2(this.apiClient,t);return l=Re("{model}:computeTokens",f._url),u=f._query,delete f.config,delete f._url,delete f._query,o=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(m=>m.json()),o.then(m=>{const d=iD(this.apiClient,m),h=new iE;return Object.assign(h,d),h})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideos(t){var n,r,o,l;let u,f="",m={};if(this.apiClient.isVertexAI()){const d=w2(this.apiClient,t);return f=Re("{model}:predictLongRunning",d._url),m=d._query,delete d.config,delete d._url,delete d._query,u=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),u.then(h=>sD(this.apiClient,h))}else{const d=QA(this.apiClient,t);return f=Re("{model}:predictLongRunning",d._url),m=d._query,delete d.config,delete d._url,delete d._query,u=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(h=>h.json()),u.then(h=>j2(this.apiClient,h))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function gD(e,t){const n={},r=x(t,["operationName"]);r!=null&&v(n,["_url","operationName"],r);const o=x(t,["config"]);return o!=null&&v(n,["config"],o),n}function yD(e,t){const n={},r=x(t,["operationName"]);r!=null&&v(n,["_url","operationName"],r);const o=x(t,["config"]);return o!=null&&v(n,["config"],o),n}function xD(e,t){const n={},r=x(t,["operationName"]);r!=null&&v(n,["operationName"],r);const o=x(t,["resourceName"]);o!=null&&v(n,["_url","resourceName"],o);const l=x(t,["config"]);return l!=null&&v(n,["config"],l),n}function vD(e,t){const n={},r=x(t,["video","uri"]);r!=null&&v(n,["uri"],r);const o=x(t,["video","encodedVideo"]);o!=null&&v(n,["videoBytes"],nr(e,o));const l=x(t,["encoding"]);return l!=null&&v(n,["mimeType"],l),n}function bD(e,t){const n={},r=x(t,["_self"]);return r!=null&&v(n,["video"],vD(e,r)),n}function TD(e,t){const n={},r=x(t,["generatedSamples"]);if(r!=null){let u=r;Array.isArray(u)&&(u=u.map(f=>bD(e,f))),v(n,["generatedVideos"],u)}const o=x(t,["raiMediaFilteredCount"]);o!=null&&v(n,["raiMediaFilteredCount"],o);const l=x(t,["raiMediaFilteredReasons"]);return l!=null&&v(n,["raiMediaFilteredReasons"],l),n}function SD(e,t){const n={},r=x(t,["name"]);r!=null&&v(n,["name"],r);const o=x(t,["metadata"]);o!=null&&v(n,["metadata"],o);const l=x(t,["done"]);l!=null&&v(n,["done"],l);const u=x(t,["error"]);u!=null&&v(n,["error"],u);const f=x(t,["response","generateVideoResponse"]);return f!=null&&v(n,["response"],TD(e,f)),n}function CD(e,t){const n={},r=x(t,["gcsUri"]);r!=null&&v(n,["uri"],r);const o=x(t,["bytesBase64Encoded"]);o!=null&&v(n,["videoBytes"],nr(e,o));const l=x(t,["mimeType"]);return l!=null&&v(n,["mimeType"],l),n}function wD(e,t){const n={},r=x(t,["_self"]);return r!=null&&v(n,["video"],CD(e,r)),n}function MD(e,t){const n={},r=x(t,["videos"]);if(r!=null){let u=r;Array.isArray(u)&&(u=u.map(f=>wD(e,f))),v(n,["generatedVideos"],u)}const o=x(t,["raiMediaFilteredCount"]);o!=null&&v(n,["raiMediaFilteredCount"],o);const l=x(t,["raiMediaFilteredReasons"]);return l!=null&&v(n,["raiMediaFilteredReasons"],l),n}function px(e,t){const n={},r=x(t,["name"]);r!=null&&v(n,["name"],r);const o=x(t,["metadata"]);o!=null&&v(n,["metadata"],o);const l=x(t,["done"]);l!=null&&v(n,["done"],l);const u=x(t,["error"]);u!=null&&v(n,["error"],u);const f=x(t,["response"]);return f!=null&&v(n,["response"],MD(e,f)),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class ED extends Ss{constructor(t){super(),this.apiClient=t}async getVideosOperation(t){const n=t.operation,r=t.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const o=n.name.split("/operations/")[0];let l;return r&&"httpOptions"in r&&(l=r.httpOptions),this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:o,config:{httpOptions:l}})}else return this.getVideosOperationInternal({operationName:n.name,config:r})}async getVideosOperationInternal(t){var n,r,o,l;let u,f="",m={};if(this.apiClient.isVertexAI()){const d=yD(this.apiClient,t);return f=Re("{operationName}",d._url),m=d._query,delete d.config,delete d._url,delete d._query,u=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),u.then(h=>px(this.apiClient,h))}else{const d=gD(this.apiClient,t);return f=Re("{operationName}",d._url),m=d._query,delete d.config,delete d._url,delete d._query,u=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(h=>h.json()),u.then(h=>SD(this.apiClient,h))}}async fetchPredictVideosOperationInternal(t){var n,r;let o,l="",u={};if(this.apiClient.isVertexAI()){const f=xD(this.apiClient,t);return l=Re("{resourceName}:fetchPredictOperation",f._url),u=f._query,delete f.config,delete f._url,delete f._query,o=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(m=>m.json()),o.then(m=>px(this.apiClient,m))}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const AD="Content-Type",DD="X-Server-Timeout",ID="User-Agent",kD="x-goog-api-client",RD="0.12.0",ND=`google-genai-sdk/${RD}`,_D="v1beta1",LD="v1beta",gx=/^data: (.*)(?:\n\n|\r\r|\r\n\r\n)/;class tb extends Error{constructor(t,n){n?super(t,{cause:n}):super(t,{cause:new Error().stack}),this.message=t,this.name="ClientError"}}class jd extends Error{constructor(t,n){n?super(t,{cause:n}):super(t,{cause:new Error().stack}),this.message=t,this.name="ServerError"}}class VD{constructor(t){var n,r;this.clientOptions=Object.assign(Object.assign({},t),{project:t.project,location:t.location,apiKey:t.apiKey,vertexai:t.vertexai});const o={};this.clientOptions.vertexai?(o.apiVersion=(n=this.clientOptions.apiVersion)!==null&&n!==void 0?n:_D,this.getProject()||this.getLocation()?(o.baseUrl=`https://${this.clientOptions.location}-aiplatform.googleapis.com/`,this.clientOptions.apiKey=void 0):(o.baseUrl="https://aiplatform.googleapis.com/",this.clientOptions.project=void 0,this.clientOptions.location=void 0)):(o.apiVersion=(r=this.clientOptions.apiVersion)!==null&&r!==void 0?r:LD,o.baseUrl="https://generativelanguage.googleapis.com/"),o.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=o,t.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(o,t.httpOptions))}isVertexAI(){var t;return(t=this.clientOptions.vertexai)!==null&&t!==void 0?t:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(t){if(!t||t.baseUrl===void 0||t.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const r=[t.baseUrl.endsWith("/")?t.baseUrl.slice(0,-1):t.baseUrl];return t.apiVersion&&t.apiVersion!==""&&r.push(t.apiVersion),r.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const t=this.getBaseUrl(),n=new URL(t);return n.protocol=n.protocol=="http:"?"ws":"wss",n.toString()}setBaseUrl(t){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=t;else throw new Error("HTTP options are not correctly set.")}constructUrl(t,n,r){const o=[this.getRequestUrlInternal(n)];return r&&o.push(this.getBaseResourcePath()),t!==""&&o.push(t),new URL(`${o.join("/")}`)}shouldPrependVertexProjectPath(t){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||t.path.startsWith("projects/")||t.httpMethod==="GET"&&t.path.startsWith("publishers/google/models"))}async request(t){let n=this.clientOptions.httpOptions;t.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,t.httpOptions));const r=this.shouldPrependVertexProjectPath(t),o=this.constructUrl(t.path,n,r);if(t.queryParams)for(const[u,f]of Object.entries(t.queryParams))o.searchParams.append(u,String(f));let l={};if(t.httpMethod==="GET"){if(t.body&&t.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else l.body=t.body;return l=await this.includeExtraHttpOptionsToRequestInit(l,n,t.abortSignal),this.unaryApiCall(o,l,t.httpMethod)}patchHttpOptions(t,n){const r=JSON.parse(JSON.stringify(t));for(const[o,l]of Object.entries(n))typeof l=="object"?r[o]=Object.assign(Object.assign({},r[o]),l):l!==void 0&&(r[o]=l);return r}async requestStream(t){let n=this.clientOptions.httpOptions;t.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,t.httpOptions));const r=this.shouldPrependVertexProjectPath(t),o=this.constructUrl(t.path,n,r);(!o.searchParams.has("alt")||o.searchParams.get("alt")!=="sse")&&o.searchParams.set("alt","sse");let l={};return l.body=t.body,l=await this.includeExtraHttpOptionsToRequestInit(l,n,t.abortSignal),this.streamApiCall(o,l,t.httpMethod)}async includeExtraHttpOptionsToRequestInit(t,n,r){if(n&&n.timeout||r){const o=new AbortController,l=o.signal;n.timeout&&(n==null?void 0:n.timeout)>0&&setTimeout(()=>o.abort(),n.timeout),r&&r.addEventListener("abort",()=>{o.abort()}),t.signal=l}return t.headers=await this.getHeadersInternal(n),t}async unaryApiCall(t,n,r){return this.apiCall(t.toString(),Object.assign(Object.assign({},n),{method:r})).then(async o=>(await yx(o),new Od(o))).catch(o=>{throw o instanceof Error?o:new Error(JSON.stringify(o))})}async streamApiCall(t,n,r){return this.apiCall(t.toString(),Object.assign(Object.assign({},n),{method:r})).then(async o=>(await yx(o),this.processStreamResponse(o))).catch(o=>{throw o instanceof Error?o:new Error(JSON.stringify(o))})}processStreamResponse(t){var n;return gu(this,arguments,function*(){const o=(n=t==null?void 0:t.body)===null||n===void 0?void 0:n.getReader(),l=new TextDecoder("utf-8");if(!o)throw new Error("Response body is empty");try{let u="";for(;;){const{done:f,value:m}=yield Gt(o.read());if(f){if(u.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const d=l.decode(m);try{const y=JSON.parse(d);if("error"in y){const T=JSON.parse(JSON.stringify(y.error)),S=T.status,M=T.code,E=`got status: ${S}. ${JSON.stringify(y)}`;if(M>=400&&M<500)throw new tb(E);if(M>=500&&M<600)throw new jd(E)}}catch(y){const T=y;if(T.name==="ClientError"||T.name==="ServerError")throw y}u+=d;let h=u.match(gx);for(;h;){const y=h[1];try{const T=new Response(y,{headers:t==null?void 0:t.headers,status:t==null?void 0:t.status,statusText:t==null?void 0:t.statusText});yield yield Gt(new Od(T)),u=u.slice(h[0].length),h=u.match(gx)}catch(T){throw new Error(`exception parsing stream chunk ${y}. ${T}`)}}}}finally{o.releaseLock()}})}async apiCall(t,n){return fetch(t,n).catch(r=>{throw new Error(`exception ${r} sending request`)})}getDefaultHeaders(){const t={},n=ND+" "+this.clientOptions.userAgentExtra;return t[ID]=n,t[kD]=n,t[AD]="application/json",t}async getHeadersInternal(t){const n=new Headers;if(t&&t.headers){for(const[r,o]of Object.entries(t.headers))n.append(r,o);t.timeout&&t.timeout>0&&n.append(DD,String(Math.ceil(t.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(n),n}async uploadFile(t,n){var r;const o={};n!=null&&(o.mimeType=n.mimeType,o.name=n.name,o.displayName=n.displayName),o.name&&!o.name.startsWith("files/")&&(o.name=`files/${o.name}`);const l=this.clientOptions.uploader,u=await l.stat(t);o.sizeBytes=String(u.size);const f=(r=n==null?void 0:n.mimeType)!==null&&r!==void 0?r:u.type;if(f===void 0||f==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");o.mimeType=f;const m=await this.fetchUploadUrl(o,n);return l.upload(t,m,this)}async fetchUploadUrl(t,n){var r;let o={};n!=null&&n.httpOptions?o=n.httpOptions:o={apiVersion:"",headers:{"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${t.sizeBytes}`,"X-Goog-Upload-Header-Content-Type":`${t.mimeType}`}};const l={file:t},u=await this.request({path:Re("upload/v1beta/files",l._url),body:JSON.stringify(l),httpMethod:"POST",httpOptions:o});if(!u||!(u!=null&&u.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const f=(r=u==null?void 0:u.headers)===null||r===void 0?void 0:r["x-goog-upload-url"];if(f===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return f}}async function yx(e){var t;if(e===void 0)throw new jd("response is undefined");if(!e.ok){const n=e.status,r=e.statusText;let o;!((t=e.headers.get("content-type"))===null||t===void 0)&&t.includes("application/json")?o=await e.json():o={error:{message:await e.text(),code:e.status,status:e.statusText}};const l=`got status: ${n} ${r}. ${JSON.stringify(o)}`;throw n>=400&&n<500?new tb(l):n>=500&&n<600?new jd(l):new Error(l)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function PD(e,t){const n={},r=x(t,["name"]);r!=null&&v(n,["_url","name"],r);const o=x(t,["config"]);return o!=null&&v(n,["config"],o),n}function BD(e,t,n){const r={},o=x(t,["pageSize"]);n!==void 0&&o!=null&&v(n,["_query","pageSize"],o);const l=x(t,["pageToken"]);n!==void 0&&l!=null&&v(n,["_query","pageToken"],l);const u=x(t,["filter"]);return n!==void 0&&u!=null&&v(n,["_query","filter"],u),r}function OD(e,t){const n={},r=x(t,["config"]);return r!=null&&v(n,["config"],BD(e,r,n)),n}function FD(e,t){const n={},r=x(t,["textInput"]);r!=null&&v(n,["textInput"],r);const o=x(t,["output"]);return o!=null&&v(n,["output"],o),n}function zD(e,t){const n={};if(x(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const r=x(t,["examples"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(l=>FD(e,l))),v(n,["examples","examples"],o)}return n}function jD(e,t,n){const r={};if(x(t,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const o=x(t,["tunedModelDisplayName"]);if(n!==void 0&&o!=null&&v(n,["displayName"],o),x(t,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const l=x(t,["epochCount"]);n!==void 0&&l!=null&&v(n,["tuningTask","hyperparameters","epochCount"],l);const u=x(t,["learningRateMultiplier"]);if(u!=null&&v(r,["tuningTask","hyperparameters","learningRateMultiplier"],u),x(t,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const f=x(t,["batchSize"]);n!==void 0&&f!=null&&v(n,["tuningTask","hyperparameters","batchSize"],f);const m=x(t,["learningRate"]);return n!==void 0&&m!=null&&v(n,["tuningTask","hyperparameters","learningRate"],m),r}function HD(e,t){const n={},r=x(t,["baseModel"]);r!=null&&v(n,["baseModel"],r);const o=x(t,["trainingDataset"]);o!=null&&v(n,["tuningTask","trainingData"],zD(e,o));const l=x(t,["config"]);return l!=null&&v(n,["config"],jD(e,l,n)),n}function UD(e,t){const n={},r=x(t,["name"]);r!=null&&v(n,["_url","name"],r);const o=x(t,["config"]);return o!=null&&v(n,["config"],o),n}function GD(e,t,n){const r={},o=x(t,["pageSize"]);n!==void 0&&o!=null&&v(n,["_query","pageSize"],o);const l=x(t,["pageToken"]);n!==void 0&&l!=null&&v(n,["_query","pageToken"],l);const u=x(t,["filter"]);return n!==void 0&&u!=null&&v(n,["_query","filter"],u),r}function qD(e,t){const n={},r=x(t,["config"]);return r!=null&&v(n,["config"],GD(e,r,n)),n}function YD(e,t,n){const r={},o=x(t,["gcsUri"]);if(n!==void 0&&o!=null&&v(n,["supervisedTuningSpec","trainingDatasetUri"],o),x(t,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return r}function $D(e,t){const n={},r=x(t,["gcsUri"]);return r!=null&&v(n,["validationDatasetUri"],r),n}function KD(e,t,n){const r={},o=x(t,["validationDataset"]);n!==void 0&&o!=null&&v(n,["supervisedTuningSpec"],$D(e,o));const l=x(t,["tunedModelDisplayName"]);n!==void 0&&l!=null&&v(n,["tunedModelDisplayName"],l);const u=x(t,["description"]);n!==void 0&&u!=null&&v(n,["description"],u);const f=x(t,["epochCount"]);n!==void 0&&f!=null&&v(n,["supervisedTuningSpec","hyperParameters","epochCount"],f);const m=x(t,["learningRateMultiplier"]);n!==void 0&&m!=null&&v(n,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],m);const d=x(t,["adapterSize"]);if(n!==void 0&&d!=null&&v(n,["supervisedTuningSpec","hyperParameters","adapterSize"],d),x(t,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(x(t,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");return r}function XD(e,t){const n={},r=x(t,["baseModel"]);r!=null&&v(n,["baseModel"],r);const o=x(t,["trainingDataset"]);o!=null&&v(n,["supervisedTuningSpec","trainingDatasetUri"],YD(e,o,n));const l=x(t,["config"]);return l!=null&&v(n,["config"],KD(e,l,n)),n}function WD(e,t){const n={},r=x(t,["name"]);r!=null&&v(n,["model"],r);const o=x(t,["name"]);return o!=null&&v(n,["endpoint"],o),n}function nb(e,t){const n={},r=x(t,["name"]);r!=null&&v(n,["name"],r);const o=x(t,["state"]);o!=null&&v(n,["state"],X1(e,o));const l=x(t,["createTime"]);l!=null&&v(n,["createTime"],l);const u=x(t,["tuningTask","startTime"]);u!=null&&v(n,["startTime"],u);const f=x(t,["tuningTask","completeTime"]);f!=null&&v(n,["endTime"],f);const m=x(t,["updateTime"]);m!=null&&v(n,["updateTime"],m);const d=x(t,["description"]);d!=null&&v(n,["description"],d);const h=x(t,["baseModel"]);h!=null&&v(n,["baseModel"],h);const y=x(t,["_self"]);y!=null&&v(n,["tunedModel"],WD(e,y));const T=x(t,["distillationSpec"]);T!=null&&v(n,["distillationSpec"],T);const S=x(t,["experiment"]);S!=null&&v(n,["experiment"],S);const M=x(t,["labels"]);M!=null&&v(n,["labels"],M);const E=x(t,["pipelineJob"]);E!=null&&v(n,["pipelineJob"],E);const _=x(t,["tunedModelDisplayName"]);return _!=null&&v(n,["tunedModelDisplayName"],_),n}function QD(e,t){const n={},r=x(t,["nextPageToken"]);r!=null&&v(n,["nextPageToken"],r);const o=x(t,["tunedModels"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(u=>nb(e,u))),v(n,["tuningJobs"],l)}return n}function JD(e,t){const n={},r=x(t,["name"]);r!=null&&v(n,["name"],r);const o=x(t,["metadata"]);o!=null&&v(n,["metadata"],o);const l=x(t,["done"]);l!=null&&v(n,["done"],l);const u=x(t,["error"]);return u!=null&&v(n,["error"],u),n}function ZD(e,t){const n={},r=x(t,["model"]);r!=null&&v(n,["model"],r);const o=x(t,["endpoint"]);return o!=null&&v(n,["endpoint"],o),n}function Hd(e,t){const n={},r=x(t,["name"]);r!=null&&v(n,["name"],r);const o=x(t,["state"]);o!=null&&v(n,["state"],X1(e,o));const l=x(t,["createTime"]);l!=null&&v(n,["createTime"],l);const u=x(t,["startTime"]);u!=null&&v(n,["startTime"],u);const f=x(t,["endTime"]);f!=null&&v(n,["endTime"],f);const m=x(t,["updateTime"]);m!=null&&v(n,["updateTime"],m);const d=x(t,["error"]);d!=null&&v(n,["error"],d);const h=x(t,["description"]);h!=null&&v(n,["description"],h);const y=x(t,["baseModel"]);y!=null&&v(n,["baseModel"],y);const T=x(t,["tunedModel"]);T!=null&&v(n,["tunedModel"],ZD(e,T));const S=x(t,["supervisedTuningSpec"]);S!=null&&v(n,["supervisedTuningSpec"],S);const M=x(t,["tuningDataStats"]);M!=null&&v(n,["tuningDataStats"],M);const E=x(t,["encryptionSpec"]);E!=null&&v(n,["encryptionSpec"],E);const _=x(t,["partnerModelTuningSpec"]);_!=null&&v(n,["partnerModelTuningSpec"],_);const I=x(t,["distillationSpec"]);I!=null&&v(n,["distillationSpec"],I);const k=x(t,["experiment"]);k!=null&&v(n,["experiment"],k);const R=x(t,["labels"]);R!=null&&v(n,["labels"],R);const z=x(t,["pipelineJob"]);z!=null&&v(n,["pipelineJob"],z);const G=x(t,["tunedModelDisplayName"]);return G!=null&&v(n,["tunedModelDisplayName"],G),n}function eI(e,t){const n={},r=x(t,["nextPageToken"]);r!=null&&v(n,["nextPageToken"],r);const o=x(t,["tuningJobs"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(u=>Hd(e,u))),v(n,["tuningJobs"],l)}return n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class tI extends Ss{constructor(t){super(),this.apiClient=t,this.get=async n=>await this.getInternal(n),this.list=async(n={})=>new Dm(cs.PAGED_ITEM_TUNING_JOBS,r=>this.listInternal(r),await this.listInternal(n),n),this.tune=async n=>{if(this.apiClient.isVertexAI())return await this.tuneInternal(n);{const r=await this.tuneMldevInternal(n);let o="";return r.metadata!==void 0&&r.metadata.tunedModel!==void 0?o=r.metadata.tunedModel:r.name!==void 0&&r.name.includes("/operations/")&&(o=r.name.split("/operations/")[0]),{name:o,state:Bd.JOB_STATE_QUEUED}}}}async getInternal(t){var n,r,o,l;let u,f="",m={};if(this.apiClient.isVertexAI()){const d=UD(this.apiClient,t);return f=Re("{name}",d._url),m=d._query,delete d.config,delete d._url,delete d._query,u=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),u.then(h=>Hd(this.apiClient,h))}else{const d=PD(this.apiClient,t);return f=Re("{name}",d._url),m=d._query,delete d.config,delete d._url,delete d._query,u=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(h=>h.json()),u.then(h=>nb(this.apiClient,h))}}async listInternal(t){var n,r,o,l;let u,f="",m={};if(this.apiClient.isVertexAI()){const d=qD(this.apiClient,t);return f=Re("tuningJobs",d._url),m=d._query,delete d.config,delete d._url,delete d._query,u=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),u.then(h=>{const y=eI(this.apiClient,h),T=new nx;return Object.assign(T,y),T})}else{const d=OD(this.apiClient,t);return f=Re("tunedModels",d._url),m=d._query,delete d.config,delete d._url,delete d._query,u=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(h=>h.json()),u.then(h=>{const y=QD(this.apiClient,h),T=new nx;return Object.assign(T,y),T})}}async tuneInternal(t){var n,r;let o,l="",u={};if(this.apiClient.isVertexAI()){const f=XD(this.apiClient,t);return l=Re("tuningJobs",f._url),u=f._query,delete f.config,delete f._url,delete f._query,o=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(m=>m.json()),o.then(m=>Hd(this.apiClient,m))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(t){var n,r;let o,l="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const f=HD(this.apiClient,t);return l=Re("tunedModels",f._url),u=f._query,delete f.config,delete f._url,delete f._query,o=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(m=>m.json()),o.then(m=>JD(this.apiClient,m))}}}const nI=1024*1024*8;async function iI(e,t,n){var r,o;let l=0,u=0,f=new Od(new Response),m="upload";for(l=e.size;u<l;){const h=Math.min(nI,l-u),y=e.slice(u,u+h);if(u+h>=l&&(m+=", finalize"),f=await n.request({path:"",body:y,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:t,headers:{"X-Goog-Upload-Command":m,"X-Goog-Upload-Offset":String(u),"Content-Length":String(h)}}}),u+=h,((r=f==null?void 0:f.headers)===null||r===void 0?void 0:r["x-goog-upload-status"])!=="active")break;if(l<=u)throw new Error("All content has been uploaded, but the upload status is not finalized.")}const d=await(f==null?void 0:f.json());if(((o=f==null?void 0:f.headers)===null||o===void 0?void 0:o["x-goog-upload-status"])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return d.file}async function rI(e){return{size:e.size,type:e.type}}class aI{async upload(t,n,r){if(typeof t=="string")throw new Error("File path is not supported in browser uploader.");return await iI(t,n,r)}async stat(t){if(typeof t=="string")throw new Error("File path is not supported in browser uploader.");return await rI(t)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class oI{create(t,n,r){return new sI(t,n,r)}}class sI{constructor(t,n,r){this.url=t,this.headers=n,this.callbacks=r}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(t){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(t)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const xx="x-goog-api-key";class lI{constructor(t){this.apiKey=t}async addAuthHeaders(t){t.get(xx)===null&&t.append(xx,this.apiKey)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const uI="gl-node/";class ib{constructor(t){var n;if(t.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(t.project||t.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(n=t.vertexai)!==null&&n!==void 0?n:!1,this.apiKey=t.apiKey;const r=vM(t,void 0,void 0);r&&(t.httpOptions?t.httpOptions.baseUrl=r:t.httpOptions={baseUrl:r}),this.apiVersion=t.apiVersion;const o=new lI(this.apiKey);this.apiClient=new VD({auth:o,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:t.httpOptions,userAgentExtra:uI+"web",uploader:new aI}),this.models=new pD(this.apiClient),this.live=new cD(this.apiClient,o,new oI),this.chats=new fE(this.models,this.apiClient),this.caches=new sE(this.apiClient),this.files=new wE(this.apiClient),this.operations=new ED(this.apiClient),this.tunings=new tI(this.apiClient)}}var cI={};const ir=typeof process<"u"&&cI.GEMINI_MODEL_NAME||typeof import.meta<"u"&&void 0||"gemini-2.0-flash-exp",vx="TrackGuide",bx="songGuidebookLibrary",Go="trackGuideLastUsedDAW",$l="trackGuideLastUsedPlugins",rb=["Pop","Indie Pop","Synth-Pop","Rock","Alternative Rock","Hard Rock","Punk Rock","Post-Punk","Nu Metal","Progressive Rock","Psychedelic Rock","Folk Rock","Shoegaze","House","Deep House","Progressive House","Tech House","Bass House","Electro House","Minimal House","Techno","Minimal Techno","Industrial Techno","Melodic Techno","Ambient Techno","Hard Techno","Trance","Progressive Trance","Psytrance","Goa Trance","Hard Trance","Ambient","Dark Ambient","Downtempo","Chillout","Chillwave","Psybient","Berlin School","Synthwave","Retrowave","Darksynth","Vaporwave","Future Funk","Drum and Bass","Jungle","Liquid DnB","Neurofunk","Breakcore","Dubstep","Riddim","Future Bass","Trap (EDM)","Hardstyle","Gabber","UK Hardcore","IDM (Intelligent Dance Music)","Glitch","Breakbeat","UK Garage","2-Step","Future Garage","EBM (Electronic Body Music)","Footwork","Juke","Hip Hop","Boom Bap","Trap","Lo-fi Hip Hop","Cloud Rap","Drill","Conscious Hip Hop","R&B","Contemporary R&B","Neo-Soul","Soul","Folk","Acoustic","World Music","Reggae","Dub","Ska","Latin","Afrobeat","Celtic","Jazz","Smooth Jazz","Blues","Funk","Heavy Metal","Thrash Metal","Death Metal","Black Metal","Doom Metal","Metalcore","Deathcore","Experimental","Noise","Industrial","Classical Crossover","Chiptune","Video Game Music"],fI=["Dark","Atmospheric","Energetic","Uplifting","Chill","Relaxed","Experimental","Trippy","Nostalgic","Retro","Aggressive","Intense","Melancholic","Introspective","Funky","Groovy","Mysterious","Eerie","Euphoric","Anthemic","Dreamy","Ethereal","Raw","Gritty","Sophisticated","Smooth","Cyberpunk","Futuristic","Hypnotic","Driving","Industrial","Mechanical","Hopeful","Aggressive","Peaceful","Romantic","Sad","Joyful","Tense"],Tx=["Ableton Live","Logic Pro X","FL Studio","Pro Tools","Cubase","Studio One","Reason","Bitwig Studio","Reaper","GarageBand"],Jo=["C Major","G Major","D Major","A Major","E Major","B Major","F# Major","C# Major","F Major","Bb Major","Eb Major","Ab Major","Db Major","Gb Major","Cb Major","A Minor","E Minor","B Minor","F# Minor","C# Minor","G# Minor","D# Minor","A# Minor","D Minor","G Minor","C Minor","F Minor","Bb Minor","Eb Minor","Ab Minor"],Sx={C:["Ionian (Major)","Dorian","Phrygian","Lydian","Mixolydian","Aeolian (Natural Minor)","Locrian"],"C#":["Ionian (Major)","Dorian","Phrygian","Lydian","Mixolydian","Aeolian (Natural Minor)","Locrian"],Db:["Ionian (Major)","Dorian","Phrygian","Lydian","Mixolydian","Aeolian (Natural Minor)","Locrian"],D:["Ionian (Major)","Dorian","Phrygian","Lydian","Mixolydian","Aeolian (Natural Minor)","Locrian"],"D#":["Ionian (Major)","Dorian","Phrygian","Lydian","Mixolydian","Aeolian (Natural Minor)","Locrian"],Eb:["Ionian (Major)","Dorian","Phrygian","Lydian","Mixolydian","Aeolian (Natural Minor)","Locrian"],E:["Ionian (Major)","Dorian","Phrygian","Lydian","Mixolydian","Aeolian (Natural Minor)","Locrian"],F:["Ionian (Major)","Dorian","Phrygian","Lydian","Mixolydian","Aeolian (Natural Minor)","Locrian"],"F#":["Ionian (Major)","Dorian","Phrygian","Lydian","Mixolydian","Aeolian (Natural Minor)","Locrian"],Gb:["Ionian (Major)","Dorian","Phrygian","Lydian","Mixolydian","Aeolian (Natural Minor)","Locrian"],G:["Ionian (Major)","Dorian","Phrygian","Lydian","Mixolydian","Aeolian (Natural Minor)","Locrian"],"G#":["Ionian (Major)","Dorian","Phrygian","Lydian","Mixolydian","Aeolian (Natural Minor)","Locrian"],Ab:["Ionian (Major)","Dorian","Phrygian","Lydian","Mixolydian","Aeolian (Natural Minor)","Locrian"],A:["Ionian (Major)","Dorian","Phrygian","Lydian","Mixolydian","Aeolian (Natural Minor)","Locrian"],"A#":["Ionian (Major)","Dorian","Phrygian","Lydian","Mixolydian","Aeolian (Natural Minor)","Locrian"],Bb:["Ionian (Major)","Dorian","Phrygian","Lydian","Mixolydian","Aeolian (Natural Minor)","Locrian"],B:["Ionian (Major)","Dorian","Phrygian","Lydian","Mixolydian","Aeolian (Natural Minor)","Locrian"],Cb:["Ionian (Major)","Dorian","Phrygian","Lydian","Mixolydian","Aeolian (Natural Minor)","Locrian"]},dI=[[4,4],[3,4],[6,8],[2,4],[5,4],[7,8]],mI=[{id:"chords",label:"Chords"},{id:"bassline",label:"Bassline"},{id:"melody",label:"Melody"},{id:"drums",label:"Drums"}],hI=["General Loop","Intro","Verse","Pre-Chorus","Chorus","Post-Chorus","Bridge","Solo","Breakdown","Drop","Outro","Fill"],We={key:"C Major",tempo:120,timeSignature:[4,4],chordProgression:"I-V-vi-IV",genre:"Pop",bars:8,targetInstruments:["chords","bassline","melody","drums"],guidebookContext:"",songSection:"General Loop"},Nn={Pop:["I-V-vi-IV","vi-IV-I-V","I-IV-V-I","I-vi-IV-V","ii-V-I-IV","vi-ii-V-I","I-iii-vi-V"],"Indie Pop":["I-V-vi-IV","I-IV-vi-V","vi-IV-I-V","I-iii-IV-V","vi-ii-V-I","I-vi-ii-V"],"Synth-Pop":["i-VI-III-VII","I-V-vi-IV","i-iv-v-VI","I-IV-ii-V","vi-IV-I-V","i-VII-VI-V"],Rock:["I-IV-V","vi-IV-I-V","I-bVII-IV-I","i-VI-III-VII","I-V-IV-I","vi-ii-V-I","I-IV-V-vi"],"Alternative Rock":["vi-IV-I-V","I-V-vi-IV","i-VI-III-VII","I-IV-ii-V","I-bVII-IV-I","vi-ii-V-I"],"Hard Rock":["I-IV-V","i-VI-III-VII","I-bVII-IV-I","i-iv-v-i","vi-IV-I-V","I-V-IV-I"],"Punk Rock":["I-IV-V","vi-IV-I-V","I-V-vi-IV","I-bVII-IV-I","i-iv-v-i"],House:["i-VI-III-VII","Am-G-C-F","i-III-VI-VII","i-v-iv-i","vi-IV-I-V","i-VII-VI-V"],"Deep House":["i-VI-III-VII","Am-G-C-F","i-iv-v-i","vi-ii-V-I","i-VII-VI-V","Dm-Bb-F-C"],"Progressive House":["i-VI-III-VII","vi-IV-I-V","i-iv-v-VI","Am-F-C-G","i-VII-VI-V"],"Tech House":["i-VI-III-VII","i-iv-v-i","Am-G-F-E","i-III-VI-VII","vi-IV-I-V"],Techno:["i-VI-III-VII","i-iv-v-i","Am-G-F-E","i-III-VI-VII","i-VII-VI-V","Drone + variations"],"Minimal Techno":["i-iv-v-i","Am-G-F-E","i-VI-III-VII","Single chord drone","i-VII-VI-V"],Trance:["i-VI-III-VII","vi-IV-I-V","i-VII-VI-V","Am-F-C-G","i-iv-v-VI","vi-ii-V-I"],"Progressive Trance":["i-VI-III-VII","vi-IV-I-V","i-iv-v-VI","Am-F-C-G","vi-ii-V-I"],Ambient:["Imaj7-IVmaj7","i-VI","Drone + sus chords","vi-IV-I-V","Am-F-C-G","Cmaj7-Fmaj7-Am7-Dm7"],"Dark Ambient":["i-iv-v-i","Am-Dm-Em-Am","i-VI-III-VII","Drone + minor variations"],Synthwave:["i-VI-III-VII","vi-IV-I-V","I-V-vi-IV","i-iv-v-i","Am-F-C-G","i-VII-VI-V"],Retrowave:["i-VI-III-VII","vi-IV-I-V","I-V-vi-IV","Am-F-C-G","i-iv-v-VI"],Darksynth:["i-VI-III-VII","i-iv-v-i","Am-G-F-E","i-VII-VI-V","vi-IV-I-V"],Vaporwave:["Imaj7-IVmaj7","vi-IV-I-V","I-V-vi-IV","Cmaj7-Fmaj7-Am7-Dm7","ii-V-I-IV"],"Drum and Bass":["i-VI-III-VII","Am-F-C-G","ii-V-I-IV","i-iv-v-VI","Complex jazz voicings"],"Liquid DnB":["ii-V-I-IV","Imaj7-vi7-ii7-V7","i-VI-III-VII","Am-F-C-G","vi-ii-V-I"],Neurofunk:["i-VI-III-VII","i-iv-v-i","Am-G-F-E","Complex chromatic progressions"],Breakcore:["i-VI-III-VII","Complex atonal progressions","i-iv-v-i","Chaotic harmonic structures"],Dubstep:["i-VI-III-VII","i-iv-v-i","Am-G-F-E","Simple 2-3 chord loops","vi-IV-I-V"],Riddim:["i-VI-III-VII","i-iv-v-i","Am-G-F-E","Simple repetitive loops"],"Future Bass":["I-V-vi-IV","vi-IV-I-V","i-VI-III-VII","I-iii-vi-V","vi-ii-V-I"],"Trap (EDM)":["i-VI-III-VII","i-iv-v-i","Am-G-F-E","vi-IV-I-V","Simple 2-3 chord loops"],"Hip Hop":["i-VI-III-VII","Am-G-Em-F","ii-V-I","i-iv-v-i","Sample-based loops","vi-IV-I-V"],"Boom Bap":["ii-V-I","i-VI-III-VII","Am-G-Em-F","Sample-based progressions","i-iv-v-i"],Trap:["i-VI-III-VII","i-iv-v-i","Am-G-F-E","vi-IV-I-V","Simple minor progressions"],"Lo-fi Hip Hop":["ii-V-I-IV","Imaj7-vi7-ii7-V7","I-V-vi-IV","vi-ii-V-I","Cmaj7-Am7-Dm7-G7"],"Cloud Rap":["i-VI-III-VII","vi-IV-I-V","I-V-vi-IV","Atmospheric progressions","Am-F-C-G"],Drill:["i-VI-III-VII","i-iv-v-i","Am-G-F-E","Dark minor progressions","vi-IV-I-V"],"R&B":["Imaj7-IVmaj7","ii-V-I","i-VI-III-VII","vi-ii-V-I","I-iii-vi-V","Cmaj7-Fmaj7-Am7-Dm7"],"Contemporary R&B":["Imaj7-IVmaj7","vi-ii-V-I","I-iii-vi-V","ii-V-I-IV","I-V-vi-IV"],"Neo-Soul":["ii-V-I","Imaj7-vi7-ii7-V7","i-VI-III-VII","Complex jazz progressions","vi-ii-V-I"],Soul:["I-IV-V","ii-V-I","I-vi-IV-V","vi-IV-I-V","I-V-vi-IV"],Folk:["I-IV-V","I-V-vi-IV","G-C-D-G","C-G-Am-F","vi-IV-I-V","I-vi-IV-V"],Acoustic:["I-V-vi-IV","I-IV-V","vi-IV-I-V","G-C-D-G","C-G-Am-F","I-vi-IV-V"],Jazz:["ii-V-I","I-vi-ii-V","iii-vi-ii-V","I-II7-V7-I","Imaj7-IIm7-IIIm7-IVmaj7","vi-ii-V-I"],"Smooth Jazz":["ii-V-I","Imaj7-vi7-ii7-V7","I-vi-ii-V","vi-ii-V-I","iii-vi-ii-V"],Blues:["I-I-I-I-IV-IV-I-I-V-IV-I-I","i-i-i-i-iv-iv-i-i-v-iv-i-i","I-IV-V","i-iv-v"],Funk:["ii-V-I","I-IV-V","i-iv-v-i","vi-ii-V-I","I7-IV7-V7","Dominant 7th progressions"],"Heavy Metal":["i-VI-III-VII","i-iv-v-i","I-bVII-IV-I","vi-IV-I-V","i-VII-VI-V"],"Thrash Metal":["i-VI-III-VII","i-iv-v-i","I-bVII-IV-I","Fast chromatic progressions"],"Death Metal":["i-iv-v-i","i-VI-III-VII","Chromatic progressions","Complex atonal structures"],"Black Metal":["i-iv-v-i","i-VI-III-VII","i-VII-VI-V","Atmospheric minor progressions"],"Doom Metal":["i-iv-v-i","i-VI-III-VII","i-VII-VI-V","Slow minor progressions"],Metalcore:["i-VI-III-VII","vi-IV-I-V","i-iv-v-i","I-bVII-IV-I","vi-ii-V-I"],Deathcore:["i-iv-v-i","i-VI-III-VII","Chromatic breakdowns","Complex atonal progressions"],Experimental:["Atonal progressions","Extended harmony","Microtonal scales","Non-traditional structures"],Noise:["Atonal clusters","Non-harmonic structures","Dissonant progressions","Experimental harmony"],Industrial:["i-iv-v-i","i-VI-III-VII","Power chord progressions","Mechanical repetition"],Chiptune:["I-V-vi-IV","i-VI-III-VII","vi-IV-I-V","Classic video game progressions","I-iii-vi-V"],"Video Game Music":["I-V-vi-IV","i-VI-III-VII","vi-IV-I-V","Adventure progressions","I-iii-vi-V"],Default:["I-V-vi-IV","i-VI-III-VII","I-IV-V-I","vi-IV-I-V","ii-V-I","I-iii-vi-V"]},Qn={Pop:[90,130],"Indie Pop":[100,140],"Synth-Pop":[110,140],Rock:[100,160],"Alternative Rock":[90,150],House:[118,128],"Deep House":[115,125],Techno:[125,145],Trance:[130,145],Ambient:[50,100],Synthwave:[80,120],"Drum and Bass":[160,180],Dubstep:[130,150],"Trap (EDM)":[130,160],"Hip Hop":[80,110],"Lo-fi Hip Hop":[70,90],"R&B":[60,100],Folk:[80,120],Jazz:[70,180],Blues:[70,130],Default:[60,200]},Ea={kick:36,snare:38,hihat_closed:42,open_hihat:46,tom_low:41,tom_mid:47,tom_high:50,crash_cymbal_1:49,ride_cymbal_1:51,clap:39,shaker:70,tambourine:54,rim_shot:37,cowbell:56,bass_drum:36,snare_drum:38,closed_hihat:42,hihat:42,crash:49,ride:51},Kl=[{category:"Genre",key:"genre",examples:["Techno","House","Trance","Dubstep","Drum & Bass","Synthwave","Ambient","Industrial","Rock","Pop","Hip Hop","R&B","Jazz","Experimental","Cinematic","Video Game Score","Chiptune"]},{category:"Voice Type",key:"voiceType",examples:["Lead","Pad","Bass","Pluck","Arp","FX","Drone","Texture","Atmosphere","Riser","Impact","Chord","Stab"]},{category:"Style & Mood",key:"styleMood",examples:["Warm","Bright","Dark","Metallic","Analog","Digital","Dreamy","Aggressive","Mysterious","Epic","Punchy","Floating","Gritty","Clean","Organic","Mechanical","Futuristic","Retro","Cyberpunk"]},{category:"Dynamics & Movement",key:"dynamicsMovement",examples:["Evolving","Pulsating","Static","Rhythmic","Flowing","Choppy","Breathing","Morphing","Swelling","Pounding","Cascading","Trembling","Wobbling","Shifting","Undulating","Building","Fading","Stuttering"]}],pI=["Ableton Operator","Ableton Wavetable","Apple Alchemy","Apple Retro Synth","Arturia Analog Lab","Arturia PolyBrute","Bazille","DiscoDSP OB-Xd","Diva","Hive 2","Kilohearts Phase Plant","Korg MS-20","Korg Wavestate","Moog Minimoog","Native Instruments FM8","Native Instruments Massive","Native Instruments Massive X","Native Instruments Monark","Omnisphere","Pigments","Roland Jupiter-8","Roland Juno-106","Roland SH-101","Sylenth1","TAL TAL-U-No-LX","u-he Repro-1","u-he Repro-5","Vital","Xfer Serum","Zebra2","Generic"].sort(),gI="AIzaSyCxOuxalv_PC6h6aE8JvEjLMK8ie8C9Nts",Vr=new ib({apiKey:gI});function ab(e,t){if(!e&&!t)return`
### 🎛️ Processing Tips & Plugin Parameters

**EQ Settings:**
- High-pass filter: 20-40 Hz to remove sub-bass rumble
- Low-mid cut: 200-400 Hz to reduce muddiness
- Presence boost: 2-5 kHz for clarity
- Air boost: 10-15 kHz for sparkle

**Compression:**
- Ratio: 3:1 to 4:1 for moderate control
- Attack: 10-30ms for punch retention
- Release: 100-300ms for natural decay
- Makeup gain: 2-6 dB as needed

**Reverb & Delay:**
- Room reverb: 0.8-1.5s decay for space
- Delay: 1/8 or 1/4 note timing
- High-cut: 8-12 kHz to avoid harshness
- Mix: 15-30% for depth without wash`;const r=e?(u=>{const f=u.toLowerCase();return f.includes("ableton")?{eq:"EQ Eight",compressor:"Compressor",reverb:"Reverb",delay:"Echo",limiter:"Limiter",saturator:"Saturator"}:f.includes("logic")?{eq:"Channel EQ",compressor:"Compressor",reverb:"ChromaVerb",delay:"Echo",limiter:"Adaptive Limiter",saturator:"Tape"}:f.includes("fl studio")||f.includes("fl")?{eq:"Parametric EQ 2",compressor:"Fruity Compressor",reverb:"Reverb 2",delay:"Fruity Delay 3",limiter:"Fruity Limiter",saturator:"Fruity Waveshaper"}:f.includes("pro tools")?{eq:"EQ III",compressor:"Dyn3 Compressor/Limiter",reverb:"D-Verb",delay:"Mod Delay III",limiter:"Dyn3 Compressor/Limiter",saturator:"Lo-Fi"}:f.includes("cubase")||f.includes("nuendo")?{eq:"StudioEQ",compressor:"Compressor",reverb:"REVerence",delay:"ModMachine",limiter:"Limiter",saturator:"Tape"}:f.includes("reaper")?{eq:"ReaEQ",compressor:"ReaComp",reverb:"ReaVerb",delay:"ReaDelay",limiter:"ReaLimit",saturator:"ReaSynth"}:{eq:"Stock EQ",compressor:"Stock Compressor",reverb:"Stock Reverb",delay:"Stock Delay",limiter:"Stock Limiter",saturator:"Stock Saturator"}})(e):null,o=e&&!t?`**${e} Stock Plugin Chain:**`:e?`**${e}-Specific Settings:**`:"",l=t?`**Custom Plugin Chain (${t}):**`:"";return`
### 🎛️ Processing Tips & Plugin Parameters
${o}
${l}

**EQ Parameters:**
${r&&!t?`- ${r.eq}: High-pass at ${e!=null&&e.toLowerCase().includes("logic")?"35":e!=null&&e.toLowerCase().includes("fl")?"30":"40"} Hz, Low-mid cut at ${e!=null&&e.toLowerCase().includes("logic")?"300":e!=null&&e.toLowerCase().includes("fl")?"400":"250"} Hz (-3dB), Presence boost at ${e!=null&&e.toLowerCase().includes("logic")?"12 kHz (+1.5dB)":e!=null&&e.toLowerCase().includes("fl")?"15 kHz (+2dB)":"3 kHz (+2dB)"}`:e==="Ableton Live"?"- EQ Eight: High-pass at 40 Hz, Low-mid cut at 250 Hz (-3dB), Presence boost at 3 kHz (+2dB)":e==="Logic Pro X"?"- Channel EQ: High-pass at 35 Hz, Low-mid cut at 300 Hz (-2.5dB), High boost at 12 kHz (+1.5dB)":e==="FL Studio"?"- Parametric EQ 2: High-pass at 30 Hz, Mid cut at 400 Hz (-4dB), Air boost at 15 kHz (+2dB)":"- High-pass filter: 20-40 Hz, Low-mid cut: 200-400 Hz (-2 to -4dB), Presence boost: 2-5 kHz (+1 to +3dB)"}

**Compression Settings:**
${r&&!t?`- ${r.compressor}: Ratio ${e!=null&&e.toLowerCase().includes("logic")?"3.5:1":"4:1"}, Attack ${e!=null&&e.toLowerCase().includes("fl")?"10ms":e!=null&&e.toLowerCase().includes("logic")?"20ms":"15ms"}, Release ${e!=null&&e.toLowerCase().includes("logic")?"150ms":e!=null&&e.toLowerCase().includes("fl")?"250ms":"200ms"}${e!=null&&e.toLowerCase().includes("logic")?", Auto-Release enabled":e!=null&&e.toLowerCase().includes("fl")?", Knee 3dB":", Knee 2dB"}`:e==="Ableton Live"?"- Compressor: Ratio 4:1, Attack 15ms, Release 200ms, Knee 2dB":e==="Logic Pro X"?"- Compressor: Ratio 3.5:1, Attack 20ms, Release 150ms, Auto-Release enabled":e==="FL Studio"?"- Fruity Compressor: Ratio 4:1, Attack 10ms, Release 250ms, Knee 3dB":"- Ratio: 3:1 to 4:1, Attack: 10-30ms, Release: 100-300ms"}

**Reverb & Delay:**
${r&&!t?`- ${r.reverb}: Room/Hall setting, 1.2s decay, Pre-delay 20ms, Mix 25%
- ${r.delay}: 1/8 note timing, Feedback 35%, High-cut 8kHz, Mix 20%`:"- Room reverb: 0.8-1.5s decay for space, Delay: 1/8 or 1/4 note timing, High-cut: 8-12 kHz to avoid harshness"}

**Effects Chain:**
${t?`- Using ${t}: Apply specific parameter recommendations based on your plugin selection`:r?`- ${r.eq} → ${r.compressor} → ${r.saturator} → ${r.reverb}/${r.delay} → ${r.limiter}`:"- Standard effects: EQ → Compressor → Reverb/Delay → Limiter"}
- Send levels: 15-25% to reverb bus, 10-20% to delay bus
- Sidechain settings: 4:1 ratio, fast attack, medium release`}function ob(e=!0){const t=e?" | **Instrumentation** ":"",n=e?" | --- ":"",r=e?[" | Lead synth, Bass, Drums, Pads "," | Vocals, Full arrangement "," | Reduced arrangement, Focus elements "," | Full arrangement, Vocal harmonies "," | Breakdown elements, Build-up "," | Lead elements, Minimal backing "," | Full arrangement, Climax elements "," | Fade elements, Ambient textures "]:Array(8).fill("");return`
## 🎼 Structural Blueprint

| **Section** | **Duration** | **Key Elements** | **Energy Level**${t}|
| --- | --- | --- | ---${n}|
| **Intro** | 16-32 bars | Atmospheric build, Teaser elements | Low-Medium${r[0]}|
| **Verse 1** | 16 bars | Main groove, Vocal/Lead melody | Medium${r[1]}|
| **Pre-Chorus** | 8 bars | Tension build, Filter sweeps | Medium-High${r[2]}|
| **Chorus** | 16 bars | Full energy, Hook elements | High${r[3]}|
| **Breakdown** | 8-16 bars | Stripped back, Build tension | Low-Medium${r[4]}|
| **Verse 2/Solo** | 16 bars | Variation, New elements | Medium-High${r[5]}|
| **Final Chorus** | 16-24 bars | Maximum energy, All elements | Maximum${r[6]}|
| **Outro** | 16-32 bars | Gradual fade, Ambient tail | Low${r[7]}|`}const yI=async e=>{var k,R;const t=e.songTitle?`- **Project Name**: ${e.songTitle}`:"",n=e.artistReference?`- **Artist References**: ${e.artistReference}`:"",r=((k=e.genre)==null?void 0:k.join(", "))||"Not specified",o=((R=e.vibe)==null?void 0:R.join(", "))||"Not specified",l=e.availableInstruments||"Not specified",u=e.daw?e.daw:"Not specified",f=e.plugins?e.plugins:"Stock/Generic plugins",m=e.key?`Key: ${e.key}`:"",d=e.scale?`Scale/Mode: ${e.scale}`:"",h=e.chords?`Chord Progression: ${e.chords}`:"",y=e.referenceTrackLink?`Reference Track: ${e.referenceTrackLink}`:"",T=e.lyrics?`Lyrics Theme: ${e.lyrics}`:"",S=e.generalNotes?`Additional Notes: ${e.generalNotes}`:"",M=ob(!0),E=ab(e.daw,e.plugins),_=`// ⚡ Including all fields
You are TrackGuideAI, an expert music production assistant specializing in comprehensive track creation guides.

Create a detailed TrackGuide for the following specifications:
${t}
${n}
- **Genre**: ${r}
- **Vibe**: ${o}
- **Available Instruments**: ${l}
- **DAW**: ${u}
- **Plugins**: ${f}
${m}
${d}
${h}
${y}
${T}
${S}

**IMPORTANT FORMATTING REQUIREMENTS:**
1. Include the exact Structural Blueprint table with Instrumentation column as provided
2. Use specific plugin parameters when DAW/plugins are specified
3. Provide actionable, detailed guidance for each section
4. Use markdown formatting with proper headers and emphasis

**Required Sections:**

${M}

## 🎵 Genre DNA Analysis
**Core Characteristics:**
- Tempo range and feel
- Harmonic structure and chord progressions
- Rhythmic patterns and groove elements
- Sonic palette and instrumentation choices

**Reference Analysis:**
${e.referenceTrackLink?"Analyze the provided reference track for key production techniques and arrangement ideas.":`Draw from classic examples in the ${r} genre for inspiration.`}

## 🎹 Instrument & Sound Design
**Primary Elements:**
- Lead sounds: Character, processing, and role
- Bass design: Sub content, mid presence, and groove
- Drum programming: Kick selection, snare character, hi-hat patterns
- Harmonic elements: Pad textures, chord voicings, arpeggios

**Sound Shaping:**
- Synthesis techniques and oscillator choices
- Filter movements and modulation
- Effects processing and spatial placement
- Layering strategies for fullness

${E}

## 🎚️ Mixing & Arrangement Strategy
**Frequency Management:**
- Low-end: Sub-bass vs bass guitar/synth separation
- Midrange: Vocal/lead clarity and instrument separation  
- High-end: Air, sparkle, and presence balance

**Spatial Design:**
- Stereo width: Center, sides, and phantom center elements
- Depth: Reverb sends, delay throws, and dry/wet balance
- Movement: Automation, panning, and filter sweeps

**Dynamic Control:**
- Compression: Individual tracks and bus processing
- Sidechain: Pumping effects and clarity enhancement
- Limiting: Loudness and peak control

## 🎼 Arrangement Flow & Energy Management
**Section Transitions:**
- Build techniques: Risers, drum fills, filter sweeps
- Drop preparation: Silence, reverse reverbs, tension
- Energy curves: How to maintain listener engagement

**Variation Techniques:**
- Verse differences: Subtle changes to maintain interest
- Chorus variations: Building intensity across repetitions
- Bridge/breakdown: Contrast and reset before final sections

Focus on practical, actionable advice that can be immediately applied in ${u}. Provide specific parameter ranges and creative techniques that align with the ${r} aesthetic and ${o} mood.`;return await Vr.models.generateContentStream({model:ir,contents:_})},fs=async e=>{const t=`// ⚡ Including guidebookContext
You are TrackGuideAI's MIDI Pattern Generator. Generate MIDI patterns in VALID JSON format only.

**Requirements:**
- Key: ${e.key}
- Scale/Mode: ${e.scale||"Major/Natural Minor"}
- Tempo: ${e.tempo} BPM
- Time Signature: ${e.timeSignature.join("/")}
- Chord Progression: ${e.chordProgression}
- Genre Context: ${e.genre}
- Song Section: ${e.songSection||"General Loop"}
- Bars: ${e.bars}
- Target Instruments: ${e.targetInstruments.join(", ")}
- Guidebook Context: ${e.guidebookContext||"Not specified"}

**JSON Structure Required:**
{
  "chords": [
    {
      "time": 0,
      "name": "Cm",
      "duration": 2,
      "notes": [{"pitch": "C4", "midi": 60}, {"pitch": "Eb4", "midi": 63}, {"pitch": "G4", "midi": 67}],
      "velocity": 90
    }
  ],
  "bassline": [
    {
      "time": 0,
      "midi": 36,
      "duration": 0.5,
      "velocity": 100,
      "pitch": "C2"
    }
  ],
  "melody": [
    {
      "time": 0,
      "midi": 72,
      "duration": 1,
      "velocity": 95,
      "pitch": "C5"
    }
  ],
  "drums": {
    "kick": [
      {"time": 0, "duration": 0.25, "velocity": 120},
      {"time": 2, "duration": 0.25, "velocity": 115}
    ],
    "snare": [
      {"time": 1, "duration": 0.25, "velocity": 100},
      {"time": 3, "duration": 0.25, "velocity": 105}
    ],
    "hihat_closed": [
      {"time": 0.5, "duration": 0.125, "velocity": 80},
      {"time": 1.5, "duration": 0.125, "velocity": 75}
    ],
    "open_hihat": [
      {"time": 1.75, "duration": 0.5, "velocity": 85}
    ],
    "clap": [
      {"time": 1, "duration": 0.25, "velocity": 95}
    ],
    "tom_high": [
      {"time": 3.5, "duration": 0.25, "velocity": 90}
    ],
    "tom_mid": [
      {"time": 3.75, "duration": 0.25, "velocity": 95}
    ],
    "tom_low": [
      {"time": 4, "duration": 0.5, "velocity": 100}
    ],
    "crash_cymbal_1": [
      {"time": 0, "duration": 2, "velocity": 110}
    ],
    "ride_cymbal_1": [
      {"time": 0.5, "duration": 0.25, "velocity": 70}
    ]
  }
}

**CRITICAL REQUIREMENTS:**
1. Return ONLY valid JSON. No explanatory text, no markdown formatting, no code blocks.
2. All time values must be in beats (0 to ${e.bars*4})
3. All MIDI numbers must be integers between 21-108
4. All durations must be positive numbers
5. All velocities must be integers between 1-127
6. Use appropriate drum elements for ${e.genre}:
   - Essential: kick, snare, hihat_closed
   - Groove: open_hihat, ride_cymbal_1
   - Accents: clap, crash_cymbal_1
   - Fills: tom_high, tom_mid, tom_low
   - Choose elements that fit the genre and song section

**Genre-Specific Drum Guidelines:**
- Electronic/House/Techno: Focus on kick, hihat_closed, open_hihat, clap
- Rock/Metal: Use kick, snare, hihat_closed, crash_cymbal_1, tom_high, tom_mid, tom_low
- Hip Hop/Trap: Emphasize kick, snare, hihat_closed, clap
- Jazz/Funk: Include ride_cymbal_1, hihat_closed, kick, snare
- Pop: Balanced use of kick, snare, hihat_closed, crash_cymbal_1, clap

Generate patterns appropriate for ${e.genre} in the ${e.songSection} section, using ${e.chordProgression} progression in ${e.key}.`;return await Vr.models.generateContentStream({model:ir,contents:t})},xI=async e=>{const t=`You are TrackGuideAI's Mix Analysis Expert. Provide detailed mix feedback.

**Track Analysis:**
- Track Name: ${e.trackName}
- Focus Areas: ${e.focus||"Overall mix balance and clarity"}
- User Notes: ${e.notes||e.userNotes||"No specific notes provided"}

**Analysis Framework:**
1. **Frequency Balance**
   - Low-end: Sub-bass presence and bass clarity
   - Midrange: Vocal/lead prominence and instrument separation
   - High-end: Air, sparkle, and harshness assessment

2. **Spatial Characteristics**
   - Stereo width and imaging
   - Depth and dimension
   - Center focus vs side content

3. **Dynamic Properties**
   - Compression effectiveness
   - Transient preservation
   - Overall loudness and headroom

4. **Technical Assessment**
   - Phase relationships
   - Distortion or artifacts
   - Noise floor and clarity

**Provide specific, actionable feedback with:**
- Identified strengths and areas for improvement
- Specific frequency ranges and dB adjustments
- Plugin suggestions and parameter recommendations
- Before/after comparison techniques

Focus on practical improvements that can be implemented immediately.`;return(await Vr.models.generateContent({model:ir,contents:t})).text},vI=async e=>{const t=`
You are an expert mixing & mastering AI. The user has uploaded two mixes:

Mix A: "${e.mixAName}" — an earlier version  
Mix B: "${e.mixBName}" — the current working version  

🎧 Instructions:
- Mix B is the active version — focus all actionable feedback on improving Mix B.
- Mix A is an earlier version — if Mix A has strengths vs Mix B, point those out.
- Acknowledge improvements made in Mix B compared to A.
- Do NOT suggest changes to Mix A (it is not being revised).

If "Request full mix analysis" is selected → add full technical breakdown of Mix B (like in your Mix Feedback function).

Provide your analysis in clear Markdown format with the following sections:

## 🎧 Overall Comparison

## 🎛️ Frequency Balance

## 🎚️ Stereo Image & Depth

## 📈 Dynamics & Loudness

## ⚙️ Technical Quality

## 🏆 Strengths & Opportunities (for Mix B)

## 🚀 Actionable Recommendations (for Mix B only)

`;return(await Vr.models.generateContent({model:ir,contents:t})).text},bI=async(e,t)=>{const n=e.map(u=>`${u.role==="user"?"User":"Assistant"}: ${u.content}`).join(`
`),o=`You are TrackGuideAI, an expert music production assistant. You're helping a user with their current track project.

${`
**Current Guidebook Context:**
- Title: ${t.title}
- Genre: ${t.genre.join(", ")}
- Vibe: ${t.vibe.join(", ")}
- DAW: ${t.daw}
- Key: ${t.key||"Not specified"}
- Available Instruments: ${t.availableInstruments}`}

**Conversation History:**
${n}

**Your Role:**
- Provide specific, actionable music production advice
- Reference the current guidebook context when relevant
- Offer technical solutions and creative suggestions
- Ask clarifying questions when needed
- Maintain a helpful, professional tone

**Response Guidelines:**
- Be concise but thorough
- Include specific parameter suggestions when applicable
- Reference DAW-specific techniques when relevant
- Provide alternative approaches when possible

Respond as the helpful TrackGuideAI assistant.`;return await Vr.models.generateContentStream({model:ir,contents:o})};async function*TI(e,t,n,r,o){try{const l=n!=null&&n.tempoRange?`${n.tempoRange[0]}-${n.tempoRange[1]} BPM`:"120-130 BPM",u=(n==null?void 0:n.sections)||["Intro","Build-Up","Drop","Breakdown","Outro"],f=ob(!0),m=ab(r,o),d=`You are TrackGuideAI's Remix Specialist. Analyze the uploaded audio track and create a comprehensive remix guide for transforming it into ${t} style.

**User Production Setup:**
- **DAW:** ${r||"Not specified"}
- **Available Plugins:** ${o||"Stock/Generic plugins"}

**Analysis Requirements:**
1. Identify the original track's tempo, key, harmonic progression, and rhythmic characteristics
2. Determine optimal transformation approach for ${t}
3. Provide detailed production guidance with specific techniques
4. Include plugin-specific parameter recommendations based on user's setup

**Target Genre:** ${t}
**Target Tempo Range:** ${l}
**Suggested Sections:** ${u.join(", ")}

Create a detailed markdown remix guide that includes:

# 🎵 REMIX GUIDE: [Original Track] → ${t}

## 🎧 Original Track DNA Analysis
**Detected Characteristics:**
- **Original Tempo:** [Detected BPM]
- **Original Key:** [Detected Key]
- **Harmonic Blueprint:** [Chord progression analysis]
- **Rhythmic Feel:** [Time signature and groove analysis]
- **Sonic Character:** [Tonal qualities and instrumentation]

**Transformation Strategy:**
- **Target Tempo:** [Recommended BPM within ${l}]
- **Target Key:** [Optimal key for ${t}]
- **Genre Adaptation:** [How to adapt original elements]

${f}

## 🎹 Sound Design & Instrumentation Transformation
**Lead Elements:**
- **Original → ${t}:** Transform existing leads using specific techniques
- **New Elements:** Add characteristic ${t} sounds
- **Processing Chain:** Specific plugin recommendations and parameters

**Rhythm Section Redesign:**
- **Drum Programming:** ${t}-specific patterns and sounds
- **Bass Design:** Transform or replace bass elements
- **Percussion Layers:** Add characteristic ${t} percussion

## 🔊 Mixing & Processing Techniques
**Signal Chain Recommendations:**
${m}

**${t}-Specific Processing:**
- Genre-characteristic EQ curves
- Compression techniques for ${t}
- Saturation and distortion applications
- Spatial processing (reverb/delay) for the genre

## 🎯 Arrangement & Structure
**Section-by-Section Breakdown:**
${u.map(S=>`
**${S}:**
- Elements to include/exclude
- Energy level and dynamics
- Transition techniques
`).join("")}

**Dynamic Build Strategy:**
- How to create tension and release
- Filter sweeps and automation
- Risers and impacts placement

## 💡 Creative Production Tips
- Unconventional ${t} techniques
- Experimental processing ideas
- Sample manipulation suggestions
- Layering strategies for depth

---
*Generated by TrackGuideAI - Your AI Music Production Assistant*

**IMPORTANT:** Also provide metadata at the end in this format:
METADATA:
- Original Tempo: [detected BPM number]
- Original Key: [detected key]
- Original Chord Progression: [detected progression]
- Target Tempo: [recommended BPM number]
- Target Key: [recommended key]
- Sections: [${u.join(", ")}]`,h=await Vr.models.generateContentStream({model:ir,contents:[{role:"user",parts:[{text:d},{inlineData:{mimeType:e.mimeType,data:e.base64}}]}]});let y="";for await(const S of h){const M=S.text;M&&(y+=M,yield{text:M})}yield{text:"",metadata:SI(y)}}catch(l){throw console.error("Error generating remix guide stream:",l),new Error(`Failed to generate remix guide: ${l instanceof Error?l.message:"Unknown error"}`)}}function SI(e){const t={},n=e.match(/Original Tempo:\s*(\d+)/i);n&&(t.originalTempo=parseInt(n[1]));const r=e.match(/Target Tempo:\s*(\d+)/i);r&&(t.targetTempo=parseInt(r[1]));const o=e.match(/Original Key:\s*([A-G][#b]?\s*(?:major|minor|maj|min))/i);o&&(t.originalKey=o[1]);const l=e.match(/Target Key:\s*([A-G][#b]?\s*(?:major|minor|maj|min))/i);l&&(t.targetKey=l[1]);const u=e.match(/Harmonic Blueprint:\s*([IVXivx\d\s\-,]+)/i);u&&(t.originalChordProgression=u[1].trim());const f=e.match(/Sections:\s*\[(.*?)\]/i);return f&&(t.sections=f[1].split(",").map(m=>m.trim().replace(/"/g,""))),t}const Cx=async e=>{if(!e.audioFile)return xI(e);try{const n=await(d=>new Promise((h,y)=>{const T=new FileReader;T.onloadend=()=>{const S=T.result;h(S.split(",")[1])},T.onerror=y,T.readAsDataURL(d)}))(e.audioFile),o={text:`You are TrackGuideAI's Advanced Mix Analysis Expert. Analyze the uploaded audio file and provide comprehensive mix feedback.

**Track Information:**
- Track Name: ${e.trackName||"Uploaded Mix"}
- Focus Areas: ${e.focus||"Overall mix balance and clarity"}
- User Notes: ${e.notes||e.userNotes||"No specific notes provided"}

**Comprehensive Analysis Framework:**

## 🎧 Audio Analysis Results

### Frequency Spectrum Analysis
**Low-End (20-250 Hz):**
- Sub-bass presence and control
- Bass clarity and definition
- Low-mid muddiness assessment

**Midrange (250 Hz - 5 kHz):**
- Vocal/lead instrument clarity
- Instrument separation and masking
- Presence and intelligibility

**High-End (5 kHz+):**
- Air and sparkle quality
- Harshness or sibilance issues
- Overall brightness balance

### Stereo Field & Spatial Analysis
**Width & Imaging:**
- Stereo spread effectiveness
- Phantom center stability
- Side content balance

**Depth & Dimension:**
- Reverb usage and space
- Dry/wet balance
- Front-to-back positioning

### Dynamic Range Assessment
**Compression Analysis:**
- Overall dynamic range
- Transient preservation
- Pumping or over-compression

**Loudness Evaluation:**
- Perceived loudness level
- Peak management
- Headroom availability

### Technical Quality Check
**Distortion & Artifacts:**
- Unwanted harmonic distortion
- Digital artifacts or clipping
- Noise floor assessment

**Phase Relationships:**
- Mono compatibility
- Phase cancellation issues
- Correlation analysis

## 🎯 Specific Recommendations

### Immediate Improvements
1. **Priority Fix #1:** [Most critical issue with specific solution]
2. **Priority Fix #2:** [Second most important improvement]
3. **Priority Fix #3:** [Third priority enhancement]

### Technical Adjustments
**EQ Suggestions:**
- Specific frequency cuts/boosts with dB amounts
- Problem frequency identification
- Enhancement opportunities

**Compression Recommendations:**
- Ratio, attack, and release settings
- Specific compressor types or plugins
- Bus compression strategies

**Effects Processing:**
- Reverb and delay adjustments
- Spatial enhancement techniques
- Creative processing opportunities

### Professional Polish
**Mastering Considerations:**
- Final EQ and compression
- Stereo enhancement
- Loudness optimization

**Reference Comparison:**
- How this mix compares to commercial standards
- Genre-specific benchmarks
- Areas for competitive improvement

Provide actionable, specific feedback that can be implemented immediately to improve the mix quality and professional impact.`},u=[{inlineData:{data:n,mimeType:e.audioFile.type||"audio/mpeg"}},o],m=(await Vr.models.generateContent({model:ir,contents:{parts:u}})).text;if(typeof m!="string")throw new Error("Received an unexpected response format from Gemini API for mix feedback.");return m}catch(t){console.error("Error generating mix feedback with audio:",t);let n="An unknown error occurred while generating mix feedback.";throw t instanceof Error&&(n=t.message,t.message.includes("API key not valid")||t.message.includes("permission")?n="Invalid API Key or insufficient permissions. Please check your API key configuration.":t.message.toLowerCase().includes("network error")||t.message.toLowerCase().includes("failed to fetch")?n=`Network error: Failed to connect to Gemini API. Please check your internet connection. (${t.message})`:t.message.includes("Candidate was blocked")?n="The response was blocked by the AI. This might be due to content policies. Please try again or adjust your input.":t.message.includes("audio")&&(n=`There was an issue processing the audio file. Ensure it's a common format and not too large. (${t.message})`)),new Error(n)}},gn=Am.forwardRef(({label:e,id:t,wrapperClassName:n,...r},o)=>g.jsxs("div",{className:n,children:[e&&g.jsx("label",{htmlFor:t,className:"block text-sm font-medium text-gray-300 mb-1",children:e}),g.jsx("input",{id:t,ref:o,...r,className:`w-full px-4 py-2 bg-gray-800 border border-gray-700 rounded-md shadow-sm placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-purple-500 text-gray-100 ${r.className||""}`})]}));gn.displayName="Input";const Ta=({label:e,id:t,wrapperClassName:n,...r})=>g.jsxs("div",{className:n,children:[e&&g.jsx("label",{htmlFor:t,className:"block text-sm font-medium text-gray-300 mb-1",children:e}),g.jsx("textarea",{id:t,...r,className:`w-full px-4 py-2 bg-gray-800 border border-gray-700 rounded-md shadow-sm placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-purple-500 text-gray-100 ${r.className||""}`,rows:3})]}),Pe=({children:e,variant:t="primary",size:n="md",className:r="",leftIcon:o,rightIcon:l,...u})=>{const f="inline-flex items-center justify-center font-semibold rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-gray-900 transition-colors duration-150 disabled:opacity-50 disabled:cursor-not-allowed",m={primary:"bg-purple-600 hover:bg-purple-700 text-white focus:ring-purple-500",secondary:"bg-gray-700    hover:bg-gray-600 text-gray-100 focus:ring-gray-500",outline:"border border-purple-500 text-purple-400 hover:bg-purple-500 hover:text-white focus:ring-purple-500",danger:"bg-red-600     hover:bg-red-700 text-white focus:ring-red-500"},d={sm:"px-3 py-1.5 text-sm",md:"px-4 py-2   text-base",lg:"px-6 py-3   text-lg"};return g.jsxs("button",{...u,className:`${f} ${m[t]} ${d[n]} ${r}`,children:[o&&g.jsx("span",{className:"mr-2",children:o}),e,l&&g.jsx("span",{className:"ml-2",children:l})]})},qe=({children:e,className:t="",title:n,titleClassName:r="",contentClassName:o="",...l})=>g.jsxs("div",{className:`bg-gray-800 shadow-lg rounded-lg overflow-hidden ${t}`,...l,children:[n&&g.jsx("div",{className:`px-4 py-3 border-b border-gray-700 ${r}`,children:g.jsx("h3",{className:"text-lg font-semibold text-gray-100",children:n})}),g.jsx("div",{className:`p-4 ${o}`,children:e})]}),xi=({size:e="md",color:t="text-purple-500",text:n})=>{const r={sm:"w-6 h-6",md:"w-8 h-8",lg:"w-12 h-12"};return g.jsxs("div",{className:"flex flex-col items-center justify-center",children:[g.jsx("div",{className:`animate-spin rounded-full border-t-2 border-b-2 border-transparent ${r[e]} ${t}`,style:{borderTopColor:"currentColor",borderBottomColor:"currentColor"}}),n&&g.jsx("p",{className:"mt-2 text-sm text-gray-400",children:n})]})},CI=({className:e,title:t})=>g.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:e||"w-5 h-5","aria-hidden":t?void 0:"true",role:t?"img":void 0,children:[t&&g.jsx("title",{children:t}),g.jsx("path",{fillRule:"evenodd",d:"M10.868 2.884c-.321-.772-1.415-.772-1.736 0l-1.83 4.401-4.753.381c-.833.067-1.171 1.107-.536 1.651l3.62 3.102-1.106 4.637c-.194.813.691 1.456 1.405 1.02L10 15.591l4.069 2.485c.713.436 1.598-.207 1.404-1.02l-1.106-4.637 3.62-3.102c.635-.544.297-1.584-.536-1.65l-4.752-.382-1.831-4.401z",clipRule:"evenodd"})]}),Ud=({className:e,title:t})=>g.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:e||"w-5 h-5","aria-hidden":t?void 0:"true",role:t?"img":void 0,children:[t&&g.jsx("title",{children:t}),g.jsx("path",{fillRule:"evenodd",d:"M3 17a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zm3.293-7.707a1 1 0 011.414 0L9 10.586V3a1 1 0 112 0v7.586l1.293-1.293a1 1 0 111.414 1.414l-3 3a1 1 0 01-1.414 0l-3-3a1 1 0 010-1.414z",clipRule:"evenodd"})]}),wI=({className:e,title:t})=>g.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:e||"w-5 h-5","aria-hidden":t?void 0:"true",role:t?"img":void 0,children:[t&&g.jsx("title",{children:t}),g.jsx("path",{d:"M5 4a2 2 0 012-2h6a2 2 0 012 2v10a2 2 0 01-2 2H7a2 2 0 01-2-2V4zm2 0v10h6V4H7zm5 1h-4a1 1 0 100 2h4a1 1 0 100-2z"})]}),MI=({className:e,title:t})=>g.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:e||"w-5 h-5","aria-hidden":t?void 0:"true",role:t?"img":void 0,children:[t&&g.jsx("title",{children:t}),g.jsx("path",{fillRule:"evenodd",d:"M9 2a1 1 0 00-.894.553L7.382 4H4a1 1 0 000 2v10a2 2 0 002 2h8a2 2 0 002-2V6a1 1 0 100-2h-3.382l-.724-1.447A1 1 0 0011 2H9zM7 8a1 1 0 012 0v6a1 1 0 11-2 0V8zm5-1a1 1 0 00-1 1v6a1 1 0 102 0V8a1 1 0 00-1-1z",clipRule:"evenodd"})]}),Gd=({className:e,title:t})=>g.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:e||"w-6 h-6","aria-hidden":t?void 0:"true",role:t?"img":void 0,children:[t&&g.jsx("title",{children:t}),g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6.042A8.967 8.967 0 006 3.75c-1.052 0-2.062.18-3 .512v14.25A8.987 8.987 0 016 18c2.305 0 4.408.867 6 2.292m0-14.25a8.966 8.966 0 016-2.292c1.052 0 2.062.18 3 .512v14.25A8.987 8.987 0 0018 18a8.967 8.967 0 00-6 2.292m0-14.25v14.25"})]}),EI=({className:e,title:t})=>g.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:e||"w-5 h-5","aria-hidden":t?void 0:"true",role:t?"img":void 0,children:[t&&g.jsx("title",{children:t}),g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 01-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 011.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 00-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 01-1.125-1.125v-9.25m9.75 0l-4.5-4.5m0 0l-4.5 4.5M12.75 3v4.5A2.25 2.25 0 0015 9.75h4.5"})]}),sb=({className:e,title:t})=>g.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:e||"w-5 h-5","aria-hidden":t?void 0:"true",role:t?"img":void 0,children:[t&&g.jsx("title",{children:t}),g.jsx("path",{d:"M10 3.515V11.24a3.513 3.513 0 00-1.5-.406c-1.313 0-2.388.752-2.388 1.672S7.187 14.18 8.5 14.18c1.238 0 2.263-.672 2.375-1.537h.125v-7.14c0-.313.11-.604.313-.828.202-.224.494-.344.812-.344.625 0 1.125.5 1.125 1.125V11.24a3.513 3.513 0 00-1.5-.406c-1.313 0-2.388.752-2.388 1.672S10.187 14.18 11.5 14.18c1.313 0 2.388-.752 2.388-1.672a1.675 1.675 0 00-1.078-1.543V3.515A2.625 2.625 0 0010 1C8.619 1 7.5 2.12 7.5 3.5V11.24A3.513 3.513 0 006 10.833c-1.313 0-2.388.752-2.388 1.672S4.687 14.18 6 14.18c1.237 0 2.262-.672 2.375-1.537h.125V6.125C8.5 4.5 9.125 3.515 10 3.515z"})]}),qd=({className:e,title:t})=>g.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:e||"w-5 h-5","aria-hidden":t?void 0:"true",role:t?"img":void 0,children:[t&&g.jsx("title",{children:t}),g.jsx("path",{d:"M10.75 4.75a.75.75 0 00-1.5 0v4.5h-4.5a.75.75 0 000 1.5h4.5v4.5a.75.75 0 001.5 0v-4.5h4.5a.75.75 0 000-1.5h-4.5v-4.5z"})]}),wx=({className:e,title:t})=>g.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:e||"w-5 h-5","aria-hidden":t?void 0:"true",role:t?"img":void 0,children:[t&&g.jsx("title",{children:t}),g.jsx("path",{fillRule:"evenodd",d:"M6.516 4.42A1.5 1.5 0 004 5.662v8.676a1.5 1.5 0 002.516 1.242l6.712-4.338a1.5 1.5 0 000-2.484L6.516 4.42z",clipRule:"evenodd"})]}),AI=({className:e,title:t})=>g.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:e||"w-5 h-5","aria-hidden":t?void 0:"true",role:t?"img":void 0,children:[t&&g.jsx("title",{children:t}),g.jsx("path",{fillRule:"evenodd",d:"M5 5a1 1 0 00-1 1v8a1 1 0 001 1h8a1 1 0 001-1V6a1 1 0 00-1-1H5zm0-2a3 3 0 00-3 3v8a3 3 0 003 3h8a3 3 0 003-3V6a3 3 0 00-3-3H5z",clipRule:"evenodd"})]}),Mx=({className:e,isSpinning:t,title:n})=>g.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:`${e||"w-5 h-5"} ${t?"animate-spin":""}`,"aria-hidden":n?void 0:"true",role:n?"img":void 0,children:[n&&g.jsx("title",{children:n}),g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.023 9.348h4.992v-.001M2.985 19.644v-4.992m0 0h4.992m-4.993 0l3.181 3.183a8.25 8.25 0 0013.803-3.7M4.031 9.865a8.25 8.25 0 0113.803-3.7l3.181 3.182m0-4.991v4.99"})]}),DI=({className:e,title:t})=>g.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:e||"w-5 h-5","aria-hidden":t?void 0:"true",role:t?"img":void 0,children:[t&&g.jsx("title",{children:t}),g.jsx("path",{fillRule:"evenodd",d:"M18 7H2a1 1 0 00-1 1v6a1 1 0 001 1h16a1 1 0 001-1V8a1 1 0 00-1-1zM2 9.5v3h16v-3H2z",clipRule:"evenodd"}),g.jsx("path",{d:"M4 11h1v1H4v-1zm2 0h1v1H6v-1zm2 0h1v1H8v-1zm2 0h1v1h-1v-1zm2 0h1v1h-1v-1zm2 0h1v1h-1v-1z"})]}),II=({className:e,title:t})=>g.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:e||"w-6 h-6","aria-hidden":t?void 0:"true",role:t?"img":void 0,children:[t&&g.jsx("title",{children:t}),g.jsx("rect",{x:"3.5",y:"3.5",width:"17",height:"17",rx:"2",stroke:"currentColor",fill:"none",strokeWidth:"1.5"})]}),kI=({className:e,title:t})=>g.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:e||"w-5 h-5","aria-hidden":t?void 0:"true",role:t?"img":void 0,children:[t&&g.jsx("title",{children:t}),g.jsx("path",{fillRule:"evenodd",d:"M3 3a1 1 0 011-1h12a1 1 0 011 1v12a1 1 0 01-1 1H4a1 1 0 01-1-1V3zm10.707 3.707a1 1 0 00-1.414-1.414L8 9.586 6.707 8.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l5-5z",clipRule:"evenodd"})]}),lb=({className:e,title:t})=>g.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:e||"w-6 h-6","aria-hidden":t?void 0:"true",role:t?"img":void 0,children:[t&&g.jsx("title",{children:t}),g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"})]}),td=({className:e,title:t})=>g.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:e||"w-6 h-6","aria-hidden":t?void 0:"true",role:t?"img":void 0,children:[t&&g.jsx("title",{children:t}),g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 16.5v2.25A2.25 2.25 0 005.25 21h13.5A2.25 2.25 0 0021 18.75V16.5m-13.5-9L12 3m0 0l4.5 4.5M12 3v13.5"})]}),nd=({className:e,title:t})=>g.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:e||"w-6 h-6","aria-hidden":t?void 0:"true",role:t?"img":void 0,children:[t&&g.jsx("title",{children:t}),g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.5 6h9.75M10.5 6a2.25 2.25 0 11-4.5 0m4.5 0a2.25 2.25 0 10-4.5 0M3.75 6H7.5m3 12h9.75m-9.75 0a2.25 2.25 0 01-4.5 0m4.5 0a2.25 2.25 0 00-4.5 0M3.75 18H7.5M10.5 12h9.75M10.5 12a2.25 2.25 0 01-4.5 0m4.5 0a2.25 2.25 0 00-4.5 0M3.75 12H7.5"})]}),RI=({isOpen:e,currentGuidebook:t,userInputs:n,isCollapsed:r=!1,onToggle:o})=>{const[l,u]=ne.useState([]),[f,m]=ne.useState(""),[d,h]=ne.useState(!1),y=ne.useRef(null),T=ne.useRef(null),S=ne.useRef(null);ne.useEffect(()=>{e&&l.length===0&&u([{id:"1",role:"assistant",content:`Hi! I'm your AI music production assistant. I can help you:

• Refine your TrackGuide with specific questions
• Suggest improvements to your current project
• Answer production techniques questions
• Help adjust your genre, vibe, or arrangement ideas
• Provide detailed explanations about any aspect of your track

What would you like to work on today?`,timestamp:new Date}])},[e,l.length]);const M=()=>{S.current&&(S.current.scrollTop=S.current.scrollHeight)};ne.useEffect(()=>{M()},[l]),ne.useEffect(()=>{e&&T.current&&setTimeout(()=>{var k;return(k=T.current)==null?void 0:k.focus()},100)},[e]);const E=()=>{u([{id:"1",role:"assistant",content:`Hi! I'm your AI music production assistant. I can help you:

• Refine your TrackGuide with specific questions
• Suggest improvements to your current project
• Answer production techniques questions
• Help adjust your genre, vibe, or arrangement ideas
• Provide detailed explanations about any aspect of your track

What would you like to work on today?`,timestamp:new Date}])},_=async()=>{if(!f.trim()||d)return;const k={id:Date.now().toString(),role:"user",content:f.trim(),timestamp:new Date};u(R=>[...R,k]),m(""),h(!0);try{const R=l.map(oe=>({role:oe.role,content:oe.content}));R.push({role:"user",content:k.content});const z=t||{id:"temp-"+Date.now(),title:"Current Project",genre:(n==null?void 0:n.genre)||["General"],artistReference:(n==null?void 0:n.artistReference)||"Not specified",vibe:(n==null?void 0:n.vibe)||["Creative"],daw:(n==null?void 0:n.daw)||"Not specified",plugins:(n==null?void 0:n.plugins)||"Not specified",availableInstruments:(n==null?void 0:n.availableInstruments)||"Not specified",content:"Working on current project",createdAt:new Date().toISOString(),key:n==null?void 0:n.key,scale:n==null?void 0:n.scale,chords:n==null?void 0:n.chords},G=await bI(R,z),H={id:(Date.now()+1).toString(),role:"assistant",content:"",timestamp:new Date};u(oe=>[...oe,H]);let se="";for await(const oe of G)oe.text&&(se+=oe.text,u(pe=>pe.map(j=>j.id===H.id?{...j,content:se}:j)))}catch(R){console.error("AI Assistant Error:",R);const z={id:(Date.now()+1).toString(),role:"assistant",content:"Sorry, I encountered an error. Please try again or rephrase your question.",timestamp:new Date};u(G=>[...G,z])}finally{h(!1)}},I=k=>{k.key==="Enter"&&!k.shiftKey&&(k.preventDefault(),_())};return g.jsx("div",{className:"fixed bottom-4 right-4 z-[9999]",children:r?g.jsx("div",{onClick:o,className:"w-14 h-14 bg-blue-500 hover:bg-blue-600 rounded-full shadow-2xl cursor-pointer flex items-center justify-center hover:scale-105 transition-transform duration-200 border-2 border-white/20",children:g.jsx("img",{src:"/production-coach-icon.svg",alt:"Production Coach",className:"w-8 h-8"})}):g.jsx("div",{className:"w-96 h-[600px] max-h-[80vh] max-w-[calc(100vw-2rem)] md:max-w-96",children:g.jsxs("div",{className:"h-full bg-gray-800 shadow-2xl border border-gray-700 rounded-lg flex flex-col overflow-hidden",children:[g.jsxs("div",{className:"p-3 border-b border-gray-700 flex justify-between items-center bg-gradient-to-r from-purple-600 to-blue-600 flex-shrink-0",children:[g.jsxs("div",{className:"flex items-center min-w-0 flex-1",children:[g.jsx(CI,{className:"w-5 h-5 text-white mr-2 flex-shrink-0"}),g.jsx("h2",{className:"text-lg font-bold text-white truncate",children:"Production Coach"})]}),g.jsxs("div",{className:"flex gap-1 flex-shrink-0 ml-2",children:[g.jsx(Pe,{onClick:E,variant:"outline",size:"sm",className:"text-white border-white/30 hover:bg-white/10 hidden sm:inline-flex",children:"Clear"}),g.jsx(Pe,{onClick:o,variant:"outline",size:"sm",className:"text-white border-white/30 hover:bg-white/10 flex-shrink-0",children:g.jsx("span",{className:"text-sm",children:"−"})})]})]}),g.jsxs("div",{ref:S,className:"flex-1 overflow-y-auto p-3 space-y-3 bg-gray-900/50",style:{scrollBehavior:"smooth",overflowAnchor:"auto"},children:[l.map(k=>g.jsx("div",{className:`flex ${k.role==="user"?"justify-end":"justify-start"}`,children:g.jsxs("div",{className:`max-w-[85%] p-3 rounded-lg text-sm shadow-lg ${k.role==="user"?"bg-purple-600 text-white rounded-br-sm":"bg-gray-700 text-gray-100 rounded-bl-sm"}`,children:[g.jsx("div",{className:"whitespace-pre-wrap break-words leading-relaxed",children:k.content}),g.jsx("div",{className:"text-xs opacity-70 mt-2",children:k.timestamp.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]})},k.id)),d&&g.jsx("div",{className:"flex justify-start",children:g.jsx("div",{className:"bg-gray-700 text-gray-100 p-3 rounded-lg text-sm shadow-lg rounded-bl-sm",children:g.jsx(xi,{text:"AI is thinking..."})})}),g.jsx("div",{ref:y})]}),g.jsxs("div",{className:"p-3 border-t border-gray-700 bg-gray-800 flex-shrink-0",children:[g.jsxs("div",{className:"flex gap-2 mb-2",children:[g.jsx(gn,{ref:T,type:"text",placeholder:"Ask about production techniques...",value:f,onChange:k=>m(k.target.value),onKeyPress:I,className:"flex-1 text-sm bg-gray-700 border-gray-600 text-white placeholder-gray-400",disabled:d}),g.jsx(Pe,{onClick:_,disabled:!f.trim()||d,variant:"primary",size:"sm",className:"px-4",children:d?"...":"Send"})]}),g.jsx("div",{className:"text-xs text-gray-400 text-center",children:"Press Enter to send • Clear resets conversation"})]})]})})})},Ex=[{frequency:"20-30 Hz",category:"sub",min:20,max:30,description:"Extreme sub-bass rumble. Rarely useful except for cinematic or sub-heavy genres.",action:"cut",instruments:["Kick drum","Sub bass","808s","Synth bass"]},{frequency:"30-50 Hz",category:"sub",min:30,max:50,description:"Deep low-end power. Adds weight, but too much = flabbiness.",action:"boost",instruments:["Kick drum","Sub bass","Bass guitar","808s"]},{frequency:"50-60 Hz",category:"sub",min:50,max:60,description:'Bass punch and fullness. Defines the "bottom" of mix.',action:"boost",instruments:["Kick drum","Bass guitar","Sub bass","Synths"]},{frequency:"60-100 Hz",category:"bass",min:60,max:100,description:"Bass body and tone. Core of bass instruments. Too much = boom.",action:"boost",instruments:["Bass guitar","Kick drum","Synth bass","Cello"]},{frequency:"100-160 Hz",category:"bass",min:100,max:160,description:"Low warmth. Helps glue bass + low mids. Overdone = muddiness.",action:"cut",instruments:["Bass guitar","Piano","Guitar","Vocals","Drums"]},{frequency:"160-250 Hz",category:"bass",min:160,max:250,description:"Upper bass/low mid overlap. Often cut to clean mud.",action:"cut",instruments:["Bass guitar","Vocals","Strings","Brass"]},{frequency:"250-350 Hz",category:"low-mid",min:250,max:350,description:"Boxiness / wool. Can cloud guitars & vocals.",action:"cut",instruments:["Vocals","Guitar","Piano","Snare"]},{frequency:"350-500 Hz",category:"low-mid",min:350,max:500,description:"Warmth vs. mud. Boost for body, cut for clarity.",action:"cut",instruments:["Vocals","Snare","Guitar","Keys"]},{frequency:"500-800 Hz",category:"mid",min:500,max:800,description:"Core midrange — thickness and presence. Often cluttered.",action:"cut",instruments:["Vocals","Guitar","Snare","Keys"]},{frequency:"800 Hz - 1.5 kHz",category:"mid",min:800,max:1500,description:"Body and clarity. Essential for definition.",action:"boost",instruments:["Vocals","Guitar","Piano","Snare"]},{frequency:"1.5-2 kHz",category:"mid",min:1500,max:2e3,description:"Presence and attack. Boost for definition.",action:"boost",instruments:["Vocals","Snare","Guitar"]},{frequency:"2-3 kHz",category:"high-mid",min:2e3,max:3e3,description:"Vocal clarity and edge. Boost carefully.",action:"boost",instruments:["Vocals","Snare","Guitar","Piano"]},{frequency:"3-5 kHz",category:"high-mid",min:3e3,max:5e3,description:"Presence, bite, intelligibility. Too much = harsh.",action:"cut",instruments:["Vocals","Snare","Cymbals"]},{frequency:"5-8 kHz",category:"presence",min:5e3,max:8e3,description:"Detail and sparkle. Brings life, but sibilant if overdone.",action:"boost",instruments:["Vocals","Hi-hats","Acoustic guitar","Cymbals"]},{frequency:"8-12 kHz",category:"air",min:8e3,max:12e3,description:"Air and openness. Adds space.",action:"boost",instruments:["Vocals","Strings","Cymbals","Room mics"]},{frequency:"12-20 kHz",category:"air",min:12e3,max:2e4,description:"Extreme highs. Use for shimmer.",action:"boost",instruments:["Cymbals","Room mics","Vocals"]},{frequency:"80-200 Hz",category:"bass",min:80,max:200,description:"Cut gently to reduce muddiness and low-end buildup.",action:"cut",instruments:["Male vocals"]},{frequency:"200-400 Hz",category:"low-mid",min:200,max:400,description:"Boost lightly for body, cut if vocals sound boxy.",action:"boost",instruments:["Male vocals"]},{frequency:"1-2 kHz",category:"mid",min:1e3,max:2e3,description:"Boost for presence and clarity, helping vocals cut through the mix.",action:"boost",instruments:["Male vocals"]},{frequency:"4-6 kHz",category:"high-mid",min:4e3,max:6e3,description:"Boost for air and articulation, but watch out for harshness.",action:"boost",instruments:["Male vocals"]},{frequency:"100-250 Hz",category:"bass",min:100,max:250,description:"Cut to reduce any muddiness. Female vocals rarely need low-end boosting.",action:"cut",instruments:["Female vocals"]},{frequency:"400-800 Hz",category:"mid",min:400,max:800,description:"Boost for warmth and body, but cut if vocals sound “boxy”.",action:"boost",instruments:["Female vocals"]},{frequency:"2-4 kHz",category:"high-mid",min:2e3,max:4e3,description:"Boost for presence, articulation, and “forward” vocals.",action:"boost",instruments:["Female vocals"]},{frequency:"7-10 kHz",category:"presence",min:7e3,max:1e4,description:"Boost for air and breathiness, cut if sibilant (“ess” sounds).",action:"boost",instruments:["Female vocals"]},{frequency:"7-10 kHz",category:"presence",min:7e3,max:1e4,description:"Cut to control sibilance if vocals are too “essy”.",action:"cut",instruments:["Female vocals"]},{frequency:"200-400 Hz",category:"low-mid",min:200,max:400,description:"Boost for warmth, fullness.",action:"boost",instruments:["Saxophone"]},{frequency:"1-2 kHz",category:"mid",min:1e3,max:2e3,description:"Boost for body and presence.",action:"boost",instruments:["Saxophone"]},{frequency:"3-5 kHz",category:"high-mid",min:3e3,max:5e3,description:"Cut to tame harshness or reed noise.",action:"cut",instruments:["Saxophone"]},{frequency:"8-12 kHz",category:"air",min:8e3,max:12e3,description:"Boost for air and shine.",action:"boost",instruments:["Saxophone"]}],Ax=[{id:"all",label:"All Frequencies",color:"bg-gray-600"},{id:"sub",label:"Sub Bass (20-60Hz)",color:"bg-red-600"},{id:"bass",label:"Bass (60-250Hz)",color:"bg-orange-600"},{id:"low-mid",label:"Low Mids (250-500Hz)",color:"bg-yellow-600"},{id:"mid",label:"Mids (500-2kHz)",color:"bg-green-600"},{id:"high-mid",label:"High Mids (2-6kHz)",color:"bg-blue-600"},{id:"presence",label:"Presence (6-12kHz)",color:"bg-indigo-600"},{id:"air",label:"Air (12kHz+)",color:"bg-purple-600"}];function NI({min:e,max:t}){const n=100*(Math.log10(e)-Math.log10(20))/(Math.log10(2e4)-Math.log10(20)),r=100*(Math.log10(t)-Math.log10(20))/(Math.log10(2e4)-Math.log10(20));return g.jsx("div",{className:"relative h-2 w-full bg-gray-900 rounded-full my-2",children:g.jsx("div",{className:"absolute h-2 rounded-full bg-orange-500 transition-all",style:{left:`${n}%`,width:`${Math.max(r-n,3)}%`}})})}const _I=()=>{const[e,t]=ne.useState("All"),[n,r]=ne.useState("all"),o=Ex.filter(u=>{const f=n==="all"||u.category===n,m=e==="All"||u.instruments.includes(e);return f&&(e==="All"?!0:m)}),l=u=>Ex.filter(f=>f.frequency===u.frequency&&f.category===u.category&&f.action===u.action).flatMap(f=>f.instruments).filter((f,m,d)=>d.indexOf(f)===m);return g.jsxs("div",{className:"max-w-4xl mx-auto w-full py-8 px-4 md:px-0",children:[g.jsxs("div",{className:"flex flex-wrap gap-6 mb-6 items-end",children:[g.jsxs("div",{className:"flex-1 min-w-[180px]",children:[g.jsx("label",{className:"block text-xs font-bold text-gray-400 mb-1",children:"Instrument"}),g.jsxs("select",{value:e,onChange:u=>t(u.target.value),className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-md text-gray-100",children:[g.jsx("option",{disabled:!0,children:"Vocals"}),g.jsx("option",{value:"Vocals",children:"Vocals (general)"}),g.jsx("option",{value:"Male vocals",children:"Male vocals"}),g.jsx("option",{value:"Female vocals",children:"Female vocals"}),g.jsx("option",{disabled:!0,children:"Rhythm Section"}),g.jsx("option",{value:"Kick drum",children:"Kick drum"}),g.jsx("option",{value:"Snare",children:"Snare"}),g.jsx("option",{value:"Bass guitar",children:"Bass guitar"}),g.jsx("option",{value:"808s",children:"808s"}),g.jsx("option",{value:"Sub bass",children:"Sub bass"}),g.jsx("option",{value:"Synth bass",children:"Synth bass"}),g.jsx("option",{value:"Drums",children:"Drums"}),g.jsx("option",{disabled:!0,children:"Other Instruments"}),g.jsx("option",{value:"Guitar",children:"Guitar"}),g.jsx("option",{value:"Acoustic guitar",children:"Acoustic guitar"}),g.jsx("option",{value:"Piano",children:"Piano"}),g.jsx("option",{value:"Cymbals",children:"Cymbals"}),g.jsx("option",{value:"Hi-hats",children:"Hi-hats"}),g.jsx("option",{value:"Horns",children:"Horns"}),g.jsx("option",{value:"Strings",children:"Strings"}),g.jsx("option",{value:"Room mics",children:"Room mics"}),g.jsx("option",{value:"Violin",children:"Violin"}),g.jsx("option",{value:"Cello",children:"Cello"}),g.jsx("option",{value:"Tuba",children:"Tuba"}),g.jsx("option",{value:"Saxophone",children:"Saxophone"}),g.jsx("option",{value:"Trumpet",children:"Trumpet"}),g.jsx("option",{value:"Brass",children:"Brass"}),g.jsx("option",{value:"Woodwinds",children:"Woodwinds"}),g.jsx("option",{value:"Flute",children:"Flute"}),g.jsx("option",{disabled:!0,children:"All/General"}),g.jsx("option",{value:"All",children:"All Instruments"})]})]}),g.jsxs("div",{className:"flex-1 min-w-[180px]",children:[g.jsx("label",{className:"block text-xs font-bold text-gray-400 mb-1",children:"Frequency Range"}),g.jsx("select",{value:n,onChange:u=>r(u.target.value),className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-md text-gray-100",children:Ax.map(u=>g.jsx("option",{value:u.id,children:u.label},u.id))})]})]}),g.jsx("div",{className:"space-y-4",children:o.length===0?g.jsx(qe,{className:"bg-gray-700/80 text-center py-16",children:g.jsxs("p",{className:"text-gray-300 text-lg",children:["No EQ data matches your current filters.",g.jsx("br",{}),"Try another instrument or frequency zone."]})}):o.map((u,f)=>{var m;return g.jsx(qe,{className:"bg-gray-800/80",children:g.jsxs("div",{className:"flex flex-col gap-2",children:[g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx("span",{className:"text-lg font-bold text-white",children:u.frequency}),g.jsx("span",{className:`text-xs font-bold rounded-full px-2 py-1 ${((m=Ax.find(d=>d.id===u.category))==null?void 0:m.color)||"bg-gray-600"} text-white`,children:u.category.replace("-"," ").toUpperCase()}),g.jsx("span",{className:`ml-2 text-sm font-medium ${u.action==="boost"?"text-green-400":u.action==="cut"?"text-red-400":"text-yellow-400"}`,children:u.action==="boost"?"↑ BOOST":u.action==="cut"?"↓ CUT":"NOTCH"})]}),g.jsx(NI,{min:u.min,max:u.max}),g.jsx("p",{className:"text-gray-300",children:u.description}),g.jsxs("div",{className:"flex flex-wrap gap-1 items-center",children:[g.jsx("span",{className:"text-xs font-bold text-gray-400 mr-1",children:"Applies to:"}),l(u).map(d=>g.jsx("span",{className:"bg-gray-700 text-orange-200 rounded px-2 py-1 text-xs font-medium",children:d},d))]})]})},f)})}),g.jsx("div",{className:"text-xs text-gray-500 mt-8 text-center px-2",children:"Tip: These are general guidelines—trust your ears and reference pro mixes for your genre."})]})},LI=({className:e="w-6 h-6"})=>g.jsx("div",{className:`${e} bg-orange-500 transform rotate-45 flex items-center justify-center`,children:g.jsx("div",{className:"w-1/2 h-1/2 bg-white transform -rotate-45"})}),VI=({onGetStarted:e})=>g.jsxs("div",{className:"min-h-screen bg-[#2B2B2B] relative overflow-hidden scroll-smooth",children:[g.jsx("div",{className:"absolute inset-0 opacity-40",children:g.jsx("div",{className:"absolute inset-0",style:{backgroundImage:"radial-gradient(circle at 2px 2px, #FF5722 1px, transparent 0)",backgroundSize:"30px 30px"}})}),g.jsx("nav",{className:"relative z-10 px-6 py-6",children:g.jsxs("div",{className:"max-w-7xl mx-auto flex items-center justify-between",children:[g.jsxs("div",{className:"flex items-center space-x-3",children:[g.jsx("div",{className:"w-8 h-8 bg-orange-500 transform rotate-45 flex items-center justify-center",children:g.jsx("div",{className:"w-4 h-4 bg-white transform -rotate-45"})}),g.jsxs("div",{children:[g.jsx("div",{className:"text-xl font-bold text-white",children:"TrackGuide AI"}),g.jsx("div",{className:"text-xs text-gray-400",children:"Your Smartest Studio Assistant"})]})]}),g.jsxs("div",{className:"hidden md:flex items-center space-x-8",children:[g.jsx("a",{href:"#how-it-works",className:"text-gray-300 hover:text-orange-400 font-medium transition-colors",children:"How It Works"}),g.jsx("a",{href:"#problems-we-solve",className:"text-gray-300 hover:text-orange-400 font-medium transition-colors",children:"Problems We Solve"}),g.jsx("a",{href:"#investment-levels",className:"text-gray-300 hover:text-orange-400 font-medium transition-colors",children:"Investment Levels"})]}),g.jsxs("button",{onClick:e,className:"bg-orange-500 hover:bg-orange-600 text-white px-6 py-3 rounded-lg font-semibold transition-all transform hover:scale-105 shadow-lg flex items-center space-x-3 border border-white/10",children:[g.jsxs("div",{className:"relative",children:[g.jsx("div",{className:"absolute inset-0 rounded-full bg-white/20 blur-sm"}),g.jsx("div",{className:"relative w-6 h-6 bg-orange-500 transform rotate-45 flex items-center justify-center",children:g.jsx("div",{className:"w-3 h-3 bg-white transform -rotate-45"})})]}),g.jsx("span",{children:"Get Started"})]})]})}),g.jsx("section",{className:"relative px-6 py-16",children:g.jsx("div",{className:"max-w-7xl mx-auto",children:g.jsx("div",{className:"grid lg:grid-cols-2 gap-12 items-center",children:g.jsxs("div",{className:"space-y-8",children:[g.jsxs("h1",{className:"text-6xl md:text-7xl lg:text-8xl font-bold text-white leading-tight",children:[g.jsx("span",{className:"text-orange-500",children:"AI Studio Assistant:"}),g.jsx("span",{className:"block text-white mt-2 text-4xl md:text-5xl lg:text-6xl",children:"A Complement to Creativity,"}),g.jsx("span",{className:"block text-white mt-2 text-4xl md:text-5xl lg:text-6xl",children:"Not a Substitute."})]}),g.jsxs("p",{className:"text-xl text-gray-300 max-w-2xl leading-relaxed",children:["Empowering modern producers with ",g.jsx("span",{className:"text-orange-500 font-semibold",children:"structure"}),", ",g.jsx("span",{className:"text-orange-500 font-semibold",children:"speed"}),", and ",g.jsx("span",{className:"text-orange-500 font-semibold",children:"support"})," in their creative workflow."]}),g.jsx("div",{className:"flex flex-col sm:flex-row gap-6 mt-8 lg:justify-start",children:g.jsxs("button",{onClick:e,className:"bg-orange-500 hover:bg-orange-600 text-white px-12 py-5 rounded-xl font-bold text-xl transition-all transform hover:scale-105 flex items-center justify-center space-x-4 shadow-2xl border-2 border-white/20",children:[g.jsxs("div",{className:"relative",children:[g.jsx("div",{className:"absolute inset-0 rounded-full bg-white/20 blur-sm"}),g.jsx(LI,{className:"h-8 w-8 relative z-10"})]}),g.jsx("span",{children:"Start Creating Now"})]})})]})})})}),g.jsx("section",{id:"how-it-works",className:"relative px-6 py-20",children:g.jsxs("div",{className:"max-w-7xl mx-auto",children:[g.jsxs("div",{className:"text-center mb-16",children:[g.jsx("h2",{className:"text-4xl md:text-5xl font-bold text-white mb-6",children:"How TrackGuide Works"}),g.jsx("p",{className:"text-xl text-gray-300 max-w-3xl mx-auto",children:"From concept to creation in three simple steps"})]}),g.jsxs("div",{className:"grid md:grid-cols-3 gap-8",children:[g.jsxs("div",{className:"text-center space-y-6",children:[g.jsx("div",{className:"w-20 h-20 bg-orange-500 rounded-full flex items-center justify-center mx-auto",children:g.jsx("span",{className:"text-2xl font-bold text-white",children:"1"})}),g.jsx("h3",{className:"text-2xl font-bold text-white",children:"Describe Your Vision"}),g.jsx("p",{className:"text-gray-300",children:"Define your genre, vibe, creative goals — and your available plugins & DAW. Our AI understands your intent."})]}),g.jsxs("div",{className:"text-center space-y-6",children:[g.jsx("div",{className:"w-20 h-20 bg-orange-500 rounded-full flex items-center justify-center mx-auto",children:g.jsx("span",{className:"text-2xl font-bold text-white",children:"2"})}),g.jsx("h3",{className:"text-2xl font-bold text-white",children:"Get Your Guide & Tools"}),g.jsx("p",{className:"text-gray-300",children:"Generate a TrackGuide Blueprint, MIDI patterns, and AI recommendations — including plugin parameter suggestions."})]}),g.jsxs("div",{className:"text-center space-y-6",children:[g.jsx("div",{className:"w-20 h-20 bg-orange-500 rounded-full flex items-center justify-center mx-auto",children:g.jsx("span",{className:"text-2xl font-bold text-white",children:"3"})}),g.jsx("h3",{className:"text-2xl font-bold text-white",children:"Iterate & Refine"}),g.jsx("p",{className:"text-gray-300",children:"Upload mixes for feedback, compare revisions, and update your production with AI-assisted insights."})]})]})]})}),g.jsx("section",{className:"relative px-6 py-20 bg-black/10",children:g.jsxs("div",{className:"max-w-7xl mx-auto",children:[g.jsxs("div",{className:"text-center mb-16",children:[g.jsx("h2",{className:"text-4xl md:text-5xl font-bold text-white mb-6",children:"Complete Production Toolkit"}),g.jsx("p",{className:"text-xl text-gray-300 max-w-3xl mx-auto",children:"Everything you need — from first idea to final mix"})]}),g.jsxs("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-8",children:[g.jsxs("div",{className:"bg-gray-800/50 rounded-xl p-6 border border-orange-500/20 hover:border-orange-500/40 transition-all",children:[g.jsx("div",{className:"w-12 h-12 bg-orange-500 rounded-lg flex items-center justify-center mb-4",children:g.jsx("span",{className:"text-white font-bold",children:"AI"})}),g.jsx("h3",{className:"text-xl font-bold text-white mb-3",children:"TrackGuide AI"}),g.jsx("p",{className:"text-gray-300",children:"Generate detailed TrackGuide blueprints — structure, instrumentation, plugin parameters, and mix guidance tailored to your tools."})]}),g.jsxs("div",{className:"bg-gray-800/50 rounded-xl p-6 border border-orange-500/20 hover:border-orange-500/40 transition-all",children:[g.jsx("div",{className:"w-12 h-12 bg-orange-500 rounded-lg flex items-center justify-center mb-4",children:g.jsx("span",{className:"text-white font-bold",children:"♪"})}),g.jsx("h3",{className:"text-xl font-bold text-white mb-3",children:"Integrated MIDI Generator"}),g.jsx("p",{className:"text-gray-300",children:"Auto-generate melodic, harmonic, bass, and drum MIDI patterns — matched to your genre and style — exportable to your DAW."})]}),g.jsxs("div",{className:"bg-gray-800/50 rounded-xl p-6 border border-orange-500/20 hover:border-orange-500/40 transition-all",children:[g.jsx("div",{className:"w-12 h-12 bg-orange-500 rounded-lg flex items-center justify-center mb-4",children:g.jsx("span",{className:"text-white font-bold",children:"🎛️"})}),g.jsx("h3",{className:"text-xl font-bold text-white mb-3",children:"RemixGuide AI"}),g.jsx("p",{className:"text-gray-300",children:"Upload any track and generate an intelligent remix plan — new structure, sound design tips, and remix-ready MIDI."})]}),g.jsxs("div",{className:"bg-gray-800/50 rounded-xl p-6 border border-orange-500/20 hover:border-orange-500/40 transition-all",children:[g.jsx("div",{className:"w-12 h-12 bg-orange-500 rounded-lg flex items-center justify-center mb-4",children:g.jsx("span",{className:"text-white font-bold",children:"🔬"})}),g.jsx("h3",{className:"text-xl font-bold text-white mb-3",children:"PatchGuide AI"}),g.jsx("p",{className:"text-gray-300",children:"Instantly generate detailed synth patch recipes for any genre, mood, or instrument. Select your synth, describe your sound, and get step-by-step settings, modulation, and creative tips — tailored to your hardware or software."})]}),g.jsxs("div",{className:"bg-gray-800/50 rounded-xl p-6 border border-orange-500/20 hover:border-orange-500/40 transition-all",children:[g.jsx("div",{className:"w-12 h-12 bg-orange-500 rounded-lg flex items-center justify-center mb-4",children:g.jsx("span",{className:"text-white font-bold",children:"🎚⚖"})}),g.jsx("h3",{className:"text-xl font-bold text-white mb-3",children:"Mix Feedback"}),g.jsx("p",{className:"text-gray-300",children:"Upload your mix (or two versions) for instant, actionable feedback. AI analyzes your audio, highlights strengths and weaknesses, and suggests improvements — helping you refine your sound with every revision."})]}),g.jsxs("div",{className:"bg-gray-800/50 rounded-xl p-6 border border-orange-500/20 hover:border-orange-500/40 transition-all",children:[g.jsx("div",{className:"w-12 h-12 bg-orange-500 rounded-lg flex items-center justify-center mb-4",children:g.jsx("span",{className:"text-white font-bold",children:"📊"})}),g.jsx("h3",{className:"text-xl font-bold text-white mb-3",children:"EQ Guide"}),g.jsx("p",{className:"text-gray-300",children:"Quick-reference EQ guide: instrument-by-instrument — learn how to shape sound and resolve common mix problems."})]})]})]})}),g.jsx("section",{className:"relative px-6 py-20 bg-black/20",children:g.jsxs("div",{className:"max-w-7xl mx-auto text-center",children:[g.jsx("h2",{className:"text-4xl md:text-5xl font-bold text-white mb-6",children:"Ready to Transform Your Music Production?"}),g.jsx("p",{className:"text-xl text-gray-300 mb-12 max-w-2xl mx-auto",children:"TrackGuide helps producers of all skill levels — from bedroom creators to pros — finish more tracks, faster."}),g.jsxs("div",{className:"bg-gray-800/50 rounded-2xl p-8 max-w-md mx-auto border border-orange-500/20",children:[g.jsx("h3",{className:"text-2xl font-bold text-white mb-4",children:"Free to Start"}),g.jsx("p",{className:"text-gray-300 mb-6",children:"Get started with TrackGuide AI for free. Upgrade when you're ready to unlock unlimited generations and advanced tools."}),g.jsx("button",{onClick:e,className:"w-full bg-orange-500 hover:bg-orange-600 text-white px-8 py-4 rounded-lg font-bold text-lg transition-all transform hover:scale-105 shadow-xl",children:"Start Creating Free"}),g.jsx("p",{className:"text-gray-500 text-sm mt-4",children:"No credit card required"})]})]})}),g.jsx("section",{className:"px-6 py-16 bg-black/20",children:g.jsxs("div",{className:"max-w-7xl mx-auto text-center",children:[g.jsx("div",{className:"w-32 h-1 bg-orange-500 mx-auto mb-8"}),g.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-white mb-4",children:"The Investment Opportunity"}),g.jsx("p",{className:"text-xl text-gray-300",children:"Helping producers finish better music, faster — in a $43B market."})]})}),g.jsx("section",{id:"problems-we-solve",className:"relative px-6 py-20 bg-black/20",children:g.jsx("div",{className:"max-w-7xl mx-auto",children:g.jsxs("div",{className:"grid lg:grid-cols-2 gap-12 items-center",children:[g.jsxs("div",{className:"space-y-8",children:[g.jsxs("h2",{className:"text-4xl md:text-5xl font-bold text-white leading-tight",children:["Too Many Tools:",g.jsx("span",{className:"block text-orange-500",children:"Not Enough Direction"})]}),g.jsx("p",{className:"text-xl text-gray-300 leading-relaxed",children:"As AI floods the market and tools fragment, producers lack clarity. TrackGuide is building the “smartest studio assistant” — keeping the human in the loop."}),g.jsxs("div",{className:"grid gap-6",children:[g.jsx("div",{className:"border-l-4 border-orange-500 pl-6",children:g.jsxs("p",{className:"text-gray-300",children:[g.jsx("strong",{children:"Without clear structure,"})," inspiration stalls — many creators fail to finish tracks."]})}),g.jsx("div",{className:"border-l-4 border-orange-500 pl-6",children:g.jsxs("p",{className:"text-gray-300",children:[g.jsx("strong",{children:"Clickbait content lacks depth —"})," TrackGuide teaches transferable skills while speeding workflows."]})}),g.jsx("div",{className:"border-l-4 border-orange-500 pl-6",children:g.jsxs("p",{className:"text-gray-300",children:[g.jsx("strong",{children:"AI hype distracts —"})," we focus on complementing creativity, not replacing it."]})})]})]}),g.jsxs("div",{className:"relative h-96",children:[g.jsxs("div",{className:"absolute top-0 right-0 w-48 h-48",children:[g.jsx("div",{className:"w-full h-full border-2 border-orange-500 transform rotate-45"}),g.jsx("div",{className:"absolute top-4 right-4 w-40 h-40 bg-orange-500 transform rotate-45"})]}),g.jsxs("div",{className:"absolute bottom-0 left-0 w-32 h-32",children:[g.jsx("div",{className:"w-full h-full border-2 border-orange-500"}),g.jsx("div",{className:"absolute top-2 left-2 w-28 h-28 bg-orange-500"})]})]})]})})}),g.jsx("section",{id:"ai-challenge",className:"px-6 py-20 bg-black",children:g.jsxs("div",{className:"max-w-7xl mx-auto grid lg:grid-cols-2 gap-12 items-center",children:[g.jsx("div",{className:"relative h-80 hidden lg:block",children:g.jsxs("div",{className:"absolute top-0 left-0 w-40 h-40",children:[g.jsx("div",{className:"w-full h-full border-2 border-orange-500 transform rotate-45"}),g.jsx("div",{className:"absolute top-4 left-4 w-32 h-32 bg-orange-500 transform rotate-45"})]})}),g.jsxs("div",{className:"space-y-8",children:[g.jsxs("h2",{className:"text-5xl font-bold text-white leading-tight",children:["Navigating the ",g.jsx("span",{className:"text-orange-500 block",children:"AI Challenge"})]}),g.jsx("p",{className:"text-xl text-gray-300 leading-relaxed",children:"A human-first approach — empowering the artist, respecting the craft."}),g.jsxs("div",{className:"grid gap-6",children:[g.jsxs("div",{className:"border-l-4 border-orange-500 pl-6",children:[g.jsx("h3",{className:"text-lg font-bold text-white mb-2",children:"Avoiding “One-Click” fatigue"}),g.jsx("p",{className:"text-gray-400",children:"Our AI augments the creative process, not bypasses it — musicians stay in control."})]}),g.jsxs("div",{className:"border-l-4 border-orange-500 pl-6",children:[g.jsx("h3",{className:"text-lg font-bold text-white mb-2",children:"Forward-facing, not retro"}),g.jsx("p",{className:"text-gray-400",children:"Avoids regurgitating “old hit” formulas — helps creators define new sounds."})]}),g.jsxs("div",{className:"border-l-4 border-orange-500 pl-6",children:[g.jsx("h3",{className:"text-lg font-bold text-white mb-2",children:"Clear IP & ethical AI"}),g.jsx("p",{className:"text-gray-400",children:"Built with transparent usage — your creativity stays yours."})]})]})]})]})}),g.jsx("section",{className:"relative px-6 py-20 bg-black/20",children:g.jsxs("div",{className:"max-w-5xl mx-auto",children:[g.jsxs("h2",{className:"text-4xl md:text-5xl font-bold text-white mb-6",children:["Scalable ",g.jsx("span",{className:"text-orange-500",children:"Business Model"})]}),g.jsx("p",{className:"text-xl text-gray-300 mb-12 max-w-2xl mx-auto",children:"Modular SaaS for creators, pros, educators, and studios."}),g.jsxs("div",{className:"grid md:grid-cols-3 gap-8",children:[g.jsxs("div",{className:"bg-gray-800/30 rounded-lg p-8 border border-orange-500/10 space-y-2",children:[g.jsx("h3",{className:"text-2xl font-bold text-white",children:"SaaS Subscriptions"}),g.jsx("p",{className:"text-gray-300",children:"Premium AI tools, pro workflows, unlimited usage — high-margin recurring revenue."}),g.jsx("div",{className:"text-orange-500 font-semibold text-lg",children:"85% Gross Margin"})]}),g.jsxs("div",{className:"bg-gray-800/30 rounded-lg p-8 border border-orange-500/10 space-y-2",children:[g.jsx("h3",{className:"text-2xl font-bold text-white",children:"Community Marketplace"}),g.jsx("p",{className:"text-gray-300",children:"Revenue from user-generated templates, MIDI packs, remix packs, stems, and presets."}),g.jsx("div",{className:"text-orange-500 font-semibold text-lg",children:"30% Commission"})]}),g.jsxs("div",{className:"bg-gray-800/30 rounded-lg p-8 border border-orange-500/10 space-y-2",children:[g.jsx("h3",{className:"text-2xl font-bold text-white",children:"Enterprise / Education Licensing"}),g.jsx("p",{className:"text-gray-300",children:"Annual contracts for labels, studios, and music education institutions."}),g.jsx("div",{className:"text-orange-500 font-semibold text-lg",children:"$50K+ ARR"})]})]})]})}),g.jsx("section",{id:"investment-levels",className:"px-6 py-20 bg-black",children:g.jsxs("div",{className:"max-w-5xl mx-auto",children:[g.jsxs("div",{className:"text-center mb-12",children:[g.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-white mb-6",children:"Investment Levels"}),g.jsx("p",{className:"text-lg text-gray-300 max-w-2xl mx-auto",children:"We’re raising capital to scale TrackGuide AI — deepen core features, grow early users, and prepare for market launch."}),g.jsx("p",{className:"text-md text-gray-400 mt-4 max-w-xl mx-auto",children:"All investments are via SAFE notes with valuation cap. Larger tiers include additional benefits and advisory access."})]}),g.jsxs("div",{className:"grid md:grid-cols-4 gap-6",children:[g.jsxs("div",{className:"bg-black/80 rounded-lg p-6 border border-orange-500/30 shadow-md flex flex-col justify-between",children:[g.jsxs("div",{children:[g.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"Seed Loop"}),g.jsx("p",{className:"text-gray-300 text-sm mb-2",children:"$10K–$25K"}),g.jsx("p",{className:"text-gray-400 text-sm mb-4",children:"AI refinement, UX polish, early traction testing."})]}),g.jsx("p",{className:"text-orange-400 text-sm mt-4",children:"Return: SAFE @ $5M cap + quarterly updates"})]}),g.jsxs("div",{className:"bg-black/80 rounded-lg p-6 border border-orange-500/30 shadow-md flex flex-col justify-between",children:[g.jsxs("div",{children:[g.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"Creator Tier"}),g.jsx("p",{className:"text-gray-300 text-sm mb-2",children:"$25K–$50K"}),g.jsx("p",{className:"text-gray-400 text-sm mb-4",children:"Monetization rollout, user acquisition, affiliate & referral systems."})]}),g.jsx("p",{className:"text-orange-400 text-sm mt-4",children:"Return: SAFE + 1% revenue share pilot + early feature access"})]}),g.jsxs("div",{className:"bg-black/80 rounded-lg p-6 border border-orange-500/30 shadow-md flex flex-col justify-between",children:[g.jsxs("div",{children:[g.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"Full Stack"}),g.jsx("p",{className:"text-gray-300 text-sm mb-2",children:"$50K–$75K"}),g.jsx("p",{className:"text-gray-400 text-sm mb-4",children:"Strategic hires (PMM / full-stack dev), expanded GTM partnerships."})]}),g.jsx("p",{className:"text-orange-400 text-sm mt-4",children:"Return: SAFE + advisory board seat + product roadmap input"})]}),g.jsxs("div",{className:"bg-black/80 rounded-lg p-6 border border-orange-500/30 shadow-md flex flex-col justify-between",children:[g.jsxs("div",{children:[g.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"Vision Tier"}),g.jsx("p",{className:"text-gray-300 text-sm mb-2",children:"$150K+"}),g.jsx("p",{className:"text-gray-400 text-sm mb-4",children:"Full-scale AI model tuning, GTM campaign, international expansion."})]}),g.jsx("p",{className:"text-orange-400 text-sm mt-4",children:"Return: Discounted SAFE cap + 2% revenue share + strategic board seat"})]})]}),g.jsx("div",{className:"text-center mt-12",children:g.jsx("a",{href:"mailto:dustinspaceproductions@gmail.com?subject=Investment Inquiry - TrackGuide AI",className:"bg-orange-500 hover:bg-orange-600 text-white px-8 py-4 rounded-lg font-bold text-lg transition-all transform hover:scale-105 inline-flex items-center space-x-2 shadow-xl",children:g.jsx("span",{children:"Contact for Full Investor Deck"})})})]})}),g.jsx("section",{className:"px-6 py-20 bg-black/30",children:g.jsxs("div",{className:"max-w-4xl mx-auto text-center",children:[g.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-white mb-6",children:"Interested in Investing?"}),g.jsx("p",{className:"text-xl text-gray-300 mb-8 max-w-2xl mx-auto",children:"Revolutionizing music production with human-first AI. Join us."}),g.jsx("a",{href:"mailto:dustinspaceproductions@gmail.com?subject=Investment Inquiry - TrackGuide AI",className:"bg-orange-500 hover:bg-orange-600 text-white px-8 py-3 rounded-lg font-bold text-lg transition-all transform hover:scale-105 inline-flex items-center space-x-2 shadow-xl",children:g.jsx("span",{children:"Contact for Investment Opportunities"})})]})}),g.jsx("footer",{className:"px-6 py-12 border-t border-orange-500/20 bg-black/20",children:g.jsx("div",{className:"max-w-7xl mx-auto",children:g.jsxs("div",{className:"flex flex-col md:flex-row items-center justify-between",children:[g.jsxs("div",{className:"flex items-center space-x-3 mb-4 md:mb-0",children:[g.jsx("div",{className:"w-6 h-6 bg-orange-500 transform rotate-45 flex items-center justify-center",children:g.jsx("div",{className:"w-3 h-3 bg-white transform -rotate-45"})}),g.jsxs("div",{children:[g.jsx("div",{className:"text-lg font-bold text-white",children:"TrackGuide AI"}),g.jsx("div",{className:"text-xs text-gray-400",children:"AI Studio Assistant for Music Creators"})]})]}),g.jsxs("div",{className:"text-gray-400 text-center md:text-right text-sm space-y-1",children:[g.jsx("p",{children:"© 2025 TrackGuide. Empowering music creators worldwide."}),g.jsxs("p",{children:[g.jsx("a",{href:"#",className:"hover:text-orange-400 mr-4",children:"Privacy Policy"}),g.jsx("a",{href:"#",className:"hover:text-orange-400",children:"Terms of Service"})]})]})]})})})]});function PI(e,t){const n={};return(e[e.length-1]===""?[...e,""]:e).join((n.padRight?" ":"")+","+(n.padLeft===!1?"":" ")).trim()}const BI=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,OI=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,FI={};function Dx(e,t){return(FI.jsx?OI:BI).test(e)}const zI=/[ \t\n\f\r]/g;function jI(e){return typeof e=="object"?e.type==="text"?Ix(e.value):!1:Ix(e)}function Ix(e){return e.replace(zI,"")===""}class Cs{constructor(t,n,r){this.normal=n,this.property=t,r&&(this.space=r)}}Cs.prototype.normal={};Cs.prototype.property={};Cs.prototype.space=void 0;function ub(e,t){const n={},r={};for(const o of e)Object.assign(n,o.property),Object.assign(r,o.normal);return new Cs(n,r,t)}function Yd(e){return e.toLowerCase()}class sn{constructor(t,n){this.attribute=n,this.property=t}}sn.prototype.attribute="";sn.prototype.booleanish=!1;sn.prototype.boolean=!1;sn.prototype.commaOrSpaceSeparated=!1;sn.prototype.commaSeparated=!1;sn.prototype.defined=!1;sn.prototype.mustUseProperty=!1;sn.prototype.number=!1;sn.prototype.overloadedBoolean=!1;sn.prototype.property="";sn.prototype.spaceSeparated=!1;sn.prototype.space=void 0;let HI=0;const _e=Pr(),At=Pr(),$d=Pr(),me=Pr(),ot=Pr(),Na=Pr(),pn=Pr();function Pr(){return 2**++HI}const Kd=Object.freeze(Object.defineProperty({__proto__:null,boolean:_e,booleanish:At,commaOrSpaceSeparated:pn,commaSeparated:Na,number:me,overloadedBoolean:$d,spaceSeparated:ot},Symbol.toStringTag,{value:"Module"})),id=Object.keys(Kd);class Im extends sn{constructor(t,n,r,o){let l=-1;if(super(t,n),kx(this,"space",o),typeof r=="number")for(;++l<id.length;){const u=id[l];kx(this,id[l],(r&Kd[u])===Kd[u])}}}Im.prototype.defined=!0;function kx(e,t,n){n&&(e[t]=n)}function Ba(e){const t={},n={};for(const[r,o]of Object.entries(e.properties)){const l=new Im(r,e.transform(e.attributes||{},r),o,e.space);e.mustUseProperty&&e.mustUseProperty.includes(r)&&(l.mustUseProperty=!0),t[r]=l,n[Yd(r)]=r,n[Yd(l.attribute)]=r}return new Cs(t,n,e.space)}const cb=Ba({properties:{ariaActiveDescendant:null,ariaAtomic:At,ariaAutoComplete:null,ariaBusy:At,ariaChecked:At,ariaColCount:me,ariaColIndex:me,ariaColSpan:me,ariaControls:ot,ariaCurrent:null,ariaDescribedBy:ot,ariaDetails:null,ariaDisabled:At,ariaDropEffect:ot,ariaErrorMessage:null,ariaExpanded:At,ariaFlowTo:ot,ariaGrabbed:At,ariaHasPopup:null,ariaHidden:At,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:ot,ariaLevel:me,ariaLive:null,ariaModal:At,ariaMultiLine:At,ariaMultiSelectable:At,ariaOrientation:null,ariaOwns:ot,ariaPlaceholder:null,ariaPosInSet:me,ariaPressed:At,ariaReadOnly:At,ariaRelevant:null,ariaRequired:At,ariaRoleDescription:ot,ariaRowCount:me,ariaRowIndex:me,ariaRowSpan:me,ariaSelected:At,ariaSetSize:me,ariaSort:null,ariaValueMax:me,ariaValueMin:me,ariaValueNow:me,ariaValueText:null,role:null},transform(e,t){return t==="role"?t:"aria-"+t.slice(4).toLowerCase()}});function fb(e,t){return t in e?e[t]:t}function db(e,t){return fb(e,t.toLowerCase())}const UI=Ba({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:Na,acceptCharset:ot,accessKey:ot,action:null,allow:null,allowFullScreen:_e,allowPaymentRequest:_e,allowUserMedia:_e,alt:null,as:null,async:_e,autoCapitalize:null,autoComplete:ot,autoFocus:_e,autoPlay:_e,blocking:ot,capture:null,charSet:null,checked:_e,cite:null,className:ot,cols:me,colSpan:null,content:null,contentEditable:At,controls:_e,controlsList:ot,coords:me|Na,crossOrigin:null,data:null,dateTime:null,decoding:null,default:_e,defer:_e,dir:null,dirName:null,disabled:_e,download:$d,draggable:At,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:_e,formTarget:null,headers:ot,height:me,hidden:$d,high:me,href:null,hrefLang:null,htmlFor:ot,httpEquiv:ot,id:null,imageSizes:null,imageSrcSet:null,inert:_e,inputMode:null,integrity:null,is:null,isMap:_e,itemId:null,itemProp:ot,itemRef:ot,itemScope:_e,itemType:ot,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:_e,low:me,manifest:null,max:null,maxLength:me,media:null,method:null,min:null,minLength:me,multiple:_e,muted:_e,name:null,nonce:null,noModule:_e,noValidate:_e,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:_e,optimum:me,pattern:null,ping:ot,placeholder:null,playsInline:_e,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:_e,referrerPolicy:null,rel:ot,required:_e,reversed:_e,rows:me,rowSpan:me,sandbox:ot,scope:null,scoped:_e,seamless:_e,selected:_e,shadowRootClonable:_e,shadowRootDelegatesFocus:_e,shadowRootMode:null,shape:null,size:me,sizes:null,slot:null,span:me,spellCheck:At,src:null,srcDoc:null,srcLang:null,srcSet:null,start:me,step:null,style:null,tabIndex:me,target:null,title:null,translate:null,type:null,typeMustMatch:_e,useMap:null,value:At,width:me,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:ot,axis:null,background:null,bgColor:null,border:me,borderColor:null,bottomMargin:me,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:_e,declare:_e,event:null,face:null,frame:null,frameBorder:null,hSpace:me,leftMargin:me,link:null,longDesc:null,lowSrc:null,marginHeight:me,marginWidth:me,noResize:_e,noHref:_e,noShade:_e,noWrap:_e,object:null,profile:null,prompt:null,rev:null,rightMargin:me,rules:null,scheme:null,scrolling:At,standby:null,summary:null,text:null,topMargin:me,valueType:null,version:null,vAlign:null,vLink:null,vSpace:me,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:_e,disableRemotePlayback:_e,prefix:null,property:null,results:me,security:null,unselectable:null},space:"html",transform:db}),GI=Ba({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:pn,accentHeight:me,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:me,amplitude:me,arabicForm:null,ascent:me,attributeName:null,attributeType:null,azimuth:me,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:me,by:null,calcMode:null,capHeight:me,className:ot,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:me,diffuseConstant:me,direction:null,display:null,dur:null,divisor:me,dominantBaseline:null,download:_e,dx:null,dy:null,edgeMode:null,editable:null,elevation:me,enableBackground:null,end:null,event:null,exponent:me,externalResourcesRequired:null,fill:null,fillOpacity:me,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:Na,g2:Na,glyphName:Na,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:me,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:me,horizOriginX:me,horizOriginY:me,id:null,ideographic:me,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:me,k:me,k1:me,k2:me,k3:me,k4:me,kernelMatrix:pn,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:me,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:me,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:me,overlineThickness:me,paintOrder:null,panose1:null,path:null,pathLength:me,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:ot,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:me,pointsAtY:me,pointsAtZ:me,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:pn,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:pn,rev:pn,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:pn,requiredFeatures:pn,requiredFonts:pn,requiredFormats:pn,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:me,specularExponent:me,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:me,strikethroughThickness:me,string:null,stroke:null,strokeDashArray:pn,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:me,strokeOpacity:me,strokeWidth:null,style:null,surfaceScale:me,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:pn,tabIndex:me,tableValues:null,target:null,targetX:me,targetY:me,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:pn,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:me,underlineThickness:me,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:me,values:null,vAlphabetic:me,vMathematical:me,vectorEffect:null,vHanging:me,vIdeographic:me,version:null,vertAdvY:me,vertOriginX:me,vertOriginY:me,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:me,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:fb}),mb=Ba({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform(e,t){return"xlink:"+t.slice(5).toLowerCase()}}),hb=Ba({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:db}),pb=Ba({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform(e,t){return"xml:"+t.slice(3).toLowerCase()}}),qI={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},YI=/[A-Z]/g,Rx=/-[a-z]/g,$I=/^data[-\w.:]+$/i;function KI(e,t){const n=Yd(t);let r=t,o=sn;if(n in e.normal)return e.property[e.normal[n]];if(n.length>4&&n.slice(0,4)==="data"&&$I.test(t)){if(t.charAt(4)==="-"){const l=t.slice(5).replace(Rx,WI);r="data"+l.charAt(0).toUpperCase()+l.slice(1)}else{const l=t.slice(4);if(!Rx.test(l)){let u=l.replace(YI,XI);u.charAt(0)!=="-"&&(u="-"+u),t="data"+u}}o=Im}return new o(r,t)}function XI(e){return"-"+e.toLowerCase()}function WI(e){return e.charAt(1).toUpperCase()}const QI=ub([cb,UI,mb,hb,pb],"html"),km=ub([cb,GI,mb,hb,pb],"svg");function JI(e){return e.join(" ").trim()}var Sa={},rd,Nx;function ZI(){if(Nx)return rd;Nx=1;var e=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,t=/\n/g,n=/^\s*/,r=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,o=/^:\s*/,l=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,u=/^[;\s]*/,f=/^\s+|\s+$/g,m=`
`,d="/",h="*",y="",T="comment",S="declaration";rd=function(E,_){if(typeof E!="string")throw new TypeError("First argument must be a string");if(!E)return[];_=_||{};var I=1,k=1;function R(he){var le=he.match(t);le&&(I+=le.length);var ce=he.lastIndexOf(m);k=~ce?he.length-ce:k+he.length}function z(){var he={line:I,column:k};return function(le){return le.position=new G(he),oe(),le}}function G(he){this.start=he,this.end={line:I,column:k},this.source=_.source}G.prototype.content=E;function H(he){var le=new Error(_.source+":"+I+":"+k+": "+he);if(le.reason=he,le.filename=_.source,le.line=I,le.column=k,le.source=E,!_.silent)throw le}function se(he){var le=he.exec(E);if(le){var ce=le[0];return R(ce),E=E.slice(ce.length),le}}function oe(){se(n)}function pe(he){var le;for(he=he||[];le=j();)le!==!1&&he.push(le);return he}function j(){var he=z();if(!(d!=E.charAt(0)||h!=E.charAt(1))){for(var le=2;y!=E.charAt(le)&&(h!=E.charAt(le)||d!=E.charAt(le+1));)++le;if(le+=2,y===E.charAt(le-1))return H("End of comment missing");var ce=E.slice(2,le-2);return k+=2,R(ce),E=E.slice(le),k+=2,he({type:T,comment:ce})}}function fe(){var he=z(),le=se(r);if(le){if(j(),!se(o))return H("property missing ':'");var ce=se(l),q=he({type:S,property:M(le[0].replace(e,y)),value:ce?M(ce[0].replace(e,y)):y});return se(u),q}}function Z(){var he=[];pe(he);for(var le;le=fe();)le!==!1&&(he.push(le),pe(he));return he}return oe(),Z()};function M(E){return E?E.replace(f,y):y}return rd}var _x;function ek(){if(_x)return Sa;_x=1;var e=Sa&&Sa.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Sa,"__esModule",{value:!0}),Sa.default=n;var t=e(ZI());function n(r,o){var l=null;if(!r||typeof r!="string")return l;var u=(0,t.default)(r),f=typeof o=="function";return u.forEach(function(m){if(m.type==="declaration"){var d=m.property,h=m.value;f?o(d,h,m):h&&(l=l||{},l[d]=h)}}),l}return Sa}var qo={},Lx;function tk(){if(Lx)return qo;Lx=1,Object.defineProperty(qo,"__esModule",{value:!0}),qo.camelCase=void 0;var e=/^--[a-zA-Z0-9_-]+$/,t=/-([a-z])/g,n=/^[^-]+$/,r=/^-(webkit|moz|ms|o|khtml)-/,o=/^-(ms)-/,l=function(d){return!d||n.test(d)||e.test(d)},u=function(d,h){return h.toUpperCase()},f=function(d,h){return"".concat(h,"-")},m=function(d,h){return h===void 0&&(h={}),l(d)?d:(d=d.toLowerCase(),h.reactCompat?d=d.replace(o,f):d=d.replace(r,f),d.replace(t,u))};return qo.camelCase=m,qo}var Yo,Vx;function nk(){if(Vx)return Yo;Vx=1;var e=Yo&&Yo.__importDefault||function(o){return o&&o.__esModule?o:{default:o}},t=e(ek()),n=tk();function r(o,l){var u={};return!o||typeof o!="string"||(0,t.default)(o,function(f,m){f&&m&&(u[(0,n.camelCase)(f,l)]=m)}),u}return r.default=r,Yo=r,Yo}var ik=nk();const rk=Ts(ik),gb=yb("end"),Rm=yb("start");function yb(e){return t;function t(n){const r=n&&n.position&&n.position[e]||{};if(typeof r.line=="number"&&r.line>0&&typeof r.column=="number"&&r.column>0)return{line:r.line,column:r.column,offset:typeof r.offset=="number"&&r.offset>-1?r.offset:void 0}}}function ak(e){const t=Rm(e),n=gb(e);if(t&&n)return{start:t,end:n}}function es(e){return!e||typeof e!="object"?"":"position"in e||"type"in e?Px(e.position):"start"in e||"end"in e?Px(e):"line"in e||"column"in e?Xd(e):""}function Xd(e){return Bx(e&&e.line)+":"+Bx(e&&e.column)}function Px(e){return Xd(e&&e.start)+"-"+Xd(e&&e.end)}function Bx(e){return e&&typeof e=="number"?e:1}class $t extends Error{constructor(t,n,r){super(),typeof n=="string"&&(r=n,n=void 0);let o="",l={},u=!1;if(n&&("line"in n&&"column"in n?l={place:n}:"start"in n&&"end"in n?l={place:n}:"type"in n?l={ancestors:[n],place:n.position}:l={...n}),typeof t=="string"?o=t:!l.cause&&t&&(u=!0,o=t.message,l.cause=t),!l.ruleId&&!l.source&&typeof r=="string"){const m=r.indexOf(":");m===-1?l.ruleId=r:(l.source=r.slice(0,m),l.ruleId=r.slice(m+1))}if(!l.place&&l.ancestors&&l.ancestors){const m=l.ancestors[l.ancestors.length-1];m&&(l.place=m.position)}const f=l.place&&"start"in l.place?l.place.start:l.place;this.ancestors=l.ancestors||void 0,this.cause=l.cause||void 0,this.column=f?f.column:void 0,this.fatal=void 0,this.file,this.message=o,this.line=f?f.line:void 0,this.name=es(l.place)||"1:1",this.place=l.place||void 0,this.reason=this.message,this.ruleId=l.ruleId||void 0,this.source=l.source||void 0,this.stack=u&&l.cause&&typeof l.cause.stack=="string"?l.cause.stack:"",this.actual,this.expected,this.note,this.url}}$t.prototype.file="";$t.prototype.name="";$t.prototype.reason="";$t.prototype.message="";$t.prototype.stack="";$t.prototype.column=void 0;$t.prototype.line=void 0;$t.prototype.ancestors=void 0;$t.prototype.cause=void 0;$t.prototype.fatal=void 0;$t.prototype.place=void 0;$t.prototype.ruleId=void 0;$t.prototype.source=void 0;const Nm={}.hasOwnProperty,ok=new Map,sk=/[A-Z]/g,lk=new Set(["table","tbody","thead","tfoot","tr"]),uk=new Set(["td","th"]),xb="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function ck(e,t){if(!t||t.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const n=t.filePath||void 0;let r;if(t.development){if(typeof t.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");r=xk(n,t.jsxDEV)}else{if(typeof t.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof t.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");r=yk(n,t.jsx,t.jsxs)}const o={Fragment:t.Fragment,ancestors:[],components:t.components||{},create:r,elementAttributeNameCase:t.elementAttributeNameCase||"react",evaluater:t.createEvaluater?t.createEvaluater():void 0,filePath:n,ignoreInvalidStyle:t.ignoreInvalidStyle||!1,passKeys:t.passKeys!==!1,passNode:t.passNode||!1,schema:t.space==="svg"?km:QI,stylePropertyNameCase:t.stylePropertyNameCase||"dom",tableCellAlignToStyle:t.tableCellAlignToStyle!==!1},l=vb(o,e,void 0);return l&&typeof l!="string"?l:o.create(e,o.Fragment,{children:l||void 0},void 0)}function vb(e,t,n){if(t.type==="element")return fk(e,t,n);if(t.type==="mdxFlowExpression"||t.type==="mdxTextExpression")return dk(e,t);if(t.type==="mdxJsxFlowElement"||t.type==="mdxJsxTextElement")return hk(e,t,n);if(t.type==="mdxjsEsm")return mk(e,t);if(t.type==="root")return pk(e,t,n);if(t.type==="text")return gk(e,t)}function fk(e,t,n){const r=e.schema;let o=r;t.tagName.toLowerCase()==="svg"&&r.space==="html"&&(o=km,e.schema=o),e.ancestors.push(t);const l=Tb(e,t.tagName,!1),u=vk(e,t);let f=Lm(e,t);return lk.has(t.tagName)&&(f=f.filter(function(m){return typeof m=="string"?!jI(m):!0})),bb(e,u,l,t),_m(u,f),e.ancestors.pop(),e.schema=r,e.create(t,l,u,n)}function dk(e,t){if(t.data&&t.data.estree&&e.evaluater){const r=t.data.estree.body[0];return r.type,e.evaluater.evaluateExpression(r.expression)}ds(e,t.position)}function mk(e,t){if(t.data&&t.data.estree&&e.evaluater)return e.evaluater.evaluateProgram(t.data.estree);ds(e,t.position)}function hk(e,t,n){const r=e.schema;let o=r;t.name==="svg"&&r.space==="html"&&(o=km,e.schema=o),e.ancestors.push(t);const l=t.name===null?e.Fragment:Tb(e,t.name,!0),u=bk(e,t),f=Lm(e,t);return bb(e,u,l,t),_m(u,f),e.ancestors.pop(),e.schema=r,e.create(t,l,u,n)}function pk(e,t,n){const r={};return _m(r,Lm(e,t)),e.create(t,e.Fragment,r,n)}function gk(e,t){return t.value}function bb(e,t,n,r){typeof n!="string"&&n!==e.Fragment&&e.passNode&&(t.node=r)}function _m(e,t){if(t.length>0){const n=t.length>1?t:t[0];n&&(e.children=n)}}function yk(e,t,n){return r;function r(o,l,u,f){const d=Array.isArray(u.children)?n:t;return f?d(l,u,f):d(l,u)}}function xk(e,t){return n;function n(r,o,l,u){const f=Array.isArray(l.children),m=Rm(r);return t(o,l,u,f,{columnNumber:m?m.column-1:void 0,fileName:e,lineNumber:m?m.line:void 0},void 0)}}function vk(e,t){const n={};let r,o;for(o in t.properties)if(o!=="children"&&Nm.call(t.properties,o)){const l=Tk(e,o,t.properties[o]);if(l){const[u,f]=l;e.tableCellAlignToStyle&&u==="align"&&typeof f=="string"&&uk.has(t.tagName)?r=f:n[u]=f}}if(r){const l=n.style||(n.style={});l[e.stylePropertyNameCase==="css"?"text-align":"textAlign"]=r}return n}function bk(e,t){const n={};for(const r of t.attributes)if(r.type==="mdxJsxExpressionAttribute")if(r.data&&r.data.estree&&e.evaluater){const l=r.data.estree.body[0];l.type;const u=l.expression;u.type;const f=u.properties[0];f.type,Object.assign(n,e.evaluater.evaluateExpression(f.argument))}else ds(e,t.position);else{const o=r.name;let l;if(r.value&&typeof r.value=="object")if(r.value.data&&r.value.data.estree&&e.evaluater){const f=r.value.data.estree.body[0];f.type,l=e.evaluater.evaluateExpression(f.expression)}else ds(e,t.position);else l=r.value===null?!0:r.value;n[o]=l}return n}function Lm(e,t){const n=[];let r=-1;const o=e.passKeys?new Map:ok;for(;++r<t.children.length;){const l=t.children[r];let u;if(e.passKeys){const m=l.type==="element"?l.tagName:l.type==="mdxJsxFlowElement"||l.type==="mdxJsxTextElement"?l.name:void 0;if(m){const d=o.get(m)||0;u=m+"-"+d,o.set(m,d+1)}}const f=vb(e,l,u);f!==void 0&&n.push(f)}return n}function Tk(e,t,n){const r=KI(e.schema,t);if(!(n==null||typeof n=="number"&&Number.isNaN(n))){if(Array.isArray(n)&&(n=r.commaSeparated?PI(n):JI(n)),r.property==="style"){let o=typeof n=="object"?n:Sk(e,String(n));return e.stylePropertyNameCase==="css"&&(o=Ck(o)),["style",o]}return[e.elementAttributeNameCase==="react"&&r.space?qI[r.property]||r.property:r.attribute,n]}}function Sk(e,t){try{return rk(t,{reactCompat:!0})}catch(n){if(e.ignoreInvalidStyle)return{};const r=n,o=new $t("Cannot parse `style` attribute",{ancestors:e.ancestors,cause:r,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw o.file=e.filePath||void 0,o.url=xb+"#cannot-parse-style-attribute",o}}function Tb(e,t,n){let r;if(!n)r={type:"Literal",value:t};else if(t.includes(".")){const o=t.split(".");let l=-1,u;for(;++l<o.length;){const f=Dx(o[l])?{type:"Identifier",name:o[l]}:{type:"Literal",value:o[l]};u=u?{type:"MemberExpression",object:u,property:f,computed:!!(l&&f.type==="Literal"),optional:!1}:f}r=u}else r=Dx(t)&&!/^[a-z]/.test(t)?{type:"Identifier",name:t}:{type:"Literal",value:t};if(r.type==="Literal"){const o=r.value;return Nm.call(e.components,o)?e.components[o]:o}if(e.evaluater)return e.evaluater.evaluateExpression(r);ds(e)}function ds(e,t){const n=new $t("Cannot handle MDX estrees without `createEvaluater`",{ancestors:e.ancestors,place:t,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw n.file=e.filePath||void 0,n.url=xb+"#cannot-handle-mdx-estrees-without-createevaluater",n}function Ck(e){const t={};let n;for(n in e)Nm.call(e,n)&&(t[wk(n)]=e[n]);return t}function wk(e){let t=e.replace(sk,Mk);return t.slice(0,3)==="ms-"&&(t="-"+t),t}function Mk(e){return"-"+e.toLowerCase()}const ad={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},Ek={};function Vm(e,t){const n=Ek,r=typeof n.includeImageAlt=="boolean"?n.includeImageAlt:!0,o=typeof n.includeHtml=="boolean"?n.includeHtml:!0;return Sb(e,r,o)}function Sb(e,t,n){if(Ak(e)){if("value"in e)return e.type==="html"&&!n?"":e.value;if(t&&"alt"in e&&e.alt)return e.alt;if("children"in e)return Ox(e.children,t,n)}return Array.isArray(e)?Ox(e,t,n):""}function Ox(e,t,n){const r=[];let o=-1;for(;++o<e.length;)r[o]=Sb(e[o],t,n);return r.join("")}function Ak(e){return!!(e&&typeof e=="object")}const Fx=document.createElement("i");function Pm(e){const t="&"+e+";";Fx.innerHTML=t;const n=Fx.textContent;return n.charCodeAt(n.length-1)===59&&e!=="semi"||n===t?!1:n}function yn(e,t,n,r){const o=e.length;let l=0,u;if(t<0?t=-t>o?0:o+t:t=t>o?o:t,n=n>0?n:0,r.length<1e4)u=Array.from(r),u.unshift(t,n),e.splice(...u);else for(n&&e.splice(t,n);l<r.length;)u=r.slice(l,l+1e4),u.unshift(t,0),e.splice(...u),l+=1e4,t+=1e4}function _n(e,t){return e.length>0?(yn(e,e.length,0,t),e):t}const zx={}.hasOwnProperty;function Cb(e){const t={};let n=-1;for(;++n<e.length;)Dk(t,e[n]);return t}function Dk(e,t){let n;for(n in t){const o=(zx.call(e,n)?e[n]:void 0)||(e[n]={}),l=t[n];let u;if(l)for(u in l){zx.call(o,u)||(o[u]=[]);const f=l[u];Ik(o[u],Array.isArray(f)?f:f?[f]:[])}}}function Ik(e,t){let n=-1;const r=[];for(;++n<t.length;)(t[n].add==="after"?e:r).push(t[n]);yn(e,0,0,r)}function wb(e,t){const n=Number.parseInt(e,t);return n<9||n===11||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||(n&65535)===65535||(n&65535)===65534||n>1114111?"�":String.fromCodePoint(n)}function jn(e){return e.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const Qt=rr(/[A-Za-z]/),qt=rr(/[\dA-Za-z]/),kk=rr(/[#-'*+\--9=?A-Z^-~]/);function yu(e){return e!==null&&(e<32||e===127)}const Wd=rr(/\d/),Rk=rr(/[\dA-Fa-f]/),Nk=rr(/[!-/:-@[-`{-~]/);function we(e){return e!==null&&e<-2}function rt(e){return e!==null&&(e<0||e===32)}function ze(e){return e===-2||e===-1||e===32}const Ru=rr(new RegExp("\\p{P}|\\p{S}","u")),Lr=rr(/\s/);function rr(e){return t;function t(n){return n!==null&&n>-1&&e.test(String.fromCharCode(n))}}function Oa(e){const t=[];let n=-1,r=0,o=0;for(;++n<e.length;){const l=e.charCodeAt(n);let u="";if(l===37&&qt(e.charCodeAt(n+1))&&qt(e.charCodeAt(n+2)))o=2;else if(l<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(l))||(u=String.fromCharCode(l));else if(l>55295&&l<57344){const f=e.charCodeAt(n+1);l<56320&&f>56319&&f<57344?(u=String.fromCharCode(l,f),o=1):u="�"}else u=String.fromCharCode(l);u&&(t.push(e.slice(r,n),encodeURIComponent(u)),r=n+o+1,u=""),o&&(n+=o,o=0)}return t.join("")+e.slice(r)}function Ge(e,t,n,r){const o=r?r-1:Number.POSITIVE_INFINITY;let l=0;return u;function u(m){return ze(m)?(e.enter(n),f(m)):t(m)}function f(m){return ze(m)&&l++<o?(e.consume(m),f):(e.exit(n),t(m))}}const _k={tokenize:Lk};function Lk(e){const t=e.attempt(this.parser.constructs.contentInitial,r,o);let n;return t;function r(f){if(f===null){e.consume(f);return}return e.enter("lineEnding"),e.consume(f),e.exit("lineEnding"),Ge(e,t,"linePrefix")}function o(f){return e.enter("paragraph"),l(f)}function l(f){const m=e.enter("chunkText",{contentType:"text",previous:n});return n&&(n.next=m),n=m,u(f)}function u(f){if(f===null){e.exit("chunkText"),e.exit("paragraph"),e.consume(f);return}return we(f)?(e.consume(f),e.exit("chunkText"),l):(e.consume(f),u)}}const Vk={tokenize:Pk},jx={tokenize:Bk};function Pk(e){const t=this,n=[];let r=0,o,l,u;return f;function f(R){if(r<n.length){const z=n[r];return t.containerState=z[1],e.attempt(z[0].continuation,m,d)(R)}return d(R)}function m(R){if(r++,t.containerState._closeFlow){t.containerState._closeFlow=void 0,o&&k();const z=t.events.length;let G=z,H;for(;G--;)if(t.events[G][0]==="exit"&&t.events[G][1].type==="chunkFlow"){H=t.events[G][1].end;break}I(r);let se=z;for(;se<t.events.length;)t.events[se][1].end={...H},se++;return yn(t.events,G+1,0,t.events.slice(z)),t.events.length=se,d(R)}return f(R)}function d(R){if(r===n.length){if(!o)return T(R);if(o.currentConstruct&&o.currentConstruct.concrete)return M(R);t.interrupt=!!(o.currentConstruct&&!o._gfmTableDynamicInterruptHack)}return t.containerState={},e.check(jx,h,y)(R)}function h(R){return o&&k(),I(r),T(R)}function y(R){return t.parser.lazy[t.now().line]=r!==n.length,u=t.now().offset,M(R)}function T(R){return t.containerState={},e.attempt(jx,S,M)(R)}function S(R){return r++,n.push([t.currentConstruct,t.containerState]),T(R)}function M(R){if(R===null){o&&k(),I(0),e.consume(R);return}return o=o||t.parser.flow(t.now()),e.enter("chunkFlow",{_tokenizer:o,contentType:"flow",previous:l}),E(R)}function E(R){if(R===null){_(e.exit("chunkFlow"),!0),I(0),e.consume(R);return}return we(R)?(e.consume(R),_(e.exit("chunkFlow")),r=0,t.interrupt=void 0,f):(e.consume(R),E)}function _(R,z){const G=t.sliceStream(R);if(z&&G.push(null),R.previous=l,l&&(l.next=R),l=R,o.defineSkip(R.start),o.write(G),t.parser.lazy[R.start.line]){let H=o.events.length;for(;H--;)if(o.events[H][1].start.offset<u&&(!o.events[H][1].end||o.events[H][1].end.offset>u))return;const se=t.events.length;let oe=se,pe,j;for(;oe--;)if(t.events[oe][0]==="exit"&&t.events[oe][1].type==="chunkFlow"){if(pe){j=t.events[oe][1].end;break}pe=!0}for(I(r),H=se;H<t.events.length;)t.events[H][1].end={...j},H++;yn(t.events,oe+1,0,t.events.slice(se)),t.events.length=H}}function I(R){let z=n.length;for(;z-- >R;){const G=n[z];t.containerState=G[1],G[0].exit.call(t,e)}n.length=R}function k(){o.write([null]),l=void 0,o=void 0,t.containerState._closeFlow=void 0}}function Bk(e,t,n){return Ge(e,e.attempt(this.parser.constructs.document,t,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function _a(e){if(e===null||rt(e)||Lr(e))return 1;if(Ru(e))return 2}function Nu(e,t,n){const r=[];let o=-1;for(;++o<e.length;){const l=e[o].resolveAll;l&&!r.includes(l)&&(t=l(t,n),r.push(l))}return t}const Qd={name:"attention",resolveAll:Ok,tokenize:Fk};function Ok(e,t){let n=-1,r,o,l,u,f,m,d,h;for(;++n<e.length;)if(e[n][0]==="enter"&&e[n][1].type==="attentionSequence"&&e[n][1]._close){for(r=n;r--;)if(e[r][0]==="exit"&&e[r][1].type==="attentionSequence"&&e[r][1]._open&&t.sliceSerialize(e[r][1]).charCodeAt(0)===t.sliceSerialize(e[n][1]).charCodeAt(0)){if((e[r][1]._close||e[n][1]._open)&&(e[n][1].end.offset-e[n][1].start.offset)%3&&!((e[r][1].end.offset-e[r][1].start.offset+e[n][1].end.offset-e[n][1].start.offset)%3))continue;m=e[r][1].end.offset-e[r][1].start.offset>1&&e[n][1].end.offset-e[n][1].start.offset>1?2:1;const y={...e[r][1].end},T={...e[n][1].start};Hx(y,-m),Hx(T,m),u={type:m>1?"strongSequence":"emphasisSequence",start:y,end:{...e[r][1].end}},f={type:m>1?"strongSequence":"emphasisSequence",start:{...e[n][1].start},end:T},l={type:m>1?"strongText":"emphasisText",start:{...e[r][1].end},end:{...e[n][1].start}},o={type:m>1?"strong":"emphasis",start:{...u.start},end:{...f.end}},e[r][1].end={...u.start},e[n][1].start={...f.end},d=[],e[r][1].end.offset-e[r][1].start.offset&&(d=_n(d,[["enter",e[r][1],t],["exit",e[r][1],t]])),d=_n(d,[["enter",o,t],["enter",u,t],["exit",u,t],["enter",l,t]]),d=_n(d,Nu(t.parser.constructs.insideSpan.null,e.slice(r+1,n),t)),d=_n(d,[["exit",l,t],["enter",f,t],["exit",f,t],["exit",o,t]]),e[n][1].end.offset-e[n][1].start.offset?(h=2,d=_n(d,[["enter",e[n][1],t],["exit",e[n][1],t]])):h=0,yn(e,r-1,n-r+3,d),n=r+d.length-h-2;break}}for(n=-1;++n<e.length;)e[n][1].type==="attentionSequence"&&(e[n][1].type="data");return e}function Fk(e,t){const n=this.parser.constructs.attentionMarkers.null,r=this.previous,o=_a(r);let l;return u;function u(m){return l=m,e.enter("attentionSequence"),f(m)}function f(m){if(m===l)return e.consume(m),f;const d=e.exit("attentionSequence"),h=_a(m),y=!h||h===2&&o||n.includes(m),T=!o||o===2&&h||n.includes(r);return d._open=!!(l===42?y:y&&(o||!T)),d._close=!!(l===42?T:T&&(h||!y)),t(m)}}function Hx(e,t){e.column+=t,e.offset+=t,e._bufferIndex+=t}const zk={name:"autolink",tokenize:jk};function jk(e,t,n){let r=0;return o;function o(S){return e.enter("autolink"),e.enter("autolinkMarker"),e.consume(S),e.exit("autolinkMarker"),e.enter("autolinkProtocol"),l}function l(S){return Qt(S)?(e.consume(S),u):S===64?n(S):d(S)}function u(S){return S===43||S===45||S===46||qt(S)?(r=1,f(S)):d(S)}function f(S){return S===58?(e.consume(S),r=0,m):(S===43||S===45||S===46||qt(S))&&r++<32?(e.consume(S),f):(r=0,d(S))}function m(S){return S===62?(e.exit("autolinkProtocol"),e.enter("autolinkMarker"),e.consume(S),e.exit("autolinkMarker"),e.exit("autolink"),t):S===null||S===32||S===60||yu(S)?n(S):(e.consume(S),m)}function d(S){return S===64?(e.consume(S),h):kk(S)?(e.consume(S),d):n(S)}function h(S){return qt(S)?y(S):n(S)}function y(S){return S===46?(e.consume(S),r=0,h):S===62?(e.exit("autolinkProtocol").type="autolinkEmail",e.enter("autolinkMarker"),e.consume(S),e.exit("autolinkMarker"),e.exit("autolink"),t):T(S)}function T(S){if((S===45||qt(S))&&r++<63){const M=S===45?T:y;return e.consume(S),M}return n(S)}}const ws={partial:!0,tokenize:Hk};function Hk(e,t,n){return r;function r(l){return ze(l)?Ge(e,o,"linePrefix")(l):o(l)}function o(l){return l===null||we(l)?t(l):n(l)}}const Mb={continuation:{tokenize:Gk},exit:qk,name:"blockQuote",tokenize:Uk};function Uk(e,t,n){const r=this;return o;function o(u){if(u===62){const f=r.containerState;return f.open||(e.enter("blockQuote",{_container:!0}),f.open=!0),e.enter("blockQuotePrefix"),e.enter("blockQuoteMarker"),e.consume(u),e.exit("blockQuoteMarker"),l}return n(u)}function l(u){return ze(u)?(e.enter("blockQuotePrefixWhitespace"),e.consume(u),e.exit("blockQuotePrefixWhitespace"),e.exit("blockQuotePrefix"),t):(e.exit("blockQuotePrefix"),t(u))}}function Gk(e,t,n){const r=this;return o;function o(u){return ze(u)?Ge(e,l,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(u):l(u)}function l(u){return e.attempt(Mb,t,n)(u)}}function qk(e){e.exit("blockQuote")}const Eb={name:"characterEscape",tokenize:Yk};function Yk(e,t,n){return r;function r(l){return e.enter("characterEscape"),e.enter("escapeMarker"),e.consume(l),e.exit("escapeMarker"),o}function o(l){return Nk(l)?(e.enter("characterEscapeValue"),e.consume(l),e.exit("characterEscapeValue"),e.exit("characterEscape"),t):n(l)}}const Ab={name:"characterReference",tokenize:$k};function $k(e,t,n){const r=this;let o=0,l,u;return f;function f(y){return e.enter("characterReference"),e.enter("characterReferenceMarker"),e.consume(y),e.exit("characterReferenceMarker"),m}function m(y){return y===35?(e.enter("characterReferenceMarkerNumeric"),e.consume(y),e.exit("characterReferenceMarkerNumeric"),d):(e.enter("characterReferenceValue"),l=31,u=qt,h(y))}function d(y){return y===88||y===120?(e.enter("characterReferenceMarkerHexadecimal"),e.consume(y),e.exit("characterReferenceMarkerHexadecimal"),e.enter("characterReferenceValue"),l=6,u=Rk,h):(e.enter("characterReferenceValue"),l=7,u=Wd,h(y))}function h(y){if(y===59&&o){const T=e.exit("characterReferenceValue");return u===qt&&!Pm(r.sliceSerialize(T))?n(y):(e.enter("characterReferenceMarker"),e.consume(y),e.exit("characterReferenceMarker"),e.exit("characterReference"),t)}return u(y)&&o++<l?(e.consume(y),h):n(y)}}const Ux={partial:!0,tokenize:Xk},Gx={concrete:!0,name:"codeFenced",tokenize:Kk};function Kk(e,t,n){const r=this,o={partial:!0,tokenize:G};let l=0,u=0,f;return m;function m(H){return d(H)}function d(H){const se=r.events[r.events.length-1];return l=se&&se[1].type==="linePrefix"?se[2].sliceSerialize(se[1],!0).length:0,f=H,e.enter("codeFenced"),e.enter("codeFencedFence"),e.enter("codeFencedFenceSequence"),h(H)}function h(H){return H===f?(u++,e.consume(H),h):u<3?n(H):(e.exit("codeFencedFenceSequence"),ze(H)?Ge(e,y,"whitespace")(H):y(H))}function y(H){return H===null||we(H)?(e.exit("codeFencedFence"),r.interrupt?t(H):e.check(Ux,E,z)(H)):(e.enter("codeFencedFenceInfo"),e.enter("chunkString",{contentType:"string"}),T(H))}function T(H){return H===null||we(H)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),y(H)):ze(H)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),Ge(e,S,"whitespace")(H)):H===96&&H===f?n(H):(e.consume(H),T)}function S(H){return H===null||we(H)?y(H):(e.enter("codeFencedFenceMeta"),e.enter("chunkString",{contentType:"string"}),M(H))}function M(H){return H===null||we(H)?(e.exit("chunkString"),e.exit("codeFencedFenceMeta"),y(H)):H===96&&H===f?n(H):(e.consume(H),M)}function E(H){return e.attempt(o,z,_)(H)}function _(H){return e.enter("lineEnding"),e.consume(H),e.exit("lineEnding"),I}function I(H){return l>0&&ze(H)?Ge(e,k,"linePrefix",l+1)(H):k(H)}function k(H){return H===null||we(H)?e.check(Ux,E,z)(H):(e.enter("codeFlowValue"),R(H))}function R(H){return H===null||we(H)?(e.exit("codeFlowValue"),k(H)):(e.consume(H),R)}function z(H){return e.exit("codeFenced"),t(H)}function G(H,se,oe){let pe=0;return j;function j(ce){return H.enter("lineEnding"),H.consume(ce),H.exit("lineEnding"),fe}function fe(ce){return H.enter("codeFencedFence"),ze(ce)?Ge(H,Z,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(ce):Z(ce)}function Z(ce){return ce===f?(H.enter("codeFencedFenceSequence"),he(ce)):oe(ce)}function he(ce){return ce===f?(pe++,H.consume(ce),he):pe>=u?(H.exit("codeFencedFenceSequence"),ze(ce)?Ge(H,le,"whitespace")(ce):le(ce)):oe(ce)}function le(ce){return ce===null||we(ce)?(H.exit("codeFencedFence"),se(ce)):oe(ce)}}}function Xk(e,t,n){const r=this;return o;function o(u){return u===null?n(u):(e.enter("lineEnding"),e.consume(u),e.exit("lineEnding"),l)}function l(u){return r.parser.lazy[r.now().line]?n(u):t(u)}}const od={name:"codeIndented",tokenize:Qk},Wk={partial:!0,tokenize:Jk};function Qk(e,t,n){const r=this;return o;function o(d){return e.enter("codeIndented"),Ge(e,l,"linePrefix",5)(d)}function l(d){const h=r.events[r.events.length-1];return h&&h[1].type==="linePrefix"&&h[2].sliceSerialize(h[1],!0).length>=4?u(d):n(d)}function u(d){return d===null?m(d):we(d)?e.attempt(Wk,u,m)(d):(e.enter("codeFlowValue"),f(d))}function f(d){return d===null||we(d)?(e.exit("codeFlowValue"),u(d)):(e.consume(d),f)}function m(d){return e.exit("codeIndented"),t(d)}}function Jk(e,t,n){const r=this;return o;function o(u){return r.parser.lazy[r.now().line]?n(u):we(u)?(e.enter("lineEnding"),e.consume(u),e.exit("lineEnding"),o):Ge(e,l,"linePrefix",5)(u)}function l(u){const f=r.events[r.events.length-1];return f&&f[1].type==="linePrefix"&&f[2].sliceSerialize(f[1],!0).length>=4?t(u):we(u)?o(u):n(u)}}const Zk={name:"codeText",previous:tR,resolve:eR,tokenize:nR};function eR(e){let t=e.length-4,n=3,r,o;if((e[n][1].type==="lineEnding"||e[n][1].type==="space")&&(e[t][1].type==="lineEnding"||e[t][1].type==="space")){for(r=n;++r<t;)if(e[r][1].type==="codeTextData"){e[n][1].type="codeTextPadding",e[t][1].type="codeTextPadding",n+=2,t-=2;break}}for(r=n-1,t++;++r<=t;)o===void 0?r!==t&&e[r][1].type!=="lineEnding"&&(o=r):(r===t||e[r][1].type==="lineEnding")&&(e[o][1].type="codeTextData",r!==o+2&&(e[o][1].end=e[r-1][1].end,e.splice(o+2,r-o-2),t-=r-o-2,r=o+2),o=void 0);return e}function tR(e){return e!==96||this.events[this.events.length-1][1].type==="characterEscape"}function nR(e,t,n){let r=0,o,l;return u;function u(y){return e.enter("codeText"),e.enter("codeTextSequence"),f(y)}function f(y){return y===96?(e.consume(y),r++,f):(e.exit("codeTextSequence"),m(y))}function m(y){return y===null?n(y):y===32?(e.enter("space"),e.consume(y),e.exit("space"),m):y===96?(l=e.enter("codeTextSequence"),o=0,h(y)):we(y)?(e.enter("lineEnding"),e.consume(y),e.exit("lineEnding"),m):(e.enter("codeTextData"),d(y))}function d(y){return y===null||y===32||y===96||we(y)?(e.exit("codeTextData"),m(y)):(e.consume(y),d)}function h(y){return y===96?(e.consume(y),o++,h):o===r?(e.exit("codeTextSequence"),e.exit("codeText"),t(y)):(l.type="codeTextData",d(y))}}class iR{constructor(t){this.left=t?[...t]:[],this.right=[]}get(t){if(t<0||t>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+t+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return t<this.left.length?this.left[t]:this.right[this.right.length-t+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(t,n){const r=n??Number.POSITIVE_INFINITY;return r<this.left.length?this.left.slice(t,r):t>this.left.length?this.right.slice(this.right.length-r+this.left.length,this.right.length-t+this.left.length).reverse():this.left.slice(t).concat(this.right.slice(this.right.length-r+this.left.length).reverse())}splice(t,n,r){const o=n||0;this.setCursor(Math.trunc(t));const l=this.right.splice(this.right.length-o,Number.POSITIVE_INFINITY);return r&&$o(this.left,r),l.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(t){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(t)}pushMany(t){this.setCursor(Number.POSITIVE_INFINITY),$o(this.left,t)}unshift(t){this.setCursor(0),this.right.push(t)}unshiftMany(t){this.setCursor(0),$o(this.right,t.reverse())}setCursor(t){if(!(t===this.left.length||t>this.left.length&&this.right.length===0||t<0&&this.left.length===0))if(t<this.left.length){const n=this.left.splice(t,Number.POSITIVE_INFINITY);$o(this.right,n.reverse())}else{const n=this.right.splice(this.left.length+this.right.length-t,Number.POSITIVE_INFINITY);$o(this.left,n.reverse())}}}function $o(e,t){let n=0;if(t.length<1e4)e.push(...t);else for(;n<t.length;)e.push(...t.slice(n,n+1e4)),n+=1e4}function Db(e){const t={};let n=-1,r,o,l,u,f,m,d;const h=new iR(e);for(;++n<h.length;){for(;n in t;)n=t[n];if(r=h.get(n),n&&r[1].type==="chunkFlow"&&h.get(n-1)[1].type==="listItemPrefix"&&(m=r[1]._tokenizer.events,l=0,l<m.length&&m[l][1].type==="lineEndingBlank"&&(l+=2),l<m.length&&m[l][1].type==="content"))for(;++l<m.length&&m[l][1].type!=="content";)m[l][1].type==="chunkText"&&(m[l][1]._isInFirstContentOfListItem=!0,l++);if(r[0]==="enter")r[1].contentType&&(Object.assign(t,rR(h,n)),n=t[n],d=!0);else if(r[1]._container){for(l=n,o=void 0;l--;)if(u=h.get(l),u[1].type==="lineEnding"||u[1].type==="lineEndingBlank")u[0]==="enter"&&(o&&(h.get(o)[1].type="lineEndingBlank"),u[1].type="lineEnding",o=l);else if(!(u[1].type==="linePrefix"||u[1].type==="listItemIndent"))break;o&&(r[1].end={...h.get(o)[1].start},f=h.slice(o,n),f.unshift(r),h.splice(o,n-o+1,f))}}return yn(e,0,Number.POSITIVE_INFINITY,h.slice(0)),!d}function rR(e,t){const n=e.get(t)[1],r=e.get(t)[2];let o=t-1;const l=[];let u=n._tokenizer;u||(u=r.parser[n.contentType](n.start),n._contentTypeTextTrailing&&(u._contentTypeTextTrailing=!0));const f=u.events,m=[],d={};let h,y,T=-1,S=n,M=0,E=0;const _=[E];for(;S;){for(;e.get(++o)[1]!==S;);l.push(o),S._tokenizer||(h=r.sliceStream(S),S.next||h.push(null),y&&u.defineSkip(S.start),S._isInFirstContentOfListItem&&(u._gfmTasklistFirstContentOfListItem=!0),u.write(h),S._isInFirstContentOfListItem&&(u._gfmTasklistFirstContentOfListItem=void 0)),y=S,S=S.next}for(S=n;++T<f.length;)f[T][0]==="exit"&&f[T-1][0]==="enter"&&f[T][1].type===f[T-1][1].type&&f[T][1].start.line!==f[T][1].end.line&&(E=T+1,_.push(E),S._tokenizer=void 0,S.previous=void 0,S=S.next);for(u.events=[],S?(S._tokenizer=void 0,S.previous=void 0):_.pop(),T=_.length;T--;){const I=f.slice(_[T],_[T+1]),k=l.pop();m.push([k,k+I.length-1]),e.splice(k,2,I)}for(m.reverse(),T=-1;++T<m.length;)d[M+m[T][0]]=M+m[T][1],M+=m[T][1]-m[T][0]-1;return d}const aR={resolve:sR,tokenize:lR},oR={partial:!0,tokenize:uR};function sR(e){return Db(e),e}function lR(e,t){let n;return r;function r(f){return e.enter("content"),n=e.enter("chunkContent",{contentType:"content"}),o(f)}function o(f){return f===null?l(f):we(f)?e.check(oR,u,l)(f):(e.consume(f),o)}function l(f){return e.exit("chunkContent"),e.exit("content"),t(f)}function u(f){return e.consume(f),e.exit("chunkContent"),n.next=e.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,o}}function uR(e,t,n){const r=this;return o;function o(u){return e.exit("chunkContent"),e.enter("lineEnding"),e.consume(u),e.exit("lineEnding"),Ge(e,l,"linePrefix")}function l(u){if(u===null||we(u))return n(u);const f=r.events[r.events.length-1];return!r.parser.constructs.disable.null.includes("codeIndented")&&f&&f[1].type==="linePrefix"&&f[2].sliceSerialize(f[1],!0).length>=4?t(u):e.interrupt(r.parser.constructs.flow,n,t)(u)}}function Ib(e,t,n,r,o,l,u,f,m){const d=m||Number.POSITIVE_INFINITY;let h=0;return y;function y(I){return I===60?(e.enter(r),e.enter(o),e.enter(l),e.consume(I),e.exit(l),T):I===null||I===32||I===41||yu(I)?n(I):(e.enter(r),e.enter(u),e.enter(f),e.enter("chunkString",{contentType:"string"}),E(I))}function T(I){return I===62?(e.enter(l),e.consume(I),e.exit(l),e.exit(o),e.exit(r),t):(e.enter(f),e.enter("chunkString",{contentType:"string"}),S(I))}function S(I){return I===62?(e.exit("chunkString"),e.exit(f),T(I)):I===null||I===60||we(I)?n(I):(e.consume(I),I===92?M:S)}function M(I){return I===60||I===62||I===92?(e.consume(I),S):S(I)}function E(I){return!h&&(I===null||I===41||rt(I))?(e.exit("chunkString"),e.exit(f),e.exit(u),e.exit(r),t(I)):h<d&&I===40?(e.consume(I),h++,E):I===41?(e.consume(I),h--,E):I===null||I===32||I===40||yu(I)?n(I):(e.consume(I),I===92?_:E)}function _(I){return I===40||I===41||I===92?(e.consume(I),E):E(I)}}function kb(e,t,n,r,o,l){const u=this;let f=0,m;return d;function d(S){return e.enter(r),e.enter(o),e.consume(S),e.exit(o),e.enter(l),h}function h(S){return f>999||S===null||S===91||S===93&&!m||S===94&&!f&&"_hiddenFootnoteSupport"in u.parser.constructs?n(S):S===93?(e.exit(l),e.enter(o),e.consume(S),e.exit(o),e.exit(r),t):we(S)?(e.enter("lineEnding"),e.consume(S),e.exit("lineEnding"),h):(e.enter("chunkString",{contentType:"string"}),y(S))}function y(S){return S===null||S===91||S===93||we(S)||f++>999?(e.exit("chunkString"),h(S)):(e.consume(S),m||(m=!ze(S)),S===92?T:y)}function T(S){return S===91||S===92||S===93?(e.consume(S),f++,y):y(S)}}function Rb(e,t,n,r,o,l){let u;return f;function f(T){return T===34||T===39||T===40?(e.enter(r),e.enter(o),e.consume(T),e.exit(o),u=T===40?41:T,m):n(T)}function m(T){return T===u?(e.enter(o),e.consume(T),e.exit(o),e.exit(r),t):(e.enter(l),d(T))}function d(T){return T===u?(e.exit(l),m(u)):T===null?n(T):we(T)?(e.enter("lineEnding"),e.consume(T),e.exit("lineEnding"),Ge(e,d,"linePrefix")):(e.enter("chunkString",{contentType:"string"}),h(T))}function h(T){return T===u||T===null||we(T)?(e.exit("chunkString"),d(T)):(e.consume(T),T===92?y:h)}function y(T){return T===u||T===92?(e.consume(T),h):h(T)}}function ts(e,t){let n;return r;function r(o){return we(o)?(e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),n=!0,r):ze(o)?Ge(e,r,n?"linePrefix":"lineSuffix")(o):t(o)}}const cR={name:"definition",tokenize:dR},fR={partial:!0,tokenize:mR};function dR(e,t,n){const r=this;let o;return l;function l(S){return e.enter("definition"),u(S)}function u(S){return kb.call(r,e,f,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(S)}function f(S){return o=jn(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)),S===58?(e.enter("definitionMarker"),e.consume(S),e.exit("definitionMarker"),m):n(S)}function m(S){return rt(S)?ts(e,d)(S):d(S)}function d(S){return Ib(e,h,n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(S)}function h(S){return e.attempt(fR,y,y)(S)}function y(S){return ze(S)?Ge(e,T,"whitespace")(S):T(S)}function T(S){return S===null||we(S)?(e.exit("definition"),r.parser.defined.push(o),t(S)):n(S)}}function mR(e,t,n){return r;function r(f){return rt(f)?ts(e,o)(f):n(f)}function o(f){return Rb(e,l,n,"definitionTitle","definitionTitleMarker","definitionTitleString")(f)}function l(f){return ze(f)?Ge(e,u,"whitespace")(f):u(f)}function u(f){return f===null||we(f)?t(f):n(f)}}const hR={name:"hardBreakEscape",tokenize:pR};function pR(e,t,n){return r;function r(l){return e.enter("hardBreakEscape"),e.consume(l),o}function o(l){return we(l)?(e.exit("hardBreakEscape"),t(l)):n(l)}}const gR={name:"headingAtx",resolve:yR,tokenize:xR};function yR(e,t){let n=e.length-2,r=3,o,l;return e[r][1].type==="whitespace"&&(r+=2),n-2>r&&e[n][1].type==="whitespace"&&(n-=2),e[n][1].type==="atxHeadingSequence"&&(r===n-1||n-4>r&&e[n-2][1].type==="whitespace")&&(n-=r+1===n?2:4),n>r&&(o={type:"atxHeadingText",start:e[r][1].start,end:e[n][1].end},l={type:"chunkText",start:e[r][1].start,end:e[n][1].end,contentType:"text"},yn(e,r,n-r+1,[["enter",o,t],["enter",l,t],["exit",l,t],["exit",o,t]])),e}function xR(e,t,n){let r=0;return o;function o(h){return e.enter("atxHeading"),l(h)}function l(h){return e.enter("atxHeadingSequence"),u(h)}function u(h){return h===35&&r++<6?(e.consume(h),u):h===null||rt(h)?(e.exit("atxHeadingSequence"),f(h)):n(h)}function f(h){return h===35?(e.enter("atxHeadingSequence"),m(h)):h===null||we(h)?(e.exit("atxHeading"),t(h)):ze(h)?Ge(e,f,"whitespace")(h):(e.enter("atxHeadingText"),d(h))}function m(h){return h===35?(e.consume(h),m):(e.exit("atxHeadingSequence"),f(h))}function d(h){return h===null||h===35||rt(h)?(e.exit("atxHeadingText"),f(h)):(e.consume(h),d)}}const vR=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],qx=["pre","script","style","textarea"],bR={concrete:!0,name:"htmlFlow",resolveTo:CR,tokenize:wR},TR={partial:!0,tokenize:ER},SR={partial:!0,tokenize:MR};function CR(e){let t=e.length;for(;t--&&!(e[t][0]==="enter"&&e[t][1].type==="htmlFlow"););return t>1&&e[t-2][1].type==="linePrefix"&&(e[t][1].start=e[t-2][1].start,e[t+1][1].start=e[t-2][1].start,e.splice(t-2,2)),e}function wR(e,t,n){const r=this;let o,l,u,f,m;return d;function d(D){return h(D)}function h(D){return e.enter("htmlFlow"),e.enter("htmlFlowData"),e.consume(D),y}function y(D){return D===33?(e.consume(D),T):D===47?(e.consume(D),l=!0,E):D===63?(e.consume(D),o=3,r.interrupt?t:C):Qt(D)?(e.consume(D),u=String.fromCharCode(D),_):n(D)}function T(D){return D===45?(e.consume(D),o=2,S):D===91?(e.consume(D),o=5,f=0,M):Qt(D)?(e.consume(D),o=4,r.interrupt?t:C):n(D)}function S(D){return D===45?(e.consume(D),r.interrupt?t:C):n(D)}function M(D){const J="CDATA[";return D===J.charCodeAt(f++)?(e.consume(D),f===J.length?r.interrupt?t:Z:M):n(D)}function E(D){return Qt(D)?(e.consume(D),u=String.fromCharCode(D),_):n(D)}function _(D){if(D===null||D===47||D===62||rt(D)){const J=D===47,O=u.toLowerCase();return!J&&!l&&qx.includes(O)?(o=1,r.interrupt?t(D):Z(D)):vR.includes(u.toLowerCase())?(o=6,J?(e.consume(D),I):r.interrupt?t(D):Z(D)):(o=7,r.interrupt&&!r.parser.lazy[r.now().line]?n(D):l?k(D):R(D))}return D===45||qt(D)?(e.consume(D),u+=String.fromCharCode(D),_):n(D)}function I(D){return D===62?(e.consume(D),r.interrupt?t:Z):n(D)}function k(D){return ze(D)?(e.consume(D),k):j(D)}function R(D){return D===47?(e.consume(D),j):D===58||D===95||Qt(D)?(e.consume(D),z):ze(D)?(e.consume(D),R):j(D)}function z(D){return D===45||D===46||D===58||D===95||qt(D)?(e.consume(D),z):G(D)}function G(D){return D===61?(e.consume(D),H):ze(D)?(e.consume(D),G):R(D)}function H(D){return D===null||D===60||D===61||D===62||D===96?n(D):D===34||D===39?(e.consume(D),m=D,se):ze(D)?(e.consume(D),H):oe(D)}function se(D){return D===m?(e.consume(D),m=null,pe):D===null||we(D)?n(D):(e.consume(D),se)}function oe(D){return D===null||D===34||D===39||D===47||D===60||D===61||D===62||D===96||rt(D)?G(D):(e.consume(D),oe)}function pe(D){return D===47||D===62||ze(D)?R(D):n(D)}function j(D){return D===62?(e.consume(D),fe):n(D)}function fe(D){return D===null||we(D)?Z(D):ze(D)?(e.consume(D),fe):n(D)}function Z(D){return D===45&&o===2?(e.consume(D),q):D===60&&o===1?(e.consume(D),B):D===62&&o===4?(e.consume(D),P):D===63&&o===3?(e.consume(D),C):D===93&&o===5?(e.consume(D),L):we(D)&&(o===6||o===7)?(e.exit("htmlFlowData"),e.check(TR,Y,he)(D)):D===null||we(D)?(e.exit("htmlFlowData"),he(D)):(e.consume(D),Z)}function he(D){return e.check(SR,le,Y)(D)}function le(D){return e.enter("lineEnding"),e.consume(D),e.exit("lineEnding"),ce}function ce(D){return D===null||we(D)?he(D):(e.enter("htmlFlowData"),Z(D))}function q(D){return D===45?(e.consume(D),C):Z(D)}function B(D){return D===47?(e.consume(D),u="",N):Z(D)}function N(D){if(D===62){const J=u.toLowerCase();return qx.includes(J)?(e.consume(D),P):Z(D)}return Qt(D)&&u.length<8?(e.consume(D),u+=String.fromCharCode(D),N):Z(D)}function L(D){return D===93?(e.consume(D),C):Z(D)}function C(D){return D===62?(e.consume(D),P):D===45&&o===2?(e.consume(D),C):Z(D)}function P(D){return D===null||we(D)?(e.exit("htmlFlowData"),Y(D)):(e.consume(D),P)}function Y(D){return e.exit("htmlFlow"),t(D)}}function MR(e,t,n){const r=this;return o;function o(u){return we(u)?(e.enter("lineEnding"),e.consume(u),e.exit("lineEnding"),l):n(u)}function l(u){return r.parser.lazy[r.now().line]?n(u):t(u)}}function ER(e,t,n){return r;function r(o){return e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),e.attempt(ws,t,n)}}const AR={name:"htmlText",tokenize:DR};function DR(e,t,n){const r=this;let o,l,u;return f;function f(C){return e.enter("htmlText"),e.enter("htmlTextData"),e.consume(C),m}function m(C){return C===33?(e.consume(C),d):C===47?(e.consume(C),G):C===63?(e.consume(C),R):Qt(C)?(e.consume(C),oe):n(C)}function d(C){return C===45?(e.consume(C),h):C===91?(e.consume(C),l=0,M):Qt(C)?(e.consume(C),k):n(C)}function h(C){return C===45?(e.consume(C),S):n(C)}function y(C){return C===null?n(C):C===45?(e.consume(C),T):we(C)?(u=y,B(C)):(e.consume(C),y)}function T(C){return C===45?(e.consume(C),S):y(C)}function S(C){return C===62?q(C):C===45?T(C):y(C)}function M(C){const P="CDATA[";return C===P.charCodeAt(l++)?(e.consume(C),l===P.length?E:M):n(C)}function E(C){return C===null?n(C):C===93?(e.consume(C),_):we(C)?(u=E,B(C)):(e.consume(C),E)}function _(C){return C===93?(e.consume(C),I):E(C)}function I(C){return C===62?q(C):C===93?(e.consume(C),I):E(C)}function k(C){return C===null||C===62?q(C):we(C)?(u=k,B(C)):(e.consume(C),k)}function R(C){return C===null?n(C):C===63?(e.consume(C),z):we(C)?(u=R,B(C)):(e.consume(C),R)}function z(C){return C===62?q(C):R(C)}function G(C){return Qt(C)?(e.consume(C),H):n(C)}function H(C){return C===45||qt(C)?(e.consume(C),H):se(C)}function se(C){return we(C)?(u=se,B(C)):ze(C)?(e.consume(C),se):q(C)}function oe(C){return C===45||qt(C)?(e.consume(C),oe):C===47||C===62||rt(C)?pe(C):n(C)}function pe(C){return C===47?(e.consume(C),q):C===58||C===95||Qt(C)?(e.consume(C),j):we(C)?(u=pe,B(C)):ze(C)?(e.consume(C),pe):q(C)}function j(C){return C===45||C===46||C===58||C===95||qt(C)?(e.consume(C),j):fe(C)}function fe(C){return C===61?(e.consume(C),Z):we(C)?(u=fe,B(C)):ze(C)?(e.consume(C),fe):pe(C)}function Z(C){return C===null||C===60||C===61||C===62||C===96?n(C):C===34||C===39?(e.consume(C),o=C,he):we(C)?(u=Z,B(C)):ze(C)?(e.consume(C),Z):(e.consume(C),le)}function he(C){return C===o?(e.consume(C),o=void 0,ce):C===null?n(C):we(C)?(u=he,B(C)):(e.consume(C),he)}function le(C){return C===null||C===34||C===39||C===60||C===61||C===96?n(C):C===47||C===62||rt(C)?pe(C):(e.consume(C),le)}function ce(C){return C===47||C===62||rt(C)?pe(C):n(C)}function q(C){return C===62?(e.consume(C),e.exit("htmlTextData"),e.exit("htmlText"),t):n(C)}function B(C){return e.exit("htmlTextData"),e.enter("lineEnding"),e.consume(C),e.exit("lineEnding"),N}function N(C){return ze(C)?Ge(e,L,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(C):L(C)}function L(C){return e.enter("htmlTextData"),u(C)}}const Bm={name:"labelEnd",resolveAll:NR,resolveTo:_R,tokenize:LR},IR={tokenize:VR},kR={tokenize:PR},RR={tokenize:BR};function NR(e){let t=-1;const n=[];for(;++t<e.length;){const r=e[t][1];if(n.push(e[t]),r.type==="labelImage"||r.type==="labelLink"||r.type==="labelEnd"){const o=r.type==="labelImage"?4:2;r.type="data",t+=o}}return e.length!==n.length&&yn(e,0,e.length,n),e}function _R(e,t){let n=e.length,r=0,o,l,u,f;for(;n--;)if(o=e[n][1],l){if(o.type==="link"||o.type==="labelLink"&&o._inactive)break;e[n][0]==="enter"&&o.type==="labelLink"&&(o._inactive=!0)}else if(u){if(e[n][0]==="enter"&&(o.type==="labelImage"||o.type==="labelLink")&&!o._balanced&&(l=n,o.type!=="labelLink")){r=2;break}}else o.type==="labelEnd"&&(u=n);const m={type:e[l][1].type==="labelLink"?"link":"image",start:{...e[l][1].start},end:{...e[e.length-1][1].end}},d={type:"label",start:{...e[l][1].start},end:{...e[u][1].end}},h={type:"labelText",start:{...e[l+r+2][1].end},end:{...e[u-2][1].start}};return f=[["enter",m,t],["enter",d,t]],f=_n(f,e.slice(l+1,l+r+3)),f=_n(f,[["enter",h,t]]),f=_n(f,Nu(t.parser.constructs.insideSpan.null,e.slice(l+r+4,u-3),t)),f=_n(f,[["exit",h,t],e[u-2],e[u-1],["exit",d,t]]),f=_n(f,e.slice(u+1)),f=_n(f,[["exit",m,t]]),yn(e,l,e.length,f),e}function LR(e,t,n){const r=this;let o=r.events.length,l,u;for(;o--;)if((r.events[o][1].type==="labelImage"||r.events[o][1].type==="labelLink")&&!r.events[o][1]._balanced){l=r.events[o][1];break}return f;function f(T){return l?l._inactive?y(T):(u=r.parser.defined.includes(jn(r.sliceSerialize({start:l.end,end:r.now()}))),e.enter("labelEnd"),e.enter("labelMarker"),e.consume(T),e.exit("labelMarker"),e.exit("labelEnd"),m):n(T)}function m(T){return T===40?e.attempt(IR,h,u?h:y)(T):T===91?e.attempt(kR,h,u?d:y)(T):u?h(T):y(T)}function d(T){return e.attempt(RR,h,y)(T)}function h(T){return t(T)}function y(T){return l._balanced=!0,n(T)}}function VR(e,t,n){return r;function r(y){return e.enter("resource"),e.enter("resourceMarker"),e.consume(y),e.exit("resourceMarker"),o}function o(y){return rt(y)?ts(e,l)(y):l(y)}function l(y){return y===41?h(y):Ib(e,u,f,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(y)}function u(y){return rt(y)?ts(e,m)(y):h(y)}function f(y){return n(y)}function m(y){return y===34||y===39||y===40?Rb(e,d,n,"resourceTitle","resourceTitleMarker","resourceTitleString")(y):h(y)}function d(y){return rt(y)?ts(e,h)(y):h(y)}function h(y){return y===41?(e.enter("resourceMarker"),e.consume(y),e.exit("resourceMarker"),e.exit("resource"),t):n(y)}}function PR(e,t,n){const r=this;return o;function o(f){return kb.call(r,e,l,u,"reference","referenceMarker","referenceString")(f)}function l(f){return r.parser.defined.includes(jn(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)))?t(f):n(f)}function u(f){return n(f)}}function BR(e,t,n){return r;function r(l){return e.enter("reference"),e.enter("referenceMarker"),e.consume(l),e.exit("referenceMarker"),o}function o(l){return l===93?(e.enter("referenceMarker"),e.consume(l),e.exit("referenceMarker"),e.exit("reference"),t):n(l)}}const OR={name:"labelStartImage",resolveAll:Bm.resolveAll,tokenize:FR};function FR(e,t,n){const r=this;return o;function o(f){return e.enter("labelImage"),e.enter("labelImageMarker"),e.consume(f),e.exit("labelImageMarker"),l}function l(f){return f===91?(e.enter("labelMarker"),e.consume(f),e.exit("labelMarker"),e.exit("labelImage"),u):n(f)}function u(f){return f===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(f):t(f)}}const zR={name:"labelStartLink",resolveAll:Bm.resolveAll,tokenize:jR};function jR(e,t,n){const r=this;return o;function o(u){return e.enter("labelLink"),e.enter("labelMarker"),e.consume(u),e.exit("labelMarker"),e.exit("labelLink"),l}function l(u){return u===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(u):t(u)}}const sd={name:"lineEnding",tokenize:HR};function HR(e,t){return n;function n(r){return e.enter("lineEnding"),e.consume(r),e.exit("lineEnding"),Ge(e,t,"linePrefix")}}const lu={name:"thematicBreak",tokenize:UR};function UR(e,t,n){let r=0,o;return l;function l(d){return e.enter("thematicBreak"),u(d)}function u(d){return o=d,f(d)}function f(d){return d===o?(e.enter("thematicBreakSequence"),m(d)):r>=3&&(d===null||we(d))?(e.exit("thematicBreak"),t(d)):n(d)}function m(d){return d===o?(e.consume(d),r++,m):(e.exit("thematicBreakSequence"),ze(d)?Ge(e,f,"whitespace")(d):f(d))}}const rn={continuation:{tokenize:$R},exit:XR,name:"list",tokenize:YR},GR={partial:!0,tokenize:WR},qR={partial:!0,tokenize:KR};function YR(e,t,n){const r=this,o=r.events[r.events.length-1];let l=o&&o[1].type==="linePrefix"?o[2].sliceSerialize(o[1],!0).length:0,u=0;return f;function f(S){const M=r.containerState.type||(S===42||S===43||S===45?"listUnordered":"listOrdered");if(M==="listUnordered"?!r.containerState.marker||S===r.containerState.marker:Wd(S)){if(r.containerState.type||(r.containerState.type=M,e.enter(M,{_container:!0})),M==="listUnordered")return e.enter("listItemPrefix"),S===42||S===45?e.check(lu,n,d)(S):d(S);if(!r.interrupt||S===49)return e.enter("listItemPrefix"),e.enter("listItemValue"),m(S)}return n(S)}function m(S){return Wd(S)&&++u<10?(e.consume(S),m):(!r.interrupt||u<2)&&(r.containerState.marker?S===r.containerState.marker:S===41||S===46)?(e.exit("listItemValue"),d(S)):n(S)}function d(S){return e.enter("listItemMarker"),e.consume(S),e.exit("listItemMarker"),r.containerState.marker=r.containerState.marker||S,e.check(ws,r.interrupt?n:h,e.attempt(GR,T,y))}function h(S){return r.containerState.initialBlankLine=!0,l++,T(S)}function y(S){return ze(S)?(e.enter("listItemPrefixWhitespace"),e.consume(S),e.exit("listItemPrefixWhitespace"),T):n(S)}function T(S){return r.containerState.size=l+r.sliceSerialize(e.exit("listItemPrefix"),!0).length,t(S)}}function $R(e,t,n){const r=this;return r.containerState._closeFlow=void 0,e.check(ws,o,l);function o(f){return r.containerState.furtherBlankLines=r.containerState.furtherBlankLines||r.containerState.initialBlankLine,Ge(e,t,"listItemIndent",r.containerState.size+1)(f)}function l(f){return r.containerState.furtherBlankLines||!ze(f)?(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,u(f)):(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,e.attempt(qR,t,u)(f))}function u(f){return r.containerState._closeFlow=!0,r.interrupt=void 0,Ge(e,e.attempt(rn,t,n),"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(f)}}function KR(e,t,n){const r=this;return Ge(e,o,"listItemIndent",r.containerState.size+1);function o(l){const u=r.events[r.events.length-1];return u&&u[1].type==="listItemIndent"&&u[2].sliceSerialize(u[1],!0).length===r.containerState.size?t(l):n(l)}}function XR(e){e.exit(this.containerState.type)}function WR(e,t,n){const r=this;return Ge(e,o,"listItemPrefixWhitespace",r.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function o(l){const u=r.events[r.events.length-1];return!ze(l)&&u&&u[1].type==="listItemPrefixWhitespace"?t(l):n(l)}}const Yx={name:"setextUnderline",resolveTo:QR,tokenize:JR};function QR(e,t){let n=e.length,r,o,l;for(;n--;)if(e[n][0]==="enter"){if(e[n][1].type==="content"){r=n;break}e[n][1].type==="paragraph"&&(o=n)}else e[n][1].type==="content"&&e.splice(n,1),!l&&e[n][1].type==="definition"&&(l=n);const u={type:"setextHeading",start:{...e[r][1].start},end:{...e[e.length-1][1].end}};return e[o][1].type="setextHeadingText",l?(e.splice(o,0,["enter",u,t]),e.splice(l+1,0,["exit",e[r][1],t]),e[r][1].end={...e[l][1].end}):e[r][1]=u,e.push(["exit",u,t]),e}function JR(e,t,n){const r=this;let o;return l;function l(d){let h=r.events.length,y;for(;h--;)if(r.events[h][1].type!=="lineEnding"&&r.events[h][1].type!=="linePrefix"&&r.events[h][1].type!=="content"){y=r.events[h][1].type==="paragraph";break}return!r.parser.lazy[r.now().line]&&(r.interrupt||y)?(e.enter("setextHeadingLine"),o=d,u(d)):n(d)}function u(d){return e.enter("setextHeadingLineSequence"),f(d)}function f(d){return d===o?(e.consume(d),f):(e.exit("setextHeadingLineSequence"),ze(d)?Ge(e,m,"lineSuffix")(d):m(d))}function m(d){return d===null||we(d)?(e.exit("setextHeadingLine"),t(d)):n(d)}}const ZR={tokenize:eN};function eN(e){const t=this,n=e.attempt(ws,r,e.attempt(this.parser.constructs.flowInitial,o,Ge(e,e.attempt(this.parser.constructs.flow,o,e.attempt(aR,o)),"linePrefix")));return n;function r(l){if(l===null){e.consume(l);return}return e.enter("lineEndingBlank"),e.consume(l),e.exit("lineEndingBlank"),t.currentConstruct=void 0,n}function o(l){if(l===null){e.consume(l);return}return e.enter("lineEnding"),e.consume(l),e.exit("lineEnding"),t.currentConstruct=void 0,n}}const tN={resolveAll:_b()},nN=Nb("string"),iN=Nb("text");function Nb(e){return{resolveAll:_b(e==="text"?rN:void 0),tokenize:t};function t(n){const r=this,o=this.parser.constructs[e],l=n.attempt(o,u,f);return u;function u(h){return d(h)?l(h):f(h)}function f(h){if(h===null){n.consume(h);return}return n.enter("data"),n.consume(h),m}function m(h){return d(h)?(n.exit("data"),l(h)):(n.consume(h),m)}function d(h){if(h===null)return!0;const y=o[h];let T=-1;if(y)for(;++T<y.length;){const S=y[T];if(!S.previous||S.previous.call(r,r.previous))return!0}return!1}}}function _b(e){return t;function t(n,r){let o=-1,l;for(;++o<=n.length;)l===void 0?n[o]&&n[o][1].type==="data"&&(l=o,o++):(!n[o]||n[o][1].type!=="data")&&(o!==l+2&&(n[l][1].end=n[o-1][1].end,n.splice(l+2,o-l-2),o=l+2),l=void 0);return e?e(n,r):n}}function rN(e,t){let n=0;for(;++n<=e.length;)if((n===e.length||e[n][1].type==="lineEnding")&&e[n-1][1].type==="data"){const r=e[n-1][1],o=t.sliceStream(r);let l=o.length,u=-1,f=0,m;for(;l--;){const d=o[l];if(typeof d=="string"){for(u=d.length;d.charCodeAt(u-1)===32;)f++,u--;if(u)break;u=-1}else if(d===-2)m=!0,f++;else if(d!==-1){l++;break}}if(t._contentTypeTextTrailing&&n===e.length&&(f=0),f){const d={type:n===e.length||m||f<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:l?u:r.start._bufferIndex+u,_index:r.start._index+l,line:r.end.line,column:r.end.column-f,offset:r.end.offset-f},end:{...r.end}};r.end={...d.start},r.start.offset===r.end.offset?Object.assign(r,d):(e.splice(n,0,["enter",d,t],["exit",d,t]),n+=2)}n++}return e}const aN={42:rn,43:rn,45:rn,48:rn,49:rn,50:rn,51:rn,52:rn,53:rn,54:rn,55:rn,56:rn,57:rn,62:Mb},oN={91:cR},sN={[-2]:od,[-1]:od,32:od},lN={35:gR,42:lu,45:[Yx,lu],60:bR,61:Yx,95:lu,96:Gx,126:Gx},uN={38:Ab,92:Eb},cN={[-5]:sd,[-4]:sd,[-3]:sd,33:OR,38:Ab,42:Qd,60:[zk,AR],91:zR,92:[hR,Eb],93:Bm,95:Qd,96:Zk},fN={null:[Qd,tN]},dN={null:[42,95]},mN={null:[]},hN=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:dN,contentInitial:oN,disable:mN,document:aN,flow:lN,flowInitial:sN,insideSpan:fN,string:uN,text:cN},Symbol.toStringTag,{value:"Module"}));function pN(e,t,n){let r={_bufferIndex:-1,_index:0,line:n&&n.line||1,column:n&&n.column||1,offset:n&&n.offset||0};const o={},l=[];let u=[],f=[];const m={attempt:se(G),check:se(H),consume:k,enter:R,exit:z,interrupt:se(H,{interrupt:!0})},d={code:null,containerState:{},defineSkip:E,events:[],now:M,parser:e,previous:null,sliceSerialize:T,sliceStream:S,write:y};let h=t.tokenize.call(d,m);return t.resolveAll&&l.push(t),d;function y(fe){return u=_n(u,fe),_(),u[u.length-1]!==null?[]:(oe(t,0),d.events=Nu(l,d.events,d),d.events)}function T(fe,Z){return yN(S(fe),Z)}function S(fe){return gN(u,fe)}function M(){const{_bufferIndex:fe,_index:Z,line:he,column:le,offset:ce}=r;return{_bufferIndex:fe,_index:Z,line:he,column:le,offset:ce}}function E(fe){o[fe.line]=fe.column,j()}function _(){let fe;for(;r._index<u.length;){const Z=u[r._index];if(typeof Z=="string")for(fe=r._index,r._bufferIndex<0&&(r._bufferIndex=0);r._index===fe&&r._bufferIndex<Z.length;)I(Z.charCodeAt(r._bufferIndex));else I(Z)}}function I(fe){h=h(fe)}function k(fe){we(fe)?(r.line++,r.column=1,r.offset+=fe===-3?2:1,j()):fe!==-1&&(r.column++,r.offset++),r._bufferIndex<0?r._index++:(r._bufferIndex++,r._bufferIndex===u[r._index].length&&(r._bufferIndex=-1,r._index++)),d.previous=fe}function R(fe,Z){const he=Z||{};return he.type=fe,he.start=M(),d.events.push(["enter",he,d]),f.push(he),he}function z(fe){const Z=f.pop();return Z.end=M(),d.events.push(["exit",Z,d]),Z}function G(fe,Z){oe(fe,Z.from)}function H(fe,Z){Z.restore()}function se(fe,Z){return he;function he(le,ce,q){let B,N,L,C;return Array.isArray(le)?Y(le):"tokenize"in le?Y([le]):P(le);function P(re){return ye;function ye(de){const Ce=de!==null&&re[de],Te=de!==null&&re.null,De=[...Array.isArray(Ce)?Ce:Ce?[Ce]:[],...Array.isArray(Te)?Te:Te?[Te]:[]];return Y(De)(de)}}function Y(re){return B=re,N=0,re.length===0?q:D(re[N])}function D(re){return ye;function ye(de){return C=pe(),L=re,re.partial||(d.currentConstruct=re),re.name&&d.parser.constructs.disable.null.includes(re.name)?O():re.tokenize.call(Z?Object.assign(Object.create(d),Z):d,m,J,O)(de)}}function J(re){return fe(L,C),ce}function O(re){return C.restore(),++N<B.length?D(B[N]):q}}}function oe(fe,Z){fe.resolveAll&&!l.includes(fe)&&l.push(fe),fe.resolve&&yn(d.events,Z,d.events.length-Z,fe.resolve(d.events.slice(Z),d)),fe.resolveTo&&(d.events=fe.resolveTo(d.events,d))}function pe(){const fe=M(),Z=d.previous,he=d.currentConstruct,le=d.events.length,ce=Array.from(f);return{from:le,restore:q};function q(){r=fe,d.previous=Z,d.currentConstruct=he,d.events.length=le,f=ce,j()}}function j(){r.line in o&&r.column<2&&(r.column=o[r.line],r.offset+=o[r.line]-1)}}function gN(e,t){const n=t.start._index,r=t.start._bufferIndex,o=t.end._index,l=t.end._bufferIndex;let u;if(n===o)u=[e[n].slice(r,l)];else{if(u=e.slice(n,o),r>-1){const f=u[0];typeof f=="string"?u[0]=f.slice(r):u.shift()}l>0&&u.push(e[o].slice(0,l))}return u}function yN(e,t){let n=-1;const r=[];let o;for(;++n<e.length;){const l=e[n];let u;if(typeof l=="string")u=l;else switch(l){case-5:{u="\r";break}case-4:{u=`
`;break}case-3:{u=`\r
`;break}case-2:{u=t?" ":"	";break}case-1:{if(!t&&o)continue;u=" ";break}default:u=String.fromCharCode(l)}o=l===-2,r.push(u)}return r.join("")}function xN(e){const r={constructs:Cb([hN,...(e||{}).extensions||[]]),content:o(_k),defined:[],document:o(Vk),flow:o(ZR),lazy:{},string:o(nN),text:o(iN)};return r;function o(l){return u;function u(f){return pN(r,l,f)}}}function vN(e){for(;!Db(e););return e}const $x=/[\0\t\n\r]/g;function bN(){let e=1,t="",n=!0,r;return o;function o(l,u,f){const m=[];let d,h,y,T,S;for(l=t+(typeof l=="string"?l.toString():new TextDecoder(u||void 0).decode(l)),y=0,t="",n&&(l.charCodeAt(0)===65279&&y++,n=void 0);y<l.length;){if($x.lastIndex=y,d=$x.exec(l),T=d&&d.index!==void 0?d.index:l.length,S=l.charCodeAt(T),!d){t=l.slice(y);break}if(S===10&&y===T&&r)m.push(-3),r=void 0;else switch(r&&(m.push(-5),r=void 0),y<T&&(m.push(l.slice(y,T)),e+=T-y),S){case 0:{m.push(65533),e++;break}case 9:{for(h=Math.ceil(e/4)*4,m.push(-2);e++<h;)m.push(-1);break}case 10:{m.push(-4),e=1;break}default:r=!0,e=1}y=T+1}return f&&(r&&m.push(-5),t&&m.push(t),m.push(null)),m}}const TN=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function SN(e){return e.replace(TN,CN)}function CN(e,t,n){if(t)return t;if(n.charCodeAt(0)===35){const o=n.charCodeAt(1),l=o===120||o===88;return wb(n.slice(l?2:1),l?16:10)}return Pm(n)||e}const Lb={}.hasOwnProperty;function wN(e,t,n){return typeof t!="string"&&(n=t,t=void 0),MN(n)(vN(xN(n).document().write(bN()(e,t,!0))))}function MN(e){const t={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:l(or),autolinkProtocol:pe,autolinkEmail:pe,atxHeading:l(Qe),blockQuote:l(Te),characterEscape:pe,characterReference:pe,codeFenced:l(De),codeFencedFenceInfo:u,codeFencedFenceMeta:u,codeIndented:l(De,u),codeText:l(Ye,u),codeTextData:pe,data:pe,codeFlowValue:pe,definition:l(Le),definitionDestinationString:u,definitionLabelString:u,definitionTitleString:u,emphasis:l(je),hardBreakEscape:l(xt),hardBreakTrailing:l(xt),htmlFlow:l(dt,u),htmlFlowData:pe,htmlText:l(dt,u),htmlTextData:pe,image:l(Br),label:u,link:l(or),listItem:l(Hn),listItemValue:T,listOrdered:l(Si,y),listUnordered:l(Si),paragraph:l(Ha),reference:D,referenceString:u,resourceDestinationString:u,resourceTitleString:u,setextHeading:l(Qe),strong:l(Or),thematicBreak:l(Ga)},exit:{atxHeading:m(),atxHeadingSequence:G,autolink:m(),autolinkEmail:Ce,autolinkProtocol:de,blockQuote:m(),characterEscapeValue:j,characterReferenceMarkerHexadecimal:O,characterReferenceMarkerNumeric:O,characterReferenceValue:re,characterReference:ye,codeFenced:m(_),codeFencedFence:E,codeFencedFenceInfo:S,codeFencedFenceMeta:M,codeFlowValue:j,codeIndented:m(I),codeText:m(ce),codeTextData:j,data:j,definition:m(),definitionDestinationString:z,definitionLabelString:k,definitionTitleString:R,emphasis:m(),hardBreakEscape:m(Z),hardBreakTrailing:m(Z),htmlFlow:m(he),htmlFlowData:j,htmlText:m(le),htmlTextData:j,image:m(B),label:L,labelText:N,lineEnding:fe,link:m(q),listItem:m(),listOrdered:m(),listUnordered:m(),paragraph:m(),referenceString:J,resourceDestinationString:C,resourceTitleString:P,resource:Y,setextHeading:m(oe),setextHeadingLineSequence:se,setextHeadingText:H,strong:m(),thematicBreak:m()}};Vb(t,(e||{}).mdastExtensions||[]);const n={};return r;function r(ee){let ue={type:"root",children:[]};const Se={stack:[ue],tokenStack:[],config:t,enter:f,exit:d,buffer:u,resume:h,data:n},Me=[];let Ke=-1;for(;++Ke<ee.length;)if(ee[Ke][1].type==="listOrdered"||ee[Ke][1].type==="listUnordered")if(ee[Ke][0]==="enter")Me.push(Ke);else{const Kt=Me.pop();Ke=o(ee,Kt,Ke)}for(Ke=-1;++Ke<ee.length;){const Kt=t[ee[Ke][0]];Lb.call(Kt,ee[Ke][1].type)&&Kt[ee[Ke][1].type].call(Object.assign({sliceSerialize:ee[Ke][2].sliceSerialize},Se),ee[Ke][1])}if(Se.tokenStack.length>0){const Kt=Se.tokenStack[Se.tokenStack.length-1];(Kt[1]||Kx).call(Se,void 0,Kt[0])}for(ue.position={start:$i(ee.length>0?ee[0][1].start:{line:1,column:1,offset:0}),end:$i(ee.length>0?ee[ee.length-2][1].end:{line:1,column:1,offset:0})},Ke=-1;++Ke<t.transforms.length;)ue=t.transforms[Ke](ue)||ue;return ue}function o(ee,ue,Se){let Me=ue-1,Ke=-1,Kt=!1,xn,jt,vn,st;for(;++Me<=Se;){const vt=ee[Me];switch(vt[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{vt[0]==="enter"?Ke++:Ke--,st=void 0;break}case"lineEndingBlank":{vt[0]==="enter"&&(xn&&!st&&!Ke&&!vn&&(vn=Me),st=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:st=void 0}if(!Ke&&vt[0]==="enter"&&vt[1].type==="listItemPrefix"||Ke===-1&&vt[0]==="exit"&&(vt[1].type==="listUnordered"||vt[1].type==="listOrdered")){if(xn){let Xt=Me;for(jt=void 0;Xt--;){const Q=ee[Xt];if(Q[1].type==="lineEnding"||Q[1].type==="lineEndingBlank"){if(Q[0]==="exit")continue;jt&&(ee[jt][1].type="lineEndingBlank",Kt=!0),Q[1].type="lineEnding",jt=Xt}else if(!(Q[1].type==="linePrefix"||Q[1].type==="blockQuotePrefix"||Q[1].type==="blockQuotePrefixWhitespace"||Q[1].type==="blockQuoteMarker"||Q[1].type==="listItemIndent"))break}vn&&(!jt||vn<jt)&&(xn._spread=!0),xn.end=Object.assign({},jt?ee[jt][1].start:vt[1].end),ee.splice(jt||Me,0,["exit",xn,vt[2]]),Me++,Se++}if(vt[1].type==="listItemPrefix"){const Xt={type:"listItem",_spread:!1,start:Object.assign({},vt[1].start),end:void 0};xn=Xt,ee.splice(Me,0,["enter",Xt,vt[2]]),Me++,Se++,vn=void 0,st=!0}}}return ee[ue][1]._spread=Kt,Se}function l(ee,ue){return Se;function Se(Me){f.call(this,ee(Me),Me),ue&&ue.call(this,Me)}}function u(){this.stack.push({type:"fragment",children:[]})}function f(ee,ue,Se){this.stack[this.stack.length-1].children.push(ee),this.stack.push(ee),this.tokenStack.push([ue,Se||void 0]),ee.position={start:$i(ue.start),end:void 0}}function m(ee){return ue;function ue(Se){ee&&ee.call(this,Se),d.call(this,Se)}}function d(ee,ue){const Se=this.stack.pop(),Me=this.tokenStack.pop();if(Me)Me[0].type!==ee.type&&(ue?ue.call(this,ee,Me[0]):(Me[1]||Kx).call(this,ee,Me[0]));else throw new Error("Cannot close `"+ee.type+"` ("+es({start:ee.start,end:ee.end})+"): it’s not open");Se.position.end=$i(ee.end)}function h(){return Vm(this.stack.pop())}function y(){this.data.expectingFirstListItemValue=!0}function T(ee){if(this.data.expectingFirstListItemValue){const ue=this.stack[this.stack.length-2];ue.start=Number.parseInt(this.sliceSerialize(ee),10),this.data.expectingFirstListItemValue=void 0}}function S(){const ee=this.resume(),ue=this.stack[this.stack.length-1];ue.lang=ee}function M(){const ee=this.resume(),ue=this.stack[this.stack.length-1];ue.meta=ee}function E(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function _(){const ee=this.resume(),ue=this.stack[this.stack.length-1];ue.value=ee.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function I(){const ee=this.resume(),ue=this.stack[this.stack.length-1];ue.value=ee.replace(/(\r?\n|\r)$/g,"")}function k(ee){const ue=this.resume(),Se=this.stack[this.stack.length-1];Se.label=ue,Se.identifier=jn(this.sliceSerialize(ee)).toLowerCase()}function R(){const ee=this.resume(),ue=this.stack[this.stack.length-1];ue.title=ee}function z(){const ee=this.resume(),ue=this.stack[this.stack.length-1];ue.url=ee}function G(ee){const ue=this.stack[this.stack.length-1];if(!ue.depth){const Se=this.sliceSerialize(ee).length;ue.depth=Se}}function H(){this.data.setextHeadingSlurpLineEnding=!0}function se(ee){const ue=this.stack[this.stack.length-1];ue.depth=this.sliceSerialize(ee).codePointAt(0)===61?1:2}function oe(){this.data.setextHeadingSlurpLineEnding=void 0}function pe(ee){const Se=this.stack[this.stack.length-1].children;let Me=Se[Se.length-1];(!Me||Me.type!=="text")&&(Me=Ua(),Me.position={start:$i(ee.start),end:void 0},Se.push(Me)),this.stack.push(Me)}function j(ee){const ue=this.stack.pop();ue.value+=this.sliceSerialize(ee),ue.position.end=$i(ee.end)}function fe(ee){const ue=this.stack[this.stack.length-1];if(this.data.atHardBreak){const Se=ue.children[ue.children.length-1];Se.position.end=$i(ee.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&t.canContainEols.includes(ue.type)&&(pe.call(this,ee),j.call(this,ee))}function Z(){this.data.atHardBreak=!0}function he(){const ee=this.resume(),ue=this.stack[this.stack.length-1];ue.value=ee}function le(){const ee=this.resume(),ue=this.stack[this.stack.length-1];ue.value=ee}function ce(){const ee=this.resume(),ue=this.stack[this.stack.length-1];ue.value=ee}function q(){const ee=this.stack[this.stack.length-1];if(this.data.inReference){const ue=this.data.referenceType||"shortcut";ee.type+="Reference",ee.referenceType=ue,delete ee.url,delete ee.title}else delete ee.identifier,delete ee.label;this.data.referenceType=void 0}function B(){const ee=this.stack[this.stack.length-1];if(this.data.inReference){const ue=this.data.referenceType||"shortcut";ee.type+="Reference",ee.referenceType=ue,delete ee.url,delete ee.title}else delete ee.identifier,delete ee.label;this.data.referenceType=void 0}function N(ee){const ue=this.sliceSerialize(ee),Se=this.stack[this.stack.length-2];Se.label=SN(ue),Se.identifier=jn(ue).toLowerCase()}function L(){const ee=this.stack[this.stack.length-1],ue=this.resume(),Se=this.stack[this.stack.length-1];if(this.data.inReference=!0,Se.type==="link"){const Me=ee.children;Se.children=Me}else Se.alt=ue}function C(){const ee=this.resume(),ue=this.stack[this.stack.length-1];ue.url=ee}function P(){const ee=this.resume(),ue=this.stack[this.stack.length-1];ue.title=ee}function Y(){this.data.inReference=void 0}function D(){this.data.referenceType="collapsed"}function J(ee){const ue=this.resume(),Se=this.stack[this.stack.length-1];Se.label=ue,Se.identifier=jn(this.sliceSerialize(ee)).toLowerCase(),this.data.referenceType="full"}function O(ee){this.data.characterReferenceType=ee.type}function re(ee){const ue=this.sliceSerialize(ee),Se=this.data.characterReferenceType;let Me;Se?(Me=wb(ue,Se==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):Me=Pm(ue);const Ke=this.stack[this.stack.length-1];Ke.value+=Me}function ye(ee){const ue=this.stack.pop();ue.position.end=$i(ee.end)}function de(ee){j.call(this,ee);const ue=this.stack[this.stack.length-1];ue.url=this.sliceSerialize(ee)}function Ce(ee){j.call(this,ee);const ue=this.stack[this.stack.length-1];ue.url="mailto:"+this.sliceSerialize(ee)}function Te(){return{type:"blockquote",children:[]}}function De(){return{type:"code",lang:null,meta:null,value:""}}function Ye(){return{type:"inlineCode",value:""}}function Le(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function je(){return{type:"emphasis",children:[]}}function Qe(){return{type:"heading",depth:0,children:[]}}function xt(){return{type:"break"}}function dt(){return{type:"html",value:""}}function Br(){return{type:"image",title:null,url:"",alt:null}}function or(){return{type:"link",title:null,url:"",children:[]}}function Si(ee){return{type:"list",ordered:ee.type==="listOrdered",start:null,spread:ee._spread,children:[]}}function Hn(ee){return{type:"listItem",spread:ee._spread,checked:null,children:[]}}function Ha(){return{type:"paragraph",children:[]}}function Or(){return{type:"strong",children:[]}}function Ua(){return{type:"text",value:""}}function Ga(){return{type:"thematicBreak"}}}function $i(e){return{line:e.line,column:e.column,offset:e.offset}}function Vb(e,t){let n=-1;for(;++n<t.length;){const r=t[n];Array.isArray(r)?Vb(e,r):EN(e,r)}}function EN(e,t){let n;for(n in t)if(Lb.call(t,n))switch(n){case"canContainEols":{const r=t[n];r&&e[n].push(...r);break}case"transforms":{const r=t[n];r&&e[n].push(...r);break}case"enter":case"exit":{const r=t[n];r&&Object.assign(e[n],r);break}}}function Kx(e,t){throw e?new Error("Cannot close `"+e.type+"` ("+es({start:e.start,end:e.end})+"): a different token (`"+t.type+"`, "+es({start:t.start,end:t.end})+") is open"):new Error("Cannot close document, a token (`"+t.type+"`, "+es({start:t.start,end:t.end})+") is still open")}function AN(e){const t=this;t.parser=n;function n(r){return wN(r,{...t.data("settings"),...e,extensions:t.data("micromarkExtensions")||[],mdastExtensions:t.data("fromMarkdownExtensions")||[]})}}function DN(e,t){const n={type:"element",tagName:"blockquote",properties:{},children:e.wrap(e.all(t),!0)};return e.patch(t,n),e.applyData(t,n)}function IN(e,t){const n={type:"element",tagName:"br",properties:{},children:[]};return e.patch(t,n),[e.applyData(t,n),{type:"text",value:`
`}]}function kN(e,t){const n=t.value?t.value+`
`:"",r={};t.lang&&(r.className=["language-"+t.lang]);let o={type:"element",tagName:"code",properties:r,children:[{type:"text",value:n}]};return t.meta&&(o.data={meta:t.meta}),e.patch(t,o),o=e.applyData(t,o),o={type:"element",tagName:"pre",properties:{},children:[o]},e.patch(t,o),o}function RN(e,t){const n={type:"element",tagName:"del",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function NN(e,t){const n={type:"element",tagName:"em",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function _N(e,t){const n=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",r=String(t.identifier).toUpperCase(),o=Oa(r.toLowerCase()),l=e.footnoteOrder.indexOf(r);let u,f=e.footnoteCounts.get(r);f===void 0?(f=0,e.footnoteOrder.push(r),u=e.footnoteOrder.length):u=l+1,f+=1,e.footnoteCounts.set(r,f);const m={type:"element",tagName:"a",properties:{href:"#"+n+"fn-"+o,id:n+"fnref-"+o+(f>1?"-"+f:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(u)}]};e.patch(t,m);const d={type:"element",tagName:"sup",properties:{},children:[m]};return e.patch(t,d),e.applyData(t,d)}function LN(e,t){const n={type:"element",tagName:"h"+t.depth,properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function VN(e,t){if(e.options.allowDangerousHtml){const n={type:"raw",value:t.value};return e.patch(t,n),e.applyData(t,n)}}function Pb(e,t){const n=t.referenceType;let r="]";if(n==="collapsed"?r+="[]":n==="full"&&(r+="["+(t.label||t.identifier)+"]"),t.type==="imageReference")return[{type:"text",value:"!["+t.alt+r}];const o=e.all(t),l=o[0];l&&l.type==="text"?l.value="["+l.value:o.unshift({type:"text",value:"["});const u=o[o.length-1];return u&&u.type==="text"?u.value+=r:o.push({type:"text",value:r}),o}function PN(e,t){const n=String(t.identifier).toUpperCase(),r=e.definitionById.get(n);if(!r)return Pb(e,t);const o={src:Oa(r.url||""),alt:t.alt};r.title!==null&&r.title!==void 0&&(o.title=r.title);const l={type:"element",tagName:"img",properties:o,children:[]};return e.patch(t,l),e.applyData(t,l)}function BN(e,t){const n={src:Oa(t.url)};t.alt!==null&&t.alt!==void 0&&(n.alt=t.alt),t.title!==null&&t.title!==void 0&&(n.title=t.title);const r={type:"element",tagName:"img",properties:n,children:[]};return e.patch(t,r),e.applyData(t,r)}function ON(e,t){const n={type:"text",value:t.value.replace(/\r?\n|\r/g," ")};e.patch(t,n);const r={type:"element",tagName:"code",properties:{},children:[n]};return e.patch(t,r),e.applyData(t,r)}function FN(e,t){const n=String(t.identifier).toUpperCase(),r=e.definitionById.get(n);if(!r)return Pb(e,t);const o={href:Oa(r.url||"")};r.title!==null&&r.title!==void 0&&(o.title=r.title);const l={type:"element",tagName:"a",properties:o,children:e.all(t)};return e.patch(t,l),e.applyData(t,l)}function zN(e,t){const n={href:Oa(t.url)};t.title!==null&&t.title!==void 0&&(n.title=t.title);const r={type:"element",tagName:"a",properties:n,children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function jN(e,t,n){const r=e.all(t),o=n?HN(n):Bb(t),l={},u=[];if(typeof t.checked=="boolean"){const h=r[0];let y;h&&h.type==="element"&&h.tagName==="p"?y=h:(y={type:"element",tagName:"p",properties:{},children:[]},r.unshift(y)),y.children.length>0&&y.children.unshift({type:"text",value:" "}),y.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:t.checked,disabled:!0},children:[]}),l.className=["task-list-item"]}let f=-1;for(;++f<r.length;){const h=r[f];(o||f!==0||h.type!=="element"||h.tagName!=="p")&&u.push({type:"text",value:`
`}),h.type==="element"&&h.tagName==="p"&&!o?u.push(...h.children):u.push(h)}const m=r[r.length-1];m&&(o||m.type!=="element"||m.tagName!=="p")&&u.push({type:"text",value:`
`});const d={type:"element",tagName:"li",properties:l,children:u};return e.patch(t,d),e.applyData(t,d)}function HN(e){let t=!1;if(e.type==="list"){t=e.spread||!1;const n=e.children;let r=-1;for(;!t&&++r<n.length;)t=Bb(n[r])}return t}function Bb(e){const t=e.spread;return t??e.children.length>1}function UN(e,t){const n={},r=e.all(t);let o=-1;for(typeof t.start=="number"&&t.start!==1&&(n.start=t.start);++o<r.length;){const u=r[o];if(u.type==="element"&&u.tagName==="li"&&u.properties&&Array.isArray(u.properties.className)&&u.properties.className.includes("task-list-item")){n.className=["contains-task-list"];break}}const l={type:"element",tagName:t.ordered?"ol":"ul",properties:n,children:e.wrap(r,!0)};return e.patch(t,l),e.applyData(t,l)}function GN(e,t){const n={type:"element",tagName:"p",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function qN(e,t){const n={type:"root",children:e.wrap(e.all(t))};return e.patch(t,n),e.applyData(t,n)}function YN(e,t){const n={type:"element",tagName:"strong",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function $N(e,t){const n=e.all(t),r=n.shift(),o=[];if(r){const u={type:"element",tagName:"thead",properties:{},children:e.wrap([r],!0)};e.patch(t.children[0],u),o.push(u)}if(n.length>0){const u={type:"element",tagName:"tbody",properties:{},children:e.wrap(n,!0)},f=Rm(t.children[1]),m=gb(t.children[t.children.length-1]);f&&m&&(u.position={start:f,end:m}),o.push(u)}const l={type:"element",tagName:"table",properties:{},children:e.wrap(o,!0)};return e.patch(t,l),e.applyData(t,l)}function KN(e,t,n){const r=n?n.children:void 0,l=(r?r.indexOf(t):1)===0?"th":"td",u=n&&n.type==="table"?n.align:void 0,f=u?u.length:t.children.length;let m=-1;const d=[];for(;++m<f;){const y=t.children[m],T={},S=u?u[m]:void 0;S&&(T.align=S);let M={type:"element",tagName:l,properties:T,children:[]};y&&(M.children=e.all(y),e.patch(y,M),M=e.applyData(y,M)),d.push(M)}const h={type:"element",tagName:"tr",properties:{},children:e.wrap(d,!0)};return e.patch(t,h),e.applyData(t,h)}function XN(e,t){const n={type:"element",tagName:"td",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}const Xx=9,Wx=32;function WN(e){const t=String(e),n=/\r?\n|\r/g;let r=n.exec(t),o=0;const l=[];for(;r;)l.push(Qx(t.slice(o,r.index),o>0,!0),r[0]),o=r.index+r[0].length,r=n.exec(t);return l.push(Qx(t.slice(o),o>0,!1)),l.join("")}function Qx(e,t,n){let r=0,o=e.length;if(t){let l=e.codePointAt(r);for(;l===Xx||l===Wx;)r++,l=e.codePointAt(r)}if(n){let l=e.codePointAt(o-1);for(;l===Xx||l===Wx;)o--,l=e.codePointAt(o-1)}return o>r?e.slice(r,o):""}function QN(e,t){const n={type:"text",value:WN(String(t.value))};return e.patch(t,n),e.applyData(t,n)}function JN(e,t){const n={type:"element",tagName:"hr",properties:{},children:[]};return e.patch(t,n),e.applyData(t,n)}const ZN={blockquote:DN,break:IN,code:kN,delete:RN,emphasis:NN,footnoteReference:_N,heading:LN,html:VN,imageReference:PN,image:BN,inlineCode:ON,linkReference:FN,link:zN,listItem:jN,list:UN,paragraph:GN,root:qN,strong:YN,table:$N,tableCell:XN,tableRow:KN,text:QN,thematicBreak:JN,toml:Xl,yaml:Xl,definition:Xl,footnoteDefinition:Xl};function Xl(){}const Ob=-1,_u=0,ns=1,xu=2,Om=3,Fm=4,zm=5,jm=6,Fb=7,zb=8,Jx=typeof self=="object"?self:globalThis,e_=(e,t)=>{const n=(o,l)=>(e.set(l,o),o),r=o=>{if(e.has(o))return e.get(o);const[l,u]=t[o];switch(l){case _u:case Ob:return n(u,o);case ns:{const f=n([],o);for(const m of u)f.push(r(m));return f}case xu:{const f=n({},o);for(const[m,d]of u)f[r(m)]=r(d);return f}case Om:return n(new Date(u),o);case Fm:{const{source:f,flags:m}=u;return n(new RegExp(f,m),o)}case zm:{const f=n(new Map,o);for(const[m,d]of u)f.set(r(m),r(d));return f}case jm:{const f=n(new Set,o);for(const m of u)f.add(r(m));return f}case Fb:{const{name:f,message:m}=u;return n(new Jx[f](m),o)}case zb:return n(BigInt(u),o);case"BigInt":return n(Object(BigInt(u)),o);case"ArrayBuffer":return n(new Uint8Array(u).buffer,u);case"DataView":{const{buffer:f}=new Uint8Array(u);return n(new DataView(f),u)}}return n(new Jx[l](u),o)};return r},Zx=e=>e_(new Map,e)(0),Ca="",{toString:t_}={},{keys:n_}=Object,Ko=e=>{const t=typeof e;if(t!=="object"||!e)return[_u,t];const n=t_.call(e).slice(8,-1);switch(n){case"Array":return[ns,Ca];case"Object":return[xu,Ca];case"Date":return[Om,Ca];case"RegExp":return[Fm,Ca];case"Map":return[zm,Ca];case"Set":return[jm,Ca];case"DataView":return[ns,n]}return n.includes("Array")?[ns,n]:n.includes("Error")?[Fb,n]:[xu,n]},Wl=([e,t])=>e===_u&&(t==="function"||t==="symbol"),i_=(e,t,n,r)=>{const o=(u,f)=>{const m=r.push(u)-1;return n.set(f,m),m},l=u=>{if(n.has(u))return n.get(u);let[f,m]=Ko(u);switch(f){case _u:{let h=u;switch(m){case"bigint":f=zb,h=u.toString();break;case"function":case"symbol":if(e)throw new TypeError("unable to serialize "+m);h=null;break;case"undefined":return o([Ob],u)}return o([f,h],u)}case ns:{if(m){let T=u;return m==="DataView"?T=new Uint8Array(u.buffer):m==="ArrayBuffer"&&(T=new Uint8Array(u)),o([m,[...T]],u)}const h=[],y=o([f,h],u);for(const T of u)h.push(l(T));return y}case xu:{if(m)switch(m){case"BigInt":return o([m,u.toString()],u);case"Boolean":case"Number":case"String":return o([m,u.valueOf()],u)}if(t&&"toJSON"in u)return l(u.toJSON());const h=[],y=o([f,h],u);for(const T of n_(u))(e||!Wl(Ko(u[T])))&&h.push([l(T),l(u[T])]);return y}case Om:return o([f,u.toISOString()],u);case Fm:{const{source:h,flags:y}=u;return o([f,{source:h,flags:y}],u)}case zm:{const h=[],y=o([f,h],u);for(const[T,S]of u)(e||!(Wl(Ko(T))||Wl(Ko(S))))&&h.push([l(T),l(S)]);return y}case jm:{const h=[],y=o([f,h],u);for(const T of u)(e||!Wl(Ko(T)))&&h.push(l(T));return y}}const{message:d}=u;return o([f,{name:m,message:d}],u)};return l},ev=(e,{json:t,lossy:n}={})=>{const r=[];return i_(!(t||n),!!t,new Map,r)(e),r},vu=typeof structuredClone=="function"?(e,t)=>t&&("json"in t||"lossy"in t)?Zx(ev(e,t)):structuredClone(e):(e,t)=>Zx(ev(e,t));function r_(e,t){const n=[{type:"text",value:"↩"}];return t>1&&n.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(t)}]}),n}function a_(e,t){return"Back to reference "+(e+1)+(t>1?"-"+t:"")}function o_(e){const t=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",n=e.options.footnoteBackContent||r_,r=e.options.footnoteBackLabel||a_,o=e.options.footnoteLabel||"Footnotes",l=e.options.footnoteLabelTagName||"h2",u=e.options.footnoteLabelProperties||{className:["sr-only"]},f=[];let m=-1;for(;++m<e.footnoteOrder.length;){const d=e.footnoteById.get(e.footnoteOrder[m]);if(!d)continue;const h=e.all(d),y=String(d.identifier).toUpperCase(),T=Oa(y.toLowerCase());let S=0;const M=[],E=e.footnoteCounts.get(y);for(;E!==void 0&&++S<=E;){M.length>0&&M.push({type:"text",value:" "});let k=typeof n=="string"?n:n(m,S);typeof k=="string"&&(k={type:"text",value:k}),M.push({type:"element",tagName:"a",properties:{href:"#"+t+"fnref-"+T+(S>1?"-"+S:""),dataFootnoteBackref:"",ariaLabel:typeof r=="string"?r:r(m,S),className:["data-footnote-backref"]},children:Array.isArray(k)?k:[k]})}const _=h[h.length-1];if(_&&_.type==="element"&&_.tagName==="p"){const k=_.children[_.children.length-1];k&&k.type==="text"?k.value+=" ":_.children.push({type:"text",value:" "}),_.children.push(...M)}else h.push(...M);const I={type:"element",tagName:"li",properties:{id:t+"fn-"+T},children:e.wrap(h,!0)};e.patch(d,I),f.push(I)}if(f.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:l,properties:{...vu(u),id:"footnote-label"},children:[{type:"text",value:o}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:e.wrap(f,!0)},{type:"text",value:`
`}]}}const Lu=function(e){if(e==null)return c_;if(typeof e=="function")return Vu(e);if(typeof e=="object")return Array.isArray(e)?s_(e):l_(e);if(typeof e=="string")return u_(e);throw new Error("Expected function, string, or object as test")};function s_(e){const t=[];let n=-1;for(;++n<e.length;)t[n]=Lu(e[n]);return Vu(r);function r(...o){let l=-1;for(;++l<t.length;)if(t[l].apply(this,o))return!0;return!1}}function l_(e){const t=e;return Vu(n);function n(r){const o=r;let l;for(l in e)if(o[l]!==t[l])return!1;return!0}}function u_(e){return Vu(t);function t(n){return n&&n.type===e}}function Vu(e){return t;function t(n,r,o){return!!(f_(n)&&e.call(this,n,typeof r=="number"?r:void 0,o||void 0))}}function c_(){return!0}function f_(e){return e!==null&&typeof e=="object"&&"type"in e}const jb=[],d_=!0,Jd=!1,m_="skip";function Hb(e,t,n,r){let o;typeof t=="function"&&typeof n!="function"?(r=n,n=t):o=t;const l=Lu(o),u=r?-1:1;f(e,void 0,[])();function f(m,d,h){const y=m&&typeof m=="object"?m:{};if(typeof y.type=="string"){const S=typeof y.tagName=="string"?y.tagName:typeof y.name=="string"?y.name:void 0;Object.defineProperty(T,"name",{value:"node ("+(m.type+(S?"<"+S+">":""))+")"})}return T;function T(){let S=jb,M,E,_;if((!t||l(m,d,h[h.length-1]||void 0))&&(S=h_(n(m,h)),S[0]===Jd))return S;if("children"in m&&m.children){const I=m;if(I.children&&S[0]!==m_)for(E=(r?I.children.length:-1)+u,_=h.concat(I);E>-1&&E<I.children.length;){const k=I.children[E];if(M=f(k,E,_)(),M[0]===Jd)return M;E=typeof M[1]=="number"?M[1]:E+u}}return S}}}function h_(e){return Array.isArray(e)?e:typeof e=="number"?[d_,e]:e==null?jb:[e]}function Hm(e,t,n,r){let o,l,u;typeof t=="function"&&typeof n!="function"?(l=void 0,u=t,o=n):(l=t,u=n,o=r),Hb(e,l,f,o);function f(m,d){const h=d[d.length-1],y=h?h.children.indexOf(m):void 0;return u(m,y,h)}}const Zd={}.hasOwnProperty,p_={};function g_(e,t){const n=t||p_,r=new Map,o=new Map,l=new Map,u={...ZN,...n.handlers},f={all:d,applyData:x_,definitionById:r,footnoteById:o,footnoteCounts:l,footnoteOrder:[],handlers:u,one:m,options:n,patch:y_,wrap:b_};return Hm(e,function(h){if(h.type==="definition"||h.type==="footnoteDefinition"){const y=h.type==="definition"?r:o,T=String(h.identifier).toUpperCase();y.has(T)||y.set(T,h)}}),f;function m(h,y){const T=h.type,S=f.handlers[T];if(Zd.call(f.handlers,T)&&S)return S(f,h,y);if(f.options.passThrough&&f.options.passThrough.includes(T)){if("children"in h){const{children:E,..._}=h,I=vu(_);return I.children=f.all(h),I}return vu(h)}return(f.options.unknownHandler||v_)(f,h,y)}function d(h){const y=[];if("children"in h){const T=h.children;let S=-1;for(;++S<T.length;){const M=f.one(T[S],h);if(M){if(S&&T[S-1].type==="break"&&(!Array.isArray(M)&&M.type==="text"&&(M.value=tv(M.value)),!Array.isArray(M)&&M.type==="element")){const E=M.children[0];E&&E.type==="text"&&(E.value=tv(E.value))}Array.isArray(M)?y.push(...M):y.push(M)}}}return y}}function y_(e,t){e.position&&(t.position=ak(e))}function x_(e,t){let n=t;if(e&&e.data){const r=e.data.hName,o=e.data.hChildren,l=e.data.hProperties;if(typeof r=="string")if(n.type==="element")n.tagName=r;else{const u="children"in n?n.children:[n];n={type:"element",tagName:r,properties:{},children:u}}n.type==="element"&&l&&Object.assign(n.properties,vu(l)),"children"in n&&n.children&&o!==null&&o!==void 0&&(n.children=o)}return n}function v_(e,t){const n=t.data||{},r="value"in t&&!(Zd.call(n,"hProperties")||Zd.call(n,"hChildren"))?{type:"text",value:t.value}:{type:"element",tagName:"div",properties:{},children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function b_(e,t){const n=[];let r=-1;for(t&&n.push({type:"text",value:`
`});++r<e.length;)r&&n.push({type:"text",value:`
`}),n.push(e[r]);return t&&e.length>0&&n.push({type:"text",value:`
`}),n}function tv(e){let t=0,n=e.charCodeAt(t);for(;n===9||n===32;)t++,n=e.charCodeAt(t);return e.slice(t)}function nv(e,t){const n=g_(e,t),r=n.one(e,void 0),o=o_(n),l=Array.isArray(r)?{type:"root",children:r}:r||{type:"root",children:[]};return o&&l.children.push({type:"text",value:`
`},o),l}function T_(e,t){return e&&"run"in e?async function(n,r){const o=nv(n,{file:r,...t});await e.run(o,r)}:function(n,r){return nv(n,{file:r,...e||t})}}function iv(e){if(e)throw e}var ld,rv;function S_(){if(rv)return ld;rv=1;var e=Object.prototype.hasOwnProperty,t=Object.prototype.toString,n=Object.defineProperty,r=Object.getOwnPropertyDescriptor,o=function(d){return typeof Array.isArray=="function"?Array.isArray(d):t.call(d)==="[object Array]"},l=function(d){if(!d||t.call(d)!=="[object Object]")return!1;var h=e.call(d,"constructor"),y=d.constructor&&d.constructor.prototype&&e.call(d.constructor.prototype,"isPrototypeOf");if(d.constructor&&!h&&!y)return!1;var T;for(T in d);return typeof T>"u"||e.call(d,T)},u=function(d,h){n&&h.name==="__proto__"?n(d,h.name,{enumerable:!0,configurable:!0,value:h.newValue,writable:!0}):d[h.name]=h.newValue},f=function(d,h){if(h==="__proto__")if(e.call(d,h)){if(r)return r(d,h).value}else return;return d[h]};return ld=function m(){var d,h,y,T,S,M,E=arguments[0],_=1,I=arguments.length,k=!1;for(typeof E=="boolean"&&(k=E,E=arguments[1]||{},_=2),(E==null||typeof E!="object"&&typeof E!="function")&&(E={});_<I;++_)if(d=arguments[_],d!=null)for(h in d)y=f(E,h),T=f(d,h),E!==T&&(k&&T&&(l(T)||(S=o(T)))?(S?(S=!1,M=y&&o(y)?y:[]):M=y&&l(y)?y:{},u(E,{name:h,newValue:m(k,M,T)})):typeof T<"u"&&u(E,{name:h,newValue:T}));return E},ld}var C_=S_();const ud=Ts(C_);function em(e){if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function w_(){const e=[],t={run:n,use:r};return t;function n(...o){let l=-1;const u=o.pop();if(typeof u!="function")throw new TypeError("Expected function as last argument, not "+u);f(null,...o);function f(m,...d){const h=e[++l];let y=-1;if(m){u(m);return}for(;++y<o.length;)(d[y]===null||d[y]===void 0)&&(d[y]=o[y]);o=d,h?M_(h,f)(...d):u(null,...d)}}function r(o){if(typeof o!="function")throw new TypeError("Expected `middelware` to be a function, not "+o);return e.push(o),t}}function M_(e,t){let n;return r;function r(...u){const f=e.length>u.length;let m;f&&u.push(o);try{m=e.apply(this,u)}catch(d){const h=d;if(f&&n)throw h;return o(h)}f||(m&&m.then&&typeof m.then=="function"?m.then(l,o):m instanceof Error?o(m):l(m))}function o(u,...f){n||(n=!0,t(u,...f))}function l(u){o(null,u)}}const Jn={basename:E_,dirname:A_,extname:D_,join:I_,sep:"/"};function E_(e,t){if(t!==void 0&&typeof t!="string")throw new TypeError('"ext" argument must be a string');Ms(e);let n=0,r=-1,o=e.length,l;if(t===void 0||t.length===0||t.length>e.length){for(;o--;)if(e.codePointAt(o)===47){if(l){n=o+1;break}}else r<0&&(l=!0,r=o+1);return r<0?"":e.slice(n,r)}if(t===e)return"";let u=-1,f=t.length-1;for(;o--;)if(e.codePointAt(o)===47){if(l){n=o+1;break}}else u<0&&(l=!0,u=o+1),f>-1&&(e.codePointAt(o)===t.codePointAt(f--)?f<0&&(r=o):(f=-1,r=u));return n===r?r=u:r<0&&(r=e.length),e.slice(n,r)}function A_(e){if(Ms(e),e.length===0)return".";let t=-1,n=e.length,r;for(;--n;)if(e.codePointAt(n)===47){if(r){t=n;break}}else r||(r=!0);return t<0?e.codePointAt(0)===47?"/":".":t===1&&e.codePointAt(0)===47?"//":e.slice(0,t)}function D_(e){Ms(e);let t=e.length,n=-1,r=0,o=-1,l=0,u;for(;t--;){const f=e.codePointAt(t);if(f===47){if(u){r=t+1;break}continue}n<0&&(u=!0,n=t+1),f===46?o<0?o=t:l!==1&&(l=1):o>-1&&(l=-1)}return o<0||n<0||l===0||l===1&&o===n-1&&o===r+1?"":e.slice(o,n)}function I_(...e){let t=-1,n;for(;++t<e.length;)Ms(e[t]),e[t]&&(n=n===void 0?e[t]:n+"/"+e[t]);return n===void 0?".":k_(n)}function k_(e){Ms(e);const t=e.codePointAt(0)===47;let n=R_(e,!t);return n.length===0&&!t&&(n="."),n.length>0&&e.codePointAt(e.length-1)===47&&(n+="/"),t?"/"+n:n}function R_(e,t){let n="",r=0,o=-1,l=0,u=-1,f,m;for(;++u<=e.length;){if(u<e.length)f=e.codePointAt(u);else{if(f===47)break;f=47}if(f===47){if(!(o===u-1||l===1))if(o!==u-1&&l===2){if(n.length<2||r!==2||n.codePointAt(n.length-1)!==46||n.codePointAt(n.length-2)!==46){if(n.length>2){if(m=n.lastIndexOf("/"),m!==n.length-1){m<0?(n="",r=0):(n=n.slice(0,m),r=n.length-1-n.lastIndexOf("/")),o=u,l=0;continue}}else if(n.length>0){n="",r=0,o=u,l=0;continue}}t&&(n=n.length>0?n+"/..":"..",r=2)}else n.length>0?n+="/"+e.slice(o+1,u):n=e.slice(o+1,u),r=u-o-1;o=u,l=0}else f===46&&l>-1?l++:l=-1}return n}function Ms(e){if(typeof e!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}const N_={cwd:__};function __(){return"/"}function tm(e){return!!(e!==null&&typeof e=="object"&&"href"in e&&e.href&&"protocol"in e&&e.protocol&&e.auth===void 0)}function L_(e){if(typeof e=="string")e=new URL(e);else if(!tm(e)){const t=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+e+"`");throw t.code="ERR_INVALID_ARG_TYPE",t}if(e.protocol!=="file:"){const t=new TypeError("The URL must be of scheme file");throw t.code="ERR_INVALID_URL_SCHEME",t}return V_(e)}function V_(e){if(e.hostname!==""){const r=new TypeError('File URL host must be "localhost" or empty on darwin');throw r.code="ERR_INVALID_FILE_URL_HOST",r}const t=e.pathname;let n=-1;for(;++n<t.length;)if(t.codePointAt(n)===37&&t.codePointAt(n+1)===50){const r=t.codePointAt(n+2);if(r===70||r===102){const o=new TypeError("File URL path must not include encoded / characters");throw o.code="ERR_INVALID_FILE_URL_PATH",o}}return decodeURIComponent(t)}const cd=["history","path","basename","stem","extname","dirname"];class Ub{constructor(t){let n;t?tm(t)?n={path:t}:typeof t=="string"||P_(t)?n={value:t}:n=t:n={},this.cwd="cwd"in n?"":N_.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let r=-1;for(;++r<cd.length;){const l=cd[r];l in n&&n[l]!==void 0&&n[l]!==null&&(this[l]=l==="history"?[...n[l]]:n[l])}let o;for(o in n)cd.includes(o)||(this[o]=n[o])}get basename(){return typeof this.path=="string"?Jn.basename(this.path):void 0}set basename(t){dd(t,"basename"),fd(t,"basename"),this.path=Jn.join(this.dirname||"",t)}get dirname(){return typeof this.path=="string"?Jn.dirname(this.path):void 0}set dirname(t){av(this.basename,"dirname"),this.path=Jn.join(t||"",this.basename)}get extname(){return typeof this.path=="string"?Jn.extname(this.path):void 0}set extname(t){if(fd(t,"extname"),av(this.dirname,"extname"),t){if(t.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(t.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=Jn.join(this.dirname,this.stem+(t||""))}get path(){return this.history[this.history.length-1]}set path(t){tm(t)&&(t=L_(t)),dd(t,"path"),this.path!==t&&this.history.push(t)}get stem(){return typeof this.path=="string"?Jn.basename(this.path,this.extname):void 0}set stem(t){dd(t,"stem"),fd(t,"stem"),this.path=Jn.join(this.dirname||"",t+(this.extname||""))}fail(t,n,r){const o=this.message(t,n,r);throw o.fatal=!0,o}info(t,n,r){const o=this.message(t,n,r);return o.fatal=void 0,o}message(t,n,r){const o=new $t(t,n,r);return this.path&&(o.name=this.path+":"+o.name,o.file=this.path),o.fatal=!1,this.messages.push(o),o}toString(t){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(t||void 0).decode(this.value)}}function fd(e,t){if(e&&e.includes(Jn.sep))throw new Error("`"+t+"` cannot be a path: did not expect `"+Jn.sep+"`")}function dd(e,t){if(!e)throw new Error("`"+t+"` cannot be empty")}function av(e,t){if(!e)throw new Error("Setting `"+t+"` requires `path` to be set too")}function P_(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const B_=function(e){const r=this.constructor.prototype,o=r[e],l=function(){return o.apply(l,arguments)};return Object.setPrototypeOf(l,r),l},O_={}.hasOwnProperty;class Um extends B_{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=w_()}copy(){const t=new Um;let n=-1;for(;++n<this.attachers.length;){const r=this.attachers[n];t.use(...r)}return t.data(ud(!0,{},this.namespace)),t}data(t,n){return typeof t=="string"?arguments.length===2?(pd("data",this.frozen),this.namespace[t]=n,this):O_.call(this.namespace,t)&&this.namespace[t]||void 0:t?(pd("data",this.frozen),this.namespace=t,this):this.namespace}freeze(){if(this.frozen)return this;const t=this;for(;++this.freezeIndex<this.attachers.length;){const[n,...r]=this.attachers[this.freezeIndex];if(r[0]===!1)continue;r[0]===!0&&(r[0]=void 0);const o=n.call(t,...r);typeof o=="function"&&this.transformers.use(o)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(t){this.freeze();const n=Ql(t),r=this.parser||this.Parser;return md("parse",r),r(String(n),n)}process(t,n){const r=this;return this.freeze(),md("process",this.parser||this.Parser),hd("process",this.compiler||this.Compiler),n?o(void 0,n):new Promise(o);function o(l,u){const f=Ql(t),m=r.parse(f);r.run(m,f,function(h,y,T){if(h||!y||!T)return d(h);const S=y,M=r.stringify(S,T);j_(M)?T.value=M:T.result=M,d(h,T)});function d(h,y){h||!y?u(h):l?l(y):n(void 0,y)}}}processSync(t){let n=!1,r;return this.freeze(),md("processSync",this.parser||this.Parser),hd("processSync",this.compiler||this.Compiler),this.process(t,o),sv("processSync","process",n),r;function o(l,u){n=!0,iv(l),r=u}}run(t,n,r){ov(t),this.freeze();const o=this.transformers;return!r&&typeof n=="function"&&(r=n,n=void 0),r?l(void 0,r):new Promise(l);function l(u,f){const m=Ql(n);o.run(t,m,d);function d(h,y,T){const S=y||t;h?f(h):u?u(S):r(void 0,S,T)}}}runSync(t,n){let r=!1,o;return this.run(t,n,l),sv("runSync","run",r),o;function l(u,f){iv(u),o=f,r=!0}}stringify(t,n){this.freeze();const r=Ql(n),o=this.compiler||this.Compiler;return hd("stringify",o),ov(t),o(t,r)}use(t,...n){const r=this.attachers,o=this.namespace;if(pd("use",this.frozen),t!=null)if(typeof t=="function")m(t,n);else if(typeof t=="object")Array.isArray(t)?f(t):u(t);else throw new TypeError("Expected usable value, not `"+t+"`");return this;function l(d){if(typeof d=="function")m(d,[]);else if(typeof d=="object")if(Array.isArray(d)){const[h,...y]=d;m(h,y)}else u(d);else throw new TypeError("Expected usable value, not `"+d+"`")}function u(d){if(!("plugins"in d)&&!("settings"in d))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");f(d.plugins),d.settings&&(o.settings=ud(!0,o.settings,d.settings))}function f(d){let h=-1;if(d!=null)if(Array.isArray(d))for(;++h<d.length;){const y=d[h];l(y)}else throw new TypeError("Expected a list of plugins, not `"+d+"`")}function m(d,h){let y=-1,T=-1;for(;++y<r.length;)if(r[y][0]===d){T=y;break}if(T===-1)r.push([d,...h]);else if(h.length>0){let[S,...M]=h;const E=r[T][1];em(E)&&em(S)&&(S=ud(!0,E,S)),r[T]=[d,S,...M]}}}}const F_=new Um().freeze();function md(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `parser`")}function hd(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `compiler`")}function pd(e,t){if(t)throw new Error("Cannot call `"+e+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function ov(e){if(!em(e)||typeof e.type!="string")throw new TypeError("Expected node, got `"+e+"`")}function sv(e,t,n){if(!n)throw new Error("`"+e+"` finished async. Use `"+t+"` instead")}function Ql(e){return z_(e)?e:new Ub(e)}function z_(e){return!!(e&&typeof e=="object"&&"message"in e&&"messages"in e)}function j_(e){return typeof e=="string"||H_(e)}function H_(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const U_="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",lv=[],uv={allowDangerousHtml:!0},G_=/^(https?|ircs?|mailto|xmpp)$/i,q_=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"className",id:"remove-classname"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function nm(e){const t=Y_(e),n=$_(e);return K_(t.runSync(t.parse(n),n),e)}function Y_(e){const t=e.rehypePlugins||lv,n=e.remarkPlugins||lv,r=e.remarkRehypeOptions?{...e.remarkRehypeOptions,...uv}:uv;return F_().use(AN).use(n).use(T_,r).use(t)}function $_(e){const t=e.children||"",n=new Ub;return typeof t=="string"&&(n.value=t),n}function K_(e,t){const n=t.allowedElements,r=t.allowElement,o=t.components,l=t.disallowedElements,u=t.skipHtml,f=t.unwrapDisallowed,m=t.urlTransform||X_;for(const h of q_)Object.hasOwn(t,h.from)&&(""+h.from+(h.to?"use `"+h.to+"` instead":"remove it")+U_+h.id,void 0);return Hm(e,d),ck(e,{Fragment:g.Fragment,components:o,ignoreInvalidStyle:!0,jsx:g.jsx,jsxs:g.jsxs,passKeys:!0,passNode:!0});function d(h,y,T){if(h.type==="raw"&&T&&typeof y=="number")return u?T.children.splice(y,1):T.children[y]={type:"text",value:h.value},y;if(h.type==="element"){let S;for(S in ad)if(Object.hasOwn(ad,S)&&Object.hasOwn(h.properties,S)){const M=h.properties[S],E=ad[S];(E===null||E.includes(h.tagName))&&(h.properties[S]=m(String(M||""),S,h))}}if(h.type==="element"){let S=n?!n.includes(h.tagName):l?l.includes(h.tagName):!1;if(!S&&r&&typeof y=="number"&&(S=!r(h,y,T)),S&&T&&typeof y=="number")return f&&h.children?T.children.splice(y,1,...h.children):T.children.splice(y,1),y}}}function X_(e){const t=e.indexOf(":"),n=e.indexOf("?"),r=e.indexOf("#"),o=e.indexOf("/");return t===-1||o!==-1&&t>o||n!==-1&&t>n||r!==-1&&t>r||G_.test(e.slice(0,t))?e:""}function cv(e,t){const n=String(e);if(typeof t!="string")throw new TypeError("Expected character");let r=0,o=n.indexOf(t);for(;o!==-1;)r++,o=n.indexOf(t,o+t.length);return r}function W_(e){if(typeof e!="string")throw new TypeError("Expected a string");return e.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}function Q_(e,t,n){const o=Lu((n||{}).ignore||[]),l=J_(t);let u=-1;for(;++u<l.length;)Hb(e,"text",f);function f(d,h){let y=-1,T;for(;++y<h.length;){const S=h[y],M=T?T.children:void 0;if(o(S,M?M.indexOf(S):void 0,T))return;T=S}if(T)return m(d,h)}function m(d,h){const y=h[h.length-1],T=l[u][0],S=l[u][1];let M=0;const _=y.children.indexOf(d);let I=!1,k=[];T.lastIndex=0;let R=T.exec(d.value);for(;R;){const z=R.index,G={index:R.index,input:R.input,stack:[...h,d]};let H=S(...R,G);if(typeof H=="string"&&(H=H.length>0?{type:"text",value:H}:void 0),H===!1?T.lastIndex=z+1:(M!==z&&k.push({type:"text",value:d.value.slice(M,z)}),Array.isArray(H)?k.push(...H):H&&k.push(H),M=z+R[0].length,I=!0),!T.global)break;R=T.exec(d.value)}return I?(M<d.value.length&&k.push({type:"text",value:d.value.slice(M)}),y.children.splice(_,1,...k)):k=[d],_+k.length}}function J_(e){const t=[];if(!Array.isArray(e))throw new TypeError("Expected find and replace tuple or list of tuples");const n=!e[0]||Array.isArray(e[0])?e:[e];let r=-1;for(;++r<n.length;){const o=n[r];t.push([Z_(o[0]),eL(o[1])])}return t}function Z_(e){return typeof e=="string"?new RegExp(W_(e),"g"):e}function eL(e){return typeof e=="function"?e:function(){return e}}const gd="phrasing",yd=["autolink","link","image","label"];function tL(){return{transforms:[lL],enter:{literalAutolink:iL,literalAutolinkEmail:xd,literalAutolinkHttp:xd,literalAutolinkWww:xd},exit:{literalAutolink:sL,literalAutolinkEmail:oL,literalAutolinkHttp:rL,literalAutolinkWww:aL}}}function nL(){return{unsafe:[{character:"@",before:"[+\\-.\\w]",after:"[\\-.\\w]",inConstruct:gd,notInConstruct:yd},{character:".",before:"[Ww]",after:"[\\-.\\w]",inConstruct:gd,notInConstruct:yd},{character:":",before:"[ps]",after:"\\/",inConstruct:gd,notInConstruct:yd}]}}function iL(e){this.enter({type:"link",title:null,url:"",children:[]},e)}function xd(e){this.config.enter.autolinkProtocol.call(this,e)}function rL(e){this.config.exit.autolinkProtocol.call(this,e)}function aL(e){this.config.exit.data.call(this,e);const t=this.stack[this.stack.length-1];t.type,t.url="http://"+this.sliceSerialize(e)}function oL(e){this.config.exit.autolinkEmail.call(this,e)}function sL(e){this.exit(e)}function lL(e){Q_(e,[[/(https?:\/\/|www(?=\.))([-.\w]+)([^ \t\r\n]*)/gi,uL],[new RegExp("(?<=^|\\s|\\p{P}|\\p{S})([-.\\w+]+)@([-\\w]+(?:\\.[-\\w]+)+)","gu"),cL]],{ignore:["link","linkReference"]})}function uL(e,t,n,r,o){let l="";if(!Gb(o)||(/^w/i.test(t)&&(n=t+n,t="",l="http://"),!fL(n)))return!1;const u=dL(n+r);if(!u[0])return!1;const f={type:"link",title:null,url:l+t+u[0],children:[{type:"text",value:t+u[0]}]};return u[1]?[f,{type:"text",value:u[1]}]:f}function cL(e,t,n,r){return!Gb(r,!0)||/[-\d_]$/.test(n)?!1:{type:"link",title:null,url:"mailto:"+t+"@"+n,children:[{type:"text",value:t+"@"+n}]}}function fL(e){const t=e.split(".");return!(t.length<2||t[t.length-1]&&(/_/.test(t[t.length-1])||!/[a-zA-Z\d]/.test(t[t.length-1]))||t[t.length-2]&&(/_/.test(t[t.length-2])||!/[a-zA-Z\d]/.test(t[t.length-2])))}function dL(e){const t=/[!"&'),.:;<>?\]}]+$/.exec(e);if(!t)return[e,void 0];e=e.slice(0,t.index);let n=t[0],r=n.indexOf(")");const o=cv(e,"(");let l=cv(e,")");for(;r!==-1&&o>l;)e+=n.slice(0,r+1),n=n.slice(r+1),r=n.indexOf(")"),l++;return[e,n]}function Gb(e,t){const n=e.input.charCodeAt(e.index-1);return(e.index===0||Lr(n)||Ru(n))&&(!t||n!==47)}qb.peek=TL;function mL(){this.buffer()}function hL(e){this.enter({type:"footnoteReference",identifier:"",label:""},e)}function pL(){this.buffer()}function gL(e){this.enter({type:"footnoteDefinition",identifier:"",label:"",children:[]},e)}function yL(e){const t=this.resume(),n=this.stack[this.stack.length-1];n.type,n.identifier=jn(this.sliceSerialize(e)).toLowerCase(),n.label=t}function xL(e){this.exit(e)}function vL(e){const t=this.resume(),n=this.stack[this.stack.length-1];n.type,n.identifier=jn(this.sliceSerialize(e)).toLowerCase(),n.label=t}function bL(e){this.exit(e)}function TL(){return"["}function qb(e,t,n,r){const o=n.createTracker(r);let l=o.move("[^");const u=n.enter("footnoteReference"),f=n.enter("reference");return l+=o.move(n.safe(n.associationId(e),{after:"]",before:l})),f(),u(),l+=o.move("]"),l}function SL(){return{enter:{gfmFootnoteCallString:mL,gfmFootnoteCall:hL,gfmFootnoteDefinitionLabelString:pL,gfmFootnoteDefinition:gL},exit:{gfmFootnoteCallString:yL,gfmFootnoteCall:xL,gfmFootnoteDefinitionLabelString:vL,gfmFootnoteDefinition:bL}}}function CL(e){let t=!1;return e&&e.firstLineBlank&&(t=!0),{handlers:{footnoteDefinition:n,footnoteReference:qb},unsafe:[{character:"[",inConstruct:["label","phrasing","reference"]}]};function n(r,o,l,u){const f=l.createTracker(u);let m=f.move("[^");const d=l.enter("footnoteDefinition"),h=l.enter("label");return m+=f.move(l.safe(l.associationId(r),{before:m,after:"]"})),h(),m+=f.move("]:"),r.children&&r.children.length>0&&(f.shift(4),m+=f.move((t?`
`:" ")+l.indentLines(l.containerFlow(r,f.current()),t?Yb:wL))),d(),m}}function wL(e,t,n){return t===0?e:Yb(e,t,n)}function Yb(e,t,n){return(n?"":"    ")+e}const ML=["autolink","destinationLiteral","destinationRaw","reference","titleQuote","titleApostrophe"];$b.peek=kL;function EL(){return{canContainEols:["delete"],enter:{strikethrough:DL},exit:{strikethrough:IL}}}function AL(){return{unsafe:[{character:"~",inConstruct:"phrasing",notInConstruct:ML}],handlers:{delete:$b}}}function DL(e){this.enter({type:"delete",children:[]},e)}function IL(e){this.exit(e)}function $b(e,t,n,r){const o=n.createTracker(r),l=n.enter("strikethrough");let u=o.move("~~");return u+=n.containerPhrasing(e,{...o.current(),before:u,after:"~"}),u+=o.move("~~"),l(),u}function kL(){return"~"}function RL(e){return e.length}function NL(e,t){const n=t||{},r=(n.align||[]).concat(),o=n.stringLength||RL,l=[],u=[],f=[],m=[];let d=0,h=-1;for(;++h<e.length;){const E=[],_=[];let I=-1;for(e[h].length>d&&(d=e[h].length);++I<e[h].length;){const k=_L(e[h][I]);if(n.alignDelimiters!==!1){const R=o(k);_[I]=R,(m[I]===void 0||R>m[I])&&(m[I]=R)}E.push(k)}u[h]=E,f[h]=_}let y=-1;if(typeof r=="object"&&"length"in r)for(;++y<d;)l[y]=fv(r[y]);else{const E=fv(r);for(;++y<d;)l[y]=E}y=-1;const T=[],S=[];for(;++y<d;){const E=l[y];let _="",I="";E===99?(_=":",I=":"):E===108?_=":":E===114&&(I=":");let k=n.alignDelimiters===!1?1:Math.max(1,m[y]-_.length-I.length);const R=_+"-".repeat(k)+I;n.alignDelimiters!==!1&&(k=_.length+k+I.length,k>m[y]&&(m[y]=k),S[y]=k),T[y]=R}u.splice(1,0,T),f.splice(1,0,S),h=-1;const M=[];for(;++h<u.length;){const E=u[h],_=f[h];y=-1;const I=[];for(;++y<d;){const k=E[y]||"";let R="",z="";if(n.alignDelimiters!==!1){const G=m[y]-(_[y]||0),H=l[y];H===114?R=" ".repeat(G):H===99?G%2?(R=" ".repeat(G/2+.5),z=" ".repeat(G/2-.5)):(R=" ".repeat(G/2),z=R):z=" ".repeat(G)}n.delimiterStart!==!1&&!y&&I.push("|"),n.padding!==!1&&!(n.alignDelimiters===!1&&k==="")&&(n.delimiterStart!==!1||y)&&I.push(" "),n.alignDelimiters!==!1&&I.push(R),I.push(k),n.alignDelimiters!==!1&&I.push(z),n.padding!==!1&&I.push(" "),(n.delimiterEnd!==!1||y!==d-1)&&I.push("|")}M.push(n.delimiterEnd===!1?I.join("").replace(/ +$/,""):I.join(""))}return M.join(`
`)}function _L(e){return e==null?"":String(e)}function fv(e){const t=typeof e=="string"?e.codePointAt(0):0;return t===67||t===99?99:t===76||t===108?108:t===82||t===114?114:0}function LL(e,t,n,r){const o=n.enter("blockquote"),l=n.createTracker(r);l.move("> "),l.shift(2);const u=n.indentLines(n.containerFlow(e,l.current()),VL);return o(),u}function VL(e,t,n){return">"+(n?"":" ")+e}function PL(e,t){return dv(e,t.inConstruct,!0)&&!dv(e,t.notInConstruct,!1)}function dv(e,t,n){if(typeof t=="string"&&(t=[t]),!t||t.length===0)return n;let r=-1;for(;++r<t.length;)if(e.includes(t[r]))return!0;return!1}function mv(e,t,n,r){let o=-1;for(;++o<n.unsafe.length;)if(n.unsafe[o].character===`
`&&PL(n.stack,n.unsafe[o]))return/[ \t]/.test(r.before)?"":" ";return`\\
`}function BL(e,t){const n=String(e);let r=n.indexOf(t),o=r,l=0,u=0;if(typeof t!="string")throw new TypeError("Expected substring");for(;r!==-1;)r===o?++l>u&&(u=l):l=1,o=r+t.length,r=n.indexOf(t,o);return u}function OL(e,t){return!!(t.options.fences===!1&&e.value&&!e.lang&&/[^ \r\n]/.test(e.value)&&!/^[\t ]*(?:[\r\n]|$)|(?:^|[\r\n])[\t ]*$/.test(e.value))}function FL(e){const t=e.options.fence||"`";if(t!=="`"&&t!=="~")throw new Error("Cannot serialize code with `"+t+"` for `options.fence`, expected `` ` `` or `~`");return t}function zL(e,t,n,r){const o=FL(n),l=e.value||"",u=o==="`"?"GraveAccent":"Tilde";if(OL(e,n)){const y=n.enter("codeIndented"),T=n.indentLines(l,jL);return y(),T}const f=n.createTracker(r),m=o.repeat(Math.max(BL(l,o)+1,3)),d=n.enter("codeFenced");let h=f.move(m);if(e.lang){const y=n.enter(`codeFencedLang${u}`);h+=f.move(n.safe(e.lang,{before:h,after:" ",encode:["`"],...f.current()})),y()}if(e.lang&&e.meta){const y=n.enter(`codeFencedMeta${u}`);h+=f.move(" "),h+=f.move(n.safe(e.meta,{before:h,after:`
`,encode:["`"],...f.current()})),y()}return h+=f.move(`
`),l&&(h+=f.move(l+`
`)),h+=f.move(m),d(),h}function jL(e,t,n){return(n?"":"    ")+e}function Gm(e){const t=e.options.quote||'"';if(t!=='"'&&t!=="'")throw new Error("Cannot serialize title with `"+t+"` for `options.quote`, expected `\"`, or `'`");return t}function HL(e,t,n,r){const o=Gm(n),l=o==='"'?"Quote":"Apostrophe",u=n.enter("definition");let f=n.enter("label");const m=n.createTracker(r);let d=m.move("[");return d+=m.move(n.safe(n.associationId(e),{before:d,after:"]",...m.current()})),d+=m.move("]: "),f(),!e.url||/[\0- \u007F]/.test(e.url)?(f=n.enter("destinationLiteral"),d+=m.move("<"),d+=m.move(n.safe(e.url,{before:d,after:">",...m.current()})),d+=m.move(">")):(f=n.enter("destinationRaw"),d+=m.move(n.safe(e.url,{before:d,after:e.title?" ":`
`,...m.current()}))),f(),e.title&&(f=n.enter(`title${l}`),d+=m.move(" "+o),d+=m.move(n.safe(e.title,{before:d,after:o,...m.current()})),d+=m.move(o),f()),u(),d}function UL(e){const t=e.options.emphasis||"*";if(t!=="*"&&t!=="_")throw new Error("Cannot serialize emphasis with `"+t+"` for `options.emphasis`, expected `*`, or `_`");return t}function ms(e){return"&#x"+e.toString(16).toUpperCase()+";"}function bu(e,t,n){const r=_a(e),o=_a(t);return r===void 0?o===void 0?n==="_"?{inside:!0,outside:!0}:{inside:!1,outside:!1}:o===1?{inside:!0,outside:!0}:{inside:!1,outside:!0}:r===1?o===void 0?{inside:!1,outside:!1}:o===1?{inside:!0,outside:!0}:{inside:!1,outside:!1}:o===void 0?{inside:!1,outside:!1}:o===1?{inside:!0,outside:!1}:{inside:!1,outside:!1}}Kb.peek=GL;function Kb(e,t,n,r){const o=UL(n),l=n.enter("emphasis"),u=n.createTracker(r),f=u.move(o);let m=u.move(n.containerPhrasing(e,{after:o,before:f,...u.current()}));const d=m.charCodeAt(0),h=bu(r.before.charCodeAt(r.before.length-1),d,o);h.inside&&(m=ms(d)+m.slice(1));const y=m.charCodeAt(m.length-1),T=bu(r.after.charCodeAt(0),y,o);T.inside&&(m=m.slice(0,-1)+ms(y));const S=u.move(o);return l(),n.attentionEncodeSurroundingInfo={after:T.outside,before:h.outside},f+m+S}function GL(e,t,n){return n.options.emphasis||"*"}function qL(e,t){let n=!1;return Hm(e,function(r){if("value"in r&&/\r?\n|\r/.test(r.value)||r.type==="break")return n=!0,Jd}),!!((!e.depth||e.depth<3)&&Vm(e)&&(t.options.setext||n))}function YL(e,t,n,r){const o=Math.max(Math.min(6,e.depth||1),1),l=n.createTracker(r);if(qL(e,n)){const h=n.enter("headingSetext"),y=n.enter("phrasing"),T=n.containerPhrasing(e,{...l.current(),before:`
`,after:`
`});return y(),h(),T+`
`+(o===1?"=":"-").repeat(T.length-(Math.max(T.lastIndexOf("\r"),T.lastIndexOf(`
`))+1))}const u="#".repeat(o),f=n.enter("headingAtx"),m=n.enter("phrasing");l.move(u+" ");let d=n.containerPhrasing(e,{before:"# ",after:`
`,...l.current()});return/^[\t ]/.test(d)&&(d=ms(d.charCodeAt(0))+d.slice(1)),d=d?u+" "+d:u,n.options.closeAtx&&(d+=" "+u),m(),f(),d}Xb.peek=$L;function Xb(e){return e.value||""}function $L(){return"<"}Wb.peek=KL;function Wb(e,t,n,r){const o=Gm(n),l=o==='"'?"Quote":"Apostrophe",u=n.enter("image");let f=n.enter("label");const m=n.createTracker(r);let d=m.move("![");return d+=m.move(n.safe(e.alt,{before:d,after:"]",...m.current()})),d+=m.move("]("),f(),!e.url&&e.title||/[\0- \u007F]/.test(e.url)?(f=n.enter("destinationLiteral"),d+=m.move("<"),d+=m.move(n.safe(e.url,{before:d,after:">",...m.current()})),d+=m.move(">")):(f=n.enter("destinationRaw"),d+=m.move(n.safe(e.url,{before:d,after:e.title?" ":")",...m.current()}))),f(),e.title&&(f=n.enter(`title${l}`),d+=m.move(" "+o),d+=m.move(n.safe(e.title,{before:d,after:o,...m.current()})),d+=m.move(o),f()),d+=m.move(")"),u(),d}function KL(){return"!"}Qb.peek=XL;function Qb(e,t,n,r){const o=e.referenceType,l=n.enter("imageReference");let u=n.enter("label");const f=n.createTracker(r);let m=f.move("![");const d=n.safe(e.alt,{before:m,after:"]",...f.current()});m+=f.move(d+"]["),u();const h=n.stack;n.stack=[],u=n.enter("reference");const y=n.safe(n.associationId(e),{before:m,after:"]",...f.current()});return u(),n.stack=h,l(),o==="full"||!d||d!==y?m+=f.move(y+"]"):o==="shortcut"?m=m.slice(0,-1):m+=f.move("]"),m}function XL(){return"!"}Jb.peek=WL;function Jb(e,t,n){let r=e.value||"",o="`",l=-1;for(;new RegExp("(^|[^`])"+o+"([^`]|$)").test(r);)o+="`";for(/[^ \r\n]/.test(r)&&(/^[ \r\n]/.test(r)&&/[ \r\n]$/.test(r)||/^`|`$/.test(r))&&(r=" "+r+" ");++l<n.unsafe.length;){const u=n.unsafe[l],f=n.compilePattern(u);let m;if(u.atBreak)for(;m=f.exec(r);){let d=m.index;r.charCodeAt(d)===10&&r.charCodeAt(d-1)===13&&d--,r=r.slice(0,d)+" "+r.slice(m.index+1)}}return o+r+o}function WL(){return"`"}function Zb(e,t){const n=Vm(e);return!!(!t.options.resourceLink&&e.url&&!e.title&&e.children&&e.children.length===1&&e.children[0].type==="text"&&(n===e.url||"mailto:"+n===e.url)&&/^[a-z][a-z+.-]+:/i.test(e.url)&&!/[\0- <>\u007F]/.test(e.url))}eT.peek=QL;function eT(e,t,n,r){const o=Gm(n),l=o==='"'?"Quote":"Apostrophe",u=n.createTracker(r);let f,m;if(Zb(e,n)){const h=n.stack;n.stack=[],f=n.enter("autolink");let y=u.move("<");return y+=u.move(n.containerPhrasing(e,{before:y,after:">",...u.current()})),y+=u.move(">"),f(),n.stack=h,y}f=n.enter("link"),m=n.enter("label");let d=u.move("[");return d+=u.move(n.containerPhrasing(e,{before:d,after:"](",...u.current()})),d+=u.move("]("),m(),!e.url&&e.title||/[\0- \u007F]/.test(e.url)?(m=n.enter("destinationLiteral"),d+=u.move("<"),d+=u.move(n.safe(e.url,{before:d,after:">",...u.current()})),d+=u.move(">")):(m=n.enter("destinationRaw"),d+=u.move(n.safe(e.url,{before:d,after:e.title?" ":")",...u.current()}))),m(),e.title&&(m=n.enter(`title${l}`),d+=u.move(" "+o),d+=u.move(n.safe(e.title,{before:d,after:o,...u.current()})),d+=u.move(o),m()),d+=u.move(")"),f(),d}function QL(e,t,n){return Zb(e,n)?"<":"["}tT.peek=JL;function tT(e,t,n,r){const o=e.referenceType,l=n.enter("linkReference");let u=n.enter("label");const f=n.createTracker(r);let m=f.move("[");const d=n.containerPhrasing(e,{before:m,after:"]",...f.current()});m+=f.move(d+"]["),u();const h=n.stack;n.stack=[],u=n.enter("reference");const y=n.safe(n.associationId(e),{before:m,after:"]",...f.current()});return u(),n.stack=h,l(),o==="full"||!d||d!==y?m+=f.move(y+"]"):o==="shortcut"?m=m.slice(0,-1):m+=f.move("]"),m}function JL(){return"["}function qm(e){const t=e.options.bullet||"*";if(t!=="*"&&t!=="+"&&t!=="-")throw new Error("Cannot serialize items with `"+t+"` for `options.bullet`, expected `*`, `+`, or `-`");return t}function ZL(e){const t=qm(e),n=e.options.bulletOther;if(!n)return t==="*"?"-":"*";if(n!=="*"&&n!=="+"&&n!=="-")throw new Error("Cannot serialize items with `"+n+"` for `options.bulletOther`, expected `*`, `+`, or `-`");if(n===t)throw new Error("Expected `bullet` (`"+t+"`) and `bulletOther` (`"+n+"`) to be different");return n}function eV(e){const t=e.options.bulletOrdered||".";if(t!=="."&&t!==")")throw new Error("Cannot serialize items with `"+t+"` for `options.bulletOrdered`, expected `.` or `)`");return t}function nT(e){const t=e.options.rule||"*";if(t!=="*"&&t!=="-"&&t!=="_")throw new Error("Cannot serialize rules with `"+t+"` for `options.rule`, expected `*`, `-`, or `_`");return t}function tV(e,t,n,r){const o=n.enter("list"),l=n.bulletCurrent;let u=e.ordered?eV(n):qm(n);const f=e.ordered?u==="."?")":".":ZL(n);let m=t&&n.bulletLastUsed?u===n.bulletLastUsed:!1;if(!e.ordered){const h=e.children?e.children[0]:void 0;if((u==="*"||u==="-")&&h&&(!h.children||!h.children[0])&&n.stack[n.stack.length-1]==="list"&&n.stack[n.stack.length-2]==="listItem"&&n.stack[n.stack.length-3]==="list"&&n.stack[n.stack.length-4]==="listItem"&&n.indexStack[n.indexStack.length-1]===0&&n.indexStack[n.indexStack.length-2]===0&&n.indexStack[n.indexStack.length-3]===0&&(m=!0),nT(n)===u&&h){let y=-1;for(;++y<e.children.length;){const T=e.children[y];if(T&&T.type==="listItem"&&T.children&&T.children[0]&&T.children[0].type==="thematicBreak"){m=!0;break}}}}m&&(u=f),n.bulletCurrent=u;const d=n.containerFlow(e,r);return n.bulletLastUsed=u,n.bulletCurrent=l,o(),d}function nV(e){const t=e.options.listItemIndent||"one";if(t!=="tab"&&t!=="one"&&t!=="mixed")throw new Error("Cannot serialize items with `"+t+"` for `options.listItemIndent`, expected `tab`, `one`, or `mixed`");return t}function iV(e,t,n,r){const o=nV(n);let l=n.bulletCurrent||qm(n);t&&t.type==="list"&&t.ordered&&(l=(typeof t.start=="number"&&t.start>-1?t.start:1)+(n.options.incrementListMarker===!1?0:t.children.indexOf(e))+l);let u=l.length+1;(o==="tab"||o==="mixed"&&(t&&t.type==="list"&&t.spread||e.spread))&&(u=Math.ceil(u/4)*4);const f=n.createTracker(r);f.move(l+" ".repeat(u-l.length)),f.shift(u);const m=n.enter("listItem"),d=n.indentLines(n.containerFlow(e,f.current()),h);return m(),d;function h(y,T,S){return T?(S?"":" ".repeat(u))+y:(S?l:l+" ".repeat(u-l.length))+y}}function rV(e,t,n,r){const o=n.enter("paragraph"),l=n.enter("phrasing"),u=n.containerPhrasing(e,r);return l(),o(),u}const aV=Lu(["break","delete","emphasis","footnote","footnoteReference","image","imageReference","inlineCode","inlineMath","link","linkReference","mdxJsxTextElement","mdxTextExpression","strong","text","textDirective"]);function oV(e,t,n,r){return(e.children.some(function(u){return aV(u)})?n.containerPhrasing:n.containerFlow).call(n,e,r)}function sV(e){const t=e.options.strong||"*";if(t!=="*"&&t!=="_")throw new Error("Cannot serialize strong with `"+t+"` for `options.strong`, expected `*`, or `_`");return t}iT.peek=lV;function iT(e,t,n,r){const o=sV(n),l=n.enter("strong"),u=n.createTracker(r),f=u.move(o+o);let m=u.move(n.containerPhrasing(e,{after:o,before:f,...u.current()}));const d=m.charCodeAt(0),h=bu(r.before.charCodeAt(r.before.length-1),d,o);h.inside&&(m=ms(d)+m.slice(1));const y=m.charCodeAt(m.length-1),T=bu(r.after.charCodeAt(0),y,o);T.inside&&(m=m.slice(0,-1)+ms(y));const S=u.move(o+o);return l(),n.attentionEncodeSurroundingInfo={after:T.outside,before:h.outside},f+m+S}function lV(e,t,n){return n.options.strong||"*"}function uV(e,t,n,r){return n.safe(e.value,r)}function cV(e){const t=e.options.ruleRepetition||3;if(t<3)throw new Error("Cannot serialize rules with repetition `"+t+"` for `options.ruleRepetition`, expected `3` or more");return t}function fV(e,t,n){const r=(nT(n)+(n.options.ruleSpaces?" ":"")).repeat(cV(n));return n.options.ruleSpaces?r.slice(0,-1):r}const rT={blockquote:LL,break:mv,code:zL,definition:HL,emphasis:Kb,hardBreak:mv,heading:YL,html:Xb,image:Wb,imageReference:Qb,inlineCode:Jb,link:eT,linkReference:tT,list:tV,listItem:iV,paragraph:rV,root:oV,strong:iT,text:uV,thematicBreak:fV};function dV(){return{enter:{table:mV,tableData:hv,tableHeader:hv,tableRow:pV},exit:{codeText:gV,table:hV,tableData:vd,tableHeader:vd,tableRow:vd}}}function mV(e){const t=e._align;this.enter({type:"table",align:t.map(function(n){return n==="none"?null:n}),children:[]},e),this.data.inTable=!0}function hV(e){this.exit(e),this.data.inTable=void 0}function pV(e){this.enter({type:"tableRow",children:[]},e)}function vd(e){this.exit(e)}function hv(e){this.enter({type:"tableCell",children:[]},e)}function gV(e){let t=this.resume();this.data.inTable&&(t=t.replace(/\\([\\|])/g,yV));const n=this.stack[this.stack.length-1];n.type,n.value=t,this.exit(e)}function yV(e,t){return t==="|"?t:e}function xV(e){const t=e||{},n=t.tableCellPadding,r=t.tablePipeAlign,o=t.stringLength,l=n?" ":"|";return{unsafe:[{character:"\r",inConstruct:"tableCell"},{character:`
`,inConstruct:"tableCell"},{atBreak:!0,character:"|",after:"[	 :-]"},{character:"|",inConstruct:"tableCell"},{atBreak:!0,character:":",after:"-"},{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{inlineCode:T,table:u,tableCell:m,tableRow:f}};function u(S,M,E,_){return d(h(S,E,_),S.align)}function f(S,M,E,_){const I=y(S,E,_),k=d([I]);return k.slice(0,k.indexOf(`
`))}function m(S,M,E,_){const I=E.enter("tableCell"),k=E.enter("phrasing"),R=E.containerPhrasing(S,{..._,before:l,after:l});return k(),I(),R}function d(S,M){return NL(S,{align:M,alignDelimiters:r,padding:n,stringLength:o})}function h(S,M,E){const _=S.children;let I=-1;const k=[],R=M.enter("table");for(;++I<_.length;)k[I]=y(_[I],M,E);return R(),k}function y(S,M,E){const _=S.children;let I=-1;const k=[],R=M.enter("tableRow");for(;++I<_.length;)k[I]=m(_[I],S,M,E);return R(),k}function T(S,M,E){let _=rT.inlineCode(S,M,E);return E.stack.includes("tableCell")&&(_=_.replace(/\|/g,"\\$&")),_}}function vV(){return{exit:{taskListCheckValueChecked:pv,taskListCheckValueUnchecked:pv,paragraph:TV}}}function bV(){return{unsafe:[{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{listItem:SV}}}function pv(e){const t=this.stack[this.stack.length-2];t.type,t.checked=e.type==="taskListCheckValueChecked"}function TV(e){const t=this.stack[this.stack.length-2];if(t&&t.type==="listItem"&&typeof t.checked=="boolean"){const n=this.stack[this.stack.length-1];n.type;const r=n.children[0];if(r&&r.type==="text"){const o=t.children;let l=-1,u;for(;++l<o.length;){const f=o[l];if(f.type==="paragraph"){u=f;break}}u===n&&(r.value=r.value.slice(1),r.value.length===0?n.children.shift():n.position&&r.position&&typeof r.position.start.offset=="number"&&(r.position.start.column++,r.position.start.offset++,n.position.start=Object.assign({},r.position.start)))}}this.exit(e)}function SV(e,t,n,r){const o=e.children[0],l=typeof e.checked=="boolean"&&o&&o.type==="paragraph",u="["+(e.checked?"x":" ")+"] ",f=n.createTracker(r);l&&f.move(u);let m=rT.listItem(e,t,n,{...r,...f.current()});return l&&(m=m.replace(/^(?:[*+-]|\d+\.)([\r\n]| {1,3})/,d)),m;function d(h){return h+u}}function CV(){return[tL(),SL(),EL(),dV(),vV()]}function wV(e){return{extensions:[nL(),CL(e),AL(),xV(e),bV()]}}const MV={tokenize:RV,partial:!0},aT={tokenize:NV,partial:!0},oT={tokenize:_V,partial:!0},sT={tokenize:LV,partial:!0},EV={tokenize:VV,partial:!0},lT={name:"wwwAutolink",tokenize:IV,previous:cT},uT={name:"protocolAutolink",tokenize:kV,previous:fT},Ti={name:"emailAutolink",tokenize:DV,previous:dT},ni={};function AV(){return{text:ni}}let Mr=48;for(;Mr<123;)ni[Mr]=Ti,Mr++,Mr===58?Mr=65:Mr===91&&(Mr=97);ni[43]=Ti;ni[45]=Ti;ni[46]=Ti;ni[95]=Ti;ni[72]=[Ti,uT];ni[104]=[Ti,uT];ni[87]=[Ti,lT];ni[119]=[Ti,lT];function DV(e,t,n){const r=this;let o,l;return u;function u(y){return!im(y)||!dT.call(r,r.previous)||Ym(r.events)?n(y):(e.enter("literalAutolink"),e.enter("literalAutolinkEmail"),f(y))}function f(y){return im(y)?(e.consume(y),f):y===64?(e.consume(y),m):n(y)}function m(y){return y===46?e.check(EV,h,d)(y):y===45||y===95||qt(y)?(l=!0,e.consume(y),m):h(y)}function d(y){return e.consume(y),o=!0,m}function h(y){return l&&o&&Qt(r.previous)?(e.exit("literalAutolinkEmail"),e.exit("literalAutolink"),t(y)):n(y)}}function IV(e,t,n){const r=this;return o;function o(u){return u!==87&&u!==119||!cT.call(r,r.previous)||Ym(r.events)?n(u):(e.enter("literalAutolink"),e.enter("literalAutolinkWww"),e.check(MV,e.attempt(aT,e.attempt(oT,l),n),n)(u))}function l(u){return e.exit("literalAutolinkWww"),e.exit("literalAutolink"),t(u)}}function kV(e,t,n){const r=this;let o="",l=!1;return u;function u(y){return(y===72||y===104)&&fT.call(r,r.previous)&&!Ym(r.events)?(e.enter("literalAutolink"),e.enter("literalAutolinkHttp"),o+=String.fromCodePoint(y),e.consume(y),f):n(y)}function f(y){if(Qt(y)&&o.length<5)return o+=String.fromCodePoint(y),e.consume(y),f;if(y===58){const T=o.toLowerCase();if(T==="http"||T==="https")return e.consume(y),m}return n(y)}function m(y){return y===47?(e.consume(y),l?d:(l=!0,m)):n(y)}function d(y){return y===null||yu(y)||rt(y)||Lr(y)||Ru(y)?n(y):e.attempt(aT,e.attempt(oT,h),n)(y)}function h(y){return e.exit("literalAutolinkHttp"),e.exit("literalAutolink"),t(y)}}function RV(e,t,n){let r=0;return o;function o(u){return(u===87||u===119)&&r<3?(r++,e.consume(u),o):u===46&&r===3?(e.consume(u),l):n(u)}function l(u){return u===null?n(u):t(u)}}function NV(e,t,n){let r,o,l;return u;function u(d){return d===46||d===95?e.check(sT,m,f)(d):d===null||rt(d)||Lr(d)||d!==45&&Ru(d)?m(d):(l=!0,e.consume(d),u)}function f(d){return d===95?r=!0:(o=r,r=void 0),e.consume(d),u}function m(d){return o||r||!l?n(d):t(d)}}function _V(e,t){let n=0,r=0;return o;function o(u){return u===40?(n++,e.consume(u),o):u===41&&r<n?l(u):u===33||u===34||u===38||u===39||u===41||u===42||u===44||u===46||u===58||u===59||u===60||u===63||u===93||u===95||u===126?e.check(sT,t,l)(u):u===null||rt(u)||Lr(u)?t(u):(e.consume(u),o)}function l(u){return u===41&&r++,e.consume(u),o}}function LV(e,t,n){return r;function r(f){return f===33||f===34||f===39||f===41||f===42||f===44||f===46||f===58||f===59||f===63||f===95||f===126?(e.consume(f),r):f===38?(e.consume(f),l):f===93?(e.consume(f),o):f===60||f===null||rt(f)||Lr(f)?t(f):n(f)}function o(f){return f===null||f===40||f===91||rt(f)||Lr(f)?t(f):r(f)}function l(f){return Qt(f)?u(f):n(f)}function u(f){return f===59?(e.consume(f),r):Qt(f)?(e.consume(f),u):n(f)}}function VV(e,t,n){return r;function r(l){return e.consume(l),o}function o(l){return qt(l)?n(l):t(l)}}function cT(e){return e===null||e===40||e===42||e===95||e===91||e===93||e===126||rt(e)}function fT(e){return!Qt(e)}function dT(e){return!(e===47||im(e))}function im(e){return e===43||e===45||e===46||e===95||qt(e)}function Ym(e){let t=e.length,n=!1;for(;t--;){const r=e[t][1];if((r.type==="labelLink"||r.type==="labelImage")&&!r._balanced){n=!0;break}if(r._gfmAutolinkLiteralWalkedInto){n=!1;break}}return e.length>0&&!n&&(e[e.length-1][1]._gfmAutolinkLiteralWalkedInto=!0),n}const PV={tokenize:GV,partial:!0};function BV(){return{document:{91:{name:"gfmFootnoteDefinition",tokenize:jV,continuation:{tokenize:HV},exit:UV}},text:{91:{name:"gfmFootnoteCall",tokenize:zV},93:{name:"gfmPotentialFootnoteCall",add:"after",tokenize:OV,resolveTo:FV}}}}function OV(e,t,n){const r=this;let o=r.events.length;const l=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let u;for(;o--;){const m=r.events[o][1];if(m.type==="labelImage"){u=m;break}if(m.type==="gfmFootnoteCall"||m.type==="labelLink"||m.type==="label"||m.type==="image"||m.type==="link")break}return f;function f(m){if(!u||!u._balanced)return n(m);const d=jn(r.sliceSerialize({start:u.end,end:r.now()}));return d.codePointAt(0)!==94||!l.includes(d.slice(1))?n(m):(e.enter("gfmFootnoteCallLabelMarker"),e.consume(m),e.exit("gfmFootnoteCallLabelMarker"),t(m))}}function FV(e,t){let n=e.length;for(;n--;)if(e[n][1].type==="labelImage"&&e[n][0]==="enter"){e[n][1];break}e[n+1][1].type="data",e[n+3][1].type="gfmFootnoteCallLabelMarker";const r={type:"gfmFootnoteCall",start:Object.assign({},e[n+3][1].start),end:Object.assign({},e[e.length-1][1].end)},o={type:"gfmFootnoteCallMarker",start:Object.assign({},e[n+3][1].end),end:Object.assign({},e[n+3][1].end)};o.end.column++,o.end.offset++,o.end._bufferIndex++;const l={type:"gfmFootnoteCallString",start:Object.assign({},o.end),end:Object.assign({},e[e.length-1][1].start)},u={type:"chunkString",contentType:"string",start:Object.assign({},l.start),end:Object.assign({},l.end)},f=[e[n+1],e[n+2],["enter",r,t],e[n+3],e[n+4],["enter",o,t],["exit",o,t],["enter",l,t],["enter",u,t],["exit",u,t],["exit",l,t],e[e.length-2],e[e.length-1],["exit",r,t]];return e.splice(n,e.length-n+1,...f),e}function zV(e,t,n){const r=this,o=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let l=0,u;return f;function f(y){return e.enter("gfmFootnoteCall"),e.enter("gfmFootnoteCallLabelMarker"),e.consume(y),e.exit("gfmFootnoteCallLabelMarker"),m}function m(y){return y!==94?n(y):(e.enter("gfmFootnoteCallMarker"),e.consume(y),e.exit("gfmFootnoteCallMarker"),e.enter("gfmFootnoteCallString"),e.enter("chunkString").contentType="string",d)}function d(y){if(l>999||y===93&&!u||y===null||y===91||rt(y))return n(y);if(y===93){e.exit("chunkString");const T=e.exit("gfmFootnoteCallString");return o.includes(jn(r.sliceSerialize(T)))?(e.enter("gfmFootnoteCallLabelMarker"),e.consume(y),e.exit("gfmFootnoteCallLabelMarker"),e.exit("gfmFootnoteCall"),t):n(y)}return rt(y)||(u=!0),l++,e.consume(y),y===92?h:d}function h(y){return y===91||y===92||y===93?(e.consume(y),l++,d):d(y)}}function jV(e,t,n){const r=this,o=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let l,u=0,f;return m;function m(M){return e.enter("gfmFootnoteDefinition")._container=!0,e.enter("gfmFootnoteDefinitionLabel"),e.enter("gfmFootnoteDefinitionLabelMarker"),e.consume(M),e.exit("gfmFootnoteDefinitionLabelMarker"),d}function d(M){return M===94?(e.enter("gfmFootnoteDefinitionMarker"),e.consume(M),e.exit("gfmFootnoteDefinitionMarker"),e.enter("gfmFootnoteDefinitionLabelString"),e.enter("chunkString").contentType="string",h):n(M)}function h(M){if(u>999||M===93&&!f||M===null||M===91||rt(M))return n(M);if(M===93){e.exit("chunkString");const E=e.exit("gfmFootnoteDefinitionLabelString");return l=jn(r.sliceSerialize(E)),e.enter("gfmFootnoteDefinitionLabelMarker"),e.consume(M),e.exit("gfmFootnoteDefinitionLabelMarker"),e.exit("gfmFootnoteDefinitionLabel"),T}return rt(M)||(f=!0),u++,e.consume(M),M===92?y:h}function y(M){return M===91||M===92||M===93?(e.consume(M),u++,h):h(M)}function T(M){return M===58?(e.enter("definitionMarker"),e.consume(M),e.exit("definitionMarker"),o.includes(l)||o.push(l),Ge(e,S,"gfmFootnoteDefinitionWhitespace")):n(M)}function S(M){return t(M)}}function HV(e,t,n){return e.check(ws,t,e.attempt(PV,t,n))}function UV(e){e.exit("gfmFootnoteDefinition")}function GV(e,t,n){const r=this;return Ge(e,o,"gfmFootnoteDefinitionIndent",5);function o(l){const u=r.events[r.events.length-1];return u&&u[1].type==="gfmFootnoteDefinitionIndent"&&u[2].sliceSerialize(u[1],!0).length===4?t(l):n(l)}}function qV(e){let n=(e||{}).singleTilde;const r={name:"strikethrough",tokenize:l,resolveAll:o};return n==null&&(n=!0),{text:{126:r},insideSpan:{null:[r]},attentionMarkers:{null:[126]}};function o(u,f){let m=-1;for(;++m<u.length;)if(u[m][0]==="enter"&&u[m][1].type==="strikethroughSequenceTemporary"&&u[m][1]._close){let d=m;for(;d--;)if(u[d][0]==="exit"&&u[d][1].type==="strikethroughSequenceTemporary"&&u[d][1]._open&&u[m][1].end.offset-u[m][1].start.offset===u[d][1].end.offset-u[d][1].start.offset){u[m][1].type="strikethroughSequence",u[d][1].type="strikethroughSequence";const h={type:"strikethrough",start:Object.assign({},u[d][1].start),end:Object.assign({},u[m][1].end)},y={type:"strikethroughText",start:Object.assign({},u[d][1].end),end:Object.assign({},u[m][1].start)},T=[["enter",h,f],["enter",u[d][1],f],["exit",u[d][1],f],["enter",y,f]],S=f.parser.constructs.insideSpan.null;S&&yn(T,T.length,0,Nu(S,u.slice(d+1,m),f)),yn(T,T.length,0,[["exit",y,f],["enter",u[m][1],f],["exit",u[m][1],f],["exit",h,f]]),yn(u,d-1,m-d+3,T),m=d+T.length-2;break}}for(m=-1;++m<u.length;)u[m][1].type==="strikethroughSequenceTemporary"&&(u[m][1].type="data");return u}function l(u,f,m){const d=this.previous,h=this.events;let y=0;return T;function T(M){return d===126&&h[h.length-1][1].type!=="characterEscape"?m(M):(u.enter("strikethroughSequenceTemporary"),S(M))}function S(M){const E=_a(d);if(M===126)return y>1?m(M):(u.consume(M),y++,S);if(y<2&&!n)return m(M);const _=u.exit("strikethroughSequenceTemporary"),I=_a(M);return _._open=!I||I===2&&!!E,_._close=!E||E===2&&!!I,f(M)}}}class YV{constructor(){this.map=[]}add(t,n,r){$V(this,t,n,r)}consume(t){if(this.map.sort(function(l,u){return l[0]-u[0]}),this.map.length===0)return;let n=this.map.length;const r=[];for(;n>0;)n-=1,r.push(t.slice(this.map[n][0]+this.map[n][1]),this.map[n][2]),t.length=this.map[n][0];r.push(t.slice()),t.length=0;let o=r.pop();for(;o;){for(const l of o)t.push(l);o=r.pop()}this.map.length=0}}function $V(e,t,n,r){let o=0;if(!(n===0&&r.length===0)){for(;o<e.map.length;){if(e.map[o][0]===t){e.map[o][1]+=n,e.map[o][2].push(...r);return}o+=1}e.map.push([t,n,r])}}function KV(e,t){let n=!1;const r=[];for(;t<e.length;){const o=e[t];if(n){if(o[0]==="enter")o[1].type==="tableContent"&&r.push(e[t+1][1].type==="tableDelimiterMarker"?"left":"none");else if(o[1].type==="tableContent"){if(e[t-1][1].type==="tableDelimiterMarker"){const l=r.length-1;r[l]=r[l]==="left"?"center":"right"}}else if(o[1].type==="tableDelimiterRow")break}else o[0]==="enter"&&o[1].type==="tableDelimiterRow"&&(n=!0);t+=1}return r}function XV(){return{flow:{null:{name:"table",tokenize:WV,resolveAll:QV}}}}function WV(e,t,n){const r=this;let o=0,l=0,u;return f;function f(j){let fe=r.events.length-1;for(;fe>-1;){const le=r.events[fe][1].type;if(le==="lineEnding"||le==="linePrefix")fe--;else break}const Z=fe>-1?r.events[fe][1].type:null,he=Z==="tableHead"||Z==="tableRow"?H:m;return he===H&&r.parser.lazy[r.now().line]?n(j):he(j)}function m(j){return e.enter("tableHead"),e.enter("tableRow"),d(j)}function d(j){return j===124||(u=!0,l+=1),h(j)}function h(j){return j===null?n(j):we(j)?l>1?(l=0,r.interrupt=!0,e.exit("tableRow"),e.enter("lineEnding"),e.consume(j),e.exit("lineEnding"),S):n(j):ze(j)?Ge(e,h,"whitespace")(j):(l+=1,u&&(u=!1,o+=1),j===124?(e.enter("tableCellDivider"),e.consume(j),e.exit("tableCellDivider"),u=!0,h):(e.enter("data"),y(j)))}function y(j){return j===null||j===124||rt(j)?(e.exit("data"),h(j)):(e.consume(j),j===92?T:y)}function T(j){return j===92||j===124?(e.consume(j),y):y(j)}function S(j){return r.interrupt=!1,r.parser.lazy[r.now().line]?n(j):(e.enter("tableDelimiterRow"),u=!1,ze(j)?Ge(e,M,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(j):M(j))}function M(j){return j===45||j===58?_(j):j===124?(u=!0,e.enter("tableCellDivider"),e.consume(j),e.exit("tableCellDivider"),E):G(j)}function E(j){return ze(j)?Ge(e,_,"whitespace")(j):_(j)}function _(j){return j===58?(l+=1,u=!0,e.enter("tableDelimiterMarker"),e.consume(j),e.exit("tableDelimiterMarker"),I):j===45?(l+=1,I(j)):j===null||we(j)?z(j):G(j)}function I(j){return j===45?(e.enter("tableDelimiterFiller"),k(j)):G(j)}function k(j){return j===45?(e.consume(j),k):j===58?(u=!0,e.exit("tableDelimiterFiller"),e.enter("tableDelimiterMarker"),e.consume(j),e.exit("tableDelimiterMarker"),R):(e.exit("tableDelimiterFiller"),R(j))}function R(j){return ze(j)?Ge(e,z,"whitespace")(j):z(j)}function z(j){return j===124?M(j):j===null||we(j)?!u||o!==l?G(j):(e.exit("tableDelimiterRow"),e.exit("tableHead"),t(j)):G(j)}function G(j){return n(j)}function H(j){return e.enter("tableRow"),se(j)}function se(j){return j===124?(e.enter("tableCellDivider"),e.consume(j),e.exit("tableCellDivider"),se):j===null||we(j)?(e.exit("tableRow"),t(j)):ze(j)?Ge(e,se,"whitespace")(j):(e.enter("data"),oe(j))}function oe(j){return j===null||j===124||rt(j)?(e.exit("data"),se(j)):(e.consume(j),j===92?pe:oe)}function pe(j){return j===92||j===124?(e.consume(j),oe):oe(j)}}function QV(e,t){let n=-1,r=!0,o=0,l=[0,0,0,0],u=[0,0,0,0],f=!1,m=0,d,h,y;const T=new YV;for(;++n<e.length;){const S=e[n],M=S[1];S[0]==="enter"?M.type==="tableHead"?(f=!1,m!==0&&(gv(T,t,m,d,h),h=void 0,m=0),d={type:"table",start:Object.assign({},M.start),end:Object.assign({},M.end)},T.add(n,0,[["enter",d,t]])):M.type==="tableRow"||M.type==="tableDelimiterRow"?(r=!0,y=void 0,l=[0,0,0,0],u=[0,n+1,0,0],f&&(f=!1,h={type:"tableBody",start:Object.assign({},M.start),end:Object.assign({},M.end)},T.add(n,0,[["enter",h,t]])),o=M.type==="tableDelimiterRow"?2:h?3:1):o&&(M.type==="data"||M.type==="tableDelimiterMarker"||M.type==="tableDelimiterFiller")?(r=!1,u[2]===0&&(l[1]!==0&&(u[0]=u[1],y=Jl(T,t,l,o,void 0,y),l=[0,0,0,0]),u[2]=n)):M.type==="tableCellDivider"&&(r?r=!1:(l[1]!==0&&(u[0]=u[1],y=Jl(T,t,l,o,void 0,y)),l=u,u=[l[1],n,0,0])):M.type==="tableHead"?(f=!0,m=n):M.type==="tableRow"||M.type==="tableDelimiterRow"?(m=n,l[1]!==0?(u[0]=u[1],y=Jl(T,t,l,o,n,y)):u[1]!==0&&(y=Jl(T,t,u,o,n,y)),o=0):o&&(M.type==="data"||M.type==="tableDelimiterMarker"||M.type==="tableDelimiterFiller")&&(u[3]=n)}for(m!==0&&gv(T,t,m,d,h),T.consume(t.events),n=-1;++n<t.events.length;){const S=t.events[n];S[0]==="enter"&&S[1].type==="table"&&(S[1]._align=KV(t.events,n))}return e}function Jl(e,t,n,r,o,l){const u=r===1?"tableHeader":r===2?"tableDelimiter":"tableData",f="tableContent";n[0]!==0&&(l.end=Object.assign({},wa(t.events,n[0])),e.add(n[0],0,[["exit",l,t]]));const m=wa(t.events,n[1]);if(l={type:u,start:Object.assign({},m),end:Object.assign({},m)},e.add(n[1],0,[["enter",l,t]]),n[2]!==0){const d=wa(t.events,n[2]),h=wa(t.events,n[3]),y={type:f,start:Object.assign({},d),end:Object.assign({},h)};if(e.add(n[2],0,[["enter",y,t]]),r!==2){const T=t.events[n[2]],S=t.events[n[3]];if(T[1].end=Object.assign({},S[1].end),T[1].type="chunkText",T[1].contentType="text",n[3]>n[2]+1){const M=n[2]+1,E=n[3]-n[2]-1;e.add(M,E,[])}}e.add(n[3]+1,0,[["exit",y,t]])}return o!==void 0&&(l.end=Object.assign({},wa(t.events,o)),e.add(o,0,[["exit",l,t]]),l=void 0),l}function gv(e,t,n,r,o){const l=[],u=wa(t.events,n);o&&(o.end=Object.assign({},u),l.push(["exit",o,t])),r.end=Object.assign({},u),l.push(["exit",r,t]),e.add(n+1,0,l)}function wa(e,t){const n=e[t],r=n[0]==="enter"?"start":"end";return n[1][r]}const JV={name:"tasklistCheck",tokenize:eP};function ZV(){return{text:{91:JV}}}function eP(e,t,n){const r=this;return o;function o(m){return r.previous!==null||!r._gfmTasklistFirstContentOfListItem?n(m):(e.enter("taskListCheck"),e.enter("taskListCheckMarker"),e.consume(m),e.exit("taskListCheckMarker"),l)}function l(m){return rt(m)?(e.enter("taskListCheckValueUnchecked"),e.consume(m),e.exit("taskListCheckValueUnchecked"),u):m===88||m===120?(e.enter("taskListCheckValueChecked"),e.consume(m),e.exit("taskListCheckValueChecked"),u):n(m)}function u(m){return m===93?(e.enter("taskListCheckMarker"),e.consume(m),e.exit("taskListCheckMarker"),e.exit("taskListCheck"),f):n(m)}function f(m){return we(m)?t(m):ze(m)?e.check({tokenize:tP},t,n)(m):n(m)}}function tP(e,t,n){return Ge(e,r,"whitespace");function r(o){return o===null?n(o):t(o)}}function nP(e){return Cb([AV(),BV(),qV(e),XV(),ZV()])}const iP={};function rm(e){const t=this,n=e||iP,r=t.data(),o=r.micromarkExtensions||(r.micromarkExtensions=[]),l=r.fromMarkdownExtensions||(r.fromMarkdownExtensions=[]),u=r.toMarkdownExtensions||(r.toMarkdownExtensions=[]);o.push(nP(n)),l.push(CV()),u.push(wV(n))}const rP=async e=>{if(!e)return{success:!1,message:"No content to copy"};try{const t=`
      <div style="color: #000000; font-family: system-ui, -apple-system, sans-serif; line-height: 1.6; background: transparent;">
        ${e.split(`
`).map(r=>{if(r.startsWith("# "))return`<h1 style="color: #000000; font-size: 1.5rem; font-weight: bold; margin: 1.5rem 0 1rem 0;">${r.replace("# ","")}</h1>`;if(r.startsWith("## "))return`<h2 style="color: #000000; font-size: 1.25rem; font-weight: bold; margin: 1rem 0 0.5rem 0;">${r.replace("## ","")}</h2>`;if(r.startsWith("### "))return`<h3 style="color: #000000; font-size: 1.1rem; font-weight: bold; margin: 0.75rem 0 0.25rem 0;">${r.replace("### ","")}</h3>`;if(r.startsWith("#### "))return`<h4 style="color: #000000; font-size: 1rem; font-weight: bold; margin: 0.5rem 0 0.25rem 0;">${r.replace("#### ","")}</h4>`;if(r.startsWith("- **")){const o=r.match(/- \*\*(.*?)\*\*:\s*(.*)/);if(o)return`<p style="margin: 0.25rem 0; color: #000000;"><strong style="color: #000000;">${o[1]}:</strong> ${o[2]}</p>`}else{if(r.startsWith("- "))return`<p style="margin: 0.25rem 0; padding-left: 1rem; color: #000000;">• ${r.replace("- ","")}</p>`;if(r.match(/^\d+\./))return`<p style="margin: 0.25rem 0; padding-left: 1rem; color: #000000;">${r}</p>`;if(r.startsWith("**")&&r.endsWith("**"))return`<p style="margin: 0.5rem 0; color: #000000; font-weight: bold;">${r.replace(/\*\*/g,"")}</p>`;if(r.trim())return`<p style="margin: 0.5rem 0; color: #000000;">${r}</p>`}return"<br>"}).join("")}
      </div>
    `,n=e.split(`
`).map(r=>{if(r.startsWith("# "))return r.replace("# ","");if(r.startsWith("## "))return r.replace("## ","");if(r.startsWith("### "))return r.replace("### ","");if(r.startsWith("#### "))return r.replace("#### ","");if(r.startsWith("- **")){const o=r.match(/- \*\*(.*?)\*\*:\s*(.*)/);if(o)return`${o[1]}: ${o[2]}`}else{if(r.startsWith("- "))return`• ${r.replace("- ","")}`;if(r.startsWith("**")&&r.endsWith("**"))return r.replace(/\*\*/g,"")}return r}).join(`
`);if(navigator.clipboard&&navigator.clipboard.write){const r=new Blob([t],{type:"text/html"}),o=new Blob([n],{type:"text/plain"}),l=new ClipboardItem({"text/html":r,"text/plain":o});return await navigator.clipboard.write([l]),{success:!0,message:"Content copied (Rich Format)!"}}else return await navigator.clipboard.writeText(n),{success:!0,message:"Content copied (Plain Text)!"}}catch(t){return console.error("Failed to copy content:",t),{success:!1,message:"Failed to copy. Please try manually."}}},is=({content:e,onExportPDF:t,onCopy:n,className:r=""})=>{const[o,l]=ne.useState(""),u=async()=>{if(n){n();return}const m=await rP(e);l(m.message),setTimeout(()=>l(""),3e3)},f={h1:({children:m})=>g.jsx("h1",{className:"text-3xl font-bold text-purple-300 mb-6 border-b border-gray-600 pb-3",children:m}),h2:({children:m})=>g.jsx("h2",{className:"text-2xl font-semibold text-purple-200 mt-8 mb-4 border-l-4 border-purple-500 pl-4",children:m}),h3:({children:m})=>g.jsx("h3",{className:"text-xl font-semibold text-purple-100 mt-6 mb-3 flex items-center",children:m}),h4:({children:m})=>g.jsx("h4",{className:"text-lg font-medium text-gray-200 mt-4 mb-2",children:m}),p:({children:m})=>g.jsx("p",{className:"text-gray-300 mb-4 leading-relaxed",children:m}),ul:({children:m})=>g.jsx("ul",{className:"list-disc list-inside text-gray-300 mb-4 space-y-1 ml-4",children:m}),ol:({children:m})=>g.jsx("ol",{className:"list-decimal list-inside text-gray-300 mb-4 space-y-1 ml-4",children:m}),li:({children:m})=>g.jsx("li",{className:"text-gray-300 mb-1",children:m}),strong:({children:m})=>g.jsx("strong",{className:"font-semibold text-gray-100",children:m}),em:({children:m})=>g.jsx("em",{className:"italic text-gray-200",children:m}),code:({children:m,className:d})=>d?g.jsx("pre",{className:"bg-gray-800 border border-gray-600 rounded-lg p-4 overflow-x-auto mb-4",children:g.jsx("code",{className:"text-green-300 text-sm font-mono",children:m})}):g.jsx("code",{className:"bg-gray-700 text-purple-300 px-2 py-1 rounded text-sm font-mono",children:m}),blockquote:({children:m})=>g.jsx("blockquote",{className:"border-l-4 border-purple-500 bg-gray-800/50 pl-4 py-2 mb-4 italic text-gray-300",children:m}),table:({children:m})=>g.jsx("div",{className:"overflow-x-auto mb-6",children:g.jsx("table",{className:"min-w-full bg-gray-800 border border-gray-600 rounded-lg",children:m})}),thead:({children:m})=>g.jsx("thead",{className:"bg-gray-700",children:m}),tbody:({children:m})=>g.jsx("tbody",{className:"divide-y divide-gray-600",children:m}),tr:({children:m})=>g.jsx("tr",{className:"hover:bg-gray-700/50 transition-colors",children:m}),th:({children:m})=>g.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold text-purple-300 border-b border-gray-600",children:m}),td:({children:m})=>g.jsx("td",{className:"px-4 py-3 text-sm text-gray-300",children:m}),hr:()=>g.jsx("hr",{className:"border-gray-600 my-8"}),a:({href:m,children:d})=>g.jsx("a",{href:m,className:"text-purple-400 hover:text-purple-300 underline transition-colors",target:"_blank",rel:"noopener noreferrer",children:d})};return g.jsxs("div",{className:`markdown-content ${r}`,children:[g.jsxs("div",{className:"flex justify-end gap-2 mb-4 pb-4 border-b border-gray-700",children:[g.jsx(Pe,{onClick:u,variant:"outline",size:"sm",leftIcon:g.jsx(EI,{className:"w-4 h-4"}),children:"Copy Content"}),t&&g.jsx(Pe,{onClick:t,variant:"secondary",size:"sm",leftIcon:g.jsx(Ud,{className:"w-4 h-4"}),children:"Export PDF"})]}),o&&g.jsx("div",{className:`text-sm mb-4 p-2 rounded ${o.includes("Failed")?"text-red-400 bg-red-900/20":"text-green-400 bg-green-900/20"}`,children:o}),g.jsx("div",{className:"prose prose-invert max-w-none",children:g.jsx(nm,{components:f,remarkPlugins:[rm],children:e})})]})};function aP(e){return typeof e=="number"}function oP(e){return typeof e=="string"}function sP(e){return typeof e<"u"}function lP(e,t){return Math.pow(2,(e-69)/12)*440}var uP=/^([a-gA-G])(#{1,}|b{1,}|x{1,}|)(-?\d*)\s*(.*)\s*$/,cP=[0,2,4,5,7,9,11];function fP(e,t,n){if(typeof e!="string")return null;var r=uP.exec(e);if(!r||r[4])return null;var o={letter:r[1].toUpperCase(),acc:r[2].replace(/x/g,"##")};o.pc=o.letter+o.acc,o.step=(o.letter.charCodeAt(0)+3)%7,o.alt=o.acc[0]==="b"?-o.acc.length:o.acc.length;var l=cP[o.step]+o.alt;return o.chroma=l<0?12+l:l%12,r[3]&&(o.oct=+r[3],o.midi=l+12*(o.oct+1),o.freq=lP(o.midi)),o}function dP(e){if((aP(e)||oP(e))&&e>=0&&e<128)return+e;var t=fP(e);return t&&sP(t.midi)?t.midi:null}function mP(e){return Array.isArray(e)&&e.length===2?e[0]*7+e[1]*12+12:dP(e)}var hP="C Db D Eb E F Gb G Ab A Bb B".split(" "),pP="C C# D D# E F F# G G# A A# B".split(" ");function mT(e,t){if(e===!0||e===!1)return function(l){return mT(l,e)};e=Math.round(e);var n=t===!0?pP:hP,r=n[e%12],o=Math.floor(e/12)-1;return r+o}const gP=Object.freeze(Object.defineProperty({__proto__:null,note:mT,toMidi:mP},Symbol.toStringTag,{value:"Module"})),yP=rM(gP);var bd,yv;function xP(){if(yv)return bd;yv=1;var e=yP,t={VERSION:"2.1.4",HEADER_CHUNK_TYPE:[77,84,104,100],HEADER_CHUNK_LENGTH:[0,0,0,6],HEADER_CHUNK_FORMAT0:[0,0],HEADER_CHUNK_FORMAT1:[0,1],HEADER_CHUNK_DIVISION:[0,128],TRACK_CHUNK_TYPE:[77,84,114,107],META_EVENT_ID:255,META_TEXT_ID:1,META_COPYRIGHT_ID:2,META_TRACK_NAME_ID:3,META_INSTRUMENT_NAME_ID:4,META_LYRIC_ID:5,META_MARKER_ID:6,META_CUE_POINT:7,META_TEMPO_ID:81,META_SMTPE_OFFSET:84,META_TIME_SIGNATURE_ID:88,META_KEY_SIGNATURE_ID:89,META_END_OF_TRACK_ID:[47,0],CONTROLLER_CHANGE_STATUS:176,PITCH_BEND_STATUS:224};function n(B){"@babel/helpers - typeof";return n=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(N){return typeof N}:function(N){return N&&typeof Symbol=="function"&&N.constructor===Symbol&&N!==Symbol.prototype?"symbol":typeof N},n(B)}function r(){r=function(P,Y){return new L(P,void 0,Y)};var B=RegExp.prototype,N=new WeakMap;function L(P,Y,D){var J=new RegExp(P,Y);return N.set(J,D||N.get(P)),m(J,L.prototype)}function C(P,Y){var D=N.get(Y);return Object.keys(D).reduce(function(J,O){return J[O]=P[D[O]],J},Object.create(null))}return f(L,RegExp),L.prototype.exec=function(P){var Y=B.exec.call(this,P);return Y&&(Y.groups=C(Y,this)),Y},L.prototype[Symbol.replace]=function(P,Y){if(typeof Y=="string"){var D=N.get(this);return B[Symbol.replace].call(this,P,Y.replace(/\$<([^>]+)>/g,function(O,re){return"$"+D[re]}))}if(typeof Y=="function"){var J=this;return B[Symbol.replace].call(this,P,function(){var O=arguments;return typeof O[O.length-1]!="object"&&(O=[].slice.call(O)).push(C(O,J)),Y.apply(this,O)})}return B[Symbol.replace].call(this,P,Y)},r.apply(this,arguments)}function o(B,N){if(!(B instanceof N))throw new TypeError("Cannot call a class as a function")}function l(B,N){for(var L=0;L<N.length;L++){var C=N[L];C.enumerable=C.enumerable||!1,C.configurable=!0,"value"in C&&(C.writable=!0),Object.defineProperty(B,C.key,C)}}function u(B,N,L){return N&&l(B.prototype,N),L&&l(B,L),Object.defineProperty(B,"prototype",{writable:!1}),B}function f(B,N){if(typeof N!="function"&&N!==null)throw new TypeError("Super expression must either be null or a function");B.prototype=Object.create(N&&N.prototype,{constructor:{value:B,writable:!0,configurable:!0}}),Object.defineProperty(B,"prototype",{writable:!1}),N&&m(B,N)}function m(B,N){return m=Object.setPrototypeOf||function(C,P){return C.__proto__=P,C},m(B,N)}var d=function(){function B(){o(this,B)}return u(B,null,[{key:"version",value:function(){return t.VERSION}},{key:"stringToBytes",value:function(L){return L.split("").map(function(C){return C.charCodeAt()})}},{key:"isNumeric",value:function(L){return!isNaN(parseFloat(L))&&isFinite(L)}},{key:"getPitch",value:function(L){var C=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"C4";return 60-e.toMidi(C)+e.toMidi(L)}},{key:"numberToVariableLength",value:function(L){L=Math.round(L);for(var C=L&127;L=L>>7;)C<<=8,C|=L&127|128;for(var P=[];P.push(C&255),C&128;)C>>=8;return P}},{key:"stringByteCount",value:function(L){return encodeURI(L).split(/%..|./).length-1}},{key:"numberFromBytes",value:function(L){var C="",P;return L.forEach(function(Y){P=Y.toString(16),P.length==1&&(P="0"+P),C+=P}),parseInt(C,16)}},{key:"numberToBytes",value:function(L,C){C=C||1;var P=L.toString(16);P.length&1&&(P="0"+P);var Y=P.match(/.{2}/g);if(Y=Y.map(function(D){return parseInt(D,16)}),Y.length<C)for(;C-Y.length>0;)Y.unshift(0);return Y}},{key:"toArray",value:function(L){return Array.isArray(L)?L:[L]}},{key:"convertVelocity",value:function(L){return L=L>100?100:L,Math.round(L/100*127)}},{key:"getTickDuration",value:function(L){if(Array.isArray(L))return L.map(function(D){return B.getTickDuration(D)}).reduce(function(D,J){return D+J},0);if(L=L.toString(),L.toLowerCase().charAt(0)==="t"){var C=parseInt(L.substring(1));if(isNaN(C)||C<0)throw new Error(L+" is not a valid duration.");return C}var P=B.numberFromBytes(t.HEADER_CHUNK_DIVISION),Y=P*B.getDurationMultiplier(L);return B.getRoundedIfClose(Y)}},{key:"getRoundedIfClose",value:function(L){var C=Math.round(L);return Math.abs(C-L)<1e-6?C:L}},{key:"getPrecisionLoss",value:function(L){var C=Math.round(L);return C-L}},{key:"getDurationMultiplier",value:function(L){if(L==="0")return 0;var C=L.match(r(/^(d+)?(\d+)(?:t(\d*))?/,{dotted:1,base:2,tuplet:3}));if(C){var P=Number(C.groups.base),Y=P===1||(P&P-1)===0;if(Y){var D=P/4,J=1/D,O=C.groups,re=O.dotted,ye=O.tuplet;if(re){var de=re.length,Ce=Math.pow(2,de);J=J+J*((Ce-1)/Ce)}if(typeof ye=="string"){var Te=J*2,De=Number(ye||"3");J=Te/De}return J}}throw new Error(L+" is not a valid duration.")}}]),B}(),h=u(function B(N){o(this,B),N=Object.assign({delta:0},N),this.type="controller",this.data=d.numberToVariableLength(N.delta).concat(t.CONTROLLER_CHANGE_STATUS,N.controllerNumber,N.controllerValue)}),y=u(function B(N){o(this,B),N=Object.assign({delta:0},N),this.type="cue-point";var L=d.stringToBytes(N.text);this.data=d.numberToVariableLength(N.delta).concat(t.META_EVENT_ID,t.META_CUE_POINT,d.numberToVariableLength(L.length),L)}),T=u(function B(N){o(this,B),N=Object.assign({delta:0},N),this.type="end-track",this.data=d.numberToVariableLength(N.delta).concat(t.META_EVENT_ID,t.META_END_OF_TRACK_ID)}),S=u(function B(N){o(this,B),N=Object.assign({delta:0},N),this.type="instrument-name";var L=d.stringToBytes(N.text);this.data=d.numberToVariableLength(N.delta).concat(t.META_EVENT_ID,t.META_INSTRUMENT_NAME_ID,d.numberToVariableLength(L.length),L)}),M=u(function B(N,L){o(this,B),this.type="key-signature";var C=L||0;if(N=N||0,typeof L>"u"){var P=[["Cb","Gb","Db","Ab","Eb","Bb","F","C","G","D","A","E","B","F#","C#"],["ab","eb","bb","f","c","g","d","a","e","b","f#","c#","g#","d#","a#"]],Y=N.length,D=N||"C";if(N[0]===N[0].toLowerCase()&&(C=1),Y>1)switch(N.charAt(Y-1)){case"m":C=1,D=N.charAt(0).toLowerCase(),D=D.concat(N.substring(1,Y-1));break;case"-":C=1,D=N.charAt(0).toLowerCase(),D=D.concat(N.substring(1,Y-1));break;case"M":C=0,D=N.charAt(0).toUpperCase(),D=D.concat(N.substring(1,Y-1));break;case"+":C=0,D=N.charAt(0).toUpperCase(),D=D.concat(N.substring(1,Y-1));break}var J=P[C].indexOf(D);N=J===-1?0:J-7}this.data=d.numberToVariableLength(0).concat(t.META_EVENT_ID,t.META_KEY_SIGNATURE_ID,[2],d.numberToBytes(N,1),d.numberToBytes(C,1))}),E=u(function B(N){o(this,B),N=Object.assign({delta:0},N),this.type="lyric";var L=d.stringToBytes(N.text);this.data=d.numberToVariableLength(N.delta).concat(t.META_EVENT_ID,t.META_LYRIC_ID,d.numberToVariableLength(L.length),L)}),_=u(function B(N){o(this,B),N=Object.assign({delta:0},N),this.type="marker";var L=d.stringToBytes(N.text);this.data=d.numberToVariableLength(N.delta).concat(t.META_EVENT_ID,t.META_MARKER_ID,d.numberToVariableLength(L.length),L)}),I=function(){function B(N){o(this,B),N=Object.assign({channel:1,startTick:null,velocity:50,wait:0},N),this.type="note-on",this.channel=N.channel,this.pitch=N.pitch,this.wait=N.wait,this.velocity=N.velocity,this.startTick=N.startTick,this.tick=null,this.delta=null,this.data=N.data}return u(B,[{key:"buildData",value:function(L,C){var P=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this.data=[],this.startTick?(this.tick=d.getRoundedIfClose(this.startTick),L.tickPointer==0&&(this.delta=this.tick)):(this.delta=d.getTickDuration(this.wait),this.tick=d.getRoundedIfClose(L.tickPointer+this.delta)),this.deltaWithPrecisionCorrection=d.getRoundedIfClose(this.delta-C),this.data=d.numberToVariableLength(this.deltaWithPrecisionCorrection).concat(this.getStatusByte(),d.getPitch(this.pitch,P.middleC),d.convertVelocity(this.velocity)),this}},{key:"getStatusByte",value:function(){return 144+this.channel-1}}]),B}(),k=function(){function B(N){o(this,B),N=Object.assign({channel:1,velocity:50,tick:null},N),this.type="note-off",this.channel=N.channel,this.pitch=N.pitch,this.duration=N.duration,this.velocity=N.velocity,this.tick=N.tick,this.delta=d.getTickDuration(this.duration),this.data=N.data}return u(B,[{key:"buildData",value:function(L,C){var P=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this.tick===null&&(this.tick=d.getRoundedIfClose(this.delta+L.tickPointer)),this.deltaWithPrecisionCorrection=d.getRoundedIfClose(this.delta-C),this.data=d.numberToVariableLength(this.deltaWithPrecisionCorrection).concat(this.getStatusByte(),d.getPitch(this.pitch,P.middleC),d.convertVelocity(this.velocity)),this}},{key:"getStatusByte",value:function(){return 128+this.channel-1}}]),B}(),R=function(){function B(N){o(this,B),N=Object.assign({channel:1,repeat:1,sequential:!1,startTick:null,velocity:50,wait:0},N),this.data=[],this.type="note",this.pitch=d.toArray(N.pitch),this.channel=N.channel,this.duration=N.duration,this.grace=N.grace,this.repeat=N.repeat,this.sequential=N.sequential,this.startTick=N.startTick,this.velocity=N.velocity,this.wait=N.wait,this.tickDuration=d.getTickDuration(this.duration),this.restDuration=d.getTickDuration(this.wait),this.events=[]}return u(B,[{key:"buildData",value:function(){var L=this;if(this.data=[],this.grace){var C=1;this.grace=d.toArray(this.grace),this.grace.forEach(function(){var D=new B({pitch:L.grace,duration:"T"+C});L.data=L.data.concat(D.data)})}if(this.sequential)for(var Y=0;Y<this.repeat;Y++)this.pitch.forEach(function(D,J){var O=new I({channel:L.channel,wait:J>0?0:L.wait,velocity:L.velocity,pitch:D,startTick:L.startTick}),re=new k({channel:L.channel,duration:L.duration,velocity:L.velocity,pitch:D});L.events.push(O,re)});else for(var P=0;P<this.repeat;P++)this.pitch.forEach(function(D,J){var O;J==0?O=new I({channel:L.channel,wait:L.wait,velocity:L.velocity,pitch:D,startTick:L.startTick}):O=new I({channel:L.channel,wait:0,velocity:L.velocity,pitch:D,startTick:L.startTick}),L.events.push(O)}),this.pitch.forEach(function(D,J){var O;J==0?O=new k({channel:L.channel,duration:L.duration,velocity:L.velocity,pitch:D,tick:L.startTick!==null?d.getTickDuration(L.duration)+L.startTick:null}):O=new k({channel:L.channel,duration:0,velocity:L.velocity,pitch:D,tick:L.startTick!==null?d.getTickDuration(L.duration)+L.startTick:null}),L.events.push(O)});return this}}]),B}(),z=function(N){return N<=0?Math.floor(16384*(N+1)/2):Math.floor(16383*(N+1)/2)},G=u(function B(N){o(this,B),N=Object.assign({delta:0},N),this.type="pitch-bend";var L=z(N.bend),C=N.channel||0,P=L&127,Y=L>>7&127;this.data=d.numberToVariableLength(N.delta).concat(t.PITCH_BEND_STATUS|C,P,Y)}),H=function(){function B(N){o(this,B),this.fields=Object.assign({channel:1,delta:0},N),this.type="program",this.data=d.numberToVariableLength(this.fields.delta).concat(this.getStatusByte(),this.fields.instrument)}return u(B,[{key:"getStatusByte",value:function(){return 192+this.fields.channel-1}}]),B}(),se=u(function B(N){o(this,B),N=Object.assign({delta:0},N),this.type="tempo",this.tick=N.tick;var L=Math.round(6e7/N.bpm);this.data=d.numberToVariableLength(N.delta).concat(t.META_EVENT_ID,t.META_TEMPO_ID,[3],d.numberToBytes(L,3))}),oe=u(function B(N){o(this,B),N=Object.assign({delta:0},N),this.type="text";var L=d.stringToBytes(N.text);this.data=d.numberToVariableLength(N.delta).concat(t.META_EVENT_ID,t.META_TEXT_ID,d.numberToVariableLength(L.length),L)}),pe=u(function B(N,L,C,P){o(this,B),this.type="time-signature",this.data=d.numberToVariableLength(0).concat(t.META_EVENT_ID,t.META_TIME_SIGNATURE_ID,[4],d.numberToBytes(N,1),d.numberToBytes(Math.log2(L),1),d.numberToBytes(C||24,1),d.numberToBytes(P||8,1))}),j=u(function B(N){o(this,B),N=Object.assign({delta:0},N),this.type="copyright";var L=d.stringToBytes(N.text);this.data=d.numberToVariableLength(N.delta).concat(t.META_EVENT_ID,t.META_COPYRIGHT_ID,d.numberToVariableLength(L.length),L)}),fe=u(function B(N){o(this,B),N=Object.assign({delta:0},N),this.type="track-name";var L=d.stringToBytes(N.text);this.data=d.numberToVariableLength(N.delta).concat(t.META_EVENT_ID,t.META_TRACK_NAME_ID,d.numberToVariableLength(L.length),L)}),Z=function(){function B(){o(this,B),this.type=t.TRACK_CHUNK_TYPE,this.data=[],this.size=[],this.events=[],this.explicitTickEvents=[],this.tickPointer=0}return u(B,[{key:"addEvent",value:function(L,C){var P=this;return d.toArray(L).forEach(function(Y,D){if(Y instanceof R){if(typeof C=="function"){var J=C(D,Y);if(n(J)==="object")for(var O in J)switch(O){case"channel":Y.channel=J[O];break;case"duration":Y.duration=J[O];break;case"sequential":Y.sequential=J[O];break;case"velocity":Y.velocity=d.convertVelocity(J[O]);break}}Y.startTick!==null?P.explicitTickEvents.push(Y):Y.buildData().events.forEach(function(re){return P.events.push(re)})}else Y instanceof T&&P.removeEventsByType("end-track"),P.events.push(Y)}),this}},{key:"buildData",value:function(){var L=this,C=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};(!this.events.length||!(this.events[this.events.length-1]instanceof T))&&this.addEvent(new T),this.data=[],this.size=[],this.tickPointer=0;var P=0;return this.events.forEach(function(Y){if(Y instanceof I||Y instanceof k){var D=Y.buildData(L,P,C);P=d.getPrecisionLoss(Y.deltaWithPrecisionCorrection||0),L.data=L.data.concat(D.data),L.tickPointer=d.getRoundedIfClose(Y.tick)}else Y instanceof se&&(L.tickPointer=d.getRoundedIfClose(Y.tick)),L.data=L.data.concat(Y.data)}),this.mergeExplicitTickEvents(),this.size=d.numberToBytes(this.data.length,4),this}},{key:"mergeExplicitTickEvents",value:function(){var L=this;this.explicitTickEvents.length&&(this.explicitTickEvents.sort(function(C,P){return C.startTick-P.startTick}),this.explicitTickEvents.forEach(function(C){C.buildData().events.forEach(function(P){return P.buildData(L)}),C.events.forEach(function(P){return L.mergeSingleEvent(P)})}),this.explicitTickEvents=[],this.buildData())}},{key:"mergeTrack",value:function(L){var C=this;this.buildData(),L.buildData().events.forEach(function(P){return C.mergeSingleEvent(P)})}},{key:"mergeSingleEvent",value:function(L){if(!this.events.length){this.addEvent(L);return}for(var C,P=0;P<this.events.length&&!(this.events[P].tick>L.tick);P++)C=P;var Y=C+1;L.delta=L.tick-this.events[C].tick,this.events.splice(Y,0,L);for(var D=Y+1;D<this.events.length;D++)this.events[D].delta=this.events[D].tick-this.events[D-1].tick}},{key:"removeEventsByType",value:function(L){var C=this;return this.events.forEach(function(P,Y){P.type===L&&C.events.splice(Y,1)}),this}},{key:"setTempo",value:function(L){var C=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return this.addEvent(new se({bpm:L,tick:C}))}},{key:"setTimeSignature",value:function(L,C,P,Y){return this.addEvent(new pe(L,C,P,Y))}},{key:"setKeySignature",value:function(L,C){return this.addEvent(new M(L,C))}},{key:"addText",value:function(L){return this.addEvent(new oe({text:L}))}},{key:"addCopyright",value:function(L){return this.addEvent(new j({text:L}))}},{key:"addTrackName",value:function(L){return this.addEvent(new fe({text:L}))}},{key:"addInstrumentName",value:function(L){return this.addEvent(new S({text:L}))}},{key:"addMarker",value:function(L){return this.addEvent(new _({text:L}))}},{key:"addCuePoint",value:function(L){return this.addEvent(new y({text:L}))}},{key:"addLyric",value:function(L){return this.addEvent(new E({text:L}))}},{key:"polyModeOn",value:function(){var L=new I({data:[0,176,126,0]});return this.addEvent(L)}},{key:"setPitchBend",value:function(L){return this.addEvent(new G({bend:L}))}},{key:"controllerChange",value:function(L,C){return this.addEvent(new h({controllerNumber:L,controllerValue:C}))}}]),B}(),he=function(){function B(){o(this,B)}return u(B,[{key:"trackFromVoice",value:function(L){var C=this,P=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{addRenderedAccidentals:!1},Y=new Z,D=[];return L.tickables.forEach(function(J){J.noteType==="n"?(Y.addEvent(new R({pitch:J.keys.map(function(O,re){return C.convertPitch(O,re,J,P.addRenderedAccidentals)}),duration:C.convertDuration(J),wait:D})),D=[]):J.noteType==="r"&&D.push(C.convertDuration(J))}),D.length>0&&Y.addEvent(new R({pitch:"[c4]",duration:"0",wait:D,velocity:"0"})),Y}},{key:"convertPitch",value:function(L,C,P){var Y=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1,D=L.split("/"),J=D[0].substring(1).replace("n","");if(Y){var O;(O=P.getAccidentals())===null||O===void 0||O.forEach(function(re){re.index===C&&(re.type==="n"?J="":J+=re.type)})}return D[0][0]+J+D[1]}},{key:"convertDuration",value:function(L){return"d".repeat(L.dots)+this.convertBaseDuration(L.duration)+(L.tuplet?"t"+L.tuplet.num_notes:"")}},{key:"convertBaseDuration",value:function(L){switch(L){case"w":return"1";case"h":return"2";case"q":return"4";default:return L}}}]),B}(),le=u(function B(N){o(this,B),this.type=t.HEADER_CHUNK_TYPE;var L=N>1?t.HEADER_CHUNK_FORMAT1:t.HEADER_CHUNK_FORMAT0;this.data=L.concat(d.numberToBytes(N,2),t.HEADER_CHUNK_DIVISION),this.size=[0,0,0,this.data.length]}),ce=function(){function B(N){var L=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};o(this,B),this.tracks=d.toArray(N),this.options=L}return u(B,[{key:"buildData",value:function(){var L=this,C=[];return C.push(new le(this.tracks.length)),this.tracks.forEach(function(P){C.push(P.buildData(L.options))}),C}},{key:"buildFile",value:function(){var L=[];return this.buildData().forEach(function(C){return L=L.concat(C.type,C.size,C.data)}),new Uint8Array(L)}},{key:"base64",value:function(){return typeof btoa=="function"?btoa(String.fromCharCode.apply(null,this.buildFile())):Buffer.from(this.buildFile()).toString("base64")}},{key:"dataUri",value:function(){return"data:audio/midi;base64,"+this.base64()}},{key:"setOption",value:function(L,C){return this.options[L]=C,this}},{key:"stdout",value:function(){return process.stdout.write(Buffer.from(this.buildFile()))}}]),B}(),q={Constants:t,ControllerChangeEvent:h,CuePointEvent:y,EndTrackEvent:T,InstrumentNameEvent:S,KeySignatureEvent:M,LyricEvent:E,MarkerEvent:_,NoteOnEvent:I,NoteOffEvent:k,NoteEvent:R,PitchBendEvent:G,ProgramChangeEvent:H,TempoEvent:se,TextEvent:oe,TimeSignatureEvent:pe,Track:Z,TrackNameEvent:fe,Utils:d,VexFlow:he,Writer:ce};return bd=q,bd}var vP=xP();const zn=Ts(vP),Zl=e=>{if(!zn.Track)return null;const t=new zn.Track;return t.addTrackName(e),t},Td=(e,t,n,r=!1)=>{!zn.NoteEvent||!t||t.length===0||!e||t.forEach(o=>{let l=[];if(r)l=o.notes.map(f=>f.midi).filter(f=>typeof f=="number");else{const u=o;typeof u.midi=="number"&&(l=[u.midi])}if(l.length>0){const u=Math.round(o.duration*128),f=Math.round(o.time*128),m=l.map(d=>{const h=["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"],y=Math.floor(d/12)-1;return`${h[d%12]}${y}`});e.addEvent(new zn.NoteEvent({pitch:m.length===1?m[0]:m,duration:`T${u}`,startTick:f,velocity:o.velocity||(r?90:100),channel:n}))}})},bP=(e,t)=>{!zn.NoteEvent||!t||Object.keys(t).length===0||!e||Object.entries(t).forEach(([n,r])=>{const o=n.toLowerCase().replace(/\s+/g,"_"),l=Ea[o]||Ea[n];typeof l!="number"||!r||r.forEach(u=>{const f=Math.round(u.duration*128),m=Math.round(u.time*128),d=["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"],h=Math.floor(l/12)-1,T=`${d[l%12]}${h}`;e.addEvent(new zn.NoteEvent({pitch:T,duration:`T${f}`,startTick:m,velocity:u.velocity||100,channel:10}))})})},xv=(e,t,n="TrackGuide")=>{if(console.log("🎼 Generating MIDI file with patterns:",e),console.log("🎼 Settings:",t),console.log("🎼 Track name prefix:",n),!zn||!zn.Writer||!zn.Track||!zn.NoteEvent)return console.error("MidiWriterJS components (Writer, Track, NoteEvent) are not loaded. Cannot generate MIDI file."),null;const r=[];let o=!1;const l=f=>(f&&(f.setTempo(t.tempo,0),f.setTimeSignature(t.timeSignature[0],t.timeSignature[1])),f);if(e.chords&&e.chords.length>0){let f=Zl(`${n} Chords`);f=l(f),f&&(Td(f,e.chords,1,!0),r.push(f),o=!0)}if(e.bassline&&e.bassline.length>0){let f=Zl(`${n} Bassline`);f=l(f),f&&(Td(f,e.bassline,2,!1),r.push(f),o=!0)}if(e.melody&&e.melody.length>0){let f=Zl(`${n} Melody`);f=l(f),f&&(Td(f,e.melody,3,!1),r.push(f),o=!0)}if(e.drums&&Object.keys(e.drums).length>0){let f=Zl(`${n} Drums`);f=l(f),f&&(bP(f,e.drums),r.push(f),o=!0)}return o?new zn.Writer(r).dataUri():(console.warn("No patterns to write to MIDI file."),null)},vv=(e,t)=>{if(console.log("💾 Downloading MIDI file:",t),console.log("💾 Data URI length:",e.length),console.log("💾 Data URI starts with:",e.substring(0,50)),!e){console.error("MIDI data URI is null or empty. Cannot download."),alert("Failed to generate MIDI data for download.");return}const n=document.createElement("a");n.href=e,n.download=t,document.body.appendChild(n),n.click(),document.body.removeChild(n),console.log("💾 Download triggered successfully")};let Ki=null,Qi=[],Tu=null,uu=null,Su=0,rs=0,Ma=!1;const $m=()=>((!Ki||Ki.state==="closed")&&(Ki=new(window.AudioContext||window.webkitAudioContext),Tu=Ki.createGain(),Tu.connect(Ki.destination)),Ki.state==="suspended"&&Ki.resume(),Ki),Dr=(e,t)=>{const n=e/t*60;return Number.isFinite(n)?n:(console.error("🚨 beatsToSeconds produced non-finite result:",n,"beats:",e,"tempo:",t),0)},Sd=(e,t,n,r=100,o=!1,l,u)=>{const f=$m();if(!Tu||!u)return;if(!Number.isFinite(e)||!Number.isFinite(t)||!Number.isFinite(n)||!Number.isFinite(r)){console.error("🚨 Invalid note values detected:",{noteNumber:e,startTimeInLoopSeconds:t,durationSeconds:n,velocity:r,trackType:u,isDrum:o,drumTypeKey:l});return}const m=Su+rs*hT()+t;if(m<f.currentTime-.05)return;const d=f.createGain(),h=r/127*(o?.75:.35);let y=h;if((!Number.isFinite(y)||y<0)&&(console.error("🚨 Invalid gain value detected:",y,"for velocity:",r),y=.1),d.gain.setValueAtTime(y,m),y>1e-4)try{d.gain.exponentialRampToValueAtTime(1e-4,m+n)}catch{d.gain.linearRampToValueAtTime(1e-4,m+n)}d.connect(Tu);let T;if(o){const S=l||"";if(console.log(`🥁 Synthesizing drum: "${S}" (MIDI: ${e})`),S.includes("kick")||S.includes("bass_drum")||e===36){const M=f.createOscillator();M.type="sine",M.frequency.setValueAtTime(150,m),M.frequency.exponentialRampToValueAtTime(50,m+Math.min(n,.12));const E=f.createGain();E.gain.setValueAtTime(1,m),E.gain.exponentialRampToValueAtTime(.001,m+n),M.connect(E).connect(d),M.start(m),M.stop(m+n),Qi.push({node:M,controlGainNode:d,trackType:u,intendedVolume:h,scheduledStopTime:m+n,isDrum:!0});return}else if(S.includes("snare")||e===38){T=f.createBufferSource();const M=Math.max(1,Math.floor(f.sampleRate*n)),E=f.createBuffer(1,M,f.sampleRate),_=E.getChannelData(0);for(let I=0;I<M;I++)_[I]=(Math.random()*2-1)*Math.exp(-I/(f.sampleRate*.05));T.buffer=E}else if(S.includes("clap")||S.includes("hand_clap")||e===39){T=f.createBufferSource();const M=Math.max(1,Math.floor(f.sampleRate*n)),E=f.createBuffer(1,M,f.sampleRate),_=E.getChannelData(0);for(let I=0;I<M;I++){const k=Math.exp(-I/(f.sampleRate*.03)),R=Math.random()*2-1,z=Math.sin(I*.01)>.5?1:.3;_[I]=R*k*z}T.buffer=E}else if(S.includes("hat")||S.includes("hihat")||e===42||e===46){T=f.createBufferSource();const M=Math.max(1,Math.floor(f.sampleRate*n)),E=f.createBuffer(1,M,f.sampleRate),_=E.getChannelData(0),I=5e3,R=S.includes("open")||e===46?.15:.03;for(let z=0;z<M;z++)_[z]=(Math.random()*2-1)*Math.exp(-z/(f.sampleRate*R))*Math.sin(2*Math.PI*I*(z/f.sampleRate)*(1+Math.random()*.3));T.buffer=E}else if(S.includes("crash")||S.includes("cymbal")||e===49){T=f.createBufferSource();const M=Math.max(1,Math.floor(f.sampleRate*n)),E=f.createBuffer(1,M,f.sampleRate),_=E.getChannelData(0),I=4e3,k=.25;for(let R=0;R<M;R++){const z=Math.exp(-R/(f.sampleRate*k)),G=Math.sin(2*Math.PI*I*(R/f.sampleRate)),H=Math.sin(2*Math.PI*I*1.5*(R/f.sampleRate)),se=(Math.random()*2-1)*.3;_[R]=(G+H*.7+se)*z}T.buffer=E}else if(S.includes("ride")||e===51){T=f.createBufferSource();const M=Math.max(1,Math.floor(f.sampleRate*n)),E=f.createBuffer(1,M,f.sampleRate),_=E.getChannelData(0),I=3e3,k=.15;for(let R=0;R<M;R++){const z=Math.exp(-R/(f.sampleRate*k)),G=Math.sin(2*Math.PI*I*(R/f.sampleRate)),H=Math.sin(2*Math.PI*I*2.5*(R/f.sampleRate))*.3;_[R]=(G+H)*z}T.buffer=E}else if(S.includes("tom")||e===41||e===47||e===50){const M=f.createOscillator();M.type="sine";let E=200;S.includes("high")||e===50?E=300:S.includes("mid")||e===47?E=200:(S.includes("low")||e===41)&&(E=120),M.frequency.setValueAtTime(E,m),M.frequency.exponentialRampToValueAtTime(E*.5,m+n*.8);const _=f.createGain();_.gain.setValueAtTime(.9,m),_.gain.exponentialRampToValueAtTime(.001,m+n),M.connect(_).connect(d),M.start(m),M.stop(m+n),Qi.push({node:M,controlGainNode:d,trackType:u,intendedVolume:h,scheduledStopTime:m+n,isDrum:!0});return}else if(S.includes("shaker")||S.includes("tambourine")||S.includes("cowbell")||e===70||e===54||e===56){T=f.createBufferSource();const M=Math.max(1,Math.floor(f.sampleRate*n)),E=f.createBuffer(1,M,f.sampleRate),_=E.getChannelData(0),I=S.includes("cowbell")?800:6e3,k=.1;for(let R=0;R<M;R++){const z=Math.exp(-R/(f.sampleRate*k));S.includes("cowbell")?_[R]=Math.sin(2*Math.PI*I*(R/f.sampleRate))*z:_[R]=(Math.random()*2-1)*z}T.buffer=E}else{console.log(`🥁 Using generic percussion for: "${S}" (MIDI: ${e})`),T=f.createBufferSource();const M=Math.max(1,Math.floor(f.sampleRate*n)),E=f.createBuffer(1,M,f.sampleRate),_=E.getChannelData(0);for(let I=0;I<M;I++)_[I]=(Math.random()*2-1)*Math.exp(-I/(f.sampleRate*.1));T.buffer=E}}else{T=f.createOscillator(),T.type="sawtooth";const S=440*Math.pow(2,(e-69)/12);if(!Number.isFinite(S)||S<=0){console.error("🚨 Invalid frequency calculated:",S,"for note number:",e);return}T.frequency.setValueAtTime(S,m)}T.connect(d),T.start(m),T.stop(m+n),Qi.push({node:T,controlGainNode:d,trackType:u,intendedVolume:h,scheduledStopTime:m+n,isDrum:o})};let am=null;const hT=()=>{if(!am)throw new Error("Settings not available for loop duration calculation.");const{tempo:e,bars:t,timeSignature:n}=am,r=n[0]*(4/n[1]);return Dr(t*r,e)},bv=(e,t,n)=>{console.log("🎵 Starting playback with patterns:",e),console.log("🎵 Settings:",t),console.log("🎵 Track to play:",n),pT(!1),Ma=!0,rs=0,am={...t};const r=$m();Su=r.currentTime,Qi=[];const o=hT();if(console.log("🎵 Loop duration:",o,"seconds"),o<=0){console.error("Loop duration is zero or negative. Cannot play."),Ma=!1;return}function l(){if(!Ma)return;const u=r.currentTime;Qi=Qi.filter(h=>h.scheduledStopTime>u||!h.node);const f=t.tempo,m=(h,y)=>{if(!y){console.log(`🎵 No data for track: ${h}`);return}console.log(`🎵 Scheduling track: ${h}`,y),h==="drums"&&typeof y=="object"&&!Array.isArray(y)?Object.entries(y).forEach(([T,S])=>{let M,E;if(console.log(`🥁 Processing drum element: "${T}"`),M=Ea[T],E=T,!M){const _=T.toLowerCase().replace(/\s+/g,"_");M=Ea[_],E=_}if(!M){const _={kick_drum:{midi:"kick",key:"kick"},bass_drum:{midi:"kick",key:"kick"},acoustic_bass_drum:{midi:"kick",key:"kick"},snare_drum:{midi:"snare",key:"snare"},acoustic_snare:{midi:"snare",key:"snare"},hi_hat_closed:{midi:"hihat_closed",key:"hihat_closed"},hi_hat_open:{midi:"open_hihat",key:"open_hihat"},hihat_open:{midi:"open_hihat",key:"open_hihat"},closed_hi_hat:{midi:"hihat_closed",key:"hihat_closed"},open_hi_hat:{midi:"open_hihat",key:"open_hihat"},crash_cymbal:{midi:"crash_cymbal_1",key:"crash_cymbal_1"},crash:{midi:"crash",key:"crash_cymbal_1"},ride_cymbal:{midi:"ride_cymbal_1",key:"ride_cymbal_1"},ride:{midi:"ride",key:"ride_cymbal_1"},hand_clap:{midi:"clap",key:"clap"},handclap:{midi:"clap",key:"clap"},tom_hi:{midi:"tom_high",key:"tom_high"},tom_lo:{midi:"tom_low",key:"tom_low"},high_tom:{midi:"tom_high",key:"tom_high"},mid_tom:{midi:"tom_mid",key:"tom_mid"},low_tom:{midi:"tom_low",key:"tom_low"},low_floor_tom:{midi:"tom_low",key:"tom_low"},high_floor_tom:{midi:"tom_high",key:"tom_high"}},I=T.toLowerCase().replace(/\s+/g,"_"),k=_[I];k&&(M=Ea[k.midi],E=k.key)}if(console.log(`🥁 Final mapping: "${T}" -> "${E}" -> MIDI: ${M}`),typeof M!="number"||!S){console.warn(`🚨 No MIDI mapping found for drum element: "${T}"`),console.warn("🚨 Available drum mappings:",Object.keys(Ea));return}S.forEach(_=>{console.log(`🥁 Scheduling ${E} hit:`,_),Sd(M,Dr(_.time,f),Dr(_.duration,f),_.velocity,!0,E,h)})}):Array.isArray(y)&&y.forEach((T,S)=>{if(console.log(`🎹 Processing ${h} event ${S}:`,T),"notes"in T)T.notes.forEach((E,_)=>{console.log(`🎹 Chord note ${_}:`,E),typeof E.midi=="number"?Sd(E.midi,Dr(T.time,f),Dr(T.duration,f),T.velocity,!1,void 0,h):console.warn("🚨 Invalid MIDI number in chord note:",E)});else{const E=T;console.log("🎹 Single note:",E),typeof E.midi=="number"?Sd(E.midi,Dr(T.time,f),Dr(T.duration,f),T.velocity,!1,void 0,h):console.warn("🚨 Invalid MIDI number in note:",E)}})};if((n?[n]:["chords","bassline","melody","drums"]).forEach(h=>{switch(h){case"chords":e.chords&&m("chords",e.chords);break;case"bassline":e.bassline&&m("bassline",e.bassline);break;case"melody":e.melody&&m("melody",e.melody);break;case"drums":e.drums&&m("drums",e.drums);break}}),Ma){const h=Su+(rs+1)*o;let y=(h-r.currentTime)*1e3;y<0&&(console.warn(`Loop drift detected. Next loop scheduled with minimal delay. Ideal: ${h}, Current: ${r.currentTime}`),y=10),uu=window.setTimeout(()=>{Ma&&(rs++,l())},y)}}l()},Fn=()=>{Ma=!1,pT(!0)},pT=e=>{uu!==null&&(clearTimeout(uu),uu=null),Qi.forEach(t=>{try{t.node&&(t.node.stop(),t.node.disconnect()),t.controlGainNode&&t.controlGainNode.disconnect()}catch{}}),Qi=[],e&&(rs=0,Su=0)},Xo=async()=>{try{const e=$m();e.state==="suspended"&&await e.resume()}catch(e){console.error("Failed to initialize audio context:",e)}},TP=async e=>new Promise((t,n)=>{const r=new FileReader;r.onload=()=>{if(r.result&&typeof r.result=="string"){const o=r.result.split(","),l=o[1],u=o[0].match(/data:(.*);base64/),f=u?u[1]:e.type||"audio/mpeg";t({base64:l,mimeType:f})}else n(new Error("Failed to read file"))},r.onerror=()=>n(new Error("File reading failed")),r.readAsDataURL(e)}),SP={kick:"Kick",snare:"Snare",hihat:"Hi-Hat",hihat_open:"Hi-Hat Open",hihat_closed:"Hi-Hat Closed",crash:"Crash",ride:"Ride",tom:"Tom",tom_high:"High Tom",tom_mid:"Mid Tom",tom_low:"Low Tom",clap:"Clap",shaker:"Shaker",tambourine:"Tambourine",cowbell:"Cowbell",rim:"Rimshot"},Er=e=>{if(!e)return"General musical context. Focus on genre and vibe.";const t=e.indexOf("## 3. Instrument & Sound Design Guide"),n=t>0?t:e.indexOf("## 2. Structural Blueprint")>0?e.indexOf("## 2. Structural Blueprint"):1500;return e.substring(0,Math.min(n,e.length))},CP=e=>{const t=e.match(/^([A-G][#b]?)/);return t?t[1]:"C"},wP=e=>{const t=CP(e);return Sx[t]||Sx.C},MP=e=>Nn[e]||Nn.Default,Wo=[1,2,4,8,16,32],gT=({currentGuidebookEntry:e,mainAppInputs:t,onUpdateGuidebookEntryMidi:n,parsedGuidebookBpm:r,parsedGuidebookKey:o,parsedGuidebookChordProg:l,initialPatterns:u,sections:f,targetTempo:m,targetKey:d,isRemixMode:h=!1})=>{var P,Y,D,J;const[y,T]=ne.useState(()=>{var Ye,Le;if(h)return{...We,key:d||We.key,tempo:m||We.tempo,genre:"Electronic",songSection:(f==null?void 0:f[0])||We.songSection,guidebookContext:`Remix mode for ${d||"C minor"} at ${m||128} BPM`,targetInstruments:["bassline","drums","melody","chords"],bars:8};if(e!=null&&e.midiSettings)return{...e.midiSettings,bars:Wo.includes(e.midiSettings.bars)?e.midiSettings.bars:We.bars,songSection:e.midiSettings.songSection||We.songSection,targetInstruments:e.midiSettings.targetInstruments&&e.midiSettings.targetInstruments.length>0?e.midiSettings.targetInstruments:[...We.targetInstruments],guidebookContext:e.midiSettings.guidebookContext||Er(e.content)};const O=((Ye=e==null?void 0:e.genre)==null?void 0:Ye[0])||((Le=t==null?void 0:t.genre)==null?void 0:Le[0])||We.genre,re=Er((e==null?void 0:e.content)||""),ye=Qn[O]||Qn.Default,de=Math.round((ye[0]+ye[1])/2),Ce=We.songSection;let Te=We.bars;const De=Ce.toLowerCase();return De.includes("intro")||De.includes("outro")||De.includes("fill")||De.includes("breakdown")?Te=4:Te=8,Te=Wo.includes(Te)?Te:We.bars,{...We,genre:O,key:o||We.key,tempo:r||de,chordProgression:l||(Nn[O]||Nn.Default)[0],guidebookContext:re,targetInstruments:[...We.targetInstruments],songSection:Ce,bars:Te}}),[S,M]=ne.useState(()=>{if(h&&u){const O={};return Object.entries(u).forEach(([re,ye])=>{Object.entries(ye).forEach(([de,Ce])=>{const Te=`${re}_${de}`;typeof Ce!="string"&&(O[Te]=Ce)})}),O}return(e==null?void 0:e.generatedMidiPatterns)||null}),[E,_]=ne.useState(!1),[I,k]=ne.useState(""),[R,z]=ne.useState(null),[G,H]=ne.useState(!1),se=ne.useRef(G);ne.useEffect(()=>{se.current=G},[G]);const[oe,pe]=ne.useState(!1);ne.useEffect(()=>{var re,ye;let O;if(e!=null&&e.midiSettings)O=e.midiSettings.bars||We.bars,T({...e.midiSettings,bars:Wo.includes(O)?O:We.bars,songSection:e.midiSettings.songSection||We.songSection,targetInstruments:e.midiSettings.targetInstruments&&e.midiSettings.targetInstruments.length>0?e.midiSettings.targetInstruments:[...We.targetInstruments],guidebookContext:e.midiSettings.guidebookContext||Er(e.content)});else{const de=((re=e==null?void 0:e.genre)==null?void 0:re[0])||((ye=t==null?void 0:t.genre)==null?void 0:ye[0])||We.genre,Ce=Er((e==null?void 0:e.content)||""),Te=Qn[de]||Qn.Default,De=Math.round((Te[0]+Te[1])/2),Ye=We.songSection;let Le=We.bars;const je=Ye.toLowerCase();je.includes("intro")||je.includes("outro")||je.includes("fill")||je.includes("breakdown")?Le=4:Le=8,O=Wo.includes(Le)?Le:We.bars,T({...We,key:o||We.key,tempo:r||De,chordProgression:l||(Nn[de]||Nn.Default)[0],genre:de,guidebookContext:Ce,targetInstruments:[...We.targetInstruments],songSection:Ye,bars:O})}M((e==null?void 0:e.generatedMidiPatterns)||null),z(null),se.current&&(Fn(),H(!1))},[e,t==null?void 0:t.genre,r,o,l]);const j=(O,re)=>{T(ye=>{const de={...ye,[O]:re};if(O==="genre"){const Ce=re,Te=(Nn[ye.genre]||Nn.Default)[0];ye.chordProgression===Te&&(de.chordProgression=(Nn[Ce]||Nn.Default)[0]);const De=Qn[ye.genre]||Qn.Default,Ye=Math.round((De[0]+De[1])/2);if(ye.tempo===Ye){const Le=Qn[Ce]||Qn.Default;de.tempo=Math.round((Le[0]+Le[1])/2)}}return e!=null&&e.content&&(de.guidebookContext=Er(e.content)),de})},fe=O=>{T(re=>{const ye=re.targetInstruments,de=ye.includes(O)?ye.filter(Ce=>Ce!==O):[...ye,O];return{...re,targetInstruments:de}})},Z=async()=>{var re;_(!0),k("Regenerating MIDI patterns..."),z(null),se.current&&(Fn(),H(!1)),await Xo();let O;if(h)O={...y,guidebookContext:`${y.genre} remix at ${y.tempo} BPM in ${y.key}`,genre:y.genre};else{const ye=((re=e==null?void 0:e.genre)==null?void 0:re[0])||y.genre,de=Er((e==null?void 0:e.content)||"");O={...y,guidebookContext:de,genre:ye}}try{const ye=await fs(O);let de="";for await(const Le of ye)Le.text&&(de+=Le.text);console.log("Raw MIDI response:",de),de=de.trim();const Ce=/^```(\w*)?\s*\n?(.*?)\n?\s*```$/s,Te=de.match(Ce);Te&&Te[2]&&(console.log("Found code block, extracting JSON:",Te[2]),de=Te[2].trim());let De;try{De=JSON.parse(de)}catch(Le){throw console.error("JSON parse error:",Le),console.error("Failed to parse:",de),new Error(`Invalid JSON response from AI: ${Le instanceof Error?Le.message:"Unknown parse error"}. Response was: ${de.substring(0,200)}...`)}if(console.log("Parsed MIDI patterns:",De),(Le=>{console.log("🔍 Validating MIDI patterns..."),Le.chords&&Le.chords.forEach((je,Qe)=>{(!Number.isFinite(je.time)||!Number.isFinite(je.duration))&&console.error(`🚨 Invalid chord ${Qe}:`,je),je.notes.forEach((xt,dt)=>{Number.isFinite(xt.midi)||console.error(`🚨 Invalid chord ${Qe} note ${dt}:`,xt)})}),["bassline","melody"].forEach(je=>{const Qe=Le[je];Qe&&Qe.forEach((xt,dt)=>{(!Number.isFinite(xt.time)||!Number.isFinite(xt.duration)||!Number.isFinite(xt.midi))&&console.error(`🚨 Invalid ${je} note ${dt}:`,xt)})}),Le.drums&&Object.entries(Le.drums).forEach(([je,Qe])=>{Qe.forEach((xt,dt)=>{(!Number.isFinite(xt.time)||!Number.isFinite(xt.duration)||!Number.isFinite(xt.velocity||100))&&console.error(`🚨 Invalid ${je} hit ${dt}:`,xt)})})})(De),De.drums){const Le={};for(const je in De.drums)Le[je.toLowerCase().replace(/\s+/g,"_")]=De.drums[je];De.drums=Le}M(De),n==null||n(O,De)}catch(ye){console.error("MIDI Generation Error:",ye);const de=ye.message.toLowerCase().includes("json")?`AI returned invalid JSON for MIDI patterns. (${ye.message})`:`Failed to generate MIDI patterns: ${ye.message}`;z(de),M(null)}finally{_(!1),k("")}},he=async()=>{S&&(await Xo(),se.current&&(Fn(),H(!1),await new Promise(O=>setTimeout(O,50))),bv(S,y),H(!0))},le=async O=>{!S||!S[O]||(await Xo(),se.current&&(Fn(),H(!1),await new Promise(re=>setTimeout(re,50))),bv(S,y,O),H(!0))},ce=()=>{Fn(),H(!1)};ne.useEffect(()=>()=>{se.current&&Fn()},[]);const q=()=>{if(!S)return;const O=((e==null?void 0:e.title)||"TrackGuideMIDI").replace(/[^a-z0-9_.-]/gi,"_"),re=xv(S,y,O);re?vv(re,`${O}_all_tracks.mid`):alert("No MIDI data to download or error in generation.")},B=O=>{if(!S||!S[O]){alert(`No ${O} data available in current patterns.`);return}const re={[O]:S[O]},ye=((e==null?void 0:e.title)||"TrackGuideMIDI").replace(/[^a-z0-9_.-]/gi,"_"),de=xv(re,y,`${ye}_${O}`);de?vv(de,`${ye}_${O}.mid`):alert(`No ${O} data to download or error in generation.`)},N=async O=>{var ye;if(!S)return;_(!0),k(`Regenerating ${O}...`),z(null),se.current&&(Fn(),H(!1)),await Xo();let re;if(h)re={...y,guidebookContext:`${y.genre} remix at ${y.tempo} BPM in ${y.key}`,genre:y.genre,targetInstruments:[O]};else{const de=((ye=e==null?void 0:e.genre)==null?void 0:ye[0])||y.genre,Ce=Er((e==null?void 0:e.content)||"");re={...y,guidebookContext:Ce,genre:de,targetInstruments:[O]}}try{const de=await fs(re);let Ce="";for await(const je of de)je.text&&(Ce+=je.text);console.log(`Raw MIDI response for ${O}:`,Ce),Ce=Ce.trim();const Te=/^```(\w*)?\s*\n?(.*?)\n?\s*```$/s,De=Ce.match(Te);De&&De[2]&&(console.log(`Found code block for ${O}, extracting JSON:`,De[2]),Ce=De[2].trim());let Ye;try{Ye=JSON.parse(Ce)}catch(je){throw console.error(`JSON parse error for ${O}:`,je),console.error("Failed to parse:",Ce),new Error(`Invalid JSON response from AI for ${O}: ${je instanceof Error?je.message:"Unknown parse error"}`)}console.log(`Parsed MIDI patterns for ${O}:`,Ye);const Le={...S,[O]:Ye[O]};if(O==="drums"&&Ye.drums){const je={};for(const Qe in Ye.drums)je[Qe.toLowerCase().replace(/\s+/g,"_")]=Ye.drums[Qe];Le.drums=je}M(Le),n==null||n(y,Le)}catch(de){console.error("Error regenerating single track:",de),z(`Failed to regenerate ${O}. Please try again.`)}finally{_(!1),k("")}},L=async()=>{oe||await Xo(),pe(O=>!O)},C=(O,re)=>{if(!S||!S[O])return null;const ye=S[O];let de="";if(O==="drums"&&ye){const Ce=Object.keys(ye);de=`${Ce.length} elements: ${Ce.map(Te=>SP[Te]||Te).join(", ")}`}else O==="chords"&&Array.isArray(ye)?de=`${ye.length} chord events`:(O==="bassline"||O==="melody")&&Array.isArray(ye)&&(de=`${ye.length} notes`);return g.jsxs(qe,{title:re,className:"p-4 border border-gray-600 rounded-md bg-gray-800/50",children:[g.jsx("div",{className:"mb-3",children:g.jsx("p",{className:"text-xs text-gray-400",children:de})}),g.jsxs("div",{className:"flex flex-wrap gap-2",children:[g.jsx(Pe,{onClick:()=>le(O),leftIcon:g.jsx(wx,{}),size:"sm",variant:"primary",children:"Play"}),g.jsx(Pe,{onClick:()=>N(O),leftIcon:g.jsx(Mx,{className:"w-4 h-4",isSpinning:E&&I.includes(O)}),size:"sm",variant:"secondary",disabled:E,children:"Regenerate"}),g.jsx(Pe,{onClick:()=>B(O),leftIcon:g.jsx(Ud,{}),size:"sm",variant:"secondary",children:"Download"})]})]},O)};return g.jsxs(qe,{title:"🎹 MIDI Tools & Pattern Generator",className:"mt-6 bg-gray-800/80 backdrop-blur-md shadow-xl border border-gray-700/50",children:[g.jsx(Pe,{onClick:L,variant:"secondary",className:"w-full mb-4",leftIcon:g.jsx(DI,{}),children:oe?"Hide MIDI Settings":"Adjust MIDI Settings & Regenerate"}),oe&&g.jsxs("div",{className:"mb-6 border-t border-gray-700 pt-6",children:[g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-x-6 gap-y-4 mb-6",children:[g.jsxs("div",{children:[g.jsx("label",{htmlFor:"midi-key",className:"block text-sm font-medium text-gray-300 mb-1",children:"Key"}),g.jsx("select",{id:"midi-key",value:y.key,onChange:O=>j("key",O.target.value),className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-md shadow-sm text-gray-100 focus:ring-purple-500 focus:border-purple-500 text-sm",children:Jo.map(O=>g.jsx("option",{value:O,children:O},O))})]}),g.jsxs("div",{children:[g.jsxs("label",{htmlFor:"midi-scale",className:"block text-sm font-medium text-gray-300 mb-1",children:["Scale/Mode ",g.jsx("span",{className:"text-xs text-gray-400",children:"(Optional)"})]}),g.jsxs("select",{id:"midi-scale",value:y.scale||"",onChange:O=>j("scale",O.target.value),className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-md shadow-sm text-gray-100 focus:ring-purple-500 focus:border-purple-500 text-sm",children:[g.jsx("option",{value:"",children:"Default (from key)"}),wP(y.key).map(O=>g.jsx("option",{value:O,children:O},O))]})]}),g.jsxs("div",{children:[g.jsx("label",{htmlFor:"midi-tempo",className:"block text-sm font-medium text-gray-300 mb-1",children:"Tempo (BPM)"}),g.jsx(gn,{type:"number",id:"midi-tempo",value:y.tempo,onChange:O=>j("tempo",parseInt(O.target.value,10)),min:"30",max:"300"})]}),g.jsxs("div",{children:[g.jsx("label",{htmlFor:"midi-timesig",className:"block text-sm font-medium text-gray-300 mb-1",children:"Time Signature"}),g.jsx("select",{id:"midi-timesig",value:y.timeSignature.join("/"),onChange:O=>j("timeSignature",O.target.value.split("/").map(Number)),className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-md shadow-sm text-gray-100 focus:ring-purple-500 focus:border-purple-500 text-sm",children:dI.map(O=>g.jsx("option",{value:O.join("/"),children:O.join("/")},O.join("/")))})]}),g.jsxs("div",{children:[g.jsx("label",{htmlFor:"midi-chords",className:"block text-sm font-medium text-gray-300 mb-1",children:"Chord Progression"}),g.jsx("select",{id:"midi-chords",value:y.chordProgression,onChange:O=>j("chordProgression",O.target.value),className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-md shadow-sm text-gray-100 focus:ring-purple-500 focus:border-purple-500 text-sm",children:MP(y.genre).map(O=>g.jsx("option",{value:O,children:O},O))})]}),g.jsxs("div",{children:[g.jsx("label",{htmlFor:"midi-genre",className:"block text-sm font-medium text-gray-300 mb-1",children:"MIDI Genre Context"}),g.jsxs("select",{id:"midi-genre",value:y.genre,onChange:O=>j("genre",O.target.value),className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-md shadow-sm text-gray-100 focus:ring-purple-500 focus:border-purple-500 text-sm",children:[g.jsxs("option",{value:((P=e==null?void 0:e.genre)==null?void 0:P[0])||((Y=t==null?void 0:t.genre)==null?void 0:Y[0])||We.genre,children:["Align with Guidebook (",((D=e==null?void 0:e.genre)==null?void 0:D[0])||((J=t==null?void 0:t.genre)==null?void 0:J[0])||"Default",")"]}),rb.map(O=>g.jsx("option",{value:O,children:O},O))]})]}),g.jsxs("div",{children:[g.jsx("label",{htmlFor:"midi-bars",className:"block text-sm font-medium text-gray-300 mb-1",children:"Loop Length (Bars)"}),g.jsx("select",{id:"midi-bars",value:y.bars,onChange:O=>j("bars",parseInt(O.target.value,10)),className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-md shadow-sm text-gray-100 focus:ring-purple-500 focus:border-purple-500 text-sm",children:Wo.map(O=>g.jsx("option",{value:O,children:O},O))})]}),g.jsxs("div",{className:"lg:col-span-1",children:[g.jsx("label",{htmlFor:"midi-songsection",className:"block text-sm font-medium text-gray-300 mb-1",children:"Song Section Context"}),g.jsx("select",{id:"midi-songsection",value:y.songSection||We.songSection,onChange:O=>j("songSection",O.target.value),className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-md shadow-sm text-gray-100 focus:ring-purple-500 focus:border-purple-500 text-sm",children:(h&&f?f:hI).map(O=>g.jsx("option",{value:O,children:O},O))})]})]}),g.jsxs("div",{className:"mb-6",children:[g.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Target Instruments to Generate"}),g.jsx("div",{className:"flex flex-wrap gap-x-4 gap-y-2",children:mI.map(O=>g.jsxs("button",{type:"button",onClick:()=>fe(O.id),className:`flex items-center px-3 py-1.5 rounded-md text-sm transition-colors duration-150 ease-in-out border
                            ${y.targetInstruments.includes(O.id)?"bg-purple-600 text-white border-purple-500 hover:bg-purple-700 shadow-md":"bg-gray-700 text-gray-300 border-gray-600 hover:bg-gray-600 hover:border-gray-500"}`,"aria-pressed":y.targetInstruments.includes(O.id),children:[y.targetInstruments.includes(O.id)?g.jsx(kI,{className:"w-4 h-4 mr-2"}):g.jsx(II,{className:"w-4 h-4 mr-2 text-gray-500"}),O.label]},O.id))})]}),g.jsx(Pe,{onClick:Z,disabled:E||y.targetInstruments.length===0,className:"w-full",leftIcon:g.jsx(Mx,{className:"w-5 h-5",isSpinning:E}),children:E?I||"Regenerating MIDI Patterns...":y.targetInstruments.length===0?"Select instruments first":"Regenerate MIDI Patterns"})]}),R&&g.jsx("p",{className:"text-red-400 bg-red-900/30 p-3 rounded-md text-sm my-4",children:R}),E&&!oe&&(!S||I.includes("MIDI"))&&g.jsx("div",{className:"my-4",children:g.jsx(xi,{text:I||"AI is composing..."})}),S&&!E&&g.jsxs("div",{className:"mt-6 space-y-3",children:[g.jsxs("div",{className:"flex flex-wrap gap-3 items-center pb-3 border-b border-gray-700",children:[g.jsx(Pe,{onClick:G?ce:he,variant:G?"danger":"primary",size:"md",leftIcon:G?g.jsx(AI,{}):g.jsx(wx,{}),children:G?"Stop Preview":"Play All Tracks"}),g.jsx(Pe,{onClick:q,variant:"secondary",size:"md",leftIcon:g.jsx(Ud,{}),children:"Download All (.mid)"})]}),g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 pt-3",children:[C("chords","Chords"),C("bassline","Bassline"),C("melody","Melody"),C("drums","Drums")]}),S.error&&g.jsxs("p",{className:"text-sm text-yellow-400 mt-2",children:["AI Note: ",S.error]})]}),!S&&!E&&!R&&g.jsxs("p",{className:"text-gray-400 text-sm mt-4 text-center",children:["No MIDI patterns generated yet for this ",h?"RemixGuide":"TrackGuide",'. Click "Adjust MIDI Settings" to configure and generate.']})]})},yT=[{category:"House",genre:"House",tempoRange:[120,126],sections:["Intro","Build-Up","Drop","Breakdown","Drop 2","Outro"]},{category:"House",genre:"Deep House",tempoRange:[118,124],sections:["Intro","Build-Up","Drop","Breakdown","Outro"]},{category:"House",genre:"Tech House",tempoRange:[122,127],sections:["Intro","Build-Up","Drop","Breakdown","Drop 2","Outro"]},{category:"House",genre:"Progressive House",tempoRange:[124,128],sections:["Intro","Build-Up","Drop","Breakdown","Outro"]},{category:"House",genre:"Afro House",tempoRange:[120,125],sections:["Intro","Build-Up","Drop","Breakdown","Outro"]},{category:"House",genre:"Nu-Disco",tempoRange:[115,125],sections:["Intro","Verse","Chorus","Bridge","Outro"]},{category:"Techno",genre:"Melodic Techno",tempoRange:[120,126],sections:["Intro","Groove Build","Peak Moment","Mid-Break","Outro"]},{category:"Techno",genre:"Minimal Techno",tempoRange:[120,125],sections:["Intro","Groove Build","Peak Moment","Mid-Break","Outro"]},{category:"Techno",genre:"Big Room Techno",tempoRange:[126,130],sections:["Intro","Build-Up","Drop","Breakdown","Build-Up 2","Final Drop","Outro"]},{category:"Techno",genre:"Peak Time Techno",tempoRange:[128,135],sections:["Intro","Groove Build","Peak Moment","Mid-Break","Outro"]},{category:"Techno",genre:"Hard Techno",tempoRange:[135,145],sections:["Intro","Groove Build","Peak Moment","Mid-Break","Outro"]},{category:"Trance",genre:"Trance",tempoRange:[128,140],sections:["Intro","Build-Up","Drop","Breakdown","Build-Up 2","Final Drop","Outro"]},{category:"Trance",genre:"Psytrance",tempoRange:[140,150],sections:["Intro","Build-Up","Drop","Breakdown","Build-Up 2","Final Drop","Outro"]},{category:"Trance",genre:"Progressive Trance",tempoRange:[130,138],sections:["Intro","Build-Up","Drop","Breakdown","Build-Up 2","Final Drop","Outro"]},{category:"Trance",genre:"Uplifting Trance",tempoRange:[132,140],sections:["Intro","Build-Up","Drop","Breakdown","Build-Up 2","Final Drop","Outro"]},{category:"Bass & Dubstep",genre:"Dubstep",tempoRange:[140,150],sections:["Intro","Pre-Drop","Drop 1","Switch-Up","Drop 2","Outro"]},{category:"Bass & Dubstep",genre:"Riddim Dubstep",tempoRange:[140,150],sections:["Intro","Pre-Drop","Drop 1","Switch-Up","Drop 2","Outro"]},{category:"Bass & Dubstep",genre:"Hybrid Trap",tempoRange:[135,150],sections:["Intro","Pre-Drop","Drop 1","Mid-Section","Drop 2","Outro"]},{category:"Bass & Dubstep",genre:"Midtempo Bass",tempoRange:[95,110],sections:["Intro","Build-Up","Drop","Breakdown","Outro"]},{category:"Bass & Dubstep",genre:"Future Bass",tempoRange:[140,155],sections:["Intro","Pre-Drop","Drop 1","Breakdown","Drop 2","Outro"]},{category:"Bass & Dubstep",genre:"Phonk",tempoRange:[130,150],sections:["Intro","Pre-Drop","Drop 1","Switch-Up","Drop 2","Outro"]},{category:"Bass & Dubstep",genre:"Hardstyle",tempoRange:[150,160],sections:["Intro","Pre-Drop","Drop 1","Switch-Up","Drop 2","Outro"]},{category:"Trap & Future Styles",genre:"Trap",tempoRange:[130,150],sections:["Intro","Pre-Drop","Drop 1","Mid-Section","Drop 2","Outro"]},{category:"Trap & Future Styles",genre:"Hard Trap",tempoRange:[135,150],sections:["Intro","Pre-Drop","Drop 1","Switch-Up","Drop 2","Outro"]},{category:"Trap & Future Styles",genre:"Hyperpop",tempoRange:[140,160],sections:["Intro","Verse","Drop","Bridge","Outro"]},{category:"Trap & Future Styles",genre:"Trap Soul",tempoRange:[100,130],sections:["Intro","Verse","Chorus","Bridge","Outro"]},{category:"Trap & Future Styles",genre:"Jersey Club",tempoRange:[130,140],sections:["Intro","Pre-Drop","Drop 1","Mid-Section","Drop 2","Outro"]},{category:"Drum & Bass / UK Styles",genre:"Drum & Bass",tempoRange:[170,175],sections:["Intro","Build-Up","Drop","Mid-Roll","Breakdown","Second Drop","Outro"]},{category:"Drum & Bass / UK Styles",genre:"Liquid DnB",tempoRange:[170,175],sections:["Intro","Build-Up","Drop","Mid-Roll","Breakdown","Second Drop","Outro"]},{category:"Drum & Bass / UK Styles",genre:"Jungle",tempoRange:[170,175],sections:["Intro","Build-Up","Drop","Mid-Roll","Breakdown","Second Drop","Outro"]},{category:"Drum & Bass / UK Styles",genre:"UK Garage",tempoRange:[130,138],sections:["Intro","Build-Up","Drop","Breakdown","Outro"]},{category:"Drum & Bass / UK Styles",genre:"UK Bass",tempoRange:[128,138],sections:["Intro","Build-Up","Drop","Breakdown","Outro"]},{category:"Drum & Bass / UK Styles",genre:"Breakbeat",tempoRange:[125,135],sections:["Intro","Build-Up","Drop","Breakdown","Outro"]},{category:"Pop / Indie / Electro",genre:"EDM Pop",tempoRange:[110,125],sections:["Intro","Verse","Pre-Chorus","Chorus / Drop","Bridge","Outro"]},{category:"Pop / Indie / Electro",genre:"Indie Pop",tempoRange:[100,120],sections:["Intro","Verse","Chorus","Bridge","Outro"]},{category:"Pop / Indie / Electro",genre:"Indie Dance",tempoRange:[115,125],sections:["Intro","Verse","Chorus","Bridge","Outro"]},{category:"Pop / Indie / Electro",genre:"Electro Pop",tempoRange:[100,120],sections:["Intro","Verse","Pre-Chorus","Chorus","Bridge","Outro"]},{category:"Pop / Indie / Electro",genre:"Synth Pop",tempoRange:[100,115],sections:["Intro","Verse","Pre-Chorus","Chorus","Bridge","Outro"]},{category:"Retro & Synth",genre:"Synthwave",tempoRange:[85,105],sections:["Intro","Main Theme","Breakdown","Bridge","Outro"]},{category:"Retro & Synth",genre:"Chillwave",tempoRange:[85,100],sections:["Intro","Main Theme","Breakdown","Bridge","Outro"]},{category:"Retro & Synth",genre:"Vaporwave",tempoRange:[60,85],sections:["Intro","Main Theme","Breakdown","Outro"]},{category:"Retro & Synth",genre:"Retrowave",tempoRange:[90,110],sections:["Intro","Main Theme","Breakdown","Bridge","Outro"]},{category:"Hip-Hop & RnB",genre:"Boom Bap",tempoRange:[85,95],sections:["Intro","Verse","Chorus","Verse 2","Outro"]},{category:"Hip-Hop & RnB",genre:"Experimental Hip-Hop",tempoRange:[80,100],sections:["Intro","Verse","Drop","Bridge","Outro"]},{category:"Hip-Hop & RnB",genre:"RnB Remix",tempoRange:[85,100],sections:["Intro","Verse","Chorus","Bridge","Outro"]},{category:"Lo-fi & Chill",genre:"Lo-fi Hip-Hop",tempoRange:[65,85],sections:["Intro","Groove Section A","Groove Section B","Bridge / Texture Break","Outro"]},{category:"Lo-fi & Chill",genre:"Chillhop",tempoRange:[70,90],sections:["Intro","Groove Section A","Groove Section B","Bridge / Texture Break","Outro"]},{category:"Lo-fi & Chill",genre:"Trip-Hop",tempoRange:[70,90],sections:["Intro","Main Atmosphere","Texture Development","Outro"]},{category:"Lo-fi & Chill",genre:"Downtempo",tempoRange:[70,90],sections:["Intro","Main Atmosphere","Texture Development","Dynamic Peak","Outro"]},{category:"Lo-fi & Chill",genre:"Chillstep",tempoRange:[100,115],sections:["Intro","Build-Up","Drop","Breakdown","Outro"]},{category:"Ambient & Cinematic",genre:"Ambient",tempoRange:[60,80],sections:["Intro","Main Atmosphere","Texture Development","Outro"]},{category:"Ambient & Cinematic",genre:"Cinematic",tempoRange:[60,80],sections:["Intro","Main Atmosphere","Texture Development","Outro"]}],EP=()=>{const e={};return yT.forEach(({category:t,genre:n})=>{e[t]||(e[t]=[]),e[t].push(n)}),e},Tv=e=>yT.find(t=>t.genre===e),Sv=e=>{if(!e)return null;const t=/##\s*🎵\s*Original Track DNA Analysis/i,n=e.match(t);if(!n||typeof n.index>"u")return null;const r=n.index,o=e.substring(r+n[0].length).match(/^##\s+/m),l=o&&typeof o.index<"u"?r+n[0].length+o.index:e.length,f=e.substring(r,l).trim().match(/\*\*Harmonic Blueprint\*\*:\s*([^\n]+)/i);if(f&&f[1]){const d=f[1].match(/([IVXLCDMivxlcdm\d\s,-]+(?:\s*-\s*[IVXLCDMivxlcdm\d\s,-]+)*)/);if(d&&d[1])return d[1].trim()}return null},AP=()=>{const[e,t]=ne.useState(null),[n,r]=ne.useState(""),[o,l]=ne.useState(""),[u,f]=ne.useState(""),[m,d]=ne.useState(""),[h,y]=ne.useState(!1),[T,S]=ne.useState(null),[M,E]=ne.useState(""),[_,I]=ne.useState(""),k=ne.useRef(null),R=EP(),z=Object.keys(R),G=Z=>{var q;const he=(q=Z.target.files)==null?void 0:q[0];if(!he)return;if(!(["audio/wav","audio/mpeg","audio/mp3"].includes(he.type)||he.name.toLowerCase().endsWith(".wav")||he.name.toLowerCase().endsWith(".mp3"))){I("Please upload a WAV or MP3 file");return}if(he.size>100*1024*1024){I("File size must be under 100MB");return}t(he),I("")},H=Z=>{Z.preventDefault();const he=Z.dataTransfer.files[0];he&&G({target:{files:[he]}})},se=Z=>{Z.preventDefault()},oe=async()=>{if(!e||!o){I("Please upload an audio file and select a target genre");return}y(!0),I(""),E(""),S(null);try{const Z=await TP(e),he={base64:Z.base64,mimeType:Z.mimeType},le=Tv(o);let ce="",q=null;const B=TI(he,o,le,u,m);for await(const Te of B)Te.text&&(ce+=Te.text,E(ce)),Te.metadata&&(q=Te.metadata);console.log("Remix guide generated, now generating MIDI patterns...");const N=Sv(ce),L=(q==null?void 0:q.targetTempo)||128,C=(q==null?void 0:q.targetKey)||"C minor",P=(q==null?void 0:q.originalChordProgression)||N,Y=(q==null?void 0:q.sections)||["Intro","Build-Up","Drop","Breakdown","Outro"],D={key:C,tempo:L,timeSignature:[4,4],chordProgression:P||"i-VI-III-VII",genre:o,bars:8,targetInstruments:["bassline","drums","melody","chords"],guidebookContext:`${o} remix at ${L} BPM in ${C}`,songSection:Y[0]||"Intro"};console.log("MIDI settings with remix defaults:",D);const J=await fs(D);let O="";for await(const Te of J)Te.text&&(O+=Te.text);O=O.trim();const re=/^```(\w*)?\s*\n?(.*?)\n?\s*```$/s,ye=O.match(re);ye&&ye[2]&&(O=ye[2].trim());const de=JSON.parse(O);if(de.drums){const Te={};Object.entries(de.drums).forEach(([De,Ye])=>{Te[De.toLowerCase()]=Ye}),de.drums=Te}console.log("Generated MIDI patterns:",de);const Ce={guide:ce,targetTempo:L,targetKey:C,sections:Y,generatedMidiPatterns:de,originalKey:q==null?void 0:q.originalKey,originalTempo:q==null?void 0:q.originalTempo,originalChordProgression:P};S(Ce),console.log("RemixGuide completed successfully with streaming and dynamic MIDI defaults")}catch(Z){console.error("Error generating remix guide:",Z),I(Z instanceof Error?Z.message:"Failed to generate remix guide")}finally{y(!1)}},pe=Z=>{r(Z),l("")},j=async()=>{if(T){y(!0),I("");try{const Z=Sv(T.guide),he={key:T.targetKey,tempo:T.targetTempo,timeSignature:[4,4],chordProgression:Z||T.originalChordProgression||"i-VI-III-VII",genre:o,bars:8,targetInstruments:["bassline","drums","melody","chords"],guidebookContext:`${o} remix at ${T.targetTempo} BPM in ${T.targetKey}`,songSection:T.sections[0]||"Intro"};console.log("Regenerating MIDI with settings:",he);const le=await fs(he);let ce="";for await(const L of le)L.text&&(ce+=L.text);ce=ce.trim();const q=/^```(\w*)?\s*\n?(.*?)\n?\s*```$/s,B=ce.match(q);B&&B[2]&&(ce=B[2].trim()),console.log("Raw regenerated MIDI JSON:",ce);const N=JSON.parse(ce);if(N.drums){const L={};for(const C in N.drums)L[C.toLowerCase().replace(/\s+/g,"_")]=N.drums[C];N.drums=L}console.log("Regenerated MIDI patterns:",N),S(L=>L?{...L,generatedMidiPatterns:N}:null)}catch(Z){console.error("Error regenerating MIDI patterns:",Z),I(`Failed to regenerate MIDI patterns: ${Z instanceof Error?Z.message:"Unknown error"}`)}finally{y(!1)}}},fe=()=>{t(null),r(""),l(""),f(""),d(""),S(null),I(""),k.current&&(k.current.value="")};return g.jsxs("div",{className:"space-y-6",children:[g.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[g.jsxs(qe,{className:"p-6",children:[g.jsx("h3",{className:"text-lg font-semibold mb-4 text-white",children:"Upload Original Track"}),g.jsxs("div",{className:"border-2 border-dashed border-gray-600 rounded-lg p-8 text-center cursor-pointer hover:border-gray-500 transition-colors",onDrop:H,onDragOver:se,onClick:()=>{var Z;return(Z=k.current)==null?void 0:Z.click()},children:[g.jsx("input",{ref:k,type:"file",accept:".wav,.mp3,audio/wav,audio/mpeg",onChange:G,className:"hidden"}),g.jsxs("div",{className:"space-y-2",children:[g.jsx("div",{className:"text-4xl",children:"🎵"}),g.jsx("div",{className:"text-white font-medium",children:e?e.name:"Upload Original Track"}),g.jsx("p",{className:"text-gray-400 text-sm",children:"or drag and drop"})]}),g.jsxs("p",{className:"text-gray-500 text-xs mt-2",children:["MP3, WAV up to ",g.jsx("span",{className:"text-orange-400",children:"100"}),"MB"]})]})]}),g.jsxs(qe,{className:"p-6",children:[g.jsx("h3",{className:"text-lg font-semibold mb-4 text-white",children:"Target Remix Genre"}),g.jsxs("div",{className:"space-y-4",children:[g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"1. Select Category"}),g.jsxs("select",{value:n,onChange:Z=>pe(Z.target.value),className:"w-full p-3 bg-gray-700 border border-gray-600 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-orange-500",children:[g.jsx("option",{value:"",children:"Choose a category..."}),z.map(Z=>g.jsx("option",{value:Z,children:Z},Z))]})]}),n&&g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"2. Select Genre"}),g.jsxs("select",{value:o,onChange:Z=>l(Z.target.value),className:"w-full p-3 bg-gray-700 border border-gray-600 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-orange-500",children:[g.jsx("option",{value:"",children:"Choose a genre..."}),R[n].map(Z=>g.jsx("option",{value:Z,children:Z},Z))]})]}),o&&g.jsx("div",{className:"text-sm text-gray-400 bg-gray-800 p-3 rounded-lg",children:(()=>{const Z=Tv(o);return Z?`🎵 Tempo: ${Z.tempoRange[0]}-${Z.tempoRange[1]} BPM`:""})()})]})]})]}),g.jsxs(qe,{className:"p-6",children:[g.jsx("h3",{className:"text-lg font-semibold mb-4 text-white",children:"Production Setup (Optional)"}),g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"DAW (Digital Audio Workstation)"}),g.jsx("input",{type:"text",value:u,onChange:Z=>f(Z.target.value),placeholder:"e.g., Ableton Live, Logic Pro X, FL Studio...",className:"w-full p-3 bg-gray-700 border border-gray-600 rounded-lg text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-orange-500"})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Available Plugins"}),g.jsx("input",{type:"text",value:m,onChange:Z=>d(Z.target.value),placeholder:"e.g., Serum, FabFilter Pro-Q 3, Valhalla VintageVerb...",className:"w-full p-3 bg-gray-700 border border-gray-600 rounded-lg text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-orange-500"})]})]}),g.jsx("p",{className:"text-xs text-gray-400 mt-2",children:"Specify your DAW and plugins to get tailored parameter recommendations in the remix guide"})]}),_&&g.jsx("div",{className:"bg-red-900/50 border border-red-500 rounded-lg p-4 text-red-200",children:_}),g.jsxs("div",{className:"flex gap-4",children:[g.jsx(Pe,{onClick:oe,disabled:!e||!o||h,className:"flex-1",children:h?g.jsxs(g.Fragment,{children:[g.jsx(xi,{size:"sm"})," Generating RemixGuide..."]}):"🎛️ Generate RemixGuide"}),g.jsx(Pe,{onClick:fe,variant:"outline",children:"Reset"})]}),h&&M&&g.jsxs(qe,{className:"p-6",children:[g.jsxs("h3",{className:"text-xl font-bold text-white mb-4",children:["🎛️ Generating ",o," Remix Guide..."]}),g.jsx("div",{className:"bg-gray-800/50 rounded-lg p-6 max-h-[calc(100vh-8rem)] overflow-y-auto",children:g.jsx(is,{content:M})})]}),T&&g.jsxs("div",{className:"space-y-6",children:[g.jsxs(qe,{className:"p-6",children:[g.jsxs("div",{className:"flex justify-between items-center mb-4",children:[g.jsxs("h3",{className:"text-xl font-bold text-white",children:["🎛️ ",o," Remix Guide"]}),g.jsxs("div",{className:"text-sm text-gray-400",children:["Target: ",T.targetTempo," BPM • ",T.targetKey]})]}),g.jsx("div",{className:"bg-gray-800/50 rounded-lg p-6 max-h-[calc(100vh-8rem)] overflow-y-auto",children:g.jsx(is,{content:T.guide})})]}),g.jsxs(qe,{className:"p-6",children:[g.jsxs("div",{className:"flex justify-between items-center mb-6",children:[g.jsx("h3",{className:"text-xl font-bold text-white",children:"🎹 MIDI Remix Patterns"}),g.jsx(Pe,{onClick:j,disabled:h,variant:"outline",className:"text-sm",children:h?g.jsxs(g.Fragment,{children:[g.jsx(xi,{size:"sm"})," Regenerating..."]}):"🔄 Regenerate MIDI"})]}),T.generatedMidiPatterns?g.jsx(gT,{sections:T.sections,targetTempo:T.targetTempo,targetKey:T.targetKey,isRemixMode:!0,currentGuidebookEntry:{id:`remix-${Date.now()}`,title:`${o} Remix`,genre:[o],artistReference:"Remix Guide",vibe:[o],daw:u||"Not specified",plugins:m||"Not specified",availableInstruments:"Remix instruments",content:T.guide,createdAt:new Date().toISOString(),generatedMidiPatterns:T.generatedMidiPatterns}},`remix-${o}-${Date.now()}`):g.jsx("div",{className:"text-center py-8",children:g.jsx("div",{className:"text-gray-400 mb-4",children:h?g.jsxs(g.Fragment,{children:[g.jsx(xi,{size:"lg"}),g.jsx("p",{className:"mt-4",children:"Generating MIDI patterns..."})]}):g.jsxs(g.Fragment,{children:[g.jsx("div",{className:"text-4xl mb-2",children:"🎹"}),g.jsx("p",{children:"MIDI patterns will appear here after generation"}),g.jsx("p",{className:"text-sm mt-2",children:'Click "Regenerate MIDI" to generate patterns'})]})})})]})]}),!T&&g.jsx(qe,{className:"p-6 bg-gray-800/30",children:g.jsxs("div",{className:"text-center space-y-4",children:[g.jsx("div",{className:"text-6xl",children:"🎛️"}),g.jsx("h3",{className:"text-xl font-bold text-white",children:"Transform Your Track"}),g.jsx("p",{className:"text-gray-400 max-w-2xl mx-auto",children:"Upload your original track and select a target genre. Our AI will analyze the harmonic progression, melodies, and rhythmic elements, then generate a comprehensive remix guide with genre-appropriate MIDI patterns for basslines, drums, melodies, and textures."})]})})]})},Cv=({attack:e,decay:t,sustain:n,release:r,width:o=400,height:l=150})=>{const u=Math.max(0,Math.min(1,e)),f=Math.max(0,Math.min(1,t)),m=Math.max(0,Math.min(1,n)),d=Math.max(0,Math.min(1,r)),h=u+f+.3+d,y=u/h*o*.8,T=f/h*o*.8,S=.3/h*o*.8,M=d/h*o*.8,E=l*.9,_=l*.1,I=_+(1-m)*(E-_),k=o*.1;let R=k;const z=[`M ${R} ${E}`],G=R+y*.5,H=E-(E-_)*.1;z.push(`C ${G} ${H}, ${R+y*.8} ${_+10}, ${R+y} ${_}`),R+=y;const se=R+T*.3,oe=_+(I-_)*.2;z.push(`C ${se} ${oe}, ${R+T*.7} ${I-5}, ${R+T} ${I}`),R+=T,z.push(`L ${R+S} ${I}`),R+=S;const pe=R+M*.7,j=I+(E-I)*.8;z.push(`C ${R+M*.3} ${I+5}, ${pe} ${j}, ${R+M} ${E}`);const fe=z.join(" ");return g.jsxs("svg",{width:o,height:l,className:"w-full h-auto",children:[g.jsx("rect",{width:"100%",height:"100%",fill:"#1f2937",rx:"4",ry:"4"}),g.jsx("line",{x1:"0",y1:E,x2:o,y2:E,stroke:"#4b5563",strokeWidth:"1",strokeDasharray:"4,4"}),g.jsx("line",{x1:"0",y1:_,x2:o,y2:_,stroke:"#4b5563",strokeWidth:"1",strokeDasharray:"4,4"}),g.jsx("line",{x1:"0",y1:I,x2:o,y2:I,stroke:"#4b5563",strokeWidth:"1",strokeDasharray:"4,4"}),g.jsx("path",{d:fe,fill:"none",stroke:"#f97316",strokeWidth:"3",strokeLinecap:"round",strokeLinejoin:"round"}),g.jsx("line",{x1:k+y,y1:_-5,x2:k+y,y2:E+5,stroke:"#6b7280",strokeWidth:"1",strokeDasharray:"4,4"}),g.jsx("line",{x1:k+y+T,y1:_-5,x2:k+y+T,y2:E+5,stroke:"#6b7280",strokeWidth:"1",strokeDasharray:"4,4"}),g.jsx("line",{x1:k+y+T+S,y1:_-5,x2:k+y+T+S,y2:E+5,stroke:"#6b7280",strokeWidth:"1",strokeDasharray:"4,4"}),g.jsx("text",{x:k+y/2,y:l-5,textAnchor:"middle",fill:"#d1d5db",fontSize:"10",children:"A"}),g.jsx("text",{x:k+y+T/2,y:l-5,textAnchor:"middle",fill:"#d1d5db",fontSize:"10",children:"D"}),g.jsx("text",{x:k+y+T+S/2,y:l-5,textAnchor:"middle",fill:"#d1d5db",fontSize:"10",children:"S"}),g.jsx("text",{x:k+y+T+S+M/2,y:l-5,textAnchor:"middle",fill:"#d1d5db",fontSize:"10",children:"R"}),g.jsx("text",{x:"5",y:_+15,fill:"#d1d5db",fontSize:"10",children:"1.0"}),g.jsx("text",{x:"5",y:I+15,fill:"#d1d5db",fontSize:"10",children:m.toFixed(1)}),g.jsx("text",{x:"5",y:E-5,fill:"#d1d5db",fontSize:"10",children:"0.0"}),g.jsxs("text",{x:o-5,y:15,textAnchor:"end",fill:"#d1d5db",fontSize:"10",children:["A: ",u.toFixed(2)," D: ",f.toFixed(2)," S: ",m.toFixed(2)," R: ",d.toFixed(2)]})]})},DP={name:"Xfer Serum",oscillators:[{id:"1",name:"Osc 1",type:"Analog",params:["Waveform","Octave","Coarse","Fine","Level"]},{id:"2",name:"Osc 2",type:"Analog",params:["Waveform","Octave","Coarse","Fine","Level"]},{id:"3",name:"Sub Osc",type:"Analog",params:["Octave","Level"]}],filters:[{name:"Filter",types:["Lowpass","Highpass","Bandpass","Comb","Notch","Peak","Formant","Phaser"],defaultType:"Lowpass",parameters:["Cutoff","Resonance","Drive","Pan","Mix"]}],modSources:[{name:"Env 1",type:"Envelope"},{name:"Env 2",type:"Envelope"},{name:"Env 3",type:"Envelope"},{name:"LFO 1",type:"LFO"},{name:"LFO 2",type:"LFO"},{name:"LFO 3",type:"LFO"},{name:"LFO 4",type:"LFO"},{name:"Macro 1",type:"Macro"},{name:"Macro 2",type:"Macro"},{name:"Macro 3",type:"Macro"},{name:"Macro 4",type:"Macro"},{name:"Velocity",type:"MIDI"},{name:"Mod Wheel",type:"MIDI"},{name:"Aftertouch",type:"MIDI"},{name:"Pitch Bend",type:"MIDI"},{name:"Chaos 1",type:"Random"},{name:"Chaos 2",type:"Random"},{name:"Noise OSC",type:"Audio"},{name:"Fixed",type:"Constant"}],modDestinations:[{section:"Oscillator",params:["Wavetable Position","Warp Depth","Coarse","Fine","Level","Pan"]},{section:"Filter",params:["Cutoff","Resonance","Drive","Pan","Mix"]},{section:"Envelope",params:["Attack","Decay","Sustain","Release"]},{section:"LFO",params:["Rate","Shape","Delay"]},{section:"FX",params:["Mix","Depth","Feedback","Time","Tone"]},{section:"Global",params:["Master Tune","Master Level"]}],effects:[{name:"Hyper/Dimension",modulatable:!0,parameters:[{name:"Size",unit:"%",range:[0,100],type:"float"},{name:"Detune",unit:"%",range:[0,100],type:"float"},{name:"Mix",unit:"%",range:[0,100],type:"float"}]},{name:"Distortion",modulatable:!0,parameters:[{name:"Drive",unit:"%",range:[0,100],type:"float"},{name:"Tone",unit:"Hz",range:[500,2e4],type:"float"},{name:"Mix",unit:"%",range:[0,100],type:"float"},{name:"Level",unit:"dB",range:[-12,12],type:"float"},{name:"Type",type:"enum",options:["SoftClip","HardClip","Tube","Fuzz"]}]},{name:"Compressor",modulatable:!0,parameters:[{name:"Threshold",unit:"dB",range:[-60,0],type:"float"},{name:"Ratio",unit:":",range:[1,20],type:"float"},{name:"Attack",unit:"ms",range:[.1,100],type:"float"},{name:"Release",unit:"ms",range:[10,2e3],type:"float"},{name:"Knee",unit:"dB",range:[0,12],type:"float"},{name:"MakeupGain",unit:"dB",range:[0,20],type:"float"},{name:"Mix",unit:"%",range:[0,100],type:"float"}]},{name:"Chorus",modulatable:!0,parameters:[{name:"Rate",unit:"Hz",range:[.1,10],type:"float"},{name:"Depth",unit:"%",range:[0,100],type:"float"},{name:"Delay",unit:"ms",range:[1,30],type:"float"},{name:"Feedback",unit:"%",range:[0,95],type:"float"},{name:"Mix",unit:"%",range:[0,100],type:"float"}]},{name:"Phaser",modulatable:!0,parameters:[{name:"Rate",unit:"Hz",range:[.1,5],type:"float"},{name:"Depth",unit:"%",range:[0,100],type:"float"},{name:"Feedback",unit:"%",range:[0,95],type:"float"},{name:"Stages",unit:"",range:[2,12],type:"int"},{name:"Center",unit:"Hz",range:[100,2e3],type:"float"},{name:"Mix",unit:"%",range:[0,100],type:"float"}]},{name:"Flanger",modulatable:!0,parameters:[{name:"Rate",unit:"Hz",range:[.1,5],type:"float"},{name:"Depth",unit:"%",range:[0,100],type:"float"},{name:"Manual",unit:"ms",range:[0,10],type:"float"},{name:"Feedback",unit:"%",range:[0,99],type:"float"},{name:"Phase",unit:"°",range:[0,180],type:"float"},{name:"Mix",unit:"%",range:[0,100],type:"float"},{name:"LFOShape",type:"enum",options:["Sine","Triangle","Saw"]}]},{name:"EQ",modulatable:!0,parameters:[{name:"LowFreq",unit:"Hz",range:[20,500],type:"float"},{name:"LowGain",unit:"dB",range:[-12,12],type:"float"},{name:"MidFreq",unit:"Hz",range:[200,5e3],type:"float"},{name:"MidGain",unit:"dB",range:[-12,12],type:"float"},{name:"MidQ",unit:"",range:[.5,10],type:"float"},{name:"HighFreq",unit:"Hz",range:[1e3,2e4],type:"float"},{name:"HighGain",unit:"dB",range:[-12,12],type:"float"},{name:"Type",type:"enum",options:["LowShelf","Peaking","HighShelf"]}]},{name:"Reverb",modulatable:!0,parameters:[{name:"Decay",unit:"s",range:[.1,10],type:"float"},{name:"PreDelay",unit:"ms",range:[0,200],type:"float"},{name:"Damping",unit:"%",range:[0,100],type:"float"},{name:"Size",unit:"%",range:[0,100],type:"float"},{name:"HighCut",unit:"Hz",range:[500,2e4],type:"float"},{name:"LowCut",unit:"Hz",range:[20,1e3],type:"float"},{name:"Mix",unit:"%",range:[0,100],type:"float"},{name:"Type",type:"enum",options:["Room","Hall","Plate","Spring"]}]},{name:"Delay",modulatable:!0,parameters:[{name:"Time",unit:"ms",range:[1,5e3],type:"float"},{name:"Feedback",unit:"%",range:[0,100],type:"float"},{name:"Mix",unit:"%",range:[0,100],type:"float"},{name:"Sync",type:"boolean"},{name:"PingPong",type:"boolean"},{name:"Tone",unit:"Hz",range:[20,2e4],type:"float"}]},{name:"Filter (FX)",modulatable:!0,parameters:["Cutoff","Resonance","Drive","Mix"]}]},IP={name:"Vital",oscillators:[{id:"1",name:"Osc 1",type:"Analog",params:["Waveform","Octave","Coarse","Fine","Level"]},{id:"2",name:"Osc 2",type:"Analog",params:["Waveform","Octave","Coarse","Fine","Level"]},{id:"3",name:"Sub Osc",type:"Analog",params:["Octave","Level"]}],filters:[{name:"Filter",types:["Ladder","Analog","Digital","Formant","Comb","Phaser"],defaultType:"Ladder",parameters:["Cutoff","Resonance","Drive","Blend","Keytrack"]}],modSources:[{name:"Env 1",type:"Envelope"},{name:"Env 2",type:"Envelope"},{name:"Env 3",type:"Envelope"},{name:"LFO 1",type:"LFO"},{name:"LFO 2",type:"LFO"},{name:"LFO 3",type:"LFO"},{name:"LFO 4",type:"LFO"},{name:"Random 1",type:"Random"},{name:"Random 2",type:"Random"},{name:"Random 3",type:"Random"},{name:"Random 4",type:"Random"},{name:"Macro 1",type:"Macro"},{name:"Macro 2",type:"Macro"},{name:"Macro 3",type:"Macro"},{name:"Macro 4",type:"Macro"},{name:"Velocity",type:"MIDI"},{name:"Mod Wheel",type:"MIDI"},{name:"Aftertouch",type:"MIDI"},{name:"Pitch Bend",type:"MIDI"},{name:"MPE Slide",type:"MPE"}],modDestinations:[{section:"Oscillator",params:["Wavetable Position","Spectral Warp","Level","Pan","Phase","Detune","Unison"]},{section:"Filter",params:["Cutoff","Resonance","Drive","Blend"]},{section:"Envelope",params:["Attack","Decay","Sustain","Release"]},{section:"LFO",params:["Rate","Shape","Phase"]},{section:"FX",params:["Mix","Feedback","Time","Tone"]},{section:"Global",params:["Master Tune","Master Level"]}],effects:[{name:"Chorus",modulatable:!0,parameters:[{name:"Rate",unit:"Hz",range:[.1,10],type:"float"},{name:"Depth",unit:"%",range:[0,100],type:"float"},{name:"Delay",unit:"ms",range:[1,30],type:"float"},{name:"Feedback",unit:"%",range:[0,95],type:"float"},{name:"Mix",unit:"%",range:[0,100],type:"float"}]},{name:"Phaser",modulatable:!0,parameters:[{name:"Rate",unit:"Hz",range:[.1,5],type:"float"},{name:"Depth",unit:"%",range:[0,100],type:"float"},{name:"Feedback",unit:"%",range:[0,95],type:"float"},{name:"Stages",unit:"",range:[2,12],type:"int"},{name:"Center",unit:"Hz",range:[100,2e3],type:"float"},{name:"Mix",unit:"%",range:[0,100],type:"float"}]},{name:"Distortion",modulatable:!0,parameters:[{name:"Drive",unit:"%",range:[0,100],type:"float"},{name:"Tone",unit:"Hz",range:[500,2e4],type:"float"},{name:"Mix",unit:"%",range:[0,100],type:"float"},{name:"Level",unit:"dB",range:[-12,12],type:"float"},{name:"Type",type:"enum",options:["SoftClip","HardClip","Tube","Fuzz"]}]},{name:"Compressor",modulatable:!0,parameters:[{name:"Threshold",unit:"dB",range:[-60,0],type:"float"},{name:"Ratio",unit:":",range:[1,20],type:"float"},{name:"Attack",unit:"ms",range:[.1,100],type:"float"},{name:"Release",unit:"ms",range:[10,2e3],type:"float"},{name:"Knee",unit:"dB",range:[0,12],type:"float"},{name:"MakeupGain",unit:"dB",range:[0,20],type:"float"},{name:"Mix",unit:"%",range:[0,100],type:"float"}]},{name:"EQ",modulatable:!0,parameters:[{name:"LowFreq",unit:"Hz",range:[20,500],type:"float"},{name:"LowGain",unit:"dB",range:[-12,12],type:"float"},{name:"MidFreq",unit:"Hz",range:[200,5e3],type:"float"},{name:"MidGain",unit:"dB",range:[-12,12],type:"float"},{name:"MidQ",unit:"",range:[.5,10],type:"float"},{name:"HighFreq",unit:"Hz",range:[1e3,2e4],type:"float"},{name:"HighGain",unit:"dB",range:[-12,12],type:"float"},{name:"Type",type:"enum",options:["LowShelf","Peaking","HighShelf"]}]},{name:"Reverb",modulatable:!0,parameters:[{name:"Decay",unit:"s",range:[.1,10],type:"float"},{name:"PreDelay",unit:"ms",range:[0,200],type:"float"},{name:"Damping",unit:"%",range:[0,100],type:"float"},{name:"Size",unit:"%",range:[0,100],type:"float"},{name:"HighCut",unit:"Hz",range:[500,2e4],type:"float"},{name:"LowCut",unit:"Hz",range:[20,1e3],type:"float"},{name:"Mix",unit:"%",range:[0,100],type:"float"},{name:"Type",type:"enum",options:["Room","Hall","Plate","Spring"]}]},{name:"Delay",modulatable:!0,parameters:[{name:"Time",unit:"ms",range:[1,5e3],type:"float"},{name:"Feedback",unit:"%",range:[0,100],type:"float"},{name:"Mix",unit:"%",range:[0,100],type:"float"},{name:"Sync",type:"boolean"},{name:"PingPong",type:"boolean"},{name:"Tone",unit:"Hz",range:[20,2e4],type:"float"}]},{name:"Filter (FX)",modulatable:!0,parameters:["Cutoff","Resonance","Drive","Mix"]}]},kP={name:"Pigments",oscillators:[{id:"1",name:"Osc 1",type:"Analog",params:["Waveform","Octave","Coarse","Fine","Level"]},{id:"2",name:"Osc 2",type:"Analog",params:["Waveform","Octave","Coarse","Fine","Level"]},{id:"3",name:"Sub Osc",type:"Analog",params:["Octave","Level"]}],filters:[{name:"Filter",types:["Ladder","SEM","Jupiter","Formant","Comb","Phaser","Notch"],defaultType:"Ladder",parameters:["Cutoff","Resonance","Drive","Blend","Mode","Keytrack"]}],modSources:[{name:"Env 1 (Amp)",type:"Envelope"},{name:"Env 2",type:"Envelope"},{name:"Env 3",type:"Envelope"},{name:"Env 4",type:"Envelope"},{name:"LFO 1",type:"LFO"},{name:"LFO 2",type:"LFO"},{name:"LFO 3",type:"LFO"},{name:"Function 1",type:"Function"},{name:"Function 2",type:"Function"},{name:"Function 3",type:"Function"},{name:"Macro 1",type:"Macro"},{name:"Macro 2",type:"Macro"},{name:"Macro 3",type:"Macro"},{name:"Macro 4",type:"Macro"},{name:"Random",type:"Random"},{name:"Velocity",type:"MIDI"},{name:"Aftertouch",type:"MIDI"},{name:"Mod Wheel",type:"MIDI"},{name:"Pitch Bend",type:"MIDI"},{name:"Keytrack",type:"MIDI"}],modDestinations:[{section:"Oscillator",params:["Wavetable Position","Analog Shape","Sample Start","Level","Pan","FM Amount"]},{section:"Filter",params:["Cutoff","Resonance","Drive","Blend"]},{section:"Envelope",params:["Attack","Decay","Sustain","Release"]},{section:"LFO",params:["Rate","Shape","Fade In"]},{section:"FX",params:["Mix","Feedback","Time","Tone"]},{section:"Global",params:["Master Tune","Master Level"]}],effects:[{name:"Chorus",modulatable:!0,parameters:[{name:"Rate",unit:"Hz",range:[.1,10],type:"float"},{name:"Depth",unit:"%",range:[0,100],type:"float"},{name:"Delay",unit:"ms",range:[1,30],type:"float"},{name:"Feedback",unit:"%",range:[0,95],type:"float"},{name:"Mix",unit:"%",range:[0,100],type:"float"}]},{name:"Phaser",modulatable:!0,parameters:[{name:"Rate",unit:"Hz",range:[.1,5],type:"float"},{name:"Depth",unit:"%",range:[0,100],type:"float"},{name:"Feedback",unit:"%",range:[0,95],type:"float"},{name:"Stages",unit:"",range:[2,12],type:"int"},{name:"Center",unit:"Hz",range:[100,2e3],type:"float"},{name:"Mix",unit:"%",range:[0,100],type:"float"}]},{name:"Distortion",modulatable:!0,parameters:[{name:"Drive",unit:"%",range:[0,100],type:"float"},{name:"Tone",unit:"Hz",range:[500,2e4],type:"float"},{name:"Mix",unit:"%",range:[0,100],type:"float"},{name:"Level",unit:"dB",range:[-12,12],type:"float"},{name:"Type",type:"enum",options:["SoftClip","HardClip","Tube","Fuzz"]}]},{name:"Compressor",modulatable:!0,parameters:[{name:"Threshold",unit:"dB",range:[-60,0],type:"float"},{name:"Ratio",unit:":",range:[1,20],type:"float"},{name:"Attack",unit:"ms",range:[.1,100],type:"float"},{name:"Release",unit:"ms",range:[10,2e3],type:"float"},{name:"Knee",unit:"dB",range:[0,12],type:"float"},{name:"MakeupGain",unit:"dB",range:[0,20],type:"float"},{name:"Mix",unit:"%",range:[0,100],type:"float"}]},{name:"EQ",modulatable:!0,parameters:[{name:"LowFreq",unit:"Hz",range:[20,500],type:"float"},{name:"LowGain",unit:"dB",range:[-12,12],type:"float"},{name:"MidFreq",unit:"Hz",range:[200,5e3],type:"float"},{name:"MidGain",unit:"dB",range:[-12,12],type:"float"},{name:"MidQ",unit:"",range:[.5,10],type:"float"},{name:"HighFreq",unit:"Hz",range:[1e3,2e4],type:"float"},{name:"HighGain",unit:"dB",range:[-12,12],type:"float"},{name:"Type",type:"enum",options:["LowShelf","Peaking","HighShelf"]}]},{name:"Reverb",modulatable:!0,parameters:[{name:"Decay",unit:"s",range:[.1,10],type:"float"},{name:"PreDelay",unit:"ms",range:[0,200],type:"float"},{name:"Damping",unit:"%",range:[0,100],type:"float"},{name:"Size",unit:"%",range:[0,100],type:"float"},{name:"HighCut",unit:"Hz",range:[500,2e4],type:"float"},{name:"LowCut",unit:"Hz",range:[20,1e3],type:"float"},{name:"Mix",unit:"%",range:[0,100],type:"float"},{name:"Type",type:"enum",options:["Room","Hall","Plate","Spring"]}]},{name:"Delay",modulatable:!0,parameters:[{name:"Time",unit:"ms",range:[1,5e3],type:"float"},{name:"Feedback",unit:"%",range:[0,100],type:"float"},{name:"Mix",unit:"%",range:[0,100],type:"float"},{name:"Sync",type:"boolean"},{name:"PingPong",type:"boolean"},{name:"Tone",unit:"Hz",range:[20,2e4],type:"float"}]},{name:"Filter (FX)",modulatable:!0,parameters:["Cutoff","Resonance","Drive","Mix"]}]},RP={name:"Diva",oscillators:[{id:"1",name:"Osc 1",type:"Analog",params:["Waveform","Octave","Coarse","Fine","Level"]},{id:"2",name:"Osc 2",type:"Analog",params:["Waveform","Octave","Coarse","Fine","Level"]},{id:"3",name:"Sub Osc",type:"Analog",params:["Octave","Level"]}],filters:[{name:"Filter",types:["Moog Ladder","Roland","Korg MS20","HP","BP"],defaultType:"Moog Ladder",parameters:["Cutoff","Resonance","Drive","Keytrack"]}],modSources:[{name:"Env 1 (Amp)",type:"Envelope"},{name:"Env 2 (Filter)",type:"Envelope"},{name:"LFO 1",type:"LFO"},{name:"LFO 2",type:"LFO"},{name:"Velocity",type:"MIDI"},{name:"Mod Wheel",type:"MIDI"},{name:"Aftertouch",type:"MIDI"},{name:"Keytrack",type:"MIDI"}],modDestinations:[{section:"Oscillator",params:["Pitch","Pulse Width"]},{section:"Filter",params:["Cutoff","Resonance","Drive"]},{section:"Amp",params:["Level"]}],effects:[]},NP={name:"Roland Juno-106",oscillators:[{id:"1",name:"Osc 1",type:"Analog",params:["Waveform","Octave","Coarse","Fine","Level"]},{id:"2",name:"Osc 2",type:"Analog",params:["Waveform","Octave","Coarse","Fine","Level"]},{id:"3",name:"Sub Osc",type:"Analog",params:["Octave","Level"]}],filters:[{name:"Filter",types:["Lowpass","Highpass"],defaultType:"Lowpass",parameters:["Cutoff","Resonance","ENV Amount","LFO Amount","Keytrack"]}],modSources:[{name:"ADSR Envelope",type:"Envelope"},{name:"LFO",type:"LFO"},{name:"Mod Lever",type:"Performance"},{name:"Keytrack",type:"MIDI"}],modDestinations:[{section:"Oscillator",params:["Pitch","Pulse Width"]},{section:"Filter",params:["Cutoff","Resonance"]},{section:"Amp",params:["Level"]}],effects:[{name:"Chorus",parameters:["On/Off","Mode"]}]},_P={name:"Arturia Analog Lab",oscillators:[{id:"1",name:"Osc 1",type:"Analog",params:["Waveform","Octave","Coarse","Fine","Level"]},{id:"2",name:"Osc 2",type:"Analog",params:["Waveform","Octave","Coarse","Fine","Level"]},{id:"3",name:"Sub Osc",type:"Analog",params:["Octave","Level"]}],filters:[{name:"Filter",types:["Lowpass","Highpass","Bandpass"],defaultType:"Lowpass",parameters:["Cutoff","Resonance"]}],modSources:[{name:"Macro 1 (Brightness)",type:"Macro"},{name:"Macro 2 (Timbre)",type:"Macro"},{name:"Macro 3 (Time)",type:"Macro"},{name:"Macro 4 (Movement)",type:"Macro"},{name:"Velocity",type:"MIDI"},{name:"Aftertouch",type:"MIDI"}],modDestinations:[{section:"Macros",params:["Brightness","Timbre","Time","Movement"]},{section:"Filter",params:["Cutoff","Resonance"]}],effects:[{name:"Macros (Brightness, Timbre, Time, Movement)"},{name:"Preset-dependent FX (varies by underlying synth)"}]},LP={name:"Generic Synth",oscillators:[{id:"1",name:"Osc 1",type:"Analog",params:["Waveform","Octave","Level"]}],filters:[{name:"Filter",types:["Lowpass","Highpass"],defaultType:"Lowpass",parameters:["Cutoff","Resonance"]}],modSources:[{name:"Env 1",type:"Envelope"},{name:"LFO 1",type:"LFO"}],modDestinations:[{section:"Oscillator",params:["Pitch","Level"]},{section:"Filter",params:["Cutoff","Resonance"]},{section:"Amp",params:["Level"]}],effects:[{name:"Chorus",modulatable:!0,parameters:[{name:"Rate",unit:"Hz",range:[.1,10],type:"float"},{name:"Depth",unit:"%",range:[0,100],type:"float"},{name:"Delay",unit:"ms",range:[1,30],type:"float"},{name:"Feedback",unit:"%",range:[0,95],type:"float"},{name:"Mix",unit:"%",range:[0,100],type:"float"}]},{name:"Delay",modulatable:!0,parameters:[{name:"Time",unit:"ms",range:[1,5e3],type:"float"},{name:"Feedback",unit:"%",range:[0,100],type:"float"},{name:"Mix",unit:"%",range:[0,100],type:"float"},{name:"Sync",type:"boolean"},{name:"PingPong",type:"boolean"},{name:"Tone",unit:"Hz",range:[20,2e4],type:"float"}]},{name:"Reverb",modulatable:!0,parameters:[{name:"Decay",unit:"s",range:[.1,10],type:"float"},{name:"PreDelay",unit:"ms",range:[0,200],type:"float"},{name:"Damping",unit:"%",range:[0,100],type:"float"},{name:"Size",unit:"%",range:[0,100],type:"float"},{name:"HighCut",unit:"Hz",range:[500,2e4],type:"float"},{name:"LowCut",unit:"Hz",range:[20,1e3],type:"float"},{name:"Mix",unit:"%",range:[0,100],type:"float"},{name:"Type",type:"enum",options:["Room","Hall","Plate","Spring"]}]},{name:"Filter (FX)",modulatable:!0,parameters:["Cutoff","Resonance","Drive","Mix"]}]},VP={name:"Apple Alchemy",oscillators:[{id:"1",name:"Osc 1",type:"Analog",params:["Waveform","Octave","Coarse","Fine","Level"]},{id:"2",name:"Osc 2",type:"Analog",params:["Waveform","Octave","Coarse","Fine","Level"]},{id:"3",name:"Sub Osc",type:"Analog",params:["Octave","Level"]}],filters:[{name:"Filter",types:["Lowpass","Highpass","Bandpass","Notch","Comb","Formant"],defaultType:"Lowpass",parameters:["Cutoff","Resonance","Drive","Keytrack","Mix"]}],modSources:[{name:"Env 1",type:"Envelope"},{name:"Env 2",type:"Envelope"},{name:"Env 3",type:"Envelope"},{name:"Env 4",type:"Envelope"},{name:"LFO 1",type:"LFO"},{name:"LFO 2",type:"LFO"},{name:"LFO 3",type:"LFO"},{name:"LFO 4",type:"LFO"},{name:"Keytrack",type:"MIDI"},{name:"Velocity",type:"MIDI"},{name:"Mod Wheel",type:"MIDI"},{name:"Aftertouch",type:"MIDI"},{name:"Pitch Bend",type:"MIDI"}],modDestinations:[{section:"Oscillator",params:["Pitch","Level","Pan","Wave Shape"]},{section:"Filter",params:["Cutoff","Resonance","Drive","Mix"]},{section:"Amp",params:["Level"]}],effects:[{name:"Compressor",modulatable:!0,parameters:[{name:"Threshold",unit:"dB",range:[-60,0],type:"float"},{name:"Ratio",unit:":",range:[1,20],type:"float"},{name:"Attack",unit:"ms",range:[.1,100],type:"float"},{name:"Release",unit:"ms",range:[10,2e3],type:"float"},{name:"Knee",unit:"dB",range:[0,12],type:"float"},{name:"MakeupGain",unit:"dB",range:[0,20],type:"float"},{name:"Mix",unit:"%",range:[0,100],type:"float"}]},{name:"Distortion",modulatable:!0,parameters:[{name:"Drive",unit:"%",range:[0,100],type:"float"},{name:"Tone",unit:"Hz",range:[500,2e4],type:"float"},{name:"Mix",unit:"%",range:[0,100],type:"float"},{name:"Level",unit:"dB",range:[-12,12],type:"float"},{name:"Type",type:"enum",options:["SoftClip","HardClip","Tube","Fuzz"]}]},{name:"Chorus",modulatable:!0,parameters:[{name:"Rate",unit:"Hz",range:[.1,10],type:"float"},{name:"Depth",unit:"%",range:[0,100],type:"float"},{name:"Delay",unit:"ms",range:[1,30],type:"float"},{name:"Feedback",unit:"%",range:[0,95],type:"float"},{name:"Mix",unit:"%",range:[0,100],type:"float"}]},{name:"Phaser",modulatable:!0,parameters:[{name:"Rate",unit:"Hz",range:[.1,5],type:"float"},{name:"Depth",unit:"%",range:[0,100],type:"float"},{name:"Feedback",unit:"%",range:[0,95],type:"float"},{name:"Stages",unit:"",range:[2,12],type:"int"},{name:"Center",unit:"Hz",range:[100,2e3],type:"float"},{name:"Mix",unit:"%",range:[0,100],type:"float"}]},{name:"Flanger",modulatable:!0,parameters:[{name:"Rate",unit:"Hz",range:[.1,5],type:"float"},{name:"Depth",unit:"%",range:[0,100],type:"float"},{name:"Manual",unit:"ms",range:[0,10],type:"float"},{name:"Feedback",unit:"%",range:[0,99],type:"float"},{name:"Phase",unit:"°",range:[0,180],type:"float"},{name:"Mix",unit:"%",range:[0,100],type:"float"},{name:"LFOShape",type:"enum",options:["Sine","Triangle","Saw"]}]},{name:"EQ",modulatable:!0,parameters:[{name:"LowFreq",unit:"Hz",range:[20,500],type:"float"},{name:"LowGain",unit:"dB",range:[-12,12],type:"float"},{name:"MidFreq",unit:"Hz",range:[200,5e3],type:"float"},{name:"MidGain",unit:"dB",range:[-12,12],type:"float"},{name:"MidQ",unit:"",range:[.5,10],type:"float"},{name:"HighFreq",unit:"Hz",range:[1e3,2e4],type:"float"},{name:"HighGain",unit:"dB",range:[-12,12],type:"float"},{name:"Type",type:"enum",options:["LowShelf","Peaking","HighShelf"]}]},{name:"Reverb",modulatable:!0,parameters:[{name:"Decay",unit:"s",range:[.1,10],type:"float"},{name:"PreDelay",unit:"ms",range:[0,200],type:"float"},{name:"Damping",unit:"%",range:[0,100],type:"float"},{name:"Size",unit:"%",range:[0,100],type:"float"},{name:"HighCut",unit:"Hz",range:[500,2e4],type:"float"},{name:"LowCut",unit:"Hz",range:[20,1e3],type:"float"},{name:"Mix",unit:"%",range:[0,100],type:"float"},{name:"Type",type:"enum",options:["Room","Hall","Plate","Spring"]}]},{name:"Delay",modulatable:!0,parameters:[{name:"Time",unit:"ms",range:[1,5e3],type:"float"},{name:"Feedback",unit:"%",range:[0,100],type:"float"},{name:"Mix",unit:"%",range:[0,100],type:"float"},{name:"Sync",type:"boolean"},{name:"PingPong",type:"boolean"},{name:"Tone",unit:"Hz",range:[20,2e4],type:"float"}]},{name:"Filter (FX)",modulatable:!0,parameters:["Cutoff","Resonance","Drive","Mix"]}]},PP={name:"Ableton Operator",oscillators:[{id:"A",name:"Osc A",type:"FM",params:["Coarse","Fine","Level","Waveform"]},{id:"B",name:"Osc B",type:"FM",params:["Coarse","Fine","Level","Waveform"]},{id:"C",name:"Osc C",type:"FM",params:["Coarse","Fine","Level","Waveform"]},{id:"D",name:"Osc D",type:"FM",params:["Coarse","Fine","Level","Waveform"]}],filters:[{name:"Filter",types:["Lowpass","Highpass","Bandpass","Notch"],defaultType:"Lowpass",parameters:["Cutoff","Resonance","Drive","Mix"]}],modSources:[{name:"Env 1",type:"Envelope"},{name:"Env 2",type:"Envelope"},{name:"LFO 1",type:"LFO"},{name:"LFO 2",type:"LFO"},{name:"Keytrack",type:"MIDI"},{name:"Velocity",type:"MIDI"},{name:"Mod Wheel",type:"MIDI"},{name:"Aftertouch",type:"MIDI"},{name:"Pitch Bend",type:"MIDI"}],modDestinations:[{section:"Oscillator",params:["Coarse","Fine","Level","Waveform"]},{section:"Filter",params:["Cutoff","Resonance","Drive","Mix"]},{section:"Amp",params:["Level"]}],effects:[{name:"Chorus",modulatable:!0,parameters:[{name:"Rate",unit:"Hz",range:[.1,10],type:"float"},{name:"Depth",unit:"%",range:[0,100],type:"float"},{name:"Delay",unit:"ms",range:[1,30],type:"float"},{name:"Feedback",unit:"%",range:[0,95],type:"float"},{name:"Mix",unit:"%",range:[0,100],type:"float"}]},{name:"Delay",modulatable:!0,parameters:[{name:"Time",unit:"ms",range:[1,5e3],type:"float"},{name:"Feedback",unit:"%",range:[0,100],type:"float"},{name:"Mix",unit:"%",range:[0,100],type:"float"},{name:"Sync",type:"boolean"},{name:"PingPong",type:"boolean"},{name:"Tone",unit:"Hz",range:[20,2e4],type:"float"}]},{name:"Reverb",modulatable:!0,parameters:[{name:"Decay",unit:"s",range:[.1,10],type:"float"},{name:"PreDelay",unit:"ms",range:[0,200],type:"float"},{name:"Damping",unit:"%",range:[0,100],type:"float"},{name:"Size",unit:"%",range:[0,100],type:"float"},{name:"HighCut",unit:"Hz",range:[500,2e4],type:"float"},{name:"LowCut",unit:"Hz",range:[20,1e3],type:"float"},{name:"Mix",unit:"%",range:[0,100],type:"float"},{name:"Type",type:"enum",options:["Room","Hall","Plate","Spring"]}]},{name:"Filter (FX)",modulatable:!0,parameters:["Cutoff","Resonance","Drive","Mix"]}]},BP={name:"Native Instruments FM8",operators:[{id:"A",name:"Operator A",params:["Ratio","Offset","Level","Waveform"]},{id:"B",name:"Operator B",params:["Ratio","Offset","Level","Waveform"]},{id:"C",name:"Operator C",params:["Ratio","Offset","Level","Waveform"]},{id:"D",name:"Operator D",params:["Ratio","Offset","Level","Waveform"]},{id:"E",name:"Operator E",params:["Ratio","Offset","Level","Waveform"]},{id:"F",name:"Operator F",params:["Ratio","Offset","Level","Waveform"]},{id:"X",name:"Noise/Saturation",params:["Level","Color"]}],filters:[{name:"Filter",types:["Lowpass","Highpass","Bandpass","Notch"],defaultType:"Lowpass",parameters:["Cutoff","Resonance","Drive","Mix"]}],modSources:[{name:"Env 1",type:"Envelope"},{name:"Env 2",type:"Envelope"},{name:"Env 3",type:"Envelope"},{name:"Env 4",type:"Envelope"},{name:"LFO 1",type:"LFO"},{name:"LFO 2",type:"LFO"},{name:"LFO 3",type:"LFO"},{name:"LFO 4",type:"LFO"},{name:"Keytrack",type:"MIDI"},{name:"Velocity",type:"MIDI"},{name:"Mod Wheel",type:"MIDI"},{name:"Aftertouch",type:"MIDI"},{name:"Pitch Bend",type:"MIDI"}],modDestinations:[{section:"Operator",params:["Level","Ratio","Offset","Waveform"]},{section:"Filter",params:["Cutoff","Resonance","Drive","Mix"]},{section:"Amp",params:["Level"]}],effects:[{name:"Chorus",modulatable:!0,parameters:[{name:"Rate",unit:"Hz",range:[.1,10],type:"float"},{name:"Depth",unit:"%",range:[0,100],type:"float"},{name:"Delay",unit:"ms",range:[1,30],type:"float"},{name:"Feedback",unit:"%",range:[0,95],type:"float"},{name:"Mix",unit:"%",range:[0,100],type:"float"}]},{name:"Delay",modulatable:!0,parameters:[{name:"Time",unit:"ms",range:[1,5e3],type:"float"},{name:"Feedback",unit:"%",range:[0,100],type:"float"},{name:"Mix",unit:"%",range:[0,100],type:"float"},{name:"Sync",type:"boolean"},{name:"PingPong",type:"boolean"},{name:"Tone",unit:"Hz",range:[20,2e4],type:"float"}]},{name:"Reverb",modulatable:!0,parameters:[{name:"Decay",unit:"s",range:[.1,10],type:"float"},{name:"PreDelay",unit:"ms",range:[0,200],type:"float"},{name:"Damping",unit:"%",range:[0,100],type:"float"},{name:"Size",unit:"%",range:[0,100],type:"float"},{name:"HighCut",unit:"Hz",range:[500,2e4],type:"float"},{name:"LowCut",unit:"Hz",range:[20,1e3],type:"float"},{name:"Mix",unit:"%",range:[0,100],type:"float"},{name:"Type",type:"enum",options:["Room","Hall","Plate","Spring"]}]},{name:"Filter (FX)",modulatable:!0,parameters:["Cutoff","Resonance","Drive","Mix"]}]},OP={name:"Hive 2",oscillators:[{id:"1",name:"Osc 1",type:"Wavetable",params:["Waveform","Octave","Semitone","Detune","Level"]},{id:"2",name:"Osc 2",type:"Wavetable",params:["Waveform","Octave","Semitone","Detune","Level"]},{id:"Sub",name:"Sub Osc",type:"Analog",params:["Octave","Level"]}],filters:[{name:"Filter 1",types:["Lowpass 12dB","Lowpass 24dB","Highpass 12dB","Highpass 24dB","Bandpass 12dB","Bandpass 24dB","Notch","Peak","Comb+","Comb-","Allpass"],defaultType:"Lowpass 24dB",parameters:["Cutoff","Resonance","Drive","Keytrack","Mix"]},{name:"Filter 2",types:["Lowpass 12dB","Lowpass 24dB","Highpass 12dB","Highpass 24dB","Bandpass 12dB","Bandpass 24dB","Notch","Peak","Comb+","Comb-","Allpass"],defaultType:"Lowpass 24dB",parameters:["Cutoff","Resonance","Drive","Keytrack","Mix"]}],modSources:[{name:"Env 1",type:"Envelope"},{name:"Env 2",type:"Envelope"},{name:"Env 3",type:"Envelope"},{name:"LFO 1",type:"LFO"},{name:"LFO 2",type:"LFO"},{name:"LFO 3",type:"LFO"},{name:"LFO 4",type:"LFO"},{name:"Seq/Arp",type:"Sequencer"},{name:"Keytrack",type:"MIDI"},{name:"Velocity",type:"MIDI"},{name:"Mod Wheel",type:"MIDI"},{name:"Aftertouch",type:"MIDI"},{name:"Pitch Bend",type:"MIDI"}],modDestinations:[{section:"Oscillator",params:["Pitch","Level","Pan","Wave Shape"]},{section:"Filter 1",params:["Cutoff","Resonance","Drive","Mix"]},{section:"Filter 2",params:["Cutoff","Resonance","Drive","Mix"]},{section:"Amp",params:["Level"]}],effects:[{name:"Distortion",modulatable:!0,parameters:[{name:"Drive",unit:"%",range:[0,100],type:"float"},{name:"Tone",unit:"Hz",range:[500,2e4],type:"float"},{name:"Mix",unit:"%",range:[0,100],type:"float"},{name:"Level",unit:"dB",range:[-12,12],type:"float"},{name:"Type",type:"enum",options:["SoftClip","HardClip","Tube","Fuzz"]}]},{name:"Chorus",modulatable:!0,parameters:[{name:"Rate",unit:"Hz",range:[.1,10],type:"float"},{name:"Depth",unit:"%",range:[0,100],type:"float"},{name:"Delay",unit:"ms",range:[1,30],type:"float"},{name:"Feedback",unit:"%",range:[0,95],type:"float"},{name:"Mix",unit:"%",range:[0,100],type:"float"}]},{name:"Phaser",modulatable:!0,parameters:[{name:"Rate",unit:"Hz",range:[.1,5],type:"float"},{name:"Depth",unit:"%",range:[0,100],type:"float"},{name:"Feedback",unit:"%",range:[0,95],type:"float"},{name:"Stages",unit:"",range:[2,12],type:"int"},{name:"Center",unit:"Hz",range:[100,2e3],type:"float"},{name:"Mix",unit:"%",range:[0,100],type:"float"}]},{name:"Flanger",modulatable:!0,parameters:[{name:"Rate",unit:"Hz",range:[.1,5],type:"float"},{name:"Depth",unit:"%",range:[0,100],type:"float"},{name:"Manual",unit:"ms",range:[0,10],type:"float"},{name:"Feedback",unit:"%",range:[0,99],type:"float"},{name:"Phase",unit:"°",range:[0,180],type:"float"},{name:"Mix",unit:"%",range:[0,100],type:"float"},{name:"LFOShape",type:"enum",options:["Sine","Triangle","Saw"]}]},{name:"EQ",modulatable:!0,parameters:[{name:"LowFreq",unit:"Hz",range:[20,500],type:"float"},{name:"LowGain",unit:"dB",range:[-12,12],type:"float"},{name:"MidFreq",unit:"Hz",range:[200,5e3],type:"float"},{name:"MidGain",unit:"dB",range:[-12,12],type:"float"},{name:"MidQ",unit:"",range:[.5,10],type:"float"},{name:"HighFreq",unit:"Hz",range:[1e3,2e4],type:"float"},{name:"HighGain",unit:"dB",range:[-12,12],type:"float"},{name:"Type",type:"enum",options:["LowShelf","Peaking","HighShelf"]}]},{name:"Reverb",modulatable:!0,parameters:[{name:"Decay",unit:"s",range:[.1,10],type:"float"},{name:"PreDelay",unit:"ms",range:[0,200],type:"float"},{name:"Damping",unit:"%",range:[0,100],type:"float"},{name:"Size",unit:"%",range:[0,100],type:"float"},{name:"HighCut",unit:"Hz",range:[500,2e4],type:"float"},{name:"LowCut",unit:"Hz",range:[20,1e3],type:"float"},{name:"Mix",unit:"%",range:[0,100],type:"float"},{name:"Type",type:"enum",options:["Room","Hall","Plate","Spring"]}]},{name:"Delay",modulatable:!0,parameters:[{name:"Time",unit:"ms",range:[1,5e3],type:"float"},{name:"Feedback",unit:"%",range:[0,100],type:"float"},{name:"Mix",unit:"%",range:[0,100],type:"float"},{name:"Sync",type:"boolean"},{name:"PingPong",type:"boolean"},{name:"Tone",unit:"Hz",range:[20,2e4],type:"float"}]},{name:"Filter (FX)",modulatable:!0,parameters:["Cutoff","Resonance","Drive","Mix"]}]},FP={name:"Native Instruments Massive X",oscillators:[{id:"1",name:"Osc 1",type:"Wavetable",params:["Wavetable","Pitch","Warp","Level"]},{id:"2",name:"Osc 2",type:"Wavetable",params:["Wavetable","Pitch","Warp","Level"]}],filters:[{name:"Filter",types:["SVF","Ladder","Comb","Scanner","Groian","Blue Monark","Creak","Crusher"],defaultType:"SVF",parameters:["Cutoff","Resonance","Drive","Mix","Type"]}],modSources:[{name:"Env 1",type:"Envelope"},{name:"Env 2",type:"Envelope"},{name:"Env 3",type:"Envelope"},{name:"Env 4",type:"Envelope"},{name:"LFO 1",type:"LFO"},{name:"LFO 2",type:"LFO"},{name:"LFO 3",type:"LFO"},{name:"Performer 1",type:"Performer"},{name:"Performer 2",type:"Performer"},{name:"Random",type:"Random"},{name:"Keytrack",type:"MIDI"},{name:"Velocity",type:"MIDI"},{name:"Mod Wheel",type:"MIDI"},{name:"Aftertouch",type:"MIDI"},{name:"Pitch Bend",type:"MIDI"}],modDestinations:[{section:"Oscillator",params:["Pitch","Warp","Level"]},{section:"Filter",params:["Cutoff","Resonance","Drive","Mix"]},{section:"Amp",params:["Level"]}],effects:[{name:"Insert FX 1",modulatable:!0,parameters:["Type","Mix","Param 1","Param 2"]},{name:"Insert FX 2",modulatable:!0,parameters:["Type","Mix","Param 1","Param 2"]},{name:"Insert FX 3",modulatable:!0,parameters:["Type","Mix","Param 1","Param 2"]},{name:"Stereo FX 1",modulatable:!0,parameters:["Type","Mix","Param 1","Param 2"]},{name:"Stereo FX 2",modulatable:!0,parameters:["Type","Mix","Param 1","Param 2"]},{name:"Stereo FX 3",modulatable:!0,parameters:["Type","Mix","Param 1","Param 2"]},{name:"EQ",modulatable:!0,parameters:[{name:"Low Gain",unit:"dB",range:[-12,12],type:"float"},{name:"Mid Freq",unit:"Hz",range:[200,5e3],type:"float"},{name:"Mid Gain",unit:"dB",range:[-12,12],type:"float"},{name:"High Gain",unit:"dB",range:[-12,12],type:"float"}]},{name:"Compressor",modulatable:!0,parameters:[{name:"Threshold",unit:"dB",range:[-60,0],type:"float"},{name:"Ratio",unit:":",range:[1,20],type:"float"},{name:"Attack",unit:"ms",range:[.1,100],type:"float"},{name:"Release",unit:"ms",range:[10,2e3],type:"float"},{name:"Knee",unit:"dB",range:[0,12],type:"float"},{name:"MakeupGain",unit:"dB",range:[0,20],type:"float"},{name:"Mix",unit:"%",range:[0,100],type:"float"}]}]},zP={name:"Omnisphere",oscillators:[{id:"A",name:"Layer A",type:"Sample/Synth",params:["Sample/Waveform","Pitch","Level","Pan"]},{id:"B",name:"Layer B",type:"Sample/Synth",params:["Sample/Waveform","Pitch","Level","Pan"]},{id:"C",name:"Layer C",type:"Sample/Synth",params:["Sample/Waveform","Pitch","Level","Pan"]},{id:"D",name:"Layer D",type:"Sample/Synth",params:["Sample/Waveform","Pitch","Level","Pan"]}],filters:[{name:"Filter",types:["Lowpass","Highpass","Bandpass","Notch","Resonator","Formant","Power Filter"],defaultType:"Lowpass",parameters:["Cutoff","Resonance","Drive","Keytrack","Mix"]}],modSources:[{name:"Env 1",type:"Envelope"},{name:"Env 2",type:"Envelope"},{name:"Env 3",type:"Envelope"},{name:"Env 4",type:"Envelope"},{name:"LFO 1",type:"LFO"},{name:"LFO 2",type:"LFO"},{name:"LFO 3",type:"LFO"},{name:"LFO 4",type:"LFO"},{name:"Keytrack",type:"MIDI"},{name:"Velocity",type:"MIDI"},{name:"Mod Wheel",type:"MIDI"},{name:"Aftertouch",type:"MIDI"},{name:"Pitch Bend",type:"MIDI"}],modDestinations:[{section:"Oscillator",params:["Pitch","Level","Pan"]},{section:"Filter",params:["Cutoff","Resonance","Drive","Mix"]},{section:"Amp",params:["Level"]}],effects:[{name:"Chorus",modulatable:!0,parameters:[{name:"Rate",unit:"Hz",range:[.1,10],type:"float"},{name:"Depth",unit:"%",range:[0,100],type:"float"},{name:"Delay",unit:"ms",range:[1,30],type:"float"},{name:"Feedback",unit:"%",range:[0,95],type:"float"},{name:"Mix",unit:"%",range:[0,100],type:"float"}]},{name:"Flanger",modulatable:!0,parameters:[{name:"Rate",unit:"Hz",range:[.1,5],type:"float"},{name:"Depth",unit:"%",range:[0,100],type:"float"},{name:"Manual",unit:"ms",range:[0,10],type:"float"},{name:"Feedback",unit:"%",range:[0,99],type:"float"},{name:"Phase",unit:"°",range:[0,180],type:"float"},{name:"Mix",unit:"%",range:[0,100],type:"float"},{name:"LFOShape",type:"enum",options:["Sine","Triangle","Saw"]}]},{name:"Phaser",modulatable:!0,parameters:[{name:"Rate",unit:"Hz",range:[.1,5],type:"float"},{name:"Depth",unit:"%",range:[0,100],type:"float"},{name:"Feedback",unit:"%",range:[0,95],type:"float"},{name:"Stages",unit:"",range:[2,12],type:"int"},{name:"Center",unit:"Hz",range:[100,2e3],type:"float"},{name:"Mix",unit:"%",range:[0,100],type:"float"}]},{name:"Distortion",modulatable:!0,parameters:[{name:"Drive",unit:"%",range:[0,100],type:"float"},{name:"Tone",unit:"Hz",range:[500,2e4],type:"float"},{name:"Mix",unit:"%",range:[0,100],type:"float"},{name:"Level",unit:"dB",range:[-12,12],type:"float"},{name:"Type",type:"enum",options:["SoftClip","HardClip","Tube","Fuzz"]}]},{name:"Compressor",modulatable:!0,parameters:[{name:"Threshold",unit:"dB",range:[-60,0],type:"float"},{name:"Ratio",unit:":",range:[1,20],type:"float"},{name:"Attack",unit:"ms",range:[.1,100],type:"float"},{name:"Release",unit:"ms",range:[10,2e3],type:"float"},{name:"Knee",unit:"dB",range:[0,12],type:"float"},{name:"MakeupGain",unit:"dB",range:[0,20],type:"float"},{name:"Mix",unit:"%",range:[0,100],type:"float"}]},{name:"EQ",modulatable:!0,parameters:[{name:"LowFreq",unit:"Hz",range:[20,500],type:"float"},{name:"LowGain",unit:"dB",range:[-12,12],type:"float"},{name:"MidFreq",unit:"Hz",range:[200,5e3],type:"float"},{name:"MidGain",unit:"dB",range:[-12,12],type:"float"},{name:"MidQ",unit:"",range:[.5,10],type:"float"},{name:"HighFreq",unit:"Hz",range:[1e3,2e4],type:"float"},{name:"HighGain",unit:"dB",range:[-12,12],type:"float"},{name:"Type",type:"enum",options:["LowShelf","Peaking","HighShelf"]}]},{name:"Reverb",modulatable:!0,parameters:[{name:"Decay",unit:"s",range:[.1,10],type:"float"},{name:"PreDelay",unit:"ms",range:[0,200],type:"float"},{name:"Damping",unit:"%",range:[0,100],type:"float"},{name:"Size",unit:"%",range:[0,100],type:"float"},{name:"HighCut",unit:"Hz",range:[500,2e4],type:"float"},{name:"LowCut",unit:"Hz",range:[20,1e3],type:"float"},{name:"Mix",unit:"%",range:[0,100],type:"float"},{name:"Type",type:"enum",options:["Room","Hall","Plate","Spring"]}]},{name:"Delay",modulatable:!0,parameters:[{name:"Time",unit:"ms",range:[1,5e3],type:"float"},{name:"Feedback",unit:"%",range:[0,100],type:"float"},{name:"Mix",unit:"%",range:[0,100],type:"float"},{name:"Sync",type:"boolean"},{name:"PingPong",type:"boolean"},{name:"Tone",unit:"Hz",range:[20,2e4],type:"float"}]},{name:"Filter (FX)",modulatable:!0,parameters:["Cutoff","Resonance","Drive","Mix"]}]},jP={name:"Apple Retro Synth",oscillators:[{id:"1",name:"Osc 1",type:"Analog/Digital/FM/Wave",params:["Type","Waveform","Octave","Detune","Level"]},{id:"2",name:"Osc 2",type:"Analog/Digital/FM/Wave",params:["Type","Waveform","Octave","Detune","Level"]}],filters:[{name:"Filter",types:["Lowpass","Highpass","Bandpass","Notch"],defaultType:"Lowpass",parameters:["Cutoff","Resonance","Drive","Keytrack","Mix"]}],modSources:[{name:"Env 1",type:"Envelope"},{name:"Env 2",type:"Envelope"},{name:"LFO 1",type:"LFO"},{name:"LFO 2",type:"LFO"},{name:"Keytrack",type:"MIDI"},{name:"Velocity",type:"MIDI"},{name:"Mod Wheel",type:"MIDI"},{name:"Aftertouch",type:"MIDI"},{name:"Pitch Bend",type:"MIDI"}],modDestinations:[{section:"Oscillator",params:["Pitch","Level","Type","Waveform"]},{section:"Filter",params:["Cutoff","Resonance","Drive","Mix"]},{section:"Amp",params:["Level"]}],effects:[{name:"Chorus",modulatable:!0,parameters:[{name:"Rate",unit:"Hz",range:[.1,10],type:"float"},{name:"Depth",unit:"%",range:[0,100],type:"float"},{name:"Delay",unit:"ms",range:[1,30],type:"float"},{name:"Feedback",unit:"%",range:[0,95],type:"float"},{name:"Mix",unit:"%",range:[0,100],type:"float"}]},{name:"Flanger",modulatable:!0,parameters:[{name:"Rate",unit:"Hz",range:[.1,5],type:"float"},{name:"Depth",unit:"%",range:[0,100],type:"float"},{name:"Manual",unit:"ms",range:[0,10],type:"float"},{name:"Feedback",unit:"%",range:[0,99],type:"float"},{name:"Phase",unit:"°",range:[0,180],type:"float"},{name:"Mix",unit:"%",range:[0,100],type:"float"},{name:"LFOShape",type:"enum",options:["Sine","Triangle","Saw"]}]},{name:"Phaser",modulatable:!0,parameters:[{name:"Rate",unit:"Hz",range:[.1,5],type:"float"},{name:"Depth",unit:"%",range:[0,100],type:"float"},{name:"Feedback",unit:"%",range:[0,95],type:"float"},{name:"Stages",unit:"",range:[2,12],type:"int"},{name:"Center",unit:"Hz",range:[100,2e3],type:"float"},{name:"Mix",unit:"%",range:[0,100],type:"float"}]},{name:"Distortion",modulatable:!0,parameters:[{name:"Drive",unit:"%",range:[0,100],type:"float"},{name:"Tone",unit:"Hz",range:[500,2e4],type:"float"},{name:"Mix",unit:"%",range:[0,100],type:"float"},{name:"Level",unit:"dB",range:[-12,12],type:"float"},{name:"Type",type:"enum",options:["SoftClip","HardClip","Tube","Fuzz"]}]},{name:"Compressor",modulatable:!0,parameters:[{name:"Threshold",unit:"dB",range:[-60,0],type:"float"},{name:"Ratio",unit:":",range:[1,20],type:"float"},{name:"Attack",unit:"ms",range:[.1,100],type:"float"},{name:"Release",unit:"ms",range:[10,2e3],type:"float"},{name:"Knee",unit:"dB",range:[0,12],type:"float"},{name:"MakeupGain",unit:"dB",range:[0,20],type:"float"},{name:"Mix",unit:"%",range:[0,100],type:"float"}]},{name:"EQ",modulatable:!0,parameters:[{name:"LowFreq",unit:"Hz",range:[20,500],type:"float"},{name:"LowGain",unit:"dB",range:[-12,12],type:"float"},{name:"MidFreq",unit:"Hz",range:[200,5e3],type:"float"},{name:"MidGain",unit:"dB",range:[-12,12],type:"float"},{name:"MidQ",unit:"",range:[.5,10],type:"float"},{name:"HighFreq",unit:"Hz",range:[1e3,2e4],type:"float"},{name:"HighGain",unit:"dB",range:[-12,12],type:"float"},{name:"Type",type:"enum",options:["LowShelf","Peaking","HighShelf"]}]},{name:"Reverb",modulatable:!0,parameters:[{name:"Decay",unit:"s",range:[.1,10],type:"float"},{name:"PreDelay",unit:"ms",range:[0,200],type:"float"},{name:"Damping",unit:"%",range:[0,100],type:"float"},{name:"Size",unit:"%",range:[0,100],type:"float"},{name:"HighCut",unit:"Hz",range:[500,2e4],type:"float"},{name:"LowCut",unit:"Hz",range:[20,1e3],type:"float"},{name:"Mix",unit:"%",range:[0,100],type:"float"},{name:"Type",type:"enum",options:["Room","Hall","Plate","Spring"]}]},{name:"Delay",modulatable:!0,parameters:[{name:"Time",unit:"ms",range:[1,5e3],type:"float"},{name:"Feedback",unit:"%",range:[0,100],type:"float"},{name:"Mix",unit:"%",range:[0,100],type:"float"},{name:"Sync",type:"boolean"},{name:"PingPong",type:"boolean"},{name:"Tone",unit:"Hz",range:[20,2e4],type:"float"}]},{name:"Filter (FX)",modulatable:!0,parameters:["Cutoff","Resonance","Drive","Mix"]}]},HP={name:"Roland SH-101",oscillators:[{id:"1",name:"Osc 1",type:"Analog",params:["Waveform","Octave","Sub Level","Pulse Width","Level"]}],filters:[{name:"VCF",types:["Lowpass"],defaultType:"Lowpass",parameters:["Cutoff","Resonance","Env Mod","Keytrack"]}],modSources:[{name:"Env",type:"Envelope"},{name:"LFO",type:"LFO"},{name:"Keytrack",type:"MIDI"},{name:"Mod Wheel",type:"MIDI"},{name:"Pitch Bend",type:"MIDI"}],modDestinations:[{section:"Oscillator",params:["Pitch","Pulse Width","Level"]},{section:"VCF",params:["Cutoff","Resonance","Env Mod"]},{section:"Amp",params:["Level"]}],effects:[{name:"Chorus",modulatable:!1,parameters:["Rate","Depth","Mix"]}]},UP={name:"Sylenth1",oscillators:[{id:"A1",name:"Osc A1",type:"Analog",params:["Waveform","Voices","Detune","Stereo","Phase","Volume"]},{id:"A2",name:"Osc A2",type:"Analog",params:["Waveform","Voices","Detune","Stereo","Phase","Volume"]},{id:"B1",name:"Osc B1",type:"Analog",params:["Waveform","Voices","Detune","Stereo","Phase","Volume"]},{id:"B2",name:"Osc B2",type:"Analog",params:["Waveform","Voices","Detune","Stereo","Phase","Volume"]}],filters:[{name:"Filter A",types:["Lowpass","Highpass","Bandpass"],defaultType:"Lowpass",parameters:["Cutoff","Resonance","Drive","Keytrack"]},{name:"Filter B",types:["Lowpass","Highpass","Bandpass"],defaultType:"Lowpass",parameters:["Cutoff","Resonance","Drive","Keytrack"]}],modSources:[{name:"Env 1",type:"Envelope"},{name:"Env 2",type:"Envelope"},{name:"LFO 1",type:"LFO"},{name:"LFO 2",type:"LFO"},{name:"Mod Wheel",type:"MIDI"},{name:"Pitch Bend",type:"MIDI"},{name:"Velocity",type:"MIDI"},{name:"Keytrack",type:"MIDI"}],modDestinations:[{section:"Oscillator",params:["Pitch","Detune","Volume"]},{section:"Filter A",params:["Cutoff","Resonance","Drive"]},{section:"Filter B",params:["Cutoff","Resonance","Drive"]},{section:"Amp",params:["Level"]}],effects:[{name:"Distortion",modulatable:!0,parameters:[{name:"Drive",unit:"%",range:[0,100],type:"float"},{name:"Tone",unit:"Hz",range:[500,2e4],type:"float"},{name:"Mix",unit:"%",range:[0,100],type:"float"},{name:"Level",unit:"dB",range:[-12,12],type:"float"},{name:"Type",type:"enum",options:["SoftClip","HardClip","Tube","Fuzz"]}]},{name:"Phaser",modulatable:!0,parameters:[{name:"Rate",unit:"Hz",range:[.1,5],type:"float"},{name:"Depth",unit:"%",range:[0,100],type:"float"},{name:"Feedback",unit:"%",range:[0,95],type:"float"},{name:"Stages",unit:"",range:[2,12],type:"int"},{name:"Center",unit:"Hz",range:[100,2e3],type:"float"},{name:"Mix",unit:"%",range:[0,100],type:"float"}]},{name:"Chorus",modulatable:!0,parameters:[{name:"Rate",unit:"Hz",range:[.1,10],type:"float"},{name:"Depth",unit:"%",range:[0,100],type:"float"},{name:"Delay",unit:"ms",range:[1,30],type:"float"},{name:"Feedback",unit:"%",range:[0,95],type:"float"},{name:"Mix",unit:"%",range:[0,100],type:"float"}]},{name:"Reverb",modulatable:!0,parameters:[{name:"Decay",unit:"s",range:[.1,10],type:"float"},{name:"PreDelay",unit:"ms",range:[0,200],type:"float"},{name:"Damping",unit:"%",range:[0,100],type:"float"},{name:"Size",unit:"%",range:[0,100],type:"float"},{name:"HighCut",unit:"Hz",range:[500,2e4],type:"float"},{name:"LowCut",unit:"Hz",range:[20,1e3],type:"float"},{name:"Mix",unit:"%",range:[0,100],type:"float"},{name:"Type",type:"enum",options:["Room","Hall","Plate","Spring"]}]}]},GP={name:"Zebra2",oscillators:[{id:"1",name:"Osc 1",type:"Wavetable",params:["Waveform","Tune","Detune","Phase","Level"]},{id:"2",name:"Osc 2",type:"Wavetable",params:["Waveform","Tune","Detune","Phase","Level"]},{id:"3",name:"Osc 3",type:"Wavetable",params:["Waveform","Tune","Detune","Phase","Level"]},{id:"4",name:"Osc 4",type:"Wavetable",params:["Waveform","Tune","Detune","Phase","Level"]}],filters:[{name:"Filter 1",types:["Lowpass","Highpass","Bandpass","Notch","Comb","Formant"],defaultType:"Lowpass",parameters:["Cutoff","Resonance","Drive","Keytrack","Mix"]},{name:"Filter 2",types:["Lowpass","Highpass","Bandpass","Notch","Comb","Formant"],defaultType:"Lowpass",parameters:["Cutoff","Resonance","Drive","Keytrack","Mix"]}],modSources:[{name:"Env 1",type:"Envelope"},{name:"Env 2",type:"Envelope"},{name:"Env 3",type:"Envelope"},{name:"Env 4",type:"Envelope"},{name:"LFO 1",type:"LFO"},{name:"LFO 2",type:"LFO"},{name:"LFO 3",type:"LFO"},{name:"LFO 4",type:"LFO"},{name:"Keytrack",type:"MIDI"},{name:"Velocity",type:"MIDI"},{name:"Mod Wheel",type:"MIDI"},{name:"Aftertouch",type:"MIDI"},{name:"Pitch Bend",type:"MIDI"}],modDestinations:[{section:"Oscillator",params:["Pitch","Level","Detune","Phase"]},{section:"Filter 1",params:["Cutoff","Resonance","Drive","Mix"]},{section:"Filter 2",params:["Cutoff","Resonance","Drive","Mix"]},{section:"Amp",params:["Level"]}],effects:[{name:"Chorus",modulatable:!0,parameters:[{name:"Rate",unit:"Hz",range:[.1,10],type:"float"},{name:"Depth",unit:"%",range:[0,100],type:"float"},{name:"Delay",unit:"ms",range:[1,30],type:"float"},{name:"Feedback",unit:"%",range:[0,95],type:"float"},{name:"Mix",unit:"%",range:[0,100],type:"float"}]},{name:"Flanger",modulatable:!0,parameters:[{name:"Rate",unit:"Hz",range:[.1,5],type:"float"},{name:"Depth",unit:"%",range:[0,100],type:"float"},{name:"Manual",unit:"ms",range:[0,10],type:"float"},{name:"Feedback",unit:"%",range:[0,99],type:"float"},{name:"Phase",unit:"°",range:[0,180],type:"float"},{name:"Mix",unit:"%",range:[0,100],type:"float"},{name:"LFOShape",type:"enum",options:["Sine","Triangle","Saw"]}]},{name:"Phaser",modulatable:!0,parameters:[{name:"Rate",unit:"Hz",range:[.1,5],type:"float"},{name:"Depth",unit:"%",range:[0,100],type:"float"},{name:"Feedback",unit:"%",range:[0,95],type:"float"},{name:"Stages",unit:"",range:[2,12],type:"int"},{name:"Center",unit:"Hz",range:[100,2e3],type:"float"},{name:"Mix",unit:"%",range:[0,100],type:"float"}]},{name:"Distortion",modulatable:!0,parameters:[{name:"Drive",unit:"%",range:[0,100],type:"float"},{name:"Tone",unit:"Hz",range:[500,2e4],type:"float"},{name:"Mix",unit:"%",range:[0,100],type:"float"},{name:"Level",unit:"dB",range:[-12,12],type:"float"},{name:"Type",type:"enum",options:["SoftClip","HardClip","Tube","Fuzz"]}]},{name:"Compressor",modulatable:!0,parameters:[{name:"Threshold",unit:"dB",range:[-60,0],type:"float"},{name:"Ratio",unit:":",range:[1,20],type:"float"},{name:"Attack",unit:"ms",range:[.1,100],type:"float"},{name:"Release",unit:"ms",range:[10,2e3],type:"float"},{name:"Knee",unit:"dB",range:[0,12],type:"float"},{name:"MakeupGain",unit:"dB",range:[0,20],type:"float"},{name:"Mix",unit:"%",range:[0,100],type:"float"}]},{name:"EQ",modulatable:!0,parameters:[{name:"LowFreq",unit:"Hz",range:[20,500],type:"float"},{name:"LowGain",unit:"dB",range:[-12,12],type:"float"},{name:"MidFreq",unit:"Hz",range:[200,5e3],type:"float"},{name:"MidGain",unit:"dB",range:[-12,12],type:"float"},{name:"MidQ",unit:"",range:[.5,10],type:"float"},{name:"HighFreq",unit:"Hz",range:[1e3,2e4],type:"float"},{name:"HighGain",unit:"dB",range:[-12,12],type:"float"},{name:"Type",type:"enum",options:["LowShelf","Peaking","HighShelf"]}]},{name:"Reverb",modulatable:!0,parameters:[{name:"Decay",unit:"s",range:[.1,10],type:"float"},{name:"PreDelay",unit:"ms",range:[0,200],type:"float"},{name:"Damping",unit:"%",range:[0,100],type:"float"},{name:"Size",unit:"%",range:[0,100],type:"float"},{name:"HighCut",unit:"Hz",range:[500,2e4],type:"float"},{name:"LowCut",unit:"Hz",range:[20,1e3],type:"float"},{name:"Mix",unit:"%",range:[0,100],type:"float"},{name:"Type",type:"enum",options:["Room","Hall","Plate","Spring"]}]},{name:"Delay",modulatable:!0,parameters:[{name:"Time",unit:"ms",range:[1,5e3],type:"float"},{name:"Feedback",unit:"%",range:[0,100],type:"float"},{name:"Mix",unit:"%",range:[0,100],type:"float"},{name:"Sync",type:"boolean"},{name:"PingPong",type:"boolean"},{name:"Tone",unit:"Hz",range:[20,2e4],type:"float"}]},{name:"Filter (FX)",modulatable:!0,parameters:["Cutoff","Resonance","Drive","Mix"]}]},qP=[{name:"Chorus"},{name:"Delay"},{name:"Reverb"},{name:"Flanger"},{name:"Phaser"},{name:"Distortion"},{name:"Bitcrusher"},{name:"Tape Saturation"},{name:"Compressor"},{name:"EQ"},{name:"Filter"},{name:"Wah"},{name:"Tremolo"},{name:"Insert Distortion"},{name:"Insert Bitcrusher"},{name:"Insert Comb Filter"},{name:"Insert Frequency Shifter"},{name:"Insert Ring Mod"},{name:"Insert Sample & Hold"},{name:"Insert EQ"},{name:"Stereo Chorus"},{name:"Stereo Flanger"},{name:"Stereo Phaser"},{name:"Stereo Delay"},{name:"Stereo Reverb"},{name:"Stereo Tape Saturation"},{name:"Hyper/Dimension"}],YP={Serum:DP,Vital:IP,Pigments:kP,Diva:RP,Juno106:NP,AnalogLab:_P,Generic:LP,Alchemy:VP,Operator:PP,FM8:BP,Hive2:OP,MassiveX:FP,Omnisphere:zP,RetroSynth:jP,SH101:HP,Sylenth1:UP,Zebra2:GP,fallbackStandardEffects:qP},eu=YP,$P=()=>"AIzaSyCxOuxalv_PC6h6aE8JvEjLMK8ie8C9Nts",KP=e=>{if(eu[e])return eu[e];const t=e.toLowerCase().replace(/[^a-z0-9]/g,""),n=Object.keys(eu).find(r=>r.toLowerCase().replace(/[^a-z0-9]/g,"")===t);return n?eu[n]:{name:e,oscillators:[{id:"1",name:"Osc 1",params:["Waveform","Coarse","Fine","Level"]},{id:"2",name:"Osc 2",params:["Waveform","Coarse","Fine","Level"]}],filters:[{name:"Filter",types:["Lowpass","Highpass","Bandpass"],parameters:["Cutoff","Resonance"]}],effects:[]}},XP=(e,t)=>{const{description:n,synth:r,genre:o,voiceType:l,notes:u}=e;return`You are a professional synthesizer programmer. Create a detailed patch guide for these specifications:

**Target Sound:**
- Synth: ${r}
- Genre: ${o}
- Voice Type: ${l}
- Description: ${n}
${u?`- Additional Notes: ${u}`:""}

**IMPORTANT:** You must respond with EXACTLY this structured markdown format:

## Oscillators:
- Osc 1: Waveform: [type], Coarse: [value], Fine: [value], Level (dB): [value]
- Osc 2: Waveform: [type], Coarse: [value], Fine: [value], Level (dB): [value]
- Sub Osc: Waveform: [type], Octave: [value], Level (dB): [value]

## Filter:
- Type: [filter type]
- Cutoff: [frequency] Hz
- Resonance: [percentage]%

## ADSR Envelopes:
- Filter Envelope: Attack: [time] ms, Decay: [time] ms, Sustain: [percentage]%, Release: [time] ms
- Amp Envelope: Attack: [time] ms, Decay: [time] ms, Sustain: [percentage]%, Release: [time] ms

## Effects:
- Chorus: Rate: [rate] Hz, Depth: [percentage]%, Delay: [time] ms, Feedback: [percentage]%, Mix: [percentage]%
- Delay: Time: [time] ms, Feedback: [percentage]%, Mix: [percentage]%, Tone: [frequency] Hz
- Reverb: Decay: [time] s, PreDelay: [time] ms, Damping: [percentage]%, Size: [percentage]%, HighCut: [frequency] Hz, LowCut: [frequency] Hz, Mix: [percentage]%, Type: [type]

## Modulation Suggestions:
- LFO 1 → Filter Cutoff, Amount: [percentage]%, Rate: [rate] Hz, Waveform: [type]
- Envelope → Oscillator Pitch, Amount: [percentage]%
- Modwheel → Vibrato Depth, Amount: [percentage]%

## Creative Suggestions & Tips:
- [Tip about envelope settings]
- [Tip about LFO modulation]
- [Tip about effect automation]
- [Tip about performance techniques]
- [Tip about layering or doubling]
- [Tip about register-specific adjustments]
- [Tip about dynamic modulation]

**Guidelines:**
- Use specific numeric values (frequencies in Hz, times in ms/s, percentages with %)
- Include 2-3 oscillators appropriate for the sound type
- Suggest realistic modulation amounts and rates
- Provide 6-8 actionable creative tips
- Focus on the ${o} genre and ${l} voice type characteristics
- Make all parameter values musically appropriate

**Available Synth Parameters:**
${JSON.stringify(t,null,2)}

Respond ONLY with the structured markdown format above. Do not include JSON, code blocks, or explanatory text.`},WP=e=>{if(!(e!=null&&e.trim()))throw new Error("Empty response from AI");const t=e.trim(),n=(l,u)=>{const f=new RegExp(`${u}[^:]*: Attack: (\\d+(?:\\.\\d+)?)\\s*ms, Decay: (\\d+(?:\\.\\d+)?)\\s*ms, Sustain: (\\d+(?:\\.\\d+)?)%, Release: (\\d+(?:\\.\\d+)?)\\s*ms`),m=l.match(f);return m?{attack:parseFloat(m[1])/1e3,decay:parseFloat(m[2])/1e3,sustain:parseFloat(m[3])/100,release:parseFloat(m[4])/1e3}:u==="Amp Envelope"?{attack:.05,decay:.3,sustain:.9,release:.8}:{attack:.1,decay:.5,sustain:.7,release:1.2}},r=()=>{const l=t.match(/## Oscillators:(.*?)## Filter:/s);return l?l[1].split(`
`).filter(f=>f.trim().startsWith("-")).map((f,m)=>{var M,E,_,I,k,R,z,G,H;const d=((M=f.match(/- (.*?):/))==null?void 0:M[1])||`Oscillator ${m+1}`,h=((_=(E=f.match(/Waveform: ([^,]+)/))==null?void 0:E[1])==null?void 0:_.trim())||"Sawtooth",y=((k=(I=f.match(/Coarse: ([^,]+)/))==null?void 0:I[1])==null?void 0:k.trim())||"0",T=((z=(R=f.match(/Fine: ([^,]+)/))==null?void 0:R[1])==null?void 0:z.trim())||"0",S=((H=(G=f.match(/Level[^:]*: ([^,\n]+)/))==null?void 0:G[1])==null?void 0:H.trim())||"0";return{name:d,id:String(m+1),values:{Waveform:h,Coarse:y,Fine:T,Level:S}}}):[]},o=()=>{var d,h,y;const l=t.match(/## Filter:(.*?)## ADSR Envelopes:/s);if(!l)return{selectedType:"Lowpass",cutoff:"5000 Hz",resonance:"30%"};const u=l[1].match(/Type: ([^\n]+)/),f=l[1].match(/Cutoff: ([^\n]+)/),m=l[1].match(/Resonance: ([^\n]+)/);return{selectedType:((d=u==null?void 0:u[1])==null?void 0:d.trim())||"Lowpass",cutoff:((h=f==null?void 0:f[1])==null?void 0:h.trim())||"5000 Hz",resonance:((y=m==null?void 0:m[1])==null?void 0:y.trim())||"30%"}};return{text:t,oscillators:r(),filter:o(),adsrVCF:n(t,"Filter Envelope"),adsrVCA:n(t,"Amp Envelope"),summary:t.includes("## Creative Suggestions & Tips:")?t.split("## Creative Suggestions & Tips:")[1].trim():"No creative tips provided"}},QP=(e,t)=>{const n=(l,u)=>!l||typeof l!="object"?u:{attack:typeof l.attack=="number"?Math.max(.01,Math.min(10,l.attack)):u.attack,decay:typeof l.decay=="number"?Math.max(.01,Math.min(10,l.decay)):u.decay,sustain:typeof l.sustain=="number"?Math.max(0,Math.min(1,l.sustain)):u.sustain,release:typeof l.release=="number"?Math.max(.01,Math.min(10,l.release)):u.release},r=()=>Array.isArray(e.oscillators)?e.oscillators.map((l,u)=>({name:l.name||`Oscillator ${u+1}`,id:String(u+1),values:l.values||{}})):[],o=()=>{const l=e.filter||{};return{name:"Filter",selectedType:l.selectedType||"Lowpass",cutoff:l.cutoff||"5000 Hz",resonance:l.resonance||"30%"}};return{text:typeof e.text=="string"?e.text:"No instructions provided",synthConfig:{...t,oscillators:r(),filters:[o()]},adsrVCF:n(e.adsrVCF,{attack:.1,decay:.5,sustain:.7,release:1.2}),adsrVCA:n(e.adsrVCA,{attack:.05,decay:.3,sustain:.9,release:.8}),summary:typeof e.summary=="string"?e.summary:"No creative tips provided"}},JP=async e=>{if(!e.description||!e.synth||!e.genre||!e.voiceType)throw new Error("Missing required fields: description, synth, genre, and voiceType are required");try{const t=$P(),n=new ib({apiKey:t}),r=KP(e.synth),o=XP(e,r),u=(await n.models.generateContent({model:ir,contents:o})).text;if(!u)throw new Error("No response received from AI");const f=WP(u);return QP(f,r)}catch(t){throw console.error("PatchGuide Generation Error:",t),t instanceof Error?t.message.includes("API key")?new Error("Invalid API key configuration. Please check your environment variables."):t.message.includes("quota")||t.message.includes("rate limit")?new Error("API quota exceeded. Please try again later."):t:new Error("Unknown error occurred while generating patch guide")}},ZP=JP,xT=ne.createContext({});function e5(e){const t=ne.useRef(null);return t.current===null&&(t.current=e()),t.current}const Km=typeof window<"u",t5=Km?ne.useLayoutEffect:ne.useEffect,Xm=ne.createContext(null);function Wm(e,t){e.indexOf(t)===-1&&e.push(t)}function Qm(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}const vi=(e,t,n)=>n>t?t:n<e?e:n;let Jm=()=>{};const bi={},vT=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e);function bT(e){return typeof e=="object"&&e!==null}const TT=e=>/^0[^.\s]+$/u.test(e);function Zm(e){let t;return()=>(t===void 0&&(t=e()),t)}const Ln=e=>e,n5=(e,t)=>n=>t(e(n)),Es=(...e)=>e.reduce(n5),hs=(e,t,n)=>{const r=t-e;return r===0?1:(n-e)/r};class eh{constructor(){this.subscriptions=[]}add(t){return Wm(this.subscriptions,t),()=>Qm(this.subscriptions,t)}notify(t,n,r){const o=this.subscriptions.length;if(o)if(o===1)this.subscriptions[0](t,n,r);else for(let l=0;l<o;l++){const u=this.subscriptions[l];u&&u(t,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Zn=e=>e*1e3,ei=e=>e/1e3;function ST(e,t){return t?e*(1e3/t):0}const CT=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,i5=1e-7,r5=12;function a5(e,t,n,r,o){let l,u,f=0;do u=t+(n-t)/2,l=CT(u,r,o)-e,l>0?n=u:t=u;while(Math.abs(l)>i5&&++f<r5);return u}function As(e,t,n,r){if(e===t&&n===r)return Ln;const o=l=>a5(l,0,1,e,n);return l=>l===0||l===1?l:CT(o(l),t,r)}const wT=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,MT=e=>t=>1-e(1-t),ET=As(.33,1.53,.69,.99),th=MT(ET),AT=wT(th),DT=e=>(e*=2)<1?.5*th(e):.5*(2-Math.pow(2,-10*(e-1))),nh=e=>1-Math.sin(Math.acos(e)),IT=MT(nh),kT=wT(nh),o5=As(.42,0,1,1),s5=As(0,0,.58,1),RT=As(.42,0,.58,1),l5=e=>Array.isArray(e)&&typeof e[0]!="number",NT=e=>Array.isArray(e)&&typeof e[0]=="number",u5={linear:Ln,easeIn:o5,easeInOut:RT,easeOut:s5,circIn:nh,circInOut:kT,circOut:IT,backIn:th,backInOut:AT,backOut:ET,anticipate:DT},c5=e=>typeof e=="string",wv=e=>{if(NT(e)){Jm(e.length===4);const[t,n,r,o]=e;return As(t,n,r,o)}else if(c5(e))return u5[e];return e},tu=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"],Mv={value:null};function f5(e,t){let n=new Set,r=new Set,o=!1,l=!1;const u=new WeakSet;let f={delta:0,timestamp:0,isProcessing:!1},m=0;function d(y){u.has(y)&&(h.schedule(y),e()),m++,y(f)}const h={schedule:(y,T=!1,S=!1)=>{const E=S&&o?n:r;return T&&u.add(y),E.has(y)||E.add(y),y},cancel:y=>{r.delete(y),u.delete(y)},process:y=>{if(f=y,o){l=!0;return}o=!0,[n,r]=[r,n],n.forEach(d),t&&Mv.value&&Mv.value.frameloop[t].push(m),m=0,n.clear(),o=!1,l&&(l=!1,h.process(y))}};return h}const d5=40;function _T(e,t){let n=!1,r=!0;const o={delta:0,timestamp:0,isProcessing:!1},l=()=>n=!0,u=tu.reduce((R,z)=>(R[z]=f5(l,t?z:void 0),R),{}),{setup:f,read:m,resolveKeyframes:d,preUpdate:h,update:y,preRender:T,render:S,postRender:M}=u,E=()=>{const R=bi.useManualTiming?o.timestamp:performance.now();n=!1,bi.useManualTiming||(o.delta=r?1e3/60:Math.max(Math.min(R-o.timestamp,d5),1)),o.timestamp=R,o.isProcessing=!0,f.process(o),m.process(o),d.process(o),h.process(o),y.process(o),T.process(o),S.process(o),M.process(o),o.isProcessing=!1,n&&t&&(r=!1,e(E))},_=()=>{n=!0,r=!0,o.isProcessing||e(E)};return{schedule:tu.reduce((R,z)=>{const G=u[z];return R[z]=(H,se=!1,oe=!1)=>(n||_(),G.schedule(H,se,oe)),R},{}),cancel:R=>{for(let z=0;z<tu.length;z++)u[tu[z]].cancel(R)},state:o,steps:u}}const{schedule:ft,cancel:Ji,state:zt,steps:Cd}=_T(typeof requestAnimationFrame<"u"?requestAnimationFrame:Ln,!0);let cu;function m5(){cu=void 0}const on={now:()=>(cu===void 0&&on.set(zt.isProcessing||bi.useManualTiming?zt.timestamp:performance.now()),cu),set:e=>{cu=e,queueMicrotask(m5)}},LT=e=>t=>typeof t=="string"&&t.startsWith(e),ih=LT("--"),h5=LT("var(--"),rh=e=>h5(e)?p5.test(e.split("/*")[0].trim()):!1,p5=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Fa={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},ps={...Fa,transform:e=>vi(0,1,e)},nu={...Fa,default:1},as=e=>Math.round(e*1e5)/1e5,ah=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function g5(e){return e==null}const y5=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,oh=(e,t)=>n=>!!(typeof n=="string"&&y5.test(n)&&n.startsWith(e)||t&&!g5(n)&&Object.prototype.hasOwnProperty.call(n,t)),VT=(e,t,n)=>r=>{if(typeof r!="string")return r;const[o,l,u,f]=r.match(ah);return{[e]:parseFloat(o),[t]:parseFloat(l),[n]:parseFloat(u),alpha:f!==void 0?parseFloat(f):1}},x5=e=>vi(0,255,e),wd={...Fa,transform:e=>Math.round(x5(e))},kr={test:oh("rgb","red"),parse:VT("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:r=1})=>"rgba("+wd.transform(e)+", "+wd.transform(t)+", "+wd.transform(n)+", "+as(ps.transform(r))+")"};function v5(e){let t="",n="",r="",o="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),r=e.substring(5,7),o=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),r=e.substring(3,4),o=e.substring(4,5),t+=t,n+=n,r+=r,o+=o),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:o?parseInt(o,16)/255:1}}const om={test:oh("#"),parse:v5,transform:kr.transform},Ds=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),Xi=Ds("deg"),ti=Ds("%"),ke=Ds("px"),b5=Ds("vh"),T5=Ds("vw"),Ev={...ti,parse:e=>ti.parse(e)/100,transform:e=>ti.transform(e*100)},Aa={test:oh("hsl","hue"),parse:VT("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:r=1})=>"hsla("+Math.round(e)+", "+ti.transform(as(t))+", "+ti.transform(as(n))+", "+as(ps.transform(r))+")"},Dt={test:e=>kr.test(e)||om.test(e)||Aa.test(e),parse:e=>kr.test(e)?kr.parse(e):Aa.test(e)?Aa.parse(e):om.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?kr.transform(e):Aa.transform(e),getAnimatableNone:e=>{const t=Dt.parse(e);return t.alpha=0,Dt.transform(t)}},S5=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function C5(e){var t,n;return isNaN(e)&&typeof e=="string"&&(((t=e.match(ah))==null?void 0:t.length)||0)+(((n=e.match(S5))==null?void 0:n.length)||0)>0}const PT="number",BT="color",w5="var",M5="var(",Av="${}",E5=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function gs(e){const t=e.toString(),n=[],r={color:[],number:[],var:[]},o=[];let l=0;const f=t.replace(E5,m=>(Dt.test(m)?(r.color.push(l),o.push(BT),n.push(Dt.parse(m))):m.startsWith(M5)?(r.var.push(l),o.push(w5),n.push(m)):(r.number.push(l),o.push(PT),n.push(parseFloat(m))),++l,Av)).split(Av);return{values:n,split:f,indexes:r,types:o}}function OT(e){return gs(e).values}function FT(e){const{split:t,types:n}=gs(e),r=t.length;return o=>{let l="";for(let u=0;u<r;u++)if(l+=t[u],o[u]!==void 0){const f=n[u];f===PT?l+=as(o[u]):f===BT?l+=Dt.transform(o[u]):l+=o[u]}return l}}const A5=e=>typeof e=="number"?0:Dt.test(e)?Dt.getAnimatableNone(e):e;function D5(e){const t=OT(e);return FT(e)(t.map(A5))}const Zi={test:C5,parse:OT,createTransformer:FT,getAnimatableNone:D5};function Md(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function I5({hue:e,saturation:t,lightness:n,alpha:r}){e/=360,t/=100,n/=100;let o=0,l=0,u=0;if(!t)o=l=u=n;else{const f=n<.5?n*(1+t):n+t-n*t,m=2*n-f;o=Md(m,f,e+1/3),l=Md(m,f,e),u=Md(m,f,e-1/3)}return{red:Math.round(o*255),green:Math.round(l*255),blue:Math.round(u*255),alpha:r}}function Cu(e,t){return n=>n>0?t:e}const ct=(e,t,n)=>e+(t-e)*n,Ed=(e,t,n)=>{const r=e*e,o=n*(t*t-r)+r;return o<0?0:Math.sqrt(o)},k5=[om,kr,Aa],R5=e=>k5.find(t=>t.test(e));function Dv(e){const t=R5(e);if(!t)return!1;let n=t.parse(e);return t===Aa&&(n=I5(n)),n}const Iv=(e,t)=>{const n=Dv(e),r=Dv(t);if(!n||!r)return Cu(e,t);const o={...n};return l=>(o.red=Ed(n.red,r.red,l),o.green=Ed(n.green,r.green,l),o.blue=Ed(n.blue,r.blue,l),o.alpha=ct(n.alpha,r.alpha,l),kr.transform(o))},sm=new Set(["none","hidden"]);function N5(e,t){return sm.has(e)?n=>n<=0?e:t:n=>n>=1?t:e}function _5(e,t){return n=>ct(e,t,n)}function sh(e){return typeof e=="number"?_5:typeof e=="string"?rh(e)?Cu:Dt.test(e)?Iv:P5:Array.isArray(e)?zT:typeof e=="object"?Dt.test(e)?Iv:L5:Cu}function zT(e,t){const n=[...e],r=n.length,o=e.map((l,u)=>sh(l)(l,t[u]));return l=>{for(let u=0;u<r;u++)n[u]=o[u](l);return n}}function L5(e,t){const n={...e,...t},r={};for(const o in n)e[o]!==void 0&&t[o]!==void 0&&(r[o]=sh(e[o])(e[o],t[o]));return o=>{for(const l in r)n[l]=r[l](o);return n}}function V5(e,t){const n=[],r={color:0,var:0,number:0};for(let o=0;o<t.values.length;o++){const l=t.types[o],u=e.indexes[l][r[l]],f=e.values[u]??0;n[o]=f,r[l]++}return n}const P5=(e,t)=>{const n=Zi.createTransformer(t),r=gs(e),o=gs(t);return r.indexes.var.length===o.indexes.var.length&&r.indexes.color.length===o.indexes.color.length&&r.indexes.number.length>=o.indexes.number.length?sm.has(e)&&!o.values.length||sm.has(t)&&!r.values.length?N5(e,t):Es(zT(V5(r,o),o.values),n):Cu(e,t)};function jT(e,t,n){return typeof e=="number"&&typeof t=="number"&&typeof n=="number"?ct(e,t,n):sh(e)(e,t)}const B5=e=>{const t=({timestamp:n})=>e(n);return{start:(n=!0)=>ft.update(t,n),stop:()=>Ji(t),now:()=>zt.isProcessing?zt.timestamp:on.now()}},HT=(e,t,n=10)=>{let r="";const o=Math.max(Math.round(t/n),2);for(let l=0;l<o;l++)r+=Math.round(e(l/(o-1))*1e4)/1e4+", ";return`linear(${r.substring(0,r.length-2)})`},wu=2e4;function lh(e){let t=0;const n=50;let r=e.next(t);for(;!r.done&&t<wu;)t+=n,r=e.next(t);return t>=wu?1/0:t}function O5(e,t=100,n){const r=n({...e,keyframes:[0,t]}),o=Math.min(lh(r),wu);return{type:"keyframes",ease:l=>r.next(o*l).value/t,duration:ei(o)}}const F5=5;function UT(e,t,n){const r=Math.max(t-F5,0);return ST(n-e(r),t-r)}const gt={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Ad=.001;function z5({duration:e=gt.duration,bounce:t=gt.bounce,velocity:n=gt.velocity,mass:r=gt.mass}){let o,l,u=1-t;u=vi(gt.minDamping,gt.maxDamping,u),e=vi(gt.minDuration,gt.maxDuration,ei(e)),u<1?(o=d=>{const h=d*u,y=h*e,T=h-n,S=lm(d,u),M=Math.exp(-y);return Ad-T/S*M},l=d=>{const y=d*u*e,T=y*n+n,S=Math.pow(u,2)*Math.pow(d,2)*e,M=Math.exp(-y),E=lm(Math.pow(d,2),u);return(-o(d)+Ad>0?-1:1)*((T-S)*M)/E}):(o=d=>{const h=Math.exp(-d*e),y=(d-n)*e+1;return-Ad+h*y},l=d=>{const h=Math.exp(-d*e),y=(n-d)*(e*e);return h*y});const f=5/e,m=H5(o,l,f);if(e=Zn(e),isNaN(m))return{stiffness:gt.stiffness,damping:gt.damping,duration:e};{const d=Math.pow(m,2)*r;return{stiffness:d,damping:u*2*Math.sqrt(r*d),duration:e}}}const j5=12;function H5(e,t,n){let r=n;for(let o=1;o<j5;o++)r=r-e(r)/t(r);return r}function lm(e,t){return e*Math.sqrt(1-t*t)}const U5=["duration","bounce"],G5=["stiffness","damping","mass"];function kv(e,t){return t.some(n=>e[n]!==void 0)}function q5(e){let t={velocity:gt.velocity,stiffness:gt.stiffness,damping:gt.damping,mass:gt.mass,isResolvedFromDuration:!1,...e};if(!kv(e,G5)&&kv(e,U5))if(e.visualDuration){const n=e.visualDuration,r=2*Math.PI/(n*1.2),o=r*r,l=2*vi(.05,1,1-(e.bounce||0))*Math.sqrt(o);t={...t,mass:gt.mass,stiffness:o,damping:l}}else{const n=z5(e);t={...t,...n,mass:gt.mass},t.isResolvedFromDuration=!0}return t}function Mu(e=gt.visualDuration,t=gt.bounce){const n=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:r,restDelta:o}=n;const l=n.keyframes[0],u=n.keyframes[n.keyframes.length-1],f={done:!1,value:l},{stiffness:m,damping:d,mass:h,duration:y,velocity:T,isResolvedFromDuration:S}=q5({...n,velocity:-ei(n.velocity||0)}),M=T||0,E=d/(2*Math.sqrt(m*h)),_=u-l,I=ei(Math.sqrt(m/h)),k=Math.abs(_)<5;r||(r=k?gt.restSpeed.granular:gt.restSpeed.default),o||(o=k?gt.restDelta.granular:gt.restDelta.default);let R;if(E<1){const G=lm(I,E);R=H=>{const se=Math.exp(-E*I*H);return u-se*((M+E*I*_)/G*Math.sin(G*H)+_*Math.cos(G*H))}}else if(E===1)R=G=>u-Math.exp(-I*G)*(_+(M+I*_)*G);else{const G=I*Math.sqrt(E*E-1);R=H=>{const se=Math.exp(-E*I*H),oe=Math.min(G*H,300);return u-se*((M+E*I*_)*Math.sinh(oe)+G*_*Math.cosh(oe))/G}}const z={calculatedDuration:S&&y||null,next:G=>{const H=R(G);if(S)f.done=G>=y;else{let se=G===0?M:0;E<1&&(se=G===0?Zn(M):UT(R,G,H));const oe=Math.abs(se)<=r,pe=Math.abs(u-H)<=o;f.done=oe&&pe}return f.value=f.done?u:H,f},toString:()=>{const G=Math.min(lh(z),wu),H=HT(se=>z.next(G*se).value,G,30);return G+"ms "+H},toTransition:()=>{}};return z}Mu.applyToOptions=e=>{const t=O5(e,100,Mu);return e.ease=t.ease,e.duration=Zn(t.duration),e.type="keyframes",e};function um({keyframes:e,velocity:t=0,power:n=.8,timeConstant:r=325,bounceDamping:o=10,bounceStiffness:l=500,modifyTarget:u,min:f,max:m,restDelta:d=.5,restSpeed:h}){const y=e[0],T={done:!1,value:y},S=oe=>f!==void 0&&oe<f||m!==void 0&&oe>m,M=oe=>f===void 0?m:m===void 0||Math.abs(f-oe)<Math.abs(m-oe)?f:m;let E=n*t;const _=y+E,I=u===void 0?_:u(_);I!==_&&(E=I-y);const k=oe=>-E*Math.exp(-oe/r),R=oe=>I+k(oe),z=oe=>{const pe=k(oe),j=R(oe);T.done=Math.abs(pe)<=d,T.value=T.done?I:j};let G,H;const se=oe=>{S(T.value)&&(G=oe,H=Mu({keyframes:[T.value,M(T.value)],velocity:UT(R,oe,T.value),damping:o,stiffness:l,restDelta:d,restSpeed:h}))};return se(0),{calculatedDuration:null,next:oe=>{let pe=!1;return!H&&G===void 0&&(pe=!0,z(oe),se(oe)),G!==void 0&&oe>=G?H.next(oe-G):(!pe&&z(oe),T)}}}function Y5(e,t,n){const r=[],o=n||bi.mix||jT,l=e.length-1;for(let u=0;u<l;u++){let f=o(e[u],e[u+1]);if(t){const m=Array.isArray(t)?t[u]||Ln:t;f=Es(m,f)}r.push(f)}return r}function $5(e,t,{clamp:n=!0,ease:r,mixer:o}={}){const l=e.length;if(Jm(l===t.length),l===1)return()=>t[0];if(l===2&&t[0]===t[1])return()=>t[1];const u=e[0]===e[1];e[0]>e[l-1]&&(e=[...e].reverse(),t=[...t].reverse());const f=Y5(t,r,o),m=f.length,d=h=>{if(u&&h<e[0])return t[0];let y=0;if(m>1)for(;y<e.length-2&&!(h<e[y+1]);y++);const T=hs(e[y],e[y+1],h);return f[y](T)};return n?h=>d(vi(e[0],e[l-1],h)):d}function K5(e,t){const n=e[e.length-1];for(let r=1;r<=t;r++){const o=hs(0,t,r);e.push(ct(n,1,o))}}function X5(e){const t=[0];return K5(t,e.length-1),t}function W5(e,t){return e.map(n=>n*t)}function Q5(e,t){return e.map(()=>t||RT).splice(0,e.length-1)}function os({duration:e=300,keyframes:t,times:n,ease:r="easeInOut"}){const o=l5(r)?r.map(wv):wv(r),l={done:!1,value:t[0]},u=W5(n&&n.length===t.length?n:X5(t),e),f=$5(u,t,{ease:Array.isArray(o)?o:Q5(t,o)});return{calculatedDuration:e,next:m=>(l.value=f(m),l.done=m>=e,l)}}const J5=e=>e!==null;function uh(e,{repeat:t,repeatType:n="loop"},r,o=1){const l=e.filter(J5),f=o<0||t&&n!=="loop"&&t%2===1?0:l.length-1;return!f||r===void 0?l[f]:r}const Z5={decay:um,inertia:um,tween:os,keyframes:os,spring:Mu};function GT(e){typeof e.type=="string"&&(e.type=Z5[e.type])}class ch{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,n){return this.finished.then(t,n)}}const e3=e=>e/100;class fh extends ch{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var r,o;const{motionValue:n}=this.options;n&&n.updatedAt!==on.now()&&this.tick(on.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(o=(r=this.options).onStop)==null||o.call(r))},this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){const{options:t}=this;GT(t);const{type:n=os,repeat:r=0,repeatDelay:o=0,repeatType:l,velocity:u=0}=t;let{keyframes:f}=t;const m=n||os;m!==os&&typeof f[0]!="number"&&(this.mixKeyframes=Es(e3,jT(f[0],f[1])),f=[0,100]);const d=m({...t,keyframes:f});l==="mirror"&&(this.mirroredGenerator=m({...t,keyframes:[...f].reverse(),velocity:-u})),d.calculatedDuration===null&&(d.calculatedDuration=lh(d));const{calculatedDuration:h}=d;this.calculatedDuration=h,this.resolvedDuration=h+o,this.totalDuration=this.resolvedDuration*(r+1)-o,this.generator=d}updateTime(t){const n=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(t,n=!1){const{generator:r,totalDuration:o,mixKeyframes:l,mirroredGenerator:u,resolvedDuration:f,calculatedDuration:m}=this;if(this.startTime===null)return r.next(0);const{delay:d=0,keyframes:h,repeat:y,repeatType:T,repeatDelay:S,type:M,onUpdate:E,finalKeyframe:_}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-o/this.speed,this.startTime)),n?this.currentTime=t:this.updateTime(t);const I=this.currentTime-d*(this.playbackSpeed>=0?1:-1),k=this.playbackSpeed>=0?I<0:I>o;this.currentTime=Math.max(I,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=o);let R=this.currentTime,z=r;if(y){const oe=Math.min(this.currentTime,o)/f;let pe=Math.floor(oe),j=oe%1;!j&&oe>=1&&(j=1),j===1&&pe--,pe=Math.min(pe,y+1),!!(pe%2)&&(T==="reverse"?(j=1-j,S&&(j-=S/f)):T==="mirror"&&(z=u)),R=vi(0,1,j)*f}const G=k?{done:!1,value:h[0]}:z.next(R);l&&(G.value=l(G.value));let{done:H}=G;!k&&m!==null&&(H=this.playbackSpeed>=0?this.currentTime>=o:this.currentTime<=0);const se=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&H);return se&&M!==um&&(G.value=uh(h,this.options,_,this.speed)),E&&E(G.value),se&&this.finish(),G}then(t,n){return this.finished.then(t,n)}get duration(){return ei(this.calculatedDuration)}get time(){return ei(this.currentTime)}set time(t){var n;t=Zn(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed),(n=this.driver)==null||n.start(!1)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(on.now());const n=this.playbackSpeed!==t;this.playbackSpeed=t,n&&(this.time=ei(this.currentTime))}play(){var o,l;if(this.isStopped)return;const{driver:t=B5,startTime:n}=this.options;this.driver||(this.driver=t(u=>this.tick(u))),(l=(o=this.options).onPlay)==null||l.call(o);const r=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=r):this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime||(this.startTime=n??r),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(on.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var t,n;this.notifyFinished(),this.teardown(),this.state="finished",(n=(t=this.options).onComplete)==null||n.call(t)}cancel(){var t,n;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(n=(t=this.options).onCancel)==null||n.call(t)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){var n;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(n=this.driver)==null||n.stop(),t.observe(this)}}function t3(e){for(let t=1;t<e.length;t++)e[t]??(e[t]=e[t-1])}const Rr=e=>e*180/Math.PI,cm=e=>{const t=Rr(Math.atan2(e[1],e[0]));return fm(t)},n3={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:cm,rotateZ:cm,skewX:e=>Rr(Math.atan(e[1])),skewY:e=>Rr(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},fm=e=>(e=e%360,e<0&&(e+=360),e),Rv=cm,Nv=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),_v=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),i3={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:Nv,scaleY:_v,scale:e=>(Nv(e)+_v(e))/2,rotateX:e=>fm(Rr(Math.atan2(e[6],e[5]))),rotateY:e=>fm(Rr(Math.atan2(-e[2],e[0]))),rotateZ:Rv,rotate:Rv,skewX:e=>Rr(Math.atan(e[4])),skewY:e=>Rr(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function dm(e){return e.includes("scale")?1:0}function mm(e,t){if(!e||e==="none")return dm(t);const n=e.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,o;if(n)r=i3,o=n;else{const f=e.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=n3,o=f}if(!o)return dm(t);const l=r[t],u=o[1].split(",").map(a3);return typeof l=="function"?l(u):u[l]}const r3=(e,t)=>{const{transform:n="none"}=getComputedStyle(e);return mm(n,t)};function a3(e){return parseFloat(e.trim())}const za=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],ja=new Set(za),Lv=e=>e===Fa||e===ke,o3=new Set(["x","y","z"]),s3=za.filter(e=>!o3.has(e));function l3(e){const t=[];return s3.forEach(n=>{const r=e.getValue(n);r!==void 0&&(t.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),t}const Nr={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:(e,{transform:t})=>mm(t,"x"),y:(e,{transform:t})=>mm(t,"y")};Nr.translateX=Nr.x;Nr.translateY=Nr.y;const _r=new Set;let hm=!1,pm=!1,gm=!1;function qT(){if(pm){const e=Array.from(_r).filter(r=>r.needsMeasurement),t=new Set(e.map(r=>r.element)),n=new Map;t.forEach(r=>{const o=l3(r);o.length&&(n.set(r,o),r.render())}),e.forEach(r=>r.measureInitialState()),t.forEach(r=>{r.render();const o=n.get(r);o&&o.forEach(([l,u])=>{var f;(f=r.getValue(l))==null||f.set(u)})}),e.forEach(r=>r.measureEndState()),e.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}pm=!1,hm=!1,_r.forEach(e=>e.complete(gm)),_r.clear()}function YT(){_r.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(pm=!0)})}function u3(){gm=!0,YT(),qT(),gm=!1}class dh{constructor(t,n,r,o,l,u=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...t],this.onComplete=n,this.name=r,this.motionValue=o,this.element=l,this.isAsync=u}scheduleResolve(){this.state="scheduled",this.isAsync?(_r.add(this),hm||(hm=!0,ft.read(YT),ft.resolveKeyframes(qT))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:n,element:r,motionValue:o}=this;if(t[0]===null){const l=o==null?void 0:o.get(),u=t[t.length-1];if(l!==void 0)t[0]=l;else if(r&&n){const f=r.readValue(n,u);f!=null&&(t[0]=f)}t[0]===void 0&&(t[0]=u),o&&l===void 0&&o.set(t[0])}t3(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),_r.delete(this)}cancel(){this.state==="scheduled"&&(_r.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const c3=e=>e.startsWith("--");function f3(e,t,n){c3(t)?e.style.setProperty(t,n):e.style[t]=n}const d3=Zm(()=>window.ScrollTimeline!==void 0),m3={};function h3(e,t){const n=Zm(e);return()=>m3[t]??n()}const $T=h3(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Zo=([e,t,n,r])=>`cubic-bezier(${e}, ${t}, ${n}, ${r})`,Vv={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Zo([0,.65,.55,1]),circOut:Zo([.55,0,1,.45]),backIn:Zo([.31,.01,.66,-.59]),backOut:Zo([.33,1.53,.69,.99])};function KT(e,t){if(e)return typeof e=="function"?$T()?HT(e,t):"ease-out":NT(e)?Zo(e):Array.isArray(e)?e.map(n=>KT(n,t)||Vv.easeOut):Vv[e]}function p3(e,t,n,{delay:r=0,duration:o=300,repeat:l=0,repeatType:u="loop",ease:f="easeOut",times:m}={},d=void 0){const h={[t]:n};m&&(h.offset=m);const y=KT(f,o);Array.isArray(y)&&(h.easing=y);const T={delay:r,duration:o,easing:Array.isArray(y)?"linear":y,fill:"both",iterations:l+1,direction:u==="reverse"?"alternate":"normal"};return d&&(T.pseudoElement=d),e.animate(h,T)}function XT(e){return typeof e=="function"&&"applyToOptions"in e}function g3({type:e,...t}){return XT(e)&&$T()?e.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}class y3 extends ch{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,!t)return;const{element:n,name:r,keyframes:o,pseudoElement:l,allowFlatten:u=!1,finalKeyframe:f,onComplete:m}=t;this.isPseudoElement=!!l,this.allowFlatten=u,this.options=t,Jm(typeof t.type!="string");const d=g3(t);this.animation=p3(n,r,o,d,l),d.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!l){const h=uh(o,this.options,f,this.speed);this.updateMotionValue?this.updateMotionValue(h):f3(n,r,h),this.animation.cancel()}m==null||m(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var t,n;(n=(t=this.animation).finish)==null||n.call(t)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var t,n;this.isPseudoElement||(n=(t=this.animation).commitStyles)==null||n.call(t)}get duration(){var n,r;const t=((r=(n=this.animation.effect)==null?void 0:n.getComputedTiming)==null?void 0:r.call(n).duration)||0;return ei(Number(t))}get time(){return ei(Number(this.animation.currentTime)||0)}set time(t){this.finishedTime=null,this.animation.currentTime=Zn(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(t){this.animation.startTime=t}attachTimeline({timeline:t,observe:n}){var r;return this.allowFlatten&&((r=this.animation.effect)==null||r.updateTiming({easing:"linear"})),this.animation.onfinish=null,t&&d3()?(this.animation.timeline=t,Ln):n(this)}}const WT={anticipate:DT,backInOut:AT,circInOut:kT};function x3(e){return e in WT}function v3(e){typeof e.ease=="string"&&x3(e.ease)&&(e.ease=WT[e.ease])}const Pv=10;class b3 extends y3{constructor(t){v3(t),GT(t),super(t),t.startTime&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const{motionValue:n,onUpdate:r,onComplete:o,element:l,...u}=this.options;if(!n)return;if(t!==void 0){n.set(t);return}const f=new fh({...u,autoplay:!1}),m=Zn(this.finishedTime??this.time);n.setWithVelocity(f.sample(m-Pv).value,f.sample(m).value,Pv),f.stop()}}const Bv=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(Zi.test(e)||e==="0")&&!e.startsWith("url("));function T3(e){const t=e[0];if(e.length===1)return!0;for(let n=0;n<e.length;n++)if(e[n]!==t)return!0}function S3(e,t,n,r){const o=e[0];if(o===null)return!1;if(t==="display"||t==="visibility")return!0;const l=e[e.length-1],u=Bv(o,t),f=Bv(l,t);return!u||!f?!1:T3(e)||(n==="spring"||XT(n))&&r}function QT(e){return bT(e)&&"offsetHeight"in e}const C3=new Set(["opacity","clipPath","filter","transform"]),w3=Zm(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function M3(e){var d;const{motionValue:t,name:n,repeatDelay:r,repeatType:o,damping:l,type:u}=e;if(!QT((d=t==null?void 0:t.owner)==null?void 0:d.current))return!1;const{onUpdate:f,transformTemplate:m}=t.owner.getProps();return w3()&&n&&C3.has(n)&&(n!=="transform"||!m)&&!f&&!r&&o!=="mirror"&&l!==0&&u!=="inertia"}const E3=40;class A3 extends ch{constructor({autoplay:t=!0,delay:n=0,type:r="keyframes",repeat:o=0,repeatDelay:l=0,repeatType:u="loop",keyframes:f,name:m,motionValue:d,element:h,...y}){var M;super(),this.stop=()=>{var E,_;this._animation&&(this._animation.stop(),(E=this.stopTimeline)==null||E.call(this)),(_=this.keyframeResolver)==null||_.cancel()},this.createdAt=on.now();const T={autoplay:t,delay:n,type:r,repeat:o,repeatDelay:l,repeatType:u,name:m,motionValue:d,element:h,...y},S=(h==null?void 0:h.KeyframeResolver)||dh;this.keyframeResolver=new S(f,(E,_,I)=>this.onKeyframesResolved(E,_,T,!I),m,d,h),(M=this.keyframeResolver)==null||M.scheduleResolve()}onKeyframesResolved(t,n,r,o){this.keyframeResolver=void 0;const{name:l,type:u,velocity:f,delay:m,isHandoff:d,onUpdate:h}=r;this.resolvedAt=on.now(),S3(t,l,u,f)||((bi.instantAnimations||!m)&&(h==null||h(uh(t,r,n))),t[0]=t[t.length-1],r.duration=0,r.repeat=0);const T={startTime:o?this.resolvedAt?this.resolvedAt-this.createdAt>E3?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...r,keyframes:t},S=!d&&M3(T)?new b3({...T,element:T.motionValue.owner.current}):new fh(T);S.finished.then(()=>this.notifyFinished()).catch(Ln),this.pendingTimeline&&(this.stopTimeline=S.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=S}get finished(){return this._animation?this.animation.finished:this._finished}then(t,n){return this.finished.finally(t).then(()=>{})}get animation(){var t;return this._animation||((t=this.keyframeResolver)==null||t.resume(),u3()),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var t;this._animation&&this.animation.cancel(),(t=this.keyframeResolver)==null||t.cancel()}}const D3=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function I3(e){const t=D3.exec(e);if(!t)return[,];const[,n,r,o]=t;return[`--${n??r}`,o]}function JT(e,t,n=1){const[r,o]=I3(e);if(!r)return;const l=window.getComputedStyle(t).getPropertyValue(r);if(l){const u=l.trim();return vT(u)?parseFloat(u):u}return rh(o)?JT(o,t,n+1):o}function mh(e,t){return(e==null?void 0:e[t])??(e==null?void 0:e.default)??e}const ZT=new Set(["width","height","top","left","right","bottom",...za]),k3={test:e=>e==="auto",parse:e=>e},eS=e=>t=>t.test(e),tS=[Fa,ke,ti,Xi,T5,b5,k3],Ov=e=>tS.find(eS(e));function R3(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||TT(e):!0}const N3=new Set(["brightness","contrast","saturate","opacity"]);function _3(e){const[t,n]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[r]=n.match(ah)||[];if(!r)return e;const o=n.replace(r,"");let l=N3.has(t)?1:0;return r!==n&&(l*=100),t+"("+l+o+")"}const L3=/\b([a-z-]*)\(.*?\)/gu,ym={...Zi,getAnimatableNone:e=>{const t=e.match(L3);return t?t.map(_3).join(" "):e}},Fv={...Fa,transform:Math.round},V3={rotate:Xi,rotateX:Xi,rotateY:Xi,rotateZ:Xi,scale:nu,scaleX:nu,scaleY:nu,scaleZ:nu,skew:Xi,skewX:Xi,skewY:Xi,distance:ke,translateX:ke,translateY:ke,translateZ:ke,x:ke,y:ke,z:ke,perspective:ke,transformPerspective:ke,opacity:ps,originX:Ev,originY:Ev,originZ:ke},hh={borderWidth:ke,borderTopWidth:ke,borderRightWidth:ke,borderBottomWidth:ke,borderLeftWidth:ke,borderRadius:ke,radius:ke,borderTopLeftRadius:ke,borderTopRightRadius:ke,borderBottomRightRadius:ke,borderBottomLeftRadius:ke,width:ke,maxWidth:ke,height:ke,maxHeight:ke,top:ke,right:ke,bottom:ke,left:ke,padding:ke,paddingTop:ke,paddingRight:ke,paddingBottom:ke,paddingLeft:ke,margin:ke,marginTop:ke,marginRight:ke,marginBottom:ke,marginLeft:ke,backgroundPositionX:ke,backgroundPositionY:ke,...V3,zIndex:Fv,fillOpacity:ps,strokeOpacity:ps,numOctaves:Fv},P3={...hh,color:Dt,backgroundColor:Dt,outlineColor:Dt,fill:Dt,stroke:Dt,borderColor:Dt,borderTopColor:Dt,borderRightColor:Dt,borderBottomColor:Dt,borderLeftColor:Dt,filter:ym,WebkitFilter:ym},nS=e=>P3[e];function iS(e,t){let n=nS(e);return n!==ym&&(n=Zi),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const B3=new Set(["auto","none","0"]);function O3(e,t,n){let r=0,o;for(;r<e.length&&!o;){const l=e[r];typeof l=="string"&&!B3.has(l)&&gs(l).values.length&&(o=e[r]),r++}if(o&&n)for(const l of t)e[l]=iS(n,o)}class F3 extends dh{constructor(t,n,r,o,l){super(t,n,r,o,l,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let m=0;m<t.length;m++){let d=t[m];if(typeof d=="string"&&(d=d.trim(),rh(d))){const h=JT(d,n.current);h!==void 0&&(t[m]=h),m===t.length-1&&(this.finalKeyframe=d)}}if(this.resolveNoneKeyframes(),!ZT.has(r)||t.length!==2)return;const[o,l]=t,u=Ov(o),f=Ov(l);if(u!==f)if(Lv(u)&&Lv(f))for(let m=0;m<t.length;m++){const d=t[m];typeof d=="string"&&(t[m]=parseFloat(d))}else Nr[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:n}=this,r=[];for(let o=0;o<t.length;o++)(t[o]===null||R3(t[o]))&&r.push(o);r.length&&O3(t,r,n)}measureInitialState(){const{element:t,unresolvedKeyframes:n,name:r}=this;if(!t||!t.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Nr[r](t.measureViewportBox(),window.getComputedStyle(t.current)),n[0]=this.measuredOrigin;const o=n[n.length-1];o!==void 0&&t.getValue(r,o).jump(o,!1)}measureEndState(){var f;const{element:t,name:n,unresolvedKeyframes:r}=this;if(!t||!t.current)return;const o=t.getValue(n);o&&o.jump(this.measuredOrigin,!1);const l=r.length-1,u=r[l];r[l]=Nr[n](t.measureViewportBox(),window.getComputedStyle(t.current)),u!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=u),(f=this.removedTransforms)!=null&&f.length&&this.removedTransforms.forEach(([m,d])=>{t.getValue(m).set(d)}),this.resolveNoneKeyframes()}}function z3(e,t,n){if(e instanceof EventTarget)return[e];if(typeof e=="string"){let r=document;const o=(n==null?void 0:n[e])??r.querySelectorAll(e);return o?Array.from(o):[]}return Array.from(e)}const rS=(e,t)=>t&&typeof e=="number"?t.transform(e):e,zv=30,j3=e=>!isNaN(parseFloat(e));class H3{constructor(t,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=(r,o=!0)=>{var u,f;const l=on.now();if(this.updatedAt!==l&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&((u=this.events.change)==null||u.notify(this.current),this.dependents))for(const m of this.dependents)m.dirty();o&&((f=this.events.renderRequest)==null||f.notify(this.current))},this.hasAnimated=!1,this.setCurrent(t),this.owner=n.owner}setCurrent(t){this.current=t,this.updatedAt=on.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=j3(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,n){this.events[t]||(this.events[t]=new eh);const r=this.events[t].add(n);return t==="change"?()=>{r(),ft.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,n){this.passiveEffect=t,this.stopPassiveEffect=n}set(t,n=!0){!n||!this.passiveEffect?this.updateAndNotify(t,n):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-r}jump(t,n=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var t;(t=this.events.change)==null||t.notify(this.current)}addDependent(t){this.dependents||(this.dependents=new Set),this.dependents.add(t)}removeDependent(t){this.dependents&&this.dependents.delete(t)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=on.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>zv)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,zv);return ST(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(t){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=t(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var t,n;(t=this.dependents)==null||t.clear(),(n=this.events.destroy)==null||n.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function La(e,t){return new H3(e,t)}const{schedule:ph}=_T(queueMicrotask,!1),On={x:!1,y:!1};function aS(){return On.x||On.y}function U3(e){return e==="x"||e==="y"?On[e]?null:(On[e]=!0,()=>{On[e]=!1}):On.x||On.y?null:(On.x=On.y=!0,()=>{On.x=On.y=!1})}function oS(e,t){const n=z3(e),r=new AbortController,o={passive:!0,...t,signal:r.signal};return[n,o,()=>r.abort()]}function jv(e){return!(e.pointerType==="touch"||aS())}function G3(e,t,n={}){const[r,o,l]=oS(e,n),u=f=>{if(!jv(f))return;const{target:m}=f,d=t(m,f);if(typeof d!="function"||!m)return;const h=y=>{jv(y)&&(d(y),m.removeEventListener("pointerleave",h))};m.addEventListener("pointerleave",h,o)};return r.forEach(f=>{f.addEventListener("pointerenter",u,o)}),l}const sS=(e,t)=>t?e===t?!0:sS(e,t.parentElement):!1,gh=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,q3=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function Y3(e){return q3.has(e.tagName)||e.tabIndex!==-1}const fu=new WeakSet;function Hv(e){return t=>{t.key==="Enter"&&e(t)}}function Dd(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const $3=(e,t)=>{const n=e.currentTarget;if(!n)return;const r=Hv(()=>{if(fu.has(n))return;Dd(n,"down");const o=Hv(()=>{Dd(n,"up")}),l=()=>Dd(n,"cancel");n.addEventListener("keyup",o,t),n.addEventListener("blur",l,t)});n.addEventListener("keydown",r,t),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),t)};function Uv(e){return gh(e)&&!aS()}function K3(e,t,n={}){const[r,o,l]=oS(e,n),u=f=>{const m=f.currentTarget;if(!Uv(f))return;fu.add(m);const d=t(m,f),h=(S,M)=>{window.removeEventListener("pointerup",y),window.removeEventListener("pointercancel",T),fu.has(m)&&fu.delete(m),Uv(S)&&typeof d=="function"&&d(S,{success:M})},y=S=>{h(S,m===window||m===document||n.useGlobalTarget||sS(m,S.target))},T=S=>{h(S,!1)};window.addEventListener("pointerup",y,o),window.addEventListener("pointercancel",T,o)};return r.forEach(f=>{(n.useGlobalTarget?window:f).addEventListener("pointerdown",u,o),QT(f)&&(f.addEventListener("focus",d=>$3(d,o)),!Y3(f)&&!f.hasAttribute("tabindex")&&(f.tabIndex=0))}),l}function lS(e){return bT(e)&&"ownerSVGElement"in e}function X3(e){return lS(e)&&e.tagName==="svg"}const Yt=e=>!!(e&&e.getVelocity),W3=[...tS,Dt,Zi],Q3=e=>W3.find(eS(e)),uS=ne.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});function J3(e=!0){const t=ne.useContext(Xm);if(t===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:o}=t,l=ne.useId();ne.useEffect(()=>{if(e)return o(l)},[e]);const u=ne.useCallback(()=>e&&r&&r(l),[l,r,e]);return!n&&r?[!1,u]:[!0]}const cS=ne.createContext({strict:!1}),Gv={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Va={};for(const e in Gv)Va[e]={isEnabled:t=>Gv[e].some(n=>!!t[n])};function Z3(e){for(const t in e)Va[t]={...Va[t],...e[t]}}const e4=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Eu(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||e4.has(e)}let fS=e=>!Eu(e);function t4(e){typeof e=="function"&&(fS=t=>t.startsWith("on")?!Eu(t):e(t))}try{t4(require("@emotion/is-prop-valid").default)}catch{}function n4(e,t,n){const r={};for(const o in e)o==="values"&&typeof e.values=="object"||(fS(o)||n===!0&&Eu(o)||!t&&!Eu(o)||e.draggable&&o.startsWith("onDrag"))&&(r[o]=e[o]);return r}function i4(e){if(typeof Proxy>"u")return e;const t=new Map,n=(...r)=>e(...r);return new Proxy(n,{get:(r,o)=>o==="create"?e:(t.has(o)||t.set(o,e(o)),t.get(o))})}const Pu=ne.createContext({});function Bu(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}function ys(e){return typeof e=="string"||Array.isArray(e)}const yh=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],xh=["initial",...yh];function Ou(e){return Bu(e.animate)||xh.some(t=>ys(e[t]))}function dS(e){return!!(Ou(e)||e.variants)}function r4(e,t){if(Ou(e)){const{initial:n,animate:r}=e;return{initial:n===!1||ys(n)?n:void 0,animate:ys(r)?r:void 0}}return e.inherit!==!1?t:{}}function a4(e){const{initial:t,animate:n}=r4(e,ne.useContext(Pu));return ne.useMemo(()=>({initial:t,animate:n}),[qv(t),qv(n)])}function qv(e){return Array.isArray(e)?e.join(" "):e}const o4=Symbol.for("motionComponentSymbol");function Da(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function s4(e,t,n){return ne.useCallback(r=>{r&&e.onMount&&e.onMount(r),t&&(r?t.mount(r):t.unmount()),n&&(typeof n=="function"?n(r):Da(n)&&(n.current=r))},[t])}const vh=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),l4="framerAppearId",mS="data-"+vh(l4),hS=ne.createContext({});function u4(e,t,n,r,o){var E,_;const{visualElement:l}=ne.useContext(Pu),u=ne.useContext(cS),f=ne.useContext(Xm),m=ne.useContext(uS).reducedMotion,d=ne.useRef(null);r=r||u.renderer,!d.current&&r&&(d.current=r(e,{visualState:t,parent:l,props:n,presenceContext:f,blockInitialAnimation:f?f.initial===!1:!1,reducedMotionConfig:m}));const h=d.current,y=ne.useContext(hS);h&&!h.projection&&o&&(h.type==="html"||h.type==="svg")&&c4(d.current,n,o,y);const T=ne.useRef(!1);ne.useInsertionEffect(()=>{h&&T.current&&h.update(n,f)});const S=n[mS],M=ne.useRef(!!S&&!((E=window.MotionHandoffIsComplete)!=null&&E.call(window,S))&&((_=window.MotionHasOptimisedAnimation)==null?void 0:_.call(window,S)));return t5(()=>{h&&(T.current=!0,window.MotionIsMounted=!0,h.updateFeatures(),ph.render(h.render),M.current&&h.animationState&&h.animationState.animateChanges())}),ne.useEffect(()=>{h&&(!M.current&&h.animationState&&h.animationState.animateChanges(),M.current&&(queueMicrotask(()=>{var I;(I=window.MotionHandoffMarkAsComplete)==null||I.call(window,S)}),M.current=!1))}),h}function c4(e,t,n,r){const{layoutId:o,layout:l,drag:u,dragConstraints:f,layoutScroll:m,layoutRoot:d,layoutCrossfade:h}=t;e.projection=new n(e.latestValues,t["data-framer-portal-id"]?void 0:pS(e.parent)),e.projection.setOptions({layoutId:o,layout:l,alwaysMeasureLayout:!!u||f&&Da(f),visualElement:e,animationType:typeof l=="string"?l:"both",initialPromotionConfig:r,crossfade:h,layoutScroll:m,layoutRoot:d})}function pS(e){if(e)return e.options.allowProjection!==!1?e.projection:pS(e.parent)}function f4({preloadedFeatures:e,createVisualElement:t,useRender:n,useVisualState:r,Component:o}){e&&Z3(e);function l(f,m){let d;const h={...ne.useContext(uS),...f,layoutId:d4(f)},{isStatic:y}=h,T=a4(f),S=r(f,y);if(!y&&Km){m4();const M=h4(h);d=M.MeasureLayout,T.visualElement=u4(o,S,h,t,M.ProjectionNode)}return g.jsxs(Pu.Provider,{value:T,children:[d&&T.visualElement?g.jsx(d,{visualElement:T.visualElement,...h}):null,n(o,f,s4(S,T.visualElement,m),S,y,T.visualElement)]})}l.displayName=`motion.${typeof o=="string"?o:`create(${o.displayName??o.name??""})`}`;const u=ne.forwardRef(l);return u[o4]=o,u}function d4({layoutId:e}){const t=ne.useContext(xT).id;return t&&e!==void 0?t+"-"+e:e}function m4(e,t){ne.useContext(cS).strict}function h4(e){const{drag:t,layout:n}=Va;if(!t&&!n)return{};const r={...t,...n};return{MeasureLayout:t!=null&&t.isEnabled(e)||n!=null&&n.isEnabled(e)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}const xs={};function p4(e){for(const t in e)xs[t]=e[t],ih(t)&&(xs[t].isCSSVariable=!0)}function gS(e,{layout:t,layoutId:n}){return ja.has(e)||e.startsWith("origin")||(t||n!==void 0)&&(!!xs[e]||e==="opacity")}const g4={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},y4=za.length;function x4(e,t,n){let r="",o=!0;for(let l=0;l<y4;l++){const u=za[l],f=e[u];if(f===void 0)continue;let m=!0;if(typeof f=="number"?m=f===(u.startsWith("scale")?1:0):m=parseFloat(f)===0,!m||n){const d=rS(f,hh[u]);if(!m){o=!1;const h=g4[u]||u;r+=`${h}(${d}) `}n&&(t[u]=d)}}return r=r.trim(),n?r=n(t,o?"":r):o&&(r="none"),r}function bh(e,t,n){const{style:r,vars:o,transformOrigin:l}=e;let u=!1,f=!1;for(const m in t){const d=t[m];if(ja.has(m)){u=!0;continue}else if(ih(m)){o[m]=d;continue}else{const h=rS(d,hh[m]);m.startsWith("origin")?(f=!0,l[m]=h):r[m]=h}}if(t.transform||(u||n?r.transform=x4(t,e.transform,n):r.transform&&(r.transform="none")),f){const{originX:m="50%",originY:d="50%",originZ:h=0}=l;r.transformOrigin=`${m} ${d} ${h}`}}const Th=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function yS(e,t,n){for(const r in t)!Yt(t[r])&&!gS(r,n)&&(e[r]=t[r])}function v4({transformTemplate:e},t){return ne.useMemo(()=>{const n=Th();return bh(n,t,e),Object.assign({},n.vars,n.style)},[t])}function b4(e,t){const n=e.style||{},r={};return yS(r,n,e),Object.assign(r,v4(e,t)),r}function T4(e,t){const n={},r=b4(e,t);return e.drag&&e.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(n.tabIndex=0),n.style=r,n}const S4={offset:"stroke-dashoffset",array:"stroke-dasharray"},C4={offset:"strokeDashoffset",array:"strokeDasharray"};function w4(e,t,n=1,r=0,o=!0){e.pathLength=1;const l=o?S4:C4;e[l.offset]=ke.transform(-r);const u=ke.transform(t),f=ke.transform(n);e[l.array]=`${u} ${f}`}function xS(e,{attrX:t,attrY:n,attrScale:r,pathLength:o,pathSpacing:l=1,pathOffset:u=0,...f},m,d,h){if(bh(e,f,d),m){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:y,style:T}=e;y.transform&&(T.transform=y.transform,delete y.transform),(T.transform||y.transformOrigin)&&(T.transformOrigin=y.transformOrigin??"50% 50%",delete y.transformOrigin),T.transform&&(T.transformBox=(h==null?void 0:h.transformBox)??"fill-box",delete y.transformBox),t!==void 0&&(y.x=t),n!==void 0&&(y.y=n),r!==void 0&&(y.scale=r),o!==void 0&&w4(y,o,l,u,!1)}const vS=()=>({...Th(),attrs:{}}),bS=e=>typeof e=="string"&&e.toLowerCase()==="svg";function M4(e,t,n,r){const o=ne.useMemo(()=>{const l=vS();return xS(l,t,bS(r),e.transformTemplate,e.style),{...l.attrs,style:{...l.style}}},[t]);if(e.style){const l={};yS(l,e.style,e),o.style={...l,...o.style}}return o}const E4=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Sh(e){return typeof e!="string"||e.includes("-")?!1:!!(E4.indexOf(e)>-1||/[A-Z]/u.test(e))}function A4(e=!1){return(n,r,o,{latestValues:l},u)=>{const m=(Sh(n)?M4:T4)(r,l,u,n),d=n4(r,typeof n=="string",e),h=n!==ne.Fragment?{...d,...m,ref:o}:{},{children:y}=r,T=ne.useMemo(()=>Yt(y)?y.get():y,[y]);return ne.createElement(n,{...h,children:T})}}function Yv(e){const t=[{},{}];return e==null||e.values.forEach((n,r)=>{t[0][r]=n.get(),t[1][r]=n.getVelocity()}),t}function Ch(e,t,n,r){if(typeof t=="function"){const[o,l]=Yv(r);t=t(n!==void 0?n:e.custom,o,l)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[o,l]=Yv(r);t=t(n!==void 0?n:e.custom,o,l)}return t}function du(e){return Yt(e)?e.get():e}function D4({scrapeMotionValuesFromProps:e,createRenderState:t},n,r,o){return{latestValues:I4(n,r,o,e),renderState:t()}}const TS=e=>(t,n)=>{const r=ne.useContext(Pu),o=ne.useContext(Xm),l=()=>D4(e,t,r,o);return n?l():e5(l)};function I4(e,t,n,r){const o={},l=r(e,{});for(const T in l)o[T]=du(l[T]);let{initial:u,animate:f}=e;const m=Ou(e),d=dS(e);t&&d&&!m&&e.inherit!==!1&&(u===void 0&&(u=t.initial),f===void 0&&(f=t.animate));let h=n?n.initial===!1:!1;h=h||u===!1;const y=h?f:u;if(y&&typeof y!="boolean"&&!Bu(y)){const T=Array.isArray(y)?y:[y];for(let S=0;S<T.length;S++){const M=Ch(e,T[S]);if(M){const{transitionEnd:E,transition:_,...I}=M;for(const k in I){let R=I[k];if(Array.isArray(R)){const z=h?R.length-1:0;R=R[z]}R!==null&&(o[k]=R)}for(const k in E)o[k]=E[k]}}}return o}function wh(e,t,n){var l;const{style:r}=e,o={};for(const u in r)(Yt(r[u])||t.style&&Yt(t.style[u])||gS(u,e)||((l=n==null?void 0:n.getValue(u))==null?void 0:l.liveStyle)!==void 0)&&(o[u]=r[u]);return o}const k4={useVisualState:TS({scrapeMotionValuesFromProps:wh,createRenderState:Th})};function SS(e,t,n){const r=wh(e,t,n);for(const o in e)if(Yt(e[o])||Yt(t[o])){const l=za.indexOf(o)!==-1?"attr"+o.charAt(0).toUpperCase()+o.substring(1):o;r[l]=e[o]}return r}const R4={useVisualState:TS({scrapeMotionValuesFromProps:SS,createRenderState:vS})};function N4(e,t){return function(r,{forwardMotionProps:o}={forwardMotionProps:!1}){const u={...Sh(r)?R4:k4,preloadedFeatures:e,useRender:A4(o),createVisualElement:t,Component:r};return f4(u)}}function vs(e,t,n){const r=e.getProps();return Ch(r,t,n!==void 0?n:r.custom,e)}const xm=e=>Array.isArray(e);function _4(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,La(n))}function L4(e){return xm(e)?e[e.length-1]||0:e}function V4(e,t){const n=vs(e,t);let{transitionEnd:r={},transition:o={},...l}=n||{};l={...l,...r};for(const u in l){const f=L4(l[u]);_4(e,u,f)}}function P4(e){return!!(Yt(e)&&e.add)}function vm(e,t){const n=e.getValue("willChange");if(P4(n))return n.add(t);if(!n&&bi.WillChange){const r=new bi.WillChange("auto");e.addValue("willChange",r),r.add(t)}}function CS(e){return e.props[mS]}const B4=e=>e!==null;function O4(e,{repeat:t,repeatType:n="loop"},r){const o=e.filter(B4),l=t&&n!=="loop"&&t%2===1?0:o.length-1;return o[l]}const F4={type:"spring",stiffness:500,damping:25,restSpeed:10},z4=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),j4={type:"keyframes",duration:.8},H4={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},U4=(e,{keyframes:t})=>t.length>2?j4:ja.has(e)?e.startsWith("scale")?z4(t[1]):F4:H4;function G4({when:e,delay:t,delayChildren:n,staggerChildren:r,staggerDirection:o,repeat:l,repeatType:u,repeatDelay:f,from:m,elapsed:d,...h}){return!!Object.keys(h).length}const Mh=(e,t,n,r={},o,l)=>u=>{const f=mh(r,e)||{},m=f.delay||r.delay||0;let{elapsed:d=0}=r;d=d-Zn(m);const h={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:t.getVelocity(),...f,delay:-d,onUpdate:T=>{t.set(T),f.onUpdate&&f.onUpdate(T)},onComplete:()=>{u(),f.onComplete&&f.onComplete()},name:e,motionValue:t,element:l?void 0:o};G4(f)||Object.assign(h,U4(e,h)),h.duration&&(h.duration=Zn(h.duration)),h.repeatDelay&&(h.repeatDelay=Zn(h.repeatDelay)),h.from!==void 0&&(h.keyframes[0]=h.from);let y=!1;if((h.type===!1||h.duration===0&&!h.repeatDelay)&&(h.duration=0,h.delay===0&&(y=!0)),(bi.instantAnimations||bi.skipAnimations)&&(y=!0,h.duration=0,h.delay=0),h.allowFlatten=!f.type&&!f.ease,y&&!l&&t.get()!==void 0){const T=O4(h.keyframes,f);if(T!==void 0){ft.update(()=>{h.onUpdate(T),h.onComplete()});return}}return f.isSync?new fh(h):new A3(h)};function q4({protectedKeys:e,needsAnimating:t},n){const r=e.hasOwnProperty(n)&&t[n]!==!0;return t[n]=!1,r}function wS(e,t,{delay:n=0,transitionOverride:r,type:o}={}){let{transition:l=e.getDefaultTransition(),transitionEnd:u,...f}=t;r&&(l=r);const m=[],d=o&&e.animationState&&e.animationState.getState()[o];for(const h in f){const y=e.getValue(h,e.latestValues[h]??null),T=f[h];if(T===void 0||d&&q4(d,h))continue;const S={delay:n,...mh(l||{},h)},M=y.get();if(M!==void 0&&!y.isAnimating&&!Array.isArray(T)&&T===M&&!S.velocity)continue;let E=!1;if(window.MotionHandoffAnimation){const I=CS(e);if(I){const k=window.MotionHandoffAnimation(I,h,ft);k!==null&&(S.startTime=k,E=!0)}}vm(e,h),y.start(Mh(h,y,T,e.shouldReduceMotion&&ZT.has(h)?{type:!1}:S,e,E));const _=y.animation;_&&m.push(_)}return u&&Promise.all(m).then(()=>{ft.update(()=>{u&&V4(e,u)})}),m}function bm(e,t,n={}){var m;const r=vs(e,t,n.type==="exit"?(m=e.presenceContext)==null?void 0:m.custom:void 0);let{transition:o=e.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(o=n.transitionOverride);const l=r?()=>Promise.all(wS(e,r,n)):()=>Promise.resolve(),u=e.variantChildren&&e.variantChildren.size?(d=0)=>{const{delayChildren:h=0,staggerChildren:y,staggerDirection:T}=o;return Y4(e,t,h+d,y,T,n)}:()=>Promise.resolve(),{when:f}=o;if(f){const[d,h]=f==="beforeChildren"?[l,u]:[u,l];return d().then(()=>h())}else return Promise.all([l(),u(n.delay)])}function Y4(e,t,n=0,r=0,o=1,l){const u=[],f=(e.variantChildren.size-1)*r,m=o===1?(d=0)=>d*r:(d=0)=>f-d*r;return Array.from(e.variantChildren).sort($4).forEach((d,h)=>{d.notify("AnimationStart",t),u.push(bm(d,t,{...l,delay:n+m(h)}).then(()=>d.notify("AnimationComplete",t)))}),Promise.all(u)}function $4(e,t){return e.sortNodePosition(t)}function K4(e,t,n={}){e.notify("AnimationStart",t);let r;if(Array.isArray(t)){const o=t.map(l=>bm(e,l,n));r=Promise.all(o)}else if(typeof t=="string")r=bm(e,t,n);else{const o=typeof t=="function"?vs(e,t,n.custom):t;r=Promise.all(wS(e,o,n))}return r.then(()=>{e.notify("AnimationComplete",t)})}function MS(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}const X4=xh.length;function ES(e){if(!e)return;if(!e.isControllingVariants){const n=e.parent?ES(e.parent)||{}:{};return e.props.initial!==void 0&&(n.initial=e.props.initial),n}const t={};for(let n=0;n<X4;n++){const r=xh[n],o=e.props[r];(ys(o)||o===!1)&&(t[r]=o)}return t}const W4=[...yh].reverse(),Q4=yh.length;function J4(e){return t=>Promise.all(t.map(({animation:n,options:r})=>K4(e,n,r)))}function Z4(e){let t=J4(e),n=$v(),r=!0;const o=m=>(d,h)=>{var T;const y=vs(e,h,m==="exit"?(T=e.presenceContext)==null?void 0:T.custom:void 0);if(y){const{transition:S,transitionEnd:M,...E}=y;d={...d,...E,...M}}return d};function l(m){t=m(e)}function u(m){const{props:d}=e,h=ES(e.parent)||{},y=[],T=new Set;let S={},M=1/0;for(let _=0;_<Q4;_++){const I=W4[_],k=n[I],R=d[I]!==void 0?d[I]:h[I],z=ys(R),G=I===m?k.isActive:null;G===!1&&(M=_);let H=R===h[I]&&R!==d[I]&&z;if(H&&r&&e.manuallyAnimateOnMount&&(H=!1),k.protectedKeys={...S},!k.isActive&&G===null||!R&&!k.prevProp||Bu(R)||typeof R=="boolean")continue;const se=eB(k.prevProp,R);let oe=se||I===m&&k.isActive&&!H&&z||_>M&&z,pe=!1;const j=Array.isArray(R)?R:[R];let fe=j.reduce(o(I),{});G===!1&&(fe={});const{prevResolvedValues:Z={}}=k,he={...Z,...fe},le=B=>{oe=!0,T.has(B)&&(pe=!0,T.delete(B)),k.needsAnimating[B]=!0;const N=e.getValue(B);N&&(N.liveStyle=!1)};for(const B in he){const N=fe[B],L=Z[B];if(S.hasOwnProperty(B))continue;let C=!1;xm(N)&&xm(L)?C=!MS(N,L):C=N!==L,C?N!=null?le(B):T.add(B):N!==void 0&&T.has(B)?le(B):k.protectedKeys[B]=!0}k.prevProp=R,k.prevResolvedValues=fe,k.isActive&&(S={...S,...fe}),r&&e.blockInitialAnimation&&(oe=!1),oe&&(!(H&&se)||pe)&&y.push(...j.map(B=>({animation:B,options:{type:I}})))}if(T.size){const _={};if(typeof d.initial!="boolean"){const I=vs(e,Array.isArray(d.initial)?d.initial[0]:d.initial);I&&I.transition&&(_.transition=I.transition)}T.forEach(I=>{const k=e.getBaseTarget(I),R=e.getValue(I);R&&(R.liveStyle=!0),_[I]=k??null}),y.push({animation:_})}let E=!!y.length;return r&&(d.initial===!1||d.initial===d.animate)&&!e.manuallyAnimateOnMount&&(E=!1),r=!1,E?t(y):Promise.resolve()}function f(m,d){var y;if(n[m].isActive===d)return Promise.resolve();(y=e.variantChildren)==null||y.forEach(T=>{var S;return(S=T.animationState)==null?void 0:S.setActive(m,d)}),n[m].isActive=d;const h=u(m);for(const T in n)n[T].protectedKeys={};return h}return{animateChanges:u,setActive:f,setAnimateFunction:l,getState:()=>n,reset:()=>{n=$v(),r=!0}}}function eB(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!MS(t,e):!1}function Ar(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function $v(){return{animate:Ar(!0),whileInView:Ar(),whileHover:Ar(),whileTap:Ar(),whileDrag:Ar(),whileFocus:Ar(),exit:Ar()}}class ar{constructor(t){this.isMounted=!1,this.node=t}update(){}}class tB extends ar{constructor(t){super(t),t.animationState||(t.animationState=Z4(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();Bu(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:n}=this.node.prevProps||{};t!==n&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),(t=this.unmountControls)==null||t.call(this)}}let nB=0;class iB extends ar{constructor(){super(...arguments),this.id=nB++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===r)return;const o=this.node.animationState.setActive("exit",!t);n&&!t&&o.then(()=>{n(this.id)})}mount(){const{register:t,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const rB={animation:{Feature:tB},exit:{Feature:iB}};function bs(e,t,n,r={passive:!0}){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n)}function Is(e){return{point:{x:e.pageX,y:e.pageY}}}const aB=e=>t=>gh(t)&&e(t,Is(t));function ss(e,t,n,r){return bs(e,t,aB(n),r)}function AS({top:e,left:t,right:n,bottom:r}){return{x:{min:t,max:n},y:{min:e,max:r}}}function oB({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function sB(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),r=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}const DS=1e-4,lB=1-DS,uB=1+DS,IS=.01,cB=0-IS,fB=0+IS;function Jt(e){return e.max-e.min}function dB(e,t,n){return Math.abs(e-t)<=n}function Kv(e,t,n,r=.5){e.origin=r,e.originPoint=ct(t.min,t.max,e.origin),e.scale=Jt(n)/Jt(t),e.translate=ct(n.min,n.max,e.origin)-e.originPoint,(e.scale>=lB&&e.scale<=uB||isNaN(e.scale))&&(e.scale=1),(e.translate>=cB&&e.translate<=fB||isNaN(e.translate))&&(e.translate=0)}function ls(e,t,n,r){Kv(e.x,t.x,n.x,r?r.originX:void 0),Kv(e.y,t.y,n.y,r?r.originY:void 0)}function Xv(e,t,n){e.min=n.min+t.min,e.max=e.min+Jt(t)}function mB(e,t,n){Xv(e.x,t.x,n.x),Xv(e.y,t.y,n.y)}function Wv(e,t,n){e.min=t.min-n.min,e.max=e.min+Jt(t)}function us(e,t,n){Wv(e.x,t.x,n.x),Wv(e.y,t.y,n.y)}const Qv=()=>({translate:0,scale:1,origin:0,originPoint:0}),Ia=()=>({x:Qv(),y:Qv()}),Jv=()=>({min:0,max:0}),Ct=()=>({x:Jv(),y:Jv()});function Rn(e){return[e("x"),e("y")]}function Id(e){return e===void 0||e===1}function Tm({scale:e,scaleX:t,scaleY:n}){return!Id(e)||!Id(t)||!Id(n)}function Ir(e){return Tm(e)||kS(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function kS(e){return Zv(e.x)||Zv(e.y)}function Zv(e){return e&&e!=="0%"}function Au(e,t,n){const r=e-n,o=t*r;return n+o}function e1(e,t,n,r,o){return o!==void 0&&(e=Au(e,o,r)),Au(e,n,r)+t}function Sm(e,t=0,n=1,r,o){e.min=e1(e.min,t,n,r,o),e.max=e1(e.max,t,n,r,o)}function RS(e,{x:t,y:n}){Sm(e.x,t.translate,t.scale,t.originPoint),Sm(e.y,n.translate,n.scale,n.originPoint)}const t1=.999999999999,n1=1.0000000000001;function hB(e,t,n,r=!1){const o=n.length;if(!o)return;t.x=t.y=1;let l,u;for(let f=0;f<o;f++){l=n[f],u=l.projectionDelta;const{visualElement:m}=l.options;m&&m.props.style&&m.props.style.display==="contents"||(r&&l.options.layoutScroll&&l.scroll&&l!==l.root&&Ra(e,{x:-l.scroll.offset.x,y:-l.scroll.offset.y}),u&&(t.x*=u.x.scale,t.y*=u.y.scale,RS(e,u)),r&&Ir(l.latestValues)&&Ra(e,l.latestValues))}t.x<n1&&t.x>t1&&(t.x=1),t.y<n1&&t.y>t1&&(t.y=1)}function ka(e,t){e.min=e.min+t,e.max=e.max+t}function i1(e,t,n,r,o=.5){const l=ct(e.min,e.max,o);Sm(e,t,n,l,r)}function Ra(e,t){i1(e.x,t.x,t.scaleX,t.scale,t.originX),i1(e.y,t.y,t.scaleY,t.scale,t.originY)}function NS(e,t){return AS(sB(e.getBoundingClientRect(),t))}function pB(e,t,n){const r=NS(e,n),{scroll:o}=t;return o&&(ka(r.x,o.offset.x),ka(r.y,o.offset.y)),r}const _S=({current:e})=>e?e.ownerDocument.defaultView:null,r1=(e,t)=>Math.abs(e-t);function gB(e,t){const n=r1(e.x,t.x),r=r1(e.y,t.y);return Math.sqrt(n**2+r**2)}class LS{constructor(t,n,{transformPagePoint:r,contextWindow:o,dragSnapToOrigin:l=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const y=Rd(this.lastMoveEventInfo,this.history),T=this.startEvent!==null,S=gB(y.offset,{x:0,y:0})>=3;if(!T&&!S)return;const{point:M}=y,{timestamp:E}=zt;this.history.push({...M,timestamp:E});const{onStart:_,onMove:I}=this.handlers;T||(_&&_(this.lastMoveEvent,y),this.startEvent=this.lastMoveEvent),I&&I(this.lastMoveEvent,y)},this.handlePointerMove=(y,T)=>{this.lastMoveEvent=y,this.lastMoveEventInfo=kd(T,this.transformPagePoint),ft.update(this.updatePoint,!0)},this.handlePointerUp=(y,T)=>{this.end();const{onEnd:S,onSessionEnd:M,resumeAnimation:E}=this.handlers;if(this.dragSnapToOrigin&&E&&E(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const _=Rd(y.type==="pointercancel"?this.lastMoveEventInfo:kd(T,this.transformPagePoint),this.history);this.startEvent&&S&&S(y,_),M&&M(y,_)},!gh(t))return;this.dragSnapToOrigin=l,this.handlers=n,this.transformPagePoint=r,this.contextWindow=o||window;const u=Is(t),f=kd(u,this.transformPagePoint),{point:m}=f,{timestamp:d}=zt;this.history=[{...m,timestamp:d}];const{onSessionStart:h}=n;h&&h(t,Rd(f,this.history)),this.removeListeners=Es(ss(this.contextWindow,"pointermove",this.handlePointerMove),ss(this.contextWindow,"pointerup",this.handlePointerUp),ss(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),Ji(this.updatePoint)}}function kd(e,t){return t?{point:t(e.point)}:e}function a1(e,t){return{x:e.x-t.x,y:e.y-t.y}}function Rd({point:e},t){return{point:e,delta:a1(e,VS(t)),offset:a1(e,yB(t)),velocity:xB(t,.1)}}function yB(e){return e[0]}function VS(e){return e[e.length-1]}function xB(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,r=null;const o=VS(e);for(;n>=0&&(r=e[n],!(o.timestamp-r.timestamp>Zn(t)));)n--;if(!r)return{x:0,y:0};const l=ei(o.timestamp-r.timestamp);if(l===0)return{x:0,y:0};const u={x:(o.x-r.x)/l,y:(o.y-r.y)/l};return u.x===1/0&&(u.x=0),u.y===1/0&&(u.y=0),u}function vB(e,{min:t,max:n},r){return t!==void 0&&e<t?e=r?ct(t,e,r.min):Math.max(e,t):n!==void 0&&e>n&&(e=r?ct(n,e,r.max):Math.min(e,n)),e}function o1(e,t,n){return{min:t!==void 0?e.min+t:void 0,max:n!==void 0?e.max+n-(e.max-e.min):void 0}}function bB(e,{top:t,left:n,bottom:r,right:o}){return{x:o1(e.x,n,o),y:o1(e.y,t,r)}}function s1(e,t){let n=t.min-e.min,r=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,r]=[r,n]),{min:n,max:r}}function TB(e,t){return{x:s1(e.x,t.x),y:s1(e.y,t.y)}}function SB(e,t){let n=.5;const r=Jt(e),o=Jt(t);return o>r?n=hs(t.min,t.max-r,e.min):r>o&&(n=hs(e.min,e.max-o,t.min)),vi(0,1,n)}function CB(e,t){const n={};return t.min!==void 0&&(n.min=t.min-e.min),t.max!==void 0&&(n.max=t.max-e.min),n}const Cm=.35;function wB(e=Cm){return e===!1?e=0:e===!0&&(e=Cm),{x:l1(e,"left","right"),y:l1(e,"top","bottom")}}function l1(e,t,n){return{min:u1(e,t),max:u1(e,n)}}function u1(e,t){return typeof e=="number"?e:e[t]||0}const MB=new WeakMap;class EB{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Ct(),this.visualElement=t}start(t,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const o=h=>{const{dragSnapToOrigin:y}=this.getProps();y?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Is(h).point)},l=(h,y)=>{const{drag:T,dragPropagation:S,onDragStart:M}=this.getProps();if(T&&!S&&(this.openDragLock&&this.openDragLock(),this.openDragLock=U3(T),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Rn(_=>{let I=this.getAxisMotionValue(_).get()||0;if(ti.test(I)){const{projection:k}=this.visualElement;if(k&&k.layout){const R=k.layout.layoutBox[_];R&&(I=Jt(R)*(parseFloat(I)/100))}}this.originPoint[_]=I}),M&&ft.postRender(()=>M(h,y)),vm(this.visualElement,"transform");const{animationState:E}=this.visualElement;E&&E.setActive("whileDrag",!0)},u=(h,y)=>{const{dragPropagation:T,dragDirectionLock:S,onDirectionLock:M,onDrag:E}=this.getProps();if(!T&&!this.openDragLock)return;const{offset:_}=y;if(S&&this.currentDirection===null){this.currentDirection=AB(_),this.currentDirection!==null&&M&&M(this.currentDirection);return}this.updateAxis("x",y.point,_),this.updateAxis("y",y.point,_),this.visualElement.render(),E&&E(h,y)},f=(h,y)=>this.stop(h,y),m=()=>Rn(h=>{var y;return this.getAnimationState(h)==="paused"&&((y=this.getAxisMotionValue(h).animation)==null?void 0:y.play())}),{dragSnapToOrigin:d}=this.getProps();this.panSession=new LS(t,{onSessionStart:o,onStart:l,onMove:u,onSessionEnd:f,resumeAnimation:m},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:d,contextWindow:_S(this.visualElement)})}stop(t,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:o}=n;this.startAnimation(o);const{onDragEnd:l}=this.getProps();l&&ft.postRender(()=>l(t,n))}cancel(){this.isDragging=!1;const{projection:t,animationState:n}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(t,n,r){const{drag:o}=this.getProps();if(!r||!iu(t,o,this.currentDirection))return;const l=this.getAxisMotionValue(t);let u=this.originPoint[t]+r[t];this.constraints&&this.constraints[t]&&(u=vB(u,this.constraints[t],this.elastic[t])),l.set(u)}resolveConstraints(){var l;const{dragConstraints:t,dragElastic:n}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(l=this.visualElement.projection)==null?void 0:l.layout,o=this.constraints;t&&Da(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&r?this.constraints=bB(r.layoutBox,t):this.constraints=!1,this.elastic=wB(n),o!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&Rn(u=>{this.constraints!==!1&&this.getAxisMotionValue(u)&&(this.constraints[u]=CB(r.layoutBox[u],this.constraints[u]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:n}=this.getProps();if(!t||!Da(t))return!1;const r=t.current,{projection:o}=this.visualElement;if(!o||!o.layout)return!1;const l=pB(r,o.root,this.visualElement.getTransformPagePoint());let u=TB(o.layout.layoutBox,l);if(n){const f=n(oB(u));this.hasMutatedConstraints=!!f,f&&(u=AS(f))}return u}startAnimation(t){const{drag:n,dragMomentum:r,dragElastic:o,dragTransition:l,dragSnapToOrigin:u,onDragTransitionEnd:f}=this.getProps(),m=this.constraints||{},d=Rn(h=>{if(!iu(h,n,this.currentDirection))return;let y=m&&m[h]||{};u&&(y={min:0,max:0});const T=o?200:1e6,S=o?40:1e7,M={type:"inertia",velocity:r?t[h]:0,bounceStiffness:T,bounceDamping:S,timeConstant:750,restDelta:1,restSpeed:10,...l,...y};return this.startAxisValueAnimation(h,M)});return Promise.all(d).then(f)}startAxisValueAnimation(t,n){const r=this.getAxisMotionValue(t);return vm(this.visualElement,t),r.start(Mh(t,r,0,n,this.visualElement,!1))}stopAnimation(){Rn(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){Rn(t=>{var n;return(n=this.getAxisMotionValue(t).animation)==null?void 0:n.pause()})}getAnimationState(t){var n;return(n=this.getAxisMotionValue(t).animation)==null?void 0:n.state}getAxisMotionValue(t){const n=`_drag${t.toUpperCase()}`,r=this.visualElement.getProps(),o=r[n];return o||this.visualElement.getValue(t,(r.initial?r.initial[t]:void 0)||0)}snapToCursor(t){Rn(n=>{const{drag:r}=this.getProps();if(!iu(n,r,this.currentDirection))return;const{projection:o}=this.visualElement,l=this.getAxisMotionValue(n);if(o&&o.layout){const{min:u,max:f}=o.layout.layoutBox[n];l.set(t[n]-ct(u,f,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!Da(n)||!r||!this.constraints)return;this.stopAnimation();const o={x:0,y:0};Rn(u=>{const f=this.getAxisMotionValue(u);if(f&&this.constraints!==!1){const m=f.get();o[u]=SB({min:m,max:m},this.constraints[u])}});const{transformTemplate:l}=this.visualElement.getProps();this.visualElement.current.style.transform=l?l({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),Rn(u=>{if(!iu(u,t,null))return;const f=this.getAxisMotionValue(u),{min:m,max:d}=this.constraints[u];f.set(ct(m,d,o[u]))})}addListeners(){if(!this.visualElement.current)return;MB.set(this.visualElement,this);const t=this.visualElement.current,n=ss(t,"pointerdown",m=>{const{drag:d,dragListener:h=!0}=this.getProps();d&&h&&this.start(m)}),r=()=>{const{dragConstraints:m}=this.getProps();Da(m)&&m.current&&(this.constraints=this.resolveRefConstraints())},{projection:o}=this.visualElement,l=o.addEventListener("measure",r);o&&!o.layout&&(o.root&&o.root.updateScroll(),o.updateLayout()),ft.read(r);const u=bs(window,"resize",()=>this.scalePositionWithinConstraints()),f=o.addEventListener("didUpdate",({delta:m,hasLayoutChanged:d})=>{this.isDragging&&d&&(Rn(h=>{const y=this.getAxisMotionValue(h);y&&(this.originPoint[h]+=m[h].translate,y.set(y.get()+m[h].translate))}),this.visualElement.render())});return()=>{u(),n(),l(),f&&f()}}getProps(){const t=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:o=!1,dragConstraints:l=!1,dragElastic:u=Cm,dragMomentum:f=!0}=t;return{...t,drag:n,dragDirectionLock:r,dragPropagation:o,dragConstraints:l,dragElastic:u,dragMomentum:f}}}function iu(e,t,n){return(t===!0||t===e)&&(n===null||n===e)}function AB(e,t=10){let n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}class DB extends ar{constructor(t){super(t),this.removeGroupControls=Ln,this.removeListeners=Ln,this.controls=new EB(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Ln}unmount(){this.removeGroupControls(),this.removeListeners()}}const c1=e=>(t,n)=>{e&&ft.postRender(()=>e(t,n))};class IB extends ar{constructor(){super(...arguments),this.removePointerDownListener=Ln}onPointerDown(t){this.session=new LS(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:_S(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:n,onPan:r,onPanEnd:o}=this.node.getProps();return{onSessionStart:c1(t),onStart:c1(n),onMove:r,onEnd:(l,u)=>{delete this.session,o&&ft.postRender(()=>o(l,u))}}}mount(){this.removePointerDownListener=ss(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const mu={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function f1(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const Qo={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(ke.test(e))e=parseFloat(e);else return e;const n=f1(e,t.target.x),r=f1(e,t.target.y);return`${n}% ${r}%`}},kB={correct:(e,{treeScale:t,projectionDelta:n})=>{const r=e,o=Zi.parse(e);if(o.length>5)return r;const l=Zi.createTransformer(e),u=typeof o[0]!="number"?1:0,f=n.x.scale*t.x,m=n.y.scale*t.y;o[0+u]/=f,o[1+u]/=m;const d=ct(f,m,.5);return typeof o[2+u]=="number"&&(o[2+u]/=d),typeof o[3+u]=="number"&&(o[3+u]/=d),l(o)}};class RB extends ne.Component{componentDidMount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r,layoutId:o}=this.props,{projection:l}=t;p4(NB),l&&(n.group&&n.group.add(l),r&&r.register&&o&&r.register(l),l.root.didUpdate(),l.addEventListener("animationComplete",()=>{this.safeToRemove()}),l.setOptions({...l.options,onExitComplete:()=>this.safeToRemove()})),mu.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:n,visualElement:r,drag:o,isPresent:l}=this.props,{projection:u}=r;return u&&(u.isPresent=l,o||t.layoutDependency!==n||n===void 0||t.isPresent!==l?u.willUpdate():this.safeToRemove(),t.isPresent!==l&&(l?u.promote():u.relegate()||ft.postRender(()=>{const f=u.getStack();(!f||!f.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),ph.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:o}=t;o&&(o.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(o),r&&r.deregister&&r.deregister(o))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function PS(e){const[t,n]=J3(),r=ne.useContext(xT);return g.jsx(RB,{...e,layoutGroup:r,switchLayoutGroup:ne.useContext(hS),isPresent:t,safeToRemove:n})}const NB={borderRadius:{...Qo,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Qo,borderTopRightRadius:Qo,borderBottomLeftRadius:Qo,borderBottomRightRadius:Qo,boxShadow:kB};function _B(e,t,n){const r=Yt(e)?e:La(e);return r.start(Mh("",r,t,n)),r.animation}const LB=(e,t)=>e.depth-t.depth;class VB{constructor(){this.children=[],this.isDirty=!1}add(t){Wm(this.children,t),this.isDirty=!0}remove(t){Qm(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(LB),this.isDirty=!1,this.children.forEach(t)}}function PB(e,t){const n=on.now(),r=({timestamp:o})=>{const l=o-n;l>=t&&(Ji(r),e(l-t))};return ft.setup(r,!0),()=>Ji(r)}const BS=["TopLeft","TopRight","BottomLeft","BottomRight"],BB=BS.length,d1=e=>typeof e=="string"?parseFloat(e):e,m1=e=>typeof e=="number"||ke.test(e);function OB(e,t,n,r,o,l){o?(e.opacity=ct(0,n.opacity??1,FB(r)),e.opacityExit=ct(t.opacity??1,0,zB(r))):l&&(e.opacity=ct(t.opacity??1,n.opacity??1,r));for(let u=0;u<BB;u++){const f=`border${BS[u]}Radius`;let m=h1(t,f),d=h1(n,f);if(m===void 0&&d===void 0)continue;m||(m=0),d||(d=0),m===0||d===0||m1(m)===m1(d)?(e[f]=Math.max(ct(d1(m),d1(d),r),0),(ti.test(d)||ti.test(m))&&(e[f]+="%")):e[f]=d}(t.rotate||n.rotate)&&(e.rotate=ct(t.rotate||0,n.rotate||0,r))}function h1(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const FB=OS(0,.5,IT),zB=OS(.5,.95,Ln);function OS(e,t,n){return r=>r<e?0:r>t?1:n(hs(e,t,r))}function p1(e,t){e.min=t.min,e.max=t.max}function kn(e,t){p1(e.x,t.x),p1(e.y,t.y)}function g1(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function y1(e,t,n,r,o){return e-=t,e=Au(e,1/n,r),o!==void 0&&(e=Au(e,1/o,r)),e}function jB(e,t=0,n=1,r=.5,o,l=e,u=e){if(ti.test(t)&&(t=parseFloat(t),t=ct(u.min,u.max,t/100)-u.min),typeof t!="number")return;let f=ct(l.min,l.max,r);e===l&&(f-=t),e.min=y1(e.min,t,n,f,o),e.max=y1(e.max,t,n,f,o)}function x1(e,t,[n,r,o],l,u){jB(e,t[n],t[r],t[o],t.scale,l,u)}const HB=["x","scaleX","originX"],UB=["y","scaleY","originY"];function v1(e,t,n,r){x1(e.x,t,HB,n?n.x:void 0,r?r.x:void 0),x1(e.y,t,UB,n?n.y:void 0,r?r.y:void 0)}function b1(e){return e.translate===0&&e.scale===1}function FS(e){return b1(e.x)&&b1(e.y)}function T1(e,t){return e.min===t.min&&e.max===t.max}function GB(e,t){return T1(e.x,t.x)&&T1(e.y,t.y)}function S1(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function zS(e,t){return S1(e.x,t.x)&&S1(e.y,t.y)}function C1(e){return Jt(e.x)/Jt(e.y)}function w1(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class qB{constructor(){this.members=[]}add(t){Wm(this.members,t),t.scheduleRender()}remove(t){if(Qm(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(t){const n=this.members.findIndex(o=>t===o);if(n===0)return!1;let r;for(let o=n;o>=0;o--){const l=this.members[o];if(l.isPresent!==!1){r=l;break}}return r?(this.promote(r),!0):!1}promote(t,n){const r=this.lead;if(t!==r&&(this.prevLead=r,this.lead=t,t.show(),r)){r.instance&&r.scheduleRender(),t.scheduleRender(),t.resumeFrom=r,n&&(t.resumeFrom.preserveOpacity=!0),r.snapshot&&(t.snapshot=r.snapshot,t.snapshot.latestValues=r.animationValues||r.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:o}=t.options;o===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:n,resumingFrom:r}=t;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function YB(e,t,n){let r="";const o=e.x.translate/t.x,l=e.y.translate/t.y,u=(n==null?void 0:n.z)||0;if((o||l||u)&&(r=`translate3d(${o}px, ${l}px, ${u}px) `),(t.x!==1||t.y!==1)&&(r+=`scale(${1/t.x}, ${1/t.y}) `),n){const{transformPerspective:d,rotate:h,rotateX:y,rotateY:T,skewX:S,skewY:M}=n;d&&(r=`perspective(${d}px) ${r}`),h&&(r+=`rotate(${h}deg) `),y&&(r+=`rotateX(${y}deg) `),T&&(r+=`rotateY(${T}deg) `),S&&(r+=`skewX(${S}deg) `),M&&(r+=`skewY(${M}deg) `)}const f=e.x.scale*t.x,m=e.y.scale*t.y;return(f!==1||m!==1)&&(r+=`scale(${f}, ${m})`),r||"none"}const Nd=["","X","Y","Z"],$B={visibility:"hidden"},KB=1e3;let XB=0;function _d(e,t,n,r){const{latestValues:o}=t;o[e]&&(n[e]=o[e],t.setStaticValue(e,0),r&&(r[e]=0))}function jS(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const n=CS(t);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:o,layoutId:l}=e.options;window.MotionCancelOptimisedAnimation(n,"transform",ft,!(o||l))}const{parent:r}=e;r&&!r.hasCheckedOptimisedAppear&&jS(r)}function HS({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:r,resetTransform:o}){return class{constructor(u={},f=t==null?void 0:t()){this.id=XB++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(JB),this.nodes.forEach(iO),this.nodes.forEach(rO),this.nodes.forEach(ZB)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=u,this.root=f?f.root||f:this,this.path=f?[...f.path,f]:[],this.parent=f,this.depth=f?f.depth+1:0;for(let m=0;m<this.path.length;m++)this.path[m].shouldResetTransform=!0;this.root===this&&(this.nodes=new VB)}addEventListener(u,f){return this.eventHandlers.has(u)||this.eventHandlers.set(u,new eh),this.eventHandlers.get(u).add(f)}notifyListeners(u,...f){const m=this.eventHandlers.get(u);m&&m.notify(...f)}hasListeners(u){return this.eventHandlers.has(u)}mount(u){if(this.instance)return;this.isSVG=lS(u)&&!X3(u),this.instance=u;const{layoutId:f,layout:m,visualElement:d}=this.options;if(d&&!d.current&&d.mount(u),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(m||f)&&(this.isLayoutDirty=!0),e){let h;const y=()=>this.root.updateBlockedByResize=!1;e(u,()=>{this.root.updateBlockedByResize=!0,h&&h(),h=PB(y,250),mu.hasAnimatedSinceResize&&(mu.hasAnimatedSinceResize=!1,this.nodes.forEach(E1))})}f&&this.root.registerSharedNode(f,this),this.options.animate!==!1&&d&&(f||m)&&this.addEventListener("didUpdate",({delta:h,hasLayoutChanged:y,hasRelativeLayoutChanged:T,layout:S})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const M=this.options.transition||d.getDefaultTransition()||uO,{onLayoutAnimationStart:E,onLayoutAnimationComplete:_}=d.getProps(),I=!this.targetLayout||!zS(this.targetLayout,S),k=!y&&T;if(this.options.layoutRoot||this.resumeFrom||k||y&&(I||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const R={...mh(M,"layout"),onPlay:E,onComplete:_};(d.shouldReduceMotion||this.options.layoutRoot)&&(R.delay=0,R.type=!1),this.startAnimation(R),this.setAnimationOrigin(h,k)}else y||E1(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=S})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const u=this.getStack();u&&u.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Ji(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(aO),this.animationId++)}getTransformTemplate(){const{visualElement:u}=this.options;return u&&u.getProps().transformTemplate}willUpdate(u=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&jS(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let h=0;h<this.path.length;h++){const y=this.path[h];y.shouldResetTransform=!0,y.updateScroll("snapshot"),y.options.layoutRoot&&y.willUpdate(!1)}const{layoutId:f,layout:m}=this.options;if(f===void 0&&!m)return;const d=this.getTransformTemplate();this.prevTransformTemplateValue=d?d(this.latestValues,""):void 0,this.updateSnapshot(),u&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(M1);return}this.isUpdating||this.nodes.forEach(tO),this.isUpdating=!1,this.nodes.forEach(nO),this.nodes.forEach(WB),this.nodes.forEach(QB),this.clearAllSnapshots();const f=on.now();zt.delta=vi(0,1e3/60,f-zt.timestamp),zt.timestamp=f,zt.isProcessing=!0,Cd.update.process(zt),Cd.preRender.process(zt),Cd.render.process(zt),zt.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,ph.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(eO),this.sharedNodes.forEach(oO)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,ft.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){ft.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Jt(this.snapshot.measuredBox.x)&&!Jt(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let m=0;m<this.path.length;m++)this.path[m].updateScroll();const u=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Ct(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:f}=this.options;f&&f.notify("LayoutMeasure",this.layout.layoutBox,u?u.layoutBox:void 0)}updateScroll(u="measure"){let f=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===u&&(f=!1),f&&this.instance){const m=r(this.instance);this.scroll={animationId:this.root.animationId,phase:u,isRoot:m,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:m}}}resetTransform(){if(!o)return;const u=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,f=this.projectionDelta&&!FS(this.projectionDelta),m=this.getTransformTemplate(),d=m?m(this.latestValues,""):void 0,h=d!==this.prevTransformTemplateValue;u&&this.instance&&(f||Ir(this.latestValues)||h)&&(o(this.instance,d),this.shouldResetTransform=!1,this.scheduleRender())}measure(u=!0){const f=this.measurePageBox();let m=this.removeElementScroll(f);return u&&(m=this.removeTransform(m)),cO(m),{animationId:this.root.animationId,measuredBox:f,layoutBox:m,latestValues:{},source:this.id}}measurePageBox(){var d;const{visualElement:u}=this.options;if(!u)return Ct();const f=u.measureViewportBox();if(!(((d=this.scroll)==null?void 0:d.wasRoot)||this.path.some(fO))){const{scroll:h}=this.root;h&&(ka(f.x,h.offset.x),ka(f.y,h.offset.y))}return f}removeElementScroll(u){var m;const f=Ct();if(kn(f,u),(m=this.scroll)!=null&&m.wasRoot)return f;for(let d=0;d<this.path.length;d++){const h=this.path[d],{scroll:y,options:T}=h;h!==this.root&&y&&T.layoutScroll&&(y.wasRoot&&kn(f,u),ka(f.x,y.offset.x),ka(f.y,y.offset.y))}return f}applyTransform(u,f=!1){const m=Ct();kn(m,u);for(let d=0;d<this.path.length;d++){const h=this.path[d];!f&&h.options.layoutScroll&&h.scroll&&h!==h.root&&Ra(m,{x:-h.scroll.offset.x,y:-h.scroll.offset.y}),Ir(h.latestValues)&&Ra(m,h.latestValues)}return Ir(this.latestValues)&&Ra(m,this.latestValues),m}removeTransform(u){const f=Ct();kn(f,u);for(let m=0;m<this.path.length;m++){const d=this.path[m];if(!d.instance||!Ir(d.latestValues))continue;Tm(d.latestValues)&&d.updateSnapshot();const h=Ct(),y=d.measurePageBox();kn(h,y),v1(f,d.latestValues,d.snapshot?d.snapshot.layoutBox:void 0,h)}return Ir(this.latestValues)&&v1(f,this.latestValues),f}setTargetDelta(u){this.targetDelta=u,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(u){this.options={...this.options,...u,crossfade:u.crossfade!==void 0?u.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==zt.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(u=!1){var T;const f=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=f.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=f.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=f.isSharedProjectionDirty);const m=!!this.resumingFrom||this!==f;if(!(u||m&&this.isSharedProjectionDirty||this.isProjectionDirty||(T=this.parent)!=null&&T.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:h,layoutId:y}=this.options;if(!(!this.layout||!(h||y))){if(this.resolvedRelativeTargetAt=zt.timestamp,!this.targetDelta&&!this.relativeTarget){const S=this.getClosestProjectingParent();S&&S.layout&&this.animationProgress!==1?(this.relativeParent=S,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Ct(),this.relativeTargetOrigin=Ct(),us(this.relativeTargetOrigin,this.layout.layoutBox,S.layout.layoutBox),kn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Ct(),this.targetWithTransforms=Ct()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),mB(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):kn(this.target,this.layout.layoutBox),RS(this.target,this.targetDelta)):kn(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const S=this.getClosestProjectingParent();S&&!!S.resumingFrom==!!this.resumingFrom&&!S.options.layoutScroll&&S.target&&this.animationProgress!==1?(this.relativeParent=S,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Ct(),this.relativeTargetOrigin=Ct(),us(this.relativeTargetOrigin,this.target,S.target),kn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||Tm(this.parent.latestValues)||kS(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var M;const u=this.getLead(),f=!!this.resumingFrom||this!==u;let m=!0;if((this.isProjectionDirty||(M=this.parent)!=null&&M.isProjectionDirty)&&(m=!1),f&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(m=!1),this.resolvedRelativeTargetAt===zt.timestamp&&(m=!1),m)return;const{layout:d,layoutId:h}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(d||h))return;kn(this.layoutCorrected,this.layout.layoutBox);const y=this.treeScale.x,T=this.treeScale.y;hB(this.layoutCorrected,this.treeScale,this.path,f),u.layout&&!u.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(u.target=u.layout.layoutBox,u.targetWithTransforms=Ct());const{target:S}=u;if(!S){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(g1(this.prevProjectionDelta.x,this.projectionDelta.x),g1(this.prevProjectionDelta.y,this.projectionDelta.y)),ls(this.projectionDelta,this.layoutCorrected,S,this.latestValues),(this.treeScale.x!==y||this.treeScale.y!==T||!w1(this.projectionDelta.x,this.prevProjectionDelta.x)||!w1(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",S))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(u=!0){var f;if((f=this.options.visualElement)==null||f.scheduleRender(),u){const m=this.getStack();m&&m.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Ia(),this.projectionDelta=Ia(),this.projectionDeltaWithTransform=Ia()}setAnimationOrigin(u,f=!1){const m=this.snapshot,d=m?m.latestValues:{},h={...this.latestValues},y=Ia();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!f;const T=Ct(),S=m?m.source:void 0,M=this.layout?this.layout.source:void 0,E=S!==M,_=this.getStack(),I=!_||_.members.length<=1,k=!!(E&&!I&&this.options.crossfade===!0&&!this.path.some(lO));this.animationProgress=0;let R;this.mixTargetDelta=z=>{const G=z/1e3;A1(y.x,u.x,G),A1(y.y,u.y,G),this.setTargetDelta(y),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(us(T,this.layout.layoutBox,this.relativeParent.layout.layoutBox),sO(this.relativeTarget,this.relativeTargetOrigin,T,G),R&&GB(this.relativeTarget,R)&&(this.isProjectionDirty=!1),R||(R=Ct()),kn(R,this.relativeTarget)),E&&(this.animationValues=h,OB(h,d,this.latestValues,G,k,I)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=G},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(u){var f,m,d;this.notifyListeners("animationStart"),(f=this.currentAnimation)==null||f.stop(),(d=(m=this.resumingFrom)==null?void 0:m.currentAnimation)==null||d.stop(),this.pendingAnimation&&(Ji(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=ft.update(()=>{mu.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=La(0)),this.currentAnimation=_B(this.motionValue,[0,1e3],{...u,velocity:0,isSync:!0,onUpdate:h=>{this.mixTargetDelta(h),u.onUpdate&&u.onUpdate(h)},onStop:()=>{},onComplete:()=>{u.onComplete&&u.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const u=this.getStack();u&&u.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(KB),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const u=this.getLead();let{targetWithTransforms:f,target:m,layout:d,latestValues:h}=u;if(!(!f||!m||!d)){if(this!==u&&this.layout&&d&&US(this.options.animationType,this.layout.layoutBox,d.layoutBox)){m=this.target||Ct();const y=Jt(this.layout.layoutBox.x);m.x.min=u.target.x.min,m.x.max=m.x.min+y;const T=Jt(this.layout.layoutBox.y);m.y.min=u.target.y.min,m.y.max=m.y.min+T}kn(f,m),Ra(f,h),ls(this.projectionDeltaWithTransform,this.layoutCorrected,f,h)}}registerSharedNode(u,f){this.sharedNodes.has(u)||this.sharedNodes.set(u,new qB),this.sharedNodes.get(u).add(f);const d=f.options.initialPromotionConfig;f.promote({transition:d?d.transition:void 0,preserveFollowOpacity:d&&d.shouldPreserveFollowOpacity?d.shouldPreserveFollowOpacity(f):void 0})}isLead(){const u=this.getStack();return u?u.lead===this:!0}getLead(){var f;const{layoutId:u}=this.options;return u?((f=this.getStack())==null?void 0:f.lead)||this:this}getPrevLead(){var f;const{layoutId:u}=this.options;return u?(f=this.getStack())==null?void 0:f.prevLead:void 0}getStack(){const{layoutId:u}=this.options;if(u)return this.root.sharedNodes.get(u)}promote({needsReset:u,transition:f,preserveFollowOpacity:m}={}){const d=this.getStack();d&&d.promote(this,m),u&&(this.projectionDelta=void 0,this.needsReset=!0),f&&this.setOptions({transition:f})}relegate(){const u=this.getStack();return u?u.relegate(this):!1}resetSkewAndRotation(){const{visualElement:u}=this.options;if(!u)return;let f=!1;const{latestValues:m}=u;if((m.z||m.rotate||m.rotateX||m.rotateY||m.rotateZ||m.skewX||m.skewY)&&(f=!0),!f)return;const d={};m.z&&_d("z",u,d,this.animationValues);for(let h=0;h<Nd.length;h++)_d(`rotate${Nd[h]}`,u,d,this.animationValues),_d(`skew${Nd[h]}`,u,d,this.animationValues);u.render();for(const h in d)u.setStaticValue(h,d[h]),this.animationValues&&(this.animationValues[h]=d[h]);u.scheduleRender()}getProjectionStyles(u){if(!this.instance||this.isSVG)return;if(!this.isVisible)return $B;const f={visibility:""},m=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,f.opacity="",f.pointerEvents=du(u==null?void 0:u.pointerEvents)||"",f.transform=m?m(this.latestValues,""):"none",f;const d=this.getLead();if(!this.projectionDelta||!this.layout||!d.target){const S={};return this.options.layoutId&&(S.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,S.pointerEvents=du(u==null?void 0:u.pointerEvents)||""),this.hasProjected&&!Ir(this.latestValues)&&(S.transform=m?m({},""):"none",this.hasProjected=!1),S}const h=d.animationValues||d.latestValues;this.applyTransformsToTarget(),f.transform=YB(this.projectionDeltaWithTransform,this.treeScale,h),m&&(f.transform=m(h,f.transform));const{x:y,y:T}=this.projectionDelta;f.transformOrigin=`${y.origin*100}% ${T.origin*100}% 0`,d.animationValues?f.opacity=d===this?h.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:h.opacityExit:f.opacity=d===this?h.opacity!==void 0?h.opacity:"":h.opacityExit!==void 0?h.opacityExit:0;for(const S in xs){if(h[S]===void 0)continue;const{correct:M,applyTo:E,isCSSVariable:_}=xs[S],I=f.transform==="none"?h[S]:M(h[S],d);if(E){const k=E.length;for(let R=0;R<k;R++)f[E[R]]=I}else _?this.options.visualElement.renderState.vars[S]=I:f[S]=I}return this.options.layoutId&&(f.pointerEvents=d===this?du(u==null?void 0:u.pointerEvents)||"":"none"),f}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(u=>{var f;return(f=u.currentAnimation)==null?void 0:f.stop()}),this.root.nodes.forEach(M1),this.root.sharedNodes.clear()}}}function WB(e){e.updateLayout()}function QB(e){var n;const t=((n=e.resumeFrom)==null?void 0:n.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&t&&e.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:o}=e.layout,{animationType:l}=e.options,u=t.source!==e.layout.source;l==="size"?Rn(y=>{const T=u?t.measuredBox[y]:t.layoutBox[y],S=Jt(T);T.min=r[y].min,T.max=T.min+S}):US(l,t.layoutBox,r)&&Rn(y=>{const T=u?t.measuredBox[y]:t.layoutBox[y],S=Jt(r[y]);T.max=T.min+S,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[y].max=e.relativeTarget[y].min+S)});const f=Ia();ls(f,r,t.layoutBox);const m=Ia();u?ls(m,e.applyTransform(o,!0),t.measuredBox):ls(m,r,t.layoutBox);const d=!FS(f);let h=!1;if(!e.resumeFrom){const y=e.getClosestProjectingParent();if(y&&!y.resumeFrom){const{snapshot:T,layout:S}=y;if(T&&S){const M=Ct();us(M,t.layoutBox,T.layoutBox);const E=Ct();us(E,r,S.layoutBox),zS(M,E)||(h=!0),y.options.layoutRoot&&(e.relativeTarget=E,e.relativeTargetOrigin=M,e.relativeParent=y)}}}e.notifyListeners("didUpdate",{layout:r,snapshot:t,delta:m,layoutDelta:f,hasLayoutChanged:d,hasRelativeLayoutChanged:h})}else if(e.isLead()){const{onExitComplete:r}=e.options;r&&r()}e.options.transition=void 0}function JB(e){e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function ZB(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function eO(e){e.clearSnapshot()}function M1(e){e.clearMeasurements()}function tO(e){e.isLayoutDirty=!1}function nO(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function E1(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function iO(e){e.resolveTargetDelta()}function rO(e){e.calcProjection()}function aO(e){e.resetSkewAndRotation()}function oO(e){e.removeLeadSnapshot()}function A1(e,t,n){e.translate=ct(t.translate,0,n),e.scale=ct(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function D1(e,t,n,r){e.min=ct(t.min,n.min,r),e.max=ct(t.max,n.max,r)}function sO(e,t,n,r){D1(e.x,t.x,n.x,r),D1(e.y,t.y,n.y,r)}function lO(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const uO={duration:.45,ease:[.4,0,.1,1]},I1=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),k1=I1("applewebkit/")&&!I1("chrome/")?Math.round:Ln;function R1(e){e.min=k1(e.min),e.max=k1(e.max)}function cO(e){R1(e.x),R1(e.y)}function US(e,t,n){return e==="position"||e==="preserve-aspect"&&!dB(C1(t),C1(n),.2)}function fO(e){var t;return e!==e.root&&((t=e.scroll)==null?void 0:t.wasRoot)}const dO=HS({attachResizeListener:(e,t)=>bs(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Ld={current:void 0},GS=HS({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!Ld.current){const e=new dO({});e.mount(window),e.setOptions({layoutScroll:!0}),Ld.current=e}return Ld.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),mO={pan:{Feature:IB},drag:{Feature:DB,ProjectionNode:GS,MeasureLayout:PS}};function N1(e,t,n){const{props:r}=e;e.animationState&&r.whileHover&&e.animationState.setActive("whileHover",n==="Start");const o="onHover"+n,l=r[o];l&&ft.postRender(()=>l(t,Is(t)))}class hO extends ar{mount(){const{current:t}=this.node;t&&(this.unmount=G3(t,(n,r)=>(N1(this.node,r,"Start"),o=>N1(this.node,o,"End"))))}unmount(){}}class pO extends ar{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Es(bs(this.node.current,"focus",()=>this.onFocus()),bs(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function _1(e,t,n){const{props:r}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&r.whileTap&&e.animationState.setActive("whileTap",n==="Start");const o="onTap"+(n==="End"?"":n),l=r[o];l&&ft.postRender(()=>l(t,Is(t)))}class gO extends ar{mount(){const{current:t}=this.node;t&&(this.unmount=K3(t,(n,r)=>(_1(this.node,r,"Start"),(o,{success:l})=>_1(this.node,o,l?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const wm=new WeakMap,Vd=new WeakMap,yO=e=>{const t=wm.get(e.target);t&&t(e)},xO=e=>{e.forEach(yO)};function vO({root:e,...t}){const n=e||document;Vd.has(n)||Vd.set(n,{});const r=Vd.get(n),o=JSON.stringify(t);return r[o]||(r[o]=new IntersectionObserver(xO,{root:e,...t})),r[o]}function bO(e,t,n){const r=vO(t);return wm.set(e,n),r.observe(e),()=>{wm.delete(e),r.unobserve(e)}}const TO={some:0,all:1};class SO extends ar{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:n,margin:r,amount:o="some",once:l}=t,u={root:n?n.current:void 0,rootMargin:r,threshold:typeof o=="number"?o:TO[o]},f=m=>{const{isIntersecting:d}=m;if(this.isInView===d||(this.isInView=d,l&&!d&&this.hasEnteredView))return;d&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",d);const{onViewportEnter:h,onViewportLeave:y}=this.node.getProps(),T=d?h:y;T&&T(m)};return bO(this.node.current,u,f)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:n}=this.node;["amount","margin","root"].some(CO(t,n))&&this.startObserver()}unmount(){}}function CO({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}const wO={inView:{Feature:SO},tap:{Feature:gO},focus:{Feature:pO},hover:{Feature:hO}},MO={layout:{ProjectionNode:GS,MeasureLayout:PS}},Mm={current:null},qS={current:!1};function EO(){if(qS.current=!0,!!Km)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>Mm.current=e.matches;e.addListener(t),t()}else Mm.current=!1}const AO=new WeakMap;function DO(e,t,n){for(const r in t){const o=t[r],l=n[r];if(Yt(o))e.addValue(r,o);else if(Yt(l))e.addValue(r,La(o,{owner:e}));else if(l!==o)if(e.hasValue(r)){const u=e.getValue(r);u.liveStyle===!0?u.jump(o):u.hasAnimated||u.set(o)}else{const u=e.getStaticValue(r);e.addValue(r,La(u!==void 0?u:o,{owner:e}))}}for(const r in n)t[r]===void 0&&e.removeValue(r);return t}const L1=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class IO{scrapeMotionValuesFromProps(t,n,r){return{}}constructor({parent:t,props:n,presenceContext:r,reducedMotionConfig:o,blockInitialAnimation:l,visualState:u},f={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=dh,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const T=on.now();this.renderScheduledAt<T&&(this.renderScheduledAt=T,ft.render(this.render,!1,!0))};const{latestValues:m,renderState:d}=u;this.latestValues=m,this.baseTarget={...m},this.initialValues=n.initial?{...m}:{},this.renderState=d,this.parent=t,this.props=n,this.presenceContext=r,this.depth=t?t.depth+1:0,this.reducedMotionConfig=o,this.options=f,this.blockInitialAnimation=!!l,this.isControllingVariants=Ou(n),this.isVariantNode=dS(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:h,...y}=this.scrapeMotionValuesFromProps(n,{},this);for(const T in y){const S=y[T];m[T]!==void 0&&Yt(S)&&S.set(m[T],!1)}}mount(t){this.current=t,AO.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),qS.current||EO(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Mm.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),Ji(this.notifyUpdate),Ji(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const n=this.features[t];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(t,n){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const r=ja.has(t);r&&this.onBindTransform&&this.onBindTransform();const o=n.on("change",f=>{this.latestValues[t]=f,this.props.onUpdate&&ft.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0)}),l=n.on("renderRequest",this.scheduleRender);let u;window.MotionCheckAppearSync&&(u=window.MotionCheckAppearSync(this,t,n)),this.valueSubscriptions.set(t,()=>{o(),l(),u&&u(),n.owner&&n.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in Va){const n=Va[t];if(!n)continue;const{isEnabled:r,Feature:o}=n;if(!this.features[t]&&o&&r(this.props)&&(this.features[t]=new o(this)),this.features[t]){const l=this.features[t];l.isMounted?l.update():(l.mount(),l.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Ct()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,n){this.latestValues[t]=n}update(t,n){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<L1.length;r++){const o=L1[r];this.propEventSubscriptions[o]&&(this.propEventSubscriptions[o](),delete this.propEventSubscriptions[o]);const l="on"+o,u=t[l];u&&(this.propEventSubscriptions[o]=this.on(o,u))}this.prevMotionValues=DO(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(t),()=>n.variantChildren.delete(t)}addValue(t,n){const r=this.values.get(t);n!==r&&(r&&this.removeValue(t),this.bindToMotionValue(t,n),this.values.set(t,n),this.latestValues[t]=n.get())}removeValue(t){this.values.delete(t);const n=this.valueSubscriptions.get(t);n&&(n(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,n){if(this.props.values&&this.props.values[t])return this.props.values[t];let r=this.values.get(t);return r===void 0&&n!==void 0&&(r=La(n===null?void 0:n,{owner:this}),this.addValue(t,r)),r}readValue(t,n){let r=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return r!=null&&(typeof r=="string"&&(vT(r)||TT(r))?r=parseFloat(r):!Q3(r)&&Zi.test(n)&&(r=iS(t,n)),this.setBaseTarget(t,Yt(r)?r.get():r)),Yt(r)?r.get():r}setBaseTarget(t,n){this.baseTarget[t]=n}getBaseTarget(t){var l;const{initial:n}=this.props;let r;if(typeof n=="string"||typeof n=="object"){const u=Ch(this.props,n,(l=this.presenceContext)==null?void 0:l.custom);u&&(r=u[t])}if(n&&r!==void 0)return r;const o=this.getBaseTargetFromProps(this.props,t);return o!==void 0&&!Yt(o)?o:this.initialValues[t]!==void 0&&r===void 0?void 0:this.baseTarget[t]}on(t,n){return this.events[t]||(this.events[t]=new eh),this.events[t].add(n)}notify(t,...n){this.events[t]&&this.events[t].notify(...n)}}class YS extends IO{constructor(){super(...arguments),this.KeyframeResolver=F3}sortInstanceNodePosition(t,n){return t.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(t,n){return t.style?t.style[n]:void 0}removeValueFromRenderState(t,{vars:n,style:r}){delete n[t],delete r[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;Yt(t)&&(this.childSubscription=t.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function $S(e,{style:t,vars:n},r,o){Object.assign(e.style,t,o&&o.getProjectionStyles(r));for(const l in n)e.style.setProperty(l,n[l])}function kO(e){return window.getComputedStyle(e)}class RO extends YS{constructor(){super(...arguments),this.type="html",this.renderInstance=$S}readValueFromInstance(t,n){var r;if(ja.has(n))return(r=this.projection)!=null&&r.isProjecting?dm(n):r3(t,n);{const o=kO(t),l=(ih(n)?o.getPropertyValue(n):o[n])||0;return typeof l=="string"?l.trim():l}}measureInstanceViewportBox(t,{transformPagePoint:n}){return NS(t,n)}build(t,n,r){bh(t,n,r.transformTemplate)}scrapeMotionValuesFromProps(t,n,r){return wh(t,n,r)}}const KS=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function NO(e,t,n,r){$S(e,t,void 0,r);for(const o in t.attrs)e.setAttribute(KS.has(o)?o:vh(o),t.attrs[o])}class _O extends YS{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Ct}getBaseTargetFromProps(t,n){return t[n]}readValueFromInstance(t,n){if(ja.has(n)){const r=nS(n);return r&&r.default||0}return n=KS.has(n)?n:vh(n),t.getAttribute(n)}scrapeMotionValuesFromProps(t,n,r){return SS(t,n,r)}build(t,n,r){xS(t,n,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(t,n,r,o){NO(t,n,r,o)}mount(t){this.isSVGTag=bS(t.tagName),super.mount(t)}}const LO=(e,t)=>Sh(e)?new _O(t):new RO(t,{allowProjection:e!==ne.Fragment}),VO=N4({...rB,...wO,...mO,...MO},LO),PO=i4(VO),V1=({value:e,min:t=0,max:n=1,size:r=80,label:o,onChange:l})=>{const u=Math.max(0,Math.min(1,(e-t)/(n-t))),f=-150+u*300;return g.jsxs("div",{className:"flex flex-col items-center",children:[g.jsxs("div",{className:"relative cursor-pointer select-none",style:{width:r,height:r},children:[g.jsx("div",{className:"absolute inset-0 rounded-full bg-gradient-to-b from-gray-700 to-gray-900 border-2 border-gray-600 shadow-lg",children:[...Array(11)].map((m,d)=>{const h=-150+d*30,y=d/10<=u,T=d%5===0?r*.1:r*.05,S=r/2-T,M=r/2-2,E=r/2+S*Math.cos(h*Math.PI/180),_=r/2+S*Math.sin(h*Math.PI/180),I=r/2+M*Math.cos(h*Math.PI/180),k=r/2+M*Math.sin(h*Math.PI/180);return g.jsx("line",{x1:E,y1:_,x2:I,y2:k,stroke:y?"#f97316":"#6b7280",strokeWidth:d%5===0?2:1},d)})}),g.jsx(PO.div,{className:"absolute bg-orange-500 rounded-full shadow-md",style:{width:r*.05,height:r*.3,left:"50%",top:r*.1,marginLeft:r*-.025,transformOrigin:`50% ${r*.4}px`},animate:{rotate:f},transition:{type:"spring",stiffness:300,damping:30}}),g.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:g.jsx("span",{className:"text-xs font-mono text-white bg-gray-800/70 px-2 py-1 rounded-full",children:Math.round(u*100)})})]}),o&&g.jsx("span",{className:"text-xs text-gray-300 mt-2 text-center max-w-[80px] truncate",children:o})]})};class BO extends Am.Component{constructor(t){super(t),this.state={hasError:!1}}static getDerivedStateFromError(t){return{hasError:!0,error:t}}render(){return this.state.hasError?g.jsx("div",{className:"p-4 bg-red-900/20 border border-red-500 rounded-lg",children:g.jsx("p",{className:"text-red-400",children:"Something went wrong displaying the patch guide. Please try regenerating."})}):this.props.children}}const OO=()=>{const[e,t]=ne.useState({synth:"Generic",genre:"",voiceType:"",styleMood:[],dynamicsMovement:[],notes:""}),[n,r]=ne.useState(null),[o,l]=ne.useState(!1),[u,f]=ne.useState(""),m=ne.useMemo(()=>{var k;return((k=Kl.find(R=>R.key==="genre"))==null?void 0:k.examples)||[]},[]),d=ne.useMemo(()=>{var k;return((k=Kl.find(R=>R.key==="voiceType"))==null?void 0:k.examples)||[]},[]),h=ne.useMemo(()=>{var k;return((k=Kl.find(R=>R.key==="styleMood"))==null?void 0:k.examples)||[]},[]),y=ne.useMemo(()=>{var k;return((k=Kl.find(R=>R.key==="dynamicsMovement"))==null?void 0:k.examples)||[]},[]),T=ne.useCallback((k,R)=>{t(z=>({...z,[k]:R}))},[]),S=ne.useCallback(k=>{t(R=>({...R,styleMood:R.styleMood.includes(k)?R.styleMood.filter(z=>z!==k):[...R.styleMood,k]}))},[]),M=ne.useCallback(k=>{t(R=>({...R,dynamicsMovement:R.dynamicsMovement.includes(k)?R.dynamicsMovement.filter(z=>z!==k):[...R.dynamicsMovement,k]}))},[]),E=ne.useMemo(()=>e.synth&&e.genre&&e.voiceType,[e.synth,e.genre,e.voiceType]),_=ne.useCallback(async k=>{if(k.preventDefault(),!!E){l(!0),f(""),r(null);try{const R=await ZP({description:[...e.styleMood,...e.dynamicsMovement].join(", "),synth:e.synth,genre:e.genre,voiceType:e.voiceType,notes:e.notes});r({text:R.text||"",synthConfig:R.synthConfig||{},adsrVCF:R.adsrVCF||{attack:.1,decay:.5,sustain:.8,release:1.5},adsrVCA:R.adsrVCA||{attack:.05,decay:.3,sustain:.9,release:.6},summary:R.summary||""})}catch(R){f(R instanceof Error?R.message:"Failed to generate patch guide")}finally{l(!1)}}},[e,E]),I=ne.useCallback(()=>{t({synth:"Generic",genre:"",voiceType:"",styleMood:[],dynamicsMovement:[],notes:""}),r(null),f("")},[]);return g.jsxs("div",{className:"max-w-5xl mx-auto p-6 space-y-6",children:[g.jsxs(qe,{children:[g.jsx("h2",{className:"text-xl font-semibold text-white mb-6",children:"Create Synth Patch Guide"}),g.jsxs("form",{onSubmit:_,className:"space-y-6",children:[g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[g.jsxs("div",{children:[g.jsx("label",{className:"block text-gray-200 mb-2 font-medium",children:"Synthesizer"}),g.jsxs("select",{value:e.synth,onChange:k=>T("synth",k.target.value),className:"w-full bg-gray-700 text-white p-3 rounded-lg border border-gray-600 focus:border-purple-500 focus:ring-1 focus:ring-purple-500",required:!0,children:[g.jsx("option",{value:"",children:"Select synth..."}),pI.map(k=>g.jsx("option",{value:k,children:k},k))]})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-gray-200 mb-2 font-medium",children:"Genre"}),g.jsxs("select",{value:e.genre,onChange:k=>T("genre",k.target.value),className:"w-full bg-gray-700 text-white p-3 rounded-lg border border-gray-600 focus:border-purple-500 focus:ring-1 focus:ring-purple-500",required:!0,children:[g.jsx("option",{value:"",children:"Select genre..."}),m.map(k=>g.jsx("option",{value:k,children:k},k))]})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-gray-200 mb-2 font-medium",children:"Voice Type"}),g.jsxs("select",{value:e.voiceType,onChange:k=>T("voiceType",k.target.value),className:"w-full bg-gray-700 text-white p-3 rounded-lg border border-gray-600 focus:border-purple-500 focus:ring-1 focus:ring-purple-500",required:!0,children:[g.jsx("option",{value:"",children:"Select voice type..."}),d.map(k=>g.jsx("option",{value:k,children:k},k))]})]})]}),g.jsxs("div",{children:[g.jsxs("label",{className:"block text-gray-200 mb-3 font-medium",children:["Style & Mood ",g.jsx("span",{className:"text-gray-400 text-sm",children:"(optional)"})]}),g.jsx("div",{className:"flex flex-wrap gap-2",children:h.slice(0,15).map(k=>g.jsx("button",{type:"button",onClick:()=>S(k),className:`px-3 py-1.5 rounded-lg text-sm font-medium transition-colors ${e.styleMood.includes(k)?"bg-purple-600 text-white border-purple-600":"bg-gray-700 text-gray-300 border-gray-600 hover:bg-gray-600"} border`,children:k},k))})]}),g.jsxs("div",{children:[g.jsxs("label",{className:"block text-gray-200 mb-3 font-medium",children:["Dynamics & Movement ",g.jsx("span",{className:"text-gray-400 text-sm",children:"(optional)"})]}),g.jsx("div",{className:"flex flex-wrap gap-2",children:y.slice(0,15).map(k=>g.jsx("button",{type:"button",onClick:()=>M(k),className:`px-3 py-1.5 rounded-lg text-sm font-medium transition-colors ${e.dynamicsMovement.includes(k)?"bg-blue-600 text-white border-blue-600":"bg-gray-700 text-gray-300 border-gray-600 hover:bg-gray-600"} border`,children:k},k))})]}),g.jsxs("div",{children:[g.jsxs("label",{className:"block text-gray-200 mb-2 font-medium",children:["Additional Notes ",g.jsx("span",{className:"text-gray-400 text-sm",children:"(optional)"})]}),g.jsx("textarea",{value:e.notes,onChange:k=>T("notes",k.target.value),placeholder:"Reference artist, track, or specific sound characteristics...",className:"w-full bg-gray-700 text-white p-3 rounded-lg border border-gray-600 focus:border-purple-500 focus:ring-1 focus:ring-purple-500 resize-none",rows:3})]}),g.jsxs("div",{className:"flex items-center gap-4",children:[g.jsxs(Pe,{type:"submit",disabled:o||!E,className:"flex items-center gap-2",children:[o&&g.jsx(xi,{}),o?"Generating...":"Generate Patch Guide"]}),g.jsx(Pe,{type:"button",variant:"secondary",onClick:I,disabled:o,children:"Reset"})]}),u&&g.jsx("div",{className:"p-4 bg-red-900/20 border border-red-500 rounded-lg",children:g.jsx("p",{className:"text-red-400",children:u})})]})]}),n&&g.jsx(BO,{children:g.jsx(FO,{result:n})})]})},FO=({result:e})=>{var t,n;return g.jsxs(g.Fragment,{children:[e.text&&g.jsxs(qe,{children:[g.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"Patch Instructions"}),g.jsx("div",{className:"prose prose-invert max-w-none",children:g.jsx(nm,{remarkPlugins:[rm],children:e.text})})]}),((t=e.synthConfig)==null?void 0:t.oscillators)&&g.jsxs(qe,{children:[g.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"Oscillator Settings"}),g.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:e.synthConfig.oscillators.map((r,o)=>g.jsxs("div",{className:"bg-gray-800 rounded-lg p-4",children:[g.jsx("h4",{className:"font-semibold text-purple-300 mb-3",children:r.name||`Oscillator ${o+1}`}),g.jsx("div",{className:"space-y-2",children:Object.entries(r.values||{}).map(([l,u])=>g.jsxs("div",{className:"flex justify-between",children:[g.jsxs("span",{className:"text-gray-300",children:[l,":"]}),g.jsx("span",{className:"text-white font-mono",children:String(u)})]},l))})]},o))})]}),((n=e.synthConfig)==null?void 0:n.filters)&&e.synthConfig.filters.length>0&&g.jsxs(qe,{children:[g.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"Filter Settings"}),g.jsx("div",{className:"flex flex-col items-center space-y-4",children:e.synthConfig.filters.map((r,o)=>{const l=Math.max(0,Math.min(1,Number(r.cutoff)||.5)),u=Math.max(0,Math.min(1,Number(r.resonance)||.3)),f=l*2e4;return g.jsxs("div",{className:"text-center",children:[g.jsxs("div",{className:"font-medium text-gray-200 mb-4",children:["Filter Type: ",g.jsx("span",{className:"font-bold text-purple-400",children:r.selectedType||"Lowpass"})]}),g.jsxs("div",{className:"flex flex-row gap-8 justify-center mb-3",children:[g.jsx(V1,{value:l,label:"Cutoff",size:80,min:0,max:1}),g.jsx(V1,{value:u,label:"Resonance",size:80,min:0,max:1})]}),g.jsxs("div",{className:"text-gray-300 space-x-6",children:[g.jsxs("span",{children:["Cutoff: ",g.jsxs("span",{className:"font-mono text-white",children:[Number.isFinite(f)?f.toFixed(0):"0"," Hz"]})]}),g.jsxs("span",{children:["Resonance: ",g.jsx("span",{className:"font-mono text-white",children:Number.isFinite(u)?u.toFixed(2):"0.00"})]})]})]},o)})})]}),g.jsxs(qe,{children:[g.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"Envelope Settings"}),g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[g.jsxs("div",{className:"text-center",children:[g.jsx("h4",{className:"font-medium text-gray-200 mb-3",children:"Filter Envelope"}),g.jsx(Cv,{...e.adsrVCF,width:300,height:150})]}),g.jsxs("div",{className:"text-center",children:[g.jsx("h4",{className:"font-medium text-gray-200 mb-3",children:"Amp Envelope"}),g.jsx(Cv,{...e.adsrVCA,width:300,height:150})]})]})]}),e.summary&&g.jsxs(qe,{children:[g.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"Creative Tips"}),g.jsx("div",{className:"prose prose-invert max-w-none",children:g.jsx(nm,{remarkPlugins:[rm],children:e.summary})})]})]})},zO=({library:e,onClose:t,onLoadEntry:n,onDeleteEntry:r,onCreateNew:o})=>{const[l,u]=ne.useState(""),f=e.filter(m=>m.title.toLowerCase().includes(l.toLowerCase())||m.genre.join(", ").toLowerCase().includes(l.toLowerCase())).sort((m,d)=>new Date(d.createdAt).getTime()-new Date(m.createdAt).getTime());return g.jsx("div",{className:"fixed inset-0 bg-gray-900/80 backdrop-blur-sm flex items-center justify-center p-4 z-50 transition-opacity duration-300 ease-in-out",onClick:t,role:"dialog","aria-modal":"true","aria-labelledby":"library-modal-title",children:g.jsxs(qe,{className:"w-full max-w-2xl bg-gray-800 shadow-2xl border border-gray-700 max-h-[90vh] flex flex-col",onClick:m=>m.stopPropagation(),children:[g.jsxs("div",{className:"flex justify-between items-center px-6 py-4 border-b border-gray-700",children:[g.jsxs("h2",{id:"library-modal-title",className:"text-2xl font-semibold text-purple-300 flex items-center",children:[g.jsx(Gd,{className:"w-7 h-7 mr-3 text-purple-400"}),"TrackGuide Library"]}),g.jsx(Pe,{onClick:t,variant:"secondary",size:"sm",className:"p-2 -mr-2","aria-label":"Close Library",children:g.jsx(lb,{className:"w-5 h-5"})})]}),g.jsx("div",{className:"px-6 py-4",children:g.jsx(gn,{type:"search",placeholder:"Search by title or genre...",value:l,onChange:m=>u(m.target.value),className:"mb-4 bg-gray-700 border-gray-600 placeholder-gray-500","aria-label":"Search library"})}),g.jsx("div",{className:"flex-grow overflow-y-auto px-6 pb-6 space-y-3 custom-scrollbar pr-3",children:f.length===0?g.jsx("p",{className:"text-gray-400 text-center py-8",children:l?`No entries found for "${l}".`:"Your library is empty. Create some TrackGuides!"}):f.map(m=>g.jsx("div",{className:"p-4 bg-gray-700/60 rounded-lg hover:bg-gray-600/50 transition-colors shadow-md border border-gray-600/50",children:g.jsxs("div",{className:"flex justify-between items-start",children:[g.jsxs("div",{className:"flex-grow min-w-0",children:[g.jsx("h4",{className:"font-semibold text-purple-300 truncate text-lg",title:m.title,children:m.title}),g.jsx("p",{className:"text-sm text-gray-400 truncate",title:Array.isArray(m.genre)?m.genre.join(", "):m.genre,children:Array.isArray(m.genre)?m.genre.join(", "):m.genre}),g.jsxs("p",{className:"text-xs text-gray-500",children:["Created: ",new Date(m.createdAt).toLocaleDateString(),m.generatedMidiPatterns&&g.jsx(sb,{className:"w-3 h-3 text-green-400 inline-block ml-2",title:"MIDI available"})]})]}),g.jsxs("div",{className:"flex flex-col sm:flex-row space-y-2 sm:space-y-0 sm:space-x-2 items-end shrink-0 ml-3 mt-1 sm:mt-0",children:[g.jsx(Pe,{onClick:()=>n(m),size:"sm",variant:"outline",className:"text-xs px-3 py-1.5 w-full sm:w-auto",leftIcon:g.jsx(Gd,{className:"w-4 h-4"}),children:"Load"}),g.jsx(Pe,{onClick:()=>r(m.id),size:"sm",variant:"danger",className:"text-xs px-3 py-1.5 w-full sm:w-auto",leftIcon:g.jsx(MI,{className:"w-4 h-4"})})]})]})},m.id))}),g.jsx("div",{className:"px-6 py-4 border-t border-gray-700",children:g.jsx(Pe,{onClick:o,variant:"primary",className:"w-full",leftIcon:g.jsx(qd,{}),children:"Create New TrackGuide"})})]})})},ru=({className:e="w-4 h-4"})=>g.jsx("div",{className:`${e} bg-orange-500 transform rotate-45 flex items-center justify-center`,children:g.jsx("div",{className:"w-1/2 h-1/2 bg-white transform -rotate-45"})}),P1={songTitle:"",genre:[],artistReference:"",referenceTrackLink:"",lyrics:"",key:"",scale:"",chords:"",generalNotes:"",vibe:[],daw:"",plugins:"",availableInstruments:""},B1={audioFile:null,userNotes:""},Wi=100,au=Wi*1024*1024,O1=e=>{const t=[/Tempo.*?(\d+)\s*(?:-|to)\s*(\d+)\s*BPM/i,/BPM.*?(\d+)\s*(?:-|to)\s*(\d+)/i,/(\d+)\s*(?:-|to)\s*(\d+)\s*BPM/i,/Tempo.*?(\d+)\s*BPM/i,/BPM.*?(\d+)/i,/(\d+)\s*BPM/i];for(const n of t){const r=e.match(n);if(r){if(r[2])return Math.round((parseInt(r[1],10)+parseInt(r[2],10))/2);if(r[1])return parseInt(r[1],10)}}return null},F1=e=>{const t=[/Suggested Key\(s\) \/ Scale\(s\):\s*([^(\n]+)/i,/Key.*?:\s*([A-G][#b]?\s*(?:Major|Minor|major|minor))/i,/([A-G][#b]?\s*(?:Major|Minor|major|minor))/i];for(const n of t){const r=e.match(n);if(r&&r[1]){const o=r[1].split(/,|\/| or /).map(u=>u.trim().replace(/\.$/,""));for(const u of o){const f=u.includes(" Minor")||u.includes(" minor")?u.replace(/minor/i,"Minor"):u.replace(/major/i,"Major").replace(/Major$/,"").trim()+" Major";if(Jo.includes(u)||Jo.includes(f))return Jo.includes(u)?u:f}const l=o[0];if(l){for(const u of Jo)if(l.toLowerCase().startsWith(u.split(" ")[0].toLowerCase())){if(l.toLowerCase().includes("minor")){if(u.includes("Minor"))return u}else if(u.includes("Major"))return u}return l}}}return null},z1=e=>{const t=[/Chord Progression\(s\)?\s*(?:\([^)]+\))?:\s*([^\n]+)/i,/Progression\(s\)?:\s*([^\n]+)/i,/Chords?:\s*([ivclxmdIVCLXMDab#ø°dimaug\d\/sus-][^\n]*)/i,/([ivclxmdIVCLXMD]+(?:\s*-\s*[ivclxmdIVCLXMD]+){2,})/i];for(const n of t){const r=e.match(n);if(r&&r[1]){const l=r[1].match(/([ivclxmdIVCLXMDab#ø°dimaug\d\/sus-]+(?:\s*-\s*[ivclxmdIVCLXMDab#ø°dimaug\d\/sus-]+)*)/);if(l&&l[1]){let u=l[1].trim();u.endsWith(".")&&(u=u.slice(0,-1));const f=[", ",". ","; "];for(const m of f)if(u.includes(m)){u=u.split(m)[0].trim();break}return u}}}return null},j1=(e,t)=>{const n=e.match(t);if(!n||typeof n.index>"u")return"";const r=n.index,o=e.substring(r+n[0].length).match(/^##\s+/m),l=o&&typeof o.index<"u"?r+n[0].length+o.index:e.length;return e.substring(r,l).trim()},jO=e=>{if(!e)return"";let t="";return t+=j1(e,/^##\s*1\.\s*Song Overview/im)+`

`,t+=j1(e,/^##\s*4\.\s*Harmony, Melody & Rhythmic Core/im),t.trim()||"General musical context not fully parsed. Focus on genre and vibe."},H1=e=>{const t=e.match(/^\s*-\s*\*\*Suggested Title:\*\*\s*(.*)/im);return t&&t[1]?t[1].trim().replace(/\*\*([^*]+)\*\*/g,"$1").replace(/\*([^*]+)\*/g,"$1"):null},HO=()=>{var Xt;const[e,t]=ne.useState("landing"),[n,r]=ne.useState(P1),[o,l]=ne.useState(""),[u,f]=ne.useState(""),[m,d]=ne.useState(""),[h,y]=ne.useState(!1),[T,S]=ne.useState(""),[M,E]=ne.useState(null),[_,I]=ne.useState(null),[k,R]=ne.useState([]),[z,G]=ne.useState(null),[H,se]=ne.useState(!1),[oe,pe]=ne.useState(""),[j,fe]=ne.useState(!1),[Z,he]=ne.useState(!0),[le,ce]=ne.useState(B1),[q,B]=ne.useState(null),[N,L]=ne.useState(!1),[C,P]=ne.useState(null),[Y,D]=ne.useState("single"),[J,O]=ne.useState({mixA:null,mixB:null,userNotes:"",includeMixBFeedback:!1}),[re,ye]=ne.useState(null),[de,Ce]=ne.useState(!1),[Te,De]=ne.useState(null),Ye=ne.useRef(null),Le=ne.useRef(null),je=ne.useRef(null);ne.useEffect(()=>{try{const ve=localStorage.getItem(bx);if(ve){const Rt=JSON.parse(ve).map(mt=>({...mt,genre:Array.isArray(mt.genre)?mt.genre:mt.genre?[mt.genre]:[],vibe:Array.isArray(mt.vibe)?mt.vibe:mt.vibe?[mt.vibe]:[],scale:mt.scale||"",midiSettings:mt.midiSettings||void 0,generatedMidiPatterns:mt.generatedMidiPatterns||void 0}));R(Rt)}}catch(ve){console.error("Failed to load library from local storage:",ve),R([])}const Q=localStorage.getItem(Go),ge=localStorage.getItem($l);r(ve=>({...ve,daw:Q||ve.daw||"",plugins:ge||ve.plugins||""}))},[]),ne.useEffect(()=>{try{localStorage.setItem(bx,JSON.stringify(k))}catch(Q){console.error("Failed to save library to local storage:",Q)}},[k]);const Qe=Q=>{const{name:ge,value:ve}=Q.target;ge==="currentGenreText"?l(ve):ge==="currentVibeText"?f(ve):(r(He=>({...He,[ge]:ve})),ge==="daw"?localStorage.setItem(Go,ve):ge==="plugins"&&localStorage.setItem($l,ve))},xt=Q=>{var ve,He;const ge=Q==="genre"?o.trim():u.trim();ge&&!n[Q].includes(ge)&&r(Rt=>({...Rt,[Q]:[...Rt[Q],ge]})),Q==="genre"?(l(""),(ve=Le.current)==null||ve.focus()):(f(""),(He=je.current)==null||He.focus())},dt=(Q,ge)=>{Q.key==="Enter"&&(Q.preventDefault(),xt(ge))},Br=(Q,ge)=>{r(ve=>{const Rt=ve[Q].filter(mt=>mt!==ge);return{...ve,[Q]:Rt}})},or=Q=>{r(ge=>({...ge,daw:Q})),localStorage.setItem(Go,Q)},Si=Q=>{const ge=Q.match(/^#\s*TRACKGUIDE:\s*"?([^"\n]+)"?/im);return ge&&ge[1]?ge[1].trim():null},Hn=()=>{const Q=localStorage.getItem(Go)||"",ge=localStorage.getItem($l)||"";r({...P1,songTitle:"",daw:Q,plugins:ge}),l(""),f(""),d(""),G(null),E(null),I(null),pe(""),Fn(),se(!1)},Ha=async Q=>{var Rt;Q.preventDefault(),y(!0),E(null),I(null),d(""),G(null),pe(""),Fn(),window.scrollTo({top:0,behavior:"smooth"}),n.daw&&localStorage.setItem(Go,n.daw),n.plugins&&localStorage.setItem($l,n.plugins);let ge="",ve,He;try{S("TrackGuide is generating...");const mt=await yI(n);for await(const Nt of mt)ge+=Nt.text,d(bn=>bn+Nt.text);S("Initial MIDI patterns are generating...");const ks=Si(ge),Rs=(Rt=n.songTitle)!=null&&Rt.trim()?n.songTitle.trim():ks||`TrackGuide for ${n.genre.join(", ")||"Unknown Genre"}`,qa=Date.now().toString(),Ya=new Date().toISOString(),Ns=O1(ge),Fu=F1(ge),Un=z1(ge),bt=n.genre[0]||We.genre,Pt=Qn[bt]||Qn.Default,Ci=Math.round((Pt[0]+Pt[1])/2),$a=(Nn[bt]||Nn.Default)[0],zu=jO(ge),ju=We.songSection;let Ka=8;const sr=bt.toLowerCase();["lo-fi hip hop","lofi hip hop","lofi","trap","ambient","idm","breakcore","footwork","juke","experimental"].some(Nt=>sr.includes(Nt))&&(Ka=4);const wi=["chords","bassline","melody","drums"];He={key:Fu||We.key,tempo:Ns||Ci,timeSignature:We.timeSignature,chordProgression:Un||$a,genre:bt,bars:Ka,targetInstruments:wi,guidebookContext:zu,songSection:ju};try{const Nt=await fs(He);let bn="";for await(const lr of Nt)bn+=lr.text;let Gn=bn.trim();const wt=/^```(\w*)?\s*\n?(.*?)\n?\s*```$/s,Fr=Gn.match(wt);if(Fr&&Fr[2]&&(Gn=Fr[2].trim()),ve=JSON.parse(Gn),ve.drums){const lr={};for(const qn in ve.drums)lr[qn.toLowerCase().replace(/\s+/g,"_")]=ve.drums[qn];ve.drums=lr}I(null)}catch(Nt){console.error("Initial MIDI generation failed:",Nt);const bn=Nt.message.toLowerCase().includes("json")?`AI returned invalid JSON for MIDI patterns during initial generation. (${Nt.message})`:`Initial MIDI generation failed: ${Nt.message}.`;I(bn+" You can try generating MIDI manually in the MIDI tools section."),ve=void 0}G({id:qa,title:Rs,genre:n.genre,artistReference:n.artistReference,referenceTrackLink:n.referenceTrackLink,lyrics:n.lyrics,key:n.key,chords:n.chords,generalNotes:n.generalNotes,vibe:n.vibe,daw:n.daw,plugins:n.plugins,availableInstruments:n.availableInstruments||"",content:ge,createdAt:Ya,midiSettings:He,generatedMidiPatterns:ve})}catch(mt){E(mt.message||"An unexpected error occurred while generating TrackGuide."),G(null),d("")}finally{y(!1),S("")}},Or=()=>{if(!z)return;const Q={...z};R(ge=>{const ve=ge.findIndex(He=>He.id===Q.id);if(ve>-1){const He=[...ge];return He[ve]=Q,He}return[Q,...ge]})},Ua=(Q,ge)=>{G(ve=>ve?{...ve,midiSettings:Q,generatedMidiPatterns:ge}:null)},Ga=Q=>{r({songTitle:Q.title,genre:Array.isArray(Q.genre)?Q.genre:Q.genre?[String(Q.genre)]:[],artistReference:Q.artistReference,referenceTrackLink:Q.referenceTrackLink||"",lyrics:Q.lyrics||"",key:Q.key||"",chords:Q.chords||"",generalNotes:Q.generalNotes||"",vibe:Array.isArray(Q.vibe)?Q.vibe:Q.vibe?[String(Q.vibe)]:[],daw:Q.daw,plugins:Q.plugins,availableInstruments:Q.availableInstruments||""}),l(""),f(""),d(Q.content),G(Q),E(null),I(null),pe(""),Fn(),se(!1),t("trackGuide"),window.scrollTo({top:0,behavior:"smooth"})},ee=Q=>{R(ge=>ge.filter(ve=>ve.id!==Q)),z&&z.id===Q&&(d(""),G(null),Fn())},ue=({selections:Q,onRemove:ge})=>g.jsx("div",{className:"flex flex-wrap gap-2 mt-2 mb-2 min-h-[2.25rem]",children:Q.map(ve=>g.jsxs("span",{className:"flex items-center px-3 py-1 bg-orange-600 text-white text-xs font-medium rounded-full shadow-md hover:bg-orange-700 transition-colors",children:[ve,g.jsx("button",{type:"button",onClick:()=>ge(ve),className:"ml-1.5 -mr-0.5 p-0.5 text-orange-200 hover:text-white rounded-full focus:outline-none focus:bg-orange-800 transition-colors","aria-label":`Remove ${ve}`,children:g.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-3 w-3",viewBox:"0 0 20 20",fill:"currentColor",children:g.jsx("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})})})]},ve))}),Se=Q=>{var ve;const ge=(ve=Q.target.files)==null?void 0:ve[0];if(ge){if(ge.size>au){P(`File is too large. Maximum size is ${Wi}MB.`),ce(He=>({...He,audioFile:null})),Ye.current&&(Ye.current.value="");return}if(!ge.type.startsWith("audio/")){P("Invalid file type. Please upload an audio file (e.g., MP3, WAV)."),ce(He=>({...He,audioFile:null})),Ye.current&&(Ye.current.value="");return}ce(He=>({...He,audioFile:ge})),P(null)}},Me=Q=>{ce(ge=>({...ge,userNotes:Q.target.value}))},Ke=async Q=>{if(Q.preventDefault(),!le.audioFile){P("Please upload an audio file for feedback.");return}L(!0),window.scrollTo({top:0,behavior:"smooth"}),B(null),P(null);try{const ge=await Cx(le);B(ge)}catch(ge){P(ge.message||"An unknown error occurred while generating mix feedback.")}finally{L(!1)}},Kt=()=>{ce(B1),B(null),P(null),Ye.current&&(Ye.current.value="")},xn=Q=>new Promise((ge,ve)=>{const He=new FileReader;He.readAsDataURL(Q),He.onload=()=>{const mt=He.result.split(",")[1];ge(mt)},He.onerror=Rt=>ve(Rt)}),jt=async()=>{if(!J.mixA||!J.mixB){De("Please upload both Mix A and Mix B files.");return}Ce(!0),window.scrollTo({top:0,behavior:"smooth"}),ye(null),De(null);try{const Q=await xn(J.mixA),ge=await xn(J.mixB),ve={mixAFile:Q,mixBFile:ge,mixAName:J.mixA.name,mixBName:J.mixB.name,includeMixBFeedback:J.includeMixBFeedback,userNotes:J.userNotes},He=await vI(ve);ye(He)}catch(Q){De(Q.message||"An unknown error occurred while comparing mixes.")}finally{Ce(!1)}},vn=()=>{O({mixA:null,mixB:null,userNotes:"",includeMixBFeedback:!1}),ye(null),De(null)};let st;const vt=(Xt=n.songTitle)==null?void 0:Xt.trim();if(vt)st=`TrackGuide: ${vt}`;else if(z!=null&&z.title){const Q=z.title;if(Q.startsWith("TrackGuide for ")){const ge=Si(z.content);ge?st=`TrackGuide: ${ge}`:st=Q}else st=`TrackGuide: ${Q}`}else if(h&&e==="trackGuide"){const Q=H1(m);Q?st=`TrackGuide: ${Q}`:st="TrackGuide is generating..."}else if(m){const Q=H1(m);Q?st=`TrackGuide: ${Q}`:st="Generated TrackGuide"}else st="TrackGuide";return e==="landing"?g.jsx(VI,{onGetStarted:()=>{t("trackGuide"),setTimeout(()=>window.scrollTo({top:0,behavior:"smooth"}),100)}}):g.jsxs("div",{className:"min-h-screen bg-[#1A1A1A] text-gray-100 p-4 md:p-6 lg:p-8 relative overflow-hidden",children:[g.jsx("div",{className:"absolute inset-0 opacity-20 pointer-events-none",children:g.jsx("div",{className:"absolute inset-0 pointer-events-none",style:{backgroundImage:"radial-gradient(circle at 2px 2px, #FF5722 1px, transparent 0)",backgroundSize:"40px 40px"}})}),g.jsxs("div",{className:"absolute top-10 right-10 w-32 h-32 opacity-10 pointer-events-none",children:[g.jsx("div",{className:"w-full h-full border-2 border-orange-500 transform rotate-12 pointer-events-none"}),g.jsx("div",{className:"absolute top-2 right-2 w-28 h-28 bg-orange-500 transform rotate-12 pointer-events-none"})]}),g.jsxs("header",{className:"text-center mb-6 relative z-10",children:[g.jsxs("div",{className:"flex items-center justify-center space-x-3 mb-4",children:[g.jsx("div",{className:"w-8 h-8 bg-orange-500 transform rotate-45 flex items-center justify-center",children:g.jsx("div",{className:"w-4 h-4 bg-white transform -rotate-45"})}),g.jsxs("div",{children:[g.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-white",children:vx}),g.jsx("p",{className:"text-gray-400 text-lg",children:"Your Smartest Studio Assistant"})]})]}),g.jsx("button",{onClick:()=>t("landing"),className:"mt-2 text-sm text-orange-500 hover:text-orange-400 transition-colors font-medium",children:"← Back to Landing"})]}),g.jsxs("nav",{className:"mb-8 flex flex-col justify-center items-center md:flex-row md:justify-center gap-2 border-b border-orange-500/20 pb-3 relative z-10",children:[g.jsx(Pe,{size:"sm",className:`w-full md:w-auto px-3 py-2 text-xs md:text-sm rounded-md transition-all duration-150 ease-in-out ${e==="trackGuide"?"bg-orange-500 shadow-lg hover:bg-orange-600":"bg-gray-700/80 hover:bg-gray-600/80 border border-gray-600"}`,onClick:()=>t("trackGuide"),variant:e==="trackGuide"?"primary":"secondary",leftIcon:g.jsx(ru,{className:"w-4 h-4"}),children:"TrackGuide AI"}),g.jsx(Pe,{size:"sm",className:`w-full md:w-auto px-3 py-2 text-xs md:text-sm rounded-md transition-all duration-150 ease-in-out ${e==="mixFeedback"?"bg-orange-500 shadow-lg hover:bg-orange-600":"bg-gray-700/80 hover:bg-gray-600/80 border border-gray-600"}`,onClick:()=>t("mixFeedback"),variant:e==="mixFeedback"?"primary":"secondary",leftIcon:g.jsx("span",{className:"w-4 h-4 text-center",children:"🎚️"}),children:"Mix Feedback AI"}),g.jsx(Pe,{size:"sm",className:`w-full md:w-auto px-3 py-2 text-xs md:text-sm rounded-md transition-all duration-150 ease-in-out ${e==="remixGuide"?"bg-orange-500 shadow-lg hover:bg-orange-600":"bg-gray-700/80 hover:bg-gray-600/80 border border-gray-600"}`,onClick:()=>t("remixGuide"),variant:e==="remixGuide"?"primary":"secondary",leftIcon:g.jsx("span",{className:"w-4 h-4 text-center",children:"🎛️"}),children:"RemixGuide AI"}),g.jsx(Pe,{size:"sm",className:`w-full md:w-auto px-3 py-2 text-xs md:text-sm rounded-md transition-all duration-150 ease-in-out ${e==="patchGuide"?"bg-orange-500 shadow-lg hover:bg-orange-600":"bg-gray-700/80 hover:bg-gray-600/80 border border-gray-600"}`,onClick:()=>t("patchGuide"),variant:e==="patchGuide"?"primary":"secondary",leftIcon:g.jsx("span",{className:"w-4 h-4 text-center",children:"🎹"}),children:"PatchGuide AI"}),g.jsx(Pe,{size:"sm",className:`w-full md:w-auto px-3 py-2 text-xs md:text-sm rounded-md transition-all duration-150 ease-in-out ${e==="eqGuide"?"bg-orange-500 shadow-lg hover:bg-orange-600":"bg-gray-700/80 hover:bg-gray-600/80 border border-gray-600"}`,onClick:()=>t("eqGuide"),variant:e==="eqGuide"?"primary":"secondary",leftIcon:g.jsx(nd,{className:"w-4 h-4"}),children:"EQ Guide"})]}),e==="trackGuide"&&g.jsxs("div",{className:"max-w-full mx-auto grid grid-cols-1 lg:grid-cols-7 gap-6 px-4",children:[g.jsxs(qe,{title:"Blueprint Your Sound",className:"lg:col-span-2 bg-gray-800/80 backdrop-blur-md shadow-xl border border-gray-700/50",children:[g.jsx("p",{className:"text-sm text-gray-400 mb-4",children:"Describe your vision—everything's optional."}),g.jsxs("form",{onSubmit:Ha,className:"space-y-3",children:[g.jsx("div",{children:g.jsx(gn,{label:"Song Title / Project Name",name:"songTitle",value:n.songTitle||"",onChange:Qe,placeholder:"AI will suggest one if left blank"})}),g.jsx("div",{children:g.jsx(gn,{label:"Artist References",name:"artistReference",value:n.artistReference,onChange:Qe,placeholder:"e.g., Daft Punk"})}),g.jsx("div",{children:g.jsx(gn,{label:"Song Reference",name:"referenceTrackLink",value:n.referenceTrackLink||"",onChange:Qe,placeholder:"e.g., YouTube, Spotify, SoundCloud link"})}),g.jsxs("div",{className:"space-y-2",children:[g.jsxs("div",{children:[g.jsx("label",{htmlFor:"genre-input",className:"block text-sm font-medium text-gray-300 mb-1.5",children:"Genre(s)"}),g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx(gn,{ref:Le,id:"genre-input",name:"currentGenreText",value:o,onChange:Qe,onKeyDown:Q=>dt(Q,"genre"),placeholder:"Type custom genre...",list:"genre-suggestions",className:"flex-grow"}),g.jsx(Pe,{type:"button",onClick:()=>xt("genre"),size:"sm",variant:"secondary","aria-label":"Add Genre",className:"px-3",children:g.jsx(qd,{className:"w-4 h-4"})})]}),g.jsx("datalist",{id:"genre-suggestions",children:rb.map(Q=>g.jsx("option",{value:Q},Q))}),g.jsx(ue,{selections:n.genre,onRemove:Q=>Br("genre",Q)})]}),g.jsxs("div",{children:[g.jsx("label",{htmlFor:"vibe-input",className:"block text-sm font-medium text-gray-300 mb-1.5",children:"Vibe / Mood"}),g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx(gn,{ref:je,id:"vibe-input",name:"currentVibeText",value:u,onChange:Qe,onKeyDown:Q=>dt(Q,"vibe"),placeholder:"Type custom vibe...",list:"vibe-suggestions",className:"flex-grow"}),g.jsx(Pe,{type:"button",onClick:()=>xt("vibe"),size:"sm",variant:"secondary","aria-label":"Add Vibe",className:"px-3",children:g.jsx(qd,{className:"w-4 h-4"})})]}),g.jsx("datalist",{id:"vibe-suggestions",children:fI.map(Q=>g.jsx("option",{value:Q},Q))}),g.jsx(ue,{selections:n.vibe,onRemove:Q=>Br("vibe",Q)})]})]}),g.jsxs("div",{children:[g.jsx(gn,{label:"Preferred DAW",name:"daw",value:n.daw,onChange:Qe,placeholder:"Type or select DAW...",list:"daw-suggestions"}),g.jsx("datalist",{id:"daw-suggestions",children:Tx.map(Q=>g.jsx("option",{value:Q},Q))}),g.jsx("div",{className:"flex flex-wrap gap-2 mt-2 mb-1",children:Tx.slice(0,5).map(Q=>g.jsx("button",{type:"button",onClick:()=>or(Q),className:`px-3 py-1 text-xs rounded-full transition-all duration-150 ease-in-out shadow-sm hover:shadow-md ${n.daw===Q?"bg-orange-600 text-white ring-2 ring-orange-400 ring-offset-2 ring-offset-gray-800":"bg-gray-700 hover:bg-gray-600 text-gray-300 hover:text-gray-100"}`,children:Q},Q))})]}),g.jsx("div",{children:g.jsx(Ta,{label:"Available Plugins",name:"plugins",value:n.plugins,onChange:Qe,placeholder:"e.g., Serum, Valhalla Reverbs, Arturia V Collection, or 'stock only'",rows:2})}),g.jsx("div",{children:g.jsx(Ta,{label:"Available Instruments",name:"availableInstruments",value:n.availableInstruments||"",onChange:Qe,placeholder:"e.g., Electric Guitar, Moog Subsequent 37, Roland TR-808, Vocals",rows:2})}),g.jsxs("div",{className:"border-t border-gray-600 pt-4",children:[g.jsx(Pe,{type:"button",onClick:()=>fe(!j),variant:"outline",className:"mb-4 w-8 h-8 p-0 flex items-center justify-center",title:j?"Hide Advanced Input":"Show Advanced Input",children:g.jsx("span",{className:`text-lg transition-transform ${j?"rotate-45":""}`,children:"+"})}),j&&g.jsxs("div",{className:"space-y-4 p-4 bg-gray-700/30 rounded-lg border border-gray-600/50",children:[g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[g.jsx("div",{children:g.jsx(gn,{label:"Key",name:"key",value:n.key||"",onChange:Qe,placeholder:"e.g., C Major"})}),g.jsx("div",{children:g.jsx(gn,{label:"Scale/Mode",name:"scale",value:n.scale||"",onChange:Qe,placeholder:"e.g., Dorian, Mixolydian"})})]}),g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[g.jsx("div",{children:g.jsx(gn,{label:"Chords",name:"chords",value:n.chords||"",onChange:Qe,placeholder:"e.g., Am - F - C - G"})}),g.jsx("div",{children:g.jsx(Ta,{label:"Lyrics",name:"lyrics",value:n.lyrics||"",onChange:Qe,placeholder:"Paste your lyrics here if you have any...",rows:2})})]}),g.jsx("div",{children:g.jsx(Ta,{label:"General Notes for AI",name:"generalNotes",value:n.generalNotes||"",onChange:Qe,placeholder:"Any specific instructions, style notes, or creative direction for the AI to consider...",rows:3})})]})]}),g.jsx(Pe,{type:"submit",disabled:h,className:"w-full text-base py-2.5",leftIcon:g.jsx(ru,{className:"w-5 h-5"}),children:h?T||"Generating...":"Generate TrackGuide"}),g.jsxs("div",{className:"flex space-x-2 mt-3",children:[g.jsx(Pe,{type:"button",onClick:()=>se(!0),variant:"secondary",className:"flex-1",leftIcon:g.jsx(Gd,{className:"w-4 h-4"}),children:"View Library"}),g.jsx(Pe,{type:"button",onClick:Hn,variant:"outline",className:"flex-1",children:"Clear Form"})]})]})]}),g.jsxs("div",{className:"lg:col-span-5 space-y-6",children:[M&&!h&&g.jsxs(qe,{className:"border-red-500 bg-red-900/40 shadow-xl",children:[g.jsx("p",{className:"text-red-300 font-semibold text-lg",children:"TrackGuide Error:"}),g.jsx("p",{className:"text-red-300",children:M})]}),_&&!T.toLowerCase().includes("midi")&&!M&&g.jsxs(qe,{className:"border-yellow-500 bg-yellow-900/40 shadow-xl",children:[g.jsx("p",{className:"text-yellow-300 font-semibold text-lg",children:"MIDI Generation Note:"}),g.jsx("p",{className:"text-yellow-300",children:_})]}),(m||h&&T.includes("TrackGuide is generating"))&&!M&&g.jsxs(qe,{title:st,className:"bg-gray-800/80 backdrop-blur-md shadow-xl border border-gray-700/50 sticky top-8",titleClassName:"border-b border-gray-700 text-xl",children:[z&&!h&&g.jsxs("div",{className:"flex flex-wrap gap-3 mb-5 pb-4 border-b border-gray-700 items-center",children:[g.jsx(Pe,{onClick:Or,variant:"secondary",leftIcon:g.jsx(wI,{}),children:"Save to Library"}),g.jsx("div",{className:"flex-grow"}),g.jsx(Pe,{onClick:Hn,variant:"outline",size:"sm",className:"!border-gray-500 !text-gray-400 hover:!bg-gray-600 hover:!text-white",leftIcon:g.jsx(lb,{}),children:"Close"}),oe&&g.jsx("span",{className:`ml-3 text-sm ${oe.includes("Failed")||oe.includes("not supported")?"text-red-400":"text-green-400"}`,children:oe})]}),g.jsxs("div",{id:"guidebook-content-display",className:"prose prose-sm md:prose-base prose-invert max-w-none max-h-[calc(100vh-6rem)] overflow-y-auto pr-3 text-gray-300 custom-scrollbar guidebook-content",children:[z&&!h&&g.jsxs("div",{className:"mb-6 p-4 bg-gray-700/50 rounded-lg text-sm shadow-inner border border-gray-600/50 guidebook-section-break",children:[g.jsx("strong",{className:"text-orange-300 block mb-2 text-base",children:"TrackGuide Snapshot:"}),g.jsxs("p",{children:[g.jsx("strong",{children:"Project Title:"})," ",z.title]}),g.jsxs("p",{children:[g.jsx("strong",{children:"Genre(s):"})," ",Array.isArray(z.genre)?z.genre.join(", "):z.genre]}),g.jsxs("p",{children:[g.jsx("strong",{children:"Artist/Song Ref:"})," ",z.artistReference||"N/A"]}),g.jsxs("p",{children:[g.jsx("strong",{children:"Vibe(s):"})," ",Array.isArray(z.vibe)?z.vibe.join(", "):z.vibe]}),g.jsxs("p",{children:[g.jsx("strong",{children:"DAW:"})," ",z.daw]}),g.jsxs("p",{children:[g.jsx("strong",{children:"Plugins:"})," ",z.plugins||"N/A"]}),g.jsxs("p",{children:[g.jsx("strong",{children:"Instruments:"})," ",z.availableInstruments||"N/A"]}),z.generatedMidiPatterns&&g.jsxs("p",{className:"mt-1 text-green-400",children:[g.jsx(sb,{className:"w-4 h-4 inline mr-1"})," Initial MIDI patterns generated."]})]}),g.jsx(is,{content:m}),h&&T.includes("TrackGuide is generating")&&g.jsx(xi,{size:"sm",text:"Generating TrackGuide..."})]})]}),h&&!M&&T&&!T.includes("TrackGuide is generating")&&g.jsx("div",{className:"flex justify-center py-10",children:g.jsx(xi,{size:"lg",text:T||"Processing..."})}),z&&!h&&m&&!M&&g.jsx(gT,{currentGuidebookEntry:z,mainAppInputs:n,onUpdateGuidebookEntryMidi:Ua,parsedGuidebookBpm:O1(z.content),parsedGuidebookKey:F1(z.content),parsedGuidebookChordProg:z1(z.content)}),!h&&!m&&!M&&!z&&g.jsxs(qe,{className:"bg-gray-800/80 backdrop-blur-md shadow-xl border border-gray-700/50 flex flex-col items-center justify-center h-96 text-center min-h-[500px]",children:[g.jsx("div",{className:"flex justify-center mb-6",children:g.jsx(ru,{className:"w-20 h-20 opacity-80 text-orange-500"})}),g.jsx("h3",{className:"text-2xl font-semibold text-gray-200 mb-2",children:"Produce Smarter. Create More."}),g.jsx("p",{className:"text-gray-400 max-w-md mx-auto",children:"Tell us what you’re envisioning—TrackGuide AI will generate a custom production guide and MIDI foundation."})]})]})]}),e==="mixFeedback"&&g.jsxs("div",{className:"max-w-7xl mx-auto grid grid-cols-1 md:grid-cols-12 gap-8",children:[g.jsxs("div",{className:"md:col-span-3 space-y-6",children:[g.jsxs("div",{className:"flex bg-gray-800/80 backdrop-blur-md shadow-xl border border-gray-700/50 rounded-lg overflow-hidden",children:[g.jsx("button",{onClick:()=>D("single"),className:`flex-1 px-4 py-3 text-sm font-medium transition-all ${Y==="single"?"bg-orange-500 text-white":"bg-gray-700/50 text-gray-300 hover:bg-gray-600/50"}`,children:"🎚️ Mix Analysis"}),g.jsx("button",{onClick:()=>D("compare"),className:`flex-1 px-4 py-3 text-sm font-medium transition-all ${Y==="compare"?"bg-orange-500 text-white":"bg-gray-700/50 text-gray-300 hover:bg-gray-600/50"}`,children:"⚖️ Mix Compare"})]}),Y==="single"&&g.jsx(qe,{title:"Upload Your Mix",className:"bg-gray-800/80 backdrop-blur-md shadow-xl border border-gray-700/50",children:g.jsxs("form",{onSubmit:Ke,className:"space-y-5",children:[g.jsxs("div",{children:[g.jsx("label",{htmlFor:"mix-audio-file",className:"block text-sm font-medium text-gray-300 mb-1",children:"Audio File (.mp3, .wav, etc.)"}),g.jsx("div",{className:`mt-1 flex justify-center px-6 pt-5 pb-6 border-2 ${C&&le.audioFile===null?"border-red-500":"border-gray-600"} border-dashed rounded-md cursor-pointer hover:border-orange-500 transition-colors`,onClick:()=>{var Q;return(Q=Ye.current)==null?void 0:Q.click()},onDragOver:Q=>{Q.preventDefault(),Q.currentTarget.classList.add("border-orange-500")},onDragLeave:Q=>Q.currentTarget.classList.remove("border-orange-500"),onDrop:Q=>{if(Q.preventDefault(),Q.currentTarget.classList.remove("border-orange-500"),Q.dataTransfer.files&&Q.dataTransfer.files[0]){const ge=Q.dataTransfer.files[0];if(ge.size>au){P(`File is too large. Max ${Wi}MB.`);return}if(!ge.type.startsWith("audio/")){P("Invalid file type. Please upload audio.");return}ce(ve=>({...ve,audioFile:ge})),P(null)}},children:g.jsxs("div",{className:"space-y-1 text-center",children:[g.jsx(td,{className:"mx-auto h-12 w-12 text-gray-500"}),g.jsxs("div",{className:"flex text-sm text-gray-400",children:[g.jsx("span",{className:"relative rounded-md font-medium text-orange-400 hover:text-orange-300 focus-within:outline-none focus-within:ring-2 focus-within:ring-offset-2 focus-within:ring-offset-gray-900 focus-within:ring-orange-500",children:g.jsx("span",{children:"Upload a file"})}),g.jsx("input",{id:"mix-audio-file",name:"mix-audio-file",type:"file",className:"sr-only",accept:"audio/*",onChange:Se,ref:Ye}),g.jsx("p",{className:"pl-1",children:"or drag and drop"})]}),g.jsxs("p",{className:"text-xs text-gray-500",children:["Max file size: ",Wi,"MB"]})]})}),le.audioFile&&g.jsxs("p",{className:"text-xs text-green-400 mt-2",children:["Selected: ",le.audioFile.name," (",(le.audioFile.size/1024/1024).toFixed(2)," MB)"]}),C&&le.audioFile===null&&g.jsx("p",{className:"text-xs text-red-400 mt-2",children:C})]}),g.jsx("div",{children:g.jsx(Ta,{label:"Notes for AI",name:"mixUserNotes",value:le.userNotes,onChange:Me,placeholder:"e.g., 'Focus on the low-end clarity', 'Is the vocal too loud?', 'General feedback welcome.'",rows:4})}),g.jsx(Pe,{type:"submit",disabled:N||!le.audioFile,className:"w-full text-base py-2.5 !bg-orange-600 hover:!bg-orange-700 focus:!ring-orange-500",leftIcon:g.jsx(nd,{className:"w-5 h-5"}),children:N?"Analyzing Mix...":"Get Mix Feedback"}),g.jsx(Pe,{type:"button",onClick:Kt,variant:"outline",className:"w-full !border-orange-500 !text-orange-400 hover:!bg-orange-500 hover:!text-white",children:"Clear Mix Form"})]})}),Y==="compare"&&g.jsxs("div",{className:"space-y-5",children:[g.jsxs(qe,{title:"Mix A (Original)",className:"bg-gray-800/80 backdrop-blur-md shadow-xl border border-gray-700/50",children:[g.jsx("div",{className:`mt-1 flex justify-center px-6 pt-5 pb-6 border-2 ${Te&&!J.mixA?"border-red-500":"border-gray-600"} border-dashed rounded-md cursor-pointer hover:border-orange-500 transition-colors`,onClick:()=>{var Q;return(Q=document.getElementById("mixA-upload"))==null?void 0:Q.click()},children:g.jsxs("div",{className:"space-y-1 text-center",children:[g.jsx(td,{className:"mx-auto h-12 w-12 text-gray-400"}),g.jsxs("div",{className:"flex text-sm text-gray-400",children:[g.jsxs("label",{htmlFor:"mixA-upload",className:"relative cursor-pointer rounded-md font-medium text-orange-400 hover:text-orange-300",children:[g.jsx("span",{children:"Upload Mix A"}),g.jsx("input",{id:"mixA-upload",name:"mixA-upload",type:"file",className:"sr-only",accept:"audio/*",onChange:Q=>{var ve;const ge=(ve=Q.target.files)==null?void 0:ve[0];if(ge){if(ge.size>au){De(`File is too large. Max ${Wi}MB.`);return}if(!ge.type.startsWith("audio/")){De("Invalid file type. Please upload audio.");return}O(He=>({...He,mixA:ge})),De(null)}}})]}),g.jsx("p",{className:"pl-1",children:"or drag and drop"})]}),g.jsxs("p",{className:"text-xs text-gray-500",children:["MP3, WAV, FLAC up to ",Wi,"MB"]})]})}),J.mixA&&g.jsxs("p",{className:"text-xs text-green-400 mt-2",children:["Selected: ",J.mixA.name," (",(J.mixA.size/1024/1024).toFixed(2)," MB)"]})]}),g.jsxs(qe,{title:"Mix B (Revised)",className:"bg-gray-800/80 backdrop-blur-md shadow-xl border border-gray-700/50",children:[g.jsx("div",{className:`mt-1 flex justify-center px-6 pt-5 pb-6 border-2 ${Te&&!J.mixB?"border-red-500":"border-gray-600"} border-dashed rounded-md cursor-pointer hover:border-orange-500 transition-colors`,onClick:()=>{var Q;return(Q=document.getElementById("mixB-upload"))==null?void 0:Q.click()},children:g.jsxs("div",{className:"space-y-1 text-center",children:[g.jsx(td,{className:"mx-auto h-12 w-12 text-gray-400"}),g.jsxs("div",{className:"flex text-sm text-gray-400",children:[g.jsxs("label",{htmlFor:"mixB-upload",className:"relative cursor-pointer rounded-md font-medium text-orange-400 hover:text-orange-300",children:[g.jsx("span",{children:"Upload Mix B"}),g.jsx("input",{id:"mixB-upload",name:"mixB-upload",type:"file",className:"sr-only",accept:"audio/*",onChange:Q=>{var ve;const ge=(ve=Q.target.files)==null?void 0:ve[0];if(ge){if(ge.size>au){De(`File is too large. Max ${Wi}MB.`);return}if(!ge.type.startsWith("audio/")){De("Invalid file type. Please upload audio.");return}O(He=>({...He,mixB:ge})),De(null)}}})]}),g.jsx("p",{className:"pl-1",children:"or drag and drop"})]}),g.jsxs("p",{className:"text-xs text-gray-500",children:["MP3, WAV, FLAC up to ",Wi,"MB"]})]})}),J.mixB&&g.jsxs("p",{className:"text-xs text-green-400 mt-2",children:["Selected: ",J.mixB.name," (",(J.mixB.size/1024/1024).toFixed(2)," MB)"]})]}),g.jsx(qe,{title:"Notes for AI",className:"bg-gray-800/80 backdrop-blur-md shadow-xl border border-gray-700/50",children:g.jsx(Ta,{placeholder:"Describe what you want the AI to focus on when comparing these mixes. For example: 'Focus on the vocal clarity and low-end balance' or 'Compare the stereo width and overall loudness'...",value:J.userNotes,onChange:Q=>O(ge=>({...ge,userNotes:Q.target.value})),rows:3,className:"w-full"})}),g.jsx(Pe,{onClick:jt,disabled:de||!J.mixA||!J.mixB,variant:"primary",className:"w-full px-4 py-3 text-base font-semibold",leftIcon:g.jsx("span",{className:"w-5 h-5 text-center",children:"⚖️"}),children:de?"Comparing Mixes...":"Compare Mixes"}),g.jsx(Pe,{type:"button",onClick:vn,variant:"outline",className:"w-full !border-orange-500 !text-orange-400 hover:!bg-orange-500 hover:!text-white",children:"Reset"}),Te&&!de&&g.jsxs(qe,{className:"border-red-500 bg-red-900/40 shadow-xl",children:[g.jsx("p",{className:"text-red-300 font-semibold text-lg",children:"Mix Comparison Error:"}),g.jsx("p",{className:"text-red-300",children:Te})]})]})]}),g.jsxs("div",{className:"md:col-span-9 space-y-6",children:[(N||de)&&g.jsx("div",{className:"flex justify-center items-center h-full min-h-[500px]",children:g.jsx(xi,{size:"lg",color:"text-orange-500",text:Y==="single"?"AI is analyzing your mix... this may take a moment.":"AI is comparing your mixes... this may take a moment."})}),C&&!N&&Y==="single"&&g.jsxs(qe,{className:"border-red-500 bg-red-900/40 shadow-xl",children:[g.jsx("p",{className:"text-red-300 font-semibold text-lg",children:"Mix Feedback Error:"}),g.jsx("p",{className:"text-red-300",children:C})]}),Te&&!de&&Y==="compare"&&g.jsxs(qe,{className:"border-red-500 bg-red-900/40 shadow-xl",children:[g.jsx("p",{className:"text-red-300 font-semibold text-lg",children:"Mix Comparison Error:"}),g.jsx("p",{className:"text-red-300",children:Te})]}),q&&!N&&Y==="single"&&g.jsx(qe,{title:"AI Mix Feedback Report",className:"bg-gray-800/80 backdrop-blur-md shadow-xl border border-gray-700/50 sticky top-8",titleClassName:"border-b border-gray-700 text-xl !text-orange-300",children:g.jsx("div",{id:"mix-feedback-display",className:"prose prose-sm md:prose-base prose-invert max-w-none max-h-[calc(100vh-6rem)] overflow-y-auto pr-3 text-gray-300 custom-scrollbar guidebook-content",children:g.jsx(is,{content:q})})}),re&&!de&&Y==="compare"&&g.jsxs(qe,{title:"AI Mix Comparison Report",className:"bg-gray-800/80 backdrop-blur-md shadow-xl border border-gray-700/50 sticky top-8",titleClassName:"border-b border-gray-700 text-xl !text-orange-300",children:[g.jsx("div",{id:"mix-comparison-display",className:"prose prose-sm md:prose-base prose-invert max-w-none max-h-[calc(100vh-6rem)] overflow-y-auto pr-3 text-gray-300 custom-scrollbar guidebook-content",children:g.jsx(is,{content:re})}),g.jsx("div",{className:"p-4 border-t border-gray-700 flex justify-center",children:g.jsx(Pe,{onClick:async()=>{if(J.mixB){L(!0),B(null),P(null),ce({audioFile:J.mixB,userNotes:J.userNotes});try{const Q=await Cx({audioFile:J.mixB,userNotes:J.userNotes});B(Q)}catch(Q){console.error("Full Mix B Feedback Error:",Q),P(Q.message||"Failed to generate feedback for Mix B.")}finally{L(!1)}}},disabled:N,className:"w-full mt-4 text-base py-2.5 !bg-orange-600 hover:!bg-orange-700 focus:!ring-orange-500",leftIcon:g.jsx(nd,{className:"w-5 h-5"}),children:N?"Analyzing Mix B...":"Get Full Feedback for Mix B"})})]}),!N&&!de&&!q&&!re&&!C&&!Te&&g.jsxs(qe,{className:"bg-gray-800/80 backdrop-blur-md shadow-xl border border-gray-700/50 flex flex-col items-center justify-center h-96 text-center min-h-[500px]",children:[g.jsx("div",{className:"flex justify-center mb-6",children:g.jsx(ru,{className:"w-20 h-20 opacity-80"})}),g.jsx("h3",{className:"text-2xl font-semibold text-gray-200 mb-2",children:"Refine Your Sound."}),g.jsx("p",{className:"text-gray-400 max-w-md",children:Y==="single"?"Upload your mix, add some notes, and get detailed feedback from our AI mixing engineer.":"Upload two mix versions to compare them side-by-side and get detailed analysis of the differences."})]})]})]}),e==="remixGuide"&&g.jsx("div",{className:"max-w-7xl mx-auto",children:g.jsx(AP,{})}),e==="eqGuide"&&g.jsx("div",{className:"max-w-7xl mx-auto",children:g.jsx(_I,{})}),e==="patchGuide"&&g.jsx("div",{className:"max-w-7xl mx-auto",children:g.jsx(OO,{})}),H&&g.jsx(zO,{library:k,onClose:()=>se(!1),onLoadEntry:Ga,onDeleteEntry:ee,onCreateNew:Hn}),g.jsx(RI,{isOpen:!Z,onClose:()=>he(!0),currentGuidebook:z||void 0,userInputs:n,isCollapsed:Z,onToggle:()=>he(!Z)}),g.jsx("footer",{className:"text-center mt-16 py-8 border-t border-gray-700/60",children:g.jsxs("p",{className:"text-sm text-gray-500",children:[vx," - AI Production Assistant"]})})]})},XS=document.getElementById("root");if(!XS)throw new Error("Could not find root element to mount to");const UO=pM.createRoot(XS);UO.render(g.jsx(Am.StrictMode,{children:g.jsx(HO,{})}));
