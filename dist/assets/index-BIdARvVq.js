(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))a(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const c of u.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&a(c)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function a(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();function da(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}function Bv(i){if(Object.prototype.hasOwnProperty.call(i,"__esModule"))return i;var t=i.default;if(typeof t=="function"){var n=function a(){return this instanceof a?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(i).forEach(function(a){var o=Object.getOwnPropertyDescriptor(i,a);Object.defineProperty(n,a,o.get?o:{enumerable:!0,get:function(){return i[a]}})}),n}var gc={exports:{}},Xl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var og;function Lv(){if(og)return Xl;og=1;var i=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(a,o,u){var c=null;if(u!==void 0&&(c=""+u),o.key!==void 0&&(c=""+o.key),"key"in o){u={};for(var m in o)m!=="key"&&(u[m]=o[m])}else u=o;return o=u.ref,{$$typeof:i,type:a,key:c,ref:o!==void 0?o:null,props:u}}return Xl.Fragment=t,Xl.jsx=n,Xl.jsxs=n,Xl}var sg;function Uv(){return sg||(sg=1,gc.exports=Lv()),gc.exports}var h=Uv(),pc={exports:{}},ke={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ug;function zv(){if(ug)return ke;ug=1;var i=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),c=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),x=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),b=Symbol.iterator;function C(T){return T===null||typeof T!="object"?null:(T=b&&T[b]||T["@@iterator"],typeof T=="function"?T:null)}var E={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},M=Object.assign,B={};function P(T,I,U){this.props=T,this.context=I,this.refs=B,this.updater=U||E}P.prototype.isReactComponent={},P.prototype.setState=function(T,I){if(typeof T!="object"&&typeof T!="function"&&T!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,T,I,"setState")},P.prototype.forceUpdate=function(T){this.updater.enqueueForceUpdate(this,T,"forceUpdate")};function j(){}j.prototype=P.prototype;function Z(T,I,U){this.props=T,this.context=I,this.refs=B,this.updater=U||E}var Y=Z.prototype=new j;Y.constructor=Z,M(Y,P.prototype),Y.isPureReactComponent=!0;var Q=Array.isArray,ne={H:null,A:null,T:null,S:null,V:null},K=Object.prototype.hasOwnProperty;function te(T,I,U,A,$,se){return U=se.ref,{$$typeof:i,type:T,key:I,ref:U!==void 0?U:null,props:se}}function me(T,I){return te(T.type,I,void 0,void 0,void 0,T.props)}function ge(T){return typeof T=="object"&&T!==null&&T.$$typeof===i}function he(T){var I={"=":"=0",":":"=2"};return"$"+T.replace(/[=:]/g,function(U){return I[U]})}var oe=/\/+/g;function ce(T,I){return typeof T=="object"&&T!==null&&T.key!=null?he(""+T.key):I.toString(36)}function fe(){}function re(T){switch(T.status){case"fulfilled":return T.value;case"rejected":throw T.reason;default:switch(typeof T.status=="string"?T.then(fe,fe):(T.status="pending",T.then(function(I){T.status==="pending"&&(T.status="fulfilled",T.value=I)},function(I){T.status==="pending"&&(T.status="rejected",T.reason=I)})),T.status){case"fulfilled":return T.value;case"rejected":throw T.reason}}throw T}function de(T,I,U,A,$){var se=typeof T;(se==="undefined"||se==="boolean")&&(T=null);var ae=!1;if(T===null)ae=!0;else switch(se){case"bigint":case"string":case"number":ae=!0;break;case"object":switch(T.$$typeof){case i:case t:ae=!0;break;case v:return ae=T._init,de(ae(T._payload),I,U,A,$)}}if(ae)return $=$(T),ae=A===""?"."+ce(T,0):A,Q($)?(U="",ae!=null&&(U=ae.replace(oe,"$&/")+"/"),de($,I,U,"",function(F){return F})):$!=null&&(ge($)&&($=me($,U+($.key==null||T&&T.key===$.key?"":(""+$.key).replace(oe,"$&/")+"/")+ae)),I.push($)),1;ae=0;var Xe=A===""?".":A+":";if(Q(T))for(var _e=0;_e<T.length;_e++)A=T[_e],se=Xe+ce(A,_e),ae+=de(A,I,U,se,$);else if(_e=C(T),typeof _e=="function")for(T=_e.call(T),_e=0;!(A=T.next()).done;)A=A.value,se=Xe+ce(A,_e++),ae+=de(A,I,U,se,$);else if(se==="object"){if(typeof T.then=="function")return de(re(T),I,U,A,$);throw I=String(T),Error("Objects are not valid as a React child (found: "+(I==="[object Object]"?"object with keys {"+Object.keys(T).join(", ")+"}":I)+"). If you meant to render a collection of children, use an array instead.")}return ae}function H(T,I,U){if(T==null)return T;var A=[],$=0;return de(T,A,"","",function(se){return I.call(U,se,$++)}),A}function R(T){if(T._status===-1){var I=T._result;I=I(),I.then(function(U){(T._status===0||T._status===-1)&&(T._status=1,T._result=U)},function(U){(T._status===0||T._status===-1)&&(T._status=2,T._result=U)}),T._status===-1&&(T._status=0,T._result=I)}if(T._status===1)return T._result.default;throw T._result}var N=typeof reportError=="function"?reportError:function(T){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var I=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof T=="object"&&T!==null&&typeof T.message=="string"?String(T.message):String(T),error:T});if(!window.dispatchEvent(I))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",T);return}console.error(T)};function _(){}return ke.Children={map:H,forEach:function(T,I,U){H(T,function(){I.apply(this,arguments)},U)},count:function(T){var I=0;return H(T,function(){I++}),I},toArray:function(T){return H(T,function(I){return I})||[]},only:function(T){if(!ge(T))throw Error("React.Children.only expected to receive a single React element child.");return T}},ke.Component=P,ke.Fragment=n,ke.Profiler=o,ke.PureComponent=Z,ke.StrictMode=a,ke.Suspense=x,ke.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=ne,ke.__COMPILER_RUNTIME={__proto__:null,c:function(T){return ne.H.useMemoCache(T)}},ke.cache=function(T){return function(){return T.apply(null,arguments)}},ke.cloneElement=function(T,I,U){if(T==null)throw Error("The argument must be a React element, but you passed "+T+".");var A=M({},T.props),$=T.key,se=void 0;if(I!=null)for(ae in I.ref!==void 0&&(se=void 0),I.key!==void 0&&($=""+I.key),I)!K.call(I,ae)||ae==="key"||ae==="__self"||ae==="__source"||ae==="ref"&&I.ref===void 0||(A[ae]=I[ae]);var ae=arguments.length-2;if(ae===1)A.children=U;else if(1<ae){for(var Xe=Array(ae),_e=0;_e<ae;_e++)Xe[_e]=arguments[_e+2];A.children=Xe}return te(T.type,$,void 0,void 0,se,A)},ke.createContext=function(T){return T={$$typeof:c,_currentValue:T,_currentValue2:T,_threadCount:0,Provider:null,Consumer:null},T.Provider=T,T.Consumer={$$typeof:u,_context:T},T},ke.createElement=function(T,I,U){var A,$={},se=null;if(I!=null)for(A in I.key!==void 0&&(se=""+I.key),I)K.call(I,A)&&A!=="key"&&A!=="__self"&&A!=="__source"&&($[A]=I[A]);var ae=arguments.length-2;if(ae===1)$.children=U;else if(1<ae){for(var Xe=Array(ae),_e=0;_e<ae;_e++)Xe[_e]=arguments[_e+2];$.children=Xe}if(T&&T.defaultProps)for(A in ae=T.defaultProps,ae)$[A]===void 0&&($[A]=ae[A]);return te(T,se,void 0,void 0,null,$)},ke.createRef=function(){return{current:null}},ke.forwardRef=function(T){return{$$typeof:m,render:T}},ke.isValidElement=ge,ke.lazy=function(T){return{$$typeof:v,_payload:{_status:-1,_result:T},_init:R}},ke.memo=function(T,I){return{$$typeof:f,type:T,compare:I===void 0?null:I}},ke.startTransition=function(T){var I=ne.T,U={};ne.T=U;try{var A=T(),$=ne.S;$!==null&&$(U,A),typeof A=="object"&&A!==null&&typeof A.then=="function"&&A.then(_,N)}catch(se){N(se)}finally{ne.T=I}},ke.unstable_useCacheRefresh=function(){return ne.H.useCacheRefresh()},ke.use=function(T){return ne.H.use(T)},ke.useActionState=function(T,I,U){return ne.H.useActionState(T,I,U)},ke.useCallback=function(T,I){return ne.H.useCallback(T,I)},ke.useContext=function(T){return ne.H.useContext(T)},ke.useDebugValue=function(){},ke.useDeferredValue=function(T,I){return ne.H.useDeferredValue(T,I)},ke.useEffect=function(T,I,U){var A=ne.H;if(typeof U=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return A.useEffect(T,I)},ke.useId=function(){return ne.H.useId()},ke.useImperativeHandle=function(T,I,U){return ne.H.useImperativeHandle(T,I,U)},ke.useInsertionEffect=function(T,I){return ne.H.useInsertionEffect(T,I)},ke.useLayoutEffect=function(T,I){return ne.H.useLayoutEffect(T,I)},ke.useMemo=function(T,I){return ne.H.useMemo(T,I)},ke.useOptimistic=function(T,I){return ne.H.useOptimistic(T,I)},ke.useReducer=function(T,I,U){return ne.H.useReducer(T,I,U)},ke.useRef=function(T){return ne.H.useRef(T)},ke.useState=function(T){return ne.H.useState(T)},ke.useSyncExternalStore=function(T,I,U){return ne.H.useSyncExternalStore(T,I,U)},ke.useTransition=function(){return ne.H.useTransition()},ke.version="19.1.0",ke}var cg;function sd(){return cg||(cg=1,pc.exports=zv()),pc.exports}var xe=sd();const T0=da(xe);var yc={exports:{}},Jl={},xc={exports:{}},vc={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dg;function jv(){return dg||(dg=1,function(i){function t(H,R){var N=H.length;H.push(R);e:for(;0<N;){var _=N-1>>>1,T=H[_];if(0<o(T,R))H[_]=R,H[N]=T,N=_;else break e}}function n(H){return H.length===0?null:H[0]}function a(H){if(H.length===0)return null;var R=H[0],N=H.pop();if(N!==R){H[0]=N;e:for(var _=0,T=H.length,I=T>>>1;_<I;){var U=2*(_+1)-1,A=H[U],$=U+1,se=H[$];if(0>o(A,N))$<T&&0>o(se,A)?(H[_]=se,H[$]=N,_=$):(H[_]=A,H[U]=N,_=U);else if($<T&&0>o(se,N))H[_]=se,H[$]=N,_=$;else break e}}return R}function o(H,R){var N=H.sortIndex-R.sortIndex;return N!==0?N:H.id-R.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;i.unstable_now=function(){return u.now()}}else{var c=Date,m=c.now();i.unstable_now=function(){return c.now()-m}}var x=[],f=[],v=1,b=null,C=3,E=!1,M=!1,B=!1,P=!1,j=typeof setTimeout=="function"?setTimeout:null,Z=typeof clearTimeout=="function"?clearTimeout:null,Y=typeof setImmediate<"u"?setImmediate:null;function Q(H){for(var R=n(f);R!==null;){if(R.callback===null)a(f);else if(R.startTime<=H)a(f),R.sortIndex=R.expirationTime,t(x,R);else break;R=n(f)}}function ne(H){if(B=!1,Q(H),!M)if(n(x)!==null)M=!0,K||(K=!0,ce());else{var R=n(f);R!==null&&de(ne,R.startTime-H)}}var K=!1,te=-1,me=5,ge=-1;function he(){return P?!0:!(i.unstable_now()-ge<me)}function oe(){if(P=!1,K){var H=i.unstable_now();ge=H;var R=!0;try{e:{M=!1,B&&(B=!1,Z(te),te=-1),E=!0;var N=C;try{t:{for(Q(H),b=n(x);b!==null&&!(b.expirationTime>H&&he());){var _=b.callback;if(typeof _=="function"){b.callback=null,C=b.priorityLevel;var T=_(b.expirationTime<=H);if(H=i.unstable_now(),typeof T=="function"){b.callback=T,Q(H),R=!0;break t}b===n(x)&&a(x),Q(H)}else a(x);b=n(x)}if(b!==null)R=!0;else{var I=n(f);I!==null&&de(ne,I.startTime-H),R=!1}}break e}finally{b=null,C=N,E=!1}R=void 0}}finally{R?ce():K=!1}}}var ce;if(typeof Y=="function")ce=function(){Y(oe)};else if(typeof MessageChannel<"u"){var fe=new MessageChannel,re=fe.port2;fe.port1.onmessage=oe,ce=function(){re.postMessage(null)}}else ce=function(){j(oe,0)};function de(H,R){te=j(function(){H(i.unstable_now())},R)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(H){H.callback=null},i.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):me=0<H?Math.floor(1e3/H):5},i.unstable_getCurrentPriorityLevel=function(){return C},i.unstable_next=function(H){switch(C){case 1:case 2:case 3:var R=3;break;default:R=C}var N=C;C=R;try{return H()}finally{C=N}},i.unstable_requestPaint=function(){P=!0},i.unstable_runWithPriority=function(H,R){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var N=C;C=H;try{return R()}finally{C=N}},i.unstable_scheduleCallback=function(H,R,N){var _=i.unstable_now();switch(typeof N=="object"&&N!==null?(N=N.delay,N=typeof N=="number"&&0<N?_+N:_):N=_,H){case 1:var T=-1;break;case 2:T=250;break;case 5:T=1073741823;break;case 4:T=1e4;break;default:T=5e3}return T=N+T,H={id:v++,callback:R,priorityLevel:H,startTime:N,expirationTime:T,sortIndex:-1},N>_?(H.sortIndex=N,t(f,H),n(x)===null&&H===n(f)&&(B?(Z(te),te=-1):B=!0,de(ne,N-_))):(H.sortIndex=T,t(x,H),M||E||(M=!0,K||(K=!0,ce()))),H},i.unstable_shouldYield=he,i.unstable_wrapCallback=function(H){var R=C;return function(){var N=C;C=R;try{return H.apply(this,arguments)}finally{C=N}}}}(vc)),vc}var fg;function Ov(){return fg||(fg=1,xc.exports=jv()),xc.exports}var bc={exports:{}},Lt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mg;function Pv(){if(mg)return Lt;mg=1;var i=sd();function t(x){var f="https://react.dev/errors/"+x;if(1<arguments.length){f+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)f+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+x+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var a={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(x,f,v){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:b==null?null:""+b,children:x,containerInfo:f,implementation:v}}var c=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(x,f){if(x==="font")return"";if(typeof f=="string")return f==="use-credentials"?f:""}return Lt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,Lt.createPortal=function(x,f){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!f||f.nodeType!==1&&f.nodeType!==9&&f.nodeType!==11)throw Error(t(299));return u(x,f,null,v)},Lt.flushSync=function(x){var f=c.T,v=a.p;try{if(c.T=null,a.p=2,x)return x()}finally{c.T=f,a.p=v,a.d.f()}},Lt.preconnect=function(x,f){typeof x=="string"&&(f?(f=f.crossOrigin,f=typeof f=="string"?f==="use-credentials"?f:"":void 0):f=null,a.d.C(x,f))},Lt.prefetchDNS=function(x){typeof x=="string"&&a.d.D(x)},Lt.preinit=function(x,f){if(typeof x=="string"&&f&&typeof f.as=="string"){var v=f.as,b=m(v,f.crossOrigin),C=typeof f.integrity=="string"?f.integrity:void 0,E=typeof f.fetchPriority=="string"?f.fetchPriority:void 0;v==="style"?a.d.S(x,typeof f.precedence=="string"?f.precedence:void 0,{crossOrigin:b,integrity:C,fetchPriority:E}):v==="script"&&a.d.X(x,{crossOrigin:b,integrity:C,fetchPriority:E,nonce:typeof f.nonce=="string"?f.nonce:void 0})}},Lt.preinitModule=function(x,f){if(typeof x=="string")if(typeof f=="object"&&f!==null){if(f.as==null||f.as==="script"){var v=m(f.as,f.crossOrigin);a.d.M(x,{crossOrigin:v,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0})}}else f==null&&a.d.M(x)},Lt.preload=function(x,f){if(typeof x=="string"&&typeof f=="object"&&f!==null&&typeof f.as=="string"){var v=f.as,b=m(v,f.crossOrigin);a.d.L(x,v,{crossOrigin:b,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0,type:typeof f.type=="string"?f.type:void 0,fetchPriority:typeof f.fetchPriority=="string"?f.fetchPriority:void 0,referrerPolicy:typeof f.referrerPolicy=="string"?f.referrerPolicy:void 0,imageSrcSet:typeof f.imageSrcSet=="string"?f.imageSrcSet:void 0,imageSizes:typeof f.imageSizes=="string"?f.imageSizes:void 0,media:typeof f.media=="string"?f.media:void 0})}},Lt.preloadModule=function(x,f){if(typeof x=="string")if(f){var v=m(f.as,f.crossOrigin);a.d.m(x,{as:typeof f.as=="string"&&f.as!=="script"?f.as:void 0,crossOrigin:v,integrity:typeof f.integrity=="string"?f.integrity:void 0})}else a.d.m(x)},Lt.requestFormReset=function(x){a.d.r(x)},Lt.unstable_batchedUpdates=function(x,f){return x(f)},Lt.useFormState=function(x,f,v){return c.H.useFormState(x,f,v)},Lt.useFormStatus=function(){return c.H.useHostTransitionStatus()},Lt.version="19.1.0",Lt}var hg;function Vv(){if(hg)return bc.exports;hg=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(t){console.error(t)}}return i(),bc.exports=Pv(),bc.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gg;function Hv(){if(gg)return Jl;gg=1;var i=Ov(),t=sd(),n=Vv();function a(e){var r="https://react.dev/errors/"+e;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)r+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+e+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function u(e){var r=e,l=e;if(e.alternate)for(;r.return;)r=r.return;else{e=r;do r=e,(r.flags&4098)!==0&&(l=r.return),e=r.return;while(e)}return r.tag===3?l:null}function c(e){if(e.tag===13){var r=e.memoizedState;if(r===null&&(e=e.alternate,e!==null&&(r=e.memoizedState)),r!==null)return r.dehydrated}return null}function m(e){if(u(e)!==e)throw Error(a(188))}function x(e){var r=e.alternate;if(!r){if(r=u(e),r===null)throw Error(a(188));return r!==e?null:e}for(var l=e,s=r;;){var d=l.return;if(d===null)break;var y=d.alternate;if(y===null){if(s=d.return,s!==null){l=s;continue}break}if(d.child===y.child){for(y=d.child;y;){if(y===l)return m(d),e;if(y===s)return m(d),r;y=y.sibling}throw Error(a(188))}if(l.return!==s.return)l=d,s=y;else{for(var S=!1,w=d.child;w;){if(w===l){S=!0,l=d,s=y;break}if(w===s){S=!0,s=d,l=y;break}w=w.sibling}if(!S){for(w=y.child;w;){if(w===l){S=!0,l=y,s=d;break}if(w===s){S=!0,s=y,l=d;break}w=w.sibling}if(!S)throw Error(a(189))}}if(l.alternate!==s)throw Error(a(190))}if(l.tag!==3)throw Error(a(188));return l.stateNode.current===l?e:r}function f(e){var r=e.tag;if(r===5||r===26||r===27||r===6)return e;for(e=e.child;e!==null;){if(r=f(e),r!==null)return r;e=e.sibling}return null}var v=Object.assign,b=Symbol.for("react.element"),C=Symbol.for("react.transitional.element"),E=Symbol.for("react.portal"),M=Symbol.for("react.fragment"),B=Symbol.for("react.strict_mode"),P=Symbol.for("react.profiler"),j=Symbol.for("react.provider"),Z=Symbol.for("react.consumer"),Y=Symbol.for("react.context"),Q=Symbol.for("react.forward_ref"),ne=Symbol.for("react.suspense"),K=Symbol.for("react.suspense_list"),te=Symbol.for("react.memo"),me=Symbol.for("react.lazy"),ge=Symbol.for("react.activity"),he=Symbol.for("react.memo_cache_sentinel"),oe=Symbol.iterator;function ce(e){return e===null||typeof e!="object"?null:(e=oe&&e[oe]||e["@@iterator"],typeof e=="function"?e:null)}var fe=Symbol.for("react.client.reference");function re(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===fe?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case M:return"Fragment";case P:return"Profiler";case B:return"StrictMode";case ne:return"Suspense";case K:return"SuspenseList";case ge:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case E:return"Portal";case Y:return(e.displayName||"Context")+".Provider";case Z:return(e._context.displayName||"Context")+".Consumer";case Q:var r=e.render;return e=e.displayName,e||(e=r.displayName||r.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case te:return r=e.displayName||null,r!==null?r:re(e.type)||"Memo";case me:r=e._payload,e=e._init;try{return re(e(r))}catch{}}return null}var de=Array.isArray,H=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,R=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,N={pending:!1,data:null,method:null,action:null},_=[],T=-1;function I(e){return{current:e}}function U(e){0>T||(e.current=_[T],_[T]=null,T--)}function A(e,r){T++,_[T]=e.current,e.current=r}var $=I(null),se=I(null),ae=I(null),Xe=I(null);function _e(e,r){switch(A(ae,r),A(se,e),A($,null),r.nodeType){case 9:case 11:e=(e=r.documentElement)&&(e=e.namespaceURI)?Lh(e):0;break;default:if(e=r.tagName,r=r.namespaceURI)r=Lh(r),e=Uh(r,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}U($),A($,e)}function F(){U($),U(se),U(ae)}function ve(e){e.memoizedState!==null&&A(Xe,e);var r=$.current,l=Uh(r,e.type);r!==l&&(A(se,e),A($,l))}function ye(e){se.current===e&&(U($),U(se)),Xe.current===e&&(U(Xe),Gl._currentValue=N)}var Ae=Object.prototype.hasOwnProperty,Ie=i.unstable_scheduleCallback,Ge=i.unstable_cancelCallback,Be=i.unstable_shouldYield,Je=i.unstable_requestPaint,Ve=i.unstable_now,Jt=i.unstable_getCurrentPriorityLevel,on=i.unstable_ImmediatePriority,Cn=i.unstable_UserBlockingPriority,_n=i.unstable_NormalPriority,Jr=i.unstable_LowPriority,nr=i.unstable_IdlePriority,Qr=i.log,Zr=i.unstable_setDisableYieldValue,X=null,ie=null;function Se(e){if(typeof Qr=="function"&&Zr(e),ie&&typeof ie.setStrictMode=="function")try{ie.setStrictMode(X,e)}catch{}}var Ce=Math.clz32?Math.clz32:sn,Fe=Math.log,jt=Math.LN2;function sn(e){return e>>>=0,e===0?32:31-(Fe(e)/jt|0)|0}var Rt=256,un=4194304;function ot(e){var r=e&42;if(r!==0)return r;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function ht(e,r,l){var s=e.pendingLanes;if(s===0)return 0;var d=0,y=e.suspendedLanes,S=e.pingedLanes;e=e.warmLanes;var w=s&134217727;return w!==0?(s=w&~y,s!==0?d=ot(s):(S&=w,S!==0?d=ot(S):l||(l=w&~e,l!==0&&(d=ot(l))))):(w=s&~y,w!==0?d=ot(w):S!==0?d=ot(S):l||(l=s&~e,l!==0&&(d=ot(l)))),d===0?0:r!==0&&r!==d&&(r&y)===0&&(y=d&-d,l=r&-r,y>=l||y===32&&(l&4194048)!==0)?r:d}function Ot(e,r){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&r)===0}function G(e,r){switch(e){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ue(){var e=Rt;return Rt<<=1,(Rt&4194048)===0&&(Rt=256),e}function be(){var e=un;return un<<=1,(un&62914560)===0&&(un=4194304),e}function Oe(e){for(var r=[],l=0;31>l;l++)r.push(e);return r}function Et(e,r){e.pendingLanes|=r,r!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function ct(e,r,l,s,d,y){var S=e.pendingLanes;e.pendingLanes=l,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=l,e.entangledLanes&=l,e.errorRecoveryDisabledLanes&=l,e.shellSuspendCounter=0;var w=e.entanglements,D=e.expirationTimes,O=e.hiddenUpdates;for(l=S&~l;0<l;){var J=31-Ce(l),ee=1<<J;w[J]=0,D[J]=-1;var V=O[J];if(V!==null)for(O[J]=null,J=0;J<V.length;J++){var q=V[J];q!==null&&(q.lane&=-536870913)}l&=~ee}s!==0&&ga(e,s,0),y!==0&&d===0&&e.tag!==0&&(e.suspendedLanes|=y&~(S&~r))}function ga(e,r,l){e.pendingLanes|=r,e.suspendedLanes&=~r;var s=31-Ce(r);e.entangledLanes|=r,e.entanglements[s]=e.entanglements[s]|1073741824|l&4194090}function pa(e,r){var l=e.entangledLanes|=r;for(e=e.entanglements;l;){var s=31-Ce(l),d=1<<s;d&r|e[s]&r&&(e[s]|=r),l&=~d}}function Wr(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function el(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function ya(){var e=R.p;return e!==0?e:(e=window.event,e===void 0?32:tg(e.type))}function as(e,r){var l=R.p;try{return R.p=e,r()}finally{R.p=l}}var Dn=Math.random().toString(36).slice(2),gt="__reactFiber$"+Dn,_t="__reactProps$"+Dn,ni="__reactContainer$"+Dn,tl="__reactEvents$"+Dn,os="__reactListeners$"+Dn,ss="__reactHandles$"+Dn,nl="__reactResources$"+Dn,Bi="__reactMarker$"+Dn;function xa(e){delete e[gt],delete e[_t],delete e[tl],delete e[os],delete e[ss]}function ii(e){var r=e[gt];if(r)return r;for(var l=e.parentNode;l;){if(r=l[ni]||l[gt]){if(l=r.alternate,r.child!==null||l!==null&&l.child!==null)for(e=Ph(e);e!==null;){if(l=e[gt])return l;e=Ph(e)}return r}e=l,l=e.parentNode}return null}function wt(e){if(e=e[gt]||e[ni]){var r=e.tag;if(r===5||r===6||r===13||r===26||r===27||r===3)return e}return null}function cn(e){var r=e.tag;if(r===5||r===26||r===27||r===6)return e.stateNode;throw Error(a(33))}function In(e){var r=e[nl];return r||(r=e[nl]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function xt(e){e[Bi]=!0}var ir=new Set,Li={};function kn(e,r){rr(e,r),rr(e+"Capture",r)}function rr(e,r){for(Li[e]=r,e=0;e<r.length;e++)ir.add(r[e])}var Ay=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),wd={},Ad={};function Ny(e){return Ae.call(Ad,e)?!0:Ae.call(wd,e)?!1:Ay.test(e)?Ad[e]=!0:(wd[e]=!0,!1)}function va(e,r,l){if(Ny(r))if(l===null)e.removeAttribute(r);else{switch(typeof l){case"undefined":case"function":case"symbol":e.removeAttribute(r);return;case"boolean":var s=r.toLowerCase().slice(0,5);if(s!=="data-"&&s!=="aria-"){e.removeAttribute(r);return}}e.setAttribute(r,""+l)}}function ba(e,r,l){if(l===null)e.removeAttribute(r);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(r);return}e.setAttribute(r,""+l)}}function Vn(e,r,l,s){if(s===null)e.removeAttribute(l);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(l);return}e.setAttributeNS(r,l,""+s)}}var us,Nd;function lr(e){if(us===void 0)try{throw Error()}catch(l){var r=l.stack.trim().match(/\n( *(at )?)/);us=r&&r[1]||"",Nd=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+us+e+Nd}var cs=!1;function ds(e,r){if(!e||cs)return"";cs=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var s={DetermineComponentFrameRoot:function(){try{if(r){var ee=function(){throw Error()};if(Object.defineProperty(ee.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ee,[])}catch(q){var V=q}Reflect.construct(e,[],ee)}else{try{ee.call()}catch(q){V=q}e.call(ee.prototype)}}else{try{throw Error()}catch(q){V=q}(ee=e())&&typeof ee.catch=="function"&&ee.catch(function(){})}}catch(q){if(q&&V&&typeof q.stack=="string")return[q.stack,V.stack]}return[null,null]}};s.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var d=Object.getOwnPropertyDescriptor(s.DetermineComponentFrameRoot,"name");d&&d.configurable&&Object.defineProperty(s.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var y=s.DetermineComponentFrameRoot(),S=y[0],w=y[1];if(S&&w){var D=S.split(`
`),O=w.split(`
`);for(d=s=0;s<D.length&&!D[s].includes("DetermineComponentFrameRoot");)s++;for(;d<O.length&&!O[d].includes("DetermineComponentFrameRoot");)d++;if(s===D.length||d===O.length)for(s=D.length-1,d=O.length-1;1<=s&&0<=d&&D[s]!==O[d];)d--;for(;1<=s&&0<=d;s--,d--)if(D[s]!==O[d]){if(s!==1||d!==1)do if(s--,d--,0>d||D[s]!==O[d]){var J=`
`+D[s].replace(" at new "," at ");return e.displayName&&J.includes("<anonymous>")&&(J=J.replace("<anonymous>",e.displayName)),J}while(1<=s&&0<=d);break}}}finally{cs=!1,Error.prepareStackTrace=l}return(l=e?e.displayName||e.name:"")?lr(l):""}function My(e){switch(e.tag){case 26:case 27:case 5:return lr(e.type);case 16:return lr("Lazy");case 13:return lr("Suspense");case 19:return lr("SuspenseList");case 0:case 15:return ds(e.type,!1);case 11:return ds(e.type.render,!1);case 1:return ds(e.type,!0);case 31:return lr("Activity");default:return""}}function Md(e){try{var r="";do r+=My(e),e=e.return;while(e);return r}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}function dn(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function _d(e){var r=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function _y(e){var r=_d(e)?"checked":"value",l=Object.getOwnPropertyDescriptor(e.constructor.prototype,r),s=""+e[r];if(!e.hasOwnProperty(r)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var d=l.get,y=l.set;return Object.defineProperty(e,r,{configurable:!0,get:function(){return d.call(this)},set:function(S){s=""+S,y.call(this,S)}}),Object.defineProperty(e,r,{enumerable:l.enumerable}),{getValue:function(){return s},setValue:function(S){s=""+S},stopTracking:function(){e._valueTracker=null,delete e[r]}}}}function Ta(e){e._valueTracker||(e._valueTracker=_y(e))}function Dd(e){if(!e)return!1;var r=e._valueTracker;if(!r)return!0;var l=r.getValue(),s="";return e&&(s=_d(e)?e.checked?"true":"false":e.value),e=s,e!==l?(r.setValue(e),!0):!1}function Sa(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var Dy=/[\n"\\]/g;function fn(e){return e.replace(Dy,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function fs(e,r,l,s,d,y,S,w){e.name="",S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?e.type=S:e.removeAttribute("type"),r!=null?S==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+dn(r)):e.value!==""+dn(r)&&(e.value=""+dn(r)):S!=="submit"&&S!=="reset"||e.removeAttribute("value"),r!=null?ms(e,S,dn(r)):l!=null?ms(e,S,dn(l)):s!=null&&e.removeAttribute("value"),d==null&&y!=null&&(e.defaultChecked=!!y),d!=null&&(e.checked=d&&typeof d!="function"&&typeof d!="symbol"),w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"?e.name=""+dn(w):e.removeAttribute("name")}function Id(e,r,l,s,d,y,S,w){if(y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(e.type=y),r!=null||l!=null){if(!(y!=="submit"&&y!=="reset"||r!=null))return;l=l!=null?""+dn(l):"",r=r!=null?""+dn(r):l,w||r===e.value||(e.value=r),e.defaultValue=r}s=s??d,s=typeof s!="function"&&typeof s!="symbol"&&!!s,e.checked=w?e.checked:!!s,e.defaultChecked=!!s,S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"&&(e.name=S)}function ms(e,r,l){r==="number"&&Sa(e.ownerDocument)===e||e.defaultValue===""+l||(e.defaultValue=""+l)}function ar(e,r,l,s){if(e=e.options,r){r={};for(var d=0;d<l.length;d++)r["$"+l[d]]=!0;for(l=0;l<e.length;l++)d=r.hasOwnProperty("$"+e[l].value),e[l].selected!==d&&(e[l].selected=d),d&&s&&(e[l].defaultSelected=!0)}else{for(l=""+dn(l),r=null,d=0;d<e.length;d++){if(e[d].value===l){e[d].selected=!0,s&&(e[d].defaultSelected=!0);return}r!==null||e[d].disabled||(r=e[d])}r!==null&&(r.selected=!0)}}function kd(e,r,l){if(r!=null&&(r=""+dn(r),r!==e.value&&(e.value=r),l==null)){e.defaultValue!==r&&(e.defaultValue=r);return}e.defaultValue=l!=null?""+dn(l):""}function Rd(e,r,l,s){if(r==null){if(s!=null){if(l!=null)throw Error(a(92));if(de(s)){if(1<s.length)throw Error(a(93));s=s[0]}l=s}l==null&&(l=""),r=l}l=dn(r),e.defaultValue=l,s=e.textContent,s===l&&s!==""&&s!==null&&(e.value=s)}function or(e,r){if(r){var l=e.firstChild;if(l&&l===e.lastChild&&l.nodeType===3){l.nodeValue=r;return}}e.textContent=r}var Iy=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Bd(e,r,l){var s=r.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?s?e.setProperty(r,""):r==="float"?e.cssFloat="":e[r]="":s?e.setProperty(r,l):typeof l!="number"||l===0||Iy.has(r)?r==="float"?e.cssFloat=l:e[r]=(""+l).trim():e[r]=l+"px"}function Ld(e,r,l){if(r!=null&&typeof r!="object")throw Error(a(62));if(e=e.style,l!=null){for(var s in l)!l.hasOwnProperty(s)||r!=null&&r.hasOwnProperty(s)||(s.indexOf("--")===0?e.setProperty(s,""):s==="float"?e.cssFloat="":e[s]="");for(var d in r)s=r[d],r.hasOwnProperty(d)&&l[d]!==s&&Bd(e,d,s)}else for(var y in r)r.hasOwnProperty(y)&&Bd(e,y,r[y])}function hs(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ky=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Ry=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ca(e){return Ry.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var gs=null;function ps(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var sr=null,ur=null;function Ud(e){var r=wt(e);if(r&&(e=r.stateNode)){var l=e[_t]||null;e:switch(e=r.stateNode,r.type){case"input":if(fs(e,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),r=l.name,l.type==="radio"&&r!=null){for(l=e;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+fn(""+r)+'"][type="radio"]'),r=0;r<l.length;r++){var s=l[r];if(s!==e&&s.form===e.form){var d=s[_t]||null;if(!d)throw Error(a(90));fs(s,d.value,d.defaultValue,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name)}}for(r=0;r<l.length;r++)s=l[r],s.form===e.form&&Dd(s)}break e;case"textarea":kd(e,l.value,l.defaultValue);break e;case"select":r=l.value,r!=null&&ar(e,!!l.multiple,r,!1)}}}var ys=!1;function zd(e,r,l){if(ys)return e(r,l);ys=!0;try{var s=e(r);return s}finally{if(ys=!1,(sr!==null||ur!==null)&&(so(),sr&&(r=sr,e=ur,ur=sr=null,Ud(r),e)))for(r=0;r<e.length;r++)Ud(e[r])}}function il(e,r){var l=e.stateNode;if(l===null)return null;var s=l[_t]||null;if(s===null)return null;l=s[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(e=e.type,s=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!s;break e;default:e=!1}if(e)return null;if(l&&typeof l!="function")throw Error(a(231,r,typeof l));return l}var Hn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),xs=!1;if(Hn)try{var rl={};Object.defineProperty(rl,"passive",{get:function(){xs=!0}}),window.addEventListener("test",rl,rl),window.removeEventListener("test",rl,rl)}catch{xs=!1}var ri=null,vs=null,Ea=null;function jd(){if(Ea)return Ea;var e,r=vs,l=r.length,s,d="value"in ri?ri.value:ri.textContent,y=d.length;for(e=0;e<l&&r[e]===d[e];e++);var S=l-e;for(s=1;s<=S&&r[l-s]===d[y-s];s++);return Ea=d.slice(e,1<s?1-s:void 0)}function wa(e){var r=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&r===13&&(e=13)):e=r,e===10&&(e=13),32<=e||e===13?e:0}function Aa(){return!0}function Od(){return!1}function Vt(e){function r(l,s,d,y,S){this._reactName=l,this._targetInst=d,this.type=s,this.nativeEvent=y,this.target=S,this.currentTarget=null;for(var w in e)e.hasOwnProperty(w)&&(l=e[w],this[w]=l?l(y):y[w]);return this.isDefaultPrevented=(y.defaultPrevented!=null?y.defaultPrevented:y.returnValue===!1)?Aa:Od,this.isPropagationStopped=Od,this}return v(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=Aa)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=Aa)},persist:function(){},isPersistent:Aa}),r}var Ui={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Na=Vt(Ui),ll=v({},Ui,{view:0,detail:0}),By=Vt(ll),bs,Ts,al,Ma=v({},ll,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Cs,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==al&&(al&&e.type==="mousemove"?(bs=e.screenX-al.screenX,Ts=e.screenY-al.screenY):Ts=bs=0,al=e),bs)},movementY:function(e){return"movementY"in e?e.movementY:Ts}}),Pd=Vt(Ma),Ly=v({},Ma,{dataTransfer:0}),Uy=Vt(Ly),zy=v({},ll,{relatedTarget:0}),Ss=Vt(zy),jy=v({},Ui,{animationName:0,elapsedTime:0,pseudoElement:0}),Oy=Vt(jy),Py=v({},Ui,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Vy=Vt(Py),Hy=v({},Ui,{data:0}),Vd=Vt(Hy),qy={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Gy={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Fy={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Yy(e){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(e):(e=Fy[e])?!!r[e]:!1}function Cs(){return Yy}var Ky=v({},ll,{key:function(e){if(e.key){var r=qy[e.key]||e.key;if(r!=="Unidentified")return r}return e.type==="keypress"?(e=wa(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Gy[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Cs,charCode:function(e){return e.type==="keypress"?wa(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?wa(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),$y=Vt(Ky),Xy=v({},Ma,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Hd=Vt(Xy),Jy=v({},ll,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Cs}),Qy=Vt(Jy),Zy=v({},Ui,{propertyName:0,elapsedTime:0,pseudoElement:0}),Wy=Vt(Zy),ex=v({},Ma,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),tx=Vt(ex),nx=v({},Ui,{newState:0,oldState:0}),ix=Vt(nx),rx=[9,13,27,32],Es=Hn&&"CompositionEvent"in window,ol=null;Hn&&"documentMode"in document&&(ol=document.documentMode);var lx=Hn&&"TextEvent"in window&&!ol,qd=Hn&&(!Es||ol&&8<ol&&11>=ol),Gd=" ",Fd=!1;function Yd(e,r){switch(e){case"keyup":return rx.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Kd(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var cr=!1;function ax(e,r){switch(e){case"compositionend":return Kd(r);case"keypress":return r.which!==32?null:(Fd=!0,Gd);case"textInput":return e=r.data,e===Gd&&Fd?null:e;default:return null}}function ox(e,r){if(cr)return e==="compositionend"||!Es&&Yd(e,r)?(e=jd(),Ea=vs=ri=null,cr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return qd&&r.locale!=="ko"?null:r.data;default:return null}}var sx={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function $d(e){var r=e&&e.nodeName&&e.nodeName.toLowerCase();return r==="input"?!!sx[e.type]:r==="textarea"}function Xd(e,r,l,s){sr?ur?ur.push(s):ur=[s]:sr=s,r=go(r,"onChange"),0<r.length&&(l=new Na("onChange","change",null,l,s),e.push({event:l,listeners:r}))}var sl=null,ul=null;function ux(e){Dh(e,0)}function _a(e){var r=cn(e);if(Dd(r))return e}function Jd(e,r){if(e==="change")return r}var Qd=!1;if(Hn){var ws;if(Hn){var As="oninput"in document;if(!As){var Zd=document.createElement("div");Zd.setAttribute("oninput","return;"),As=typeof Zd.oninput=="function"}ws=As}else ws=!1;Qd=ws&&(!document.documentMode||9<document.documentMode)}function Wd(){sl&&(sl.detachEvent("onpropertychange",ef),ul=sl=null)}function ef(e){if(e.propertyName==="value"&&_a(ul)){var r=[];Xd(r,ul,e,ps(e)),zd(ux,r)}}function cx(e,r,l){e==="focusin"?(Wd(),sl=r,ul=l,sl.attachEvent("onpropertychange",ef)):e==="focusout"&&Wd()}function dx(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return _a(ul)}function fx(e,r){if(e==="click")return _a(r)}function mx(e,r){if(e==="input"||e==="change")return _a(r)}function hx(e,r){return e===r&&(e!==0||1/e===1/r)||e!==e&&r!==r}var Qt=typeof Object.is=="function"?Object.is:hx;function cl(e,r){if(Qt(e,r))return!0;if(typeof e!="object"||e===null||typeof r!="object"||r===null)return!1;var l=Object.keys(e),s=Object.keys(r);if(l.length!==s.length)return!1;for(s=0;s<l.length;s++){var d=l[s];if(!Ae.call(r,d)||!Qt(e[d],r[d]))return!1}return!0}function tf(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function nf(e,r){var l=tf(e);e=0;for(var s;l;){if(l.nodeType===3){if(s=e+l.textContent.length,e<=r&&s>=r)return{node:l,offset:r-e};e=s}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=tf(l)}}function rf(e,r){return e&&r?e===r?!0:e&&e.nodeType===3?!1:r&&r.nodeType===3?rf(e,r.parentNode):"contains"in e?e.contains(r):e.compareDocumentPosition?!!(e.compareDocumentPosition(r)&16):!1:!1}function lf(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var r=Sa(e.document);r instanceof e.HTMLIFrameElement;){try{var l=typeof r.contentWindow.location.href=="string"}catch{l=!1}if(l)e=r.contentWindow;else break;r=Sa(e.document)}return r}function Ns(e){var r=e&&e.nodeName&&e.nodeName.toLowerCase();return r&&(r==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||r==="textarea"||e.contentEditable==="true")}var gx=Hn&&"documentMode"in document&&11>=document.documentMode,dr=null,Ms=null,dl=null,_s=!1;function af(e,r,l){var s=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;_s||dr==null||dr!==Sa(s)||(s=dr,"selectionStart"in s&&Ns(s)?s={start:s.selectionStart,end:s.selectionEnd}:(s=(s.ownerDocument&&s.ownerDocument.defaultView||window).getSelection(),s={anchorNode:s.anchorNode,anchorOffset:s.anchorOffset,focusNode:s.focusNode,focusOffset:s.focusOffset}),dl&&cl(dl,s)||(dl=s,s=go(Ms,"onSelect"),0<s.length&&(r=new Na("onSelect","select",null,r,l),e.push({event:r,listeners:s}),r.target=dr)))}function zi(e,r){var l={};return l[e.toLowerCase()]=r.toLowerCase(),l["Webkit"+e]="webkit"+r,l["Moz"+e]="moz"+r,l}var fr={animationend:zi("Animation","AnimationEnd"),animationiteration:zi("Animation","AnimationIteration"),animationstart:zi("Animation","AnimationStart"),transitionrun:zi("Transition","TransitionRun"),transitionstart:zi("Transition","TransitionStart"),transitioncancel:zi("Transition","TransitionCancel"),transitionend:zi("Transition","TransitionEnd")},Ds={},of={};Hn&&(of=document.createElement("div").style,"AnimationEvent"in window||(delete fr.animationend.animation,delete fr.animationiteration.animation,delete fr.animationstart.animation),"TransitionEvent"in window||delete fr.transitionend.transition);function ji(e){if(Ds[e])return Ds[e];if(!fr[e])return e;var r=fr[e],l;for(l in r)if(r.hasOwnProperty(l)&&l in of)return Ds[e]=r[l];return e}var sf=ji("animationend"),uf=ji("animationiteration"),cf=ji("animationstart"),px=ji("transitionrun"),yx=ji("transitionstart"),xx=ji("transitioncancel"),df=ji("transitionend"),ff=new Map,Is="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Is.push("scrollEnd");function En(e,r){ff.set(e,r),kn(r,[e])}var mf=new WeakMap;function mn(e,r){if(typeof e=="object"&&e!==null){var l=mf.get(e);return l!==void 0?l:(r={value:e,source:r,stack:Md(r)},mf.set(e,r),r)}return{value:e,source:r,stack:Md(r)}}var hn=[],mr=0,ks=0;function Da(){for(var e=mr,r=ks=mr=0;r<e;){var l=hn[r];hn[r++]=null;var s=hn[r];hn[r++]=null;var d=hn[r];hn[r++]=null;var y=hn[r];if(hn[r++]=null,s!==null&&d!==null){var S=s.pending;S===null?d.next=d:(d.next=S.next,S.next=d),s.pending=d}y!==0&&hf(l,d,y)}}function Ia(e,r,l,s){hn[mr++]=e,hn[mr++]=r,hn[mr++]=l,hn[mr++]=s,ks|=s,e.lanes|=s,e=e.alternate,e!==null&&(e.lanes|=s)}function Rs(e,r,l,s){return Ia(e,r,l,s),ka(e)}function hr(e,r){return Ia(e,null,null,r),ka(e)}function hf(e,r,l){e.lanes|=l;var s=e.alternate;s!==null&&(s.lanes|=l);for(var d=!1,y=e.return;y!==null;)y.childLanes|=l,s=y.alternate,s!==null&&(s.childLanes|=l),y.tag===22&&(e=y.stateNode,e===null||e._visibility&1||(d=!0)),e=y,y=y.return;return e.tag===3?(y=e.stateNode,d&&r!==null&&(d=31-Ce(l),e=y.hiddenUpdates,s=e[d],s===null?e[d]=[r]:s.push(r),r.lane=l|536870912),y):null}function ka(e){if(50<Ul)throw Ul=0,Ou=null,Error(a(185));for(var r=e.return;r!==null;)e=r,r=e.return;return e.tag===3?e.stateNode:null}var gr={};function vx(e,r,l,s){this.tag=e,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Zt(e,r,l,s){return new vx(e,r,l,s)}function Bs(e){return e=e.prototype,!(!e||!e.isReactComponent)}function qn(e,r){var l=e.alternate;return l===null?(l=Zt(e.tag,r,e.key,e.mode),l.elementType=e.elementType,l.type=e.type,l.stateNode=e.stateNode,l.alternate=e,e.alternate=l):(l.pendingProps=r,l.type=e.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=e.flags&65011712,l.childLanes=e.childLanes,l.lanes=e.lanes,l.child=e.child,l.memoizedProps=e.memoizedProps,l.memoizedState=e.memoizedState,l.updateQueue=e.updateQueue,r=e.dependencies,l.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},l.sibling=e.sibling,l.index=e.index,l.ref=e.ref,l.refCleanup=e.refCleanup,l}function gf(e,r){e.flags&=65011714;var l=e.alternate;return l===null?(e.childLanes=0,e.lanes=r,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=l.childLanes,e.lanes=l.lanes,e.child=l.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=l.memoizedProps,e.memoizedState=l.memoizedState,e.updateQueue=l.updateQueue,e.type=l.type,r=l.dependencies,e.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),e}function Ra(e,r,l,s,d,y){var S=0;if(s=e,typeof e=="function")Bs(e)&&(S=1);else if(typeof e=="string")S=Tv(e,l,$.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case ge:return e=Zt(31,l,r,d),e.elementType=ge,e.lanes=y,e;case M:return Oi(l.children,d,y,r);case B:S=8,d|=24;break;case P:return e=Zt(12,l,r,d|2),e.elementType=P,e.lanes=y,e;case ne:return e=Zt(13,l,r,d),e.elementType=ne,e.lanes=y,e;case K:return e=Zt(19,l,r,d),e.elementType=K,e.lanes=y,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case j:case Y:S=10;break e;case Z:S=9;break e;case Q:S=11;break e;case te:S=14;break e;case me:S=16,s=null;break e}S=29,l=Error(a(130,e===null?"null":typeof e,"")),s=null}return r=Zt(S,l,r,d),r.elementType=e,r.type=s,r.lanes=y,r}function Oi(e,r,l,s){return e=Zt(7,e,s,r),e.lanes=l,e}function Ls(e,r,l){return e=Zt(6,e,null,r),e.lanes=l,e}function Us(e,r,l){return r=Zt(4,e.children!==null?e.children:[],e.key,r),r.lanes=l,r.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},r}var pr=[],yr=0,Ba=null,La=0,gn=[],pn=0,Pi=null,Gn=1,Fn="";function Vi(e,r){pr[yr++]=La,pr[yr++]=Ba,Ba=e,La=r}function pf(e,r,l){gn[pn++]=Gn,gn[pn++]=Fn,gn[pn++]=Pi,Pi=e;var s=Gn;e=Fn;var d=32-Ce(s)-1;s&=~(1<<d),l+=1;var y=32-Ce(r)+d;if(30<y){var S=d-d%5;y=(s&(1<<S)-1).toString(32),s>>=S,d-=S,Gn=1<<32-Ce(r)+d|l<<d|s,Fn=y+e}else Gn=1<<y|l<<d|s,Fn=e}function zs(e){e.return!==null&&(Vi(e,1),pf(e,1,0))}function js(e){for(;e===Ba;)Ba=pr[--yr],pr[yr]=null,La=pr[--yr],pr[yr]=null;for(;e===Pi;)Pi=gn[--pn],gn[pn]=null,Fn=gn[--pn],gn[pn]=null,Gn=gn[--pn],gn[pn]=null}var Pt=null,dt=null,Ye=!1,Hi=null,Rn=!1,Os=Error(a(519));function qi(e){var r=Error(a(418,""));throw hl(mn(r,e)),Os}function yf(e){var r=e.stateNode,l=e.type,s=e.memoizedProps;switch(r[gt]=e,r[_t]=s,l){case"dialog":je("cancel",r),je("close",r);break;case"iframe":case"object":case"embed":je("load",r);break;case"video":case"audio":for(l=0;l<jl.length;l++)je(jl[l],r);break;case"source":je("error",r);break;case"img":case"image":case"link":je("error",r),je("load",r);break;case"details":je("toggle",r);break;case"input":je("invalid",r),Id(r,s.value,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name,!0),Ta(r);break;case"select":je("invalid",r);break;case"textarea":je("invalid",r),Rd(r,s.value,s.defaultValue,s.children),Ta(r)}l=s.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||r.textContent===""+l||s.suppressHydrationWarning===!0||Bh(r.textContent,l)?(s.popover!=null&&(je("beforetoggle",r),je("toggle",r)),s.onScroll!=null&&je("scroll",r),s.onScrollEnd!=null&&je("scrollend",r),s.onClick!=null&&(r.onclick=po),r=!0):r=!1,r||qi(e)}function xf(e){for(Pt=e.return;Pt;)switch(Pt.tag){case 5:case 13:Rn=!1;return;case 27:case 3:Rn=!0;return;default:Pt=Pt.return}}function fl(e){if(e!==Pt)return!1;if(!Ye)return xf(e),Ye=!0,!1;var r=e.tag,l;if((l=r!==3&&r!==27)&&((l=r===5)&&(l=e.type,l=!(l!=="form"&&l!=="button")||tc(e.type,e.memoizedProps)),l=!l),l&&dt&&qi(e),xf(e),r===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));e:{for(e=e.nextSibling,r=0;e;){if(e.nodeType===8)if(l=e.data,l==="/$"){if(r===0){dt=An(e.nextSibling);break e}r--}else l!=="$"&&l!=="$!"&&l!=="$?"||r++;e=e.nextSibling}dt=null}}else r===27?(r=dt,bi(e.type)?(e=lc,lc=null,dt=e):dt=r):dt=Pt?An(e.stateNode.nextSibling):null;return!0}function ml(){dt=Pt=null,Ye=!1}function vf(){var e=Hi;return e!==null&&(Gt===null?Gt=e:Gt.push.apply(Gt,e),Hi=null),e}function hl(e){Hi===null?Hi=[e]:Hi.push(e)}var Ps=I(null),Gi=null,Yn=null;function li(e,r,l){A(Ps,r._currentValue),r._currentValue=l}function Kn(e){e._currentValue=Ps.current,U(Ps)}function Vs(e,r,l){for(;e!==null;){var s=e.alternate;if((e.childLanes&r)!==r?(e.childLanes|=r,s!==null&&(s.childLanes|=r)):s!==null&&(s.childLanes&r)!==r&&(s.childLanes|=r),e===l)break;e=e.return}}function Hs(e,r,l,s){var d=e.child;for(d!==null&&(d.return=e);d!==null;){var y=d.dependencies;if(y!==null){var S=d.child;y=y.firstContext;e:for(;y!==null;){var w=y;y=d;for(var D=0;D<r.length;D++)if(w.context===r[D]){y.lanes|=l,w=y.alternate,w!==null&&(w.lanes|=l),Vs(y.return,l,e),s||(S=null);break e}y=w.next}}else if(d.tag===18){if(S=d.return,S===null)throw Error(a(341));S.lanes|=l,y=S.alternate,y!==null&&(y.lanes|=l),Vs(S,l,e),S=null}else S=d.child;if(S!==null)S.return=d;else for(S=d;S!==null;){if(S===e){S=null;break}if(d=S.sibling,d!==null){d.return=S.return,S=d;break}S=S.return}d=S}}function gl(e,r,l,s){e=null;for(var d=r,y=!1;d!==null;){if(!y){if((d.flags&524288)!==0)y=!0;else if((d.flags&262144)!==0)break}if(d.tag===10){var S=d.alternate;if(S===null)throw Error(a(387));if(S=S.memoizedProps,S!==null){var w=d.type;Qt(d.pendingProps.value,S.value)||(e!==null?e.push(w):e=[w])}}else if(d===Xe.current){if(S=d.alternate,S===null)throw Error(a(387));S.memoizedState.memoizedState!==d.memoizedState.memoizedState&&(e!==null?e.push(Gl):e=[Gl])}d=d.return}e!==null&&Hs(r,e,l,s),r.flags|=262144}function Ua(e){for(e=e.firstContext;e!==null;){if(!Qt(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Fi(e){Gi=e,Yn=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Bt(e){return bf(Gi,e)}function za(e,r){return Gi===null&&Fi(e),bf(e,r)}function bf(e,r){var l=r._currentValue;if(r={context:r,memoizedValue:l,next:null},Yn===null){if(e===null)throw Error(a(308));Yn=r,e.dependencies={lanes:0,firstContext:r},e.flags|=524288}else Yn=Yn.next=r;return l}var bx=typeof AbortController<"u"?AbortController:function(){var e=[],r=this.signal={aborted:!1,addEventListener:function(l,s){e.push(s)}};this.abort=function(){r.aborted=!0,e.forEach(function(l){return l()})}},Tx=i.unstable_scheduleCallback,Sx=i.unstable_NormalPriority,St={$$typeof:Y,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function qs(){return{controller:new bx,data:new Map,refCount:0}}function pl(e){e.refCount--,e.refCount===0&&Tx(Sx,function(){e.controller.abort()})}var yl=null,Gs=0,xr=0,vr=null;function Cx(e,r){if(yl===null){var l=yl=[];Gs=0,xr=Yu(),vr={status:"pending",value:void 0,then:function(s){l.push(s)}}}return Gs++,r.then(Tf,Tf),r}function Tf(){if(--Gs===0&&yl!==null){vr!==null&&(vr.status="fulfilled");var e=yl;yl=null,xr=0,vr=null;for(var r=0;r<e.length;r++)(0,e[r])()}}function Ex(e,r){var l=[],s={status:"pending",value:null,reason:null,then:function(d){l.push(d)}};return e.then(function(){s.status="fulfilled",s.value=r;for(var d=0;d<l.length;d++)(0,l[d])(r)},function(d){for(s.status="rejected",s.reason=d,d=0;d<l.length;d++)(0,l[d])(void 0)}),s}var Sf=H.S;H.S=function(e,r){typeof r=="object"&&r!==null&&typeof r.then=="function"&&Cx(e,r),Sf!==null&&Sf(e,r)};var Yi=I(null);function Fs(){var e=Yi.current;return e!==null?e:it.pooledCache}function ja(e,r){r===null?A(Yi,Yi.current):A(Yi,r.pool)}function Cf(){var e=Fs();return e===null?null:{parent:St._currentValue,pool:e}}var xl=Error(a(460)),Ef=Error(a(474)),Oa=Error(a(542)),Ys={then:function(){}};function wf(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Pa(){}function Af(e,r,l){switch(l=e[l],l===void 0?e.push(r):l!==r&&(r.then(Pa,Pa),r=l),r.status){case"fulfilled":return r.value;case"rejected":throw e=r.reason,Mf(e),e;default:if(typeof r.status=="string")r.then(Pa,Pa);else{if(e=it,e!==null&&100<e.shellSuspendCounter)throw Error(a(482));e=r,e.status="pending",e.then(function(s){if(r.status==="pending"){var d=r;d.status="fulfilled",d.value=s}},function(s){if(r.status==="pending"){var d=r;d.status="rejected",d.reason=s}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw e=r.reason,Mf(e),e}throw vl=r,xl}}var vl=null;function Nf(){if(vl===null)throw Error(a(459));var e=vl;return vl=null,e}function Mf(e){if(e===xl||e===Oa)throw Error(a(483))}var ai=!1;function Ks(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function $s(e,r){e=e.updateQueue,r.updateQueue===e&&(r.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function oi(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function si(e,r,l){var s=e.updateQueue;if(s===null)return null;if(s=s.shared,(Qe&2)!==0){var d=s.pending;return d===null?r.next=r:(r.next=d.next,d.next=r),s.pending=r,r=ka(e),hf(e,null,l),r}return Ia(e,s,r,l),ka(e)}function bl(e,r,l){if(r=r.updateQueue,r!==null&&(r=r.shared,(l&4194048)!==0)){var s=r.lanes;s&=e.pendingLanes,l|=s,r.lanes=l,pa(e,l)}}function Xs(e,r){var l=e.updateQueue,s=e.alternate;if(s!==null&&(s=s.updateQueue,l===s)){var d=null,y=null;if(l=l.firstBaseUpdate,l!==null){do{var S={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};y===null?d=y=S:y=y.next=S,l=l.next}while(l!==null);y===null?d=y=r:y=y.next=r}else d=y=r;l={baseState:s.baseState,firstBaseUpdate:d,lastBaseUpdate:y,shared:s.shared,callbacks:s.callbacks},e.updateQueue=l;return}e=l.lastBaseUpdate,e===null?l.firstBaseUpdate=r:e.next=r,l.lastBaseUpdate=r}var Js=!1;function Tl(){if(Js){var e=vr;if(e!==null)throw e}}function Sl(e,r,l,s){Js=!1;var d=e.updateQueue;ai=!1;var y=d.firstBaseUpdate,S=d.lastBaseUpdate,w=d.shared.pending;if(w!==null){d.shared.pending=null;var D=w,O=D.next;D.next=null,S===null?y=O:S.next=O,S=D;var J=e.alternate;J!==null&&(J=J.updateQueue,w=J.lastBaseUpdate,w!==S&&(w===null?J.firstBaseUpdate=O:w.next=O,J.lastBaseUpdate=D))}if(y!==null){var ee=d.baseState;S=0,J=O=D=null,w=y;do{var V=w.lane&-536870913,q=V!==w.lane;if(q?(He&V)===V:(s&V)===V){V!==0&&V===xr&&(Js=!0),J!==null&&(J=J.next={lane:0,tag:w.tag,payload:w.payload,callback:null,next:null});e:{var Ne=e,Ee=w;V=r;var tt=l;switch(Ee.tag){case 1:if(Ne=Ee.payload,typeof Ne=="function"){ee=Ne.call(tt,ee,V);break e}ee=Ne;break e;case 3:Ne.flags=Ne.flags&-65537|128;case 0:if(Ne=Ee.payload,V=typeof Ne=="function"?Ne.call(tt,ee,V):Ne,V==null)break e;ee=v({},ee,V);break e;case 2:ai=!0}}V=w.callback,V!==null&&(e.flags|=64,q&&(e.flags|=8192),q=d.callbacks,q===null?d.callbacks=[V]:q.push(V))}else q={lane:V,tag:w.tag,payload:w.payload,callback:w.callback,next:null},J===null?(O=J=q,D=ee):J=J.next=q,S|=V;if(w=w.next,w===null){if(w=d.shared.pending,w===null)break;q=w,w=q.next,q.next=null,d.lastBaseUpdate=q,d.shared.pending=null}}while(!0);J===null&&(D=ee),d.baseState=D,d.firstBaseUpdate=O,d.lastBaseUpdate=J,y===null&&(d.shared.lanes=0),pi|=S,e.lanes=S,e.memoizedState=ee}}function _f(e,r){if(typeof e!="function")throw Error(a(191,e));e.call(r)}function Df(e,r){var l=e.callbacks;if(l!==null)for(e.callbacks=null,e=0;e<l.length;e++)_f(l[e],r)}var br=I(null),Va=I(0);function If(e,r){e=ei,A(Va,e),A(br,r),ei=e|r.baseLanes}function Qs(){A(Va,ei),A(br,br.current)}function Zs(){ei=Va.current,U(br),U(Va)}var ui=0,Le=null,We=null,vt=null,Ha=!1,Tr=!1,Ki=!1,qa=0,Cl=0,Sr=null,wx=0;function pt(){throw Error(a(321))}function Ws(e,r){if(r===null)return!1;for(var l=0;l<r.length&&l<e.length;l++)if(!Qt(e[l],r[l]))return!1;return!0}function eu(e,r,l,s,d,y){return ui=y,Le=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,H.H=e===null||e.memoizedState===null?hm:gm,Ki=!1,y=l(s,d),Ki=!1,Tr&&(y=Rf(r,l,s,d)),kf(e),y}function kf(e){H.H=Xa;var r=We!==null&&We.next!==null;if(ui=0,vt=We=Le=null,Ha=!1,Cl=0,Sr=null,r)throw Error(a(300));e===null||At||(e=e.dependencies,e!==null&&Ua(e)&&(At=!0))}function Rf(e,r,l,s){Le=e;var d=0;do{if(Tr&&(Sr=null),Cl=0,Tr=!1,25<=d)throw Error(a(301));if(d+=1,vt=We=null,e.updateQueue!=null){var y=e.updateQueue;y.lastEffect=null,y.events=null,y.stores=null,y.memoCache!=null&&(y.memoCache.index=0)}H.H=kx,y=r(l,s)}while(Tr);return y}function Ax(){var e=H.H,r=e.useState()[0];return r=typeof r.then=="function"?El(r):r,e=e.useState()[0],(We!==null?We.memoizedState:null)!==e&&(Le.flags|=1024),r}function tu(){var e=qa!==0;return qa=0,e}function nu(e,r,l){r.updateQueue=e.updateQueue,r.flags&=-2053,e.lanes&=~l}function iu(e){if(Ha){for(e=e.memoizedState;e!==null;){var r=e.queue;r!==null&&(r.pending=null),e=e.next}Ha=!1}ui=0,vt=We=Le=null,Tr=!1,Cl=qa=0,Sr=null}function Ht(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return vt===null?Le.memoizedState=vt=e:vt=vt.next=e,vt}function bt(){if(We===null){var e=Le.alternate;e=e!==null?e.memoizedState:null}else e=We.next;var r=vt===null?Le.memoizedState:vt.next;if(r!==null)vt=r,We=e;else{if(e===null)throw Le.alternate===null?Error(a(467)):Error(a(310));We=e,e={memoizedState:We.memoizedState,baseState:We.baseState,baseQueue:We.baseQueue,queue:We.queue,next:null},vt===null?Le.memoizedState=vt=e:vt=vt.next=e}return vt}function ru(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function El(e){var r=Cl;return Cl+=1,Sr===null&&(Sr=[]),e=Af(Sr,e,r),r=Le,(vt===null?r.memoizedState:vt.next)===null&&(r=r.alternate,H.H=r===null||r.memoizedState===null?hm:gm),e}function Ga(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return El(e);if(e.$$typeof===Y)return Bt(e)}throw Error(a(438,String(e)))}function lu(e){var r=null,l=Le.updateQueue;if(l!==null&&(r=l.memoCache),r==null){var s=Le.alternate;s!==null&&(s=s.updateQueue,s!==null&&(s=s.memoCache,s!=null&&(r={data:s.data.map(function(d){return d.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),l===null&&(l=ru(),Le.updateQueue=l),l.memoCache=r,l=r.data[r.index],l===void 0)for(l=r.data[r.index]=Array(e),s=0;s<e;s++)l[s]=he;return r.index++,l}function $n(e,r){return typeof r=="function"?r(e):r}function Fa(e){var r=bt();return au(r,We,e)}function au(e,r,l){var s=e.queue;if(s===null)throw Error(a(311));s.lastRenderedReducer=l;var d=e.baseQueue,y=s.pending;if(y!==null){if(d!==null){var S=d.next;d.next=y.next,y.next=S}r.baseQueue=d=y,s.pending=null}if(y=e.baseState,d===null)e.memoizedState=y;else{r=d.next;var w=S=null,D=null,O=r,J=!1;do{var ee=O.lane&-536870913;if(ee!==O.lane?(He&ee)===ee:(ui&ee)===ee){var V=O.revertLane;if(V===0)D!==null&&(D=D.next={lane:0,revertLane:0,action:O.action,hasEagerState:O.hasEagerState,eagerState:O.eagerState,next:null}),ee===xr&&(J=!0);else if((ui&V)===V){O=O.next,V===xr&&(J=!0);continue}else ee={lane:0,revertLane:O.revertLane,action:O.action,hasEagerState:O.hasEagerState,eagerState:O.eagerState,next:null},D===null?(w=D=ee,S=y):D=D.next=ee,Le.lanes|=V,pi|=V;ee=O.action,Ki&&l(y,ee),y=O.hasEagerState?O.eagerState:l(y,ee)}else V={lane:ee,revertLane:O.revertLane,action:O.action,hasEagerState:O.hasEagerState,eagerState:O.eagerState,next:null},D===null?(w=D=V,S=y):D=D.next=V,Le.lanes|=ee,pi|=ee;O=O.next}while(O!==null&&O!==r);if(D===null?S=y:D.next=w,!Qt(y,e.memoizedState)&&(At=!0,J&&(l=vr,l!==null)))throw l;e.memoizedState=y,e.baseState=S,e.baseQueue=D,s.lastRenderedState=y}return d===null&&(s.lanes=0),[e.memoizedState,s.dispatch]}function ou(e){var r=bt(),l=r.queue;if(l===null)throw Error(a(311));l.lastRenderedReducer=e;var s=l.dispatch,d=l.pending,y=r.memoizedState;if(d!==null){l.pending=null;var S=d=d.next;do y=e(y,S.action),S=S.next;while(S!==d);Qt(y,r.memoizedState)||(At=!0),r.memoizedState=y,r.baseQueue===null&&(r.baseState=y),l.lastRenderedState=y}return[y,s]}function Bf(e,r,l){var s=Le,d=bt(),y=Ye;if(y){if(l===void 0)throw Error(a(407));l=l()}else l=r();var S=!Qt((We||d).memoizedState,l);S&&(d.memoizedState=l,At=!0),d=d.queue;var w=zf.bind(null,s,d,e);if(wl(2048,8,w,[e]),d.getSnapshot!==r||S||vt!==null&&vt.memoizedState.tag&1){if(s.flags|=2048,Cr(9,Ya(),Uf.bind(null,s,d,l,r),null),it===null)throw Error(a(349));y||(ui&124)!==0||Lf(s,r,l)}return l}function Lf(e,r,l){e.flags|=16384,e={getSnapshot:r,value:l},r=Le.updateQueue,r===null?(r=ru(),Le.updateQueue=r,r.stores=[e]):(l=r.stores,l===null?r.stores=[e]:l.push(e))}function Uf(e,r,l,s){r.value=l,r.getSnapshot=s,jf(r)&&Of(e)}function zf(e,r,l){return l(function(){jf(r)&&Of(e)})}function jf(e){var r=e.getSnapshot;e=e.value;try{var l=r();return!Qt(e,l)}catch{return!0}}function Of(e){var r=hr(e,2);r!==null&&rn(r,e,2)}function su(e){var r=Ht();if(typeof e=="function"){var l=e;if(e=l(),Ki){Se(!0);try{l()}finally{Se(!1)}}}return r.memoizedState=r.baseState=e,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:$n,lastRenderedState:e},r}function Pf(e,r,l,s){return e.baseState=l,au(e,We,typeof s=="function"?s:$n)}function Nx(e,r,l,s,d){if($a(e))throw Error(a(485));if(e=r.action,e!==null){var y={payload:d,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(S){y.listeners.push(S)}};H.T!==null?l(!0):y.isTransition=!1,s(y),l=r.pending,l===null?(y.next=r.pending=y,Vf(r,y)):(y.next=l.next,r.pending=l.next=y)}}function Vf(e,r){var l=r.action,s=r.payload,d=e.state;if(r.isTransition){var y=H.T,S={};H.T=S;try{var w=l(d,s),D=H.S;D!==null&&D(S,w),Hf(e,r,w)}catch(O){uu(e,r,O)}finally{H.T=y}}else try{y=l(d,s),Hf(e,r,y)}catch(O){uu(e,r,O)}}function Hf(e,r,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(s){qf(e,r,s)},function(s){return uu(e,r,s)}):qf(e,r,l)}function qf(e,r,l){r.status="fulfilled",r.value=l,Gf(r),e.state=l,r=e.pending,r!==null&&(l=r.next,l===r?e.pending=null:(l=l.next,r.next=l,Vf(e,l)))}function uu(e,r,l){var s=e.pending;if(e.pending=null,s!==null){s=s.next;do r.status="rejected",r.reason=l,Gf(r),r=r.next;while(r!==s)}e.action=null}function Gf(e){e=e.listeners;for(var r=0;r<e.length;r++)(0,e[r])()}function Ff(e,r){return r}function Yf(e,r){if(Ye){var l=it.formState;if(l!==null){e:{var s=Le;if(Ye){if(dt){t:{for(var d=dt,y=Rn;d.nodeType!==8;){if(!y){d=null;break t}if(d=An(d.nextSibling),d===null){d=null;break t}}y=d.data,d=y==="F!"||y==="F"?d:null}if(d){dt=An(d.nextSibling),s=d.data==="F!";break e}}qi(s)}s=!1}s&&(r=l[0])}}return l=Ht(),l.memoizedState=l.baseState=r,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ff,lastRenderedState:r},l.queue=s,l=dm.bind(null,Le,s),s.dispatch=l,s=su(!1),y=hu.bind(null,Le,!1,s.queue),s=Ht(),d={state:r,dispatch:null,action:e,pending:null},s.queue=d,l=Nx.bind(null,Le,d,y,l),d.dispatch=l,s.memoizedState=e,[r,l,!1]}function Kf(e){var r=bt();return $f(r,We,e)}function $f(e,r,l){if(r=au(e,r,Ff)[0],e=Fa($n)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var s=El(r)}catch(S){throw S===xl?Oa:S}else s=r;r=bt();var d=r.queue,y=d.dispatch;return l!==r.memoizedState&&(Le.flags|=2048,Cr(9,Ya(),Mx.bind(null,d,l),null)),[s,y,e]}function Mx(e,r){e.action=r}function Xf(e){var r=bt(),l=We;if(l!==null)return $f(r,l,e);bt(),r=r.memoizedState,l=bt();var s=l.queue.dispatch;return l.memoizedState=e,[r,s,!1]}function Cr(e,r,l,s){return e={tag:e,create:l,deps:s,inst:r,next:null},r=Le.updateQueue,r===null&&(r=ru(),Le.updateQueue=r),l=r.lastEffect,l===null?r.lastEffect=e.next=e:(s=l.next,l.next=e,e.next=s,r.lastEffect=e),e}function Ya(){return{destroy:void 0,resource:void 0}}function Jf(){return bt().memoizedState}function Ka(e,r,l,s){var d=Ht();s=s===void 0?null:s,Le.flags|=e,d.memoizedState=Cr(1|r,Ya(),l,s)}function wl(e,r,l,s){var d=bt();s=s===void 0?null:s;var y=d.memoizedState.inst;We!==null&&s!==null&&Ws(s,We.memoizedState.deps)?d.memoizedState=Cr(r,y,l,s):(Le.flags|=e,d.memoizedState=Cr(1|r,y,l,s))}function Qf(e,r){Ka(8390656,8,e,r)}function Zf(e,r){wl(2048,8,e,r)}function Wf(e,r){return wl(4,2,e,r)}function em(e,r){return wl(4,4,e,r)}function tm(e,r){if(typeof r=="function"){e=e();var l=r(e);return function(){typeof l=="function"?l():r(null)}}if(r!=null)return e=e(),r.current=e,function(){r.current=null}}function nm(e,r,l){l=l!=null?l.concat([e]):null,wl(4,4,tm.bind(null,r,e),l)}function cu(){}function im(e,r){var l=bt();r=r===void 0?null:r;var s=l.memoizedState;return r!==null&&Ws(r,s[1])?s[0]:(l.memoizedState=[e,r],e)}function rm(e,r){var l=bt();r=r===void 0?null:r;var s=l.memoizedState;if(r!==null&&Ws(r,s[1]))return s[0];if(s=e(),Ki){Se(!0);try{e()}finally{Se(!1)}}return l.memoizedState=[s,r],s}function du(e,r,l){return l===void 0||(ui&1073741824)!==0?e.memoizedState=r:(e.memoizedState=l,e=oh(),Le.lanes|=e,pi|=e,l)}function lm(e,r,l,s){return Qt(l,r)?l:br.current!==null?(e=du(e,l,s),Qt(e,r)||(At=!0),e):(ui&42)===0?(At=!0,e.memoizedState=l):(e=oh(),Le.lanes|=e,pi|=e,r)}function am(e,r,l,s,d){var y=R.p;R.p=y!==0&&8>y?y:8;var S=H.T,w={};H.T=w,hu(e,!1,r,l);try{var D=d(),O=H.S;if(O!==null&&O(w,D),D!==null&&typeof D=="object"&&typeof D.then=="function"){var J=Ex(D,s);Al(e,r,J,nn(e))}else Al(e,r,s,nn(e))}catch(ee){Al(e,r,{then:function(){},status:"rejected",reason:ee},nn())}finally{R.p=y,H.T=S}}function _x(){}function fu(e,r,l,s){if(e.tag!==5)throw Error(a(476));var d=om(e).queue;am(e,d,r,N,l===null?_x:function(){return sm(e),l(s)})}function om(e){var r=e.memoizedState;if(r!==null)return r;r={memoizedState:N,baseState:N,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:$n,lastRenderedState:N},next:null};var l={};return r.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:$n,lastRenderedState:l},next:null},e.memoizedState=r,e=e.alternate,e!==null&&(e.memoizedState=r),r}function sm(e){var r=om(e).next.queue;Al(e,r,{},nn())}function mu(){return Bt(Gl)}function um(){return bt().memoizedState}function cm(){return bt().memoizedState}function Dx(e){for(var r=e.return;r!==null;){switch(r.tag){case 24:case 3:var l=nn();e=oi(l);var s=si(r,e,l);s!==null&&(rn(s,r,l),bl(s,r,l)),r={cache:qs()},e.payload=r;return}r=r.return}}function Ix(e,r,l){var s=nn();l={lane:s,revertLane:0,action:l,hasEagerState:!1,eagerState:null,next:null},$a(e)?fm(r,l):(l=Rs(e,r,l,s),l!==null&&(rn(l,e,s),mm(l,r,s)))}function dm(e,r,l){var s=nn();Al(e,r,l,s)}function Al(e,r,l,s){var d={lane:s,revertLane:0,action:l,hasEagerState:!1,eagerState:null,next:null};if($a(e))fm(r,d);else{var y=e.alternate;if(e.lanes===0&&(y===null||y.lanes===0)&&(y=r.lastRenderedReducer,y!==null))try{var S=r.lastRenderedState,w=y(S,l);if(d.hasEagerState=!0,d.eagerState=w,Qt(w,S))return Ia(e,r,d,0),it===null&&Da(),!1}catch{}finally{}if(l=Rs(e,r,d,s),l!==null)return rn(l,e,s),mm(l,r,s),!0}return!1}function hu(e,r,l,s){if(s={lane:2,revertLane:Yu(),action:s,hasEagerState:!1,eagerState:null,next:null},$a(e)){if(r)throw Error(a(479))}else r=Rs(e,l,s,2),r!==null&&rn(r,e,2)}function $a(e){var r=e.alternate;return e===Le||r!==null&&r===Le}function fm(e,r){Tr=Ha=!0;var l=e.pending;l===null?r.next=r:(r.next=l.next,l.next=r),e.pending=r}function mm(e,r,l){if((l&4194048)!==0){var s=r.lanes;s&=e.pendingLanes,l|=s,r.lanes=l,pa(e,l)}}var Xa={readContext:Bt,use:Ga,useCallback:pt,useContext:pt,useEffect:pt,useImperativeHandle:pt,useLayoutEffect:pt,useInsertionEffect:pt,useMemo:pt,useReducer:pt,useRef:pt,useState:pt,useDebugValue:pt,useDeferredValue:pt,useTransition:pt,useSyncExternalStore:pt,useId:pt,useHostTransitionStatus:pt,useFormState:pt,useActionState:pt,useOptimistic:pt,useMemoCache:pt,useCacheRefresh:pt},hm={readContext:Bt,use:Ga,useCallback:function(e,r){return Ht().memoizedState=[e,r===void 0?null:r],e},useContext:Bt,useEffect:Qf,useImperativeHandle:function(e,r,l){l=l!=null?l.concat([e]):null,Ka(4194308,4,tm.bind(null,r,e),l)},useLayoutEffect:function(e,r){return Ka(4194308,4,e,r)},useInsertionEffect:function(e,r){Ka(4,2,e,r)},useMemo:function(e,r){var l=Ht();r=r===void 0?null:r;var s=e();if(Ki){Se(!0);try{e()}finally{Se(!1)}}return l.memoizedState=[s,r],s},useReducer:function(e,r,l){var s=Ht();if(l!==void 0){var d=l(r);if(Ki){Se(!0);try{l(r)}finally{Se(!1)}}}else d=r;return s.memoizedState=s.baseState=d,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:d},s.queue=e,e=e.dispatch=Ix.bind(null,Le,e),[s.memoizedState,e]},useRef:function(e){var r=Ht();return e={current:e},r.memoizedState=e},useState:function(e){e=su(e);var r=e.queue,l=dm.bind(null,Le,r);return r.dispatch=l,[e.memoizedState,l]},useDebugValue:cu,useDeferredValue:function(e,r){var l=Ht();return du(l,e,r)},useTransition:function(){var e=su(!1);return e=am.bind(null,Le,e.queue,!0,!1),Ht().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,r,l){var s=Le,d=Ht();if(Ye){if(l===void 0)throw Error(a(407));l=l()}else{if(l=r(),it===null)throw Error(a(349));(He&124)!==0||Lf(s,r,l)}d.memoizedState=l;var y={value:l,getSnapshot:r};return d.queue=y,Qf(zf.bind(null,s,y,e),[e]),s.flags|=2048,Cr(9,Ya(),Uf.bind(null,s,y,l,r),null),l},useId:function(){var e=Ht(),r=it.identifierPrefix;if(Ye){var l=Fn,s=Gn;l=(s&~(1<<32-Ce(s)-1)).toString(32)+l,r="«"+r+"R"+l,l=qa++,0<l&&(r+="H"+l.toString(32)),r+="»"}else l=wx++,r="«"+r+"r"+l.toString(32)+"»";return e.memoizedState=r},useHostTransitionStatus:mu,useFormState:Yf,useActionState:Yf,useOptimistic:function(e){var r=Ht();r.memoizedState=r.baseState=e;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=l,r=hu.bind(null,Le,!0,l),l.dispatch=r,[e,r]},useMemoCache:lu,useCacheRefresh:function(){return Ht().memoizedState=Dx.bind(null,Le)}},gm={readContext:Bt,use:Ga,useCallback:im,useContext:Bt,useEffect:Zf,useImperativeHandle:nm,useInsertionEffect:Wf,useLayoutEffect:em,useMemo:rm,useReducer:Fa,useRef:Jf,useState:function(){return Fa($n)},useDebugValue:cu,useDeferredValue:function(e,r){var l=bt();return lm(l,We.memoizedState,e,r)},useTransition:function(){var e=Fa($n)[0],r=bt().memoizedState;return[typeof e=="boolean"?e:El(e),r]},useSyncExternalStore:Bf,useId:um,useHostTransitionStatus:mu,useFormState:Kf,useActionState:Kf,useOptimistic:function(e,r){var l=bt();return Pf(l,We,e,r)},useMemoCache:lu,useCacheRefresh:cm},kx={readContext:Bt,use:Ga,useCallback:im,useContext:Bt,useEffect:Zf,useImperativeHandle:nm,useInsertionEffect:Wf,useLayoutEffect:em,useMemo:rm,useReducer:ou,useRef:Jf,useState:function(){return ou($n)},useDebugValue:cu,useDeferredValue:function(e,r){var l=bt();return We===null?du(l,e,r):lm(l,We.memoizedState,e,r)},useTransition:function(){var e=ou($n)[0],r=bt().memoizedState;return[typeof e=="boolean"?e:El(e),r]},useSyncExternalStore:Bf,useId:um,useHostTransitionStatus:mu,useFormState:Xf,useActionState:Xf,useOptimistic:function(e,r){var l=bt();return We!==null?Pf(l,We,e,r):(l.baseState=e,[e,l.queue.dispatch])},useMemoCache:lu,useCacheRefresh:cm},Er=null,Nl=0;function Ja(e){var r=Nl;return Nl+=1,Er===null&&(Er=[]),Af(Er,e,r)}function Ml(e,r){r=r.props.ref,e.ref=r!==void 0?r:null}function Qa(e,r){throw r.$$typeof===b?Error(a(525)):(e=Object.prototype.toString.call(r),Error(a(31,e==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":e)))}function pm(e){var r=e._init;return r(e._payload)}function ym(e){function r(L,k){if(e){var z=L.deletions;z===null?(L.deletions=[k],L.flags|=16):z.push(k)}}function l(L,k){if(!e)return null;for(;k!==null;)r(L,k),k=k.sibling;return null}function s(L){for(var k=new Map;L!==null;)L.key!==null?k.set(L.key,L):k.set(L.index,L),L=L.sibling;return k}function d(L,k){return L=qn(L,k),L.index=0,L.sibling=null,L}function y(L,k,z){return L.index=z,e?(z=L.alternate,z!==null?(z=z.index,z<k?(L.flags|=67108866,k):z):(L.flags|=67108866,k)):(L.flags|=1048576,k)}function S(L){return e&&L.alternate===null&&(L.flags|=67108866),L}function w(L,k,z,W){return k===null||k.tag!==6?(k=Ls(z,L.mode,W),k.return=L,k):(k=d(k,z),k.return=L,k)}function D(L,k,z,W){var pe=z.type;return pe===M?J(L,k,z.props.children,W,z.key):k!==null&&(k.elementType===pe||typeof pe=="object"&&pe!==null&&pe.$$typeof===me&&pm(pe)===k.type)?(k=d(k,z.props),Ml(k,z),k.return=L,k):(k=Ra(z.type,z.key,z.props,null,L.mode,W),Ml(k,z),k.return=L,k)}function O(L,k,z,W){return k===null||k.tag!==4||k.stateNode.containerInfo!==z.containerInfo||k.stateNode.implementation!==z.implementation?(k=Us(z,L.mode,W),k.return=L,k):(k=d(k,z.children||[]),k.return=L,k)}function J(L,k,z,W,pe){return k===null||k.tag!==7?(k=Oi(z,L.mode,W,pe),k.return=L,k):(k=d(k,z),k.return=L,k)}function ee(L,k,z){if(typeof k=="string"&&k!==""||typeof k=="number"||typeof k=="bigint")return k=Ls(""+k,L.mode,z),k.return=L,k;if(typeof k=="object"&&k!==null){switch(k.$$typeof){case C:return z=Ra(k.type,k.key,k.props,null,L.mode,z),Ml(z,k),z.return=L,z;case E:return k=Us(k,L.mode,z),k.return=L,k;case me:var W=k._init;return k=W(k._payload),ee(L,k,z)}if(de(k)||ce(k))return k=Oi(k,L.mode,z,null),k.return=L,k;if(typeof k.then=="function")return ee(L,Ja(k),z);if(k.$$typeof===Y)return ee(L,za(L,k),z);Qa(L,k)}return null}function V(L,k,z,W){var pe=k!==null?k.key:null;if(typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint")return pe!==null?null:w(L,k,""+z,W);if(typeof z=="object"&&z!==null){switch(z.$$typeof){case C:return z.key===pe?D(L,k,z,W):null;case E:return z.key===pe?O(L,k,z,W):null;case me:return pe=z._init,z=pe(z._payload),V(L,k,z,W)}if(de(z)||ce(z))return pe!==null?null:J(L,k,z,W,null);if(typeof z.then=="function")return V(L,k,Ja(z),W);if(z.$$typeof===Y)return V(L,k,za(L,z),W);Qa(L,z)}return null}function q(L,k,z,W,pe){if(typeof W=="string"&&W!==""||typeof W=="number"||typeof W=="bigint")return L=L.get(z)||null,w(k,L,""+W,pe);if(typeof W=="object"&&W!==null){switch(W.$$typeof){case C:return L=L.get(W.key===null?z:W.key)||null,D(k,L,W,pe);case E:return L=L.get(W.key===null?z:W.key)||null,O(k,L,W,pe);case me:var Ue=W._init;return W=Ue(W._payload),q(L,k,z,W,pe)}if(de(W)||ce(W))return L=L.get(z)||null,J(k,L,W,pe,null);if(typeof W.then=="function")return q(L,k,z,Ja(W),pe);if(W.$$typeof===Y)return q(L,k,z,za(k,W),pe);Qa(k,W)}return null}function Ne(L,k,z,W){for(var pe=null,Ue=null,Te=k,we=k=0,Mt=null;Te!==null&&we<z.length;we++){Te.index>we?(Mt=Te,Te=null):Mt=Te.sibling;var qe=V(L,Te,z[we],W);if(qe===null){Te===null&&(Te=Mt);break}e&&Te&&qe.alternate===null&&r(L,Te),k=y(qe,k,we),Ue===null?pe=qe:Ue.sibling=qe,Ue=qe,Te=Mt}if(we===z.length)return l(L,Te),Ye&&Vi(L,we),pe;if(Te===null){for(;we<z.length;we++)Te=ee(L,z[we],W),Te!==null&&(k=y(Te,k,we),Ue===null?pe=Te:Ue.sibling=Te,Ue=Te);return Ye&&Vi(L,we),pe}for(Te=s(Te);we<z.length;we++)Mt=q(Te,L,we,z[we],W),Mt!==null&&(e&&Mt.alternate!==null&&Te.delete(Mt.key===null?we:Mt.key),k=y(Mt,k,we),Ue===null?pe=Mt:Ue.sibling=Mt,Ue=Mt);return e&&Te.forEach(function(wi){return r(L,wi)}),Ye&&Vi(L,we),pe}function Ee(L,k,z,W){if(z==null)throw Error(a(151));for(var pe=null,Ue=null,Te=k,we=k=0,Mt=null,qe=z.next();Te!==null&&!qe.done;we++,qe=z.next()){Te.index>we?(Mt=Te,Te=null):Mt=Te.sibling;var wi=V(L,Te,qe.value,W);if(wi===null){Te===null&&(Te=Mt);break}e&&Te&&wi.alternate===null&&r(L,Te),k=y(wi,k,we),Ue===null?pe=wi:Ue.sibling=wi,Ue=wi,Te=Mt}if(qe.done)return l(L,Te),Ye&&Vi(L,we),pe;if(Te===null){for(;!qe.done;we++,qe=z.next())qe=ee(L,qe.value,W),qe!==null&&(k=y(qe,k,we),Ue===null?pe=qe:Ue.sibling=qe,Ue=qe);return Ye&&Vi(L,we),pe}for(Te=s(Te);!qe.done;we++,qe=z.next())qe=q(Te,L,we,qe.value,W),qe!==null&&(e&&qe.alternate!==null&&Te.delete(qe.key===null?we:qe.key),k=y(qe,k,we),Ue===null?pe=qe:Ue.sibling=qe,Ue=qe);return e&&Te.forEach(function(Rv){return r(L,Rv)}),Ye&&Vi(L,we),pe}function tt(L,k,z,W){if(typeof z=="object"&&z!==null&&z.type===M&&z.key===null&&(z=z.props.children),typeof z=="object"&&z!==null){switch(z.$$typeof){case C:e:{for(var pe=z.key;k!==null;){if(k.key===pe){if(pe=z.type,pe===M){if(k.tag===7){l(L,k.sibling),W=d(k,z.props.children),W.return=L,L=W;break e}}else if(k.elementType===pe||typeof pe=="object"&&pe!==null&&pe.$$typeof===me&&pm(pe)===k.type){l(L,k.sibling),W=d(k,z.props),Ml(W,z),W.return=L,L=W;break e}l(L,k);break}else r(L,k);k=k.sibling}z.type===M?(W=Oi(z.props.children,L.mode,W,z.key),W.return=L,L=W):(W=Ra(z.type,z.key,z.props,null,L.mode,W),Ml(W,z),W.return=L,L=W)}return S(L);case E:e:{for(pe=z.key;k!==null;){if(k.key===pe)if(k.tag===4&&k.stateNode.containerInfo===z.containerInfo&&k.stateNode.implementation===z.implementation){l(L,k.sibling),W=d(k,z.children||[]),W.return=L,L=W;break e}else{l(L,k);break}else r(L,k);k=k.sibling}W=Us(z,L.mode,W),W.return=L,L=W}return S(L);case me:return pe=z._init,z=pe(z._payload),tt(L,k,z,W)}if(de(z))return Ne(L,k,z,W);if(ce(z)){if(pe=ce(z),typeof pe!="function")throw Error(a(150));return z=pe.call(z),Ee(L,k,z,W)}if(typeof z.then=="function")return tt(L,k,Ja(z),W);if(z.$$typeof===Y)return tt(L,k,za(L,z),W);Qa(L,z)}return typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint"?(z=""+z,k!==null&&k.tag===6?(l(L,k.sibling),W=d(k,z),W.return=L,L=W):(l(L,k),W=Ls(z,L.mode,W),W.return=L,L=W),S(L)):l(L,k)}return function(L,k,z,W){try{Nl=0;var pe=tt(L,k,z,W);return Er=null,pe}catch(Te){if(Te===xl||Te===Oa)throw Te;var Ue=Zt(29,Te,null,L.mode);return Ue.lanes=W,Ue.return=L,Ue}finally{}}}var wr=ym(!0),xm=ym(!1),yn=I(null),Bn=null;function ci(e){var r=e.alternate;A(Ct,Ct.current&1),A(yn,e),Bn===null&&(r===null||br.current!==null||r.memoizedState!==null)&&(Bn=e)}function vm(e){if(e.tag===22){if(A(Ct,Ct.current),A(yn,e),Bn===null){var r=e.alternate;r!==null&&r.memoizedState!==null&&(Bn=e)}}else di()}function di(){A(Ct,Ct.current),A(yn,yn.current)}function Xn(e){U(yn),Bn===e&&(Bn=null),U(Ct)}var Ct=I(0);function Za(e){for(var r=e;r!==null;){if(r.tag===13){var l=r.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||rc(l)))return r}else if(r.tag===19&&r.memoizedProps.revealOrder!==void 0){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}function gu(e,r,l,s){r=e.memoizedState,l=l(s,r),l=l==null?r:v({},r,l),e.memoizedState=l,e.lanes===0&&(e.updateQueue.baseState=l)}var pu={enqueueSetState:function(e,r,l){e=e._reactInternals;var s=nn(),d=oi(s);d.payload=r,l!=null&&(d.callback=l),r=si(e,d,s),r!==null&&(rn(r,e,s),bl(r,e,s))},enqueueReplaceState:function(e,r,l){e=e._reactInternals;var s=nn(),d=oi(s);d.tag=1,d.payload=r,l!=null&&(d.callback=l),r=si(e,d,s),r!==null&&(rn(r,e,s),bl(r,e,s))},enqueueForceUpdate:function(e,r){e=e._reactInternals;var l=nn(),s=oi(l);s.tag=2,r!=null&&(s.callback=r),r=si(e,s,l),r!==null&&(rn(r,e,l),bl(r,e,l))}};function bm(e,r,l,s,d,y,S){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(s,y,S):r.prototype&&r.prototype.isPureReactComponent?!cl(l,s)||!cl(d,y):!0}function Tm(e,r,l,s){e=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(l,s),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(l,s),r.state!==e&&pu.enqueueReplaceState(r,r.state,null)}function $i(e,r){var l=r;if("ref"in r){l={};for(var s in r)s!=="ref"&&(l[s]=r[s])}if(e=e.defaultProps){l===r&&(l=v({},l));for(var d in e)l[d]===void 0&&(l[d]=e[d])}return l}var Wa=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function Sm(e){Wa(e)}function Cm(e){console.error(e)}function Em(e){Wa(e)}function eo(e,r){try{var l=e.onUncaughtError;l(r.value,{componentStack:r.stack})}catch(s){setTimeout(function(){throw s})}}function wm(e,r,l){try{var s=e.onCaughtError;s(l.value,{componentStack:l.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(d){setTimeout(function(){throw d})}}function yu(e,r,l){return l=oi(l),l.tag=3,l.payload={element:null},l.callback=function(){eo(e,r)},l}function Am(e){return e=oi(e),e.tag=3,e}function Nm(e,r,l,s){var d=l.type.getDerivedStateFromError;if(typeof d=="function"){var y=s.value;e.payload=function(){return d(y)},e.callback=function(){wm(r,l,s)}}var S=l.stateNode;S!==null&&typeof S.componentDidCatch=="function"&&(e.callback=function(){wm(r,l,s),typeof d!="function"&&(yi===null?yi=new Set([this]):yi.add(this));var w=s.stack;this.componentDidCatch(s.value,{componentStack:w!==null?w:""})})}function Rx(e,r,l,s,d){if(l.flags|=32768,s!==null&&typeof s=="object"&&typeof s.then=="function"){if(r=l.alternate,r!==null&&gl(r,l,d,!0),l=yn.current,l!==null){switch(l.tag){case 13:return Bn===null?Vu():l.alternate===null&&ft===0&&(ft=3),l.flags&=-257,l.flags|=65536,l.lanes=d,s===Ys?l.flags|=16384:(r=l.updateQueue,r===null?l.updateQueue=new Set([s]):r.add(s),qu(e,s,d)),!1;case 22:return l.flags|=65536,s===Ys?l.flags|=16384:(r=l.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([s])},l.updateQueue=r):(l=r.retryQueue,l===null?r.retryQueue=new Set([s]):l.add(s)),qu(e,s,d)),!1}throw Error(a(435,l.tag))}return qu(e,s,d),Vu(),!1}if(Ye)return r=yn.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=d,s!==Os&&(e=Error(a(422),{cause:s}),hl(mn(e,l)))):(s!==Os&&(r=Error(a(423),{cause:s}),hl(mn(r,l))),e=e.current.alternate,e.flags|=65536,d&=-d,e.lanes|=d,s=mn(s,l),d=yu(e.stateNode,s,d),Xs(e,d),ft!==4&&(ft=2)),!1;var y=Error(a(520),{cause:s});if(y=mn(y,l),Ll===null?Ll=[y]:Ll.push(y),ft!==4&&(ft=2),r===null)return!0;s=mn(s,l),l=r;do{switch(l.tag){case 3:return l.flags|=65536,e=d&-d,l.lanes|=e,e=yu(l.stateNode,s,e),Xs(l,e),!1;case 1:if(r=l.type,y=l.stateNode,(l.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(yi===null||!yi.has(y))))return l.flags|=65536,d&=-d,l.lanes|=d,d=Am(d),Nm(d,e,l,s),Xs(l,d),!1}l=l.return}while(l!==null);return!1}var Mm=Error(a(461)),At=!1;function Dt(e,r,l,s){r.child=e===null?xm(r,null,l,s):wr(r,e.child,l,s)}function _m(e,r,l,s,d){l=l.render;var y=r.ref;if("ref"in s){var S={};for(var w in s)w!=="ref"&&(S[w]=s[w])}else S=s;return Fi(r),s=eu(e,r,l,S,y,d),w=tu(),e!==null&&!At?(nu(e,r,d),Jn(e,r,d)):(Ye&&w&&zs(r),r.flags|=1,Dt(e,r,s,d),r.child)}function Dm(e,r,l,s,d){if(e===null){var y=l.type;return typeof y=="function"&&!Bs(y)&&y.defaultProps===void 0&&l.compare===null?(r.tag=15,r.type=y,Im(e,r,y,s,d)):(e=Ra(l.type,null,s,r,r.mode,d),e.ref=r.ref,e.return=r,r.child=e)}if(y=e.child,!wu(e,d)){var S=y.memoizedProps;if(l=l.compare,l=l!==null?l:cl,l(S,s)&&e.ref===r.ref)return Jn(e,r,d)}return r.flags|=1,e=qn(y,s),e.ref=r.ref,e.return=r,r.child=e}function Im(e,r,l,s,d){if(e!==null){var y=e.memoizedProps;if(cl(y,s)&&e.ref===r.ref)if(At=!1,r.pendingProps=s=y,wu(e,d))(e.flags&131072)!==0&&(At=!0);else return r.lanes=e.lanes,Jn(e,r,d)}return xu(e,r,l,s,d)}function km(e,r,l){var s=r.pendingProps,d=s.children,y=e!==null?e.memoizedState:null;if(s.mode==="hidden"){if((r.flags&128)!==0){if(s=y!==null?y.baseLanes|l:l,e!==null){for(d=r.child=e.child,y=0;d!==null;)y=y|d.lanes|d.childLanes,d=d.sibling;r.childLanes=y&~s}else r.childLanes=0,r.child=null;return Rm(e,r,s,l)}if((l&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},e!==null&&ja(r,y!==null?y.cachePool:null),y!==null?If(r,y):Qs(),vm(r);else return r.lanes=r.childLanes=536870912,Rm(e,r,y!==null?y.baseLanes|l:l,l)}else y!==null?(ja(r,y.cachePool),If(r,y),di(),r.memoizedState=null):(e!==null&&ja(r,null),Qs(),di());return Dt(e,r,d,l),r.child}function Rm(e,r,l,s){var d=Fs();return d=d===null?null:{parent:St._currentValue,pool:d},r.memoizedState={baseLanes:l,cachePool:d},e!==null&&ja(r,null),Qs(),vm(r),e!==null&&gl(e,r,s,!0),null}function to(e,r){var l=r.ref;if(l===null)e!==null&&e.ref!==null&&(r.flags|=4194816);else{if(typeof l!="function"&&typeof l!="object")throw Error(a(284));(e===null||e.ref!==l)&&(r.flags|=4194816)}}function xu(e,r,l,s,d){return Fi(r),l=eu(e,r,l,s,void 0,d),s=tu(),e!==null&&!At?(nu(e,r,d),Jn(e,r,d)):(Ye&&s&&zs(r),r.flags|=1,Dt(e,r,l,d),r.child)}function Bm(e,r,l,s,d,y){return Fi(r),r.updateQueue=null,l=Rf(r,s,l,d),kf(e),s=tu(),e!==null&&!At?(nu(e,r,y),Jn(e,r,y)):(Ye&&s&&zs(r),r.flags|=1,Dt(e,r,l,y),r.child)}function Lm(e,r,l,s,d){if(Fi(r),r.stateNode===null){var y=gr,S=l.contextType;typeof S=="object"&&S!==null&&(y=Bt(S)),y=new l(s,y),r.memoizedState=y.state!==null&&y.state!==void 0?y.state:null,y.updater=pu,r.stateNode=y,y._reactInternals=r,y=r.stateNode,y.props=s,y.state=r.memoizedState,y.refs={},Ks(r),S=l.contextType,y.context=typeof S=="object"&&S!==null?Bt(S):gr,y.state=r.memoizedState,S=l.getDerivedStateFromProps,typeof S=="function"&&(gu(r,l,S,s),y.state=r.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof y.getSnapshotBeforeUpdate=="function"||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(S=y.state,typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount(),S!==y.state&&pu.enqueueReplaceState(y,y.state,null),Sl(r,s,y,d),Tl(),y.state=r.memoizedState),typeof y.componentDidMount=="function"&&(r.flags|=4194308),s=!0}else if(e===null){y=r.stateNode;var w=r.memoizedProps,D=$i(l,w);y.props=D;var O=y.context,J=l.contextType;S=gr,typeof J=="object"&&J!==null&&(S=Bt(J));var ee=l.getDerivedStateFromProps;J=typeof ee=="function"||typeof y.getSnapshotBeforeUpdate=="function",w=r.pendingProps!==w,J||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(w||O!==S)&&Tm(r,y,s,S),ai=!1;var V=r.memoizedState;y.state=V,Sl(r,s,y,d),Tl(),O=r.memoizedState,w||V!==O||ai?(typeof ee=="function"&&(gu(r,l,ee,s),O=r.memoizedState),(D=ai||bm(r,l,D,s,V,O,S))?(J||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount()),typeof y.componentDidMount=="function"&&(r.flags|=4194308)):(typeof y.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=s,r.memoizedState=O),y.props=s,y.state=O,y.context=S,s=D):(typeof y.componentDidMount=="function"&&(r.flags|=4194308),s=!1)}else{y=r.stateNode,$s(e,r),S=r.memoizedProps,J=$i(l,S),y.props=J,ee=r.pendingProps,V=y.context,O=l.contextType,D=gr,typeof O=="object"&&O!==null&&(D=Bt(O)),w=l.getDerivedStateFromProps,(O=typeof w=="function"||typeof y.getSnapshotBeforeUpdate=="function")||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(S!==ee||V!==D)&&Tm(r,y,s,D),ai=!1,V=r.memoizedState,y.state=V,Sl(r,s,y,d),Tl();var q=r.memoizedState;S!==ee||V!==q||ai||e!==null&&e.dependencies!==null&&Ua(e.dependencies)?(typeof w=="function"&&(gu(r,l,w,s),q=r.memoizedState),(J=ai||bm(r,l,J,s,V,q,D)||e!==null&&e.dependencies!==null&&Ua(e.dependencies))?(O||typeof y.UNSAFE_componentWillUpdate!="function"&&typeof y.componentWillUpdate!="function"||(typeof y.componentWillUpdate=="function"&&y.componentWillUpdate(s,q,D),typeof y.UNSAFE_componentWillUpdate=="function"&&y.UNSAFE_componentWillUpdate(s,q,D)),typeof y.componentDidUpdate=="function"&&(r.flags|=4),typeof y.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof y.componentDidUpdate!="function"||S===e.memoizedProps&&V===e.memoizedState||(r.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||S===e.memoizedProps&&V===e.memoizedState||(r.flags|=1024),r.memoizedProps=s,r.memoizedState=q),y.props=s,y.state=q,y.context=D,s=J):(typeof y.componentDidUpdate!="function"||S===e.memoizedProps&&V===e.memoizedState||(r.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||S===e.memoizedProps&&V===e.memoizedState||(r.flags|=1024),s=!1)}return y=s,to(e,r),s=(r.flags&128)!==0,y||s?(y=r.stateNode,l=s&&typeof l.getDerivedStateFromError!="function"?null:y.render(),r.flags|=1,e!==null&&s?(r.child=wr(r,e.child,null,d),r.child=wr(r,null,l,d)):Dt(e,r,l,d),r.memoizedState=y.state,e=r.child):e=Jn(e,r,d),e}function Um(e,r,l,s){return ml(),r.flags|=256,Dt(e,r,l,s),r.child}var vu={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function bu(e){return{baseLanes:e,cachePool:Cf()}}function Tu(e,r,l){return e=e!==null?e.childLanes&~l:0,r&&(e|=xn),e}function zm(e,r,l){var s=r.pendingProps,d=!1,y=(r.flags&128)!==0,S;if((S=y)||(S=e!==null&&e.memoizedState===null?!1:(Ct.current&2)!==0),S&&(d=!0,r.flags&=-129),S=(r.flags&32)!==0,r.flags&=-33,e===null){if(Ye){if(d?ci(r):di(),Ye){var w=dt,D;if(D=w){e:{for(D=w,w=Rn;D.nodeType!==8;){if(!w){w=null;break e}if(D=An(D.nextSibling),D===null){w=null;break e}}w=D}w!==null?(r.memoizedState={dehydrated:w,treeContext:Pi!==null?{id:Gn,overflow:Fn}:null,retryLane:536870912,hydrationErrors:null},D=Zt(18,null,null,0),D.stateNode=w,D.return=r,r.child=D,Pt=r,dt=null,D=!0):D=!1}D||qi(r)}if(w=r.memoizedState,w!==null&&(w=w.dehydrated,w!==null))return rc(w)?r.lanes=32:r.lanes=536870912,null;Xn(r)}return w=s.children,s=s.fallback,d?(di(),d=r.mode,w=no({mode:"hidden",children:w},d),s=Oi(s,d,l,null),w.return=r,s.return=r,w.sibling=s,r.child=w,d=r.child,d.memoizedState=bu(l),d.childLanes=Tu(e,S,l),r.memoizedState=vu,s):(ci(r),Su(r,w))}if(D=e.memoizedState,D!==null&&(w=D.dehydrated,w!==null)){if(y)r.flags&256?(ci(r),r.flags&=-257,r=Cu(e,r,l)):r.memoizedState!==null?(di(),r.child=e.child,r.flags|=128,r=null):(di(),d=s.fallback,w=r.mode,s=no({mode:"visible",children:s.children},w),d=Oi(d,w,l,null),d.flags|=2,s.return=r,d.return=r,s.sibling=d,r.child=s,wr(r,e.child,null,l),s=r.child,s.memoizedState=bu(l),s.childLanes=Tu(e,S,l),r.memoizedState=vu,r=d);else if(ci(r),rc(w)){if(S=w.nextSibling&&w.nextSibling.dataset,S)var O=S.dgst;S=O,s=Error(a(419)),s.stack="",s.digest=S,hl({value:s,source:null,stack:null}),r=Cu(e,r,l)}else if(At||gl(e,r,l,!1),S=(l&e.childLanes)!==0,At||S){if(S=it,S!==null&&(s=l&-l,s=(s&42)!==0?1:Wr(s),s=(s&(S.suspendedLanes|l))!==0?0:s,s!==0&&s!==D.retryLane))throw D.retryLane=s,hr(e,s),rn(S,e,s),Mm;w.data==="$?"||Vu(),r=Cu(e,r,l)}else w.data==="$?"?(r.flags|=192,r.child=e.child,r=null):(e=D.treeContext,dt=An(w.nextSibling),Pt=r,Ye=!0,Hi=null,Rn=!1,e!==null&&(gn[pn++]=Gn,gn[pn++]=Fn,gn[pn++]=Pi,Gn=e.id,Fn=e.overflow,Pi=r),r=Su(r,s.children),r.flags|=4096);return r}return d?(di(),d=s.fallback,w=r.mode,D=e.child,O=D.sibling,s=qn(D,{mode:"hidden",children:s.children}),s.subtreeFlags=D.subtreeFlags&65011712,O!==null?d=qn(O,d):(d=Oi(d,w,l,null),d.flags|=2),d.return=r,s.return=r,s.sibling=d,r.child=s,s=d,d=r.child,w=e.child.memoizedState,w===null?w=bu(l):(D=w.cachePool,D!==null?(O=St._currentValue,D=D.parent!==O?{parent:O,pool:O}:D):D=Cf(),w={baseLanes:w.baseLanes|l,cachePool:D}),d.memoizedState=w,d.childLanes=Tu(e,S,l),r.memoizedState=vu,s):(ci(r),l=e.child,e=l.sibling,l=qn(l,{mode:"visible",children:s.children}),l.return=r,l.sibling=null,e!==null&&(S=r.deletions,S===null?(r.deletions=[e],r.flags|=16):S.push(e)),r.child=l,r.memoizedState=null,l)}function Su(e,r){return r=no({mode:"visible",children:r},e.mode),r.return=e,e.child=r}function no(e,r){return e=Zt(22,e,null,r),e.lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function Cu(e,r,l){return wr(r,e.child,null,l),e=Su(r,r.pendingProps.children),e.flags|=2,r.memoizedState=null,e}function jm(e,r,l){e.lanes|=r;var s=e.alternate;s!==null&&(s.lanes|=r),Vs(e.return,r,l)}function Eu(e,r,l,s,d){var y=e.memoizedState;y===null?e.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:s,tail:l,tailMode:d}:(y.isBackwards=r,y.rendering=null,y.renderingStartTime=0,y.last=s,y.tail=l,y.tailMode=d)}function Om(e,r,l){var s=r.pendingProps,d=s.revealOrder,y=s.tail;if(Dt(e,r,s.children,l),s=Ct.current,(s&2)!==0)s=s&1|2,r.flags|=128;else{if(e!==null&&(e.flags&128)!==0)e:for(e=r.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&jm(e,l,r);else if(e.tag===19)jm(e,l,r);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===r)break e;for(;e.sibling===null;){if(e.return===null||e.return===r)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}s&=1}switch(A(Ct,s),d){case"forwards":for(l=r.child,d=null;l!==null;)e=l.alternate,e!==null&&Za(e)===null&&(d=l),l=l.sibling;l=d,l===null?(d=r.child,r.child=null):(d=l.sibling,l.sibling=null),Eu(r,!1,d,l,y);break;case"backwards":for(l=null,d=r.child,r.child=null;d!==null;){if(e=d.alternate,e!==null&&Za(e)===null){r.child=d;break}e=d.sibling,d.sibling=l,l=d,d=e}Eu(r,!0,l,null,y);break;case"together":Eu(r,!1,null,null,void 0);break;default:r.memoizedState=null}return r.child}function Jn(e,r,l){if(e!==null&&(r.dependencies=e.dependencies),pi|=r.lanes,(l&r.childLanes)===0)if(e!==null){if(gl(e,r,l,!1),(l&r.childLanes)===0)return null}else return null;if(e!==null&&r.child!==e.child)throw Error(a(153));if(r.child!==null){for(e=r.child,l=qn(e,e.pendingProps),r.child=l,l.return=r;e.sibling!==null;)e=e.sibling,l=l.sibling=qn(e,e.pendingProps),l.return=r;l.sibling=null}return r.child}function wu(e,r){return(e.lanes&r)!==0?!0:(e=e.dependencies,!!(e!==null&&Ua(e)))}function Bx(e,r,l){switch(r.tag){case 3:_e(r,r.stateNode.containerInfo),li(r,St,e.memoizedState.cache),ml();break;case 27:case 5:ve(r);break;case 4:_e(r,r.stateNode.containerInfo);break;case 10:li(r,r.type,r.memoizedProps.value);break;case 13:var s=r.memoizedState;if(s!==null)return s.dehydrated!==null?(ci(r),r.flags|=128,null):(l&r.child.childLanes)!==0?zm(e,r,l):(ci(r),e=Jn(e,r,l),e!==null?e.sibling:null);ci(r);break;case 19:var d=(e.flags&128)!==0;if(s=(l&r.childLanes)!==0,s||(gl(e,r,l,!1),s=(l&r.childLanes)!==0),d){if(s)return Om(e,r,l);r.flags|=128}if(d=r.memoizedState,d!==null&&(d.rendering=null,d.tail=null,d.lastEffect=null),A(Ct,Ct.current),s)break;return null;case 22:case 23:return r.lanes=0,km(e,r,l);case 24:li(r,St,e.memoizedState.cache)}return Jn(e,r,l)}function Pm(e,r,l){if(e!==null)if(e.memoizedProps!==r.pendingProps)At=!0;else{if(!wu(e,l)&&(r.flags&128)===0)return At=!1,Bx(e,r,l);At=(e.flags&131072)!==0}else At=!1,Ye&&(r.flags&1048576)!==0&&pf(r,La,r.index);switch(r.lanes=0,r.tag){case 16:e:{e=r.pendingProps;var s=r.elementType,d=s._init;if(s=d(s._payload),r.type=s,typeof s=="function")Bs(s)?(e=$i(s,e),r.tag=1,r=Lm(null,r,s,e,l)):(r.tag=0,r=xu(null,r,s,e,l));else{if(s!=null){if(d=s.$$typeof,d===Q){r.tag=11,r=_m(null,r,s,e,l);break e}else if(d===te){r.tag=14,r=Dm(null,r,s,e,l);break e}}throw r=re(s)||s,Error(a(306,r,""))}}return r;case 0:return xu(e,r,r.type,r.pendingProps,l);case 1:return s=r.type,d=$i(s,r.pendingProps),Lm(e,r,s,d,l);case 3:e:{if(_e(r,r.stateNode.containerInfo),e===null)throw Error(a(387));s=r.pendingProps;var y=r.memoizedState;d=y.element,$s(e,r),Sl(r,s,null,l);var S=r.memoizedState;if(s=S.cache,li(r,St,s),s!==y.cache&&Hs(r,[St],l,!0),Tl(),s=S.element,y.isDehydrated)if(y={element:s,isDehydrated:!1,cache:S.cache},r.updateQueue.baseState=y,r.memoizedState=y,r.flags&256){r=Um(e,r,s,l);break e}else if(s!==d){d=mn(Error(a(424)),r),hl(d),r=Um(e,r,s,l);break e}else{switch(e=r.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(dt=An(e.firstChild),Pt=r,Ye=!0,Hi=null,Rn=!0,l=xm(r,null,s,l),r.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling}else{if(ml(),s===d){r=Jn(e,r,l);break e}Dt(e,r,s,l)}r=r.child}return r;case 26:return to(e,r),e===null?(l=Gh(r.type,null,r.pendingProps,null))?r.memoizedState=l:Ye||(l=r.type,e=r.pendingProps,s=yo(ae.current).createElement(l),s[gt]=r,s[_t]=e,kt(s,l,e),xt(s),r.stateNode=s):r.memoizedState=Gh(r.type,e.memoizedProps,r.pendingProps,e.memoizedState),null;case 27:return ve(r),e===null&&Ye&&(s=r.stateNode=Vh(r.type,r.pendingProps,ae.current),Pt=r,Rn=!0,d=dt,bi(r.type)?(lc=d,dt=An(s.firstChild)):dt=d),Dt(e,r,r.pendingProps.children,l),to(e,r),e===null&&(r.flags|=4194304),r.child;case 5:return e===null&&Ye&&((d=s=dt)&&(s=sv(s,r.type,r.pendingProps,Rn),s!==null?(r.stateNode=s,Pt=r,dt=An(s.firstChild),Rn=!1,d=!0):d=!1),d||qi(r)),ve(r),d=r.type,y=r.pendingProps,S=e!==null?e.memoizedProps:null,s=y.children,tc(d,y)?s=null:S!==null&&tc(d,S)&&(r.flags|=32),r.memoizedState!==null&&(d=eu(e,r,Ax,null,null,l),Gl._currentValue=d),to(e,r),Dt(e,r,s,l),r.child;case 6:return e===null&&Ye&&((e=l=dt)&&(l=uv(l,r.pendingProps,Rn),l!==null?(r.stateNode=l,Pt=r,dt=null,e=!0):e=!1),e||qi(r)),null;case 13:return zm(e,r,l);case 4:return _e(r,r.stateNode.containerInfo),s=r.pendingProps,e===null?r.child=wr(r,null,s,l):Dt(e,r,s,l),r.child;case 11:return _m(e,r,r.type,r.pendingProps,l);case 7:return Dt(e,r,r.pendingProps,l),r.child;case 8:return Dt(e,r,r.pendingProps.children,l),r.child;case 12:return Dt(e,r,r.pendingProps.children,l),r.child;case 10:return s=r.pendingProps,li(r,r.type,s.value),Dt(e,r,s.children,l),r.child;case 9:return d=r.type._context,s=r.pendingProps.children,Fi(r),d=Bt(d),s=s(d),r.flags|=1,Dt(e,r,s,l),r.child;case 14:return Dm(e,r,r.type,r.pendingProps,l);case 15:return Im(e,r,r.type,r.pendingProps,l);case 19:return Om(e,r,l);case 31:return s=r.pendingProps,l=r.mode,s={mode:s.mode,children:s.children},e===null?(l=no(s,l),l.ref=r.ref,r.child=l,l.return=r,r=l):(l=qn(e.child,s),l.ref=r.ref,r.child=l,l.return=r,r=l),r;case 22:return km(e,r,l);case 24:return Fi(r),s=Bt(St),e===null?(d=Fs(),d===null&&(d=it,y=qs(),d.pooledCache=y,y.refCount++,y!==null&&(d.pooledCacheLanes|=l),d=y),r.memoizedState={parent:s,cache:d},Ks(r),li(r,St,d)):((e.lanes&l)!==0&&($s(e,r),Sl(r,null,null,l),Tl()),d=e.memoizedState,y=r.memoizedState,d.parent!==s?(d={parent:s,cache:s},r.memoizedState=d,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=d),li(r,St,s)):(s=y.cache,li(r,St,s),s!==d.cache&&Hs(r,[St],l,!0))),Dt(e,r,r.pendingProps.children,l),r.child;case 29:throw r.pendingProps}throw Error(a(156,r.tag))}function Qn(e){e.flags|=4}function Vm(e,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!Xh(r)){if(r=yn.current,r!==null&&((He&4194048)===He?Bn!==null:(He&62914560)!==He&&(He&536870912)===0||r!==Bn))throw vl=Ys,Ef;e.flags|=8192}}function io(e,r){r!==null&&(e.flags|=4),e.flags&16384&&(r=e.tag!==22?be():536870912,e.lanes|=r,_r|=r)}function _l(e,r){if(!Ye)switch(e.tailMode){case"hidden":r=e.tail;for(var l=null;r!==null;)r.alternate!==null&&(l=r),r=r.sibling;l===null?e.tail=null:l.sibling=null;break;case"collapsed":l=e.tail;for(var s=null;l!==null;)l.alternate!==null&&(s=l),l=l.sibling;s===null?r||e.tail===null?e.tail=null:e.tail.sibling=null:s.sibling=null}}function ut(e){var r=e.alternate!==null&&e.alternate.child===e.child,l=0,s=0;if(r)for(var d=e.child;d!==null;)l|=d.lanes|d.childLanes,s|=d.subtreeFlags&65011712,s|=d.flags&65011712,d.return=e,d=d.sibling;else for(d=e.child;d!==null;)l|=d.lanes|d.childLanes,s|=d.subtreeFlags,s|=d.flags,d.return=e,d=d.sibling;return e.subtreeFlags|=s,e.childLanes=l,r}function Lx(e,r,l){var s=r.pendingProps;switch(js(r),r.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ut(r),null;case 1:return ut(r),null;case 3:return l=r.stateNode,s=null,e!==null&&(s=e.memoizedState.cache),r.memoizedState.cache!==s&&(r.flags|=2048),Kn(St),F(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(e===null||e.child===null)&&(fl(r)?Qn(r):e===null||e.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,vf())),ut(r),null;case 26:return l=r.memoizedState,e===null?(Qn(r),l!==null?(ut(r),Vm(r,l)):(ut(r),r.flags&=-16777217)):l?l!==e.memoizedState?(Qn(r),ut(r),Vm(r,l)):(ut(r),r.flags&=-16777217):(e.memoizedProps!==s&&Qn(r),ut(r),r.flags&=-16777217),null;case 27:ye(r),l=ae.current;var d=r.type;if(e!==null&&r.stateNode!=null)e.memoizedProps!==s&&Qn(r);else{if(!s){if(r.stateNode===null)throw Error(a(166));return ut(r),null}e=$.current,fl(r)?yf(r):(e=Vh(d,s,l),r.stateNode=e,Qn(r))}return ut(r),null;case 5:if(ye(r),l=r.type,e!==null&&r.stateNode!=null)e.memoizedProps!==s&&Qn(r);else{if(!s){if(r.stateNode===null)throw Error(a(166));return ut(r),null}if(e=$.current,fl(r))yf(r);else{switch(d=yo(ae.current),e){case 1:e=d.createElementNS("http://www.w3.org/2000/svg",l);break;case 2:e=d.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;default:switch(l){case"svg":e=d.createElementNS("http://www.w3.org/2000/svg",l);break;case"math":e=d.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;case"script":e=d.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e=typeof s.is=="string"?d.createElement("select",{is:s.is}):d.createElement("select"),s.multiple?e.multiple=!0:s.size&&(e.size=s.size);break;default:e=typeof s.is=="string"?d.createElement(l,{is:s.is}):d.createElement(l)}}e[gt]=r,e[_t]=s;e:for(d=r.child;d!==null;){if(d.tag===5||d.tag===6)e.appendChild(d.stateNode);else if(d.tag!==4&&d.tag!==27&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===r)break e;for(;d.sibling===null;){if(d.return===null||d.return===r)break e;d=d.return}d.sibling.return=d.return,d=d.sibling}r.stateNode=e;e:switch(kt(e,l,s),l){case"button":case"input":case"select":case"textarea":e=!!s.autoFocus;break e;case"img":e=!0;break e;default:e=!1}e&&Qn(r)}}return ut(r),r.flags&=-16777217,null;case 6:if(e&&r.stateNode!=null)e.memoizedProps!==s&&Qn(r);else{if(typeof s!="string"&&r.stateNode===null)throw Error(a(166));if(e=ae.current,fl(r)){if(e=r.stateNode,l=r.memoizedProps,s=null,d=Pt,d!==null)switch(d.tag){case 27:case 5:s=d.memoizedProps}e[gt]=r,e=!!(e.nodeValue===l||s!==null&&s.suppressHydrationWarning===!0||Bh(e.nodeValue,l)),e||qi(r)}else e=yo(e).createTextNode(s),e[gt]=r,r.stateNode=e}return ut(r),null;case 13:if(s=r.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(d=fl(r),s!==null&&s.dehydrated!==null){if(e===null){if(!d)throw Error(a(318));if(d=r.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(a(317));d[gt]=r}else ml(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;ut(r),d=!1}else d=vf(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=d),d=!0;if(!d)return r.flags&256?(Xn(r),r):(Xn(r),null)}if(Xn(r),(r.flags&128)!==0)return r.lanes=l,r;if(l=s!==null,e=e!==null&&e.memoizedState!==null,l){s=r.child,d=null,s.alternate!==null&&s.alternate.memoizedState!==null&&s.alternate.memoizedState.cachePool!==null&&(d=s.alternate.memoizedState.cachePool.pool);var y=null;s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(y=s.memoizedState.cachePool.pool),y!==d&&(s.flags|=2048)}return l!==e&&l&&(r.child.flags|=8192),io(r,r.updateQueue),ut(r),null;case 4:return F(),e===null&&Ju(r.stateNode.containerInfo),ut(r),null;case 10:return Kn(r.type),ut(r),null;case 19:if(U(Ct),d=r.memoizedState,d===null)return ut(r),null;if(s=(r.flags&128)!==0,y=d.rendering,y===null)if(s)_l(d,!1);else{if(ft!==0||e!==null&&(e.flags&128)!==0)for(e=r.child;e!==null;){if(y=Za(e),y!==null){for(r.flags|=128,_l(d,!1),e=y.updateQueue,r.updateQueue=e,io(r,e),r.subtreeFlags=0,e=l,l=r.child;l!==null;)gf(l,e),l=l.sibling;return A(Ct,Ct.current&1|2),r.child}e=e.sibling}d.tail!==null&&Ve()>ao&&(r.flags|=128,s=!0,_l(d,!1),r.lanes=4194304)}else{if(!s)if(e=Za(y),e!==null){if(r.flags|=128,s=!0,e=e.updateQueue,r.updateQueue=e,io(r,e),_l(d,!0),d.tail===null&&d.tailMode==="hidden"&&!y.alternate&&!Ye)return ut(r),null}else 2*Ve()-d.renderingStartTime>ao&&l!==536870912&&(r.flags|=128,s=!0,_l(d,!1),r.lanes=4194304);d.isBackwards?(y.sibling=r.child,r.child=y):(e=d.last,e!==null?e.sibling=y:r.child=y,d.last=y)}return d.tail!==null?(r=d.tail,d.rendering=r,d.tail=r.sibling,d.renderingStartTime=Ve(),r.sibling=null,e=Ct.current,A(Ct,s?e&1|2:e&1),r):(ut(r),null);case 22:case 23:return Xn(r),Zs(),s=r.memoizedState!==null,e!==null?e.memoizedState!==null!==s&&(r.flags|=8192):s&&(r.flags|=8192),s?(l&536870912)!==0&&(r.flags&128)===0&&(ut(r),r.subtreeFlags&6&&(r.flags|=8192)):ut(r),l=r.updateQueue,l!==null&&io(r,l.retryQueue),l=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(l=e.memoizedState.cachePool.pool),s=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(s=r.memoizedState.cachePool.pool),s!==l&&(r.flags|=2048),e!==null&&U(Yi),null;case 24:return l=null,e!==null&&(l=e.memoizedState.cache),r.memoizedState.cache!==l&&(r.flags|=2048),Kn(St),ut(r),null;case 25:return null;case 30:return null}throw Error(a(156,r.tag))}function Ux(e,r){switch(js(r),r.tag){case 1:return e=r.flags,e&65536?(r.flags=e&-65537|128,r):null;case 3:return Kn(St),F(),e=r.flags,(e&65536)!==0&&(e&128)===0?(r.flags=e&-65537|128,r):null;case 26:case 27:case 5:return ye(r),null;case 13:if(Xn(r),e=r.memoizedState,e!==null&&e.dehydrated!==null){if(r.alternate===null)throw Error(a(340));ml()}return e=r.flags,e&65536?(r.flags=e&-65537|128,r):null;case 19:return U(Ct),null;case 4:return F(),null;case 10:return Kn(r.type),null;case 22:case 23:return Xn(r),Zs(),e!==null&&U(Yi),e=r.flags,e&65536?(r.flags=e&-65537|128,r):null;case 24:return Kn(St),null;case 25:return null;default:return null}}function Hm(e,r){switch(js(r),r.tag){case 3:Kn(St),F();break;case 26:case 27:case 5:ye(r);break;case 4:F();break;case 13:Xn(r);break;case 19:U(Ct);break;case 10:Kn(r.type);break;case 22:case 23:Xn(r),Zs(),e!==null&&U(Yi);break;case 24:Kn(St)}}function Dl(e,r){try{var l=r.updateQueue,s=l!==null?l.lastEffect:null;if(s!==null){var d=s.next;l=d;do{if((l.tag&e)===e){s=void 0;var y=l.create,S=l.inst;s=y(),S.destroy=s}l=l.next}while(l!==d)}}catch(w){nt(r,r.return,w)}}function fi(e,r,l){try{var s=r.updateQueue,d=s!==null?s.lastEffect:null;if(d!==null){var y=d.next;s=y;do{if((s.tag&e)===e){var S=s.inst,w=S.destroy;if(w!==void 0){S.destroy=void 0,d=r;var D=l,O=w;try{O()}catch(J){nt(d,D,J)}}}s=s.next}while(s!==y)}}catch(J){nt(r,r.return,J)}}function qm(e){var r=e.updateQueue;if(r!==null){var l=e.stateNode;try{Df(r,l)}catch(s){nt(e,e.return,s)}}}function Gm(e,r,l){l.props=$i(e.type,e.memoizedProps),l.state=e.memoizedState;try{l.componentWillUnmount()}catch(s){nt(e,r,s)}}function Il(e,r){try{var l=e.ref;if(l!==null){switch(e.tag){case 26:case 27:case 5:var s=e.stateNode;break;case 30:s=e.stateNode;break;default:s=e.stateNode}typeof l=="function"?e.refCleanup=l(s):l.current=s}}catch(d){nt(e,r,d)}}function Ln(e,r){var l=e.ref,s=e.refCleanup;if(l!==null)if(typeof s=="function")try{s()}catch(d){nt(e,r,d)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(d){nt(e,r,d)}else l.current=null}function Fm(e){var r=e.type,l=e.memoizedProps,s=e.stateNode;try{e:switch(r){case"button":case"input":case"select":case"textarea":l.autoFocus&&s.focus();break e;case"img":l.src?s.src=l.src:l.srcSet&&(s.srcset=l.srcSet)}}catch(d){nt(e,e.return,d)}}function Au(e,r,l){try{var s=e.stateNode;iv(s,e.type,l,r),s[_t]=r}catch(d){nt(e,e.return,d)}}function Ym(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&bi(e.type)||e.tag===4}function Nu(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Ym(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&bi(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Mu(e,r,l){var s=e.tag;if(s===5||s===6)e=e.stateNode,r?(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l).insertBefore(e,r):(r=l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,r.appendChild(e),l=l._reactRootContainer,l!=null||r.onclick!==null||(r.onclick=po));else if(s!==4&&(s===27&&bi(e.type)&&(l=e.stateNode,r=null),e=e.child,e!==null))for(Mu(e,r,l),e=e.sibling;e!==null;)Mu(e,r,l),e=e.sibling}function ro(e,r,l){var s=e.tag;if(s===5||s===6)e=e.stateNode,r?l.insertBefore(e,r):l.appendChild(e);else if(s!==4&&(s===27&&bi(e.type)&&(l=e.stateNode),e=e.child,e!==null))for(ro(e,r,l),e=e.sibling;e!==null;)ro(e,r,l),e=e.sibling}function Km(e){var r=e.stateNode,l=e.memoizedProps;try{for(var s=e.type,d=r.attributes;d.length;)r.removeAttributeNode(d[0]);kt(r,s,l),r[gt]=e,r[_t]=l}catch(y){nt(e,e.return,y)}}var Zn=!1,yt=!1,_u=!1,$m=typeof WeakSet=="function"?WeakSet:Set,Nt=null;function zx(e,r){if(e=e.containerInfo,Wu=Co,e=lf(e),Ns(e)){if("selectionStart"in e)var l={start:e.selectionStart,end:e.selectionEnd};else e:{l=(l=e.ownerDocument)&&l.defaultView||window;var s=l.getSelection&&l.getSelection();if(s&&s.rangeCount!==0){l=s.anchorNode;var d=s.anchorOffset,y=s.focusNode;s=s.focusOffset;try{l.nodeType,y.nodeType}catch{l=null;break e}var S=0,w=-1,D=-1,O=0,J=0,ee=e,V=null;t:for(;;){for(var q;ee!==l||d!==0&&ee.nodeType!==3||(w=S+d),ee!==y||s!==0&&ee.nodeType!==3||(D=S+s),ee.nodeType===3&&(S+=ee.nodeValue.length),(q=ee.firstChild)!==null;)V=ee,ee=q;for(;;){if(ee===e)break t;if(V===l&&++O===d&&(w=S),V===y&&++J===s&&(D=S),(q=ee.nextSibling)!==null)break;ee=V,V=ee.parentNode}ee=q}l=w===-1||D===-1?null:{start:w,end:D}}else l=null}l=l||{start:0,end:0}}else l=null;for(ec={focusedElem:e,selectionRange:l},Co=!1,Nt=r;Nt!==null;)if(r=Nt,e=r.child,(r.subtreeFlags&1024)!==0&&e!==null)e.return=r,Nt=e;else for(;Nt!==null;){switch(r=Nt,y=r.alternate,e=r.flags,r.tag){case 0:break;case 11:case 15:break;case 1:if((e&1024)!==0&&y!==null){e=void 0,l=r,d=y.memoizedProps,y=y.memoizedState,s=l.stateNode;try{var Ne=$i(l.type,d,l.elementType===l.type);e=s.getSnapshotBeforeUpdate(Ne,y),s.__reactInternalSnapshotBeforeUpdate=e}catch(Ee){nt(l,l.return,Ee)}}break;case 3:if((e&1024)!==0){if(e=r.stateNode.containerInfo,l=e.nodeType,l===9)ic(e);else if(l===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":ic(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(a(163))}if(e=r.sibling,e!==null){e.return=r.return,Nt=e;break}Nt=r.return}}function Xm(e,r,l){var s=l.flags;switch(l.tag){case 0:case 11:case 15:mi(e,l),s&4&&Dl(5,l);break;case 1:if(mi(e,l),s&4)if(e=l.stateNode,r===null)try{e.componentDidMount()}catch(S){nt(l,l.return,S)}else{var d=$i(l.type,r.memoizedProps);r=r.memoizedState;try{e.componentDidUpdate(d,r,e.__reactInternalSnapshotBeforeUpdate)}catch(S){nt(l,l.return,S)}}s&64&&qm(l),s&512&&Il(l,l.return);break;case 3:if(mi(e,l),s&64&&(e=l.updateQueue,e!==null)){if(r=null,l.child!==null)switch(l.child.tag){case 27:case 5:r=l.child.stateNode;break;case 1:r=l.child.stateNode}try{Df(e,r)}catch(S){nt(l,l.return,S)}}break;case 27:r===null&&s&4&&Km(l);case 26:case 5:mi(e,l),r===null&&s&4&&Fm(l),s&512&&Il(l,l.return);break;case 12:mi(e,l);break;case 13:mi(e,l),s&4&&Zm(e,l),s&64&&(e=l.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(l=Yx.bind(null,l),cv(e,l))));break;case 22:if(s=l.memoizedState!==null||Zn,!s){r=r!==null&&r.memoizedState!==null||yt,d=Zn;var y=yt;Zn=s,(yt=r)&&!y?hi(e,l,(l.subtreeFlags&8772)!==0):mi(e,l),Zn=d,yt=y}break;case 30:break;default:mi(e,l)}}function Jm(e){var r=e.alternate;r!==null&&(e.alternate=null,Jm(r)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(r=e.stateNode,r!==null&&xa(r)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var st=null,qt=!1;function Wn(e,r,l){for(l=l.child;l!==null;)Qm(e,r,l),l=l.sibling}function Qm(e,r,l){if(ie&&typeof ie.onCommitFiberUnmount=="function")try{ie.onCommitFiberUnmount(X,l)}catch{}switch(l.tag){case 26:yt||Ln(l,r),Wn(e,r,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:yt||Ln(l,r);var s=st,d=qt;bi(l.type)&&(st=l.stateNode,qt=!1),Wn(e,r,l),Pl(l.stateNode),st=s,qt=d;break;case 5:yt||Ln(l,r);case 6:if(s=st,d=qt,st=null,Wn(e,r,l),st=s,qt=d,st!==null)if(qt)try{(st.nodeType===9?st.body:st.nodeName==="HTML"?st.ownerDocument.body:st).removeChild(l.stateNode)}catch(y){nt(l,r,y)}else try{st.removeChild(l.stateNode)}catch(y){nt(l,r,y)}break;case 18:st!==null&&(qt?(e=st,Oh(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,l.stateNode),$l(e)):Oh(st,l.stateNode));break;case 4:s=st,d=qt,st=l.stateNode.containerInfo,qt=!0,Wn(e,r,l),st=s,qt=d;break;case 0:case 11:case 14:case 15:yt||fi(2,l,r),yt||fi(4,l,r),Wn(e,r,l);break;case 1:yt||(Ln(l,r),s=l.stateNode,typeof s.componentWillUnmount=="function"&&Gm(l,r,s)),Wn(e,r,l);break;case 21:Wn(e,r,l);break;case 22:yt=(s=yt)||l.memoizedState!==null,Wn(e,r,l),yt=s;break;default:Wn(e,r,l)}}function Zm(e,r){if(r.memoizedState===null&&(e=r.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{$l(e)}catch(l){nt(r,r.return,l)}}function jx(e){switch(e.tag){case 13:case 19:var r=e.stateNode;return r===null&&(r=e.stateNode=new $m),r;case 22:return e=e.stateNode,r=e._retryCache,r===null&&(r=e._retryCache=new $m),r;default:throw Error(a(435,e.tag))}}function Du(e,r){var l=jx(e);r.forEach(function(s){var d=Kx.bind(null,e,s);l.has(s)||(l.add(s),s.then(d,d))})}function Wt(e,r){var l=r.deletions;if(l!==null)for(var s=0;s<l.length;s++){var d=l[s],y=e,S=r,w=S;e:for(;w!==null;){switch(w.tag){case 27:if(bi(w.type)){st=w.stateNode,qt=!1;break e}break;case 5:st=w.stateNode,qt=!1;break e;case 3:case 4:st=w.stateNode.containerInfo,qt=!0;break e}w=w.return}if(st===null)throw Error(a(160));Qm(y,S,d),st=null,qt=!1,y=d.alternate,y!==null&&(y.return=null),d.return=null}if(r.subtreeFlags&13878)for(r=r.child;r!==null;)Wm(r,e),r=r.sibling}var wn=null;function Wm(e,r){var l=e.alternate,s=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Wt(r,e),en(e),s&4&&(fi(3,e,e.return),Dl(3,e),fi(5,e,e.return));break;case 1:Wt(r,e),en(e),s&512&&(yt||l===null||Ln(l,l.return)),s&64&&Zn&&(e=e.updateQueue,e!==null&&(s=e.callbacks,s!==null&&(l=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=l===null?s:l.concat(s))));break;case 26:var d=wn;if(Wt(r,e),en(e),s&512&&(yt||l===null||Ln(l,l.return)),s&4){var y=l!==null?l.memoizedState:null;if(s=e.memoizedState,l===null)if(s===null)if(e.stateNode===null){e:{s=e.type,l=e.memoizedProps,d=d.ownerDocument||d;t:switch(s){case"title":y=d.getElementsByTagName("title")[0],(!y||y[Bi]||y[gt]||y.namespaceURI==="http://www.w3.org/2000/svg"||y.hasAttribute("itemprop"))&&(y=d.createElement(s),d.head.insertBefore(y,d.querySelector("head > title"))),kt(y,s,l),y[gt]=e,xt(y),s=y;break e;case"link":var S=Kh("link","href",d).get(s+(l.href||""));if(S){for(var w=0;w<S.length;w++)if(y=S[w],y.getAttribute("href")===(l.href==null||l.href===""?null:l.href)&&y.getAttribute("rel")===(l.rel==null?null:l.rel)&&y.getAttribute("title")===(l.title==null?null:l.title)&&y.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){S.splice(w,1);break t}}y=d.createElement(s),kt(y,s,l),d.head.appendChild(y);break;case"meta":if(S=Kh("meta","content",d).get(s+(l.content||""))){for(w=0;w<S.length;w++)if(y=S[w],y.getAttribute("content")===(l.content==null?null:""+l.content)&&y.getAttribute("name")===(l.name==null?null:l.name)&&y.getAttribute("property")===(l.property==null?null:l.property)&&y.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&y.getAttribute("charset")===(l.charSet==null?null:l.charSet)){S.splice(w,1);break t}}y=d.createElement(s),kt(y,s,l),d.head.appendChild(y);break;default:throw Error(a(468,s))}y[gt]=e,xt(y),s=y}e.stateNode=s}else $h(d,e.type,e.stateNode);else e.stateNode=Yh(d,s,e.memoizedProps);else y!==s?(y===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):y.count--,s===null?$h(d,e.type,e.stateNode):Yh(d,s,e.memoizedProps)):s===null&&e.stateNode!==null&&Au(e,e.memoizedProps,l.memoizedProps)}break;case 27:Wt(r,e),en(e),s&512&&(yt||l===null||Ln(l,l.return)),l!==null&&s&4&&Au(e,e.memoizedProps,l.memoizedProps);break;case 5:if(Wt(r,e),en(e),s&512&&(yt||l===null||Ln(l,l.return)),e.flags&32){d=e.stateNode;try{or(d,"")}catch(q){nt(e,e.return,q)}}s&4&&e.stateNode!=null&&(d=e.memoizedProps,Au(e,d,l!==null?l.memoizedProps:d)),s&1024&&(_u=!0);break;case 6:if(Wt(r,e),en(e),s&4){if(e.stateNode===null)throw Error(a(162));s=e.memoizedProps,l=e.stateNode;try{l.nodeValue=s}catch(q){nt(e,e.return,q)}}break;case 3:if(bo=null,d=wn,wn=xo(r.containerInfo),Wt(r,e),wn=d,en(e),s&4&&l!==null&&l.memoizedState.isDehydrated)try{$l(r.containerInfo)}catch(q){nt(e,e.return,q)}_u&&(_u=!1,eh(e));break;case 4:s=wn,wn=xo(e.stateNode.containerInfo),Wt(r,e),en(e),wn=s;break;case 12:Wt(r,e),en(e);break;case 13:Wt(r,e),en(e),e.child.flags&8192&&e.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(Uu=Ve()),s&4&&(s=e.updateQueue,s!==null&&(e.updateQueue=null,Du(e,s)));break;case 22:d=e.memoizedState!==null;var D=l!==null&&l.memoizedState!==null,O=Zn,J=yt;if(Zn=O||d,yt=J||D,Wt(r,e),yt=J,Zn=O,en(e),s&8192)e:for(r=e.stateNode,r._visibility=d?r._visibility&-2:r._visibility|1,d&&(l===null||D||Zn||yt||Xi(e)),l=null,r=e;;){if(r.tag===5||r.tag===26){if(l===null){D=l=r;try{if(y=D.stateNode,d)S=y.style,typeof S.setProperty=="function"?S.setProperty("display","none","important"):S.display="none";else{w=D.stateNode;var ee=D.memoizedProps.style,V=ee!=null&&ee.hasOwnProperty("display")?ee.display:null;w.style.display=V==null||typeof V=="boolean"?"":(""+V).trim()}}catch(q){nt(D,D.return,q)}}}else if(r.tag===6){if(l===null){D=r;try{D.stateNode.nodeValue=d?"":D.memoizedProps}catch(q){nt(D,D.return,q)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===e)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break e;for(;r.sibling===null;){if(r.return===null||r.return===e)break e;l===r&&(l=null),r=r.return}l===r&&(l=null),r.sibling.return=r.return,r=r.sibling}s&4&&(s=e.updateQueue,s!==null&&(l=s.retryQueue,l!==null&&(s.retryQueue=null,Du(e,l))));break;case 19:Wt(r,e),en(e),s&4&&(s=e.updateQueue,s!==null&&(e.updateQueue=null,Du(e,s)));break;case 30:break;case 21:break;default:Wt(r,e),en(e)}}function en(e){var r=e.flags;if(r&2){try{for(var l,s=e.return;s!==null;){if(Ym(s)){l=s;break}s=s.return}if(l==null)throw Error(a(160));switch(l.tag){case 27:var d=l.stateNode,y=Nu(e);ro(e,y,d);break;case 5:var S=l.stateNode;l.flags&32&&(or(S,""),l.flags&=-33);var w=Nu(e);ro(e,w,S);break;case 3:case 4:var D=l.stateNode.containerInfo,O=Nu(e);Mu(e,O,D);break;default:throw Error(a(161))}}catch(J){nt(e,e.return,J)}e.flags&=-3}r&4096&&(e.flags&=-4097)}function eh(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var r=e;eh(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),e=e.sibling}}function mi(e,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)Xm(e,r.alternate,r),r=r.sibling}function Xi(e){for(e=e.child;e!==null;){var r=e;switch(r.tag){case 0:case 11:case 14:case 15:fi(4,r,r.return),Xi(r);break;case 1:Ln(r,r.return);var l=r.stateNode;typeof l.componentWillUnmount=="function"&&Gm(r,r.return,l),Xi(r);break;case 27:Pl(r.stateNode);case 26:case 5:Ln(r,r.return),Xi(r);break;case 22:r.memoizedState===null&&Xi(r);break;case 30:Xi(r);break;default:Xi(r)}e=e.sibling}}function hi(e,r,l){for(l=l&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var s=r.alternate,d=e,y=r,S=y.flags;switch(y.tag){case 0:case 11:case 15:hi(d,y,l),Dl(4,y);break;case 1:if(hi(d,y,l),s=y,d=s.stateNode,typeof d.componentDidMount=="function")try{d.componentDidMount()}catch(O){nt(s,s.return,O)}if(s=y,d=s.updateQueue,d!==null){var w=s.stateNode;try{var D=d.shared.hiddenCallbacks;if(D!==null)for(d.shared.hiddenCallbacks=null,d=0;d<D.length;d++)_f(D[d],w)}catch(O){nt(s,s.return,O)}}l&&S&64&&qm(y),Il(y,y.return);break;case 27:Km(y);case 26:case 5:hi(d,y,l),l&&s===null&&S&4&&Fm(y),Il(y,y.return);break;case 12:hi(d,y,l);break;case 13:hi(d,y,l),l&&S&4&&Zm(d,y);break;case 22:y.memoizedState===null&&hi(d,y,l),Il(y,y.return);break;case 30:break;default:hi(d,y,l)}r=r.sibling}}function Iu(e,r){var l=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(l=e.memoizedState.cachePool.pool),e=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(e=r.memoizedState.cachePool.pool),e!==l&&(e!=null&&e.refCount++,l!=null&&pl(l))}function ku(e,r){e=null,r.alternate!==null&&(e=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==e&&(r.refCount++,e!=null&&pl(e))}function Un(e,r,l,s){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)th(e,r,l,s),r=r.sibling}function th(e,r,l,s){var d=r.flags;switch(r.tag){case 0:case 11:case 15:Un(e,r,l,s),d&2048&&Dl(9,r);break;case 1:Un(e,r,l,s);break;case 3:Un(e,r,l,s),d&2048&&(e=null,r.alternate!==null&&(e=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==e&&(r.refCount++,e!=null&&pl(e)));break;case 12:if(d&2048){Un(e,r,l,s),e=r.stateNode;try{var y=r.memoizedProps,S=y.id,w=y.onPostCommit;typeof w=="function"&&w(S,r.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(D){nt(r,r.return,D)}}else Un(e,r,l,s);break;case 13:Un(e,r,l,s);break;case 23:break;case 22:y=r.stateNode,S=r.alternate,r.memoizedState!==null?y._visibility&2?Un(e,r,l,s):kl(e,r):y._visibility&2?Un(e,r,l,s):(y._visibility|=2,Ar(e,r,l,s,(r.subtreeFlags&10256)!==0)),d&2048&&Iu(S,r);break;case 24:Un(e,r,l,s),d&2048&&ku(r.alternate,r);break;default:Un(e,r,l,s)}}function Ar(e,r,l,s,d){for(d=d&&(r.subtreeFlags&10256)!==0,r=r.child;r!==null;){var y=e,S=r,w=l,D=s,O=S.flags;switch(S.tag){case 0:case 11:case 15:Ar(y,S,w,D,d),Dl(8,S);break;case 23:break;case 22:var J=S.stateNode;S.memoizedState!==null?J._visibility&2?Ar(y,S,w,D,d):kl(y,S):(J._visibility|=2,Ar(y,S,w,D,d)),d&&O&2048&&Iu(S.alternate,S);break;case 24:Ar(y,S,w,D,d),d&&O&2048&&ku(S.alternate,S);break;default:Ar(y,S,w,D,d)}r=r.sibling}}function kl(e,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var l=e,s=r,d=s.flags;switch(s.tag){case 22:kl(l,s),d&2048&&Iu(s.alternate,s);break;case 24:kl(l,s),d&2048&&ku(s.alternate,s);break;default:kl(l,s)}r=r.sibling}}var Rl=8192;function Nr(e){if(e.subtreeFlags&Rl)for(e=e.child;e!==null;)nh(e),e=e.sibling}function nh(e){switch(e.tag){case 26:Nr(e),e.flags&Rl&&e.memoizedState!==null&&Cv(wn,e.memoizedState,e.memoizedProps);break;case 5:Nr(e);break;case 3:case 4:var r=wn;wn=xo(e.stateNode.containerInfo),Nr(e),wn=r;break;case 22:e.memoizedState===null&&(r=e.alternate,r!==null&&r.memoizedState!==null?(r=Rl,Rl=16777216,Nr(e),Rl=r):Nr(e));break;default:Nr(e)}}function ih(e){var r=e.alternate;if(r!==null&&(e=r.child,e!==null)){r.child=null;do r=e.sibling,e.sibling=null,e=r;while(e!==null)}}function Bl(e){var r=e.deletions;if((e.flags&16)!==0){if(r!==null)for(var l=0;l<r.length;l++){var s=r[l];Nt=s,lh(s,e)}ih(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)rh(e),e=e.sibling}function rh(e){switch(e.tag){case 0:case 11:case 15:Bl(e),e.flags&2048&&fi(9,e,e.return);break;case 3:Bl(e);break;case 12:Bl(e);break;case 22:var r=e.stateNode;e.memoizedState!==null&&r._visibility&2&&(e.return===null||e.return.tag!==13)?(r._visibility&=-3,lo(e)):Bl(e);break;default:Bl(e)}}function lo(e){var r=e.deletions;if((e.flags&16)!==0){if(r!==null)for(var l=0;l<r.length;l++){var s=r[l];Nt=s,lh(s,e)}ih(e)}for(e=e.child;e!==null;){switch(r=e,r.tag){case 0:case 11:case 15:fi(8,r,r.return),lo(r);break;case 22:l=r.stateNode,l._visibility&2&&(l._visibility&=-3,lo(r));break;default:lo(r)}e=e.sibling}}function lh(e,r){for(;Nt!==null;){var l=Nt;switch(l.tag){case 0:case 11:case 15:fi(8,l,r);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var s=l.memoizedState.cachePool.pool;s!=null&&s.refCount++}break;case 24:pl(l.memoizedState.cache)}if(s=l.child,s!==null)s.return=l,Nt=s;else e:for(l=e;Nt!==null;){s=Nt;var d=s.sibling,y=s.return;if(Jm(s),s===l){Nt=null;break e}if(d!==null){d.return=y,Nt=d;break e}Nt=y}}}var Ox={getCacheForType:function(e){var r=Bt(St),l=r.data.get(e);return l===void 0&&(l=e(),r.data.set(e,l)),l}},Px=typeof WeakMap=="function"?WeakMap:Map,Qe=0,it=null,ze=null,He=0,Ze=0,tn=null,gi=!1,Mr=!1,Ru=!1,ei=0,ft=0,pi=0,Ji=0,Bu=0,xn=0,_r=0,Ll=null,Gt=null,Lu=!1,Uu=0,ao=1/0,oo=null,yi=null,It=0,xi=null,Dr=null,Ir=0,zu=0,ju=null,ah=null,Ul=0,Ou=null;function nn(){if((Qe&2)!==0&&He!==0)return He&-He;if(H.T!==null){var e=xr;return e!==0?e:Yu()}return ya()}function oh(){xn===0&&(xn=(He&536870912)===0||Ye?ue():536870912);var e=yn.current;return e!==null&&(e.flags|=32),xn}function rn(e,r,l){(e===it&&(Ze===2||Ze===9)||e.cancelPendingCommit!==null)&&(kr(e,0),vi(e,He,xn,!1)),Et(e,l),((Qe&2)===0||e!==it)&&(e===it&&((Qe&2)===0&&(Ji|=l),ft===4&&vi(e,He,xn,!1)),zn(e))}function sh(e,r,l){if((Qe&6)!==0)throw Error(a(327));var s=!l&&(r&124)===0&&(r&e.expiredLanes)===0||Ot(e,r),d=s?qx(e,r):Hu(e,r,!0),y=s;do{if(d===0){Mr&&!s&&vi(e,r,0,!1);break}else{if(l=e.current.alternate,y&&!Vx(l)){d=Hu(e,r,!1),y=!1;continue}if(d===2){if(y=r,e.errorRecoveryDisabledLanes&y)var S=0;else S=e.pendingLanes&-536870913,S=S!==0?S:S&536870912?536870912:0;if(S!==0){r=S;e:{var w=e;d=Ll;var D=w.current.memoizedState.isDehydrated;if(D&&(kr(w,S).flags|=256),S=Hu(w,S,!1),S!==2){if(Ru&&!D){w.errorRecoveryDisabledLanes|=y,Ji|=y,d=4;break e}y=Gt,Gt=d,y!==null&&(Gt===null?Gt=y:Gt.push.apply(Gt,y))}d=S}if(y=!1,d!==2)continue}}if(d===1){kr(e,0),vi(e,r,0,!0);break}e:{switch(s=e,y=d,y){case 0:case 1:throw Error(a(345));case 4:if((r&4194048)!==r)break;case 6:vi(s,r,xn,!gi);break e;case 2:Gt=null;break;case 3:case 5:break;default:throw Error(a(329))}if((r&62914560)===r&&(d=Uu+300-Ve(),10<d)){if(vi(s,r,xn,!gi),ht(s,0,!0)!==0)break e;s.timeoutHandle=zh(uh.bind(null,s,l,Gt,oo,Lu,r,xn,Ji,_r,gi,y,2,-0,0),d);break e}uh(s,l,Gt,oo,Lu,r,xn,Ji,_r,gi,y,0,-0,0)}}break}while(!0);zn(e)}function uh(e,r,l,s,d,y,S,w,D,O,J,ee,V,q){if(e.timeoutHandle=-1,ee=r.subtreeFlags,(ee&8192||(ee&16785408)===16785408)&&(ql={stylesheets:null,count:0,unsuspend:Sv},nh(r),ee=Ev(),ee!==null)){e.cancelPendingCommit=ee(ph.bind(null,e,r,y,l,s,d,S,w,D,J,1,V,q)),vi(e,y,S,!O);return}ph(e,r,y,l,s,d,S,w,D)}function Vx(e){for(var r=e;;){var l=r.tag;if((l===0||l===11||l===15)&&r.flags&16384&&(l=r.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var s=0;s<l.length;s++){var d=l[s],y=d.getSnapshot;d=d.value;try{if(!Qt(y(),d))return!1}catch{return!1}}if(l=r.child,r.subtreeFlags&16384&&l!==null)l.return=r,r=l;else{if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function vi(e,r,l,s){r&=~Bu,r&=~Ji,e.suspendedLanes|=r,e.pingedLanes&=~r,s&&(e.warmLanes|=r),s=e.expirationTimes;for(var d=r;0<d;){var y=31-Ce(d),S=1<<y;s[y]=-1,d&=~S}l!==0&&ga(e,l,r)}function so(){return(Qe&6)===0?(zl(0),!1):!0}function Pu(){if(ze!==null){if(Ze===0)var e=ze.return;else e=ze,Yn=Gi=null,iu(e),Er=null,Nl=0,e=ze;for(;e!==null;)Hm(e.alternate,e),e=e.return;ze=null}}function kr(e,r){var l=e.timeoutHandle;l!==-1&&(e.timeoutHandle=-1,lv(l)),l=e.cancelPendingCommit,l!==null&&(e.cancelPendingCommit=null,l()),Pu(),it=e,ze=l=qn(e.current,null),He=r,Ze=0,tn=null,gi=!1,Mr=Ot(e,r),Ru=!1,_r=xn=Bu=Ji=pi=ft=0,Gt=Ll=null,Lu=!1,(r&8)!==0&&(r|=r&32);var s=e.entangledLanes;if(s!==0)for(e=e.entanglements,s&=r;0<s;){var d=31-Ce(s),y=1<<d;r|=e[d],s&=~y}return ei=r,Da(),l}function ch(e,r){Le=null,H.H=Xa,r===xl||r===Oa?(r=Nf(),Ze=3):r===Ef?(r=Nf(),Ze=4):Ze=r===Mm?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,tn=r,ze===null&&(ft=1,eo(e,mn(r,e.current)))}function dh(){var e=H.H;return H.H=Xa,e===null?Xa:e}function fh(){var e=H.A;return H.A=Ox,e}function Vu(){ft=4,gi||(He&4194048)!==He&&yn.current!==null||(Mr=!0),(pi&134217727)===0&&(Ji&134217727)===0||it===null||vi(it,He,xn,!1)}function Hu(e,r,l){var s=Qe;Qe|=2;var d=dh(),y=fh();(it!==e||He!==r)&&(oo=null,kr(e,r)),r=!1;var S=ft;e:do try{if(Ze!==0&&ze!==null){var w=ze,D=tn;switch(Ze){case 8:Pu(),S=6;break e;case 3:case 2:case 9:case 6:yn.current===null&&(r=!0);var O=Ze;if(Ze=0,tn=null,Rr(e,w,D,O),l&&Mr){S=0;break e}break;default:O=Ze,Ze=0,tn=null,Rr(e,w,D,O)}}Hx(),S=ft;break}catch(J){ch(e,J)}while(!0);return r&&e.shellSuspendCounter++,Yn=Gi=null,Qe=s,H.H=d,H.A=y,ze===null&&(it=null,He=0,Da()),S}function Hx(){for(;ze!==null;)mh(ze)}function qx(e,r){var l=Qe;Qe|=2;var s=dh(),d=fh();it!==e||He!==r?(oo=null,ao=Ve()+500,kr(e,r)):Mr=Ot(e,r);e:do try{if(Ze!==0&&ze!==null){r=ze;var y=tn;t:switch(Ze){case 1:Ze=0,tn=null,Rr(e,r,y,1);break;case 2:case 9:if(wf(y)){Ze=0,tn=null,hh(r);break}r=function(){Ze!==2&&Ze!==9||it!==e||(Ze=7),zn(e)},y.then(r,r);break e;case 3:Ze=7;break e;case 4:Ze=5;break e;case 7:wf(y)?(Ze=0,tn=null,hh(r)):(Ze=0,tn=null,Rr(e,r,y,7));break;case 5:var S=null;switch(ze.tag){case 26:S=ze.memoizedState;case 5:case 27:var w=ze;if(!S||Xh(S)){Ze=0,tn=null;var D=w.sibling;if(D!==null)ze=D;else{var O=w.return;O!==null?(ze=O,uo(O)):ze=null}break t}}Ze=0,tn=null,Rr(e,r,y,5);break;case 6:Ze=0,tn=null,Rr(e,r,y,6);break;case 8:Pu(),ft=6;break e;default:throw Error(a(462))}}Gx();break}catch(J){ch(e,J)}while(!0);return Yn=Gi=null,H.H=s,H.A=d,Qe=l,ze!==null?0:(it=null,He=0,Da(),ft)}function Gx(){for(;ze!==null&&!Be();)mh(ze)}function mh(e){var r=Pm(e.alternate,e,ei);e.memoizedProps=e.pendingProps,r===null?uo(e):ze=r}function hh(e){var r=e,l=r.alternate;switch(r.tag){case 15:case 0:r=Bm(l,r,r.pendingProps,r.type,void 0,He);break;case 11:r=Bm(l,r,r.pendingProps,r.type.render,r.ref,He);break;case 5:iu(r);default:Hm(l,r),r=ze=gf(r,ei),r=Pm(l,r,ei)}e.memoizedProps=e.pendingProps,r===null?uo(e):ze=r}function Rr(e,r,l,s){Yn=Gi=null,iu(r),Er=null,Nl=0;var d=r.return;try{if(Rx(e,d,r,l,He)){ft=1,eo(e,mn(l,e.current)),ze=null;return}}catch(y){if(d!==null)throw ze=d,y;ft=1,eo(e,mn(l,e.current)),ze=null;return}r.flags&32768?(Ye||s===1?e=!0:Mr||(He&536870912)!==0?e=!1:(gi=e=!0,(s===2||s===9||s===3||s===6)&&(s=yn.current,s!==null&&s.tag===13&&(s.flags|=16384))),gh(r,e)):uo(r)}function uo(e){var r=e;do{if((r.flags&32768)!==0){gh(r,gi);return}e=r.return;var l=Lx(r.alternate,r,ei);if(l!==null){ze=l;return}if(r=r.sibling,r!==null){ze=r;return}ze=r=e}while(r!==null);ft===0&&(ft=5)}function gh(e,r){do{var l=Ux(e.alternate,e);if(l!==null){l.flags&=32767,ze=l;return}if(l=e.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!r&&(e=e.sibling,e!==null)){ze=e;return}ze=e=l}while(e!==null);ft=6,ze=null}function ph(e,r,l,s,d,y,S,w,D){e.cancelPendingCommit=null;do co();while(It!==0);if((Qe&6)!==0)throw Error(a(327));if(r!==null){if(r===e.current)throw Error(a(177));if(y=r.lanes|r.childLanes,y|=ks,ct(e,l,y,S,w,D),e===it&&(ze=it=null,He=0),Dr=r,xi=e,Ir=l,zu=y,ju=d,ah=s,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,$x(_n,function(){return Th(),null})):(e.callbackNode=null,e.callbackPriority=0),s=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||s){s=H.T,H.T=null,d=R.p,R.p=2,S=Qe,Qe|=4;try{zx(e,r,l)}finally{Qe=S,R.p=d,H.T=s}}It=1,yh(),xh(),vh()}}function yh(){if(It===1){It=0;var e=xi,r=Dr,l=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||l){l=H.T,H.T=null;var s=R.p;R.p=2;var d=Qe;Qe|=4;try{Wm(r,e);var y=ec,S=lf(e.containerInfo),w=y.focusedElem,D=y.selectionRange;if(S!==w&&w&&w.ownerDocument&&rf(w.ownerDocument.documentElement,w)){if(D!==null&&Ns(w)){var O=D.start,J=D.end;if(J===void 0&&(J=O),"selectionStart"in w)w.selectionStart=O,w.selectionEnd=Math.min(J,w.value.length);else{var ee=w.ownerDocument||document,V=ee&&ee.defaultView||window;if(V.getSelection){var q=V.getSelection(),Ne=w.textContent.length,Ee=Math.min(D.start,Ne),tt=D.end===void 0?Ee:Math.min(D.end,Ne);!q.extend&&Ee>tt&&(S=tt,tt=Ee,Ee=S);var L=nf(w,Ee),k=nf(w,tt);if(L&&k&&(q.rangeCount!==1||q.anchorNode!==L.node||q.anchorOffset!==L.offset||q.focusNode!==k.node||q.focusOffset!==k.offset)){var z=ee.createRange();z.setStart(L.node,L.offset),q.removeAllRanges(),Ee>tt?(q.addRange(z),q.extend(k.node,k.offset)):(z.setEnd(k.node,k.offset),q.addRange(z))}}}}for(ee=[],q=w;q=q.parentNode;)q.nodeType===1&&ee.push({element:q,left:q.scrollLeft,top:q.scrollTop});for(typeof w.focus=="function"&&w.focus(),w=0;w<ee.length;w++){var W=ee[w];W.element.scrollLeft=W.left,W.element.scrollTop=W.top}}Co=!!Wu,ec=Wu=null}finally{Qe=d,R.p=s,H.T=l}}e.current=r,It=2}}function xh(){if(It===2){It=0;var e=xi,r=Dr,l=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||l){l=H.T,H.T=null;var s=R.p;R.p=2;var d=Qe;Qe|=4;try{Xm(e,r.alternate,r)}finally{Qe=d,R.p=s,H.T=l}}It=3}}function vh(){if(It===4||It===3){It=0,Je();var e=xi,r=Dr,l=Ir,s=ah;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?It=5:(It=0,Dr=xi=null,bh(e,e.pendingLanes));var d=e.pendingLanes;if(d===0&&(yi=null),el(l),r=r.stateNode,ie&&typeof ie.onCommitFiberRoot=="function")try{ie.onCommitFiberRoot(X,r,void 0,(r.current.flags&128)===128)}catch{}if(s!==null){r=H.T,d=R.p,R.p=2,H.T=null;try{for(var y=e.onRecoverableError,S=0;S<s.length;S++){var w=s[S];y(w.value,{componentStack:w.stack})}}finally{H.T=r,R.p=d}}(Ir&3)!==0&&co(),zn(e),d=e.pendingLanes,(l&4194090)!==0&&(d&42)!==0?e===Ou?Ul++:(Ul=0,Ou=e):Ul=0,zl(0)}}function bh(e,r){(e.pooledCacheLanes&=r)===0&&(r=e.pooledCache,r!=null&&(e.pooledCache=null,pl(r)))}function co(e){return yh(),xh(),vh(),Th()}function Th(){if(It!==5)return!1;var e=xi,r=zu;zu=0;var l=el(Ir),s=H.T,d=R.p;try{R.p=32>l?32:l,H.T=null,l=ju,ju=null;var y=xi,S=Ir;if(It=0,Dr=xi=null,Ir=0,(Qe&6)!==0)throw Error(a(331));var w=Qe;if(Qe|=4,rh(y.current),th(y,y.current,S,l),Qe=w,zl(0,!1),ie&&typeof ie.onPostCommitFiberRoot=="function")try{ie.onPostCommitFiberRoot(X,y)}catch{}return!0}finally{R.p=d,H.T=s,bh(e,r)}}function Sh(e,r,l){r=mn(l,r),r=yu(e.stateNode,r,2),e=si(e,r,2),e!==null&&(Et(e,2),zn(e))}function nt(e,r,l){if(e.tag===3)Sh(e,e,l);else for(;r!==null;){if(r.tag===3){Sh(r,e,l);break}else if(r.tag===1){var s=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof s.componentDidCatch=="function"&&(yi===null||!yi.has(s))){e=mn(l,e),l=Am(2),s=si(r,l,2),s!==null&&(Nm(l,s,r,e),Et(s,2),zn(s));break}}r=r.return}}function qu(e,r,l){var s=e.pingCache;if(s===null){s=e.pingCache=new Px;var d=new Set;s.set(r,d)}else d=s.get(r),d===void 0&&(d=new Set,s.set(r,d));d.has(l)||(Ru=!0,d.add(l),e=Fx.bind(null,e,r,l),r.then(e,e))}function Fx(e,r,l){var s=e.pingCache;s!==null&&s.delete(r),e.pingedLanes|=e.suspendedLanes&l,e.warmLanes&=~l,it===e&&(He&l)===l&&(ft===4||ft===3&&(He&62914560)===He&&300>Ve()-Uu?(Qe&2)===0&&kr(e,0):Bu|=l,_r===He&&(_r=0)),zn(e)}function Ch(e,r){r===0&&(r=be()),e=hr(e,r),e!==null&&(Et(e,r),zn(e))}function Yx(e){var r=e.memoizedState,l=0;r!==null&&(l=r.retryLane),Ch(e,l)}function Kx(e,r){var l=0;switch(e.tag){case 13:var s=e.stateNode,d=e.memoizedState;d!==null&&(l=d.retryLane);break;case 19:s=e.stateNode;break;case 22:s=e.stateNode._retryCache;break;default:throw Error(a(314))}s!==null&&s.delete(r),Ch(e,l)}function $x(e,r){return Ie(e,r)}var fo=null,Br=null,Gu=!1,mo=!1,Fu=!1,Qi=0;function zn(e){e!==Br&&e.next===null&&(Br===null?fo=Br=e:Br=Br.next=e),mo=!0,Gu||(Gu=!0,Jx())}function zl(e,r){if(!Fu&&mo){Fu=!0;do for(var l=!1,s=fo;s!==null;){if(e!==0){var d=s.pendingLanes;if(d===0)var y=0;else{var S=s.suspendedLanes,w=s.pingedLanes;y=(1<<31-Ce(42|e)+1)-1,y&=d&~(S&~w),y=y&201326741?y&201326741|1:y?y|2:0}y!==0&&(l=!0,Nh(s,y))}else y=He,y=ht(s,s===it?y:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),(y&3)===0||Ot(s,y)||(l=!0,Nh(s,y));s=s.next}while(l);Fu=!1}}function Xx(){Eh()}function Eh(){mo=Gu=!1;var e=0;Qi!==0&&(rv()&&(e=Qi),Qi=0);for(var r=Ve(),l=null,s=fo;s!==null;){var d=s.next,y=wh(s,r);y===0?(s.next=null,l===null?fo=d:l.next=d,d===null&&(Br=l)):(l=s,(e!==0||(y&3)!==0)&&(mo=!0)),s=d}zl(e)}function wh(e,r){for(var l=e.suspendedLanes,s=e.pingedLanes,d=e.expirationTimes,y=e.pendingLanes&-62914561;0<y;){var S=31-Ce(y),w=1<<S,D=d[S];D===-1?((w&l)===0||(w&s)!==0)&&(d[S]=G(w,r)):D<=r&&(e.expiredLanes|=w),y&=~w}if(r=it,l=He,l=ht(e,e===r?l:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),s=e.callbackNode,l===0||e===r&&(Ze===2||Ze===9)||e.cancelPendingCommit!==null)return s!==null&&s!==null&&Ge(s),e.callbackNode=null,e.callbackPriority=0;if((l&3)===0||Ot(e,l)){if(r=l&-l,r===e.callbackPriority)return r;switch(s!==null&&Ge(s),el(l)){case 2:case 8:l=Cn;break;case 32:l=_n;break;case 268435456:l=nr;break;default:l=_n}return s=Ah.bind(null,e),l=Ie(l,s),e.callbackPriority=r,e.callbackNode=l,r}return s!==null&&s!==null&&Ge(s),e.callbackPriority=2,e.callbackNode=null,2}function Ah(e,r){if(It!==0&&It!==5)return e.callbackNode=null,e.callbackPriority=0,null;var l=e.callbackNode;if(co()&&e.callbackNode!==l)return null;var s=He;return s=ht(e,e===it?s:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),s===0?null:(sh(e,s,r),wh(e,Ve()),e.callbackNode!=null&&e.callbackNode===l?Ah.bind(null,e):null)}function Nh(e,r){if(co())return null;sh(e,r,!0)}function Jx(){av(function(){(Qe&6)!==0?Ie(on,Xx):Eh()})}function Yu(){return Qi===0&&(Qi=ue()),Qi}function Mh(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Ca(""+e)}function _h(e,r){var l=r.ownerDocument.createElement("input");return l.name=r.name,l.value=r.value,e.id&&l.setAttribute("form",e.id),r.parentNode.insertBefore(l,r),e=new FormData(e),l.parentNode.removeChild(l),e}function Qx(e,r,l,s,d){if(r==="submit"&&l&&l.stateNode===d){var y=Mh((d[_t]||null).action),S=s.submitter;S&&(r=(r=S[_t]||null)?Mh(r.formAction):S.getAttribute("formAction"),r!==null&&(y=r,S=null));var w=new Na("action","action",null,s,d);e.push({event:w,listeners:[{instance:null,listener:function(){if(s.defaultPrevented){if(Qi!==0){var D=S?_h(d,S):new FormData(d);fu(l,{pending:!0,data:D,method:d.method,action:y},null,D)}}else typeof y=="function"&&(w.preventDefault(),D=S?_h(d,S):new FormData(d),fu(l,{pending:!0,data:D,method:d.method,action:y},y,D))},currentTarget:d}]})}}for(var Ku=0;Ku<Is.length;Ku++){var $u=Is[Ku],Zx=$u.toLowerCase(),Wx=$u[0].toUpperCase()+$u.slice(1);En(Zx,"on"+Wx)}En(sf,"onAnimationEnd"),En(uf,"onAnimationIteration"),En(cf,"onAnimationStart"),En("dblclick","onDoubleClick"),En("focusin","onFocus"),En("focusout","onBlur"),En(px,"onTransitionRun"),En(yx,"onTransitionStart"),En(xx,"onTransitionCancel"),En(df,"onTransitionEnd"),rr("onMouseEnter",["mouseout","mouseover"]),rr("onMouseLeave",["mouseout","mouseover"]),rr("onPointerEnter",["pointerout","pointerover"]),rr("onPointerLeave",["pointerout","pointerover"]),kn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),kn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),kn("onBeforeInput",["compositionend","keypress","textInput","paste"]),kn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),kn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),kn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var jl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ev=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(jl));function Dh(e,r){r=(r&4)!==0;for(var l=0;l<e.length;l++){var s=e[l],d=s.event;s=s.listeners;e:{var y=void 0;if(r)for(var S=s.length-1;0<=S;S--){var w=s[S],D=w.instance,O=w.currentTarget;if(w=w.listener,D!==y&&d.isPropagationStopped())break e;y=w,d.currentTarget=O;try{y(d)}catch(J){Wa(J)}d.currentTarget=null,y=D}else for(S=0;S<s.length;S++){if(w=s[S],D=w.instance,O=w.currentTarget,w=w.listener,D!==y&&d.isPropagationStopped())break e;y=w,d.currentTarget=O;try{y(d)}catch(J){Wa(J)}d.currentTarget=null,y=D}}}}function je(e,r){var l=r[tl];l===void 0&&(l=r[tl]=new Set);var s=e+"__bubble";l.has(s)||(Ih(r,e,2,!1),l.add(s))}function Xu(e,r,l){var s=0;r&&(s|=4),Ih(l,e,s,r)}var ho="_reactListening"+Math.random().toString(36).slice(2);function Ju(e){if(!e[ho]){e[ho]=!0,ir.forEach(function(l){l!=="selectionchange"&&(ev.has(l)||Xu(l,!1,e),Xu(l,!0,e))});var r=e.nodeType===9?e:e.ownerDocument;r===null||r[ho]||(r[ho]=!0,Xu("selectionchange",!1,r))}}function Ih(e,r,l,s){switch(tg(r)){case 2:var d=Nv;break;case 8:d=Mv;break;default:d=cc}l=d.bind(null,r,l,e),d=void 0,!xs||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(d=!0),s?d!==void 0?e.addEventListener(r,l,{capture:!0,passive:d}):e.addEventListener(r,l,!0):d!==void 0?e.addEventListener(r,l,{passive:d}):e.addEventListener(r,l,!1)}function Qu(e,r,l,s,d){var y=s;if((r&1)===0&&(r&2)===0&&s!==null)e:for(;;){if(s===null)return;var S=s.tag;if(S===3||S===4){var w=s.stateNode.containerInfo;if(w===d)break;if(S===4)for(S=s.return;S!==null;){var D=S.tag;if((D===3||D===4)&&S.stateNode.containerInfo===d)return;S=S.return}for(;w!==null;){if(S=ii(w),S===null)return;if(D=S.tag,D===5||D===6||D===26||D===27){s=y=S;continue e}w=w.parentNode}}s=s.return}zd(function(){var O=y,J=ps(l),ee=[];e:{var V=ff.get(e);if(V!==void 0){var q=Na,Ne=e;switch(e){case"keypress":if(wa(l)===0)break e;case"keydown":case"keyup":q=$y;break;case"focusin":Ne="focus",q=Ss;break;case"focusout":Ne="blur",q=Ss;break;case"beforeblur":case"afterblur":q=Ss;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":q=Pd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":q=Uy;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":q=Qy;break;case sf:case uf:case cf:q=Oy;break;case df:q=Wy;break;case"scroll":case"scrollend":q=By;break;case"wheel":q=tx;break;case"copy":case"cut":case"paste":q=Vy;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":q=Hd;break;case"toggle":case"beforetoggle":q=ix}var Ee=(r&4)!==0,tt=!Ee&&(e==="scroll"||e==="scrollend"),L=Ee?V!==null?V+"Capture":null:V;Ee=[];for(var k=O,z;k!==null;){var W=k;if(z=W.stateNode,W=W.tag,W!==5&&W!==26&&W!==27||z===null||L===null||(W=il(k,L),W!=null&&Ee.push(Ol(k,W,z))),tt)break;k=k.return}0<Ee.length&&(V=new q(V,Ne,null,l,J),ee.push({event:V,listeners:Ee}))}}if((r&7)===0){e:{if(V=e==="mouseover"||e==="pointerover",q=e==="mouseout"||e==="pointerout",V&&l!==gs&&(Ne=l.relatedTarget||l.fromElement)&&(ii(Ne)||Ne[ni]))break e;if((q||V)&&(V=J.window===J?J:(V=J.ownerDocument)?V.defaultView||V.parentWindow:window,q?(Ne=l.relatedTarget||l.toElement,q=O,Ne=Ne?ii(Ne):null,Ne!==null&&(tt=u(Ne),Ee=Ne.tag,Ne!==tt||Ee!==5&&Ee!==27&&Ee!==6)&&(Ne=null)):(q=null,Ne=O),q!==Ne)){if(Ee=Pd,W="onMouseLeave",L="onMouseEnter",k="mouse",(e==="pointerout"||e==="pointerover")&&(Ee=Hd,W="onPointerLeave",L="onPointerEnter",k="pointer"),tt=q==null?V:cn(q),z=Ne==null?V:cn(Ne),V=new Ee(W,k+"leave",q,l,J),V.target=tt,V.relatedTarget=z,W=null,ii(J)===O&&(Ee=new Ee(L,k+"enter",Ne,l,J),Ee.target=z,Ee.relatedTarget=tt,W=Ee),tt=W,q&&Ne)t:{for(Ee=q,L=Ne,k=0,z=Ee;z;z=Lr(z))k++;for(z=0,W=L;W;W=Lr(W))z++;for(;0<k-z;)Ee=Lr(Ee),k--;for(;0<z-k;)L=Lr(L),z--;for(;k--;){if(Ee===L||L!==null&&Ee===L.alternate)break t;Ee=Lr(Ee),L=Lr(L)}Ee=null}else Ee=null;q!==null&&kh(ee,V,q,Ee,!1),Ne!==null&&tt!==null&&kh(ee,tt,Ne,Ee,!0)}}e:{if(V=O?cn(O):window,q=V.nodeName&&V.nodeName.toLowerCase(),q==="select"||q==="input"&&V.type==="file")var pe=Jd;else if($d(V))if(Qd)pe=mx;else{pe=dx;var Ue=cx}else q=V.nodeName,!q||q.toLowerCase()!=="input"||V.type!=="checkbox"&&V.type!=="radio"?O&&hs(O.elementType)&&(pe=Jd):pe=fx;if(pe&&(pe=pe(e,O))){Xd(ee,pe,l,J);break e}Ue&&Ue(e,V,O),e==="focusout"&&O&&V.type==="number"&&O.memoizedProps.value!=null&&ms(V,"number",V.value)}switch(Ue=O?cn(O):window,e){case"focusin":($d(Ue)||Ue.contentEditable==="true")&&(dr=Ue,Ms=O,dl=null);break;case"focusout":dl=Ms=dr=null;break;case"mousedown":_s=!0;break;case"contextmenu":case"mouseup":case"dragend":_s=!1,af(ee,l,J);break;case"selectionchange":if(gx)break;case"keydown":case"keyup":af(ee,l,J)}var Te;if(Es)e:{switch(e){case"compositionstart":var we="onCompositionStart";break e;case"compositionend":we="onCompositionEnd";break e;case"compositionupdate":we="onCompositionUpdate";break e}we=void 0}else cr?Yd(e,l)&&(we="onCompositionEnd"):e==="keydown"&&l.keyCode===229&&(we="onCompositionStart");we&&(qd&&l.locale!=="ko"&&(cr||we!=="onCompositionStart"?we==="onCompositionEnd"&&cr&&(Te=jd()):(ri=J,vs="value"in ri?ri.value:ri.textContent,cr=!0)),Ue=go(O,we),0<Ue.length&&(we=new Vd(we,e,null,l,J),ee.push({event:we,listeners:Ue}),Te?we.data=Te:(Te=Kd(l),Te!==null&&(we.data=Te)))),(Te=lx?ax(e,l):ox(e,l))&&(we=go(O,"onBeforeInput"),0<we.length&&(Ue=new Vd("onBeforeInput","beforeinput",null,l,J),ee.push({event:Ue,listeners:we}),Ue.data=Te)),Qx(ee,e,O,l,J)}Dh(ee,r)})}function Ol(e,r,l){return{instance:e,listener:r,currentTarget:l}}function go(e,r){for(var l=r+"Capture",s=[];e!==null;){var d=e,y=d.stateNode;if(d=d.tag,d!==5&&d!==26&&d!==27||y===null||(d=il(e,l),d!=null&&s.unshift(Ol(e,d,y)),d=il(e,r),d!=null&&s.push(Ol(e,d,y))),e.tag===3)return s;e=e.return}return[]}function Lr(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function kh(e,r,l,s,d){for(var y=r._reactName,S=[];l!==null&&l!==s;){var w=l,D=w.alternate,O=w.stateNode;if(w=w.tag,D!==null&&D===s)break;w!==5&&w!==26&&w!==27||O===null||(D=O,d?(O=il(l,y),O!=null&&S.unshift(Ol(l,O,D))):d||(O=il(l,y),O!=null&&S.push(Ol(l,O,D)))),l=l.return}S.length!==0&&e.push({event:r,listeners:S})}var tv=/\r\n?/g,nv=/\u0000|\uFFFD/g;function Rh(e){return(typeof e=="string"?e:""+e).replace(tv,`
`).replace(nv,"")}function Bh(e,r){return r=Rh(r),Rh(e)===r}function po(){}function et(e,r,l,s,d,y){switch(l){case"children":typeof s=="string"?r==="body"||r==="textarea"&&s===""||or(e,s):(typeof s=="number"||typeof s=="bigint")&&r!=="body"&&or(e,""+s);break;case"className":ba(e,"class",s);break;case"tabIndex":ba(e,"tabindex",s);break;case"dir":case"role":case"viewBox":case"width":case"height":ba(e,l,s);break;case"style":Ld(e,s,y);break;case"data":if(r!=="object"){ba(e,"data",s);break}case"src":case"href":if(s===""&&(r!=="a"||l!=="href")){e.removeAttribute(l);break}if(s==null||typeof s=="function"||typeof s=="symbol"||typeof s=="boolean"){e.removeAttribute(l);break}s=Ca(""+s),e.setAttribute(l,s);break;case"action":case"formAction":if(typeof s=="function"){e.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof y=="function"&&(l==="formAction"?(r!=="input"&&et(e,r,"name",d.name,d,null),et(e,r,"formEncType",d.formEncType,d,null),et(e,r,"formMethod",d.formMethod,d,null),et(e,r,"formTarget",d.formTarget,d,null)):(et(e,r,"encType",d.encType,d,null),et(e,r,"method",d.method,d,null),et(e,r,"target",d.target,d,null)));if(s==null||typeof s=="symbol"||typeof s=="boolean"){e.removeAttribute(l);break}s=Ca(""+s),e.setAttribute(l,s);break;case"onClick":s!=null&&(e.onclick=po);break;case"onScroll":s!=null&&je("scroll",e);break;case"onScrollEnd":s!=null&&je("scrollend",e);break;case"dangerouslySetInnerHTML":if(s!=null){if(typeof s!="object"||!("__html"in s))throw Error(a(61));if(l=s.__html,l!=null){if(d.children!=null)throw Error(a(60));e.innerHTML=l}}break;case"multiple":e.multiple=s&&typeof s!="function"&&typeof s!="symbol";break;case"muted":e.muted=s&&typeof s!="function"&&typeof s!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(s==null||typeof s=="function"||typeof s=="boolean"||typeof s=="symbol"){e.removeAttribute("xlink:href");break}l=Ca(""+s),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":s!=null&&typeof s!="function"&&typeof s!="symbol"?e.setAttribute(l,""+s):e.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":s&&typeof s!="function"&&typeof s!="symbol"?e.setAttribute(l,""):e.removeAttribute(l);break;case"capture":case"download":s===!0?e.setAttribute(l,""):s!==!1&&s!=null&&typeof s!="function"&&typeof s!="symbol"?e.setAttribute(l,s):e.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":s!=null&&typeof s!="function"&&typeof s!="symbol"&&!isNaN(s)&&1<=s?e.setAttribute(l,s):e.removeAttribute(l);break;case"rowSpan":case"start":s==null||typeof s=="function"||typeof s=="symbol"||isNaN(s)?e.removeAttribute(l):e.setAttribute(l,s);break;case"popover":je("beforetoggle",e),je("toggle",e),va(e,"popover",s);break;case"xlinkActuate":Vn(e,"http://www.w3.org/1999/xlink","xlink:actuate",s);break;case"xlinkArcrole":Vn(e,"http://www.w3.org/1999/xlink","xlink:arcrole",s);break;case"xlinkRole":Vn(e,"http://www.w3.org/1999/xlink","xlink:role",s);break;case"xlinkShow":Vn(e,"http://www.w3.org/1999/xlink","xlink:show",s);break;case"xlinkTitle":Vn(e,"http://www.w3.org/1999/xlink","xlink:title",s);break;case"xlinkType":Vn(e,"http://www.w3.org/1999/xlink","xlink:type",s);break;case"xmlBase":Vn(e,"http://www.w3.org/XML/1998/namespace","xml:base",s);break;case"xmlLang":Vn(e,"http://www.w3.org/XML/1998/namespace","xml:lang",s);break;case"xmlSpace":Vn(e,"http://www.w3.org/XML/1998/namespace","xml:space",s);break;case"is":va(e,"is",s);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=ky.get(l)||l,va(e,l,s))}}function Zu(e,r,l,s,d,y){switch(l){case"style":Ld(e,s,y);break;case"dangerouslySetInnerHTML":if(s!=null){if(typeof s!="object"||!("__html"in s))throw Error(a(61));if(l=s.__html,l!=null){if(d.children!=null)throw Error(a(60));e.innerHTML=l}}break;case"children":typeof s=="string"?or(e,s):(typeof s=="number"||typeof s=="bigint")&&or(e,""+s);break;case"onScroll":s!=null&&je("scroll",e);break;case"onScrollEnd":s!=null&&je("scrollend",e);break;case"onClick":s!=null&&(e.onclick=po);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Li.hasOwnProperty(l))e:{if(l[0]==="o"&&l[1]==="n"&&(d=l.endsWith("Capture"),r=l.slice(2,d?l.length-7:void 0),y=e[_t]||null,y=y!=null?y[l]:null,typeof y=="function"&&e.removeEventListener(r,y,d),typeof s=="function")){typeof y!="function"&&y!==null&&(l in e?e[l]=null:e.hasAttribute(l)&&e.removeAttribute(l)),e.addEventListener(r,s,d);break e}l in e?e[l]=s:s===!0?e.setAttribute(l,""):va(e,l,s)}}}function kt(e,r,l){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":je("error",e),je("load",e);var s=!1,d=!1,y;for(y in l)if(l.hasOwnProperty(y)){var S=l[y];if(S!=null)switch(y){case"src":s=!0;break;case"srcSet":d=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,r));default:et(e,r,y,S,l,null)}}d&&et(e,r,"srcSet",l.srcSet,l,null),s&&et(e,r,"src",l.src,l,null);return;case"input":je("invalid",e);var w=y=S=d=null,D=null,O=null;for(s in l)if(l.hasOwnProperty(s)){var J=l[s];if(J!=null)switch(s){case"name":d=J;break;case"type":S=J;break;case"checked":D=J;break;case"defaultChecked":O=J;break;case"value":y=J;break;case"defaultValue":w=J;break;case"children":case"dangerouslySetInnerHTML":if(J!=null)throw Error(a(137,r));break;default:et(e,r,s,J,l,null)}}Id(e,y,w,D,O,S,d,!1),Ta(e);return;case"select":je("invalid",e),s=S=y=null;for(d in l)if(l.hasOwnProperty(d)&&(w=l[d],w!=null))switch(d){case"value":y=w;break;case"defaultValue":S=w;break;case"multiple":s=w;default:et(e,r,d,w,l,null)}r=y,l=S,e.multiple=!!s,r!=null?ar(e,!!s,r,!1):l!=null&&ar(e,!!s,l,!0);return;case"textarea":je("invalid",e),y=d=s=null;for(S in l)if(l.hasOwnProperty(S)&&(w=l[S],w!=null))switch(S){case"value":s=w;break;case"defaultValue":d=w;break;case"children":y=w;break;case"dangerouslySetInnerHTML":if(w!=null)throw Error(a(91));break;default:et(e,r,S,w,l,null)}Rd(e,s,d,y),Ta(e);return;case"option":for(D in l)if(l.hasOwnProperty(D)&&(s=l[D],s!=null))switch(D){case"selected":e.selected=s&&typeof s!="function"&&typeof s!="symbol";break;default:et(e,r,D,s,l,null)}return;case"dialog":je("beforetoggle",e),je("toggle",e),je("cancel",e),je("close",e);break;case"iframe":case"object":je("load",e);break;case"video":case"audio":for(s=0;s<jl.length;s++)je(jl[s],e);break;case"image":je("error",e),je("load",e);break;case"details":je("toggle",e);break;case"embed":case"source":case"link":je("error",e),je("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(O in l)if(l.hasOwnProperty(O)&&(s=l[O],s!=null))switch(O){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,r));default:et(e,r,O,s,l,null)}return;default:if(hs(r)){for(J in l)l.hasOwnProperty(J)&&(s=l[J],s!==void 0&&Zu(e,r,J,s,l,void 0));return}}for(w in l)l.hasOwnProperty(w)&&(s=l[w],s!=null&&et(e,r,w,s,l,null))}function iv(e,r,l,s){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var d=null,y=null,S=null,w=null,D=null,O=null,J=null;for(q in l){var ee=l[q];if(l.hasOwnProperty(q)&&ee!=null)switch(q){case"checked":break;case"value":break;case"defaultValue":D=ee;default:s.hasOwnProperty(q)||et(e,r,q,null,s,ee)}}for(var V in s){var q=s[V];if(ee=l[V],s.hasOwnProperty(V)&&(q!=null||ee!=null))switch(V){case"type":y=q;break;case"name":d=q;break;case"checked":O=q;break;case"defaultChecked":J=q;break;case"value":S=q;break;case"defaultValue":w=q;break;case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(a(137,r));break;default:q!==ee&&et(e,r,V,q,s,ee)}}fs(e,S,w,D,O,J,y,d);return;case"select":q=S=w=V=null;for(y in l)if(D=l[y],l.hasOwnProperty(y)&&D!=null)switch(y){case"value":break;case"multiple":q=D;default:s.hasOwnProperty(y)||et(e,r,y,null,s,D)}for(d in s)if(y=s[d],D=l[d],s.hasOwnProperty(d)&&(y!=null||D!=null))switch(d){case"value":V=y;break;case"defaultValue":w=y;break;case"multiple":S=y;default:y!==D&&et(e,r,d,y,s,D)}r=w,l=S,s=q,V!=null?ar(e,!!l,V,!1):!!s!=!!l&&(r!=null?ar(e,!!l,r,!0):ar(e,!!l,l?[]:"",!1));return;case"textarea":q=V=null;for(w in l)if(d=l[w],l.hasOwnProperty(w)&&d!=null&&!s.hasOwnProperty(w))switch(w){case"value":break;case"children":break;default:et(e,r,w,null,s,d)}for(S in s)if(d=s[S],y=l[S],s.hasOwnProperty(S)&&(d!=null||y!=null))switch(S){case"value":V=d;break;case"defaultValue":q=d;break;case"children":break;case"dangerouslySetInnerHTML":if(d!=null)throw Error(a(91));break;default:d!==y&&et(e,r,S,d,s,y)}kd(e,V,q);return;case"option":for(var Ne in l)if(V=l[Ne],l.hasOwnProperty(Ne)&&V!=null&&!s.hasOwnProperty(Ne))switch(Ne){case"selected":e.selected=!1;break;default:et(e,r,Ne,null,s,V)}for(D in s)if(V=s[D],q=l[D],s.hasOwnProperty(D)&&V!==q&&(V!=null||q!=null))switch(D){case"selected":e.selected=V&&typeof V!="function"&&typeof V!="symbol";break;default:et(e,r,D,V,s,q)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ee in l)V=l[Ee],l.hasOwnProperty(Ee)&&V!=null&&!s.hasOwnProperty(Ee)&&et(e,r,Ee,null,s,V);for(O in s)if(V=s[O],q=l[O],s.hasOwnProperty(O)&&V!==q&&(V!=null||q!=null))switch(O){case"children":case"dangerouslySetInnerHTML":if(V!=null)throw Error(a(137,r));break;default:et(e,r,O,V,s,q)}return;default:if(hs(r)){for(var tt in l)V=l[tt],l.hasOwnProperty(tt)&&V!==void 0&&!s.hasOwnProperty(tt)&&Zu(e,r,tt,void 0,s,V);for(J in s)V=s[J],q=l[J],!s.hasOwnProperty(J)||V===q||V===void 0&&q===void 0||Zu(e,r,J,V,s,q);return}}for(var L in l)V=l[L],l.hasOwnProperty(L)&&V!=null&&!s.hasOwnProperty(L)&&et(e,r,L,null,s,V);for(ee in s)V=s[ee],q=l[ee],!s.hasOwnProperty(ee)||V===q||V==null&&q==null||et(e,r,ee,V,s,q)}var Wu=null,ec=null;function yo(e){return e.nodeType===9?e:e.ownerDocument}function Lh(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Uh(e,r){if(e===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&r==="foreignObject"?0:e}function tc(e,r){return e==="textarea"||e==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var nc=null;function rv(){var e=window.event;return e&&e.type==="popstate"?e===nc?!1:(nc=e,!0):(nc=null,!1)}var zh=typeof setTimeout=="function"?setTimeout:void 0,lv=typeof clearTimeout=="function"?clearTimeout:void 0,jh=typeof Promise=="function"?Promise:void 0,av=typeof queueMicrotask=="function"?queueMicrotask:typeof jh<"u"?function(e){return jh.resolve(null).then(e).catch(ov)}:zh;function ov(e){setTimeout(function(){throw e})}function bi(e){return e==="head"}function Oh(e,r){var l=r,s=0,d=0;do{var y=l.nextSibling;if(e.removeChild(l),y&&y.nodeType===8)if(l=y.data,l==="/$"){if(0<s&&8>s){l=s;var S=e.ownerDocument;if(l&1&&Pl(S.documentElement),l&2&&Pl(S.body),l&4)for(l=S.head,Pl(l),S=l.firstChild;S;){var w=S.nextSibling,D=S.nodeName;S[Bi]||D==="SCRIPT"||D==="STYLE"||D==="LINK"&&S.rel.toLowerCase()==="stylesheet"||l.removeChild(S),S=w}}if(d===0){e.removeChild(y),$l(r);return}d--}else l==="$"||l==="$?"||l==="$!"?d++:s=l.charCodeAt(0)-48;else s=0;l=y}while(l);$l(r)}function ic(e){var r=e.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var l=r;switch(r=r.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":ic(l),xa(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}e.removeChild(l)}}function sv(e,r,l,s){for(;e.nodeType===1;){var d=l;if(e.nodeName.toLowerCase()!==r.toLowerCase()){if(!s&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(s){if(!e[Bi])switch(r){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(y=e.getAttribute("rel"),y==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(y!==d.rel||e.getAttribute("href")!==(d.href==null||d.href===""?null:d.href)||e.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin)||e.getAttribute("title")!==(d.title==null?null:d.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(y=e.getAttribute("src"),(y!==(d.src==null?null:d.src)||e.getAttribute("type")!==(d.type==null?null:d.type)||e.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin))&&y&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(r==="input"&&e.type==="hidden"){var y=d.name==null?null:""+d.name;if(d.type==="hidden"&&e.getAttribute("name")===y)return e}else return e;if(e=An(e.nextSibling),e===null)break}return null}function uv(e,r,l){if(r==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!l||(e=An(e.nextSibling),e===null))return null;return e}function rc(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState==="complete"}function cv(e,r){var l=e.ownerDocument;if(e.data!=="$?"||l.readyState==="complete")r();else{var s=function(){r(),l.removeEventListener("DOMContentLoaded",s)};l.addEventListener("DOMContentLoaded",s),e._reactRetry=s}}function An(e){for(;e!=null;e=e.nextSibling){var r=e.nodeType;if(r===1||r===3)break;if(r===8){if(r=e.data,r==="$"||r==="$!"||r==="$?"||r==="F!"||r==="F")break;if(r==="/$")return null}}return e}var lc=null;function Ph(e){e=e.previousSibling;for(var r=0;e;){if(e.nodeType===8){var l=e.data;if(l==="$"||l==="$!"||l==="$?"){if(r===0)return e;r--}else l==="/$"&&r++}e=e.previousSibling}return null}function Vh(e,r,l){switch(r=yo(l),e){case"html":if(e=r.documentElement,!e)throw Error(a(452));return e;case"head":if(e=r.head,!e)throw Error(a(453));return e;case"body":if(e=r.body,!e)throw Error(a(454));return e;default:throw Error(a(451))}}function Pl(e){for(var r=e.attributes;r.length;)e.removeAttributeNode(r[0]);xa(e)}var vn=new Map,Hh=new Set;function xo(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var ti=R.d;R.d={f:dv,r:fv,D:mv,C:hv,L:gv,m:pv,X:xv,S:yv,M:vv};function dv(){var e=ti.f(),r=so();return e||r}function fv(e){var r=wt(e);r!==null&&r.tag===5&&r.type==="form"?sm(r):ti.r(e)}var Ur=typeof document>"u"?null:document;function qh(e,r,l){var s=Ur;if(s&&typeof r=="string"&&r){var d=fn(r);d='link[rel="'+e+'"][href="'+d+'"]',typeof l=="string"&&(d+='[crossorigin="'+l+'"]'),Hh.has(d)||(Hh.add(d),e={rel:e,crossOrigin:l,href:r},s.querySelector(d)===null&&(r=s.createElement("link"),kt(r,"link",e),xt(r),s.head.appendChild(r)))}}function mv(e){ti.D(e),qh("dns-prefetch",e,null)}function hv(e,r){ti.C(e,r),qh("preconnect",e,r)}function gv(e,r,l){ti.L(e,r,l);var s=Ur;if(s&&e&&r){var d='link[rel="preload"][as="'+fn(r)+'"]';r==="image"&&l&&l.imageSrcSet?(d+='[imagesrcset="'+fn(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(d+='[imagesizes="'+fn(l.imageSizes)+'"]')):d+='[href="'+fn(e)+'"]';var y=d;switch(r){case"style":y=zr(e);break;case"script":y=jr(e)}vn.has(y)||(e=v({rel:"preload",href:r==="image"&&l&&l.imageSrcSet?void 0:e,as:r},l),vn.set(y,e),s.querySelector(d)!==null||r==="style"&&s.querySelector(Vl(y))||r==="script"&&s.querySelector(Hl(y))||(r=s.createElement("link"),kt(r,"link",e),xt(r),s.head.appendChild(r)))}}function pv(e,r){ti.m(e,r);var l=Ur;if(l&&e){var s=r&&typeof r.as=="string"?r.as:"script",d='link[rel="modulepreload"][as="'+fn(s)+'"][href="'+fn(e)+'"]',y=d;switch(s){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":y=jr(e)}if(!vn.has(y)&&(e=v({rel:"modulepreload",href:e},r),vn.set(y,e),l.querySelector(d)===null)){switch(s){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(Hl(y)))return}s=l.createElement("link"),kt(s,"link",e),xt(s),l.head.appendChild(s)}}}function yv(e,r,l){ti.S(e,r,l);var s=Ur;if(s&&e){var d=In(s).hoistableStyles,y=zr(e);r=r||"default";var S=d.get(y);if(!S){var w={loading:0,preload:null};if(S=s.querySelector(Vl(y)))w.loading=5;else{e=v({rel:"stylesheet",href:e,"data-precedence":r},l),(l=vn.get(y))&&ac(e,l);var D=S=s.createElement("link");xt(D),kt(D,"link",e),D._p=new Promise(function(O,J){D.onload=O,D.onerror=J}),D.addEventListener("load",function(){w.loading|=1}),D.addEventListener("error",function(){w.loading|=2}),w.loading|=4,vo(S,r,s)}S={type:"stylesheet",instance:S,count:1,state:w},d.set(y,S)}}}function xv(e,r){ti.X(e,r);var l=Ur;if(l&&e){var s=In(l).hoistableScripts,d=jr(e),y=s.get(d);y||(y=l.querySelector(Hl(d)),y||(e=v({src:e,async:!0},r),(r=vn.get(d))&&oc(e,r),y=l.createElement("script"),xt(y),kt(y,"link",e),l.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},s.set(d,y))}}function vv(e,r){ti.M(e,r);var l=Ur;if(l&&e){var s=In(l).hoistableScripts,d=jr(e),y=s.get(d);y||(y=l.querySelector(Hl(d)),y||(e=v({src:e,async:!0,type:"module"},r),(r=vn.get(d))&&oc(e,r),y=l.createElement("script"),xt(y),kt(y,"link",e),l.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},s.set(d,y))}}function Gh(e,r,l,s){var d=(d=ae.current)?xo(d):null;if(!d)throw Error(a(446));switch(e){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(r=zr(l.href),l=In(d).hoistableStyles,s=l.get(r),s||(s={type:"style",instance:null,count:0,state:null},l.set(r,s)),s):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){e=zr(l.href);var y=In(d).hoistableStyles,S=y.get(e);if(S||(d=d.ownerDocument||d,S={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},y.set(e,S),(y=d.querySelector(Vl(e)))&&!y._p&&(S.instance=y,S.state.loading=5),vn.has(e)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},vn.set(e,l),y||bv(d,e,l,S.state))),r&&s===null)throw Error(a(528,""));return S}if(r&&s!==null)throw Error(a(529,""));return null;case"script":return r=l.async,l=l.src,typeof l=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=jr(l),l=In(d).hoistableScripts,s=l.get(r),s||(s={type:"script",instance:null,count:0,state:null},l.set(r,s)),s):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,e))}}function zr(e){return'href="'+fn(e)+'"'}function Vl(e){return'link[rel="stylesheet"]['+e+"]"}function Fh(e){return v({},e,{"data-precedence":e.precedence,precedence:null})}function bv(e,r,l,s){e.querySelector('link[rel="preload"][as="style"]['+r+"]")?s.loading=1:(r=e.createElement("link"),s.preload=r,r.addEventListener("load",function(){return s.loading|=1}),r.addEventListener("error",function(){return s.loading|=2}),kt(r,"link",l),xt(r),e.head.appendChild(r))}function jr(e){return'[src="'+fn(e)+'"]'}function Hl(e){return"script[async]"+e}function Yh(e,r,l){if(r.count++,r.instance===null)switch(r.type){case"style":var s=e.querySelector('style[data-href~="'+fn(l.href)+'"]');if(s)return r.instance=s,xt(s),s;var d=v({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return s=(e.ownerDocument||e).createElement("style"),xt(s),kt(s,"style",d),vo(s,l.precedence,e),r.instance=s;case"stylesheet":d=zr(l.href);var y=e.querySelector(Vl(d));if(y)return r.state.loading|=4,r.instance=y,xt(y),y;s=Fh(l),(d=vn.get(d))&&ac(s,d),y=(e.ownerDocument||e).createElement("link"),xt(y);var S=y;return S._p=new Promise(function(w,D){S.onload=w,S.onerror=D}),kt(y,"link",s),r.state.loading|=4,vo(y,l.precedence,e),r.instance=y;case"script":return y=jr(l.src),(d=e.querySelector(Hl(y)))?(r.instance=d,xt(d),d):(s=l,(d=vn.get(y))&&(s=v({},l),oc(s,d)),e=e.ownerDocument||e,d=e.createElement("script"),xt(d),kt(d,"link",s),e.head.appendChild(d),r.instance=d);case"void":return null;default:throw Error(a(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(s=r.instance,r.state.loading|=4,vo(s,l.precedence,e));return r.instance}function vo(e,r,l){for(var s=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),d=s.length?s[s.length-1]:null,y=d,S=0;S<s.length;S++){var w=s[S];if(w.dataset.precedence===r)y=w;else if(y!==d)break}y?y.parentNode.insertBefore(e,y.nextSibling):(r=l.nodeType===9?l.head:l,r.insertBefore(e,r.firstChild))}function ac(e,r){e.crossOrigin==null&&(e.crossOrigin=r.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=r.referrerPolicy),e.title==null&&(e.title=r.title)}function oc(e,r){e.crossOrigin==null&&(e.crossOrigin=r.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=r.referrerPolicy),e.integrity==null&&(e.integrity=r.integrity)}var bo=null;function Kh(e,r,l){if(bo===null){var s=new Map,d=bo=new Map;d.set(l,s)}else d=bo,s=d.get(l),s||(s=new Map,d.set(l,s));if(s.has(e))return s;for(s.set(e,null),l=l.getElementsByTagName(e),d=0;d<l.length;d++){var y=l[d];if(!(y[Bi]||y[gt]||e==="link"&&y.getAttribute("rel")==="stylesheet")&&y.namespaceURI!=="http://www.w3.org/2000/svg"){var S=y.getAttribute(r)||"";S=e+S;var w=s.get(S);w?w.push(y):s.set(S,[y])}}return s}function $h(e,r,l){e=e.ownerDocument||e,e.head.insertBefore(l,r==="title"?e.querySelector("head > title"):null)}function Tv(e,r,l){if(l===1||r.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;switch(r.rel){case"stylesheet":return e=r.disabled,typeof r.precedence=="string"&&e==null;default:return!0}case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function Xh(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}var ql=null;function Sv(){}function Cv(e,r,l){if(ql===null)throw Error(a(475));var s=ql;if(r.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var d=zr(l.href),y=e.querySelector(Vl(d));if(y){e=y._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(s.count++,s=To.bind(s),e.then(s,s)),r.state.loading|=4,r.instance=y,xt(y);return}y=e.ownerDocument||e,l=Fh(l),(d=vn.get(d))&&ac(l,d),y=y.createElement("link"),xt(y);var S=y;S._p=new Promise(function(w,D){S.onload=w,S.onerror=D}),kt(y,"link",l),r.instance=y}s.stylesheets===null&&(s.stylesheets=new Map),s.stylesheets.set(r,e),(e=r.state.preload)&&(r.state.loading&3)===0&&(s.count++,r=To.bind(s),e.addEventListener("load",r),e.addEventListener("error",r))}}function Ev(){if(ql===null)throw Error(a(475));var e=ql;return e.stylesheets&&e.count===0&&sc(e,e.stylesheets),0<e.count?function(r){var l=setTimeout(function(){if(e.stylesheets&&sc(e,e.stylesheets),e.unsuspend){var s=e.unsuspend;e.unsuspend=null,s()}},6e4);return e.unsuspend=r,function(){e.unsuspend=null,clearTimeout(l)}}:null}function To(){if(this.count--,this.count===0){if(this.stylesheets)sc(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var So=null;function sc(e,r){e.stylesheets=null,e.unsuspend!==null&&(e.count++,So=new Map,r.forEach(wv,e),So=null,To.call(e))}function wv(e,r){if(!(r.state.loading&4)){var l=So.get(e);if(l)var s=l.get(null);else{l=new Map,So.set(e,l);for(var d=e.querySelectorAll("link[data-precedence],style[data-precedence]"),y=0;y<d.length;y++){var S=d[y];(S.nodeName==="LINK"||S.getAttribute("media")!=="not all")&&(l.set(S.dataset.precedence,S),s=S)}s&&l.set(null,s)}d=r.instance,S=d.getAttribute("data-precedence"),y=l.get(S)||s,y===s&&l.set(null,d),l.set(S,d),this.count++,s=To.bind(this),d.addEventListener("load",s),d.addEventListener("error",s),y?y.parentNode.insertBefore(d,y.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(d,e.firstChild)),r.state.loading|=4}}var Gl={$$typeof:Y,Provider:null,Consumer:null,_currentValue:N,_currentValue2:N,_threadCount:0};function Av(e,r,l,s,d,y,S,w){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Oe(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Oe(0),this.hiddenUpdates=Oe(null),this.identifierPrefix=s,this.onUncaughtError=d,this.onCaughtError=y,this.onRecoverableError=S,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=w,this.incompleteTransitions=new Map}function Jh(e,r,l,s,d,y,S,w,D,O,J,ee){return e=new Av(e,r,l,S,w,D,O,ee),r=1,y===!0&&(r|=24),y=Zt(3,null,null,r),e.current=y,y.stateNode=e,r=qs(),r.refCount++,e.pooledCache=r,r.refCount++,y.memoizedState={element:s,isDehydrated:l,cache:r},Ks(y),e}function Qh(e){return e?(e=gr,e):gr}function Zh(e,r,l,s,d,y){d=Qh(d),s.context===null?s.context=d:s.pendingContext=d,s=oi(r),s.payload={element:l},y=y===void 0?null:y,y!==null&&(s.callback=y),l=si(e,s,r),l!==null&&(rn(l,e,r),bl(l,e,r))}function Wh(e,r){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var l=e.retryLane;e.retryLane=l!==0&&l<r?l:r}}function uc(e,r){Wh(e,r),(e=e.alternate)&&Wh(e,r)}function eg(e){if(e.tag===13){var r=hr(e,67108864);r!==null&&rn(r,e,67108864),uc(e,67108864)}}var Co=!0;function Nv(e,r,l,s){var d=H.T;H.T=null;var y=R.p;try{R.p=2,cc(e,r,l,s)}finally{R.p=y,H.T=d}}function Mv(e,r,l,s){var d=H.T;H.T=null;var y=R.p;try{R.p=8,cc(e,r,l,s)}finally{R.p=y,H.T=d}}function cc(e,r,l,s){if(Co){var d=dc(s);if(d===null)Qu(e,r,s,Eo,l),ng(e,s);else if(Dv(d,e,r,l,s))s.stopPropagation();else if(ng(e,s),r&4&&-1<_v.indexOf(e)){for(;d!==null;){var y=wt(d);if(y!==null)switch(y.tag){case 3:if(y=y.stateNode,y.current.memoizedState.isDehydrated){var S=ot(y.pendingLanes);if(S!==0){var w=y;for(w.pendingLanes|=2,w.entangledLanes|=2;S;){var D=1<<31-Ce(S);w.entanglements[1]|=D,S&=~D}zn(y),(Qe&6)===0&&(ao=Ve()+500,zl(0))}}break;case 13:w=hr(y,2),w!==null&&rn(w,y,2),so(),uc(y,2)}if(y=dc(s),y===null&&Qu(e,r,s,Eo,l),y===d)break;d=y}d!==null&&s.stopPropagation()}else Qu(e,r,s,null,l)}}function dc(e){return e=ps(e),fc(e)}var Eo=null;function fc(e){if(Eo=null,e=ii(e),e!==null){var r=u(e);if(r===null)e=null;else{var l=r.tag;if(l===13){if(e=c(r),e!==null)return e;e=null}else if(l===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;e=null}else r!==e&&(e=null)}}return Eo=e,null}function tg(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Jt()){case on:return 2;case Cn:return 8;case _n:case Jr:return 32;case nr:return 268435456;default:return 32}default:return 32}}var mc=!1,Ti=null,Si=null,Ci=null,Fl=new Map,Yl=new Map,Ei=[],_v="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function ng(e,r){switch(e){case"focusin":case"focusout":Ti=null;break;case"dragenter":case"dragleave":Si=null;break;case"mouseover":case"mouseout":Ci=null;break;case"pointerover":case"pointerout":Fl.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":Yl.delete(r.pointerId)}}function Kl(e,r,l,s,d,y){return e===null||e.nativeEvent!==y?(e={blockedOn:r,domEventName:l,eventSystemFlags:s,nativeEvent:y,targetContainers:[d]},r!==null&&(r=wt(r),r!==null&&eg(r)),e):(e.eventSystemFlags|=s,r=e.targetContainers,d!==null&&r.indexOf(d)===-1&&r.push(d),e)}function Dv(e,r,l,s,d){switch(r){case"focusin":return Ti=Kl(Ti,e,r,l,s,d),!0;case"dragenter":return Si=Kl(Si,e,r,l,s,d),!0;case"mouseover":return Ci=Kl(Ci,e,r,l,s,d),!0;case"pointerover":var y=d.pointerId;return Fl.set(y,Kl(Fl.get(y)||null,e,r,l,s,d)),!0;case"gotpointercapture":return y=d.pointerId,Yl.set(y,Kl(Yl.get(y)||null,e,r,l,s,d)),!0}return!1}function ig(e){var r=ii(e.target);if(r!==null){var l=u(r);if(l!==null){if(r=l.tag,r===13){if(r=c(l),r!==null){e.blockedOn=r,as(e.priority,function(){if(l.tag===13){var s=nn();s=Wr(s);var d=hr(l,s);d!==null&&rn(d,l,s),uc(l,s)}});return}}else if(r===3&&l.stateNode.current.memoizedState.isDehydrated){e.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}e.blockedOn=null}function wo(e){if(e.blockedOn!==null)return!1;for(var r=e.targetContainers;0<r.length;){var l=dc(e.nativeEvent);if(l===null){l=e.nativeEvent;var s=new l.constructor(l.type,l);gs=s,l.target.dispatchEvent(s),gs=null}else return r=wt(l),r!==null&&eg(r),e.blockedOn=l,!1;r.shift()}return!0}function rg(e,r,l){wo(e)&&l.delete(r)}function Iv(){mc=!1,Ti!==null&&wo(Ti)&&(Ti=null),Si!==null&&wo(Si)&&(Si=null),Ci!==null&&wo(Ci)&&(Ci=null),Fl.forEach(rg),Yl.forEach(rg)}function Ao(e,r){e.blockedOn===r&&(e.blockedOn=null,mc||(mc=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Iv)))}var No=null;function lg(e){No!==e&&(No=e,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){No===e&&(No=null);for(var r=0;r<e.length;r+=3){var l=e[r],s=e[r+1],d=e[r+2];if(typeof s!="function"){if(fc(s||l)===null)continue;break}var y=wt(l);y!==null&&(e.splice(r,3),r-=3,fu(y,{pending:!0,data:d,method:l.method,action:s},s,d))}}))}function $l(e){function r(D){return Ao(D,e)}Ti!==null&&Ao(Ti,e),Si!==null&&Ao(Si,e),Ci!==null&&Ao(Ci,e),Fl.forEach(r),Yl.forEach(r);for(var l=0;l<Ei.length;l++){var s=Ei[l];s.blockedOn===e&&(s.blockedOn=null)}for(;0<Ei.length&&(l=Ei[0],l.blockedOn===null);)ig(l),l.blockedOn===null&&Ei.shift();if(l=(e.ownerDocument||e).$$reactFormReplay,l!=null)for(s=0;s<l.length;s+=3){var d=l[s],y=l[s+1],S=d[_t]||null;if(typeof y=="function")S||lg(l);else if(S){var w=null;if(y&&y.hasAttribute("formAction")){if(d=y,S=y[_t]||null)w=S.formAction;else if(fc(d)!==null)continue}else w=S.action;typeof w=="function"?l[s+1]=w:(l.splice(s,3),s-=3),lg(l)}}}function hc(e){this._internalRoot=e}Mo.prototype.render=hc.prototype.render=function(e){var r=this._internalRoot;if(r===null)throw Error(a(409));var l=r.current,s=nn();Zh(l,s,e,r,null,null)},Mo.prototype.unmount=hc.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var r=e.containerInfo;Zh(e.current,2,null,e,null,null),so(),r[ni]=null}};function Mo(e){this._internalRoot=e}Mo.prototype.unstable_scheduleHydration=function(e){if(e){var r=ya();e={blockedOn:null,target:e,priority:r};for(var l=0;l<Ei.length&&r!==0&&r<Ei[l].priority;l++);Ei.splice(l,0,e),l===0&&ig(e)}};var ag=t.version;if(ag!=="19.1.0")throw Error(a(527,ag,"19.1.0"));R.findDOMNode=function(e){var r=e._reactInternals;if(r===void 0)throw typeof e.render=="function"?Error(a(188)):(e=Object.keys(e).join(","),Error(a(268,e)));return e=x(r),e=e!==null?f(e):null,e=e===null?null:e.stateNode,e};var kv={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:H,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var _o=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!_o.isDisabled&&_o.supportsFiber)try{X=_o.inject(kv),ie=_o}catch{}}return Jl.createRoot=function(e,r){if(!o(e))throw Error(a(299));var l=!1,s="",d=Sm,y=Cm,S=Em,w=null;return r!=null&&(r.unstable_strictMode===!0&&(l=!0),r.identifierPrefix!==void 0&&(s=r.identifierPrefix),r.onUncaughtError!==void 0&&(d=r.onUncaughtError),r.onCaughtError!==void 0&&(y=r.onCaughtError),r.onRecoverableError!==void 0&&(S=r.onRecoverableError),r.unstable_transitionCallbacks!==void 0&&(w=r.unstable_transitionCallbacks)),r=Jh(e,1,!1,null,null,l,s,d,y,S,w,null),e[ni]=r.current,Ju(e),new hc(r)},Jl.hydrateRoot=function(e,r,l){if(!o(e))throw Error(a(299));var s=!1,d="",y=Sm,S=Cm,w=Em,D=null,O=null;return l!=null&&(l.unstable_strictMode===!0&&(s=!0),l.identifierPrefix!==void 0&&(d=l.identifierPrefix),l.onUncaughtError!==void 0&&(y=l.onUncaughtError),l.onCaughtError!==void 0&&(S=l.onCaughtError),l.onRecoverableError!==void 0&&(w=l.onRecoverableError),l.unstable_transitionCallbacks!==void 0&&(D=l.unstable_transitionCallbacks),l.formState!==void 0&&(O=l.formState)),r=Jh(e,1,!0,r,l??null,s,d,y,S,w,D,O),r.context=Qh(null),l=r.current,s=nn(),s=Wr(s),d=oi(s),d.callback=null,si(l,d,s),l=s,r.current.lanes=l,Et(r,l),zn(r),e[ni]=r.current,Ju(e),new Mo(r)},Jl.version="19.1.0",Jl}var pg;function qv(){if(pg)return yc.exports;pg=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(t){console.error(t)}}return i(),yc.exports=Hv(),yc.exports}var Gv=qv();const Fv=da(Gv);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let Yv,Kv;function $v(){return{geminiUrl:Yv,vertexUrl:Kv}}function Xv(i,t,n){var a,o,u;if(!(!((a=i.httpOptions)===null||a===void 0)&&a.baseUrl)){const c=$v();return i.vertexai?(o=c.vertexUrl)!==null&&o!==void 0?o:t:(u=c.geminiUrl)!==null&&u!==void 0?u:n}return i.httpOptions.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class fa{}function De(i,t){const n=/\{([^}]+)\}/g;return i.replace(n,(a,o)=>{if(Object.prototype.hasOwnProperty.call(t,o)){const u=t[o];return u!=null?String(u):""}else throw new Error(`Key '${o}' not found in valueMap.`)})}function p(i,t,n){for(let u=0;u<t.length-1;u++){const c=t[u];if(c.endsWith("[]")){const m=c.slice(0,-2);if(!(m in i))if(Array.isArray(n))i[m]=Array.from({length:n.length},()=>({}));else throw new Error(`Value must be a list given an array path ${c}`);if(Array.isArray(i[m])){const x=i[m];if(Array.isArray(n))for(let f=0;f<x.length;f++){const v=x[f];p(v,t.slice(u+1),n[f])}else for(const f of x)p(f,t.slice(u+1),n)}return}else if(c.endsWith("[0]")){const m=c.slice(0,-3);m in i||(i[m]=[{}]);const x=i[m];p(x[0],t.slice(u+1),n);return}(!i[c]||typeof i[c]!="object")&&(i[c]={}),i=i[c]}const a=t[t.length-1],o=i[a];if(o!==void 0){if(!n||typeof n=="object"&&Object.keys(n).length===0||n===o)return;if(typeof o=="object"&&typeof n=="object"&&o!==null&&n!==null)Object.assign(o,n);else throw new Error(`Cannot set value for an existing key. Key: ${a}`)}else i[a]=n}function g(i,t){try{if(t.length===1&&t[0]==="_self")return i;for(let n=0;n<t.length;n++){if(typeof i!="object"||i===null)return;const a=t[n];if(a.endsWith("[]")){const o=a.slice(0,-2);if(o in i){const u=i[o];return Array.isArray(u)?u.map(c=>g(c,t.slice(n+1))):void 0}else return}else i=i[a]}return i}catch(n){if(n instanceof TypeError)return;throw n}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function mt(i,t){if(!t||typeof t!="string")throw new Error("model is required and must be a string");if(i.isVertexAI()){if(t.startsWith("publishers/")||t.startsWith("projects/")||t.startsWith("models/"))return t;if(t.indexOf("/")>=0){const n=t.split("/",2);return`publishers/${n[0]}/models/${n[1]}`}else return`publishers/google/models/${t}`}else return t.startsWith("models/")||t.startsWith("tunedModels/")?t:`models/${t}`}function S0(i,t){const n=mt(i,t);return n?n.startsWith("publishers/")&&i.isVertexAI()?`projects/${i.getProject()}/locations/${i.getLocation()}/${n}`:n.startsWith("models/")&&i.isVertexAI()?`projects/${i.getProject()}/locations/${i.getLocation()}/publishers/google/${n}`:n:""}function C0(i,t){return Array.isArray(t)?t.map(n=>Fo(i,n)):[Fo(i,t)]}function Fo(i,t){if(typeof t=="object"&&t!==null)return t;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof t}`)}function Jv(i,t){const n=Fo(i,t);if(n.mimeType&&n.mimeType.startsWith("image/"))return n;throw new Error(`Unsupported mime type: ${n.mimeType}`)}function Qv(i,t){const n=Fo(i,t);if(n.mimeType&&n.mimeType.startsWith("audio/"))return n;throw new Error(`Unsupported mime type: ${n.mimeType}`)}function yg(i,t){if(t==null)throw new Error("PartUnion is required");if(typeof t=="object")return t;if(typeof t=="string")return{text:t};throw new Error(`Unsupported part type: ${typeof t}`)}function E0(i,t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("PartListUnion is required");return Array.isArray(t)?t.map(n=>yg(i,n)):[yg(i,t)]}function Oc(i){return i!=null&&typeof i=="object"&&"parts"in i&&Array.isArray(i.parts)}function xg(i){return i!=null&&typeof i=="object"&&"functionCall"in i}function vg(i){return i!=null&&typeof i=="object"&&"functionResponse"in i}function Kt(i,t){if(t==null)throw new Error("ContentUnion is required");return Oc(t)?t:{role:"user",parts:E0(i,t)}}function w0(i,t){if(!t)return[];if(i.isVertexAI()&&Array.isArray(t))return t.flatMap(n=>{const a=Kt(i,n);return a.parts&&a.parts.length>0&&a.parts[0].text!==void 0?[a.parts[0].text]:[]});if(i.isVertexAI()){const n=Kt(i,t);return n.parts&&n.parts.length>0&&n.parts[0].text!==void 0?[n.parts[0].text]:[]}return Array.isArray(t)?t.map(n=>Kt(i,n)):[Kt(i,t)]}function Di(i,t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("contents are required");if(!Array.isArray(t)){if(xg(t)||vg(t))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[Kt(i,t)]}const n=[],a=[],o=Oc(t[0]);for(const u of t){const c=Oc(u);if(c!=o)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(c)n.push(u);else{if(xg(u)||vg(u))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");a.push(u)}}return o||n.push({role:"user",parts:E0(i,a)}),n}function A0(i,t){return t}function N0(i,t){if(typeof t=="object")return t;if(typeof t=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:t}}};throw new Error(`Unsupported speechConfig type: ${typeof t}`)}function es(i,t){return t}function ts(i,t){if(!Array.isArray(t))throw new Error("tool is required and must be an array of Tools");return t}function Zv(i,t,n,a=1){const o=!t.startsWith(`${n}/`)&&t.split("/").length===a;return i.isVertexAI()?t.startsWith("projects/")?t:t.startsWith("locations/")?`projects/${i.getProject()}/${t}`:t.startsWith(`${n}/`)?`projects/${i.getProject()}/locations/${i.getLocation()}/${t}`:o?`projects/${i.getProject()}/locations/${i.getLocation()}/${n}/${t}`:t:o?`${n}/${t}`:t}function Ii(i,t){if(typeof t!="string")throw new Error("name must be a string");return Zv(i,t,"cachedContents")}function M0(i,t){switch(t){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return t}}function ki(i,t){if(typeof t!="string")throw new Error("fromImageBytes must be a string");return t}function _0(i,t){if(typeof t!="string")throw new Error("fromName must be a string");return t.startsWith("files/")?t.split("files/")[1]:t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Wv(i,t){const n={};if(g(t,["videoMetadata"])!==void 0)throw new Error("videoMetadata parameter is not supported in Gemini API.");const a=g(t,["thought"]);a!=null&&p(n,["thought"],a);const o=g(t,["codeExecutionResult"]);o!=null&&p(n,["codeExecutionResult"],o);const u=g(t,["executableCode"]);u!=null&&p(n,["executableCode"],u);const c=g(t,["fileData"]);c!=null&&p(n,["fileData"],c);const m=g(t,["functionCall"]);m!=null&&p(n,["functionCall"],m);const x=g(t,["functionResponse"]);x!=null&&p(n,["functionResponse"],x);const f=g(t,["inlineData"]);f!=null&&p(n,["inlineData"],f);const v=g(t,["text"]);return v!=null&&p(n,["text"],v),n}function bg(i,t){const n={},a=g(t,["parts"]);if(a!=null){let u=a;Array.isArray(u)&&(u=u.map(c=>Wv(i,c))),p(n,["parts"],u)}const o=g(t,["role"]);return o!=null&&p(n,["role"],o),n}function eb(){return{}}function tb(i,t){const n={},a=g(t,["mode"]);a!=null&&p(n,["mode"],a);const o=g(t,["dynamicThreshold"]);return o!=null&&p(n,["dynamicThreshold"],o),n}function nb(i,t){const n={},a=g(t,["dynamicRetrievalConfig"]);return a!=null&&p(n,["dynamicRetrievalConfig"],tb(i,a)),n}function ib(i,t){const n={};if(g(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");g(t,["googleSearch"])!=null&&p(n,["googleSearch"],eb());const o=g(t,["googleSearchRetrieval"]);o!=null&&p(n,["googleSearchRetrieval"],nb(i,o));const u=g(t,["codeExecution"]);u!=null&&p(n,["codeExecution"],u);const c=g(t,["functionDeclarations"]);return c!=null&&p(n,["functionDeclarations"],c),n}function rb(i,t){const n={},a=g(t,["mode"]);a!=null&&p(n,["mode"],a);const o=g(t,["allowedFunctionNames"]);return o!=null&&p(n,["allowedFunctionNames"],o),n}function lb(i,t){const n={},a=g(t,["functionCallingConfig"]);return a!=null&&p(n,["functionCallingConfig"],rb(i,a)),n}function ab(i,t,n){const a={},o=g(t,["ttl"]);n!==void 0&&o!=null&&p(n,["ttl"],o);const u=g(t,["expireTime"]);n!==void 0&&u!=null&&p(n,["expireTime"],u);const c=g(t,["displayName"]);n!==void 0&&c!=null&&p(n,["displayName"],c);const m=g(t,["contents"]);if(n!==void 0&&m!=null){let b=Di(i,m);Array.isArray(b)&&(b=b.map(C=>bg(i,C))),p(n,["contents"],b)}const x=g(t,["systemInstruction"]);n!==void 0&&x!=null&&p(n,["systemInstruction"],bg(i,Kt(i,x)));const f=g(t,["tools"]);if(n!==void 0&&f!=null){let b=f;Array.isArray(b)&&(b=b.map(C=>ib(i,C))),p(n,["tools"],b)}const v=g(t,["toolConfig"]);return n!==void 0&&v!=null&&p(n,["toolConfig"],lb(i,v)),a}function ob(i,t){const n={},a=g(t,["model"]);a!=null&&p(n,["model"],S0(i,a));const o=g(t,["config"]);return o!=null&&p(n,["config"],ab(i,o,n)),n}function sb(i,t){const n={},a=g(t,["name"]);a!=null&&p(n,["_url","name"],Ii(i,a));const o=g(t,["config"]);return o!=null&&p(n,["config"],o),n}function ub(i,t){const n={},a=g(t,["name"]);a!=null&&p(n,["_url","name"],Ii(i,a));const o=g(t,["config"]);return o!=null&&p(n,["config"],o),n}function cb(i,t,n){const a={},o=g(t,["ttl"]);n!==void 0&&o!=null&&p(n,["ttl"],o);const u=g(t,["expireTime"]);return n!==void 0&&u!=null&&p(n,["expireTime"],u),a}function db(i,t){const n={},a=g(t,["name"]);a!=null&&p(n,["_url","name"],Ii(i,a));const o=g(t,["config"]);return o!=null&&p(n,["config"],cb(i,o,n)),n}function fb(i,t,n){const a={},o=g(t,["pageSize"]);n!==void 0&&o!=null&&p(n,["_query","pageSize"],o);const u=g(t,["pageToken"]);return n!==void 0&&u!=null&&p(n,["_query","pageToken"],u),a}function mb(i,t){const n={},a=g(t,["config"]);return a!=null&&p(n,["config"],fb(i,a,n)),n}function hb(i,t){const n={},a=g(t,["videoMetadata"]);a!=null&&p(n,["videoMetadata"],a);const o=g(t,["thought"]);o!=null&&p(n,["thought"],o);const u=g(t,["codeExecutionResult"]);u!=null&&p(n,["codeExecutionResult"],u);const c=g(t,["executableCode"]);c!=null&&p(n,["executableCode"],c);const m=g(t,["fileData"]);m!=null&&p(n,["fileData"],m);const x=g(t,["functionCall"]);x!=null&&p(n,["functionCall"],x);const f=g(t,["functionResponse"]);f!=null&&p(n,["functionResponse"],f);const v=g(t,["inlineData"]);v!=null&&p(n,["inlineData"],v);const b=g(t,["text"]);return b!=null&&p(n,["text"],b),n}function Tg(i,t){const n={},a=g(t,["parts"]);if(a!=null){let u=a;Array.isArray(u)&&(u=u.map(c=>hb(i,c))),p(n,["parts"],u)}const o=g(t,["role"]);return o!=null&&p(n,["role"],o),n}function gb(){return{}}function pb(i,t){const n={},a=g(t,["mode"]);a!=null&&p(n,["mode"],a);const o=g(t,["dynamicThreshold"]);return o!=null&&p(n,["dynamicThreshold"],o),n}function yb(i,t){const n={},a=g(t,["dynamicRetrievalConfig"]);return a!=null&&p(n,["dynamicRetrievalConfig"],pb(i,a)),n}function xb(i,t){const n={},a=g(t,["retrieval"]);a!=null&&p(n,["retrieval"],a),g(t,["googleSearch"])!=null&&p(n,["googleSearch"],gb());const u=g(t,["googleSearchRetrieval"]);u!=null&&p(n,["googleSearchRetrieval"],yb(i,u));const c=g(t,["codeExecution"]);c!=null&&p(n,["codeExecution"],c);const m=g(t,["functionDeclarations"]);return m!=null&&p(n,["functionDeclarations"],m),n}function vb(i,t){const n={},a=g(t,["mode"]);a!=null&&p(n,["mode"],a);const o=g(t,["allowedFunctionNames"]);return o!=null&&p(n,["allowedFunctionNames"],o),n}function bb(i,t){const n={},a=g(t,["functionCallingConfig"]);return a!=null&&p(n,["functionCallingConfig"],vb(i,a)),n}function Tb(i,t,n){const a={},o=g(t,["ttl"]);n!==void 0&&o!=null&&p(n,["ttl"],o);const u=g(t,["expireTime"]);n!==void 0&&u!=null&&p(n,["expireTime"],u);const c=g(t,["displayName"]);n!==void 0&&c!=null&&p(n,["displayName"],c);const m=g(t,["contents"]);if(n!==void 0&&m!=null){let b=Di(i,m);Array.isArray(b)&&(b=b.map(C=>Tg(i,C))),p(n,["contents"],b)}const x=g(t,["systemInstruction"]);n!==void 0&&x!=null&&p(n,["systemInstruction"],Tg(i,Kt(i,x)));const f=g(t,["tools"]);if(n!==void 0&&f!=null){let b=f;Array.isArray(b)&&(b=b.map(C=>xb(i,C))),p(n,["tools"],b)}const v=g(t,["toolConfig"]);return n!==void 0&&v!=null&&p(n,["toolConfig"],bb(i,v)),a}function Sb(i,t){const n={},a=g(t,["model"]);a!=null&&p(n,["model"],S0(i,a));const o=g(t,["config"]);return o!=null&&p(n,["config"],Tb(i,o,n)),n}function Cb(i,t){const n={},a=g(t,["name"]);a!=null&&p(n,["_url","name"],Ii(i,a));const o=g(t,["config"]);return o!=null&&p(n,["config"],o),n}function Eb(i,t){const n={},a=g(t,["name"]);a!=null&&p(n,["_url","name"],Ii(i,a));const o=g(t,["config"]);return o!=null&&p(n,["config"],o),n}function wb(i,t,n){const a={},o=g(t,["ttl"]);n!==void 0&&o!=null&&p(n,["ttl"],o);const u=g(t,["expireTime"]);return n!==void 0&&u!=null&&p(n,["expireTime"],u),a}function Ab(i,t){const n={},a=g(t,["name"]);a!=null&&p(n,["_url","name"],Ii(i,a));const o=g(t,["config"]);return o!=null&&p(n,["config"],wb(i,o,n)),n}function Nb(i,t,n){const a={},o=g(t,["pageSize"]);n!==void 0&&o!=null&&p(n,["_query","pageSize"],o);const u=g(t,["pageToken"]);return n!==void 0&&u!=null&&p(n,["_query","pageToken"],u),a}function Mb(i,t){const n={},a=g(t,["config"]);return a!=null&&p(n,["config"],Nb(i,a,n)),n}function Po(i,t){const n={},a=g(t,["name"]);a!=null&&p(n,["name"],a);const o=g(t,["displayName"]);o!=null&&p(n,["displayName"],o);const u=g(t,["model"]);u!=null&&p(n,["model"],u);const c=g(t,["createTime"]);c!=null&&p(n,["createTime"],c);const m=g(t,["updateTime"]);m!=null&&p(n,["updateTime"],m);const x=g(t,["expireTime"]);x!=null&&p(n,["expireTime"],x);const f=g(t,["usageMetadata"]);return f!=null&&p(n,["usageMetadata"],f),n}function _b(){return{}}function Db(i,t){const n={},a=g(t,["nextPageToken"]);a!=null&&p(n,["nextPageToken"],a);const o=g(t,["cachedContents"]);if(o!=null){let u=o;Array.isArray(u)&&(u=u.map(c=>Po(i,c))),p(n,["cachedContents"],u)}return n}function Vo(i,t){const n={},a=g(t,["name"]);a!=null&&p(n,["name"],a);const o=g(t,["displayName"]);o!=null&&p(n,["displayName"],o);const u=g(t,["model"]);u!=null&&p(n,["model"],u);const c=g(t,["createTime"]);c!=null&&p(n,["createTime"],c);const m=g(t,["updateTime"]);m!=null&&p(n,["updateTime"],m);const x=g(t,["expireTime"]);x!=null&&p(n,["expireTime"],x);const f=g(t,["usageMetadata"]);return f!=null&&p(n,["usageMetadata"],f),n}function Ib(){return{}}function kb(i,t){const n={},a=g(t,["nextPageToken"]);a!=null&&p(n,["nextPageToken"],a);const o=g(t,["cachedContents"]);if(o!=null){let u=o;Array.isArray(u)&&(u=u.map(c=>Vo(i,c))),p(n,["cachedContents"],u)}return n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var ua;(function(i){i.PAGED_ITEM_BATCH_JOBS="batchJobs",i.PAGED_ITEM_MODELS="models",i.PAGED_ITEM_TUNING_JOBS="tuningJobs",i.PAGED_ITEM_FILES="files",i.PAGED_ITEM_CACHED_CONTENTS="cachedContents"})(ua||(ua={}));class ud{constructor(t,n,a,o){this.pageInternal=[],this.paramsInternal={},this.requestInternal=n,this.init(t,a,o)}init(t,n,a){var o,u;this.nameInternal=t,this.pageInternal=n[this.nameInternal]||[],this.idxInternal=0;let c={config:{}};a?typeof a=="object"?c=Object.assign({},a):c=a:c={config:{}},c.config&&(c.config.pageToken=n.nextPageToken),this.paramsInternal=c,this.pageInternalSize=(u=(o=c.config)===null||o===void 0?void 0:o.pageSize)!==null&&u!==void 0?u:this.pageInternal.length}initNextPage(t){this.init(this.nameInternal,t,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(t){return this.pageInternal[t]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const t=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:t,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const t=await this.requestInternal(this.params);return this.initNextPage(t),this.page}hasNextPage(){var t;return((t=this.params.config)===null||t===void 0?void 0:t.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Sg;(function(i){i.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",i.OUTCOME_OK="OUTCOME_OK",i.OUTCOME_FAILED="OUTCOME_FAILED",i.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(Sg||(Sg={}));var Cg;(function(i){i.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",i.PYTHON="PYTHON"})(Cg||(Cg={}));var Eg;(function(i){i.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",i.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",i.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",i.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",i.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",i.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY"})(Eg||(Eg={}));var wg;(function(i){i.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",i.SEVERITY="SEVERITY",i.PROBABILITY="PROBABILITY"})(wg||(wg={}));var Ag;(function(i){i.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",i.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",i.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",i.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",i.BLOCK_NONE="BLOCK_NONE",i.OFF="OFF"})(Ag||(Ag={}));var Ng;(function(i){i.MODE_UNSPECIFIED="MODE_UNSPECIFIED",i.MODE_DYNAMIC="MODE_DYNAMIC"})(Ng||(Ng={}));var Mg;(function(i){i.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",i.STRING="STRING",i.NUMBER="NUMBER",i.INTEGER="INTEGER",i.BOOLEAN="BOOLEAN",i.ARRAY="ARRAY",i.OBJECT="OBJECT"})(Mg||(Mg={}));var _g;(function(i){i.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",i.STOP="STOP",i.MAX_TOKENS="MAX_TOKENS",i.SAFETY="SAFETY",i.RECITATION="RECITATION",i.LANGUAGE="LANGUAGE",i.OTHER="OTHER",i.BLOCKLIST="BLOCKLIST",i.PROHIBITED_CONTENT="PROHIBITED_CONTENT",i.SPII="SPII",i.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",i.IMAGE_SAFETY="IMAGE_SAFETY"})(_g||(_g={}));var Dg;(function(i){i.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",i.NEGLIGIBLE="NEGLIGIBLE",i.LOW="LOW",i.MEDIUM="MEDIUM",i.HIGH="HIGH"})(Dg||(Dg={}));var Ig;(function(i){i.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",i.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",i.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",i.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",i.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(Ig||(Ig={}));var kg;(function(i){i.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",i.SAFETY="SAFETY",i.OTHER="OTHER",i.BLOCKLIST="BLOCKLIST",i.PROHIBITED_CONTENT="PROHIBITED_CONTENT"})(kg||(kg={}));var Rg;(function(i){i.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",i.ON_DEMAND="ON_DEMAND",i.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(Rg||(Rg={}));var Yo;(function(i){i.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",i.TEXT="TEXT",i.IMAGE="IMAGE",i.AUDIO="AUDIO"})(Yo||(Yo={}));var Bg;(function(i){i.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",i.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",i.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",i.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(Bg||(Bg={}));var Pc;(function(i){i.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",i.JOB_STATE_QUEUED="JOB_STATE_QUEUED",i.JOB_STATE_PENDING="JOB_STATE_PENDING",i.JOB_STATE_RUNNING="JOB_STATE_RUNNING",i.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",i.JOB_STATE_FAILED="JOB_STATE_FAILED",i.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",i.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",i.JOB_STATE_PAUSED="JOB_STATE_PAUSED",i.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",i.JOB_STATE_UPDATING="JOB_STATE_UPDATING",i.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(Pc||(Pc={}));var Lg;(function(i){i.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",i.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",i.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",i.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",i.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",i.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",i.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(Lg||(Lg={}));var Ug;(function(i){i.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",i.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",i.BALANCED="BALANCED",i.PRIORITIZE_COST="PRIORITIZE_COST"})(Ug||(Ug={}));var zg;(function(i){i.MODE_UNSPECIFIED="MODE_UNSPECIFIED",i.MODE_DYNAMIC="MODE_DYNAMIC"})(zg||(zg={}));var jg;(function(i){i.MODE_UNSPECIFIED="MODE_UNSPECIFIED",i.AUTO="AUTO",i.ANY="ANY",i.NONE="NONE"})(jg||(jg={}));var Og;(function(i){i.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",i.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",i.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",i.BLOCK_NONE="BLOCK_NONE"})(Og||(Og={}));var Pg;(function(i){i.DONT_ALLOW="DONT_ALLOW",i.ALLOW_ADULT="ALLOW_ADULT",i.ALLOW_ALL="ALLOW_ALL"})(Pg||(Pg={}));var Vg;(function(i){i.auto="auto",i.en="en",i.ja="ja",i.ko="ko",i.hi="hi"})(Vg||(Vg={}));var Hg;(function(i){i.STATE_UNSPECIFIED="STATE_UNSPECIFIED",i.PROCESSING="PROCESSING",i.ACTIVE="ACTIVE",i.FAILED="FAILED"})(Hg||(Hg={}));var qg;(function(i){i.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",i.UPLOADED="UPLOADED",i.GENERATED="GENERATED"})(qg||(qg={}));var Gg;(function(i){i.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",i.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",i.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",i.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",i.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(Gg||(Gg={}));var Fg;(function(i){i.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",i.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",i.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",i.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(Fg||(Fg={}));var Yg;(function(i){i.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",i.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",i.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",i.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(Yg||(Yg={}));var Kg;(function(i){i.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",i.TEXT="TEXT",i.IMAGE="IMAGE",i.VIDEO="VIDEO",i.AUDIO="AUDIO",i.DOCUMENT="DOCUMENT"})(Kg||(Kg={}));var $g;(function(i){i.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",i.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",i.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})($g||($g={}));var Xg;(function(i){i.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",i.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",i.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(Xg||(Xg={}));var Jg;(function(i){i.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",i.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",i.NO_INTERRUPTION="NO_INTERRUPTION"})(Jg||(Jg={}));var Qg;(function(i){i.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",i.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",i.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(Qg||(Qg={}));class Do{get text(){var t,n,a,o,u,c,m,x;if(((o=(a=(n=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||n===void 0?void 0:n.content)===null||a===void 0?void 0:a.parts)===null||o===void 0?void 0:o.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let f="",v=!1;const b=[];for(const C of(x=(m=(c=(u=this.candidates)===null||u===void 0?void 0:u[0])===null||c===void 0?void 0:c.content)===null||m===void 0?void 0:m.parts)!==null&&x!==void 0?x:[]){for(const[E,M]of Object.entries(C))E!=="text"&&E!=="thought"&&(M!==null||M!==void 0)&&b.push(E);if(typeof C.text=="string"){if(typeof C.thought=="boolean"&&C.thought)continue;v=!0,f+=C.text}}return b.length>0&&console.warn(`there are non-text parts ${b} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),v?f:void 0}get data(){var t,n,a,o,u,c,m,x;if(((o=(a=(n=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||n===void 0?void 0:n.content)===null||a===void 0?void 0:a.parts)===null||o===void 0?void 0:o.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let f="";const v=[];for(const b of(x=(m=(c=(u=this.candidates)===null||u===void 0?void 0:u[0])===null||c===void 0?void 0:c.content)===null||m===void 0?void 0:m.parts)!==null&&x!==void 0?x:[]){for(const[C,E]of Object.entries(b))C!=="inlineData"&&(E!==null||E!==void 0)&&v.push(C);b.inlineData&&typeof b.inlineData.data=="string"&&(f+=atob(b.inlineData.data))}return v.length>0&&console.warn(`there are non-data parts ${v} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),f.length>0?btoa(f):void 0}get functionCalls(){var t,n,a,o,u,c,m,x;if(((o=(a=(n=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||n===void 0?void 0:n.content)===null||a===void 0?void 0:a.parts)===null||o===void 0?void 0:o.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const f=(x=(m=(c=(u=this.candidates)===null||u===void 0?void 0:u[0])===null||c===void 0?void 0:c.content)===null||m===void 0?void 0:m.parts)===null||x===void 0?void 0:x.filter(v=>v.functionCall).map(v=>v.functionCall).filter(v=>v!==void 0);if((f==null?void 0:f.length)!==0)return f}get executableCode(){var t,n,a,o,u,c,m,x,f;if(((o=(a=(n=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||n===void 0?void 0:n.content)===null||a===void 0?void 0:a.parts)===null||o===void 0?void 0:o.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const v=(x=(m=(c=(u=this.candidates)===null||u===void 0?void 0:u[0])===null||c===void 0?void 0:c.content)===null||m===void 0?void 0:m.parts)===null||x===void 0?void 0:x.filter(b=>b.executableCode).map(b=>b.executableCode).filter(b=>b!==void 0);if((v==null?void 0:v.length)!==0)return(f=v==null?void 0:v[0])===null||f===void 0?void 0:f.code}get codeExecutionResult(){var t,n,a,o,u,c,m,x,f;if(((o=(a=(n=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||n===void 0?void 0:n.content)===null||a===void 0?void 0:a.parts)===null||o===void 0?void 0:o.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const v=(x=(m=(c=(u=this.candidates)===null||u===void 0?void 0:u[0])===null||c===void 0?void 0:c.content)===null||m===void 0?void 0:m.parts)===null||x===void 0?void 0:x.filter(b=>b.codeExecutionResult).map(b=>b.codeExecutionResult).filter(b=>b!==void 0);if((v==null?void 0:v.length)!==0)return(f=v==null?void 0:v[0])===null||f===void 0?void 0:f.output}}class Zg{}class Wg{}class ep{}class tp{}class Rb{}class np{}class ip{}class rp{}class Bb{}class Vc{constructor(t){const n={};for(const a of t.headers.entries())n[a[0]]=a[1];this.headers=n,this.responseInternal=t}json(){return this.responseInternal.json()}}class Lb{}class Ub{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class zb extends fa{constructor(t){super(),this.apiClient=t,this.list=async(n={})=>new ud(ua.PAGED_ITEM_CACHED_CONTENTS,a=>this.listInternal(a),await this.listInternal(n),n)}async create(t){var n,a,o,u;let c,m="",x={};if(this.apiClient.isVertexAI()){const f=Sb(this.apiClient,t);return m=De("cachedContents",f._url),x=f._query,delete f.config,delete f._url,delete f._query,c=this.apiClient.request({path:m,queryParams:x,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),c.then(v=>Vo(this.apiClient,v))}else{const f=ob(this.apiClient,t);return m=De("cachedContents",f._url),x=f._query,delete f.config,delete f._url,delete f._query,c=this.apiClient.request({path:m,queryParams:x,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(u=t.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json()),c.then(v=>Po(this.apiClient,v))}}async get(t){var n,a,o,u;let c,m="",x={};if(this.apiClient.isVertexAI()){const f=Cb(this.apiClient,t);return m=De("{name}",f._url),x=f._query,delete f.config,delete f._url,delete f._query,c=this.apiClient.request({path:m,queryParams:x,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),c.then(v=>Vo(this.apiClient,v))}else{const f=sb(this.apiClient,t);return m=De("{name}",f._url),x=f._query,delete f.config,delete f._url,delete f._query,c=this.apiClient.request({path:m,queryParams:x,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(u=t.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json()),c.then(v=>Po(this.apiClient,v))}}async delete(t){var n,a,o,u;let c,m="",x={};if(this.apiClient.isVertexAI()){const f=Eb(this.apiClient,t);return m=De("{name}",f._url),x=f._query,delete f.config,delete f._url,delete f._query,c=this.apiClient.request({path:m,queryParams:x,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),c.then(()=>{const v=Ib(),b=new ip;return Object.assign(b,v),b})}else{const f=ub(this.apiClient,t);return m=De("{name}",f._url),x=f._query,delete f.config,delete f._url,delete f._query,c=this.apiClient.request({path:m,queryParams:x,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(u=t.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json()),c.then(()=>{const v=_b(),b=new ip;return Object.assign(b,v),b})}}async update(t){var n,a,o,u;let c,m="",x={};if(this.apiClient.isVertexAI()){const f=Ab(this.apiClient,t);return m=De("{name}",f._url),x=f._query,delete f.config,delete f._url,delete f._query,c=this.apiClient.request({path:m,queryParams:x,body:JSON.stringify(f),httpMethod:"PATCH",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),c.then(v=>Vo(this.apiClient,v))}else{const f=db(this.apiClient,t);return m=De("{name}",f._url),x=f._query,delete f.config,delete f._url,delete f._query,c=this.apiClient.request({path:m,queryParams:x,body:JSON.stringify(f),httpMethod:"PATCH",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(u=t.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json()),c.then(v=>Po(this.apiClient,v))}}async listInternal(t){var n,a,o,u;let c,m="",x={};if(this.apiClient.isVertexAI()){const f=Mb(this.apiClient,t);return m=De("cachedContents",f._url),x=f._query,delete f.config,delete f._url,delete f._query,c=this.apiClient.request({path:m,queryParams:x,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),c.then(v=>{const b=kb(this.apiClient,v),C=new rp;return Object.assign(C,b),C})}else{const f=mb(this.apiClient,t);return m=De("cachedContents",f._url),x=f._query,delete f.config,delete f._url,delete f._query,c=this.apiClient.request({path:m,queryParams:x,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(u=t.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json()),c.then(v=>{const b=Db(this.apiClient,v),C=new rp;return Object.assign(C,b),C})}}}function lp(i){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&i[t],a=0;if(n)return n.call(i);if(i&&typeof i.length=="number")return{next:function(){return i&&a>=i.length&&(i=void 0),{value:i&&i[a++],done:!i}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function Ut(i){return this instanceof Ut?(this.v=i,this):new Ut(i)}function Ko(i,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var a=n.apply(i,t||[]),o,u=[];return o=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),m("next"),m("throw"),m("return",c),o[Symbol.asyncIterator]=function(){return this},o;function c(E){return function(M){return Promise.resolve(M).then(E,b)}}function m(E,M){a[E]&&(o[E]=function(B){return new Promise(function(P,j){u.push([E,B,P,j])>1||x(E,B)})},M&&(o[E]=M(o[E])))}function x(E,M){try{f(a[E](M))}catch(B){C(u[0][3],B)}}function f(E){E.value instanceof Ut?Promise.resolve(E.value.v).then(v,b):C(u[0][2],E)}function v(E){x("next",E)}function b(E){x("throw",E)}function C(E,M){E(M),u.shift(),u.length&&x(u[0][0],u[0][1])}}function Hc(i){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=i[Symbol.asyncIterator],n;return t?t.call(i):(i=typeof lp=="function"?lp(i):i[Symbol.iterator](),n={},a("next"),a("throw"),a("return"),n[Symbol.asyncIterator]=function(){return this},n);function a(u){n[u]=i[u]&&function(c){return new Promise(function(m,x){c=i[u](c),o(m,x,c.done,c.value)})}}function o(u,c,m,x){Promise.resolve(x).then(function(f){u({value:f,done:m})},c)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function jb(i){var t;if(i.candidates==null||i.candidates.length===0)return!1;const n=(t=i.candidates[0])===null||t===void 0?void 0:t.content;return n===void 0?!1:D0(n)}function D0(i){if(i.parts===void 0||i.parts.length===0)return!1;for(const t of i.parts)if(t===void 0||Object.keys(t).length===0||t.text!==void 0&&t.text==="")return!1;return!0}function Ob(i){if(i.length!==0){if(i[0].role!=="user")throw new Error("History must start with a user turn.");for(const t of i)if(t.role!=="user"&&t.role!=="model")throw new Error(`Role must be user or model, but got ${t.role}.`)}}function Pb(i){if(i===void 0||i.length===0)return[];const t=[],n=i.length;let a=0,o=i[0];for(;a<n;)if(i[a].role==="user")o=i[a],a++;else{const u=[];let c=!0;for(;a<n&&i[a].role==="model";)u.push(i[a]),c&&!D0(i[a])&&(c=!1),a++;c&&(t.push(o),t.push(...u))}return t}class Vb{constructor(t,n){this.modelsModule=t,this.apiClient=n}create(t){return new Hb(this.apiClient,this.modelsModule,t.model,t.config,t.history)}}class Hb{constructor(t,n,a,o={},u=[]){this.apiClient=t,this.modelsModule=n,this.model=a,this.config=o,this.history=u,this.sendPromise=Promise.resolve(),Ob(u)}async sendMessage(t){var n;await this.sendPromise;const a=Kt(this.apiClient,t.message),o=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(a),config:(n=t.config)!==null&&n!==void 0?n:this.config});return this.sendPromise=(async()=>{var u,c;const x=(c=(u=(await o).candidates)===null||u===void 0?void 0:u[0])===null||c===void 0?void 0:c.content,f=x?[x]:[];this.recordHistory(a,f)})(),await this.sendPromise,o}async sendMessageStream(t){var n;await this.sendPromise;const a=Kt(this.apiClient,t.message),o=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(a),config:(n=t.config)!==null&&n!==void 0?n:this.config});this.sendPromise=o.then(()=>{}).catch(()=>{});const u=await o;return this.processStreamResponse(u,a)}getHistory(t=!1){return t?Pb(this.history):this.history}processStreamResponse(t,n){var a,o;return Ko(this,arguments,function*(){var c,m,x,f;const v=[];try{for(var b=!0,C=Hc(t),E;E=yield Ut(C.next()),c=E.done,!c;b=!0){f=E.value,b=!1;const M=f;if(jb(M)){const B=(o=(a=M.candidates)===null||a===void 0?void 0:a[0])===null||o===void 0?void 0:o.content;B!==void 0&&v.push(B)}yield yield Ut(M)}}catch(M){m={error:M}}finally{try{!b&&!c&&(x=C.return)&&(yield Ut(x.call(C)))}finally{if(m)throw m.error}}this.recordHistory(n,v)})}recordHistory(t,n){let a=[];n.length>0&&n.every(o=>o.role==="model")?a=n:a.push({role:"model",parts:[]}),this.history.push(t),this.history.push(...a)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function qb(i,t,n){const a={},o=g(t,["pageSize"]);n!==void 0&&o!=null&&p(n,["_query","pageSize"],o);const u=g(t,["pageToken"]);return n!==void 0&&u!=null&&p(n,["_query","pageToken"],u),a}function Gb(i,t){const n={},a=g(t,["config"]);return a!=null&&p(n,["config"],qb(i,a,n)),n}function Fb(i,t){const n={},a=g(t,["details"]);a!=null&&p(n,["details"],a);const o=g(t,["message"]);o!=null&&p(n,["message"],o);const u=g(t,["code"]);return u!=null&&p(n,["code"],u),n}function Yb(i,t){const n={},a=g(t,["name"]);a!=null&&p(n,["name"],a);const o=g(t,["displayName"]);o!=null&&p(n,["displayName"],o);const u=g(t,["mimeType"]);u!=null&&p(n,["mimeType"],u);const c=g(t,["sizeBytes"]);c!=null&&p(n,["sizeBytes"],c);const m=g(t,["createTime"]);m!=null&&p(n,["createTime"],m);const x=g(t,["expirationTime"]);x!=null&&p(n,["expirationTime"],x);const f=g(t,["updateTime"]);f!=null&&p(n,["updateTime"],f);const v=g(t,["sha256Hash"]);v!=null&&p(n,["sha256Hash"],v);const b=g(t,["uri"]);b!=null&&p(n,["uri"],b);const C=g(t,["downloadUri"]);C!=null&&p(n,["downloadUri"],C);const E=g(t,["state"]);E!=null&&p(n,["state"],E);const M=g(t,["source"]);M!=null&&p(n,["source"],M);const B=g(t,["videoMetadata"]);B!=null&&p(n,["videoMetadata"],B);const P=g(t,["error"]);return P!=null&&p(n,["error"],Fb(i,P)),n}function Kb(i,t){const n={},a=g(t,["file"]);a!=null&&p(n,["file"],Yb(i,a));const o=g(t,["config"]);return o!=null&&p(n,["config"],o),n}function $b(i,t){const n={},a=g(t,["name"]);a!=null&&p(n,["_url","file"],_0(i,a));const o=g(t,["config"]);return o!=null&&p(n,["config"],o),n}function Xb(i,t){const n={},a=g(t,["name"]);a!=null&&p(n,["_url","file"],_0(i,a));const o=g(t,["config"]);return o!=null&&p(n,["config"],o),n}function Jb(i,t){const n={},a=g(t,["details"]);a!=null&&p(n,["details"],a);const o=g(t,["message"]);o!=null&&p(n,["message"],o);const u=g(t,["code"]);return u!=null&&p(n,["code"],u),n}function qc(i,t){const n={},a=g(t,["name"]);a!=null&&p(n,["name"],a);const o=g(t,["displayName"]);o!=null&&p(n,["displayName"],o);const u=g(t,["mimeType"]);u!=null&&p(n,["mimeType"],u);const c=g(t,["sizeBytes"]);c!=null&&p(n,["sizeBytes"],c);const m=g(t,["createTime"]);m!=null&&p(n,["createTime"],m);const x=g(t,["expirationTime"]);x!=null&&p(n,["expirationTime"],x);const f=g(t,["updateTime"]);f!=null&&p(n,["updateTime"],f);const v=g(t,["sha256Hash"]);v!=null&&p(n,["sha256Hash"],v);const b=g(t,["uri"]);b!=null&&p(n,["uri"],b);const C=g(t,["downloadUri"]);C!=null&&p(n,["downloadUri"],C);const E=g(t,["state"]);E!=null&&p(n,["state"],E);const M=g(t,["source"]);M!=null&&p(n,["source"],M);const B=g(t,["videoMetadata"]);B!=null&&p(n,["videoMetadata"],B);const P=g(t,["error"]);return P!=null&&p(n,["error"],Jb(i,P)),n}function Qb(i,t){const n={},a=g(t,["nextPageToken"]);a!=null&&p(n,["nextPageToken"],a);const o=g(t,["files"]);if(o!=null){let u=o;Array.isArray(u)&&(u=u.map(c=>qc(i,c))),p(n,["files"],u)}return n}function Zb(){return{}}function Wb(){return{}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class e1 extends fa{constructor(t){super(),this.apiClient=t,this.list=async(n={})=>new ud(ua.PAGED_ITEM_FILES,a=>this.listInternal(a),await this.listInternal(n),n)}async upload(t){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(t.file,t.config).then(n=>qc(this.apiClient,n))}async listInternal(t){var n,a;let o,u="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const m=Gb(this.apiClient,t);return u=De("files",m._url),c=m._query,delete m.config,delete m._url,delete m._query,o=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(x=>x.json()),o.then(x=>{const f=Qb(this.apiClient,x),v=new Bb;return Object.assign(v,f),v})}}async createInternal(t){var n,a;let o,u="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const m=Kb(this.apiClient,t);return u=De("upload/v1beta/files",m._url),c=m._query,delete m.config,delete m._url,delete m._query,o=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(x=>x.json()),o.then(()=>{const x=Zb(),f=new Lb;return Object.assign(f,x),f})}}async get(t){var n,a;let o,u="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const m=$b(this.apiClient,t);return u=De("files/{file}",m._url),c=m._query,delete m.config,delete m._url,delete m._query,o=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(x=>x.json()),o.then(x=>qc(this.apiClient,x))}}async delete(t){var n,a;let o,u="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const m=Xb(this.apiClient,t);return u=De("files/{file}",m._url),c=m._query,delete m.config,delete m._url,delete m._query,o=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(m),httpMethod:"DELETE",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(x=>x.json()),o.then(()=>{const x=Wb(),f=new Ub;return Object.assign(f,x),f})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function t1(i,t){const n={};if(g(t,["videoMetadata"])!==void 0)throw new Error("videoMetadata parameter is not supported in Gemini API.");const a=g(t,["thought"]);a!=null&&p(n,["thought"],a);const o=g(t,["codeExecutionResult"]);o!=null&&p(n,["codeExecutionResult"],o);const u=g(t,["executableCode"]);u!=null&&p(n,["executableCode"],u);const c=g(t,["fileData"]);c!=null&&p(n,["fileData"],c);const m=g(t,["functionCall"]);m!=null&&p(n,["functionCall"],m);const x=g(t,["functionResponse"]);x!=null&&p(n,["functionResponse"],x);const f=g(t,["inlineData"]);f!=null&&p(n,["inlineData"],f);const v=g(t,["text"]);return v!=null&&p(n,["text"],v),n}function n1(i,t){const n={},a=g(t,["videoMetadata"]);a!=null&&p(n,["videoMetadata"],a);const o=g(t,["thought"]);o!=null&&p(n,["thought"],o);const u=g(t,["codeExecutionResult"]);u!=null&&p(n,["codeExecutionResult"],u);const c=g(t,["executableCode"]);c!=null&&p(n,["executableCode"],c);const m=g(t,["fileData"]);m!=null&&p(n,["fileData"],m);const x=g(t,["functionCall"]);x!=null&&p(n,["functionCall"],x);const f=g(t,["functionResponse"]);f!=null&&p(n,["functionResponse"],f);const v=g(t,["inlineData"]);v!=null&&p(n,["inlineData"],v);const b=g(t,["text"]);return b!=null&&p(n,["text"],b),n}function i1(i,t){const n={},a=g(t,["parts"]);if(a!=null){let u=a;Array.isArray(u)&&(u=u.map(c=>t1(i,c))),p(n,["parts"],u)}const o=g(t,["role"]);return o!=null&&p(n,["role"],o),n}function r1(i,t){const n={},a=g(t,["parts"]);if(a!=null){let u=a;Array.isArray(u)&&(u=u.map(c=>n1(i,c))),p(n,["parts"],u)}const o=g(t,["role"]);return o!=null&&p(n,["role"],o),n}function l1(){return{}}function a1(){return{}}function o1(i,t){const n={},a=g(t,["mode"]);a!=null&&p(n,["mode"],a);const o=g(t,["dynamicThreshold"]);return o!=null&&p(n,["dynamicThreshold"],o),n}function s1(i,t){const n={},a=g(t,["mode"]);a!=null&&p(n,["mode"],a);const o=g(t,["dynamicThreshold"]);return o!=null&&p(n,["dynamicThreshold"],o),n}function u1(i,t){const n={},a=g(t,["dynamicRetrievalConfig"]);return a!=null&&p(n,["dynamicRetrievalConfig"],o1(i,a)),n}function c1(i,t){const n={},a=g(t,["dynamicRetrievalConfig"]);return a!=null&&p(n,["dynamicRetrievalConfig"],s1(i,a)),n}function d1(i,t){const n={};if(g(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");g(t,["googleSearch"])!=null&&p(n,["googleSearch"],l1());const o=g(t,["googleSearchRetrieval"]);o!=null&&p(n,["googleSearchRetrieval"],u1(i,o));const u=g(t,["codeExecution"]);u!=null&&p(n,["codeExecution"],u);const c=g(t,["functionDeclarations"]);return c!=null&&p(n,["functionDeclarations"],c),n}function f1(i,t){const n={},a=g(t,["retrieval"]);a!=null&&p(n,["retrieval"],a),g(t,["googleSearch"])!=null&&p(n,["googleSearch"],a1());const u=g(t,["googleSearchRetrieval"]);u!=null&&p(n,["googleSearchRetrieval"],c1(i,u));const c=g(t,["codeExecution"]);c!=null&&p(n,["codeExecution"],c);const m=g(t,["functionDeclarations"]);return m!=null&&p(n,["functionDeclarations"],m),n}function m1(i,t){const n={},a=g(t,["handle"]);if(a!=null&&p(n,["handle"],a),g(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return n}function h1(i,t){const n={},a=g(t,["handle"]);a!=null&&p(n,["handle"],a);const o=g(t,["transparent"]);return o!=null&&p(n,["transparent"],o),n}function g1(){return{}}function ap(){return{}}function p1(i,t){const n={},a=g(t,["disabled"]);a!=null&&p(n,["disabled"],a);const o=g(t,["startOfSpeechSensitivity"]);o!=null&&p(n,["startOfSpeechSensitivity"],o);const u=g(t,["endOfSpeechSensitivity"]);u!=null&&p(n,["endOfSpeechSensitivity"],u);const c=g(t,["prefixPaddingMs"]);c!=null&&p(n,["prefixPaddingMs"],c);const m=g(t,["silenceDurationMs"]);return m!=null&&p(n,["silenceDurationMs"],m),n}function y1(i,t){const n={},a=g(t,["disabled"]);a!=null&&p(n,["disabled"],a);const o=g(t,["startOfSpeechSensitivity"]);o!=null&&p(n,["startOfSpeechSensitivity"],o);const u=g(t,["endOfSpeechSensitivity"]);u!=null&&p(n,["endOfSpeechSensitivity"],u);const c=g(t,["prefixPaddingMs"]);c!=null&&p(n,["prefixPaddingMs"],c);const m=g(t,["silenceDurationMs"]);return m!=null&&p(n,["silenceDurationMs"],m),n}function x1(i,t){const n={},a=g(t,["automaticActivityDetection"]);a!=null&&p(n,["automaticActivityDetection"],p1(i,a));const o=g(t,["activityHandling"]);o!=null&&p(n,["activityHandling"],o);const u=g(t,["turnCoverage"]);return u!=null&&p(n,["turnCoverage"],u),n}function v1(i,t){const n={},a=g(t,["automaticActivityDetection"]);a!=null&&p(n,["automaticActivityDetection"],y1(i,a));const o=g(t,["activityHandling"]);o!=null&&p(n,["activityHandling"],o);const u=g(t,["turnCoverage"]);return u!=null&&p(n,["turnCoverage"],u),n}function b1(i,t){const n={},a=g(t,["targetTokens"]);return a!=null&&p(n,["targetTokens"],a),n}function T1(i,t){const n={},a=g(t,["targetTokens"]);return a!=null&&p(n,["targetTokens"],a),n}function S1(i,t){const n={},a=g(t,["triggerTokens"]);a!=null&&p(n,["triggerTokens"],a);const o=g(t,["slidingWindow"]);return o!=null&&p(n,["slidingWindow"],b1(i,o)),n}function C1(i,t){const n={},a=g(t,["triggerTokens"]);a!=null&&p(n,["triggerTokens"],a);const o=g(t,["slidingWindow"]);return o!=null&&p(n,["slidingWindow"],T1(i,o)),n}function E1(i,t,n){const a={},o=g(t,["generationConfig"]);n!==void 0&&o!=null&&p(n,["setup","generationConfig"],o);const u=g(t,["responseModalities"]);n!==void 0&&u!=null&&p(n,["setup","generationConfig","responseModalities"],u);const c=g(t,["temperature"]);n!==void 0&&c!=null&&p(n,["setup","generationConfig","temperature"],c);const m=g(t,["topP"]);n!==void 0&&m!=null&&p(n,["setup","generationConfig","topP"],m);const x=g(t,["topK"]);n!==void 0&&x!=null&&p(n,["setup","generationConfig","topK"],x);const f=g(t,["maxOutputTokens"]);n!==void 0&&f!=null&&p(n,["setup","generationConfig","maxOutputTokens"],f);const v=g(t,["mediaResolution"]);n!==void 0&&v!=null&&p(n,["setup","generationConfig","mediaResolution"],v);const b=g(t,["seed"]);n!==void 0&&b!=null&&p(n,["setup","generationConfig","seed"],b);const C=g(t,["speechConfig"]);n!==void 0&&C!=null&&p(n,["setup","generationConfig","speechConfig"],C);const E=g(t,["systemInstruction"]);n!==void 0&&E!=null&&p(n,["setup","systemInstruction"],i1(i,Kt(i,E)));const M=g(t,["tools"]);if(n!==void 0&&M!=null){let Y=ts(i,M);Array.isArray(Y)&&(Y=Y.map(Q=>d1(i,es(i,Q)))),p(n,["setup","tools"],Y)}const B=g(t,["sessionResumption"]);if(n!==void 0&&B!=null&&p(n,["setup","sessionResumption"],m1(i,B)),g(t,["inputAudioTranscription"])!==void 0)throw new Error("inputAudioTranscription parameter is not supported in Gemini API.");const P=g(t,["outputAudioTranscription"]);n!==void 0&&P!=null&&p(n,["setup","outputAudioTranscription"],g1());const j=g(t,["realtimeInputConfig"]);n!==void 0&&j!=null&&p(n,["setup","realtimeInputConfig"],x1(i,j));const Z=g(t,["contextWindowCompression"]);return n!==void 0&&Z!=null&&p(n,["setup","contextWindowCompression"],S1(i,Z)),a}function w1(i,t,n){const a={},o=g(t,["generationConfig"]);n!==void 0&&o!=null&&p(n,["setup","generationConfig"],o);const u=g(t,["responseModalities"]);n!==void 0&&u!=null&&p(n,["setup","generationConfig","responseModalities"],u);const c=g(t,["temperature"]);n!==void 0&&c!=null&&p(n,["setup","generationConfig","temperature"],c);const m=g(t,["topP"]);n!==void 0&&m!=null&&p(n,["setup","generationConfig","topP"],m);const x=g(t,["topK"]);n!==void 0&&x!=null&&p(n,["setup","generationConfig","topK"],x);const f=g(t,["maxOutputTokens"]);n!==void 0&&f!=null&&p(n,["setup","generationConfig","maxOutputTokens"],f);const v=g(t,["mediaResolution"]);n!==void 0&&v!=null&&p(n,["setup","generationConfig","mediaResolution"],v);const b=g(t,["seed"]);n!==void 0&&b!=null&&p(n,["setup","generationConfig","seed"],b);const C=g(t,["speechConfig"]);n!==void 0&&C!=null&&p(n,["setup","generationConfig","speechConfig"],C);const E=g(t,["systemInstruction"]);n!==void 0&&E!=null&&p(n,["setup","systemInstruction"],r1(i,Kt(i,E)));const M=g(t,["tools"]);if(n!==void 0&&M!=null){let Q=ts(i,M);Array.isArray(Q)&&(Q=Q.map(ne=>f1(i,es(i,ne)))),p(n,["setup","tools"],Q)}const B=g(t,["sessionResumption"]);n!==void 0&&B!=null&&p(n,["setup","sessionResumption"],h1(i,B));const P=g(t,["inputAudioTranscription"]);n!==void 0&&P!=null&&p(n,["setup","inputAudioTranscription"],ap());const j=g(t,["outputAudioTranscription"]);n!==void 0&&j!=null&&p(n,["setup","outputAudioTranscription"],ap());const Z=g(t,["realtimeInputConfig"]);n!==void 0&&Z!=null&&p(n,["setup","realtimeInputConfig"],v1(i,Z));const Y=g(t,["contextWindowCompression"]);return n!==void 0&&Y!=null&&p(n,["setup","contextWindowCompression"],C1(i,Y)),a}function A1(i,t){const n={},a=g(t,["model"]);a!=null&&p(n,["setup","model"],mt(i,a));const o=g(t,["config"]);return o!=null&&p(n,["config"],E1(i,o,n)),n}function N1(i,t){const n={},a=g(t,["model"]);a!=null&&p(n,["setup","model"],mt(i,a));const o=g(t,["config"]);return o!=null&&p(n,["config"],w1(i,o,n)),n}function M1(){return{}}function _1(){return{}}function D1(){return{}}function I1(){return{}}function k1(i,t){const n={},a=g(t,["media"]);a!=null&&p(n,["mediaChunks"],C0(i,a));const o=g(t,["audio"]);o!=null&&p(n,["audio"],Qv(i,o));const u=g(t,["audioStreamEnd"]);u!=null&&p(n,["audioStreamEnd"],u);const c=g(t,["video"]);c!=null&&p(n,["video"],Jv(i,c));const m=g(t,["text"]);return m!=null&&p(n,["text"],m),g(t,["activityStart"])!=null&&p(n,["activityStart"],M1()),g(t,["activityEnd"])!=null&&p(n,["activityEnd"],D1()),n}function R1(i,t){const n={},a=g(t,["media"]);if(a!=null&&p(n,["mediaChunks"],C0(i,a)),g(t,["audio"])!==void 0)throw new Error("audio parameter is not supported in Vertex AI.");const o=g(t,["audioStreamEnd"]);if(o!=null&&p(n,["audioStreamEnd"],o),g(t,["video"])!==void 0)throw new Error("video parameter is not supported in Vertex AI.");if(g(t,["text"])!==void 0)throw new Error("text parameter is not supported in Vertex AI.");return g(t,["activityStart"])!=null&&p(n,["activityStart"],_1()),g(t,["activityEnd"])!=null&&p(n,["activityEnd"],I1()),n}function B1(){return{}}function L1(){return{}}function U1(i,t){const n={},a=g(t,["thought"]);a!=null&&p(n,["thought"],a);const o=g(t,["codeExecutionResult"]);o!=null&&p(n,["codeExecutionResult"],o);const u=g(t,["executableCode"]);u!=null&&p(n,["executableCode"],u);const c=g(t,["fileData"]);c!=null&&p(n,["fileData"],c);const m=g(t,["functionCall"]);m!=null&&p(n,["functionCall"],m);const x=g(t,["functionResponse"]);x!=null&&p(n,["functionResponse"],x);const f=g(t,["inlineData"]);f!=null&&p(n,["inlineData"],f);const v=g(t,["text"]);return v!=null&&p(n,["text"],v),n}function z1(i,t){const n={},a=g(t,["videoMetadata"]);a!=null&&p(n,["videoMetadata"],a);const o=g(t,["thought"]);o!=null&&p(n,["thought"],o);const u=g(t,["codeExecutionResult"]);u!=null&&p(n,["codeExecutionResult"],u);const c=g(t,["executableCode"]);c!=null&&p(n,["executableCode"],c);const m=g(t,["fileData"]);m!=null&&p(n,["fileData"],m);const x=g(t,["functionCall"]);x!=null&&p(n,["functionCall"],x);const f=g(t,["functionResponse"]);f!=null&&p(n,["functionResponse"],f);const v=g(t,["inlineData"]);v!=null&&p(n,["inlineData"],v);const b=g(t,["text"]);return b!=null&&p(n,["text"],b),n}function j1(i,t){const n={},a=g(t,["parts"]);if(a!=null){let u=a;Array.isArray(u)&&(u=u.map(c=>U1(i,c))),p(n,["parts"],u)}const o=g(t,["role"]);return o!=null&&p(n,["role"],o),n}function O1(i,t){const n={},a=g(t,["parts"]);if(a!=null){let u=a;Array.isArray(u)&&(u=u.map(c=>z1(i,c))),p(n,["parts"],u)}const o=g(t,["role"]);return o!=null&&p(n,["role"],o),n}function op(i,t){const n={},a=g(t,["text"]);a!=null&&p(n,["text"],a);const o=g(t,["finished"]);return o!=null&&p(n,["finished"],o),n}function sp(i,t){const n={},a=g(t,["text"]);a!=null&&p(n,["text"],a);const o=g(t,["finished"]);return o!=null&&p(n,["finished"],o),n}function P1(i,t){const n={},a=g(t,["modelTurn"]);a!=null&&p(n,["modelTurn"],j1(i,a));const o=g(t,["turnComplete"]);o!=null&&p(n,["turnComplete"],o);const u=g(t,["interrupted"]);u!=null&&p(n,["interrupted"],u);const c=g(t,["groundingMetadata"]);c!=null&&p(n,["groundingMetadata"],c);const m=g(t,["generationComplete"]);m!=null&&p(n,["generationComplete"],m);const x=g(t,["inputTranscription"]);x!=null&&p(n,["inputTranscription"],op(i,x));const f=g(t,["outputTranscription"]);return f!=null&&p(n,["outputTranscription"],op(i,f)),n}function V1(i,t){const n={},a=g(t,["modelTurn"]);a!=null&&p(n,["modelTurn"],O1(i,a));const o=g(t,["turnComplete"]);o!=null&&p(n,["turnComplete"],o);const u=g(t,["interrupted"]);u!=null&&p(n,["interrupted"],u);const c=g(t,["groundingMetadata"]);c!=null&&p(n,["groundingMetadata"],c);const m=g(t,["generationComplete"]);m!=null&&p(n,["generationComplete"],m);const x=g(t,["inputTranscription"]);x!=null&&p(n,["inputTranscription"],sp(i,x));const f=g(t,["outputTranscription"]);return f!=null&&p(n,["outputTranscription"],sp(i,f)),n}function H1(i,t){const n={},a=g(t,["id"]);a!=null&&p(n,["id"],a);const o=g(t,["args"]);o!=null&&p(n,["args"],o);const u=g(t,["name"]);return u!=null&&p(n,["name"],u),n}function q1(i,t){const n={},a=g(t,["args"]);a!=null&&p(n,["args"],a);const o=g(t,["name"]);return o!=null&&p(n,["name"],o),n}function G1(i,t){const n={},a=g(t,["functionCalls"]);if(a!=null){let o=a;Array.isArray(o)&&(o=o.map(u=>H1(i,u))),p(n,["functionCalls"],o)}return n}function F1(i,t){const n={},a=g(t,["functionCalls"]);if(a!=null){let o=a;Array.isArray(o)&&(o=o.map(u=>q1(i,u))),p(n,["functionCalls"],o)}return n}function Y1(i,t){const n={},a=g(t,["ids"]);return a!=null&&p(n,["ids"],a),n}function K1(i,t){const n={},a=g(t,["ids"]);return a!=null&&p(n,["ids"],a),n}function Io(i,t){const n={},a=g(t,["modality"]);a!=null&&p(n,["modality"],a);const o=g(t,["tokenCount"]);return o!=null&&p(n,["tokenCount"],o),n}function ko(i,t){const n={},a=g(t,["modality"]);a!=null&&p(n,["modality"],a);const o=g(t,["tokenCount"]);return o!=null&&p(n,["tokenCount"],o),n}function $1(i,t){const n={},a=g(t,["promptTokenCount"]);a!=null&&p(n,["promptTokenCount"],a);const o=g(t,["cachedContentTokenCount"]);o!=null&&p(n,["cachedContentTokenCount"],o);const u=g(t,["responseTokenCount"]);u!=null&&p(n,["responseTokenCount"],u);const c=g(t,["toolUsePromptTokenCount"]);c!=null&&p(n,["toolUsePromptTokenCount"],c);const m=g(t,["thoughtsTokenCount"]);m!=null&&p(n,["thoughtsTokenCount"],m);const x=g(t,["totalTokenCount"]);x!=null&&p(n,["totalTokenCount"],x);const f=g(t,["promptTokensDetails"]);if(f!=null){let E=f;Array.isArray(E)&&(E=E.map(M=>Io(i,M))),p(n,["promptTokensDetails"],E)}const v=g(t,["cacheTokensDetails"]);if(v!=null){let E=v;Array.isArray(E)&&(E=E.map(M=>Io(i,M))),p(n,["cacheTokensDetails"],E)}const b=g(t,["responseTokensDetails"]);if(b!=null){let E=b;Array.isArray(E)&&(E=E.map(M=>Io(i,M))),p(n,["responseTokensDetails"],E)}const C=g(t,["toolUsePromptTokensDetails"]);if(C!=null){let E=C;Array.isArray(E)&&(E=E.map(M=>Io(i,M))),p(n,["toolUsePromptTokensDetails"],E)}return n}function X1(i,t){const n={},a=g(t,["promptTokenCount"]);a!=null&&p(n,["promptTokenCount"],a);const o=g(t,["cachedContentTokenCount"]);o!=null&&p(n,["cachedContentTokenCount"],o);const u=g(t,["candidatesTokenCount"]);u!=null&&p(n,["responseTokenCount"],u);const c=g(t,["toolUsePromptTokenCount"]);c!=null&&p(n,["toolUsePromptTokenCount"],c);const m=g(t,["thoughtsTokenCount"]);m!=null&&p(n,["thoughtsTokenCount"],m);const x=g(t,["totalTokenCount"]);x!=null&&p(n,["totalTokenCount"],x);const f=g(t,["promptTokensDetails"]);if(f!=null){let M=f;Array.isArray(M)&&(M=M.map(B=>ko(i,B))),p(n,["promptTokensDetails"],M)}const v=g(t,["cacheTokensDetails"]);if(v!=null){let M=v;Array.isArray(M)&&(M=M.map(B=>ko(i,B))),p(n,["cacheTokensDetails"],M)}const b=g(t,["candidatesTokensDetails"]);if(b!=null){let M=b;Array.isArray(M)&&(M=M.map(B=>ko(i,B))),p(n,["responseTokensDetails"],M)}const C=g(t,["toolUsePromptTokensDetails"]);if(C!=null){let M=C;Array.isArray(M)&&(M=M.map(B=>ko(i,B))),p(n,["toolUsePromptTokensDetails"],M)}const E=g(t,["trafficType"]);return E!=null&&p(n,["trafficType"],E),n}function J1(i,t){const n={},a=g(t,["timeLeft"]);return a!=null&&p(n,["timeLeft"],a),n}function Q1(i,t){const n={},a=g(t,["timeLeft"]);return a!=null&&p(n,["timeLeft"],a),n}function Z1(i,t){const n={},a=g(t,["newHandle"]);a!=null&&p(n,["newHandle"],a);const o=g(t,["resumable"]);o!=null&&p(n,["resumable"],o);const u=g(t,["lastConsumedClientMessageIndex"]);return u!=null&&p(n,["lastConsumedClientMessageIndex"],u),n}function W1(i,t){const n={},a=g(t,["newHandle"]);a!=null&&p(n,["newHandle"],a);const o=g(t,["resumable"]);o!=null&&p(n,["resumable"],o);const u=g(t,["lastConsumedClientMessageIndex"]);return u!=null&&p(n,["lastConsumedClientMessageIndex"],u),n}function eT(i,t){const n={};g(t,["setupComplete"])!=null&&p(n,["setupComplete"],B1());const o=g(t,["serverContent"]);o!=null&&p(n,["serverContent"],P1(i,o));const u=g(t,["toolCall"]);u!=null&&p(n,["toolCall"],G1(i,u));const c=g(t,["toolCallCancellation"]);c!=null&&p(n,["toolCallCancellation"],Y1(i,c));const m=g(t,["usageMetadata"]);m!=null&&p(n,["usageMetadata"],$1(i,m));const x=g(t,["goAway"]);x!=null&&p(n,["goAway"],J1(i,x));const f=g(t,["sessionResumptionUpdate"]);return f!=null&&p(n,["sessionResumptionUpdate"],Z1(i,f)),n}function tT(i,t){const n={};g(t,["setupComplete"])!=null&&p(n,["setupComplete"],L1());const o=g(t,["serverContent"]);o!=null&&p(n,["serverContent"],V1(i,o));const u=g(t,["toolCall"]);u!=null&&p(n,["toolCall"],F1(i,u));const c=g(t,["toolCallCancellation"]);c!=null&&p(n,["toolCallCancellation"],K1(i,c));const m=g(t,["usageMetadata"]);m!=null&&p(n,["usageMetadata"],X1(i,m));const x=g(t,["goAway"]);x!=null&&p(n,["goAway"],Q1(i,x));const f=g(t,["sessionResumptionUpdate"]);return f!=null&&p(n,["sessionResumptionUpdate"],W1(i,f)),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function nT(i,t){const n={};if(g(t,["videoMetadata"])!==void 0)throw new Error("videoMetadata parameter is not supported in Gemini API.");const a=g(t,["thought"]);a!=null&&p(n,["thought"],a);const o=g(t,["codeExecutionResult"]);o!=null&&p(n,["codeExecutionResult"],o);const u=g(t,["executableCode"]);u!=null&&p(n,["executableCode"],u);const c=g(t,["fileData"]);c!=null&&p(n,["fileData"],c);const m=g(t,["functionCall"]);m!=null&&p(n,["functionCall"],m);const x=g(t,["functionResponse"]);x!=null&&p(n,["functionResponse"],x);const f=g(t,["inlineData"]);f!=null&&p(n,["inlineData"],f);const v=g(t,["text"]);return v!=null&&p(n,["text"],v),n}function ns(i,t){const n={},a=g(t,["parts"]);if(a!=null){let u=a;Array.isArray(u)&&(u=u.map(c=>nT(i,c))),p(n,["parts"],u)}const o=g(t,["role"]);return o!=null&&p(n,["role"],o),n}function iT(i,t){const n={};if(g(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const a=g(t,["category"]);a!=null&&p(n,["category"],a);const o=g(t,["threshold"]);return o!=null&&p(n,["threshold"],o),n}function rT(){return{}}function lT(i,t){const n={},a=g(t,["mode"]);a!=null&&p(n,["mode"],a);const o=g(t,["dynamicThreshold"]);return o!=null&&p(n,["dynamicThreshold"],o),n}function aT(i,t){const n={},a=g(t,["dynamicRetrievalConfig"]);return a!=null&&p(n,["dynamicRetrievalConfig"],lT(i,a)),n}function oT(i,t){const n={};if(g(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");g(t,["googleSearch"])!=null&&p(n,["googleSearch"],rT());const o=g(t,["googleSearchRetrieval"]);o!=null&&p(n,["googleSearchRetrieval"],aT(i,o));const u=g(t,["codeExecution"]);u!=null&&p(n,["codeExecution"],u);const c=g(t,["functionDeclarations"]);return c!=null&&p(n,["functionDeclarations"],c),n}function sT(i,t){const n={},a=g(t,["mode"]);a!=null&&p(n,["mode"],a);const o=g(t,["allowedFunctionNames"]);return o!=null&&p(n,["allowedFunctionNames"],o),n}function uT(i,t){const n={},a=g(t,["functionCallingConfig"]);return a!=null&&p(n,["functionCallingConfig"],sT(i,a)),n}function cT(i,t){const n={},a=g(t,["voiceName"]);return a!=null&&p(n,["voiceName"],a),n}function dT(i,t){const n={},a=g(t,["prebuiltVoiceConfig"]);return a!=null&&p(n,["prebuiltVoiceConfig"],cT(i,a)),n}function fT(i,t){const n={},a=g(t,["voiceConfig"]);a!=null&&p(n,["voiceConfig"],dT(i,a));const o=g(t,["languageCode"]);return o!=null&&p(n,["languageCode"],o),n}function mT(i,t){const n={},a=g(t,["includeThoughts"]);a!=null&&p(n,["includeThoughts"],a);const o=g(t,["thinkingBudget"]);return o!=null&&p(n,["thinkingBudget"],o),n}function hT(i,t,n){const a={},o=g(t,["systemInstruction"]);n!==void 0&&o!=null&&p(n,["systemInstruction"],ns(i,Kt(i,o)));const u=g(t,["temperature"]);u!=null&&p(a,["temperature"],u);const c=g(t,["topP"]);c!=null&&p(a,["topP"],c);const m=g(t,["topK"]);m!=null&&p(a,["topK"],m);const x=g(t,["candidateCount"]);x!=null&&p(a,["candidateCount"],x);const f=g(t,["maxOutputTokens"]);f!=null&&p(a,["maxOutputTokens"],f);const v=g(t,["stopSequences"]);v!=null&&p(a,["stopSequences"],v);const b=g(t,["responseLogprobs"]);b!=null&&p(a,["responseLogprobs"],b);const C=g(t,["logprobs"]);C!=null&&p(a,["logprobs"],C);const E=g(t,["presencePenalty"]);E!=null&&p(a,["presencePenalty"],E);const M=g(t,["frequencyPenalty"]);M!=null&&p(a,["frequencyPenalty"],M);const B=g(t,["seed"]);B!=null&&p(a,["seed"],B);const P=g(t,["responseMimeType"]);P!=null&&p(a,["responseMimeType"],P);const j=g(t,["responseSchema"]);if(j!=null&&p(a,["responseSchema"],A0(i,j)),g(t,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(g(t,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const Z=g(t,["safetySettings"]);if(n!==void 0&&Z!=null){let he=Z;Array.isArray(he)&&(he=he.map(oe=>iT(i,oe))),p(n,["safetySettings"],he)}const Y=g(t,["tools"]);if(n!==void 0&&Y!=null){let he=ts(i,Y);Array.isArray(he)&&(he=he.map(oe=>oT(i,es(i,oe)))),p(n,["tools"],he)}const Q=g(t,["toolConfig"]);if(n!==void 0&&Q!=null&&p(n,["toolConfig"],uT(i,Q)),g(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const ne=g(t,["cachedContent"]);n!==void 0&&ne!=null&&p(n,["cachedContent"],Ii(i,ne));const K=g(t,["responseModalities"]);K!=null&&p(a,["responseModalities"],K);const te=g(t,["mediaResolution"]);te!=null&&p(a,["mediaResolution"],te);const me=g(t,["speechConfig"]);if(me!=null&&p(a,["speechConfig"],fT(i,N0(i,me))),g(t,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const ge=g(t,["thinkingConfig"]);return ge!=null&&p(a,["thinkingConfig"],mT(i,ge)),a}function up(i,t){const n={},a=g(t,["model"]);a!=null&&p(n,["_url","model"],mt(i,a));const o=g(t,["contents"]);if(o!=null){let c=Di(i,o);Array.isArray(c)&&(c=c.map(m=>ns(i,m))),p(n,["contents"],c)}const u=g(t,["config"]);return u!=null&&p(n,["generationConfig"],hT(i,u,n)),n}function gT(i,t,n){const a={},o=g(t,["taskType"]);n!==void 0&&o!=null&&p(n,["requests[]","taskType"],o);const u=g(t,["title"]);n!==void 0&&u!=null&&p(n,["requests[]","title"],u);const c=g(t,["outputDimensionality"]);if(n!==void 0&&c!=null&&p(n,["requests[]","outputDimensionality"],c),g(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(g(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return a}function pT(i,t){const n={},a=g(t,["model"]);a!=null&&p(n,["_url","model"],mt(i,a));const o=g(t,["contents"]);o!=null&&p(n,["requests[]","content"],w0(i,o));const u=g(t,["config"]);u!=null&&p(n,["config"],gT(i,u,n));const c=g(t,["model"]);return c!==void 0&&p(n,["requests[]","model"],mt(i,c)),n}function yT(i,t,n){const a={};if(g(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(g(t,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const o=g(t,["numberOfImages"]);n!==void 0&&o!=null&&p(n,["parameters","sampleCount"],o);const u=g(t,["aspectRatio"]);n!==void 0&&u!=null&&p(n,["parameters","aspectRatio"],u);const c=g(t,["guidanceScale"]);if(n!==void 0&&c!=null&&p(n,["parameters","guidanceScale"],c),g(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const m=g(t,["safetyFilterLevel"]);n!==void 0&&m!=null&&p(n,["parameters","safetySetting"],m);const x=g(t,["personGeneration"]);n!==void 0&&x!=null&&p(n,["parameters","personGeneration"],x);const f=g(t,["includeSafetyAttributes"]);n!==void 0&&f!=null&&p(n,["parameters","includeSafetyAttributes"],f);const v=g(t,["includeRaiReason"]);n!==void 0&&v!=null&&p(n,["parameters","includeRaiReason"],v);const b=g(t,["language"]);n!==void 0&&b!=null&&p(n,["parameters","language"],b);const C=g(t,["outputMimeType"]);n!==void 0&&C!=null&&p(n,["parameters","outputOptions","mimeType"],C);const E=g(t,["outputCompressionQuality"]);if(n!==void 0&&E!=null&&p(n,["parameters","outputOptions","compressionQuality"],E),g(t,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(g(t,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return a}function xT(i,t){const n={},a=g(t,["model"]);a!=null&&p(n,["_url","model"],mt(i,a));const o=g(t,["prompt"]);o!=null&&p(n,["instances[0]","prompt"],o);const u=g(t,["config"]);return u!=null&&p(n,["config"],yT(i,u,n)),n}function vT(i,t){const n={},a=g(t,["model"]);a!=null&&p(n,["_url","name"],mt(i,a));const o=g(t,["config"]);return o!=null&&p(n,["config"],o),n}function bT(i,t,n){const a={},o=g(t,["displayName"]);n!==void 0&&o!=null&&p(n,["displayName"],o);const u=g(t,["description"]);return n!==void 0&&u!=null&&p(n,["description"],u),a}function TT(i,t){const n={},a=g(t,["model"]);a!=null&&p(n,["_url","name"],mt(i,a));const o=g(t,["config"]);return o!=null&&p(n,["config"],bT(i,o,n)),n}function ST(i,t){const n={},a=g(t,["model"]);a!=null&&p(n,["_url","name"],mt(i,a));const o=g(t,["config"]);return o!=null&&p(n,["config"],o),n}function CT(i,t){const n={};if(g(t,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(g(t,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(g(t,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return n}function ET(i,t){const n={},a=g(t,["model"]);a!=null&&p(n,["_url","model"],mt(i,a));const o=g(t,["contents"]);if(o!=null){let c=Di(i,o);Array.isArray(c)&&(c=c.map(m=>ns(i,m))),p(n,["contents"],c)}const u=g(t,["config"]);return u!=null&&p(n,["config"],CT(i,u)),n}function wT(i,t){const n={};if(g(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const a=g(t,["imageBytes"]);a!=null&&p(n,["bytesBase64Encoded"],ki(i,a));const o=g(t,["mimeType"]);return o!=null&&p(n,["mimeType"],o),n}function AT(i,t,n){const a={},o=g(t,["numberOfVideos"]);if(n!==void 0&&o!=null&&p(n,["parameters","sampleCount"],o),g(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(g(t,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const u=g(t,["durationSeconds"]);if(n!==void 0&&u!=null&&p(n,["parameters","durationSeconds"],u),g(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const c=g(t,["aspectRatio"]);if(n!==void 0&&c!=null&&p(n,["parameters","aspectRatio"],c),g(t,["resolution"])!==void 0)throw new Error("resolution parameter is not supported in Gemini API.");const m=g(t,["personGeneration"]);if(n!==void 0&&m!=null&&p(n,["parameters","personGeneration"],m),g(t,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const x=g(t,["negativePrompt"]);if(n!==void 0&&x!=null&&p(n,["parameters","negativePrompt"],x),g(t,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return a}function NT(i,t){const n={},a=g(t,["model"]);a!=null&&p(n,["_url","model"],mt(i,a));const o=g(t,["prompt"]);o!=null&&p(n,["instances[0]","prompt"],o);const u=g(t,["image"]);u!=null&&p(n,["instances[0]","image"],wT(i,u));const c=g(t,["config"]);return c!=null&&p(n,["config"],AT(i,c,n)),n}function MT(i,t){const n={},a=g(t,["videoMetadata"]);a!=null&&p(n,["videoMetadata"],a);const o=g(t,["thought"]);o!=null&&p(n,["thought"],o);const u=g(t,["codeExecutionResult"]);u!=null&&p(n,["codeExecutionResult"],u);const c=g(t,["executableCode"]);c!=null&&p(n,["executableCode"],c);const m=g(t,["fileData"]);m!=null&&p(n,["fileData"],m);const x=g(t,["functionCall"]);x!=null&&p(n,["functionCall"],x);const f=g(t,["functionResponse"]);f!=null&&p(n,["functionResponse"],f);const v=g(t,["inlineData"]);v!=null&&p(n,["inlineData"],v);const b=g(t,["text"]);return b!=null&&p(n,["text"],b),n}function Fr(i,t){const n={},a=g(t,["parts"]);if(a!=null){let u=a;Array.isArray(u)&&(u=u.map(c=>MT(i,c))),p(n,["parts"],u)}const o=g(t,["role"]);return o!=null&&p(n,["role"],o),n}function _T(i,t){const n={},a=g(t,["featureSelectionPreference"]);return a!=null&&p(n,["featureSelectionPreference"],a),n}function DT(i,t){const n={},a=g(t,["method"]);a!=null&&p(n,["method"],a);const o=g(t,["category"]);o!=null&&p(n,["category"],o);const u=g(t,["threshold"]);return u!=null&&p(n,["threshold"],u),n}function IT(){return{}}function kT(i,t){const n={},a=g(t,["mode"]);a!=null&&p(n,["mode"],a);const o=g(t,["dynamicThreshold"]);return o!=null&&p(n,["dynamicThreshold"],o),n}function RT(i,t){const n={},a=g(t,["dynamicRetrievalConfig"]);return a!=null&&p(n,["dynamicRetrievalConfig"],kT(i,a)),n}function I0(i,t){const n={},a=g(t,["retrieval"]);a!=null&&p(n,["retrieval"],a),g(t,["googleSearch"])!=null&&p(n,["googleSearch"],IT());const u=g(t,["googleSearchRetrieval"]);u!=null&&p(n,["googleSearchRetrieval"],RT(i,u));const c=g(t,["codeExecution"]);c!=null&&p(n,["codeExecution"],c);const m=g(t,["functionDeclarations"]);return m!=null&&p(n,["functionDeclarations"],m),n}function BT(i,t){const n={},a=g(t,["mode"]);a!=null&&p(n,["mode"],a);const o=g(t,["allowedFunctionNames"]);return o!=null&&p(n,["allowedFunctionNames"],o),n}function LT(i,t){const n={},a=g(t,["functionCallingConfig"]);return a!=null&&p(n,["functionCallingConfig"],BT(i,a)),n}function UT(i,t){const n={},a=g(t,["voiceName"]);return a!=null&&p(n,["voiceName"],a),n}function zT(i,t){const n={},a=g(t,["prebuiltVoiceConfig"]);return a!=null&&p(n,["prebuiltVoiceConfig"],UT(i,a)),n}function jT(i,t){const n={},a=g(t,["voiceConfig"]);a!=null&&p(n,["voiceConfig"],zT(i,a));const o=g(t,["languageCode"]);return o!=null&&p(n,["languageCode"],o),n}function OT(i,t){const n={},a=g(t,["includeThoughts"]);a!=null&&p(n,["includeThoughts"],a);const o=g(t,["thinkingBudget"]);return o!=null&&p(n,["thinkingBudget"],o),n}function PT(i,t,n){const a={},o=g(t,["systemInstruction"]);n!==void 0&&o!=null&&p(n,["systemInstruction"],Fr(i,Kt(i,o)));const u=g(t,["temperature"]);u!=null&&p(a,["temperature"],u);const c=g(t,["topP"]);c!=null&&p(a,["topP"],c);const m=g(t,["topK"]);m!=null&&p(a,["topK"],m);const x=g(t,["candidateCount"]);x!=null&&p(a,["candidateCount"],x);const f=g(t,["maxOutputTokens"]);f!=null&&p(a,["maxOutputTokens"],f);const v=g(t,["stopSequences"]);v!=null&&p(a,["stopSequences"],v);const b=g(t,["responseLogprobs"]);b!=null&&p(a,["responseLogprobs"],b);const C=g(t,["logprobs"]);C!=null&&p(a,["logprobs"],C);const E=g(t,["presencePenalty"]);E!=null&&p(a,["presencePenalty"],E);const M=g(t,["frequencyPenalty"]);M!=null&&p(a,["frequencyPenalty"],M);const B=g(t,["seed"]);B!=null&&p(a,["seed"],B);const P=g(t,["responseMimeType"]);P!=null&&p(a,["responseMimeType"],P);const j=g(t,["responseSchema"]);j!=null&&p(a,["responseSchema"],A0(i,j));const Z=g(t,["routingConfig"]);Z!=null&&p(a,["routingConfig"],Z);const Y=g(t,["modelSelectionConfig"]);Y!=null&&p(a,["modelConfig"],_T(i,Y));const Q=g(t,["safetySettings"]);if(n!==void 0&&Q!=null){let re=Q;Array.isArray(re)&&(re=re.map(de=>DT(i,de))),p(n,["safetySettings"],re)}const ne=g(t,["tools"]);if(n!==void 0&&ne!=null){let re=ts(i,ne);Array.isArray(re)&&(re=re.map(de=>I0(i,es(i,de)))),p(n,["tools"],re)}const K=g(t,["toolConfig"]);n!==void 0&&K!=null&&p(n,["toolConfig"],LT(i,K));const te=g(t,["labels"]);n!==void 0&&te!=null&&p(n,["labels"],te);const me=g(t,["cachedContent"]);n!==void 0&&me!=null&&p(n,["cachedContent"],Ii(i,me));const ge=g(t,["responseModalities"]);ge!=null&&p(a,["responseModalities"],ge);const he=g(t,["mediaResolution"]);he!=null&&p(a,["mediaResolution"],he);const oe=g(t,["speechConfig"]);oe!=null&&p(a,["speechConfig"],jT(i,N0(i,oe)));const ce=g(t,["audioTimestamp"]);ce!=null&&p(a,["audioTimestamp"],ce);const fe=g(t,["thinkingConfig"]);return fe!=null&&p(a,["thinkingConfig"],OT(i,fe)),a}function cp(i,t){const n={},a=g(t,["model"]);a!=null&&p(n,["_url","model"],mt(i,a));const o=g(t,["contents"]);if(o!=null){let c=Di(i,o);Array.isArray(c)&&(c=c.map(m=>Fr(i,m))),p(n,["contents"],c)}const u=g(t,["config"]);return u!=null&&p(n,["generationConfig"],PT(i,u,n)),n}function VT(i,t,n){const a={},o=g(t,["taskType"]);n!==void 0&&o!=null&&p(n,["instances[]","task_type"],o);const u=g(t,["title"]);n!==void 0&&u!=null&&p(n,["instances[]","title"],u);const c=g(t,["outputDimensionality"]);n!==void 0&&c!=null&&p(n,["parameters","outputDimensionality"],c);const m=g(t,["mimeType"]);n!==void 0&&m!=null&&p(n,["instances[]","mimeType"],m);const x=g(t,["autoTruncate"]);return n!==void 0&&x!=null&&p(n,["parameters","autoTruncate"],x),a}function HT(i,t){const n={},a=g(t,["model"]);a!=null&&p(n,["_url","model"],mt(i,a));const o=g(t,["contents"]);o!=null&&p(n,["instances[]","content"],w0(i,o));const u=g(t,["config"]);return u!=null&&p(n,["config"],VT(i,u,n)),n}function qT(i,t,n){const a={},o=g(t,["outputGcsUri"]);n!==void 0&&o!=null&&p(n,["parameters","storageUri"],o);const u=g(t,["negativePrompt"]);n!==void 0&&u!=null&&p(n,["parameters","negativePrompt"],u);const c=g(t,["numberOfImages"]);n!==void 0&&c!=null&&p(n,["parameters","sampleCount"],c);const m=g(t,["aspectRatio"]);n!==void 0&&m!=null&&p(n,["parameters","aspectRatio"],m);const x=g(t,["guidanceScale"]);n!==void 0&&x!=null&&p(n,["parameters","guidanceScale"],x);const f=g(t,["seed"]);n!==void 0&&f!=null&&p(n,["parameters","seed"],f);const v=g(t,["safetyFilterLevel"]);n!==void 0&&v!=null&&p(n,["parameters","safetySetting"],v);const b=g(t,["personGeneration"]);n!==void 0&&b!=null&&p(n,["parameters","personGeneration"],b);const C=g(t,["includeSafetyAttributes"]);n!==void 0&&C!=null&&p(n,["parameters","includeSafetyAttributes"],C);const E=g(t,["includeRaiReason"]);n!==void 0&&E!=null&&p(n,["parameters","includeRaiReason"],E);const M=g(t,["language"]);n!==void 0&&M!=null&&p(n,["parameters","language"],M);const B=g(t,["outputMimeType"]);n!==void 0&&B!=null&&p(n,["parameters","outputOptions","mimeType"],B);const P=g(t,["outputCompressionQuality"]);n!==void 0&&P!=null&&p(n,["parameters","outputOptions","compressionQuality"],P);const j=g(t,["addWatermark"]);n!==void 0&&j!=null&&p(n,["parameters","addWatermark"],j);const Z=g(t,["enhancePrompt"]);return n!==void 0&&Z!=null&&p(n,["parameters","enhancePrompt"],Z),a}function GT(i,t){const n={},a=g(t,["model"]);a!=null&&p(n,["_url","model"],mt(i,a));const o=g(t,["prompt"]);o!=null&&p(n,["instances[0]","prompt"],o);const u=g(t,["config"]);return u!=null&&p(n,["config"],qT(i,u,n)),n}function FT(i,t){const n={},a=g(t,["model"]);a!=null&&p(n,["_url","name"],mt(i,a));const o=g(t,["config"]);return o!=null&&p(n,["config"],o),n}function YT(i,t,n){const a={},o=g(t,["displayName"]);n!==void 0&&o!=null&&p(n,["displayName"],o);const u=g(t,["description"]);return n!==void 0&&u!=null&&p(n,["description"],u),a}function KT(i,t){const n={},a=g(t,["model"]);a!=null&&p(n,["_url","model"],mt(i,a));const o=g(t,["config"]);return o!=null&&p(n,["config"],YT(i,o,n)),n}function $T(i,t){const n={},a=g(t,["model"]);a!=null&&p(n,["_url","name"],mt(i,a));const o=g(t,["config"]);return o!=null&&p(n,["config"],o),n}function XT(i,t,n){const a={},o=g(t,["systemInstruction"]);n!==void 0&&o!=null&&p(n,["systemInstruction"],Fr(i,Kt(i,o)));const u=g(t,["tools"]);if(n!==void 0&&u!=null){let m=u;Array.isArray(m)&&(m=m.map(x=>I0(i,x))),p(n,["tools"],m)}const c=g(t,["generationConfig"]);return n!==void 0&&c!=null&&p(n,["generationConfig"],c),a}function JT(i,t){const n={},a=g(t,["model"]);a!=null&&p(n,["_url","model"],mt(i,a));const o=g(t,["contents"]);if(o!=null){let c=Di(i,o);Array.isArray(c)&&(c=c.map(m=>Fr(i,m))),p(n,["contents"],c)}const u=g(t,["config"]);return u!=null&&p(n,["config"],XT(i,u,n)),n}function QT(i,t){const n={},a=g(t,["model"]);a!=null&&p(n,["_url","model"],mt(i,a));const o=g(t,["contents"]);if(o!=null){let c=Di(i,o);Array.isArray(c)&&(c=c.map(m=>Fr(i,m))),p(n,["contents"],c)}const u=g(t,["config"]);return u!=null&&p(n,["config"],u),n}function ZT(i,t){const n={},a=g(t,["gcsUri"]);a!=null&&p(n,["gcsUri"],a);const o=g(t,["imageBytes"]);o!=null&&p(n,["bytesBase64Encoded"],ki(i,o));const u=g(t,["mimeType"]);return u!=null&&p(n,["mimeType"],u),n}function WT(i,t,n){const a={},o=g(t,["numberOfVideos"]);n!==void 0&&o!=null&&p(n,["parameters","sampleCount"],o);const u=g(t,["outputGcsUri"]);n!==void 0&&u!=null&&p(n,["parameters","storageUri"],u);const c=g(t,["fps"]);n!==void 0&&c!=null&&p(n,["parameters","fps"],c);const m=g(t,["durationSeconds"]);n!==void 0&&m!=null&&p(n,["parameters","durationSeconds"],m);const x=g(t,["seed"]);n!==void 0&&x!=null&&p(n,["parameters","seed"],x);const f=g(t,["aspectRatio"]);n!==void 0&&f!=null&&p(n,["parameters","aspectRatio"],f);const v=g(t,["resolution"]);n!==void 0&&v!=null&&p(n,["parameters","resolution"],v);const b=g(t,["personGeneration"]);n!==void 0&&b!=null&&p(n,["parameters","personGeneration"],b);const C=g(t,["pubsubTopic"]);n!==void 0&&C!=null&&p(n,["parameters","pubsubTopic"],C);const E=g(t,["negativePrompt"]);n!==void 0&&E!=null&&p(n,["parameters","negativePrompt"],E);const M=g(t,["enhancePrompt"]);return n!==void 0&&M!=null&&p(n,["parameters","enhancePrompt"],M),a}function eS(i,t){const n={},a=g(t,["model"]);a!=null&&p(n,["_url","model"],mt(i,a));const o=g(t,["prompt"]);o!=null&&p(n,["instances[0]","prompt"],o);const u=g(t,["image"]);u!=null&&p(n,["instances[0]","image"],ZT(i,u));const c=g(t,["config"]);return c!=null&&p(n,["config"],WT(i,c,n)),n}function tS(i,t){const n={},a=g(t,["thought"]);a!=null&&p(n,["thought"],a);const o=g(t,["codeExecutionResult"]);o!=null&&p(n,["codeExecutionResult"],o);const u=g(t,["executableCode"]);u!=null&&p(n,["executableCode"],u);const c=g(t,["fileData"]);c!=null&&p(n,["fileData"],c);const m=g(t,["functionCall"]);m!=null&&p(n,["functionCall"],m);const x=g(t,["functionResponse"]);x!=null&&p(n,["functionResponse"],x);const f=g(t,["inlineData"]);f!=null&&p(n,["inlineData"],f);const v=g(t,["text"]);return v!=null&&p(n,["text"],v),n}function nS(i,t){const n={},a=g(t,["parts"]);if(a!=null){let u=a;Array.isArray(u)&&(u=u.map(c=>tS(i,c))),p(n,["parts"],u)}const o=g(t,["role"]);return o!=null&&p(n,["role"],o),n}function iS(i,t){const n={},a=g(t,["citationSources"]);return a!=null&&p(n,["citations"],a),n}function rS(i,t){const n={},a=g(t,["content"]);a!=null&&p(n,["content"],nS(i,a));const o=g(t,["citationMetadata"]);o!=null&&p(n,["citationMetadata"],iS(i,o));const u=g(t,["tokenCount"]);u!=null&&p(n,["tokenCount"],u);const c=g(t,["finishReason"]);c!=null&&p(n,["finishReason"],c);const m=g(t,["avgLogprobs"]);m!=null&&p(n,["avgLogprobs"],m);const x=g(t,["groundingMetadata"]);x!=null&&p(n,["groundingMetadata"],x);const f=g(t,["index"]);f!=null&&p(n,["index"],f);const v=g(t,["logprobsResult"]);v!=null&&p(n,["logprobsResult"],v);const b=g(t,["safetyRatings"]);return b!=null&&p(n,["safetyRatings"],b),n}function dp(i,t){const n={},a=g(t,["candidates"]);if(a!=null){let m=a;Array.isArray(m)&&(m=m.map(x=>rS(i,x))),p(n,["candidates"],m)}const o=g(t,["modelVersion"]);o!=null&&p(n,["modelVersion"],o);const u=g(t,["promptFeedback"]);u!=null&&p(n,["promptFeedback"],u);const c=g(t,["usageMetadata"]);return c!=null&&p(n,["usageMetadata"],c),n}function lS(i,t){const n={},a=g(t,["values"]);return a!=null&&p(n,["values"],a),n}function aS(){return{}}function oS(i,t){const n={},a=g(t,["embeddings"]);if(a!=null){let u=a;Array.isArray(u)&&(u=u.map(c=>lS(i,c))),p(n,["embeddings"],u)}return g(t,["metadata"])!=null&&p(n,["metadata"],aS()),n}function sS(i,t){const n={},a=g(t,["bytesBase64Encoded"]);a!=null&&p(n,["imageBytes"],ki(i,a));const o=g(t,["mimeType"]);return o!=null&&p(n,["mimeType"],o),n}function k0(i,t){const n={},a=g(t,["safetyAttributes","categories"]);a!=null&&p(n,["categories"],a);const o=g(t,["safetyAttributes","scores"]);o!=null&&p(n,["scores"],o);const u=g(t,["contentType"]);return u!=null&&p(n,["contentType"],u),n}function uS(i,t){const n={},a=g(t,["_self"]);a!=null&&p(n,["image"],sS(i,a));const o=g(t,["raiFilteredReason"]);o!=null&&p(n,["raiFilteredReason"],o);const u=g(t,["_self"]);return u!=null&&p(n,["safetyAttributes"],k0(i,u)),n}function cS(i,t){const n={},a=g(t,["predictions"]);if(a!=null){let u=a;Array.isArray(u)&&(u=u.map(c=>uS(i,c))),p(n,["generatedImages"],u)}const o=g(t,["positivePromptSafetyAttributes"]);return o!=null&&p(n,["positivePromptSafetyAttributes"],k0(i,o)),n}function dS(i,t){const n={},a=g(t,["baseModel"]);a!=null&&p(n,["baseModel"],a);const o=g(t,["createTime"]);o!=null&&p(n,["createTime"],o);const u=g(t,["updateTime"]);return u!=null&&p(n,["updateTime"],u),n}function fp(i,t){const n={},a=g(t,["name"]);a!=null&&p(n,["name"],a);const o=g(t,["displayName"]);o!=null&&p(n,["displayName"],o);const u=g(t,["description"]);u!=null&&p(n,["description"],u);const c=g(t,["version"]);c!=null&&p(n,["version"],c);const m=g(t,["_self"]);m!=null&&p(n,["tunedModelInfo"],dS(i,m));const x=g(t,["inputTokenLimit"]);x!=null&&p(n,["inputTokenLimit"],x);const f=g(t,["outputTokenLimit"]);f!=null&&p(n,["outputTokenLimit"],f);const v=g(t,["supportedGenerationMethods"]);return v!=null&&p(n,["supportedActions"],v),n}function fS(){return{}}function mS(i,t){const n={},a=g(t,["totalTokens"]);a!=null&&p(n,["totalTokens"],a);const o=g(t,["cachedContentTokenCount"]);return o!=null&&p(n,["cachedContentTokenCount"],o),n}function hS(i,t){const n={},a=g(t,["video","uri"]);a!=null&&p(n,["uri"],a);const o=g(t,["video","encodedVideo"]);o!=null&&p(n,["videoBytes"],ki(i,o));const u=g(t,["encoding"]);return u!=null&&p(n,["mimeType"],u),n}function gS(i,t){const n={},a=g(t,["_self"]);return a!=null&&p(n,["video"],hS(i,a)),n}function pS(i,t){const n={},a=g(t,["generatedSamples"]);if(a!=null){let c=a;Array.isArray(c)&&(c=c.map(m=>gS(i,m))),p(n,["generatedVideos"],c)}const o=g(t,["raiMediaFilteredCount"]);o!=null&&p(n,["raiMediaFilteredCount"],o);const u=g(t,["raiMediaFilteredReasons"]);return u!=null&&p(n,["raiMediaFilteredReasons"],u),n}function yS(i,t){const n={},a=g(t,["name"]);a!=null&&p(n,["name"],a);const o=g(t,["metadata"]);o!=null&&p(n,["metadata"],o);const u=g(t,["done"]);u!=null&&p(n,["done"],u);const c=g(t,["error"]);c!=null&&p(n,["error"],c);const m=g(t,["response","generateVideoResponse"]);return m!=null&&p(n,["response"],pS(i,m)),n}function xS(i,t){const n={},a=g(t,["videoMetadata"]);a!=null&&p(n,["videoMetadata"],a);const o=g(t,["thought"]);o!=null&&p(n,["thought"],o);const u=g(t,["codeExecutionResult"]);u!=null&&p(n,["codeExecutionResult"],u);const c=g(t,["executableCode"]);c!=null&&p(n,["executableCode"],c);const m=g(t,["fileData"]);m!=null&&p(n,["fileData"],m);const x=g(t,["functionCall"]);x!=null&&p(n,["functionCall"],x);const f=g(t,["functionResponse"]);f!=null&&p(n,["functionResponse"],f);const v=g(t,["inlineData"]);v!=null&&p(n,["inlineData"],v);const b=g(t,["text"]);return b!=null&&p(n,["text"],b),n}function vS(i,t){const n={},a=g(t,["parts"]);if(a!=null){let u=a;Array.isArray(u)&&(u=u.map(c=>xS(i,c))),p(n,["parts"],u)}const o=g(t,["role"]);return o!=null&&p(n,["role"],o),n}function bS(i,t){const n={},a=g(t,["citations"]);return a!=null&&p(n,["citations"],a),n}function TS(i,t){const n={},a=g(t,["content"]);a!=null&&p(n,["content"],vS(i,a));const o=g(t,["citationMetadata"]);o!=null&&p(n,["citationMetadata"],bS(i,o));const u=g(t,["finishMessage"]);u!=null&&p(n,["finishMessage"],u);const c=g(t,["finishReason"]);c!=null&&p(n,["finishReason"],c);const m=g(t,["avgLogprobs"]);m!=null&&p(n,["avgLogprobs"],m);const x=g(t,["groundingMetadata"]);x!=null&&p(n,["groundingMetadata"],x);const f=g(t,["index"]);f!=null&&p(n,["index"],f);const v=g(t,["logprobsResult"]);v!=null&&p(n,["logprobsResult"],v);const b=g(t,["safetyRatings"]);return b!=null&&p(n,["safetyRatings"],b),n}function mp(i,t){const n={},a=g(t,["candidates"]);if(a!=null){let f=a;Array.isArray(f)&&(f=f.map(v=>TS(i,v))),p(n,["candidates"],f)}const o=g(t,["createTime"]);o!=null&&p(n,["createTime"],o);const u=g(t,["responseId"]);u!=null&&p(n,["responseId"],u);const c=g(t,["modelVersion"]);c!=null&&p(n,["modelVersion"],c);const m=g(t,["promptFeedback"]);m!=null&&p(n,["promptFeedback"],m);const x=g(t,["usageMetadata"]);return x!=null&&p(n,["usageMetadata"],x),n}function SS(i,t){const n={},a=g(t,["truncated"]);a!=null&&p(n,["truncated"],a);const o=g(t,["token_count"]);return o!=null&&p(n,["tokenCount"],o),n}function CS(i,t){const n={},a=g(t,["values"]);a!=null&&p(n,["values"],a);const o=g(t,["statistics"]);return o!=null&&p(n,["statistics"],SS(i,o)),n}function ES(i,t){const n={},a=g(t,["billableCharacterCount"]);return a!=null&&p(n,["billableCharacterCount"],a),n}function wS(i,t){const n={},a=g(t,["predictions[]","embeddings"]);if(a!=null){let u=a;Array.isArray(u)&&(u=u.map(c=>CS(i,c))),p(n,["embeddings"],u)}const o=g(t,["metadata"]);return o!=null&&p(n,["metadata"],ES(i,o)),n}function AS(i,t){const n={},a=g(t,["gcsUri"]);a!=null&&p(n,["gcsUri"],a);const o=g(t,["bytesBase64Encoded"]);o!=null&&p(n,["imageBytes"],ki(i,o));const u=g(t,["mimeType"]);return u!=null&&p(n,["mimeType"],u),n}function R0(i,t){const n={},a=g(t,["safetyAttributes","categories"]);a!=null&&p(n,["categories"],a);const o=g(t,["safetyAttributes","scores"]);o!=null&&p(n,["scores"],o);const u=g(t,["contentType"]);return u!=null&&p(n,["contentType"],u),n}function NS(i,t){const n={},a=g(t,["_self"]);a!=null&&p(n,["image"],AS(i,a));const o=g(t,["raiFilteredReason"]);o!=null&&p(n,["raiFilteredReason"],o);const u=g(t,["_self"]);u!=null&&p(n,["safetyAttributes"],R0(i,u));const c=g(t,["prompt"]);return c!=null&&p(n,["enhancedPrompt"],c),n}function MS(i,t){const n={},a=g(t,["predictions"]);if(a!=null){let u=a;Array.isArray(u)&&(u=u.map(c=>NS(i,c))),p(n,["generatedImages"],u)}const o=g(t,["positivePromptSafetyAttributes"]);return o!=null&&p(n,["positivePromptSafetyAttributes"],R0(i,o)),n}function _S(i,t){const n={},a=g(t,["endpoint"]);a!=null&&p(n,["name"],a);const o=g(t,["deployedModelId"]);return o!=null&&p(n,["deployedModelId"],o),n}function DS(i,t){const n={},a=g(t,["labels","google-vertex-llm-tuning-base-model-id"]);a!=null&&p(n,["baseModel"],a);const o=g(t,["createTime"]);o!=null&&p(n,["createTime"],o);const u=g(t,["updateTime"]);return u!=null&&p(n,["updateTime"],u),n}function hp(i,t){const n={},a=g(t,["name"]);a!=null&&p(n,["name"],a);const o=g(t,["displayName"]);o!=null&&p(n,["displayName"],o);const u=g(t,["description"]);u!=null&&p(n,["description"],u);const c=g(t,["versionId"]);c!=null&&p(n,["version"],c);const m=g(t,["deployedModels"]);if(m!=null){let v=m;Array.isArray(v)&&(v=v.map(b=>_S(i,b))),p(n,["endpoints"],v)}const x=g(t,["labels"]);x!=null&&p(n,["labels"],x);const f=g(t,["_self"]);return f!=null&&p(n,["tunedModelInfo"],DS(i,f)),n}function IS(){return{}}function kS(i,t){const n={},a=g(t,["totalTokens"]);return a!=null&&p(n,["totalTokens"],a),n}function RS(i,t){const n={},a=g(t,["tokensInfo"]);return a!=null&&p(n,["tokensInfo"],a),n}function BS(i,t){const n={},a=g(t,["gcsUri"]);a!=null&&p(n,["uri"],a);const o=g(t,["bytesBase64Encoded"]);o!=null&&p(n,["videoBytes"],ki(i,o));const u=g(t,["mimeType"]);return u!=null&&p(n,["mimeType"],u),n}function LS(i,t){const n={},a=g(t,["_self"]);return a!=null&&p(n,["video"],BS(i,a)),n}function US(i,t){const n={},a=g(t,["videos"]);if(a!=null){let c=a;Array.isArray(c)&&(c=c.map(m=>LS(i,m))),p(n,["generatedVideos"],c)}const o=g(t,["raiMediaFilteredCount"]);o!=null&&p(n,["raiMediaFilteredCount"],o);const u=g(t,["raiMediaFilteredReasons"]);return u!=null&&p(n,["raiMediaFilteredReasons"],u),n}function zS(i,t){const n={},a=g(t,["name"]);a!=null&&p(n,["name"],a);const o=g(t,["metadata"]);o!=null&&p(n,["metadata"],o);const u=g(t,["done"]);u!=null&&p(n,["done"],u);const c=g(t,["error"]);c!=null&&p(n,["error"],c);const m=g(t,["response"]);return m!=null&&p(n,["response"],US(i,m)),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const jS="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function OS(i,t,n){let a,o;n.data instanceof Blob?o=JSON.parse(await n.data.text()):o=JSON.parse(n.data),i.isVertexAI()?a=tT(i,o):a=eT(i,o),t(a)}class PS{constructor(t,n,a){this.apiClient=t,this.auth=n,this.webSocketFactory=a}async connect(t){var n,a,o,u;const c=this.apiClient.getWebsocketBaseUrl(),m=this.apiClient.getApiVersion();let x;const f=GS(this.apiClient.getDefaultHeaders());if(this.apiClient.isVertexAI())x=`${c}/ws/google.cloud.aiplatform.${m}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(f);else{const Q=this.apiClient.getApiKey();x=`${c}/ws/google.ai.generativelanguage.${m}.GenerativeService.BidiGenerateContent?key=${Q}`}let v=()=>{};const b=new Promise(Q=>{v=Q}),C=t.callbacks,E=function(){var Q;(Q=C==null?void 0:C.onopen)===null||Q===void 0||Q.call(C),v({})},M=this.apiClient,B={onopen:E,onmessage:Q=>{OS(M,C.onmessage,Q)},onerror:(n=C==null?void 0:C.onerror)!==null&&n!==void 0?n:function(Q){},onclose:(a=C==null?void 0:C.onclose)!==null&&a!==void 0?a:function(Q){}},P=this.webSocketFactory.create(x,qS(f),B);P.connect(),await b;let j=mt(this.apiClient,t.model);if(this.apiClient.isVertexAI()&&j.startsWith("publishers/")){const Q=this.apiClient.getProject(),ne=this.apiClient.getLocation();j=`projects/${Q}/locations/${ne}/`+j}let Z={};this.apiClient.isVertexAI()&&((o=t.config)===null||o===void 0?void 0:o.responseModalities)===void 0&&(t.config===void 0?t.config={responseModalities:[Yo.AUDIO]}:t.config.responseModalities=[Yo.AUDIO]),!((u=t.config)===null||u===void 0)&&u.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const Y={model:j,config:t.config,callbacks:t.callbacks};return this.apiClient.isVertexAI()?Z=N1(this.apiClient,Y):Z=A1(this.apiClient,Y),delete Z.config,P.send(JSON.stringify(Z)),new HS(P,this.apiClient)}}const VS={turnComplete:!0};class HS{constructor(t,n){this.conn=t,this.apiClient=n}tLiveClientContent(t,n){if(n.turns!==null&&n.turns!==void 0){let a=[];try{a=Di(t,n.turns),t.isVertexAI()?a=a.map(o=>Fr(t,o)):a=a.map(o=>ns(t,o))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof n.turns}'`)}return{clientContent:{turns:a,turnComplete:n.turnComplete}}}return{clientContent:{turnComplete:n.turnComplete}}}tLiveClienttToolResponse(t,n){let a=[];if(n.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(n.functionResponses)?a=n.functionResponses:a=[n.functionResponses],a.length===0)throw new Error("functionResponses is required.");for(const u of a){if(typeof u!="object"||u===null||!("name"in u)||!("response"in u))throw new Error(`Could not parse function response, type '${typeof u}'.`);if(!t.isVertexAI()&&!("id"in u))throw new Error(jS)}return{toolResponse:{functionResponses:a}}}sendClientContent(t){t=Object.assign(Object.assign({},VS),t);const n=this.tLiveClientContent(this.apiClient,t);this.conn.send(JSON.stringify(n))}sendRealtimeInput(t){let n={};this.apiClient.isVertexAI()?n={realtimeInput:R1(this.apiClient,t)}:n={realtimeInput:k1(this.apiClient,t)},this.conn.send(JSON.stringify(n))}sendToolResponse(t){if(t.functionResponses==null)throw new Error("Tool response parameters are required.");const n=this.tLiveClienttToolResponse(this.apiClient,t);this.conn.send(JSON.stringify(n))}close(){this.conn.close()}}function qS(i){const t={};return i.forEach((n,a)=>{t[a]=n}),t}function GS(i){const t=new Headers;for(const[n,a]of Object.entries(i))t.append(n,a);return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class FS extends fa{constructor(t){super(),this.apiClient=t,this.generateContent=async n=>await this.generateContentInternal(n),this.generateContentStream=async n=>await this.generateContentStreamInternal(n),this.generateImages=async n=>await this.generateImagesInternal(n).then(a=>{var o;let u;const c=[];if(a!=null&&a.generatedImages)for(const x of a.generatedImages)x&&(x!=null&&x.safetyAttributes)&&((o=x==null?void 0:x.safetyAttributes)===null||o===void 0?void 0:o.contentType)==="Positive Prompt"?u=x==null?void 0:x.safetyAttributes:c.push(x);let m;return u?m={generatedImages:c,positivePromptSafetyAttributes:u}:m={generatedImages:c},m})}async generateContentInternal(t){var n,a,o,u;let c,m="",x={};if(this.apiClient.isVertexAI()){const f=cp(this.apiClient,t);return m=De("{model}:generateContent",f._url),x=f._query,delete f.config,delete f._url,delete f._query,c=this.apiClient.request({path:m,queryParams:x,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),c.then(v=>{const b=mp(this.apiClient,v),C=new Do;return Object.assign(C,b),C})}else{const f=up(this.apiClient,t);return m=De("{model}:generateContent",f._url),x=f._query,delete f.config,delete f._url,delete f._query,c=this.apiClient.request({path:m,queryParams:x,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(u=t.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json()),c.then(v=>{const b=dp(this.apiClient,v),C=new Do;return Object.assign(C,b),C})}}async generateContentStreamInternal(t){var n,a,o,u;let c,m="",x={};if(this.apiClient.isVertexAI()){const f=cp(this.apiClient,t);m=De("{model}:streamGenerateContent?alt=sse",f._url),x=f._query,delete f.config,delete f._url,delete f._query;const v=this.apiClient;return c=v.requestStream({path:m,queryParams:x,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}),c.then(function(b){return Ko(this,arguments,function*(){var C,E,M,B;try{for(var P=!0,j=Hc(b),Z;Z=yield Ut(j.next()),C=Z.done,!C;P=!0){B=Z.value,P=!1;const Q=mp(v,yield Ut(B.json())),ne=new Do;Object.assign(ne,Q),yield yield Ut(ne)}}catch(Y){E={error:Y}}finally{try{!P&&!C&&(M=j.return)&&(yield Ut(M.call(j)))}finally{if(E)throw E.error}}})})}else{const f=up(this.apiClient,t);m=De("{model}:streamGenerateContent?alt=sse",f._url),x=f._query,delete f.config,delete f._url,delete f._query;const v=this.apiClient;return c=v.requestStream({path:m,queryParams:x,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(u=t.config)===null||u===void 0?void 0:u.abortSignal}),c.then(function(b){return Ko(this,arguments,function*(){var C,E,M,B;try{for(var P=!0,j=Hc(b),Z;Z=yield Ut(j.next()),C=Z.done,!C;P=!0){B=Z.value,P=!1;const Q=dp(v,yield Ut(B.json())),ne=new Do;Object.assign(ne,Q),yield yield Ut(ne)}}catch(Y){E={error:Y}}finally{try{!P&&!C&&(M=j.return)&&(yield Ut(M.call(j)))}finally{if(E)throw E.error}}})})}}async embedContent(t){var n,a,o,u;let c,m="",x={};if(this.apiClient.isVertexAI()){const f=HT(this.apiClient,t);return m=De("{model}:predict",f._url),x=f._query,delete f.config,delete f._url,delete f._query,c=this.apiClient.request({path:m,queryParams:x,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),c.then(v=>{const b=wS(this.apiClient,v),C=new Zg;return Object.assign(C,b),C})}else{const f=pT(this.apiClient,t);return m=De("{model}:batchEmbedContents",f._url),x=f._query,delete f.config,delete f._url,delete f._query,c=this.apiClient.request({path:m,queryParams:x,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(u=t.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json()),c.then(v=>{const b=oS(this.apiClient,v),C=new Zg;return Object.assign(C,b),C})}}async generateImagesInternal(t){var n,a,o,u;let c,m="",x={};if(this.apiClient.isVertexAI()){const f=GT(this.apiClient,t);return m=De("{model}:predict",f._url),x=f._query,delete f.config,delete f._url,delete f._query,c=this.apiClient.request({path:m,queryParams:x,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),c.then(v=>{const b=MS(this.apiClient,v),C=new Wg;return Object.assign(C,b),C})}else{const f=xT(this.apiClient,t);return m=De("{model}:predict",f._url),x=f._query,delete f.config,delete f._url,delete f._query,c=this.apiClient.request({path:m,queryParams:x,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(u=t.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json()),c.then(v=>{const b=cS(this.apiClient,v),C=new Wg;return Object.assign(C,b),C})}}async get(t){var n,a,o,u;let c,m="",x={};if(this.apiClient.isVertexAI()){const f=FT(this.apiClient,t);return m=De("{name}",f._url),x=f._query,delete f.config,delete f._url,delete f._query,c=this.apiClient.request({path:m,queryParams:x,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),c.then(v=>hp(this.apiClient,v))}else{const f=vT(this.apiClient,t);return m=De("{name}",f._url),x=f._query,delete f.config,delete f._url,delete f._query,c=this.apiClient.request({path:m,queryParams:x,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(u=t.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json()),c.then(v=>fp(this.apiClient,v))}}async update(t){var n,a,o,u;let c,m="",x={};if(this.apiClient.isVertexAI()){const f=KT(this.apiClient,t);return m=De("{model}",f._url),x=f._query,delete f.config,delete f._url,delete f._query,c=this.apiClient.request({path:m,queryParams:x,body:JSON.stringify(f),httpMethod:"PATCH",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),c.then(v=>hp(this.apiClient,v))}else{const f=TT(this.apiClient,t);return m=De("{name}",f._url),x=f._query,delete f.config,delete f._url,delete f._query,c=this.apiClient.request({path:m,queryParams:x,body:JSON.stringify(f),httpMethod:"PATCH",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(u=t.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json()),c.then(v=>fp(this.apiClient,v))}}async delete(t){var n,a,o,u;let c,m="",x={};if(this.apiClient.isVertexAI()){const f=$T(this.apiClient,t);return m=De("{name}",f._url),x=f._query,delete f.config,delete f._url,delete f._query,c=this.apiClient.request({path:m,queryParams:x,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),c.then(()=>{const v=IS(),b=new ep;return Object.assign(b,v),b})}else{const f=ST(this.apiClient,t);return m=De("{name}",f._url),x=f._query,delete f.config,delete f._url,delete f._query,c=this.apiClient.request({path:m,queryParams:x,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(u=t.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json()),c.then(()=>{const v=fS(),b=new ep;return Object.assign(b,v),b})}}async countTokens(t){var n,a,o,u;let c,m="",x={};if(this.apiClient.isVertexAI()){const f=JT(this.apiClient,t);return m=De("{model}:countTokens",f._url),x=f._query,delete f.config,delete f._url,delete f._query,c=this.apiClient.request({path:m,queryParams:x,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),c.then(v=>{const b=kS(this.apiClient,v),C=new tp;return Object.assign(C,b),C})}else{const f=ET(this.apiClient,t);return m=De("{model}:countTokens",f._url),x=f._query,delete f.config,delete f._url,delete f._query,c=this.apiClient.request({path:m,queryParams:x,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(u=t.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json()),c.then(v=>{const b=mS(this.apiClient,v),C=new tp;return Object.assign(C,b),C})}}async computeTokens(t){var n,a;let o,u="",c={};if(this.apiClient.isVertexAI()){const m=QT(this.apiClient,t);return u=De("{model}:computeTokens",m._url),c=m._query,delete m.config,delete m._url,delete m._query,o=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(x=>x.json()),o.then(x=>{const f=RS(this.apiClient,x),v=new Rb;return Object.assign(v,f),v})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideos(t){var n,a,o,u;let c,m="",x={};if(this.apiClient.isVertexAI()){const f=eS(this.apiClient,t);return m=De("{model}:predictLongRunning",f._url),x=f._query,delete f.config,delete f._url,delete f._query,c=this.apiClient.request({path:m,queryParams:x,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),c.then(v=>zS(this.apiClient,v))}else{const f=NT(this.apiClient,t);return m=De("{model}:predictLongRunning",f._url),x=f._query,delete f.config,delete f._url,delete f._query,c=this.apiClient.request({path:m,queryParams:x,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(u=t.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json()),c.then(v=>yS(this.apiClient,v))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function YS(i,t){const n={},a=g(t,["operationName"]);a!=null&&p(n,["_url","operationName"],a);const o=g(t,["config"]);return o!=null&&p(n,["config"],o),n}function KS(i,t){const n={},a=g(t,["operationName"]);a!=null&&p(n,["_url","operationName"],a);const o=g(t,["config"]);return o!=null&&p(n,["config"],o),n}function $S(i,t){const n={},a=g(t,["operationName"]);a!=null&&p(n,["operationName"],a);const o=g(t,["resourceName"]);o!=null&&p(n,["_url","resourceName"],o);const u=g(t,["config"]);return u!=null&&p(n,["config"],u),n}function XS(i,t){const n={},a=g(t,["video","uri"]);a!=null&&p(n,["uri"],a);const o=g(t,["video","encodedVideo"]);o!=null&&p(n,["videoBytes"],ki(i,o));const u=g(t,["encoding"]);return u!=null&&p(n,["mimeType"],u),n}function JS(i,t){const n={},a=g(t,["_self"]);return a!=null&&p(n,["video"],XS(i,a)),n}function QS(i,t){const n={},a=g(t,["generatedSamples"]);if(a!=null){let c=a;Array.isArray(c)&&(c=c.map(m=>JS(i,m))),p(n,["generatedVideos"],c)}const o=g(t,["raiMediaFilteredCount"]);o!=null&&p(n,["raiMediaFilteredCount"],o);const u=g(t,["raiMediaFilteredReasons"]);return u!=null&&p(n,["raiMediaFilteredReasons"],u),n}function ZS(i,t){const n={},a=g(t,["name"]);a!=null&&p(n,["name"],a);const o=g(t,["metadata"]);o!=null&&p(n,["metadata"],o);const u=g(t,["done"]);u!=null&&p(n,["done"],u);const c=g(t,["error"]);c!=null&&p(n,["error"],c);const m=g(t,["response","generateVideoResponse"]);return m!=null&&p(n,["response"],QS(i,m)),n}function WS(i,t){const n={},a=g(t,["gcsUri"]);a!=null&&p(n,["uri"],a);const o=g(t,["bytesBase64Encoded"]);o!=null&&p(n,["videoBytes"],ki(i,o));const u=g(t,["mimeType"]);return u!=null&&p(n,["mimeType"],u),n}function eC(i,t){const n={},a=g(t,["_self"]);return a!=null&&p(n,["video"],WS(i,a)),n}function tC(i,t){const n={},a=g(t,["videos"]);if(a!=null){let c=a;Array.isArray(c)&&(c=c.map(m=>eC(i,m))),p(n,["generatedVideos"],c)}const o=g(t,["raiMediaFilteredCount"]);o!=null&&p(n,["raiMediaFilteredCount"],o);const u=g(t,["raiMediaFilteredReasons"]);return u!=null&&p(n,["raiMediaFilteredReasons"],u),n}function gp(i,t){const n={},a=g(t,["name"]);a!=null&&p(n,["name"],a);const o=g(t,["metadata"]);o!=null&&p(n,["metadata"],o);const u=g(t,["done"]);u!=null&&p(n,["done"],u);const c=g(t,["error"]);c!=null&&p(n,["error"],c);const m=g(t,["response"]);return m!=null&&p(n,["response"],tC(i,m)),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class nC extends fa{constructor(t){super(),this.apiClient=t}async getVideosOperation(t){const n=t.operation,a=t.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const o=n.name.split("/operations/")[0];let u;return a&&"httpOptions"in a&&(u=a.httpOptions),this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:o,config:{httpOptions:u}})}else return this.getVideosOperationInternal({operationName:n.name,config:a})}async getVideosOperationInternal(t){var n,a,o,u;let c,m="",x={};if(this.apiClient.isVertexAI()){const f=KS(this.apiClient,t);return m=De("{operationName}",f._url),x=f._query,delete f.config,delete f._url,delete f._query,c=this.apiClient.request({path:m,queryParams:x,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),c.then(v=>gp(this.apiClient,v))}else{const f=YS(this.apiClient,t);return m=De("{operationName}",f._url),x=f._query,delete f.config,delete f._url,delete f._query,c=this.apiClient.request({path:m,queryParams:x,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(u=t.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json()),c.then(v=>ZS(this.apiClient,v))}}async fetchPredictVideosOperationInternal(t){var n,a;let o,u="",c={};if(this.apiClient.isVertexAI()){const m=$S(this.apiClient,t);return u=De("{resourceName}:fetchPredictOperation",m._url),c=m._query,delete m.config,delete m._url,delete m._query,o=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(x=>x.json()),o.then(x=>gp(this.apiClient,x))}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const iC="Content-Type",rC="X-Server-Timeout",lC="User-Agent",aC="x-goog-api-client",oC="0.12.0",sC=`google-genai-sdk/${oC}`,uC="v1beta1",cC="v1beta",pp=/^data: (.*)(?:\n\n|\r\r|\r\n\r\n)/;class B0 extends Error{constructor(t,n){n?super(t,{cause:n}):super(t,{cause:new Error().stack}),this.message=t,this.name="ClientError"}}class Gc extends Error{constructor(t,n){n?super(t,{cause:n}):super(t,{cause:new Error().stack}),this.message=t,this.name="ServerError"}}class dC{constructor(t){var n,a;this.clientOptions=Object.assign(Object.assign({},t),{project:t.project,location:t.location,apiKey:t.apiKey,vertexai:t.vertexai});const o={};this.clientOptions.vertexai?(o.apiVersion=(n=this.clientOptions.apiVersion)!==null&&n!==void 0?n:uC,this.getProject()||this.getLocation()?(o.baseUrl=`https://${this.clientOptions.location}-aiplatform.googleapis.com/`,this.clientOptions.apiKey=void 0):(o.baseUrl="https://aiplatform.googleapis.com/",this.clientOptions.project=void 0,this.clientOptions.location=void 0)):(o.apiVersion=(a=this.clientOptions.apiVersion)!==null&&a!==void 0?a:cC,o.baseUrl="https://generativelanguage.googleapis.com/"),o.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=o,t.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(o,t.httpOptions))}isVertexAI(){var t;return(t=this.clientOptions.vertexai)!==null&&t!==void 0?t:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(t){if(!t||t.baseUrl===void 0||t.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const a=[t.baseUrl.endsWith("/")?t.baseUrl.slice(0,-1):t.baseUrl];return t.apiVersion&&t.apiVersion!==""&&a.push(t.apiVersion),a.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const t=this.getBaseUrl(),n=new URL(t);return n.protocol=n.protocol=="http:"?"ws":"wss",n.toString()}setBaseUrl(t){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=t;else throw new Error("HTTP options are not correctly set.")}constructUrl(t,n,a){const o=[this.getRequestUrlInternal(n)];return a&&o.push(this.getBaseResourcePath()),t!==""&&o.push(t),new URL(`${o.join("/")}`)}shouldPrependVertexProjectPath(t){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||t.path.startsWith("projects/")||t.httpMethod==="GET"&&t.path.startsWith("publishers/google/models"))}async request(t){let n=this.clientOptions.httpOptions;t.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,t.httpOptions));const a=this.shouldPrependVertexProjectPath(t),o=this.constructUrl(t.path,n,a);if(t.queryParams)for(const[c,m]of Object.entries(t.queryParams))o.searchParams.append(c,String(m));let u={};if(t.httpMethod==="GET"){if(t.body&&t.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else u.body=t.body;return u=await this.includeExtraHttpOptionsToRequestInit(u,n,t.abortSignal),this.unaryApiCall(o,u,t.httpMethod)}patchHttpOptions(t,n){const a=JSON.parse(JSON.stringify(t));for(const[o,u]of Object.entries(n))typeof u=="object"?a[o]=Object.assign(Object.assign({},a[o]),u):u!==void 0&&(a[o]=u);return a}async requestStream(t){let n=this.clientOptions.httpOptions;t.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,t.httpOptions));const a=this.shouldPrependVertexProjectPath(t),o=this.constructUrl(t.path,n,a);(!o.searchParams.has("alt")||o.searchParams.get("alt")!=="sse")&&o.searchParams.set("alt","sse");let u={};return u.body=t.body,u=await this.includeExtraHttpOptionsToRequestInit(u,n,t.abortSignal),this.streamApiCall(o,u,t.httpMethod)}async includeExtraHttpOptionsToRequestInit(t,n,a){if(n&&n.timeout||a){const o=new AbortController,u=o.signal;n.timeout&&(n==null?void 0:n.timeout)>0&&setTimeout(()=>o.abort(),n.timeout),a&&a.addEventListener("abort",()=>{o.abort()}),t.signal=u}return t.headers=await this.getHeadersInternal(n),t}async unaryApiCall(t,n,a){return this.apiCall(t.toString(),Object.assign(Object.assign({},n),{method:a})).then(async o=>(await yp(o),new Vc(o))).catch(o=>{throw o instanceof Error?o:new Error(JSON.stringify(o))})}async streamApiCall(t,n,a){return this.apiCall(t.toString(),Object.assign(Object.assign({},n),{method:a})).then(async o=>(await yp(o),this.processStreamResponse(o))).catch(o=>{throw o instanceof Error?o:new Error(JSON.stringify(o))})}processStreamResponse(t){var n;return Ko(this,arguments,function*(){const o=(n=t==null?void 0:t.body)===null||n===void 0?void 0:n.getReader(),u=new TextDecoder("utf-8");if(!o)throw new Error("Response body is empty");try{let c="";for(;;){const{done:m,value:x}=yield Ut(o.read());if(m){if(c.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const f=u.decode(x);try{const b=JSON.parse(f);if("error"in b){const C=JSON.parse(JSON.stringify(b.error)),E=C.status,M=C.code,B=`got status: ${E}. ${JSON.stringify(b)}`;if(M>=400&&M<500)throw new B0(B);if(M>=500&&M<600)throw new Gc(B)}}catch(b){const C=b;if(C.name==="ClientError"||C.name==="ServerError")throw b}c+=f;let v=c.match(pp);for(;v;){const b=v[1];try{const C=new Response(b,{headers:t==null?void 0:t.headers,status:t==null?void 0:t.status,statusText:t==null?void 0:t.statusText});yield yield Ut(new Vc(C)),c=c.slice(v[0].length),v=c.match(pp)}catch(C){throw new Error(`exception parsing stream chunk ${b}. ${C}`)}}}}finally{o.releaseLock()}})}async apiCall(t,n){return fetch(t,n).catch(a=>{throw new Error(`exception ${a} sending request`)})}getDefaultHeaders(){const t={},n=sC+" "+this.clientOptions.userAgentExtra;return t[lC]=n,t[aC]=n,t[iC]="application/json",t}async getHeadersInternal(t){const n=new Headers;if(t&&t.headers){for(const[a,o]of Object.entries(t.headers))n.append(a,o);t.timeout&&t.timeout>0&&n.append(rC,String(Math.ceil(t.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(n),n}async uploadFile(t,n){var a;const o={};n!=null&&(o.mimeType=n.mimeType,o.name=n.name,o.displayName=n.displayName),o.name&&!o.name.startsWith("files/")&&(o.name=`files/${o.name}`);const u=this.clientOptions.uploader,c=await u.stat(t);o.sizeBytes=String(c.size);const m=(a=n==null?void 0:n.mimeType)!==null&&a!==void 0?a:c.type;if(m===void 0||m==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");o.mimeType=m;const x=await this.fetchUploadUrl(o,n);return u.upload(t,x,this)}async fetchUploadUrl(t,n){var a;let o={};n!=null&&n.httpOptions?o=n.httpOptions:o={apiVersion:"",headers:{"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${t.sizeBytes}`,"X-Goog-Upload-Header-Content-Type":`${t.mimeType}`}};const u={file:t},c=await this.request({path:De("upload/v1beta/files",u._url),body:JSON.stringify(u),httpMethod:"POST",httpOptions:o});if(!c||!(c!=null&&c.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const m=(a=c==null?void 0:c.headers)===null||a===void 0?void 0:a["x-goog-upload-url"];if(m===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return m}}async function yp(i){var t;if(i===void 0)throw new Gc("response is undefined");if(!i.ok){const n=i.status,a=i.statusText;let o;!((t=i.headers.get("content-type"))===null||t===void 0)&&t.includes("application/json")?o=await i.json():o={error:{message:await i.text(),code:i.status,status:i.statusText}};const u=`got status: ${n} ${a}. ${JSON.stringify(o)}`;throw n>=400&&n<500?new B0(u):n>=500&&n<600?new Gc(u):new Error(u)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function fC(i,t){const n={},a=g(t,["name"]);a!=null&&p(n,["_url","name"],a);const o=g(t,["config"]);return o!=null&&p(n,["config"],o),n}function mC(i,t,n){const a={},o=g(t,["pageSize"]);n!==void 0&&o!=null&&p(n,["_query","pageSize"],o);const u=g(t,["pageToken"]);n!==void 0&&u!=null&&p(n,["_query","pageToken"],u);const c=g(t,["filter"]);return n!==void 0&&c!=null&&p(n,["_query","filter"],c),a}function hC(i,t){const n={},a=g(t,["config"]);return a!=null&&p(n,["config"],mC(i,a,n)),n}function gC(i,t){const n={},a=g(t,["textInput"]);a!=null&&p(n,["textInput"],a);const o=g(t,["output"]);return o!=null&&p(n,["output"],o),n}function pC(i,t){const n={};if(g(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const a=g(t,["examples"]);if(a!=null){let o=a;Array.isArray(o)&&(o=o.map(u=>gC(i,u))),p(n,["examples","examples"],o)}return n}function yC(i,t,n){const a={};if(g(t,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const o=g(t,["tunedModelDisplayName"]);if(n!==void 0&&o!=null&&p(n,["displayName"],o),g(t,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const u=g(t,["epochCount"]);n!==void 0&&u!=null&&p(n,["tuningTask","hyperparameters","epochCount"],u);const c=g(t,["learningRateMultiplier"]);if(c!=null&&p(a,["tuningTask","hyperparameters","learningRateMultiplier"],c),g(t,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const m=g(t,["batchSize"]);n!==void 0&&m!=null&&p(n,["tuningTask","hyperparameters","batchSize"],m);const x=g(t,["learningRate"]);return n!==void 0&&x!=null&&p(n,["tuningTask","hyperparameters","learningRate"],x),a}function xC(i,t){const n={},a=g(t,["baseModel"]);a!=null&&p(n,["baseModel"],a);const o=g(t,["trainingDataset"]);o!=null&&p(n,["tuningTask","trainingData"],pC(i,o));const u=g(t,["config"]);return u!=null&&p(n,["config"],yC(i,u,n)),n}function vC(i,t){const n={},a=g(t,["name"]);a!=null&&p(n,["_url","name"],a);const o=g(t,["config"]);return o!=null&&p(n,["config"],o),n}function bC(i,t,n){const a={},o=g(t,["pageSize"]);n!==void 0&&o!=null&&p(n,["_query","pageSize"],o);const u=g(t,["pageToken"]);n!==void 0&&u!=null&&p(n,["_query","pageToken"],u);const c=g(t,["filter"]);return n!==void 0&&c!=null&&p(n,["_query","filter"],c),a}function TC(i,t){const n={},a=g(t,["config"]);return a!=null&&p(n,["config"],bC(i,a,n)),n}function SC(i,t,n){const a={},o=g(t,["gcsUri"]);if(n!==void 0&&o!=null&&p(n,["supervisedTuningSpec","trainingDatasetUri"],o),g(t,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return a}function CC(i,t){const n={},a=g(t,["gcsUri"]);return a!=null&&p(n,["validationDatasetUri"],a),n}function EC(i,t,n){const a={},o=g(t,["validationDataset"]);n!==void 0&&o!=null&&p(n,["supervisedTuningSpec"],CC(i,o));const u=g(t,["tunedModelDisplayName"]);n!==void 0&&u!=null&&p(n,["tunedModelDisplayName"],u);const c=g(t,["description"]);n!==void 0&&c!=null&&p(n,["description"],c);const m=g(t,["epochCount"]);n!==void 0&&m!=null&&p(n,["supervisedTuningSpec","hyperParameters","epochCount"],m);const x=g(t,["learningRateMultiplier"]);n!==void 0&&x!=null&&p(n,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],x);const f=g(t,["adapterSize"]);if(n!==void 0&&f!=null&&p(n,["supervisedTuningSpec","hyperParameters","adapterSize"],f),g(t,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(g(t,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");return a}function wC(i,t){const n={},a=g(t,["baseModel"]);a!=null&&p(n,["baseModel"],a);const o=g(t,["trainingDataset"]);o!=null&&p(n,["supervisedTuningSpec","trainingDatasetUri"],SC(i,o,n));const u=g(t,["config"]);return u!=null&&p(n,["config"],EC(i,u,n)),n}function AC(i,t){const n={},a=g(t,["name"]);a!=null&&p(n,["model"],a);const o=g(t,["name"]);return o!=null&&p(n,["endpoint"],o),n}function L0(i,t){const n={},a=g(t,["name"]);a!=null&&p(n,["name"],a);const o=g(t,["state"]);o!=null&&p(n,["state"],M0(i,o));const u=g(t,["createTime"]);u!=null&&p(n,["createTime"],u);const c=g(t,["tuningTask","startTime"]);c!=null&&p(n,["startTime"],c);const m=g(t,["tuningTask","completeTime"]);m!=null&&p(n,["endTime"],m);const x=g(t,["updateTime"]);x!=null&&p(n,["updateTime"],x);const f=g(t,["description"]);f!=null&&p(n,["description"],f);const v=g(t,["baseModel"]);v!=null&&p(n,["baseModel"],v);const b=g(t,["_self"]);b!=null&&p(n,["tunedModel"],AC(i,b));const C=g(t,["distillationSpec"]);C!=null&&p(n,["distillationSpec"],C);const E=g(t,["experiment"]);E!=null&&p(n,["experiment"],E);const M=g(t,["labels"]);M!=null&&p(n,["labels"],M);const B=g(t,["pipelineJob"]);B!=null&&p(n,["pipelineJob"],B);const P=g(t,["tunedModelDisplayName"]);return P!=null&&p(n,["tunedModelDisplayName"],P),n}function NC(i,t){const n={},a=g(t,["nextPageToken"]);a!=null&&p(n,["nextPageToken"],a);const o=g(t,["tunedModels"]);if(o!=null){let u=o;Array.isArray(u)&&(u=u.map(c=>L0(i,c))),p(n,["tuningJobs"],u)}return n}function MC(i,t){const n={},a=g(t,["name"]);a!=null&&p(n,["name"],a);const o=g(t,["metadata"]);o!=null&&p(n,["metadata"],o);const u=g(t,["done"]);u!=null&&p(n,["done"],u);const c=g(t,["error"]);return c!=null&&p(n,["error"],c),n}function _C(i,t){const n={},a=g(t,["model"]);a!=null&&p(n,["model"],a);const o=g(t,["endpoint"]);return o!=null&&p(n,["endpoint"],o),n}function Fc(i,t){const n={},a=g(t,["name"]);a!=null&&p(n,["name"],a);const o=g(t,["state"]);o!=null&&p(n,["state"],M0(i,o));const u=g(t,["createTime"]);u!=null&&p(n,["createTime"],u);const c=g(t,["startTime"]);c!=null&&p(n,["startTime"],c);const m=g(t,["endTime"]);m!=null&&p(n,["endTime"],m);const x=g(t,["updateTime"]);x!=null&&p(n,["updateTime"],x);const f=g(t,["error"]);f!=null&&p(n,["error"],f);const v=g(t,["description"]);v!=null&&p(n,["description"],v);const b=g(t,["baseModel"]);b!=null&&p(n,["baseModel"],b);const C=g(t,["tunedModel"]);C!=null&&p(n,["tunedModel"],_C(i,C));const E=g(t,["supervisedTuningSpec"]);E!=null&&p(n,["supervisedTuningSpec"],E);const M=g(t,["tuningDataStats"]);M!=null&&p(n,["tuningDataStats"],M);const B=g(t,["encryptionSpec"]);B!=null&&p(n,["encryptionSpec"],B);const P=g(t,["partnerModelTuningSpec"]);P!=null&&p(n,["partnerModelTuningSpec"],P);const j=g(t,["distillationSpec"]);j!=null&&p(n,["distillationSpec"],j);const Z=g(t,["experiment"]);Z!=null&&p(n,["experiment"],Z);const Y=g(t,["labels"]);Y!=null&&p(n,["labels"],Y);const Q=g(t,["pipelineJob"]);Q!=null&&p(n,["pipelineJob"],Q);const ne=g(t,["tunedModelDisplayName"]);return ne!=null&&p(n,["tunedModelDisplayName"],ne),n}function DC(i,t){const n={},a=g(t,["nextPageToken"]);a!=null&&p(n,["nextPageToken"],a);const o=g(t,["tuningJobs"]);if(o!=null){let u=o;Array.isArray(u)&&(u=u.map(c=>Fc(i,c))),p(n,["tuningJobs"],u)}return n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class IC extends fa{constructor(t){super(),this.apiClient=t,this.get=async n=>await this.getInternal(n),this.list=async(n={})=>new ud(ua.PAGED_ITEM_TUNING_JOBS,a=>this.listInternal(a),await this.listInternal(n),n),this.tune=async n=>{if(this.apiClient.isVertexAI())return await this.tuneInternal(n);{const a=await this.tuneMldevInternal(n);let o="";return a.metadata!==void 0&&a.metadata.tunedModel!==void 0?o=a.metadata.tunedModel:a.name!==void 0&&a.name.includes("/operations/")&&(o=a.name.split("/operations/")[0]),{name:o,state:Pc.JOB_STATE_QUEUED}}}}async getInternal(t){var n,a,o,u;let c,m="",x={};if(this.apiClient.isVertexAI()){const f=vC(this.apiClient,t);return m=De("{name}",f._url),x=f._query,delete f.config,delete f._url,delete f._query,c=this.apiClient.request({path:m,queryParams:x,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),c.then(v=>Fc(this.apiClient,v))}else{const f=fC(this.apiClient,t);return m=De("{name}",f._url),x=f._query,delete f.config,delete f._url,delete f._query,c=this.apiClient.request({path:m,queryParams:x,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(u=t.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json()),c.then(v=>L0(this.apiClient,v))}}async listInternal(t){var n,a,o,u;let c,m="",x={};if(this.apiClient.isVertexAI()){const f=TC(this.apiClient,t);return m=De("tuningJobs",f._url),x=f._query,delete f.config,delete f._url,delete f._query,c=this.apiClient.request({path:m,queryParams:x,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),c.then(v=>{const b=DC(this.apiClient,v),C=new np;return Object.assign(C,b),C})}else{const f=hC(this.apiClient,t);return m=De("tunedModels",f._url),x=f._query,delete f.config,delete f._url,delete f._query,c=this.apiClient.request({path:m,queryParams:x,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(u=t.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json()),c.then(v=>{const b=NC(this.apiClient,v),C=new np;return Object.assign(C,b),C})}}async tuneInternal(t){var n,a;let o,u="",c={};if(this.apiClient.isVertexAI()){const m=wC(this.apiClient,t);return u=De("tuningJobs",m._url),c=m._query,delete m.config,delete m._url,delete m._query,o=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(x=>x.json()),o.then(x=>Fc(this.apiClient,x))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(t){var n,a;let o,u="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const m=xC(this.apiClient,t);return u=De("tunedModels",m._url),c=m._query,delete m.config,delete m._url,delete m._query,o=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(x=>x.json()),o.then(x=>MC(this.apiClient,x))}}}const kC=1024*1024*8;async function RC(i,t,n){var a,o;let u=0,c=0,m=new Vc(new Response),x="upload";for(u=i.size;c<u;){const v=Math.min(kC,u-c),b=i.slice(c,c+v);if(c+v>=u&&(x+=", finalize"),m=await n.request({path:"",body:b,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:t,headers:{"X-Goog-Upload-Command":x,"X-Goog-Upload-Offset":String(c),"Content-Length":String(v)}}}),c+=v,((a=m==null?void 0:m.headers)===null||a===void 0?void 0:a["x-goog-upload-status"])!=="active")break;if(u<=c)throw new Error("All content has been uploaded, but the upload status is not finalized.")}const f=await(m==null?void 0:m.json());if(((o=m==null?void 0:m.headers)===null||o===void 0?void 0:o["x-goog-upload-status"])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return f.file}async function BC(i){return{size:i.size,type:i.type}}class LC{async upload(t,n,a){if(typeof t=="string")throw new Error("File path is not supported in browser uploader.");return await RC(t,n,a)}async stat(t){if(typeof t=="string")throw new Error("File path is not supported in browser uploader.");return await BC(t)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class UC{create(t,n,a){return new zC(t,n,a)}}class zC{constructor(t,n,a){this.url=t,this.headers=n,this.callbacks=a}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(t){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(t)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const xp="x-goog-api-key";class jC{constructor(t){this.apiKey=t}async addAuthHeaders(t){t.get(xp)===null&&t.append(xp,this.apiKey)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const OC="gl-node/";class PC{constructor(t){var n;if(t.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(t.project||t.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(n=t.vertexai)!==null&&n!==void 0?n:!1,this.apiKey=t.apiKey;const a=Xv(t,void 0,void 0);a&&(t.httpOptions?t.httpOptions.baseUrl=a:t.httpOptions={baseUrl:a}),this.apiVersion=t.apiVersion;const o=new jC(this.apiKey);this.apiClient=new dC({auth:o,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:t.httpOptions,userAgentExtra:OC+"web",uploader:new LC}),this.models=new FS(this.apiClient),this.live=new PS(this.apiClient,o,new UC),this.chats=new Vb(this.models,this.apiClient),this.caches=new zb(this.apiClient),this.files=new e1(this.apiClient),this.operations=new nC(this.apiClient),this.tunings=new IC(this.apiClient)}}const Yr="gemini-2.0-flash-exp",vp="TrackGuide",bp="songGuidebookLibrary",Ql="trackGuideLastUsedDAW",Ro="trackGuideLastUsedPlugins",U0=["Pop","Indie Pop","Synth-Pop","Rock","Alternative Rock","Hard Rock","Punk Rock","Post-Punk","Nu Metal","Progressive Rock","Psychedelic Rock","Folk Rock","Shoegaze","House","Deep House","Progressive House","Tech House","Bass House","Electro House","Minimal House","Techno","Minimal Techno","Industrial Techno","Melodic Techno","Ambient Techno","Hard Techno","Trance","Progressive Trance","Psytrance","Goa Trance","Hard Trance","Ambient","Dark Ambient","Downtempo","Chillout","Chillwave","Psybient","Berlin School","Synthwave","Retrowave","Darksynth","Vaporwave","Future Funk","Drum and Bass","Jungle","Liquid DnB","Neurofunk","Breakcore","Dubstep","Riddim","Future Bass","Trap (EDM)","Hardstyle","Gabber","UK Hardcore","IDM (Intelligent Dance Music)","Glitch","Breakbeat","UK Garage","2-Step","Future Garage","EBM (Electronic Body Music)","Footwork","Juke","Hip Hop","Boom Bap","Trap","Lo-fi Hip Hop","Cloud Rap","Drill","Conscious Hip Hop","R&B","Contemporary R&B","Neo-Soul","Soul","Folk","Acoustic","World Music","Reggae","Dub","Ska","Latin","Afrobeat","Celtic","Jazz","Smooth Jazz","Blues","Funk","Heavy Metal","Thrash Metal","Death Metal","Black Metal","Doom Metal","Metalcore","Deathcore","Experimental","Noise","Industrial","Classical Crossover","Chiptune","Video Game Music"],VC=["Dark","Atmospheric","Energetic","Uplifting","Chill","Relaxed","Experimental","Trippy","Nostalgic","Retro","Aggressive","Intense","Melancholic","Introspective","Funky","Groovy","Mysterious","Eerie","Euphoric","Anthemic","Dreamy","Ethereal","Raw","Gritty","Sophisticated","Smooth","Cyberpunk","Futuristic","Hypnotic","Driving","Industrial","Mechanical","Hopeful","Aggressive","Peaceful","Romantic","Sad","Joyful","Tense"],Tp=["Ableton Live","Logic Pro X","FL Studio","Pro Tools","Cubase","Studio One","Reason","Bitwig Studio","Reaper","GarageBand"],ra=["C Major","G Major","D Major","A Major","E Major","B Major","F# Major","C# Major","F Major","Bb Major","Eb Major","Ab Major","Db Major","Gb Major","Cb Major","A Minor","E Minor","B Minor","F# Minor","C# Minor","G# Minor","D# Minor","A# Minor","D Minor","G Minor","C Minor","F Minor","Bb Minor","Eb Minor","Ab Minor"],Sp={C:["Ionian (Major)","Dorian","Phrygian","Lydian","Mixolydian","Aeolian (Natural Minor)","Locrian"],"C#":["Ionian (Major)","Dorian","Phrygian","Lydian","Mixolydian","Aeolian (Natural Minor)","Locrian"],Db:["Ionian (Major)","Dorian","Phrygian","Lydian","Mixolydian","Aeolian (Natural Minor)","Locrian"],D:["Ionian (Major)","Dorian","Phrygian","Lydian","Mixolydian","Aeolian (Natural Minor)","Locrian"],"D#":["Ionian (Major)","Dorian","Phrygian","Lydian","Mixolydian","Aeolian (Natural Minor)","Locrian"],Eb:["Ionian (Major)","Dorian","Phrygian","Lydian","Mixolydian","Aeolian (Natural Minor)","Locrian"],E:["Ionian (Major)","Dorian","Phrygian","Lydian","Mixolydian","Aeolian (Natural Minor)","Locrian"],F:["Ionian (Major)","Dorian","Phrygian","Lydian","Mixolydian","Aeolian (Natural Minor)","Locrian"],"F#":["Ionian (Major)","Dorian","Phrygian","Lydian","Mixolydian","Aeolian (Natural Minor)","Locrian"],Gb:["Ionian (Major)","Dorian","Phrygian","Lydian","Mixolydian","Aeolian (Natural Minor)","Locrian"],G:["Ionian (Major)","Dorian","Phrygian","Lydian","Mixolydian","Aeolian (Natural Minor)","Locrian"],"G#":["Ionian (Major)","Dorian","Phrygian","Lydian","Mixolydian","Aeolian (Natural Minor)","Locrian"],Ab:["Ionian (Major)","Dorian","Phrygian","Lydian","Mixolydian","Aeolian (Natural Minor)","Locrian"],A:["Ionian (Major)","Dorian","Phrygian","Lydian","Mixolydian","Aeolian (Natural Minor)","Locrian"],"A#":["Ionian (Major)","Dorian","Phrygian","Lydian","Mixolydian","Aeolian (Natural Minor)","Locrian"],Bb:["Ionian (Major)","Dorian","Phrygian","Lydian","Mixolydian","Aeolian (Natural Minor)","Locrian"],B:["Ionian (Major)","Dorian","Phrygian","Lydian","Mixolydian","Aeolian (Natural Minor)","Locrian"],Cb:["Ionian (Major)","Dorian","Phrygian","Lydian","Mixolydian","Aeolian (Natural Minor)","Locrian"]},HC=[[4,4],[3,4],[6,8],[2,4],[5,4],[7,8]],qC=[{id:"chords",label:"Chords"},{id:"bassline",label:"Bassline"},{id:"melody",label:"Melody"},{id:"drums",label:"Drums"}],GC=["General Loop","Intro","Verse","Pre-Chorus","Chorus","Post-Chorus","Bridge","Solo","Breakdown","Drop","Outro","Fill"],Ke={key:"C Major",tempo:120,timeSignature:[4,4],chordProgression:"I-V-vi-IV",genre:"Pop",bars:8,targetInstruments:["chords","bassline","melody","drums"],guidebookContext:"",songSection:"General Loop"},bn={Pop:["I-V-vi-IV","vi-IV-I-V","I-IV-V-I","I-vi-IV-V","ii-V-I-IV"],"Indie Pop":["I-V-vi-IV","I-IV-vi-V","vi-IV-I-V","I-iii-IV-V"],"Synth-Pop":["i-VI-III-VII (minor)","I-V-vi-IV (major)","i-iv-v-VI (minor)","I-IV-ii-V (major)"],Rock:["I-IV-V","vi-IV-I-V","I-bVII-IV-I","i-VI-III-VII (minor)","I-V-IV-I"],"Alternative Rock":["vi-IV-I-V","I-V-vi-IV","i-VI-III-VII","I-IV-ii-V"],House:["Am-G-C-F","i-VI-III-VII (Am-F-C-G)","i-III-VI-VII","i-v-iv-i"],"Deep House":["i-VI-III-VII (e.g. Dm-Bb-F-C)","Am-G-C-F","i-iv-v-i"],Techno:["i-VI-III-VII","i-iv-v-i (minor, repetitive)","Single chord drone with variations","Am-G-F-E"],Trance:["vi-IV-I-V (Am-F-C-G)","i-VI-III-VII","i-VII-VI-V (minor descending)"],Ambient:["Imaj7-IVmaj7 (long, evolving)","i-VI (slow changes)","Drone + suspended chords"],Synthwave:["i-VI-III-VII (Am-F-C-G)","vi-IV-I-V","I-V-vi-IV","i-iv-v-i"],"Drum and Bass":["i-VI-III-VII","Am-F-C-G","Complex jazz voicings over two chords","i-iv-v-VI"],Dubstep:["i-VI-III-VII","i-iv-v-i (minor)","Heavy focus on sound design over complex progression"],"Trap (EDM)":["i-VI-III-VII","i-iv-v-i (minor)","Simple 2 or 3 chord loops"],"Hip Hop":["i-VI-III-VII","Am-G-Em-F","ii-V-I (Jazz influenced)","i-iv-v-i","Sample-based loops"],"Lo-fi Hip Hop":["ii-V-I-IV (Jazz)","Imaj7-vi7-ii7-V7","Simple 2-4 chord loops"],"R&B":["Imaj7-IVmaj7","ii-V-I","i-VI-III-VII","vi-ii-V-I"],Folk:["I-IV-V","I-V-vi-IV","G-C-D-G","C-G-Am-F"],Jazz:["ii-V-I","I-vi-ii-V","iii-vi-ii-V","I-II7-V7-I (Rhythm Changes A section)","Imaj7-IIm7-IIIm7-IVmaj7 (Modal)"],Blues:["I-I-I-I-IV-IV-I-I-V-IV-I-I (12-bar)","i-i-i-i-iv-iv-i-i-v-iv-i-i (minor 12-bar)"],Default:["I-V-vi-IV","i-VI-III-VII","I-IV-V-I","ii-V-I"]},Tn={Pop:[90,130],"Indie Pop":[100,140],"Synth-Pop":[110,140],Rock:[100,160],"Alternative Rock":[90,150],House:[118,128],"Deep House":[115,125],Techno:[125,145],Trance:[130,145],Ambient:[50,100],Synthwave:[80,120],"Drum and Bass":[160,180],Dubstep:[130,150],"Trap (EDM)":[130,160],"Hip Hop":[80,110],"Lo-fi Hip Hop":[70,90],"R&B":[60,100],Folk:[80,120],Jazz:[70,180],Blues:[70,130],Default:[60,200]},$o={kick:36,snare:38,hihat_closed:42,closed_hihat:42,hihat_open:46,open_hihat:46,tom_low:41,low_tom:41,tom_mid:47,mid_tom:47,tom_high:50,high_tom:50,crash_cymbal_1:49,crash:49,ride_cymbal_1:51,ride:51,clap:39,shaker:70,tambourine:54,rim_shot:37,cowbell:56,bass_drum:36,snare_drum:38},FC="AIzaSyCxOuxalv_PC6h6aE8JvEjLMK8ie8C9Nts",Kr=new PC({apiKey:FC}),YC=i=>{var b;const t=i.genre.length>0?i.genre.join(", "):"Not specified",n=i.vibe.length>0?i.vibe.join(", "):"Not specified",a=i.artistReference||"General to genre/vibe",o=((b=i.songTitle)==null?void 0:b.trim())||"",u=i.plugins&&i.plugins.trim()!==""&&!i.plugins.toLowerCase().includes("stock only"),c=u?i.plugins:`Stock plugins of ${i.daw||"the selected DAW"}`,m=i.availableInstruments||"Standard rock/pop/electronic instruments assumed",x=(C,E,M)=>u?i.plugins.toLowerCase().includes(C.split(" ")[0].toLowerCase())?`\`${C}\``:i.plugins.toLowerCase().includes("arturia")&&C.toLowerCase().includes("arturia")?`\`${C}\``:(i.plugins.toLowerCase().includes("native instruments")||i.plugins.toLowerCase().includes("komplete"))&&["massive","kontakt","reaktor","guitar rig","battery"].some(B=>C.toLowerCase().includes(B))?`\`${C}\``:i.plugins.toLowerCase().includes("fabfilter")&&C.toLowerCase().includes("fabfilter")?`\`${C}\``:i.plugins.toLowerCase().includes("soundtoys")&&C.toLowerCase().includes("soundtoys")?`\`${C}\``:i.plugins.toLowerCase().includes("valhalla")&&C.toLowerCase().includes("valhalla")?`\`${C}\``:`a suitable ${E.toLowerCase()}`:`${i.daw||"DAW"} stock ${M.toLowerCase()}`,f=o?`The user has provisionally titled this project: "${o}". Use this as the primary title in the '# TRACKGUIDE: "..."' heading, or refine it slightly if you can make it more engaging while keeping its core idea.`:`Generate an engaging and ORIGINAL title for the '# TRACKGUIDE: "..."' heading that creatively combines '${t}', '${n}', and '${a}' if provided, e.g., "Substructure Anomaly" - An Experimental Neurofunk Descent.`,v=o?`Use the user-provided title: "${o}".`:'Generate a creative, SHORT, and ORIGINAL title that captures the essence of all inputs. Avoid generic phrases like "Song for..." or simply restating the genre/vibe.';return`
You are TrackGuideAI, an expert music production assistant. Create a focused TrackGuide for:
- Title: ${o||"Generate creative title"}
- Genre: ${t}
- Reference: ${a}
- Vibe: ${n}
- DAW: ${i.daw||"General"}
- Plugins: ${c}
- Instruments: ${m}
${i.key?`- Key: ${i.key}`:""}
${i.chords?`- Chords: ${i.chords}`:""}
${i.generalNotes?`- Notes: ${i.generalNotes}`:""}

**STYLE GUIDE:**
- Use concise, actionable language with professional terminology
- Format with Markdown (headings, bullets)
- Add emojis to instrument sections (e.g., ### 🥁 Drums)
- Prioritize user-specified key/chords/notes
- Reference provided tracks/artists when applicable

**FORMATTING:**
- Section 3: Each instrument gets ### Emoji Name, **Style**, **Tips** (2-3 bullets), **Processing** (2-4 bullets with specific parameters)
- Section 4: **Chord Progressions**, **Melodic Notes**, **Rhythmic Focus** (keep lean)
- Use specific plugin suggestions from user's available plugins
- Focus on most impactful processing, not exhaustive lists

Please structure the TrackGuide with the following sections:

# TRACKGUIDE: "${f}"

## 1. Song Overview
- **Suggested Title:** ${v}
- **Genre(s):** ${t}
- **Artist DNA:** (Briefly, 1-2 sentences, describe artist/song influence or genre/vibe archetypes if no reference)
- **Vibe(s):** ${n}
- **Estimated BPM Range:** (e.g., 120-130 BPM, consider the blend if multiple genres)
- **Suggested Key(s) / Scale(s):** (List 1-2 common keys/scales, e.g., C Minor, A Lydian)
- **Overall Sonic Palette:** (Describe in 1-2 key phrases, e.g., "Dark, punchy drums, ethereal pads, gritty bass")

## 2. Structural Blueprint
Provide a **concise Markdown table** for a typical song structure for the genre(s).
- **Production Tips Column:** Succinctly combine key creative ideas and primary instrumentation focus for each section. Consider user's available instruments: ${m}.
- **Mood Column:** Describe the mood with 2-3 impactful keywords or a very short descriptive phrase (e.g., 'Intense, Driving', 'Reflective & Hopeful', 'Darkly Cinematic'), reflecting listed vibes: ${n}.

*Example Table (adapt to genre(s), ensure it's concise and well-formatted Markdown):*
| Section    | Length   | Production Tips                     | Mood        |
|------------|----------|-------------------------------------|-------------|
| Intro      | 8 bars   | Filtered pads, subtle rhythmic pulse, light perc. | Evolving    |
| Verse A    | 16 bars  | Main groove, sparse vocals, core bassline. | Driving     |
| ...etc.    | ...      | ...                                 | ...         |

## 3. Instrument & Sound Design Guide
(Follow the "QUICK REFERENCE" formatting detailed above. Tailor suggestions to user's 'Available Instruments' like '${m}' if specified.)

### 🥁 Drums & Percussion
**Style:** (e.g., "Hip-hop influenced, punchy transients" for ${t})
**Programming Tips:**
  - (e.g., Snare on 2 & 4)
  - (e.g., Syncopated kicks, varied hat velocities)
**EQ & Processing Summary:**
  - (e.g., Kick: 60–80Hz (thump), 300–500Hz (cut mud), 3–5kHz (click))
  - (e.g., Snare: 200Hz (body), 4kHz (crack), touch of plate reverb with ${x("Valhalla Plate","plate reverb","Reverb")})
  - (e.g., Bus Compression: ${x("Ableton Glue Compressor","bus compressor","Compressor")}, Ratio 4:1, Attack 10–30ms)

### 🎸 Bass
**Style:** (e.g., "Syncopated, distorted, groove-locked with kick")
**Programming Tips:**
  - (e.g., Follow guitar riff in choruses)
  - (e.g., Use slides/ghosts for groove)
**Processing:**
  - (e.g., EQ: Boost 60–100Hz, 800Hz–2kHz for bite, cut 200–400Hz)
  - (e.g., Saturation: Parallel drive via ${x("Soundtoys Decapitator","saturation plugin","Saturation")} or ${x("Ableton Amp","amp simulator","Amp Sim")})

(Include similar "Quick Reference" sections for Guitars, Vocals, DJ Scratches & Samples, Synths & Keys, etc., based on user inputs or common instrumentation for the genre. Remember to integrate plugin suggestions concisely using getPluginSuggestion and adhere to all formatting rules.)

## 4. Harmony, Melody & Rhythmic Core
(Follow the "QUICK REFERENCE" formatting detailed above.)
- **Chord Progressions:**
  - (e.g., i – bVI – bVII (e.g., Cm – Ab – Bb for ${t}))
  - (e.g., Riff-based grooves with rhythmic single-note chugs if appropriate for ${t})
- **Melodic Notes:**
  - (e.g., Minor Pentatonic or Phrygian scale for ${t})
  - (e.g., Rap cadence in verses, short catchy lines in hooks, if vocals are mentioned or typical for ${t})
- **Rhythmic Focus:**
  - (e.g., Tight sync between kick, bass, and palm-muted guitar for a ${n} feel)
  - (e.g., Hi-hats with syncopation and velocity variation for ${t} groove)

## 🔥 5. Final Notes & Implementation
(Provide 3-5 VERY concise, actionable bullet points specific to making THIS SONG unique and impactful. Start each with a "✔ " (checkmark emoji and space).)
- ✔ Focus on [key element from inputs, e.g., the rhythmic drive of ${t}].
- ✔ Experiment with [a specific technique related to vibe, e.g., filter automation to enhance the '${n}' vibe].
- ✔ Leverage [a unique aspect of inputs, e.g., the textures from ${m} if unique, or a specific plugin from ${c} in a creative way].
- ✔ If referencing ${a}, try their [specific technique, e.g., approach to layering] but apply it to [your unique element].
- ✔ Don't be afraid to [a general creative encouragement, e.g., break conventions slightly for a memorable track].

---
This TrackGuide for "${o||`${t} (${n})`}" using ${i.daw||"your DAW"} is a starting point. Experiment, trust your ears, and enjoy the creative journey!
`},KC=async i=>{try{const t=YC(i);return await Kr.models.generateContentStream({model:Yr,contents:t})}catch(t){console.error("Error initiating TrackGuide content stream:",t);let n="An unknown error occurred while initiating the TrackGuide stream.";throw t instanceof Error&&(n=t.message,t.message.includes("API key not valid")||t.message.includes("permission")&&t.message.includes("API key")?n="Invalid API Key or insufficient permissions. Please check your API key and its configuration.":t.message.toLowerCase().includes("network error")||t.message.toLowerCase().includes("failed to fetch")?n=`Network error: Failed to connect to Gemini API. Please check your internet connection. (${t.message})`:n=`Failed to generate TrackGuide: ${t.message}`),new Error(n)}},$C=i=>{const{key:t,scale:n,tempo:a,timeSignature:o,chordProgression:u,genre:c,bars:m,targetInstruments:x,guidebookContext:f,songSection:v}=i;x.join(", ");const b=n?` (${n} mode)`:"";return`Generate ${c} MIDI patterns for ${m} bars in ${t}${b}, ${a}BPM, ${o[0]}/${o[1]}.
Chords: ${u} | Section: ${v||"General"}
${f?`Style: ${f.substring(0,200)}`:""}

JSON format with keys: ${x.map(C=>`"${C}"`).join(", ")}

Requirements:
- "chords": [{"time": 0, "name": "Cmaj7", "duration": 1, "notes": [{"pitch": "C4", "midi": 60}], "velocity": 70-95}]
- "bassline": [{"time": 0, "pitch": "C2", "midi": 36, "duration": 0.5, "velocity": 75-110}] (MIDI 12-59)
- "melody": [{"time": 0, "pitch": "C5", "midi": 72, "duration": 0.25, "velocity": 60-100}]
- "drums": Include kick, snare, hihat_closed, hihat_open + 1 more (ride/crash/clap)

Generate ${c}-appropriate patterns with velocity variation (40-127) and rhythmic interest.`},Xo=async i=>{try{const t=$C(i);return await Kr.models.generateContentStream({model:Yr,contents:t,config:{responseMimeType:"application/json"}})}catch(t){console.error("Error initiating MIDI pattern stream:",t);let n="An unknown error occurred while initiating MIDI pattern stream.";throw t instanceof Error&&(n=t.message,t.message.includes("API key not valid")?n="Invalid API Key for MIDI generation. Please check your API key.":n=`Failed to initiate MIDI pattern stream: ${t.message}`),new Error(n)}},XC=async i=>{const t=new Promise(n=>{const a=new FileReader;a.onloadend=()=>n(a.result.split(",")[1]),a.readAsDataURL(i)});return{inlineData:{mimeType:i.type,data:await t}}},JC=i=>`
You are an expert audio mixing and mastering engineer AI. The user has uploaded an audio file of their mix and provided some notes.
Analyze the audio mix thoroughly.

User's Notes/Questions:
"${i||"No specific notes provided by the user."}"

Provide comprehensive, constructive, and actionable feedback on the mix. Structure your feedback using Markdown with clear headings for each section. Cover the following aspects:

1.  **Overall Impression & Balance:**
    *   Initial thoughts on the mix.
    *   How well do the different instruments/elements sit together?
    *   Are vocals (if present) clear and well-placed?
    *   Is there a good sense of depth and separation between elements?

2.  **Frequency Spectrum Analysis:**
    *   **Low-End (Bass, Kick, etc.):** Is it clear, muddy, boomy, or lacking? Any masking?
    *   **Mid-Range (Vocals, Guitars, Synths, Snares):** Is it clear, honky, harsh, scooped, or well-defined?
    *   **High-End (Cymbals, Air, Sibilance):** Is it crisp, dull, harsh, or smooth?
    *   Suggest specific EQ adjustments with frequency ranges if applicable (e.g., "Consider a gentle cut around 250Hz on the bass to reduce mud").

3.  **Dynamics & Loudness:**
    *   Is the mix punchy and dynamic, or does it sound over-compressed or flat?
    *   Assess the use of compression on individual tracks and the master bus (if discernible).
    *   Comment on the perceived loudness and headroom. Any signs of clipping?

4.  **Stereo Image & Panning:**
    *   How wide or narrow does the mix feel?
    *   Is panning used effectively to create space and interest?
    *   Any phase issues noticeable (e.g., elements disappearing in mono)?

5.  **Effects Usage (Reverb, Delay, Modulation, etc.):**
    *   Are effects used tastefully and effectively to enhance the mix, or are they distracting/muddying?
    *   Comment on the sense of space created by reverbs/delays.

6.  **Technical Issues (If any observed):**
    *   Clipping, distortion (unintentional), noise, clicks, pops, significant phase problems.

7.  **Actionable Summary & Key Recommendations:**
    *   Summarize the top 2-3 most impactful things the user could do to improve their mix.
    *   Prioritize suggestions based on what would make the biggest positive difference.

**IMPORTANT:**
- Be encouraging and constructive.
- Use professional terminology but explain concepts clearly if they might be complex.
- Refer back to the user's specific notes/questions if they provided any.
- Provide specific examples where possible (e.g., "The snare feels a bit buried; try increasing its level by 1-2dB or adding some top-end around 5kHz for more crack.").
- Do not comment on the musical composition or performance itself, ONLY the mix quality.
`,QC=async i=>{if(!i.audioFile)return Promise.reject(new Error("No audio file provided for mix feedback."));try{const t=await XC(i.audioFile),n={text:JC(i.userNotes)},a=[t,n],o=await Kr.models.generateContent({model:Yr,contents:{parts:a}}),u=o.text;if(typeof u!="string")throw console.error("Received non-text response or no text from Gemini API for mix feedback. Response:",o),new Error("Received an unexpected response format from Gemini API for mix feedback.");return u}catch(t){console.error("Error generating mix feedback:",t);let n="An unknown error occurred while generating mix feedback.";return t instanceof Error&&(n=t.message,t.message.includes("API key not valid")||t.message.includes("permission")&&t.message.includes("API key")?n="Invalid API Key or insufficient permissions. Please check your API key and its configuration.":t.message.toLowerCase().includes("network error")||t.message.toLowerCase().includes("failed to fetch")?n=`Network error: Failed to connect to Gemini API. Please check your internet connection. (${t.message})`:t.message.includes("Candidate was blocked")?n="The response for mix feedback was blocked by the AI. This might be due to content policies or other restrictions. Please try again or adjust your input if possible.":t.message.includes("audio")?n=`There was an issue processing the audio file with the AI. Ensure it's a common format and not too large. (${t.message})`:n=`Failed to generate mix feedback: ${t.message}`),Promise.reject(new Error(n))}},ZC=async(i,t)=>{var n,a,o,u;try{const m=`You are an AI music production assistant. Help the user with their music production questions.

${t?`
Current project context:
- Genre: ${((n=t.userInputs)==null?void 0:n.genre)||"Not specified"}
- Vibe: ${((a=t.userInputs)==null?void 0:a.vibe)||"Not specified"}
- DAW: ${((o=t.userInputs)==null?void 0:o.daw)||"Not specified"}
- Current guidebook: ${((u=t.currentGuidebook)==null?void 0:u.title)||"None"}
`:""}

User question: ${i}

Provide helpful, concise advice related to music production, mixing, sound design, or composition. Keep responses practical and actionable.`,x=await Kr.models.generateContent({model:Yr,contents:{parts:[{text:m}]}}),f=x.text;if(typeof f!="string")throw console.error("Received non-text response from Gemini API:",x),new Error("Received an unexpected response format from Gemini API.");return f}catch(c){console.error("Error generating AI assistant response:",c);let m="An unknown error occurred while generating response.";return c instanceof Error&&(m=c.message,c.message.includes("API key not valid")||c.message.includes("permission")&&c.message.includes("API key")?m="Invalid API Key or insufficient permissions. Please check your API key and its configuration.":c.message.toLowerCase().includes("network error")||c.message.toLowerCase().includes("failed to fetch")?m=`Network error: Failed to connect to Gemini API. Please check your internet connection. (${c.message})`:c.message.includes("Candidate was blocked")?m="The response was blocked by the AI. This might be due to content policies or other restrictions. Please try again or adjust your input if possible.":m=`Failed to generate response: ${c.message}`),Promise.reject(new Error(m))}},WC=i=>{const t=i.mixAFile&&i.mixBFile,n=i.mixBFile&&!i.mixAFile;return t?`You are an expert audio mixing and mastering engineer AI. The user has uploaded two audio files for comparison: "${i.mixAName}" (Mix A - Reference) and "${i.mixBName}" (Mix B - Current Working Track).

**IMPORTANT**: Mix B is the current working track that needs focused feedback and recommendations. Mix A is provided as reference context.

Analyze both audio files with primary focus on improving Mix B. Structure your response using Markdown with clear headings.

## Mix B Analysis & Recommendations

### Current Mix Assessment (${i.mixBName})
Provide a comprehensive evaluation of Mix B as the current working track:
- **Overall Balance**: How well balanced is the current mix?
- **Strengths**: What's working well in Mix B?
- **Areas for Improvement**: What needs attention in Mix B?

### Mix B Detailed Feedback
Focus specifically on Mix B with actionable recommendations:
- **Frequency Balance**: Analyze and suggest EQ adjustments for Mix B
- **Stereo Width**: Evaluate and recommend stereo imaging improvements
- **Dynamic Range**: Assess compression and dynamics in Mix B
- **Vocal/Lead Presence**: How to improve lead elements in Mix B
- **Clarity and Separation**: Specific suggestions for better instrument definition
- **Tonal Character**: Recommendations for sonic character improvements

### Technical Metrics (Mix B Focus)
Provide estimated technical measurements for Mix B:
- **LUFS** (loudness)
- **Peak levels** 
- **Stereo correlation**
- **Dynamic range**

### Focused Recommendations for Mix B
Provide specific, actionable advice prioritized for Mix B:
1. **Immediate improvements** needed in Mix B
2. **Technical processing** suggestions for Mix B
3. **Frequency adjustments** specific to Mix B
4. **Elements from Mix A** that could enhance Mix B (if applicable)
5. **Next steps** for finalizing Mix B

${i.requestMixAAnalysis?`

## Full Mix A Analysis (${i.mixAName})

### Detailed Frequency Analysis
Analyze each frequency band in detail:
- **Sub Bass (20-60Hz)**
- **Bass (60-250Hz)**
- **Low Mids (250-500Hz)**
- **Mids (500Hz-2kHz)**
- **High Mids (2-5kHz)**
- **Highs (5-12kHz)**
- **Air (12kHz+)**

### Stereo Field Analysis
- **Width and imaging**
- **Center focus**
- **Panning decisions**
- **Phase correlation**

### Dynamic Analysis
- **Peak and RMS levels**
- **Dynamic range**
- **Transient response**
- **Compression characteristics**

### Instrument-Specific Analysis
Analyze how individual elements sit in the mix and suggest improvements.`:""}

${i.requestMixBAnalysis?`

## Full Mix B Analysis (${i.mixBName})

### Detailed Frequency Analysis
Analyze each frequency band in detail:
- **Sub Bass (20-60Hz)**
- **Bass (60-250Hz)**
- **Low Mids (250-500Hz)**
- **Mids (500Hz-2kHz)**
- **High Mids (2-5kHz)**
- **Highs (5-12kHz)**
- **Air (12kHz+)**

### Stereo Field Analysis
- **Width and imaging**
- **Center focus**
- **Panning decisions**
- **Phase correlation**

### Dynamic Analysis
- **Peak and RMS levels**
- **Dynamic range**
- **Transient response**
- **Compression characteristics**

### Instrument-Specific Analysis
Analyze how individual elements sit in the mix and suggest improvements.`:""}

Keep your analysis professional, detailed, and actionable. Focus on technical aspects and mixing decisions rather than musical composition.${i.userNotes?`

**User Notes**: ${i.userNotes}`:""}`:n?`You are an expert audio mixing and mastering engineer AI. The user has uploaded their current working track: "${i.mixBName}" (Mix B).

Analyze the audio file thoroughly and provide comprehensive feedback focused on improving this mix. Structure your response using Markdown with clear headings.

## Mix B Analysis & Recommendations

### Current Mix Assessment (${i.mixBName})
Provide a comprehensive evaluation of this working track:
- **Overall Balance**: How well balanced is the current mix?
- **Strengths**: What's working well in this mix?
- **Areas for Improvement**: What needs attention?

### Detailed Mix Feedback
Focus specifically on actionable recommendations:
- **Frequency Balance**: Analyze and suggest EQ adjustments
- **Stereo Width**: Evaluate and recommend stereo imaging improvements
- **Dynamic Range**: Assess compression and dynamics
- **Vocal/Lead Presence**: How to improve lead elements
- **Clarity and Separation**: Specific suggestions for better instrument definition
- **Tonal Character**: Recommendations for sonic character improvements

### Technical Metrics
Provide estimated technical measurements:
- **LUFS** (loudness)
- **Peak levels** 
- **Stereo correlation**
- **Dynamic range**

### Focused Recommendations
Provide specific, actionable advice prioritized for this mix:
1. **Immediate improvements** needed
2. **Technical processing** suggestions
3. **Frequency adjustments** specific recommendations
4. **Next steps** for finalizing the mix

Keep your analysis professional, detailed, and actionable. Focus on technical aspects and mixing decisions rather than musical composition.${i.userNotes?`

**User Notes**: ${i.userNotes}`:""}`:`You are an expert audio mixing and mastering engineer AI. The user has uploaded a single audio file: "${i.mixAName}".

Analyze the audio file thoroughly and provide comprehensive feedback. Structure your response using Markdown with clear headings.

## Mix Analysis

### Overall Assessment
Single mix analysis for: ${i.mixAName}

Provide an overall evaluation of the mix quality, balance, and technical execution.

### Mix Evaluation
Analyze these key aspects:
- **Overall Balance**: Frequency distribution and tonal balance
- **Stereo Image**: Width, imaging, and spatial characteristics
- **Dynamic Range**: Compression, punch, and dynamics
- **Tonal Balance**: Character, warmth, brightness
- **Clarity**: Separation and definition of elements

### Technical Metrics
Provide estimated technical measurements:
- **LUFS** (loudness)
- **Peak levels**
- **Stereo correlation**
- **Dynamic range**

### Recommendations
Provide specific, actionable advice for improvement:
1. **Technical improvements**
2. **Processing suggestions**
3. **Frequency adjustments**
4. **Dynamic enhancements**

${i.requestMixAAnalysis?`

## Full Single Mix Analysis (${i.mixAName})

### Detailed Frequency Analysis
Analyze each frequency band in detail:
- **Sub Bass (20-60Hz)**
- **Bass (60-250Hz)**
- **Low Mids (250-500Hz)**
- **Mids (500Hz-2kHz)**
- **High Mids (2-5kHz)**
- **Highs (5-12kHz)**
- **Air (12kHz+)**

### Stereo Field Analysis
- **Width and imaging**
- **Center focus**
- **Panning decisions**
- **Phase correlation**

### Dynamic Analysis
- **Peak and RMS levels**
- **Dynamic range**
- **Transient response**
- **Compression characteristics**

### Instrument-Specific Analysis
Analyze how individual elements sit in the mix and provide specific recommendations for each element.

### Recommendations
Provide detailed, actionable recommendations for:
1. **Peak Management**
2. **Frequency Balance**
3. **Dynamic Enhancement**
4. **Stereo Processing**
5. **Overall Polish**`:""}

Keep your analysis professional, detailed, and actionable. Focus on technical mixing aspects rather than musical composition.${i.userNotes?`

**User Notes**: ${i.userNotes}`:""}`},eE=async i=>{var t,n,a,o;if(!i.mixAFile)return Promise.reject(new Error("No audio file provided for mix comparison."));try{const c=[{text:WC(i)}];c.push({inlineData:{data:i.mixAFile,mimeType:"audio/mpeg"}}),i.mixBFile&&c.push({inlineData:{data:i.mixBFile,mimeType:"audio/mpeg"}});const m=await Kr.models.generateContent({model:Yr,contents:c,config:{responseMimeType:"text/plain"}});if(m&&m.candidates&&m.candidates.length>0){const x=(o=(a=(n=(t=m.candidates[0])==null?void 0:t.content)==null?void 0:n.parts)==null?void 0:a[0])==null?void 0:o.text;if(x&&typeof x=="string")return console.log("✅ Mix Comparison Result:",x),x;throw console.error("❌ No valid text content in candidates[0]:",m),new Error("Received empty or invalid text from Gemini API for mix comparison.")}else throw console.error("❌ No candidates returned from Gemini API for mix comparison:",m),new Error("Received an unexpected response format from Gemini API for mix comparison.")}catch(u){console.error("Error generating mix comparison:",u);let c="An unknown error occurred while generating mix comparison.";return u.message&&(u.message.includes("API_KEY")?c="API Key issue. Please check your Gemini API configuration.":u.message.includes("SAFETY")||u.message.includes("blocked")?c="The response for mix comparison was blocked by the AI. This might be due to content policies or other restrictions. Please try again or adjust your input if possible.":u.message.includes("quota")||u.message.includes("limit")?c="API quota exceeded. Please try again later.":c=`Failed to generate mix comparison: ${u.message}`),Promise.reject(new Error(c))}};function tE(i,t){const n=t?`${t.tempoRange[0]}-${t.tempoRange[1]} BPM`:"120-130 BPM",a=t?t.sections.join(", "):"Intro, Build-Up, Drop, Breakdown, Outro";return`You are an expert music producer and remix specialist. Analyze the uploaded track and create a smart ${i} remix guide.

ENHANCED ANALYSIS REQUIREMENTS:
1. **Original Track DNA**: Identify and preserve:
   - Key melodic hooks and vocal phrases that define the track's identity
   - Signature chord progressions and harmonic movements
   - Distinctive rhythmic elements and groove patterns
   - Emotional peaks and dynamic moments
   - Unique timbres, textures, and sonic characteristics
   - Original tempo, key, and structural elements

2. **Smart Element Integration**: Specify exactly:
   - Which original melodies will translate perfectly to ${i} (with examples)
   - How to adapt original chord progressions to ${i} harmonic language
   - Which vocal phrases/hooks to emphasize in the ${i} context
   - How to preserve the original's emotional impact while changing genre
   - Specific original elements that will become the foundation of your remix
   - Creative ways to reference the original throughout the ${i} arrangement

3. **Genre-Specific Transformation**: Detail how to:
   - Adapt original tempo/rhythm to ${i} standards (${n})
   - Transform original harmonic content using ${i} techniques
   - Integrate original melodic content with ${i} sound design
   - Restructure original arrangement for ${i} energy flow

Your response must be a valid JSON object with exactly these keys:

{
  "guide": "A comprehensive markdown-formatted remix guide that MUST include these sections:

## 🎵 Original Track DNA Analysis
- **Core Identity Elements**: [The essential melodic/harmonic/rhythmic elements that make this track recognizable]
- **Signature Hooks**: [Specific vocal phrases, melodic lines, or instrumental riffs to preserve]
- **Harmonic Blueprint**: [Original chord progressions and how they'll translate to ${i}]
- **Rhythmic Foundation**: [Original groove patterns and how to adapt them]
- **Emotional Moments**: [Key dynamic/emotional peaks to maintain in the remix]

## 🎛️ Smart ${i} Integration Strategy  
- **Perfect Fits**: [Original elements that naturally work in ${i} - be specific with examples]
- **Creative Adaptations**: [How to transform original melodies/harmonies for ${i} context]
- **Original-to-${i} Bridges**: [Specific techniques to connect both genres seamlessly]
- **Preservation Strategy**: [How to keep the original's soul while changing the genre]
- **Reference Points**: [Where and how to callback to original throughout the remix]

## 🔧 ${i} Production Techniques
- **Sound Design**: [${i}-specific synthesis and processing for original elements]
- **Arrangement Flow**: [How to restructure original content for ${i} energy patterns]
- **Original Element Processing**: [Specific effects/processing for original vocals/instruments]
- **Genre-Specific Mix**: [${i} mixing approaches that enhance original elements]

## 🎹 Remix Implementation Roadmap
- **Foundation Building**: [Start with original elements, build ${i} framework around them]
- **Original Integration Points**: [Specific moments to feature original content prominently]
- **Creative Fusion Ideas**: [Unique ways to blend original character with ${i} aesthetics]
- **Final Polish**: [How to ensure both original identity and ${i} authenticity]",
  "targetTempo": 125,
  "targetKey": "A minor",
  "sections": ["Intro", "Build-Up", "Drop", "Breakdown", "Outro"],
  "midiPatterns": {
    "Intro": {
      "bassline": "Simple MIDI pattern description",
      "drums": "Drum pattern description", 
      "melody": "Melody pattern description",
      "pads": "Pad/texture pattern description"
    },
    "Build-Up": {
      "bassline": "Build-up bass pattern",
      "drums": "Build-up drum pattern",
      "melody": "Build-up melody pattern", 
      "pads": "Build-up pad pattern"
    }
  }
}

Target tempo range: ${n}
Suggested sections: ${a}

IMPORTANT: Return ONLY the JSON object, no other text or markdown formatting.`}async function nE(i,t,n){var a,o;try{const u={text:tE(t,n)},c={inlineData:{data:i.base64,mimeType:i.mimeType}};console.log("[geminiService] Remix Prompt:",u.text),console.log("[geminiService] Audio size (chars):",i.base64.length);const m=[c,u],x=await Kr.models.generateContent({model:Yr,contents:{parts:m}});console.log("[geminiService] Full raw response:",JSON.stringify(x,null,2));const f=x.text;if(typeof f!="string")throw console.error("Received non-text response or no text from Gemini API for remix guide. Response:",x),new Error("Received an unexpected response format from Gemini API for remix guide.");console.log("[geminiService] Raw remix response:",f);let v;try{v=JSON.parse(f)}catch(C){const E=f.replace(/```(?:json)?\s*/g,"").replace(/```$/,"").trim();try{v=JSON.parse(E)}catch(M){const B=f.match(/\{[\s\S]*\}/);if(B)try{v=JSON.parse(B[0])}catch(P){return console.error("[geminiService] All JSON parsing attempts failed:",{err:C,err2:M,err3:P}),console.error("[geminiService] Original text:",f),console.error("[geminiService] Cleaned text:",E),console.error("[geminiService] Matched text:",B[0]),{guide:f,targetTempo:((a=n==null?void 0:n.tempoRange)==null?void 0:a[0])||128,targetKey:"C minor",sections:(n==null?void 0:n.sections)||["Intro","Build-Up","Drop","Breakdown","Outro"],midiPatterns:{}}}else throw console.error("[geminiService] No JSON object found in response:",f),new Error("No valid JSON found in Gemini response")}}if(!v||typeof v!="object")throw new Error("Parsed response is not a valid object");const b={guide:v.guide||f,targetTempo:v.targetTempo||((o=n==null?void 0:n.tempoRange)==null?void 0:o[0])||128,targetKey:v.targetKey||"C minor",sections:v.sections||(n==null?void 0:n.sections)||["Intro","Build-Up","Drop","Breakdown","Outro"],midiPatterns:v.midiPatterns||{}};return console.log("[geminiService] Successfully parsed remix guide:",b),b}catch(u){console.error("Error generating remix guide:",u);let c="An unknown error occurred while generating remix guide.";throw u instanceof Error&&(c=u.message,u.message.includes("API key not valid")||u.message.includes("permission")&&u.message.includes("API key")?c="Invalid API Key or insufficient permissions. Please check your API key and its configuration.":u.message.toLowerCase().includes("network error")||u.message.toLowerCase().includes("failed to fetch")?c=`Network error: Failed to connect to Gemini API. Please check your internet connection. (${u.message})`:u.message.includes("Candidate was blocked")?c="The response for remix guide was blocked by the AI. This might be due to content policies or other restrictions. Please try again or adjust your input if possible.":u.message.includes("audio")?c=`There was an issue processing the audio file with the AI. Ensure it's a common format and not too large. (${u.message})`:c=`Failed to generate remix guide: ${u.message}`),new Error(c)}}const Yt=T0.forwardRef(({label:i,id:t,wrapperClassName:n,...a},o)=>h.jsxs("div",{className:n,children:[i&&h.jsx("label",{htmlFor:t,className:"block text-sm font-medium text-gray-300 mb-1",children:i}),h.jsx("input",{id:t,ref:o,...a,className:`w-full px-4 py-2 bg-gray-800 border border-gray-700 rounded-md shadow-sm placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-purple-500 text-gray-100 ${a.className||""}`})]}));Yt.displayName="Input";const Or=({label:i,id:t,wrapperClassName:n,...a})=>h.jsxs("div",{className:n,children:[i&&h.jsx("label",{htmlFor:t,className:"block text-sm font-medium text-gray-300 mb-1",children:i}),h.jsx("textarea",{id:t,...a,className:`w-full px-4 py-2 bg-gray-800 border border-gray-700 rounded-md shadow-sm placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-purple-500 text-gray-100 ${a.className||""}`,rows:3})]}),Pe=({children:i,variant:t="primary",size:n="md",className:a="",leftIcon:o,rightIcon:u,...c})=>{const m="inline-flex items-center justify-center font-semibold rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-gray-900 transition-colors duration-150 disabled:opacity-50 disabled:cursor-not-allowed",x={primary:"bg-purple-600 hover:bg-purple-700 text-white focus:ring-purple-500",secondary:"bg-gray-700    hover:bg-gray-600 text-gray-100 focus:ring-gray-500",outline:"border border-purple-500 text-purple-400 hover:bg-purple-500 hover:text-white focus:ring-purple-500",danger:"bg-red-600     hover:bg-red-700 text-white focus:ring-red-500"},f={sm:"px-3 py-1.5 text-sm",md:"px-4 py-2   text-base",lg:"px-6 py-3   text-lg"};return h.jsxs("button",{...c,className:`${m} ${x[t]} ${f[n]} ${a}`,children:[o&&h.jsx("span",{className:"mr-2",children:o}),i,u&&h.jsx("span",{className:"ml-2",children:u})]})},lt=({children:i,className:t="",title:n,titleClassName:a="",contentClassName:o="",...u})=>h.jsxs("div",{className:`bg-gray-800 shadow-lg rounded-lg overflow-hidden ${t}`,...u,children:[n&&h.jsx("div",{className:`px-4 py-3 border-b border-gray-700 ${a}`,children:h.jsx("h3",{className:"text-lg font-semibold text-gray-100",children:n})}),h.jsx("div",{className:`p-4 ${o}`,children:i})]}),er=({size:i="md",color:t="text-purple-500",text:n})=>{const a={sm:"w-6 h-6",md:"w-8 h-8",lg:"w-12 h-12"};return h.jsxs("div",{className:"flex flex-col items-center justify-center",children:[h.jsx("div",{className:`animate-spin rounded-full border-t-2 border-b-2 border-transparent ${a[i]} ${t}`,style:{borderTopColor:"currentColor",borderBottomColor:"currentColor"}}),n&&h.jsx("p",{className:"mt-2 text-sm text-gray-400",children:n})]})},iE=({className:i,title:t})=>h.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:i||"w-5 h-5","aria-hidden":t?void 0:"true",role:t?"img":void 0,children:[t&&h.jsx("title",{children:t}),h.jsx("path",{fillRule:"evenodd",d:"M10.868 2.884c-.321-.772-1.415-.772-1.736 0l-1.83 4.401-4.753.381c-.833.067-1.171 1.107-.536 1.651l3.62 3.102-1.106 4.637c-.194.813.691 1.456 1.405 1.02L10 15.591l4.069 2.485c.713.436 1.598-.207 1.404-1.02l-1.106-4.637 3.62-3.102c.635-.544.297-1.584-.536-1.65l-4.752-.382-1.831-4.401z",clipRule:"evenodd"})]}),Yc=({className:i,title:t})=>h.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:i||"w-5 h-5","aria-hidden":t?void 0:"true",role:t?"img":void 0,children:[t&&h.jsx("title",{children:t}),h.jsx("path",{fillRule:"evenodd",d:"M3 17a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zm3.293-7.707a1 1 0 011.414 0L9 10.586V3a1 1 0 112 0v7.586l1.293-1.293a1 1 0 111.414 1.414l-3 3a1 1 0 01-1.414 0l-3-3a1 1 0 010-1.414z",clipRule:"evenodd"})]}),rE=({className:i,title:t})=>h.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:i||"w-5 h-5","aria-hidden":t?void 0:"true",role:t?"img":void 0,children:[t&&h.jsx("title",{children:t}),h.jsx("path",{d:"M5 4a2 2 0 012-2h6a2 2 0 012 2v10a2 2 0 01-2 2H7a2 2 0 01-2-2V4zm2 0v10h6V4H7zm5 1h-4a1 1 0 100 2h4a1 1 0 100-2z"})]}),lE=({className:i,title:t})=>h.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:i||"w-5 h-5","aria-hidden":t?void 0:"true",role:t?"img":void 0,children:[t&&h.jsx("title",{children:t}),h.jsx("path",{fillRule:"evenodd",d:"M9 2a1 1 0 00-.894.553L7.382 4H4a1 1 0 000 2v10a2 2 0 002 2h8a2 2 0 002-2V6a1 1 0 100-2h-3.382l-.724-1.447A1 1 0 0011 2H9zM7 8a1 1 0 012 0v6a1 1 0 11-2 0V8zm5-1a1 1 0 00-1 1v6a1 1 0 102 0V8a1 1 0 00-1-1z",clipRule:"evenodd"})]}),Kc=({className:i,title:t})=>h.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:i||"w-6 h-6","aria-hidden":t?void 0:"true",role:t?"img":void 0,children:[t&&h.jsx("title",{children:t}),h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6.042A8.967 8.967 0 006 3.75c-1.052 0-2.062.18-3 .512v14.25A8.987 8.987 0 016 18c2.305 0 4.408.867 6 2.292m0-14.25a8.966 8.966 0 016-2.292c1.052 0 2.062.18 3 .512v14.25A8.987 8.987 0 0018 18a8.967 8.967 0 00-6 2.292m0-14.25v14.25"})]}),aE=({className:i,title:t})=>h.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:i||"w-5 h-5","aria-hidden":t?void 0:"true",role:t?"img":void 0,children:[t&&h.jsx("title",{children:t}),h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 01-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 011.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 00-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 01-1.125-1.125v-9.25m9.75 0l-4.5-4.5m0 0l-4.5 4.5M12.75 3v4.5A2.25 2.25 0 0015 9.75h4.5"})]}),z0=({className:i,title:t})=>h.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:i||"w-5 h-5","aria-hidden":t?void 0:"true",role:t?"img":void 0,children:[t&&h.jsx("title",{children:t}),h.jsx("path",{d:"M10 3.515V11.24a3.513 3.513 0 00-1.5-.406c-1.313 0-2.388.752-2.388 1.672S7.187 14.18 8.5 14.18c1.238 0 2.263-.672 2.375-1.537h.125v-7.14c0-.313.11-.604.313-.828.202-.224.494-.344.812-.344.625 0 1.125.5 1.125 1.125V11.24a3.513 3.513 0 00-1.5-.406c-1.313 0-2.388.752-2.388 1.672S10.187 14.18 11.5 14.18c1.313 0 2.388-.752 2.388-1.672a1.675 1.675 0 00-1.078-1.543V3.515A2.625 2.625 0 0010 1C8.619 1 7.5 2.12 7.5 3.5V11.24A3.513 3.513 0 006 10.833c-1.313 0-2.388.752-2.388 1.672S4.687 14.18 6 14.18c1.237 0 2.262-.672 2.375-1.537h.125V6.125C8.5 4.5 9.125 3.515 10 3.515z"})]}),$c=({className:i,title:t})=>h.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:i||"w-5 h-5","aria-hidden":t?void 0:"true",role:t?"img":void 0,children:[t&&h.jsx("title",{children:t}),h.jsx("path",{d:"M10.75 4.75a.75.75 0 00-1.5 0v4.5h-4.5a.75.75 0 000 1.5h4.5v4.5a.75.75 0 001.5 0v-4.5h4.5a.75.75 0 000-1.5h-4.5v-4.5z"})]}),Cp=({className:i,title:t})=>h.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:i||"w-5 h-5","aria-hidden":t?void 0:"true",role:t?"img":void 0,children:[t&&h.jsx("title",{children:t}),h.jsx("path",{fillRule:"evenodd",d:"M6.516 4.42A1.5 1.5 0 004 5.662v8.676a1.5 1.5 0 002.516 1.242l6.712-4.338a1.5 1.5 0 000-2.484L6.516 4.42z",clipRule:"evenodd"})]}),oE=({className:i,title:t})=>h.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:i||"w-5 h-5","aria-hidden":t?void 0:"true",role:t?"img":void 0,children:[t&&h.jsx("title",{children:t}),h.jsx("path",{fillRule:"evenodd",d:"M5 5a1 1 0 00-1 1v8a1 1 0 001 1h8a1 1 0 001-1V6a1 1 0 00-1-1H5zm0-2a3 3 0 00-3 3v8a3 3 0 003 3h8a3 3 0 003-3V6a3 3 0 00-3-3H5z",clipRule:"evenodd"})]}),Ep=({className:i,isSpinning:t,title:n})=>h.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:`${i||"w-5 h-5"} ${t?"animate-spin":""}`,"aria-hidden":n?void 0:"true",role:n?"img":void 0,children:[n&&h.jsx("title",{children:n}),h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.023 9.348h4.992v-.001M2.985 19.644v-4.992m0 0h4.992m-4.993 0l3.181 3.183a8.25 8.25 0 0013.803-3.7M4.031 9.865a8.25 8.25 0 0113.803-3.7l3.181 3.182m0-4.991v4.99"})]}),sE=({className:i,title:t})=>h.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:i||"w-5 h-5","aria-hidden":t?void 0:"true",role:t?"img":void 0,children:[t&&h.jsx("title",{children:t}),h.jsx("path",{fillRule:"evenodd",d:"M18 7H2a1 1 0 00-1 1v6a1 1 0 001 1h16a1 1 0 001-1V8a1 1 0 00-1-1zM2 9.5v3h16v-3H2z",clipRule:"evenodd"}),h.jsx("path",{d:"M4 11h1v1H4v-1zm2 0h1v1H6v-1zm2 0h1v1H8v-1zm2 0h1v1h-1v-1zm2 0h1v1h-1v-1zm2 0h1v1h-1v-1z"})]}),uE=({className:i,title:t})=>h.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:i||"w-6 h-6","aria-hidden":t?void 0:"true",role:t?"img":void 0,children:[t&&h.jsx("title",{children:t}),h.jsx("rect",{x:"3.5",y:"3.5",width:"17",height:"17",rx:"2",stroke:"currentColor",fill:"none",strokeWidth:"1.5"})]}),cE=({className:i,title:t})=>h.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:i||"w-5 h-5","aria-hidden":t?void 0:"true",role:t?"img":void 0,children:[t&&h.jsx("title",{children:t}),h.jsx("path",{fillRule:"evenodd",d:"M3 3a1 1 0 011-1h12a1 1 0 011 1v12a1 1 0 01-1 1H4a1 1 0 01-1-1V3zm10.707 3.707a1 1 0 00-1.414-1.414L8 9.586 6.707 8.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l5-5z",clipRule:"evenodd"})]}),j0=({className:i,title:t})=>h.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:i||"w-6 h-6","aria-hidden":t?void 0:"true",role:t?"img":void 0,children:[t&&h.jsx("title",{children:t}),h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"})]}),Tc=({className:i,title:t})=>h.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:i||"w-6 h-6","aria-hidden":t?void 0:"true",role:t?"img":void 0,children:[t&&h.jsx("title",{children:t}),h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 16.5v2.25A2.25 2.25 0 005.25 21h13.5A2.25 2.25 0 0021 18.75V16.5m-13.5-9L12 3m0 0l4.5 4.5M12 3v13.5"})]}),Xc=({className:i,title:t})=>h.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:i||"w-6 h-6","aria-hidden":t?void 0:"true",role:t?"img":void 0,children:[t&&h.jsx("title",{children:t}),h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.5 6h9.75M10.5 6a2.25 2.25 0 11-4.5 0m4.5 0a2.25 2.25 0 10-4.5 0M3.75 6H7.5m3 12h9.75m-9.75 0a2.25 2.25 0 01-4.5 0m4.5 0a2.25 2.25 0 00-4.5 0M3.75 18H7.5M10.5 12h9.75M10.5 12a2.25 2.25 0 01-4.5 0m4.5 0a2.25 2.25 0 00-4.5 0M3.75 12H7.5"})]});function dE(i){return typeof i=="number"}function fE(i){return typeof i=="string"}function mE(i){return typeof i<"u"}function hE(i,t){return Math.pow(2,(i-69)/12)*440}var gE=/^([a-gA-G])(#{1,}|b{1,}|x{1,}|)(-?\d*)\s*(.*)\s*$/,pE=[0,2,4,5,7,9,11];function yE(i,t,n){if(typeof i!="string")return null;var a=gE.exec(i);if(!a||a[4])return null;var o={letter:a[1].toUpperCase(),acc:a[2].replace(/x/g,"##")};o.pc=o.letter+o.acc,o.step=(o.letter.charCodeAt(0)+3)%7,o.alt=o.acc[0]==="b"?-o.acc.length:o.acc.length;var u=pE[o.step]+o.alt;return o.chroma=u<0?12+u:u%12,a[3]&&(o.oct=+a[3],o.midi=u+12*(o.oct+1),o.freq=hE(o.midi)),o}function xE(i){if((dE(i)||fE(i))&&i>=0&&i<128)return+i;var t=yE(i);return t&&mE(t.midi)?t.midi:null}function vE(i){return Array.isArray(i)&&i.length===2?i[0]*7+i[1]*12+12:xE(i)}var bE="C Db D Eb E F Gb G Ab A Bb B".split(" "),TE="C C# D D# E F F# G G# A A# B".split(" ");function O0(i,t){if(i===!0||i===!1)return function(u){return O0(u,i)};i=Math.round(i);var n=t===!0?TE:bE,a=n[i%12],o=Math.floor(i/12)-1;return a+o}const SE=Object.freeze(Object.defineProperty({__proto__:null,note:O0,toMidi:vE},Symbol.toStringTag,{value:"Module"})),CE=Bv(SE);var Sc,wp;function EE(){if(wp)return Sc;wp=1;var i=CE,t={VERSION:"2.1.4",HEADER_CHUNK_TYPE:[77,84,104,100],HEADER_CHUNK_LENGTH:[0,0,0,6],HEADER_CHUNK_FORMAT0:[0,0],HEADER_CHUNK_FORMAT1:[0,1],HEADER_CHUNK_DIVISION:[0,128],TRACK_CHUNK_TYPE:[77,84,114,107],META_EVENT_ID:255,META_TEXT_ID:1,META_COPYRIGHT_ID:2,META_TRACK_NAME_ID:3,META_INSTRUMENT_NAME_ID:4,META_LYRIC_ID:5,META_MARKER_ID:6,META_CUE_POINT:7,META_TEMPO_ID:81,META_SMTPE_OFFSET:84,META_TIME_SIGNATURE_ID:88,META_KEY_SIGNATURE_ID:89,META_END_OF_TRACK_ID:[47,0],CONTROLLER_CHANGE_STATUS:176,PITCH_BEND_STATUS:224};function n(R){"@babel/helpers - typeof";return n=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(N){return typeof N}:function(N){return N&&typeof Symbol=="function"&&N.constructor===Symbol&&N!==Symbol.prototype?"symbol":typeof N},n(R)}function a(){a=function(I,U){return new _(I,void 0,U)};var R=RegExp.prototype,N=new WeakMap;function _(I,U,A){var $=new RegExp(I,U);return N.set($,A||N.get(I)),x($,_.prototype)}function T(I,U){var A=N.get(U);return Object.keys(A).reduce(function($,se){return $[se]=I[A[se]],$},Object.create(null))}return m(_,RegExp),_.prototype.exec=function(I){var U=R.exec.call(this,I);return U&&(U.groups=T(U,this)),U},_.prototype[Symbol.replace]=function(I,U){if(typeof U=="string"){var A=N.get(this);return R[Symbol.replace].call(this,I,U.replace(/\$<([^>]+)>/g,function(se,ae){return"$"+A[ae]}))}if(typeof U=="function"){var $=this;return R[Symbol.replace].call(this,I,function(){var se=arguments;return typeof se[se.length-1]!="object"&&(se=[].slice.call(se)).push(T(se,$)),U.apply(this,se)})}return R[Symbol.replace].call(this,I,U)},a.apply(this,arguments)}function o(R,N){if(!(R instanceof N))throw new TypeError("Cannot call a class as a function")}function u(R,N){for(var _=0;_<N.length;_++){var T=N[_];T.enumerable=T.enumerable||!1,T.configurable=!0,"value"in T&&(T.writable=!0),Object.defineProperty(R,T.key,T)}}function c(R,N,_){return N&&u(R.prototype,N),_&&u(R,_),Object.defineProperty(R,"prototype",{writable:!1}),R}function m(R,N){if(typeof N!="function"&&N!==null)throw new TypeError("Super expression must either be null or a function");R.prototype=Object.create(N&&N.prototype,{constructor:{value:R,writable:!0,configurable:!0}}),Object.defineProperty(R,"prototype",{writable:!1}),N&&x(R,N)}function x(R,N){return x=Object.setPrototypeOf||function(T,I){return T.__proto__=I,T},x(R,N)}var f=function(){function R(){o(this,R)}return c(R,null,[{key:"version",value:function(){return t.VERSION}},{key:"stringToBytes",value:function(_){return _.split("").map(function(T){return T.charCodeAt()})}},{key:"isNumeric",value:function(_){return!isNaN(parseFloat(_))&&isFinite(_)}},{key:"getPitch",value:function(_){var T=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"C4";return 60-i.toMidi(T)+i.toMidi(_)}},{key:"numberToVariableLength",value:function(_){_=Math.round(_);for(var T=_&127;_=_>>7;)T<<=8,T|=_&127|128;for(var I=[];I.push(T&255),T&128;)T>>=8;return I}},{key:"stringByteCount",value:function(_){return encodeURI(_).split(/%..|./).length-1}},{key:"numberFromBytes",value:function(_){var T="",I;return _.forEach(function(U){I=U.toString(16),I.length==1&&(I="0"+I),T+=I}),parseInt(T,16)}},{key:"numberToBytes",value:function(_,T){T=T||1;var I=_.toString(16);I.length&1&&(I="0"+I);var U=I.match(/.{2}/g);if(U=U.map(function(A){return parseInt(A,16)}),U.length<T)for(;T-U.length>0;)U.unshift(0);return U}},{key:"toArray",value:function(_){return Array.isArray(_)?_:[_]}},{key:"convertVelocity",value:function(_){return _=_>100?100:_,Math.round(_/100*127)}},{key:"getTickDuration",value:function(_){if(Array.isArray(_))return _.map(function(A){return R.getTickDuration(A)}).reduce(function(A,$){return A+$},0);if(_=_.toString(),_.toLowerCase().charAt(0)==="t"){var T=parseInt(_.substring(1));if(isNaN(T)||T<0)throw new Error(_+" is not a valid duration.");return T}var I=R.numberFromBytes(t.HEADER_CHUNK_DIVISION),U=I*R.getDurationMultiplier(_);return R.getRoundedIfClose(U)}},{key:"getRoundedIfClose",value:function(_){var T=Math.round(_);return Math.abs(T-_)<1e-6?T:_}},{key:"getPrecisionLoss",value:function(_){var T=Math.round(_);return T-_}},{key:"getDurationMultiplier",value:function(_){if(_==="0")return 0;var T=_.match(a(/^(d+)?(\d+)(?:t(\d*))?/,{dotted:1,base:2,tuplet:3}));if(T){var I=Number(T.groups.base),U=I===1||(I&I-1)===0;if(U){var A=I/4,$=1/A,se=T.groups,ae=se.dotted,Xe=se.tuplet;if(ae){var _e=ae.length,F=Math.pow(2,_e);$=$+$*((F-1)/F)}if(typeof Xe=="string"){var ve=$*2,ye=Number(Xe||"3");$=ve/ye}return $}}throw new Error(_+" is not a valid duration.")}}]),R}(),v=c(function R(N){o(this,R),N=Object.assign({delta:0},N),this.type="controller",this.data=f.numberToVariableLength(N.delta).concat(t.CONTROLLER_CHANGE_STATUS,N.controllerNumber,N.controllerValue)}),b=c(function R(N){o(this,R),N=Object.assign({delta:0},N),this.type="cue-point";var _=f.stringToBytes(N.text);this.data=f.numberToVariableLength(N.delta).concat(t.META_EVENT_ID,t.META_CUE_POINT,f.numberToVariableLength(_.length),_)}),C=c(function R(N){o(this,R),N=Object.assign({delta:0},N),this.type="end-track",this.data=f.numberToVariableLength(N.delta).concat(t.META_EVENT_ID,t.META_END_OF_TRACK_ID)}),E=c(function R(N){o(this,R),N=Object.assign({delta:0},N),this.type="instrument-name";var _=f.stringToBytes(N.text);this.data=f.numberToVariableLength(N.delta).concat(t.META_EVENT_ID,t.META_INSTRUMENT_NAME_ID,f.numberToVariableLength(_.length),_)}),M=c(function R(N,_){o(this,R),this.type="key-signature";var T=_||0;if(N=N||0,typeof _>"u"){var I=[["Cb","Gb","Db","Ab","Eb","Bb","F","C","G","D","A","E","B","F#","C#"],["ab","eb","bb","f","c","g","d","a","e","b","f#","c#","g#","d#","a#"]],U=N.length,A=N||"C";if(N[0]===N[0].toLowerCase()&&(T=1),U>1)switch(N.charAt(U-1)){case"m":T=1,A=N.charAt(0).toLowerCase(),A=A.concat(N.substring(1,U-1));break;case"-":T=1,A=N.charAt(0).toLowerCase(),A=A.concat(N.substring(1,U-1));break;case"M":T=0,A=N.charAt(0).toUpperCase(),A=A.concat(N.substring(1,U-1));break;case"+":T=0,A=N.charAt(0).toUpperCase(),A=A.concat(N.substring(1,U-1));break}var $=I[T].indexOf(A);N=$===-1?0:$-7}this.data=f.numberToVariableLength(0).concat(t.META_EVENT_ID,t.META_KEY_SIGNATURE_ID,[2],f.numberToBytes(N,1),f.numberToBytes(T,1))}),B=c(function R(N){o(this,R),N=Object.assign({delta:0},N),this.type="lyric";var _=f.stringToBytes(N.text);this.data=f.numberToVariableLength(N.delta).concat(t.META_EVENT_ID,t.META_LYRIC_ID,f.numberToVariableLength(_.length),_)}),P=c(function R(N){o(this,R),N=Object.assign({delta:0},N),this.type="marker";var _=f.stringToBytes(N.text);this.data=f.numberToVariableLength(N.delta).concat(t.META_EVENT_ID,t.META_MARKER_ID,f.numberToVariableLength(_.length),_)}),j=function(){function R(N){o(this,R),N=Object.assign({channel:1,startTick:null,velocity:50,wait:0},N),this.type="note-on",this.channel=N.channel,this.pitch=N.pitch,this.wait=N.wait,this.velocity=N.velocity,this.startTick=N.startTick,this.tick=null,this.delta=null,this.data=N.data}return c(R,[{key:"buildData",value:function(_,T){var I=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this.data=[],this.startTick?(this.tick=f.getRoundedIfClose(this.startTick),_.tickPointer==0&&(this.delta=this.tick)):(this.delta=f.getTickDuration(this.wait),this.tick=f.getRoundedIfClose(_.tickPointer+this.delta)),this.deltaWithPrecisionCorrection=f.getRoundedIfClose(this.delta-T),this.data=f.numberToVariableLength(this.deltaWithPrecisionCorrection).concat(this.getStatusByte(),f.getPitch(this.pitch,I.middleC),f.convertVelocity(this.velocity)),this}},{key:"getStatusByte",value:function(){return 144+this.channel-1}}]),R}(),Z=function(){function R(N){o(this,R),N=Object.assign({channel:1,velocity:50,tick:null},N),this.type="note-off",this.channel=N.channel,this.pitch=N.pitch,this.duration=N.duration,this.velocity=N.velocity,this.tick=N.tick,this.delta=f.getTickDuration(this.duration),this.data=N.data}return c(R,[{key:"buildData",value:function(_,T){var I=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this.tick===null&&(this.tick=f.getRoundedIfClose(this.delta+_.tickPointer)),this.deltaWithPrecisionCorrection=f.getRoundedIfClose(this.delta-T),this.data=f.numberToVariableLength(this.deltaWithPrecisionCorrection).concat(this.getStatusByte(),f.getPitch(this.pitch,I.middleC),f.convertVelocity(this.velocity)),this}},{key:"getStatusByte",value:function(){return 128+this.channel-1}}]),R}(),Y=function(){function R(N){o(this,R),N=Object.assign({channel:1,repeat:1,sequential:!1,startTick:null,velocity:50,wait:0},N),this.data=[],this.type="note",this.pitch=f.toArray(N.pitch),this.channel=N.channel,this.duration=N.duration,this.grace=N.grace,this.repeat=N.repeat,this.sequential=N.sequential,this.startTick=N.startTick,this.velocity=N.velocity,this.wait=N.wait,this.tickDuration=f.getTickDuration(this.duration),this.restDuration=f.getTickDuration(this.wait),this.events=[]}return c(R,[{key:"buildData",value:function(){var _=this;if(this.data=[],this.grace){var T=1;this.grace=f.toArray(this.grace),this.grace.forEach(function(){var A=new R({pitch:_.grace,duration:"T"+T});_.data=_.data.concat(A.data)})}if(this.sequential)for(var U=0;U<this.repeat;U++)this.pitch.forEach(function(A,$){var se=new j({channel:_.channel,wait:$>0?0:_.wait,velocity:_.velocity,pitch:A,startTick:_.startTick}),ae=new Z({channel:_.channel,duration:_.duration,velocity:_.velocity,pitch:A});_.events.push(se,ae)});else for(var I=0;I<this.repeat;I++)this.pitch.forEach(function(A,$){var se;$==0?se=new j({channel:_.channel,wait:_.wait,velocity:_.velocity,pitch:A,startTick:_.startTick}):se=new j({channel:_.channel,wait:0,velocity:_.velocity,pitch:A,startTick:_.startTick}),_.events.push(se)}),this.pitch.forEach(function(A,$){var se;$==0?se=new Z({channel:_.channel,duration:_.duration,velocity:_.velocity,pitch:A,tick:_.startTick!==null?f.getTickDuration(_.duration)+_.startTick:null}):se=new Z({channel:_.channel,duration:0,velocity:_.velocity,pitch:A,tick:_.startTick!==null?f.getTickDuration(_.duration)+_.startTick:null}),_.events.push(se)});return this}}]),R}(),Q=function(N){return N<=0?Math.floor(16384*(N+1)/2):Math.floor(16383*(N+1)/2)},ne=c(function R(N){o(this,R),N=Object.assign({delta:0},N),this.type="pitch-bend";var _=Q(N.bend),T=N.channel||0,I=_&127,U=_>>7&127;this.data=f.numberToVariableLength(N.delta).concat(t.PITCH_BEND_STATUS|T,I,U)}),K=function(){function R(N){o(this,R),this.fields=Object.assign({channel:1,delta:0},N),this.type="program",this.data=f.numberToVariableLength(this.fields.delta).concat(this.getStatusByte(),this.fields.instrument)}return c(R,[{key:"getStatusByte",value:function(){return 192+this.fields.channel-1}}]),R}(),te=c(function R(N){o(this,R),N=Object.assign({delta:0},N),this.type="tempo",this.tick=N.tick;var _=Math.round(6e7/N.bpm);this.data=f.numberToVariableLength(N.delta).concat(t.META_EVENT_ID,t.META_TEMPO_ID,[3],f.numberToBytes(_,3))}),me=c(function R(N){o(this,R),N=Object.assign({delta:0},N),this.type="text";var _=f.stringToBytes(N.text);this.data=f.numberToVariableLength(N.delta).concat(t.META_EVENT_ID,t.META_TEXT_ID,f.numberToVariableLength(_.length),_)}),ge=c(function R(N,_,T,I){o(this,R),this.type="time-signature",this.data=f.numberToVariableLength(0).concat(t.META_EVENT_ID,t.META_TIME_SIGNATURE_ID,[4],f.numberToBytes(N,1),f.numberToBytes(Math.log2(_),1),f.numberToBytes(T||24,1),f.numberToBytes(I||8,1))}),he=c(function R(N){o(this,R),N=Object.assign({delta:0},N),this.type="copyright";var _=f.stringToBytes(N.text);this.data=f.numberToVariableLength(N.delta).concat(t.META_EVENT_ID,t.META_COPYRIGHT_ID,f.numberToVariableLength(_.length),_)}),oe=c(function R(N){o(this,R),N=Object.assign({delta:0},N),this.type="track-name";var _=f.stringToBytes(N.text);this.data=f.numberToVariableLength(N.delta).concat(t.META_EVENT_ID,t.META_TRACK_NAME_ID,f.numberToVariableLength(_.length),_)}),ce=function(){function R(){o(this,R),this.type=t.TRACK_CHUNK_TYPE,this.data=[],this.size=[],this.events=[],this.explicitTickEvents=[],this.tickPointer=0}return c(R,[{key:"addEvent",value:function(_,T){var I=this;return f.toArray(_).forEach(function(U,A){if(U instanceof Y){if(typeof T=="function"){var $=T(A,U);if(n($)==="object")for(var se in $)switch(se){case"channel":U.channel=$[se];break;case"duration":U.duration=$[se];break;case"sequential":U.sequential=$[se];break;case"velocity":U.velocity=f.convertVelocity($[se]);break}}U.startTick!==null?I.explicitTickEvents.push(U):U.buildData().events.forEach(function(ae){return I.events.push(ae)})}else U instanceof C&&I.removeEventsByType("end-track"),I.events.push(U)}),this}},{key:"buildData",value:function(){var _=this,T=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};(!this.events.length||!(this.events[this.events.length-1]instanceof C))&&this.addEvent(new C),this.data=[],this.size=[],this.tickPointer=0;var I=0;return this.events.forEach(function(U){if(U instanceof j||U instanceof Z){var A=U.buildData(_,I,T);I=f.getPrecisionLoss(U.deltaWithPrecisionCorrection||0),_.data=_.data.concat(A.data),_.tickPointer=f.getRoundedIfClose(U.tick)}else U instanceof te&&(_.tickPointer=f.getRoundedIfClose(U.tick)),_.data=_.data.concat(U.data)}),this.mergeExplicitTickEvents(),this.size=f.numberToBytes(this.data.length,4),this}},{key:"mergeExplicitTickEvents",value:function(){var _=this;this.explicitTickEvents.length&&(this.explicitTickEvents.sort(function(T,I){return T.startTick-I.startTick}),this.explicitTickEvents.forEach(function(T){T.buildData().events.forEach(function(I){return I.buildData(_)}),T.events.forEach(function(I){return _.mergeSingleEvent(I)})}),this.explicitTickEvents=[],this.buildData())}},{key:"mergeTrack",value:function(_){var T=this;this.buildData(),_.buildData().events.forEach(function(I){return T.mergeSingleEvent(I)})}},{key:"mergeSingleEvent",value:function(_){if(!this.events.length){this.addEvent(_);return}for(var T,I=0;I<this.events.length&&!(this.events[I].tick>_.tick);I++)T=I;var U=T+1;_.delta=_.tick-this.events[T].tick,this.events.splice(U,0,_);for(var A=U+1;A<this.events.length;A++)this.events[A].delta=this.events[A].tick-this.events[A-1].tick}},{key:"removeEventsByType",value:function(_){var T=this;return this.events.forEach(function(I,U){I.type===_&&T.events.splice(U,1)}),this}},{key:"setTempo",value:function(_){var T=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return this.addEvent(new te({bpm:_,tick:T}))}},{key:"setTimeSignature",value:function(_,T,I,U){return this.addEvent(new ge(_,T,I,U))}},{key:"setKeySignature",value:function(_,T){return this.addEvent(new M(_,T))}},{key:"addText",value:function(_){return this.addEvent(new me({text:_}))}},{key:"addCopyright",value:function(_){return this.addEvent(new he({text:_}))}},{key:"addTrackName",value:function(_){return this.addEvent(new oe({text:_}))}},{key:"addInstrumentName",value:function(_){return this.addEvent(new E({text:_}))}},{key:"addMarker",value:function(_){return this.addEvent(new P({text:_}))}},{key:"addCuePoint",value:function(_){return this.addEvent(new b({text:_}))}},{key:"addLyric",value:function(_){return this.addEvent(new B({text:_}))}},{key:"polyModeOn",value:function(){var _=new j({data:[0,176,126,0]});return this.addEvent(_)}},{key:"setPitchBend",value:function(_){return this.addEvent(new ne({bend:_}))}},{key:"controllerChange",value:function(_,T){return this.addEvent(new v({controllerNumber:_,controllerValue:T}))}}]),R}(),fe=function(){function R(){o(this,R)}return c(R,[{key:"trackFromVoice",value:function(_){var T=this,I=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{addRenderedAccidentals:!1},U=new ce,A=[];return _.tickables.forEach(function($){$.noteType==="n"?(U.addEvent(new Y({pitch:$.keys.map(function(se,ae){return T.convertPitch(se,ae,$,I.addRenderedAccidentals)}),duration:T.convertDuration($),wait:A})),A=[]):$.noteType==="r"&&A.push(T.convertDuration($))}),A.length>0&&U.addEvent(new Y({pitch:"[c4]",duration:"0",wait:A,velocity:"0"})),U}},{key:"convertPitch",value:function(_,T,I){var U=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1,A=_.split("/"),$=A[0].substring(1).replace("n","");if(U){var se;(se=I.getAccidentals())===null||se===void 0||se.forEach(function(ae){ae.index===T&&(ae.type==="n"?$="":$+=ae.type)})}return A[0][0]+$+A[1]}},{key:"convertDuration",value:function(_){return"d".repeat(_.dots)+this.convertBaseDuration(_.duration)+(_.tuplet?"t"+_.tuplet.num_notes:"")}},{key:"convertBaseDuration",value:function(_){switch(_){case"w":return"1";case"h":return"2";case"q":return"4";default:return _}}}]),R}(),re=c(function R(N){o(this,R),this.type=t.HEADER_CHUNK_TYPE;var _=N>1?t.HEADER_CHUNK_FORMAT1:t.HEADER_CHUNK_FORMAT0;this.data=_.concat(f.numberToBytes(N,2),t.HEADER_CHUNK_DIVISION),this.size=[0,0,0,this.data.length]}),de=function(){function R(N){var _=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};o(this,R),this.tracks=f.toArray(N),this.options=_}return c(R,[{key:"buildData",value:function(){var _=this,T=[];return T.push(new re(this.tracks.length)),this.tracks.forEach(function(I){T.push(I.buildData(_.options))}),T}},{key:"buildFile",value:function(){var _=[];return this.buildData().forEach(function(T){return _=_.concat(T.type,T.size,T.data)}),new Uint8Array(_)}},{key:"base64",value:function(){return typeof btoa=="function"?btoa(String.fromCharCode.apply(null,this.buildFile())):Buffer.from(this.buildFile()).toString("base64")}},{key:"dataUri",value:function(){return"data:audio/midi;base64,"+this.base64()}},{key:"setOption",value:function(_,T){return this.options[_]=T,this}},{key:"stdout",value:function(){return process.stdout.write(Buffer.from(this.buildFile()))}}]),R}(),H={Constants:t,ControllerChangeEvent:v,CuePointEvent:b,EndTrackEvent:C,InstrumentNameEvent:E,KeySignatureEvent:M,LyricEvent:B,MarkerEvent:P,NoteOnEvent:j,NoteOffEvent:Z,NoteEvent:Y,PitchBendEvent:ne,ProgramChangeEvent:K,TempoEvent:te,TextEvent:me,TimeSignatureEvent:ge,Track:ce,TrackNameEvent:oe,Utils:f,VexFlow:fe,Writer:de};return Sc=H,Sc}var wE=EE();const Mn=da(wE),Bo=i=>{if(!Mn.Track)return null;const t=new Mn.Track;return t.addTrackName(i),t},Cc=(i,t,n,a=!1)=>{!Mn.NoteEvent||!t||t.length===0||!i||t.forEach(o=>{let u=[];if(a)u=o.notes.map(m=>m.midi).filter(m=>typeof m=="number");else{const c=o;typeof c.midi=="number"&&(u=[c.midi])}if(u.length>0){const c=Math.round(o.duration*128),m=Math.round(o.time*128),x=u.map(f=>{const v=["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"],b=Math.floor(f/12)-1;return`${v[f%12]}${b}`});i.addEvent(new Mn.NoteEvent({pitch:x.length===1?x[0]:x,duration:`T${c}`,startTick:m,velocity:o.velocity||(a?90:100),channel:n}))}})},AE=(i,t)=>{!Mn.NoteEvent||!t||Object.keys(t).length===0||!i||Object.entries(t).forEach(([n,a])=>{const o=n.toLowerCase().replace(/\s+/g,"_"),u=$o[o]||$o[n];typeof u!="number"||!a||a.forEach(c=>{const m=Math.round(c.duration*128),x=Math.round(c.time*128),f=["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"],v=Math.floor(u/12)-1,C=`${f[u%12]}${v}`;i.addEvent(new Mn.NoteEvent({pitch:C,duration:`T${m}`,startTick:x,velocity:c.velocity||100,channel:10}))})})},Ap=(i,t,n="TrackGuide")=>{if(!Mn||!Mn.Writer||!Mn.Track||!Mn.NoteEvent)return console.error("MidiWriterJS components (Writer, Track, NoteEvent) are not loaded. Cannot generate MIDI file."),null;const a=[];let o=!1;const u=m=>(m&&(m.setTempo(t.tempo,0),m.setTimeSignature(t.timeSignature[0],t.timeSignature[1])),m);if(i.chords&&i.chords.length>0){let m=Bo(`${n} Chords`);m=u(m),m&&(Cc(m,i.chords,1,!0),a.push(m),o=!0)}if(i.bassline&&i.bassline.length>0){let m=Bo(`${n} Bassline`);m=u(m),m&&(Cc(m,i.bassline,2,!1),a.push(m),o=!0)}if(i.melody&&i.melody.length>0){let m=Bo(`${n} Melody`);m=u(m),m&&(Cc(m,i.melody,3,!1),a.push(m),o=!0)}if(i.drums&&Object.keys(i.drums).length>0){let m=Bo(`${n} Drums`);m=u(m),m&&(AE(m,i.drums),a.push(m),o=!0)}return o?new Mn.Writer(a).dataUri():(console.warn("No patterns to write to MIDI file."),null)},Np=(i,t)=>{if(!i){console.error("MIDI data URI is null or empty. Cannot download."),alert("Failed to generate MIDI data for download.");return}const n=document.createElement("a");n.href=i,n.download=t,document.body.appendChild(n),n.click(),document.body.removeChild(n)};let Ai=null,_i=[],Jo=null,Ho=null,Qo=0,la=0,Hr=!1;const cd=()=>((!Ai||Ai.state==="closed")&&(Ai=new(window.AudioContext||window.webkitAudioContext),Jo=Ai.createGain(),Jo.connect(Ai.destination)),Ai.state==="suspended"&&Ai.resume(),Ai),Wi=(i,t)=>i/t*60,Ec=(i,t,n,a=100,o=!1,u,c)=>{const m=cd();if(!Jo||!c)return;const x=Qo+la*P0()+t;if(x<m.currentTime-.05)return;const f=m.createGain(),v=a/127*(o?.75:.35);let b=v;if(f.gain.setValueAtTime(b,x),b>1e-4)try{f.gain.exponentialRampToValueAtTime(1e-4,x+n)}catch{f.gain.linearRampToValueAtTime(1e-4,x+n)}f.connect(Jo);let C;if(o)if(u==="kick"){const E=m.createOscillator();E.type="sine",E.frequency.setValueAtTime(150,x),E.frequency.exponentialRampToValueAtTime(50,x+Math.min(n,.12));const M=m.createGain();M.gain.setValueAtTime(1,x),M.gain.exponentialRampToValueAtTime(.001,x+n),E.connect(M).connect(f),E.start(x),E.stop(x+n),_i.push({node:E,controlGainNode:f,trackType:c,intendedVolume:v,scheduledStopTime:x+n,isDrum:!0});return}else{C=m.createBufferSource();const E=Math.max(1,Math.floor(m.sampleRate*n)),M=m.createBuffer(1,E,m.sampleRate),B=M.getChannelData(0);if(u==="snare"||u==="clap")for(let P=0;P<E;P++)B[P]=(Math.random()*2-1)*Math.exp(-P/(m.sampleRate*.05));else if(u&&(u.includes("hat")||u.includes("cymbal")||u.includes("shaker"))){const P=u.includes("hat")?5e3:u.includes("shaker")?7e3:3e3,j=u.includes("hat")?.03:u.includes("shaker")?.02:.25;for(let Z=0;Z<E;Z++)B[Z]=(Math.random()*2-1)*Math.exp(-Z/(m.sampleRate*j))*Math.sin(2*Math.PI*P*(Z/m.sampleRate)*(1+Math.random()*.3))}else{const P=m.createOscillator();P.type="sine",P.frequency.setValueAtTime(200+Math.random()*150,x),P.frequency.exponentialRampToValueAtTime(100,x+n*.8);const j=m.createGain();j.gain.setValueAtTime(.9,x),j.gain.exponentialRampToValueAtTime(.001,x+n),P.connect(j).connect(f),P.start(x),P.stop(x+n),_i.push({node:P,controlGainNode:f,trackType:c,intendedVolume:v,scheduledStopTime:x+n,isDrum:!0});return}C.buffer=M}else{C=m.createOscillator(),C.type="sawtooth";const E=440*Math.pow(2,(i-69)/12);C.frequency.setValueAtTime(E,x)}C.connect(f),C.start(x),C.stop(x+n),_i.push({node:C,controlGainNode:f,trackType:c,intendedVolume:v,scheduledStopTime:x+n,isDrum:o})};let Jc=null;const P0=()=>{if(!Jc)throw new Error("Settings not available for loop duration calculation.");const{tempo:i,bars:t,timeSignature:n}=Jc,a=n[0]*(4/n[1]);return Wi(t*a,i)},Mp=(i,t,n)=>{V0(!1),Hr=!0,la=0,Jc={...t};const a=cd();Qo=a.currentTime,_i=[];const o=P0();if(o<=0){console.error("Loop duration is zero or negative. Cannot play."),Hr=!1;return}function u(){if(!Hr)return;const c=a.currentTime;_i=_i.filter(v=>v.scheduledStopTime>c||!v.node);const m=t.tempo,x=(v,b)=>{b&&(v==="drums"&&typeof b=="object"&&!Array.isArray(b)?Object.entries(b).forEach(([C,E])=>{const M=C.toLowerCase().replace(/\s+/g,"_"),B=$o[M]||$o[C];typeof B!="number"||!E||E.forEach(P=>{Ec(B,Wi(P.time,m),Wi(P.duration,m),P.velocity,!0,M,v)})}):Array.isArray(b)&&b.forEach(C=>{"notes"in C?C.notes.forEach(M=>{typeof M.midi=="number"&&Ec(M.midi,Wi(C.time,m),Wi(C.duration,m),C.velocity,!1,void 0,v)}):typeof C.midi=="number"&&Ec(C.midi,Wi(C.time,m),Wi(C.duration,m),C.velocity,!1,void 0,v)}))};if((n?[n]:["chords","bassline","melody","drums"]).forEach(v=>{switch(v){case"chords":i.chords&&x("chords",i.chords);break;case"bassline":i.bassline&&x("bassline",i.bassline);break;case"melody":i.melody&&x("melody",i.melody);break;case"drums":i.drums&&x("drums",i.drums);break}}),Hr){const v=Qo+(la+1)*o;let b=(v-a.currentTime)*1e3;b<0&&(console.warn(`Loop drift detected. Next loop scheduled with minimal delay. Ideal: ${v}, Current: ${a.currentTime}`),b=10),Ho=window.setTimeout(()=>{Hr&&(la++,u())},b)}}u()},Nn=()=>{Hr=!1,V0(!0)},V0=i=>{Ho!==null&&(clearTimeout(Ho),Ho=null),_i.forEach(t=>{try{t.node&&(t.node.stop(),t.node.disconnect()),t.controlGainNode&&t.controlGainNode.disconnect()}catch{}}),_i=[],i&&(la=0,Qo=0)},Zl=async()=>{try{const i=cd();i.state==="suspended"&&await i.resume()}catch(i){console.error("Failed to initialize audio context:",i)}},NE=async i=>new Promise((t,n)=>{const a=new FileReader;a.onload=()=>{if(a.result&&typeof a.result=="string"){const o=a.result.split(","),u=o[1],c=o[0].match(/data:(.*);base64/),m=c?c[1]:i.type||"audio/mpeg";t({base64:u,mimeType:m})}else n(new Error("Failed to read file"))},a.onerror=()=>n(new Error("File reading failed")),a.readAsDataURL(i)}),Zi=i=>{if(!i)return"General musical context. Focus on genre and vibe.";const t=i.indexOf("## 3. Instrument & Sound Design Guide"),n=t>0?t:i.indexOf("## 2. Structural Blueprint")>0?i.indexOf("## 2. Structural Blueprint"):1500;return i.substring(0,Math.min(n,i.length))},ME=i=>{const t=i.match(/^([A-G][#b]?)/);return t?t[1]:"C"},_E=i=>{const t=ME(i);return Sp[t]||Sp.C},Wl=[1,2,4,8,16,32],DE=(i,t)=>{const n=getChordProgressionsForGenre(t);return i?[i,...n.filter(a=>a!==i)]:n},H0=({currentGuidebookEntry:i,mainAppInputs:t,onUpdateGuidebookEntryMidi:n,parsedGuidebookBpm:a,parsedGuidebookKey:o,parsedGuidebookChordProg:u,initialPatterns:c,sections:m,targetTempo:x,targetKey:f,isRemixMode:v=!1,preGeneratedPatterns:b,originalChordProgression:C,remixGuideContent:E})=>{var Xe,_e;const[M,B]=xe.useState(()=>{var Je;if(v)return{...Ke,key:f||Ke.key,tempo:x||Ke.tempo,genre:"Electronic",songSection:(m==null?void 0:m[0])||Ke.songSection,guidebookContext:`Remix mode for ${f||"C minor"} at ${x||128} BPM`,targetInstruments:["Bassline","Drums","Melody","Pads"],bars:8,chordProgression:C||"i-VI-III-VII",timeSignature:[4,4]};if(i!=null&&i.midiSettings)return{...i.midiSettings,bars:Wl.includes(i.midiSettings.bars)?i.midiSettings.bars:Ke.bars,songSection:i.midiSettings.songSection||Ke.songSection,targetInstruments:i.midiSettings.targetInstruments&&i.midiSettings.targetInstruments.length>0?i.midiSettings.targetInstruments:[...Ke.targetInstruments],guidebookContext:i.midiSettings.guidebookContext||Zi(i.content)};const F=((Je=i==null?void 0:i.genre)==null?void 0:Je[0])||(t==null?void 0:t.genre[0])||Ke.genre,ve=Zi((i==null?void 0:i.content)||""),ye=Tn[F]||Tn.Default,Ae=Math.round((ye[0]+ye[1])/2),Ie=Ke.songSection;let Ge=Ke.bars;const Be=Ie.toLowerCase();return Be.includes("intro")||Be.includes("outro")||Be.includes("fill")||Be.includes("breakdown")?Ge=4:Ge=8,Ge=Wl.includes(Ge)?Ge:Ke.bars,{...Ke,genre:F,key:o||Ke.key,tempo:a||Ae,chordProgression:u||(bn[F]||bn.Default)[0],guidebookContext:ve,targetInstruments:[...Ke.targetInstruments],songSection:Ie,bars:Ge}}),[P,j]=xe.useState(()=>{if(b)return b;if(v&&c){const F={};return Object.entries(c).forEach(([ve,ye])=>{Object.entries(ye).forEach(([Ae,Ie])=>{const Ge=`${ve}_${Ae}`;typeof Ie!="string"&&(F[Ge]=Ie)})}),F}return(i==null?void 0:i.generatedMidiPatterns)||null}),[Z,Y]=xe.useState(!1),[Q,ne]=xe.useState(""),[K,te]=xe.useState(null),[me,ge]=xe.useState(!1),he=xe.useRef(me);xe.useEffect(()=>{he.current=me},[me]);const[oe,ce]=xe.useState(!1);xe.useEffect(()=>{var ve;let F;if(i!=null&&i.midiSettings)F=i.midiSettings.bars||Ke.bars,B({...i.midiSettings,bars:Wl.includes(F)?F:Ke.bars,songSection:i.midiSettings.songSection||Ke.songSection,targetInstruments:i.midiSettings.targetInstruments&&i.midiSettings.targetInstruments.length>0?i.midiSettings.targetInstruments:[...Ke.targetInstruments],guidebookContext:i.midiSettings.guidebookContext||Zi(i.content)});else{const ye=((ve=i==null?void 0:i.genre)==null?void 0:ve[0])||(t==null?void 0:t.genre[0])||Ke.genre,Ae=Zi((i==null?void 0:i.content)||""),Ie=Tn[ye]||Tn.Default,Ge=Math.round((Ie[0]+Ie[1])/2),Be=Ke.songSection;let Je=Ke.bars;const Ve=Be.toLowerCase();Ve.includes("intro")||Ve.includes("outro")||Ve.includes("fill")||Ve.includes("breakdown")?Je=4:Je=8,F=Wl.includes(Je)?Je:Ke.bars,B({...Ke,key:o||Ke.key,tempo:a||Ge,chordProgression:u||(bn[ye]||bn.Default)[0],genre:ye,guidebookContext:Ae,targetInstruments:[...Ke.targetInstruments],songSection:Be,bars:F})}j((i==null?void 0:i.generatedMidiPatterns)||null),te(null),he.current&&(Nn(),ge(!1))},[i,t==null?void 0:t.genre,a,o,u]);const fe=(F,ve)=>{B(ye=>{const Ae={...ye,[F]:ve};if(F==="genre"){const Ie=ve,Ge=(bn[ye.genre]||bn.Default)[0];ye.chordProgression===Ge&&(Ae.chordProgression=(bn[Ie]||bn.Default)[0]);const Be=Tn[ye.genre]||Tn.Default,Je=Math.round((Be[0]+Be[1])/2);if(ye.tempo===Je){const Ve=Tn[Ie]||Tn.Default;Ae.tempo=Math.round((Ve[0]+Ve[1])/2)}}return i!=null&&i.content&&(Ae.guidebookContext=Zi(i.content)),Ae})},re=F=>{B(ve=>{const ye=ve.targetInstruments,Ae=ye.includes(F)?ye.filter(Ie=>Ie!==F):[...ye,F];return{...ve,targetInstruments:Ae}})},de=async()=>{var ye;Y(!0),ne("Regenerating MIDI patterns..."),te(null),he.current&&(Nn(),ge(!1)),await Zl();let F;if(v)F={...M,guidebookContext:`${M.genre} remix at ${M.tempo} BPM in ${M.key}`,genre:M.genre};else{const Ae=((ye=i==null?void 0:i.genre)==null?void 0:ye[0])||M.genre,Ie=Zi((i==null?void 0:i.content)||"");F={...M,guidebookContext:Ie,genre:Ae}}let ve="";try{const Ae=await Xo(F);for await(const Ve of Ae)ve+=Ve.text;let Ie=ve.trim();const Ge=/^```(\w*)?\s*\n?(.*?)\n?\s*```$/s,Be=Ie.match(Ge);Be&&Be[2]&&(Ie=Be[2].trim());const Je=JSON.parse(Ie);if(Je.drums){const Ve={};for(const Jt in Je.drums)Ve[Jt.toLowerCase().replace(/\s+/g,"_")]=Je.drums[Jt];Je.drums=Ve}j(Je),n==null||n(F,Je)}catch(Ae){console.error("MIDI Generation Error:",Ae);const Ie=Ae.message.toLowerCase().includes("json")?`AI returned invalid JSON for MIDI patterns. (${Ae.message})`:`Failed to generate MIDI patterns: ${Ae.message}`;te(Ie),j(null)}finally{Y(!1),ne("")}},H=async()=>{P&&(await Zl(),he.current&&(Nn(),ge(!1),await new Promise(F=>setTimeout(F,50))),Mp(P,M),ge(!0))},R=async F=>{!P||!P[F]||(await Zl(),he.current&&(Nn(),ge(!1),await new Promise(ve=>setTimeout(ve,50))),Mp(P,M,F),ge(!0))},N=()=>{Nn(),ge(!1)};xe.useEffect(()=>()=>{he.current&&Nn()},[]);const _=()=>{if(!P)return;const F=((i==null?void 0:i.title)||"TrackGuideMIDI").replace(/[^a-z0-9_.-]/gi,"_"),ve=Ap(P,M,F);ve?Np(ve,`${F}_all_tracks.mid`):alert("No MIDI data to download or error in generation.")},T=F=>{if(!P||!P[F]){alert(`No ${F} data available in current patterns.`);return}const ve={[F]:P[F]},ye=((i==null?void 0:i.title)||"TrackGuideMIDI").replace(/[^a-z0-9_.-]/gi,"_"),Ae=Ap(ve,M,`${ye}_${F}`);Ae?Np(Ae,`${ye}_${F}.mid`):alert(`No ${F} data to download or error in generation.`)},I=async F=>{var Ae;if(!P)return;Y(!0),ne("Generating MIDI..."),te(null),he.current&&(Nn(),ge(!1)),await Zl();let ve;if(v)ve={...M,guidebookContext:`${M.genre} remix at ${M.tempo} BPM in ${M.key}`,genre:M.genre,targetInstruments:[F]};else{const Ie=((Ae=i==null?void 0:i.genre)==null?void 0:Ae[0])||M.genre,Ge=Zi((i==null?void 0:i.content)||"");ve={...M,guidebookContext:Ge,genre:Ie,targetInstruments:[F]}}let ye="";try{const Ie=await Xo(ve);for await(const on of Ie)ye+=on.text;let Ge=ye.trim();const Be=/^```(\w*)?\s*\n?(.*?)\n?\s*```$/s,Je=Ge.match(Be);Je&&Je[2]&&(Ge=Je[2].trim());const Ve=JSON.parse(Ge),Jt={...P,[F]:Ve[F]};if(F==="drums"&&Ve.drums){const on={};for(const Cn in Ve.drums)on[Cn.toLowerCase().replace(/\s+/g,"_")]=Ve.drums[Cn];Jt.drums=on}j(Jt),n==null||n(M,Jt),ne("")}catch(Ie){console.error("Error regenerating single track:",Ie),te(`Failed to regenerate ${F}. Please try again.`),ne("")}finally{Y(!1)}},U=F=>{const ve=Tn[F]||Tn.Default;return`(${ve[0]}-${ve[1]} BPM for ${F})`},A=F=>bn[F]||bn.Default,$=(F,ve)=>{if(!F)return h.jsxs("p",{className:"text-xs text-gray-500",children:["No ",ve," pattern generated."]});if(ve==="Chords"&&Array.isArray(F)){const ye=F;if(ye.length>0){let Ae=[],Ie=null;for(const Be of ye)Be.name!==Ie&&(Ae.push(Be.name),Ie=Be.name);const Ge=Ae.join(" - ");return h.jsx("div",{className:"text-xs text-gray-300 bg-gray-700 p-2 rounded-md mt-1 whitespace-normal break-words max-h-20 overflow-y-auto custom-scrollbar",children:Ge})}}return null},se=async()=>{oe||await Zl(),ce(F=>!F)},ae=(F,ve)=>{const ye=P==null?void 0:P[F],Ae=ye&&(Array.isArray(ye)&&ye.length>0||typeof ye=="object"&&Object.keys(ye).length>0&&!(ye!=null&&ye.error));if(!Ae)return P&&!P[F]&&M.targetInstruments.includes(F)?h.jsx(lt,{title:ve,className:"bg-gray-700/50 opacity-60",contentClassName:"p-3",children:h.jsx("p",{className:"text-xs text-gray-400",children:"Pattern not generated or empty. Try regenerating with this instrument selected."})}):null;const Ie=$(ye,ve);return h.jsxs(lt,{title:ve,className:"bg-gray-700/50",contentClassName:"p-3",children:[Ie,h.jsxs("div",{className:`${Ie?"mt-3":""} flex gap-2 items-center`,children:[h.jsx(Pe,{size:"sm",variant:"secondary",onClick:()=>R(F),disabled:!Ae||me,className:"px-2.5 py-1.5 flex-1",title:`Preview ${ve}`,leftIcon:h.jsx(Cp,{className:"w-4 h-4"}),children:"Preview"}),h.jsx(Pe,{size:"sm",variant:"outline",onClick:()=>I(F),className:"p-1.5 flex-none",title:`Regenerate ${ve}`,"aria-label":`Regenerate ${ve}`,disabled:Z,children:h.jsx(Ep,{className:"w-4 h-4",isSpinning:Z&&Q.includes(F)})}),h.jsx(Pe,{size:"sm",variant:"outline",onClick:()=>T(F),className:"p-1.5 flex-none",title:`Download ${ve} MIDI`,"aria-label":`Download ${ve} MIDI`,disabled:!Ae,children:h.jsx(Yc,{className:"w-4 h-4"})})]})]})};return h.jsxs(lt,{title:"🎹 MIDI Tools & Pattern Generator",className:"mt-6 bg-gray-800/80 backdrop-blur-md shadow-xl border border-gray-700/50",children:[h.jsx(Pe,{onClick:se,variant:"secondary",className:"w-full mb-4",leftIcon:h.jsx(sE,{}),children:oe?"Hide MIDI Settings":"Adjust MIDI Settings & Regenerate"}),oe&&h.jsxs("div",{className:"mb-6 border-t border-gray-700 pt-6",children:[h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-x-6 gap-y-4 mb-6",children:[h.jsxs("div",{children:[h.jsxs("label",{htmlFor:"midi-key",className:"block text-sm font-medium text-gray-300 mb-1",children:["Key ",v?h.jsxs("span",{className:"text-xs text-gray-400",children:["(Remix Target: ",f||"N/A",")"]}):h.jsxs("span",{className:"text-xs text-gray-400",children:["(Guidebook: ",o||"N/A",")"]})]}),h.jsx("select",{id:"midi-key",value:M.key,onChange:F=>fe("key",F.target.value),className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-md shadow-sm text-gray-100 focus:ring-purple-500 focus:border-purple-500 text-sm",children:ra.map(F=>h.jsx("option",{value:F,children:F},F))})]}),h.jsxs("div",{children:[h.jsxs("label",{htmlFor:"midi-scale",className:"block text-sm font-medium text-gray-300 mb-1",children:["Scale/Mode ",h.jsx("span",{className:"text-xs text-gray-400",children:"(Optional)"})]}),h.jsxs("select",{id:"midi-scale",value:M.scale||"",onChange:F=>fe("scale",F.target.value),className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-md shadow-sm text-gray-100 focus:ring-purple-500 focus:border-purple-500 text-sm",children:[h.jsx("option",{value:"",children:"Default (from key)"}),_E(M.key).map(F=>h.jsx("option",{value:F,children:F},F))]})]}),h.jsxs("div",{children:[h.jsxs("label",{htmlFor:"midi-tempo",className:"block text-sm font-medium text-gray-300 mb-1",children:["Tempo (BPM) ",v?h.jsxs("span",{className:"text-xs text-gray-400",children:["Remix Target: ",x||"N/A"]}):h.jsxs("span",{className:"text-xs text-gray-400",children:["Guidebook: ",a||"N/A"]})]}),h.jsx(Yt,{type:"number",id:"midi-tempo",value:M.tempo,onChange:F=>fe("tempo",parseInt(F.target.value,10)),min:"30",max:"300"}),h.jsx("p",{className:"text-xs text-gray-400 mt-1",children:U(M.genre)})]}),!v&&h.jsxs("div",{children:[h.jsx("label",{htmlFor:"midi-timesig",className:"block text-sm font-medium text-gray-300 mb-1",children:"Time Signature"}),h.jsx("select",{id:"midi-timesig",value:M.timeSignature.join("/"),onChange:F=>fe("timeSignature",F.target.value.split("/").map(Number)),className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-md shadow-sm text-gray-100 focus:ring-purple-500 focus:border-purple-500 text-sm",children:HC.map(F=>h.jsx("option",{value:F.join("/"),children:F.join("/")},F.join("/")))})]}),h.jsxs("div",{children:[h.jsxs("label",{htmlFor:"midi-chords",className:"block text-sm font-medium text-gray-300 mb-1",children:["Chord Progression ",v?h.jsx("span",{className:"text-xs text-gray-400",children:"(Based on original + remix style)"}):h.jsxs("span",{className:"text-xs text-gray-400",children:["(Guidebook: ",u||"N/A",")"]})]}),h.jsx("select",{id:"midi-chords",value:M.chordProgression,onChange:F=>fe("chordProgression",F.target.value),className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-md shadow-sm text-gray-100 focus:ring-purple-500 focus:border-purple-500 text-sm",children:(v?DE(C,M.genre):A(M.genre)).map(F=>h.jsx("option",{value:F,children:F},F))})]}),!v&&h.jsxs("div",{children:[h.jsx("label",{htmlFor:"midi-genre",className:"block text-sm font-medium text-gray-300 mb-1",children:"MIDI Genre Context"}),h.jsxs("select",{id:"midi-genre",value:M.genre,onChange:F=>fe("genre",F.target.value),className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-md shadow-sm text-gray-100 focus:ring-purple-500 focus:border-purple-500 text-sm",children:[h.jsxs("option",{value:((Xe=i==null?void 0:i.genre)==null?void 0:Xe[0])||(t==null?void 0:t.genre[0])||Ke.genre,children:["Align with Guidebook (",((_e=i==null?void 0:i.genre)==null?void 0:_e[0])||(t==null?void 0:t.genre[0])||"Default",")"]}),U0.map(F=>h.jsx("option",{value:F,children:F},F))]})]}),h.jsxs("div",{children:[h.jsx("label",{htmlFor:"midi-bars",className:"block text-sm font-medium text-gray-300 mb-1",children:"Loop Length (Bars)"}),h.jsx("select",{id:"midi-bars",value:M.bars,onChange:F=>fe("bars",parseInt(F.target.value,10)),className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-md shadow-sm text-gray-100 focus:ring-purple-500 focus:border-purple-500 text-sm",children:Wl.map(F=>h.jsx("option",{value:F,children:F},F))})]}),h.jsxs("div",{className:"lg:col-span-1",children:[h.jsx("label",{htmlFor:"midi-songsection",className:"block text-sm font-medium text-gray-300 mb-1",children:"Song Section Context"}),h.jsx("select",{id:"midi-songsection",value:M.songSection||Ke.songSection,onChange:F=>fe("songSection",F.target.value),className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-md shadow-sm text-gray-100 focus:ring-purple-500 focus:border-purple-500 text-sm",children:(v&&m?m:GC).map(F=>h.jsx("option",{value:F,children:F},F))})]})]}),h.jsxs("div",{className:"mb-6",children:[h.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Target Instruments to Generate"}),h.jsx("div",{className:"flex flex-wrap gap-x-4 gap-y-2",children:qC.map(F=>h.jsxs("button",{type:"button",onClick:()=>re(F.id),className:`flex items-center px-3 py-1.5 rounded-md text-sm transition-colors duration-150 ease-in-out border
                            ${M.targetInstruments.includes(F.id)?"bg-purple-600 text-white border-purple-500 hover:bg-purple-700 shadow-md":"bg-gray-700 text-gray-300 border-gray-600 hover:bg-gray-600 hover:border-gray-500"}`,"aria-pressed":M.targetInstruments.includes(F.id),children:[M.targetInstruments.includes(F.id)?h.jsx(cE,{className:"w-4 h-4 mr-2"}):h.jsx(uE,{className:"w-4 h-4 mr-2 text-gray-500"}),F.label]},F.id))})]}),h.jsx(Pe,{onClick:de,disabled:Z||M.targetInstruments.length===0,className:"w-full",leftIcon:h.jsx(Ep,{className:"w-5 h-5",isSpinning:Z}),children:Z?Q||"Regenerating MIDI Patterns...":M.targetInstruments.length===0?"Select instruments first":"Regenerate MIDI Patterns"})]}),K&&h.jsx("p",{className:"text-red-400 bg-red-900/30 p-3 rounded-md text-sm my-4",children:K}),Z&&!oe&&(!P||Q.includes("MIDI"))&&h.jsx("div",{className:"my-4",children:h.jsx(er,{text:Q||"AI is composing..."})}),P&&!Z&&h.jsxs("div",{className:"mt-6 space-y-3",children:[h.jsxs("div",{className:"flex flex-wrap gap-3 items-center pb-3 border-b border-gray-700",children:[h.jsx(Pe,{onClick:me?N:H,variant:me?"danger":"primary",size:"md",leftIcon:me?h.jsx(oE,{}):h.jsx(Cp,{}),children:me?"Stop Preview":"Play All Tracks"}),h.jsx(Pe,{onClick:_,variant:"secondary",size:"md",leftIcon:h.jsx(Yc,{}),children:"Download All (.mid)"})]}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 pt-3",children:[ae("chords","Chords"),ae("bassline","Bassline"),ae("melody","Melody"),ae("drums","Drums")]}),P.error&&h.jsxs("p",{className:"text-sm text-yellow-400 mt-2",children:["AI Note: ",P.error]})]}),!P&&!Z&&!K&&h.jsx("p",{className:"text-gray-400 text-sm mt-4 text-center",children:'No MIDI patterns generated yet for this TrackGuide. Click "Adjust MIDI Settings" to configure and generate.'})]})},IE=({library:i,onClose:t,onLoadEntry:n,onDeleteEntry:a,onCreateNew:o})=>{const[u,c]=xe.useState(""),m=i.filter(x=>x.title.toLowerCase().includes(u.toLowerCase())||x.genre.join(", ").toLowerCase().includes(u.toLowerCase())).sort((x,f)=>new Date(f.createdAt).getTime()-new Date(x.createdAt).getTime());return h.jsx("div",{className:"fixed inset-0 bg-gray-900/80 backdrop-blur-sm flex items-center justify-center p-4 z-50 transition-opacity duration-300 ease-in-out",onClick:t,role:"dialog","aria-modal":"true","aria-labelledby":"library-modal-title",children:h.jsxs(lt,{className:"w-full max-w-2xl bg-gray-800 shadow-2xl border border-gray-700 max-h-[90vh] flex flex-col",onClick:x=>x.stopPropagation(),children:[h.jsxs("div",{className:"flex justify-between items-center px-6 py-4 border-b border-gray-700",children:[h.jsxs("h2",{id:"library-modal-title",className:"text-2xl font-semibold text-purple-300 flex items-center",children:[h.jsx(Kc,{className:"w-7 h-7 mr-3 text-purple-400"}),"TrackGuide Library"]}),h.jsx(Pe,{onClick:t,variant:"secondary",size:"sm",className:"p-2 -mr-2","aria-label":"Close Library",children:h.jsx(j0,{className:"w-5 h-5"})})]}),h.jsx("div",{className:"px-6 py-4",children:h.jsx(Yt,{type:"search",placeholder:"Search by title or genre...",value:u,onChange:x=>c(x.target.value),className:"mb-4 bg-gray-700 border-gray-600 placeholder-gray-500","aria-label":"Search library"})}),h.jsx("div",{className:"flex-grow overflow-y-auto px-6 pb-6 space-y-3 custom-scrollbar pr-3",children:m.length===0?h.jsx("p",{className:"text-gray-400 text-center py-8",children:u?`No entries found for "${u}".`:"Your library is empty. Create some TrackGuides!"}):m.map(x=>h.jsx("div",{className:"p-4 bg-gray-700/60 rounded-lg hover:bg-gray-600/50 transition-colors shadow-md border border-gray-600/50",children:h.jsxs("div",{className:"flex justify-between items-start",children:[h.jsxs("div",{className:"flex-grow min-w-0",children:[h.jsx("h4",{className:"font-semibold text-purple-300 truncate text-lg",title:x.title,children:x.title}),h.jsx("p",{className:"text-sm text-gray-400 truncate",title:Array.isArray(x.genre)?x.genre.join(", "):x.genre,children:Array.isArray(x.genre)?x.genre.join(", "):x.genre}),h.jsxs("p",{className:"text-xs text-gray-500",children:["Created: ",new Date(x.createdAt).toLocaleDateString(),x.generatedMidiPatterns&&h.jsx(z0,{className:"w-3 h-3 text-green-400 inline-block ml-2",title:"MIDI available"})]})]}),h.jsxs("div",{className:"flex flex-col sm:flex-row space-y-2 sm:space-y-0 sm:space-x-2 items-end shrink-0 ml-3 mt-1 sm:mt-0",children:[h.jsx(Pe,{onClick:()=>n(x),size:"sm",variant:"outline",className:"text-xs px-3 py-1.5 w-full sm:w-auto",leftIcon:h.jsx(Kc,{className:"w-4 h-4"}),children:"Load"}),h.jsx(Pe,{onClick:()=>a(x.id),size:"sm",variant:"danger",className:"text-xs px-3 py-1.5 w-full sm:w-auto",leftIcon:h.jsx(lE,{className:"w-4 h-4"})})]})]})},x.id))}),h.jsx("div",{className:"px-6 py-4 border-t border-gray-700",children:h.jsx(Pe,{onClick:o,variant:"primary",className:"w-full",leftIcon:h.jsx($c,{}),children:"Create New TrackGuide"})})]})})},kE=({isOpen:i,onClose:t,currentGuidebook:n,userInputs:a,isCollapsed:o=!1,onToggle:u})=>{const[c,m]=xe.useState([]),[x,f]=xe.useState(""),[v,b]=xe.useState(!1),C=xe.useRef(null),E=xe.useRef(null),M=xe.useRef(null);xe.useEffect(()=>{i&&c.length===0&&m([{id:"1",role:"assistant",content:`Hi! I'm your AI music production assistant. I can help you:

• Refine your TrackGuide with specific questions
• Suggest improvements to your current project
• Answer production techniques questions
• Help adjust your genre, vibe, or arrangement ideas
• Provide detailed explanations about any aspect of your track

What would you like to work on today?`,timestamp:new Date}])},[i,c.length]);const B=()=>{M.current&&(M.current.scrollTop=M.current.scrollHeight)};xe.useEffect(()=>{B()},[c]),xe.useEffect(()=>{i&&E.current&&setTimeout(()=>{var Y;return(Y=E.current)==null?void 0:Y.focus()},100)},[i]);const P=()=>{m([{id:"1",role:"assistant",content:`Hi! I'm your AI music production assistant. I can help you:

• Refine your TrackGuide with specific questions
• Suggest improvements to your current project
• Answer production techniques questions
• Help adjust your genre, vibe, or arrangement ideas
• Provide detailed explanations about any aspect of your track

What would you like to work on today?`,timestamp:new Date}])},j=async()=>{if(!x.trim()||v)return;const Y={id:Date.now().toString(),role:"user",content:x.trim(),timestamp:new Date};m(Q=>[...Q,Y]),f(""),b(!0);try{const Q={currentGuidebook:(n==null?void 0:n.content)||"",userInputs:a||{},conversationHistory:c.slice(-6)},ne=await ZC(Y.content,Q),K={id:(Date.now()+1).toString(),role:"assistant",content:ne,timestamp:new Date};m(te=>[...te,K])}catch(Q){console.error("AI Assistant Error:",Q);const ne={id:(Date.now()+1).toString(),role:"assistant",content:"Sorry, I encountered an error. Please try again or rephrase your question.",timestamp:new Date};m(K=>[...K,ne])}finally{b(!1)}},Z=Y=>{Y.key==="Enter"&&!Y.shiftKey&&(Y.preventDefault(),j())};return h.jsx("div",{className:"fixed bottom-4 right-4 z-[9999]",children:o?h.jsx("div",{onClick:u,className:"w-14 h-14 bg-blue-500 hover:bg-blue-600 rounded-full shadow-2xl cursor-pointer flex items-center justify-center hover:scale-105 transition-transform duration-200 border-2 border-white/20",children:h.jsx("img",{src:"/production-coach-icon.svg",alt:"Production Coach",className:"w-8 h-8"})}):h.jsx("div",{className:"w-96 h-[600px] max-h-[80vh] max-w-[calc(100vw-2rem)] md:max-w-96",children:h.jsxs("div",{className:"h-full bg-gray-800 shadow-2xl border border-gray-700 rounded-lg flex flex-col overflow-hidden",children:[h.jsxs("div",{className:"p-3 border-b border-gray-700 flex justify-between items-center bg-gradient-to-r from-purple-600 to-blue-600 flex-shrink-0",children:[h.jsxs("div",{className:"flex items-center min-w-0 flex-1",children:[h.jsx(iE,{className:"w-5 h-5 text-white mr-2 flex-shrink-0"}),h.jsx("h2",{className:"text-lg font-bold text-white truncate",children:"Production Coach"})]}),h.jsxs("div",{className:"flex gap-1 flex-shrink-0 ml-2",children:[h.jsx(Pe,{onClick:P,variant:"outline",size:"sm",className:"text-white border-white/30 hover:bg-white/10 hidden sm:inline-flex",children:"Clear"}),h.jsx(Pe,{onClick:u,variant:"outline",size:"sm",className:"text-white border-white/30 hover:bg-white/10 flex-shrink-0",children:h.jsx("span",{className:"text-sm",children:"−"})})]})]}),h.jsxs("div",{ref:M,className:"flex-1 overflow-y-auto p-3 space-y-3 bg-gray-900/50",style:{scrollBehavior:"smooth",overflowAnchor:"auto"},children:[c.map(Y=>h.jsx("div",{className:`flex ${Y.role==="user"?"justify-end":"justify-start"}`,children:h.jsxs("div",{className:`max-w-[85%] p-3 rounded-lg text-sm shadow-lg ${Y.role==="user"?"bg-purple-600 text-white rounded-br-sm":"bg-gray-700 text-gray-100 rounded-bl-sm"}`,children:[h.jsx("div",{className:"whitespace-pre-wrap break-words leading-relaxed",children:Y.content}),h.jsx("div",{className:"text-xs opacity-70 mt-2",children:Y.timestamp.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]})},Y.id)),v&&h.jsx("div",{className:"flex justify-start",children:h.jsx("div",{className:"bg-gray-700 text-gray-100 p-3 rounded-lg text-sm shadow-lg rounded-bl-sm",children:h.jsx(er,{text:"AI is thinking..."})})}),h.jsx("div",{ref:C})]}),h.jsxs("div",{className:"p-3 border-t border-gray-700 bg-gray-800 flex-shrink-0",children:[h.jsxs("div",{className:"flex gap-2 mb-2",children:[h.jsx(Yt,{ref:E,type:"text",placeholder:"Ask about production techniques...",value:x,onChange:Y=>f(Y.target.value),onKeyPress:Z,className:"flex-1 text-sm bg-gray-700 border-gray-600 text-white placeholder-gray-400",disabled:v}),h.jsx(Pe,{onClick:j,disabled:!x.trim()||v,variant:"primary",size:"sm",className:"px-4",children:v?"...":"Send"})]}),h.jsx("div",{className:"text-xs text-gray-400 text-center",children:"Press Enter to send • Clear resets conversation"})]})]})})})},RE=({className:i="w-6 h-6"})=>h.jsx("div",{className:`${i} bg-orange-500 transform rotate-45 flex items-center justify-center`,children:h.jsx("div",{className:"w-1/2 h-1/2 bg-white transform -rotate-45"})}),BE=({onGetStarted:i})=>h.jsxs("div",{className:"min-h-screen bg-[#2B2B2B] relative overflow-hidden",children:[h.jsx("div",{className:"absolute inset-0 opacity-40",children:h.jsx("div",{className:"absolute inset-0",style:{backgroundImage:"radial-gradient(circle at 2px 2px, #FF5722 1px, transparent 0)",backgroundSize:"30px 30px"}})}),h.jsx("div",{className:"absolute top-20 right-10 w-64 h-64 opacity-20",children:h.jsxs("div",{className:"relative w-full h-full",children:[h.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 border-2 border-orange-500 transform rotate-12"}),h.jsx("div",{className:"absolute top-8 right-8 w-32 h-32 bg-orange-500 transform rotate-12"}),h.jsx("div",{className:"absolute top-16 right-16 w-16 h-16 bg-white rounded-full"})]})}),h.jsx("div",{className:"absolute bottom-20 left-10 w-48 h-48 opacity-15",children:h.jsxs("div",{className:"relative w-full h-full",children:[h.jsx("div",{className:"absolute bottom-0 left-0 w-24 h-24 border-2 border-orange-500 transform -rotate-45"}),h.jsx("div",{className:"absolute bottom-4 left-4 w-24 h-24 bg-orange-500 transform -rotate-45"})]})}),h.jsx("nav",{className:"relative z-10 px-6 py-6",children:h.jsxs("div",{className:"max-w-7xl mx-auto flex items-center justify-between",children:[h.jsxs("div",{className:"flex items-center space-x-3",children:[h.jsx("div",{className:"w-8 h-8 bg-orange-500 transform rotate-45 flex items-center justify-center",children:h.jsx("div",{className:"w-4 h-4 bg-white transform -rotate-45"})}),h.jsxs("div",{children:[h.jsx("div",{className:"text-xl font-bold text-white",children:"TrackGuide AI"}),h.jsx("div",{className:"text-xs text-gray-400",children:"Your Smartest Studio Assistant"})]})]}),h.jsx("button",{onClick:i,className:"bg-orange-500 hover:bg-orange-600 text-white px-6 py-3 rounded-lg font-semibold transition-all transform hover:scale-105 shadow-lg",children:"Get Started"})]})}),h.jsx("section",{className:"relative px-6 py-16",children:h.jsxs("div",{className:"max-w-7xl mx-auto",children:[h.jsxs("div",{className:"grid lg:grid-cols-2 gap-12 items-center",children:[h.jsxs("div",{className:"space-y-8",children:[h.jsxs("h1",{className:"text-6xl md:text-7xl lg:text-8xl font-bold text-white leading-tight",children:[h.jsx("span",{className:"text-orange-500",children:"AI Studio Assistant:"}),h.jsx("span",{className:"block text-white mt-2 text-4xl md:text-5xl lg:text-6xl",children:"A Complement to Creativity,"}),h.jsx("span",{className:"block text-white mt-2 text-4xl md:text-5xl lg:text-6xl",children:"Not a Substitute."})]}),h.jsxs("p",{className:"text-xl text-gray-300 max-w-2xl leading-relaxed",children:["Empowering modern producers with ",h.jsx("span",{className:"text-orange-500 font-semibold",children:"structure"}),", ",h.jsx("span",{className:"text-orange-500 font-semibold",children:"speed"}),", and ",h.jsx("span",{className:"text-orange-500 font-semibold",children:"support"})," in their creative workflow."]})]}),h.jsxs("div",{className:"relative h-96 lg:h-[500px]",children:[h.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:h.jsx("div",{className:"w-80 h-80 bg-gradient-to-br from-gray-300 to-gray-500 rounded-full opacity-80"})}),h.jsxs("div",{className:"absolute top-0 right-0 w-32 h-32",children:[h.jsx("div",{className:"w-full h-full border-2 border-orange-500 transform rotate-12"}),h.jsx("div",{className:"absolute top-2 right-2 w-28 h-28 bg-orange-500 transform rotate-12"})]}),h.jsxs("div",{className:"absolute bottom-0 right-8 w-24 h-24",children:[h.jsx("div",{className:"w-full h-full border-2 border-orange-500"}),h.jsx("div",{className:"absolute top-2 left-2 w-20 h-20 bg-orange-500"})]}),h.jsx("div",{className:"absolute top-1/2 right-0 w-16 h-16 bg-orange-500 rounded-full transform translate-x-8"})]})]}),h.jsx("div",{className:"flex flex-col sm:flex-row gap-6 mt-12 lg:justify-start",children:h.jsxs("button",{onClick:i,className:"bg-orange-500 hover:bg-orange-600 text-white px-12 py-5 rounded-xl font-bold text-xl transition-all transform hover:scale-105 flex items-center justify-center space-x-4 shadow-2xl border-2 border-orange-400",children:[h.jsx(RE,{className:"h-8 w-8"}),h.jsx("span",{children:"Start Creating Now"})]})})]})}),h.jsx("section",{className:"relative px-6 py-20",children:h.jsxs("div",{className:"max-w-7xl mx-auto",children:[h.jsxs("div",{className:"text-center mb-16",children:[h.jsx("h2",{className:"text-4xl md:text-5xl font-bold text-white mb-6",children:"How TrackGuide Works"}),h.jsx("p",{className:"text-xl text-gray-300 max-w-3xl mx-auto",children:"From concept to creation in three simple steps"})]}),h.jsxs("div",{className:"grid md:grid-cols-3 gap-8",children:[h.jsxs("div",{className:"text-center space-y-6",children:[h.jsx("div",{className:"w-20 h-20 bg-orange-500 rounded-full flex items-center justify-center mx-auto",children:h.jsx("span",{className:"text-2xl font-bold text-white",children:"1"})}),h.jsx("h3",{className:"text-2xl font-bold text-white",children:"Describe Your Vision"}),h.jsx("p",{className:"text-gray-300",children:"Tell us your genre, vibe, and creative goals. Our AI understands your artistic intent."})]}),h.jsxs("div",{className:"text-center space-y-6",children:[h.jsx("div",{className:"w-20 h-20 bg-orange-500 rounded-full flex items-center justify-center mx-auto",children:h.jsx("span",{className:"text-2xl font-bold text-white",children:"2"})}),h.jsx("h3",{className:"text-2xl font-bold text-white",children:"Get Your Blueprint"}),h.jsx("p",{className:"text-gray-300",children:"Receive a detailed production guide with arrangement tips, sound design, and MIDI foundations."})]}),h.jsxs("div",{className:"text-center space-y-6",children:[h.jsx("div",{className:"w-20 h-20 bg-orange-500 rounded-full flex items-center justify-center mx-auto",children:h.jsx("span",{className:"text-2xl font-bold text-white",children:"3"})}),h.jsx("h3",{className:"text-2xl font-bold text-white",children:"Create & Refine"}),h.jsx("p",{className:"text-gray-300",children:"Use our tools to generate MIDI, get mix feedback, and bring your vision to life."})]})]})]})}),h.jsx("section",{className:"relative px-6 py-20 bg-black/10",children:h.jsxs("div",{className:"max-w-7xl mx-auto",children:[h.jsxs("div",{className:"text-center mb-16",children:[h.jsx("h2",{className:"text-4xl md:text-5xl font-bold text-white mb-6",children:"Complete Production Toolkit"}),h.jsx("p",{className:"text-xl text-gray-300 max-w-3xl mx-auto",children:"Every tool you need to take your music from idea to finished track"})]}),h.jsxs("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-8",children:[h.jsxs("div",{className:"bg-gray-800/50 rounded-xl p-6 border border-orange-500/20 hover:border-orange-500/40 transition-all",children:[h.jsx("div",{className:"w-12 h-12 bg-orange-500 rounded-lg flex items-center justify-center mb-4",children:h.jsx("span",{className:"text-white font-bold",children:"AI"})}),h.jsx("h3",{className:"text-xl font-bold text-white mb-3",children:"TrackGuide AI"}),h.jsx("p",{className:"text-gray-300",children:"Generate comprehensive, custom how-to guides based on your genre, vibe, and reference artists."})]}),h.jsxs("div",{className:"bg-gray-800/50 rounded-xl p-6 border border-orange-500/20 hover:border-orange-500/40 transition-all",children:[h.jsx("div",{className:"w-12 h-12 bg-orange-500 rounded-lg flex items-center justify-center mb-4",children:h.jsx("span",{className:"text-white font-bold",children:"♪"})}),h.jsx("h3",{className:"text-xl font-bold text-white mb-3",children:"Integrated MIDI Generator"}),h.jsx("p",{className:"text-gray-300",children:"Create intelligent chord progressions, basslines, melodies, and drum patterns that match your track's context."})]}),h.jsxs("div",{className:"bg-gray-800/50 rounded-xl p-6 border border-orange-500/20 hover:border-orange-500/40 transition-all",children:[h.jsx("div",{className:"w-12 h-12 bg-orange-500 rounded-lg flex items-center justify-center mb-4",children:h.jsx("span",{className:"text-white font-bold",children:"🎚"})}),h.jsx("h3",{className:"text-xl font-bold text-white mb-3",children:"Mix Feedback"}),h.jsx("p",{className:"text-gray-300",children:"Upload tracks for AI-powered analysis and detailed mixing recommendations."})]}),h.jsxs("div",{className:"bg-gray-800/50 rounded-xl p-6 border border-orange-500/20 hover:border-orange-500/40 transition-all",children:[h.jsx("div",{className:"w-12 h-12 bg-orange-500 rounded-lg flex items-center justify-center mb-4",children:h.jsx("span",{className:"text-white font-bold",children:"⚖"})}),h.jsx("h3",{className:"text-xl font-bold text-white mb-3",children:"Mix Compare"}),h.jsx("p",{className:"text-gray-300",children:"Upload multiple tracks for AI-powered analysis that compares different versions side-by-side."})]}),h.jsxs("div",{className:"bg-gray-800/50 rounded-xl p-6 border border-orange-500/20 hover:border-orange-500/40 transition-all",children:[h.jsx("div",{className:"w-12 h-12 bg-orange-500 rounded-lg flex items-center justify-center mb-4",children:h.jsx("span",{className:"text-white font-bold",children:"💬"})}),h.jsx("h3",{className:"text-xl font-bold text-white mb-3",children:"Live Production Coach"}),h.jsx("p",{className:"text-gray-300",children:"Interactive chatbot providing real-time production advice and guidance."})]}),h.jsxs("div",{className:"bg-gray-800/50 rounded-xl p-6 border border-orange-500/20 hover:border-orange-500/40 transition-all",children:[h.jsx("div",{className:"w-12 h-12 bg-orange-500 rounded-lg flex items-center justify-center mb-4",children:h.jsx("span",{className:"text-white font-bold",children:"📊"})}),h.jsx("h3",{className:"text-xl font-bold text-white mb-3",children:"EQ Cheat Sheet"}),h.jsx("p",{className:"text-gray-300",children:"Quick reference guide for EQ frequencies and their effects on different instruments."})]})]})]})}),h.jsx("section",{className:"relative px-6 py-20 bg-black/20",children:h.jsxs("div",{className:"max-w-7xl mx-auto text-center",children:[h.jsx("h2",{className:"text-4xl md:text-5xl font-bold text-white mb-6",children:"Ready to Transform Your Music Production?"}),h.jsx("p",{className:"text-xl text-gray-300 mb-12 max-w-2xl mx-auto",children:"From initial inspiration to final mix, TrackGuide provides intelligent assistance at every stage of your music production journey."}),h.jsxs("div",{className:"bg-gray-800/50 rounded-2xl p-8 max-w-md mx-auto border border-orange-500/20",children:[h.jsx("h3",{className:"text-2xl font-bold text-white mb-4",children:"Free to Start"}),h.jsx("p",{className:"text-gray-300 mb-6",children:"Get started with TrackGuide AI at no cost. Upgrade when you're ready for more."}),h.jsx("button",{onClick:i,className:"w-full bg-orange-500 hover:bg-orange-600 text-white px-8 py-4 rounded-lg font-bold text-lg transition-all transform hover:scale-105 shadow-xl",children:"Start Creating Free"}),h.jsx("p",{className:"text-gray-500 text-sm mt-4",children:"No credit card required"})]})]})}),h.jsx("section",{className:"px-6 py-16 bg-black/20",children:h.jsxs("div",{className:"max-w-7xl mx-auto text-center",children:[h.jsx("div",{className:"w-32 h-1 bg-orange-500 mx-auto mb-8"}),h.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-white mb-4",children:"The Investment Opportunity"}),h.jsx("p",{className:"text-xl text-gray-300",children:"Transforming the $43B music production industry"})]})}),h.jsx("section",{className:"relative px-6 py-20 bg-black/20",children:h.jsx("div",{className:"max-w-7xl mx-auto",children:h.jsxs("div",{className:"grid lg:grid-cols-2 gap-12 items-center",children:[h.jsxs("div",{className:"space-y-8",children:[h.jsxs("h2",{className:"text-4xl md:text-5xl font-bold text-white leading-tight",children:["Too Many Tools:",h.jsx("span",{className:"block text-orange-500",children:"Not Enough Direction"})]}),h.jsxs("p",{className:"text-xl text-gray-300 leading-relaxed",children:["As the modern production landscape fragments into countless tools and tutorials, producers struggle to maintain ",h.jsx("strong",{children:"focus"})," and build ",h.jsx("strong",{children:"real skills"}),"."]}),h.jsxs("div",{className:"grid gap-6",children:[h.jsx("div",{className:"border-l-4 border-orange-500 pl-6",children:h.jsxs("p",{className:"text-gray-300",children:[h.jsx("strong",{children:"Without a clear structure"}),", many producers struggle to turn inspiration into finished tracks."]})}),h.jsx("div",{className:"border-l-4 border-orange-500 pl-6",children:h.jsxs("p",{className:"text-gray-300",children:[h.jsx("strong",{children:"  Clickbait tutorials lack context, feedback, and depth"}),"—offering tips without teaching transferable skills."]})}),h.jsx("div",{className:"border-l-4 border-orange-500 pl-6",children:h.jsxs("p",{className:"text-gray-300",children:[h.jsx("strong",{children:"  A constant stream of flashy tools"})," distracts from understanding core production fundamentals."]})})]})]}),h.jsxs("div",{className:"relative h-96",children:[h.jsxs("div",{className:"absolute top-0 right-0 w-48 h-48",children:[h.jsx("div",{className:"w-full h-full border-2 border-orange-500 transform rotate-45"}),h.jsx("div",{className:"absolute top-4 right-4 w-40 h-40 bg-orange-500 transform rotate-45"})]}),h.jsxs("div",{className:"absolute bottom-0 left-0 w-32 h-32",children:[h.jsx("div",{className:"w-full h-full border-2 border-orange-500"}),h.jsx("div",{className:"absolute top-2 left-2 w-28 h-28 bg-orange-500"})]})]})]})})}),h.jsxs("section",{className:"px-6 py-20 bg-black",children:[h.jsx("div",{className:"block lg:hidden space-y-12",children:h.jsxs("div",{className:"space-y-8",children:[h.jsxs("h2",{className:"text-4xl md:text-5xl font-bold text-white leading-tight",children:["Navigating the",h.jsx("span",{className:"block text-orange-500",children:"AI Challenge"})]}),h.jsx("p",{className:"text-xl text-gray-300 leading-relaxed",children:"Empowering the artist vs. replacing the craft"}),h.jsxs("div",{className:"grid gap-6",children:[h.jsxs("div",{className:"border-l-4 border-orange-500 pl-6",children:[h.jsx("h3",{className:"text-lg font-bold text-white mb-2",children:"One-click generation’s lure"}),h.jsx("p",{className:"text-gray-400",children:"threatens to bypass traditional songwriting and production craftsmanship."})]}),h.jsxs("div",{className:"border-l-4 border-orange-500 pl-6",children:[h.jsx("h3",{className:"text-lg font-bold text-white mb-2",children:"Training on old hits risks"}),h.jsx("p",{className:"text-gray-400",children:"reinforcing trends rather than innovating new sonic directions."})]}),h.jsxs("div",{className:"border-l-4 border-orange-500 pl-6",children:[h.jsx("h3",{className:"text-lg font-bold text-white mb-2",children:"Ethical & legal questions"}),h.jsx("p",{className:"text-gray-400",children:"around authorship, royalties, and intellectual property multiply."})]})]})]})}),h.jsxs("div",{className:"hidden lg:grid max-w-7xl mx-auto grid-cols-2 gap-12 items-center pt-16",children:[h.jsx("div",{className:"relative h-80",children:h.jsxs("div",{className:"absolute top-0 left-0 w-40 h-40",children:[h.jsx("div",{className:"w-full h-full border-2 border-orange-500 transform rotate-45"}),h.jsx("div",{className:"absolute top-4 left-4 w-32 h-32 bg-orange-500 transform rotate-45"})]})}),h.jsxs("div",{className:"space-y-8",children:[h.jsxs("h2",{className:"text-5xl font-bold text-white leading-tight",children:["Navigating the ",h.jsx("span",{className:"text-orange-500 block",children:"AI Challenge"})]}),h.jsx("p",{className:"text-xl text-gray-300 leading-relaxed",children:"Empowering the artist vs. replacing the craft"}),h.jsxs("div",{className:"grid gap-6",children:[h.jsxs("div",{className:"border-l-4 border-orange-500 pl-6",children:[h.jsx("h3",{className:"text-lg font-bold text-white mb-2",children:"One-click generation’s lure"}),h.jsx("p",{className:"text-gray-400",children:"threatens to bypass traditional songwriting and production craftsmanship."})]}),h.jsxs("div",{className:"border-l-4 border-orange-500 pl-6",children:[h.jsx("h3",{className:"text-lg font-bold text-white mb-2",children:"Training on old hits risks"}),h.jsx("p",{className:"text-gray-400",children:"reinforcing trends rather than innovating new sonic directions."})]}),h.jsxs("div",{className:"border-l-4 border-orange-500 pl-6",children:[h.jsx("h3",{className:"text-lg font-bold text-white mb-2",children:"Ethical & legal questions"}),h.jsx("p",{className:"text-gray-400",children:"around authorship, royalties, and intellectual property multiply."})]})]})]})]})]}),h.jsxs("section",{className:"relative px-6 py-20 bg-black/20",children:[h.jsxs("div",{className:"block lg:hidden space-y-12",children:[h.jsxs("div",{className:"space-y-8 text-center",children:[h.jsxs("h2",{className:"text-4xl md:text-5xl font-bold text-white leading-tight",children:["Scalable ",h.jsx("span",{className:"block text-orange-500",children:"Business Model"})]}),h.jsx("p",{className:"text-xl text-gray-300 leading-relaxed max-w-2xl mx-auto",children:"Serving creators of all kinds — from indie artists to institutions — with high-margin, modular tools."})]}),h.jsxs("div",{className:"grid gap-8",children:[h.jsxs("div",{className:"bg-gray-800/30 rounded-lg p-6 border border-orange-500/10",children:[h.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"Producers & Indie Artists"}),h.jsx("p",{className:"text-gray-300",children:"Flexible pricing tiers to empower individual workflows and creativity."})]}),h.jsxs("div",{className:"bg-gray-800/30 rounded-lg p-6 border border-orange-500/10",children:[h.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"Educational Institutions"}),h.jsx("p",{className:"text-gray-300",children:"Licensing packages built for music schools, colleges, and training programs."})]}),h.jsxs("div",{className:"bg-gray-800/30 rounded-lg p-6 border border-orange-500/10",children:[h.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"Enterprise Clients"}),h.jsx("p",{className:"text-gray-300",children:"Custom solutions for labels, production teams, and enterprise use cases."})]})]}),h.jsxs("div",{className:"grid gap-8",children:[h.jsxs("div",{className:"bg-gray-800/30 rounded-lg p-6 border border-orange-500/20",children:[h.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"SaaS Subscriptions"}),h.jsx("p",{className:"text-gray-300 mb-2",children:"Premium features, AI workflows, and unlimited generations."}),h.jsx("div",{className:"text-orange-500 font-semibold text-base",children:"85% Gross Margin"})]}),h.jsxs("div",{className:"bg-gray-800/30 rounded-lg p-6 border border-orange-500/20",children:[h.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"Community Marketplace"}),h.jsx("p",{className:"text-gray-300 mb-2",children:"Commissions from samples, templates, and sound packs by creators."}),h.jsx("div",{className:"text-orange-500 font-semibold text-base",children:"30% Commission"})]}),h.jsxs("div",{className:"bg-gray-800/30 rounded-lg p-6 border border-orange-500/20",children:[h.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"Enterprise Licensing"}),h.jsx("p",{className:"text-gray-300 mb-2",children:"Annual contracts for studios, labels, and academic partners."}),h.jsx("div",{className:"text-orange-500 font-semibold text-base",children:"$50K+ ARR"})]})]})]}),h.jsxs("div",{className:"hidden lg:grid max-w-7xl mx-auto gap-24",children:[h.jsxs("div",{className:"flex justify-between items-start",children:[h.jsxs("div",{children:[h.jsxs("h2",{className:"text-5xl font-bold text-white mb-4",children:["Scalable ",h.jsx("span",{className:"text-orange-500",children:"Business Model"})]}),h.jsx("p",{className:"text-xl text-gray-300 max-w-2xl",children:"Serving creators of all kinds — from indie artists to institutions — with high-margin, modular tools."})]}),h.jsxs("div",{className:"relative w-24 h-24",children:[h.jsx("div",{className:"absolute inset-0 border-2 border-orange-500 transform rotate-45"}),h.jsx("div",{className:"absolute top-2 left-2 w-20 h-20",children:h.jsx("div",{className:"w-full h-full bg-orange-500 rounded-full"})})]})]}),h.jsxs("div",{className:"grid grid-cols-3 gap-8",children:[h.jsxs("div",{className:"bg-gray-800/30 rounded-lg p-8 border border-orange-500/10 space-y-2",children:[h.jsx("h3",{className:"text-2xl font-bold text-white",children:"Producers & Indie Artists"}),h.jsx("p",{className:"text-gray-300",children:"Flexible pricing tiers to empower individual workflows and creativity."})]}),h.jsxs("div",{className:"bg-gray-800/30 rounded-lg p-8 border border-orange-500/10 space-y-2",children:[h.jsx("h3",{className:"text-2xl font-bold text-white",children:"Educational Institutions"}),h.jsx("p",{className:"text-gray-300",children:"Licensing packages built for music schools, colleges, and training programs."})]}),h.jsxs("div",{className:"bg-gray-800/30 rounded-lg p-8 border border-orange-500/10 space-y-2",children:[h.jsx("h3",{className:"text-2xl font-bold text-white",children:"Enterprise Clients"}),h.jsx("p",{className:"text-gray-300",children:"Custom solutions for labels, production teams, and enterprise use cases."})]})]}),h.jsxs("div",{className:"grid grid-cols-3 gap-8",children:[h.jsxs("div",{className:"bg-gray-800/30 rounded-lg p-8 border border-orange-500/20 space-y-4",children:[h.jsx("h3",{className:"text-2xl font-bold text-white",children:"SaaS Subscriptions"}),h.jsx("p",{className:"text-gray-300",children:"Premium features, AI workflows, and unlimited generations."}),h.jsx("div",{className:"text-orange-500 font-semibold text-lg",children:"85% Gross Margin"})]}),h.jsxs("div",{className:"bg-gray-800/30 rounded-lg p-8 border border-orange-500/20 space-y-4",children:[h.jsx("h3",{className:"text-2xl font-bold text-white",children:"Community Marketplace"}),h.jsx("p",{className:"text-gray-300",children:"Commissions from samples, templates, and sound packs by creators."}),h.jsx("div",{className:"text-orange-500 font-semibold text-lg",children:"30% Commission"})]}),h.jsxs("div",{className:"bg-gray-800/30 rounded-lg p-8 border border-orange-500/20 space-y-4",children:[h.jsx("h3",{className:"text-2xl font-bold text-white",children:"Enterprise Licensing"}),h.jsx("p",{className:"text-gray-300",children:"Annual contracts for studios, labels, and academic partners."}),h.jsx("div",{className:"text-orange-500 font-semibold text-lg",children:"$50K+ ARR"})]})]})]})]}),h.jsx("section",{className:"px-6 py-20 bg-black",children:h.jsxs("div",{className:"max-w-5xl mx-auto",children:[h.jsxs("div",{className:"text-center mb-12",children:[h.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-white mb-6",children:"Investment Levels"}),h.jsx("p",{className:"text-lg text-gray-300 max-w-2xl mx-auto",children:"We're raising capital to finalize our MVP, build out our go-to-market strategy, and scale our team."})]}),h.jsxs("div",{className:"grid md:grid-cols-4 gap-6",children:[h.jsxs("div",{className:"bg-black/80 rounded-lg p-6 border border-orange-500/30 shadow-md",children:[h.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"Seed Loop"}),h.jsx("p",{className:"text-gray-300 text-sm mb-2",children:"$10K–$25K"}),h.jsx("p",{className:"text-gray-400 text-sm mb-2",children:"Product polish, UI/UX refinement, performance tuning."}),h.jsx("p",{className:"text-orange-400 text-sm",children:"Return: SAFE note @ $5M cap + quarterly updates"})]}),h.jsxs("div",{className:"bg-black/80 rounded-lg p-6 border border-orange-500/30 shadow-md",children:[h.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"Creator Tier"}),h.jsx("p",{className:"text-gray-300 text-sm mb-2",children:"$25K–$50K"}),h.jsx("p",{className:"text-gray-400 text-sm mb-2",children:"Monetization rollout, user acquisition, referral systems."}),h.jsx("p",{className:"text-orange-400 text-sm",children:"Return: SAFE + 1% revenue share pilot + feedback seat"})]}),h.jsxs("div",{className:"bg-black/80 rounded-lg p-6 border border-orange-500/30 shadow-md",children:[h.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"Full Stack"}),h.jsx("p",{className:"text-gray-300 text-sm mb-2",children:"$50K–$75K"}),h.jsx("p",{className:"text-gray-400 text-sm mb-2",children:"Strategic hires (PMM/dev), professional business consulting."}),h.jsx("p",{className:"text-orange-400 text-sm",children:"Return: SAFE + advisory board access + product roadmap input"})]}),h.jsxs("div",{className:"bg-black/80 rounded-lg p-6 border border-orange-500/30 shadow-md",children:[h.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"Vision Tier"}),h.jsx("p",{className:"text-gray-300 text-sm mb-2",children:"$150K+"}),h.jsx("p",{className:"text-gray-400 text-sm mb-2",children:"Full-scale GTM campaign, AI model tuning, global launch."}),h.jsx("p",{className:"text-orange-400 text-sm",children:"Return: Discounted SAFE cap, 2% revenue share pilot, strategic board seat"})]})]})]})}),h.jsx("section",{className:"px-6 py-20 bg-black/30",children:h.jsxs("div",{className:"max-w-4xl mx-auto text-center",children:[h.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-white mb-6",children:"Interested in Investing?"}),h.jsx("p",{className:"text-xl text-gray-300 mb-8 max-w-2xl mx-auto",children:"TrackGuide is revolutionizing music production with AI-powered assistance. Join us in empowering the next generation of creators."}),h.jsx("a",{href:"mailto:dustinspaceproductions@gmail.com?subject=Investment Inquiry - TrackGuide AI",className:"bg-orange-500 hover:bg-orange-600 text-white px-8 py-3 rounded-lg font-bold text-lg transition-all transform hover:scale-105 inline-flex items-center space-x-2 shadow-xl",children:h.jsx("span",{children:"Contact for Investment Opportunities"})}),h.jsx("p",{className:"text-gray-500 mt-4",children:"dustinspaceproductions@gmail.com"})]})}),h.jsx("footer",{className:"px-6 py-12 border-t border-orange-500/20 bg-black/20",children:h.jsx("div",{className:"max-w-7xl mx-auto",children:h.jsxs("div",{className:"flex flex-col md:flex-row items-center justify-between",children:[h.jsxs("div",{className:"flex items-center space-x-3 mb-4 md:mb-0",children:[h.jsx("div",{className:"w-6 h-6 bg-orange-500 transform rotate-45 flex items-center justify-center",children:h.jsx("div",{className:"w-3 h-3 bg-white transform -rotate-45"})}),h.jsxs("div",{children:[h.jsx("div",{className:"text-lg font-bold text-white",children:"TrackGuide AI"}),h.jsx("div",{className:"text-xs text-gray-400",children:"Your Smartest Studio Assistant"})]})]}),h.jsx("div",{className:"text-gray-400 text-center md:text-right",children:h.jsx("p",{children:"© 2025 TrackGuide. Empowering music creators worldwide."})})]})})})]});function LE(i,t){const n={};return(i[i.length-1]===""?[...i,""]:i).join((n.padRight?" ":"")+","+(n.padLeft===!1?"":" ")).trim()}const UE=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,zE=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,jE={};function _p(i,t){return(jE.jsx?zE:UE).test(i)}const OE=/[ \t\n\f\r]/g;function PE(i){return typeof i=="object"?i.type==="text"?Dp(i.value):!1:Dp(i)}function Dp(i){return i.replace(OE,"")===""}class ma{constructor(t,n,a){this.normal=n,this.property=t,a&&(this.space=a)}}ma.prototype.normal={};ma.prototype.property={};ma.prototype.space=void 0;function q0(i,t){const n={},a={};for(const o of i)Object.assign(n,o.property),Object.assign(a,o.normal);return new ma(n,a,t)}function Qc(i){return i.toLowerCase()}class Xt{constructor(t,n){this.attribute=n,this.property=t}}Xt.prototype.attribute="";Xt.prototype.booleanish=!1;Xt.prototype.boolean=!1;Xt.prototype.commaOrSpaceSeparated=!1;Xt.prototype.commaSeparated=!1;Xt.prototype.defined=!1;Xt.prototype.mustUseProperty=!1;Xt.prototype.number=!1;Xt.prototype.overloadedBoolean=!1;Xt.prototype.property="";Xt.prototype.spaceSeparated=!1;Xt.prototype.space=void 0;let VE=0;const Re=tr(),Tt=tr(),Zc=tr(),le=tr(),rt=tr(),qr=tr(),ln=tr();function tr(){return 2**++VE}const Wc=Object.freeze(Object.defineProperty({__proto__:null,boolean:Re,booleanish:Tt,commaOrSpaceSeparated:ln,commaSeparated:qr,number:le,overloadedBoolean:Zc,spaceSeparated:rt},Symbol.toStringTag,{value:"Module"})),wc=Object.keys(Wc);class dd extends Xt{constructor(t,n,a,o){let u=-1;if(super(t,n),Ip(this,"space",o),typeof a=="number")for(;++u<wc.length;){const c=wc[u];Ip(this,wc[u],(a&Wc[c])===Wc[c])}}}dd.prototype.defined=!0;function Ip(i,t,n){n&&(i[t]=n)}function $r(i){const t={},n={};for(const[a,o]of Object.entries(i.properties)){const u=new dd(a,i.transform(i.attributes||{},a),o,i.space);i.mustUseProperty&&i.mustUseProperty.includes(a)&&(u.mustUseProperty=!0),t[a]=u,n[Qc(a)]=a,n[Qc(u.attribute)]=a}return new ma(t,n,i.space)}const G0=$r({properties:{ariaActiveDescendant:null,ariaAtomic:Tt,ariaAutoComplete:null,ariaBusy:Tt,ariaChecked:Tt,ariaColCount:le,ariaColIndex:le,ariaColSpan:le,ariaControls:rt,ariaCurrent:null,ariaDescribedBy:rt,ariaDetails:null,ariaDisabled:Tt,ariaDropEffect:rt,ariaErrorMessage:null,ariaExpanded:Tt,ariaFlowTo:rt,ariaGrabbed:Tt,ariaHasPopup:null,ariaHidden:Tt,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:rt,ariaLevel:le,ariaLive:null,ariaModal:Tt,ariaMultiLine:Tt,ariaMultiSelectable:Tt,ariaOrientation:null,ariaOwns:rt,ariaPlaceholder:null,ariaPosInSet:le,ariaPressed:Tt,ariaReadOnly:Tt,ariaRelevant:null,ariaRequired:Tt,ariaRoleDescription:rt,ariaRowCount:le,ariaRowIndex:le,ariaRowSpan:le,ariaSelected:Tt,ariaSetSize:le,ariaSort:null,ariaValueMax:le,ariaValueMin:le,ariaValueNow:le,ariaValueText:null,role:null},transform(i,t){return t==="role"?t:"aria-"+t.slice(4).toLowerCase()}});function F0(i,t){return t in i?i[t]:t}function Y0(i,t){return F0(i,t.toLowerCase())}const HE=$r({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:qr,acceptCharset:rt,accessKey:rt,action:null,allow:null,allowFullScreen:Re,allowPaymentRequest:Re,allowUserMedia:Re,alt:null,as:null,async:Re,autoCapitalize:null,autoComplete:rt,autoFocus:Re,autoPlay:Re,blocking:rt,capture:null,charSet:null,checked:Re,cite:null,className:rt,cols:le,colSpan:null,content:null,contentEditable:Tt,controls:Re,controlsList:rt,coords:le|qr,crossOrigin:null,data:null,dateTime:null,decoding:null,default:Re,defer:Re,dir:null,dirName:null,disabled:Re,download:Zc,draggable:Tt,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:Re,formTarget:null,headers:rt,height:le,hidden:Zc,high:le,href:null,hrefLang:null,htmlFor:rt,httpEquiv:rt,id:null,imageSizes:null,imageSrcSet:null,inert:Re,inputMode:null,integrity:null,is:null,isMap:Re,itemId:null,itemProp:rt,itemRef:rt,itemScope:Re,itemType:rt,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:Re,low:le,manifest:null,max:null,maxLength:le,media:null,method:null,min:null,minLength:le,multiple:Re,muted:Re,name:null,nonce:null,noModule:Re,noValidate:Re,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:Re,optimum:le,pattern:null,ping:rt,placeholder:null,playsInline:Re,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:Re,referrerPolicy:null,rel:rt,required:Re,reversed:Re,rows:le,rowSpan:le,sandbox:rt,scope:null,scoped:Re,seamless:Re,selected:Re,shadowRootClonable:Re,shadowRootDelegatesFocus:Re,shadowRootMode:null,shape:null,size:le,sizes:null,slot:null,span:le,spellCheck:Tt,src:null,srcDoc:null,srcLang:null,srcSet:null,start:le,step:null,style:null,tabIndex:le,target:null,title:null,translate:null,type:null,typeMustMatch:Re,useMap:null,value:Tt,width:le,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:rt,axis:null,background:null,bgColor:null,border:le,borderColor:null,bottomMargin:le,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:Re,declare:Re,event:null,face:null,frame:null,frameBorder:null,hSpace:le,leftMargin:le,link:null,longDesc:null,lowSrc:null,marginHeight:le,marginWidth:le,noResize:Re,noHref:Re,noShade:Re,noWrap:Re,object:null,profile:null,prompt:null,rev:null,rightMargin:le,rules:null,scheme:null,scrolling:Tt,standby:null,summary:null,text:null,topMargin:le,valueType:null,version:null,vAlign:null,vLink:null,vSpace:le,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:Re,disableRemotePlayback:Re,prefix:null,property:null,results:le,security:null,unselectable:null},space:"html",transform:Y0}),qE=$r({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:ln,accentHeight:le,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:le,amplitude:le,arabicForm:null,ascent:le,attributeName:null,attributeType:null,azimuth:le,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:le,by:null,calcMode:null,capHeight:le,className:rt,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:le,diffuseConstant:le,direction:null,display:null,dur:null,divisor:le,dominantBaseline:null,download:Re,dx:null,dy:null,edgeMode:null,editable:null,elevation:le,enableBackground:null,end:null,event:null,exponent:le,externalResourcesRequired:null,fill:null,fillOpacity:le,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:qr,g2:qr,glyphName:qr,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:le,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:le,horizOriginX:le,horizOriginY:le,id:null,ideographic:le,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:le,k:le,k1:le,k2:le,k3:le,k4:le,kernelMatrix:ln,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:le,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:le,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:le,overlineThickness:le,paintOrder:null,panose1:null,path:null,pathLength:le,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:rt,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:le,pointsAtY:le,pointsAtZ:le,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:ln,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:ln,rev:ln,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:ln,requiredFeatures:ln,requiredFonts:ln,requiredFormats:ln,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:le,specularExponent:le,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:le,strikethroughThickness:le,string:null,stroke:null,strokeDashArray:ln,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:le,strokeOpacity:le,strokeWidth:null,style:null,surfaceScale:le,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:ln,tabIndex:le,tableValues:null,target:null,targetX:le,targetY:le,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:ln,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:le,underlineThickness:le,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:le,values:null,vAlphabetic:le,vMathematical:le,vectorEffect:null,vHanging:le,vIdeographic:le,version:null,vertAdvY:le,vertOriginX:le,vertOriginY:le,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:le,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:F0}),K0=$r({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform(i,t){return"xlink:"+t.slice(5).toLowerCase()}}),$0=$r({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:Y0}),X0=$r({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform(i,t){return"xml:"+t.slice(3).toLowerCase()}}),GE={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},FE=/[A-Z]/g,kp=/-[a-z]/g,YE=/^data[-\w.:]+$/i;function KE(i,t){const n=Qc(t);let a=t,o=Xt;if(n in i.normal)return i.property[i.normal[n]];if(n.length>4&&n.slice(0,4)==="data"&&YE.test(t)){if(t.charAt(4)==="-"){const u=t.slice(5).replace(kp,XE);a="data"+u.charAt(0).toUpperCase()+u.slice(1)}else{const u=t.slice(4);if(!kp.test(u)){let c=u.replace(FE,$E);c.charAt(0)!=="-"&&(c="-"+c),t="data"+c}}o=dd}return new o(a,t)}function $E(i){return"-"+i.toLowerCase()}function XE(i){return i.charAt(1).toUpperCase()}const JE=q0([G0,HE,K0,$0,X0],"html"),fd=q0([G0,qE,K0,$0,X0],"svg");function QE(i){return i.join(" ").trim()}var Pr={},Ac,Rp;function ZE(){if(Rp)return Ac;Rp=1;var i=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,t=/\n/g,n=/^\s*/,a=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,o=/^:\s*/,u=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,c=/^[;\s]*/,m=/^\s+|\s+$/g,x=`
`,f="/",v="*",b="",C="comment",E="declaration";Ac=function(B,P){if(typeof B!="string")throw new TypeError("First argument must be a string");if(!B)return[];P=P||{};var j=1,Z=1;function Y(fe){var re=fe.match(t);re&&(j+=re.length);var de=fe.lastIndexOf(x);Z=~de?fe.length-de:Z+fe.length}function Q(){var fe={line:j,column:Z};return function(re){return re.position=new ne(fe),me(),re}}function ne(fe){this.start=fe,this.end={line:j,column:Z},this.source=P.source}ne.prototype.content=B;function K(fe){var re=new Error(P.source+":"+j+":"+Z+": "+fe);if(re.reason=fe,re.filename=P.source,re.line=j,re.column=Z,re.source=B,!P.silent)throw re}function te(fe){var re=fe.exec(B);if(re){var de=re[0];return Y(de),B=B.slice(de.length),re}}function me(){te(n)}function ge(fe){var re;for(fe=fe||[];re=he();)re!==!1&&fe.push(re);return fe}function he(){var fe=Q();if(!(f!=B.charAt(0)||v!=B.charAt(1))){for(var re=2;b!=B.charAt(re)&&(v!=B.charAt(re)||f!=B.charAt(re+1));)++re;if(re+=2,b===B.charAt(re-1))return K("End of comment missing");var de=B.slice(2,re-2);return Z+=2,Y(de),B=B.slice(re),Z+=2,fe({type:C,comment:de})}}function oe(){var fe=Q(),re=te(a);if(re){if(he(),!te(o))return K("property missing ':'");var de=te(u),H=fe({type:E,property:M(re[0].replace(i,b)),value:de?M(de[0].replace(i,b)):b});return te(c),H}}function ce(){var fe=[];ge(fe);for(var re;re=oe();)re!==!1&&(fe.push(re),ge(fe));return fe}return me(),ce()};function M(B){return B?B.replace(m,b):b}return Ac}var Bp;function WE(){if(Bp)return Pr;Bp=1;var i=Pr&&Pr.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(Pr,"__esModule",{value:!0}),Pr.default=n;var t=i(ZE());function n(a,o){var u=null;if(!a||typeof a!="string")return u;var c=(0,t.default)(a),m=typeof o=="function";return c.forEach(function(x){if(x.type==="declaration"){var f=x.property,v=x.value;m?o(f,v,x):v&&(u=u||{},u[f]=v)}}),u}return Pr}var ea={},Lp;function ew(){if(Lp)return ea;Lp=1,Object.defineProperty(ea,"__esModule",{value:!0}),ea.camelCase=void 0;var i=/^--[a-zA-Z0-9_-]+$/,t=/-([a-z])/g,n=/^[^-]+$/,a=/^-(webkit|moz|ms|o|khtml)-/,o=/^-(ms)-/,u=function(f){return!f||n.test(f)||i.test(f)},c=function(f,v){return v.toUpperCase()},m=function(f,v){return"".concat(v,"-")},x=function(f,v){return v===void 0&&(v={}),u(f)?f:(f=f.toLowerCase(),v.reactCompat?f=f.replace(o,m):f=f.replace(a,m),f.replace(t,c))};return ea.camelCase=x,ea}var ta,Up;function tw(){if(Up)return ta;Up=1;var i=ta&&ta.__importDefault||function(o){return o&&o.__esModule?o:{default:o}},t=i(WE()),n=ew();function a(o,u){var c={};return!o||typeof o!="string"||(0,t.default)(o,function(m,x){m&&x&&(c[(0,n.camelCase)(m,u)]=x)}),c}return a.default=a,ta=a,ta}var nw=tw();const iw=da(nw),J0=Q0("end"),md=Q0("start");function Q0(i){return t;function t(n){const a=n&&n.position&&n.position[i]||{};if(typeof a.line=="number"&&a.line>0&&typeof a.column=="number"&&a.column>0)return{line:a.line,column:a.column,offset:typeof a.offset=="number"&&a.offset>-1?a.offset:void 0}}}function rw(i){const t=md(i),n=J0(i);if(t&&n)return{start:t,end:n}}function aa(i){return!i||typeof i!="object"?"":"position"in i||"type"in i?zp(i.position):"start"in i||"end"in i?zp(i):"line"in i||"column"in i?ed(i):""}function ed(i){return jp(i&&i.line)+":"+jp(i&&i.column)}function zp(i){return ed(i&&i.start)+"-"+ed(i&&i.end)}function jp(i){return i&&typeof i=="number"?i:1}class zt extends Error{constructor(t,n,a){super(),typeof n=="string"&&(a=n,n=void 0);let o="",u={},c=!1;if(n&&("line"in n&&"column"in n?u={place:n}:"start"in n&&"end"in n?u={place:n}:"type"in n?u={ancestors:[n],place:n.position}:u={...n}),typeof t=="string"?o=t:!u.cause&&t&&(c=!0,o=t.message,u.cause=t),!u.ruleId&&!u.source&&typeof a=="string"){const x=a.indexOf(":");x===-1?u.ruleId=a:(u.source=a.slice(0,x),u.ruleId=a.slice(x+1))}if(!u.place&&u.ancestors&&u.ancestors){const x=u.ancestors[u.ancestors.length-1];x&&(u.place=x.position)}const m=u.place&&"start"in u.place?u.place.start:u.place;this.ancestors=u.ancestors||void 0,this.cause=u.cause||void 0,this.column=m?m.column:void 0,this.fatal=void 0,this.file,this.message=o,this.line=m?m.line:void 0,this.name=aa(u.place)||"1:1",this.place=u.place||void 0,this.reason=this.message,this.ruleId=u.ruleId||void 0,this.source=u.source||void 0,this.stack=c&&u.cause&&typeof u.cause.stack=="string"?u.cause.stack:"",this.actual,this.expected,this.note,this.url}}zt.prototype.file="";zt.prototype.name="";zt.prototype.reason="";zt.prototype.message="";zt.prototype.stack="";zt.prototype.column=void 0;zt.prototype.line=void 0;zt.prototype.ancestors=void 0;zt.prototype.cause=void 0;zt.prototype.fatal=void 0;zt.prototype.place=void 0;zt.prototype.ruleId=void 0;zt.prototype.source=void 0;const hd={}.hasOwnProperty,lw=new Map,aw=/[A-Z]/g,ow=new Set(["table","tbody","thead","tfoot","tr"]),sw=new Set(["td","th"]),Z0="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function uw(i,t){if(!t||t.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const n=t.filePath||void 0;let a;if(t.development){if(typeof t.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");a=yw(n,t.jsxDEV)}else{if(typeof t.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof t.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");a=pw(n,t.jsx,t.jsxs)}const o={Fragment:t.Fragment,ancestors:[],components:t.components||{},create:a,elementAttributeNameCase:t.elementAttributeNameCase||"react",evaluater:t.createEvaluater?t.createEvaluater():void 0,filePath:n,ignoreInvalidStyle:t.ignoreInvalidStyle||!1,passKeys:t.passKeys!==!1,passNode:t.passNode||!1,schema:t.space==="svg"?fd:JE,stylePropertyNameCase:t.stylePropertyNameCase||"dom",tableCellAlignToStyle:t.tableCellAlignToStyle!==!1},u=W0(o,i,void 0);return u&&typeof u!="string"?u:o.create(i,o.Fragment,{children:u||void 0},void 0)}function W0(i,t,n){if(t.type==="element")return cw(i,t,n);if(t.type==="mdxFlowExpression"||t.type==="mdxTextExpression")return dw(i,t);if(t.type==="mdxJsxFlowElement"||t.type==="mdxJsxTextElement")return mw(i,t,n);if(t.type==="mdxjsEsm")return fw(i,t);if(t.type==="root")return hw(i,t,n);if(t.type==="text")return gw(i,t)}function cw(i,t,n){const a=i.schema;let o=a;t.tagName.toLowerCase()==="svg"&&a.space==="html"&&(o=fd,i.schema=o),i.ancestors.push(t);const u=ty(i,t.tagName,!1),c=xw(i,t);let m=pd(i,t);return ow.has(t.tagName)&&(m=m.filter(function(x){return typeof x=="string"?!PE(x):!0})),ey(i,c,u,t),gd(c,m),i.ancestors.pop(),i.schema=a,i.create(t,u,c,n)}function dw(i,t){if(t.data&&t.data.estree&&i.evaluater){const a=t.data.estree.body[0];return a.type,i.evaluater.evaluateExpression(a.expression)}ca(i,t.position)}function fw(i,t){if(t.data&&t.data.estree&&i.evaluater)return i.evaluater.evaluateProgram(t.data.estree);ca(i,t.position)}function mw(i,t,n){const a=i.schema;let o=a;t.name==="svg"&&a.space==="html"&&(o=fd,i.schema=o),i.ancestors.push(t);const u=t.name===null?i.Fragment:ty(i,t.name,!0),c=vw(i,t),m=pd(i,t);return ey(i,c,u,t),gd(c,m),i.ancestors.pop(),i.schema=a,i.create(t,u,c,n)}function hw(i,t,n){const a={};return gd(a,pd(i,t)),i.create(t,i.Fragment,a,n)}function gw(i,t){return t.value}function ey(i,t,n,a){typeof n!="string"&&n!==i.Fragment&&i.passNode&&(t.node=a)}function gd(i,t){if(t.length>0){const n=t.length>1?t:t[0];n&&(i.children=n)}}function pw(i,t,n){return a;function a(o,u,c,m){const f=Array.isArray(c.children)?n:t;return m?f(u,c,m):f(u,c)}}function yw(i,t){return n;function n(a,o,u,c){const m=Array.isArray(u.children),x=md(a);return t(o,u,c,m,{columnNumber:x?x.column-1:void 0,fileName:i,lineNumber:x?x.line:void 0},void 0)}}function xw(i,t){const n={};let a,o;for(o in t.properties)if(o!=="children"&&hd.call(t.properties,o)){const u=bw(i,o,t.properties[o]);if(u){const[c,m]=u;i.tableCellAlignToStyle&&c==="align"&&typeof m=="string"&&sw.has(t.tagName)?a=m:n[c]=m}}if(a){const u=n.style||(n.style={});u[i.stylePropertyNameCase==="css"?"text-align":"textAlign"]=a}return n}function vw(i,t){const n={};for(const a of t.attributes)if(a.type==="mdxJsxExpressionAttribute")if(a.data&&a.data.estree&&i.evaluater){const u=a.data.estree.body[0];u.type;const c=u.expression;c.type;const m=c.properties[0];m.type,Object.assign(n,i.evaluater.evaluateExpression(m.argument))}else ca(i,t.position);else{const o=a.name;let u;if(a.value&&typeof a.value=="object")if(a.value.data&&a.value.data.estree&&i.evaluater){const m=a.value.data.estree.body[0];m.type,u=i.evaluater.evaluateExpression(m.expression)}else ca(i,t.position);else u=a.value===null?!0:a.value;n[o]=u}return n}function pd(i,t){const n=[];let a=-1;const o=i.passKeys?new Map:lw;for(;++a<t.children.length;){const u=t.children[a];let c;if(i.passKeys){const x=u.type==="element"?u.tagName:u.type==="mdxJsxFlowElement"||u.type==="mdxJsxTextElement"?u.name:void 0;if(x){const f=o.get(x)||0;c=x+"-"+f,o.set(x,f+1)}}const m=W0(i,u,c);m!==void 0&&n.push(m)}return n}function bw(i,t,n){const a=KE(i.schema,t);if(!(n==null||typeof n=="number"&&Number.isNaN(n))){if(Array.isArray(n)&&(n=a.commaSeparated?LE(n):QE(n)),a.property==="style"){let o=typeof n=="object"?n:Tw(i,String(n));return i.stylePropertyNameCase==="css"&&(o=Sw(o)),["style",o]}return[i.elementAttributeNameCase==="react"&&a.space?GE[a.property]||a.property:a.attribute,n]}}function Tw(i,t){try{return iw(t,{reactCompat:!0})}catch(n){if(i.ignoreInvalidStyle)return{};const a=n,o=new zt("Cannot parse `style` attribute",{ancestors:i.ancestors,cause:a,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw o.file=i.filePath||void 0,o.url=Z0+"#cannot-parse-style-attribute",o}}function ty(i,t,n){let a;if(!n)a={type:"Literal",value:t};else if(t.includes(".")){const o=t.split(".");let u=-1,c;for(;++u<o.length;){const m=_p(o[u])?{type:"Identifier",name:o[u]}:{type:"Literal",value:o[u]};c=c?{type:"MemberExpression",object:c,property:m,computed:!!(u&&m.type==="Literal"),optional:!1}:m}a=c}else a=_p(t)&&!/^[a-z]/.test(t)?{type:"Identifier",name:t}:{type:"Literal",value:t};if(a.type==="Literal"){const o=a.value;return hd.call(i.components,o)?i.components[o]:o}if(i.evaluater)return i.evaluater.evaluateExpression(a);ca(i)}function ca(i,t){const n=new zt("Cannot handle MDX estrees without `createEvaluater`",{ancestors:i.ancestors,place:t,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw n.file=i.filePath||void 0,n.url=Z0+"#cannot-handle-mdx-estrees-without-createevaluater",n}function Sw(i){const t={};let n;for(n in i)hd.call(i,n)&&(t[Cw(n)]=i[n]);return t}function Cw(i){let t=i.replace(aw,Ew);return t.slice(0,3)==="ms-"&&(t="-"+t),t}function Ew(i){return"-"+i.toLowerCase()}const Nc={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},ww={};function Aw(i,t){const n=ww,a=typeof n.includeImageAlt=="boolean"?n.includeImageAlt:!0,o=typeof n.includeHtml=="boolean"?n.includeHtml:!0;return ny(i,a,o)}function ny(i,t,n){if(Nw(i)){if("value"in i)return i.type==="html"&&!n?"":i.value;if(t&&"alt"in i&&i.alt)return i.alt;if("children"in i)return Op(i.children,t,n)}return Array.isArray(i)?Op(i,t,n):""}function Op(i,t,n){const a=[];let o=-1;for(;++o<i.length;)a[o]=ny(i[o],t,n);return a.join("")}function Nw(i){return!!(i&&typeof i=="object")}const Pp=document.createElement("i");function yd(i){const t="&"+i+";";Pp.innerHTML=t;const n=Pp.textContent;return n.charCodeAt(n.length-1)===59&&i!=="semi"||n===t?!1:n}function Pn(i,t,n,a){const o=i.length;let u=0,c;if(t<0?t=-t>o?0:o+t:t=t>o?o:t,n=n>0?n:0,a.length<1e4)c=Array.from(a),c.unshift(t,n),i.splice(...c);else for(n&&i.splice(t,n);u<a.length;)c=a.slice(u,u+1e4),c.unshift(t,0),i.splice(...c),u+=1e4,t+=1e4}function Sn(i,t){return i.length>0?(Pn(i,i.length,0,t),i):t}const Vp={}.hasOwnProperty;function Mw(i){const t={};let n=-1;for(;++n<i.length;)_w(t,i[n]);return t}function _w(i,t){let n;for(n in t){const o=(Vp.call(i,n)?i[n]:void 0)||(i[n]={}),u=t[n];let c;if(u)for(c in u){Vp.call(o,c)||(o[c]=[]);const m=u[c];Dw(o[c],Array.isArray(m)?m:m?[m]:[])}}}function Dw(i,t){let n=-1;const a=[];for(;++n<t.length;)(t[n].add==="after"?i:a).push(t[n]);Pn(i,0,0,a)}function iy(i,t){const n=Number.parseInt(i,t);return n<9||n===11||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||(n&65535)===65535||(n&65535)===65534||n>1114111?"�":String.fromCodePoint(n)}function Gr(i){return i.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const On=Ri(/[A-Za-z]/),an=Ri(/[\dA-Za-z]/),Iw=Ri(/[#-'*+\--9=?A-Z^-~]/);function td(i){return i!==null&&(i<32||i===127)}const nd=Ri(/\d/),kw=Ri(/[\dA-Fa-f]/),Rw=Ri(/[!-/:-@[-`{-~]/);function Me(i){return i!==null&&i<-2}function $t(i){return i!==null&&(i<0||i===32)}function $e(i){return i===-2||i===-1||i===32}const Bw=Ri(new RegExp("\\p{P}|\\p{S}","u")),Lw=Ri(/\s/);function Ri(i){return t;function t(n){return n!==null&&n>-1&&i.test(String.fromCharCode(n))}}function Xr(i){const t=[];let n=-1,a=0,o=0;for(;++n<i.length;){const u=i.charCodeAt(n);let c="";if(u===37&&an(i.charCodeAt(n+1))&&an(i.charCodeAt(n+2)))o=2;else if(u<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(u))||(c=String.fromCharCode(u));else if(u>55295&&u<57344){const m=i.charCodeAt(n+1);u<56320&&m>56319&&m<57344?(c=String.fromCharCode(u,m),o=1):c="�"}else c=String.fromCharCode(u);c&&(t.push(i.slice(a,n),encodeURIComponent(c)),a=n+o+1,c=""),o&&(n+=o,o=0)}return t.join("")+i.slice(a)}function at(i,t,n,a){const o=a?a-1:Number.POSITIVE_INFINITY;let u=0;return c;function c(x){return $e(x)?(i.enter(n),m(x)):t(x)}function m(x){return $e(x)&&u++<o?(i.consume(x),m):(i.exit(n),t(x))}}const Uw={tokenize:zw};function zw(i){const t=i.attempt(this.parser.constructs.contentInitial,a,o);let n;return t;function a(m){if(m===null){i.consume(m);return}return i.enter("lineEnding"),i.consume(m),i.exit("lineEnding"),at(i,t,"linePrefix")}function o(m){return i.enter("paragraph"),u(m)}function u(m){const x=i.enter("chunkText",{contentType:"text",previous:n});return n&&(n.next=x),n=x,c(m)}function c(m){if(m===null){i.exit("chunkText"),i.exit("paragraph"),i.consume(m);return}return Me(m)?(i.consume(m),i.exit("chunkText"),u):(i.consume(m),c)}}const jw={tokenize:Ow},Hp={tokenize:Pw};function Ow(i){const t=this,n=[];let a=0,o,u,c;return m;function m(Y){if(a<n.length){const Q=n[a];return t.containerState=Q[1],i.attempt(Q[0].continuation,x,f)(Y)}return f(Y)}function x(Y){if(a++,t.containerState._closeFlow){t.containerState._closeFlow=void 0,o&&Z();const Q=t.events.length;let ne=Q,K;for(;ne--;)if(t.events[ne][0]==="exit"&&t.events[ne][1].type==="chunkFlow"){K=t.events[ne][1].end;break}j(a);let te=Q;for(;te<t.events.length;)t.events[te][1].end={...K},te++;return Pn(t.events,ne+1,0,t.events.slice(Q)),t.events.length=te,f(Y)}return m(Y)}function f(Y){if(a===n.length){if(!o)return C(Y);if(o.currentConstruct&&o.currentConstruct.concrete)return M(Y);t.interrupt=!!(o.currentConstruct&&!o._gfmTableDynamicInterruptHack)}return t.containerState={},i.check(Hp,v,b)(Y)}function v(Y){return o&&Z(),j(a),C(Y)}function b(Y){return t.parser.lazy[t.now().line]=a!==n.length,c=t.now().offset,M(Y)}function C(Y){return t.containerState={},i.attempt(Hp,E,M)(Y)}function E(Y){return a++,n.push([t.currentConstruct,t.containerState]),C(Y)}function M(Y){if(Y===null){o&&Z(),j(0),i.consume(Y);return}return o=o||t.parser.flow(t.now()),i.enter("chunkFlow",{_tokenizer:o,contentType:"flow",previous:u}),B(Y)}function B(Y){if(Y===null){P(i.exit("chunkFlow"),!0),j(0),i.consume(Y);return}return Me(Y)?(i.consume(Y),P(i.exit("chunkFlow")),a=0,t.interrupt=void 0,m):(i.consume(Y),B)}function P(Y,Q){const ne=t.sliceStream(Y);if(Q&&ne.push(null),Y.previous=u,u&&(u.next=Y),u=Y,o.defineSkip(Y.start),o.write(ne),t.parser.lazy[Y.start.line]){let K=o.events.length;for(;K--;)if(o.events[K][1].start.offset<c&&(!o.events[K][1].end||o.events[K][1].end.offset>c))return;const te=t.events.length;let me=te,ge,he;for(;me--;)if(t.events[me][0]==="exit"&&t.events[me][1].type==="chunkFlow"){if(ge){he=t.events[me][1].end;break}ge=!0}for(j(a),K=te;K<t.events.length;)t.events[K][1].end={...he},K++;Pn(t.events,me+1,0,t.events.slice(te)),t.events.length=K}}function j(Y){let Q=n.length;for(;Q-- >Y;){const ne=n[Q];t.containerState=ne[1],ne[0].exit.call(t,i)}n.length=Y}function Z(){o.write([null]),u=void 0,o=void 0,t.containerState._closeFlow=void 0}}function Pw(i,t,n){return at(i,i.attempt(this.parser.constructs.document,t,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function qp(i){if(i===null||$t(i)||Lw(i))return 1;if(Bw(i))return 2}function xd(i,t,n){const a=[];let o=-1;for(;++o<i.length;){const u=i[o].resolveAll;u&&!a.includes(u)&&(t=u(t,n),a.push(u))}return t}const id={name:"attention",resolveAll:Vw,tokenize:Hw};function Vw(i,t){let n=-1,a,o,u,c,m,x,f,v;for(;++n<i.length;)if(i[n][0]==="enter"&&i[n][1].type==="attentionSequence"&&i[n][1]._close){for(a=n;a--;)if(i[a][0]==="exit"&&i[a][1].type==="attentionSequence"&&i[a][1]._open&&t.sliceSerialize(i[a][1]).charCodeAt(0)===t.sliceSerialize(i[n][1]).charCodeAt(0)){if((i[a][1]._close||i[n][1]._open)&&(i[n][1].end.offset-i[n][1].start.offset)%3&&!((i[a][1].end.offset-i[a][1].start.offset+i[n][1].end.offset-i[n][1].start.offset)%3))continue;x=i[a][1].end.offset-i[a][1].start.offset>1&&i[n][1].end.offset-i[n][1].start.offset>1?2:1;const b={...i[a][1].end},C={...i[n][1].start};Gp(b,-x),Gp(C,x),c={type:x>1?"strongSequence":"emphasisSequence",start:b,end:{...i[a][1].end}},m={type:x>1?"strongSequence":"emphasisSequence",start:{...i[n][1].start},end:C},u={type:x>1?"strongText":"emphasisText",start:{...i[a][1].end},end:{...i[n][1].start}},o={type:x>1?"strong":"emphasis",start:{...c.start},end:{...m.end}},i[a][1].end={...c.start},i[n][1].start={...m.end},f=[],i[a][1].end.offset-i[a][1].start.offset&&(f=Sn(f,[["enter",i[a][1],t],["exit",i[a][1],t]])),f=Sn(f,[["enter",o,t],["enter",c,t],["exit",c,t],["enter",u,t]]),f=Sn(f,xd(t.parser.constructs.insideSpan.null,i.slice(a+1,n),t)),f=Sn(f,[["exit",u,t],["enter",m,t],["exit",m,t],["exit",o,t]]),i[n][1].end.offset-i[n][1].start.offset?(v=2,f=Sn(f,[["enter",i[n][1],t],["exit",i[n][1],t]])):v=0,Pn(i,a-1,n-a+3,f),n=a+f.length-v-2;break}}for(n=-1;++n<i.length;)i[n][1].type==="attentionSequence"&&(i[n][1].type="data");return i}function Hw(i,t){const n=this.parser.constructs.attentionMarkers.null,a=this.previous,o=qp(a);let u;return c;function c(x){return u=x,i.enter("attentionSequence"),m(x)}function m(x){if(x===u)return i.consume(x),m;const f=i.exit("attentionSequence"),v=qp(x),b=!v||v===2&&o||n.includes(x),C=!o||o===2&&v||n.includes(a);return f._open=!!(u===42?b:b&&(o||!C)),f._close=!!(u===42?C:C&&(v||!b)),t(x)}}function Gp(i,t){i.column+=t,i.offset+=t,i._bufferIndex+=t}const qw={name:"autolink",tokenize:Gw};function Gw(i,t,n){let a=0;return o;function o(E){return i.enter("autolink"),i.enter("autolinkMarker"),i.consume(E),i.exit("autolinkMarker"),i.enter("autolinkProtocol"),u}function u(E){return On(E)?(i.consume(E),c):E===64?n(E):f(E)}function c(E){return E===43||E===45||E===46||an(E)?(a=1,m(E)):f(E)}function m(E){return E===58?(i.consume(E),a=0,x):(E===43||E===45||E===46||an(E))&&a++<32?(i.consume(E),m):(a=0,f(E))}function x(E){return E===62?(i.exit("autolinkProtocol"),i.enter("autolinkMarker"),i.consume(E),i.exit("autolinkMarker"),i.exit("autolink"),t):E===null||E===32||E===60||td(E)?n(E):(i.consume(E),x)}function f(E){return E===64?(i.consume(E),v):Iw(E)?(i.consume(E),f):n(E)}function v(E){return an(E)?b(E):n(E)}function b(E){return E===46?(i.consume(E),a=0,v):E===62?(i.exit("autolinkProtocol").type="autolinkEmail",i.enter("autolinkMarker"),i.consume(E),i.exit("autolinkMarker"),i.exit("autolink"),t):C(E)}function C(E){if((E===45||an(E))&&a++<63){const M=E===45?C:b;return i.consume(E),M}return n(E)}}const is={partial:!0,tokenize:Fw};function Fw(i,t,n){return a;function a(u){return $e(u)?at(i,o,"linePrefix")(u):o(u)}function o(u){return u===null||Me(u)?t(u):n(u)}}const ry={continuation:{tokenize:Kw},exit:$w,name:"blockQuote",tokenize:Yw};function Yw(i,t,n){const a=this;return o;function o(c){if(c===62){const m=a.containerState;return m.open||(i.enter("blockQuote",{_container:!0}),m.open=!0),i.enter("blockQuotePrefix"),i.enter("blockQuoteMarker"),i.consume(c),i.exit("blockQuoteMarker"),u}return n(c)}function u(c){return $e(c)?(i.enter("blockQuotePrefixWhitespace"),i.consume(c),i.exit("blockQuotePrefixWhitespace"),i.exit("blockQuotePrefix"),t):(i.exit("blockQuotePrefix"),t(c))}}function Kw(i,t,n){const a=this;return o;function o(c){return $e(c)?at(i,u,"linePrefix",a.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(c):u(c)}function u(c){return i.attempt(ry,t,n)(c)}}function $w(i){i.exit("blockQuote")}const ly={name:"characterEscape",tokenize:Xw};function Xw(i,t,n){return a;function a(u){return i.enter("characterEscape"),i.enter("escapeMarker"),i.consume(u),i.exit("escapeMarker"),o}function o(u){return Rw(u)?(i.enter("characterEscapeValue"),i.consume(u),i.exit("characterEscapeValue"),i.exit("characterEscape"),t):n(u)}}const ay={name:"characterReference",tokenize:Jw};function Jw(i,t,n){const a=this;let o=0,u,c;return m;function m(b){return i.enter("characterReference"),i.enter("characterReferenceMarker"),i.consume(b),i.exit("characterReferenceMarker"),x}function x(b){return b===35?(i.enter("characterReferenceMarkerNumeric"),i.consume(b),i.exit("characterReferenceMarkerNumeric"),f):(i.enter("characterReferenceValue"),u=31,c=an,v(b))}function f(b){return b===88||b===120?(i.enter("characterReferenceMarkerHexadecimal"),i.consume(b),i.exit("characterReferenceMarkerHexadecimal"),i.enter("characterReferenceValue"),u=6,c=kw,v):(i.enter("characterReferenceValue"),u=7,c=nd,v(b))}function v(b){if(b===59&&o){const C=i.exit("characterReferenceValue");return c===an&&!yd(a.sliceSerialize(C))?n(b):(i.enter("characterReferenceMarker"),i.consume(b),i.exit("characterReferenceMarker"),i.exit("characterReference"),t)}return c(b)&&o++<u?(i.consume(b),v):n(b)}}const Fp={partial:!0,tokenize:Zw},Yp={concrete:!0,name:"codeFenced",tokenize:Qw};function Qw(i,t,n){const a=this,o={partial:!0,tokenize:ne};let u=0,c=0,m;return x;function x(K){return f(K)}function f(K){const te=a.events[a.events.length-1];return u=te&&te[1].type==="linePrefix"?te[2].sliceSerialize(te[1],!0).length:0,m=K,i.enter("codeFenced"),i.enter("codeFencedFence"),i.enter("codeFencedFenceSequence"),v(K)}function v(K){return K===m?(c++,i.consume(K),v):c<3?n(K):(i.exit("codeFencedFenceSequence"),$e(K)?at(i,b,"whitespace")(K):b(K))}function b(K){return K===null||Me(K)?(i.exit("codeFencedFence"),a.interrupt?t(K):i.check(Fp,B,Q)(K)):(i.enter("codeFencedFenceInfo"),i.enter("chunkString",{contentType:"string"}),C(K))}function C(K){return K===null||Me(K)?(i.exit("chunkString"),i.exit("codeFencedFenceInfo"),b(K)):$e(K)?(i.exit("chunkString"),i.exit("codeFencedFenceInfo"),at(i,E,"whitespace")(K)):K===96&&K===m?n(K):(i.consume(K),C)}function E(K){return K===null||Me(K)?b(K):(i.enter("codeFencedFenceMeta"),i.enter("chunkString",{contentType:"string"}),M(K))}function M(K){return K===null||Me(K)?(i.exit("chunkString"),i.exit("codeFencedFenceMeta"),b(K)):K===96&&K===m?n(K):(i.consume(K),M)}function B(K){return i.attempt(o,Q,P)(K)}function P(K){return i.enter("lineEnding"),i.consume(K),i.exit("lineEnding"),j}function j(K){return u>0&&$e(K)?at(i,Z,"linePrefix",u+1)(K):Z(K)}function Z(K){return K===null||Me(K)?i.check(Fp,B,Q)(K):(i.enter("codeFlowValue"),Y(K))}function Y(K){return K===null||Me(K)?(i.exit("codeFlowValue"),Z(K)):(i.consume(K),Y)}function Q(K){return i.exit("codeFenced"),t(K)}function ne(K,te,me){let ge=0;return he;function he(de){return K.enter("lineEnding"),K.consume(de),K.exit("lineEnding"),oe}function oe(de){return K.enter("codeFencedFence"),$e(de)?at(K,ce,"linePrefix",a.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(de):ce(de)}function ce(de){return de===m?(K.enter("codeFencedFenceSequence"),fe(de)):me(de)}function fe(de){return de===m?(ge++,K.consume(de),fe):ge>=c?(K.exit("codeFencedFenceSequence"),$e(de)?at(K,re,"whitespace")(de):re(de)):me(de)}function re(de){return de===null||Me(de)?(K.exit("codeFencedFence"),te(de)):me(de)}}}function Zw(i,t,n){const a=this;return o;function o(c){return c===null?n(c):(i.enter("lineEnding"),i.consume(c),i.exit("lineEnding"),u)}function u(c){return a.parser.lazy[a.now().line]?n(c):t(c)}}const Mc={name:"codeIndented",tokenize:eA},Ww={partial:!0,tokenize:tA};function eA(i,t,n){const a=this;return o;function o(f){return i.enter("codeIndented"),at(i,u,"linePrefix",5)(f)}function u(f){const v=a.events[a.events.length-1];return v&&v[1].type==="linePrefix"&&v[2].sliceSerialize(v[1],!0).length>=4?c(f):n(f)}function c(f){return f===null?x(f):Me(f)?i.attempt(Ww,c,x)(f):(i.enter("codeFlowValue"),m(f))}function m(f){return f===null||Me(f)?(i.exit("codeFlowValue"),c(f)):(i.consume(f),m)}function x(f){return i.exit("codeIndented"),t(f)}}function tA(i,t,n){const a=this;return o;function o(c){return a.parser.lazy[a.now().line]?n(c):Me(c)?(i.enter("lineEnding"),i.consume(c),i.exit("lineEnding"),o):at(i,u,"linePrefix",5)(c)}function u(c){const m=a.events[a.events.length-1];return m&&m[1].type==="linePrefix"&&m[2].sliceSerialize(m[1],!0).length>=4?t(c):Me(c)?o(c):n(c)}}const nA={name:"codeText",previous:rA,resolve:iA,tokenize:lA};function iA(i){let t=i.length-4,n=3,a,o;if((i[n][1].type==="lineEnding"||i[n][1].type==="space")&&(i[t][1].type==="lineEnding"||i[t][1].type==="space")){for(a=n;++a<t;)if(i[a][1].type==="codeTextData"){i[n][1].type="codeTextPadding",i[t][1].type="codeTextPadding",n+=2,t-=2;break}}for(a=n-1,t++;++a<=t;)o===void 0?a!==t&&i[a][1].type!=="lineEnding"&&(o=a):(a===t||i[a][1].type==="lineEnding")&&(i[o][1].type="codeTextData",a!==o+2&&(i[o][1].end=i[a-1][1].end,i.splice(o+2,a-o-2),t-=a-o-2,a=o+2),o=void 0);return i}function rA(i){return i!==96||this.events[this.events.length-1][1].type==="characterEscape"}function lA(i,t,n){let a=0,o,u;return c;function c(b){return i.enter("codeText"),i.enter("codeTextSequence"),m(b)}function m(b){return b===96?(i.consume(b),a++,m):(i.exit("codeTextSequence"),x(b))}function x(b){return b===null?n(b):b===32?(i.enter("space"),i.consume(b),i.exit("space"),x):b===96?(u=i.enter("codeTextSequence"),o=0,v(b)):Me(b)?(i.enter("lineEnding"),i.consume(b),i.exit("lineEnding"),x):(i.enter("codeTextData"),f(b))}function f(b){return b===null||b===32||b===96||Me(b)?(i.exit("codeTextData"),x(b)):(i.consume(b),f)}function v(b){return b===96?(i.consume(b),o++,v):o===a?(i.exit("codeTextSequence"),i.exit("codeText"),t(b)):(u.type="codeTextData",f(b))}}class aA{constructor(t){this.left=t?[...t]:[],this.right=[]}get(t){if(t<0||t>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+t+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return t<this.left.length?this.left[t]:this.right[this.right.length-t+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(t,n){const a=n??Number.POSITIVE_INFINITY;return a<this.left.length?this.left.slice(t,a):t>this.left.length?this.right.slice(this.right.length-a+this.left.length,this.right.length-t+this.left.length).reverse():this.left.slice(t).concat(this.right.slice(this.right.length-a+this.left.length).reverse())}splice(t,n,a){const o=n||0;this.setCursor(Math.trunc(t));const u=this.right.splice(this.right.length-o,Number.POSITIVE_INFINITY);return a&&na(this.left,a),u.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(t){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(t)}pushMany(t){this.setCursor(Number.POSITIVE_INFINITY),na(this.left,t)}unshift(t){this.setCursor(0),this.right.push(t)}unshiftMany(t){this.setCursor(0),na(this.right,t.reverse())}setCursor(t){if(!(t===this.left.length||t>this.left.length&&this.right.length===0||t<0&&this.left.length===0))if(t<this.left.length){const n=this.left.splice(t,Number.POSITIVE_INFINITY);na(this.right,n.reverse())}else{const n=this.right.splice(this.left.length+this.right.length-t,Number.POSITIVE_INFINITY);na(this.left,n.reverse())}}}function na(i,t){let n=0;if(t.length<1e4)i.push(...t);else for(;n<t.length;)i.push(...t.slice(n,n+1e4)),n+=1e4}function oy(i){const t={};let n=-1,a,o,u,c,m,x,f;const v=new aA(i);for(;++n<v.length;){for(;n in t;)n=t[n];if(a=v.get(n),n&&a[1].type==="chunkFlow"&&v.get(n-1)[1].type==="listItemPrefix"&&(x=a[1]._tokenizer.events,u=0,u<x.length&&x[u][1].type==="lineEndingBlank"&&(u+=2),u<x.length&&x[u][1].type==="content"))for(;++u<x.length&&x[u][1].type!=="content";)x[u][1].type==="chunkText"&&(x[u][1]._isInFirstContentOfListItem=!0,u++);if(a[0]==="enter")a[1].contentType&&(Object.assign(t,oA(v,n)),n=t[n],f=!0);else if(a[1]._container){for(u=n,o=void 0;u--;)if(c=v.get(u),c[1].type==="lineEnding"||c[1].type==="lineEndingBlank")c[0]==="enter"&&(o&&(v.get(o)[1].type="lineEndingBlank"),c[1].type="lineEnding",o=u);else if(!(c[1].type==="linePrefix"||c[1].type==="listItemIndent"))break;o&&(a[1].end={...v.get(o)[1].start},m=v.slice(o,n),m.unshift(a),v.splice(o,n-o+1,m))}}return Pn(i,0,Number.POSITIVE_INFINITY,v.slice(0)),!f}function oA(i,t){const n=i.get(t)[1],a=i.get(t)[2];let o=t-1;const u=[];let c=n._tokenizer;c||(c=a.parser[n.contentType](n.start),n._contentTypeTextTrailing&&(c._contentTypeTextTrailing=!0));const m=c.events,x=[],f={};let v,b,C=-1,E=n,M=0,B=0;const P=[B];for(;E;){for(;i.get(++o)[1]!==E;);u.push(o),E._tokenizer||(v=a.sliceStream(E),E.next||v.push(null),b&&c.defineSkip(E.start),E._isInFirstContentOfListItem&&(c._gfmTasklistFirstContentOfListItem=!0),c.write(v),E._isInFirstContentOfListItem&&(c._gfmTasklistFirstContentOfListItem=void 0)),b=E,E=E.next}for(E=n;++C<m.length;)m[C][0]==="exit"&&m[C-1][0]==="enter"&&m[C][1].type===m[C-1][1].type&&m[C][1].start.line!==m[C][1].end.line&&(B=C+1,P.push(B),E._tokenizer=void 0,E.previous=void 0,E=E.next);for(c.events=[],E?(E._tokenizer=void 0,E.previous=void 0):P.pop(),C=P.length;C--;){const j=m.slice(P[C],P[C+1]),Z=u.pop();x.push([Z,Z+j.length-1]),i.splice(Z,2,j)}for(x.reverse(),C=-1;++C<x.length;)f[M+x[C][0]]=M+x[C][1],M+=x[C][1]-x[C][0]-1;return f}const sA={resolve:cA,tokenize:dA},uA={partial:!0,tokenize:fA};function cA(i){return oy(i),i}function dA(i,t){let n;return a;function a(m){return i.enter("content"),n=i.enter("chunkContent",{contentType:"content"}),o(m)}function o(m){return m===null?u(m):Me(m)?i.check(uA,c,u)(m):(i.consume(m),o)}function u(m){return i.exit("chunkContent"),i.exit("content"),t(m)}function c(m){return i.consume(m),i.exit("chunkContent"),n.next=i.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,o}}function fA(i,t,n){const a=this;return o;function o(c){return i.exit("chunkContent"),i.enter("lineEnding"),i.consume(c),i.exit("lineEnding"),at(i,u,"linePrefix")}function u(c){if(c===null||Me(c))return n(c);const m=a.events[a.events.length-1];return!a.parser.constructs.disable.null.includes("codeIndented")&&m&&m[1].type==="linePrefix"&&m[2].sliceSerialize(m[1],!0).length>=4?t(c):i.interrupt(a.parser.constructs.flow,n,t)(c)}}function sy(i,t,n,a,o,u,c,m,x){const f=x||Number.POSITIVE_INFINITY;let v=0;return b;function b(j){return j===60?(i.enter(a),i.enter(o),i.enter(u),i.consume(j),i.exit(u),C):j===null||j===32||j===41||td(j)?n(j):(i.enter(a),i.enter(c),i.enter(m),i.enter("chunkString",{contentType:"string"}),B(j))}function C(j){return j===62?(i.enter(u),i.consume(j),i.exit(u),i.exit(o),i.exit(a),t):(i.enter(m),i.enter("chunkString",{contentType:"string"}),E(j))}function E(j){return j===62?(i.exit("chunkString"),i.exit(m),C(j)):j===null||j===60||Me(j)?n(j):(i.consume(j),j===92?M:E)}function M(j){return j===60||j===62||j===92?(i.consume(j),E):E(j)}function B(j){return!v&&(j===null||j===41||$t(j))?(i.exit("chunkString"),i.exit(m),i.exit(c),i.exit(a),t(j)):v<f&&j===40?(i.consume(j),v++,B):j===41?(i.consume(j),v--,B):j===null||j===32||j===40||td(j)?n(j):(i.consume(j),j===92?P:B)}function P(j){return j===40||j===41||j===92?(i.consume(j),B):B(j)}}function uy(i,t,n,a,o,u){const c=this;let m=0,x;return f;function f(E){return i.enter(a),i.enter(o),i.consume(E),i.exit(o),i.enter(u),v}function v(E){return m>999||E===null||E===91||E===93&&!x||E===94&&!m&&"_hiddenFootnoteSupport"in c.parser.constructs?n(E):E===93?(i.exit(u),i.enter(o),i.consume(E),i.exit(o),i.exit(a),t):Me(E)?(i.enter("lineEnding"),i.consume(E),i.exit("lineEnding"),v):(i.enter("chunkString",{contentType:"string"}),b(E))}function b(E){return E===null||E===91||E===93||Me(E)||m++>999?(i.exit("chunkString"),v(E)):(i.consume(E),x||(x=!$e(E)),E===92?C:b)}function C(E){return E===91||E===92||E===93?(i.consume(E),m++,b):b(E)}}function cy(i,t,n,a,o,u){let c;return m;function m(C){return C===34||C===39||C===40?(i.enter(a),i.enter(o),i.consume(C),i.exit(o),c=C===40?41:C,x):n(C)}function x(C){return C===c?(i.enter(o),i.consume(C),i.exit(o),i.exit(a),t):(i.enter(u),f(C))}function f(C){return C===c?(i.exit(u),x(c)):C===null?n(C):Me(C)?(i.enter("lineEnding"),i.consume(C),i.exit("lineEnding"),at(i,f,"linePrefix")):(i.enter("chunkString",{contentType:"string"}),v(C))}function v(C){return C===c||C===null||Me(C)?(i.exit("chunkString"),f(C)):(i.consume(C),C===92?b:v)}function b(C){return C===c||C===92?(i.consume(C),v):v(C)}}function oa(i,t){let n;return a;function a(o){return Me(o)?(i.enter("lineEnding"),i.consume(o),i.exit("lineEnding"),n=!0,a):$e(o)?at(i,a,n?"linePrefix":"lineSuffix")(o):t(o)}}const mA={name:"definition",tokenize:gA},hA={partial:!0,tokenize:pA};function gA(i,t,n){const a=this;let o;return u;function u(E){return i.enter("definition"),c(E)}function c(E){return uy.call(a,i,m,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(E)}function m(E){return o=Gr(a.sliceSerialize(a.events[a.events.length-1][1]).slice(1,-1)),E===58?(i.enter("definitionMarker"),i.consume(E),i.exit("definitionMarker"),x):n(E)}function x(E){return $t(E)?oa(i,f)(E):f(E)}function f(E){return sy(i,v,n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(E)}function v(E){return i.attempt(hA,b,b)(E)}function b(E){return $e(E)?at(i,C,"whitespace")(E):C(E)}function C(E){return E===null||Me(E)?(i.exit("definition"),a.parser.defined.push(o),t(E)):n(E)}}function pA(i,t,n){return a;function a(m){return $t(m)?oa(i,o)(m):n(m)}function o(m){return cy(i,u,n,"definitionTitle","definitionTitleMarker","definitionTitleString")(m)}function u(m){return $e(m)?at(i,c,"whitespace")(m):c(m)}function c(m){return m===null||Me(m)?t(m):n(m)}}const yA={name:"hardBreakEscape",tokenize:xA};function xA(i,t,n){return a;function a(u){return i.enter("hardBreakEscape"),i.consume(u),o}function o(u){return Me(u)?(i.exit("hardBreakEscape"),t(u)):n(u)}}const vA={name:"headingAtx",resolve:bA,tokenize:TA};function bA(i,t){let n=i.length-2,a=3,o,u;return i[a][1].type==="whitespace"&&(a+=2),n-2>a&&i[n][1].type==="whitespace"&&(n-=2),i[n][1].type==="atxHeadingSequence"&&(a===n-1||n-4>a&&i[n-2][1].type==="whitespace")&&(n-=a+1===n?2:4),n>a&&(o={type:"atxHeadingText",start:i[a][1].start,end:i[n][1].end},u={type:"chunkText",start:i[a][1].start,end:i[n][1].end,contentType:"text"},Pn(i,a,n-a+1,[["enter",o,t],["enter",u,t],["exit",u,t],["exit",o,t]])),i}function TA(i,t,n){let a=0;return o;function o(v){return i.enter("atxHeading"),u(v)}function u(v){return i.enter("atxHeadingSequence"),c(v)}function c(v){return v===35&&a++<6?(i.consume(v),c):v===null||$t(v)?(i.exit("atxHeadingSequence"),m(v)):n(v)}function m(v){return v===35?(i.enter("atxHeadingSequence"),x(v)):v===null||Me(v)?(i.exit("atxHeading"),t(v)):$e(v)?at(i,m,"whitespace")(v):(i.enter("atxHeadingText"),f(v))}function x(v){return v===35?(i.consume(v),x):(i.exit("atxHeadingSequence"),m(v))}function f(v){return v===null||v===35||$t(v)?(i.exit("atxHeadingText"),m(v)):(i.consume(v),f)}}const SA=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],Kp=["pre","script","style","textarea"],CA={concrete:!0,name:"htmlFlow",resolveTo:AA,tokenize:NA},EA={partial:!0,tokenize:_A},wA={partial:!0,tokenize:MA};function AA(i){let t=i.length;for(;t--&&!(i[t][0]==="enter"&&i[t][1].type==="htmlFlow"););return t>1&&i[t-2][1].type==="linePrefix"&&(i[t][1].start=i[t-2][1].start,i[t+1][1].start=i[t-2][1].start,i.splice(t-2,2)),i}function NA(i,t,n){const a=this;let o,u,c,m,x;return f;function f(A){return v(A)}function v(A){return i.enter("htmlFlow"),i.enter("htmlFlowData"),i.consume(A),b}function b(A){return A===33?(i.consume(A),C):A===47?(i.consume(A),u=!0,B):A===63?(i.consume(A),o=3,a.interrupt?t:T):On(A)?(i.consume(A),c=String.fromCharCode(A),P):n(A)}function C(A){return A===45?(i.consume(A),o=2,E):A===91?(i.consume(A),o=5,m=0,M):On(A)?(i.consume(A),o=4,a.interrupt?t:T):n(A)}function E(A){return A===45?(i.consume(A),a.interrupt?t:T):n(A)}function M(A){const $="CDATA[";return A===$.charCodeAt(m++)?(i.consume(A),m===$.length?a.interrupt?t:ce:M):n(A)}function B(A){return On(A)?(i.consume(A),c=String.fromCharCode(A),P):n(A)}function P(A){if(A===null||A===47||A===62||$t(A)){const $=A===47,se=c.toLowerCase();return!$&&!u&&Kp.includes(se)?(o=1,a.interrupt?t(A):ce(A)):SA.includes(c.toLowerCase())?(o=6,$?(i.consume(A),j):a.interrupt?t(A):ce(A)):(o=7,a.interrupt&&!a.parser.lazy[a.now().line]?n(A):u?Z(A):Y(A))}return A===45||an(A)?(i.consume(A),c+=String.fromCharCode(A),P):n(A)}function j(A){return A===62?(i.consume(A),a.interrupt?t:ce):n(A)}function Z(A){return $e(A)?(i.consume(A),Z):he(A)}function Y(A){return A===47?(i.consume(A),he):A===58||A===95||On(A)?(i.consume(A),Q):$e(A)?(i.consume(A),Y):he(A)}function Q(A){return A===45||A===46||A===58||A===95||an(A)?(i.consume(A),Q):ne(A)}function ne(A){return A===61?(i.consume(A),K):$e(A)?(i.consume(A),ne):Y(A)}function K(A){return A===null||A===60||A===61||A===62||A===96?n(A):A===34||A===39?(i.consume(A),x=A,te):$e(A)?(i.consume(A),K):me(A)}function te(A){return A===x?(i.consume(A),x=null,ge):A===null||Me(A)?n(A):(i.consume(A),te)}function me(A){return A===null||A===34||A===39||A===47||A===60||A===61||A===62||A===96||$t(A)?ne(A):(i.consume(A),me)}function ge(A){return A===47||A===62||$e(A)?Y(A):n(A)}function he(A){return A===62?(i.consume(A),oe):n(A)}function oe(A){return A===null||Me(A)?ce(A):$e(A)?(i.consume(A),oe):n(A)}function ce(A){return A===45&&o===2?(i.consume(A),H):A===60&&o===1?(i.consume(A),R):A===62&&o===4?(i.consume(A),I):A===63&&o===3?(i.consume(A),T):A===93&&o===5?(i.consume(A),_):Me(A)&&(o===6||o===7)?(i.exit("htmlFlowData"),i.check(EA,U,fe)(A)):A===null||Me(A)?(i.exit("htmlFlowData"),fe(A)):(i.consume(A),ce)}function fe(A){return i.check(wA,re,U)(A)}function re(A){return i.enter("lineEnding"),i.consume(A),i.exit("lineEnding"),de}function de(A){return A===null||Me(A)?fe(A):(i.enter("htmlFlowData"),ce(A))}function H(A){return A===45?(i.consume(A),T):ce(A)}function R(A){return A===47?(i.consume(A),c="",N):ce(A)}function N(A){if(A===62){const $=c.toLowerCase();return Kp.includes($)?(i.consume(A),I):ce(A)}return On(A)&&c.length<8?(i.consume(A),c+=String.fromCharCode(A),N):ce(A)}function _(A){return A===93?(i.consume(A),T):ce(A)}function T(A){return A===62?(i.consume(A),I):A===45&&o===2?(i.consume(A),T):ce(A)}function I(A){return A===null||Me(A)?(i.exit("htmlFlowData"),U(A)):(i.consume(A),I)}function U(A){return i.exit("htmlFlow"),t(A)}}function MA(i,t,n){const a=this;return o;function o(c){return Me(c)?(i.enter("lineEnding"),i.consume(c),i.exit("lineEnding"),u):n(c)}function u(c){return a.parser.lazy[a.now().line]?n(c):t(c)}}function _A(i,t,n){return a;function a(o){return i.enter("lineEnding"),i.consume(o),i.exit("lineEnding"),i.attempt(is,t,n)}}const DA={name:"htmlText",tokenize:IA};function IA(i,t,n){const a=this;let o,u,c;return m;function m(T){return i.enter("htmlText"),i.enter("htmlTextData"),i.consume(T),x}function x(T){return T===33?(i.consume(T),f):T===47?(i.consume(T),ne):T===63?(i.consume(T),Y):On(T)?(i.consume(T),me):n(T)}function f(T){return T===45?(i.consume(T),v):T===91?(i.consume(T),u=0,M):On(T)?(i.consume(T),Z):n(T)}function v(T){return T===45?(i.consume(T),E):n(T)}function b(T){return T===null?n(T):T===45?(i.consume(T),C):Me(T)?(c=b,R(T)):(i.consume(T),b)}function C(T){return T===45?(i.consume(T),E):b(T)}function E(T){return T===62?H(T):T===45?C(T):b(T)}function M(T){const I="CDATA[";return T===I.charCodeAt(u++)?(i.consume(T),u===I.length?B:M):n(T)}function B(T){return T===null?n(T):T===93?(i.consume(T),P):Me(T)?(c=B,R(T)):(i.consume(T),B)}function P(T){return T===93?(i.consume(T),j):B(T)}function j(T){return T===62?H(T):T===93?(i.consume(T),j):B(T)}function Z(T){return T===null||T===62?H(T):Me(T)?(c=Z,R(T)):(i.consume(T),Z)}function Y(T){return T===null?n(T):T===63?(i.consume(T),Q):Me(T)?(c=Y,R(T)):(i.consume(T),Y)}function Q(T){return T===62?H(T):Y(T)}function ne(T){return On(T)?(i.consume(T),K):n(T)}function K(T){return T===45||an(T)?(i.consume(T),K):te(T)}function te(T){return Me(T)?(c=te,R(T)):$e(T)?(i.consume(T),te):H(T)}function me(T){return T===45||an(T)?(i.consume(T),me):T===47||T===62||$t(T)?ge(T):n(T)}function ge(T){return T===47?(i.consume(T),H):T===58||T===95||On(T)?(i.consume(T),he):Me(T)?(c=ge,R(T)):$e(T)?(i.consume(T),ge):H(T)}function he(T){return T===45||T===46||T===58||T===95||an(T)?(i.consume(T),he):oe(T)}function oe(T){return T===61?(i.consume(T),ce):Me(T)?(c=oe,R(T)):$e(T)?(i.consume(T),oe):ge(T)}function ce(T){return T===null||T===60||T===61||T===62||T===96?n(T):T===34||T===39?(i.consume(T),o=T,fe):Me(T)?(c=ce,R(T)):$e(T)?(i.consume(T),ce):(i.consume(T),re)}function fe(T){return T===o?(i.consume(T),o=void 0,de):T===null?n(T):Me(T)?(c=fe,R(T)):(i.consume(T),fe)}function re(T){return T===null||T===34||T===39||T===60||T===61||T===96?n(T):T===47||T===62||$t(T)?ge(T):(i.consume(T),re)}function de(T){return T===47||T===62||$t(T)?ge(T):n(T)}function H(T){return T===62?(i.consume(T),i.exit("htmlTextData"),i.exit("htmlText"),t):n(T)}function R(T){return i.exit("htmlTextData"),i.enter("lineEnding"),i.consume(T),i.exit("lineEnding"),N}function N(T){return $e(T)?at(i,_,"linePrefix",a.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(T):_(T)}function _(T){return i.enter("htmlTextData"),c(T)}}const vd={name:"labelEnd",resolveAll:LA,resolveTo:UA,tokenize:zA},kA={tokenize:jA},RA={tokenize:OA},BA={tokenize:PA};function LA(i){let t=-1;const n=[];for(;++t<i.length;){const a=i[t][1];if(n.push(i[t]),a.type==="labelImage"||a.type==="labelLink"||a.type==="labelEnd"){const o=a.type==="labelImage"?4:2;a.type="data",t+=o}}return i.length!==n.length&&Pn(i,0,i.length,n),i}function UA(i,t){let n=i.length,a=0,o,u,c,m;for(;n--;)if(o=i[n][1],u){if(o.type==="link"||o.type==="labelLink"&&o._inactive)break;i[n][0]==="enter"&&o.type==="labelLink"&&(o._inactive=!0)}else if(c){if(i[n][0]==="enter"&&(o.type==="labelImage"||o.type==="labelLink")&&!o._balanced&&(u=n,o.type!=="labelLink")){a=2;break}}else o.type==="labelEnd"&&(c=n);const x={type:i[u][1].type==="labelLink"?"link":"image",start:{...i[u][1].start},end:{...i[i.length-1][1].end}},f={type:"label",start:{...i[u][1].start},end:{...i[c][1].end}},v={type:"labelText",start:{...i[u+a+2][1].end},end:{...i[c-2][1].start}};return m=[["enter",x,t],["enter",f,t]],m=Sn(m,i.slice(u+1,u+a+3)),m=Sn(m,[["enter",v,t]]),m=Sn(m,xd(t.parser.constructs.insideSpan.null,i.slice(u+a+4,c-3),t)),m=Sn(m,[["exit",v,t],i[c-2],i[c-1],["exit",f,t]]),m=Sn(m,i.slice(c+1)),m=Sn(m,[["exit",x,t]]),Pn(i,u,i.length,m),i}function zA(i,t,n){const a=this;let o=a.events.length,u,c;for(;o--;)if((a.events[o][1].type==="labelImage"||a.events[o][1].type==="labelLink")&&!a.events[o][1]._balanced){u=a.events[o][1];break}return m;function m(C){return u?u._inactive?b(C):(c=a.parser.defined.includes(Gr(a.sliceSerialize({start:u.end,end:a.now()}))),i.enter("labelEnd"),i.enter("labelMarker"),i.consume(C),i.exit("labelMarker"),i.exit("labelEnd"),x):n(C)}function x(C){return C===40?i.attempt(kA,v,c?v:b)(C):C===91?i.attempt(RA,v,c?f:b)(C):c?v(C):b(C)}function f(C){return i.attempt(BA,v,b)(C)}function v(C){return t(C)}function b(C){return u._balanced=!0,n(C)}}function jA(i,t,n){return a;function a(b){return i.enter("resource"),i.enter("resourceMarker"),i.consume(b),i.exit("resourceMarker"),o}function o(b){return $t(b)?oa(i,u)(b):u(b)}function u(b){return b===41?v(b):sy(i,c,m,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(b)}function c(b){return $t(b)?oa(i,x)(b):v(b)}function m(b){return n(b)}function x(b){return b===34||b===39||b===40?cy(i,f,n,"resourceTitle","resourceTitleMarker","resourceTitleString")(b):v(b)}function f(b){return $t(b)?oa(i,v)(b):v(b)}function v(b){return b===41?(i.enter("resourceMarker"),i.consume(b),i.exit("resourceMarker"),i.exit("resource"),t):n(b)}}function OA(i,t,n){const a=this;return o;function o(m){return uy.call(a,i,u,c,"reference","referenceMarker","referenceString")(m)}function u(m){return a.parser.defined.includes(Gr(a.sliceSerialize(a.events[a.events.length-1][1]).slice(1,-1)))?t(m):n(m)}function c(m){return n(m)}}function PA(i,t,n){return a;function a(u){return i.enter("reference"),i.enter("referenceMarker"),i.consume(u),i.exit("referenceMarker"),o}function o(u){return u===93?(i.enter("referenceMarker"),i.consume(u),i.exit("referenceMarker"),i.exit("reference"),t):n(u)}}const VA={name:"labelStartImage",resolveAll:vd.resolveAll,tokenize:HA};function HA(i,t,n){const a=this;return o;function o(m){return i.enter("labelImage"),i.enter("labelImageMarker"),i.consume(m),i.exit("labelImageMarker"),u}function u(m){return m===91?(i.enter("labelMarker"),i.consume(m),i.exit("labelMarker"),i.exit("labelImage"),c):n(m)}function c(m){return m===94&&"_hiddenFootnoteSupport"in a.parser.constructs?n(m):t(m)}}const qA={name:"labelStartLink",resolveAll:vd.resolveAll,tokenize:GA};function GA(i,t,n){const a=this;return o;function o(c){return i.enter("labelLink"),i.enter("labelMarker"),i.consume(c),i.exit("labelMarker"),i.exit("labelLink"),u}function u(c){return c===94&&"_hiddenFootnoteSupport"in a.parser.constructs?n(c):t(c)}}const _c={name:"lineEnding",tokenize:FA};function FA(i,t){return n;function n(a){return i.enter("lineEnding"),i.consume(a),i.exit("lineEnding"),at(i,t,"linePrefix")}}const qo={name:"thematicBreak",tokenize:YA};function YA(i,t,n){let a=0,o;return u;function u(f){return i.enter("thematicBreak"),c(f)}function c(f){return o=f,m(f)}function m(f){return f===o?(i.enter("thematicBreakSequence"),x(f)):a>=3&&(f===null||Me(f))?(i.exit("thematicBreak"),t(f)):n(f)}function x(f){return f===o?(i.consume(f),a++,x):(i.exit("thematicBreakSequence"),$e(f)?at(i,m,"whitespace")(f):m(f))}}const Ft={continuation:{tokenize:JA},exit:ZA,name:"list",tokenize:XA},KA={partial:!0,tokenize:WA},$A={partial:!0,tokenize:QA};function XA(i,t,n){const a=this,o=a.events[a.events.length-1];let u=o&&o[1].type==="linePrefix"?o[2].sliceSerialize(o[1],!0).length:0,c=0;return m;function m(E){const M=a.containerState.type||(E===42||E===43||E===45?"listUnordered":"listOrdered");if(M==="listUnordered"?!a.containerState.marker||E===a.containerState.marker:nd(E)){if(a.containerState.type||(a.containerState.type=M,i.enter(M,{_container:!0})),M==="listUnordered")return i.enter("listItemPrefix"),E===42||E===45?i.check(qo,n,f)(E):f(E);if(!a.interrupt||E===49)return i.enter("listItemPrefix"),i.enter("listItemValue"),x(E)}return n(E)}function x(E){return nd(E)&&++c<10?(i.consume(E),x):(!a.interrupt||c<2)&&(a.containerState.marker?E===a.containerState.marker:E===41||E===46)?(i.exit("listItemValue"),f(E)):n(E)}function f(E){return i.enter("listItemMarker"),i.consume(E),i.exit("listItemMarker"),a.containerState.marker=a.containerState.marker||E,i.check(is,a.interrupt?n:v,i.attempt(KA,C,b))}function v(E){return a.containerState.initialBlankLine=!0,u++,C(E)}function b(E){return $e(E)?(i.enter("listItemPrefixWhitespace"),i.consume(E),i.exit("listItemPrefixWhitespace"),C):n(E)}function C(E){return a.containerState.size=u+a.sliceSerialize(i.exit("listItemPrefix"),!0).length,t(E)}}function JA(i,t,n){const a=this;return a.containerState._closeFlow=void 0,i.check(is,o,u);function o(m){return a.containerState.furtherBlankLines=a.containerState.furtherBlankLines||a.containerState.initialBlankLine,at(i,t,"listItemIndent",a.containerState.size+1)(m)}function u(m){return a.containerState.furtherBlankLines||!$e(m)?(a.containerState.furtherBlankLines=void 0,a.containerState.initialBlankLine=void 0,c(m)):(a.containerState.furtherBlankLines=void 0,a.containerState.initialBlankLine=void 0,i.attempt($A,t,c)(m))}function c(m){return a.containerState._closeFlow=!0,a.interrupt=void 0,at(i,i.attempt(Ft,t,n),"linePrefix",a.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(m)}}function QA(i,t,n){const a=this;return at(i,o,"listItemIndent",a.containerState.size+1);function o(u){const c=a.events[a.events.length-1];return c&&c[1].type==="listItemIndent"&&c[2].sliceSerialize(c[1],!0).length===a.containerState.size?t(u):n(u)}}function ZA(i){i.exit(this.containerState.type)}function WA(i,t,n){const a=this;return at(i,o,"listItemPrefixWhitespace",a.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function o(u){const c=a.events[a.events.length-1];return!$e(u)&&c&&c[1].type==="listItemPrefixWhitespace"?t(u):n(u)}}const $p={name:"setextUnderline",resolveTo:eN,tokenize:tN};function eN(i,t){let n=i.length,a,o,u;for(;n--;)if(i[n][0]==="enter"){if(i[n][1].type==="content"){a=n;break}i[n][1].type==="paragraph"&&(o=n)}else i[n][1].type==="content"&&i.splice(n,1),!u&&i[n][1].type==="definition"&&(u=n);const c={type:"setextHeading",start:{...i[a][1].start},end:{...i[i.length-1][1].end}};return i[o][1].type="setextHeadingText",u?(i.splice(o,0,["enter",c,t]),i.splice(u+1,0,["exit",i[a][1],t]),i[a][1].end={...i[u][1].end}):i[a][1]=c,i.push(["exit",c,t]),i}function tN(i,t,n){const a=this;let o;return u;function u(f){let v=a.events.length,b;for(;v--;)if(a.events[v][1].type!=="lineEnding"&&a.events[v][1].type!=="linePrefix"&&a.events[v][1].type!=="content"){b=a.events[v][1].type==="paragraph";break}return!a.parser.lazy[a.now().line]&&(a.interrupt||b)?(i.enter("setextHeadingLine"),o=f,c(f)):n(f)}function c(f){return i.enter("setextHeadingLineSequence"),m(f)}function m(f){return f===o?(i.consume(f),m):(i.exit("setextHeadingLineSequence"),$e(f)?at(i,x,"lineSuffix")(f):x(f))}function x(f){return f===null||Me(f)?(i.exit("setextHeadingLine"),t(f)):n(f)}}const nN={tokenize:iN};function iN(i){const t=this,n=i.attempt(is,a,i.attempt(this.parser.constructs.flowInitial,o,at(i,i.attempt(this.parser.constructs.flow,o,i.attempt(sA,o)),"linePrefix")));return n;function a(u){if(u===null){i.consume(u);return}return i.enter("lineEndingBlank"),i.consume(u),i.exit("lineEndingBlank"),t.currentConstruct=void 0,n}function o(u){if(u===null){i.consume(u);return}return i.enter("lineEnding"),i.consume(u),i.exit("lineEnding"),t.currentConstruct=void 0,n}}const rN={resolveAll:fy()},lN=dy("string"),aN=dy("text");function dy(i){return{resolveAll:fy(i==="text"?oN:void 0),tokenize:t};function t(n){const a=this,o=this.parser.constructs[i],u=n.attempt(o,c,m);return c;function c(v){return f(v)?u(v):m(v)}function m(v){if(v===null){n.consume(v);return}return n.enter("data"),n.consume(v),x}function x(v){return f(v)?(n.exit("data"),u(v)):(n.consume(v),x)}function f(v){if(v===null)return!0;const b=o[v];let C=-1;if(b)for(;++C<b.length;){const E=b[C];if(!E.previous||E.previous.call(a,a.previous))return!0}return!1}}}function fy(i){return t;function t(n,a){let o=-1,u;for(;++o<=n.length;)u===void 0?n[o]&&n[o][1].type==="data"&&(u=o,o++):(!n[o]||n[o][1].type!=="data")&&(o!==u+2&&(n[u][1].end=n[o-1][1].end,n.splice(u+2,o-u-2),o=u+2),u=void 0);return i?i(n,a):n}}function oN(i,t){let n=0;for(;++n<=i.length;)if((n===i.length||i[n][1].type==="lineEnding")&&i[n-1][1].type==="data"){const a=i[n-1][1],o=t.sliceStream(a);let u=o.length,c=-1,m=0,x;for(;u--;){const f=o[u];if(typeof f=="string"){for(c=f.length;f.charCodeAt(c-1)===32;)m++,c--;if(c)break;c=-1}else if(f===-2)x=!0,m++;else if(f!==-1){u++;break}}if(t._contentTypeTextTrailing&&n===i.length&&(m=0),m){const f={type:n===i.length||x||m<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:u?c:a.start._bufferIndex+c,_index:a.start._index+u,line:a.end.line,column:a.end.column-m,offset:a.end.offset-m},end:{...a.end}};a.end={...f.start},a.start.offset===a.end.offset?Object.assign(a,f):(i.splice(n,0,["enter",f,t],["exit",f,t]),n+=2)}n++}return i}const sN={42:Ft,43:Ft,45:Ft,48:Ft,49:Ft,50:Ft,51:Ft,52:Ft,53:Ft,54:Ft,55:Ft,56:Ft,57:Ft,62:ry},uN={91:mA},cN={[-2]:Mc,[-1]:Mc,32:Mc},dN={35:vA,42:qo,45:[$p,qo],60:CA,61:$p,95:qo,96:Yp,126:Yp},fN={38:ay,92:ly},mN={[-5]:_c,[-4]:_c,[-3]:_c,33:VA,38:ay,42:id,60:[qw,DA],91:qA,92:[yA,ly],93:vd,95:id,96:nA},hN={null:[id,rN]},gN={null:[42,95]},pN={null:[]},yN=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:gN,contentInitial:uN,disable:pN,document:sN,flow:dN,flowInitial:cN,insideSpan:hN,string:fN,text:mN},Symbol.toStringTag,{value:"Module"}));function xN(i,t,n){let a={_bufferIndex:-1,_index:0,line:n&&n.line||1,column:n&&n.column||1,offset:n&&n.offset||0};const o={},u=[];let c=[],m=[];const x={attempt:te(ne),check:te(K),consume:Z,enter:Y,exit:Q,interrupt:te(K,{interrupt:!0})},f={code:null,containerState:{},defineSkip:B,events:[],now:M,parser:i,previous:null,sliceSerialize:C,sliceStream:E,write:b};let v=t.tokenize.call(f,x);return t.resolveAll&&u.push(t),f;function b(oe){return c=Sn(c,oe),P(),c[c.length-1]!==null?[]:(me(t,0),f.events=xd(u,f.events,f),f.events)}function C(oe,ce){return bN(E(oe),ce)}function E(oe){return vN(c,oe)}function M(){const{_bufferIndex:oe,_index:ce,line:fe,column:re,offset:de}=a;return{_bufferIndex:oe,_index:ce,line:fe,column:re,offset:de}}function B(oe){o[oe.line]=oe.column,he()}function P(){let oe;for(;a._index<c.length;){const ce=c[a._index];if(typeof ce=="string")for(oe=a._index,a._bufferIndex<0&&(a._bufferIndex=0);a._index===oe&&a._bufferIndex<ce.length;)j(ce.charCodeAt(a._bufferIndex));else j(ce)}}function j(oe){v=v(oe)}function Z(oe){Me(oe)?(a.line++,a.column=1,a.offset+=oe===-3?2:1,he()):oe!==-1&&(a.column++,a.offset++),a._bufferIndex<0?a._index++:(a._bufferIndex++,a._bufferIndex===c[a._index].length&&(a._bufferIndex=-1,a._index++)),f.previous=oe}function Y(oe,ce){const fe=ce||{};return fe.type=oe,fe.start=M(),f.events.push(["enter",fe,f]),m.push(fe),fe}function Q(oe){const ce=m.pop();return ce.end=M(),f.events.push(["exit",ce,f]),ce}function ne(oe,ce){me(oe,ce.from)}function K(oe,ce){ce.restore()}function te(oe,ce){return fe;function fe(re,de,H){let R,N,_,T;return Array.isArray(re)?U(re):"tokenize"in re?U([re]):I(re);function I(ae){return Xe;function Xe(_e){const F=_e!==null&&ae[_e],ve=_e!==null&&ae.null,ye=[...Array.isArray(F)?F:F?[F]:[],...Array.isArray(ve)?ve:ve?[ve]:[]];return U(ye)(_e)}}function U(ae){return R=ae,N=0,ae.length===0?H:A(ae[N])}function A(ae){return Xe;function Xe(_e){return T=ge(),_=ae,ae.partial||(f.currentConstruct=ae),ae.name&&f.parser.constructs.disable.null.includes(ae.name)?se():ae.tokenize.call(ce?Object.assign(Object.create(f),ce):f,x,$,se)(_e)}}function $(ae){return oe(_,T),de}function se(ae){return T.restore(),++N<R.length?A(R[N]):H}}}function me(oe,ce){oe.resolveAll&&!u.includes(oe)&&u.push(oe),oe.resolve&&Pn(f.events,ce,f.events.length-ce,oe.resolve(f.events.slice(ce),f)),oe.resolveTo&&(f.events=oe.resolveTo(f.events,f))}function ge(){const oe=M(),ce=f.previous,fe=f.currentConstruct,re=f.events.length,de=Array.from(m);return{from:re,restore:H};function H(){a=oe,f.previous=ce,f.currentConstruct=fe,f.events.length=re,m=de,he()}}function he(){a.line in o&&a.column<2&&(a.column=o[a.line],a.offset+=o[a.line]-1)}}function vN(i,t){const n=t.start._index,a=t.start._bufferIndex,o=t.end._index,u=t.end._bufferIndex;let c;if(n===o)c=[i[n].slice(a,u)];else{if(c=i.slice(n,o),a>-1){const m=c[0];typeof m=="string"?c[0]=m.slice(a):c.shift()}u>0&&c.push(i[o].slice(0,u))}return c}function bN(i,t){let n=-1;const a=[];let o;for(;++n<i.length;){const u=i[n];let c;if(typeof u=="string")c=u;else switch(u){case-5:{c="\r";break}case-4:{c=`
`;break}case-3:{c=`\r
`;break}case-2:{c=t?" ":"	";break}case-1:{if(!t&&o)continue;c=" ";break}default:c=String.fromCharCode(u)}o=u===-2,a.push(c)}return a.join("")}function TN(i){const a={constructs:Mw([yN,...(i||{}).extensions||[]]),content:o(Uw),defined:[],document:o(jw),flow:o(nN),lazy:{},string:o(lN),text:o(aN)};return a;function o(u){return c;function c(m){return xN(a,u,m)}}}function SN(i){for(;!oy(i););return i}const Xp=/[\0\t\n\r]/g;function CN(){let i=1,t="",n=!0,a;return o;function o(u,c,m){const x=[];let f,v,b,C,E;for(u=t+(typeof u=="string"?u.toString():new TextDecoder(c||void 0).decode(u)),b=0,t="",n&&(u.charCodeAt(0)===65279&&b++,n=void 0);b<u.length;){if(Xp.lastIndex=b,f=Xp.exec(u),C=f&&f.index!==void 0?f.index:u.length,E=u.charCodeAt(C),!f){t=u.slice(b);break}if(E===10&&b===C&&a)x.push(-3),a=void 0;else switch(a&&(x.push(-5),a=void 0),b<C&&(x.push(u.slice(b,C)),i+=C-b),E){case 0:{x.push(65533),i++;break}case 9:{for(v=Math.ceil(i/4)*4,x.push(-2);i++<v;)x.push(-1);break}case 10:{x.push(-4),i=1;break}default:a=!0,i=1}b=C+1}return m&&(a&&x.push(-5),t&&x.push(t),x.push(null)),x}}const EN=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function wN(i){return i.replace(EN,AN)}function AN(i,t,n){if(t)return t;if(n.charCodeAt(0)===35){const o=n.charCodeAt(1),u=o===120||o===88;return iy(n.slice(u?2:1),u?16:10)}return yd(n)||i}const my={}.hasOwnProperty;function NN(i,t,n){return typeof t!="string"&&(n=t,t=void 0),MN(n)(SN(TN(n).document().write(CN()(i,t,!0))))}function MN(i){const t={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:u(on),autolinkProtocol:ge,autolinkEmail:ge,atxHeading:u(Be),blockQuote:u(ve),characterEscape:ge,characterReference:ge,codeFenced:u(ye),codeFencedFenceInfo:c,codeFencedFenceMeta:c,codeIndented:u(ye,c),codeText:u(Ae,c),codeTextData:ge,data:ge,codeFlowValue:ge,definition:u(Ie),definitionDestinationString:c,definitionLabelString:c,definitionTitleString:c,emphasis:u(Ge),hardBreakEscape:u(Je),hardBreakTrailing:u(Je),htmlFlow:u(Ve,c),htmlFlowData:ge,htmlText:u(Ve,c),htmlTextData:ge,image:u(Jt),label:c,link:u(on),listItem:u(_n),listItemValue:C,listOrdered:u(Cn,b),listUnordered:u(Cn),paragraph:u(Jr),reference:A,referenceString:c,resourceDestinationString:c,resourceTitleString:c,setextHeading:u(Be),strong:u(nr),thematicBreak:u(Zr)},exit:{atxHeading:x(),atxHeadingSequence:ne,autolink:x(),autolinkEmail:F,autolinkProtocol:_e,blockQuote:x(),characterEscapeValue:he,characterReferenceMarkerHexadecimal:se,characterReferenceMarkerNumeric:se,characterReferenceValue:ae,characterReference:Xe,codeFenced:x(P),codeFencedFence:B,codeFencedFenceInfo:E,codeFencedFenceMeta:M,codeFlowValue:he,codeIndented:x(j),codeText:x(de),codeTextData:he,data:he,definition:x(),definitionDestinationString:Q,definitionLabelString:Z,definitionTitleString:Y,emphasis:x(),hardBreakEscape:x(ce),hardBreakTrailing:x(ce),htmlFlow:x(fe),htmlFlowData:he,htmlText:x(re),htmlTextData:he,image:x(R),label:_,labelText:N,lineEnding:oe,link:x(H),listItem:x(),listOrdered:x(),listUnordered:x(),paragraph:x(),referenceString:$,resourceDestinationString:T,resourceTitleString:I,resource:U,setextHeading:x(me),setextHeadingLineSequence:te,setextHeadingText:K,strong:x(),thematicBreak:x()}};hy(t,(i||{}).mdastExtensions||[]);const n={};return a;function a(X){let ie={type:"root",children:[]};const Se={stack:[ie],tokenStack:[],config:t,enter:m,exit:f,buffer:c,resume:v,data:n},Ce=[];let Fe=-1;for(;++Fe<X.length;)if(X[Fe][1].type==="listOrdered"||X[Fe][1].type==="listUnordered")if(X[Fe][0]==="enter")Ce.push(Fe);else{const jt=Ce.pop();Fe=o(X,jt,Fe)}for(Fe=-1;++Fe<X.length;){const jt=t[X[Fe][0]];my.call(jt,X[Fe][1].type)&&jt[X[Fe][1].type].call(Object.assign({sliceSerialize:X[Fe][2].sliceSerialize},Se),X[Fe][1])}if(Se.tokenStack.length>0){const jt=Se.tokenStack[Se.tokenStack.length-1];(jt[1]||Jp).call(Se,void 0,jt[0])}for(ie.position={start:Ni(X.length>0?X[0][1].start:{line:1,column:1,offset:0}),end:Ni(X.length>0?X[X.length-2][1].end:{line:1,column:1,offset:0})},Fe=-1;++Fe<t.transforms.length;)ie=t.transforms[Fe](ie)||ie;return ie}function o(X,ie,Se){let Ce=ie-1,Fe=-1,jt=!1,sn,Rt,un,ot;for(;++Ce<=Se;){const ht=X[Ce];switch(ht[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{ht[0]==="enter"?Fe++:Fe--,ot=void 0;break}case"lineEndingBlank":{ht[0]==="enter"&&(sn&&!ot&&!Fe&&!un&&(un=Ce),ot=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:ot=void 0}if(!Fe&&ht[0]==="enter"&&ht[1].type==="listItemPrefix"||Fe===-1&&ht[0]==="exit"&&(ht[1].type==="listUnordered"||ht[1].type==="listOrdered")){if(sn){let Ot=Ce;for(Rt=void 0;Ot--;){const G=X[Ot];if(G[1].type==="lineEnding"||G[1].type==="lineEndingBlank"){if(G[0]==="exit")continue;Rt&&(X[Rt][1].type="lineEndingBlank",jt=!0),G[1].type="lineEnding",Rt=Ot}else if(!(G[1].type==="linePrefix"||G[1].type==="blockQuotePrefix"||G[1].type==="blockQuotePrefixWhitespace"||G[1].type==="blockQuoteMarker"||G[1].type==="listItemIndent"))break}un&&(!Rt||un<Rt)&&(sn._spread=!0),sn.end=Object.assign({},Rt?X[Rt][1].start:ht[1].end),X.splice(Rt||Ce,0,["exit",sn,ht[2]]),Ce++,Se++}if(ht[1].type==="listItemPrefix"){const Ot={type:"listItem",_spread:!1,start:Object.assign({},ht[1].start),end:void 0};sn=Ot,X.splice(Ce,0,["enter",Ot,ht[2]]),Ce++,Se++,un=void 0,ot=!0}}}return X[ie][1]._spread=jt,Se}function u(X,ie){return Se;function Se(Ce){m.call(this,X(Ce),Ce),ie&&ie.call(this,Ce)}}function c(){this.stack.push({type:"fragment",children:[]})}function m(X,ie,Se){this.stack[this.stack.length-1].children.push(X),this.stack.push(X),this.tokenStack.push([ie,Se||void 0]),X.position={start:Ni(ie.start),end:void 0}}function x(X){return ie;function ie(Se){X&&X.call(this,Se),f.call(this,Se)}}function f(X,ie){const Se=this.stack.pop(),Ce=this.tokenStack.pop();if(Ce)Ce[0].type!==X.type&&(ie?ie.call(this,X,Ce[0]):(Ce[1]||Jp).call(this,X,Ce[0]));else throw new Error("Cannot close `"+X.type+"` ("+aa({start:X.start,end:X.end})+"): it’s not open");Se.position.end=Ni(X.end)}function v(){return Aw(this.stack.pop())}function b(){this.data.expectingFirstListItemValue=!0}function C(X){if(this.data.expectingFirstListItemValue){const ie=this.stack[this.stack.length-2];ie.start=Number.parseInt(this.sliceSerialize(X),10),this.data.expectingFirstListItemValue=void 0}}function E(){const X=this.resume(),ie=this.stack[this.stack.length-1];ie.lang=X}function M(){const X=this.resume(),ie=this.stack[this.stack.length-1];ie.meta=X}function B(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function P(){const X=this.resume(),ie=this.stack[this.stack.length-1];ie.value=X.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function j(){const X=this.resume(),ie=this.stack[this.stack.length-1];ie.value=X.replace(/(\r?\n|\r)$/g,"")}function Z(X){const ie=this.resume(),Se=this.stack[this.stack.length-1];Se.label=ie,Se.identifier=Gr(this.sliceSerialize(X)).toLowerCase()}function Y(){const X=this.resume(),ie=this.stack[this.stack.length-1];ie.title=X}function Q(){const X=this.resume(),ie=this.stack[this.stack.length-1];ie.url=X}function ne(X){const ie=this.stack[this.stack.length-1];if(!ie.depth){const Se=this.sliceSerialize(X).length;ie.depth=Se}}function K(){this.data.setextHeadingSlurpLineEnding=!0}function te(X){const ie=this.stack[this.stack.length-1];ie.depth=this.sliceSerialize(X).codePointAt(0)===61?1:2}function me(){this.data.setextHeadingSlurpLineEnding=void 0}function ge(X){const Se=this.stack[this.stack.length-1].children;let Ce=Se[Se.length-1];(!Ce||Ce.type!=="text")&&(Ce=Qr(),Ce.position={start:Ni(X.start),end:void 0},Se.push(Ce)),this.stack.push(Ce)}function he(X){const ie=this.stack.pop();ie.value+=this.sliceSerialize(X),ie.position.end=Ni(X.end)}function oe(X){const ie=this.stack[this.stack.length-1];if(this.data.atHardBreak){const Se=ie.children[ie.children.length-1];Se.position.end=Ni(X.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&t.canContainEols.includes(ie.type)&&(ge.call(this,X),he.call(this,X))}function ce(){this.data.atHardBreak=!0}function fe(){const X=this.resume(),ie=this.stack[this.stack.length-1];ie.value=X}function re(){const X=this.resume(),ie=this.stack[this.stack.length-1];ie.value=X}function de(){const X=this.resume(),ie=this.stack[this.stack.length-1];ie.value=X}function H(){const X=this.stack[this.stack.length-1];if(this.data.inReference){const ie=this.data.referenceType||"shortcut";X.type+="Reference",X.referenceType=ie,delete X.url,delete X.title}else delete X.identifier,delete X.label;this.data.referenceType=void 0}function R(){const X=this.stack[this.stack.length-1];if(this.data.inReference){const ie=this.data.referenceType||"shortcut";X.type+="Reference",X.referenceType=ie,delete X.url,delete X.title}else delete X.identifier,delete X.label;this.data.referenceType=void 0}function N(X){const ie=this.sliceSerialize(X),Se=this.stack[this.stack.length-2];Se.label=wN(ie),Se.identifier=Gr(ie).toLowerCase()}function _(){const X=this.stack[this.stack.length-1],ie=this.resume(),Se=this.stack[this.stack.length-1];if(this.data.inReference=!0,Se.type==="link"){const Ce=X.children;Se.children=Ce}else Se.alt=ie}function T(){const X=this.resume(),ie=this.stack[this.stack.length-1];ie.url=X}function I(){const X=this.resume(),ie=this.stack[this.stack.length-1];ie.title=X}function U(){this.data.inReference=void 0}function A(){this.data.referenceType="collapsed"}function $(X){const ie=this.resume(),Se=this.stack[this.stack.length-1];Se.label=ie,Se.identifier=Gr(this.sliceSerialize(X)).toLowerCase(),this.data.referenceType="full"}function se(X){this.data.characterReferenceType=X.type}function ae(X){const ie=this.sliceSerialize(X),Se=this.data.characterReferenceType;let Ce;Se?(Ce=iy(ie,Se==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):Ce=yd(ie);const Fe=this.stack[this.stack.length-1];Fe.value+=Ce}function Xe(X){const ie=this.stack.pop();ie.position.end=Ni(X.end)}function _e(X){he.call(this,X);const ie=this.stack[this.stack.length-1];ie.url=this.sliceSerialize(X)}function F(X){he.call(this,X);const ie=this.stack[this.stack.length-1];ie.url="mailto:"+this.sliceSerialize(X)}function ve(){return{type:"blockquote",children:[]}}function ye(){return{type:"code",lang:null,meta:null,value:""}}function Ae(){return{type:"inlineCode",value:""}}function Ie(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function Ge(){return{type:"emphasis",children:[]}}function Be(){return{type:"heading",depth:0,children:[]}}function Je(){return{type:"break"}}function Ve(){return{type:"html",value:""}}function Jt(){return{type:"image",title:null,url:"",alt:null}}function on(){return{type:"link",title:null,url:"",children:[]}}function Cn(X){return{type:"list",ordered:X.type==="listOrdered",start:null,spread:X._spread,children:[]}}function _n(X){return{type:"listItem",spread:X._spread,checked:null,children:[]}}function Jr(){return{type:"paragraph",children:[]}}function nr(){return{type:"strong",children:[]}}function Qr(){return{type:"text",value:""}}function Zr(){return{type:"thematicBreak"}}}function Ni(i){return{line:i.line,column:i.column,offset:i.offset}}function hy(i,t){let n=-1;for(;++n<t.length;){const a=t[n];Array.isArray(a)?hy(i,a):_N(i,a)}}function _N(i,t){let n;for(n in t)if(my.call(t,n))switch(n){case"canContainEols":{const a=t[n];a&&i[n].push(...a);break}case"transforms":{const a=t[n];a&&i[n].push(...a);break}case"enter":case"exit":{const a=t[n];a&&Object.assign(i[n],a);break}}}function Jp(i,t){throw i?new Error("Cannot close `"+i.type+"` ("+aa({start:i.start,end:i.end})+"): a different token (`"+t.type+"`, "+aa({start:t.start,end:t.end})+") is open"):new Error("Cannot close document, a token (`"+t.type+"`, "+aa({start:t.start,end:t.end})+") is still open")}function DN(i){const t=this;t.parser=n;function n(a){return NN(a,{...t.data("settings"),...i,extensions:t.data("micromarkExtensions")||[],mdastExtensions:t.data("fromMarkdownExtensions")||[]})}}function IN(i,t){const n={type:"element",tagName:"blockquote",properties:{},children:i.wrap(i.all(t),!0)};return i.patch(t,n),i.applyData(t,n)}function kN(i,t){const n={type:"element",tagName:"br",properties:{},children:[]};return i.patch(t,n),[i.applyData(t,n),{type:"text",value:`
`}]}function RN(i,t){const n=t.value?t.value+`
`:"",a={};t.lang&&(a.className=["language-"+t.lang]);let o={type:"element",tagName:"code",properties:a,children:[{type:"text",value:n}]};return t.meta&&(o.data={meta:t.meta}),i.patch(t,o),o=i.applyData(t,o),o={type:"element",tagName:"pre",properties:{},children:[o]},i.patch(t,o),o}function BN(i,t){const n={type:"element",tagName:"del",properties:{},children:i.all(t)};return i.patch(t,n),i.applyData(t,n)}function LN(i,t){const n={type:"element",tagName:"em",properties:{},children:i.all(t)};return i.patch(t,n),i.applyData(t,n)}function UN(i,t){const n=typeof i.options.clobberPrefix=="string"?i.options.clobberPrefix:"user-content-",a=String(t.identifier).toUpperCase(),o=Xr(a.toLowerCase()),u=i.footnoteOrder.indexOf(a);let c,m=i.footnoteCounts.get(a);m===void 0?(m=0,i.footnoteOrder.push(a),c=i.footnoteOrder.length):c=u+1,m+=1,i.footnoteCounts.set(a,m);const x={type:"element",tagName:"a",properties:{href:"#"+n+"fn-"+o,id:n+"fnref-"+o+(m>1?"-"+m:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(c)}]};i.patch(t,x);const f={type:"element",tagName:"sup",properties:{},children:[x]};return i.patch(t,f),i.applyData(t,f)}function zN(i,t){const n={type:"element",tagName:"h"+t.depth,properties:{},children:i.all(t)};return i.patch(t,n),i.applyData(t,n)}function jN(i,t){if(i.options.allowDangerousHtml){const n={type:"raw",value:t.value};return i.patch(t,n),i.applyData(t,n)}}function gy(i,t){const n=t.referenceType;let a="]";if(n==="collapsed"?a+="[]":n==="full"&&(a+="["+(t.label||t.identifier)+"]"),t.type==="imageReference")return[{type:"text",value:"!["+t.alt+a}];const o=i.all(t),u=o[0];u&&u.type==="text"?u.value="["+u.value:o.unshift({type:"text",value:"["});const c=o[o.length-1];return c&&c.type==="text"?c.value+=a:o.push({type:"text",value:a}),o}function ON(i,t){const n=String(t.identifier).toUpperCase(),a=i.definitionById.get(n);if(!a)return gy(i,t);const o={src:Xr(a.url||""),alt:t.alt};a.title!==null&&a.title!==void 0&&(o.title=a.title);const u={type:"element",tagName:"img",properties:o,children:[]};return i.patch(t,u),i.applyData(t,u)}function PN(i,t){const n={src:Xr(t.url)};t.alt!==null&&t.alt!==void 0&&(n.alt=t.alt),t.title!==null&&t.title!==void 0&&(n.title=t.title);const a={type:"element",tagName:"img",properties:n,children:[]};return i.patch(t,a),i.applyData(t,a)}function VN(i,t){const n={type:"text",value:t.value.replace(/\r?\n|\r/g," ")};i.patch(t,n);const a={type:"element",tagName:"code",properties:{},children:[n]};return i.patch(t,a),i.applyData(t,a)}function HN(i,t){const n=String(t.identifier).toUpperCase(),a=i.definitionById.get(n);if(!a)return gy(i,t);const o={href:Xr(a.url||"")};a.title!==null&&a.title!==void 0&&(o.title=a.title);const u={type:"element",tagName:"a",properties:o,children:i.all(t)};return i.patch(t,u),i.applyData(t,u)}function qN(i,t){const n={href:Xr(t.url)};t.title!==null&&t.title!==void 0&&(n.title=t.title);const a={type:"element",tagName:"a",properties:n,children:i.all(t)};return i.patch(t,a),i.applyData(t,a)}function GN(i,t,n){const a=i.all(t),o=n?FN(n):py(t),u={},c=[];if(typeof t.checked=="boolean"){const v=a[0];let b;v&&v.type==="element"&&v.tagName==="p"?b=v:(b={type:"element",tagName:"p",properties:{},children:[]},a.unshift(b)),b.children.length>0&&b.children.unshift({type:"text",value:" "}),b.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:t.checked,disabled:!0},children:[]}),u.className=["task-list-item"]}let m=-1;for(;++m<a.length;){const v=a[m];(o||m!==0||v.type!=="element"||v.tagName!=="p")&&c.push({type:"text",value:`
`}),v.type==="element"&&v.tagName==="p"&&!o?c.push(...v.children):c.push(v)}const x=a[a.length-1];x&&(o||x.type!=="element"||x.tagName!=="p")&&c.push({type:"text",value:`
`});const f={type:"element",tagName:"li",properties:u,children:c};return i.patch(t,f),i.applyData(t,f)}function FN(i){let t=!1;if(i.type==="list"){t=i.spread||!1;const n=i.children;let a=-1;for(;!t&&++a<n.length;)t=py(n[a])}return t}function py(i){const t=i.spread;return t??i.children.length>1}function YN(i,t){const n={},a=i.all(t);let o=-1;for(typeof t.start=="number"&&t.start!==1&&(n.start=t.start);++o<a.length;){const c=a[o];if(c.type==="element"&&c.tagName==="li"&&c.properties&&Array.isArray(c.properties.className)&&c.properties.className.includes("task-list-item")){n.className=["contains-task-list"];break}}const u={type:"element",tagName:t.ordered?"ol":"ul",properties:n,children:i.wrap(a,!0)};return i.patch(t,u),i.applyData(t,u)}function KN(i,t){const n={type:"element",tagName:"p",properties:{},children:i.all(t)};return i.patch(t,n),i.applyData(t,n)}function $N(i,t){const n={type:"root",children:i.wrap(i.all(t))};return i.patch(t,n),i.applyData(t,n)}function XN(i,t){const n={type:"element",tagName:"strong",properties:{},children:i.all(t)};return i.patch(t,n),i.applyData(t,n)}function JN(i,t){const n=i.all(t),a=n.shift(),o=[];if(a){const c={type:"element",tagName:"thead",properties:{},children:i.wrap([a],!0)};i.patch(t.children[0],c),o.push(c)}if(n.length>0){const c={type:"element",tagName:"tbody",properties:{},children:i.wrap(n,!0)},m=md(t.children[1]),x=J0(t.children[t.children.length-1]);m&&x&&(c.position={start:m,end:x}),o.push(c)}const u={type:"element",tagName:"table",properties:{},children:i.wrap(o,!0)};return i.patch(t,u),i.applyData(t,u)}function QN(i,t,n){const a=n?n.children:void 0,u=(a?a.indexOf(t):1)===0?"th":"td",c=n&&n.type==="table"?n.align:void 0,m=c?c.length:t.children.length;let x=-1;const f=[];for(;++x<m;){const b=t.children[x],C={},E=c?c[x]:void 0;E&&(C.align=E);let M={type:"element",tagName:u,properties:C,children:[]};b&&(M.children=i.all(b),i.patch(b,M),M=i.applyData(b,M)),f.push(M)}const v={type:"element",tagName:"tr",properties:{},children:i.wrap(f,!0)};return i.patch(t,v),i.applyData(t,v)}function ZN(i,t){const n={type:"element",tagName:"td",properties:{},children:i.all(t)};return i.patch(t,n),i.applyData(t,n)}const Qp=9,Zp=32;function WN(i){const t=String(i),n=/\r?\n|\r/g;let a=n.exec(t),o=0;const u=[];for(;a;)u.push(Wp(t.slice(o,a.index),o>0,!0),a[0]),o=a.index+a[0].length,a=n.exec(t);return u.push(Wp(t.slice(o),o>0,!1)),u.join("")}function Wp(i,t,n){let a=0,o=i.length;if(t){let u=i.codePointAt(a);for(;u===Qp||u===Zp;)a++,u=i.codePointAt(a)}if(n){let u=i.codePointAt(o-1);for(;u===Qp||u===Zp;)o--,u=i.codePointAt(o-1)}return o>a?i.slice(a,o):""}function eM(i,t){const n={type:"text",value:WN(String(t.value))};return i.patch(t,n),i.applyData(t,n)}function tM(i,t){const n={type:"element",tagName:"hr",properties:{},children:[]};return i.patch(t,n),i.applyData(t,n)}const nM={blockquote:IN,break:kN,code:RN,delete:BN,emphasis:LN,footnoteReference:UN,heading:zN,html:jN,imageReference:ON,image:PN,inlineCode:VN,linkReference:HN,link:qN,listItem:GN,list:YN,paragraph:KN,root:$N,strong:XN,table:JN,tableCell:ZN,tableRow:QN,text:eM,thematicBreak:tM,toml:Lo,yaml:Lo,definition:Lo,footnoteDefinition:Lo};function Lo(){}const yy=-1,rs=0,sa=1,Zo=2,bd=3,Td=4,Sd=5,Cd=6,xy=7,vy=8,e0=typeof self=="object"?self:globalThis,iM=(i,t)=>{const n=(o,u)=>(i.set(u,o),o),a=o=>{if(i.has(o))return i.get(o);const[u,c]=t[o];switch(u){case rs:case yy:return n(c,o);case sa:{const m=n([],o);for(const x of c)m.push(a(x));return m}case Zo:{const m=n({},o);for(const[x,f]of c)m[a(x)]=a(f);return m}case bd:return n(new Date(c),o);case Td:{const{source:m,flags:x}=c;return n(new RegExp(m,x),o)}case Sd:{const m=n(new Map,o);for(const[x,f]of c)m.set(a(x),a(f));return m}case Cd:{const m=n(new Set,o);for(const x of c)m.add(a(x));return m}case xy:{const{name:m,message:x}=c;return n(new e0[m](x),o)}case vy:return n(BigInt(c),o);case"BigInt":return n(Object(BigInt(c)),o);case"ArrayBuffer":return n(new Uint8Array(c).buffer,c);case"DataView":{const{buffer:m}=new Uint8Array(c);return n(new DataView(m),c)}}return n(new e0[u](c),o)};return a},t0=i=>iM(new Map,i)(0),Vr="",{toString:rM}={},{keys:lM}=Object,ia=i=>{const t=typeof i;if(t!=="object"||!i)return[rs,t];const n=rM.call(i).slice(8,-1);switch(n){case"Array":return[sa,Vr];case"Object":return[Zo,Vr];case"Date":return[bd,Vr];case"RegExp":return[Td,Vr];case"Map":return[Sd,Vr];case"Set":return[Cd,Vr];case"DataView":return[sa,n]}return n.includes("Array")?[sa,n]:n.includes("Error")?[xy,n]:[Zo,n]},Uo=([i,t])=>i===rs&&(t==="function"||t==="symbol"),aM=(i,t,n,a)=>{const o=(c,m)=>{const x=a.push(c)-1;return n.set(m,x),x},u=c=>{if(n.has(c))return n.get(c);let[m,x]=ia(c);switch(m){case rs:{let v=c;switch(x){case"bigint":m=vy,v=c.toString();break;case"function":case"symbol":if(i)throw new TypeError("unable to serialize "+x);v=null;break;case"undefined":return o([yy],c)}return o([m,v],c)}case sa:{if(x){let C=c;return x==="DataView"?C=new Uint8Array(c.buffer):x==="ArrayBuffer"&&(C=new Uint8Array(c)),o([x,[...C]],c)}const v=[],b=o([m,v],c);for(const C of c)v.push(u(C));return b}case Zo:{if(x)switch(x){case"BigInt":return o([x,c.toString()],c);case"Boolean":case"Number":case"String":return o([x,c.valueOf()],c)}if(t&&"toJSON"in c)return u(c.toJSON());const v=[],b=o([m,v],c);for(const C of lM(c))(i||!Uo(ia(c[C])))&&v.push([u(C),u(c[C])]);return b}case bd:return o([m,c.toISOString()],c);case Td:{const{source:v,flags:b}=c;return o([m,{source:v,flags:b}],c)}case Sd:{const v=[],b=o([m,v],c);for(const[C,E]of c)(i||!(Uo(ia(C))||Uo(ia(E))))&&v.push([u(C),u(E)]);return b}case Cd:{const v=[],b=o([m,v],c);for(const C of c)(i||!Uo(ia(C)))&&v.push(u(C));return b}}const{message:f}=c;return o([m,{name:x,message:f}],c)};return u},n0=(i,{json:t,lossy:n}={})=>{const a=[];return aM(!(t||n),!!t,new Map,a)(i),a},Wo=typeof structuredClone=="function"?(i,t)=>t&&("json"in t||"lossy"in t)?t0(n0(i,t)):structuredClone(i):(i,t)=>t0(n0(i,t));function oM(i,t){const n=[{type:"text",value:"↩"}];return t>1&&n.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(t)}]}),n}function sM(i,t){return"Back to reference "+(i+1)+(t>1?"-"+t:"")}function uM(i){const t=typeof i.options.clobberPrefix=="string"?i.options.clobberPrefix:"user-content-",n=i.options.footnoteBackContent||oM,a=i.options.footnoteBackLabel||sM,o=i.options.footnoteLabel||"Footnotes",u=i.options.footnoteLabelTagName||"h2",c=i.options.footnoteLabelProperties||{className:["sr-only"]},m=[];let x=-1;for(;++x<i.footnoteOrder.length;){const f=i.footnoteById.get(i.footnoteOrder[x]);if(!f)continue;const v=i.all(f),b=String(f.identifier).toUpperCase(),C=Xr(b.toLowerCase());let E=0;const M=[],B=i.footnoteCounts.get(b);for(;B!==void 0&&++E<=B;){M.length>0&&M.push({type:"text",value:" "});let Z=typeof n=="string"?n:n(x,E);typeof Z=="string"&&(Z={type:"text",value:Z}),M.push({type:"element",tagName:"a",properties:{href:"#"+t+"fnref-"+C+(E>1?"-"+E:""),dataFootnoteBackref:"",ariaLabel:typeof a=="string"?a:a(x,E),className:["data-footnote-backref"]},children:Array.isArray(Z)?Z:[Z]})}const P=v[v.length-1];if(P&&P.type==="element"&&P.tagName==="p"){const Z=P.children[P.children.length-1];Z&&Z.type==="text"?Z.value+=" ":P.children.push({type:"text",value:" "}),P.children.push(...M)}else v.push(...M);const j={type:"element",tagName:"li",properties:{id:t+"fn-"+C},children:i.wrap(v,!0)};i.patch(f,j),m.push(j)}if(m.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:u,properties:{...Wo(c),id:"footnote-label"},children:[{type:"text",value:o}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:i.wrap(m,!0)},{type:"text",value:`
`}]}}const by=function(i){if(i==null)return mM;if(typeof i=="function")return ls(i);if(typeof i=="object")return Array.isArray(i)?cM(i):dM(i);if(typeof i=="string")return fM(i);throw new Error("Expected function, string, or object as test")};function cM(i){const t=[];let n=-1;for(;++n<i.length;)t[n]=by(i[n]);return ls(a);function a(...o){let u=-1;for(;++u<t.length;)if(t[u].apply(this,o))return!0;return!1}}function dM(i){const t=i;return ls(n);function n(a){const o=a;let u;for(u in i)if(o[u]!==t[u])return!1;return!0}}function fM(i){return ls(t);function t(n){return n&&n.type===i}}function ls(i){return t;function t(n,a,o){return!!(hM(n)&&i.call(this,n,typeof a=="number"?a:void 0,o||void 0))}}function mM(){return!0}function hM(i){return i!==null&&typeof i=="object"&&"type"in i}const Ty=[],gM=!0,i0=!1,pM="skip";function yM(i,t,n,a){let o;typeof t=="function"&&typeof n!="function"?(a=n,n=t):o=t;const u=by(o),c=a?-1:1;m(i,void 0,[])();function m(x,f,v){const b=x&&typeof x=="object"?x:{};if(typeof b.type=="string"){const E=typeof b.tagName=="string"?b.tagName:typeof b.name=="string"?b.name:void 0;Object.defineProperty(C,"name",{value:"node ("+(x.type+(E?"<"+E+">":""))+")"})}return C;function C(){let E=Ty,M,B,P;if((!t||u(x,f,v[v.length-1]||void 0))&&(E=xM(n(x,v)),E[0]===i0))return E;if("children"in x&&x.children){const j=x;if(j.children&&E[0]!==pM)for(B=(a?j.children.length:-1)+c,P=v.concat(j);B>-1&&B<j.children.length;){const Z=j.children[B];if(M=m(Z,B,P)(),M[0]===i0)return M;B=typeof M[1]=="number"?M[1]:B+c}}return E}}}function xM(i){return Array.isArray(i)?i:typeof i=="number"?[gM,i]:i==null?Ty:[i]}function Sy(i,t,n,a){let o,u,c;typeof t=="function"&&typeof n!="function"?(u=void 0,c=t,o=n):(u=t,c=n,o=a),yM(i,u,m,o);function m(x,f){const v=f[f.length-1],b=v?v.children.indexOf(x):void 0;return c(x,b,v)}}const rd={}.hasOwnProperty,vM={};function bM(i,t){const n=t||vM,a=new Map,o=new Map,u=new Map,c={...nM,...n.handlers},m={all:f,applyData:SM,definitionById:a,footnoteById:o,footnoteCounts:u,footnoteOrder:[],handlers:c,one:x,options:n,patch:TM,wrap:EM};return Sy(i,function(v){if(v.type==="definition"||v.type==="footnoteDefinition"){const b=v.type==="definition"?a:o,C=String(v.identifier).toUpperCase();b.has(C)||b.set(C,v)}}),m;function x(v,b){const C=v.type,E=m.handlers[C];if(rd.call(m.handlers,C)&&E)return E(m,v,b);if(m.options.passThrough&&m.options.passThrough.includes(C)){if("children"in v){const{children:B,...P}=v,j=Wo(P);return j.children=m.all(v),j}return Wo(v)}return(m.options.unknownHandler||CM)(m,v,b)}function f(v){const b=[];if("children"in v){const C=v.children;let E=-1;for(;++E<C.length;){const M=m.one(C[E],v);if(M){if(E&&C[E-1].type==="break"&&(!Array.isArray(M)&&M.type==="text"&&(M.value=r0(M.value)),!Array.isArray(M)&&M.type==="element")){const B=M.children[0];B&&B.type==="text"&&(B.value=r0(B.value))}Array.isArray(M)?b.push(...M):b.push(M)}}}return b}}function TM(i,t){i.position&&(t.position=rw(i))}function SM(i,t){let n=t;if(i&&i.data){const a=i.data.hName,o=i.data.hChildren,u=i.data.hProperties;if(typeof a=="string")if(n.type==="element")n.tagName=a;else{const c="children"in n?n.children:[n];n={type:"element",tagName:a,properties:{},children:c}}n.type==="element"&&u&&Object.assign(n.properties,Wo(u)),"children"in n&&n.children&&o!==null&&o!==void 0&&(n.children=o)}return n}function CM(i,t){const n=t.data||{},a="value"in t&&!(rd.call(n,"hProperties")||rd.call(n,"hChildren"))?{type:"text",value:t.value}:{type:"element",tagName:"div",properties:{},children:i.all(t)};return i.patch(t,a),i.applyData(t,a)}function EM(i,t){const n=[];let a=-1;for(t&&n.push({type:"text",value:`
`});++a<i.length;)a&&n.push({type:"text",value:`
`}),n.push(i[a]);return t&&i.length>0&&n.push({type:"text",value:`
`}),n}function r0(i){let t=0,n=i.charCodeAt(t);for(;n===9||n===32;)t++,n=i.charCodeAt(t);return i.slice(t)}function l0(i,t){const n=bM(i,t),a=n.one(i,void 0),o=uM(n),u=Array.isArray(a)?{type:"root",children:a}:a||{type:"root",children:[]};return o&&u.children.push({type:"text",value:`
`},o),u}function wM(i,t){return i&&"run"in i?async function(n,a){const o=l0(n,{file:a,...t});await i.run(o,a)}:function(n,a){return l0(n,{file:a,...i||t})}}function a0(i){if(i)throw i}var Dc,o0;function AM(){if(o0)return Dc;o0=1;var i=Object.prototype.hasOwnProperty,t=Object.prototype.toString,n=Object.defineProperty,a=Object.getOwnPropertyDescriptor,o=function(f){return typeof Array.isArray=="function"?Array.isArray(f):t.call(f)==="[object Array]"},u=function(f){if(!f||t.call(f)!=="[object Object]")return!1;var v=i.call(f,"constructor"),b=f.constructor&&f.constructor.prototype&&i.call(f.constructor.prototype,"isPrototypeOf");if(f.constructor&&!v&&!b)return!1;var C;for(C in f);return typeof C>"u"||i.call(f,C)},c=function(f,v){n&&v.name==="__proto__"?n(f,v.name,{enumerable:!0,configurable:!0,value:v.newValue,writable:!0}):f[v.name]=v.newValue},m=function(f,v){if(v==="__proto__")if(i.call(f,v)){if(a)return a(f,v).value}else return;return f[v]};return Dc=function x(){var f,v,b,C,E,M,B=arguments[0],P=1,j=arguments.length,Z=!1;for(typeof B=="boolean"&&(Z=B,B=arguments[1]||{},P=2),(B==null||typeof B!="object"&&typeof B!="function")&&(B={});P<j;++P)if(f=arguments[P],f!=null)for(v in f)b=m(B,v),C=m(f,v),B!==C&&(Z&&C&&(u(C)||(E=o(C)))?(E?(E=!1,M=b&&o(b)?b:[]):M=b&&u(b)?b:{},c(B,{name:v,newValue:x(Z,M,C)})):typeof C<"u"&&c(B,{name:v,newValue:C}));return B},Dc}var NM=AM();const Ic=da(NM);function ld(i){if(typeof i!="object"||i===null)return!1;const t=Object.getPrototypeOf(i);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in i)&&!(Symbol.iterator in i)}function MM(){const i=[],t={run:n,use:a};return t;function n(...o){let u=-1;const c=o.pop();if(typeof c!="function")throw new TypeError("Expected function as last argument, not "+c);m(null,...o);function m(x,...f){const v=i[++u];let b=-1;if(x){c(x);return}for(;++b<o.length;)(f[b]===null||f[b]===void 0)&&(f[b]=o[b]);o=f,v?_M(v,m)(...f):c(null,...f)}}function a(o){if(typeof o!="function")throw new TypeError("Expected `middelware` to be a function, not "+o);return i.push(o),t}}function _M(i,t){let n;return a;function a(...c){const m=i.length>c.length;let x;m&&c.push(o);try{x=i.apply(this,c)}catch(f){const v=f;if(m&&n)throw v;return o(v)}m||(x&&x.then&&typeof x.then=="function"?x.then(u,o):x instanceof Error?o(x):u(x))}function o(c,...m){n||(n=!0,t(c,...m))}function u(c){o(null,c)}}const jn={basename:DM,dirname:IM,extname:kM,join:RM,sep:"/"};function DM(i,t){if(t!==void 0&&typeof t!="string")throw new TypeError('"ext" argument must be a string');ha(i);let n=0,a=-1,o=i.length,u;if(t===void 0||t.length===0||t.length>i.length){for(;o--;)if(i.codePointAt(o)===47){if(u){n=o+1;break}}else a<0&&(u=!0,a=o+1);return a<0?"":i.slice(n,a)}if(t===i)return"";let c=-1,m=t.length-1;for(;o--;)if(i.codePointAt(o)===47){if(u){n=o+1;break}}else c<0&&(u=!0,c=o+1),m>-1&&(i.codePointAt(o)===t.codePointAt(m--)?m<0&&(a=o):(m=-1,a=c));return n===a?a=c:a<0&&(a=i.length),i.slice(n,a)}function IM(i){if(ha(i),i.length===0)return".";let t=-1,n=i.length,a;for(;--n;)if(i.codePointAt(n)===47){if(a){t=n;break}}else a||(a=!0);return t<0?i.codePointAt(0)===47?"/":".":t===1&&i.codePointAt(0)===47?"//":i.slice(0,t)}function kM(i){ha(i);let t=i.length,n=-1,a=0,o=-1,u=0,c;for(;t--;){const m=i.codePointAt(t);if(m===47){if(c){a=t+1;break}continue}n<0&&(c=!0,n=t+1),m===46?o<0?o=t:u!==1&&(u=1):o>-1&&(u=-1)}return o<0||n<0||u===0||u===1&&o===n-1&&o===a+1?"":i.slice(o,n)}function RM(...i){let t=-1,n;for(;++t<i.length;)ha(i[t]),i[t]&&(n=n===void 0?i[t]:n+"/"+i[t]);return n===void 0?".":BM(n)}function BM(i){ha(i);const t=i.codePointAt(0)===47;let n=LM(i,!t);return n.length===0&&!t&&(n="."),n.length>0&&i.codePointAt(i.length-1)===47&&(n+="/"),t?"/"+n:n}function LM(i,t){let n="",a=0,o=-1,u=0,c=-1,m,x;for(;++c<=i.length;){if(c<i.length)m=i.codePointAt(c);else{if(m===47)break;m=47}if(m===47){if(!(o===c-1||u===1))if(o!==c-1&&u===2){if(n.length<2||a!==2||n.codePointAt(n.length-1)!==46||n.codePointAt(n.length-2)!==46){if(n.length>2){if(x=n.lastIndexOf("/"),x!==n.length-1){x<0?(n="",a=0):(n=n.slice(0,x),a=n.length-1-n.lastIndexOf("/")),o=c,u=0;continue}}else if(n.length>0){n="",a=0,o=c,u=0;continue}}t&&(n=n.length>0?n+"/..":"..",a=2)}else n.length>0?n+="/"+i.slice(o+1,c):n=i.slice(o+1,c),a=c-o-1;o=c,u=0}else m===46&&u>-1?u++:u=-1}return n}function ha(i){if(typeof i!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(i))}const UM={cwd:zM};function zM(){return"/"}function ad(i){return!!(i!==null&&typeof i=="object"&&"href"in i&&i.href&&"protocol"in i&&i.protocol&&i.auth===void 0)}function jM(i){if(typeof i=="string")i=new URL(i);else if(!ad(i)){const t=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+i+"`");throw t.code="ERR_INVALID_ARG_TYPE",t}if(i.protocol!=="file:"){const t=new TypeError("The URL must be of scheme file");throw t.code="ERR_INVALID_URL_SCHEME",t}return OM(i)}function OM(i){if(i.hostname!==""){const a=new TypeError('File URL host must be "localhost" or empty on darwin');throw a.code="ERR_INVALID_FILE_URL_HOST",a}const t=i.pathname;let n=-1;for(;++n<t.length;)if(t.codePointAt(n)===37&&t.codePointAt(n+1)===50){const a=t.codePointAt(n+2);if(a===70||a===102){const o=new TypeError("File URL path must not include encoded / characters");throw o.code="ERR_INVALID_FILE_URL_PATH",o}}return decodeURIComponent(t)}const kc=["history","path","basename","stem","extname","dirname"];class Cy{constructor(t){let n;t?ad(t)?n={path:t}:typeof t=="string"||PM(t)?n={value:t}:n=t:n={},this.cwd="cwd"in n?"":UM.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let a=-1;for(;++a<kc.length;){const u=kc[a];u in n&&n[u]!==void 0&&n[u]!==null&&(this[u]=u==="history"?[...n[u]]:n[u])}let o;for(o in n)kc.includes(o)||(this[o]=n[o])}get basename(){return typeof this.path=="string"?jn.basename(this.path):void 0}set basename(t){Bc(t,"basename"),Rc(t,"basename"),this.path=jn.join(this.dirname||"",t)}get dirname(){return typeof this.path=="string"?jn.dirname(this.path):void 0}set dirname(t){s0(this.basename,"dirname"),this.path=jn.join(t||"",this.basename)}get extname(){return typeof this.path=="string"?jn.extname(this.path):void 0}set extname(t){if(Rc(t,"extname"),s0(this.dirname,"extname"),t){if(t.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(t.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=jn.join(this.dirname,this.stem+(t||""))}get path(){return this.history[this.history.length-1]}set path(t){ad(t)&&(t=jM(t)),Bc(t,"path"),this.path!==t&&this.history.push(t)}get stem(){return typeof this.path=="string"?jn.basename(this.path,this.extname):void 0}set stem(t){Bc(t,"stem"),Rc(t,"stem"),this.path=jn.join(this.dirname||"",t+(this.extname||""))}fail(t,n,a){const o=this.message(t,n,a);throw o.fatal=!0,o}info(t,n,a){const o=this.message(t,n,a);return o.fatal=void 0,o}message(t,n,a){const o=new zt(t,n,a);return this.path&&(o.name=this.path+":"+o.name,o.file=this.path),o.fatal=!1,this.messages.push(o),o}toString(t){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(t||void 0).decode(this.value)}}function Rc(i,t){if(i&&i.includes(jn.sep))throw new Error("`"+t+"` cannot be a path: did not expect `"+jn.sep+"`")}function Bc(i,t){if(!i)throw new Error("`"+t+"` cannot be empty")}function s0(i,t){if(!i)throw new Error("Setting `"+t+"` requires `path` to be set too")}function PM(i){return!!(i&&typeof i=="object"&&"byteLength"in i&&"byteOffset"in i)}const VM=function(i){const a=this.constructor.prototype,o=a[i],u=function(){return o.apply(u,arguments)};return Object.setPrototypeOf(u,a),u},HM={}.hasOwnProperty;class Ed extends VM{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=MM()}copy(){const t=new Ed;let n=-1;for(;++n<this.attachers.length;){const a=this.attachers[n];t.use(...a)}return t.data(Ic(!0,{},this.namespace)),t}data(t,n){return typeof t=="string"?arguments.length===2?(zc("data",this.frozen),this.namespace[t]=n,this):HM.call(this.namespace,t)&&this.namespace[t]||void 0:t?(zc("data",this.frozen),this.namespace=t,this):this.namespace}freeze(){if(this.frozen)return this;const t=this;for(;++this.freezeIndex<this.attachers.length;){const[n,...a]=this.attachers[this.freezeIndex];if(a[0]===!1)continue;a[0]===!0&&(a[0]=void 0);const o=n.call(t,...a);typeof o=="function"&&this.transformers.use(o)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(t){this.freeze();const n=zo(t),a=this.parser||this.Parser;return Lc("parse",a),a(String(n),n)}process(t,n){const a=this;return this.freeze(),Lc("process",this.parser||this.Parser),Uc("process",this.compiler||this.Compiler),n?o(void 0,n):new Promise(o);function o(u,c){const m=zo(t),x=a.parse(m);a.run(x,m,function(v,b,C){if(v||!b||!C)return f(v);const E=b,M=a.stringify(E,C);FM(M)?C.value=M:C.result=M,f(v,C)});function f(v,b){v||!b?c(v):u?u(b):n(void 0,b)}}}processSync(t){let n=!1,a;return this.freeze(),Lc("processSync",this.parser||this.Parser),Uc("processSync",this.compiler||this.Compiler),this.process(t,o),c0("processSync","process",n),a;function o(u,c){n=!0,a0(u),a=c}}run(t,n,a){u0(t),this.freeze();const o=this.transformers;return!a&&typeof n=="function"&&(a=n,n=void 0),a?u(void 0,a):new Promise(u);function u(c,m){const x=zo(n);o.run(t,x,f);function f(v,b,C){const E=b||t;v?m(v):c?c(E):a(void 0,E,C)}}}runSync(t,n){let a=!1,o;return this.run(t,n,u),c0("runSync","run",a),o;function u(c,m){a0(c),o=m,a=!0}}stringify(t,n){this.freeze();const a=zo(n),o=this.compiler||this.Compiler;return Uc("stringify",o),u0(t),o(t,a)}use(t,...n){const a=this.attachers,o=this.namespace;if(zc("use",this.frozen),t!=null)if(typeof t=="function")x(t,n);else if(typeof t=="object")Array.isArray(t)?m(t):c(t);else throw new TypeError("Expected usable value, not `"+t+"`");return this;function u(f){if(typeof f=="function")x(f,[]);else if(typeof f=="object")if(Array.isArray(f)){const[v,...b]=f;x(v,b)}else c(f);else throw new TypeError("Expected usable value, not `"+f+"`")}function c(f){if(!("plugins"in f)&&!("settings"in f))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");m(f.plugins),f.settings&&(o.settings=Ic(!0,o.settings,f.settings))}function m(f){let v=-1;if(f!=null)if(Array.isArray(f))for(;++v<f.length;){const b=f[v];u(b)}else throw new TypeError("Expected a list of plugins, not `"+f+"`")}function x(f,v){let b=-1,C=-1;for(;++b<a.length;)if(a[b][0]===f){C=b;break}if(C===-1)a.push([f,...v]);else if(v.length>0){let[E,...M]=v;const B=a[C][1];ld(B)&&ld(E)&&(E=Ic(!0,B,E)),a[C]=[f,E,...M]}}}}const qM=new Ed().freeze();function Lc(i,t){if(typeof t!="function")throw new TypeError("Cannot `"+i+"` without `parser`")}function Uc(i,t){if(typeof t!="function")throw new TypeError("Cannot `"+i+"` without `compiler`")}function zc(i,t){if(t)throw new Error("Cannot call `"+i+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function u0(i){if(!ld(i)||typeof i.type!="string")throw new TypeError("Expected node, got `"+i+"`")}function c0(i,t,n){if(!n)throw new Error("`"+i+"` finished async. Use `"+t+"` instead")}function zo(i){return GM(i)?i:new Cy(i)}function GM(i){return!!(i&&typeof i=="object"&&"message"in i&&"messages"in i)}function FM(i){return typeof i=="string"||YM(i)}function YM(i){return!!(i&&typeof i=="object"&&"byteLength"in i&&"byteOffset"in i)}const KM="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",d0=[],f0={allowDangerousHtml:!0},$M=/^(https?|ircs?|mailto|xmpp)$/i,XM=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"className",id:"remove-classname"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function JM(i){const t=QM(i),n=ZM(i);return WM(t.runSync(t.parse(n),n),i)}function QM(i){const t=i.rehypePlugins||d0,n=i.remarkPlugins||d0,a=i.remarkRehypeOptions?{...i.remarkRehypeOptions,...f0}:f0;return qM().use(DN).use(n).use(wM,a).use(t)}function ZM(i){const t=i.children||"",n=new Cy;return typeof t=="string"&&(n.value=t),n}function WM(i,t){const n=t.allowedElements,a=t.allowElement,o=t.components,u=t.disallowedElements,c=t.skipHtml,m=t.unwrapDisallowed,x=t.urlTransform||e2;for(const v of XM)Object.hasOwn(t,v.from)&&(""+v.from+(v.to?"use `"+v.to+"` instead":"remove it")+KM+v.id,void 0);return Sy(i,f),uw(i,{Fragment:h.Fragment,components:o,ignoreInvalidStyle:!0,jsx:h.jsx,jsxs:h.jsxs,passKeys:!0,passNode:!0});function f(v,b,C){if(v.type==="raw"&&C&&typeof b=="number")return c?C.children.splice(b,1):C.children[b]={type:"text",value:v.value},b;if(v.type==="element"){let E;for(E in Nc)if(Object.hasOwn(Nc,E)&&Object.hasOwn(v.properties,E)){const M=v.properties[E],B=Nc[E];(B===null||B.includes(v.tagName))&&(v.properties[E]=x(String(M||""),E,v))}}if(v.type==="element"){let E=n?!n.includes(v.tagName):u?u.includes(v.tagName):!1;if(!E&&a&&typeof b=="number"&&(E=!a(v,b,C)),E&&C&&typeof b=="number")return m&&v.children?C.children.splice(b,1,...v.children):C.children.splice(b,1),b}}}function e2(i){const t=i.indexOf(":"),n=i.indexOf("?"),a=i.indexOf("#"),o=i.indexOf("/");return t===-1||o!==-1&&t>o||n!==-1&&t>n||a!==-1&&t>a||$M.test(i.slice(0,t))?i:""}const t2=async i=>{if(!i)return{success:!1,message:"No content to copy"};try{const t=`
      <div style="color: #000000; font-family: system-ui, -apple-system, sans-serif; line-height: 1.6; background: transparent;">
        ${i.split(`
`).map(a=>{if(a.startsWith("# "))return`<h1 style="color: #000000; font-size: 1.5rem; font-weight: bold; margin: 1.5rem 0 1rem 0;">${a.replace("# ","")}</h1>`;if(a.startsWith("## "))return`<h2 style="color: #000000; font-size: 1.25rem; font-weight: bold; margin: 1rem 0 0.5rem 0;">${a.replace("## ","")}</h2>`;if(a.startsWith("### "))return`<h3 style="color: #000000; font-size: 1.1rem; font-weight: bold; margin: 0.75rem 0 0.25rem 0;">${a.replace("### ","")}</h3>`;if(a.startsWith("#### "))return`<h4 style="color: #000000; font-size: 1rem; font-weight: bold; margin: 0.5rem 0 0.25rem 0;">${a.replace("#### ","")}</h4>`;if(a.startsWith("- **")){const o=a.match(/- \*\*(.*?)\*\*:\s*(.*)/);if(o)return`<p style="margin: 0.25rem 0; color: #000000;"><strong style="color: #000000;">${o[1]}:</strong> ${o[2]}</p>`}else{if(a.startsWith("- "))return`<p style="margin: 0.25rem 0; padding-left: 1rem; color: #000000;">• ${a.replace("- ","")}</p>`;if(a.match(/^\d+\./))return`<p style="margin: 0.25rem 0; padding-left: 1rem; color: #000000;">${a}</p>`;if(a.startsWith("**")&&a.endsWith("**"))return`<p style="margin: 0.5rem 0; color: #000000; font-weight: bold;">${a.replace(/\*\*/g,"")}</p>`;if(a.trim())return`<p style="margin: 0.5rem 0; color: #000000;">${a}</p>`}return"<br>"}).join("")}
      </div>
    `,n=i.split(`
`).map(a=>{if(a.startsWith("# "))return a.replace("# ","");if(a.startsWith("## "))return a.replace("## ","");if(a.startsWith("### "))return a.replace("### ","");if(a.startsWith("#### "))return a.replace("#### ","");if(a.startsWith("- **")){const o=a.match(/- \*\*(.*?)\*\*:\s*(.*)/);if(o)return`${o[1]}: ${o[2]}`}else{if(a.startsWith("- "))return`• ${a.replace("- ","")}`;if(a.startsWith("**")&&a.endsWith("**"))return a.replace(/\*\*/g,"")}return a}).join(`
`);if(navigator.clipboard&&navigator.clipboard.write){const a=new Blob([t],{type:"text/html"}),o=new Blob([n],{type:"text/plain"}),u=new ClipboardItem({"text/html":a,"text/plain":o});return await navigator.clipboard.write([u]),{success:!0,message:"Content copied (Rich Format)!"}}else return await navigator.clipboard.writeText(n),{success:!0,message:"Content copied (Plain Text)!"}}catch(t){return console.error("Failed to copy content:",t),{success:!1,message:"Failed to copy. Please try manually."}}},Go=({content:i,onExportPDF:t,onCopy:n,className:a=""})=>{const[o,u]=xe.useState(""),c=async()=>{if(n){n();return}const x=await t2(i);u(x.message),setTimeout(()=>u(""),3e3)},m={h1:({children:x})=>h.jsx("h1",{className:"text-3xl font-bold text-purple-300 mb-6 border-b border-gray-600 pb-3",children:x}),h2:({children:x})=>h.jsx("h2",{className:"text-2xl font-semibold text-purple-200 mt-8 mb-4 border-l-4 border-purple-500 pl-4",children:x}),h3:({children:x})=>h.jsx("h3",{className:"text-xl font-semibold text-purple-100 mt-6 mb-3 flex items-center",children:x}),h4:({children:x})=>h.jsx("h4",{className:"text-lg font-medium text-gray-200 mt-4 mb-2",children:x}),p:({children:x})=>h.jsx("p",{className:"text-gray-300 mb-4 leading-relaxed",children:x}),ul:({children:x})=>h.jsx("ul",{className:"list-disc list-inside text-gray-300 mb-4 space-y-1 ml-4",children:x}),ol:({children:x})=>h.jsx("ol",{className:"list-decimal list-inside text-gray-300 mb-4 space-y-1 ml-4",children:x}),li:({children:x})=>h.jsx("li",{className:"text-gray-300 mb-1",children:x}),strong:({children:x})=>h.jsx("strong",{className:"font-semibold text-gray-100",children:x}),em:({children:x})=>h.jsx("em",{className:"italic text-gray-200",children:x}),code:({children:x,className:f})=>f?h.jsx("pre",{className:"bg-gray-800 border border-gray-600 rounded-lg p-4 overflow-x-auto mb-4",children:h.jsx("code",{className:"text-green-300 text-sm font-mono",children:x})}):h.jsx("code",{className:"bg-gray-700 text-purple-300 px-2 py-1 rounded text-sm font-mono",children:x}),blockquote:({children:x})=>h.jsx("blockquote",{className:"border-l-4 border-purple-500 bg-gray-800/50 pl-4 py-2 mb-4 italic text-gray-300",children:x}),table:({children:x})=>h.jsx("div",{className:"overflow-x-auto mb-6",children:h.jsx("table",{className:"min-w-full bg-gray-800 border border-gray-600 rounded-lg",children:x})}),thead:({children:x})=>h.jsx("thead",{className:"bg-gray-700",children:x}),tbody:({children:x})=>h.jsx("tbody",{className:"divide-y divide-gray-600",children:x}),tr:({children:x})=>h.jsx("tr",{className:"hover:bg-gray-700/50 transition-colors",children:x}),th:({children:x})=>h.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold text-purple-300 border-b border-gray-600",children:x}),td:({children:x})=>h.jsx("td",{className:"px-4 py-3 text-sm text-gray-300",children:x}),hr:()=>h.jsx("hr",{className:"border-gray-600 my-8"}),a:({href:x,children:f})=>h.jsx("a",{href:x,className:"text-purple-400 hover:text-purple-300 underline transition-colors",target:"_blank",rel:"noopener noreferrer",children:f})};return h.jsxs("div",{className:`markdown-content ${a}`,children:[h.jsxs("div",{className:"flex justify-end gap-2 mb-4 pb-4 border-b border-gray-700",children:[h.jsx(Pe,{onClick:c,variant:"outline",size:"sm",leftIcon:h.jsx(aE,{className:"w-4 h-4"}),children:"Copy Content"}),t&&h.jsx(Pe,{onClick:t,variant:"secondary",size:"sm",leftIcon:h.jsx(Yc,{className:"w-4 h-4"}),children:"Export PDF"})]}),o&&h.jsx("div",{className:`text-sm mb-4 p-2 rounded ${o.includes("Failed")?"text-red-400 bg-red-900/20":"text-green-400 bg-green-900/20"}`,children:o}),h.jsx("div",{className:"prose prose-invert max-w-none",children:h.jsx(JM,{components:m,children:i})})]})},Ey=[{category:"House",genre:"House",tempoRange:[120,126],sections:["Intro","Build-Up","Drop","Breakdown","Drop 2","Outro"]},{category:"House",genre:"Deep House",tempoRange:[118,124],sections:["Intro","Build-Up","Drop","Breakdown","Outro"]},{category:"House",genre:"Tech House",tempoRange:[122,127],sections:["Intro","Build-Up","Drop","Breakdown","Drop 2","Outro"]},{category:"House",genre:"Progressive House",tempoRange:[124,128],sections:["Intro","Build-Up","Drop","Breakdown","Outro"]},{category:"House",genre:"Afro House",tempoRange:[120,125],sections:["Intro","Build-Up","Drop","Breakdown","Outro"]},{category:"House",genre:"Nu-Disco",tempoRange:[115,125],sections:["Intro","Verse","Chorus","Bridge","Outro"]},{category:"Techno",genre:"Melodic Techno",tempoRange:[120,126],sections:["Intro","Groove Build","Peak Moment","Mid-Break","Outro"]},{category:"Techno",genre:"Minimal Techno",tempoRange:[120,125],sections:["Intro","Groove Build","Peak Moment","Mid-Break","Outro"]},{category:"Techno",genre:"Big Room Techno",tempoRange:[126,130],sections:["Intro","Build-Up","Drop","Breakdown","Build-Up 2","Final Drop","Outro"]},{category:"Techno",genre:"Peak Time Techno",tempoRange:[128,135],sections:["Intro","Groove Build","Peak Moment","Mid-Break","Outro"]},{category:"Techno",genre:"Hard Techno",tempoRange:[135,145],sections:["Intro","Groove Build","Peak Moment","Mid-Break","Outro"]},{category:"Trance",genre:"Trance",tempoRange:[128,140],sections:["Intro","Build-Up","Drop","Breakdown","Build-Up 2","Final Drop","Outro"]},{category:"Trance",genre:"Psytrance",tempoRange:[140,150],sections:["Intro","Build-Up","Drop","Breakdown","Build-Up 2","Final Drop","Outro"]},{category:"Trance",genre:"Progressive Trance",tempoRange:[130,138],sections:["Intro","Build-Up","Drop","Breakdown","Build-Up 2","Final Drop","Outro"]},{category:"Trance",genre:"Uplifting Trance",tempoRange:[132,140],sections:["Intro","Build-Up","Drop","Breakdown","Build-Up 2","Final Drop","Outro"]},{category:"Bass & Dubstep",genre:"Dubstep",tempoRange:[140,150],sections:["Intro","Pre-Drop","Drop 1","Switch-Up","Drop 2","Outro"]},{category:"Bass & Dubstep",genre:"Riddim Dubstep",tempoRange:[140,150],sections:["Intro","Pre-Drop","Drop 1","Switch-Up","Drop 2","Outro"]},{category:"Bass & Dubstep",genre:"Hybrid Trap",tempoRange:[135,150],sections:["Intro","Pre-Drop","Drop 1","Mid-Section","Drop 2","Outro"]},{category:"Bass & Dubstep",genre:"Midtempo Bass",tempoRange:[95,110],sections:["Intro","Build-Up","Drop","Breakdown","Outro"]},{category:"Bass & Dubstep",genre:"Future Bass",tempoRange:[140,155],sections:["Intro","Pre-Drop","Drop 1","Breakdown","Drop 2","Outro"]},{category:"Bass & Dubstep",genre:"Phonk",tempoRange:[130,150],sections:["Intro","Pre-Drop","Drop 1","Switch-Up","Drop 2","Outro"]},{category:"Bass & Dubstep",genre:"Hardstyle",tempoRange:[150,160],sections:["Intro","Pre-Drop","Drop 1","Switch-Up","Drop 2","Outro"]},{category:"Trap & Future Styles",genre:"Trap",tempoRange:[130,150],sections:["Intro","Pre-Drop","Drop 1","Mid-Section","Drop 2","Outro"]},{category:"Trap & Future Styles",genre:"Hard Trap",tempoRange:[135,150],sections:["Intro","Pre-Drop","Drop 1","Switch-Up","Drop 2","Outro"]},{category:"Trap & Future Styles",genre:"Hyperpop",tempoRange:[140,160],sections:["Intro","Verse","Drop","Bridge","Outro"]},{category:"Trap & Future Styles",genre:"Trap Soul",tempoRange:[100,130],sections:["Intro","Verse","Chorus","Bridge","Outro"]},{category:"Trap & Future Styles",genre:"Jersey Club",tempoRange:[130,140],sections:["Intro","Pre-Drop","Drop 1","Mid-Section","Drop 2","Outro"]},{category:"Drum & Bass / UK Styles",genre:"Drum & Bass",tempoRange:[170,175],sections:["Intro","Build-Up","Drop","Mid-Roll","Breakdown","Second Drop","Outro"]},{category:"Drum & Bass / UK Styles",genre:"Liquid DnB",tempoRange:[170,175],sections:["Intro","Build-Up","Drop","Mid-Roll","Breakdown","Second Drop","Outro"]},{category:"Drum & Bass / UK Styles",genre:"Jungle",tempoRange:[170,175],sections:["Intro","Build-Up","Drop","Mid-Roll","Breakdown","Second Drop","Outro"]},{category:"Drum & Bass / UK Styles",genre:"UK Garage",tempoRange:[130,138],sections:["Intro","Build-Up","Drop","Breakdown","Outro"]},{category:"Drum & Bass / UK Styles",genre:"UK Bass",tempoRange:[128,138],sections:["Intro","Build-Up","Drop","Breakdown","Outro"]},{category:"Drum & Bass / UK Styles",genre:"Breakbeat",tempoRange:[125,135],sections:["Intro","Build-Up","Drop","Breakdown","Outro"]},{category:"Pop / Indie / Electro",genre:"EDM Pop",tempoRange:[110,125],sections:["Intro","Verse","Pre-Chorus","Chorus / Drop","Bridge","Outro"]},{category:"Pop / Indie / Electro",genre:"Indie Pop",tempoRange:[100,120],sections:["Intro","Verse","Chorus","Bridge","Outro"]},{category:"Pop / Indie / Electro",genre:"Indie Dance",tempoRange:[115,125],sections:["Intro","Verse","Chorus","Bridge","Outro"]},{category:"Pop / Indie / Electro",genre:"Electro Pop",tempoRange:[100,120],sections:["Intro","Verse","Pre-Chorus","Chorus","Bridge","Outro"]},{category:"Pop / Indie / Electro",genre:"Synth Pop",tempoRange:[100,115],sections:["Intro","Verse","Pre-Chorus","Chorus","Bridge","Outro"]},{category:"Retro & Synth",genre:"Synthwave",tempoRange:[85,105],sections:["Intro","Main Theme","Breakdown","Bridge","Outro"]},{category:"Retro & Synth",genre:"Chillwave",tempoRange:[85,100],sections:["Intro","Main Theme","Breakdown","Bridge","Outro"]},{category:"Retro & Synth",genre:"Vaporwave",tempoRange:[60,85],sections:["Intro","Main Theme","Breakdown","Outro"]},{category:"Retro & Synth",genre:"Retrowave",tempoRange:[90,110],sections:["Intro","Main Theme","Breakdown","Bridge","Outro"]},{category:"Hip-Hop & RnB",genre:"Boom Bap",tempoRange:[85,95],sections:["Intro","Verse","Chorus","Verse 2","Outro"]},{category:"Hip-Hop & RnB",genre:"Experimental Hip-Hop",tempoRange:[80,100],sections:["Intro","Verse","Drop","Bridge","Outro"]},{category:"Hip-Hop & RnB",genre:"RnB Remix",tempoRange:[85,100],sections:["Intro","Verse","Chorus","Bridge","Outro"]},{category:"Lo-fi & Chill",genre:"Lo-fi Hip-Hop",tempoRange:[65,85],sections:["Intro","Groove Section A","Groove Section B","Bridge / Texture Break","Outro"]},{category:"Lo-fi & Chill",genre:"Chillhop",tempoRange:[70,90],sections:["Intro","Groove Section A","Groove Section B","Bridge / Texture Break","Outro"]},{category:"Lo-fi & Chill",genre:"Trip-Hop",tempoRange:[70,90],sections:["Intro","Main Atmosphere","Texture Development","Outro"]},{category:"Lo-fi & Chill",genre:"Downtempo",tempoRange:[70,90],sections:["Intro","Main Atmosphere","Texture Development","Dynamic Peak","Outro"]},{category:"Lo-fi & Chill",genre:"Chillstep",tempoRange:[100,115],sections:["Intro","Build-Up","Drop","Breakdown","Outro"]},{category:"Ambient & Cinematic",genre:"Ambient",tempoRange:[60,80],sections:["Intro","Main Atmosphere","Texture Development","Outro"]},{category:"Ambient & Cinematic",genre:"Cinematic",tempoRange:[60,80],sections:["Intro","Main Atmosphere","Texture Development","Outro"]}],n2=()=>{const i={};return Ey.forEach(({category:t,genre:n})=>{i[t]||(i[t]=[]),i[t].push(n)}),i},m0=i=>Ey.find(t=>t.genre===i),i2=i=>{if(!i)return[];const t=/##\s*🎹\s*Remix Implementation Roadmap/i,n=i.match(t);if(!n||typeof n.index>"u")return[];const a=n.index,o=i.substring(a+n[0].length).match(/^##\s+/m),u=o&&typeof o.index<"u"?a+n[0].length+o.index:i.length,c=i.substring(a,u).trim(),m=[],x=c.split(`
`);for(const f of x){const v=f.match(/^\s*-\s*\*\*([^:]+):\*\*\s*\[([^\]]+)\]/);v&&m.push({phase:v[1].trim(),description:v[2].trim()})}return m},h0=i=>{if(!i)return null;const t=/##\s*🎵\s*Original Track DNA Analysis/i,n=i.match(t);if(!n||typeof n.index>"u")return null;const a=n.index,o=i.substring(a+n[0].length).match(/^##\s+/m),u=o&&typeof o.index<"u"?a+n[0].length+o.index:i.length,m=i.substring(a,u).trim().match(/\*\*Harmonic Blueprint\*\*:\s*([^\n]+)/i);if(m&&m[1]){const f=m[1].match(/([IVXLCDMivxlcdm\d\s,-]+(?:\s*-\s*[IVXLCDMivxlcdm\d\s,-]+)*)/);if(f&&f[1])return f[1].trim()}return null},r2=()=>{const[i,t]=xe.useState(null),[n,a]=xe.useState(""),[o,u]=xe.useState(""),[c,m]=xe.useState(!1),[x,f]=xe.useState(!1),[v,b]=xe.useState(null),[C,E]=xe.useState(""),M=xe.useRef(null),B=n2(),P=Object.keys(B),j=te=>{var oe;const me=(oe=te.target.files)==null?void 0:oe[0];if(!me)return;if(!(["audio/wav","audio/mpeg","audio/mp3"].includes(me.type)||me.name.toLowerCase().endsWith(".wav")||me.name.toLowerCase().endsWith(".mp3"))){E("Please upload a WAV or MP3 file");return}if(me.size>100*1024*1024){E("File size must be under 100MB");return}t(me),E("")},Z=te=>{te.preventDefault();const me=te.dataTransfer.files[0];me&&j({target:{files:[me]}})},Y=te=>{te.preventDefault()},Q=async()=>{if(!i||!o){E("Please upload an audio file and select a target genre");return}m(!0),E("");try{const te=await NE(i),me={base64:te.base64,mimeType:te.mimeType},ge=m0(o),he=await nE(me,o,ge);b(he),f(!0);try{const oe=h0(he.guide),ce={key:he.targetKey,tempo:he.targetTempo,timeSignature:[4,4],chordProgression:oe||"i-VI-III-VII",genre:o,bars:8,targetInstruments:["bassline","drums","melody","pads"],guidebookContext:`${o} remix guide context`,songSection:he.sections[0]||"Intro"};let fe="";const re=await Xo(ce);for await(const _ of re)fe+=_.text;let de=fe.trim();const H=/^```(\w*)?\s*\n?(.*?)\n?\s*```$/s,R=de.match(H);R&&R[2]&&(de=R[2].trim());const N=JSON.parse(de);b(_=>_?{..._,generatedMidiPatterns:N}:null)}catch(oe){console.error("Error generating MIDI patterns for remix:",oe)}finally{f(!1)}}catch(te){console.error("Error generating remix guide:",te),E(te instanceof Error?te.message:"Failed to generate remix guide. Please try again.")}finally{m(!1)}},ne=te=>{a(te),u("")},K=()=>{t(null),a(""),u(""),b(null),E(""),M.current&&(M.current.value="")};return h.jsxs("div",{className:"space-y-6",children:[h.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[h.jsxs(lt,{className:"p-6",children:[h.jsx("h3",{className:"text-lg font-semibold mb-4 text-white",children:"Upload Original Track"}),h.jsxs("div",{className:"border-2 border-dashed border-gray-600 rounded-lg p-8 text-center cursor-pointer hover:border-gray-500 transition-colors",onDrop:Z,onDragOver:Y,onClick:()=>{var te;return(te=M.current)==null?void 0:te.click()},children:[h.jsx("input",{ref:M,type:"file",accept:".wav,.mp3,audio/wav,audio/mpeg",onChange:j,className:"hidden"}),h.jsxs("div",{className:"space-y-2",children:[h.jsx("div",{className:"text-4xl",children:"🎵"}),h.jsx("div",{className:"text-white font-medium",children:i?i.name:"Upload Original Track"}),h.jsx("p",{className:"text-gray-400 text-sm",children:"or drag and drop"})]}),h.jsxs("p",{className:"text-gray-500 text-xs mt-2",children:["MP3, WAV up to ",h.jsx("span",{className:"text-orange-400",children:"100"}),"MB"]})]})]}),h.jsxs(lt,{className:"p-6",children:[h.jsx("h3",{className:"text-lg font-semibold mb-4 text-white",children:"Target Remix Genre"}),h.jsxs("div",{className:"space-y-4",children:[h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"1. Select Category"}),h.jsxs("select",{value:n,onChange:te=>ne(te.target.value),className:"w-full p-3 bg-gray-700 border border-gray-600 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-orange-500",children:[h.jsx("option",{value:"",children:"Choose a category..."}),P.map(te=>h.jsx("option",{value:te,children:te},te))]})]}),n&&h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"2. Select Genre"}),h.jsxs("select",{value:o,onChange:te=>u(te.target.value),className:"w-full p-3 bg-gray-700 border border-gray-600 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-orange-500",children:[h.jsx("option",{value:"",children:"Choose a genre..."}),B[n].map(te=>h.jsx("option",{value:te,children:te},te))]})]}),o&&h.jsx("div",{className:"text-sm text-gray-400 bg-gray-800 p-3 rounded-lg",children:(()=>{const te=m0(o);return te?`🎵 Tempo: ${te.tempoRange[0]}-${te.tempoRange[1]} BPM`:""})()})]})]})]}),C&&h.jsx("div",{className:"bg-red-900/50 border border-red-500 rounded-lg p-4 text-red-200",children:C}),h.jsxs("div",{className:"flex gap-4",children:[h.jsx(Pe,{onClick:Q,disabled:!i||!o||c||x,className:"flex-1",children:c?h.jsxs(h.Fragment,{children:[h.jsx(er,{size:"sm"})," Analyzing & Generating Remix Guide..."]}):x?h.jsxs(h.Fragment,{children:[h.jsx(er,{size:"sm"})," Generating MIDI Patterns..."]}):"🎛️ Generate Remix Guide"}),h.jsx(Pe,{onClick:K,variant:"outline",children:"Reset"})]}),v&&h.jsxs("div",{className:"space-y-6",children:[h.jsxs(lt,{className:"p-6",children:[h.jsxs("div",{className:"flex justify-between items-center mb-4",children:[h.jsxs("h3",{className:"text-xl font-bold text-white",children:["🎛️ ",o," Remix Guide"]}),h.jsxs("div",{className:"text-sm text-gray-400",children:["Target: ",v.targetTempo," BPM • ",v.targetKey]})]}),h.jsx("div",{className:"bg-gray-800/50 rounded-lg p-6 max-h-[calc(100vh-8rem)] overflow-y-auto",children:h.jsx(Go,{content:v.guide})})]}),(()=>{const te=i2(v.guide);return te.length>0&&h.jsxs(lt,{className:"p-6",children:[h.jsx("h3",{className:"text-xl font-bold text-white mb-4",children:"🎵 Arrangement Ideas"}),h.jsx("div",{className:"overflow-x-auto",children:h.jsxs("table",{className:"w-full border-collapse border border-gray-600 bg-gray-800 text-sm",children:[h.jsx("thead",{className:"bg-orange-800/30",children:h.jsxs("tr",{className:"border-b border-gray-500",children:[h.jsx("th",{className:"p-3 font-semibold text-orange-200 text-left border border-gray-500",children:"Phase"}),h.jsx("th",{className:"p-3 font-semibold text-orange-200 text-left border border-gray-500",children:"Implementation Strategy"})]})}),h.jsx("tbody",{children:te.map((me,ge)=>h.jsxs("tr",{className:"border-b border-gray-600 hover:bg-gray-700/50 transition-colors duration-150",children:[h.jsx("td",{className:"p-3 text-gray-300 border border-gray-600 font-medium",children:me.phase}),h.jsx("td",{className:"p-3 text-gray-300 border border-gray-600",children:me.description})]},ge))})]})})]})})(),h.jsxs(lt,{className:"p-6",children:[h.jsx("h3",{className:"text-xl font-bold text-white mb-6",children:"🎹 MIDI Remix Patterns"}),h.jsx(H0,{initialPatterns:v.generatedMidiPatterns||v.midiPatterns,sections:v.sections,targetTempo:v.targetTempo,targetKey:v.targetKey,isRemixMode:!0,preGeneratedPatterns:v.generatedMidiPatterns,originalChordProgression:h0(v.guide),remixGuideContent:v.guide},`remix-${o}-${Date.now()}`)]})]}),!v&&h.jsx(lt,{className:"p-6 bg-gray-800/30",children:h.jsxs("div",{className:"text-center space-y-4",children:[h.jsx("div",{className:"text-6xl",children:"🎛️"}),h.jsx("h3",{className:"text-xl font-bold text-white",children:"Transform Your Track"}),h.jsx("p",{className:"text-gray-400 max-w-2xl mx-auto",children:"Upload your original track and select a target genre. Our AI will analyze the harmonic progression, melodies, and rhythmic elements, then generate a comprehensive remix guide with genre-appropriate MIDI patterns for basslines, drums, melodies, and textures."})]})})]})},l2=[{frequency:"20-30 Hz",description:"Sub-bass rumble, often felt more than heard. Can cause speaker damage if excessive.",instruments:["Kick drum","Sub bass","808s","Synthesizer bass"],action:"cut",category:"sub"},{frequency:"30-40 Hz",description:"Deep bass foundation, adds power and weight. Essential for electronic music.",instruments:["Kick drum","Bass guitar","Sub bass","808s"],action:"boost",category:"sub"},{frequency:"40-60 Hz",description:"Bass fundamentals, warmth and body. Key frequency for bass instruments.",instruments:["Kick drum","Bass guitar","Sub bass","Synthesizer bass","Tuba"],action:"boost",category:"sub"},{frequency:"60-80 Hz",description:"Bass guitar fundamentals, kick drum thump. Critical for rhythm section.",instruments:["Bass guitar","Kick drum","Male vocals","Cello","Synthesizer bass"],action:"boost",category:"bass"},{frequency:"80-120 Hz",description:"Bass clarity and definition. Too much causes muddiness.",instruments:["Bass guitar","Piano","Guitar","Vocals","Drums"],action:"boost",category:"bass"},{frequency:"120-200 Hz",description:"Warmth zone, can get muddy if excessive. Often needs gentle cutting.",instruments:["Bass guitar","Piano","Guitar","Vocals","Strings","Brass"],action:"cut",category:"bass"},{frequency:"200-250 Hz",description:"Muddiness zone, often problematic. Cut to clean up mix.",instruments:["Most instruments","Vocals","Guitar","Piano"],action:"cut",category:"bass"},{frequency:"250-350 Hz",description:"Cardboard/boxy sound, often problematic. Cut to reduce boxiness.",instruments:["Vocals","Snare","Guitar","Piano","Strings"],action:"cut",category:"low-mid"},{frequency:"350-450 Hz",description:"Honky/nasal frequencies. Can make vocals sound unnatural.",instruments:["Vocals","Horns","Guitar","Saxophone","Trumpet"],action:"cut",category:"low-mid"},{frequency:"450-500 Hz",description:"Lower midrange clarity. Boost for warmth, cut for clarity.",instruments:["Vocals","Guitar","Piano","Strings","Woodwinds"],action:"cut",category:"low-mid"},{frequency:"500-800 Hz",description:"Vocal clarity and instrument definition. Key for presence.",instruments:["Vocals","Snare","Guitar","Piano","Violin"],action:"boost",category:"mid"},{frequency:"800-1200 Hz",description:"Vocal presence, can sound harsh if overdone. Critical for intelligibility.",instruments:["Vocals","Snare","Hi-hats","Guitar","Brass"],action:"boost",category:"mid"},{frequency:"1-1.5 kHz",description:"Attack and punch, vocal intelligibility. Boost for clarity.",instruments:["Vocals","Snare","Guitar","Piano","Drums"],action:"boost",category:"mid"},{frequency:"1.5-2 kHz",description:"Presence and definition. Can become fatiguing if excessive.",instruments:["Vocals","Snare","Guitar","Piano","Cymbals"],action:"boost",category:"mid"},{frequency:"2-2.5 kHz",description:"Vocal presence, can be fatiguing. Boost for clarity, cut for smoothness.",instruments:["Vocals","Snare","Cymbals","Guitar","Violin"],action:"boost",category:"high-mid"},{frequency:"2.5-4 kHz",description:"Clarity and definition, harshness zone. Often needs careful handling.",instruments:["Vocals","Snare","Guitar","Cymbals","Piano"],action:"cut",category:"high-mid"},{frequency:"4-5 kHz",description:"Vocal intelligibility, can sound harsh. Critical for speech clarity.",instruments:["Vocals","Snare","Guitar","Cymbals","Brass"],action:"boost",category:"high-mid"},{frequency:"5-6 kHz",description:"Sibilance in vocals, cymbal harshness. Often needs de-essing.",instruments:["Vocals","Cymbals","Hi-hats","Acoustic guitar"],action:"cut",category:"high-mid"},{frequency:"6-8 kHz",description:"Vocal sibilance, cymbal brightness. Cut to reduce harshness.",instruments:["Vocals","Cymbals","Acoustic guitar","Hi-hats"],action:"cut",category:"presence"},{frequency:"8-10 kHz",description:"Brightness and clarity, can be harsh. Boost for sparkle.",instruments:["Cymbals","Hi-hats","Vocals","Acoustic guitar","Strings"],action:"boost",category:"presence"},{frequency:"10-12 kHz",description:"High-frequency clarity and definition. Adds presence and life.",instruments:["Cymbals","Hi-hats","Vocals","Strings","Flute"],action:"boost",category:"presence"},{frequency:"12-16 kHz",description:"Air and sparkle, openness. Adds dimension and space.",instruments:["Cymbals","Vocals","Strings","Acoustic guitar","Room mics"],action:"boost",category:"air"},{frequency:"16-20 kHz",description:"Ultra-high frequencies, air and space. Subtle but important for realism.",instruments:["Cymbals","Room mics","Strings","Vocals"],action:"boost",category:"air"},{frequency:"20+ kHz",description:"Extreme high frequencies, mostly harmonics. Can add subtle air.",instruments:["Cymbals","Room mics"],action:"boost",category:"air"}],a2=["All","Vocals","Male vocals","Kick drum","Snare","Bass guitar","Guitar","Acoustic guitar","Piano","Cymbals","Hi-hats","Sub bass","808s","Synthesizer bass","Horns","Strings","Room mics","Drums","Violin","Cello","Tuba","Saxophone","Trumpet","Brass","Woodwinds","Flute"],jc=[{id:"all",label:"All Frequencies",color:"bg-gray-600"},{id:"sub",label:"Sub Bass (20-60Hz)",color:"bg-red-600"},{id:"bass",label:"Bass (60-250Hz)",color:"bg-orange-600"},{id:"low-mid",label:"Low Mids (250-500Hz)",color:"bg-yellow-600"},{id:"mid",label:"Mids (500-2kHz)",color:"bg-green-600"},{id:"high-mid",label:"High Mids (2-6kHz)",color:"bg-blue-600"},{id:"presence",label:"Presence (6-12kHz)",color:"bg-indigo-600"},{id:"air",label:"Air (12kHz+)",color:"bg-purple-600"}],o2=({isOpen:i,onClose:t})=>{const[n,a]=xe.useState("All"),[o,u]=xe.useState("all"),[c,m]=xe.useState("");if(!i)return null;const x=l2.filter(b=>{const C=n==="All"||b.instruments.includes(n),E=o==="all"||b.category===o,M=c===""||b.frequency.toLowerCase().includes(c.toLowerCase())||b.description.toLowerCase().includes(c.toLowerCase())||b.instruments.some(B=>B.toLowerCase().includes(c.toLowerCase()));return C&&E&&M}),f=b=>{switch(b){case"boost":return"text-green-400";case"cut":return"text-red-400";case"notch":return"text-yellow-400";default:return"text-gray-400"}},v=b=>{switch(b){case"boost":return"↗️";case"cut":return"↘️";case"notch":return"🔻";default:return"•"}};return h.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:h.jsxs("div",{className:"bg-gray-800 rounded-lg shadow-xl max-w-6xl w-full max-h-[90vh] overflow-hidden",children:[h.jsxs("div",{className:"p-6 border-b border-gray-700",children:[h.jsxs("div",{className:"flex justify-between items-center mb-4",children:[h.jsxs("h2",{className:"text-2xl font-bold text-white flex items-center",children:[h.jsx(Xc,{className:"w-6 h-6 mr-2"}),"EQ Guide"]}),h.jsx("div",{className:"flex items-center gap-3",children:h.jsx(Pe,{onClick:t,variant:"outline",size:"sm",children:"✕ Close"})})]}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Filter by Instrument"}),h.jsx("select",{value:n,onChange:b=>a(b.target.value),className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-md text-gray-100 focus:ring-purple-500 focus:border-purple-500",children:a2.map(b=>h.jsx("option",{value:b,children:b},b))})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Frequency Zone"}),h.jsx("select",{value:o,onChange:b=>u(b.target.value),className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-md text-gray-100 focus:ring-purple-500 focus:border-purple-500",children:jc.map(b=>h.jsx("option",{value:b.id,children:b.label},b.id))})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Search"}),h.jsx(Yt,{type:"text",placeholder:"Search frequencies, descriptions...",value:c,onChange:b=>m(b.target.value)})]})]})]}),h.jsxs("div",{className:"p-6 overflow-y-auto max-h-[calc(90vh-200px)]",children:[h.jsxs("div",{className:"mb-6",children:[h.jsx("h3",{className:"text-lg font-semibold text-white mb-3",children:"Frequency Zones"}),h.jsx("div",{className:"flex flex-wrap gap-2",children:jc.map(b=>h.jsx("button",{onClick:()=>u(b.id),className:`px-3 py-1 rounded-full text-sm font-medium transition-all ${o===b.id?`${b.color} text-white shadow-lg`:"bg-gray-700 text-gray-300 hover:bg-gray-600"}`,children:b.label},b.id))})]}),h.jsx("div",{className:"space-y-3",children:x.length===0?h.jsx("p",{className:"text-gray-400 text-center py-8",children:"No EQ data matches your current filters."}):x.map((b,C)=>{var E;return h.jsx(lt,{className:"bg-gray-700/50 hover:bg-gray-700/70 transition-colors",children:h.jsx("div",{className:"p-4",children:h.jsx("div",{className:"flex items-start justify-between",children:h.jsxs("div",{className:"flex-1",children:[h.jsxs("div",{className:"flex items-center mb-2",children:[h.jsx("span",{className:"text-lg font-bold text-white mr-3",children:b.frequency}),h.jsxs("span",{className:`text-sm font-medium ${f(b.action)}`,children:[v(b.action)," ",b.action.toUpperCase()]}),h.jsx("span",{className:`ml-2 px-2 py-1 rounded-full text-xs font-medium ${((E=jc.find(M=>M.id===b.category))==null?void 0:E.color)||"bg-gray-600"} text-white`,children:b.category.replace("-"," ").toUpperCase()})]}),h.jsx("p",{className:"text-gray-300 mb-2",children:b.description}),h.jsx("div",{className:"flex flex-wrap gap-1",children:b.instruments.map(M=>h.jsx("span",{className:"px-2 py-1 bg-gray-600 text-gray-200 rounded text-xs",children:M},M))})]})})})},C)})})]}),h.jsx("div",{className:"p-4 border-t border-gray-700 bg-gray-800/50",children:h.jsx("p",{className:"text-xs text-gray-400 text-center",children:"💡 Tip: These are general guidelines. Always trust your ears and adjust based on the specific context of your mix."})})]})})},jo=({className:i="w-4 h-4"})=>h.jsx("div",{className:`${i} bg-orange-500 transform rotate-45 flex items-center justify-center`,children:h.jsx("div",{className:"w-1/2 h-1/2 bg-white transform -rotate-45"})}),g0={songTitle:"",genre:[],artistReference:"",referenceTrackLink:"",lyrics:"",key:"",scale:"",chords:"",generalNotes:"",vibe:[],daw:"",plugins:"",availableInstruments:""},p0={audioFile:null,userNotes:""},Mi=100,Oo=Mi*1024*1024,y0=i=>{const t=i.match(/Estimated BPM Range:\s*.*?(\d+)\s*(?:-|to)\s*(\d+)\s*BPM/i);if(t&&t[1]&&t[2])return Math.round((parseInt(t[1],10)+parseInt(t[2],10))/2);const n=i.match(/Estimated BPM Range:\s*.*?(\d+)\s*BPM/i);if(n&&n[1])return parseInt(n[1],10);const a=i.match(/BPM:\s*(\d+)/i);return a&&a[1]?parseInt(a[1],10):null},x0=i=>{const t=i.match(/Suggested Key\(s\) \/ Scale\(s\):\s*([^(\n]+)/i);if(t&&t[1]){const n=t[1].split(/,|\/| or /).map(o=>o.trim().replace(/\.$/,""));for(const o of n){const u=o.includes(" Minor")?o:o.replace("Major","").trim()+" Major";if(ra.includes(o)||ra.includes(u))return ra.includes(o)?o:u}const a=n[0];if(a){for(const o of ra)if(a.toLowerCase().startsWith(o.split(" ")[0].toLowerCase()))if(a.toLowerCase().includes("minor")){if(o.includes("Minor"))return o}else if(a.toLowerCase().includes("major")){if(o.includes("Major"))return o}else return o;return a}}return null},v0=i=>{const t=i.match(/## (?:3|4)\.(?:.*Harmony.*|.*Chord Progressions.*)\s*\n(?:[^\n]*\n)*?.*?Chord Progression\(s\)\s*(?:\([^)]+\))?:\s*([^\n]+)/im);if(t&&t[1]){const o=t[1].match(/([ivclxmdIVCLXMDab#ø°dimaug\d\/sus-]+(?:\s*-\s*[ivclxmdIVCLXMDab#ø°dimaug\d\/sus-]+)*)/);if(o&&o[1]){let u=o[1].trim();u.endsWith(".")&&(u=u.slice(0,-1));const c=[", ",". ","; "];for(const m of c)if(u.includes(m)){u=u.split(m)[0];break}if(/[IVXLCDMivxlcdm]/.test(u))return u}}const n=i.match(/Chord Progression\(s\).*?:\s*([IVXLCDMivxlcdm\d\s,-]+)/i);if(n&&n[1]){const a=n[1].split(",")[0].trim();if(/[IVXLCDMivxlcdm]/.test(a))return a}return null},od=(i,t)=>{const n=i.match(t);if(!n||typeof n.index>"u")return"";const a=n.index,o=i.substring(a+n[0].length).match(/^##\s+/m),u=o&&typeof o.index<"u"?a+n[0].length+o.index:i.length;return i.substring(a,u).trim()},s2=i=>{if(!i)return"";let t="";return t+=od(i,/^##\s*1\.\s*Song Overview/im)+`

`,t+=od(i,/^##\s*4\.\s*Harmony, Melody & Rhythmic Core/im),t.trim()||"General musical context not fully parsed. Focus on genre and vibe."},u2=i=>{if(!i)return[];const n=od(i,/^##\s*2\.\s*Structural Blueprint/im);if(!n)return[];const a=[],o=n.split(`
`);for(const u of o){const c=u.match(/\*\*([^(]+)\s*\(([^)]+)\):\*\*\s*(.*)/);c&&a.push({section:c[1].trim(),duration:c[2].trim(),description:c[3].trim()})}return a},b0=i=>{const t=i.match(/^\s*-\s*\*\*Suggested Title:\*\*\s*(.*)/im);return t&&t[1]?t[1].trim().replace(/\*\*([^*]+)\*\*/g,"$1").replace(/\*([^*]+)\*/g,"$1"):null},c2=()=>{var Ot;const[i,t]=xe.useState("landing"),[n,a]=xe.useState(g0),[o,u]=xe.useState(""),[c,m]=xe.useState(""),[x,f]=xe.useState(""),[v,b]=xe.useState(!1),[C,E]=xe.useState(""),[M,B]=xe.useState(null),[P,j]=xe.useState(null),[Z,Y]=xe.useState([]),[Q,ne]=xe.useState(null),[K,te]=xe.useState(!1),[me,ge]=xe.useState(""),[he,oe]=xe.useState(!1),[ce,fe]=xe.useState(!0),[re,de]=xe.useState(p0),[H,R]=xe.useState(null),[N,_]=xe.useState(!1),[T,I]=xe.useState(null),[U,A]=xe.useState("single"),[$,se]=xe.useState({mixA:null,mixB:null,userNotes:"",includeMixBFeedback:!1}),[ae,Xe]=xe.useState(null),[_e,F]=xe.useState(!1),[ve,ye]=xe.useState(null),Ae=xe.useRef(null),Ie=xe.useRef(null),Ge=xe.useRef(null);xe.useEffect(()=>{try{const be=localStorage.getItem(bp);if(be){const Et=JSON.parse(be).map(ct=>({...ct,genre:Array.isArray(ct.genre)?ct.genre:ct.genre?[ct.genre]:[],vibe:Array.isArray(ct.vibe)?ct.vibe:ct.vibe?[ct.vibe]:[],scale:ct.scale||"",midiSettings:ct.midiSettings||void 0,generatedMidiPatterns:ct.generatedMidiPatterns||void 0}));Y(Et)}}catch(be){console.error("Failed to load library from local storage:",be),Y([])}const G=localStorage.getItem(Ql),ue=localStorage.getItem(Ro);a(be=>({...be,daw:G||be.daw||"",plugins:ue||be.plugins||""}))},[]),xe.useEffect(()=>{try{localStorage.setItem(bp,JSON.stringify(Z))}catch(G){console.error("Failed to save library to local storage:",G)}},[Z]);const Be=G=>{const{name:ue,value:be}=G.target;ue==="currentGenreText"?u(be):ue==="currentVibeText"?m(be):(a(Oe=>({...Oe,[ue]:be})),ue==="daw"?localStorage.setItem(Ql,be):ue==="plugins"&&localStorage.setItem(Ro,be))},Je=G=>{var be,Oe;const ue=G==="genre"?o.trim():c.trim();ue&&!n[G].includes(ue)&&a(Et=>({...Et,[G]:[...Et[G],ue]})),G==="genre"?(u(""),(be=Ie.current)==null||be.focus()):(m(""),(Oe=Ge.current)==null||Oe.focus())},Ve=(G,ue)=>{G.key==="Enter"&&(G.preventDefault(),Je(ue))},Jt=(G,ue)=>{a(be=>{const Et=be[G].filter(ct=>ct!==ue);return{...be,[G]:Et}})},on=G=>{a(ue=>({...ue,daw:G})),localStorage.setItem(Ql,G)},Cn=G=>{const ue=G.match(/^#\s*TRACKGUIDE:\s*"?([^"\n]+)"?/im);return ue&&ue[1]?ue[1].trim():null},_n=()=>{const G=localStorage.getItem(Ql)||"",ue=localStorage.getItem(Ro)||"";a({...g0,songTitle:"",daw:G,plugins:ue}),u(""),m(""),f(""),ne(null),B(null),j(null),ge(""),Nn(),te(!1)},Jr=async G=>{var Et;G.preventDefault(),b(!0),B(null),j(null),f(""),ne(null),ge(""),Nn(),window.scrollTo({top:0,behavior:"smooth"}),n.daw&&localStorage.setItem(Ql,n.daw),n.plugins&&localStorage.setItem(Ro,n.plugins);let ue="",be,Oe;try{E("TrackGuide is generating...");const ct=await KC(n);for await(const wt of ct)ue+=wt.text,f(cn=>cn+wt.text);E("Initial MIDI patterns are generating...");const ga=Cn(ue),pa=(Et=n.songTitle)!=null&&Et.trim()?n.songTitle.trim():ga||`TrackGuide for ${n.genre.join(", ")||"Unknown Genre"}`,Wr=Date.now().toString(),el=new Date().toISOString(),ya=y0(ue),as=x0(ue),Dn=v0(ue),gt=n.genre[0]||Ke.genre,_t=Tn[gt]||Tn.Default,ni=Math.round((_t[0]+_t[1])/2),tl=(bn[gt]||bn.Default)[0],os=s2(ue),ss=Ke.songSection;let nl=8;const Bi=gt.toLowerCase();["lo-fi hip hop","lofi hip hop","lofi","trap","ambient","idm","breakcore","footwork","juke","experimental"].some(wt=>Bi.includes(wt))&&(nl=4);const ii=["chords","bassline","melody","drums"];Oe={key:as||Ke.key,tempo:ya||ni,timeSignature:Ke.timeSignature,chordProgression:Dn||tl,genre:gt,bars:nl,targetInstruments:ii,guidebookContext:os,songSection:ss};try{const wt=await Xo(Oe);let cn="";for await(const Li of wt)cn+=Li.text;let In=cn.trim();const xt=/^```(\w*)?\s*\n?(.*?)\n?\s*```$/s,ir=In.match(xt);if(ir&&ir[2]&&(In=ir[2].trim()),be=JSON.parse(In),be.drums){const Li={};for(const kn in be.drums)Li[kn.toLowerCase().replace(/\s+/g,"_")]=be.drums[kn];be.drums=Li}j(null)}catch(wt){console.error("Initial MIDI generation failed:",wt);const cn=wt.message.toLowerCase().includes("json")?`AI returned invalid JSON for MIDI patterns during initial generation. (${wt.message})`:`Initial MIDI generation failed: ${wt.message}.`;j(cn+" You can try generating MIDI manually in the MIDI tools section."),be=void 0}ne({id:Wr,title:pa,genre:n.genre,artistReference:n.artistReference,referenceTrackLink:n.referenceTrackLink,lyrics:n.lyrics,key:n.key,chords:n.chords,generalNotes:n.generalNotes,vibe:n.vibe,daw:n.daw,plugins:n.plugins,availableInstruments:n.availableInstruments||"",content:ue,createdAt:el,midiSettings:Oe,generatedMidiPatterns:be})}catch(ct){B(ct.message||"An unexpected error occurred while generating TrackGuide."),ne(null),f("")}finally{b(!1),E("")}},nr=()=>{if(!Q)return;const G={...Q};Y(ue=>{const be=ue.findIndex(Oe=>Oe.id===G.id);if(be>-1){const Oe=[...ue];return Oe[be]=G,Oe}return[G,...ue]})},Qr=(G,ue)=>{ne(be=>be?{...be,midiSettings:G,generatedMidiPatterns:ue}:null)},Zr=G=>{a({songTitle:G.title,genre:Array.isArray(G.genre)?G.genre:G.genre?[String(G.genre)]:[],artistReference:G.artistReference,referenceTrackLink:G.referenceTrackLink||"",lyrics:G.lyrics||"",key:G.key||"",chords:G.chords||"",generalNotes:G.generalNotes||"",vibe:Array.isArray(G.vibe)?G.vibe:G.vibe?[String(G.vibe)]:[],daw:G.daw,plugins:G.plugins,availableInstruments:G.availableInstruments||""}),u(""),m(""),f(G.content),ne(G),B(null),j(null),ge(""),Nn(),te(!1),t("trackGuide"),window.scrollTo({top:0,behavior:"smooth"})},X=G=>{Y(ue=>ue.filter(be=>be.id!==G)),Q&&Q.id===G&&(f(""),ne(null),Nn())},ie=({selections:G,onRemove:ue})=>h.jsx("div",{className:"flex flex-wrap gap-2 mt-2 mb-2 min-h-[2.25rem]",children:G.map(be=>h.jsxs("span",{className:"flex items-center px-3 py-1 bg-orange-600 text-white text-xs font-medium rounded-full shadow-md hover:bg-orange-700 transition-colors",children:[be,h.jsx("button",{type:"button",onClick:()=>ue(be),className:"ml-1.5 -mr-0.5 p-0.5 text-orange-200 hover:text-white rounded-full focus:outline-none focus:bg-orange-800 transition-colors","aria-label":`Remove ${be}`,children:h.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-3 w-3",viewBox:"0 0 20 20",fill:"currentColor",children:h.jsx("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})})})]},be))}),Se=G=>{var be;const ue=(be=G.target.files)==null?void 0:be[0];if(ue){if(ue.size>Oo){I(`File is too large. Maximum size is ${Mi}MB.`),de(Oe=>({...Oe,audioFile:null})),Ae.current&&(Ae.current.value="");return}if(!ue.type.startsWith("audio/")){I("Invalid file type. Please upload an audio file (e.g., MP3, WAV)."),de(Oe=>({...Oe,audioFile:null})),Ae.current&&(Ae.current.value="");return}de(Oe=>({...Oe,audioFile:ue})),I(null)}},Ce=G=>{de(ue=>({...ue,userNotes:G.target.value}))},Fe=async G=>{if(G.preventDefault(),!re.audioFile){I("Please upload an audio file for feedback.");return}_(!0),R(null),I(null);try{const ue=await QC(re);R(ue)}catch(ue){I(ue.message||"An unknown error occurred while generating mix feedback.")}finally{_(!1)}},jt=()=>{de(p0),R(null),I(null),Ae.current&&(Ae.current.value="")},sn=G=>new Promise((ue,be)=>{const Oe=new FileReader;Oe.readAsDataURL(G),Oe.onload=()=>{const ct=Oe.result.split(",")[1];ue(ct)},Oe.onerror=Et=>be(Et)}),Rt=async()=>{if(!$.mixA||!$.mixB){ye("Please upload both Mix A and Mix B files.");return}F(!0),Xe(null),ye(null);try{const G=await sn($.mixA),ue=await sn($.mixB),be={mixAFile:G,mixBFile:ue,mixAName:$.mixA.name,mixBName:$.mixB.name,includeMixBFeedback:$.includeMixBFeedback,userNotes:$.userNotes},Oe=await eE(be);Xe(Oe)}catch(G){ye(G.message||"An unknown error occurred while comparing mixes.")}finally{F(!1)}},un=()=>{se({mixA:null,mixB:null,userNotes:"",includeMixBFeedback:!1}),Xe(null),ye(null)};let ot;const ht=(Ot=n.songTitle)==null?void 0:Ot.trim();if(ht)ot=`TrackGuide: ${ht}`;else if(Q!=null&&Q.title){const G=Q.title;if(G.startsWith("TrackGuide for ")){const ue=Cn(Q.content);ue?ot=`TrackGuide: ${ue}`:ot=G}else ot=`TrackGuide: ${G}`}else if(v&&i==="trackGuide"){const G=b0(x);G?ot=`TrackGuide: ${G}`:ot="TrackGuide is generating..."}else if(x){const G=b0(x);G?ot=`TrackGuide: ${G}`:ot="Generated TrackGuide"}else ot="TrackGuide";return i==="landing"?h.jsx(BE,{onGetStarted:()=>{t("trackGuide"),setTimeout(()=>window.scrollTo({top:0,behavior:"smooth"}),100)}}):h.jsxs("div",{className:"min-h-screen bg-[#1A1A1A] text-gray-100 p-4 md:p-6 lg:p-8 relative overflow-hidden",children:[h.jsx("div",{className:"absolute inset-0 opacity-20 pointer-events-none",children:h.jsx("div",{className:"absolute inset-0 pointer-events-none",style:{backgroundImage:"radial-gradient(circle at 2px 2px, #FF5722 1px, transparent 0)",backgroundSize:"40px 40px"}})}),h.jsxs("div",{className:"absolute top-10 right-10 w-32 h-32 opacity-10 pointer-events-none",children:[h.jsx("div",{className:"w-full h-full border-2 border-orange-500 transform rotate-12 pointer-events-none"}),h.jsx("div",{className:"absolute top-2 right-2 w-28 h-28 bg-orange-500 transform rotate-12 pointer-events-none"})]}),h.jsxs("header",{className:"text-center mb-6 relative z-10",children:[h.jsxs("div",{className:"flex items-center justify-center space-x-3 mb-4",children:[h.jsx("div",{className:"w-8 h-8 bg-orange-500 transform rotate-45 flex items-center justify-center",children:h.jsx("div",{className:"w-4 h-4 bg-white transform -rotate-45"})}),h.jsxs("div",{children:[h.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-white",children:vp}),h.jsx("p",{className:"text-gray-400 text-lg",children:"Your Smartest Studio Assistant"})]})]}),h.jsx("button",{onClick:()=>t("landing"),className:"mt-2 text-sm text-orange-500 hover:text-orange-400 transition-colors font-medium",children:"← Back to Landing"})]}),h.jsxs("nav",{className:"mb-8 flex flex-col justify-center items-center md:flex-row md:justify-center gap-2 border-b border-orange-500/20 pb-3 relative z-10",children:[h.jsx(Pe,{size:"sm",className:`w-full md:w-auto px-3 py-2 text-xs md:text-sm rounded-md transition-all duration-150 ease-in-out ${i==="trackGuide"?"bg-orange-500 shadow-lg hover:bg-orange-600":"bg-gray-700/80 hover:bg-gray-600/80 border border-gray-600"}`,onClick:()=>t("trackGuide"),variant:i==="trackGuide"?"primary":"secondary",leftIcon:h.jsx(jo,{className:"w-4 h-4"}),children:"TrackGuide AI"}),h.jsx(Pe,{size:"sm",className:`w-full md:w-auto px-3 py-2 text-xs md:text-sm rounded-md transition-all duration-150 ease-in-out ${i==="remixGuide"?"bg-orange-500 shadow-lg hover:bg-orange-600":"bg-gray-700/80 hover:bg-gray-600/80 border border-gray-600"}`,onClick:()=>t("remixGuide"),variant:i==="remixGuide"?"primary":"secondary",leftIcon:h.jsx("span",{className:"w-4 h-4 text-center",children:"🎛️"}),children:"RemixGuide AI"}),h.jsx(Pe,{size:"sm",className:`w-full md:w-auto px-3 py-2 text-xs md:text-sm rounded-md transition-all duration-150 ease-in-out ${i==="mixFeedback"?"bg-orange-500 shadow-lg hover:bg-orange-600":"bg-gray-700/80 hover:bg-gray-600/80 border border-gray-600"}`,onClick:()=>t("mixFeedback"),variant:i==="mixFeedback"?"primary":"secondary",leftIcon:h.jsx("span",{className:"w-4 h-4 text-center",children:"🎚️"}),children:"Mix Feedback AI"}),h.jsx(Pe,{size:"sm",className:`w-full md:w-auto px-3 py-2 text-xs md:text-sm rounded-md transition-all duration-150 ease-in-out ${i==="eqGuide"?"bg-orange-500 shadow-lg hover:bg-orange-600":"bg-gray-700/80 hover:bg-gray-600/80 border border-gray-600"}`,onClick:()=>t("eqGuide"),variant:i==="eqGuide"?"primary":"secondary",leftIcon:h.jsx(Xc,{className:"w-4 h-4"}),children:"EQ Guide"})]}),i==="trackGuide"&&h.jsxs("div",{className:"max-w-full mx-auto grid grid-cols-1 lg:grid-cols-7 gap-6 px-4",children:[h.jsxs(lt,{title:"Blueprint Your Sound",className:"lg:col-span-2 bg-gray-800/80 backdrop-blur-md shadow-xl border border-gray-700/50",children:[h.jsx("p",{className:"text-sm text-gray-400 mb-4",children:"Describe your vision—everything's optional."}),h.jsxs("form",{onSubmit:Jr,className:"space-y-3",children:[h.jsx("div",{children:h.jsx(Yt,{label:"Song Title / Project Name",name:"songTitle",value:n.songTitle||"",onChange:Be,placeholder:"AI will suggest one if left blank"})}),h.jsx("div",{children:h.jsx(Yt,{label:"Artist References",name:"artistReference",value:n.artistReference,onChange:Be,placeholder:"e.g., Daft Punk"})}),h.jsx("div",{children:h.jsx(Yt,{label:"Song Reference",name:"referenceTrackLink",value:n.referenceTrackLink||"",onChange:Be,placeholder:"e.g., YouTube, Spotify, SoundCloud link"})}),h.jsxs("div",{className:"space-y-2",children:[h.jsxs("div",{children:[h.jsx("label",{htmlFor:"genre-input",className:"block text-sm font-medium text-gray-300 mb-1.5",children:"Genre(s)"}),h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx(Yt,{ref:Ie,id:"genre-input",name:"currentGenreText",value:o,onChange:Be,onKeyDown:G=>Ve(G,"genre"),placeholder:"Type custom genre...",list:"genre-suggestions",className:"flex-grow"}),h.jsx(Pe,{type:"button",onClick:()=>Je("genre"),size:"sm",variant:"secondary","aria-label":"Add Genre",className:"px-3",children:h.jsx($c,{className:"w-4 h-4"})})]}),h.jsx("datalist",{id:"genre-suggestions",children:U0.map(G=>h.jsx("option",{value:G},G))}),h.jsx(ie,{selections:n.genre,onRemove:G=>Jt("genre",G)})]}),h.jsxs("div",{children:[h.jsx("label",{htmlFor:"vibe-input",className:"block text-sm font-medium text-gray-300 mb-1.5",children:"Vibe / Mood"}),h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx(Yt,{ref:Ge,id:"vibe-input",name:"currentVibeText",value:c,onChange:Be,onKeyDown:G=>Ve(G,"vibe"),placeholder:"Type custom vibe...",list:"vibe-suggestions",className:"flex-grow"}),h.jsx(Pe,{type:"button",onClick:()=>Je("vibe"),size:"sm",variant:"secondary","aria-label":"Add Vibe",className:"px-3",children:h.jsx($c,{className:"w-4 h-4"})})]}),h.jsx("datalist",{id:"vibe-suggestions",children:VC.map(G=>h.jsx("option",{value:G},G))}),h.jsx(ie,{selections:n.vibe,onRemove:G=>Jt("vibe",G)})]})]}),h.jsxs("div",{children:[h.jsx(Yt,{label:"Preferred DAW",name:"daw",value:n.daw,onChange:Be,placeholder:"Type or select DAW...",list:"daw-suggestions"}),h.jsx("datalist",{id:"daw-suggestions",children:Tp.map(G=>h.jsx("option",{value:G},G))}),h.jsx("div",{className:"flex flex-wrap gap-2 mt-2 mb-1",children:Tp.slice(0,5).map(G=>h.jsx("button",{type:"button",onClick:()=>on(G),className:`px-3 py-1 text-xs rounded-full transition-all duration-150 ease-in-out shadow-sm hover:shadow-md ${n.daw===G?"bg-orange-600 text-white ring-2 ring-orange-400 ring-offset-2 ring-offset-gray-800":"bg-gray-700 hover:bg-gray-600 text-gray-300 hover:text-gray-100"}`,children:G},G))})]}),h.jsx("div",{children:h.jsx(Or,{label:"Available Plugins",name:"plugins",value:n.plugins,onChange:Be,placeholder:"e.g., Serum, Valhalla Reverbs, Arturia V Collection, or 'stock only'",rows:2})}),h.jsx("div",{children:h.jsx(Or,{label:"Available Instruments",name:"availableInstruments",value:n.availableInstruments||"",onChange:Be,placeholder:"e.g., Electric Guitar, Moog Subsequent 37, Roland TR-808, Vocals",rows:2})}),h.jsxs("div",{className:"border-t border-gray-600 pt-4",children:[h.jsx(Pe,{type:"button",onClick:()=>oe(!he),variant:"outline",className:"mb-4 w-8 h-8 p-0 flex items-center justify-center",title:he?"Hide Advanced Input":"Show Advanced Input",children:h.jsx("span",{className:`text-lg transition-transform ${he?"rotate-45":""}`,children:"+"})}),he&&h.jsxs("div",{className:"space-y-4 p-4 bg-gray-700/30 rounded-lg border border-gray-600/50",children:[h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[h.jsx("div",{children:h.jsx(Yt,{label:"Key",name:"key",value:n.key||"",onChange:Be,placeholder:"e.g., C Major"})}),h.jsx("div",{children:h.jsx(Yt,{label:"Scale/Mode",name:"scale",value:n.scale||"",onChange:Be,placeholder:"e.g., Dorian, Mixolydian"})})]}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[h.jsx("div",{children:h.jsx(Yt,{label:"Chords",name:"chords",value:n.chords||"",onChange:Be,placeholder:"e.g., Am - F - C - G"})}),h.jsx("div",{children:h.jsx(Or,{label:"Lyrics",name:"lyrics",value:n.lyrics||"",onChange:Be,placeholder:"Paste your lyrics here if you have any...",rows:2})})]}),h.jsx("div",{children:h.jsx(Or,{label:"General Notes for AI",name:"generalNotes",value:n.generalNotes||"",onChange:Be,placeholder:"Any specific instructions, style notes, or creative direction for the AI to consider...",rows:3})})]})]}),h.jsx(Pe,{type:"submit",disabled:v,className:"w-full text-base py-2.5",leftIcon:h.jsx(jo,{className:"w-5 h-5"}),children:v?C||"Generating...":"Generate TrackGuide"}),h.jsxs("div",{className:"flex space-x-2 mt-3",children:[h.jsx(Pe,{type:"button",onClick:()=>te(!0),variant:"secondary",className:"flex-1",leftIcon:h.jsx(Kc,{className:"w-4 h-4"}),children:"View Library"}),h.jsx(Pe,{type:"button",onClick:_n,variant:"outline",className:"flex-1",children:"Clear Form"})]})]})]}),h.jsxs("div",{className:"lg:col-span-5 space-y-6",children:[M&&!v&&h.jsxs(lt,{className:"border-red-500 bg-red-900/40 shadow-xl",children:[h.jsx("p",{className:"text-red-300 font-semibold text-lg",children:"TrackGuide Error:"}),h.jsx("p",{className:"text-red-300",children:M})]}),P&&!C.toLowerCase().includes("midi")&&!M&&h.jsxs(lt,{className:"border-yellow-500 bg-yellow-900/40 shadow-xl",children:[h.jsx("p",{className:"text-yellow-300 font-semibold text-lg",children:"MIDI Generation Note:"}),h.jsx("p",{className:"text-yellow-300",children:P})]}),(x||v&&C.includes("TrackGuide is generating"))&&!M&&h.jsxs(lt,{title:ot,className:"bg-gray-800/80 backdrop-blur-md shadow-xl border border-gray-700/50 sticky top-8",titleClassName:"border-b border-gray-700 text-xl",children:[Q&&!v&&h.jsxs("div",{className:"flex flex-wrap gap-3 mb-5 pb-4 border-b border-gray-700 items-center",children:[h.jsx(Pe,{onClick:nr,variant:"secondary",leftIcon:h.jsx(rE,{}),children:"Save to Library"}),h.jsx("div",{className:"flex-grow"}),h.jsx(Pe,{onClick:_n,variant:"outline",size:"sm",className:"!border-gray-500 !text-gray-400 hover:!bg-gray-600 hover:!text-white",leftIcon:h.jsx(j0,{}),children:"Close"}),me&&h.jsx("span",{className:`ml-3 text-sm ${me.includes("Failed")||me.includes("not supported")?"text-red-400":"text-green-400"}`,children:me})]}),h.jsxs("div",{id:"guidebook-content-display",className:"prose prose-sm md:prose-base prose-invert max-w-none max-h-[calc(100vh-6rem)] overflow-y-auto pr-3 text-gray-300 custom-scrollbar guidebook-content",children:[Q&&!v&&h.jsxs("div",{className:"mb-6 p-4 bg-gray-700/50 rounded-lg text-sm shadow-inner border border-gray-600/50 guidebook-section-break",children:[h.jsx("strong",{className:"text-orange-300 block mb-2 text-base",children:"TrackGuide Snapshot:"}),h.jsxs("p",{children:[h.jsx("strong",{children:"Project Title:"})," ",Q.title]}),h.jsxs("p",{children:[h.jsx("strong",{children:"Genre(s):"})," ",Array.isArray(Q.genre)?Q.genre.join(", "):Q.genre]}),h.jsxs("p",{children:[h.jsx("strong",{children:"Artist/Song Ref:"})," ",Q.artistReference||"N/A"]}),h.jsxs("p",{children:[h.jsx("strong",{children:"Vibe(s):"})," ",Array.isArray(Q.vibe)?Q.vibe.join(", "):Q.vibe]}),h.jsxs("p",{children:[h.jsx("strong",{children:"DAW:"})," ",Q.daw]}),h.jsxs("p",{children:[h.jsx("strong",{children:"Plugins:"})," ",Q.plugins||"N/A"]}),h.jsxs("p",{children:[h.jsx("strong",{children:"Instruments:"})," ",Q.availableInstruments||"N/A"]}),Q.generatedMidiPatterns&&h.jsxs("p",{className:"mt-1 text-green-400",children:[h.jsx(z0,{className:"w-4 h-4 inline mr-1"})," Initial MIDI patterns generated."]})]}),Q&&!v&&(()=>{const G=u2(Q.content);return G.length>0&&h.jsxs("div",{className:"mb-6 p-4 bg-gray-700/50 rounded-lg text-sm shadow-inner border border-gray-600/50 guidebook-section-break",children:[h.jsx("strong",{className:"text-orange-300 block mb-3 text-base",children:"Structural Blueprint:"}),h.jsx("div",{className:"overflow-x-auto",children:h.jsxs("table",{className:"w-full border-collapse border border-gray-600 bg-gray-800 text-xs",children:[h.jsx("thead",{className:"bg-orange-800/30",children:h.jsxs("tr",{className:"border-b border-gray-500",children:[h.jsx("th",{className:"p-2 font-semibold text-orange-200 text-left border border-gray-500",children:"Section"}),h.jsx("th",{className:"p-2 font-semibold text-orange-200 text-left border border-gray-500",children:"Duration"}),h.jsx("th",{className:"p-2 font-semibold text-orange-200 text-left border border-gray-500",children:"Description"})]})}),h.jsx("tbody",{children:G.map((ue,be)=>h.jsxs("tr",{className:"border-b border-gray-600 hover:bg-gray-700/50 transition-colors duration-150",children:[h.jsx("td",{className:"p-2 text-gray-300 border border-gray-600 font-medium",children:ue.section}),h.jsx("td",{className:"p-2 text-gray-300 border border-gray-600",children:ue.duration}),h.jsx("td",{className:"p-2 text-gray-300 border border-gray-600",children:ue.description})]},be))})]})})]})})(),h.jsx(Go,{content:x}),v&&C.includes("TrackGuide is generating")&&h.jsx(er,{size:"sm",text:"Generating TrackGuide..."})]})]}),v&&!M&&C&&!C.includes("TrackGuide is generating")&&h.jsx("div",{className:"flex justify-center py-10",children:h.jsx(er,{size:"lg",text:C||"Processing..."})}),Q&&!v&&x&&!M&&h.jsx(H0,{currentGuidebookEntry:Q,mainAppInputs:n,onUpdateGuidebookEntryMidi:Qr,parsedGuidebookBpm:y0(Q.content),parsedGuidebookKey:x0(Q.content),parsedGuidebookChordProg:v0(Q.content)}),!v&&!x&&!M&&!Q&&h.jsxs(lt,{className:"bg-gray-800/80 backdrop-blur-md shadow-xl border border-gray-700/50 flex flex-col items-center justify-center h-96 text-center min-h-[500px]",children:[h.jsx("div",{className:"flex justify-center mb-6",children:h.jsx(jo,{className:"w-20 h-20 opacity-80 text-orange-500"})}),h.jsx("h3",{className:"text-2xl font-semibold text-gray-200 mb-2",children:"Produce Smarter. Create More."}),h.jsx("p",{className:"text-gray-400 max-w-md mx-auto",children:"Tell us what you’re envisioning—TrackGuide AI will generate a custom production guide and MIDI foundation."})]})]})]}),i==="mixFeedback"&&h.jsxs("div",{className:"max-w-7xl mx-auto grid grid-cols-1 md:grid-cols-12 gap-8",children:[h.jsxs("div",{className:"md:col-span-3 space-y-6",children:[h.jsxs("div",{className:"flex bg-gray-800/80 backdrop-blur-md shadow-xl border border-gray-700/50 rounded-lg overflow-hidden",children:[h.jsx("button",{onClick:()=>A("single"),className:`flex-1 px-4 py-3 text-sm font-medium transition-all ${U==="single"?"bg-orange-500 text-white":"bg-gray-700/50 text-gray-300 hover:bg-gray-600/50"}`,children:"🎚️ Mix Analysis"}),h.jsx("button",{onClick:()=>A("compare"),className:`flex-1 px-4 py-3 text-sm font-medium transition-all ${U==="compare"?"bg-orange-500 text-white":"bg-gray-700/50 text-gray-300 hover:bg-gray-600/50"}`,children:"⚖️ Mix Compare"})]}),U==="single"&&h.jsx(lt,{title:"Upload Your Mix",className:"bg-gray-800/80 backdrop-blur-md shadow-xl border border-gray-700/50",children:h.jsxs("form",{onSubmit:Fe,className:"space-y-5",children:[h.jsxs("div",{children:[h.jsx("label",{htmlFor:"mix-audio-file",className:"block text-sm font-medium text-gray-300 mb-1",children:"Audio File (.mp3, .wav, etc.)"}),h.jsx("div",{className:`mt-1 flex justify-center px-6 pt-5 pb-6 border-2 ${T&&re.audioFile===null?"border-red-500":"border-gray-600"} border-dashed rounded-md cursor-pointer hover:border-orange-500 transition-colors`,onClick:()=>{var G;return(G=Ae.current)==null?void 0:G.click()},onDragOver:G=>{G.preventDefault(),G.currentTarget.classList.add("border-orange-500")},onDragLeave:G=>G.currentTarget.classList.remove("border-orange-500"),onDrop:G=>{if(G.preventDefault(),G.currentTarget.classList.remove("border-orange-500"),G.dataTransfer.files&&G.dataTransfer.files[0]){const ue=G.dataTransfer.files[0];if(ue.size>Oo){I(`File is too large. Max ${Mi}MB.`);return}if(!ue.type.startsWith("audio/")){I("Invalid file type. Please upload audio.");return}de(be=>({...be,audioFile:ue})),I(null)}},children:h.jsxs("div",{className:"space-y-1 text-center",children:[h.jsx(Tc,{className:"mx-auto h-12 w-12 text-gray-500"}),h.jsxs("div",{className:"flex text-sm text-gray-400",children:[h.jsx("span",{className:"relative rounded-md font-medium text-orange-400 hover:text-orange-300 focus-within:outline-none focus-within:ring-2 focus-within:ring-offset-2 focus-within:ring-offset-gray-900 focus-within:ring-orange-500",children:h.jsx("span",{children:"Upload a file"})}),h.jsx("input",{id:"mix-audio-file",name:"mix-audio-file",type:"file",className:"sr-only",accept:"audio/*",onChange:Se,ref:Ae}),h.jsx("p",{className:"pl-1",children:"or drag and drop"})]}),h.jsxs("p",{className:"text-xs text-gray-500",children:["Max file size: ",Mi,"MB"]})]})}),re.audioFile&&h.jsxs("p",{className:"text-xs text-green-400 mt-2",children:["Selected: ",re.audioFile.name," (",(re.audioFile.size/1024/1024).toFixed(2)," MB)"]}),T&&re.audioFile===null&&h.jsx("p",{className:"text-xs text-red-400 mt-2",children:T})]}),h.jsx("div",{children:h.jsx(Or,{label:"Notes for AI",name:"mixUserNotes",value:re.userNotes,onChange:Ce,placeholder:"e.g., 'Focus on the low-end clarity', 'Is the vocal too loud?', 'General feedback welcome.'",rows:4})}),h.jsx(Pe,{type:"submit",disabled:N||!re.audioFile,className:"w-full text-base py-2.5 !bg-orange-600 hover:!bg-orange-700 focus:!ring-orange-500",leftIcon:h.jsx(Xc,{className:"w-5 h-5"}),children:N?"Analyzing Mix...":"Get Mix Feedback"}),h.jsx(Pe,{type:"button",onClick:jt,variant:"outline",className:"w-full !border-orange-500 !text-orange-400 hover:!bg-orange-500 hover:!text-white",children:"Clear Mix Form"})]})}),U==="compare"&&h.jsxs("div",{className:"space-y-5",children:[h.jsxs(lt,{title:"Mix A (Original)",className:"bg-gray-800/80 backdrop-blur-md shadow-xl border border-gray-700/50",children:[h.jsx("div",{className:`mt-1 flex justify-center px-6 pt-5 pb-6 border-2 ${ve&&!$.mixA?"border-red-500":"border-gray-600"} border-dashed rounded-md cursor-pointer hover:border-orange-500 transition-colors`,onClick:()=>{var G;return(G=document.getElementById("mixA-upload"))==null?void 0:G.click()},children:h.jsxs("div",{className:"space-y-1 text-center",children:[h.jsx(Tc,{className:"mx-auto h-12 w-12 text-gray-400"}),h.jsxs("div",{className:"flex text-sm text-gray-400",children:[h.jsxs("label",{htmlFor:"mixA-upload",className:"relative cursor-pointer rounded-md font-medium text-orange-400 hover:text-orange-300",children:[h.jsx("span",{children:"Upload Mix A"}),h.jsx("input",{id:"mixA-upload",name:"mixA-upload",type:"file",className:"sr-only",accept:"audio/*",onChange:G=>{var be;const ue=(be=G.target.files)==null?void 0:be[0];if(ue){if(ue.size>Oo){ye(`File is too large. Max ${Mi}MB.`);return}if(!ue.type.startsWith("audio/")){ye("Invalid file type. Please upload audio.");return}se(Oe=>({...Oe,mixA:ue})),ye(null)}}})]}),h.jsx("p",{className:"pl-1",children:"or drag and drop"})]}),h.jsxs("p",{className:"text-xs text-gray-500",children:["MP3, WAV, FLAC up to ",Mi,"MB"]})]})}),$.mixA&&h.jsxs("p",{className:"text-xs text-green-400 mt-2",children:["Selected: ",$.mixA.name," (",($.mixA.size/1024/1024).toFixed(2)," MB)"]})]}),h.jsxs(lt,{title:"Mix B (Revised)",className:"bg-gray-800/80 backdrop-blur-md shadow-xl border border-gray-700/50",children:[h.jsx("div",{className:`mt-1 flex justify-center px-6 pt-5 pb-6 border-2 ${ve&&!$.mixB?"border-red-500":"border-gray-600"} border-dashed rounded-md cursor-pointer hover:border-orange-500 transition-colors`,onClick:()=>{var G;return(G=document.getElementById("mixB-upload"))==null?void 0:G.click()},children:h.jsxs("div",{className:"space-y-1 text-center",children:[h.jsx(Tc,{className:"mx-auto h-12 w-12 text-gray-400"}),h.jsxs("div",{className:"flex text-sm text-gray-400",children:[h.jsxs("label",{htmlFor:"mixB-upload",className:"relative cursor-pointer rounded-md font-medium text-orange-400 hover:text-orange-300",children:[h.jsx("span",{children:"Upload Mix B"}),h.jsx("input",{id:"mixB-upload",name:"mixB-upload",type:"file",className:"sr-only",accept:"audio/*",onChange:G=>{var be;const ue=(be=G.target.files)==null?void 0:be[0];if(ue){if(ue.size>Oo){ye(`File is too large. Max ${Mi}MB.`);return}if(!ue.type.startsWith("audio/")){ye("Invalid file type. Please upload audio.");return}se(Oe=>({...Oe,mixB:ue})),ye(null)}}})]}),h.jsx("p",{className:"pl-1",children:"or drag and drop"})]}),h.jsxs("p",{className:"text-xs text-gray-500",children:["MP3, WAV, FLAC up to ",Mi,"MB"]})]})}),$.mixB&&h.jsxs("p",{className:"text-xs text-green-400 mt-2",children:["Selected: ",$.mixB.name," (",($.mixB.size/1024/1024).toFixed(2)," MB)"]}),h.jsx("div",{className:"mt-4 pt-4 border-t border-gray-600",children:h.jsxs("label",{className:"flex items-center space-x-3 cursor-pointer",children:[h.jsx("input",{type:"checkbox",checked:$.includeMixBFeedback||!1,onChange:G=>se(ue=>({...ue,includeMixBFeedback:G.target.checked})),className:"w-4 h-4 text-orange-600 bg-gray-700 border-gray-600 rounded focus:ring-orange-500 focus:ring-2"}),h.jsx("span",{className:"text-sm text-gray-300",children:"Include Individual Analysis"})]})})]}),h.jsx(lt,{title:"Notes for AI",className:"bg-gray-800/80 backdrop-blur-md shadow-xl border border-gray-700/50",children:h.jsx(Or,{placeholder:"Describe what you want the AI to focus on when comparing these mixes. For example: 'Focus on the vocal clarity and low-end balance' or 'Compare the stereo width and overall loudness'...",value:$.userNotes,onChange:G=>se(ue=>({...ue,userNotes:G.target.value})),rows:3,className:"w-full"})}),h.jsx(Pe,{onClick:Rt,disabled:_e||!$.mixA||!$.mixB,variant:"primary",className:"w-full px-4 py-3 text-base font-semibold",leftIcon:h.jsx("span",{className:"w-5 h-5 text-center",children:"⚖️"}),children:_e?"Comparing Mixes...":"Compare Mixes"}),h.jsx(Pe,{type:"button",onClick:un,variant:"outline",className:"w-full !border-orange-500 !text-orange-400 hover:!bg-orange-500 hover:!text-white",children:"Reset"}),ve&&!_e&&h.jsxs(lt,{className:"border-red-500 bg-red-900/40 shadow-xl",children:[h.jsx("p",{className:"text-red-300 font-semibold text-lg",children:"Mix Comparison Error:"}),h.jsx("p",{className:"text-red-300",children:ve})]})]})]}),h.jsxs("div",{className:"md:col-span-9 space-y-6",children:[(N||_e)&&h.jsx("div",{className:"flex justify-center items-center h-full min-h-[500px]",children:h.jsx(er,{size:"lg",color:"text-orange-500",text:U==="single"?"AI is analyzing your mix... this may take a moment.":"AI is comparing your mixes... this may take a moment."})}),T&&!N&&U==="single"&&h.jsxs(lt,{className:"border-red-500 bg-red-900/40 shadow-xl",children:[h.jsx("p",{className:"text-red-300 font-semibold text-lg",children:"Mix Feedback Error:"}),h.jsx("p",{className:"text-red-300",children:T})]}),ve&&!_e&&U==="compare"&&h.jsxs(lt,{className:"border-red-500 bg-red-900/40 shadow-xl",children:[h.jsx("p",{className:"text-red-300 font-semibold text-lg",children:"Mix Comparison Error:"}),h.jsx("p",{className:"text-red-300",children:ve})]}),H&&!N&&U==="single"&&h.jsx(lt,{title:"AI Mix Feedback Report",className:"bg-gray-800/80 backdrop-blur-md shadow-xl border border-gray-700/50 sticky top-8",titleClassName:"border-b border-gray-700 text-xl !text-orange-300",children:h.jsx("div",{id:"mix-feedback-display",className:"prose prose-sm md:prose-base prose-invert max-w-none max-h-[calc(100vh-6rem)] overflow-y-auto pr-3 text-gray-300 custom-scrollbar guidebook-content",children:h.jsx(Go,{content:H})})}),ae&&!_e&&U==="compare"&&h.jsx(lt,{title:"AI Mix Comparison Report",className:"bg-gray-800/80 backdrop-blur-md shadow-xl border border-gray-700/50 sticky top-8",titleClassName:"border-b border-gray-700 text-xl !text-orange-300",children:h.jsx("div",{id:"mix-comparison-display",className:"prose prose-sm md:prose-base prose-invert max-w-none max-h-[calc(100vh-6rem)] overflow-y-auto pr-3 text-gray-300 custom-scrollbar guidebook-content",children:h.jsx(Go,{content:ae})})}),!N&&!_e&&!H&&!ae&&!T&&!ve&&h.jsxs(lt,{className:"bg-gray-800/80 backdrop-blur-md shadow-xl border border-gray-700/50 flex flex-col items-center justify-center h-96 text-center min-h-[500px]",children:[h.jsx("div",{className:"flex justify-center mb-6",children:h.jsx(jo,{className:"w-20 h-20 opacity-80"})}),h.jsx("h3",{className:"text-2xl font-semibold text-gray-200 mb-2",children:"Refine Your Sound."}),h.jsx("p",{className:"text-gray-400 max-w-md",children:U==="single"?"Upload your mix, add some notes, and get detailed feedback from our AI mixing engineer.":"Upload two mix versions to compare them side-by-side and get detailed analysis of the differences."})]})]})]}),i==="remixGuide"&&h.jsx("div",{className:"max-w-7xl mx-auto",children:h.jsx(r2,{})}),i==="eqGuide"&&h.jsx("div",{className:"max-w-7xl mx-auto",children:h.jsx(o2,{isOpen:!0,onClose:()=>t("trackGuide")})}),K&&h.jsx(IE,{library:Z,onClose:()=>te(!1),onLoadEntry:Zr,onDeleteEntry:X,onCreateNew:_n}),h.jsx(kE,{isOpen:!0,onClose:()=>{},currentGuidebook:Q||void 0,userInputs:n,isCollapsed:ce,onToggle:()=>fe(!ce)}),h.jsx("footer",{className:"text-center mt-16 py-8 border-t border-gray-700/60",children:h.jsxs("p",{className:"text-sm text-gray-500",children:[vp," - AI Production Assistant"]})})]})},wy=document.getElementById("root");if(!wy)throw new Error("Could not find root element to mount to");const d2=Fv.createRoot(wy);d2.render(h.jsx(T0.StrictMode,{children:h.jsx(c2,{})}));
