(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))a(s);new MutationObserver(s=>{for(const l of s)if(l.type==="childList")for(const u of l.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&a(u)}).observe(document,{childList:!0,subtree:!0});function n(s){const l={};return s.integrity&&(l.integrity=s.integrity),s.referrerPolicy&&(l.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?l.credentials="include":s.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function a(s){if(s.ep)return;s.ep=!0;const l=n(s);fetch(s.href,l)}})();function fo(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function JC(t){if(Object.prototype.hasOwnProperty.call(t,"__esModule"))return t;var e=t.default;if(typeof e=="function"){var n=function a(){return this instanceof a?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(a){var s=Object.getOwnPropertyDescriptor(t,a);Object.defineProperty(n,a,s.get?s:{enumerable:!0,get:function(){return t[a]}})}),n}var Pd={exports:{}},Vs={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var By;function QC(){if(By)return Vs;By=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(a,s,l){var u=null;if(l!==void 0&&(u=""+l),s.key!==void 0&&(u=""+s.key),"key"in s){l={};for(var d in s)d!=="key"&&(l[d]=s[d])}else l=s;return s=l.ref,{$$typeof:t,type:a,key:u,ref:s!==void 0?s:null,props:l}}return Vs.Fragment=e,Vs.jsx=n,Vs.jsxs=n,Vs}var jy;function ZC(){return jy||(jy=1,Pd.exports=QC()),Pd.exports}var g=ZC(),Vd={exports:{}},_e={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Oy;function WC(){if(Oy)return _e;Oy=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),u=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),b=Symbol.iterator;function T(C){return C===null||typeof C!="object"?null:(C=b&&C[b]||C["@@iterator"],typeof C=="function"?C:null)}var S={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},M=Object.assign,D={};function k(C,V,U){this.props=C,this.context=V,this.refs=D,this.updater=U||S}k.prototype.isReactComponent={},k.prototype.setState=function(C,V){if(typeof C!="object"&&typeof C!="function"&&C!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,C,V,"setState")},k.prototype.forceUpdate=function(C){this.updater.enqueueForceUpdate(this,C,"forceUpdate")};function _(){}_.prototype=k.prototype;function O(C,V,U){this.props=C,this.context=V,this.refs=D,this.updater=U||S}var P=O.prototype=new _;P.constructor=O,M(P,k.prototype),P.isPureReactComponent=!0;var G=Array.isArray,K={H:null,A:null,T:null,S:null,V:null},z=Object.prototype.hasOwnProperty;function Z(C,V,U,A,Q,ce){return U=ce.ref,{$$typeof:t,type:C,key:V,ref:U!==void 0?U:null,props:ce}}function re(C,V){return Z(C.type,V,void 0,void 0,void 0,C.props)}function pe(C){return typeof C=="object"&&C!==null&&C.$$typeof===t}function ge(C){var V={"=":"=0",":":"=2"};return"$"+C.replace(/[=:]/g,function(U){return V[U]})}var ae=/\/+/g;function ue(C,V){return typeof C=="object"&&C!==null&&C.key!=null?ge(""+C.key):V.toString(36)}function ye(){}function se(C){switch(C.status){case"fulfilled":return C.value;case"rejected":throw C.reason;default:switch(typeof C.status=="string"?C.then(ye,ye):(C.status="pending",C.then(function(V){C.status==="pending"&&(C.status="fulfilled",C.value=V)},function(V){C.status==="pending"&&(C.status="rejected",C.reason=V)})),C.status){case"fulfilled":return C.value;case"rejected":throw C.reason}}throw C}function me(C,V,U,A,Q){var ce=typeof C;(ce==="undefined"||ce==="boolean")&&(C=null);var de=!1;if(C===null)de=!0;else switch(ce){case"bigint":case"string":case"number":de=!0;break;case"object":switch(C.$$typeof){case t:case e:de=!0;break;case p:return de=C._init,me(de(C._payload),V,U,A,Q)}}if(de)return Q=Q(C),de=A===""?"."+ue(C,0):A,G(Q)?(U="",de!=null&&(U=de.replace(ae,"$&/")+"/"),me(Q,V,U,"",function(ve){return ve})):Q!=null&&(pe(Q)&&(Q=re(Q,U+(Q.key==null||C&&C.key===Q.key?"":(""+Q.key).replace(ae,"$&/")+"/")+de)),V.push(Q)),1;de=0;var J=A===""?".":A+":";if(G(C))for(var he=0;he<C.length;he++)A=C[he],ce=J+ue(A,he),de+=me(A,V,U,ce,Q);else if(he=T(C),typeof he=="function")for(C=he.call(C),he=0;!(A=C.next()).done;)A=A.value,ce=J+ue(A,he++),de+=me(A,V,U,ce,Q);else if(ce==="object"){if(typeof C.then=="function")return me(se(C),V,U,A,Q);throw V=String(C),Error("Objects are not valid as a React child (found: "+(V==="[object Object]"?"object with keys {"+Object.keys(C).join(", ")+"}":V)+"). If you meant to render a collection of children, use an array instead.")}return de}function q(C,V,U){if(C==null)return C;var A=[],Q=0;return me(C,A,"","",function(ce){return V.call(U,ce,Q++)}),A}function L(C){if(C._status===-1){var V=C._result;V=V(),V.then(function(U){(C._status===0||C._status===-1)&&(C._status=1,C._result=U)},function(U){(C._status===0||C._status===-1)&&(C._status=2,C._result=U)}),C._status===-1&&(C._status=0,C._result=V)}if(C._status===1)return C._result.default;throw C._result}var N=typeof reportError=="function"?reportError:function(C){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var V=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof C=="object"&&C!==null&&typeof C.message=="string"?String(C.message):String(C),error:C});if(!window.dispatchEvent(V))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",C);return}console.error(C)};function R(){}return _e.Children={map:q,forEach:function(C,V,U){q(C,function(){V.apply(this,arguments)},U)},count:function(C){var V=0;return q(C,function(){V++}),V},toArray:function(C){return q(C,function(V){return V})||[]},only:function(C){if(!pe(C))throw Error("React.Children.only expected to receive a single React element child.");return C}},_e.Component=k,_e.Fragment=n,_e.Profiler=s,_e.PureComponent=O,_e.StrictMode=a,_e.Suspense=h,_e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=K,_e.__COMPILER_RUNTIME={__proto__:null,c:function(C){return K.H.useMemoCache(C)}},_e.cache=function(C){return function(){return C.apply(null,arguments)}},_e.cloneElement=function(C,V,U){if(C==null)throw Error("The argument must be a React element, but you passed "+C+".");var A=M({},C.props),Q=C.key,ce=void 0;if(V!=null)for(de in V.ref!==void 0&&(ce=void 0),V.key!==void 0&&(Q=""+V.key),V)!z.call(V,de)||de==="key"||de==="__self"||de==="__source"||de==="ref"&&V.ref===void 0||(A[de]=V[de]);var de=arguments.length-2;if(de===1)A.children=U;else if(1<de){for(var J=Array(de),he=0;he<de;he++)J[he]=arguments[he+2];A.children=J}return Z(C.type,Q,void 0,void 0,ce,A)},_e.createContext=function(C){return C={$$typeof:u,_currentValue:C,_currentValue2:C,_threadCount:0,Provider:null,Consumer:null},C.Provider=C,C.Consumer={$$typeof:l,_context:C},C},_e.createElement=function(C,V,U){var A,Q={},ce=null;if(V!=null)for(A in V.key!==void 0&&(ce=""+V.key),V)z.call(V,A)&&A!=="key"&&A!=="__self"&&A!=="__source"&&(Q[A]=V[A]);var de=arguments.length-2;if(de===1)Q.children=U;else if(1<de){for(var J=Array(de),he=0;he<de;he++)J[he]=arguments[he+2];Q.children=J}if(C&&C.defaultProps)for(A in de=C.defaultProps,de)Q[A]===void 0&&(Q[A]=de[A]);return Z(C,ce,void 0,void 0,null,Q)},_e.createRef=function(){return{current:null}},_e.forwardRef=function(C){return{$$typeof:d,render:C}},_e.isValidElement=pe,_e.lazy=function(C){return{$$typeof:p,_payload:{_status:-1,_result:C},_init:L}},_e.memo=function(C,V){return{$$typeof:f,type:C,compare:V===void 0?null:V}},_e.startTransition=function(C){var V=K.T,U={};K.T=U;try{var A=C(),Q=K.S;Q!==null&&Q(U,A),typeof A=="object"&&A!==null&&typeof A.then=="function"&&A.then(R,N)}catch(ce){N(ce)}finally{K.T=V}},_e.unstable_useCacheRefresh=function(){return K.H.useCacheRefresh()},_e.use=function(C){return K.H.use(C)},_e.useActionState=function(C,V,U){return K.H.useActionState(C,V,U)},_e.useCallback=function(C,V){return K.H.useCallback(C,V)},_e.useContext=function(C){return K.H.useContext(C)},_e.useDebugValue=function(){},_e.useDeferredValue=function(C,V){return K.H.useDeferredValue(C,V)},_e.useEffect=function(C,V,U){var A=K.H;if(typeof U=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return A.useEffect(C,V)},_e.useId=function(){return K.H.useId()},_e.useImperativeHandle=function(C,V,U){return K.H.useImperativeHandle(C,V,U)},_e.useInsertionEffect=function(C,V){return K.H.useInsertionEffect(C,V)},_e.useLayoutEffect=function(C,V){return K.H.useLayoutEffect(C,V)},_e.useMemo=function(C,V){return K.H.useMemo(C,V)},_e.useOptimistic=function(C,V){return K.H.useOptimistic(C,V)},_e.useReducer=function(C,V,U){return K.H.useReducer(C,V,U)},_e.useRef=function(C){return K.H.useRef(C)},_e.useState=function(C){return K.H.useState(C)},_e.useSyncExternalStore=function(C,V,U){return K.H.useSyncExternalStore(C,V,U)},_e.useTransition=function(){return K.H.useTransition()},_e.version="19.1.0",_e}var Uy;function oh(){return Uy||(Uy=1,Vd.exports=WC()),Vd.exports}var ie=oh();const sb=fo(ie);var Ld={exports:{}},Ls={},Bd={exports:{}},jd={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zy;function ew(){return zy||(zy=1,function(t){function e(q,L){var N=q.length;q.push(L);e:for(;0<N;){var R=N-1>>>1,C=q[R];if(0<s(C,L))q[R]=L,q[N]=C,N=R;else break e}}function n(q){return q.length===0?null:q[0]}function a(q){if(q.length===0)return null;var L=q[0],N=q.pop();if(N!==L){q[0]=N;e:for(var R=0,C=q.length,V=C>>>1;R<V;){var U=2*(R+1)-1,A=q[U],Q=U+1,ce=q[Q];if(0>s(A,N))Q<C&&0>s(ce,A)?(q[R]=ce,q[Q]=N,R=Q):(q[R]=A,q[U]=N,R=U);else if(Q<C&&0>s(ce,N))q[R]=ce,q[Q]=N,R=Q;else break e}}return L}function s(q,L){var N=q.sortIndex-L.sortIndex;return N!==0?N:q.id-L.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;t.unstable_now=function(){return l.now()}}else{var u=Date,d=u.now();t.unstable_now=function(){return u.now()-d}}var h=[],f=[],p=1,b=null,T=3,S=!1,M=!1,D=!1,k=!1,_=typeof setTimeout=="function"?setTimeout:null,O=typeof clearTimeout=="function"?clearTimeout:null,P=typeof setImmediate<"u"?setImmediate:null;function G(q){for(var L=n(f);L!==null;){if(L.callback===null)a(f);else if(L.startTime<=q)a(f),L.sortIndex=L.expirationTime,e(h,L);else break;L=n(f)}}function K(q){if(D=!1,G(q),!M)if(n(h)!==null)M=!0,z||(z=!0,ue());else{var L=n(f);L!==null&&me(K,L.startTime-q)}}var z=!1,Z=-1,re=5,pe=-1;function ge(){return k?!0:!(t.unstable_now()-pe<re)}function ae(){if(k=!1,z){var q=t.unstable_now();pe=q;var L=!0;try{e:{M=!1,D&&(D=!1,O(Z),Z=-1),S=!0;var N=T;try{t:{for(G(q),b=n(h);b!==null&&!(b.expirationTime>q&&ge());){var R=b.callback;if(typeof R=="function"){b.callback=null,T=b.priorityLevel;var C=R(b.expirationTime<=q);if(q=t.unstable_now(),typeof C=="function"){b.callback=C,G(q),L=!0;break t}b===n(h)&&a(h),G(q)}else a(h);b=n(h)}if(b!==null)L=!0;else{var V=n(f);V!==null&&me(K,V.startTime-q),L=!1}}break e}finally{b=null,T=N,S=!1}L=void 0}}finally{L?ue():z=!1}}}var ue;if(typeof P=="function")ue=function(){P(ae)};else if(typeof MessageChannel<"u"){var ye=new MessageChannel,se=ye.port2;ye.port1.onmessage=ae,ue=function(){se.postMessage(null)}}else ue=function(){_(ae,0)};function me(q,L){Z=_(function(){q(t.unstable_now())},L)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(q){q.callback=null},t.unstable_forceFrameRate=function(q){0>q||125<q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):re=0<q?Math.floor(1e3/q):5},t.unstable_getCurrentPriorityLevel=function(){return T},t.unstable_next=function(q){switch(T){case 1:case 2:case 3:var L=3;break;default:L=T}var N=T;T=L;try{return q()}finally{T=N}},t.unstable_requestPaint=function(){k=!0},t.unstable_runWithPriority=function(q,L){switch(q){case 1:case 2:case 3:case 4:case 5:break;default:q=3}var N=T;T=q;try{return L()}finally{T=N}},t.unstable_scheduleCallback=function(q,L,N){var R=t.unstable_now();switch(typeof N=="object"&&N!==null?(N=N.delay,N=typeof N=="number"&&0<N?R+N:R):N=R,q){case 1:var C=-1;break;case 2:C=250;break;case 5:C=1073741823;break;case 4:C=1e4;break;default:C=5e3}return C=N+C,q={id:p++,callback:L,priorityLevel:q,startTime:N,expirationTime:C,sortIndex:-1},N>R?(q.sortIndex=N,e(f,q),n(h)===null&&q===n(f)&&(D?(O(Z),Z=-1):D=!0,me(K,N-R))):(q.sortIndex=C,e(h,q),M||S||(M=!0,z||(z=!0,ue()))),q},t.unstable_shouldYield=ge,t.unstable_wrapCallback=function(q){var L=T;return function(){var N=T;T=L;try{return q.apply(this,arguments)}finally{T=N}}}}(jd)),jd}var Fy;function tw(){return Fy||(Fy=1,Bd.exports=ew()),Bd.exports}var Od={exports:{}},Ft={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Hy;function nw(){if(Hy)return Ft;Hy=1;var t=oh();function e(h){var f="https://react.dev/errors/"+h;if(1<arguments.length){f+="?args[]="+encodeURIComponent(arguments[1]);for(var p=2;p<arguments.length;p++)f+="&args[]="+encodeURIComponent(arguments[p])}return"Minified React error #"+h+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var a={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},s=Symbol.for("react.portal");function l(h,f,p){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:s,key:b==null?null:""+b,children:h,containerInfo:f,implementation:p}}var u=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(h,f){if(h==="font")return"";if(typeof f=="string")return f==="use-credentials"?f:""}return Ft.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,Ft.createPortal=function(h,f){var p=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!f||f.nodeType!==1&&f.nodeType!==9&&f.nodeType!==11)throw Error(e(299));return l(h,f,null,p)},Ft.flushSync=function(h){var f=u.T,p=a.p;try{if(u.T=null,a.p=2,h)return h()}finally{u.T=f,a.p=p,a.d.f()}},Ft.preconnect=function(h,f){typeof h=="string"&&(f?(f=f.crossOrigin,f=typeof f=="string"?f==="use-credentials"?f:"":void 0):f=null,a.d.C(h,f))},Ft.prefetchDNS=function(h){typeof h=="string"&&a.d.D(h)},Ft.preinit=function(h,f){if(typeof h=="string"&&f&&typeof f.as=="string"){var p=f.as,b=d(p,f.crossOrigin),T=typeof f.integrity=="string"?f.integrity:void 0,S=typeof f.fetchPriority=="string"?f.fetchPriority:void 0;p==="style"?a.d.S(h,typeof f.precedence=="string"?f.precedence:void 0,{crossOrigin:b,integrity:T,fetchPriority:S}):p==="script"&&a.d.X(h,{crossOrigin:b,integrity:T,fetchPriority:S,nonce:typeof f.nonce=="string"?f.nonce:void 0})}},Ft.preinitModule=function(h,f){if(typeof h=="string")if(typeof f=="object"&&f!==null){if(f.as==null||f.as==="script"){var p=d(f.as,f.crossOrigin);a.d.M(h,{crossOrigin:p,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0})}}else f==null&&a.d.M(h)},Ft.preload=function(h,f){if(typeof h=="string"&&typeof f=="object"&&f!==null&&typeof f.as=="string"){var p=f.as,b=d(p,f.crossOrigin);a.d.L(h,p,{crossOrigin:b,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0,type:typeof f.type=="string"?f.type:void 0,fetchPriority:typeof f.fetchPriority=="string"?f.fetchPriority:void 0,referrerPolicy:typeof f.referrerPolicy=="string"?f.referrerPolicy:void 0,imageSrcSet:typeof f.imageSrcSet=="string"?f.imageSrcSet:void 0,imageSizes:typeof f.imageSizes=="string"?f.imageSizes:void 0,media:typeof f.media=="string"?f.media:void 0})}},Ft.preloadModule=function(h,f){if(typeof h=="string")if(f){var p=d(f.as,f.crossOrigin);a.d.m(h,{as:typeof f.as=="string"&&f.as!=="script"?f.as:void 0,crossOrigin:p,integrity:typeof f.integrity=="string"?f.integrity:void 0})}else a.d.m(h)},Ft.requestFormReset=function(h){a.d.r(h)},Ft.unstable_batchedUpdates=function(h,f){return h(f)},Ft.useFormState=function(h,f,p){return u.H.useFormState(h,f,p)},Ft.useFormStatus=function(){return u.H.useHostTransitionStatus()},Ft.version="19.1.0",Ft}var Gy;function iw(){if(Gy)return Od.exports;Gy=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Od.exports=nw(),Od.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qy;function rw(){if(qy)return Ls;qy=1;var t=tw(),e=oh(),n=iw();function a(i){var r="https://react.dev/errors/"+i;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)r+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+i+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function l(i){var r=i,o=i;if(i.alternate)for(;r.return;)r=r.return;else{i=r;do r=i,(r.flags&4098)!==0&&(o=r.return),i=r.return;while(i)}return r.tag===3?o:null}function u(i){if(i.tag===13){var r=i.memoizedState;if(r===null&&(i=i.alternate,i!==null&&(r=i.memoizedState)),r!==null)return r.dehydrated}return null}function d(i){if(l(i)!==i)throw Error(a(188))}function h(i){var r=i.alternate;if(!r){if(r=l(i),r===null)throw Error(a(188));return r!==i?null:i}for(var o=i,c=r;;){var m=o.return;if(m===null)break;var v=m.alternate;if(v===null){if(c=m.return,c!==null){o=c;continue}break}if(m.child===v.child){for(v=m.child;v;){if(v===o)return d(m),i;if(v===c)return d(m),r;v=v.sibling}throw Error(a(188))}if(o.return!==c.return)o=m,c=v;else{for(var w=!1,E=m.child;E;){if(E===o){w=!0,o=m,c=v;break}if(E===c){w=!0,c=m,o=v;break}E=E.sibling}if(!w){for(E=v.child;E;){if(E===o){w=!0,o=v,c=m;break}if(E===c){w=!0,c=v,o=m;break}E=E.sibling}if(!w)throw Error(a(189))}}if(o.alternate!==c)throw Error(a(190))}if(o.tag!==3)throw Error(a(188));return o.stateNode.current===o?i:r}function f(i){var r=i.tag;if(r===5||r===26||r===27||r===6)return i;for(i=i.child;i!==null;){if(r=f(i),r!==null)return r;i=i.sibling}return null}var p=Object.assign,b=Symbol.for("react.element"),T=Symbol.for("react.transitional.element"),S=Symbol.for("react.portal"),M=Symbol.for("react.fragment"),D=Symbol.for("react.strict_mode"),k=Symbol.for("react.profiler"),_=Symbol.for("react.provider"),O=Symbol.for("react.consumer"),P=Symbol.for("react.context"),G=Symbol.for("react.forward_ref"),K=Symbol.for("react.suspense"),z=Symbol.for("react.suspense_list"),Z=Symbol.for("react.memo"),re=Symbol.for("react.lazy"),pe=Symbol.for("react.activity"),ge=Symbol.for("react.memo_cache_sentinel"),ae=Symbol.iterator;function ue(i){return i===null||typeof i!="object"?null:(i=ae&&i[ae]||i["@@iterator"],typeof i=="function"?i:null)}var ye=Symbol.for("react.client.reference");function se(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===ye?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case M:return"Fragment";case k:return"Profiler";case D:return"StrictMode";case K:return"Suspense";case z:return"SuspenseList";case pe:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case S:return"Portal";case P:return(i.displayName||"Context")+".Provider";case O:return(i._context.displayName||"Context")+".Consumer";case G:var r=i.render;return i=i.displayName,i||(i=r.displayName||r.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case Z:return r=i.displayName||null,r!==null?r:se(i.type)||"Memo";case re:r=i._payload,i=i._init;try{return se(i(r))}catch{}}return null}var me=Array.isArray,q=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,L=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,N={pending:!1,data:null,method:null,action:null},R=[],C=-1;function V(i){return{current:i}}function U(i){0>C||(i.current=R[C],R[C]=null,C--)}function A(i,r){C++,R[C]=i.current,i.current=r}var Q=V(null),ce=V(null),de=V(null),J=V(null);function he(i,r){switch(A(de,r),A(ce,i),A(Q,null),r.nodeType){case 9:case 11:i=(i=r.documentElement)&&(i=i.namespaceURI)?dy(i):0;break;default:if(i=r.tagName,r=r.namespaceURI)r=dy(r),i=fy(r,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}U(Q),A(Q,i)}function ve(){U(Q),U(ce),U(de)}function Ae(i){i.memoizedState!==null&&A(J,i);var r=Q.current,o=fy(r,i.type);r!==o&&(A(ce,i),A(Q,o))}function Me(i){ce.current===i&&(U(Q),U(ce)),J.current===i&&(U(J),Rs._currentValue=N)}var Pe=Object.prototype.hasOwnProperty,Fe=t.unstable_scheduleCallback,st=t.unstable_cancelCallback,He=t.unstable_shouldYield,Mt=t.unstable_requestPaint,nt=t.unstable_now,on=t.unstable_getCurrentPriorityLevel,yn=t.unstable_ImmediatePriority,Ln=t.unstable_UserBlockingPriority,Hn=t.unstable_NormalPriority,La=t.unstable_LowPriority,Ir=t.unstable_IdlePriority,Ba=t.log,ja=t.unstable_setDisableYieldValue,W=null,oe=null;function Se(i){if(typeof Ba=="function"&&ja(i),oe&&typeof oe.setStrictMode=="function")try{oe.setStrictMode(W,i)}catch{}}var Ce=Math.clz32?Math.clz32:xn,qe=Math.log,Yt=Math.LN2;function xn(i){return i>>>=0,i===0?32:31-(qe(i)/Yt|0)|0}var Ut=256,vn=4194304;function ot(i){var r=i&42;if(r!==0)return r;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function yt(i,r,o){var c=i.pendingLanes;if(c===0)return 0;var m=0,v=i.suspendedLanes,w=i.pingedLanes;i=i.warmLanes;var E=c&134217727;return E!==0?(c=E&~v,c!==0?m=ot(c):(w&=E,w!==0?m=ot(w):o||(o=E&~i,o!==0&&(m=ot(o))))):(E=c&~v,E!==0?m=ot(E):w!==0?m=ot(w):o||(o=c&~i,o!==0&&(m=ot(o)))),m===0?0:r!==0&&r!==m&&(r&v)===0&&(v=m&-m,o=r&-r,v>=o||v===32&&(o&4194048)!==0)?r:m}function Kt(i,r){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&r)===0}function X(i,r){switch(i){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function fe(){var i=Ut;return Ut<<=1,(Ut&4194048)===0&&(Ut=256),i}function be(){var i=vn;return vn<<=1,(vn&62914560)===0&&(vn=4194304),i}function Ue(i){for(var r=[],o=0;31>o;o++)r.push(i);return r}function Rt(i,r){i.pendingLanes|=r,r!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function ft(i,r,o,c,m,v){var w=i.pendingLanes;i.pendingLanes=o,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=o,i.entangledLanes&=o,i.errorRecoveryDisabledLanes&=o,i.shellSuspendCounter=0;var E=i.entanglements,I=i.expirationTimes,H=i.hiddenUpdates;for(o=w&~o;0<o;){var ee=31-Ce(o),ne=1<<ee;E[ee]=0,I[ee]=-1;var Y=H[ee];if(Y!==null)for(H[ee]=null,ee=0;ee<Y.length;ee++){var $=Y[ee];$!==null&&($.lane&=-536870913)}o&=~ne}c!==0&&bo(i,c,0),v!==0&&m===0&&i.tag!==0&&(i.suspendedLanes|=v&~(w&~r))}function bo(i,r,o){i.pendingLanes|=r,i.suspendedLanes&=~r;var c=31-Ce(r);i.entangledLanes|=r,i.entanglements[c]=i.entanglements[c]|1073741824|o&4194090}function To(i,r){var o=i.entangledLanes|=r;for(i=i.entanglements;o;){var c=31-Ce(o),m=1<<c;m&r|i[c]&r&&(i[c]|=r),o&=~m}}function Oa(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function Ua(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function So(){var i=L.p;return i!==0?i:(i=window.event,i===void 0?32:ky(i.type))}function Eu(i,r){var o=L.p;try{return L.p=i,r()}finally{L.p=o}}var Gn=Math.random().toString(36).slice(2),xt="__reactFiber$"+Gn,Vt="__reactProps$"+Gn,Ti="__reactContainer$"+Gn,za="__reactEvents$"+Gn,Au="__reactListeners$"+Gn,Mu="__reactHandles$"+Gn,Fa="__reactResources$"+Gn,rr="__reactMarker$"+Gn;function Co(i){delete i[xt],delete i[Vt],delete i[za],delete i[Au],delete i[Mu]}function Si(i){var r=i[xt];if(r)return r;for(var o=i.parentNode;o;){if(r=o[Ti]||o[xt]){if(o=r.alternate,r.child!==null||o!==null&&o.child!==null)for(i=gy(i);i!==null;){if(o=i[xt])return o;i=gy(i)}return r}i=o,o=i.parentNode}return null}function kt(i){if(i=i[xt]||i[Ti]){var r=i.tag;if(r===5||r===6||r===13||r===26||r===27||r===3)return i}return null}function bn(i){var r=i.tag;if(r===5||r===26||r===27||r===6)return i.stateNode;throw Error(a(33))}function qn(i){var r=i[Fa];return r||(r=i[Fa]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function St(i){i[rr]=!0}var Pr=new Set,ar={};function Yn(i,r){Vr(i,r),Vr(i+"Capture",r)}function Vr(i,r){for(ar[i]=r,i=0;i<r.length;i++)Pr.add(r[i])}var FS=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),nm={},im={};function HS(i){return Pe.call(im,i)?!0:Pe.call(nm,i)?!1:FS.test(i)?im[i]=!0:(nm[i]=!0,!1)}function wo(i,r,o){if(HS(r))if(o===null)i.removeAttribute(r);else{switch(typeof o){case"undefined":case"function":case"symbol":i.removeAttribute(r);return;case"boolean":var c=r.toLowerCase().slice(0,5);if(c!=="data-"&&c!=="aria-"){i.removeAttribute(r);return}}i.setAttribute(r,""+o)}}function Eo(i,r,o){if(o===null)i.removeAttribute(r);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(r);return}i.setAttribute(r,""+o)}}function ri(i,r,o,c){if(c===null)i.removeAttribute(o);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(o);return}i.setAttributeNS(r,o,""+c)}}var Nu,rm;function Lr(i){if(Nu===void 0)try{throw Error()}catch(o){var r=o.stack.trim().match(/\n( *(at )?)/);Nu=r&&r[1]||"",rm=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Nu+i+rm}var Du=!1;function Ru(i,r){if(!i||Du)return"";Du=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var c={DetermineComponentFrameRoot:function(){try{if(r){var ne=function(){throw Error()};if(Object.defineProperty(ne.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ne,[])}catch($){var Y=$}Reflect.construct(i,[],ne)}else{try{ne.call()}catch($){Y=$}i.call(ne.prototype)}}else{try{throw Error()}catch($){Y=$}(ne=i())&&typeof ne.catch=="function"&&ne.catch(function(){})}}catch($){if($&&Y&&typeof $.stack=="string")return[$.stack,Y.stack]}return[null,null]}};c.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var m=Object.getOwnPropertyDescriptor(c.DetermineComponentFrameRoot,"name");m&&m.configurable&&Object.defineProperty(c.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var v=c.DetermineComponentFrameRoot(),w=v[0],E=v[1];if(w&&E){var I=w.split(`
`),H=E.split(`
`);for(m=c=0;c<I.length&&!I[c].includes("DetermineComponentFrameRoot");)c++;for(;m<H.length&&!H[m].includes("DetermineComponentFrameRoot");)m++;if(c===I.length||m===H.length)for(c=I.length-1,m=H.length-1;1<=c&&0<=m&&I[c]!==H[m];)m--;for(;1<=c&&0<=m;c--,m--)if(I[c]!==H[m]){if(c!==1||m!==1)do if(c--,m--,0>m||I[c]!==H[m]){var ee=`
`+I[c].replace(" at new "," at ");return i.displayName&&ee.includes("<anonymous>")&&(ee=ee.replace("<anonymous>",i.displayName)),ee}while(1<=c&&0<=m);break}}}finally{Du=!1,Error.prepareStackTrace=o}return(o=i?i.displayName||i.name:"")?Lr(o):""}function GS(i){switch(i.tag){case 26:case 27:case 5:return Lr(i.type);case 16:return Lr("Lazy");case 13:return Lr("Suspense");case 19:return Lr("SuspenseList");case 0:case 15:return Ru(i.type,!1);case 11:return Ru(i.type.render,!1);case 1:return Ru(i.type,!0);case 31:return Lr("Activity");default:return""}}function am(i){try{var r="";do r+=GS(i),i=i.return;while(i);return r}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}function Tn(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function sm(i){var r=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function qS(i){var r=sm(i)?"checked":"value",o=Object.getOwnPropertyDescriptor(i.constructor.prototype,r),c=""+i[r];if(!i.hasOwnProperty(r)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var m=o.get,v=o.set;return Object.defineProperty(i,r,{configurable:!0,get:function(){return m.call(this)},set:function(w){c=""+w,v.call(this,w)}}),Object.defineProperty(i,r,{enumerable:o.enumerable}),{getValue:function(){return c},setValue:function(w){c=""+w},stopTracking:function(){i._valueTracker=null,delete i[r]}}}}function Ao(i){i._valueTracker||(i._valueTracker=qS(i))}function om(i){if(!i)return!1;var r=i._valueTracker;if(!r)return!0;var o=r.getValue(),c="";return i&&(c=sm(i)?i.checked?"true":"false":i.value),i=c,i!==o?(r.setValue(i),!0):!1}function Mo(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var YS=/[\n"\\]/g;function Sn(i){return i.replace(YS,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function ku(i,r,o,c,m,v,w,E){i.name="",w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"?i.type=w:i.removeAttribute("type"),r!=null?w==="number"?(r===0&&i.value===""||i.value!=r)&&(i.value=""+Tn(r)):i.value!==""+Tn(r)&&(i.value=""+Tn(r)):w!=="submit"&&w!=="reset"||i.removeAttribute("value"),r!=null?_u(i,w,Tn(r)):o!=null?_u(i,w,Tn(o)):c!=null&&i.removeAttribute("value"),m==null&&v!=null&&(i.defaultChecked=!!v),m!=null&&(i.checked=m&&typeof m!="function"&&typeof m!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?i.name=""+Tn(E):i.removeAttribute("name")}function lm(i,r,o,c,m,v,w,E){if(v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(i.type=v),r!=null||o!=null){if(!(v!=="submit"&&v!=="reset"||r!=null))return;o=o!=null?""+Tn(o):"",r=r!=null?""+Tn(r):o,E||r===i.value||(i.value=r),i.defaultValue=r}c=c??m,c=typeof c!="function"&&typeof c!="symbol"&&!!c,i.checked=E?i.checked:!!c,i.defaultChecked=!!c,w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"&&(i.name=w)}function _u(i,r,o){r==="number"&&Mo(i.ownerDocument)===i||i.defaultValue===""+o||(i.defaultValue=""+o)}function Br(i,r,o,c){if(i=i.options,r){r={};for(var m=0;m<o.length;m++)r["$"+o[m]]=!0;for(o=0;o<i.length;o++)m=r.hasOwnProperty("$"+i[o].value),i[o].selected!==m&&(i[o].selected=m),m&&c&&(i[o].defaultSelected=!0)}else{for(o=""+Tn(o),r=null,m=0;m<i.length;m++){if(i[m].value===o){i[m].selected=!0,c&&(i[m].defaultSelected=!0);return}r!==null||i[m].disabled||(r=i[m])}r!==null&&(r.selected=!0)}}function um(i,r,o){if(r!=null&&(r=""+Tn(r),r!==i.value&&(i.value=r),o==null)){i.defaultValue!==r&&(i.defaultValue=r);return}i.defaultValue=o!=null?""+Tn(o):""}function cm(i,r,o,c){if(r==null){if(c!=null){if(o!=null)throw Error(a(92));if(me(c)){if(1<c.length)throw Error(a(93));c=c[0]}o=c}o==null&&(o=""),r=o}o=Tn(r),i.defaultValue=o,c=i.textContent,c===o&&c!==""&&c!==null&&(i.value=c)}function jr(i,r){if(r){var o=i.firstChild;if(o&&o===i.lastChild&&o.nodeType===3){o.nodeValue=r;return}}i.textContent=r}var KS=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function dm(i,r,o){var c=r.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?c?i.setProperty(r,""):r==="float"?i.cssFloat="":i[r]="":c?i.setProperty(r,o):typeof o!="number"||o===0||KS.has(r)?r==="float"?i.cssFloat=o:i[r]=(""+o).trim():i[r]=o+"px"}function fm(i,r,o){if(r!=null&&typeof r!="object")throw Error(a(62));if(i=i.style,o!=null){for(var c in o)!o.hasOwnProperty(c)||r!=null&&r.hasOwnProperty(c)||(c.indexOf("--")===0?i.setProperty(c,""):c==="float"?i.cssFloat="":i[c]="");for(var m in r)c=r[m],r.hasOwnProperty(m)&&o[m]!==c&&dm(i,m,c)}else for(var v in r)r.hasOwnProperty(v)&&dm(i,v,r[v])}function Iu(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var $S=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),XS=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function No(i){return XS.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}var Pu=null;function Vu(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var Or=null,Ur=null;function hm(i){var r=kt(i);if(r&&(i=r.stateNode)){var o=i[Vt]||null;e:switch(i=r.stateNode,r.type){case"input":if(ku(i,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),r=o.name,o.type==="radio"&&r!=null){for(o=i;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+Sn(""+r)+'"][type="radio"]'),r=0;r<o.length;r++){var c=o[r];if(c!==i&&c.form===i.form){var m=c[Vt]||null;if(!m)throw Error(a(90));ku(c,m.value,m.defaultValue,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name)}}for(r=0;r<o.length;r++)c=o[r],c.form===i.form&&om(c)}break e;case"textarea":um(i,o.value,o.defaultValue);break e;case"select":r=o.value,r!=null&&Br(i,!!o.multiple,r,!1)}}}var Lu=!1;function mm(i,r,o){if(Lu)return i(r,o);Lu=!0;try{var c=i(r);return c}finally{if(Lu=!1,(Or!==null||Ur!==null)&&(hl(),Or&&(r=Or,i=Ur,Ur=Or=null,hm(r),i)))for(r=0;r<i.length;r++)hm(i[r])}}function Ha(i,r){var o=i.stateNode;if(o===null)return null;var c=o[Vt]||null;if(c===null)return null;o=c[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(i=i.type,c=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!c;break e;default:i=!1}if(i)return null;if(o&&typeof o!="function")throw Error(a(231,r,typeof o));return o}var ai=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Bu=!1;if(ai)try{var Ga={};Object.defineProperty(Ga,"passive",{get:function(){Bu=!0}}),window.addEventListener("test",Ga,Ga),window.removeEventListener("test",Ga,Ga)}catch{Bu=!1}var Ci=null,ju=null,Do=null;function pm(){if(Do)return Do;var i,r=ju,o=r.length,c,m="value"in Ci?Ci.value:Ci.textContent,v=m.length;for(i=0;i<o&&r[i]===m[i];i++);var w=o-i;for(c=1;c<=w&&r[o-c]===m[v-c];c++);return Do=m.slice(i,1<c?1-c:void 0)}function Ro(i){var r=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&r===13&&(i=13)):i=r,i===10&&(i=13),32<=i||i===13?i:0}function ko(){return!0}function gm(){return!1}function Qt(i){function r(o,c,m,v,w){this._reactName=o,this._targetInst=m,this.type=c,this.nativeEvent=v,this.target=w,this.currentTarget=null;for(var E in i)i.hasOwnProperty(E)&&(o=i[E],this[E]=o?o(v):v[E]);return this.isDefaultPrevented=(v.defaultPrevented!=null?v.defaultPrevented:v.returnValue===!1)?ko:gm,this.isPropagationStopped=gm,this}return p(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=ko)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=ko)},persist:function(){},isPersistent:ko}),r}var sr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},_o=Qt(sr),qa=p({},sr,{view:0,detail:0}),JS=Qt(qa),Ou,Uu,Ya,Io=p({},qa,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Fu,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==Ya&&(Ya&&i.type==="mousemove"?(Ou=i.screenX-Ya.screenX,Uu=i.screenY-Ya.screenY):Uu=Ou=0,Ya=i),Ou)},movementY:function(i){return"movementY"in i?i.movementY:Uu}}),ym=Qt(Io),QS=p({},Io,{dataTransfer:0}),ZS=Qt(QS),WS=p({},qa,{relatedTarget:0}),zu=Qt(WS),e1=p({},sr,{animationName:0,elapsedTime:0,pseudoElement:0}),t1=Qt(e1),n1=p({},sr,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),i1=Qt(n1),r1=p({},sr,{data:0}),xm=Qt(r1),a1={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},s1={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},o1={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function l1(i){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(i):(i=o1[i])?!!r[i]:!1}function Fu(){return l1}var u1=p({},qa,{key:function(i){if(i.key){var r=a1[i.key]||i.key;if(r!=="Unidentified")return r}return i.type==="keypress"?(i=Ro(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?s1[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Fu,charCode:function(i){return i.type==="keypress"?Ro(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?Ro(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),c1=Qt(u1),d1=p({},Io,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),vm=Qt(d1),f1=p({},qa,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Fu}),h1=Qt(f1),m1=p({},sr,{propertyName:0,elapsedTime:0,pseudoElement:0}),p1=Qt(m1),g1=p({},Io,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),y1=Qt(g1),x1=p({},sr,{newState:0,oldState:0}),v1=Qt(x1),b1=[9,13,27,32],Hu=ai&&"CompositionEvent"in window,Ka=null;ai&&"documentMode"in document&&(Ka=document.documentMode);var T1=ai&&"TextEvent"in window&&!Ka,bm=ai&&(!Hu||Ka&&8<Ka&&11>=Ka),Tm=" ",Sm=!1;function Cm(i,r){switch(i){case"keyup":return b1.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function wm(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var zr=!1;function S1(i,r){switch(i){case"compositionend":return wm(r);case"keypress":return r.which!==32?null:(Sm=!0,Tm);case"textInput":return i=r.data,i===Tm&&Sm?null:i;default:return null}}function C1(i,r){if(zr)return i==="compositionend"||!Hu&&Cm(i,r)?(i=pm(),Do=ju=Ci=null,zr=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return bm&&r.locale!=="ko"?null:r.data;default:return null}}var w1={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Em(i){var r=i&&i.nodeName&&i.nodeName.toLowerCase();return r==="input"?!!w1[i.type]:r==="textarea"}function Am(i,r,o,c){Or?Ur?Ur.push(c):Ur=[c]:Or=c,r=vl(r,"onChange"),0<r.length&&(o=new _o("onChange","change",null,o,c),i.push({event:o,listeners:r}))}var $a=null,Xa=null;function E1(i){sy(i,0)}function Po(i){var r=bn(i);if(om(r))return i}function Mm(i,r){if(i==="change")return r}var Nm=!1;if(ai){var Gu;if(ai){var qu="oninput"in document;if(!qu){var Dm=document.createElement("div");Dm.setAttribute("oninput","return;"),qu=typeof Dm.oninput=="function"}Gu=qu}else Gu=!1;Nm=Gu&&(!document.documentMode||9<document.documentMode)}function Rm(){$a&&($a.detachEvent("onpropertychange",km),Xa=$a=null)}function km(i){if(i.propertyName==="value"&&Po(Xa)){var r=[];Am(r,Xa,i,Vu(i)),mm(E1,r)}}function A1(i,r,o){i==="focusin"?(Rm(),$a=r,Xa=o,$a.attachEvent("onpropertychange",km)):i==="focusout"&&Rm()}function M1(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return Po(Xa)}function N1(i,r){if(i==="click")return Po(r)}function D1(i,r){if(i==="input"||i==="change")return Po(r)}function R1(i,r){return i===r&&(i!==0||1/i===1/r)||i!==i&&r!==r}var ln=typeof Object.is=="function"?Object.is:R1;function Ja(i,r){if(ln(i,r))return!0;if(typeof i!="object"||i===null||typeof r!="object"||r===null)return!1;var o=Object.keys(i),c=Object.keys(r);if(o.length!==c.length)return!1;for(c=0;c<o.length;c++){var m=o[c];if(!Pe.call(r,m)||!ln(i[m],r[m]))return!1}return!0}function _m(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function Im(i,r){var o=_m(i);i=0;for(var c;o;){if(o.nodeType===3){if(c=i+o.textContent.length,i<=r&&c>=r)return{node:o,offset:r-i};i=c}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=_m(o)}}function Pm(i,r){return i&&r?i===r?!0:i&&i.nodeType===3?!1:r&&r.nodeType===3?Pm(i,r.parentNode):"contains"in i?i.contains(r):i.compareDocumentPosition?!!(i.compareDocumentPosition(r)&16):!1:!1}function Vm(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var r=Mo(i.document);r instanceof i.HTMLIFrameElement;){try{var o=typeof r.contentWindow.location.href=="string"}catch{o=!1}if(o)i=r.contentWindow;else break;r=Mo(i.document)}return r}function Yu(i){var r=i&&i.nodeName&&i.nodeName.toLowerCase();return r&&(r==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||r==="textarea"||i.contentEditable==="true")}var k1=ai&&"documentMode"in document&&11>=document.documentMode,Fr=null,Ku=null,Qa=null,$u=!1;function Lm(i,r,o){var c=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;$u||Fr==null||Fr!==Mo(c)||(c=Fr,"selectionStart"in c&&Yu(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),Qa&&Ja(Qa,c)||(Qa=c,c=vl(Ku,"onSelect"),0<c.length&&(r=new _o("onSelect","select",null,r,o),i.push({event:r,listeners:c}),r.target=Fr)))}function or(i,r){var o={};return o[i.toLowerCase()]=r.toLowerCase(),o["Webkit"+i]="webkit"+r,o["Moz"+i]="moz"+r,o}var Hr={animationend:or("Animation","AnimationEnd"),animationiteration:or("Animation","AnimationIteration"),animationstart:or("Animation","AnimationStart"),transitionrun:or("Transition","TransitionRun"),transitionstart:or("Transition","TransitionStart"),transitioncancel:or("Transition","TransitionCancel"),transitionend:or("Transition","TransitionEnd")},Xu={},Bm={};ai&&(Bm=document.createElement("div").style,"AnimationEvent"in window||(delete Hr.animationend.animation,delete Hr.animationiteration.animation,delete Hr.animationstart.animation),"TransitionEvent"in window||delete Hr.transitionend.transition);function lr(i){if(Xu[i])return Xu[i];if(!Hr[i])return i;var r=Hr[i],o;for(o in r)if(r.hasOwnProperty(o)&&o in Bm)return Xu[i]=r[o];return i}var jm=lr("animationend"),Om=lr("animationiteration"),Um=lr("animationstart"),_1=lr("transitionrun"),I1=lr("transitionstart"),P1=lr("transitioncancel"),zm=lr("transitionend"),Fm=new Map,Ju="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Ju.push("scrollEnd");function Bn(i,r){Fm.set(i,r),Yn(r,[i])}var Hm=new WeakMap;function Cn(i,r){if(typeof i=="object"&&i!==null){var o=Hm.get(i);return o!==void 0?o:(r={value:i,source:r,stack:am(r)},Hm.set(i,r),r)}return{value:i,source:r,stack:am(r)}}var wn=[],Gr=0,Qu=0;function Vo(){for(var i=Gr,r=Qu=Gr=0;r<i;){var o=wn[r];wn[r++]=null;var c=wn[r];wn[r++]=null;var m=wn[r];wn[r++]=null;var v=wn[r];if(wn[r++]=null,c!==null&&m!==null){var w=c.pending;w===null?m.next=m:(m.next=w.next,w.next=m),c.pending=m}v!==0&&Gm(o,m,v)}}function Lo(i,r,o,c){wn[Gr++]=i,wn[Gr++]=r,wn[Gr++]=o,wn[Gr++]=c,Qu|=c,i.lanes|=c,i=i.alternate,i!==null&&(i.lanes|=c)}function Zu(i,r,o,c){return Lo(i,r,o,c),Bo(i)}function qr(i,r){return Lo(i,null,null,r),Bo(i)}function Gm(i,r,o){i.lanes|=o;var c=i.alternate;c!==null&&(c.lanes|=o);for(var m=!1,v=i.return;v!==null;)v.childLanes|=o,c=v.alternate,c!==null&&(c.childLanes|=o),v.tag===22&&(i=v.stateNode,i===null||i._visibility&1||(m=!0)),i=v,v=v.return;return i.tag===3?(v=i.stateNode,m&&r!==null&&(m=31-Ce(o),i=v.hiddenUpdates,c=i[m],c===null?i[m]=[r]:c.push(r),r.lane=o|536870912),v):null}function Bo(i){if(50<Ss)throw Ss=0,rd=null,Error(a(185));for(var r=i.return;r!==null;)i=r,r=i.return;return i.tag===3?i.stateNode:null}var Yr={};function V1(i,r,o,c){this.tag=i,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function un(i,r,o,c){return new V1(i,r,o,c)}function Wu(i){return i=i.prototype,!(!i||!i.isReactComponent)}function si(i,r){var o=i.alternate;return o===null?(o=un(i.tag,r,i.key,i.mode),o.elementType=i.elementType,o.type=i.type,o.stateNode=i.stateNode,o.alternate=i,i.alternate=o):(o.pendingProps=r,o.type=i.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=i.flags&65011712,o.childLanes=i.childLanes,o.lanes=i.lanes,o.child=i.child,o.memoizedProps=i.memoizedProps,o.memoizedState=i.memoizedState,o.updateQueue=i.updateQueue,r=i.dependencies,o.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},o.sibling=i.sibling,o.index=i.index,o.ref=i.ref,o.refCleanup=i.refCleanup,o}function qm(i,r){i.flags&=65011714;var o=i.alternate;return o===null?(i.childLanes=0,i.lanes=r,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,r=o.dependencies,i.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),i}function jo(i,r,o,c,m,v){var w=0;if(c=i,typeof i=="function")Wu(i)&&(w=1);else if(typeof i=="string")w=BC(i,o,Q.current)?26:i==="html"||i==="head"||i==="body"?27:5;else e:switch(i){case pe:return i=un(31,o,r,m),i.elementType=pe,i.lanes=v,i;case M:return ur(o.children,m,v,r);case D:w=8,m|=24;break;case k:return i=un(12,o,r,m|2),i.elementType=k,i.lanes=v,i;case K:return i=un(13,o,r,m),i.elementType=K,i.lanes=v,i;case z:return i=un(19,o,r,m),i.elementType=z,i.lanes=v,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case _:case P:w=10;break e;case O:w=9;break e;case G:w=11;break e;case Z:w=14;break e;case re:w=16,c=null;break e}w=29,o=Error(a(130,i===null?"null":typeof i,"")),c=null}return r=un(w,o,r,m),r.elementType=i,r.type=c,r.lanes=v,r}function ur(i,r,o,c){return i=un(7,i,c,r),i.lanes=o,i}function ec(i,r,o){return i=un(6,i,null,r),i.lanes=o,i}function tc(i,r,o){return r=un(4,i.children!==null?i.children:[],i.key,r),r.lanes=o,r.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},r}var Kr=[],$r=0,Oo=null,Uo=0,En=[],An=0,cr=null,oi=1,li="";function dr(i,r){Kr[$r++]=Uo,Kr[$r++]=Oo,Oo=i,Uo=r}function Ym(i,r,o){En[An++]=oi,En[An++]=li,En[An++]=cr,cr=i;var c=oi;i=li;var m=32-Ce(c)-1;c&=~(1<<m),o+=1;var v=32-Ce(r)+m;if(30<v){var w=m-m%5;v=(c&(1<<w)-1).toString(32),c>>=w,m-=w,oi=1<<32-Ce(r)+m|o<<m|c,li=v+i}else oi=1<<v|o<<m|c,li=i}function nc(i){i.return!==null&&(dr(i,1),Ym(i,1,0))}function ic(i){for(;i===Oo;)Oo=Kr[--$r],Kr[$r]=null,Uo=Kr[--$r],Kr[$r]=null;for(;i===cr;)cr=En[--An],En[An]=null,li=En[--An],En[An]=null,oi=En[--An],En[An]=null}var $t=null,ht=null,Ye=!1,fr=null,Kn=!1,rc=Error(a(519));function hr(i){var r=Error(a(418,""));throw es(Cn(r,i)),rc}function Km(i){var r=i.stateNode,o=i.type,c=i.memoizedProps;switch(r[xt]=i,r[Vt]=c,o){case"dialog":Oe("cancel",r),Oe("close",r);break;case"iframe":case"object":case"embed":Oe("load",r);break;case"video":case"audio":for(o=0;o<ws.length;o++)Oe(ws[o],r);break;case"source":Oe("error",r);break;case"img":case"image":case"link":Oe("error",r),Oe("load",r);break;case"details":Oe("toggle",r);break;case"input":Oe("invalid",r),lm(r,c.value,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name,!0),Ao(r);break;case"select":Oe("invalid",r);break;case"textarea":Oe("invalid",r),cm(r,c.value,c.defaultValue,c.children),Ao(r)}o=c.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||r.textContent===""+o||c.suppressHydrationWarning===!0||cy(r.textContent,o)?(c.popover!=null&&(Oe("beforetoggle",r),Oe("toggle",r)),c.onScroll!=null&&Oe("scroll",r),c.onScrollEnd!=null&&Oe("scrollend",r),c.onClick!=null&&(r.onclick=bl),r=!0):r=!1,r||hr(i)}function $m(i){for($t=i.return;$t;)switch($t.tag){case 5:case 13:Kn=!1;return;case 27:case 3:Kn=!0;return;default:$t=$t.return}}function Za(i){if(i!==$t)return!1;if(!Ye)return $m(i),Ye=!0,!1;var r=i.tag,o;if((o=r!==3&&r!==27)&&((o=r===5)&&(o=i.type,o=!(o!=="form"&&o!=="button")||bd(i.type,i.memoizedProps)),o=!o),o&&ht&&hr(i),$m(i),r===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(a(317));e:{for(i=i.nextSibling,r=0;i;){if(i.nodeType===8)if(o=i.data,o==="/$"){if(r===0){ht=On(i.nextSibling);break e}r--}else o!=="$"&&o!=="$!"&&o!=="$?"||r++;i=i.nextSibling}ht=null}}else r===27?(r=ht,Oi(i.type)?(i=wd,wd=null,ht=i):ht=r):ht=$t?On(i.stateNode.nextSibling):null;return!0}function Wa(){ht=$t=null,Ye=!1}function Xm(){var i=fr;return i!==null&&(en===null?en=i:en.push.apply(en,i),fr=null),i}function es(i){fr===null?fr=[i]:fr.push(i)}var ac=V(null),mr=null,ui=null;function wi(i,r,o){A(ac,r._currentValue),r._currentValue=o}function ci(i){i._currentValue=ac.current,U(ac)}function sc(i,r,o){for(;i!==null;){var c=i.alternate;if((i.childLanes&r)!==r?(i.childLanes|=r,c!==null&&(c.childLanes|=r)):c!==null&&(c.childLanes&r)!==r&&(c.childLanes|=r),i===o)break;i=i.return}}function oc(i,r,o,c){var m=i.child;for(m!==null&&(m.return=i);m!==null;){var v=m.dependencies;if(v!==null){var w=m.child;v=v.firstContext;e:for(;v!==null;){var E=v;v=m;for(var I=0;I<r.length;I++)if(E.context===r[I]){v.lanes|=o,E=v.alternate,E!==null&&(E.lanes|=o),sc(v.return,o,i),c||(w=null);break e}v=E.next}}else if(m.tag===18){if(w=m.return,w===null)throw Error(a(341));w.lanes|=o,v=w.alternate,v!==null&&(v.lanes|=o),sc(w,o,i),w=null}else w=m.child;if(w!==null)w.return=m;else for(w=m;w!==null;){if(w===i){w=null;break}if(m=w.sibling,m!==null){m.return=w.return,w=m;break}w=w.return}m=w}}function ts(i,r,o,c){i=null;for(var m=r,v=!1;m!==null;){if(!v){if((m.flags&524288)!==0)v=!0;else if((m.flags&262144)!==0)break}if(m.tag===10){var w=m.alternate;if(w===null)throw Error(a(387));if(w=w.memoizedProps,w!==null){var E=m.type;ln(m.pendingProps.value,w.value)||(i!==null?i.push(E):i=[E])}}else if(m===J.current){if(w=m.alternate,w===null)throw Error(a(387));w.memoizedState.memoizedState!==m.memoizedState.memoizedState&&(i!==null?i.push(Rs):i=[Rs])}m=m.return}i!==null&&oc(r,i,o,c),r.flags|=262144}function zo(i){for(i=i.firstContext;i!==null;){if(!ln(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function pr(i){mr=i,ui=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function zt(i){return Jm(mr,i)}function Fo(i,r){return mr===null&&pr(i),Jm(i,r)}function Jm(i,r){var o=r._currentValue;if(r={context:r,memoizedValue:o,next:null},ui===null){if(i===null)throw Error(a(308));ui=r,i.dependencies={lanes:0,firstContext:r},i.flags|=524288}else ui=ui.next=r;return o}var L1=typeof AbortController<"u"?AbortController:function(){var i=[],r=this.signal={aborted:!1,addEventListener:function(o,c){i.push(c)}};this.abort=function(){r.aborted=!0,i.forEach(function(o){return o()})}},B1=t.unstable_scheduleCallback,j1=t.unstable_NormalPriority,Nt={$$typeof:P,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function lc(){return{controller:new L1,data:new Map,refCount:0}}function ns(i){i.refCount--,i.refCount===0&&B1(j1,function(){i.controller.abort()})}var is=null,uc=0,Xr=0,Jr=null;function O1(i,r){if(is===null){var o=is=[];uc=0,Xr=dd(),Jr={status:"pending",value:void 0,then:function(c){o.push(c)}}}return uc++,r.then(Qm,Qm),r}function Qm(){if(--uc===0&&is!==null){Jr!==null&&(Jr.status="fulfilled");var i=is;is=null,Xr=0,Jr=null;for(var r=0;r<i.length;r++)(0,i[r])()}}function U1(i,r){var o=[],c={status:"pending",value:null,reason:null,then:function(m){o.push(m)}};return i.then(function(){c.status="fulfilled",c.value=r;for(var m=0;m<o.length;m++)(0,o[m])(r)},function(m){for(c.status="rejected",c.reason=m,m=0;m<o.length;m++)(0,o[m])(void 0)}),c}var Zm=q.S;q.S=function(i,r){typeof r=="object"&&r!==null&&typeof r.then=="function"&&O1(i,r),Zm!==null&&Zm(i,r)};var gr=V(null);function cc(){var i=gr.current;return i!==null?i:it.pooledCache}function Ho(i,r){r===null?A(gr,gr.current):A(gr,r.pool)}function Wm(){var i=cc();return i===null?null:{parent:Nt._currentValue,pool:i}}var rs=Error(a(460)),ep=Error(a(474)),Go=Error(a(542)),dc={then:function(){}};function tp(i){return i=i.status,i==="fulfilled"||i==="rejected"}function qo(){}function np(i,r,o){switch(o=i[o],o===void 0?i.push(r):o!==r&&(r.then(qo,qo),r=o),r.status){case"fulfilled":return r.value;case"rejected":throw i=r.reason,rp(i),i;default:if(typeof r.status=="string")r.then(qo,qo);else{if(i=it,i!==null&&100<i.shellSuspendCounter)throw Error(a(482));i=r,i.status="pending",i.then(function(c){if(r.status==="pending"){var m=r;m.status="fulfilled",m.value=c}},function(c){if(r.status==="pending"){var m=r;m.status="rejected",m.reason=c}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw i=r.reason,rp(i),i}throw as=r,rs}}var as=null;function ip(){if(as===null)throw Error(a(459));var i=as;return as=null,i}function rp(i){if(i===rs||i===Go)throw Error(a(483))}var Ei=!1;function fc(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function hc(i,r){i=i.updateQueue,r.updateQueue===i&&(r.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function Ai(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function Mi(i,r,o){var c=i.updateQueue;if(c===null)return null;if(c=c.shared,(Xe&2)!==0){var m=c.pending;return m===null?r.next=r:(r.next=m.next,m.next=r),c.pending=r,r=Bo(i),Gm(i,null,o),r}return Lo(i,c,r,o),Bo(i)}function ss(i,r,o){if(r=r.updateQueue,r!==null&&(r=r.shared,(o&4194048)!==0)){var c=r.lanes;c&=i.pendingLanes,o|=c,r.lanes=o,To(i,o)}}function mc(i,r){var o=i.updateQueue,c=i.alternate;if(c!==null&&(c=c.updateQueue,o===c)){var m=null,v=null;if(o=o.firstBaseUpdate,o!==null){do{var w={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};v===null?m=v=w:v=v.next=w,o=o.next}while(o!==null);v===null?m=v=r:v=v.next=r}else m=v=r;o={baseState:c.baseState,firstBaseUpdate:m,lastBaseUpdate:v,shared:c.shared,callbacks:c.callbacks},i.updateQueue=o;return}i=o.lastBaseUpdate,i===null?o.firstBaseUpdate=r:i.next=r,o.lastBaseUpdate=r}var pc=!1;function os(){if(pc){var i=Jr;if(i!==null)throw i}}function ls(i,r,o,c){pc=!1;var m=i.updateQueue;Ei=!1;var v=m.firstBaseUpdate,w=m.lastBaseUpdate,E=m.shared.pending;if(E!==null){m.shared.pending=null;var I=E,H=I.next;I.next=null,w===null?v=H:w.next=H,w=I;var ee=i.alternate;ee!==null&&(ee=ee.updateQueue,E=ee.lastBaseUpdate,E!==w&&(E===null?ee.firstBaseUpdate=H:E.next=H,ee.lastBaseUpdate=I))}if(v!==null){var ne=m.baseState;w=0,ee=H=I=null,E=v;do{var Y=E.lane&-536870913,$=Y!==E.lane;if($?(ze&Y)===Y:(c&Y)===Y){Y!==0&&Y===Xr&&(pc=!0),ee!==null&&(ee=ee.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});e:{var Ne=i,we=E;Y=r;var We=o;switch(we.tag){case 1:if(Ne=we.payload,typeof Ne=="function"){ne=Ne.call(We,ne,Y);break e}ne=Ne;break e;case 3:Ne.flags=Ne.flags&-65537|128;case 0:if(Ne=we.payload,Y=typeof Ne=="function"?Ne.call(We,ne,Y):Ne,Y==null)break e;ne=p({},ne,Y);break e;case 2:Ei=!0}}Y=E.callback,Y!==null&&(i.flags|=64,$&&(i.flags|=8192),$=m.callbacks,$===null?m.callbacks=[Y]:$.push(Y))}else $={lane:Y,tag:E.tag,payload:E.payload,callback:E.callback,next:null},ee===null?(H=ee=$,I=ne):ee=ee.next=$,w|=Y;if(E=E.next,E===null){if(E=m.shared.pending,E===null)break;$=E,E=$.next,$.next=null,m.lastBaseUpdate=$,m.shared.pending=null}}while(!0);ee===null&&(I=ne),m.baseState=I,m.firstBaseUpdate=H,m.lastBaseUpdate=ee,v===null&&(m.shared.lanes=0),Vi|=w,i.lanes=w,i.memoizedState=ne}}function ap(i,r){if(typeof i!="function")throw Error(a(191,i));i.call(r)}function sp(i,r){var o=i.callbacks;if(o!==null)for(i.callbacks=null,i=0;i<o.length;i++)ap(o[i],r)}var Qr=V(null),Yo=V(0);function op(i,r){i=yi,A(Yo,i),A(Qr,r),yi=i|r.baseLanes}function gc(){A(Yo,yi),A(Qr,Qr.current)}function yc(){yi=Yo.current,U(Qr),U(Yo)}var Ni=0,Ve=null,Qe=null,Ct=null,Ko=!1,Zr=!1,yr=!1,$o=0,us=0,Wr=null,z1=0;function vt(){throw Error(a(321))}function xc(i,r){if(r===null)return!1;for(var o=0;o<r.length&&o<i.length;o++)if(!ln(i[o],r[o]))return!1;return!0}function vc(i,r,o,c,m,v){return Ni=v,Ve=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,q.H=i===null||i.memoizedState===null?Gp:qp,yr=!1,v=o(c,m),yr=!1,Zr&&(v=up(r,o,c,m)),lp(i),v}function lp(i){q.H=el;var r=Qe!==null&&Qe.next!==null;if(Ni=0,Ct=Qe=Ve=null,Ko=!1,us=0,Wr=null,r)throw Error(a(300));i===null||_t||(i=i.dependencies,i!==null&&zo(i)&&(_t=!0))}function up(i,r,o,c){Ve=i;var m=0;do{if(Zr&&(Wr=null),us=0,Zr=!1,25<=m)throw Error(a(301));if(m+=1,Ct=Qe=null,i.updateQueue!=null){var v=i.updateQueue;v.lastEffect=null,v.events=null,v.stores=null,v.memoCache!=null&&(v.memoCache.index=0)}q.H=$1,v=r(o,c)}while(Zr);return v}function F1(){var i=q.H,r=i.useState()[0];return r=typeof r.then=="function"?cs(r):r,i=i.useState()[0],(Qe!==null?Qe.memoizedState:null)!==i&&(Ve.flags|=1024),r}function bc(){var i=$o!==0;return $o=0,i}function Tc(i,r,o){r.updateQueue=i.updateQueue,r.flags&=-2053,i.lanes&=~o}function Sc(i){if(Ko){for(i=i.memoizedState;i!==null;){var r=i.queue;r!==null&&(r.pending=null),i=i.next}Ko=!1}Ni=0,Ct=Qe=Ve=null,Zr=!1,us=$o=0,Wr=null}function Zt(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ct===null?Ve.memoizedState=Ct=i:Ct=Ct.next=i,Ct}function wt(){if(Qe===null){var i=Ve.alternate;i=i!==null?i.memoizedState:null}else i=Qe.next;var r=Ct===null?Ve.memoizedState:Ct.next;if(r!==null)Ct=r,Qe=i;else{if(i===null)throw Ve.alternate===null?Error(a(467)):Error(a(310));Qe=i,i={memoizedState:Qe.memoizedState,baseState:Qe.baseState,baseQueue:Qe.baseQueue,queue:Qe.queue,next:null},Ct===null?Ve.memoizedState=Ct=i:Ct=Ct.next=i}return Ct}function Cc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function cs(i){var r=us;return us+=1,Wr===null&&(Wr=[]),i=np(Wr,i,r),r=Ve,(Ct===null?r.memoizedState:Ct.next)===null&&(r=r.alternate,q.H=r===null||r.memoizedState===null?Gp:qp),i}function Xo(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return cs(i);if(i.$$typeof===P)return zt(i)}throw Error(a(438,String(i)))}function wc(i){var r=null,o=Ve.updateQueue;if(o!==null&&(r=o.memoCache),r==null){var c=Ve.alternate;c!==null&&(c=c.updateQueue,c!==null&&(c=c.memoCache,c!=null&&(r={data:c.data.map(function(m){return m.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),o===null&&(o=Cc(),Ve.updateQueue=o),o.memoCache=r,o=r.data[r.index],o===void 0)for(o=r.data[r.index]=Array(i),c=0;c<i;c++)o[c]=ge;return r.index++,o}function di(i,r){return typeof r=="function"?r(i):r}function Jo(i){var r=wt();return Ec(r,Qe,i)}function Ec(i,r,o){var c=i.queue;if(c===null)throw Error(a(311));c.lastRenderedReducer=o;var m=i.baseQueue,v=c.pending;if(v!==null){if(m!==null){var w=m.next;m.next=v.next,v.next=w}r.baseQueue=m=v,c.pending=null}if(v=i.baseState,m===null)i.memoizedState=v;else{r=m.next;var E=w=null,I=null,H=r,ee=!1;do{var ne=H.lane&-536870913;if(ne!==H.lane?(ze&ne)===ne:(Ni&ne)===ne){var Y=H.revertLane;if(Y===0)I!==null&&(I=I.next={lane:0,revertLane:0,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null}),ne===Xr&&(ee=!0);else if((Ni&Y)===Y){H=H.next,Y===Xr&&(ee=!0);continue}else ne={lane:0,revertLane:H.revertLane,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null},I===null?(E=I=ne,w=v):I=I.next=ne,Ve.lanes|=Y,Vi|=Y;ne=H.action,yr&&o(v,ne),v=H.hasEagerState?H.eagerState:o(v,ne)}else Y={lane:ne,revertLane:H.revertLane,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null},I===null?(E=I=Y,w=v):I=I.next=Y,Ve.lanes|=ne,Vi|=ne;H=H.next}while(H!==null&&H!==r);if(I===null?w=v:I.next=E,!ln(v,i.memoizedState)&&(_t=!0,ee&&(o=Jr,o!==null)))throw o;i.memoizedState=v,i.baseState=w,i.baseQueue=I,c.lastRenderedState=v}return m===null&&(c.lanes=0),[i.memoizedState,c.dispatch]}function Ac(i){var r=wt(),o=r.queue;if(o===null)throw Error(a(311));o.lastRenderedReducer=i;var c=o.dispatch,m=o.pending,v=r.memoizedState;if(m!==null){o.pending=null;var w=m=m.next;do v=i(v,w.action),w=w.next;while(w!==m);ln(v,r.memoizedState)||(_t=!0),r.memoizedState=v,r.baseQueue===null&&(r.baseState=v),o.lastRenderedState=v}return[v,c]}function cp(i,r,o){var c=Ve,m=wt(),v=Ye;if(v){if(o===void 0)throw Error(a(407));o=o()}else o=r();var w=!ln((Qe||m).memoizedState,o);w&&(m.memoizedState=o,_t=!0),m=m.queue;var E=hp.bind(null,c,m,i);if(ds(2048,8,E,[i]),m.getSnapshot!==r||w||Ct!==null&&Ct.memoizedState.tag&1){if(c.flags|=2048,ea(9,Qo(),fp.bind(null,c,m,o,r),null),it===null)throw Error(a(349));v||(Ni&124)!==0||dp(c,r,o)}return o}function dp(i,r,o){i.flags|=16384,i={getSnapshot:r,value:o},r=Ve.updateQueue,r===null?(r=Cc(),Ve.updateQueue=r,r.stores=[i]):(o=r.stores,o===null?r.stores=[i]:o.push(i))}function fp(i,r,o,c){r.value=o,r.getSnapshot=c,mp(r)&&pp(i)}function hp(i,r,o){return o(function(){mp(r)&&pp(i)})}function mp(i){var r=i.getSnapshot;i=i.value;try{var o=r();return!ln(i,o)}catch{return!0}}function pp(i){var r=qr(i,2);r!==null&&mn(r,i,2)}function Mc(i){var r=Zt();if(typeof i=="function"){var o=i;if(i=o(),yr){Se(!0);try{o()}finally{Se(!1)}}}return r.memoizedState=r.baseState=i,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:di,lastRenderedState:i},r}function gp(i,r,o,c){return i.baseState=o,Ec(i,Qe,typeof c=="function"?c:di)}function H1(i,r,o,c,m){if(Wo(i))throw Error(a(485));if(i=r.action,i!==null){var v={payload:m,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(w){v.listeners.push(w)}};q.T!==null?o(!0):v.isTransition=!1,c(v),o=r.pending,o===null?(v.next=r.pending=v,yp(r,v)):(v.next=o.next,r.pending=o.next=v)}}function yp(i,r){var o=r.action,c=r.payload,m=i.state;if(r.isTransition){var v=q.T,w={};q.T=w;try{var E=o(m,c),I=q.S;I!==null&&I(w,E),xp(i,r,E)}catch(H){Nc(i,r,H)}finally{q.T=v}}else try{v=o(m,c),xp(i,r,v)}catch(H){Nc(i,r,H)}}function xp(i,r,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(c){vp(i,r,c)},function(c){return Nc(i,r,c)}):vp(i,r,o)}function vp(i,r,o){r.status="fulfilled",r.value=o,bp(r),i.state=o,r=i.pending,r!==null&&(o=r.next,o===r?i.pending=null:(o=o.next,r.next=o,yp(i,o)))}function Nc(i,r,o){var c=i.pending;if(i.pending=null,c!==null){c=c.next;do r.status="rejected",r.reason=o,bp(r),r=r.next;while(r!==c)}i.action=null}function bp(i){i=i.listeners;for(var r=0;r<i.length;r++)(0,i[r])()}function Tp(i,r){return r}function Sp(i,r){if(Ye){var o=it.formState;if(o!==null){e:{var c=Ve;if(Ye){if(ht){t:{for(var m=ht,v=Kn;m.nodeType!==8;){if(!v){m=null;break t}if(m=On(m.nextSibling),m===null){m=null;break t}}v=m.data,m=v==="F!"||v==="F"?m:null}if(m){ht=On(m.nextSibling),c=m.data==="F!";break e}}hr(c)}c=!1}c&&(r=o[0])}}return o=Zt(),o.memoizedState=o.baseState=r,c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Tp,lastRenderedState:r},o.queue=c,o=zp.bind(null,Ve,c),c.dispatch=o,c=Mc(!1),v=Ic.bind(null,Ve,!1,c.queue),c=Zt(),m={state:r,dispatch:null,action:i,pending:null},c.queue=m,o=H1.bind(null,Ve,m,v,o),m.dispatch=o,c.memoizedState=i,[r,o,!1]}function Cp(i){var r=wt();return wp(r,Qe,i)}function wp(i,r,o){if(r=Ec(i,r,Tp)[0],i=Jo(di)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var c=cs(r)}catch(w){throw w===rs?Go:w}else c=r;r=wt();var m=r.queue,v=m.dispatch;return o!==r.memoizedState&&(Ve.flags|=2048,ea(9,Qo(),G1.bind(null,m,o),null)),[c,v,i]}function G1(i,r){i.action=r}function Ep(i){var r=wt(),o=Qe;if(o!==null)return wp(r,o,i);wt(),r=r.memoizedState,o=wt();var c=o.queue.dispatch;return o.memoizedState=i,[r,c,!1]}function ea(i,r,o,c){return i={tag:i,create:o,deps:c,inst:r,next:null},r=Ve.updateQueue,r===null&&(r=Cc(),Ve.updateQueue=r),o=r.lastEffect,o===null?r.lastEffect=i.next=i:(c=o.next,o.next=i,i.next=c,r.lastEffect=i),i}function Qo(){return{destroy:void 0,resource:void 0}}function Ap(){return wt().memoizedState}function Zo(i,r,o,c){var m=Zt();c=c===void 0?null:c,Ve.flags|=i,m.memoizedState=ea(1|r,Qo(),o,c)}function ds(i,r,o,c){var m=wt();c=c===void 0?null:c;var v=m.memoizedState.inst;Qe!==null&&c!==null&&xc(c,Qe.memoizedState.deps)?m.memoizedState=ea(r,v,o,c):(Ve.flags|=i,m.memoizedState=ea(1|r,v,o,c))}function Mp(i,r){Zo(8390656,8,i,r)}function Np(i,r){ds(2048,8,i,r)}function Dp(i,r){return ds(4,2,i,r)}function Rp(i,r){return ds(4,4,i,r)}function kp(i,r){if(typeof r=="function"){i=i();var o=r(i);return function(){typeof o=="function"?o():r(null)}}if(r!=null)return i=i(),r.current=i,function(){r.current=null}}function _p(i,r,o){o=o!=null?o.concat([i]):null,ds(4,4,kp.bind(null,r,i),o)}function Dc(){}function Ip(i,r){var o=wt();r=r===void 0?null:r;var c=o.memoizedState;return r!==null&&xc(r,c[1])?c[0]:(o.memoizedState=[i,r],i)}function Pp(i,r){var o=wt();r=r===void 0?null:r;var c=o.memoizedState;if(r!==null&&xc(r,c[1]))return c[0];if(c=i(),yr){Se(!0);try{i()}finally{Se(!1)}}return o.memoizedState=[c,r],c}function Rc(i,r,o){return o===void 0||(Ni&1073741824)!==0?i.memoizedState=r:(i.memoizedState=o,i=Bg(),Ve.lanes|=i,Vi|=i,o)}function Vp(i,r,o,c){return ln(o,r)?o:Qr.current!==null?(i=Rc(i,o,c),ln(i,r)||(_t=!0),i):(Ni&42)===0?(_t=!0,i.memoizedState=o):(i=Bg(),Ve.lanes|=i,Vi|=i,r)}function Lp(i,r,o,c,m){var v=L.p;L.p=v!==0&&8>v?v:8;var w=q.T,E={};q.T=E,Ic(i,!1,r,o);try{var I=m(),H=q.S;if(H!==null&&H(E,I),I!==null&&typeof I=="object"&&typeof I.then=="function"){var ee=U1(I,c);fs(i,r,ee,hn(i))}else fs(i,r,c,hn(i))}catch(ne){fs(i,r,{then:function(){},status:"rejected",reason:ne},hn())}finally{L.p=v,q.T=w}}function q1(){}function kc(i,r,o,c){if(i.tag!==5)throw Error(a(476));var m=Bp(i).queue;Lp(i,m,r,N,o===null?q1:function(){return jp(i),o(c)})}function Bp(i){var r=i.memoizedState;if(r!==null)return r;r={memoizedState:N,baseState:N,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:di,lastRenderedState:N},next:null};var o={};return r.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:di,lastRenderedState:o},next:null},i.memoizedState=r,i=i.alternate,i!==null&&(i.memoizedState=r),r}function jp(i){var r=Bp(i).next.queue;fs(i,r,{},hn())}function _c(){return zt(Rs)}function Op(){return wt().memoizedState}function Up(){return wt().memoizedState}function Y1(i){for(var r=i.return;r!==null;){switch(r.tag){case 24:case 3:var o=hn();i=Ai(o);var c=Mi(r,i,o);c!==null&&(mn(c,r,o),ss(c,r,o)),r={cache:lc()},i.payload=r;return}r=r.return}}function K1(i,r,o){var c=hn();o={lane:c,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null},Wo(i)?Fp(r,o):(o=Zu(i,r,o,c),o!==null&&(mn(o,i,c),Hp(o,r,c)))}function zp(i,r,o){var c=hn();fs(i,r,o,c)}function fs(i,r,o,c){var m={lane:c,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null};if(Wo(i))Fp(r,m);else{var v=i.alternate;if(i.lanes===0&&(v===null||v.lanes===0)&&(v=r.lastRenderedReducer,v!==null))try{var w=r.lastRenderedState,E=v(w,o);if(m.hasEagerState=!0,m.eagerState=E,ln(E,w))return Lo(i,r,m,0),it===null&&Vo(),!1}catch{}finally{}if(o=Zu(i,r,m,c),o!==null)return mn(o,i,c),Hp(o,r,c),!0}return!1}function Ic(i,r,o,c){if(c={lane:2,revertLane:dd(),action:c,hasEagerState:!1,eagerState:null,next:null},Wo(i)){if(r)throw Error(a(479))}else r=Zu(i,o,c,2),r!==null&&mn(r,i,2)}function Wo(i){var r=i.alternate;return i===Ve||r!==null&&r===Ve}function Fp(i,r){Zr=Ko=!0;var o=i.pending;o===null?r.next=r:(r.next=o.next,o.next=r),i.pending=r}function Hp(i,r,o){if((o&4194048)!==0){var c=r.lanes;c&=i.pendingLanes,o|=c,r.lanes=o,To(i,o)}}var el={readContext:zt,use:Xo,useCallback:vt,useContext:vt,useEffect:vt,useImperativeHandle:vt,useLayoutEffect:vt,useInsertionEffect:vt,useMemo:vt,useReducer:vt,useRef:vt,useState:vt,useDebugValue:vt,useDeferredValue:vt,useTransition:vt,useSyncExternalStore:vt,useId:vt,useHostTransitionStatus:vt,useFormState:vt,useActionState:vt,useOptimistic:vt,useMemoCache:vt,useCacheRefresh:vt},Gp={readContext:zt,use:Xo,useCallback:function(i,r){return Zt().memoizedState=[i,r===void 0?null:r],i},useContext:zt,useEffect:Mp,useImperativeHandle:function(i,r,o){o=o!=null?o.concat([i]):null,Zo(4194308,4,kp.bind(null,r,i),o)},useLayoutEffect:function(i,r){return Zo(4194308,4,i,r)},useInsertionEffect:function(i,r){Zo(4,2,i,r)},useMemo:function(i,r){var o=Zt();r=r===void 0?null:r;var c=i();if(yr){Se(!0);try{i()}finally{Se(!1)}}return o.memoizedState=[c,r],c},useReducer:function(i,r,o){var c=Zt();if(o!==void 0){var m=o(r);if(yr){Se(!0);try{o(r)}finally{Se(!1)}}}else m=r;return c.memoizedState=c.baseState=m,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:m},c.queue=i,i=i.dispatch=K1.bind(null,Ve,i),[c.memoizedState,i]},useRef:function(i){var r=Zt();return i={current:i},r.memoizedState=i},useState:function(i){i=Mc(i);var r=i.queue,o=zp.bind(null,Ve,r);return r.dispatch=o,[i.memoizedState,o]},useDebugValue:Dc,useDeferredValue:function(i,r){var o=Zt();return Rc(o,i,r)},useTransition:function(){var i=Mc(!1);return i=Lp.bind(null,Ve,i.queue,!0,!1),Zt().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,r,o){var c=Ve,m=Zt();if(Ye){if(o===void 0)throw Error(a(407));o=o()}else{if(o=r(),it===null)throw Error(a(349));(ze&124)!==0||dp(c,r,o)}m.memoizedState=o;var v={value:o,getSnapshot:r};return m.queue=v,Mp(hp.bind(null,c,v,i),[i]),c.flags|=2048,ea(9,Qo(),fp.bind(null,c,v,o,r),null),o},useId:function(){var i=Zt(),r=it.identifierPrefix;if(Ye){var o=li,c=oi;o=(c&~(1<<32-Ce(c)-1)).toString(32)+o,r="«"+r+"R"+o,o=$o++,0<o&&(r+="H"+o.toString(32)),r+="»"}else o=z1++,r="«"+r+"r"+o.toString(32)+"»";return i.memoizedState=r},useHostTransitionStatus:_c,useFormState:Sp,useActionState:Sp,useOptimistic:function(i){var r=Zt();r.memoizedState=r.baseState=i;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=o,r=Ic.bind(null,Ve,!0,o),o.dispatch=r,[i,r]},useMemoCache:wc,useCacheRefresh:function(){return Zt().memoizedState=Y1.bind(null,Ve)}},qp={readContext:zt,use:Xo,useCallback:Ip,useContext:zt,useEffect:Np,useImperativeHandle:_p,useInsertionEffect:Dp,useLayoutEffect:Rp,useMemo:Pp,useReducer:Jo,useRef:Ap,useState:function(){return Jo(di)},useDebugValue:Dc,useDeferredValue:function(i,r){var o=wt();return Vp(o,Qe.memoizedState,i,r)},useTransition:function(){var i=Jo(di)[0],r=wt().memoizedState;return[typeof i=="boolean"?i:cs(i),r]},useSyncExternalStore:cp,useId:Op,useHostTransitionStatus:_c,useFormState:Cp,useActionState:Cp,useOptimistic:function(i,r){var o=wt();return gp(o,Qe,i,r)},useMemoCache:wc,useCacheRefresh:Up},$1={readContext:zt,use:Xo,useCallback:Ip,useContext:zt,useEffect:Np,useImperativeHandle:_p,useInsertionEffect:Dp,useLayoutEffect:Rp,useMemo:Pp,useReducer:Ac,useRef:Ap,useState:function(){return Ac(di)},useDebugValue:Dc,useDeferredValue:function(i,r){var o=wt();return Qe===null?Rc(o,i,r):Vp(o,Qe.memoizedState,i,r)},useTransition:function(){var i=Ac(di)[0],r=wt().memoizedState;return[typeof i=="boolean"?i:cs(i),r]},useSyncExternalStore:cp,useId:Op,useHostTransitionStatus:_c,useFormState:Ep,useActionState:Ep,useOptimistic:function(i,r){var o=wt();return Qe!==null?gp(o,Qe,i,r):(o.baseState=i,[i,o.queue.dispatch])},useMemoCache:wc,useCacheRefresh:Up},ta=null,hs=0;function tl(i){var r=hs;return hs+=1,ta===null&&(ta=[]),np(ta,i,r)}function ms(i,r){r=r.props.ref,i.ref=r!==void 0?r:null}function nl(i,r){throw r.$$typeof===b?Error(a(525)):(i=Object.prototype.toString.call(r),Error(a(31,i==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":i)))}function Yp(i){var r=i._init;return r(i._payload)}function Kp(i){function r(j,B){if(i){var F=j.deletions;F===null?(j.deletions=[B],j.flags|=16):F.push(B)}}function o(j,B){if(!i)return null;for(;B!==null;)r(j,B),B=B.sibling;return null}function c(j){for(var B=new Map;j!==null;)j.key!==null?B.set(j.key,j):B.set(j.index,j),j=j.sibling;return B}function m(j,B){return j=si(j,B),j.index=0,j.sibling=null,j}function v(j,B,F){return j.index=F,i?(F=j.alternate,F!==null?(F=F.index,F<B?(j.flags|=67108866,B):F):(j.flags|=67108866,B)):(j.flags|=1048576,B)}function w(j){return i&&j.alternate===null&&(j.flags|=67108866),j}function E(j,B,F,te){return B===null||B.tag!==6?(B=ec(F,j.mode,te),B.return=j,B):(B=m(B,F),B.return=j,B)}function I(j,B,F,te){var xe=F.type;return xe===M?ee(j,B,F.props.children,te,F.key):B!==null&&(B.elementType===xe||typeof xe=="object"&&xe!==null&&xe.$$typeof===re&&Yp(xe)===B.type)?(B=m(B,F.props),ms(B,F),B.return=j,B):(B=jo(F.type,F.key,F.props,null,j.mode,te),ms(B,F),B.return=j,B)}function H(j,B,F,te){return B===null||B.tag!==4||B.stateNode.containerInfo!==F.containerInfo||B.stateNode.implementation!==F.implementation?(B=tc(F,j.mode,te),B.return=j,B):(B=m(B,F.children||[]),B.return=j,B)}function ee(j,B,F,te,xe){return B===null||B.tag!==7?(B=ur(F,j.mode,te,xe),B.return=j,B):(B=m(B,F),B.return=j,B)}function ne(j,B,F){if(typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint")return B=ec(""+B,j.mode,F),B.return=j,B;if(typeof B=="object"&&B!==null){switch(B.$$typeof){case T:return F=jo(B.type,B.key,B.props,null,j.mode,F),ms(F,B),F.return=j,F;case S:return B=tc(B,j.mode,F),B.return=j,B;case re:var te=B._init;return B=te(B._payload),ne(j,B,F)}if(me(B)||ue(B))return B=ur(B,j.mode,F,null),B.return=j,B;if(typeof B.then=="function")return ne(j,tl(B),F);if(B.$$typeof===P)return ne(j,Fo(j,B),F);nl(j,B)}return null}function Y(j,B,F,te){var xe=B!==null?B.key:null;if(typeof F=="string"&&F!==""||typeof F=="number"||typeof F=="bigint")return xe!==null?null:E(j,B,""+F,te);if(typeof F=="object"&&F!==null){switch(F.$$typeof){case T:return F.key===xe?I(j,B,F,te):null;case S:return F.key===xe?H(j,B,F,te):null;case re:return xe=F._init,F=xe(F._payload),Y(j,B,F,te)}if(me(F)||ue(F))return xe!==null?null:ee(j,B,F,te,null);if(typeof F.then=="function")return Y(j,B,tl(F),te);if(F.$$typeof===P)return Y(j,B,Fo(j,F),te);nl(j,F)}return null}function $(j,B,F,te,xe){if(typeof te=="string"&&te!==""||typeof te=="number"||typeof te=="bigint")return j=j.get(F)||null,E(B,j,""+te,xe);if(typeof te=="object"&&te!==null){switch(te.$$typeof){case T:return j=j.get(te.key===null?F:te.key)||null,I(B,j,te,xe);case S:return j=j.get(te.key===null?F:te.key)||null,H(B,j,te,xe);case re:var Le=te._init;return te=Le(te._payload),$(j,B,F,te,xe)}if(me(te)||ue(te))return j=j.get(F)||null,ee(B,j,te,xe,null);if(typeof te.then=="function")return $(j,B,F,tl(te),xe);if(te.$$typeof===P)return $(j,B,F,Fo(B,te),xe);nl(B,te)}return null}function Ne(j,B,F,te){for(var xe=null,Le=null,Te=B,Ee=B=0,Pt=null;Te!==null&&Ee<F.length;Ee++){Te.index>Ee?(Pt=Te,Te=null):Pt=Te.sibling;var Ge=Y(j,Te,F[Ee],te);if(Ge===null){Te===null&&(Te=Pt);break}i&&Te&&Ge.alternate===null&&r(j,Te),B=v(Ge,B,Ee),Le===null?xe=Ge:Le.sibling=Ge,Le=Ge,Te=Pt}if(Ee===F.length)return o(j,Te),Ye&&dr(j,Ee),xe;if(Te===null){for(;Ee<F.length;Ee++)Te=ne(j,F[Ee],te),Te!==null&&(B=v(Te,B,Ee),Le===null?xe=Te:Le.sibling=Te,Le=Te);return Ye&&dr(j,Ee),xe}for(Te=c(Te);Ee<F.length;Ee++)Pt=$(Te,j,Ee,F[Ee],te),Pt!==null&&(i&&Pt.alternate!==null&&Te.delete(Pt.key===null?Ee:Pt.key),B=v(Pt,B,Ee),Le===null?xe=Pt:Le.sibling=Pt,Le=Pt);return i&&Te.forEach(function(Gi){return r(j,Gi)}),Ye&&dr(j,Ee),xe}function we(j,B,F,te){if(F==null)throw Error(a(151));for(var xe=null,Le=null,Te=B,Ee=B=0,Pt=null,Ge=F.next();Te!==null&&!Ge.done;Ee++,Ge=F.next()){Te.index>Ee?(Pt=Te,Te=null):Pt=Te.sibling;var Gi=Y(j,Te,Ge.value,te);if(Gi===null){Te===null&&(Te=Pt);break}i&&Te&&Gi.alternate===null&&r(j,Te),B=v(Gi,B,Ee),Le===null?xe=Gi:Le.sibling=Gi,Le=Gi,Te=Pt}if(Ge.done)return o(j,Te),Ye&&dr(j,Ee),xe;if(Te===null){for(;!Ge.done;Ee++,Ge=F.next())Ge=ne(j,Ge.value,te),Ge!==null&&(B=v(Ge,B,Ee),Le===null?xe=Ge:Le.sibling=Ge,Le=Ge);return Ye&&dr(j,Ee),xe}for(Te=c(Te);!Ge.done;Ee++,Ge=F.next())Ge=$(Te,j,Ee,Ge.value,te),Ge!==null&&(i&&Ge.alternate!==null&&Te.delete(Ge.key===null?Ee:Ge.key),B=v(Ge,B,Ee),Le===null?xe=Ge:Le.sibling=Ge,Le=Ge);return i&&Te.forEach(function(XC){return r(j,XC)}),Ye&&dr(j,Ee),xe}function We(j,B,F,te){if(typeof F=="object"&&F!==null&&F.type===M&&F.key===null&&(F=F.props.children),typeof F=="object"&&F!==null){switch(F.$$typeof){case T:e:{for(var xe=F.key;B!==null;){if(B.key===xe){if(xe=F.type,xe===M){if(B.tag===7){o(j,B.sibling),te=m(B,F.props.children),te.return=j,j=te;break e}}else if(B.elementType===xe||typeof xe=="object"&&xe!==null&&xe.$$typeof===re&&Yp(xe)===B.type){o(j,B.sibling),te=m(B,F.props),ms(te,F),te.return=j,j=te;break e}o(j,B);break}else r(j,B);B=B.sibling}F.type===M?(te=ur(F.props.children,j.mode,te,F.key),te.return=j,j=te):(te=jo(F.type,F.key,F.props,null,j.mode,te),ms(te,F),te.return=j,j=te)}return w(j);case S:e:{for(xe=F.key;B!==null;){if(B.key===xe)if(B.tag===4&&B.stateNode.containerInfo===F.containerInfo&&B.stateNode.implementation===F.implementation){o(j,B.sibling),te=m(B,F.children||[]),te.return=j,j=te;break e}else{o(j,B);break}else r(j,B);B=B.sibling}te=tc(F,j.mode,te),te.return=j,j=te}return w(j);case re:return xe=F._init,F=xe(F._payload),We(j,B,F,te)}if(me(F))return Ne(j,B,F,te);if(ue(F)){if(xe=ue(F),typeof xe!="function")throw Error(a(150));return F=xe.call(F),we(j,B,F,te)}if(typeof F.then=="function")return We(j,B,tl(F),te);if(F.$$typeof===P)return We(j,B,Fo(j,F),te);nl(j,F)}return typeof F=="string"&&F!==""||typeof F=="number"||typeof F=="bigint"?(F=""+F,B!==null&&B.tag===6?(o(j,B.sibling),te=m(B,F),te.return=j,j=te):(o(j,B),te=ec(F,j.mode,te),te.return=j,j=te),w(j)):o(j,B)}return function(j,B,F,te){try{hs=0;var xe=We(j,B,F,te);return ta=null,xe}catch(Te){if(Te===rs||Te===Go)throw Te;var Le=un(29,Te,null,j.mode);return Le.lanes=te,Le.return=j,Le}finally{}}}var na=Kp(!0),$p=Kp(!1),Mn=V(null),$n=null;function Di(i){var r=i.alternate;A(Dt,Dt.current&1),A(Mn,i),$n===null&&(r===null||Qr.current!==null||r.memoizedState!==null)&&($n=i)}function Xp(i){if(i.tag===22){if(A(Dt,Dt.current),A(Mn,i),$n===null){var r=i.alternate;r!==null&&r.memoizedState!==null&&($n=i)}}else Ri()}function Ri(){A(Dt,Dt.current),A(Mn,Mn.current)}function fi(i){U(Mn),$n===i&&($n=null),U(Dt)}var Dt=V(0);function il(i){for(var r=i;r!==null;){if(r.tag===13){var o=r.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||o.data==="$?"||Cd(o)))return r}else if(r.tag===19&&r.memoizedProps.revealOrder!==void 0){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===i)break;for(;r.sibling===null;){if(r.return===null||r.return===i)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}function Pc(i,r,o,c){r=i.memoizedState,o=o(c,r),o=o==null?r:p({},r,o),i.memoizedState=o,i.lanes===0&&(i.updateQueue.baseState=o)}var Vc={enqueueSetState:function(i,r,o){i=i._reactInternals;var c=hn(),m=Ai(c);m.payload=r,o!=null&&(m.callback=o),r=Mi(i,m,c),r!==null&&(mn(r,i,c),ss(r,i,c))},enqueueReplaceState:function(i,r,o){i=i._reactInternals;var c=hn(),m=Ai(c);m.tag=1,m.payload=r,o!=null&&(m.callback=o),r=Mi(i,m,c),r!==null&&(mn(r,i,c),ss(r,i,c))},enqueueForceUpdate:function(i,r){i=i._reactInternals;var o=hn(),c=Ai(o);c.tag=2,r!=null&&(c.callback=r),r=Mi(i,c,o),r!==null&&(mn(r,i,o),ss(r,i,o))}};function Jp(i,r,o,c,m,v,w){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(c,v,w):r.prototype&&r.prototype.isPureReactComponent?!Ja(o,c)||!Ja(m,v):!0}function Qp(i,r,o,c){i=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(o,c),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(o,c),r.state!==i&&Vc.enqueueReplaceState(r,r.state,null)}function xr(i,r){var o=r;if("ref"in r){o={};for(var c in r)c!=="ref"&&(o[c]=r[c])}if(i=i.defaultProps){o===r&&(o=p({},o));for(var m in i)o[m]===void 0&&(o[m]=i[m])}return o}var rl=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)};function Zp(i){rl(i)}function Wp(i){console.error(i)}function eg(i){rl(i)}function al(i,r){try{var o=i.onUncaughtError;o(r.value,{componentStack:r.stack})}catch(c){setTimeout(function(){throw c})}}function tg(i,r,o){try{var c=i.onCaughtError;c(o.value,{componentStack:o.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(m){setTimeout(function(){throw m})}}function Lc(i,r,o){return o=Ai(o),o.tag=3,o.payload={element:null},o.callback=function(){al(i,r)},o}function ng(i){return i=Ai(i),i.tag=3,i}function ig(i,r,o,c){var m=o.type.getDerivedStateFromError;if(typeof m=="function"){var v=c.value;i.payload=function(){return m(v)},i.callback=function(){tg(r,o,c)}}var w=o.stateNode;w!==null&&typeof w.componentDidCatch=="function"&&(i.callback=function(){tg(r,o,c),typeof m!="function"&&(Li===null?Li=new Set([this]):Li.add(this));var E=c.stack;this.componentDidCatch(c.value,{componentStack:E!==null?E:""})})}function X1(i,r,o,c,m){if(o.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){if(r=o.alternate,r!==null&&ts(r,o,m,!0),o=Mn.current,o!==null){switch(o.tag){case 13:return $n===null?sd():o.alternate===null&&mt===0&&(mt=3),o.flags&=-257,o.flags|=65536,o.lanes=m,c===dc?o.flags|=16384:(r=o.updateQueue,r===null?o.updateQueue=new Set([c]):r.add(c),ld(i,c,m)),!1;case 22:return o.flags|=65536,c===dc?o.flags|=16384:(r=o.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([c])},o.updateQueue=r):(o=r.retryQueue,o===null?r.retryQueue=new Set([c]):o.add(c)),ld(i,c,m)),!1}throw Error(a(435,o.tag))}return ld(i,c,m),sd(),!1}if(Ye)return r=Mn.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=m,c!==rc&&(i=Error(a(422),{cause:c}),es(Cn(i,o)))):(c!==rc&&(r=Error(a(423),{cause:c}),es(Cn(r,o))),i=i.current.alternate,i.flags|=65536,m&=-m,i.lanes|=m,c=Cn(c,o),m=Lc(i.stateNode,c,m),mc(i,m),mt!==4&&(mt=2)),!1;var v=Error(a(520),{cause:c});if(v=Cn(v,o),Ts===null?Ts=[v]:Ts.push(v),mt!==4&&(mt=2),r===null)return!0;c=Cn(c,o),o=r;do{switch(o.tag){case 3:return o.flags|=65536,i=m&-m,o.lanes|=i,i=Lc(o.stateNode,c,i),mc(o,i),!1;case 1:if(r=o.type,v=o.stateNode,(o.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&(Li===null||!Li.has(v))))return o.flags|=65536,m&=-m,o.lanes|=m,m=ng(m),ig(m,i,o,c),mc(o,m),!1}o=o.return}while(o!==null);return!1}var rg=Error(a(461)),_t=!1;function Lt(i,r,o,c){r.child=i===null?$p(r,null,o,c):na(r,i.child,o,c)}function ag(i,r,o,c,m){o=o.render;var v=r.ref;if("ref"in c){var w={};for(var E in c)E!=="ref"&&(w[E]=c[E])}else w=c;return pr(r),c=vc(i,r,o,w,v,m),E=bc(),i!==null&&!_t?(Tc(i,r,m),hi(i,r,m)):(Ye&&E&&nc(r),r.flags|=1,Lt(i,r,c,m),r.child)}function sg(i,r,o,c,m){if(i===null){var v=o.type;return typeof v=="function"&&!Wu(v)&&v.defaultProps===void 0&&o.compare===null?(r.tag=15,r.type=v,og(i,r,v,c,m)):(i=jo(o.type,null,c,r,r.mode,m),i.ref=r.ref,i.return=r,r.child=i)}if(v=i.child,!Gc(i,m)){var w=v.memoizedProps;if(o=o.compare,o=o!==null?o:Ja,o(w,c)&&i.ref===r.ref)return hi(i,r,m)}return r.flags|=1,i=si(v,c),i.ref=r.ref,i.return=r,r.child=i}function og(i,r,o,c,m){if(i!==null){var v=i.memoizedProps;if(Ja(v,c)&&i.ref===r.ref)if(_t=!1,r.pendingProps=c=v,Gc(i,m))(i.flags&131072)!==0&&(_t=!0);else return r.lanes=i.lanes,hi(i,r,m)}return Bc(i,r,o,c,m)}function lg(i,r,o){var c=r.pendingProps,m=c.children,v=i!==null?i.memoizedState:null;if(c.mode==="hidden"){if((r.flags&128)!==0){if(c=v!==null?v.baseLanes|o:o,i!==null){for(m=r.child=i.child,v=0;m!==null;)v=v|m.lanes|m.childLanes,m=m.sibling;r.childLanes=v&~c}else r.childLanes=0,r.child=null;return ug(i,r,c,o)}if((o&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},i!==null&&Ho(r,v!==null?v.cachePool:null),v!==null?op(r,v):gc(),Xp(r);else return r.lanes=r.childLanes=536870912,ug(i,r,v!==null?v.baseLanes|o:o,o)}else v!==null?(Ho(r,v.cachePool),op(r,v),Ri(),r.memoizedState=null):(i!==null&&Ho(r,null),gc(),Ri());return Lt(i,r,m,o),r.child}function ug(i,r,o,c){var m=cc();return m=m===null?null:{parent:Nt._currentValue,pool:m},r.memoizedState={baseLanes:o,cachePool:m},i!==null&&Ho(r,null),gc(),Xp(r),i!==null&&ts(i,r,c,!0),null}function sl(i,r){var o=r.ref;if(o===null)i!==null&&i.ref!==null&&(r.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(a(284));(i===null||i.ref!==o)&&(r.flags|=4194816)}}function Bc(i,r,o,c,m){return pr(r),o=vc(i,r,o,c,void 0,m),c=bc(),i!==null&&!_t?(Tc(i,r,m),hi(i,r,m)):(Ye&&c&&nc(r),r.flags|=1,Lt(i,r,o,m),r.child)}function cg(i,r,o,c,m,v){return pr(r),r.updateQueue=null,o=up(r,c,o,m),lp(i),c=bc(),i!==null&&!_t?(Tc(i,r,v),hi(i,r,v)):(Ye&&c&&nc(r),r.flags|=1,Lt(i,r,o,v),r.child)}function dg(i,r,o,c,m){if(pr(r),r.stateNode===null){var v=Yr,w=o.contextType;typeof w=="object"&&w!==null&&(v=zt(w)),v=new o(c,v),r.memoizedState=v.state!==null&&v.state!==void 0?v.state:null,v.updater=Vc,r.stateNode=v,v._reactInternals=r,v=r.stateNode,v.props=c,v.state=r.memoizedState,v.refs={},fc(r),w=o.contextType,v.context=typeof w=="object"&&w!==null?zt(w):Yr,v.state=r.memoizedState,w=o.getDerivedStateFromProps,typeof w=="function"&&(Pc(r,o,w,c),v.state=r.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof v.getSnapshotBeforeUpdate=="function"||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(w=v.state,typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount(),w!==v.state&&Vc.enqueueReplaceState(v,v.state,null),ls(r,c,v,m),os(),v.state=r.memoizedState),typeof v.componentDidMount=="function"&&(r.flags|=4194308),c=!0}else if(i===null){v=r.stateNode;var E=r.memoizedProps,I=xr(o,E);v.props=I;var H=v.context,ee=o.contextType;w=Yr,typeof ee=="object"&&ee!==null&&(w=zt(ee));var ne=o.getDerivedStateFromProps;ee=typeof ne=="function"||typeof v.getSnapshotBeforeUpdate=="function",E=r.pendingProps!==E,ee||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(E||H!==w)&&Qp(r,v,c,w),Ei=!1;var Y=r.memoizedState;v.state=Y,ls(r,c,v,m),os(),H=r.memoizedState,E||Y!==H||Ei?(typeof ne=="function"&&(Pc(r,o,ne,c),H=r.memoizedState),(I=Ei||Jp(r,o,I,c,Y,H,w))?(ee||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount()),typeof v.componentDidMount=="function"&&(r.flags|=4194308)):(typeof v.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=c,r.memoizedState=H),v.props=c,v.state=H,v.context=w,c=I):(typeof v.componentDidMount=="function"&&(r.flags|=4194308),c=!1)}else{v=r.stateNode,hc(i,r),w=r.memoizedProps,ee=xr(o,w),v.props=ee,ne=r.pendingProps,Y=v.context,H=o.contextType,I=Yr,typeof H=="object"&&H!==null&&(I=zt(H)),E=o.getDerivedStateFromProps,(H=typeof E=="function"||typeof v.getSnapshotBeforeUpdate=="function")||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(w!==ne||Y!==I)&&Qp(r,v,c,I),Ei=!1,Y=r.memoizedState,v.state=Y,ls(r,c,v,m),os();var $=r.memoizedState;w!==ne||Y!==$||Ei||i!==null&&i.dependencies!==null&&zo(i.dependencies)?(typeof E=="function"&&(Pc(r,o,E,c),$=r.memoizedState),(ee=Ei||Jp(r,o,ee,c,Y,$,I)||i!==null&&i.dependencies!==null&&zo(i.dependencies))?(H||typeof v.UNSAFE_componentWillUpdate!="function"&&typeof v.componentWillUpdate!="function"||(typeof v.componentWillUpdate=="function"&&v.componentWillUpdate(c,$,I),typeof v.UNSAFE_componentWillUpdate=="function"&&v.UNSAFE_componentWillUpdate(c,$,I)),typeof v.componentDidUpdate=="function"&&(r.flags|=4),typeof v.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof v.componentDidUpdate!="function"||w===i.memoizedProps&&Y===i.memoizedState||(r.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||w===i.memoizedProps&&Y===i.memoizedState||(r.flags|=1024),r.memoizedProps=c,r.memoizedState=$),v.props=c,v.state=$,v.context=I,c=ee):(typeof v.componentDidUpdate!="function"||w===i.memoizedProps&&Y===i.memoizedState||(r.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||w===i.memoizedProps&&Y===i.memoizedState||(r.flags|=1024),c=!1)}return v=c,sl(i,r),c=(r.flags&128)!==0,v||c?(v=r.stateNode,o=c&&typeof o.getDerivedStateFromError!="function"?null:v.render(),r.flags|=1,i!==null&&c?(r.child=na(r,i.child,null,m),r.child=na(r,null,o,m)):Lt(i,r,o,m),r.memoizedState=v.state,i=r.child):i=hi(i,r,m),i}function fg(i,r,o,c){return Wa(),r.flags|=256,Lt(i,r,o,c),r.child}var jc={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Oc(i){return{baseLanes:i,cachePool:Wm()}}function Uc(i,r,o){return i=i!==null?i.childLanes&~o:0,r&&(i|=Nn),i}function hg(i,r,o){var c=r.pendingProps,m=!1,v=(r.flags&128)!==0,w;if((w=v)||(w=i!==null&&i.memoizedState===null?!1:(Dt.current&2)!==0),w&&(m=!0,r.flags&=-129),w=(r.flags&32)!==0,r.flags&=-33,i===null){if(Ye){if(m?Di(r):Ri(),Ye){var E=ht,I;if(I=E){e:{for(I=E,E=Kn;I.nodeType!==8;){if(!E){E=null;break e}if(I=On(I.nextSibling),I===null){E=null;break e}}E=I}E!==null?(r.memoizedState={dehydrated:E,treeContext:cr!==null?{id:oi,overflow:li}:null,retryLane:536870912,hydrationErrors:null},I=un(18,null,null,0),I.stateNode=E,I.return=r,r.child=I,$t=r,ht=null,I=!0):I=!1}I||hr(r)}if(E=r.memoizedState,E!==null&&(E=E.dehydrated,E!==null))return Cd(E)?r.lanes=32:r.lanes=536870912,null;fi(r)}return E=c.children,c=c.fallback,m?(Ri(),m=r.mode,E=ol({mode:"hidden",children:E},m),c=ur(c,m,o,null),E.return=r,c.return=r,E.sibling=c,r.child=E,m=r.child,m.memoizedState=Oc(o),m.childLanes=Uc(i,w,o),r.memoizedState=jc,c):(Di(r),zc(r,E))}if(I=i.memoizedState,I!==null&&(E=I.dehydrated,E!==null)){if(v)r.flags&256?(Di(r),r.flags&=-257,r=Fc(i,r,o)):r.memoizedState!==null?(Ri(),r.child=i.child,r.flags|=128,r=null):(Ri(),m=c.fallback,E=r.mode,c=ol({mode:"visible",children:c.children},E),m=ur(m,E,o,null),m.flags|=2,c.return=r,m.return=r,c.sibling=m,r.child=c,na(r,i.child,null,o),c=r.child,c.memoizedState=Oc(o),c.childLanes=Uc(i,w,o),r.memoizedState=jc,r=m);else if(Di(r),Cd(E)){if(w=E.nextSibling&&E.nextSibling.dataset,w)var H=w.dgst;w=H,c=Error(a(419)),c.stack="",c.digest=w,es({value:c,source:null,stack:null}),r=Fc(i,r,o)}else if(_t||ts(i,r,o,!1),w=(o&i.childLanes)!==0,_t||w){if(w=it,w!==null&&(c=o&-o,c=(c&42)!==0?1:Oa(c),c=(c&(w.suspendedLanes|o))!==0?0:c,c!==0&&c!==I.retryLane))throw I.retryLane=c,qr(i,c),mn(w,i,c),rg;E.data==="$?"||sd(),r=Fc(i,r,o)}else E.data==="$?"?(r.flags|=192,r.child=i.child,r=null):(i=I.treeContext,ht=On(E.nextSibling),$t=r,Ye=!0,fr=null,Kn=!1,i!==null&&(En[An++]=oi,En[An++]=li,En[An++]=cr,oi=i.id,li=i.overflow,cr=r),r=zc(r,c.children),r.flags|=4096);return r}return m?(Ri(),m=c.fallback,E=r.mode,I=i.child,H=I.sibling,c=si(I,{mode:"hidden",children:c.children}),c.subtreeFlags=I.subtreeFlags&65011712,H!==null?m=si(H,m):(m=ur(m,E,o,null),m.flags|=2),m.return=r,c.return=r,c.sibling=m,r.child=c,c=m,m=r.child,E=i.child.memoizedState,E===null?E=Oc(o):(I=E.cachePool,I!==null?(H=Nt._currentValue,I=I.parent!==H?{parent:H,pool:H}:I):I=Wm(),E={baseLanes:E.baseLanes|o,cachePool:I}),m.memoizedState=E,m.childLanes=Uc(i,w,o),r.memoizedState=jc,c):(Di(r),o=i.child,i=o.sibling,o=si(o,{mode:"visible",children:c.children}),o.return=r,o.sibling=null,i!==null&&(w=r.deletions,w===null?(r.deletions=[i],r.flags|=16):w.push(i)),r.child=o,r.memoizedState=null,o)}function zc(i,r){return r=ol({mode:"visible",children:r},i.mode),r.return=i,i.child=r}function ol(i,r){return i=un(22,i,null,r),i.lanes=0,i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},i}function Fc(i,r,o){return na(r,i.child,null,o),i=zc(r,r.pendingProps.children),i.flags|=2,r.memoizedState=null,i}function mg(i,r,o){i.lanes|=r;var c=i.alternate;c!==null&&(c.lanes|=r),sc(i.return,r,o)}function Hc(i,r,o,c,m){var v=i.memoizedState;v===null?i.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:c,tail:o,tailMode:m}:(v.isBackwards=r,v.rendering=null,v.renderingStartTime=0,v.last=c,v.tail=o,v.tailMode=m)}function pg(i,r,o){var c=r.pendingProps,m=c.revealOrder,v=c.tail;if(Lt(i,r,c.children,o),c=Dt.current,(c&2)!==0)c=c&1|2,r.flags|=128;else{if(i!==null&&(i.flags&128)!==0)e:for(i=r.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&mg(i,o,r);else if(i.tag===19)mg(i,o,r);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===r)break e;for(;i.sibling===null;){if(i.return===null||i.return===r)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}c&=1}switch(A(Dt,c),m){case"forwards":for(o=r.child,m=null;o!==null;)i=o.alternate,i!==null&&il(i)===null&&(m=o),o=o.sibling;o=m,o===null?(m=r.child,r.child=null):(m=o.sibling,o.sibling=null),Hc(r,!1,m,o,v);break;case"backwards":for(o=null,m=r.child,r.child=null;m!==null;){if(i=m.alternate,i!==null&&il(i)===null){r.child=m;break}i=m.sibling,m.sibling=o,o=m,m=i}Hc(r,!0,o,null,v);break;case"together":Hc(r,!1,null,null,void 0);break;default:r.memoizedState=null}return r.child}function hi(i,r,o){if(i!==null&&(r.dependencies=i.dependencies),Vi|=r.lanes,(o&r.childLanes)===0)if(i!==null){if(ts(i,r,o,!1),(o&r.childLanes)===0)return null}else return null;if(i!==null&&r.child!==i.child)throw Error(a(153));if(r.child!==null){for(i=r.child,o=si(i,i.pendingProps),r.child=o,o.return=r;i.sibling!==null;)i=i.sibling,o=o.sibling=si(i,i.pendingProps),o.return=r;o.sibling=null}return r.child}function Gc(i,r){return(i.lanes&r)!==0?!0:(i=i.dependencies,!!(i!==null&&zo(i)))}function J1(i,r,o){switch(r.tag){case 3:he(r,r.stateNode.containerInfo),wi(r,Nt,i.memoizedState.cache),Wa();break;case 27:case 5:Ae(r);break;case 4:he(r,r.stateNode.containerInfo);break;case 10:wi(r,r.type,r.memoizedProps.value);break;case 13:var c=r.memoizedState;if(c!==null)return c.dehydrated!==null?(Di(r),r.flags|=128,null):(o&r.child.childLanes)!==0?hg(i,r,o):(Di(r),i=hi(i,r,o),i!==null?i.sibling:null);Di(r);break;case 19:var m=(i.flags&128)!==0;if(c=(o&r.childLanes)!==0,c||(ts(i,r,o,!1),c=(o&r.childLanes)!==0),m){if(c)return pg(i,r,o);r.flags|=128}if(m=r.memoizedState,m!==null&&(m.rendering=null,m.tail=null,m.lastEffect=null),A(Dt,Dt.current),c)break;return null;case 22:case 23:return r.lanes=0,lg(i,r,o);case 24:wi(r,Nt,i.memoizedState.cache)}return hi(i,r,o)}function gg(i,r,o){if(i!==null)if(i.memoizedProps!==r.pendingProps)_t=!0;else{if(!Gc(i,o)&&(r.flags&128)===0)return _t=!1,J1(i,r,o);_t=(i.flags&131072)!==0}else _t=!1,Ye&&(r.flags&1048576)!==0&&Ym(r,Uo,r.index);switch(r.lanes=0,r.tag){case 16:e:{i=r.pendingProps;var c=r.elementType,m=c._init;if(c=m(c._payload),r.type=c,typeof c=="function")Wu(c)?(i=xr(c,i),r.tag=1,r=dg(null,r,c,i,o)):(r.tag=0,r=Bc(null,r,c,i,o));else{if(c!=null){if(m=c.$$typeof,m===G){r.tag=11,r=ag(null,r,c,i,o);break e}else if(m===Z){r.tag=14,r=sg(null,r,c,i,o);break e}}throw r=se(c)||c,Error(a(306,r,""))}}return r;case 0:return Bc(i,r,r.type,r.pendingProps,o);case 1:return c=r.type,m=xr(c,r.pendingProps),dg(i,r,c,m,o);case 3:e:{if(he(r,r.stateNode.containerInfo),i===null)throw Error(a(387));c=r.pendingProps;var v=r.memoizedState;m=v.element,hc(i,r),ls(r,c,null,o);var w=r.memoizedState;if(c=w.cache,wi(r,Nt,c),c!==v.cache&&oc(r,[Nt],o,!0),os(),c=w.element,v.isDehydrated)if(v={element:c,isDehydrated:!1,cache:w.cache},r.updateQueue.baseState=v,r.memoizedState=v,r.flags&256){r=fg(i,r,c,o);break e}else if(c!==m){m=Cn(Error(a(424)),r),es(m),r=fg(i,r,c,o);break e}else{switch(i=r.stateNode.containerInfo,i.nodeType){case 9:i=i.body;break;default:i=i.nodeName==="HTML"?i.ownerDocument.body:i}for(ht=On(i.firstChild),$t=r,Ye=!0,fr=null,Kn=!0,o=$p(r,null,c,o),r.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling}else{if(Wa(),c===m){r=hi(i,r,o);break e}Lt(i,r,c,o)}r=r.child}return r;case 26:return sl(i,r),i===null?(o=by(r.type,null,r.pendingProps,null))?r.memoizedState=o:Ye||(o=r.type,i=r.pendingProps,c=Tl(de.current).createElement(o),c[xt]=r,c[Vt]=i,jt(c,o,i),St(c),r.stateNode=c):r.memoizedState=by(r.type,i.memoizedProps,r.pendingProps,i.memoizedState),null;case 27:return Ae(r),i===null&&Ye&&(c=r.stateNode=yy(r.type,r.pendingProps,de.current),$t=r,Kn=!0,m=ht,Oi(r.type)?(wd=m,ht=On(c.firstChild)):ht=m),Lt(i,r,r.pendingProps.children,o),sl(i,r),i===null&&(r.flags|=4194304),r.child;case 5:return i===null&&Ye&&((m=c=ht)&&(c=wC(c,r.type,r.pendingProps,Kn),c!==null?(r.stateNode=c,$t=r,ht=On(c.firstChild),Kn=!1,m=!0):m=!1),m||hr(r)),Ae(r),m=r.type,v=r.pendingProps,w=i!==null?i.memoizedProps:null,c=v.children,bd(m,v)?c=null:w!==null&&bd(m,w)&&(r.flags|=32),r.memoizedState!==null&&(m=vc(i,r,F1,null,null,o),Rs._currentValue=m),sl(i,r),Lt(i,r,c,o),r.child;case 6:return i===null&&Ye&&((i=o=ht)&&(o=EC(o,r.pendingProps,Kn),o!==null?(r.stateNode=o,$t=r,ht=null,i=!0):i=!1),i||hr(r)),null;case 13:return hg(i,r,o);case 4:return he(r,r.stateNode.containerInfo),c=r.pendingProps,i===null?r.child=na(r,null,c,o):Lt(i,r,c,o),r.child;case 11:return ag(i,r,r.type,r.pendingProps,o);case 7:return Lt(i,r,r.pendingProps,o),r.child;case 8:return Lt(i,r,r.pendingProps.children,o),r.child;case 12:return Lt(i,r,r.pendingProps.children,o),r.child;case 10:return c=r.pendingProps,wi(r,r.type,c.value),Lt(i,r,c.children,o),r.child;case 9:return m=r.type._context,c=r.pendingProps.children,pr(r),m=zt(m),c=c(m),r.flags|=1,Lt(i,r,c,o),r.child;case 14:return sg(i,r,r.type,r.pendingProps,o);case 15:return og(i,r,r.type,r.pendingProps,o);case 19:return pg(i,r,o);case 31:return c=r.pendingProps,o=r.mode,c={mode:c.mode,children:c.children},i===null?(o=ol(c,o),o.ref=r.ref,r.child=o,o.return=r,r=o):(o=si(i.child,c),o.ref=r.ref,r.child=o,o.return=r,r=o),r;case 22:return lg(i,r,o);case 24:return pr(r),c=zt(Nt),i===null?(m=cc(),m===null&&(m=it,v=lc(),m.pooledCache=v,v.refCount++,v!==null&&(m.pooledCacheLanes|=o),m=v),r.memoizedState={parent:c,cache:m},fc(r),wi(r,Nt,m)):((i.lanes&o)!==0&&(hc(i,r),ls(r,null,null,o),os()),m=i.memoizedState,v=r.memoizedState,m.parent!==c?(m={parent:c,cache:c},r.memoizedState=m,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=m),wi(r,Nt,c)):(c=v.cache,wi(r,Nt,c),c!==m.cache&&oc(r,[Nt],o,!0))),Lt(i,r,r.pendingProps.children,o),r.child;case 29:throw r.pendingProps}throw Error(a(156,r.tag))}function mi(i){i.flags|=4}function yg(i,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!Ey(r)){if(r=Mn.current,r!==null&&((ze&4194048)===ze?$n!==null:(ze&62914560)!==ze&&(ze&536870912)===0||r!==$n))throw as=dc,ep;i.flags|=8192}}function ll(i,r){r!==null&&(i.flags|=4),i.flags&16384&&(r=i.tag!==22?be():536870912,i.lanes|=r,sa|=r)}function ps(i,r){if(!Ye)switch(i.tailMode){case"hidden":r=i.tail;for(var o=null;r!==null;)r.alternate!==null&&(o=r),r=r.sibling;o===null?i.tail=null:o.sibling=null;break;case"collapsed":o=i.tail;for(var c=null;o!==null;)o.alternate!==null&&(c=o),o=o.sibling;c===null?r||i.tail===null?i.tail=null:i.tail.sibling=null:c.sibling=null}}function ut(i){var r=i.alternate!==null&&i.alternate.child===i.child,o=0,c=0;if(r)for(var m=i.child;m!==null;)o|=m.lanes|m.childLanes,c|=m.subtreeFlags&65011712,c|=m.flags&65011712,m.return=i,m=m.sibling;else for(m=i.child;m!==null;)o|=m.lanes|m.childLanes,c|=m.subtreeFlags,c|=m.flags,m.return=i,m=m.sibling;return i.subtreeFlags|=c,i.childLanes=o,r}function Q1(i,r,o){var c=r.pendingProps;switch(ic(r),r.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ut(r),null;case 1:return ut(r),null;case 3:return o=r.stateNode,c=null,i!==null&&(c=i.memoizedState.cache),r.memoizedState.cache!==c&&(r.flags|=2048),ci(Nt),ve(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(i===null||i.child===null)&&(Za(r)?mi(r):i===null||i.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,Xm())),ut(r),null;case 26:return o=r.memoizedState,i===null?(mi(r),o!==null?(ut(r),yg(r,o)):(ut(r),r.flags&=-16777217)):o?o!==i.memoizedState?(mi(r),ut(r),yg(r,o)):(ut(r),r.flags&=-16777217):(i.memoizedProps!==c&&mi(r),ut(r),r.flags&=-16777217),null;case 27:Me(r),o=de.current;var m=r.type;if(i!==null&&r.stateNode!=null)i.memoizedProps!==c&&mi(r);else{if(!c){if(r.stateNode===null)throw Error(a(166));return ut(r),null}i=Q.current,Za(r)?Km(r):(i=yy(m,c,o),r.stateNode=i,mi(r))}return ut(r),null;case 5:if(Me(r),o=r.type,i!==null&&r.stateNode!=null)i.memoizedProps!==c&&mi(r);else{if(!c){if(r.stateNode===null)throw Error(a(166));return ut(r),null}if(i=Q.current,Za(r))Km(r);else{switch(m=Tl(de.current),i){case 1:i=m.createElementNS("http://www.w3.org/2000/svg",o);break;case 2:i=m.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;default:switch(o){case"svg":i=m.createElementNS("http://www.w3.org/2000/svg",o);break;case"math":i=m.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;case"script":i=m.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild);break;case"select":i=typeof c.is=="string"?m.createElement("select",{is:c.is}):m.createElement("select"),c.multiple?i.multiple=!0:c.size&&(i.size=c.size);break;default:i=typeof c.is=="string"?m.createElement(o,{is:c.is}):m.createElement(o)}}i[xt]=r,i[Vt]=c;e:for(m=r.child;m!==null;){if(m.tag===5||m.tag===6)i.appendChild(m.stateNode);else if(m.tag!==4&&m.tag!==27&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===r)break e;for(;m.sibling===null;){if(m.return===null||m.return===r)break e;m=m.return}m.sibling.return=m.return,m=m.sibling}r.stateNode=i;e:switch(jt(i,o,c),o){case"button":case"input":case"select":case"textarea":i=!!c.autoFocus;break e;case"img":i=!0;break e;default:i=!1}i&&mi(r)}}return ut(r),r.flags&=-16777217,null;case 6:if(i&&r.stateNode!=null)i.memoizedProps!==c&&mi(r);else{if(typeof c!="string"&&r.stateNode===null)throw Error(a(166));if(i=de.current,Za(r)){if(i=r.stateNode,o=r.memoizedProps,c=null,m=$t,m!==null)switch(m.tag){case 27:case 5:c=m.memoizedProps}i[xt]=r,i=!!(i.nodeValue===o||c!==null&&c.suppressHydrationWarning===!0||cy(i.nodeValue,o)),i||hr(r)}else i=Tl(i).createTextNode(c),i[xt]=r,r.stateNode=i}return ut(r),null;case 13:if(c=r.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(m=Za(r),c!==null&&c.dehydrated!==null){if(i===null){if(!m)throw Error(a(318));if(m=r.memoizedState,m=m!==null?m.dehydrated:null,!m)throw Error(a(317));m[xt]=r}else Wa(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;ut(r),m=!1}else m=Xm(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=m),m=!0;if(!m)return r.flags&256?(fi(r),r):(fi(r),null)}if(fi(r),(r.flags&128)!==0)return r.lanes=o,r;if(o=c!==null,i=i!==null&&i.memoizedState!==null,o){c=r.child,m=null,c.alternate!==null&&c.alternate.memoizedState!==null&&c.alternate.memoizedState.cachePool!==null&&(m=c.alternate.memoizedState.cachePool.pool);var v=null;c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(v=c.memoizedState.cachePool.pool),v!==m&&(c.flags|=2048)}return o!==i&&o&&(r.child.flags|=8192),ll(r,r.updateQueue),ut(r),null;case 4:return ve(),i===null&&pd(r.stateNode.containerInfo),ut(r),null;case 10:return ci(r.type),ut(r),null;case 19:if(U(Dt),m=r.memoizedState,m===null)return ut(r),null;if(c=(r.flags&128)!==0,v=m.rendering,v===null)if(c)ps(m,!1);else{if(mt!==0||i!==null&&(i.flags&128)!==0)for(i=r.child;i!==null;){if(v=il(i),v!==null){for(r.flags|=128,ps(m,!1),i=v.updateQueue,r.updateQueue=i,ll(r,i),r.subtreeFlags=0,i=o,o=r.child;o!==null;)qm(o,i),o=o.sibling;return A(Dt,Dt.current&1|2),r.child}i=i.sibling}m.tail!==null&&nt()>dl&&(r.flags|=128,c=!0,ps(m,!1),r.lanes=4194304)}else{if(!c)if(i=il(v),i!==null){if(r.flags|=128,c=!0,i=i.updateQueue,r.updateQueue=i,ll(r,i),ps(m,!0),m.tail===null&&m.tailMode==="hidden"&&!v.alternate&&!Ye)return ut(r),null}else 2*nt()-m.renderingStartTime>dl&&o!==536870912&&(r.flags|=128,c=!0,ps(m,!1),r.lanes=4194304);m.isBackwards?(v.sibling=r.child,r.child=v):(i=m.last,i!==null?i.sibling=v:r.child=v,m.last=v)}return m.tail!==null?(r=m.tail,m.rendering=r,m.tail=r.sibling,m.renderingStartTime=nt(),r.sibling=null,i=Dt.current,A(Dt,c?i&1|2:i&1),r):(ut(r),null);case 22:case 23:return fi(r),yc(),c=r.memoizedState!==null,i!==null?i.memoizedState!==null!==c&&(r.flags|=8192):c&&(r.flags|=8192),c?(o&536870912)!==0&&(r.flags&128)===0&&(ut(r),r.subtreeFlags&6&&(r.flags|=8192)):ut(r),o=r.updateQueue,o!==null&&ll(r,o.retryQueue),o=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),c=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(c=r.memoizedState.cachePool.pool),c!==o&&(r.flags|=2048),i!==null&&U(gr),null;case 24:return o=null,i!==null&&(o=i.memoizedState.cache),r.memoizedState.cache!==o&&(r.flags|=2048),ci(Nt),ut(r),null;case 25:return null;case 30:return null}throw Error(a(156,r.tag))}function Z1(i,r){switch(ic(r),r.tag){case 1:return i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 3:return ci(Nt),ve(),i=r.flags,(i&65536)!==0&&(i&128)===0?(r.flags=i&-65537|128,r):null;case 26:case 27:case 5:return Me(r),null;case 13:if(fi(r),i=r.memoizedState,i!==null&&i.dehydrated!==null){if(r.alternate===null)throw Error(a(340));Wa()}return i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 19:return U(Dt),null;case 4:return ve(),null;case 10:return ci(r.type),null;case 22:case 23:return fi(r),yc(),i!==null&&U(gr),i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 24:return ci(Nt),null;case 25:return null;default:return null}}function xg(i,r){switch(ic(r),r.tag){case 3:ci(Nt),ve();break;case 26:case 27:case 5:Me(r);break;case 4:ve();break;case 13:fi(r);break;case 19:U(Dt);break;case 10:ci(r.type);break;case 22:case 23:fi(r),yc(),i!==null&&U(gr);break;case 24:ci(Nt)}}function gs(i,r){try{var o=r.updateQueue,c=o!==null?o.lastEffect:null;if(c!==null){var m=c.next;o=m;do{if((o.tag&i)===i){c=void 0;var v=o.create,w=o.inst;c=v(),w.destroy=c}o=o.next}while(o!==m)}}catch(E){et(r,r.return,E)}}function ki(i,r,o){try{var c=r.updateQueue,m=c!==null?c.lastEffect:null;if(m!==null){var v=m.next;c=v;do{if((c.tag&i)===i){var w=c.inst,E=w.destroy;if(E!==void 0){w.destroy=void 0,m=r;var I=o,H=E;try{H()}catch(ee){et(m,I,ee)}}}c=c.next}while(c!==v)}}catch(ee){et(r,r.return,ee)}}function vg(i){var r=i.updateQueue;if(r!==null){var o=i.stateNode;try{sp(r,o)}catch(c){et(i,i.return,c)}}}function bg(i,r,o){o.props=xr(i.type,i.memoizedProps),o.state=i.memoizedState;try{o.componentWillUnmount()}catch(c){et(i,r,c)}}function ys(i,r){try{var o=i.ref;if(o!==null){switch(i.tag){case 26:case 27:case 5:var c=i.stateNode;break;case 30:c=i.stateNode;break;default:c=i.stateNode}typeof o=="function"?i.refCleanup=o(c):o.current=c}}catch(m){et(i,r,m)}}function Xn(i,r){var o=i.ref,c=i.refCleanup;if(o!==null)if(typeof c=="function")try{c()}catch(m){et(i,r,m)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(m){et(i,r,m)}else o.current=null}function Tg(i){var r=i.type,o=i.memoizedProps,c=i.stateNode;try{e:switch(r){case"button":case"input":case"select":case"textarea":o.autoFocus&&c.focus();break e;case"img":o.src?c.src=o.src:o.srcSet&&(c.srcset=o.srcSet)}}catch(m){et(i,i.return,m)}}function qc(i,r,o){try{var c=i.stateNode;vC(c,i.type,o,r),c[Vt]=r}catch(m){et(i,i.return,m)}}function Sg(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&Oi(i.type)||i.tag===4}function Yc(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||Sg(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&Oi(i.type)||i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function Kc(i,r,o){var c=i.tag;if(c===5||c===6)i=i.stateNode,r?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(i,r):(r=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,r.appendChild(i),o=o._reactRootContainer,o!=null||r.onclick!==null||(r.onclick=bl));else if(c!==4&&(c===27&&Oi(i.type)&&(o=i.stateNode,r=null),i=i.child,i!==null))for(Kc(i,r,o),i=i.sibling;i!==null;)Kc(i,r,o),i=i.sibling}function ul(i,r,o){var c=i.tag;if(c===5||c===6)i=i.stateNode,r?o.insertBefore(i,r):o.appendChild(i);else if(c!==4&&(c===27&&Oi(i.type)&&(o=i.stateNode),i=i.child,i!==null))for(ul(i,r,o),i=i.sibling;i!==null;)ul(i,r,o),i=i.sibling}function Cg(i){var r=i.stateNode,o=i.memoizedProps;try{for(var c=i.type,m=r.attributes;m.length;)r.removeAttributeNode(m[0]);jt(r,c,o),r[xt]=i,r[Vt]=o}catch(v){et(i,i.return,v)}}var pi=!1,bt=!1,$c=!1,wg=typeof WeakSet=="function"?WeakSet:Set,It=null;function W1(i,r){if(i=i.containerInfo,xd=Ml,i=Vm(i),Yu(i)){if("selectionStart"in i)var o={start:i.selectionStart,end:i.selectionEnd};else e:{o=(o=i.ownerDocument)&&o.defaultView||window;var c=o.getSelection&&o.getSelection();if(c&&c.rangeCount!==0){o=c.anchorNode;var m=c.anchorOffset,v=c.focusNode;c=c.focusOffset;try{o.nodeType,v.nodeType}catch{o=null;break e}var w=0,E=-1,I=-1,H=0,ee=0,ne=i,Y=null;t:for(;;){for(var $;ne!==o||m!==0&&ne.nodeType!==3||(E=w+m),ne!==v||c!==0&&ne.nodeType!==3||(I=w+c),ne.nodeType===3&&(w+=ne.nodeValue.length),($=ne.firstChild)!==null;)Y=ne,ne=$;for(;;){if(ne===i)break t;if(Y===o&&++H===m&&(E=w),Y===v&&++ee===c&&(I=w),($=ne.nextSibling)!==null)break;ne=Y,Y=ne.parentNode}ne=$}o=E===-1||I===-1?null:{start:E,end:I}}else o=null}o=o||{start:0,end:0}}else o=null;for(vd={focusedElem:i,selectionRange:o},Ml=!1,It=r;It!==null;)if(r=It,i=r.child,(r.subtreeFlags&1024)!==0&&i!==null)i.return=r,It=i;else for(;It!==null;){switch(r=It,v=r.alternate,i=r.flags,r.tag){case 0:break;case 11:case 15:break;case 1:if((i&1024)!==0&&v!==null){i=void 0,o=r,m=v.memoizedProps,v=v.memoizedState,c=o.stateNode;try{var Ne=xr(o.type,m,o.elementType===o.type);i=c.getSnapshotBeforeUpdate(Ne,v),c.__reactInternalSnapshotBeforeUpdate=i}catch(we){et(o,o.return,we)}}break;case 3:if((i&1024)!==0){if(i=r.stateNode.containerInfo,o=i.nodeType,o===9)Sd(i);else if(o===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":Sd(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(a(163))}if(i=r.sibling,i!==null){i.return=r.return,It=i;break}It=r.return}}function Eg(i,r,o){var c=o.flags;switch(o.tag){case 0:case 11:case 15:_i(i,o),c&4&&gs(5,o);break;case 1:if(_i(i,o),c&4)if(i=o.stateNode,r===null)try{i.componentDidMount()}catch(w){et(o,o.return,w)}else{var m=xr(o.type,r.memoizedProps);r=r.memoizedState;try{i.componentDidUpdate(m,r,i.__reactInternalSnapshotBeforeUpdate)}catch(w){et(o,o.return,w)}}c&64&&vg(o),c&512&&ys(o,o.return);break;case 3:if(_i(i,o),c&64&&(i=o.updateQueue,i!==null)){if(r=null,o.child!==null)switch(o.child.tag){case 27:case 5:r=o.child.stateNode;break;case 1:r=o.child.stateNode}try{sp(i,r)}catch(w){et(o,o.return,w)}}break;case 27:r===null&&c&4&&Cg(o);case 26:case 5:_i(i,o),r===null&&c&4&&Tg(o),c&512&&ys(o,o.return);break;case 12:_i(i,o);break;case 13:_i(i,o),c&4&&Ng(i,o),c&64&&(i=o.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(o=lC.bind(null,o),AC(i,o))));break;case 22:if(c=o.memoizedState!==null||pi,!c){r=r!==null&&r.memoizedState!==null||bt,m=pi;var v=bt;pi=c,(bt=r)&&!v?Ii(i,o,(o.subtreeFlags&8772)!==0):_i(i,o),pi=m,bt=v}break;case 30:break;default:_i(i,o)}}function Ag(i){var r=i.alternate;r!==null&&(i.alternate=null,Ag(r)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(r=i.stateNode,r!==null&&Co(r)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var lt=null,Wt=!1;function gi(i,r,o){for(o=o.child;o!==null;)Mg(i,r,o),o=o.sibling}function Mg(i,r,o){if(oe&&typeof oe.onCommitFiberUnmount=="function")try{oe.onCommitFiberUnmount(W,o)}catch{}switch(o.tag){case 26:bt||Xn(o,r),gi(i,r,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:bt||Xn(o,r);var c=lt,m=Wt;Oi(o.type)&&(lt=o.stateNode,Wt=!1),gi(i,r,o),As(o.stateNode),lt=c,Wt=m;break;case 5:bt||Xn(o,r);case 6:if(c=lt,m=Wt,lt=null,gi(i,r,o),lt=c,Wt=m,lt!==null)if(Wt)try{(lt.nodeType===9?lt.body:lt.nodeName==="HTML"?lt.ownerDocument.body:lt).removeChild(o.stateNode)}catch(v){et(o,r,v)}else try{lt.removeChild(o.stateNode)}catch(v){et(o,r,v)}break;case 18:lt!==null&&(Wt?(i=lt,py(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,o.stateNode),Ps(i)):py(lt,o.stateNode));break;case 4:c=lt,m=Wt,lt=o.stateNode.containerInfo,Wt=!0,gi(i,r,o),lt=c,Wt=m;break;case 0:case 11:case 14:case 15:bt||ki(2,o,r),bt||ki(4,o,r),gi(i,r,o);break;case 1:bt||(Xn(o,r),c=o.stateNode,typeof c.componentWillUnmount=="function"&&bg(o,r,c)),gi(i,r,o);break;case 21:gi(i,r,o);break;case 22:bt=(c=bt)||o.memoizedState!==null,gi(i,r,o),bt=c;break;default:gi(i,r,o)}}function Ng(i,r){if(r.memoizedState===null&&(i=r.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{Ps(i)}catch(o){et(r,r.return,o)}}function eC(i){switch(i.tag){case 13:case 19:var r=i.stateNode;return r===null&&(r=i.stateNode=new wg),r;case 22:return i=i.stateNode,r=i._retryCache,r===null&&(r=i._retryCache=new wg),r;default:throw Error(a(435,i.tag))}}function Xc(i,r){var o=eC(i);r.forEach(function(c){var m=uC.bind(null,i,c);o.has(c)||(o.add(c),c.then(m,m))})}function cn(i,r){var o=r.deletions;if(o!==null)for(var c=0;c<o.length;c++){var m=o[c],v=i,w=r,E=w;e:for(;E!==null;){switch(E.tag){case 27:if(Oi(E.type)){lt=E.stateNode,Wt=!1;break e}break;case 5:lt=E.stateNode,Wt=!1;break e;case 3:case 4:lt=E.stateNode.containerInfo,Wt=!0;break e}E=E.return}if(lt===null)throw Error(a(160));Mg(v,w,m),lt=null,Wt=!1,v=m.alternate,v!==null&&(v.return=null),m.return=null}if(r.subtreeFlags&13878)for(r=r.child;r!==null;)Dg(r,i),r=r.sibling}var jn=null;function Dg(i,r){var o=i.alternate,c=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:cn(r,i),dn(i),c&4&&(ki(3,i,i.return),gs(3,i),ki(5,i,i.return));break;case 1:cn(r,i),dn(i),c&512&&(bt||o===null||Xn(o,o.return)),c&64&&pi&&(i=i.updateQueue,i!==null&&(c=i.callbacks,c!==null&&(o=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=o===null?c:o.concat(c))));break;case 26:var m=jn;if(cn(r,i),dn(i),c&512&&(bt||o===null||Xn(o,o.return)),c&4){var v=o!==null?o.memoizedState:null;if(c=i.memoizedState,o===null)if(c===null)if(i.stateNode===null){e:{c=i.type,o=i.memoizedProps,m=m.ownerDocument||m;t:switch(c){case"title":v=m.getElementsByTagName("title")[0],(!v||v[rr]||v[xt]||v.namespaceURI==="http://www.w3.org/2000/svg"||v.hasAttribute("itemprop"))&&(v=m.createElement(c),m.head.insertBefore(v,m.querySelector("head > title"))),jt(v,c,o),v[xt]=i,St(v),c=v;break e;case"link":var w=Cy("link","href",m).get(c+(o.href||""));if(w){for(var E=0;E<w.length;E++)if(v=w[E],v.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&v.getAttribute("rel")===(o.rel==null?null:o.rel)&&v.getAttribute("title")===(o.title==null?null:o.title)&&v.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){w.splice(E,1);break t}}v=m.createElement(c),jt(v,c,o),m.head.appendChild(v);break;case"meta":if(w=Cy("meta","content",m).get(c+(o.content||""))){for(E=0;E<w.length;E++)if(v=w[E],v.getAttribute("content")===(o.content==null?null:""+o.content)&&v.getAttribute("name")===(o.name==null?null:o.name)&&v.getAttribute("property")===(o.property==null?null:o.property)&&v.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&v.getAttribute("charset")===(o.charSet==null?null:o.charSet)){w.splice(E,1);break t}}v=m.createElement(c),jt(v,c,o),m.head.appendChild(v);break;default:throw Error(a(468,c))}v[xt]=i,St(v),c=v}i.stateNode=c}else wy(m,i.type,i.stateNode);else i.stateNode=Sy(m,c,i.memoizedProps);else v!==c?(v===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):v.count--,c===null?wy(m,i.type,i.stateNode):Sy(m,c,i.memoizedProps)):c===null&&i.stateNode!==null&&qc(i,i.memoizedProps,o.memoizedProps)}break;case 27:cn(r,i),dn(i),c&512&&(bt||o===null||Xn(o,o.return)),o!==null&&c&4&&qc(i,i.memoizedProps,o.memoizedProps);break;case 5:if(cn(r,i),dn(i),c&512&&(bt||o===null||Xn(o,o.return)),i.flags&32){m=i.stateNode;try{jr(m,"")}catch($){et(i,i.return,$)}}c&4&&i.stateNode!=null&&(m=i.memoizedProps,qc(i,m,o!==null?o.memoizedProps:m)),c&1024&&($c=!0);break;case 6:if(cn(r,i),dn(i),c&4){if(i.stateNode===null)throw Error(a(162));c=i.memoizedProps,o=i.stateNode;try{o.nodeValue=c}catch($){et(i,i.return,$)}}break;case 3:if(wl=null,m=jn,jn=Sl(r.containerInfo),cn(r,i),jn=m,dn(i),c&4&&o!==null&&o.memoizedState.isDehydrated)try{Ps(r.containerInfo)}catch($){et(i,i.return,$)}$c&&($c=!1,Rg(i));break;case 4:c=jn,jn=Sl(i.stateNode.containerInfo),cn(r,i),dn(i),jn=c;break;case 12:cn(r,i),dn(i);break;case 13:cn(r,i),dn(i),i.child.flags&8192&&i.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(td=nt()),c&4&&(c=i.updateQueue,c!==null&&(i.updateQueue=null,Xc(i,c)));break;case 22:m=i.memoizedState!==null;var I=o!==null&&o.memoizedState!==null,H=pi,ee=bt;if(pi=H||m,bt=ee||I,cn(r,i),bt=ee,pi=H,dn(i),c&8192)e:for(r=i.stateNode,r._visibility=m?r._visibility&-2:r._visibility|1,m&&(o===null||I||pi||bt||vr(i)),o=null,r=i;;){if(r.tag===5||r.tag===26){if(o===null){I=o=r;try{if(v=I.stateNode,m)w=v.style,typeof w.setProperty=="function"?w.setProperty("display","none","important"):w.display="none";else{E=I.stateNode;var ne=I.memoizedProps.style,Y=ne!=null&&ne.hasOwnProperty("display")?ne.display:null;E.style.display=Y==null||typeof Y=="boolean"?"":(""+Y).trim()}}catch($){et(I,I.return,$)}}}else if(r.tag===6){if(o===null){I=r;try{I.stateNode.nodeValue=m?"":I.memoizedProps}catch($){et(I,I.return,$)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===i)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===i)break e;for(;r.sibling===null;){if(r.return===null||r.return===i)break e;o===r&&(o=null),r=r.return}o===r&&(o=null),r.sibling.return=r.return,r=r.sibling}c&4&&(c=i.updateQueue,c!==null&&(o=c.retryQueue,o!==null&&(c.retryQueue=null,Xc(i,o))));break;case 19:cn(r,i),dn(i),c&4&&(c=i.updateQueue,c!==null&&(i.updateQueue=null,Xc(i,c)));break;case 30:break;case 21:break;default:cn(r,i),dn(i)}}function dn(i){var r=i.flags;if(r&2){try{for(var o,c=i.return;c!==null;){if(Sg(c)){o=c;break}c=c.return}if(o==null)throw Error(a(160));switch(o.tag){case 27:var m=o.stateNode,v=Yc(i);ul(i,v,m);break;case 5:var w=o.stateNode;o.flags&32&&(jr(w,""),o.flags&=-33);var E=Yc(i);ul(i,E,w);break;case 3:case 4:var I=o.stateNode.containerInfo,H=Yc(i);Kc(i,H,I);break;default:throw Error(a(161))}}catch(ee){et(i,i.return,ee)}i.flags&=-3}r&4096&&(i.flags&=-4097)}function Rg(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var r=i;Rg(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),i=i.sibling}}function _i(i,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)Eg(i,r.alternate,r),r=r.sibling}function vr(i){for(i=i.child;i!==null;){var r=i;switch(r.tag){case 0:case 11:case 14:case 15:ki(4,r,r.return),vr(r);break;case 1:Xn(r,r.return);var o=r.stateNode;typeof o.componentWillUnmount=="function"&&bg(r,r.return,o),vr(r);break;case 27:As(r.stateNode);case 26:case 5:Xn(r,r.return),vr(r);break;case 22:r.memoizedState===null&&vr(r);break;case 30:vr(r);break;default:vr(r)}i=i.sibling}}function Ii(i,r,o){for(o=o&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var c=r.alternate,m=i,v=r,w=v.flags;switch(v.tag){case 0:case 11:case 15:Ii(m,v,o),gs(4,v);break;case 1:if(Ii(m,v,o),c=v,m=c.stateNode,typeof m.componentDidMount=="function")try{m.componentDidMount()}catch(H){et(c,c.return,H)}if(c=v,m=c.updateQueue,m!==null){var E=c.stateNode;try{var I=m.shared.hiddenCallbacks;if(I!==null)for(m.shared.hiddenCallbacks=null,m=0;m<I.length;m++)ap(I[m],E)}catch(H){et(c,c.return,H)}}o&&w&64&&vg(v),ys(v,v.return);break;case 27:Cg(v);case 26:case 5:Ii(m,v,o),o&&c===null&&w&4&&Tg(v),ys(v,v.return);break;case 12:Ii(m,v,o);break;case 13:Ii(m,v,o),o&&w&4&&Ng(m,v);break;case 22:v.memoizedState===null&&Ii(m,v,o),ys(v,v.return);break;case 30:break;default:Ii(m,v,o)}r=r.sibling}}function Jc(i,r){var o=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),i=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(i=r.memoizedState.cachePool.pool),i!==o&&(i!=null&&i.refCount++,o!=null&&ns(o))}function Qc(i,r){i=null,r.alternate!==null&&(i=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==i&&(r.refCount++,i!=null&&ns(i))}function Jn(i,r,o,c){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)kg(i,r,o,c),r=r.sibling}function kg(i,r,o,c){var m=r.flags;switch(r.tag){case 0:case 11:case 15:Jn(i,r,o,c),m&2048&&gs(9,r);break;case 1:Jn(i,r,o,c);break;case 3:Jn(i,r,o,c),m&2048&&(i=null,r.alternate!==null&&(i=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==i&&(r.refCount++,i!=null&&ns(i)));break;case 12:if(m&2048){Jn(i,r,o,c),i=r.stateNode;try{var v=r.memoizedProps,w=v.id,E=v.onPostCommit;typeof E=="function"&&E(w,r.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(I){et(r,r.return,I)}}else Jn(i,r,o,c);break;case 13:Jn(i,r,o,c);break;case 23:break;case 22:v=r.stateNode,w=r.alternate,r.memoizedState!==null?v._visibility&2?Jn(i,r,o,c):xs(i,r):v._visibility&2?Jn(i,r,o,c):(v._visibility|=2,ia(i,r,o,c,(r.subtreeFlags&10256)!==0)),m&2048&&Jc(w,r);break;case 24:Jn(i,r,o,c),m&2048&&Qc(r.alternate,r);break;default:Jn(i,r,o,c)}}function ia(i,r,o,c,m){for(m=m&&(r.subtreeFlags&10256)!==0,r=r.child;r!==null;){var v=i,w=r,E=o,I=c,H=w.flags;switch(w.tag){case 0:case 11:case 15:ia(v,w,E,I,m),gs(8,w);break;case 23:break;case 22:var ee=w.stateNode;w.memoizedState!==null?ee._visibility&2?ia(v,w,E,I,m):xs(v,w):(ee._visibility|=2,ia(v,w,E,I,m)),m&&H&2048&&Jc(w.alternate,w);break;case 24:ia(v,w,E,I,m),m&&H&2048&&Qc(w.alternate,w);break;default:ia(v,w,E,I,m)}r=r.sibling}}function xs(i,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var o=i,c=r,m=c.flags;switch(c.tag){case 22:xs(o,c),m&2048&&Jc(c.alternate,c);break;case 24:xs(o,c),m&2048&&Qc(c.alternate,c);break;default:xs(o,c)}r=r.sibling}}var vs=8192;function ra(i){if(i.subtreeFlags&vs)for(i=i.child;i!==null;)_g(i),i=i.sibling}function _g(i){switch(i.tag){case 26:ra(i),i.flags&vs&&i.memoizedState!==null&&OC(jn,i.memoizedState,i.memoizedProps);break;case 5:ra(i);break;case 3:case 4:var r=jn;jn=Sl(i.stateNode.containerInfo),ra(i),jn=r;break;case 22:i.memoizedState===null&&(r=i.alternate,r!==null&&r.memoizedState!==null?(r=vs,vs=16777216,ra(i),vs=r):ra(i));break;default:ra(i)}}function Ig(i){var r=i.alternate;if(r!==null&&(i=r.child,i!==null)){r.child=null;do r=i.sibling,i.sibling=null,i=r;while(i!==null)}}function bs(i){var r=i.deletions;if((i.flags&16)!==0){if(r!==null)for(var o=0;o<r.length;o++){var c=r[o];It=c,Vg(c,i)}Ig(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)Pg(i),i=i.sibling}function Pg(i){switch(i.tag){case 0:case 11:case 15:bs(i),i.flags&2048&&ki(9,i,i.return);break;case 3:bs(i);break;case 12:bs(i);break;case 22:var r=i.stateNode;i.memoizedState!==null&&r._visibility&2&&(i.return===null||i.return.tag!==13)?(r._visibility&=-3,cl(i)):bs(i);break;default:bs(i)}}function cl(i){var r=i.deletions;if((i.flags&16)!==0){if(r!==null)for(var o=0;o<r.length;o++){var c=r[o];It=c,Vg(c,i)}Ig(i)}for(i=i.child;i!==null;){switch(r=i,r.tag){case 0:case 11:case 15:ki(8,r,r.return),cl(r);break;case 22:o=r.stateNode,o._visibility&2&&(o._visibility&=-3,cl(r));break;default:cl(r)}i=i.sibling}}function Vg(i,r){for(;It!==null;){var o=It;switch(o.tag){case 0:case 11:case 15:ki(8,o,r);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var c=o.memoizedState.cachePool.pool;c!=null&&c.refCount++}break;case 24:ns(o.memoizedState.cache)}if(c=o.child,c!==null)c.return=o,It=c;else e:for(o=i;It!==null;){c=It;var m=c.sibling,v=c.return;if(Ag(c),c===o){It=null;break e}if(m!==null){m.return=v,It=m;break e}It=v}}}var tC={getCacheForType:function(i){var r=zt(Nt),o=r.data.get(i);return o===void 0&&(o=i(),r.data.set(i,o)),o}},nC=typeof WeakMap=="function"?WeakMap:Map,Xe=0,it=null,je=null,ze=0,Je=0,fn=null,Pi=!1,aa=!1,Zc=!1,yi=0,mt=0,Vi=0,br=0,Wc=0,Nn=0,sa=0,Ts=null,en=null,ed=!1,td=0,dl=1/0,fl=null,Li=null,Bt=0,Bi=null,oa=null,la=0,nd=0,id=null,Lg=null,Ss=0,rd=null;function hn(){if((Xe&2)!==0&&ze!==0)return ze&-ze;if(q.T!==null){var i=Xr;return i!==0?i:dd()}return So()}function Bg(){Nn===0&&(Nn=(ze&536870912)===0||Ye?fe():536870912);var i=Mn.current;return i!==null&&(i.flags|=32),Nn}function mn(i,r,o){(i===it&&(Je===2||Je===9)||i.cancelPendingCommit!==null)&&(ua(i,0),ji(i,ze,Nn,!1)),Rt(i,o),((Xe&2)===0||i!==it)&&(i===it&&((Xe&2)===0&&(br|=o),mt===4&&ji(i,ze,Nn,!1)),Qn(i))}function jg(i,r,o){if((Xe&6)!==0)throw Error(a(327));var c=!o&&(r&124)===0&&(r&i.expiredLanes)===0||Kt(i,r),m=c?aC(i,r):od(i,r,!0),v=c;do{if(m===0){aa&&!c&&ji(i,r,0,!1);break}else{if(o=i.current.alternate,v&&!iC(o)){m=od(i,r,!1),v=!1;continue}if(m===2){if(v=r,i.errorRecoveryDisabledLanes&v)var w=0;else w=i.pendingLanes&-536870913,w=w!==0?w:w&536870912?536870912:0;if(w!==0){r=w;e:{var E=i;m=Ts;var I=E.current.memoizedState.isDehydrated;if(I&&(ua(E,w).flags|=256),w=od(E,w,!1),w!==2){if(Zc&&!I){E.errorRecoveryDisabledLanes|=v,br|=v,m=4;break e}v=en,en=m,v!==null&&(en===null?en=v:en.push.apply(en,v))}m=w}if(v=!1,m!==2)continue}}if(m===1){ua(i,0),ji(i,r,0,!0);break}e:{switch(c=i,v=m,v){case 0:case 1:throw Error(a(345));case 4:if((r&4194048)!==r)break;case 6:ji(c,r,Nn,!Pi);break e;case 2:en=null;break;case 3:case 5:break;default:throw Error(a(329))}if((r&62914560)===r&&(m=td+300-nt(),10<m)){if(ji(c,r,Nn,!Pi),yt(c,0,!0)!==0)break e;c.timeoutHandle=hy(Og.bind(null,c,o,en,fl,ed,r,Nn,br,sa,Pi,v,2,-0,0),m);break e}Og(c,o,en,fl,ed,r,Nn,br,sa,Pi,v,0,-0,0)}}break}while(!0);Qn(i)}function Og(i,r,o,c,m,v,w,E,I,H,ee,ne,Y,$){if(i.timeoutHandle=-1,ne=r.subtreeFlags,(ne&8192||(ne&16785408)===16785408)&&(Ds={stylesheets:null,count:0,unsuspend:jC},_g(r),ne=UC(),ne!==null)){i.cancelPendingCommit=ne(Yg.bind(null,i,r,v,o,c,m,w,E,I,ee,1,Y,$)),ji(i,v,w,!H);return}Yg(i,r,v,o,c,m,w,E,I)}function iC(i){for(var r=i;;){var o=r.tag;if((o===0||o===11||o===15)&&r.flags&16384&&(o=r.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var c=0;c<o.length;c++){var m=o[c],v=m.getSnapshot;m=m.value;try{if(!ln(v(),m))return!1}catch{return!1}}if(o=r.child,r.subtreeFlags&16384&&o!==null)o.return=r,r=o;else{if(r===i)break;for(;r.sibling===null;){if(r.return===null||r.return===i)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function ji(i,r,o,c){r&=~Wc,r&=~br,i.suspendedLanes|=r,i.pingedLanes&=~r,c&&(i.warmLanes|=r),c=i.expirationTimes;for(var m=r;0<m;){var v=31-Ce(m),w=1<<v;c[v]=-1,m&=~w}o!==0&&bo(i,o,r)}function hl(){return(Xe&6)===0?(Cs(0),!1):!0}function ad(){if(je!==null){if(Je===0)var i=je.return;else i=je,ui=mr=null,Sc(i),ta=null,hs=0,i=je;for(;i!==null;)xg(i.alternate,i),i=i.return;je=null}}function ua(i,r){var o=i.timeoutHandle;o!==-1&&(i.timeoutHandle=-1,TC(o)),o=i.cancelPendingCommit,o!==null&&(i.cancelPendingCommit=null,o()),ad(),it=i,je=o=si(i.current,null),ze=r,Je=0,fn=null,Pi=!1,aa=Kt(i,r),Zc=!1,sa=Nn=Wc=br=Vi=mt=0,en=Ts=null,ed=!1,(r&8)!==0&&(r|=r&32);var c=i.entangledLanes;if(c!==0)for(i=i.entanglements,c&=r;0<c;){var m=31-Ce(c),v=1<<m;r|=i[m],c&=~v}return yi=r,Vo(),o}function Ug(i,r){Ve=null,q.H=el,r===rs||r===Go?(r=ip(),Je=3):r===ep?(r=ip(),Je=4):Je=r===rg?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,fn=r,je===null&&(mt=1,al(i,Cn(r,i.current)))}function zg(){var i=q.H;return q.H=el,i===null?el:i}function Fg(){var i=q.A;return q.A=tC,i}function sd(){mt=4,Pi||(ze&4194048)!==ze&&Mn.current!==null||(aa=!0),(Vi&134217727)===0&&(br&134217727)===0||it===null||ji(it,ze,Nn,!1)}function od(i,r,o){var c=Xe;Xe|=2;var m=zg(),v=Fg();(it!==i||ze!==r)&&(fl=null,ua(i,r)),r=!1;var w=mt;e:do try{if(Je!==0&&je!==null){var E=je,I=fn;switch(Je){case 8:ad(),w=6;break e;case 3:case 2:case 9:case 6:Mn.current===null&&(r=!0);var H=Je;if(Je=0,fn=null,ca(i,E,I,H),o&&aa){w=0;break e}break;default:H=Je,Je=0,fn=null,ca(i,E,I,H)}}rC(),w=mt;break}catch(ee){Ug(i,ee)}while(!0);return r&&i.shellSuspendCounter++,ui=mr=null,Xe=c,q.H=m,q.A=v,je===null&&(it=null,ze=0,Vo()),w}function rC(){for(;je!==null;)Hg(je)}function aC(i,r){var o=Xe;Xe|=2;var c=zg(),m=Fg();it!==i||ze!==r?(fl=null,dl=nt()+500,ua(i,r)):aa=Kt(i,r);e:do try{if(Je!==0&&je!==null){r=je;var v=fn;t:switch(Je){case 1:Je=0,fn=null,ca(i,r,v,1);break;case 2:case 9:if(tp(v)){Je=0,fn=null,Gg(r);break}r=function(){Je!==2&&Je!==9||it!==i||(Je=7),Qn(i)},v.then(r,r);break e;case 3:Je=7;break e;case 4:Je=5;break e;case 7:tp(v)?(Je=0,fn=null,Gg(r)):(Je=0,fn=null,ca(i,r,v,7));break;case 5:var w=null;switch(je.tag){case 26:w=je.memoizedState;case 5:case 27:var E=je;if(!w||Ey(w)){Je=0,fn=null;var I=E.sibling;if(I!==null)je=I;else{var H=E.return;H!==null?(je=H,ml(H)):je=null}break t}}Je=0,fn=null,ca(i,r,v,5);break;case 6:Je=0,fn=null,ca(i,r,v,6);break;case 8:ad(),mt=6;break e;default:throw Error(a(462))}}sC();break}catch(ee){Ug(i,ee)}while(!0);return ui=mr=null,q.H=c,q.A=m,Xe=o,je!==null?0:(it=null,ze=0,Vo(),mt)}function sC(){for(;je!==null&&!He();)Hg(je)}function Hg(i){var r=gg(i.alternate,i,yi);i.memoizedProps=i.pendingProps,r===null?ml(i):je=r}function Gg(i){var r=i,o=r.alternate;switch(r.tag){case 15:case 0:r=cg(o,r,r.pendingProps,r.type,void 0,ze);break;case 11:r=cg(o,r,r.pendingProps,r.type.render,r.ref,ze);break;case 5:Sc(r);default:xg(o,r),r=je=qm(r,yi),r=gg(o,r,yi)}i.memoizedProps=i.pendingProps,r===null?ml(i):je=r}function ca(i,r,o,c){ui=mr=null,Sc(r),ta=null,hs=0;var m=r.return;try{if(X1(i,m,r,o,ze)){mt=1,al(i,Cn(o,i.current)),je=null;return}}catch(v){if(m!==null)throw je=m,v;mt=1,al(i,Cn(o,i.current)),je=null;return}r.flags&32768?(Ye||c===1?i=!0:aa||(ze&536870912)!==0?i=!1:(Pi=i=!0,(c===2||c===9||c===3||c===6)&&(c=Mn.current,c!==null&&c.tag===13&&(c.flags|=16384))),qg(r,i)):ml(r)}function ml(i){var r=i;do{if((r.flags&32768)!==0){qg(r,Pi);return}i=r.return;var o=Q1(r.alternate,r,yi);if(o!==null){je=o;return}if(r=r.sibling,r!==null){je=r;return}je=r=i}while(r!==null);mt===0&&(mt=5)}function qg(i,r){do{var o=Z1(i.alternate,i);if(o!==null){o.flags&=32767,je=o;return}if(o=i.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!r&&(i=i.sibling,i!==null)){je=i;return}je=i=o}while(i!==null);mt=6,je=null}function Yg(i,r,o,c,m,v,w,E,I){i.cancelPendingCommit=null;do pl();while(Bt!==0);if((Xe&6)!==0)throw Error(a(327));if(r!==null){if(r===i.current)throw Error(a(177));if(v=r.lanes|r.childLanes,v|=Qu,ft(i,o,v,w,E,I),i===it&&(je=it=null,ze=0),oa=r,Bi=i,la=o,nd=v,id=m,Lg=c,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,cC(Hn,function(){return Qg(),null})):(i.callbackNode=null,i.callbackPriority=0),c=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||c){c=q.T,q.T=null,m=L.p,L.p=2,w=Xe,Xe|=4;try{W1(i,r,o)}finally{Xe=w,L.p=m,q.T=c}}Bt=1,Kg(),$g(),Xg()}}function Kg(){if(Bt===1){Bt=0;var i=Bi,r=oa,o=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||o){o=q.T,q.T=null;var c=L.p;L.p=2;var m=Xe;Xe|=4;try{Dg(r,i);var v=vd,w=Vm(i.containerInfo),E=v.focusedElem,I=v.selectionRange;if(w!==E&&E&&E.ownerDocument&&Pm(E.ownerDocument.documentElement,E)){if(I!==null&&Yu(E)){var H=I.start,ee=I.end;if(ee===void 0&&(ee=H),"selectionStart"in E)E.selectionStart=H,E.selectionEnd=Math.min(ee,E.value.length);else{var ne=E.ownerDocument||document,Y=ne&&ne.defaultView||window;if(Y.getSelection){var $=Y.getSelection(),Ne=E.textContent.length,we=Math.min(I.start,Ne),We=I.end===void 0?we:Math.min(I.end,Ne);!$.extend&&we>We&&(w=We,We=we,we=w);var j=Im(E,we),B=Im(E,We);if(j&&B&&($.rangeCount!==1||$.anchorNode!==j.node||$.anchorOffset!==j.offset||$.focusNode!==B.node||$.focusOffset!==B.offset)){var F=ne.createRange();F.setStart(j.node,j.offset),$.removeAllRanges(),we>We?($.addRange(F),$.extend(B.node,B.offset)):(F.setEnd(B.node,B.offset),$.addRange(F))}}}}for(ne=[],$=E;$=$.parentNode;)$.nodeType===1&&ne.push({element:$,left:$.scrollLeft,top:$.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<ne.length;E++){var te=ne[E];te.element.scrollLeft=te.left,te.element.scrollTop=te.top}}Ml=!!xd,vd=xd=null}finally{Xe=m,L.p=c,q.T=o}}i.current=r,Bt=2}}function $g(){if(Bt===2){Bt=0;var i=Bi,r=oa,o=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||o){o=q.T,q.T=null;var c=L.p;L.p=2;var m=Xe;Xe|=4;try{Eg(i,r.alternate,r)}finally{Xe=m,L.p=c,q.T=o}}Bt=3}}function Xg(){if(Bt===4||Bt===3){Bt=0,Mt();var i=Bi,r=oa,o=la,c=Lg;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?Bt=5:(Bt=0,oa=Bi=null,Jg(i,i.pendingLanes));var m=i.pendingLanes;if(m===0&&(Li=null),Ua(o),r=r.stateNode,oe&&typeof oe.onCommitFiberRoot=="function")try{oe.onCommitFiberRoot(W,r,void 0,(r.current.flags&128)===128)}catch{}if(c!==null){r=q.T,m=L.p,L.p=2,q.T=null;try{for(var v=i.onRecoverableError,w=0;w<c.length;w++){var E=c[w];v(E.value,{componentStack:E.stack})}}finally{q.T=r,L.p=m}}(la&3)!==0&&pl(),Qn(i),m=i.pendingLanes,(o&4194090)!==0&&(m&42)!==0?i===rd?Ss++:(Ss=0,rd=i):Ss=0,Cs(0)}}function Jg(i,r){(i.pooledCacheLanes&=r)===0&&(r=i.pooledCache,r!=null&&(i.pooledCache=null,ns(r)))}function pl(i){return Kg(),$g(),Xg(),Qg()}function Qg(){if(Bt!==5)return!1;var i=Bi,r=nd;nd=0;var o=Ua(la),c=q.T,m=L.p;try{L.p=32>o?32:o,q.T=null,o=id,id=null;var v=Bi,w=la;if(Bt=0,oa=Bi=null,la=0,(Xe&6)!==0)throw Error(a(331));var E=Xe;if(Xe|=4,Pg(v.current),kg(v,v.current,w,o),Xe=E,Cs(0,!1),oe&&typeof oe.onPostCommitFiberRoot=="function")try{oe.onPostCommitFiberRoot(W,v)}catch{}return!0}finally{L.p=m,q.T=c,Jg(i,r)}}function Zg(i,r,o){r=Cn(o,r),r=Lc(i.stateNode,r,2),i=Mi(i,r,2),i!==null&&(Rt(i,2),Qn(i))}function et(i,r,o){if(i.tag===3)Zg(i,i,o);else for(;r!==null;){if(r.tag===3){Zg(r,i,o);break}else if(r.tag===1){var c=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(Li===null||!Li.has(c))){i=Cn(o,i),o=ng(2),c=Mi(r,o,2),c!==null&&(ig(o,c,r,i),Rt(c,2),Qn(c));break}}r=r.return}}function ld(i,r,o){var c=i.pingCache;if(c===null){c=i.pingCache=new nC;var m=new Set;c.set(r,m)}else m=c.get(r),m===void 0&&(m=new Set,c.set(r,m));m.has(o)||(Zc=!0,m.add(o),i=oC.bind(null,i,r,o),r.then(i,i))}function oC(i,r,o){var c=i.pingCache;c!==null&&c.delete(r),i.pingedLanes|=i.suspendedLanes&o,i.warmLanes&=~o,it===i&&(ze&o)===o&&(mt===4||mt===3&&(ze&62914560)===ze&&300>nt()-td?(Xe&2)===0&&ua(i,0):Wc|=o,sa===ze&&(sa=0)),Qn(i)}function Wg(i,r){r===0&&(r=be()),i=qr(i,r),i!==null&&(Rt(i,r),Qn(i))}function lC(i){var r=i.memoizedState,o=0;r!==null&&(o=r.retryLane),Wg(i,o)}function uC(i,r){var o=0;switch(i.tag){case 13:var c=i.stateNode,m=i.memoizedState;m!==null&&(o=m.retryLane);break;case 19:c=i.stateNode;break;case 22:c=i.stateNode._retryCache;break;default:throw Error(a(314))}c!==null&&c.delete(r),Wg(i,o)}function cC(i,r){return Fe(i,r)}var gl=null,da=null,ud=!1,yl=!1,cd=!1,Tr=0;function Qn(i){i!==da&&i.next===null&&(da===null?gl=da=i:da=da.next=i),yl=!0,ud||(ud=!0,fC())}function Cs(i,r){if(!cd&&yl){cd=!0;do for(var o=!1,c=gl;c!==null;){if(i!==0){var m=c.pendingLanes;if(m===0)var v=0;else{var w=c.suspendedLanes,E=c.pingedLanes;v=(1<<31-Ce(42|i)+1)-1,v&=m&~(w&~E),v=v&201326741?v&201326741|1:v?v|2:0}v!==0&&(o=!0,iy(c,v))}else v=ze,v=yt(c,c===it?v:0,c.cancelPendingCommit!==null||c.timeoutHandle!==-1),(v&3)===0||Kt(c,v)||(o=!0,iy(c,v));c=c.next}while(o);cd=!1}}function dC(){ey()}function ey(){yl=ud=!1;var i=0;Tr!==0&&(bC()&&(i=Tr),Tr=0);for(var r=nt(),o=null,c=gl;c!==null;){var m=c.next,v=ty(c,r);v===0?(c.next=null,o===null?gl=m:o.next=m,m===null&&(da=o)):(o=c,(i!==0||(v&3)!==0)&&(yl=!0)),c=m}Cs(i)}function ty(i,r){for(var o=i.suspendedLanes,c=i.pingedLanes,m=i.expirationTimes,v=i.pendingLanes&-62914561;0<v;){var w=31-Ce(v),E=1<<w,I=m[w];I===-1?((E&o)===0||(E&c)!==0)&&(m[w]=X(E,r)):I<=r&&(i.expiredLanes|=E),v&=~E}if(r=it,o=ze,o=yt(i,i===r?o:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),c=i.callbackNode,o===0||i===r&&(Je===2||Je===9)||i.cancelPendingCommit!==null)return c!==null&&c!==null&&st(c),i.callbackNode=null,i.callbackPriority=0;if((o&3)===0||Kt(i,o)){if(r=o&-o,r===i.callbackPriority)return r;switch(c!==null&&st(c),Ua(o)){case 2:case 8:o=Ln;break;case 32:o=Hn;break;case 268435456:o=Ir;break;default:o=Hn}return c=ny.bind(null,i),o=Fe(o,c),i.callbackPriority=r,i.callbackNode=o,r}return c!==null&&c!==null&&st(c),i.callbackPriority=2,i.callbackNode=null,2}function ny(i,r){if(Bt!==0&&Bt!==5)return i.callbackNode=null,i.callbackPriority=0,null;var o=i.callbackNode;if(pl()&&i.callbackNode!==o)return null;var c=ze;return c=yt(i,i===it?c:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),c===0?null:(jg(i,c,r),ty(i,nt()),i.callbackNode!=null&&i.callbackNode===o?ny.bind(null,i):null)}function iy(i,r){if(pl())return null;jg(i,r,!0)}function fC(){SC(function(){(Xe&6)!==0?Fe(yn,dC):ey()})}function dd(){return Tr===0&&(Tr=fe()),Tr}function ry(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:No(""+i)}function ay(i,r){var o=r.ownerDocument.createElement("input");return o.name=r.name,o.value=r.value,i.id&&o.setAttribute("form",i.id),r.parentNode.insertBefore(o,r),i=new FormData(i),o.parentNode.removeChild(o),i}function hC(i,r,o,c,m){if(r==="submit"&&o&&o.stateNode===m){var v=ry((m[Vt]||null).action),w=c.submitter;w&&(r=(r=w[Vt]||null)?ry(r.formAction):w.getAttribute("formAction"),r!==null&&(v=r,w=null));var E=new _o("action","action",null,c,m);i.push({event:E,listeners:[{instance:null,listener:function(){if(c.defaultPrevented){if(Tr!==0){var I=w?ay(m,w):new FormData(m);kc(o,{pending:!0,data:I,method:m.method,action:v},null,I)}}else typeof v=="function"&&(E.preventDefault(),I=w?ay(m,w):new FormData(m),kc(o,{pending:!0,data:I,method:m.method,action:v},v,I))},currentTarget:m}]})}}for(var fd=0;fd<Ju.length;fd++){var hd=Ju[fd],mC=hd.toLowerCase(),pC=hd[0].toUpperCase()+hd.slice(1);Bn(mC,"on"+pC)}Bn(jm,"onAnimationEnd"),Bn(Om,"onAnimationIteration"),Bn(Um,"onAnimationStart"),Bn("dblclick","onDoubleClick"),Bn("focusin","onFocus"),Bn("focusout","onBlur"),Bn(_1,"onTransitionRun"),Bn(I1,"onTransitionStart"),Bn(P1,"onTransitionCancel"),Bn(zm,"onTransitionEnd"),Vr("onMouseEnter",["mouseout","mouseover"]),Vr("onMouseLeave",["mouseout","mouseover"]),Vr("onPointerEnter",["pointerout","pointerover"]),Vr("onPointerLeave",["pointerout","pointerover"]),Yn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Yn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Yn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Yn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Yn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Yn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ws="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),gC=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(ws));function sy(i,r){r=(r&4)!==0;for(var o=0;o<i.length;o++){var c=i[o],m=c.event;c=c.listeners;e:{var v=void 0;if(r)for(var w=c.length-1;0<=w;w--){var E=c[w],I=E.instance,H=E.currentTarget;if(E=E.listener,I!==v&&m.isPropagationStopped())break e;v=E,m.currentTarget=H;try{v(m)}catch(ee){rl(ee)}m.currentTarget=null,v=I}else for(w=0;w<c.length;w++){if(E=c[w],I=E.instance,H=E.currentTarget,E=E.listener,I!==v&&m.isPropagationStopped())break e;v=E,m.currentTarget=H;try{v(m)}catch(ee){rl(ee)}m.currentTarget=null,v=I}}}}function Oe(i,r){var o=r[za];o===void 0&&(o=r[za]=new Set);var c=i+"__bubble";o.has(c)||(oy(r,i,2,!1),o.add(c))}function md(i,r,o){var c=0;r&&(c|=4),oy(o,i,c,r)}var xl="_reactListening"+Math.random().toString(36).slice(2);function pd(i){if(!i[xl]){i[xl]=!0,Pr.forEach(function(o){o!=="selectionchange"&&(gC.has(o)||md(o,!1,i),md(o,!0,i))});var r=i.nodeType===9?i:i.ownerDocument;r===null||r[xl]||(r[xl]=!0,md("selectionchange",!1,r))}}function oy(i,r,o,c){switch(ky(r)){case 2:var m=HC;break;case 8:m=GC;break;default:m=Dd}o=m.bind(null,r,o,i),m=void 0,!Bu||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(m=!0),c?m!==void 0?i.addEventListener(r,o,{capture:!0,passive:m}):i.addEventListener(r,o,!0):m!==void 0?i.addEventListener(r,o,{passive:m}):i.addEventListener(r,o,!1)}function gd(i,r,o,c,m){var v=c;if((r&1)===0&&(r&2)===0&&c!==null)e:for(;;){if(c===null)return;var w=c.tag;if(w===3||w===4){var E=c.stateNode.containerInfo;if(E===m)break;if(w===4)for(w=c.return;w!==null;){var I=w.tag;if((I===3||I===4)&&w.stateNode.containerInfo===m)return;w=w.return}for(;E!==null;){if(w=Si(E),w===null)return;if(I=w.tag,I===5||I===6||I===26||I===27){c=v=w;continue e}E=E.parentNode}}c=c.return}mm(function(){var H=v,ee=Vu(o),ne=[];e:{var Y=Fm.get(i);if(Y!==void 0){var $=_o,Ne=i;switch(i){case"keypress":if(Ro(o)===0)break e;case"keydown":case"keyup":$=c1;break;case"focusin":Ne="focus",$=zu;break;case"focusout":Ne="blur",$=zu;break;case"beforeblur":case"afterblur":$=zu;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":$=ym;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":$=ZS;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":$=h1;break;case jm:case Om:case Um:$=t1;break;case zm:$=p1;break;case"scroll":case"scrollend":$=JS;break;case"wheel":$=y1;break;case"copy":case"cut":case"paste":$=i1;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":$=vm;break;case"toggle":case"beforetoggle":$=v1}var we=(r&4)!==0,We=!we&&(i==="scroll"||i==="scrollend"),j=we?Y!==null?Y+"Capture":null:Y;we=[];for(var B=H,F;B!==null;){var te=B;if(F=te.stateNode,te=te.tag,te!==5&&te!==26&&te!==27||F===null||j===null||(te=Ha(B,j),te!=null&&we.push(Es(B,te,F))),We)break;B=B.return}0<we.length&&(Y=new $(Y,Ne,null,o,ee),ne.push({event:Y,listeners:we}))}}if((r&7)===0){e:{if(Y=i==="mouseover"||i==="pointerover",$=i==="mouseout"||i==="pointerout",Y&&o!==Pu&&(Ne=o.relatedTarget||o.fromElement)&&(Si(Ne)||Ne[Ti]))break e;if(($||Y)&&(Y=ee.window===ee?ee:(Y=ee.ownerDocument)?Y.defaultView||Y.parentWindow:window,$?(Ne=o.relatedTarget||o.toElement,$=H,Ne=Ne?Si(Ne):null,Ne!==null&&(We=l(Ne),we=Ne.tag,Ne!==We||we!==5&&we!==27&&we!==6)&&(Ne=null)):($=null,Ne=H),$!==Ne)){if(we=ym,te="onMouseLeave",j="onMouseEnter",B="mouse",(i==="pointerout"||i==="pointerover")&&(we=vm,te="onPointerLeave",j="onPointerEnter",B="pointer"),We=$==null?Y:bn($),F=Ne==null?Y:bn(Ne),Y=new we(te,B+"leave",$,o,ee),Y.target=We,Y.relatedTarget=F,te=null,Si(ee)===H&&(we=new we(j,B+"enter",Ne,o,ee),we.target=F,we.relatedTarget=We,te=we),We=te,$&&Ne)t:{for(we=$,j=Ne,B=0,F=we;F;F=fa(F))B++;for(F=0,te=j;te;te=fa(te))F++;for(;0<B-F;)we=fa(we),B--;for(;0<F-B;)j=fa(j),F--;for(;B--;){if(we===j||j!==null&&we===j.alternate)break t;we=fa(we),j=fa(j)}we=null}else we=null;$!==null&&ly(ne,Y,$,we,!1),Ne!==null&&We!==null&&ly(ne,We,Ne,we,!0)}}e:{if(Y=H?bn(H):window,$=Y.nodeName&&Y.nodeName.toLowerCase(),$==="select"||$==="input"&&Y.type==="file")var xe=Mm;else if(Em(Y))if(Nm)xe=D1;else{xe=M1;var Le=A1}else $=Y.nodeName,!$||$.toLowerCase()!=="input"||Y.type!=="checkbox"&&Y.type!=="radio"?H&&Iu(H.elementType)&&(xe=Mm):xe=N1;if(xe&&(xe=xe(i,H))){Am(ne,xe,o,ee);break e}Le&&Le(i,Y,H),i==="focusout"&&H&&Y.type==="number"&&H.memoizedProps.value!=null&&_u(Y,"number",Y.value)}switch(Le=H?bn(H):window,i){case"focusin":(Em(Le)||Le.contentEditable==="true")&&(Fr=Le,Ku=H,Qa=null);break;case"focusout":Qa=Ku=Fr=null;break;case"mousedown":$u=!0;break;case"contextmenu":case"mouseup":case"dragend":$u=!1,Lm(ne,o,ee);break;case"selectionchange":if(k1)break;case"keydown":case"keyup":Lm(ne,o,ee)}var Te;if(Hu)e:{switch(i){case"compositionstart":var Ee="onCompositionStart";break e;case"compositionend":Ee="onCompositionEnd";break e;case"compositionupdate":Ee="onCompositionUpdate";break e}Ee=void 0}else zr?Cm(i,o)&&(Ee="onCompositionEnd"):i==="keydown"&&o.keyCode===229&&(Ee="onCompositionStart");Ee&&(bm&&o.locale!=="ko"&&(zr||Ee!=="onCompositionStart"?Ee==="onCompositionEnd"&&zr&&(Te=pm()):(Ci=ee,ju="value"in Ci?Ci.value:Ci.textContent,zr=!0)),Le=vl(H,Ee),0<Le.length&&(Ee=new xm(Ee,i,null,o,ee),ne.push({event:Ee,listeners:Le}),Te?Ee.data=Te:(Te=wm(o),Te!==null&&(Ee.data=Te)))),(Te=T1?S1(i,o):C1(i,o))&&(Ee=vl(H,"onBeforeInput"),0<Ee.length&&(Le=new xm("onBeforeInput","beforeinput",null,o,ee),ne.push({event:Le,listeners:Ee}),Le.data=Te)),hC(ne,i,H,o,ee)}sy(ne,r)})}function Es(i,r,o){return{instance:i,listener:r,currentTarget:o}}function vl(i,r){for(var o=r+"Capture",c=[];i!==null;){var m=i,v=m.stateNode;if(m=m.tag,m!==5&&m!==26&&m!==27||v===null||(m=Ha(i,o),m!=null&&c.unshift(Es(i,m,v)),m=Ha(i,r),m!=null&&c.push(Es(i,m,v))),i.tag===3)return c;i=i.return}return[]}function fa(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function ly(i,r,o,c,m){for(var v=r._reactName,w=[];o!==null&&o!==c;){var E=o,I=E.alternate,H=E.stateNode;if(E=E.tag,I!==null&&I===c)break;E!==5&&E!==26&&E!==27||H===null||(I=H,m?(H=Ha(o,v),H!=null&&w.unshift(Es(o,H,I))):m||(H=Ha(o,v),H!=null&&w.push(Es(o,H,I)))),o=o.return}w.length!==0&&i.push({event:r,listeners:w})}var yC=/\r\n?/g,xC=/\u0000|\uFFFD/g;function uy(i){return(typeof i=="string"?i:""+i).replace(yC,`
`).replace(xC,"")}function cy(i,r){return r=uy(r),uy(i)===r}function bl(){}function Ze(i,r,o,c,m,v){switch(o){case"children":typeof c=="string"?r==="body"||r==="textarea"&&c===""||jr(i,c):(typeof c=="number"||typeof c=="bigint")&&r!=="body"&&jr(i,""+c);break;case"className":Eo(i,"class",c);break;case"tabIndex":Eo(i,"tabindex",c);break;case"dir":case"role":case"viewBox":case"width":case"height":Eo(i,o,c);break;case"style":fm(i,c,v);break;case"data":if(r!=="object"){Eo(i,"data",c);break}case"src":case"href":if(c===""&&(r!=="a"||o!=="href")){i.removeAttribute(o);break}if(c==null||typeof c=="function"||typeof c=="symbol"||typeof c=="boolean"){i.removeAttribute(o);break}c=No(""+c),i.setAttribute(o,c);break;case"action":case"formAction":if(typeof c=="function"){i.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof v=="function"&&(o==="formAction"?(r!=="input"&&Ze(i,r,"name",m.name,m,null),Ze(i,r,"formEncType",m.formEncType,m,null),Ze(i,r,"formMethod",m.formMethod,m,null),Ze(i,r,"formTarget",m.formTarget,m,null)):(Ze(i,r,"encType",m.encType,m,null),Ze(i,r,"method",m.method,m,null),Ze(i,r,"target",m.target,m,null)));if(c==null||typeof c=="symbol"||typeof c=="boolean"){i.removeAttribute(o);break}c=No(""+c),i.setAttribute(o,c);break;case"onClick":c!=null&&(i.onclick=bl);break;case"onScroll":c!=null&&Oe("scroll",i);break;case"onScrollEnd":c!=null&&Oe("scrollend",i);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(a(61));if(o=c.__html,o!=null){if(m.children!=null)throw Error(a(60));i.innerHTML=o}}break;case"multiple":i.multiple=c&&typeof c!="function"&&typeof c!="symbol";break;case"muted":i.muted=c&&typeof c!="function"&&typeof c!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(c==null||typeof c=="function"||typeof c=="boolean"||typeof c=="symbol"){i.removeAttribute("xlink:href");break}o=No(""+c),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":c!=null&&typeof c!="function"&&typeof c!="symbol"?i.setAttribute(o,""+c):i.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":c&&typeof c!="function"&&typeof c!="symbol"?i.setAttribute(o,""):i.removeAttribute(o);break;case"capture":case"download":c===!0?i.setAttribute(o,""):c!==!1&&c!=null&&typeof c!="function"&&typeof c!="symbol"?i.setAttribute(o,c):i.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":c!=null&&typeof c!="function"&&typeof c!="symbol"&&!isNaN(c)&&1<=c?i.setAttribute(o,c):i.removeAttribute(o);break;case"rowSpan":case"start":c==null||typeof c=="function"||typeof c=="symbol"||isNaN(c)?i.removeAttribute(o):i.setAttribute(o,c);break;case"popover":Oe("beforetoggle",i),Oe("toggle",i),wo(i,"popover",c);break;case"xlinkActuate":ri(i,"http://www.w3.org/1999/xlink","xlink:actuate",c);break;case"xlinkArcrole":ri(i,"http://www.w3.org/1999/xlink","xlink:arcrole",c);break;case"xlinkRole":ri(i,"http://www.w3.org/1999/xlink","xlink:role",c);break;case"xlinkShow":ri(i,"http://www.w3.org/1999/xlink","xlink:show",c);break;case"xlinkTitle":ri(i,"http://www.w3.org/1999/xlink","xlink:title",c);break;case"xlinkType":ri(i,"http://www.w3.org/1999/xlink","xlink:type",c);break;case"xmlBase":ri(i,"http://www.w3.org/XML/1998/namespace","xml:base",c);break;case"xmlLang":ri(i,"http://www.w3.org/XML/1998/namespace","xml:lang",c);break;case"xmlSpace":ri(i,"http://www.w3.org/XML/1998/namespace","xml:space",c);break;case"is":wo(i,"is",c);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=$S.get(o)||o,wo(i,o,c))}}function yd(i,r,o,c,m,v){switch(o){case"style":fm(i,c,v);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(a(61));if(o=c.__html,o!=null){if(m.children!=null)throw Error(a(60));i.innerHTML=o}}break;case"children":typeof c=="string"?jr(i,c):(typeof c=="number"||typeof c=="bigint")&&jr(i,""+c);break;case"onScroll":c!=null&&Oe("scroll",i);break;case"onScrollEnd":c!=null&&Oe("scrollend",i);break;case"onClick":c!=null&&(i.onclick=bl);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ar.hasOwnProperty(o))e:{if(o[0]==="o"&&o[1]==="n"&&(m=o.endsWith("Capture"),r=o.slice(2,m?o.length-7:void 0),v=i[Vt]||null,v=v!=null?v[o]:null,typeof v=="function"&&i.removeEventListener(r,v,m),typeof c=="function")){typeof v!="function"&&v!==null&&(o in i?i[o]=null:i.hasAttribute(o)&&i.removeAttribute(o)),i.addEventListener(r,c,m);break e}o in i?i[o]=c:c===!0?i.setAttribute(o,""):wo(i,o,c)}}}function jt(i,r,o){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Oe("error",i),Oe("load",i);var c=!1,m=!1,v;for(v in o)if(o.hasOwnProperty(v)){var w=o[v];if(w!=null)switch(v){case"src":c=!0;break;case"srcSet":m=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,r));default:Ze(i,r,v,w,o,null)}}m&&Ze(i,r,"srcSet",o.srcSet,o,null),c&&Ze(i,r,"src",o.src,o,null);return;case"input":Oe("invalid",i);var E=v=w=m=null,I=null,H=null;for(c in o)if(o.hasOwnProperty(c)){var ee=o[c];if(ee!=null)switch(c){case"name":m=ee;break;case"type":w=ee;break;case"checked":I=ee;break;case"defaultChecked":H=ee;break;case"value":v=ee;break;case"defaultValue":E=ee;break;case"children":case"dangerouslySetInnerHTML":if(ee!=null)throw Error(a(137,r));break;default:Ze(i,r,c,ee,o,null)}}lm(i,v,E,I,H,w,m,!1),Ao(i);return;case"select":Oe("invalid",i),c=w=v=null;for(m in o)if(o.hasOwnProperty(m)&&(E=o[m],E!=null))switch(m){case"value":v=E;break;case"defaultValue":w=E;break;case"multiple":c=E;default:Ze(i,r,m,E,o,null)}r=v,o=w,i.multiple=!!c,r!=null?Br(i,!!c,r,!1):o!=null&&Br(i,!!c,o,!0);return;case"textarea":Oe("invalid",i),v=m=c=null;for(w in o)if(o.hasOwnProperty(w)&&(E=o[w],E!=null))switch(w){case"value":c=E;break;case"defaultValue":m=E;break;case"children":v=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(a(91));break;default:Ze(i,r,w,E,o,null)}cm(i,c,m,v),Ao(i);return;case"option":for(I in o)if(o.hasOwnProperty(I)&&(c=o[I],c!=null))switch(I){case"selected":i.selected=c&&typeof c!="function"&&typeof c!="symbol";break;default:Ze(i,r,I,c,o,null)}return;case"dialog":Oe("beforetoggle",i),Oe("toggle",i),Oe("cancel",i),Oe("close",i);break;case"iframe":case"object":Oe("load",i);break;case"video":case"audio":for(c=0;c<ws.length;c++)Oe(ws[c],i);break;case"image":Oe("error",i),Oe("load",i);break;case"details":Oe("toggle",i);break;case"embed":case"source":case"link":Oe("error",i),Oe("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(H in o)if(o.hasOwnProperty(H)&&(c=o[H],c!=null))switch(H){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,r));default:Ze(i,r,H,c,o,null)}return;default:if(Iu(r)){for(ee in o)o.hasOwnProperty(ee)&&(c=o[ee],c!==void 0&&yd(i,r,ee,c,o,void 0));return}}for(E in o)o.hasOwnProperty(E)&&(c=o[E],c!=null&&Ze(i,r,E,c,o,null))}function vC(i,r,o,c){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var m=null,v=null,w=null,E=null,I=null,H=null,ee=null;for($ in o){var ne=o[$];if(o.hasOwnProperty($)&&ne!=null)switch($){case"checked":break;case"value":break;case"defaultValue":I=ne;default:c.hasOwnProperty($)||Ze(i,r,$,null,c,ne)}}for(var Y in c){var $=c[Y];if(ne=o[Y],c.hasOwnProperty(Y)&&($!=null||ne!=null))switch(Y){case"type":v=$;break;case"name":m=$;break;case"checked":H=$;break;case"defaultChecked":ee=$;break;case"value":w=$;break;case"defaultValue":E=$;break;case"children":case"dangerouslySetInnerHTML":if($!=null)throw Error(a(137,r));break;default:$!==ne&&Ze(i,r,Y,$,c,ne)}}ku(i,w,E,I,H,ee,v,m);return;case"select":$=w=E=Y=null;for(v in o)if(I=o[v],o.hasOwnProperty(v)&&I!=null)switch(v){case"value":break;case"multiple":$=I;default:c.hasOwnProperty(v)||Ze(i,r,v,null,c,I)}for(m in c)if(v=c[m],I=o[m],c.hasOwnProperty(m)&&(v!=null||I!=null))switch(m){case"value":Y=v;break;case"defaultValue":E=v;break;case"multiple":w=v;default:v!==I&&Ze(i,r,m,v,c,I)}r=E,o=w,c=$,Y!=null?Br(i,!!o,Y,!1):!!c!=!!o&&(r!=null?Br(i,!!o,r,!0):Br(i,!!o,o?[]:"",!1));return;case"textarea":$=Y=null;for(E in o)if(m=o[E],o.hasOwnProperty(E)&&m!=null&&!c.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:Ze(i,r,E,null,c,m)}for(w in c)if(m=c[w],v=o[w],c.hasOwnProperty(w)&&(m!=null||v!=null))switch(w){case"value":Y=m;break;case"defaultValue":$=m;break;case"children":break;case"dangerouslySetInnerHTML":if(m!=null)throw Error(a(91));break;default:m!==v&&Ze(i,r,w,m,c,v)}um(i,Y,$);return;case"option":for(var Ne in o)if(Y=o[Ne],o.hasOwnProperty(Ne)&&Y!=null&&!c.hasOwnProperty(Ne))switch(Ne){case"selected":i.selected=!1;break;default:Ze(i,r,Ne,null,c,Y)}for(I in c)if(Y=c[I],$=o[I],c.hasOwnProperty(I)&&Y!==$&&(Y!=null||$!=null))switch(I){case"selected":i.selected=Y&&typeof Y!="function"&&typeof Y!="symbol";break;default:Ze(i,r,I,Y,c,$)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var we in o)Y=o[we],o.hasOwnProperty(we)&&Y!=null&&!c.hasOwnProperty(we)&&Ze(i,r,we,null,c,Y);for(H in c)if(Y=c[H],$=o[H],c.hasOwnProperty(H)&&Y!==$&&(Y!=null||$!=null))switch(H){case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(a(137,r));break;default:Ze(i,r,H,Y,c,$)}return;default:if(Iu(r)){for(var We in o)Y=o[We],o.hasOwnProperty(We)&&Y!==void 0&&!c.hasOwnProperty(We)&&yd(i,r,We,void 0,c,Y);for(ee in c)Y=c[ee],$=o[ee],!c.hasOwnProperty(ee)||Y===$||Y===void 0&&$===void 0||yd(i,r,ee,Y,c,$);return}}for(var j in o)Y=o[j],o.hasOwnProperty(j)&&Y!=null&&!c.hasOwnProperty(j)&&Ze(i,r,j,null,c,Y);for(ne in c)Y=c[ne],$=o[ne],!c.hasOwnProperty(ne)||Y===$||Y==null&&$==null||Ze(i,r,ne,Y,c,$)}var xd=null,vd=null;function Tl(i){return i.nodeType===9?i:i.ownerDocument}function dy(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function fy(i,r){if(i===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&r==="foreignObject"?0:i}function bd(i,r){return i==="textarea"||i==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var Td=null;function bC(){var i=window.event;return i&&i.type==="popstate"?i===Td?!1:(Td=i,!0):(Td=null,!1)}var hy=typeof setTimeout=="function"?setTimeout:void 0,TC=typeof clearTimeout=="function"?clearTimeout:void 0,my=typeof Promise=="function"?Promise:void 0,SC=typeof queueMicrotask=="function"?queueMicrotask:typeof my<"u"?function(i){return my.resolve(null).then(i).catch(CC)}:hy;function CC(i){setTimeout(function(){throw i})}function Oi(i){return i==="head"}function py(i,r){var o=r,c=0,m=0;do{var v=o.nextSibling;if(i.removeChild(o),v&&v.nodeType===8)if(o=v.data,o==="/$"){if(0<c&&8>c){o=c;var w=i.ownerDocument;if(o&1&&As(w.documentElement),o&2&&As(w.body),o&4)for(o=w.head,As(o),w=o.firstChild;w;){var E=w.nextSibling,I=w.nodeName;w[rr]||I==="SCRIPT"||I==="STYLE"||I==="LINK"&&w.rel.toLowerCase()==="stylesheet"||o.removeChild(w),w=E}}if(m===0){i.removeChild(v),Ps(r);return}m--}else o==="$"||o==="$?"||o==="$!"?m++:c=o.charCodeAt(0)-48;else c=0;o=v}while(o);Ps(r)}function Sd(i){var r=i.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var o=r;switch(r=r.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":Sd(o),Co(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}i.removeChild(o)}}function wC(i,r,o,c){for(;i.nodeType===1;){var m=o;if(i.nodeName.toLowerCase()!==r.toLowerCase()){if(!c&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(c){if(!i[rr])switch(r){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(v=i.getAttribute("rel"),v==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(v!==m.rel||i.getAttribute("href")!==(m.href==null||m.href===""?null:m.href)||i.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin)||i.getAttribute("title")!==(m.title==null?null:m.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(v=i.getAttribute("src"),(v!==(m.src==null?null:m.src)||i.getAttribute("type")!==(m.type==null?null:m.type)||i.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin))&&v&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(r==="input"&&i.type==="hidden"){var v=m.name==null?null:""+m.name;if(m.type==="hidden"&&i.getAttribute("name")===v)return i}else return i;if(i=On(i.nextSibling),i===null)break}return null}function EC(i,r,o){if(r==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!o||(i=On(i.nextSibling),i===null))return null;return i}function Cd(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState==="complete"}function AC(i,r){var o=i.ownerDocument;if(i.data!=="$?"||o.readyState==="complete")r();else{var c=function(){r(),o.removeEventListener("DOMContentLoaded",c)};o.addEventListener("DOMContentLoaded",c),i._reactRetry=c}}function On(i){for(;i!=null;i=i.nextSibling){var r=i.nodeType;if(r===1||r===3)break;if(r===8){if(r=i.data,r==="$"||r==="$!"||r==="$?"||r==="F!"||r==="F")break;if(r==="/$")return null}}return i}var wd=null;function gy(i){i=i.previousSibling;for(var r=0;i;){if(i.nodeType===8){var o=i.data;if(o==="$"||o==="$!"||o==="$?"){if(r===0)return i;r--}else o==="/$"&&r++}i=i.previousSibling}return null}function yy(i,r,o){switch(r=Tl(o),i){case"html":if(i=r.documentElement,!i)throw Error(a(452));return i;case"head":if(i=r.head,!i)throw Error(a(453));return i;case"body":if(i=r.body,!i)throw Error(a(454));return i;default:throw Error(a(451))}}function As(i){for(var r=i.attributes;r.length;)i.removeAttributeNode(r[0]);Co(i)}var Dn=new Map,xy=new Set;function Sl(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var xi=L.d;L.d={f:MC,r:NC,D:DC,C:RC,L:kC,m:_C,X:PC,S:IC,M:VC};function MC(){var i=xi.f(),r=hl();return i||r}function NC(i){var r=kt(i);r!==null&&r.tag===5&&r.type==="form"?jp(r):xi.r(i)}var ha=typeof document>"u"?null:document;function vy(i,r,o){var c=ha;if(c&&typeof r=="string"&&r){var m=Sn(r);m='link[rel="'+i+'"][href="'+m+'"]',typeof o=="string"&&(m+='[crossorigin="'+o+'"]'),xy.has(m)||(xy.add(m),i={rel:i,crossOrigin:o,href:r},c.querySelector(m)===null&&(r=c.createElement("link"),jt(r,"link",i),St(r),c.head.appendChild(r)))}}function DC(i){xi.D(i),vy("dns-prefetch",i,null)}function RC(i,r){xi.C(i,r),vy("preconnect",i,r)}function kC(i,r,o){xi.L(i,r,o);var c=ha;if(c&&i&&r){var m='link[rel="preload"][as="'+Sn(r)+'"]';r==="image"&&o&&o.imageSrcSet?(m+='[imagesrcset="'+Sn(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(m+='[imagesizes="'+Sn(o.imageSizes)+'"]')):m+='[href="'+Sn(i)+'"]';var v=m;switch(r){case"style":v=ma(i);break;case"script":v=pa(i)}Dn.has(v)||(i=p({rel:"preload",href:r==="image"&&o&&o.imageSrcSet?void 0:i,as:r},o),Dn.set(v,i),c.querySelector(m)!==null||r==="style"&&c.querySelector(Ms(v))||r==="script"&&c.querySelector(Ns(v))||(r=c.createElement("link"),jt(r,"link",i),St(r),c.head.appendChild(r)))}}function _C(i,r){xi.m(i,r);var o=ha;if(o&&i){var c=r&&typeof r.as=="string"?r.as:"script",m='link[rel="modulepreload"][as="'+Sn(c)+'"][href="'+Sn(i)+'"]',v=m;switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":v=pa(i)}if(!Dn.has(v)&&(i=p({rel:"modulepreload",href:i},r),Dn.set(v,i),o.querySelector(m)===null)){switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(Ns(v)))return}c=o.createElement("link"),jt(c,"link",i),St(c),o.head.appendChild(c)}}}function IC(i,r,o){xi.S(i,r,o);var c=ha;if(c&&i){var m=qn(c).hoistableStyles,v=ma(i);r=r||"default";var w=m.get(v);if(!w){var E={loading:0,preload:null};if(w=c.querySelector(Ms(v)))E.loading=5;else{i=p({rel:"stylesheet",href:i,"data-precedence":r},o),(o=Dn.get(v))&&Ed(i,o);var I=w=c.createElement("link");St(I),jt(I,"link",i),I._p=new Promise(function(H,ee){I.onload=H,I.onerror=ee}),I.addEventListener("load",function(){E.loading|=1}),I.addEventListener("error",function(){E.loading|=2}),E.loading|=4,Cl(w,r,c)}w={type:"stylesheet",instance:w,count:1,state:E},m.set(v,w)}}}function PC(i,r){xi.X(i,r);var o=ha;if(o&&i){var c=qn(o).hoistableScripts,m=pa(i),v=c.get(m);v||(v=o.querySelector(Ns(m)),v||(i=p({src:i,async:!0},r),(r=Dn.get(m))&&Ad(i,r),v=o.createElement("script"),St(v),jt(v,"link",i),o.head.appendChild(v)),v={type:"script",instance:v,count:1,state:null},c.set(m,v))}}function VC(i,r){xi.M(i,r);var o=ha;if(o&&i){var c=qn(o).hoistableScripts,m=pa(i),v=c.get(m);v||(v=o.querySelector(Ns(m)),v||(i=p({src:i,async:!0,type:"module"},r),(r=Dn.get(m))&&Ad(i,r),v=o.createElement("script"),St(v),jt(v,"link",i),o.head.appendChild(v)),v={type:"script",instance:v,count:1,state:null},c.set(m,v))}}function by(i,r,o,c){var m=(m=de.current)?Sl(m):null;if(!m)throw Error(a(446));switch(i){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(r=ma(o.href),o=qn(m).hoistableStyles,c=o.get(r),c||(c={type:"style",instance:null,count:0,state:null},o.set(r,c)),c):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){i=ma(o.href);var v=qn(m).hoistableStyles,w=v.get(i);if(w||(m=m.ownerDocument||m,w={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},v.set(i,w),(v=m.querySelector(Ms(i)))&&!v._p&&(w.instance=v,w.state.loading=5),Dn.has(i)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},Dn.set(i,o),v||LC(m,i,o,w.state))),r&&c===null)throw Error(a(528,""));return w}if(r&&c!==null)throw Error(a(529,""));return null;case"script":return r=o.async,o=o.src,typeof o=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=pa(o),o=qn(m).hoistableScripts,c=o.get(r),c||(c={type:"script",instance:null,count:0,state:null},o.set(r,c)),c):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,i))}}function ma(i){return'href="'+Sn(i)+'"'}function Ms(i){return'link[rel="stylesheet"]['+i+"]"}function Ty(i){return p({},i,{"data-precedence":i.precedence,precedence:null})}function LC(i,r,o,c){i.querySelector('link[rel="preload"][as="style"]['+r+"]")?c.loading=1:(r=i.createElement("link"),c.preload=r,r.addEventListener("load",function(){return c.loading|=1}),r.addEventListener("error",function(){return c.loading|=2}),jt(r,"link",o),St(r),i.head.appendChild(r))}function pa(i){return'[src="'+Sn(i)+'"]'}function Ns(i){return"script[async]"+i}function Sy(i,r,o){if(r.count++,r.instance===null)switch(r.type){case"style":var c=i.querySelector('style[data-href~="'+Sn(o.href)+'"]');if(c)return r.instance=c,St(c),c;var m=p({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return c=(i.ownerDocument||i).createElement("style"),St(c),jt(c,"style",m),Cl(c,o.precedence,i),r.instance=c;case"stylesheet":m=ma(o.href);var v=i.querySelector(Ms(m));if(v)return r.state.loading|=4,r.instance=v,St(v),v;c=Ty(o),(m=Dn.get(m))&&Ed(c,m),v=(i.ownerDocument||i).createElement("link"),St(v);var w=v;return w._p=new Promise(function(E,I){w.onload=E,w.onerror=I}),jt(v,"link",c),r.state.loading|=4,Cl(v,o.precedence,i),r.instance=v;case"script":return v=pa(o.src),(m=i.querySelector(Ns(v)))?(r.instance=m,St(m),m):(c=o,(m=Dn.get(v))&&(c=p({},o),Ad(c,m)),i=i.ownerDocument||i,m=i.createElement("script"),St(m),jt(m,"link",c),i.head.appendChild(m),r.instance=m);case"void":return null;default:throw Error(a(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(c=r.instance,r.state.loading|=4,Cl(c,o.precedence,i));return r.instance}function Cl(i,r,o){for(var c=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),m=c.length?c[c.length-1]:null,v=m,w=0;w<c.length;w++){var E=c[w];if(E.dataset.precedence===r)v=E;else if(v!==m)break}v?v.parentNode.insertBefore(i,v.nextSibling):(r=o.nodeType===9?o.head:o,r.insertBefore(i,r.firstChild))}function Ed(i,r){i.crossOrigin==null&&(i.crossOrigin=r.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=r.referrerPolicy),i.title==null&&(i.title=r.title)}function Ad(i,r){i.crossOrigin==null&&(i.crossOrigin=r.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=r.referrerPolicy),i.integrity==null&&(i.integrity=r.integrity)}var wl=null;function Cy(i,r,o){if(wl===null){var c=new Map,m=wl=new Map;m.set(o,c)}else m=wl,c=m.get(o),c||(c=new Map,m.set(o,c));if(c.has(i))return c;for(c.set(i,null),o=o.getElementsByTagName(i),m=0;m<o.length;m++){var v=o[m];if(!(v[rr]||v[xt]||i==="link"&&v.getAttribute("rel")==="stylesheet")&&v.namespaceURI!=="http://www.w3.org/2000/svg"){var w=v.getAttribute(r)||"";w=i+w;var E=c.get(w);E?E.push(v):c.set(w,[v])}}return c}function wy(i,r,o){i=i.ownerDocument||i,i.head.insertBefore(o,r==="title"?i.querySelector("head > title"):null)}function BC(i,r,o){if(o===1||r.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;switch(r.rel){case"stylesheet":return i=r.disabled,typeof r.precedence=="string"&&i==null;default:return!0}case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function Ey(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}var Ds=null;function jC(){}function OC(i,r,o){if(Ds===null)throw Error(a(475));var c=Ds;if(r.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var m=ma(o.href),v=i.querySelector(Ms(m));if(v){i=v._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(c.count++,c=El.bind(c),i.then(c,c)),r.state.loading|=4,r.instance=v,St(v);return}v=i.ownerDocument||i,o=Ty(o),(m=Dn.get(m))&&Ed(o,m),v=v.createElement("link"),St(v);var w=v;w._p=new Promise(function(E,I){w.onload=E,w.onerror=I}),jt(v,"link",o),r.instance=v}c.stylesheets===null&&(c.stylesheets=new Map),c.stylesheets.set(r,i),(i=r.state.preload)&&(r.state.loading&3)===0&&(c.count++,r=El.bind(c),i.addEventListener("load",r),i.addEventListener("error",r))}}function UC(){if(Ds===null)throw Error(a(475));var i=Ds;return i.stylesheets&&i.count===0&&Md(i,i.stylesheets),0<i.count?function(r){var o=setTimeout(function(){if(i.stylesheets&&Md(i,i.stylesheets),i.unsuspend){var c=i.unsuspend;i.unsuspend=null,c()}},6e4);return i.unsuspend=r,function(){i.unsuspend=null,clearTimeout(o)}}:null}function El(){if(this.count--,this.count===0){if(this.stylesheets)Md(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var Al=null;function Md(i,r){i.stylesheets=null,i.unsuspend!==null&&(i.count++,Al=new Map,r.forEach(zC,i),Al=null,El.call(i))}function zC(i,r){if(!(r.state.loading&4)){var o=Al.get(i);if(o)var c=o.get(null);else{o=new Map,Al.set(i,o);for(var m=i.querySelectorAll("link[data-precedence],style[data-precedence]"),v=0;v<m.length;v++){var w=m[v];(w.nodeName==="LINK"||w.getAttribute("media")!=="not all")&&(o.set(w.dataset.precedence,w),c=w)}c&&o.set(null,c)}m=r.instance,w=m.getAttribute("data-precedence"),v=o.get(w)||c,v===c&&o.set(null,m),o.set(w,m),this.count++,c=El.bind(this),m.addEventListener("load",c),m.addEventListener("error",c),v?v.parentNode.insertBefore(m,v.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(m,i.firstChild)),r.state.loading|=4}}var Rs={$$typeof:P,Provider:null,Consumer:null,_currentValue:N,_currentValue2:N,_threadCount:0};function FC(i,r,o,c,m,v,w,E){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ue(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ue(0),this.hiddenUpdates=Ue(null),this.identifierPrefix=c,this.onUncaughtError=m,this.onCaughtError=v,this.onRecoverableError=w,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=E,this.incompleteTransitions=new Map}function Ay(i,r,o,c,m,v,w,E,I,H,ee,ne){return i=new FC(i,r,o,w,E,I,H,ne),r=1,v===!0&&(r|=24),v=un(3,null,null,r),i.current=v,v.stateNode=i,r=lc(),r.refCount++,i.pooledCache=r,r.refCount++,v.memoizedState={element:c,isDehydrated:o,cache:r},fc(v),i}function My(i){return i?(i=Yr,i):Yr}function Ny(i,r,o,c,m,v){m=My(m),c.context===null?c.context=m:c.pendingContext=m,c=Ai(r),c.payload={element:o},v=v===void 0?null:v,v!==null&&(c.callback=v),o=Mi(i,c,r),o!==null&&(mn(o,i,r),ss(o,i,r))}function Dy(i,r){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var o=i.retryLane;i.retryLane=o!==0&&o<r?o:r}}function Nd(i,r){Dy(i,r),(i=i.alternate)&&Dy(i,r)}function Ry(i){if(i.tag===13){var r=qr(i,67108864);r!==null&&mn(r,i,67108864),Nd(i,67108864)}}var Ml=!0;function HC(i,r,o,c){var m=q.T;q.T=null;var v=L.p;try{L.p=2,Dd(i,r,o,c)}finally{L.p=v,q.T=m}}function GC(i,r,o,c){var m=q.T;q.T=null;var v=L.p;try{L.p=8,Dd(i,r,o,c)}finally{L.p=v,q.T=m}}function Dd(i,r,o,c){if(Ml){var m=Rd(c);if(m===null)gd(i,r,c,Nl,o),_y(i,c);else if(YC(m,i,r,o,c))c.stopPropagation();else if(_y(i,c),r&4&&-1<qC.indexOf(i)){for(;m!==null;){var v=kt(m);if(v!==null)switch(v.tag){case 3:if(v=v.stateNode,v.current.memoizedState.isDehydrated){var w=ot(v.pendingLanes);if(w!==0){var E=v;for(E.pendingLanes|=2,E.entangledLanes|=2;w;){var I=1<<31-Ce(w);E.entanglements[1]|=I,w&=~I}Qn(v),(Xe&6)===0&&(dl=nt()+500,Cs(0))}}break;case 13:E=qr(v,2),E!==null&&mn(E,v,2),hl(),Nd(v,2)}if(v=Rd(c),v===null&&gd(i,r,c,Nl,o),v===m)break;m=v}m!==null&&c.stopPropagation()}else gd(i,r,c,null,o)}}function Rd(i){return i=Vu(i),kd(i)}var Nl=null;function kd(i){if(Nl=null,i=Si(i),i!==null){var r=l(i);if(r===null)i=null;else{var o=r.tag;if(o===13){if(i=u(r),i!==null)return i;i=null}else if(o===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;i=null}else r!==i&&(i=null)}}return Nl=i,null}function ky(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(on()){case yn:return 2;case Ln:return 8;case Hn:case La:return 32;case Ir:return 268435456;default:return 32}default:return 32}}var _d=!1,Ui=null,zi=null,Fi=null,ks=new Map,_s=new Map,Hi=[],qC="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function _y(i,r){switch(i){case"focusin":case"focusout":Ui=null;break;case"dragenter":case"dragleave":zi=null;break;case"mouseover":case"mouseout":Fi=null;break;case"pointerover":case"pointerout":ks.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":_s.delete(r.pointerId)}}function Is(i,r,o,c,m,v){return i===null||i.nativeEvent!==v?(i={blockedOn:r,domEventName:o,eventSystemFlags:c,nativeEvent:v,targetContainers:[m]},r!==null&&(r=kt(r),r!==null&&Ry(r)),i):(i.eventSystemFlags|=c,r=i.targetContainers,m!==null&&r.indexOf(m)===-1&&r.push(m),i)}function YC(i,r,o,c,m){switch(r){case"focusin":return Ui=Is(Ui,i,r,o,c,m),!0;case"dragenter":return zi=Is(zi,i,r,o,c,m),!0;case"mouseover":return Fi=Is(Fi,i,r,o,c,m),!0;case"pointerover":var v=m.pointerId;return ks.set(v,Is(ks.get(v)||null,i,r,o,c,m)),!0;case"gotpointercapture":return v=m.pointerId,_s.set(v,Is(_s.get(v)||null,i,r,o,c,m)),!0}return!1}function Iy(i){var r=Si(i.target);if(r!==null){var o=l(r);if(o!==null){if(r=o.tag,r===13){if(r=u(o),r!==null){i.blockedOn=r,Eu(i.priority,function(){if(o.tag===13){var c=hn();c=Oa(c);var m=qr(o,c);m!==null&&mn(m,o,c),Nd(o,c)}});return}}else if(r===3&&o.stateNode.current.memoizedState.isDehydrated){i.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}i.blockedOn=null}function Dl(i){if(i.blockedOn!==null)return!1;for(var r=i.targetContainers;0<r.length;){var o=Rd(i.nativeEvent);if(o===null){o=i.nativeEvent;var c=new o.constructor(o.type,o);Pu=c,o.target.dispatchEvent(c),Pu=null}else return r=kt(o),r!==null&&Ry(r),i.blockedOn=o,!1;r.shift()}return!0}function Py(i,r,o){Dl(i)&&o.delete(r)}function KC(){_d=!1,Ui!==null&&Dl(Ui)&&(Ui=null),zi!==null&&Dl(zi)&&(zi=null),Fi!==null&&Dl(Fi)&&(Fi=null),ks.forEach(Py),_s.forEach(Py)}function Rl(i,r){i.blockedOn===r&&(i.blockedOn=null,_d||(_d=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,KC)))}var kl=null;function Vy(i){kl!==i&&(kl=i,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){kl===i&&(kl=null);for(var r=0;r<i.length;r+=3){var o=i[r],c=i[r+1],m=i[r+2];if(typeof c!="function"){if(kd(c||o)===null)continue;break}var v=kt(o);v!==null&&(i.splice(r,3),r-=3,kc(v,{pending:!0,data:m,method:o.method,action:c},c,m))}}))}function Ps(i){function r(I){return Rl(I,i)}Ui!==null&&Rl(Ui,i),zi!==null&&Rl(zi,i),Fi!==null&&Rl(Fi,i),ks.forEach(r),_s.forEach(r);for(var o=0;o<Hi.length;o++){var c=Hi[o];c.blockedOn===i&&(c.blockedOn=null)}for(;0<Hi.length&&(o=Hi[0],o.blockedOn===null);)Iy(o),o.blockedOn===null&&Hi.shift();if(o=(i.ownerDocument||i).$$reactFormReplay,o!=null)for(c=0;c<o.length;c+=3){var m=o[c],v=o[c+1],w=m[Vt]||null;if(typeof v=="function")w||Vy(o);else if(w){var E=null;if(v&&v.hasAttribute("formAction")){if(m=v,w=v[Vt]||null)E=w.formAction;else if(kd(m)!==null)continue}else E=w.action;typeof E=="function"?o[c+1]=E:(o.splice(c,3),c-=3),Vy(o)}}}function Id(i){this._internalRoot=i}_l.prototype.render=Id.prototype.render=function(i){var r=this._internalRoot;if(r===null)throw Error(a(409));var o=r.current,c=hn();Ny(o,c,i,r,null,null)},_l.prototype.unmount=Id.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var r=i.containerInfo;Ny(i.current,2,null,i,null,null),hl(),r[Ti]=null}};function _l(i){this._internalRoot=i}_l.prototype.unstable_scheduleHydration=function(i){if(i){var r=So();i={blockedOn:null,target:i,priority:r};for(var o=0;o<Hi.length&&r!==0&&r<Hi[o].priority;o++);Hi.splice(o,0,i),o===0&&Iy(i)}};var Ly=e.version;if(Ly!=="19.1.0")throw Error(a(527,Ly,"19.1.0"));L.findDOMNode=function(i){var r=i._reactInternals;if(r===void 0)throw typeof i.render=="function"?Error(a(188)):(i=Object.keys(i).join(","),Error(a(268,i)));return i=h(r),i=i!==null?f(i):null,i=i===null?null:i.stateNode,i};var $C={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:q,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Il=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Il.isDisabled&&Il.supportsFiber)try{W=Il.inject($C),oe=Il}catch{}}return Ls.createRoot=function(i,r){if(!s(i))throw Error(a(299));var o=!1,c="",m=Zp,v=Wp,w=eg,E=null;return r!=null&&(r.unstable_strictMode===!0&&(o=!0),r.identifierPrefix!==void 0&&(c=r.identifierPrefix),r.onUncaughtError!==void 0&&(m=r.onUncaughtError),r.onCaughtError!==void 0&&(v=r.onCaughtError),r.onRecoverableError!==void 0&&(w=r.onRecoverableError),r.unstable_transitionCallbacks!==void 0&&(E=r.unstable_transitionCallbacks)),r=Ay(i,1,!1,null,null,o,c,m,v,w,E,null),i[Ti]=r.current,pd(i),new Id(r)},Ls.hydrateRoot=function(i,r,o){if(!s(i))throw Error(a(299));var c=!1,m="",v=Zp,w=Wp,E=eg,I=null,H=null;return o!=null&&(o.unstable_strictMode===!0&&(c=!0),o.identifierPrefix!==void 0&&(m=o.identifierPrefix),o.onUncaughtError!==void 0&&(v=o.onUncaughtError),o.onCaughtError!==void 0&&(w=o.onCaughtError),o.onRecoverableError!==void 0&&(E=o.onRecoverableError),o.unstable_transitionCallbacks!==void 0&&(I=o.unstable_transitionCallbacks),o.formState!==void 0&&(H=o.formState)),r=Ay(i,1,!0,r,o??null,c,m,v,w,E,I,H),r.context=My(null),o=r.current,c=hn(),c=Oa(c),m=Ai(c),m.callback=null,Mi(o,m,c),o=c,r.current.lanes=o,Rt(r,o),Qn(r),i[Ti]=r.current,pd(i),new _l(r)},Ls.version="19.1.0",Ls}var Yy;function aw(){if(Yy)return Ld.exports;Yy=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Ld.exports=rw(),Ld.exports}var sw=aw();const ow=fo(sw);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let lw,uw;function cw(){return{geminiUrl:lw,vertexUrl:uw}}function dw(t,e,n){var a,s,l;if(!(!((a=t.httpOptions)===null||a===void 0)&&a.baseUrl)){const u=cw();return t.vertexai?(s=u.vertexUrl)!==null&&s!==void 0?s:e:(l=u.geminiUrl)!==null&&l!==void 0?l:n}return t.httpOptions.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class ho{}function ke(t,e){const n=/\{([^}]+)\}/g;return t.replace(n,(a,s)=>{if(Object.prototype.hasOwnProperty.call(e,s)){const l=e[s];return l!=null?String(l):""}else throw new Error(`Key '${s}' not found in valueMap.`)})}function x(t,e,n){for(let l=0;l<e.length-1;l++){const u=e[l];if(u.endsWith("[]")){const d=u.slice(0,-2);if(!(d in t))if(Array.isArray(n))t[d]=Array.from({length:n.length},()=>({}));else throw new Error(`Value must be a list given an array path ${u}`);if(Array.isArray(t[d])){const h=t[d];if(Array.isArray(n))for(let f=0;f<h.length;f++){const p=h[f];x(p,e.slice(l+1),n[f])}else for(const f of h)x(f,e.slice(l+1),n)}return}else if(u.endsWith("[0]")){const d=u.slice(0,-3);d in t||(t[d]=[{}]);const h=t[d];x(h[0],e.slice(l+1),n);return}(!t[u]||typeof t[u]!="object")&&(t[u]={}),t=t[u]}const a=e[e.length-1],s=t[a];if(s!==void 0){if(!n||typeof n=="object"&&Object.keys(n).length===0||n===s)return;if(typeof s=="object"&&typeof n=="object"&&s!==null&&n!==null)Object.assign(s,n);else throw new Error(`Cannot set value for an existing key. Key: ${a}`)}else t[a]=n}function y(t,e){try{if(e.length===1&&e[0]==="_self")return t;for(let n=0;n<e.length;n++){if(typeof t!="object"||t===null)return;const a=e[n];if(a.endsWith("[]")){const s=a.slice(0,-2);if(s in t){const l=t[s];return Array.isArray(l)?l.map(u=>y(u,e.slice(n+1))):void 0}else return}else t=t[a]}return t}catch(n){if(n instanceof TypeError)return;throw n}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function gt(t,e){if(!e||typeof e!="string")throw new Error("model is required and must be a string");if(t.isVertexAI()){if(e.startsWith("publishers/")||e.startsWith("projects/")||e.startsWith("models/"))return e;if(e.indexOf("/")>=0){const n=e.split("/",2);return`publishers/${n[0]}/models/${n[1]}`}else return`publishers/google/models/${e}`}else return e.startsWith("models/")||e.startsWith("tunedModels/")?e:`models/${e}`}function ob(t,e){const n=gt(t,e);return n?n.startsWith("publishers/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}`:n.startsWith("models/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/publishers/google/${n}`:n:""}function lb(t,e){return Array.isArray(e)?e.map(n=>tu(t,n)):[tu(t,e)]}function tu(t,e){if(typeof e=="object"&&e!==null)return e;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof e}`)}function fw(t,e){const n=tu(t,e);if(n.mimeType&&n.mimeType.startsWith("image/"))return n;throw new Error(`Unsupported mime type: ${n.mimeType}`)}function hw(t,e){const n=tu(t,e);if(n.mimeType&&n.mimeType.startsWith("audio/"))return n;throw new Error(`Unsupported mime type: ${n.mimeType}`)}function Ky(t,e){if(e==null)throw new Error("PartUnion is required");if(typeof e=="object")return e;if(typeof e=="string")return{text:e};throw new Error(`Unsupported part type: ${typeof e}`)}function ub(t,e){if(e==null||Array.isArray(e)&&e.length===0)throw new Error("PartListUnion is required");return Array.isArray(e)?e.map(n=>Ky(t,n)):[Ky(t,e)]}function xf(t){return t!=null&&typeof t=="object"&&"parts"in t&&Array.isArray(t.parts)}function $y(t){return t!=null&&typeof t=="object"&&"functionCall"in t}function Xy(t){return t!=null&&typeof t=="object"&&"functionResponse"in t}function nn(t,e){if(e==null)throw new Error("ContentUnion is required");return xf(e)?e:{role:"user",parts:ub(t,e)}}function cb(t,e){if(!e)return[];if(t.isVertexAI()&&Array.isArray(e))return e.flatMap(n=>{const a=nn(t,n);return a.parts&&a.parts.length>0&&a.parts[0].text!==void 0?[a.parts[0].text]:[]});if(t.isVertexAI()){const n=nn(t,e);return n.parts&&n.parts.length>0&&n.parts[0].text!==void 0?[n.parts[0].text]:[]}return Array.isArray(e)?e.map(n=>nn(t,n)):[nn(t,e)]}function Wi(t,e){if(e==null||Array.isArray(e)&&e.length===0)throw new Error("contents are required");if(!Array.isArray(e)){if($y(e)||Xy(e))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[nn(t,e)]}const n=[],a=[],s=xf(e[0]);for(const l of e){const u=xf(l);if(u!=s)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(u)n.push(l);else{if($y(l)||Xy(l))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");a.push(l)}}return s||n.push({role:"user",parts:ub(t,a)}),n}function db(t,e){return e}function fb(t,e){if(typeof e=="object")return e;if(typeof e=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:e}}};throw new Error(`Unsupported speechConfig type: ${typeof e}`)}function gu(t,e){return e}function yu(t,e){if(!Array.isArray(e))throw new Error("tool is required and must be an array of Tools");return e}function mw(t,e,n,a=1){const s=!e.startsWith(`${n}/`)&&e.split("/").length===a;return t.isVertexAI()?e.startsWith("projects/")?e:e.startsWith("locations/")?`projects/${t.getProject()}/${e}`:e.startsWith(`${n}/`)?`projects/${t.getProject()}/locations/${t.getLocation()}/${e}`:s?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}/${e}`:e:s?`${n}/${e}`:e}function er(t,e){if(typeof e!="string")throw new Error("name must be a string");return mw(t,e,"cachedContents")}function hb(t,e){switch(e){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return e}}function tr(t,e){if(typeof e!="string")throw new Error("fromImageBytes must be a string");return e}function mb(t,e){if(typeof e!="string")throw new Error("fromName must be a string");return e.startsWith("files/")?e.split("files/")[1]:e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function pw(t,e){const n={};if(y(e,["videoMetadata"])!==void 0)throw new Error("videoMetadata parameter is not supported in Gemini API.");const a=y(e,["thought"]);a!=null&&x(n,["thought"],a);const s=y(e,["codeExecutionResult"]);s!=null&&x(n,["codeExecutionResult"],s);const l=y(e,["executableCode"]);l!=null&&x(n,["executableCode"],l);const u=y(e,["fileData"]);u!=null&&x(n,["fileData"],u);const d=y(e,["functionCall"]);d!=null&&x(n,["functionCall"],d);const h=y(e,["functionResponse"]);h!=null&&x(n,["functionResponse"],h);const f=y(e,["inlineData"]);f!=null&&x(n,["inlineData"],f);const p=y(e,["text"]);return p!=null&&x(n,["text"],p),n}function Jy(t,e){const n={},a=y(e,["parts"]);if(a!=null){let l=a;Array.isArray(l)&&(l=l.map(u=>pw(t,u))),x(n,["parts"],l)}const s=y(e,["role"]);return s!=null&&x(n,["role"],s),n}function gw(){return{}}function yw(t,e){const n={},a=y(e,["mode"]);a!=null&&x(n,["mode"],a);const s=y(e,["dynamicThreshold"]);return s!=null&&x(n,["dynamicThreshold"],s),n}function xw(t,e){const n={},a=y(e,["dynamicRetrievalConfig"]);return a!=null&&x(n,["dynamicRetrievalConfig"],yw(t,a)),n}function vw(t,e){const n={};if(y(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");y(e,["googleSearch"])!=null&&x(n,["googleSearch"],gw());const s=y(e,["googleSearchRetrieval"]);s!=null&&x(n,["googleSearchRetrieval"],xw(t,s));const l=y(e,["codeExecution"]);l!=null&&x(n,["codeExecution"],l);const u=y(e,["functionDeclarations"]);return u!=null&&x(n,["functionDeclarations"],u),n}function bw(t,e){const n={},a=y(e,["mode"]);a!=null&&x(n,["mode"],a);const s=y(e,["allowedFunctionNames"]);return s!=null&&x(n,["allowedFunctionNames"],s),n}function Tw(t,e){const n={},a=y(e,["functionCallingConfig"]);return a!=null&&x(n,["functionCallingConfig"],bw(t,a)),n}function Sw(t,e,n){const a={},s=y(e,["ttl"]);n!==void 0&&s!=null&&x(n,["ttl"],s);const l=y(e,["expireTime"]);n!==void 0&&l!=null&&x(n,["expireTime"],l);const u=y(e,["displayName"]);n!==void 0&&u!=null&&x(n,["displayName"],u);const d=y(e,["contents"]);if(n!==void 0&&d!=null){let b=Wi(t,d);Array.isArray(b)&&(b=b.map(T=>Jy(t,T))),x(n,["contents"],b)}const h=y(e,["systemInstruction"]);n!==void 0&&h!=null&&x(n,["systemInstruction"],Jy(t,nn(t,h)));const f=y(e,["tools"]);if(n!==void 0&&f!=null){let b=f;Array.isArray(b)&&(b=b.map(T=>vw(t,T))),x(n,["tools"],b)}const p=y(e,["toolConfig"]);return n!==void 0&&p!=null&&x(n,["toolConfig"],Tw(t,p)),a}function Cw(t,e){const n={},a=y(e,["model"]);a!=null&&x(n,["model"],ob(t,a));const s=y(e,["config"]);return s!=null&&x(n,["config"],Sw(t,s,n)),n}function ww(t,e){const n={},a=y(e,["name"]);a!=null&&x(n,["_url","name"],er(t,a));const s=y(e,["config"]);return s!=null&&x(n,["config"],s),n}function Ew(t,e){const n={},a=y(e,["name"]);a!=null&&x(n,["_url","name"],er(t,a));const s=y(e,["config"]);return s!=null&&x(n,["config"],s),n}function Aw(t,e,n){const a={},s=y(e,["ttl"]);n!==void 0&&s!=null&&x(n,["ttl"],s);const l=y(e,["expireTime"]);return n!==void 0&&l!=null&&x(n,["expireTime"],l),a}function Mw(t,e){const n={},a=y(e,["name"]);a!=null&&x(n,["_url","name"],er(t,a));const s=y(e,["config"]);return s!=null&&x(n,["config"],Aw(t,s,n)),n}function Nw(t,e,n){const a={},s=y(e,["pageSize"]);n!==void 0&&s!=null&&x(n,["_query","pageSize"],s);const l=y(e,["pageToken"]);return n!==void 0&&l!=null&&x(n,["_query","pageToken"],l),a}function Dw(t,e){const n={},a=y(e,["config"]);return a!=null&&x(n,["config"],Nw(t,a,n)),n}function Rw(t,e){const n={},a=y(e,["videoMetadata"]);a!=null&&x(n,["videoMetadata"],a);const s=y(e,["thought"]);s!=null&&x(n,["thought"],s);const l=y(e,["codeExecutionResult"]);l!=null&&x(n,["codeExecutionResult"],l);const u=y(e,["executableCode"]);u!=null&&x(n,["executableCode"],u);const d=y(e,["fileData"]);d!=null&&x(n,["fileData"],d);const h=y(e,["functionCall"]);h!=null&&x(n,["functionCall"],h);const f=y(e,["functionResponse"]);f!=null&&x(n,["functionResponse"],f);const p=y(e,["inlineData"]);p!=null&&x(n,["inlineData"],p);const b=y(e,["text"]);return b!=null&&x(n,["text"],b),n}function Qy(t,e){const n={},a=y(e,["parts"]);if(a!=null){let l=a;Array.isArray(l)&&(l=l.map(u=>Rw(t,u))),x(n,["parts"],l)}const s=y(e,["role"]);return s!=null&&x(n,["role"],s),n}function kw(){return{}}function _w(t,e){const n={},a=y(e,["mode"]);a!=null&&x(n,["mode"],a);const s=y(e,["dynamicThreshold"]);return s!=null&&x(n,["dynamicThreshold"],s),n}function Iw(t,e){const n={},a=y(e,["dynamicRetrievalConfig"]);return a!=null&&x(n,["dynamicRetrievalConfig"],_w(t,a)),n}function Pw(t,e){const n={},a=y(e,["retrieval"]);a!=null&&x(n,["retrieval"],a),y(e,["googleSearch"])!=null&&x(n,["googleSearch"],kw());const l=y(e,["googleSearchRetrieval"]);l!=null&&x(n,["googleSearchRetrieval"],Iw(t,l));const u=y(e,["codeExecution"]);u!=null&&x(n,["codeExecution"],u);const d=y(e,["functionDeclarations"]);return d!=null&&x(n,["functionDeclarations"],d),n}function Vw(t,e){const n={},a=y(e,["mode"]);a!=null&&x(n,["mode"],a);const s=y(e,["allowedFunctionNames"]);return s!=null&&x(n,["allowedFunctionNames"],s),n}function Lw(t,e){const n={},a=y(e,["functionCallingConfig"]);return a!=null&&x(n,["functionCallingConfig"],Vw(t,a)),n}function Bw(t,e,n){const a={},s=y(e,["ttl"]);n!==void 0&&s!=null&&x(n,["ttl"],s);const l=y(e,["expireTime"]);n!==void 0&&l!=null&&x(n,["expireTime"],l);const u=y(e,["displayName"]);n!==void 0&&u!=null&&x(n,["displayName"],u);const d=y(e,["contents"]);if(n!==void 0&&d!=null){let b=Wi(t,d);Array.isArray(b)&&(b=b.map(T=>Qy(t,T))),x(n,["contents"],b)}const h=y(e,["systemInstruction"]);n!==void 0&&h!=null&&x(n,["systemInstruction"],Qy(t,nn(t,h)));const f=y(e,["tools"]);if(n!==void 0&&f!=null){let b=f;Array.isArray(b)&&(b=b.map(T=>Pw(t,T))),x(n,["tools"],b)}const p=y(e,["toolConfig"]);return n!==void 0&&p!=null&&x(n,["toolConfig"],Lw(t,p)),a}function jw(t,e){const n={},a=y(e,["model"]);a!=null&&x(n,["model"],ob(t,a));const s=y(e,["config"]);return s!=null&&x(n,["config"],Bw(t,s,n)),n}function Ow(t,e){const n={},a=y(e,["name"]);a!=null&&x(n,["_url","name"],er(t,a));const s=y(e,["config"]);return s!=null&&x(n,["config"],s),n}function Uw(t,e){const n={},a=y(e,["name"]);a!=null&&x(n,["_url","name"],er(t,a));const s=y(e,["config"]);return s!=null&&x(n,["config"],s),n}function zw(t,e,n){const a={},s=y(e,["ttl"]);n!==void 0&&s!=null&&x(n,["ttl"],s);const l=y(e,["expireTime"]);return n!==void 0&&l!=null&&x(n,["expireTime"],l),a}function Fw(t,e){const n={},a=y(e,["name"]);a!=null&&x(n,["_url","name"],er(t,a));const s=y(e,["config"]);return s!=null&&x(n,["config"],zw(t,s,n)),n}function Hw(t,e,n){const a={},s=y(e,["pageSize"]);n!==void 0&&s!=null&&x(n,["_query","pageSize"],s);const l=y(e,["pageToken"]);return n!==void 0&&l!=null&&x(n,["_query","pageToken"],l),a}function Gw(t,e){const n={},a=y(e,["config"]);return a!=null&&x(n,["config"],Hw(t,a,n)),n}function Kl(t,e){const n={},a=y(e,["name"]);a!=null&&x(n,["name"],a);const s=y(e,["displayName"]);s!=null&&x(n,["displayName"],s);const l=y(e,["model"]);l!=null&&x(n,["model"],l);const u=y(e,["createTime"]);u!=null&&x(n,["createTime"],u);const d=y(e,["updateTime"]);d!=null&&x(n,["updateTime"],d);const h=y(e,["expireTime"]);h!=null&&x(n,["expireTime"],h);const f=y(e,["usageMetadata"]);return f!=null&&x(n,["usageMetadata"],f),n}function qw(){return{}}function Yw(t,e){const n={},a=y(e,["nextPageToken"]);a!=null&&x(n,["nextPageToken"],a);const s=y(e,["cachedContents"]);if(s!=null){let l=s;Array.isArray(l)&&(l=l.map(u=>Kl(t,u))),x(n,["cachedContents"],l)}return n}function $l(t,e){const n={},a=y(e,["name"]);a!=null&&x(n,["name"],a);const s=y(e,["displayName"]);s!=null&&x(n,["displayName"],s);const l=y(e,["model"]);l!=null&&x(n,["model"],l);const u=y(e,["createTime"]);u!=null&&x(n,["createTime"],u);const d=y(e,["updateTime"]);d!=null&&x(n,["updateTime"],d);const h=y(e,["expireTime"]);h!=null&&x(n,["expireTime"],h);const f=y(e,["usageMetadata"]);return f!=null&&x(n,["usageMetadata"],f),n}function Kw(){return{}}function $w(t,e){const n={},a=y(e,["nextPageToken"]);a!=null&&x(n,["nextPageToken"],a);const s=y(e,["cachedContents"]);if(s!=null){let l=s;Array.isArray(l)&&(l=l.map(u=>$l(t,u))),x(n,["cachedContents"],l)}return n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var no;(function(t){t.PAGED_ITEM_BATCH_JOBS="batchJobs",t.PAGED_ITEM_MODELS="models",t.PAGED_ITEM_TUNING_JOBS="tuningJobs",t.PAGED_ITEM_FILES="files",t.PAGED_ITEM_CACHED_CONTENTS="cachedContents"})(no||(no={}));class lh{constructor(e,n,a,s){this.pageInternal=[],this.paramsInternal={},this.requestInternal=n,this.init(e,a,s)}init(e,n,a){var s,l;this.nameInternal=e,this.pageInternal=n[this.nameInternal]||[],this.idxInternal=0;let u={config:{}};a?typeof a=="object"?u=Object.assign({},a):u=a:u={config:{}},u.config&&(u.config.pageToken=n.nextPageToken),this.paramsInternal=u,this.pageInternalSize=(l=(s=u.config)===null||s===void 0?void 0:s.pageSize)!==null&&l!==void 0?l:this.pageInternal.length}initNextPage(e){this.init(this.nameInternal,e,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(e){return this.pageInternal[e]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const e=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:e,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const e=await this.requestInternal(this.params);return this.initNextPage(e),this.page}hasNextPage(){var e;return((e=this.params.config)===null||e===void 0?void 0:e.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Zy;(function(t){t.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",t.OUTCOME_OK="OUTCOME_OK",t.OUTCOME_FAILED="OUTCOME_FAILED",t.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(Zy||(Zy={}));var Wy;(function(t){t.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",t.PYTHON="PYTHON"})(Wy||(Wy={}));var e0;(function(t){t.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",t.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",t.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",t.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",t.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY"})(e0||(e0={}));var t0;(function(t){t.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",t.SEVERITY="SEVERITY",t.PROBABILITY="PROBABILITY"})(t0||(t0={}));var n0;(function(t){t.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE",t.OFF="OFF"})(n0||(n0={}));var i0;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(i0||(i0={}));var r0;(function(t){t.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",t.STRING="STRING",t.NUMBER="NUMBER",t.INTEGER="INTEGER",t.BOOLEAN="BOOLEAN",t.ARRAY="ARRAY",t.OBJECT="OBJECT"})(r0||(r0={}));var a0;(function(t){t.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",t.STOP="STOP",t.MAX_TOKENS="MAX_TOKENS",t.SAFETY="SAFETY",t.RECITATION="RECITATION",t.LANGUAGE="LANGUAGE",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.SPII="SPII",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.IMAGE_SAFETY="IMAGE_SAFETY"})(a0||(a0={}));var s0;(function(t){t.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",t.NEGLIGIBLE="NEGLIGIBLE",t.LOW="LOW",t.MEDIUM="MEDIUM",t.HIGH="HIGH"})(s0||(s0={}));var o0;(function(t){t.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",t.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",t.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",t.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",t.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(o0||(o0={}));var l0;(function(t){t.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",t.SAFETY="SAFETY",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT"})(l0||(l0={}));var u0;(function(t){t.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",t.ON_DEMAND="ON_DEMAND",t.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(u0||(u0={}));var nu;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.AUDIO="AUDIO"})(nu||(nu={}));var c0;(function(t){t.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",t.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",t.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",t.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(c0||(c0={}));var vf;(function(t){t.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",t.JOB_STATE_QUEUED="JOB_STATE_QUEUED",t.JOB_STATE_PENDING="JOB_STATE_PENDING",t.JOB_STATE_RUNNING="JOB_STATE_RUNNING",t.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",t.JOB_STATE_FAILED="JOB_STATE_FAILED",t.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",t.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",t.JOB_STATE_PAUSED="JOB_STATE_PAUSED",t.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",t.JOB_STATE_UPDATING="JOB_STATE_UPDATING",t.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(vf||(vf={}));var d0;(function(t){t.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",t.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",t.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",t.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",t.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",t.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",t.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(d0||(d0={}));var f0;(function(t){t.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",t.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",t.BALANCED="BALANCED",t.PRIORITIZE_COST="PRIORITIZE_COST"})(f0||(f0={}));var h0;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(h0||(h0={}));var m0;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.AUTO="AUTO",t.ANY="ANY",t.NONE="NONE"})(m0||(m0={}));var p0;(function(t){t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE"})(p0||(p0={}));var g0;(function(t){t.DONT_ALLOW="DONT_ALLOW",t.ALLOW_ADULT="ALLOW_ADULT",t.ALLOW_ALL="ALLOW_ALL"})(g0||(g0={}));var y0;(function(t){t.auto="auto",t.en="en",t.ja="ja",t.ko="ko",t.hi="hi"})(y0||(y0={}));var x0;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.PROCESSING="PROCESSING",t.ACTIVE="ACTIVE",t.FAILED="FAILED"})(x0||(x0={}));var v0;(function(t){t.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",t.UPLOADED="UPLOADED",t.GENERATED="GENERATED"})(v0||(v0={}));var b0;(function(t){t.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",t.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",t.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",t.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",t.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(b0||(b0={}));var T0;(function(t){t.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",t.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",t.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",t.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(T0||(T0={}));var S0;(function(t){t.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",t.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",t.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",t.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(S0||(S0={}));var C0;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.VIDEO="VIDEO",t.AUDIO="AUDIO",t.DOCUMENT="DOCUMENT"})(C0||(C0={}));var w0;(function(t){t.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",t.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",t.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(w0||(w0={}));var E0;(function(t){t.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",t.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",t.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(E0||(E0={}));var A0;(function(t){t.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",t.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",t.NO_INTERRUPTION="NO_INTERRUPTION"})(A0||(A0={}));var M0;(function(t){t.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",t.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",t.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(M0||(M0={}));class Pl{get text(){var e,n,a,s,l,u,d,h;if(((s=(a=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||a===void 0?void 0:a.parts)===null||s===void 0?void 0:s.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let f="",p=!1;const b=[];for(const T of(h=(d=(u=(l=this.candidates)===null||l===void 0?void 0:l[0])===null||u===void 0?void 0:u.content)===null||d===void 0?void 0:d.parts)!==null&&h!==void 0?h:[]){for(const[S,M]of Object.entries(T))S!=="text"&&S!=="thought"&&(M!==null||M!==void 0)&&b.push(S);if(typeof T.text=="string"){if(typeof T.thought=="boolean"&&T.thought)continue;p=!0,f+=T.text}}return b.length>0&&console.warn(`there are non-text parts ${b} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),p?f:void 0}get data(){var e,n,a,s,l,u,d,h;if(((s=(a=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||a===void 0?void 0:a.parts)===null||s===void 0?void 0:s.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let f="";const p=[];for(const b of(h=(d=(u=(l=this.candidates)===null||l===void 0?void 0:l[0])===null||u===void 0?void 0:u.content)===null||d===void 0?void 0:d.parts)!==null&&h!==void 0?h:[]){for(const[T,S]of Object.entries(b))T!=="inlineData"&&(S!==null||S!==void 0)&&p.push(T);b.inlineData&&typeof b.inlineData.data=="string"&&(f+=atob(b.inlineData.data))}return p.length>0&&console.warn(`there are non-data parts ${p} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),f.length>0?btoa(f):void 0}get functionCalls(){var e,n,a,s,l,u,d,h;if(((s=(a=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||a===void 0?void 0:a.parts)===null||s===void 0?void 0:s.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const f=(h=(d=(u=(l=this.candidates)===null||l===void 0?void 0:l[0])===null||u===void 0?void 0:u.content)===null||d===void 0?void 0:d.parts)===null||h===void 0?void 0:h.filter(p=>p.functionCall).map(p=>p.functionCall).filter(p=>p!==void 0);if((f==null?void 0:f.length)!==0)return f}get executableCode(){var e,n,a,s,l,u,d,h,f;if(((s=(a=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||a===void 0?void 0:a.parts)===null||s===void 0?void 0:s.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const p=(h=(d=(u=(l=this.candidates)===null||l===void 0?void 0:l[0])===null||u===void 0?void 0:u.content)===null||d===void 0?void 0:d.parts)===null||h===void 0?void 0:h.filter(b=>b.executableCode).map(b=>b.executableCode).filter(b=>b!==void 0);if((p==null?void 0:p.length)!==0)return(f=p==null?void 0:p[0])===null||f===void 0?void 0:f.code}get codeExecutionResult(){var e,n,a,s,l,u,d,h,f;if(((s=(a=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||a===void 0?void 0:a.parts)===null||s===void 0?void 0:s.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const p=(h=(d=(u=(l=this.candidates)===null||l===void 0?void 0:l[0])===null||u===void 0?void 0:u.content)===null||d===void 0?void 0:d.parts)===null||h===void 0?void 0:h.filter(b=>b.codeExecutionResult).map(b=>b.codeExecutionResult).filter(b=>b!==void 0);if((p==null?void 0:p.length)!==0)return(f=p==null?void 0:p[0])===null||f===void 0?void 0:f.output}}class N0{}class D0{}class R0{}class k0{}class Xw{}class _0{}class I0{}class P0{}class Jw{}class bf{constructor(e){const n={};for(const a of e.headers.entries())n[a[0]]=a[1];this.headers=n,this.responseInternal=e}json(){return this.responseInternal.json()}}class Qw{}class Zw{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Ww extends ho{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new lh(no.PAGED_ITEM_CACHED_CONTENTS,a=>this.listInternal(a),await this.listInternal(n),n)}async create(e){var n,a,s,l;let u,d="",h={};if(this.apiClient.isVertexAI()){const f=jw(this.apiClient,e);return d=ke("cachedContents",f._url),h=f._query,delete f.config,delete f._url,delete f._query,u=this.apiClient.request({path:d,queryParams:h,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(p=>p.json()),u.then(p=>$l(this.apiClient,p))}else{const f=Cw(this.apiClient,e);return d=ke("cachedContents",f._url),h=f._query,delete f.config,delete f._url,delete f._query,u=this.apiClient.request({path:d,queryParams:h,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(p=>p.json()),u.then(p=>Kl(this.apiClient,p))}}async get(e){var n,a,s,l;let u,d="",h={};if(this.apiClient.isVertexAI()){const f=Ow(this.apiClient,e);return d=ke("{name}",f._url),h=f._query,delete f.config,delete f._url,delete f._query,u=this.apiClient.request({path:d,queryParams:h,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(p=>p.json()),u.then(p=>$l(this.apiClient,p))}else{const f=ww(this.apiClient,e);return d=ke("{name}",f._url),h=f._query,delete f.config,delete f._url,delete f._query,u=this.apiClient.request({path:d,queryParams:h,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(p=>p.json()),u.then(p=>Kl(this.apiClient,p))}}async delete(e){var n,a,s,l;let u,d="",h={};if(this.apiClient.isVertexAI()){const f=Uw(this.apiClient,e);return d=ke("{name}",f._url),h=f._query,delete f.config,delete f._url,delete f._query,u=this.apiClient.request({path:d,queryParams:h,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(p=>p.json()),u.then(()=>{const p=Kw(),b=new I0;return Object.assign(b,p),b})}else{const f=Ew(this.apiClient,e);return d=ke("{name}",f._url),h=f._query,delete f.config,delete f._url,delete f._query,u=this.apiClient.request({path:d,queryParams:h,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(p=>p.json()),u.then(()=>{const p=qw(),b=new I0;return Object.assign(b,p),b})}}async update(e){var n,a,s,l;let u,d="",h={};if(this.apiClient.isVertexAI()){const f=Fw(this.apiClient,e);return d=ke("{name}",f._url),h=f._query,delete f.config,delete f._url,delete f._query,u=this.apiClient.request({path:d,queryParams:h,body:JSON.stringify(f),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(p=>p.json()),u.then(p=>$l(this.apiClient,p))}else{const f=Mw(this.apiClient,e);return d=ke("{name}",f._url),h=f._query,delete f.config,delete f._url,delete f._query,u=this.apiClient.request({path:d,queryParams:h,body:JSON.stringify(f),httpMethod:"PATCH",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(p=>p.json()),u.then(p=>Kl(this.apiClient,p))}}async listInternal(e){var n,a,s,l;let u,d="",h={};if(this.apiClient.isVertexAI()){const f=Gw(this.apiClient,e);return d=ke("cachedContents",f._url),h=f._query,delete f.config,delete f._url,delete f._query,u=this.apiClient.request({path:d,queryParams:h,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(p=>p.json()),u.then(p=>{const b=$w(this.apiClient,p),T=new P0;return Object.assign(T,b),T})}else{const f=Dw(this.apiClient,e);return d=ke("cachedContents",f._url),h=f._query,delete f.config,delete f._url,delete f._query,u=this.apiClient.request({path:d,queryParams:h,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(p=>p.json()),u.then(p=>{const b=Yw(this.apiClient,p),T=new P0;return Object.assign(T,b),T})}}}function V0(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],a=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&a>=t.length&&(t=void 0),{value:t&&t[a++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Ht(t){return this instanceof Ht?(this.v=t,this):new Ht(t)}function iu(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var a=n.apply(t,e||[]),s,l=[];return s=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),d("next"),d("throw"),d("return",u),s[Symbol.asyncIterator]=function(){return this},s;function u(S){return function(M){return Promise.resolve(M).then(S,b)}}function d(S,M){a[S]&&(s[S]=function(D){return new Promise(function(k,_){l.push([S,D,k,_])>1||h(S,D)})},M&&(s[S]=M(s[S])))}function h(S,M){try{f(a[S](M))}catch(D){T(l[0][3],D)}}function f(S){S.value instanceof Ht?Promise.resolve(S.value.v).then(p,b):T(l[0][2],S)}function p(S){h("next",S)}function b(S){h("throw",S)}function T(S,M){S(M),l.shift(),l.length&&h(l[0][0],l[0][1])}}function Tf(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof V0=="function"?V0(t):t[Symbol.iterator](),n={},a("next"),a("throw"),a("return"),n[Symbol.asyncIterator]=function(){return this},n);function a(l){n[l]=t[l]&&function(u){return new Promise(function(d,h){u=t[l](u),s(d,h,u.done,u.value)})}}function s(l,u,d,h){Promise.resolve(h).then(function(f){l({value:f,done:d})},u)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function eE(t){var e;if(t.candidates==null||t.candidates.length===0)return!1;const n=(e=t.candidates[0])===null||e===void 0?void 0:e.content;return n===void 0?!1:pb(n)}function pb(t){if(t.parts===void 0||t.parts.length===0)return!1;for(const e of t.parts)if(e===void 0||Object.keys(e).length===0||e.text!==void 0&&e.text==="")return!1;return!0}function tE(t){if(t.length!==0){if(t[0].role!=="user")throw new Error("History must start with a user turn.");for(const e of t)if(e.role!=="user"&&e.role!=="model")throw new Error(`Role must be user or model, but got ${e.role}.`)}}function nE(t){if(t===void 0||t.length===0)return[];const e=[],n=t.length;let a=0,s=t[0];for(;a<n;)if(t[a].role==="user")s=t[a],a++;else{const l=[];let u=!0;for(;a<n&&t[a].role==="model";)l.push(t[a]),u&&!pb(t[a])&&(u=!1),a++;u&&(e.push(s),e.push(...l))}return e}class iE{constructor(e,n){this.modelsModule=e,this.apiClient=n}create(e){return new rE(this.apiClient,this.modelsModule,e.model,e.config,e.history)}}class rE{constructor(e,n,a,s={},l=[]){this.apiClient=e,this.modelsModule=n,this.model=a,this.config=s,this.history=l,this.sendPromise=Promise.resolve(),tE(l)}async sendMessage(e){var n;await this.sendPromise;const a=nn(this.apiClient,e.message),s=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(a),config:(n=e.config)!==null&&n!==void 0?n:this.config});return this.sendPromise=(async()=>{var l,u;const h=(u=(l=(await s).candidates)===null||l===void 0?void 0:l[0])===null||u===void 0?void 0:u.content,f=h?[h]:[];this.recordHistory(a,f)})(),await this.sendPromise,s}async sendMessageStream(e){var n;await this.sendPromise;const a=nn(this.apiClient,e.message),s=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(a),config:(n=e.config)!==null&&n!==void 0?n:this.config});this.sendPromise=s.then(()=>{}).catch(()=>{});const l=await s;return this.processStreamResponse(l,a)}getHistory(e=!1){return e?nE(this.history):this.history}processStreamResponse(e,n){var a,s;return iu(this,arguments,function*(){var u,d,h,f;const p=[];try{for(var b=!0,T=Tf(e),S;S=yield Ht(T.next()),u=S.done,!u;b=!0){f=S.value,b=!1;const M=f;if(eE(M)){const D=(s=(a=M.candidates)===null||a===void 0?void 0:a[0])===null||s===void 0?void 0:s.content;D!==void 0&&p.push(D)}yield yield Ht(M)}}catch(M){d={error:M}}finally{try{!b&&!u&&(h=T.return)&&(yield Ht(h.call(T)))}finally{if(d)throw d.error}}this.recordHistory(n,p)})}recordHistory(e,n){let a=[];n.length>0&&n.every(s=>s.role==="model")?a=n:a.push({role:"model",parts:[]}),this.history.push(e),this.history.push(...a)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function aE(t,e,n){const a={},s=y(e,["pageSize"]);n!==void 0&&s!=null&&x(n,["_query","pageSize"],s);const l=y(e,["pageToken"]);return n!==void 0&&l!=null&&x(n,["_query","pageToken"],l),a}function sE(t,e){const n={},a=y(e,["config"]);return a!=null&&x(n,["config"],aE(t,a,n)),n}function oE(t,e){const n={},a=y(e,["details"]);a!=null&&x(n,["details"],a);const s=y(e,["message"]);s!=null&&x(n,["message"],s);const l=y(e,["code"]);return l!=null&&x(n,["code"],l),n}function lE(t,e){const n={},a=y(e,["name"]);a!=null&&x(n,["name"],a);const s=y(e,["displayName"]);s!=null&&x(n,["displayName"],s);const l=y(e,["mimeType"]);l!=null&&x(n,["mimeType"],l);const u=y(e,["sizeBytes"]);u!=null&&x(n,["sizeBytes"],u);const d=y(e,["createTime"]);d!=null&&x(n,["createTime"],d);const h=y(e,["expirationTime"]);h!=null&&x(n,["expirationTime"],h);const f=y(e,["updateTime"]);f!=null&&x(n,["updateTime"],f);const p=y(e,["sha256Hash"]);p!=null&&x(n,["sha256Hash"],p);const b=y(e,["uri"]);b!=null&&x(n,["uri"],b);const T=y(e,["downloadUri"]);T!=null&&x(n,["downloadUri"],T);const S=y(e,["state"]);S!=null&&x(n,["state"],S);const M=y(e,["source"]);M!=null&&x(n,["source"],M);const D=y(e,["videoMetadata"]);D!=null&&x(n,["videoMetadata"],D);const k=y(e,["error"]);return k!=null&&x(n,["error"],oE(t,k)),n}function uE(t,e){const n={},a=y(e,["file"]);a!=null&&x(n,["file"],lE(t,a));const s=y(e,["config"]);return s!=null&&x(n,["config"],s),n}function cE(t,e){const n={},a=y(e,["name"]);a!=null&&x(n,["_url","file"],mb(t,a));const s=y(e,["config"]);return s!=null&&x(n,["config"],s),n}function dE(t,e){const n={},a=y(e,["name"]);a!=null&&x(n,["_url","file"],mb(t,a));const s=y(e,["config"]);return s!=null&&x(n,["config"],s),n}function fE(t,e){const n={},a=y(e,["details"]);a!=null&&x(n,["details"],a);const s=y(e,["message"]);s!=null&&x(n,["message"],s);const l=y(e,["code"]);return l!=null&&x(n,["code"],l),n}function Sf(t,e){const n={},a=y(e,["name"]);a!=null&&x(n,["name"],a);const s=y(e,["displayName"]);s!=null&&x(n,["displayName"],s);const l=y(e,["mimeType"]);l!=null&&x(n,["mimeType"],l);const u=y(e,["sizeBytes"]);u!=null&&x(n,["sizeBytes"],u);const d=y(e,["createTime"]);d!=null&&x(n,["createTime"],d);const h=y(e,["expirationTime"]);h!=null&&x(n,["expirationTime"],h);const f=y(e,["updateTime"]);f!=null&&x(n,["updateTime"],f);const p=y(e,["sha256Hash"]);p!=null&&x(n,["sha256Hash"],p);const b=y(e,["uri"]);b!=null&&x(n,["uri"],b);const T=y(e,["downloadUri"]);T!=null&&x(n,["downloadUri"],T);const S=y(e,["state"]);S!=null&&x(n,["state"],S);const M=y(e,["source"]);M!=null&&x(n,["source"],M);const D=y(e,["videoMetadata"]);D!=null&&x(n,["videoMetadata"],D);const k=y(e,["error"]);return k!=null&&x(n,["error"],fE(t,k)),n}function hE(t,e){const n={},a=y(e,["nextPageToken"]);a!=null&&x(n,["nextPageToken"],a);const s=y(e,["files"]);if(s!=null){let l=s;Array.isArray(l)&&(l=l.map(u=>Sf(t,u))),x(n,["files"],l)}return n}function mE(){return{}}function pE(){return{}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class gE extends ho{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new lh(no.PAGED_ITEM_FILES,a=>this.listInternal(a),await this.listInternal(n),n)}async upload(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(e.file,e.config).then(n=>Sf(this.apiClient,n))}async listInternal(e){var n,a;let s,l="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const d=sE(this.apiClient,e);return l=ke("files",d._url),u=d._query,delete d.config,delete d._url,delete d._query,s=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json()),s.then(h=>{const f=hE(this.apiClient,h),p=new Jw;return Object.assign(p,f),p})}}async createInternal(e){var n,a;let s,l="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const d=uE(this.apiClient,e);return l=ke("upload/v1beta/files",d._url),u=d._query,delete d.config,delete d._url,delete d._query,s=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json()),s.then(()=>{const h=mE(),f=new Qw;return Object.assign(f,h),f})}}async get(e){var n,a;let s,l="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const d=cE(this.apiClient,e);return l=ke("files/{file}",d._url),u=d._query,delete d.config,delete d._url,delete d._query,s=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json()),s.then(h=>Sf(this.apiClient,h))}}async delete(e){var n,a;let s,l="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const d=dE(this.apiClient,e);return l=ke("files/{file}",d._url),u=d._query,delete d.config,delete d._url,delete d._query,s=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json()),s.then(()=>{const h=pE(),f=new Zw;return Object.assign(f,h),f})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function yE(t,e){const n={};if(y(e,["videoMetadata"])!==void 0)throw new Error("videoMetadata parameter is not supported in Gemini API.");const a=y(e,["thought"]);a!=null&&x(n,["thought"],a);const s=y(e,["codeExecutionResult"]);s!=null&&x(n,["codeExecutionResult"],s);const l=y(e,["executableCode"]);l!=null&&x(n,["executableCode"],l);const u=y(e,["fileData"]);u!=null&&x(n,["fileData"],u);const d=y(e,["functionCall"]);d!=null&&x(n,["functionCall"],d);const h=y(e,["functionResponse"]);h!=null&&x(n,["functionResponse"],h);const f=y(e,["inlineData"]);f!=null&&x(n,["inlineData"],f);const p=y(e,["text"]);return p!=null&&x(n,["text"],p),n}function xE(t,e){const n={},a=y(e,["videoMetadata"]);a!=null&&x(n,["videoMetadata"],a);const s=y(e,["thought"]);s!=null&&x(n,["thought"],s);const l=y(e,["codeExecutionResult"]);l!=null&&x(n,["codeExecutionResult"],l);const u=y(e,["executableCode"]);u!=null&&x(n,["executableCode"],u);const d=y(e,["fileData"]);d!=null&&x(n,["fileData"],d);const h=y(e,["functionCall"]);h!=null&&x(n,["functionCall"],h);const f=y(e,["functionResponse"]);f!=null&&x(n,["functionResponse"],f);const p=y(e,["inlineData"]);p!=null&&x(n,["inlineData"],p);const b=y(e,["text"]);return b!=null&&x(n,["text"],b),n}function vE(t,e){const n={},a=y(e,["parts"]);if(a!=null){let l=a;Array.isArray(l)&&(l=l.map(u=>yE(t,u))),x(n,["parts"],l)}const s=y(e,["role"]);return s!=null&&x(n,["role"],s),n}function bE(t,e){const n={},a=y(e,["parts"]);if(a!=null){let l=a;Array.isArray(l)&&(l=l.map(u=>xE(t,u))),x(n,["parts"],l)}const s=y(e,["role"]);return s!=null&&x(n,["role"],s),n}function TE(){return{}}function SE(){return{}}function CE(t,e){const n={},a=y(e,["mode"]);a!=null&&x(n,["mode"],a);const s=y(e,["dynamicThreshold"]);return s!=null&&x(n,["dynamicThreshold"],s),n}function wE(t,e){const n={},a=y(e,["mode"]);a!=null&&x(n,["mode"],a);const s=y(e,["dynamicThreshold"]);return s!=null&&x(n,["dynamicThreshold"],s),n}function EE(t,e){const n={},a=y(e,["dynamicRetrievalConfig"]);return a!=null&&x(n,["dynamicRetrievalConfig"],CE(t,a)),n}function AE(t,e){const n={},a=y(e,["dynamicRetrievalConfig"]);return a!=null&&x(n,["dynamicRetrievalConfig"],wE(t,a)),n}function ME(t,e){const n={};if(y(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");y(e,["googleSearch"])!=null&&x(n,["googleSearch"],TE());const s=y(e,["googleSearchRetrieval"]);s!=null&&x(n,["googleSearchRetrieval"],EE(t,s));const l=y(e,["codeExecution"]);l!=null&&x(n,["codeExecution"],l);const u=y(e,["functionDeclarations"]);return u!=null&&x(n,["functionDeclarations"],u),n}function NE(t,e){const n={},a=y(e,["retrieval"]);a!=null&&x(n,["retrieval"],a),y(e,["googleSearch"])!=null&&x(n,["googleSearch"],SE());const l=y(e,["googleSearchRetrieval"]);l!=null&&x(n,["googleSearchRetrieval"],AE(t,l));const u=y(e,["codeExecution"]);u!=null&&x(n,["codeExecution"],u);const d=y(e,["functionDeclarations"]);return d!=null&&x(n,["functionDeclarations"],d),n}function DE(t,e){const n={},a=y(e,["handle"]);if(a!=null&&x(n,["handle"],a),y(e,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return n}function RE(t,e){const n={},a=y(e,["handle"]);a!=null&&x(n,["handle"],a);const s=y(e,["transparent"]);return s!=null&&x(n,["transparent"],s),n}function kE(){return{}}function L0(){return{}}function _E(t,e){const n={},a=y(e,["disabled"]);a!=null&&x(n,["disabled"],a);const s=y(e,["startOfSpeechSensitivity"]);s!=null&&x(n,["startOfSpeechSensitivity"],s);const l=y(e,["endOfSpeechSensitivity"]);l!=null&&x(n,["endOfSpeechSensitivity"],l);const u=y(e,["prefixPaddingMs"]);u!=null&&x(n,["prefixPaddingMs"],u);const d=y(e,["silenceDurationMs"]);return d!=null&&x(n,["silenceDurationMs"],d),n}function IE(t,e){const n={},a=y(e,["disabled"]);a!=null&&x(n,["disabled"],a);const s=y(e,["startOfSpeechSensitivity"]);s!=null&&x(n,["startOfSpeechSensitivity"],s);const l=y(e,["endOfSpeechSensitivity"]);l!=null&&x(n,["endOfSpeechSensitivity"],l);const u=y(e,["prefixPaddingMs"]);u!=null&&x(n,["prefixPaddingMs"],u);const d=y(e,["silenceDurationMs"]);return d!=null&&x(n,["silenceDurationMs"],d),n}function PE(t,e){const n={},a=y(e,["automaticActivityDetection"]);a!=null&&x(n,["automaticActivityDetection"],_E(t,a));const s=y(e,["activityHandling"]);s!=null&&x(n,["activityHandling"],s);const l=y(e,["turnCoverage"]);return l!=null&&x(n,["turnCoverage"],l),n}function VE(t,e){const n={},a=y(e,["automaticActivityDetection"]);a!=null&&x(n,["automaticActivityDetection"],IE(t,a));const s=y(e,["activityHandling"]);s!=null&&x(n,["activityHandling"],s);const l=y(e,["turnCoverage"]);return l!=null&&x(n,["turnCoverage"],l),n}function LE(t,e){const n={},a=y(e,["targetTokens"]);return a!=null&&x(n,["targetTokens"],a),n}function BE(t,e){const n={},a=y(e,["targetTokens"]);return a!=null&&x(n,["targetTokens"],a),n}function jE(t,e){const n={},a=y(e,["triggerTokens"]);a!=null&&x(n,["triggerTokens"],a);const s=y(e,["slidingWindow"]);return s!=null&&x(n,["slidingWindow"],LE(t,s)),n}function OE(t,e){const n={},a=y(e,["triggerTokens"]);a!=null&&x(n,["triggerTokens"],a);const s=y(e,["slidingWindow"]);return s!=null&&x(n,["slidingWindow"],BE(t,s)),n}function UE(t,e,n){const a={},s=y(e,["generationConfig"]);n!==void 0&&s!=null&&x(n,["setup","generationConfig"],s);const l=y(e,["responseModalities"]);n!==void 0&&l!=null&&x(n,["setup","generationConfig","responseModalities"],l);const u=y(e,["temperature"]);n!==void 0&&u!=null&&x(n,["setup","generationConfig","temperature"],u);const d=y(e,["topP"]);n!==void 0&&d!=null&&x(n,["setup","generationConfig","topP"],d);const h=y(e,["topK"]);n!==void 0&&h!=null&&x(n,["setup","generationConfig","topK"],h);const f=y(e,["maxOutputTokens"]);n!==void 0&&f!=null&&x(n,["setup","generationConfig","maxOutputTokens"],f);const p=y(e,["mediaResolution"]);n!==void 0&&p!=null&&x(n,["setup","generationConfig","mediaResolution"],p);const b=y(e,["seed"]);n!==void 0&&b!=null&&x(n,["setup","generationConfig","seed"],b);const T=y(e,["speechConfig"]);n!==void 0&&T!=null&&x(n,["setup","generationConfig","speechConfig"],T);const S=y(e,["systemInstruction"]);n!==void 0&&S!=null&&x(n,["setup","systemInstruction"],vE(t,nn(t,S)));const M=y(e,["tools"]);if(n!==void 0&&M!=null){let P=yu(t,M);Array.isArray(P)&&(P=P.map(G=>ME(t,gu(t,G)))),x(n,["setup","tools"],P)}const D=y(e,["sessionResumption"]);if(n!==void 0&&D!=null&&x(n,["setup","sessionResumption"],DE(t,D)),y(e,["inputAudioTranscription"])!==void 0)throw new Error("inputAudioTranscription parameter is not supported in Gemini API.");const k=y(e,["outputAudioTranscription"]);n!==void 0&&k!=null&&x(n,["setup","outputAudioTranscription"],kE());const _=y(e,["realtimeInputConfig"]);n!==void 0&&_!=null&&x(n,["setup","realtimeInputConfig"],PE(t,_));const O=y(e,["contextWindowCompression"]);return n!==void 0&&O!=null&&x(n,["setup","contextWindowCompression"],jE(t,O)),a}function zE(t,e,n){const a={},s=y(e,["generationConfig"]);n!==void 0&&s!=null&&x(n,["setup","generationConfig"],s);const l=y(e,["responseModalities"]);n!==void 0&&l!=null&&x(n,["setup","generationConfig","responseModalities"],l);const u=y(e,["temperature"]);n!==void 0&&u!=null&&x(n,["setup","generationConfig","temperature"],u);const d=y(e,["topP"]);n!==void 0&&d!=null&&x(n,["setup","generationConfig","topP"],d);const h=y(e,["topK"]);n!==void 0&&h!=null&&x(n,["setup","generationConfig","topK"],h);const f=y(e,["maxOutputTokens"]);n!==void 0&&f!=null&&x(n,["setup","generationConfig","maxOutputTokens"],f);const p=y(e,["mediaResolution"]);n!==void 0&&p!=null&&x(n,["setup","generationConfig","mediaResolution"],p);const b=y(e,["seed"]);n!==void 0&&b!=null&&x(n,["setup","generationConfig","seed"],b);const T=y(e,["speechConfig"]);n!==void 0&&T!=null&&x(n,["setup","generationConfig","speechConfig"],T);const S=y(e,["systemInstruction"]);n!==void 0&&S!=null&&x(n,["setup","systemInstruction"],bE(t,nn(t,S)));const M=y(e,["tools"]);if(n!==void 0&&M!=null){let G=yu(t,M);Array.isArray(G)&&(G=G.map(K=>NE(t,gu(t,K)))),x(n,["setup","tools"],G)}const D=y(e,["sessionResumption"]);n!==void 0&&D!=null&&x(n,["setup","sessionResumption"],RE(t,D));const k=y(e,["inputAudioTranscription"]);n!==void 0&&k!=null&&x(n,["setup","inputAudioTranscription"],L0());const _=y(e,["outputAudioTranscription"]);n!==void 0&&_!=null&&x(n,["setup","outputAudioTranscription"],L0());const O=y(e,["realtimeInputConfig"]);n!==void 0&&O!=null&&x(n,["setup","realtimeInputConfig"],VE(t,O));const P=y(e,["contextWindowCompression"]);return n!==void 0&&P!=null&&x(n,["setup","contextWindowCompression"],OE(t,P)),a}function FE(t,e){const n={},a=y(e,["model"]);a!=null&&x(n,["setup","model"],gt(t,a));const s=y(e,["config"]);return s!=null&&x(n,["config"],UE(t,s,n)),n}function HE(t,e){const n={},a=y(e,["model"]);a!=null&&x(n,["setup","model"],gt(t,a));const s=y(e,["config"]);return s!=null&&x(n,["config"],zE(t,s,n)),n}function GE(){return{}}function qE(){return{}}function YE(){return{}}function KE(){return{}}function $E(t,e){const n={},a=y(e,["media"]);a!=null&&x(n,["mediaChunks"],lb(t,a));const s=y(e,["audio"]);s!=null&&x(n,["audio"],hw(t,s));const l=y(e,["audioStreamEnd"]);l!=null&&x(n,["audioStreamEnd"],l);const u=y(e,["video"]);u!=null&&x(n,["video"],fw(t,u));const d=y(e,["text"]);return d!=null&&x(n,["text"],d),y(e,["activityStart"])!=null&&x(n,["activityStart"],GE()),y(e,["activityEnd"])!=null&&x(n,["activityEnd"],YE()),n}function XE(t,e){const n={},a=y(e,["media"]);if(a!=null&&x(n,["mediaChunks"],lb(t,a)),y(e,["audio"])!==void 0)throw new Error("audio parameter is not supported in Vertex AI.");const s=y(e,["audioStreamEnd"]);if(s!=null&&x(n,["audioStreamEnd"],s),y(e,["video"])!==void 0)throw new Error("video parameter is not supported in Vertex AI.");if(y(e,["text"])!==void 0)throw new Error("text parameter is not supported in Vertex AI.");return y(e,["activityStart"])!=null&&x(n,["activityStart"],qE()),y(e,["activityEnd"])!=null&&x(n,["activityEnd"],KE()),n}function JE(){return{}}function QE(){return{}}function ZE(t,e){const n={},a=y(e,["thought"]);a!=null&&x(n,["thought"],a);const s=y(e,["codeExecutionResult"]);s!=null&&x(n,["codeExecutionResult"],s);const l=y(e,["executableCode"]);l!=null&&x(n,["executableCode"],l);const u=y(e,["fileData"]);u!=null&&x(n,["fileData"],u);const d=y(e,["functionCall"]);d!=null&&x(n,["functionCall"],d);const h=y(e,["functionResponse"]);h!=null&&x(n,["functionResponse"],h);const f=y(e,["inlineData"]);f!=null&&x(n,["inlineData"],f);const p=y(e,["text"]);return p!=null&&x(n,["text"],p),n}function WE(t,e){const n={},a=y(e,["videoMetadata"]);a!=null&&x(n,["videoMetadata"],a);const s=y(e,["thought"]);s!=null&&x(n,["thought"],s);const l=y(e,["codeExecutionResult"]);l!=null&&x(n,["codeExecutionResult"],l);const u=y(e,["executableCode"]);u!=null&&x(n,["executableCode"],u);const d=y(e,["fileData"]);d!=null&&x(n,["fileData"],d);const h=y(e,["functionCall"]);h!=null&&x(n,["functionCall"],h);const f=y(e,["functionResponse"]);f!=null&&x(n,["functionResponse"],f);const p=y(e,["inlineData"]);p!=null&&x(n,["inlineData"],p);const b=y(e,["text"]);return b!=null&&x(n,["text"],b),n}function eA(t,e){const n={},a=y(e,["parts"]);if(a!=null){let l=a;Array.isArray(l)&&(l=l.map(u=>ZE(t,u))),x(n,["parts"],l)}const s=y(e,["role"]);return s!=null&&x(n,["role"],s),n}function tA(t,e){const n={},a=y(e,["parts"]);if(a!=null){let l=a;Array.isArray(l)&&(l=l.map(u=>WE(t,u))),x(n,["parts"],l)}const s=y(e,["role"]);return s!=null&&x(n,["role"],s),n}function B0(t,e){const n={},a=y(e,["text"]);a!=null&&x(n,["text"],a);const s=y(e,["finished"]);return s!=null&&x(n,["finished"],s),n}function j0(t,e){const n={},a=y(e,["text"]);a!=null&&x(n,["text"],a);const s=y(e,["finished"]);return s!=null&&x(n,["finished"],s),n}function nA(t,e){const n={},a=y(e,["modelTurn"]);a!=null&&x(n,["modelTurn"],eA(t,a));const s=y(e,["turnComplete"]);s!=null&&x(n,["turnComplete"],s);const l=y(e,["interrupted"]);l!=null&&x(n,["interrupted"],l);const u=y(e,["groundingMetadata"]);u!=null&&x(n,["groundingMetadata"],u);const d=y(e,["generationComplete"]);d!=null&&x(n,["generationComplete"],d);const h=y(e,["inputTranscription"]);h!=null&&x(n,["inputTranscription"],B0(t,h));const f=y(e,["outputTranscription"]);return f!=null&&x(n,["outputTranscription"],B0(t,f)),n}function iA(t,e){const n={},a=y(e,["modelTurn"]);a!=null&&x(n,["modelTurn"],tA(t,a));const s=y(e,["turnComplete"]);s!=null&&x(n,["turnComplete"],s);const l=y(e,["interrupted"]);l!=null&&x(n,["interrupted"],l);const u=y(e,["groundingMetadata"]);u!=null&&x(n,["groundingMetadata"],u);const d=y(e,["generationComplete"]);d!=null&&x(n,["generationComplete"],d);const h=y(e,["inputTranscription"]);h!=null&&x(n,["inputTranscription"],j0(t,h));const f=y(e,["outputTranscription"]);return f!=null&&x(n,["outputTranscription"],j0(t,f)),n}function rA(t,e){const n={},a=y(e,["id"]);a!=null&&x(n,["id"],a);const s=y(e,["args"]);s!=null&&x(n,["args"],s);const l=y(e,["name"]);return l!=null&&x(n,["name"],l),n}function aA(t,e){const n={},a=y(e,["args"]);a!=null&&x(n,["args"],a);const s=y(e,["name"]);return s!=null&&x(n,["name"],s),n}function sA(t,e){const n={},a=y(e,["functionCalls"]);if(a!=null){let s=a;Array.isArray(s)&&(s=s.map(l=>rA(t,l))),x(n,["functionCalls"],s)}return n}function oA(t,e){const n={},a=y(e,["functionCalls"]);if(a!=null){let s=a;Array.isArray(s)&&(s=s.map(l=>aA(t,l))),x(n,["functionCalls"],s)}return n}function lA(t,e){const n={},a=y(e,["ids"]);return a!=null&&x(n,["ids"],a),n}function uA(t,e){const n={},a=y(e,["ids"]);return a!=null&&x(n,["ids"],a),n}function Vl(t,e){const n={},a=y(e,["modality"]);a!=null&&x(n,["modality"],a);const s=y(e,["tokenCount"]);return s!=null&&x(n,["tokenCount"],s),n}function Ll(t,e){const n={},a=y(e,["modality"]);a!=null&&x(n,["modality"],a);const s=y(e,["tokenCount"]);return s!=null&&x(n,["tokenCount"],s),n}function cA(t,e){const n={},a=y(e,["promptTokenCount"]);a!=null&&x(n,["promptTokenCount"],a);const s=y(e,["cachedContentTokenCount"]);s!=null&&x(n,["cachedContentTokenCount"],s);const l=y(e,["responseTokenCount"]);l!=null&&x(n,["responseTokenCount"],l);const u=y(e,["toolUsePromptTokenCount"]);u!=null&&x(n,["toolUsePromptTokenCount"],u);const d=y(e,["thoughtsTokenCount"]);d!=null&&x(n,["thoughtsTokenCount"],d);const h=y(e,["totalTokenCount"]);h!=null&&x(n,["totalTokenCount"],h);const f=y(e,["promptTokensDetails"]);if(f!=null){let S=f;Array.isArray(S)&&(S=S.map(M=>Vl(t,M))),x(n,["promptTokensDetails"],S)}const p=y(e,["cacheTokensDetails"]);if(p!=null){let S=p;Array.isArray(S)&&(S=S.map(M=>Vl(t,M))),x(n,["cacheTokensDetails"],S)}const b=y(e,["responseTokensDetails"]);if(b!=null){let S=b;Array.isArray(S)&&(S=S.map(M=>Vl(t,M))),x(n,["responseTokensDetails"],S)}const T=y(e,["toolUsePromptTokensDetails"]);if(T!=null){let S=T;Array.isArray(S)&&(S=S.map(M=>Vl(t,M))),x(n,["toolUsePromptTokensDetails"],S)}return n}function dA(t,e){const n={},a=y(e,["promptTokenCount"]);a!=null&&x(n,["promptTokenCount"],a);const s=y(e,["cachedContentTokenCount"]);s!=null&&x(n,["cachedContentTokenCount"],s);const l=y(e,["candidatesTokenCount"]);l!=null&&x(n,["responseTokenCount"],l);const u=y(e,["toolUsePromptTokenCount"]);u!=null&&x(n,["toolUsePromptTokenCount"],u);const d=y(e,["thoughtsTokenCount"]);d!=null&&x(n,["thoughtsTokenCount"],d);const h=y(e,["totalTokenCount"]);h!=null&&x(n,["totalTokenCount"],h);const f=y(e,["promptTokensDetails"]);if(f!=null){let M=f;Array.isArray(M)&&(M=M.map(D=>Ll(t,D))),x(n,["promptTokensDetails"],M)}const p=y(e,["cacheTokensDetails"]);if(p!=null){let M=p;Array.isArray(M)&&(M=M.map(D=>Ll(t,D))),x(n,["cacheTokensDetails"],M)}const b=y(e,["candidatesTokensDetails"]);if(b!=null){let M=b;Array.isArray(M)&&(M=M.map(D=>Ll(t,D))),x(n,["responseTokensDetails"],M)}const T=y(e,["toolUsePromptTokensDetails"]);if(T!=null){let M=T;Array.isArray(M)&&(M=M.map(D=>Ll(t,D))),x(n,["toolUsePromptTokensDetails"],M)}const S=y(e,["trafficType"]);return S!=null&&x(n,["trafficType"],S),n}function fA(t,e){const n={},a=y(e,["timeLeft"]);return a!=null&&x(n,["timeLeft"],a),n}function hA(t,e){const n={},a=y(e,["timeLeft"]);return a!=null&&x(n,["timeLeft"],a),n}function mA(t,e){const n={},a=y(e,["newHandle"]);a!=null&&x(n,["newHandle"],a);const s=y(e,["resumable"]);s!=null&&x(n,["resumable"],s);const l=y(e,["lastConsumedClientMessageIndex"]);return l!=null&&x(n,["lastConsumedClientMessageIndex"],l),n}function pA(t,e){const n={},a=y(e,["newHandle"]);a!=null&&x(n,["newHandle"],a);const s=y(e,["resumable"]);s!=null&&x(n,["resumable"],s);const l=y(e,["lastConsumedClientMessageIndex"]);return l!=null&&x(n,["lastConsumedClientMessageIndex"],l),n}function gA(t,e){const n={};y(e,["setupComplete"])!=null&&x(n,["setupComplete"],JE());const s=y(e,["serverContent"]);s!=null&&x(n,["serverContent"],nA(t,s));const l=y(e,["toolCall"]);l!=null&&x(n,["toolCall"],sA(t,l));const u=y(e,["toolCallCancellation"]);u!=null&&x(n,["toolCallCancellation"],lA(t,u));const d=y(e,["usageMetadata"]);d!=null&&x(n,["usageMetadata"],cA(t,d));const h=y(e,["goAway"]);h!=null&&x(n,["goAway"],fA(t,h));const f=y(e,["sessionResumptionUpdate"]);return f!=null&&x(n,["sessionResumptionUpdate"],mA(t,f)),n}function yA(t,e){const n={};y(e,["setupComplete"])!=null&&x(n,["setupComplete"],QE());const s=y(e,["serverContent"]);s!=null&&x(n,["serverContent"],iA(t,s));const l=y(e,["toolCall"]);l!=null&&x(n,["toolCall"],oA(t,l));const u=y(e,["toolCallCancellation"]);u!=null&&x(n,["toolCallCancellation"],uA(t,u));const d=y(e,["usageMetadata"]);d!=null&&x(n,["usageMetadata"],dA(t,d));const h=y(e,["goAway"]);h!=null&&x(n,["goAway"],hA(t,h));const f=y(e,["sessionResumptionUpdate"]);return f!=null&&x(n,["sessionResumptionUpdate"],pA(t,f)),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function xA(t,e){const n={};if(y(e,["videoMetadata"])!==void 0)throw new Error("videoMetadata parameter is not supported in Gemini API.");const a=y(e,["thought"]);a!=null&&x(n,["thought"],a);const s=y(e,["codeExecutionResult"]);s!=null&&x(n,["codeExecutionResult"],s);const l=y(e,["executableCode"]);l!=null&&x(n,["executableCode"],l);const u=y(e,["fileData"]);u!=null&&x(n,["fileData"],u);const d=y(e,["functionCall"]);d!=null&&x(n,["functionCall"],d);const h=y(e,["functionResponse"]);h!=null&&x(n,["functionResponse"],h);const f=y(e,["inlineData"]);f!=null&&x(n,["inlineData"],f);const p=y(e,["text"]);return p!=null&&x(n,["text"],p),n}function xu(t,e){const n={},a=y(e,["parts"]);if(a!=null){let l=a;Array.isArray(l)&&(l=l.map(u=>xA(t,u))),x(n,["parts"],l)}const s=y(e,["role"]);return s!=null&&x(n,["role"],s),n}function vA(t,e){const n={};if(y(e,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const a=y(e,["category"]);a!=null&&x(n,["category"],a);const s=y(e,["threshold"]);return s!=null&&x(n,["threshold"],s),n}function bA(){return{}}function TA(t,e){const n={},a=y(e,["mode"]);a!=null&&x(n,["mode"],a);const s=y(e,["dynamicThreshold"]);return s!=null&&x(n,["dynamicThreshold"],s),n}function SA(t,e){const n={},a=y(e,["dynamicRetrievalConfig"]);return a!=null&&x(n,["dynamicRetrievalConfig"],TA(t,a)),n}function CA(t,e){const n={};if(y(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");y(e,["googleSearch"])!=null&&x(n,["googleSearch"],bA());const s=y(e,["googleSearchRetrieval"]);s!=null&&x(n,["googleSearchRetrieval"],SA(t,s));const l=y(e,["codeExecution"]);l!=null&&x(n,["codeExecution"],l);const u=y(e,["functionDeclarations"]);return u!=null&&x(n,["functionDeclarations"],u),n}function wA(t,e){const n={},a=y(e,["mode"]);a!=null&&x(n,["mode"],a);const s=y(e,["allowedFunctionNames"]);return s!=null&&x(n,["allowedFunctionNames"],s),n}function EA(t,e){const n={},a=y(e,["functionCallingConfig"]);return a!=null&&x(n,["functionCallingConfig"],wA(t,a)),n}function AA(t,e){const n={},a=y(e,["voiceName"]);return a!=null&&x(n,["voiceName"],a),n}function MA(t,e){const n={},a=y(e,["prebuiltVoiceConfig"]);return a!=null&&x(n,["prebuiltVoiceConfig"],AA(t,a)),n}function NA(t,e){const n={},a=y(e,["voiceConfig"]);a!=null&&x(n,["voiceConfig"],MA(t,a));const s=y(e,["languageCode"]);return s!=null&&x(n,["languageCode"],s),n}function DA(t,e){const n={},a=y(e,["includeThoughts"]);a!=null&&x(n,["includeThoughts"],a);const s=y(e,["thinkingBudget"]);return s!=null&&x(n,["thinkingBudget"],s),n}function RA(t,e,n){const a={},s=y(e,["systemInstruction"]);n!==void 0&&s!=null&&x(n,["systemInstruction"],xu(t,nn(t,s)));const l=y(e,["temperature"]);l!=null&&x(a,["temperature"],l);const u=y(e,["topP"]);u!=null&&x(a,["topP"],u);const d=y(e,["topK"]);d!=null&&x(a,["topK"],d);const h=y(e,["candidateCount"]);h!=null&&x(a,["candidateCount"],h);const f=y(e,["maxOutputTokens"]);f!=null&&x(a,["maxOutputTokens"],f);const p=y(e,["stopSequences"]);p!=null&&x(a,["stopSequences"],p);const b=y(e,["responseLogprobs"]);b!=null&&x(a,["responseLogprobs"],b);const T=y(e,["logprobs"]);T!=null&&x(a,["logprobs"],T);const S=y(e,["presencePenalty"]);S!=null&&x(a,["presencePenalty"],S);const M=y(e,["frequencyPenalty"]);M!=null&&x(a,["frequencyPenalty"],M);const D=y(e,["seed"]);D!=null&&x(a,["seed"],D);const k=y(e,["responseMimeType"]);k!=null&&x(a,["responseMimeType"],k);const _=y(e,["responseSchema"]);if(_!=null&&x(a,["responseSchema"],db(t,_)),y(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(y(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const O=y(e,["safetySettings"]);if(n!==void 0&&O!=null){let ge=O;Array.isArray(ge)&&(ge=ge.map(ae=>vA(t,ae))),x(n,["safetySettings"],ge)}const P=y(e,["tools"]);if(n!==void 0&&P!=null){let ge=yu(t,P);Array.isArray(ge)&&(ge=ge.map(ae=>CA(t,gu(t,ae)))),x(n,["tools"],ge)}const G=y(e,["toolConfig"]);if(n!==void 0&&G!=null&&x(n,["toolConfig"],EA(t,G)),y(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const K=y(e,["cachedContent"]);n!==void 0&&K!=null&&x(n,["cachedContent"],er(t,K));const z=y(e,["responseModalities"]);z!=null&&x(a,["responseModalities"],z);const Z=y(e,["mediaResolution"]);Z!=null&&x(a,["mediaResolution"],Z);const re=y(e,["speechConfig"]);if(re!=null&&x(a,["speechConfig"],NA(t,fb(t,re))),y(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const pe=y(e,["thinkingConfig"]);return pe!=null&&x(a,["thinkingConfig"],DA(t,pe)),a}function O0(t,e){const n={},a=y(e,["model"]);a!=null&&x(n,["_url","model"],gt(t,a));const s=y(e,["contents"]);if(s!=null){let u=Wi(t,s);Array.isArray(u)&&(u=u.map(d=>xu(t,d))),x(n,["contents"],u)}const l=y(e,["config"]);return l!=null&&x(n,["generationConfig"],RA(t,l,n)),n}function kA(t,e,n){const a={},s=y(e,["taskType"]);n!==void 0&&s!=null&&x(n,["requests[]","taskType"],s);const l=y(e,["title"]);n!==void 0&&l!=null&&x(n,["requests[]","title"],l);const u=y(e,["outputDimensionality"]);if(n!==void 0&&u!=null&&x(n,["requests[]","outputDimensionality"],u),y(e,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(y(e,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return a}function _A(t,e){const n={},a=y(e,["model"]);a!=null&&x(n,["_url","model"],gt(t,a));const s=y(e,["contents"]);s!=null&&x(n,["requests[]","content"],cb(t,s));const l=y(e,["config"]);l!=null&&x(n,["config"],kA(t,l,n));const u=y(e,["model"]);return u!==void 0&&x(n,["requests[]","model"],gt(t,u)),n}function IA(t,e,n){const a={};if(y(e,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(y(e,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const s=y(e,["numberOfImages"]);n!==void 0&&s!=null&&x(n,["parameters","sampleCount"],s);const l=y(e,["aspectRatio"]);n!==void 0&&l!=null&&x(n,["parameters","aspectRatio"],l);const u=y(e,["guidanceScale"]);if(n!==void 0&&u!=null&&x(n,["parameters","guidanceScale"],u),y(e,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const d=y(e,["safetyFilterLevel"]);n!==void 0&&d!=null&&x(n,["parameters","safetySetting"],d);const h=y(e,["personGeneration"]);n!==void 0&&h!=null&&x(n,["parameters","personGeneration"],h);const f=y(e,["includeSafetyAttributes"]);n!==void 0&&f!=null&&x(n,["parameters","includeSafetyAttributes"],f);const p=y(e,["includeRaiReason"]);n!==void 0&&p!=null&&x(n,["parameters","includeRaiReason"],p);const b=y(e,["language"]);n!==void 0&&b!=null&&x(n,["parameters","language"],b);const T=y(e,["outputMimeType"]);n!==void 0&&T!=null&&x(n,["parameters","outputOptions","mimeType"],T);const S=y(e,["outputCompressionQuality"]);if(n!==void 0&&S!=null&&x(n,["parameters","outputOptions","compressionQuality"],S),y(e,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(y(e,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return a}function PA(t,e){const n={},a=y(e,["model"]);a!=null&&x(n,["_url","model"],gt(t,a));const s=y(e,["prompt"]);s!=null&&x(n,["instances[0]","prompt"],s);const l=y(e,["config"]);return l!=null&&x(n,["config"],IA(t,l,n)),n}function VA(t,e){const n={},a=y(e,["model"]);a!=null&&x(n,["_url","name"],gt(t,a));const s=y(e,["config"]);return s!=null&&x(n,["config"],s),n}function LA(t,e,n){const a={},s=y(e,["displayName"]);n!==void 0&&s!=null&&x(n,["displayName"],s);const l=y(e,["description"]);return n!==void 0&&l!=null&&x(n,["description"],l),a}function BA(t,e){const n={},a=y(e,["model"]);a!=null&&x(n,["_url","name"],gt(t,a));const s=y(e,["config"]);return s!=null&&x(n,["config"],LA(t,s,n)),n}function jA(t,e){const n={},a=y(e,["model"]);a!=null&&x(n,["_url","name"],gt(t,a));const s=y(e,["config"]);return s!=null&&x(n,["config"],s),n}function OA(t,e){const n={};if(y(e,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(y(e,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(y(e,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return n}function UA(t,e){const n={},a=y(e,["model"]);a!=null&&x(n,["_url","model"],gt(t,a));const s=y(e,["contents"]);if(s!=null){let u=Wi(t,s);Array.isArray(u)&&(u=u.map(d=>xu(t,d))),x(n,["contents"],u)}const l=y(e,["config"]);return l!=null&&x(n,["config"],OA(t,l)),n}function zA(t,e){const n={};if(y(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const a=y(e,["imageBytes"]);a!=null&&x(n,["bytesBase64Encoded"],tr(t,a));const s=y(e,["mimeType"]);return s!=null&&x(n,["mimeType"],s),n}function FA(t,e,n){const a={},s=y(e,["numberOfVideos"]);if(n!==void 0&&s!=null&&x(n,["parameters","sampleCount"],s),y(e,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(y(e,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const l=y(e,["durationSeconds"]);if(n!==void 0&&l!=null&&x(n,["parameters","durationSeconds"],l),y(e,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const u=y(e,["aspectRatio"]);if(n!==void 0&&u!=null&&x(n,["parameters","aspectRatio"],u),y(e,["resolution"])!==void 0)throw new Error("resolution parameter is not supported in Gemini API.");const d=y(e,["personGeneration"]);if(n!==void 0&&d!=null&&x(n,["parameters","personGeneration"],d),y(e,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const h=y(e,["negativePrompt"]);if(n!==void 0&&h!=null&&x(n,["parameters","negativePrompt"],h),y(e,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return a}function HA(t,e){const n={},a=y(e,["model"]);a!=null&&x(n,["_url","model"],gt(t,a));const s=y(e,["prompt"]);s!=null&&x(n,["instances[0]","prompt"],s);const l=y(e,["image"]);l!=null&&x(n,["instances[0]","image"],zA(t,l));const u=y(e,["config"]);return u!=null&&x(n,["config"],FA(t,u,n)),n}function GA(t,e){const n={},a=y(e,["videoMetadata"]);a!=null&&x(n,["videoMetadata"],a);const s=y(e,["thought"]);s!=null&&x(n,["thought"],s);const l=y(e,["codeExecutionResult"]);l!=null&&x(n,["codeExecutionResult"],l);const u=y(e,["executableCode"]);u!=null&&x(n,["executableCode"],u);const d=y(e,["fileData"]);d!=null&&x(n,["fileData"],d);const h=y(e,["functionCall"]);h!=null&&x(n,["functionCall"],h);const f=y(e,["functionResponse"]);f!=null&&x(n,["functionResponse"],f);const p=y(e,["inlineData"]);p!=null&&x(n,["inlineData"],p);const b=y(e,["text"]);return b!=null&&x(n,["text"],b),n}function Ra(t,e){const n={},a=y(e,["parts"]);if(a!=null){let l=a;Array.isArray(l)&&(l=l.map(u=>GA(t,u))),x(n,["parts"],l)}const s=y(e,["role"]);return s!=null&&x(n,["role"],s),n}function qA(t,e){const n={},a=y(e,["featureSelectionPreference"]);return a!=null&&x(n,["featureSelectionPreference"],a),n}function YA(t,e){const n={},a=y(e,["method"]);a!=null&&x(n,["method"],a);const s=y(e,["category"]);s!=null&&x(n,["category"],s);const l=y(e,["threshold"]);return l!=null&&x(n,["threshold"],l),n}function KA(){return{}}function $A(t,e){const n={},a=y(e,["mode"]);a!=null&&x(n,["mode"],a);const s=y(e,["dynamicThreshold"]);return s!=null&&x(n,["dynamicThreshold"],s),n}function XA(t,e){const n={},a=y(e,["dynamicRetrievalConfig"]);return a!=null&&x(n,["dynamicRetrievalConfig"],$A(t,a)),n}function gb(t,e){const n={},a=y(e,["retrieval"]);a!=null&&x(n,["retrieval"],a),y(e,["googleSearch"])!=null&&x(n,["googleSearch"],KA());const l=y(e,["googleSearchRetrieval"]);l!=null&&x(n,["googleSearchRetrieval"],XA(t,l));const u=y(e,["codeExecution"]);u!=null&&x(n,["codeExecution"],u);const d=y(e,["functionDeclarations"]);return d!=null&&x(n,["functionDeclarations"],d),n}function JA(t,e){const n={},a=y(e,["mode"]);a!=null&&x(n,["mode"],a);const s=y(e,["allowedFunctionNames"]);return s!=null&&x(n,["allowedFunctionNames"],s),n}function QA(t,e){const n={},a=y(e,["functionCallingConfig"]);return a!=null&&x(n,["functionCallingConfig"],JA(t,a)),n}function ZA(t,e){const n={},a=y(e,["voiceName"]);return a!=null&&x(n,["voiceName"],a),n}function WA(t,e){const n={},a=y(e,["prebuiltVoiceConfig"]);return a!=null&&x(n,["prebuiltVoiceConfig"],ZA(t,a)),n}function eM(t,e){const n={},a=y(e,["voiceConfig"]);a!=null&&x(n,["voiceConfig"],WA(t,a));const s=y(e,["languageCode"]);return s!=null&&x(n,["languageCode"],s),n}function tM(t,e){const n={},a=y(e,["includeThoughts"]);a!=null&&x(n,["includeThoughts"],a);const s=y(e,["thinkingBudget"]);return s!=null&&x(n,["thinkingBudget"],s),n}function nM(t,e,n){const a={},s=y(e,["systemInstruction"]);n!==void 0&&s!=null&&x(n,["systemInstruction"],Ra(t,nn(t,s)));const l=y(e,["temperature"]);l!=null&&x(a,["temperature"],l);const u=y(e,["topP"]);u!=null&&x(a,["topP"],u);const d=y(e,["topK"]);d!=null&&x(a,["topK"],d);const h=y(e,["candidateCount"]);h!=null&&x(a,["candidateCount"],h);const f=y(e,["maxOutputTokens"]);f!=null&&x(a,["maxOutputTokens"],f);const p=y(e,["stopSequences"]);p!=null&&x(a,["stopSequences"],p);const b=y(e,["responseLogprobs"]);b!=null&&x(a,["responseLogprobs"],b);const T=y(e,["logprobs"]);T!=null&&x(a,["logprobs"],T);const S=y(e,["presencePenalty"]);S!=null&&x(a,["presencePenalty"],S);const M=y(e,["frequencyPenalty"]);M!=null&&x(a,["frequencyPenalty"],M);const D=y(e,["seed"]);D!=null&&x(a,["seed"],D);const k=y(e,["responseMimeType"]);k!=null&&x(a,["responseMimeType"],k);const _=y(e,["responseSchema"]);_!=null&&x(a,["responseSchema"],db(t,_));const O=y(e,["routingConfig"]);O!=null&&x(a,["routingConfig"],O);const P=y(e,["modelSelectionConfig"]);P!=null&&x(a,["modelConfig"],qA(t,P));const G=y(e,["safetySettings"]);if(n!==void 0&&G!=null){let se=G;Array.isArray(se)&&(se=se.map(me=>YA(t,me))),x(n,["safetySettings"],se)}const K=y(e,["tools"]);if(n!==void 0&&K!=null){let se=yu(t,K);Array.isArray(se)&&(se=se.map(me=>gb(t,gu(t,me)))),x(n,["tools"],se)}const z=y(e,["toolConfig"]);n!==void 0&&z!=null&&x(n,["toolConfig"],QA(t,z));const Z=y(e,["labels"]);n!==void 0&&Z!=null&&x(n,["labels"],Z);const re=y(e,["cachedContent"]);n!==void 0&&re!=null&&x(n,["cachedContent"],er(t,re));const pe=y(e,["responseModalities"]);pe!=null&&x(a,["responseModalities"],pe);const ge=y(e,["mediaResolution"]);ge!=null&&x(a,["mediaResolution"],ge);const ae=y(e,["speechConfig"]);ae!=null&&x(a,["speechConfig"],eM(t,fb(t,ae)));const ue=y(e,["audioTimestamp"]);ue!=null&&x(a,["audioTimestamp"],ue);const ye=y(e,["thinkingConfig"]);return ye!=null&&x(a,["thinkingConfig"],tM(t,ye)),a}function U0(t,e){const n={},a=y(e,["model"]);a!=null&&x(n,["_url","model"],gt(t,a));const s=y(e,["contents"]);if(s!=null){let u=Wi(t,s);Array.isArray(u)&&(u=u.map(d=>Ra(t,d))),x(n,["contents"],u)}const l=y(e,["config"]);return l!=null&&x(n,["generationConfig"],nM(t,l,n)),n}function iM(t,e,n){const a={},s=y(e,["taskType"]);n!==void 0&&s!=null&&x(n,["instances[]","task_type"],s);const l=y(e,["title"]);n!==void 0&&l!=null&&x(n,["instances[]","title"],l);const u=y(e,["outputDimensionality"]);n!==void 0&&u!=null&&x(n,["parameters","outputDimensionality"],u);const d=y(e,["mimeType"]);n!==void 0&&d!=null&&x(n,["instances[]","mimeType"],d);const h=y(e,["autoTruncate"]);return n!==void 0&&h!=null&&x(n,["parameters","autoTruncate"],h),a}function rM(t,e){const n={},a=y(e,["model"]);a!=null&&x(n,["_url","model"],gt(t,a));const s=y(e,["contents"]);s!=null&&x(n,["instances[]","content"],cb(t,s));const l=y(e,["config"]);return l!=null&&x(n,["config"],iM(t,l,n)),n}function aM(t,e,n){const a={},s=y(e,["outputGcsUri"]);n!==void 0&&s!=null&&x(n,["parameters","storageUri"],s);const l=y(e,["negativePrompt"]);n!==void 0&&l!=null&&x(n,["parameters","negativePrompt"],l);const u=y(e,["numberOfImages"]);n!==void 0&&u!=null&&x(n,["parameters","sampleCount"],u);const d=y(e,["aspectRatio"]);n!==void 0&&d!=null&&x(n,["parameters","aspectRatio"],d);const h=y(e,["guidanceScale"]);n!==void 0&&h!=null&&x(n,["parameters","guidanceScale"],h);const f=y(e,["seed"]);n!==void 0&&f!=null&&x(n,["parameters","seed"],f);const p=y(e,["safetyFilterLevel"]);n!==void 0&&p!=null&&x(n,["parameters","safetySetting"],p);const b=y(e,["personGeneration"]);n!==void 0&&b!=null&&x(n,["parameters","personGeneration"],b);const T=y(e,["includeSafetyAttributes"]);n!==void 0&&T!=null&&x(n,["parameters","includeSafetyAttributes"],T);const S=y(e,["includeRaiReason"]);n!==void 0&&S!=null&&x(n,["parameters","includeRaiReason"],S);const M=y(e,["language"]);n!==void 0&&M!=null&&x(n,["parameters","language"],M);const D=y(e,["outputMimeType"]);n!==void 0&&D!=null&&x(n,["parameters","outputOptions","mimeType"],D);const k=y(e,["outputCompressionQuality"]);n!==void 0&&k!=null&&x(n,["parameters","outputOptions","compressionQuality"],k);const _=y(e,["addWatermark"]);n!==void 0&&_!=null&&x(n,["parameters","addWatermark"],_);const O=y(e,["enhancePrompt"]);return n!==void 0&&O!=null&&x(n,["parameters","enhancePrompt"],O),a}function sM(t,e){const n={},a=y(e,["model"]);a!=null&&x(n,["_url","model"],gt(t,a));const s=y(e,["prompt"]);s!=null&&x(n,["instances[0]","prompt"],s);const l=y(e,["config"]);return l!=null&&x(n,["config"],aM(t,l,n)),n}function oM(t,e){const n={},a=y(e,["model"]);a!=null&&x(n,["_url","name"],gt(t,a));const s=y(e,["config"]);return s!=null&&x(n,["config"],s),n}function lM(t,e,n){const a={},s=y(e,["displayName"]);n!==void 0&&s!=null&&x(n,["displayName"],s);const l=y(e,["description"]);return n!==void 0&&l!=null&&x(n,["description"],l),a}function uM(t,e){const n={},a=y(e,["model"]);a!=null&&x(n,["_url","model"],gt(t,a));const s=y(e,["config"]);return s!=null&&x(n,["config"],lM(t,s,n)),n}function cM(t,e){const n={},a=y(e,["model"]);a!=null&&x(n,["_url","name"],gt(t,a));const s=y(e,["config"]);return s!=null&&x(n,["config"],s),n}function dM(t,e,n){const a={},s=y(e,["systemInstruction"]);n!==void 0&&s!=null&&x(n,["systemInstruction"],Ra(t,nn(t,s)));const l=y(e,["tools"]);if(n!==void 0&&l!=null){let d=l;Array.isArray(d)&&(d=d.map(h=>gb(t,h))),x(n,["tools"],d)}const u=y(e,["generationConfig"]);return n!==void 0&&u!=null&&x(n,["generationConfig"],u),a}function fM(t,e){const n={},a=y(e,["model"]);a!=null&&x(n,["_url","model"],gt(t,a));const s=y(e,["contents"]);if(s!=null){let u=Wi(t,s);Array.isArray(u)&&(u=u.map(d=>Ra(t,d))),x(n,["contents"],u)}const l=y(e,["config"]);return l!=null&&x(n,["config"],dM(t,l,n)),n}function hM(t,e){const n={},a=y(e,["model"]);a!=null&&x(n,["_url","model"],gt(t,a));const s=y(e,["contents"]);if(s!=null){let u=Wi(t,s);Array.isArray(u)&&(u=u.map(d=>Ra(t,d))),x(n,["contents"],u)}const l=y(e,["config"]);return l!=null&&x(n,["config"],l),n}function mM(t,e){const n={},a=y(e,["gcsUri"]);a!=null&&x(n,["gcsUri"],a);const s=y(e,["imageBytes"]);s!=null&&x(n,["bytesBase64Encoded"],tr(t,s));const l=y(e,["mimeType"]);return l!=null&&x(n,["mimeType"],l),n}function pM(t,e,n){const a={},s=y(e,["numberOfVideos"]);n!==void 0&&s!=null&&x(n,["parameters","sampleCount"],s);const l=y(e,["outputGcsUri"]);n!==void 0&&l!=null&&x(n,["parameters","storageUri"],l);const u=y(e,["fps"]);n!==void 0&&u!=null&&x(n,["parameters","fps"],u);const d=y(e,["durationSeconds"]);n!==void 0&&d!=null&&x(n,["parameters","durationSeconds"],d);const h=y(e,["seed"]);n!==void 0&&h!=null&&x(n,["parameters","seed"],h);const f=y(e,["aspectRatio"]);n!==void 0&&f!=null&&x(n,["parameters","aspectRatio"],f);const p=y(e,["resolution"]);n!==void 0&&p!=null&&x(n,["parameters","resolution"],p);const b=y(e,["personGeneration"]);n!==void 0&&b!=null&&x(n,["parameters","personGeneration"],b);const T=y(e,["pubsubTopic"]);n!==void 0&&T!=null&&x(n,["parameters","pubsubTopic"],T);const S=y(e,["negativePrompt"]);n!==void 0&&S!=null&&x(n,["parameters","negativePrompt"],S);const M=y(e,["enhancePrompt"]);return n!==void 0&&M!=null&&x(n,["parameters","enhancePrompt"],M),a}function gM(t,e){const n={},a=y(e,["model"]);a!=null&&x(n,["_url","model"],gt(t,a));const s=y(e,["prompt"]);s!=null&&x(n,["instances[0]","prompt"],s);const l=y(e,["image"]);l!=null&&x(n,["instances[0]","image"],mM(t,l));const u=y(e,["config"]);return u!=null&&x(n,["config"],pM(t,u,n)),n}function yM(t,e){const n={},a=y(e,["thought"]);a!=null&&x(n,["thought"],a);const s=y(e,["codeExecutionResult"]);s!=null&&x(n,["codeExecutionResult"],s);const l=y(e,["executableCode"]);l!=null&&x(n,["executableCode"],l);const u=y(e,["fileData"]);u!=null&&x(n,["fileData"],u);const d=y(e,["functionCall"]);d!=null&&x(n,["functionCall"],d);const h=y(e,["functionResponse"]);h!=null&&x(n,["functionResponse"],h);const f=y(e,["inlineData"]);f!=null&&x(n,["inlineData"],f);const p=y(e,["text"]);return p!=null&&x(n,["text"],p),n}function xM(t,e){const n={},a=y(e,["parts"]);if(a!=null){let l=a;Array.isArray(l)&&(l=l.map(u=>yM(t,u))),x(n,["parts"],l)}const s=y(e,["role"]);return s!=null&&x(n,["role"],s),n}function vM(t,e){const n={},a=y(e,["citationSources"]);return a!=null&&x(n,["citations"],a),n}function bM(t,e){const n={},a=y(e,["content"]);a!=null&&x(n,["content"],xM(t,a));const s=y(e,["citationMetadata"]);s!=null&&x(n,["citationMetadata"],vM(t,s));const l=y(e,["tokenCount"]);l!=null&&x(n,["tokenCount"],l);const u=y(e,["finishReason"]);u!=null&&x(n,["finishReason"],u);const d=y(e,["avgLogprobs"]);d!=null&&x(n,["avgLogprobs"],d);const h=y(e,["groundingMetadata"]);h!=null&&x(n,["groundingMetadata"],h);const f=y(e,["index"]);f!=null&&x(n,["index"],f);const p=y(e,["logprobsResult"]);p!=null&&x(n,["logprobsResult"],p);const b=y(e,["safetyRatings"]);return b!=null&&x(n,["safetyRatings"],b),n}function z0(t,e){const n={},a=y(e,["candidates"]);if(a!=null){let d=a;Array.isArray(d)&&(d=d.map(h=>bM(t,h))),x(n,["candidates"],d)}const s=y(e,["modelVersion"]);s!=null&&x(n,["modelVersion"],s);const l=y(e,["promptFeedback"]);l!=null&&x(n,["promptFeedback"],l);const u=y(e,["usageMetadata"]);return u!=null&&x(n,["usageMetadata"],u),n}function TM(t,e){const n={},a=y(e,["values"]);return a!=null&&x(n,["values"],a),n}function SM(){return{}}function CM(t,e){const n={},a=y(e,["embeddings"]);if(a!=null){let l=a;Array.isArray(l)&&(l=l.map(u=>TM(t,u))),x(n,["embeddings"],l)}return y(e,["metadata"])!=null&&x(n,["metadata"],SM()),n}function wM(t,e){const n={},a=y(e,["bytesBase64Encoded"]);a!=null&&x(n,["imageBytes"],tr(t,a));const s=y(e,["mimeType"]);return s!=null&&x(n,["mimeType"],s),n}function yb(t,e){const n={},a=y(e,["safetyAttributes","categories"]);a!=null&&x(n,["categories"],a);const s=y(e,["safetyAttributes","scores"]);s!=null&&x(n,["scores"],s);const l=y(e,["contentType"]);return l!=null&&x(n,["contentType"],l),n}function EM(t,e){const n={},a=y(e,["_self"]);a!=null&&x(n,["image"],wM(t,a));const s=y(e,["raiFilteredReason"]);s!=null&&x(n,["raiFilteredReason"],s);const l=y(e,["_self"]);return l!=null&&x(n,["safetyAttributes"],yb(t,l)),n}function AM(t,e){const n={},a=y(e,["predictions"]);if(a!=null){let l=a;Array.isArray(l)&&(l=l.map(u=>EM(t,u))),x(n,["generatedImages"],l)}const s=y(e,["positivePromptSafetyAttributes"]);return s!=null&&x(n,["positivePromptSafetyAttributes"],yb(t,s)),n}function MM(t,e){const n={},a=y(e,["baseModel"]);a!=null&&x(n,["baseModel"],a);const s=y(e,["createTime"]);s!=null&&x(n,["createTime"],s);const l=y(e,["updateTime"]);return l!=null&&x(n,["updateTime"],l),n}function F0(t,e){const n={},a=y(e,["name"]);a!=null&&x(n,["name"],a);const s=y(e,["displayName"]);s!=null&&x(n,["displayName"],s);const l=y(e,["description"]);l!=null&&x(n,["description"],l);const u=y(e,["version"]);u!=null&&x(n,["version"],u);const d=y(e,["_self"]);d!=null&&x(n,["tunedModelInfo"],MM(t,d));const h=y(e,["inputTokenLimit"]);h!=null&&x(n,["inputTokenLimit"],h);const f=y(e,["outputTokenLimit"]);f!=null&&x(n,["outputTokenLimit"],f);const p=y(e,["supportedGenerationMethods"]);return p!=null&&x(n,["supportedActions"],p),n}function NM(){return{}}function DM(t,e){const n={},a=y(e,["totalTokens"]);a!=null&&x(n,["totalTokens"],a);const s=y(e,["cachedContentTokenCount"]);return s!=null&&x(n,["cachedContentTokenCount"],s),n}function RM(t,e){const n={},a=y(e,["video","uri"]);a!=null&&x(n,["uri"],a);const s=y(e,["video","encodedVideo"]);s!=null&&x(n,["videoBytes"],tr(t,s));const l=y(e,["encoding"]);return l!=null&&x(n,["mimeType"],l),n}function kM(t,e){const n={},a=y(e,["_self"]);return a!=null&&x(n,["video"],RM(t,a)),n}function _M(t,e){const n={},a=y(e,["generatedSamples"]);if(a!=null){let u=a;Array.isArray(u)&&(u=u.map(d=>kM(t,d))),x(n,["generatedVideos"],u)}const s=y(e,["raiMediaFilteredCount"]);s!=null&&x(n,["raiMediaFilteredCount"],s);const l=y(e,["raiMediaFilteredReasons"]);return l!=null&&x(n,["raiMediaFilteredReasons"],l),n}function IM(t,e){const n={},a=y(e,["name"]);a!=null&&x(n,["name"],a);const s=y(e,["metadata"]);s!=null&&x(n,["metadata"],s);const l=y(e,["done"]);l!=null&&x(n,["done"],l);const u=y(e,["error"]);u!=null&&x(n,["error"],u);const d=y(e,["response","generateVideoResponse"]);return d!=null&&x(n,["response"],_M(t,d)),n}function PM(t,e){const n={},a=y(e,["videoMetadata"]);a!=null&&x(n,["videoMetadata"],a);const s=y(e,["thought"]);s!=null&&x(n,["thought"],s);const l=y(e,["codeExecutionResult"]);l!=null&&x(n,["codeExecutionResult"],l);const u=y(e,["executableCode"]);u!=null&&x(n,["executableCode"],u);const d=y(e,["fileData"]);d!=null&&x(n,["fileData"],d);const h=y(e,["functionCall"]);h!=null&&x(n,["functionCall"],h);const f=y(e,["functionResponse"]);f!=null&&x(n,["functionResponse"],f);const p=y(e,["inlineData"]);p!=null&&x(n,["inlineData"],p);const b=y(e,["text"]);return b!=null&&x(n,["text"],b),n}function VM(t,e){const n={},a=y(e,["parts"]);if(a!=null){let l=a;Array.isArray(l)&&(l=l.map(u=>PM(t,u))),x(n,["parts"],l)}const s=y(e,["role"]);return s!=null&&x(n,["role"],s),n}function LM(t,e){const n={},a=y(e,["citations"]);return a!=null&&x(n,["citations"],a),n}function BM(t,e){const n={},a=y(e,["content"]);a!=null&&x(n,["content"],VM(t,a));const s=y(e,["citationMetadata"]);s!=null&&x(n,["citationMetadata"],LM(t,s));const l=y(e,["finishMessage"]);l!=null&&x(n,["finishMessage"],l);const u=y(e,["finishReason"]);u!=null&&x(n,["finishReason"],u);const d=y(e,["avgLogprobs"]);d!=null&&x(n,["avgLogprobs"],d);const h=y(e,["groundingMetadata"]);h!=null&&x(n,["groundingMetadata"],h);const f=y(e,["index"]);f!=null&&x(n,["index"],f);const p=y(e,["logprobsResult"]);p!=null&&x(n,["logprobsResult"],p);const b=y(e,["safetyRatings"]);return b!=null&&x(n,["safetyRatings"],b),n}function H0(t,e){const n={},a=y(e,["candidates"]);if(a!=null){let f=a;Array.isArray(f)&&(f=f.map(p=>BM(t,p))),x(n,["candidates"],f)}const s=y(e,["createTime"]);s!=null&&x(n,["createTime"],s);const l=y(e,["responseId"]);l!=null&&x(n,["responseId"],l);const u=y(e,["modelVersion"]);u!=null&&x(n,["modelVersion"],u);const d=y(e,["promptFeedback"]);d!=null&&x(n,["promptFeedback"],d);const h=y(e,["usageMetadata"]);return h!=null&&x(n,["usageMetadata"],h),n}function jM(t,e){const n={},a=y(e,["truncated"]);a!=null&&x(n,["truncated"],a);const s=y(e,["token_count"]);return s!=null&&x(n,["tokenCount"],s),n}function OM(t,e){const n={},a=y(e,["values"]);a!=null&&x(n,["values"],a);const s=y(e,["statistics"]);return s!=null&&x(n,["statistics"],jM(t,s)),n}function UM(t,e){const n={},a=y(e,["billableCharacterCount"]);return a!=null&&x(n,["billableCharacterCount"],a),n}function zM(t,e){const n={},a=y(e,["predictions[]","embeddings"]);if(a!=null){let l=a;Array.isArray(l)&&(l=l.map(u=>OM(t,u))),x(n,["embeddings"],l)}const s=y(e,["metadata"]);return s!=null&&x(n,["metadata"],UM(t,s)),n}function FM(t,e){const n={},a=y(e,["gcsUri"]);a!=null&&x(n,["gcsUri"],a);const s=y(e,["bytesBase64Encoded"]);s!=null&&x(n,["imageBytes"],tr(t,s));const l=y(e,["mimeType"]);return l!=null&&x(n,["mimeType"],l),n}function xb(t,e){const n={},a=y(e,["safetyAttributes","categories"]);a!=null&&x(n,["categories"],a);const s=y(e,["safetyAttributes","scores"]);s!=null&&x(n,["scores"],s);const l=y(e,["contentType"]);return l!=null&&x(n,["contentType"],l),n}function HM(t,e){const n={},a=y(e,["_self"]);a!=null&&x(n,["image"],FM(t,a));const s=y(e,["raiFilteredReason"]);s!=null&&x(n,["raiFilteredReason"],s);const l=y(e,["_self"]);l!=null&&x(n,["safetyAttributes"],xb(t,l));const u=y(e,["prompt"]);return u!=null&&x(n,["enhancedPrompt"],u),n}function GM(t,e){const n={},a=y(e,["predictions"]);if(a!=null){let l=a;Array.isArray(l)&&(l=l.map(u=>HM(t,u))),x(n,["generatedImages"],l)}const s=y(e,["positivePromptSafetyAttributes"]);return s!=null&&x(n,["positivePromptSafetyAttributes"],xb(t,s)),n}function qM(t,e){const n={},a=y(e,["endpoint"]);a!=null&&x(n,["name"],a);const s=y(e,["deployedModelId"]);return s!=null&&x(n,["deployedModelId"],s),n}function YM(t,e){const n={},a=y(e,["labels","google-vertex-llm-tuning-base-model-id"]);a!=null&&x(n,["baseModel"],a);const s=y(e,["createTime"]);s!=null&&x(n,["createTime"],s);const l=y(e,["updateTime"]);return l!=null&&x(n,["updateTime"],l),n}function G0(t,e){const n={},a=y(e,["name"]);a!=null&&x(n,["name"],a);const s=y(e,["displayName"]);s!=null&&x(n,["displayName"],s);const l=y(e,["description"]);l!=null&&x(n,["description"],l);const u=y(e,["versionId"]);u!=null&&x(n,["version"],u);const d=y(e,["deployedModels"]);if(d!=null){let p=d;Array.isArray(p)&&(p=p.map(b=>qM(t,b))),x(n,["endpoints"],p)}const h=y(e,["labels"]);h!=null&&x(n,["labels"],h);const f=y(e,["_self"]);return f!=null&&x(n,["tunedModelInfo"],YM(t,f)),n}function KM(){return{}}function $M(t,e){const n={},a=y(e,["totalTokens"]);return a!=null&&x(n,["totalTokens"],a),n}function XM(t,e){const n={},a=y(e,["tokensInfo"]);return a!=null&&x(n,["tokensInfo"],a),n}function JM(t,e){const n={},a=y(e,["gcsUri"]);a!=null&&x(n,["uri"],a);const s=y(e,["bytesBase64Encoded"]);s!=null&&x(n,["videoBytes"],tr(t,s));const l=y(e,["mimeType"]);return l!=null&&x(n,["mimeType"],l),n}function QM(t,e){const n={},a=y(e,["_self"]);return a!=null&&x(n,["video"],JM(t,a)),n}function ZM(t,e){const n={},a=y(e,["videos"]);if(a!=null){let u=a;Array.isArray(u)&&(u=u.map(d=>QM(t,d))),x(n,["generatedVideos"],u)}const s=y(e,["raiMediaFilteredCount"]);s!=null&&x(n,["raiMediaFilteredCount"],s);const l=y(e,["raiMediaFilteredReasons"]);return l!=null&&x(n,["raiMediaFilteredReasons"],l),n}function WM(t,e){const n={},a=y(e,["name"]);a!=null&&x(n,["name"],a);const s=y(e,["metadata"]);s!=null&&x(n,["metadata"],s);const l=y(e,["done"]);l!=null&&x(n,["done"],l);const u=y(e,["error"]);u!=null&&x(n,["error"],u);const d=y(e,["response"]);return d!=null&&x(n,["response"],ZM(t,d)),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const eN="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function tN(t,e,n){let a,s;n.data instanceof Blob?s=JSON.parse(await n.data.text()):s=JSON.parse(n.data),t.isVertexAI()?a=yA(t,s):a=gA(t,s),e(a)}class nN{constructor(e,n,a){this.apiClient=e,this.auth=n,this.webSocketFactory=a}async connect(e){var n,a,s,l;const u=this.apiClient.getWebsocketBaseUrl(),d=this.apiClient.getApiVersion();let h;const f=sN(this.apiClient.getDefaultHeaders());if(this.apiClient.isVertexAI())h=`${u}/ws/google.cloud.aiplatform.${d}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(f);else{const G=this.apiClient.getApiKey();h=`${u}/ws/google.ai.generativelanguage.${d}.GenerativeService.BidiGenerateContent?key=${G}`}let p=()=>{};const b=new Promise(G=>{p=G}),T=e.callbacks,S=function(){var G;(G=T==null?void 0:T.onopen)===null||G===void 0||G.call(T),p({})},M=this.apiClient,D={onopen:S,onmessage:G=>{tN(M,T.onmessage,G)},onerror:(n=T==null?void 0:T.onerror)!==null&&n!==void 0?n:function(G){},onclose:(a=T==null?void 0:T.onclose)!==null&&a!==void 0?a:function(G){}},k=this.webSocketFactory.create(h,aN(f),D);k.connect(),await b;let _=gt(this.apiClient,e.model);if(this.apiClient.isVertexAI()&&_.startsWith("publishers/")){const G=this.apiClient.getProject(),K=this.apiClient.getLocation();_=`projects/${G}/locations/${K}/`+_}let O={};this.apiClient.isVertexAI()&&((s=e.config)===null||s===void 0?void 0:s.responseModalities)===void 0&&(e.config===void 0?e.config={responseModalities:[nu.AUDIO]}:e.config.responseModalities=[nu.AUDIO]),!((l=e.config)===null||l===void 0)&&l.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const P={model:_,config:e.config,callbacks:e.callbacks};return this.apiClient.isVertexAI()?O=HE(this.apiClient,P):O=FE(this.apiClient,P),delete O.config,k.send(JSON.stringify(O)),new rN(k,this.apiClient)}}const iN={turnComplete:!0};class rN{constructor(e,n){this.conn=e,this.apiClient=n}tLiveClientContent(e,n){if(n.turns!==null&&n.turns!==void 0){let a=[];try{a=Wi(e,n.turns),e.isVertexAI()?a=a.map(s=>Ra(e,s)):a=a.map(s=>xu(e,s))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof n.turns}'`)}return{clientContent:{turns:a,turnComplete:n.turnComplete}}}return{clientContent:{turnComplete:n.turnComplete}}}tLiveClienttToolResponse(e,n){let a=[];if(n.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(n.functionResponses)?a=n.functionResponses:a=[n.functionResponses],a.length===0)throw new Error("functionResponses is required.");for(const l of a){if(typeof l!="object"||l===null||!("name"in l)||!("response"in l))throw new Error(`Could not parse function response, type '${typeof l}'.`);if(!e.isVertexAI()&&!("id"in l))throw new Error(eN)}return{toolResponse:{functionResponses:a}}}sendClientContent(e){e=Object.assign(Object.assign({},iN),e);const n=this.tLiveClientContent(this.apiClient,e);this.conn.send(JSON.stringify(n))}sendRealtimeInput(e){let n={};this.apiClient.isVertexAI()?n={realtimeInput:XE(this.apiClient,e)}:n={realtimeInput:$E(this.apiClient,e)},this.conn.send(JSON.stringify(n))}sendToolResponse(e){if(e.functionResponses==null)throw new Error("Tool response parameters are required.");const n=this.tLiveClienttToolResponse(this.apiClient,e);this.conn.send(JSON.stringify(n))}close(){this.conn.close()}}function aN(t){const e={};return t.forEach((n,a)=>{e[a]=n}),e}function sN(t){const e=new Headers;for(const[n,a]of Object.entries(t))e.append(n,a);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class oN extends ho{constructor(e){super(),this.apiClient=e,this.generateContent=async n=>await this.generateContentInternal(n),this.generateContentStream=async n=>await this.generateContentStreamInternal(n),this.generateImages=async n=>await this.generateImagesInternal(n).then(a=>{var s;let l;const u=[];if(a!=null&&a.generatedImages)for(const h of a.generatedImages)h&&(h!=null&&h.safetyAttributes)&&((s=h==null?void 0:h.safetyAttributes)===null||s===void 0?void 0:s.contentType)==="Positive Prompt"?l=h==null?void 0:h.safetyAttributes:u.push(h);let d;return l?d={generatedImages:u,positivePromptSafetyAttributes:l}:d={generatedImages:u},d})}async generateContentInternal(e){var n,a,s,l;let u,d="",h={};if(this.apiClient.isVertexAI()){const f=U0(this.apiClient,e);return d=ke("{model}:generateContent",f._url),h=f._query,delete f.config,delete f._url,delete f._query,u=this.apiClient.request({path:d,queryParams:h,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(p=>p.json()),u.then(p=>{const b=H0(this.apiClient,p),T=new Pl;return Object.assign(T,b),T})}else{const f=O0(this.apiClient,e);return d=ke("{model}:generateContent",f._url),h=f._query,delete f.config,delete f._url,delete f._query,u=this.apiClient.request({path:d,queryParams:h,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(p=>p.json()),u.then(p=>{const b=z0(this.apiClient,p),T=new Pl;return Object.assign(T,b),T})}}async generateContentStreamInternal(e){var n,a,s,l;let u,d="",h={};if(this.apiClient.isVertexAI()){const f=U0(this.apiClient,e);d=ke("{model}:streamGenerateContent?alt=sse",f._url),h=f._query,delete f.config,delete f._url,delete f._query;const p=this.apiClient;return u=p.requestStream({path:d,queryParams:h,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}),u.then(function(b){return iu(this,arguments,function*(){var T,S,M,D;try{for(var k=!0,_=Tf(b),O;O=yield Ht(_.next()),T=O.done,!T;k=!0){D=O.value,k=!1;const G=H0(p,yield Ht(D.json())),K=new Pl;Object.assign(K,G),yield yield Ht(K)}}catch(P){S={error:P}}finally{try{!k&&!T&&(M=_.return)&&(yield Ht(M.call(_)))}finally{if(S)throw S.error}}})})}else{const f=O0(this.apiClient,e);d=ke("{model}:streamGenerateContent?alt=sse",f._url),h=f._query,delete f.config,delete f._url,delete f._query;const p=this.apiClient;return u=p.requestStream({path:d,queryParams:h,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}),u.then(function(b){return iu(this,arguments,function*(){var T,S,M,D;try{for(var k=!0,_=Tf(b),O;O=yield Ht(_.next()),T=O.done,!T;k=!0){D=O.value,k=!1;const G=z0(p,yield Ht(D.json())),K=new Pl;Object.assign(K,G),yield yield Ht(K)}}catch(P){S={error:P}}finally{try{!k&&!T&&(M=_.return)&&(yield Ht(M.call(_)))}finally{if(S)throw S.error}}})})}}async embedContent(e){var n,a,s,l;let u,d="",h={};if(this.apiClient.isVertexAI()){const f=rM(this.apiClient,e);return d=ke("{model}:predict",f._url),h=f._query,delete f.config,delete f._url,delete f._query,u=this.apiClient.request({path:d,queryParams:h,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(p=>p.json()),u.then(p=>{const b=zM(this.apiClient,p),T=new N0;return Object.assign(T,b),T})}else{const f=_A(this.apiClient,e);return d=ke("{model}:batchEmbedContents",f._url),h=f._query,delete f.config,delete f._url,delete f._query,u=this.apiClient.request({path:d,queryParams:h,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(p=>p.json()),u.then(p=>{const b=CM(this.apiClient,p),T=new N0;return Object.assign(T,b),T})}}async generateImagesInternal(e){var n,a,s,l;let u,d="",h={};if(this.apiClient.isVertexAI()){const f=sM(this.apiClient,e);return d=ke("{model}:predict",f._url),h=f._query,delete f.config,delete f._url,delete f._query,u=this.apiClient.request({path:d,queryParams:h,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(p=>p.json()),u.then(p=>{const b=GM(this.apiClient,p),T=new D0;return Object.assign(T,b),T})}else{const f=PA(this.apiClient,e);return d=ke("{model}:predict",f._url),h=f._query,delete f.config,delete f._url,delete f._query,u=this.apiClient.request({path:d,queryParams:h,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(p=>p.json()),u.then(p=>{const b=AM(this.apiClient,p),T=new D0;return Object.assign(T,b),T})}}async get(e){var n,a,s,l;let u,d="",h={};if(this.apiClient.isVertexAI()){const f=oM(this.apiClient,e);return d=ke("{name}",f._url),h=f._query,delete f.config,delete f._url,delete f._query,u=this.apiClient.request({path:d,queryParams:h,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(p=>p.json()),u.then(p=>G0(this.apiClient,p))}else{const f=VA(this.apiClient,e);return d=ke("{name}",f._url),h=f._query,delete f.config,delete f._url,delete f._query,u=this.apiClient.request({path:d,queryParams:h,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(p=>p.json()),u.then(p=>F0(this.apiClient,p))}}async update(e){var n,a,s,l;let u,d="",h={};if(this.apiClient.isVertexAI()){const f=uM(this.apiClient,e);return d=ke("{model}",f._url),h=f._query,delete f.config,delete f._url,delete f._query,u=this.apiClient.request({path:d,queryParams:h,body:JSON.stringify(f),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(p=>p.json()),u.then(p=>G0(this.apiClient,p))}else{const f=BA(this.apiClient,e);return d=ke("{name}",f._url),h=f._query,delete f.config,delete f._url,delete f._query,u=this.apiClient.request({path:d,queryParams:h,body:JSON.stringify(f),httpMethod:"PATCH",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(p=>p.json()),u.then(p=>F0(this.apiClient,p))}}async delete(e){var n,a,s,l;let u,d="",h={};if(this.apiClient.isVertexAI()){const f=cM(this.apiClient,e);return d=ke("{name}",f._url),h=f._query,delete f.config,delete f._url,delete f._query,u=this.apiClient.request({path:d,queryParams:h,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(p=>p.json()),u.then(()=>{const p=KM(),b=new R0;return Object.assign(b,p),b})}else{const f=jA(this.apiClient,e);return d=ke("{name}",f._url),h=f._query,delete f.config,delete f._url,delete f._query,u=this.apiClient.request({path:d,queryParams:h,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(p=>p.json()),u.then(()=>{const p=NM(),b=new R0;return Object.assign(b,p),b})}}async countTokens(e){var n,a,s,l;let u,d="",h={};if(this.apiClient.isVertexAI()){const f=fM(this.apiClient,e);return d=ke("{model}:countTokens",f._url),h=f._query,delete f.config,delete f._url,delete f._query,u=this.apiClient.request({path:d,queryParams:h,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(p=>p.json()),u.then(p=>{const b=$M(this.apiClient,p),T=new k0;return Object.assign(T,b),T})}else{const f=UA(this.apiClient,e);return d=ke("{model}:countTokens",f._url),h=f._query,delete f.config,delete f._url,delete f._query,u=this.apiClient.request({path:d,queryParams:h,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(p=>p.json()),u.then(p=>{const b=DM(this.apiClient,p),T=new k0;return Object.assign(T,b),T})}}async computeTokens(e){var n,a;let s,l="",u={};if(this.apiClient.isVertexAI()){const d=hM(this.apiClient,e);return l=ke("{model}:computeTokens",d._url),u=d._query,delete d.config,delete d._url,delete d._query,s=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json()),s.then(h=>{const f=XM(this.apiClient,h),p=new Xw;return Object.assign(p,f),p})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideos(e){var n,a,s,l;let u,d="",h={};if(this.apiClient.isVertexAI()){const f=gM(this.apiClient,e);return d=ke("{model}:predictLongRunning",f._url),h=f._query,delete f.config,delete f._url,delete f._query,u=this.apiClient.request({path:d,queryParams:h,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(p=>p.json()),u.then(p=>WM(this.apiClient,p))}else{const f=HA(this.apiClient,e);return d=ke("{model}:predictLongRunning",f._url),h=f._query,delete f.config,delete f._url,delete f._query,u=this.apiClient.request({path:d,queryParams:h,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(p=>p.json()),u.then(p=>IM(this.apiClient,p))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function lN(t,e){const n={},a=y(e,["operationName"]);a!=null&&x(n,["_url","operationName"],a);const s=y(e,["config"]);return s!=null&&x(n,["config"],s),n}function uN(t,e){const n={},a=y(e,["operationName"]);a!=null&&x(n,["_url","operationName"],a);const s=y(e,["config"]);return s!=null&&x(n,["config"],s),n}function cN(t,e){const n={},a=y(e,["operationName"]);a!=null&&x(n,["operationName"],a);const s=y(e,["resourceName"]);s!=null&&x(n,["_url","resourceName"],s);const l=y(e,["config"]);return l!=null&&x(n,["config"],l),n}function dN(t,e){const n={},a=y(e,["video","uri"]);a!=null&&x(n,["uri"],a);const s=y(e,["video","encodedVideo"]);s!=null&&x(n,["videoBytes"],tr(t,s));const l=y(e,["encoding"]);return l!=null&&x(n,["mimeType"],l),n}function fN(t,e){const n={},a=y(e,["_self"]);return a!=null&&x(n,["video"],dN(t,a)),n}function hN(t,e){const n={},a=y(e,["generatedSamples"]);if(a!=null){let u=a;Array.isArray(u)&&(u=u.map(d=>fN(t,d))),x(n,["generatedVideos"],u)}const s=y(e,["raiMediaFilteredCount"]);s!=null&&x(n,["raiMediaFilteredCount"],s);const l=y(e,["raiMediaFilteredReasons"]);return l!=null&&x(n,["raiMediaFilteredReasons"],l),n}function mN(t,e){const n={},a=y(e,["name"]);a!=null&&x(n,["name"],a);const s=y(e,["metadata"]);s!=null&&x(n,["metadata"],s);const l=y(e,["done"]);l!=null&&x(n,["done"],l);const u=y(e,["error"]);u!=null&&x(n,["error"],u);const d=y(e,["response","generateVideoResponse"]);return d!=null&&x(n,["response"],hN(t,d)),n}function pN(t,e){const n={},a=y(e,["gcsUri"]);a!=null&&x(n,["uri"],a);const s=y(e,["bytesBase64Encoded"]);s!=null&&x(n,["videoBytes"],tr(t,s));const l=y(e,["mimeType"]);return l!=null&&x(n,["mimeType"],l),n}function gN(t,e){const n={},a=y(e,["_self"]);return a!=null&&x(n,["video"],pN(t,a)),n}function yN(t,e){const n={},a=y(e,["videos"]);if(a!=null){let u=a;Array.isArray(u)&&(u=u.map(d=>gN(t,d))),x(n,["generatedVideos"],u)}const s=y(e,["raiMediaFilteredCount"]);s!=null&&x(n,["raiMediaFilteredCount"],s);const l=y(e,["raiMediaFilteredReasons"]);return l!=null&&x(n,["raiMediaFilteredReasons"],l),n}function q0(t,e){const n={},a=y(e,["name"]);a!=null&&x(n,["name"],a);const s=y(e,["metadata"]);s!=null&&x(n,["metadata"],s);const l=y(e,["done"]);l!=null&&x(n,["done"],l);const u=y(e,["error"]);u!=null&&x(n,["error"],u);const d=y(e,["response"]);return d!=null&&x(n,["response"],yN(t,d)),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class xN extends ho{constructor(e){super(),this.apiClient=e}async getVideosOperation(e){const n=e.operation,a=e.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const s=n.name.split("/operations/")[0];let l;return a&&"httpOptions"in a&&(l=a.httpOptions),this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:s,config:{httpOptions:l}})}else return this.getVideosOperationInternal({operationName:n.name,config:a})}async getVideosOperationInternal(e){var n,a,s,l;let u,d="",h={};if(this.apiClient.isVertexAI()){const f=uN(this.apiClient,e);return d=ke("{operationName}",f._url),h=f._query,delete f.config,delete f._url,delete f._query,u=this.apiClient.request({path:d,queryParams:h,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(p=>p.json()),u.then(p=>q0(this.apiClient,p))}else{const f=lN(this.apiClient,e);return d=ke("{operationName}",f._url),h=f._query,delete f.config,delete f._url,delete f._query,u=this.apiClient.request({path:d,queryParams:h,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(p=>p.json()),u.then(p=>mN(this.apiClient,p))}}async fetchPredictVideosOperationInternal(e){var n,a;let s,l="",u={};if(this.apiClient.isVertexAI()){const d=cN(this.apiClient,e);return l=ke("{resourceName}:fetchPredictOperation",d._url),u=d._query,delete d.config,delete d._url,delete d._query,s=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json()),s.then(h=>q0(this.apiClient,h))}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const vN="Content-Type",bN="X-Server-Timeout",TN="User-Agent",SN="x-goog-api-client",CN="0.12.0",wN=`google-genai-sdk/${CN}`,EN="v1beta1",AN="v1beta",Y0=/^data: (.*)(?:\n\n|\r\r|\r\n\r\n)/;class vb extends Error{constructor(e,n){n?super(e,{cause:n}):super(e,{cause:new Error().stack}),this.message=e,this.name="ClientError"}}class Cf extends Error{constructor(e,n){n?super(e,{cause:n}):super(e,{cause:new Error().stack}),this.message=e,this.name="ServerError"}}class MN{constructor(e){var n,a;this.clientOptions=Object.assign(Object.assign({},e),{project:e.project,location:e.location,apiKey:e.apiKey,vertexai:e.vertexai});const s={};this.clientOptions.vertexai?(s.apiVersion=(n=this.clientOptions.apiVersion)!==null&&n!==void 0?n:EN,this.getProject()||this.getLocation()?(s.baseUrl=`https://${this.clientOptions.location}-aiplatform.googleapis.com/`,this.clientOptions.apiKey=void 0):(s.baseUrl="https://aiplatform.googleapis.com/",this.clientOptions.project=void 0,this.clientOptions.location=void 0)):(s.apiVersion=(a=this.clientOptions.apiVersion)!==null&&a!==void 0?a:AN,s.baseUrl="https://generativelanguage.googleapis.com/"),s.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=s,e.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(s,e.httpOptions))}isVertexAI(){var e;return(e=this.clientOptions.vertexai)!==null&&e!==void 0?e:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(e){if(!e||e.baseUrl===void 0||e.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const a=[e.baseUrl.endsWith("/")?e.baseUrl.slice(0,-1):e.baseUrl];return e.apiVersion&&e.apiVersion!==""&&a.push(e.apiVersion),a.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const e=this.getBaseUrl(),n=new URL(e);return n.protocol=n.protocol=="http:"?"ws":"wss",n.toString()}setBaseUrl(e){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=e;else throw new Error("HTTP options are not correctly set.")}constructUrl(e,n,a){const s=[this.getRequestUrlInternal(n)];return a&&s.push(this.getBaseResourcePath()),e!==""&&s.push(e),new URL(`${s.join("/")}`)}shouldPrependVertexProjectPath(e){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||e.path.startsWith("projects/")||e.httpMethod==="GET"&&e.path.startsWith("publishers/google/models"))}async request(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const a=this.shouldPrependVertexProjectPath(e),s=this.constructUrl(e.path,n,a);if(e.queryParams)for(const[u,d]of Object.entries(e.queryParams))s.searchParams.append(u,String(d));let l={};if(e.httpMethod==="GET"){if(e.body&&e.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else l.body=e.body;return l=await this.includeExtraHttpOptionsToRequestInit(l,n,e.abortSignal),this.unaryApiCall(s,l,e.httpMethod)}patchHttpOptions(e,n){const a=JSON.parse(JSON.stringify(e));for(const[s,l]of Object.entries(n))typeof l=="object"?a[s]=Object.assign(Object.assign({},a[s]),l):l!==void 0&&(a[s]=l);return a}async requestStream(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const a=this.shouldPrependVertexProjectPath(e),s=this.constructUrl(e.path,n,a);(!s.searchParams.has("alt")||s.searchParams.get("alt")!=="sse")&&s.searchParams.set("alt","sse");let l={};return l.body=e.body,l=await this.includeExtraHttpOptionsToRequestInit(l,n,e.abortSignal),this.streamApiCall(s,l,e.httpMethod)}async includeExtraHttpOptionsToRequestInit(e,n,a){if(n&&n.timeout||a){const s=new AbortController,l=s.signal;n.timeout&&(n==null?void 0:n.timeout)>0&&setTimeout(()=>s.abort(),n.timeout),a&&a.addEventListener("abort",()=>{s.abort()}),e.signal=l}return e.headers=await this.getHeadersInternal(n),e}async unaryApiCall(e,n,a){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:a})).then(async s=>(await K0(s),new bf(s))).catch(s=>{throw s instanceof Error?s:new Error(JSON.stringify(s))})}async streamApiCall(e,n,a){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:a})).then(async s=>(await K0(s),this.processStreamResponse(s))).catch(s=>{throw s instanceof Error?s:new Error(JSON.stringify(s))})}processStreamResponse(e){var n;return iu(this,arguments,function*(){const s=(n=e==null?void 0:e.body)===null||n===void 0?void 0:n.getReader(),l=new TextDecoder("utf-8");if(!s)throw new Error("Response body is empty");try{let u="";for(;;){const{done:d,value:h}=yield Ht(s.read());if(d){if(u.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const f=l.decode(h);try{const b=JSON.parse(f);if("error"in b){const T=JSON.parse(JSON.stringify(b.error)),S=T.status,M=T.code,D=`got status: ${S}. ${JSON.stringify(b)}`;if(M>=400&&M<500)throw new vb(D);if(M>=500&&M<600)throw new Cf(D)}}catch(b){const T=b;if(T.name==="ClientError"||T.name==="ServerError")throw b}u+=f;let p=u.match(Y0);for(;p;){const b=p[1];try{const T=new Response(b,{headers:e==null?void 0:e.headers,status:e==null?void 0:e.status,statusText:e==null?void 0:e.statusText});yield yield Ht(new bf(T)),u=u.slice(p[0].length),p=u.match(Y0)}catch(T){throw new Error(`exception parsing stream chunk ${b}. ${T}`)}}}}finally{s.releaseLock()}})}async apiCall(e,n){return fetch(e,n).catch(a=>{throw new Error(`exception ${a} sending request`)})}getDefaultHeaders(){const e={},n=wN+" "+this.clientOptions.userAgentExtra;return e[TN]=n,e[SN]=n,e[vN]="application/json",e}async getHeadersInternal(e){const n=new Headers;if(e&&e.headers){for(const[a,s]of Object.entries(e.headers))n.append(a,s);e.timeout&&e.timeout>0&&n.append(bN,String(Math.ceil(e.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(n),n}async uploadFile(e,n){var a;const s={};n!=null&&(s.mimeType=n.mimeType,s.name=n.name,s.displayName=n.displayName),s.name&&!s.name.startsWith("files/")&&(s.name=`files/${s.name}`);const l=this.clientOptions.uploader,u=await l.stat(e);s.sizeBytes=String(u.size);const d=(a=n==null?void 0:n.mimeType)!==null&&a!==void 0?a:u.type;if(d===void 0||d==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");s.mimeType=d;const h=await this.fetchUploadUrl(s,n);return l.upload(e,h,this)}async fetchUploadUrl(e,n){var a;let s={};n!=null&&n.httpOptions?s=n.httpOptions:s={apiVersion:"",headers:{"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${e.sizeBytes}`,"X-Goog-Upload-Header-Content-Type":`${e.mimeType}`}};const l={file:e},u=await this.request({path:ke("upload/v1beta/files",l._url),body:JSON.stringify(l),httpMethod:"POST",httpOptions:s});if(!u||!(u!=null&&u.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const d=(a=u==null?void 0:u.headers)===null||a===void 0?void 0:a["x-goog-upload-url"];if(d===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return d}}async function K0(t){var e;if(t===void 0)throw new Cf("response is undefined");if(!t.ok){const n=t.status,a=t.statusText;let s;!((e=t.headers.get("content-type"))===null||e===void 0)&&e.includes("application/json")?s=await t.json():s={error:{message:await t.text(),code:t.status,status:t.statusText}};const l=`got status: ${n} ${a}. ${JSON.stringify(s)}`;throw n>=400&&n<500?new vb(l):n>=500&&n<600?new Cf(l):new Error(l)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function NN(t,e){const n={},a=y(e,["name"]);a!=null&&x(n,["_url","name"],a);const s=y(e,["config"]);return s!=null&&x(n,["config"],s),n}function DN(t,e,n){const a={},s=y(e,["pageSize"]);n!==void 0&&s!=null&&x(n,["_query","pageSize"],s);const l=y(e,["pageToken"]);n!==void 0&&l!=null&&x(n,["_query","pageToken"],l);const u=y(e,["filter"]);return n!==void 0&&u!=null&&x(n,["_query","filter"],u),a}function RN(t,e){const n={},a=y(e,["config"]);return a!=null&&x(n,["config"],DN(t,a,n)),n}function kN(t,e){const n={},a=y(e,["textInput"]);a!=null&&x(n,["textInput"],a);const s=y(e,["output"]);return s!=null&&x(n,["output"],s),n}function _N(t,e){const n={};if(y(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const a=y(e,["examples"]);if(a!=null){let s=a;Array.isArray(s)&&(s=s.map(l=>kN(t,l))),x(n,["examples","examples"],s)}return n}function IN(t,e,n){const a={};if(y(e,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const s=y(e,["tunedModelDisplayName"]);if(n!==void 0&&s!=null&&x(n,["displayName"],s),y(e,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const l=y(e,["epochCount"]);n!==void 0&&l!=null&&x(n,["tuningTask","hyperparameters","epochCount"],l);const u=y(e,["learningRateMultiplier"]);if(u!=null&&x(a,["tuningTask","hyperparameters","learningRateMultiplier"],u),y(e,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const d=y(e,["batchSize"]);n!==void 0&&d!=null&&x(n,["tuningTask","hyperparameters","batchSize"],d);const h=y(e,["learningRate"]);return n!==void 0&&h!=null&&x(n,["tuningTask","hyperparameters","learningRate"],h),a}function PN(t,e){const n={},a=y(e,["baseModel"]);a!=null&&x(n,["baseModel"],a);const s=y(e,["trainingDataset"]);s!=null&&x(n,["tuningTask","trainingData"],_N(t,s));const l=y(e,["config"]);return l!=null&&x(n,["config"],IN(t,l,n)),n}function VN(t,e){const n={},a=y(e,["name"]);a!=null&&x(n,["_url","name"],a);const s=y(e,["config"]);return s!=null&&x(n,["config"],s),n}function LN(t,e,n){const a={},s=y(e,["pageSize"]);n!==void 0&&s!=null&&x(n,["_query","pageSize"],s);const l=y(e,["pageToken"]);n!==void 0&&l!=null&&x(n,["_query","pageToken"],l);const u=y(e,["filter"]);return n!==void 0&&u!=null&&x(n,["_query","filter"],u),a}function BN(t,e){const n={},a=y(e,["config"]);return a!=null&&x(n,["config"],LN(t,a,n)),n}function jN(t,e,n){const a={},s=y(e,["gcsUri"]);if(n!==void 0&&s!=null&&x(n,["supervisedTuningSpec","trainingDatasetUri"],s),y(e,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return a}function ON(t,e){const n={},a=y(e,["gcsUri"]);return a!=null&&x(n,["validationDatasetUri"],a),n}function UN(t,e,n){const a={},s=y(e,["validationDataset"]);n!==void 0&&s!=null&&x(n,["supervisedTuningSpec"],ON(t,s));const l=y(e,["tunedModelDisplayName"]);n!==void 0&&l!=null&&x(n,["tunedModelDisplayName"],l);const u=y(e,["description"]);n!==void 0&&u!=null&&x(n,["description"],u);const d=y(e,["epochCount"]);n!==void 0&&d!=null&&x(n,["supervisedTuningSpec","hyperParameters","epochCount"],d);const h=y(e,["learningRateMultiplier"]);n!==void 0&&h!=null&&x(n,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],h);const f=y(e,["adapterSize"]);if(n!==void 0&&f!=null&&x(n,["supervisedTuningSpec","hyperParameters","adapterSize"],f),y(e,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(y(e,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");return a}function zN(t,e){const n={},a=y(e,["baseModel"]);a!=null&&x(n,["baseModel"],a);const s=y(e,["trainingDataset"]);s!=null&&x(n,["supervisedTuningSpec","trainingDatasetUri"],jN(t,s,n));const l=y(e,["config"]);return l!=null&&x(n,["config"],UN(t,l,n)),n}function FN(t,e){const n={},a=y(e,["name"]);a!=null&&x(n,["model"],a);const s=y(e,["name"]);return s!=null&&x(n,["endpoint"],s),n}function bb(t,e){const n={},a=y(e,["name"]);a!=null&&x(n,["name"],a);const s=y(e,["state"]);s!=null&&x(n,["state"],hb(t,s));const l=y(e,["createTime"]);l!=null&&x(n,["createTime"],l);const u=y(e,["tuningTask","startTime"]);u!=null&&x(n,["startTime"],u);const d=y(e,["tuningTask","completeTime"]);d!=null&&x(n,["endTime"],d);const h=y(e,["updateTime"]);h!=null&&x(n,["updateTime"],h);const f=y(e,["description"]);f!=null&&x(n,["description"],f);const p=y(e,["baseModel"]);p!=null&&x(n,["baseModel"],p);const b=y(e,["_self"]);b!=null&&x(n,["tunedModel"],FN(t,b));const T=y(e,["distillationSpec"]);T!=null&&x(n,["distillationSpec"],T);const S=y(e,["experiment"]);S!=null&&x(n,["experiment"],S);const M=y(e,["labels"]);M!=null&&x(n,["labels"],M);const D=y(e,["pipelineJob"]);D!=null&&x(n,["pipelineJob"],D);const k=y(e,["tunedModelDisplayName"]);return k!=null&&x(n,["tunedModelDisplayName"],k),n}function HN(t,e){const n={},a=y(e,["nextPageToken"]);a!=null&&x(n,["nextPageToken"],a);const s=y(e,["tunedModels"]);if(s!=null){let l=s;Array.isArray(l)&&(l=l.map(u=>bb(t,u))),x(n,["tuningJobs"],l)}return n}function GN(t,e){const n={},a=y(e,["name"]);a!=null&&x(n,["name"],a);const s=y(e,["metadata"]);s!=null&&x(n,["metadata"],s);const l=y(e,["done"]);l!=null&&x(n,["done"],l);const u=y(e,["error"]);return u!=null&&x(n,["error"],u),n}function qN(t,e){const n={},a=y(e,["model"]);a!=null&&x(n,["model"],a);const s=y(e,["endpoint"]);return s!=null&&x(n,["endpoint"],s),n}function wf(t,e){const n={},a=y(e,["name"]);a!=null&&x(n,["name"],a);const s=y(e,["state"]);s!=null&&x(n,["state"],hb(t,s));const l=y(e,["createTime"]);l!=null&&x(n,["createTime"],l);const u=y(e,["startTime"]);u!=null&&x(n,["startTime"],u);const d=y(e,["endTime"]);d!=null&&x(n,["endTime"],d);const h=y(e,["updateTime"]);h!=null&&x(n,["updateTime"],h);const f=y(e,["error"]);f!=null&&x(n,["error"],f);const p=y(e,["description"]);p!=null&&x(n,["description"],p);const b=y(e,["baseModel"]);b!=null&&x(n,["baseModel"],b);const T=y(e,["tunedModel"]);T!=null&&x(n,["tunedModel"],qN(t,T));const S=y(e,["supervisedTuningSpec"]);S!=null&&x(n,["supervisedTuningSpec"],S);const M=y(e,["tuningDataStats"]);M!=null&&x(n,["tuningDataStats"],M);const D=y(e,["encryptionSpec"]);D!=null&&x(n,["encryptionSpec"],D);const k=y(e,["partnerModelTuningSpec"]);k!=null&&x(n,["partnerModelTuningSpec"],k);const _=y(e,["distillationSpec"]);_!=null&&x(n,["distillationSpec"],_);const O=y(e,["experiment"]);O!=null&&x(n,["experiment"],O);const P=y(e,["labels"]);P!=null&&x(n,["labels"],P);const G=y(e,["pipelineJob"]);G!=null&&x(n,["pipelineJob"],G);const K=y(e,["tunedModelDisplayName"]);return K!=null&&x(n,["tunedModelDisplayName"],K),n}function YN(t,e){const n={},a=y(e,["nextPageToken"]);a!=null&&x(n,["nextPageToken"],a);const s=y(e,["tuningJobs"]);if(s!=null){let l=s;Array.isArray(l)&&(l=l.map(u=>wf(t,u))),x(n,["tuningJobs"],l)}return n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class KN extends ho{constructor(e){super(),this.apiClient=e,this.get=async n=>await this.getInternal(n),this.list=async(n={})=>new lh(no.PAGED_ITEM_TUNING_JOBS,a=>this.listInternal(a),await this.listInternal(n),n),this.tune=async n=>{if(this.apiClient.isVertexAI())return await this.tuneInternal(n);{const a=await this.tuneMldevInternal(n);let s="";return a.metadata!==void 0&&a.metadata.tunedModel!==void 0?s=a.metadata.tunedModel:a.name!==void 0&&a.name.includes("/operations/")&&(s=a.name.split("/operations/")[0]),{name:s,state:vf.JOB_STATE_QUEUED}}}}async getInternal(e){var n,a,s,l;let u,d="",h={};if(this.apiClient.isVertexAI()){const f=VN(this.apiClient,e);return d=ke("{name}",f._url),h=f._query,delete f.config,delete f._url,delete f._query,u=this.apiClient.request({path:d,queryParams:h,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(p=>p.json()),u.then(p=>wf(this.apiClient,p))}else{const f=NN(this.apiClient,e);return d=ke("{name}",f._url),h=f._query,delete f.config,delete f._url,delete f._query,u=this.apiClient.request({path:d,queryParams:h,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(p=>p.json()),u.then(p=>bb(this.apiClient,p))}}async listInternal(e){var n,a,s,l;let u,d="",h={};if(this.apiClient.isVertexAI()){const f=BN(this.apiClient,e);return d=ke("tuningJobs",f._url),h=f._query,delete f.config,delete f._url,delete f._query,u=this.apiClient.request({path:d,queryParams:h,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(p=>p.json()),u.then(p=>{const b=YN(this.apiClient,p),T=new _0;return Object.assign(T,b),T})}else{const f=RN(this.apiClient,e);return d=ke("tunedModels",f._url),h=f._query,delete f.config,delete f._url,delete f._query,u=this.apiClient.request({path:d,queryParams:h,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(p=>p.json()),u.then(p=>{const b=HN(this.apiClient,p),T=new _0;return Object.assign(T,b),T})}}async tuneInternal(e){var n,a;let s,l="",u={};if(this.apiClient.isVertexAI()){const d=zN(this.apiClient,e);return l=ke("tuningJobs",d._url),u=d._query,delete d.config,delete d._url,delete d._query,s=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json()),s.then(h=>wf(this.apiClient,h))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(e){var n,a;let s,l="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const d=PN(this.apiClient,e);return l=ke("tunedModels",d._url),u=d._query,delete d.config,delete d._url,delete d._query,s=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json()),s.then(h=>GN(this.apiClient,h))}}}const $N=1024*1024*8;async function XN(t,e,n){var a,s;let l=0,u=0,d=new bf(new Response),h="upload";for(l=t.size;u<l;){const p=Math.min($N,l-u),b=t.slice(u,u+p);if(u+p>=l&&(h+=", finalize"),d=await n.request({path:"",body:b,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:e,headers:{"X-Goog-Upload-Command":h,"X-Goog-Upload-Offset":String(u),"Content-Length":String(p)}}}),u+=p,((a=d==null?void 0:d.headers)===null||a===void 0?void 0:a["x-goog-upload-status"])!=="active")break;if(l<=u)throw new Error("All content has been uploaded, but the upload status is not finalized.")}const f=await(d==null?void 0:d.json());if(((s=d==null?void 0:d.headers)===null||s===void 0?void 0:s["x-goog-upload-status"])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return f.file}async function JN(t){return{size:t.size,type:t.type}}class QN{async upload(e,n,a){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await XN(e,n,a)}async stat(e){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await JN(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class ZN{create(e,n,a){return new WN(e,n,a)}}class WN{constructor(e,n,a){this.url=e,this.headers=n,this.callbacks=a}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(e){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(e)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const $0="x-goog-api-key";class e2{constructor(e){this.apiKey=e}async addAuthHeaders(e){e.get($0)===null&&e.append($0,this.apiKey)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const t2="gl-node/";class n2{constructor(e){var n;if(e.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(e.project||e.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(n=e.vertexai)!==null&&n!==void 0?n:!1,this.apiKey=e.apiKey;const a=dw(e,void 0,void 0);a&&(e.httpOptions?e.httpOptions.baseUrl=a:e.httpOptions={baseUrl:a}),this.apiVersion=e.apiVersion;const s=new e2(this.apiKey);this.apiClient=new MN({auth:s,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:e.httpOptions,userAgentExtra:t2+"web",uploader:new QN}),this.models=new oN(this.apiClient),this.live=new nN(this.apiClient,s,new ZN),this.chats=new iE(this.models,this.apiClient),this.caches=new Ww(this.apiClient),this.files=new gE(this.apiClient),this.operations=new xN(this.apiClient),this.tunings=new KN(this.apiClient)}}const Rr="gemini-2.0-flash-exp",X0="TrackGuide",J0="songGuidebookLibrary",Bs="trackGuideLastUsedDAW",Bl="trackGuideLastUsedPlugins",Tb=["Pop","Indie Pop","Synth-Pop","Rock","Alternative Rock","Hard Rock","Punk Rock","Post-Punk","Nu Metal","Progressive Rock","Psychedelic Rock","Folk Rock","Shoegaze","House","Deep House","Progressive House","Tech House","Bass House","Electro House","Minimal House","Techno","Minimal Techno","Industrial Techno","Melodic Techno","Ambient Techno","Hard Techno","Trance","Progressive Trance","Psytrance","Goa Trance","Hard Trance","Ambient","Dark Ambient","Downtempo","Chillout","Chillwave","Psybient","Berlin School","Synthwave","Retrowave","Darksynth","Vaporwave","Future Funk","Drum and Bass","Jungle","Liquid DnB","Neurofunk","Breakcore","Dubstep","Riddim","Future Bass","Trap (EDM)","Hardstyle","Gabber","UK Hardcore","IDM (Intelligent Dance Music)","Glitch","Breakbeat","UK Garage","2-Step","Future Garage","EBM (Electronic Body Music)","Footwork","Juke","Hip Hop","Boom Bap","Trap","Lo-fi Hip Hop","Cloud Rap","Drill","Conscious Hip Hop","R&B","Contemporary R&B","Neo-Soul","Soul","Folk","Acoustic","World Music","Reggae","Dub","Ska","Latin","Afrobeat","Celtic","Jazz","Smooth Jazz","Blues","Funk","Heavy Metal","Thrash Metal","Death Metal","Black Metal","Doom Metal","Metalcore","Deathcore","Experimental","Noise","Industrial","Classical Crossover","Chiptune","Video Game Music"],i2=["Dark","Atmospheric","Energetic","Uplifting","Chill","Relaxed","Experimental","Trippy","Nostalgic","Retro","Aggressive","Intense","Melancholic","Introspective","Funky","Groovy","Mysterious","Eerie","Euphoric","Anthemic","Dreamy","Ethereal","Raw","Gritty","Sophisticated","Smooth","Cyberpunk","Futuristic","Hypnotic","Driving","Industrial","Mechanical","Hopeful","Aggressive","Peaceful","Romantic","Sad","Joyful","Tense"],ru=["Ableton Live","Logic Pro X","FL Studio","Pro Tools","Cubase","Studio One","Reason","Bitwig Studio","Reaper","GarageBand"],qs=["C Major","G Major","D Major","A Major","E Major","B Major","F# Major","C# Major","F Major","Bb Major","Eb Major","Ab Major","Db Major","Gb Major","Cb Major","A Minor","E Minor","B Minor","F# Minor","C# Minor","G# Minor","D# Minor","A# Minor","D Minor","G Minor","C Minor","F Minor","Bb Minor","Eb Minor","Ab Minor"],Q0={C:["Ionian (Major)","Dorian","Phrygian","Lydian","Mixolydian","Aeolian (Natural Minor)","Locrian"],"C#":["Ionian (Major)","Dorian","Phrygian","Lydian","Mixolydian","Aeolian (Natural Minor)","Locrian"],Db:["Ionian (Major)","Dorian","Phrygian","Lydian","Mixolydian","Aeolian (Natural Minor)","Locrian"],D:["Ionian (Major)","Dorian","Phrygian","Lydian","Mixolydian","Aeolian (Natural Minor)","Locrian"],"D#":["Ionian (Major)","Dorian","Phrygian","Lydian","Mixolydian","Aeolian (Natural Minor)","Locrian"],Eb:["Ionian (Major)","Dorian","Phrygian","Lydian","Mixolydian","Aeolian (Natural Minor)","Locrian"],E:["Ionian (Major)","Dorian","Phrygian","Lydian","Mixolydian","Aeolian (Natural Minor)","Locrian"],F:["Ionian (Major)","Dorian","Phrygian","Lydian","Mixolydian","Aeolian (Natural Minor)","Locrian"],"F#":["Ionian (Major)","Dorian","Phrygian","Lydian","Mixolydian","Aeolian (Natural Minor)","Locrian"],Gb:["Ionian (Major)","Dorian","Phrygian","Lydian","Mixolydian","Aeolian (Natural Minor)","Locrian"],G:["Ionian (Major)","Dorian","Phrygian","Lydian","Mixolydian","Aeolian (Natural Minor)","Locrian"],"G#":["Ionian (Major)","Dorian","Phrygian","Lydian","Mixolydian","Aeolian (Natural Minor)","Locrian"],Ab:["Ionian (Major)","Dorian","Phrygian","Lydian","Mixolydian","Aeolian (Natural Minor)","Locrian"],A:["Ionian (Major)","Dorian","Phrygian","Lydian","Mixolydian","Aeolian (Natural Minor)","Locrian"],"A#":["Ionian (Major)","Dorian","Phrygian","Lydian","Mixolydian","Aeolian (Natural Minor)","Locrian"],Bb:["Ionian (Major)","Dorian","Phrygian","Lydian","Mixolydian","Aeolian (Natural Minor)","Locrian"],B:["Ionian (Major)","Dorian","Phrygian","Lydian","Mixolydian","Aeolian (Natural Minor)","Locrian"],Cb:["Ionian (Major)","Dorian","Phrygian","Lydian","Mixolydian","Aeolian (Natural Minor)","Locrian"]},r2=[[4,4],[3,4],[6,8],[2,4],[5,4],[7,8]],a2=[{id:"chords",label:"Chords"},{id:"bassline",label:"Bassline"},{id:"melody",label:"Melody"},{id:"drums",label:"Drums"}],s2=["General Loop","Intro","Verse","Pre-Chorus","Chorus","Post-Chorus","Bridge","Solo","Breakdown","Drop","Outro","Fill"],Ke={key:"C Major",tempo:120,timeSignature:[4,4],chordProgression:"I-V-vi-IV",genre:"Pop",bars:8,targetInstruments:["chords","bassline","melody","drums"],guidebookContext:"",songSection:"General Loop"},kn={Pop:["I-V-vi-IV","vi-IV-I-V","I-IV-V-I","I-vi-IV-V","ii-V-I-IV"],"Indie Pop":["I-V-vi-IV","I-IV-vi-V","vi-IV-I-V","I-iii-IV-V"],"Synth-Pop":["i-VI-III-VII (minor)","I-V-vi-IV (major)","i-iv-v-VI (minor)","I-IV-ii-V (major)"],Rock:["I-IV-V","vi-IV-I-V","I-bVII-IV-I","i-VI-III-VII (minor)","I-V-IV-I"],"Alternative Rock":["vi-IV-I-V","I-V-vi-IV","i-VI-III-VII","I-IV-ii-V"],House:["Am-G-C-F","i-VI-III-VII (Am-F-C-G)","i-III-VI-VII","i-v-iv-i"],"Deep House":["i-VI-III-VII (e.g. Dm-Bb-F-C)","Am-G-C-F","i-iv-v-i"],Techno:["i-VI-III-VII","i-iv-v-i (minor, repetitive)","Single chord drone with variations","Am-G-F-E"],Trance:["vi-IV-I-V (Am-F-C-G)","i-VI-III-VII","i-VII-VI-V (minor descending)"],Ambient:["Imaj7-IVmaj7 (long, evolving)","i-VI (slow changes)","Drone + suspended chords"],Synthwave:["i-VI-III-VII (Am-F-C-G)","vi-IV-I-V","I-V-vi-IV","i-iv-v-i"],"Drum and Bass":["i-VI-III-VII","Am-F-C-G","Complex jazz voicings over two chords","i-iv-v-VI"],Dubstep:["i-VI-III-VII","i-iv-v-i (minor)","Heavy focus on sound design over complex progression"],"Trap (EDM)":["i-VI-III-VII","i-iv-v-i (minor)","Simple 2 or 3 chord loops"],"Hip Hop":["i-VI-III-VII","Am-G-Em-F","ii-V-I (Jazz influenced)","i-iv-v-i","Sample-based loops"],"Lo-fi Hip Hop":["ii-V-I-IV (Jazz)","Imaj7-vi7-ii7-V7","Simple 2-4 chord loops"],"R&B":["Imaj7-IVmaj7","ii-V-I","i-VI-III-VII","vi-ii-V-I"],Folk:["I-IV-V","I-V-vi-IV","G-C-D-G","C-G-Am-F"],Jazz:["ii-V-I","I-vi-ii-V","iii-vi-ii-V","I-II7-V7-I (Rhythm Changes A section)","Imaj7-IIm7-IIIm7-IVmaj7 (Modal)"],Blues:["I-I-I-I-IV-IV-I-I-V-IV-I-I (12-bar)","i-i-i-i-iv-iv-i-i-v-iv-i-i (minor 12-bar)"],Default:["I-V-vi-IV","i-VI-III-VII","I-IV-V-I","ii-V-I"]},_n={Pop:[90,130],"Indie Pop":[100,140],"Synth-Pop":[110,140],Rock:[100,160],"Alternative Rock":[90,150],House:[118,128],"Deep House":[115,125],Techno:[125,145],Trance:[130,145],Ambient:[50,100],Synthwave:[80,120],"Drum and Bass":[160,180],Dubstep:[130,150],"Trap (EDM)":[130,160],"Hip Hop":[80,110],"Lo-fi Hip Hop":[70,90],"R&B":[60,100],Folk:[80,120],Jazz:[70,180],Blues:[70,130],Default:[60,200]},au={kick:36,snare:38,hihat_closed:42,closed_hihat:42,hihat_open:46,open_hihat:46,tom_low:41,low_tom:41,tom_mid:47,mid_tom:47,tom_high:50,high_tom:50,crash_cymbal_1:49,crash:49,ride_cymbal_1:51,ride:51,clap:39,shaker:70,tambourine:54,rim_shot:37,cowbell:56,bass_drum:36,snare_drum:38},o2="AIzaSyCxOuxalv_PC6h6aE8JvEjLMK8ie8C9Nts",kr=new n2({apiKey:o2}),l2=t=>{var b;const e=t.genre.length>0?t.genre.join(", "):"Not specified",n=t.vibe.length>0?t.vibe.join(", "):"Not specified",a=t.artistReference||"General to genre/vibe",s=((b=t.songTitle)==null?void 0:b.trim())||"",l=t.plugins&&t.plugins.trim()!==""&&!t.plugins.toLowerCase().includes("stock only"),u=l?t.plugins:`Stock plugins of ${t.daw||"the selected DAW"}`,d=t.availableInstruments||"Standard rock/pop/electronic instruments assumed",h=(T,S,M)=>l?t.plugins.toLowerCase().includes(T.split(" ")[0].toLowerCase())?`\`${T}\``:t.plugins.toLowerCase().includes("arturia")&&T.toLowerCase().includes("arturia")?`\`${T}\``:(t.plugins.toLowerCase().includes("native instruments")||t.plugins.toLowerCase().includes("komplete"))&&["massive","kontakt","reaktor","guitar rig","battery"].some(D=>T.toLowerCase().includes(D))?`\`${T}\``:t.plugins.toLowerCase().includes("fabfilter")&&T.toLowerCase().includes("fabfilter")?`\`${T}\``:t.plugins.toLowerCase().includes("soundtoys")&&T.toLowerCase().includes("soundtoys")?`\`${T}\``:t.plugins.toLowerCase().includes("valhalla")&&T.toLowerCase().includes("valhalla")?`\`${T}\``:`a suitable ${S.toLowerCase()}`:`${t.daw||"DAW"} stock ${M.toLowerCase()}`,f=s?`The user has provisionally titled this project: "${s}". Use this as the primary title in the '# TRACKGUIDE: "..."' heading, or refine it slightly if you can make it more engaging while keeping its core idea.`:`Generate an engaging and ORIGINAL title for the '# TRACKGUIDE: "..."' heading that creatively combines '${e}', '${n}', and '${a}' if provided, e.g., "Substructure Anomaly" - An Experimental Neurofunk Descent.`,p=s?`Use the user-provided title: "${s}".`:'Generate a creative, SHORT, and ORIGINAL title that captures the essence of all inputs. Avoid generic phrases like "Song for..." or simply restating the genre/vibe.';return`
You are TrackGuideAI, an expert music production assistant. Generate a comprehensive TrackGuide based on the following user inputs.
The user wants to create a song with the following characteristics:
- Project Title (User Provided): ${s||"Not specified"}
- Genre(s): ${e}
- Artist/Song Reference(s): ${a}
- Reference Track Link: ${t.referenceTrackLink||"Not provided"}
- Lyrics: ${t.lyrics||"Not provided"}
- Key: ${t.key||"Not specified"}
- Chords: ${t.chords||"Not specified"}
- General Notes for AI: ${t.generalNotes||"None"}
- Vibe/Mood(s): ${n}
- Preferred DAW: ${t.daw||"Not specified, suggest generally or for Ableton Live/Logic Pro"}
- Available Plugins: ${u}
- Available Instruments: ${d}

**IMPORTANT INSTRUCTIONS FOR AI (OVERALL):**
- **STYLE:** Follow a "Quick Reference / Cheat Sheet Style" for Section 3 (Instrument & Sound Design) and Section 4 (Harmony, Melody & Rhythmic Core). Be extremely concise and actionable.
- **TERMINOLOGY:** Use professional music production terminology.
- **MARKDOWN:** Use Markdown for formatting (e.g., #, ##, ### for headings, bullet points for lists).
- **CONCISENESS (Sections 1, 2, 5):** Keep these sections brief and to the point.
- **EMOJIS (Section 3):** Use a relevant emoji before each instrument name heading (e.g., ### 🥁 Drums & Percussion).
- **NEW FIELD CONSIDERATIONS:**
  - If Reference Track Link is provided, analyze and reference the style/production techniques from that track
  - If Lyrics are provided, consider their structure, themes, and emotional content when suggesting arrangement and instrumentation
  - If Key/Chords are specified, prioritize those in your harmonic suggestions and ensure compatibility
  - If General Notes are provided, incorporate those specific instructions throughout all sections

**SECTION 3: INSTRUMENT & SOUND DESIGN GUIDE - "QUICK REFERENCE" FORMATTING:**
For EACH instrument/category in Section 3:
1.  **Heading:** Start with "### Emoji Instrument Name" (e.g., "### 🥁 Drums & Percussion").
2.  **Style:** "**Style:** Brief description (e.g., "Hip-hop influenced, punchy transients")."
3.  **Tips Sub-Heading:** Use ONE of these bolded labels:
    *   "**Programming Tips:**" (for drums, synths, etc.)
    *   "**Arrangement Tips:**" (for guitars, orchestral sections, etc.)
    *   "**Flow Tips:**" (for vocals)
    *   "**Role:**" (for DJ/Samples)
    *   "**Purpose:**" (for Synths/Keys if more about function than programming)
    *   Follow with 2-3 ultra-concise bullet points.
4.  **Processing Sub-Heading:** Use ONE of these bolded labels:
    *   "**EQ & Processing Summary:**" (if covering multiple effect types)
    *   "**Processing:**" (if focusing on 1-2 main effects or amp sims)
    *   "**Patch Ideas:**" (for Synths/Keys, can include VI suggestions here)
    *   Follow with 2-4 ultra-concise bullet points. EACH bullet should summarize ONE key processing step or patch idea.
    *   **Parameter Examples:** Integrate highly condensed parameter examples (e.g., "EQ: Thump at 60–80Hz, carve mud at 300–500Hz, add attack at 3–5kHz.").
    *   **Plugin/VI Suggestions:** Integrate these directly and concisely within the processing/patch bullets.
        *   If 'Available Plugins' indicates 'Stock plugins of [DAW NAME]' or is empty, **EXCLUSIVELY recommend stock plugins for the specified DAW.**
        *   If specific plugins ARE listed by the user, prioritize those.
        *   Example for plugin: "Saturation: ${h("Ableton Saturator","saturator plugin","Saturation")} (Soft Clip), on snare or full kit."
        *   Example for VI in Patch Ideas: "Pads: ${h("Arturia Prophet V","analog-style synth VI","Synth")}, long attack/release."
    *   **NO "Virtual Instrument Suggestions" as a separate sub-heading.** Integrate these into "Patch Ideas" or "Processing" (e.g., for Amp Sims).
    *   **DO NOT list every possible effect.** Focus on the 2-4 MOST impactful for the instrument in the given context.

**SECTION 4: HARMONY, MELODY & RHYTHMIC CORE - "QUICK REFERENCE" FORMATTING:**
- Structure with the following main bullet points, each followed by 1-3 concise sub-bullet points:
    - **Chord Progressions:** (with examples, e.g., "i – bVI – bVII (e.g., Cm – Ab – Bb)")
    - **Melodic Notes:** (or characteristics/scales, e.g., "Minor Pentatonic or Phrygian")
    - **Rhythmic Focus:** (key rhythmic interactions, e.g., "Tight sync between kick, bass, and palm-muted guitar")
- NO "Harmonic Textures" sub-section. Keep this section very lean.

Please structure the TrackGuide with the following sections:

# TRACKGUIDE: "${f}"

## 1. Song Overview
- **Suggested Title:** ${p}
- **Genre(s):** ${e}
- **Artist DNA:** (Briefly, 1-2 sentences, describe artist/song influence or genre/vibe archetypes if no reference)
- **Vibe(s):** ${n}
- **Estimated BPM Range:** (e.g., 120-130 BPM, consider the blend if multiple genres)
- **Suggested Key(s) / Scale(s):** (List 1-2 common keys/scales, e.g., C Minor, A Lydian)
- **Overall Sonic Palette:** (Describe in 1-2 key phrases, e.g., "Dark, punchy drums, ethereal pads, gritty bass")

## 2. Structural Blueprint
Provide a **concise Markdown table** for a typical song structure for the genre(s).
- **Production Tips Column:** Succinctly combine key creative ideas and primary instrumentation focus for each section. Consider user's available instruments: ${d}.
- **Mood Column:** Describe the mood with 2-3 impactful keywords or a very short descriptive phrase (e.g., 'Intense, Driving', 'Reflective & Hopeful', 'Darkly Cinematic'), reflecting listed vibes: ${n}.

*Example Table (adapt to genre(s), ensure it's concise and well-formatted Markdown):*
| Section    | Length   | Production Tips                     | Mood        |
|------------|----------|-------------------------------------|-------------|
| Intro      | 8 bars   | Filtered pads, subtle rhythmic pulse, light perc. | Evolving    |
| Verse A    | 16 bars  | Main groove, sparse vocals, core bassline. | Driving     |
| ...etc.    | ...      | ...                                 | ...         |

## 3. Instrument & Sound Design Guide
(Follow the "QUICK REFERENCE" formatting detailed above. Tailor suggestions to user's 'Available Instruments' like '${d}' if specified.)

### 🥁 Drums & Percussion
**Style:** (e.g., "Hip-hop influenced, punchy transients" for ${e})
**Programming Tips:**
  - (e.g., Snare on 2 & 4)
  - (e.g., Syncopated kicks, varied hat velocities)
**EQ & Processing Summary:**
  - (e.g., Kick: 60–80Hz (thump), 300–500Hz (cut mud), 3–5kHz (click))
  - (e.g., Snare: 200Hz (body), 4kHz (crack), touch of plate reverb with ${h("Valhalla Plate","plate reverb","Reverb")})
  - (e.g., Bus Compression: ${h("Ableton Glue Compressor","bus compressor","Compressor")}, Ratio 4:1, Attack 10–30ms)

### 🎸 Bass
**Style:** (e.g., "Syncopated, distorted, groove-locked with kick")
**Programming Tips:**
  - (e.g., Follow guitar riff in choruses)
  - (e.g., Use slides/ghosts for groove)
**Processing:**
  - (e.g., EQ: Boost 60–100Hz, 800Hz–2kHz for bite, cut 200–400Hz)
  - (e.g., Saturation: Parallel drive via ${h("Soundtoys Decapitator","saturation plugin","Saturation")} or ${h("Ableton Amp","amp simulator","Amp Sim")})

(Include similar "Quick Reference" sections for Guitars, Vocals, DJ Scratches & Samples, Synths & Keys, etc., based on user inputs or common instrumentation for the genre. Remember to integrate plugin suggestions concisely using getPluginSuggestion and adhere to all formatting rules.)

## 4. Harmony, Melody & Rhythmic Core
(Follow the "QUICK REFERENCE" formatting detailed above.)
- **Chord Progressions:**
  - (e.g., i – bVI – bVII (e.g., Cm – Ab – Bb for ${e}))
  - (e.g., Riff-based grooves with rhythmic single-note chugs if appropriate for ${e})
- **Melodic Notes:**
  - (e.g., Minor Pentatonic or Phrygian scale for ${e})
  - (e.g., Rap cadence in verses, short catchy lines in hooks, if vocals are mentioned or typical for ${e})
- **Rhythmic Focus:**
  - (e.g., Tight sync between kick, bass, and palm-muted guitar for a ${n} feel)
  - (e.g., Hi-hats with syncopation and velocity variation for ${e} groove)

## 🔥 5. Final Notes & Implementation
(Provide 3-5 VERY concise, actionable bullet points specific to making THIS SONG unique and impactful. Start each with a "✔ " (checkmark emoji and space).)
- ✔ Focus on [key element from inputs, e.g., the rhythmic drive of ${e}].
- ✔ Experiment with [a specific technique related to vibe, e.g., filter automation to enhance the '${n}' vibe].
- ✔ Leverage [a unique aspect of inputs, e.g., the textures from ${d} if unique, or a specific plugin from ${u} in a creative way].
- ✔ If referencing ${a}, try their [specific technique, e.g., approach to layering] but apply it to [your unique element].
- ✔ Don't be afraid to [a general creative encouragement, e.g., break conventions slightly for a memorable track].

---
This TrackGuide for "${s||`${e} (${n})`}" using ${t.daw||"your DAW"} is a starting point. Experiment, trust your ears, and enjoy the creative journey!
`},u2=async t=>{try{const e=l2(t);return await kr.models.generateContentStream({model:Rr,contents:e})}catch(e){console.error("Error initiating TrackGuide content stream:",e);let n="An unknown error occurred while initiating the TrackGuide stream.";throw e instanceof Error&&(n=e.message,e.message.includes("API key not valid")||e.message.includes("permission")&&e.message.includes("API key")?n="Invalid API Key or insufficient permissions. Please check your API key and its configuration.":e.message.toLowerCase().includes("network error")||e.message.toLowerCase().includes("failed to fetch")?n=`Network error: Failed to connect to Gemini API. Please check your internet connection. (${e.message})`:n=`Failed to generate TrackGuide: ${e.message}`),new Error(n)}},c2=t=>{const{key:e,scale:n,tempo:a,timeSignature:s,chordProgression:l,genre:u,bars:d,targetInstruments:h,guidebookContext:f,songSection:p}=t;h.join(", ");const b=n?` (${n} mode)`:"";return`Generate ${u} MIDI patterns for ${d} bars in ${e}${b}, ${a}BPM, ${s[0]}/${s[1]}.
Chords: ${l} | Section: ${p||"General"}
${f?`Style: ${f.substring(0,200)}`:""}

JSON format with keys: ${h.map(T=>`"${T}"`).join(", ")}

Requirements:
- "chords": [{"time": 0, "name": "Cmaj7", "duration": 1, "notes": [{"pitch": "C4", "midi": 60}], "velocity": 70-95}]
- "bassline": [{"time": 0, "pitch": "C2", "midi": 36, "duration": 0.5, "velocity": 75-110}] (MIDI 12-59)
- "melody": [{"time": 0, "pitch": "C5", "midi": 72, "duration": 0.25, "velocity": 60-100}]
- "drums": Include kick, snare, hihat_closed, hihat_open + 1 more (ride/crash/clap)

Generate ${u}-appropriate patterns with velocity variation (40-127) and rhythmic interest.`},su=async t=>{try{const e=c2(t);return await kr.models.generateContentStream({model:Rr,contents:e,config:{responseMimeType:"application/json"}})}catch(e){console.error("Error initiating MIDI pattern stream:",e);let n="An unknown error occurred while initiating MIDI pattern stream.";throw e instanceof Error&&(n=e.message,e.message.includes("API key not valid")?n="Invalid API Key for MIDI generation. Please check your API key.":n=`Failed to initiate MIDI pattern stream: ${e.message}`),new Error(n)}},d2=async t=>{const e=new Promise(n=>{const a=new FileReader;a.onloadend=()=>n(a.result.split(",")[1]),a.readAsDataURL(t)});return{inlineData:{mimeType:t.type,data:await e}}},f2=t=>`
You are an expert audio mixing and mastering engineer AI. The user has uploaded an audio file of their mix and provided some notes.
Analyze the audio mix thoroughly.

User's Notes/Questions:
"${t||"No specific notes provided by the user."}"

Provide comprehensive, constructive, and actionable feedback on the mix. Structure your feedback using Markdown with clear headings for each section. Cover the following aspects:

1.  **Overall Impression & Balance:**
    *   Initial thoughts on the mix.
    *   How well do the different instruments/elements sit together?
    *   Are vocals (if present) clear and well-placed?
    *   Is there a good sense of depth and separation between elements?

2.  **Frequency Spectrum Analysis:**
    *   **Low-End (Bass, Kick, etc.):** Is it clear, muddy, boomy, or lacking? Any masking?
    *   **Mid-Range (Vocals, Guitars, Synths, Snares):** Is it clear, honky, harsh, scooped, or well-defined?
    *   **High-End (Cymbals, Air, Sibilance):** Is it crisp, dull, harsh, or smooth?
    *   Suggest specific EQ adjustments with frequency ranges if applicable (e.g., "Consider a gentle cut around 250Hz on the bass to reduce mud").

3.  **Dynamics & Loudness:**
    *   Is the mix punchy and dynamic, or does it sound over-compressed or flat?
    *   Assess the use of compression on individual tracks and the master bus (if discernible).
    *   Comment on the perceived loudness and headroom. Any signs of clipping?

4.  **Stereo Image & Panning:**
    *   How wide or narrow does the mix feel?
    *   Is panning used effectively to create space and interest?
    *   Any phase issues noticeable (e.g., elements disappearing in mono)?

5.  **Effects Usage (Reverb, Delay, Modulation, etc.):**
    *   Are effects used tastefully and effectively to enhance the mix, or are they distracting/muddying?
    *   Comment on the sense of space created by reverbs/delays.

6.  **Technical Issues (If any observed):**
    *   Clipping, distortion (unintentional), noise, clicks, pops, significant phase problems.

7.  **Actionable Summary & Key Recommendations:**
    *   Summarize the top 2-3 most impactful things the user could do to improve their mix.
    *   Prioritize suggestions based on what would make the biggest positive difference.

**IMPORTANT:**
- Be encouraging and constructive.
- Use professional terminology but explain concepts clearly if they might be complex.
- Refer back to the user's specific notes/questions if they provided any.
- Provide specific examples where possible (e.g., "The snare feels a bit buried; try increasing its level by 1-2dB or adding some top-end around 5kHz for more crack.").
- Do not comment on the musical composition or performance itself, ONLY the mix quality.
`,h2=async t=>{if(!t.audioFile)return Promise.reject(new Error("No audio file provided for mix feedback."));try{const e=await d2(t.audioFile),n={text:f2(t.userNotes)},a=[e,n],s=await kr.models.generateContent({model:Rr,contents:{parts:a}}),l=s.text;if(typeof l!="string")throw console.error("Received non-text response or no text from Gemini API for mix feedback. Response:",s),new Error("Received an unexpected response format from Gemini API for mix feedback.");return l}catch(e){console.error("Error generating mix feedback:",e);let n="An unknown error occurred while generating mix feedback.";return e instanceof Error&&(n=e.message,e.message.includes("API key not valid")||e.message.includes("permission")&&e.message.includes("API key")?n="Invalid API Key or insufficient permissions. Please check your API key and its configuration.":e.message.toLowerCase().includes("network error")||e.message.toLowerCase().includes("failed to fetch")?n=`Network error: Failed to connect to Gemini API. Please check your internet connection. (${e.message})`:e.message.includes("Candidate was blocked")?n="The response for mix feedback was blocked by the AI. This might be due to content policies or other restrictions. Please try again or adjust your input if possible.":e.message.includes("audio")?n=`There was an issue processing the audio file with the AI. Ensure it's a common format and not too large. (${e.message})`:n=`Failed to generate mix feedback: ${e.message}`),Promise.reject(new Error(n))}},m2=async(t,e)=>{var n,a,s,l;try{const d=`You are an AI music production assistant. Help the user with their music production questions.

${e?`
Current project context:
- Genre: ${((n=e.userInputs)==null?void 0:n.genre)||"Not specified"}
- Vibe: ${((a=e.userInputs)==null?void 0:a.vibe)||"Not specified"}
- DAW: ${((s=e.userInputs)==null?void 0:s.daw)||"Not specified"}
- Current guidebook: ${((l=e.currentGuidebook)==null?void 0:l.title)||"None"}
`:""}

User question: ${t}

Provide helpful, concise advice related to music production, mixing, sound design, or composition. Keep responses practical and actionable.`,h=await kr.models.generateContent({model:Rr,contents:{parts:[{text:d}]}}),f=h.text;if(typeof f!="string")throw console.error("Received non-text response from Gemini API:",h),new Error("Received an unexpected response format from Gemini API.");return f}catch(u){console.error("Error generating AI assistant response:",u);let d="An unknown error occurred while generating response.";return u instanceof Error&&(d=u.message,u.message.includes("API key not valid")||u.message.includes("permission")&&u.message.includes("API key")?d="Invalid API Key or insufficient permissions. Please check your API key and its configuration.":u.message.toLowerCase().includes("network error")||u.message.toLowerCase().includes("failed to fetch")?d=`Network error: Failed to connect to Gemini API. Please check your internet connection. (${u.message})`:u.message.includes("Candidate was blocked")?d="The response was blocked by the AI. This might be due to content policies or other restrictions. Please try again or adjust your input if possible.":d=`Failed to generate response: ${u.message}`),Promise.reject(new Error(d))}},p2=t=>{const e=t.mixAFile&&t.mixBFile,n=t.mixBFile&&!t.mixAFile;return e?`You are an expert audio mixing and mastering engineer AI. The user has uploaded two audio files for comparison: "${t.mixAName}" (Mix A - Reference) and "${t.mixBName}" (Mix B - Current Working Track).

**IMPORTANT**: Mix B is the current working track that needs focused feedback and recommendations. Mix A is provided as reference context.

Analyze both audio files with primary focus on improving Mix B. Structure your response using Markdown with clear headings.

## Mix B Analysis & Recommendations

### Current Mix Assessment (${t.mixBName})
Provide a comprehensive evaluation of Mix B as the current working track:
- **Overall Balance**: How well balanced is the current mix?
- **Strengths**: What's working well in Mix B?
- **Areas for Improvement**: What needs attention in Mix B?

### Mix B Detailed Feedback
Focus specifically on Mix B with actionable recommendations:
- **Frequency Balance**: Analyze and suggest EQ adjustments for Mix B
- **Stereo Width**: Evaluate and recommend stereo imaging improvements
- **Dynamic Range**: Assess compression and dynamics in Mix B
- **Vocal/Lead Presence**: How to improve lead elements in Mix B
- **Clarity and Separation**: Specific suggestions for better instrument definition
- **Tonal Character**: Recommendations for sonic character improvements

### Technical Metrics (Mix B Focus)
Provide estimated technical measurements for Mix B:
- **LUFS** (loudness)
- **Peak levels** 
- **Stereo correlation**
- **Dynamic range**

### Focused Recommendations for Mix B
Provide specific, actionable advice prioritized for Mix B:
1. **Immediate improvements** needed in Mix B
2. **Technical processing** suggestions for Mix B
3. **Frequency adjustments** specific to Mix B
4. **Elements from Mix A** that could enhance Mix B (if applicable)
5. **Next steps** for finalizing Mix B

${t.requestMixAAnalysis?`

## Full Mix A Analysis (${t.mixAName})

### Detailed Frequency Analysis
Analyze each frequency band in detail:
- **Sub Bass (20-60Hz)**
- **Bass (60-250Hz)**
- **Low Mids (250-500Hz)**
- **Mids (500Hz-2kHz)**
- **High Mids (2-5kHz)**
- **Highs (5-12kHz)**
- **Air (12kHz+)**

### Stereo Field Analysis
- **Width and imaging**
- **Center focus**
- **Panning decisions**
- **Phase correlation**

### Dynamic Analysis
- **Peak and RMS levels**
- **Dynamic range**
- **Transient response**
- **Compression characteristics**

### Instrument-Specific Analysis
Analyze how individual elements sit in the mix and suggest improvements.`:""}

${t.requestMixBAnalysis?`

## Full Mix B Analysis (${t.mixBName})

### Detailed Frequency Analysis
Analyze each frequency band in detail:
- **Sub Bass (20-60Hz)**
- **Bass (60-250Hz)**
- **Low Mids (250-500Hz)**
- **Mids (500Hz-2kHz)**
- **High Mids (2-5kHz)**
- **Highs (5-12kHz)**
- **Air (12kHz+)**

### Stereo Field Analysis
- **Width and imaging**
- **Center focus**
- **Panning decisions**
- **Phase correlation**

### Dynamic Analysis
- **Peak and RMS levels**
- **Dynamic range**
- **Transient response**
- **Compression characteristics**

### Instrument-Specific Analysis
Analyze how individual elements sit in the mix and suggest improvements.`:""}

Keep your analysis professional, detailed, and actionable. Focus on technical aspects and mixing decisions rather than musical composition.${t.userNotes?`

**User Notes**: ${t.userNotes}`:""}`:n?`You are an expert audio mixing and mastering engineer AI. The user has uploaded their current working track: "${t.mixBName}" (Mix B).

Analyze the audio file thoroughly and provide comprehensive feedback focused on improving this mix. Structure your response using Markdown with clear headings.

## Mix B Analysis & Recommendations

### Current Mix Assessment (${t.mixBName})
Provide a comprehensive evaluation of this working track:
- **Overall Balance**: How well balanced is the current mix?
- **Strengths**: What's working well in this mix?
- **Areas for Improvement**: What needs attention?

### Detailed Mix Feedback
Focus specifically on actionable recommendations:
- **Frequency Balance**: Analyze and suggest EQ adjustments
- **Stereo Width**: Evaluate and recommend stereo imaging improvements
- **Dynamic Range**: Assess compression and dynamics
- **Vocal/Lead Presence**: How to improve lead elements
- **Clarity and Separation**: Specific suggestions for better instrument definition
- **Tonal Character**: Recommendations for sonic character improvements

### Technical Metrics
Provide estimated technical measurements:
- **LUFS** (loudness)
- **Peak levels** 
- **Stereo correlation**
- **Dynamic range**

### Focused Recommendations
Provide specific, actionable advice prioritized for this mix:
1. **Immediate improvements** needed
2. **Technical processing** suggestions
3. **Frequency adjustments** specific recommendations
4. **Next steps** for finalizing the mix

Keep your analysis professional, detailed, and actionable. Focus on technical aspects and mixing decisions rather than musical composition.${t.userNotes?`

**User Notes**: ${t.userNotes}`:""}`:`You are an expert audio mixing and mastering engineer AI. The user has uploaded a single audio file: "${t.mixAName}".

Analyze the audio file thoroughly and provide comprehensive feedback. Structure your response using Markdown with clear headings.

## Mix Analysis

### Overall Assessment
Single mix analysis for: ${t.mixAName}

Provide an overall evaluation of the mix quality, balance, and technical execution.

### Mix Evaluation
Analyze these key aspects:
- **Overall Balance**: Frequency distribution and tonal balance
- **Stereo Image**: Width, imaging, and spatial characteristics
- **Dynamic Range**: Compression, punch, and dynamics
- **Tonal Balance**: Character, warmth, brightness
- **Clarity**: Separation and definition of elements

### Technical Metrics
Provide estimated technical measurements:
- **LUFS** (loudness)
- **Peak levels**
- **Stereo correlation**
- **Dynamic range**

### Recommendations
Provide specific, actionable advice for improvement:
1. **Technical improvements**
2. **Processing suggestions**
3. **Frequency adjustments**
4. **Dynamic enhancements**

${t.requestMixAAnalysis?`

## Full Single Mix Analysis (${t.mixAName})

### Detailed Frequency Analysis
Analyze each frequency band in detail:
- **Sub Bass (20-60Hz)**
- **Bass (60-250Hz)**
- **Low Mids (250-500Hz)**
- **Mids (500Hz-2kHz)**
- **High Mids (2-5kHz)**
- **Highs (5-12kHz)**
- **Air (12kHz+)**

### Stereo Field Analysis
- **Width and imaging**
- **Center focus**
- **Panning decisions**
- **Phase correlation**

### Dynamic Analysis
- **Peak and RMS levels**
- **Dynamic range**
- **Transient response**
- **Compression characteristics**

### Instrument-Specific Analysis
Analyze how individual elements sit in the mix and provide specific recommendations for each element.

### Recommendations
Provide detailed, actionable recommendations for:
1. **Peak Management**
2. **Frequency Balance**
3. **Dynamic Enhancement**
4. **Stereo Processing**
5. **Overall Polish**`:""}

Keep your analysis professional, detailed, and actionable. Focus on technical mixing aspects rather than musical composition.${t.userNotes?`

**User Notes**: ${t.userNotes}`:""}`},g2=async t=>{var e,n,a,s;if(!t.mixAFile)return Promise.reject(new Error("No audio file provided for mix comparison."));try{const u=[{text:p2(t)}];u.push({inlineData:{data:t.mixAFile,mimeType:"audio/mpeg"}}),t.mixBFile&&u.push({inlineData:{data:t.mixBFile,mimeType:"audio/mpeg"}});const d=await kr.models.generateContent({model:Rr,contents:u,config:{responseMimeType:"text/plain"}});if(d&&d.candidates&&d.candidates.length>0){const h=(s=(a=(n=(e=d.candidates[0])==null?void 0:e.content)==null?void 0:n.parts)==null?void 0:a[0])==null?void 0:s.text;if(h&&typeof h=="string")return console.log("✅ Mix Comparison Result:",h),h;throw console.error("❌ No valid text content in candidates[0]:",d),new Error("Received empty or invalid text from Gemini API for mix comparison.")}else throw console.error("❌ No candidates returned from Gemini API for mix comparison:",d),new Error("Received an unexpected response format from Gemini API for mix comparison.")}catch(l){console.error("Error generating mix comparison:",l);let u="An unknown error occurred while generating mix comparison.";return l.message&&(l.message.includes("API_KEY")?u="API Key issue. Please check your Gemini API configuration.":l.message.includes("SAFETY")||l.message.includes("blocked")?u="The response for mix comparison was blocked by the AI. This might be due to content policies or other restrictions. Please try again or adjust your input if possible.":l.message.includes("quota")||l.message.includes("limit")?u="API quota exceeded. Please try again later.":u=`Failed to generate mix comparison: ${l.message}`),Promise.reject(new Error(u))}};function y2(t,e){const n=e?`${e.tempoRange[0]}-${e.tempoRange[1]} BPM`:"120-130 BPM",a=e?e.sections.join(", "):"Intro, Build-Up, Drop, Breakdown, Outro";return`You are an expert music producer and remix specialist. The user has uploaded an original track and wants to remix it into ${t} style.

CRITICAL ANALYSIS REQUIREMENTS:
1. **Deep Track Analysis**: Carefully analyze the uploaded audio to identify:
   - Original tempo, key signature, and time signature
   - Harmonic progression and chord structure
   - Melodic motifs, hooks, and memorable phrases
   - Rhythmic patterns and groove characteristics
   - Vocal elements, instrumental solos, or distinctive sounds
   - Song structure and arrangement elements
   - Emotional tone and energy levels throughout

2. **Smart Remix Strategy**: Your remix guide must intelligently explain:
   - Which SPECIFIC elements from the original track work well in ${t}
   - How to preserve the essence/soul of the original while transforming the genre
   - Which original melodic phrases can be adapted to ${t} rhythms
   - How original harmonic progressions can be recontextualized
   - Which original elements should be kept, modified, or completely reimagined
   - How to bridge the gap between the original genre and ${t}

3. **Genre-Specific Transformation**: Provide detailed guidance on:
   - Tempo adjustments and time-stretching techniques
   - Key changes or modal shifts that enhance the ${t} feel
   - Rhythmic pattern adaptations specific to ${t}
   - Sound design and production techniques typical of ${t}
   - Arrangement modifications that respect both the original and target genre

Your response must be a valid JSON object with exactly these keys:

{
  "guide": "A comprehensive markdown-formatted remix guide that MUST include these sections:

## 🎵 Original Track Analysis
- **Detected Elements**: [List key musical elements found in the original]
- **Original Genre Characteristics**: [Identify the source genre and its traits]
- **Harmonic Foundation**: [Chord progressions, key, and harmonic movement]
- **Melodic Content**: [Main melodies, hooks, and memorable phrases]
- **Rhythmic DNA**: [Original groove, tempo, and rhythmic patterns]

## 🎛️ ${t} Transformation Strategy  
- **Elements to Preserve**: [Specific original elements that work well in ${t}]
- **Elements to Transform**: [What needs to change and how]
- **Genre Bridge**: [How to connect original style with ${t}]
- **Tempo & Key Adjustments**: [Specific changes needed]

## 🔧 Production Techniques
- **Sound Design**: [${t}-specific sound design approaches]
- **Arrangement Modifications**: [How to restructure for ${t}]
- **Processing Chain**: [Effects and processing typical of ${t}]
- **Mix Considerations**: [${t}-specific mixing approaches]

## 🎹 Implementation Guide
- **Step-by-Step Process**: [Practical remix workflow]
- **Original Element Integration**: [How to weave original elements into new arrangement]
- **Creative Opportunities**: [Unique ways to blend both genres]",
  "targetTempo": 125,
  "targetKey": "A minor",
  "sections": ["Intro", "Build-Up", "Drop", "Breakdown", "Outro"],
  "midiPatterns": {
    "Intro": {
      "bassline": "Simple MIDI pattern description",
      "drums": "Drum pattern description", 
      "melody": "Melody pattern description",
      "pads": "Pad/texture pattern description"
    },
    "Build-Up": {
      "bassline": "Build-up bass pattern",
      "drums": "Build-up drum pattern",
      "melody": "Build-up melody pattern", 
      "pads": "Build-up pad pattern"
    }
  }
}

Target tempo range: ${n}
Suggested sections: ${a}

IMPORTANT: Return ONLY the JSON object, no other text or markdown formatting.`}async function x2(t){console.log("=== GEMINI SERVICE DEBUG ==="),console.log("API Key exists:",!0),console.log("Full prompt received:",t);try{return(await(await kr.getGenerativeModel({model:Rr}).generateContent(t)).response).text()}catch(e){throw console.error("[geminiService] Error generating content:",e),new Error("Failed to generate content from Gemini API")}}async function v2(t,e,n){var a,s;try{const l={text:y2(e,n)},u={inlineData:{data:t.base64,mimeType:t.mimeType}};console.log("[geminiService] Remix Prompt:",l.text),console.log("[geminiService] Audio size (chars):",t.base64.length);const d=[u,l],h=await kr.models.generateContent({model:Rr,contents:{parts:d}});console.log("[geminiService] Full raw response:",JSON.stringify(h,null,2));const f=h.text;if(typeof f!="string")throw console.error("Received non-text response or no text from Gemini API for remix guide. Response:",h),new Error("Received an unexpected response format from Gemini API for remix guide.");console.log("[geminiService] Raw remix response:",f);let p;try{p=JSON.parse(f)}catch(T){const S=f.replace(/```(?:json)?\s*/g,"").replace(/```$/,"").trim();try{p=JSON.parse(S)}catch(M){const D=f.match(/\{[\s\S]*\}/);if(D)try{p=JSON.parse(D[0])}catch(k){return console.error("[geminiService] All JSON parsing attempts failed:",{err:T,err2:M,err3:k}),console.error("[geminiService] Original text:",f),console.error("[geminiService] Cleaned text:",S),console.error("[geminiService] Matched text:",D[0]),{guide:f,targetTempo:((a=n==null?void 0:n.tempoRange)==null?void 0:a[0])||128,targetKey:"C minor",sections:(n==null?void 0:n.sections)||["Intro","Build-Up","Drop","Breakdown","Outro"],midiPatterns:{}}}else throw console.error("[geminiService] No JSON object found in response:",f),new Error("No valid JSON found in Gemini response")}}if(!p||typeof p!="object")throw new Error("Parsed response is not a valid object");const b={guide:p.guide||f,targetTempo:p.targetTempo||((s=n==null?void 0:n.tempoRange)==null?void 0:s[0])||128,targetKey:p.targetKey||"C minor",sections:p.sections||(n==null?void 0:n.sections)||["Intro","Build-Up","Drop","Breakdown","Outro"],midiPatterns:p.midiPatterns||{}};return console.log("[geminiService] Successfully parsed remix guide:",b),b}catch(l){console.error("Error generating remix guide:",l);let u="An unknown error occurred while generating remix guide.";throw l instanceof Error&&(u=l.message,l.message.includes("API key not valid")||l.message.includes("permission")&&l.message.includes("API key")?u="Invalid API Key or insufficient permissions. Please check your API key and its configuration.":l.message.toLowerCase().includes("network error")||l.message.toLowerCase().includes("failed to fetch")?u=`Network error: Failed to connect to Gemini API. Please check your internet connection. (${l.message})`:l.message.includes("Candidate was blocked")?u="The response for remix guide was blocked by the AI. This might be due to content policies or other restrictions. Please try again or adjust your input if possible.":l.message.includes("audio")?u=`There was an issue processing the audio file with the AI. Ensure it's a common format and not too large. (${l.message})`:u=`Failed to generate remix guide: ${l.message}`),new Error(u)}}const Xt=sb.forwardRef(({label:t,id:e,wrapperClassName:n,...a},s)=>g.jsxs("div",{className:n,children:[t&&g.jsx("label",{htmlFor:e,className:"block text-sm font-medium text-gray-300 mb-1",children:t}),g.jsx("input",{id:e,ref:s,...a,className:`w-full px-4 py-2 bg-gray-800 border border-gray-700 rounded-md shadow-sm placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-purple-500 text-gray-100 ${a.className||""}`})]}));Xt.displayName="Input";const ga=({label:t,id:e,wrapperClassName:n,...a})=>g.jsxs("div",{className:n,children:[t&&g.jsx("label",{htmlFor:e,className:"block text-sm font-medium text-gray-300 mb-1",children:t}),g.jsx("textarea",{id:e,...a,className:`w-full px-4 py-2 bg-gray-800 border border-gray-700 rounded-md shadow-sm placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-purple-500 text-gray-100 ${a.className||""}`,rows:3})]}),Be=({children:t,variant:e="primary",size:n="md",className:a="",leftIcon:s,rightIcon:l,...u})=>{const d="inline-flex items-center justify-center font-semibold rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-gray-900 transition-colors duration-150 disabled:opacity-50 disabled:cursor-not-allowed",h={primary:"bg-purple-600 hover:bg-purple-700 text-white focus:ring-purple-500",secondary:"bg-gray-700    hover:bg-gray-600 text-gray-100 focus:ring-gray-500",outline:"border border-purple-500 text-purple-400 hover:bg-purple-500 hover:text-white focus:ring-purple-500",danger:"bg-red-600     hover:bg-red-700 text-white focus:ring-red-500"},f={sm:"px-3 py-1.5 text-sm",md:"px-4 py-2   text-base",lg:"px-6 py-3   text-lg"};return g.jsxs("button",{...u,className:`${d} ${h[e]} ${f[n]} ${a}`,children:[s&&g.jsx("span",{className:"mr-2",children:s}),t,l&&g.jsx("span",{className:"ml-2",children:l})]})},tt=({children:t,className:e="",title:n,titleClassName:a="",contentClassName:s="",...l})=>g.jsxs("div",{className:`bg-gray-800 shadow-lg rounded-lg overflow-hidden ${e}`,...l,children:[n&&g.jsx("div",{className:`px-4 py-3 border-b border-gray-700 ${a}`,children:g.jsx("h3",{className:"text-lg font-semibold text-gray-100",children:n})}),g.jsx("div",{className:`p-4 ${s}`,children:t})]}),Xi=({size:t="md",color:e="text-purple-500",text:n})=>{const a={sm:"w-6 h-6",md:"w-8 h-8",lg:"w-12 h-12"};return g.jsxs("div",{className:"flex flex-col items-center justify-center",children:[g.jsx("div",{className:`animate-spin rounded-full border-t-2 border-b-2 border-transparent ${a[t]} ${e}`,style:{borderTopColor:"currentColor",borderBottomColor:"currentColor"}}),n&&g.jsx("p",{className:"mt-2 text-sm text-gray-400",children:n})]})},b2=({className:t,title:e})=>g.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:t||"w-5 h-5","aria-hidden":e?void 0:"true",role:e?"img":void 0,children:[e&&g.jsx("title",{children:e}),g.jsx("path",{fillRule:"evenodd",d:"M10.868 2.884c-.321-.772-1.415-.772-1.736 0l-1.83 4.401-4.753.381c-.833.067-1.171 1.107-.536 1.651l3.62 3.102-1.106 4.637c-.194.813.691 1.456 1.405 1.02L10 15.591l4.069 2.485c.713.436 1.598-.207 1.404-1.02l-1.106-4.637 3.62-3.102c.635-.544.297-1.584-.536-1.65l-4.752-.382-1.831-4.401z",clipRule:"evenodd"})]}),Ef=({className:t,title:e})=>g.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:t||"w-5 h-5","aria-hidden":e?void 0:"true",role:e?"img":void 0,children:[e&&g.jsx("title",{children:e}),g.jsx("path",{fillRule:"evenodd",d:"M3 17a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zm3.293-7.707a1 1 0 011.414 0L9 10.586V3a1 1 0 112 0v7.586l1.293-1.293a1 1 0 111.414 1.414l-3 3a1 1 0 01-1.414 0l-3-3a1 1 0 010-1.414z",clipRule:"evenodd"})]}),T2=({className:t,title:e})=>g.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:t||"w-5 h-5","aria-hidden":e?void 0:"true",role:e?"img":void 0,children:[e&&g.jsx("title",{children:e}),g.jsx("path",{d:"M5 4a2 2 0 012-2h6a2 2 0 012 2v10a2 2 0 01-2 2H7a2 2 0 01-2-2V4zm2 0v10h6V4H7zm5 1h-4a1 1 0 100 2h4a1 1 0 100-2z"})]}),S2=({className:t,title:e})=>g.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:t||"w-5 h-5","aria-hidden":e?void 0:"true",role:e?"img":void 0,children:[e&&g.jsx("title",{children:e}),g.jsx("path",{fillRule:"evenodd",d:"M9 2a1 1 0 00-.894.553L7.382 4H4a1 1 0 000 2v10a2 2 0 002 2h8a2 2 0 002-2V6a1 1 0 100-2h-3.382l-.724-1.447A1 1 0 0011 2H9zM7 8a1 1 0 012 0v6a1 1 0 11-2 0V8zm5-1a1 1 0 00-1 1v6a1 1 0 102 0V8a1 1 0 00-1-1z",clipRule:"evenodd"})]}),Af=({className:t,title:e})=>g.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:t||"w-6 h-6","aria-hidden":e?void 0:"true",role:e?"img":void 0,children:[e&&g.jsx("title",{children:e}),g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6.042A8.967 8.967 0 006 3.75c-1.052 0-2.062.18-3 .512v14.25A8.987 8.987 0 016 18c2.305 0 4.408.867 6 2.292m0-14.25a8.966 8.966 0 016-2.292c1.052 0 2.062.18 3 .512v14.25A8.987 8.987 0 0018 18a8.967 8.967 0 00-6 2.292m0-14.25v14.25"})]}),C2=({className:t,title:e})=>g.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:t||"w-5 h-5","aria-hidden":e?void 0:"true",role:e?"img":void 0,children:[e&&g.jsx("title",{children:e}),g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 01-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 011.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 00-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 01-1.125-1.125v-9.25m9.75 0l-4.5-4.5m0 0l-4.5 4.5M12.75 3v4.5A2.25 2.25 0 0015 9.75h4.5"})]}),Sb=({className:t,title:e})=>g.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:t||"w-5 h-5","aria-hidden":e?void 0:"true",role:e?"img":void 0,children:[e&&g.jsx("title",{children:e}),g.jsx("path",{d:"M10 3.515V11.24a3.513 3.513 0 00-1.5-.406c-1.313 0-2.388.752-2.388 1.672S7.187 14.18 8.5 14.18c1.238 0 2.263-.672 2.375-1.537h.125v-7.14c0-.313.11-.604.313-.828.202-.224.494-.344.812-.344.625 0 1.125.5 1.125 1.125V11.24a3.513 3.513 0 00-1.5-.406c-1.313 0-2.388.752-2.388 1.672S10.187 14.18 11.5 14.18c1.313 0 2.388-.752 2.388-1.672a1.675 1.675 0 00-1.078-1.543V3.515A2.625 2.625 0 0010 1C8.619 1 7.5 2.12 7.5 3.5V11.24A3.513 3.513 0 006 10.833c-1.313 0-2.388.752-2.388 1.672S4.687 14.18 6 14.18c1.237 0 2.262-.672 2.375-1.537h.125V6.125C8.5 4.5 9.125 3.515 10 3.515z"})]}),Mf=({className:t,title:e})=>g.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:t||"w-5 h-5","aria-hidden":e?void 0:"true",role:e?"img":void 0,children:[e&&g.jsx("title",{children:e}),g.jsx("path",{d:"M10.75 4.75a.75.75 0 00-1.5 0v4.5h-4.5a.75.75 0 000 1.5h4.5v4.5a.75.75 0 001.5 0v-4.5h4.5a.75.75 0 000-1.5h-4.5v-4.5z"})]}),Z0=({className:t,title:e})=>g.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:t||"w-5 h-5","aria-hidden":e?void 0:"true",role:e?"img":void 0,children:[e&&g.jsx("title",{children:e}),g.jsx("path",{fillRule:"evenodd",d:"M6.516 4.42A1.5 1.5 0 004 5.662v8.676a1.5 1.5 0 002.516 1.242l6.712-4.338a1.5 1.5 0 000-2.484L6.516 4.42z",clipRule:"evenodd"})]}),w2=({className:t,title:e})=>g.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:t||"w-5 h-5","aria-hidden":e?void 0:"true",role:e?"img":void 0,children:[e&&g.jsx("title",{children:e}),g.jsx("path",{fillRule:"evenodd",d:"M5 5a1 1 0 00-1 1v8a1 1 0 001 1h8a1 1 0 001-1V6a1 1 0 00-1-1H5zm0-2a3 3 0 00-3 3v8a3 3 0 003 3h8a3 3 0 003-3V6a3 3 0 00-3-3H5z",clipRule:"evenodd"})]}),W0=({className:t,isSpinning:e,title:n})=>g.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:`${t||"w-5 h-5"} ${e?"animate-spin":""}`,"aria-hidden":n?void 0:"true",role:n?"img":void 0,children:[n&&g.jsx("title",{children:n}),g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.023 9.348h4.992v-.001M2.985 19.644v-4.992m0 0h4.992m-4.993 0l3.181 3.183a8.25 8.25 0 0013.803-3.7M4.031 9.865a8.25 8.25 0 0113.803-3.7l3.181 3.182m0-4.991v4.99"})]}),E2=({className:t,title:e})=>g.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:t||"w-5 h-5","aria-hidden":e?void 0:"true",role:e?"img":void 0,children:[e&&g.jsx("title",{children:e}),g.jsx("path",{fillRule:"evenodd",d:"M18 7H2a1 1 0 00-1 1v6a1 1 0 001 1h16a1 1 0 001-1V8a1 1 0 00-1-1zM2 9.5v3h16v-3H2z",clipRule:"evenodd"}),g.jsx("path",{d:"M4 11h1v1H4v-1zm2 0h1v1H6v-1zm2 0h1v1H8v-1zm2 0h1v1h-1v-1zm2 0h1v1h-1v-1zm2 0h1v1h-1v-1z"})]}),A2=({className:t,title:e})=>g.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:t||"w-6 h-6","aria-hidden":e?void 0:"true",role:e?"img":void 0,children:[e&&g.jsx("title",{children:e}),g.jsx("rect",{x:"3.5",y:"3.5",width:"17",height:"17",rx:"2",stroke:"currentColor",fill:"none",strokeWidth:"1.5"})]}),M2=({className:t,title:e})=>g.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:t||"w-5 h-5","aria-hidden":e?void 0:"true",role:e?"img":void 0,children:[e&&g.jsx("title",{children:e}),g.jsx("path",{fillRule:"evenodd",d:"M3 3a1 1 0 011-1h12a1 1 0 011 1v12a1 1 0 01-1 1H4a1 1 0 01-1-1V3zm10.707 3.707a1 1 0 00-1.414-1.414L8 9.586 6.707 8.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l5-5z",clipRule:"evenodd"})]}),Cb=({className:t,title:e})=>g.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:t||"w-6 h-6","aria-hidden":e?void 0:"true",role:e?"img":void 0,children:[e&&g.jsx("title",{children:e}),g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"})]}),Ud=({className:t,title:e})=>g.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:t||"w-6 h-6","aria-hidden":e?void 0:"true",role:e?"img":void 0,children:[e&&g.jsx("title",{children:e}),g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 16.5v2.25A2.25 2.25 0 005.25 21h13.5A2.25 2.25 0 0021 18.75V16.5m-13.5-9L12 3m0 0l4.5 4.5M12 3v13.5"})]}),Nf=({className:t,title:e})=>g.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:t||"w-6 h-6","aria-hidden":e?void 0:"true",role:e?"img":void 0,children:[e&&g.jsx("title",{children:e}),g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.5 6h9.75M10.5 6a2.25 2.25 0 11-4.5 0m4.5 0a2.25 2.25 0 10-4.5 0M3.75 6H7.5m3 12h9.75m-9.75 0a2.25 2.25 0 01-4.5 0m4.5 0a2.25 2.25 0 00-4.5 0M3.75 18H7.5M10.5 12h9.75M10.5 12a2.25 2.25 0 01-4.5 0m4.5 0a2.25 2.25 0 00-4.5 0M3.75 12H7.5"})]});function N2(t){return typeof t=="number"}function D2(t){return typeof t=="string"}function R2(t){return typeof t<"u"}function k2(t,e){return Math.pow(2,(t-69)/12)*440}var _2=/^([a-gA-G])(#{1,}|b{1,}|x{1,}|)(-?\d*)\s*(.*)\s*$/,I2=[0,2,4,5,7,9,11];function P2(t,e,n){if(typeof t!="string")return null;var a=_2.exec(t);if(!a||a[4])return null;var s={letter:a[1].toUpperCase(),acc:a[2].replace(/x/g,"##")};s.pc=s.letter+s.acc,s.step=(s.letter.charCodeAt(0)+3)%7,s.alt=s.acc[0]==="b"?-s.acc.length:s.acc.length;var l=I2[s.step]+s.alt;return s.chroma=l<0?12+l:l%12,a[3]&&(s.oct=+a[3],s.midi=l+12*(s.oct+1),s.freq=k2(s.midi)),s}function V2(t){if((N2(t)||D2(t))&&t>=0&&t<128)return+t;var e=P2(t);return e&&R2(e.midi)?e.midi:null}function L2(t){return Array.isArray(t)&&t.length===2?t[0]*7+t[1]*12+12:V2(t)}var B2="C Db D Eb E F Gb G Ab A Bb B".split(" "),j2="C C# D D# E F F# G G# A A# B".split(" ");function wb(t,e){if(t===!0||t===!1)return function(l){return wb(l,t)};t=Math.round(t);var n=e===!0?j2:B2,a=n[t%12],s=Math.floor(t/12)-1;return a+s}const O2=Object.freeze(Object.defineProperty({__proto__:null,note:wb,toMidi:L2},Symbol.toStringTag,{value:"Module"})),U2=JC(O2);var zd,ex;function z2(){if(ex)return zd;ex=1;var t=U2,e={VERSION:"2.1.4",HEADER_CHUNK_TYPE:[77,84,104,100],HEADER_CHUNK_LENGTH:[0,0,0,6],HEADER_CHUNK_FORMAT0:[0,0],HEADER_CHUNK_FORMAT1:[0,1],HEADER_CHUNK_DIVISION:[0,128],TRACK_CHUNK_TYPE:[77,84,114,107],META_EVENT_ID:255,META_TEXT_ID:1,META_COPYRIGHT_ID:2,META_TRACK_NAME_ID:3,META_INSTRUMENT_NAME_ID:4,META_LYRIC_ID:5,META_MARKER_ID:6,META_CUE_POINT:7,META_TEMPO_ID:81,META_SMTPE_OFFSET:84,META_TIME_SIGNATURE_ID:88,META_KEY_SIGNATURE_ID:89,META_END_OF_TRACK_ID:[47,0],CONTROLLER_CHANGE_STATUS:176,PITCH_BEND_STATUS:224};function n(L){"@babel/helpers - typeof";return n=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(N){return typeof N}:function(N){return N&&typeof Symbol=="function"&&N.constructor===Symbol&&N!==Symbol.prototype?"symbol":typeof N},n(L)}function a(){a=function(V,U){return new R(V,void 0,U)};var L=RegExp.prototype,N=new WeakMap;function R(V,U,A){var Q=new RegExp(V,U);return N.set(Q,A||N.get(V)),h(Q,R.prototype)}function C(V,U){var A=N.get(U);return Object.keys(A).reduce(function(Q,ce){return Q[ce]=V[A[ce]],Q},Object.create(null))}return d(R,RegExp),R.prototype.exec=function(V){var U=L.exec.call(this,V);return U&&(U.groups=C(U,this)),U},R.prototype[Symbol.replace]=function(V,U){if(typeof U=="string"){var A=N.get(this);return L[Symbol.replace].call(this,V,U.replace(/\$<([^>]+)>/g,function(ce,de){return"$"+A[de]}))}if(typeof U=="function"){var Q=this;return L[Symbol.replace].call(this,V,function(){var ce=arguments;return typeof ce[ce.length-1]!="object"&&(ce=[].slice.call(ce)).push(C(ce,Q)),U.apply(this,ce)})}return L[Symbol.replace].call(this,V,U)},a.apply(this,arguments)}function s(L,N){if(!(L instanceof N))throw new TypeError("Cannot call a class as a function")}function l(L,N){for(var R=0;R<N.length;R++){var C=N[R];C.enumerable=C.enumerable||!1,C.configurable=!0,"value"in C&&(C.writable=!0),Object.defineProperty(L,C.key,C)}}function u(L,N,R){return N&&l(L.prototype,N),R&&l(L,R),Object.defineProperty(L,"prototype",{writable:!1}),L}function d(L,N){if(typeof N!="function"&&N!==null)throw new TypeError("Super expression must either be null or a function");L.prototype=Object.create(N&&N.prototype,{constructor:{value:L,writable:!0,configurable:!0}}),Object.defineProperty(L,"prototype",{writable:!1}),N&&h(L,N)}function h(L,N){return h=Object.setPrototypeOf||function(C,V){return C.__proto__=V,C},h(L,N)}var f=function(){function L(){s(this,L)}return u(L,null,[{key:"version",value:function(){return e.VERSION}},{key:"stringToBytes",value:function(R){return R.split("").map(function(C){return C.charCodeAt()})}},{key:"isNumeric",value:function(R){return!isNaN(parseFloat(R))&&isFinite(R)}},{key:"getPitch",value:function(R){var C=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"C4";return 60-t.toMidi(C)+t.toMidi(R)}},{key:"numberToVariableLength",value:function(R){R=Math.round(R);for(var C=R&127;R=R>>7;)C<<=8,C|=R&127|128;for(var V=[];V.push(C&255),C&128;)C>>=8;return V}},{key:"stringByteCount",value:function(R){return encodeURI(R).split(/%..|./).length-1}},{key:"numberFromBytes",value:function(R){var C="",V;return R.forEach(function(U){V=U.toString(16),V.length==1&&(V="0"+V),C+=V}),parseInt(C,16)}},{key:"numberToBytes",value:function(R,C){C=C||1;var V=R.toString(16);V.length&1&&(V="0"+V);var U=V.match(/.{2}/g);if(U=U.map(function(A){return parseInt(A,16)}),U.length<C)for(;C-U.length>0;)U.unshift(0);return U}},{key:"toArray",value:function(R){return Array.isArray(R)?R:[R]}},{key:"convertVelocity",value:function(R){return R=R>100?100:R,Math.round(R/100*127)}},{key:"getTickDuration",value:function(R){if(Array.isArray(R))return R.map(function(A){return L.getTickDuration(A)}).reduce(function(A,Q){return A+Q},0);if(R=R.toString(),R.toLowerCase().charAt(0)==="t"){var C=parseInt(R.substring(1));if(isNaN(C)||C<0)throw new Error(R+" is not a valid duration.");return C}var V=L.numberFromBytes(e.HEADER_CHUNK_DIVISION),U=V*L.getDurationMultiplier(R);return L.getRoundedIfClose(U)}},{key:"getRoundedIfClose",value:function(R){var C=Math.round(R);return Math.abs(C-R)<1e-6?C:R}},{key:"getPrecisionLoss",value:function(R){var C=Math.round(R);return C-R}},{key:"getDurationMultiplier",value:function(R){if(R==="0")return 0;var C=R.match(a(/^(d+)?(\d+)(?:t(\d*))?/,{dotted:1,base:2,tuplet:3}));if(C){var V=Number(C.groups.base),U=V===1||(V&V-1)===0;if(U){var A=V/4,Q=1/A,ce=C.groups,de=ce.dotted,J=ce.tuplet;if(de){var he=de.length,ve=Math.pow(2,he);Q=Q+Q*((ve-1)/ve)}if(typeof J=="string"){var Ae=Q*2,Me=Number(J||"3");Q=Ae/Me}return Q}}throw new Error(R+" is not a valid duration.")}}]),L}(),p=u(function L(N){s(this,L),N=Object.assign({delta:0},N),this.type="controller",this.data=f.numberToVariableLength(N.delta).concat(e.CONTROLLER_CHANGE_STATUS,N.controllerNumber,N.controllerValue)}),b=u(function L(N){s(this,L),N=Object.assign({delta:0},N),this.type="cue-point";var R=f.stringToBytes(N.text);this.data=f.numberToVariableLength(N.delta).concat(e.META_EVENT_ID,e.META_CUE_POINT,f.numberToVariableLength(R.length),R)}),T=u(function L(N){s(this,L),N=Object.assign({delta:0},N),this.type="end-track",this.data=f.numberToVariableLength(N.delta).concat(e.META_EVENT_ID,e.META_END_OF_TRACK_ID)}),S=u(function L(N){s(this,L),N=Object.assign({delta:0},N),this.type="instrument-name";var R=f.stringToBytes(N.text);this.data=f.numberToVariableLength(N.delta).concat(e.META_EVENT_ID,e.META_INSTRUMENT_NAME_ID,f.numberToVariableLength(R.length),R)}),M=u(function L(N,R){s(this,L),this.type="key-signature";var C=R||0;if(N=N||0,typeof R>"u"){var V=[["Cb","Gb","Db","Ab","Eb","Bb","F","C","G","D","A","E","B","F#","C#"],["ab","eb","bb","f","c","g","d","a","e","b","f#","c#","g#","d#","a#"]],U=N.length,A=N||"C";if(N[0]===N[0].toLowerCase()&&(C=1),U>1)switch(N.charAt(U-1)){case"m":C=1,A=N.charAt(0).toLowerCase(),A=A.concat(N.substring(1,U-1));break;case"-":C=1,A=N.charAt(0).toLowerCase(),A=A.concat(N.substring(1,U-1));break;case"M":C=0,A=N.charAt(0).toUpperCase(),A=A.concat(N.substring(1,U-1));break;case"+":C=0,A=N.charAt(0).toUpperCase(),A=A.concat(N.substring(1,U-1));break}var Q=V[C].indexOf(A);N=Q===-1?0:Q-7}this.data=f.numberToVariableLength(0).concat(e.META_EVENT_ID,e.META_KEY_SIGNATURE_ID,[2],f.numberToBytes(N,1),f.numberToBytes(C,1))}),D=u(function L(N){s(this,L),N=Object.assign({delta:0},N),this.type="lyric";var R=f.stringToBytes(N.text);this.data=f.numberToVariableLength(N.delta).concat(e.META_EVENT_ID,e.META_LYRIC_ID,f.numberToVariableLength(R.length),R)}),k=u(function L(N){s(this,L),N=Object.assign({delta:0},N),this.type="marker";var R=f.stringToBytes(N.text);this.data=f.numberToVariableLength(N.delta).concat(e.META_EVENT_ID,e.META_MARKER_ID,f.numberToVariableLength(R.length),R)}),_=function(){function L(N){s(this,L),N=Object.assign({channel:1,startTick:null,velocity:50,wait:0},N),this.type="note-on",this.channel=N.channel,this.pitch=N.pitch,this.wait=N.wait,this.velocity=N.velocity,this.startTick=N.startTick,this.tick=null,this.delta=null,this.data=N.data}return u(L,[{key:"buildData",value:function(R,C){var V=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this.data=[],this.startTick?(this.tick=f.getRoundedIfClose(this.startTick),R.tickPointer==0&&(this.delta=this.tick)):(this.delta=f.getTickDuration(this.wait),this.tick=f.getRoundedIfClose(R.tickPointer+this.delta)),this.deltaWithPrecisionCorrection=f.getRoundedIfClose(this.delta-C),this.data=f.numberToVariableLength(this.deltaWithPrecisionCorrection).concat(this.getStatusByte(),f.getPitch(this.pitch,V.middleC),f.convertVelocity(this.velocity)),this}},{key:"getStatusByte",value:function(){return 144+this.channel-1}}]),L}(),O=function(){function L(N){s(this,L),N=Object.assign({channel:1,velocity:50,tick:null},N),this.type="note-off",this.channel=N.channel,this.pitch=N.pitch,this.duration=N.duration,this.velocity=N.velocity,this.tick=N.tick,this.delta=f.getTickDuration(this.duration),this.data=N.data}return u(L,[{key:"buildData",value:function(R,C){var V=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this.tick===null&&(this.tick=f.getRoundedIfClose(this.delta+R.tickPointer)),this.deltaWithPrecisionCorrection=f.getRoundedIfClose(this.delta-C),this.data=f.numberToVariableLength(this.deltaWithPrecisionCorrection).concat(this.getStatusByte(),f.getPitch(this.pitch,V.middleC),f.convertVelocity(this.velocity)),this}},{key:"getStatusByte",value:function(){return 128+this.channel-1}}]),L}(),P=function(){function L(N){s(this,L),N=Object.assign({channel:1,repeat:1,sequential:!1,startTick:null,velocity:50,wait:0},N),this.data=[],this.type="note",this.pitch=f.toArray(N.pitch),this.channel=N.channel,this.duration=N.duration,this.grace=N.grace,this.repeat=N.repeat,this.sequential=N.sequential,this.startTick=N.startTick,this.velocity=N.velocity,this.wait=N.wait,this.tickDuration=f.getTickDuration(this.duration),this.restDuration=f.getTickDuration(this.wait),this.events=[]}return u(L,[{key:"buildData",value:function(){var R=this;if(this.data=[],this.grace){var C=1;this.grace=f.toArray(this.grace),this.grace.forEach(function(){var A=new L({pitch:R.grace,duration:"T"+C});R.data=R.data.concat(A.data)})}if(this.sequential)for(var U=0;U<this.repeat;U++)this.pitch.forEach(function(A,Q){var ce=new _({channel:R.channel,wait:Q>0?0:R.wait,velocity:R.velocity,pitch:A,startTick:R.startTick}),de=new O({channel:R.channel,duration:R.duration,velocity:R.velocity,pitch:A});R.events.push(ce,de)});else for(var V=0;V<this.repeat;V++)this.pitch.forEach(function(A,Q){var ce;Q==0?ce=new _({channel:R.channel,wait:R.wait,velocity:R.velocity,pitch:A,startTick:R.startTick}):ce=new _({channel:R.channel,wait:0,velocity:R.velocity,pitch:A,startTick:R.startTick}),R.events.push(ce)}),this.pitch.forEach(function(A,Q){var ce;Q==0?ce=new O({channel:R.channel,duration:R.duration,velocity:R.velocity,pitch:A,tick:R.startTick!==null?f.getTickDuration(R.duration)+R.startTick:null}):ce=new O({channel:R.channel,duration:0,velocity:R.velocity,pitch:A,tick:R.startTick!==null?f.getTickDuration(R.duration)+R.startTick:null}),R.events.push(ce)});return this}}]),L}(),G=function(N){return N<=0?Math.floor(16384*(N+1)/2):Math.floor(16383*(N+1)/2)},K=u(function L(N){s(this,L),N=Object.assign({delta:0},N),this.type="pitch-bend";var R=G(N.bend),C=N.channel||0,V=R&127,U=R>>7&127;this.data=f.numberToVariableLength(N.delta).concat(e.PITCH_BEND_STATUS|C,V,U)}),z=function(){function L(N){s(this,L),this.fields=Object.assign({channel:1,delta:0},N),this.type="program",this.data=f.numberToVariableLength(this.fields.delta).concat(this.getStatusByte(),this.fields.instrument)}return u(L,[{key:"getStatusByte",value:function(){return 192+this.fields.channel-1}}]),L}(),Z=u(function L(N){s(this,L),N=Object.assign({delta:0},N),this.type="tempo",this.tick=N.tick;var R=Math.round(6e7/N.bpm);this.data=f.numberToVariableLength(N.delta).concat(e.META_EVENT_ID,e.META_TEMPO_ID,[3],f.numberToBytes(R,3))}),re=u(function L(N){s(this,L),N=Object.assign({delta:0},N),this.type="text";var R=f.stringToBytes(N.text);this.data=f.numberToVariableLength(N.delta).concat(e.META_EVENT_ID,e.META_TEXT_ID,f.numberToVariableLength(R.length),R)}),pe=u(function L(N,R,C,V){s(this,L),this.type="time-signature",this.data=f.numberToVariableLength(0).concat(e.META_EVENT_ID,e.META_TIME_SIGNATURE_ID,[4],f.numberToBytes(N,1),f.numberToBytes(Math.log2(R),1),f.numberToBytes(C||24,1),f.numberToBytes(V||8,1))}),ge=u(function L(N){s(this,L),N=Object.assign({delta:0},N),this.type="copyright";var R=f.stringToBytes(N.text);this.data=f.numberToVariableLength(N.delta).concat(e.META_EVENT_ID,e.META_COPYRIGHT_ID,f.numberToVariableLength(R.length),R)}),ae=u(function L(N){s(this,L),N=Object.assign({delta:0},N),this.type="track-name";var R=f.stringToBytes(N.text);this.data=f.numberToVariableLength(N.delta).concat(e.META_EVENT_ID,e.META_TRACK_NAME_ID,f.numberToVariableLength(R.length),R)}),ue=function(){function L(){s(this,L),this.type=e.TRACK_CHUNK_TYPE,this.data=[],this.size=[],this.events=[],this.explicitTickEvents=[],this.tickPointer=0}return u(L,[{key:"addEvent",value:function(R,C){var V=this;return f.toArray(R).forEach(function(U,A){if(U instanceof P){if(typeof C=="function"){var Q=C(A,U);if(n(Q)==="object")for(var ce in Q)switch(ce){case"channel":U.channel=Q[ce];break;case"duration":U.duration=Q[ce];break;case"sequential":U.sequential=Q[ce];break;case"velocity":U.velocity=f.convertVelocity(Q[ce]);break}}U.startTick!==null?V.explicitTickEvents.push(U):U.buildData().events.forEach(function(de){return V.events.push(de)})}else U instanceof T&&V.removeEventsByType("end-track"),V.events.push(U)}),this}},{key:"buildData",value:function(){var R=this,C=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};(!this.events.length||!(this.events[this.events.length-1]instanceof T))&&this.addEvent(new T),this.data=[],this.size=[],this.tickPointer=0;var V=0;return this.events.forEach(function(U){if(U instanceof _||U instanceof O){var A=U.buildData(R,V,C);V=f.getPrecisionLoss(U.deltaWithPrecisionCorrection||0),R.data=R.data.concat(A.data),R.tickPointer=f.getRoundedIfClose(U.tick)}else U instanceof Z&&(R.tickPointer=f.getRoundedIfClose(U.tick)),R.data=R.data.concat(U.data)}),this.mergeExplicitTickEvents(),this.size=f.numberToBytes(this.data.length,4),this}},{key:"mergeExplicitTickEvents",value:function(){var R=this;this.explicitTickEvents.length&&(this.explicitTickEvents.sort(function(C,V){return C.startTick-V.startTick}),this.explicitTickEvents.forEach(function(C){C.buildData().events.forEach(function(V){return V.buildData(R)}),C.events.forEach(function(V){return R.mergeSingleEvent(V)})}),this.explicitTickEvents=[],this.buildData())}},{key:"mergeTrack",value:function(R){var C=this;this.buildData(),R.buildData().events.forEach(function(V){return C.mergeSingleEvent(V)})}},{key:"mergeSingleEvent",value:function(R){if(!this.events.length){this.addEvent(R);return}for(var C,V=0;V<this.events.length&&!(this.events[V].tick>R.tick);V++)C=V;var U=C+1;R.delta=R.tick-this.events[C].tick,this.events.splice(U,0,R);for(var A=U+1;A<this.events.length;A++)this.events[A].delta=this.events[A].tick-this.events[A-1].tick}},{key:"removeEventsByType",value:function(R){var C=this;return this.events.forEach(function(V,U){V.type===R&&C.events.splice(U,1)}),this}},{key:"setTempo",value:function(R){var C=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return this.addEvent(new Z({bpm:R,tick:C}))}},{key:"setTimeSignature",value:function(R,C,V,U){return this.addEvent(new pe(R,C,V,U))}},{key:"setKeySignature",value:function(R,C){return this.addEvent(new M(R,C))}},{key:"addText",value:function(R){return this.addEvent(new re({text:R}))}},{key:"addCopyright",value:function(R){return this.addEvent(new ge({text:R}))}},{key:"addTrackName",value:function(R){return this.addEvent(new ae({text:R}))}},{key:"addInstrumentName",value:function(R){return this.addEvent(new S({text:R}))}},{key:"addMarker",value:function(R){return this.addEvent(new k({text:R}))}},{key:"addCuePoint",value:function(R){return this.addEvent(new b({text:R}))}},{key:"addLyric",value:function(R){return this.addEvent(new D({text:R}))}},{key:"polyModeOn",value:function(){var R=new _({data:[0,176,126,0]});return this.addEvent(R)}},{key:"setPitchBend",value:function(R){return this.addEvent(new K({bend:R}))}},{key:"controllerChange",value:function(R,C){return this.addEvent(new p({controllerNumber:R,controllerValue:C}))}}]),L}(),ye=function(){function L(){s(this,L)}return u(L,[{key:"trackFromVoice",value:function(R){var C=this,V=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{addRenderedAccidentals:!1},U=new ue,A=[];return R.tickables.forEach(function(Q){Q.noteType==="n"?(U.addEvent(new P({pitch:Q.keys.map(function(ce,de){return C.convertPitch(ce,de,Q,V.addRenderedAccidentals)}),duration:C.convertDuration(Q),wait:A})),A=[]):Q.noteType==="r"&&A.push(C.convertDuration(Q))}),A.length>0&&U.addEvent(new P({pitch:"[c4]",duration:"0",wait:A,velocity:"0"})),U}},{key:"convertPitch",value:function(R,C,V){var U=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1,A=R.split("/"),Q=A[0].substring(1).replace("n","");if(U){var ce;(ce=V.getAccidentals())===null||ce===void 0||ce.forEach(function(de){de.index===C&&(de.type==="n"?Q="":Q+=de.type)})}return A[0][0]+Q+A[1]}},{key:"convertDuration",value:function(R){return"d".repeat(R.dots)+this.convertBaseDuration(R.duration)+(R.tuplet?"t"+R.tuplet.num_notes:"")}},{key:"convertBaseDuration",value:function(R){switch(R){case"w":return"1";case"h":return"2";case"q":return"4";default:return R}}}]),L}(),se=u(function L(N){s(this,L),this.type=e.HEADER_CHUNK_TYPE;var R=N>1?e.HEADER_CHUNK_FORMAT1:e.HEADER_CHUNK_FORMAT0;this.data=R.concat(f.numberToBytes(N,2),e.HEADER_CHUNK_DIVISION),this.size=[0,0,0,this.data.length]}),me=function(){function L(N){var R=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};s(this,L),this.tracks=f.toArray(N),this.options=R}return u(L,[{key:"buildData",value:function(){var R=this,C=[];return C.push(new se(this.tracks.length)),this.tracks.forEach(function(V){C.push(V.buildData(R.options))}),C}},{key:"buildFile",value:function(){var R=[];return this.buildData().forEach(function(C){return R=R.concat(C.type,C.size,C.data)}),new Uint8Array(R)}},{key:"base64",value:function(){return typeof btoa=="function"?btoa(String.fromCharCode.apply(null,this.buildFile())):Buffer.from(this.buildFile()).toString("base64")}},{key:"dataUri",value:function(){return"data:audio/midi;base64,"+this.base64()}},{key:"setOption",value:function(R,C){return this.options[R]=C,this}},{key:"stdout",value:function(){return process.stdout.write(Buffer.from(this.buildFile()))}}]),L}(),q={Constants:e,ControllerChangeEvent:p,CuePointEvent:b,EndTrackEvent:T,InstrumentNameEvent:S,KeySignatureEvent:M,LyricEvent:D,MarkerEvent:k,NoteOnEvent:_,NoteOffEvent:O,NoteEvent:P,PitchBendEvent:K,ProgramChangeEvent:z,TempoEvent:Z,TextEvent:re,TimeSignatureEvent:pe,Track:ue,TrackNameEvent:ae,Utils:f,VexFlow:ye,Writer:me};return zd=q,zd}var F2=z2();const Fn=fo(F2),jl=t=>{if(!Fn.Track)return null;const e=new Fn.Track;return e.addTrackName(t),e},Fd=(t,e,n,a=!1)=>{!Fn.NoteEvent||!e||e.length===0||!t||e.forEach(s=>{let l=[];if(a)l=s.notes.map(d=>d.midi).filter(d=>typeof d=="number");else{const u=s;typeof u.midi=="number"&&(l=[u.midi])}if(l.length>0){const u=Math.round(s.duration*128),d=Math.round(s.time*128),h=l.map(f=>{const p=["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"],b=Math.floor(f/12)-1;return`${p[f%12]}${b}`});t.addEvent(new Fn.NoteEvent({pitch:h.length===1?h[0]:h,duration:`T${u}`,startTick:d,velocity:s.velocity||(a?90:100),channel:n}))}})},H2=(t,e)=>{!Fn.NoteEvent||!e||Object.keys(e).length===0||!t||Object.entries(e).forEach(([n,a])=>{const s=n.toLowerCase().replace(/\s+/g,"_"),l=au[s]||au[n];typeof l!="number"||!a||a.forEach(u=>{const d=Math.round(u.duration*128),h=Math.round(u.time*128),f=["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"],p=Math.floor(l/12)-1,T=`${f[l%12]}${p}`;t.addEvent(new Fn.NoteEvent({pitch:T,duration:`T${d}`,startTick:h,velocity:u.velocity||100,channel:10}))})})},tx=(t,e,n="TrackGuide")=>{if(!Fn||!Fn.Writer||!Fn.Track||!Fn.NoteEvent)return console.error("MidiWriterJS components (Writer, Track, NoteEvent) are not loaded. Cannot generate MIDI file."),null;const a=[];let s=!1;const l=d=>(d&&(d.setTempo(e.tempo,0),d.setTimeSignature(e.timeSignature[0],e.timeSignature[1])),d);if(t.chords&&t.chords.length>0){let d=jl(`${n} Chords`);d=l(d),d&&(Fd(d,t.chords,1,!0),a.push(d),s=!0)}if(t.bassline&&t.bassline.length>0){let d=jl(`${n} Bassline`);d=l(d),d&&(Fd(d,t.bassline,2,!1),a.push(d),s=!0)}if(t.melody&&t.melody.length>0){let d=jl(`${n} Melody`);d=l(d),d&&(Fd(d,t.melody,3,!1),a.push(d),s=!0)}if(t.drums&&Object.keys(t.drums).length>0){let d=jl(`${n} Drums`);d=l(d),d&&(H2(d,t.drums),a.push(d),s=!0)}return s?new Fn.Writer(a).dataUri():(console.warn("No patterns to write to MIDI file."),null)},nx=(t,e)=>{if(!t){console.error("MIDI data URI is null or empty. Cannot download."),alert("Failed to generate MIDI data for download.");return}const n=document.createElement("a");n.href=t,n.download=e,document.body.appendChild(n),n.click(),document.body.removeChild(n)};let qi=null,Ji=[],ou=null,Xl=null,lu=0,Ks=0,va=!1;const uh=()=>((!qi||qi.state==="closed")&&(qi=new(window.AudioContext||window.webkitAudioContext),ou=qi.createGain(),ou.connect(qi.destination)),qi.state==="suspended"&&qi.resume(),qi),wr=(t,e)=>t/e*60,Hd=(t,e,n,a=100,s=!1,l,u)=>{const d=uh();if(!ou||!u)return;const h=lu+Ks*Eb()+e;if(h<d.currentTime-.05)return;const f=d.createGain(),p=a/127*(s?.75:.35);let b=p;if(f.gain.setValueAtTime(b,h),b>1e-4)try{f.gain.exponentialRampToValueAtTime(1e-4,h+n)}catch{f.gain.linearRampToValueAtTime(1e-4,h+n)}f.connect(ou);let T;if(s)if(l==="kick"){const S=d.createOscillator();S.type="sine",S.frequency.setValueAtTime(150,h),S.frequency.exponentialRampToValueAtTime(50,h+Math.min(n,.12));const M=d.createGain();M.gain.setValueAtTime(1,h),M.gain.exponentialRampToValueAtTime(.001,h+n),S.connect(M).connect(f),S.start(h),S.stop(h+n),Ji.push({node:S,controlGainNode:f,trackType:u,intendedVolume:p,scheduledStopTime:h+n,isDrum:!0});return}else{T=d.createBufferSource();const S=Math.max(1,Math.floor(d.sampleRate*n)),M=d.createBuffer(1,S,d.sampleRate),D=M.getChannelData(0);if(l==="snare"||l==="clap")for(let k=0;k<S;k++)D[k]=(Math.random()*2-1)*Math.exp(-k/(d.sampleRate*.05));else if(l&&(l.includes("hat")||l.includes("cymbal")||l.includes("shaker"))){const k=l.includes("hat")?5e3:l.includes("shaker")?7e3:3e3,_=l.includes("hat")?.03:l.includes("shaker")?.02:.25;for(let O=0;O<S;O++)D[O]=(Math.random()*2-1)*Math.exp(-O/(d.sampleRate*_))*Math.sin(2*Math.PI*k*(O/d.sampleRate)*(1+Math.random()*.3))}else{const k=d.createOscillator();k.type="sine",k.frequency.setValueAtTime(200+Math.random()*150,h),k.frequency.exponentialRampToValueAtTime(100,h+n*.8);const _=d.createGain();_.gain.setValueAtTime(.9,h),_.gain.exponentialRampToValueAtTime(.001,h+n),k.connect(_).connect(f),k.start(h),k.stop(h+n),Ji.push({node:k,controlGainNode:f,trackType:u,intendedVolume:p,scheduledStopTime:h+n,isDrum:!0});return}T.buffer=M}else{T=d.createOscillator(),T.type="sawtooth";const S=440*Math.pow(2,(t-69)/12);T.frequency.setValueAtTime(S,h)}T.connect(f),T.start(h),T.stop(h+n),Ji.push({node:T,controlGainNode:f,trackType:u,intendedVolume:p,scheduledStopTime:h+n,isDrum:s})};let Df=null;const Eb=()=>{if(!Df)throw new Error("Settings not available for loop duration calculation.");const{tempo:t,bars:e,timeSignature:n}=Df,a=n[0]*(4/n[1]);return wr(e*a,t)},ix=(t,e,n)=>{Ab(!1),va=!0,Ks=0,Df={...e};const a=uh();lu=a.currentTime,Ji=[];const s=Eb();if(s<=0){console.error("Loop duration is zero or negative. Cannot play."),va=!1;return}function l(){if(!va)return;const u=a.currentTime;Ji=Ji.filter(p=>p.scheduledStopTime>u||!p.node);const d=e.tempo,h=(p,b)=>{b&&(p==="drums"&&typeof b=="object"&&!Array.isArray(b)?Object.entries(b).forEach(([T,S])=>{const M=T.toLowerCase().replace(/\s+/g,"_"),D=au[M]||au[T];typeof D!="number"||!S||S.forEach(k=>{Hd(D,wr(k.time,d),wr(k.duration,d),k.velocity,!0,M,p)})}):Array.isArray(b)&&b.forEach(T=>{"notes"in T?T.notes.forEach(M=>{typeof M.midi=="number"&&Hd(M.midi,wr(T.time,d),wr(T.duration,d),T.velocity,!1,void 0,p)}):typeof T.midi=="number"&&Hd(T.midi,wr(T.time,d),wr(T.duration,d),T.velocity,!1,void 0,p)}))};if((n?[n]:["chords","bassline","melody","drums"]).forEach(p=>{switch(p){case"chords":t.chords&&h("chords",t.chords);break;case"bassline":t.bassline&&h("bassline",t.bassline);break;case"melody":t.melody&&h("melody",t.melody);break;case"drums":t.drums&&h("drums",t.drums);break}}),va){const p=lu+(Ks+1)*s;let b=(p-a.currentTime)*1e3;b<0&&(console.warn(`Loop drift detected. Next loop scheduled with minimal delay. Ideal: ${p}, Current: ${a.currentTime}`),b=10),Xl=window.setTimeout(()=>{va&&(Ks++,l())},b)}}l()},zn=()=>{va=!1,Ab(!0)},Ab=t=>{Xl!==null&&(clearTimeout(Xl),Xl=null),Ji.forEach(e=>{try{e.node&&(e.node.stop(),e.node.disconnect()),e.controlGainNode&&e.controlGainNode.disconnect()}catch{}}),Ji=[],t&&(Ks=0,lu=0)},js=async()=>{try{const t=uh();t.state==="suspended"&&await t.resume()}catch(t){console.error("Failed to initialize audio context:",t)}},G2=async t=>new Promise((e,n)=>{const a=new FileReader;a.onload=()=>{if(a.result&&typeof a.result=="string"){const s=a.result.split(","),l=s[1],u=s[0].match(/data:(.*);base64/),d=u?u[1]:t.type||"audio/mpeg";e({base64:l,mimeType:d})}else n(new Error("Failed to read file"))},a.onerror=()=>n(new Error("File reading failed")),a.readAsDataURL(t)}),Sr=t=>{if(!t)return"General musical context. Focus on genre and vibe.";const e=t.indexOf("## 3. Instrument & Sound Design Guide"),n=e>0?e:t.indexOf("## 2. Structural Blueprint")>0?t.indexOf("## 2. Structural Blueprint"):1500;return t.substring(0,Math.min(n,t.length))},q2=t=>{const e=t.match(/^([A-G][#b]?)/);return e?e[1]:"C"},Y2=t=>{const e=q2(t);return Q0[e]||Q0.C},Os=[1,2,4,8,16,32],Mb=({currentGuidebookEntry:t,mainAppInputs:e,onUpdateGuidebookEntryMidi:n,parsedGuidebookBpm:a,parsedGuidebookKey:s,parsedGuidebookChordProg:l,initialPatterns:u,sections:d,targetTempo:h,targetKey:f,isRemixMode:p=!1,preGeneratedPatterns:b})=>{var ce,de;const[T,S]=ie.useState(()=>{var st;if(p)return{...Ke,key:f||Ke.key,tempo:h||Ke.tempo,genre:"Electronic",songSection:(d==null?void 0:d[0])||Ke.songSection,guidebookContext:`Remix mode for ${f||"C minor"} at ${h||128} BPM`,targetInstruments:["Bassline","Drums","Melody","Pads"],bars:8};if(t!=null&&t.midiSettings)return{...t.midiSettings,bars:Os.includes(t.midiSettings.bars)?t.midiSettings.bars:Ke.bars,songSection:t.midiSettings.songSection||Ke.songSection,targetInstruments:t.midiSettings.targetInstruments&&t.midiSettings.targetInstruments.length>0?t.midiSettings.targetInstruments:[...Ke.targetInstruments],guidebookContext:t.midiSettings.guidebookContext||Sr(t.content)};const J=((st=t==null?void 0:t.genre)==null?void 0:st[0])||(e==null?void 0:e.genre[0])||Ke.genre,he=Sr((t==null?void 0:t.content)||""),ve=_n[J]||_n.Default,Ae=Math.round((ve[0]+ve[1])/2),Me=Ke.songSection;let Pe=Ke.bars;const Fe=Me.toLowerCase();return Fe.includes("intro")||Fe.includes("outro")||Fe.includes("fill")||Fe.includes("breakdown")?Pe=4:Pe=8,Pe=Os.includes(Pe)?Pe:Ke.bars,{...Ke,genre:J,key:s||Ke.key,tempo:a||Ae,chordProgression:l||(kn[J]||kn.Default)[0],guidebookContext:he,targetInstruments:[...Ke.targetInstruments],songSection:Me,bars:Pe}}),[M,D]=ie.useState(()=>{if(b)return b;if(p&&u){const J={};return Object.entries(u).forEach(([he,ve])=>{Object.entries(ve).forEach(([Ae,Me])=>{const Pe=`${he}_${Ae}`;typeof Me!="string"&&(J[Pe]=Me)})}),J}return(t==null?void 0:t.generatedMidiPatterns)||null}),[k,_]=ie.useState(!1),[O,P]=ie.useState(""),[G,K]=ie.useState(null),[z,Z]=ie.useState(!1),re=ie.useRef(z);ie.useEffect(()=>{re.current=z},[z]);const[pe,ge]=ie.useState(!1);ie.useEffect(()=>{var he;let J;if(t!=null&&t.midiSettings)J=t.midiSettings.bars||Ke.bars,S({...t.midiSettings,bars:Os.includes(J)?J:Ke.bars,songSection:t.midiSettings.songSection||Ke.songSection,targetInstruments:t.midiSettings.targetInstruments&&t.midiSettings.targetInstruments.length>0?t.midiSettings.targetInstruments:[...Ke.targetInstruments],guidebookContext:t.midiSettings.guidebookContext||Sr(t.content)});else{const ve=((he=t==null?void 0:t.genre)==null?void 0:he[0])||(e==null?void 0:e.genre[0])||Ke.genre,Ae=Sr((t==null?void 0:t.content)||""),Me=_n[ve]||_n.Default,Pe=Math.round((Me[0]+Me[1])/2),Fe=Ke.songSection;let st=Ke.bars;const He=Fe.toLowerCase();He.includes("intro")||He.includes("outro")||He.includes("fill")||He.includes("breakdown")?st=4:st=8,J=Os.includes(st)?st:Ke.bars,S({...Ke,key:s||Ke.key,tempo:a||Pe,chordProgression:l||(kn[ve]||kn.Default)[0],genre:ve,guidebookContext:Ae,targetInstruments:[...Ke.targetInstruments],songSection:Fe,bars:J})}D((t==null?void 0:t.generatedMidiPatterns)||null),K(null),re.current&&(zn(),Z(!1))},[t,e==null?void 0:e.genre,a,s,l]);const ae=(J,he)=>{S(ve=>{const Ae={...ve,[J]:he};if(J==="genre"){const Me=he,Pe=(kn[ve.genre]||kn.Default)[0];ve.chordProgression===Pe&&(Ae.chordProgression=(kn[Me]||kn.Default)[0]);const Fe=_n[ve.genre]||_n.Default,st=Math.round((Fe[0]+Fe[1])/2);if(ve.tempo===st){const He=_n[Me]||_n.Default;Ae.tempo=Math.round((He[0]+He[1])/2)}}return t!=null&&t.content&&(Ae.guidebookContext=Sr(t.content)),Ae})},ue=J=>{S(he=>{const ve=he.targetInstruments,Ae=ve.includes(J)?ve.filter(Me=>Me!==J):[...ve,J];return{...he,targetInstruments:Ae}})},ye=async()=>{var Me;_(!0),P("Regenerating MIDI patterns..."),K(null),re.current&&(zn(),Z(!1)),await js();const J=((Me=t==null?void 0:t.genre)==null?void 0:Me[0])||T.genre,he=Sr((t==null?void 0:t.content)||""),ve={...T,guidebookContext:he,genre:J};let Ae="";try{const Pe=await su(ve);for await(const nt of Pe)Ae+=nt.text;let Fe=Ae.trim();const st=/^```(\w*)?\s*\n?(.*?)\n?\s*```$/s,He=Fe.match(st);He&&He[2]&&(Fe=He[2].trim());const Mt=JSON.parse(Fe);if(Mt.drums){const nt={};for(const on in Mt.drums)nt[on.toLowerCase().replace(/\s+/g,"_")]=Mt.drums[on];Mt.drums=nt}D(Mt),n==null||n(ve,Mt)}catch(Pe){console.error("MIDI Generation Error:",Pe);const Fe=Pe.message.toLowerCase().includes("json")?`AI returned invalid JSON for MIDI patterns. (${Pe.message})`:`Failed to generate MIDI patterns: ${Pe.message}`;K(Fe),D(null)}finally{_(!1),P("")}},se=async()=>{M&&(await js(),re.current&&(zn(),Z(!1),await new Promise(J=>setTimeout(J,50))),ix(M,T),Z(!0))},me=async J=>{!M||!M[J]||(await js(),re.current&&(zn(),Z(!1),await new Promise(he=>setTimeout(he,50))),ix(M,T,J),Z(!0))},q=()=>{zn(),Z(!1)};ie.useEffect(()=>()=>{re.current&&zn()},[]);const L=()=>{if(!M)return;const J=((t==null?void 0:t.title)||"TrackGuideMIDI").replace(/[^a-z0-9_.-]/gi,"_"),he=tx(M,T,J);he?nx(he,`${J}_all_tracks.mid`):alert("No MIDI data to download or error in generation.")},N=J=>{if(!M||!M[J]){alert(`No ${J} data available in current patterns.`);return}const he={[J]:M[J]},ve=((t==null?void 0:t.title)||"TrackGuideMIDI").replace(/[^a-z0-9_.-]/gi,"_"),Ae=tx(he,T,`${ve}_${J}`);Ae?nx(Ae,`${ve}_${J}.mid`):alert(`No ${J} data to download or error in generation.`)},R=async J=>{var Pe;if(!M)return;_(!0),P("Generating MIDI..."),K(null),re.current&&(zn(),Z(!1)),await js();const he=((Pe=t==null?void 0:t.genre)==null?void 0:Pe[0])||T.genre,ve=Sr((t==null?void 0:t.content)||""),Ae={...T,guidebookContext:ve,genre:he,targetInstruments:[J]};let Me="";try{const Fe=await su(Ae);for await(const yn of Fe)Me+=yn.text;let st=Me.trim();const He=/^```(\w*)?\s*\n?(.*?)\n?\s*```$/s,Mt=st.match(He);Mt&&Mt[2]&&(st=Mt[2].trim());const nt=JSON.parse(st),on={...M,[J]:nt[J]};if(J==="drums"&&nt.drums){const yn={};for(const Ln in nt.drums)yn[Ln.toLowerCase().replace(/\s+/g,"_")]=nt.drums[Ln];on.drums=yn}D(on),n==null||n(T,on),P("")}catch(Fe){console.error("Error regenerating single track:",Fe),K(`Failed to regenerate ${J}. Please try again.`),P("")}finally{_(!1)}},C=J=>{const he=_n[J]||_n.Default;return`(${he[0]}-${he[1]} BPM for ${J})`},V=J=>kn[J]||kn.Default,U=(J,he)=>{if(!J)return g.jsxs("p",{className:"text-xs text-gray-500",children:["No ",he," pattern generated."]});if(he==="Chords"&&Array.isArray(J)){const ve=J;if(ve.length>0){let Ae=[],Me=null;for(const Fe of ve)Fe.name!==Me&&(Ae.push(Fe.name),Me=Fe.name);const Pe=Ae.join(" - ");return g.jsx("div",{className:"text-xs text-gray-300 bg-gray-700 p-2 rounded-md mt-1 whitespace-normal break-words max-h-20 overflow-y-auto custom-scrollbar",children:Pe})}}return null},A=async()=>{pe||await js(),ge(J=>!J)},Q=(J,he)=>{const ve=M==null?void 0:M[J],Ae=ve&&(Array.isArray(ve)&&ve.length>0||typeof ve=="object"&&Object.keys(ve).length>0&&!(ve!=null&&ve.error));if(!Ae)return M&&!M[J]&&T.targetInstruments.includes(J)?g.jsx(tt,{title:he,className:"bg-gray-700/50 opacity-60",contentClassName:"p-3",children:g.jsx("p",{className:"text-xs text-gray-400",children:"Pattern not generated or empty. Try regenerating with this instrument selected."})}):null;const Me=U(ve,he);return g.jsxs(tt,{title:he,className:"bg-gray-700/50",contentClassName:"p-3",children:[Me,g.jsxs("div",{className:`${Me?"mt-3":""} flex gap-2 items-center`,children:[g.jsx(Be,{size:"sm",variant:"secondary",onClick:()=>me(J),disabled:!Ae||z,className:"px-2.5 py-1.5 flex-1",title:`Preview ${he}`,leftIcon:g.jsx(Z0,{className:"w-4 h-4"}),children:"Preview"}),g.jsx(Be,{size:"sm",variant:"outline",onClick:()=>R(J),className:"p-1.5 flex-none",title:`Regenerate ${he}`,"aria-label":`Regenerate ${he}`,disabled:k,children:g.jsx(W0,{className:"w-4 h-4",isSpinning:k&&O.includes(J)})}),g.jsx(Be,{size:"sm",variant:"outline",onClick:()=>N(J),className:"p-1.5 flex-none",title:`Download ${he} MIDI`,"aria-label":`Download ${he} MIDI`,disabled:!Ae,children:g.jsx(Ef,{className:"w-4 h-4"})})]})]})};return g.jsxs(tt,{title:"🎹 MIDI Tools & Pattern Generator",className:"mt-6 bg-gray-800/80 backdrop-blur-md shadow-xl border border-gray-700/50",children:[g.jsx(Be,{onClick:A,variant:"secondary",className:"w-full mb-4",leftIcon:g.jsx(E2,{}),children:pe?"Hide MIDI Settings":"Adjust MIDI Settings & Regenerate"}),pe&&g.jsxs("div",{className:"mb-6 border-t border-gray-700 pt-6",children:[g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-x-6 gap-y-4 mb-6",children:[g.jsxs("div",{children:[g.jsxs("label",{htmlFor:"midi-key",className:"block text-sm font-medium text-gray-300 mb-1",children:["Key ",g.jsxs("span",{className:"text-xs text-gray-400",children:["(Guidebook: ",s||"N/A",")"]})]}),g.jsx("select",{id:"midi-key",value:T.key,onChange:J=>ae("key",J.target.value),className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-md shadow-sm text-gray-100 focus:ring-purple-500 focus:border-purple-500 text-sm",children:qs.map(J=>g.jsx("option",{value:J,children:J},J))})]}),g.jsxs("div",{children:[g.jsxs("label",{htmlFor:"midi-scale",className:"block text-sm font-medium text-gray-300 mb-1",children:["Scale/Mode ",g.jsx("span",{className:"text-xs text-gray-400",children:"(Optional)"})]}),g.jsxs("select",{id:"midi-scale",value:T.scale||"",onChange:J=>ae("scale",J.target.value),className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-md shadow-sm text-gray-100 focus:ring-purple-500 focus:border-purple-500 text-sm",children:[g.jsx("option",{value:"",children:"Default (from key)"}),Y2(T.key).map(J=>g.jsx("option",{value:J,children:J},J))]})]}),g.jsxs("div",{children:[g.jsxs("label",{htmlFor:"midi-tempo",className:"block text-sm font-medium text-gray-300 mb-1",children:["Tempo (BPM) ",g.jsxs("span",{className:"text-xs text-gray-400",children:["Guidebook: ",a||"N/A"]})]}),g.jsx(Xt,{type:"number",id:"midi-tempo",value:T.tempo,onChange:J=>ae("tempo",parseInt(J.target.value,10)),min:"30",max:"300"}),g.jsx("p",{className:"text-xs text-gray-400 mt-1",children:C(T.genre)})]}),g.jsxs("div",{children:[g.jsx("label",{htmlFor:"midi-timesig",className:"block text-sm font-medium text-gray-300 mb-1",children:"Time Signature"}),g.jsx("select",{id:"midi-timesig",value:T.timeSignature.join("/"),onChange:J=>ae("timeSignature",J.target.value.split("/").map(Number)),className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-md shadow-sm text-gray-100 focus:ring-purple-500 focus:border-purple-500 text-sm",children:r2.map(J=>g.jsx("option",{value:J.join("/"),children:J.join("/")},J.join("/")))})]}),g.jsxs("div",{children:[g.jsxs("label",{htmlFor:"midi-chords",className:"block text-sm font-medium text-gray-300 mb-1",children:["Chord Progression ",g.jsxs("span",{className:"text-xs text-gray-400",children:["(Guidebook: ",l||"N/A",")"]})]}),g.jsx("select",{id:"midi-chords",value:T.chordProgression,onChange:J=>ae("chordProgression",J.target.value),className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-md shadow-sm text-gray-100 focus:ring-purple-500 focus:border-purple-500 text-sm",children:V(T.genre).map(J=>g.jsx("option",{value:J,children:J},J))})]}),g.jsxs("div",{children:[g.jsx("label",{htmlFor:"midi-genre",className:"block text-sm font-medium text-gray-300 mb-1",children:"MIDI Genre Context"}),g.jsxs("select",{id:"midi-genre",value:T.genre,onChange:J=>ae("genre",J.target.value),className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-md shadow-sm text-gray-100 focus:ring-purple-500 focus:border-purple-500 text-sm",children:[g.jsxs("option",{value:((ce=t==null?void 0:t.genre)==null?void 0:ce[0])||(e==null?void 0:e.genre[0])||Ke.genre,children:["Align with Guidebook (",((de=t==null?void 0:t.genre)==null?void 0:de[0])||(e==null?void 0:e.genre[0])||"Default",")"]}),Tb.map(J=>g.jsx("option",{value:J,children:J},J))]})]}),g.jsxs("div",{children:[g.jsx("label",{htmlFor:"midi-bars",className:"block text-sm font-medium text-gray-300 mb-1",children:"Loop Length (Bars)"}),g.jsx("select",{id:"midi-bars",value:T.bars,onChange:J=>ae("bars",parseInt(J.target.value,10)),className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-md shadow-sm text-gray-100 focus:ring-purple-500 focus:border-purple-500 text-sm",children:Os.map(J=>g.jsx("option",{value:J,children:J},J))})]}),g.jsxs("div",{className:"lg:col-span-1",children:[g.jsx("label",{htmlFor:"midi-songsection",className:"block text-sm font-medium text-gray-300 mb-1",children:"Song Section Context"}),g.jsx("select",{id:"midi-songsection",value:T.songSection||Ke.songSection,onChange:J=>ae("songSection",J.target.value),className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-md shadow-sm text-gray-100 focus:ring-purple-500 focus:border-purple-500 text-sm",children:(p&&d?d:s2).map(J=>g.jsx("option",{value:J,children:J},J))})]})]}),g.jsxs("div",{className:"mb-6",children:[g.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Target Instruments to Generate"}),g.jsx("div",{className:"flex flex-wrap gap-x-4 gap-y-2",children:a2.map(J=>g.jsxs("button",{type:"button",onClick:()=>ue(J.id),className:`flex items-center px-3 py-1.5 rounded-md text-sm transition-colors duration-150 ease-in-out border
                            ${T.targetInstruments.includes(J.id)?"bg-purple-600 text-white border-purple-500 hover:bg-purple-700 shadow-md":"bg-gray-700 text-gray-300 border-gray-600 hover:bg-gray-600 hover:border-gray-500"}`,"aria-pressed":T.targetInstruments.includes(J.id),children:[T.targetInstruments.includes(J.id)?g.jsx(M2,{className:"w-4 h-4 mr-2"}):g.jsx(A2,{className:"w-4 h-4 mr-2 text-gray-500"}),J.label]},J.id))})]}),g.jsx(Be,{onClick:ye,disabled:k||T.targetInstruments.length===0,className:"w-full",leftIcon:g.jsx(W0,{className:"w-5 h-5",isSpinning:k}),children:k?O||"Regenerating MIDI Patterns...":T.targetInstruments.length===0?"Select instruments first":"Regenerate MIDI Patterns"})]}),G&&g.jsx("p",{className:"text-red-400 bg-red-900/30 p-3 rounded-md text-sm my-4",children:G}),k&&!pe&&(!M||O.includes("MIDI"))&&g.jsx("div",{className:"my-4",children:g.jsx(Xi,{text:O||"AI is composing..."})}),M&&!k&&g.jsxs("div",{className:"mt-6 space-y-3",children:[g.jsxs("div",{className:"flex flex-wrap gap-3 items-center pb-3 border-b border-gray-700",children:[g.jsx(Be,{onClick:z?q:se,variant:z?"danger":"primary",size:"md",leftIcon:z?g.jsx(w2,{}):g.jsx(Z0,{}),children:z?"Stop Preview":"Play All Tracks"}),g.jsx(Be,{onClick:L,variant:"secondary",size:"md",leftIcon:g.jsx(Ef,{}),children:"Download All (.mid)"})]}),g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 pt-3",children:[Q("chords","Chords"),Q("bassline","Bassline"),Q("melody","Melody"),Q("drums","Drums")]}),M.error&&g.jsxs("p",{className:"text-sm text-yellow-400 mt-2",children:["AI Note: ",M.error]})]}),!M&&!k&&!G&&g.jsx("p",{className:"text-gray-400 text-sm mt-4 text-center",children:'No MIDI patterns generated yet for this TrackGuide. Click "Adjust MIDI Settings" to configure and generate.'})]})},K2=({library:t,onClose:e,onLoadEntry:n,onDeleteEntry:a,onCreateNew:s})=>{const[l,u]=ie.useState(""),d=t.filter(h=>h.title.toLowerCase().includes(l.toLowerCase())||h.genre.join(", ").toLowerCase().includes(l.toLowerCase())).sort((h,f)=>new Date(f.createdAt).getTime()-new Date(h.createdAt).getTime());return g.jsx("div",{className:"fixed inset-0 bg-gray-900/80 backdrop-blur-sm flex items-center justify-center p-4 z-50 transition-opacity duration-300 ease-in-out",onClick:e,role:"dialog","aria-modal":"true","aria-labelledby":"library-modal-title",children:g.jsxs(tt,{className:"w-full max-w-2xl bg-gray-800 shadow-2xl border border-gray-700 max-h-[90vh] flex flex-col",onClick:h=>h.stopPropagation(),children:[g.jsxs("div",{className:"flex justify-between items-center px-6 py-4 border-b border-gray-700",children:[g.jsxs("h2",{id:"library-modal-title",className:"text-2xl font-semibold text-purple-300 flex items-center",children:[g.jsx(Af,{className:"w-7 h-7 mr-3 text-purple-400"}),"TrackGuide Library"]}),g.jsx(Be,{onClick:e,variant:"secondary",size:"sm",className:"p-2 -mr-2","aria-label":"Close Library",children:g.jsx(Cb,{className:"w-5 h-5"})})]}),g.jsx("div",{className:"px-6 py-4",children:g.jsx(Xt,{type:"search",placeholder:"Search by title or genre...",value:l,onChange:h=>u(h.target.value),className:"mb-4 bg-gray-700 border-gray-600 placeholder-gray-500","aria-label":"Search library"})}),g.jsx("div",{className:"flex-grow overflow-y-auto px-6 pb-6 space-y-3 custom-scrollbar pr-3",children:d.length===0?g.jsx("p",{className:"text-gray-400 text-center py-8",children:l?`No entries found for "${l}".`:"Your library is empty. Create some TrackGuides!"}):d.map(h=>g.jsx("div",{className:"p-4 bg-gray-700/60 rounded-lg hover:bg-gray-600/50 transition-colors shadow-md border border-gray-600/50",children:g.jsxs("div",{className:"flex justify-between items-start",children:[g.jsxs("div",{className:"flex-grow min-w-0",children:[g.jsx("h4",{className:"font-semibold text-purple-300 truncate text-lg",title:h.title,children:h.title}),g.jsx("p",{className:"text-sm text-gray-400 truncate",title:Array.isArray(h.genre)?h.genre.join(", "):h.genre,children:Array.isArray(h.genre)?h.genre.join(", "):h.genre}),g.jsxs("p",{className:"text-xs text-gray-500",children:["Created: ",new Date(h.createdAt).toLocaleDateString(),h.generatedMidiPatterns&&g.jsx(Sb,{className:"w-3 h-3 text-green-400 inline-block ml-2",title:"MIDI available"})]})]}),g.jsxs("div",{className:"flex flex-col sm:flex-row space-y-2 sm:space-y-0 sm:space-x-2 items-end shrink-0 ml-3 mt-1 sm:mt-0",children:[g.jsx(Be,{onClick:()=>n(h),size:"sm",variant:"outline",className:"text-xs px-3 py-1.5 w-full sm:w-auto",leftIcon:g.jsx(Af,{className:"w-4 h-4"}),children:"Load"}),g.jsx(Be,{onClick:()=>a(h.id),size:"sm",variant:"danger",className:"text-xs px-3 py-1.5 w-full sm:w-auto",leftIcon:g.jsx(S2,{className:"w-4 h-4"})})]})]})},h.id))}),g.jsx("div",{className:"px-6 py-4 border-t border-gray-700",children:g.jsx(Be,{onClick:s,variant:"primary",className:"w-full",leftIcon:g.jsx(Mf,{}),children:"Create New TrackGuide"})})]})})},$2=({isOpen:t,onClose:e,currentGuidebook:n,userInputs:a,isCollapsed:s=!1,onToggle:l})=>{const[u,d]=ie.useState([]),[h,f]=ie.useState(""),[p,b]=ie.useState(!1),T=ie.useRef(null),S=ie.useRef(null),M=ie.useRef(null);ie.useEffect(()=>{t&&u.length===0&&d([{id:"1",role:"assistant",content:`Hi! I'm your AI music production assistant. I can help you:

• Refine your TrackGuide with specific questions
• Suggest improvements to your current project
• Answer production techniques questions
• Help adjust your genre, vibe, or arrangement ideas
• Provide detailed explanations about any aspect of your track

What would you like to work on today?`,timestamp:new Date}])},[t,u.length]);const D=()=>{M.current&&(M.current.scrollTop=M.current.scrollHeight)};ie.useEffect(()=>{D()},[u]),ie.useEffect(()=>{t&&S.current&&setTimeout(()=>{var P;return(P=S.current)==null?void 0:P.focus()},100)},[t]);const k=()=>{d([{id:"1",role:"assistant",content:`Hi! I'm your AI music production assistant. I can help you:

• Refine your TrackGuide with specific questions
• Suggest improvements to your current project
• Answer production techniques questions
• Help adjust your genre, vibe, or arrangement ideas
• Provide detailed explanations about any aspect of your track

What would you like to work on today?`,timestamp:new Date}])},_=async()=>{if(!h.trim()||p)return;const P={id:Date.now().toString(),role:"user",content:h.trim(),timestamp:new Date};d(G=>[...G,P]),f(""),b(!0);try{const G={currentGuidebook:(n==null?void 0:n.content)||"",userInputs:a||{},conversationHistory:u.slice(-6)},K=await m2(P.content,G),z={id:(Date.now()+1).toString(),role:"assistant",content:K,timestamp:new Date};d(Z=>[...Z,z])}catch(G){console.error("AI Assistant Error:",G);const K={id:(Date.now()+1).toString(),role:"assistant",content:"Sorry, I encountered an error. Please try again or rephrase your question.",timestamp:new Date};d(z=>[...z,K])}finally{b(!1)}},O=P=>{P.key==="Enter"&&!P.shiftKey&&(P.preventDefault(),_())};return g.jsx("div",{className:"fixed bottom-4 right-4 z-[9999]",children:s?g.jsx("div",{onClick:l,className:"w-14 h-14 bg-blue-500 hover:bg-blue-600 rounded-full shadow-2xl cursor-pointer flex items-center justify-center hover:scale-105 transition-transform duration-200 border-2 border-white/20",children:g.jsx("img",{src:"/production-coach-icon.svg",alt:"Production Coach",className:"w-8 h-8"})}):g.jsx("div",{className:"w-96 h-[600px] max-h-[80vh] max-w-[calc(100vw-2rem)] md:max-w-96",children:g.jsxs("div",{className:"h-full bg-gray-800 shadow-2xl border border-gray-700 rounded-lg flex flex-col overflow-hidden",children:[g.jsxs("div",{className:"p-3 border-b border-gray-700 flex justify-between items-center bg-gradient-to-r from-purple-600 to-blue-600 flex-shrink-0",children:[g.jsxs("div",{className:"flex items-center min-w-0 flex-1",children:[g.jsx(b2,{className:"w-5 h-5 text-white mr-2 flex-shrink-0"}),g.jsx("h2",{className:"text-lg font-bold text-white truncate",children:"Production Coach"})]}),g.jsxs("div",{className:"flex gap-1 flex-shrink-0 ml-2",children:[g.jsx(Be,{onClick:k,variant:"outline",size:"sm",className:"text-white border-white/30 hover:bg-white/10 hidden sm:inline-flex",children:"Clear"}),g.jsx(Be,{onClick:l,variant:"outline",size:"sm",className:"text-white border-white/30 hover:bg-white/10 flex-shrink-0",children:g.jsx("span",{className:"text-sm",children:"−"})})]})]}),g.jsxs("div",{ref:M,className:"flex-1 overflow-y-auto p-3 space-y-3 bg-gray-900/50",style:{scrollBehavior:"smooth",overflowAnchor:"auto"},children:[u.map(P=>g.jsx("div",{className:`flex ${P.role==="user"?"justify-end":"justify-start"}`,children:g.jsxs("div",{className:`max-w-[85%] p-3 rounded-lg text-sm shadow-lg ${P.role==="user"?"bg-purple-600 text-white rounded-br-sm":"bg-gray-700 text-gray-100 rounded-bl-sm"}`,children:[g.jsx("div",{className:"whitespace-pre-wrap break-words leading-relaxed",children:P.content}),g.jsx("div",{className:"text-xs opacity-70 mt-2",children:P.timestamp.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]})},P.id)),p&&g.jsx("div",{className:"flex justify-start",children:g.jsx("div",{className:"bg-gray-700 text-gray-100 p-3 rounded-lg text-sm shadow-lg rounded-bl-sm",children:g.jsx(Xi,{text:"AI is thinking..."})})}),g.jsx("div",{ref:T})]}),g.jsxs("div",{className:"p-3 border-t border-gray-700 bg-gray-800 flex-shrink-0",children:[g.jsxs("div",{className:"flex gap-2 mb-2",children:[g.jsx(Xt,{ref:S,type:"text",placeholder:"Ask about production techniques...",value:h,onChange:P=>f(P.target.value),onKeyPress:O,className:"flex-1 text-sm bg-gray-700 border-gray-600 text-white placeholder-gray-400",disabled:p}),g.jsx(Be,{onClick:_,disabled:!h.trim()||p,variant:"primary",size:"sm",className:"px-4",children:p?"...":"Send"})]}),g.jsx("div",{className:"text-xs text-gray-400 text-center",children:"Press Enter to send • Clear resets conversation"})]})]})})})},X2=({className:t="w-6 h-6"})=>g.jsx("div",{className:`${t} bg-orange-500 transform rotate-45 flex items-center justify-center`,children:g.jsx("div",{className:"w-1/2 h-1/2 bg-white transform -rotate-45"})}),J2=({onGetStarted:t})=>g.jsxs("div",{className:"min-h-screen bg-[#2B2B2B] relative overflow-hidden",children:[g.jsx("div",{className:"absolute inset-0 opacity-40",children:g.jsx("div",{className:"absolute inset-0",style:{backgroundImage:"radial-gradient(circle at 2px 2px, #FF5722 1px, transparent 0)",backgroundSize:"30px 30px"}})}),g.jsx("div",{className:"absolute top-20 right-10 w-64 h-64 opacity-20",children:g.jsxs("div",{className:"relative w-full h-full",children:[g.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 border-2 border-orange-500 transform rotate-12"}),g.jsx("div",{className:"absolute top-8 right-8 w-32 h-32 bg-orange-500 transform rotate-12"}),g.jsx("div",{className:"absolute top-16 right-16 w-16 h-16 bg-white rounded-full"})]})}),g.jsx("div",{className:"absolute bottom-20 left-10 w-48 h-48 opacity-15",children:g.jsxs("div",{className:"relative w-full h-full",children:[g.jsx("div",{className:"absolute bottom-0 left-0 w-24 h-24 border-2 border-orange-500 transform -rotate-45"}),g.jsx("div",{className:"absolute bottom-4 left-4 w-24 h-24 bg-orange-500 transform -rotate-45"})]})}),g.jsx("nav",{className:"relative z-10 px-6 py-6",children:g.jsxs("div",{className:"max-w-7xl mx-auto flex items-center justify-between",children:[g.jsxs("div",{className:"flex items-center space-x-3",children:[g.jsx("div",{className:"w-8 h-8 bg-orange-500 transform rotate-45 flex items-center justify-center",children:g.jsx("div",{className:"w-4 h-4 bg-white transform -rotate-45"})}),g.jsxs("div",{children:[g.jsx("div",{className:"text-xl font-bold text-white",children:"TrackGuide AI"}),g.jsx("div",{className:"text-xs text-gray-400",children:"Your Smartest Studio Assistant"})]})]}),g.jsx("button",{onClick:t,className:"bg-orange-500 hover:bg-orange-600 text-white px-6 py-3 rounded-lg font-semibold transition-all transform hover:scale-105 shadow-lg",children:"Get Started"})]})}),g.jsx("section",{className:"relative px-6 py-16",children:g.jsxs("div",{className:"max-w-7xl mx-auto",children:[g.jsxs("div",{className:"grid lg:grid-cols-2 gap-12 items-center",children:[g.jsxs("div",{className:"space-y-8",children:[g.jsxs("h1",{className:"text-6xl md:text-7xl lg:text-8xl font-bold text-white leading-tight",children:[g.jsx("span",{className:"text-orange-500",children:"AI Studio Assistant:"}),g.jsx("span",{className:"block text-white mt-2 text-4xl md:text-5xl lg:text-6xl",children:"A Complement to Creativity,"}),g.jsx("span",{className:"block text-white mt-2 text-4xl md:text-5xl lg:text-6xl",children:"Not a Substitute."})]}),g.jsxs("p",{className:"text-xl text-gray-300 max-w-2xl leading-relaxed",children:["Empowering modern producers with ",g.jsx("span",{className:"text-orange-500 font-semibold",children:"structure"}),", ",g.jsx("span",{className:"text-orange-500 font-semibold",children:"speed"}),", and ",g.jsx("span",{className:"text-orange-500 font-semibold",children:"support"})," in their creative workflow."]})]}),g.jsxs("div",{className:"relative h-96 lg:h-[500px]",children:[g.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:g.jsx("div",{className:"w-80 h-80 bg-gradient-to-br from-gray-300 to-gray-500 rounded-full opacity-80"})}),g.jsxs("div",{className:"absolute top-0 right-0 w-32 h-32",children:[g.jsx("div",{className:"w-full h-full border-2 border-orange-500 transform rotate-12"}),g.jsx("div",{className:"absolute top-2 right-2 w-28 h-28 bg-orange-500 transform rotate-12"})]}),g.jsxs("div",{className:"absolute bottom-0 right-8 w-24 h-24",children:[g.jsx("div",{className:"w-full h-full border-2 border-orange-500"}),g.jsx("div",{className:"absolute top-2 left-2 w-20 h-20 bg-orange-500"})]}),g.jsx("div",{className:"absolute top-1/2 right-0 w-16 h-16 bg-orange-500 rounded-full transform translate-x-8"})]})]}),g.jsx("div",{className:"flex flex-col sm:flex-row gap-6 mt-12 lg:justify-start",children:g.jsxs("button",{onClick:t,className:"bg-orange-500 hover:bg-orange-600 text-white px-12 py-5 rounded-xl font-bold text-xl transition-all transform hover:scale-105 flex items-center justify-center space-x-4 shadow-2xl border-2 border-orange-400",children:[g.jsx(X2,{className:"h-8 w-8"}),g.jsx("span",{children:"Start Creating Now"})]})})]})}),g.jsx("section",{className:"relative px-6 py-20",children:g.jsxs("div",{className:"max-w-7xl mx-auto",children:[g.jsxs("div",{className:"text-center mb-16",children:[g.jsx("h2",{className:"text-4xl md:text-5xl font-bold text-white mb-6",children:"How TrackGuide Works"}),g.jsx("p",{className:"text-xl text-gray-300 max-w-3xl mx-auto",children:"From concept to creation in three simple steps"})]}),g.jsxs("div",{className:"grid md:grid-cols-3 gap-8",children:[g.jsxs("div",{className:"text-center space-y-6",children:[g.jsx("div",{className:"w-20 h-20 bg-orange-500 rounded-full flex items-center justify-center mx-auto",children:g.jsx("span",{className:"text-2xl font-bold text-white",children:"1"})}),g.jsx("h3",{className:"text-2xl font-bold text-white",children:"Describe Your Vision"}),g.jsx("p",{className:"text-gray-300",children:"Tell us your genre, vibe, and creative goals. Our AI understands your artistic intent."})]}),g.jsxs("div",{className:"text-center space-y-6",children:[g.jsx("div",{className:"w-20 h-20 bg-orange-500 rounded-full flex items-center justify-center mx-auto",children:g.jsx("span",{className:"text-2xl font-bold text-white",children:"2"})}),g.jsx("h3",{className:"text-2xl font-bold text-white",children:"Get Your Blueprint"}),g.jsx("p",{className:"text-gray-300",children:"Receive a detailed production guide with arrangement tips, sound design, and MIDI foundations."})]}),g.jsxs("div",{className:"text-center space-y-6",children:[g.jsx("div",{className:"w-20 h-20 bg-orange-500 rounded-full flex items-center justify-center mx-auto",children:g.jsx("span",{className:"text-2xl font-bold text-white",children:"3"})}),g.jsx("h3",{className:"text-2xl font-bold text-white",children:"Create & Refine"}),g.jsx("p",{className:"text-gray-300",children:"Use our tools to generate MIDI, get mix feedback, and bring your vision to life."})]})]})]})}),g.jsx("section",{className:"relative px-6 py-20 bg-black/10",children:g.jsxs("div",{className:"max-w-7xl mx-auto",children:[g.jsxs("div",{className:"text-center mb-16",children:[g.jsx("h2",{className:"text-4xl md:text-5xl font-bold text-white mb-6",children:"Complete Production Toolkit"}),g.jsx("p",{className:"text-xl text-gray-300 max-w-3xl mx-auto",children:"Every tool you need to take your music from idea to finished track"})]}),g.jsxs("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-8",children:[g.jsxs("div",{className:"bg-gray-800/50 rounded-xl p-6 border border-orange-500/20 hover:border-orange-500/40 transition-all",children:[g.jsx("div",{className:"w-12 h-12 bg-orange-500 rounded-lg flex items-center justify-center mb-4",children:g.jsx("span",{className:"text-white font-bold",children:"AI"})}),g.jsx("h3",{className:"text-xl font-bold text-white mb-3",children:"TrackGuide AI"}),g.jsx("p",{className:"text-gray-300",children:"Generate comprehensive, custom how-to guides based on your genre, vibe, and reference artists."})]}),g.jsxs("div",{className:"bg-gray-800/50 rounded-xl p-6 border border-orange-500/20 hover:border-orange-500/40 transition-all",children:[g.jsx("div",{className:"w-12 h-12 bg-orange-500 rounded-lg flex items-center justify-center mb-4",children:g.jsx("span",{className:"text-white font-bold",children:"♪"})}),g.jsx("h3",{className:"text-xl font-bold text-white mb-3",children:"Integrated MIDI Generator"}),g.jsx("p",{className:"text-gray-300",children:"Create intelligent chord progressions, basslines, melodies, and drum patterns that match your track's context."})]}),g.jsxs("div",{className:"bg-gray-800/50 rounded-xl p-6 border border-orange-500/20 hover:border-orange-500/40 transition-all",children:[g.jsx("div",{className:"w-12 h-12 bg-orange-500 rounded-lg flex items-center justify-center mb-4",children:g.jsx("span",{className:"text-white font-bold",children:"🎚"})}),g.jsx("h3",{className:"text-xl font-bold text-white mb-3",children:"Mix Feedback"}),g.jsx("p",{className:"text-gray-300",children:"Upload tracks for AI-powered analysis and detailed mixing recommendations."})]}),g.jsxs("div",{className:"bg-gray-800/50 rounded-xl p-6 border border-orange-500/20 hover:border-orange-500/40 transition-all",children:[g.jsx("div",{className:"w-12 h-12 bg-orange-500 rounded-lg flex items-center justify-center mb-4",children:g.jsx("span",{className:"text-white font-bold",children:"⚖"})}),g.jsx("h3",{className:"text-xl font-bold text-white mb-3",children:"Mix Compare"}),g.jsx("p",{className:"text-gray-300",children:"Upload multiple tracks for AI-powered analysis that compares different versions side-by-side."})]}),g.jsxs("div",{className:"bg-gray-800/50 rounded-xl p-6 border border-orange-500/20 hover:border-orange-500/40 transition-all",children:[g.jsx("div",{className:"w-12 h-12 bg-orange-500 rounded-lg flex items-center justify-center mb-4",children:g.jsx("span",{className:"text-white font-bold",children:"💬"})}),g.jsx("h3",{className:"text-xl font-bold text-white mb-3",children:"Live Production Coach"}),g.jsx("p",{className:"text-gray-300",children:"Interactive chatbot providing real-time production advice and guidance."})]}),g.jsxs("div",{className:"bg-gray-800/50 rounded-xl p-6 border border-orange-500/20 hover:border-orange-500/40 transition-all",children:[g.jsx("div",{className:"w-12 h-12 bg-orange-500 rounded-lg flex items-center justify-center mb-4",children:g.jsx("span",{className:"text-white font-bold",children:"📊"})}),g.jsx("h3",{className:"text-xl font-bold text-white mb-3",children:"EQ Cheat Sheet"}),g.jsx("p",{className:"text-gray-300",children:"Quick reference guide for EQ frequencies and their effects on different instruments."})]})]})]})}),g.jsx("section",{className:"relative px-6 py-20 bg-black/20",children:g.jsxs("div",{className:"max-w-7xl mx-auto text-center",children:[g.jsx("h2",{className:"text-4xl md:text-5xl font-bold text-white mb-6",children:"Ready to Transform Your Music Production?"}),g.jsx("p",{className:"text-xl text-gray-300 mb-12 max-w-2xl mx-auto",children:"From initial inspiration to final mix, TrackGuide provides intelligent assistance at every stage of your music production journey."}),g.jsxs("div",{className:"bg-gray-800/50 rounded-2xl p-8 max-w-md mx-auto border border-orange-500/20",children:[g.jsx("h3",{className:"text-2xl font-bold text-white mb-4",children:"Free to Start"}),g.jsx("p",{className:"text-gray-300 mb-6",children:"Get started with TrackGuide AI at no cost. Upgrade when you're ready for more."}),g.jsx("button",{onClick:t,className:"w-full bg-orange-500 hover:bg-orange-600 text-white px-8 py-4 rounded-lg font-bold text-lg transition-all transform hover:scale-105 shadow-xl",children:"Start Creating Free"}),g.jsx("p",{className:"text-gray-500 text-sm mt-4",children:"No credit card required"})]})]})}),g.jsx("section",{className:"px-6 py-16 bg-black/20",children:g.jsxs("div",{className:"max-w-7xl mx-auto text-center",children:[g.jsx("div",{className:"w-32 h-1 bg-orange-500 mx-auto mb-8"}),g.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-white mb-4",children:"The Investment Opportunity"}),g.jsx("p",{className:"text-xl text-gray-300",children:"Transforming the $43B music production industry"})]})}),g.jsx("section",{className:"relative px-6 py-20 bg-black/20",children:g.jsx("div",{className:"max-w-7xl mx-auto",children:g.jsxs("div",{className:"grid lg:grid-cols-2 gap-12 items-center",children:[g.jsxs("div",{className:"space-y-8",children:[g.jsxs("h2",{className:"text-4xl md:text-5xl font-bold text-white leading-tight",children:["Too Many Tools:",g.jsx("span",{className:"block text-orange-500",children:"Not Enough Direction"})]}),g.jsxs("p",{className:"text-xl text-gray-300 leading-relaxed",children:["As the modern production landscape fragments into countless tools and tutorials, producers struggle to maintain ",g.jsx("strong",{children:"focus"})," and build ",g.jsx("strong",{children:"real skills"}),"."]}),g.jsxs("div",{className:"grid gap-6",children:[g.jsx("div",{className:"border-l-4 border-orange-500 pl-6",children:g.jsxs("p",{className:"text-gray-300",children:[g.jsx("strong",{children:"Without a clear structure"}),", many producers struggle to turn inspiration into finished tracks."]})}),g.jsx("div",{className:"border-l-4 border-orange-500 pl-6",children:g.jsxs("p",{className:"text-gray-300",children:[g.jsx("strong",{children:"  Clickbait tutorials lack context, feedback, and depth"}),"—offering tips without teaching transferable skills."]})}),g.jsx("div",{className:"border-l-4 border-orange-500 pl-6",children:g.jsxs("p",{className:"text-gray-300",children:[g.jsx("strong",{children:"  A constant stream of flashy tools"})," distracts from understanding core production fundamentals."]})})]})]}),g.jsxs("div",{className:"relative h-96",children:[g.jsxs("div",{className:"absolute top-0 right-0 w-48 h-48",children:[g.jsx("div",{className:"w-full h-full border-2 border-orange-500 transform rotate-45"}),g.jsx("div",{className:"absolute top-4 right-4 w-40 h-40 bg-orange-500 transform rotate-45"})]}),g.jsxs("div",{className:"absolute bottom-0 left-0 w-32 h-32",children:[g.jsx("div",{className:"w-full h-full border-2 border-orange-500"}),g.jsx("div",{className:"absolute top-2 left-2 w-28 h-28 bg-orange-500"})]})]})]})})}),g.jsxs("section",{className:"px-6 py-20 bg-black",children:[g.jsx("div",{className:"block lg:hidden space-y-12",children:g.jsxs("div",{className:"space-y-8",children:[g.jsxs("h2",{className:"text-4xl md:text-5xl font-bold text-white leading-tight",children:["Navigating the",g.jsx("span",{className:"block text-orange-500",children:"AI Challenge"})]}),g.jsx("p",{className:"text-xl text-gray-300 leading-relaxed",children:"Empowering the artist vs. replacing the craft"}),g.jsxs("div",{className:"grid gap-6",children:[g.jsxs("div",{className:"border-l-4 border-orange-500 pl-6",children:[g.jsx("h3",{className:"text-lg font-bold text-white mb-2",children:"One-click generation’s lure"}),g.jsx("p",{className:"text-gray-400",children:"threatens to bypass traditional songwriting and production craftsmanship."})]}),g.jsxs("div",{className:"border-l-4 border-orange-500 pl-6",children:[g.jsx("h3",{className:"text-lg font-bold text-white mb-2",children:"Training on old hits risks"}),g.jsx("p",{className:"text-gray-400",children:"reinforcing trends rather than innovating new sonic directions."})]}),g.jsxs("div",{className:"border-l-4 border-orange-500 pl-6",children:[g.jsx("h3",{className:"text-lg font-bold text-white mb-2",children:"Ethical & legal questions"}),g.jsx("p",{className:"text-gray-400",children:"around authorship, royalties, and intellectual property multiply."})]})]})]})}),g.jsxs("div",{className:"hidden lg:grid max-w-7xl mx-auto grid-cols-2 gap-12 items-center pt-16",children:[g.jsx("div",{className:"relative h-80",children:g.jsxs("div",{className:"absolute top-0 left-0 w-40 h-40",children:[g.jsx("div",{className:"w-full h-full border-2 border-orange-500 transform rotate-45"}),g.jsx("div",{className:"absolute top-4 left-4 w-32 h-32 bg-orange-500 transform rotate-45"})]})}),g.jsxs("div",{className:"space-y-8",children:[g.jsxs("h2",{className:"text-5xl font-bold text-white leading-tight",children:["Navigating the ",g.jsx("span",{className:"text-orange-500 block",children:"AI Challenge"})]}),g.jsx("p",{className:"text-xl text-gray-300 leading-relaxed",children:"Empowering the artist vs. replacing the craft"}),g.jsxs("div",{className:"grid gap-6",children:[g.jsxs("div",{className:"border-l-4 border-orange-500 pl-6",children:[g.jsx("h3",{className:"text-lg font-bold text-white mb-2",children:"One-click generation’s lure"}),g.jsx("p",{className:"text-gray-400",children:"threatens to bypass traditional songwriting and production craftsmanship."})]}),g.jsxs("div",{className:"border-l-4 border-orange-500 pl-6",children:[g.jsx("h3",{className:"text-lg font-bold text-white mb-2",children:"Training on old hits risks"}),g.jsx("p",{className:"text-gray-400",children:"reinforcing trends rather than innovating new sonic directions."})]}),g.jsxs("div",{className:"border-l-4 border-orange-500 pl-6",children:[g.jsx("h3",{className:"text-lg font-bold text-white mb-2",children:"Ethical & legal questions"}),g.jsx("p",{className:"text-gray-400",children:"around authorship, royalties, and intellectual property multiply."})]})]})]})]})]}),g.jsxs("section",{className:"relative px-6 py-20 bg-black/20",children:[g.jsxs("div",{className:"block lg:hidden space-y-12",children:[g.jsxs("div",{className:"space-y-8 text-center",children:[g.jsxs("h2",{className:"text-4xl md:text-5xl font-bold text-white leading-tight",children:["Scalable ",g.jsx("span",{className:"block text-orange-500",children:"Business Model"})]}),g.jsx("p",{className:"text-xl text-gray-300 leading-relaxed max-w-2xl mx-auto",children:"Serving creators of all kinds — from indie artists to institutions — with high-margin, modular tools."})]}),g.jsxs("div",{className:"grid gap-8",children:[g.jsxs("div",{className:"bg-gray-800/30 rounded-lg p-6 border border-orange-500/10",children:[g.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"Producers & Indie Artists"}),g.jsx("p",{className:"text-gray-300",children:"Flexible pricing tiers to empower individual workflows and creativity."})]}),g.jsxs("div",{className:"bg-gray-800/30 rounded-lg p-6 border border-orange-500/10",children:[g.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"Educational Institutions"}),g.jsx("p",{className:"text-gray-300",children:"Licensing packages built for music schools, colleges, and training programs."})]}),g.jsxs("div",{className:"bg-gray-800/30 rounded-lg p-6 border border-orange-500/10",children:[g.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"Enterprise Clients"}),g.jsx("p",{className:"text-gray-300",children:"Custom solutions for labels, production teams, and enterprise use cases."})]})]}),g.jsxs("div",{className:"grid gap-8",children:[g.jsxs("div",{className:"bg-gray-800/30 rounded-lg p-6 border border-orange-500/20",children:[g.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"SaaS Subscriptions"}),g.jsx("p",{className:"text-gray-300 mb-2",children:"Premium features, AI workflows, and unlimited generations."}),g.jsx("div",{className:"text-orange-500 font-semibold text-base",children:"85% Gross Margin"})]}),g.jsxs("div",{className:"bg-gray-800/30 rounded-lg p-6 border border-orange-500/20",children:[g.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"Community Marketplace"}),g.jsx("p",{className:"text-gray-300 mb-2",children:"Commissions from samples, templates, and sound packs by creators."}),g.jsx("div",{className:"text-orange-500 font-semibold text-base",children:"30% Commission"})]}),g.jsxs("div",{className:"bg-gray-800/30 rounded-lg p-6 border border-orange-500/20",children:[g.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"Enterprise Licensing"}),g.jsx("p",{className:"text-gray-300 mb-2",children:"Annual contracts for studios, labels, and academic partners."}),g.jsx("div",{className:"text-orange-500 font-semibold text-base",children:"$50K+ ARR"})]})]})]}),g.jsxs("div",{className:"hidden lg:grid max-w-7xl mx-auto gap-24",children:[g.jsxs("div",{className:"flex justify-between items-start",children:[g.jsxs("div",{children:[g.jsxs("h2",{className:"text-5xl font-bold text-white mb-4",children:["Scalable ",g.jsx("span",{className:"text-orange-500",children:"Business Model"})]}),g.jsx("p",{className:"text-xl text-gray-300 max-w-2xl",children:"Serving creators of all kinds — from indie artists to institutions — with high-margin, modular tools."})]}),g.jsxs("div",{className:"relative w-24 h-24",children:[g.jsx("div",{className:"absolute inset-0 border-2 border-orange-500 transform rotate-45"}),g.jsx("div",{className:"absolute top-2 left-2 w-20 h-20",children:g.jsx("div",{className:"w-full h-full bg-orange-500 rounded-full"})})]})]}),g.jsxs("div",{className:"grid grid-cols-3 gap-8",children:[g.jsxs("div",{className:"bg-gray-800/30 rounded-lg p-8 border border-orange-500/10 space-y-2",children:[g.jsx("h3",{className:"text-2xl font-bold text-white",children:"Producers & Indie Artists"}),g.jsx("p",{className:"text-gray-300",children:"Flexible pricing tiers to empower individual workflows and creativity."})]}),g.jsxs("div",{className:"bg-gray-800/30 rounded-lg p-8 border border-orange-500/10 space-y-2",children:[g.jsx("h3",{className:"text-2xl font-bold text-white",children:"Educational Institutions"}),g.jsx("p",{className:"text-gray-300",children:"Licensing packages built for music schools, colleges, and training programs."})]}),g.jsxs("div",{className:"bg-gray-800/30 rounded-lg p-8 border border-orange-500/10 space-y-2",children:[g.jsx("h3",{className:"text-2xl font-bold text-white",children:"Enterprise Clients"}),g.jsx("p",{className:"text-gray-300",children:"Custom solutions for labels, production teams, and enterprise use cases."})]})]}),g.jsxs("div",{className:"grid grid-cols-3 gap-8",children:[g.jsxs("div",{className:"bg-gray-800/30 rounded-lg p-8 border border-orange-500/20 space-y-4",children:[g.jsx("h3",{className:"text-2xl font-bold text-white",children:"SaaS Subscriptions"}),g.jsx("p",{className:"text-gray-300",children:"Premium features, AI workflows, and unlimited generations."}),g.jsx("div",{className:"text-orange-500 font-semibold text-lg",children:"85% Gross Margin"})]}),g.jsxs("div",{className:"bg-gray-800/30 rounded-lg p-8 border border-orange-500/20 space-y-4",children:[g.jsx("h3",{className:"text-2xl font-bold text-white",children:"Community Marketplace"}),g.jsx("p",{className:"text-gray-300",children:"Commissions from samples, templates, and sound packs by creators."}),g.jsx("div",{className:"text-orange-500 font-semibold text-lg",children:"30% Commission"})]}),g.jsxs("div",{className:"bg-gray-800/30 rounded-lg p-8 border border-orange-500/20 space-y-4",children:[g.jsx("h3",{className:"text-2xl font-bold text-white",children:"Enterprise Licensing"}),g.jsx("p",{className:"text-gray-300",children:"Annual contracts for studios, labels, and academic partners."}),g.jsx("div",{className:"text-orange-500 font-semibold text-lg",children:"$50K+ ARR"})]})]})]})]}),g.jsx("section",{className:"px-6 py-20 bg-black",children:g.jsxs("div",{className:"max-w-5xl mx-auto",children:[g.jsxs("div",{className:"text-center mb-12",children:[g.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-white mb-6",children:"Investment Levels"}),g.jsx("p",{className:"text-lg text-gray-300 max-w-2xl mx-auto",children:"We're raising capital to finalize our MVP, build out our go-to-market strategy, and scale our team."})]}),g.jsxs("div",{className:"grid md:grid-cols-4 gap-6",children:[g.jsxs("div",{className:"bg-black/80 rounded-lg p-6 border border-orange-500/30 shadow-md",children:[g.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"Seed Loop"}),g.jsx("p",{className:"text-gray-300 text-sm mb-2",children:"$10K–$25K"}),g.jsx("p",{className:"text-gray-400 text-sm mb-2",children:"Product polish, UI/UX refinement, performance tuning."}),g.jsx("p",{className:"text-orange-400 text-sm",children:"Return: SAFE note @ $5M cap + quarterly updates"})]}),g.jsxs("div",{className:"bg-black/80 rounded-lg p-6 border border-orange-500/30 shadow-md",children:[g.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"Creator Tier"}),g.jsx("p",{className:"text-gray-300 text-sm mb-2",children:"$25K–$50K"}),g.jsx("p",{className:"text-gray-400 text-sm mb-2",children:"Monetization rollout, user acquisition, referral systems."}),g.jsx("p",{className:"text-orange-400 text-sm",children:"Return: SAFE + 1% revenue share pilot + feedback seat"})]}),g.jsxs("div",{className:"bg-black/80 rounded-lg p-6 border border-orange-500/30 shadow-md",children:[g.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"Full Stack"}),g.jsx("p",{className:"text-gray-300 text-sm mb-2",children:"$50K–$75K"}),g.jsx("p",{className:"text-gray-400 text-sm mb-2",children:"Strategic hires (PMM/dev), professional business consulting."}),g.jsx("p",{className:"text-orange-400 text-sm",children:"Return: SAFE + advisory board access + product roadmap input"})]}),g.jsxs("div",{className:"bg-black/80 rounded-lg p-6 border border-orange-500/30 shadow-md",children:[g.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"Vision Tier"}),g.jsx("p",{className:"text-gray-300 text-sm mb-2",children:"$150K+"}),g.jsx("p",{className:"text-gray-400 text-sm mb-2",children:"Full-scale GTM campaign, AI model tuning, global launch."}),g.jsx("p",{className:"text-orange-400 text-sm",children:"Return: Discounted SAFE cap, 2% revenue share pilot, strategic board seat"})]})]})]})}),g.jsx("section",{className:"px-6 py-20 bg-black/30",children:g.jsxs("div",{className:"max-w-4xl mx-auto text-center",children:[g.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-white mb-6",children:"Interested in Investing?"}),g.jsx("p",{className:"text-xl text-gray-300 mb-8 max-w-2xl mx-auto",children:"TrackGuide is revolutionizing music production with AI-powered assistance. Join us in empowering the next generation of creators."}),g.jsx("a",{href:"mailto:dustinspaceproductions@gmail.com?subject=Investment Inquiry - TrackGuide AI",className:"bg-orange-500 hover:bg-orange-600 text-white px-8 py-3 rounded-lg font-bold text-lg transition-all transform hover:scale-105 inline-flex items-center space-x-2 shadow-xl",children:g.jsx("span",{children:"Contact for Investment Opportunities"})}),g.jsx("p",{className:"text-gray-500 mt-4",children:"dustinspaceproductions@gmail.com"})]})}),g.jsx("footer",{className:"px-6 py-12 border-t border-orange-500/20 bg-black/20",children:g.jsx("div",{className:"max-w-7xl mx-auto",children:g.jsxs("div",{className:"flex flex-col md:flex-row items-center justify-between",children:[g.jsxs("div",{className:"flex items-center space-x-3 mb-4 md:mb-0",children:[g.jsx("div",{className:"w-6 h-6 bg-orange-500 transform rotate-45 flex items-center justify-center",children:g.jsx("div",{className:"w-3 h-3 bg-white transform -rotate-45"})}),g.jsxs("div",{children:[g.jsx("div",{className:"text-lg font-bold text-white",children:"TrackGuide AI"}),g.jsx("div",{className:"text-xs text-gray-400",children:"Your Smartest Studio Assistant"})]})]}),g.jsx("div",{className:"text-gray-400 text-center md:text-right",children:g.jsx("p",{children:"© 2025 TrackGuide. Empowering music creators worldwide."})})]})})})]});function Q2(t,e){const n={};return(t[t.length-1]===""?[...t,""]:t).join((n.padRight?" ":"")+","+(n.padLeft===!1?"":" ")).trim()}const Z2=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,W2=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,eD={};function rx(t,e){return(eD.jsx?W2:Z2).test(t)}const tD=/[ \t\n\f\r]/g;function nD(t){return typeof t=="object"?t.type==="text"?ax(t.value):!1:ax(t)}function ax(t){return t.replace(tD,"")===""}class mo{constructor(e,n,a){this.normal=n,this.property=e,a&&(this.space=a)}}mo.prototype.normal={};mo.prototype.property={};mo.prototype.space=void 0;function Nb(t,e){const n={},a={};for(const s of t)Object.assign(n,s.property),Object.assign(a,s.normal);return new mo(n,a,e)}function Rf(t){return t.toLowerCase()}class sn{constructor(e,n){this.attribute=n,this.property=e}}sn.prototype.attribute="";sn.prototype.booleanish=!1;sn.prototype.boolean=!1;sn.prototype.commaOrSpaceSeparated=!1;sn.prototype.commaSeparated=!1;sn.prototype.defined=!1;sn.prototype.mustUseProperty=!1;sn.prototype.number=!1;sn.prototype.overloadedBoolean=!1;sn.prototype.property="";sn.prototype.spaceSeparated=!1;sn.prototype.space=void 0;let iD=0;const Ie=_r(),Et=_r(),kf=_r(),le=_r(),rt=_r(),Ea=_r(),pn=_r();function _r(){return 2**++iD}const _f=Object.freeze(Object.defineProperty({__proto__:null,boolean:Ie,booleanish:Et,commaOrSpaceSeparated:pn,commaSeparated:Ea,number:le,overloadedBoolean:kf,spaceSeparated:rt},Symbol.toStringTag,{value:"Module"})),Gd=Object.keys(_f);class ch extends sn{constructor(e,n,a,s){let l=-1;if(super(e,n),sx(this,"space",s),typeof a=="number")for(;++l<Gd.length;){const u=Gd[l];sx(this,Gd[l],(a&_f[u])===_f[u])}}}ch.prototype.defined=!0;function sx(t,e,n){n&&(t[e]=n)}function ka(t){const e={},n={};for(const[a,s]of Object.entries(t.properties)){const l=new ch(a,t.transform(t.attributes||{},a),s,t.space);t.mustUseProperty&&t.mustUseProperty.includes(a)&&(l.mustUseProperty=!0),e[a]=l,n[Rf(a)]=a,n[Rf(l.attribute)]=a}return new mo(e,n,t.space)}const Db=ka({properties:{ariaActiveDescendant:null,ariaAtomic:Et,ariaAutoComplete:null,ariaBusy:Et,ariaChecked:Et,ariaColCount:le,ariaColIndex:le,ariaColSpan:le,ariaControls:rt,ariaCurrent:null,ariaDescribedBy:rt,ariaDetails:null,ariaDisabled:Et,ariaDropEffect:rt,ariaErrorMessage:null,ariaExpanded:Et,ariaFlowTo:rt,ariaGrabbed:Et,ariaHasPopup:null,ariaHidden:Et,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:rt,ariaLevel:le,ariaLive:null,ariaModal:Et,ariaMultiLine:Et,ariaMultiSelectable:Et,ariaOrientation:null,ariaOwns:rt,ariaPlaceholder:null,ariaPosInSet:le,ariaPressed:Et,ariaReadOnly:Et,ariaRelevant:null,ariaRequired:Et,ariaRoleDescription:rt,ariaRowCount:le,ariaRowIndex:le,ariaRowSpan:le,ariaSelected:Et,ariaSetSize:le,ariaSort:null,ariaValueMax:le,ariaValueMin:le,ariaValueNow:le,ariaValueText:null,role:null},transform(t,e){return e==="role"?e:"aria-"+e.slice(4).toLowerCase()}});function Rb(t,e){return e in t?t[e]:e}function kb(t,e){return Rb(t,e.toLowerCase())}const rD=ka({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:Ea,acceptCharset:rt,accessKey:rt,action:null,allow:null,allowFullScreen:Ie,allowPaymentRequest:Ie,allowUserMedia:Ie,alt:null,as:null,async:Ie,autoCapitalize:null,autoComplete:rt,autoFocus:Ie,autoPlay:Ie,blocking:rt,capture:null,charSet:null,checked:Ie,cite:null,className:rt,cols:le,colSpan:null,content:null,contentEditable:Et,controls:Ie,controlsList:rt,coords:le|Ea,crossOrigin:null,data:null,dateTime:null,decoding:null,default:Ie,defer:Ie,dir:null,dirName:null,disabled:Ie,download:kf,draggable:Et,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:Ie,formTarget:null,headers:rt,height:le,hidden:kf,high:le,href:null,hrefLang:null,htmlFor:rt,httpEquiv:rt,id:null,imageSizes:null,imageSrcSet:null,inert:Ie,inputMode:null,integrity:null,is:null,isMap:Ie,itemId:null,itemProp:rt,itemRef:rt,itemScope:Ie,itemType:rt,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:Ie,low:le,manifest:null,max:null,maxLength:le,media:null,method:null,min:null,minLength:le,multiple:Ie,muted:Ie,name:null,nonce:null,noModule:Ie,noValidate:Ie,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:Ie,optimum:le,pattern:null,ping:rt,placeholder:null,playsInline:Ie,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:Ie,referrerPolicy:null,rel:rt,required:Ie,reversed:Ie,rows:le,rowSpan:le,sandbox:rt,scope:null,scoped:Ie,seamless:Ie,selected:Ie,shadowRootClonable:Ie,shadowRootDelegatesFocus:Ie,shadowRootMode:null,shape:null,size:le,sizes:null,slot:null,span:le,spellCheck:Et,src:null,srcDoc:null,srcLang:null,srcSet:null,start:le,step:null,style:null,tabIndex:le,target:null,title:null,translate:null,type:null,typeMustMatch:Ie,useMap:null,value:Et,width:le,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:rt,axis:null,background:null,bgColor:null,border:le,borderColor:null,bottomMargin:le,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:Ie,declare:Ie,event:null,face:null,frame:null,frameBorder:null,hSpace:le,leftMargin:le,link:null,longDesc:null,lowSrc:null,marginHeight:le,marginWidth:le,noResize:Ie,noHref:Ie,noShade:Ie,noWrap:Ie,object:null,profile:null,prompt:null,rev:null,rightMargin:le,rules:null,scheme:null,scrolling:Et,standby:null,summary:null,text:null,topMargin:le,valueType:null,version:null,vAlign:null,vLink:null,vSpace:le,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:Ie,disableRemotePlayback:Ie,prefix:null,property:null,results:le,security:null,unselectable:null},space:"html",transform:kb}),aD=ka({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:pn,accentHeight:le,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:le,amplitude:le,arabicForm:null,ascent:le,attributeName:null,attributeType:null,azimuth:le,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:le,by:null,calcMode:null,capHeight:le,className:rt,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:le,diffuseConstant:le,direction:null,display:null,dur:null,divisor:le,dominantBaseline:null,download:Ie,dx:null,dy:null,edgeMode:null,editable:null,elevation:le,enableBackground:null,end:null,event:null,exponent:le,externalResourcesRequired:null,fill:null,fillOpacity:le,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:Ea,g2:Ea,glyphName:Ea,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:le,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:le,horizOriginX:le,horizOriginY:le,id:null,ideographic:le,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:le,k:le,k1:le,k2:le,k3:le,k4:le,kernelMatrix:pn,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:le,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:le,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:le,overlineThickness:le,paintOrder:null,panose1:null,path:null,pathLength:le,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:rt,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:le,pointsAtY:le,pointsAtZ:le,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:pn,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:pn,rev:pn,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:pn,requiredFeatures:pn,requiredFonts:pn,requiredFormats:pn,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:le,specularExponent:le,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:le,strikethroughThickness:le,string:null,stroke:null,strokeDashArray:pn,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:le,strokeOpacity:le,strokeWidth:null,style:null,surfaceScale:le,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:pn,tabIndex:le,tableValues:null,target:null,targetX:le,targetY:le,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:pn,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:le,underlineThickness:le,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:le,values:null,vAlphabetic:le,vMathematical:le,vectorEffect:null,vHanging:le,vIdeographic:le,version:null,vertAdvY:le,vertOriginX:le,vertOriginY:le,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:le,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:Rb}),_b=ka({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform(t,e){return"xlink:"+e.slice(5).toLowerCase()}}),Ib=ka({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:kb}),Pb=ka({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform(t,e){return"xml:"+e.slice(3).toLowerCase()}}),sD={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},oD=/[A-Z]/g,ox=/-[a-z]/g,lD=/^data[-\w.:]+$/i;function uD(t,e){const n=Rf(e);let a=e,s=sn;if(n in t.normal)return t.property[t.normal[n]];if(n.length>4&&n.slice(0,4)==="data"&&lD.test(e)){if(e.charAt(4)==="-"){const l=e.slice(5).replace(ox,dD);a="data"+l.charAt(0).toUpperCase()+l.slice(1)}else{const l=e.slice(4);if(!ox.test(l)){let u=l.replace(oD,cD);u.charAt(0)!=="-"&&(u="-"+u),e="data"+u}}s=ch}return new s(a,e)}function cD(t){return"-"+t.toLowerCase()}function dD(t){return t.charAt(1).toUpperCase()}const fD=Nb([Db,rD,_b,Ib,Pb],"html"),dh=Nb([Db,aD,_b,Ib,Pb],"svg");function hD(t){return t.join(" ").trim()}var ya={},qd,lx;function mD(){if(lx)return qd;lx=1;var t=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,e=/\n/g,n=/^\s*/,a=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,s=/^:\s*/,l=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,u=/^[;\s]*/,d=/^\s+|\s+$/g,h=`
`,f="/",p="*",b="",T="comment",S="declaration";qd=function(D,k){if(typeof D!="string")throw new TypeError("First argument must be a string");if(!D)return[];k=k||{};var _=1,O=1;function P(ye){var se=ye.match(e);se&&(_+=se.length);var me=ye.lastIndexOf(h);O=~me?ye.length-me:O+ye.length}function G(){var ye={line:_,column:O};return function(se){return se.position=new K(ye),re(),se}}function K(ye){this.start=ye,this.end={line:_,column:O},this.source=k.source}K.prototype.content=D;function z(ye){var se=new Error(k.source+":"+_+":"+O+": "+ye);if(se.reason=ye,se.filename=k.source,se.line=_,se.column=O,se.source=D,!k.silent)throw se}function Z(ye){var se=ye.exec(D);if(se){var me=se[0];return P(me),D=D.slice(me.length),se}}function re(){Z(n)}function pe(ye){var se;for(ye=ye||[];se=ge();)se!==!1&&ye.push(se);return ye}function ge(){var ye=G();if(!(f!=D.charAt(0)||p!=D.charAt(1))){for(var se=2;b!=D.charAt(se)&&(p!=D.charAt(se)||f!=D.charAt(se+1));)++se;if(se+=2,b===D.charAt(se-1))return z("End of comment missing");var me=D.slice(2,se-2);return O+=2,P(me),D=D.slice(se),O+=2,ye({type:T,comment:me})}}function ae(){var ye=G(),se=Z(a);if(se){if(ge(),!Z(s))return z("property missing ':'");var me=Z(l),q=ye({type:S,property:M(se[0].replace(t,b)),value:me?M(me[0].replace(t,b)):b});return Z(u),q}}function ue(){var ye=[];pe(ye);for(var se;se=ae();)se!==!1&&(ye.push(se),pe(ye));return ye}return re(),ue()};function M(D){return D?D.replace(d,b):b}return qd}var ux;function pD(){if(ux)return ya;ux=1;var t=ya&&ya.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(ya,"__esModule",{value:!0}),ya.default=n;var e=t(mD());function n(a,s){var l=null;if(!a||typeof a!="string")return l;var u=(0,e.default)(a),d=typeof s=="function";return u.forEach(function(h){if(h.type==="declaration"){var f=h.property,p=h.value;d?s(f,p,h):p&&(l=l||{},l[f]=p)}}),l}return ya}var Us={},cx;function gD(){if(cx)return Us;cx=1,Object.defineProperty(Us,"__esModule",{value:!0}),Us.camelCase=void 0;var t=/^--[a-zA-Z0-9_-]+$/,e=/-([a-z])/g,n=/^[^-]+$/,a=/^-(webkit|moz|ms|o|khtml)-/,s=/^-(ms)-/,l=function(f){return!f||n.test(f)||t.test(f)},u=function(f,p){return p.toUpperCase()},d=function(f,p){return"".concat(p,"-")},h=function(f,p){return p===void 0&&(p={}),l(f)?f:(f=f.toLowerCase(),p.reactCompat?f=f.replace(s,d):f=f.replace(a,d),f.replace(e,u))};return Us.camelCase=h,Us}var zs,dx;function yD(){if(dx)return zs;dx=1;var t=zs&&zs.__importDefault||function(s){return s&&s.__esModule?s:{default:s}},e=t(pD()),n=gD();function a(s,l){var u={};return!s||typeof s!="string"||(0,e.default)(s,function(d,h){d&&h&&(u[(0,n.camelCase)(d,l)]=h)}),u}return a.default=a,zs=a,zs}var xD=yD();const vD=fo(xD),Vb=Lb("end"),fh=Lb("start");function Lb(t){return e;function e(n){const a=n&&n.position&&n.position[t]||{};if(typeof a.line=="number"&&a.line>0&&typeof a.column=="number"&&a.column>0)return{line:a.line,column:a.column,offset:typeof a.offset=="number"&&a.offset>-1?a.offset:void 0}}}function bD(t){const e=fh(t),n=Vb(t);if(e&&n)return{start:e,end:n}}function $s(t){return!t||typeof t!="object"?"":"position"in t||"type"in t?fx(t.position):"start"in t||"end"in t?fx(t):"line"in t||"column"in t?If(t):""}function If(t){return hx(t&&t.line)+":"+hx(t&&t.column)}function fx(t){return If(t&&t.start)+"-"+If(t&&t.end)}function hx(t){return t&&typeof t=="number"?t:1}class qt extends Error{constructor(e,n,a){super(),typeof n=="string"&&(a=n,n=void 0);let s="",l={},u=!1;if(n&&("line"in n&&"column"in n?l={place:n}:"start"in n&&"end"in n?l={place:n}:"type"in n?l={ancestors:[n],place:n.position}:l={...n}),typeof e=="string"?s=e:!l.cause&&e&&(u=!0,s=e.message,l.cause=e),!l.ruleId&&!l.source&&typeof a=="string"){const h=a.indexOf(":");h===-1?l.ruleId=a:(l.source=a.slice(0,h),l.ruleId=a.slice(h+1))}if(!l.place&&l.ancestors&&l.ancestors){const h=l.ancestors[l.ancestors.length-1];h&&(l.place=h.position)}const d=l.place&&"start"in l.place?l.place.start:l.place;this.ancestors=l.ancestors||void 0,this.cause=l.cause||void 0,this.column=d?d.column:void 0,this.fatal=void 0,this.file,this.message=s,this.line=d?d.line:void 0,this.name=$s(l.place)||"1:1",this.place=l.place||void 0,this.reason=this.message,this.ruleId=l.ruleId||void 0,this.source=l.source||void 0,this.stack=u&&l.cause&&typeof l.cause.stack=="string"?l.cause.stack:"",this.actual,this.expected,this.note,this.url}}qt.prototype.file="";qt.prototype.name="";qt.prototype.reason="";qt.prototype.message="";qt.prototype.stack="";qt.prototype.column=void 0;qt.prototype.line=void 0;qt.prototype.ancestors=void 0;qt.prototype.cause=void 0;qt.prototype.fatal=void 0;qt.prototype.place=void 0;qt.prototype.ruleId=void 0;qt.prototype.source=void 0;const hh={}.hasOwnProperty,TD=new Map,SD=/[A-Z]/g,CD=new Set(["table","tbody","thead","tfoot","tr"]),wD=new Set(["td","th"]),Bb="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function ED(t,e){if(!e||e.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const n=e.filePath||void 0;let a;if(e.development){if(typeof e.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");a=ID(n,e.jsxDEV)}else{if(typeof e.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof e.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");a=_D(n,e.jsx,e.jsxs)}const s={Fragment:e.Fragment,ancestors:[],components:e.components||{},create:a,elementAttributeNameCase:e.elementAttributeNameCase||"react",evaluater:e.createEvaluater?e.createEvaluater():void 0,filePath:n,ignoreInvalidStyle:e.ignoreInvalidStyle||!1,passKeys:e.passKeys!==!1,passNode:e.passNode||!1,schema:e.space==="svg"?dh:fD,stylePropertyNameCase:e.stylePropertyNameCase||"dom",tableCellAlignToStyle:e.tableCellAlignToStyle!==!1},l=jb(s,t,void 0);return l&&typeof l!="string"?l:s.create(t,s.Fragment,{children:l||void 0},void 0)}function jb(t,e,n){if(e.type==="element")return AD(t,e,n);if(e.type==="mdxFlowExpression"||e.type==="mdxTextExpression")return MD(t,e);if(e.type==="mdxJsxFlowElement"||e.type==="mdxJsxTextElement")return DD(t,e,n);if(e.type==="mdxjsEsm")return ND(t,e);if(e.type==="root")return RD(t,e,n);if(e.type==="text")return kD(t,e)}function AD(t,e,n){const a=t.schema;let s=a;e.tagName.toLowerCase()==="svg"&&a.space==="html"&&(s=dh,t.schema=s),t.ancestors.push(e);const l=Ub(t,e.tagName,!1),u=PD(t,e);let d=ph(t,e);return CD.has(e.tagName)&&(d=d.filter(function(h){return typeof h=="string"?!nD(h):!0})),Ob(t,u,l,e),mh(u,d),t.ancestors.pop(),t.schema=a,t.create(e,l,u,n)}function MD(t,e){if(e.data&&e.data.estree&&t.evaluater){const a=e.data.estree.body[0];return a.type,t.evaluater.evaluateExpression(a.expression)}io(t,e.position)}function ND(t,e){if(e.data&&e.data.estree&&t.evaluater)return t.evaluater.evaluateProgram(e.data.estree);io(t,e.position)}function DD(t,e,n){const a=t.schema;let s=a;e.name==="svg"&&a.space==="html"&&(s=dh,t.schema=s),t.ancestors.push(e);const l=e.name===null?t.Fragment:Ub(t,e.name,!0),u=VD(t,e),d=ph(t,e);return Ob(t,u,l,e),mh(u,d),t.ancestors.pop(),t.schema=a,t.create(e,l,u,n)}function RD(t,e,n){const a={};return mh(a,ph(t,e)),t.create(e,t.Fragment,a,n)}function kD(t,e){return e.value}function Ob(t,e,n,a){typeof n!="string"&&n!==t.Fragment&&t.passNode&&(e.node=a)}function mh(t,e){if(e.length>0){const n=e.length>1?e:e[0];n&&(t.children=n)}}function _D(t,e,n){return a;function a(s,l,u,d){const f=Array.isArray(u.children)?n:e;return d?f(l,u,d):f(l,u)}}function ID(t,e){return n;function n(a,s,l,u){const d=Array.isArray(l.children),h=fh(a);return e(s,l,u,d,{columnNumber:h?h.column-1:void 0,fileName:t,lineNumber:h?h.line:void 0},void 0)}}function PD(t,e){const n={};let a,s;for(s in e.properties)if(s!=="children"&&hh.call(e.properties,s)){const l=LD(t,s,e.properties[s]);if(l){const[u,d]=l;t.tableCellAlignToStyle&&u==="align"&&typeof d=="string"&&wD.has(e.tagName)?a=d:n[u]=d}}if(a){const l=n.style||(n.style={});l[t.stylePropertyNameCase==="css"?"text-align":"textAlign"]=a}return n}function VD(t,e){const n={};for(const a of e.attributes)if(a.type==="mdxJsxExpressionAttribute")if(a.data&&a.data.estree&&t.evaluater){const l=a.data.estree.body[0];l.type;const u=l.expression;u.type;const d=u.properties[0];d.type,Object.assign(n,t.evaluater.evaluateExpression(d.argument))}else io(t,e.position);else{const s=a.name;let l;if(a.value&&typeof a.value=="object")if(a.value.data&&a.value.data.estree&&t.evaluater){const d=a.value.data.estree.body[0];d.type,l=t.evaluater.evaluateExpression(d.expression)}else io(t,e.position);else l=a.value===null?!0:a.value;n[s]=l}return n}function ph(t,e){const n=[];let a=-1;const s=t.passKeys?new Map:TD;for(;++a<e.children.length;){const l=e.children[a];let u;if(t.passKeys){const h=l.type==="element"?l.tagName:l.type==="mdxJsxFlowElement"||l.type==="mdxJsxTextElement"?l.name:void 0;if(h){const f=s.get(h)||0;u=h+"-"+f,s.set(h,f+1)}}const d=jb(t,l,u);d!==void 0&&n.push(d)}return n}function LD(t,e,n){const a=uD(t.schema,e);if(!(n==null||typeof n=="number"&&Number.isNaN(n))){if(Array.isArray(n)&&(n=a.commaSeparated?Q2(n):hD(n)),a.property==="style"){let s=typeof n=="object"?n:BD(t,String(n));return t.stylePropertyNameCase==="css"&&(s=jD(s)),["style",s]}return[t.elementAttributeNameCase==="react"&&a.space?sD[a.property]||a.property:a.attribute,n]}}function BD(t,e){try{return vD(e,{reactCompat:!0})}catch(n){if(t.ignoreInvalidStyle)return{};const a=n,s=new qt("Cannot parse `style` attribute",{ancestors:t.ancestors,cause:a,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw s.file=t.filePath||void 0,s.url=Bb+"#cannot-parse-style-attribute",s}}function Ub(t,e,n){let a;if(!n)a={type:"Literal",value:e};else if(e.includes(".")){const s=e.split(".");let l=-1,u;for(;++l<s.length;){const d=rx(s[l])?{type:"Identifier",name:s[l]}:{type:"Literal",value:s[l]};u=u?{type:"MemberExpression",object:u,property:d,computed:!!(l&&d.type==="Literal"),optional:!1}:d}a=u}else a=rx(e)&&!/^[a-z]/.test(e)?{type:"Identifier",name:e}:{type:"Literal",value:e};if(a.type==="Literal"){const s=a.value;return hh.call(t.components,s)?t.components[s]:s}if(t.evaluater)return t.evaluater.evaluateExpression(a);io(t)}function io(t,e){const n=new qt("Cannot handle MDX estrees without `createEvaluater`",{ancestors:t.ancestors,place:e,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw n.file=t.filePath||void 0,n.url=Bb+"#cannot-handle-mdx-estrees-without-createevaluater",n}function jD(t){const e={};let n;for(n in t)hh.call(t,n)&&(e[OD(n)]=t[n]);return e}function OD(t){let e=t.replace(SD,UD);return e.slice(0,3)==="ms-"&&(e="-"+e),e}function UD(t){return"-"+t.toLowerCase()}const Yd={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},zD={};function FD(t,e){const n=zD,a=typeof n.includeImageAlt=="boolean"?n.includeImageAlt:!0,s=typeof n.includeHtml=="boolean"?n.includeHtml:!0;return zb(t,a,s)}function zb(t,e,n){if(HD(t)){if("value"in t)return t.type==="html"&&!n?"":t.value;if(e&&"alt"in t&&t.alt)return t.alt;if("children"in t)return mx(t.children,e,n)}return Array.isArray(t)?mx(t,e,n):""}function mx(t,e,n){const a=[];let s=-1;for(;++s<t.length;)a[s]=zb(t[s],e,n);return a.join("")}function HD(t){return!!(t&&typeof t=="object")}const px=document.createElement("i");function gh(t){const e="&"+t+";";px.innerHTML=e;const n=px.textContent;return n.charCodeAt(n.length-1)===59&&t!=="semi"||n===e?!1:n}function ii(t,e,n,a){const s=t.length;let l=0,u;if(e<0?e=-e>s?0:s+e:e=e>s?s:e,n=n>0?n:0,a.length<1e4)u=Array.from(a),u.unshift(e,n),t.splice(...u);else for(n&&t.splice(e,n);l<a.length;)u=a.slice(l,l+1e4),u.unshift(e,0),t.splice(...u),l+=1e4,e+=1e4}function Pn(t,e){return t.length>0?(ii(t,t.length,0,e),t):e}const gx={}.hasOwnProperty;function GD(t){const e={};let n=-1;for(;++n<t.length;)qD(e,t[n]);return e}function qD(t,e){let n;for(n in e){const s=(gx.call(t,n)?t[n]:void 0)||(t[n]={}),l=e[n];let u;if(l)for(u in l){gx.call(s,u)||(s[u]=[]);const d=l[u];YD(s[u],Array.isArray(d)?d:d?[d]:[])}}}function YD(t,e){let n=-1;const a=[];for(;++n<e.length;)(e[n].add==="after"?t:a).push(e[n]);ii(t,0,0,a)}function Fb(t,e){const n=Number.parseInt(t,e);return n<9||n===11||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||(n&65535)===65535||(n&65535)===65534||n>1114111?"�":String.fromCodePoint(n)}function Aa(t){return t.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const Wn=nr(/[A-Za-z]/),gn=nr(/[\dA-Za-z]/),KD=nr(/[#-'*+\--9=?A-Z^-~]/);function Pf(t){return t!==null&&(t<32||t===127)}const Vf=nr(/\d/),$D=nr(/[\dA-Fa-f]/),XD=nr(/[!-/:-@[-`{-~]/);function Re(t){return t!==null&&t<-2}function an(t){return t!==null&&(t<0||t===32)}function $e(t){return t===-2||t===-1||t===32}const JD=nr(new RegExp("\\p{P}|\\p{S}","u")),QD=nr(/\s/);function nr(t){return e;function e(n){return n!==null&&n>-1&&t.test(String.fromCharCode(n))}}function _a(t){const e=[];let n=-1,a=0,s=0;for(;++n<t.length;){const l=t.charCodeAt(n);let u="";if(l===37&&gn(t.charCodeAt(n+1))&&gn(t.charCodeAt(n+2)))s=2;else if(l<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(l))||(u=String.fromCharCode(l));else if(l>55295&&l<57344){const d=t.charCodeAt(n+1);l<56320&&d>56319&&d<57344?(u=String.fromCharCode(l,d),s=1):u="�"}else u=String.fromCharCode(l);u&&(e.push(t.slice(a,n),encodeURIComponent(u)),a=n+s+1,u=""),s&&(n+=s,s=0)}return e.join("")+t.slice(a)}function at(t,e,n,a){const s=a?a-1:Number.POSITIVE_INFINITY;let l=0;return u;function u(h){return $e(h)?(t.enter(n),d(h)):e(h)}function d(h){return $e(h)&&l++<s?(t.consume(h),d):(t.exit(n),e(h))}}const ZD={tokenize:WD};function WD(t){const e=t.attempt(this.parser.constructs.contentInitial,a,s);let n;return e;function a(d){if(d===null){t.consume(d);return}return t.enter("lineEnding"),t.consume(d),t.exit("lineEnding"),at(t,e,"linePrefix")}function s(d){return t.enter("paragraph"),l(d)}function l(d){const h=t.enter("chunkText",{contentType:"text",previous:n});return n&&(n.next=h),n=h,u(d)}function u(d){if(d===null){t.exit("chunkText"),t.exit("paragraph"),t.consume(d);return}return Re(d)?(t.consume(d),t.exit("chunkText"),l):(t.consume(d),u)}}const eR={tokenize:tR},yx={tokenize:nR};function tR(t){const e=this,n=[];let a=0,s,l,u;return d;function d(P){if(a<n.length){const G=n[a];return e.containerState=G[1],t.attempt(G[0].continuation,h,f)(P)}return f(P)}function h(P){if(a++,e.containerState._closeFlow){e.containerState._closeFlow=void 0,s&&O();const G=e.events.length;let K=G,z;for(;K--;)if(e.events[K][0]==="exit"&&e.events[K][1].type==="chunkFlow"){z=e.events[K][1].end;break}_(a);let Z=G;for(;Z<e.events.length;)e.events[Z][1].end={...z},Z++;return ii(e.events,K+1,0,e.events.slice(G)),e.events.length=Z,f(P)}return d(P)}function f(P){if(a===n.length){if(!s)return T(P);if(s.currentConstruct&&s.currentConstruct.concrete)return M(P);e.interrupt=!!(s.currentConstruct&&!s._gfmTableDynamicInterruptHack)}return e.containerState={},t.check(yx,p,b)(P)}function p(P){return s&&O(),_(a),T(P)}function b(P){return e.parser.lazy[e.now().line]=a!==n.length,u=e.now().offset,M(P)}function T(P){return e.containerState={},t.attempt(yx,S,M)(P)}function S(P){return a++,n.push([e.currentConstruct,e.containerState]),T(P)}function M(P){if(P===null){s&&O(),_(0),t.consume(P);return}return s=s||e.parser.flow(e.now()),t.enter("chunkFlow",{_tokenizer:s,contentType:"flow",previous:l}),D(P)}function D(P){if(P===null){k(t.exit("chunkFlow"),!0),_(0),t.consume(P);return}return Re(P)?(t.consume(P),k(t.exit("chunkFlow")),a=0,e.interrupt=void 0,d):(t.consume(P),D)}function k(P,G){const K=e.sliceStream(P);if(G&&K.push(null),P.previous=l,l&&(l.next=P),l=P,s.defineSkip(P.start),s.write(K),e.parser.lazy[P.start.line]){let z=s.events.length;for(;z--;)if(s.events[z][1].start.offset<u&&(!s.events[z][1].end||s.events[z][1].end.offset>u))return;const Z=e.events.length;let re=Z,pe,ge;for(;re--;)if(e.events[re][0]==="exit"&&e.events[re][1].type==="chunkFlow"){if(pe){ge=e.events[re][1].end;break}pe=!0}for(_(a),z=Z;z<e.events.length;)e.events[z][1].end={...ge},z++;ii(e.events,re+1,0,e.events.slice(Z)),e.events.length=z}}function _(P){let G=n.length;for(;G-- >P;){const K=n[G];e.containerState=K[1],K[0].exit.call(e,t)}n.length=P}function O(){s.write([null]),l=void 0,s=void 0,e.containerState._closeFlow=void 0}}function nR(t,e,n){return at(t,t.attempt(this.parser.constructs.document,e,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function xx(t){if(t===null||an(t)||QD(t))return 1;if(JD(t))return 2}function yh(t,e,n){const a=[];let s=-1;for(;++s<t.length;){const l=t[s].resolveAll;l&&!a.includes(l)&&(e=l(e,n),a.push(l))}return e}const Lf={name:"attention",resolveAll:iR,tokenize:rR};function iR(t,e){let n=-1,a,s,l,u,d,h,f,p;for(;++n<t.length;)if(t[n][0]==="enter"&&t[n][1].type==="attentionSequence"&&t[n][1]._close){for(a=n;a--;)if(t[a][0]==="exit"&&t[a][1].type==="attentionSequence"&&t[a][1]._open&&e.sliceSerialize(t[a][1]).charCodeAt(0)===e.sliceSerialize(t[n][1]).charCodeAt(0)){if((t[a][1]._close||t[n][1]._open)&&(t[n][1].end.offset-t[n][1].start.offset)%3&&!((t[a][1].end.offset-t[a][1].start.offset+t[n][1].end.offset-t[n][1].start.offset)%3))continue;h=t[a][1].end.offset-t[a][1].start.offset>1&&t[n][1].end.offset-t[n][1].start.offset>1?2:1;const b={...t[a][1].end},T={...t[n][1].start};vx(b,-h),vx(T,h),u={type:h>1?"strongSequence":"emphasisSequence",start:b,end:{...t[a][1].end}},d={type:h>1?"strongSequence":"emphasisSequence",start:{...t[n][1].start},end:T},l={type:h>1?"strongText":"emphasisText",start:{...t[a][1].end},end:{...t[n][1].start}},s={type:h>1?"strong":"emphasis",start:{...u.start},end:{...d.end}},t[a][1].end={...u.start},t[n][1].start={...d.end},f=[],t[a][1].end.offset-t[a][1].start.offset&&(f=Pn(f,[["enter",t[a][1],e],["exit",t[a][1],e]])),f=Pn(f,[["enter",s,e],["enter",u,e],["exit",u,e],["enter",l,e]]),f=Pn(f,yh(e.parser.constructs.insideSpan.null,t.slice(a+1,n),e)),f=Pn(f,[["exit",l,e],["enter",d,e],["exit",d,e],["exit",s,e]]),t[n][1].end.offset-t[n][1].start.offset?(p=2,f=Pn(f,[["enter",t[n][1],e],["exit",t[n][1],e]])):p=0,ii(t,a-1,n-a+3,f),n=a+f.length-p-2;break}}for(n=-1;++n<t.length;)t[n][1].type==="attentionSequence"&&(t[n][1].type="data");return t}function rR(t,e){const n=this.parser.constructs.attentionMarkers.null,a=this.previous,s=xx(a);let l;return u;function u(h){return l=h,t.enter("attentionSequence"),d(h)}function d(h){if(h===l)return t.consume(h),d;const f=t.exit("attentionSequence"),p=xx(h),b=!p||p===2&&s||n.includes(h),T=!s||s===2&&p||n.includes(a);return f._open=!!(l===42?b:b&&(s||!T)),f._close=!!(l===42?T:T&&(p||!b)),e(h)}}function vx(t,e){t.column+=e,t.offset+=e,t._bufferIndex+=e}const aR={name:"autolink",tokenize:sR};function sR(t,e,n){let a=0;return s;function s(S){return t.enter("autolink"),t.enter("autolinkMarker"),t.consume(S),t.exit("autolinkMarker"),t.enter("autolinkProtocol"),l}function l(S){return Wn(S)?(t.consume(S),u):S===64?n(S):f(S)}function u(S){return S===43||S===45||S===46||gn(S)?(a=1,d(S)):f(S)}function d(S){return S===58?(t.consume(S),a=0,h):(S===43||S===45||S===46||gn(S))&&a++<32?(t.consume(S),d):(a=0,f(S))}function h(S){return S===62?(t.exit("autolinkProtocol"),t.enter("autolinkMarker"),t.consume(S),t.exit("autolinkMarker"),t.exit("autolink"),e):S===null||S===32||S===60||Pf(S)?n(S):(t.consume(S),h)}function f(S){return S===64?(t.consume(S),p):KD(S)?(t.consume(S),f):n(S)}function p(S){return gn(S)?b(S):n(S)}function b(S){return S===46?(t.consume(S),a=0,p):S===62?(t.exit("autolinkProtocol").type="autolinkEmail",t.enter("autolinkMarker"),t.consume(S),t.exit("autolinkMarker"),t.exit("autolink"),e):T(S)}function T(S){if((S===45||gn(S))&&a++<63){const M=S===45?T:b;return t.consume(S),M}return n(S)}}const vu={partial:!0,tokenize:oR};function oR(t,e,n){return a;function a(l){return $e(l)?at(t,s,"linePrefix")(l):s(l)}function s(l){return l===null||Re(l)?e(l):n(l)}}const Hb={continuation:{tokenize:uR},exit:cR,name:"blockQuote",tokenize:lR};function lR(t,e,n){const a=this;return s;function s(u){if(u===62){const d=a.containerState;return d.open||(t.enter("blockQuote",{_container:!0}),d.open=!0),t.enter("blockQuotePrefix"),t.enter("blockQuoteMarker"),t.consume(u),t.exit("blockQuoteMarker"),l}return n(u)}function l(u){return $e(u)?(t.enter("blockQuotePrefixWhitespace"),t.consume(u),t.exit("blockQuotePrefixWhitespace"),t.exit("blockQuotePrefix"),e):(t.exit("blockQuotePrefix"),e(u))}}function uR(t,e,n){const a=this;return s;function s(u){return $e(u)?at(t,l,"linePrefix",a.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(u):l(u)}function l(u){return t.attempt(Hb,e,n)(u)}}function cR(t){t.exit("blockQuote")}const Gb={name:"characterEscape",tokenize:dR};function dR(t,e,n){return a;function a(l){return t.enter("characterEscape"),t.enter("escapeMarker"),t.consume(l),t.exit("escapeMarker"),s}function s(l){return XD(l)?(t.enter("characterEscapeValue"),t.consume(l),t.exit("characterEscapeValue"),t.exit("characterEscape"),e):n(l)}}const qb={name:"characterReference",tokenize:fR};function fR(t,e,n){const a=this;let s=0,l,u;return d;function d(b){return t.enter("characterReference"),t.enter("characterReferenceMarker"),t.consume(b),t.exit("characterReferenceMarker"),h}function h(b){return b===35?(t.enter("characterReferenceMarkerNumeric"),t.consume(b),t.exit("characterReferenceMarkerNumeric"),f):(t.enter("characterReferenceValue"),l=31,u=gn,p(b))}function f(b){return b===88||b===120?(t.enter("characterReferenceMarkerHexadecimal"),t.consume(b),t.exit("characterReferenceMarkerHexadecimal"),t.enter("characterReferenceValue"),l=6,u=$D,p):(t.enter("characterReferenceValue"),l=7,u=Vf,p(b))}function p(b){if(b===59&&s){const T=t.exit("characterReferenceValue");return u===gn&&!gh(a.sliceSerialize(T))?n(b):(t.enter("characterReferenceMarker"),t.consume(b),t.exit("characterReferenceMarker"),t.exit("characterReference"),e)}return u(b)&&s++<l?(t.consume(b),p):n(b)}}const bx={partial:!0,tokenize:mR},Tx={concrete:!0,name:"codeFenced",tokenize:hR};function hR(t,e,n){const a=this,s={partial:!0,tokenize:K};let l=0,u=0,d;return h;function h(z){return f(z)}function f(z){const Z=a.events[a.events.length-1];return l=Z&&Z[1].type==="linePrefix"?Z[2].sliceSerialize(Z[1],!0).length:0,d=z,t.enter("codeFenced"),t.enter("codeFencedFence"),t.enter("codeFencedFenceSequence"),p(z)}function p(z){return z===d?(u++,t.consume(z),p):u<3?n(z):(t.exit("codeFencedFenceSequence"),$e(z)?at(t,b,"whitespace")(z):b(z))}function b(z){return z===null||Re(z)?(t.exit("codeFencedFence"),a.interrupt?e(z):t.check(bx,D,G)(z)):(t.enter("codeFencedFenceInfo"),t.enter("chunkString",{contentType:"string"}),T(z))}function T(z){return z===null||Re(z)?(t.exit("chunkString"),t.exit("codeFencedFenceInfo"),b(z)):$e(z)?(t.exit("chunkString"),t.exit("codeFencedFenceInfo"),at(t,S,"whitespace")(z)):z===96&&z===d?n(z):(t.consume(z),T)}function S(z){return z===null||Re(z)?b(z):(t.enter("codeFencedFenceMeta"),t.enter("chunkString",{contentType:"string"}),M(z))}function M(z){return z===null||Re(z)?(t.exit("chunkString"),t.exit("codeFencedFenceMeta"),b(z)):z===96&&z===d?n(z):(t.consume(z),M)}function D(z){return t.attempt(s,G,k)(z)}function k(z){return t.enter("lineEnding"),t.consume(z),t.exit("lineEnding"),_}function _(z){return l>0&&$e(z)?at(t,O,"linePrefix",l+1)(z):O(z)}function O(z){return z===null||Re(z)?t.check(bx,D,G)(z):(t.enter("codeFlowValue"),P(z))}function P(z){return z===null||Re(z)?(t.exit("codeFlowValue"),O(z)):(t.consume(z),P)}function G(z){return t.exit("codeFenced"),e(z)}function K(z,Z,re){let pe=0;return ge;function ge(me){return z.enter("lineEnding"),z.consume(me),z.exit("lineEnding"),ae}function ae(me){return z.enter("codeFencedFence"),$e(me)?at(z,ue,"linePrefix",a.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(me):ue(me)}function ue(me){return me===d?(z.enter("codeFencedFenceSequence"),ye(me)):re(me)}function ye(me){return me===d?(pe++,z.consume(me),ye):pe>=u?(z.exit("codeFencedFenceSequence"),$e(me)?at(z,se,"whitespace")(me):se(me)):re(me)}function se(me){return me===null||Re(me)?(z.exit("codeFencedFence"),Z(me)):re(me)}}}function mR(t,e,n){const a=this;return s;function s(u){return u===null?n(u):(t.enter("lineEnding"),t.consume(u),t.exit("lineEnding"),l)}function l(u){return a.parser.lazy[a.now().line]?n(u):e(u)}}const Kd={name:"codeIndented",tokenize:gR},pR={partial:!0,tokenize:yR};function gR(t,e,n){const a=this;return s;function s(f){return t.enter("codeIndented"),at(t,l,"linePrefix",5)(f)}function l(f){const p=a.events[a.events.length-1];return p&&p[1].type==="linePrefix"&&p[2].sliceSerialize(p[1],!0).length>=4?u(f):n(f)}function u(f){return f===null?h(f):Re(f)?t.attempt(pR,u,h)(f):(t.enter("codeFlowValue"),d(f))}function d(f){return f===null||Re(f)?(t.exit("codeFlowValue"),u(f)):(t.consume(f),d)}function h(f){return t.exit("codeIndented"),e(f)}}function yR(t,e,n){const a=this;return s;function s(u){return a.parser.lazy[a.now().line]?n(u):Re(u)?(t.enter("lineEnding"),t.consume(u),t.exit("lineEnding"),s):at(t,l,"linePrefix",5)(u)}function l(u){const d=a.events[a.events.length-1];return d&&d[1].type==="linePrefix"&&d[2].sliceSerialize(d[1],!0).length>=4?e(u):Re(u)?s(u):n(u)}}const xR={name:"codeText",previous:bR,resolve:vR,tokenize:TR};function vR(t){let e=t.length-4,n=3,a,s;if((t[n][1].type==="lineEnding"||t[n][1].type==="space")&&(t[e][1].type==="lineEnding"||t[e][1].type==="space")){for(a=n;++a<e;)if(t[a][1].type==="codeTextData"){t[n][1].type="codeTextPadding",t[e][1].type="codeTextPadding",n+=2,e-=2;break}}for(a=n-1,e++;++a<=e;)s===void 0?a!==e&&t[a][1].type!=="lineEnding"&&(s=a):(a===e||t[a][1].type==="lineEnding")&&(t[s][1].type="codeTextData",a!==s+2&&(t[s][1].end=t[a-1][1].end,t.splice(s+2,a-s-2),e-=a-s-2,a=s+2),s=void 0);return t}function bR(t){return t!==96||this.events[this.events.length-1][1].type==="characterEscape"}function TR(t,e,n){let a=0,s,l;return u;function u(b){return t.enter("codeText"),t.enter("codeTextSequence"),d(b)}function d(b){return b===96?(t.consume(b),a++,d):(t.exit("codeTextSequence"),h(b))}function h(b){return b===null?n(b):b===32?(t.enter("space"),t.consume(b),t.exit("space"),h):b===96?(l=t.enter("codeTextSequence"),s=0,p(b)):Re(b)?(t.enter("lineEnding"),t.consume(b),t.exit("lineEnding"),h):(t.enter("codeTextData"),f(b))}function f(b){return b===null||b===32||b===96||Re(b)?(t.exit("codeTextData"),h(b)):(t.consume(b),f)}function p(b){return b===96?(t.consume(b),s++,p):s===a?(t.exit("codeTextSequence"),t.exit("codeText"),e(b)):(l.type="codeTextData",f(b))}}class SR{constructor(e){this.left=e?[...e]:[],this.right=[]}get(e){if(e<0||e>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+e+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return e<this.left.length?this.left[e]:this.right[this.right.length-e+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(e,n){const a=n??Number.POSITIVE_INFINITY;return a<this.left.length?this.left.slice(e,a):e>this.left.length?this.right.slice(this.right.length-a+this.left.length,this.right.length-e+this.left.length).reverse():this.left.slice(e).concat(this.right.slice(this.right.length-a+this.left.length).reverse())}splice(e,n,a){const s=n||0;this.setCursor(Math.trunc(e));const l=this.right.splice(this.right.length-s,Number.POSITIVE_INFINITY);return a&&Fs(this.left,a),l.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(e){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(e)}pushMany(e){this.setCursor(Number.POSITIVE_INFINITY),Fs(this.left,e)}unshift(e){this.setCursor(0),this.right.push(e)}unshiftMany(e){this.setCursor(0),Fs(this.right,e.reverse())}setCursor(e){if(!(e===this.left.length||e>this.left.length&&this.right.length===0||e<0&&this.left.length===0))if(e<this.left.length){const n=this.left.splice(e,Number.POSITIVE_INFINITY);Fs(this.right,n.reverse())}else{const n=this.right.splice(this.left.length+this.right.length-e,Number.POSITIVE_INFINITY);Fs(this.left,n.reverse())}}}function Fs(t,e){let n=0;if(e.length<1e4)t.push(...e);else for(;n<e.length;)t.push(...e.slice(n,n+1e4)),n+=1e4}function Yb(t){const e={};let n=-1,a,s,l,u,d,h,f;const p=new SR(t);for(;++n<p.length;){for(;n in e;)n=e[n];if(a=p.get(n),n&&a[1].type==="chunkFlow"&&p.get(n-1)[1].type==="listItemPrefix"&&(h=a[1]._tokenizer.events,l=0,l<h.length&&h[l][1].type==="lineEndingBlank"&&(l+=2),l<h.length&&h[l][1].type==="content"))for(;++l<h.length&&h[l][1].type!=="content";)h[l][1].type==="chunkText"&&(h[l][1]._isInFirstContentOfListItem=!0,l++);if(a[0]==="enter")a[1].contentType&&(Object.assign(e,CR(p,n)),n=e[n],f=!0);else if(a[1]._container){for(l=n,s=void 0;l--;)if(u=p.get(l),u[1].type==="lineEnding"||u[1].type==="lineEndingBlank")u[0]==="enter"&&(s&&(p.get(s)[1].type="lineEndingBlank"),u[1].type="lineEnding",s=l);else if(!(u[1].type==="linePrefix"||u[1].type==="listItemIndent"))break;s&&(a[1].end={...p.get(s)[1].start},d=p.slice(s,n),d.unshift(a),p.splice(s,n-s+1,d))}}return ii(t,0,Number.POSITIVE_INFINITY,p.slice(0)),!f}function CR(t,e){const n=t.get(e)[1],a=t.get(e)[2];let s=e-1;const l=[];let u=n._tokenizer;u||(u=a.parser[n.contentType](n.start),n._contentTypeTextTrailing&&(u._contentTypeTextTrailing=!0));const d=u.events,h=[],f={};let p,b,T=-1,S=n,M=0,D=0;const k=[D];for(;S;){for(;t.get(++s)[1]!==S;);l.push(s),S._tokenizer||(p=a.sliceStream(S),S.next||p.push(null),b&&u.defineSkip(S.start),S._isInFirstContentOfListItem&&(u._gfmTasklistFirstContentOfListItem=!0),u.write(p),S._isInFirstContentOfListItem&&(u._gfmTasklistFirstContentOfListItem=void 0)),b=S,S=S.next}for(S=n;++T<d.length;)d[T][0]==="exit"&&d[T-1][0]==="enter"&&d[T][1].type===d[T-1][1].type&&d[T][1].start.line!==d[T][1].end.line&&(D=T+1,k.push(D),S._tokenizer=void 0,S.previous=void 0,S=S.next);for(u.events=[],S?(S._tokenizer=void 0,S.previous=void 0):k.pop(),T=k.length;T--;){const _=d.slice(k[T],k[T+1]),O=l.pop();h.push([O,O+_.length-1]),t.splice(O,2,_)}for(h.reverse(),T=-1;++T<h.length;)f[M+h[T][0]]=M+h[T][1],M+=h[T][1]-h[T][0]-1;return f}const wR={resolve:AR,tokenize:MR},ER={partial:!0,tokenize:NR};function AR(t){return Yb(t),t}function MR(t,e){let n;return a;function a(d){return t.enter("content"),n=t.enter("chunkContent",{contentType:"content"}),s(d)}function s(d){return d===null?l(d):Re(d)?t.check(ER,u,l)(d):(t.consume(d),s)}function l(d){return t.exit("chunkContent"),t.exit("content"),e(d)}function u(d){return t.consume(d),t.exit("chunkContent"),n.next=t.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,s}}function NR(t,e,n){const a=this;return s;function s(u){return t.exit("chunkContent"),t.enter("lineEnding"),t.consume(u),t.exit("lineEnding"),at(t,l,"linePrefix")}function l(u){if(u===null||Re(u))return n(u);const d=a.events[a.events.length-1];return!a.parser.constructs.disable.null.includes("codeIndented")&&d&&d[1].type==="linePrefix"&&d[2].sliceSerialize(d[1],!0).length>=4?e(u):t.interrupt(a.parser.constructs.flow,n,e)(u)}}function Kb(t,e,n,a,s,l,u,d,h){const f=h||Number.POSITIVE_INFINITY;let p=0;return b;function b(_){return _===60?(t.enter(a),t.enter(s),t.enter(l),t.consume(_),t.exit(l),T):_===null||_===32||_===41||Pf(_)?n(_):(t.enter(a),t.enter(u),t.enter(d),t.enter("chunkString",{contentType:"string"}),D(_))}function T(_){return _===62?(t.enter(l),t.consume(_),t.exit(l),t.exit(s),t.exit(a),e):(t.enter(d),t.enter("chunkString",{contentType:"string"}),S(_))}function S(_){return _===62?(t.exit("chunkString"),t.exit(d),T(_)):_===null||_===60||Re(_)?n(_):(t.consume(_),_===92?M:S)}function M(_){return _===60||_===62||_===92?(t.consume(_),S):S(_)}function D(_){return!p&&(_===null||_===41||an(_))?(t.exit("chunkString"),t.exit(d),t.exit(u),t.exit(a),e(_)):p<f&&_===40?(t.consume(_),p++,D):_===41?(t.consume(_),p--,D):_===null||_===32||_===40||Pf(_)?n(_):(t.consume(_),_===92?k:D)}function k(_){return _===40||_===41||_===92?(t.consume(_),D):D(_)}}function $b(t,e,n,a,s,l){const u=this;let d=0,h;return f;function f(S){return t.enter(a),t.enter(s),t.consume(S),t.exit(s),t.enter(l),p}function p(S){return d>999||S===null||S===91||S===93&&!h||S===94&&!d&&"_hiddenFootnoteSupport"in u.parser.constructs?n(S):S===93?(t.exit(l),t.enter(s),t.consume(S),t.exit(s),t.exit(a),e):Re(S)?(t.enter("lineEnding"),t.consume(S),t.exit("lineEnding"),p):(t.enter("chunkString",{contentType:"string"}),b(S))}function b(S){return S===null||S===91||S===93||Re(S)||d++>999?(t.exit("chunkString"),p(S)):(t.consume(S),h||(h=!$e(S)),S===92?T:b)}function T(S){return S===91||S===92||S===93?(t.consume(S),d++,b):b(S)}}function Xb(t,e,n,a,s,l){let u;return d;function d(T){return T===34||T===39||T===40?(t.enter(a),t.enter(s),t.consume(T),t.exit(s),u=T===40?41:T,h):n(T)}function h(T){return T===u?(t.enter(s),t.consume(T),t.exit(s),t.exit(a),e):(t.enter(l),f(T))}function f(T){return T===u?(t.exit(l),h(u)):T===null?n(T):Re(T)?(t.enter("lineEnding"),t.consume(T),t.exit("lineEnding"),at(t,f,"linePrefix")):(t.enter("chunkString",{contentType:"string"}),p(T))}function p(T){return T===u||T===null||Re(T)?(t.exit("chunkString"),f(T)):(t.consume(T),T===92?b:p)}function b(T){return T===u||T===92?(t.consume(T),p):p(T)}}function Xs(t,e){let n;return a;function a(s){return Re(s)?(t.enter("lineEnding"),t.consume(s),t.exit("lineEnding"),n=!0,a):$e(s)?at(t,a,n?"linePrefix":"lineSuffix")(s):e(s)}}const DR={name:"definition",tokenize:kR},RR={partial:!0,tokenize:_R};function kR(t,e,n){const a=this;let s;return l;function l(S){return t.enter("definition"),u(S)}function u(S){return $b.call(a,t,d,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(S)}function d(S){return s=Aa(a.sliceSerialize(a.events[a.events.length-1][1]).slice(1,-1)),S===58?(t.enter("definitionMarker"),t.consume(S),t.exit("definitionMarker"),h):n(S)}function h(S){return an(S)?Xs(t,f)(S):f(S)}function f(S){return Kb(t,p,n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(S)}function p(S){return t.attempt(RR,b,b)(S)}function b(S){return $e(S)?at(t,T,"whitespace")(S):T(S)}function T(S){return S===null||Re(S)?(t.exit("definition"),a.parser.defined.push(s),e(S)):n(S)}}function _R(t,e,n){return a;function a(d){return an(d)?Xs(t,s)(d):n(d)}function s(d){return Xb(t,l,n,"definitionTitle","definitionTitleMarker","definitionTitleString")(d)}function l(d){return $e(d)?at(t,u,"whitespace")(d):u(d)}function u(d){return d===null||Re(d)?e(d):n(d)}}const IR={name:"hardBreakEscape",tokenize:PR};function PR(t,e,n){return a;function a(l){return t.enter("hardBreakEscape"),t.consume(l),s}function s(l){return Re(l)?(t.exit("hardBreakEscape"),e(l)):n(l)}}const VR={name:"headingAtx",resolve:LR,tokenize:BR};function LR(t,e){let n=t.length-2,a=3,s,l;return t[a][1].type==="whitespace"&&(a+=2),n-2>a&&t[n][1].type==="whitespace"&&(n-=2),t[n][1].type==="atxHeadingSequence"&&(a===n-1||n-4>a&&t[n-2][1].type==="whitespace")&&(n-=a+1===n?2:4),n>a&&(s={type:"atxHeadingText",start:t[a][1].start,end:t[n][1].end},l={type:"chunkText",start:t[a][1].start,end:t[n][1].end,contentType:"text"},ii(t,a,n-a+1,[["enter",s,e],["enter",l,e],["exit",l,e],["exit",s,e]])),t}function BR(t,e,n){let a=0;return s;function s(p){return t.enter("atxHeading"),l(p)}function l(p){return t.enter("atxHeadingSequence"),u(p)}function u(p){return p===35&&a++<6?(t.consume(p),u):p===null||an(p)?(t.exit("atxHeadingSequence"),d(p)):n(p)}function d(p){return p===35?(t.enter("atxHeadingSequence"),h(p)):p===null||Re(p)?(t.exit("atxHeading"),e(p)):$e(p)?at(t,d,"whitespace")(p):(t.enter("atxHeadingText"),f(p))}function h(p){return p===35?(t.consume(p),h):(t.exit("atxHeadingSequence"),d(p))}function f(p){return p===null||p===35||an(p)?(t.exit("atxHeadingText"),d(p)):(t.consume(p),f)}}const jR=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],Sx=["pre","script","style","textarea"],OR={concrete:!0,name:"htmlFlow",resolveTo:FR,tokenize:HR},UR={partial:!0,tokenize:qR},zR={partial:!0,tokenize:GR};function FR(t){let e=t.length;for(;e--&&!(t[e][0]==="enter"&&t[e][1].type==="htmlFlow"););return e>1&&t[e-2][1].type==="linePrefix"&&(t[e][1].start=t[e-2][1].start,t[e+1][1].start=t[e-2][1].start,t.splice(e-2,2)),t}function HR(t,e,n){const a=this;let s,l,u,d,h;return f;function f(A){return p(A)}function p(A){return t.enter("htmlFlow"),t.enter("htmlFlowData"),t.consume(A),b}function b(A){return A===33?(t.consume(A),T):A===47?(t.consume(A),l=!0,D):A===63?(t.consume(A),s=3,a.interrupt?e:C):Wn(A)?(t.consume(A),u=String.fromCharCode(A),k):n(A)}function T(A){return A===45?(t.consume(A),s=2,S):A===91?(t.consume(A),s=5,d=0,M):Wn(A)?(t.consume(A),s=4,a.interrupt?e:C):n(A)}function S(A){return A===45?(t.consume(A),a.interrupt?e:C):n(A)}function M(A){const Q="CDATA[";return A===Q.charCodeAt(d++)?(t.consume(A),d===Q.length?a.interrupt?e:ue:M):n(A)}function D(A){return Wn(A)?(t.consume(A),u=String.fromCharCode(A),k):n(A)}function k(A){if(A===null||A===47||A===62||an(A)){const Q=A===47,ce=u.toLowerCase();return!Q&&!l&&Sx.includes(ce)?(s=1,a.interrupt?e(A):ue(A)):jR.includes(u.toLowerCase())?(s=6,Q?(t.consume(A),_):a.interrupt?e(A):ue(A)):(s=7,a.interrupt&&!a.parser.lazy[a.now().line]?n(A):l?O(A):P(A))}return A===45||gn(A)?(t.consume(A),u+=String.fromCharCode(A),k):n(A)}function _(A){return A===62?(t.consume(A),a.interrupt?e:ue):n(A)}function O(A){return $e(A)?(t.consume(A),O):ge(A)}function P(A){return A===47?(t.consume(A),ge):A===58||A===95||Wn(A)?(t.consume(A),G):$e(A)?(t.consume(A),P):ge(A)}function G(A){return A===45||A===46||A===58||A===95||gn(A)?(t.consume(A),G):K(A)}function K(A){return A===61?(t.consume(A),z):$e(A)?(t.consume(A),K):P(A)}function z(A){return A===null||A===60||A===61||A===62||A===96?n(A):A===34||A===39?(t.consume(A),h=A,Z):$e(A)?(t.consume(A),z):re(A)}function Z(A){return A===h?(t.consume(A),h=null,pe):A===null||Re(A)?n(A):(t.consume(A),Z)}function re(A){return A===null||A===34||A===39||A===47||A===60||A===61||A===62||A===96||an(A)?K(A):(t.consume(A),re)}function pe(A){return A===47||A===62||$e(A)?P(A):n(A)}function ge(A){return A===62?(t.consume(A),ae):n(A)}function ae(A){return A===null||Re(A)?ue(A):$e(A)?(t.consume(A),ae):n(A)}function ue(A){return A===45&&s===2?(t.consume(A),q):A===60&&s===1?(t.consume(A),L):A===62&&s===4?(t.consume(A),V):A===63&&s===3?(t.consume(A),C):A===93&&s===5?(t.consume(A),R):Re(A)&&(s===6||s===7)?(t.exit("htmlFlowData"),t.check(UR,U,ye)(A)):A===null||Re(A)?(t.exit("htmlFlowData"),ye(A)):(t.consume(A),ue)}function ye(A){return t.check(zR,se,U)(A)}function se(A){return t.enter("lineEnding"),t.consume(A),t.exit("lineEnding"),me}function me(A){return A===null||Re(A)?ye(A):(t.enter("htmlFlowData"),ue(A))}function q(A){return A===45?(t.consume(A),C):ue(A)}function L(A){return A===47?(t.consume(A),u="",N):ue(A)}function N(A){if(A===62){const Q=u.toLowerCase();return Sx.includes(Q)?(t.consume(A),V):ue(A)}return Wn(A)&&u.length<8?(t.consume(A),u+=String.fromCharCode(A),N):ue(A)}function R(A){return A===93?(t.consume(A),C):ue(A)}function C(A){return A===62?(t.consume(A),V):A===45&&s===2?(t.consume(A),C):ue(A)}function V(A){return A===null||Re(A)?(t.exit("htmlFlowData"),U(A)):(t.consume(A),V)}function U(A){return t.exit("htmlFlow"),e(A)}}function GR(t,e,n){const a=this;return s;function s(u){return Re(u)?(t.enter("lineEnding"),t.consume(u),t.exit("lineEnding"),l):n(u)}function l(u){return a.parser.lazy[a.now().line]?n(u):e(u)}}function qR(t,e,n){return a;function a(s){return t.enter("lineEnding"),t.consume(s),t.exit("lineEnding"),t.attempt(vu,e,n)}}const YR={name:"htmlText",tokenize:KR};function KR(t,e,n){const a=this;let s,l,u;return d;function d(C){return t.enter("htmlText"),t.enter("htmlTextData"),t.consume(C),h}function h(C){return C===33?(t.consume(C),f):C===47?(t.consume(C),K):C===63?(t.consume(C),P):Wn(C)?(t.consume(C),re):n(C)}function f(C){return C===45?(t.consume(C),p):C===91?(t.consume(C),l=0,M):Wn(C)?(t.consume(C),O):n(C)}function p(C){return C===45?(t.consume(C),S):n(C)}function b(C){return C===null?n(C):C===45?(t.consume(C),T):Re(C)?(u=b,L(C)):(t.consume(C),b)}function T(C){return C===45?(t.consume(C),S):b(C)}function S(C){return C===62?q(C):C===45?T(C):b(C)}function M(C){const V="CDATA[";return C===V.charCodeAt(l++)?(t.consume(C),l===V.length?D:M):n(C)}function D(C){return C===null?n(C):C===93?(t.consume(C),k):Re(C)?(u=D,L(C)):(t.consume(C),D)}function k(C){return C===93?(t.consume(C),_):D(C)}function _(C){return C===62?q(C):C===93?(t.consume(C),_):D(C)}function O(C){return C===null||C===62?q(C):Re(C)?(u=O,L(C)):(t.consume(C),O)}function P(C){return C===null?n(C):C===63?(t.consume(C),G):Re(C)?(u=P,L(C)):(t.consume(C),P)}function G(C){return C===62?q(C):P(C)}function K(C){return Wn(C)?(t.consume(C),z):n(C)}function z(C){return C===45||gn(C)?(t.consume(C),z):Z(C)}function Z(C){return Re(C)?(u=Z,L(C)):$e(C)?(t.consume(C),Z):q(C)}function re(C){return C===45||gn(C)?(t.consume(C),re):C===47||C===62||an(C)?pe(C):n(C)}function pe(C){return C===47?(t.consume(C),q):C===58||C===95||Wn(C)?(t.consume(C),ge):Re(C)?(u=pe,L(C)):$e(C)?(t.consume(C),pe):q(C)}function ge(C){return C===45||C===46||C===58||C===95||gn(C)?(t.consume(C),ge):ae(C)}function ae(C){return C===61?(t.consume(C),ue):Re(C)?(u=ae,L(C)):$e(C)?(t.consume(C),ae):pe(C)}function ue(C){return C===null||C===60||C===61||C===62||C===96?n(C):C===34||C===39?(t.consume(C),s=C,ye):Re(C)?(u=ue,L(C)):$e(C)?(t.consume(C),ue):(t.consume(C),se)}function ye(C){return C===s?(t.consume(C),s=void 0,me):C===null?n(C):Re(C)?(u=ye,L(C)):(t.consume(C),ye)}function se(C){return C===null||C===34||C===39||C===60||C===61||C===96?n(C):C===47||C===62||an(C)?pe(C):(t.consume(C),se)}function me(C){return C===47||C===62||an(C)?pe(C):n(C)}function q(C){return C===62?(t.consume(C),t.exit("htmlTextData"),t.exit("htmlText"),e):n(C)}function L(C){return t.exit("htmlTextData"),t.enter("lineEnding"),t.consume(C),t.exit("lineEnding"),N}function N(C){return $e(C)?at(t,R,"linePrefix",a.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(C):R(C)}function R(C){return t.enter("htmlTextData"),u(C)}}const xh={name:"labelEnd",resolveAll:QR,resolveTo:ZR,tokenize:WR},$R={tokenize:ek},XR={tokenize:tk},JR={tokenize:nk};function QR(t){let e=-1;const n=[];for(;++e<t.length;){const a=t[e][1];if(n.push(t[e]),a.type==="labelImage"||a.type==="labelLink"||a.type==="labelEnd"){const s=a.type==="labelImage"?4:2;a.type="data",e+=s}}return t.length!==n.length&&ii(t,0,t.length,n),t}function ZR(t,e){let n=t.length,a=0,s,l,u,d;for(;n--;)if(s=t[n][1],l){if(s.type==="link"||s.type==="labelLink"&&s._inactive)break;t[n][0]==="enter"&&s.type==="labelLink"&&(s._inactive=!0)}else if(u){if(t[n][0]==="enter"&&(s.type==="labelImage"||s.type==="labelLink")&&!s._balanced&&(l=n,s.type!=="labelLink")){a=2;break}}else s.type==="labelEnd"&&(u=n);const h={type:t[l][1].type==="labelLink"?"link":"image",start:{...t[l][1].start},end:{...t[t.length-1][1].end}},f={type:"label",start:{...t[l][1].start},end:{...t[u][1].end}},p={type:"labelText",start:{...t[l+a+2][1].end},end:{...t[u-2][1].start}};return d=[["enter",h,e],["enter",f,e]],d=Pn(d,t.slice(l+1,l+a+3)),d=Pn(d,[["enter",p,e]]),d=Pn(d,yh(e.parser.constructs.insideSpan.null,t.slice(l+a+4,u-3),e)),d=Pn(d,[["exit",p,e],t[u-2],t[u-1],["exit",f,e]]),d=Pn(d,t.slice(u+1)),d=Pn(d,[["exit",h,e]]),ii(t,l,t.length,d),t}function WR(t,e,n){const a=this;let s=a.events.length,l,u;for(;s--;)if((a.events[s][1].type==="labelImage"||a.events[s][1].type==="labelLink")&&!a.events[s][1]._balanced){l=a.events[s][1];break}return d;function d(T){return l?l._inactive?b(T):(u=a.parser.defined.includes(Aa(a.sliceSerialize({start:l.end,end:a.now()}))),t.enter("labelEnd"),t.enter("labelMarker"),t.consume(T),t.exit("labelMarker"),t.exit("labelEnd"),h):n(T)}function h(T){return T===40?t.attempt($R,p,u?p:b)(T):T===91?t.attempt(XR,p,u?f:b)(T):u?p(T):b(T)}function f(T){return t.attempt(JR,p,b)(T)}function p(T){return e(T)}function b(T){return l._balanced=!0,n(T)}}function ek(t,e,n){return a;function a(b){return t.enter("resource"),t.enter("resourceMarker"),t.consume(b),t.exit("resourceMarker"),s}function s(b){return an(b)?Xs(t,l)(b):l(b)}function l(b){return b===41?p(b):Kb(t,u,d,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(b)}function u(b){return an(b)?Xs(t,h)(b):p(b)}function d(b){return n(b)}function h(b){return b===34||b===39||b===40?Xb(t,f,n,"resourceTitle","resourceTitleMarker","resourceTitleString")(b):p(b)}function f(b){return an(b)?Xs(t,p)(b):p(b)}function p(b){return b===41?(t.enter("resourceMarker"),t.consume(b),t.exit("resourceMarker"),t.exit("resource"),e):n(b)}}function tk(t,e,n){const a=this;return s;function s(d){return $b.call(a,t,l,u,"reference","referenceMarker","referenceString")(d)}function l(d){return a.parser.defined.includes(Aa(a.sliceSerialize(a.events[a.events.length-1][1]).slice(1,-1)))?e(d):n(d)}function u(d){return n(d)}}function nk(t,e,n){return a;function a(l){return t.enter("reference"),t.enter("referenceMarker"),t.consume(l),t.exit("referenceMarker"),s}function s(l){return l===93?(t.enter("referenceMarker"),t.consume(l),t.exit("referenceMarker"),t.exit("reference"),e):n(l)}}const ik={name:"labelStartImage",resolveAll:xh.resolveAll,tokenize:rk};function rk(t,e,n){const a=this;return s;function s(d){return t.enter("labelImage"),t.enter("labelImageMarker"),t.consume(d),t.exit("labelImageMarker"),l}function l(d){return d===91?(t.enter("labelMarker"),t.consume(d),t.exit("labelMarker"),t.exit("labelImage"),u):n(d)}function u(d){return d===94&&"_hiddenFootnoteSupport"in a.parser.constructs?n(d):e(d)}}const ak={name:"labelStartLink",resolveAll:xh.resolveAll,tokenize:sk};function sk(t,e,n){const a=this;return s;function s(u){return t.enter("labelLink"),t.enter("labelMarker"),t.consume(u),t.exit("labelMarker"),t.exit("labelLink"),l}function l(u){return u===94&&"_hiddenFootnoteSupport"in a.parser.constructs?n(u):e(u)}}const $d={name:"lineEnding",tokenize:ok};function ok(t,e){return n;function n(a){return t.enter("lineEnding"),t.consume(a),t.exit("lineEnding"),at(t,e,"linePrefix")}}const Jl={name:"thematicBreak",tokenize:lk};function lk(t,e,n){let a=0,s;return l;function l(f){return t.enter("thematicBreak"),u(f)}function u(f){return s=f,d(f)}function d(f){return f===s?(t.enter("thematicBreakSequence"),h(f)):a>=3&&(f===null||Re(f))?(t.exit("thematicBreak"),e(f)):n(f)}function h(f){return f===s?(t.consume(f),a++,h):(t.exit("thematicBreakSequence"),$e(f)?at(t,d,"whitespace")(f):d(f))}}const tn={continuation:{tokenize:fk},exit:mk,name:"list",tokenize:dk},uk={partial:!0,tokenize:pk},ck={partial:!0,tokenize:hk};function dk(t,e,n){const a=this,s=a.events[a.events.length-1];let l=s&&s[1].type==="linePrefix"?s[2].sliceSerialize(s[1],!0).length:0,u=0;return d;function d(S){const M=a.containerState.type||(S===42||S===43||S===45?"listUnordered":"listOrdered");if(M==="listUnordered"?!a.containerState.marker||S===a.containerState.marker:Vf(S)){if(a.containerState.type||(a.containerState.type=M,t.enter(M,{_container:!0})),M==="listUnordered")return t.enter("listItemPrefix"),S===42||S===45?t.check(Jl,n,f)(S):f(S);if(!a.interrupt||S===49)return t.enter("listItemPrefix"),t.enter("listItemValue"),h(S)}return n(S)}function h(S){return Vf(S)&&++u<10?(t.consume(S),h):(!a.interrupt||u<2)&&(a.containerState.marker?S===a.containerState.marker:S===41||S===46)?(t.exit("listItemValue"),f(S)):n(S)}function f(S){return t.enter("listItemMarker"),t.consume(S),t.exit("listItemMarker"),a.containerState.marker=a.containerState.marker||S,t.check(vu,a.interrupt?n:p,t.attempt(uk,T,b))}function p(S){return a.containerState.initialBlankLine=!0,l++,T(S)}function b(S){return $e(S)?(t.enter("listItemPrefixWhitespace"),t.consume(S),t.exit("listItemPrefixWhitespace"),T):n(S)}function T(S){return a.containerState.size=l+a.sliceSerialize(t.exit("listItemPrefix"),!0).length,e(S)}}function fk(t,e,n){const a=this;return a.containerState._closeFlow=void 0,t.check(vu,s,l);function s(d){return a.containerState.furtherBlankLines=a.containerState.furtherBlankLines||a.containerState.initialBlankLine,at(t,e,"listItemIndent",a.containerState.size+1)(d)}function l(d){return a.containerState.furtherBlankLines||!$e(d)?(a.containerState.furtherBlankLines=void 0,a.containerState.initialBlankLine=void 0,u(d)):(a.containerState.furtherBlankLines=void 0,a.containerState.initialBlankLine=void 0,t.attempt(ck,e,u)(d))}function u(d){return a.containerState._closeFlow=!0,a.interrupt=void 0,at(t,t.attempt(tn,e,n),"linePrefix",a.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(d)}}function hk(t,e,n){const a=this;return at(t,s,"listItemIndent",a.containerState.size+1);function s(l){const u=a.events[a.events.length-1];return u&&u[1].type==="listItemIndent"&&u[2].sliceSerialize(u[1],!0).length===a.containerState.size?e(l):n(l)}}function mk(t){t.exit(this.containerState.type)}function pk(t,e,n){const a=this;return at(t,s,"listItemPrefixWhitespace",a.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function s(l){const u=a.events[a.events.length-1];return!$e(l)&&u&&u[1].type==="listItemPrefixWhitespace"?e(l):n(l)}}const Cx={name:"setextUnderline",resolveTo:gk,tokenize:yk};function gk(t,e){let n=t.length,a,s,l;for(;n--;)if(t[n][0]==="enter"){if(t[n][1].type==="content"){a=n;break}t[n][1].type==="paragraph"&&(s=n)}else t[n][1].type==="content"&&t.splice(n,1),!l&&t[n][1].type==="definition"&&(l=n);const u={type:"setextHeading",start:{...t[a][1].start},end:{...t[t.length-1][1].end}};return t[s][1].type="setextHeadingText",l?(t.splice(s,0,["enter",u,e]),t.splice(l+1,0,["exit",t[a][1],e]),t[a][1].end={...t[l][1].end}):t[a][1]=u,t.push(["exit",u,e]),t}function yk(t,e,n){const a=this;let s;return l;function l(f){let p=a.events.length,b;for(;p--;)if(a.events[p][1].type!=="lineEnding"&&a.events[p][1].type!=="linePrefix"&&a.events[p][1].type!=="content"){b=a.events[p][1].type==="paragraph";break}return!a.parser.lazy[a.now().line]&&(a.interrupt||b)?(t.enter("setextHeadingLine"),s=f,u(f)):n(f)}function u(f){return t.enter("setextHeadingLineSequence"),d(f)}function d(f){return f===s?(t.consume(f),d):(t.exit("setextHeadingLineSequence"),$e(f)?at(t,h,"lineSuffix")(f):h(f))}function h(f){return f===null||Re(f)?(t.exit("setextHeadingLine"),e(f)):n(f)}}const xk={tokenize:vk};function vk(t){const e=this,n=t.attempt(vu,a,t.attempt(this.parser.constructs.flowInitial,s,at(t,t.attempt(this.parser.constructs.flow,s,t.attempt(wR,s)),"linePrefix")));return n;function a(l){if(l===null){t.consume(l);return}return t.enter("lineEndingBlank"),t.consume(l),t.exit("lineEndingBlank"),e.currentConstruct=void 0,n}function s(l){if(l===null){t.consume(l);return}return t.enter("lineEnding"),t.consume(l),t.exit("lineEnding"),e.currentConstruct=void 0,n}}const bk={resolveAll:Qb()},Tk=Jb("string"),Sk=Jb("text");function Jb(t){return{resolveAll:Qb(t==="text"?Ck:void 0),tokenize:e};function e(n){const a=this,s=this.parser.constructs[t],l=n.attempt(s,u,d);return u;function u(p){return f(p)?l(p):d(p)}function d(p){if(p===null){n.consume(p);return}return n.enter("data"),n.consume(p),h}function h(p){return f(p)?(n.exit("data"),l(p)):(n.consume(p),h)}function f(p){if(p===null)return!0;const b=s[p];let T=-1;if(b)for(;++T<b.length;){const S=b[T];if(!S.previous||S.previous.call(a,a.previous))return!0}return!1}}}function Qb(t){return e;function e(n,a){let s=-1,l;for(;++s<=n.length;)l===void 0?n[s]&&n[s][1].type==="data"&&(l=s,s++):(!n[s]||n[s][1].type!=="data")&&(s!==l+2&&(n[l][1].end=n[s-1][1].end,n.splice(l+2,s-l-2),s=l+2),l=void 0);return t?t(n,a):n}}function Ck(t,e){let n=0;for(;++n<=t.length;)if((n===t.length||t[n][1].type==="lineEnding")&&t[n-1][1].type==="data"){const a=t[n-1][1],s=e.sliceStream(a);let l=s.length,u=-1,d=0,h;for(;l--;){const f=s[l];if(typeof f=="string"){for(u=f.length;f.charCodeAt(u-1)===32;)d++,u--;if(u)break;u=-1}else if(f===-2)h=!0,d++;else if(f!==-1){l++;break}}if(e._contentTypeTextTrailing&&n===t.length&&(d=0),d){const f={type:n===t.length||h||d<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:l?u:a.start._bufferIndex+u,_index:a.start._index+l,line:a.end.line,column:a.end.column-d,offset:a.end.offset-d},end:{...a.end}};a.end={...f.start},a.start.offset===a.end.offset?Object.assign(a,f):(t.splice(n,0,["enter",f,e],["exit",f,e]),n+=2)}n++}return t}const wk={42:tn,43:tn,45:tn,48:tn,49:tn,50:tn,51:tn,52:tn,53:tn,54:tn,55:tn,56:tn,57:tn,62:Hb},Ek={91:DR},Ak={[-2]:Kd,[-1]:Kd,32:Kd},Mk={35:VR,42:Jl,45:[Cx,Jl],60:OR,61:Cx,95:Jl,96:Tx,126:Tx},Nk={38:qb,92:Gb},Dk={[-5]:$d,[-4]:$d,[-3]:$d,33:ik,38:qb,42:Lf,60:[aR,YR],91:ak,92:[IR,Gb],93:xh,95:Lf,96:xR},Rk={null:[Lf,bk]},kk={null:[42,95]},_k={null:[]},Ik=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:kk,contentInitial:Ek,disable:_k,document:wk,flow:Mk,flowInitial:Ak,insideSpan:Rk,string:Nk,text:Dk},Symbol.toStringTag,{value:"Module"}));function Pk(t,e,n){let a={_bufferIndex:-1,_index:0,line:n&&n.line||1,column:n&&n.column||1,offset:n&&n.offset||0};const s={},l=[];let u=[],d=[];const h={attempt:Z(K),check:Z(z),consume:O,enter:P,exit:G,interrupt:Z(z,{interrupt:!0})},f={code:null,containerState:{},defineSkip:D,events:[],now:M,parser:t,previous:null,sliceSerialize:T,sliceStream:S,write:b};let p=e.tokenize.call(f,h);return e.resolveAll&&l.push(e),f;function b(ae){return u=Pn(u,ae),k(),u[u.length-1]!==null?[]:(re(e,0),f.events=yh(l,f.events,f),f.events)}function T(ae,ue){return Lk(S(ae),ue)}function S(ae){return Vk(u,ae)}function M(){const{_bufferIndex:ae,_index:ue,line:ye,column:se,offset:me}=a;return{_bufferIndex:ae,_index:ue,line:ye,column:se,offset:me}}function D(ae){s[ae.line]=ae.column,ge()}function k(){let ae;for(;a._index<u.length;){const ue=u[a._index];if(typeof ue=="string")for(ae=a._index,a._bufferIndex<0&&(a._bufferIndex=0);a._index===ae&&a._bufferIndex<ue.length;)_(ue.charCodeAt(a._bufferIndex));else _(ue)}}function _(ae){p=p(ae)}function O(ae){Re(ae)?(a.line++,a.column=1,a.offset+=ae===-3?2:1,ge()):ae!==-1&&(a.column++,a.offset++),a._bufferIndex<0?a._index++:(a._bufferIndex++,a._bufferIndex===u[a._index].length&&(a._bufferIndex=-1,a._index++)),f.previous=ae}function P(ae,ue){const ye=ue||{};return ye.type=ae,ye.start=M(),f.events.push(["enter",ye,f]),d.push(ye),ye}function G(ae){const ue=d.pop();return ue.end=M(),f.events.push(["exit",ue,f]),ue}function K(ae,ue){re(ae,ue.from)}function z(ae,ue){ue.restore()}function Z(ae,ue){return ye;function ye(se,me,q){let L,N,R,C;return Array.isArray(se)?U(se):"tokenize"in se?U([se]):V(se);function V(de){return J;function J(he){const ve=he!==null&&de[he],Ae=he!==null&&de.null,Me=[...Array.isArray(ve)?ve:ve?[ve]:[],...Array.isArray(Ae)?Ae:Ae?[Ae]:[]];return U(Me)(he)}}function U(de){return L=de,N=0,de.length===0?q:A(de[N])}function A(de){return J;function J(he){return C=pe(),R=de,de.partial||(f.currentConstruct=de),de.name&&f.parser.constructs.disable.null.includes(de.name)?ce():de.tokenize.call(ue?Object.assign(Object.create(f),ue):f,h,Q,ce)(he)}}function Q(de){return ae(R,C),me}function ce(de){return C.restore(),++N<L.length?A(L[N]):q}}}function re(ae,ue){ae.resolveAll&&!l.includes(ae)&&l.push(ae),ae.resolve&&ii(f.events,ue,f.events.length-ue,ae.resolve(f.events.slice(ue),f)),ae.resolveTo&&(f.events=ae.resolveTo(f.events,f))}function pe(){const ae=M(),ue=f.previous,ye=f.currentConstruct,se=f.events.length,me=Array.from(d);return{from:se,restore:q};function q(){a=ae,f.previous=ue,f.currentConstruct=ye,f.events.length=se,d=me,ge()}}function ge(){a.line in s&&a.column<2&&(a.column=s[a.line],a.offset+=s[a.line]-1)}}function Vk(t,e){const n=e.start._index,a=e.start._bufferIndex,s=e.end._index,l=e.end._bufferIndex;let u;if(n===s)u=[t[n].slice(a,l)];else{if(u=t.slice(n,s),a>-1){const d=u[0];typeof d=="string"?u[0]=d.slice(a):u.shift()}l>0&&u.push(t[s].slice(0,l))}return u}function Lk(t,e){let n=-1;const a=[];let s;for(;++n<t.length;){const l=t[n];let u;if(typeof l=="string")u=l;else switch(l){case-5:{u="\r";break}case-4:{u=`
`;break}case-3:{u=`\r
`;break}case-2:{u=e?" ":"	";break}case-1:{if(!e&&s)continue;u=" ";break}default:u=String.fromCharCode(l)}s=l===-2,a.push(u)}return a.join("")}function Bk(t){const a={constructs:GD([Ik,...(t||{}).extensions||[]]),content:s(ZD),defined:[],document:s(eR),flow:s(xk),lazy:{},string:s(Tk),text:s(Sk)};return a;function s(l){return u;function u(d){return Pk(a,l,d)}}}function jk(t){for(;!Yb(t););return t}const wx=/[\0\t\n\r]/g;function Ok(){let t=1,e="",n=!0,a;return s;function s(l,u,d){const h=[];let f,p,b,T,S;for(l=e+(typeof l=="string"?l.toString():new TextDecoder(u||void 0).decode(l)),b=0,e="",n&&(l.charCodeAt(0)===65279&&b++,n=void 0);b<l.length;){if(wx.lastIndex=b,f=wx.exec(l),T=f&&f.index!==void 0?f.index:l.length,S=l.charCodeAt(T),!f){e=l.slice(b);break}if(S===10&&b===T&&a)h.push(-3),a=void 0;else switch(a&&(h.push(-5),a=void 0),b<T&&(h.push(l.slice(b,T)),t+=T-b),S){case 0:{h.push(65533),t++;break}case 9:{for(p=Math.ceil(t/4)*4,h.push(-2);t++<p;)h.push(-1);break}case 10:{h.push(-4),t=1;break}default:a=!0,t=1}b=T+1}return d&&(a&&h.push(-5),e&&h.push(e),h.push(null)),h}}const Uk=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function zk(t){return t.replace(Uk,Fk)}function Fk(t,e,n){if(e)return e;if(n.charCodeAt(0)===35){const s=n.charCodeAt(1),l=s===120||s===88;return Fb(n.slice(l?2:1),l?16:10)}return gh(n)||t}const Zb={}.hasOwnProperty;function Hk(t,e,n){return typeof e!="string"&&(n=e,e=void 0),Gk(n)(jk(Bk(n).document().write(Ok()(t,e,!0))))}function Gk(t){const e={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:l(yn),autolinkProtocol:pe,autolinkEmail:pe,atxHeading:l(He),blockQuote:l(Ae),characterEscape:pe,characterReference:pe,codeFenced:l(Me),codeFencedFenceInfo:u,codeFencedFenceMeta:u,codeIndented:l(Me,u),codeText:l(Pe,u),codeTextData:pe,data:pe,codeFlowValue:pe,definition:l(Fe),definitionDestinationString:u,definitionLabelString:u,definitionTitleString:u,emphasis:l(st),hardBreakEscape:l(Mt),hardBreakTrailing:l(Mt),htmlFlow:l(nt,u),htmlFlowData:pe,htmlText:l(nt,u),htmlTextData:pe,image:l(on),label:u,link:l(yn),listItem:l(Hn),listItemValue:T,listOrdered:l(Ln,b),listUnordered:l(Ln),paragraph:l(La),reference:A,referenceString:u,resourceDestinationString:u,resourceTitleString:u,setextHeading:l(He),strong:l(Ir),thematicBreak:l(ja)},exit:{atxHeading:h(),atxHeadingSequence:K,autolink:h(),autolinkEmail:ve,autolinkProtocol:he,blockQuote:h(),characterEscapeValue:ge,characterReferenceMarkerHexadecimal:ce,characterReferenceMarkerNumeric:ce,characterReferenceValue:de,characterReference:J,codeFenced:h(k),codeFencedFence:D,codeFencedFenceInfo:S,codeFencedFenceMeta:M,codeFlowValue:ge,codeIndented:h(_),codeText:h(me),codeTextData:ge,data:ge,definition:h(),definitionDestinationString:G,definitionLabelString:O,definitionTitleString:P,emphasis:h(),hardBreakEscape:h(ue),hardBreakTrailing:h(ue),htmlFlow:h(ye),htmlFlowData:ge,htmlText:h(se),htmlTextData:ge,image:h(L),label:R,labelText:N,lineEnding:ae,link:h(q),listItem:h(),listOrdered:h(),listUnordered:h(),paragraph:h(),referenceString:Q,resourceDestinationString:C,resourceTitleString:V,resource:U,setextHeading:h(re),setextHeadingLineSequence:Z,setextHeadingText:z,strong:h(),thematicBreak:h()}};Wb(e,(t||{}).mdastExtensions||[]);const n={};return a;function a(W){let oe={type:"root",children:[]};const Se={stack:[oe],tokenStack:[],config:e,enter:d,exit:f,buffer:u,resume:p,data:n},Ce=[];let qe=-1;for(;++qe<W.length;)if(W[qe][1].type==="listOrdered"||W[qe][1].type==="listUnordered")if(W[qe][0]==="enter")Ce.push(qe);else{const Yt=Ce.pop();qe=s(W,Yt,qe)}for(qe=-1;++qe<W.length;){const Yt=e[W[qe][0]];Zb.call(Yt,W[qe][1].type)&&Yt[W[qe][1].type].call(Object.assign({sliceSerialize:W[qe][2].sliceSerialize},Se),W[qe][1])}if(Se.tokenStack.length>0){const Yt=Se.tokenStack[Se.tokenStack.length-1];(Yt[1]||Ex).call(Se,void 0,Yt[0])}for(oe.position={start:Yi(W.length>0?W[0][1].start:{line:1,column:1,offset:0}),end:Yi(W.length>0?W[W.length-2][1].end:{line:1,column:1,offset:0})},qe=-1;++qe<e.transforms.length;)oe=e.transforms[qe](oe)||oe;return oe}function s(W,oe,Se){let Ce=oe-1,qe=-1,Yt=!1,xn,Ut,vn,ot;for(;++Ce<=Se;){const yt=W[Ce];switch(yt[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{yt[0]==="enter"?qe++:qe--,ot=void 0;break}case"lineEndingBlank":{yt[0]==="enter"&&(xn&&!ot&&!qe&&!vn&&(vn=Ce),ot=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:ot=void 0}if(!qe&&yt[0]==="enter"&&yt[1].type==="listItemPrefix"||qe===-1&&yt[0]==="exit"&&(yt[1].type==="listUnordered"||yt[1].type==="listOrdered")){if(xn){let Kt=Ce;for(Ut=void 0;Kt--;){const X=W[Kt];if(X[1].type==="lineEnding"||X[1].type==="lineEndingBlank"){if(X[0]==="exit")continue;Ut&&(W[Ut][1].type="lineEndingBlank",Yt=!0),X[1].type="lineEnding",Ut=Kt}else if(!(X[1].type==="linePrefix"||X[1].type==="blockQuotePrefix"||X[1].type==="blockQuotePrefixWhitespace"||X[1].type==="blockQuoteMarker"||X[1].type==="listItemIndent"))break}vn&&(!Ut||vn<Ut)&&(xn._spread=!0),xn.end=Object.assign({},Ut?W[Ut][1].start:yt[1].end),W.splice(Ut||Ce,0,["exit",xn,yt[2]]),Ce++,Se++}if(yt[1].type==="listItemPrefix"){const Kt={type:"listItem",_spread:!1,start:Object.assign({},yt[1].start),end:void 0};xn=Kt,W.splice(Ce,0,["enter",Kt,yt[2]]),Ce++,Se++,vn=void 0,ot=!0}}}return W[oe][1]._spread=Yt,Se}function l(W,oe){return Se;function Se(Ce){d.call(this,W(Ce),Ce),oe&&oe.call(this,Ce)}}function u(){this.stack.push({type:"fragment",children:[]})}function d(W,oe,Se){this.stack[this.stack.length-1].children.push(W),this.stack.push(W),this.tokenStack.push([oe,Se||void 0]),W.position={start:Yi(oe.start),end:void 0}}function h(W){return oe;function oe(Se){W&&W.call(this,Se),f.call(this,Se)}}function f(W,oe){const Se=this.stack.pop(),Ce=this.tokenStack.pop();if(Ce)Ce[0].type!==W.type&&(oe?oe.call(this,W,Ce[0]):(Ce[1]||Ex).call(this,W,Ce[0]));else throw new Error("Cannot close `"+W.type+"` ("+$s({start:W.start,end:W.end})+"): it’s not open");Se.position.end=Yi(W.end)}function p(){return FD(this.stack.pop())}function b(){this.data.expectingFirstListItemValue=!0}function T(W){if(this.data.expectingFirstListItemValue){const oe=this.stack[this.stack.length-2];oe.start=Number.parseInt(this.sliceSerialize(W),10),this.data.expectingFirstListItemValue=void 0}}function S(){const W=this.resume(),oe=this.stack[this.stack.length-1];oe.lang=W}function M(){const W=this.resume(),oe=this.stack[this.stack.length-1];oe.meta=W}function D(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function k(){const W=this.resume(),oe=this.stack[this.stack.length-1];oe.value=W.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function _(){const W=this.resume(),oe=this.stack[this.stack.length-1];oe.value=W.replace(/(\r?\n|\r)$/g,"")}function O(W){const oe=this.resume(),Se=this.stack[this.stack.length-1];Se.label=oe,Se.identifier=Aa(this.sliceSerialize(W)).toLowerCase()}function P(){const W=this.resume(),oe=this.stack[this.stack.length-1];oe.title=W}function G(){const W=this.resume(),oe=this.stack[this.stack.length-1];oe.url=W}function K(W){const oe=this.stack[this.stack.length-1];if(!oe.depth){const Se=this.sliceSerialize(W).length;oe.depth=Se}}function z(){this.data.setextHeadingSlurpLineEnding=!0}function Z(W){const oe=this.stack[this.stack.length-1];oe.depth=this.sliceSerialize(W).codePointAt(0)===61?1:2}function re(){this.data.setextHeadingSlurpLineEnding=void 0}function pe(W){const Se=this.stack[this.stack.length-1].children;let Ce=Se[Se.length-1];(!Ce||Ce.type!=="text")&&(Ce=Ba(),Ce.position={start:Yi(W.start),end:void 0},Se.push(Ce)),this.stack.push(Ce)}function ge(W){const oe=this.stack.pop();oe.value+=this.sliceSerialize(W),oe.position.end=Yi(W.end)}function ae(W){const oe=this.stack[this.stack.length-1];if(this.data.atHardBreak){const Se=oe.children[oe.children.length-1];Se.position.end=Yi(W.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&e.canContainEols.includes(oe.type)&&(pe.call(this,W),ge.call(this,W))}function ue(){this.data.atHardBreak=!0}function ye(){const W=this.resume(),oe=this.stack[this.stack.length-1];oe.value=W}function se(){const W=this.resume(),oe=this.stack[this.stack.length-1];oe.value=W}function me(){const W=this.resume(),oe=this.stack[this.stack.length-1];oe.value=W}function q(){const W=this.stack[this.stack.length-1];if(this.data.inReference){const oe=this.data.referenceType||"shortcut";W.type+="Reference",W.referenceType=oe,delete W.url,delete W.title}else delete W.identifier,delete W.label;this.data.referenceType=void 0}function L(){const W=this.stack[this.stack.length-1];if(this.data.inReference){const oe=this.data.referenceType||"shortcut";W.type+="Reference",W.referenceType=oe,delete W.url,delete W.title}else delete W.identifier,delete W.label;this.data.referenceType=void 0}function N(W){const oe=this.sliceSerialize(W),Se=this.stack[this.stack.length-2];Se.label=zk(oe),Se.identifier=Aa(oe).toLowerCase()}function R(){const W=this.stack[this.stack.length-1],oe=this.resume(),Se=this.stack[this.stack.length-1];if(this.data.inReference=!0,Se.type==="link"){const Ce=W.children;Se.children=Ce}else Se.alt=oe}function C(){const W=this.resume(),oe=this.stack[this.stack.length-1];oe.url=W}function V(){const W=this.resume(),oe=this.stack[this.stack.length-1];oe.title=W}function U(){this.data.inReference=void 0}function A(){this.data.referenceType="collapsed"}function Q(W){const oe=this.resume(),Se=this.stack[this.stack.length-1];Se.label=oe,Se.identifier=Aa(this.sliceSerialize(W)).toLowerCase(),this.data.referenceType="full"}function ce(W){this.data.characterReferenceType=W.type}function de(W){const oe=this.sliceSerialize(W),Se=this.data.characterReferenceType;let Ce;Se?(Ce=Fb(oe,Se==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):Ce=gh(oe);const qe=this.stack[this.stack.length-1];qe.value+=Ce}function J(W){const oe=this.stack.pop();oe.position.end=Yi(W.end)}function he(W){ge.call(this,W);const oe=this.stack[this.stack.length-1];oe.url=this.sliceSerialize(W)}function ve(W){ge.call(this,W);const oe=this.stack[this.stack.length-1];oe.url="mailto:"+this.sliceSerialize(W)}function Ae(){return{type:"blockquote",children:[]}}function Me(){return{type:"code",lang:null,meta:null,value:""}}function Pe(){return{type:"inlineCode",value:""}}function Fe(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function st(){return{type:"emphasis",children:[]}}function He(){return{type:"heading",depth:0,children:[]}}function Mt(){return{type:"break"}}function nt(){return{type:"html",value:""}}function on(){return{type:"image",title:null,url:"",alt:null}}function yn(){return{type:"link",title:null,url:"",children:[]}}function Ln(W){return{type:"list",ordered:W.type==="listOrdered",start:null,spread:W._spread,children:[]}}function Hn(W){return{type:"listItem",spread:W._spread,checked:null,children:[]}}function La(){return{type:"paragraph",children:[]}}function Ir(){return{type:"strong",children:[]}}function Ba(){return{type:"text",value:""}}function ja(){return{type:"thematicBreak"}}}function Yi(t){return{line:t.line,column:t.column,offset:t.offset}}function Wb(t,e){let n=-1;for(;++n<e.length;){const a=e[n];Array.isArray(a)?Wb(t,a):qk(t,a)}}function qk(t,e){let n;for(n in e)if(Zb.call(e,n))switch(n){case"canContainEols":{const a=e[n];a&&t[n].push(...a);break}case"transforms":{const a=e[n];a&&t[n].push(...a);break}case"enter":case"exit":{const a=e[n];a&&Object.assign(t[n],a);break}}}function Ex(t,e){throw t?new Error("Cannot close `"+t.type+"` ("+$s({start:t.start,end:t.end})+"): a different token (`"+e.type+"`, "+$s({start:e.start,end:e.end})+") is open"):new Error("Cannot close document, a token (`"+e.type+"`, "+$s({start:e.start,end:e.end})+") is still open")}function Yk(t){const e=this;e.parser=n;function n(a){return Hk(a,{...e.data("settings"),...t,extensions:e.data("micromarkExtensions")||[],mdastExtensions:e.data("fromMarkdownExtensions")||[]})}}function Kk(t,e){const n={type:"element",tagName:"blockquote",properties:{},children:t.wrap(t.all(e),!0)};return t.patch(e,n),t.applyData(e,n)}function $k(t,e){const n={type:"element",tagName:"br",properties:{},children:[]};return t.patch(e,n),[t.applyData(e,n),{type:"text",value:`
`}]}function Xk(t,e){const n=e.value?e.value+`
`:"",a={};e.lang&&(a.className=["language-"+e.lang]);let s={type:"element",tagName:"code",properties:a,children:[{type:"text",value:n}]};return e.meta&&(s.data={meta:e.meta}),t.patch(e,s),s=t.applyData(e,s),s={type:"element",tagName:"pre",properties:{},children:[s]},t.patch(e,s),s}function Jk(t,e){const n={type:"element",tagName:"del",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function Qk(t,e){const n={type:"element",tagName:"em",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function Zk(t,e){const n=typeof t.options.clobberPrefix=="string"?t.options.clobberPrefix:"user-content-",a=String(e.identifier).toUpperCase(),s=_a(a.toLowerCase()),l=t.footnoteOrder.indexOf(a);let u,d=t.footnoteCounts.get(a);d===void 0?(d=0,t.footnoteOrder.push(a),u=t.footnoteOrder.length):u=l+1,d+=1,t.footnoteCounts.set(a,d);const h={type:"element",tagName:"a",properties:{href:"#"+n+"fn-"+s,id:n+"fnref-"+s+(d>1?"-"+d:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(u)}]};t.patch(e,h);const f={type:"element",tagName:"sup",properties:{},children:[h]};return t.patch(e,f),t.applyData(e,f)}function Wk(t,e){const n={type:"element",tagName:"h"+e.depth,properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function e_(t,e){if(t.options.allowDangerousHtml){const n={type:"raw",value:e.value};return t.patch(e,n),t.applyData(e,n)}}function eT(t,e){const n=e.referenceType;let a="]";if(n==="collapsed"?a+="[]":n==="full"&&(a+="["+(e.label||e.identifier)+"]"),e.type==="imageReference")return[{type:"text",value:"!["+e.alt+a}];const s=t.all(e),l=s[0];l&&l.type==="text"?l.value="["+l.value:s.unshift({type:"text",value:"["});const u=s[s.length-1];return u&&u.type==="text"?u.value+=a:s.push({type:"text",value:a}),s}function t_(t,e){const n=String(e.identifier).toUpperCase(),a=t.definitionById.get(n);if(!a)return eT(t,e);const s={src:_a(a.url||""),alt:e.alt};a.title!==null&&a.title!==void 0&&(s.title=a.title);const l={type:"element",tagName:"img",properties:s,children:[]};return t.patch(e,l),t.applyData(e,l)}function n_(t,e){const n={src:_a(e.url)};e.alt!==null&&e.alt!==void 0&&(n.alt=e.alt),e.title!==null&&e.title!==void 0&&(n.title=e.title);const a={type:"element",tagName:"img",properties:n,children:[]};return t.patch(e,a),t.applyData(e,a)}function i_(t,e){const n={type:"text",value:e.value.replace(/\r?\n|\r/g," ")};t.patch(e,n);const a={type:"element",tagName:"code",properties:{},children:[n]};return t.patch(e,a),t.applyData(e,a)}function r_(t,e){const n=String(e.identifier).toUpperCase(),a=t.definitionById.get(n);if(!a)return eT(t,e);const s={href:_a(a.url||"")};a.title!==null&&a.title!==void 0&&(s.title=a.title);const l={type:"element",tagName:"a",properties:s,children:t.all(e)};return t.patch(e,l),t.applyData(e,l)}function a_(t,e){const n={href:_a(e.url)};e.title!==null&&e.title!==void 0&&(n.title=e.title);const a={type:"element",tagName:"a",properties:n,children:t.all(e)};return t.patch(e,a),t.applyData(e,a)}function s_(t,e,n){const a=t.all(e),s=n?o_(n):tT(e),l={},u=[];if(typeof e.checked=="boolean"){const p=a[0];let b;p&&p.type==="element"&&p.tagName==="p"?b=p:(b={type:"element",tagName:"p",properties:{},children:[]},a.unshift(b)),b.children.length>0&&b.children.unshift({type:"text",value:" "}),b.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:e.checked,disabled:!0},children:[]}),l.className=["task-list-item"]}let d=-1;for(;++d<a.length;){const p=a[d];(s||d!==0||p.type!=="element"||p.tagName!=="p")&&u.push({type:"text",value:`
`}),p.type==="element"&&p.tagName==="p"&&!s?u.push(...p.children):u.push(p)}const h=a[a.length-1];h&&(s||h.type!=="element"||h.tagName!=="p")&&u.push({type:"text",value:`
`});const f={type:"element",tagName:"li",properties:l,children:u};return t.patch(e,f),t.applyData(e,f)}function o_(t){let e=!1;if(t.type==="list"){e=t.spread||!1;const n=t.children;let a=-1;for(;!e&&++a<n.length;)e=tT(n[a])}return e}function tT(t){const e=t.spread;return e??t.children.length>1}function l_(t,e){const n={},a=t.all(e);let s=-1;for(typeof e.start=="number"&&e.start!==1&&(n.start=e.start);++s<a.length;){const u=a[s];if(u.type==="element"&&u.tagName==="li"&&u.properties&&Array.isArray(u.properties.className)&&u.properties.className.includes("task-list-item")){n.className=["contains-task-list"];break}}const l={type:"element",tagName:e.ordered?"ol":"ul",properties:n,children:t.wrap(a,!0)};return t.patch(e,l),t.applyData(e,l)}function u_(t,e){const n={type:"element",tagName:"p",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function c_(t,e){const n={type:"root",children:t.wrap(t.all(e))};return t.patch(e,n),t.applyData(e,n)}function d_(t,e){const n={type:"element",tagName:"strong",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function f_(t,e){const n=t.all(e),a=n.shift(),s=[];if(a){const u={type:"element",tagName:"thead",properties:{},children:t.wrap([a],!0)};t.patch(e.children[0],u),s.push(u)}if(n.length>0){const u={type:"element",tagName:"tbody",properties:{},children:t.wrap(n,!0)},d=fh(e.children[1]),h=Vb(e.children[e.children.length-1]);d&&h&&(u.position={start:d,end:h}),s.push(u)}const l={type:"element",tagName:"table",properties:{},children:t.wrap(s,!0)};return t.patch(e,l),t.applyData(e,l)}function h_(t,e,n){const a=n?n.children:void 0,l=(a?a.indexOf(e):1)===0?"th":"td",u=n&&n.type==="table"?n.align:void 0,d=u?u.length:e.children.length;let h=-1;const f=[];for(;++h<d;){const b=e.children[h],T={},S=u?u[h]:void 0;S&&(T.align=S);let M={type:"element",tagName:l,properties:T,children:[]};b&&(M.children=t.all(b),t.patch(b,M),M=t.applyData(b,M)),f.push(M)}const p={type:"element",tagName:"tr",properties:{},children:t.wrap(f,!0)};return t.patch(e,p),t.applyData(e,p)}function m_(t,e){const n={type:"element",tagName:"td",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}const Ax=9,Mx=32;function p_(t){const e=String(t),n=/\r?\n|\r/g;let a=n.exec(e),s=0;const l=[];for(;a;)l.push(Nx(e.slice(s,a.index),s>0,!0),a[0]),s=a.index+a[0].length,a=n.exec(e);return l.push(Nx(e.slice(s),s>0,!1)),l.join("")}function Nx(t,e,n){let a=0,s=t.length;if(e){let l=t.codePointAt(a);for(;l===Ax||l===Mx;)a++,l=t.codePointAt(a)}if(n){let l=t.codePointAt(s-1);for(;l===Ax||l===Mx;)s--,l=t.codePointAt(s-1)}return s>a?t.slice(a,s):""}function g_(t,e){const n={type:"text",value:p_(String(e.value))};return t.patch(e,n),t.applyData(e,n)}function y_(t,e){const n={type:"element",tagName:"hr",properties:{},children:[]};return t.patch(e,n),t.applyData(e,n)}const x_={blockquote:Kk,break:$k,code:Xk,delete:Jk,emphasis:Qk,footnoteReference:Zk,heading:Wk,html:e_,imageReference:t_,image:n_,inlineCode:i_,linkReference:r_,link:a_,listItem:s_,list:l_,paragraph:u_,root:c_,strong:d_,table:f_,tableCell:m_,tableRow:h_,text:g_,thematicBreak:y_,toml:Ol,yaml:Ol,definition:Ol,footnoteDefinition:Ol};function Ol(){}const nT=-1,bu=0,Js=1,uu=2,vh=3,bh=4,Th=5,Sh=6,iT=7,rT=8,Dx=typeof self=="object"?self:globalThis,v_=(t,e)=>{const n=(s,l)=>(t.set(l,s),s),a=s=>{if(t.has(s))return t.get(s);const[l,u]=e[s];switch(l){case bu:case nT:return n(u,s);case Js:{const d=n([],s);for(const h of u)d.push(a(h));return d}case uu:{const d=n({},s);for(const[h,f]of u)d[a(h)]=a(f);return d}case vh:return n(new Date(u),s);case bh:{const{source:d,flags:h}=u;return n(new RegExp(d,h),s)}case Th:{const d=n(new Map,s);for(const[h,f]of u)d.set(a(h),a(f));return d}case Sh:{const d=n(new Set,s);for(const h of u)d.add(a(h));return d}case iT:{const{name:d,message:h}=u;return n(new Dx[d](h),s)}case rT:return n(BigInt(u),s);case"BigInt":return n(Object(BigInt(u)),s);case"ArrayBuffer":return n(new Uint8Array(u).buffer,u);case"DataView":{const{buffer:d}=new Uint8Array(u);return n(new DataView(d),u)}}return n(new Dx[l](u),s)};return a},Rx=t=>v_(new Map,t)(0),xa="",{toString:b_}={},{keys:T_}=Object,Hs=t=>{const e=typeof t;if(e!=="object"||!t)return[bu,e];const n=b_.call(t).slice(8,-1);switch(n){case"Array":return[Js,xa];case"Object":return[uu,xa];case"Date":return[vh,xa];case"RegExp":return[bh,xa];case"Map":return[Th,xa];case"Set":return[Sh,xa];case"DataView":return[Js,n]}return n.includes("Array")?[Js,n]:n.includes("Error")?[iT,n]:[uu,n]},Ul=([t,e])=>t===bu&&(e==="function"||e==="symbol"),S_=(t,e,n,a)=>{const s=(u,d)=>{const h=a.push(u)-1;return n.set(d,h),h},l=u=>{if(n.has(u))return n.get(u);let[d,h]=Hs(u);switch(d){case bu:{let p=u;switch(h){case"bigint":d=rT,p=u.toString();break;case"function":case"symbol":if(t)throw new TypeError("unable to serialize "+h);p=null;break;case"undefined":return s([nT],u)}return s([d,p],u)}case Js:{if(h){let T=u;return h==="DataView"?T=new Uint8Array(u.buffer):h==="ArrayBuffer"&&(T=new Uint8Array(u)),s([h,[...T]],u)}const p=[],b=s([d,p],u);for(const T of u)p.push(l(T));return b}case uu:{if(h)switch(h){case"BigInt":return s([h,u.toString()],u);case"Boolean":case"Number":case"String":return s([h,u.valueOf()],u)}if(e&&"toJSON"in u)return l(u.toJSON());const p=[],b=s([d,p],u);for(const T of T_(u))(t||!Ul(Hs(u[T])))&&p.push([l(T),l(u[T])]);return b}case vh:return s([d,u.toISOString()],u);case bh:{const{source:p,flags:b}=u;return s([d,{source:p,flags:b}],u)}case Th:{const p=[],b=s([d,p],u);for(const[T,S]of u)(t||!(Ul(Hs(T))||Ul(Hs(S))))&&p.push([l(T),l(S)]);return b}case Sh:{const p=[],b=s([d,p],u);for(const T of u)(t||!Ul(Hs(T)))&&p.push(l(T));return b}}const{message:f}=u;return s([d,{name:h,message:f}],u)};return l},kx=(t,{json:e,lossy:n}={})=>{const a=[];return S_(!(e||n),!!e,new Map,a)(t),a},cu=typeof structuredClone=="function"?(t,e)=>e&&("json"in e||"lossy"in e)?Rx(kx(t,e)):structuredClone(t):(t,e)=>Rx(kx(t,e));function C_(t,e){const n=[{type:"text",value:"↩"}];return e>1&&n.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(e)}]}),n}function w_(t,e){return"Back to reference "+(t+1)+(e>1?"-"+e:"")}function E_(t){const e=typeof t.options.clobberPrefix=="string"?t.options.clobberPrefix:"user-content-",n=t.options.footnoteBackContent||C_,a=t.options.footnoteBackLabel||w_,s=t.options.footnoteLabel||"Footnotes",l=t.options.footnoteLabelTagName||"h2",u=t.options.footnoteLabelProperties||{className:["sr-only"]},d=[];let h=-1;for(;++h<t.footnoteOrder.length;){const f=t.footnoteById.get(t.footnoteOrder[h]);if(!f)continue;const p=t.all(f),b=String(f.identifier).toUpperCase(),T=_a(b.toLowerCase());let S=0;const M=[],D=t.footnoteCounts.get(b);for(;D!==void 0&&++S<=D;){M.length>0&&M.push({type:"text",value:" "});let O=typeof n=="string"?n:n(h,S);typeof O=="string"&&(O={type:"text",value:O}),M.push({type:"element",tagName:"a",properties:{href:"#"+e+"fnref-"+T+(S>1?"-"+S:""),dataFootnoteBackref:"",ariaLabel:typeof a=="string"?a:a(h,S),className:["data-footnote-backref"]},children:Array.isArray(O)?O:[O]})}const k=p[p.length-1];if(k&&k.type==="element"&&k.tagName==="p"){const O=k.children[k.children.length-1];O&&O.type==="text"?O.value+=" ":k.children.push({type:"text",value:" "}),k.children.push(...M)}else p.push(...M);const _={type:"element",tagName:"li",properties:{id:e+"fn-"+T},children:t.wrap(p,!0)};t.patch(f,_),d.push(_)}if(d.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:l,properties:{...cu(u),id:"footnote-label"},children:[{type:"text",value:s}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:t.wrap(d,!0)},{type:"text",value:`
`}]}}const aT=function(t){if(t==null)return D_;if(typeof t=="function")return Tu(t);if(typeof t=="object")return Array.isArray(t)?A_(t):M_(t);if(typeof t=="string")return N_(t);throw new Error("Expected function, string, or object as test")};function A_(t){const e=[];let n=-1;for(;++n<t.length;)e[n]=aT(t[n]);return Tu(a);function a(...s){let l=-1;for(;++l<e.length;)if(e[l].apply(this,s))return!0;return!1}}function M_(t){const e=t;return Tu(n);function n(a){const s=a;let l;for(l in t)if(s[l]!==e[l])return!1;return!0}}function N_(t){return Tu(e);function e(n){return n&&n.type===t}}function Tu(t){return e;function e(n,a,s){return!!(R_(n)&&t.call(this,n,typeof a=="number"?a:void 0,s||void 0))}}function D_(){return!0}function R_(t){return t!==null&&typeof t=="object"&&"type"in t}const sT=[],k_=!0,_x=!1,__="skip";function I_(t,e,n,a){let s;typeof e=="function"&&typeof n!="function"?(a=n,n=e):s=e;const l=aT(s),u=a?-1:1;d(t,void 0,[])();function d(h,f,p){const b=h&&typeof h=="object"?h:{};if(typeof b.type=="string"){const S=typeof b.tagName=="string"?b.tagName:typeof b.name=="string"?b.name:void 0;Object.defineProperty(T,"name",{value:"node ("+(h.type+(S?"<"+S+">":""))+")"})}return T;function T(){let S=sT,M,D,k;if((!e||l(h,f,p[p.length-1]||void 0))&&(S=P_(n(h,p)),S[0]===_x))return S;if("children"in h&&h.children){const _=h;if(_.children&&S[0]!==__)for(D=(a?_.children.length:-1)+u,k=p.concat(_);D>-1&&D<_.children.length;){const O=_.children[D];if(M=d(O,D,k)(),M[0]===_x)return M;D=typeof M[1]=="number"?M[1]:D+u}}return S}}}function P_(t){return Array.isArray(t)?t:typeof t=="number"?[k_,t]:t==null?sT:[t]}function oT(t,e,n,a){let s,l,u;typeof e=="function"&&typeof n!="function"?(l=void 0,u=e,s=n):(l=e,u=n,s=a),I_(t,l,d,s);function d(h,f){const p=f[f.length-1],b=p?p.children.indexOf(h):void 0;return u(h,b,p)}}const Bf={}.hasOwnProperty,V_={};function L_(t,e){const n=e||V_,a=new Map,s=new Map,l=new Map,u={...x_,...n.handlers},d={all:f,applyData:j_,definitionById:a,footnoteById:s,footnoteCounts:l,footnoteOrder:[],handlers:u,one:h,options:n,patch:B_,wrap:U_};return oT(t,function(p){if(p.type==="definition"||p.type==="footnoteDefinition"){const b=p.type==="definition"?a:s,T=String(p.identifier).toUpperCase();b.has(T)||b.set(T,p)}}),d;function h(p,b){const T=p.type,S=d.handlers[T];if(Bf.call(d.handlers,T)&&S)return S(d,p,b);if(d.options.passThrough&&d.options.passThrough.includes(T)){if("children"in p){const{children:D,...k}=p,_=cu(k);return _.children=d.all(p),_}return cu(p)}return(d.options.unknownHandler||O_)(d,p,b)}function f(p){const b=[];if("children"in p){const T=p.children;let S=-1;for(;++S<T.length;){const M=d.one(T[S],p);if(M){if(S&&T[S-1].type==="break"&&(!Array.isArray(M)&&M.type==="text"&&(M.value=Ix(M.value)),!Array.isArray(M)&&M.type==="element")){const D=M.children[0];D&&D.type==="text"&&(D.value=Ix(D.value))}Array.isArray(M)?b.push(...M):b.push(M)}}}return b}}function B_(t,e){t.position&&(e.position=bD(t))}function j_(t,e){let n=e;if(t&&t.data){const a=t.data.hName,s=t.data.hChildren,l=t.data.hProperties;if(typeof a=="string")if(n.type==="element")n.tagName=a;else{const u="children"in n?n.children:[n];n={type:"element",tagName:a,properties:{},children:u}}n.type==="element"&&l&&Object.assign(n.properties,cu(l)),"children"in n&&n.children&&s!==null&&s!==void 0&&(n.children=s)}return n}function O_(t,e){const n=e.data||{},a="value"in e&&!(Bf.call(n,"hProperties")||Bf.call(n,"hChildren"))?{type:"text",value:e.value}:{type:"element",tagName:"div",properties:{},children:t.all(e)};return t.patch(e,a),t.applyData(e,a)}function U_(t,e){const n=[];let a=-1;for(e&&n.push({type:"text",value:`
`});++a<t.length;)a&&n.push({type:"text",value:`
`}),n.push(t[a]);return e&&t.length>0&&n.push({type:"text",value:`
`}),n}function Ix(t){let e=0,n=t.charCodeAt(e);for(;n===9||n===32;)e++,n=t.charCodeAt(e);return t.slice(e)}function Px(t,e){const n=L_(t,e),a=n.one(t,void 0),s=E_(n),l=Array.isArray(a)?{type:"root",children:a}:a||{type:"root",children:[]};return s&&l.children.push({type:"text",value:`
`},s),l}function z_(t,e){return t&&"run"in t?async function(n,a){const s=Px(n,{file:a,...e});await t.run(s,a)}:function(n,a){return Px(n,{file:a,...t||e})}}function Vx(t){if(t)throw t}var Xd,Lx;function F_(){if(Lx)return Xd;Lx=1;var t=Object.prototype.hasOwnProperty,e=Object.prototype.toString,n=Object.defineProperty,a=Object.getOwnPropertyDescriptor,s=function(f){return typeof Array.isArray=="function"?Array.isArray(f):e.call(f)==="[object Array]"},l=function(f){if(!f||e.call(f)!=="[object Object]")return!1;var p=t.call(f,"constructor"),b=f.constructor&&f.constructor.prototype&&t.call(f.constructor.prototype,"isPrototypeOf");if(f.constructor&&!p&&!b)return!1;var T;for(T in f);return typeof T>"u"||t.call(f,T)},u=function(f,p){n&&p.name==="__proto__"?n(f,p.name,{enumerable:!0,configurable:!0,value:p.newValue,writable:!0}):f[p.name]=p.newValue},d=function(f,p){if(p==="__proto__")if(t.call(f,p)){if(a)return a(f,p).value}else return;return f[p]};return Xd=function h(){var f,p,b,T,S,M,D=arguments[0],k=1,_=arguments.length,O=!1;for(typeof D=="boolean"&&(O=D,D=arguments[1]||{},k=2),(D==null||typeof D!="object"&&typeof D!="function")&&(D={});k<_;++k)if(f=arguments[k],f!=null)for(p in f)b=d(D,p),T=d(f,p),D!==T&&(O&&T&&(l(T)||(S=s(T)))?(S?(S=!1,M=b&&s(b)?b:[]):M=b&&l(b)?b:{},u(D,{name:p,newValue:h(O,M,T)})):typeof T<"u"&&u(D,{name:p,newValue:T}));return D},Xd}var H_=F_();const Jd=fo(H_);function jf(t){if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)}function G_(){const t=[],e={run:n,use:a};return e;function n(...s){let l=-1;const u=s.pop();if(typeof u!="function")throw new TypeError("Expected function as last argument, not "+u);d(null,...s);function d(h,...f){const p=t[++l];let b=-1;if(h){u(h);return}for(;++b<s.length;)(f[b]===null||f[b]===void 0)&&(f[b]=s[b]);s=f,p?q_(p,d)(...f):u(null,...f)}}function a(s){if(typeof s!="function")throw new TypeError("Expected `middelware` to be a function, not "+s);return t.push(s),e}}function q_(t,e){let n;return a;function a(...u){const d=t.length>u.length;let h;d&&u.push(s);try{h=t.apply(this,u)}catch(f){const p=f;if(d&&n)throw p;return s(p)}d||(h&&h.then&&typeof h.then=="function"?h.then(l,s):h instanceof Error?s(h):l(h))}function s(u,...d){n||(n=!0,e(u,...d))}function l(u){s(null,u)}}const Zn={basename:Y_,dirname:K_,extname:$_,join:X_,sep:"/"};function Y_(t,e){if(e!==void 0&&typeof e!="string")throw new TypeError('"ext" argument must be a string');po(t);let n=0,a=-1,s=t.length,l;if(e===void 0||e.length===0||e.length>t.length){for(;s--;)if(t.codePointAt(s)===47){if(l){n=s+1;break}}else a<0&&(l=!0,a=s+1);return a<0?"":t.slice(n,a)}if(e===t)return"";let u=-1,d=e.length-1;for(;s--;)if(t.codePointAt(s)===47){if(l){n=s+1;break}}else u<0&&(l=!0,u=s+1),d>-1&&(t.codePointAt(s)===e.codePointAt(d--)?d<0&&(a=s):(d=-1,a=u));return n===a?a=u:a<0&&(a=t.length),t.slice(n,a)}function K_(t){if(po(t),t.length===0)return".";let e=-1,n=t.length,a;for(;--n;)if(t.codePointAt(n)===47){if(a){e=n;break}}else a||(a=!0);return e<0?t.codePointAt(0)===47?"/":".":e===1&&t.codePointAt(0)===47?"//":t.slice(0,e)}function $_(t){po(t);let e=t.length,n=-1,a=0,s=-1,l=0,u;for(;e--;){const d=t.codePointAt(e);if(d===47){if(u){a=e+1;break}continue}n<0&&(u=!0,n=e+1),d===46?s<0?s=e:l!==1&&(l=1):s>-1&&(l=-1)}return s<0||n<0||l===0||l===1&&s===n-1&&s===a+1?"":t.slice(s,n)}function X_(...t){let e=-1,n;for(;++e<t.length;)po(t[e]),t[e]&&(n=n===void 0?t[e]:n+"/"+t[e]);return n===void 0?".":J_(n)}function J_(t){po(t);const e=t.codePointAt(0)===47;let n=Q_(t,!e);return n.length===0&&!e&&(n="."),n.length>0&&t.codePointAt(t.length-1)===47&&(n+="/"),e?"/"+n:n}function Q_(t,e){let n="",a=0,s=-1,l=0,u=-1,d,h;for(;++u<=t.length;){if(u<t.length)d=t.codePointAt(u);else{if(d===47)break;d=47}if(d===47){if(!(s===u-1||l===1))if(s!==u-1&&l===2){if(n.length<2||a!==2||n.codePointAt(n.length-1)!==46||n.codePointAt(n.length-2)!==46){if(n.length>2){if(h=n.lastIndexOf("/"),h!==n.length-1){h<0?(n="",a=0):(n=n.slice(0,h),a=n.length-1-n.lastIndexOf("/")),s=u,l=0;continue}}else if(n.length>0){n="",a=0,s=u,l=0;continue}}e&&(n=n.length>0?n+"/..":"..",a=2)}else n.length>0?n+="/"+t.slice(s+1,u):n=t.slice(s+1,u),a=u-s-1;s=u,l=0}else d===46&&l>-1?l++:l=-1}return n}function po(t){if(typeof t!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(t))}const Z_={cwd:W_};function W_(){return"/"}function Of(t){return!!(t!==null&&typeof t=="object"&&"href"in t&&t.href&&"protocol"in t&&t.protocol&&t.auth===void 0)}function eI(t){if(typeof t=="string")t=new URL(t);else if(!Of(t)){const e=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+t+"`");throw e.code="ERR_INVALID_ARG_TYPE",e}if(t.protocol!=="file:"){const e=new TypeError("The URL must be of scheme file");throw e.code="ERR_INVALID_URL_SCHEME",e}return tI(t)}function tI(t){if(t.hostname!==""){const a=new TypeError('File URL host must be "localhost" or empty on darwin');throw a.code="ERR_INVALID_FILE_URL_HOST",a}const e=t.pathname;let n=-1;for(;++n<e.length;)if(e.codePointAt(n)===37&&e.codePointAt(n+1)===50){const a=e.codePointAt(n+2);if(a===70||a===102){const s=new TypeError("File URL path must not include encoded / characters");throw s.code="ERR_INVALID_FILE_URL_PATH",s}}return decodeURIComponent(e)}const Qd=["history","path","basename","stem","extname","dirname"];class lT{constructor(e){let n;e?Of(e)?n={path:e}:typeof e=="string"||nI(e)?n={value:e}:n=e:n={},this.cwd="cwd"in n?"":Z_.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let a=-1;for(;++a<Qd.length;){const l=Qd[a];l in n&&n[l]!==void 0&&n[l]!==null&&(this[l]=l==="history"?[...n[l]]:n[l])}let s;for(s in n)Qd.includes(s)||(this[s]=n[s])}get basename(){return typeof this.path=="string"?Zn.basename(this.path):void 0}set basename(e){Wd(e,"basename"),Zd(e,"basename"),this.path=Zn.join(this.dirname||"",e)}get dirname(){return typeof this.path=="string"?Zn.dirname(this.path):void 0}set dirname(e){Bx(this.basename,"dirname"),this.path=Zn.join(e||"",this.basename)}get extname(){return typeof this.path=="string"?Zn.extname(this.path):void 0}set extname(e){if(Zd(e,"extname"),Bx(this.dirname,"extname"),e){if(e.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(e.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=Zn.join(this.dirname,this.stem+(e||""))}get path(){return this.history[this.history.length-1]}set path(e){Of(e)&&(e=eI(e)),Wd(e,"path"),this.path!==e&&this.history.push(e)}get stem(){return typeof this.path=="string"?Zn.basename(this.path,this.extname):void 0}set stem(e){Wd(e,"stem"),Zd(e,"stem"),this.path=Zn.join(this.dirname||"",e+(this.extname||""))}fail(e,n,a){const s=this.message(e,n,a);throw s.fatal=!0,s}info(e,n,a){const s=this.message(e,n,a);return s.fatal=void 0,s}message(e,n,a){const s=new qt(e,n,a);return this.path&&(s.name=this.path+":"+s.name,s.file=this.path),s.fatal=!1,this.messages.push(s),s}toString(e){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(e||void 0).decode(this.value)}}function Zd(t,e){if(t&&t.includes(Zn.sep))throw new Error("`"+e+"` cannot be a path: did not expect `"+Zn.sep+"`")}function Wd(t,e){if(!t)throw new Error("`"+e+"` cannot be empty")}function Bx(t,e){if(!t)throw new Error("Setting `"+e+"` requires `path` to be set too")}function nI(t){return!!(t&&typeof t=="object"&&"byteLength"in t&&"byteOffset"in t)}const iI=function(t){const a=this.constructor.prototype,s=a[t],l=function(){return s.apply(l,arguments)};return Object.setPrototypeOf(l,a),l},rI={}.hasOwnProperty;class Ch extends iI{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=G_()}copy(){const e=new Ch;let n=-1;for(;++n<this.attachers.length;){const a=this.attachers[n];e.use(...a)}return e.data(Jd(!0,{},this.namespace)),e}data(e,n){return typeof e=="string"?arguments.length===2?(nf("data",this.frozen),this.namespace[e]=n,this):rI.call(this.namespace,e)&&this.namespace[e]||void 0:e?(nf("data",this.frozen),this.namespace=e,this):this.namespace}freeze(){if(this.frozen)return this;const e=this;for(;++this.freezeIndex<this.attachers.length;){const[n,...a]=this.attachers[this.freezeIndex];if(a[0]===!1)continue;a[0]===!0&&(a[0]=void 0);const s=n.call(e,...a);typeof s=="function"&&this.transformers.use(s)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(e){this.freeze();const n=zl(e),a=this.parser||this.Parser;return ef("parse",a),a(String(n),n)}process(e,n){const a=this;return this.freeze(),ef("process",this.parser||this.Parser),tf("process",this.compiler||this.Compiler),n?s(void 0,n):new Promise(s);function s(l,u){const d=zl(e),h=a.parse(d);a.run(h,d,function(p,b,T){if(p||!b||!T)return f(p);const S=b,M=a.stringify(S,T);oI(M)?T.value=M:T.result=M,f(p,T)});function f(p,b){p||!b?u(p):l?l(b):n(void 0,b)}}}processSync(e){let n=!1,a;return this.freeze(),ef("processSync",this.parser||this.Parser),tf("processSync",this.compiler||this.Compiler),this.process(e,s),Ox("processSync","process",n),a;function s(l,u){n=!0,Vx(l),a=u}}run(e,n,a){jx(e),this.freeze();const s=this.transformers;return!a&&typeof n=="function"&&(a=n,n=void 0),a?l(void 0,a):new Promise(l);function l(u,d){const h=zl(n);s.run(e,h,f);function f(p,b,T){const S=b||e;p?d(p):u?u(S):a(void 0,S,T)}}}runSync(e,n){let a=!1,s;return this.run(e,n,l),Ox("runSync","run",a),s;function l(u,d){Vx(u),s=d,a=!0}}stringify(e,n){this.freeze();const a=zl(n),s=this.compiler||this.Compiler;return tf("stringify",s),jx(e),s(e,a)}use(e,...n){const a=this.attachers,s=this.namespace;if(nf("use",this.frozen),e!=null)if(typeof e=="function")h(e,n);else if(typeof e=="object")Array.isArray(e)?d(e):u(e);else throw new TypeError("Expected usable value, not `"+e+"`");return this;function l(f){if(typeof f=="function")h(f,[]);else if(typeof f=="object")if(Array.isArray(f)){const[p,...b]=f;h(p,b)}else u(f);else throw new TypeError("Expected usable value, not `"+f+"`")}function u(f){if(!("plugins"in f)&&!("settings"in f))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");d(f.plugins),f.settings&&(s.settings=Jd(!0,s.settings,f.settings))}function d(f){let p=-1;if(f!=null)if(Array.isArray(f))for(;++p<f.length;){const b=f[p];l(b)}else throw new TypeError("Expected a list of plugins, not `"+f+"`")}function h(f,p){let b=-1,T=-1;for(;++b<a.length;)if(a[b][0]===f){T=b;break}if(T===-1)a.push([f,...p]);else if(p.length>0){let[S,...M]=p;const D=a[T][1];jf(D)&&jf(S)&&(S=Jd(!0,D,S)),a[T]=[f,S,...M]}}}}const aI=new Ch().freeze();function ef(t,e){if(typeof e!="function")throw new TypeError("Cannot `"+t+"` without `parser`")}function tf(t,e){if(typeof e!="function")throw new TypeError("Cannot `"+t+"` without `compiler`")}function nf(t,e){if(e)throw new Error("Cannot call `"+t+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function jx(t){if(!jf(t)||typeof t.type!="string")throw new TypeError("Expected node, got `"+t+"`")}function Ox(t,e,n){if(!n)throw new Error("`"+t+"` finished async. Use `"+e+"` instead")}function zl(t){return sI(t)?t:new lT(t)}function sI(t){return!!(t&&typeof t=="object"&&"message"in t&&"messages"in t)}function oI(t){return typeof t=="string"||lI(t)}function lI(t){return!!(t&&typeof t=="object"&&"byteLength"in t&&"byteOffset"in t)}const uI="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",Ux=[],zx={allowDangerousHtml:!0},cI=/^(https?|ircs?|mailto|xmpp)$/i,dI=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"className",id:"remove-classname"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function fI(t){const e=hI(t),n=mI(t);return pI(e.runSync(e.parse(n),n),t)}function hI(t){const e=t.rehypePlugins||Ux,n=t.remarkPlugins||Ux,a=t.remarkRehypeOptions?{...t.remarkRehypeOptions,...zx}:zx;return aI().use(Yk).use(n).use(z_,a).use(e)}function mI(t){const e=t.children||"",n=new lT;return typeof e=="string"&&(n.value=e),n}function pI(t,e){const n=e.allowedElements,a=e.allowElement,s=e.components,l=e.disallowedElements,u=e.skipHtml,d=e.unwrapDisallowed,h=e.urlTransform||gI;for(const p of dI)Object.hasOwn(e,p.from)&&(""+p.from+(p.to?"use `"+p.to+"` instead":"remove it")+uI+p.id,void 0);return oT(t,f),ED(t,{Fragment:g.Fragment,components:s,ignoreInvalidStyle:!0,jsx:g.jsx,jsxs:g.jsxs,passKeys:!0,passNode:!0});function f(p,b,T){if(p.type==="raw"&&T&&typeof b=="number")return u?T.children.splice(b,1):T.children[b]={type:"text",value:p.value},b;if(p.type==="element"){let S;for(S in Yd)if(Object.hasOwn(Yd,S)&&Object.hasOwn(p.properties,S)){const M=p.properties[S],D=Yd[S];(D===null||D.includes(p.tagName))&&(p.properties[S]=h(String(M||""),S,p))}}if(p.type==="element"){let S=n?!n.includes(p.tagName):l?l.includes(p.tagName):!1;if(!S&&a&&typeof b=="number"&&(S=!a(p,b,T)),S&&T&&typeof b=="number")return d&&p.children?T.children.splice(b,1,...p.children):T.children.splice(b,1),b}}}function gI(t){const e=t.indexOf(":"),n=t.indexOf("?"),a=t.indexOf("#"),s=t.indexOf("/");return e===-1||s!==-1&&e>s||n!==-1&&e>n||a!==-1&&e>a||cI.test(t.slice(0,e))?t:""}const yI=async t=>{if(!t)return{success:!1,message:"No content to copy"};try{const e=`
      <div style="color: #000000; font-family: system-ui, -apple-system, sans-serif; line-height: 1.6; background: transparent;">
        ${t.split(`
`).map(a=>{if(a.startsWith("# "))return`<h1 style="color: #000000; font-size: 1.5rem; font-weight: bold; margin: 1.5rem 0 1rem 0;">${a.replace("# ","")}</h1>`;if(a.startsWith("## "))return`<h2 style="color: #000000; font-size: 1.25rem; font-weight: bold; margin: 1rem 0 0.5rem 0;">${a.replace("## ","")}</h2>`;if(a.startsWith("### "))return`<h3 style="color: #000000; font-size: 1.1rem; font-weight: bold; margin: 0.75rem 0 0.25rem 0;">${a.replace("### ","")}</h3>`;if(a.startsWith("#### "))return`<h4 style="color: #000000; font-size: 1rem; font-weight: bold; margin: 0.5rem 0 0.25rem 0;">${a.replace("#### ","")}</h4>`;if(a.startsWith("- **")){const s=a.match(/- \*\*(.*?)\*\*:\s*(.*)/);if(s)return`<p style="margin: 0.25rem 0; color: #000000;"><strong style="color: #000000;">${s[1]}:</strong> ${s[2]}</p>`}else{if(a.startsWith("- "))return`<p style="margin: 0.25rem 0; padding-left: 1rem; color: #000000;">• ${a.replace("- ","")}</p>`;if(a.match(/^\d+\./))return`<p style="margin: 0.25rem 0; padding-left: 1rem; color: #000000;">${a}</p>`;if(a.startsWith("**")&&a.endsWith("**"))return`<p style="margin: 0.5rem 0; color: #000000; font-weight: bold;">${a.replace(/\*\*/g,"")}</p>`;if(a.trim())return`<p style="margin: 0.5rem 0; color: #000000;">${a}</p>`}return"<br>"}).join("")}
      </div>
    `,n=t.split(`
`).map(a=>{if(a.startsWith("# "))return a.replace("# ","");if(a.startsWith("## "))return a.replace("## ","");if(a.startsWith("### "))return a.replace("### ","");if(a.startsWith("#### "))return a.replace("#### ","");if(a.startsWith("- **")){const s=a.match(/- \*\*(.*?)\*\*:\s*(.*)/);if(s)return`${s[1]}: ${s[2]}`}else{if(a.startsWith("- "))return`• ${a.replace("- ","")}`;if(a.startsWith("**")&&a.endsWith("**"))return a.replace(/\*\*/g,"")}return a}).join(`
`);if(navigator.clipboard&&navigator.clipboard.write){const a=new Blob([e],{type:"text/html"}),s=new Blob([n],{type:"text/plain"}),l=new ClipboardItem({"text/html":a,"text/plain":s});return await navigator.clipboard.write([l]),{success:!0,message:"Content copied (Rich Format)!"}}else return await navigator.clipboard.writeText(n),{success:!0,message:"Content copied (Plain Text)!"}}catch(e){return console.error("Failed to copy content:",e),{success:!1,message:"Failed to copy. Please try manually."}}},Ma=({content:t,onExportPDF:e,onCopy:n,className:a=""})=>{const[s,l]=ie.useState(""),u=async()=>{if(n){n();return}const h=await yI(t);l(h.message),setTimeout(()=>l(""),3e3)},d={h1:({children:h})=>g.jsx("h1",{className:"text-3xl font-bold text-purple-300 mb-6 border-b border-gray-600 pb-3",children:h}),h2:({children:h})=>g.jsx("h2",{className:"text-2xl font-semibold text-purple-200 mt-8 mb-4 border-l-4 border-purple-500 pl-4",children:h}),h3:({children:h})=>g.jsx("h3",{className:"text-xl font-semibold text-purple-100 mt-6 mb-3 flex items-center",children:h}),h4:({children:h})=>g.jsx("h4",{className:"text-lg font-medium text-gray-200 mt-4 mb-2",children:h}),p:({children:h})=>g.jsx("p",{className:"text-gray-300 mb-4 leading-relaxed",children:h}),ul:({children:h})=>g.jsx("ul",{className:"list-disc list-inside text-gray-300 mb-4 space-y-1 ml-4",children:h}),ol:({children:h})=>g.jsx("ol",{className:"list-decimal list-inside text-gray-300 mb-4 space-y-1 ml-4",children:h}),li:({children:h})=>g.jsx("li",{className:"text-gray-300 mb-1",children:h}),strong:({children:h})=>g.jsx("strong",{className:"font-semibold text-gray-100",children:h}),em:({children:h})=>g.jsx("em",{className:"italic text-gray-200",children:h}),code:({children:h,className:f})=>f?g.jsx("pre",{className:"bg-gray-800 border border-gray-600 rounded-lg p-4 overflow-x-auto mb-4",children:g.jsx("code",{className:"text-green-300 text-sm font-mono",children:h})}):g.jsx("code",{className:"bg-gray-700 text-purple-300 px-2 py-1 rounded text-sm font-mono",children:h}),blockquote:({children:h})=>g.jsx("blockquote",{className:"border-l-4 border-purple-500 bg-gray-800/50 pl-4 py-2 mb-4 italic text-gray-300",children:h}),table:({children:h})=>g.jsx("div",{className:"overflow-x-auto mb-6",children:g.jsx("table",{className:"min-w-full bg-gray-800 border border-gray-600 rounded-lg",children:h})}),thead:({children:h})=>g.jsx("thead",{className:"bg-gray-700",children:h}),tbody:({children:h})=>g.jsx("tbody",{className:"divide-y divide-gray-600",children:h}),tr:({children:h})=>g.jsx("tr",{className:"hover:bg-gray-700/50 transition-colors",children:h}),th:({children:h})=>g.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold text-purple-300 border-b border-gray-600",children:h}),td:({children:h})=>g.jsx("td",{className:"px-4 py-3 text-sm text-gray-300",children:h}),hr:()=>g.jsx("hr",{className:"border-gray-600 my-8"}),a:({href:h,children:f})=>g.jsx("a",{href:h,className:"text-purple-400 hover:text-purple-300 underline transition-colors",target:"_blank",rel:"noopener noreferrer",children:f})};return g.jsxs("div",{className:`markdown-content ${a}`,children:[g.jsxs("div",{className:"flex justify-end gap-2 mb-4 pb-4 border-b border-gray-700",children:[g.jsx(Be,{onClick:u,variant:"outline",size:"sm",leftIcon:g.jsx(C2,{className:"w-4 h-4"}),children:"Copy Content"}),e&&g.jsx(Be,{onClick:e,variant:"secondary",size:"sm",leftIcon:g.jsx(Ef,{className:"w-4 h-4"}),children:"Export PDF"})]}),s&&g.jsx("div",{className:`text-sm mb-4 p-2 rounded ${s.includes("Failed")?"text-red-400 bg-red-900/20":"text-green-400 bg-green-900/20"}`,children:s}),g.jsx("div",{className:"prose prose-invert max-w-none",children:g.jsx(fI,{components:d,children:t})})]})},uT=[{category:"House",genre:"House",tempoRange:[120,126],sections:["Intro","Build-Up","Drop","Breakdown","Drop 2","Outro"]},{category:"House",genre:"Deep House",tempoRange:[118,124],sections:["Intro","Build-Up","Drop","Breakdown","Outro"]},{category:"House",genre:"Tech House",tempoRange:[122,127],sections:["Intro","Build-Up","Drop","Breakdown","Drop 2","Outro"]},{category:"House",genre:"Progressive House",tempoRange:[124,128],sections:["Intro","Build-Up","Drop","Breakdown","Outro"]},{category:"House",genre:"Afro House",tempoRange:[120,125],sections:["Intro","Build-Up","Drop","Breakdown","Outro"]},{category:"House",genre:"Nu-Disco",tempoRange:[115,125],sections:["Intro","Verse","Chorus","Bridge","Outro"]},{category:"Techno",genre:"Melodic Techno",tempoRange:[120,126],sections:["Intro","Groove Build","Peak Moment","Mid-Break","Outro"]},{category:"Techno",genre:"Minimal Techno",tempoRange:[120,125],sections:["Intro","Groove Build","Peak Moment","Mid-Break","Outro"]},{category:"Techno",genre:"Big Room Techno",tempoRange:[126,130],sections:["Intro","Build-Up","Drop","Breakdown","Build-Up 2","Final Drop","Outro"]},{category:"Techno",genre:"Peak Time Techno",tempoRange:[128,135],sections:["Intro","Groove Build","Peak Moment","Mid-Break","Outro"]},{category:"Techno",genre:"Hard Techno",tempoRange:[135,145],sections:["Intro","Groove Build","Peak Moment","Mid-Break","Outro"]},{category:"Trance",genre:"Trance",tempoRange:[128,140],sections:["Intro","Build-Up","Drop","Breakdown","Build-Up 2","Final Drop","Outro"]},{category:"Trance",genre:"Psytrance",tempoRange:[140,150],sections:["Intro","Build-Up","Drop","Breakdown","Build-Up 2","Final Drop","Outro"]},{category:"Trance",genre:"Progressive Trance",tempoRange:[130,138],sections:["Intro","Build-Up","Drop","Breakdown","Build-Up 2","Final Drop","Outro"]},{category:"Trance",genre:"Uplifting Trance",tempoRange:[132,140],sections:["Intro","Build-Up","Drop","Breakdown","Build-Up 2","Final Drop","Outro"]},{category:"Bass & Dubstep",genre:"Dubstep",tempoRange:[140,150],sections:["Intro","Pre-Drop","Drop 1","Switch-Up","Drop 2","Outro"]},{category:"Bass & Dubstep",genre:"Riddim Dubstep",tempoRange:[140,150],sections:["Intro","Pre-Drop","Drop 1","Switch-Up","Drop 2","Outro"]},{category:"Bass & Dubstep",genre:"Hybrid Trap",tempoRange:[135,150],sections:["Intro","Pre-Drop","Drop 1","Mid-Section","Drop 2","Outro"]},{category:"Bass & Dubstep",genre:"Midtempo Bass",tempoRange:[95,110],sections:["Intro","Build-Up","Drop","Breakdown","Outro"]},{category:"Bass & Dubstep",genre:"Future Bass",tempoRange:[140,155],sections:["Intro","Pre-Drop","Drop 1","Breakdown","Drop 2","Outro"]},{category:"Bass & Dubstep",genre:"Phonk",tempoRange:[130,150],sections:["Intro","Pre-Drop","Drop 1","Switch-Up","Drop 2","Outro"]},{category:"Bass & Dubstep",genre:"Hardstyle",tempoRange:[150,160],sections:["Intro","Pre-Drop","Drop 1","Switch-Up","Drop 2","Outro"]},{category:"Trap & Future Styles",genre:"Trap",tempoRange:[130,150],sections:["Intro","Pre-Drop","Drop 1","Mid-Section","Drop 2","Outro"]},{category:"Trap & Future Styles",genre:"Hard Trap",tempoRange:[135,150],sections:["Intro","Pre-Drop","Drop 1","Switch-Up","Drop 2","Outro"]},{category:"Trap & Future Styles",genre:"Hyperpop",tempoRange:[140,160],sections:["Intro","Verse","Drop","Bridge","Outro"]},{category:"Trap & Future Styles",genre:"Trap Soul",tempoRange:[100,130],sections:["Intro","Verse","Chorus","Bridge","Outro"]},{category:"Trap & Future Styles",genre:"Jersey Club",tempoRange:[130,140],sections:["Intro","Pre-Drop","Drop 1","Mid-Section","Drop 2","Outro"]},{category:"Drum & Bass / UK Styles",genre:"Drum & Bass",tempoRange:[170,175],sections:["Intro","Build-Up","Drop","Mid-Roll","Breakdown","Second Drop","Outro"]},{category:"Drum & Bass / UK Styles",genre:"Liquid DnB",tempoRange:[170,175],sections:["Intro","Build-Up","Drop","Mid-Roll","Breakdown","Second Drop","Outro"]},{category:"Drum & Bass / UK Styles",genre:"Jungle",tempoRange:[170,175],sections:["Intro","Build-Up","Drop","Mid-Roll","Breakdown","Second Drop","Outro"]},{category:"Drum & Bass / UK Styles",genre:"UK Garage",tempoRange:[130,138],sections:["Intro","Build-Up","Drop","Breakdown","Outro"]},{category:"Drum & Bass / UK Styles",genre:"UK Bass",tempoRange:[128,138],sections:["Intro","Build-Up","Drop","Breakdown","Outro"]},{category:"Drum & Bass / UK Styles",genre:"Breakbeat",tempoRange:[125,135],sections:["Intro","Build-Up","Drop","Breakdown","Outro"]},{category:"Pop / Indie / Electro",genre:"EDM Pop",tempoRange:[110,125],sections:["Intro","Verse","Pre-Chorus","Chorus / Drop","Bridge","Outro"]},{category:"Pop / Indie / Electro",genre:"Indie Pop",tempoRange:[100,120],sections:["Intro","Verse","Chorus","Bridge","Outro"]},{category:"Pop / Indie / Electro",genre:"Indie Dance",tempoRange:[115,125],sections:["Intro","Verse","Chorus","Bridge","Outro"]},{category:"Pop / Indie / Electro",genre:"Electro Pop",tempoRange:[100,120],sections:["Intro","Verse","Pre-Chorus","Chorus","Bridge","Outro"]},{category:"Pop / Indie / Electro",genre:"Synth Pop",tempoRange:[100,115],sections:["Intro","Verse","Pre-Chorus","Chorus","Bridge","Outro"]},{category:"Retro & Synth",genre:"Synthwave",tempoRange:[85,105],sections:["Intro","Main Theme","Breakdown","Bridge","Outro"]},{category:"Retro & Synth",genre:"Chillwave",tempoRange:[85,100],sections:["Intro","Main Theme","Breakdown","Bridge","Outro"]},{category:"Retro & Synth",genre:"Vaporwave",tempoRange:[60,85],sections:["Intro","Main Theme","Breakdown","Outro"]},{category:"Retro & Synth",genre:"Retrowave",tempoRange:[90,110],sections:["Intro","Main Theme","Breakdown","Bridge","Outro"]},{category:"Hip-Hop & RnB",genre:"Boom Bap",tempoRange:[85,95],sections:["Intro","Verse","Chorus","Verse 2","Outro"]},{category:"Hip-Hop & RnB",genre:"Experimental Hip-Hop",tempoRange:[80,100],sections:["Intro","Verse","Drop","Bridge","Outro"]},{category:"Hip-Hop & RnB",genre:"RnB Remix",tempoRange:[85,100],sections:["Intro","Verse","Chorus","Bridge","Outro"]},{category:"Lo-fi & Chill",genre:"Lo-fi Hip-Hop",tempoRange:[65,85],sections:["Intro","Groove Section A","Groove Section B","Bridge / Texture Break","Outro"]},{category:"Lo-fi & Chill",genre:"Chillhop",tempoRange:[70,90],sections:["Intro","Groove Section A","Groove Section B","Bridge / Texture Break","Outro"]},{category:"Lo-fi & Chill",genre:"Trip-Hop",tempoRange:[70,90],sections:["Intro","Main Atmosphere","Texture Development","Outro"]},{category:"Lo-fi & Chill",genre:"Downtempo",tempoRange:[70,90],sections:["Intro","Main Atmosphere","Texture Development","Dynamic Peak","Outro"]},{category:"Lo-fi & Chill",genre:"Chillstep",tempoRange:[100,115],sections:["Intro","Build-Up","Drop","Breakdown","Outro"]},{category:"Ambient & Cinematic",genre:"Ambient",tempoRange:[60,80],sections:["Intro","Main Atmosphere","Texture Development","Outro"]},{category:"Ambient & Cinematic",genre:"Cinematic",tempoRange:[60,80],sections:["Intro","Main Atmosphere","Texture Development","Outro"]}],xI=()=>{const t={};return uT.forEach(({category:e,genre:n})=>{t[e]||(t[e]=[]),t[e].push(n)}),t},Fx=t=>uT.find(e=>e.genre===t),vI=()=>{const[t,e]=ie.useState(null),[n,a]=ie.useState(""),[s,l]=ie.useState(""),[u,d]=ie.useState(!1),[h,f]=ie.useState(!1),[p,b]=ie.useState(null),[T,S]=ie.useState(""),M=ie.useRef(null),D=xI(),k=Object.keys(D),_=Z=>{var ae;const re=(ae=Z.target.files)==null?void 0:ae[0];if(!re)return;if(!(["audio/wav","audio/mpeg","audio/mp3"].includes(re.type)||re.name.toLowerCase().endsWith(".wav")||re.name.toLowerCase().endsWith(".mp3"))){S("Please upload a WAV or MP3 file");return}if(re.size>100*1024*1024){S("File size must be under 100MB");return}e(re),S("")},O=Z=>{Z.preventDefault();const re=Z.dataTransfer.files[0];re&&_({target:{files:[re]}})},P=Z=>{Z.preventDefault()},G=async()=>{if(!t||!s){S("Please upload an audio file and select a target genre");return}d(!0),S("");try{const Z=await G2(t),re={base64:Z.base64,mimeType:Z.mimeType},pe=Fx(s),ge=await v2(re,s,pe);b(ge),f(!0);try{const ae={key:ge.targetKey,tempo:ge.targetTempo,timeSignature:[4,4],chordProgression:"i-VI-III-VII",genre:s,bars:8,targetInstruments:["bassline","drums","melody","pads"],guidebookContext:`${s} remix guide context`,songSection:ge.sections[0]||"Intro"};let ue="";const ye=await su(ae);for await(const N of ye)ue+=N.text;let se=ue.trim();const me=/^```(\w*)?\s*\n?(.*?)\n?\s*```$/s,q=se.match(me);q&&q[2]&&(se=q[2].trim());const L=JSON.parse(se);b(N=>N?{...N,generatedMidiPatterns:L}:null)}catch(ae){console.error("Error generating MIDI patterns for remix:",ae)}finally{f(!1)}}catch(Z){console.error("Error generating remix guide:",Z),S(Z instanceof Error?Z.message:"Failed to generate remix guide. Please try again.")}finally{d(!1)}},K=Z=>{a(Z),l("")},z=()=>{e(null),a(""),l(""),b(null),S(""),M.current&&(M.current.value="")};return g.jsxs("div",{className:"space-y-6",children:[g.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[g.jsxs(tt,{className:"p-6",children:[g.jsx("h3",{className:"text-lg font-semibold mb-4 text-white",children:"Upload Original Track"}),g.jsxs("div",{className:"border-2 border-dashed border-gray-600 rounded-lg p-8 text-center cursor-pointer hover:border-gray-500 transition-colors",onDrop:O,onDragOver:P,onClick:()=>{var Z;return(Z=M.current)==null?void 0:Z.click()},children:[g.jsx("input",{ref:M,type:"file",accept:".wav,.mp3,audio/wav,audio/mpeg",onChange:_,className:"hidden"}),g.jsxs("div",{className:"space-y-2",children:[g.jsx("div",{className:"text-4xl",children:"🎵"}),g.jsx("div",{className:"text-white font-medium",children:t?t.name:"Upload Original Track"}),g.jsx("p",{className:"text-gray-400 text-sm",children:"or drag and drop"})]}),g.jsxs("p",{className:"text-gray-500 text-xs mt-2",children:["MP3, WAV up to ",g.jsx("span",{className:"text-orange-400",children:"100"}),"MB"]})]})]}),g.jsxs(tt,{className:"p-6",children:[g.jsx("h3",{className:"text-lg font-semibold mb-4 text-white",children:"Target Remix Genre"}),g.jsxs("div",{className:"space-y-4",children:[g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"1. Select Category"}),g.jsxs("select",{value:n,onChange:Z=>K(Z.target.value),className:"w-full p-3 bg-gray-700 border border-gray-600 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-orange-500",children:[g.jsx("option",{value:"",children:"Choose a category..."}),k.map(Z=>g.jsx("option",{value:Z,children:Z},Z))]})]}),n&&g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"2. Select Genre"}),g.jsxs("select",{value:s,onChange:Z=>l(Z.target.value),className:"w-full p-3 bg-gray-700 border border-gray-600 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-orange-500",children:[g.jsx("option",{value:"",children:"Choose a genre..."}),D[n].map(Z=>g.jsx("option",{value:Z,children:Z},Z))]})]}),s&&g.jsx("div",{className:"text-sm text-gray-400 bg-gray-800 p-3 rounded-lg",children:(()=>{const Z=Fx(s);return Z?`🎵 Tempo: ${Z.tempoRange[0]}-${Z.tempoRange[1]} BPM`:""})()})]})]})]}),T&&g.jsx("div",{className:"bg-red-900/50 border border-red-500 rounded-lg p-4 text-red-200",children:T}),g.jsxs("div",{className:"flex gap-4",children:[g.jsx(Be,{onClick:G,disabled:!t||!s||u||h,className:"flex-1",children:u?g.jsxs(g.Fragment,{children:[g.jsx(Xi,{size:"sm"})," Analyzing & Generating Remix Guide..."]}):h?g.jsxs(g.Fragment,{children:[g.jsx(Xi,{size:"sm"})," Generating MIDI Patterns..."]}):"🎛️ Generate Remix Guide"}),g.jsx(Be,{onClick:z,variant:"outline",children:"Reset"})]}),p&&g.jsxs("div",{className:"space-y-6",children:[g.jsxs(tt,{className:"p-6",children:[g.jsxs("div",{className:"flex justify-between items-center mb-4",children:[g.jsxs("h3",{className:"text-xl font-bold text-white",children:["🎛️ ",s," Remix Guide"]}),g.jsxs("div",{className:"text-sm text-gray-400",children:["Target: ",p.targetTempo," BPM • ",p.targetKey]})]}),g.jsx("div",{className:"bg-gray-800/50 rounded-lg p-6 max-h-[calc(100vh-8rem)] overflow-y-auto",children:g.jsx(Ma,{content:p.guide})})]}),g.jsxs(tt,{className:"p-6",children:[g.jsx("h3",{className:"text-xl font-bold text-white mb-6",children:"🎹 MIDI Remix Patterns"}),g.jsx(Mb,{initialPatterns:p.generatedMidiPatterns||p.midiPatterns,sections:p.sections,targetTempo:p.targetTempo,targetKey:p.targetKey,isRemixMode:!0,preGeneratedPatterns:p.generatedMidiPatterns},`remix-${s}-${Date.now()}`)]})]}),!p&&g.jsx(tt,{className:"p-6 bg-gray-800/30",children:g.jsxs("div",{className:"text-center space-y-4",children:[g.jsx("div",{className:"text-6xl",children:"🎛️"}),g.jsx("h3",{className:"text-xl font-bold text-white",children:"Transform Your Track"}),g.jsx("p",{className:"text-gray-400 max-w-2xl mx-auto",children:"Upload your original track and select a target genre. Our AI will analyze the harmonic progression, melodies, and rhythmic elements, then generate a comprehensive remix guide with genre-appropriate MIDI patterns for basslines, drums, melodies, and textures."})]})})]})},bI=({audioData:t,width:e=400,height:n=100})=>{const a=ie.useRef(null);ie.useEffect(()=>{const u=a.current;if(!u)return;const d=u.getContext("2d");if(d){if(d.fillStyle="#1f2937",d.fillRect(0,0,e,n),!t){s(d,e,n);return}l(d,e,n)}},[t,e,n]);const s=(u,d,h)=>{u.strokeStyle="#6b7280",u.lineWidth=1,u.beginPath();const f=h/2,p=200;for(let b=0;b<p;b++){const T=b/p*d,S=Math.sin(b*.1)*Math.sin(b*.02)*.3,M=f+S*f;b===0?u.moveTo(T,M):u.lineTo(T,M)}u.stroke()},l=(u,d,h)=>{u.strokeStyle="#f97316",u.lineWidth=2,u.beginPath();const f=h/2,p=300;for(let b=0;b<p;b++){const T=b/p*d,S=Math.sin(b*.05)*.4,M=Math.sin(b*.15)*.2,D=Math.sin(b*.3)*.1,k=S+M+D,_=f+k*f;b===0?u.moveTo(T,_):u.lineTo(T,_)}u.stroke(),u.strokeStyle="#374151",u.lineWidth=1,u.setLineDash([2,2]),u.beginPath(),u.moveTo(0,f),u.lineTo(d,f),u.stroke();for(let b=1;b<4;b++){const T=b/4*d;u.beginPath(),u.moveTo(T,0),u.lineTo(T,h),u.stroke()}u.setLineDash([])};return g.jsxs("div",{className:"bg-gray-800 rounded-lg p-4 border border-gray-700",children:[g.jsx("h3",{className:"text-sm font-medium text-gray-300 mb-2",children:"Waveform Preview"}),g.jsx("canvas",{ref:a,width:e,height:n,className:"w-full h-auto rounded border border-gray-600"})]})},TI=({attack:t,decay:e,sustain:n,release:a,width:s=400,height:l=150})=>{const u=Math.max(0,Math.min(1,t)),d=Math.max(0,Math.min(1,e)),h=Math.max(0,Math.min(1,n)),f=Math.max(0,Math.min(1,a)),p=u+d+.3+f,b=u/p*s*.8,T=d/p*s*.8,S=.3/p*s*.8,M=f/p*s*.8,D=l*.9,k=l*.1,_=k+(1-h)*(D-k),O=s*.1;let P=O;const G=[`M ${P} ${D}`];P+=b,G.push(`L ${P} ${k}`),P+=T,G.push(`L ${P} ${_}`),P+=S,G.push(`L ${P} ${_}`),P+=M,G.push(`L ${P} ${D}`);const K=G.join(" ");return g.jsxs("div",{className:"bg-gray-800 rounded-lg p-4 border border-gray-700",children:[g.jsx("h3",{className:"text-sm font-medium text-gray-300 mb-2",children:"ADSR Envelope"}),g.jsxs("svg",{width:s,height:l,className:"w-full h-auto",children:[g.jsx("defs",{children:g.jsx("pattern",{id:"grid",width:"40",height:"30",patternUnits:"userSpaceOnUse",children:g.jsx("path",{d:"M 40 0 L 0 0 0 30",fill:"none",stroke:"#374151",strokeWidth:"1",opacity:"0.3"})})}),g.jsx("rect",{width:"100%",height:"100%",fill:"url(#grid)"}),g.jsx("path",{d:K,fill:"none",stroke:"#f97316",strokeWidth:"3",strokeLinecap:"round",strokeLinejoin:"round"}),g.jsx("text",{x:O+b/2,y:l-5,textAnchor:"middle",className:"fill-gray-400 text-xs",children:"A"}),g.jsx("text",{x:O+b+T/2,y:l-5,textAnchor:"middle",className:"fill-gray-400 text-xs",children:"D"}),g.jsx("text",{x:O+b+T+S/2,y:l-5,textAnchor:"middle",className:"fill-gray-400 text-xs",children:"S"}),g.jsx("text",{x:O+b+T+S+M/2,y:l-5,textAnchor:"middle",className:"fill-gray-400 text-xs",children:"R"}),g.jsx("circle",{cx:O+b,cy:k,r:"3",fill:"#f97316"}),g.jsx("circle",{cx:O+b+T,cy:_,r:"3",fill:"#f97316"}),g.jsx("text",{x:"5",y:k+5,className:"fill-gray-400 text-xs",children:"1.0"}),g.jsx("text",{x:"5",y:_+5,className:"fill-gray-400 text-xs",children:h.toFixed(1)}),g.jsx("text",{x:"5",y:D+5,className:"fill-gray-400 text-xs",children:"0.0"})]}),g.jsxs("div",{className:"grid grid-cols-4 gap-2 mt-2 text-xs text-gray-400",children:[g.jsxs("div",{className:"text-center",children:[g.jsx("div",{className:"font-medium",children:"Attack"}),g.jsx("div",{children:u.toFixed(2)})]}),g.jsxs("div",{className:"text-center",children:[g.jsx("div",{className:"font-medium",children:"Decay"}),g.jsx("div",{children:d.toFixed(2)})]}),g.jsxs("div",{className:"text-center",children:[g.jsx("div",{className:"font-medium",children:"Sustain"}),g.jsx("div",{children:h.toFixed(2)})]}),g.jsxs("div",{className:"text-center",children:[g.jsx("div",{className:"font-medium",children:"Release"}),g.jsx("div",{children:f.toFixed(2)})]})]})]})},cT=ie.createContext({});function SI(t){const e=ie.useRef(null);return e.current===null&&(e.current=t()),e.current}const wh=typeof window<"u",CI=wh?ie.useLayoutEffect:ie.useEffect,Eh=ie.createContext(null);function Ah(t,e){t.indexOf(e)===-1&&t.push(e)}function Mh(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const vi=(t,e,n)=>n>e?e:n<t?t:n;let Nh=()=>{};const bi={},dT=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function fT(t){return typeof t=="object"&&t!==null}const hT=t=>/^0[^.\s]+$/u.test(t);function Dh(t){let e;return()=>(e===void 0&&(e=t()),e)}const Vn=t=>t,wI=(t,e)=>n=>e(t(n)),go=(...t)=>t.reduce(wI),ro=(t,e,n)=>{const a=e-t;return a===0?1:(n-t)/a};class Rh{constructor(){this.subscriptions=[]}add(e){return Ah(this.subscriptions,e),()=>Mh(this.subscriptions,e)}notify(e,n,a){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](e,n,a);else for(let l=0;l<s;l++){const u=this.subscriptions[l];u&&u(e,n,a)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const ei=t=>t*1e3,ti=t=>t/1e3;function mT(t,e){return e?t*(1e3/e):0}const pT=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,EI=1e-7,AI=12;function MI(t,e,n,a,s){let l,u,d=0;do u=e+(n-e)/2,l=pT(u,a,s)-t,l>0?n=u:e=u;while(Math.abs(l)>EI&&++d<AI);return u}function yo(t,e,n,a){if(t===e&&n===a)return Vn;const s=l=>MI(l,0,1,t,n);return l=>l===0||l===1?l:pT(s(l),e,a)}const gT=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,yT=t=>e=>1-t(1-e),xT=yo(.33,1.53,.69,.99),kh=yT(xT),vT=gT(kh),bT=t=>(t*=2)<1?.5*kh(t):.5*(2-Math.pow(2,-10*(t-1))),_h=t=>1-Math.sin(Math.acos(t)),TT=yT(_h),ST=gT(_h),NI=yo(.42,0,1,1),DI=yo(0,0,.58,1),CT=yo(.42,0,.58,1),RI=t=>Array.isArray(t)&&typeof t[0]!="number",wT=t=>Array.isArray(t)&&typeof t[0]=="number",kI={linear:Vn,easeIn:NI,easeInOut:CT,easeOut:DI,circIn:_h,circInOut:ST,circOut:TT,backIn:kh,backInOut:vT,backOut:xT,anticipate:bT},_I=t=>typeof t=="string",Hx=t=>{if(wT(t)){Nh(t.length===4);const[e,n,a,s]=t;return yo(e,n,a,s)}else if(_I(t))return kI[t];return t},Fl=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"],Gx={value:null};function II(t,e){let n=new Set,a=new Set,s=!1,l=!1;const u=new WeakSet;let d={delta:0,timestamp:0,isProcessing:!1},h=0;function f(b){u.has(b)&&(p.schedule(b),t()),h++,b(d)}const p={schedule:(b,T=!1,S=!1)=>{const D=S&&s?n:a;return T&&u.add(b),D.has(b)||D.add(b),b},cancel:b=>{a.delete(b),u.delete(b)},process:b=>{if(d=b,s){l=!0;return}s=!0,[n,a]=[a,n],n.forEach(f),e&&Gx.value&&Gx.value.frameloop[e].push(h),h=0,n.clear(),s=!1,l&&(l=!1,p.process(b))}};return p}const PI=40;function ET(t,e){let n=!1,a=!0;const s={delta:0,timestamp:0,isProcessing:!1},l=()=>n=!0,u=Fl.reduce((P,G)=>(P[G]=II(l,e?G:void 0),P),{}),{setup:d,read:h,resolveKeyframes:f,preUpdate:p,update:b,preRender:T,render:S,postRender:M}=u,D=()=>{const P=bi.useManualTiming?s.timestamp:performance.now();n=!1,bi.useManualTiming||(s.delta=a?1e3/60:Math.max(Math.min(P-s.timestamp,PI),1)),s.timestamp=P,s.isProcessing=!0,d.process(s),h.process(s),f.process(s),p.process(s),b.process(s),T.process(s),S.process(s),M.process(s),s.isProcessing=!1,n&&e&&(a=!1,t(D))},k=()=>{n=!0,a=!0,s.isProcessing||t(D)};return{schedule:Fl.reduce((P,G)=>{const K=u[G];return P[G]=(z,Z=!1,re=!1)=>(n||k(),K.schedule(z,Z,re)),P},{}),cancel:P=>{for(let G=0;G<Fl.length;G++)u[Fl[G]].cancel(P)},state:s,steps:u}}const{schedule:dt,cancel:Qi,state:Ot,steps:rf}=ET(typeof requestAnimationFrame<"u"?requestAnimationFrame:Vn,!0);let Ql;function VI(){Ql=void 0}const rn={now:()=>(Ql===void 0&&rn.set(Ot.isProcessing||bi.useManualTiming?Ot.timestamp:performance.now()),Ql),set:t=>{Ql=t,queueMicrotask(VI)}},AT=t=>e=>typeof e=="string"&&e.startsWith(t),Ih=AT("--"),LI=AT("var(--"),Ph=t=>LI(t)?BI.test(t.split("/*")[0].trim()):!1,BI=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Ia={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},ao={...Ia,transform:t=>vi(0,1,t)},Hl={...Ia,default:1},Qs=t=>Math.round(t*1e5)/1e5,Vh=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function jI(t){return t==null}const OI=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Lh=(t,e)=>n=>!!(typeof n=="string"&&OI.test(n)&&n.startsWith(t)||e&&!jI(n)&&Object.prototype.hasOwnProperty.call(n,e)),MT=(t,e,n)=>a=>{if(typeof a!="string")return a;const[s,l,u,d]=a.match(Vh);return{[t]:parseFloat(s),[e]:parseFloat(l),[n]:parseFloat(u),alpha:d!==void 0?parseFloat(d):1}},UI=t=>vi(0,255,t),af={...Ia,transform:t=>Math.round(UI(t))},Ar={test:Lh("rgb","red"),parse:MT("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:a=1})=>"rgba("+af.transform(t)+", "+af.transform(e)+", "+af.transform(n)+", "+Qs(ao.transform(a))+")"};function zI(t){let e="",n="",a="",s="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),a=t.substring(5,7),s=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),a=t.substring(3,4),s=t.substring(4,5),e+=e,n+=n,a+=a,s+=s),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(a,16),alpha:s?parseInt(s,16)/255:1}}const Uf={test:Lh("#"),parse:zI,transform:Ar.transform},xo=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),Ki=xo("deg"),ni=xo("%"),De=xo("px"),FI=xo("vh"),HI=xo("vw"),qx={...ni,parse:t=>ni.parse(t)/100,transform:t=>ni.transform(t*100)},ba={test:Lh("hsl","hue"),parse:MT("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:a=1})=>"hsla("+Math.round(t)+", "+ni.transform(Qs(e))+", "+ni.transform(Qs(n))+", "+Qs(ao.transform(a))+")"},At={test:t=>Ar.test(t)||Uf.test(t)||ba.test(t),parse:t=>Ar.test(t)?Ar.parse(t):ba.test(t)?ba.parse(t):Uf.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?Ar.transform(t):ba.transform(t),getAnimatableNone:t=>{const e=At.parse(t);return e.alpha=0,At.transform(e)}},GI=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function qI(t){var e,n;return isNaN(t)&&typeof t=="string"&&(((e=t.match(Vh))==null?void 0:e.length)||0)+(((n=t.match(GI))==null?void 0:n.length)||0)>0}const NT="number",DT="color",YI="var",KI="var(",Yx="${}",$I=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function so(t){const e=t.toString(),n=[],a={color:[],number:[],var:[]},s=[];let l=0;const d=e.replace($I,h=>(At.test(h)?(a.color.push(l),s.push(DT),n.push(At.parse(h))):h.startsWith(KI)?(a.var.push(l),s.push(YI),n.push(h)):(a.number.push(l),s.push(NT),n.push(parseFloat(h))),++l,Yx)).split(Yx);return{values:n,split:d,indexes:a,types:s}}function RT(t){return so(t).values}function kT(t){const{split:e,types:n}=so(t),a=e.length;return s=>{let l="";for(let u=0;u<a;u++)if(l+=e[u],s[u]!==void 0){const d=n[u];d===NT?l+=Qs(s[u]):d===DT?l+=At.transform(s[u]):l+=s[u]}return l}}const XI=t=>typeof t=="number"?0:At.test(t)?At.getAnimatableNone(t):t;function JI(t){const e=RT(t);return kT(t)(e.map(XI))}const Zi={test:qI,parse:RT,createTransformer:kT,getAnimatableNone:JI};function sf(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function QI({hue:t,saturation:e,lightness:n,alpha:a}){t/=360,e/=100,n/=100;let s=0,l=0,u=0;if(!e)s=l=u=n;else{const d=n<.5?n*(1+e):n+e-n*e,h=2*n-d;s=sf(h,d,t+1/3),l=sf(h,d,t),u=sf(h,d,t-1/3)}return{red:Math.round(s*255),green:Math.round(l*255),blue:Math.round(u*255),alpha:a}}function du(t,e){return n=>n>0?e:t}const ct=(t,e,n)=>t+(e-t)*n,of=(t,e,n)=>{const a=t*t,s=n*(e*e-a)+a;return s<0?0:Math.sqrt(s)},ZI=[Uf,Ar,ba],WI=t=>ZI.find(e=>e.test(t));function Kx(t){const e=WI(t);if(!e)return!1;let n=e.parse(t);return e===ba&&(n=QI(n)),n}const $x=(t,e)=>{const n=Kx(t),a=Kx(e);if(!n||!a)return du(t,e);const s={...n};return l=>(s.red=of(n.red,a.red,l),s.green=of(n.green,a.green,l),s.blue=of(n.blue,a.blue,l),s.alpha=ct(n.alpha,a.alpha,l),Ar.transform(s))},zf=new Set(["none","hidden"]);function e3(t,e){return zf.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function t3(t,e){return n=>ct(t,e,n)}function Bh(t){return typeof t=="number"?t3:typeof t=="string"?Ph(t)?du:At.test(t)?$x:r3:Array.isArray(t)?_T:typeof t=="object"?At.test(t)?$x:n3:du}function _T(t,e){const n=[...t],a=n.length,s=t.map((l,u)=>Bh(l)(l,e[u]));return l=>{for(let u=0;u<a;u++)n[u]=s[u](l);return n}}function n3(t,e){const n={...t,...e},a={};for(const s in n)t[s]!==void 0&&e[s]!==void 0&&(a[s]=Bh(t[s])(t[s],e[s]));return s=>{for(const l in a)n[l]=a[l](s);return n}}function i3(t,e){const n=[],a={color:0,var:0,number:0};for(let s=0;s<e.values.length;s++){const l=e.types[s],u=t.indexes[l][a[l]],d=t.values[u]??0;n[s]=d,a[l]++}return n}const r3=(t,e)=>{const n=Zi.createTransformer(e),a=so(t),s=so(e);return a.indexes.var.length===s.indexes.var.length&&a.indexes.color.length===s.indexes.color.length&&a.indexes.number.length>=s.indexes.number.length?zf.has(t)&&!s.values.length||zf.has(e)&&!a.values.length?e3(t,e):go(_T(i3(a,s),s.values),n):du(t,e)};function IT(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?ct(t,e,n):Bh(t)(t,e)}const a3=t=>{const e=({timestamp:n})=>t(n);return{start:(n=!0)=>dt.update(e,n),stop:()=>Qi(e),now:()=>Ot.isProcessing?Ot.timestamp:rn.now()}},PT=(t,e,n=10)=>{let a="";const s=Math.max(Math.round(e/n),2);for(let l=0;l<s;l++)a+=Math.round(t(l/(s-1))*1e4)/1e4+", ";return`linear(${a.substring(0,a.length-2)})`},fu=2e4;function jh(t){let e=0;const n=50;let a=t.next(e);for(;!a.done&&e<fu;)e+=n,a=t.next(e);return e>=fu?1/0:e}function s3(t,e=100,n){const a=n({...t,keyframes:[0,e]}),s=Math.min(jh(a),fu);return{type:"keyframes",ease:l=>a.next(s*l).value/e,duration:ti(s)}}const o3=5;function VT(t,e,n){const a=Math.max(e-o3,0);return mT(n-t(a),e-a)}const pt={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},lf=.001;function l3({duration:t=pt.duration,bounce:e=pt.bounce,velocity:n=pt.velocity,mass:a=pt.mass}){let s,l,u=1-e;u=vi(pt.minDamping,pt.maxDamping,u),t=vi(pt.minDuration,pt.maxDuration,ti(t)),u<1?(s=f=>{const p=f*u,b=p*t,T=p-n,S=Ff(f,u),M=Math.exp(-b);return lf-T/S*M},l=f=>{const b=f*u*t,T=b*n+n,S=Math.pow(u,2)*Math.pow(f,2)*t,M=Math.exp(-b),D=Ff(Math.pow(f,2),u);return(-s(f)+lf>0?-1:1)*((T-S)*M)/D}):(s=f=>{const p=Math.exp(-f*t),b=(f-n)*t+1;return-lf+p*b},l=f=>{const p=Math.exp(-f*t),b=(n-f)*(t*t);return p*b});const d=5/t,h=c3(s,l,d);if(t=ei(t),isNaN(h))return{stiffness:pt.stiffness,damping:pt.damping,duration:t};{const f=Math.pow(h,2)*a;return{stiffness:f,damping:u*2*Math.sqrt(a*f),duration:t}}}const u3=12;function c3(t,e,n){let a=n;for(let s=1;s<u3;s++)a=a-t(a)/e(a);return a}function Ff(t,e){return t*Math.sqrt(1-e*e)}const d3=["duration","bounce"],f3=["stiffness","damping","mass"];function Xx(t,e){return e.some(n=>t[n]!==void 0)}function h3(t){let e={velocity:pt.velocity,stiffness:pt.stiffness,damping:pt.damping,mass:pt.mass,isResolvedFromDuration:!1,...t};if(!Xx(t,f3)&&Xx(t,d3))if(t.visualDuration){const n=t.visualDuration,a=2*Math.PI/(n*1.2),s=a*a,l=2*vi(.05,1,1-(t.bounce||0))*Math.sqrt(s);e={...e,mass:pt.mass,stiffness:s,damping:l}}else{const n=l3(t);e={...e,...n,mass:pt.mass},e.isResolvedFromDuration=!0}return e}function hu(t=pt.visualDuration,e=pt.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:a,restDelta:s}=n;const l=n.keyframes[0],u=n.keyframes[n.keyframes.length-1],d={done:!1,value:l},{stiffness:h,damping:f,mass:p,duration:b,velocity:T,isResolvedFromDuration:S}=h3({...n,velocity:-ti(n.velocity||0)}),M=T||0,D=f/(2*Math.sqrt(h*p)),k=u-l,_=ti(Math.sqrt(h/p)),O=Math.abs(k)<5;a||(a=O?pt.restSpeed.granular:pt.restSpeed.default),s||(s=O?pt.restDelta.granular:pt.restDelta.default);let P;if(D<1){const K=Ff(_,D);P=z=>{const Z=Math.exp(-D*_*z);return u-Z*((M+D*_*k)/K*Math.sin(K*z)+k*Math.cos(K*z))}}else if(D===1)P=K=>u-Math.exp(-_*K)*(k+(M+_*k)*K);else{const K=_*Math.sqrt(D*D-1);P=z=>{const Z=Math.exp(-D*_*z),re=Math.min(K*z,300);return u-Z*((M+D*_*k)*Math.sinh(re)+K*k*Math.cosh(re))/K}}const G={calculatedDuration:S&&b||null,next:K=>{const z=P(K);if(S)d.done=K>=b;else{let Z=K===0?M:0;D<1&&(Z=K===0?ei(M):VT(P,K,z));const re=Math.abs(Z)<=a,pe=Math.abs(u-z)<=s;d.done=re&&pe}return d.value=d.done?u:z,d},toString:()=>{const K=Math.min(jh(G),fu),z=PT(Z=>G.next(K*Z).value,K,30);return K+"ms "+z},toTransition:()=>{}};return G}hu.applyToOptions=t=>{const e=s3(t,100,hu);return t.ease=e.ease,t.duration=ei(e.duration),t.type="keyframes",t};function Hf({keyframes:t,velocity:e=0,power:n=.8,timeConstant:a=325,bounceDamping:s=10,bounceStiffness:l=500,modifyTarget:u,min:d,max:h,restDelta:f=.5,restSpeed:p}){const b=t[0],T={done:!1,value:b},S=re=>d!==void 0&&re<d||h!==void 0&&re>h,M=re=>d===void 0?h:h===void 0||Math.abs(d-re)<Math.abs(h-re)?d:h;let D=n*e;const k=b+D,_=u===void 0?k:u(k);_!==k&&(D=_-b);const O=re=>-D*Math.exp(-re/a),P=re=>_+O(re),G=re=>{const pe=O(re),ge=P(re);T.done=Math.abs(pe)<=f,T.value=T.done?_:ge};let K,z;const Z=re=>{S(T.value)&&(K=re,z=hu({keyframes:[T.value,M(T.value)],velocity:VT(P,re,T.value),damping:s,stiffness:l,restDelta:f,restSpeed:p}))};return Z(0),{calculatedDuration:null,next:re=>{let pe=!1;return!z&&K===void 0&&(pe=!0,G(re),Z(re)),K!==void 0&&re>=K?z.next(re-K):(!pe&&G(re),T)}}}function m3(t,e,n){const a=[],s=n||bi.mix||IT,l=t.length-1;for(let u=0;u<l;u++){let d=s(t[u],t[u+1]);if(e){const h=Array.isArray(e)?e[u]||Vn:e;d=go(h,d)}a.push(d)}return a}function p3(t,e,{clamp:n=!0,ease:a,mixer:s}={}){const l=t.length;if(Nh(l===e.length),l===1)return()=>e[0];if(l===2&&e[0]===e[1])return()=>e[1];const u=t[0]===t[1];t[0]>t[l-1]&&(t=[...t].reverse(),e=[...e].reverse());const d=m3(e,a,s),h=d.length,f=p=>{if(u&&p<t[0])return e[0];let b=0;if(h>1)for(;b<t.length-2&&!(p<t[b+1]);b++);const T=ro(t[b],t[b+1],p);return d[b](T)};return n?p=>f(vi(t[0],t[l-1],p)):f}function g3(t,e){const n=t[t.length-1];for(let a=1;a<=e;a++){const s=ro(0,e,a);t.push(ct(n,1,s))}}function y3(t){const e=[0];return g3(e,t.length-1),e}function x3(t,e){return t.map(n=>n*e)}function v3(t,e){return t.map(()=>e||CT).splice(0,t.length-1)}function Zs({duration:t=300,keyframes:e,times:n,ease:a="easeInOut"}){const s=RI(a)?a.map(Hx):Hx(a),l={done:!1,value:e[0]},u=x3(n&&n.length===e.length?n:y3(e),t),d=p3(u,e,{ease:Array.isArray(s)?s:v3(e,s)});return{calculatedDuration:t,next:h=>(l.value=d(h),l.done=h>=t,l)}}const b3=t=>t!==null;function Oh(t,{repeat:e,repeatType:n="loop"},a,s=1){const l=t.filter(b3),d=s<0||e&&n!=="loop"&&e%2===1?0:l.length-1;return!d||a===void 0?l[d]:a}const T3={decay:Hf,inertia:Hf,tween:Zs,keyframes:Zs,spring:hu};function LT(t){typeof t.type=="string"&&(t.type=T3[t.type])}class Uh{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,n){return this.finished.then(e,n)}}const S3=t=>t/100;class zh extends Uh{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var a,s;const{motionValue:n}=this.options;n&&n.updatedAt!==rn.now()&&this.tick(rn.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(s=(a=this.options).onStop)==null||s.call(a))},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;LT(e);const{type:n=Zs,repeat:a=0,repeatDelay:s=0,repeatType:l,velocity:u=0}=e;let{keyframes:d}=e;const h=n||Zs;h!==Zs&&typeof d[0]!="number"&&(this.mixKeyframes=go(S3,IT(d[0],d[1])),d=[0,100]);const f=h({...e,keyframes:d});l==="mirror"&&(this.mirroredGenerator=h({...e,keyframes:[...d].reverse(),velocity:-u})),f.calculatedDuration===null&&(f.calculatedDuration=jh(f));const{calculatedDuration:p}=f;this.calculatedDuration=p,this.resolvedDuration=p+s,this.totalDuration=this.resolvedDuration*(a+1)-s,this.generator=f}updateTime(e){const n=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(e,n=!1){const{generator:a,totalDuration:s,mixKeyframes:l,mirroredGenerator:u,resolvedDuration:d,calculatedDuration:h}=this;if(this.startTime===null)return a.next(0);const{delay:f=0,keyframes:p,repeat:b,repeatType:T,repeatDelay:S,type:M,onUpdate:D,finalKeyframe:k}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-s/this.speed,this.startTime)),n?this.currentTime=e:this.updateTime(e);const _=this.currentTime-f*(this.playbackSpeed>=0?1:-1),O=this.playbackSpeed>=0?_<0:_>s;this.currentTime=Math.max(_,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=s);let P=this.currentTime,G=a;if(b){const re=Math.min(this.currentTime,s)/d;let pe=Math.floor(re),ge=re%1;!ge&&re>=1&&(ge=1),ge===1&&pe--,pe=Math.min(pe,b+1),!!(pe%2)&&(T==="reverse"?(ge=1-ge,S&&(ge-=S/d)):T==="mirror"&&(G=u)),P=vi(0,1,ge)*d}const K=O?{done:!1,value:p[0]}:G.next(P);l&&(K.value=l(K.value));let{done:z}=K;!O&&h!==null&&(z=this.playbackSpeed>=0?this.currentTime>=s:this.currentTime<=0);const Z=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&z);return Z&&M!==Hf&&(K.value=Oh(p,this.options,k,this.speed)),D&&D(K.value),Z&&this.finish(),K}then(e,n){return this.finished.then(e,n)}get duration(){return ti(this.calculatedDuration)}get time(){return ti(this.currentTime)}set time(e){var n;e=ei(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),(n=this.driver)==null||n.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(rn.now());const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=ti(this.currentTime))}play(){var s,l;if(this.isStopped)return;const{driver:e=a3,startTime:n}=this.options;this.driver||(this.driver=e(u=>this.tick(u))),(l=(s=this.options).onPlay)==null||l.call(s);const a=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=a):this.holdTime!==null?this.startTime=a-this.holdTime:this.startTime||(this.startTime=n??a),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(rn.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var e,n;this.notifyFinished(),this.teardown(),this.state="finished",(n=(e=this.options).onComplete)==null||n.call(e)}cancel(){var e,n;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(n=(e=this.options).onCancel)==null||n.call(e)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){var n;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(n=this.driver)==null||n.stop(),e.observe(this)}}function C3(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const Mr=t=>t*180/Math.PI,Gf=t=>{const e=Mr(Math.atan2(t[1],t[0]));return qf(e)},w3={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:Gf,rotateZ:Gf,skewX:t=>Mr(Math.atan(t[1])),skewY:t=>Mr(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},qf=t=>(t=t%360,t<0&&(t+=360),t),Jx=Gf,Qx=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),Zx=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),E3={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:Qx,scaleY:Zx,scale:t=>(Qx(t)+Zx(t))/2,rotateX:t=>qf(Mr(Math.atan2(t[6],t[5]))),rotateY:t=>qf(Mr(Math.atan2(-t[2],t[0]))),rotateZ:Jx,rotate:Jx,skewX:t=>Mr(Math.atan(t[4])),skewY:t=>Mr(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function Yf(t){return t.includes("scale")?1:0}function Kf(t,e){if(!t||t==="none")return Yf(e);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let a,s;if(n)a=E3,s=n;else{const d=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);a=w3,s=d}if(!s)return Yf(e);const l=a[e],u=s[1].split(",").map(M3);return typeof l=="function"?l(u):u[l]}const A3=(t,e)=>{const{transform:n="none"}=getComputedStyle(t);return Kf(n,e)};function M3(t){return parseFloat(t.trim())}const Pa=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Va=new Set(Pa),Wx=t=>t===Ia||t===De,N3=new Set(["x","y","z"]),D3=Pa.filter(t=>!N3.has(t));function R3(t){const e=[];return D3.forEach(n=>{const a=t.getValue(n);a!==void 0&&(e.push([n,a.get()]),a.set(n.startsWith("scale")?1:0))}),e}const Nr={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>Kf(e,"x"),y:(t,{transform:e})=>Kf(e,"y")};Nr.translateX=Nr.x;Nr.translateY=Nr.y;const Dr=new Set;let $f=!1,Xf=!1,Jf=!1;function BT(){if(Xf){const t=Array.from(Dr).filter(a=>a.needsMeasurement),e=new Set(t.map(a=>a.element)),n=new Map;e.forEach(a=>{const s=R3(a);s.length&&(n.set(a,s),a.render())}),t.forEach(a=>a.measureInitialState()),e.forEach(a=>{a.render();const s=n.get(a);s&&s.forEach(([l,u])=>{var d;(d=a.getValue(l))==null||d.set(u)})}),t.forEach(a=>a.measureEndState()),t.forEach(a=>{a.suspendedScrollY!==void 0&&window.scrollTo(0,a.suspendedScrollY)})}Xf=!1,$f=!1,Dr.forEach(t=>t.complete(Jf)),Dr.clear()}function jT(){Dr.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(Xf=!0)})}function k3(){Jf=!0,jT(),BT(),Jf=!1}class Fh{constructor(e,n,a,s,l,u=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=a,this.motionValue=s,this.element=l,this.isAsync=u}scheduleResolve(){this.state="scheduled",this.isAsync?(Dr.add(this),$f||($f=!0,dt.read(jT),dt.resolveKeyframes(BT))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:a,motionValue:s}=this;if(e[0]===null){const l=s==null?void 0:s.get(),u=e[e.length-1];if(l!==void 0)e[0]=l;else if(a&&n){const d=a.readValue(n,u);d!=null&&(e[0]=d)}e[0]===void 0&&(e[0]=u),s&&l===void 0&&s.set(e[0])}C3(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),Dr.delete(this)}cancel(){this.state==="scheduled"&&(Dr.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const _3=t=>t.startsWith("--");function I3(t,e,n){_3(e)?t.style.setProperty(e,n):t.style[e]=n}const P3=Dh(()=>window.ScrollTimeline!==void 0),V3={};function L3(t,e){const n=Dh(t);return()=>V3[e]??n()}const OT=L3(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Ys=([t,e,n,a])=>`cubic-bezier(${t}, ${e}, ${n}, ${a})`,ev={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Ys([0,.65,.55,1]),circOut:Ys([.55,0,1,.45]),backIn:Ys([.31,.01,.66,-.59]),backOut:Ys([.33,1.53,.69,.99])};function UT(t,e){if(t)return typeof t=="function"?OT()?PT(t,e):"ease-out":wT(t)?Ys(t):Array.isArray(t)?t.map(n=>UT(n,e)||ev.easeOut):ev[t]}function B3(t,e,n,{delay:a=0,duration:s=300,repeat:l=0,repeatType:u="loop",ease:d="easeOut",times:h}={},f=void 0){const p={[e]:n};h&&(p.offset=h);const b=UT(d,s);Array.isArray(b)&&(p.easing=b);const T={delay:a,duration:s,easing:Array.isArray(b)?"linear":b,fill:"both",iterations:l+1,direction:u==="reverse"?"alternate":"normal"};return f&&(T.pseudoElement=f),t.animate(p,T)}function zT(t){return typeof t=="function"&&"applyToOptions"in t}function j3({type:t,...e}){return zT(t)&&OT()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class O3 extends Uh{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:n,name:a,keyframes:s,pseudoElement:l,allowFlatten:u=!1,finalKeyframe:d,onComplete:h}=e;this.isPseudoElement=!!l,this.allowFlatten=u,this.options=e,Nh(typeof e.type!="string");const f=j3(e);this.animation=B3(n,a,s,f,l),f.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!l){const p=Oh(s,this.options,d,this.speed);this.updateMotionValue?this.updateMotionValue(p):I3(n,a,p),this.animation.cancel()}h==null||h(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var e,n;(n=(e=this.animation).finish)==null||n.call(e)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var e,n;this.isPseudoElement||(n=(e=this.animation).commitStyles)==null||n.call(e)}get duration(){var n,a;const e=((a=(n=this.animation.effect)==null?void 0:n.getComputedTiming)==null?void 0:a.call(n).duration)||0;return ti(Number(e))}get time(){return ti(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=ei(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:n}){var a;return this.allowFlatten&&((a=this.animation.effect)==null||a.updateTiming({easing:"linear"})),this.animation.onfinish=null,e&&P3()?(this.animation.timeline=e,Vn):n(this)}}const FT={anticipate:bT,backInOut:vT,circInOut:ST};function U3(t){return t in FT}function z3(t){typeof t.ease=="string"&&U3(t.ease)&&(t.ease=FT[t.ease])}const tv=10;class F3 extends O3{constructor(e){z3(e),LT(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:n,onUpdate:a,onComplete:s,element:l,...u}=this.options;if(!n)return;if(e!==void 0){n.set(e);return}const d=new zh({...u,autoplay:!1}),h=ei(this.finishedTime??this.time);n.setWithVelocity(d.sample(h-tv).value,d.sample(h).value,tv),d.stop()}}const nv=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(Zi.test(t)||t==="0")&&!t.startsWith("url("));function H3(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function G3(t,e,n,a){const s=t[0];if(s===null)return!1;if(e==="display"||e==="visibility")return!0;const l=t[t.length-1],u=nv(s,e),d=nv(l,e);return!u||!d?!1:H3(t)||(n==="spring"||zT(n))&&a}function HT(t){return fT(t)&&"offsetHeight"in t}const q3=new Set(["opacity","clipPath","filter","transform"]),Y3=Dh(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function K3(t){var f;const{motionValue:e,name:n,repeatDelay:a,repeatType:s,damping:l,type:u}=t;if(!HT((f=e==null?void 0:e.owner)==null?void 0:f.current))return!1;const{onUpdate:d,transformTemplate:h}=e.owner.getProps();return Y3()&&n&&q3.has(n)&&(n!=="transform"||!h)&&!d&&!a&&s!=="mirror"&&l!==0&&u!=="inertia"}const $3=40;class X3 extends Uh{constructor({autoplay:e=!0,delay:n=0,type:a="keyframes",repeat:s=0,repeatDelay:l=0,repeatType:u="loop",keyframes:d,name:h,motionValue:f,element:p,...b}){var M;super(),this.stop=()=>{var D,k;this._animation&&(this._animation.stop(),(D=this.stopTimeline)==null||D.call(this)),(k=this.keyframeResolver)==null||k.cancel()},this.createdAt=rn.now();const T={autoplay:e,delay:n,type:a,repeat:s,repeatDelay:l,repeatType:u,name:h,motionValue:f,element:p,...b},S=(p==null?void 0:p.KeyframeResolver)||Fh;this.keyframeResolver=new S(d,(D,k,_)=>this.onKeyframesResolved(D,k,T,!_),h,f,p),(M=this.keyframeResolver)==null||M.scheduleResolve()}onKeyframesResolved(e,n,a,s){this.keyframeResolver=void 0;const{name:l,type:u,velocity:d,delay:h,isHandoff:f,onUpdate:p}=a;this.resolvedAt=rn.now(),G3(e,l,u,d)||((bi.instantAnimations||!h)&&(p==null||p(Oh(e,a,n))),e[0]=e[e.length-1],a.duration=0,a.repeat=0);const T={startTime:s?this.resolvedAt?this.resolvedAt-this.createdAt>$3?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...a,keyframes:e},S=!f&&K3(T)?new F3({...T,element:T.motionValue.owner.current}):new zh(T);S.finished.then(()=>this.notifyFinished()).catch(Vn),this.pendingTimeline&&(this.stopTimeline=S.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=S}get finished(){return this._animation?this.animation.finished:this._finished}then(e,n){return this.finished.finally(e).then(()=>{})}get animation(){var e;return this._animation||((e=this.keyframeResolver)==null||e.resume(),k3()),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var e;this._animation&&this.animation.cancel(),(e=this.keyframeResolver)==null||e.cancel()}}const J3=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function Q3(t){const e=J3.exec(t);if(!e)return[,];const[,n,a,s]=e;return[`--${n??a}`,s]}function GT(t,e,n=1){const[a,s]=Q3(t);if(!a)return;const l=window.getComputedStyle(e).getPropertyValue(a);if(l){const u=l.trim();return dT(u)?parseFloat(u):u}return Ph(s)?GT(s,e,n+1):s}function Hh(t,e){return(t==null?void 0:t[e])??(t==null?void 0:t.default)??t}const qT=new Set(["width","height","top","left","right","bottom",...Pa]),Z3={test:t=>t==="auto",parse:t=>t},YT=t=>e=>e.test(t),KT=[Ia,De,ni,Ki,HI,FI,Z3],iv=t=>KT.find(YT(t));function W3(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||hT(t):!0}const e4=new Set(["brightness","contrast","saturate","opacity"]);function t4(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[a]=n.match(Vh)||[];if(!a)return t;const s=n.replace(a,"");let l=e4.has(e)?1:0;return a!==n&&(l*=100),e+"("+l+s+")"}const n4=/\b([a-z-]*)\(.*?\)/gu,Qf={...Zi,getAnimatableNone:t=>{const e=t.match(n4);return e?e.map(t4).join(" "):t}},rv={...Ia,transform:Math.round},i4={rotate:Ki,rotateX:Ki,rotateY:Ki,rotateZ:Ki,scale:Hl,scaleX:Hl,scaleY:Hl,scaleZ:Hl,skew:Ki,skewX:Ki,skewY:Ki,distance:De,translateX:De,translateY:De,translateZ:De,x:De,y:De,z:De,perspective:De,transformPerspective:De,opacity:ao,originX:qx,originY:qx,originZ:De},Gh={borderWidth:De,borderTopWidth:De,borderRightWidth:De,borderBottomWidth:De,borderLeftWidth:De,borderRadius:De,radius:De,borderTopLeftRadius:De,borderTopRightRadius:De,borderBottomRightRadius:De,borderBottomLeftRadius:De,width:De,maxWidth:De,height:De,maxHeight:De,top:De,right:De,bottom:De,left:De,padding:De,paddingTop:De,paddingRight:De,paddingBottom:De,paddingLeft:De,margin:De,marginTop:De,marginRight:De,marginBottom:De,marginLeft:De,backgroundPositionX:De,backgroundPositionY:De,...i4,zIndex:rv,fillOpacity:ao,strokeOpacity:ao,numOctaves:rv},r4={...Gh,color:At,backgroundColor:At,outlineColor:At,fill:At,stroke:At,borderColor:At,borderTopColor:At,borderRightColor:At,borderBottomColor:At,borderLeftColor:At,filter:Qf,WebkitFilter:Qf},$T=t=>r4[t];function XT(t,e){let n=$T(t);return n!==Qf&&(n=Zi),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const a4=new Set(["auto","none","0"]);function s4(t,e,n){let a=0,s;for(;a<t.length&&!s;){const l=t[a];typeof l=="string"&&!a4.has(l)&&so(l).values.length&&(s=t[a]),a++}if(s&&n)for(const l of e)t[l]=XT(n,s)}class o4 extends Fh{constructor(e,n,a,s,l){super(e,n,a,s,l,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:a}=this;if(!n||!n.current)return;super.readKeyframes();for(let h=0;h<e.length;h++){let f=e[h];if(typeof f=="string"&&(f=f.trim(),Ph(f))){const p=GT(f,n.current);p!==void 0&&(e[h]=p),h===e.length-1&&(this.finalKeyframe=f)}}if(this.resolveNoneKeyframes(),!qT.has(a)||e.length!==2)return;const[s,l]=e,u=iv(s),d=iv(l);if(u!==d)if(Wx(u)&&Wx(d))for(let h=0;h<e.length;h++){const f=e[h];typeof f=="string"&&(e[h]=parseFloat(f))}else Nr[a]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,a=[];for(let s=0;s<e.length;s++)(e[s]===null||W3(e[s]))&&a.push(s);a.length&&s4(e,a,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:a}=this;if(!e||!e.current)return;a==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Nr[a](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const s=n[n.length-1];s!==void 0&&e.getValue(a,s).jump(s,!1)}measureEndState(){var d;const{element:e,name:n,unresolvedKeyframes:a}=this;if(!e||!e.current)return;const s=e.getValue(n);s&&s.jump(this.measuredOrigin,!1);const l=a.length-1,u=a[l];a[l]=Nr[n](e.measureViewportBox(),window.getComputedStyle(e.current)),u!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=u),(d=this.removedTransforms)!=null&&d.length&&this.removedTransforms.forEach(([h,f])=>{e.getValue(h).set(f)}),this.resolveNoneKeyframes()}}function l4(t,e,n){if(t instanceof EventTarget)return[t];if(typeof t=="string"){let a=document;const s=(n==null?void 0:n[t])??a.querySelectorAll(t);return s?Array.from(s):[]}return Array.from(t)}const JT=(t,e)=>e&&typeof t=="number"?e.transform(t):t,av=30,u4=t=>!isNaN(parseFloat(t));class c4{constructor(e,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=(a,s=!0)=>{var u,d;const l=rn.now();if(this.updatedAt!==l&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(a),this.current!==this.prev&&((u=this.events.change)==null||u.notify(this.current),this.dependents))for(const h of this.dependents)h.dirty();s&&((d=this.events.renderRequest)==null||d.notify(this.current))},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=rn.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=u4(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new Rh);const a=this.events[e].add(n);return e==="change"?()=>{a(),dt.read(()=>{this.events.change.getSize()||this.stop()})}:a}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,a){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-a}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var e;(e=this.events.change)==null||e.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=rn.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>av)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,av);return mT(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var e,n;(e=this.dependents)==null||e.clear(),(n=this.events.destroy)==null||n.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Na(t,e){return new c4(t,e)}const{schedule:qh}=ET(queueMicrotask,!1),Un={x:!1,y:!1};function QT(){return Un.x||Un.y}function d4(t){return t==="x"||t==="y"?Un[t]?null:(Un[t]=!0,()=>{Un[t]=!1}):Un.x||Un.y?null:(Un.x=Un.y=!0,()=>{Un.x=Un.y=!1})}function ZT(t,e){const n=l4(t),a=new AbortController,s={passive:!0,...e,signal:a.signal};return[n,s,()=>a.abort()]}function sv(t){return!(t.pointerType==="touch"||QT())}function f4(t,e,n={}){const[a,s,l]=ZT(t,n),u=d=>{if(!sv(d))return;const{target:h}=d,f=e(h,d);if(typeof f!="function"||!h)return;const p=b=>{sv(b)&&(f(b),h.removeEventListener("pointerleave",p))};h.addEventListener("pointerleave",p,s)};return a.forEach(d=>{d.addEventListener("pointerenter",u,s)}),l}const WT=(t,e)=>e?t===e?!0:WT(t,e.parentElement):!1,Yh=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,h4=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function m4(t){return h4.has(t.tagName)||t.tabIndex!==-1}const Zl=new WeakSet;function ov(t){return e=>{e.key==="Enter"&&t(e)}}function uf(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const p4=(t,e)=>{const n=t.currentTarget;if(!n)return;const a=ov(()=>{if(Zl.has(n))return;uf(n,"down");const s=ov(()=>{uf(n,"up")}),l=()=>uf(n,"cancel");n.addEventListener("keyup",s,e),n.addEventListener("blur",l,e)});n.addEventListener("keydown",a,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",a),e)};function lv(t){return Yh(t)&&!QT()}function g4(t,e,n={}){const[a,s,l]=ZT(t,n),u=d=>{const h=d.currentTarget;if(!lv(d))return;Zl.add(h);const f=e(h,d),p=(S,M)=>{window.removeEventListener("pointerup",b),window.removeEventListener("pointercancel",T),Zl.has(h)&&Zl.delete(h),lv(S)&&typeof f=="function"&&f(S,{success:M})},b=S=>{p(S,h===window||h===document||n.useGlobalTarget||WT(h,S.target))},T=S=>{p(S,!1)};window.addEventListener("pointerup",b,s),window.addEventListener("pointercancel",T,s)};return a.forEach(d=>{(n.useGlobalTarget?window:d).addEventListener("pointerdown",u,s),HT(d)&&(d.addEventListener("focus",f=>p4(f,s)),!m4(d)&&!d.hasAttribute("tabindex")&&(d.tabIndex=0))}),l}function eS(t){return fT(t)&&"ownerSVGElement"in t}function y4(t){return eS(t)&&t.tagName==="svg"}const Gt=t=>!!(t&&t.getVelocity),x4=[...KT,At,Zi],v4=t=>x4.find(YT(t)),tS=ie.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function b4(t=!0){const e=ie.useContext(Eh);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:a,register:s}=e,l=ie.useId();ie.useEffect(()=>{if(t)return s(l)},[t]);const u=ie.useCallback(()=>t&&a&&a(l),[l,a,t]);return!n&&a?[!1,u]:[!0]}const nS=ie.createContext({strict:!1}),uv={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Da={};for(const t in uv)Da[t]={isEnabled:e=>uv[t].some(n=>!!e[n])};function T4(t){for(const e in t)Da[e]={...Da[e],...t[e]}}const S4=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function mu(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||S4.has(t)}let iS=t=>!mu(t);function C4(t){typeof t=="function"&&(iS=e=>e.startsWith("on")?!mu(e):t(e))}try{C4(require("@emotion/is-prop-valid").default)}catch{}function w4(t,e,n){const a={};for(const s in t)s==="values"&&typeof t.values=="object"||(iS(s)||n===!0&&mu(s)||!e&&!mu(s)||t.draggable&&s.startsWith("onDrag"))&&(a[s]=t[s]);return a}function E4(t){if(typeof Proxy>"u")return t;const e=new Map,n=(...a)=>t(...a);return new Proxy(n,{get:(a,s)=>s==="create"?t:(e.has(s)||e.set(s,t(s)),e.get(s))})}const Su=ie.createContext({});function Cu(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function oo(t){return typeof t=="string"||Array.isArray(t)}const Kh=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],$h=["initial",...Kh];function wu(t){return Cu(t.animate)||$h.some(e=>oo(t[e]))}function rS(t){return!!(wu(t)||t.variants)}function A4(t,e){if(wu(t)){const{initial:n,animate:a}=t;return{initial:n===!1||oo(n)?n:void 0,animate:oo(a)?a:void 0}}return t.inherit!==!1?e:{}}function M4(t){const{initial:e,animate:n}=A4(t,ie.useContext(Su));return ie.useMemo(()=>({initial:e,animate:n}),[cv(e),cv(n)])}function cv(t){return Array.isArray(t)?t.join(" "):t}const N4=Symbol.for("motionComponentSymbol");function Ta(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function D4(t,e,n){return ie.useCallback(a=>{a&&t.onMount&&t.onMount(a),e&&(a?e.mount(a):e.unmount()),n&&(typeof n=="function"?n(a):Ta(n)&&(n.current=a))},[e])}const Xh=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),R4="framerAppearId",aS="data-"+Xh(R4),sS=ie.createContext({});function k4(t,e,n,a,s){var D,k;const{visualElement:l}=ie.useContext(Su),u=ie.useContext(nS),d=ie.useContext(Eh),h=ie.useContext(tS).reducedMotion,f=ie.useRef(null);a=a||u.renderer,!f.current&&a&&(f.current=a(t,{visualState:e,parent:l,props:n,presenceContext:d,blockInitialAnimation:d?d.initial===!1:!1,reducedMotionConfig:h}));const p=f.current,b=ie.useContext(sS);p&&!p.projection&&s&&(p.type==="html"||p.type==="svg")&&_4(f.current,n,s,b);const T=ie.useRef(!1);ie.useInsertionEffect(()=>{p&&T.current&&p.update(n,d)});const S=n[aS],M=ie.useRef(!!S&&!((D=window.MotionHandoffIsComplete)!=null&&D.call(window,S))&&((k=window.MotionHasOptimisedAnimation)==null?void 0:k.call(window,S)));return CI(()=>{p&&(T.current=!0,window.MotionIsMounted=!0,p.updateFeatures(),qh.render(p.render),M.current&&p.animationState&&p.animationState.animateChanges())}),ie.useEffect(()=>{p&&(!M.current&&p.animationState&&p.animationState.animateChanges(),M.current&&(queueMicrotask(()=>{var _;(_=window.MotionHandoffMarkAsComplete)==null||_.call(window,S)}),M.current=!1))}),p}function _4(t,e,n,a){const{layoutId:s,layout:l,drag:u,dragConstraints:d,layoutScroll:h,layoutRoot:f,layoutCrossfade:p}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:oS(t.parent)),t.projection.setOptions({layoutId:s,layout:l,alwaysMeasureLayout:!!u||d&&Ta(d),visualElement:t,animationType:typeof l=="string"?l:"both",initialPromotionConfig:a,crossfade:p,layoutScroll:h,layoutRoot:f})}function oS(t){if(t)return t.options.allowProjection!==!1?t.projection:oS(t.parent)}function I4({preloadedFeatures:t,createVisualElement:e,useRender:n,useVisualState:a,Component:s}){t&&T4(t);function l(d,h){let f;const p={...ie.useContext(tS),...d,layoutId:P4(d)},{isStatic:b}=p,T=M4(d),S=a(d,b);if(!b&&wh){V4();const M=L4(p);f=M.MeasureLayout,T.visualElement=k4(s,S,p,e,M.ProjectionNode)}return g.jsxs(Su.Provider,{value:T,children:[f&&T.visualElement?g.jsx(f,{visualElement:T.visualElement,...p}):null,n(s,d,D4(S,T.visualElement,h),S,b,T.visualElement)]})}l.displayName=`motion.${typeof s=="string"?s:`create(${s.displayName??s.name??""})`}`;const u=ie.forwardRef(l);return u[N4]=s,u}function P4({layoutId:t}){const e=ie.useContext(cT).id;return e&&t!==void 0?e+"-"+t:t}function V4(t,e){ie.useContext(nS).strict}function L4(t){const{drag:e,layout:n}=Da;if(!e&&!n)return{};const a={...e,...n};return{MeasureLayout:e!=null&&e.isEnabled(t)||n!=null&&n.isEnabled(t)?a.MeasureLayout:void 0,ProjectionNode:a.ProjectionNode}}const lo={};function B4(t){for(const e in t)lo[e]=t[e],Ih(e)&&(lo[e].isCSSVariable=!0)}function lS(t,{layout:e,layoutId:n}){return Va.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!lo[t]||t==="opacity")}const j4={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},O4=Pa.length;function U4(t,e,n){let a="",s=!0;for(let l=0;l<O4;l++){const u=Pa[l],d=t[u];if(d===void 0)continue;let h=!0;if(typeof d=="number"?h=d===(u.startsWith("scale")?1:0):h=parseFloat(d)===0,!h||n){const f=JT(d,Gh[u]);if(!h){s=!1;const p=j4[u]||u;a+=`${p}(${f}) `}n&&(e[u]=f)}}return a=a.trim(),n?a=n(e,s?"":a):s&&(a="none"),a}function Jh(t,e,n){const{style:a,vars:s,transformOrigin:l}=t;let u=!1,d=!1;for(const h in e){const f=e[h];if(Va.has(h)){u=!0;continue}else if(Ih(h)){s[h]=f;continue}else{const p=JT(f,Gh[h]);h.startsWith("origin")?(d=!0,l[h]=p):a[h]=p}}if(e.transform||(u||n?a.transform=U4(e,t.transform,n):a.transform&&(a.transform="none")),d){const{originX:h="50%",originY:f="50%",originZ:p=0}=l;a.transformOrigin=`${h} ${f} ${p}`}}const Qh=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function uS(t,e,n){for(const a in e)!Gt(e[a])&&!lS(a,n)&&(t[a]=e[a])}function z4({transformTemplate:t},e){return ie.useMemo(()=>{const n=Qh();return Jh(n,e,t),Object.assign({},n.vars,n.style)},[e])}function F4(t,e){const n=t.style||{},a={};return uS(a,n,t),Object.assign(a,z4(t,e)),a}function H4(t,e){const n={},a=F4(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,a.userSelect=a.WebkitUserSelect=a.WebkitTouchCallout="none",a.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=a,n}const G4={offset:"stroke-dashoffset",array:"stroke-dasharray"},q4={offset:"strokeDashoffset",array:"strokeDasharray"};function Y4(t,e,n=1,a=0,s=!0){t.pathLength=1;const l=s?G4:q4;t[l.offset]=De.transform(-a);const u=De.transform(e),d=De.transform(n);t[l.array]=`${u} ${d}`}function cS(t,{attrX:e,attrY:n,attrScale:a,pathLength:s,pathSpacing:l=1,pathOffset:u=0,...d},h,f,p){if(Jh(t,d,f),h){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:b,style:T}=t;b.transform&&(T.transform=b.transform,delete b.transform),(T.transform||b.transformOrigin)&&(T.transformOrigin=b.transformOrigin??"50% 50%",delete b.transformOrigin),T.transform&&(T.transformBox=(p==null?void 0:p.transformBox)??"fill-box",delete b.transformBox),e!==void 0&&(b.x=e),n!==void 0&&(b.y=n),a!==void 0&&(b.scale=a),s!==void 0&&Y4(b,s,l,u,!1)}const dS=()=>({...Qh(),attrs:{}}),fS=t=>typeof t=="string"&&t.toLowerCase()==="svg";function K4(t,e,n,a){const s=ie.useMemo(()=>{const l=dS();return cS(l,e,fS(a),t.transformTemplate,t.style),{...l.attrs,style:{...l.style}}},[e]);if(t.style){const l={};uS(l,t.style,t),s.style={...l,...s.style}}return s}const $4=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Zh(t){return typeof t!="string"||t.includes("-")?!1:!!($4.indexOf(t)>-1||/[A-Z]/u.test(t))}function X4(t=!1){return(n,a,s,{latestValues:l},u)=>{const h=(Zh(n)?K4:H4)(a,l,u,n),f=w4(a,typeof n=="string",t),p=n!==ie.Fragment?{...f,...h,ref:s}:{},{children:b}=a,T=ie.useMemo(()=>Gt(b)?b.get():b,[b]);return ie.createElement(n,{...p,children:T})}}function dv(t){const e=[{},{}];return t==null||t.values.forEach((n,a)=>{e[0][a]=n.get(),e[1][a]=n.getVelocity()}),e}function Wh(t,e,n,a){if(typeof e=="function"){const[s,l]=dv(a);e=e(n!==void 0?n:t.custom,s,l)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[s,l]=dv(a);e=e(n!==void 0?n:t.custom,s,l)}return e}function Wl(t){return Gt(t)?t.get():t}function J4({scrapeMotionValuesFromProps:t,createRenderState:e},n,a,s){return{latestValues:Q4(n,a,s,t),renderState:e()}}const hS=t=>(e,n)=>{const a=ie.useContext(Su),s=ie.useContext(Eh),l=()=>J4(t,e,a,s);return n?l():SI(l)};function Q4(t,e,n,a){const s={},l=a(t,{});for(const T in l)s[T]=Wl(l[T]);let{initial:u,animate:d}=t;const h=wu(t),f=rS(t);e&&f&&!h&&t.inherit!==!1&&(u===void 0&&(u=e.initial),d===void 0&&(d=e.animate));let p=n?n.initial===!1:!1;p=p||u===!1;const b=p?d:u;if(b&&typeof b!="boolean"&&!Cu(b)){const T=Array.isArray(b)?b:[b];for(let S=0;S<T.length;S++){const M=Wh(t,T[S]);if(M){const{transitionEnd:D,transition:k,..._}=M;for(const O in _){let P=_[O];if(Array.isArray(P)){const G=p?P.length-1:0;P=P[G]}P!==null&&(s[O]=P)}for(const O in D)s[O]=D[O]}}}return s}function em(t,e,n){var l;const{style:a}=t,s={};for(const u in a)(Gt(a[u])||e.style&&Gt(e.style[u])||lS(u,t)||((l=n==null?void 0:n.getValue(u))==null?void 0:l.liveStyle)!==void 0)&&(s[u]=a[u]);return s}const Z4={useVisualState:hS({scrapeMotionValuesFromProps:em,createRenderState:Qh})};function mS(t,e,n){const a=em(t,e,n);for(const s in t)if(Gt(t[s])||Gt(e[s])){const l=Pa.indexOf(s)!==-1?"attr"+s.charAt(0).toUpperCase()+s.substring(1):s;a[l]=t[s]}return a}const W4={useVisualState:hS({scrapeMotionValuesFromProps:mS,createRenderState:dS})};function e5(t,e){return function(a,{forwardMotionProps:s}={forwardMotionProps:!1}){const u={...Zh(a)?W4:Z4,preloadedFeatures:t,useRender:X4(s),createVisualElement:e,Component:a};return I4(u)}}function uo(t,e,n){const a=t.getProps();return Wh(a,e,n!==void 0?n:a.custom,t)}const Zf=t=>Array.isArray(t);function t5(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,Na(n))}function n5(t){return Zf(t)?t[t.length-1]||0:t}function i5(t,e){const n=uo(t,e);let{transitionEnd:a={},transition:s={},...l}=n||{};l={...l,...a};for(const u in l){const d=n5(l[u]);t5(t,u,d)}}function r5(t){return!!(Gt(t)&&t.add)}function Wf(t,e){const n=t.getValue("willChange");if(r5(n))return n.add(e);if(!n&&bi.WillChange){const a=new bi.WillChange("auto");t.addValue("willChange",a),a.add(e)}}function pS(t){return t.props[aS]}const a5=t=>t!==null;function s5(t,{repeat:e,repeatType:n="loop"},a){const s=t.filter(a5),l=e&&n!=="loop"&&e%2===1?0:s.length-1;return s[l]}const o5={type:"spring",stiffness:500,damping:25,restSpeed:10},l5=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),u5={type:"keyframes",duration:.8},c5={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},d5=(t,{keyframes:e})=>e.length>2?u5:Va.has(t)?t.startsWith("scale")?l5(e[1]):o5:c5;function f5({when:t,delay:e,delayChildren:n,staggerChildren:a,staggerDirection:s,repeat:l,repeatType:u,repeatDelay:d,from:h,elapsed:f,...p}){return!!Object.keys(p).length}const tm=(t,e,n,a={},s,l)=>u=>{const d=Hh(a,t)||{},h=d.delay||a.delay||0;let{elapsed:f=0}=a;f=f-ei(h);const p={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...d,delay:-f,onUpdate:T=>{e.set(T),d.onUpdate&&d.onUpdate(T)},onComplete:()=>{u(),d.onComplete&&d.onComplete()},name:t,motionValue:e,element:l?void 0:s};f5(d)||Object.assign(p,d5(t,p)),p.duration&&(p.duration=ei(p.duration)),p.repeatDelay&&(p.repeatDelay=ei(p.repeatDelay)),p.from!==void 0&&(p.keyframes[0]=p.from);let b=!1;if((p.type===!1||p.duration===0&&!p.repeatDelay)&&(p.duration=0,p.delay===0&&(b=!0)),(bi.instantAnimations||bi.skipAnimations)&&(b=!0,p.duration=0,p.delay=0),p.allowFlatten=!d.type&&!d.ease,b&&!l&&e.get()!==void 0){const T=s5(p.keyframes,d);if(T!==void 0){dt.update(()=>{p.onUpdate(T),p.onComplete()});return}}return d.isSync?new zh(p):new X3(p)};function h5({protectedKeys:t,needsAnimating:e},n){const a=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,a}function gS(t,e,{delay:n=0,transitionOverride:a,type:s}={}){let{transition:l=t.getDefaultTransition(),transitionEnd:u,...d}=e;a&&(l=a);const h=[],f=s&&t.animationState&&t.animationState.getState()[s];for(const p in d){const b=t.getValue(p,t.latestValues[p]??null),T=d[p];if(T===void 0||f&&h5(f,p))continue;const S={delay:n,...Hh(l||{},p)},M=b.get();if(M!==void 0&&!b.isAnimating&&!Array.isArray(T)&&T===M&&!S.velocity)continue;let D=!1;if(window.MotionHandoffAnimation){const _=pS(t);if(_){const O=window.MotionHandoffAnimation(_,p,dt);O!==null&&(S.startTime=O,D=!0)}}Wf(t,p),b.start(tm(p,b,T,t.shouldReduceMotion&&qT.has(p)?{type:!1}:S,t,D));const k=b.animation;k&&h.push(k)}return u&&Promise.all(h).then(()=>{dt.update(()=>{u&&i5(t,u)})}),h}function eh(t,e,n={}){var h;const a=uo(t,e,n.type==="exit"?(h=t.presenceContext)==null?void 0:h.custom:void 0);let{transition:s=t.getDefaultTransition()||{}}=a||{};n.transitionOverride&&(s=n.transitionOverride);const l=a?()=>Promise.all(gS(t,a,n)):()=>Promise.resolve(),u=t.variantChildren&&t.variantChildren.size?(f=0)=>{const{delayChildren:p=0,staggerChildren:b,staggerDirection:T}=s;return m5(t,e,p+f,b,T,n)}:()=>Promise.resolve(),{when:d}=s;if(d){const[f,p]=d==="beforeChildren"?[l,u]:[u,l];return f().then(()=>p())}else return Promise.all([l(),u(n.delay)])}function m5(t,e,n=0,a=0,s=1,l){const u=[],d=(t.variantChildren.size-1)*a,h=s===1?(f=0)=>f*a:(f=0)=>d-f*a;return Array.from(t.variantChildren).sort(p5).forEach((f,p)=>{f.notify("AnimationStart",e),u.push(eh(f,e,{...l,delay:n+h(p)}).then(()=>f.notify("AnimationComplete",e)))}),Promise.all(u)}function p5(t,e){return t.sortNodePosition(e)}function g5(t,e,n={}){t.notify("AnimationStart",e);let a;if(Array.isArray(e)){const s=e.map(l=>eh(t,l,n));a=Promise.all(s)}else if(typeof e=="string")a=eh(t,e,n);else{const s=typeof e=="function"?uo(t,e,n.custom):e;a=Promise.all(gS(t,s,n))}return a.then(()=>{t.notify("AnimationComplete",e)})}function yS(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let a=0;a<n;a++)if(e[a]!==t[a])return!1;return!0}const y5=$h.length;function xS(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?xS(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<y5;n++){const a=$h[n],s=t.props[a];(oo(s)||s===!1)&&(e[a]=s)}return e}const x5=[...Kh].reverse(),v5=Kh.length;function b5(t){return e=>Promise.all(e.map(({animation:n,options:a})=>g5(t,n,a)))}function T5(t){let e=b5(t),n=fv(),a=!0;const s=h=>(f,p)=>{var T;const b=uo(t,p,h==="exit"?(T=t.presenceContext)==null?void 0:T.custom:void 0);if(b){const{transition:S,transitionEnd:M,...D}=b;f={...f,...D,...M}}return f};function l(h){e=h(t)}function u(h){const{props:f}=t,p=xS(t.parent)||{},b=[],T=new Set;let S={},M=1/0;for(let k=0;k<v5;k++){const _=x5[k],O=n[_],P=f[_]!==void 0?f[_]:p[_],G=oo(P),K=_===h?O.isActive:null;K===!1&&(M=k);let z=P===p[_]&&P!==f[_]&&G;if(z&&a&&t.manuallyAnimateOnMount&&(z=!1),O.protectedKeys={...S},!O.isActive&&K===null||!P&&!O.prevProp||Cu(P)||typeof P=="boolean")continue;const Z=S5(O.prevProp,P);let re=Z||_===h&&O.isActive&&!z&&G||k>M&&G,pe=!1;const ge=Array.isArray(P)?P:[P];let ae=ge.reduce(s(_),{});K===!1&&(ae={});const{prevResolvedValues:ue={}}=O,ye={...ue,...ae},se=L=>{re=!0,T.has(L)&&(pe=!0,T.delete(L)),O.needsAnimating[L]=!0;const N=t.getValue(L);N&&(N.liveStyle=!1)};for(const L in ye){const N=ae[L],R=ue[L];if(S.hasOwnProperty(L))continue;let C=!1;Zf(N)&&Zf(R)?C=!yS(N,R):C=N!==R,C?N!=null?se(L):T.add(L):N!==void 0&&T.has(L)?se(L):O.protectedKeys[L]=!0}O.prevProp=P,O.prevResolvedValues=ae,O.isActive&&(S={...S,...ae}),a&&t.blockInitialAnimation&&(re=!1),re&&(!(z&&Z)||pe)&&b.push(...ge.map(L=>({animation:L,options:{type:_}})))}if(T.size){const k={};if(typeof f.initial!="boolean"){const _=uo(t,Array.isArray(f.initial)?f.initial[0]:f.initial);_&&_.transition&&(k.transition=_.transition)}T.forEach(_=>{const O=t.getBaseTarget(_),P=t.getValue(_);P&&(P.liveStyle=!0),k[_]=O??null}),b.push({animation:k})}let D=!!b.length;return a&&(f.initial===!1||f.initial===f.animate)&&!t.manuallyAnimateOnMount&&(D=!1),a=!1,D?e(b):Promise.resolve()}function d(h,f){var b;if(n[h].isActive===f)return Promise.resolve();(b=t.variantChildren)==null||b.forEach(T=>{var S;return(S=T.animationState)==null?void 0:S.setActive(h,f)}),n[h].isActive=f;const p=u(h);for(const T in n)n[T].protectedKeys={};return p}return{animateChanges:u,setActive:d,setAnimateFunction:l,getState:()=>n,reset:()=>{n=fv(),a=!0}}}function S5(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!yS(e,t):!1}function Cr(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function fv(){return{animate:Cr(!0),whileInView:Cr(),whileHover:Cr(),whileTap:Cr(),whileDrag:Cr(),whileFocus:Cr(),exit:Cr()}}class ir{constructor(e){this.isMounted=!1,this.node=e}update(){}}class C5 extends ir{constructor(e){super(e),e.animationState||(e.animationState=T5(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();Cu(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)==null||e.call(this)}}let w5=0;class E5 extends ir{constructor(){super(...arguments),this.id=w5++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:a}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===a)return;const s=this.node.animationState.setActive("exit",!e);n&&!e&&s.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const A5={animation:{Feature:C5},exit:{Feature:E5}};function co(t,e,n,a={passive:!0}){return t.addEventListener(e,n,a),()=>t.removeEventListener(e,n)}function vo(t){return{point:{x:t.pageX,y:t.pageY}}}const M5=t=>e=>Yh(e)&&t(e,vo(e));function Ws(t,e,n,a){return co(t,e,M5(n),a)}function vS({top:t,left:e,right:n,bottom:a}){return{x:{min:e,max:n},y:{min:t,max:a}}}function N5({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function D5(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),a=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:a.y,right:a.x}}const bS=1e-4,R5=1-bS,k5=1+bS,TS=.01,_5=0-TS,I5=0+TS;function Jt(t){return t.max-t.min}function P5(t,e,n){return Math.abs(t-e)<=n}function hv(t,e,n,a=.5){t.origin=a,t.originPoint=ct(e.min,e.max,t.origin),t.scale=Jt(n)/Jt(e),t.translate=ct(n.min,n.max,t.origin)-t.originPoint,(t.scale>=R5&&t.scale<=k5||isNaN(t.scale))&&(t.scale=1),(t.translate>=_5&&t.translate<=I5||isNaN(t.translate))&&(t.translate=0)}function eo(t,e,n,a){hv(t.x,e.x,n.x,a?a.originX:void 0),hv(t.y,e.y,n.y,a?a.originY:void 0)}function mv(t,e,n){t.min=n.min+e.min,t.max=t.min+Jt(e)}function V5(t,e,n){mv(t.x,e.x,n.x),mv(t.y,e.y,n.y)}function pv(t,e,n){t.min=e.min-n.min,t.max=t.min+Jt(e)}function to(t,e,n){pv(t.x,e.x,n.x),pv(t.y,e.y,n.y)}const gv=()=>({translate:0,scale:1,origin:0,originPoint:0}),Sa=()=>({x:gv(),y:gv()}),yv=()=>({min:0,max:0}),Tt=()=>({x:yv(),y:yv()});function In(t){return[t("x"),t("y")]}function cf(t){return t===void 0||t===1}function th({scale:t,scaleX:e,scaleY:n}){return!cf(t)||!cf(e)||!cf(n)}function Er(t){return th(t)||SS(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function SS(t){return xv(t.x)||xv(t.y)}function xv(t){return t&&t!=="0%"}function pu(t,e,n){const a=t-n,s=e*a;return n+s}function vv(t,e,n,a,s){return s!==void 0&&(t=pu(t,s,a)),pu(t,n,a)+e}function nh(t,e=0,n=1,a,s){t.min=vv(t.min,e,n,a,s),t.max=vv(t.max,e,n,a,s)}function CS(t,{x:e,y:n}){nh(t.x,e.translate,e.scale,e.originPoint),nh(t.y,n.translate,n.scale,n.originPoint)}const bv=.999999999999,Tv=1.0000000000001;function L5(t,e,n,a=!1){const s=n.length;if(!s)return;e.x=e.y=1;let l,u;for(let d=0;d<s;d++){l=n[d],u=l.projectionDelta;const{visualElement:h}=l.options;h&&h.props.style&&h.props.style.display==="contents"||(a&&l.options.layoutScroll&&l.scroll&&l!==l.root&&wa(t,{x:-l.scroll.offset.x,y:-l.scroll.offset.y}),u&&(e.x*=u.x.scale,e.y*=u.y.scale,CS(t,u)),a&&Er(l.latestValues)&&wa(t,l.latestValues))}e.x<Tv&&e.x>bv&&(e.x=1),e.y<Tv&&e.y>bv&&(e.y=1)}function Ca(t,e){t.min=t.min+e,t.max=t.max+e}function Sv(t,e,n,a,s=.5){const l=ct(t.min,t.max,s);nh(t,e,n,l,a)}function wa(t,e){Sv(t.x,e.x,e.scaleX,e.scale,e.originX),Sv(t.y,e.y,e.scaleY,e.scale,e.originY)}function wS(t,e){return vS(D5(t.getBoundingClientRect(),e))}function B5(t,e,n){const a=wS(t,n),{scroll:s}=e;return s&&(Ca(a.x,s.offset.x),Ca(a.y,s.offset.y)),a}const ES=({current:t})=>t?t.ownerDocument.defaultView:null,Cv=(t,e)=>Math.abs(t-e);function j5(t,e){const n=Cv(t.x,e.x),a=Cv(t.y,e.y);return Math.sqrt(n**2+a**2)}class AS{constructor(e,n,{transformPagePoint:a,contextWindow:s,dragSnapToOrigin:l=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const b=ff(this.lastMoveEventInfo,this.history),T=this.startEvent!==null,S=j5(b.offset,{x:0,y:0})>=3;if(!T&&!S)return;const{point:M}=b,{timestamp:D}=Ot;this.history.push({...M,timestamp:D});const{onStart:k,onMove:_}=this.handlers;T||(k&&k(this.lastMoveEvent,b),this.startEvent=this.lastMoveEvent),_&&_(this.lastMoveEvent,b)},this.handlePointerMove=(b,T)=>{this.lastMoveEvent=b,this.lastMoveEventInfo=df(T,this.transformPagePoint),dt.update(this.updatePoint,!0)},this.handlePointerUp=(b,T)=>{this.end();const{onEnd:S,onSessionEnd:M,resumeAnimation:D}=this.handlers;if(this.dragSnapToOrigin&&D&&D(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const k=ff(b.type==="pointercancel"?this.lastMoveEventInfo:df(T,this.transformPagePoint),this.history);this.startEvent&&S&&S(b,k),M&&M(b,k)},!Yh(e))return;this.dragSnapToOrigin=l,this.handlers=n,this.transformPagePoint=a,this.contextWindow=s||window;const u=vo(e),d=df(u,this.transformPagePoint),{point:h}=d,{timestamp:f}=Ot;this.history=[{...h,timestamp:f}];const{onSessionStart:p}=n;p&&p(e,ff(d,this.history)),this.removeListeners=go(Ws(this.contextWindow,"pointermove",this.handlePointerMove),Ws(this.contextWindow,"pointerup",this.handlePointerUp),Ws(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Qi(this.updatePoint)}}function df(t,e){return e?{point:e(t.point)}:t}function wv(t,e){return{x:t.x-e.x,y:t.y-e.y}}function ff({point:t},e){return{point:t,delta:wv(t,MS(e)),offset:wv(t,O5(e)),velocity:U5(e,.1)}}function O5(t){return t[0]}function MS(t){return t[t.length-1]}function U5(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,a=null;const s=MS(t);for(;n>=0&&(a=t[n],!(s.timestamp-a.timestamp>ei(e)));)n--;if(!a)return{x:0,y:0};const l=ti(s.timestamp-a.timestamp);if(l===0)return{x:0,y:0};const u={x:(s.x-a.x)/l,y:(s.y-a.y)/l};return u.x===1/0&&(u.x=0),u.y===1/0&&(u.y=0),u}function z5(t,{min:e,max:n},a){return e!==void 0&&t<e?t=a?ct(e,t,a.min):Math.max(t,e):n!==void 0&&t>n&&(t=a?ct(n,t,a.max):Math.min(t,n)),t}function Ev(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function F5(t,{top:e,left:n,bottom:a,right:s}){return{x:Ev(t.x,n,s),y:Ev(t.y,e,a)}}function Av(t,e){let n=e.min-t.min,a=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,a]=[a,n]),{min:n,max:a}}function H5(t,e){return{x:Av(t.x,e.x),y:Av(t.y,e.y)}}function G5(t,e){let n=.5;const a=Jt(t),s=Jt(e);return s>a?n=ro(e.min,e.max-a,t.min):a>s&&(n=ro(t.min,t.max-s,e.min)),vi(0,1,n)}function q5(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const ih=.35;function Y5(t=ih){return t===!1?t=0:t===!0&&(t=ih),{x:Mv(t,"left","right"),y:Mv(t,"top","bottom")}}function Mv(t,e,n){return{min:Nv(t,e),max:Nv(t,n)}}function Nv(t,e){return typeof t=="number"?t:t[e]||0}const K5=new WeakMap;class $5{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Tt(),this.visualElement=e}start(e,{snapToCursor:n=!1}={}){const{presenceContext:a}=this.visualElement;if(a&&a.isPresent===!1)return;const s=p=>{const{dragSnapToOrigin:b}=this.getProps();b?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(vo(p).point)},l=(p,b)=>{const{drag:T,dragPropagation:S,onDragStart:M}=this.getProps();if(T&&!S&&(this.openDragLock&&this.openDragLock(),this.openDragLock=d4(T),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),In(k=>{let _=this.getAxisMotionValue(k).get()||0;if(ni.test(_)){const{projection:O}=this.visualElement;if(O&&O.layout){const P=O.layout.layoutBox[k];P&&(_=Jt(P)*(parseFloat(_)/100))}}this.originPoint[k]=_}),M&&dt.postRender(()=>M(p,b)),Wf(this.visualElement,"transform");const{animationState:D}=this.visualElement;D&&D.setActive("whileDrag",!0)},u=(p,b)=>{const{dragPropagation:T,dragDirectionLock:S,onDirectionLock:M,onDrag:D}=this.getProps();if(!T&&!this.openDragLock)return;const{offset:k}=b;if(S&&this.currentDirection===null){this.currentDirection=X5(k),this.currentDirection!==null&&M&&M(this.currentDirection);return}this.updateAxis("x",b.point,k),this.updateAxis("y",b.point,k),this.visualElement.render(),D&&D(p,b)},d=(p,b)=>this.stop(p,b),h=()=>In(p=>{var b;return this.getAnimationState(p)==="paused"&&((b=this.getAxisMotionValue(p).animation)==null?void 0:b.play())}),{dragSnapToOrigin:f}=this.getProps();this.panSession=new AS(e,{onSessionStart:s,onStart:l,onMove:u,onSessionEnd:d,resumeAnimation:h},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:f,contextWindow:ES(this.visualElement)})}stop(e,n){const a=this.isDragging;if(this.cancel(),!a)return;const{velocity:s}=n;this.startAnimation(s);const{onDragEnd:l}=this.getProps();l&&dt.postRender(()=>l(e,n))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:a}=this.getProps();!a&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,a){const{drag:s}=this.getProps();if(!a||!Gl(e,s,this.currentDirection))return;const l=this.getAxisMotionValue(e);let u=this.originPoint[e]+a[e];this.constraints&&this.constraints[e]&&(u=z5(u,this.constraints[e],this.elastic[e])),l.set(u)}resolveConstraints(){var l;const{dragConstraints:e,dragElastic:n}=this.getProps(),a=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(l=this.visualElement.projection)==null?void 0:l.layout,s=this.constraints;e&&Ta(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&a?this.constraints=F5(a.layoutBox,e):this.constraints=!1,this.elastic=Y5(n),s!==this.constraints&&a&&this.constraints&&!this.hasMutatedConstraints&&In(u=>{this.constraints!==!1&&this.getAxisMotionValue(u)&&(this.constraints[u]=q5(a.layoutBox[u],this.constraints[u]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!Ta(e))return!1;const a=e.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const l=B5(a,s.root,this.visualElement.getTransformPagePoint());let u=H5(s.layout.layoutBox,l);if(n){const d=n(N5(u));this.hasMutatedConstraints=!!d,d&&(u=vS(d))}return u}startAnimation(e){const{drag:n,dragMomentum:a,dragElastic:s,dragTransition:l,dragSnapToOrigin:u,onDragTransitionEnd:d}=this.getProps(),h=this.constraints||{},f=In(p=>{if(!Gl(p,n,this.currentDirection))return;let b=h&&h[p]||{};u&&(b={min:0,max:0});const T=s?200:1e6,S=s?40:1e7,M={type:"inertia",velocity:a?e[p]:0,bounceStiffness:T,bounceDamping:S,timeConstant:750,restDelta:1,restSpeed:10,...l,...b};return this.startAxisValueAnimation(p,M)});return Promise.all(f).then(d)}startAxisValueAnimation(e,n){const a=this.getAxisMotionValue(e);return Wf(this.visualElement,e),a.start(tm(e,a,0,n,this.visualElement,!1))}stopAnimation(){In(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){In(e=>{var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,a=this.visualElement.getProps(),s=a[n];return s||this.visualElement.getValue(e,(a.initial?a.initial[e]:void 0)||0)}snapToCursor(e){In(n=>{const{drag:a}=this.getProps();if(!Gl(n,a,this.currentDirection))return;const{projection:s}=this.visualElement,l=this.getAxisMotionValue(n);if(s&&s.layout){const{min:u,max:d}=s.layout.layoutBox[n];l.set(e[n]-ct(u,d,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:a}=this.visualElement;if(!Ta(n)||!a||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};In(u=>{const d=this.getAxisMotionValue(u);if(d&&this.constraints!==!1){const h=d.get();s[u]=G5({min:h,max:h},this.constraints[u])}});const{transformTemplate:l}=this.visualElement.getProps();this.visualElement.current.style.transform=l?l({},""):"none",a.root&&a.root.updateScroll(),a.updateLayout(),this.resolveConstraints(),In(u=>{if(!Gl(u,e,null))return;const d=this.getAxisMotionValue(u),{min:h,max:f}=this.constraints[u];d.set(ct(h,f,s[u]))})}addListeners(){if(!this.visualElement.current)return;K5.set(this.visualElement,this);const e=this.visualElement.current,n=Ws(e,"pointerdown",h=>{const{drag:f,dragListener:p=!0}=this.getProps();f&&p&&this.start(h)}),a=()=>{const{dragConstraints:h}=this.getProps();Ta(h)&&h.current&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,l=s.addEventListener("measure",a);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),dt.read(a);const u=co(window,"resize",()=>this.scalePositionWithinConstraints()),d=s.addEventListener("didUpdate",({delta:h,hasLayoutChanged:f})=>{this.isDragging&&f&&(In(p=>{const b=this.getAxisMotionValue(p);b&&(this.originPoint[p]+=h[p].translate,b.set(b.get()+h[p].translate))}),this.visualElement.render())});return()=>{u(),n(),l(),d&&d()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:a=!1,dragPropagation:s=!1,dragConstraints:l=!1,dragElastic:u=ih,dragMomentum:d=!0}=e;return{...e,drag:n,dragDirectionLock:a,dragPropagation:s,dragConstraints:l,dragElastic:u,dragMomentum:d}}}function Gl(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function X5(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class J5 extends ir{constructor(e){super(e),this.removeGroupControls=Vn,this.removeListeners=Vn,this.controls=new $5(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Vn}unmount(){this.removeGroupControls(),this.removeListeners()}}const Dv=t=>(e,n)=>{t&&dt.postRender(()=>t(e,n))};class Q5 extends ir{constructor(){super(...arguments),this.removePointerDownListener=Vn}onPointerDown(e){this.session=new AS(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:ES(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:a,onPanEnd:s}=this.node.getProps();return{onSessionStart:Dv(e),onStart:Dv(n),onMove:a,onEnd:(l,u)=>{delete this.session,s&&dt.postRender(()=>s(l,u))}}}mount(){this.removePointerDownListener=Ws(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const eu={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function Rv(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const Gs={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(De.test(t))t=parseFloat(t);else return t;const n=Rv(t,e.target.x),a=Rv(t,e.target.y);return`${n}% ${a}%`}},Z5={correct:(t,{treeScale:e,projectionDelta:n})=>{const a=t,s=Zi.parse(t);if(s.length>5)return a;const l=Zi.createTransformer(t),u=typeof s[0]!="number"?1:0,d=n.x.scale*e.x,h=n.y.scale*e.y;s[0+u]/=d,s[1+u]/=h;const f=ct(d,h,.5);return typeof s[2+u]=="number"&&(s[2+u]/=f),typeof s[3+u]=="number"&&(s[3+u]/=f),l(s)}};class W5 extends ie.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:a,layoutId:s}=this.props,{projection:l}=e;B4(eP),l&&(n.group&&n.group.add(l),a&&a.register&&s&&a.register(l),l.root.didUpdate(),l.addEventListener("animationComplete",()=>{this.safeToRemove()}),l.setOptions({...l.options,onExitComplete:()=>this.safeToRemove()})),eu.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:a,drag:s,isPresent:l}=this.props,{projection:u}=a;return u&&(u.isPresent=l,s||e.layoutDependency!==n||n===void 0||e.isPresent!==l?u.willUpdate():this.safeToRemove(),e.isPresent!==l&&(l?u.promote():u.relegate()||dt.postRender(()=>{const d=u.getStack();(!d||!d.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),qh.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:a}=this.props,{projection:s}=e;s&&(s.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(s),a&&a.deregister&&a.deregister(s))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function NS(t){const[e,n]=b4(),a=ie.useContext(cT);return g.jsx(W5,{...t,layoutGroup:a,switchLayoutGroup:ie.useContext(sS),isPresent:e,safeToRemove:n})}const eP={borderRadius:{...Gs,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Gs,borderTopRightRadius:Gs,borderBottomLeftRadius:Gs,borderBottomRightRadius:Gs,boxShadow:Z5};function tP(t,e,n){const a=Gt(t)?t:Na(t);return a.start(tm("",a,e,n)),a.animation}const nP=(t,e)=>t.depth-e.depth;class iP{constructor(){this.children=[],this.isDirty=!1}add(e){Ah(this.children,e),this.isDirty=!0}remove(e){Mh(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(nP),this.isDirty=!1,this.children.forEach(e)}}function rP(t,e){const n=rn.now(),a=({timestamp:s})=>{const l=s-n;l>=e&&(Qi(a),t(l-e))};return dt.setup(a,!0),()=>Qi(a)}const DS=["TopLeft","TopRight","BottomLeft","BottomRight"],aP=DS.length,kv=t=>typeof t=="string"?parseFloat(t):t,_v=t=>typeof t=="number"||De.test(t);function sP(t,e,n,a,s,l){s?(t.opacity=ct(0,n.opacity??1,oP(a)),t.opacityExit=ct(e.opacity??1,0,lP(a))):l&&(t.opacity=ct(e.opacity??1,n.opacity??1,a));for(let u=0;u<aP;u++){const d=`border${DS[u]}Radius`;let h=Iv(e,d),f=Iv(n,d);if(h===void 0&&f===void 0)continue;h||(h=0),f||(f=0),h===0||f===0||_v(h)===_v(f)?(t[d]=Math.max(ct(kv(h),kv(f),a),0),(ni.test(f)||ni.test(h))&&(t[d]+="%")):t[d]=f}(e.rotate||n.rotate)&&(t.rotate=ct(e.rotate||0,n.rotate||0,a))}function Iv(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const oP=RS(0,.5,TT),lP=RS(.5,.95,Vn);function RS(t,e,n){return a=>a<t?0:a>e?1:n(ro(t,e,a))}function Pv(t,e){t.min=e.min,t.max=e.max}function Rn(t,e){Pv(t.x,e.x),Pv(t.y,e.y)}function Vv(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function Lv(t,e,n,a,s){return t-=e,t=pu(t,1/n,a),s!==void 0&&(t=pu(t,1/s,a)),t}function uP(t,e=0,n=1,a=.5,s,l=t,u=t){if(ni.test(e)&&(e=parseFloat(e),e=ct(u.min,u.max,e/100)-u.min),typeof e!="number")return;let d=ct(l.min,l.max,a);t===l&&(d-=e),t.min=Lv(t.min,e,n,d,s),t.max=Lv(t.max,e,n,d,s)}function Bv(t,e,[n,a,s],l,u){uP(t,e[n],e[a],e[s],e.scale,l,u)}const cP=["x","scaleX","originX"],dP=["y","scaleY","originY"];function jv(t,e,n,a){Bv(t.x,e,cP,n?n.x:void 0,a?a.x:void 0),Bv(t.y,e,dP,n?n.y:void 0,a?a.y:void 0)}function Ov(t){return t.translate===0&&t.scale===1}function kS(t){return Ov(t.x)&&Ov(t.y)}function Uv(t,e){return t.min===e.min&&t.max===e.max}function fP(t,e){return Uv(t.x,e.x)&&Uv(t.y,e.y)}function zv(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function _S(t,e){return zv(t.x,e.x)&&zv(t.y,e.y)}function Fv(t){return Jt(t.x)/Jt(t.y)}function Hv(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class hP{constructor(){this.members=[]}add(e){Ah(this.members,e),e.scheduleRender()}remove(e){if(Mh(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(s=>e===s);if(n===0)return!1;let a;for(let s=n;s>=0;s--){const l=this.members[s];if(l.isPresent!==!1){a=l;break}}return a?(this.promote(a),!0):!1}promote(e,n){const a=this.lead;if(e!==a&&(this.prevLead=a,this.lead=e,e.show(),a)){a.instance&&a.scheduleRender(),e.scheduleRender(),e.resumeFrom=a,n&&(e.resumeFrom.preserveOpacity=!0),a.snapshot&&(e.snapshot=a.snapshot,e.snapshot.latestValues=a.animationValues||a.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:s}=e.options;s===!1&&a.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:a}=e;n.onExitComplete&&n.onExitComplete(),a&&a.options.onExitComplete&&a.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function mP(t,e,n){let a="";const s=t.x.translate/e.x,l=t.y.translate/e.y,u=(n==null?void 0:n.z)||0;if((s||l||u)&&(a=`translate3d(${s}px, ${l}px, ${u}px) `),(e.x!==1||e.y!==1)&&(a+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:f,rotate:p,rotateX:b,rotateY:T,skewX:S,skewY:M}=n;f&&(a=`perspective(${f}px) ${a}`),p&&(a+=`rotate(${p}deg) `),b&&(a+=`rotateX(${b}deg) `),T&&(a+=`rotateY(${T}deg) `),S&&(a+=`skewX(${S}deg) `),M&&(a+=`skewY(${M}deg) `)}const d=t.x.scale*e.x,h=t.y.scale*e.y;return(d!==1||h!==1)&&(a+=`scale(${d}, ${h})`),a||"none"}const hf=["","X","Y","Z"],pP={visibility:"hidden"},gP=1e3;let yP=0;function mf(t,e,n,a){const{latestValues:s}=e;s[t]&&(n[t]=s[t],e.setStaticValue(t,0),a&&(a[t]=0))}function IS(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=pS(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:s,layoutId:l}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",dt,!(s||l))}const{parent:a}=t;a&&!a.hasCheckedOptimisedAppear&&IS(a)}function PS({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:a,resetTransform:s}){return class{constructor(u={},d=e==null?void 0:e()){this.id=yP++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(bP),this.nodes.forEach(EP),this.nodes.forEach(AP),this.nodes.forEach(TP)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=u,this.root=d?d.root||d:this,this.path=d?[...d.path,d]:[],this.parent=d,this.depth=d?d.depth+1:0;for(let h=0;h<this.path.length;h++)this.path[h].shouldResetTransform=!0;this.root===this&&(this.nodes=new iP)}addEventListener(u,d){return this.eventHandlers.has(u)||this.eventHandlers.set(u,new Rh),this.eventHandlers.get(u).add(d)}notifyListeners(u,...d){const h=this.eventHandlers.get(u);h&&h.notify(...d)}hasListeners(u){return this.eventHandlers.has(u)}mount(u){if(this.instance)return;this.isSVG=eS(u)&&!y4(u),this.instance=u;const{layoutId:d,layout:h,visualElement:f}=this.options;if(f&&!f.current&&f.mount(u),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(h||d)&&(this.isLayoutDirty=!0),t){let p;const b=()=>this.root.updateBlockedByResize=!1;t(u,()=>{this.root.updateBlockedByResize=!0,p&&p(),p=rP(b,250),eu.hasAnimatedSinceResize&&(eu.hasAnimatedSinceResize=!1,this.nodes.forEach(qv))})}d&&this.root.registerSharedNode(d,this),this.options.animate!==!1&&f&&(d||h)&&this.addEventListener("didUpdate",({delta:p,hasLayoutChanged:b,hasRelativeLayoutChanged:T,layout:S})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const M=this.options.transition||f.getDefaultTransition()||kP,{onLayoutAnimationStart:D,onLayoutAnimationComplete:k}=f.getProps(),_=!this.targetLayout||!_S(this.targetLayout,S),O=!b&&T;if(this.options.layoutRoot||this.resumeFrom||O||b&&(_||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const P={...Hh(M,"layout"),onPlay:D,onComplete:k};(f.shouldReduceMotion||this.options.layoutRoot)&&(P.delay=0,P.type=!1),this.startAnimation(P),this.setAnimationOrigin(p,O)}else b||qv(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=S})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const u=this.getStack();u&&u.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Qi(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(MP),this.animationId++)}getTransformTemplate(){const{visualElement:u}=this.options;return u&&u.getProps().transformTemplate}willUpdate(u=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&IS(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let p=0;p<this.path.length;p++){const b=this.path[p];b.shouldResetTransform=!0,b.updateScroll("snapshot"),b.options.layoutRoot&&b.willUpdate(!1)}const{layoutId:d,layout:h}=this.options;if(d===void 0&&!h)return;const f=this.getTransformTemplate();this.prevTransformTemplateValue=f?f(this.latestValues,""):void 0,this.updateSnapshot(),u&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(Gv);return}this.isUpdating||this.nodes.forEach(CP),this.isUpdating=!1,this.nodes.forEach(wP),this.nodes.forEach(xP),this.nodes.forEach(vP),this.clearAllSnapshots();const d=rn.now();Ot.delta=vi(0,1e3/60,d-Ot.timestamp),Ot.timestamp=d,Ot.isProcessing=!0,rf.update.process(Ot),rf.preRender.process(Ot),rf.render.process(Ot),Ot.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,qh.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(SP),this.sharedNodes.forEach(NP)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,dt.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){dt.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Jt(this.snapshot.measuredBox.x)&&!Jt(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let h=0;h<this.path.length;h++)this.path[h].updateScroll();const u=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Tt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:d}=this.options;d&&d.notify("LayoutMeasure",this.layout.layoutBox,u?u.layoutBox:void 0)}updateScroll(u="measure"){let d=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===u&&(d=!1),d&&this.instance){const h=a(this.instance);this.scroll={animationId:this.root.animationId,phase:u,isRoot:h,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:h}}}resetTransform(){if(!s)return;const u=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,d=this.projectionDelta&&!kS(this.projectionDelta),h=this.getTransformTemplate(),f=h?h(this.latestValues,""):void 0,p=f!==this.prevTransformTemplateValue;u&&this.instance&&(d||Er(this.latestValues)||p)&&(s(this.instance,f),this.shouldResetTransform=!1,this.scheduleRender())}measure(u=!0){const d=this.measurePageBox();let h=this.removeElementScroll(d);return u&&(h=this.removeTransform(h)),_P(h),{animationId:this.root.animationId,measuredBox:d,layoutBox:h,latestValues:{},source:this.id}}measurePageBox(){var f;const{visualElement:u}=this.options;if(!u)return Tt();const d=u.measureViewportBox();if(!(((f=this.scroll)==null?void 0:f.wasRoot)||this.path.some(IP))){const{scroll:p}=this.root;p&&(Ca(d.x,p.offset.x),Ca(d.y,p.offset.y))}return d}removeElementScroll(u){var h;const d=Tt();if(Rn(d,u),(h=this.scroll)!=null&&h.wasRoot)return d;for(let f=0;f<this.path.length;f++){const p=this.path[f],{scroll:b,options:T}=p;p!==this.root&&b&&T.layoutScroll&&(b.wasRoot&&Rn(d,u),Ca(d.x,b.offset.x),Ca(d.y,b.offset.y))}return d}applyTransform(u,d=!1){const h=Tt();Rn(h,u);for(let f=0;f<this.path.length;f++){const p=this.path[f];!d&&p.options.layoutScroll&&p.scroll&&p!==p.root&&wa(h,{x:-p.scroll.offset.x,y:-p.scroll.offset.y}),Er(p.latestValues)&&wa(h,p.latestValues)}return Er(this.latestValues)&&wa(h,this.latestValues),h}removeTransform(u){const d=Tt();Rn(d,u);for(let h=0;h<this.path.length;h++){const f=this.path[h];if(!f.instance||!Er(f.latestValues))continue;th(f.latestValues)&&f.updateSnapshot();const p=Tt(),b=f.measurePageBox();Rn(p,b),jv(d,f.latestValues,f.snapshot?f.snapshot.layoutBox:void 0,p)}return Er(this.latestValues)&&jv(d,this.latestValues),d}setTargetDelta(u){this.targetDelta=u,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(u){this.options={...this.options,...u,crossfade:u.crossfade!==void 0?u.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Ot.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(u=!1){var T;const d=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=d.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=d.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=d.isSharedProjectionDirty);const h=!!this.resumingFrom||this!==d;if(!(u||h&&this.isSharedProjectionDirty||this.isProjectionDirty||(T=this.parent)!=null&&T.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:p,layoutId:b}=this.options;if(!(!this.layout||!(p||b))){if(this.resolvedRelativeTargetAt=Ot.timestamp,!this.targetDelta&&!this.relativeTarget){const S=this.getClosestProjectingParent();S&&S.layout&&this.animationProgress!==1?(this.relativeParent=S,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Tt(),this.relativeTargetOrigin=Tt(),to(this.relativeTargetOrigin,this.layout.layoutBox,S.layout.layoutBox),Rn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Tt(),this.targetWithTransforms=Tt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),V5(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Rn(this.target,this.layout.layoutBox),CS(this.target,this.targetDelta)):Rn(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const S=this.getClosestProjectingParent();S&&!!S.resumingFrom==!!this.resumingFrom&&!S.options.layoutScroll&&S.target&&this.animationProgress!==1?(this.relativeParent=S,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Tt(),this.relativeTargetOrigin=Tt(),to(this.relativeTargetOrigin,this.target,S.target),Rn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||th(this.parent.latestValues)||SS(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var M;const u=this.getLead(),d=!!this.resumingFrom||this!==u;let h=!0;if((this.isProjectionDirty||(M=this.parent)!=null&&M.isProjectionDirty)&&(h=!1),d&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(h=!1),this.resolvedRelativeTargetAt===Ot.timestamp&&(h=!1),h)return;const{layout:f,layoutId:p}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(f||p))return;Rn(this.layoutCorrected,this.layout.layoutBox);const b=this.treeScale.x,T=this.treeScale.y;L5(this.layoutCorrected,this.treeScale,this.path,d),u.layout&&!u.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(u.target=u.layout.layoutBox,u.targetWithTransforms=Tt());const{target:S}=u;if(!S){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(Vv(this.prevProjectionDelta.x,this.projectionDelta.x),Vv(this.prevProjectionDelta.y,this.projectionDelta.y)),eo(this.projectionDelta,this.layoutCorrected,S,this.latestValues),(this.treeScale.x!==b||this.treeScale.y!==T||!Hv(this.projectionDelta.x,this.prevProjectionDelta.x)||!Hv(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",S))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(u=!0){var d;if((d=this.options.visualElement)==null||d.scheduleRender(),u){const h=this.getStack();h&&h.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Sa(),this.projectionDelta=Sa(),this.projectionDeltaWithTransform=Sa()}setAnimationOrigin(u,d=!1){const h=this.snapshot,f=h?h.latestValues:{},p={...this.latestValues},b=Sa();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!d;const T=Tt(),S=h?h.source:void 0,M=this.layout?this.layout.source:void 0,D=S!==M,k=this.getStack(),_=!k||k.members.length<=1,O=!!(D&&!_&&this.options.crossfade===!0&&!this.path.some(RP));this.animationProgress=0;let P;this.mixTargetDelta=G=>{const K=G/1e3;Yv(b.x,u.x,K),Yv(b.y,u.y,K),this.setTargetDelta(b),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(to(T,this.layout.layoutBox,this.relativeParent.layout.layoutBox),DP(this.relativeTarget,this.relativeTargetOrigin,T,K),P&&fP(this.relativeTarget,P)&&(this.isProjectionDirty=!1),P||(P=Tt()),Rn(P,this.relativeTarget)),D&&(this.animationValues=p,sP(p,f,this.latestValues,K,O,_)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=K},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(u){var d,h,f;this.notifyListeners("animationStart"),(d=this.currentAnimation)==null||d.stop(),(f=(h=this.resumingFrom)==null?void 0:h.currentAnimation)==null||f.stop(),this.pendingAnimation&&(Qi(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=dt.update(()=>{eu.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Na(0)),this.currentAnimation=tP(this.motionValue,[0,1e3],{...u,velocity:0,isSync:!0,onUpdate:p=>{this.mixTargetDelta(p),u.onUpdate&&u.onUpdate(p)},onStop:()=>{},onComplete:()=>{u.onComplete&&u.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const u=this.getStack();u&&u.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(gP),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const u=this.getLead();let{targetWithTransforms:d,target:h,layout:f,latestValues:p}=u;if(!(!d||!h||!f)){if(this!==u&&this.layout&&f&&VS(this.options.animationType,this.layout.layoutBox,f.layoutBox)){h=this.target||Tt();const b=Jt(this.layout.layoutBox.x);h.x.min=u.target.x.min,h.x.max=h.x.min+b;const T=Jt(this.layout.layoutBox.y);h.y.min=u.target.y.min,h.y.max=h.y.min+T}Rn(d,h),wa(d,p),eo(this.projectionDeltaWithTransform,this.layoutCorrected,d,p)}}registerSharedNode(u,d){this.sharedNodes.has(u)||this.sharedNodes.set(u,new hP),this.sharedNodes.get(u).add(d);const f=d.options.initialPromotionConfig;d.promote({transition:f?f.transition:void 0,preserveFollowOpacity:f&&f.shouldPreserveFollowOpacity?f.shouldPreserveFollowOpacity(d):void 0})}isLead(){const u=this.getStack();return u?u.lead===this:!0}getLead(){var d;const{layoutId:u}=this.options;return u?((d=this.getStack())==null?void 0:d.lead)||this:this}getPrevLead(){var d;const{layoutId:u}=this.options;return u?(d=this.getStack())==null?void 0:d.prevLead:void 0}getStack(){const{layoutId:u}=this.options;if(u)return this.root.sharedNodes.get(u)}promote({needsReset:u,transition:d,preserveFollowOpacity:h}={}){const f=this.getStack();f&&f.promote(this,h),u&&(this.projectionDelta=void 0,this.needsReset=!0),d&&this.setOptions({transition:d})}relegate(){const u=this.getStack();return u?u.relegate(this):!1}resetSkewAndRotation(){const{visualElement:u}=this.options;if(!u)return;let d=!1;const{latestValues:h}=u;if((h.z||h.rotate||h.rotateX||h.rotateY||h.rotateZ||h.skewX||h.skewY)&&(d=!0),!d)return;const f={};h.z&&mf("z",u,f,this.animationValues);for(let p=0;p<hf.length;p++)mf(`rotate${hf[p]}`,u,f,this.animationValues),mf(`skew${hf[p]}`,u,f,this.animationValues);u.render();for(const p in f)u.setStaticValue(p,f[p]),this.animationValues&&(this.animationValues[p]=f[p]);u.scheduleRender()}getProjectionStyles(u){if(!this.instance||this.isSVG)return;if(!this.isVisible)return pP;const d={visibility:""},h=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,d.opacity="",d.pointerEvents=Wl(u==null?void 0:u.pointerEvents)||"",d.transform=h?h(this.latestValues,""):"none",d;const f=this.getLead();if(!this.projectionDelta||!this.layout||!f.target){const S={};return this.options.layoutId&&(S.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,S.pointerEvents=Wl(u==null?void 0:u.pointerEvents)||""),this.hasProjected&&!Er(this.latestValues)&&(S.transform=h?h({},""):"none",this.hasProjected=!1),S}const p=f.animationValues||f.latestValues;this.applyTransformsToTarget(),d.transform=mP(this.projectionDeltaWithTransform,this.treeScale,p),h&&(d.transform=h(p,d.transform));const{x:b,y:T}=this.projectionDelta;d.transformOrigin=`${b.origin*100}% ${T.origin*100}% 0`,f.animationValues?d.opacity=f===this?p.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:p.opacityExit:d.opacity=f===this?p.opacity!==void 0?p.opacity:"":p.opacityExit!==void 0?p.opacityExit:0;for(const S in lo){if(p[S]===void 0)continue;const{correct:M,applyTo:D,isCSSVariable:k}=lo[S],_=d.transform==="none"?p[S]:M(p[S],f);if(D){const O=D.length;for(let P=0;P<O;P++)d[D[P]]=_}else k?this.options.visualElement.renderState.vars[S]=_:d[S]=_}return this.options.layoutId&&(d.pointerEvents=f===this?Wl(u==null?void 0:u.pointerEvents)||"":"none"),d}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(u=>{var d;return(d=u.currentAnimation)==null?void 0:d.stop()}),this.root.nodes.forEach(Gv),this.root.sharedNodes.clear()}}}function xP(t){t.updateLayout()}function vP(t){var n;const e=((n=t.resumeFrom)==null?void 0:n.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:a,measuredBox:s}=t.layout,{animationType:l}=t.options,u=e.source!==t.layout.source;l==="size"?In(b=>{const T=u?e.measuredBox[b]:e.layoutBox[b],S=Jt(T);T.min=a[b].min,T.max=T.min+S}):VS(l,e.layoutBox,a)&&In(b=>{const T=u?e.measuredBox[b]:e.layoutBox[b],S=Jt(a[b]);T.max=T.min+S,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[b].max=t.relativeTarget[b].min+S)});const d=Sa();eo(d,a,e.layoutBox);const h=Sa();u?eo(h,t.applyTransform(s,!0),e.measuredBox):eo(h,a,e.layoutBox);const f=!kS(d);let p=!1;if(!t.resumeFrom){const b=t.getClosestProjectingParent();if(b&&!b.resumeFrom){const{snapshot:T,layout:S}=b;if(T&&S){const M=Tt();to(M,e.layoutBox,T.layoutBox);const D=Tt();to(D,a,S.layoutBox),_S(M,D)||(p=!0),b.options.layoutRoot&&(t.relativeTarget=D,t.relativeTargetOrigin=M,t.relativeParent=b)}}}t.notifyListeners("didUpdate",{layout:a,snapshot:e,delta:h,layoutDelta:d,hasLayoutChanged:f,hasRelativeLayoutChanged:p})}else if(t.isLead()){const{onExitComplete:a}=t.options;a&&a()}t.options.transition=void 0}function bP(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function TP(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function SP(t){t.clearSnapshot()}function Gv(t){t.clearMeasurements()}function CP(t){t.isLayoutDirty=!1}function wP(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function qv(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function EP(t){t.resolveTargetDelta()}function AP(t){t.calcProjection()}function MP(t){t.resetSkewAndRotation()}function NP(t){t.removeLeadSnapshot()}function Yv(t,e,n){t.translate=ct(e.translate,0,n),t.scale=ct(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function Kv(t,e,n,a){t.min=ct(e.min,n.min,a),t.max=ct(e.max,n.max,a)}function DP(t,e,n,a){Kv(t.x,e.x,n.x,a),Kv(t.y,e.y,n.y,a)}function RP(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const kP={duration:.45,ease:[.4,0,.1,1]},$v=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),Xv=$v("applewebkit/")&&!$v("chrome/")?Math.round:Vn;function Jv(t){t.min=Xv(t.min),t.max=Xv(t.max)}function _P(t){Jv(t.x),Jv(t.y)}function VS(t,e,n){return t==="position"||t==="preserve-aspect"&&!P5(Fv(e),Fv(n),.2)}function IP(t){var e;return t!==t.root&&((e=t.scroll)==null?void 0:e.wasRoot)}const PP=PS({attachResizeListener:(t,e)=>co(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),pf={current:void 0},LS=PS({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!pf.current){const t=new PP({});t.mount(window),t.setOptions({layoutScroll:!0}),pf.current=t}return pf.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),VP={pan:{Feature:Q5},drag:{Feature:J5,ProjectionNode:LS,MeasureLayout:NS}};function Qv(t,e,n){const{props:a}=t;t.animationState&&a.whileHover&&t.animationState.setActive("whileHover",n==="Start");const s="onHover"+n,l=a[s];l&&dt.postRender(()=>l(e,vo(e)))}class LP extends ir{mount(){const{current:e}=this.node;e&&(this.unmount=f4(e,(n,a)=>(Qv(this.node,a,"Start"),s=>Qv(this.node,s,"End"))))}unmount(){}}class BP extends ir{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=go(co(this.node.current,"focus",()=>this.onFocus()),co(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function Zv(t,e,n){const{props:a}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&a.whileTap&&t.animationState.setActive("whileTap",n==="Start");const s="onTap"+(n==="End"?"":n),l=a[s];l&&dt.postRender(()=>l(e,vo(e)))}class jP extends ir{mount(){const{current:e}=this.node;e&&(this.unmount=g4(e,(n,a)=>(Zv(this.node,a,"Start"),(s,{success:l})=>Zv(this.node,s,l?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const rh=new WeakMap,gf=new WeakMap,OP=t=>{const e=rh.get(t.target);e&&e(t)},UP=t=>{t.forEach(OP)};function zP({root:t,...e}){const n=t||document;gf.has(n)||gf.set(n,{});const a=gf.get(n),s=JSON.stringify(e);return a[s]||(a[s]=new IntersectionObserver(UP,{root:t,...e})),a[s]}function FP(t,e,n){const a=zP(e);return rh.set(t,n),a.observe(t),()=>{rh.delete(t),a.unobserve(t)}}const HP={some:0,all:1};class GP extends ir{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:a,amount:s="some",once:l}=e,u={root:n?n.current:void 0,rootMargin:a,threshold:typeof s=="number"?s:HP[s]},d=h=>{const{isIntersecting:f}=h;if(this.isInView===f||(this.isInView=f,l&&!f&&this.hasEnteredView))return;f&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",f);const{onViewportEnter:p,onViewportLeave:b}=this.node.getProps(),T=f?p:b;T&&T(h)};return FP(this.node.current,u,d)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(qP(e,n))&&this.startObserver()}unmount(){}}function qP({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const YP={inView:{Feature:GP},tap:{Feature:jP},focus:{Feature:BP},hover:{Feature:LP}},KP={layout:{ProjectionNode:LS,MeasureLayout:NS}},ah={current:null},BS={current:!1};function $P(){if(BS.current=!0,!!wh)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>ah.current=t.matches;t.addListener(e),e()}else ah.current=!1}const XP=new WeakMap;function JP(t,e,n){for(const a in e){const s=e[a],l=n[a];if(Gt(s))t.addValue(a,s);else if(Gt(l))t.addValue(a,Na(s,{owner:t}));else if(l!==s)if(t.hasValue(a)){const u=t.getValue(a);u.liveStyle===!0?u.jump(s):u.hasAnimated||u.set(s)}else{const u=t.getStaticValue(a);t.addValue(a,Na(u!==void 0?u:s,{owner:t}))}}for(const a in n)e[a]===void 0&&t.removeValue(a);return e}const Wv=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class QP{scrapeMotionValuesFromProps(e,n,a){return{}}constructor({parent:e,props:n,presenceContext:a,reducedMotionConfig:s,blockInitialAnimation:l,visualState:u},d={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Fh,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const T=rn.now();this.renderScheduledAt<T&&(this.renderScheduledAt=T,dt.render(this.render,!1,!0))};const{latestValues:h,renderState:f}=u;this.latestValues=h,this.baseTarget={...h},this.initialValues=n.initial?{...h}:{},this.renderState=f,this.parent=e,this.props=n,this.presenceContext=a,this.depth=e?e.depth+1:0,this.reducedMotionConfig=s,this.options=d,this.blockInitialAnimation=!!l,this.isControllingVariants=wu(n),this.isVariantNode=rS(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:p,...b}=this.scrapeMotionValuesFromProps(n,{},this);for(const T in b){const S=b[T];h[T]!==void 0&&Gt(S)&&S.set(h[T],!1)}}mount(e){this.current=e,XP.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,a)=>this.bindToMotionValue(a,n)),BS.current||$P(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:ah.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),Qi(this.notifyUpdate),Qi(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const a=Va.has(e);a&&this.onBindTransform&&this.onBindTransform();const s=n.on("change",d=>{this.latestValues[e]=d,this.props.onUpdate&&dt.preRender(this.notifyUpdate),a&&this.projection&&(this.projection.isTransformDirty=!0)}),l=n.on("renderRequest",this.scheduleRender);let u;window.MotionCheckAppearSync&&(u=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{s(),l(),u&&u(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in Da){const n=Da[e];if(!n)continue;const{isEnabled:a,Feature:s}=n;if(!this.features[e]&&s&&a(this.props)&&(this.features[e]=new s(this)),this.features[e]){const l=this.features[e];l.isMounted?l.update():(l.mount(),l.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Tt()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let a=0;a<Wv.length;a++){const s=Wv[a];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const l="on"+s,u=e[l];u&&(this.propEventSubscriptions[s]=this.on(s,u))}this.prevMotionValues=JP(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const a=this.values.get(e);n!==a&&(a&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let a=this.values.get(e);return a===void 0&&n!==void 0&&(a=Na(n===null?void 0:n,{owner:this}),this.addValue(e,a)),a}readValue(e,n){let a=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return a!=null&&(typeof a=="string"&&(dT(a)||hT(a))?a=parseFloat(a):!v4(a)&&Zi.test(n)&&(a=XT(e,n)),this.setBaseTarget(e,Gt(a)?a.get():a)),Gt(a)?a.get():a}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var l;const{initial:n}=this.props;let a;if(typeof n=="string"||typeof n=="object"){const u=Wh(this.props,n,(l=this.presenceContext)==null?void 0:l.custom);u&&(a=u[e])}if(n&&a!==void 0)return a;const s=this.getBaseTargetFromProps(this.props,e);return s!==void 0&&!Gt(s)?s:this.initialValues[e]!==void 0&&a===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new Rh),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}}class jS extends QP{constructor(){super(...arguments),this.KeyframeResolver=o4}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:a}){delete n[e],delete a[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Gt(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function OS(t,{style:e,vars:n},a,s){Object.assign(t.style,e,s&&s.getProjectionStyles(a));for(const l in n)t.style.setProperty(l,n[l])}function ZP(t){return window.getComputedStyle(t)}class WP extends jS{constructor(){super(...arguments),this.type="html",this.renderInstance=OS}readValueFromInstance(e,n){var a;if(Va.has(n))return(a=this.projection)!=null&&a.isProjecting?Yf(n):A3(e,n);{const s=ZP(e),l=(Ih(n)?s.getPropertyValue(n):s[n])||0;return typeof l=="string"?l.trim():l}}measureInstanceViewportBox(e,{transformPagePoint:n}){return wS(e,n)}build(e,n,a){Jh(e,n,a.transformTemplate)}scrapeMotionValuesFromProps(e,n,a){return em(e,n,a)}}const US=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function eV(t,e,n,a){OS(t,e,void 0,a);for(const s in e.attrs)t.setAttribute(US.has(s)?s:Xh(s),e.attrs[s])}class tV extends jS{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Tt}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(Va.has(n)){const a=$T(n);return a&&a.default||0}return n=US.has(n)?n:Xh(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,a){return mS(e,n,a)}build(e,n,a){cS(e,n,this.isSVGTag,a.transformTemplate,a.style)}renderInstance(e,n,a,s){eV(e,n,a,s)}mount(e){this.isSVGTag=fS(e.tagName),super.mount(e)}}const nV=(t,e)=>Zh(t)?new tV(e):new WP(e,{allowProjection:t!==ie.Fragment}),iV=e5({...A5,...YP,...VP,...KP},nV),rV=E4(iV),aV=({value:t,min:e=0,max:n=1,size:a=60,label:s,onChange:l})=>{const d=-140+Math.max(0,Math.min(1,(t-e)/(n-e)))*280,h=f=>{if(!l)return;const p=f.currentTarget.getBoundingClientRect(),b=p.left+p.width/2,T=p.top+p.height/2,S=D=>{const k=T-D.clientY,_=D.clientX-b;let P=(Math.atan2(k,_)*(180/Math.PI)+140)/280;P=Math.max(0,Math.min(1,P));const G=e+P*(n-e);l(G)},M=()=>{document.removeEventListener("mousemove",S),document.removeEventListener("mouseup",M)};document.addEventListener("mousemove",S),document.addEventListener("mouseup",M)};return g.jsxs("div",{className:"flex flex-col items-center space-y-2",children:[g.jsxs("div",{className:"relative cursor-pointer select-none",style:{width:a,height:a},onMouseDown:h,children:[g.jsxs("div",{className:"absolute inset-0 rounded-full bg-gradient-to-b from-gray-300 to-gray-600 shadow-lg border-2 border-gray-400",style:{width:a,height:a},children:[g.jsx(rV.div,{className:"absolute w-1 bg-orange-500 rounded-full",style:{height:a*.3,left:"50%",top:a*.1,transformOrigin:`50% ${a*.4}px`,marginLeft:"-2px"},animate:{rotate:d},transition:{type:"spring",stiffness:300,damping:30}}),g.jsx("div",{className:"absolute bg-gray-800 rounded-full",style:{width:a*.15,height:a*.15,left:"50%",top:"50%",transform:"translate(-50%, -50%)"}})]}),g.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:g.jsx("span",{className:"text-xs font-mono text-gray-800",children:Math.round(t*100)})})]}),s&&g.jsx("span",{className:"text-xs text-gray-400 text-center",children:s})]})};function sV(t,e,n){const a=n?` They are using ${n}, so you can also reference stock plugins and instruments from that DAW.`:"";return`You are a world-class sound designer. The user wants: "${t}". They have these plugins: ${e.join(", ")}.${a}

For each plugin, output:
• Oscillator & waveform selection
• Filter settings (cutoff/resonance)
• Envelope settings (attack, decay, sustain, release as numbers 0-1)
• Effects chain & order
• Any modulation routings (e.g. LFO → filter cutoff)

For each step, include an "envelope" object with numeric ADSR values (0-1 range).

Return valid JSON with this exact structure:
{
  "steps": [
    {
      "plugin": "plugin name",
      "parameters": {
        "oscillator": "saw/square/sine/triangle",
        "filterCutoff": 0.7,
        "filterResonance": 0.3,
        "attack": 0.1,
        "decay": 0.2,
        "sustain": 0.6,
        "release": 0.4
      },
      "description": "detailed explanation",
      "envelope": {
        "attack": 0.1,
        "decay": 0.2,
        "sustain": 0.6,
        "release": 0.4
      }
    }
  ],
  "notes": "additional tips and variations"
}

Focus on practical, achievable settings that will create the desired sound.`}async function oV(t,e,n){console.log("=== PATCH GUIDE SERVICE DEBUG ==="),console.log("Target sound:",t),console.log("Plugin list:",e),console.log("DAW:",n);const a=sV(t,e,n);console.log("Generated prompt length:",a.length),console.log("Generated prompt preview:",a.substring(0,200)+"...");try{console.log("Calling generateContent...");const s=await x2(a);console.log("Received response length:",s.length),console.log("Received response preview:",s.substring(0,200)+"..."),console.log("Attempting to extract JSON from response...");const l=s.match(/\{[\s\S]*\}/);if(console.log("JSON match found:",!!l),!l)throw console.error("No JSON found in response:",s),new Error("No valid JSON found in response");console.log("Attempting to parse JSON:",l[0].substring(0,100)+"...");const u=JSON.parse(l[0]);if(console.log("JSON parsed successfully:",u),!u.steps||!Array.isArray(u.steps))throw new Error("Invalid response format: missing steps array");return u.steps=u.steps.map(d=>({plugin:d.plugin||"Unknown Plugin",parameters:d.parameters||{},description:d.description||"No description provided",envelope:d.envelope||{attack:.1,decay:.2,sustain:.6,release:.4}})),u}catch(s){throw console.error("Error generating patch guide:",s),new Error("Failed to generate PatchGuide. Please try again.")}}const lV=["Serum","Massive X","Sylenth1","Diva","Omnisphere","Operator","Wavetable","Bass","Simpler","Analog","FM8","Reaktor","Zebra2","Hive 2","Pigments","Phase Plant","Vital","Spire","Nexus","Kontakt"],uV=()=>{var D;const[t,e]=ie.useState(""),[n,a]=ie.useState([]),[s,l]=ie.useState(""),[u,d]=ie.useState(!1),[h,f]=ie.useState(null),[p,b]=ie.useState(""),T=k=>{a(_=>_.includes(k)?_.filter(O=>O!==k):[..._,k])},S=async()=>{if(!t.trim()){b("Please describe your target sound");return}if(n.length===0){b("Please select at least one plugin");return}d(!0),b(""),f(null);try{const k=await oV(t,n,s);f(k)}catch(k){b(k instanceof Error?k.message:"Failed to generate PatchGuide")}finally{d(!1)}},M=()=>{e(""),a([]),l(""),f(null),b("")};return g.jsxs("div",{className:"max-w-6xl mx-auto p-6 space-y-6",children:[g.jsx(tt,{children:g.jsxs("div",{className:"space-y-6",children:[g.jsxs("div",{children:[g.jsx("h1",{className:"text-2xl font-bold text-white mb-2",children:"🎛️ PatchGuide AI"}),g.jsx("p",{className:"text-gray-400",children:"Describe your target sound and get detailed patch recipes with visual guides"})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Describe Your Target Sound"}),g.jsx("textarea",{value:t,onChange:k=>e(k.target.value),placeholder:"e.g., warm analog bass with slight distortion, plucky lead synth with bright attack, atmospheric pad with slow filter sweep...",className:"w-full h-24 px-3 py-2 bg-gray-700 border border-gray-600 rounded-lg text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent resize-none"})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Preferred DAW (Optional)"}),g.jsx(Xt,{value:s,onChange:k=>l(k.target.value),placeholder:"Select or type your DAW...",list:"daw-suggestions",className:"w-full"}),g.jsx("datalist",{id:"daw-suggestions",children:ru.map(k=>g.jsx("option",{value:k},k))}),g.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:ru.slice(0,5).map(k=>g.jsx("button",{type:"button",onClick:()=>l(k),className:`px-3 py-1 text-xs rounded-full transition-all duration-150 ease-in-out ${s===k?"bg-orange-600 text-white ring-2 ring-orange-400":"bg-gray-700 text-gray-300 hover:bg-gray-600"}`,children:k},k))})]}),g.jsxs("div",{children:[g.jsxs("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:["Select Available Plugins (",n.length," selected)"]}),g.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-5 gap-2 max-h-48 overflow-y-auto p-2 bg-gray-700 rounded-lg border border-gray-600",children:lV.map(k=>g.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer hover:bg-gray-600 p-2 rounded",children:[g.jsx("input",{type:"checkbox",checked:n.includes(k),onChange:()=>T(k),className:"rounded border-gray-500 text-orange-500 focus:ring-orange-500"}),g.jsx("span",{className:"text-sm text-gray-300",children:k})]},k))})]}),p&&g.jsx("div",{className:"p-3 bg-red-900/50 border border-red-700 rounded-lg text-red-300",children:p}),g.jsxs("div",{className:"flex space-x-3",children:[g.jsx(Be,{onClick:S,disabled:u||!t.trim()||n.length===0,className:"flex-1",children:u?g.jsxs(g.Fragment,{children:[g.jsx(Xi,{size:"sm"})," Generating PatchGuide..."]}):"🎛️ Generate PatchGuide"}),g.jsx(Be,{onClick:M,variant:"outline",children:"Reset"})]})]})}),h&&g.jsxs("div",{className:"space-y-6",children:[g.jsxs(tt,{children:[g.jsx("h2",{className:"text-xl font-bold text-white mb-4",children:"Patch Recipe"}),g.jsxs("div",{className:"space-y-6",children:[h.steps.map((k,_)=>g.jsxs("div",{className:"border-l-4 border-orange-500 pl-4",children:[g.jsxs("h3",{className:"text-lg font-semibold text-white mb-2",children:[_+1,". ",k.plugin]}),g.jsx("div",{className:"text-gray-300 mb-4",children:g.jsx(Ma,{content:k.description})}),Object.keys(k.parameters).length>0&&g.jsxs("div",{className:"mb-4",children:[g.jsx("h4",{className:"text-sm font-medium text-gray-400 mb-2",children:"Parameters"}),g.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-6 gap-4",children:Object.entries(k.parameters).map(([O,P])=>g.jsx(aV,{value:typeof P=="number"?P:.5,label:O.replace(/([A-Z])/g," $1").trim()},O))})]})]},_)),h.notes&&g.jsxs("div",{className:"mt-6 p-4 bg-gray-700 rounded-lg border border-gray-600",children:[g.jsx("h3",{className:"text-sm font-medium text-gray-300 mb-2",children:"Additional Notes"}),g.jsx("div",{className:"text-gray-400",children:g.jsx(Ma,{content:h.notes})})]})]})]}),g.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[g.jsx(bI,{}),((D=h.steps[0])==null?void 0:D.envelope)&&g.jsx(TI,{attack:h.steps[0].envelope.attack,decay:h.steps[0].envelope.decay,sustain:h.steps[0].envelope.sustain,release:h.steps[0].envelope.release})]})]})]})},cV=[{frequency:"20-30 Hz",description:"Sub-bass rumble, often felt more than heard. Can cause speaker damage if excessive.",instruments:["Kick drum","Sub bass","808s","Synthesizer bass"],action:"cut",category:"sub"},{frequency:"30-40 Hz",description:"Deep bass foundation, adds power and weight. Essential for electronic music.",instruments:["Kick drum","Bass guitar","Sub bass","808s"],action:"boost",category:"sub"},{frequency:"40-60 Hz",description:"Bass fundamentals, warmth and body. Key frequency for bass instruments.",instruments:["Kick drum","Bass guitar","Sub bass","Synthesizer bass","Tuba"],action:"boost",category:"sub"},{frequency:"60-80 Hz",description:"Bass guitar fundamentals, kick drum thump. Critical for rhythm section.",instruments:["Bass guitar","Kick drum","Male vocals","Cello","Synthesizer bass"],action:"boost",category:"bass"},{frequency:"80-120 Hz",description:"Bass clarity and definition. Too much causes muddiness.",instruments:["Bass guitar","Piano","Guitar","Vocals","Drums"],action:"boost",category:"bass"},{frequency:"120-200 Hz",description:"Warmth zone, can get muddy if excessive. Often needs gentle cutting.",instruments:["Bass guitar","Piano","Guitar","Vocals","Strings","Brass"],action:"cut",category:"bass"},{frequency:"200-250 Hz",description:"Muddiness zone, often problematic. Cut to clean up mix.",instruments:["Most instruments","Vocals","Guitar","Piano"],action:"cut",category:"bass"},{frequency:"250-350 Hz",description:"Cardboard/boxy sound, often problematic. Cut to reduce boxiness.",instruments:["Vocals","Snare","Guitar","Piano","Strings"],action:"cut",category:"low-mid"},{frequency:"350-450 Hz",description:"Honky/nasal frequencies. Can make vocals sound unnatural.",instruments:["Vocals","Horns","Guitar","Saxophone","Trumpet"],action:"cut",category:"low-mid"},{frequency:"450-500 Hz",description:"Lower midrange clarity. Boost for warmth, cut for clarity.",instruments:["Vocals","Guitar","Piano","Strings","Woodwinds"],action:"cut",category:"low-mid"},{frequency:"500-800 Hz",description:"Vocal clarity and instrument definition. Key for presence.",instruments:["Vocals","Snare","Guitar","Piano","Violin"],action:"boost",category:"mid"},{frequency:"800-1200 Hz",description:"Vocal presence, can sound harsh if overdone. Critical for intelligibility.",instruments:["Vocals","Snare","Hi-hats","Guitar","Brass"],action:"boost",category:"mid"},{frequency:"1-1.5 kHz",description:"Attack and punch, vocal intelligibility. Boost for clarity.",instruments:["Vocals","Snare","Guitar","Piano","Drums"],action:"boost",category:"mid"},{frequency:"1.5-2 kHz",description:"Presence and definition. Can become fatiguing if excessive.",instruments:["Vocals","Snare","Guitar","Piano","Cymbals"],action:"boost",category:"mid"},{frequency:"2-2.5 kHz",description:"Vocal presence, can be fatiguing. Boost for clarity, cut for smoothness.",instruments:["Vocals","Snare","Cymbals","Guitar","Violin"],action:"boost",category:"high-mid"},{frequency:"2.5-4 kHz",description:"Clarity and definition, harshness zone. Often needs careful handling.",instruments:["Vocals","Snare","Guitar","Cymbals","Piano"],action:"cut",category:"high-mid"},{frequency:"4-5 kHz",description:"Vocal intelligibility, can sound harsh. Critical for speech clarity.",instruments:["Vocals","Snare","Guitar","Cymbals","Brass"],action:"boost",category:"high-mid"},{frequency:"5-6 kHz",description:"Sibilance in vocals, cymbal harshness. Often needs de-essing.",instruments:["Vocals","Cymbals","Hi-hats","Acoustic guitar"],action:"cut",category:"high-mid"},{frequency:"6-8 kHz",description:"Vocal sibilance, cymbal brightness. Cut to reduce harshness.",instruments:["Vocals","Cymbals","Acoustic guitar","Hi-hats"],action:"cut",category:"presence"},{frequency:"8-10 kHz",description:"Brightness and clarity, can be harsh. Boost for sparkle.",instruments:["Cymbals","Hi-hats","Vocals","Acoustic guitar","Strings"],action:"boost",category:"presence"},{frequency:"10-12 kHz",description:"High-frequency clarity and definition. Adds presence and life.",instruments:["Cymbals","Hi-hats","Vocals","Strings","Flute"],action:"boost",category:"presence"},{frequency:"12-16 kHz",description:"Air and sparkle, openness. Adds dimension and space.",instruments:["Cymbals","Vocals","Strings","Acoustic guitar","Room mics"],action:"boost",category:"air"},{frequency:"16-20 kHz",description:"Ultra-high frequencies, air and space. Subtle but important for realism.",instruments:["Cymbals","Room mics","Strings","Vocals"],action:"boost",category:"air"},{frequency:"20+ kHz",description:"Extreme high frequencies, mostly harmonics. Can add subtle air.",instruments:["Cymbals","Room mics"],action:"boost",category:"air"}],dV=["All","Vocals","Male vocals","Kick drum","Snare","Bass guitar","Guitar","Acoustic guitar","Piano","Cymbals","Hi-hats","Sub bass","808s","Synthesizer bass","Horns","Strings","Room mics","Drums","Violin","Cello","Tuba","Saxophone","Trumpet","Brass","Woodwinds","Flute"],yf=[{id:"all",label:"All Frequencies",color:"bg-gray-600"},{id:"sub",label:"Sub Bass (20-60Hz)",color:"bg-red-600"},{id:"bass",label:"Bass (60-250Hz)",color:"bg-orange-600"},{id:"low-mid",label:"Low Mids (250-500Hz)",color:"bg-yellow-600"},{id:"mid",label:"Mids (500-2kHz)",color:"bg-green-600"},{id:"high-mid",label:"High Mids (2-6kHz)",color:"bg-blue-600"},{id:"presence",label:"Presence (6-12kHz)",color:"bg-indigo-600"},{id:"air",label:"Air (12kHz+)",color:"bg-purple-600"}],fV=({isOpen:t,onClose:e})=>{const[n,a]=ie.useState("All"),[s,l]=ie.useState("all"),[u,d]=ie.useState("");if(!t)return null;const h=cV.filter(b=>{const T=n==="All"||b.instruments.includes(n),S=s==="all"||b.category===s,M=u===""||b.frequency.toLowerCase().includes(u.toLowerCase())||b.description.toLowerCase().includes(u.toLowerCase())||b.instruments.some(D=>D.toLowerCase().includes(u.toLowerCase()));return T&&S&&M}),f=b=>{switch(b){case"boost":return"text-green-400";case"cut":return"text-red-400";case"notch":return"text-yellow-400";default:return"text-gray-400"}},p=b=>{switch(b){case"boost":return"↗️";case"cut":return"↘️";case"notch":return"🔻";default:return"•"}};return g.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:g.jsxs("div",{className:"bg-gray-800 rounded-lg shadow-xl max-w-6xl w-full max-h-[90vh] overflow-hidden",children:[g.jsxs("div",{className:"p-6 border-b border-gray-700",children:[g.jsxs("div",{className:"flex justify-between items-center mb-4",children:[g.jsxs("h2",{className:"text-2xl font-bold text-white flex items-center",children:[g.jsx(Nf,{className:"w-6 h-6 mr-2"}),"EQ Guide"]}),g.jsx("div",{className:"flex items-center gap-3",children:g.jsx(Be,{onClick:e,variant:"outline",size:"sm",children:"✕ Close"})})]}),g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Filter by Instrument"}),g.jsx("select",{value:n,onChange:b=>a(b.target.value),className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-md text-gray-100 focus:ring-purple-500 focus:border-purple-500",children:dV.map(b=>g.jsx("option",{value:b,children:b},b))})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Frequency Zone"}),g.jsx("select",{value:s,onChange:b=>l(b.target.value),className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-md text-gray-100 focus:ring-purple-500 focus:border-purple-500",children:yf.map(b=>g.jsx("option",{value:b.id,children:b.label},b.id))})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Search"}),g.jsx(Xt,{type:"text",placeholder:"Search frequencies, descriptions...",value:u,onChange:b=>d(b.target.value)})]})]})]}),g.jsxs("div",{className:"p-6 overflow-y-auto max-h-[calc(90vh-200px)]",children:[g.jsxs("div",{className:"mb-6",children:[g.jsx("h3",{className:"text-lg font-semibold text-white mb-3",children:"Frequency Zones"}),g.jsx("div",{className:"flex flex-wrap gap-2",children:yf.map(b=>g.jsx("button",{onClick:()=>l(b.id),className:`px-3 py-1 rounded-full text-sm font-medium transition-all ${s===b.id?`${b.color} text-white shadow-lg`:"bg-gray-700 text-gray-300 hover:bg-gray-600"}`,children:b.label},b.id))})]}),g.jsx("div",{className:"space-y-3",children:h.length===0?g.jsx("p",{className:"text-gray-400 text-center py-8",children:"No EQ data matches your current filters."}):h.map((b,T)=>{var S;return g.jsx(tt,{className:"bg-gray-700/50 hover:bg-gray-700/70 transition-colors",children:g.jsx("div",{className:"p-4",children:g.jsx("div",{className:"flex items-start justify-between",children:g.jsxs("div",{className:"flex-1",children:[g.jsxs("div",{className:"flex items-center mb-2",children:[g.jsx("span",{className:"text-lg font-bold text-white mr-3",children:b.frequency}),g.jsxs("span",{className:`text-sm font-medium ${f(b.action)}`,children:[p(b.action)," ",b.action.toUpperCase()]}),g.jsx("span",{className:`ml-2 px-2 py-1 rounded-full text-xs font-medium ${((S=yf.find(M=>M.id===b.category))==null?void 0:S.color)||"bg-gray-600"} text-white`,children:b.category.replace("-"," ").toUpperCase()})]}),g.jsx("p",{className:"text-gray-300 mb-2",children:b.description}),g.jsx("div",{className:"flex flex-wrap gap-1",children:b.instruments.map(M=>g.jsx("span",{className:"px-2 py-1 bg-gray-600 text-gray-200 rounded text-xs",children:M},M))})]})})})},T)})})]}),g.jsx("div",{className:"p-4 border-t border-gray-700 bg-gray-800/50",children:g.jsx("p",{className:"text-xs text-gray-400 text-center",children:"💡 Tip: These are general guidelines. Always trust your ears and adjust based on the specific context of your mix."})})]})})},ql=({className:t="w-4 h-4"})=>g.jsx("div",{className:`${t} bg-orange-500 transform rotate-45 flex items-center justify-center`,children:g.jsx("div",{className:"w-1/2 h-1/2 bg-white transform -rotate-45"})}),eb={songTitle:"",genre:[],artistReference:"",referenceTrackLink:"",lyrics:"",key:"",scale:"",chords:"",generalNotes:"",vibe:[],daw:"",plugins:"",availableInstruments:""},tb={audioFile:null,userNotes:""},$i=100,Yl=$i*1024*1024,nb=t=>{const e=t.match(/Estimated BPM Range:\s*.*?(\d+)\s*(?:-|to)\s*(\d+)\s*BPM/i);if(e&&e[1]&&e[2])return Math.round((parseInt(e[1],10)+parseInt(e[2],10))/2);const n=t.match(/Estimated BPM Range:\s*.*?(\d+)\s*BPM/i);if(n&&n[1])return parseInt(n[1],10);const a=t.match(/BPM:\s*(\d+)/i);return a&&a[1]?parseInt(a[1],10):null},ib=t=>{const e=t.match(/Suggested Key\(s\) \/ Scale\(s\):\s*([^(\n]+)/i);if(e&&e[1]){const n=e[1].split(/,|\/| or /).map(s=>s.trim().replace(/\.$/,""));for(const s of n){const l=s.includes(" Minor")?s:s.replace("Major","").trim()+" Major";if(qs.includes(s)||qs.includes(l))return qs.includes(s)?s:l}const a=n[0];if(a){for(const s of qs)if(a.toLowerCase().startsWith(s.split(" ")[0].toLowerCase()))if(a.toLowerCase().includes("minor")){if(s.includes("Minor"))return s}else if(a.toLowerCase().includes("major")){if(s.includes("Major"))return s}else return s;return a}}return null},rb=t=>{const e=t.match(/## (?:3|4)\.(?:.*Harmony.*|.*Chord Progressions.*)\s*\n(?:[^\n]*\n)*?.*?Chord Progression\(s\)\s*(?:\([^)]+\))?:\s*([^\n]+)/im);if(e&&e[1]){const s=e[1].match(/([ivclxmdIVCLXMDab#ø°dimaug\d\/sus-]+(?:\s*-\s*[ivclxmdIVCLXMDab#ø°dimaug\d\/sus-]+)*)/);if(s&&s[1]){let l=s[1].trim();l.endsWith(".")&&(l=l.slice(0,-1));const u=[", ",". ","; "];for(const d of u)if(l.includes(d)){l=l.split(d)[0];break}if(/[IVXLCDMivxlcdm]/.test(l))return l}}const n=t.match(/Chord Progression\(s\).*?:\s*([IVXLCDMivxlcdm\d\s,-]+)/i);if(n&&n[1]){const a=n[1].split(",")[0].trim();if(/[IVXLCDMivxlcdm]/.test(a))return a}return null},sh=(t,e)=>{const n=t.match(e);if(!n||typeof n.index>"u")return"";const a=n.index,s=t.substring(a+n[0].length).match(/^##\s+/m),l=s&&typeof s.index<"u"?a+n[0].length+s.index:t.length;return t.substring(a,l).trim()},hV=t=>{if(!t)return"";let e="";return e+=sh(t,/^##\s*1\.\s*Song Overview/im)+`

`,e+=sh(t,/^##\s*4\.\s*Harmony, Melody & Rhythmic Core/im),e.trim()||"General musical context not fully parsed. Focus on genre and vibe."},mV=t=>{if(!t)return[];const n=sh(t,/^##\s*2\.\s*Structural Blueprint/im);if(!n)return[];const a=[],s=n.split(`
`);for(const l of s){const u=l.match(/\*\*([^(]+)\s*\(([^)]+)\):\*\*\s*(.*)/);u&&a.push({section:u[1].trim(),duration:u[2].trim(),description:u[3].trim()})}return a},ab=t=>{const e=t.match(/^\s*-\s*\*\*Suggested Title:\*\*\s*(.*)/im);return e&&e[1]?e[1].trim().replace(/\*\*([^*]+)\*\*/g,"$1").replace(/\*([^*]+)\*/g,"$1"):null},pV=()=>{var Kt;const[t,e]=ie.useState("landing"),[n,a]=ie.useState(eb),[s,l]=ie.useState(""),[u,d]=ie.useState(""),[h,f]=ie.useState(""),[p,b]=ie.useState(!1),[T,S]=ie.useState(""),[M,D]=ie.useState(null),[k,_]=ie.useState(null),[O,P]=ie.useState([]),[G,K]=ie.useState(null),[z,Z]=ie.useState(!1),[re,pe]=ie.useState(""),[ge,ae]=ie.useState(!1),[ue,ye]=ie.useState(!0),[se,me]=ie.useState(tb),[q,L]=ie.useState(null),[N,R]=ie.useState(!1),[C,V]=ie.useState(null),[U,A]=ie.useState("single"),[Q,ce]=ie.useState({mixA:null,mixB:null,userNotes:"",includeMixBFeedback:!1}),[de,J]=ie.useState(null),[he,ve]=ie.useState(!1),[Ae,Me]=ie.useState(null),Pe=ie.useRef(null),Fe=ie.useRef(null),st=ie.useRef(null);ie.useEffect(()=>{try{const be=localStorage.getItem(J0);if(be){const Rt=JSON.parse(be).map(ft=>({...ft,genre:Array.isArray(ft.genre)?ft.genre:ft.genre?[ft.genre]:[],vibe:Array.isArray(ft.vibe)?ft.vibe:ft.vibe?[ft.vibe]:[],scale:ft.scale||"",midiSettings:ft.midiSettings||void 0,generatedMidiPatterns:ft.generatedMidiPatterns||void 0}));P(Rt)}}catch(be){console.error("Failed to load library from local storage:",be),P([])}const X=localStorage.getItem(Bs),fe=localStorage.getItem(Bl);a(be=>({...be,daw:X||be.daw||"",plugins:fe||be.plugins||""}))},[]),ie.useEffect(()=>{try{localStorage.setItem(J0,JSON.stringify(O))}catch(X){console.error("Failed to save library to local storage:",X)}},[O]);const He=X=>{const{name:fe,value:be}=X.target;fe==="currentGenreText"?l(be):fe==="currentVibeText"?d(be):(a(Ue=>({...Ue,[fe]:be})),fe==="daw"?localStorage.setItem(Bs,be):fe==="plugins"&&localStorage.setItem(Bl,be))},Mt=X=>{var be,Ue;const fe=X==="genre"?s.trim():u.trim();fe&&!n[X].includes(fe)&&a(Rt=>({...Rt,[X]:[...Rt[X],fe]})),X==="genre"?(l(""),(be=Fe.current)==null||be.focus()):(d(""),(Ue=st.current)==null||Ue.focus())},nt=(X,fe)=>{X.key==="Enter"&&(X.preventDefault(),Mt(fe))},on=(X,fe)=>{a(be=>{const Rt=be[X].filter(ft=>ft!==fe);return{...be,[X]:Rt}})},yn=X=>{a(fe=>({...fe,daw:X})),localStorage.setItem(Bs,X)},Ln=X=>{const fe=X.match(/^#\s*TRACKGUIDE:\s*"?([^"\n]+)"?/im);return fe&&fe[1]?fe[1].trim():null},Hn=()=>{const X=localStorage.getItem(Bs)||"",fe=localStorage.getItem(Bl)||"";a({...eb,songTitle:"",daw:X,plugins:fe}),l(""),d(""),f(""),K(null),D(null),_(null),pe(""),zn(),Z(!1)},La=async X=>{var Rt;X.preventDefault(),b(!0),D(null),_(null),f(""),K(null),pe(""),zn(),window.scrollTo({top:0,behavior:"smooth"}),n.daw&&localStorage.setItem(Bs,n.daw),n.plugins&&localStorage.setItem(Bl,n.plugins);let fe="",be,Ue;try{S("TrackGuide is generating...");const ft=await u2(n);for await(const kt of ft)fe+=kt.text,f(bn=>bn+kt.text);S("Initial MIDI patterns are generating...");const bo=Ln(fe),To=(Rt=n.songTitle)!=null&&Rt.trim()?n.songTitle.trim():bo||`TrackGuide for ${n.genre.join(", ")||"Unknown Genre"}`,Oa=Date.now().toString(),Ua=new Date().toISOString(),So=nb(fe),Eu=ib(fe),Gn=rb(fe),xt=n.genre[0]||Ke.genre,Vt=_n[xt]||_n.Default,Ti=Math.round((Vt[0]+Vt[1])/2),za=(kn[xt]||kn.Default)[0],Au=hV(fe),Mu=Ke.songSection;let Fa=8;const rr=xt.toLowerCase();["lo-fi hip hop","lofi hip hop","lofi","trap","ambient","idm","breakcore","footwork","juke","experimental"].some(kt=>rr.includes(kt))&&(Fa=4);const Si=["chords","bassline","melody","drums"];Ue={key:Eu||Ke.key,tempo:So||Ti,timeSignature:Ke.timeSignature,chordProgression:Gn||za,genre:xt,bars:Fa,targetInstruments:Si,guidebookContext:Au,songSection:Mu};try{const kt=await su(Ue);let bn="";for await(const ar of kt)bn+=ar.text;let qn=bn.trim();const St=/^```(\w*)?\s*\n?(.*?)\n?\s*```$/s,Pr=qn.match(St);if(Pr&&Pr[2]&&(qn=Pr[2].trim()),be=JSON.parse(qn),be.drums){const ar={};for(const Yn in be.drums)ar[Yn.toLowerCase().replace(/\s+/g,"_")]=be.drums[Yn];be.drums=ar}_(null)}catch(kt){console.error("Initial MIDI generation failed:",kt);const bn=kt.message.toLowerCase().includes("json")?`AI returned invalid JSON for MIDI patterns during initial generation. (${kt.message})`:`Initial MIDI generation failed: ${kt.message}.`;_(bn+" You can try generating MIDI manually in the MIDI tools section."),be=void 0}K({id:Oa,title:To,genre:n.genre,artistReference:n.artistReference,referenceTrackLink:n.referenceTrackLink,lyrics:n.lyrics,key:n.key,chords:n.chords,generalNotes:n.generalNotes,vibe:n.vibe,daw:n.daw,plugins:n.plugins,availableInstruments:n.availableInstruments||"",content:fe,createdAt:Ua,midiSettings:Ue,generatedMidiPatterns:be})}catch(ft){D(ft.message||"An unexpected error occurred while generating TrackGuide."),K(null),f("")}finally{b(!1),S("")}},Ir=()=>{if(!G)return;const X={...G};P(fe=>{const be=fe.findIndex(Ue=>Ue.id===X.id);if(be>-1){const Ue=[...fe];return Ue[be]=X,Ue}return[X,...fe]})},Ba=(X,fe)=>{K(be=>be?{...be,midiSettings:X,generatedMidiPatterns:fe}:null)},ja=X=>{a({songTitle:X.title,genre:Array.isArray(X.genre)?X.genre:X.genre?[String(X.genre)]:[],artistReference:X.artistReference,referenceTrackLink:X.referenceTrackLink||"",lyrics:X.lyrics||"",key:X.key||"",chords:X.chords||"",generalNotes:X.generalNotes||"",vibe:Array.isArray(X.vibe)?X.vibe:X.vibe?[String(X.vibe)]:[],daw:X.daw,plugins:X.plugins,availableInstruments:X.availableInstruments||""}),l(""),d(""),f(X.content),K(X),D(null),_(null),pe(""),zn(),Z(!1),e("trackGuide"),window.scrollTo({top:0,behavior:"smooth"})},W=X=>{P(fe=>fe.filter(be=>be.id!==X)),G&&G.id===X&&(f(""),K(null),zn())},oe=({selections:X,onRemove:fe})=>g.jsx("div",{className:"flex flex-wrap gap-2 mt-2 mb-2 min-h-[2.25rem]",children:X.map(be=>g.jsxs("span",{className:"flex items-center px-3 py-1 bg-orange-600 text-white text-xs font-medium rounded-full shadow-md hover:bg-orange-700 transition-colors",children:[be,g.jsx("button",{type:"button",onClick:()=>fe(be),className:"ml-1.5 -mr-0.5 p-0.5 text-orange-200 hover:text-white rounded-full focus:outline-none focus:bg-orange-800 transition-colors","aria-label":`Remove ${be}`,children:g.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-3 w-3",viewBox:"0 0 20 20",fill:"currentColor",children:g.jsx("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})})})]},be))}),Se=X=>{var be;const fe=(be=X.target.files)==null?void 0:be[0];if(fe){if(fe.size>Yl){V(`File is too large. Maximum size is ${$i}MB.`),me(Ue=>({...Ue,audioFile:null})),Pe.current&&(Pe.current.value="");return}if(!fe.type.startsWith("audio/")){V("Invalid file type. Please upload an audio file (e.g., MP3, WAV)."),me(Ue=>({...Ue,audioFile:null})),Pe.current&&(Pe.current.value="");return}me(Ue=>({...Ue,audioFile:fe})),V(null)}},Ce=X=>{me(fe=>({...fe,userNotes:X.target.value}))},qe=async X=>{if(X.preventDefault(),!se.audioFile){V("Please upload an audio file for feedback.");return}R(!0),L(null),V(null);try{const fe=await h2(se);L(fe)}catch(fe){V(fe.message||"An unknown error occurred while generating mix feedback.")}finally{R(!1)}},Yt=()=>{me(tb),L(null),V(null),Pe.current&&(Pe.current.value="")},xn=X=>new Promise((fe,be)=>{const Ue=new FileReader;Ue.readAsDataURL(X),Ue.onload=()=>{const ft=Ue.result.split(",")[1];fe(ft)},Ue.onerror=Rt=>be(Rt)}),Ut=async()=>{if(!Q.mixA||!Q.mixB){Me("Please upload both Mix A and Mix B files.");return}ve(!0),J(null),Me(null);try{const X=await xn(Q.mixA),fe=await xn(Q.mixB),be={mixAFile:X,mixBFile:fe,mixAName:Q.mixA.name,mixBName:Q.mixB.name,includeMixBFeedback:Q.includeMixBFeedback,userNotes:Q.userNotes},Ue=await g2(be);J(Ue)}catch(X){Me(X.message||"An unknown error occurred while comparing mixes.")}finally{ve(!1)}},vn=()=>{ce({mixA:null,mixB:null,userNotes:"",includeMixBFeedback:!1}),J(null),Me(null)};let ot;const yt=(Kt=n.songTitle)==null?void 0:Kt.trim();if(yt)ot=`TrackGuide: ${yt}`;else if(G!=null&&G.title){const X=G.title;if(X.startsWith("TrackGuide for ")){const fe=Ln(G.content);fe?ot=`TrackGuide: ${fe}`:ot=X}else ot=`TrackGuide: ${X}`}else if(p&&t==="trackGuide"){const X=ab(h);X?ot=`TrackGuide: ${X}`:ot="TrackGuide is generating..."}else if(h){const X=ab(h);X?ot=`TrackGuide: ${X}`:ot="Generated TrackGuide"}else ot="TrackGuide";return t==="landing"?g.jsx(J2,{onGetStarted:()=>{e("trackGuide"),setTimeout(()=>window.scrollTo({top:0,behavior:"smooth"}),100)}}):g.jsxs("div",{className:"min-h-screen bg-[#1A1A1A] text-gray-100 p-4 md:p-6 lg:p-8 relative overflow-hidden",children:[g.jsx("div",{className:"absolute inset-0 opacity-20 pointer-events-none",children:g.jsx("div",{className:"absolute inset-0 pointer-events-none",style:{backgroundImage:"radial-gradient(circle at 2px 2px, #FF5722 1px, transparent 0)",backgroundSize:"40px 40px"}})}),g.jsxs("div",{className:"absolute top-10 right-10 w-32 h-32 opacity-10 pointer-events-none",children:[g.jsx("div",{className:"w-full h-full border-2 border-orange-500 transform rotate-12 pointer-events-none"}),g.jsx("div",{className:"absolute top-2 right-2 w-28 h-28 bg-orange-500 transform rotate-12 pointer-events-none"})]}),g.jsxs("header",{className:"text-center mb-6 relative z-10",children:[g.jsxs("div",{className:"flex items-center justify-center space-x-3 mb-4",children:[g.jsx("div",{className:"w-8 h-8 bg-orange-500 transform rotate-45 flex items-center justify-center",children:g.jsx("div",{className:"w-4 h-4 bg-white transform -rotate-45"})}),g.jsxs("div",{children:[g.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-white",children:X0}),g.jsx("p",{className:"text-gray-400 text-lg",children:"Your Smartest Studio Assistant"})]})]}),g.jsx("button",{onClick:()=>e("landing"),className:"mt-2 text-sm text-orange-500 hover:text-orange-400 transition-colors font-medium",children:"← Back to Landing"})]}),g.jsxs("nav",{className:"mb-8 flex flex-col justify-center items-center md:flex-row md:justify-center gap-2 border-b border-orange-500/20 pb-3 relative z-10",children:[g.jsx(Be,{size:"sm",className:`w-full md:w-auto px-3 py-2 text-xs md:text-sm rounded-md transition-all duration-150 ease-in-out ${t==="trackGuide"?"bg-orange-500 shadow-lg hover:bg-orange-600":"bg-gray-700/80 hover:bg-gray-600/80 border border-gray-600"}`,onClick:()=>e("trackGuide"),variant:t==="trackGuide"?"primary":"secondary",leftIcon:g.jsx(ql,{className:"w-4 h-4"}),children:"TrackGuide AI"}),g.jsx(Be,{size:"sm",className:`w-full md:w-auto px-3 py-2 text-xs md:text-sm rounded-md transition-all duration-150 ease-in-out ${t==="remixGuide"?"bg-orange-500 shadow-lg hover:bg-orange-600":"bg-gray-700/80 hover:bg-gray-600/80 border border-gray-600"}`,onClick:()=>e("remixGuide"),variant:t==="remixGuide"?"primary":"secondary",leftIcon:g.jsx("span",{className:"w-4 h-4 text-center",children:"🎛️"}),children:"RemixGuide AI"}),g.jsx(Be,{size:"sm",className:`w-full md:w-auto px-3 py-2 text-xs md:text-sm rounded-md transition-all duration-150 ease-in-out ${t==="mixFeedback"?"bg-orange-500 shadow-lg hover:bg-orange-600":"bg-gray-700/80 hover:bg-gray-600/80 border border-gray-600"}`,onClick:()=>e("mixFeedback"),variant:t==="mixFeedback"?"primary":"secondary",leftIcon:g.jsx("span",{className:"w-4 h-4 text-center",children:"🎚️"}),children:"Mix Feedback AI"}),g.jsx(Be,{size:"sm",className:`w-full md:w-auto px-3 py-2 text-xs md:text-sm rounded-md transition-all duration-150 ease-in-out ${t==="patchGuide"?"bg-orange-500 shadow-lg hover:bg-orange-600":"bg-gray-700/80 hover:bg-gray-600/80 border border-gray-600"}`,onClick:()=>e("patchGuide"),variant:t==="patchGuide"?"primary":"secondary",leftIcon:g.jsx("span",{className:"w-4 h-4 text-center",children:"🎛️"}),children:"PatchGuide AI"}),g.jsx(Be,{size:"sm",className:`w-full md:w-auto px-3 py-2 text-xs md:text-sm rounded-md transition-all duration-150 ease-in-out ${t==="eqGuide"?"bg-orange-500 shadow-lg hover:bg-orange-600":"bg-gray-700/80 hover:bg-gray-600/80 border border-gray-600"}`,onClick:()=>e("eqGuide"),variant:t==="eqGuide"?"primary":"secondary",leftIcon:g.jsx(Nf,{className:"w-4 h-4"}),children:"EQ Guide"})]}),t==="trackGuide"&&g.jsxs("div",{className:"max-w-full mx-auto grid grid-cols-1 lg:grid-cols-7 gap-6 px-4",children:[g.jsxs(tt,{title:"Blueprint Your Sound",className:"lg:col-span-2 bg-gray-800/80 backdrop-blur-md shadow-xl border border-gray-700/50",children:[g.jsx("p",{className:"text-sm text-gray-400 mb-4",children:"Describe your vision—everything's optional."}),g.jsxs("form",{onSubmit:La,className:"space-y-3",children:[g.jsx("div",{children:g.jsx(Xt,{label:"Song Title / Project Name",name:"songTitle",value:n.songTitle||"",onChange:He,placeholder:"AI will suggest one if left blank"})}),g.jsx("div",{children:g.jsx(Xt,{label:"Artist References",name:"artistReference",value:n.artistReference,onChange:He,placeholder:"e.g., Daft Punk"})}),g.jsx("div",{children:g.jsx(Xt,{label:"Song Reference",name:"referenceTrackLink",value:n.referenceTrackLink||"",onChange:He,placeholder:"e.g., YouTube, Spotify, SoundCloud link"})}),g.jsxs("div",{className:"space-y-2",children:[g.jsxs("div",{children:[g.jsx("label",{htmlFor:"genre-input",className:"block text-sm font-medium text-gray-300 mb-1.5",children:"Genre(s)"}),g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx(Xt,{ref:Fe,id:"genre-input",name:"currentGenreText",value:s,onChange:He,onKeyDown:X=>nt(X,"genre"),placeholder:"Type custom genre...",list:"genre-suggestions",className:"flex-grow"}),g.jsx(Be,{type:"button",onClick:()=>Mt("genre"),size:"sm",variant:"secondary","aria-label":"Add Genre",className:"px-3",children:g.jsx(Mf,{className:"w-4 h-4"})})]}),g.jsx("datalist",{id:"genre-suggestions",children:Tb.map(X=>g.jsx("option",{value:X},X))}),g.jsx(oe,{selections:n.genre,onRemove:X=>on("genre",X)})]}),g.jsxs("div",{children:[g.jsx("label",{htmlFor:"vibe-input",className:"block text-sm font-medium text-gray-300 mb-1.5",children:"Vibe / Mood"}),g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx(Xt,{ref:st,id:"vibe-input",name:"currentVibeText",value:u,onChange:He,onKeyDown:X=>nt(X,"vibe"),placeholder:"Type custom vibe...",list:"vibe-suggestions",className:"flex-grow"}),g.jsx(Be,{type:"button",onClick:()=>Mt("vibe"),size:"sm",variant:"secondary","aria-label":"Add Vibe",className:"px-3",children:g.jsx(Mf,{className:"w-4 h-4"})})]}),g.jsx("datalist",{id:"vibe-suggestions",children:i2.map(X=>g.jsx("option",{value:X},X))}),g.jsx(oe,{selections:n.vibe,onRemove:X=>on("vibe",X)})]})]}),g.jsxs("div",{children:[g.jsx(Xt,{label:"Preferred DAW",name:"daw",value:n.daw,onChange:He,placeholder:"Type or select DAW...",list:"daw-suggestions"}),g.jsx("datalist",{id:"daw-suggestions",children:ru.map(X=>g.jsx("option",{value:X},X))}),g.jsx("div",{className:"flex flex-wrap gap-2 mt-2 mb-1",children:ru.slice(0,5).map(X=>g.jsx("button",{type:"button",onClick:()=>yn(X),className:`px-3 py-1 text-xs rounded-full transition-all duration-150 ease-in-out shadow-sm hover:shadow-md ${n.daw===X?"bg-orange-600 text-white ring-2 ring-orange-400 ring-offset-2 ring-offset-gray-800":"bg-gray-700 hover:bg-gray-600 text-gray-300 hover:text-gray-100"}`,children:X},X))})]}),g.jsx("div",{children:g.jsx(ga,{label:"Available Plugins",name:"plugins",value:n.plugins,onChange:He,placeholder:"e.g., Serum, Valhalla Reverbs, Arturia V Collection, or 'stock only'",rows:2})}),g.jsx("div",{children:g.jsx(ga,{label:"Available Instruments",name:"availableInstruments",value:n.availableInstruments||"",onChange:He,placeholder:"e.g., Electric Guitar, Moog Subsequent 37, Roland TR-808, Vocals",rows:2})}),g.jsxs("div",{className:"border-t border-gray-600 pt-4",children:[g.jsx(Be,{type:"button",onClick:()=>ae(!ge),variant:"outline",className:"mb-4 w-8 h-8 p-0 flex items-center justify-center",title:ge?"Hide Advanced Input":"Show Advanced Input",children:g.jsx("span",{className:`text-lg transition-transform ${ge?"rotate-45":""}`,children:"+"})}),ge&&g.jsxs("div",{className:"space-y-4 p-4 bg-gray-700/30 rounded-lg border border-gray-600/50",children:[g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[g.jsx("div",{children:g.jsx(Xt,{label:"Key",name:"key",value:n.key||"",onChange:He,placeholder:"e.g., C Major"})}),g.jsx("div",{children:g.jsx(Xt,{label:"Scale/Mode",name:"scale",value:n.scale||"",onChange:He,placeholder:"e.g., Dorian, Mixolydian"})})]}),g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[g.jsx("div",{children:g.jsx(Xt,{label:"Chords",name:"chords",value:n.chords||"",onChange:He,placeholder:"e.g., Am - F - C - G"})}),g.jsx("div",{children:g.jsx(ga,{label:"Lyrics",name:"lyrics",value:n.lyrics||"",onChange:He,placeholder:"Paste your lyrics here if you have any...",rows:2})})]}),g.jsx("div",{children:g.jsx(ga,{label:"General Notes for AI",name:"generalNotes",value:n.generalNotes||"",onChange:He,placeholder:"Any specific instructions, style notes, or creative direction for the AI to consider...",rows:3})})]})]}),g.jsx(Be,{type:"submit",disabled:p,className:"w-full text-base py-2.5",leftIcon:g.jsx(ql,{className:"w-5 h-5"}),children:p?T||"Generating...":"Generate TrackGuide"}),g.jsxs("div",{className:"flex space-x-2 mt-3",children:[g.jsx(Be,{type:"button",onClick:()=>Z(!0),variant:"secondary",className:"flex-1",leftIcon:g.jsx(Af,{className:"w-4 h-4"}),children:"View Library"}),g.jsx(Be,{type:"button",onClick:Hn,variant:"outline",className:"flex-1",children:"Clear Form"})]})]})]}),g.jsxs("div",{className:"lg:col-span-5 space-y-6",children:[M&&!p&&g.jsxs(tt,{className:"border-red-500 bg-red-900/40 shadow-xl",children:[g.jsx("p",{className:"text-red-300 font-semibold text-lg",children:"TrackGuide Error:"}),g.jsx("p",{className:"text-red-300",children:M})]}),k&&!T.toLowerCase().includes("midi")&&!M&&g.jsxs(tt,{className:"border-yellow-500 bg-yellow-900/40 shadow-xl",children:[g.jsx("p",{className:"text-yellow-300 font-semibold text-lg",children:"MIDI Generation Note:"}),g.jsx("p",{className:"text-yellow-300",children:k})]}),(h||p&&T.includes("TrackGuide is generating"))&&!M&&g.jsxs(tt,{title:ot,className:"bg-gray-800/80 backdrop-blur-md shadow-xl border border-gray-700/50 sticky top-8",titleClassName:"border-b border-gray-700 text-xl",children:[G&&!p&&g.jsxs("div",{className:"flex flex-wrap gap-3 mb-5 pb-4 border-b border-gray-700 items-center",children:[g.jsx(Be,{onClick:Ir,variant:"secondary",leftIcon:g.jsx(T2,{}),children:"Save to Library"}),g.jsx("div",{className:"flex-grow"}),g.jsx(Be,{onClick:Hn,variant:"outline",size:"sm",className:"!border-gray-500 !text-gray-400 hover:!bg-gray-600 hover:!text-white",leftIcon:g.jsx(Cb,{}),children:"Close"}),re&&g.jsx("span",{className:`ml-3 text-sm ${re.includes("Failed")||re.includes("not supported")?"text-red-400":"text-green-400"}`,children:re})]}),g.jsxs("div",{id:"guidebook-content-display",className:"prose prose-sm md:prose-base prose-invert max-w-none max-h-[calc(100vh-6rem)] overflow-y-auto pr-3 text-gray-300 custom-scrollbar guidebook-content",children:[G&&!p&&g.jsxs("div",{className:"mb-6 p-4 bg-gray-700/50 rounded-lg text-sm shadow-inner border border-gray-600/50 guidebook-section-break",children:[g.jsx("strong",{className:"text-orange-300 block mb-2 text-base",children:"TrackGuide Snapshot:"}),g.jsxs("p",{children:[g.jsx("strong",{children:"Project Title:"})," ",G.title]}),g.jsxs("p",{children:[g.jsx("strong",{children:"Genre(s):"})," ",Array.isArray(G.genre)?G.genre.join(", "):G.genre]}),g.jsxs("p",{children:[g.jsx("strong",{children:"Artist/Song Ref:"})," ",G.artistReference||"N/A"]}),g.jsxs("p",{children:[g.jsx("strong",{children:"Vibe(s):"})," ",Array.isArray(G.vibe)?G.vibe.join(", "):G.vibe]}),g.jsxs("p",{children:[g.jsx("strong",{children:"DAW:"})," ",G.daw]}),g.jsxs("p",{children:[g.jsx("strong",{children:"Plugins:"})," ",G.plugins||"N/A"]}),g.jsxs("p",{children:[g.jsx("strong",{children:"Instruments:"})," ",G.availableInstruments||"N/A"]}),G.generatedMidiPatterns&&g.jsxs("p",{className:"mt-1 text-green-400",children:[g.jsx(Sb,{className:"w-4 h-4 inline mr-1"})," Initial MIDI patterns generated."]})]}),G&&!p&&(()=>{const X=mV(G.content);return X.length>0&&g.jsxs("div",{className:"mb-6 p-4 bg-gray-700/50 rounded-lg text-sm shadow-inner border border-gray-600/50 guidebook-section-break",children:[g.jsx("strong",{className:"text-orange-300 block mb-3 text-base",children:"Structural Blueprint:"}),g.jsx("div",{className:"overflow-x-auto",children:g.jsxs("table",{className:"w-full border-collapse border border-gray-600 bg-gray-800 text-xs",children:[g.jsx("thead",{className:"bg-orange-800/30",children:g.jsxs("tr",{className:"border-b border-gray-500",children:[g.jsx("th",{className:"p-2 font-semibold text-orange-200 text-left border border-gray-500",children:"Section"}),g.jsx("th",{className:"p-2 font-semibold text-orange-200 text-left border border-gray-500",children:"Duration"}),g.jsx("th",{className:"p-2 font-semibold text-orange-200 text-left border border-gray-500",children:"Description"})]})}),g.jsx("tbody",{children:X.map((fe,be)=>g.jsxs("tr",{className:"border-b border-gray-600 hover:bg-gray-700/50 transition-colors duration-150",children:[g.jsx("td",{className:"p-2 text-gray-300 border border-gray-600 font-medium",children:fe.section}),g.jsx("td",{className:"p-2 text-gray-300 border border-gray-600",children:fe.duration}),g.jsx("td",{className:"p-2 text-gray-300 border border-gray-600",children:fe.description})]},be))})]})})]})})(),g.jsx(Ma,{content:h}),p&&T.includes("TrackGuide is generating")&&g.jsx(Xi,{size:"sm",text:"Generating TrackGuide..."})]})]}),p&&!M&&T&&!T.includes("TrackGuide is generating")&&g.jsx("div",{className:"flex justify-center py-10",children:g.jsx(Xi,{size:"lg",text:T||"Processing..."})}),G&&!p&&h&&!M&&g.jsx(Mb,{currentGuidebookEntry:G,mainAppInputs:n,onUpdateGuidebookEntryMidi:Ba,parsedGuidebookBpm:nb(G.content),parsedGuidebookKey:ib(G.content),parsedGuidebookChordProg:rb(G.content)}),!p&&!h&&!M&&!G&&g.jsxs(tt,{className:"bg-gray-800/80 backdrop-blur-md shadow-xl border border-gray-700/50 flex flex-col items-center justify-center h-96 text-center min-h-[500px]",children:[g.jsx("div",{className:"flex justify-center mb-6",children:g.jsx(ql,{className:"w-20 h-20 opacity-80 text-orange-500"})}),g.jsx("h3",{className:"text-2xl font-semibold text-gray-200 mb-2",children:"Produce Smarter. Create More."}),g.jsx("p",{className:"text-gray-400 max-w-md mx-auto",children:"Tell us what you’re envisioning—TrackGuide AI will generate a custom production guide and MIDI foundation."})]})]})]}),t==="mixFeedback"&&g.jsxs("div",{className:"max-w-7xl mx-auto grid grid-cols-1 md:grid-cols-12 gap-8",children:[g.jsxs("div",{className:"md:col-span-3 space-y-6",children:[g.jsxs("div",{className:"flex bg-gray-800/80 backdrop-blur-md shadow-xl border border-gray-700/50 rounded-lg overflow-hidden",children:[g.jsx("button",{onClick:()=>A("single"),className:`flex-1 px-4 py-3 text-sm font-medium transition-all ${U==="single"?"bg-orange-500 text-white":"bg-gray-700/50 text-gray-300 hover:bg-gray-600/50"}`,children:"🎚️ Mix Analysis"}),g.jsx("button",{onClick:()=>A("compare"),className:`flex-1 px-4 py-3 text-sm font-medium transition-all ${U==="compare"?"bg-orange-500 text-white":"bg-gray-700/50 text-gray-300 hover:bg-gray-600/50"}`,children:"⚖️ Mix Compare"})]}),U==="single"&&g.jsx(tt,{title:"Upload Your Mix",className:"bg-gray-800/80 backdrop-blur-md shadow-xl border border-gray-700/50",children:g.jsxs("form",{onSubmit:qe,className:"space-y-5",children:[g.jsxs("div",{children:[g.jsx("label",{htmlFor:"mix-audio-file",className:"block text-sm font-medium text-gray-300 mb-1",children:"Audio File (.mp3, .wav, etc.)"}),g.jsx("div",{className:`mt-1 flex justify-center px-6 pt-5 pb-6 border-2 ${C&&se.audioFile===null?"border-red-500":"border-gray-600"} border-dashed rounded-md cursor-pointer hover:border-orange-500 transition-colors`,onClick:()=>{var X;return(X=Pe.current)==null?void 0:X.click()},onDragOver:X=>{X.preventDefault(),X.currentTarget.classList.add("border-orange-500")},onDragLeave:X=>X.currentTarget.classList.remove("border-orange-500"),onDrop:X=>{if(X.preventDefault(),X.currentTarget.classList.remove("border-orange-500"),X.dataTransfer.files&&X.dataTransfer.files[0]){const fe=X.dataTransfer.files[0];if(fe.size>Yl){V(`File is too large. Max ${$i}MB.`);return}if(!fe.type.startsWith("audio/")){V("Invalid file type. Please upload audio.");return}me(be=>({...be,audioFile:fe})),V(null)}},children:g.jsxs("div",{className:"space-y-1 text-center",children:[g.jsx(Ud,{className:"mx-auto h-12 w-12 text-gray-500"}),g.jsxs("div",{className:"flex text-sm text-gray-400",children:[g.jsx("span",{className:"relative rounded-md font-medium text-orange-400 hover:text-orange-300 focus-within:outline-none focus-within:ring-2 focus-within:ring-offset-2 focus-within:ring-offset-gray-900 focus-within:ring-orange-500",children:g.jsx("span",{children:"Upload a file"})}),g.jsx("input",{id:"mix-audio-file",name:"mix-audio-file",type:"file",className:"sr-only",accept:"audio/*",onChange:Se,ref:Pe}),g.jsx("p",{className:"pl-1",children:"or drag and drop"})]}),g.jsxs("p",{className:"text-xs text-gray-500",children:["Max file size: ",$i,"MB"]})]})}),se.audioFile&&g.jsxs("p",{className:"text-xs text-green-400 mt-2",children:["Selected: ",se.audioFile.name," (",(se.audioFile.size/1024/1024).toFixed(2)," MB)"]}),C&&se.audioFile===null&&g.jsx("p",{className:"text-xs text-red-400 mt-2",children:C})]}),g.jsx("div",{children:g.jsx(ga,{label:"Notes for AI",name:"mixUserNotes",value:se.userNotes,onChange:Ce,placeholder:"e.g., 'Focus on the low-end clarity', 'Is the vocal too loud?', 'General feedback welcome.'",rows:4})}),g.jsx(Be,{type:"submit",disabled:N||!se.audioFile,className:"w-full text-base py-2.5 !bg-orange-600 hover:!bg-orange-700 focus:!ring-orange-500",leftIcon:g.jsx(Nf,{className:"w-5 h-5"}),children:N?"Analyzing Mix...":"Get Mix Feedback"}),g.jsx(Be,{type:"button",onClick:Yt,variant:"outline",className:"w-full !border-orange-500 !text-orange-400 hover:!bg-orange-500 hover:!text-white",children:"Clear Mix Form"})]})}),U==="compare"&&g.jsxs("div",{className:"space-y-5",children:[g.jsxs(tt,{title:"Mix A (Original)",className:"bg-gray-800/80 backdrop-blur-md shadow-xl border border-gray-700/50",children:[g.jsx("div",{className:`mt-1 flex justify-center px-6 pt-5 pb-6 border-2 ${Ae&&!Q.mixA?"border-red-500":"border-gray-600"} border-dashed rounded-md cursor-pointer hover:border-orange-500 transition-colors`,onClick:()=>{var X;return(X=document.getElementById("mixA-upload"))==null?void 0:X.click()},children:g.jsxs("div",{className:"space-y-1 text-center",children:[g.jsx(Ud,{className:"mx-auto h-12 w-12 text-gray-400"}),g.jsxs("div",{className:"flex text-sm text-gray-400",children:[g.jsxs("label",{htmlFor:"mixA-upload",className:"relative cursor-pointer rounded-md font-medium text-orange-400 hover:text-orange-300",children:[g.jsx("span",{children:"Upload Mix A"}),g.jsx("input",{id:"mixA-upload",name:"mixA-upload",type:"file",className:"sr-only",accept:"audio/*",onChange:X=>{var be;const fe=(be=X.target.files)==null?void 0:be[0];if(fe){if(fe.size>Yl){Me(`File is too large. Max ${$i}MB.`);return}if(!fe.type.startsWith("audio/")){Me("Invalid file type. Please upload audio.");return}ce(Ue=>({...Ue,mixA:fe})),Me(null)}}})]}),g.jsx("p",{className:"pl-1",children:"or drag and drop"})]}),g.jsxs("p",{className:"text-xs text-gray-500",children:["MP3, WAV, FLAC up to ",$i,"MB"]})]})}),Q.mixA&&g.jsxs("p",{className:"text-xs text-green-400 mt-2",children:["Selected: ",Q.mixA.name," (",(Q.mixA.size/1024/1024).toFixed(2)," MB)"]})]}),g.jsxs(tt,{title:"Mix B (Revised)",className:"bg-gray-800/80 backdrop-blur-md shadow-xl border border-gray-700/50",children:[g.jsx("div",{className:`mt-1 flex justify-center px-6 pt-5 pb-6 border-2 ${Ae&&!Q.mixB?"border-red-500":"border-gray-600"} border-dashed rounded-md cursor-pointer hover:border-orange-500 transition-colors`,onClick:()=>{var X;return(X=document.getElementById("mixB-upload"))==null?void 0:X.click()},children:g.jsxs("div",{className:"space-y-1 text-center",children:[g.jsx(Ud,{className:"mx-auto h-12 w-12 text-gray-400"}),g.jsxs("div",{className:"flex text-sm text-gray-400",children:[g.jsxs("label",{htmlFor:"mixB-upload",className:"relative cursor-pointer rounded-md font-medium text-orange-400 hover:text-orange-300",children:[g.jsx("span",{children:"Upload Mix B"}),g.jsx("input",{id:"mixB-upload",name:"mixB-upload",type:"file",className:"sr-only",accept:"audio/*",onChange:X=>{var be;const fe=(be=X.target.files)==null?void 0:be[0];if(fe){if(fe.size>Yl){Me(`File is too large. Max ${$i}MB.`);return}if(!fe.type.startsWith("audio/")){Me("Invalid file type. Please upload audio.");return}ce(Ue=>({...Ue,mixB:fe})),Me(null)}}})]}),g.jsx("p",{className:"pl-1",children:"or drag and drop"})]}),g.jsxs("p",{className:"text-xs text-gray-500",children:["MP3, WAV, FLAC up to ",$i,"MB"]})]})}),Q.mixB&&g.jsxs("p",{className:"text-xs text-green-400 mt-2",children:["Selected: ",Q.mixB.name," (",(Q.mixB.size/1024/1024).toFixed(2)," MB)"]}),g.jsx("div",{className:"mt-4 pt-4 border-t border-gray-600",children:g.jsxs("label",{className:"flex items-center space-x-3 cursor-pointer",children:[g.jsx("input",{type:"checkbox",checked:Q.includeMixBFeedback||!1,onChange:X=>ce(fe=>({...fe,includeMixBFeedback:X.target.checked})),className:"w-4 h-4 text-orange-600 bg-gray-700 border-gray-600 rounded focus:ring-orange-500 focus:ring-2"}),g.jsx("span",{className:"text-sm text-gray-300",children:"Include Individual Analysis"})]})})]}),g.jsx(tt,{title:"Notes for AI",className:"bg-gray-800/80 backdrop-blur-md shadow-xl border border-gray-700/50",children:g.jsx(ga,{placeholder:"Describe what you want the AI to focus on when comparing these mixes. For example: 'Focus on the vocal clarity and low-end balance' or 'Compare the stereo width and overall loudness'...",value:Q.userNotes,onChange:X=>ce(fe=>({...fe,userNotes:X.target.value})),rows:3,className:"w-full"})}),g.jsx(Be,{onClick:Ut,disabled:he||!Q.mixA||!Q.mixB,variant:"primary",className:"w-full px-4 py-3 text-base font-semibold",leftIcon:g.jsx("span",{className:"w-5 h-5 text-center",children:"⚖️"}),children:he?"Comparing Mixes...":"Compare Mixes"}),g.jsx(Be,{type:"button",onClick:vn,variant:"outline",className:"w-full !border-orange-500 !text-orange-400 hover:!bg-orange-500 hover:!text-white",children:"Reset"}),Ae&&!he&&g.jsxs(tt,{className:"border-red-500 bg-red-900/40 shadow-xl",children:[g.jsx("p",{className:"text-red-300 font-semibold text-lg",children:"Mix Comparison Error:"}),g.jsx("p",{className:"text-red-300",children:Ae})]})]})]}),g.jsxs("div",{className:"md:col-span-9 space-y-6",children:[(N||he)&&g.jsx("div",{className:"flex justify-center items-center h-full min-h-[500px]",children:g.jsx(Xi,{size:"lg",color:"text-orange-500",text:U==="single"?"AI is analyzing your mix... this may take a moment.":"AI is comparing your mixes... this may take a moment."})}),C&&!N&&U==="single"&&g.jsxs(tt,{className:"border-red-500 bg-red-900/40 shadow-xl",children:[g.jsx("p",{className:"text-red-300 font-semibold text-lg",children:"Mix Feedback Error:"}),g.jsx("p",{className:"text-red-300",children:C})]}),Ae&&!he&&U==="compare"&&g.jsxs(tt,{className:"border-red-500 bg-red-900/40 shadow-xl",children:[g.jsx("p",{className:"text-red-300 font-semibold text-lg",children:"Mix Comparison Error:"}),g.jsx("p",{className:"text-red-300",children:Ae})]}),q&&!N&&U==="single"&&g.jsx(tt,{title:"AI Mix Feedback Report",className:"bg-gray-800/80 backdrop-blur-md shadow-xl border border-gray-700/50 sticky top-8",titleClassName:"border-b border-gray-700 text-xl !text-orange-300",children:g.jsx("div",{id:"mix-feedback-display",className:"prose prose-sm md:prose-base prose-invert max-w-none max-h-[calc(100vh-6rem)] overflow-y-auto pr-3 text-gray-300 custom-scrollbar guidebook-content",children:g.jsx(Ma,{content:q})})}),de&&!he&&U==="compare"&&g.jsx(tt,{title:"AI Mix Comparison Report",className:"bg-gray-800/80 backdrop-blur-md shadow-xl border border-gray-700/50 sticky top-8",titleClassName:"border-b border-gray-700 text-xl !text-orange-300",children:g.jsx("div",{id:"mix-comparison-display",className:"prose prose-sm md:prose-base prose-invert max-w-none max-h-[calc(100vh-6rem)] overflow-y-auto pr-3 text-gray-300 custom-scrollbar guidebook-content",children:g.jsx(Ma,{content:de})})}),!N&&!he&&!q&&!de&&!C&&!Ae&&g.jsxs(tt,{className:"bg-gray-800/80 backdrop-blur-md shadow-xl border border-gray-700/50 flex flex-col items-center justify-center h-96 text-center min-h-[500px]",children:[g.jsx("div",{className:"flex justify-center mb-6",children:g.jsx(ql,{className:"w-20 h-20 opacity-80"})}),g.jsx("h3",{className:"text-2xl font-semibold text-gray-200 mb-2",children:"Refine Your Sound."}),g.jsx("p",{className:"text-gray-400 max-w-md",children:U==="single"?"Upload your mix, add some notes, and get detailed feedback from our AI mixing engineer.":"Upload two mix versions to compare them side-by-side and get detailed analysis of the differences."})]})]})]}),t==="remixGuide"&&g.jsx("div",{className:"max-w-7xl mx-auto",children:g.jsx(vI,{})}),t==="patchGuide"&&g.jsx("div",{className:"max-w-7xl mx-auto",children:g.jsx(uV,{})}),t==="eqGuide"&&g.jsx("div",{className:"max-w-7xl mx-auto",children:g.jsx(fV,{isOpen:!0,onClose:()=>e("trackGuide")})}),z&&g.jsx(K2,{library:O,onClose:()=>Z(!1),onLoadEntry:ja,onDeleteEntry:W,onCreateNew:Hn}),g.jsx($2,{isOpen:!0,onClose:()=>{},currentGuidebook:G||void 0,userInputs:n,isCollapsed:ue,onToggle:()=>ye(!ue)}),g.jsx("footer",{className:"text-center mt-16 py-8 border-t border-gray-700/60",children:g.jsxs("p",{className:"text-sm text-gray-500",children:[X0," - AI Production Assistant"]})})]})},zS=document.getElementById("root");if(!zS)throw new Error("Could not find root element to mount to");const gV=ow.createRoot(zS);gV.render(g.jsx(sb.StrictMode,{children:g.jsx(pV,{})}));
