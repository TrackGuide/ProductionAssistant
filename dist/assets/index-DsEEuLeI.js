(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))r(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const u of l.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&r(u)}).observe(document,{childList:!0,subtree:!0});function n(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerPolicy&&(l.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?l.credentials="include":a.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function r(a){if(a.ep)return;a.ep=!0;const l=n(a);fetch(a.href,l)}})();function ks(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function rA(e){if(Object.prototype.hasOwnProperty.call(e,"__esModule"))return e;var t=e.default;if(typeof t=="function"){var n=function r(){return this instanceof r?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var a=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,a.get?a:{enumerable:!0,get:function(){return e[r]}})}),n}var Zf={exports:{}},Ka={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var a0;function oA(){if(a0)return Ka;a0=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(r,a,l){var u=null;if(l!==void 0&&(u=""+l),a.key!==void 0&&(u=""+a.key),"key"in a){l={};for(var f in a)f!=="key"&&(l[f]=a[f])}else l=a;return a=l.ref,{$$typeof:e,type:r,key:u,ref:a!==void 0?a:null,props:l}}return Ka.Fragment=t,Ka.jsx=n,Ka.jsxs=n,Ka}var s0;function aA(){return s0||(s0=1,Zf.exports=oA()),Zf.exports}var g=aA(),Wf={exports:{}},Re={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var l0;function sA(){if(l0)return Re;l0=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),u=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),y=Symbol.iterator;function T(C){return C===null||typeof C!="object"?null:(C=y&&C[y]||C["@@iterator"],typeof C=="function"?C:null)}var S={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},A=Object.assign,M={};function R(C,B,q){this.props=C,this.context=B,this.refs=M,this.updater=q||S}R.prototype.isReactComponent={},R.prototype.setState=function(C,B){if(typeof C!="object"&&typeof C!="function"&&C!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,C,B,"setState")},R.prototype.forceUpdate=function(C){this.updater.enqueueForceUpdate(this,C,"forceUpdate")};function I(){}I.prototype=R.prototype;function P(C,B,q){this.props=C,this.context=B,this.refs=M,this.updater=q||S}var N=P.prototype=new I;N.constructor=P,A(N,R.prototype),N.isPureReactComponent=!0;var j=Array.isArray,H={H:null,A:null,T:null,S:null,V:null},U=Object.prototype.hasOwnProperty;function ie(C,B,q,k,J,O){return q=O.ref,{$$typeof:e,type:C,key:B,ref:q!==void 0?q:null,props:O}}function le(C,B){return ie(C.type,B,void 0,void 0,void 0,C.props)}function pe(C){return typeof C=="object"&&C!==null&&C.$$typeof===e}function F(C){var B={"=":"=0",":":"=2"};return"$"+C.replace(/[=:]/g,function(q){return B[q]})}var ue=/\/+/g;function fe(C,B){return typeof C=="object"&&C!==null&&C.key!=null?F(""+C.key):B.toString(36)}function W(){}function ae(C){switch(C.status){case"fulfilled":return C.value;case"rejected":throw C.reason;default:switch(typeof C.status=="string"?C.then(W,W):(C.status="pending",C.then(function(B){C.status==="pending"&&(C.status="fulfilled",C.value=B)},function(B){C.status==="pending"&&(C.status="rejected",C.reason=B)})),C.status){case"fulfilled":return C.value;case"rejected":throw C.reason}}throw C}function me(C,B,q,k,J){var O=typeof C;(O==="undefined"||O==="boolean")&&(C=null);var re=!1;if(C===null)re=!0;else switch(O){case"bigint":case"string":case"number":re=!0;break;case"object":switch(C.$$typeof){case e:case t:re=!0;break;case m:return re=C._init,me(re(C._payload),B,q,k,J)}}if(re)return J=J(C),re=k===""?"."+fe(C,0):k,j(J)?(q="",re!=null&&(q=re.replace(ue,"$&/")+"/"),me(J,B,q,"",function(Se){return Se})):J!=null&&(pe(J)&&(J=le(J,q+(J.key==null||C&&C.key===J.key?"":(""+J.key).replace(ue,"$&/")+"/")+re)),B.push(J)),1;re=0;var ye=k===""?".":k+":";if(j(C))for(var he=0;he<C.length;he++)k=C[he],O=ye+fe(k,he),re+=me(k,B,q,O,J);else if(he=T(C),typeof he=="function")for(C=he.call(C),he=0;!(k=C.next()).done;)k=k.value,O=ye+fe(k,he++),re+=me(k,B,q,O,J);else if(O==="object"){if(typeof C.then=="function")return me(ae(C),B,q,k,J);throw B=String(C),Error("Objects are not valid as a React child (found: "+(B==="[object Object]"?"object with keys {"+Object.keys(C).join(", ")+"}":B)+"). If you meant to render a collection of children, use an array instead.")}return re}function $(C,B,q){if(C==null)return C;var k=[],J=0;return me(C,k,"","",function(O){return B.call(q,O,J++)}),k}function L(C){if(C._status===-1){var B=C._result;B=B(),B.then(function(q){(C._status===0||C._status===-1)&&(C._status=1,C._result=q)},function(q){(C._status===0||C._status===-1)&&(C._status=2,C._result=q)}),C._status===-1&&(C._status=0,C._result=B)}if(C._status===1)return C._result.default;throw C._result}var D=typeof reportError=="function"?reportError:function(C){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var B=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof C=="object"&&C!==null&&typeof C.message=="string"?String(C.message):String(C),error:C});if(!window.dispatchEvent(B))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",C);return}console.error(C)};function _(){}return Re.Children={map:$,forEach:function(C,B,q){$(C,function(){B.apply(this,arguments)},q)},count:function(C){var B=0;return $(C,function(){B++}),B},toArray:function(C){return $(C,function(B){return B})||[]},only:function(C){if(!pe(C))throw Error("React.Children.only expected to receive a single React element child.");return C}},Re.Component=R,Re.Fragment=n,Re.Profiler=a,Re.PureComponent=P,Re.StrictMode=r,Re.Suspense=h,Re.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=H,Re.__COMPILER_RUNTIME={__proto__:null,c:function(C){return H.H.useMemoCache(C)}},Re.cache=function(C){return function(){return C.apply(null,arguments)}},Re.cloneElement=function(C,B,q){if(C==null)throw Error("The argument must be a React element, but you passed "+C+".");var k=A({},C.props),J=C.key,O=void 0;if(B!=null)for(re in B.ref!==void 0&&(O=void 0),B.key!==void 0&&(J=""+B.key),B)!U.call(B,re)||re==="key"||re==="__self"||re==="__source"||re==="ref"&&B.ref===void 0||(k[re]=B[re]);var re=arguments.length-2;if(re===1)k.children=q;else if(1<re){for(var ye=Array(re),he=0;he<re;he++)ye[he]=arguments[he+2];k.children=ye}return ie(C.type,J,void 0,void 0,O,k)},Re.createContext=function(C){return C={$$typeof:u,_currentValue:C,_currentValue2:C,_threadCount:0,Provider:null,Consumer:null},C.Provider=C,C.Consumer={$$typeof:l,_context:C},C},Re.createElement=function(C,B,q){var k,J={},O=null;if(B!=null)for(k in B.key!==void 0&&(O=""+B.key),B)U.call(B,k)&&k!=="key"&&k!=="__self"&&k!=="__source"&&(J[k]=B[k]);var re=arguments.length-2;if(re===1)J.children=q;else if(1<re){for(var ye=Array(re),he=0;he<re;he++)ye[he]=arguments[he+2];J.children=ye}if(C&&C.defaultProps)for(k in re=C.defaultProps,re)J[k]===void 0&&(J[k]=re[k]);return ie(C,O,void 0,void 0,null,J)},Re.createRef=function(){return{current:null}},Re.forwardRef=function(C){return{$$typeof:f,render:C}},Re.isValidElement=pe,Re.lazy=function(C){return{$$typeof:m,_payload:{_status:-1,_result:C},_init:L}},Re.memo=function(C,B){return{$$typeof:d,type:C,compare:B===void 0?null:B}},Re.startTransition=function(C){var B=H.T,q={};H.T=q;try{var k=C(),J=H.S;J!==null&&J(q,k),typeof k=="object"&&k!==null&&typeof k.then=="function"&&k.then(_,D)}catch(O){D(O)}finally{H.T=B}},Re.unstable_useCacheRefresh=function(){return H.H.useCacheRefresh()},Re.use=function(C){return H.H.use(C)},Re.useActionState=function(C,B,q){return H.H.useActionState(C,B,q)},Re.useCallback=function(C,B){return H.H.useCallback(C,B)},Re.useContext=function(C){return H.H.useContext(C)},Re.useDebugValue=function(){},Re.useDeferredValue=function(C,B){return H.H.useDeferredValue(C,B)},Re.useEffect=function(C,B,q){var k=H.H;if(typeof q=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return k.useEffect(C,B)},Re.useId=function(){return H.H.useId()},Re.useImperativeHandle=function(C,B,q){return H.H.useImperativeHandle(C,B,q)},Re.useInsertionEffect=function(C,B){return H.H.useInsertionEffect(C,B)},Re.useLayoutEffect=function(C,B){return H.H.useLayoutEffect(C,B)},Re.useMemo=function(C,B){return H.H.useMemo(C,B)},Re.useOptimistic=function(C,B){return H.H.useOptimistic(C,B)},Re.useReducer=function(C,B,q){return H.H.useReducer(C,B,q)},Re.useRef=function(C){return H.H.useRef(C)},Re.useState=function(C){return H.H.useState(C)},Re.useSyncExternalStore=function(C,B,q){return H.H.useSyncExternalStore(C,B,q)},Re.useTransition=function(){return H.H.useTransition()},Re.version="19.1.0",Re}var u0;function Mh(){return u0||(u0=1,Wf.exports=sA()),Wf.exports}var te=Mh();const kh=ks(te);var ed={exports:{}},Xa={},td={exports:{}},nd={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var c0;function lA(){return c0||(c0=1,function(e){function t($,L){var D=$.length;$.push(L);e:for(;0<D;){var _=D-1>>>1,C=$[_];if(0<a(C,L))$[_]=L,$[D]=C,D=_;else break e}}function n($){return $.length===0?null:$[0]}function r($){if($.length===0)return null;var L=$[0],D=$.pop();if(D!==L){$[0]=D;e:for(var _=0,C=$.length,B=C>>>1;_<B;){var q=2*(_+1)-1,k=$[q],J=q+1,O=$[J];if(0>a(k,D))J<C&&0>a(O,k)?($[_]=O,$[J]=D,_=J):($[_]=k,$[q]=D,_=q);else if(J<C&&0>a(O,D))$[_]=O,$[J]=D,_=J;else break e}}return L}function a($,L){var D=$.sortIndex-L.sortIndex;return D!==0?D:$.id-L.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;e.unstable_now=function(){return l.now()}}else{var u=Date,f=u.now();e.unstable_now=function(){return u.now()-f}}var h=[],d=[],m=1,y=null,T=3,S=!1,A=!1,M=!1,R=!1,I=typeof setTimeout=="function"?setTimeout:null,P=typeof clearTimeout=="function"?clearTimeout:null,N=typeof setImmediate<"u"?setImmediate:null;function j($){for(var L=n(d);L!==null;){if(L.callback===null)r(d);else if(L.startTime<=$)r(d),L.sortIndex=L.expirationTime,t(h,L);else break;L=n(d)}}function H($){if(M=!1,j($),!A)if(n(h)!==null)A=!0,U||(U=!0,fe());else{var L=n(d);L!==null&&me(H,L.startTime-$)}}var U=!1,ie=-1,le=5,pe=-1;function F(){return R?!0:!(e.unstable_now()-pe<le)}function ue(){if(R=!1,U){var $=e.unstable_now();pe=$;var L=!0;try{e:{A=!1,M&&(M=!1,P(ie),ie=-1),S=!0;var D=T;try{t:{for(j($),y=n(h);y!==null&&!(y.expirationTime>$&&F());){var _=y.callback;if(typeof _=="function"){y.callback=null,T=y.priorityLevel;var C=_(y.expirationTime<=$);if($=e.unstable_now(),typeof C=="function"){y.callback=C,j($),L=!0;break t}y===n(h)&&r(h),j($)}else r(h);y=n(h)}if(y!==null)L=!0;else{var B=n(d);B!==null&&me(H,B.startTime-$),L=!1}}break e}finally{y=null,T=D,S=!1}L=void 0}}finally{L?fe():U=!1}}}var fe;if(typeof N=="function")fe=function(){N(ue)};else if(typeof MessageChannel<"u"){var W=new MessageChannel,ae=W.port2;W.port1.onmessage=ue,fe=function(){ae.postMessage(null)}}else fe=function(){I(ue,0)};function me($,L){ie=I(function(){$(e.unstable_now())},L)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function($){$.callback=null},e.unstable_forceFrameRate=function($){0>$||125<$?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):le=0<$?Math.floor(1e3/$):5},e.unstable_getCurrentPriorityLevel=function(){return T},e.unstable_next=function($){switch(T){case 1:case 2:case 3:var L=3;break;default:L=T}var D=T;T=L;try{return $()}finally{T=D}},e.unstable_requestPaint=function(){R=!0},e.unstable_runWithPriority=function($,L){switch($){case 1:case 2:case 3:case 4:case 5:break;default:$=3}var D=T;T=$;try{return L()}finally{T=D}},e.unstable_scheduleCallback=function($,L,D){var _=e.unstable_now();switch(typeof D=="object"&&D!==null?(D=D.delay,D=typeof D=="number"&&0<D?_+D:_):D=_,$){case 1:var C=-1;break;case 2:C=250;break;case 5:C=1073741823;break;case 4:C=1e4;break;default:C=5e3}return C=D+C,$={id:m++,callback:L,priorityLevel:$,startTime:D,expirationTime:C,sortIndex:-1},D>_?($.sortIndex=D,t(d,$),n(h)===null&&$===n(d)&&(M?(P(ie),ie=-1):M=!0,me(H,D-_))):($.sortIndex=C,t(h,$),A||S||(A=!0,U||(U=!0,fe()))),$},e.unstable_shouldYield=F,e.unstable_wrapCallback=function($){var L=T;return function(){var D=T;T=L;try{return $.apply(this,arguments)}finally{T=D}}}}(nd)),nd}var f0;function uA(){return f0||(f0=1,td.exports=lA()),td.exports}var id={exports:{}},Ht={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var d0;function cA(){if(d0)return Ht;d0=1;var e=Mh();function t(h){var d="https://react.dev/errors/"+h;if(1<arguments.length){d+="?args[]="+encodeURIComponent(arguments[1]);for(var m=2;m<arguments.length;m++)d+="&args[]="+encodeURIComponent(arguments[m])}return"Minified React error #"+h+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},a=Symbol.for("react.portal");function l(h,d,m){var y=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:y==null?null:""+y,children:h,containerInfo:d,implementation:m}}var u=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function f(h,d){if(h==="font")return"";if(typeof d=="string")return d==="use-credentials"?d:""}return Ht.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Ht.createPortal=function(h,d){var m=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!d||d.nodeType!==1&&d.nodeType!==9&&d.nodeType!==11)throw Error(t(299));return l(h,d,null,m)},Ht.flushSync=function(h){var d=u.T,m=r.p;try{if(u.T=null,r.p=2,h)return h()}finally{u.T=d,r.p=m,r.d.f()}},Ht.preconnect=function(h,d){typeof h=="string"&&(d?(d=d.crossOrigin,d=typeof d=="string"?d==="use-credentials"?d:"":void 0):d=null,r.d.C(h,d))},Ht.prefetchDNS=function(h){typeof h=="string"&&r.d.D(h)},Ht.preinit=function(h,d){if(typeof h=="string"&&d&&typeof d.as=="string"){var m=d.as,y=f(m,d.crossOrigin),T=typeof d.integrity=="string"?d.integrity:void 0,S=typeof d.fetchPriority=="string"?d.fetchPriority:void 0;m==="style"?r.d.S(h,typeof d.precedence=="string"?d.precedence:void 0,{crossOrigin:y,integrity:T,fetchPriority:S}):m==="script"&&r.d.X(h,{crossOrigin:y,integrity:T,fetchPriority:S,nonce:typeof d.nonce=="string"?d.nonce:void 0})}},Ht.preinitModule=function(h,d){if(typeof h=="string")if(typeof d=="object"&&d!==null){if(d.as==null||d.as==="script"){var m=f(d.as,d.crossOrigin);r.d.M(h,{crossOrigin:m,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0})}}else d==null&&r.d.M(h)},Ht.preload=function(h,d){if(typeof h=="string"&&typeof d=="object"&&d!==null&&typeof d.as=="string"){var m=d.as,y=f(m,d.crossOrigin);r.d.L(h,m,{crossOrigin:y,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0,type:typeof d.type=="string"?d.type:void 0,fetchPriority:typeof d.fetchPriority=="string"?d.fetchPriority:void 0,referrerPolicy:typeof d.referrerPolicy=="string"?d.referrerPolicy:void 0,imageSrcSet:typeof d.imageSrcSet=="string"?d.imageSrcSet:void 0,imageSizes:typeof d.imageSizes=="string"?d.imageSizes:void 0,media:typeof d.media=="string"?d.media:void 0})}},Ht.preloadModule=function(h,d){if(typeof h=="string")if(d){var m=f(d.as,d.crossOrigin);r.d.m(h,{as:typeof d.as=="string"&&d.as!=="script"?d.as:void 0,crossOrigin:m,integrity:typeof d.integrity=="string"?d.integrity:void 0})}else r.d.m(h)},Ht.requestFormReset=function(h){r.d.r(h)},Ht.unstable_batchedUpdates=function(h,d){return h(d)},Ht.useFormState=function(h,d,m){return u.H.useFormState(h,d,m)},Ht.useFormStatus=function(){return u.H.useHostTransitionStatus()},Ht.version="19.1.0",Ht}var h0;function fA(){if(h0)return id.exports;h0=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),id.exports=cA(),id.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var m0;function dA(){if(m0)return Xa;m0=1;var e=uA(),t=Mh(),n=fA();function r(i){var o="https://react.dev/errors/"+i;if(1<arguments.length){o+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)o+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+i+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function l(i){var o=i,s=i;if(i.alternate)for(;o.return;)o=o.return;else{i=o;do o=i,(o.flags&4098)!==0&&(s=o.return),i=o.return;while(i)}return o.tag===3?s:null}function u(i){if(i.tag===13){var o=i.memoizedState;if(o===null&&(i=i.alternate,i!==null&&(o=i.memoizedState)),o!==null)return o.dehydrated}return null}function f(i){if(l(i)!==i)throw Error(r(188))}function h(i){var o=i.alternate;if(!o){if(o=l(i),o===null)throw Error(r(188));return o!==i?null:i}for(var s=i,c=o;;){var p=s.return;if(p===null)break;var b=p.alternate;if(b===null){if(c=p.return,c!==null){s=c;continue}break}if(p.child===b.child){for(b=p.child;b;){if(b===s)return f(p),i;if(b===c)return f(p),o;b=b.sibling}throw Error(r(188))}if(s.return!==c.return)s=p,c=b;else{for(var w=!1,E=p.child;E;){if(E===s){w=!0,s=p,c=b;break}if(E===c){w=!0,c=p,s=b;break}E=E.sibling}if(!w){for(E=b.child;E;){if(E===s){w=!0,s=b,c=p;break}if(E===c){w=!0,c=b,s=p;break}E=E.sibling}if(!w)throw Error(r(189))}}if(s.alternate!==c)throw Error(r(190))}if(s.tag!==3)throw Error(r(188));return s.stateNode.current===s?i:o}function d(i){var o=i.tag;if(o===5||o===26||o===27||o===6)return i;for(i=i.child;i!==null;){if(o=d(i),o!==null)return o;i=i.sibling}return null}var m=Object.assign,y=Symbol.for("react.element"),T=Symbol.for("react.transitional.element"),S=Symbol.for("react.portal"),A=Symbol.for("react.fragment"),M=Symbol.for("react.strict_mode"),R=Symbol.for("react.profiler"),I=Symbol.for("react.provider"),P=Symbol.for("react.consumer"),N=Symbol.for("react.context"),j=Symbol.for("react.forward_ref"),H=Symbol.for("react.suspense"),U=Symbol.for("react.suspense_list"),ie=Symbol.for("react.memo"),le=Symbol.for("react.lazy"),pe=Symbol.for("react.activity"),F=Symbol.for("react.memo_cache_sentinel"),ue=Symbol.iterator;function fe(i){return i===null||typeof i!="object"?null:(i=ue&&i[ue]||i["@@iterator"],typeof i=="function"?i:null)}var W=Symbol.for("react.client.reference");function ae(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===W?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case A:return"Fragment";case R:return"Profiler";case M:return"StrictMode";case H:return"Suspense";case U:return"SuspenseList";case pe:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case S:return"Portal";case N:return(i.displayName||"Context")+".Provider";case P:return(i._context.displayName||"Context")+".Consumer";case j:var o=i.render;return i=i.displayName,i||(i=o.displayName||o.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case ie:return o=i.displayName||null,o!==null?o:ae(i.type)||"Memo";case le:o=i._payload,i=i._init;try{return ae(i(o))}catch{}}return null}var me=Array.isArray,$=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,L=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,D={pending:!1,data:null,method:null,action:null},_=[],C=-1;function B(i){return{current:i}}function q(i){0>C||(i.current=_[C],_[C]=null,C--)}function k(i,o){C++,_[C]=i.current,i.current=o}var J=B(null),O=B(null),re=B(null),ye=B(null);function he(i,o){switch(k(re,o),k(O,i),k(J,null),o.nodeType){case 9:case 11:i=(i=o.documentElement)&&(i=i.namespaceURI)?Vy(i):0;break;default:if(i=o.tagName,o=o.namespaceURI)o=Vy(o),i=Py(o,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}q(J),k(J,i)}function Se(){q(J),q(O),q(re)}function Ne(i){i.memoizedState!==null&&k(ye,i);var o=J.current,s=Py(o,i.type);o!==s&&(k(O,i),k(J,s))}function be(i){O.current===i&&(q(J),q(O)),ye.current===i&&(q(ye),Ha._currentValue=D)}var qe=Object.prototype.hasOwnProperty,Ve=e.unstable_scheduleCallback,Fe=e.unstable_cancelCallback,_t=e.unstable_shouldYield,bt=e.unstable_requestPaint,ft=e.unstable_now,Hr=e.unstable_getCurrentPriorityLevel,Et=e.unstable_ImmediatePriority,ii=e.unstable_UserBlockingPriority,ri=e.unstable_NormalPriority,Gr=e.unstable_LowPriority,qr=e.unstable_IdlePriority,$r=e.log,ur=e.unstable_setDisableYieldValue,ee=null,ce=null;function Ce(i){if(typeof $r=="function"&&ur(i),ce&&typeof ce.setStrictMode=="function")try{ce.setStrictMode(ee,i)}catch{}}var Ae=Math.clz32?Math.clz32:Ln,Ye=Math.log,jt=Math.LN2;function Ln(i){return i>>>=0,i===0?32:31-(Ye(i)/jt|0)|0}var Ot=256,Tn=4194304;function Kt(i){var o=i&42;if(o!==0)return o;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function gt(i,o,s){var c=i.pendingLanes;if(c===0)return 0;var p=0,b=i.suspendedLanes,w=i.pingedLanes;i=i.warmLanes;var E=c&134217727;return E!==0?(c=E&~b,c!==0?p=Kt(c):(w&=E,w!==0?p=Kt(w):s||(s=E&~i,s!==0&&(p=Kt(s))))):(E=c&~b,E!==0?p=Kt(E):w!==0?p=Kt(w):s||(s=c&~i,s!==0&&(p=Kt(s)))),p===0?0:o!==0&&o!==p&&(o&b)===0&&(b=p&-p,s=o&-o,b>=s||b===32&&(s&4194048)!==0)?o:p}function Zt(i,o){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&o)===0}function un(i,o){switch(i){case 1:case 2:case 4:case 8:case 64:return o+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function cn(){var i=Ot;return Ot<<=1,(Ot&4194048)===0&&(Ot=256),i}function Jo(){var i=Tn;return Tn<<=1,(Tn&62914560)===0&&(Tn=4194304),i}function Yr(i){for(var o=[],s=0;31>s;s++)o.push(i);return o}function Z(i,o){i.pendingLanes|=o,o!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function ge(i,o,s,c,p,b){var w=i.pendingLanes;i.pendingLanes=s,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=s,i.entangledLanes&=s,i.errorRecoveryDisabledLanes&=s,i.shellSuspendCounter=0;var E=i.entanglements,V=i.expirationTimes,K=i.hiddenUpdates;for(s=w&~s;0<s;){var ne=31-Ae(s),se=1<<ne;E[ne]=0,V[ne]=-1;var X=K[ne];if(X!==null)for(K[ne]=null,ne=0;ne<X.length;ne++){var Q=X[ne];Q!==null&&(Q.lane&=-536870913)}s&=~se}c!==0&&xe(i,c,0),b!==0&&p===0&&i.tag!==0&&(i.suspendedLanes|=b&~(w&~o))}function xe(i,o,s){i.pendingLanes|=o,i.suspendedLanes&=~o;var c=31-Ae(o);i.entangledLanes|=o,i.entanglements[c]=i.entanglements[c]|1073741824|s&4194090}function Ue(i,o){var s=i.entangledLanes|=o;for(i=i.entanglements;s;){var c=31-Ae(s),p=1<<c;p&o|i[c]&o&&(i[c]|=o),s&=~p}}function zt(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function at(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function Bs(){var i=L.p;return i!==0?i:(i=window.event,i===void 0?32:e0(i.type))}function Gu(i,o){var s=L.p;try{return L.p=i,o()}finally{L.p=s}}var qn=Math.random().toString(36).slice(2),It="__reactFiber$"+qn,Ft="__reactProps$"+qn,Ei="__reactContainer$"+qn,Zo="__reactEvents$"+qn,Kr="__reactListeners$"+qn,js="__reactHandles$"+qn,Os="__reactResources$"+qn,cr="__reactMarker$"+qn;function Wo(i){delete i[It],delete i[Ft],delete i[Zo],delete i[Kr],delete i[js]}function Mi(i){var o=i[It];if(o)return o;for(var s=i.parentNode;s;){if(o=s[Ei]||s[It]){if(s=o.alternate,o.child!==null||s!==null&&s.child!==null)for(i=Oy(i);i!==null;){if(s=i[It])return s;i=Oy(i)}return o}i=s,s=i.parentNode}return null}function oi(i){if(i=i[It]||i[Ei]){var o=i.tag;if(o===5||o===6||o===13||o===26||o===27||o===3)return i}return null}function fr(i){var o=i.tag;if(o===5||o===26||o===27||o===6)return i.stateNode;throw Error(r(33))}function dr(i){var o=i[Os];return o||(o=i[Os]={hoistableStyles:new Map,hoistableScripts:new Map}),o}function Tt(i){i[cr]=!0}var Wt=new Set,ai={};function Bn(i,o){ki(i,o),ki(i+"Capture",o)}function ki(i,o){for(ai[i]=o,i=0;i<o.length;i++)Wt.add(o[i])}var ea=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),hr={},ta={};function JS(i){return qe.call(ta,i)?!0:qe.call(hr,i)?!1:ea.test(i)?ta[i]=!0:(hr[i]=!0,!1)}function zs(i,o,s){if(JS(o))if(s===null)i.removeAttribute(o);else{switch(typeof s){case"undefined":case"function":case"symbol":i.removeAttribute(o);return;case"boolean":var c=o.toLowerCase().slice(0,5);if(c!=="data-"&&c!=="aria-"){i.removeAttribute(o);return}}i.setAttribute(o,""+s)}}function Fs(i,o,s){if(s===null)i.removeAttribute(o);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(o);return}i.setAttribute(o,""+s)}}function si(i,o,s,c){if(c===null)i.removeAttribute(s);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(s);return}i.setAttributeNS(o,s,""+c)}}var qu,Mm;function Xr(i){if(qu===void 0)try{throw Error()}catch(s){var o=s.stack.trim().match(/\n( *(at )?)/);qu=o&&o[1]||"",Mm=-1<s.stack.indexOf(`
    at`)?" (<anonymous>)":-1<s.stack.indexOf("@")?"@unknown:0:0":""}return`
`+qu+i+Mm}var $u=!1;function Yu(i,o){if(!i||$u)return"";$u=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var c={DetermineComponentFrameRoot:function(){try{if(o){var se=function(){throw Error()};if(Object.defineProperty(se.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(se,[])}catch(Q){var X=Q}Reflect.construct(i,[],se)}else{try{se.call()}catch(Q){X=Q}i.call(se.prototype)}}else{try{throw Error()}catch(Q){X=Q}(se=i())&&typeof se.catch=="function"&&se.catch(function(){})}}catch(Q){if(Q&&X&&typeof Q.stack=="string")return[Q.stack,X.stack]}return[null,null]}};c.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var p=Object.getOwnPropertyDescriptor(c.DetermineComponentFrameRoot,"name");p&&p.configurable&&Object.defineProperty(c.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var b=c.DetermineComponentFrameRoot(),w=b[0],E=b[1];if(w&&E){var V=w.split(`
`),K=E.split(`
`);for(p=c=0;c<V.length&&!V[c].includes("DetermineComponentFrameRoot");)c++;for(;p<K.length&&!K[p].includes("DetermineComponentFrameRoot");)p++;if(c===V.length||p===K.length)for(c=V.length-1,p=K.length-1;1<=c&&0<=p&&V[c]!==K[p];)p--;for(;1<=c&&0<=p;c--,p--)if(V[c]!==K[p]){if(c!==1||p!==1)do if(c--,p--,0>p||V[c]!==K[p]){var ne=`
`+V[c].replace(" at new "," at ");return i.displayName&&ne.includes("<anonymous>")&&(ne=ne.replace("<anonymous>",i.displayName)),ne}while(1<=c&&0<=p);break}}}finally{$u=!1,Error.prepareStackTrace=s}return(s=i?i.displayName||i.name:"")?Xr(s):""}function ZS(i){switch(i.tag){case 26:case 27:case 5:return Xr(i.type);case 16:return Xr("Lazy");case 13:return Xr("Suspense");case 19:return Xr("SuspenseList");case 0:case 15:return Yu(i.type,!1);case 11:return Yu(i.type.render,!1);case 1:return Yu(i.type,!0);case 31:return Xr("Activity");default:return""}}function km(i){try{var o="";do o+=ZS(i),i=i.return;while(i);return o}catch(s){return`
Error generating stack: `+s.message+`
`+s.stack}}function Sn(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function Im(i){var o=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function WS(i){var o=Im(i)?"checked":"value",s=Object.getOwnPropertyDescriptor(i.constructor.prototype,o),c=""+i[o];if(!i.hasOwnProperty(o)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var p=s.get,b=s.set;return Object.defineProperty(i,o,{configurable:!0,get:function(){return p.call(this)},set:function(w){c=""+w,b.call(this,w)}}),Object.defineProperty(i,o,{enumerable:s.enumerable}),{getValue:function(){return c},setValue:function(w){c=""+w},stopTracking:function(){i._valueTracker=null,delete i[o]}}}}function Us(i){i._valueTracker||(i._valueTracker=WS(i))}function Nm(i){if(!i)return!1;var o=i._valueTracker;if(!o)return!0;var s=o.getValue(),c="";return i&&(c=Im(i)?i.checked?"true":"false":i.value),i=c,i!==s?(o.setValue(i),!0):!1}function Hs(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var eC=/[\n"\\]/g;function Cn(i){return i.replace(eC,function(o){return"\\"+o.charCodeAt(0).toString(16)+" "})}function Ku(i,o,s,c,p,b,w,E){i.name="",w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"?i.type=w:i.removeAttribute("type"),o!=null?w==="number"?(o===0&&i.value===""||i.value!=o)&&(i.value=""+Sn(o)):i.value!==""+Sn(o)&&(i.value=""+Sn(o)):w!=="submit"&&w!=="reset"||i.removeAttribute("value"),o!=null?Xu(i,w,Sn(o)):s!=null?Xu(i,w,Sn(s)):c!=null&&i.removeAttribute("value"),p==null&&b!=null&&(i.defaultChecked=!!b),p!=null&&(i.checked=p&&typeof p!="function"&&typeof p!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?i.name=""+Sn(E):i.removeAttribute("name")}function Dm(i,o,s,c,p,b,w,E){if(b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"&&(i.type=b),o!=null||s!=null){if(!(b!=="submit"&&b!=="reset"||o!=null))return;s=s!=null?""+Sn(s):"",o=o!=null?""+Sn(o):s,E||o===i.value||(i.value=o),i.defaultValue=o}c=c??p,c=typeof c!="function"&&typeof c!="symbol"&&!!c,i.checked=E?i.checked:!!c,i.defaultChecked=!!c,w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"&&(i.name=w)}function Xu(i,o,s){o==="number"&&Hs(i.ownerDocument)===i||i.defaultValue===""+s||(i.defaultValue=""+s)}function Qr(i,o,s,c){if(i=i.options,o){o={};for(var p=0;p<s.length;p++)o["$"+s[p]]=!0;for(s=0;s<i.length;s++)p=o.hasOwnProperty("$"+i[s].value),i[s].selected!==p&&(i[s].selected=p),p&&c&&(i[s].defaultSelected=!0)}else{for(s=""+Sn(s),o=null,p=0;p<i.length;p++){if(i[p].value===s){i[p].selected=!0,c&&(i[p].defaultSelected=!0);return}o!==null||i[p].disabled||(o=i[p])}o!==null&&(o.selected=!0)}}function Rm(i,o,s){if(o!=null&&(o=""+Sn(o),o!==i.value&&(i.value=o),s==null)){i.defaultValue!==o&&(i.defaultValue=o);return}i.defaultValue=s!=null?""+Sn(s):""}function _m(i,o,s,c){if(o==null){if(c!=null){if(s!=null)throw Error(r(92));if(me(c)){if(1<c.length)throw Error(r(93));c=c[0]}s=c}s==null&&(s=""),o=s}s=Sn(o),i.defaultValue=s,c=i.textContent,c===s&&c!==""&&c!==null&&(i.value=c)}function Jr(i,o){if(o){var s=i.firstChild;if(s&&s===i.lastChild&&s.nodeType===3){s.nodeValue=o;return}}i.textContent=o}var tC=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Vm(i,o,s){var c=o.indexOf("--")===0;s==null||typeof s=="boolean"||s===""?c?i.setProperty(o,""):o==="float"?i.cssFloat="":i[o]="":c?i.setProperty(o,s):typeof s!="number"||s===0||tC.has(o)?o==="float"?i.cssFloat=s:i[o]=(""+s).trim():i[o]=s+"px"}function Pm(i,o,s){if(o!=null&&typeof o!="object")throw Error(r(62));if(i=i.style,s!=null){for(var c in s)!s.hasOwnProperty(c)||o!=null&&o.hasOwnProperty(c)||(c.indexOf("--")===0?i.setProperty(c,""):c==="float"?i.cssFloat="":i[c]="");for(var p in o)c=o[p],o.hasOwnProperty(p)&&s[p]!==c&&Vm(i,p,c)}else for(var b in o)o.hasOwnProperty(b)&&Vm(i,b,o[b])}function Qu(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var nC=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),iC=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Gs(i){return iC.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}var Ju=null;function Zu(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var Zr=null,Wr=null;function Lm(i){var o=oi(i);if(o&&(i=o.stateNode)){var s=i[Ft]||null;e:switch(i=o.stateNode,o.type){case"input":if(Ku(i,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name),o=s.name,s.type==="radio"&&o!=null){for(s=i;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll('input[name="'+Cn(""+o)+'"][type="radio"]'),o=0;o<s.length;o++){var c=s[o];if(c!==i&&c.form===i.form){var p=c[Ft]||null;if(!p)throw Error(r(90));Ku(c,p.value,p.defaultValue,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name)}}for(o=0;o<s.length;o++)c=s[o],c.form===i.form&&Nm(c)}break e;case"textarea":Rm(i,s.value,s.defaultValue);break e;case"select":o=s.value,o!=null&&Qr(i,!!s.multiple,o,!1)}}}var Wu=!1;function Bm(i,o,s){if(Wu)return i(o,s);Wu=!0;try{var c=i(o);return c}finally{if(Wu=!1,(Zr!==null||Wr!==null)&&(Il(),Zr&&(o=Zr,i=Wr,Wr=Zr=null,Lm(o),i)))for(o=0;o<i.length;o++)Lm(i[o])}}function na(i,o){var s=i.stateNode;if(s===null)return null;var c=s[Ft]||null;if(c===null)return null;s=c[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(i=i.type,c=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!c;break e;default:i=!1}if(i)return null;if(s&&typeof s!="function")throw Error(r(231,o,typeof s));return s}var li=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ec=!1;if(li)try{var ia={};Object.defineProperty(ia,"passive",{get:function(){ec=!0}}),window.addEventListener("test",ia,ia),window.removeEventListener("test",ia,ia)}catch{ec=!1}var Ii=null,tc=null,qs=null;function jm(){if(qs)return qs;var i,o=tc,s=o.length,c,p="value"in Ii?Ii.value:Ii.textContent,b=p.length;for(i=0;i<s&&o[i]===p[i];i++);var w=s-i;for(c=1;c<=w&&o[s-c]===p[b-c];c++);return qs=p.slice(i,1<c?1-c:void 0)}function $s(i){var o=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&o===13&&(i=13)):i=o,i===10&&(i=13),32<=i||i===13?i:0}function Ys(){return!0}function Om(){return!1}function en(i){function o(s,c,p,b,w){this._reactName=s,this._targetInst=p,this.type=c,this.nativeEvent=b,this.target=w,this.currentTarget=null;for(var E in i)i.hasOwnProperty(E)&&(s=i[E],this[E]=s?s(b):b[E]);return this.isDefaultPrevented=(b.defaultPrevented!=null?b.defaultPrevented:b.returnValue===!1)?Ys:Om,this.isPropagationStopped=Om,this}return m(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=Ys)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=Ys)},persist:function(){},isPersistent:Ys}),o}var mr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ks=en(mr),ra=m({},mr,{view:0,detail:0}),rC=en(ra),nc,ic,oa,Xs=m({},ra,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:oc,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==oa&&(oa&&i.type==="mousemove"?(nc=i.screenX-oa.screenX,ic=i.screenY-oa.screenY):ic=nc=0,oa=i),nc)},movementY:function(i){return"movementY"in i?i.movementY:ic}}),zm=en(Xs),oC=m({},Xs,{dataTransfer:0}),aC=en(oC),sC=m({},ra,{relatedTarget:0}),rc=en(sC),lC=m({},mr,{animationName:0,elapsedTime:0,pseudoElement:0}),uC=en(lC),cC=m({},mr,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),fC=en(cC),dC=m({},mr,{data:0}),Fm=en(dC),hC={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},mC={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},pC={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function gC(i){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(i):(i=pC[i])?!!o[i]:!1}function oc(){return gC}var yC=m({},ra,{key:function(i){if(i.key){var o=hC[i.key]||i.key;if(o!=="Unidentified")return o}return i.type==="keypress"?(i=$s(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?mC[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:oc,charCode:function(i){return i.type==="keypress"?$s(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?$s(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),xC=en(yC),vC=m({},Xs,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Um=en(vC),bC=m({},ra,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:oc}),TC=en(bC),SC=m({},mr,{propertyName:0,elapsedTime:0,pseudoElement:0}),CC=en(SC),wC=m({},Xs,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),AC=en(wC),EC=m({},mr,{newState:0,oldState:0}),MC=en(EC),kC=[9,13,27,32],ac=li&&"CompositionEvent"in window,aa=null;li&&"documentMode"in document&&(aa=document.documentMode);var IC=li&&"TextEvent"in window&&!aa,Hm=li&&(!ac||aa&&8<aa&&11>=aa),Gm=" ",qm=!1;function $m(i,o){switch(i){case"keyup":return kC.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ym(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var eo=!1;function NC(i,o){switch(i){case"compositionend":return Ym(o);case"keypress":return o.which!==32?null:(qm=!0,Gm);case"textInput":return i=o.data,i===Gm&&qm?null:i;default:return null}}function DC(i,o){if(eo)return i==="compositionend"||!ac&&$m(i,o)?(i=jm(),qs=tc=Ii=null,eo=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return Hm&&o.locale!=="ko"?null:o.data;default:return null}}var RC={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Km(i){var o=i&&i.nodeName&&i.nodeName.toLowerCase();return o==="input"?!!RC[i.type]:o==="textarea"}function Xm(i,o,s,c){Zr?Wr?Wr.push(c):Wr=[c]:Zr=c,o=Pl(o,"onChange"),0<o.length&&(s=new Ks("onChange","change",null,s,c),i.push({event:s,listeners:o}))}var sa=null,la=null;function _C(i){Iy(i,0)}function Qs(i){var o=fr(i);if(Nm(o))return i}function Qm(i,o){if(i==="change")return o}var Jm=!1;if(li){var sc;if(li){var lc="oninput"in document;if(!lc){var Zm=document.createElement("div");Zm.setAttribute("oninput","return;"),lc=typeof Zm.oninput=="function"}sc=lc}else sc=!1;Jm=sc&&(!document.documentMode||9<document.documentMode)}function Wm(){sa&&(sa.detachEvent("onpropertychange",ep),la=sa=null)}function ep(i){if(i.propertyName==="value"&&Qs(la)){var o=[];Xm(o,la,i,Zu(i)),Bm(_C,o)}}function VC(i,o,s){i==="focusin"?(Wm(),sa=o,la=s,sa.attachEvent("onpropertychange",ep)):i==="focusout"&&Wm()}function PC(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return Qs(la)}function LC(i,o){if(i==="click")return Qs(o)}function BC(i,o){if(i==="input"||i==="change")return Qs(o)}function jC(i,o){return i===o&&(i!==0||1/i===1/o)||i!==i&&o!==o}var fn=typeof Object.is=="function"?Object.is:jC;function ua(i,o){if(fn(i,o))return!0;if(typeof i!="object"||i===null||typeof o!="object"||o===null)return!1;var s=Object.keys(i),c=Object.keys(o);if(s.length!==c.length)return!1;for(c=0;c<s.length;c++){var p=s[c];if(!qe.call(o,p)||!fn(i[p],o[p]))return!1}return!0}function tp(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function np(i,o){var s=tp(i);i=0;for(var c;s;){if(s.nodeType===3){if(c=i+s.textContent.length,i<=o&&c>=o)return{node:s,offset:o-i};i=c}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=tp(s)}}function ip(i,o){return i&&o?i===o?!0:i&&i.nodeType===3?!1:o&&o.nodeType===3?ip(i,o.parentNode):"contains"in i?i.contains(o):i.compareDocumentPosition?!!(i.compareDocumentPosition(o)&16):!1:!1}function rp(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var o=Hs(i.document);o instanceof i.HTMLIFrameElement;){try{var s=typeof o.contentWindow.location.href=="string"}catch{s=!1}if(s)i=o.contentWindow;else break;o=Hs(i.document)}return o}function uc(i){var o=i&&i.nodeName&&i.nodeName.toLowerCase();return o&&(o==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||o==="textarea"||i.contentEditable==="true")}var OC=li&&"documentMode"in document&&11>=document.documentMode,to=null,cc=null,ca=null,fc=!1;function op(i,o,s){var c=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;fc||to==null||to!==Hs(c)||(c=to,"selectionStart"in c&&uc(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),ca&&ua(ca,c)||(ca=c,c=Pl(cc,"onSelect"),0<c.length&&(o=new Ks("onSelect","select",null,o,s),i.push({event:o,listeners:c}),o.target=to)))}function pr(i,o){var s={};return s[i.toLowerCase()]=o.toLowerCase(),s["Webkit"+i]="webkit"+o,s["Moz"+i]="moz"+o,s}var no={animationend:pr("Animation","AnimationEnd"),animationiteration:pr("Animation","AnimationIteration"),animationstart:pr("Animation","AnimationStart"),transitionrun:pr("Transition","TransitionRun"),transitionstart:pr("Transition","TransitionStart"),transitioncancel:pr("Transition","TransitionCancel"),transitionend:pr("Transition","TransitionEnd")},dc={},ap={};li&&(ap=document.createElement("div").style,"AnimationEvent"in window||(delete no.animationend.animation,delete no.animationiteration.animation,delete no.animationstart.animation),"TransitionEvent"in window||delete no.transitionend.transition);function gr(i){if(dc[i])return dc[i];if(!no[i])return i;var o=no[i],s;for(s in o)if(o.hasOwnProperty(s)&&s in ap)return dc[i]=o[s];return i}var sp=gr("animationend"),lp=gr("animationiteration"),up=gr("animationstart"),zC=gr("transitionrun"),FC=gr("transitionstart"),UC=gr("transitioncancel"),cp=gr("transitionend"),fp=new Map,hc="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");hc.push("scrollEnd");function jn(i,o){fp.set(i,o),Bn(o,[i])}var dp=new WeakMap;function wn(i,o){if(typeof i=="object"&&i!==null){var s=dp.get(i);return s!==void 0?s:(o={value:i,source:o,stack:km(o)},dp.set(i,o),o)}return{value:i,source:o,stack:km(o)}}var An=[],io=0,mc=0;function Js(){for(var i=io,o=mc=io=0;o<i;){var s=An[o];An[o++]=null;var c=An[o];An[o++]=null;var p=An[o];An[o++]=null;var b=An[o];if(An[o++]=null,c!==null&&p!==null){var w=c.pending;w===null?p.next=p:(p.next=w.next,w.next=p),c.pending=p}b!==0&&hp(s,p,b)}}function Zs(i,o,s,c){An[io++]=i,An[io++]=o,An[io++]=s,An[io++]=c,mc|=c,i.lanes|=c,i=i.alternate,i!==null&&(i.lanes|=c)}function pc(i,o,s,c){return Zs(i,o,s,c),Ws(i)}function ro(i,o){return Zs(i,null,null,o),Ws(i)}function hp(i,o,s){i.lanes|=s;var c=i.alternate;c!==null&&(c.lanes|=s);for(var p=!1,b=i.return;b!==null;)b.childLanes|=s,c=b.alternate,c!==null&&(c.childLanes|=s),b.tag===22&&(i=b.stateNode,i===null||i._visibility&1||(p=!0)),i=b,b=b.return;return i.tag===3?(b=i.stateNode,p&&o!==null&&(p=31-Ae(s),i=b.hiddenUpdates,c=i[p],c===null?i[p]=[o]:c.push(o),o.lane=s|536870912),b):null}function Ws(i){if(50<Pa)throw Pa=0,Sf=null,Error(r(185));for(var o=i.return;o!==null;)i=o,o=i.return;return i.tag===3?i.stateNode:null}var oo={};function HC(i,o,s,c){this.tag=i,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function dn(i,o,s,c){return new HC(i,o,s,c)}function gc(i){return i=i.prototype,!(!i||!i.isReactComponent)}function ui(i,o){var s=i.alternate;return s===null?(s=dn(i.tag,o,i.key,i.mode),s.elementType=i.elementType,s.type=i.type,s.stateNode=i.stateNode,s.alternate=i,i.alternate=s):(s.pendingProps=o,s.type=i.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=i.flags&65011712,s.childLanes=i.childLanes,s.lanes=i.lanes,s.child=i.child,s.memoizedProps=i.memoizedProps,s.memoizedState=i.memoizedState,s.updateQueue=i.updateQueue,o=i.dependencies,s.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},s.sibling=i.sibling,s.index=i.index,s.ref=i.ref,s.refCleanup=i.refCleanup,s}function mp(i,o){i.flags&=65011714;var s=i.alternate;return s===null?(i.childLanes=0,i.lanes=o,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=s.childLanes,i.lanes=s.lanes,i.child=s.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=s.memoizedProps,i.memoizedState=s.memoizedState,i.updateQueue=s.updateQueue,i.type=s.type,o=s.dependencies,i.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext}),i}function el(i,o,s,c,p,b){var w=0;if(c=i,typeof i=="function")gc(i)&&(w=1);else if(typeof i=="string")w=qw(i,s,J.current)?26:i==="html"||i==="head"||i==="body"?27:5;else e:switch(i){case pe:return i=dn(31,s,o,p),i.elementType=pe,i.lanes=b,i;case A:return yr(s.children,p,b,o);case M:w=8,p|=24;break;case R:return i=dn(12,s,o,p|2),i.elementType=R,i.lanes=b,i;case H:return i=dn(13,s,o,p),i.elementType=H,i.lanes=b,i;case U:return i=dn(19,s,o,p),i.elementType=U,i.lanes=b,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case I:case N:w=10;break e;case P:w=9;break e;case j:w=11;break e;case ie:w=14;break e;case le:w=16,c=null;break e}w=29,s=Error(r(130,i===null?"null":typeof i,"")),c=null}return o=dn(w,s,o,p),o.elementType=i,o.type=c,o.lanes=b,o}function yr(i,o,s,c){return i=dn(7,i,c,o),i.lanes=s,i}function yc(i,o,s){return i=dn(6,i,null,o),i.lanes=s,i}function xc(i,o,s){return o=dn(4,i.children!==null?i.children:[],i.key,o),o.lanes=s,o.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},o}var ao=[],so=0,tl=null,nl=0,En=[],Mn=0,xr=null,ci=1,fi="";function vr(i,o){ao[so++]=nl,ao[so++]=tl,tl=i,nl=o}function pp(i,o,s){En[Mn++]=ci,En[Mn++]=fi,En[Mn++]=xr,xr=i;var c=ci;i=fi;var p=32-Ae(c)-1;c&=~(1<<p),s+=1;var b=32-Ae(o)+p;if(30<b){var w=p-p%5;b=(c&(1<<w)-1).toString(32),c>>=w,p-=w,ci=1<<32-Ae(o)+p|s<<p|c,fi=b+i}else ci=1<<b|s<<p|c,fi=i}function vc(i){i.return!==null&&(vr(i,1),pp(i,1,0))}function bc(i){for(;i===tl;)tl=ao[--so],ao[so]=null,nl=ao[--so],ao[so]=null;for(;i===xr;)xr=En[--Mn],En[Mn]=null,fi=En[--Mn],En[Mn]=null,ci=En[--Mn],En[Mn]=null}var Xt=null,dt=null,Ke=!1,br=null,$n=!1,Tc=Error(r(519));function Tr(i){var o=Error(r(418,""));throw ha(wn(o,i)),Tc}function gp(i){var o=i.stateNode,s=i.type,c=i.memoizedProps;switch(o[It]=i,o[Ft]=c,s){case"dialog":Oe("cancel",o),Oe("close",o);break;case"iframe":case"object":case"embed":Oe("load",o);break;case"video":case"audio":for(s=0;s<Ba.length;s++)Oe(Ba[s],o);break;case"source":Oe("error",o);break;case"img":case"image":case"link":Oe("error",o),Oe("load",o);break;case"details":Oe("toggle",o);break;case"input":Oe("invalid",o),Dm(o,c.value,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name,!0),Us(o);break;case"select":Oe("invalid",o);break;case"textarea":Oe("invalid",o),_m(o,c.value,c.defaultValue,c.children),Us(o)}s=c.children,typeof s!="string"&&typeof s!="number"&&typeof s!="bigint"||o.textContent===""+s||c.suppressHydrationWarning===!0||_y(o.textContent,s)?(c.popover!=null&&(Oe("beforetoggle",o),Oe("toggle",o)),c.onScroll!=null&&Oe("scroll",o),c.onScrollEnd!=null&&Oe("scrollend",o),c.onClick!=null&&(o.onclick=Ll),o=!0):o=!1,o||Tr(i)}function yp(i){for(Xt=i.return;Xt;)switch(Xt.tag){case 5:case 13:$n=!1;return;case 27:case 3:$n=!0;return;default:Xt=Xt.return}}function fa(i){if(i!==Xt)return!1;if(!Ke)return yp(i),Ke=!0,!1;var o=i.tag,s;if((s=o!==3&&o!==27)&&((s=o===5)&&(s=i.type,s=!(s!=="form"&&s!=="button")||jf(i.type,i.memoizedProps)),s=!s),s&&dt&&Tr(i),yp(i),o===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(317));e:{for(i=i.nextSibling,o=0;i;){if(i.nodeType===8)if(s=i.data,s==="/$"){if(o===0){dt=zn(i.nextSibling);break e}o--}else s!=="$"&&s!=="$!"&&s!=="$?"||o++;i=i.nextSibling}dt=null}}else o===27?(o=dt,qi(i.type)?(i=Uf,Uf=null,dt=i):dt=o):dt=Xt?zn(i.stateNode.nextSibling):null;return!0}function da(){dt=Xt=null,Ke=!1}function xp(){var i=br;return i!==null&&(rn===null?rn=i:rn.push.apply(rn,i),br=null),i}function ha(i){br===null?br=[i]:br.push(i)}var Sc=B(null),Sr=null,di=null;function Ni(i,o,s){k(Sc,o._currentValue),o._currentValue=s}function hi(i){i._currentValue=Sc.current,q(Sc)}function Cc(i,o,s){for(;i!==null;){var c=i.alternate;if((i.childLanes&o)!==o?(i.childLanes|=o,c!==null&&(c.childLanes|=o)):c!==null&&(c.childLanes&o)!==o&&(c.childLanes|=o),i===s)break;i=i.return}}function wc(i,o,s,c){var p=i.child;for(p!==null&&(p.return=i);p!==null;){var b=p.dependencies;if(b!==null){var w=p.child;b=b.firstContext;e:for(;b!==null;){var E=b;b=p;for(var V=0;V<o.length;V++)if(E.context===o[V]){b.lanes|=s,E=b.alternate,E!==null&&(E.lanes|=s),Cc(b.return,s,i),c||(w=null);break e}b=E.next}}else if(p.tag===18){if(w=p.return,w===null)throw Error(r(341));w.lanes|=s,b=w.alternate,b!==null&&(b.lanes|=s),Cc(w,s,i),w=null}else w=p.child;if(w!==null)w.return=p;else for(w=p;w!==null;){if(w===i){w=null;break}if(p=w.sibling,p!==null){p.return=w.return,w=p;break}w=w.return}p=w}}function ma(i,o,s,c){i=null;for(var p=o,b=!1;p!==null;){if(!b){if((p.flags&524288)!==0)b=!0;else if((p.flags&262144)!==0)break}if(p.tag===10){var w=p.alternate;if(w===null)throw Error(r(387));if(w=w.memoizedProps,w!==null){var E=p.type;fn(p.pendingProps.value,w.value)||(i!==null?i.push(E):i=[E])}}else if(p===ye.current){if(w=p.alternate,w===null)throw Error(r(387));w.memoizedState.memoizedState!==p.memoizedState.memoizedState&&(i!==null?i.push(Ha):i=[Ha])}p=p.return}i!==null&&wc(o,i,s,c),o.flags|=262144}function il(i){for(i=i.firstContext;i!==null;){if(!fn(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function Cr(i){Sr=i,di=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function Ut(i){return vp(Sr,i)}function rl(i,o){return Sr===null&&Cr(i),vp(i,o)}function vp(i,o){var s=o._currentValue;if(o={context:o,memoizedValue:s,next:null},di===null){if(i===null)throw Error(r(308));di=o,i.dependencies={lanes:0,firstContext:o},i.flags|=524288}else di=di.next=o;return s}var GC=typeof AbortController<"u"?AbortController:function(){var i=[],o=this.signal={aborted:!1,addEventListener:function(s,c){i.push(c)}};this.abort=function(){o.aborted=!0,i.forEach(function(s){return s()})}},qC=e.unstable_scheduleCallback,$C=e.unstable_NormalPriority,Mt={$$typeof:N,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Ac(){return{controller:new GC,data:new Map,refCount:0}}function pa(i){i.refCount--,i.refCount===0&&qC($C,function(){i.controller.abort()})}var ga=null,Ec=0,lo=0,uo=null;function YC(i,o){if(ga===null){var s=ga=[];Ec=0,lo=If(),uo={status:"pending",value:void 0,then:function(c){s.push(c)}}}return Ec++,o.then(bp,bp),o}function bp(){if(--Ec===0&&ga!==null){uo!==null&&(uo.status="fulfilled");var i=ga;ga=null,lo=0,uo=null;for(var o=0;o<i.length;o++)(0,i[o])()}}function KC(i,o){var s=[],c={status:"pending",value:null,reason:null,then:function(p){s.push(p)}};return i.then(function(){c.status="fulfilled",c.value=o;for(var p=0;p<s.length;p++)(0,s[p])(o)},function(p){for(c.status="rejected",c.reason=p,p=0;p<s.length;p++)(0,s[p])(void 0)}),c}var Tp=$.S;$.S=function(i,o){typeof o=="object"&&o!==null&&typeof o.then=="function"&&YC(i,o),Tp!==null&&Tp(i,o)};var wr=B(null);function Mc(){var i=wr.current;return i!==null?i:rt.pooledCache}function ol(i,o){o===null?k(wr,wr.current):k(wr,o.pool)}function Sp(){var i=Mc();return i===null?null:{parent:Mt._currentValue,pool:i}}var ya=Error(r(460)),Cp=Error(r(474)),al=Error(r(542)),kc={then:function(){}};function wp(i){return i=i.status,i==="fulfilled"||i==="rejected"}function sl(){}function Ap(i,o,s){switch(s=i[s],s===void 0?i.push(o):s!==o&&(o.then(sl,sl),o=s),o.status){case"fulfilled":return o.value;case"rejected":throw i=o.reason,Mp(i),i;default:if(typeof o.status=="string")o.then(sl,sl);else{if(i=rt,i!==null&&100<i.shellSuspendCounter)throw Error(r(482));i=o,i.status="pending",i.then(function(c){if(o.status==="pending"){var p=o;p.status="fulfilled",p.value=c}},function(c){if(o.status==="pending"){var p=o;p.status="rejected",p.reason=c}})}switch(o.status){case"fulfilled":return o.value;case"rejected":throw i=o.reason,Mp(i),i}throw xa=o,ya}}var xa=null;function Ep(){if(xa===null)throw Error(r(459));var i=xa;return xa=null,i}function Mp(i){if(i===ya||i===al)throw Error(r(483))}var Di=!1;function Ic(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Nc(i,o){i=i.updateQueue,o.updateQueue===i&&(o.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function Ri(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function _i(i,o,s){var c=i.updateQueue;if(c===null)return null;if(c=c.shared,(Qe&2)!==0){var p=c.pending;return p===null?o.next=o:(o.next=p.next,p.next=o),c.pending=o,o=Ws(i),hp(i,null,s),o}return Zs(i,c,o,s),Ws(i)}function va(i,o,s){if(o=o.updateQueue,o!==null&&(o=o.shared,(s&4194048)!==0)){var c=o.lanes;c&=i.pendingLanes,s|=c,o.lanes=s,Ue(i,s)}}function Dc(i,o){var s=i.updateQueue,c=i.alternate;if(c!==null&&(c=c.updateQueue,s===c)){var p=null,b=null;if(s=s.firstBaseUpdate,s!==null){do{var w={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};b===null?p=b=w:b=b.next=w,s=s.next}while(s!==null);b===null?p=b=o:b=b.next=o}else p=b=o;s={baseState:c.baseState,firstBaseUpdate:p,lastBaseUpdate:b,shared:c.shared,callbacks:c.callbacks},i.updateQueue=s;return}i=s.lastBaseUpdate,i===null?s.firstBaseUpdate=o:i.next=o,s.lastBaseUpdate=o}var Rc=!1;function ba(){if(Rc){var i=uo;if(i!==null)throw i}}function Ta(i,o,s,c){Rc=!1;var p=i.updateQueue;Di=!1;var b=p.firstBaseUpdate,w=p.lastBaseUpdate,E=p.shared.pending;if(E!==null){p.shared.pending=null;var V=E,K=V.next;V.next=null,w===null?b=K:w.next=K,w=V;var ne=i.alternate;ne!==null&&(ne=ne.updateQueue,E=ne.lastBaseUpdate,E!==w&&(E===null?ne.firstBaseUpdate=K:E.next=K,ne.lastBaseUpdate=V))}if(b!==null){var se=p.baseState;w=0,ne=K=V=null,E=b;do{var X=E.lane&-536870913,Q=X!==E.lane;if(Q?(He&X)===X:(c&X)===X){X!==0&&X===lo&&(Rc=!0),ne!==null&&(ne=ne.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});e:{var ke=i,Ee=E;X=o;var tt=s;switch(Ee.tag){case 1:if(ke=Ee.payload,typeof ke=="function"){se=ke.call(tt,se,X);break e}se=ke;break e;case 3:ke.flags=ke.flags&-65537|128;case 0:if(ke=Ee.payload,X=typeof ke=="function"?ke.call(tt,se,X):ke,X==null)break e;se=m({},se,X);break e;case 2:Di=!0}}X=E.callback,X!==null&&(i.flags|=64,Q&&(i.flags|=8192),Q=p.callbacks,Q===null?p.callbacks=[X]:Q.push(X))}else Q={lane:X,tag:E.tag,payload:E.payload,callback:E.callback,next:null},ne===null?(K=ne=Q,V=se):ne=ne.next=Q,w|=X;if(E=E.next,E===null){if(E=p.shared.pending,E===null)break;Q=E,E=Q.next,Q.next=null,p.lastBaseUpdate=Q,p.shared.pending=null}}while(!0);ne===null&&(V=se),p.baseState=V,p.firstBaseUpdate=K,p.lastBaseUpdate=ne,b===null&&(p.shared.lanes=0),Fi|=w,i.lanes=w,i.memoizedState=se}}function kp(i,o){if(typeof i!="function")throw Error(r(191,i));i.call(o)}function Ip(i,o){var s=i.callbacks;if(s!==null)for(i.callbacks=null,i=0;i<s.length;i++)kp(s[i],o)}var co=B(null),ll=B(0);function Np(i,o){i=bi,k(ll,i),k(co,o),bi=i|o.baseLanes}function _c(){k(ll,bi),k(co,co.current)}function Vc(){bi=ll.current,q(co),q(ll)}var Vi=0,Pe=null,We=null,St=null,ul=!1,fo=!1,Ar=!1,cl=0,Sa=0,ho=null,XC=0;function yt(){throw Error(r(321))}function Pc(i,o){if(o===null)return!1;for(var s=0;s<o.length&&s<i.length;s++)if(!fn(i[s],o[s]))return!1;return!0}function Lc(i,o,s,c,p,b){return Vi=b,Pe=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,$.H=i===null||i.memoizedState===null?hg:mg,Ar=!1,b=s(c,p),Ar=!1,fo&&(b=Rp(o,s,c,p)),Dp(i),b}function Dp(i){$.H=gl;var o=We!==null&&We.next!==null;if(Vi=0,St=We=Pe=null,ul=!1,Sa=0,ho=null,o)throw Error(r(300));i===null||Nt||(i=i.dependencies,i!==null&&il(i)&&(Nt=!0))}function Rp(i,o,s,c){Pe=i;var p=0;do{if(fo&&(ho=null),Sa=0,fo=!1,25<=p)throw Error(r(301));if(p+=1,St=We=null,i.updateQueue!=null){var b=i.updateQueue;b.lastEffect=null,b.events=null,b.stores=null,b.memoCache!=null&&(b.memoCache.index=0)}$.H=nw,b=o(s,c)}while(fo);return b}function QC(){var i=$.H,o=i.useState()[0];return o=typeof o.then=="function"?Ca(o):o,i=i.useState()[0],(We!==null?We.memoizedState:null)!==i&&(Pe.flags|=1024),o}function Bc(){var i=cl!==0;return cl=0,i}function jc(i,o,s){o.updateQueue=i.updateQueue,o.flags&=-2053,i.lanes&=~s}function Oc(i){if(ul){for(i=i.memoizedState;i!==null;){var o=i.queue;o!==null&&(o.pending=null),i=i.next}ul=!1}Vi=0,St=We=Pe=null,fo=!1,Sa=cl=0,ho=null}function tn(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return St===null?Pe.memoizedState=St=i:St=St.next=i,St}function Ct(){if(We===null){var i=Pe.alternate;i=i!==null?i.memoizedState:null}else i=We.next;var o=St===null?Pe.memoizedState:St.next;if(o!==null)St=o,We=i;else{if(i===null)throw Pe.alternate===null?Error(r(467)):Error(r(310));We=i,i={memoizedState:We.memoizedState,baseState:We.baseState,baseQueue:We.baseQueue,queue:We.queue,next:null},St===null?Pe.memoizedState=St=i:St=St.next=i}return St}function zc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Ca(i){var o=Sa;return Sa+=1,ho===null&&(ho=[]),i=Ap(ho,i,o),o=Pe,(St===null?o.memoizedState:St.next)===null&&(o=o.alternate,$.H=o===null||o.memoizedState===null?hg:mg),i}function fl(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return Ca(i);if(i.$$typeof===N)return Ut(i)}throw Error(r(438,String(i)))}function Fc(i){var o=null,s=Pe.updateQueue;if(s!==null&&(o=s.memoCache),o==null){var c=Pe.alternate;c!==null&&(c=c.updateQueue,c!==null&&(c=c.memoCache,c!=null&&(o={data:c.data.map(function(p){return p.slice()}),index:0})))}if(o==null&&(o={data:[],index:0}),s===null&&(s=zc(),Pe.updateQueue=s),s.memoCache=o,s=o.data[o.index],s===void 0)for(s=o.data[o.index]=Array(i),c=0;c<i;c++)s[c]=F;return o.index++,s}function mi(i,o){return typeof o=="function"?o(i):o}function dl(i){var o=Ct();return Uc(o,We,i)}function Uc(i,o,s){var c=i.queue;if(c===null)throw Error(r(311));c.lastRenderedReducer=s;var p=i.baseQueue,b=c.pending;if(b!==null){if(p!==null){var w=p.next;p.next=b.next,b.next=w}o.baseQueue=p=b,c.pending=null}if(b=i.baseState,p===null)i.memoizedState=b;else{o=p.next;var E=w=null,V=null,K=o,ne=!1;do{var se=K.lane&-536870913;if(se!==K.lane?(He&se)===se:(Vi&se)===se){var X=K.revertLane;if(X===0)V!==null&&(V=V.next={lane:0,revertLane:0,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null}),se===lo&&(ne=!0);else if((Vi&X)===X){K=K.next,X===lo&&(ne=!0);continue}else se={lane:0,revertLane:K.revertLane,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null},V===null?(E=V=se,w=b):V=V.next=se,Pe.lanes|=X,Fi|=X;se=K.action,Ar&&s(b,se),b=K.hasEagerState?K.eagerState:s(b,se)}else X={lane:se,revertLane:K.revertLane,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null},V===null?(E=V=X,w=b):V=V.next=X,Pe.lanes|=se,Fi|=se;K=K.next}while(K!==null&&K!==o);if(V===null?w=b:V.next=E,!fn(b,i.memoizedState)&&(Nt=!0,ne&&(s=uo,s!==null)))throw s;i.memoizedState=b,i.baseState=w,i.baseQueue=V,c.lastRenderedState=b}return p===null&&(c.lanes=0),[i.memoizedState,c.dispatch]}function Hc(i){var o=Ct(),s=o.queue;if(s===null)throw Error(r(311));s.lastRenderedReducer=i;var c=s.dispatch,p=s.pending,b=o.memoizedState;if(p!==null){s.pending=null;var w=p=p.next;do b=i(b,w.action),w=w.next;while(w!==p);fn(b,o.memoizedState)||(Nt=!0),o.memoizedState=b,o.baseQueue===null&&(o.baseState=b),s.lastRenderedState=b}return[b,c]}function _p(i,o,s){var c=Pe,p=Ct(),b=Ke;if(b){if(s===void 0)throw Error(r(407));s=s()}else s=o();var w=!fn((We||p).memoizedState,s);w&&(p.memoizedState=s,Nt=!0),p=p.queue;var E=Lp.bind(null,c,p,i);if(wa(2048,8,E,[i]),p.getSnapshot!==o||w||St!==null&&St.memoizedState.tag&1){if(c.flags|=2048,mo(9,hl(),Pp.bind(null,c,p,s,o),null),rt===null)throw Error(r(349));b||(Vi&124)!==0||Vp(c,o,s)}return s}function Vp(i,o,s){i.flags|=16384,i={getSnapshot:o,value:s},o=Pe.updateQueue,o===null?(o=zc(),Pe.updateQueue=o,o.stores=[i]):(s=o.stores,s===null?o.stores=[i]:s.push(i))}function Pp(i,o,s,c){o.value=s,o.getSnapshot=c,Bp(o)&&jp(i)}function Lp(i,o,s){return s(function(){Bp(o)&&jp(i)})}function Bp(i){var o=i.getSnapshot;i=i.value;try{var s=o();return!fn(i,s)}catch{return!0}}function jp(i){var o=ro(i,2);o!==null&&yn(o,i,2)}function Gc(i){var o=tn();if(typeof i=="function"){var s=i;if(i=s(),Ar){Ce(!0);try{s()}finally{Ce(!1)}}}return o.memoizedState=o.baseState=i,o.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:mi,lastRenderedState:i},o}function Op(i,o,s,c){return i.baseState=s,Uc(i,We,typeof c=="function"?c:mi)}function JC(i,o,s,c,p){if(pl(i))throw Error(r(485));if(i=o.action,i!==null){var b={payload:p,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(w){b.listeners.push(w)}};$.T!==null?s(!0):b.isTransition=!1,c(b),s=o.pending,s===null?(b.next=o.pending=b,zp(o,b)):(b.next=s.next,o.pending=s.next=b)}}function zp(i,o){var s=o.action,c=o.payload,p=i.state;if(o.isTransition){var b=$.T,w={};$.T=w;try{var E=s(p,c),V=$.S;V!==null&&V(w,E),Fp(i,o,E)}catch(K){qc(i,o,K)}finally{$.T=b}}else try{b=s(p,c),Fp(i,o,b)}catch(K){qc(i,o,K)}}function Fp(i,o,s){s!==null&&typeof s=="object"&&typeof s.then=="function"?s.then(function(c){Up(i,o,c)},function(c){return qc(i,o,c)}):Up(i,o,s)}function Up(i,o,s){o.status="fulfilled",o.value=s,Hp(o),i.state=s,o=i.pending,o!==null&&(s=o.next,s===o?i.pending=null:(s=s.next,o.next=s,zp(i,s)))}function qc(i,o,s){var c=i.pending;if(i.pending=null,c!==null){c=c.next;do o.status="rejected",o.reason=s,Hp(o),o=o.next;while(o!==c)}i.action=null}function Hp(i){i=i.listeners;for(var o=0;o<i.length;o++)(0,i[o])()}function Gp(i,o){return o}function qp(i,o){if(Ke){var s=rt.formState;if(s!==null){e:{var c=Pe;if(Ke){if(dt){t:{for(var p=dt,b=$n;p.nodeType!==8;){if(!b){p=null;break t}if(p=zn(p.nextSibling),p===null){p=null;break t}}b=p.data,p=b==="F!"||b==="F"?p:null}if(p){dt=zn(p.nextSibling),c=p.data==="F!";break e}}Tr(c)}c=!1}c&&(o=s[0])}}return s=tn(),s.memoizedState=s.baseState=o,c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Gp,lastRenderedState:o},s.queue=c,s=cg.bind(null,Pe,c),c.dispatch=s,c=Gc(!1),b=Qc.bind(null,Pe,!1,c.queue),c=tn(),p={state:o,dispatch:null,action:i,pending:null},c.queue=p,s=JC.bind(null,Pe,p,b,s),p.dispatch=s,c.memoizedState=i,[o,s,!1]}function $p(i){var o=Ct();return Yp(o,We,i)}function Yp(i,o,s){if(o=Uc(i,o,Gp)[0],i=dl(mi)[0],typeof o=="object"&&o!==null&&typeof o.then=="function")try{var c=Ca(o)}catch(w){throw w===ya?al:w}else c=o;o=Ct();var p=o.queue,b=p.dispatch;return s!==o.memoizedState&&(Pe.flags|=2048,mo(9,hl(),ZC.bind(null,p,s),null)),[c,b,i]}function ZC(i,o){i.action=o}function Kp(i){var o=Ct(),s=We;if(s!==null)return Yp(o,s,i);Ct(),o=o.memoizedState,s=Ct();var c=s.queue.dispatch;return s.memoizedState=i,[o,c,!1]}function mo(i,o,s,c){return i={tag:i,create:s,deps:c,inst:o,next:null},o=Pe.updateQueue,o===null&&(o=zc(),Pe.updateQueue=o),s=o.lastEffect,s===null?o.lastEffect=i.next=i:(c=s.next,s.next=i,i.next=c,o.lastEffect=i),i}function hl(){return{destroy:void 0,resource:void 0}}function Xp(){return Ct().memoizedState}function ml(i,o,s,c){var p=tn();c=c===void 0?null:c,Pe.flags|=i,p.memoizedState=mo(1|o,hl(),s,c)}function wa(i,o,s,c){var p=Ct();c=c===void 0?null:c;var b=p.memoizedState.inst;We!==null&&c!==null&&Pc(c,We.memoizedState.deps)?p.memoizedState=mo(o,b,s,c):(Pe.flags|=i,p.memoizedState=mo(1|o,b,s,c))}function Qp(i,o){ml(8390656,8,i,o)}function Jp(i,o){wa(2048,8,i,o)}function Zp(i,o){return wa(4,2,i,o)}function Wp(i,o){return wa(4,4,i,o)}function eg(i,o){if(typeof o=="function"){i=i();var s=o(i);return function(){typeof s=="function"?s():o(null)}}if(o!=null)return i=i(),o.current=i,function(){o.current=null}}function tg(i,o,s){s=s!=null?s.concat([i]):null,wa(4,4,eg.bind(null,o,i),s)}function $c(){}function ng(i,o){var s=Ct();o=o===void 0?null:o;var c=s.memoizedState;return o!==null&&Pc(o,c[1])?c[0]:(s.memoizedState=[i,o],i)}function ig(i,o){var s=Ct();o=o===void 0?null:o;var c=s.memoizedState;if(o!==null&&Pc(o,c[1]))return c[0];if(c=i(),Ar){Ce(!0);try{i()}finally{Ce(!1)}}return s.memoizedState=[c,o],c}function Yc(i,o,s){return s===void 0||(Vi&1073741824)!==0?i.memoizedState=o:(i.memoizedState=s,i=ay(),Pe.lanes|=i,Fi|=i,s)}function rg(i,o,s,c){return fn(s,o)?s:co.current!==null?(i=Yc(i,s,c),fn(i,o)||(Nt=!0),i):(Vi&42)===0?(Nt=!0,i.memoizedState=s):(i=ay(),Pe.lanes|=i,Fi|=i,o)}function og(i,o,s,c,p){var b=L.p;L.p=b!==0&&8>b?b:8;var w=$.T,E={};$.T=E,Qc(i,!1,o,s);try{var V=p(),K=$.S;if(K!==null&&K(E,V),V!==null&&typeof V=="object"&&typeof V.then=="function"){var ne=KC(V,c);Aa(i,o,ne,gn(i))}else Aa(i,o,c,gn(i))}catch(se){Aa(i,o,{then:function(){},status:"rejected",reason:se},gn())}finally{L.p=b,$.T=w}}function WC(){}function Kc(i,o,s,c){if(i.tag!==5)throw Error(r(476));var p=ag(i).queue;og(i,p,o,D,s===null?WC:function(){return sg(i),s(c)})}function ag(i){var o=i.memoizedState;if(o!==null)return o;o={memoizedState:D,baseState:D,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:mi,lastRenderedState:D},next:null};var s={};return o.next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:mi,lastRenderedState:s},next:null},i.memoizedState=o,i=i.alternate,i!==null&&(i.memoizedState=o),o}function sg(i){var o=ag(i).next.queue;Aa(i,o,{},gn())}function Xc(){return Ut(Ha)}function lg(){return Ct().memoizedState}function ug(){return Ct().memoizedState}function ew(i){for(var o=i.return;o!==null;){switch(o.tag){case 24:case 3:var s=gn();i=Ri(s);var c=_i(o,i,s);c!==null&&(yn(c,o,s),va(c,o,s)),o={cache:Ac()},i.payload=o;return}o=o.return}}function tw(i,o,s){var c=gn();s={lane:c,revertLane:0,action:s,hasEagerState:!1,eagerState:null,next:null},pl(i)?fg(o,s):(s=pc(i,o,s,c),s!==null&&(yn(s,i,c),dg(s,o,c)))}function cg(i,o,s){var c=gn();Aa(i,o,s,c)}function Aa(i,o,s,c){var p={lane:c,revertLane:0,action:s,hasEagerState:!1,eagerState:null,next:null};if(pl(i))fg(o,p);else{var b=i.alternate;if(i.lanes===0&&(b===null||b.lanes===0)&&(b=o.lastRenderedReducer,b!==null))try{var w=o.lastRenderedState,E=b(w,s);if(p.hasEagerState=!0,p.eagerState=E,fn(E,w))return Zs(i,o,p,0),rt===null&&Js(),!1}catch{}finally{}if(s=pc(i,o,p,c),s!==null)return yn(s,i,c),dg(s,o,c),!0}return!1}function Qc(i,o,s,c){if(c={lane:2,revertLane:If(),action:c,hasEagerState:!1,eagerState:null,next:null},pl(i)){if(o)throw Error(r(479))}else o=pc(i,s,c,2),o!==null&&yn(o,i,2)}function pl(i){var o=i.alternate;return i===Pe||o!==null&&o===Pe}function fg(i,o){fo=ul=!0;var s=i.pending;s===null?o.next=o:(o.next=s.next,s.next=o),i.pending=o}function dg(i,o,s){if((s&4194048)!==0){var c=o.lanes;c&=i.pendingLanes,s|=c,o.lanes=s,Ue(i,s)}}var gl={readContext:Ut,use:fl,useCallback:yt,useContext:yt,useEffect:yt,useImperativeHandle:yt,useLayoutEffect:yt,useInsertionEffect:yt,useMemo:yt,useReducer:yt,useRef:yt,useState:yt,useDebugValue:yt,useDeferredValue:yt,useTransition:yt,useSyncExternalStore:yt,useId:yt,useHostTransitionStatus:yt,useFormState:yt,useActionState:yt,useOptimistic:yt,useMemoCache:yt,useCacheRefresh:yt},hg={readContext:Ut,use:fl,useCallback:function(i,o){return tn().memoizedState=[i,o===void 0?null:o],i},useContext:Ut,useEffect:Qp,useImperativeHandle:function(i,o,s){s=s!=null?s.concat([i]):null,ml(4194308,4,eg.bind(null,o,i),s)},useLayoutEffect:function(i,o){return ml(4194308,4,i,o)},useInsertionEffect:function(i,o){ml(4,2,i,o)},useMemo:function(i,o){var s=tn();o=o===void 0?null:o;var c=i();if(Ar){Ce(!0);try{i()}finally{Ce(!1)}}return s.memoizedState=[c,o],c},useReducer:function(i,o,s){var c=tn();if(s!==void 0){var p=s(o);if(Ar){Ce(!0);try{s(o)}finally{Ce(!1)}}}else p=o;return c.memoizedState=c.baseState=p,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:p},c.queue=i,i=i.dispatch=tw.bind(null,Pe,i),[c.memoizedState,i]},useRef:function(i){var o=tn();return i={current:i},o.memoizedState=i},useState:function(i){i=Gc(i);var o=i.queue,s=cg.bind(null,Pe,o);return o.dispatch=s,[i.memoizedState,s]},useDebugValue:$c,useDeferredValue:function(i,o){var s=tn();return Yc(s,i,o)},useTransition:function(){var i=Gc(!1);return i=og.bind(null,Pe,i.queue,!0,!1),tn().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,o,s){var c=Pe,p=tn();if(Ke){if(s===void 0)throw Error(r(407));s=s()}else{if(s=o(),rt===null)throw Error(r(349));(He&124)!==0||Vp(c,o,s)}p.memoizedState=s;var b={value:s,getSnapshot:o};return p.queue=b,Qp(Lp.bind(null,c,b,i),[i]),c.flags|=2048,mo(9,hl(),Pp.bind(null,c,b,s,o),null),s},useId:function(){var i=tn(),o=rt.identifierPrefix;if(Ke){var s=fi,c=ci;s=(c&~(1<<32-Ae(c)-1)).toString(32)+s,o=""+o+"R"+s,s=cl++,0<s&&(o+="H"+s.toString(32)),o+=""}else s=XC++,o=""+o+"r"+s.toString(32)+"";return i.memoizedState=o},useHostTransitionStatus:Xc,useFormState:qp,useActionState:qp,useOptimistic:function(i){var o=tn();o.memoizedState=o.baseState=i;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return o.queue=s,o=Qc.bind(null,Pe,!0,s),s.dispatch=o,[i,o]},useMemoCache:Fc,useCacheRefresh:function(){return tn().memoizedState=ew.bind(null,Pe)}},mg={readContext:Ut,use:fl,useCallback:ng,useContext:Ut,useEffect:Jp,useImperativeHandle:tg,useInsertionEffect:Zp,useLayoutEffect:Wp,useMemo:ig,useReducer:dl,useRef:Xp,useState:function(){return dl(mi)},useDebugValue:$c,useDeferredValue:function(i,o){var s=Ct();return rg(s,We.memoizedState,i,o)},useTransition:function(){var i=dl(mi)[0],o=Ct().memoizedState;return[typeof i=="boolean"?i:Ca(i),o]},useSyncExternalStore:_p,useId:lg,useHostTransitionStatus:Xc,useFormState:$p,useActionState:$p,useOptimistic:function(i,o){var s=Ct();return Op(s,We,i,o)},useMemoCache:Fc,useCacheRefresh:ug},nw={readContext:Ut,use:fl,useCallback:ng,useContext:Ut,useEffect:Jp,useImperativeHandle:tg,useInsertionEffect:Zp,useLayoutEffect:Wp,useMemo:ig,useReducer:Hc,useRef:Xp,useState:function(){return Hc(mi)},useDebugValue:$c,useDeferredValue:function(i,o){var s=Ct();return We===null?Yc(s,i,o):rg(s,We.memoizedState,i,o)},useTransition:function(){var i=Hc(mi)[0],o=Ct().memoizedState;return[typeof i=="boolean"?i:Ca(i),o]},useSyncExternalStore:_p,useId:lg,useHostTransitionStatus:Xc,useFormState:Kp,useActionState:Kp,useOptimistic:function(i,o){var s=Ct();return We!==null?Op(s,We,i,o):(s.baseState=i,[i,s.queue.dispatch])},useMemoCache:Fc,useCacheRefresh:ug},po=null,Ea=0;function yl(i){var o=Ea;return Ea+=1,po===null&&(po=[]),Ap(po,i,o)}function Ma(i,o){o=o.props.ref,i.ref=o!==void 0?o:null}function xl(i,o){throw o.$$typeof===y?Error(r(525)):(i=Object.prototype.toString.call(o),Error(r(31,i==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":i)))}function pg(i){var o=i._init;return o(i._payload)}function gg(i){function o(G,z){if(i){var Y=G.deletions;Y===null?(G.deletions=[z],G.flags|=16):Y.push(z)}}function s(G,z){if(!i)return null;for(;z!==null;)o(G,z),z=z.sibling;return null}function c(G){for(var z=new Map;G!==null;)G.key!==null?z.set(G.key,G):z.set(G.index,G),G=G.sibling;return z}function p(G,z){return G=ui(G,z),G.index=0,G.sibling=null,G}function b(G,z,Y){return G.index=Y,i?(Y=G.alternate,Y!==null?(Y=Y.index,Y<z?(G.flags|=67108866,z):Y):(G.flags|=67108866,z)):(G.flags|=1048576,z)}function w(G){return i&&G.alternate===null&&(G.flags|=67108866),G}function E(G,z,Y,oe){return z===null||z.tag!==6?(z=yc(Y,G.mode,oe),z.return=G,z):(z=p(z,Y),z.return=G,z)}function V(G,z,Y,oe){var ve=Y.type;return ve===A?ne(G,z,Y.props.children,oe,Y.key):z!==null&&(z.elementType===ve||typeof ve=="object"&&ve!==null&&ve.$$typeof===le&&pg(ve)===z.type)?(z=p(z,Y.props),Ma(z,Y),z.return=G,z):(z=el(Y.type,Y.key,Y.props,null,G.mode,oe),Ma(z,Y),z.return=G,z)}function K(G,z,Y,oe){return z===null||z.tag!==4||z.stateNode.containerInfo!==Y.containerInfo||z.stateNode.implementation!==Y.implementation?(z=xc(Y,G.mode,oe),z.return=G,z):(z=p(z,Y.children||[]),z.return=G,z)}function ne(G,z,Y,oe,ve){return z===null||z.tag!==7?(z=yr(Y,G.mode,oe,ve),z.return=G,z):(z=p(z,Y),z.return=G,z)}function se(G,z,Y){if(typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint")return z=yc(""+z,G.mode,Y),z.return=G,z;if(typeof z=="object"&&z!==null){switch(z.$$typeof){case T:return Y=el(z.type,z.key,z.props,null,G.mode,Y),Ma(Y,z),Y.return=G,Y;case S:return z=xc(z,G.mode,Y),z.return=G,z;case le:var oe=z._init;return z=oe(z._payload),se(G,z,Y)}if(me(z)||fe(z))return z=yr(z,G.mode,Y,null),z.return=G,z;if(typeof z.then=="function")return se(G,yl(z),Y);if(z.$$typeof===N)return se(G,rl(G,z),Y);xl(G,z)}return null}function X(G,z,Y,oe){var ve=z!==null?z.key:null;if(typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint")return ve!==null?null:E(G,z,""+Y,oe);if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case T:return Y.key===ve?V(G,z,Y,oe):null;case S:return Y.key===ve?K(G,z,Y,oe):null;case le:return ve=Y._init,Y=ve(Y._payload),X(G,z,Y,oe)}if(me(Y)||fe(Y))return ve!==null?null:ne(G,z,Y,oe,null);if(typeof Y.then=="function")return X(G,z,yl(Y),oe);if(Y.$$typeof===N)return X(G,z,rl(G,Y),oe);xl(G,Y)}return null}function Q(G,z,Y,oe,ve){if(typeof oe=="string"&&oe!==""||typeof oe=="number"||typeof oe=="bigint")return G=G.get(Y)||null,E(z,G,""+oe,ve);if(typeof oe=="object"&&oe!==null){switch(oe.$$typeof){case T:return G=G.get(oe.key===null?Y:oe.key)||null,V(z,G,oe,ve);case S:return G=G.get(oe.key===null?Y:oe.key)||null,K(z,G,oe,ve);case le:var Be=oe._init;return oe=Be(oe._payload),Q(G,z,Y,oe,ve)}if(me(oe)||fe(oe))return G=G.get(Y)||null,ne(z,G,oe,ve,null);if(typeof oe.then=="function")return Q(G,z,Y,yl(oe),ve);if(oe.$$typeof===N)return Q(G,z,Y,rl(z,oe),ve);xl(z,oe)}return null}function ke(G,z,Y,oe){for(var ve=null,Be=null,Te=z,Me=z=0,Rt=null;Te!==null&&Me<Y.length;Me++){Te.index>Me?(Rt=Te,Te=null):Rt=Te.sibling;var $e=X(G,Te,Y[Me],oe);if($e===null){Te===null&&(Te=Rt);break}i&&Te&&$e.alternate===null&&o(G,Te),z=b($e,z,Me),Be===null?ve=$e:Be.sibling=$e,Be=$e,Te=Rt}if(Me===Y.length)return s(G,Te),Ke&&vr(G,Me),ve;if(Te===null){for(;Me<Y.length;Me++)Te=se(G,Y[Me],oe),Te!==null&&(z=b(Te,z,Me),Be===null?ve=Te:Be.sibling=Te,Be=Te);return Ke&&vr(G,Me),ve}for(Te=c(Te);Me<Y.length;Me++)Rt=Q(Te,G,Me,Y[Me],oe),Rt!==null&&(i&&Rt.alternate!==null&&Te.delete(Rt.key===null?Me:Rt.key),z=b(Rt,z,Me),Be===null?ve=Rt:Be.sibling=Rt,Be=Rt);return i&&Te.forEach(function(Qi){return o(G,Qi)}),Ke&&vr(G,Me),ve}function Ee(G,z,Y,oe){if(Y==null)throw Error(r(151));for(var ve=null,Be=null,Te=z,Me=z=0,Rt=null,$e=Y.next();Te!==null&&!$e.done;Me++,$e=Y.next()){Te.index>Me?(Rt=Te,Te=null):Rt=Te.sibling;var Qi=X(G,Te,$e.value,oe);if(Qi===null){Te===null&&(Te=Rt);break}i&&Te&&Qi.alternate===null&&o(G,Te),z=b(Qi,z,Me),Be===null?ve=Qi:Be.sibling=Qi,Be=Qi,Te=Rt}if($e.done)return s(G,Te),Ke&&vr(G,Me),ve;if(Te===null){for(;!$e.done;Me++,$e=Y.next())$e=se(G,$e.value,oe),$e!==null&&(z=b($e,z,Me),Be===null?ve=$e:Be.sibling=$e,Be=$e);return Ke&&vr(G,Me),ve}for(Te=c(Te);!$e.done;Me++,$e=Y.next())$e=Q(Te,G,Me,$e.value,oe),$e!==null&&(i&&$e.alternate!==null&&Te.delete($e.key===null?Me:$e.key),z=b($e,z,Me),Be===null?ve=$e:Be.sibling=$e,Be=$e);return i&&Te.forEach(function(iA){return o(G,iA)}),Ke&&vr(G,Me),ve}function tt(G,z,Y,oe){if(typeof Y=="object"&&Y!==null&&Y.type===A&&Y.key===null&&(Y=Y.props.children),typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case T:e:{for(var ve=Y.key;z!==null;){if(z.key===ve){if(ve=Y.type,ve===A){if(z.tag===7){s(G,z.sibling),oe=p(z,Y.props.children),oe.return=G,G=oe;break e}}else if(z.elementType===ve||typeof ve=="object"&&ve!==null&&ve.$$typeof===le&&pg(ve)===z.type){s(G,z.sibling),oe=p(z,Y.props),Ma(oe,Y),oe.return=G,G=oe;break e}s(G,z);break}else o(G,z);z=z.sibling}Y.type===A?(oe=yr(Y.props.children,G.mode,oe,Y.key),oe.return=G,G=oe):(oe=el(Y.type,Y.key,Y.props,null,G.mode,oe),Ma(oe,Y),oe.return=G,G=oe)}return w(G);case S:e:{for(ve=Y.key;z!==null;){if(z.key===ve)if(z.tag===4&&z.stateNode.containerInfo===Y.containerInfo&&z.stateNode.implementation===Y.implementation){s(G,z.sibling),oe=p(z,Y.children||[]),oe.return=G,G=oe;break e}else{s(G,z);break}else o(G,z);z=z.sibling}oe=xc(Y,G.mode,oe),oe.return=G,G=oe}return w(G);case le:return ve=Y._init,Y=ve(Y._payload),tt(G,z,Y,oe)}if(me(Y))return ke(G,z,Y,oe);if(fe(Y)){if(ve=fe(Y),typeof ve!="function")throw Error(r(150));return Y=ve.call(Y),Ee(G,z,Y,oe)}if(typeof Y.then=="function")return tt(G,z,yl(Y),oe);if(Y.$$typeof===N)return tt(G,z,rl(G,Y),oe);xl(G,Y)}return typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint"?(Y=""+Y,z!==null&&z.tag===6?(s(G,z.sibling),oe=p(z,Y),oe.return=G,G=oe):(s(G,z),oe=yc(Y,G.mode,oe),oe.return=G,G=oe),w(G)):s(G,z)}return function(G,z,Y,oe){try{Ea=0;var ve=tt(G,z,Y,oe);return po=null,ve}catch(Te){if(Te===ya||Te===al)throw Te;var Be=dn(29,Te,null,G.mode);return Be.lanes=oe,Be.return=G,Be}finally{}}}var go=gg(!0),yg=gg(!1),kn=B(null),Yn=null;function Pi(i){var o=i.alternate;k(kt,kt.current&1),k(kn,i),Yn===null&&(o===null||co.current!==null||o.memoizedState!==null)&&(Yn=i)}function xg(i){if(i.tag===22){if(k(kt,kt.current),k(kn,i),Yn===null){var o=i.alternate;o!==null&&o.memoizedState!==null&&(Yn=i)}}else Li()}function Li(){k(kt,kt.current),k(kn,kn.current)}function pi(i){q(kn),Yn===i&&(Yn=null),q(kt)}var kt=B(0);function vl(i){for(var o=i;o!==null;){if(o.tag===13){var s=o.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||s.data==="$?"||Ff(s)))return o}else if(o.tag===19&&o.memoizedProps.revealOrder!==void 0){if((o.flags&128)!==0)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===i)break;for(;o.sibling===null;){if(o.return===null||o.return===i)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}function Jc(i,o,s,c){o=i.memoizedState,s=s(c,o),s=s==null?o:m({},o,s),i.memoizedState=s,i.lanes===0&&(i.updateQueue.baseState=s)}var Zc={enqueueSetState:function(i,o,s){i=i._reactInternals;var c=gn(),p=Ri(c);p.payload=o,s!=null&&(p.callback=s),o=_i(i,p,c),o!==null&&(yn(o,i,c),va(o,i,c))},enqueueReplaceState:function(i,o,s){i=i._reactInternals;var c=gn(),p=Ri(c);p.tag=1,p.payload=o,s!=null&&(p.callback=s),o=_i(i,p,c),o!==null&&(yn(o,i,c),va(o,i,c))},enqueueForceUpdate:function(i,o){i=i._reactInternals;var s=gn(),c=Ri(s);c.tag=2,o!=null&&(c.callback=o),o=_i(i,c,s),o!==null&&(yn(o,i,s),va(o,i,s))}};function vg(i,o,s,c,p,b,w){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(c,b,w):o.prototype&&o.prototype.isPureReactComponent?!ua(s,c)||!ua(p,b):!0}function bg(i,o,s,c){i=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(s,c),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(s,c),o.state!==i&&Zc.enqueueReplaceState(o,o.state,null)}function Er(i,o){var s=o;if("ref"in o){s={};for(var c in o)c!=="ref"&&(s[c]=o[c])}if(i=i.defaultProps){s===o&&(s=m({},s));for(var p in i)s[p]===void 0&&(s[p]=i[p])}return s}var bl=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var o=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(o))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)};function Tg(i){bl(i)}function Sg(i){console.error(i)}function Cg(i){bl(i)}function Tl(i,o){try{var s=i.onUncaughtError;s(o.value,{componentStack:o.stack})}catch(c){setTimeout(function(){throw c})}}function wg(i,o,s){try{var c=i.onCaughtError;c(s.value,{componentStack:s.stack,errorBoundary:o.tag===1?o.stateNode:null})}catch(p){setTimeout(function(){throw p})}}function Wc(i,o,s){return s=Ri(s),s.tag=3,s.payload={element:null},s.callback=function(){Tl(i,o)},s}function Ag(i){return i=Ri(i),i.tag=3,i}function Eg(i,o,s,c){var p=s.type.getDerivedStateFromError;if(typeof p=="function"){var b=c.value;i.payload=function(){return p(b)},i.callback=function(){wg(o,s,c)}}var w=s.stateNode;w!==null&&typeof w.componentDidCatch=="function"&&(i.callback=function(){wg(o,s,c),typeof p!="function"&&(Ui===null?Ui=new Set([this]):Ui.add(this));var E=c.stack;this.componentDidCatch(c.value,{componentStack:E!==null?E:""})})}function iw(i,o,s,c,p){if(s.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){if(o=s.alternate,o!==null&&ma(o,s,p,!0),s=kn.current,s!==null){switch(s.tag){case 13:return Yn===null?wf():s.alternate===null&&ht===0&&(ht=3),s.flags&=-257,s.flags|=65536,s.lanes=p,c===kc?s.flags|=16384:(o=s.updateQueue,o===null?s.updateQueue=new Set([c]):o.add(c),Ef(i,c,p)),!1;case 22:return s.flags|=65536,c===kc?s.flags|=16384:(o=s.updateQueue,o===null?(o={transitions:null,markerInstances:null,retryQueue:new Set([c])},s.updateQueue=o):(s=o.retryQueue,s===null?o.retryQueue=new Set([c]):s.add(c)),Ef(i,c,p)),!1}throw Error(r(435,s.tag))}return Ef(i,c,p),wf(),!1}if(Ke)return o=kn.current,o!==null?((o.flags&65536)===0&&(o.flags|=256),o.flags|=65536,o.lanes=p,c!==Tc&&(i=Error(r(422),{cause:c}),ha(wn(i,s)))):(c!==Tc&&(o=Error(r(423),{cause:c}),ha(wn(o,s))),i=i.current.alternate,i.flags|=65536,p&=-p,i.lanes|=p,c=wn(c,s),p=Wc(i.stateNode,c,p),Dc(i,p),ht!==4&&(ht=2)),!1;var b=Error(r(520),{cause:c});if(b=wn(b,s),Va===null?Va=[b]:Va.push(b),ht!==4&&(ht=2),o===null)return!0;c=wn(c,s),s=o;do{switch(s.tag){case 3:return s.flags|=65536,i=p&-p,s.lanes|=i,i=Wc(s.stateNode,c,i),Dc(s,i),!1;case 1:if(o=s.type,b=s.stateNode,(s.flags&128)===0&&(typeof o.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(Ui===null||!Ui.has(b))))return s.flags|=65536,p&=-p,s.lanes|=p,p=Ag(p),Eg(p,i,s,c),Dc(s,p),!1}s=s.return}while(s!==null);return!1}var Mg=Error(r(461)),Nt=!1;function Vt(i,o,s,c){o.child=i===null?yg(o,null,s,c):go(o,i.child,s,c)}function kg(i,o,s,c,p){s=s.render;var b=o.ref;if("ref"in c){var w={};for(var E in c)E!=="ref"&&(w[E]=c[E])}else w=c;return Cr(o),c=Lc(i,o,s,w,b,p),E=Bc(),i!==null&&!Nt?(jc(i,o,p),gi(i,o,p)):(Ke&&E&&vc(o),o.flags|=1,Vt(i,o,c,p),o.child)}function Ig(i,o,s,c,p){if(i===null){var b=s.type;return typeof b=="function"&&!gc(b)&&b.defaultProps===void 0&&s.compare===null?(o.tag=15,o.type=b,Ng(i,o,b,c,p)):(i=el(s.type,null,c,o,o.mode,p),i.ref=o.ref,i.return=o,o.child=i)}if(b=i.child,!lf(i,p)){var w=b.memoizedProps;if(s=s.compare,s=s!==null?s:ua,s(w,c)&&i.ref===o.ref)return gi(i,o,p)}return o.flags|=1,i=ui(b,c),i.ref=o.ref,i.return=o,o.child=i}function Ng(i,o,s,c,p){if(i!==null){var b=i.memoizedProps;if(ua(b,c)&&i.ref===o.ref)if(Nt=!1,o.pendingProps=c=b,lf(i,p))(i.flags&131072)!==0&&(Nt=!0);else return o.lanes=i.lanes,gi(i,o,p)}return ef(i,o,s,c,p)}function Dg(i,o,s){var c=o.pendingProps,p=c.children,b=i!==null?i.memoizedState:null;if(c.mode==="hidden"){if((o.flags&128)!==0){if(c=b!==null?b.baseLanes|s:s,i!==null){for(p=o.child=i.child,b=0;p!==null;)b=b|p.lanes|p.childLanes,p=p.sibling;o.childLanes=b&~c}else o.childLanes=0,o.child=null;return Rg(i,o,c,s)}if((s&536870912)!==0)o.memoizedState={baseLanes:0,cachePool:null},i!==null&&ol(o,b!==null?b.cachePool:null),b!==null?Np(o,b):_c(),xg(o);else return o.lanes=o.childLanes=536870912,Rg(i,o,b!==null?b.baseLanes|s:s,s)}else b!==null?(ol(o,b.cachePool),Np(o,b),Li(),o.memoizedState=null):(i!==null&&ol(o,null),_c(),Li());return Vt(i,o,p,s),o.child}function Rg(i,o,s,c){var p=Mc();return p=p===null?null:{parent:Mt._currentValue,pool:p},o.memoizedState={baseLanes:s,cachePool:p},i!==null&&ol(o,null),_c(),xg(o),i!==null&&ma(i,o,c,!0),null}function Sl(i,o){var s=o.ref;if(s===null)i!==null&&i.ref!==null&&(o.flags|=4194816);else{if(typeof s!="function"&&typeof s!="object")throw Error(r(284));(i===null||i.ref!==s)&&(o.flags|=4194816)}}function ef(i,o,s,c,p){return Cr(o),s=Lc(i,o,s,c,void 0,p),c=Bc(),i!==null&&!Nt?(jc(i,o,p),gi(i,o,p)):(Ke&&c&&vc(o),o.flags|=1,Vt(i,o,s,p),o.child)}function _g(i,o,s,c,p,b){return Cr(o),o.updateQueue=null,s=Rp(o,c,s,p),Dp(i),c=Bc(),i!==null&&!Nt?(jc(i,o,b),gi(i,o,b)):(Ke&&c&&vc(o),o.flags|=1,Vt(i,o,s,b),o.child)}function Vg(i,o,s,c,p){if(Cr(o),o.stateNode===null){var b=oo,w=s.contextType;typeof w=="object"&&w!==null&&(b=Ut(w)),b=new s(c,b),o.memoizedState=b.state!==null&&b.state!==void 0?b.state:null,b.updater=Zc,o.stateNode=b,b._reactInternals=o,b=o.stateNode,b.props=c,b.state=o.memoizedState,b.refs={},Ic(o),w=s.contextType,b.context=typeof w=="object"&&w!==null?Ut(w):oo,b.state=o.memoizedState,w=s.getDerivedStateFromProps,typeof w=="function"&&(Jc(o,s,w,c),b.state=o.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof b.getSnapshotBeforeUpdate=="function"||typeof b.UNSAFE_componentWillMount!="function"&&typeof b.componentWillMount!="function"||(w=b.state,typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount(),w!==b.state&&Zc.enqueueReplaceState(b,b.state,null),Ta(o,c,b,p),ba(),b.state=o.memoizedState),typeof b.componentDidMount=="function"&&(o.flags|=4194308),c=!0}else if(i===null){b=o.stateNode;var E=o.memoizedProps,V=Er(s,E);b.props=V;var K=b.context,ne=s.contextType;w=oo,typeof ne=="object"&&ne!==null&&(w=Ut(ne));var se=s.getDerivedStateFromProps;ne=typeof se=="function"||typeof b.getSnapshotBeforeUpdate=="function",E=o.pendingProps!==E,ne||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||(E||K!==w)&&bg(o,b,c,w),Di=!1;var X=o.memoizedState;b.state=X,Ta(o,c,b,p),ba(),K=o.memoizedState,E||X!==K||Di?(typeof se=="function"&&(Jc(o,s,se,c),K=o.memoizedState),(V=Di||vg(o,s,V,c,X,K,w))?(ne||typeof b.UNSAFE_componentWillMount!="function"&&typeof b.componentWillMount!="function"||(typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount()),typeof b.componentDidMount=="function"&&(o.flags|=4194308)):(typeof b.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=c,o.memoizedState=K),b.props=c,b.state=K,b.context=w,c=V):(typeof b.componentDidMount=="function"&&(o.flags|=4194308),c=!1)}else{b=o.stateNode,Nc(i,o),w=o.memoizedProps,ne=Er(s,w),b.props=ne,se=o.pendingProps,X=b.context,K=s.contextType,V=oo,typeof K=="object"&&K!==null&&(V=Ut(K)),E=s.getDerivedStateFromProps,(K=typeof E=="function"||typeof b.getSnapshotBeforeUpdate=="function")||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||(w!==se||X!==V)&&bg(o,b,c,V),Di=!1,X=o.memoizedState,b.state=X,Ta(o,c,b,p),ba();var Q=o.memoizedState;w!==se||X!==Q||Di||i!==null&&i.dependencies!==null&&il(i.dependencies)?(typeof E=="function"&&(Jc(o,s,E,c),Q=o.memoizedState),(ne=Di||vg(o,s,ne,c,X,Q,V)||i!==null&&i.dependencies!==null&&il(i.dependencies))?(K||typeof b.UNSAFE_componentWillUpdate!="function"&&typeof b.componentWillUpdate!="function"||(typeof b.componentWillUpdate=="function"&&b.componentWillUpdate(c,Q,V),typeof b.UNSAFE_componentWillUpdate=="function"&&b.UNSAFE_componentWillUpdate(c,Q,V)),typeof b.componentDidUpdate=="function"&&(o.flags|=4),typeof b.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof b.componentDidUpdate!="function"||w===i.memoizedProps&&X===i.memoizedState||(o.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||w===i.memoizedProps&&X===i.memoizedState||(o.flags|=1024),o.memoizedProps=c,o.memoizedState=Q),b.props=c,b.state=Q,b.context=V,c=ne):(typeof b.componentDidUpdate!="function"||w===i.memoizedProps&&X===i.memoizedState||(o.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||w===i.memoizedProps&&X===i.memoizedState||(o.flags|=1024),c=!1)}return b=c,Sl(i,o),c=(o.flags&128)!==0,b||c?(b=o.stateNode,s=c&&typeof s.getDerivedStateFromError!="function"?null:b.render(),o.flags|=1,i!==null&&c?(o.child=go(o,i.child,null,p),o.child=go(o,null,s,p)):Vt(i,o,s,p),o.memoizedState=b.state,i=o.child):i=gi(i,o,p),i}function Pg(i,o,s,c){return da(),o.flags|=256,Vt(i,o,s,c),o.child}var tf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function nf(i){return{baseLanes:i,cachePool:Sp()}}function rf(i,o,s){return i=i!==null?i.childLanes&~s:0,o&&(i|=In),i}function Lg(i,o,s){var c=o.pendingProps,p=!1,b=(o.flags&128)!==0,w;if((w=b)||(w=i!==null&&i.memoizedState===null?!1:(kt.current&2)!==0),w&&(p=!0,o.flags&=-129),w=(o.flags&32)!==0,o.flags&=-33,i===null){if(Ke){if(p?Pi(o):Li(),Ke){var E=dt,V;if(V=E){e:{for(V=E,E=$n;V.nodeType!==8;){if(!E){E=null;break e}if(V=zn(V.nextSibling),V===null){E=null;break e}}E=V}E!==null?(o.memoizedState={dehydrated:E,treeContext:xr!==null?{id:ci,overflow:fi}:null,retryLane:536870912,hydrationErrors:null},V=dn(18,null,null,0),V.stateNode=E,V.return=o,o.child=V,Xt=o,dt=null,V=!0):V=!1}V||Tr(o)}if(E=o.memoizedState,E!==null&&(E=E.dehydrated,E!==null))return Ff(E)?o.lanes=32:o.lanes=536870912,null;pi(o)}return E=c.children,c=c.fallback,p?(Li(),p=o.mode,E=Cl({mode:"hidden",children:E},p),c=yr(c,p,s,null),E.return=o,c.return=o,E.sibling=c,o.child=E,p=o.child,p.memoizedState=nf(s),p.childLanes=rf(i,w,s),o.memoizedState=tf,c):(Pi(o),of(o,E))}if(V=i.memoizedState,V!==null&&(E=V.dehydrated,E!==null)){if(b)o.flags&256?(Pi(o),o.flags&=-257,o=af(i,o,s)):o.memoizedState!==null?(Li(),o.child=i.child,o.flags|=128,o=null):(Li(),p=c.fallback,E=o.mode,c=Cl({mode:"visible",children:c.children},E),p=yr(p,E,s,null),p.flags|=2,c.return=o,p.return=o,c.sibling=p,o.child=c,go(o,i.child,null,s),c=o.child,c.memoizedState=nf(s),c.childLanes=rf(i,w,s),o.memoizedState=tf,o=p);else if(Pi(o),Ff(E)){if(w=E.nextSibling&&E.nextSibling.dataset,w)var K=w.dgst;w=K,c=Error(r(419)),c.stack="",c.digest=w,ha({value:c,source:null,stack:null}),o=af(i,o,s)}else if(Nt||ma(i,o,s,!1),w=(s&i.childLanes)!==0,Nt||w){if(w=rt,w!==null&&(c=s&-s,c=(c&42)!==0?1:zt(c),c=(c&(w.suspendedLanes|s))!==0?0:c,c!==0&&c!==V.retryLane))throw V.retryLane=c,ro(i,c),yn(w,i,c),Mg;E.data==="$?"||wf(),o=af(i,o,s)}else E.data==="$?"?(o.flags|=192,o.child=i.child,o=null):(i=V.treeContext,dt=zn(E.nextSibling),Xt=o,Ke=!0,br=null,$n=!1,i!==null&&(En[Mn++]=ci,En[Mn++]=fi,En[Mn++]=xr,ci=i.id,fi=i.overflow,xr=o),o=of(o,c.children),o.flags|=4096);return o}return p?(Li(),p=c.fallback,E=o.mode,V=i.child,K=V.sibling,c=ui(V,{mode:"hidden",children:c.children}),c.subtreeFlags=V.subtreeFlags&65011712,K!==null?p=ui(K,p):(p=yr(p,E,s,null),p.flags|=2),p.return=o,c.return=o,c.sibling=p,o.child=c,c=p,p=o.child,E=i.child.memoizedState,E===null?E=nf(s):(V=E.cachePool,V!==null?(K=Mt._currentValue,V=V.parent!==K?{parent:K,pool:K}:V):V=Sp(),E={baseLanes:E.baseLanes|s,cachePool:V}),p.memoizedState=E,p.childLanes=rf(i,w,s),o.memoizedState=tf,c):(Pi(o),s=i.child,i=s.sibling,s=ui(s,{mode:"visible",children:c.children}),s.return=o,s.sibling=null,i!==null&&(w=o.deletions,w===null?(o.deletions=[i],o.flags|=16):w.push(i)),o.child=s,o.memoizedState=null,s)}function of(i,o){return o=Cl({mode:"visible",children:o},i.mode),o.return=i,i.child=o}function Cl(i,o){return i=dn(22,i,null,o),i.lanes=0,i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},i}function af(i,o,s){return go(o,i.child,null,s),i=of(o,o.pendingProps.children),i.flags|=2,o.memoizedState=null,i}function Bg(i,o,s){i.lanes|=o;var c=i.alternate;c!==null&&(c.lanes|=o),Cc(i.return,o,s)}function sf(i,o,s,c,p){var b=i.memoizedState;b===null?i.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:c,tail:s,tailMode:p}:(b.isBackwards=o,b.rendering=null,b.renderingStartTime=0,b.last=c,b.tail=s,b.tailMode=p)}function jg(i,o,s){var c=o.pendingProps,p=c.revealOrder,b=c.tail;if(Vt(i,o,c.children,s),c=kt.current,(c&2)!==0)c=c&1|2,o.flags|=128;else{if(i!==null&&(i.flags&128)!==0)e:for(i=o.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&Bg(i,s,o);else if(i.tag===19)Bg(i,s,o);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===o)break e;for(;i.sibling===null;){if(i.return===null||i.return===o)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}c&=1}switch(k(kt,c),p){case"forwards":for(s=o.child,p=null;s!==null;)i=s.alternate,i!==null&&vl(i)===null&&(p=s),s=s.sibling;s=p,s===null?(p=o.child,o.child=null):(p=s.sibling,s.sibling=null),sf(o,!1,p,s,b);break;case"backwards":for(s=null,p=o.child,o.child=null;p!==null;){if(i=p.alternate,i!==null&&vl(i)===null){o.child=p;break}i=p.sibling,p.sibling=s,s=p,p=i}sf(o,!0,s,null,b);break;case"together":sf(o,!1,null,null,void 0);break;default:o.memoizedState=null}return o.child}function gi(i,o,s){if(i!==null&&(o.dependencies=i.dependencies),Fi|=o.lanes,(s&o.childLanes)===0)if(i!==null){if(ma(i,o,s,!1),(s&o.childLanes)===0)return null}else return null;if(i!==null&&o.child!==i.child)throw Error(r(153));if(o.child!==null){for(i=o.child,s=ui(i,i.pendingProps),o.child=s,s.return=o;i.sibling!==null;)i=i.sibling,s=s.sibling=ui(i,i.pendingProps),s.return=o;s.sibling=null}return o.child}function lf(i,o){return(i.lanes&o)!==0?!0:(i=i.dependencies,!!(i!==null&&il(i)))}function rw(i,o,s){switch(o.tag){case 3:he(o,o.stateNode.containerInfo),Ni(o,Mt,i.memoizedState.cache),da();break;case 27:case 5:Ne(o);break;case 4:he(o,o.stateNode.containerInfo);break;case 10:Ni(o,o.type,o.memoizedProps.value);break;case 13:var c=o.memoizedState;if(c!==null)return c.dehydrated!==null?(Pi(o),o.flags|=128,null):(s&o.child.childLanes)!==0?Lg(i,o,s):(Pi(o),i=gi(i,o,s),i!==null?i.sibling:null);Pi(o);break;case 19:var p=(i.flags&128)!==0;if(c=(s&o.childLanes)!==0,c||(ma(i,o,s,!1),c=(s&o.childLanes)!==0),p){if(c)return jg(i,o,s);o.flags|=128}if(p=o.memoizedState,p!==null&&(p.rendering=null,p.tail=null,p.lastEffect=null),k(kt,kt.current),c)break;return null;case 22:case 23:return o.lanes=0,Dg(i,o,s);case 24:Ni(o,Mt,i.memoizedState.cache)}return gi(i,o,s)}function Og(i,o,s){if(i!==null)if(i.memoizedProps!==o.pendingProps)Nt=!0;else{if(!lf(i,s)&&(o.flags&128)===0)return Nt=!1,rw(i,o,s);Nt=(i.flags&131072)!==0}else Nt=!1,Ke&&(o.flags&1048576)!==0&&pp(o,nl,o.index);switch(o.lanes=0,o.tag){case 16:e:{i=o.pendingProps;var c=o.elementType,p=c._init;if(c=p(c._payload),o.type=c,typeof c=="function")gc(c)?(i=Er(c,i),o.tag=1,o=Vg(null,o,c,i,s)):(o.tag=0,o=ef(null,o,c,i,s));else{if(c!=null){if(p=c.$$typeof,p===j){o.tag=11,o=kg(null,o,c,i,s);break e}else if(p===ie){o.tag=14,o=Ig(null,o,c,i,s);break e}}throw o=ae(c)||c,Error(r(306,o,""))}}return o;case 0:return ef(i,o,o.type,o.pendingProps,s);case 1:return c=o.type,p=Er(c,o.pendingProps),Vg(i,o,c,p,s);case 3:e:{if(he(o,o.stateNode.containerInfo),i===null)throw Error(r(387));c=o.pendingProps;var b=o.memoizedState;p=b.element,Nc(i,o),Ta(o,c,null,s);var w=o.memoizedState;if(c=w.cache,Ni(o,Mt,c),c!==b.cache&&wc(o,[Mt],s,!0),ba(),c=w.element,b.isDehydrated)if(b={element:c,isDehydrated:!1,cache:w.cache},o.updateQueue.baseState=b,o.memoizedState=b,o.flags&256){o=Pg(i,o,c,s);break e}else if(c!==p){p=wn(Error(r(424)),o),ha(p),o=Pg(i,o,c,s);break e}else{switch(i=o.stateNode.containerInfo,i.nodeType){case 9:i=i.body;break;default:i=i.nodeName==="HTML"?i.ownerDocument.body:i}for(dt=zn(i.firstChild),Xt=o,Ke=!0,br=null,$n=!0,s=yg(o,null,c,s),o.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling}else{if(da(),c===p){o=gi(i,o,s);break e}Vt(i,o,c,s)}o=o.child}return o;case 26:return Sl(i,o),i===null?(s=Hy(o.type,null,o.pendingProps,null))?o.memoizedState=s:Ke||(s=o.type,i=o.pendingProps,c=Bl(re.current).createElement(s),c[It]=o,c[Ft]=i,Lt(c,s,i),Tt(c),o.stateNode=c):o.memoizedState=Hy(o.type,i.memoizedProps,o.pendingProps,i.memoizedState),null;case 27:return Ne(o),i===null&&Ke&&(c=o.stateNode=zy(o.type,o.pendingProps,re.current),Xt=o,$n=!0,p=dt,qi(o.type)?(Uf=p,dt=zn(c.firstChild)):dt=p),Vt(i,o,o.pendingProps.children,s),Sl(i,o),i===null&&(o.flags|=4194304),o.child;case 5:return i===null&&Ke&&((p=c=dt)&&(c=Rw(c,o.type,o.pendingProps,$n),c!==null?(o.stateNode=c,Xt=o,dt=zn(c.firstChild),$n=!1,p=!0):p=!1),p||Tr(o)),Ne(o),p=o.type,b=o.pendingProps,w=i!==null?i.memoizedProps:null,c=b.children,jf(p,b)?c=null:w!==null&&jf(p,w)&&(o.flags|=32),o.memoizedState!==null&&(p=Lc(i,o,QC,null,null,s),Ha._currentValue=p),Sl(i,o),Vt(i,o,c,s),o.child;case 6:return i===null&&Ke&&((i=s=dt)&&(s=_w(s,o.pendingProps,$n),s!==null?(o.stateNode=s,Xt=o,dt=null,i=!0):i=!1),i||Tr(o)),null;case 13:return Lg(i,o,s);case 4:return he(o,o.stateNode.containerInfo),c=o.pendingProps,i===null?o.child=go(o,null,c,s):Vt(i,o,c,s),o.child;case 11:return kg(i,o,o.type,o.pendingProps,s);case 7:return Vt(i,o,o.pendingProps,s),o.child;case 8:return Vt(i,o,o.pendingProps.children,s),o.child;case 12:return Vt(i,o,o.pendingProps.children,s),o.child;case 10:return c=o.pendingProps,Ni(o,o.type,c.value),Vt(i,o,c.children,s),o.child;case 9:return p=o.type._context,c=o.pendingProps.children,Cr(o),p=Ut(p),c=c(p),o.flags|=1,Vt(i,o,c,s),o.child;case 14:return Ig(i,o,o.type,o.pendingProps,s);case 15:return Ng(i,o,o.type,o.pendingProps,s);case 19:return jg(i,o,s);case 31:return c=o.pendingProps,s=o.mode,c={mode:c.mode,children:c.children},i===null?(s=Cl(c,s),s.ref=o.ref,o.child=s,s.return=o,o=s):(s=ui(i.child,c),s.ref=o.ref,o.child=s,s.return=o,o=s),o;case 22:return Dg(i,o,s);case 24:return Cr(o),c=Ut(Mt),i===null?(p=Mc(),p===null&&(p=rt,b=Ac(),p.pooledCache=b,b.refCount++,b!==null&&(p.pooledCacheLanes|=s),p=b),o.memoizedState={parent:c,cache:p},Ic(o),Ni(o,Mt,p)):((i.lanes&s)!==0&&(Nc(i,o),Ta(o,null,null,s),ba()),p=i.memoizedState,b=o.memoizedState,p.parent!==c?(p={parent:c,cache:c},o.memoizedState=p,o.lanes===0&&(o.memoizedState=o.updateQueue.baseState=p),Ni(o,Mt,c)):(c=b.cache,Ni(o,Mt,c),c!==p.cache&&wc(o,[Mt],s,!0))),Vt(i,o,o.pendingProps.children,s),o.child;case 29:throw o.pendingProps}throw Error(r(156,o.tag))}function yi(i){i.flags|=4}function zg(i,o){if(o.type!=="stylesheet"||(o.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!Ky(o)){if(o=kn.current,o!==null&&((He&4194048)===He?Yn!==null:(He&62914560)!==He&&(He&536870912)===0||o!==Yn))throw xa=kc,Cp;i.flags|=8192}}function wl(i,o){o!==null&&(i.flags|=4),i.flags&16384&&(o=i.tag!==22?Jo():536870912,i.lanes|=o,bo|=o)}function ka(i,o){if(!Ke)switch(i.tailMode){case"hidden":o=i.tail;for(var s=null;o!==null;)o.alternate!==null&&(s=o),o=o.sibling;s===null?i.tail=null:s.sibling=null;break;case"collapsed":s=i.tail;for(var c=null;s!==null;)s.alternate!==null&&(c=s),s=s.sibling;c===null?o||i.tail===null?i.tail=null:i.tail.sibling=null:c.sibling=null}}function lt(i){var o=i.alternate!==null&&i.alternate.child===i.child,s=0,c=0;if(o)for(var p=i.child;p!==null;)s|=p.lanes|p.childLanes,c|=p.subtreeFlags&65011712,c|=p.flags&65011712,p.return=i,p=p.sibling;else for(p=i.child;p!==null;)s|=p.lanes|p.childLanes,c|=p.subtreeFlags,c|=p.flags,p.return=i,p=p.sibling;return i.subtreeFlags|=c,i.childLanes=s,o}function ow(i,o,s){var c=o.pendingProps;switch(bc(o),o.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return lt(o),null;case 1:return lt(o),null;case 3:return s=o.stateNode,c=null,i!==null&&(c=i.memoizedState.cache),o.memoizedState.cache!==c&&(o.flags|=2048),hi(Mt),Se(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(i===null||i.child===null)&&(fa(o)?yi(o):i===null||i.memoizedState.isDehydrated&&(o.flags&256)===0||(o.flags|=1024,xp())),lt(o),null;case 26:return s=o.memoizedState,i===null?(yi(o),s!==null?(lt(o),zg(o,s)):(lt(o),o.flags&=-16777217)):s?s!==i.memoizedState?(yi(o),lt(o),zg(o,s)):(lt(o),o.flags&=-16777217):(i.memoizedProps!==c&&yi(o),lt(o),o.flags&=-16777217),null;case 27:be(o),s=re.current;var p=o.type;if(i!==null&&o.stateNode!=null)i.memoizedProps!==c&&yi(o);else{if(!c){if(o.stateNode===null)throw Error(r(166));return lt(o),null}i=J.current,fa(o)?gp(o):(i=zy(p,c,s),o.stateNode=i,yi(o))}return lt(o),null;case 5:if(be(o),s=o.type,i!==null&&o.stateNode!=null)i.memoizedProps!==c&&yi(o);else{if(!c){if(o.stateNode===null)throw Error(r(166));return lt(o),null}if(i=J.current,fa(o))gp(o);else{switch(p=Bl(re.current),i){case 1:i=p.createElementNS("http://www.w3.org/2000/svg",s);break;case 2:i=p.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;default:switch(s){case"svg":i=p.createElementNS("http://www.w3.org/2000/svg",s);break;case"math":i=p.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;case"script":i=p.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild);break;case"select":i=typeof c.is=="string"?p.createElement("select",{is:c.is}):p.createElement("select"),c.multiple?i.multiple=!0:c.size&&(i.size=c.size);break;default:i=typeof c.is=="string"?p.createElement(s,{is:c.is}):p.createElement(s)}}i[It]=o,i[Ft]=c;e:for(p=o.child;p!==null;){if(p.tag===5||p.tag===6)i.appendChild(p.stateNode);else if(p.tag!==4&&p.tag!==27&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===o)break e;for(;p.sibling===null;){if(p.return===null||p.return===o)break e;p=p.return}p.sibling.return=p.return,p=p.sibling}o.stateNode=i;e:switch(Lt(i,s,c),s){case"button":case"input":case"select":case"textarea":i=!!c.autoFocus;break e;case"img":i=!0;break e;default:i=!1}i&&yi(o)}}return lt(o),o.flags&=-16777217,null;case 6:if(i&&o.stateNode!=null)i.memoizedProps!==c&&yi(o);else{if(typeof c!="string"&&o.stateNode===null)throw Error(r(166));if(i=re.current,fa(o)){if(i=o.stateNode,s=o.memoizedProps,c=null,p=Xt,p!==null)switch(p.tag){case 27:case 5:c=p.memoizedProps}i[It]=o,i=!!(i.nodeValue===s||c!==null&&c.suppressHydrationWarning===!0||_y(i.nodeValue,s)),i||Tr(o)}else i=Bl(i).createTextNode(c),i[It]=o,o.stateNode=i}return lt(o),null;case 13:if(c=o.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(p=fa(o),c!==null&&c.dehydrated!==null){if(i===null){if(!p)throw Error(r(318));if(p=o.memoizedState,p=p!==null?p.dehydrated:null,!p)throw Error(r(317));p[It]=o}else da(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;lt(o),p=!1}else p=xp(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=p),p=!0;if(!p)return o.flags&256?(pi(o),o):(pi(o),null)}if(pi(o),(o.flags&128)!==0)return o.lanes=s,o;if(s=c!==null,i=i!==null&&i.memoizedState!==null,s){c=o.child,p=null,c.alternate!==null&&c.alternate.memoizedState!==null&&c.alternate.memoizedState.cachePool!==null&&(p=c.alternate.memoizedState.cachePool.pool);var b=null;c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(b=c.memoizedState.cachePool.pool),b!==p&&(c.flags|=2048)}return s!==i&&s&&(o.child.flags|=8192),wl(o,o.updateQueue),lt(o),null;case 4:return Se(),i===null&&_f(o.stateNode.containerInfo),lt(o),null;case 10:return hi(o.type),lt(o),null;case 19:if(q(kt),p=o.memoizedState,p===null)return lt(o),null;if(c=(o.flags&128)!==0,b=p.rendering,b===null)if(c)ka(p,!1);else{if(ht!==0||i!==null&&(i.flags&128)!==0)for(i=o.child;i!==null;){if(b=vl(i),b!==null){for(o.flags|=128,ka(p,!1),i=b.updateQueue,o.updateQueue=i,wl(o,i),o.subtreeFlags=0,i=s,s=o.child;s!==null;)mp(s,i),s=s.sibling;return k(kt,kt.current&1|2),o.child}i=i.sibling}p.tail!==null&&ft()>Ml&&(o.flags|=128,c=!0,ka(p,!1),o.lanes=4194304)}else{if(!c)if(i=vl(b),i!==null){if(o.flags|=128,c=!0,i=i.updateQueue,o.updateQueue=i,wl(o,i),ka(p,!0),p.tail===null&&p.tailMode==="hidden"&&!b.alternate&&!Ke)return lt(o),null}else 2*ft()-p.renderingStartTime>Ml&&s!==536870912&&(o.flags|=128,c=!0,ka(p,!1),o.lanes=4194304);p.isBackwards?(b.sibling=o.child,o.child=b):(i=p.last,i!==null?i.sibling=b:o.child=b,p.last=b)}return p.tail!==null?(o=p.tail,p.rendering=o,p.tail=o.sibling,p.renderingStartTime=ft(),o.sibling=null,i=kt.current,k(kt,c?i&1|2:i&1),o):(lt(o),null);case 22:case 23:return pi(o),Vc(),c=o.memoizedState!==null,i!==null?i.memoizedState!==null!==c&&(o.flags|=8192):c&&(o.flags|=8192),c?(s&536870912)!==0&&(o.flags&128)===0&&(lt(o),o.subtreeFlags&6&&(o.flags|=8192)):lt(o),s=o.updateQueue,s!==null&&wl(o,s.retryQueue),s=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(s=i.memoizedState.cachePool.pool),c=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(c=o.memoizedState.cachePool.pool),c!==s&&(o.flags|=2048),i!==null&&q(wr),null;case 24:return s=null,i!==null&&(s=i.memoizedState.cache),o.memoizedState.cache!==s&&(o.flags|=2048),hi(Mt),lt(o),null;case 25:return null;case 30:return null}throw Error(r(156,o.tag))}function aw(i,o){switch(bc(o),o.tag){case 1:return i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 3:return hi(Mt),Se(),i=o.flags,(i&65536)!==0&&(i&128)===0?(o.flags=i&-65537|128,o):null;case 26:case 27:case 5:return be(o),null;case 13:if(pi(o),i=o.memoizedState,i!==null&&i.dehydrated!==null){if(o.alternate===null)throw Error(r(340));da()}return i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 19:return q(kt),null;case 4:return Se(),null;case 10:return hi(o.type),null;case 22:case 23:return pi(o),Vc(),i!==null&&q(wr),i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 24:return hi(Mt),null;case 25:return null;default:return null}}function Fg(i,o){switch(bc(o),o.tag){case 3:hi(Mt),Se();break;case 26:case 27:case 5:be(o);break;case 4:Se();break;case 13:pi(o);break;case 19:q(kt);break;case 10:hi(o.type);break;case 22:case 23:pi(o),Vc(),i!==null&&q(wr);break;case 24:hi(Mt)}}function Ia(i,o){try{var s=o.updateQueue,c=s!==null?s.lastEffect:null;if(c!==null){var p=c.next;s=p;do{if((s.tag&i)===i){c=void 0;var b=s.create,w=s.inst;c=b(),w.destroy=c}s=s.next}while(s!==p)}}catch(E){nt(o,o.return,E)}}function Bi(i,o,s){try{var c=o.updateQueue,p=c!==null?c.lastEffect:null;if(p!==null){var b=p.next;c=b;do{if((c.tag&i)===i){var w=c.inst,E=w.destroy;if(E!==void 0){w.destroy=void 0,p=o;var V=s,K=E;try{K()}catch(ne){nt(p,V,ne)}}}c=c.next}while(c!==b)}}catch(ne){nt(o,o.return,ne)}}function Ug(i){var o=i.updateQueue;if(o!==null){var s=i.stateNode;try{Ip(o,s)}catch(c){nt(i,i.return,c)}}}function Hg(i,o,s){s.props=Er(i.type,i.memoizedProps),s.state=i.memoizedState;try{s.componentWillUnmount()}catch(c){nt(i,o,c)}}function Na(i,o){try{var s=i.ref;if(s!==null){switch(i.tag){case 26:case 27:case 5:var c=i.stateNode;break;case 30:c=i.stateNode;break;default:c=i.stateNode}typeof s=="function"?i.refCleanup=s(c):s.current=c}}catch(p){nt(i,o,p)}}function Kn(i,o){var s=i.ref,c=i.refCleanup;if(s!==null)if(typeof c=="function")try{c()}catch(p){nt(i,o,p)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof s=="function")try{s(null)}catch(p){nt(i,o,p)}else s.current=null}function Gg(i){var o=i.type,s=i.memoizedProps,c=i.stateNode;try{e:switch(o){case"button":case"input":case"select":case"textarea":s.autoFocus&&c.focus();break e;case"img":s.src?c.src=s.src:s.srcSet&&(c.srcset=s.srcSet)}}catch(p){nt(i,i.return,p)}}function uf(i,o,s){try{var c=i.stateNode;Mw(c,i.type,s,o),c[Ft]=o}catch(p){nt(i,i.return,p)}}function qg(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&qi(i.type)||i.tag===4}function cf(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||qg(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&qi(i.type)||i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function ff(i,o,s){var c=i.tag;if(c===5||c===6)i=i.stateNode,o?(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s).insertBefore(i,o):(o=s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,o.appendChild(i),s=s._reactRootContainer,s!=null||o.onclick!==null||(o.onclick=Ll));else if(c!==4&&(c===27&&qi(i.type)&&(s=i.stateNode,o=null),i=i.child,i!==null))for(ff(i,o,s),i=i.sibling;i!==null;)ff(i,o,s),i=i.sibling}function Al(i,o,s){var c=i.tag;if(c===5||c===6)i=i.stateNode,o?s.insertBefore(i,o):s.appendChild(i);else if(c!==4&&(c===27&&qi(i.type)&&(s=i.stateNode),i=i.child,i!==null))for(Al(i,o,s),i=i.sibling;i!==null;)Al(i,o,s),i=i.sibling}function $g(i){var o=i.stateNode,s=i.memoizedProps;try{for(var c=i.type,p=o.attributes;p.length;)o.removeAttributeNode(p[0]);Lt(o,c,s),o[It]=i,o[Ft]=s}catch(b){nt(i,i.return,b)}}var xi=!1,xt=!1,df=!1,Yg=typeof WeakSet=="function"?WeakSet:Set,Dt=null;function sw(i,o){if(i=i.containerInfo,Lf=Hl,i=rp(i),uc(i)){if("selectionStart"in i)var s={start:i.selectionStart,end:i.selectionEnd};else e:{s=(s=i.ownerDocument)&&s.defaultView||window;var c=s.getSelection&&s.getSelection();if(c&&c.rangeCount!==0){s=c.anchorNode;var p=c.anchorOffset,b=c.focusNode;c=c.focusOffset;try{s.nodeType,b.nodeType}catch{s=null;break e}var w=0,E=-1,V=-1,K=0,ne=0,se=i,X=null;t:for(;;){for(var Q;se!==s||p!==0&&se.nodeType!==3||(E=w+p),se!==b||c!==0&&se.nodeType!==3||(V=w+c),se.nodeType===3&&(w+=se.nodeValue.length),(Q=se.firstChild)!==null;)X=se,se=Q;for(;;){if(se===i)break t;if(X===s&&++K===p&&(E=w),X===b&&++ne===c&&(V=w),(Q=se.nextSibling)!==null)break;se=X,X=se.parentNode}se=Q}s=E===-1||V===-1?null:{start:E,end:V}}else s=null}s=s||{start:0,end:0}}else s=null;for(Bf={focusedElem:i,selectionRange:s},Hl=!1,Dt=o;Dt!==null;)if(o=Dt,i=o.child,(o.subtreeFlags&1024)!==0&&i!==null)i.return=o,Dt=i;else for(;Dt!==null;){switch(o=Dt,b=o.alternate,i=o.flags,o.tag){case 0:break;case 11:case 15:break;case 1:if((i&1024)!==0&&b!==null){i=void 0,s=o,p=b.memoizedProps,b=b.memoizedState,c=s.stateNode;try{var ke=Er(s.type,p,s.elementType===s.type);i=c.getSnapshotBeforeUpdate(ke,b),c.__reactInternalSnapshotBeforeUpdate=i}catch(Ee){nt(s,s.return,Ee)}}break;case 3:if((i&1024)!==0){if(i=o.stateNode.containerInfo,s=i.nodeType,s===9)zf(i);else if(s===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":zf(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(r(163))}if(i=o.sibling,i!==null){i.return=o.return,Dt=i;break}Dt=o.return}}function Kg(i,o,s){var c=s.flags;switch(s.tag){case 0:case 11:case 15:ji(i,s),c&4&&Ia(5,s);break;case 1:if(ji(i,s),c&4)if(i=s.stateNode,o===null)try{i.componentDidMount()}catch(w){nt(s,s.return,w)}else{var p=Er(s.type,o.memoizedProps);o=o.memoizedState;try{i.componentDidUpdate(p,o,i.__reactInternalSnapshotBeforeUpdate)}catch(w){nt(s,s.return,w)}}c&64&&Ug(s),c&512&&Na(s,s.return);break;case 3:if(ji(i,s),c&64&&(i=s.updateQueue,i!==null)){if(o=null,s.child!==null)switch(s.child.tag){case 27:case 5:o=s.child.stateNode;break;case 1:o=s.child.stateNode}try{Ip(i,o)}catch(w){nt(s,s.return,w)}}break;case 27:o===null&&c&4&&$g(s);case 26:case 5:ji(i,s),o===null&&c&4&&Gg(s),c&512&&Na(s,s.return);break;case 12:ji(i,s);break;case 13:ji(i,s),c&4&&Jg(i,s),c&64&&(i=s.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(s=gw.bind(null,s),Vw(i,s))));break;case 22:if(c=s.memoizedState!==null||xi,!c){o=o!==null&&o.memoizedState!==null||xt,p=xi;var b=xt;xi=c,(xt=o)&&!b?Oi(i,s,(s.subtreeFlags&8772)!==0):ji(i,s),xi=p,xt=b}break;case 30:break;default:ji(i,s)}}function Xg(i){var o=i.alternate;o!==null&&(i.alternate=null,Xg(o)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(o=i.stateNode,o!==null&&Wo(o)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var st=null,nn=!1;function vi(i,o,s){for(s=s.child;s!==null;)Qg(i,o,s),s=s.sibling}function Qg(i,o,s){if(ce&&typeof ce.onCommitFiberUnmount=="function")try{ce.onCommitFiberUnmount(ee,s)}catch{}switch(s.tag){case 26:xt||Kn(s,o),vi(i,o,s),s.memoizedState?s.memoizedState.count--:s.stateNode&&(s=s.stateNode,s.parentNode.removeChild(s));break;case 27:xt||Kn(s,o);var c=st,p=nn;qi(s.type)&&(st=s.stateNode,nn=!1),vi(i,o,s),Oa(s.stateNode),st=c,nn=p;break;case 5:xt||Kn(s,o);case 6:if(c=st,p=nn,st=null,vi(i,o,s),st=c,nn=p,st!==null)if(nn)try{(st.nodeType===9?st.body:st.nodeName==="HTML"?st.ownerDocument.body:st).removeChild(s.stateNode)}catch(b){nt(s,o,b)}else try{st.removeChild(s.stateNode)}catch(b){nt(s,o,b)}break;case 18:st!==null&&(nn?(i=st,jy(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,s.stateNode),Ya(i)):jy(st,s.stateNode));break;case 4:c=st,p=nn,st=s.stateNode.containerInfo,nn=!0,vi(i,o,s),st=c,nn=p;break;case 0:case 11:case 14:case 15:xt||Bi(2,s,o),xt||Bi(4,s,o),vi(i,o,s);break;case 1:xt||(Kn(s,o),c=s.stateNode,typeof c.componentWillUnmount=="function"&&Hg(s,o,c)),vi(i,o,s);break;case 21:vi(i,o,s);break;case 22:xt=(c=xt)||s.memoizedState!==null,vi(i,o,s),xt=c;break;default:vi(i,o,s)}}function Jg(i,o){if(o.memoizedState===null&&(i=o.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{Ya(i)}catch(s){nt(o,o.return,s)}}function lw(i){switch(i.tag){case 13:case 19:var o=i.stateNode;return o===null&&(o=i.stateNode=new Yg),o;case 22:return i=i.stateNode,o=i._retryCache,o===null&&(o=i._retryCache=new Yg),o;default:throw Error(r(435,i.tag))}}function hf(i,o){var s=lw(i);o.forEach(function(c){var p=yw.bind(null,i,c);s.has(c)||(s.add(c),c.then(p,p))})}function hn(i,o){var s=o.deletions;if(s!==null)for(var c=0;c<s.length;c++){var p=s[c],b=i,w=o,E=w;e:for(;E!==null;){switch(E.tag){case 27:if(qi(E.type)){st=E.stateNode,nn=!1;break e}break;case 5:st=E.stateNode,nn=!1;break e;case 3:case 4:st=E.stateNode.containerInfo,nn=!0;break e}E=E.return}if(st===null)throw Error(r(160));Qg(b,w,p),st=null,nn=!1,b=p.alternate,b!==null&&(b.return=null),p.return=null}if(o.subtreeFlags&13878)for(o=o.child;o!==null;)Zg(o,i),o=o.sibling}var On=null;function Zg(i,o){var s=i.alternate,c=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:hn(o,i),mn(i),c&4&&(Bi(3,i,i.return),Ia(3,i),Bi(5,i,i.return));break;case 1:hn(o,i),mn(i),c&512&&(xt||s===null||Kn(s,s.return)),c&64&&xi&&(i=i.updateQueue,i!==null&&(c=i.callbacks,c!==null&&(s=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=s===null?c:s.concat(c))));break;case 26:var p=On;if(hn(o,i),mn(i),c&512&&(xt||s===null||Kn(s,s.return)),c&4){var b=s!==null?s.memoizedState:null;if(c=i.memoizedState,s===null)if(c===null)if(i.stateNode===null){e:{c=i.type,s=i.memoizedProps,p=p.ownerDocument||p;t:switch(c){case"title":b=p.getElementsByTagName("title")[0],(!b||b[cr]||b[It]||b.namespaceURI==="http://www.w3.org/2000/svg"||b.hasAttribute("itemprop"))&&(b=p.createElement(c),p.head.insertBefore(b,p.querySelector("head > title"))),Lt(b,c,s),b[It]=i,Tt(b),c=b;break e;case"link":var w=$y("link","href",p).get(c+(s.href||""));if(w){for(var E=0;E<w.length;E++)if(b=w[E],b.getAttribute("href")===(s.href==null||s.href===""?null:s.href)&&b.getAttribute("rel")===(s.rel==null?null:s.rel)&&b.getAttribute("title")===(s.title==null?null:s.title)&&b.getAttribute("crossorigin")===(s.crossOrigin==null?null:s.crossOrigin)){w.splice(E,1);break t}}b=p.createElement(c),Lt(b,c,s),p.head.appendChild(b);break;case"meta":if(w=$y("meta","content",p).get(c+(s.content||""))){for(E=0;E<w.length;E++)if(b=w[E],b.getAttribute("content")===(s.content==null?null:""+s.content)&&b.getAttribute("name")===(s.name==null?null:s.name)&&b.getAttribute("property")===(s.property==null?null:s.property)&&b.getAttribute("http-equiv")===(s.httpEquiv==null?null:s.httpEquiv)&&b.getAttribute("charset")===(s.charSet==null?null:s.charSet)){w.splice(E,1);break t}}b=p.createElement(c),Lt(b,c,s),p.head.appendChild(b);break;default:throw Error(r(468,c))}b[It]=i,Tt(b),c=b}i.stateNode=c}else Yy(p,i.type,i.stateNode);else i.stateNode=qy(p,c,i.memoizedProps);else b!==c?(b===null?s.stateNode!==null&&(s=s.stateNode,s.parentNode.removeChild(s)):b.count--,c===null?Yy(p,i.type,i.stateNode):qy(p,c,i.memoizedProps)):c===null&&i.stateNode!==null&&uf(i,i.memoizedProps,s.memoizedProps)}break;case 27:hn(o,i),mn(i),c&512&&(xt||s===null||Kn(s,s.return)),s!==null&&c&4&&uf(i,i.memoizedProps,s.memoizedProps);break;case 5:if(hn(o,i),mn(i),c&512&&(xt||s===null||Kn(s,s.return)),i.flags&32){p=i.stateNode;try{Jr(p,"")}catch(Q){nt(i,i.return,Q)}}c&4&&i.stateNode!=null&&(p=i.memoizedProps,uf(i,p,s!==null?s.memoizedProps:p)),c&1024&&(df=!0);break;case 6:if(hn(o,i),mn(i),c&4){if(i.stateNode===null)throw Error(r(162));c=i.memoizedProps,s=i.stateNode;try{s.nodeValue=c}catch(Q){nt(i,i.return,Q)}}break;case 3:if(zl=null,p=On,On=jl(o.containerInfo),hn(o,i),On=p,mn(i),c&4&&s!==null&&s.memoizedState.isDehydrated)try{Ya(o.containerInfo)}catch(Q){nt(i,i.return,Q)}df&&(df=!1,Wg(i));break;case 4:c=On,On=jl(i.stateNode.containerInfo),hn(o,i),mn(i),On=c;break;case 12:hn(o,i),mn(i);break;case 13:hn(o,i),mn(i),i.child.flags&8192&&i.memoizedState!==null!=(s!==null&&s.memoizedState!==null)&&(vf=ft()),c&4&&(c=i.updateQueue,c!==null&&(i.updateQueue=null,hf(i,c)));break;case 22:p=i.memoizedState!==null;var V=s!==null&&s.memoizedState!==null,K=xi,ne=xt;if(xi=K||p,xt=ne||V,hn(o,i),xt=ne,xi=K,mn(i),c&8192)e:for(o=i.stateNode,o._visibility=p?o._visibility&-2:o._visibility|1,p&&(s===null||V||xi||xt||Mr(i)),s=null,o=i;;){if(o.tag===5||o.tag===26){if(s===null){V=s=o;try{if(b=V.stateNode,p)w=b.style,typeof w.setProperty=="function"?w.setProperty("display","none","important"):w.display="none";else{E=V.stateNode;var se=V.memoizedProps.style,X=se!=null&&se.hasOwnProperty("display")?se.display:null;E.style.display=X==null||typeof X=="boolean"?"":(""+X).trim()}}catch(Q){nt(V,V.return,Q)}}}else if(o.tag===6){if(s===null){V=o;try{V.stateNode.nodeValue=p?"":V.memoizedProps}catch(Q){nt(V,V.return,Q)}}}else if((o.tag!==22&&o.tag!==23||o.memoizedState===null||o===i)&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===i)break e;for(;o.sibling===null;){if(o.return===null||o.return===i)break e;s===o&&(s=null),o=o.return}s===o&&(s=null),o.sibling.return=o.return,o=o.sibling}c&4&&(c=i.updateQueue,c!==null&&(s=c.retryQueue,s!==null&&(c.retryQueue=null,hf(i,s))));break;case 19:hn(o,i),mn(i),c&4&&(c=i.updateQueue,c!==null&&(i.updateQueue=null,hf(i,c)));break;case 30:break;case 21:break;default:hn(o,i),mn(i)}}function mn(i){var o=i.flags;if(o&2){try{for(var s,c=i.return;c!==null;){if(qg(c)){s=c;break}c=c.return}if(s==null)throw Error(r(160));switch(s.tag){case 27:var p=s.stateNode,b=cf(i);Al(i,b,p);break;case 5:var w=s.stateNode;s.flags&32&&(Jr(w,""),s.flags&=-33);var E=cf(i);Al(i,E,w);break;case 3:case 4:var V=s.stateNode.containerInfo,K=cf(i);ff(i,K,V);break;default:throw Error(r(161))}}catch(ne){nt(i,i.return,ne)}i.flags&=-3}o&4096&&(i.flags&=-4097)}function Wg(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var o=i;Wg(o),o.tag===5&&o.flags&1024&&o.stateNode.reset(),i=i.sibling}}function ji(i,o){if(o.subtreeFlags&8772)for(o=o.child;o!==null;)Kg(i,o.alternate,o),o=o.sibling}function Mr(i){for(i=i.child;i!==null;){var o=i;switch(o.tag){case 0:case 11:case 14:case 15:Bi(4,o,o.return),Mr(o);break;case 1:Kn(o,o.return);var s=o.stateNode;typeof s.componentWillUnmount=="function"&&Hg(o,o.return,s),Mr(o);break;case 27:Oa(o.stateNode);case 26:case 5:Kn(o,o.return),Mr(o);break;case 22:o.memoizedState===null&&Mr(o);break;case 30:Mr(o);break;default:Mr(o)}i=i.sibling}}function Oi(i,o,s){for(s=s&&(o.subtreeFlags&8772)!==0,o=o.child;o!==null;){var c=o.alternate,p=i,b=o,w=b.flags;switch(b.tag){case 0:case 11:case 15:Oi(p,b,s),Ia(4,b);break;case 1:if(Oi(p,b,s),c=b,p=c.stateNode,typeof p.componentDidMount=="function")try{p.componentDidMount()}catch(K){nt(c,c.return,K)}if(c=b,p=c.updateQueue,p!==null){var E=c.stateNode;try{var V=p.shared.hiddenCallbacks;if(V!==null)for(p.shared.hiddenCallbacks=null,p=0;p<V.length;p++)kp(V[p],E)}catch(K){nt(c,c.return,K)}}s&&w&64&&Ug(b),Na(b,b.return);break;case 27:$g(b);case 26:case 5:Oi(p,b,s),s&&c===null&&w&4&&Gg(b),Na(b,b.return);break;case 12:Oi(p,b,s);break;case 13:Oi(p,b,s),s&&w&4&&Jg(p,b);break;case 22:b.memoizedState===null&&Oi(p,b,s),Na(b,b.return);break;case 30:break;default:Oi(p,b,s)}o=o.sibling}}function mf(i,o){var s=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(s=i.memoizedState.cachePool.pool),i=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(i=o.memoizedState.cachePool.pool),i!==s&&(i!=null&&i.refCount++,s!=null&&pa(s))}function pf(i,o){i=null,o.alternate!==null&&(i=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==i&&(o.refCount++,i!=null&&pa(i))}function Xn(i,o,s,c){if(o.subtreeFlags&10256)for(o=o.child;o!==null;)ey(i,o,s,c),o=o.sibling}function ey(i,o,s,c){var p=o.flags;switch(o.tag){case 0:case 11:case 15:Xn(i,o,s,c),p&2048&&Ia(9,o);break;case 1:Xn(i,o,s,c);break;case 3:Xn(i,o,s,c),p&2048&&(i=null,o.alternate!==null&&(i=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==i&&(o.refCount++,i!=null&&pa(i)));break;case 12:if(p&2048){Xn(i,o,s,c),i=o.stateNode;try{var b=o.memoizedProps,w=b.id,E=b.onPostCommit;typeof E=="function"&&E(w,o.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(V){nt(o,o.return,V)}}else Xn(i,o,s,c);break;case 13:Xn(i,o,s,c);break;case 23:break;case 22:b=o.stateNode,w=o.alternate,o.memoizedState!==null?b._visibility&2?Xn(i,o,s,c):Da(i,o):b._visibility&2?Xn(i,o,s,c):(b._visibility|=2,yo(i,o,s,c,(o.subtreeFlags&10256)!==0)),p&2048&&mf(w,o);break;case 24:Xn(i,o,s,c),p&2048&&pf(o.alternate,o);break;default:Xn(i,o,s,c)}}function yo(i,o,s,c,p){for(p=p&&(o.subtreeFlags&10256)!==0,o=o.child;o!==null;){var b=i,w=o,E=s,V=c,K=w.flags;switch(w.tag){case 0:case 11:case 15:yo(b,w,E,V,p),Ia(8,w);break;case 23:break;case 22:var ne=w.stateNode;w.memoizedState!==null?ne._visibility&2?yo(b,w,E,V,p):Da(b,w):(ne._visibility|=2,yo(b,w,E,V,p)),p&&K&2048&&mf(w.alternate,w);break;case 24:yo(b,w,E,V,p),p&&K&2048&&pf(w.alternate,w);break;default:yo(b,w,E,V,p)}o=o.sibling}}function Da(i,o){if(o.subtreeFlags&10256)for(o=o.child;o!==null;){var s=i,c=o,p=c.flags;switch(c.tag){case 22:Da(s,c),p&2048&&mf(c.alternate,c);break;case 24:Da(s,c),p&2048&&pf(c.alternate,c);break;default:Da(s,c)}o=o.sibling}}var Ra=8192;function xo(i){if(i.subtreeFlags&Ra)for(i=i.child;i!==null;)ty(i),i=i.sibling}function ty(i){switch(i.tag){case 26:xo(i),i.flags&Ra&&i.memoizedState!==null&&Yw(On,i.memoizedState,i.memoizedProps);break;case 5:xo(i);break;case 3:case 4:var o=On;On=jl(i.stateNode.containerInfo),xo(i),On=o;break;case 22:i.memoizedState===null&&(o=i.alternate,o!==null&&o.memoizedState!==null?(o=Ra,Ra=16777216,xo(i),Ra=o):xo(i));break;default:xo(i)}}function ny(i){var o=i.alternate;if(o!==null&&(i=o.child,i!==null)){o.child=null;do o=i.sibling,i.sibling=null,i=o;while(i!==null)}}function _a(i){var o=i.deletions;if((i.flags&16)!==0){if(o!==null)for(var s=0;s<o.length;s++){var c=o[s];Dt=c,ry(c,i)}ny(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)iy(i),i=i.sibling}function iy(i){switch(i.tag){case 0:case 11:case 15:_a(i),i.flags&2048&&Bi(9,i,i.return);break;case 3:_a(i);break;case 12:_a(i);break;case 22:var o=i.stateNode;i.memoizedState!==null&&o._visibility&2&&(i.return===null||i.return.tag!==13)?(o._visibility&=-3,El(i)):_a(i);break;default:_a(i)}}function El(i){var o=i.deletions;if((i.flags&16)!==0){if(o!==null)for(var s=0;s<o.length;s++){var c=o[s];Dt=c,ry(c,i)}ny(i)}for(i=i.child;i!==null;){switch(o=i,o.tag){case 0:case 11:case 15:Bi(8,o,o.return),El(o);break;case 22:s=o.stateNode,s._visibility&2&&(s._visibility&=-3,El(o));break;default:El(o)}i=i.sibling}}function ry(i,o){for(;Dt!==null;){var s=Dt;switch(s.tag){case 0:case 11:case 15:Bi(8,s,o);break;case 23:case 22:if(s.memoizedState!==null&&s.memoizedState.cachePool!==null){var c=s.memoizedState.cachePool.pool;c!=null&&c.refCount++}break;case 24:pa(s.memoizedState.cache)}if(c=s.child,c!==null)c.return=s,Dt=c;else e:for(s=i;Dt!==null;){c=Dt;var p=c.sibling,b=c.return;if(Xg(c),c===s){Dt=null;break e}if(p!==null){p.return=b,Dt=p;break e}Dt=b}}}var uw={getCacheForType:function(i){var o=Ut(Mt),s=o.data.get(i);return s===void 0&&(s=i(),o.data.set(i,s)),s}},cw=typeof WeakMap=="function"?WeakMap:Map,Qe=0,rt=null,je=null,He=0,Je=0,pn=null,zi=!1,vo=!1,gf=!1,bi=0,ht=0,Fi=0,kr=0,yf=0,In=0,bo=0,Va=null,rn=null,xf=!1,vf=0,Ml=1/0,kl=null,Ui=null,Pt=0,Hi=null,To=null,So=0,bf=0,Tf=null,oy=null,Pa=0,Sf=null;function gn(){if((Qe&2)!==0&&He!==0)return He&-He;if($.T!==null){var i=lo;return i!==0?i:If()}return Bs()}function ay(){In===0&&(In=(He&536870912)===0||Ke?cn():536870912);var i=kn.current;return i!==null&&(i.flags|=32),In}function yn(i,o,s){(i===rt&&(Je===2||Je===9)||i.cancelPendingCommit!==null)&&(Co(i,0),Gi(i,He,In,!1)),Z(i,s),((Qe&2)===0||i!==rt)&&(i===rt&&((Qe&2)===0&&(kr|=s),ht===4&&Gi(i,He,In,!1)),Qn(i))}function sy(i,o,s){if((Qe&6)!==0)throw Error(r(327));var c=!s&&(o&124)===0&&(o&i.expiredLanes)===0||Zt(i,o),p=c?hw(i,o):Af(i,o,!0),b=c;do{if(p===0){vo&&!c&&Gi(i,o,0,!1);break}else{if(s=i.current.alternate,b&&!fw(s)){p=Af(i,o,!1),b=!1;continue}if(p===2){if(b=o,i.errorRecoveryDisabledLanes&b)var w=0;else w=i.pendingLanes&-536870913,w=w!==0?w:w&536870912?536870912:0;if(w!==0){o=w;e:{var E=i;p=Va;var V=E.current.memoizedState.isDehydrated;if(V&&(Co(E,w).flags|=256),w=Af(E,w,!1),w!==2){if(gf&&!V){E.errorRecoveryDisabledLanes|=b,kr|=b,p=4;break e}b=rn,rn=p,b!==null&&(rn===null?rn=b:rn.push.apply(rn,b))}p=w}if(b=!1,p!==2)continue}}if(p===1){Co(i,0),Gi(i,o,0,!0);break}e:{switch(c=i,b=p,b){case 0:case 1:throw Error(r(345));case 4:if((o&4194048)!==o)break;case 6:Gi(c,o,In,!zi);break e;case 2:rn=null;break;case 3:case 5:break;default:throw Error(r(329))}if((o&62914560)===o&&(p=vf+300-ft(),10<p)){if(Gi(c,o,In,!zi),gt(c,0,!0)!==0)break e;c.timeoutHandle=Ly(ly.bind(null,c,s,rn,kl,xf,o,In,kr,bo,zi,b,2,-0,0),p);break e}ly(c,s,rn,kl,xf,o,In,kr,bo,zi,b,0,-0,0)}}break}while(!0);Qn(i)}function ly(i,o,s,c,p,b,w,E,V,K,ne,se,X,Q){if(i.timeoutHandle=-1,se=o.subtreeFlags,(se&8192||(se&16785408)===16785408)&&(Ua={stylesheets:null,count:0,unsuspend:$w},ty(o),se=Kw(),se!==null)){i.cancelPendingCommit=se(py.bind(null,i,o,b,s,c,p,w,E,V,ne,1,X,Q)),Gi(i,b,w,!K);return}py(i,o,b,s,c,p,w,E,V)}function fw(i){for(var o=i;;){var s=o.tag;if((s===0||s===11||s===15)&&o.flags&16384&&(s=o.updateQueue,s!==null&&(s=s.stores,s!==null)))for(var c=0;c<s.length;c++){var p=s[c],b=p.getSnapshot;p=p.value;try{if(!fn(b(),p))return!1}catch{return!1}}if(s=o.child,o.subtreeFlags&16384&&s!==null)s.return=o,o=s;else{if(o===i)break;for(;o.sibling===null;){if(o.return===null||o.return===i)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function Gi(i,o,s,c){o&=~yf,o&=~kr,i.suspendedLanes|=o,i.pingedLanes&=~o,c&&(i.warmLanes|=o),c=i.expirationTimes;for(var p=o;0<p;){var b=31-Ae(p),w=1<<b;c[b]=-1,p&=~w}s!==0&&xe(i,s,o)}function Il(){return(Qe&6)===0?(La(0),!1):!0}function Cf(){if(je!==null){if(Je===0)var i=je.return;else i=je,di=Sr=null,Oc(i),po=null,Ea=0,i=je;for(;i!==null;)Fg(i.alternate,i),i=i.return;je=null}}function Co(i,o){var s=i.timeoutHandle;s!==-1&&(i.timeoutHandle=-1,Iw(s)),s=i.cancelPendingCommit,s!==null&&(i.cancelPendingCommit=null,s()),Cf(),rt=i,je=s=ui(i.current,null),He=o,Je=0,pn=null,zi=!1,vo=Zt(i,o),gf=!1,bo=In=yf=kr=Fi=ht=0,rn=Va=null,xf=!1,(o&8)!==0&&(o|=o&32);var c=i.entangledLanes;if(c!==0)for(i=i.entanglements,c&=o;0<c;){var p=31-Ae(c),b=1<<p;o|=i[p],c&=~b}return bi=o,Js(),s}function uy(i,o){Pe=null,$.H=gl,o===ya||o===al?(o=Ep(),Je=3):o===Cp?(o=Ep(),Je=4):Je=o===Mg?8:o!==null&&typeof o=="object"&&typeof o.then=="function"?6:1,pn=o,je===null&&(ht=1,Tl(i,wn(o,i.current)))}function cy(){var i=$.H;return $.H=gl,i===null?gl:i}function fy(){var i=$.A;return $.A=uw,i}function wf(){ht=4,zi||(He&4194048)!==He&&kn.current!==null||(vo=!0),(Fi&134217727)===0&&(kr&134217727)===0||rt===null||Gi(rt,He,In,!1)}function Af(i,o,s){var c=Qe;Qe|=2;var p=cy(),b=fy();(rt!==i||He!==o)&&(kl=null,Co(i,o)),o=!1;var w=ht;e:do try{if(Je!==0&&je!==null){var E=je,V=pn;switch(Je){case 8:Cf(),w=6;break e;case 3:case 2:case 9:case 6:kn.current===null&&(o=!0);var K=Je;if(Je=0,pn=null,wo(i,E,V,K),s&&vo){w=0;break e}break;default:K=Je,Je=0,pn=null,wo(i,E,V,K)}}dw(),w=ht;break}catch(ne){uy(i,ne)}while(!0);return o&&i.shellSuspendCounter++,di=Sr=null,Qe=c,$.H=p,$.A=b,je===null&&(rt=null,He=0,Js()),w}function dw(){for(;je!==null;)dy(je)}function hw(i,o){var s=Qe;Qe|=2;var c=cy(),p=fy();rt!==i||He!==o?(kl=null,Ml=ft()+500,Co(i,o)):vo=Zt(i,o);e:do try{if(Je!==0&&je!==null){o=je;var b=pn;t:switch(Je){case 1:Je=0,pn=null,wo(i,o,b,1);break;case 2:case 9:if(wp(b)){Je=0,pn=null,hy(o);break}o=function(){Je!==2&&Je!==9||rt!==i||(Je=7),Qn(i)},b.then(o,o);break e;case 3:Je=7;break e;case 4:Je=5;break e;case 7:wp(b)?(Je=0,pn=null,hy(o)):(Je=0,pn=null,wo(i,o,b,7));break;case 5:var w=null;switch(je.tag){case 26:w=je.memoizedState;case 5:case 27:var E=je;if(!w||Ky(w)){Je=0,pn=null;var V=E.sibling;if(V!==null)je=V;else{var K=E.return;K!==null?(je=K,Nl(K)):je=null}break t}}Je=0,pn=null,wo(i,o,b,5);break;case 6:Je=0,pn=null,wo(i,o,b,6);break;case 8:Cf(),ht=6;break e;default:throw Error(r(462))}}mw();break}catch(ne){uy(i,ne)}while(!0);return di=Sr=null,$.H=c,$.A=p,Qe=s,je!==null?0:(rt=null,He=0,Js(),ht)}function mw(){for(;je!==null&&!_t();)dy(je)}function dy(i){var o=Og(i.alternate,i,bi);i.memoizedProps=i.pendingProps,o===null?Nl(i):je=o}function hy(i){var o=i,s=o.alternate;switch(o.tag){case 15:case 0:o=_g(s,o,o.pendingProps,o.type,void 0,He);break;case 11:o=_g(s,o,o.pendingProps,o.type.render,o.ref,He);break;case 5:Oc(o);default:Fg(s,o),o=je=mp(o,bi),o=Og(s,o,bi)}i.memoizedProps=i.pendingProps,o===null?Nl(i):je=o}function wo(i,o,s,c){di=Sr=null,Oc(o),po=null,Ea=0;var p=o.return;try{if(iw(i,p,o,s,He)){ht=1,Tl(i,wn(s,i.current)),je=null;return}}catch(b){if(p!==null)throw je=p,b;ht=1,Tl(i,wn(s,i.current)),je=null;return}o.flags&32768?(Ke||c===1?i=!0:vo||(He&536870912)!==0?i=!1:(zi=i=!0,(c===2||c===9||c===3||c===6)&&(c=kn.current,c!==null&&c.tag===13&&(c.flags|=16384))),my(o,i)):Nl(o)}function Nl(i){var o=i;do{if((o.flags&32768)!==0){my(o,zi);return}i=o.return;var s=ow(o.alternate,o,bi);if(s!==null){je=s;return}if(o=o.sibling,o!==null){je=o;return}je=o=i}while(o!==null);ht===0&&(ht=5)}function my(i,o){do{var s=aw(i.alternate,i);if(s!==null){s.flags&=32767,je=s;return}if(s=i.return,s!==null&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!o&&(i=i.sibling,i!==null)){je=i;return}je=i=s}while(i!==null);ht=6,je=null}function py(i,o,s,c,p,b,w,E,V){i.cancelPendingCommit=null;do Dl();while(Pt!==0);if((Qe&6)!==0)throw Error(r(327));if(o!==null){if(o===i.current)throw Error(r(177));if(b=o.lanes|o.childLanes,b|=mc,ge(i,s,b,w,E,V),i===rt&&(je=rt=null,He=0),To=o,Hi=i,So=s,bf=b,Tf=p,oy=c,(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,xw(ri,function(){return by(),null})):(i.callbackNode=null,i.callbackPriority=0),c=(o.flags&13878)!==0,(o.subtreeFlags&13878)!==0||c){c=$.T,$.T=null,p=L.p,L.p=2,w=Qe,Qe|=4;try{sw(i,o,s)}finally{Qe=w,L.p=p,$.T=c}}Pt=1,gy(),yy(),xy()}}function gy(){if(Pt===1){Pt=0;var i=Hi,o=To,s=(o.flags&13878)!==0;if((o.subtreeFlags&13878)!==0||s){s=$.T,$.T=null;var c=L.p;L.p=2;var p=Qe;Qe|=4;try{Zg(o,i);var b=Bf,w=rp(i.containerInfo),E=b.focusedElem,V=b.selectionRange;if(w!==E&&E&&E.ownerDocument&&ip(E.ownerDocument.documentElement,E)){if(V!==null&&uc(E)){var K=V.start,ne=V.end;if(ne===void 0&&(ne=K),"selectionStart"in E)E.selectionStart=K,E.selectionEnd=Math.min(ne,E.value.length);else{var se=E.ownerDocument||document,X=se&&se.defaultView||window;if(X.getSelection){var Q=X.getSelection(),ke=E.textContent.length,Ee=Math.min(V.start,ke),tt=V.end===void 0?Ee:Math.min(V.end,ke);!Q.extend&&Ee>tt&&(w=tt,tt=Ee,Ee=w);var G=np(E,Ee),z=np(E,tt);if(G&&z&&(Q.rangeCount!==1||Q.anchorNode!==G.node||Q.anchorOffset!==G.offset||Q.focusNode!==z.node||Q.focusOffset!==z.offset)){var Y=se.createRange();Y.setStart(G.node,G.offset),Q.removeAllRanges(),Ee>tt?(Q.addRange(Y),Q.extend(z.node,z.offset)):(Y.setEnd(z.node,z.offset),Q.addRange(Y))}}}}for(se=[],Q=E;Q=Q.parentNode;)Q.nodeType===1&&se.push({element:Q,left:Q.scrollLeft,top:Q.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<se.length;E++){var oe=se[E];oe.element.scrollLeft=oe.left,oe.element.scrollTop=oe.top}}Hl=!!Lf,Bf=Lf=null}finally{Qe=p,L.p=c,$.T=s}}i.current=o,Pt=2}}function yy(){if(Pt===2){Pt=0;var i=Hi,o=To,s=(o.flags&8772)!==0;if((o.subtreeFlags&8772)!==0||s){s=$.T,$.T=null;var c=L.p;L.p=2;var p=Qe;Qe|=4;try{Kg(i,o.alternate,o)}finally{Qe=p,L.p=c,$.T=s}}Pt=3}}function xy(){if(Pt===4||Pt===3){Pt=0,bt();var i=Hi,o=To,s=So,c=oy;(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?Pt=5:(Pt=0,To=Hi=null,vy(i,i.pendingLanes));var p=i.pendingLanes;if(p===0&&(Ui=null),at(s),o=o.stateNode,ce&&typeof ce.onCommitFiberRoot=="function")try{ce.onCommitFiberRoot(ee,o,void 0,(o.current.flags&128)===128)}catch{}if(c!==null){o=$.T,p=L.p,L.p=2,$.T=null;try{for(var b=i.onRecoverableError,w=0;w<c.length;w++){var E=c[w];b(E.value,{componentStack:E.stack})}}finally{$.T=o,L.p=p}}(So&3)!==0&&Dl(),Qn(i),p=i.pendingLanes,(s&4194090)!==0&&(p&42)!==0?i===Sf?Pa++:(Pa=0,Sf=i):Pa=0,La(0)}}function vy(i,o){(i.pooledCacheLanes&=o)===0&&(o=i.pooledCache,o!=null&&(i.pooledCache=null,pa(o)))}function Dl(i){return gy(),yy(),xy(),by()}function by(){if(Pt!==5)return!1;var i=Hi,o=bf;bf=0;var s=at(So),c=$.T,p=L.p;try{L.p=32>s?32:s,$.T=null,s=Tf,Tf=null;var b=Hi,w=So;if(Pt=0,To=Hi=null,So=0,(Qe&6)!==0)throw Error(r(331));var E=Qe;if(Qe|=4,iy(b.current),ey(b,b.current,w,s),Qe=E,La(0,!1),ce&&typeof ce.onPostCommitFiberRoot=="function")try{ce.onPostCommitFiberRoot(ee,b)}catch{}return!0}finally{L.p=p,$.T=c,vy(i,o)}}function Ty(i,o,s){o=wn(s,o),o=Wc(i.stateNode,o,2),i=_i(i,o,2),i!==null&&(Z(i,2),Qn(i))}function nt(i,o,s){if(i.tag===3)Ty(i,i,s);else for(;o!==null;){if(o.tag===3){Ty(o,i,s);break}else if(o.tag===1){var c=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(Ui===null||!Ui.has(c))){i=wn(s,i),s=Ag(2),c=_i(o,s,2),c!==null&&(Eg(s,c,o,i),Z(c,2),Qn(c));break}}o=o.return}}function Ef(i,o,s){var c=i.pingCache;if(c===null){c=i.pingCache=new cw;var p=new Set;c.set(o,p)}else p=c.get(o),p===void 0&&(p=new Set,c.set(o,p));p.has(s)||(gf=!0,p.add(s),i=pw.bind(null,i,o,s),o.then(i,i))}function pw(i,o,s){var c=i.pingCache;c!==null&&c.delete(o),i.pingedLanes|=i.suspendedLanes&s,i.warmLanes&=~s,rt===i&&(He&s)===s&&(ht===4||ht===3&&(He&62914560)===He&&300>ft()-vf?(Qe&2)===0&&Co(i,0):yf|=s,bo===He&&(bo=0)),Qn(i)}function Sy(i,o){o===0&&(o=Jo()),i=ro(i,o),i!==null&&(Z(i,o),Qn(i))}function gw(i){var o=i.memoizedState,s=0;o!==null&&(s=o.retryLane),Sy(i,s)}function yw(i,o){var s=0;switch(i.tag){case 13:var c=i.stateNode,p=i.memoizedState;p!==null&&(s=p.retryLane);break;case 19:c=i.stateNode;break;case 22:c=i.stateNode._retryCache;break;default:throw Error(r(314))}c!==null&&c.delete(o),Sy(i,s)}function xw(i,o){return Ve(i,o)}var Rl=null,Ao=null,Mf=!1,_l=!1,kf=!1,Ir=0;function Qn(i){i!==Ao&&i.next===null&&(Ao===null?Rl=Ao=i:Ao=Ao.next=i),_l=!0,Mf||(Mf=!0,bw())}function La(i,o){if(!kf&&_l){kf=!0;do for(var s=!1,c=Rl;c!==null;){if(i!==0){var p=c.pendingLanes;if(p===0)var b=0;else{var w=c.suspendedLanes,E=c.pingedLanes;b=(1<<31-Ae(42|i)+1)-1,b&=p&~(w&~E),b=b&201326741?b&201326741|1:b?b|2:0}b!==0&&(s=!0,Ey(c,b))}else b=He,b=gt(c,c===rt?b:0,c.cancelPendingCommit!==null||c.timeoutHandle!==-1),(b&3)===0||Zt(c,b)||(s=!0,Ey(c,b));c=c.next}while(s);kf=!1}}function vw(){Cy()}function Cy(){_l=Mf=!1;var i=0;Ir!==0&&(kw()&&(i=Ir),Ir=0);for(var o=ft(),s=null,c=Rl;c!==null;){var p=c.next,b=wy(c,o);b===0?(c.next=null,s===null?Rl=p:s.next=p,p===null&&(Ao=s)):(s=c,(i!==0||(b&3)!==0)&&(_l=!0)),c=p}La(i)}function wy(i,o){for(var s=i.suspendedLanes,c=i.pingedLanes,p=i.expirationTimes,b=i.pendingLanes&-62914561;0<b;){var w=31-Ae(b),E=1<<w,V=p[w];V===-1?((E&s)===0||(E&c)!==0)&&(p[w]=un(E,o)):V<=o&&(i.expiredLanes|=E),b&=~E}if(o=rt,s=He,s=gt(i,i===o?s:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),c=i.callbackNode,s===0||i===o&&(Je===2||Je===9)||i.cancelPendingCommit!==null)return c!==null&&c!==null&&Fe(c),i.callbackNode=null,i.callbackPriority=0;if((s&3)===0||Zt(i,s)){if(o=s&-s,o===i.callbackPriority)return o;switch(c!==null&&Fe(c),at(s)){case 2:case 8:s=ii;break;case 32:s=ri;break;case 268435456:s=qr;break;default:s=ri}return c=Ay.bind(null,i),s=Ve(s,c),i.callbackPriority=o,i.callbackNode=s,o}return c!==null&&c!==null&&Fe(c),i.callbackPriority=2,i.callbackNode=null,2}function Ay(i,o){if(Pt!==0&&Pt!==5)return i.callbackNode=null,i.callbackPriority=0,null;var s=i.callbackNode;if(Dl()&&i.callbackNode!==s)return null;var c=He;return c=gt(i,i===rt?c:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),c===0?null:(sy(i,c,o),wy(i,ft()),i.callbackNode!=null&&i.callbackNode===s?Ay.bind(null,i):null)}function Ey(i,o){if(Dl())return null;sy(i,o,!0)}function bw(){Nw(function(){(Qe&6)!==0?Ve(Et,vw):Cy()})}function If(){return Ir===0&&(Ir=cn()),Ir}function My(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:Gs(""+i)}function ky(i,o){var s=o.ownerDocument.createElement("input");return s.name=o.name,s.value=o.value,i.id&&s.setAttribute("form",i.id),o.parentNode.insertBefore(s,o),i=new FormData(i),s.parentNode.removeChild(s),i}function Tw(i,o,s,c,p){if(o==="submit"&&s&&s.stateNode===p){var b=My((p[Ft]||null).action),w=c.submitter;w&&(o=(o=w[Ft]||null)?My(o.formAction):w.getAttribute("formAction"),o!==null&&(b=o,w=null));var E=new Ks("action","action",null,c,p);i.push({event:E,listeners:[{instance:null,listener:function(){if(c.defaultPrevented){if(Ir!==0){var V=w?ky(p,w):new FormData(p);Kc(s,{pending:!0,data:V,method:p.method,action:b},null,V)}}else typeof b=="function"&&(E.preventDefault(),V=w?ky(p,w):new FormData(p),Kc(s,{pending:!0,data:V,method:p.method,action:b},b,V))},currentTarget:p}]})}}for(var Nf=0;Nf<hc.length;Nf++){var Df=hc[Nf],Sw=Df.toLowerCase(),Cw=Df[0].toUpperCase()+Df.slice(1);jn(Sw,"on"+Cw)}jn(sp,"onAnimationEnd"),jn(lp,"onAnimationIteration"),jn(up,"onAnimationStart"),jn("dblclick","onDoubleClick"),jn("focusin","onFocus"),jn("focusout","onBlur"),jn(zC,"onTransitionRun"),jn(FC,"onTransitionStart"),jn(UC,"onTransitionCancel"),jn(cp,"onTransitionEnd"),ki("onMouseEnter",["mouseout","mouseover"]),ki("onMouseLeave",["mouseout","mouseover"]),ki("onPointerEnter",["pointerout","pointerover"]),ki("onPointerLeave",["pointerout","pointerover"]),Bn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Bn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Bn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Bn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Bn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Bn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ba="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ww=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ba));function Iy(i,o){o=(o&4)!==0;for(var s=0;s<i.length;s++){var c=i[s],p=c.event;c=c.listeners;e:{var b=void 0;if(o)for(var w=c.length-1;0<=w;w--){var E=c[w],V=E.instance,K=E.currentTarget;if(E=E.listener,V!==b&&p.isPropagationStopped())break e;b=E,p.currentTarget=K;try{b(p)}catch(ne){bl(ne)}p.currentTarget=null,b=V}else for(w=0;w<c.length;w++){if(E=c[w],V=E.instance,K=E.currentTarget,E=E.listener,V!==b&&p.isPropagationStopped())break e;b=E,p.currentTarget=K;try{b(p)}catch(ne){bl(ne)}p.currentTarget=null,b=V}}}}function Oe(i,o){var s=o[Zo];s===void 0&&(s=o[Zo]=new Set);var c=i+"__bubble";s.has(c)||(Ny(o,i,2,!1),s.add(c))}function Rf(i,o,s){var c=0;o&&(c|=4),Ny(s,i,c,o)}var Vl="_reactListening"+Math.random().toString(36).slice(2);function _f(i){if(!i[Vl]){i[Vl]=!0,Wt.forEach(function(s){s!=="selectionchange"&&(ww.has(s)||Rf(s,!1,i),Rf(s,!0,i))});var o=i.nodeType===9?i:i.ownerDocument;o===null||o[Vl]||(o[Vl]=!0,Rf("selectionchange",!1,o))}}function Ny(i,o,s,c){switch(e0(o)){case 2:var p=Jw;break;case 8:p=Zw;break;default:p=Yf}s=p.bind(null,o,s,i),p=void 0,!ec||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(p=!0),c?p!==void 0?i.addEventListener(o,s,{capture:!0,passive:p}):i.addEventListener(o,s,!0):p!==void 0?i.addEventListener(o,s,{passive:p}):i.addEventListener(o,s,!1)}function Vf(i,o,s,c,p){var b=c;if((o&1)===0&&(o&2)===0&&c!==null)e:for(;;){if(c===null)return;var w=c.tag;if(w===3||w===4){var E=c.stateNode.containerInfo;if(E===p)break;if(w===4)for(w=c.return;w!==null;){var V=w.tag;if((V===3||V===4)&&w.stateNode.containerInfo===p)return;w=w.return}for(;E!==null;){if(w=Mi(E),w===null)return;if(V=w.tag,V===5||V===6||V===26||V===27){c=b=w;continue e}E=E.parentNode}}c=c.return}Bm(function(){var K=b,ne=Zu(s),se=[];e:{var X=fp.get(i);if(X!==void 0){var Q=Ks,ke=i;switch(i){case"keypress":if($s(s)===0)break e;case"keydown":case"keyup":Q=xC;break;case"focusin":ke="focus",Q=rc;break;case"focusout":ke="blur",Q=rc;break;case"beforeblur":case"afterblur":Q=rc;break;case"click":if(s.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Q=zm;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Q=aC;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Q=TC;break;case sp:case lp:case up:Q=uC;break;case cp:Q=CC;break;case"scroll":case"scrollend":Q=rC;break;case"wheel":Q=AC;break;case"copy":case"cut":case"paste":Q=fC;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Q=Um;break;case"toggle":case"beforetoggle":Q=MC}var Ee=(o&4)!==0,tt=!Ee&&(i==="scroll"||i==="scrollend"),G=Ee?X!==null?X+"Capture":null:X;Ee=[];for(var z=K,Y;z!==null;){var oe=z;if(Y=oe.stateNode,oe=oe.tag,oe!==5&&oe!==26&&oe!==27||Y===null||G===null||(oe=na(z,G),oe!=null&&Ee.push(ja(z,oe,Y))),tt)break;z=z.return}0<Ee.length&&(X=new Q(X,ke,null,s,ne),se.push({event:X,listeners:Ee}))}}if((o&7)===0){e:{if(X=i==="mouseover"||i==="pointerover",Q=i==="mouseout"||i==="pointerout",X&&s!==Ju&&(ke=s.relatedTarget||s.fromElement)&&(Mi(ke)||ke[Ei]))break e;if((Q||X)&&(X=ne.window===ne?ne:(X=ne.ownerDocument)?X.defaultView||X.parentWindow:window,Q?(ke=s.relatedTarget||s.toElement,Q=K,ke=ke?Mi(ke):null,ke!==null&&(tt=l(ke),Ee=ke.tag,ke!==tt||Ee!==5&&Ee!==27&&Ee!==6)&&(ke=null)):(Q=null,ke=K),Q!==ke)){if(Ee=zm,oe="onMouseLeave",G="onMouseEnter",z="mouse",(i==="pointerout"||i==="pointerover")&&(Ee=Um,oe="onPointerLeave",G="onPointerEnter",z="pointer"),tt=Q==null?X:fr(Q),Y=ke==null?X:fr(ke),X=new Ee(oe,z+"leave",Q,s,ne),X.target=tt,X.relatedTarget=Y,oe=null,Mi(ne)===K&&(Ee=new Ee(G,z+"enter",ke,s,ne),Ee.target=Y,Ee.relatedTarget=tt,oe=Ee),tt=oe,Q&&ke)t:{for(Ee=Q,G=ke,z=0,Y=Ee;Y;Y=Eo(Y))z++;for(Y=0,oe=G;oe;oe=Eo(oe))Y++;for(;0<z-Y;)Ee=Eo(Ee),z--;for(;0<Y-z;)G=Eo(G),Y--;for(;z--;){if(Ee===G||G!==null&&Ee===G.alternate)break t;Ee=Eo(Ee),G=Eo(G)}Ee=null}else Ee=null;Q!==null&&Dy(se,X,Q,Ee,!1),ke!==null&&tt!==null&&Dy(se,tt,ke,Ee,!0)}}e:{if(X=K?fr(K):window,Q=X.nodeName&&X.nodeName.toLowerCase(),Q==="select"||Q==="input"&&X.type==="file")var ve=Qm;else if(Km(X))if(Jm)ve=BC;else{ve=PC;var Be=VC}else Q=X.nodeName,!Q||Q.toLowerCase()!=="input"||X.type!=="checkbox"&&X.type!=="radio"?K&&Qu(K.elementType)&&(ve=Qm):ve=LC;if(ve&&(ve=ve(i,K))){Xm(se,ve,s,ne);break e}Be&&Be(i,X,K),i==="focusout"&&K&&X.type==="number"&&K.memoizedProps.value!=null&&Xu(X,"number",X.value)}switch(Be=K?fr(K):window,i){case"focusin":(Km(Be)||Be.contentEditable==="true")&&(to=Be,cc=K,ca=null);break;case"focusout":ca=cc=to=null;break;case"mousedown":fc=!0;break;case"contextmenu":case"mouseup":case"dragend":fc=!1,op(se,s,ne);break;case"selectionchange":if(OC)break;case"keydown":case"keyup":op(se,s,ne)}var Te;if(ac)e:{switch(i){case"compositionstart":var Me="onCompositionStart";break e;case"compositionend":Me="onCompositionEnd";break e;case"compositionupdate":Me="onCompositionUpdate";break e}Me=void 0}else eo?$m(i,s)&&(Me="onCompositionEnd"):i==="keydown"&&s.keyCode===229&&(Me="onCompositionStart");Me&&(Hm&&s.locale!=="ko"&&(eo||Me!=="onCompositionStart"?Me==="onCompositionEnd"&&eo&&(Te=jm()):(Ii=ne,tc="value"in Ii?Ii.value:Ii.textContent,eo=!0)),Be=Pl(K,Me),0<Be.length&&(Me=new Fm(Me,i,null,s,ne),se.push({event:Me,listeners:Be}),Te?Me.data=Te:(Te=Ym(s),Te!==null&&(Me.data=Te)))),(Te=IC?NC(i,s):DC(i,s))&&(Me=Pl(K,"onBeforeInput"),0<Me.length&&(Be=new Fm("onBeforeInput","beforeinput",null,s,ne),se.push({event:Be,listeners:Me}),Be.data=Te)),Tw(se,i,K,s,ne)}Iy(se,o)})}function ja(i,o,s){return{instance:i,listener:o,currentTarget:s}}function Pl(i,o){for(var s=o+"Capture",c=[];i!==null;){var p=i,b=p.stateNode;if(p=p.tag,p!==5&&p!==26&&p!==27||b===null||(p=na(i,s),p!=null&&c.unshift(ja(i,p,b)),p=na(i,o),p!=null&&c.push(ja(i,p,b))),i.tag===3)return c;i=i.return}return[]}function Eo(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function Dy(i,o,s,c,p){for(var b=o._reactName,w=[];s!==null&&s!==c;){var E=s,V=E.alternate,K=E.stateNode;if(E=E.tag,V!==null&&V===c)break;E!==5&&E!==26&&E!==27||K===null||(V=K,p?(K=na(s,b),K!=null&&w.unshift(ja(s,K,V))):p||(K=na(s,b),K!=null&&w.push(ja(s,K,V)))),s=s.return}w.length!==0&&i.push({event:o,listeners:w})}var Aw=/\r\n?/g,Ew=/\u0000|\uFFFD/g;function Ry(i){return(typeof i=="string"?i:""+i).replace(Aw,`
`).replace(Ew,"")}function _y(i,o){return o=Ry(o),Ry(i)===o}function Ll(){}function et(i,o,s,c,p,b){switch(s){case"children":typeof c=="string"?o==="body"||o==="textarea"&&c===""||Jr(i,c):(typeof c=="number"||typeof c=="bigint")&&o!=="body"&&Jr(i,""+c);break;case"className":Fs(i,"class",c);break;case"tabIndex":Fs(i,"tabindex",c);break;case"dir":case"role":case"viewBox":case"width":case"height":Fs(i,s,c);break;case"style":Pm(i,c,b);break;case"data":if(o!=="object"){Fs(i,"data",c);break}case"src":case"href":if(c===""&&(o!=="a"||s!=="href")){i.removeAttribute(s);break}if(c==null||typeof c=="function"||typeof c=="symbol"||typeof c=="boolean"){i.removeAttribute(s);break}c=Gs(""+c),i.setAttribute(s,c);break;case"action":case"formAction":if(typeof c=="function"){i.setAttribute(s,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof b=="function"&&(s==="formAction"?(o!=="input"&&et(i,o,"name",p.name,p,null),et(i,o,"formEncType",p.formEncType,p,null),et(i,o,"formMethod",p.formMethod,p,null),et(i,o,"formTarget",p.formTarget,p,null)):(et(i,o,"encType",p.encType,p,null),et(i,o,"method",p.method,p,null),et(i,o,"target",p.target,p,null)));if(c==null||typeof c=="symbol"||typeof c=="boolean"){i.removeAttribute(s);break}c=Gs(""+c),i.setAttribute(s,c);break;case"onClick":c!=null&&(i.onclick=Ll);break;case"onScroll":c!=null&&Oe("scroll",i);break;case"onScrollEnd":c!=null&&Oe("scrollend",i);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(r(61));if(s=c.__html,s!=null){if(p.children!=null)throw Error(r(60));i.innerHTML=s}}break;case"multiple":i.multiple=c&&typeof c!="function"&&typeof c!="symbol";break;case"muted":i.muted=c&&typeof c!="function"&&typeof c!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(c==null||typeof c=="function"||typeof c=="boolean"||typeof c=="symbol"){i.removeAttribute("xlink:href");break}s=Gs(""+c),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":c!=null&&typeof c!="function"&&typeof c!="symbol"?i.setAttribute(s,""+c):i.removeAttribute(s);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":c&&typeof c!="function"&&typeof c!="symbol"?i.setAttribute(s,""):i.removeAttribute(s);break;case"capture":case"download":c===!0?i.setAttribute(s,""):c!==!1&&c!=null&&typeof c!="function"&&typeof c!="symbol"?i.setAttribute(s,c):i.removeAttribute(s);break;case"cols":case"rows":case"size":case"span":c!=null&&typeof c!="function"&&typeof c!="symbol"&&!isNaN(c)&&1<=c?i.setAttribute(s,c):i.removeAttribute(s);break;case"rowSpan":case"start":c==null||typeof c=="function"||typeof c=="symbol"||isNaN(c)?i.removeAttribute(s):i.setAttribute(s,c);break;case"popover":Oe("beforetoggle",i),Oe("toggle",i),zs(i,"popover",c);break;case"xlinkActuate":si(i,"http://www.w3.org/1999/xlink","xlink:actuate",c);break;case"xlinkArcrole":si(i,"http://www.w3.org/1999/xlink","xlink:arcrole",c);break;case"xlinkRole":si(i,"http://www.w3.org/1999/xlink","xlink:role",c);break;case"xlinkShow":si(i,"http://www.w3.org/1999/xlink","xlink:show",c);break;case"xlinkTitle":si(i,"http://www.w3.org/1999/xlink","xlink:title",c);break;case"xlinkType":si(i,"http://www.w3.org/1999/xlink","xlink:type",c);break;case"xmlBase":si(i,"http://www.w3.org/XML/1998/namespace","xml:base",c);break;case"xmlLang":si(i,"http://www.w3.org/XML/1998/namespace","xml:lang",c);break;case"xmlSpace":si(i,"http://www.w3.org/XML/1998/namespace","xml:space",c);break;case"is":zs(i,"is",c);break;case"innerText":case"textContent":break;default:(!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(s=nC.get(s)||s,zs(i,s,c))}}function Pf(i,o,s,c,p,b){switch(s){case"style":Pm(i,c,b);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(r(61));if(s=c.__html,s!=null){if(p.children!=null)throw Error(r(60));i.innerHTML=s}}break;case"children":typeof c=="string"?Jr(i,c):(typeof c=="number"||typeof c=="bigint")&&Jr(i,""+c);break;case"onScroll":c!=null&&Oe("scroll",i);break;case"onScrollEnd":c!=null&&Oe("scrollend",i);break;case"onClick":c!=null&&(i.onclick=Ll);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ai.hasOwnProperty(s))e:{if(s[0]==="o"&&s[1]==="n"&&(p=s.endsWith("Capture"),o=s.slice(2,p?s.length-7:void 0),b=i[Ft]||null,b=b!=null?b[s]:null,typeof b=="function"&&i.removeEventListener(o,b,p),typeof c=="function")){typeof b!="function"&&b!==null&&(s in i?i[s]=null:i.hasAttribute(s)&&i.removeAttribute(s)),i.addEventListener(o,c,p);break e}s in i?i[s]=c:c===!0?i.setAttribute(s,""):zs(i,s,c)}}}function Lt(i,o,s){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Oe("error",i),Oe("load",i);var c=!1,p=!1,b;for(b in s)if(s.hasOwnProperty(b)){var w=s[b];if(w!=null)switch(b){case"src":c=!0;break;case"srcSet":p=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,o));default:et(i,o,b,w,s,null)}}p&&et(i,o,"srcSet",s.srcSet,s,null),c&&et(i,o,"src",s.src,s,null);return;case"input":Oe("invalid",i);var E=b=w=p=null,V=null,K=null;for(c in s)if(s.hasOwnProperty(c)){var ne=s[c];if(ne!=null)switch(c){case"name":p=ne;break;case"type":w=ne;break;case"checked":V=ne;break;case"defaultChecked":K=ne;break;case"value":b=ne;break;case"defaultValue":E=ne;break;case"children":case"dangerouslySetInnerHTML":if(ne!=null)throw Error(r(137,o));break;default:et(i,o,c,ne,s,null)}}Dm(i,b,E,V,K,w,p,!1),Us(i);return;case"select":Oe("invalid",i),c=w=b=null;for(p in s)if(s.hasOwnProperty(p)&&(E=s[p],E!=null))switch(p){case"value":b=E;break;case"defaultValue":w=E;break;case"multiple":c=E;default:et(i,o,p,E,s,null)}o=b,s=w,i.multiple=!!c,o!=null?Qr(i,!!c,o,!1):s!=null&&Qr(i,!!c,s,!0);return;case"textarea":Oe("invalid",i),b=p=c=null;for(w in s)if(s.hasOwnProperty(w)&&(E=s[w],E!=null))switch(w){case"value":c=E;break;case"defaultValue":p=E;break;case"children":b=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(r(91));break;default:et(i,o,w,E,s,null)}_m(i,c,p,b),Us(i);return;case"option":for(V in s)if(s.hasOwnProperty(V)&&(c=s[V],c!=null))switch(V){case"selected":i.selected=c&&typeof c!="function"&&typeof c!="symbol";break;default:et(i,o,V,c,s,null)}return;case"dialog":Oe("beforetoggle",i),Oe("toggle",i),Oe("cancel",i),Oe("close",i);break;case"iframe":case"object":Oe("load",i);break;case"video":case"audio":for(c=0;c<Ba.length;c++)Oe(Ba[c],i);break;case"image":Oe("error",i),Oe("load",i);break;case"details":Oe("toggle",i);break;case"embed":case"source":case"link":Oe("error",i),Oe("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(K in s)if(s.hasOwnProperty(K)&&(c=s[K],c!=null))switch(K){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,o));default:et(i,o,K,c,s,null)}return;default:if(Qu(o)){for(ne in s)s.hasOwnProperty(ne)&&(c=s[ne],c!==void 0&&Pf(i,o,ne,c,s,void 0));return}}for(E in s)s.hasOwnProperty(E)&&(c=s[E],c!=null&&et(i,o,E,c,s,null))}function Mw(i,o,s,c){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var p=null,b=null,w=null,E=null,V=null,K=null,ne=null;for(Q in s){var se=s[Q];if(s.hasOwnProperty(Q)&&se!=null)switch(Q){case"checked":break;case"value":break;case"defaultValue":V=se;default:c.hasOwnProperty(Q)||et(i,o,Q,null,c,se)}}for(var X in c){var Q=c[X];if(se=s[X],c.hasOwnProperty(X)&&(Q!=null||se!=null))switch(X){case"type":b=Q;break;case"name":p=Q;break;case"checked":K=Q;break;case"defaultChecked":ne=Q;break;case"value":w=Q;break;case"defaultValue":E=Q;break;case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(r(137,o));break;default:Q!==se&&et(i,o,X,Q,c,se)}}Ku(i,w,E,V,K,ne,b,p);return;case"select":Q=w=E=X=null;for(b in s)if(V=s[b],s.hasOwnProperty(b)&&V!=null)switch(b){case"value":break;case"multiple":Q=V;default:c.hasOwnProperty(b)||et(i,o,b,null,c,V)}for(p in c)if(b=c[p],V=s[p],c.hasOwnProperty(p)&&(b!=null||V!=null))switch(p){case"value":X=b;break;case"defaultValue":E=b;break;case"multiple":w=b;default:b!==V&&et(i,o,p,b,c,V)}o=E,s=w,c=Q,X!=null?Qr(i,!!s,X,!1):!!c!=!!s&&(o!=null?Qr(i,!!s,o,!0):Qr(i,!!s,s?[]:"",!1));return;case"textarea":Q=X=null;for(E in s)if(p=s[E],s.hasOwnProperty(E)&&p!=null&&!c.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:et(i,o,E,null,c,p)}for(w in c)if(p=c[w],b=s[w],c.hasOwnProperty(w)&&(p!=null||b!=null))switch(w){case"value":X=p;break;case"defaultValue":Q=p;break;case"children":break;case"dangerouslySetInnerHTML":if(p!=null)throw Error(r(91));break;default:p!==b&&et(i,o,w,p,c,b)}Rm(i,X,Q);return;case"option":for(var ke in s)if(X=s[ke],s.hasOwnProperty(ke)&&X!=null&&!c.hasOwnProperty(ke))switch(ke){case"selected":i.selected=!1;break;default:et(i,o,ke,null,c,X)}for(V in c)if(X=c[V],Q=s[V],c.hasOwnProperty(V)&&X!==Q&&(X!=null||Q!=null))switch(V){case"selected":i.selected=X&&typeof X!="function"&&typeof X!="symbol";break;default:et(i,o,V,X,c,Q)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ee in s)X=s[Ee],s.hasOwnProperty(Ee)&&X!=null&&!c.hasOwnProperty(Ee)&&et(i,o,Ee,null,c,X);for(K in c)if(X=c[K],Q=s[K],c.hasOwnProperty(K)&&X!==Q&&(X!=null||Q!=null))switch(K){case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(r(137,o));break;default:et(i,o,K,X,c,Q)}return;default:if(Qu(o)){for(var tt in s)X=s[tt],s.hasOwnProperty(tt)&&X!==void 0&&!c.hasOwnProperty(tt)&&Pf(i,o,tt,void 0,c,X);for(ne in c)X=c[ne],Q=s[ne],!c.hasOwnProperty(ne)||X===Q||X===void 0&&Q===void 0||Pf(i,o,ne,X,c,Q);return}}for(var G in s)X=s[G],s.hasOwnProperty(G)&&X!=null&&!c.hasOwnProperty(G)&&et(i,o,G,null,c,X);for(se in c)X=c[se],Q=s[se],!c.hasOwnProperty(se)||X===Q||X==null&&Q==null||et(i,o,se,X,c,Q)}var Lf=null,Bf=null;function Bl(i){return i.nodeType===9?i:i.ownerDocument}function Vy(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Py(i,o){if(i===0)switch(o){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&o==="foreignObject"?0:i}function jf(i,o){return i==="textarea"||i==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.children=="bigint"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var Of=null;function kw(){var i=window.event;return i&&i.type==="popstate"?i===Of?!1:(Of=i,!0):(Of=null,!1)}var Ly=typeof setTimeout=="function"?setTimeout:void 0,Iw=typeof clearTimeout=="function"?clearTimeout:void 0,By=typeof Promise=="function"?Promise:void 0,Nw=typeof queueMicrotask=="function"?queueMicrotask:typeof By<"u"?function(i){return By.resolve(null).then(i).catch(Dw)}:Ly;function Dw(i){setTimeout(function(){throw i})}function qi(i){return i==="head"}function jy(i,o){var s=o,c=0,p=0;do{var b=s.nextSibling;if(i.removeChild(s),b&&b.nodeType===8)if(s=b.data,s==="/$"){if(0<c&&8>c){s=c;var w=i.ownerDocument;if(s&1&&Oa(w.documentElement),s&2&&Oa(w.body),s&4)for(s=w.head,Oa(s),w=s.firstChild;w;){var E=w.nextSibling,V=w.nodeName;w[cr]||V==="SCRIPT"||V==="STYLE"||V==="LINK"&&w.rel.toLowerCase()==="stylesheet"||s.removeChild(w),w=E}}if(p===0){i.removeChild(b),Ya(o);return}p--}else s==="$"||s==="$?"||s==="$!"?p++:c=s.charCodeAt(0)-48;else c=0;s=b}while(s);Ya(o)}function zf(i){var o=i.firstChild;for(o&&o.nodeType===10&&(o=o.nextSibling);o;){var s=o;switch(o=o.nextSibling,s.nodeName){case"HTML":case"HEAD":case"BODY":zf(s),Wo(s);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(s.rel.toLowerCase()==="stylesheet")continue}i.removeChild(s)}}function Rw(i,o,s,c){for(;i.nodeType===1;){var p=s;if(i.nodeName.toLowerCase()!==o.toLowerCase()){if(!c&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(c){if(!i[cr])switch(o){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(b=i.getAttribute("rel"),b==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(b!==p.rel||i.getAttribute("href")!==(p.href==null||p.href===""?null:p.href)||i.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin)||i.getAttribute("title")!==(p.title==null?null:p.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(b=i.getAttribute("src"),(b!==(p.src==null?null:p.src)||i.getAttribute("type")!==(p.type==null?null:p.type)||i.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin))&&b&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(o==="input"&&i.type==="hidden"){var b=p.name==null?null:""+p.name;if(p.type==="hidden"&&i.getAttribute("name")===b)return i}else return i;if(i=zn(i.nextSibling),i===null)break}return null}function _w(i,o,s){if(o==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!s||(i=zn(i.nextSibling),i===null))return null;return i}function Ff(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState==="complete"}function Vw(i,o){var s=i.ownerDocument;if(i.data!=="$?"||s.readyState==="complete")o();else{var c=function(){o(),s.removeEventListener("DOMContentLoaded",c)};s.addEventListener("DOMContentLoaded",c),i._reactRetry=c}}function zn(i){for(;i!=null;i=i.nextSibling){var o=i.nodeType;if(o===1||o===3)break;if(o===8){if(o=i.data,o==="$"||o==="$!"||o==="$?"||o==="F!"||o==="F")break;if(o==="/$")return null}}return i}var Uf=null;function Oy(i){i=i.previousSibling;for(var o=0;i;){if(i.nodeType===8){var s=i.data;if(s==="$"||s==="$!"||s==="$?"){if(o===0)return i;o--}else s==="/$"&&o++}i=i.previousSibling}return null}function zy(i,o,s){switch(o=Bl(s),i){case"html":if(i=o.documentElement,!i)throw Error(r(452));return i;case"head":if(i=o.head,!i)throw Error(r(453));return i;case"body":if(i=o.body,!i)throw Error(r(454));return i;default:throw Error(r(451))}}function Oa(i){for(var o=i.attributes;o.length;)i.removeAttributeNode(o[0]);Wo(i)}var Nn=new Map,Fy=new Set;function jl(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var Ti=L.d;L.d={f:Pw,r:Lw,D:Bw,C:jw,L:Ow,m:zw,X:Uw,S:Fw,M:Hw};function Pw(){var i=Ti.f(),o=Il();return i||o}function Lw(i){var o=oi(i);o!==null&&o.tag===5&&o.type==="form"?sg(o):Ti.r(i)}var Mo=typeof document>"u"?null:document;function Uy(i,o,s){var c=Mo;if(c&&typeof o=="string"&&o){var p=Cn(o);p='link[rel="'+i+'"][href="'+p+'"]',typeof s=="string"&&(p+='[crossorigin="'+s+'"]'),Fy.has(p)||(Fy.add(p),i={rel:i,crossOrigin:s,href:o},c.querySelector(p)===null&&(o=c.createElement("link"),Lt(o,"link",i),Tt(o),c.head.appendChild(o)))}}function Bw(i){Ti.D(i),Uy("dns-prefetch",i,null)}function jw(i,o){Ti.C(i,o),Uy("preconnect",i,o)}function Ow(i,o,s){Ti.L(i,o,s);var c=Mo;if(c&&i&&o){var p='link[rel="preload"][as="'+Cn(o)+'"]';o==="image"&&s&&s.imageSrcSet?(p+='[imagesrcset="'+Cn(s.imageSrcSet)+'"]',typeof s.imageSizes=="string"&&(p+='[imagesizes="'+Cn(s.imageSizes)+'"]')):p+='[href="'+Cn(i)+'"]';var b=p;switch(o){case"style":b=ko(i);break;case"script":b=Io(i)}Nn.has(b)||(i=m({rel:"preload",href:o==="image"&&s&&s.imageSrcSet?void 0:i,as:o},s),Nn.set(b,i),c.querySelector(p)!==null||o==="style"&&c.querySelector(za(b))||o==="script"&&c.querySelector(Fa(b))||(o=c.createElement("link"),Lt(o,"link",i),Tt(o),c.head.appendChild(o)))}}function zw(i,o){Ti.m(i,o);var s=Mo;if(s&&i){var c=o&&typeof o.as=="string"?o.as:"script",p='link[rel="modulepreload"][as="'+Cn(c)+'"][href="'+Cn(i)+'"]',b=p;switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":b=Io(i)}if(!Nn.has(b)&&(i=m({rel:"modulepreload",href:i},o),Nn.set(b,i),s.querySelector(p)===null)){switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(s.querySelector(Fa(b)))return}c=s.createElement("link"),Lt(c,"link",i),Tt(c),s.head.appendChild(c)}}}function Fw(i,o,s){Ti.S(i,o,s);var c=Mo;if(c&&i){var p=dr(c).hoistableStyles,b=ko(i);o=o||"default";var w=p.get(b);if(!w){var E={loading:0,preload:null};if(w=c.querySelector(za(b)))E.loading=5;else{i=m({rel:"stylesheet",href:i,"data-precedence":o},s),(s=Nn.get(b))&&Hf(i,s);var V=w=c.createElement("link");Tt(V),Lt(V,"link",i),V._p=new Promise(function(K,ne){V.onload=K,V.onerror=ne}),V.addEventListener("load",function(){E.loading|=1}),V.addEventListener("error",function(){E.loading|=2}),E.loading|=4,Ol(w,o,c)}w={type:"stylesheet",instance:w,count:1,state:E},p.set(b,w)}}}function Uw(i,o){Ti.X(i,o);var s=Mo;if(s&&i){var c=dr(s).hoistableScripts,p=Io(i),b=c.get(p);b||(b=s.querySelector(Fa(p)),b||(i=m({src:i,async:!0},o),(o=Nn.get(p))&&Gf(i,o),b=s.createElement("script"),Tt(b),Lt(b,"link",i),s.head.appendChild(b)),b={type:"script",instance:b,count:1,state:null},c.set(p,b))}}function Hw(i,o){Ti.M(i,o);var s=Mo;if(s&&i){var c=dr(s).hoistableScripts,p=Io(i),b=c.get(p);b||(b=s.querySelector(Fa(p)),b||(i=m({src:i,async:!0,type:"module"},o),(o=Nn.get(p))&&Gf(i,o),b=s.createElement("script"),Tt(b),Lt(b,"link",i),s.head.appendChild(b)),b={type:"script",instance:b,count:1,state:null},c.set(p,b))}}function Hy(i,o,s,c){var p=(p=re.current)?jl(p):null;if(!p)throw Error(r(446));switch(i){case"meta":case"title":return null;case"style":return typeof s.precedence=="string"&&typeof s.href=="string"?(o=ko(s.href),s=dr(p).hoistableStyles,c=s.get(o),c||(c={type:"style",instance:null,count:0,state:null},s.set(o,c)),c):{type:"void",instance:null,count:0,state:null};case"link":if(s.rel==="stylesheet"&&typeof s.href=="string"&&typeof s.precedence=="string"){i=ko(s.href);var b=dr(p).hoistableStyles,w=b.get(i);if(w||(p=p.ownerDocument||p,w={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},b.set(i,w),(b=p.querySelector(za(i)))&&!b._p&&(w.instance=b,w.state.loading=5),Nn.has(i)||(s={rel:"preload",as:"style",href:s.href,crossOrigin:s.crossOrigin,integrity:s.integrity,media:s.media,hrefLang:s.hrefLang,referrerPolicy:s.referrerPolicy},Nn.set(i,s),b||Gw(p,i,s,w.state))),o&&c===null)throw Error(r(528,""));return w}if(o&&c!==null)throw Error(r(529,""));return null;case"script":return o=s.async,s=s.src,typeof s=="string"&&o&&typeof o!="function"&&typeof o!="symbol"?(o=Io(s),s=dr(p).hoistableScripts,c=s.get(o),c||(c={type:"script",instance:null,count:0,state:null},s.set(o,c)),c):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,i))}}function ko(i){return'href="'+Cn(i)+'"'}function za(i){return'link[rel="stylesheet"]['+i+"]"}function Gy(i){return m({},i,{"data-precedence":i.precedence,precedence:null})}function Gw(i,o,s,c){i.querySelector('link[rel="preload"][as="style"]['+o+"]")?c.loading=1:(o=i.createElement("link"),c.preload=o,o.addEventListener("load",function(){return c.loading|=1}),o.addEventListener("error",function(){return c.loading|=2}),Lt(o,"link",s),Tt(o),i.head.appendChild(o))}function Io(i){return'[src="'+Cn(i)+'"]'}function Fa(i){return"script[async]"+i}function qy(i,o,s){if(o.count++,o.instance===null)switch(o.type){case"style":var c=i.querySelector('style[data-href~="'+Cn(s.href)+'"]');if(c)return o.instance=c,Tt(c),c;var p=m({},s,{"data-href":s.href,"data-precedence":s.precedence,href:null,precedence:null});return c=(i.ownerDocument||i).createElement("style"),Tt(c),Lt(c,"style",p),Ol(c,s.precedence,i),o.instance=c;case"stylesheet":p=ko(s.href);var b=i.querySelector(za(p));if(b)return o.state.loading|=4,o.instance=b,Tt(b),b;c=Gy(s),(p=Nn.get(p))&&Hf(c,p),b=(i.ownerDocument||i).createElement("link"),Tt(b);var w=b;return w._p=new Promise(function(E,V){w.onload=E,w.onerror=V}),Lt(b,"link",c),o.state.loading|=4,Ol(b,s.precedence,i),o.instance=b;case"script":return b=Io(s.src),(p=i.querySelector(Fa(b)))?(o.instance=p,Tt(p),p):(c=s,(p=Nn.get(b))&&(c=m({},s),Gf(c,p)),i=i.ownerDocument||i,p=i.createElement("script"),Tt(p),Lt(p,"link",c),i.head.appendChild(p),o.instance=p);case"void":return null;default:throw Error(r(443,o.type))}else o.type==="stylesheet"&&(o.state.loading&4)===0&&(c=o.instance,o.state.loading|=4,Ol(c,s.precedence,i));return o.instance}function Ol(i,o,s){for(var c=s.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),p=c.length?c[c.length-1]:null,b=p,w=0;w<c.length;w++){var E=c[w];if(E.dataset.precedence===o)b=E;else if(b!==p)break}b?b.parentNode.insertBefore(i,b.nextSibling):(o=s.nodeType===9?s.head:s,o.insertBefore(i,o.firstChild))}function Hf(i,o){i.crossOrigin==null&&(i.crossOrigin=o.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=o.referrerPolicy),i.title==null&&(i.title=o.title)}function Gf(i,o){i.crossOrigin==null&&(i.crossOrigin=o.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=o.referrerPolicy),i.integrity==null&&(i.integrity=o.integrity)}var zl=null;function $y(i,o,s){if(zl===null){var c=new Map,p=zl=new Map;p.set(s,c)}else p=zl,c=p.get(s),c||(c=new Map,p.set(s,c));if(c.has(i))return c;for(c.set(i,null),s=s.getElementsByTagName(i),p=0;p<s.length;p++){var b=s[p];if(!(b[cr]||b[It]||i==="link"&&b.getAttribute("rel")==="stylesheet")&&b.namespaceURI!=="http://www.w3.org/2000/svg"){var w=b.getAttribute(o)||"";w=i+w;var E=c.get(w);E?E.push(b):c.set(w,[b])}}return c}function Yy(i,o,s){i=i.ownerDocument||i,i.head.insertBefore(s,o==="title"?i.querySelector("head > title"):null)}function qw(i,o,s){if(s===1||o.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof o.precedence!="string"||typeof o.href!="string"||o.href==="")break;return!0;case"link":if(typeof o.rel!="string"||typeof o.href!="string"||o.href===""||o.onLoad||o.onError)break;switch(o.rel){case"stylesheet":return i=o.disabled,typeof o.precedence=="string"&&i==null;default:return!0}case"script":if(o.async&&typeof o.async!="function"&&typeof o.async!="symbol"&&!o.onLoad&&!o.onError&&o.src&&typeof o.src=="string")return!0}return!1}function Ky(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}var Ua=null;function $w(){}function Yw(i,o,s){if(Ua===null)throw Error(r(475));var c=Ua;if(o.type==="stylesheet"&&(typeof s.media!="string"||matchMedia(s.media).matches!==!1)&&(o.state.loading&4)===0){if(o.instance===null){var p=ko(s.href),b=i.querySelector(za(p));if(b){i=b._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(c.count++,c=Fl.bind(c),i.then(c,c)),o.state.loading|=4,o.instance=b,Tt(b);return}b=i.ownerDocument||i,s=Gy(s),(p=Nn.get(p))&&Hf(s,p),b=b.createElement("link"),Tt(b);var w=b;w._p=new Promise(function(E,V){w.onload=E,w.onerror=V}),Lt(b,"link",s),o.instance=b}c.stylesheets===null&&(c.stylesheets=new Map),c.stylesheets.set(o,i),(i=o.state.preload)&&(o.state.loading&3)===0&&(c.count++,o=Fl.bind(c),i.addEventListener("load",o),i.addEventListener("error",o))}}function Kw(){if(Ua===null)throw Error(r(475));var i=Ua;return i.stylesheets&&i.count===0&&qf(i,i.stylesheets),0<i.count?function(o){var s=setTimeout(function(){if(i.stylesheets&&qf(i,i.stylesheets),i.unsuspend){var c=i.unsuspend;i.unsuspend=null,c()}},6e4);return i.unsuspend=o,function(){i.unsuspend=null,clearTimeout(s)}}:null}function Fl(){if(this.count--,this.count===0){if(this.stylesheets)qf(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var Ul=null;function qf(i,o){i.stylesheets=null,i.unsuspend!==null&&(i.count++,Ul=new Map,o.forEach(Xw,i),Ul=null,Fl.call(i))}function Xw(i,o){if(!(o.state.loading&4)){var s=Ul.get(i);if(s)var c=s.get(null);else{s=new Map,Ul.set(i,s);for(var p=i.querySelectorAll("link[data-precedence],style[data-precedence]"),b=0;b<p.length;b++){var w=p[b];(w.nodeName==="LINK"||w.getAttribute("media")!=="not all")&&(s.set(w.dataset.precedence,w),c=w)}c&&s.set(null,c)}p=o.instance,w=p.getAttribute("data-precedence"),b=s.get(w)||c,b===c&&s.set(null,p),s.set(w,p),this.count++,c=Fl.bind(this),p.addEventListener("load",c),p.addEventListener("error",c),b?b.parentNode.insertBefore(p,b.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(p,i.firstChild)),o.state.loading|=4}}var Ha={$$typeof:N,Provider:null,Consumer:null,_currentValue:D,_currentValue2:D,_threadCount:0};function Qw(i,o,s,c,p,b,w,E){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Yr(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Yr(0),this.hiddenUpdates=Yr(null),this.identifierPrefix=c,this.onUncaughtError=p,this.onCaughtError=b,this.onRecoverableError=w,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=E,this.incompleteTransitions=new Map}function Xy(i,o,s,c,p,b,w,E,V,K,ne,se){return i=new Qw(i,o,s,w,E,V,K,se),o=1,b===!0&&(o|=24),b=dn(3,null,null,o),i.current=b,b.stateNode=i,o=Ac(),o.refCount++,i.pooledCache=o,o.refCount++,b.memoizedState={element:c,isDehydrated:s,cache:o},Ic(b),i}function Qy(i){return i?(i=oo,i):oo}function Jy(i,o,s,c,p,b){p=Qy(p),c.context===null?c.context=p:c.pendingContext=p,c=Ri(o),c.payload={element:s},b=b===void 0?null:b,b!==null&&(c.callback=b),s=_i(i,c,o),s!==null&&(yn(s,i,o),va(s,i,o))}function Zy(i,o){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var s=i.retryLane;i.retryLane=s!==0&&s<o?s:o}}function $f(i,o){Zy(i,o),(i=i.alternate)&&Zy(i,o)}function Wy(i){if(i.tag===13){var o=ro(i,67108864);o!==null&&yn(o,i,67108864),$f(i,67108864)}}var Hl=!0;function Jw(i,o,s,c){var p=$.T;$.T=null;var b=L.p;try{L.p=2,Yf(i,o,s,c)}finally{L.p=b,$.T=p}}function Zw(i,o,s,c){var p=$.T;$.T=null;var b=L.p;try{L.p=8,Yf(i,o,s,c)}finally{L.p=b,$.T=p}}function Yf(i,o,s,c){if(Hl){var p=Kf(c);if(p===null)Vf(i,o,c,Gl,s),t0(i,c);else if(eA(p,i,o,s,c))c.stopPropagation();else if(t0(i,c),o&4&&-1<Ww.indexOf(i)){for(;p!==null;){var b=oi(p);if(b!==null)switch(b.tag){case 3:if(b=b.stateNode,b.current.memoizedState.isDehydrated){var w=Kt(b.pendingLanes);if(w!==0){var E=b;for(E.pendingLanes|=2,E.entangledLanes|=2;w;){var V=1<<31-Ae(w);E.entanglements[1]|=V,w&=~V}Qn(b),(Qe&6)===0&&(Ml=ft()+500,La(0))}}break;case 13:E=ro(b,2),E!==null&&yn(E,b,2),Il(),$f(b,2)}if(b=Kf(c),b===null&&Vf(i,o,c,Gl,s),b===p)break;p=b}p!==null&&c.stopPropagation()}else Vf(i,o,c,null,s)}}function Kf(i){return i=Zu(i),Xf(i)}var Gl=null;function Xf(i){if(Gl=null,i=Mi(i),i!==null){var o=l(i);if(o===null)i=null;else{var s=o.tag;if(s===13){if(i=u(o),i!==null)return i;i=null}else if(s===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;i=null}else o!==i&&(i=null)}}return Gl=i,null}function e0(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Hr()){case Et:return 2;case ii:return 8;case ri:case Gr:return 32;case qr:return 268435456;default:return 32}default:return 32}}var Qf=!1,$i=null,Yi=null,Ki=null,Ga=new Map,qa=new Map,Xi=[],Ww="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function t0(i,o){switch(i){case"focusin":case"focusout":$i=null;break;case"dragenter":case"dragleave":Yi=null;break;case"mouseover":case"mouseout":Ki=null;break;case"pointerover":case"pointerout":Ga.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":qa.delete(o.pointerId)}}function $a(i,o,s,c,p,b){return i===null||i.nativeEvent!==b?(i={blockedOn:o,domEventName:s,eventSystemFlags:c,nativeEvent:b,targetContainers:[p]},o!==null&&(o=oi(o),o!==null&&Wy(o)),i):(i.eventSystemFlags|=c,o=i.targetContainers,p!==null&&o.indexOf(p)===-1&&o.push(p),i)}function eA(i,o,s,c,p){switch(o){case"focusin":return $i=$a($i,i,o,s,c,p),!0;case"dragenter":return Yi=$a(Yi,i,o,s,c,p),!0;case"mouseover":return Ki=$a(Ki,i,o,s,c,p),!0;case"pointerover":var b=p.pointerId;return Ga.set(b,$a(Ga.get(b)||null,i,o,s,c,p)),!0;case"gotpointercapture":return b=p.pointerId,qa.set(b,$a(qa.get(b)||null,i,o,s,c,p)),!0}return!1}function n0(i){var o=Mi(i.target);if(o!==null){var s=l(o);if(s!==null){if(o=s.tag,o===13){if(o=u(s),o!==null){i.blockedOn=o,Gu(i.priority,function(){if(s.tag===13){var c=gn();c=zt(c);var p=ro(s,c);p!==null&&yn(p,s,c),$f(s,c)}});return}}else if(o===3&&s.stateNode.current.memoizedState.isDehydrated){i.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}i.blockedOn=null}function ql(i){if(i.blockedOn!==null)return!1;for(var o=i.targetContainers;0<o.length;){var s=Kf(i.nativeEvent);if(s===null){s=i.nativeEvent;var c=new s.constructor(s.type,s);Ju=c,s.target.dispatchEvent(c),Ju=null}else return o=oi(s),o!==null&&Wy(o),i.blockedOn=s,!1;o.shift()}return!0}function i0(i,o,s){ql(i)&&s.delete(o)}function tA(){Qf=!1,$i!==null&&ql($i)&&($i=null),Yi!==null&&ql(Yi)&&(Yi=null),Ki!==null&&ql(Ki)&&(Ki=null),Ga.forEach(i0),qa.forEach(i0)}function $l(i,o){i.blockedOn===o&&(i.blockedOn=null,Qf||(Qf=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,tA)))}var Yl=null;function r0(i){Yl!==i&&(Yl=i,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){Yl===i&&(Yl=null);for(var o=0;o<i.length;o+=3){var s=i[o],c=i[o+1],p=i[o+2];if(typeof c!="function"){if(Xf(c||s)===null)continue;break}var b=oi(s);b!==null&&(i.splice(o,3),o-=3,Kc(b,{pending:!0,data:p,method:s.method,action:c},c,p))}}))}function Ya(i){function o(V){return $l(V,i)}$i!==null&&$l($i,i),Yi!==null&&$l(Yi,i),Ki!==null&&$l(Ki,i),Ga.forEach(o),qa.forEach(o);for(var s=0;s<Xi.length;s++){var c=Xi[s];c.blockedOn===i&&(c.blockedOn=null)}for(;0<Xi.length&&(s=Xi[0],s.blockedOn===null);)n0(s),s.blockedOn===null&&Xi.shift();if(s=(i.ownerDocument||i).$$reactFormReplay,s!=null)for(c=0;c<s.length;c+=3){var p=s[c],b=s[c+1],w=p[Ft]||null;if(typeof b=="function")w||r0(s);else if(w){var E=null;if(b&&b.hasAttribute("formAction")){if(p=b,w=b[Ft]||null)E=w.formAction;else if(Xf(p)!==null)continue}else E=w.action;typeof E=="function"?s[c+1]=E:(s.splice(c,3),c-=3),r0(s)}}}function Jf(i){this._internalRoot=i}Kl.prototype.render=Jf.prototype.render=function(i){var o=this._internalRoot;if(o===null)throw Error(r(409));var s=o.current,c=gn();Jy(s,c,i,o,null,null)},Kl.prototype.unmount=Jf.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var o=i.containerInfo;Jy(i.current,2,null,i,null,null),Il(),o[Ei]=null}};function Kl(i){this._internalRoot=i}Kl.prototype.unstable_scheduleHydration=function(i){if(i){var o=Bs();i={blockedOn:null,target:i,priority:o};for(var s=0;s<Xi.length&&o!==0&&o<Xi[s].priority;s++);Xi.splice(s,0,i),s===0&&n0(i)}};var o0=t.version;if(o0!=="19.1.0")throw Error(r(527,o0,"19.1.0"));L.findDOMNode=function(i){var o=i._reactInternals;if(o===void 0)throw typeof i.render=="function"?Error(r(188)):(i=Object.keys(i).join(","),Error(r(268,i)));return i=h(o),i=i!==null?d(i):null,i=i===null?null:i.stateNode,i};var nA={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:$,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Xl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Xl.isDisabled&&Xl.supportsFiber)try{ee=Xl.inject(nA),ce=Xl}catch{}}return Xa.createRoot=function(i,o){if(!a(i))throw Error(r(299));var s=!1,c="",p=Tg,b=Sg,w=Cg,E=null;return o!=null&&(o.unstable_strictMode===!0&&(s=!0),o.identifierPrefix!==void 0&&(c=o.identifierPrefix),o.onUncaughtError!==void 0&&(p=o.onUncaughtError),o.onCaughtError!==void 0&&(b=o.onCaughtError),o.onRecoverableError!==void 0&&(w=o.onRecoverableError),o.unstable_transitionCallbacks!==void 0&&(E=o.unstable_transitionCallbacks)),o=Xy(i,1,!1,null,null,s,c,p,b,w,E,null),i[Ei]=o.current,_f(i),new Jf(o)},Xa.hydrateRoot=function(i,o,s){if(!a(i))throw Error(r(299));var c=!1,p="",b=Tg,w=Sg,E=Cg,V=null,K=null;return s!=null&&(s.unstable_strictMode===!0&&(c=!0),s.identifierPrefix!==void 0&&(p=s.identifierPrefix),s.onUncaughtError!==void 0&&(b=s.onUncaughtError),s.onCaughtError!==void 0&&(w=s.onCaughtError),s.onRecoverableError!==void 0&&(E=s.onRecoverableError),s.unstable_transitionCallbacks!==void 0&&(V=s.unstable_transitionCallbacks),s.formState!==void 0&&(K=s.formState)),o=Xy(i,1,!0,o,s??null,c,p,b,w,E,V,K),o.context=Qy(null),s=o.current,c=gn(),c=zt(c),p=Ri(c),p.callback=null,_i(s,p,c),s=c,o.current.lanes=s,Z(o,s),Qn(o),i[Ei]=o.current,_f(i),new Kl(o)},Xa.version="19.1.0",Xa}var p0;function hA(){if(p0)return ed.exports;p0=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),ed.exports=dA(),ed.exports}var mA=hA();const pA=ks(mA);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let gA,yA;function xA(){return{geminiUrl:gA,vertexUrl:yA}}function vA(e,t,n){var r,a,l;if(!(!((r=e.httpOptions)===null||r===void 0)&&r.baseUrl)){const u=xA();return e.vertexai?(a=u.vertexUrl)!==null&&a!==void 0?a:t:(l=u.geminiUrl)!==null&&l!==void 0?l:n}return e.httpOptions.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Is{}function De(e,t){const n=/\{([^}]+)\}/g;return e.replace(n,(r,a)=>{if(Object.prototype.hasOwnProperty.call(t,a)){const l=t[a];return l!=null?String(l):""}else throw new Error(`Key '${a}' not found in valueMap.`)})}function v(e,t,n){for(let l=0;l<t.length-1;l++){const u=t[l];if(u.endsWith("[]")){const f=u.slice(0,-2);if(!(f in e))if(Array.isArray(n))e[f]=Array.from({length:n.length},()=>({}));else throw new Error(`Value must be a list given an array path ${u}`);if(Array.isArray(e[f])){const h=e[f];if(Array.isArray(n))for(let d=0;d<h.length;d++){const m=h[d];v(m,t.slice(l+1),n[d])}else for(const d of h)v(d,t.slice(l+1),n)}return}else if(u.endsWith("[0]")){const f=u.slice(0,-3);f in e||(e[f]=[{}]);const h=e[f];v(h[0],t.slice(l+1),n);return}(!e[u]||typeof e[u]!="object")&&(e[u]={}),e=e[u]}const r=t[t.length-1],a=e[r];if(a!==void 0){if(!n||typeof n=="object"&&Object.keys(n).length===0||n===a)return;if(typeof a=="object"&&typeof n=="object"&&a!==null&&n!==null)Object.assign(a,n);else throw new Error(`Cannot set value for an existing key. Key: ${r}`)}else e[r]=n}function x(e,t){try{if(t.length===1&&t[0]==="_self")return e;for(let n=0;n<t.length;n++){if(typeof e!="object"||e===null)return;const r=t[n];if(r.endsWith("[]")){const a=r.slice(0,-2);if(a in e){const l=e[a];return Array.isArray(l)?l.map(u=>x(u,t.slice(n+1))):void 0}else return}else e=e[r]}return e}catch(n){if(n instanceof TypeError)return;throw n}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function pt(e,t){if(!t||typeof t!="string")throw new Error("model is required and must be a string");if(e.isVertexAI()){if(t.startsWith("publishers/")||t.startsWith("projects/")||t.startsWith("models/"))return t;if(t.indexOf("/")>=0){const n=t.split("/",2);return`publishers/${n[0]}/models/${n[1]}`}else return`publishers/google/models/${t}`}else return t.startsWith("models/")||t.startsWith("tunedModels/")?t:`models/${t}`}function Hb(e,t){const n=pt(e,t);return n?n.startsWith("publishers/")&&e.isVertexAI()?`projects/${e.getProject()}/locations/${e.getLocation()}/${n}`:n.startsWith("models/")&&e.isVertexAI()?`projects/${e.getProject()}/locations/${e.getLocation()}/publishers/google/${n}`:n:""}function Gb(e,t){return Array.isArray(t)?t.map(n=>vu(e,n)):[vu(e,t)]}function vu(e,t){if(typeof t=="object"&&t!==null)return t;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof t}`)}function bA(e,t){const n=vu(e,t);if(n.mimeType&&n.mimeType.startsWith("image/"))return n;throw new Error(`Unsupported mime type: ${n.mimeType}`)}function TA(e,t){const n=vu(e,t);if(n.mimeType&&n.mimeType.startsWith("audio/"))return n;throw new Error(`Unsupported mime type: ${n.mimeType}`)}function g0(e,t){if(t==null)throw new Error("PartUnion is required");if(typeof t=="object")return t;if(typeof t=="string")return{text:t};throw new Error(`Unsupported part type: ${typeof t}`)}function qb(e,t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("PartListUnion is required");return Array.isArray(t)?t.map(n=>g0(e,n)):[g0(e,t)]}function Od(e){return e!=null&&typeof e=="object"&&"parts"in e&&Array.isArray(e.parts)}function y0(e){return e!=null&&typeof e=="object"&&"functionCall"in e}function x0(e){return e!=null&&typeof e=="object"&&"functionResponse"in e}function an(e,t){if(t==null)throw new Error("ContentUnion is required");return Od(t)?t:{role:"user",parts:qb(e,t)}}function $b(e,t){if(!t)return[];if(e.isVertexAI()&&Array.isArray(t))return t.flatMap(n=>{const r=an(e,n);return r.parts&&r.parts.length>0&&r.parts[0].text!==void 0?[r.parts[0].text]:[]});if(e.isVertexAI()){const n=an(e,t);return n.parts&&n.parts.length>0&&n.parts[0].text!==void 0?[n.parts[0].text]:[]}return Array.isArray(t)?t.map(n=>an(e,n)):[an(e,t)]}function rr(e,t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("contents are required");if(!Array.isArray(t)){if(y0(t)||x0(t))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[an(e,t)]}const n=[],r=[],a=Od(t[0]);for(const l of t){const u=Od(l);if(u!=a)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(u)n.push(l);else{if(y0(l)||x0(l))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");r.push(l)}}return a||n.push({role:"user",parts:qb(e,r)}),n}function Yb(e,t){return t}function Kb(e,t){if(typeof t=="object")return t;if(typeof t=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:t}}};throw new Error(`Unsupported speechConfig type: ${typeof t}`)}function _u(e,t){return t}function Vu(e,t){if(!Array.isArray(t))throw new Error("tool is required and must be an array of Tools");return t}function SA(e,t,n,r=1){const a=!t.startsWith(`${n}/`)&&t.split("/").length===r;return e.isVertexAI()?t.startsWith("projects/")?t:t.startsWith("locations/")?`projects/${e.getProject()}/${t}`:t.startsWith(`${n}/`)?`projects/${e.getProject()}/locations/${e.getLocation()}/${t}`:a?`projects/${e.getProject()}/locations/${e.getLocation()}/${n}/${t}`:t:a?`${n}/${t}`:t}function or(e,t){if(typeof t!="string")throw new Error("name must be a string");return SA(e,t,"cachedContents")}function Xb(e,t){switch(t){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return t}}function ar(e,t){if(typeof t!="string")throw new Error("fromImageBytes must be a string");return t}function Qb(e,t){if(typeof t!="string")throw new Error("fromName must be a string");return t.startsWith("files/")?t.split("files/")[1]:t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function CA(e,t){const n={};if(x(t,["videoMetadata"])!==void 0)throw new Error("videoMetadata parameter is not supported in Gemini API.");const r=x(t,["thought"]);r!=null&&v(n,["thought"],r);const a=x(t,["codeExecutionResult"]);a!=null&&v(n,["codeExecutionResult"],a);const l=x(t,["executableCode"]);l!=null&&v(n,["executableCode"],l);const u=x(t,["fileData"]);u!=null&&v(n,["fileData"],u);const f=x(t,["functionCall"]);f!=null&&v(n,["functionCall"],f);const h=x(t,["functionResponse"]);h!=null&&v(n,["functionResponse"],h);const d=x(t,["inlineData"]);d!=null&&v(n,["inlineData"],d);const m=x(t,["text"]);return m!=null&&v(n,["text"],m),n}function v0(e,t){const n={},r=x(t,["parts"]);if(r!=null){let l=r;Array.isArray(l)&&(l=l.map(u=>CA(e,u))),v(n,["parts"],l)}const a=x(t,["role"]);return a!=null&&v(n,["role"],a),n}function wA(){return{}}function AA(e,t){const n={},r=x(t,["mode"]);r!=null&&v(n,["mode"],r);const a=x(t,["dynamicThreshold"]);return a!=null&&v(n,["dynamicThreshold"],a),n}function EA(e,t){const n={},r=x(t,["dynamicRetrievalConfig"]);return r!=null&&v(n,["dynamicRetrievalConfig"],AA(e,r)),n}function MA(e,t){const n={};if(x(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");x(t,["googleSearch"])!=null&&v(n,["googleSearch"],wA());const a=x(t,["googleSearchRetrieval"]);a!=null&&v(n,["googleSearchRetrieval"],EA(e,a));const l=x(t,["codeExecution"]);l!=null&&v(n,["codeExecution"],l);const u=x(t,["functionDeclarations"]);return u!=null&&v(n,["functionDeclarations"],u),n}function kA(e,t){const n={},r=x(t,["mode"]);r!=null&&v(n,["mode"],r);const a=x(t,["allowedFunctionNames"]);return a!=null&&v(n,["allowedFunctionNames"],a),n}function IA(e,t){const n={},r=x(t,["functionCallingConfig"]);return r!=null&&v(n,["functionCallingConfig"],kA(e,r)),n}function NA(e,t,n){const r={},a=x(t,["ttl"]);n!==void 0&&a!=null&&v(n,["ttl"],a);const l=x(t,["expireTime"]);n!==void 0&&l!=null&&v(n,["expireTime"],l);const u=x(t,["displayName"]);n!==void 0&&u!=null&&v(n,["displayName"],u);const f=x(t,["contents"]);if(n!==void 0&&f!=null){let y=rr(e,f);Array.isArray(y)&&(y=y.map(T=>v0(e,T))),v(n,["contents"],y)}const h=x(t,["systemInstruction"]);n!==void 0&&h!=null&&v(n,["systemInstruction"],v0(e,an(e,h)));const d=x(t,["tools"]);if(n!==void 0&&d!=null){let y=d;Array.isArray(y)&&(y=y.map(T=>MA(e,T))),v(n,["tools"],y)}const m=x(t,["toolConfig"]);return n!==void 0&&m!=null&&v(n,["toolConfig"],IA(e,m)),r}function DA(e,t){const n={},r=x(t,["model"]);r!=null&&v(n,["model"],Hb(e,r));const a=x(t,["config"]);return a!=null&&v(n,["config"],NA(e,a,n)),n}function RA(e,t){const n={},r=x(t,["name"]);r!=null&&v(n,["_url","name"],or(e,r));const a=x(t,["config"]);return a!=null&&v(n,["config"],a),n}function _A(e,t){const n={},r=x(t,["name"]);r!=null&&v(n,["_url","name"],or(e,r));const a=x(t,["config"]);return a!=null&&v(n,["config"],a),n}function VA(e,t,n){const r={},a=x(t,["ttl"]);n!==void 0&&a!=null&&v(n,["ttl"],a);const l=x(t,["expireTime"]);return n!==void 0&&l!=null&&v(n,["expireTime"],l),r}function PA(e,t){const n={},r=x(t,["name"]);r!=null&&v(n,["_url","name"],or(e,r));const a=x(t,["config"]);return a!=null&&v(n,["config"],VA(e,a,n)),n}function LA(e,t,n){const r={},a=x(t,["pageSize"]);n!==void 0&&a!=null&&v(n,["_query","pageSize"],a);const l=x(t,["pageToken"]);return n!==void 0&&l!=null&&v(n,["_query","pageToken"],l),r}function BA(e,t){const n={},r=x(t,["config"]);return r!=null&&v(n,["config"],LA(e,r,n)),n}function jA(e,t){const n={},r=x(t,["videoMetadata"]);r!=null&&v(n,["videoMetadata"],r);const a=x(t,["thought"]);a!=null&&v(n,["thought"],a);const l=x(t,["codeExecutionResult"]);l!=null&&v(n,["codeExecutionResult"],l);const u=x(t,["executableCode"]);u!=null&&v(n,["executableCode"],u);const f=x(t,["fileData"]);f!=null&&v(n,["fileData"],f);const h=x(t,["functionCall"]);h!=null&&v(n,["functionCall"],h);const d=x(t,["functionResponse"]);d!=null&&v(n,["functionResponse"],d);const m=x(t,["inlineData"]);m!=null&&v(n,["inlineData"],m);const y=x(t,["text"]);return y!=null&&v(n,["text"],y),n}function b0(e,t){const n={},r=x(t,["parts"]);if(r!=null){let l=r;Array.isArray(l)&&(l=l.map(u=>jA(e,u))),v(n,["parts"],l)}const a=x(t,["role"]);return a!=null&&v(n,["role"],a),n}function OA(){return{}}function zA(e,t){const n={},r=x(t,["mode"]);r!=null&&v(n,["mode"],r);const a=x(t,["dynamicThreshold"]);return a!=null&&v(n,["dynamicThreshold"],a),n}function FA(e,t){const n={},r=x(t,["dynamicRetrievalConfig"]);return r!=null&&v(n,["dynamicRetrievalConfig"],zA(e,r)),n}function UA(e,t){const n={},r=x(t,["retrieval"]);r!=null&&v(n,["retrieval"],r),x(t,["googleSearch"])!=null&&v(n,["googleSearch"],OA());const l=x(t,["googleSearchRetrieval"]);l!=null&&v(n,["googleSearchRetrieval"],FA(e,l));const u=x(t,["codeExecution"]);u!=null&&v(n,["codeExecution"],u);const f=x(t,["functionDeclarations"]);return f!=null&&v(n,["functionDeclarations"],f),n}function HA(e,t){const n={},r=x(t,["mode"]);r!=null&&v(n,["mode"],r);const a=x(t,["allowedFunctionNames"]);return a!=null&&v(n,["allowedFunctionNames"],a),n}function GA(e,t){const n={},r=x(t,["functionCallingConfig"]);return r!=null&&v(n,["functionCallingConfig"],HA(e,r)),n}function qA(e,t,n){const r={},a=x(t,["ttl"]);n!==void 0&&a!=null&&v(n,["ttl"],a);const l=x(t,["expireTime"]);n!==void 0&&l!=null&&v(n,["expireTime"],l);const u=x(t,["displayName"]);n!==void 0&&u!=null&&v(n,["displayName"],u);const f=x(t,["contents"]);if(n!==void 0&&f!=null){let y=rr(e,f);Array.isArray(y)&&(y=y.map(T=>b0(e,T))),v(n,["contents"],y)}const h=x(t,["systemInstruction"]);n!==void 0&&h!=null&&v(n,["systemInstruction"],b0(e,an(e,h)));const d=x(t,["tools"]);if(n!==void 0&&d!=null){let y=d;Array.isArray(y)&&(y=y.map(T=>UA(e,T))),v(n,["tools"],y)}const m=x(t,["toolConfig"]);return n!==void 0&&m!=null&&v(n,["toolConfig"],GA(e,m)),r}function $A(e,t){const n={},r=x(t,["model"]);r!=null&&v(n,["model"],Hb(e,r));const a=x(t,["config"]);return a!=null&&v(n,["config"],qA(e,a,n)),n}function YA(e,t){const n={},r=x(t,["name"]);r!=null&&v(n,["_url","name"],or(e,r));const a=x(t,["config"]);return a!=null&&v(n,["config"],a),n}function KA(e,t){const n={},r=x(t,["name"]);r!=null&&v(n,["_url","name"],or(e,r));const a=x(t,["config"]);return a!=null&&v(n,["config"],a),n}function XA(e,t,n){const r={},a=x(t,["ttl"]);n!==void 0&&a!=null&&v(n,["ttl"],a);const l=x(t,["expireTime"]);return n!==void 0&&l!=null&&v(n,["expireTime"],l),r}function QA(e,t){const n={},r=x(t,["name"]);r!=null&&v(n,["_url","name"],or(e,r));const a=x(t,["config"]);return a!=null&&v(n,["config"],XA(e,a,n)),n}function JA(e,t,n){const r={},a=x(t,["pageSize"]);n!==void 0&&a!=null&&v(n,["_query","pageSize"],a);const l=x(t,["pageToken"]);return n!==void 0&&l!=null&&v(n,["_query","pageToken"],l),r}function ZA(e,t){const n={},r=x(t,["config"]);return r!=null&&v(n,["config"],JA(e,r,n)),n}function fu(e,t){const n={},r=x(t,["name"]);r!=null&&v(n,["name"],r);const a=x(t,["displayName"]);a!=null&&v(n,["displayName"],a);const l=x(t,["model"]);l!=null&&v(n,["model"],l);const u=x(t,["createTime"]);u!=null&&v(n,["createTime"],u);const f=x(t,["updateTime"]);f!=null&&v(n,["updateTime"],f);const h=x(t,["expireTime"]);h!=null&&v(n,["expireTime"],h);const d=x(t,["usageMetadata"]);return d!=null&&v(n,["usageMetadata"],d),n}function WA(){return{}}function eE(e,t){const n={},r=x(t,["nextPageToken"]);r!=null&&v(n,["nextPageToken"],r);const a=x(t,["cachedContents"]);if(a!=null){let l=a;Array.isArray(l)&&(l=l.map(u=>fu(e,u))),v(n,["cachedContents"],l)}return n}function du(e,t){const n={},r=x(t,["name"]);r!=null&&v(n,["name"],r);const a=x(t,["displayName"]);a!=null&&v(n,["displayName"],a);const l=x(t,["model"]);l!=null&&v(n,["model"],l);const u=x(t,["createTime"]);u!=null&&v(n,["createTime"],u);const f=x(t,["updateTime"]);f!=null&&v(n,["updateTime"],f);const h=x(t,["expireTime"]);h!=null&&v(n,["expireTime"],h);const d=x(t,["usageMetadata"]);return d!=null&&v(n,["usageMetadata"],d),n}function tE(){return{}}function nE(e,t){const n={},r=x(t,["nextPageToken"]);r!=null&&v(n,["nextPageToken"],r);const a=x(t,["cachedContents"]);if(a!=null){let l=a;Array.isArray(l)&&(l=l.map(u=>du(e,u))),v(n,["cachedContents"],l)}return n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var ys;(function(e){e.PAGED_ITEM_BATCH_JOBS="batchJobs",e.PAGED_ITEM_MODELS="models",e.PAGED_ITEM_TUNING_JOBS="tuningJobs",e.PAGED_ITEM_FILES="files",e.PAGED_ITEM_CACHED_CONTENTS="cachedContents"})(ys||(ys={}));class Ih{constructor(t,n,r,a){this.pageInternal=[],this.paramsInternal={},this.requestInternal=n,this.init(t,r,a)}init(t,n,r){var a,l;this.nameInternal=t,this.pageInternal=n[this.nameInternal]||[],this.idxInternal=0;let u={config:{}};r?typeof r=="object"?u=Object.assign({},r):u=r:u={config:{}},u.config&&(u.config.pageToken=n.nextPageToken),this.paramsInternal=u,this.pageInternalSize=(l=(a=u.config)===null||a===void 0?void 0:a.pageSize)!==null&&l!==void 0?l:this.pageInternal.length}initNextPage(t){this.init(this.nameInternal,t,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(t){return this.pageInternal[t]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const t=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:t,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const t=await this.requestInternal(this.params);return this.initNextPage(t),this.page}hasNextPage(){var t;return((t=this.params.config)===null||t===void 0?void 0:t.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var T0;(function(e){e.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",e.OUTCOME_OK="OUTCOME_OK",e.OUTCOME_FAILED="OUTCOME_FAILED",e.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(T0||(T0={}));var S0;(function(e){e.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",e.PYTHON="PYTHON"})(S0||(S0={}));var C0;(function(e){e.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",e.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",e.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",e.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",e.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",e.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY"})(C0||(C0={}));var w0;(function(e){e.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",e.SEVERITY="SEVERITY",e.PROBABILITY="PROBABILITY"})(w0||(w0={}));var A0;(function(e){e.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",e.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",e.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",e.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",e.BLOCK_NONE="BLOCK_NONE",e.OFF="OFF"})(A0||(A0={}));var E0;(function(e){e.MODE_UNSPECIFIED="MODE_UNSPECIFIED",e.MODE_DYNAMIC="MODE_DYNAMIC"})(E0||(E0={}));var M0;(function(e){e.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",e.STRING="STRING",e.NUMBER="NUMBER",e.INTEGER="INTEGER",e.BOOLEAN="BOOLEAN",e.ARRAY="ARRAY",e.OBJECT="OBJECT"})(M0||(M0={}));var k0;(function(e){e.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",e.STOP="STOP",e.MAX_TOKENS="MAX_TOKENS",e.SAFETY="SAFETY",e.RECITATION="RECITATION",e.LANGUAGE="LANGUAGE",e.OTHER="OTHER",e.BLOCKLIST="BLOCKLIST",e.PROHIBITED_CONTENT="PROHIBITED_CONTENT",e.SPII="SPII",e.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",e.IMAGE_SAFETY="IMAGE_SAFETY"})(k0||(k0={}));var I0;(function(e){e.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",e.NEGLIGIBLE="NEGLIGIBLE",e.LOW="LOW",e.MEDIUM="MEDIUM",e.HIGH="HIGH"})(I0||(I0={}));var N0;(function(e){e.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",e.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",e.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",e.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",e.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(N0||(N0={}));var D0;(function(e){e.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",e.SAFETY="SAFETY",e.OTHER="OTHER",e.BLOCKLIST="BLOCKLIST",e.PROHIBITED_CONTENT="PROHIBITED_CONTENT"})(D0||(D0={}));var R0;(function(e){e.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",e.ON_DEMAND="ON_DEMAND",e.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(R0||(R0={}));var bu;(function(e){e.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",e.TEXT="TEXT",e.IMAGE="IMAGE",e.AUDIO="AUDIO"})(bu||(bu={}));var _0;(function(e){e.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",e.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",e.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",e.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(_0||(_0={}));var zd;(function(e){e.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",e.JOB_STATE_QUEUED="JOB_STATE_QUEUED",e.JOB_STATE_PENDING="JOB_STATE_PENDING",e.JOB_STATE_RUNNING="JOB_STATE_RUNNING",e.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",e.JOB_STATE_FAILED="JOB_STATE_FAILED",e.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",e.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",e.JOB_STATE_PAUSED="JOB_STATE_PAUSED",e.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",e.JOB_STATE_UPDATING="JOB_STATE_UPDATING",e.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(zd||(zd={}));var V0;(function(e){e.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",e.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",e.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",e.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",e.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",e.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",e.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(V0||(V0={}));var P0;(function(e){e.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",e.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",e.BALANCED="BALANCED",e.PRIORITIZE_COST="PRIORITIZE_COST"})(P0||(P0={}));var L0;(function(e){e.MODE_UNSPECIFIED="MODE_UNSPECIFIED",e.MODE_DYNAMIC="MODE_DYNAMIC"})(L0||(L0={}));var B0;(function(e){e.MODE_UNSPECIFIED="MODE_UNSPECIFIED",e.AUTO="AUTO",e.ANY="ANY",e.NONE="NONE"})(B0||(B0={}));var j0;(function(e){e.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",e.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",e.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",e.BLOCK_NONE="BLOCK_NONE"})(j0||(j0={}));var O0;(function(e){e.DONT_ALLOW="DONT_ALLOW",e.ALLOW_ADULT="ALLOW_ADULT",e.ALLOW_ALL="ALLOW_ALL"})(O0||(O0={}));var z0;(function(e){e.auto="auto",e.en="en",e.ja="ja",e.ko="ko",e.hi="hi"})(z0||(z0={}));var F0;(function(e){e.STATE_UNSPECIFIED="STATE_UNSPECIFIED",e.PROCESSING="PROCESSING",e.ACTIVE="ACTIVE",e.FAILED="FAILED"})(F0||(F0={}));var U0;(function(e){e.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",e.UPLOADED="UPLOADED",e.GENERATED="GENERATED"})(U0||(U0={}));var H0;(function(e){e.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",e.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",e.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",e.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",e.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(H0||(H0={}));var G0;(function(e){e.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",e.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",e.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",e.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(G0||(G0={}));var q0;(function(e){e.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",e.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",e.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",e.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(q0||(q0={}));var $0;(function(e){e.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",e.TEXT="TEXT",e.IMAGE="IMAGE",e.VIDEO="VIDEO",e.AUDIO="AUDIO",e.DOCUMENT="DOCUMENT"})($0||($0={}));var Y0;(function(e){e.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",e.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",e.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(Y0||(Y0={}));var K0;(function(e){e.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",e.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",e.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(K0||(K0={}));var X0;(function(e){e.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",e.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",e.NO_INTERRUPTION="NO_INTERRUPTION"})(X0||(X0={}));var Q0;(function(e){e.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",e.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",e.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(Q0||(Q0={}));class Ql{get text(){var t,n,r,a,l,u,f,h;if(((a=(r=(n=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||a===void 0?void 0:a.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let d="",m=!1;const y=[];for(const T of(h=(f=(u=(l=this.candidates)===null||l===void 0?void 0:l[0])===null||u===void 0?void 0:u.content)===null||f===void 0?void 0:f.parts)!==null&&h!==void 0?h:[]){for(const[S,A]of Object.entries(T))S!=="text"&&S!=="thought"&&(A!==null||A!==void 0)&&y.push(S);if(typeof T.text=="string"){if(typeof T.thought=="boolean"&&T.thought)continue;m=!0,d+=T.text}}return y.length>0&&console.warn(`there are non-text parts ${y} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),m?d:void 0}get data(){var t,n,r,a,l,u,f,h;if(((a=(r=(n=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||a===void 0?void 0:a.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let d="";const m=[];for(const y of(h=(f=(u=(l=this.candidates)===null||l===void 0?void 0:l[0])===null||u===void 0?void 0:u.content)===null||f===void 0?void 0:f.parts)!==null&&h!==void 0?h:[]){for(const[T,S]of Object.entries(y))T!=="inlineData"&&(S!==null||S!==void 0)&&m.push(T);y.inlineData&&typeof y.inlineData.data=="string"&&(d+=atob(y.inlineData.data))}return m.length>0&&console.warn(`there are non-data parts ${m} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),d.length>0?btoa(d):void 0}get functionCalls(){var t,n,r,a,l,u,f,h;if(((a=(r=(n=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||a===void 0?void 0:a.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const d=(h=(f=(u=(l=this.candidates)===null||l===void 0?void 0:l[0])===null||u===void 0?void 0:u.content)===null||f===void 0?void 0:f.parts)===null||h===void 0?void 0:h.filter(m=>m.functionCall).map(m=>m.functionCall).filter(m=>m!==void 0);if((d==null?void 0:d.length)!==0)return d}get executableCode(){var t,n,r,a,l,u,f,h,d;if(((a=(r=(n=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||a===void 0?void 0:a.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const m=(h=(f=(u=(l=this.candidates)===null||l===void 0?void 0:l[0])===null||u===void 0?void 0:u.content)===null||f===void 0?void 0:f.parts)===null||h===void 0?void 0:h.filter(y=>y.executableCode).map(y=>y.executableCode).filter(y=>y!==void 0);if((m==null?void 0:m.length)!==0)return(d=m==null?void 0:m[0])===null||d===void 0?void 0:d.code}get codeExecutionResult(){var t,n,r,a,l,u,f,h,d;if(((a=(r=(n=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||a===void 0?void 0:a.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const m=(h=(f=(u=(l=this.candidates)===null||l===void 0?void 0:l[0])===null||u===void 0?void 0:u.content)===null||f===void 0?void 0:f.parts)===null||h===void 0?void 0:h.filter(y=>y.codeExecutionResult).map(y=>y.codeExecutionResult).filter(y=>y!==void 0);if((m==null?void 0:m.length)!==0)return(d=m==null?void 0:m[0])===null||d===void 0?void 0:d.output}}class J0{}class Z0{}class W0{}class ex{}class iE{}class tx{}class nx{}class ix{}class rE{}class Fd{constructor(t){const n={};for(const r of t.headers.entries())n[r[0]]=r[1];this.headers=n,this.responseInternal=t}json(){return this.responseInternal.json()}}class oE{}class aE{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class sE extends Is{constructor(t){super(),this.apiClient=t,this.list=async(n={})=>new Ih(ys.PAGED_ITEM_CACHED_CONTENTS,r=>this.listInternal(r),await this.listInternal(n),n)}async create(t){var n,r,a,l;let u,f="",h={};if(this.apiClient.isVertexAI()){const d=$A(this.apiClient,t);return f=De("cachedContents",d._url),h=d._query,delete d.config,delete d._url,delete d._query,u=this.apiClient.request({path:f,queryParams:h,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(m=>m.json()),u.then(m=>du(this.apiClient,m))}else{const d=DA(this.apiClient,t);return f=De("cachedContents",d._url),h=d._query,delete d.config,delete d._url,delete d._query,u=this.apiClient.request({path:f,queryParams:h,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(a=t.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(m=>m.json()),u.then(m=>fu(this.apiClient,m))}}async get(t){var n,r,a,l;let u,f="",h={};if(this.apiClient.isVertexAI()){const d=YA(this.apiClient,t);return f=De("{name}",d._url),h=d._query,delete d.config,delete d._url,delete d._query,u=this.apiClient.request({path:f,queryParams:h,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(m=>m.json()),u.then(m=>du(this.apiClient,m))}else{const d=RA(this.apiClient,t);return f=De("{name}",d._url),h=d._query,delete d.config,delete d._url,delete d._query,u=this.apiClient.request({path:f,queryParams:h,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(a=t.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(m=>m.json()),u.then(m=>fu(this.apiClient,m))}}async delete(t){var n,r,a,l;let u,f="",h={};if(this.apiClient.isVertexAI()){const d=KA(this.apiClient,t);return f=De("{name}",d._url),h=d._query,delete d.config,delete d._url,delete d._query,u=this.apiClient.request({path:f,queryParams:h,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(m=>m.json()),u.then(()=>{const m=tE(),y=new nx;return Object.assign(y,m),y})}else{const d=_A(this.apiClient,t);return f=De("{name}",d._url),h=d._query,delete d.config,delete d._url,delete d._query,u=this.apiClient.request({path:f,queryParams:h,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(a=t.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(m=>m.json()),u.then(()=>{const m=WA(),y=new nx;return Object.assign(y,m),y})}}async update(t){var n,r,a,l;let u,f="",h={};if(this.apiClient.isVertexAI()){const d=QA(this.apiClient,t);return f=De("{name}",d._url),h=d._query,delete d.config,delete d._url,delete d._query,u=this.apiClient.request({path:f,queryParams:h,body:JSON.stringify(d),httpMethod:"PATCH",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(m=>m.json()),u.then(m=>du(this.apiClient,m))}else{const d=PA(this.apiClient,t);return f=De("{name}",d._url),h=d._query,delete d.config,delete d._url,delete d._query,u=this.apiClient.request({path:f,queryParams:h,body:JSON.stringify(d),httpMethod:"PATCH",httpOptions:(a=t.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(m=>m.json()),u.then(m=>fu(this.apiClient,m))}}async listInternal(t){var n,r,a,l;let u,f="",h={};if(this.apiClient.isVertexAI()){const d=ZA(this.apiClient,t);return f=De("cachedContents",d._url),h=d._query,delete d.config,delete d._url,delete d._query,u=this.apiClient.request({path:f,queryParams:h,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(m=>m.json()),u.then(m=>{const y=nE(this.apiClient,m),T=new ix;return Object.assign(T,y),T})}else{const d=BA(this.apiClient,t);return f=De("cachedContents",d._url),h=d._query,delete d.config,delete d._url,delete d._query,u=this.apiClient.request({path:f,queryParams:h,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(a=t.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(m=>m.json()),u.then(m=>{const y=eE(this.apiClient,m),T=new ix;return Object.assign(T,y),T})}}}function rx(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function Gt(e){return this instanceof Gt?(this.v=e,this):new Gt(e)}function Tu(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(e,t||[]),a,l=[];return a=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),f("next"),f("throw"),f("return",u),a[Symbol.asyncIterator]=function(){return this},a;function u(S){return function(A){return Promise.resolve(A).then(S,y)}}function f(S,A){r[S]&&(a[S]=function(M){return new Promise(function(R,I){l.push([S,M,R,I])>1||h(S,M)})},A&&(a[S]=A(a[S])))}function h(S,A){try{d(r[S](A))}catch(M){T(l[0][3],M)}}function d(S){S.value instanceof Gt?Promise.resolve(S.value.v).then(m,y):T(l[0][2],S)}function m(S){h("next",S)}function y(S){h("throw",S)}function T(S,A){S(A),l.shift(),l.length&&h(l[0][0],l[0][1])}}function Ud(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],n;return t?t.call(e):(e=typeof rx=="function"?rx(e):e[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(l){n[l]=e[l]&&function(u){return new Promise(function(f,h){u=e[l](u),a(f,h,u.done,u.value)})}}function a(l,u,f,h){Promise.resolve(h).then(function(d){l({value:d,done:f})},u)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function lE(e){var t;if(e.candidates==null||e.candidates.length===0)return!1;const n=(t=e.candidates[0])===null||t===void 0?void 0:t.content;return n===void 0?!1:Jb(n)}function Jb(e){if(e.parts===void 0||e.parts.length===0)return!1;for(const t of e.parts)if(t===void 0||Object.keys(t).length===0||t.text!==void 0&&t.text==="")return!1;return!0}function uE(e){if(e.length!==0){if(e[0].role!=="user")throw new Error("History must start with a user turn.");for(const t of e)if(t.role!=="user"&&t.role!=="model")throw new Error(`Role must be user or model, but got ${t.role}.`)}}function cE(e){if(e===void 0||e.length===0)return[];const t=[],n=e.length;let r=0,a=e[0];for(;r<n;)if(e[r].role==="user")a=e[r],r++;else{const l=[];let u=!0;for(;r<n&&e[r].role==="model";)l.push(e[r]),u&&!Jb(e[r])&&(u=!1),r++;u&&(t.push(a),t.push(...l))}return t}class fE{constructor(t,n){this.modelsModule=t,this.apiClient=n}create(t){return new dE(this.apiClient,this.modelsModule,t.model,t.config,t.history)}}class dE{constructor(t,n,r,a={},l=[]){this.apiClient=t,this.modelsModule=n,this.model=r,this.config=a,this.history=l,this.sendPromise=Promise.resolve(),uE(l)}async sendMessage(t){var n;await this.sendPromise;const r=an(this.apiClient,t.message),a=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(r),config:(n=t.config)!==null&&n!==void 0?n:this.config});return this.sendPromise=(async()=>{var l,u;const h=(u=(l=(await a).candidates)===null||l===void 0?void 0:l[0])===null||u===void 0?void 0:u.content,d=h?[h]:[];this.recordHistory(r,d)})(),await this.sendPromise,a}async sendMessageStream(t){var n;await this.sendPromise;const r=an(this.apiClient,t.message),a=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(r),config:(n=t.config)!==null&&n!==void 0?n:this.config});this.sendPromise=a.then(()=>{}).catch(()=>{});const l=await a;return this.processStreamResponse(l,r)}getHistory(t=!1){return t?cE(this.history):this.history}processStreamResponse(t,n){var r,a;return Tu(this,arguments,function*(){var u,f,h,d;const m=[];try{for(var y=!0,T=Ud(t),S;S=yield Gt(T.next()),u=S.done,!u;y=!0){d=S.value,y=!1;const A=d;if(lE(A)){const M=(a=(r=A.candidates)===null||r===void 0?void 0:r[0])===null||a===void 0?void 0:a.content;M!==void 0&&m.push(M)}yield yield Gt(A)}}catch(A){f={error:A}}finally{try{!y&&!u&&(h=T.return)&&(yield Gt(h.call(T)))}finally{if(f)throw f.error}}this.recordHistory(n,m)})}recordHistory(t,n){let r=[];n.length>0&&n.every(a=>a.role==="model")?r=n:r.push({role:"model",parts:[]}),this.history.push(t),this.history.push(...r)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function hE(e,t,n){const r={},a=x(t,["pageSize"]);n!==void 0&&a!=null&&v(n,["_query","pageSize"],a);const l=x(t,["pageToken"]);return n!==void 0&&l!=null&&v(n,["_query","pageToken"],l),r}function mE(e,t){const n={},r=x(t,["config"]);return r!=null&&v(n,["config"],hE(e,r,n)),n}function pE(e,t){const n={},r=x(t,["details"]);r!=null&&v(n,["details"],r);const a=x(t,["message"]);a!=null&&v(n,["message"],a);const l=x(t,["code"]);return l!=null&&v(n,["code"],l),n}function gE(e,t){const n={},r=x(t,["name"]);r!=null&&v(n,["name"],r);const a=x(t,["displayName"]);a!=null&&v(n,["displayName"],a);const l=x(t,["mimeType"]);l!=null&&v(n,["mimeType"],l);const u=x(t,["sizeBytes"]);u!=null&&v(n,["sizeBytes"],u);const f=x(t,["createTime"]);f!=null&&v(n,["createTime"],f);const h=x(t,["expirationTime"]);h!=null&&v(n,["expirationTime"],h);const d=x(t,["updateTime"]);d!=null&&v(n,["updateTime"],d);const m=x(t,["sha256Hash"]);m!=null&&v(n,["sha256Hash"],m);const y=x(t,["uri"]);y!=null&&v(n,["uri"],y);const T=x(t,["downloadUri"]);T!=null&&v(n,["downloadUri"],T);const S=x(t,["state"]);S!=null&&v(n,["state"],S);const A=x(t,["source"]);A!=null&&v(n,["source"],A);const M=x(t,["videoMetadata"]);M!=null&&v(n,["videoMetadata"],M);const R=x(t,["error"]);return R!=null&&v(n,["error"],pE(e,R)),n}function yE(e,t){const n={},r=x(t,["file"]);r!=null&&v(n,["file"],gE(e,r));const a=x(t,["config"]);return a!=null&&v(n,["config"],a),n}function xE(e,t){const n={},r=x(t,["name"]);r!=null&&v(n,["_url","file"],Qb(e,r));const a=x(t,["config"]);return a!=null&&v(n,["config"],a),n}function vE(e,t){const n={},r=x(t,["name"]);r!=null&&v(n,["_url","file"],Qb(e,r));const a=x(t,["config"]);return a!=null&&v(n,["config"],a),n}function bE(e,t){const n={},r=x(t,["details"]);r!=null&&v(n,["details"],r);const a=x(t,["message"]);a!=null&&v(n,["message"],a);const l=x(t,["code"]);return l!=null&&v(n,["code"],l),n}function Hd(e,t){const n={},r=x(t,["name"]);r!=null&&v(n,["name"],r);const a=x(t,["displayName"]);a!=null&&v(n,["displayName"],a);const l=x(t,["mimeType"]);l!=null&&v(n,["mimeType"],l);const u=x(t,["sizeBytes"]);u!=null&&v(n,["sizeBytes"],u);const f=x(t,["createTime"]);f!=null&&v(n,["createTime"],f);const h=x(t,["expirationTime"]);h!=null&&v(n,["expirationTime"],h);const d=x(t,["updateTime"]);d!=null&&v(n,["updateTime"],d);const m=x(t,["sha256Hash"]);m!=null&&v(n,["sha256Hash"],m);const y=x(t,["uri"]);y!=null&&v(n,["uri"],y);const T=x(t,["downloadUri"]);T!=null&&v(n,["downloadUri"],T);const S=x(t,["state"]);S!=null&&v(n,["state"],S);const A=x(t,["source"]);A!=null&&v(n,["source"],A);const M=x(t,["videoMetadata"]);M!=null&&v(n,["videoMetadata"],M);const R=x(t,["error"]);return R!=null&&v(n,["error"],bE(e,R)),n}function TE(e,t){const n={},r=x(t,["nextPageToken"]);r!=null&&v(n,["nextPageToken"],r);const a=x(t,["files"]);if(a!=null){let l=a;Array.isArray(l)&&(l=l.map(u=>Hd(e,u))),v(n,["files"],l)}return n}function SE(){return{}}function CE(){return{}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class wE extends Is{constructor(t){super(),this.apiClient=t,this.list=async(n={})=>new Ih(ys.PAGED_ITEM_FILES,r=>this.listInternal(r),await this.listInternal(n),n)}async upload(t){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(t.file,t.config).then(n=>Hd(this.apiClient,n))}async listInternal(t){var n,r;let a,l="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const f=mE(this.apiClient,t);return l=De("files",f._url),u=f._query,delete f.config,delete f._url,delete f._query,a=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),a.then(h=>{const d=TE(this.apiClient,h),m=new rE;return Object.assign(m,d),m})}}async createInternal(t){var n,r;let a,l="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const f=yE(this.apiClient,t);return l=De("upload/v1beta/files",f._url),u=f._query,delete f.config,delete f._url,delete f._query,a=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),a.then(()=>{const h=SE(),d=new oE;return Object.assign(d,h),d})}}async get(t){var n,r;let a,l="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const f=xE(this.apiClient,t);return l=De("files/{file}",f._url),u=f._query,delete f.config,delete f._url,delete f._query,a=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),a.then(h=>Hd(this.apiClient,h))}}async delete(t){var n,r;let a,l="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const f=vE(this.apiClient,t);return l=De("files/{file}",f._url),u=f._query,delete f.config,delete f._url,delete f._query,a=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),a.then(()=>{const h=CE(),d=new aE;return Object.assign(d,h),d})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function AE(e,t){const n={};if(x(t,["videoMetadata"])!==void 0)throw new Error("videoMetadata parameter is not supported in Gemini API.");const r=x(t,["thought"]);r!=null&&v(n,["thought"],r);const a=x(t,["codeExecutionResult"]);a!=null&&v(n,["codeExecutionResult"],a);const l=x(t,["executableCode"]);l!=null&&v(n,["executableCode"],l);const u=x(t,["fileData"]);u!=null&&v(n,["fileData"],u);const f=x(t,["functionCall"]);f!=null&&v(n,["functionCall"],f);const h=x(t,["functionResponse"]);h!=null&&v(n,["functionResponse"],h);const d=x(t,["inlineData"]);d!=null&&v(n,["inlineData"],d);const m=x(t,["text"]);return m!=null&&v(n,["text"],m),n}function EE(e,t){const n={},r=x(t,["videoMetadata"]);r!=null&&v(n,["videoMetadata"],r);const a=x(t,["thought"]);a!=null&&v(n,["thought"],a);const l=x(t,["codeExecutionResult"]);l!=null&&v(n,["codeExecutionResult"],l);const u=x(t,["executableCode"]);u!=null&&v(n,["executableCode"],u);const f=x(t,["fileData"]);f!=null&&v(n,["fileData"],f);const h=x(t,["functionCall"]);h!=null&&v(n,["functionCall"],h);const d=x(t,["functionResponse"]);d!=null&&v(n,["functionResponse"],d);const m=x(t,["inlineData"]);m!=null&&v(n,["inlineData"],m);const y=x(t,["text"]);return y!=null&&v(n,["text"],y),n}function ME(e,t){const n={},r=x(t,["parts"]);if(r!=null){let l=r;Array.isArray(l)&&(l=l.map(u=>AE(e,u))),v(n,["parts"],l)}const a=x(t,["role"]);return a!=null&&v(n,["role"],a),n}function kE(e,t){const n={},r=x(t,["parts"]);if(r!=null){let l=r;Array.isArray(l)&&(l=l.map(u=>EE(e,u))),v(n,["parts"],l)}const a=x(t,["role"]);return a!=null&&v(n,["role"],a),n}function IE(){return{}}function NE(){return{}}function DE(e,t){const n={},r=x(t,["mode"]);r!=null&&v(n,["mode"],r);const a=x(t,["dynamicThreshold"]);return a!=null&&v(n,["dynamicThreshold"],a),n}function RE(e,t){const n={},r=x(t,["mode"]);r!=null&&v(n,["mode"],r);const a=x(t,["dynamicThreshold"]);return a!=null&&v(n,["dynamicThreshold"],a),n}function _E(e,t){const n={},r=x(t,["dynamicRetrievalConfig"]);return r!=null&&v(n,["dynamicRetrievalConfig"],DE(e,r)),n}function VE(e,t){const n={},r=x(t,["dynamicRetrievalConfig"]);return r!=null&&v(n,["dynamicRetrievalConfig"],RE(e,r)),n}function PE(e,t){const n={};if(x(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");x(t,["googleSearch"])!=null&&v(n,["googleSearch"],IE());const a=x(t,["googleSearchRetrieval"]);a!=null&&v(n,["googleSearchRetrieval"],_E(e,a));const l=x(t,["codeExecution"]);l!=null&&v(n,["codeExecution"],l);const u=x(t,["functionDeclarations"]);return u!=null&&v(n,["functionDeclarations"],u),n}function LE(e,t){const n={},r=x(t,["retrieval"]);r!=null&&v(n,["retrieval"],r),x(t,["googleSearch"])!=null&&v(n,["googleSearch"],NE());const l=x(t,["googleSearchRetrieval"]);l!=null&&v(n,["googleSearchRetrieval"],VE(e,l));const u=x(t,["codeExecution"]);u!=null&&v(n,["codeExecution"],u);const f=x(t,["functionDeclarations"]);return f!=null&&v(n,["functionDeclarations"],f),n}function BE(e,t){const n={},r=x(t,["handle"]);if(r!=null&&v(n,["handle"],r),x(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return n}function jE(e,t){const n={},r=x(t,["handle"]);r!=null&&v(n,["handle"],r);const a=x(t,["transparent"]);return a!=null&&v(n,["transparent"],a),n}function OE(){return{}}function ox(){return{}}function zE(e,t){const n={},r=x(t,["disabled"]);r!=null&&v(n,["disabled"],r);const a=x(t,["startOfSpeechSensitivity"]);a!=null&&v(n,["startOfSpeechSensitivity"],a);const l=x(t,["endOfSpeechSensitivity"]);l!=null&&v(n,["endOfSpeechSensitivity"],l);const u=x(t,["prefixPaddingMs"]);u!=null&&v(n,["prefixPaddingMs"],u);const f=x(t,["silenceDurationMs"]);return f!=null&&v(n,["silenceDurationMs"],f),n}function FE(e,t){const n={},r=x(t,["disabled"]);r!=null&&v(n,["disabled"],r);const a=x(t,["startOfSpeechSensitivity"]);a!=null&&v(n,["startOfSpeechSensitivity"],a);const l=x(t,["endOfSpeechSensitivity"]);l!=null&&v(n,["endOfSpeechSensitivity"],l);const u=x(t,["prefixPaddingMs"]);u!=null&&v(n,["prefixPaddingMs"],u);const f=x(t,["silenceDurationMs"]);return f!=null&&v(n,["silenceDurationMs"],f),n}function UE(e,t){const n={},r=x(t,["automaticActivityDetection"]);r!=null&&v(n,["automaticActivityDetection"],zE(e,r));const a=x(t,["activityHandling"]);a!=null&&v(n,["activityHandling"],a);const l=x(t,["turnCoverage"]);return l!=null&&v(n,["turnCoverage"],l),n}function HE(e,t){const n={},r=x(t,["automaticActivityDetection"]);r!=null&&v(n,["automaticActivityDetection"],FE(e,r));const a=x(t,["activityHandling"]);a!=null&&v(n,["activityHandling"],a);const l=x(t,["turnCoverage"]);return l!=null&&v(n,["turnCoverage"],l),n}function GE(e,t){const n={},r=x(t,["targetTokens"]);return r!=null&&v(n,["targetTokens"],r),n}function qE(e,t){const n={},r=x(t,["targetTokens"]);return r!=null&&v(n,["targetTokens"],r),n}function $E(e,t){const n={},r=x(t,["triggerTokens"]);r!=null&&v(n,["triggerTokens"],r);const a=x(t,["slidingWindow"]);return a!=null&&v(n,["slidingWindow"],GE(e,a)),n}function YE(e,t){const n={},r=x(t,["triggerTokens"]);r!=null&&v(n,["triggerTokens"],r);const a=x(t,["slidingWindow"]);return a!=null&&v(n,["slidingWindow"],qE(e,a)),n}function KE(e,t,n){const r={},a=x(t,["generationConfig"]);n!==void 0&&a!=null&&v(n,["setup","generationConfig"],a);const l=x(t,["responseModalities"]);n!==void 0&&l!=null&&v(n,["setup","generationConfig","responseModalities"],l);const u=x(t,["temperature"]);n!==void 0&&u!=null&&v(n,["setup","generationConfig","temperature"],u);const f=x(t,["topP"]);n!==void 0&&f!=null&&v(n,["setup","generationConfig","topP"],f);const h=x(t,["topK"]);n!==void 0&&h!=null&&v(n,["setup","generationConfig","topK"],h);const d=x(t,["maxOutputTokens"]);n!==void 0&&d!=null&&v(n,["setup","generationConfig","maxOutputTokens"],d);const m=x(t,["mediaResolution"]);n!==void 0&&m!=null&&v(n,["setup","generationConfig","mediaResolution"],m);const y=x(t,["seed"]);n!==void 0&&y!=null&&v(n,["setup","generationConfig","seed"],y);const T=x(t,["speechConfig"]);n!==void 0&&T!=null&&v(n,["setup","generationConfig","speechConfig"],T);const S=x(t,["systemInstruction"]);n!==void 0&&S!=null&&v(n,["setup","systemInstruction"],ME(e,an(e,S)));const A=x(t,["tools"]);if(n!==void 0&&A!=null){let N=Vu(e,A);Array.isArray(N)&&(N=N.map(j=>PE(e,_u(e,j)))),v(n,["setup","tools"],N)}const M=x(t,["sessionResumption"]);if(n!==void 0&&M!=null&&v(n,["setup","sessionResumption"],BE(e,M)),x(t,["inputAudioTranscription"])!==void 0)throw new Error("inputAudioTranscription parameter is not supported in Gemini API.");const R=x(t,["outputAudioTranscription"]);n!==void 0&&R!=null&&v(n,["setup","outputAudioTranscription"],OE());const I=x(t,["realtimeInputConfig"]);n!==void 0&&I!=null&&v(n,["setup","realtimeInputConfig"],UE(e,I));const P=x(t,["contextWindowCompression"]);return n!==void 0&&P!=null&&v(n,["setup","contextWindowCompression"],$E(e,P)),r}function XE(e,t,n){const r={},a=x(t,["generationConfig"]);n!==void 0&&a!=null&&v(n,["setup","generationConfig"],a);const l=x(t,["responseModalities"]);n!==void 0&&l!=null&&v(n,["setup","generationConfig","responseModalities"],l);const u=x(t,["temperature"]);n!==void 0&&u!=null&&v(n,["setup","generationConfig","temperature"],u);const f=x(t,["topP"]);n!==void 0&&f!=null&&v(n,["setup","generationConfig","topP"],f);const h=x(t,["topK"]);n!==void 0&&h!=null&&v(n,["setup","generationConfig","topK"],h);const d=x(t,["maxOutputTokens"]);n!==void 0&&d!=null&&v(n,["setup","generationConfig","maxOutputTokens"],d);const m=x(t,["mediaResolution"]);n!==void 0&&m!=null&&v(n,["setup","generationConfig","mediaResolution"],m);const y=x(t,["seed"]);n!==void 0&&y!=null&&v(n,["setup","generationConfig","seed"],y);const T=x(t,["speechConfig"]);n!==void 0&&T!=null&&v(n,["setup","generationConfig","speechConfig"],T);const S=x(t,["systemInstruction"]);n!==void 0&&S!=null&&v(n,["setup","systemInstruction"],kE(e,an(e,S)));const A=x(t,["tools"]);if(n!==void 0&&A!=null){let j=Vu(e,A);Array.isArray(j)&&(j=j.map(H=>LE(e,_u(e,H)))),v(n,["setup","tools"],j)}const M=x(t,["sessionResumption"]);n!==void 0&&M!=null&&v(n,["setup","sessionResumption"],jE(e,M));const R=x(t,["inputAudioTranscription"]);n!==void 0&&R!=null&&v(n,["setup","inputAudioTranscription"],ox());const I=x(t,["outputAudioTranscription"]);n!==void 0&&I!=null&&v(n,["setup","outputAudioTranscription"],ox());const P=x(t,["realtimeInputConfig"]);n!==void 0&&P!=null&&v(n,["setup","realtimeInputConfig"],HE(e,P));const N=x(t,["contextWindowCompression"]);return n!==void 0&&N!=null&&v(n,["setup","contextWindowCompression"],YE(e,N)),r}function QE(e,t){const n={},r=x(t,["model"]);r!=null&&v(n,["setup","model"],pt(e,r));const a=x(t,["config"]);return a!=null&&v(n,["config"],KE(e,a,n)),n}function JE(e,t){const n={},r=x(t,["model"]);r!=null&&v(n,["setup","model"],pt(e,r));const a=x(t,["config"]);return a!=null&&v(n,["config"],XE(e,a,n)),n}function ZE(){return{}}function WE(){return{}}function eM(){return{}}function tM(){return{}}function nM(e,t){const n={},r=x(t,["media"]);r!=null&&v(n,["mediaChunks"],Gb(e,r));const a=x(t,["audio"]);a!=null&&v(n,["audio"],TA(e,a));const l=x(t,["audioStreamEnd"]);l!=null&&v(n,["audioStreamEnd"],l);const u=x(t,["video"]);u!=null&&v(n,["video"],bA(e,u));const f=x(t,["text"]);return f!=null&&v(n,["text"],f),x(t,["activityStart"])!=null&&v(n,["activityStart"],ZE()),x(t,["activityEnd"])!=null&&v(n,["activityEnd"],eM()),n}function iM(e,t){const n={},r=x(t,["media"]);if(r!=null&&v(n,["mediaChunks"],Gb(e,r)),x(t,["audio"])!==void 0)throw new Error("audio parameter is not supported in Vertex AI.");const a=x(t,["audioStreamEnd"]);if(a!=null&&v(n,["audioStreamEnd"],a),x(t,["video"])!==void 0)throw new Error("video parameter is not supported in Vertex AI.");if(x(t,["text"])!==void 0)throw new Error("text parameter is not supported in Vertex AI.");return x(t,["activityStart"])!=null&&v(n,["activityStart"],WE()),x(t,["activityEnd"])!=null&&v(n,["activityEnd"],tM()),n}function rM(){return{}}function oM(){return{}}function aM(e,t){const n={},r=x(t,["thought"]);r!=null&&v(n,["thought"],r);const a=x(t,["codeExecutionResult"]);a!=null&&v(n,["codeExecutionResult"],a);const l=x(t,["executableCode"]);l!=null&&v(n,["executableCode"],l);const u=x(t,["fileData"]);u!=null&&v(n,["fileData"],u);const f=x(t,["functionCall"]);f!=null&&v(n,["functionCall"],f);const h=x(t,["functionResponse"]);h!=null&&v(n,["functionResponse"],h);const d=x(t,["inlineData"]);d!=null&&v(n,["inlineData"],d);const m=x(t,["text"]);return m!=null&&v(n,["text"],m),n}function sM(e,t){const n={},r=x(t,["videoMetadata"]);r!=null&&v(n,["videoMetadata"],r);const a=x(t,["thought"]);a!=null&&v(n,["thought"],a);const l=x(t,["codeExecutionResult"]);l!=null&&v(n,["codeExecutionResult"],l);const u=x(t,["executableCode"]);u!=null&&v(n,["executableCode"],u);const f=x(t,["fileData"]);f!=null&&v(n,["fileData"],f);const h=x(t,["functionCall"]);h!=null&&v(n,["functionCall"],h);const d=x(t,["functionResponse"]);d!=null&&v(n,["functionResponse"],d);const m=x(t,["inlineData"]);m!=null&&v(n,["inlineData"],m);const y=x(t,["text"]);return y!=null&&v(n,["text"],y),n}function lM(e,t){const n={},r=x(t,["parts"]);if(r!=null){let l=r;Array.isArray(l)&&(l=l.map(u=>aM(e,u))),v(n,["parts"],l)}const a=x(t,["role"]);return a!=null&&v(n,["role"],a),n}function uM(e,t){const n={},r=x(t,["parts"]);if(r!=null){let l=r;Array.isArray(l)&&(l=l.map(u=>sM(e,u))),v(n,["parts"],l)}const a=x(t,["role"]);return a!=null&&v(n,["role"],a),n}function ax(e,t){const n={},r=x(t,["text"]);r!=null&&v(n,["text"],r);const a=x(t,["finished"]);return a!=null&&v(n,["finished"],a),n}function sx(e,t){const n={},r=x(t,["text"]);r!=null&&v(n,["text"],r);const a=x(t,["finished"]);return a!=null&&v(n,["finished"],a),n}function cM(e,t){const n={},r=x(t,["modelTurn"]);r!=null&&v(n,["modelTurn"],lM(e,r));const a=x(t,["turnComplete"]);a!=null&&v(n,["turnComplete"],a);const l=x(t,["interrupted"]);l!=null&&v(n,["interrupted"],l);const u=x(t,["groundingMetadata"]);u!=null&&v(n,["groundingMetadata"],u);const f=x(t,["generationComplete"]);f!=null&&v(n,["generationComplete"],f);const h=x(t,["inputTranscription"]);h!=null&&v(n,["inputTranscription"],ax(e,h));const d=x(t,["outputTranscription"]);return d!=null&&v(n,["outputTranscription"],ax(e,d)),n}function fM(e,t){const n={},r=x(t,["modelTurn"]);r!=null&&v(n,["modelTurn"],uM(e,r));const a=x(t,["turnComplete"]);a!=null&&v(n,["turnComplete"],a);const l=x(t,["interrupted"]);l!=null&&v(n,["interrupted"],l);const u=x(t,["groundingMetadata"]);u!=null&&v(n,["groundingMetadata"],u);const f=x(t,["generationComplete"]);f!=null&&v(n,["generationComplete"],f);const h=x(t,["inputTranscription"]);h!=null&&v(n,["inputTranscription"],sx(e,h));const d=x(t,["outputTranscription"]);return d!=null&&v(n,["outputTranscription"],sx(e,d)),n}function dM(e,t){const n={},r=x(t,["id"]);r!=null&&v(n,["id"],r);const a=x(t,["args"]);a!=null&&v(n,["args"],a);const l=x(t,["name"]);return l!=null&&v(n,["name"],l),n}function hM(e,t){const n={},r=x(t,["args"]);r!=null&&v(n,["args"],r);const a=x(t,["name"]);return a!=null&&v(n,["name"],a),n}function mM(e,t){const n={},r=x(t,["functionCalls"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(l=>dM(e,l))),v(n,["functionCalls"],a)}return n}function pM(e,t){const n={},r=x(t,["functionCalls"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(l=>hM(e,l))),v(n,["functionCalls"],a)}return n}function gM(e,t){const n={},r=x(t,["ids"]);return r!=null&&v(n,["ids"],r),n}function yM(e,t){const n={},r=x(t,["ids"]);return r!=null&&v(n,["ids"],r),n}function Jl(e,t){const n={},r=x(t,["modality"]);r!=null&&v(n,["modality"],r);const a=x(t,["tokenCount"]);return a!=null&&v(n,["tokenCount"],a),n}function Zl(e,t){const n={},r=x(t,["modality"]);r!=null&&v(n,["modality"],r);const a=x(t,["tokenCount"]);return a!=null&&v(n,["tokenCount"],a),n}function xM(e,t){const n={},r=x(t,["promptTokenCount"]);r!=null&&v(n,["promptTokenCount"],r);const a=x(t,["cachedContentTokenCount"]);a!=null&&v(n,["cachedContentTokenCount"],a);const l=x(t,["responseTokenCount"]);l!=null&&v(n,["responseTokenCount"],l);const u=x(t,["toolUsePromptTokenCount"]);u!=null&&v(n,["toolUsePromptTokenCount"],u);const f=x(t,["thoughtsTokenCount"]);f!=null&&v(n,["thoughtsTokenCount"],f);const h=x(t,["totalTokenCount"]);h!=null&&v(n,["totalTokenCount"],h);const d=x(t,["promptTokensDetails"]);if(d!=null){let S=d;Array.isArray(S)&&(S=S.map(A=>Jl(e,A))),v(n,["promptTokensDetails"],S)}const m=x(t,["cacheTokensDetails"]);if(m!=null){let S=m;Array.isArray(S)&&(S=S.map(A=>Jl(e,A))),v(n,["cacheTokensDetails"],S)}const y=x(t,["responseTokensDetails"]);if(y!=null){let S=y;Array.isArray(S)&&(S=S.map(A=>Jl(e,A))),v(n,["responseTokensDetails"],S)}const T=x(t,["toolUsePromptTokensDetails"]);if(T!=null){let S=T;Array.isArray(S)&&(S=S.map(A=>Jl(e,A))),v(n,["toolUsePromptTokensDetails"],S)}return n}function vM(e,t){const n={},r=x(t,["promptTokenCount"]);r!=null&&v(n,["promptTokenCount"],r);const a=x(t,["cachedContentTokenCount"]);a!=null&&v(n,["cachedContentTokenCount"],a);const l=x(t,["candidatesTokenCount"]);l!=null&&v(n,["responseTokenCount"],l);const u=x(t,["toolUsePromptTokenCount"]);u!=null&&v(n,["toolUsePromptTokenCount"],u);const f=x(t,["thoughtsTokenCount"]);f!=null&&v(n,["thoughtsTokenCount"],f);const h=x(t,["totalTokenCount"]);h!=null&&v(n,["totalTokenCount"],h);const d=x(t,["promptTokensDetails"]);if(d!=null){let A=d;Array.isArray(A)&&(A=A.map(M=>Zl(e,M))),v(n,["promptTokensDetails"],A)}const m=x(t,["cacheTokensDetails"]);if(m!=null){let A=m;Array.isArray(A)&&(A=A.map(M=>Zl(e,M))),v(n,["cacheTokensDetails"],A)}const y=x(t,["candidatesTokensDetails"]);if(y!=null){let A=y;Array.isArray(A)&&(A=A.map(M=>Zl(e,M))),v(n,["responseTokensDetails"],A)}const T=x(t,["toolUsePromptTokensDetails"]);if(T!=null){let A=T;Array.isArray(A)&&(A=A.map(M=>Zl(e,M))),v(n,["toolUsePromptTokensDetails"],A)}const S=x(t,["trafficType"]);return S!=null&&v(n,["trafficType"],S),n}function bM(e,t){const n={},r=x(t,["timeLeft"]);return r!=null&&v(n,["timeLeft"],r),n}function TM(e,t){const n={},r=x(t,["timeLeft"]);return r!=null&&v(n,["timeLeft"],r),n}function SM(e,t){const n={},r=x(t,["newHandle"]);r!=null&&v(n,["newHandle"],r);const a=x(t,["resumable"]);a!=null&&v(n,["resumable"],a);const l=x(t,["lastConsumedClientMessageIndex"]);return l!=null&&v(n,["lastConsumedClientMessageIndex"],l),n}function CM(e,t){const n={},r=x(t,["newHandle"]);r!=null&&v(n,["newHandle"],r);const a=x(t,["resumable"]);a!=null&&v(n,["resumable"],a);const l=x(t,["lastConsumedClientMessageIndex"]);return l!=null&&v(n,["lastConsumedClientMessageIndex"],l),n}function wM(e,t){const n={};x(t,["setupComplete"])!=null&&v(n,["setupComplete"],rM());const a=x(t,["serverContent"]);a!=null&&v(n,["serverContent"],cM(e,a));const l=x(t,["toolCall"]);l!=null&&v(n,["toolCall"],mM(e,l));const u=x(t,["toolCallCancellation"]);u!=null&&v(n,["toolCallCancellation"],gM(e,u));const f=x(t,["usageMetadata"]);f!=null&&v(n,["usageMetadata"],xM(e,f));const h=x(t,["goAway"]);h!=null&&v(n,["goAway"],bM(e,h));const d=x(t,["sessionResumptionUpdate"]);return d!=null&&v(n,["sessionResumptionUpdate"],SM(e,d)),n}function AM(e,t){const n={};x(t,["setupComplete"])!=null&&v(n,["setupComplete"],oM());const a=x(t,["serverContent"]);a!=null&&v(n,["serverContent"],fM(e,a));const l=x(t,["toolCall"]);l!=null&&v(n,["toolCall"],pM(e,l));const u=x(t,["toolCallCancellation"]);u!=null&&v(n,["toolCallCancellation"],yM(e,u));const f=x(t,["usageMetadata"]);f!=null&&v(n,["usageMetadata"],vM(e,f));const h=x(t,["goAway"]);h!=null&&v(n,["goAway"],TM(e,h));const d=x(t,["sessionResumptionUpdate"]);return d!=null&&v(n,["sessionResumptionUpdate"],CM(e,d)),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function EM(e,t){const n={};if(x(t,["videoMetadata"])!==void 0)throw new Error("videoMetadata parameter is not supported in Gemini API.");const r=x(t,["thought"]);r!=null&&v(n,["thought"],r);const a=x(t,["codeExecutionResult"]);a!=null&&v(n,["codeExecutionResult"],a);const l=x(t,["executableCode"]);l!=null&&v(n,["executableCode"],l);const u=x(t,["fileData"]);u!=null&&v(n,["fileData"],u);const f=x(t,["functionCall"]);f!=null&&v(n,["functionCall"],f);const h=x(t,["functionResponse"]);h!=null&&v(n,["functionResponse"],h);const d=x(t,["inlineData"]);d!=null&&v(n,["inlineData"],d);const m=x(t,["text"]);return m!=null&&v(n,["text"],m),n}function Pu(e,t){const n={},r=x(t,["parts"]);if(r!=null){let l=r;Array.isArray(l)&&(l=l.map(u=>EM(e,u))),v(n,["parts"],l)}const a=x(t,["role"]);return a!=null&&v(n,["role"],a),n}function MM(e,t){const n={};if(x(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const r=x(t,["category"]);r!=null&&v(n,["category"],r);const a=x(t,["threshold"]);return a!=null&&v(n,["threshold"],a),n}function kM(){return{}}function IM(e,t){const n={},r=x(t,["mode"]);r!=null&&v(n,["mode"],r);const a=x(t,["dynamicThreshold"]);return a!=null&&v(n,["dynamicThreshold"],a),n}function NM(e,t){const n={},r=x(t,["dynamicRetrievalConfig"]);return r!=null&&v(n,["dynamicRetrievalConfig"],IM(e,r)),n}function DM(e,t){const n={};if(x(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");x(t,["googleSearch"])!=null&&v(n,["googleSearch"],kM());const a=x(t,["googleSearchRetrieval"]);a!=null&&v(n,["googleSearchRetrieval"],NM(e,a));const l=x(t,["codeExecution"]);l!=null&&v(n,["codeExecution"],l);const u=x(t,["functionDeclarations"]);return u!=null&&v(n,["functionDeclarations"],u),n}function RM(e,t){const n={},r=x(t,["mode"]);r!=null&&v(n,["mode"],r);const a=x(t,["allowedFunctionNames"]);return a!=null&&v(n,["allowedFunctionNames"],a),n}function _M(e,t){const n={},r=x(t,["functionCallingConfig"]);return r!=null&&v(n,["functionCallingConfig"],RM(e,r)),n}function VM(e,t){const n={},r=x(t,["voiceName"]);return r!=null&&v(n,["voiceName"],r),n}function PM(e,t){const n={},r=x(t,["prebuiltVoiceConfig"]);return r!=null&&v(n,["prebuiltVoiceConfig"],VM(e,r)),n}function LM(e,t){const n={},r=x(t,["voiceConfig"]);r!=null&&v(n,["voiceConfig"],PM(e,r));const a=x(t,["languageCode"]);return a!=null&&v(n,["languageCode"],a),n}function BM(e,t){const n={},r=x(t,["includeThoughts"]);r!=null&&v(n,["includeThoughts"],r);const a=x(t,["thinkingBudget"]);return a!=null&&v(n,["thinkingBudget"],a),n}function jM(e,t,n){const r={},a=x(t,["systemInstruction"]);n!==void 0&&a!=null&&v(n,["systemInstruction"],Pu(e,an(e,a)));const l=x(t,["temperature"]);l!=null&&v(r,["temperature"],l);const u=x(t,["topP"]);u!=null&&v(r,["topP"],u);const f=x(t,["topK"]);f!=null&&v(r,["topK"],f);const h=x(t,["candidateCount"]);h!=null&&v(r,["candidateCount"],h);const d=x(t,["maxOutputTokens"]);d!=null&&v(r,["maxOutputTokens"],d);const m=x(t,["stopSequences"]);m!=null&&v(r,["stopSequences"],m);const y=x(t,["responseLogprobs"]);y!=null&&v(r,["responseLogprobs"],y);const T=x(t,["logprobs"]);T!=null&&v(r,["logprobs"],T);const S=x(t,["presencePenalty"]);S!=null&&v(r,["presencePenalty"],S);const A=x(t,["frequencyPenalty"]);A!=null&&v(r,["frequencyPenalty"],A);const M=x(t,["seed"]);M!=null&&v(r,["seed"],M);const R=x(t,["responseMimeType"]);R!=null&&v(r,["responseMimeType"],R);const I=x(t,["responseSchema"]);if(I!=null&&v(r,["responseSchema"],Yb(e,I)),x(t,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(x(t,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const P=x(t,["safetySettings"]);if(n!==void 0&&P!=null){let F=P;Array.isArray(F)&&(F=F.map(ue=>MM(e,ue))),v(n,["safetySettings"],F)}const N=x(t,["tools"]);if(n!==void 0&&N!=null){let F=Vu(e,N);Array.isArray(F)&&(F=F.map(ue=>DM(e,_u(e,ue)))),v(n,["tools"],F)}const j=x(t,["toolConfig"]);if(n!==void 0&&j!=null&&v(n,["toolConfig"],_M(e,j)),x(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const H=x(t,["cachedContent"]);n!==void 0&&H!=null&&v(n,["cachedContent"],or(e,H));const U=x(t,["responseModalities"]);U!=null&&v(r,["responseModalities"],U);const ie=x(t,["mediaResolution"]);ie!=null&&v(r,["mediaResolution"],ie);const le=x(t,["speechConfig"]);if(le!=null&&v(r,["speechConfig"],LM(e,Kb(e,le))),x(t,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const pe=x(t,["thinkingConfig"]);return pe!=null&&v(r,["thinkingConfig"],BM(e,pe)),r}function lx(e,t){const n={},r=x(t,["model"]);r!=null&&v(n,["_url","model"],pt(e,r));const a=x(t,["contents"]);if(a!=null){let u=rr(e,a);Array.isArray(u)&&(u=u.map(f=>Pu(e,f))),v(n,["contents"],u)}const l=x(t,["config"]);return l!=null&&v(n,["generationConfig"],jM(e,l,n)),n}function OM(e,t,n){const r={},a=x(t,["taskType"]);n!==void 0&&a!=null&&v(n,["requests[]","taskType"],a);const l=x(t,["title"]);n!==void 0&&l!=null&&v(n,["requests[]","title"],l);const u=x(t,["outputDimensionality"]);if(n!==void 0&&u!=null&&v(n,["requests[]","outputDimensionality"],u),x(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(x(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return r}function zM(e,t){const n={},r=x(t,["model"]);r!=null&&v(n,["_url","model"],pt(e,r));const a=x(t,["contents"]);a!=null&&v(n,["requests[]","content"],$b(e,a));const l=x(t,["config"]);l!=null&&v(n,["config"],OM(e,l,n));const u=x(t,["model"]);return u!==void 0&&v(n,["requests[]","model"],pt(e,u)),n}function FM(e,t,n){const r={};if(x(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(x(t,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const a=x(t,["numberOfImages"]);n!==void 0&&a!=null&&v(n,["parameters","sampleCount"],a);const l=x(t,["aspectRatio"]);n!==void 0&&l!=null&&v(n,["parameters","aspectRatio"],l);const u=x(t,["guidanceScale"]);if(n!==void 0&&u!=null&&v(n,["parameters","guidanceScale"],u),x(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const f=x(t,["safetyFilterLevel"]);n!==void 0&&f!=null&&v(n,["parameters","safetySetting"],f);const h=x(t,["personGeneration"]);n!==void 0&&h!=null&&v(n,["parameters","personGeneration"],h);const d=x(t,["includeSafetyAttributes"]);n!==void 0&&d!=null&&v(n,["parameters","includeSafetyAttributes"],d);const m=x(t,["includeRaiReason"]);n!==void 0&&m!=null&&v(n,["parameters","includeRaiReason"],m);const y=x(t,["language"]);n!==void 0&&y!=null&&v(n,["parameters","language"],y);const T=x(t,["outputMimeType"]);n!==void 0&&T!=null&&v(n,["parameters","outputOptions","mimeType"],T);const S=x(t,["outputCompressionQuality"]);if(n!==void 0&&S!=null&&v(n,["parameters","outputOptions","compressionQuality"],S),x(t,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(x(t,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return r}function UM(e,t){const n={},r=x(t,["model"]);r!=null&&v(n,["_url","model"],pt(e,r));const a=x(t,["prompt"]);a!=null&&v(n,["instances[0]","prompt"],a);const l=x(t,["config"]);return l!=null&&v(n,["config"],FM(e,l,n)),n}function HM(e,t){const n={},r=x(t,["model"]);r!=null&&v(n,["_url","name"],pt(e,r));const a=x(t,["config"]);return a!=null&&v(n,["config"],a),n}function GM(e,t,n){const r={},a=x(t,["displayName"]);n!==void 0&&a!=null&&v(n,["displayName"],a);const l=x(t,["description"]);return n!==void 0&&l!=null&&v(n,["description"],l),r}function qM(e,t){const n={},r=x(t,["model"]);r!=null&&v(n,["_url","name"],pt(e,r));const a=x(t,["config"]);return a!=null&&v(n,["config"],GM(e,a,n)),n}function $M(e,t){const n={},r=x(t,["model"]);r!=null&&v(n,["_url","name"],pt(e,r));const a=x(t,["config"]);return a!=null&&v(n,["config"],a),n}function YM(e,t){const n={};if(x(t,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(x(t,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(x(t,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return n}function KM(e,t){const n={},r=x(t,["model"]);r!=null&&v(n,["_url","model"],pt(e,r));const a=x(t,["contents"]);if(a!=null){let u=rr(e,a);Array.isArray(u)&&(u=u.map(f=>Pu(e,f))),v(n,["contents"],u)}const l=x(t,["config"]);return l!=null&&v(n,["config"],YM(e,l)),n}function XM(e,t){const n={};if(x(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const r=x(t,["imageBytes"]);r!=null&&v(n,["bytesBase64Encoded"],ar(e,r));const a=x(t,["mimeType"]);return a!=null&&v(n,["mimeType"],a),n}function QM(e,t,n){const r={},a=x(t,["numberOfVideos"]);if(n!==void 0&&a!=null&&v(n,["parameters","sampleCount"],a),x(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(x(t,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const l=x(t,["durationSeconds"]);if(n!==void 0&&l!=null&&v(n,["parameters","durationSeconds"],l),x(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const u=x(t,["aspectRatio"]);if(n!==void 0&&u!=null&&v(n,["parameters","aspectRatio"],u),x(t,["resolution"])!==void 0)throw new Error("resolution parameter is not supported in Gemini API.");const f=x(t,["personGeneration"]);if(n!==void 0&&f!=null&&v(n,["parameters","personGeneration"],f),x(t,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const h=x(t,["negativePrompt"]);if(n!==void 0&&h!=null&&v(n,["parameters","negativePrompt"],h),x(t,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return r}function JM(e,t){const n={},r=x(t,["model"]);r!=null&&v(n,["_url","model"],pt(e,r));const a=x(t,["prompt"]);a!=null&&v(n,["instances[0]","prompt"],a);const l=x(t,["image"]);l!=null&&v(n,["instances[0]","image"],XM(e,l));const u=x(t,["config"]);return u!=null&&v(n,["config"],QM(e,u,n)),n}function ZM(e,t){const n={},r=x(t,["videoMetadata"]);r!=null&&v(n,["videoMetadata"],r);const a=x(t,["thought"]);a!=null&&v(n,["thought"],a);const l=x(t,["codeExecutionResult"]);l!=null&&v(n,["codeExecutionResult"],l);const u=x(t,["executableCode"]);u!=null&&v(n,["executableCode"],u);const f=x(t,["fileData"]);f!=null&&v(n,["fileData"],f);const h=x(t,["functionCall"]);h!=null&&v(n,["functionCall"],h);const d=x(t,["functionResponse"]);d!=null&&v(n,["functionResponse"],d);const m=x(t,["inlineData"]);m!=null&&v(n,["inlineData"],m);const y=x(t,["text"]);return y!=null&&v(n,["text"],y),n}function qo(e,t){const n={},r=x(t,["parts"]);if(r!=null){let l=r;Array.isArray(l)&&(l=l.map(u=>ZM(e,u))),v(n,["parts"],l)}const a=x(t,["role"]);return a!=null&&v(n,["role"],a),n}function WM(e,t){const n={},r=x(t,["featureSelectionPreference"]);return r!=null&&v(n,["featureSelectionPreference"],r),n}function ek(e,t){const n={},r=x(t,["method"]);r!=null&&v(n,["method"],r);const a=x(t,["category"]);a!=null&&v(n,["category"],a);const l=x(t,["threshold"]);return l!=null&&v(n,["threshold"],l),n}function tk(){return{}}function nk(e,t){const n={},r=x(t,["mode"]);r!=null&&v(n,["mode"],r);const a=x(t,["dynamicThreshold"]);return a!=null&&v(n,["dynamicThreshold"],a),n}function ik(e,t){const n={},r=x(t,["dynamicRetrievalConfig"]);return r!=null&&v(n,["dynamicRetrievalConfig"],nk(e,r)),n}function Zb(e,t){const n={},r=x(t,["retrieval"]);r!=null&&v(n,["retrieval"],r),x(t,["googleSearch"])!=null&&v(n,["googleSearch"],tk());const l=x(t,["googleSearchRetrieval"]);l!=null&&v(n,["googleSearchRetrieval"],ik(e,l));const u=x(t,["codeExecution"]);u!=null&&v(n,["codeExecution"],u);const f=x(t,["functionDeclarations"]);return f!=null&&v(n,["functionDeclarations"],f),n}function rk(e,t){const n={},r=x(t,["mode"]);r!=null&&v(n,["mode"],r);const a=x(t,["allowedFunctionNames"]);return a!=null&&v(n,["allowedFunctionNames"],a),n}function ok(e,t){const n={},r=x(t,["functionCallingConfig"]);return r!=null&&v(n,["functionCallingConfig"],rk(e,r)),n}function ak(e,t){const n={},r=x(t,["voiceName"]);return r!=null&&v(n,["voiceName"],r),n}function sk(e,t){const n={},r=x(t,["prebuiltVoiceConfig"]);return r!=null&&v(n,["prebuiltVoiceConfig"],ak(e,r)),n}function lk(e,t){const n={},r=x(t,["voiceConfig"]);r!=null&&v(n,["voiceConfig"],sk(e,r));const a=x(t,["languageCode"]);return a!=null&&v(n,["languageCode"],a),n}function uk(e,t){const n={},r=x(t,["includeThoughts"]);r!=null&&v(n,["includeThoughts"],r);const a=x(t,["thinkingBudget"]);return a!=null&&v(n,["thinkingBudget"],a),n}function ck(e,t,n){const r={},a=x(t,["systemInstruction"]);n!==void 0&&a!=null&&v(n,["systemInstruction"],qo(e,an(e,a)));const l=x(t,["temperature"]);l!=null&&v(r,["temperature"],l);const u=x(t,["topP"]);u!=null&&v(r,["topP"],u);const f=x(t,["topK"]);f!=null&&v(r,["topK"],f);const h=x(t,["candidateCount"]);h!=null&&v(r,["candidateCount"],h);const d=x(t,["maxOutputTokens"]);d!=null&&v(r,["maxOutputTokens"],d);const m=x(t,["stopSequences"]);m!=null&&v(r,["stopSequences"],m);const y=x(t,["responseLogprobs"]);y!=null&&v(r,["responseLogprobs"],y);const T=x(t,["logprobs"]);T!=null&&v(r,["logprobs"],T);const S=x(t,["presencePenalty"]);S!=null&&v(r,["presencePenalty"],S);const A=x(t,["frequencyPenalty"]);A!=null&&v(r,["frequencyPenalty"],A);const M=x(t,["seed"]);M!=null&&v(r,["seed"],M);const R=x(t,["responseMimeType"]);R!=null&&v(r,["responseMimeType"],R);const I=x(t,["responseSchema"]);I!=null&&v(r,["responseSchema"],Yb(e,I));const P=x(t,["routingConfig"]);P!=null&&v(r,["routingConfig"],P);const N=x(t,["modelSelectionConfig"]);N!=null&&v(r,["modelConfig"],WM(e,N));const j=x(t,["safetySettings"]);if(n!==void 0&&j!=null){let ae=j;Array.isArray(ae)&&(ae=ae.map(me=>ek(e,me))),v(n,["safetySettings"],ae)}const H=x(t,["tools"]);if(n!==void 0&&H!=null){let ae=Vu(e,H);Array.isArray(ae)&&(ae=ae.map(me=>Zb(e,_u(e,me)))),v(n,["tools"],ae)}const U=x(t,["toolConfig"]);n!==void 0&&U!=null&&v(n,["toolConfig"],ok(e,U));const ie=x(t,["labels"]);n!==void 0&&ie!=null&&v(n,["labels"],ie);const le=x(t,["cachedContent"]);n!==void 0&&le!=null&&v(n,["cachedContent"],or(e,le));const pe=x(t,["responseModalities"]);pe!=null&&v(r,["responseModalities"],pe);const F=x(t,["mediaResolution"]);F!=null&&v(r,["mediaResolution"],F);const ue=x(t,["speechConfig"]);ue!=null&&v(r,["speechConfig"],lk(e,Kb(e,ue)));const fe=x(t,["audioTimestamp"]);fe!=null&&v(r,["audioTimestamp"],fe);const W=x(t,["thinkingConfig"]);return W!=null&&v(r,["thinkingConfig"],uk(e,W)),r}function ux(e,t){const n={},r=x(t,["model"]);r!=null&&v(n,["_url","model"],pt(e,r));const a=x(t,["contents"]);if(a!=null){let u=rr(e,a);Array.isArray(u)&&(u=u.map(f=>qo(e,f))),v(n,["contents"],u)}const l=x(t,["config"]);return l!=null&&v(n,["generationConfig"],ck(e,l,n)),n}function fk(e,t,n){const r={},a=x(t,["taskType"]);n!==void 0&&a!=null&&v(n,["instances[]","task_type"],a);const l=x(t,["title"]);n!==void 0&&l!=null&&v(n,["instances[]","title"],l);const u=x(t,["outputDimensionality"]);n!==void 0&&u!=null&&v(n,["parameters","outputDimensionality"],u);const f=x(t,["mimeType"]);n!==void 0&&f!=null&&v(n,["instances[]","mimeType"],f);const h=x(t,["autoTruncate"]);return n!==void 0&&h!=null&&v(n,["parameters","autoTruncate"],h),r}function dk(e,t){const n={},r=x(t,["model"]);r!=null&&v(n,["_url","model"],pt(e,r));const a=x(t,["contents"]);a!=null&&v(n,["instances[]","content"],$b(e,a));const l=x(t,["config"]);return l!=null&&v(n,["config"],fk(e,l,n)),n}function hk(e,t,n){const r={},a=x(t,["outputGcsUri"]);n!==void 0&&a!=null&&v(n,["parameters","storageUri"],a);const l=x(t,["negativePrompt"]);n!==void 0&&l!=null&&v(n,["parameters","negativePrompt"],l);const u=x(t,["numberOfImages"]);n!==void 0&&u!=null&&v(n,["parameters","sampleCount"],u);const f=x(t,["aspectRatio"]);n!==void 0&&f!=null&&v(n,["parameters","aspectRatio"],f);const h=x(t,["guidanceScale"]);n!==void 0&&h!=null&&v(n,["parameters","guidanceScale"],h);const d=x(t,["seed"]);n!==void 0&&d!=null&&v(n,["parameters","seed"],d);const m=x(t,["safetyFilterLevel"]);n!==void 0&&m!=null&&v(n,["parameters","safetySetting"],m);const y=x(t,["personGeneration"]);n!==void 0&&y!=null&&v(n,["parameters","personGeneration"],y);const T=x(t,["includeSafetyAttributes"]);n!==void 0&&T!=null&&v(n,["parameters","includeSafetyAttributes"],T);const S=x(t,["includeRaiReason"]);n!==void 0&&S!=null&&v(n,["parameters","includeRaiReason"],S);const A=x(t,["language"]);n!==void 0&&A!=null&&v(n,["parameters","language"],A);const M=x(t,["outputMimeType"]);n!==void 0&&M!=null&&v(n,["parameters","outputOptions","mimeType"],M);const R=x(t,["outputCompressionQuality"]);n!==void 0&&R!=null&&v(n,["parameters","outputOptions","compressionQuality"],R);const I=x(t,["addWatermark"]);n!==void 0&&I!=null&&v(n,["parameters","addWatermark"],I);const P=x(t,["enhancePrompt"]);return n!==void 0&&P!=null&&v(n,["parameters","enhancePrompt"],P),r}function mk(e,t){const n={},r=x(t,["model"]);r!=null&&v(n,["_url","model"],pt(e,r));const a=x(t,["prompt"]);a!=null&&v(n,["instances[0]","prompt"],a);const l=x(t,["config"]);return l!=null&&v(n,["config"],hk(e,l,n)),n}function pk(e,t){const n={},r=x(t,["model"]);r!=null&&v(n,["_url","name"],pt(e,r));const a=x(t,["config"]);return a!=null&&v(n,["config"],a),n}function gk(e,t,n){const r={},a=x(t,["displayName"]);n!==void 0&&a!=null&&v(n,["displayName"],a);const l=x(t,["description"]);return n!==void 0&&l!=null&&v(n,["description"],l),r}function yk(e,t){const n={},r=x(t,["model"]);r!=null&&v(n,["_url","model"],pt(e,r));const a=x(t,["config"]);return a!=null&&v(n,["config"],gk(e,a,n)),n}function xk(e,t){const n={},r=x(t,["model"]);r!=null&&v(n,["_url","name"],pt(e,r));const a=x(t,["config"]);return a!=null&&v(n,["config"],a),n}function vk(e,t,n){const r={},a=x(t,["systemInstruction"]);n!==void 0&&a!=null&&v(n,["systemInstruction"],qo(e,an(e,a)));const l=x(t,["tools"]);if(n!==void 0&&l!=null){let f=l;Array.isArray(f)&&(f=f.map(h=>Zb(e,h))),v(n,["tools"],f)}const u=x(t,["generationConfig"]);return n!==void 0&&u!=null&&v(n,["generationConfig"],u),r}function bk(e,t){const n={},r=x(t,["model"]);r!=null&&v(n,["_url","model"],pt(e,r));const a=x(t,["contents"]);if(a!=null){let u=rr(e,a);Array.isArray(u)&&(u=u.map(f=>qo(e,f))),v(n,["contents"],u)}const l=x(t,["config"]);return l!=null&&v(n,["config"],vk(e,l,n)),n}function Tk(e,t){const n={},r=x(t,["model"]);r!=null&&v(n,["_url","model"],pt(e,r));const a=x(t,["contents"]);if(a!=null){let u=rr(e,a);Array.isArray(u)&&(u=u.map(f=>qo(e,f))),v(n,["contents"],u)}const l=x(t,["config"]);return l!=null&&v(n,["config"],l),n}function Sk(e,t){const n={},r=x(t,["gcsUri"]);r!=null&&v(n,["gcsUri"],r);const a=x(t,["imageBytes"]);a!=null&&v(n,["bytesBase64Encoded"],ar(e,a));const l=x(t,["mimeType"]);return l!=null&&v(n,["mimeType"],l),n}function Ck(e,t,n){const r={},a=x(t,["numberOfVideos"]);n!==void 0&&a!=null&&v(n,["parameters","sampleCount"],a);const l=x(t,["outputGcsUri"]);n!==void 0&&l!=null&&v(n,["parameters","storageUri"],l);const u=x(t,["fps"]);n!==void 0&&u!=null&&v(n,["parameters","fps"],u);const f=x(t,["durationSeconds"]);n!==void 0&&f!=null&&v(n,["parameters","durationSeconds"],f);const h=x(t,["seed"]);n!==void 0&&h!=null&&v(n,["parameters","seed"],h);const d=x(t,["aspectRatio"]);n!==void 0&&d!=null&&v(n,["parameters","aspectRatio"],d);const m=x(t,["resolution"]);n!==void 0&&m!=null&&v(n,["parameters","resolution"],m);const y=x(t,["personGeneration"]);n!==void 0&&y!=null&&v(n,["parameters","personGeneration"],y);const T=x(t,["pubsubTopic"]);n!==void 0&&T!=null&&v(n,["parameters","pubsubTopic"],T);const S=x(t,["negativePrompt"]);n!==void 0&&S!=null&&v(n,["parameters","negativePrompt"],S);const A=x(t,["enhancePrompt"]);return n!==void 0&&A!=null&&v(n,["parameters","enhancePrompt"],A),r}function wk(e,t){const n={},r=x(t,["model"]);r!=null&&v(n,["_url","model"],pt(e,r));const a=x(t,["prompt"]);a!=null&&v(n,["instances[0]","prompt"],a);const l=x(t,["image"]);l!=null&&v(n,["instances[0]","image"],Sk(e,l));const u=x(t,["config"]);return u!=null&&v(n,["config"],Ck(e,u,n)),n}function Ak(e,t){const n={},r=x(t,["thought"]);r!=null&&v(n,["thought"],r);const a=x(t,["codeExecutionResult"]);a!=null&&v(n,["codeExecutionResult"],a);const l=x(t,["executableCode"]);l!=null&&v(n,["executableCode"],l);const u=x(t,["fileData"]);u!=null&&v(n,["fileData"],u);const f=x(t,["functionCall"]);f!=null&&v(n,["functionCall"],f);const h=x(t,["functionResponse"]);h!=null&&v(n,["functionResponse"],h);const d=x(t,["inlineData"]);d!=null&&v(n,["inlineData"],d);const m=x(t,["text"]);return m!=null&&v(n,["text"],m),n}function Ek(e,t){const n={},r=x(t,["parts"]);if(r!=null){let l=r;Array.isArray(l)&&(l=l.map(u=>Ak(e,u))),v(n,["parts"],l)}const a=x(t,["role"]);return a!=null&&v(n,["role"],a),n}function Mk(e,t){const n={},r=x(t,["citationSources"]);return r!=null&&v(n,["citations"],r),n}function kk(e,t){const n={},r=x(t,["content"]);r!=null&&v(n,["content"],Ek(e,r));const a=x(t,["citationMetadata"]);a!=null&&v(n,["citationMetadata"],Mk(e,a));const l=x(t,["tokenCount"]);l!=null&&v(n,["tokenCount"],l);const u=x(t,["finishReason"]);u!=null&&v(n,["finishReason"],u);const f=x(t,["avgLogprobs"]);f!=null&&v(n,["avgLogprobs"],f);const h=x(t,["groundingMetadata"]);h!=null&&v(n,["groundingMetadata"],h);const d=x(t,["index"]);d!=null&&v(n,["index"],d);const m=x(t,["logprobsResult"]);m!=null&&v(n,["logprobsResult"],m);const y=x(t,["safetyRatings"]);return y!=null&&v(n,["safetyRatings"],y),n}function cx(e,t){const n={},r=x(t,["candidates"]);if(r!=null){let f=r;Array.isArray(f)&&(f=f.map(h=>kk(e,h))),v(n,["candidates"],f)}const a=x(t,["modelVersion"]);a!=null&&v(n,["modelVersion"],a);const l=x(t,["promptFeedback"]);l!=null&&v(n,["promptFeedback"],l);const u=x(t,["usageMetadata"]);return u!=null&&v(n,["usageMetadata"],u),n}function Ik(e,t){const n={},r=x(t,["values"]);return r!=null&&v(n,["values"],r),n}function Nk(){return{}}function Dk(e,t){const n={},r=x(t,["embeddings"]);if(r!=null){let l=r;Array.isArray(l)&&(l=l.map(u=>Ik(e,u))),v(n,["embeddings"],l)}return x(t,["metadata"])!=null&&v(n,["metadata"],Nk()),n}function Rk(e,t){const n={},r=x(t,["bytesBase64Encoded"]);r!=null&&v(n,["imageBytes"],ar(e,r));const a=x(t,["mimeType"]);return a!=null&&v(n,["mimeType"],a),n}function Wb(e,t){const n={},r=x(t,["safetyAttributes","categories"]);r!=null&&v(n,["categories"],r);const a=x(t,["safetyAttributes","scores"]);a!=null&&v(n,["scores"],a);const l=x(t,["contentType"]);return l!=null&&v(n,["contentType"],l),n}function _k(e,t){const n={},r=x(t,["_self"]);r!=null&&v(n,["image"],Rk(e,r));const a=x(t,["raiFilteredReason"]);a!=null&&v(n,["raiFilteredReason"],a);const l=x(t,["_self"]);return l!=null&&v(n,["safetyAttributes"],Wb(e,l)),n}function Vk(e,t){const n={},r=x(t,["predictions"]);if(r!=null){let l=r;Array.isArray(l)&&(l=l.map(u=>_k(e,u))),v(n,["generatedImages"],l)}const a=x(t,["positivePromptSafetyAttributes"]);return a!=null&&v(n,["positivePromptSafetyAttributes"],Wb(e,a)),n}function Pk(e,t){const n={},r=x(t,["baseModel"]);r!=null&&v(n,["baseModel"],r);const a=x(t,["createTime"]);a!=null&&v(n,["createTime"],a);const l=x(t,["updateTime"]);return l!=null&&v(n,["updateTime"],l),n}function fx(e,t){const n={},r=x(t,["name"]);r!=null&&v(n,["name"],r);const a=x(t,["displayName"]);a!=null&&v(n,["displayName"],a);const l=x(t,["description"]);l!=null&&v(n,["description"],l);const u=x(t,["version"]);u!=null&&v(n,["version"],u);const f=x(t,["_self"]);f!=null&&v(n,["tunedModelInfo"],Pk(e,f));const h=x(t,["inputTokenLimit"]);h!=null&&v(n,["inputTokenLimit"],h);const d=x(t,["outputTokenLimit"]);d!=null&&v(n,["outputTokenLimit"],d);const m=x(t,["supportedGenerationMethods"]);return m!=null&&v(n,["supportedActions"],m),n}function Lk(){return{}}function Bk(e,t){const n={},r=x(t,["totalTokens"]);r!=null&&v(n,["totalTokens"],r);const a=x(t,["cachedContentTokenCount"]);return a!=null&&v(n,["cachedContentTokenCount"],a),n}function jk(e,t){const n={},r=x(t,["video","uri"]);r!=null&&v(n,["uri"],r);const a=x(t,["video","encodedVideo"]);a!=null&&v(n,["videoBytes"],ar(e,a));const l=x(t,["encoding"]);return l!=null&&v(n,["mimeType"],l),n}function Ok(e,t){const n={},r=x(t,["_self"]);return r!=null&&v(n,["video"],jk(e,r)),n}function zk(e,t){const n={},r=x(t,["generatedSamples"]);if(r!=null){let u=r;Array.isArray(u)&&(u=u.map(f=>Ok(e,f))),v(n,["generatedVideos"],u)}const a=x(t,["raiMediaFilteredCount"]);a!=null&&v(n,["raiMediaFilteredCount"],a);const l=x(t,["raiMediaFilteredReasons"]);return l!=null&&v(n,["raiMediaFilteredReasons"],l),n}function Fk(e,t){const n={},r=x(t,["name"]);r!=null&&v(n,["name"],r);const a=x(t,["metadata"]);a!=null&&v(n,["metadata"],a);const l=x(t,["done"]);l!=null&&v(n,["done"],l);const u=x(t,["error"]);u!=null&&v(n,["error"],u);const f=x(t,["response","generateVideoResponse"]);return f!=null&&v(n,["response"],zk(e,f)),n}function Uk(e,t){const n={},r=x(t,["videoMetadata"]);r!=null&&v(n,["videoMetadata"],r);const a=x(t,["thought"]);a!=null&&v(n,["thought"],a);const l=x(t,["codeExecutionResult"]);l!=null&&v(n,["codeExecutionResult"],l);const u=x(t,["executableCode"]);u!=null&&v(n,["executableCode"],u);const f=x(t,["fileData"]);f!=null&&v(n,["fileData"],f);const h=x(t,["functionCall"]);h!=null&&v(n,["functionCall"],h);const d=x(t,["functionResponse"]);d!=null&&v(n,["functionResponse"],d);const m=x(t,["inlineData"]);m!=null&&v(n,["inlineData"],m);const y=x(t,["text"]);return y!=null&&v(n,["text"],y),n}function Hk(e,t){const n={},r=x(t,["parts"]);if(r!=null){let l=r;Array.isArray(l)&&(l=l.map(u=>Uk(e,u))),v(n,["parts"],l)}const a=x(t,["role"]);return a!=null&&v(n,["role"],a),n}function Gk(e,t){const n={},r=x(t,["citations"]);return r!=null&&v(n,["citations"],r),n}function qk(e,t){const n={},r=x(t,["content"]);r!=null&&v(n,["content"],Hk(e,r));const a=x(t,["citationMetadata"]);a!=null&&v(n,["citationMetadata"],Gk(e,a));const l=x(t,["finishMessage"]);l!=null&&v(n,["finishMessage"],l);const u=x(t,["finishReason"]);u!=null&&v(n,["finishReason"],u);const f=x(t,["avgLogprobs"]);f!=null&&v(n,["avgLogprobs"],f);const h=x(t,["groundingMetadata"]);h!=null&&v(n,["groundingMetadata"],h);const d=x(t,["index"]);d!=null&&v(n,["index"],d);const m=x(t,["logprobsResult"]);m!=null&&v(n,["logprobsResult"],m);const y=x(t,["safetyRatings"]);return y!=null&&v(n,["safetyRatings"],y),n}function dx(e,t){const n={},r=x(t,["candidates"]);if(r!=null){let d=r;Array.isArray(d)&&(d=d.map(m=>qk(e,m))),v(n,["candidates"],d)}const a=x(t,["createTime"]);a!=null&&v(n,["createTime"],a);const l=x(t,["responseId"]);l!=null&&v(n,["responseId"],l);const u=x(t,["modelVersion"]);u!=null&&v(n,["modelVersion"],u);const f=x(t,["promptFeedback"]);f!=null&&v(n,["promptFeedback"],f);const h=x(t,["usageMetadata"]);return h!=null&&v(n,["usageMetadata"],h),n}function $k(e,t){const n={},r=x(t,["truncated"]);r!=null&&v(n,["truncated"],r);const a=x(t,["token_count"]);return a!=null&&v(n,["tokenCount"],a),n}function Yk(e,t){const n={},r=x(t,["values"]);r!=null&&v(n,["values"],r);const a=x(t,["statistics"]);return a!=null&&v(n,["statistics"],$k(e,a)),n}function Kk(e,t){const n={},r=x(t,["billableCharacterCount"]);return r!=null&&v(n,["billableCharacterCount"],r),n}function Xk(e,t){const n={},r=x(t,["predictions[]","embeddings"]);if(r!=null){let l=r;Array.isArray(l)&&(l=l.map(u=>Yk(e,u))),v(n,["embeddings"],l)}const a=x(t,["metadata"]);return a!=null&&v(n,["metadata"],Kk(e,a)),n}function Qk(e,t){const n={},r=x(t,["gcsUri"]);r!=null&&v(n,["gcsUri"],r);const a=x(t,["bytesBase64Encoded"]);a!=null&&v(n,["imageBytes"],ar(e,a));const l=x(t,["mimeType"]);return l!=null&&v(n,["mimeType"],l),n}function e1(e,t){const n={},r=x(t,["safetyAttributes","categories"]);r!=null&&v(n,["categories"],r);const a=x(t,["safetyAttributes","scores"]);a!=null&&v(n,["scores"],a);const l=x(t,["contentType"]);return l!=null&&v(n,["contentType"],l),n}function Jk(e,t){const n={},r=x(t,["_self"]);r!=null&&v(n,["image"],Qk(e,r));const a=x(t,["raiFilteredReason"]);a!=null&&v(n,["raiFilteredReason"],a);const l=x(t,["_self"]);l!=null&&v(n,["safetyAttributes"],e1(e,l));const u=x(t,["prompt"]);return u!=null&&v(n,["enhancedPrompt"],u),n}function Zk(e,t){const n={},r=x(t,["predictions"]);if(r!=null){let l=r;Array.isArray(l)&&(l=l.map(u=>Jk(e,u))),v(n,["generatedImages"],l)}const a=x(t,["positivePromptSafetyAttributes"]);return a!=null&&v(n,["positivePromptSafetyAttributes"],e1(e,a)),n}function Wk(e,t){const n={},r=x(t,["endpoint"]);r!=null&&v(n,["name"],r);const a=x(t,["deployedModelId"]);return a!=null&&v(n,["deployedModelId"],a),n}function eI(e,t){const n={},r=x(t,["labels","google-vertex-llm-tuning-base-model-id"]);r!=null&&v(n,["baseModel"],r);const a=x(t,["createTime"]);a!=null&&v(n,["createTime"],a);const l=x(t,["updateTime"]);return l!=null&&v(n,["updateTime"],l),n}function hx(e,t){const n={},r=x(t,["name"]);r!=null&&v(n,["name"],r);const a=x(t,["displayName"]);a!=null&&v(n,["displayName"],a);const l=x(t,["description"]);l!=null&&v(n,["description"],l);const u=x(t,["versionId"]);u!=null&&v(n,["version"],u);const f=x(t,["deployedModels"]);if(f!=null){let m=f;Array.isArray(m)&&(m=m.map(y=>Wk(e,y))),v(n,["endpoints"],m)}const h=x(t,["labels"]);h!=null&&v(n,["labels"],h);const d=x(t,["_self"]);return d!=null&&v(n,["tunedModelInfo"],eI(e,d)),n}function tI(){return{}}function nI(e,t){const n={},r=x(t,["totalTokens"]);return r!=null&&v(n,["totalTokens"],r),n}function iI(e,t){const n={},r=x(t,["tokensInfo"]);return r!=null&&v(n,["tokensInfo"],r),n}function rI(e,t){const n={},r=x(t,["gcsUri"]);r!=null&&v(n,["uri"],r);const a=x(t,["bytesBase64Encoded"]);a!=null&&v(n,["videoBytes"],ar(e,a));const l=x(t,["mimeType"]);return l!=null&&v(n,["mimeType"],l),n}function oI(e,t){const n={},r=x(t,["_self"]);return r!=null&&v(n,["video"],rI(e,r)),n}function aI(e,t){const n={},r=x(t,["videos"]);if(r!=null){let u=r;Array.isArray(u)&&(u=u.map(f=>oI(e,f))),v(n,["generatedVideos"],u)}const a=x(t,["raiMediaFilteredCount"]);a!=null&&v(n,["raiMediaFilteredCount"],a);const l=x(t,["raiMediaFilteredReasons"]);return l!=null&&v(n,["raiMediaFilteredReasons"],l),n}function sI(e,t){const n={},r=x(t,["name"]);r!=null&&v(n,["name"],r);const a=x(t,["metadata"]);a!=null&&v(n,["metadata"],a);const l=x(t,["done"]);l!=null&&v(n,["done"],l);const u=x(t,["error"]);u!=null&&v(n,["error"],u);const f=x(t,["response"]);return f!=null&&v(n,["response"],aI(e,f)),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const lI="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function uI(e,t,n){let r,a;n.data instanceof Blob?a=JSON.parse(await n.data.text()):a=JSON.parse(n.data),e.isVertexAI()?r=AM(e,a):r=wM(e,a),t(r)}class cI{constructor(t,n,r){this.apiClient=t,this.auth=n,this.webSocketFactory=r}async connect(t){var n,r,a,l;const u=this.apiClient.getWebsocketBaseUrl(),f=this.apiClient.getApiVersion();let h;const d=mI(this.apiClient.getDefaultHeaders());if(this.apiClient.isVertexAI())h=`${u}/ws/google.cloud.aiplatform.${f}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(d);else{const j=this.apiClient.getApiKey();h=`${u}/ws/google.ai.generativelanguage.${f}.GenerativeService.BidiGenerateContent?key=${j}`}let m=()=>{};const y=new Promise(j=>{m=j}),T=t.callbacks,S=function(){var j;(j=T==null?void 0:T.onopen)===null||j===void 0||j.call(T),m({})},A=this.apiClient,M={onopen:S,onmessage:j=>{uI(A,T.onmessage,j)},onerror:(n=T==null?void 0:T.onerror)!==null&&n!==void 0?n:function(j){},onclose:(r=T==null?void 0:T.onclose)!==null&&r!==void 0?r:function(j){}},R=this.webSocketFactory.create(h,hI(d),M);R.connect(),await y;let I=pt(this.apiClient,t.model);if(this.apiClient.isVertexAI()&&I.startsWith("publishers/")){const j=this.apiClient.getProject(),H=this.apiClient.getLocation();I=`projects/${j}/locations/${H}/`+I}let P={};this.apiClient.isVertexAI()&&((a=t.config)===null||a===void 0?void 0:a.responseModalities)===void 0&&(t.config===void 0?t.config={responseModalities:[bu.AUDIO]}:t.config.responseModalities=[bu.AUDIO]),!((l=t.config)===null||l===void 0)&&l.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const N={model:I,config:t.config,callbacks:t.callbacks};return this.apiClient.isVertexAI()?P=JE(this.apiClient,N):P=QE(this.apiClient,N),delete P.config,R.send(JSON.stringify(P)),new dI(R,this.apiClient)}}const fI={turnComplete:!0};class dI{constructor(t,n){this.conn=t,this.apiClient=n}tLiveClientContent(t,n){if(n.turns!==null&&n.turns!==void 0){let r=[];try{r=rr(t,n.turns),t.isVertexAI()?r=r.map(a=>qo(t,a)):r=r.map(a=>Pu(t,a))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof n.turns}'`)}return{clientContent:{turns:r,turnComplete:n.turnComplete}}}return{clientContent:{turnComplete:n.turnComplete}}}tLiveClienttToolResponse(t,n){let r=[];if(n.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(n.functionResponses)?r=n.functionResponses:r=[n.functionResponses],r.length===0)throw new Error("functionResponses is required.");for(const l of r){if(typeof l!="object"||l===null||!("name"in l)||!("response"in l))throw new Error(`Could not parse function response, type '${typeof l}'.`);if(!t.isVertexAI()&&!("id"in l))throw new Error(lI)}return{toolResponse:{functionResponses:r}}}sendClientContent(t){t=Object.assign(Object.assign({},fI),t);const n=this.tLiveClientContent(this.apiClient,t);this.conn.send(JSON.stringify(n))}sendRealtimeInput(t){let n={};this.apiClient.isVertexAI()?n={realtimeInput:iM(this.apiClient,t)}:n={realtimeInput:nM(this.apiClient,t)},this.conn.send(JSON.stringify(n))}sendToolResponse(t){if(t.functionResponses==null)throw new Error("Tool response parameters are required.");const n=this.tLiveClienttToolResponse(this.apiClient,t);this.conn.send(JSON.stringify(n))}close(){this.conn.close()}}function hI(e){const t={};return e.forEach((n,r)=>{t[r]=n}),t}function mI(e){const t=new Headers;for(const[n,r]of Object.entries(e))t.append(n,r);return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class pI extends Is{constructor(t){super(),this.apiClient=t,this.generateContent=async n=>await this.generateContentInternal(n),this.generateContentStream=async n=>await this.generateContentStreamInternal(n),this.generateImages=async n=>await this.generateImagesInternal(n).then(r=>{var a;let l;const u=[];if(r!=null&&r.generatedImages)for(const h of r.generatedImages)h&&(h!=null&&h.safetyAttributes)&&((a=h==null?void 0:h.safetyAttributes)===null||a===void 0?void 0:a.contentType)==="Positive Prompt"?l=h==null?void 0:h.safetyAttributes:u.push(h);let f;return l?f={generatedImages:u,positivePromptSafetyAttributes:l}:f={generatedImages:u},f})}async generateContentInternal(t){var n,r,a,l;let u,f="",h={};if(this.apiClient.isVertexAI()){const d=ux(this.apiClient,t);return f=De("{model}:generateContent",d._url),h=d._query,delete d.config,delete d._url,delete d._query,u=this.apiClient.request({path:f,queryParams:h,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(m=>m.json()),u.then(m=>{const y=dx(this.apiClient,m),T=new Ql;return Object.assign(T,y),T})}else{const d=lx(this.apiClient,t);return f=De("{model}:generateContent",d._url),h=d._query,delete d.config,delete d._url,delete d._query,u=this.apiClient.request({path:f,queryParams:h,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(a=t.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(m=>m.json()),u.then(m=>{const y=cx(this.apiClient,m),T=new Ql;return Object.assign(T,y),T})}}async generateContentStreamInternal(t){var n,r,a,l;let u,f="",h={};if(this.apiClient.isVertexAI()){const d=ux(this.apiClient,t);f=De("{model}:streamGenerateContent?alt=sse",d._url),h=d._query,delete d.config,delete d._url,delete d._query;const m=this.apiClient;return u=m.requestStream({path:f,queryParams:h,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}),u.then(function(y){return Tu(this,arguments,function*(){var T,S,A,M;try{for(var R=!0,I=Ud(y),P;P=yield Gt(I.next()),T=P.done,!T;R=!0){M=P.value,R=!1;const j=dx(m,yield Gt(M.json())),H=new Ql;Object.assign(H,j),yield yield Gt(H)}}catch(N){S={error:N}}finally{try{!R&&!T&&(A=I.return)&&(yield Gt(A.call(I)))}finally{if(S)throw S.error}}})})}else{const d=lx(this.apiClient,t);f=De("{model}:streamGenerateContent?alt=sse",d._url),h=d._query,delete d.config,delete d._url,delete d._query;const m=this.apiClient;return u=m.requestStream({path:f,queryParams:h,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(a=t.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}),u.then(function(y){return Tu(this,arguments,function*(){var T,S,A,M;try{for(var R=!0,I=Ud(y),P;P=yield Gt(I.next()),T=P.done,!T;R=!0){M=P.value,R=!1;const j=cx(m,yield Gt(M.json())),H=new Ql;Object.assign(H,j),yield yield Gt(H)}}catch(N){S={error:N}}finally{try{!R&&!T&&(A=I.return)&&(yield Gt(A.call(I)))}finally{if(S)throw S.error}}})})}}async embedContent(t){var n,r,a,l;let u,f="",h={};if(this.apiClient.isVertexAI()){const d=dk(this.apiClient,t);return f=De("{model}:predict",d._url),h=d._query,delete d.config,delete d._url,delete d._query,u=this.apiClient.request({path:f,queryParams:h,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(m=>m.json()),u.then(m=>{const y=Xk(this.apiClient,m),T=new J0;return Object.assign(T,y),T})}else{const d=zM(this.apiClient,t);return f=De("{model}:batchEmbedContents",d._url),h=d._query,delete d.config,delete d._url,delete d._query,u=this.apiClient.request({path:f,queryParams:h,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(a=t.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(m=>m.json()),u.then(m=>{const y=Dk(this.apiClient,m),T=new J0;return Object.assign(T,y),T})}}async generateImagesInternal(t){var n,r,a,l;let u,f="",h={};if(this.apiClient.isVertexAI()){const d=mk(this.apiClient,t);return f=De("{model}:predict",d._url),h=d._query,delete d.config,delete d._url,delete d._query,u=this.apiClient.request({path:f,queryParams:h,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(m=>m.json()),u.then(m=>{const y=Zk(this.apiClient,m),T=new Z0;return Object.assign(T,y),T})}else{const d=UM(this.apiClient,t);return f=De("{model}:predict",d._url),h=d._query,delete d.config,delete d._url,delete d._query,u=this.apiClient.request({path:f,queryParams:h,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(a=t.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(m=>m.json()),u.then(m=>{const y=Vk(this.apiClient,m),T=new Z0;return Object.assign(T,y),T})}}async get(t){var n,r,a,l;let u,f="",h={};if(this.apiClient.isVertexAI()){const d=pk(this.apiClient,t);return f=De("{name}",d._url),h=d._query,delete d.config,delete d._url,delete d._query,u=this.apiClient.request({path:f,queryParams:h,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(m=>m.json()),u.then(m=>hx(this.apiClient,m))}else{const d=HM(this.apiClient,t);return f=De("{name}",d._url),h=d._query,delete d.config,delete d._url,delete d._query,u=this.apiClient.request({path:f,queryParams:h,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(a=t.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(m=>m.json()),u.then(m=>fx(this.apiClient,m))}}async update(t){var n,r,a,l;let u,f="",h={};if(this.apiClient.isVertexAI()){const d=yk(this.apiClient,t);return f=De("{model}",d._url),h=d._query,delete d.config,delete d._url,delete d._query,u=this.apiClient.request({path:f,queryParams:h,body:JSON.stringify(d),httpMethod:"PATCH",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(m=>m.json()),u.then(m=>hx(this.apiClient,m))}else{const d=qM(this.apiClient,t);return f=De("{name}",d._url),h=d._query,delete d.config,delete d._url,delete d._query,u=this.apiClient.request({path:f,queryParams:h,body:JSON.stringify(d),httpMethod:"PATCH",httpOptions:(a=t.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(m=>m.json()),u.then(m=>fx(this.apiClient,m))}}async delete(t){var n,r,a,l;let u,f="",h={};if(this.apiClient.isVertexAI()){const d=xk(this.apiClient,t);return f=De("{name}",d._url),h=d._query,delete d.config,delete d._url,delete d._query,u=this.apiClient.request({path:f,queryParams:h,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(m=>m.json()),u.then(()=>{const m=tI(),y=new W0;return Object.assign(y,m),y})}else{const d=$M(this.apiClient,t);return f=De("{name}",d._url),h=d._query,delete d.config,delete d._url,delete d._query,u=this.apiClient.request({path:f,queryParams:h,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(a=t.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(m=>m.json()),u.then(()=>{const m=Lk(),y=new W0;return Object.assign(y,m),y})}}async countTokens(t){var n,r,a,l;let u,f="",h={};if(this.apiClient.isVertexAI()){const d=bk(this.apiClient,t);return f=De("{model}:countTokens",d._url),h=d._query,delete d.config,delete d._url,delete d._query,u=this.apiClient.request({path:f,queryParams:h,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(m=>m.json()),u.then(m=>{const y=nI(this.apiClient,m),T=new ex;return Object.assign(T,y),T})}else{const d=KM(this.apiClient,t);return f=De("{model}:countTokens",d._url),h=d._query,delete d.config,delete d._url,delete d._query,u=this.apiClient.request({path:f,queryParams:h,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(a=t.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(m=>m.json()),u.then(m=>{const y=Bk(this.apiClient,m),T=new ex;return Object.assign(T,y),T})}}async computeTokens(t){var n,r;let a,l="",u={};if(this.apiClient.isVertexAI()){const f=Tk(this.apiClient,t);return l=De("{model}:computeTokens",f._url),u=f._query,delete f.config,delete f._url,delete f._query,a=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),a.then(h=>{const d=iI(this.apiClient,h),m=new iE;return Object.assign(m,d),m})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideos(t){var n,r,a,l;let u,f="",h={};if(this.apiClient.isVertexAI()){const d=wk(this.apiClient,t);return f=De("{model}:predictLongRunning",d._url),h=d._query,delete d.config,delete d._url,delete d._query,u=this.apiClient.request({path:f,queryParams:h,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(m=>m.json()),u.then(m=>sI(this.apiClient,m))}else{const d=JM(this.apiClient,t);return f=De("{model}:predictLongRunning",d._url),h=d._query,delete d.config,delete d._url,delete d._query,u=this.apiClient.request({path:f,queryParams:h,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(a=t.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(m=>m.json()),u.then(m=>Fk(this.apiClient,m))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function gI(e,t){const n={},r=x(t,["operationName"]);r!=null&&v(n,["_url","operationName"],r);const a=x(t,["config"]);return a!=null&&v(n,["config"],a),n}function yI(e,t){const n={},r=x(t,["operationName"]);r!=null&&v(n,["_url","operationName"],r);const a=x(t,["config"]);return a!=null&&v(n,["config"],a),n}function xI(e,t){const n={},r=x(t,["operationName"]);r!=null&&v(n,["operationName"],r);const a=x(t,["resourceName"]);a!=null&&v(n,["_url","resourceName"],a);const l=x(t,["config"]);return l!=null&&v(n,["config"],l),n}function vI(e,t){const n={},r=x(t,["video","uri"]);r!=null&&v(n,["uri"],r);const a=x(t,["video","encodedVideo"]);a!=null&&v(n,["videoBytes"],ar(e,a));const l=x(t,["encoding"]);return l!=null&&v(n,["mimeType"],l),n}function bI(e,t){const n={},r=x(t,["_self"]);return r!=null&&v(n,["video"],vI(e,r)),n}function TI(e,t){const n={},r=x(t,["generatedSamples"]);if(r!=null){let u=r;Array.isArray(u)&&(u=u.map(f=>bI(e,f))),v(n,["generatedVideos"],u)}const a=x(t,["raiMediaFilteredCount"]);a!=null&&v(n,["raiMediaFilteredCount"],a);const l=x(t,["raiMediaFilteredReasons"]);return l!=null&&v(n,["raiMediaFilteredReasons"],l),n}function SI(e,t){const n={},r=x(t,["name"]);r!=null&&v(n,["name"],r);const a=x(t,["metadata"]);a!=null&&v(n,["metadata"],a);const l=x(t,["done"]);l!=null&&v(n,["done"],l);const u=x(t,["error"]);u!=null&&v(n,["error"],u);const f=x(t,["response","generateVideoResponse"]);return f!=null&&v(n,["response"],TI(e,f)),n}function CI(e,t){const n={},r=x(t,["gcsUri"]);r!=null&&v(n,["uri"],r);const a=x(t,["bytesBase64Encoded"]);a!=null&&v(n,["videoBytes"],ar(e,a));const l=x(t,["mimeType"]);return l!=null&&v(n,["mimeType"],l),n}function wI(e,t){const n={},r=x(t,["_self"]);return r!=null&&v(n,["video"],CI(e,r)),n}function AI(e,t){const n={},r=x(t,["videos"]);if(r!=null){let u=r;Array.isArray(u)&&(u=u.map(f=>wI(e,f))),v(n,["generatedVideos"],u)}const a=x(t,["raiMediaFilteredCount"]);a!=null&&v(n,["raiMediaFilteredCount"],a);const l=x(t,["raiMediaFilteredReasons"]);return l!=null&&v(n,["raiMediaFilteredReasons"],l),n}function mx(e,t){const n={},r=x(t,["name"]);r!=null&&v(n,["name"],r);const a=x(t,["metadata"]);a!=null&&v(n,["metadata"],a);const l=x(t,["done"]);l!=null&&v(n,["done"],l);const u=x(t,["error"]);u!=null&&v(n,["error"],u);const f=x(t,["response"]);return f!=null&&v(n,["response"],AI(e,f)),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class EI extends Is{constructor(t){super(),this.apiClient=t}async getVideosOperation(t){const n=t.operation,r=t.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const a=n.name.split("/operations/")[0];let l;return r&&"httpOptions"in r&&(l=r.httpOptions),this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:a,config:{httpOptions:l}})}else return this.getVideosOperationInternal({operationName:n.name,config:r})}async getVideosOperationInternal(t){var n,r,a,l;let u,f="",h={};if(this.apiClient.isVertexAI()){const d=yI(this.apiClient,t);return f=De("{operationName}",d._url),h=d._query,delete d.config,delete d._url,delete d._query,u=this.apiClient.request({path:f,queryParams:h,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(m=>m.json()),u.then(m=>mx(this.apiClient,m))}else{const d=gI(this.apiClient,t);return f=De("{operationName}",d._url),h=d._query,delete d.config,delete d._url,delete d._query,u=this.apiClient.request({path:f,queryParams:h,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(a=t.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(m=>m.json()),u.then(m=>SI(this.apiClient,m))}}async fetchPredictVideosOperationInternal(t){var n,r;let a,l="",u={};if(this.apiClient.isVertexAI()){const f=xI(this.apiClient,t);return l=De("{resourceName}:fetchPredictOperation",f._url),u=f._query,delete f.config,delete f._url,delete f._query,a=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),a.then(h=>mx(this.apiClient,h))}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const MI="Content-Type",kI="X-Server-Timeout",II="User-Agent",NI="x-goog-api-client",DI="0.12.0",RI=`google-genai-sdk/${DI}`,_I="v1beta1",VI="v1beta",px=/^data: (.*)(?:\n\n|\r\r|\r\n\r\n)/;class t1 extends Error{constructor(t,n){n?super(t,{cause:n}):super(t,{cause:new Error().stack}),this.message=t,this.name="ClientError"}}class Gd extends Error{constructor(t,n){n?super(t,{cause:n}):super(t,{cause:new Error().stack}),this.message=t,this.name="ServerError"}}class PI{constructor(t){var n,r;this.clientOptions=Object.assign(Object.assign({},t),{project:t.project,location:t.location,apiKey:t.apiKey,vertexai:t.vertexai});const a={};this.clientOptions.vertexai?(a.apiVersion=(n=this.clientOptions.apiVersion)!==null&&n!==void 0?n:_I,this.getProject()||this.getLocation()?(a.baseUrl=`https://${this.clientOptions.location}-aiplatform.googleapis.com/`,this.clientOptions.apiKey=void 0):(a.baseUrl="https://aiplatform.googleapis.com/",this.clientOptions.project=void 0,this.clientOptions.location=void 0)):(a.apiVersion=(r=this.clientOptions.apiVersion)!==null&&r!==void 0?r:VI,a.baseUrl="https://generativelanguage.googleapis.com/"),a.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=a,t.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(a,t.httpOptions))}isVertexAI(){var t;return(t=this.clientOptions.vertexai)!==null&&t!==void 0?t:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(t){if(!t||t.baseUrl===void 0||t.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const r=[t.baseUrl.endsWith("/")?t.baseUrl.slice(0,-1):t.baseUrl];return t.apiVersion&&t.apiVersion!==""&&r.push(t.apiVersion),r.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const t=this.getBaseUrl(),n=new URL(t);return n.protocol=n.protocol=="http:"?"ws":"wss",n.toString()}setBaseUrl(t){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=t;else throw new Error("HTTP options are not correctly set.")}constructUrl(t,n,r){const a=[this.getRequestUrlInternal(n)];return r&&a.push(this.getBaseResourcePath()),t!==""&&a.push(t),new URL(`${a.join("/")}`)}shouldPrependVertexProjectPath(t){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||t.path.startsWith("projects/")||t.httpMethod==="GET"&&t.path.startsWith("publishers/google/models"))}async request(t){let n=this.clientOptions.httpOptions;t.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,t.httpOptions));const r=this.shouldPrependVertexProjectPath(t),a=this.constructUrl(t.path,n,r);if(t.queryParams)for(const[u,f]of Object.entries(t.queryParams))a.searchParams.append(u,String(f));let l={};if(t.httpMethod==="GET"){if(t.body&&t.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else l.body=t.body;return l=await this.includeExtraHttpOptionsToRequestInit(l,n,t.abortSignal),this.unaryApiCall(a,l,t.httpMethod)}patchHttpOptions(t,n){const r=JSON.parse(JSON.stringify(t));for(const[a,l]of Object.entries(n))typeof l=="object"?r[a]=Object.assign(Object.assign({},r[a]),l):l!==void 0&&(r[a]=l);return r}async requestStream(t){let n=this.clientOptions.httpOptions;t.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,t.httpOptions));const r=this.shouldPrependVertexProjectPath(t),a=this.constructUrl(t.path,n,r);(!a.searchParams.has("alt")||a.searchParams.get("alt")!=="sse")&&a.searchParams.set("alt","sse");let l={};return l.body=t.body,l=await this.includeExtraHttpOptionsToRequestInit(l,n,t.abortSignal),this.streamApiCall(a,l,t.httpMethod)}async includeExtraHttpOptionsToRequestInit(t,n,r){if(n&&n.timeout||r){const a=new AbortController,l=a.signal;n.timeout&&(n==null?void 0:n.timeout)>0&&setTimeout(()=>a.abort(),n.timeout),r&&r.addEventListener("abort",()=>{a.abort()}),t.signal=l}return t.headers=await this.getHeadersInternal(n),t}async unaryApiCall(t,n,r){return this.apiCall(t.toString(),Object.assign(Object.assign({},n),{method:r})).then(async a=>(await gx(a),new Fd(a))).catch(a=>{throw a instanceof Error?a:new Error(JSON.stringify(a))})}async streamApiCall(t,n,r){return this.apiCall(t.toString(),Object.assign(Object.assign({},n),{method:r})).then(async a=>(await gx(a),this.processStreamResponse(a))).catch(a=>{throw a instanceof Error?a:new Error(JSON.stringify(a))})}processStreamResponse(t){var n;return Tu(this,arguments,function*(){const a=(n=t==null?void 0:t.body)===null||n===void 0?void 0:n.getReader(),l=new TextDecoder("utf-8");if(!a)throw new Error("Response body is empty");try{let u="";for(;;){const{done:f,value:h}=yield Gt(a.read());if(f){if(u.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const d=l.decode(h);try{const y=JSON.parse(d);if("error"in y){const T=JSON.parse(JSON.stringify(y.error)),S=T.status,A=T.code,M=`got status: ${S}. ${JSON.stringify(y)}`;if(A>=400&&A<500)throw new t1(M);if(A>=500&&A<600)throw new Gd(M)}}catch(y){const T=y;if(T.name==="ClientError"||T.name==="ServerError")throw y}u+=d;let m=u.match(px);for(;m;){const y=m[1];try{const T=new Response(y,{headers:t==null?void 0:t.headers,status:t==null?void 0:t.status,statusText:t==null?void 0:t.statusText});yield yield Gt(new Fd(T)),u=u.slice(m[0].length),m=u.match(px)}catch(T){throw new Error(`exception parsing stream chunk ${y}. ${T}`)}}}}finally{a.releaseLock()}})}async apiCall(t,n){return fetch(t,n).catch(r=>{throw new Error(`exception ${r} sending request`)})}getDefaultHeaders(){const t={},n=RI+" "+this.clientOptions.userAgentExtra;return t[II]=n,t[NI]=n,t[MI]="application/json",t}async getHeadersInternal(t){const n=new Headers;if(t&&t.headers){for(const[r,a]of Object.entries(t.headers))n.append(r,a);t.timeout&&t.timeout>0&&n.append(kI,String(Math.ceil(t.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(n),n}async uploadFile(t,n){var r;const a={};n!=null&&(a.mimeType=n.mimeType,a.name=n.name,a.displayName=n.displayName),a.name&&!a.name.startsWith("files/")&&(a.name=`files/${a.name}`);const l=this.clientOptions.uploader,u=await l.stat(t);a.sizeBytes=String(u.size);const f=(r=n==null?void 0:n.mimeType)!==null&&r!==void 0?r:u.type;if(f===void 0||f==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");a.mimeType=f;const h=await this.fetchUploadUrl(a,n);return l.upload(t,h,this)}async fetchUploadUrl(t,n){var r;let a={};n!=null&&n.httpOptions?a=n.httpOptions:a={apiVersion:"",headers:{"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${t.sizeBytes}`,"X-Goog-Upload-Header-Content-Type":`${t.mimeType}`}};const l={file:t},u=await this.request({path:De("upload/v1beta/files",l._url),body:JSON.stringify(l),httpMethod:"POST",httpOptions:a});if(!u||!(u!=null&&u.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const f=(r=u==null?void 0:u.headers)===null||r===void 0?void 0:r["x-goog-upload-url"];if(f===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return f}}async function gx(e){var t;if(e===void 0)throw new Gd("response is undefined");if(!e.ok){const n=e.status,r=e.statusText;let a;!((t=e.headers.get("content-type"))===null||t===void 0)&&t.includes("application/json")?a=await e.json():a={error:{message:await e.text(),code:e.status,status:e.statusText}};const l=`got status: ${n} ${r}. ${JSON.stringify(a)}`;throw n>=400&&n<500?new t1(l):n>=500&&n<600?new Gd(l):new Error(l)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function LI(e,t){const n={},r=x(t,["name"]);r!=null&&v(n,["_url","name"],r);const a=x(t,["config"]);return a!=null&&v(n,["config"],a),n}function BI(e,t,n){const r={},a=x(t,["pageSize"]);n!==void 0&&a!=null&&v(n,["_query","pageSize"],a);const l=x(t,["pageToken"]);n!==void 0&&l!=null&&v(n,["_query","pageToken"],l);const u=x(t,["filter"]);return n!==void 0&&u!=null&&v(n,["_query","filter"],u),r}function jI(e,t){const n={},r=x(t,["config"]);return r!=null&&v(n,["config"],BI(e,r,n)),n}function OI(e,t){const n={},r=x(t,["textInput"]);r!=null&&v(n,["textInput"],r);const a=x(t,["output"]);return a!=null&&v(n,["output"],a),n}function zI(e,t){const n={};if(x(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const r=x(t,["examples"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(l=>OI(e,l))),v(n,["examples","examples"],a)}return n}function FI(e,t,n){const r={};if(x(t,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const a=x(t,["tunedModelDisplayName"]);if(n!==void 0&&a!=null&&v(n,["displayName"],a),x(t,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const l=x(t,["epochCount"]);n!==void 0&&l!=null&&v(n,["tuningTask","hyperparameters","epochCount"],l);const u=x(t,["learningRateMultiplier"]);if(u!=null&&v(r,["tuningTask","hyperparameters","learningRateMultiplier"],u),x(t,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const f=x(t,["batchSize"]);n!==void 0&&f!=null&&v(n,["tuningTask","hyperparameters","batchSize"],f);const h=x(t,["learningRate"]);return n!==void 0&&h!=null&&v(n,["tuningTask","hyperparameters","learningRate"],h),r}function UI(e,t){const n={},r=x(t,["baseModel"]);r!=null&&v(n,["baseModel"],r);const a=x(t,["trainingDataset"]);a!=null&&v(n,["tuningTask","trainingData"],zI(e,a));const l=x(t,["config"]);return l!=null&&v(n,["config"],FI(e,l,n)),n}function HI(e,t){const n={},r=x(t,["name"]);r!=null&&v(n,["_url","name"],r);const a=x(t,["config"]);return a!=null&&v(n,["config"],a),n}function GI(e,t,n){const r={},a=x(t,["pageSize"]);n!==void 0&&a!=null&&v(n,["_query","pageSize"],a);const l=x(t,["pageToken"]);n!==void 0&&l!=null&&v(n,["_query","pageToken"],l);const u=x(t,["filter"]);return n!==void 0&&u!=null&&v(n,["_query","filter"],u),r}function qI(e,t){const n={},r=x(t,["config"]);return r!=null&&v(n,["config"],GI(e,r,n)),n}function $I(e,t,n){const r={},a=x(t,["gcsUri"]);if(n!==void 0&&a!=null&&v(n,["supervisedTuningSpec","trainingDatasetUri"],a),x(t,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return r}function YI(e,t){const n={},r=x(t,["gcsUri"]);return r!=null&&v(n,["validationDatasetUri"],r),n}function KI(e,t,n){const r={},a=x(t,["validationDataset"]);n!==void 0&&a!=null&&v(n,["supervisedTuningSpec"],YI(e,a));const l=x(t,["tunedModelDisplayName"]);n!==void 0&&l!=null&&v(n,["tunedModelDisplayName"],l);const u=x(t,["description"]);n!==void 0&&u!=null&&v(n,["description"],u);const f=x(t,["epochCount"]);n!==void 0&&f!=null&&v(n,["supervisedTuningSpec","hyperParameters","epochCount"],f);const h=x(t,["learningRateMultiplier"]);n!==void 0&&h!=null&&v(n,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],h);const d=x(t,["adapterSize"]);if(n!==void 0&&d!=null&&v(n,["supervisedTuningSpec","hyperParameters","adapterSize"],d),x(t,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(x(t,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");return r}function XI(e,t){const n={},r=x(t,["baseModel"]);r!=null&&v(n,["baseModel"],r);const a=x(t,["trainingDataset"]);a!=null&&v(n,["supervisedTuningSpec","trainingDatasetUri"],$I(e,a,n));const l=x(t,["config"]);return l!=null&&v(n,["config"],KI(e,l,n)),n}function QI(e,t){const n={},r=x(t,["name"]);r!=null&&v(n,["model"],r);const a=x(t,["name"]);return a!=null&&v(n,["endpoint"],a),n}function n1(e,t){const n={},r=x(t,["name"]);r!=null&&v(n,["name"],r);const a=x(t,["state"]);a!=null&&v(n,["state"],Xb(e,a));const l=x(t,["createTime"]);l!=null&&v(n,["createTime"],l);const u=x(t,["tuningTask","startTime"]);u!=null&&v(n,["startTime"],u);const f=x(t,["tuningTask","completeTime"]);f!=null&&v(n,["endTime"],f);const h=x(t,["updateTime"]);h!=null&&v(n,["updateTime"],h);const d=x(t,["description"]);d!=null&&v(n,["description"],d);const m=x(t,["baseModel"]);m!=null&&v(n,["baseModel"],m);const y=x(t,["_self"]);y!=null&&v(n,["tunedModel"],QI(e,y));const T=x(t,["distillationSpec"]);T!=null&&v(n,["distillationSpec"],T);const S=x(t,["experiment"]);S!=null&&v(n,["experiment"],S);const A=x(t,["labels"]);A!=null&&v(n,["labels"],A);const M=x(t,["pipelineJob"]);M!=null&&v(n,["pipelineJob"],M);const R=x(t,["tunedModelDisplayName"]);return R!=null&&v(n,["tunedModelDisplayName"],R),n}function JI(e,t){const n={},r=x(t,["nextPageToken"]);r!=null&&v(n,["nextPageToken"],r);const a=x(t,["tunedModels"]);if(a!=null){let l=a;Array.isArray(l)&&(l=l.map(u=>n1(e,u))),v(n,["tuningJobs"],l)}return n}function ZI(e,t){const n={},r=x(t,["name"]);r!=null&&v(n,["name"],r);const a=x(t,["metadata"]);a!=null&&v(n,["metadata"],a);const l=x(t,["done"]);l!=null&&v(n,["done"],l);const u=x(t,["error"]);return u!=null&&v(n,["error"],u),n}function WI(e,t){const n={},r=x(t,["model"]);r!=null&&v(n,["model"],r);const a=x(t,["endpoint"]);return a!=null&&v(n,["endpoint"],a),n}function qd(e,t){const n={},r=x(t,["name"]);r!=null&&v(n,["name"],r);const a=x(t,["state"]);a!=null&&v(n,["state"],Xb(e,a));const l=x(t,["createTime"]);l!=null&&v(n,["createTime"],l);const u=x(t,["startTime"]);u!=null&&v(n,["startTime"],u);const f=x(t,["endTime"]);f!=null&&v(n,["endTime"],f);const h=x(t,["updateTime"]);h!=null&&v(n,["updateTime"],h);const d=x(t,["error"]);d!=null&&v(n,["error"],d);const m=x(t,["description"]);m!=null&&v(n,["description"],m);const y=x(t,["baseModel"]);y!=null&&v(n,["baseModel"],y);const T=x(t,["tunedModel"]);T!=null&&v(n,["tunedModel"],WI(e,T));const S=x(t,["supervisedTuningSpec"]);S!=null&&v(n,["supervisedTuningSpec"],S);const A=x(t,["tuningDataStats"]);A!=null&&v(n,["tuningDataStats"],A);const M=x(t,["encryptionSpec"]);M!=null&&v(n,["encryptionSpec"],M);const R=x(t,["partnerModelTuningSpec"]);R!=null&&v(n,["partnerModelTuningSpec"],R);const I=x(t,["distillationSpec"]);I!=null&&v(n,["distillationSpec"],I);const P=x(t,["experiment"]);P!=null&&v(n,["experiment"],P);const N=x(t,["labels"]);N!=null&&v(n,["labels"],N);const j=x(t,["pipelineJob"]);j!=null&&v(n,["pipelineJob"],j);const H=x(t,["tunedModelDisplayName"]);return H!=null&&v(n,["tunedModelDisplayName"],H),n}function eN(e,t){const n={},r=x(t,["nextPageToken"]);r!=null&&v(n,["nextPageToken"],r);const a=x(t,["tuningJobs"]);if(a!=null){let l=a;Array.isArray(l)&&(l=l.map(u=>qd(e,u))),v(n,["tuningJobs"],l)}return n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class tN extends Is{constructor(t){super(),this.apiClient=t,this.get=async n=>await this.getInternal(n),this.list=async(n={})=>new Ih(ys.PAGED_ITEM_TUNING_JOBS,r=>this.listInternal(r),await this.listInternal(n),n),this.tune=async n=>{if(this.apiClient.isVertexAI())return await this.tuneInternal(n);{const r=await this.tuneMldevInternal(n);let a="";return r.metadata!==void 0&&r.metadata.tunedModel!==void 0?a=r.metadata.tunedModel:r.name!==void 0&&r.name.includes("/operations/")&&(a=r.name.split("/operations/")[0]),{name:a,state:zd.JOB_STATE_QUEUED}}}}async getInternal(t){var n,r,a,l;let u,f="",h={};if(this.apiClient.isVertexAI()){const d=HI(this.apiClient,t);return f=De("{name}",d._url),h=d._query,delete d.config,delete d._url,delete d._query,u=this.apiClient.request({path:f,queryParams:h,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(m=>m.json()),u.then(m=>qd(this.apiClient,m))}else{const d=LI(this.apiClient,t);return f=De("{name}",d._url),h=d._query,delete d.config,delete d._url,delete d._query,u=this.apiClient.request({path:f,queryParams:h,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(a=t.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(m=>m.json()),u.then(m=>n1(this.apiClient,m))}}async listInternal(t){var n,r,a,l;let u,f="",h={};if(this.apiClient.isVertexAI()){const d=qI(this.apiClient,t);return f=De("tuningJobs",d._url),h=d._query,delete d.config,delete d._url,delete d._query,u=this.apiClient.request({path:f,queryParams:h,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(m=>m.json()),u.then(m=>{const y=eN(this.apiClient,m),T=new tx;return Object.assign(T,y),T})}else{const d=jI(this.apiClient,t);return f=De("tunedModels",d._url),h=d._query,delete d.config,delete d._url,delete d._query,u=this.apiClient.request({path:f,queryParams:h,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(a=t.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(m=>m.json()),u.then(m=>{const y=JI(this.apiClient,m),T=new tx;return Object.assign(T,y),T})}}async tuneInternal(t){var n,r;let a,l="",u={};if(this.apiClient.isVertexAI()){const f=XI(this.apiClient,t);return l=De("tuningJobs",f._url),u=f._query,delete f.config,delete f._url,delete f._query,a=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),a.then(h=>qd(this.apiClient,h))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(t){var n,r;let a,l="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const f=UI(this.apiClient,t);return l=De("tunedModels",f._url),u=f._query,delete f.config,delete f._url,delete f._query,a=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),a.then(h=>ZI(this.apiClient,h))}}}const nN=1024*1024*8;async function iN(e,t,n){var r,a;let l=0,u=0,f=new Fd(new Response),h="upload";for(l=e.size;u<l;){const m=Math.min(nN,l-u),y=e.slice(u,u+m);if(u+m>=l&&(h+=", finalize"),f=await n.request({path:"",body:y,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:t,headers:{"X-Goog-Upload-Command":h,"X-Goog-Upload-Offset":String(u),"Content-Length":String(m)}}}),u+=m,((r=f==null?void 0:f.headers)===null||r===void 0?void 0:r["x-goog-upload-status"])!=="active")break;if(l<=u)throw new Error("All content has been uploaded, but the upload status is not finalized.")}const d=await(f==null?void 0:f.json());if(((a=f==null?void 0:f.headers)===null||a===void 0?void 0:a["x-goog-upload-status"])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return d.file}async function rN(e){return{size:e.size,type:e.type}}class oN{async upload(t,n,r){if(typeof t=="string")throw new Error("File path is not supported in browser uploader.");return await iN(t,n,r)}async stat(t){if(typeof t=="string")throw new Error("File path is not supported in browser uploader.");return await rN(t)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class aN{create(t,n,r){return new sN(t,n,r)}}class sN{constructor(t,n,r){this.url=t,this.headers=n,this.callbacks=r}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(t){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(t)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const yx="x-goog-api-key";class lN{constructor(t){this.apiKey=t}async addAuthHeaders(t){t.get(yx)===null&&t.append(yx,this.apiKey)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const uN="gl-node/";class cN{constructor(t){var n;if(t.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(t.project||t.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(n=t.vertexai)!==null&&n!==void 0?n:!1,this.apiKey=t.apiKey;const r=vA(t,void 0,void 0);r&&(t.httpOptions?t.httpOptions.baseUrl=r:t.httpOptions={baseUrl:r}),this.apiVersion=t.apiVersion;const a=new lN(this.apiKey);this.apiClient=new PI({auth:a,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:t.httpOptions,userAgentExtra:uN+"web",uploader:new oN}),this.models=new pI(this.apiClient),this.live=new cI(this.apiClient,a,new aN),this.chats=new fE(this.models,this.apiClient),this.caches=new sE(this.apiClient),this.files=new wE(this.apiClient),this.operations=new EI(this.apiClient),this.tunings=new tN(this.apiClient)}}var fN={};const zr=typeof process<"u"&&fN.GEMINI_MODEL_NAME||typeof import.meta<"u"&&void 0||"gemini-2.0-flash-exp",xx="TrackGuide",vx="songGuidebookLibrary",Qa="trackGuideLastUsedDAW",Wl="trackGuideLastUsedPlugins",i1=["Pop","Indie Pop","Synth-Pop","Rock","Alternative Rock","Hard Rock","Punk Rock","Post-Punk","Nu Metal","Progressive Rock","Psychedelic Rock","Folk Rock","Shoegaze","House","Deep House","Progressive House","Tech House","Bass House","Electro House","Minimal House","Techno","Minimal Techno","Industrial Techno","Melodic Techno","Ambient Techno","Hard Techno","Trance","Progressive Trance","Psytrance","Goa Trance","Hard Trance","Ambient","Dark Ambient","Downtempo","Chillout","Chillwave","Psybient","Berlin School","Synthwave","Retrowave","Darksynth","Vaporwave","Future Funk","Drum and Bass","Jungle","Liquid DnB","Neurofunk","Breakcore","Dubstep","Riddim","Future Bass","Trap (EDM)","Hardstyle","Gabber","UK Hardcore","IDM (Intelligent Dance Music)","Glitch","Breakbeat","UK Garage","2-Step","Future Garage","EBM (Electronic Body Music)","Footwork","Juke","Hip Hop","Boom Bap","Trap","Lo-fi Hip Hop","Cloud Rap","Drill","Conscious Hip Hop","R&B","Contemporary R&B","Neo-Soul","Soul","Folk","Acoustic","World Music","Reggae","Dub","Ska","Latin","Afrobeat","Celtic","Jazz","Smooth Jazz","Blues","Funk","Heavy Metal","Thrash Metal","Death Metal","Black Metal","Doom Metal","Metalcore","Deathcore","Experimental","Noise","Industrial","Classical Crossover","Chiptune","Video Game Music"],dN=["Dark","Atmospheric","Energetic","Uplifting","Chill","Relaxed","Experimental","Trippy","Nostalgic","Retro","Aggressive","Intense","Melancholic","Introspective","Funky","Groovy","Mysterious","Eerie","Euphoric","Anthemic","Dreamy","Ethereal","Raw","Gritty","Sophisticated","Smooth","Cyberpunk","Futuristic","Hypnotic","Driving","Industrial","Mechanical","Hopeful","Aggressive","Peaceful","Romantic","Sad","Joyful","Tense"],bx=["Ableton Live","Logic Pro X","FL Studio","Pro Tools","Cubase","Studio One","Reason","Bitwig Studio","Reaper","GarageBand"],os=["C Major","G Major","D Major","A Major","E Major","B Major","F# Major","C# Major","F Major","Bb Major","Eb Major","Ab Major","Db Major","Gb Major","Cb Major","A Minor","E Minor","B Minor","F# Minor","C# Minor","G# Minor","D# Minor","A# Minor","D Minor","G Minor","C Minor","F Minor","Bb Minor","Eb Minor","Ab Minor"],Tx={C:["Ionian (Major)","Dorian","Phrygian","Lydian","Mixolydian","Aeolian (Natural Minor)","Locrian"],"C#":["Ionian (Major)","Dorian","Phrygian","Lydian","Mixolydian","Aeolian (Natural Minor)","Locrian"],Db:["Ionian (Major)","Dorian","Phrygian","Lydian","Mixolydian","Aeolian (Natural Minor)","Locrian"],D:["Ionian (Major)","Dorian","Phrygian","Lydian","Mixolydian","Aeolian (Natural Minor)","Locrian"],"D#":["Ionian (Major)","Dorian","Phrygian","Lydian","Mixolydian","Aeolian (Natural Minor)","Locrian"],Eb:["Ionian (Major)","Dorian","Phrygian","Lydian","Mixolydian","Aeolian (Natural Minor)","Locrian"],E:["Ionian (Major)","Dorian","Phrygian","Lydian","Mixolydian","Aeolian (Natural Minor)","Locrian"],F:["Ionian (Major)","Dorian","Phrygian","Lydian","Mixolydian","Aeolian (Natural Minor)","Locrian"],"F#":["Ionian (Major)","Dorian","Phrygian","Lydian","Mixolydian","Aeolian (Natural Minor)","Locrian"],Gb:["Ionian (Major)","Dorian","Phrygian","Lydian","Mixolydian","Aeolian (Natural Minor)","Locrian"],G:["Ionian (Major)","Dorian","Phrygian","Lydian","Mixolydian","Aeolian (Natural Minor)","Locrian"],"G#":["Ionian (Major)","Dorian","Phrygian","Lydian","Mixolydian","Aeolian (Natural Minor)","Locrian"],Ab:["Ionian (Major)","Dorian","Phrygian","Lydian","Mixolydian","Aeolian (Natural Minor)","Locrian"],A:["Ionian (Major)","Dorian","Phrygian","Lydian","Mixolydian","Aeolian (Natural Minor)","Locrian"],"A#":["Ionian (Major)","Dorian","Phrygian","Lydian","Mixolydian","Aeolian (Natural Minor)","Locrian"],Bb:["Ionian (Major)","Dorian","Phrygian","Lydian","Mixolydian","Aeolian (Natural Minor)","Locrian"],B:["Ionian (Major)","Dorian","Phrygian","Lydian","Mixolydian","Aeolian (Natural Minor)","Locrian"],Cb:["Ionian (Major)","Dorian","Phrygian","Lydian","Mixolydian","Aeolian (Natural Minor)","Locrian"]},hN=[[4,4],[3,4],[6,8],[2,4],[5,4],[7,8]],mN=[{id:"chords",label:"Chords"},{id:"bassline",label:"Bassline"},{id:"melody",label:"Melody"},{id:"drums",label:"Drums"}],pN=["General Loop","Intro","Verse","Pre-Chorus","Chorus","Post-Chorus","Bridge","Solo","Breakdown","Drop","Outro","Fill"],Xe={key:"C Major",tempo:120,timeSignature:[4,4],chordProgression:"I-V-vi-IV",genre:"Pop",bars:8,targetInstruments:["chords","bassline","melody","drums"],guidebookContext:"",songSection:"General Loop"},_n={Pop:["I-V-vi-IV","vi-IV-I-V","I-IV-V-I","I-vi-IV-V","ii-V-I-IV","vi-ii-V-I","I-iii-vi-V"],"Indie Pop":["I-V-vi-IV","I-IV-vi-V","vi-IV-I-V","I-iii-IV-V","vi-ii-V-I","I-vi-ii-V"],"Synth-Pop":["i-VI-III-VII","I-V-vi-IV","i-iv-v-VI","I-IV-ii-V","vi-IV-I-V","i-VII-VI-V"],Rock:["I-IV-V","vi-IV-I-V","I-bVII-IV-I","i-VI-III-VII","I-V-IV-I","vi-ii-V-I","I-IV-V-vi"],"Alternative Rock":["vi-IV-I-V","I-V-vi-IV","i-VI-III-VII","I-IV-ii-V","I-bVII-IV-I","vi-ii-V-I"],"Hard Rock":["I-IV-V","i-VI-III-VII","I-bVII-IV-I","i-iv-v-i","vi-IV-I-V","I-V-IV-I"],"Punk Rock":["I-IV-V","vi-IV-I-V","I-V-vi-IV","I-bVII-IV-I","i-iv-v-i"],House:["i-VI-III-VII","Am-G-C-F","i-III-VI-VII","i-v-iv-i","vi-IV-I-V","i-VII-VI-V"],"Deep House":["i-VI-III-VII","Am-G-C-F","i-iv-v-i","vi-ii-V-I","i-VII-VI-V","Dm-Bb-F-C"],"Progressive House":["i-VI-III-VII","vi-IV-I-V","i-iv-v-VI","Am-F-C-G","i-VII-VI-V"],"Tech House":["i-VI-III-VII","i-iv-v-i","Am-G-F-E","i-III-VI-VII","vi-IV-I-V"],Techno:["i-VI-III-VII","i-iv-v-i","Am-G-F-E","i-III-VI-VII","i-VII-VI-V","Drone + variations"],"Minimal Techno":["i-iv-v-i","Am-G-F-E","i-VI-III-VII","Single chord drone","i-VII-VI-V"],Trance:["i-VI-III-VII","vi-IV-I-V","i-VII-VI-V","Am-F-C-G","i-iv-v-VI","vi-ii-V-I"],"Progressive Trance":["i-VI-III-VII","vi-IV-I-V","i-iv-v-VI","Am-F-C-G","vi-ii-V-I"],Ambient:["Imaj7-IVmaj7","i-VI","Drone + sus chords","vi-IV-I-V","Am-F-C-G","Cmaj7-Fmaj7-Am7-Dm7"],"Dark Ambient":["i-iv-v-i","Am-Dm-Em-Am","i-VI-III-VII","Drone + minor variations"],Synthwave:["i-VI-III-VII","vi-IV-I-V","I-V-vi-IV","i-iv-v-i","Am-F-C-G","i-VII-VI-V"],Retrowave:["i-VI-III-VII","vi-IV-I-V","I-V-vi-IV","Am-F-C-G","i-iv-v-VI"],Darksynth:["i-VI-III-VII","i-iv-v-i","Am-G-F-E","i-VII-VI-V","vi-IV-I-V"],Vaporwave:["Imaj7-IVmaj7","vi-IV-I-V","I-V-vi-IV","Cmaj7-Fmaj7-Am7-Dm7","ii-V-I-IV"],"Drum and Bass":["i-VI-III-VII","Am-F-C-G","ii-V-I-IV","i-iv-v-VI","Complex jazz voicings"],"Liquid DnB":["ii-V-I-IV","Imaj7-vi7-ii7-V7","i-VI-III-VII","Am-F-C-G","vi-ii-V-I"],Neurofunk:["i-VI-III-VII","i-iv-v-i","Am-G-F-E","Complex chromatic progressions"],Breakcore:["i-VI-III-VII","Complex atonal progressions","i-iv-v-i","Chaotic harmonic structures"],Dubstep:["i-VI-III-VII","i-iv-v-i","Am-G-F-E","Simple 2-3 chord loops","vi-IV-I-V"],Riddim:["i-VI-III-VII","i-iv-v-i","Am-G-F-E","Simple repetitive loops"],"Future Bass":["I-V-vi-IV","vi-IV-I-V","i-VI-III-VII","I-iii-vi-V","vi-ii-V-I"],"Trap (EDM)":["i-VI-III-VII","i-iv-v-i","Am-G-F-E","vi-IV-I-V","Simple 2-3 chord loops"],"Hip Hop":["i-VI-III-VII","Am-G-Em-F","ii-V-I","i-iv-v-i","Sample-based loops","vi-IV-I-V"],"Boom Bap":["ii-V-I","i-VI-III-VII","Am-G-Em-F","Sample-based progressions","i-iv-v-i"],Trap:["i-VI-III-VII","i-iv-v-i","Am-G-F-E","vi-IV-I-V","Simple minor progressions"],"Lo-fi Hip Hop":["ii-V-I-IV","Imaj7-vi7-ii7-V7","I-V-vi-IV","vi-ii-V-I","Cmaj7-Am7-Dm7-G7"],"Cloud Rap":["i-VI-III-VII","vi-IV-I-V","I-V-vi-IV","Atmospheric progressions","Am-F-C-G"],Drill:["i-VI-III-VII","i-iv-v-i","Am-G-F-E","Dark minor progressions","vi-IV-I-V"],"R&B":["Imaj7-IVmaj7","ii-V-I","i-VI-III-VII","vi-ii-V-I","I-iii-vi-V","Cmaj7-Fmaj7-Am7-Dm7"],"Contemporary R&B":["Imaj7-IVmaj7","vi-ii-V-I","I-iii-vi-V","ii-V-I-IV","I-V-vi-IV"],"Neo-Soul":["ii-V-I","Imaj7-vi7-ii7-V7","i-VI-III-VII","Complex jazz progressions","vi-ii-V-I"],Soul:["I-IV-V","ii-V-I","I-vi-IV-V","vi-IV-I-V","I-V-vi-IV"],Folk:["I-IV-V","I-V-vi-IV","G-C-D-G","C-G-Am-F","vi-IV-I-V","I-vi-IV-V"],Acoustic:["I-V-vi-IV","I-IV-V","vi-IV-I-V","G-C-D-G","C-G-Am-F","I-vi-IV-V"],Jazz:["ii-V-I","I-vi-ii-V","iii-vi-ii-V","I-II7-V7-I","Imaj7-IIm7-IIIm7-IVmaj7","vi-ii-V-I"],"Smooth Jazz":["ii-V-I","Imaj7-vi7-ii7-V7","I-vi-ii-V","vi-ii-V-I","iii-vi-ii-V"],Blues:["I-I-I-I-IV-IV-I-I-V-IV-I-I","i-i-i-i-iv-iv-i-i-v-iv-i-i","I-IV-V","i-iv-v"],Funk:["ii-V-I","I-IV-V","i-iv-v-i","vi-ii-V-I","I7-IV7-V7","Dominant 7th progressions"],"Heavy Metal":["i-VI-III-VII","i-iv-v-i","I-bVII-IV-I","vi-IV-I-V","i-VII-VI-V"],"Thrash Metal":["i-VI-III-VII","i-iv-v-i","I-bVII-IV-I","Fast chromatic progressions"],"Death Metal":["i-iv-v-i","i-VI-III-VII","Chromatic progressions","Complex atonal structures"],"Black Metal":["i-iv-v-i","i-VI-III-VII","i-VII-VI-V","Atmospheric minor progressions"],"Doom Metal":["i-iv-v-i","i-VI-III-VII","i-VII-VI-V","Slow minor progressions"],Metalcore:["i-VI-III-VII","vi-IV-I-V","i-iv-v-i","I-bVII-IV-I","vi-ii-V-I"],Deathcore:["i-iv-v-i","i-VI-III-VII","Chromatic breakdowns","Complex atonal progressions"],Experimental:["Atonal progressions","Extended harmony","Microtonal scales","Non-traditional structures"],Noise:["Atonal clusters","Non-harmonic structures","Dissonant progressions","Experimental harmony"],Industrial:["i-iv-v-i","i-VI-III-VII","Power chord progressions","Mechanical repetition"],Chiptune:["I-V-vi-IV","i-VI-III-VII","vi-IV-I-V","Classic video game progressions","I-iii-vi-V"],"Video Game Music":["I-V-vi-IV","i-VI-III-VII","vi-IV-I-V","Adventure progressions","I-iii-vi-V"],Default:["I-V-vi-IV","i-VI-III-VII","I-IV-V-I","vi-IV-I-V","ii-V-I","I-iii-vi-V"]},Jn={Pop:[90,130],"Indie Pop":[100,140],"Synth-Pop":[110,140],Rock:[100,160],"Alternative Rock":[90,150],House:[118,128],"Deep House":[115,125],Techno:[125,145],Trance:[130,145],Ambient:[50,100],Synthwave:[80,120],"Drum and Bass":[160,180],Dubstep:[130,150],"Trap (EDM)":[130,160],"Hip Hop":[80,110],"Lo-fi Hip Hop":[70,90],"R&B":[60,100],Folk:[80,120],Jazz:[70,180],Blues:[70,130],Default:[60,200]},Po={kick:36,snare:38,hihat_closed:42,open_hihat:46,tom_low:41,tom_mid:47,tom_high:50,crash_cymbal_1:49,ride_cymbal_1:51,clap:39,shaker:70,tambourine:54,rim_shot:37,cowbell:56,bass_drum:36,snare_drum:38,closed_hihat:42,hihat:42,crash:49,ride:51},eu=[{category:"Genre",key:"genre",examples:["Techno","House","Trance","Dubstep","Drum & Bass","Synthwave","Ambient","Industrial","Rock","Pop","Hip Hop","R&B","Jazz","Experimental","Cinematic","Video Game Score","Chiptune"]},{category:"Voice Type",key:"voiceType",examples:["Lead","Pad","Bass","Pluck","Arp","FX","Drone","Texture","Atmosphere","Riser","Impact","Chord","Stab"]},{category:"Style & Mood",key:"styleMood",examples:["Warm","Bright","Dark","Metallic","Analog","Digital","Dreamy","Aggressive","Mysterious","Epic","Punchy","Floating","Gritty","Clean","Organic","Mechanical","Futuristic","Retro","Cyberpunk"]},{category:"Dynamics & Movement",key:"dynamicsMovement",examples:["Evolving","Pulsating","Static","Rhythmic","Flowing","Choppy","Breathing","Morphing","Swelling","Pounding","Cascading","Trembling","Wobbling","Shifting","Undulating","Building","Fading","Stuttering"]}],gN=["Ableton Operator","Ableton Wavetable","Apple Alchemy","Apple Retro Synth","Arturia Analog Lab","Arturia PolyBrute","Bazille","DiscoDSP OB-Xd","Diva","Hive 2","Kilohearts Phase Plant","Korg MS-20","Korg Wavestate","Moog Minimoog","Native Instruments FM8","Native Instruments Massive","Native Instruments Massive X","Native Instruments Monark","Omnisphere","Pigments","Roland Jupiter-8","Roland Juno-106","Roland SH-101","Sylenth1","TAL TAL-U-No-LX","u-he Repro-1","u-he Repro-5","Vital","Xfer Serum","Zebra2","Generic"].sort(),yN="AIzaSyCxOuxalv_PC6h6aE8JvEjLMK8ie8C9Nts",Fr=new cN({apiKey:yN});function r1(e,t){if(!e&&!t)return`
###  Processing Tips & Plugin Parameters

**EQ Settings:**
- High-pass filter: 20-40 Hz to remove sub-bass rumble
- Low-mid cut: 200-400 Hz to reduce muddiness
- Presence boost: 2-5 kHz for clarity
- Air boost: 10-15 kHz for sparkle

**Compression:**
- Ratio: 3:1 to 4:1 for moderate control
- Attack: 10-30ms for punch retention
- Release: 100-300ms for natural decay
- Makeup gain: 2-6 dB as needed

**Reverb & Delay:**
- Room reverb: 0.8-1.5s decay for space
- Delay: 1/8 or 1/4 note timing
- High-cut: 8-12 kHz to avoid harshness
- Mix: 15-30% for depth without wash`;const r=e?(u=>{const f=u.toLowerCase();return f.includes("ableton")?{eq:"EQ Eight",compressor:"Compressor",reverb:"Reverb",delay:"Echo",limiter:"Limiter",saturator:"Saturator"}:f.includes("logic")?{eq:"Channel EQ",compressor:"Compressor",reverb:"ChromaVerb",delay:"Echo",limiter:"Adaptive Limiter",saturator:"Tape"}:f.includes("fl studio")||f.includes("fl")?{eq:"Parametric EQ 2",compressor:"Fruity Compressor",reverb:"Reverb 2",delay:"Fruity Delay 3",limiter:"Fruity Limiter",saturator:"Fruity Waveshaper"}:f.includes("pro tools")?{eq:"EQ III",compressor:"Dyn3 Compressor/Limiter",reverb:"D-Verb",delay:"Mod Delay III",limiter:"Dyn3 Compressor/Limiter",saturator:"Lo-Fi"}:f.includes("cubase")||f.includes("nuendo")?{eq:"StudioEQ",compressor:"Compressor",reverb:"REVerence",delay:"ModMachine",limiter:"Limiter",saturator:"Tape"}:f.includes("reaper")?{eq:"ReaEQ",compressor:"ReaComp",reverb:"ReaVerb",delay:"ReaDelay",limiter:"ReaLimit",saturator:"ReaSynth"}:{eq:"Stock EQ",compressor:"Stock Compressor",reverb:"Stock Reverb",delay:"Stock Delay",limiter:"Stock Limiter",saturator:"Stock Saturator"}})(e):null,a=e&&!t?`**${e} Stock Plugin Chain:**`:e?`**${e}-Specific Settings:**`:"",l=t?`**Custom Plugin Chain (${t}):**`:"";return`
###  Processing Tips & Plugin Parameters
${a}
${l}

**EQ Parameters:**
${r&&!t?`- ${r.eq}: High-pass at ${e!=null&&e.toLowerCase().includes("logic")?"35":e!=null&&e.toLowerCase().includes("fl")?"30":"40"} Hz, Low-mid cut at ${e!=null&&e.toLowerCase().includes("logic")?"300":e!=null&&e.toLowerCase().includes("fl")?"400":"250"} Hz (-3dB), Presence boost at ${e!=null&&e.toLowerCase().includes("logic")?"12 kHz (+1.5dB)":e!=null&&e.toLowerCase().includes("fl")?"15 kHz (+2dB)":"3 kHz (+2dB)"}`:e==="Ableton Live"?"- EQ Eight: High-pass at 40 Hz, Low-mid cut at 250 Hz (-3dB), Presence boost at 3 kHz (+2dB)":e==="Logic Pro X"?"- Channel EQ: High-pass at 35 Hz, Low-mid cut at 300 Hz (-2.5dB), High boost at 12 kHz (+1.5dB)":e==="FL Studio"?"- Parametric EQ 2: High-pass at 30 Hz, Mid cut at 400 Hz (-4dB), Air boost at 15 kHz (+2dB)":"- High-pass filter: 20-40 Hz, Low-mid cut: 200-400 Hz (-2 to -4dB), Presence boost: 2-5 kHz (+1 to +3dB)"}

**Compression Settings:**
${r&&!t?`- ${r.compressor}: Ratio ${e!=null&&e.toLowerCase().includes("logic")?"3.5:1":"4:1"}, Attack ${e!=null&&e.toLowerCase().includes("fl")?"10ms":e!=null&&e.toLowerCase().includes("logic")?"20ms":"15ms"}, Release ${e!=null&&e.toLowerCase().includes("logic")?"150ms":e!=null&&e.toLowerCase().includes("fl")?"250ms":"200ms"}${e!=null&&e.toLowerCase().includes("logic")?", Auto-Release enabled":e!=null&&e.toLowerCase().includes("fl")?", Knee 3dB":", Knee 2dB"}`:e==="Ableton Live"?"- Compressor: Ratio 4:1, Attack 15ms, Release 200ms, Knee 2dB":e==="Logic Pro X"?"- Compressor: Ratio 3.5:1, Attack 20ms, Release 150ms, Auto-Release enabled":e==="FL Studio"?"- Fruity Compressor: Ratio 4:1, Attack 10ms, Release 250ms, Knee 3dB":"- Ratio: 3:1 to 4:1, Attack: 10-30ms, Release: 100-300ms"}

**Reverb & Delay:**
${r&&!t?`- ${r.reverb}: Room/Hall setting, 1.2s decay, Pre-delay 20ms, Mix 25%
- ${r.delay}: 1/8 note timing, Feedback 35%, High-cut 8kHz, Mix 20%`:"- Room reverb: 0.8-1.5s decay for space, Delay: 1/8 or 1/4 note timing, High-cut: 8-12 kHz to avoid harshness"}

**Effects Chain:**
${t?`- Using ${t}: Apply specific parameter recommendations based on your plugin selection`:r?`- ${r.eq}  ${r.compressor}  ${r.saturator}  ${r.reverb}/${r.delay}  ${r.limiter}`:"- Standard effects: EQ  Compressor  Reverb/Delay  Limiter"}
- Send levels: 15-25% to reverb bus, 10-20% to delay bus
- Sidechain settings: 4:1 ratio, fast attack, medium release`}function o1(e=!0){const t=e?" | **Instrumentation** ":"",n=e?" | --- ":"",r=e?[" | Lead synth, Bass, Drums, Pads "," | Vocals, Full arrangement "," | Reduced arrangement, Focus elements "," | Full arrangement, Vocal harmonies "," | Breakdown elements, Build-up "," | Lead elements, Minimal backing "," | Full arrangement, Climax elements "," | Fade elements, Ambient textures "]:Array(8).fill("");return`
##  Structural Blueprint

| **Section** | **Duration** | **Key Elements** | **Energy Level**${t}|
| --- | --- | --- | ---${n}|
| **Intro** | 16-32 bars | Atmospheric build, Teaser elements | Low-Medium${r[0]}|
| **Verse 1** | 16 bars | Main groove, Vocal/Lead melody | Medium${r[1]}|
| **Pre-Chorus** | 8 bars | Tension build, Filter sweeps | Medium-High${r[2]}|
| **Chorus** | 16 bars | Full energy, Hook elements | High${r[3]}|
| **Breakdown** | 8-16 bars | Stripped back, Build tension | Low-Medium${r[4]}|
| **Verse 2/Solo** | 16 bars | Variation, New elements | Medium-High${r[5]}|
| **Final Chorus** | 16-24 bars | Maximum energy, All elements | Maximum${r[6]}|
| **Outro** | 16-32 bars | Gradual fade, Ambient tail | Low${r[7]}|`}const xN=async e=>{var P,N;const t=e.songTitle?`- **Project Name**: ${e.songTitle}`:"",n=e.artistReference?`- **Artist References**: ${e.artistReference}`:"",r=((P=e.genre)==null?void 0:P.join(", "))||"Not specified",a=((N=e.vibe)==null?void 0:N.join(", "))||"Not specified",l=e.availableInstruments||"Not specified",u=e.daw?e.daw:"Not specified",f=e.plugins?e.plugins:"Stock/Generic plugins",h=e.key?`Key: ${e.key}`:"",d=e.scale?`Scale/Mode: ${e.scale}`:"",m=e.chords?`Chord Progression: ${e.chords}`:"",y=e.referenceTrackLink?`Reference Track: ${e.referenceTrackLink}`:"",T=e.lyrics?`Lyrics Theme: ${e.lyrics}`:"",S=e.generalNotes?`Additional Notes: ${e.generalNotes}`:"",A=o1(!0),M=r1(e.daw,e.plugins),R=`//  Including all fields
You are TrackGuideAI, an expert music production assistant specializing in comprehensive track creation guides.

Create a detailed TrackGuide for the following specifications:
${t}
${n}
- **Genre**: ${r}
- **Vibe**: ${a}
- **Available Instruments**: ${l}
- **DAW**: ${u}
- **Plugins**: ${f}
${h}
${d}
${m}
${y}
${T}
${S}

**IMPORTANT FORMATTING REQUIREMENTS:**
1. Include the exact Structural Blueprint table with Instrumentation column as provided
2. Use specific plugin parameters when DAW/plugins are specified
3. Provide actionable, detailed guidance for each section
4. Use markdown formatting with proper headers and emphasis

**Required Sections:**

${A}

##  Genre DNA Analysis
**Core Characteristics:**
- Tempo range and feel
- Harmonic structure and chord progressions
- Rhythmic patterns and groove elements
- Sonic palette and instrumentation choices

**Reference Analysis:**
${e.referenceTrackLink?"Analyze the provided reference track for key production techniques and arrangement ideas.":`Draw from classic examples in the ${r} genre for inspiration.`}

##  Instrument & Sound Design
**Primary Elements:**
- Lead sounds: Character, processing, and role
- Bass design: Sub content, mid presence, and groove
- Drum programming: Kick selection, snare character, hi-hat patterns
- Harmonic elements: Pad textures, chord voicings, arpeggios

**Sound Shaping:**
- Synthesis techniques and oscillator choices
- Filter movements and modulation
- Effects processing and spatial placement
- Layering strategies for fullness

${M}

##  Mixing & Arrangement Strategy
**Frequency Management:**
- Low-end: Sub-bass vs bass guitar/synth separation
- Midrange: Vocal/lead clarity and instrument separation  
- High-end: Air, sparkle, and presence balance

**Spatial Design:**
- Stereo width: Center, sides, and phantom center elements
- Depth: Reverb sends, delay throws, and dry/wet balance
- Movement: Automation, panning, and filter sweeps

**Dynamic Control:**
- Compression: Individual tracks and bus processing
- Sidechain: Pumping effects and clarity enhancement
- Limiting: Loudness and peak control

##  Arrangement Flow & Energy Management
**Section Transitions:**
- Build techniques: Risers, drum fills, filter sweeps
- Drop preparation: Silence, reverse reverbs, tension
- Energy curves: How to maintain listener engagement

**Variation Techniques:**
- Verse differences: Subtle changes to maintain interest
- Chorus variations: Building intensity across repetitions
- Bridge/breakdown: Contrast and reset before final sections

Focus on practical, actionable advice that can be immediately applied in ${u}. Provide specific parameter ranges and creative techniques that align with the ${r} aesthetic and ${a} mood.`;return await Fr.models.generateContentStream({model:zr,contents:R})},xs=async e=>{const t=`//  Including guidebookContext
You are TrackGuideAI's MIDI Pattern Generator. Generate MIDI patterns in VALID JSON format only.

**Requirements:**
- Key: ${e.key}
- Scale/Mode: ${e.scale||"Major/Natural Minor"}
- Tempo: ${e.tempo} BPM
- Time Signature: ${e.timeSignature.join("/")}
- Chord Progression: ${e.chordProgression}
- Genre Context: ${e.genre}
- Song Section: ${e.songSection||"General Loop"}
- Bars: ${e.bars}
- Target Instruments: ${e.targetInstruments.join(", ")}
- Guidebook Context: ${e.guidebookContext||"Not specified"}

**JSON Structure Required:**
{
  "chords": [
    {
      "time": 0,
      "name": "Cm",
      "duration": 2,
      "notes": [{"pitch": "C4", "midi": 60}, {"pitch": "Eb4", "midi": 63}, {"pitch": "G4", "midi": 67}],
      "velocity": 90
    }
  ],
  "bassline": [
    {
      "time": 0,
      "midi": 36,
      "duration": 0.5,
      "velocity": 100,
      "pitch": "C2"
    }
  ],
  "melody": [
    {
      "time": 0,
      "midi": 72,
      "duration": 1,
      "velocity": 95,
      "pitch": "C5"
    }
  ],
  "drums": {
    "kick": [
      {"time": 0, "duration": 0.25, "velocity": 120},
      {"time": 2, "duration": 0.25, "velocity": 115}
    ],
    "snare": [
      {"time": 1, "duration": 0.25, "velocity": 100},
      {"time": 3, "duration": 0.25, "velocity": 105}
    ],
    "hihat_closed": [
      {"time": 0.5, "duration": 0.125, "velocity": 80},
      {"time": 1.5, "duration": 0.125, "velocity": 75}
    ],
    "open_hihat": [
      {"time": 1.75, "duration": 0.5, "velocity": 85}
    ],
    "clap": [
      {"time": 1, "duration": 0.25, "velocity": 95}
    ],
    "tom_high": [
      {"time": 3.5, "duration": 0.25, "velocity": 90}
    ],
    "tom_mid": [
      {"time": 3.75, "duration": 0.25, "velocity": 95}
    ],
    "tom_low": [
      {"time": 4, "duration": 0.5, "velocity": 100}
    ],
    "crash_cymbal_1": [
      {"time": 0, "duration": 2, "velocity": 110}
    ],
    "ride_cymbal_1": [
      {"time": 0.5, "duration": 0.25, "velocity": 70}
    ]
  }
}

**CRITICAL REQUIREMENTS:**
1. Return ONLY valid JSON. No explanatory text, no markdown formatting, no code blocks.
2. All time values must be in beats (0 to ${e.bars*4})
3. All MIDI numbers must be integers between 21-108
4. All durations must be positive numbers
5. All velocities must be integers between 1-127
6. Use appropriate drum elements for ${e.genre}:
   - Essential: kick, snare, hihat_closed
   - Groove: open_hihat, ride_cymbal_1
   - Accents: clap, crash_cymbal_1
   - Fills: tom_high, tom_mid, tom_low
   - Choose elements that fit the genre and song section

**Genre-Specific Drum Guidelines:**
- Electronic/House/Techno: Focus on kick, hihat_closed, open_hihat, clap
- Rock/Metal: Use kick, snare, hihat_closed, crash_cymbal_1, tom_high, tom_mid, tom_low
- Hip Hop/Trap: Emphasize kick, snare, hihat_closed, clap
- Jazz/Funk: Include ride_cymbal_1, hihat_closed, kick, snare
- Pop: Balanced use of kick, snare, hihat_closed, crash_cymbal_1, clap

Generate patterns appropriate for ${e.genre} in the ${e.songSection} section, using ${e.chordProgression} progression in ${e.key}.`;return await Fr.models.generateContentStream({model:zr,contents:t})},vN=async e=>{const t=`You are TrackGuideAI's Mix Analysis Expert. Provide detailed mix feedback.

**Track Analysis:**
- Track Name: ${e.trackName}
- Focus Areas: ${e.focus||"Overall mix balance and clarity"}
- User Notes: ${e.notes||e.userNotes||"No specific notes provided"}

**Analysis Framework:**
1. **Frequency Balance**
   - Low-end: Sub-bass presence and bass clarity
   - Midrange: Vocal/lead prominence and instrument separation
   - High-end: Air, sparkle, and harshness assessment

2. **Spatial Characteristics**
   - Stereo width and imaging
   - Depth and dimension
   - Center focus vs side content

3. **Dynamic Properties**
   - Compression effectiveness
   - Transient preservation
   - Overall loudness and headroom

4. **Technical Assessment**
   - Phase relationships
   - Distortion or artifacts
   - Noise floor and clarity

**Provide specific, actionable feedback with:**
- Identified strengths and areas for improvement
- Specific frequency ranges and dB adjustments
- Plugin suggestions and parameter recommendations
- Before/after comparison techniques

Focus on practical improvements that can be implemented immediately.`;return(await Fr.models.generateContent({model:zr,contents:t})).text},bN=async e=>{const t=`
You are an expert mixing & mastering AI. The user has uploaded two mixes:

Mix A: "${e.mixAName}"  an earlier version  
Mix B: "${e.mixBName}"  the current working version  

 Instructions:
- Mix B is the active version  focus all actionable feedback on improving Mix B.
- Mix A is an earlier version  if Mix A has strengths vs Mix B, point those out.
- Acknowledge improvements made in Mix B compared to A.
- Do NOT suggest changes to Mix A (it is not being revised).

If "Request full mix analysis" is selected  add full technical breakdown of Mix B (like in your Mix Feedback function).

Provide your analysis in clear Markdown format with the following sections:

##  Overall Comparison

##  Frequency Balance

##  Stereo Image & Depth

##  Dynamics & Loudness

##  Technical Quality

##  Strengths & Opportunities (for Mix B)

##  Actionable Recommendations (for Mix B only)

`;return(await Fr.models.generateContent({model:zr,contents:t})).text},TN=async(e,t,n)=>{const r=e.map(h=>`${h.role==="user"?"User":"Assistant"}: ${h.content}`).join(`
`),a=`
**Current Guidebook Context:**
- Title: ${t.title}
- Genre: ${t.genre.join(", ")}
- Vibe: ${t.vibe.join(", ")}
- DAW: ${t.daw}
- Key: ${t.key||"Not specified"}
- Available Instruments: ${t.availableInstruments}`;let l="";if(n){const{remixGuideContent:h,mixFeedbackContent:d,mixComparisonContent:m,patchGuideContent:y,activeView:T}=n;T&&(l+=`
**Current View:** ${T}`),h&&(l+=`

**Active RemixGuide:**
${h.substring(0,2e3)}${h.length>2e3?"...":""}`),d&&(l+=`

**Active Mix Feedback:**
${d.substring(0,2e3)}${d.length>2e3?"...":""}`),m&&(l+=`

**Active Mix Comparison:**
${m.substring(0,2e3)}${m.length>2e3?"...":""}`),y&&(l+=`

**Active PatchGuide:**
${y.substring(0,2e3)}${y.length>2e3?"...":""}`)}const u=`You are TrackGuideAI, an expert music production assistant. You're helping a user with their current track project.

${a}${l}

**Conversation History:**
${r}

**Your Role:**
- Provide specific, actionable music production advice
- Reference the current guidebook context when relevant
- Integrate insights from any active guides (RemixGuide, Mix Feedback, Mix Comparison, PatchGuide)
- Offer technical solutions and creative suggestions based on all available context
- Ask clarifying questions when needed
- Maintain a helpful, professional tone

**Response Guidelines:**
- Be concise but thorough
- Include specific parameter suggestions when applicable
- Reference DAW-specific techniques when relevant
- Provide alternative approaches when possible
- When relevant guides are active, reference their content and insights
- Help users understand connections between different aspects of their project

Respond as the helpful TrackGuideAI assistant with full awareness of the user's current project context.`;return await Fr.models.generateContentStream({model:zr,contents:u})};async function*SN(e,t,n,r,a){try{const l=n!=null&&n.tempoRange?`${n.tempoRange[0]}-${n.tempoRange[1]} BPM`:"120-130 BPM",u=(n==null?void 0:n.sections)||["Intro","Build-Up","Drop","Breakdown","Outro"],f=o1(!0),h=r1(r,a),d=`You are TrackGuideAI's Remix Specialist. Analyze the uploaded audio track and create a comprehensive remix guide for transforming it into ${t} style.

**User Production Setup:**
- **DAW:** ${r||"Not specified"}
- **Available Plugins:** ${a||"Stock/Generic plugins"}

**Analysis Requirements:**
1. Identify the original track's tempo, key, harmonic progression, and rhythmic characteristics
2. Determine optimal transformation approach for ${t}
3. Provide detailed production guidance with specific techniques
4. Include plugin-specific parameter recommendations based on user's setup

**Target Genre:** ${t}
**Target Tempo Range:** ${l}
**Suggested Sections:** ${u.join(", ")}

Create a detailed markdown remix guide that includes:

#  REMIX GUIDE: [Original Track]  ${t}

##  Original Track DNA Analysis
**Detected Characteristics:**
- **Original Tempo:** [Detected BPM]
- **Original Key:** [Detected Key]
- **Harmonic Blueprint:** [Chord progression analysis]
- **Rhythmic Feel:** [Time signature and groove analysis]
- **Sonic Character:** [Tonal qualities and instrumentation]

**Transformation Strategy:**
- **Target Tempo:** [Recommended BPM within ${l}]
- **Target Key:** [Optimal key for ${t}]
- **Genre Adaptation:** [How to adapt original elements]

${f}

##  Sound Design & Instrumentation Transformation
**Lead Elements:**
- **Original  ${t}:** Transform existing leads using specific techniques
- **New Elements:** Add characteristic ${t} sounds
- **Processing Chain:** Specific plugin recommendations and parameters

**Rhythm Section Redesign:**
- **Drum Programming:** ${t}-specific patterns and sounds
- **Bass Design:** Transform or replace bass elements
- **Percussion Layers:** Add characteristic ${t} percussion

##  Mixing & Processing Techniques
**Signal Chain Recommendations:**
${h}

**${t}-Specific Processing:**
- Genre-characteristic EQ curves
- Compression techniques for ${t}
- Saturation and distortion applications
- Spatial processing (reverb/delay) for the genre

##  Arrangement & Structure
**Section-by-Section Breakdown:**
${u.map(S=>`
**${S}:**
- Elements to include/exclude
- Energy level and dynamics
- Transition techniques
`).join("")}

**Dynamic Build Strategy:**
- How to create tension and release
- Filter sweeps and automation
- Risers and impacts placement

##  Creative Production Tips
- Unconventional ${t} techniques
- Experimental processing ideas
- Sample manipulation suggestions
- Layering strategies for depth

---
*Generated by TrackGuideAI - Your AI Music Production Assistant*

**IMPORTANT:** Also provide metadata at the end in this format:
METADATA:
- Original Tempo: [detected BPM number]
- Original Key: [detected key]
- Original Chord Progression: [detected progression]
- Target Tempo: [recommended BPM number]
- Target Key: [recommended key]
- Sections: [${u.join(", ")}]`,m=await Fr.models.generateContentStream({model:zr,contents:[{role:"user",parts:[{text:d},{inlineData:{mimeType:e.mimeType,data:e.base64}}]}]});let y="";for await(const S of m){const A=S.text;A&&(y+=A,yield{text:A})}yield{text:"",metadata:CN(y)}}catch(l){throw console.error("Error generating remix guide stream:",l),new Error(`Failed to generate remix guide: ${l instanceof Error?l.message:"Unknown error"}`)}}function CN(e){const t={},n=e.match(/Original Tempo:\s*(\d+)/i);n&&(t.originalTempo=parseInt(n[1]));const r=e.match(/Target Tempo:\s*(\d+)/i);r&&(t.targetTempo=parseInt(r[1]));const a=e.match(/Original Key:\s*([A-G][#b]?\s*(?:major|minor|maj|min))/i);a&&(t.originalKey=a[1]);const l=e.match(/Target Key:\s*([A-G][#b]?\s*(?:major|minor|maj|min))/i);l&&(t.targetKey=l[1]);const u=e.match(/Harmonic Blueprint:\s*([IVXivx\d\s\-,]+)/i);u&&(t.originalChordProgression=u[1].trim());const f=e.match(/Sections:\s*\[(.*?)\]/i);return f&&(t.sections=f[1].split(",").map(h=>h.trim().replace(/"/g,""))),t}const Sx=async e=>{if(!e.audioFile)return vN(e);try{const n=await(d=>new Promise((m,y)=>{const T=new FileReader;T.onloadend=()=>{const S=T.result;m(S.split(",")[1])},T.onerror=y,T.readAsDataURL(d)}))(e.audioFile),a={text:`You are TrackGuideAI's Advanced Mix Analysis Expert. Analyze the uploaded audio file and provide comprehensive mix feedback.

**Track Information:**
- Track Name: ${e.trackName||"Uploaded Mix"}
- Focus Areas: ${e.focus||"Overall mix balance and clarity"}
- User Notes: ${e.notes||e.userNotes||"No specific notes provided"}

**Comprehensive Analysis Framework:**

##  Audio Analysis Results

### Frequency Spectrum Analysis
**Low-End (20-250 Hz):**
- Sub-bass presence and control
- Bass clarity and definition
- Low-mid muddiness assessment

**Midrange (250 Hz - 5 kHz):**
- Vocal/lead instrument clarity
- Instrument separation and masking
- Presence and intelligibility

**High-End (5 kHz+):**
- Air and sparkle quality
- Harshness or sibilance issues
- Overall brightness balance

### Stereo Field & Spatial Analysis
**Width & Imaging:**
- Stereo spread effectiveness
- Phantom center stability
- Side content balance

**Depth & Dimension:**
- Reverb usage and space
- Dry/wet balance
- Front-to-back positioning

### Dynamic Range Assessment
**Compression Analysis:**
- Overall dynamic range
- Transient preservation
- Pumping or over-compression

**Loudness Evaluation:**
- Perceived loudness level
- Peak management
- Headroom availability

### Technical Quality Check
**Distortion & Artifacts:**
- Unwanted harmonic distortion
- Digital artifacts or clipping
- Noise floor assessment

**Phase Relationships:**
- Mono compatibility
- Phase cancellation issues
- Correlation analysis

##  Specific Recommendations

### Immediate Improvements
1. **Priority Fix #1:** [Most critical issue with specific solution]
2. **Priority Fix #2:** [Second most important improvement]
3. **Priority Fix #3:** [Third priority enhancement]

### Technical Adjustments
**EQ Suggestions:**
- Specific frequency cuts/boosts with dB amounts
- Problem frequency identification
- Enhancement opportunities

**Compression Recommendations:**
- Ratio, attack, and release settings
- Specific compressor types or plugins
- Bus compression strategies

**Effects Processing:**
- Reverb and delay adjustments
- Spatial enhancement techniques
- Creative processing opportunities

### Professional Polish
**Mastering Considerations:**
- Final EQ and compression
- Stereo enhancement
- Loudness optimization

**Reference Comparison:**
- How this mix compares to commercial standards
- Genre-specific benchmarks
- Areas for competitive improvement

Provide actionable, specific feedback that can be implemented immediately to improve the mix quality and professional impact.`},u=[{inlineData:{data:n,mimeType:e.audioFile.type||"audio/mpeg"}},a],h=(await Fr.models.generateContent({model:zr,contents:{parts:u}})).text;if(typeof h!="string")throw new Error("Received an unexpected response format from Gemini API for mix feedback.");return h}catch(t){console.error("Error generating mix feedback with audio:",t);let n="An unknown error occurred while generating mix feedback.";throw t instanceof Error&&(n=t.message,t.message.includes("API key not valid")||t.message.includes("permission")?n="Invalid API Key or insufficient permissions. Please check your API key configuration.":t.message.toLowerCase().includes("network error")||t.message.toLowerCase().includes("failed to fetch")?n=`Network error: Failed to connect to Gemini API. Please check your internet connection. (${t.message})`:t.message.includes("Candidate was blocked")?n="The response was blocked by the AI. This might be due to content policies. Please try again or adjust your input.":t.message.includes("audio")&&(n=`There was an issue processing the audio file. Ensure it's a common format and not too large. (${t.message})`)),new Error(n)}},vn=kh.forwardRef(({label:e,id:t,wrapperClassName:n,...r},a)=>g.jsxs("div",{className:n,children:[e&&g.jsx("label",{htmlFor:t,className:"block text-sm font-medium text-gray-300 mb-1",children:e}),g.jsx("input",{id:t,ref:a,...r,className:`w-full px-4 py-2 bg-gray-800 border border-gray-700 rounded-md shadow-sm placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-purple-500 text-gray-100 ${r.className||""}`})]}));vn.displayName="Input";const No=({label:e,id:t,wrapperClassName:n,...r})=>g.jsxs("div",{className:n,children:[e&&g.jsx("label",{htmlFor:t,className:"block text-sm font-medium text-gray-300 mb-1",children:e}),g.jsx("textarea",{id:t,...r,className:`w-full px-4 py-2 bg-gray-800 border border-gray-700 rounded-md shadow-sm placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-purple-500 text-gray-100 ${r.className||""}`,rows:3})]}),Le=({children:e,variant:t="primary",size:n="md",className:r="",leftIcon:a,rightIcon:l,...u})=>{const f="inline-flex items-center justify-center font-semibold rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-gray-900 transition-colors duration-150 disabled:opacity-50 disabled:cursor-not-allowed",h={primary:"bg-purple-600 hover:bg-purple-700 text-white focus:ring-purple-500",secondary:"bg-gray-700    hover:bg-gray-600 text-gray-100 focus:ring-gray-500",outline:"border border-purple-500 text-purple-400 hover:bg-purple-500 hover:text-white focus:ring-purple-500",danger:"bg-red-600     hover:bg-red-700 text-white focus:ring-red-500"},d={sm:"px-3 py-1.5 text-sm",md:"px-4 py-2   text-base",lg:"px-6 py-3   text-lg"};return g.jsxs("button",{...u,className:`${f} ${h[t]} ${d[n]} ${r}`,children:[a&&g.jsx("span",{className:"mr-2",children:a}),e,l&&g.jsx("span",{className:"ml-2",children:l})]})},Ze=({children:e,className:t="",title:n,titleClassName:r="",contentClassName:a="",...l})=>g.jsxs("div",{className:`bg-gray-800 shadow-lg rounded-lg overflow-hidden ${t}`,...l,children:[n&&g.jsx("div",{className:`px-4 py-3 border-b border-gray-700 ${r}`,children:g.jsx("h3",{className:"text-lg font-semibold text-gray-100",children:n})}),g.jsx("div",{className:`p-4 ${a}`,children:e})]}),Si=({size:e="md",color:t="text-purple-500",text:n})=>{const r={sm:"w-6 h-6",md:"w-8 h-8",lg:"w-12 h-12"};return g.jsxs("div",{className:"flex flex-col items-center justify-center",children:[g.jsx("div",{className:`animate-spin rounded-full border-t-2 border-b-2 border-transparent ${r[e]} ${t}`,style:{borderTopColor:"currentColor",borderBottomColor:"currentColor"}}),n&&g.jsx("p",{className:"mt-2 text-sm text-gray-400",children:n})]})},$d=({className:e,title:t})=>g.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:e||"w-5 h-5","aria-hidden":t?void 0:"true",role:t?"img":void 0,children:[t&&g.jsx("title",{children:t}),g.jsx("path",{fillRule:"evenodd",d:"M3 17a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zm3.293-7.707a1 1 0 011.414 0L9 10.586V3a1 1 0 112 0v7.586l1.293-1.293a1 1 0 111.414 1.414l-3 3a1 1 0 01-1.414 0l-3-3a1 1 0 010-1.414z",clipRule:"evenodd"})]}),wN=({className:e,title:t})=>g.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:e||"w-5 h-5","aria-hidden":t?void 0:"true",role:t?"img":void 0,children:[t&&g.jsx("title",{children:t}),g.jsx("path",{d:"M5 4a2 2 0 012-2h6a2 2 0 012 2v10a2 2 0 01-2 2H7a2 2 0 01-2-2V4zm2 0v10h6V4H7zm5 1h-4a1 1 0 100 2h4a1 1 0 100-2z"})]}),AN=({className:e,title:t})=>g.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:e||"w-5 h-5","aria-hidden":t?void 0:"true",role:t?"img":void 0,children:[t&&g.jsx("title",{children:t}),g.jsx("path",{fillRule:"evenodd",d:"M9 2a1 1 0 00-.894.553L7.382 4H4a1 1 0 000 2v10a2 2 0 002 2h8a2 2 0 002-2V6a1 1 0 100-2h-3.382l-.724-1.447A1 1 0 0011 2H9zM7 8a1 1 0 012 0v6a1 1 0 11-2 0V8zm5-1a1 1 0 00-1 1v6a1 1 0 102 0V8a1 1 0 00-1-1z",clipRule:"evenodd"})]}),Yd=({className:e,title:t})=>g.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:e||"w-6 h-6","aria-hidden":t?void 0:"true",role:t?"img":void 0,children:[t&&g.jsx("title",{children:t}),g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6.042A8.967 8.967 0 006 3.75c-1.052 0-2.062.18-3 .512v14.25A8.987 8.987 0 016 18c2.305 0 4.408.867 6 2.292m0-14.25a8.966 8.966 0 016-2.292c1.052 0 2.062.18 3 .512v14.25A8.987 8.987 0 0018 18a8.967 8.967 0 00-6 2.292m0-14.25v14.25"})]}),EN=({className:e,title:t})=>g.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:e||"w-5 h-5","aria-hidden":t?void 0:"true",role:t?"img":void 0,children:[t&&g.jsx("title",{children:t}),g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 01-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 011.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 00-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 01-1.125-1.125v-9.25m9.75 0l-4.5-4.5m0 0l-4.5 4.5M12.75 3v4.5A2.25 2.25 0 0015 9.75h4.5"})]}),a1=({className:e,title:t})=>g.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:e||"w-5 h-5","aria-hidden":t?void 0:"true",role:t?"img":void 0,children:[t&&g.jsx("title",{children:t}),g.jsx("path",{d:"M10 3.515V11.24a3.513 3.513 0 00-1.5-.406c-1.313 0-2.388.752-2.388 1.672S7.187 14.18 8.5 14.18c1.238 0 2.263-.672 2.375-1.537h.125v-7.14c0-.313.11-.604.313-.828.202-.224.494-.344.812-.344.625 0 1.125.5 1.125 1.125V11.24a3.513 3.513 0 00-1.5-.406c-1.313 0-2.388.752-2.388 1.672S10.187 14.18 11.5 14.18c1.313 0 2.388-.752 2.388-1.672a1.675 1.675 0 00-1.078-1.543V3.515A2.625 2.625 0 0010 1C8.619 1 7.5 2.12 7.5 3.5V11.24A3.513 3.513 0 006 10.833c-1.313 0-2.388.752-2.388 1.672S4.687 14.18 6 14.18c1.237 0 2.262-.672 2.375-1.537h.125V6.125C8.5 4.5 9.125 3.515 10 3.515z"})]}),Kd=({className:e,title:t})=>g.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:e||"w-5 h-5","aria-hidden":t?void 0:"true",role:t?"img":void 0,children:[t&&g.jsx("title",{children:t}),g.jsx("path",{d:"M10.75 4.75a.75.75 0 00-1.5 0v4.5h-4.5a.75.75 0 000 1.5h4.5v4.5a.75.75 0 001.5 0v-4.5h4.5a.75.75 0 000-1.5h-4.5v-4.5z"})]}),Cx=({className:e,title:t})=>g.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:e||"w-5 h-5","aria-hidden":t?void 0:"true",role:t?"img":void 0,children:[t&&g.jsx("title",{children:t}),g.jsx("path",{fillRule:"evenodd",d:"M6.516 4.42A1.5 1.5 0 004 5.662v8.676a1.5 1.5 0 002.516 1.242l6.712-4.338a1.5 1.5 0 000-2.484L6.516 4.42z",clipRule:"evenodd"})]}),MN=({className:e,title:t})=>g.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:e||"w-5 h-5","aria-hidden":t?void 0:"true",role:t?"img":void 0,children:[t&&g.jsx("title",{children:t}),g.jsx("path",{fillRule:"evenodd",d:"M5 5a1 1 0 00-1 1v8a1 1 0 001 1h8a1 1 0 001-1V6a1 1 0 00-1-1H5zm0-2a3 3 0 00-3 3v8a3 3 0 003 3h8a3 3 0 003-3V6a3 3 0 00-3-3H5z",clipRule:"evenodd"})]}),wx=({className:e,isSpinning:t,title:n})=>g.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:`${e||"w-5 h-5"} ${t?"animate-spin":""}`,"aria-hidden":n?void 0:"true",role:n?"img":void 0,children:[n&&g.jsx("title",{children:n}),g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.023 9.348h4.992v-.001M2.985 19.644v-4.992m0 0h4.992m-4.993 0l3.181 3.183a8.25 8.25 0 0013.803-3.7M4.031 9.865a8.25 8.25 0 0113.803-3.7l3.181 3.182m0-4.991v4.99"})]}),kN=({className:e,title:t})=>g.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:e||"w-5 h-5","aria-hidden":t?void 0:"true",role:t?"img":void 0,children:[t&&g.jsx("title",{children:t}),g.jsx("path",{fillRule:"evenodd",d:"M18 7H2a1 1 0 00-1 1v6a1 1 0 001 1h16a1 1 0 001-1V8a1 1 0 00-1-1zM2 9.5v3h16v-3H2z",clipRule:"evenodd"}),g.jsx("path",{d:"M4 11h1v1H4v-1zm2 0h1v1H6v-1zm2 0h1v1H8v-1zm2 0h1v1h-1v-1zm2 0h1v1h-1v-1zm2 0h1v1h-1v-1z"})]}),IN=({className:e,title:t})=>g.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:e||"w-6 h-6","aria-hidden":t?void 0:"true",role:t?"img":void 0,children:[t&&g.jsx("title",{children:t}),g.jsx("rect",{x:"3.5",y:"3.5",width:"17",height:"17",rx:"2",stroke:"currentColor",fill:"none",strokeWidth:"1.5"})]}),NN=({className:e,title:t})=>g.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:e||"w-5 h-5","aria-hidden":t?void 0:"true",role:t?"img":void 0,children:[t&&g.jsx("title",{children:t}),g.jsx("path",{fillRule:"evenodd",d:"M3 3a1 1 0 011-1h12a1 1 0 011 1v12a1 1 0 01-1 1H4a1 1 0 01-1-1V3zm10.707 3.707a1 1 0 00-1.414-1.414L8 9.586 6.707 8.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l5-5z",clipRule:"evenodd"})]}),s1=({className:e,title:t})=>g.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:e||"w-6 h-6","aria-hidden":t?void 0:"true",role:t?"img":void 0,children:[t&&g.jsx("title",{children:t}),g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"})]}),rd=({className:e,title:t})=>g.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:e||"w-6 h-6","aria-hidden":t?void 0:"true",role:t?"img":void 0,children:[t&&g.jsx("title",{children:t}),g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 16.5v2.25A2.25 2.25 0 005.25 21h13.5A2.25 2.25 0 0021 18.75V16.5m-13.5-9L12 3m0 0l4.5 4.5M12 3v13.5"})]}),od=({className:e,title:t})=>g.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:e||"w-6 h-6","aria-hidden":t?void 0:"true",role:t?"img":void 0,children:[t&&g.jsx("title",{children:t}),g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.5 6h9.75M10.5 6a2.25 2.25 0 11-4.5 0m4.5 0a2.25 2.25 0 10-4.5 0M3.75 6H7.5m3 12h9.75m-9.75 0a2.25 2.25 0 01-4.5 0m4.5 0a2.25 2.25 0 00-4.5 0M3.75 18H7.5M10.5 12h9.75M10.5 12a2.25 2.25 0 01-4.5 0m4.5 0a2.25 2.25 0 00-4.5 0M3.75 12H7.5"})]}),Ax=({className:e="w-4 h-4"})=>g.jsx("div",{className:`${e} bg-orange-500 transform rotate-45 flex items-center justify-center`,children:g.jsx("div",{className:"w-1/2 h-1/2 bg-white transform -rotate-45"})}),DN=({isOpen:e,currentGuidebook:t,userInputs:n,isCollapsed:r=!1,onToggle:a,remixGuideContent:l,mixFeedbackContent:u,mixComparisonContent:f,patchGuideContent:h,activeView:d})=>{const[m,y]=te.useState([]),[T,S]=te.useState(""),[A,M]=te.useState(!1),R=te.useRef(null),I=te.useRef(null),P=te.useRef(null);te.useEffect(()=>{e&&m.length===0&&y([{id:"1",role:"assistant",content:`Hi! I'm your AI music production assistant. I can help you:

 Refine guides (TrackGuide, RemixGuide, PatchGuide)
 Analyze Mix Feedback and Comparison reports  
 Answer production techniques questions
 Provide creative suggestions and arrangement ideas

What would you like to work on today?`,timestamp:new Date}])},[e,m.length]);const N=()=>{P.current&&(P.current.scrollTop=P.current.scrollHeight)};te.useEffect(()=>{N()},[m]),te.useEffect(()=>{e&&I.current&&setTimeout(()=>{var ie;return(ie=I.current)==null?void 0:ie.focus()},100)},[e]);const j=()=>{y([{id:"1",role:"assistant",content:`Hi! I'm your AI music production assistant. I can help you:

 Refine guides (TrackGuide, RemixGuide, PatchGuide)
 Analyze Mix Feedback and Comparison reports  
 Answer production techniques questions
 Provide creative suggestions and arrangement ideas

What would you like to work on today?`,timestamp:new Date}])},H=async()=>{if(!T.trim()||A)return;const ie={id:Date.now().toString(),role:"user",content:T.trim(),timestamp:new Date};y(le=>[...le,ie]),S(""),M(!0);try{const le=m.map(W=>({role:W.role,content:W.content}));le.push({role:"user",content:ie.content});const pe=t||{id:"temp-"+Date.now(),title:"Current Project",genre:(n==null?void 0:n.genre)||["General"],artistReference:(n==null?void 0:n.artistReference)||"Not specified",vibe:(n==null?void 0:n.vibe)||["Creative"],daw:(n==null?void 0:n.daw)||"Not specified",plugins:(n==null?void 0:n.plugins)||"Not specified",availableInstruments:(n==null?void 0:n.availableInstruments)||"Not specified",content:"Working on current project",createdAt:new Date().toISOString(),key:n==null?void 0:n.key,scale:n==null?void 0:n.scale,chords:n==null?void 0:n.chords},F=await TN(le,pe,{remixGuideContent:l,mixFeedbackContent:u,mixComparisonContent:f,patchGuideContent:h,activeView:d}),ue={id:(Date.now()+1).toString(),role:"assistant",content:"",timestamp:new Date};y(W=>[...W,ue]);let fe="";for await(const W of F)W.text&&(fe+=W.text,y(ae=>ae.map(me=>me.id===ue.id?{...me,content:fe}:me)))}catch(le){console.error("AI Assistant Error:",le);const pe={id:(Date.now()+1).toString(),role:"assistant",content:"Sorry, I encountered an error. Please try again or rephrase your question.",timestamp:new Date};y(F=>[...F,pe])}finally{M(!1)}},U=ie=>{ie.key==="Enter"&&!ie.shiftKey&&(ie.preventDefault(),H())};return g.jsxs(g.Fragment,{children:[!r&&g.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-[9998]",onClick:a}),g.jsx("div",{className:"fixed bottom-4 right-4 z-[9999]",children:r?g.jsx("div",{onClick:a,className:"w-14 h-14 bg-gray-700 hover:bg-gray-600 rounded-full shadow-2xl cursor-pointer flex items-center justify-center hover:scale-105 transition-transform duration-200 border-2 border-orange-400/60",children:g.jsx(Ax,{className:"w-8 h-8"})}):g.jsx("div",{className:"fixed inset-4 md:inset-8 lg:inset-16 z-[9999] flex items-center justify-center pointer-events-none",children:g.jsxs("div",{className:"w-full max-w-4xl h-full max-h-[800px] bg-gray-800 shadow-2xl border border-gray-700 rounded-lg flex flex-col overflow-hidden pointer-events-auto",children:[g.jsxs("div",{className:"p-4 border-b border-gray-700 flex justify-between items-center bg-gradient-to-r from-gray-700 to-gray-600 flex-shrink-0",children:[g.jsxs("div",{className:"flex items-center min-w-0 flex-1",children:[g.jsx(Ax,{className:"w-6 h-6 text-white mr-3 flex-shrink-0"}),g.jsx("h2",{className:"text-xl font-bold text-white truncate",children:"Production Coach"})]}),g.jsxs("div",{className:"flex gap-2 flex-shrink-0 ml-4",children:[g.jsx(Le,{onClick:j,variant:"outline",size:"sm",className:"bg-orange-500 text-black border-orange-400 hover:bg-orange-600 font-medium",children:"Clear Chat"}),g.jsx(Le,{onClick:a,variant:"outline",size:"sm",className:"bg-red-500 text-black border-red-400 hover:bg-red-600 flex-shrink-0 font-bold",children:g.jsx("span",{className:"text-lg",children:""})})]})]}),g.jsxs("div",{ref:P,className:"flex-1 overflow-y-auto p-6 space-y-4 bg-gray-900/50",style:{scrollBehavior:"smooth",overflowAnchor:"auto"},children:[m.map(ie=>g.jsx("div",{className:`flex ${ie.role==="user"?"justify-end":"justify-start"}`,children:g.jsxs("div",{className:`max-w-[80%] p-4 rounded-lg shadow-lg ${ie.role==="user"?"bg-orange-600 text-white rounded-br-sm":"bg-gray-700 text-gray-100 rounded-bl-sm"}`,children:[g.jsx("div",{className:"whitespace-pre-wrap break-words leading-relaxed text-base",children:ie.content}),g.jsx("div",{className:"text-xs opacity-70 mt-3",children:ie.timestamp.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]})},ie.id)),A&&g.jsx("div",{className:"flex justify-start",children:g.jsx("div",{className:"bg-gray-700 text-gray-100 p-4 rounded-lg shadow-lg rounded-bl-sm",children:g.jsx(Si,{text:"AI is thinking..."})})}),g.jsx("div",{ref:R})]}),g.jsxs("div",{className:"p-4 border-t border-gray-700 bg-gray-800 flex-shrink-0",children:[g.jsxs("div",{className:"flex gap-3 mb-3",children:[g.jsx(vn,{ref:I,type:"text",placeholder:"Ask about production techniques, guides, or get help with your current project...",value:T,onChange:ie=>S(ie.target.value),onKeyPress:U,className:"flex-1 bg-gray-700 border-gray-600 text-white placeholder-gray-400",disabled:A}),g.jsx(Le,{onClick:H,disabled:!T.trim()||A,variant:"primary",className:"px-6 bg-orange-600 hover:bg-orange-700",children:A?"...":"Send"})]}),g.jsx("div",{className:"text-xs text-gray-400 text-center",children:"Press Enter to send  Clear Chat resets conversation  Click outside to close"})]})]})})})]})},Ex=[{frequency:"20-30 Hz",category:"sub",min:20,max:30,description:"Extreme sub-bass rumble. Rarely useful except for cinematic or sub-heavy genres.",action:"cut",instruments:["Kick drum","Sub bass","808s","Synth bass"]},{frequency:"30-50 Hz",category:"sub",min:30,max:50,description:"Deep low-end power. Adds weight, but too much = flabbiness.",action:"boost",instruments:["Kick drum","Sub bass","Bass guitar","808s"]},{frequency:"50-60 Hz",category:"sub",min:50,max:60,description:'Bass punch and fullness. Defines the "bottom" of mix.',action:"boost",instruments:["Kick drum","Bass guitar","Sub bass","Synths"]},{frequency:"60-100 Hz",category:"bass",min:60,max:100,description:"Bass body and tone. Core of bass instruments. Too much = boom.",action:"boost",instruments:["Bass guitar","Kick drum","Synth bass","Cello"]},{frequency:"100-160 Hz",category:"bass",min:100,max:160,description:"Low warmth. Helps glue bass + low mids. Overdone = muddiness.",action:"cut",instruments:["Bass guitar","Piano","Guitar","Vocals","Drums"]},{frequency:"160-250 Hz",category:"bass",min:160,max:250,description:"Upper bass/low mid overlap. Often cut to clean mud.",action:"cut",instruments:["Bass guitar","Vocals","Strings","Brass"]},{frequency:"250-350 Hz",category:"low-mid",min:250,max:350,description:"Boxiness / wool. Can cloud guitars & vocals.",action:"cut",instruments:["Vocals","Guitar","Piano","Snare"]},{frequency:"350-500 Hz",category:"low-mid",min:350,max:500,description:"Warmth vs. mud. Boost for body, cut for clarity.",action:"cut",instruments:["Vocals","Snare","Guitar","Keys"]},{frequency:"500-800 Hz",category:"mid",min:500,max:800,description:"Core midrange  thickness and presence. Often cluttered.",action:"cut",instruments:["Vocals","Guitar","Snare","Keys"]},{frequency:"800 Hz - 1.5 kHz",category:"mid",min:800,max:1500,description:"Body and clarity. Essential for definition.",action:"boost",instruments:["Vocals","Guitar","Piano","Snare"]},{frequency:"1.5-2 kHz",category:"mid",min:1500,max:2e3,description:"Presence and attack. Boost for definition.",action:"boost",instruments:["Vocals","Snare","Guitar"]},{frequency:"2-3 kHz",category:"high-mid",min:2e3,max:3e3,description:"Vocal clarity and edge. Boost carefully.",action:"boost",instruments:["Vocals","Snare","Guitar","Piano"]},{frequency:"3-5 kHz",category:"high-mid",min:3e3,max:5e3,description:"Presence, bite, intelligibility. Too much = harsh.",action:"cut",instruments:["Vocals","Snare","Cymbals"]},{frequency:"5-8 kHz",category:"presence",min:5e3,max:8e3,description:"Detail and sparkle. Brings life, but sibilant if overdone.",action:"boost",instruments:["Vocals","Hi-hats","Acoustic guitar","Cymbals"]},{frequency:"8-12 kHz",category:"air",min:8e3,max:12e3,description:"Air and openness. Adds space.",action:"boost",instruments:["Vocals","Strings","Cymbals","Room mics"]},{frequency:"12-20 kHz",category:"air",min:12e3,max:2e4,description:"Extreme highs. Use for shimmer.",action:"boost",instruments:["Cymbals","Room mics","Vocals"]},{frequency:"80-200 Hz",category:"bass",min:80,max:200,description:"Cut gently to reduce muddiness and low-end buildup.",action:"cut",instruments:["Male vocals"]},{frequency:"200-400 Hz",category:"low-mid",min:200,max:400,description:"Boost lightly for body, cut if vocals sound boxy.",action:"boost",instruments:["Male vocals"]},{frequency:"1-2 kHz",category:"mid",min:1e3,max:2e3,description:"Boost for presence and clarity, helping vocals cut through the mix.",action:"boost",instruments:["Male vocals"]},{frequency:"4-6 kHz",category:"high-mid",min:4e3,max:6e3,description:"Boost for air and articulation, but watch out for harshness.",action:"boost",instruments:["Male vocals"]},{frequency:"100-250 Hz",category:"bass",min:100,max:250,description:"Cut to reduce any muddiness. Female vocals rarely need low-end boosting.",action:"cut",instruments:["Female vocals"]},{frequency:"400-800 Hz",category:"mid",min:400,max:800,description:"Boost for warmth and body, but cut if vocals sound boxy.",action:"boost",instruments:["Female vocals"]},{frequency:"2-4 kHz",category:"high-mid",min:2e3,max:4e3,description:"Boost for presence, articulation, and forward vocals.",action:"boost",instruments:["Female vocals"]},{frequency:"7-10 kHz",category:"presence",min:7e3,max:1e4,description:"Boost for air and breathiness, cut if sibilant (ess sounds).",action:"boost",instruments:["Female vocals"]},{frequency:"7-10 kHz",category:"presence",min:7e3,max:1e4,description:"Cut to control sibilance if vocals are too essy.",action:"cut",instruments:["Female vocals"]},{frequency:"200-400 Hz",category:"low-mid",min:200,max:400,description:"Boost for warmth, fullness.",action:"boost",instruments:["Saxophone"]},{frequency:"1-2 kHz",category:"mid",min:1e3,max:2e3,description:"Boost for body and presence.",action:"boost",instruments:["Saxophone"]},{frequency:"3-5 kHz",category:"high-mid",min:3e3,max:5e3,description:"Cut to tame harshness or reed noise.",action:"cut",instruments:["Saxophone"]},{frequency:"8-12 kHz",category:"air",min:8e3,max:12e3,description:"Boost for air and shine.",action:"boost",instruments:["Saxophone"]}],Mx=[{id:"all",label:"All Frequencies",color:"bg-gray-600"},{id:"sub",label:"Sub Bass (20-60Hz)",color:"bg-red-600"},{id:"bass",label:"Bass (60-250Hz)",color:"bg-orange-600"},{id:"low-mid",label:"Low Mids (250-500Hz)",color:"bg-yellow-600"},{id:"mid",label:"Mids (500-2kHz)",color:"bg-green-600"},{id:"high-mid",label:"High Mids (2-6kHz)",color:"bg-blue-600"},{id:"presence",label:"Presence (6-12kHz)",color:"bg-indigo-600"},{id:"air",label:"Air (12kHz+)",color:"bg-purple-600"}];function RN({min:e,max:t}){const n=100*(Math.log10(e)-Math.log10(20))/(Math.log10(2e4)-Math.log10(20)),r=100*(Math.log10(t)-Math.log10(20))/(Math.log10(2e4)-Math.log10(20));return g.jsx("div",{className:"relative h-2 w-full bg-gray-900 rounded-full my-2",children:g.jsx("div",{className:"absolute h-2 rounded-full bg-orange-500 transition-all",style:{left:`${n}%`,width:`${Math.max(r-n,3)}%`}})})}const _N=()=>{const[e,t]=te.useState("All"),[n,r]=te.useState("all"),a=Ex.filter(u=>{const f=n==="all"||u.category===n,h=e==="All"||u.instruments.includes(e);return f&&(e==="All"?!0:h)}),l=u=>Ex.filter(f=>f.frequency===u.frequency&&f.category===u.category&&f.action===u.action).flatMap(f=>f.instruments).filter((f,h,d)=>d.indexOf(f)===h);return g.jsxs("div",{className:"max-w-4xl mx-auto w-full py-8 px-4 md:px-0",children:[g.jsxs("div",{className:"flex flex-wrap gap-6 mb-6 items-end",children:[g.jsxs("div",{className:"flex-1 min-w-[180px]",children:[g.jsx("label",{className:"block text-xs font-bold text-gray-400 mb-1",children:"Instrument"}),g.jsxs("select",{value:e,onChange:u=>t(u.target.value),className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-md text-gray-100",children:[g.jsx("option",{disabled:!0,children:"Vocals"}),g.jsx("option",{value:"Vocals",children:"Vocals (general)"}),g.jsx("option",{value:"Male vocals",children:"Male vocals"}),g.jsx("option",{value:"Female vocals",children:"Female vocals"}),g.jsx("option",{disabled:!0,children:"Rhythm Section"}),g.jsx("option",{value:"Kick drum",children:"Kick drum"}),g.jsx("option",{value:"Snare",children:"Snare"}),g.jsx("option",{value:"Bass guitar",children:"Bass guitar"}),g.jsx("option",{value:"808s",children:"808s"}),g.jsx("option",{value:"Sub bass",children:"Sub bass"}),g.jsx("option",{value:"Synth bass",children:"Synth bass"}),g.jsx("option",{value:"Drums",children:"Drums"}),g.jsx("option",{disabled:!0,children:"Other Instruments"}),g.jsx("option",{value:"Guitar",children:"Guitar"}),g.jsx("option",{value:"Acoustic guitar",children:"Acoustic guitar"}),g.jsx("option",{value:"Piano",children:"Piano"}),g.jsx("option",{value:"Cymbals",children:"Cymbals"}),g.jsx("option",{value:"Hi-hats",children:"Hi-hats"}),g.jsx("option",{value:"Horns",children:"Horns"}),g.jsx("option",{value:"Strings",children:"Strings"}),g.jsx("option",{value:"Room mics",children:"Room mics"}),g.jsx("option",{value:"Violin",children:"Violin"}),g.jsx("option",{value:"Cello",children:"Cello"}),g.jsx("option",{value:"Tuba",children:"Tuba"}),g.jsx("option",{value:"Saxophone",children:"Saxophone"}),g.jsx("option",{value:"Trumpet",children:"Trumpet"}),g.jsx("option",{value:"Brass",children:"Brass"}),g.jsx("option",{value:"Woodwinds",children:"Woodwinds"}),g.jsx("option",{value:"Flute",children:"Flute"}),g.jsx("option",{disabled:!0,children:"All/General"}),g.jsx("option",{value:"All",children:"All Instruments"})]})]}),g.jsxs("div",{className:"flex-1 min-w-[180px]",children:[g.jsx("label",{className:"block text-xs font-bold text-gray-400 mb-1",children:"Frequency Range"}),g.jsx("select",{value:n,onChange:u=>r(u.target.value),className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-md text-gray-100",children:Mx.map(u=>g.jsx("option",{value:u.id,children:u.label},u.id))})]})]}),g.jsx("div",{className:"space-y-4",children:a.length===0?g.jsx(Ze,{className:"bg-gray-700/80 text-center py-16",children:g.jsxs("p",{className:"text-gray-300 text-lg",children:["No EQ data matches your current filters.",g.jsx("br",{}),"Try another instrument or frequency zone."]})}):a.map((u,f)=>{var h;return g.jsx(Ze,{className:"bg-gray-800/80",children:g.jsxs("div",{className:"flex flex-col gap-2",children:[g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx("span",{className:"text-lg font-bold text-white",children:u.frequency}),g.jsx("span",{className:`text-xs font-bold rounded-full px-2 py-1 ${((h=Mx.find(d=>d.id===u.category))==null?void 0:h.color)||"bg-gray-600"} text-white`,children:u.category.replace("-"," ").toUpperCase()}),g.jsx("span",{className:`ml-2 text-sm font-medium ${u.action==="boost"?"text-green-400":u.action==="cut"?"text-red-400":"text-yellow-400"}`,children:u.action==="boost"?" BOOST":u.action==="cut"?" CUT":"NOTCH"})]}),g.jsx(RN,{min:u.min,max:u.max}),g.jsx("p",{className:"text-gray-300",children:u.description}),g.jsxs("div",{className:"flex flex-wrap gap-1 items-center",children:[g.jsx("span",{className:"text-xs font-bold text-gray-400 mr-1",children:"Applies to:"}),l(u).map(d=>g.jsx("span",{className:"bg-gray-700 text-orange-200 rounded px-2 py-1 text-xs font-medium",children:d},d))]})]})},f)})}),g.jsx("div",{className:"text-xs text-gray-500 mt-8 text-center px-2",children:"Tip: These are general guidelinestrust your ears and reference pro mixes for your genre."})]})},Ja=({className:e="w-6 h-6"})=>g.jsx("div",{className:`${e} bg-orange-500 transform rotate-45 flex items-center justify-center`,children:g.jsx("div",{className:"w-1/2 h-1/2 bg-white transform -rotate-45"})}),VN=({onGetStarted:e})=>{const[t,n]=te.useState(!1),r=[{label:"How It Works",href:"#how-it-works"},{label:"Problems We Solve",href:"#problems-we-solve"},{label:"Investment Levels",href:"#investment-levels"}];return g.jsxs("div",{className:"min-h-screen bg-[#2B2B2B] relative overflow-hidden scroll-smooth",children:[g.jsx("div",{className:"absolute inset-0 opacity-40",children:g.jsx("div",{className:"absolute inset-0",style:{backgroundImage:"radial-gradient(circle at 2px 2px, #FF5722 1px, transparent 0)",backgroundSize:"30px 30px"}})}),g.jsx("nav",{className:"sticky top-0 z-20 bg-[#2B2B2B]/80 backdrop-blur-sm px-6 py-4",children:g.jsxs("div",{className:"flex items-center justify-between",children:[g.jsxs("div",{className:"flex items-center space-x-3",children:[g.jsx(Ja,{className:"w-8 h-8"}),g.jsxs("div",{children:[g.jsx("div",{className:"text-xl font-bold text-white",children:"TrackGuide AI"}),g.jsx("div",{className:"text-xs text-gray-400",children:"Your Smartest Studio Assistant"})]})]}),g.jsx("div",{className:"hidden md:flex items-center space-x-10 absolute left-1/2 transform -translate-x-1/2",children:r.map(({label:a,href:l})=>g.jsx("a",{href:l,className:"text-white hover:text-orange-400 font-semibold text-lg transition-colors pb-1 border-b-2 border-transparent hover:border-orange-400",children:a},a))}),g.jsx("div",{className:"hidden md:block",children:g.jsxs("button",{onClick:e,className:"bg-black hover:bg-gray-900 text-white px-8 py-3 rounded-xl font-bold text-lg transition-all transform hover:scale-105 flex items-center justify-center space-x-3 shadow-2xl border-2 border-orange-400 hover:border-orange-300",children:[g.jsxs("div",{className:"relative",children:[g.jsx("div",{className:"absolute inset-0 rounded-full bg-orange-500/30 blur-sm"}),g.jsx(Ja,{className:"h-6 w-6 relative z-10"})]}),g.jsx("span",{children:"Launch App"})]})}),g.jsx("button",{onClick:()=>n(a=>!a),className:"md:hidden text-gray-300 hover:text-white focus:outline-none",children:t?g.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})}):g.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})})})]})}),t&&g.jsxs("div",{className:"md:hidden bg-[#2B2B2B]/90 backdrop-blur-sm px-6 py-4 space-y-4",children:[r.map(({label:a,href:l})=>g.jsx("a",{href:l,onClick:()=>n(!1),className:"block py-2 text-white font-medium hover:text-orange-400",children:a},a)),g.jsxs("button",{onClick:()=>{n(!1),e()},className:"w-full bg-black hover:bg-gray-900 text-white px-8 py-4 rounded-xl font-bold text-lg transition-all transform hover:scale-105 flex items-center justify-center space-x-3 shadow-2xl border-2 border-orange-400 hover:border-orange-300 mt-4",children:[g.jsxs("div",{className:"relative",children:[g.jsx("div",{className:"absolute inset-0 rounded-full bg-orange-500/30 blur-sm"}),g.jsx(Ja,{className:"h-6 w-6 relative z-10"})]}),g.jsx("span",{children:"Launch App"})]})]}),g.jsx("section",{className:"px-6 py-20",children:g.jsxs("div",{className:"max-w-7xl mx-auto text-center",children:[g.jsxs("h1",{className:"text-5xl md:text-7xl font-bold text-white leading-tight mb-8",children:[g.jsx("span",{className:"text-orange-500",children:"AI Studio Assistant:"}),g.jsx("br",{}),"A Complement to Creativity,",g.jsx("br",{}),"Not a Substitute."]}),g.jsxs("p",{className:"text-xl md:text-2xl text-gray-300 max-w-4xl mx-auto mb-12",children:["Empowering modern producers with",g.jsx("span",{className:"text-orange-500 font-semibold",children:" structure"}),",",g.jsx("span",{className:"text-orange-500 font-semibold",children:" speed"}),", and",g.jsx("span",{className:"text-orange-500 font-semibold",children:" support"}),"."]}),g.jsx("div",{className:"md:hidden",children:!t&&g.jsxs("button",{onClick:e,className:"bg-black hover:bg-gray-900 text-white px-12 py-5 rounded-xl font-bold text-xl transition-all transform hover:scale-105 flex items-center justify-center space-x-4 shadow-2xl border-2 border-orange-400 hover:border-orange-300 mx-auto",children:[g.jsxs("div",{className:"relative",children:[g.jsx("div",{className:"absolute inset-0 rounded-full bg-orange-500/30 blur-sm"}),g.jsx(Ja,{className:"h-7 w-7 relative z-10"})]}),g.jsx("span",{children:"Launch App"})]})})]})}),g.jsx("section",{id:"how-it-works",className:"relative px-6 py-20",children:g.jsxs("div",{className:"max-w-7xl mx-auto",children:[g.jsxs("div",{className:"text-center mb-16",children:[g.jsx("h2",{className:"text-4xl md:text-5xl font-bold text-white mb-6",children:"How TrackGuide Works"}),g.jsx("p",{className:"text-xl text-gray-300 max-w-3xl mx-auto",children:"From concept to creation in three simple steps"})]}),g.jsxs("div",{className:"grid md:grid-cols-3 gap-8",children:[g.jsxs("div",{className:"text-center space-y-6",children:[g.jsx("div",{className:"w-20 h-20 bg-orange-500 rounded-full flex items-center justify-center mx-auto",children:g.jsx("span",{className:"text-2xl font-bold text-white",children:"1"})}),g.jsx("h3",{className:"text-2xl font-bold text-white",children:"Describe Your Vision"}),g.jsx("p",{className:"text-gray-300",children:"Define your genre, vibe, creative goals  and your available plugins & DAW. Our AI understands your intent."})]}),g.jsxs("div",{className:"text-center space-y-6",children:[g.jsx("div",{className:"w-20 h-20 bg-orange-500 rounded-full flex items-center justify-center mx-auto",children:g.jsx("span",{className:"text-2xl font-bold text-white",children:"2"})}),g.jsx("h3",{className:"text-2xl font-bold text-white",children:"Get Your Guide & Tools"}),g.jsx("p",{className:"text-gray-300",children:"Generate a TrackGuide Blueprint, MIDI patterns, and AI recommendations  including plugin parameter suggestions."})]}),g.jsxs("div",{className:"text-center space-y-6",children:[g.jsx("div",{className:"w-20 h-20 bg-orange-500 rounded-full flex items-center justify-center mx-auto",children:g.jsx("span",{className:"text-2xl font-bold text-white",children:"3"})}),g.jsx("h3",{className:"text-2xl font-bold text-white",children:"Iterate & Refine"}),g.jsx("p",{className:"text-gray-300",children:"Upload mixes for feedback, compare revisions, and update your production with AI-assisted insights."})]})]})]})}),g.jsx("section",{className:"relative px-6 py-20 bg-black/10",children:g.jsxs("div",{className:"max-w-7xl mx-auto",children:[g.jsxs("div",{className:"text-center mb-16",children:[g.jsx("h2",{className:"text-4xl md:text-5xl font-bold text-white mb-6",children:"Complete Production Toolkit"}),g.jsx("p",{className:"text-xl text-gray-300 max-w-3xl mx-auto",children:"Everything you need  from first idea to final mix"})]}),g.jsxs("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-8",children:[g.jsxs("div",{className:"bg-gray-800/50 rounded-xl p-6 border border-orange-500/20 hover:border-orange-500/40 transition-all",children:[g.jsx("div",{className:"w-12 h-12 rounded-lg flex items-center justify-center mb-4",children:g.jsx(Ja,{className:"w-12 h-12"})}),g.jsx("h3",{className:"text-xl font-bold text-white mb-3",children:"TrackGuide AI"}),g.jsx("p",{className:"text-gray-300",children:"Generate detailed TrackGuide blueprints  structure, instrumentation, plugin parameters, and mix guidance tailored to your tools."})]}),g.jsxs("div",{className:"bg-gray-800/50 rounded-xl p-6 border border-orange-500/20 hover:border-orange-500/40 transition-all",children:[g.jsx("div",{className:"w-12 h-12 bg-orange-500 rounded-lg flex items-center justify-center mb-4",children:g.jsx("span",{className:"text-white font-bold",children:""})}),g.jsx("h3",{className:"text-xl font-bold text-white mb-3",children:"Integrated MIDI Generator"}),g.jsx("p",{className:"text-gray-300",children:"Auto-generate melodic, harmonic, bass, and drum MIDI patterns  matched to your genre and style  exportable to your DAW."})]}),g.jsxs("div",{className:"bg-gray-800/50 rounded-xl p-6 border border-orange-500/20 hover:border-orange-500/40 transition-all",children:[g.jsx("div",{className:"w-12 h-12 bg-orange-500 rounded-lg flex items-center justify-center mb-4",children:g.jsx("span",{className:"text-white font-bold",children:""})}),g.jsx("h3",{className:"text-xl font-bold text-white mb-3",children:"RemixGuide AI"}),g.jsx("p",{className:"text-gray-300",children:"Upload any track and generate an intelligent remix plan  new structure, sound design tips, and remix-ready MIDI."})]}),g.jsxs("div",{className:"bg-gray-800/50 rounded-xl p-6 border border-orange-500/20 hover:border-orange-500/40 transition-all",children:[g.jsx("div",{className:"w-12 h-12 bg-orange-500 rounded-lg flex items-center justify-center mb-4",children:g.jsx("span",{className:"text-white font-bold text-2xl",children:""})}),g.jsx("h3",{className:"text-xl font-bold text-white mb-3",children:"PatchGuide AI"}),g.jsx("p",{className:"text-gray-300",children:"Generate detailed synth patch blueprints  choose your synth, describe your sound, and get step-by-step parameter and modulation tips."})]}),g.jsxs("div",{className:"bg-gray-800/50 rounded-xl p-6 border border-orange-500/20 hover:border-orange-500/40 transition-all",children:[g.jsx("div",{className:"w-12 h-12 bg-orange-500 rounded-lg flex items-center justify-center mb-4",children:g.jsx("span",{className:"text-white font-bold text-2xl",children:""})}),g.jsx("h3",{className:"text-xl font-bold text-white mb-3",children:"Mix Feedback"}),g.jsx("p",{className:"text-gray-300",children:"Get instant mix advice  AI analyzes one or two versions of your mix to highlight strengths, fix weaknesses, compare refinements, and guide your next steps."})]}),g.jsxs("div",{className:"bg-gray-800/50 rounded-xl p-6 border border-orange-500/20 hover:border-orange-500/40 transition-all",children:[g.jsx("div",{className:"w-12 h-12 bg-orange-500 rounded-lg flex items-center justify-center mb-4",children:g.jsx("span",{className:"text-white font-bold",children:""})}),g.jsx("h3",{className:"text-xl font-bold text-white mb-3",children:"EQ Guide"}),g.jsx("p",{className:"text-gray-300",children:"Quick-reference EQ guide: instrument-by-instrument  learn how to shape sound and resolve common mix problems."})]})]})]})}),g.jsx("section",{className:"relative px-6 py-20 bg-black/20",children:g.jsxs("div",{className:"max-w-7xl mx-auto text-center",children:[g.jsx("h2",{className:"text-4xl md:text-5xl font-bold text-white mb-6",children:"Ready to Transform Your Music Production?"}),g.jsx("p",{className:"text-xl text-gray-300 mb-12 max-w-2xl mx-auto",children:"TrackGuide helps producers of all skill levels  from bedroom creators to pros  finish more tracks, faster."}),g.jsxs("div",{className:"bg-gray-800/50 rounded-2xl p-8 max-w-md mx-auto border border-orange-500/20",children:[g.jsx("h3",{className:"text-2xl font-bold text-white mb-4",children:"Free to Start"}),g.jsx("p",{className:"text-gray-300 mb-6",children:"Get started with TrackGuide AI for free. Upgrade when you're ready to unlock unlimited generations and advanced tools."}),g.jsx("button",{onClick:e,className:"w-full bg-orange-500 hover:bg-orange-600 text-white px-8 py-4 rounded-lg font-bold text-lg transition-all transform hover:scale-105 shadow-xl",children:"Start Creating Free"}),g.jsx("p",{className:"text-gray-500 text-sm mt-4",children:"No credit card required"})]})]})}),g.jsx("section",{className:"px-6 py-16 bg-black/20",children:g.jsxs("div",{className:"max-w-7xl mx-auto text-center",children:[g.jsx("div",{className:"w-32 h-1 bg-orange-500 mx-auto mb-8"}),g.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-white mb-4",children:"The Investment Opportunity"}),g.jsx("p",{className:"text-xl text-gray-300",children:"Helping producers finish better music, faster  in a $43B market."})]})}),g.jsx("section",{id:"problems-we-solve",className:"relative px-6 py-20 bg-black/20",children:g.jsx("div",{className:"max-w-7xl mx-auto",children:g.jsxs("div",{className:"grid lg:grid-cols-2 gap-12 items-center",children:[g.jsxs("div",{className:"space-y-8",children:[g.jsx("h2",{className:"text-4xl md:text-5xl font-bold text-white leading-tight",children:"Too Many Tools, Not Enough Direction"}),g.jsx("p",{className:"text-xl text-gray-300 leading-relaxed",children:"As AI floods the market and tools fragment, producers lack clarity. TrackGuide focuses on keeping the human in the loop."}),g.jsxs("div",{className:"grid gap-6",children:[g.jsx("div",{className:"border-l-4 border-orange-500 pl-6",children:g.jsxs("p",{className:"text-gray-300",children:[g.jsx("strong",{children:"Without clear structure,"})," inspiration stalls  many creators fail to finish tracks."]})}),g.jsx("div",{className:"border-l-4 border-orange-500 pl-6",children:g.jsxs("p",{className:"text-gray-300",children:[g.jsx("strong",{children:"Clickbait content lacks depth "})," TrackGuide teaches transferable skills while speeding workflows."]})}),g.jsx("div",{className:"border-l-4 border-orange-500 pl-6",children:g.jsxs("p",{className:"text-gray-300",children:[g.jsx("strong",{children:"AI hype distracts "})," we focus on complementing creativity, not replacing it."]})})]})]}),g.jsxs("div",{className:"relative h-96",children:[g.jsxs("div",{className:"absolute top-0 right-0 w-48 h-48",children:[g.jsx("div",{className:"w-full h-full border-2 border-orange-500 transform rotate-45"}),g.jsx("div",{className:"absolute top-4 right-4 w-40 h-40 bg-orange-500 transform rotate-45"})]}),g.jsxs("div",{className:"absolute bottom-0 left-0 w-32 h-32",children:[g.jsx("div",{className:"w-full h-full border-2 border-orange-500"}),g.jsx("div",{className:"absolute top-2 left-2 w-28 h-28 bg-orange-500"})]})]})]})})}),g.jsx("section",{id:"ai-challenge",className:"px-6 py-20 bg-black",children:g.jsxs("div",{className:"max-w-7xl mx-auto grid lg:grid-cols-2 gap-12 items-center",children:[g.jsx("div",{className:"relative h-80 hidden lg:block",children:g.jsxs("div",{className:"absolute top-0 left-0 w-40 h-40",children:[g.jsx("div",{className:"w-full h-full border-2 border-orange-500 transform rotate-45"}),g.jsx("div",{className:"absolute top-4 left-4 w-32 h-32 bg-orange-500 transform rotate-45"})]})}),g.jsxs("div",{className:"space-y-8",children:[g.jsxs("h2",{className:"text-5xl font-bold text-white leading-tight",children:["Navigating the ",g.jsx("span",{className:"text-orange-500 block",children:"AI Challenge"})]}),g.jsx("p",{className:"text-xl text-gray-300 leading-relaxed",children:"A human-first approach  empowering the artist, respecting the craft."}),g.jsxs("div",{className:"grid gap-6",children:[g.jsxs("div",{className:"border-l-4 border-orange-500 pl-6",children:[g.jsx("h3",{className:"text-lg font-bold text-white mb-2",children:"Avoiding One-Click fatigue"}),g.jsx("p",{className:"text-gray-400",children:"Our AI augments the creative process, not bypasses it  musicians stay in control."})]}),g.jsxs("div",{className:"border-l-4 border-orange-500 pl-6",children:[g.jsx("h3",{className:"text-lg font-bold text-white mb-2",children:"Forward-facing, not retro"}),g.jsx("p",{className:"text-gray-400",children:"Avoids regurgitating old hit formulas  helps creators define new sounds."})]}),g.jsxs("div",{className:"border-l-4 border-orange-500 pl-6",children:[g.jsx("h3",{className:"text-lg font-bold text-white mb-2",children:"Clear IP & ethical AI"}),g.jsx("p",{className:"text-gray-400",children:"Built with transparent usage  your creativity stays yours."})]})]})]})]})}),g.jsx("section",{className:"relative px-6 py-20 bg-black/20",children:g.jsxs("div",{className:"max-w-5xl mx-auto",children:[g.jsxs("h2",{className:"text-4xl md:text-5xl font-bold text-white mb-6",children:["Scalable ",g.jsx("span",{className:"text-orange-500",children:"Business Model"})]}),g.jsx("p",{className:"text-xl text-gray-300 mb-12 max-w-2xl mx-auto",children:"Modular SaaS for creators, pros, educators, and studios."}),g.jsxs("div",{className:"grid md:grid-cols-3 gap-8",children:[g.jsxs("div",{className:"bg-gray-800/30 rounded-lg p-8 border border-orange-500/10 space-y-2",children:[g.jsx("h3",{className:"text-2xl font-bold text-white",children:"SaaS Subscriptions"}),g.jsx("p",{className:"text-gray-300",children:"Premium AI tools, pro workflows, unlimited usage  high-margin recurring revenue."}),g.jsx("div",{className:"text-orange-500 font-semibold text-lg",children:"85% Gross Margin"})]}),g.jsxs("div",{className:"bg-gray-800/30 rounded-lg p-8 border border-orange-500/10 space-y-2",children:[g.jsx("h3",{className:"text-2xl font-bold text-white",children:"Community Marketplace"}),g.jsx("p",{className:"text-gray-300",children:"Revenue from user-generated templates, MIDI packs, remix packs, stems, and presets."}),g.jsx("div",{className:"text-orange-500 font-semibold text-lg",children:"30% Commission"})]}),g.jsxs("div",{className:"bg-gray-800/30 rounded-lg p-8 border border-orange-500/10 space-y-2",children:[g.jsx("h3",{className:"text-2xl font-bold text-white",children:"Enterprise / Education Licensing"}),g.jsx("p",{className:"text-gray-300",children:"Annual contracts for labels, studios, and music education institutions."}),g.jsx("div",{className:"text-orange-500 font-semibold text-lg",children:"$50K+ ARR"})]})]})]})}),g.jsx("section",{id:"investment-levels",className:"px-6 py-20 bg-black",children:g.jsxs("div",{className:"max-w-5xl mx-auto",children:[g.jsxs("div",{className:"text-center mb-12",children:[g.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-white mb-6",children:"Investment Levels"}),g.jsx("p",{className:"text-lg text-gray-300 max-w-2xl mx-auto",children:"Were raising capital to scale TrackGuide AI  deepen core features, grow early users, and prepare for market launch."}),g.jsx("p",{className:"text-md text-gray-400 mt-4 max-w-xl mx-auto",children:"All investments are via SAFE notes with valuation cap. Larger tiers include additional benefits and advisory access."})]}),g.jsxs("div",{className:"grid md:grid-cols-4 gap-6",children:[g.jsxs("div",{className:"bg-black/80 rounded-lg p-6 border border-orange-500/30 shadow-md flex flex-col justify-between",children:[g.jsxs("div",{children:[g.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"Seed Loop"}),g.jsx("p",{className:"text-gray-300 text-sm mb-2",children:"$10K$25K"}),g.jsx("p",{className:"text-gray-400 text-sm mb-4",children:"AI refinement, UX polish, early traction testing."})]}),g.jsx("p",{className:"text-orange-400 text-sm mt-4",children:"Return: SAFE @ $5M cap + quarterly updates"})]}),g.jsxs("div",{className:"bg-black/80 rounded-lg p-6 border border-orange-500/30 shadow-md flex flex-col justify-between",children:[g.jsxs("div",{children:[g.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"Creator Tier"}),g.jsx("p",{className:"text-gray-300 text-sm mb-2",children:"$25K$50K"}),g.jsx("p",{className:"text-gray-400 text-sm mb-4",children:"Monetization rollout, user acquisition, affiliate & referral systems."})]}),g.jsx("p",{className:"text-orange-400 text-sm mt-4",children:"Return: SAFE + 1% revenue share pilot + early feature access"})]}),g.jsxs("div",{className:"bg-black/80 rounded-lg p-6 border border-orange-500/30 shadow-md flex flex-col justify-between",children:[g.jsxs("div",{children:[g.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"Full Stack"}),g.jsx("p",{className:"text-gray-300 text-sm mb-2",children:"$50K$75K"}),g.jsx("p",{className:"text-gray-400 text-sm mb-4",children:"Strategic hires (PMM / full-stack dev), expanded GTM partnerships."})]}),g.jsx("p",{className:"text-orange-400 text-sm mt-4",children:"Return: SAFE + advisory board seat + product roadmap input"})]}),g.jsxs("div",{className:"bg-black/80 rounded-lg p-6 border border-orange-500/30 shadow-md flex flex-col justify-between",children:[g.jsxs("div",{children:[g.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"Vision Tier"}),g.jsx("p",{className:"text-gray-300 text-sm mb-2",children:"$150K+"}),g.jsx("p",{className:"text-gray-400 text-sm mb-4",children:"Full-scale AI model tuning, GTM campaign, international expansion."})]}),g.jsx("p",{className:"text-orange-400 text-sm mt-4",children:"Return: Discounted SAFE cap + 2% revenue share + strategic board seat"})]})]}),g.jsx("div",{className:"text-center mt-12",children:g.jsx("a",{href:"mailto:dustinspaceproductions@gmail.com?subject=Investment Inquiry - TrackGuide AI",className:"bg-orange-500 hover:bg-orange-600 text-white px-8 py-4 rounded-lg font-bold text-lg transition-all transform hover:scale-105 inline-flex items-center space-x-2 shadow-xl",children:g.jsx("span",{children:"Contact for Full Investor Deck"})})})]})}),g.jsx("section",{className:"px-6 py-20 bg-black/30",children:g.jsxs("div",{className:"max-w-4xl mx-auto text-center",children:[g.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-white mb-6",children:"Interested in Investing?"}),g.jsx("p",{className:"text-xl text-gray-300 mb-8 max-w-2xl mx-auto",children:"Revolutionizing music production with human-first AI. Join us."}),g.jsx("a",{href:"mailto:dustinspaceproductions@gmail.com?subject=Investment Inquiry - TrackGuide AI",className:"bg-orange-500 hover:bg-orange-600 text-white px-8 py-3 rounded-lg font-bold text-lg transition-all transform hover:scale-105 inline-flex items-center space-x-2 shadow-xl",children:g.jsx("span",{children:"Contact for Investment Opportunities"})})]})}),g.jsx("footer",{className:"px-6 py-12 border-t border-orange-500/20 bg-black/20",children:g.jsx("div",{className:"max-w-7xl mx-auto",children:g.jsxs("div",{className:"flex flex-col md:flex-row items-center justify-between",children:[g.jsxs("div",{className:"flex items-center space-x-3 mb-4 md:mb-0",children:[g.jsx("div",{className:"w-6 h-6 bg-orange-500 transform rotate-45 flex items-center justify-center",children:g.jsx("div",{className:"w-3 h-3 bg-white transform -rotate-45"})}),g.jsxs("div",{children:[g.jsx("div",{className:"text-lg font-bold text-white",children:"TrackGuide AI"}),g.jsx("div",{className:"text-xs text-gray-400",children:"AI Studio Assistant for Music Creators"})]})]}),g.jsxs("div",{className:"text-gray-400 text-center md:text-right text-sm space-y-1",children:[g.jsx("p",{children:" 2025 TrackGuide. Empowering music creators worldwide."}),g.jsxs("p",{children:[g.jsx("a",{href:"#",className:"hover:text-orange-400 mr-4",children:"Privacy Policy"}),g.jsx("a",{href:"#",className:"hover:text-orange-400",children:"Terms of Service"})]})]})]})})})]})};function PN(e,t){const n={};return(e[e.length-1]===""?[...e,""]:e).join((n.padRight?" ":"")+","+(n.padLeft===!1?"":" ")).trim()}const LN=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,BN=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,jN={};function kx(e,t){return(jN.jsx?BN:LN).test(e)}const ON=/[ \t\n\f\r]/g;function zN(e){return typeof e=="object"?e.type==="text"?Ix(e.value):!1:Ix(e)}function Ix(e){return e.replace(ON,"")===""}class Ns{constructor(t,n,r){this.normal=n,this.property=t,r&&(this.space=r)}}Ns.prototype.normal={};Ns.prototype.property={};Ns.prototype.space=void 0;function l1(e,t){const n={},r={};for(const a of e)Object.assign(n,a.property),Object.assign(r,a.normal);return new Ns(n,r,t)}function Xd(e){return e.toLowerCase()}class ln{constructor(t,n){this.attribute=n,this.property=t}}ln.prototype.attribute="";ln.prototype.booleanish=!1;ln.prototype.boolean=!1;ln.prototype.commaOrSpaceSeparated=!1;ln.prototype.commaSeparated=!1;ln.prototype.defined=!1;ln.prototype.mustUseProperty=!1;ln.prototype.number=!1;ln.prototype.overloadedBoolean=!1;ln.prototype.property="";ln.prototype.spaceSeparated=!1;ln.prototype.space=void 0;let FN=0;const _e=Ur(),wt=Ur(),Qd=Ur(),de=Ur(),ot=Ur(),Fo=Ur(),xn=Ur();function Ur(){return 2**++FN}const Jd=Object.freeze(Object.defineProperty({__proto__:null,boolean:_e,booleanish:wt,commaOrSpaceSeparated:xn,commaSeparated:Fo,number:de,overloadedBoolean:Qd,spaceSeparated:ot},Symbol.toStringTag,{value:"Module"})),ad=Object.keys(Jd);class Nh extends ln{constructor(t,n,r,a){let l=-1;if(super(t,n),Nx(this,"space",a),typeof r=="number")for(;++l<ad.length;){const u=ad[l];Nx(this,ad[l],(r&Jd[u])===Jd[u])}}}Nh.prototype.defined=!0;function Nx(e,t,n){n&&(e[t]=n)}function $o(e){const t={},n={};for(const[r,a]of Object.entries(e.properties)){const l=new Nh(r,e.transform(e.attributes||{},r),a,e.space);e.mustUseProperty&&e.mustUseProperty.includes(r)&&(l.mustUseProperty=!0),t[r]=l,n[Xd(r)]=r,n[Xd(l.attribute)]=r}return new Ns(t,n,e.space)}const u1=$o({properties:{ariaActiveDescendant:null,ariaAtomic:wt,ariaAutoComplete:null,ariaBusy:wt,ariaChecked:wt,ariaColCount:de,ariaColIndex:de,ariaColSpan:de,ariaControls:ot,ariaCurrent:null,ariaDescribedBy:ot,ariaDetails:null,ariaDisabled:wt,ariaDropEffect:ot,ariaErrorMessage:null,ariaExpanded:wt,ariaFlowTo:ot,ariaGrabbed:wt,ariaHasPopup:null,ariaHidden:wt,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:ot,ariaLevel:de,ariaLive:null,ariaModal:wt,ariaMultiLine:wt,ariaMultiSelectable:wt,ariaOrientation:null,ariaOwns:ot,ariaPlaceholder:null,ariaPosInSet:de,ariaPressed:wt,ariaReadOnly:wt,ariaRelevant:null,ariaRequired:wt,ariaRoleDescription:ot,ariaRowCount:de,ariaRowIndex:de,ariaRowSpan:de,ariaSelected:wt,ariaSetSize:de,ariaSort:null,ariaValueMax:de,ariaValueMin:de,ariaValueNow:de,ariaValueText:null,role:null},transform(e,t){return t==="role"?t:"aria-"+t.slice(4).toLowerCase()}});function c1(e,t){return t in e?e[t]:t}function f1(e,t){return c1(e,t.toLowerCase())}const UN=$o({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:Fo,acceptCharset:ot,accessKey:ot,action:null,allow:null,allowFullScreen:_e,allowPaymentRequest:_e,allowUserMedia:_e,alt:null,as:null,async:_e,autoCapitalize:null,autoComplete:ot,autoFocus:_e,autoPlay:_e,blocking:ot,capture:null,charSet:null,checked:_e,cite:null,className:ot,cols:de,colSpan:null,content:null,contentEditable:wt,controls:_e,controlsList:ot,coords:de|Fo,crossOrigin:null,data:null,dateTime:null,decoding:null,default:_e,defer:_e,dir:null,dirName:null,disabled:_e,download:Qd,draggable:wt,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:_e,formTarget:null,headers:ot,height:de,hidden:Qd,high:de,href:null,hrefLang:null,htmlFor:ot,httpEquiv:ot,id:null,imageSizes:null,imageSrcSet:null,inert:_e,inputMode:null,integrity:null,is:null,isMap:_e,itemId:null,itemProp:ot,itemRef:ot,itemScope:_e,itemType:ot,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:_e,low:de,manifest:null,max:null,maxLength:de,media:null,method:null,min:null,minLength:de,multiple:_e,muted:_e,name:null,nonce:null,noModule:_e,noValidate:_e,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:_e,optimum:de,pattern:null,ping:ot,placeholder:null,playsInline:_e,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:_e,referrerPolicy:null,rel:ot,required:_e,reversed:_e,rows:de,rowSpan:de,sandbox:ot,scope:null,scoped:_e,seamless:_e,selected:_e,shadowRootClonable:_e,shadowRootDelegatesFocus:_e,shadowRootMode:null,shape:null,size:de,sizes:null,slot:null,span:de,spellCheck:wt,src:null,srcDoc:null,srcLang:null,srcSet:null,start:de,step:null,style:null,tabIndex:de,target:null,title:null,translate:null,type:null,typeMustMatch:_e,useMap:null,value:wt,width:de,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:ot,axis:null,background:null,bgColor:null,border:de,borderColor:null,bottomMargin:de,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:_e,declare:_e,event:null,face:null,frame:null,frameBorder:null,hSpace:de,leftMargin:de,link:null,longDesc:null,lowSrc:null,marginHeight:de,marginWidth:de,noResize:_e,noHref:_e,noShade:_e,noWrap:_e,object:null,profile:null,prompt:null,rev:null,rightMargin:de,rules:null,scheme:null,scrolling:wt,standby:null,summary:null,text:null,topMargin:de,valueType:null,version:null,vAlign:null,vLink:null,vSpace:de,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:_e,disableRemotePlayback:_e,prefix:null,property:null,results:de,security:null,unselectable:null},space:"html",transform:f1}),HN=$o({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:xn,accentHeight:de,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:de,amplitude:de,arabicForm:null,ascent:de,attributeName:null,attributeType:null,azimuth:de,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:de,by:null,calcMode:null,capHeight:de,className:ot,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:de,diffuseConstant:de,direction:null,display:null,dur:null,divisor:de,dominantBaseline:null,download:_e,dx:null,dy:null,edgeMode:null,editable:null,elevation:de,enableBackground:null,end:null,event:null,exponent:de,externalResourcesRequired:null,fill:null,fillOpacity:de,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:Fo,g2:Fo,glyphName:Fo,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:de,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:de,horizOriginX:de,horizOriginY:de,id:null,ideographic:de,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:de,k:de,k1:de,k2:de,k3:de,k4:de,kernelMatrix:xn,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:de,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:de,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:de,overlineThickness:de,paintOrder:null,panose1:null,path:null,pathLength:de,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:ot,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:de,pointsAtY:de,pointsAtZ:de,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:xn,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:xn,rev:xn,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:xn,requiredFeatures:xn,requiredFonts:xn,requiredFormats:xn,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:de,specularExponent:de,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:de,strikethroughThickness:de,string:null,stroke:null,strokeDashArray:xn,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:de,strokeOpacity:de,strokeWidth:null,style:null,surfaceScale:de,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:xn,tabIndex:de,tableValues:null,target:null,targetX:de,targetY:de,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:xn,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:de,underlineThickness:de,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:de,values:null,vAlphabetic:de,vMathematical:de,vectorEffect:null,vHanging:de,vIdeographic:de,version:null,vertAdvY:de,vertOriginX:de,vertOriginY:de,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:de,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:c1}),d1=$o({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform(e,t){return"xlink:"+t.slice(5).toLowerCase()}}),h1=$o({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:f1}),m1=$o({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform(e,t){return"xml:"+t.slice(3).toLowerCase()}}),GN={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},qN=/[A-Z]/g,Dx=/-[a-z]/g,$N=/^data[-\w.:]+$/i;function YN(e,t){const n=Xd(t);let r=t,a=ln;if(n in e.normal)return e.property[e.normal[n]];if(n.length>4&&n.slice(0,4)==="data"&&$N.test(t)){if(t.charAt(4)==="-"){const l=t.slice(5).replace(Dx,XN);r="data"+l.charAt(0).toUpperCase()+l.slice(1)}else{const l=t.slice(4);if(!Dx.test(l)){let u=l.replace(qN,KN);u.charAt(0)!=="-"&&(u="-"+u),t="data"+u}}a=Nh}return new a(r,t)}function KN(e){return"-"+e.toLowerCase()}function XN(e){return e.charAt(1).toUpperCase()}const QN=l1([u1,UN,d1,h1,m1],"html"),Dh=l1([u1,HN,d1,h1,m1],"svg");function JN(e){return e.join(" ").trim()}var Do={},sd,Rx;function ZN(){if(Rx)return sd;Rx=1;var e=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,t=/\n/g,n=/^\s*/,r=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,a=/^:\s*/,l=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,u=/^[;\s]*/,f=/^\s+|\s+$/g,h=`
`,d="/",m="*",y="",T="comment",S="declaration";sd=function(M,R){if(typeof M!="string")throw new TypeError("First argument must be a string");if(!M)return[];R=R||{};var I=1,P=1;function N(W){var ae=W.match(t);ae&&(I+=ae.length);var me=W.lastIndexOf(h);P=~me?W.length-me:P+W.length}function j(){var W={line:I,column:P};return function(ae){return ae.position=new H(W),le(),ae}}function H(W){this.start=W,this.end={line:I,column:P},this.source=R.source}H.prototype.content=M;function U(W){var ae=new Error(R.source+":"+I+":"+P+": "+W);if(ae.reason=W,ae.filename=R.source,ae.line=I,ae.column=P,ae.source=M,!R.silent)throw ae}function ie(W){var ae=W.exec(M);if(ae){var me=ae[0];return N(me),M=M.slice(me.length),ae}}function le(){ie(n)}function pe(W){var ae;for(W=W||[];ae=F();)ae!==!1&&W.push(ae);return W}function F(){var W=j();if(!(d!=M.charAt(0)||m!=M.charAt(1))){for(var ae=2;y!=M.charAt(ae)&&(m!=M.charAt(ae)||d!=M.charAt(ae+1));)++ae;if(ae+=2,y===M.charAt(ae-1))return U("End of comment missing");var me=M.slice(2,ae-2);return P+=2,N(me),M=M.slice(ae),P+=2,W({type:T,comment:me})}}function ue(){var W=j(),ae=ie(r);if(ae){if(F(),!ie(a))return U("property missing ':'");var me=ie(l),$=W({type:S,property:A(ae[0].replace(e,y)),value:me?A(me[0].replace(e,y)):y});return ie(u),$}}function fe(){var W=[];pe(W);for(var ae;ae=ue();)ae!==!1&&(W.push(ae),pe(W));return W}return le(),fe()};function A(M){return M?M.replace(f,y):y}return sd}var _x;function WN(){if(_x)return Do;_x=1;var e=Do&&Do.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Do,"__esModule",{value:!0}),Do.default=n;var t=e(ZN());function n(r,a){var l=null;if(!r||typeof r!="string")return l;var u=(0,t.default)(r),f=typeof a=="function";return u.forEach(function(h){if(h.type==="declaration"){var d=h.property,m=h.value;f?a(d,m,h):m&&(l=l||{},l[d]=m)}}),l}return Do}var Za={},Vx;function e2(){if(Vx)return Za;Vx=1,Object.defineProperty(Za,"__esModule",{value:!0}),Za.camelCase=void 0;var e=/^--[a-zA-Z0-9_-]+$/,t=/-([a-z])/g,n=/^[^-]+$/,r=/^-(webkit|moz|ms|o|khtml)-/,a=/^-(ms)-/,l=function(d){return!d||n.test(d)||e.test(d)},u=function(d,m){return m.toUpperCase()},f=function(d,m){return"".concat(m,"-")},h=function(d,m){return m===void 0&&(m={}),l(d)?d:(d=d.toLowerCase(),m.reactCompat?d=d.replace(a,f):d=d.replace(r,f),d.replace(t,u))};return Za.camelCase=h,Za}var Wa,Px;function t2(){if(Px)return Wa;Px=1;var e=Wa&&Wa.__importDefault||function(a){return a&&a.__esModule?a:{default:a}},t=e(WN()),n=e2();function r(a,l){var u={};return!a||typeof a!="string"||(0,t.default)(a,function(f,h){f&&h&&(u[(0,n.camelCase)(f,l)]=h)}),u}return r.default=r,Wa=r,Wa}var n2=t2();const i2=ks(n2),p1=g1("end"),Rh=g1("start");function g1(e){return t;function t(n){const r=n&&n.position&&n.position[e]||{};if(typeof r.line=="number"&&r.line>0&&typeof r.column=="number"&&r.column>0)return{line:r.line,column:r.column,offset:typeof r.offset=="number"&&r.offset>-1?r.offset:void 0}}}function r2(e){const t=Rh(e),n=p1(e);if(t&&n)return{start:t,end:n}}function ss(e){return!e||typeof e!="object"?"":"position"in e||"type"in e?Lx(e.position):"start"in e||"end"in e?Lx(e):"line"in e||"column"in e?Zd(e):""}function Zd(e){return Bx(e&&e.line)+":"+Bx(e&&e.column)}function Lx(e){return Zd(e&&e.start)+"-"+Zd(e&&e.end)}function Bx(e){return e&&typeof e=="number"?e:1}class Yt extends Error{constructor(t,n,r){super(),typeof n=="string"&&(r=n,n=void 0);let a="",l={},u=!1;if(n&&("line"in n&&"column"in n?l={place:n}:"start"in n&&"end"in n?l={place:n}:"type"in n?l={ancestors:[n],place:n.position}:l={...n}),typeof t=="string"?a=t:!l.cause&&t&&(u=!0,a=t.message,l.cause=t),!l.ruleId&&!l.source&&typeof r=="string"){const h=r.indexOf(":");h===-1?l.ruleId=r:(l.source=r.slice(0,h),l.ruleId=r.slice(h+1))}if(!l.place&&l.ancestors&&l.ancestors){const h=l.ancestors[l.ancestors.length-1];h&&(l.place=h.position)}const f=l.place&&"start"in l.place?l.place.start:l.place;this.ancestors=l.ancestors||void 0,this.cause=l.cause||void 0,this.column=f?f.column:void 0,this.fatal=void 0,this.file,this.message=a,this.line=f?f.line:void 0,this.name=ss(l.place)||"1:1",this.place=l.place||void 0,this.reason=this.message,this.ruleId=l.ruleId||void 0,this.source=l.source||void 0,this.stack=u&&l.cause&&typeof l.cause.stack=="string"?l.cause.stack:"",this.actual,this.expected,this.note,this.url}}Yt.prototype.file="";Yt.prototype.name="";Yt.prototype.reason="";Yt.prototype.message="";Yt.prototype.stack="";Yt.prototype.column=void 0;Yt.prototype.line=void 0;Yt.prototype.ancestors=void 0;Yt.prototype.cause=void 0;Yt.prototype.fatal=void 0;Yt.prototype.place=void 0;Yt.prototype.ruleId=void 0;Yt.prototype.source=void 0;const _h={}.hasOwnProperty,o2=new Map,a2=/[A-Z]/g,s2=new Set(["table","tbody","thead","tfoot","tr"]),l2=new Set(["td","th"]),y1="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function u2(e,t){if(!t||t.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const n=t.filePath||void 0;let r;if(t.development){if(typeof t.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");r=y2(n,t.jsxDEV)}else{if(typeof t.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof t.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");r=g2(n,t.jsx,t.jsxs)}const a={Fragment:t.Fragment,ancestors:[],components:t.components||{},create:r,elementAttributeNameCase:t.elementAttributeNameCase||"react",evaluater:t.createEvaluater?t.createEvaluater():void 0,filePath:n,ignoreInvalidStyle:t.ignoreInvalidStyle||!1,passKeys:t.passKeys!==!1,passNode:t.passNode||!1,schema:t.space==="svg"?Dh:QN,stylePropertyNameCase:t.stylePropertyNameCase||"dom",tableCellAlignToStyle:t.tableCellAlignToStyle!==!1},l=x1(a,e,void 0);return l&&typeof l!="string"?l:a.create(e,a.Fragment,{children:l||void 0},void 0)}function x1(e,t,n){if(t.type==="element")return c2(e,t,n);if(t.type==="mdxFlowExpression"||t.type==="mdxTextExpression")return f2(e,t);if(t.type==="mdxJsxFlowElement"||t.type==="mdxJsxTextElement")return h2(e,t,n);if(t.type==="mdxjsEsm")return d2(e,t);if(t.type==="root")return m2(e,t,n);if(t.type==="text")return p2(e,t)}function c2(e,t,n){const r=e.schema;let a=r;t.tagName.toLowerCase()==="svg"&&r.space==="html"&&(a=Dh,e.schema=a),e.ancestors.push(t);const l=b1(e,t.tagName,!1),u=x2(e,t);let f=Ph(e,t);return s2.has(t.tagName)&&(f=f.filter(function(h){return typeof h=="string"?!zN(h):!0})),v1(e,u,l,t),Vh(u,f),e.ancestors.pop(),e.schema=r,e.create(t,l,u,n)}function f2(e,t){if(t.data&&t.data.estree&&e.evaluater){const r=t.data.estree.body[0];return r.type,e.evaluater.evaluateExpression(r.expression)}vs(e,t.position)}function d2(e,t){if(t.data&&t.data.estree&&e.evaluater)return e.evaluater.evaluateProgram(t.data.estree);vs(e,t.position)}function h2(e,t,n){const r=e.schema;let a=r;t.name==="svg"&&r.space==="html"&&(a=Dh,e.schema=a),e.ancestors.push(t);const l=t.name===null?e.Fragment:b1(e,t.name,!0),u=v2(e,t),f=Ph(e,t);return v1(e,u,l,t),Vh(u,f),e.ancestors.pop(),e.schema=r,e.create(t,l,u,n)}function m2(e,t,n){const r={};return Vh(r,Ph(e,t)),e.create(t,e.Fragment,r,n)}function p2(e,t){return t.value}function v1(e,t,n,r){typeof n!="string"&&n!==e.Fragment&&e.passNode&&(t.node=r)}function Vh(e,t){if(t.length>0){const n=t.length>1?t:t[0];n&&(e.children=n)}}function g2(e,t,n){return r;function r(a,l,u,f){const d=Array.isArray(u.children)?n:t;return f?d(l,u,f):d(l,u)}}function y2(e,t){return n;function n(r,a,l,u){const f=Array.isArray(l.children),h=Rh(r);return t(a,l,u,f,{columnNumber:h?h.column-1:void 0,fileName:e,lineNumber:h?h.line:void 0},void 0)}}function x2(e,t){const n={};let r,a;for(a in t.properties)if(a!=="children"&&_h.call(t.properties,a)){const l=b2(e,a,t.properties[a]);if(l){const[u,f]=l;e.tableCellAlignToStyle&&u==="align"&&typeof f=="string"&&l2.has(t.tagName)?r=f:n[u]=f}}if(r){const l=n.style||(n.style={});l[e.stylePropertyNameCase==="css"?"text-align":"textAlign"]=r}return n}function v2(e,t){const n={};for(const r of t.attributes)if(r.type==="mdxJsxExpressionAttribute")if(r.data&&r.data.estree&&e.evaluater){const l=r.data.estree.body[0];l.type;const u=l.expression;u.type;const f=u.properties[0];f.type,Object.assign(n,e.evaluater.evaluateExpression(f.argument))}else vs(e,t.position);else{const a=r.name;let l;if(r.value&&typeof r.value=="object")if(r.value.data&&r.value.data.estree&&e.evaluater){const f=r.value.data.estree.body[0];f.type,l=e.evaluater.evaluateExpression(f.expression)}else vs(e,t.position);else l=r.value===null?!0:r.value;n[a]=l}return n}function Ph(e,t){const n=[];let r=-1;const a=e.passKeys?new Map:o2;for(;++r<t.children.length;){const l=t.children[r];let u;if(e.passKeys){const h=l.type==="element"?l.tagName:l.type==="mdxJsxFlowElement"||l.type==="mdxJsxTextElement"?l.name:void 0;if(h){const d=a.get(h)||0;u=h+"-"+d,a.set(h,d+1)}}const f=x1(e,l,u);f!==void 0&&n.push(f)}return n}function b2(e,t,n){const r=YN(e.schema,t);if(!(n==null||typeof n=="number"&&Number.isNaN(n))){if(Array.isArray(n)&&(n=r.commaSeparated?PN(n):JN(n)),r.property==="style"){let a=typeof n=="object"?n:T2(e,String(n));return e.stylePropertyNameCase==="css"&&(a=S2(a)),["style",a]}return[e.elementAttributeNameCase==="react"&&r.space?GN[r.property]||r.property:r.attribute,n]}}function T2(e,t){try{return i2(t,{reactCompat:!0})}catch(n){if(e.ignoreInvalidStyle)return{};const r=n,a=new Yt("Cannot parse `style` attribute",{ancestors:e.ancestors,cause:r,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw a.file=e.filePath||void 0,a.url=y1+"#cannot-parse-style-attribute",a}}function b1(e,t,n){let r;if(!n)r={type:"Literal",value:t};else if(t.includes(".")){const a=t.split(".");let l=-1,u;for(;++l<a.length;){const f=kx(a[l])?{type:"Identifier",name:a[l]}:{type:"Literal",value:a[l]};u=u?{type:"MemberExpression",object:u,property:f,computed:!!(l&&f.type==="Literal"),optional:!1}:f}r=u}else r=kx(t)&&!/^[a-z]/.test(t)?{type:"Identifier",name:t}:{type:"Literal",value:t};if(r.type==="Literal"){const a=r.value;return _h.call(e.components,a)?e.components[a]:a}if(e.evaluater)return e.evaluater.evaluateExpression(r);vs(e)}function vs(e,t){const n=new Yt("Cannot handle MDX estrees without `createEvaluater`",{ancestors:e.ancestors,place:t,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw n.file=e.filePath||void 0,n.url=y1+"#cannot-handle-mdx-estrees-without-createevaluater",n}function S2(e){const t={};let n;for(n in e)_h.call(e,n)&&(t[C2(n)]=e[n]);return t}function C2(e){let t=e.replace(a2,w2);return t.slice(0,3)==="ms-"&&(t="-"+t),t}function w2(e){return"-"+e.toLowerCase()}const ld={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},A2={};function Lh(e,t){const n=A2,r=typeof n.includeImageAlt=="boolean"?n.includeImageAlt:!0,a=typeof n.includeHtml=="boolean"?n.includeHtml:!0;return T1(e,r,a)}function T1(e,t,n){if(E2(e)){if("value"in e)return e.type==="html"&&!n?"":e.value;if(t&&"alt"in e&&e.alt)return e.alt;if("children"in e)return jx(e.children,t,n)}return Array.isArray(e)?jx(e,t,n):""}function jx(e,t,n){const r=[];let a=-1;for(;++a<e.length;)r[a]=T1(e[a],t,n);return r.join("")}function E2(e){return!!(e&&typeof e=="object")}const Ox=document.createElement("i");function Bh(e){const t="&"+e+";";Ox.innerHTML=t;const n=Ox.textContent;return n.charCodeAt(n.length-1)===59&&e!=="semi"||n===t?!1:n}function bn(e,t,n,r){const a=e.length;let l=0,u;if(t<0?t=-t>a?0:a+t:t=t>a?a:t,n=n>0?n:0,r.length<1e4)u=Array.from(r),u.unshift(t,n),e.splice(...u);else for(n&&e.splice(t,n);l<r.length;)u=r.slice(l,l+1e4),u.unshift(t,0),e.splice(...u),l+=1e4,t+=1e4}function Vn(e,t){return e.length>0?(bn(e,e.length,0,t),e):t}const zx={}.hasOwnProperty;function S1(e){const t={};let n=-1;for(;++n<e.length;)M2(t,e[n]);return t}function M2(e,t){let n;for(n in t){const a=(zx.call(e,n)?e[n]:void 0)||(e[n]={}),l=t[n];let u;if(l)for(u in l){zx.call(a,u)||(a[u]=[]);const f=l[u];k2(a[u],Array.isArray(f)?f:f?[f]:[])}}}function k2(e,t){let n=-1;const r=[];for(;++n<t.length;)(t[n].add==="after"?e:r).push(t[n]);bn(e,0,0,r)}function C1(e,t){const n=Number.parseInt(e,t);return n<9||n===11||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||(n&65535)===65535||(n&65535)===65534||n>1114111?"":String.fromCodePoint(n)}function Gn(e){return e.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const Qt=sr(/[A-Za-z]/),qt=sr(/[\dA-Za-z]/),I2=sr(/[#-'*+\--9=?A-Z^-~]/);function Su(e){return e!==null&&(e<32||e===127)}const Wd=sr(/\d/),N2=sr(/[\dA-Fa-f]/),D2=sr(/[!-/:-@[-`{-~]/);function we(e){return e!==null&&e<-2}function it(e){return e!==null&&(e<0||e===32)}function ze(e){return e===-2||e===-1||e===32}const Lu=sr(new RegExp("\\p{P}|\\p{S}","u")),Or=sr(/\s/);function sr(e){return t;function t(n){return n!==null&&n>-1&&e.test(String.fromCharCode(n))}}function Yo(e){const t=[];let n=-1,r=0,a=0;for(;++n<e.length;){const l=e.charCodeAt(n);let u="";if(l===37&&qt(e.charCodeAt(n+1))&&qt(e.charCodeAt(n+2)))a=2;else if(l<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(l))||(u=String.fromCharCode(l));else if(l>55295&&l<57344){const f=e.charCodeAt(n+1);l<56320&&f>56319&&f<57344?(u=String.fromCharCode(l,f),a=1):u=""}else u=String.fromCharCode(l);u&&(t.push(e.slice(r,n),encodeURIComponent(u)),r=n+a+1,u=""),a&&(n+=a,a=0)}return t.join("")+e.slice(r)}function Ge(e,t,n,r){const a=r?r-1:Number.POSITIVE_INFINITY;let l=0;return u;function u(h){return ze(h)?(e.enter(n),f(h)):t(h)}function f(h){return ze(h)&&l++<a?(e.consume(h),f):(e.exit(n),t(h))}}const R2={tokenize:_2};function _2(e){const t=e.attempt(this.parser.constructs.contentInitial,r,a);let n;return t;function r(f){if(f===null){e.consume(f);return}return e.enter("lineEnding"),e.consume(f),e.exit("lineEnding"),Ge(e,t,"linePrefix")}function a(f){return e.enter("paragraph"),l(f)}function l(f){const h=e.enter("chunkText",{contentType:"text",previous:n});return n&&(n.next=h),n=h,u(f)}function u(f){if(f===null){e.exit("chunkText"),e.exit("paragraph"),e.consume(f);return}return we(f)?(e.consume(f),e.exit("chunkText"),l):(e.consume(f),u)}}const V2={tokenize:P2},Fx={tokenize:L2};function P2(e){const t=this,n=[];let r=0,a,l,u;return f;function f(N){if(r<n.length){const j=n[r];return t.containerState=j[1],e.attempt(j[0].continuation,h,d)(N)}return d(N)}function h(N){if(r++,t.containerState._closeFlow){t.containerState._closeFlow=void 0,a&&P();const j=t.events.length;let H=j,U;for(;H--;)if(t.events[H][0]==="exit"&&t.events[H][1].type==="chunkFlow"){U=t.events[H][1].end;break}I(r);let ie=j;for(;ie<t.events.length;)t.events[ie][1].end={...U},ie++;return bn(t.events,H+1,0,t.events.slice(j)),t.events.length=ie,d(N)}return f(N)}function d(N){if(r===n.length){if(!a)return T(N);if(a.currentConstruct&&a.currentConstruct.concrete)return A(N);t.interrupt=!!(a.currentConstruct&&!a._gfmTableDynamicInterruptHack)}return t.containerState={},e.check(Fx,m,y)(N)}function m(N){return a&&P(),I(r),T(N)}function y(N){return t.parser.lazy[t.now().line]=r!==n.length,u=t.now().offset,A(N)}function T(N){return t.containerState={},e.attempt(Fx,S,A)(N)}function S(N){return r++,n.push([t.currentConstruct,t.containerState]),T(N)}function A(N){if(N===null){a&&P(),I(0),e.consume(N);return}return a=a||t.parser.flow(t.now()),e.enter("chunkFlow",{_tokenizer:a,contentType:"flow",previous:l}),M(N)}function M(N){if(N===null){R(e.exit("chunkFlow"),!0),I(0),e.consume(N);return}return we(N)?(e.consume(N),R(e.exit("chunkFlow")),r=0,t.interrupt=void 0,f):(e.consume(N),M)}function R(N,j){const H=t.sliceStream(N);if(j&&H.push(null),N.previous=l,l&&(l.next=N),l=N,a.defineSkip(N.start),a.write(H),t.parser.lazy[N.start.line]){let U=a.events.length;for(;U--;)if(a.events[U][1].start.offset<u&&(!a.events[U][1].end||a.events[U][1].end.offset>u))return;const ie=t.events.length;let le=ie,pe,F;for(;le--;)if(t.events[le][0]==="exit"&&t.events[le][1].type==="chunkFlow"){if(pe){F=t.events[le][1].end;break}pe=!0}for(I(r),U=ie;U<t.events.length;)t.events[U][1].end={...F},U++;bn(t.events,le+1,0,t.events.slice(ie)),t.events.length=U}}function I(N){let j=n.length;for(;j-- >N;){const H=n[j];t.containerState=H[1],H[0].exit.call(t,e)}n.length=N}function P(){a.write([null]),l=void 0,a=void 0,t.containerState._closeFlow=void 0}}function L2(e,t,n){return Ge(e,e.attempt(this.parser.constructs.document,t,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function Uo(e){if(e===null||it(e)||Or(e))return 1;if(Lu(e))return 2}function Bu(e,t,n){const r=[];let a=-1;for(;++a<e.length;){const l=e[a].resolveAll;l&&!r.includes(l)&&(t=l(t,n),r.push(l))}return t}const eh={name:"attention",resolveAll:B2,tokenize:j2};function B2(e,t){let n=-1,r,a,l,u,f,h,d,m;for(;++n<e.length;)if(e[n][0]==="enter"&&e[n][1].type==="attentionSequence"&&e[n][1]._close){for(r=n;r--;)if(e[r][0]==="exit"&&e[r][1].type==="attentionSequence"&&e[r][1]._open&&t.sliceSerialize(e[r][1]).charCodeAt(0)===t.sliceSerialize(e[n][1]).charCodeAt(0)){if((e[r][1]._close||e[n][1]._open)&&(e[n][1].end.offset-e[n][1].start.offset)%3&&!((e[r][1].end.offset-e[r][1].start.offset+e[n][1].end.offset-e[n][1].start.offset)%3))continue;h=e[r][1].end.offset-e[r][1].start.offset>1&&e[n][1].end.offset-e[n][1].start.offset>1?2:1;const y={...e[r][1].end},T={...e[n][1].start};Ux(y,-h),Ux(T,h),u={type:h>1?"strongSequence":"emphasisSequence",start:y,end:{...e[r][1].end}},f={type:h>1?"strongSequence":"emphasisSequence",start:{...e[n][1].start},end:T},l={type:h>1?"strongText":"emphasisText",start:{...e[r][1].end},end:{...e[n][1].start}},a={type:h>1?"strong":"emphasis",start:{...u.start},end:{...f.end}},e[r][1].end={...u.start},e[n][1].start={...f.end},d=[],e[r][1].end.offset-e[r][1].start.offset&&(d=Vn(d,[["enter",e[r][1],t],["exit",e[r][1],t]])),d=Vn(d,[["enter",a,t],["enter",u,t],["exit",u,t],["enter",l,t]]),d=Vn(d,Bu(t.parser.constructs.insideSpan.null,e.slice(r+1,n),t)),d=Vn(d,[["exit",l,t],["enter",f,t],["exit",f,t],["exit",a,t]]),e[n][1].end.offset-e[n][1].start.offset?(m=2,d=Vn(d,[["enter",e[n][1],t],["exit",e[n][1],t]])):m=0,bn(e,r-1,n-r+3,d),n=r+d.length-m-2;break}}for(n=-1;++n<e.length;)e[n][1].type==="attentionSequence"&&(e[n][1].type="data");return e}function j2(e,t){const n=this.parser.constructs.attentionMarkers.null,r=this.previous,a=Uo(r);let l;return u;function u(h){return l=h,e.enter("attentionSequence"),f(h)}function f(h){if(h===l)return e.consume(h),f;const d=e.exit("attentionSequence"),m=Uo(h),y=!m||m===2&&a||n.includes(h),T=!a||a===2&&m||n.includes(r);return d._open=!!(l===42?y:y&&(a||!T)),d._close=!!(l===42?T:T&&(m||!y)),t(h)}}function Ux(e,t){e.column+=t,e.offset+=t,e._bufferIndex+=t}const O2={name:"autolink",tokenize:z2};function z2(e,t,n){let r=0;return a;function a(S){return e.enter("autolink"),e.enter("autolinkMarker"),e.consume(S),e.exit("autolinkMarker"),e.enter("autolinkProtocol"),l}function l(S){return Qt(S)?(e.consume(S),u):S===64?n(S):d(S)}function u(S){return S===43||S===45||S===46||qt(S)?(r=1,f(S)):d(S)}function f(S){return S===58?(e.consume(S),r=0,h):(S===43||S===45||S===46||qt(S))&&r++<32?(e.consume(S),f):(r=0,d(S))}function h(S){return S===62?(e.exit("autolinkProtocol"),e.enter("autolinkMarker"),e.consume(S),e.exit("autolinkMarker"),e.exit("autolink"),t):S===null||S===32||S===60||Su(S)?n(S):(e.consume(S),h)}function d(S){return S===64?(e.consume(S),m):I2(S)?(e.consume(S),d):n(S)}function m(S){return qt(S)?y(S):n(S)}function y(S){return S===46?(e.consume(S),r=0,m):S===62?(e.exit("autolinkProtocol").type="autolinkEmail",e.enter("autolinkMarker"),e.consume(S),e.exit("autolinkMarker"),e.exit("autolink"),t):T(S)}function T(S){if((S===45||qt(S))&&r++<63){const A=S===45?T:y;return e.consume(S),A}return n(S)}}const Ds={partial:!0,tokenize:F2};function F2(e,t,n){return r;function r(l){return ze(l)?Ge(e,a,"linePrefix")(l):a(l)}function a(l){return l===null||we(l)?t(l):n(l)}}const w1={continuation:{tokenize:H2},exit:G2,name:"blockQuote",tokenize:U2};function U2(e,t,n){const r=this;return a;function a(u){if(u===62){const f=r.containerState;return f.open||(e.enter("blockQuote",{_container:!0}),f.open=!0),e.enter("blockQuotePrefix"),e.enter("blockQuoteMarker"),e.consume(u),e.exit("blockQuoteMarker"),l}return n(u)}function l(u){return ze(u)?(e.enter("blockQuotePrefixWhitespace"),e.consume(u),e.exit("blockQuotePrefixWhitespace"),e.exit("blockQuotePrefix"),t):(e.exit("blockQuotePrefix"),t(u))}}function H2(e,t,n){const r=this;return a;function a(u){return ze(u)?Ge(e,l,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(u):l(u)}function l(u){return e.attempt(w1,t,n)(u)}}function G2(e){e.exit("blockQuote")}const A1={name:"characterEscape",tokenize:q2};function q2(e,t,n){return r;function r(l){return e.enter("characterEscape"),e.enter("escapeMarker"),e.consume(l),e.exit("escapeMarker"),a}function a(l){return D2(l)?(e.enter("characterEscapeValue"),e.consume(l),e.exit("characterEscapeValue"),e.exit("characterEscape"),t):n(l)}}const E1={name:"characterReference",tokenize:$2};function $2(e,t,n){const r=this;let a=0,l,u;return f;function f(y){return e.enter("characterReference"),e.enter("characterReferenceMarker"),e.consume(y),e.exit("characterReferenceMarker"),h}function h(y){return y===35?(e.enter("characterReferenceMarkerNumeric"),e.consume(y),e.exit("characterReferenceMarkerNumeric"),d):(e.enter("characterReferenceValue"),l=31,u=qt,m(y))}function d(y){return y===88||y===120?(e.enter("characterReferenceMarkerHexadecimal"),e.consume(y),e.exit("characterReferenceMarkerHexadecimal"),e.enter("characterReferenceValue"),l=6,u=N2,m):(e.enter("characterReferenceValue"),l=7,u=Wd,m(y))}function m(y){if(y===59&&a){const T=e.exit("characterReferenceValue");return u===qt&&!Bh(r.sliceSerialize(T))?n(y):(e.enter("characterReferenceMarker"),e.consume(y),e.exit("characterReferenceMarker"),e.exit("characterReference"),t)}return u(y)&&a++<l?(e.consume(y),m):n(y)}}const Hx={partial:!0,tokenize:K2},Gx={concrete:!0,name:"codeFenced",tokenize:Y2};function Y2(e,t,n){const r=this,a={partial:!0,tokenize:H};let l=0,u=0,f;return h;function h(U){return d(U)}function d(U){const ie=r.events[r.events.length-1];return l=ie&&ie[1].type==="linePrefix"?ie[2].sliceSerialize(ie[1],!0).length:0,f=U,e.enter("codeFenced"),e.enter("codeFencedFence"),e.enter("codeFencedFenceSequence"),m(U)}function m(U){return U===f?(u++,e.consume(U),m):u<3?n(U):(e.exit("codeFencedFenceSequence"),ze(U)?Ge(e,y,"whitespace")(U):y(U))}function y(U){return U===null||we(U)?(e.exit("codeFencedFence"),r.interrupt?t(U):e.check(Hx,M,j)(U)):(e.enter("codeFencedFenceInfo"),e.enter("chunkString",{contentType:"string"}),T(U))}function T(U){return U===null||we(U)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),y(U)):ze(U)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),Ge(e,S,"whitespace")(U)):U===96&&U===f?n(U):(e.consume(U),T)}function S(U){return U===null||we(U)?y(U):(e.enter("codeFencedFenceMeta"),e.enter("chunkString",{contentType:"string"}),A(U))}function A(U){return U===null||we(U)?(e.exit("chunkString"),e.exit("codeFencedFenceMeta"),y(U)):U===96&&U===f?n(U):(e.consume(U),A)}function M(U){return e.attempt(a,j,R)(U)}function R(U){return e.enter("lineEnding"),e.consume(U),e.exit("lineEnding"),I}function I(U){return l>0&&ze(U)?Ge(e,P,"linePrefix",l+1)(U):P(U)}function P(U){return U===null||we(U)?e.check(Hx,M,j)(U):(e.enter("codeFlowValue"),N(U))}function N(U){return U===null||we(U)?(e.exit("codeFlowValue"),P(U)):(e.consume(U),N)}function j(U){return e.exit("codeFenced"),t(U)}function H(U,ie,le){let pe=0;return F;function F(me){return U.enter("lineEnding"),U.consume(me),U.exit("lineEnding"),ue}function ue(me){return U.enter("codeFencedFence"),ze(me)?Ge(U,fe,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(me):fe(me)}function fe(me){return me===f?(U.enter("codeFencedFenceSequence"),W(me)):le(me)}function W(me){return me===f?(pe++,U.consume(me),W):pe>=u?(U.exit("codeFencedFenceSequence"),ze(me)?Ge(U,ae,"whitespace")(me):ae(me)):le(me)}function ae(me){return me===null||we(me)?(U.exit("codeFencedFence"),ie(me)):le(me)}}}function K2(e,t,n){const r=this;return a;function a(u){return u===null?n(u):(e.enter("lineEnding"),e.consume(u),e.exit("lineEnding"),l)}function l(u){return r.parser.lazy[r.now().line]?n(u):t(u)}}const ud={name:"codeIndented",tokenize:Q2},X2={partial:!0,tokenize:J2};function Q2(e,t,n){const r=this;return a;function a(d){return e.enter("codeIndented"),Ge(e,l,"linePrefix",5)(d)}function l(d){const m=r.events[r.events.length-1];return m&&m[1].type==="linePrefix"&&m[2].sliceSerialize(m[1],!0).length>=4?u(d):n(d)}function u(d){return d===null?h(d):we(d)?e.attempt(X2,u,h)(d):(e.enter("codeFlowValue"),f(d))}function f(d){return d===null||we(d)?(e.exit("codeFlowValue"),u(d)):(e.consume(d),f)}function h(d){return e.exit("codeIndented"),t(d)}}function J2(e,t,n){const r=this;return a;function a(u){return r.parser.lazy[r.now().line]?n(u):we(u)?(e.enter("lineEnding"),e.consume(u),e.exit("lineEnding"),a):Ge(e,l,"linePrefix",5)(u)}function l(u){const f=r.events[r.events.length-1];return f&&f[1].type==="linePrefix"&&f[2].sliceSerialize(f[1],!0).length>=4?t(u):we(u)?a(u):n(u)}}const Z2={name:"codeText",previous:eD,resolve:W2,tokenize:tD};function W2(e){let t=e.length-4,n=3,r,a;if((e[n][1].type==="lineEnding"||e[n][1].type==="space")&&(e[t][1].type==="lineEnding"||e[t][1].type==="space")){for(r=n;++r<t;)if(e[r][1].type==="codeTextData"){e[n][1].type="codeTextPadding",e[t][1].type="codeTextPadding",n+=2,t-=2;break}}for(r=n-1,t++;++r<=t;)a===void 0?r!==t&&e[r][1].type!=="lineEnding"&&(a=r):(r===t||e[r][1].type==="lineEnding")&&(e[a][1].type="codeTextData",r!==a+2&&(e[a][1].end=e[r-1][1].end,e.splice(a+2,r-a-2),t-=r-a-2,r=a+2),a=void 0);return e}function eD(e){return e!==96||this.events[this.events.length-1][1].type==="characterEscape"}function tD(e,t,n){let r=0,a,l;return u;function u(y){return e.enter("codeText"),e.enter("codeTextSequence"),f(y)}function f(y){return y===96?(e.consume(y),r++,f):(e.exit("codeTextSequence"),h(y))}function h(y){return y===null?n(y):y===32?(e.enter("space"),e.consume(y),e.exit("space"),h):y===96?(l=e.enter("codeTextSequence"),a=0,m(y)):we(y)?(e.enter("lineEnding"),e.consume(y),e.exit("lineEnding"),h):(e.enter("codeTextData"),d(y))}function d(y){return y===null||y===32||y===96||we(y)?(e.exit("codeTextData"),h(y)):(e.consume(y),d)}function m(y){return y===96?(e.consume(y),a++,m):a===r?(e.exit("codeTextSequence"),e.exit("codeText"),t(y)):(l.type="codeTextData",d(y))}}class nD{constructor(t){this.left=t?[...t]:[],this.right=[]}get(t){if(t<0||t>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+t+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return t<this.left.length?this.left[t]:this.right[this.right.length-t+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(t,n){const r=n??Number.POSITIVE_INFINITY;return r<this.left.length?this.left.slice(t,r):t>this.left.length?this.right.slice(this.right.length-r+this.left.length,this.right.length-t+this.left.length).reverse():this.left.slice(t).concat(this.right.slice(this.right.length-r+this.left.length).reverse())}splice(t,n,r){const a=n||0;this.setCursor(Math.trunc(t));const l=this.right.splice(this.right.length-a,Number.POSITIVE_INFINITY);return r&&es(this.left,r),l.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(t){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(t)}pushMany(t){this.setCursor(Number.POSITIVE_INFINITY),es(this.left,t)}unshift(t){this.setCursor(0),this.right.push(t)}unshiftMany(t){this.setCursor(0),es(this.right,t.reverse())}setCursor(t){if(!(t===this.left.length||t>this.left.length&&this.right.length===0||t<0&&this.left.length===0))if(t<this.left.length){const n=this.left.splice(t,Number.POSITIVE_INFINITY);es(this.right,n.reverse())}else{const n=this.right.splice(this.left.length+this.right.length-t,Number.POSITIVE_INFINITY);es(this.left,n.reverse())}}}function es(e,t){let n=0;if(t.length<1e4)e.push(...t);else for(;n<t.length;)e.push(...t.slice(n,n+1e4)),n+=1e4}function M1(e){const t={};let n=-1,r,a,l,u,f,h,d;const m=new nD(e);for(;++n<m.length;){for(;n in t;)n=t[n];if(r=m.get(n),n&&r[1].type==="chunkFlow"&&m.get(n-1)[1].type==="listItemPrefix"&&(h=r[1]._tokenizer.events,l=0,l<h.length&&h[l][1].type==="lineEndingBlank"&&(l+=2),l<h.length&&h[l][1].type==="content"))for(;++l<h.length&&h[l][1].type!=="content";)h[l][1].type==="chunkText"&&(h[l][1]._isInFirstContentOfListItem=!0,l++);if(r[0]==="enter")r[1].contentType&&(Object.assign(t,iD(m,n)),n=t[n],d=!0);else if(r[1]._container){for(l=n,a=void 0;l--;)if(u=m.get(l),u[1].type==="lineEnding"||u[1].type==="lineEndingBlank")u[0]==="enter"&&(a&&(m.get(a)[1].type="lineEndingBlank"),u[1].type="lineEnding",a=l);else if(!(u[1].type==="linePrefix"||u[1].type==="listItemIndent"))break;a&&(r[1].end={...m.get(a)[1].start},f=m.slice(a,n),f.unshift(r),m.splice(a,n-a+1,f))}}return bn(e,0,Number.POSITIVE_INFINITY,m.slice(0)),!d}function iD(e,t){const n=e.get(t)[1],r=e.get(t)[2];let a=t-1;const l=[];let u=n._tokenizer;u||(u=r.parser[n.contentType](n.start),n._contentTypeTextTrailing&&(u._contentTypeTextTrailing=!0));const f=u.events,h=[],d={};let m,y,T=-1,S=n,A=0,M=0;const R=[M];for(;S;){for(;e.get(++a)[1]!==S;);l.push(a),S._tokenizer||(m=r.sliceStream(S),S.next||m.push(null),y&&u.defineSkip(S.start),S._isInFirstContentOfListItem&&(u._gfmTasklistFirstContentOfListItem=!0),u.write(m),S._isInFirstContentOfListItem&&(u._gfmTasklistFirstContentOfListItem=void 0)),y=S,S=S.next}for(S=n;++T<f.length;)f[T][0]==="exit"&&f[T-1][0]==="enter"&&f[T][1].type===f[T-1][1].type&&f[T][1].start.line!==f[T][1].end.line&&(M=T+1,R.push(M),S._tokenizer=void 0,S.previous=void 0,S=S.next);for(u.events=[],S?(S._tokenizer=void 0,S.previous=void 0):R.pop(),T=R.length;T--;){const I=f.slice(R[T],R[T+1]),P=l.pop();h.push([P,P+I.length-1]),e.splice(P,2,I)}for(h.reverse(),T=-1;++T<h.length;)d[A+h[T][0]]=A+h[T][1],A+=h[T][1]-h[T][0]-1;return d}const rD={resolve:aD,tokenize:sD},oD={partial:!0,tokenize:lD};function aD(e){return M1(e),e}function sD(e,t){let n;return r;function r(f){return e.enter("content"),n=e.enter("chunkContent",{contentType:"content"}),a(f)}function a(f){return f===null?l(f):we(f)?e.check(oD,u,l)(f):(e.consume(f),a)}function l(f){return e.exit("chunkContent"),e.exit("content"),t(f)}function u(f){return e.consume(f),e.exit("chunkContent"),n.next=e.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,a}}function lD(e,t,n){const r=this;return a;function a(u){return e.exit("chunkContent"),e.enter("lineEnding"),e.consume(u),e.exit("lineEnding"),Ge(e,l,"linePrefix")}function l(u){if(u===null||we(u))return n(u);const f=r.events[r.events.length-1];return!r.parser.constructs.disable.null.includes("codeIndented")&&f&&f[1].type==="linePrefix"&&f[2].sliceSerialize(f[1],!0).length>=4?t(u):e.interrupt(r.parser.constructs.flow,n,t)(u)}}function k1(e,t,n,r,a,l,u,f,h){const d=h||Number.POSITIVE_INFINITY;let m=0;return y;function y(I){return I===60?(e.enter(r),e.enter(a),e.enter(l),e.consume(I),e.exit(l),T):I===null||I===32||I===41||Su(I)?n(I):(e.enter(r),e.enter(u),e.enter(f),e.enter("chunkString",{contentType:"string"}),M(I))}function T(I){return I===62?(e.enter(l),e.consume(I),e.exit(l),e.exit(a),e.exit(r),t):(e.enter(f),e.enter("chunkString",{contentType:"string"}),S(I))}function S(I){return I===62?(e.exit("chunkString"),e.exit(f),T(I)):I===null||I===60||we(I)?n(I):(e.consume(I),I===92?A:S)}function A(I){return I===60||I===62||I===92?(e.consume(I),S):S(I)}function M(I){return!m&&(I===null||I===41||it(I))?(e.exit("chunkString"),e.exit(f),e.exit(u),e.exit(r),t(I)):m<d&&I===40?(e.consume(I),m++,M):I===41?(e.consume(I),m--,M):I===null||I===32||I===40||Su(I)?n(I):(e.consume(I),I===92?R:M)}function R(I){return I===40||I===41||I===92?(e.consume(I),M):M(I)}}function I1(e,t,n,r,a,l){const u=this;let f=0,h;return d;function d(S){return e.enter(r),e.enter(a),e.consume(S),e.exit(a),e.enter(l),m}function m(S){return f>999||S===null||S===91||S===93&&!h||S===94&&!f&&"_hiddenFootnoteSupport"in u.parser.constructs?n(S):S===93?(e.exit(l),e.enter(a),e.consume(S),e.exit(a),e.exit(r),t):we(S)?(e.enter("lineEnding"),e.consume(S),e.exit("lineEnding"),m):(e.enter("chunkString",{contentType:"string"}),y(S))}function y(S){return S===null||S===91||S===93||we(S)||f++>999?(e.exit("chunkString"),m(S)):(e.consume(S),h||(h=!ze(S)),S===92?T:y)}function T(S){return S===91||S===92||S===93?(e.consume(S),f++,y):y(S)}}function N1(e,t,n,r,a,l){let u;return f;function f(T){return T===34||T===39||T===40?(e.enter(r),e.enter(a),e.consume(T),e.exit(a),u=T===40?41:T,h):n(T)}function h(T){return T===u?(e.enter(a),e.consume(T),e.exit(a),e.exit(r),t):(e.enter(l),d(T))}function d(T){return T===u?(e.exit(l),h(u)):T===null?n(T):we(T)?(e.enter("lineEnding"),e.consume(T),e.exit("lineEnding"),Ge(e,d,"linePrefix")):(e.enter("chunkString",{contentType:"string"}),m(T))}function m(T){return T===u||T===null||we(T)?(e.exit("chunkString"),d(T)):(e.consume(T),T===92?y:m)}function y(T){return T===u||T===92?(e.consume(T),m):m(T)}}function ls(e,t){let n;return r;function r(a){return we(a)?(e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),n=!0,r):ze(a)?Ge(e,r,n?"linePrefix":"lineSuffix")(a):t(a)}}const uD={name:"definition",tokenize:fD},cD={partial:!0,tokenize:dD};function fD(e,t,n){const r=this;let a;return l;function l(S){return e.enter("definition"),u(S)}function u(S){return I1.call(r,e,f,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(S)}function f(S){return a=Gn(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)),S===58?(e.enter("definitionMarker"),e.consume(S),e.exit("definitionMarker"),h):n(S)}function h(S){return it(S)?ls(e,d)(S):d(S)}function d(S){return k1(e,m,n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(S)}function m(S){return e.attempt(cD,y,y)(S)}function y(S){return ze(S)?Ge(e,T,"whitespace")(S):T(S)}function T(S){return S===null||we(S)?(e.exit("definition"),r.parser.defined.push(a),t(S)):n(S)}}function dD(e,t,n){return r;function r(f){return it(f)?ls(e,a)(f):n(f)}function a(f){return N1(e,l,n,"definitionTitle","definitionTitleMarker","definitionTitleString")(f)}function l(f){return ze(f)?Ge(e,u,"whitespace")(f):u(f)}function u(f){return f===null||we(f)?t(f):n(f)}}const hD={name:"hardBreakEscape",tokenize:mD};function mD(e,t,n){return r;function r(l){return e.enter("hardBreakEscape"),e.consume(l),a}function a(l){return we(l)?(e.exit("hardBreakEscape"),t(l)):n(l)}}const pD={name:"headingAtx",resolve:gD,tokenize:yD};function gD(e,t){let n=e.length-2,r=3,a,l;return e[r][1].type==="whitespace"&&(r+=2),n-2>r&&e[n][1].type==="whitespace"&&(n-=2),e[n][1].type==="atxHeadingSequence"&&(r===n-1||n-4>r&&e[n-2][1].type==="whitespace")&&(n-=r+1===n?2:4),n>r&&(a={type:"atxHeadingText",start:e[r][1].start,end:e[n][1].end},l={type:"chunkText",start:e[r][1].start,end:e[n][1].end,contentType:"text"},bn(e,r,n-r+1,[["enter",a,t],["enter",l,t],["exit",l,t],["exit",a,t]])),e}function yD(e,t,n){let r=0;return a;function a(m){return e.enter("atxHeading"),l(m)}function l(m){return e.enter("atxHeadingSequence"),u(m)}function u(m){return m===35&&r++<6?(e.consume(m),u):m===null||it(m)?(e.exit("atxHeadingSequence"),f(m)):n(m)}function f(m){return m===35?(e.enter("atxHeadingSequence"),h(m)):m===null||we(m)?(e.exit("atxHeading"),t(m)):ze(m)?Ge(e,f,"whitespace")(m):(e.enter("atxHeadingText"),d(m))}function h(m){return m===35?(e.consume(m),h):(e.exit("atxHeadingSequence"),f(m))}function d(m){return m===null||m===35||it(m)?(e.exit("atxHeadingText"),f(m)):(e.consume(m),d)}}const xD=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],qx=["pre","script","style","textarea"],vD={concrete:!0,name:"htmlFlow",resolveTo:SD,tokenize:CD},bD={partial:!0,tokenize:AD},TD={partial:!0,tokenize:wD};function SD(e){let t=e.length;for(;t--&&!(e[t][0]==="enter"&&e[t][1].type==="htmlFlow"););return t>1&&e[t-2][1].type==="linePrefix"&&(e[t][1].start=e[t-2][1].start,e[t+1][1].start=e[t-2][1].start,e.splice(t-2,2)),e}function CD(e,t,n){const r=this;let a,l,u,f,h;return d;function d(k){return m(k)}function m(k){return e.enter("htmlFlow"),e.enter("htmlFlowData"),e.consume(k),y}function y(k){return k===33?(e.consume(k),T):k===47?(e.consume(k),l=!0,M):k===63?(e.consume(k),a=3,r.interrupt?t:C):Qt(k)?(e.consume(k),u=String.fromCharCode(k),R):n(k)}function T(k){return k===45?(e.consume(k),a=2,S):k===91?(e.consume(k),a=5,f=0,A):Qt(k)?(e.consume(k),a=4,r.interrupt?t:C):n(k)}function S(k){return k===45?(e.consume(k),r.interrupt?t:C):n(k)}function A(k){const J="CDATA[";return k===J.charCodeAt(f++)?(e.consume(k),f===J.length?r.interrupt?t:fe:A):n(k)}function M(k){return Qt(k)?(e.consume(k),u=String.fromCharCode(k),R):n(k)}function R(k){if(k===null||k===47||k===62||it(k)){const J=k===47,O=u.toLowerCase();return!J&&!l&&qx.includes(O)?(a=1,r.interrupt?t(k):fe(k)):xD.includes(u.toLowerCase())?(a=6,J?(e.consume(k),I):r.interrupt?t(k):fe(k)):(a=7,r.interrupt&&!r.parser.lazy[r.now().line]?n(k):l?P(k):N(k))}return k===45||qt(k)?(e.consume(k),u+=String.fromCharCode(k),R):n(k)}function I(k){return k===62?(e.consume(k),r.interrupt?t:fe):n(k)}function P(k){return ze(k)?(e.consume(k),P):F(k)}function N(k){return k===47?(e.consume(k),F):k===58||k===95||Qt(k)?(e.consume(k),j):ze(k)?(e.consume(k),N):F(k)}function j(k){return k===45||k===46||k===58||k===95||qt(k)?(e.consume(k),j):H(k)}function H(k){return k===61?(e.consume(k),U):ze(k)?(e.consume(k),H):N(k)}function U(k){return k===null||k===60||k===61||k===62||k===96?n(k):k===34||k===39?(e.consume(k),h=k,ie):ze(k)?(e.consume(k),U):le(k)}function ie(k){return k===h?(e.consume(k),h=null,pe):k===null||we(k)?n(k):(e.consume(k),ie)}function le(k){return k===null||k===34||k===39||k===47||k===60||k===61||k===62||k===96||it(k)?H(k):(e.consume(k),le)}function pe(k){return k===47||k===62||ze(k)?N(k):n(k)}function F(k){return k===62?(e.consume(k),ue):n(k)}function ue(k){return k===null||we(k)?fe(k):ze(k)?(e.consume(k),ue):n(k)}function fe(k){return k===45&&a===2?(e.consume(k),$):k===60&&a===1?(e.consume(k),L):k===62&&a===4?(e.consume(k),B):k===63&&a===3?(e.consume(k),C):k===93&&a===5?(e.consume(k),_):we(k)&&(a===6||a===7)?(e.exit("htmlFlowData"),e.check(bD,q,W)(k)):k===null||we(k)?(e.exit("htmlFlowData"),W(k)):(e.consume(k),fe)}function W(k){return e.check(TD,ae,q)(k)}function ae(k){return e.enter("lineEnding"),e.consume(k),e.exit("lineEnding"),me}function me(k){return k===null||we(k)?W(k):(e.enter("htmlFlowData"),fe(k))}function $(k){return k===45?(e.consume(k),C):fe(k)}function L(k){return k===47?(e.consume(k),u="",D):fe(k)}function D(k){if(k===62){const J=u.toLowerCase();return qx.includes(J)?(e.consume(k),B):fe(k)}return Qt(k)&&u.length<8?(e.consume(k),u+=String.fromCharCode(k),D):fe(k)}function _(k){return k===93?(e.consume(k),C):fe(k)}function C(k){return k===62?(e.consume(k),B):k===45&&a===2?(e.consume(k),C):fe(k)}function B(k){return k===null||we(k)?(e.exit("htmlFlowData"),q(k)):(e.consume(k),B)}function q(k){return e.exit("htmlFlow"),t(k)}}function wD(e,t,n){const r=this;return a;function a(u){return we(u)?(e.enter("lineEnding"),e.consume(u),e.exit("lineEnding"),l):n(u)}function l(u){return r.parser.lazy[r.now().line]?n(u):t(u)}}function AD(e,t,n){return r;function r(a){return e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),e.attempt(Ds,t,n)}}const ED={name:"htmlText",tokenize:MD};function MD(e,t,n){const r=this;let a,l,u;return f;function f(C){return e.enter("htmlText"),e.enter("htmlTextData"),e.consume(C),h}function h(C){return C===33?(e.consume(C),d):C===47?(e.consume(C),H):C===63?(e.consume(C),N):Qt(C)?(e.consume(C),le):n(C)}function d(C){return C===45?(e.consume(C),m):C===91?(e.consume(C),l=0,A):Qt(C)?(e.consume(C),P):n(C)}function m(C){return C===45?(e.consume(C),S):n(C)}function y(C){return C===null?n(C):C===45?(e.consume(C),T):we(C)?(u=y,L(C)):(e.consume(C),y)}function T(C){return C===45?(e.consume(C),S):y(C)}function S(C){return C===62?$(C):C===45?T(C):y(C)}function A(C){const B="CDATA[";return C===B.charCodeAt(l++)?(e.consume(C),l===B.length?M:A):n(C)}function M(C){return C===null?n(C):C===93?(e.consume(C),R):we(C)?(u=M,L(C)):(e.consume(C),M)}function R(C){return C===93?(e.consume(C),I):M(C)}function I(C){return C===62?$(C):C===93?(e.consume(C),I):M(C)}function P(C){return C===null||C===62?$(C):we(C)?(u=P,L(C)):(e.consume(C),P)}function N(C){return C===null?n(C):C===63?(e.consume(C),j):we(C)?(u=N,L(C)):(e.consume(C),N)}function j(C){return C===62?$(C):N(C)}function H(C){return Qt(C)?(e.consume(C),U):n(C)}function U(C){return C===45||qt(C)?(e.consume(C),U):ie(C)}function ie(C){return we(C)?(u=ie,L(C)):ze(C)?(e.consume(C),ie):$(C)}function le(C){return C===45||qt(C)?(e.consume(C),le):C===47||C===62||it(C)?pe(C):n(C)}function pe(C){return C===47?(e.consume(C),$):C===58||C===95||Qt(C)?(e.consume(C),F):we(C)?(u=pe,L(C)):ze(C)?(e.consume(C),pe):$(C)}function F(C){return C===45||C===46||C===58||C===95||qt(C)?(e.consume(C),F):ue(C)}function ue(C){return C===61?(e.consume(C),fe):we(C)?(u=ue,L(C)):ze(C)?(e.consume(C),ue):pe(C)}function fe(C){return C===null||C===60||C===61||C===62||C===96?n(C):C===34||C===39?(e.consume(C),a=C,W):we(C)?(u=fe,L(C)):ze(C)?(e.consume(C),fe):(e.consume(C),ae)}function W(C){return C===a?(e.consume(C),a=void 0,me):C===null?n(C):we(C)?(u=W,L(C)):(e.consume(C),W)}function ae(C){return C===null||C===34||C===39||C===60||C===61||C===96?n(C):C===47||C===62||it(C)?pe(C):(e.consume(C),ae)}function me(C){return C===47||C===62||it(C)?pe(C):n(C)}function $(C){return C===62?(e.consume(C),e.exit("htmlTextData"),e.exit("htmlText"),t):n(C)}function L(C){return e.exit("htmlTextData"),e.enter("lineEnding"),e.consume(C),e.exit("lineEnding"),D}function D(C){return ze(C)?Ge(e,_,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(C):_(C)}function _(C){return e.enter("htmlTextData"),u(C)}}const jh={name:"labelEnd",resolveAll:DD,resolveTo:RD,tokenize:_D},kD={tokenize:VD},ID={tokenize:PD},ND={tokenize:LD};function DD(e){let t=-1;const n=[];for(;++t<e.length;){const r=e[t][1];if(n.push(e[t]),r.type==="labelImage"||r.type==="labelLink"||r.type==="labelEnd"){const a=r.type==="labelImage"?4:2;r.type="data",t+=a}}return e.length!==n.length&&bn(e,0,e.length,n),e}function RD(e,t){let n=e.length,r=0,a,l,u,f;for(;n--;)if(a=e[n][1],l){if(a.type==="link"||a.type==="labelLink"&&a._inactive)break;e[n][0]==="enter"&&a.type==="labelLink"&&(a._inactive=!0)}else if(u){if(e[n][0]==="enter"&&(a.type==="labelImage"||a.type==="labelLink")&&!a._balanced&&(l=n,a.type!=="labelLink")){r=2;break}}else a.type==="labelEnd"&&(u=n);const h={type:e[l][1].type==="labelLink"?"link":"image",start:{...e[l][1].start},end:{...e[e.length-1][1].end}},d={type:"label",start:{...e[l][1].start},end:{...e[u][1].end}},m={type:"labelText",start:{...e[l+r+2][1].end},end:{...e[u-2][1].start}};return f=[["enter",h,t],["enter",d,t]],f=Vn(f,e.slice(l+1,l+r+3)),f=Vn(f,[["enter",m,t]]),f=Vn(f,Bu(t.parser.constructs.insideSpan.null,e.slice(l+r+4,u-3),t)),f=Vn(f,[["exit",m,t],e[u-2],e[u-1],["exit",d,t]]),f=Vn(f,e.slice(u+1)),f=Vn(f,[["exit",h,t]]),bn(e,l,e.length,f),e}function _D(e,t,n){const r=this;let a=r.events.length,l,u;for(;a--;)if((r.events[a][1].type==="labelImage"||r.events[a][1].type==="labelLink")&&!r.events[a][1]._balanced){l=r.events[a][1];break}return f;function f(T){return l?l._inactive?y(T):(u=r.parser.defined.includes(Gn(r.sliceSerialize({start:l.end,end:r.now()}))),e.enter("labelEnd"),e.enter("labelMarker"),e.consume(T),e.exit("labelMarker"),e.exit("labelEnd"),h):n(T)}function h(T){return T===40?e.attempt(kD,m,u?m:y)(T):T===91?e.attempt(ID,m,u?d:y)(T):u?m(T):y(T)}function d(T){return e.attempt(ND,m,y)(T)}function m(T){return t(T)}function y(T){return l._balanced=!0,n(T)}}function VD(e,t,n){return r;function r(y){return e.enter("resource"),e.enter("resourceMarker"),e.consume(y),e.exit("resourceMarker"),a}function a(y){return it(y)?ls(e,l)(y):l(y)}function l(y){return y===41?m(y):k1(e,u,f,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(y)}function u(y){return it(y)?ls(e,h)(y):m(y)}function f(y){return n(y)}function h(y){return y===34||y===39||y===40?N1(e,d,n,"resourceTitle","resourceTitleMarker","resourceTitleString")(y):m(y)}function d(y){return it(y)?ls(e,m)(y):m(y)}function m(y){return y===41?(e.enter("resourceMarker"),e.consume(y),e.exit("resourceMarker"),e.exit("resource"),t):n(y)}}function PD(e,t,n){const r=this;return a;function a(f){return I1.call(r,e,l,u,"reference","referenceMarker","referenceString")(f)}function l(f){return r.parser.defined.includes(Gn(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)))?t(f):n(f)}function u(f){return n(f)}}function LD(e,t,n){return r;function r(l){return e.enter("reference"),e.enter("referenceMarker"),e.consume(l),e.exit("referenceMarker"),a}function a(l){return l===93?(e.enter("referenceMarker"),e.consume(l),e.exit("referenceMarker"),e.exit("reference"),t):n(l)}}const BD={name:"labelStartImage",resolveAll:jh.resolveAll,tokenize:jD};function jD(e,t,n){const r=this;return a;function a(f){return e.enter("labelImage"),e.enter("labelImageMarker"),e.consume(f),e.exit("labelImageMarker"),l}function l(f){return f===91?(e.enter("labelMarker"),e.consume(f),e.exit("labelMarker"),e.exit("labelImage"),u):n(f)}function u(f){return f===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(f):t(f)}}const OD={name:"labelStartLink",resolveAll:jh.resolveAll,tokenize:zD};function zD(e,t,n){const r=this;return a;function a(u){return e.enter("labelLink"),e.enter("labelMarker"),e.consume(u),e.exit("labelMarker"),e.exit("labelLink"),l}function l(u){return u===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(u):t(u)}}const cd={name:"lineEnding",tokenize:FD};function FD(e,t){return n;function n(r){return e.enter("lineEnding"),e.consume(r),e.exit("lineEnding"),Ge(e,t,"linePrefix")}}const hu={name:"thematicBreak",tokenize:UD};function UD(e,t,n){let r=0,a;return l;function l(d){return e.enter("thematicBreak"),u(d)}function u(d){return a=d,f(d)}function f(d){return d===a?(e.enter("thematicBreakSequence"),h(d)):r>=3&&(d===null||we(d))?(e.exit("thematicBreak"),t(d)):n(d)}function h(d){return d===a?(e.consume(d),r++,h):(e.exit("thematicBreakSequence"),ze(d)?Ge(e,f,"whitespace")(d):f(d))}}const on={continuation:{tokenize:$D},exit:KD,name:"list",tokenize:qD},HD={partial:!0,tokenize:XD},GD={partial:!0,tokenize:YD};function qD(e,t,n){const r=this,a=r.events[r.events.length-1];let l=a&&a[1].type==="linePrefix"?a[2].sliceSerialize(a[1],!0).length:0,u=0;return f;function f(S){const A=r.containerState.type||(S===42||S===43||S===45?"listUnordered":"listOrdered");if(A==="listUnordered"?!r.containerState.marker||S===r.containerState.marker:Wd(S)){if(r.containerState.type||(r.containerState.type=A,e.enter(A,{_container:!0})),A==="listUnordered")return e.enter("listItemPrefix"),S===42||S===45?e.check(hu,n,d)(S):d(S);if(!r.interrupt||S===49)return e.enter("listItemPrefix"),e.enter("listItemValue"),h(S)}return n(S)}function h(S){return Wd(S)&&++u<10?(e.consume(S),h):(!r.interrupt||u<2)&&(r.containerState.marker?S===r.containerState.marker:S===41||S===46)?(e.exit("listItemValue"),d(S)):n(S)}function d(S){return e.enter("listItemMarker"),e.consume(S),e.exit("listItemMarker"),r.containerState.marker=r.containerState.marker||S,e.check(Ds,r.interrupt?n:m,e.attempt(HD,T,y))}function m(S){return r.containerState.initialBlankLine=!0,l++,T(S)}function y(S){return ze(S)?(e.enter("listItemPrefixWhitespace"),e.consume(S),e.exit("listItemPrefixWhitespace"),T):n(S)}function T(S){return r.containerState.size=l+r.sliceSerialize(e.exit("listItemPrefix"),!0).length,t(S)}}function $D(e,t,n){const r=this;return r.containerState._closeFlow=void 0,e.check(Ds,a,l);function a(f){return r.containerState.furtherBlankLines=r.containerState.furtherBlankLines||r.containerState.initialBlankLine,Ge(e,t,"listItemIndent",r.containerState.size+1)(f)}function l(f){return r.containerState.furtherBlankLines||!ze(f)?(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,u(f)):(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,e.attempt(GD,t,u)(f))}function u(f){return r.containerState._closeFlow=!0,r.interrupt=void 0,Ge(e,e.attempt(on,t,n),"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(f)}}function YD(e,t,n){const r=this;return Ge(e,a,"listItemIndent",r.containerState.size+1);function a(l){const u=r.events[r.events.length-1];return u&&u[1].type==="listItemIndent"&&u[2].sliceSerialize(u[1],!0).length===r.containerState.size?t(l):n(l)}}function KD(e){e.exit(this.containerState.type)}function XD(e,t,n){const r=this;return Ge(e,a,"listItemPrefixWhitespace",r.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function a(l){const u=r.events[r.events.length-1];return!ze(l)&&u&&u[1].type==="listItemPrefixWhitespace"?t(l):n(l)}}const $x={name:"setextUnderline",resolveTo:QD,tokenize:JD};function QD(e,t){let n=e.length,r,a,l;for(;n--;)if(e[n][0]==="enter"){if(e[n][1].type==="content"){r=n;break}e[n][1].type==="paragraph"&&(a=n)}else e[n][1].type==="content"&&e.splice(n,1),!l&&e[n][1].type==="definition"&&(l=n);const u={type:"setextHeading",start:{...e[r][1].start},end:{...e[e.length-1][1].end}};return e[a][1].type="setextHeadingText",l?(e.splice(a,0,["enter",u,t]),e.splice(l+1,0,["exit",e[r][1],t]),e[r][1].end={...e[l][1].end}):e[r][1]=u,e.push(["exit",u,t]),e}function JD(e,t,n){const r=this;let a;return l;function l(d){let m=r.events.length,y;for(;m--;)if(r.events[m][1].type!=="lineEnding"&&r.events[m][1].type!=="linePrefix"&&r.events[m][1].type!=="content"){y=r.events[m][1].type==="paragraph";break}return!r.parser.lazy[r.now().line]&&(r.interrupt||y)?(e.enter("setextHeadingLine"),a=d,u(d)):n(d)}function u(d){return e.enter("setextHeadingLineSequence"),f(d)}function f(d){return d===a?(e.consume(d),f):(e.exit("setextHeadingLineSequence"),ze(d)?Ge(e,h,"lineSuffix")(d):h(d))}function h(d){return d===null||we(d)?(e.exit("setextHeadingLine"),t(d)):n(d)}}const ZD={tokenize:WD};function WD(e){const t=this,n=e.attempt(Ds,r,e.attempt(this.parser.constructs.flowInitial,a,Ge(e,e.attempt(this.parser.constructs.flow,a,e.attempt(rD,a)),"linePrefix")));return n;function r(l){if(l===null){e.consume(l);return}return e.enter("lineEndingBlank"),e.consume(l),e.exit("lineEndingBlank"),t.currentConstruct=void 0,n}function a(l){if(l===null){e.consume(l);return}return e.enter("lineEnding"),e.consume(l),e.exit("lineEnding"),t.currentConstruct=void 0,n}}const eR={resolveAll:R1()},tR=D1("string"),nR=D1("text");function D1(e){return{resolveAll:R1(e==="text"?iR:void 0),tokenize:t};function t(n){const r=this,a=this.parser.constructs[e],l=n.attempt(a,u,f);return u;function u(m){return d(m)?l(m):f(m)}function f(m){if(m===null){n.consume(m);return}return n.enter("data"),n.consume(m),h}function h(m){return d(m)?(n.exit("data"),l(m)):(n.consume(m),h)}function d(m){if(m===null)return!0;const y=a[m];let T=-1;if(y)for(;++T<y.length;){const S=y[T];if(!S.previous||S.previous.call(r,r.previous))return!0}return!1}}}function R1(e){return t;function t(n,r){let a=-1,l;for(;++a<=n.length;)l===void 0?n[a]&&n[a][1].type==="data"&&(l=a,a++):(!n[a]||n[a][1].type!=="data")&&(a!==l+2&&(n[l][1].end=n[a-1][1].end,n.splice(l+2,a-l-2),a=l+2),l=void 0);return e?e(n,r):n}}function iR(e,t){let n=0;for(;++n<=e.length;)if((n===e.length||e[n][1].type==="lineEnding")&&e[n-1][1].type==="data"){const r=e[n-1][1],a=t.sliceStream(r);let l=a.length,u=-1,f=0,h;for(;l--;){const d=a[l];if(typeof d=="string"){for(u=d.length;d.charCodeAt(u-1)===32;)f++,u--;if(u)break;u=-1}else if(d===-2)h=!0,f++;else if(d!==-1){l++;break}}if(t._contentTypeTextTrailing&&n===e.length&&(f=0),f){const d={type:n===e.length||h||f<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:l?u:r.start._bufferIndex+u,_index:r.start._index+l,line:r.end.line,column:r.end.column-f,offset:r.end.offset-f},end:{...r.end}};r.end={...d.start},r.start.offset===r.end.offset?Object.assign(r,d):(e.splice(n,0,["enter",d,t],["exit",d,t]),n+=2)}n++}return e}const rR={42:on,43:on,45:on,48:on,49:on,50:on,51:on,52:on,53:on,54:on,55:on,56:on,57:on,62:w1},oR={91:uD},aR={[-2]:ud,[-1]:ud,32:ud},sR={35:pD,42:hu,45:[$x,hu],60:vD,61:$x,95:hu,96:Gx,126:Gx},lR={38:E1,92:A1},uR={[-5]:cd,[-4]:cd,[-3]:cd,33:BD,38:E1,42:eh,60:[O2,ED],91:OD,92:[hD,A1],93:jh,95:eh,96:Z2},cR={null:[eh,eR]},fR={null:[42,95]},dR={null:[]},hR=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:fR,contentInitial:oR,disable:dR,document:rR,flow:sR,flowInitial:aR,insideSpan:cR,string:lR,text:uR},Symbol.toStringTag,{value:"Module"}));function mR(e,t,n){let r={_bufferIndex:-1,_index:0,line:n&&n.line||1,column:n&&n.column||1,offset:n&&n.offset||0};const a={},l=[];let u=[],f=[];const h={attempt:ie(H),check:ie(U),consume:P,enter:N,exit:j,interrupt:ie(U,{interrupt:!0})},d={code:null,containerState:{},defineSkip:M,events:[],now:A,parser:e,previous:null,sliceSerialize:T,sliceStream:S,write:y};let m=t.tokenize.call(d,h);return t.resolveAll&&l.push(t),d;function y(ue){return u=Vn(u,ue),R(),u[u.length-1]!==null?[]:(le(t,0),d.events=Bu(l,d.events,d),d.events)}function T(ue,fe){return gR(S(ue),fe)}function S(ue){return pR(u,ue)}function A(){const{_bufferIndex:ue,_index:fe,line:W,column:ae,offset:me}=r;return{_bufferIndex:ue,_index:fe,line:W,column:ae,offset:me}}function M(ue){a[ue.line]=ue.column,F()}function R(){let ue;for(;r._index<u.length;){const fe=u[r._index];if(typeof fe=="string")for(ue=r._index,r._bufferIndex<0&&(r._bufferIndex=0);r._index===ue&&r._bufferIndex<fe.length;)I(fe.charCodeAt(r._bufferIndex));else I(fe)}}function I(ue){m=m(ue)}function P(ue){we(ue)?(r.line++,r.column=1,r.offset+=ue===-3?2:1,F()):ue!==-1&&(r.column++,r.offset++),r._bufferIndex<0?r._index++:(r._bufferIndex++,r._bufferIndex===u[r._index].length&&(r._bufferIndex=-1,r._index++)),d.previous=ue}function N(ue,fe){const W=fe||{};return W.type=ue,W.start=A(),d.events.push(["enter",W,d]),f.push(W),W}function j(ue){const fe=f.pop();return fe.end=A(),d.events.push(["exit",fe,d]),fe}function H(ue,fe){le(ue,fe.from)}function U(ue,fe){fe.restore()}function ie(ue,fe){return W;function W(ae,me,$){let L,D,_,C;return Array.isArray(ae)?q(ae):"tokenize"in ae?q([ae]):B(ae);function B(re){return ye;function ye(he){const Se=he!==null&&re[he],Ne=he!==null&&re.null,be=[...Array.isArray(Se)?Se:Se?[Se]:[],...Array.isArray(Ne)?Ne:Ne?[Ne]:[]];return q(be)(he)}}function q(re){return L=re,D=0,re.length===0?$:k(re[D])}function k(re){return ye;function ye(he){return C=pe(),_=re,re.partial||(d.currentConstruct=re),re.name&&d.parser.constructs.disable.null.includes(re.name)?O():re.tokenize.call(fe?Object.assign(Object.create(d),fe):d,h,J,O)(he)}}function J(re){return ue(_,C),me}function O(re){return C.restore(),++D<L.length?k(L[D]):$}}}function le(ue,fe){ue.resolveAll&&!l.includes(ue)&&l.push(ue),ue.resolve&&bn(d.events,fe,d.events.length-fe,ue.resolve(d.events.slice(fe),d)),ue.resolveTo&&(d.events=ue.resolveTo(d.events,d))}function pe(){const ue=A(),fe=d.previous,W=d.currentConstruct,ae=d.events.length,me=Array.from(f);return{from:ae,restore:$};function $(){r=ue,d.previous=fe,d.currentConstruct=W,d.events.length=ae,f=me,F()}}function F(){r.line in a&&r.column<2&&(r.column=a[r.line],r.offset+=a[r.line]-1)}}function pR(e,t){const n=t.start._index,r=t.start._bufferIndex,a=t.end._index,l=t.end._bufferIndex;let u;if(n===a)u=[e[n].slice(r,l)];else{if(u=e.slice(n,a),r>-1){const f=u[0];typeof f=="string"?u[0]=f.slice(r):u.shift()}l>0&&u.push(e[a].slice(0,l))}return u}function gR(e,t){let n=-1;const r=[];let a;for(;++n<e.length;){const l=e[n];let u;if(typeof l=="string")u=l;else switch(l){case-5:{u="\r";break}case-4:{u=`
`;break}case-3:{u=`\r
`;break}case-2:{u=t?" ":"	";break}case-1:{if(!t&&a)continue;u=" ";break}default:u=String.fromCharCode(l)}a=l===-2,r.push(u)}return r.join("")}function yR(e){const r={constructs:S1([hR,...(e||{}).extensions||[]]),content:a(R2),defined:[],document:a(V2),flow:a(ZD),lazy:{},string:a(tR),text:a(nR)};return r;function a(l){return u;function u(f){return mR(r,l,f)}}}function xR(e){for(;!M1(e););return e}const Yx=/[\0\t\n\r]/g;function vR(){let e=1,t="",n=!0,r;return a;function a(l,u,f){const h=[];let d,m,y,T,S;for(l=t+(typeof l=="string"?l.toString():new TextDecoder(u||void 0).decode(l)),y=0,t="",n&&(l.charCodeAt(0)===65279&&y++,n=void 0);y<l.length;){if(Yx.lastIndex=y,d=Yx.exec(l),T=d&&d.index!==void 0?d.index:l.length,S=l.charCodeAt(T),!d){t=l.slice(y);break}if(S===10&&y===T&&r)h.push(-3),r=void 0;else switch(r&&(h.push(-5),r=void 0),y<T&&(h.push(l.slice(y,T)),e+=T-y),S){case 0:{h.push(65533),e++;break}case 9:{for(m=Math.ceil(e/4)*4,h.push(-2);e++<m;)h.push(-1);break}case 10:{h.push(-4),e=1;break}default:r=!0,e=1}y=T+1}return f&&(r&&h.push(-5),t&&h.push(t),h.push(null)),h}}const bR=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function TR(e){return e.replace(bR,SR)}function SR(e,t,n){if(t)return t;if(n.charCodeAt(0)===35){const a=n.charCodeAt(1),l=a===120||a===88;return C1(n.slice(l?2:1),l?16:10)}return Bh(n)||e}const _1={}.hasOwnProperty;function CR(e,t,n){return typeof t!="string"&&(n=t,t=void 0),wR(n)(xR(yR(n).document().write(vR()(e,t,!0))))}function wR(e){const t={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:l(Et),autolinkProtocol:pe,autolinkEmail:pe,atxHeading:l(_t),blockQuote:l(Ne),characterEscape:pe,characterReference:pe,codeFenced:l(be),codeFencedFenceInfo:u,codeFencedFenceMeta:u,codeIndented:l(be,u),codeText:l(qe,u),codeTextData:pe,data:pe,codeFlowValue:pe,definition:l(Ve),definitionDestinationString:u,definitionLabelString:u,definitionTitleString:u,emphasis:l(Fe),hardBreakEscape:l(bt),hardBreakTrailing:l(bt),htmlFlow:l(ft,u),htmlFlowData:pe,htmlText:l(ft,u),htmlTextData:pe,image:l(Hr),label:u,link:l(Et),listItem:l(ri),listItemValue:T,listOrdered:l(ii,y),listUnordered:l(ii),paragraph:l(Gr),reference:k,referenceString:u,resourceDestinationString:u,resourceTitleString:u,setextHeading:l(_t),strong:l(qr),thematicBreak:l(ur)},exit:{atxHeading:h(),atxHeadingSequence:H,autolink:h(),autolinkEmail:Se,autolinkProtocol:he,blockQuote:h(),characterEscapeValue:F,characterReferenceMarkerHexadecimal:O,characterReferenceMarkerNumeric:O,characterReferenceValue:re,characterReference:ye,codeFenced:h(R),codeFencedFence:M,codeFencedFenceInfo:S,codeFencedFenceMeta:A,codeFlowValue:F,codeIndented:h(I),codeText:h(me),codeTextData:F,data:F,definition:h(),definitionDestinationString:j,definitionLabelString:P,definitionTitleString:N,emphasis:h(),hardBreakEscape:h(fe),hardBreakTrailing:h(fe),htmlFlow:h(W),htmlFlowData:F,htmlText:h(ae),htmlTextData:F,image:h(L),label:_,labelText:D,lineEnding:ue,link:h($),listItem:h(),listOrdered:h(),listUnordered:h(),paragraph:h(),referenceString:J,resourceDestinationString:C,resourceTitleString:B,resource:q,setextHeading:h(le),setextHeadingLineSequence:ie,setextHeadingText:U,strong:h(),thematicBreak:h()}};V1(t,(e||{}).mdastExtensions||[]);const n={};return r;function r(ee){let ce={type:"root",children:[]};const Ce={stack:[ce],tokenStack:[],config:t,enter:f,exit:d,buffer:u,resume:m,data:n},Ae=[];let Ye=-1;for(;++Ye<ee.length;)if(ee[Ye][1].type==="listOrdered"||ee[Ye][1].type==="listUnordered")if(ee[Ye][0]==="enter")Ae.push(Ye);else{const jt=Ae.pop();Ye=a(ee,jt,Ye)}for(Ye=-1;++Ye<ee.length;){const jt=t[ee[Ye][0]];_1.call(jt,ee[Ye][1].type)&&jt[ee[Ye][1].type].call(Object.assign({sliceSerialize:ee[Ye][2].sliceSerialize},Ce),ee[Ye][1])}if(Ce.tokenStack.length>0){const jt=Ce.tokenStack[Ce.tokenStack.length-1];(jt[1]||Kx).call(Ce,void 0,jt[0])}for(ce.position={start:Ji(ee.length>0?ee[0][1].start:{line:1,column:1,offset:0}),end:Ji(ee.length>0?ee[ee.length-2][1].end:{line:1,column:1,offset:0})},Ye=-1;++Ye<t.transforms.length;)ce=t.transforms[Ye](ce)||ce;return ce}function a(ee,ce,Ce){let Ae=ce-1,Ye=-1,jt=!1,Ln,Ot,Tn,Kt;for(;++Ae<=Ce;){const gt=ee[Ae];switch(gt[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{gt[0]==="enter"?Ye++:Ye--,Kt=void 0;break}case"lineEndingBlank":{gt[0]==="enter"&&(Ln&&!Kt&&!Ye&&!Tn&&(Tn=Ae),Kt=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:Kt=void 0}if(!Ye&&gt[0]==="enter"&&gt[1].type==="listItemPrefix"||Ye===-1&&gt[0]==="exit"&&(gt[1].type==="listUnordered"||gt[1].type==="listOrdered")){if(Ln){let Zt=Ae;for(Ot=void 0;Zt--;){const un=ee[Zt];if(un[1].type==="lineEnding"||un[1].type==="lineEndingBlank"){if(un[0]==="exit")continue;Ot&&(ee[Ot][1].type="lineEndingBlank",jt=!0),un[1].type="lineEnding",Ot=Zt}else if(!(un[1].type==="linePrefix"||un[1].type==="blockQuotePrefix"||un[1].type==="blockQuotePrefixWhitespace"||un[1].type==="blockQuoteMarker"||un[1].type==="listItemIndent"))break}Tn&&(!Ot||Tn<Ot)&&(Ln._spread=!0),Ln.end=Object.assign({},Ot?ee[Ot][1].start:gt[1].end),ee.splice(Ot||Ae,0,["exit",Ln,gt[2]]),Ae++,Ce++}if(gt[1].type==="listItemPrefix"){const Zt={type:"listItem",_spread:!1,start:Object.assign({},gt[1].start),end:void 0};Ln=Zt,ee.splice(Ae,0,["enter",Zt,gt[2]]),Ae++,Ce++,Tn=void 0,Kt=!0}}}return ee[ce][1]._spread=jt,Ce}function l(ee,ce){return Ce;function Ce(Ae){f.call(this,ee(Ae),Ae),ce&&ce.call(this,Ae)}}function u(){this.stack.push({type:"fragment",children:[]})}function f(ee,ce,Ce){this.stack[this.stack.length-1].children.push(ee),this.stack.push(ee),this.tokenStack.push([ce,Ce||void 0]),ee.position={start:Ji(ce.start),end:void 0}}function h(ee){return ce;function ce(Ce){ee&&ee.call(this,Ce),d.call(this,Ce)}}function d(ee,ce){const Ce=this.stack.pop(),Ae=this.tokenStack.pop();if(Ae)Ae[0].type!==ee.type&&(ce?ce.call(this,ee,Ae[0]):(Ae[1]||Kx).call(this,ee,Ae[0]));else throw new Error("Cannot close `"+ee.type+"` ("+ss({start:ee.start,end:ee.end})+"): its not open");Ce.position.end=Ji(ee.end)}function m(){return Lh(this.stack.pop())}function y(){this.data.expectingFirstListItemValue=!0}function T(ee){if(this.data.expectingFirstListItemValue){const ce=this.stack[this.stack.length-2];ce.start=Number.parseInt(this.sliceSerialize(ee),10),this.data.expectingFirstListItemValue=void 0}}function S(){const ee=this.resume(),ce=this.stack[this.stack.length-1];ce.lang=ee}function A(){const ee=this.resume(),ce=this.stack[this.stack.length-1];ce.meta=ee}function M(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function R(){const ee=this.resume(),ce=this.stack[this.stack.length-1];ce.value=ee.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function I(){const ee=this.resume(),ce=this.stack[this.stack.length-1];ce.value=ee.replace(/(\r?\n|\r)$/g,"")}function P(ee){const ce=this.resume(),Ce=this.stack[this.stack.length-1];Ce.label=ce,Ce.identifier=Gn(this.sliceSerialize(ee)).toLowerCase()}function N(){const ee=this.resume(),ce=this.stack[this.stack.length-1];ce.title=ee}function j(){const ee=this.resume(),ce=this.stack[this.stack.length-1];ce.url=ee}function H(ee){const ce=this.stack[this.stack.length-1];if(!ce.depth){const Ce=this.sliceSerialize(ee).length;ce.depth=Ce}}function U(){this.data.setextHeadingSlurpLineEnding=!0}function ie(ee){const ce=this.stack[this.stack.length-1];ce.depth=this.sliceSerialize(ee).codePointAt(0)===61?1:2}function le(){this.data.setextHeadingSlurpLineEnding=void 0}function pe(ee){const Ce=this.stack[this.stack.length-1].children;let Ae=Ce[Ce.length-1];(!Ae||Ae.type!=="text")&&(Ae=$r(),Ae.position={start:Ji(ee.start),end:void 0},Ce.push(Ae)),this.stack.push(Ae)}function F(ee){const ce=this.stack.pop();ce.value+=this.sliceSerialize(ee),ce.position.end=Ji(ee.end)}function ue(ee){const ce=this.stack[this.stack.length-1];if(this.data.atHardBreak){const Ce=ce.children[ce.children.length-1];Ce.position.end=Ji(ee.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&t.canContainEols.includes(ce.type)&&(pe.call(this,ee),F.call(this,ee))}function fe(){this.data.atHardBreak=!0}function W(){const ee=this.resume(),ce=this.stack[this.stack.length-1];ce.value=ee}function ae(){const ee=this.resume(),ce=this.stack[this.stack.length-1];ce.value=ee}function me(){const ee=this.resume(),ce=this.stack[this.stack.length-1];ce.value=ee}function $(){const ee=this.stack[this.stack.length-1];if(this.data.inReference){const ce=this.data.referenceType||"shortcut";ee.type+="Reference",ee.referenceType=ce,delete ee.url,delete ee.title}else delete ee.identifier,delete ee.label;this.data.referenceType=void 0}function L(){const ee=this.stack[this.stack.length-1];if(this.data.inReference){const ce=this.data.referenceType||"shortcut";ee.type+="Reference",ee.referenceType=ce,delete ee.url,delete ee.title}else delete ee.identifier,delete ee.label;this.data.referenceType=void 0}function D(ee){const ce=this.sliceSerialize(ee),Ce=this.stack[this.stack.length-2];Ce.label=TR(ce),Ce.identifier=Gn(ce).toLowerCase()}function _(){const ee=this.stack[this.stack.length-1],ce=this.resume(),Ce=this.stack[this.stack.length-1];if(this.data.inReference=!0,Ce.type==="link"){const Ae=ee.children;Ce.children=Ae}else Ce.alt=ce}function C(){const ee=this.resume(),ce=this.stack[this.stack.length-1];ce.url=ee}function B(){const ee=this.resume(),ce=this.stack[this.stack.length-1];ce.title=ee}function q(){this.data.inReference=void 0}function k(){this.data.referenceType="collapsed"}function J(ee){const ce=this.resume(),Ce=this.stack[this.stack.length-1];Ce.label=ce,Ce.identifier=Gn(this.sliceSerialize(ee)).toLowerCase(),this.data.referenceType="full"}function O(ee){this.data.characterReferenceType=ee.type}function re(ee){const ce=this.sliceSerialize(ee),Ce=this.data.characterReferenceType;let Ae;Ce?(Ae=C1(ce,Ce==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):Ae=Bh(ce);const Ye=this.stack[this.stack.length-1];Ye.value+=Ae}function ye(ee){const ce=this.stack.pop();ce.position.end=Ji(ee.end)}function he(ee){F.call(this,ee);const ce=this.stack[this.stack.length-1];ce.url=this.sliceSerialize(ee)}function Se(ee){F.call(this,ee);const ce=this.stack[this.stack.length-1];ce.url="mailto:"+this.sliceSerialize(ee)}function Ne(){return{type:"blockquote",children:[]}}function be(){return{type:"code",lang:null,meta:null,value:""}}function qe(){return{type:"inlineCode",value:""}}function Ve(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function Fe(){return{type:"emphasis",children:[]}}function _t(){return{type:"heading",depth:0,children:[]}}function bt(){return{type:"break"}}function ft(){return{type:"html",value:""}}function Hr(){return{type:"image",title:null,url:"",alt:null}}function Et(){return{type:"link",title:null,url:"",children:[]}}function ii(ee){return{type:"list",ordered:ee.type==="listOrdered",start:null,spread:ee._spread,children:[]}}function ri(ee){return{type:"listItem",spread:ee._spread,checked:null,children:[]}}function Gr(){return{type:"paragraph",children:[]}}function qr(){return{type:"strong",children:[]}}function $r(){return{type:"text",value:""}}function ur(){return{type:"thematicBreak"}}}function Ji(e){return{line:e.line,column:e.column,offset:e.offset}}function V1(e,t){let n=-1;for(;++n<t.length;){const r=t[n];Array.isArray(r)?V1(e,r):AR(e,r)}}function AR(e,t){let n;for(n in t)if(_1.call(t,n))switch(n){case"canContainEols":{const r=t[n];r&&e[n].push(...r);break}case"transforms":{const r=t[n];r&&e[n].push(...r);break}case"enter":case"exit":{const r=t[n];r&&Object.assign(e[n],r);break}}}function Kx(e,t){throw e?new Error("Cannot close `"+e.type+"` ("+ss({start:e.start,end:e.end})+"): a different token (`"+t.type+"`, "+ss({start:t.start,end:t.end})+") is open"):new Error("Cannot close document, a token (`"+t.type+"`, "+ss({start:t.start,end:t.end})+") is still open")}function ER(e){const t=this;t.parser=n;function n(r){return CR(r,{...t.data("settings"),...e,extensions:t.data("micromarkExtensions")||[],mdastExtensions:t.data("fromMarkdownExtensions")||[]})}}function MR(e,t){const n={type:"element",tagName:"blockquote",properties:{},children:e.wrap(e.all(t),!0)};return e.patch(t,n),e.applyData(t,n)}function kR(e,t){const n={type:"element",tagName:"br",properties:{},children:[]};return e.patch(t,n),[e.applyData(t,n),{type:"text",value:`
`}]}function IR(e,t){const n=t.value?t.value+`
`:"",r={};t.lang&&(r.className=["language-"+t.lang]);let a={type:"element",tagName:"code",properties:r,children:[{type:"text",value:n}]};return t.meta&&(a.data={meta:t.meta}),e.patch(t,a),a=e.applyData(t,a),a={type:"element",tagName:"pre",properties:{},children:[a]},e.patch(t,a),a}function NR(e,t){const n={type:"element",tagName:"del",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function DR(e,t){const n={type:"element",tagName:"em",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function RR(e,t){const n=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",r=String(t.identifier).toUpperCase(),a=Yo(r.toLowerCase()),l=e.footnoteOrder.indexOf(r);let u,f=e.footnoteCounts.get(r);f===void 0?(f=0,e.footnoteOrder.push(r),u=e.footnoteOrder.length):u=l+1,f+=1,e.footnoteCounts.set(r,f);const h={type:"element",tagName:"a",properties:{href:"#"+n+"fn-"+a,id:n+"fnref-"+a+(f>1?"-"+f:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(u)}]};e.patch(t,h);const d={type:"element",tagName:"sup",properties:{},children:[h]};return e.patch(t,d),e.applyData(t,d)}function _R(e,t){const n={type:"element",tagName:"h"+t.depth,properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function VR(e,t){if(e.options.allowDangerousHtml){const n={type:"raw",value:t.value};return e.patch(t,n),e.applyData(t,n)}}function P1(e,t){const n=t.referenceType;let r="]";if(n==="collapsed"?r+="[]":n==="full"&&(r+="["+(t.label||t.identifier)+"]"),t.type==="imageReference")return[{type:"text",value:"!["+t.alt+r}];const a=e.all(t),l=a[0];l&&l.type==="text"?l.value="["+l.value:a.unshift({type:"text",value:"["});const u=a[a.length-1];return u&&u.type==="text"?u.value+=r:a.push({type:"text",value:r}),a}function PR(e,t){const n=String(t.identifier).toUpperCase(),r=e.definitionById.get(n);if(!r)return P1(e,t);const a={src:Yo(r.url||""),alt:t.alt};r.title!==null&&r.title!==void 0&&(a.title=r.title);const l={type:"element",tagName:"img",properties:a,children:[]};return e.patch(t,l),e.applyData(t,l)}function LR(e,t){const n={src:Yo(t.url)};t.alt!==null&&t.alt!==void 0&&(n.alt=t.alt),t.title!==null&&t.title!==void 0&&(n.title=t.title);const r={type:"element",tagName:"img",properties:n,children:[]};return e.patch(t,r),e.applyData(t,r)}function BR(e,t){const n={type:"text",value:t.value.replace(/\r?\n|\r/g," ")};e.patch(t,n);const r={type:"element",tagName:"code",properties:{},children:[n]};return e.patch(t,r),e.applyData(t,r)}function jR(e,t){const n=String(t.identifier).toUpperCase(),r=e.definitionById.get(n);if(!r)return P1(e,t);const a={href:Yo(r.url||"")};r.title!==null&&r.title!==void 0&&(a.title=r.title);const l={type:"element",tagName:"a",properties:a,children:e.all(t)};return e.patch(t,l),e.applyData(t,l)}function OR(e,t){const n={href:Yo(t.url)};t.title!==null&&t.title!==void 0&&(n.title=t.title);const r={type:"element",tagName:"a",properties:n,children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function zR(e,t,n){const r=e.all(t),a=n?FR(n):L1(t),l={},u=[];if(typeof t.checked=="boolean"){const m=r[0];let y;m&&m.type==="element"&&m.tagName==="p"?y=m:(y={type:"element",tagName:"p",properties:{},children:[]},r.unshift(y)),y.children.length>0&&y.children.unshift({type:"text",value:" "}),y.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:t.checked,disabled:!0},children:[]}),l.className=["task-list-item"]}let f=-1;for(;++f<r.length;){const m=r[f];(a||f!==0||m.type!=="element"||m.tagName!=="p")&&u.push({type:"text",value:`
`}),m.type==="element"&&m.tagName==="p"&&!a?u.push(...m.children):u.push(m)}const h=r[r.length-1];h&&(a||h.type!=="element"||h.tagName!=="p")&&u.push({type:"text",value:`
`});const d={type:"element",tagName:"li",properties:l,children:u};return e.patch(t,d),e.applyData(t,d)}function FR(e){let t=!1;if(e.type==="list"){t=e.spread||!1;const n=e.children;let r=-1;for(;!t&&++r<n.length;)t=L1(n[r])}return t}function L1(e){const t=e.spread;return t??e.children.length>1}function UR(e,t){const n={},r=e.all(t);let a=-1;for(typeof t.start=="number"&&t.start!==1&&(n.start=t.start);++a<r.length;){const u=r[a];if(u.type==="element"&&u.tagName==="li"&&u.properties&&Array.isArray(u.properties.className)&&u.properties.className.includes("task-list-item")){n.className=["contains-task-list"];break}}const l={type:"element",tagName:t.ordered?"ol":"ul",properties:n,children:e.wrap(r,!0)};return e.patch(t,l),e.applyData(t,l)}function HR(e,t){const n={type:"element",tagName:"p",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function GR(e,t){const n={type:"root",children:e.wrap(e.all(t))};return e.patch(t,n),e.applyData(t,n)}function qR(e,t){const n={type:"element",tagName:"strong",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function $R(e,t){const n=e.all(t),r=n.shift(),a=[];if(r){const u={type:"element",tagName:"thead",properties:{},children:e.wrap([r],!0)};e.patch(t.children[0],u),a.push(u)}if(n.length>0){const u={type:"element",tagName:"tbody",properties:{},children:e.wrap(n,!0)},f=Rh(t.children[1]),h=p1(t.children[t.children.length-1]);f&&h&&(u.position={start:f,end:h}),a.push(u)}const l={type:"element",tagName:"table",properties:{},children:e.wrap(a,!0)};return e.patch(t,l),e.applyData(t,l)}function YR(e,t,n){const r=n?n.children:void 0,l=(r?r.indexOf(t):1)===0?"th":"td",u=n&&n.type==="table"?n.align:void 0,f=u?u.length:t.children.length;let h=-1;const d=[];for(;++h<f;){const y=t.children[h],T={},S=u?u[h]:void 0;S&&(T.align=S);let A={type:"element",tagName:l,properties:T,children:[]};y&&(A.children=e.all(y),e.patch(y,A),A=e.applyData(y,A)),d.push(A)}const m={type:"element",tagName:"tr",properties:{},children:e.wrap(d,!0)};return e.patch(t,m),e.applyData(t,m)}function KR(e,t){const n={type:"element",tagName:"td",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}const Xx=9,Qx=32;function XR(e){const t=String(e),n=/\r?\n|\r/g;let r=n.exec(t),a=0;const l=[];for(;r;)l.push(Jx(t.slice(a,r.index),a>0,!0),r[0]),a=r.index+r[0].length,r=n.exec(t);return l.push(Jx(t.slice(a),a>0,!1)),l.join("")}function Jx(e,t,n){let r=0,a=e.length;if(t){let l=e.codePointAt(r);for(;l===Xx||l===Qx;)r++,l=e.codePointAt(r)}if(n){let l=e.codePointAt(a-1);for(;l===Xx||l===Qx;)a--,l=e.codePointAt(a-1)}return a>r?e.slice(r,a):""}function QR(e,t){const n={type:"text",value:XR(String(t.value))};return e.patch(t,n),e.applyData(t,n)}function JR(e,t){const n={type:"element",tagName:"hr",properties:{},children:[]};return e.patch(t,n),e.applyData(t,n)}const ZR={blockquote:MR,break:kR,code:IR,delete:NR,emphasis:DR,footnoteReference:RR,heading:_R,html:VR,imageReference:PR,image:LR,inlineCode:BR,linkReference:jR,link:OR,listItem:zR,list:UR,paragraph:HR,root:GR,strong:qR,table:$R,tableCell:KR,tableRow:YR,text:QR,thematicBreak:JR,toml:tu,yaml:tu,definition:tu,footnoteDefinition:tu};function tu(){}const B1=-1,ju=0,us=1,Cu=2,Oh=3,zh=4,Fh=5,Uh=6,j1=7,O1=8,Zx=typeof self=="object"?self:globalThis,WR=(e,t)=>{const n=(a,l)=>(e.set(l,a),a),r=a=>{if(e.has(a))return e.get(a);const[l,u]=t[a];switch(l){case ju:case B1:return n(u,a);case us:{const f=n([],a);for(const h of u)f.push(r(h));return f}case Cu:{const f=n({},a);for(const[h,d]of u)f[r(h)]=r(d);return f}case Oh:return n(new Date(u),a);case zh:{const{source:f,flags:h}=u;return n(new RegExp(f,h),a)}case Fh:{const f=n(new Map,a);for(const[h,d]of u)f.set(r(h),r(d));return f}case Uh:{const f=n(new Set,a);for(const h of u)f.add(r(h));return f}case j1:{const{name:f,message:h}=u;return n(new Zx[f](h),a)}case O1:return n(BigInt(u),a);case"BigInt":return n(Object(BigInt(u)),a);case"ArrayBuffer":return n(new Uint8Array(u).buffer,u);case"DataView":{const{buffer:f}=new Uint8Array(u);return n(new DataView(f),u)}}return n(new Zx[l](u),a)};return r},Wx=e=>WR(new Map,e)(0),Ro="",{toString:e_}={},{keys:t_}=Object,ts=e=>{const t=typeof e;if(t!=="object"||!e)return[ju,t];const n=e_.call(e).slice(8,-1);switch(n){case"Array":return[us,Ro];case"Object":return[Cu,Ro];case"Date":return[Oh,Ro];case"RegExp":return[zh,Ro];case"Map":return[Fh,Ro];case"Set":return[Uh,Ro];case"DataView":return[us,n]}return n.includes("Array")?[us,n]:n.includes("Error")?[j1,n]:[Cu,n]},nu=([e,t])=>e===ju&&(t==="function"||t==="symbol"),n_=(e,t,n,r)=>{const a=(u,f)=>{const h=r.push(u)-1;return n.set(f,h),h},l=u=>{if(n.has(u))return n.get(u);let[f,h]=ts(u);switch(f){case ju:{let m=u;switch(h){case"bigint":f=O1,m=u.toString();break;case"function":case"symbol":if(e)throw new TypeError("unable to serialize "+h);m=null;break;case"undefined":return a([B1],u)}return a([f,m],u)}case us:{if(h){let T=u;return h==="DataView"?T=new Uint8Array(u.buffer):h==="ArrayBuffer"&&(T=new Uint8Array(u)),a([h,[...T]],u)}const m=[],y=a([f,m],u);for(const T of u)m.push(l(T));return y}case Cu:{if(h)switch(h){case"BigInt":return a([h,u.toString()],u);case"Boolean":case"Number":case"String":return a([h,u.valueOf()],u)}if(t&&"toJSON"in u)return l(u.toJSON());const m=[],y=a([f,m],u);for(const T of t_(u))(e||!nu(ts(u[T])))&&m.push([l(T),l(u[T])]);return y}case Oh:return a([f,u.toISOString()],u);case zh:{const{source:m,flags:y}=u;return a([f,{source:m,flags:y}],u)}case Fh:{const m=[],y=a([f,m],u);for(const[T,S]of u)(e||!(nu(ts(T))||nu(ts(S))))&&m.push([l(T),l(S)]);return y}case Uh:{const m=[],y=a([f,m],u);for(const T of u)(e||!nu(ts(T)))&&m.push(l(T));return y}}const{message:d}=u;return a([f,{name:h,message:d}],u)};return l},ev=(e,{json:t,lossy:n}={})=>{const r=[];return n_(!(t||n),!!t,new Map,r)(e),r},wu=typeof structuredClone=="function"?(e,t)=>t&&("json"in t||"lossy"in t)?Wx(ev(e,t)):structuredClone(e):(e,t)=>Wx(ev(e,t));function i_(e,t){const n=[{type:"text",value:""}];return t>1&&n.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(t)}]}),n}function r_(e,t){return"Back to reference "+(e+1)+(t>1?"-"+t:"")}function o_(e){const t=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",n=e.options.footnoteBackContent||i_,r=e.options.footnoteBackLabel||r_,a=e.options.footnoteLabel||"Footnotes",l=e.options.footnoteLabelTagName||"h2",u=e.options.footnoteLabelProperties||{className:["sr-only"]},f=[];let h=-1;for(;++h<e.footnoteOrder.length;){const d=e.footnoteById.get(e.footnoteOrder[h]);if(!d)continue;const m=e.all(d),y=String(d.identifier).toUpperCase(),T=Yo(y.toLowerCase());let S=0;const A=[],M=e.footnoteCounts.get(y);for(;M!==void 0&&++S<=M;){A.length>0&&A.push({type:"text",value:" "});let P=typeof n=="string"?n:n(h,S);typeof P=="string"&&(P={type:"text",value:P}),A.push({type:"element",tagName:"a",properties:{href:"#"+t+"fnref-"+T+(S>1?"-"+S:""),dataFootnoteBackref:"",ariaLabel:typeof r=="string"?r:r(h,S),className:["data-footnote-backref"]},children:Array.isArray(P)?P:[P]})}const R=m[m.length-1];if(R&&R.type==="element"&&R.tagName==="p"){const P=R.children[R.children.length-1];P&&P.type==="text"?P.value+=" ":R.children.push({type:"text",value:" "}),R.children.push(...A)}else m.push(...A);const I={type:"element",tagName:"li",properties:{id:t+"fn-"+T},children:e.wrap(m,!0)};e.patch(d,I),f.push(I)}if(f.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:l,properties:{...wu(u),id:"footnote-label"},children:[{type:"text",value:a}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:e.wrap(f,!0)},{type:"text",value:`
`}]}}const Ou=function(e){if(e==null)return u_;if(typeof e=="function")return zu(e);if(typeof e=="object")return Array.isArray(e)?a_(e):s_(e);if(typeof e=="string")return l_(e);throw new Error("Expected function, string, or object as test")};function a_(e){const t=[];let n=-1;for(;++n<e.length;)t[n]=Ou(e[n]);return zu(r);function r(...a){let l=-1;for(;++l<t.length;)if(t[l].apply(this,a))return!0;return!1}}function s_(e){const t=e;return zu(n);function n(r){const a=r;let l;for(l in e)if(a[l]!==t[l])return!1;return!0}}function l_(e){return zu(t);function t(n){return n&&n.type===e}}function zu(e){return t;function t(n,r,a){return!!(c_(n)&&e.call(this,n,typeof r=="number"?r:void 0,a||void 0))}}function u_(){return!0}function c_(e){return e!==null&&typeof e=="object"&&"type"in e}const z1=[],f_=!0,th=!1,d_="skip";function F1(e,t,n,r){let a;typeof t=="function"&&typeof n!="function"?(r=n,n=t):a=t;const l=Ou(a),u=r?-1:1;f(e,void 0,[])();function f(h,d,m){const y=h&&typeof h=="object"?h:{};if(typeof y.type=="string"){const S=typeof y.tagName=="string"?y.tagName:typeof y.name=="string"?y.name:void 0;Object.defineProperty(T,"name",{value:"node ("+(h.type+(S?"<"+S+">":""))+")"})}return T;function T(){let S=z1,A,M,R;if((!t||l(h,d,m[m.length-1]||void 0))&&(S=h_(n(h,m)),S[0]===th))return S;if("children"in h&&h.children){const I=h;if(I.children&&S[0]!==d_)for(M=(r?I.children.length:-1)+u,R=m.concat(I);M>-1&&M<I.children.length;){const P=I.children[M];if(A=f(P,M,R)(),A[0]===th)return A;M=typeof A[1]=="number"?A[1]:M+u}}return S}}}function h_(e){return Array.isArray(e)?e:typeof e=="number"?[f_,e]:e==null?z1:[e]}function Hh(e,t,n,r){let a,l,u;typeof t=="function"&&typeof n!="function"?(l=void 0,u=t,a=n):(l=t,u=n,a=r),F1(e,l,f,a);function f(h,d){const m=d[d.length-1],y=m?m.children.indexOf(h):void 0;return u(h,y,m)}}const nh={}.hasOwnProperty,m_={};function p_(e,t){const n=t||m_,r=new Map,a=new Map,l=new Map,u={...ZR,...n.handlers},f={all:d,applyData:y_,definitionById:r,footnoteById:a,footnoteCounts:l,footnoteOrder:[],handlers:u,one:h,options:n,patch:g_,wrap:v_};return Hh(e,function(m){if(m.type==="definition"||m.type==="footnoteDefinition"){const y=m.type==="definition"?r:a,T=String(m.identifier).toUpperCase();y.has(T)||y.set(T,m)}}),f;function h(m,y){const T=m.type,S=f.handlers[T];if(nh.call(f.handlers,T)&&S)return S(f,m,y);if(f.options.passThrough&&f.options.passThrough.includes(T)){if("children"in m){const{children:M,...R}=m,I=wu(R);return I.children=f.all(m),I}return wu(m)}return(f.options.unknownHandler||x_)(f,m,y)}function d(m){const y=[];if("children"in m){const T=m.children;let S=-1;for(;++S<T.length;){const A=f.one(T[S],m);if(A){if(S&&T[S-1].type==="break"&&(!Array.isArray(A)&&A.type==="text"&&(A.value=tv(A.value)),!Array.isArray(A)&&A.type==="element")){const M=A.children[0];M&&M.type==="text"&&(M.value=tv(M.value))}Array.isArray(A)?y.push(...A):y.push(A)}}}return y}}function g_(e,t){e.position&&(t.position=r2(e))}function y_(e,t){let n=t;if(e&&e.data){const r=e.data.hName,a=e.data.hChildren,l=e.data.hProperties;if(typeof r=="string")if(n.type==="element")n.tagName=r;else{const u="children"in n?n.children:[n];n={type:"element",tagName:r,properties:{},children:u}}n.type==="element"&&l&&Object.assign(n.properties,wu(l)),"children"in n&&n.children&&a!==null&&a!==void 0&&(n.children=a)}return n}function x_(e,t){const n=t.data||{},r="value"in t&&!(nh.call(n,"hProperties")||nh.call(n,"hChildren"))?{type:"text",value:t.value}:{type:"element",tagName:"div",properties:{},children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function v_(e,t){const n=[];let r=-1;for(t&&n.push({type:"text",value:`
`});++r<e.length;)r&&n.push({type:"text",value:`
`}),n.push(e[r]);return t&&e.length>0&&n.push({type:"text",value:`
`}),n}function tv(e){let t=0,n=e.charCodeAt(t);for(;n===9||n===32;)t++,n=e.charCodeAt(t);return e.slice(t)}function nv(e,t){const n=p_(e,t),r=n.one(e,void 0),a=o_(n),l=Array.isArray(r)?{type:"root",children:r}:r||{type:"root",children:[]};return a&&l.children.push({type:"text",value:`
`},a),l}function b_(e,t){return e&&"run"in e?async function(n,r){const a=nv(n,{file:r,...t});await e.run(a,r)}:function(n,r){return nv(n,{file:r,...e||t})}}function iv(e){if(e)throw e}var fd,rv;function T_(){if(rv)return fd;rv=1;var e=Object.prototype.hasOwnProperty,t=Object.prototype.toString,n=Object.defineProperty,r=Object.getOwnPropertyDescriptor,a=function(d){return typeof Array.isArray=="function"?Array.isArray(d):t.call(d)==="[object Array]"},l=function(d){if(!d||t.call(d)!=="[object Object]")return!1;var m=e.call(d,"constructor"),y=d.constructor&&d.constructor.prototype&&e.call(d.constructor.prototype,"isPrototypeOf");if(d.constructor&&!m&&!y)return!1;var T;for(T in d);return typeof T>"u"||e.call(d,T)},u=function(d,m){n&&m.name==="__proto__"?n(d,m.name,{enumerable:!0,configurable:!0,value:m.newValue,writable:!0}):d[m.name]=m.newValue},f=function(d,m){if(m==="__proto__")if(e.call(d,m)){if(r)return r(d,m).value}else return;return d[m]};return fd=function h(){var d,m,y,T,S,A,M=arguments[0],R=1,I=arguments.length,P=!1;for(typeof M=="boolean"&&(P=M,M=arguments[1]||{},R=2),(M==null||typeof M!="object"&&typeof M!="function")&&(M={});R<I;++R)if(d=arguments[R],d!=null)for(m in d)y=f(M,m),T=f(d,m),M!==T&&(P&&T&&(l(T)||(S=a(T)))?(S?(S=!1,A=y&&a(y)?y:[]):A=y&&l(y)?y:{},u(M,{name:m,newValue:h(P,A,T)})):typeof T<"u"&&u(M,{name:m,newValue:T}));return M},fd}var S_=T_();const dd=ks(S_);function ih(e){if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function C_(){const e=[],t={run:n,use:r};return t;function n(...a){let l=-1;const u=a.pop();if(typeof u!="function")throw new TypeError("Expected function as last argument, not "+u);f(null,...a);function f(h,...d){const m=e[++l];let y=-1;if(h){u(h);return}for(;++y<a.length;)(d[y]===null||d[y]===void 0)&&(d[y]=a[y]);a=d,m?w_(m,f)(...d):u(null,...d)}}function r(a){if(typeof a!="function")throw new TypeError("Expected `middelware` to be a function, not "+a);return e.push(a),t}}function w_(e,t){let n;return r;function r(...u){const f=e.length>u.length;let h;f&&u.push(a);try{h=e.apply(this,u)}catch(d){const m=d;if(f&&n)throw m;return a(m)}f||(h&&h.then&&typeof h.then=="function"?h.then(l,a):h instanceof Error?a(h):l(h))}function a(u,...f){n||(n=!0,t(u,...f))}function l(u){a(null,u)}}const Zn={basename:A_,dirname:E_,extname:M_,join:k_,sep:"/"};function A_(e,t){if(t!==void 0&&typeof t!="string")throw new TypeError('"ext" argument must be a string');Rs(e);let n=0,r=-1,a=e.length,l;if(t===void 0||t.length===0||t.length>e.length){for(;a--;)if(e.codePointAt(a)===47){if(l){n=a+1;break}}else r<0&&(l=!0,r=a+1);return r<0?"":e.slice(n,r)}if(t===e)return"";let u=-1,f=t.length-1;for(;a--;)if(e.codePointAt(a)===47){if(l){n=a+1;break}}else u<0&&(l=!0,u=a+1),f>-1&&(e.codePointAt(a)===t.codePointAt(f--)?f<0&&(r=a):(f=-1,r=u));return n===r?r=u:r<0&&(r=e.length),e.slice(n,r)}function E_(e){if(Rs(e),e.length===0)return".";let t=-1,n=e.length,r;for(;--n;)if(e.codePointAt(n)===47){if(r){t=n;break}}else r||(r=!0);return t<0?e.codePointAt(0)===47?"/":".":t===1&&e.codePointAt(0)===47?"//":e.slice(0,t)}function M_(e){Rs(e);let t=e.length,n=-1,r=0,a=-1,l=0,u;for(;t--;){const f=e.codePointAt(t);if(f===47){if(u){r=t+1;break}continue}n<0&&(u=!0,n=t+1),f===46?a<0?a=t:l!==1&&(l=1):a>-1&&(l=-1)}return a<0||n<0||l===0||l===1&&a===n-1&&a===r+1?"":e.slice(a,n)}function k_(...e){let t=-1,n;for(;++t<e.length;)Rs(e[t]),e[t]&&(n=n===void 0?e[t]:n+"/"+e[t]);return n===void 0?".":I_(n)}function I_(e){Rs(e);const t=e.codePointAt(0)===47;let n=N_(e,!t);return n.length===0&&!t&&(n="."),n.length>0&&e.codePointAt(e.length-1)===47&&(n+="/"),t?"/"+n:n}function N_(e,t){let n="",r=0,a=-1,l=0,u=-1,f,h;for(;++u<=e.length;){if(u<e.length)f=e.codePointAt(u);else{if(f===47)break;f=47}if(f===47){if(!(a===u-1||l===1))if(a!==u-1&&l===2){if(n.length<2||r!==2||n.codePointAt(n.length-1)!==46||n.codePointAt(n.length-2)!==46){if(n.length>2){if(h=n.lastIndexOf("/"),h!==n.length-1){h<0?(n="",r=0):(n=n.slice(0,h),r=n.length-1-n.lastIndexOf("/")),a=u,l=0;continue}}else if(n.length>0){n="",r=0,a=u,l=0;continue}}t&&(n=n.length>0?n+"/..":"..",r=2)}else n.length>0?n+="/"+e.slice(a+1,u):n=e.slice(a+1,u),r=u-a-1;a=u,l=0}else f===46&&l>-1?l++:l=-1}return n}function Rs(e){if(typeof e!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}const D_={cwd:R_};function R_(){return"/"}function rh(e){return!!(e!==null&&typeof e=="object"&&"href"in e&&e.href&&"protocol"in e&&e.protocol&&e.auth===void 0)}function __(e){if(typeof e=="string")e=new URL(e);else if(!rh(e)){const t=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+e+"`");throw t.code="ERR_INVALID_ARG_TYPE",t}if(e.protocol!=="file:"){const t=new TypeError("The URL must be of scheme file");throw t.code="ERR_INVALID_URL_SCHEME",t}return V_(e)}function V_(e){if(e.hostname!==""){const r=new TypeError('File URL host must be "localhost" or empty on darwin');throw r.code="ERR_INVALID_FILE_URL_HOST",r}const t=e.pathname;let n=-1;for(;++n<t.length;)if(t.codePointAt(n)===37&&t.codePointAt(n+1)===50){const r=t.codePointAt(n+2);if(r===70||r===102){const a=new TypeError("File URL path must not include encoded / characters");throw a.code="ERR_INVALID_FILE_URL_PATH",a}}return decodeURIComponent(t)}const hd=["history","path","basename","stem","extname","dirname"];class U1{constructor(t){let n;t?rh(t)?n={path:t}:typeof t=="string"||P_(t)?n={value:t}:n=t:n={},this.cwd="cwd"in n?"":D_.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let r=-1;for(;++r<hd.length;){const l=hd[r];l in n&&n[l]!==void 0&&n[l]!==null&&(this[l]=l==="history"?[...n[l]]:n[l])}let a;for(a in n)hd.includes(a)||(this[a]=n[a])}get basename(){return typeof this.path=="string"?Zn.basename(this.path):void 0}set basename(t){pd(t,"basename"),md(t,"basename"),this.path=Zn.join(this.dirname||"",t)}get dirname(){return typeof this.path=="string"?Zn.dirname(this.path):void 0}set dirname(t){ov(this.basename,"dirname"),this.path=Zn.join(t||"",this.basename)}get extname(){return typeof this.path=="string"?Zn.extname(this.path):void 0}set extname(t){if(md(t,"extname"),ov(this.dirname,"extname"),t){if(t.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(t.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=Zn.join(this.dirname,this.stem+(t||""))}get path(){return this.history[this.history.length-1]}set path(t){rh(t)&&(t=__(t)),pd(t,"path"),this.path!==t&&this.history.push(t)}get stem(){return typeof this.path=="string"?Zn.basename(this.path,this.extname):void 0}set stem(t){pd(t,"stem"),md(t,"stem"),this.path=Zn.join(this.dirname||"",t+(this.extname||""))}fail(t,n,r){const a=this.message(t,n,r);throw a.fatal=!0,a}info(t,n,r){const a=this.message(t,n,r);return a.fatal=void 0,a}message(t,n,r){const a=new Yt(t,n,r);return this.path&&(a.name=this.path+":"+a.name,a.file=this.path),a.fatal=!1,this.messages.push(a),a}toString(t){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(t||void 0).decode(this.value)}}function md(e,t){if(e&&e.includes(Zn.sep))throw new Error("`"+t+"` cannot be a path: did not expect `"+Zn.sep+"`")}function pd(e,t){if(!e)throw new Error("`"+t+"` cannot be empty")}function ov(e,t){if(!e)throw new Error("Setting `"+t+"` requires `path` to be set too")}function P_(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const L_=function(e){const r=this.constructor.prototype,a=r[e],l=function(){return a.apply(l,arguments)};return Object.setPrototypeOf(l,r),l},B_={}.hasOwnProperty;class Gh extends L_{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=C_()}copy(){const t=new Gh;let n=-1;for(;++n<this.attachers.length;){const r=this.attachers[n];t.use(...r)}return t.data(dd(!0,{},this.namespace)),t}data(t,n){return typeof t=="string"?arguments.length===2?(xd("data",this.frozen),this.namespace[t]=n,this):B_.call(this.namespace,t)&&this.namespace[t]||void 0:t?(xd("data",this.frozen),this.namespace=t,this):this.namespace}freeze(){if(this.frozen)return this;const t=this;for(;++this.freezeIndex<this.attachers.length;){const[n,...r]=this.attachers[this.freezeIndex];if(r[0]===!1)continue;r[0]===!0&&(r[0]=void 0);const a=n.call(t,...r);typeof a=="function"&&this.transformers.use(a)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(t){this.freeze();const n=iu(t),r=this.parser||this.Parser;return gd("parse",r),r(String(n),n)}process(t,n){const r=this;return this.freeze(),gd("process",this.parser||this.Parser),yd("process",this.compiler||this.Compiler),n?a(void 0,n):new Promise(a);function a(l,u){const f=iu(t),h=r.parse(f);r.run(h,f,function(m,y,T){if(m||!y||!T)return d(m);const S=y,A=r.stringify(S,T);z_(A)?T.value=A:T.result=A,d(m,T)});function d(m,y){m||!y?u(m):l?l(y):n(void 0,y)}}}processSync(t){let n=!1,r;return this.freeze(),gd("processSync",this.parser||this.Parser),yd("processSync",this.compiler||this.Compiler),this.process(t,a),sv("processSync","process",n),r;function a(l,u){n=!0,iv(l),r=u}}run(t,n,r){av(t),this.freeze();const a=this.transformers;return!r&&typeof n=="function"&&(r=n,n=void 0),r?l(void 0,r):new Promise(l);function l(u,f){const h=iu(n);a.run(t,h,d);function d(m,y,T){const S=y||t;m?f(m):u?u(S):r(void 0,S,T)}}}runSync(t,n){let r=!1,a;return this.run(t,n,l),sv("runSync","run",r),a;function l(u,f){iv(u),a=f,r=!0}}stringify(t,n){this.freeze();const r=iu(n),a=this.compiler||this.Compiler;return yd("stringify",a),av(t),a(t,r)}use(t,...n){const r=this.attachers,a=this.namespace;if(xd("use",this.frozen),t!=null)if(typeof t=="function")h(t,n);else if(typeof t=="object")Array.isArray(t)?f(t):u(t);else throw new TypeError("Expected usable value, not `"+t+"`");return this;function l(d){if(typeof d=="function")h(d,[]);else if(typeof d=="object")if(Array.isArray(d)){const[m,...y]=d;h(m,y)}else u(d);else throw new TypeError("Expected usable value, not `"+d+"`")}function u(d){if(!("plugins"in d)&&!("settings"in d))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");f(d.plugins),d.settings&&(a.settings=dd(!0,a.settings,d.settings))}function f(d){let m=-1;if(d!=null)if(Array.isArray(d))for(;++m<d.length;){const y=d[m];l(y)}else throw new TypeError("Expected a list of plugins, not `"+d+"`")}function h(d,m){let y=-1,T=-1;for(;++y<r.length;)if(r[y][0]===d){T=y;break}if(T===-1)r.push([d,...m]);else if(m.length>0){let[S,...A]=m;const M=r[T][1];ih(M)&&ih(S)&&(S=dd(!0,M,S)),r[T]=[d,S,...A]}}}}const j_=new Gh().freeze();function gd(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `parser`")}function yd(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `compiler`")}function xd(e,t){if(t)throw new Error("Cannot call `"+e+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function av(e){if(!ih(e)||typeof e.type!="string")throw new TypeError("Expected node, got `"+e+"`")}function sv(e,t,n){if(!n)throw new Error("`"+e+"` finished async. Use `"+t+"` instead")}function iu(e){return O_(e)?e:new U1(e)}function O_(e){return!!(e&&typeof e=="object"&&"message"in e&&"messages"in e)}function z_(e){return typeof e=="string"||F_(e)}function F_(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const U_="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",lv=[],uv={allowDangerousHtml:!0},H_=/^(https?|ircs?|mailto|xmpp)$/i,G_=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"className",id:"remove-classname"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function H1(e){const t=q_(e),n=$_(e);return Y_(t.runSync(t.parse(n),n),e)}function q_(e){const t=e.rehypePlugins||lv,n=e.remarkPlugins||lv,r=e.remarkRehypeOptions?{...e.remarkRehypeOptions,...uv}:uv;return j_().use(ER).use(n).use(b_,r).use(t)}function $_(e){const t=e.children||"",n=new U1;return typeof t=="string"&&(n.value=t),n}function Y_(e,t){const n=t.allowedElements,r=t.allowElement,a=t.components,l=t.disallowedElements,u=t.skipHtml,f=t.unwrapDisallowed,h=t.urlTransform||K_;for(const m of G_)Object.hasOwn(t,m.from)&&(""+m.from+(m.to?"use `"+m.to+"` instead":"remove it")+U_+m.id,void 0);return Hh(e,d),u2(e,{Fragment:g.Fragment,components:a,ignoreInvalidStyle:!0,jsx:g.jsx,jsxs:g.jsxs,passKeys:!0,passNode:!0});function d(m,y,T){if(m.type==="raw"&&T&&typeof y=="number")return u?T.children.splice(y,1):T.children[y]={type:"text",value:m.value},y;if(m.type==="element"){let S;for(S in ld)if(Object.hasOwn(ld,S)&&Object.hasOwn(m.properties,S)){const A=m.properties[S],M=ld[S];(M===null||M.includes(m.tagName))&&(m.properties[S]=h(String(A||""),S,m))}}if(m.type==="element"){let S=n?!n.includes(m.tagName):l?l.includes(m.tagName):!1;if(!S&&r&&typeof y=="number"&&(S=!r(m,y,T)),S&&T&&typeof y=="number")return f&&m.children?T.children.splice(y,1,...m.children):T.children.splice(y,1),y}}}function K_(e){const t=e.indexOf(":"),n=e.indexOf("?"),r=e.indexOf("#"),a=e.indexOf("/");return t===-1||a!==-1&&t>a||n!==-1&&t>n||r!==-1&&t>r||H_.test(e.slice(0,t))?e:""}function cv(e,t){const n=String(e);if(typeof t!="string")throw new TypeError("Expected character");let r=0,a=n.indexOf(t);for(;a!==-1;)r++,a=n.indexOf(t,a+t.length);return r}function X_(e){if(typeof e!="string")throw new TypeError("Expected a string");return e.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}function Q_(e,t,n){const a=Ou((n||{}).ignore||[]),l=J_(t);let u=-1;for(;++u<l.length;)F1(e,"text",f);function f(d,m){let y=-1,T;for(;++y<m.length;){const S=m[y],A=T?T.children:void 0;if(a(S,A?A.indexOf(S):void 0,T))return;T=S}if(T)return h(d,m)}function h(d,m){const y=m[m.length-1],T=l[u][0],S=l[u][1];let A=0;const R=y.children.indexOf(d);let I=!1,P=[];T.lastIndex=0;let N=T.exec(d.value);for(;N;){const j=N.index,H={index:N.index,input:N.input,stack:[...m,d]};let U=S(...N,H);if(typeof U=="string"&&(U=U.length>0?{type:"text",value:U}:void 0),U===!1?T.lastIndex=j+1:(A!==j&&P.push({type:"text",value:d.value.slice(A,j)}),Array.isArray(U)?P.push(...U):U&&P.push(U),A=j+N[0].length,I=!0),!T.global)break;N=T.exec(d.value)}return I?(A<d.value.length&&P.push({type:"text",value:d.value.slice(A)}),y.children.splice(R,1,...P)):P=[d],R+P.length}}function J_(e){const t=[];if(!Array.isArray(e))throw new TypeError("Expected find and replace tuple or list of tuples");const n=!e[0]||Array.isArray(e[0])?e:[e];let r=-1;for(;++r<n.length;){const a=n[r];t.push([Z_(a[0]),W_(a[1])])}return t}function Z_(e){return typeof e=="string"?new RegExp(X_(e),"g"):e}function W_(e){return typeof e=="function"?e:function(){return e}}const vd="phrasing",bd=["autolink","link","image","label"];function eV(){return{transforms:[sV],enter:{literalAutolink:nV,literalAutolinkEmail:Td,literalAutolinkHttp:Td,literalAutolinkWww:Td},exit:{literalAutolink:aV,literalAutolinkEmail:oV,literalAutolinkHttp:iV,literalAutolinkWww:rV}}}function tV(){return{unsafe:[{character:"@",before:"[+\\-.\\w]",after:"[\\-.\\w]",inConstruct:vd,notInConstruct:bd},{character:".",before:"[Ww]",after:"[\\-.\\w]",inConstruct:vd,notInConstruct:bd},{character:":",before:"[ps]",after:"\\/",inConstruct:vd,notInConstruct:bd}]}}function nV(e){this.enter({type:"link",title:null,url:"",children:[]},e)}function Td(e){this.config.enter.autolinkProtocol.call(this,e)}function iV(e){this.config.exit.autolinkProtocol.call(this,e)}function rV(e){this.config.exit.data.call(this,e);const t=this.stack[this.stack.length-1];t.type,t.url="http://"+this.sliceSerialize(e)}function oV(e){this.config.exit.autolinkEmail.call(this,e)}function aV(e){this.exit(e)}function sV(e){Q_(e,[[/(https?:\/\/|www(?=\.))([-.\w]+)([^ \t\r\n]*)/gi,lV],[new RegExp("(?<=^|\\s|\\p{P}|\\p{S})([-.\\w+]+)@([-\\w]+(?:\\.[-\\w]+)+)","gu"),uV]],{ignore:["link","linkReference"]})}function lV(e,t,n,r,a){let l="";if(!G1(a)||(/^w/i.test(t)&&(n=t+n,t="",l="http://"),!cV(n)))return!1;const u=fV(n+r);if(!u[0])return!1;const f={type:"link",title:null,url:l+t+u[0],children:[{type:"text",value:t+u[0]}]};return u[1]?[f,{type:"text",value:u[1]}]:f}function uV(e,t,n,r){return!G1(r,!0)||/[-\d_]$/.test(n)?!1:{type:"link",title:null,url:"mailto:"+t+"@"+n,children:[{type:"text",value:t+"@"+n}]}}function cV(e){const t=e.split(".");return!(t.length<2||t[t.length-1]&&(/_/.test(t[t.length-1])||!/[a-zA-Z\d]/.test(t[t.length-1]))||t[t.length-2]&&(/_/.test(t[t.length-2])||!/[a-zA-Z\d]/.test(t[t.length-2])))}function fV(e){const t=/[!"&'),.:;<>?\]}]+$/.exec(e);if(!t)return[e,void 0];e=e.slice(0,t.index);let n=t[0],r=n.indexOf(")");const a=cv(e,"(");let l=cv(e,")");for(;r!==-1&&a>l;)e+=n.slice(0,r+1),n=n.slice(r+1),r=n.indexOf(")"),l++;return[e,n]}function G1(e,t){const n=e.input.charCodeAt(e.index-1);return(e.index===0||Or(n)||Lu(n))&&(!t||n!==47)}q1.peek=bV;function dV(){this.buffer()}function hV(e){this.enter({type:"footnoteReference",identifier:"",label:""},e)}function mV(){this.buffer()}function pV(e){this.enter({type:"footnoteDefinition",identifier:"",label:"",children:[]},e)}function gV(e){const t=this.resume(),n=this.stack[this.stack.length-1];n.type,n.identifier=Gn(this.sliceSerialize(e)).toLowerCase(),n.label=t}function yV(e){this.exit(e)}function xV(e){const t=this.resume(),n=this.stack[this.stack.length-1];n.type,n.identifier=Gn(this.sliceSerialize(e)).toLowerCase(),n.label=t}function vV(e){this.exit(e)}function bV(){return"["}function q1(e,t,n,r){const a=n.createTracker(r);let l=a.move("[^");const u=n.enter("footnoteReference"),f=n.enter("reference");return l+=a.move(n.safe(n.associationId(e),{after:"]",before:l})),f(),u(),l+=a.move("]"),l}function TV(){return{enter:{gfmFootnoteCallString:dV,gfmFootnoteCall:hV,gfmFootnoteDefinitionLabelString:mV,gfmFootnoteDefinition:pV},exit:{gfmFootnoteCallString:gV,gfmFootnoteCall:yV,gfmFootnoteDefinitionLabelString:xV,gfmFootnoteDefinition:vV}}}function SV(e){let t=!1;return e&&e.firstLineBlank&&(t=!0),{handlers:{footnoteDefinition:n,footnoteReference:q1},unsafe:[{character:"[",inConstruct:["label","phrasing","reference"]}]};function n(r,a,l,u){const f=l.createTracker(u);let h=f.move("[^");const d=l.enter("footnoteDefinition"),m=l.enter("label");return h+=f.move(l.safe(l.associationId(r),{before:h,after:"]"})),m(),h+=f.move("]:"),r.children&&r.children.length>0&&(f.shift(4),h+=f.move((t?`
`:" ")+l.indentLines(l.containerFlow(r,f.current()),t?$1:CV))),d(),h}}function CV(e,t,n){return t===0?e:$1(e,t,n)}function $1(e,t,n){return(n?"":"    ")+e}const wV=["autolink","destinationLiteral","destinationRaw","reference","titleQuote","titleApostrophe"];Y1.peek=IV;function AV(){return{canContainEols:["delete"],enter:{strikethrough:MV},exit:{strikethrough:kV}}}function EV(){return{unsafe:[{character:"~",inConstruct:"phrasing",notInConstruct:wV}],handlers:{delete:Y1}}}function MV(e){this.enter({type:"delete",children:[]},e)}function kV(e){this.exit(e)}function Y1(e,t,n,r){const a=n.createTracker(r),l=n.enter("strikethrough");let u=a.move("~~");return u+=n.containerPhrasing(e,{...a.current(),before:u,after:"~"}),u+=a.move("~~"),l(),u}function IV(){return"~"}function NV(e){return e.length}function DV(e,t){const n=t||{},r=(n.align||[]).concat(),a=n.stringLength||NV,l=[],u=[],f=[],h=[];let d=0,m=-1;for(;++m<e.length;){const M=[],R=[];let I=-1;for(e[m].length>d&&(d=e[m].length);++I<e[m].length;){const P=RV(e[m][I]);if(n.alignDelimiters!==!1){const N=a(P);R[I]=N,(h[I]===void 0||N>h[I])&&(h[I]=N)}M.push(P)}u[m]=M,f[m]=R}let y=-1;if(typeof r=="object"&&"length"in r)for(;++y<d;)l[y]=fv(r[y]);else{const M=fv(r);for(;++y<d;)l[y]=M}y=-1;const T=[],S=[];for(;++y<d;){const M=l[y];let R="",I="";M===99?(R=":",I=":"):M===108?R=":":M===114&&(I=":");let P=n.alignDelimiters===!1?1:Math.max(1,h[y]-R.length-I.length);const N=R+"-".repeat(P)+I;n.alignDelimiters!==!1&&(P=R.length+P+I.length,P>h[y]&&(h[y]=P),S[y]=P),T[y]=N}u.splice(1,0,T),f.splice(1,0,S),m=-1;const A=[];for(;++m<u.length;){const M=u[m],R=f[m];y=-1;const I=[];for(;++y<d;){const P=M[y]||"";let N="",j="";if(n.alignDelimiters!==!1){const H=h[y]-(R[y]||0),U=l[y];U===114?N=" ".repeat(H):U===99?H%2?(N=" ".repeat(H/2+.5),j=" ".repeat(H/2-.5)):(N=" ".repeat(H/2),j=N):j=" ".repeat(H)}n.delimiterStart!==!1&&!y&&I.push("|"),n.padding!==!1&&!(n.alignDelimiters===!1&&P==="")&&(n.delimiterStart!==!1||y)&&I.push(" "),n.alignDelimiters!==!1&&I.push(N),I.push(P),n.alignDelimiters!==!1&&I.push(j),n.padding!==!1&&I.push(" "),(n.delimiterEnd!==!1||y!==d-1)&&I.push("|")}A.push(n.delimiterEnd===!1?I.join("").replace(/ +$/,""):I.join(""))}return A.join(`
`)}function RV(e){return e==null?"":String(e)}function fv(e){const t=typeof e=="string"?e.codePointAt(0):0;return t===67||t===99?99:t===76||t===108?108:t===82||t===114?114:0}function _V(e,t,n,r){const a=n.enter("blockquote"),l=n.createTracker(r);l.move("> "),l.shift(2);const u=n.indentLines(n.containerFlow(e,l.current()),VV);return a(),u}function VV(e,t,n){return">"+(n?"":" ")+e}function PV(e,t){return dv(e,t.inConstruct,!0)&&!dv(e,t.notInConstruct,!1)}function dv(e,t,n){if(typeof t=="string"&&(t=[t]),!t||t.length===0)return n;let r=-1;for(;++r<t.length;)if(e.includes(t[r]))return!0;return!1}function hv(e,t,n,r){let a=-1;for(;++a<n.unsafe.length;)if(n.unsafe[a].character===`
`&&PV(n.stack,n.unsafe[a]))return/[ \t]/.test(r.before)?"":" ";return`\\
`}function LV(e,t){const n=String(e);let r=n.indexOf(t),a=r,l=0,u=0;if(typeof t!="string")throw new TypeError("Expected substring");for(;r!==-1;)r===a?++l>u&&(u=l):l=1,a=r+t.length,r=n.indexOf(t,a);return u}function BV(e,t){return!!(t.options.fences===!1&&e.value&&!e.lang&&/[^ \r\n]/.test(e.value)&&!/^[\t ]*(?:[\r\n]|$)|(?:^|[\r\n])[\t ]*$/.test(e.value))}function jV(e){const t=e.options.fence||"`";if(t!=="`"&&t!=="~")throw new Error("Cannot serialize code with `"+t+"` for `options.fence`, expected `` ` `` or `~`");return t}function OV(e,t,n,r){const a=jV(n),l=e.value||"",u=a==="`"?"GraveAccent":"Tilde";if(BV(e,n)){const y=n.enter("codeIndented"),T=n.indentLines(l,zV);return y(),T}const f=n.createTracker(r),h=a.repeat(Math.max(LV(l,a)+1,3)),d=n.enter("codeFenced");let m=f.move(h);if(e.lang){const y=n.enter(`codeFencedLang${u}`);m+=f.move(n.safe(e.lang,{before:m,after:" ",encode:["`"],...f.current()})),y()}if(e.lang&&e.meta){const y=n.enter(`codeFencedMeta${u}`);m+=f.move(" "),m+=f.move(n.safe(e.meta,{before:m,after:`
`,encode:["`"],...f.current()})),y()}return m+=f.move(`
`),l&&(m+=f.move(l+`
`)),m+=f.move(h),d(),m}function zV(e,t,n){return(n?"":"    ")+e}function qh(e){const t=e.options.quote||'"';if(t!=='"'&&t!=="'")throw new Error("Cannot serialize title with `"+t+"` for `options.quote`, expected `\"`, or `'`");return t}function FV(e,t,n,r){const a=qh(n),l=a==='"'?"Quote":"Apostrophe",u=n.enter("definition");let f=n.enter("label");const h=n.createTracker(r);let d=h.move("[");return d+=h.move(n.safe(n.associationId(e),{before:d,after:"]",...h.current()})),d+=h.move("]: "),f(),!e.url||/[\0- \u007F]/.test(e.url)?(f=n.enter("destinationLiteral"),d+=h.move("<"),d+=h.move(n.safe(e.url,{before:d,after:">",...h.current()})),d+=h.move(">")):(f=n.enter("destinationRaw"),d+=h.move(n.safe(e.url,{before:d,after:e.title?" ":`
`,...h.current()}))),f(),e.title&&(f=n.enter(`title${l}`),d+=h.move(" "+a),d+=h.move(n.safe(e.title,{before:d,after:a,...h.current()})),d+=h.move(a),f()),u(),d}function UV(e){const t=e.options.emphasis||"*";if(t!=="*"&&t!=="_")throw new Error("Cannot serialize emphasis with `"+t+"` for `options.emphasis`, expected `*`, or `_`");return t}function bs(e){return"&#x"+e.toString(16).toUpperCase()+";"}function Au(e,t,n){const r=Uo(e),a=Uo(t);return r===void 0?a===void 0?n==="_"?{inside:!0,outside:!0}:{inside:!1,outside:!1}:a===1?{inside:!0,outside:!0}:{inside:!1,outside:!0}:r===1?a===void 0?{inside:!1,outside:!1}:a===1?{inside:!0,outside:!0}:{inside:!1,outside:!1}:a===void 0?{inside:!1,outside:!1}:a===1?{inside:!0,outside:!1}:{inside:!1,outside:!1}}K1.peek=HV;function K1(e,t,n,r){const a=UV(n),l=n.enter("emphasis"),u=n.createTracker(r),f=u.move(a);let h=u.move(n.containerPhrasing(e,{after:a,before:f,...u.current()}));const d=h.charCodeAt(0),m=Au(r.before.charCodeAt(r.before.length-1),d,a);m.inside&&(h=bs(d)+h.slice(1));const y=h.charCodeAt(h.length-1),T=Au(r.after.charCodeAt(0),y,a);T.inside&&(h=h.slice(0,-1)+bs(y));const S=u.move(a);return l(),n.attentionEncodeSurroundingInfo={after:T.outside,before:m.outside},f+h+S}function HV(e,t,n){return n.options.emphasis||"*"}function GV(e,t){let n=!1;return Hh(e,function(r){if("value"in r&&/\r?\n|\r/.test(r.value)||r.type==="break")return n=!0,th}),!!((!e.depth||e.depth<3)&&Lh(e)&&(t.options.setext||n))}function qV(e,t,n,r){const a=Math.max(Math.min(6,e.depth||1),1),l=n.createTracker(r);if(GV(e,n)){const m=n.enter("headingSetext"),y=n.enter("phrasing"),T=n.containerPhrasing(e,{...l.current(),before:`
`,after:`
`});return y(),m(),T+`
`+(a===1?"=":"-").repeat(T.length-(Math.max(T.lastIndexOf("\r"),T.lastIndexOf(`
`))+1))}const u="#".repeat(a),f=n.enter("headingAtx"),h=n.enter("phrasing");l.move(u+" ");let d=n.containerPhrasing(e,{before:"# ",after:`
`,...l.current()});return/^[\t ]/.test(d)&&(d=bs(d.charCodeAt(0))+d.slice(1)),d=d?u+" "+d:u,n.options.closeAtx&&(d+=" "+u),h(),f(),d}X1.peek=$V;function X1(e){return e.value||""}function $V(){return"<"}Q1.peek=YV;function Q1(e,t,n,r){const a=qh(n),l=a==='"'?"Quote":"Apostrophe",u=n.enter("image");let f=n.enter("label");const h=n.createTracker(r);let d=h.move("![");return d+=h.move(n.safe(e.alt,{before:d,after:"]",...h.current()})),d+=h.move("]("),f(),!e.url&&e.title||/[\0- \u007F]/.test(e.url)?(f=n.enter("destinationLiteral"),d+=h.move("<"),d+=h.move(n.safe(e.url,{before:d,after:">",...h.current()})),d+=h.move(">")):(f=n.enter("destinationRaw"),d+=h.move(n.safe(e.url,{before:d,after:e.title?" ":")",...h.current()}))),f(),e.title&&(f=n.enter(`title${l}`),d+=h.move(" "+a),d+=h.move(n.safe(e.title,{before:d,after:a,...h.current()})),d+=h.move(a),f()),d+=h.move(")"),u(),d}function YV(){return"!"}J1.peek=KV;function J1(e,t,n,r){const a=e.referenceType,l=n.enter("imageReference");let u=n.enter("label");const f=n.createTracker(r);let h=f.move("![");const d=n.safe(e.alt,{before:h,after:"]",...f.current()});h+=f.move(d+"]["),u();const m=n.stack;n.stack=[],u=n.enter("reference");const y=n.safe(n.associationId(e),{before:h,after:"]",...f.current()});return u(),n.stack=m,l(),a==="full"||!d||d!==y?h+=f.move(y+"]"):a==="shortcut"?h=h.slice(0,-1):h+=f.move("]"),h}function KV(){return"!"}Z1.peek=XV;function Z1(e,t,n){let r=e.value||"",a="`",l=-1;for(;new RegExp("(^|[^`])"+a+"([^`]|$)").test(r);)a+="`";for(/[^ \r\n]/.test(r)&&(/^[ \r\n]/.test(r)&&/[ \r\n]$/.test(r)||/^`|`$/.test(r))&&(r=" "+r+" ");++l<n.unsafe.length;){const u=n.unsafe[l],f=n.compilePattern(u);let h;if(u.atBreak)for(;h=f.exec(r);){let d=h.index;r.charCodeAt(d)===10&&r.charCodeAt(d-1)===13&&d--,r=r.slice(0,d)+" "+r.slice(h.index+1)}}return a+r+a}function XV(){return"`"}function W1(e,t){const n=Lh(e);return!!(!t.options.resourceLink&&e.url&&!e.title&&e.children&&e.children.length===1&&e.children[0].type==="text"&&(n===e.url||"mailto:"+n===e.url)&&/^[a-z][a-z+.-]+:/i.test(e.url)&&!/[\0- <>\u007F]/.test(e.url))}eT.peek=QV;function eT(e,t,n,r){const a=qh(n),l=a==='"'?"Quote":"Apostrophe",u=n.createTracker(r);let f,h;if(W1(e,n)){const m=n.stack;n.stack=[],f=n.enter("autolink");let y=u.move("<");return y+=u.move(n.containerPhrasing(e,{before:y,after:">",...u.current()})),y+=u.move(">"),f(),n.stack=m,y}f=n.enter("link"),h=n.enter("label");let d=u.move("[");return d+=u.move(n.containerPhrasing(e,{before:d,after:"](",...u.current()})),d+=u.move("]("),h(),!e.url&&e.title||/[\0- \u007F]/.test(e.url)?(h=n.enter("destinationLiteral"),d+=u.move("<"),d+=u.move(n.safe(e.url,{before:d,after:">",...u.current()})),d+=u.move(">")):(h=n.enter("destinationRaw"),d+=u.move(n.safe(e.url,{before:d,after:e.title?" ":")",...u.current()}))),h(),e.title&&(h=n.enter(`title${l}`),d+=u.move(" "+a),d+=u.move(n.safe(e.title,{before:d,after:a,...u.current()})),d+=u.move(a),h()),d+=u.move(")"),f(),d}function QV(e,t,n){return W1(e,n)?"<":"["}tT.peek=JV;function tT(e,t,n,r){const a=e.referenceType,l=n.enter("linkReference");let u=n.enter("label");const f=n.createTracker(r);let h=f.move("[");const d=n.containerPhrasing(e,{before:h,after:"]",...f.current()});h+=f.move(d+"]["),u();const m=n.stack;n.stack=[],u=n.enter("reference");const y=n.safe(n.associationId(e),{before:h,after:"]",...f.current()});return u(),n.stack=m,l(),a==="full"||!d||d!==y?h+=f.move(y+"]"):a==="shortcut"?h=h.slice(0,-1):h+=f.move("]"),h}function JV(){return"["}function $h(e){const t=e.options.bullet||"*";if(t!=="*"&&t!=="+"&&t!=="-")throw new Error("Cannot serialize items with `"+t+"` for `options.bullet`, expected `*`, `+`, or `-`");return t}function ZV(e){const t=$h(e),n=e.options.bulletOther;if(!n)return t==="*"?"-":"*";if(n!=="*"&&n!=="+"&&n!=="-")throw new Error("Cannot serialize items with `"+n+"` for `options.bulletOther`, expected `*`, `+`, or `-`");if(n===t)throw new Error("Expected `bullet` (`"+t+"`) and `bulletOther` (`"+n+"`) to be different");return n}function WV(e){const t=e.options.bulletOrdered||".";if(t!=="."&&t!==")")throw new Error("Cannot serialize items with `"+t+"` for `options.bulletOrdered`, expected `.` or `)`");return t}function nT(e){const t=e.options.rule||"*";if(t!=="*"&&t!=="-"&&t!=="_")throw new Error("Cannot serialize rules with `"+t+"` for `options.rule`, expected `*`, `-`, or `_`");return t}function e4(e,t,n,r){const a=n.enter("list"),l=n.bulletCurrent;let u=e.ordered?WV(n):$h(n);const f=e.ordered?u==="."?")":".":ZV(n);let h=t&&n.bulletLastUsed?u===n.bulletLastUsed:!1;if(!e.ordered){const m=e.children?e.children[0]:void 0;if((u==="*"||u==="-")&&m&&(!m.children||!m.children[0])&&n.stack[n.stack.length-1]==="list"&&n.stack[n.stack.length-2]==="listItem"&&n.stack[n.stack.length-3]==="list"&&n.stack[n.stack.length-4]==="listItem"&&n.indexStack[n.indexStack.length-1]===0&&n.indexStack[n.indexStack.length-2]===0&&n.indexStack[n.indexStack.length-3]===0&&(h=!0),nT(n)===u&&m){let y=-1;for(;++y<e.children.length;){const T=e.children[y];if(T&&T.type==="listItem"&&T.children&&T.children[0]&&T.children[0].type==="thematicBreak"){h=!0;break}}}}h&&(u=f),n.bulletCurrent=u;const d=n.containerFlow(e,r);return n.bulletLastUsed=u,n.bulletCurrent=l,a(),d}function t4(e){const t=e.options.listItemIndent||"one";if(t!=="tab"&&t!=="one"&&t!=="mixed")throw new Error("Cannot serialize items with `"+t+"` for `options.listItemIndent`, expected `tab`, `one`, or `mixed`");return t}function n4(e,t,n,r){const a=t4(n);let l=n.bulletCurrent||$h(n);t&&t.type==="list"&&t.ordered&&(l=(typeof t.start=="number"&&t.start>-1?t.start:1)+(n.options.incrementListMarker===!1?0:t.children.indexOf(e))+l);let u=l.length+1;(a==="tab"||a==="mixed"&&(t&&t.type==="list"&&t.spread||e.spread))&&(u=Math.ceil(u/4)*4);const f=n.createTracker(r);f.move(l+" ".repeat(u-l.length)),f.shift(u);const h=n.enter("listItem"),d=n.indentLines(n.containerFlow(e,f.current()),m);return h(),d;function m(y,T,S){return T?(S?"":" ".repeat(u))+y:(S?l:l+" ".repeat(u-l.length))+y}}function i4(e,t,n,r){const a=n.enter("paragraph"),l=n.enter("phrasing"),u=n.containerPhrasing(e,r);return l(),a(),u}const r4=Ou(["break","delete","emphasis","footnote","footnoteReference","image","imageReference","inlineCode","inlineMath","link","linkReference","mdxJsxTextElement","mdxTextExpression","strong","text","textDirective"]);function o4(e,t,n,r){return(e.children.some(function(u){return r4(u)})?n.containerPhrasing:n.containerFlow).call(n,e,r)}function a4(e){const t=e.options.strong||"*";if(t!=="*"&&t!=="_")throw new Error("Cannot serialize strong with `"+t+"` for `options.strong`, expected `*`, or `_`");return t}iT.peek=s4;function iT(e,t,n,r){const a=a4(n),l=n.enter("strong"),u=n.createTracker(r),f=u.move(a+a);let h=u.move(n.containerPhrasing(e,{after:a,before:f,...u.current()}));const d=h.charCodeAt(0),m=Au(r.before.charCodeAt(r.before.length-1),d,a);m.inside&&(h=bs(d)+h.slice(1));const y=h.charCodeAt(h.length-1),T=Au(r.after.charCodeAt(0),y,a);T.inside&&(h=h.slice(0,-1)+bs(y));const S=u.move(a+a);return l(),n.attentionEncodeSurroundingInfo={after:T.outside,before:m.outside},f+h+S}function s4(e,t,n){return n.options.strong||"*"}function l4(e,t,n,r){return n.safe(e.value,r)}function u4(e){const t=e.options.ruleRepetition||3;if(t<3)throw new Error("Cannot serialize rules with repetition `"+t+"` for `options.ruleRepetition`, expected `3` or more");return t}function c4(e,t,n){const r=(nT(n)+(n.options.ruleSpaces?" ":"")).repeat(u4(n));return n.options.ruleSpaces?r.slice(0,-1):r}const rT={blockquote:_V,break:hv,code:OV,definition:FV,emphasis:K1,hardBreak:hv,heading:qV,html:X1,image:Q1,imageReference:J1,inlineCode:Z1,link:eT,linkReference:tT,list:e4,listItem:n4,paragraph:i4,root:o4,strong:iT,text:l4,thematicBreak:c4};function f4(){return{enter:{table:d4,tableData:mv,tableHeader:mv,tableRow:m4},exit:{codeText:p4,table:h4,tableData:Sd,tableHeader:Sd,tableRow:Sd}}}function d4(e){const t=e._align;this.enter({type:"table",align:t.map(function(n){return n==="none"?null:n}),children:[]},e),this.data.inTable=!0}function h4(e){this.exit(e),this.data.inTable=void 0}function m4(e){this.enter({type:"tableRow",children:[]},e)}function Sd(e){this.exit(e)}function mv(e){this.enter({type:"tableCell",children:[]},e)}function p4(e){let t=this.resume();this.data.inTable&&(t=t.replace(/\\([\\|])/g,g4));const n=this.stack[this.stack.length-1];n.type,n.value=t,this.exit(e)}function g4(e,t){return t==="|"?t:e}function y4(e){const t=e||{},n=t.tableCellPadding,r=t.tablePipeAlign,a=t.stringLength,l=n?" ":"|";return{unsafe:[{character:"\r",inConstruct:"tableCell"},{character:`
`,inConstruct:"tableCell"},{atBreak:!0,character:"|",after:"[	 :-]"},{character:"|",inConstruct:"tableCell"},{atBreak:!0,character:":",after:"-"},{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{inlineCode:T,table:u,tableCell:h,tableRow:f}};function u(S,A,M,R){return d(m(S,M,R),S.align)}function f(S,A,M,R){const I=y(S,M,R),P=d([I]);return P.slice(0,P.indexOf(`
`))}function h(S,A,M,R){const I=M.enter("tableCell"),P=M.enter("phrasing"),N=M.containerPhrasing(S,{...R,before:l,after:l});return P(),I(),N}function d(S,A){return DV(S,{align:A,alignDelimiters:r,padding:n,stringLength:a})}function m(S,A,M){const R=S.children;let I=-1;const P=[],N=A.enter("table");for(;++I<R.length;)P[I]=y(R[I],A,M);return N(),P}function y(S,A,M){const R=S.children;let I=-1;const P=[],N=A.enter("tableRow");for(;++I<R.length;)P[I]=h(R[I],S,A,M);return N(),P}function T(S,A,M){let R=rT.inlineCode(S,A,M);return M.stack.includes("tableCell")&&(R=R.replace(/\|/g,"\\$&")),R}}function x4(){return{exit:{taskListCheckValueChecked:pv,taskListCheckValueUnchecked:pv,paragraph:b4}}}function v4(){return{unsafe:[{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{listItem:T4}}}function pv(e){const t=this.stack[this.stack.length-2];t.type,t.checked=e.type==="taskListCheckValueChecked"}function b4(e){const t=this.stack[this.stack.length-2];if(t&&t.type==="listItem"&&typeof t.checked=="boolean"){const n=this.stack[this.stack.length-1];n.type;const r=n.children[0];if(r&&r.type==="text"){const a=t.children;let l=-1,u;for(;++l<a.length;){const f=a[l];if(f.type==="paragraph"){u=f;break}}u===n&&(r.value=r.value.slice(1),r.value.length===0?n.children.shift():n.position&&r.position&&typeof r.position.start.offset=="number"&&(r.position.start.column++,r.position.start.offset++,n.position.start=Object.assign({},r.position.start)))}}this.exit(e)}function T4(e,t,n,r){const a=e.children[0],l=typeof e.checked=="boolean"&&a&&a.type==="paragraph",u="["+(e.checked?"x":" ")+"] ",f=n.createTracker(r);l&&f.move(u);let h=rT.listItem(e,t,n,{...r,...f.current()});return l&&(h=h.replace(/^(?:[*+-]|\d+\.)([\r\n]| {1,3})/,d)),h;function d(m){return m+u}}function S4(){return[eV(),TV(),AV(),f4(),x4()]}function C4(e){return{extensions:[tV(),SV(e),EV(),y4(e),v4()]}}const w4={tokenize:N4,partial:!0},oT={tokenize:D4,partial:!0},aT={tokenize:R4,partial:!0},sT={tokenize:_4,partial:!0},A4={tokenize:V4,partial:!0},lT={name:"wwwAutolink",tokenize:k4,previous:cT},uT={name:"protocolAutolink",tokenize:I4,previous:fT},Ai={name:"emailAutolink",tokenize:M4,previous:dT},ni={};function E4(){return{text:ni}}let Nr=48;for(;Nr<123;)ni[Nr]=Ai,Nr++,Nr===58?Nr=65:Nr===91&&(Nr=97);ni[43]=Ai;ni[45]=Ai;ni[46]=Ai;ni[95]=Ai;ni[72]=[Ai,uT];ni[104]=[Ai,uT];ni[87]=[Ai,lT];ni[119]=[Ai,lT];function M4(e,t,n){const r=this;let a,l;return u;function u(y){return!oh(y)||!dT.call(r,r.previous)||Yh(r.events)?n(y):(e.enter("literalAutolink"),e.enter("literalAutolinkEmail"),f(y))}function f(y){return oh(y)?(e.consume(y),f):y===64?(e.consume(y),h):n(y)}function h(y){return y===46?e.check(A4,m,d)(y):y===45||y===95||qt(y)?(l=!0,e.consume(y),h):m(y)}function d(y){return e.consume(y),a=!0,h}function m(y){return l&&a&&Qt(r.previous)?(e.exit("literalAutolinkEmail"),e.exit("literalAutolink"),t(y)):n(y)}}function k4(e,t,n){const r=this;return a;function a(u){return u!==87&&u!==119||!cT.call(r,r.previous)||Yh(r.events)?n(u):(e.enter("literalAutolink"),e.enter("literalAutolinkWww"),e.check(w4,e.attempt(oT,e.attempt(aT,l),n),n)(u))}function l(u){return e.exit("literalAutolinkWww"),e.exit("literalAutolink"),t(u)}}function I4(e,t,n){const r=this;let a="",l=!1;return u;function u(y){return(y===72||y===104)&&fT.call(r,r.previous)&&!Yh(r.events)?(e.enter("literalAutolink"),e.enter("literalAutolinkHttp"),a+=String.fromCodePoint(y),e.consume(y),f):n(y)}function f(y){if(Qt(y)&&a.length<5)return a+=String.fromCodePoint(y),e.consume(y),f;if(y===58){const T=a.toLowerCase();if(T==="http"||T==="https")return e.consume(y),h}return n(y)}function h(y){return y===47?(e.consume(y),l?d:(l=!0,h)):n(y)}function d(y){return y===null||Su(y)||it(y)||Or(y)||Lu(y)?n(y):e.attempt(oT,e.attempt(aT,m),n)(y)}function m(y){return e.exit("literalAutolinkHttp"),e.exit("literalAutolink"),t(y)}}function N4(e,t,n){let r=0;return a;function a(u){return(u===87||u===119)&&r<3?(r++,e.consume(u),a):u===46&&r===3?(e.consume(u),l):n(u)}function l(u){return u===null?n(u):t(u)}}function D4(e,t,n){let r,a,l;return u;function u(d){return d===46||d===95?e.check(sT,h,f)(d):d===null||it(d)||Or(d)||d!==45&&Lu(d)?h(d):(l=!0,e.consume(d),u)}function f(d){return d===95?r=!0:(a=r,r=void 0),e.consume(d),u}function h(d){return a||r||!l?n(d):t(d)}}function R4(e,t){let n=0,r=0;return a;function a(u){return u===40?(n++,e.consume(u),a):u===41&&r<n?l(u):u===33||u===34||u===38||u===39||u===41||u===42||u===44||u===46||u===58||u===59||u===60||u===63||u===93||u===95||u===126?e.check(sT,t,l)(u):u===null||it(u)||Or(u)?t(u):(e.consume(u),a)}function l(u){return u===41&&r++,e.consume(u),a}}function _4(e,t,n){return r;function r(f){return f===33||f===34||f===39||f===41||f===42||f===44||f===46||f===58||f===59||f===63||f===95||f===126?(e.consume(f),r):f===38?(e.consume(f),l):f===93?(e.consume(f),a):f===60||f===null||it(f)||Or(f)?t(f):n(f)}function a(f){return f===null||f===40||f===91||it(f)||Or(f)?t(f):r(f)}function l(f){return Qt(f)?u(f):n(f)}function u(f){return f===59?(e.consume(f),r):Qt(f)?(e.consume(f),u):n(f)}}function V4(e,t,n){return r;function r(l){return e.consume(l),a}function a(l){return qt(l)?n(l):t(l)}}function cT(e){return e===null||e===40||e===42||e===95||e===91||e===93||e===126||it(e)}function fT(e){return!Qt(e)}function dT(e){return!(e===47||oh(e))}function oh(e){return e===43||e===45||e===46||e===95||qt(e)}function Yh(e){let t=e.length,n=!1;for(;t--;){const r=e[t][1];if((r.type==="labelLink"||r.type==="labelImage")&&!r._balanced){n=!0;break}if(r._gfmAutolinkLiteralWalkedInto){n=!1;break}}return e.length>0&&!n&&(e[e.length-1][1]._gfmAutolinkLiteralWalkedInto=!0),n}const P4={tokenize:H4,partial:!0};function L4(){return{document:{91:{name:"gfmFootnoteDefinition",tokenize:z4,continuation:{tokenize:F4},exit:U4}},text:{91:{name:"gfmFootnoteCall",tokenize:O4},93:{name:"gfmPotentialFootnoteCall",add:"after",tokenize:B4,resolveTo:j4}}}}function B4(e,t,n){const r=this;let a=r.events.length;const l=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let u;for(;a--;){const h=r.events[a][1];if(h.type==="labelImage"){u=h;break}if(h.type==="gfmFootnoteCall"||h.type==="labelLink"||h.type==="label"||h.type==="image"||h.type==="link")break}return f;function f(h){if(!u||!u._balanced)return n(h);const d=Gn(r.sliceSerialize({start:u.end,end:r.now()}));return d.codePointAt(0)!==94||!l.includes(d.slice(1))?n(h):(e.enter("gfmFootnoteCallLabelMarker"),e.consume(h),e.exit("gfmFootnoteCallLabelMarker"),t(h))}}function j4(e,t){let n=e.length;for(;n--;)if(e[n][1].type==="labelImage"&&e[n][0]==="enter"){e[n][1];break}e[n+1][1].type="data",e[n+3][1].type="gfmFootnoteCallLabelMarker";const r={type:"gfmFootnoteCall",start:Object.assign({},e[n+3][1].start),end:Object.assign({},e[e.length-1][1].end)},a={type:"gfmFootnoteCallMarker",start:Object.assign({},e[n+3][1].end),end:Object.assign({},e[n+3][1].end)};a.end.column++,a.end.offset++,a.end._bufferIndex++;const l={type:"gfmFootnoteCallString",start:Object.assign({},a.end),end:Object.assign({},e[e.length-1][1].start)},u={type:"chunkString",contentType:"string",start:Object.assign({},l.start),end:Object.assign({},l.end)},f=[e[n+1],e[n+2],["enter",r,t],e[n+3],e[n+4],["enter",a,t],["exit",a,t],["enter",l,t],["enter",u,t],["exit",u,t],["exit",l,t],e[e.length-2],e[e.length-1],["exit",r,t]];return e.splice(n,e.length-n+1,...f),e}function O4(e,t,n){const r=this,a=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let l=0,u;return f;function f(y){return e.enter("gfmFootnoteCall"),e.enter("gfmFootnoteCallLabelMarker"),e.consume(y),e.exit("gfmFootnoteCallLabelMarker"),h}function h(y){return y!==94?n(y):(e.enter("gfmFootnoteCallMarker"),e.consume(y),e.exit("gfmFootnoteCallMarker"),e.enter("gfmFootnoteCallString"),e.enter("chunkString").contentType="string",d)}function d(y){if(l>999||y===93&&!u||y===null||y===91||it(y))return n(y);if(y===93){e.exit("chunkString");const T=e.exit("gfmFootnoteCallString");return a.includes(Gn(r.sliceSerialize(T)))?(e.enter("gfmFootnoteCallLabelMarker"),e.consume(y),e.exit("gfmFootnoteCallLabelMarker"),e.exit("gfmFootnoteCall"),t):n(y)}return it(y)||(u=!0),l++,e.consume(y),y===92?m:d}function m(y){return y===91||y===92||y===93?(e.consume(y),l++,d):d(y)}}function z4(e,t,n){const r=this,a=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let l,u=0,f;return h;function h(A){return e.enter("gfmFootnoteDefinition")._container=!0,e.enter("gfmFootnoteDefinitionLabel"),e.enter("gfmFootnoteDefinitionLabelMarker"),e.consume(A),e.exit("gfmFootnoteDefinitionLabelMarker"),d}function d(A){return A===94?(e.enter("gfmFootnoteDefinitionMarker"),e.consume(A),e.exit("gfmFootnoteDefinitionMarker"),e.enter("gfmFootnoteDefinitionLabelString"),e.enter("chunkString").contentType="string",m):n(A)}function m(A){if(u>999||A===93&&!f||A===null||A===91||it(A))return n(A);if(A===93){e.exit("chunkString");const M=e.exit("gfmFootnoteDefinitionLabelString");return l=Gn(r.sliceSerialize(M)),e.enter("gfmFootnoteDefinitionLabelMarker"),e.consume(A),e.exit("gfmFootnoteDefinitionLabelMarker"),e.exit("gfmFootnoteDefinitionLabel"),T}return it(A)||(f=!0),u++,e.consume(A),A===92?y:m}function y(A){return A===91||A===92||A===93?(e.consume(A),u++,m):m(A)}function T(A){return A===58?(e.enter("definitionMarker"),e.consume(A),e.exit("definitionMarker"),a.includes(l)||a.push(l),Ge(e,S,"gfmFootnoteDefinitionWhitespace")):n(A)}function S(A){return t(A)}}function F4(e,t,n){return e.check(Ds,t,e.attempt(P4,t,n))}function U4(e){e.exit("gfmFootnoteDefinition")}function H4(e,t,n){const r=this;return Ge(e,a,"gfmFootnoteDefinitionIndent",5);function a(l){const u=r.events[r.events.length-1];return u&&u[1].type==="gfmFootnoteDefinitionIndent"&&u[2].sliceSerialize(u[1],!0).length===4?t(l):n(l)}}function G4(e){let n=(e||{}).singleTilde;const r={name:"strikethrough",tokenize:l,resolveAll:a};return n==null&&(n=!0),{text:{126:r},insideSpan:{null:[r]},attentionMarkers:{null:[126]}};function a(u,f){let h=-1;for(;++h<u.length;)if(u[h][0]==="enter"&&u[h][1].type==="strikethroughSequenceTemporary"&&u[h][1]._close){let d=h;for(;d--;)if(u[d][0]==="exit"&&u[d][1].type==="strikethroughSequenceTemporary"&&u[d][1]._open&&u[h][1].end.offset-u[h][1].start.offset===u[d][1].end.offset-u[d][1].start.offset){u[h][1].type="strikethroughSequence",u[d][1].type="strikethroughSequence";const m={type:"strikethrough",start:Object.assign({},u[d][1].start),end:Object.assign({},u[h][1].end)},y={type:"strikethroughText",start:Object.assign({},u[d][1].end),end:Object.assign({},u[h][1].start)},T=[["enter",m,f],["enter",u[d][1],f],["exit",u[d][1],f],["enter",y,f]],S=f.parser.constructs.insideSpan.null;S&&bn(T,T.length,0,Bu(S,u.slice(d+1,h),f)),bn(T,T.length,0,[["exit",y,f],["enter",u[h][1],f],["exit",u[h][1],f],["exit",m,f]]),bn(u,d-1,h-d+3,T),h=d+T.length-2;break}}for(h=-1;++h<u.length;)u[h][1].type==="strikethroughSequenceTemporary"&&(u[h][1].type="data");return u}function l(u,f,h){const d=this.previous,m=this.events;let y=0;return T;function T(A){return d===126&&m[m.length-1][1].type!=="characterEscape"?h(A):(u.enter("strikethroughSequenceTemporary"),S(A))}function S(A){const M=Uo(d);if(A===126)return y>1?h(A):(u.consume(A),y++,S);if(y<2&&!n)return h(A);const R=u.exit("strikethroughSequenceTemporary"),I=Uo(A);return R._open=!I||I===2&&!!M,R._close=!M||M===2&&!!I,f(A)}}}class q4{constructor(){this.map=[]}add(t,n,r){$4(this,t,n,r)}consume(t){if(this.map.sort(function(l,u){return l[0]-u[0]}),this.map.length===0)return;let n=this.map.length;const r=[];for(;n>0;)n-=1,r.push(t.slice(this.map[n][0]+this.map[n][1]),this.map[n][2]),t.length=this.map[n][0];r.push(t.slice()),t.length=0;let a=r.pop();for(;a;){for(const l of a)t.push(l);a=r.pop()}this.map.length=0}}function $4(e,t,n,r){let a=0;if(!(n===0&&r.length===0)){for(;a<e.map.length;){if(e.map[a][0]===t){e.map[a][1]+=n,e.map[a][2].push(...r);return}a+=1}e.map.push([t,n,r])}}function Y4(e,t){let n=!1;const r=[];for(;t<e.length;){const a=e[t];if(n){if(a[0]==="enter")a[1].type==="tableContent"&&r.push(e[t+1][1].type==="tableDelimiterMarker"?"left":"none");else if(a[1].type==="tableContent"){if(e[t-1][1].type==="tableDelimiterMarker"){const l=r.length-1;r[l]=r[l]==="left"?"center":"right"}}else if(a[1].type==="tableDelimiterRow")break}else a[0]==="enter"&&a[1].type==="tableDelimiterRow"&&(n=!0);t+=1}return r}function K4(){return{flow:{null:{name:"table",tokenize:X4,resolveAll:Q4}}}}function X4(e,t,n){const r=this;let a=0,l=0,u;return f;function f(F){let ue=r.events.length-1;for(;ue>-1;){const ae=r.events[ue][1].type;if(ae==="lineEnding"||ae==="linePrefix")ue--;else break}const fe=ue>-1?r.events[ue][1].type:null,W=fe==="tableHead"||fe==="tableRow"?U:h;return W===U&&r.parser.lazy[r.now().line]?n(F):W(F)}function h(F){return e.enter("tableHead"),e.enter("tableRow"),d(F)}function d(F){return F===124||(u=!0,l+=1),m(F)}function m(F){return F===null?n(F):we(F)?l>1?(l=0,r.interrupt=!0,e.exit("tableRow"),e.enter("lineEnding"),e.consume(F),e.exit("lineEnding"),S):n(F):ze(F)?Ge(e,m,"whitespace")(F):(l+=1,u&&(u=!1,a+=1),F===124?(e.enter("tableCellDivider"),e.consume(F),e.exit("tableCellDivider"),u=!0,m):(e.enter("data"),y(F)))}function y(F){return F===null||F===124||it(F)?(e.exit("data"),m(F)):(e.consume(F),F===92?T:y)}function T(F){return F===92||F===124?(e.consume(F),y):y(F)}function S(F){return r.interrupt=!1,r.parser.lazy[r.now().line]?n(F):(e.enter("tableDelimiterRow"),u=!1,ze(F)?Ge(e,A,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(F):A(F))}function A(F){return F===45||F===58?R(F):F===124?(u=!0,e.enter("tableCellDivider"),e.consume(F),e.exit("tableCellDivider"),M):H(F)}function M(F){return ze(F)?Ge(e,R,"whitespace")(F):R(F)}function R(F){return F===58?(l+=1,u=!0,e.enter("tableDelimiterMarker"),e.consume(F),e.exit("tableDelimiterMarker"),I):F===45?(l+=1,I(F)):F===null||we(F)?j(F):H(F)}function I(F){return F===45?(e.enter("tableDelimiterFiller"),P(F)):H(F)}function P(F){return F===45?(e.consume(F),P):F===58?(u=!0,e.exit("tableDelimiterFiller"),e.enter("tableDelimiterMarker"),e.consume(F),e.exit("tableDelimiterMarker"),N):(e.exit("tableDelimiterFiller"),N(F))}function N(F){return ze(F)?Ge(e,j,"whitespace")(F):j(F)}function j(F){return F===124?A(F):F===null||we(F)?!u||a!==l?H(F):(e.exit("tableDelimiterRow"),e.exit("tableHead"),t(F)):H(F)}function H(F){return n(F)}function U(F){return e.enter("tableRow"),ie(F)}function ie(F){return F===124?(e.enter("tableCellDivider"),e.consume(F),e.exit("tableCellDivider"),ie):F===null||we(F)?(e.exit("tableRow"),t(F)):ze(F)?Ge(e,ie,"whitespace")(F):(e.enter("data"),le(F))}function le(F){return F===null||F===124||it(F)?(e.exit("data"),ie(F)):(e.consume(F),F===92?pe:le)}function pe(F){return F===92||F===124?(e.consume(F),le):le(F)}}function Q4(e,t){let n=-1,r=!0,a=0,l=[0,0,0,0],u=[0,0,0,0],f=!1,h=0,d,m,y;const T=new q4;for(;++n<e.length;){const S=e[n],A=S[1];S[0]==="enter"?A.type==="tableHead"?(f=!1,h!==0&&(gv(T,t,h,d,m),m=void 0,h=0),d={type:"table",start:Object.assign({},A.start),end:Object.assign({},A.end)},T.add(n,0,[["enter",d,t]])):A.type==="tableRow"||A.type==="tableDelimiterRow"?(r=!0,y=void 0,l=[0,0,0,0],u=[0,n+1,0,0],f&&(f=!1,m={type:"tableBody",start:Object.assign({},A.start),end:Object.assign({},A.end)},T.add(n,0,[["enter",m,t]])),a=A.type==="tableDelimiterRow"?2:m?3:1):a&&(A.type==="data"||A.type==="tableDelimiterMarker"||A.type==="tableDelimiterFiller")?(r=!1,u[2]===0&&(l[1]!==0&&(u[0]=u[1],y=ru(T,t,l,a,void 0,y),l=[0,0,0,0]),u[2]=n)):A.type==="tableCellDivider"&&(r?r=!1:(l[1]!==0&&(u[0]=u[1],y=ru(T,t,l,a,void 0,y)),l=u,u=[l[1],n,0,0])):A.type==="tableHead"?(f=!0,h=n):A.type==="tableRow"||A.type==="tableDelimiterRow"?(h=n,l[1]!==0?(u[0]=u[1],y=ru(T,t,l,a,n,y)):u[1]!==0&&(y=ru(T,t,u,a,n,y)),a=0):a&&(A.type==="data"||A.type==="tableDelimiterMarker"||A.type==="tableDelimiterFiller")&&(u[3]=n)}for(h!==0&&gv(T,t,h,d,m),T.consume(t.events),n=-1;++n<t.events.length;){const S=t.events[n];S[0]==="enter"&&S[1].type==="table"&&(S[1]._align=Y4(t.events,n))}return e}function ru(e,t,n,r,a,l){const u=r===1?"tableHeader":r===2?"tableDelimiter":"tableData",f="tableContent";n[0]!==0&&(l.end=Object.assign({},_o(t.events,n[0])),e.add(n[0],0,[["exit",l,t]]));const h=_o(t.events,n[1]);if(l={type:u,start:Object.assign({},h),end:Object.assign({},h)},e.add(n[1],0,[["enter",l,t]]),n[2]!==0){const d=_o(t.events,n[2]),m=_o(t.events,n[3]),y={type:f,start:Object.assign({},d),end:Object.assign({},m)};if(e.add(n[2],0,[["enter",y,t]]),r!==2){const T=t.events[n[2]],S=t.events[n[3]];if(T[1].end=Object.assign({},S[1].end),T[1].type="chunkText",T[1].contentType="text",n[3]>n[2]+1){const A=n[2]+1,M=n[3]-n[2]-1;e.add(A,M,[])}}e.add(n[3]+1,0,[["exit",y,t]])}return a!==void 0&&(l.end=Object.assign({},_o(t.events,a)),e.add(a,0,[["exit",l,t]]),l=void 0),l}function gv(e,t,n,r,a){const l=[],u=_o(t.events,n);a&&(a.end=Object.assign({},u),l.push(["exit",a,t])),r.end=Object.assign({},u),l.push(["exit",r,t]),e.add(n+1,0,l)}function _o(e,t){const n=e[t],r=n[0]==="enter"?"start":"end";return n[1][r]}const J4={name:"tasklistCheck",tokenize:W4};function Z4(){return{text:{91:J4}}}function W4(e,t,n){const r=this;return a;function a(h){return r.previous!==null||!r._gfmTasklistFirstContentOfListItem?n(h):(e.enter("taskListCheck"),e.enter("taskListCheckMarker"),e.consume(h),e.exit("taskListCheckMarker"),l)}function l(h){return it(h)?(e.enter("taskListCheckValueUnchecked"),e.consume(h),e.exit("taskListCheckValueUnchecked"),u):h===88||h===120?(e.enter("taskListCheckValueChecked"),e.consume(h),e.exit("taskListCheckValueChecked"),u):n(h)}function u(h){return h===93?(e.enter("taskListCheckMarker"),e.consume(h),e.exit("taskListCheckMarker"),e.exit("taskListCheck"),f):n(h)}function f(h){return we(h)?t(h):ze(h)?e.check({tokenize:e3},t,n)(h):n(h)}}function e3(e,t,n){return Ge(e,r,"whitespace");function r(a){return a===null?n(a):t(a)}}function t3(e){return S1([E4(),L4(),G4(e),K4(),Z4()])}const n3={};function hT(e){const t=this,n=e||n3,r=t.data(),a=r.micromarkExtensions||(r.micromarkExtensions=[]),l=r.fromMarkdownExtensions||(r.fromMarkdownExtensions=[]),u=r.toMarkdownExtensions||(r.toMarkdownExtensions=[]);a.push(t3(n)),l.push(S4()),u.push(C4(n))}const i3=async e=>{if(!e)return{success:!1,message:"No content to copy"};try{const t=`
      <div style="color: #000000; font-family: system-ui, -apple-system, sans-serif; line-height: 1.6; background: transparent;">
        ${e.split(`
`).map(r=>{if(r.startsWith("# "))return`<h1 style="color: #000000; font-size: 1.5rem; font-weight: bold; margin: 1.5rem 0 1rem 0;">${r.replace("# ","")}</h1>`;if(r.startsWith("## "))return`<h2 style="color: #000000; font-size: 1.25rem; font-weight: bold; margin: 1rem 0 0.5rem 0;">${r.replace("## ","")}</h2>`;if(r.startsWith("### "))return`<h3 style="color: #000000; font-size: 1.1rem; font-weight: bold; margin: 0.75rem 0 0.25rem 0;">${r.replace("### ","")}</h3>`;if(r.startsWith("#### "))return`<h4 style="color: #000000; font-size: 1rem; font-weight: bold; margin: 0.5rem 0 0.25rem 0;">${r.replace("#### ","")}</h4>`;if(r.startsWith("- **")){const a=r.match(/- \*\*(.*?)\*\*:\s*(.*)/);if(a)return`<p style="margin: 0.25rem 0; color: #000000;"><strong style="color: #000000;">${a[1]}:</strong> ${a[2]}</p>`}else{if(r.startsWith("- "))return`<p style="margin: 0.25rem 0; padding-left: 1rem; color: #000000;"> ${r.replace("- ","")}</p>`;if(r.match(/^\d+\./))return`<p style="margin: 0.25rem 0; padding-left: 1rem; color: #000000;">${r}</p>`;if(r.startsWith("**")&&r.endsWith("**"))return`<p style="margin: 0.5rem 0; color: #000000; font-weight: bold;">${r.replace(/\*\*/g,"")}</p>`;if(r.trim())return`<p style="margin: 0.5rem 0; color: #000000;">${r}</p>`}return"<br>"}).join("")}
      </div>
    `,n=e.split(`
`).map(r=>{if(r.startsWith("# "))return r.replace("# ","");if(r.startsWith("## "))return r.replace("## ","");if(r.startsWith("### "))return r.replace("### ","");if(r.startsWith("#### "))return r.replace("#### ","");if(r.startsWith("- **")){const a=r.match(/- \*\*(.*?)\*\*:\s*(.*)/);if(a)return`${a[1]}: ${a[2]}`}else{if(r.startsWith("- "))return` ${r.replace("- ","")}`;if(r.startsWith("**")&&r.endsWith("**"))return r.replace(/\*\*/g,"")}return r}).join(`
`);if(navigator.clipboard&&navigator.clipboard.write){const r=new Blob([t],{type:"text/html"}),a=new Blob([n],{type:"text/plain"}),l=new ClipboardItem({"text/html":r,"text/plain":a});return await navigator.clipboard.write([l]),{success:!0,message:"Content copied (Rich Format)!"}}else return await navigator.clipboard.writeText(n),{success:!0,message:"Content copied (Plain Text)!"}}catch(t){return console.error("Failed to copy content:",t),{success:!1,message:"Failed to copy. Please try manually."}}},cs=({content:e,onExportPDF:t,onCopy:n,className:r=""})=>{const[a,l]=te.useState(""),u=async()=>{if(n){n();return}const h=await i3(e);l(h.message),setTimeout(()=>l(""),3e3)},f={h1:({children:h})=>g.jsx("h1",{className:"text-3xl font-bold text-purple-300 mb-6 border-b border-gray-600 pb-3",children:h}),h2:({children:h})=>g.jsx("h2",{className:"text-2xl font-semibold text-purple-200 mt-8 mb-4 border-l-4 border-purple-500 pl-4",children:h}),h3:({children:h})=>g.jsx("h3",{className:"text-xl font-semibold text-purple-100 mt-6 mb-3 flex items-center",children:h}),h4:({children:h})=>g.jsx("h4",{className:"text-lg font-medium text-gray-200 mt-4 mb-2",children:h}),p:({children:h})=>g.jsx("p",{className:"text-gray-300 mb-4 leading-relaxed",children:h}),ul:({children:h})=>g.jsx("ul",{className:"list-disc list-inside text-gray-300 mb-4 space-y-1 ml-4",children:h}),ol:({children:h})=>g.jsx("ol",{className:"list-decimal list-inside text-gray-300 mb-4 space-y-1 ml-4",children:h}),li:({children:h})=>g.jsx("li",{className:"text-gray-300 mb-1",children:h}),strong:({children:h})=>g.jsx("strong",{className:"font-semibold text-gray-100",children:h}),em:({children:h})=>g.jsx("em",{className:"italic text-gray-200",children:h}),code:({children:h,className:d})=>d?g.jsx("pre",{className:"bg-gray-800 border border-gray-600 rounded-lg p-4 overflow-x-auto mb-4",children:g.jsx("code",{className:"text-green-300 text-sm font-mono",children:h})}):g.jsx("code",{className:"bg-gray-700 text-purple-300 px-2 py-1 rounded text-sm font-mono",children:h}),blockquote:({children:h})=>g.jsx("blockquote",{className:"border-l-4 border-purple-500 bg-gray-800/50 pl-4 py-2 mb-4 italic text-gray-300",children:h}),table:({children:h})=>g.jsx("div",{className:"overflow-x-auto mb-6",children:g.jsx("table",{className:"min-w-full bg-gray-800 border border-gray-600 rounded-lg",children:h})}),thead:({children:h})=>g.jsx("thead",{className:"bg-gray-700",children:h}),tbody:({children:h})=>g.jsx("tbody",{className:"divide-y divide-gray-600",children:h}),tr:({children:h})=>g.jsx("tr",{className:"hover:bg-gray-700/50 transition-colors",children:h}),th:({children:h})=>g.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold text-purple-300 border-b border-gray-600",children:h}),td:({children:h})=>g.jsx("td",{className:"px-4 py-3 text-sm text-gray-300",children:h}),hr:()=>g.jsx("hr",{className:"border-gray-600 my-8"}),a:({href:h,children:d})=>g.jsx("a",{href:h,className:"text-purple-400 hover:text-purple-300 underline transition-colors",target:"_blank",rel:"noopener noreferrer",children:d})};return g.jsxs("div",{className:`markdown-content ${r}`,children:[g.jsxs("div",{className:"flex justify-end gap-2 mb-4 pb-4 border-b border-gray-700",children:[g.jsx(Le,{onClick:u,variant:"outline",size:"sm",leftIcon:g.jsx(EN,{className:"w-4 h-4"}),children:"Copy Content"}),t&&g.jsx(Le,{onClick:t,variant:"secondary",size:"sm",leftIcon:g.jsx($d,{className:"w-4 h-4"}),children:"Export PDF"})]}),a&&g.jsx("div",{className:`text-sm mb-4 p-2 rounded ${a.includes("Failed")?"text-red-400 bg-red-900/20":"text-green-400 bg-green-900/20"}`,children:a}),g.jsx("div",{className:"prose prose-invert max-w-none",children:g.jsx(H1,{components:f,remarkPlugins:[hT],children:e})})]})};function r3(e){return typeof e=="number"}function o3(e){return typeof e=="string"}function a3(e){return typeof e<"u"}function s3(e,t){return Math.pow(2,(e-69)/12)*440}var l3=/^([a-gA-G])(#{1,}|b{1,}|x{1,}|)(-?\d*)\s*(.*)\s*$/,u3=[0,2,4,5,7,9,11];function c3(e,t,n){if(typeof e!="string")return null;var r=l3.exec(e);if(!r||r[4])return null;var a={letter:r[1].toUpperCase(),acc:r[2].replace(/x/g,"##")};a.pc=a.letter+a.acc,a.step=(a.letter.charCodeAt(0)+3)%7,a.alt=a.acc[0]==="b"?-a.acc.length:a.acc.length;var l=u3[a.step]+a.alt;return a.chroma=l<0?12+l:l%12,r[3]&&(a.oct=+r[3],a.midi=l+12*(a.oct+1),a.freq=s3(a.midi)),a}function f3(e){if((r3(e)||o3(e))&&e>=0&&e<128)return+e;var t=c3(e);return t&&a3(t.midi)?t.midi:null}function d3(e){return Array.isArray(e)&&e.length===2?e[0]*7+e[1]*12+12:f3(e)}var h3="C Db D Eb E F Gb G Ab A Bb B".split(" "),m3="C C# D D# E F F# G G# A A# B".split(" ");function mT(e,t){if(e===!0||e===!1)return function(l){return mT(l,e)};e=Math.round(e);var n=t===!0?m3:h3,r=n[e%12],a=Math.floor(e/12)-1;return r+a}const p3=Object.freeze(Object.defineProperty({__proto__:null,note:mT,toMidi:d3},Symbol.toStringTag,{value:"Module"})),g3=rA(p3);var Cd,yv;function y3(){if(yv)return Cd;yv=1;var e=g3,t={VERSION:"2.1.4",HEADER_CHUNK_TYPE:[77,84,104,100],HEADER_CHUNK_LENGTH:[0,0,0,6],HEADER_CHUNK_FORMAT0:[0,0],HEADER_CHUNK_FORMAT1:[0,1],HEADER_CHUNK_DIVISION:[0,128],TRACK_CHUNK_TYPE:[77,84,114,107],META_EVENT_ID:255,META_TEXT_ID:1,META_COPYRIGHT_ID:2,META_TRACK_NAME_ID:3,META_INSTRUMENT_NAME_ID:4,META_LYRIC_ID:5,META_MARKER_ID:6,META_CUE_POINT:7,META_TEMPO_ID:81,META_SMTPE_OFFSET:84,META_TIME_SIGNATURE_ID:88,META_KEY_SIGNATURE_ID:89,META_END_OF_TRACK_ID:[47,0],CONTROLLER_CHANGE_STATUS:176,PITCH_BEND_STATUS:224};function n(L){"@babel/helpers - typeof";return n=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(D){return typeof D}:function(D){return D&&typeof Symbol=="function"&&D.constructor===Symbol&&D!==Symbol.prototype?"symbol":typeof D},n(L)}function r(){r=function(B,q){return new _(B,void 0,q)};var L=RegExp.prototype,D=new WeakMap;function _(B,q,k){var J=new RegExp(B,q);return D.set(J,k||D.get(B)),h(J,_.prototype)}function C(B,q){var k=D.get(q);return Object.keys(k).reduce(function(J,O){return J[O]=B[k[O]],J},Object.create(null))}return f(_,RegExp),_.prototype.exec=function(B){var q=L.exec.call(this,B);return q&&(q.groups=C(q,this)),q},_.prototype[Symbol.replace]=function(B,q){if(typeof q=="string"){var k=D.get(this);return L[Symbol.replace].call(this,B,q.replace(/\$<([^>]+)>/g,function(O,re){return"$"+k[re]}))}if(typeof q=="function"){var J=this;return L[Symbol.replace].call(this,B,function(){var O=arguments;return typeof O[O.length-1]!="object"&&(O=[].slice.call(O)).push(C(O,J)),q.apply(this,O)})}return L[Symbol.replace].call(this,B,q)},r.apply(this,arguments)}function a(L,D){if(!(L instanceof D))throw new TypeError("Cannot call a class as a function")}function l(L,D){for(var _=0;_<D.length;_++){var C=D[_];C.enumerable=C.enumerable||!1,C.configurable=!0,"value"in C&&(C.writable=!0),Object.defineProperty(L,C.key,C)}}function u(L,D,_){return D&&l(L.prototype,D),_&&l(L,_),Object.defineProperty(L,"prototype",{writable:!1}),L}function f(L,D){if(typeof D!="function"&&D!==null)throw new TypeError("Super expression must either be null or a function");L.prototype=Object.create(D&&D.prototype,{constructor:{value:L,writable:!0,configurable:!0}}),Object.defineProperty(L,"prototype",{writable:!1}),D&&h(L,D)}function h(L,D){return h=Object.setPrototypeOf||function(C,B){return C.__proto__=B,C},h(L,D)}var d=function(){function L(){a(this,L)}return u(L,null,[{key:"version",value:function(){return t.VERSION}},{key:"stringToBytes",value:function(_){return _.split("").map(function(C){return C.charCodeAt()})}},{key:"isNumeric",value:function(_){return!isNaN(parseFloat(_))&&isFinite(_)}},{key:"getPitch",value:function(_){var C=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"C4";return 60-e.toMidi(C)+e.toMidi(_)}},{key:"numberToVariableLength",value:function(_){_=Math.round(_);for(var C=_&127;_=_>>7;)C<<=8,C|=_&127|128;for(var B=[];B.push(C&255),C&128;)C>>=8;return B}},{key:"stringByteCount",value:function(_){return encodeURI(_).split(/%..|./).length-1}},{key:"numberFromBytes",value:function(_){var C="",B;return _.forEach(function(q){B=q.toString(16),B.length==1&&(B="0"+B),C+=B}),parseInt(C,16)}},{key:"numberToBytes",value:function(_,C){C=C||1;var B=_.toString(16);B.length&1&&(B="0"+B);var q=B.match(/.{2}/g);if(q=q.map(function(k){return parseInt(k,16)}),q.length<C)for(;C-q.length>0;)q.unshift(0);return q}},{key:"toArray",value:function(_){return Array.isArray(_)?_:[_]}},{key:"convertVelocity",value:function(_){return _=_>100?100:_,Math.round(_/100*127)}},{key:"getTickDuration",value:function(_){if(Array.isArray(_))return _.map(function(k){return L.getTickDuration(k)}).reduce(function(k,J){return k+J},0);if(_=_.toString(),_.toLowerCase().charAt(0)==="t"){var C=parseInt(_.substring(1));if(isNaN(C)||C<0)throw new Error(_+" is not a valid duration.");return C}var B=L.numberFromBytes(t.HEADER_CHUNK_DIVISION),q=B*L.getDurationMultiplier(_);return L.getRoundedIfClose(q)}},{key:"getRoundedIfClose",value:function(_){var C=Math.round(_);return Math.abs(C-_)<1e-6?C:_}},{key:"getPrecisionLoss",value:function(_){var C=Math.round(_);return C-_}},{key:"getDurationMultiplier",value:function(_){if(_==="0")return 0;var C=_.match(r(/^(d+)?(\d+)(?:t(\d*))?/,{dotted:1,base:2,tuplet:3}));if(C){var B=Number(C.groups.base),q=B===1||(B&B-1)===0;if(q){var k=B/4,J=1/k,O=C.groups,re=O.dotted,ye=O.tuplet;if(re){var he=re.length,Se=Math.pow(2,he);J=J+J*((Se-1)/Se)}if(typeof ye=="string"){var Ne=J*2,be=Number(ye||"3");J=Ne/be}return J}}throw new Error(_+" is not a valid duration.")}}]),L}(),m=u(function L(D){a(this,L),D=Object.assign({delta:0},D),this.type="controller",this.data=d.numberToVariableLength(D.delta).concat(t.CONTROLLER_CHANGE_STATUS,D.controllerNumber,D.controllerValue)}),y=u(function L(D){a(this,L),D=Object.assign({delta:0},D),this.type="cue-point";var _=d.stringToBytes(D.text);this.data=d.numberToVariableLength(D.delta).concat(t.META_EVENT_ID,t.META_CUE_POINT,d.numberToVariableLength(_.length),_)}),T=u(function L(D){a(this,L),D=Object.assign({delta:0},D),this.type="end-track",this.data=d.numberToVariableLength(D.delta).concat(t.META_EVENT_ID,t.META_END_OF_TRACK_ID)}),S=u(function L(D){a(this,L),D=Object.assign({delta:0},D),this.type="instrument-name";var _=d.stringToBytes(D.text);this.data=d.numberToVariableLength(D.delta).concat(t.META_EVENT_ID,t.META_INSTRUMENT_NAME_ID,d.numberToVariableLength(_.length),_)}),A=u(function L(D,_){a(this,L),this.type="key-signature";var C=_||0;if(D=D||0,typeof _>"u"){var B=[["Cb","Gb","Db","Ab","Eb","Bb","F","C","G","D","A","E","B","F#","C#"],["ab","eb","bb","f","c","g","d","a","e","b","f#","c#","g#","d#","a#"]],q=D.length,k=D||"C";if(D[0]===D[0].toLowerCase()&&(C=1),q>1)switch(D.charAt(q-1)){case"m":C=1,k=D.charAt(0).toLowerCase(),k=k.concat(D.substring(1,q-1));break;case"-":C=1,k=D.charAt(0).toLowerCase(),k=k.concat(D.substring(1,q-1));break;case"M":C=0,k=D.charAt(0).toUpperCase(),k=k.concat(D.substring(1,q-1));break;case"+":C=0,k=D.charAt(0).toUpperCase(),k=k.concat(D.substring(1,q-1));break}var J=B[C].indexOf(k);D=J===-1?0:J-7}this.data=d.numberToVariableLength(0).concat(t.META_EVENT_ID,t.META_KEY_SIGNATURE_ID,[2],d.numberToBytes(D,1),d.numberToBytes(C,1))}),M=u(function L(D){a(this,L),D=Object.assign({delta:0},D),this.type="lyric";var _=d.stringToBytes(D.text);this.data=d.numberToVariableLength(D.delta).concat(t.META_EVENT_ID,t.META_LYRIC_ID,d.numberToVariableLength(_.length),_)}),R=u(function L(D){a(this,L),D=Object.assign({delta:0},D),this.type="marker";var _=d.stringToBytes(D.text);this.data=d.numberToVariableLength(D.delta).concat(t.META_EVENT_ID,t.META_MARKER_ID,d.numberToVariableLength(_.length),_)}),I=function(){function L(D){a(this,L),D=Object.assign({channel:1,startTick:null,velocity:50,wait:0},D),this.type="note-on",this.channel=D.channel,this.pitch=D.pitch,this.wait=D.wait,this.velocity=D.velocity,this.startTick=D.startTick,this.tick=null,this.delta=null,this.data=D.data}return u(L,[{key:"buildData",value:function(_,C){var B=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this.data=[],this.startTick?(this.tick=d.getRoundedIfClose(this.startTick),_.tickPointer==0&&(this.delta=this.tick)):(this.delta=d.getTickDuration(this.wait),this.tick=d.getRoundedIfClose(_.tickPointer+this.delta)),this.deltaWithPrecisionCorrection=d.getRoundedIfClose(this.delta-C),this.data=d.numberToVariableLength(this.deltaWithPrecisionCorrection).concat(this.getStatusByte(),d.getPitch(this.pitch,B.middleC),d.convertVelocity(this.velocity)),this}},{key:"getStatusByte",value:function(){return 144+this.channel-1}}]),L}(),P=function(){function L(D){a(this,L),D=Object.assign({channel:1,velocity:50,tick:null},D),this.type="note-off",this.channel=D.channel,this.pitch=D.pitch,this.duration=D.duration,this.velocity=D.velocity,this.tick=D.tick,this.delta=d.getTickDuration(this.duration),this.data=D.data}return u(L,[{key:"buildData",value:function(_,C){var B=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this.tick===null&&(this.tick=d.getRoundedIfClose(this.delta+_.tickPointer)),this.deltaWithPrecisionCorrection=d.getRoundedIfClose(this.delta-C),this.data=d.numberToVariableLength(this.deltaWithPrecisionCorrection).concat(this.getStatusByte(),d.getPitch(this.pitch,B.middleC),d.convertVelocity(this.velocity)),this}},{key:"getStatusByte",value:function(){return 128+this.channel-1}}]),L}(),N=function(){function L(D){a(this,L),D=Object.assign({channel:1,repeat:1,sequential:!1,startTick:null,velocity:50,wait:0},D),this.data=[],this.type="note",this.pitch=d.toArray(D.pitch),this.channel=D.channel,this.duration=D.duration,this.grace=D.grace,this.repeat=D.repeat,this.sequential=D.sequential,this.startTick=D.startTick,this.velocity=D.velocity,this.wait=D.wait,this.tickDuration=d.getTickDuration(this.duration),this.restDuration=d.getTickDuration(this.wait),this.events=[]}return u(L,[{key:"buildData",value:function(){var _=this;if(this.data=[],this.grace){var C=1;this.grace=d.toArray(this.grace),this.grace.forEach(function(){var k=new L({pitch:_.grace,duration:"T"+C});_.data=_.data.concat(k.data)})}if(this.sequential)for(var q=0;q<this.repeat;q++)this.pitch.forEach(function(k,J){var O=new I({channel:_.channel,wait:J>0?0:_.wait,velocity:_.velocity,pitch:k,startTick:_.startTick}),re=new P({channel:_.channel,duration:_.duration,velocity:_.velocity,pitch:k});_.events.push(O,re)});else for(var B=0;B<this.repeat;B++)this.pitch.forEach(function(k,J){var O;J==0?O=new I({channel:_.channel,wait:_.wait,velocity:_.velocity,pitch:k,startTick:_.startTick}):O=new I({channel:_.channel,wait:0,velocity:_.velocity,pitch:k,startTick:_.startTick}),_.events.push(O)}),this.pitch.forEach(function(k,J){var O;J==0?O=new P({channel:_.channel,duration:_.duration,velocity:_.velocity,pitch:k,tick:_.startTick!==null?d.getTickDuration(_.duration)+_.startTick:null}):O=new P({channel:_.channel,duration:0,velocity:_.velocity,pitch:k,tick:_.startTick!==null?d.getTickDuration(_.duration)+_.startTick:null}),_.events.push(O)});return this}}]),L}(),j=function(D){return D<=0?Math.floor(16384*(D+1)/2):Math.floor(16383*(D+1)/2)},H=u(function L(D){a(this,L),D=Object.assign({delta:0},D),this.type="pitch-bend";var _=j(D.bend),C=D.channel||0,B=_&127,q=_>>7&127;this.data=d.numberToVariableLength(D.delta).concat(t.PITCH_BEND_STATUS|C,B,q)}),U=function(){function L(D){a(this,L),this.fields=Object.assign({channel:1,delta:0},D),this.type="program",this.data=d.numberToVariableLength(this.fields.delta).concat(this.getStatusByte(),this.fields.instrument)}return u(L,[{key:"getStatusByte",value:function(){return 192+this.fields.channel-1}}]),L}(),ie=u(function L(D){a(this,L),D=Object.assign({delta:0},D),this.type="tempo",this.tick=D.tick;var _=Math.round(6e7/D.bpm);this.data=d.numberToVariableLength(D.delta).concat(t.META_EVENT_ID,t.META_TEMPO_ID,[3],d.numberToBytes(_,3))}),le=u(function L(D){a(this,L),D=Object.assign({delta:0},D),this.type="text";var _=d.stringToBytes(D.text);this.data=d.numberToVariableLength(D.delta).concat(t.META_EVENT_ID,t.META_TEXT_ID,d.numberToVariableLength(_.length),_)}),pe=u(function L(D,_,C,B){a(this,L),this.type="time-signature",this.data=d.numberToVariableLength(0).concat(t.META_EVENT_ID,t.META_TIME_SIGNATURE_ID,[4],d.numberToBytes(D,1),d.numberToBytes(Math.log2(_),1),d.numberToBytes(C||24,1),d.numberToBytes(B||8,1))}),F=u(function L(D){a(this,L),D=Object.assign({delta:0},D),this.type="copyright";var _=d.stringToBytes(D.text);this.data=d.numberToVariableLength(D.delta).concat(t.META_EVENT_ID,t.META_COPYRIGHT_ID,d.numberToVariableLength(_.length),_)}),ue=u(function L(D){a(this,L),D=Object.assign({delta:0},D),this.type="track-name";var _=d.stringToBytes(D.text);this.data=d.numberToVariableLength(D.delta).concat(t.META_EVENT_ID,t.META_TRACK_NAME_ID,d.numberToVariableLength(_.length),_)}),fe=function(){function L(){a(this,L),this.type=t.TRACK_CHUNK_TYPE,this.data=[],this.size=[],this.events=[],this.explicitTickEvents=[],this.tickPointer=0}return u(L,[{key:"addEvent",value:function(_,C){var B=this;return d.toArray(_).forEach(function(q,k){if(q instanceof N){if(typeof C=="function"){var J=C(k,q);if(n(J)==="object")for(var O in J)switch(O){case"channel":q.channel=J[O];break;case"duration":q.duration=J[O];break;case"sequential":q.sequential=J[O];break;case"velocity":q.velocity=d.convertVelocity(J[O]);break}}q.startTick!==null?B.explicitTickEvents.push(q):q.buildData().events.forEach(function(re){return B.events.push(re)})}else q instanceof T&&B.removeEventsByType("end-track"),B.events.push(q)}),this}},{key:"buildData",value:function(){var _=this,C=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};(!this.events.length||!(this.events[this.events.length-1]instanceof T))&&this.addEvent(new T),this.data=[],this.size=[],this.tickPointer=0;var B=0;return this.events.forEach(function(q){if(q instanceof I||q instanceof P){var k=q.buildData(_,B,C);B=d.getPrecisionLoss(q.deltaWithPrecisionCorrection||0),_.data=_.data.concat(k.data),_.tickPointer=d.getRoundedIfClose(q.tick)}else q instanceof ie&&(_.tickPointer=d.getRoundedIfClose(q.tick)),_.data=_.data.concat(q.data)}),this.mergeExplicitTickEvents(),this.size=d.numberToBytes(this.data.length,4),this}},{key:"mergeExplicitTickEvents",value:function(){var _=this;this.explicitTickEvents.length&&(this.explicitTickEvents.sort(function(C,B){return C.startTick-B.startTick}),this.explicitTickEvents.forEach(function(C){C.buildData().events.forEach(function(B){return B.buildData(_)}),C.events.forEach(function(B){return _.mergeSingleEvent(B)})}),this.explicitTickEvents=[],this.buildData())}},{key:"mergeTrack",value:function(_){var C=this;this.buildData(),_.buildData().events.forEach(function(B){return C.mergeSingleEvent(B)})}},{key:"mergeSingleEvent",value:function(_){if(!this.events.length){this.addEvent(_);return}for(var C,B=0;B<this.events.length&&!(this.events[B].tick>_.tick);B++)C=B;var q=C+1;_.delta=_.tick-this.events[C].tick,this.events.splice(q,0,_);for(var k=q+1;k<this.events.length;k++)this.events[k].delta=this.events[k].tick-this.events[k-1].tick}},{key:"removeEventsByType",value:function(_){var C=this;return this.events.forEach(function(B,q){B.type===_&&C.events.splice(q,1)}),this}},{key:"setTempo",value:function(_){var C=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return this.addEvent(new ie({bpm:_,tick:C}))}},{key:"setTimeSignature",value:function(_,C,B,q){return this.addEvent(new pe(_,C,B,q))}},{key:"setKeySignature",value:function(_,C){return this.addEvent(new A(_,C))}},{key:"addText",value:function(_){return this.addEvent(new le({text:_}))}},{key:"addCopyright",value:function(_){return this.addEvent(new F({text:_}))}},{key:"addTrackName",value:function(_){return this.addEvent(new ue({text:_}))}},{key:"addInstrumentName",value:function(_){return this.addEvent(new S({text:_}))}},{key:"addMarker",value:function(_){return this.addEvent(new R({text:_}))}},{key:"addCuePoint",value:function(_){return this.addEvent(new y({text:_}))}},{key:"addLyric",value:function(_){return this.addEvent(new M({text:_}))}},{key:"polyModeOn",value:function(){var _=new I({data:[0,176,126,0]});return this.addEvent(_)}},{key:"setPitchBend",value:function(_){return this.addEvent(new H({bend:_}))}},{key:"controllerChange",value:function(_,C){return this.addEvent(new m({controllerNumber:_,controllerValue:C}))}}]),L}(),W=function(){function L(){a(this,L)}return u(L,[{key:"trackFromVoice",value:function(_){var C=this,B=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{addRenderedAccidentals:!1},q=new fe,k=[];return _.tickables.forEach(function(J){J.noteType==="n"?(q.addEvent(new N({pitch:J.keys.map(function(O,re){return C.convertPitch(O,re,J,B.addRenderedAccidentals)}),duration:C.convertDuration(J),wait:k})),k=[]):J.noteType==="r"&&k.push(C.convertDuration(J))}),k.length>0&&q.addEvent(new N({pitch:"[c4]",duration:"0",wait:k,velocity:"0"})),q}},{key:"convertPitch",value:function(_,C,B){var q=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1,k=_.split("/"),J=k[0].substring(1).replace("n","");if(q){var O;(O=B.getAccidentals())===null||O===void 0||O.forEach(function(re){re.index===C&&(re.type==="n"?J="":J+=re.type)})}return k[0][0]+J+k[1]}},{key:"convertDuration",value:function(_){return"d".repeat(_.dots)+this.convertBaseDuration(_.duration)+(_.tuplet?"t"+_.tuplet.num_notes:"")}},{key:"convertBaseDuration",value:function(_){switch(_){case"w":return"1";case"h":return"2";case"q":return"4";default:return _}}}]),L}(),ae=u(function L(D){a(this,L),this.type=t.HEADER_CHUNK_TYPE;var _=D>1?t.HEADER_CHUNK_FORMAT1:t.HEADER_CHUNK_FORMAT0;this.data=_.concat(d.numberToBytes(D,2),t.HEADER_CHUNK_DIVISION),this.size=[0,0,0,this.data.length]}),me=function(){function L(D){var _=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};a(this,L),this.tracks=d.toArray(D),this.options=_}return u(L,[{key:"buildData",value:function(){var _=this,C=[];return C.push(new ae(this.tracks.length)),this.tracks.forEach(function(B){C.push(B.buildData(_.options))}),C}},{key:"buildFile",value:function(){var _=[];return this.buildData().forEach(function(C){return _=_.concat(C.type,C.size,C.data)}),new Uint8Array(_)}},{key:"base64",value:function(){return typeof btoa=="function"?btoa(String.fromCharCode.apply(null,this.buildFile())):Buffer.from(this.buildFile()).toString("base64")}},{key:"dataUri",value:function(){return"data:audio/midi;base64,"+this.base64()}},{key:"setOption",value:function(_,C){return this.options[_]=C,this}},{key:"stdout",value:function(){return process.stdout.write(Buffer.from(this.buildFile()))}}]),L}(),$={Constants:t,ControllerChangeEvent:m,CuePointEvent:y,EndTrackEvent:T,InstrumentNameEvent:S,KeySignatureEvent:A,LyricEvent:M,MarkerEvent:R,NoteOnEvent:I,NoteOffEvent:P,NoteEvent:N,PitchBendEvent:H,ProgramChangeEvent:U,TempoEvent:ie,TextEvent:le,TimeSignatureEvent:pe,Track:fe,TrackNameEvent:ue,Utils:d,VexFlow:W,Writer:me};return Cd=$,Cd}var x3=y3();const Hn=ks(x3),ou=e=>{if(!Hn.Track)return null;const t=new Hn.Track;return t.addTrackName(e),t},wd=(e,t,n,r=!1)=>{!Hn.NoteEvent||!t||t.length===0||!e||t.forEach(a=>{let l=[];if(r)l=a.notes.map(f=>f.midi).filter(f=>typeof f=="number");else{const u=a;typeof u.midi=="number"&&(l=[u.midi])}if(l.length>0){const u=Math.round(a.duration*128),f=Math.round(a.time*128),h=l.map(d=>{const m=["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"],y=Math.floor(d/12)-1;return`${m[d%12]}${y}`});e.addEvent(new Hn.NoteEvent({pitch:h.length===1?h[0]:h,duration:`T${u}`,startTick:f,velocity:a.velocity||(r?90:100),channel:n}))}})},v3=(e,t)=>{!Hn.NoteEvent||!t||Object.keys(t).length===0||!e||Object.entries(t).forEach(([n,r])=>{const a=n.toLowerCase().replace(/\s+/g,"_"),l=Po[a]||Po[n];typeof l!="number"||!r||r.forEach(u=>{const f=Math.round(u.duration*128),h=Math.round(u.time*128),d=["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"],m=Math.floor(l/12)-1,T=`${d[l%12]}${m}`;e.addEvent(new Hn.NoteEvent({pitch:T,duration:`T${f}`,startTick:h,velocity:u.velocity||100,channel:10}))})})},xv=(e,t,n="TrackGuide")=>{if(console.log(" Generating MIDI file with patterns:",e),console.log(" Settings:",t),console.log(" Track name prefix:",n),!Hn||!Hn.Writer||!Hn.Track||!Hn.NoteEvent)return console.error("MidiWriterJS components (Writer, Track, NoteEvent) are not loaded. Cannot generate MIDI file."),null;const r=[];let a=!1;const l=f=>(f&&(f.setTempo(t.tempo,0),f.setTimeSignature(t.timeSignature[0],t.timeSignature[1])),f);if(e.chords&&e.chords.length>0){let f=ou(`${n} Chords`);f=l(f),f&&(wd(f,e.chords,1,!0),r.push(f),a=!0)}if(e.bassline&&e.bassline.length>0){let f=ou(`${n} Bassline`);f=l(f),f&&(wd(f,e.bassline,2,!1),r.push(f),a=!0)}if(e.melody&&e.melody.length>0){let f=ou(`${n} Melody`);f=l(f),f&&(wd(f,e.melody,3,!1),r.push(f),a=!0)}if(e.drums&&Object.keys(e.drums).length>0){let f=ou(`${n} Drums`);f=l(f),f&&(v3(f,e.drums),r.push(f),a=!0)}return a?new Hn.Writer(r).dataUri():(console.warn("No patterns to write to MIDI file."),null)},vv=(e,t)=>{if(console.log(" Downloading MIDI file:",t),console.log(" Data URI length:",e.length),console.log(" Data URI starts with:",e.substring(0,50)),!e){console.error("MIDI data URI is null or empty. Cannot download."),alert("Failed to generate MIDI data for download.");return}const n=document.createElement("a");n.href=e,n.download=t,document.body.appendChild(n),n.click(),document.body.removeChild(n),console.log(" Download triggered successfully")};let Zi=null,tr=[],Eu=null,mu=null,Mu=0,fs=0,Vo=!1;const Kh=()=>((!Zi||Zi.state==="closed")&&(Zi=new(window.AudioContext||window.webkitAudioContext),Eu=Zi.createGain(),Eu.connect(Zi.destination)),Zi.state==="suspended"&&Zi.resume(),Zi),_r=(e,t)=>{const n=e/t*60;return Number.isFinite(n)?n:(console.error(" beatsToSeconds produced non-finite result:",n,"beats:",e,"tempo:",t),0)},Ad=(e,t,n,r=100,a=!1,l,u)=>{const f=Kh();if(!Eu||!u)return;if(!Number.isFinite(e)||!Number.isFinite(t)||!Number.isFinite(n)||!Number.isFinite(r)){console.error(" Invalid note values detected:",{noteNumber:e,startTimeInLoopSeconds:t,durationSeconds:n,velocity:r,trackType:u,isDrum:a,drumTypeKey:l});return}const h=Mu+fs*pT()+t;if(h<f.currentTime-.05)return;const d=f.createGain(),m=r/127*(a?.75:.35);let y=m;if((!Number.isFinite(y)||y<0)&&(console.error(" Invalid gain value detected:",y,"for velocity:",r),y=.1),d.gain.setValueAtTime(y,h),y>1e-4)try{d.gain.exponentialRampToValueAtTime(1e-4,h+n)}catch{d.gain.linearRampToValueAtTime(1e-4,h+n)}d.connect(Eu);let T;if(a){const S=l||"";if(console.log(` Synthesizing drum: "${S}" (MIDI: ${e})`),S.includes("kick")||S.includes("bass_drum")||e===36){const A=f.createOscillator();A.type="sine",A.frequency.setValueAtTime(150,h),A.frequency.exponentialRampToValueAtTime(50,h+Math.min(n,.12));const M=f.createGain();M.gain.setValueAtTime(1,h),M.gain.exponentialRampToValueAtTime(.001,h+n),A.connect(M).connect(d),A.start(h),A.stop(h+n),tr.push({node:A,controlGainNode:d,trackType:u,intendedVolume:m,scheduledStopTime:h+n,isDrum:!0});return}else if(S.includes("snare")||e===38){T=f.createBufferSource();const A=Math.max(1,Math.floor(f.sampleRate*n)),M=f.createBuffer(1,A,f.sampleRate),R=M.getChannelData(0);for(let I=0;I<A;I++)R[I]=(Math.random()*2-1)*Math.exp(-I/(f.sampleRate*.05));T.buffer=M}else if(S.includes("clap")||S.includes("hand_clap")||e===39){T=f.createBufferSource();const A=Math.max(1,Math.floor(f.sampleRate*n)),M=f.createBuffer(1,A,f.sampleRate),R=M.getChannelData(0);for(let I=0;I<A;I++){const P=Math.exp(-I/(f.sampleRate*.03)),N=Math.random()*2-1,j=Math.sin(I*.01)>.5?1:.3;R[I]=N*P*j}T.buffer=M}else if(S.includes("hat")||S.includes("hihat")||e===42||e===46){T=f.createBufferSource();const A=Math.max(1,Math.floor(f.sampleRate*n)),M=f.createBuffer(1,A,f.sampleRate),R=M.getChannelData(0),I=5e3,N=S.includes("open")||e===46?.15:.03;for(let j=0;j<A;j++)R[j]=(Math.random()*2-1)*Math.exp(-j/(f.sampleRate*N))*Math.sin(2*Math.PI*I*(j/f.sampleRate)*(1+Math.random()*.3));T.buffer=M}else if(S.includes("crash")||S.includes("cymbal")||e===49){T=f.createBufferSource();const A=Math.max(1,Math.floor(f.sampleRate*n)),M=f.createBuffer(1,A,f.sampleRate),R=M.getChannelData(0),I=4e3,P=.25;for(let N=0;N<A;N++){const j=Math.exp(-N/(f.sampleRate*P)),H=Math.sin(2*Math.PI*I*(N/f.sampleRate)),U=Math.sin(2*Math.PI*I*1.5*(N/f.sampleRate)),ie=(Math.random()*2-1)*.3;R[N]=(H+U*.7+ie)*j}T.buffer=M}else if(S.includes("ride")||e===51){T=f.createBufferSource();const A=Math.max(1,Math.floor(f.sampleRate*n)),M=f.createBuffer(1,A,f.sampleRate),R=M.getChannelData(0),I=3e3,P=.15;for(let N=0;N<A;N++){const j=Math.exp(-N/(f.sampleRate*P)),H=Math.sin(2*Math.PI*I*(N/f.sampleRate)),U=Math.sin(2*Math.PI*I*2.5*(N/f.sampleRate))*.3;R[N]=(H+U)*j}T.buffer=M}else if(S.includes("tom")||e===41||e===47||e===50){const A=f.createOscillator();A.type="sine";let M=200;S.includes("high")||e===50?M=300:S.includes("mid")||e===47?M=200:(S.includes("low")||e===41)&&(M=120),A.frequency.setValueAtTime(M,h),A.frequency.exponentialRampToValueAtTime(M*.5,h+n*.8);const R=f.createGain();R.gain.setValueAtTime(.9,h),R.gain.exponentialRampToValueAtTime(.001,h+n),A.connect(R).connect(d),A.start(h),A.stop(h+n),tr.push({node:A,controlGainNode:d,trackType:u,intendedVolume:m,scheduledStopTime:h+n,isDrum:!0});return}else if(S.includes("shaker")||S.includes("tambourine")||S.includes("cowbell")||e===70||e===54||e===56){T=f.createBufferSource();const A=Math.max(1,Math.floor(f.sampleRate*n)),M=f.createBuffer(1,A,f.sampleRate),R=M.getChannelData(0),I=S.includes("cowbell")?800:6e3,P=.1;for(let N=0;N<A;N++){const j=Math.exp(-N/(f.sampleRate*P));S.includes("cowbell")?R[N]=Math.sin(2*Math.PI*I*(N/f.sampleRate))*j:R[N]=(Math.random()*2-1)*j}T.buffer=M}else{console.log(` Using generic percussion for: "${S}" (MIDI: ${e})`),T=f.createBufferSource();const A=Math.max(1,Math.floor(f.sampleRate*n)),M=f.createBuffer(1,A,f.sampleRate),R=M.getChannelData(0);for(let I=0;I<A;I++)R[I]=(Math.random()*2-1)*Math.exp(-I/(f.sampleRate*.1));T.buffer=M}}else{T=f.createOscillator(),T.type="sawtooth";const S=440*Math.pow(2,(e-69)/12);if(!Number.isFinite(S)||S<=0){console.error(" Invalid frequency calculated:",S,"for note number:",e);return}T.frequency.setValueAtTime(S,h)}T.connect(d),T.start(h),T.stop(h+n),tr.push({node:T,controlGainNode:d,trackType:u,intendedVolume:m,scheduledStopTime:h+n,isDrum:a})};let ah=null;const pT=()=>{if(!ah)throw new Error("Settings not available for loop duration calculation.");const{tempo:e,bars:t,timeSignature:n}=ah,r=n[0]*(4/n[1]);return _r(t*r,e)},bv=(e,t,n)=>{console.log(" Starting playback with patterns:",e),console.log(" Settings:",t),console.log(" Track to play:",n),gT(!1),Vo=!0,fs=0,ah={...t};const r=Kh();Mu=r.currentTime,tr=[];const a=pT();if(console.log(" Loop duration:",a,"seconds"),a<=0){console.error("Loop duration is zero or negative. Cannot play."),Vo=!1;return}function l(){if(!Vo)return;const u=r.currentTime;tr=tr.filter(m=>m.scheduledStopTime>u||!m.node);const f=t.tempo,h=(m,y)=>{if(!y){console.log(` No data for track: ${m}`);return}console.log(` Scheduling track: ${m}`,y),m==="drums"&&typeof y=="object"&&!Array.isArray(y)?Object.entries(y).forEach(([T,S])=>{let A,M;if(console.log(` Processing drum element: "${T}"`),A=Po[T],M=T,!A){const R=T.toLowerCase().replace(/\s+/g,"_");A=Po[R],M=R}if(!A){const R={kick_drum:{midi:"kick",key:"kick"},bass_drum:{midi:"kick",key:"kick"},acoustic_bass_drum:{midi:"kick",key:"kick"},snare_drum:{midi:"snare",key:"snare"},acoustic_snare:{midi:"snare",key:"snare"},hi_hat_closed:{midi:"hihat_closed",key:"hihat_closed"},hi_hat_open:{midi:"open_hihat",key:"open_hihat"},hihat_open:{midi:"open_hihat",key:"open_hihat"},closed_hi_hat:{midi:"hihat_closed",key:"hihat_closed"},open_hi_hat:{midi:"open_hihat",key:"open_hihat"},crash_cymbal:{midi:"crash_cymbal_1",key:"crash_cymbal_1"},crash:{midi:"crash",key:"crash_cymbal_1"},ride_cymbal:{midi:"ride_cymbal_1",key:"ride_cymbal_1"},ride:{midi:"ride",key:"ride_cymbal_1"},hand_clap:{midi:"clap",key:"clap"},handclap:{midi:"clap",key:"clap"},tom_hi:{midi:"tom_high",key:"tom_high"},tom_lo:{midi:"tom_low",key:"tom_low"},high_tom:{midi:"tom_high",key:"tom_high"},mid_tom:{midi:"tom_mid",key:"tom_mid"},low_tom:{midi:"tom_low",key:"tom_low"},low_floor_tom:{midi:"tom_low",key:"tom_low"},high_floor_tom:{midi:"tom_high",key:"tom_high"}},I=T.toLowerCase().replace(/\s+/g,"_"),P=R[I];P&&(A=Po[P.midi],M=P.key)}if(console.log(` Final mapping: "${T}" -> "${M}" -> MIDI: ${A}`),typeof A!="number"||!S){console.warn(` No MIDI mapping found for drum element: "${T}"`),console.warn(" Available drum mappings:",Object.keys(Po));return}S.forEach(R=>{console.log(` Scheduling ${M} hit:`,R),Ad(A,_r(R.time,f),_r(R.duration,f),R.velocity,!0,M,m)})}):Array.isArray(y)&&y.forEach((T,S)=>{if(console.log(` Processing ${m} event ${S}:`,T),"notes"in T)T.notes.forEach((M,R)=>{console.log(` Chord note ${R}:`,M),typeof M.midi=="number"?Ad(M.midi,_r(T.time,f),_r(T.duration,f),T.velocity,!1,void 0,m):console.warn(" Invalid MIDI number in chord note:",M)});else{const M=T;console.log(" Single note:",M),typeof M.midi=="number"?Ad(M.midi,_r(T.time,f),_r(T.duration,f),T.velocity,!1,void 0,m):console.warn(" Invalid MIDI number in note:",M)}})};if((n?[n]:["chords","bassline","melody","drums"]).forEach(m=>{switch(m){case"chords":e.chords&&h("chords",e.chords);break;case"bassline":e.bassline&&h("bassline",e.bassline);break;case"melody":e.melody&&h("melody",e.melody);break;case"drums":e.drums&&h("drums",e.drums);break}}),Vo){const m=Mu+(fs+1)*a;let y=(m-r.currentTime)*1e3;y<0&&(console.warn(`Loop drift detected. Next loop scheduled with minimal delay. Ideal: ${m}, Current: ${r.currentTime}`),y=10),mu=window.setTimeout(()=>{Vo&&(fs++,l())},y)}}l()},Un=()=>{Vo=!1,gT(!0)},gT=e=>{mu!==null&&(clearTimeout(mu),mu=null),tr.forEach(t=>{try{t.node&&(t.node.stop(),t.node.disconnect()),t.controlGainNode&&t.controlGainNode.disconnect()}catch{}}),tr=[],e&&(fs=0,Mu=0)},ns=async()=>{try{const e=Kh();e.state==="suspended"&&await e.resume()}catch(e){console.error("Failed to initialize audio context:",e)}},b3=async e=>new Promise((t,n)=>{const r=new FileReader;r.onload=()=>{if(r.result&&typeof r.result=="string"){const a=r.result.split(","),l=a[1],u=a[0].match(/data:(.*);base64/),f=u?u[1]:e.type||"audio/mpeg";t({base64:l,mimeType:f})}else n(new Error("Failed to read file"))},r.onerror=()=>n(new Error("File reading failed")),r.readAsDataURL(e)}),T3={kick:"Kick",snare:"Snare",hihat:"Hi-Hat",hihat_open:"Hi-Hat Open",hihat_closed:"Hi-Hat Closed",crash:"Crash",ride:"Ride",tom:"Tom",tom_high:"High Tom",tom_mid:"Mid Tom",tom_low:"Low Tom",clap:"Clap",shaker:"Shaker",tambourine:"Tambourine",cowbell:"Cowbell",rim:"Rimshot"},Dr=e=>{if(!e)return"General musical context. Focus on genre and vibe.";const t=e.indexOf("## 3. Instrument & Sound Design Guide"),n=t>0?t:e.indexOf("## 2. Structural Blueprint")>0?e.indexOf("## 2. Structural Blueprint"):1500;return e.substring(0,Math.min(n,e.length))},S3=e=>{const t=e.match(/^([A-G][#b]?)/);return t?t[1]:"C"},C3=e=>{const t=S3(e);return Tx[t]||Tx.C},w3=e=>_n[e]||_n.Default,is=[1,2,4,8,16,32],yT=({currentGuidebookEntry:e,mainAppInputs:t,onUpdateGuidebookEntryMidi:n,parsedGuidebookBpm:r,parsedGuidebookKey:a,parsedGuidebookChordProg:l,initialPatterns:u,sections:f,targetTempo:h,targetKey:d,isRemixMode:m=!1})=>{var B,q,k,J;const[y,T]=te.useState(()=>{var qe,Ve;if(m)return{...Xe,key:d||Xe.key,tempo:h||Xe.tempo,genre:"Electronic",songSection:(f==null?void 0:f[0])||Xe.songSection,guidebookContext:`Remix mode for ${d||"C minor"} at ${h||128} BPM`,targetInstruments:["bassline","drums","melody","chords"],bars:8};if(e!=null&&e.midiSettings)return{...e.midiSettings,bars:is.includes(e.midiSettings.bars)?e.midiSettings.bars:Xe.bars,songSection:e.midiSettings.songSection||Xe.songSection,targetInstruments:e.midiSettings.targetInstruments&&e.midiSettings.targetInstruments.length>0?e.midiSettings.targetInstruments:[...Xe.targetInstruments],guidebookContext:e.midiSettings.guidebookContext||Dr(e.content)};const O=((qe=e==null?void 0:e.genre)==null?void 0:qe[0])||((Ve=t==null?void 0:t.genre)==null?void 0:Ve[0])||Xe.genre,re=Dr((e==null?void 0:e.content)||""),ye=Jn[O]||Jn.Default,he=Math.round((ye[0]+ye[1])/2),Se=Xe.songSection;let Ne=Xe.bars;const be=Se.toLowerCase();return be.includes("intro")||be.includes("outro")||be.includes("fill")||be.includes("breakdown")?Ne=4:Ne=8,Ne=is.includes(Ne)?Ne:Xe.bars,{...Xe,genre:O,key:a||Xe.key,tempo:r||he,chordProgression:l||(_n[O]||_n.Default)[0],guidebookContext:re,targetInstruments:[...Xe.targetInstruments],songSection:Se,bars:Ne}}),[S,A]=te.useState(()=>{if(m&&u){const O={};return Object.entries(u).forEach(([re,ye])=>{Object.entries(ye).forEach(([he,Se])=>{const Ne=`${re}_${he}`;typeof Se!="string"&&(O[Ne]=Se)})}),O}return(e==null?void 0:e.generatedMidiPatterns)||null}),[M,R]=te.useState(!1),[I,P]=te.useState(""),[N,j]=te.useState(null),[H,U]=te.useState(!1),ie=te.useRef(H);te.useEffect(()=>{ie.current=H},[H]);const[le,pe]=te.useState(!1);te.useEffect(()=>{var re,ye;let O;if(e!=null&&e.midiSettings)O=e.midiSettings.bars||Xe.bars,T({...e.midiSettings,bars:is.includes(O)?O:Xe.bars,songSection:e.midiSettings.songSection||Xe.songSection,targetInstruments:e.midiSettings.targetInstruments&&e.midiSettings.targetInstruments.length>0?e.midiSettings.targetInstruments:[...Xe.targetInstruments],guidebookContext:e.midiSettings.guidebookContext||Dr(e.content)});else{const he=((re=e==null?void 0:e.genre)==null?void 0:re[0])||((ye=t==null?void 0:t.genre)==null?void 0:ye[0])||Xe.genre,Se=Dr((e==null?void 0:e.content)||""),Ne=Jn[he]||Jn.Default,be=Math.round((Ne[0]+Ne[1])/2),qe=Xe.songSection;let Ve=Xe.bars;const Fe=qe.toLowerCase();Fe.includes("intro")||Fe.includes("outro")||Fe.includes("fill")||Fe.includes("breakdown")?Ve=4:Ve=8,O=is.includes(Ve)?Ve:Xe.bars,T({...Xe,key:a||Xe.key,tempo:r||be,chordProgression:l||(_n[he]||_n.Default)[0],genre:he,guidebookContext:Se,targetInstruments:[...Xe.targetInstruments],songSection:qe,bars:O})}A((e==null?void 0:e.generatedMidiPatterns)||null),j(null),ie.current&&(Un(),U(!1))},[e,t==null?void 0:t.genre,r,a,l]);const F=(O,re)=>{T(ye=>{const he={...ye,[O]:re};if(O==="genre"){const Se=re,Ne=(_n[ye.genre]||_n.Default)[0];ye.chordProgression===Ne&&(he.chordProgression=(_n[Se]||_n.Default)[0]);const be=Jn[ye.genre]||Jn.Default,qe=Math.round((be[0]+be[1])/2);if(ye.tempo===qe){const Ve=Jn[Se]||Jn.Default;he.tempo=Math.round((Ve[0]+Ve[1])/2)}}return e!=null&&e.content&&(he.guidebookContext=Dr(e.content)),he})},ue=O=>{T(re=>{const ye=re.targetInstruments,he=ye.includes(O)?ye.filter(Se=>Se!==O):[...ye,O];return{...re,targetInstruments:he}})},fe=async()=>{var re;R(!0),P("Regenerating MIDI patterns..."),j(null),ie.current&&(Un(),U(!1)),await ns();let O;if(m)O={...y,guidebookContext:`${y.genre} remix at ${y.tempo} BPM in ${y.key}`,genre:y.genre};else{const ye=((re=e==null?void 0:e.genre)==null?void 0:re[0])||y.genre,he=Dr((e==null?void 0:e.content)||"");O={...y,guidebookContext:he,genre:ye}}try{const ye=await xs(O);let he="";for await(const Ve of ye)Ve.text&&(he+=Ve.text);console.log("Raw MIDI response:",he),he=he.trim();const Se=/^```(\w*)?\s*\n?(.*?)\n?\s*```$/s,Ne=he.match(Se);Ne&&Ne[2]&&(console.log("Found code block, extracting JSON:",Ne[2]),he=Ne[2].trim());let be;try{be=JSON.parse(he)}catch(Ve){throw console.error("JSON parse error:",Ve),console.error("Failed to parse:",he),new Error(`Invalid JSON response from AI: ${Ve instanceof Error?Ve.message:"Unknown parse error"}. Response was: ${he.substring(0,200)}...`)}if(console.log("Parsed MIDI patterns:",be),(Ve=>{console.log(" Validating MIDI patterns..."),Ve.chords&&Ve.chords.forEach((Fe,_t)=>{(!Number.isFinite(Fe.time)||!Number.isFinite(Fe.duration))&&console.error(` Invalid chord ${_t}:`,Fe),Fe.notes.forEach((bt,ft)=>{Number.isFinite(bt.midi)||console.error(` Invalid chord ${_t} note ${ft}:`,bt)})}),["bassline","melody"].forEach(Fe=>{const _t=Ve[Fe];_t&&_t.forEach((bt,ft)=>{(!Number.isFinite(bt.time)||!Number.isFinite(bt.duration)||!Number.isFinite(bt.midi))&&console.error(` Invalid ${Fe} note ${ft}:`,bt)})}),Ve.drums&&Object.entries(Ve.drums).forEach(([Fe,_t])=>{_t.forEach((bt,ft)=>{(!Number.isFinite(bt.time)||!Number.isFinite(bt.duration)||!Number.isFinite(bt.velocity||100))&&console.error(` Invalid ${Fe} hit ${ft}:`,bt)})})})(be),be.drums){const Ve={};for(const Fe in be.drums)Ve[Fe.toLowerCase().replace(/\s+/g,"_")]=be.drums[Fe];be.drums=Ve}A(be),n==null||n(O,be)}catch(ye){console.error("MIDI Generation Error:",ye);const he=ye.message.toLowerCase().includes("json")?`AI returned invalid JSON for MIDI patterns. (${ye.message})`:`Failed to generate MIDI patterns: ${ye.message}`;j(he),A(null)}finally{R(!1),P("")}},W=async()=>{S&&(await ns(),ie.current&&(Un(),U(!1),await new Promise(O=>setTimeout(O,50))),bv(S,y),U(!0))},ae=async O=>{!S||!S[O]||(await ns(),ie.current&&(Un(),U(!1),await new Promise(re=>setTimeout(re,50))),bv(S,y,O),U(!0))},me=()=>{Un(),U(!1)};te.useEffect(()=>()=>{ie.current&&Un()},[]);const $=()=>{if(!S)return;const O=((e==null?void 0:e.title)||"TrackGuideMIDI").replace(/[^a-z0-9_.-]/gi,"_"),re=xv(S,y,O);re?vv(re,`${O}_all_tracks.mid`):alert("No MIDI data to download or error in generation.")},L=O=>{if(!S||!S[O]){alert(`No ${O} data available in current patterns.`);return}const re={[O]:S[O]},ye=((e==null?void 0:e.title)||"TrackGuideMIDI").replace(/[^a-z0-9_.-]/gi,"_"),he=xv(re,y,`${ye}_${O}`);he?vv(he,`${ye}_${O}.mid`):alert(`No ${O} data to download or error in generation.`)},D=async O=>{var ye;if(!S)return;R(!0),P(`Regenerating ${O}...`),j(null),ie.current&&(Un(),U(!1)),await ns();let re;if(m)re={...y,guidebookContext:`${y.genre} remix at ${y.tempo} BPM in ${y.key}`,genre:y.genre,targetInstruments:[O]};else{const he=((ye=e==null?void 0:e.genre)==null?void 0:ye[0])||y.genre,Se=Dr((e==null?void 0:e.content)||"");re={...y,guidebookContext:Se,genre:he,targetInstruments:[O]}}try{const he=await xs(re);let Se="";for await(const Fe of he)Fe.text&&(Se+=Fe.text);console.log(`Raw MIDI response for ${O}:`,Se),Se=Se.trim();const Ne=/^```(\w*)?\s*\n?(.*?)\n?\s*```$/s,be=Se.match(Ne);be&&be[2]&&(console.log(`Found code block for ${O}, extracting JSON:`,be[2]),Se=be[2].trim());let qe;try{qe=JSON.parse(Se)}catch(Fe){throw console.error(`JSON parse error for ${O}:`,Fe),console.error("Failed to parse:",Se),new Error(`Invalid JSON response from AI for ${O}: ${Fe instanceof Error?Fe.message:"Unknown parse error"}`)}console.log(`Parsed MIDI patterns for ${O}:`,qe);const Ve={...S,[O]:qe[O]};if(O==="drums"&&qe.drums){const Fe={};for(const _t in qe.drums)Fe[_t.toLowerCase().replace(/\s+/g,"_")]=qe.drums[_t];Ve.drums=Fe}A(Ve),n==null||n(y,Ve)}catch(he){console.error("Error regenerating single track:",he),j(`Failed to regenerate ${O}. Please try again.`)}finally{R(!1),P("")}},_=async()=>{le||await ns(),pe(O=>!O)},C=(O,re)=>{if(!S||!S[O])return null;const ye=S[O];let he="";if(O==="drums"&&ye){const Se=Object.keys(ye);he=`${Se.length} elements: ${Se.map(Ne=>T3[Ne]||Ne).join(", ")}`}else O==="chords"&&Array.isArray(ye)?he=`${ye.length} chord events`:(O==="bassline"||O==="melody")&&Array.isArray(ye)&&(he=`${ye.length} notes`);return g.jsxs(Ze,{title:re,className:"p-4 border border-gray-600 rounded-md bg-gray-800/50",children:[g.jsx("div",{className:"mb-3",children:g.jsx("p",{className:"text-xs text-gray-400",children:he})}),g.jsxs("div",{className:"flex flex-wrap gap-2",children:[g.jsx(Le,{onClick:()=>ae(O),leftIcon:g.jsx(Cx,{}),size:"sm",variant:"primary",children:"Play"}),g.jsx(Le,{onClick:()=>D(O),leftIcon:g.jsx(wx,{className:"w-4 h-4",isSpinning:M&&I.includes(O)}),size:"sm",variant:"secondary",disabled:M,children:"Regenerate"}),g.jsx(Le,{onClick:()=>L(O),leftIcon:g.jsx($d,{}),size:"sm",variant:"secondary",children:"Download"})]})]},O)};return g.jsxs(Ze,{title:" MIDI Tools & Pattern Generator",className:"mt-6 bg-gray-800/80 backdrop-blur-md shadow-xl border border-gray-700/50",children:[g.jsx(Le,{onClick:_,variant:"secondary",className:"w-full mb-4",leftIcon:g.jsx(kN,{}),children:le?"Hide MIDI Settings":"Adjust MIDI Settings & Regenerate"}),le&&g.jsxs("div",{className:"mb-6 border-t border-gray-700 pt-6",children:[g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-x-6 gap-y-4 mb-6",children:[g.jsxs("div",{children:[g.jsx("label",{htmlFor:"midi-key",className:"block text-sm font-medium text-gray-300 mb-1",children:"Key"}),g.jsx("select",{id:"midi-key",value:y.key,onChange:O=>F("key",O.target.value),className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-md shadow-sm text-gray-100 focus:ring-purple-500 focus:border-purple-500 text-sm",children:os.map(O=>g.jsx("option",{value:O,children:O},O))})]}),g.jsxs("div",{children:[g.jsxs("label",{htmlFor:"midi-scale",className:"block text-sm font-medium text-gray-300 mb-1",children:["Scale/Mode ",g.jsx("span",{className:"text-xs text-gray-400",children:"(Optional)"})]}),g.jsxs("select",{id:"midi-scale",value:y.scale||"",onChange:O=>F("scale",O.target.value),className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-md shadow-sm text-gray-100 focus:ring-purple-500 focus:border-purple-500 text-sm",children:[g.jsx("option",{value:"",children:"Default (from key)"}),C3(y.key).map(O=>g.jsx("option",{value:O,children:O},O))]})]}),g.jsxs("div",{children:[g.jsx("label",{htmlFor:"midi-tempo",className:"block text-sm font-medium text-gray-300 mb-1",children:"Tempo (BPM)"}),g.jsx(vn,{type:"number",id:"midi-tempo",value:y.tempo,onChange:O=>F("tempo",parseInt(O.target.value,10)),min:"30",max:"300"})]}),g.jsxs("div",{children:[g.jsx("label",{htmlFor:"midi-timesig",className:"block text-sm font-medium text-gray-300 mb-1",children:"Time Signature"}),g.jsx("select",{id:"midi-timesig",value:y.timeSignature.join("/"),onChange:O=>F("timeSignature",O.target.value.split("/").map(Number)),className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-md shadow-sm text-gray-100 focus:ring-purple-500 focus:border-purple-500 text-sm",children:hN.map(O=>g.jsx("option",{value:O.join("/"),children:O.join("/")},O.join("/")))})]}),g.jsxs("div",{children:[g.jsx("label",{htmlFor:"midi-chords",className:"block text-sm font-medium text-gray-300 mb-1",children:"Chord Progression"}),g.jsx("select",{id:"midi-chords",value:y.chordProgression,onChange:O=>F("chordProgression",O.target.value),className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-md shadow-sm text-gray-100 focus:ring-purple-500 focus:border-purple-500 text-sm",children:w3(y.genre).map(O=>g.jsx("option",{value:O,children:O},O))})]}),g.jsxs("div",{children:[g.jsx("label",{htmlFor:"midi-genre",className:"block text-sm font-medium text-gray-300 mb-1",children:"MIDI Genre Context"}),g.jsxs("select",{id:"midi-genre",value:y.genre,onChange:O=>F("genre",O.target.value),className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-md shadow-sm text-gray-100 focus:ring-purple-500 focus:border-purple-500 text-sm",children:[g.jsxs("option",{value:((B=e==null?void 0:e.genre)==null?void 0:B[0])||((q=t==null?void 0:t.genre)==null?void 0:q[0])||Xe.genre,children:["Align with Guidebook (",((k=e==null?void 0:e.genre)==null?void 0:k[0])||((J=t==null?void 0:t.genre)==null?void 0:J[0])||"Default",")"]}),i1.map(O=>g.jsx("option",{value:O,children:O},O))]})]}),g.jsxs("div",{children:[g.jsx("label",{htmlFor:"midi-bars",className:"block text-sm font-medium text-gray-300 mb-1",children:"Loop Length (Bars)"}),g.jsx("select",{id:"midi-bars",value:y.bars,onChange:O=>F("bars",parseInt(O.target.value,10)),className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-md shadow-sm text-gray-100 focus:ring-purple-500 focus:border-purple-500 text-sm",children:is.map(O=>g.jsx("option",{value:O,children:O},O))})]}),g.jsxs("div",{className:"lg:col-span-1",children:[g.jsx("label",{htmlFor:"midi-songsection",className:"block text-sm font-medium text-gray-300 mb-1",children:"Song Section Context"}),g.jsx("select",{id:"midi-songsection",value:y.songSection||Xe.songSection,onChange:O=>F("songSection",O.target.value),className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-md shadow-sm text-gray-100 focus:ring-purple-500 focus:border-purple-500 text-sm",children:(m&&f?f:pN).map(O=>g.jsx("option",{value:O,children:O},O))})]})]}),g.jsxs("div",{className:"mb-6",children:[g.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Target Instruments to Generate"}),g.jsx("div",{className:"flex flex-wrap gap-x-4 gap-y-2",children:mN.map(O=>g.jsxs("button",{type:"button",onClick:()=>ue(O.id),className:`flex items-center px-3 py-1.5 rounded-md text-sm transition-colors duration-150 ease-in-out border
                            ${y.targetInstruments.includes(O.id)?"bg-purple-600 text-white border-purple-500 hover:bg-purple-700 shadow-md":"bg-gray-700 text-gray-300 border-gray-600 hover:bg-gray-600 hover:border-gray-500"}`,"aria-pressed":y.targetInstruments.includes(O.id),children:[y.targetInstruments.includes(O.id)?g.jsx(NN,{className:"w-4 h-4 mr-2"}):g.jsx(IN,{className:"w-4 h-4 mr-2 text-gray-500"}),O.label]},O.id))})]}),g.jsx(Le,{onClick:fe,disabled:M||y.targetInstruments.length===0,className:"w-full",leftIcon:g.jsx(wx,{className:"w-5 h-5",isSpinning:M}),children:M?I||"Regenerating MIDI Patterns...":y.targetInstruments.length===0?"Select instruments first":"Regenerate MIDI Patterns"})]}),N&&g.jsx("p",{className:"text-red-400 bg-red-900/30 p-3 rounded-md text-sm my-4",children:N}),M&&!le&&(!S||I.includes("MIDI"))&&g.jsx("div",{className:"my-4",children:g.jsx(Si,{text:I||"AI is composing..."})}),S&&!M&&g.jsxs("div",{className:"mt-6 space-y-3",children:[g.jsxs("div",{className:"flex flex-wrap gap-3 items-center pb-3 border-b border-gray-700",children:[g.jsx(Le,{onClick:H?me:W,variant:H?"danger":"primary",size:"md",leftIcon:H?g.jsx(MN,{}):g.jsx(Cx,{}),children:H?"Stop Preview":"Play All Tracks"}),g.jsx(Le,{onClick:$,variant:"secondary",size:"md",leftIcon:g.jsx($d,{}),children:"Download All (.mid)"})]}),g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 pt-3",children:[C("chords","Chords"),C("bassline","Bassline"),C("melody","Melody"),C("drums","Drums")]}),S.error&&g.jsxs("p",{className:"text-sm text-yellow-400 mt-2",children:["AI Note: ",S.error]})]}),!S&&!M&&!N&&g.jsxs("p",{className:"text-gray-400 text-sm mt-4 text-center",children:["No MIDI patterns generated yet for this ",m?"RemixGuide":"TrackGuide",'. Click "Adjust MIDI Settings" to configure and generate.']})]})},xT=[{category:"House",genre:"House",tempoRange:[120,126],sections:["Intro","Build-Up","Drop","Breakdown","Drop 2","Outro"]},{category:"House",genre:"Deep House",tempoRange:[118,124],sections:["Intro","Build-Up","Drop","Breakdown","Outro"]},{category:"House",genre:"Tech House",tempoRange:[122,127],sections:["Intro","Build-Up","Drop","Breakdown","Drop 2","Outro"]},{category:"House",genre:"Progressive House",tempoRange:[124,128],sections:["Intro","Build-Up","Drop","Breakdown","Outro"]},{category:"House",genre:"Afro House",tempoRange:[120,125],sections:["Intro","Build-Up","Drop","Breakdown","Outro"]},{category:"House",genre:"Nu-Disco",tempoRange:[115,125],sections:["Intro","Verse","Chorus","Bridge","Outro"]},{category:"Techno",genre:"Melodic Techno",tempoRange:[120,126],sections:["Intro","Groove Build","Peak Moment","Mid-Break","Outro"]},{category:"Techno",genre:"Minimal Techno",tempoRange:[120,125],sections:["Intro","Groove Build","Peak Moment","Mid-Break","Outro"]},{category:"Techno",genre:"Big Room Techno",tempoRange:[126,130],sections:["Intro","Build-Up","Drop","Breakdown","Build-Up 2","Final Drop","Outro"]},{category:"Techno",genre:"Peak Time Techno",tempoRange:[128,135],sections:["Intro","Groove Build","Peak Moment","Mid-Break","Outro"]},{category:"Techno",genre:"Hard Techno",tempoRange:[135,145],sections:["Intro","Groove Build","Peak Moment","Mid-Break","Outro"]},{category:"Trance",genre:"Trance",tempoRange:[128,140],sections:["Intro","Build-Up","Drop","Breakdown","Build-Up 2","Final Drop","Outro"]},{category:"Trance",genre:"Psytrance",tempoRange:[140,150],sections:["Intro","Build-Up","Drop","Breakdown","Build-Up 2","Final Drop","Outro"]},{category:"Trance",genre:"Progressive Trance",tempoRange:[130,138],sections:["Intro","Build-Up","Drop","Breakdown","Build-Up 2","Final Drop","Outro"]},{category:"Trance",genre:"Uplifting Trance",tempoRange:[132,140],sections:["Intro","Build-Up","Drop","Breakdown","Build-Up 2","Final Drop","Outro"]},{category:"Bass & Dubstep",genre:"Dubstep",tempoRange:[140,150],sections:["Intro","Pre-Drop","Drop 1","Switch-Up","Drop 2","Outro"]},{category:"Bass & Dubstep",genre:"Riddim Dubstep",tempoRange:[140,150],sections:["Intro","Pre-Drop","Drop 1","Switch-Up","Drop 2","Outro"]},{category:"Bass & Dubstep",genre:"Hybrid Trap",tempoRange:[135,150],sections:["Intro","Pre-Drop","Drop 1","Mid-Section","Drop 2","Outro"]},{category:"Bass & Dubstep",genre:"Midtempo Bass",tempoRange:[95,110],sections:["Intro","Build-Up","Drop","Breakdown","Outro"]},{category:"Bass & Dubstep",genre:"Future Bass",tempoRange:[140,155],sections:["Intro","Pre-Drop","Drop 1","Breakdown","Drop 2","Outro"]},{category:"Bass & Dubstep",genre:"Phonk",tempoRange:[130,150],sections:["Intro","Pre-Drop","Drop 1","Switch-Up","Drop 2","Outro"]},{category:"Bass & Dubstep",genre:"Hardstyle",tempoRange:[150,160],sections:["Intro","Pre-Drop","Drop 1","Switch-Up","Drop 2","Outro"]},{category:"Trap & Future Styles",genre:"Trap",tempoRange:[130,150],sections:["Intro","Pre-Drop","Drop 1","Mid-Section","Drop 2","Outro"]},{category:"Trap & Future Styles",genre:"Hard Trap",tempoRange:[135,150],sections:["Intro","Pre-Drop","Drop 1","Switch-Up","Drop 2","Outro"]},{category:"Trap & Future Styles",genre:"Hyperpop",tempoRange:[140,160],sections:["Intro","Verse","Drop","Bridge","Outro"]},{category:"Trap & Future Styles",genre:"Trap Soul",tempoRange:[100,130],sections:["Intro","Verse","Chorus","Bridge","Outro"]},{category:"Trap & Future Styles",genre:"Jersey Club",tempoRange:[130,140],sections:["Intro","Pre-Drop","Drop 1","Mid-Section","Drop 2","Outro"]},{category:"Drum & Bass / UK Styles",genre:"Drum & Bass",tempoRange:[170,175],sections:["Intro","Build-Up","Drop","Mid-Roll","Breakdown","Second Drop","Outro"]},{category:"Drum & Bass / UK Styles",genre:"Liquid DnB",tempoRange:[170,175],sections:["Intro","Build-Up","Drop","Mid-Roll","Breakdown","Second Drop","Outro"]},{category:"Drum & Bass / UK Styles",genre:"Jungle",tempoRange:[170,175],sections:["Intro","Build-Up","Drop","Mid-Roll","Breakdown","Second Drop","Outro"]},{category:"Drum & Bass / UK Styles",genre:"UK Garage",tempoRange:[130,138],sections:["Intro","Build-Up","Drop","Breakdown","Outro"]},{category:"Drum & Bass / UK Styles",genre:"UK Bass",tempoRange:[128,138],sections:["Intro","Build-Up","Drop","Breakdown","Outro"]},{category:"Drum & Bass / UK Styles",genre:"Breakbeat",tempoRange:[125,135],sections:["Intro","Build-Up","Drop","Breakdown","Outro"]},{category:"Pop / Indie / Electro",genre:"EDM Pop",tempoRange:[110,125],sections:["Intro","Verse","Pre-Chorus","Chorus / Drop","Bridge","Outro"]},{category:"Pop / Indie / Electro",genre:"Indie Pop",tempoRange:[100,120],sections:["Intro","Verse","Chorus","Bridge","Outro"]},{category:"Pop / Indie / Electro",genre:"Indie Dance",tempoRange:[115,125],sections:["Intro","Verse","Chorus","Bridge","Outro"]},{category:"Pop / Indie / Electro",genre:"Electro Pop",tempoRange:[100,120],sections:["Intro","Verse","Pre-Chorus","Chorus","Bridge","Outro"]},{category:"Pop / Indie / Electro",genre:"Synth Pop",tempoRange:[100,115],sections:["Intro","Verse","Pre-Chorus","Chorus","Bridge","Outro"]},{category:"Retro & Synth",genre:"Synthwave",tempoRange:[85,105],sections:["Intro","Main Theme","Breakdown","Bridge","Outro"]},{category:"Retro & Synth",genre:"Chillwave",tempoRange:[85,100],sections:["Intro","Main Theme","Breakdown","Bridge","Outro"]},{category:"Retro & Synth",genre:"Vaporwave",tempoRange:[60,85],sections:["Intro","Main Theme","Breakdown","Outro"]},{category:"Retro & Synth",genre:"Retrowave",tempoRange:[90,110],sections:["Intro","Main Theme","Breakdown","Bridge","Outro"]},{category:"Hip-Hop & RnB",genre:"Boom Bap",tempoRange:[85,95],sections:["Intro","Verse","Chorus","Verse 2","Outro"]},{category:"Hip-Hop & RnB",genre:"Experimental Hip-Hop",tempoRange:[80,100],sections:["Intro","Verse","Drop","Bridge","Outro"]},{category:"Hip-Hop & RnB",genre:"RnB Remix",tempoRange:[85,100],sections:["Intro","Verse","Chorus","Bridge","Outro"]},{category:"Lo-fi & Chill",genre:"Lo-fi Hip-Hop",tempoRange:[65,85],sections:["Intro","Groove Section A","Groove Section B","Bridge / Texture Break","Outro"]},{category:"Lo-fi & Chill",genre:"Chillhop",tempoRange:[70,90],sections:["Intro","Groove Section A","Groove Section B","Bridge / Texture Break","Outro"]},{category:"Lo-fi & Chill",genre:"Trip-Hop",tempoRange:[70,90],sections:["Intro","Main Atmosphere","Texture Development","Outro"]},{category:"Lo-fi & Chill",genre:"Downtempo",tempoRange:[70,90],sections:["Intro","Main Atmosphere","Texture Development","Dynamic Peak","Outro"]},{category:"Lo-fi & Chill",genre:"Chillstep",tempoRange:[100,115],sections:["Intro","Build-Up","Drop","Breakdown","Outro"]},{category:"Ambient & Cinematic",genre:"Ambient",tempoRange:[60,80],sections:["Intro","Main Atmosphere","Texture Development","Outro"]},{category:"Ambient & Cinematic",genre:"Cinematic",tempoRange:[60,80],sections:["Intro","Main Atmosphere","Texture Development","Outro"]}],A3=()=>{const e={};return xT.forEach(({category:t,genre:n})=>{e[t]||(e[t]=[]),e[t].push(n)}),e},Tv=e=>xT.find(t=>t.genre===e),Sv=e=>{if(!e)return null;const t=/##\s*\s*Original Track DNA Analysis/i,n=e.match(t);if(!n||typeof n.index>"u")return null;const r=n.index,a=e.substring(r+n[0].length).match(/^##\s+/m),l=a&&typeof a.index<"u"?r+n[0].length+a.index:e.length,f=e.substring(r,l).trim().match(/\*\*Harmonic Blueprint\*\*:\s*([^\n]+)/i);if(f&&f[1]){const d=f[1].match(/([IVXLCDMivxlcdm\d\s,-]+(?:\s*-\s*[IVXLCDMivxlcdm\d\s,-]+)*)/);if(d&&d[1])return d[1].trim()}return null},E3=({onContentUpdate:e})=>{const[t,n]=te.useState(null),[r,a]=te.useState(""),[l,u]=te.useState(""),[f,h]=te.useState(""),[d,m]=te.useState(""),[y,T]=te.useState(!1),[S,A]=te.useState(null),[M,R]=te.useState(""),[I,P]=te.useState(""),N=te.useRef(null),j=A3(),H=Object.keys(j),U=W=>{var L;const ae=(L=W.target.files)==null?void 0:L[0];if(!ae)return;if(!(["audio/wav","audio/mpeg","audio/mp3"].includes(ae.type)||ae.name.toLowerCase().endsWith(".wav")||ae.name.toLowerCase().endsWith(".mp3"))){P("Please upload a WAV or MP3 file");return}if(ae.size>100*1024*1024){P("File size must be under 100MB");return}n(ae),P("")},ie=W=>{W.preventDefault();const ae=W.dataTransfer.files[0];ae&&U({target:{files:[ae]}})},le=W=>{W.preventDefault()},pe=async()=>{if(!t||!l){P("Please upload an audio file and select a target genre");return}T(!0),P(""),R(""),A(null);try{const W=await b3(t),ae={base64:W.base64,mimeType:W.mimeType},me=Tv(l);let $="",L=null;const D=SN(ae,l,me,f,d);for await(const be of D)be.text&&($+=be.text,R($),e==null||e($)),be.metadata&&(L=be.metadata);console.log("Remix guide generated, now generating MIDI patterns...");const _=Sv($),C=(L==null?void 0:L.targetTempo)||128,B=(L==null?void 0:L.targetKey)||"C minor",q=(L==null?void 0:L.originalChordProgression)||_,k=(L==null?void 0:L.sections)||["Intro","Build-Up","Drop","Breakdown","Outro"],J={key:B,tempo:C,timeSignature:[4,4],chordProgression:q||"i-VI-III-VII",genre:l,bars:8,targetInstruments:["bassline","drums","melody","chords"],guidebookContext:`${l} remix at ${C} BPM in ${B}`,songSection:k[0]||"Intro"};console.log("MIDI settings with remix defaults:",J);const O=await xs(J);let re="";for await(const be of O)be.text&&(re+=be.text);re=re.trim();const ye=/^```(\w*)?\s*\n?(.*?)\n?\s*```$/s,he=re.match(ye);he&&he[2]&&(re=he[2].trim());const Se=JSON.parse(re);if(Se.drums){const be={};Object.entries(Se.drums).forEach(([qe,Ve])=>{be[qe.toLowerCase()]=Ve}),Se.drums=be}console.log("Generated MIDI patterns:",Se);const Ne={guide:$,targetTempo:C,targetKey:B,sections:k,generatedMidiPatterns:Se,originalKey:L==null?void 0:L.originalKey,originalTempo:L==null?void 0:L.originalTempo,originalChordProgression:q};A(Ne),e==null||e($),console.log("RemixGuide completed successfully with streaming and dynamic MIDI defaults")}catch(W){console.error("Error generating remix guide:",W),P(W instanceof Error?W.message:"Failed to generate remix guide")}finally{T(!1)}},F=W=>{a(W),u("")},ue=async()=>{if(S){T(!0),P("");try{const W=Sv(S.guide),ae={key:S.targetKey,tempo:S.targetTempo,timeSignature:[4,4],chordProgression:W||S.originalChordProgression||"i-VI-III-VII",genre:l,bars:8,targetInstruments:["bassline","drums","melody","chords"],guidebookContext:`${l} remix at ${S.targetTempo} BPM in ${S.targetKey}`,songSection:S.sections[0]||"Intro"};console.log("Regenerating MIDI with settings:",ae);const me=await xs(ae);let $="";for await(const C of me)C.text&&($+=C.text);$=$.trim();const L=/^```(\w*)?\s*\n?(.*?)\n?\s*```$/s,D=$.match(L);D&&D[2]&&($=D[2].trim()),console.log("Raw regenerated MIDI JSON:",$);const _=JSON.parse($);if(_.drums){const C={};for(const B in _.drums)C[B.toLowerCase().replace(/\s+/g,"_")]=_.drums[B];_.drums=C}console.log("Regenerated MIDI patterns:",_),A(C=>C?{...C,generatedMidiPatterns:_}:null)}catch(W){console.error("Error regenerating MIDI patterns:",W),P(`Failed to regenerate MIDI patterns: ${W instanceof Error?W.message:"Unknown error"}`)}finally{T(!1)}}},fe=()=>{n(null),a(""),u(""),h(""),m(""),A(null),P(""),N.current&&(N.current.value="")};return g.jsxs("div",{className:"space-y-6",children:[g.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[g.jsxs(Ze,{className:"p-6",children:[g.jsx("h3",{className:"text-lg font-semibold mb-4 text-white",children:"Upload Original Track"}),g.jsxs("div",{className:"border-2 border-dashed border-gray-600 rounded-lg p-8 text-center cursor-pointer hover:border-gray-500 transition-colors",onDrop:ie,onDragOver:le,onClick:()=>{var W;return(W=N.current)==null?void 0:W.click()},children:[g.jsx("input",{ref:N,type:"file",accept:".wav,.mp3,audio/wav,audio/mpeg",onChange:U,className:"hidden"}),g.jsxs("div",{className:"space-y-2",children:[g.jsx("div",{className:"text-4xl",children:""}),g.jsx("div",{className:"text-white font-medium",children:t?t.name:"Upload Original Track"}),g.jsx("p",{className:"text-gray-400 text-sm",children:"or drag and drop"})]}),g.jsxs("p",{className:"text-gray-500 text-xs mt-2",children:["MP3, WAV up to ",g.jsx("span",{className:"text-orange-400",children:"100"}),"MB"]})]})]}),g.jsxs(Ze,{className:"p-6",children:[g.jsx("h3",{className:"text-lg font-semibold mb-4 text-white",children:"Target Remix Genre"}),g.jsxs("div",{className:"space-y-4",children:[g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"1. Select Category"}),g.jsxs("select",{value:r,onChange:W=>F(W.target.value),className:"w-full p-3 bg-gray-700 border border-gray-600 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-orange-500",children:[g.jsx("option",{value:"",children:"Choose a category..."}),H.map(W=>g.jsx("option",{value:W,children:W},W))]})]}),r&&g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"2. Select Genre"}),g.jsxs("select",{value:l,onChange:W=>u(W.target.value),className:"w-full p-3 bg-gray-700 border border-gray-600 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-orange-500",children:[g.jsx("option",{value:"",children:"Choose a genre..."}),j[r].map(W=>g.jsx("option",{value:W,children:W},W))]})]}),l&&g.jsx("div",{className:"text-sm text-gray-400 bg-gray-800 p-3 rounded-lg",children:(()=>{const W=Tv(l);return W?` Tempo: ${W.tempoRange[0]}-${W.tempoRange[1]} BPM`:""})()})]})]})]}),g.jsxs(Ze,{className:"p-6",children:[g.jsx("h3",{className:"text-lg font-semibold mb-4 text-white",children:"Production Setup (Optional)"}),g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"DAW (Digital Audio Workstation)"}),g.jsx("input",{type:"text",value:f,onChange:W=>h(W.target.value),placeholder:"e.g., Ableton Live, Logic Pro X, FL Studio...",className:"w-full p-3 bg-gray-700 border border-gray-600 rounded-lg text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-orange-500"})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Available Plugins"}),g.jsx("input",{type:"text",value:d,onChange:W=>m(W.target.value),placeholder:"e.g., Serum, FabFilter Pro-Q 3, Valhalla VintageVerb...",className:"w-full p-3 bg-gray-700 border border-gray-600 rounded-lg text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-orange-500"})]})]}),g.jsx("p",{className:"text-xs text-gray-400 mt-2",children:"Specify your DAW and plugins to get tailored parameter recommendations in the remix guide"})]}),I&&g.jsx("div",{className:"bg-red-900/50 border border-red-500 rounded-lg p-4 text-red-200",children:I}),g.jsxs("div",{className:"flex gap-4",children:[g.jsx(Le,{onClick:pe,disabled:!t||!l||y,className:"flex-1",children:y?g.jsxs(g.Fragment,{children:[g.jsx(Si,{size:"sm"})," Generating RemixGuide..."]}):" Generate RemixGuide"}),g.jsx(Le,{onClick:fe,variant:"outline",children:"Reset"})]}),y&&M&&g.jsxs(Ze,{className:"p-6",children:[g.jsxs("h3",{className:"text-xl font-bold text-white mb-4",children:[" Generating ",l," Remix Guide..."]}),g.jsx("div",{className:"bg-gray-800/50 rounded-lg p-6 max-h-[calc(100vh-8rem)] overflow-y-auto",children:g.jsx(cs,{content:M})})]}),S&&g.jsxs("div",{className:"space-y-6",children:[g.jsxs(Ze,{className:"p-6",children:[g.jsxs("div",{className:"flex justify-between items-center mb-4",children:[g.jsxs("h3",{className:"text-xl font-bold text-white",children:[" ",l," Remix Guide"]}),g.jsxs("div",{className:"text-sm text-gray-400",children:["Target: ",S.targetTempo," BPM  ",S.targetKey]})]}),g.jsx("div",{className:"bg-gray-800/50 rounded-lg p-6 max-h-[calc(100vh-8rem)] overflow-y-auto",children:g.jsx(cs,{content:S.guide})})]}),g.jsxs(Ze,{className:"p-6",children:[g.jsxs("div",{className:"flex justify-between items-center mb-6",children:[g.jsx("h3",{className:"text-xl font-bold text-white",children:" MIDI Remix Patterns"}),g.jsx(Le,{onClick:ue,disabled:y,variant:"outline",className:"text-sm",children:y?g.jsxs(g.Fragment,{children:[g.jsx(Si,{size:"sm"})," Regenerating..."]}):" Regenerate MIDI"})]}),S.generatedMidiPatterns?g.jsx(yT,{sections:S.sections,targetTempo:S.targetTempo,targetKey:S.targetKey,isRemixMode:!0,currentGuidebookEntry:{id:`remix-${Date.now()}`,title:`${l} Remix`,genre:[l],artistReference:"Remix Guide",vibe:[l],daw:f||"Not specified",plugins:d||"Not specified",availableInstruments:"Remix instruments",content:S.guide,createdAt:new Date().toISOString(),generatedMidiPatterns:S.generatedMidiPatterns}},`remix-${l}-${Date.now()}`):g.jsx("div",{className:"text-center py-8",children:g.jsx("div",{className:"text-gray-400 mb-4",children:y?g.jsxs(g.Fragment,{children:[g.jsx(Si,{size:"lg"}),g.jsx("p",{className:"mt-4",children:"Generating MIDI patterns..."})]}):g.jsxs(g.Fragment,{children:[g.jsx("div",{className:"text-4xl mb-2",children:""}),g.jsx("p",{children:"MIDI patterns will appear here after generation"}),g.jsx("p",{className:"text-sm mt-2",children:'Click "Regenerate MIDI" to generate patterns'})]})})})]})]}),!S&&g.jsx(Ze,{className:"p-6 bg-gray-800/30",children:g.jsxs("div",{className:"text-center space-y-4",children:[g.jsx("div",{className:"text-6xl",children:""}),g.jsx("h3",{className:"text-xl font-bold text-white",children:"Transform Your Track"}),g.jsx("p",{className:"text-gray-400 max-w-2xl mx-auto",children:"Upload your original track and select a target genre. Our AI will analyze the harmonic progression, melodies, and rhythmic elements, then generate a comprehensive remix guide with genre-appropriate MIDI patterns for basslines, drums, melodies, and textures."})]})})]})},Cv=({attack:e,decay:t,sustain:n,release:r,width:a=400,height:l=150})=>{const u=Math.max(0,Math.min(1,e)),f=Math.max(0,Math.min(1,t)),h=Math.max(0,Math.min(1,n)),d=Math.max(0,Math.min(1,r)),m=u+f+.3+d,y=u/m*a*.8,T=f/m*a*.8,S=.3/m*a*.8,A=d/m*a*.8,M=l*.9,R=l*.1,I=R+(1-h)*(M-R),P=a*.1;let N=P;const j=[`M ${N} ${M}`],H=N+y*.5,U=M-(M-R)*.1;j.push(`C ${H} ${U}, ${N+y*.8} ${R+10}, ${N+y} ${R}`),N+=y;const ie=N+T*.3,le=R+(I-R)*.2;j.push(`C ${ie} ${le}, ${N+T*.7} ${I-5}, ${N+T} ${I}`),N+=T,j.push(`L ${N+S} ${I}`),N+=S;const pe=N+A*.7,F=I+(M-I)*.8;j.push(`C ${N+A*.3} ${I+5}, ${pe} ${F}, ${N+A} ${M}`);const ue=j.join(" ");return g.jsxs("svg",{width:a,height:l,className:"w-full h-auto",children:[g.jsx("rect",{width:"100%",height:"100%",fill:"#1f2937",rx:"4",ry:"4"}),g.jsx("line",{x1:"0",y1:M,x2:a,y2:M,stroke:"#4b5563",strokeWidth:"1",strokeDasharray:"4,4"}),g.jsx("line",{x1:"0",y1:R,x2:a,y2:R,stroke:"#4b5563",strokeWidth:"1",strokeDasharray:"4,4"}),g.jsx("line",{x1:"0",y1:I,x2:a,y2:I,stroke:"#4b5563",strokeWidth:"1",strokeDasharray:"4,4"}),g.jsx("path",{d:ue,fill:"none",stroke:"#f97316",strokeWidth:"3",strokeLinecap:"round",strokeLinejoin:"round"}),g.jsx("line",{x1:P+y,y1:R-5,x2:P+y,y2:M+5,stroke:"#6b7280",strokeWidth:"1",strokeDasharray:"4,4"}),g.jsx("line",{x1:P+y+T,y1:R-5,x2:P+y+T,y2:M+5,stroke:"#6b7280",strokeWidth:"1",strokeDasharray:"4,4"}),g.jsx("line",{x1:P+y+T+S,y1:R-5,x2:P+y+T+S,y2:M+5,stroke:"#6b7280",strokeWidth:"1",strokeDasharray:"4,4"}),g.jsx("text",{x:P+y/2,y:l-5,textAnchor:"middle",fill:"#d1d5db",fontSize:"10",children:"A"}),g.jsx("text",{x:P+y+T/2,y:l-5,textAnchor:"middle",fill:"#d1d5db",fontSize:"10",children:"D"}),g.jsx("text",{x:P+y+T+S/2,y:l-5,textAnchor:"middle",fill:"#d1d5db",fontSize:"10",children:"S"}),g.jsx("text",{x:P+y+T+S+A/2,y:l-5,textAnchor:"middle",fill:"#d1d5db",fontSize:"10",children:"R"}),g.jsx("text",{x:"5",y:R+15,fill:"#d1d5db",fontSize:"10",children:"1.0"}),g.jsx("text",{x:"5",y:I+15,fill:"#d1d5db",fontSize:"10",children:h.toFixed(1)}),g.jsx("text",{x:"5",y:M-5,fill:"#d1d5db",fontSize:"10",children:"0.0"}),g.jsxs("text",{x:a-5,y:15,textAnchor:"end",fill:"#d1d5db",fontSize:"10",children:["A: ",u.toFixed(2)," D: ",f.toFixed(2)," S: ",h.toFixed(2)," R: ",d.toFixed(2)]})]})},vT=te.createContext({});function M3(e){const t=te.useRef(null);return t.current===null&&(t.current=e()),t.current}const Xh=typeof window<"u",k3=Xh?te.useLayoutEffect:te.useEffect,Qh=te.createContext(null);function Jh(e,t){e.indexOf(t)===-1&&e.push(t)}function Zh(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}const Ci=(e,t,n)=>n>t?t:n<e?e:n;let Wh=()=>{};const wi={},bT=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e);function TT(e){return typeof e=="object"&&e!==null}const ST=e=>/^0[^.\s]+$/u.test(e);function em(e){let t;return()=>(t===void 0&&(t=e()),t)}const Pn=e=>e,I3=(e,t)=>n=>t(e(n)),_s=(...e)=>e.reduce(I3),Ts=(e,t,n)=>{const r=t-e;return r===0?1:(n-e)/r};class tm{constructor(){this.subscriptions=[]}add(t){return Jh(this.subscriptions,t),()=>Zh(this.subscriptions,t)}notify(t,n,r){const a=this.subscriptions.length;if(a)if(a===1)this.subscriptions[0](t,n,r);else for(let l=0;l<a;l++){const u=this.subscriptions[l];u&&u(t,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Wn=e=>e*1e3,ei=e=>e/1e3;function CT(e,t){return t?e*(1e3/t):0}const wT=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,N3=1e-7,D3=12;function R3(e,t,n,r,a){let l,u,f=0;do u=t+(n-t)/2,l=wT(u,r,a)-e,l>0?n=u:t=u;while(Math.abs(l)>N3&&++f<D3);return u}function Vs(e,t,n,r){if(e===t&&n===r)return Pn;const a=l=>R3(l,0,1,e,n);return l=>l===0||l===1?l:wT(a(l),t,r)}const AT=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,ET=e=>t=>1-e(1-t),MT=Vs(.33,1.53,.69,.99),nm=ET(MT),kT=AT(nm),IT=e=>(e*=2)<1?.5*nm(e):.5*(2-Math.pow(2,-10*(e-1))),im=e=>1-Math.sin(Math.acos(e)),NT=ET(im),DT=AT(im),_3=Vs(.42,0,1,1),V3=Vs(0,0,.58,1),RT=Vs(.42,0,.58,1),P3=e=>Array.isArray(e)&&typeof e[0]!="number",_T=e=>Array.isArray(e)&&typeof e[0]=="number",L3={linear:Pn,easeIn:_3,easeInOut:RT,easeOut:V3,circIn:im,circInOut:DT,circOut:NT,backIn:nm,backInOut:kT,backOut:MT,anticipate:IT},B3=e=>typeof e=="string",wv=e=>{if(_T(e)){Wh(e.length===4);const[t,n,r,a]=e;return Vs(t,n,r,a)}else if(B3(e))return L3[e];return e},au=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"],Av={value:null};function j3(e,t){let n=new Set,r=new Set,a=!1,l=!1;const u=new WeakSet;let f={delta:0,timestamp:0,isProcessing:!1},h=0;function d(y){u.has(y)&&(m.schedule(y),e()),h++,y(f)}const m={schedule:(y,T=!1,S=!1)=>{const M=S&&a?n:r;return T&&u.add(y),M.has(y)||M.add(y),y},cancel:y=>{r.delete(y),u.delete(y)},process:y=>{if(f=y,a){l=!0;return}a=!0,[n,r]=[r,n],n.forEach(d),t&&Av.value&&Av.value.frameloop[t].push(h),h=0,n.clear(),a=!1,l&&(l=!1,m.process(y))}};return m}const O3=40;function VT(e,t){let n=!1,r=!0;const a={delta:0,timestamp:0,isProcessing:!1},l=()=>n=!0,u=au.reduce((N,j)=>(N[j]=j3(l,t?j:void 0),N),{}),{setup:f,read:h,resolveKeyframes:d,preUpdate:m,update:y,preRender:T,render:S,postRender:A}=u,M=()=>{const N=wi.useManualTiming?a.timestamp:performance.now();n=!1,wi.useManualTiming||(a.delta=r?1e3/60:Math.max(Math.min(N-a.timestamp,O3),1)),a.timestamp=N,a.isProcessing=!0,f.process(a),h.process(a),d.process(a),m.process(a),y.process(a),T.process(a),S.process(a),A.process(a),a.isProcessing=!1,n&&t&&(r=!1,e(M))},R=()=>{n=!0,r=!0,a.isProcessing||e(M)};return{schedule:au.reduce((N,j)=>{const H=u[j];return N[j]=(U,ie=!1,le=!1)=>(n||R(),H.schedule(U,ie,le)),N},{}),cancel:N=>{for(let j=0;j<au.length;j++)u[au[j]].cancel(N)},state:a,steps:u}}const{schedule:ct,cancel:nr,state:Bt,steps:Ed}=VT(typeof requestAnimationFrame<"u"?requestAnimationFrame:Pn,!0);let pu;function z3(){pu=void 0}const sn={now:()=>(pu===void 0&&sn.set(Bt.isProcessing||wi.useManualTiming?Bt.timestamp:performance.now()),pu),set:e=>{pu=e,queueMicrotask(z3)}},PT=e=>t=>typeof t=="string"&&t.startsWith(e),rm=PT("--"),F3=PT("var(--"),om=e=>F3(e)?U3.test(e.split("/*")[0].trim()):!1,U3=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Ko={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},Ss={...Ko,transform:e=>Ci(0,1,e)},su={...Ko,default:1},ds=e=>Math.round(e*1e5)/1e5,am=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function H3(e){return e==null}const G3=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,sm=(e,t)=>n=>!!(typeof n=="string"&&G3.test(n)&&n.startsWith(e)||t&&!H3(n)&&Object.prototype.hasOwnProperty.call(n,t)),LT=(e,t,n)=>r=>{if(typeof r!="string")return r;const[a,l,u,f]=r.match(am);return{[e]:parseFloat(a),[t]:parseFloat(l),[n]:parseFloat(u),alpha:f!==void 0?parseFloat(f):1}},q3=e=>Ci(0,255,e),Md={...Ko,transform:e=>Math.round(q3(e))},Pr={test:sm("rgb","red"),parse:LT("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:r=1})=>"rgba("+Md.transform(e)+", "+Md.transform(t)+", "+Md.transform(n)+", "+ds(Ss.transform(r))+")"};function $3(e){let t="",n="",r="",a="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),r=e.substring(5,7),a=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),r=e.substring(3,4),a=e.substring(4,5),t+=t,n+=n,r+=r,a+=a),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:a?parseInt(a,16)/255:1}}const sh={test:sm("#"),parse:$3,transform:Pr.transform},Ps=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),Wi=Ps("deg"),ti=Ps("%"),Ie=Ps("px"),Y3=Ps("vh"),K3=Ps("vw"),Ev={...ti,parse:e=>ti.parse(e)/100,transform:e=>ti.transform(e*100)},Lo={test:sm("hsl","hue"),parse:LT("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:r=1})=>"hsla("+Math.round(e)+", "+ti.transform(ds(t))+", "+ti.transform(ds(n))+", "+ds(Ss.transform(r))+")"},At={test:e=>Pr.test(e)||sh.test(e)||Lo.test(e),parse:e=>Pr.test(e)?Pr.parse(e):Lo.test(e)?Lo.parse(e):sh.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?Pr.transform(e):Lo.transform(e),getAnimatableNone:e=>{const t=At.parse(e);return t.alpha=0,At.transform(t)}},X3=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function Q3(e){var t,n;return isNaN(e)&&typeof e=="string"&&(((t=e.match(am))==null?void 0:t.length)||0)+(((n=e.match(X3))==null?void 0:n.length)||0)>0}const BT="number",jT="color",J3="var",Z3="var(",Mv="${}",W3=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Cs(e){const t=e.toString(),n=[],r={color:[],number:[],var:[]},a=[];let l=0;const f=t.replace(W3,h=>(At.test(h)?(r.color.push(l),a.push(jT),n.push(At.parse(h))):h.startsWith(Z3)?(r.var.push(l),a.push(J3),n.push(h)):(r.number.push(l),a.push(BT),n.push(parseFloat(h))),++l,Mv)).split(Mv);return{values:n,split:f,indexes:r,types:a}}function OT(e){return Cs(e).values}function zT(e){const{split:t,types:n}=Cs(e),r=t.length;return a=>{let l="";for(let u=0;u<r;u++)if(l+=t[u],a[u]!==void 0){const f=n[u];f===BT?l+=ds(a[u]):f===jT?l+=At.transform(a[u]):l+=a[u]}return l}}const e5=e=>typeof e=="number"?0:At.test(e)?At.getAnimatableNone(e):e;function t5(e){const t=OT(e);return zT(e)(t.map(e5))}const ir={test:Q3,parse:OT,createTransformer:zT,getAnimatableNone:t5};function kd(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function n5({hue:e,saturation:t,lightness:n,alpha:r}){e/=360,t/=100,n/=100;let a=0,l=0,u=0;if(!t)a=l=u=n;else{const f=n<.5?n*(1+t):n+t-n*t,h=2*n-f;a=kd(h,f,e+1/3),l=kd(h,f,e),u=kd(h,f,e-1/3)}return{red:Math.round(a*255),green:Math.round(l*255),blue:Math.round(u*255),alpha:r}}function ku(e,t){return n=>n>0?t:e}const ut=(e,t,n)=>e+(t-e)*n,Id=(e,t,n)=>{const r=e*e,a=n*(t*t-r)+r;return a<0?0:Math.sqrt(a)},i5=[sh,Pr,Lo],r5=e=>i5.find(t=>t.test(e));function kv(e){const t=r5(e);if(!t)return!1;let n=t.parse(e);return t===Lo&&(n=n5(n)),n}const Iv=(e,t)=>{const n=kv(e),r=kv(t);if(!n||!r)return ku(e,t);const a={...n};return l=>(a.red=Id(n.red,r.red,l),a.green=Id(n.green,r.green,l),a.blue=Id(n.blue,r.blue,l),a.alpha=ut(n.alpha,r.alpha,l),Pr.transform(a))},lh=new Set(["none","hidden"]);function o5(e,t){return lh.has(e)?n=>n<=0?e:t:n=>n>=1?t:e}function a5(e,t){return n=>ut(e,t,n)}function lm(e){return typeof e=="number"?a5:typeof e=="string"?om(e)?ku:At.test(e)?Iv:u5:Array.isArray(e)?FT:typeof e=="object"?At.test(e)?Iv:s5:ku}function FT(e,t){const n=[...e],r=n.length,a=e.map((l,u)=>lm(l)(l,t[u]));return l=>{for(let u=0;u<r;u++)n[u]=a[u](l);return n}}function s5(e,t){const n={...e,...t},r={};for(const a in n)e[a]!==void 0&&t[a]!==void 0&&(r[a]=lm(e[a])(e[a],t[a]));return a=>{for(const l in r)n[l]=r[l](a);return n}}function l5(e,t){const n=[],r={color:0,var:0,number:0};for(let a=0;a<t.values.length;a++){const l=t.types[a],u=e.indexes[l][r[l]],f=e.values[u]??0;n[a]=f,r[l]++}return n}const u5=(e,t)=>{const n=ir.createTransformer(t),r=Cs(e),a=Cs(t);return r.indexes.var.length===a.indexes.var.length&&r.indexes.color.length===a.indexes.color.length&&r.indexes.number.length>=a.indexes.number.length?lh.has(e)&&!a.values.length||lh.has(t)&&!r.values.length?o5(e,t):_s(FT(l5(r,a),a.values),n):ku(e,t)};function UT(e,t,n){return typeof e=="number"&&typeof t=="number"&&typeof n=="number"?ut(e,t,n):lm(e)(e,t)}const c5=e=>{const t=({timestamp:n})=>e(n);return{start:(n=!0)=>ct.update(t,n),stop:()=>nr(t),now:()=>Bt.isProcessing?Bt.timestamp:sn.now()}},HT=(e,t,n=10)=>{let r="";const a=Math.max(Math.round(t/n),2);for(let l=0;l<a;l++)r+=Math.round(e(l/(a-1))*1e4)/1e4+", ";return`linear(${r.substring(0,r.length-2)})`},Iu=2e4;function um(e){let t=0;const n=50;let r=e.next(t);for(;!r.done&&t<Iu;)t+=n,r=e.next(t);return t>=Iu?1/0:t}function f5(e,t=100,n){const r=n({...e,keyframes:[0,t]}),a=Math.min(um(r),Iu);return{type:"keyframes",ease:l=>r.next(a*l).value/t,duration:ei(a)}}const d5=5;function GT(e,t,n){const r=Math.max(t-d5,0);return CT(n-e(r),t-r)}const mt={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Nd=.001;function h5({duration:e=mt.duration,bounce:t=mt.bounce,velocity:n=mt.velocity,mass:r=mt.mass}){let a,l,u=1-t;u=Ci(mt.minDamping,mt.maxDamping,u),e=Ci(mt.minDuration,mt.maxDuration,ei(e)),u<1?(a=d=>{const m=d*u,y=m*e,T=m-n,S=uh(d,u),A=Math.exp(-y);return Nd-T/S*A},l=d=>{const y=d*u*e,T=y*n+n,S=Math.pow(u,2)*Math.pow(d,2)*e,A=Math.exp(-y),M=uh(Math.pow(d,2),u);return(-a(d)+Nd>0?-1:1)*((T-S)*A)/M}):(a=d=>{const m=Math.exp(-d*e),y=(d-n)*e+1;return-Nd+m*y},l=d=>{const m=Math.exp(-d*e),y=(n-d)*(e*e);return m*y});const f=5/e,h=p5(a,l,f);if(e=Wn(e),isNaN(h))return{stiffness:mt.stiffness,damping:mt.damping,duration:e};{const d=Math.pow(h,2)*r;return{stiffness:d,damping:u*2*Math.sqrt(r*d),duration:e}}}const m5=12;function p5(e,t,n){let r=n;for(let a=1;a<m5;a++)r=r-e(r)/t(r);return r}function uh(e,t){return e*Math.sqrt(1-t*t)}const g5=["duration","bounce"],y5=["stiffness","damping","mass"];function Nv(e,t){return t.some(n=>e[n]!==void 0)}function x5(e){let t={velocity:mt.velocity,stiffness:mt.stiffness,damping:mt.damping,mass:mt.mass,isResolvedFromDuration:!1,...e};if(!Nv(e,y5)&&Nv(e,g5))if(e.visualDuration){const n=e.visualDuration,r=2*Math.PI/(n*1.2),a=r*r,l=2*Ci(.05,1,1-(e.bounce||0))*Math.sqrt(a);t={...t,mass:mt.mass,stiffness:a,damping:l}}else{const n=h5(e);t={...t,...n,mass:mt.mass},t.isResolvedFromDuration=!0}return t}function Nu(e=mt.visualDuration,t=mt.bounce){const n=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:r,restDelta:a}=n;const l=n.keyframes[0],u=n.keyframes[n.keyframes.length-1],f={done:!1,value:l},{stiffness:h,damping:d,mass:m,duration:y,velocity:T,isResolvedFromDuration:S}=x5({...n,velocity:-ei(n.velocity||0)}),A=T||0,M=d/(2*Math.sqrt(h*m)),R=u-l,I=ei(Math.sqrt(h/m)),P=Math.abs(R)<5;r||(r=P?mt.restSpeed.granular:mt.restSpeed.default),a||(a=P?mt.restDelta.granular:mt.restDelta.default);let N;if(M<1){const H=uh(I,M);N=U=>{const ie=Math.exp(-M*I*U);return u-ie*((A+M*I*R)/H*Math.sin(H*U)+R*Math.cos(H*U))}}else if(M===1)N=H=>u-Math.exp(-I*H)*(R+(A+I*R)*H);else{const H=I*Math.sqrt(M*M-1);N=U=>{const ie=Math.exp(-M*I*U),le=Math.min(H*U,300);return u-ie*((A+M*I*R)*Math.sinh(le)+H*R*Math.cosh(le))/H}}const j={calculatedDuration:S&&y||null,next:H=>{const U=N(H);if(S)f.done=H>=y;else{let ie=H===0?A:0;M<1&&(ie=H===0?Wn(A):GT(N,H,U));const le=Math.abs(ie)<=r,pe=Math.abs(u-U)<=a;f.done=le&&pe}return f.value=f.done?u:U,f},toString:()=>{const H=Math.min(um(j),Iu),U=HT(ie=>j.next(H*ie).value,H,30);return H+"ms "+U},toTransition:()=>{}};return j}Nu.applyToOptions=e=>{const t=f5(e,100,Nu);return e.ease=t.ease,e.duration=Wn(t.duration),e.type="keyframes",e};function ch({keyframes:e,velocity:t=0,power:n=.8,timeConstant:r=325,bounceDamping:a=10,bounceStiffness:l=500,modifyTarget:u,min:f,max:h,restDelta:d=.5,restSpeed:m}){const y=e[0],T={done:!1,value:y},S=le=>f!==void 0&&le<f||h!==void 0&&le>h,A=le=>f===void 0?h:h===void 0||Math.abs(f-le)<Math.abs(h-le)?f:h;let M=n*t;const R=y+M,I=u===void 0?R:u(R);I!==R&&(M=I-y);const P=le=>-M*Math.exp(-le/r),N=le=>I+P(le),j=le=>{const pe=P(le),F=N(le);T.done=Math.abs(pe)<=d,T.value=T.done?I:F};let H,U;const ie=le=>{S(T.value)&&(H=le,U=Nu({keyframes:[T.value,A(T.value)],velocity:GT(N,le,T.value),damping:a,stiffness:l,restDelta:d,restSpeed:m}))};return ie(0),{calculatedDuration:null,next:le=>{let pe=!1;return!U&&H===void 0&&(pe=!0,j(le),ie(le)),H!==void 0&&le>=H?U.next(le-H):(!pe&&j(le),T)}}}function v5(e,t,n){const r=[],a=n||wi.mix||UT,l=e.length-1;for(let u=0;u<l;u++){let f=a(e[u],e[u+1]);if(t){const h=Array.isArray(t)?t[u]||Pn:t;f=_s(h,f)}r.push(f)}return r}function b5(e,t,{clamp:n=!0,ease:r,mixer:a}={}){const l=e.length;if(Wh(l===t.length),l===1)return()=>t[0];if(l===2&&t[0]===t[1])return()=>t[1];const u=e[0]===e[1];e[0]>e[l-1]&&(e=[...e].reverse(),t=[...t].reverse());const f=v5(t,r,a),h=f.length,d=m=>{if(u&&m<e[0])return t[0];let y=0;if(h>1)for(;y<e.length-2&&!(m<e[y+1]);y++);const T=Ts(e[y],e[y+1],m);return f[y](T)};return n?m=>d(Ci(e[0],e[l-1],m)):d}function T5(e,t){const n=e[e.length-1];for(let r=1;r<=t;r++){const a=Ts(0,t,r);e.push(ut(n,1,a))}}function S5(e){const t=[0];return T5(t,e.length-1),t}function C5(e,t){return e.map(n=>n*t)}function w5(e,t){return e.map(()=>t||RT).splice(0,e.length-1)}function hs({duration:e=300,keyframes:t,times:n,ease:r="easeInOut"}){const a=P3(r)?r.map(wv):wv(r),l={done:!1,value:t[0]},u=C5(n&&n.length===t.length?n:S5(t),e),f=b5(u,t,{ease:Array.isArray(a)?a:w5(t,a)});return{calculatedDuration:e,next:h=>(l.value=f(h),l.done=h>=e,l)}}const A5=e=>e!==null;function cm(e,{repeat:t,repeatType:n="loop"},r,a=1){const l=e.filter(A5),f=a<0||t&&n!=="loop"&&t%2===1?0:l.length-1;return!f||r===void 0?l[f]:r}const E5={decay:ch,inertia:ch,tween:hs,keyframes:hs,spring:Nu};function qT(e){typeof e.type=="string"&&(e.type=E5[e.type])}class fm{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,n){return this.finished.then(t,n)}}const M5=e=>e/100;class dm extends fm{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var r,a;const{motionValue:n}=this.options;n&&n.updatedAt!==sn.now()&&this.tick(sn.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(a=(r=this.options).onStop)==null||a.call(r))},this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){const{options:t}=this;qT(t);const{type:n=hs,repeat:r=0,repeatDelay:a=0,repeatType:l,velocity:u=0}=t;let{keyframes:f}=t;const h=n||hs;h!==hs&&typeof f[0]!="number"&&(this.mixKeyframes=_s(M5,UT(f[0],f[1])),f=[0,100]);const d=h({...t,keyframes:f});l==="mirror"&&(this.mirroredGenerator=h({...t,keyframes:[...f].reverse(),velocity:-u})),d.calculatedDuration===null&&(d.calculatedDuration=um(d));const{calculatedDuration:m}=d;this.calculatedDuration=m,this.resolvedDuration=m+a,this.totalDuration=this.resolvedDuration*(r+1)-a,this.generator=d}updateTime(t){const n=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(t,n=!1){const{generator:r,totalDuration:a,mixKeyframes:l,mirroredGenerator:u,resolvedDuration:f,calculatedDuration:h}=this;if(this.startTime===null)return r.next(0);const{delay:d=0,keyframes:m,repeat:y,repeatType:T,repeatDelay:S,type:A,onUpdate:M,finalKeyframe:R}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-a/this.speed,this.startTime)),n?this.currentTime=t:this.updateTime(t);const I=this.currentTime-d*(this.playbackSpeed>=0?1:-1),P=this.playbackSpeed>=0?I<0:I>a;this.currentTime=Math.max(I,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=a);let N=this.currentTime,j=r;if(y){const le=Math.min(this.currentTime,a)/f;let pe=Math.floor(le),F=le%1;!F&&le>=1&&(F=1),F===1&&pe--,pe=Math.min(pe,y+1),!!(pe%2)&&(T==="reverse"?(F=1-F,S&&(F-=S/f)):T==="mirror"&&(j=u)),N=Ci(0,1,F)*f}const H=P?{done:!1,value:m[0]}:j.next(N);l&&(H.value=l(H.value));let{done:U}=H;!P&&h!==null&&(U=this.playbackSpeed>=0?this.currentTime>=a:this.currentTime<=0);const ie=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&U);return ie&&A!==ch&&(H.value=cm(m,this.options,R,this.speed)),M&&M(H.value),ie&&this.finish(),H}then(t,n){return this.finished.then(t,n)}get duration(){return ei(this.calculatedDuration)}get time(){return ei(this.currentTime)}set time(t){var n;t=Wn(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed),(n=this.driver)==null||n.start(!1)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(sn.now());const n=this.playbackSpeed!==t;this.playbackSpeed=t,n&&(this.time=ei(this.currentTime))}play(){var a,l;if(this.isStopped)return;const{driver:t=c5,startTime:n}=this.options;this.driver||(this.driver=t(u=>this.tick(u))),(l=(a=this.options).onPlay)==null||l.call(a);const r=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=r):this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime||(this.startTime=n??r),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(sn.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var t,n;this.notifyFinished(),this.teardown(),this.state="finished",(n=(t=this.options).onComplete)==null||n.call(t)}cancel(){var t,n;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(n=(t=this.options).onCancel)==null||n.call(t)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){var n;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(n=this.driver)==null||n.stop(),t.observe(this)}}function k5(e){for(let t=1;t<e.length;t++)e[t]??(e[t]=e[t-1])}const Lr=e=>e*180/Math.PI,fh=e=>{const t=Lr(Math.atan2(e[1],e[0]));return dh(t)},I5={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:fh,rotateZ:fh,skewX:e=>Lr(Math.atan(e[1])),skewY:e=>Lr(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},dh=e=>(e=e%360,e<0&&(e+=360),e),Dv=fh,Rv=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),_v=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),N5={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:Rv,scaleY:_v,scale:e=>(Rv(e)+_v(e))/2,rotateX:e=>dh(Lr(Math.atan2(e[6],e[5]))),rotateY:e=>dh(Lr(Math.atan2(-e[2],e[0]))),rotateZ:Dv,rotate:Dv,skewX:e=>Lr(Math.atan(e[4])),skewY:e=>Lr(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function hh(e){return e.includes("scale")?1:0}function mh(e,t){if(!e||e==="none")return hh(t);const n=e.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,a;if(n)r=N5,a=n;else{const f=e.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=I5,a=f}if(!a)return hh(t);const l=r[t],u=a[1].split(",").map(R5);return typeof l=="function"?l(u):u[l]}const D5=(e,t)=>{const{transform:n="none"}=getComputedStyle(e);return mh(n,t)};function R5(e){return parseFloat(e.trim())}const Xo=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Qo=new Set(Xo),Vv=e=>e===Ko||e===Ie,_5=new Set(["x","y","z"]),V5=Xo.filter(e=>!_5.has(e));function P5(e){const t=[];return V5.forEach(n=>{const r=e.getValue(n);r!==void 0&&(t.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),t}const Br={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:(e,{transform:t})=>mh(t,"x"),y:(e,{transform:t})=>mh(t,"y")};Br.translateX=Br.x;Br.translateY=Br.y;const jr=new Set;let ph=!1,gh=!1,yh=!1;function $T(){if(gh){const e=Array.from(jr).filter(r=>r.needsMeasurement),t=new Set(e.map(r=>r.element)),n=new Map;t.forEach(r=>{const a=P5(r);a.length&&(n.set(r,a),r.render())}),e.forEach(r=>r.measureInitialState()),t.forEach(r=>{r.render();const a=n.get(r);a&&a.forEach(([l,u])=>{var f;(f=r.getValue(l))==null||f.set(u)})}),e.forEach(r=>r.measureEndState()),e.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}gh=!1,ph=!1,jr.forEach(e=>e.complete(yh)),jr.clear()}function YT(){jr.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(gh=!0)})}function L5(){yh=!0,YT(),$T(),yh=!1}class hm{constructor(t,n,r,a,l,u=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...t],this.onComplete=n,this.name=r,this.motionValue=a,this.element=l,this.isAsync=u}scheduleResolve(){this.state="scheduled",this.isAsync?(jr.add(this),ph||(ph=!0,ct.read(YT),ct.resolveKeyframes($T))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:n,element:r,motionValue:a}=this;if(t[0]===null){const l=a==null?void 0:a.get(),u=t[t.length-1];if(l!==void 0)t[0]=l;else if(r&&n){const f=r.readValue(n,u);f!=null&&(t[0]=f)}t[0]===void 0&&(t[0]=u),a&&l===void 0&&a.set(t[0])}k5(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),jr.delete(this)}cancel(){this.state==="scheduled"&&(jr.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const B5=e=>e.startsWith("--");function j5(e,t,n){B5(t)?e.style.setProperty(t,n):e.style[t]=n}const O5=em(()=>window.ScrollTimeline!==void 0),z5={};function F5(e,t){const n=em(e);return()=>z5[t]??n()}const KT=F5(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),as=([e,t,n,r])=>`cubic-bezier(${e}, ${t}, ${n}, ${r})`,Pv={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:as([0,.65,.55,1]),circOut:as([.55,0,1,.45]),backIn:as([.31,.01,.66,-.59]),backOut:as([.33,1.53,.69,.99])};function XT(e,t){if(e)return typeof e=="function"?KT()?HT(e,t):"ease-out":_T(e)?as(e):Array.isArray(e)?e.map(n=>XT(n,t)||Pv.easeOut):Pv[e]}function U5(e,t,n,{delay:r=0,duration:a=300,repeat:l=0,repeatType:u="loop",ease:f="easeOut",times:h}={},d=void 0){const m={[t]:n};h&&(m.offset=h);const y=XT(f,a);Array.isArray(y)&&(m.easing=y);const T={delay:r,duration:a,easing:Array.isArray(y)?"linear":y,fill:"both",iterations:l+1,direction:u==="reverse"?"alternate":"normal"};return d&&(T.pseudoElement=d),e.animate(m,T)}function QT(e){return typeof e=="function"&&"applyToOptions"in e}function H5({type:e,...t}){return QT(e)&&KT()?e.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}class G5 extends fm{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,!t)return;const{element:n,name:r,keyframes:a,pseudoElement:l,allowFlatten:u=!1,finalKeyframe:f,onComplete:h}=t;this.isPseudoElement=!!l,this.allowFlatten=u,this.options=t,Wh(typeof t.type!="string");const d=H5(t);this.animation=U5(n,r,a,d,l),d.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!l){const m=cm(a,this.options,f,this.speed);this.updateMotionValue?this.updateMotionValue(m):j5(n,r,m),this.animation.cancel()}h==null||h(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var t,n;(n=(t=this.animation).finish)==null||n.call(t)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var t,n;this.isPseudoElement||(n=(t=this.animation).commitStyles)==null||n.call(t)}get duration(){var n,r;const t=((r=(n=this.animation.effect)==null?void 0:n.getComputedTiming)==null?void 0:r.call(n).duration)||0;return ei(Number(t))}get time(){return ei(Number(this.animation.currentTime)||0)}set time(t){this.finishedTime=null,this.animation.currentTime=Wn(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(t){this.animation.startTime=t}attachTimeline({timeline:t,observe:n}){var r;return this.allowFlatten&&((r=this.animation.effect)==null||r.updateTiming({easing:"linear"})),this.animation.onfinish=null,t&&O5()?(this.animation.timeline=t,Pn):n(this)}}const JT={anticipate:IT,backInOut:kT,circInOut:DT};function q5(e){return e in JT}function $5(e){typeof e.ease=="string"&&q5(e.ease)&&(e.ease=JT[e.ease])}const Lv=10;class Y5 extends G5{constructor(t){$5(t),qT(t),super(t),t.startTime&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const{motionValue:n,onUpdate:r,onComplete:a,element:l,...u}=this.options;if(!n)return;if(t!==void 0){n.set(t);return}const f=new dm({...u,autoplay:!1}),h=Wn(this.finishedTime??this.time);n.setWithVelocity(f.sample(h-Lv).value,f.sample(h).value,Lv),f.stop()}}const Bv=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(ir.test(e)||e==="0")&&!e.startsWith("url("));function K5(e){const t=e[0];if(e.length===1)return!0;for(let n=0;n<e.length;n++)if(e[n]!==t)return!0}function X5(e,t,n,r){const a=e[0];if(a===null)return!1;if(t==="display"||t==="visibility")return!0;const l=e[e.length-1],u=Bv(a,t),f=Bv(l,t);return!u||!f?!1:K5(e)||(n==="spring"||QT(n))&&r}function ZT(e){return TT(e)&&"offsetHeight"in e}const Q5=new Set(["opacity","clipPath","filter","transform"]),J5=em(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function Z5(e){var d;const{motionValue:t,name:n,repeatDelay:r,repeatType:a,damping:l,type:u}=e;if(!ZT((d=t==null?void 0:t.owner)==null?void 0:d.current))return!1;const{onUpdate:f,transformTemplate:h}=t.owner.getProps();return J5()&&n&&Q5.has(n)&&(n!=="transform"||!h)&&!f&&!r&&a!=="mirror"&&l!==0&&u!=="inertia"}const W5=40;class eP extends fm{constructor({autoplay:t=!0,delay:n=0,type:r="keyframes",repeat:a=0,repeatDelay:l=0,repeatType:u="loop",keyframes:f,name:h,motionValue:d,element:m,...y}){var A;super(),this.stop=()=>{var M,R;this._animation&&(this._animation.stop(),(M=this.stopTimeline)==null||M.call(this)),(R=this.keyframeResolver)==null||R.cancel()},this.createdAt=sn.now();const T={autoplay:t,delay:n,type:r,repeat:a,repeatDelay:l,repeatType:u,name:h,motionValue:d,element:m,...y},S=(m==null?void 0:m.KeyframeResolver)||hm;this.keyframeResolver=new S(f,(M,R,I)=>this.onKeyframesResolved(M,R,T,!I),h,d,m),(A=this.keyframeResolver)==null||A.scheduleResolve()}onKeyframesResolved(t,n,r,a){this.keyframeResolver=void 0;const{name:l,type:u,velocity:f,delay:h,isHandoff:d,onUpdate:m}=r;this.resolvedAt=sn.now(),X5(t,l,u,f)||((wi.instantAnimations||!h)&&(m==null||m(cm(t,r,n))),t[0]=t[t.length-1],r.duration=0,r.repeat=0);const T={startTime:a?this.resolvedAt?this.resolvedAt-this.createdAt>W5?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...r,keyframes:t},S=!d&&Z5(T)?new Y5({...T,element:T.motionValue.owner.current}):new dm(T);S.finished.then(()=>this.notifyFinished()).catch(Pn),this.pendingTimeline&&(this.stopTimeline=S.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=S}get finished(){return this._animation?this.animation.finished:this._finished}then(t,n){return this.finished.finally(t).then(()=>{})}get animation(){var t;return this._animation||((t=this.keyframeResolver)==null||t.resume(),L5()),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var t;this._animation&&this.animation.cancel(),(t=this.keyframeResolver)==null||t.cancel()}}const tP=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function nP(e){const t=tP.exec(e);if(!t)return[,];const[,n,r,a]=t;return[`--${n??r}`,a]}function WT(e,t,n=1){const[r,a]=nP(e);if(!r)return;const l=window.getComputedStyle(t).getPropertyValue(r);if(l){const u=l.trim();return bT(u)?parseFloat(u):u}return om(a)?WT(a,t,n+1):a}function mm(e,t){return(e==null?void 0:e[t])??(e==null?void 0:e.default)??e}const eS=new Set(["width","height","top","left","right","bottom",...Xo]),iP={test:e=>e==="auto",parse:e=>e},tS=e=>t=>t.test(e),nS=[Ko,Ie,ti,Wi,K3,Y3,iP],jv=e=>nS.find(tS(e));function rP(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||ST(e):!0}const oP=new Set(["brightness","contrast","saturate","opacity"]);function aP(e){const[t,n]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[r]=n.match(am)||[];if(!r)return e;const a=n.replace(r,"");let l=oP.has(t)?1:0;return r!==n&&(l*=100),t+"("+l+a+")"}const sP=/\b([a-z-]*)\(.*?\)/gu,xh={...ir,getAnimatableNone:e=>{const t=e.match(sP);return t?t.map(aP).join(" "):e}},Ov={...Ko,transform:Math.round},lP={rotate:Wi,rotateX:Wi,rotateY:Wi,rotateZ:Wi,scale:su,scaleX:su,scaleY:su,scaleZ:su,skew:Wi,skewX:Wi,skewY:Wi,distance:Ie,translateX:Ie,translateY:Ie,translateZ:Ie,x:Ie,y:Ie,z:Ie,perspective:Ie,transformPerspective:Ie,opacity:Ss,originX:Ev,originY:Ev,originZ:Ie},pm={borderWidth:Ie,borderTopWidth:Ie,borderRightWidth:Ie,borderBottomWidth:Ie,borderLeftWidth:Ie,borderRadius:Ie,radius:Ie,borderTopLeftRadius:Ie,borderTopRightRadius:Ie,borderBottomRightRadius:Ie,borderBottomLeftRadius:Ie,width:Ie,maxWidth:Ie,height:Ie,maxHeight:Ie,top:Ie,right:Ie,bottom:Ie,left:Ie,padding:Ie,paddingTop:Ie,paddingRight:Ie,paddingBottom:Ie,paddingLeft:Ie,margin:Ie,marginTop:Ie,marginRight:Ie,marginBottom:Ie,marginLeft:Ie,backgroundPositionX:Ie,backgroundPositionY:Ie,...lP,zIndex:Ov,fillOpacity:Ss,strokeOpacity:Ss,numOctaves:Ov},uP={...pm,color:At,backgroundColor:At,outlineColor:At,fill:At,stroke:At,borderColor:At,borderTopColor:At,borderRightColor:At,borderBottomColor:At,borderLeftColor:At,filter:xh,WebkitFilter:xh},iS=e=>uP[e];function rS(e,t){let n=iS(e);return n!==xh&&(n=ir),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const cP=new Set(["auto","none","0"]);function fP(e,t,n){let r=0,a;for(;r<e.length&&!a;){const l=e[r];typeof l=="string"&&!cP.has(l)&&Cs(l).values.length&&(a=e[r]),r++}if(a&&n)for(const l of t)e[l]=rS(n,a)}class dP extends hm{constructor(t,n,r,a,l){super(t,n,r,a,l,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let h=0;h<t.length;h++){let d=t[h];if(typeof d=="string"&&(d=d.trim(),om(d))){const m=WT(d,n.current);m!==void 0&&(t[h]=m),h===t.length-1&&(this.finalKeyframe=d)}}if(this.resolveNoneKeyframes(),!eS.has(r)||t.length!==2)return;const[a,l]=t,u=jv(a),f=jv(l);if(u!==f)if(Vv(u)&&Vv(f))for(let h=0;h<t.length;h++){const d=t[h];typeof d=="string"&&(t[h]=parseFloat(d))}else Br[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:n}=this,r=[];for(let a=0;a<t.length;a++)(t[a]===null||rP(t[a]))&&r.push(a);r.length&&fP(t,r,n)}measureInitialState(){const{element:t,unresolvedKeyframes:n,name:r}=this;if(!t||!t.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Br[r](t.measureViewportBox(),window.getComputedStyle(t.current)),n[0]=this.measuredOrigin;const a=n[n.length-1];a!==void 0&&t.getValue(r,a).jump(a,!1)}measureEndState(){var f;const{element:t,name:n,unresolvedKeyframes:r}=this;if(!t||!t.current)return;const a=t.getValue(n);a&&a.jump(this.measuredOrigin,!1);const l=r.length-1,u=r[l];r[l]=Br[n](t.measureViewportBox(),window.getComputedStyle(t.current)),u!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=u),(f=this.removedTransforms)!=null&&f.length&&this.removedTransforms.forEach(([h,d])=>{t.getValue(h).set(d)}),this.resolveNoneKeyframes()}}function hP(e,t,n){if(e instanceof EventTarget)return[e];if(typeof e=="string"){let r=document;const a=(n==null?void 0:n[e])??r.querySelectorAll(e);return a?Array.from(a):[]}return Array.from(e)}const oS=(e,t)=>t&&typeof e=="number"?t.transform(e):e,zv=30,mP=e=>!isNaN(parseFloat(e));class pP{constructor(t,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=(r,a=!0)=>{var u,f;const l=sn.now();if(this.updatedAt!==l&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&((u=this.events.change)==null||u.notify(this.current),this.dependents))for(const h of this.dependents)h.dirty();a&&((f=this.events.renderRequest)==null||f.notify(this.current))},this.hasAnimated=!1,this.setCurrent(t),this.owner=n.owner}setCurrent(t){this.current=t,this.updatedAt=sn.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=mP(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,n){this.events[t]||(this.events[t]=new tm);const r=this.events[t].add(n);return t==="change"?()=>{r(),ct.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,n){this.passiveEffect=t,this.stopPassiveEffect=n}set(t,n=!0){!n||!this.passiveEffect?this.updateAndNotify(t,n):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-r}jump(t,n=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var t;(t=this.events.change)==null||t.notify(this.current)}addDependent(t){this.dependents||(this.dependents=new Set),this.dependents.add(t)}removeDependent(t){this.dependents&&this.dependents.delete(t)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=sn.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>zv)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,zv);return CT(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(t){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=t(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var t,n;(t=this.dependents)==null||t.clear(),(n=this.events.destroy)==null||n.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Ho(e,t){return new pP(e,t)}const{schedule:gm}=VT(queueMicrotask,!1),Fn={x:!1,y:!1};function aS(){return Fn.x||Fn.y}function gP(e){return e==="x"||e==="y"?Fn[e]?null:(Fn[e]=!0,()=>{Fn[e]=!1}):Fn.x||Fn.y?null:(Fn.x=Fn.y=!0,()=>{Fn.x=Fn.y=!1})}function sS(e,t){const n=hP(e),r=new AbortController,a={passive:!0,...t,signal:r.signal};return[n,a,()=>r.abort()]}function Fv(e){return!(e.pointerType==="touch"||aS())}function yP(e,t,n={}){const[r,a,l]=sS(e,n),u=f=>{if(!Fv(f))return;const{target:h}=f,d=t(h,f);if(typeof d!="function"||!h)return;const m=y=>{Fv(y)&&(d(y),h.removeEventListener("pointerleave",m))};h.addEventListener("pointerleave",m,a)};return r.forEach(f=>{f.addEventListener("pointerenter",u,a)}),l}const lS=(e,t)=>t?e===t?!0:lS(e,t.parentElement):!1,ym=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,xP=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function vP(e){return xP.has(e.tagName)||e.tabIndex!==-1}const gu=new WeakSet;function Uv(e){return t=>{t.key==="Enter"&&e(t)}}function Dd(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const bP=(e,t)=>{const n=e.currentTarget;if(!n)return;const r=Uv(()=>{if(gu.has(n))return;Dd(n,"down");const a=Uv(()=>{Dd(n,"up")}),l=()=>Dd(n,"cancel");n.addEventListener("keyup",a,t),n.addEventListener("blur",l,t)});n.addEventListener("keydown",r,t),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),t)};function Hv(e){return ym(e)&&!aS()}function TP(e,t,n={}){const[r,a,l]=sS(e,n),u=f=>{const h=f.currentTarget;if(!Hv(f))return;gu.add(h);const d=t(h,f),m=(S,A)=>{window.removeEventListener("pointerup",y),window.removeEventListener("pointercancel",T),gu.has(h)&&gu.delete(h),Hv(S)&&typeof d=="function"&&d(S,{success:A})},y=S=>{m(S,h===window||h===document||n.useGlobalTarget||lS(h,S.target))},T=S=>{m(S,!1)};window.addEventListener("pointerup",y,a),window.addEventListener("pointercancel",T,a)};return r.forEach(f=>{(n.useGlobalTarget?window:f).addEventListener("pointerdown",u,a),ZT(f)&&(f.addEventListener("focus",d=>bP(d,a)),!vP(f)&&!f.hasAttribute("tabindex")&&(f.tabIndex=0))}),l}function uS(e){return TT(e)&&"ownerSVGElement"in e}function SP(e){return uS(e)&&e.tagName==="svg"}const $t=e=>!!(e&&e.getVelocity),CP=[...nS,At,ir],wP=e=>CP.find(tS(e)),cS=te.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});function AP(e=!0){const t=te.useContext(Qh);if(t===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:a}=t,l=te.useId();te.useEffect(()=>{if(e)return a(l)},[e]);const u=te.useCallback(()=>e&&r&&r(l),[l,r,e]);return!n&&r?[!1,u]:[!0]}const fS=te.createContext({strict:!1}),Gv={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Go={};for(const e in Gv)Go[e]={isEnabled:t=>Gv[e].some(n=>!!t[n])};function EP(e){for(const t in e)Go[t]={...Go[t],...e[t]}}const MP=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Du(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||MP.has(e)}let dS=e=>!Du(e);function kP(e){typeof e=="function"&&(dS=t=>t.startsWith("on")?!Du(t):e(t))}try{kP(require("@emotion/is-prop-valid").default)}catch{}function IP(e,t,n){const r={};for(const a in e)a==="values"&&typeof e.values=="object"||(dS(a)||n===!0&&Du(a)||!t&&!Du(a)||e.draggable&&a.startsWith("onDrag"))&&(r[a]=e[a]);return r}function NP(e){if(typeof Proxy>"u")return e;const t=new Map,n=(...r)=>e(...r);return new Proxy(n,{get:(r,a)=>a==="create"?e:(t.has(a)||t.set(a,e(a)),t.get(a))})}const Fu=te.createContext({});function Uu(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}function ws(e){return typeof e=="string"||Array.isArray(e)}const xm=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],vm=["initial",...xm];function Hu(e){return Uu(e.animate)||vm.some(t=>ws(e[t]))}function hS(e){return!!(Hu(e)||e.variants)}function DP(e,t){if(Hu(e)){const{initial:n,animate:r}=e;return{initial:n===!1||ws(n)?n:void 0,animate:ws(r)?r:void 0}}return e.inherit!==!1?t:{}}function RP(e){const{initial:t,animate:n}=DP(e,te.useContext(Fu));return te.useMemo(()=>({initial:t,animate:n}),[qv(t),qv(n)])}function qv(e){return Array.isArray(e)?e.join(" "):e}const _P=Symbol.for("motionComponentSymbol");function Bo(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function VP(e,t,n){return te.useCallback(r=>{r&&e.onMount&&e.onMount(r),t&&(r?t.mount(r):t.unmount()),n&&(typeof n=="function"?n(r):Bo(n)&&(n.current=r))},[t])}const bm=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),PP="framerAppearId",mS="data-"+bm(PP),pS=te.createContext({});function LP(e,t,n,r,a){var M,R;const{visualElement:l}=te.useContext(Fu),u=te.useContext(fS),f=te.useContext(Qh),h=te.useContext(cS).reducedMotion,d=te.useRef(null);r=r||u.renderer,!d.current&&r&&(d.current=r(e,{visualState:t,parent:l,props:n,presenceContext:f,blockInitialAnimation:f?f.initial===!1:!1,reducedMotionConfig:h}));const m=d.current,y=te.useContext(pS);m&&!m.projection&&a&&(m.type==="html"||m.type==="svg")&&BP(d.current,n,a,y);const T=te.useRef(!1);te.useInsertionEffect(()=>{m&&T.current&&m.update(n,f)});const S=n[mS],A=te.useRef(!!S&&!((M=window.MotionHandoffIsComplete)!=null&&M.call(window,S))&&((R=window.MotionHasOptimisedAnimation)==null?void 0:R.call(window,S)));return k3(()=>{m&&(T.current=!0,window.MotionIsMounted=!0,m.updateFeatures(),gm.render(m.render),A.current&&m.animationState&&m.animationState.animateChanges())}),te.useEffect(()=>{m&&(!A.current&&m.animationState&&m.animationState.animateChanges(),A.current&&(queueMicrotask(()=>{var I;(I=window.MotionHandoffMarkAsComplete)==null||I.call(window,S)}),A.current=!1))}),m}function BP(e,t,n,r){const{layoutId:a,layout:l,drag:u,dragConstraints:f,layoutScroll:h,layoutRoot:d,layoutCrossfade:m}=t;e.projection=new n(e.latestValues,t["data-framer-portal-id"]?void 0:gS(e.parent)),e.projection.setOptions({layoutId:a,layout:l,alwaysMeasureLayout:!!u||f&&Bo(f),visualElement:e,animationType:typeof l=="string"?l:"both",initialPromotionConfig:r,crossfade:m,layoutScroll:h,layoutRoot:d})}function gS(e){if(e)return e.options.allowProjection!==!1?e.projection:gS(e.parent)}function jP({preloadedFeatures:e,createVisualElement:t,useRender:n,useVisualState:r,Component:a}){e&&EP(e);function l(f,h){let d;const m={...te.useContext(cS),...f,layoutId:OP(f)},{isStatic:y}=m,T=RP(f),S=r(f,y);if(!y&&Xh){zP();const A=FP(m);d=A.MeasureLayout,T.visualElement=LP(a,S,m,t,A.ProjectionNode)}return g.jsxs(Fu.Provider,{value:T,children:[d&&T.visualElement?g.jsx(d,{visualElement:T.visualElement,...m}):null,n(a,f,VP(S,T.visualElement,h),S,y,T.visualElement)]})}l.displayName=`motion.${typeof a=="string"?a:`create(${a.displayName??a.name??""})`}`;const u=te.forwardRef(l);return u[_P]=a,u}function OP({layoutId:e}){const t=te.useContext(vT).id;return t&&e!==void 0?t+"-"+e:e}function zP(e,t){te.useContext(fS).strict}function FP(e){const{drag:t,layout:n}=Go;if(!t&&!n)return{};const r={...t,...n};return{MeasureLayout:t!=null&&t.isEnabled(e)||n!=null&&n.isEnabled(e)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}const As={};function UP(e){for(const t in e)As[t]=e[t],rm(t)&&(As[t].isCSSVariable=!0)}function yS(e,{layout:t,layoutId:n}){return Qo.has(e)||e.startsWith("origin")||(t||n!==void 0)&&(!!As[e]||e==="opacity")}const HP={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},GP=Xo.length;function qP(e,t,n){let r="",a=!0;for(let l=0;l<GP;l++){const u=Xo[l],f=e[u];if(f===void 0)continue;let h=!0;if(typeof f=="number"?h=f===(u.startsWith("scale")?1:0):h=parseFloat(f)===0,!h||n){const d=oS(f,pm[u]);if(!h){a=!1;const m=HP[u]||u;r+=`${m}(${d}) `}n&&(t[u]=d)}}return r=r.trim(),n?r=n(t,a?"":r):a&&(r="none"),r}function Tm(e,t,n){const{style:r,vars:a,transformOrigin:l}=e;let u=!1,f=!1;for(const h in t){const d=t[h];if(Qo.has(h)){u=!0;continue}else if(rm(h)){a[h]=d;continue}else{const m=oS(d,pm[h]);h.startsWith("origin")?(f=!0,l[h]=m):r[h]=m}}if(t.transform||(u||n?r.transform=qP(t,e.transform,n):r.transform&&(r.transform="none")),f){const{originX:h="50%",originY:d="50%",originZ:m=0}=l;r.transformOrigin=`${h} ${d} ${m}`}}const Sm=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function xS(e,t,n){for(const r in t)!$t(t[r])&&!yS(r,n)&&(e[r]=t[r])}function $P({transformTemplate:e},t){return te.useMemo(()=>{const n=Sm();return Tm(n,t,e),Object.assign({},n.vars,n.style)},[t])}function YP(e,t){const n=e.style||{},r={};return xS(r,n,e),Object.assign(r,$P(e,t)),r}function KP(e,t){const n={},r=YP(e,t);return e.drag&&e.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(n.tabIndex=0),n.style=r,n}const XP={offset:"stroke-dashoffset",array:"stroke-dasharray"},QP={offset:"strokeDashoffset",array:"strokeDasharray"};function JP(e,t,n=1,r=0,a=!0){e.pathLength=1;const l=a?XP:QP;e[l.offset]=Ie.transform(-r);const u=Ie.transform(t),f=Ie.transform(n);e[l.array]=`${u} ${f}`}function vS(e,{attrX:t,attrY:n,attrScale:r,pathLength:a,pathSpacing:l=1,pathOffset:u=0,...f},h,d,m){if(Tm(e,f,d),h){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:y,style:T}=e;y.transform&&(T.transform=y.transform,delete y.transform),(T.transform||y.transformOrigin)&&(T.transformOrigin=y.transformOrigin??"50% 50%",delete y.transformOrigin),T.transform&&(T.transformBox=(m==null?void 0:m.transformBox)??"fill-box",delete y.transformBox),t!==void 0&&(y.x=t),n!==void 0&&(y.y=n),r!==void 0&&(y.scale=r),a!==void 0&&JP(y,a,l,u,!1)}const bS=()=>({...Sm(),attrs:{}}),TS=e=>typeof e=="string"&&e.toLowerCase()==="svg";function ZP(e,t,n,r){const a=te.useMemo(()=>{const l=bS();return vS(l,t,TS(r),e.transformTemplate,e.style),{...l.attrs,style:{...l.style}}},[t]);if(e.style){const l={};xS(l,e.style,e),a.style={...l,...a.style}}return a}const WP=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Cm(e){return typeof e!="string"||e.includes("-")?!1:!!(WP.indexOf(e)>-1||/[A-Z]/u.test(e))}function eL(e=!1){return(n,r,a,{latestValues:l},u)=>{const h=(Cm(n)?ZP:KP)(r,l,u,n),d=IP(r,typeof n=="string",e),m=n!==te.Fragment?{...d,...h,ref:a}:{},{children:y}=r,T=te.useMemo(()=>$t(y)?y.get():y,[y]);return te.createElement(n,{...m,children:T})}}function $v(e){const t=[{},{}];return e==null||e.values.forEach((n,r)=>{t[0][r]=n.get(),t[1][r]=n.getVelocity()}),t}function wm(e,t,n,r){if(typeof t=="function"){const[a,l]=$v(r);t=t(n!==void 0?n:e.custom,a,l)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[a,l]=$v(r);t=t(n!==void 0?n:e.custom,a,l)}return t}function yu(e){return $t(e)?e.get():e}function tL({scrapeMotionValuesFromProps:e,createRenderState:t},n,r,a){return{latestValues:nL(n,r,a,e),renderState:t()}}const SS=e=>(t,n)=>{const r=te.useContext(Fu),a=te.useContext(Qh),l=()=>tL(e,t,r,a);return n?l():M3(l)};function nL(e,t,n,r){const a={},l=r(e,{});for(const T in l)a[T]=yu(l[T]);let{initial:u,animate:f}=e;const h=Hu(e),d=hS(e);t&&d&&!h&&e.inherit!==!1&&(u===void 0&&(u=t.initial),f===void 0&&(f=t.animate));let m=n?n.initial===!1:!1;m=m||u===!1;const y=m?f:u;if(y&&typeof y!="boolean"&&!Uu(y)){const T=Array.isArray(y)?y:[y];for(let S=0;S<T.length;S++){const A=wm(e,T[S]);if(A){const{transitionEnd:M,transition:R,...I}=A;for(const P in I){let N=I[P];if(Array.isArray(N)){const j=m?N.length-1:0;N=N[j]}N!==null&&(a[P]=N)}for(const P in M)a[P]=M[P]}}}return a}function Am(e,t,n){var l;const{style:r}=e,a={};for(const u in r)($t(r[u])||t.style&&$t(t.style[u])||yS(u,e)||((l=n==null?void 0:n.getValue(u))==null?void 0:l.liveStyle)!==void 0)&&(a[u]=r[u]);return a}const iL={useVisualState:SS({scrapeMotionValuesFromProps:Am,createRenderState:Sm})};function CS(e,t,n){const r=Am(e,t,n);for(const a in e)if($t(e[a])||$t(t[a])){const l=Xo.indexOf(a)!==-1?"attr"+a.charAt(0).toUpperCase()+a.substring(1):a;r[l]=e[a]}return r}const rL={useVisualState:SS({scrapeMotionValuesFromProps:CS,createRenderState:bS})};function oL(e,t){return function(r,{forwardMotionProps:a}={forwardMotionProps:!1}){const u={...Cm(r)?rL:iL,preloadedFeatures:e,useRender:eL(a),createVisualElement:t,Component:r};return jP(u)}}function Es(e,t,n){const r=e.getProps();return wm(r,t,n!==void 0?n:r.custom,e)}const vh=e=>Array.isArray(e);function aL(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,Ho(n))}function sL(e){return vh(e)?e[e.length-1]||0:e}function lL(e,t){const n=Es(e,t);let{transitionEnd:r={},transition:a={},...l}=n||{};l={...l,...r};for(const u in l){const f=sL(l[u]);aL(e,u,f)}}function uL(e){return!!($t(e)&&e.add)}function bh(e,t){const n=e.getValue("willChange");if(uL(n))return n.add(t);if(!n&&wi.WillChange){const r=new wi.WillChange("auto");e.addValue("willChange",r),r.add(t)}}function wS(e){return e.props[mS]}const cL=e=>e!==null;function fL(e,{repeat:t,repeatType:n="loop"},r){const a=e.filter(cL),l=t&&n!=="loop"&&t%2===1?0:a.length-1;return a[l]}const dL={type:"spring",stiffness:500,damping:25,restSpeed:10},hL=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),mL={type:"keyframes",duration:.8},pL={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},gL=(e,{keyframes:t})=>t.length>2?mL:Qo.has(e)?e.startsWith("scale")?hL(t[1]):dL:pL;function yL({when:e,delay:t,delayChildren:n,staggerChildren:r,staggerDirection:a,repeat:l,repeatType:u,repeatDelay:f,from:h,elapsed:d,...m}){return!!Object.keys(m).length}const Em=(e,t,n,r={},a,l)=>u=>{const f=mm(r,e)||{},h=f.delay||r.delay||0;let{elapsed:d=0}=r;d=d-Wn(h);const m={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:t.getVelocity(),...f,delay:-d,onUpdate:T=>{t.set(T),f.onUpdate&&f.onUpdate(T)},onComplete:()=>{u(),f.onComplete&&f.onComplete()},name:e,motionValue:t,element:l?void 0:a};yL(f)||Object.assign(m,gL(e,m)),m.duration&&(m.duration=Wn(m.duration)),m.repeatDelay&&(m.repeatDelay=Wn(m.repeatDelay)),m.from!==void 0&&(m.keyframes[0]=m.from);let y=!1;if((m.type===!1||m.duration===0&&!m.repeatDelay)&&(m.duration=0,m.delay===0&&(y=!0)),(wi.instantAnimations||wi.skipAnimations)&&(y=!0,m.duration=0,m.delay=0),m.allowFlatten=!f.type&&!f.ease,y&&!l&&t.get()!==void 0){const T=fL(m.keyframes,f);if(T!==void 0){ct.update(()=>{m.onUpdate(T),m.onComplete()});return}}return f.isSync?new dm(m):new eP(m)};function xL({protectedKeys:e,needsAnimating:t},n){const r=e.hasOwnProperty(n)&&t[n]!==!0;return t[n]=!1,r}function AS(e,t,{delay:n=0,transitionOverride:r,type:a}={}){let{transition:l=e.getDefaultTransition(),transitionEnd:u,...f}=t;r&&(l=r);const h=[],d=a&&e.animationState&&e.animationState.getState()[a];for(const m in f){const y=e.getValue(m,e.latestValues[m]??null),T=f[m];if(T===void 0||d&&xL(d,m))continue;const S={delay:n,...mm(l||{},m)},A=y.get();if(A!==void 0&&!y.isAnimating&&!Array.isArray(T)&&T===A&&!S.velocity)continue;let M=!1;if(window.MotionHandoffAnimation){const I=wS(e);if(I){const P=window.MotionHandoffAnimation(I,m,ct);P!==null&&(S.startTime=P,M=!0)}}bh(e,m),y.start(Em(m,y,T,e.shouldReduceMotion&&eS.has(m)?{type:!1}:S,e,M));const R=y.animation;R&&h.push(R)}return u&&Promise.all(h).then(()=>{ct.update(()=>{u&&lL(e,u)})}),h}function Th(e,t,n={}){var h;const r=Es(e,t,n.type==="exit"?(h=e.presenceContext)==null?void 0:h.custom:void 0);let{transition:a=e.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(a=n.transitionOverride);const l=r?()=>Promise.all(AS(e,r,n)):()=>Promise.resolve(),u=e.variantChildren&&e.variantChildren.size?(d=0)=>{const{delayChildren:m=0,staggerChildren:y,staggerDirection:T}=a;return vL(e,t,m+d,y,T,n)}:()=>Promise.resolve(),{when:f}=a;if(f){const[d,m]=f==="beforeChildren"?[l,u]:[u,l];return d().then(()=>m())}else return Promise.all([l(),u(n.delay)])}function vL(e,t,n=0,r=0,a=1,l){const u=[],f=(e.variantChildren.size-1)*r,h=a===1?(d=0)=>d*r:(d=0)=>f-d*r;return Array.from(e.variantChildren).sort(bL).forEach((d,m)=>{d.notify("AnimationStart",t),u.push(Th(d,t,{...l,delay:n+h(m)}).then(()=>d.notify("AnimationComplete",t)))}),Promise.all(u)}function bL(e,t){return e.sortNodePosition(t)}function TL(e,t,n={}){e.notify("AnimationStart",t);let r;if(Array.isArray(t)){const a=t.map(l=>Th(e,l,n));r=Promise.all(a)}else if(typeof t=="string")r=Th(e,t,n);else{const a=typeof t=="function"?Es(e,t,n.custom):t;r=Promise.all(AS(e,a,n))}return r.then(()=>{e.notify("AnimationComplete",t)})}function ES(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}const SL=vm.length;function MS(e){if(!e)return;if(!e.isControllingVariants){const n=e.parent?MS(e.parent)||{}:{};return e.props.initial!==void 0&&(n.initial=e.props.initial),n}const t={};for(let n=0;n<SL;n++){const r=vm[n],a=e.props[r];(ws(a)||a===!1)&&(t[r]=a)}return t}const CL=[...xm].reverse(),wL=xm.length;function AL(e){return t=>Promise.all(t.map(({animation:n,options:r})=>TL(e,n,r)))}function EL(e){let t=AL(e),n=Yv(),r=!0;const a=h=>(d,m)=>{var T;const y=Es(e,m,h==="exit"?(T=e.presenceContext)==null?void 0:T.custom:void 0);if(y){const{transition:S,transitionEnd:A,...M}=y;d={...d,...M,...A}}return d};function l(h){t=h(e)}function u(h){const{props:d}=e,m=MS(e.parent)||{},y=[],T=new Set;let S={},A=1/0;for(let R=0;R<wL;R++){const I=CL[R],P=n[I],N=d[I]!==void 0?d[I]:m[I],j=ws(N),H=I===h?P.isActive:null;H===!1&&(A=R);let U=N===m[I]&&N!==d[I]&&j;if(U&&r&&e.manuallyAnimateOnMount&&(U=!1),P.protectedKeys={...S},!P.isActive&&H===null||!N&&!P.prevProp||Uu(N)||typeof N=="boolean")continue;const ie=ML(P.prevProp,N);let le=ie||I===h&&P.isActive&&!U&&j||R>A&&j,pe=!1;const F=Array.isArray(N)?N:[N];let ue=F.reduce(a(I),{});H===!1&&(ue={});const{prevResolvedValues:fe={}}=P,W={...fe,...ue},ae=L=>{le=!0,T.has(L)&&(pe=!0,T.delete(L)),P.needsAnimating[L]=!0;const D=e.getValue(L);D&&(D.liveStyle=!1)};for(const L in W){const D=ue[L],_=fe[L];if(S.hasOwnProperty(L))continue;let C=!1;vh(D)&&vh(_)?C=!ES(D,_):C=D!==_,C?D!=null?ae(L):T.add(L):D!==void 0&&T.has(L)?ae(L):P.protectedKeys[L]=!0}P.prevProp=N,P.prevResolvedValues=ue,P.isActive&&(S={...S,...ue}),r&&e.blockInitialAnimation&&(le=!1),le&&(!(U&&ie)||pe)&&y.push(...F.map(L=>({animation:L,options:{type:I}})))}if(T.size){const R={};if(typeof d.initial!="boolean"){const I=Es(e,Array.isArray(d.initial)?d.initial[0]:d.initial);I&&I.transition&&(R.transition=I.transition)}T.forEach(I=>{const P=e.getBaseTarget(I),N=e.getValue(I);N&&(N.liveStyle=!0),R[I]=P??null}),y.push({animation:R})}let M=!!y.length;return r&&(d.initial===!1||d.initial===d.animate)&&!e.manuallyAnimateOnMount&&(M=!1),r=!1,M?t(y):Promise.resolve()}function f(h,d){var y;if(n[h].isActive===d)return Promise.resolve();(y=e.variantChildren)==null||y.forEach(T=>{var S;return(S=T.animationState)==null?void 0:S.setActive(h,d)}),n[h].isActive=d;const m=u(h);for(const T in n)n[T].protectedKeys={};return m}return{animateChanges:u,setActive:f,setAnimateFunction:l,getState:()=>n,reset:()=>{n=Yv(),r=!0}}}function ML(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!ES(t,e):!1}function Rr(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function Yv(){return{animate:Rr(!0),whileInView:Rr(),whileHover:Rr(),whileTap:Rr(),whileDrag:Rr(),whileFocus:Rr(),exit:Rr()}}class lr{constructor(t){this.isMounted=!1,this.node=t}update(){}}class kL extends lr{constructor(t){super(t),t.animationState||(t.animationState=EL(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();Uu(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:n}=this.node.prevProps||{};t!==n&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),(t=this.unmountControls)==null||t.call(this)}}let IL=0;class NL extends lr{constructor(){super(...arguments),this.id=IL++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===r)return;const a=this.node.animationState.setActive("exit",!t);n&&!t&&a.then(()=>{n(this.id)})}mount(){const{register:t,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const DL={animation:{Feature:kL},exit:{Feature:NL}};function Ms(e,t,n,r={passive:!0}){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n)}function Ls(e){return{point:{x:e.pageX,y:e.pageY}}}const RL=e=>t=>ym(t)&&e(t,Ls(t));function ms(e,t,n,r){return Ms(e,t,RL(n),r)}function kS({top:e,left:t,right:n,bottom:r}){return{x:{min:t,max:n},y:{min:e,max:r}}}function _L({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function VL(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),r=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}const IS=1e-4,PL=1-IS,LL=1+IS,NS=.01,BL=0-NS,jL=0+NS;function Jt(e){return e.max-e.min}function OL(e,t,n){return Math.abs(e-t)<=n}function Kv(e,t,n,r=.5){e.origin=r,e.originPoint=ut(t.min,t.max,e.origin),e.scale=Jt(n)/Jt(t),e.translate=ut(n.min,n.max,e.origin)-e.originPoint,(e.scale>=PL&&e.scale<=LL||isNaN(e.scale))&&(e.scale=1),(e.translate>=BL&&e.translate<=jL||isNaN(e.translate))&&(e.translate=0)}function ps(e,t,n,r){Kv(e.x,t.x,n.x,r?r.originX:void 0),Kv(e.y,t.y,n.y,r?r.originY:void 0)}function Xv(e,t,n){e.min=n.min+t.min,e.max=e.min+Jt(t)}function zL(e,t,n){Xv(e.x,t.x,n.x),Xv(e.y,t.y,n.y)}function Qv(e,t,n){e.min=t.min-n.min,e.max=e.min+Jt(t)}function gs(e,t,n){Qv(e.x,t.x,n.x),Qv(e.y,t.y,n.y)}const Jv=()=>({translate:0,scale:1,origin:0,originPoint:0}),jo=()=>({x:Jv(),y:Jv()}),Zv=()=>({min:0,max:0}),vt=()=>({x:Zv(),y:Zv()});function Rn(e){return[e("x"),e("y")]}function Rd(e){return e===void 0||e===1}function Sh({scale:e,scaleX:t,scaleY:n}){return!Rd(e)||!Rd(t)||!Rd(n)}function Vr(e){return Sh(e)||DS(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function DS(e){return Wv(e.x)||Wv(e.y)}function Wv(e){return e&&e!=="0%"}function Ru(e,t,n){const r=e-n,a=t*r;return n+a}function eb(e,t,n,r,a){return a!==void 0&&(e=Ru(e,a,r)),Ru(e,n,r)+t}function Ch(e,t=0,n=1,r,a){e.min=eb(e.min,t,n,r,a),e.max=eb(e.max,t,n,r,a)}function RS(e,{x:t,y:n}){Ch(e.x,t.translate,t.scale,t.originPoint),Ch(e.y,n.translate,n.scale,n.originPoint)}const tb=.999999999999,nb=1.0000000000001;function FL(e,t,n,r=!1){const a=n.length;if(!a)return;t.x=t.y=1;let l,u;for(let f=0;f<a;f++){l=n[f],u=l.projectionDelta;const{visualElement:h}=l.options;h&&h.props.style&&h.props.style.display==="contents"||(r&&l.options.layoutScroll&&l.scroll&&l!==l.root&&zo(e,{x:-l.scroll.offset.x,y:-l.scroll.offset.y}),u&&(t.x*=u.x.scale,t.y*=u.y.scale,RS(e,u)),r&&Vr(l.latestValues)&&zo(e,l.latestValues))}t.x<nb&&t.x>tb&&(t.x=1),t.y<nb&&t.y>tb&&(t.y=1)}function Oo(e,t){e.min=e.min+t,e.max=e.max+t}function ib(e,t,n,r,a=.5){const l=ut(e.min,e.max,a);Ch(e,t,n,l,r)}function zo(e,t){ib(e.x,t.x,t.scaleX,t.scale,t.originX),ib(e.y,t.y,t.scaleY,t.scale,t.originY)}function _S(e,t){return kS(VL(e.getBoundingClientRect(),t))}function UL(e,t,n){const r=_S(e,n),{scroll:a}=t;return a&&(Oo(r.x,a.offset.x),Oo(r.y,a.offset.y)),r}const VS=({current:e})=>e?e.ownerDocument.defaultView:null,rb=(e,t)=>Math.abs(e-t);function HL(e,t){const n=rb(e.x,t.x),r=rb(e.y,t.y);return Math.sqrt(n**2+r**2)}class PS{constructor(t,n,{transformPagePoint:r,contextWindow:a,dragSnapToOrigin:l=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const y=Vd(this.lastMoveEventInfo,this.history),T=this.startEvent!==null,S=HL(y.offset,{x:0,y:0})>=3;if(!T&&!S)return;const{point:A}=y,{timestamp:M}=Bt;this.history.push({...A,timestamp:M});const{onStart:R,onMove:I}=this.handlers;T||(R&&R(this.lastMoveEvent,y),this.startEvent=this.lastMoveEvent),I&&I(this.lastMoveEvent,y)},this.handlePointerMove=(y,T)=>{this.lastMoveEvent=y,this.lastMoveEventInfo=_d(T,this.transformPagePoint),ct.update(this.updatePoint,!0)},this.handlePointerUp=(y,T)=>{this.end();const{onEnd:S,onSessionEnd:A,resumeAnimation:M}=this.handlers;if(this.dragSnapToOrigin&&M&&M(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const R=Vd(y.type==="pointercancel"?this.lastMoveEventInfo:_d(T,this.transformPagePoint),this.history);this.startEvent&&S&&S(y,R),A&&A(y,R)},!ym(t))return;this.dragSnapToOrigin=l,this.handlers=n,this.transformPagePoint=r,this.contextWindow=a||window;const u=Ls(t),f=_d(u,this.transformPagePoint),{point:h}=f,{timestamp:d}=Bt;this.history=[{...h,timestamp:d}];const{onSessionStart:m}=n;m&&m(t,Vd(f,this.history)),this.removeListeners=_s(ms(this.contextWindow,"pointermove",this.handlePointerMove),ms(this.contextWindow,"pointerup",this.handlePointerUp),ms(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),nr(this.updatePoint)}}function _d(e,t){return t?{point:t(e.point)}:e}function ob(e,t){return{x:e.x-t.x,y:e.y-t.y}}function Vd({point:e},t){return{point:e,delta:ob(e,LS(t)),offset:ob(e,GL(t)),velocity:qL(t,.1)}}function GL(e){return e[0]}function LS(e){return e[e.length-1]}function qL(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,r=null;const a=LS(e);for(;n>=0&&(r=e[n],!(a.timestamp-r.timestamp>Wn(t)));)n--;if(!r)return{x:0,y:0};const l=ei(a.timestamp-r.timestamp);if(l===0)return{x:0,y:0};const u={x:(a.x-r.x)/l,y:(a.y-r.y)/l};return u.x===1/0&&(u.x=0),u.y===1/0&&(u.y=0),u}function $L(e,{min:t,max:n},r){return t!==void 0&&e<t?e=r?ut(t,e,r.min):Math.max(e,t):n!==void 0&&e>n&&(e=r?ut(n,e,r.max):Math.min(e,n)),e}function ab(e,t,n){return{min:t!==void 0?e.min+t:void 0,max:n!==void 0?e.max+n-(e.max-e.min):void 0}}function YL(e,{top:t,left:n,bottom:r,right:a}){return{x:ab(e.x,n,a),y:ab(e.y,t,r)}}function sb(e,t){let n=t.min-e.min,r=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,r]=[r,n]),{min:n,max:r}}function KL(e,t){return{x:sb(e.x,t.x),y:sb(e.y,t.y)}}function XL(e,t){let n=.5;const r=Jt(e),a=Jt(t);return a>r?n=Ts(t.min,t.max-r,e.min):r>a&&(n=Ts(e.min,e.max-a,t.min)),Ci(0,1,n)}function QL(e,t){const n={};return t.min!==void 0&&(n.min=t.min-e.min),t.max!==void 0&&(n.max=t.max-e.min),n}const wh=.35;function JL(e=wh){return e===!1?e=0:e===!0&&(e=wh),{x:lb(e,"left","right"),y:lb(e,"top","bottom")}}function lb(e,t,n){return{min:ub(e,t),max:ub(e,n)}}function ub(e,t){return typeof e=="number"?e:e[t]||0}const ZL=new WeakMap;class WL{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=vt(),this.visualElement=t}start(t,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const a=m=>{const{dragSnapToOrigin:y}=this.getProps();y?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Ls(m).point)},l=(m,y)=>{const{drag:T,dragPropagation:S,onDragStart:A}=this.getProps();if(T&&!S&&(this.openDragLock&&this.openDragLock(),this.openDragLock=gP(T),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Rn(R=>{let I=this.getAxisMotionValue(R).get()||0;if(ti.test(I)){const{projection:P}=this.visualElement;if(P&&P.layout){const N=P.layout.layoutBox[R];N&&(I=Jt(N)*(parseFloat(I)/100))}}this.originPoint[R]=I}),A&&ct.postRender(()=>A(m,y)),bh(this.visualElement,"transform");const{animationState:M}=this.visualElement;M&&M.setActive("whileDrag",!0)},u=(m,y)=>{const{dragPropagation:T,dragDirectionLock:S,onDirectionLock:A,onDrag:M}=this.getProps();if(!T&&!this.openDragLock)return;const{offset:R}=y;if(S&&this.currentDirection===null){this.currentDirection=eB(R),this.currentDirection!==null&&A&&A(this.currentDirection);return}this.updateAxis("x",y.point,R),this.updateAxis("y",y.point,R),this.visualElement.render(),M&&M(m,y)},f=(m,y)=>this.stop(m,y),h=()=>Rn(m=>{var y;return this.getAnimationState(m)==="paused"&&((y=this.getAxisMotionValue(m).animation)==null?void 0:y.play())}),{dragSnapToOrigin:d}=this.getProps();this.panSession=new PS(t,{onSessionStart:a,onStart:l,onMove:u,onSessionEnd:f,resumeAnimation:h},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:d,contextWindow:VS(this.visualElement)})}stop(t,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:a}=n;this.startAnimation(a);const{onDragEnd:l}=this.getProps();l&&ct.postRender(()=>l(t,n))}cancel(){this.isDragging=!1;const{projection:t,animationState:n}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(t,n,r){const{drag:a}=this.getProps();if(!r||!lu(t,a,this.currentDirection))return;const l=this.getAxisMotionValue(t);let u=this.originPoint[t]+r[t];this.constraints&&this.constraints[t]&&(u=$L(u,this.constraints[t],this.elastic[t])),l.set(u)}resolveConstraints(){var l;const{dragConstraints:t,dragElastic:n}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(l=this.visualElement.projection)==null?void 0:l.layout,a=this.constraints;t&&Bo(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&r?this.constraints=YL(r.layoutBox,t):this.constraints=!1,this.elastic=JL(n),a!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&Rn(u=>{this.constraints!==!1&&this.getAxisMotionValue(u)&&(this.constraints[u]=QL(r.layoutBox[u],this.constraints[u]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:n}=this.getProps();if(!t||!Bo(t))return!1;const r=t.current,{projection:a}=this.visualElement;if(!a||!a.layout)return!1;const l=UL(r,a.root,this.visualElement.getTransformPagePoint());let u=KL(a.layout.layoutBox,l);if(n){const f=n(_L(u));this.hasMutatedConstraints=!!f,f&&(u=kS(f))}return u}startAnimation(t){const{drag:n,dragMomentum:r,dragElastic:a,dragTransition:l,dragSnapToOrigin:u,onDragTransitionEnd:f}=this.getProps(),h=this.constraints||{},d=Rn(m=>{if(!lu(m,n,this.currentDirection))return;let y=h&&h[m]||{};u&&(y={min:0,max:0});const T=a?200:1e6,S=a?40:1e7,A={type:"inertia",velocity:r?t[m]:0,bounceStiffness:T,bounceDamping:S,timeConstant:750,restDelta:1,restSpeed:10,...l,...y};return this.startAxisValueAnimation(m,A)});return Promise.all(d).then(f)}startAxisValueAnimation(t,n){const r=this.getAxisMotionValue(t);return bh(this.visualElement,t),r.start(Em(t,r,0,n,this.visualElement,!1))}stopAnimation(){Rn(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){Rn(t=>{var n;return(n=this.getAxisMotionValue(t).animation)==null?void 0:n.pause()})}getAnimationState(t){var n;return(n=this.getAxisMotionValue(t).animation)==null?void 0:n.state}getAxisMotionValue(t){const n=`_drag${t.toUpperCase()}`,r=this.visualElement.getProps(),a=r[n];return a||this.visualElement.getValue(t,(r.initial?r.initial[t]:void 0)||0)}snapToCursor(t){Rn(n=>{const{drag:r}=this.getProps();if(!lu(n,r,this.currentDirection))return;const{projection:a}=this.visualElement,l=this.getAxisMotionValue(n);if(a&&a.layout){const{min:u,max:f}=a.layout.layoutBox[n];l.set(t[n]-ut(u,f,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!Bo(n)||!r||!this.constraints)return;this.stopAnimation();const a={x:0,y:0};Rn(u=>{const f=this.getAxisMotionValue(u);if(f&&this.constraints!==!1){const h=f.get();a[u]=XL({min:h,max:h},this.constraints[u])}});const{transformTemplate:l}=this.visualElement.getProps();this.visualElement.current.style.transform=l?l({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),Rn(u=>{if(!lu(u,t,null))return;const f=this.getAxisMotionValue(u),{min:h,max:d}=this.constraints[u];f.set(ut(h,d,a[u]))})}addListeners(){if(!this.visualElement.current)return;ZL.set(this.visualElement,this);const t=this.visualElement.current,n=ms(t,"pointerdown",h=>{const{drag:d,dragListener:m=!0}=this.getProps();d&&m&&this.start(h)}),r=()=>{const{dragConstraints:h}=this.getProps();Bo(h)&&h.current&&(this.constraints=this.resolveRefConstraints())},{projection:a}=this.visualElement,l=a.addEventListener("measure",r);a&&!a.layout&&(a.root&&a.root.updateScroll(),a.updateLayout()),ct.read(r);const u=Ms(window,"resize",()=>this.scalePositionWithinConstraints()),f=a.addEventListener("didUpdate",({delta:h,hasLayoutChanged:d})=>{this.isDragging&&d&&(Rn(m=>{const y=this.getAxisMotionValue(m);y&&(this.originPoint[m]+=h[m].translate,y.set(y.get()+h[m].translate))}),this.visualElement.render())});return()=>{u(),n(),l(),f&&f()}}getProps(){const t=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:a=!1,dragConstraints:l=!1,dragElastic:u=wh,dragMomentum:f=!0}=t;return{...t,drag:n,dragDirectionLock:r,dragPropagation:a,dragConstraints:l,dragElastic:u,dragMomentum:f}}}function lu(e,t,n){return(t===!0||t===e)&&(n===null||n===e)}function eB(e,t=10){let n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}class tB extends lr{constructor(t){super(t),this.removeGroupControls=Pn,this.removeListeners=Pn,this.controls=new WL(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Pn}unmount(){this.removeGroupControls(),this.removeListeners()}}const cb=e=>(t,n)=>{e&&ct.postRender(()=>e(t,n))};class nB extends lr{constructor(){super(...arguments),this.removePointerDownListener=Pn}onPointerDown(t){this.session=new PS(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:VS(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:n,onPan:r,onPanEnd:a}=this.node.getProps();return{onSessionStart:cb(t),onStart:cb(n),onMove:r,onEnd:(l,u)=>{delete this.session,a&&ct.postRender(()=>a(l,u))}}}mount(){this.removePointerDownListener=ms(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const xu={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function fb(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const rs={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(Ie.test(e))e=parseFloat(e);else return e;const n=fb(e,t.target.x),r=fb(e,t.target.y);return`${n}% ${r}%`}},iB={correct:(e,{treeScale:t,projectionDelta:n})=>{const r=e,a=ir.parse(e);if(a.length>5)return r;const l=ir.createTransformer(e),u=typeof a[0]!="number"?1:0,f=n.x.scale*t.x,h=n.y.scale*t.y;a[0+u]/=f,a[1+u]/=h;const d=ut(f,h,.5);return typeof a[2+u]=="number"&&(a[2+u]/=d),typeof a[3+u]=="number"&&(a[3+u]/=d),l(a)}};class rB extends te.Component{componentDidMount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r,layoutId:a}=this.props,{projection:l}=t;UP(oB),l&&(n.group&&n.group.add(l),r&&r.register&&a&&r.register(l),l.root.didUpdate(),l.addEventListener("animationComplete",()=>{this.safeToRemove()}),l.setOptions({...l.options,onExitComplete:()=>this.safeToRemove()})),xu.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:n,visualElement:r,drag:a,isPresent:l}=this.props,{projection:u}=r;return u&&(u.isPresent=l,a||t.layoutDependency!==n||n===void 0||t.isPresent!==l?u.willUpdate():this.safeToRemove(),t.isPresent!==l&&(l?u.promote():u.relegate()||ct.postRender(()=>{const f=u.getStack();(!f||!f.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),gm.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:a}=t;a&&(a.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(a),r&&r.deregister&&r.deregister(a))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function BS(e){const[t,n]=AP(),r=te.useContext(vT);return g.jsx(rB,{...e,layoutGroup:r,switchLayoutGroup:te.useContext(pS),isPresent:t,safeToRemove:n})}const oB={borderRadius:{...rs,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:rs,borderTopRightRadius:rs,borderBottomLeftRadius:rs,borderBottomRightRadius:rs,boxShadow:iB};function aB(e,t,n){const r=$t(e)?e:Ho(e);return r.start(Em("",r,t,n)),r.animation}const sB=(e,t)=>e.depth-t.depth;class lB{constructor(){this.children=[],this.isDirty=!1}add(t){Jh(this.children,t),this.isDirty=!0}remove(t){Zh(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(sB),this.isDirty=!1,this.children.forEach(t)}}function uB(e,t){const n=sn.now(),r=({timestamp:a})=>{const l=a-n;l>=t&&(nr(r),e(l-t))};return ct.setup(r,!0),()=>nr(r)}const jS=["TopLeft","TopRight","BottomLeft","BottomRight"],cB=jS.length,db=e=>typeof e=="string"?parseFloat(e):e,hb=e=>typeof e=="number"||Ie.test(e);function fB(e,t,n,r,a,l){a?(e.opacity=ut(0,n.opacity??1,dB(r)),e.opacityExit=ut(t.opacity??1,0,hB(r))):l&&(e.opacity=ut(t.opacity??1,n.opacity??1,r));for(let u=0;u<cB;u++){const f=`border${jS[u]}Radius`;let h=mb(t,f),d=mb(n,f);if(h===void 0&&d===void 0)continue;h||(h=0),d||(d=0),h===0||d===0||hb(h)===hb(d)?(e[f]=Math.max(ut(db(h),db(d),r),0),(ti.test(d)||ti.test(h))&&(e[f]+="%")):e[f]=d}(t.rotate||n.rotate)&&(e.rotate=ut(t.rotate||0,n.rotate||0,r))}function mb(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const dB=OS(0,.5,NT),hB=OS(.5,.95,Pn);function OS(e,t,n){return r=>r<e?0:r>t?1:n(Ts(e,t,r))}function pb(e,t){e.min=t.min,e.max=t.max}function Dn(e,t){pb(e.x,t.x),pb(e.y,t.y)}function gb(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function yb(e,t,n,r,a){return e-=t,e=Ru(e,1/n,r),a!==void 0&&(e=Ru(e,1/a,r)),e}function mB(e,t=0,n=1,r=.5,a,l=e,u=e){if(ti.test(t)&&(t=parseFloat(t),t=ut(u.min,u.max,t/100)-u.min),typeof t!="number")return;let f=ut(l.min,l.max,r);e===l&&(f-=t),e.min=yb(e.min,t,n,f,a),e.max=yb(e.max,t,n,f,a)}function xb(e,t,[n,r,a],l,u){mB(e,t[n],t[r],t[a],t.scale,l,u)}const pB=["x","scaleX","originX"],gB=["y","scaleY","originY"];function vb(e,t,n,r){xb(e.x,t,pB,n?n.x:void 0,r?r.x:void 0),xb(e.y,t,gB,n?n.y:void 0,r?r.y:void 0)}function bb(e){return e.translate===0&&e.scale===1}function zS(e){return bb(e.x)&&bb(e.y)}function Tb(e,t){return e.min===t.min&&e.max===t.max}function yB(e,t){return Tb(e.x,t.x)&&Tb(e.y,t.y)}function Sb(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function FS(e,t){return Sb(e.x,t.x)&&Sb(e.y,t.y)}function Cb(e){return Jt(e.x)/Jt(e.y)}function wb(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class xB{constructor(){this.members=[]}add(t){Jh(this.members,t),t.scheduleRender()}remove(t){if(Zh(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(t){const n=this.members.findIndex(a=>t===a);if(n===0)return!1;let r;for(let a=n;a>=0;a--){const l=this.members[a];if(l.isPresent!==!1){r=l;break}}return r?(this.promote(r),!0):!1}promote(t,n){const r=this.lead;if(t!==r&&(this.prevLead=r,this.lead=t,t.show(),r)){r.instance&&r.scheduleRender(),t.scheduleRender(),t.resumeFrom=r,n&&(t.resumeFrom.preserveOpacity=!0),r.snapshot&&(t.snapshot=r.snapshot,t.snapshot.latestValues=r.animationValues||r.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:a}=t.options;a===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:n,resumingFrom:r}=t;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function vB(e,t,n){let r="";const a=e.x.translate/t.x,l=e.y.translate/t.y,u=(n==null?void 0:n.z)||0;if((a||l||u)&&(r=`translate3d(${a}px, ${l}px, ${u}px) `),(t.x!==1||t.y!==1)&&(r+=`scale(${1/t.x}, ${1/t.y}) `),n){const{transformPerspective:d,rotate:m,rotateX:y,rotateY:T,skewX:S,skewY:A}=n;d&&(r=`perspective(${d}px) ${r}`),m&&(r+=`rotate(${m}deg) `),y&&(r+=`rotateX(${y}deg) `),T&&(r+=`rotateY(${T}deg) `),S&&(r+=`skewX(${S}deg) `),A&&(r+=`skewY(${A}deg) `)}const f=e.x.scale*t.x,h=e.y.scale*t.y;return(f!==1||h!==1)&&(r+=`scale(${f}, ${h})`),r||"none"}const Pd=["","X","Y","Z"],bB={visibility:"hidden"},TB=1e3;let SB=0;function Ld(e,t,n,r){const{latestValues:a}=t;a[e]&&(n[e]=a[e],t.setStaticValue(e,0),r&&(r[e]=0))}function US(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const n=wS(t);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:a,layoutId:l}=e.options;window.MotionCancelOptimisedAnimation(n,"transform",ct,!(a||l))}const{parent:r}=e;r&&!r.hasCheckedOptimisedAppear&&US(r)}function HS({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:r,resetTransform:a}){return class{constructor(u={},f=t==null?void 0:t()){this.id=SB++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(AB),this.nodes.forEach(NB),this.nodes.forEach(DB),this.nodes.forEach(EB)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=u,this.root=f?f.root||f:this,this.path=f?[...f.path,f]:[],this.parent=f,this.depth=f?f.depth+1:0;for(let h=0;h<this.path.length;h++)this.path[h].shouldResetTransform=!0;this.root===this&&(this.nodes=new lB)}addEventListener(u,f){return this.eventHandlers.has(u)||this.eventHandlers.set(u,new tm),this.eventHandlers.get(u).add(f)}notifyListeners(u,...f){const h=this.eventHandlers.get(u);h&&h.notify(...f)}hasListeners(u){return this.eventHandlers.has(u)}mount(u){if(this.instance)return;this.isSVG=uS(u)&&!SP(u),this.instance=u;const{layoutId:f,layout:h,visualElement:d}=this.options;if(d&&!d.current&&d.mount(u),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(h||f)&&(this.isLayoutDirty=!0),e){let m;const y=()=>this.root.updateBlockedByResize=!1;e(u,()=>{this.root.updateBlockedByResize=!0,m&&m(),m=uB(y,250),xu.hasAnimatedSinceResize&&(xu.hasAnimatedSinceResize=!1,this.nodes.forEach(Eb))})}f&&this.root.registerSharedNode(f,this),this.options.animate!==!1&&d&&(f||h)&&this.addEventListener("didUpdate",({delta:m,hasLayoutChanged:y,hasRelativeLayoutChanged:T,layout:S})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const A=this.options.transition||d.getDefaultTransition()||LB,{onLayoutAnimationStart:M,onLayoutAnimationComplete:R}=d.getProps(),I=!this.targetLayout||!FS(this.targetLayout,S),P=!y&&T;if(this.options.layoutRoot||this.resumeFrom||P||y&&(I||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const N={...mm(A,"layout"),onPlay:M,onComplete:R};(d.shouldReduceMotion||this.options.layoutRoot)&&(N.delay=0,N.type=!1),this.startAnimation(N),this.setAnimationOrigin(m,P)}else y||Eb(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=S})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const u=this.getStack();u&&u.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),nr(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(RB),this.animationId++)}getTransformTemplate(){const{visualElement:u}=this.options;return u&&u.getProps().transformTemplate}willUpdate(u=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&US(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let m=0;m<this.path.length;m++){const y=this.path[m];y.shouldResetTransform=!0,y.updateScroll("snapshot"),y.options.layoutRoot&&y.willUpdate(!1)}const{layoutId:f,layout:h}=this.options;if(f===void 0&&!h)return;const d=this.getTransformTemplate();this.prevTransformTemplateValue=d?d(this.latestValues,""):void 0,this.updateSnapshot(),u&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(Ab);return}this.isUpdating||this.nodes.forEach(kB),this.isUpdating=!1,this.nodes.forEach(IB),this.nodes.forEach(CB),this.nodes.forEach(wB),this.clearAllSnapshots();const f=sn.now();Bt.delta=Ci(0,1e3/60,f-Bt.timestamp),Bt.timestamp=f,Bt.isProcessing=!0,Ed.update.process(Bt),Ed.preRender.process(Bt),Ed.render.process(Bt),Bt.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,gm.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(MB),this.sharedNodes.forEach(_B)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,ct.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){ct.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Jt(this.snapshot.measuredBox.x)&&!Jt(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let h=0;h<this.path.length;h++)this.path[h].updateScroll();const u=this.layout;this.layout=this.measure(!1),this.layoutCorrected=vt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:f}=this.options;f&&f.notify("LayoutMeasure",this.layout.layoutBox,u?u.layoutBox:void 0)}updateScroll(u="measure"){let f=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===u&&(f=!1),f&&this.instance){const h=r(this.instance);this.scroll={animationId:this.root.animationId,phase:u,isRoot:h,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:h}}}resetTransform(){if(!a)return;const u=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,f=this.projectionDelta&&!zS(this.projectionDelta),h=this.getTransformTemplate(),d=h?h(this.latestValues,""):void 0,m=d!==this.prevTransformTemplateValue;u&&this.instance&&(f||Vr(this.latestValues)||m)&&(a(this.instance,d),this.shouldResetTransform=!1,this.scheduleRender())}measure(u=!0){const f=this.measurePageBox();let h=this.removeElementScroll(f);return u&&(h=this.removeTransform(h)),BB(h),{animationId:this.root.animationId,measuredBox:f,layoutBox:h,latestValues:{},source:this.id}}measurePageBox(){var d;const{visualElement:u}=this.options;if(!u)return vt();const f=u.measureViewportBox();if(!(((d=this.scroll)==null?void 0:d.wasRoot)||this.path.some(jB))){const{scroll:m}=this.root;m&&(Oo(f.x,m.offset.x),Oo(f.y,m.offset.y))}return f}removeElementScroll(u){var h;const f=vt();if(Dn(f,u),(h=this.scroll)!=null&&h.wasRoot)return f;for(let d=0;d<this.path.length;d++){const m=this.path[d],{scroll:y,options:T}=m;m!==this.root&&y&&T.layoutScroll&&(y.wasRoot&&Dn(f,u),Oo(f.x,y.offset.x),Oo(f.y,y.offset.y))}return f}applyTransform(u,f=!1){const h=vt();Dn(h,u);for(let d=0;d<this.path.length;d++){const m=this.path[d];!f&&m.options.layoutScroll&&m.scroll&&m!==m.root&&zo(h,{x:-m.scroll.offset.x,y:-m.scroll.offset.y}),Vr(m.latestValues)&&zo(h,m.latestValues)}return Vr(this.latestValues)&&zo(h,this.latestValues),h}removeTransform(u){const f=vt();Dn(f,u);for(let h=0;h<this.path.length;h++){const d=this.path[h];if(!d.instance||!Vr(d.latestValues))continue;Sh(d.latestValues)&&d.updateSnapshot();const m=vt(),y=d.measurePageBox();Dn(m,y),vb(f,d.latestValues,d.snapshot?d.snapshot.layoutBox:void 0,m)}return Vr(this.latestValues)&&vb(f,this.latestValues),f}setTargetDelta(u){this.targetDelta=u,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(u){this.options={...this.options,...u,crossfade:u.crossfade!==void 0?u.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Bt.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(u=!1){var T;const f=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=f.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=f.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=f.isSharedProjectionDirty);const h=!!this.resumingFrom||this!==f;if(!(u||h&&this.isSharedProjectionDirty||this.isProjectionDirty||(T=this.parent)!=null&&T.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:m,layoutId:y}=this.options;if(!(!this.layout||!(m||y))){if(this.resolvedRelativeTargetAt=Bt.timestamp,!this.targetDelta&&!this.relativeTarget){const S=this.getClosestProjectingParent();S&&S.layout&&this.animationProgress!==1?(this.relativeParent=S,this.forceRelativeParentToResolveTarget(),this.relativeTarget=vt(),this.relativeTargetOrigin=vt(),gs(this.relativeTargetOrigin,this.layout.layoutBox,S.layout.layoutBox),Dn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=vt(),this.targetWithTransforms=vt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),zL(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Dn(this.target,this.layout.layoutBox),RS(this.target,this.targetDelta)):Dn(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const S=this.getClosestProjectingParent();S&&!!S.resumingFrom==!!this.resumingFrom&&!S.options.layoutScroll&&S.target&&this.animationProgress!==1?(this.relativeParent=S,this.forceRelativeParentToResolveTarget(),this.relativeTarget=vt(),this.relativeTargetOrigin=vt(),gs(this.relativeTargetOrigin,this.target,S.target),Dn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||Sh(this.parent.latestValues)||DS(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var A;const u=this.getLead(),f=!!this.resumingFrom||this!==u;let h=!0;if((this.isProjectionDirty||(A=this.parent)!=null&&A.isProjectionDirty)&&(h=!1),f&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(h=!1),this.resolvedRelativeTargetAt===Bt.timestamp&&(h=!1),h)return;const{layout:d,layoutId:m}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(d||m))return;Dn(this.layoutCorrected,this.layout.layoutBox);const y=this.treeScale.x,T=this.treeScale.y;FL(this.layoutCorrected,this.treeScale,this.path,f),u.layout&&!u.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(u.target=u.layout.layoutBox,u.targetWithTransforms=vt());const{target:S}=u;if(!S){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(gb(this.prevProjectionDelta.x,this.projectionDelta.x),gb(this.prevProjectionDelta.y,this.projectionDelta.y)),ps(this.projectionDelta,this.layoutCorrected,S,this.latestValues),(this.treeScale.x!==y||this.treeScale.y!==T||!wb(this.projectionDelta.x,this.prevProjectionDelta.x)||!wb(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",S))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(u=!0){var f;if((f=this.options.visualElement)==null||f.scheduleRender(),u){const h=this.getStack();h&&h.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=jo(),this.projectionDelta=jo(),this.projectionDeltaWithTransform=jo()}setAnimationOrigin(u,f=!1){const h=this.snapshot,d=h?h.latestValues:{},m={...this.latestValues},y=jo();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!f;const T=vt(),S=h?h.source:void 0,A=this.layout?this.layout.source:void 0,M=S!==A,R=this.getStack(),I=!R||R.members.length<=1,P=!!(M&&!I&&this.options.crossfade===!0&&!this.path.some(PB));this.animationProgress=0;let N;this.mixTargetDelta=j=>{const H=j/1e3;Mb(y.x,u.x,H),Mb(y.y,u.y,H),this.setTargetDelta(y),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(gs(T,this.layout.layoutBox,this.relativeParent.layout.layoutBox),VB(this.relativeTarget,this.relativeTargetOrigin,T,H),N&&yB(this.relativeTarget,N)&&(this.isProjectionDirty=!1),N||(N=vt()),Dn(N,this.relativeTarget)),M&&(this.animationValues=m,fB(m,d,this.latestValues,H,P,I)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=H},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(u){var f,h,d;this.notifyListeners("animationStart"),(f=this.currentAnimation)==null||f.stop(),(d=(h=this.resumingFrom)==null?void 0:h.currentAnimation)==null||d.stop(),this.pendingAnimation&&(nr(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=ct.update(()=>{xu.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Ho(0)),this.currentAnimation=aB(this.motionValue,[0,1e3],{...u,velocity:0,isSync:!0,onUpdate:m=>{this.mixTargetDelta(m),u.onUpdate&&u.onUpdate(m)},onStop:()=>{},onComplete:()=>{u.onComplete&&u.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const u=this.getStack();u&&u.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(TB),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const u=this.getLead();let{targetWithTransforms:f,target:h,layout:d,latestValues:m}=u;if(!(!f||!h||!d)){if(this!==u&&this.layout&&d&&GS(this.options.animationType,this.layout.layoutBox,d.layoutBox)){h=this.target||vt();const y=Jt(this.layout.layoutBox.x);h.x.min=u.target.x.min,h.x.max=h.x.min+y;const T=Jt(this.layout.layoutBox.y);h.y.min=u.target.y.min,h.y.max=h.y.min+T}Dn(f,h),zo(f,m),ps(this.projectionDeltaWithTransform,this.layoutCorrected,f,m)}}registerSharedNode(u,f){this.sharedNodes.has(u)||this.sharedNodes.set(u,new xB),this.sharedNodes.get(u).add(f);const d=f.options.initialPromotionConfig;f.promote({transition:d?d.transition:void 0,preserveFollowOpacity:d&&d.shouldPreserveFollowOpacity?d.shouldPreserveFollowOpacity(f):void 0})}isLead(){const u=this.getStack();return u?u.lead===this:!0}getLead(){var f;const{layoutId:u}=this.options;return u?((f=this.getStack())==null?void 0:f.lead)||this:this}getPrevLead(){var f;const{layoutId:u}=this.options;return u?(f=this.getStack())==null?void 0:f.prevLead:void 0}getStack(){const{layoutId:u}=this.options;if(u)return this.root.sharedNodes.get(u)}promote({needsReset:u,transition:f,preserveFollowOpacity:h}={}){const d=this.getStack();d&&d.promote(this,h),u&&(this.projectionDelta=void 0,this.needsReset=!0),f&&this.setOptions({transition:f})}relegate(){const u=this.getStack();return u?u.relegate(this):!1}resetSkewAndRotation(){const{visualElement:u}=this.options;if(!u)return;let f=!1;const{latestValues:h}=u;if((h.z||h.rotate||h.rotateX||h.rotateY||h.rotateZ||h.skewX||h.skewY)&&(f=!0),!f)return;const d={};h.z&&Ld("z",u,d,this.animationValues);for(let m=0;m<Pd.length;m++)Ld(`rotate${Pd[m]}`,u,d,this.animationValues),Ld(`skew${Pd[m]}`,u,d,this.animationValues);u.render();for(const m in d)u.setStaticValue(m,d[m]),this.animationValues&&(this.animationValues[m]=d[m]);u.scheduleRender()}getProjectionStyles(u){if(!this.instance||this.isSVG)return;if(!this.isVisible)return bB;const f={visibility:""},h=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,f.opacity="",f.pointerEvents=yu(u==null?void 0:u.pointerEvents)||"",f.transform=h?h(this.latestValues,""):"none",f;const d=this.getLead();if(!this.projectionDelta||!this.layout||!d.target){const S={};return this.options.layoutId&&(S.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,S.pointerEvents=yu(u==null?void 0:u.pointerEvents)||""),this.hasProjected&&!Vr(this.latestValues)&&(S.transform=h?h({},""):"none",this.hasProjected=!1),S}const m=d.animationValues||d.latestValues;this.applyTransformsToTarget(),f.transform=vB(this.projectionDeltaWithTransform,this.treeScale,m),h&&(f.transform=h(m,f.transform));const{x:y,y:T}=this.projectionDelta;f.transformOrigin=`${y.origin*100}% ${T.origin*100}% 0`,d.animationValues?f.opacity=d===this?m.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:m.opacityExit:f.opacity=d===this?m.opacity!==void 0?m.opacity:"":m.opacityExit!==void 0?m.opacityExit:0;for(const S in As){if(m[S]===void 0)continue;const{correct:A,applyTo:M,isCSSVariable:R}=As[S],I=f.transform==="none"?m[S]:A(m[S],d);if(M){const P=M.length;for(let N=0;N<P;N++)f[M[N]]=I}else R?this.options.visualElement.renderState.vars[S]=I:f[S]=I}return this.options.layoutId&&(f.pointerEvents=d===this?yu(u==null?void 0:u.pointerEvents)||"":"none"),f}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(u=>{var f;return(f=u.currentAnimation)==null?void 0:f.stop()}),this.root.nodes.forEach(Ab),this.root.sharedNodes.clear()}}}function CB(e){e.updateLayout()}function wB(e){var n;const t=((n=e.resumeFrom)==null?void 0:n.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&t&&e.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:a}=e.layout,{animationType:l}=e.options,u=t.source!==e.layout.source;l==="size"?Rn(y=>{const T=u?t.measuredBox[y]:t.layoutBox[y],S=Jt(T);T.min=r[y].min,T.max=T.min+S}):GS(l,t.layoutBox,r)&&Rn(y=>{const T=u?t.measuredBox[y]:t.layoutBox[y],S=Jt(r[y]);T.max=T.min+S,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[y].max=e.relativeTarget[y].min+S)});const f=jo();ps(f,r,t.layoutBox);const h=jo();u?ps(h,e.applyTransform(a,!0),t.measuredBox):ps(h,r,t.layoutBox);const d=!zS(f);let m=!1;if(!e.resumeFrom){const y=e.getClosestProjectingParent();if(y&&!y.resumeFrom){const{snapshot:T,layout:S}=y;if(T&&S){const A=vt();gs(A,t.layoutBox,T.layoutBox);const M=vt();gs(M,r,S.layoutBox),FS(A,M)||(m=!0),y.options.layoutRoot&&(e.relativeTarget=M,e.relativeTargetOrigin=A,e.relativeParent=y)}}}e.notifyListeners("didUpdate",{layout:r,snapshot:t,delta:h,layoutDelta:f,hasLayoutChanged:d,hasRelativeLayoutChanged:m})}else if(e.isLead()){const{onExitComplete:r}=e.options;r&&r()}e.options.transition=void 0}function AB(e){e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function EB(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function MB(e){e.clearSnapshot()}function Ab(e){e.clearMeasurements()}function kB(e){e.isLayoutDirty=!1}function IB(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function Eb(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function NB(e){e.resolveTargetDelta()}function DB(e){e.calcProjection()}function RB(e){e.resetSkewAndRotation()}function _B(e){e.removeLeadSnapshot()}function Mb(e,t,n){e.translate=ut(t.translate,0,n),e.scale=ut(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function kb(e,t,n,r){e.min=ut(t.min,n.min,r),e.max=ut(t.max,n.max,r)}function VB(e,t,n,r){kb(e.x,t.x,n.x,r),kb(e.y,t.y,n.y,r)}function PB(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const LB={duration:.45,ease:[.4,0,.1,1]},Ib=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),Nb=Ib("applewebkit/")&&!Ib("chrome/")?Math.round:Pn;function Db(e){e.min=Nb(e.min),e.max=Nb(e.max)}function BB(e){Db(e.x),Db(e.y)}function GS(e,t,n){return e==="position"||e==="preserve-aspect"&&!OL(Cb(t),Cb(n),.2)}function jB(e){var t;return e!==e.root&&((t=e.scroll)==null?void 0:t.wasRoot)}const OB=HS({attachResizeListener:(e,t)=>Ms(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Bd={current:void 0},qS=HS({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!Bd.current){const e=new OB({});e.mount(window),e.setOptions({layoutScroll:!0}),Bd.current=e}return Bd.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),zB={pan:{Feature:nB},drag:{Feature:tB,ProjectionNode:qS,MeasureLayout:BS}};function Rb(e,t,n){const{props:r}=e;e.animationState&&r.whileHover&&e.animationState.setActive("whileHover",n==="Start");const a="onHover"+n,l=r[a];l&&ct.postRender(()=>l(t,Ls(t)))}class FB extends lr{mount(){const{current:t}=this.node;t&&(this.unmount=yP(t,(n,r)=>(Rb(this.node,r,"Start"),a=>Rb(this.node,a,"End"))))}unmount(){}}class UB extends lr{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=_s(Ms(this.node.current,"focus",()=>this.onFocus()),Ms(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function _b(e,t,n){const{props:r}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&r.whileTap&&e.animationState.setActive("whileTap",n==="Start");const a="onTap"+(n==="End"?"":n),l=r[a];l&&ct.postRender(()=>l(t,Ls(t)))}class HB extends lr{mount(){const{current:t}=this.node;t&&(this.unmount=TP(t,(n,r)=>(_b(this.node,r,"Start"),(a,{success:l})=>_b(this.node,a,l?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Ah=new WeakMap,jd=new WeakMap,GB=e=>{const t=Ah.get(e.target);t&&t(e)},qB=e=>{e.forEach(GB)};function $B({root:e,...t}){const n=e||document;jd.has(n)||jd.set(n,{});const r=jd.get(n),a=JSON.stringify(t);return r[a]||(r[a]=new IntersectionObserver(qB,{root:e,...t})),r[a]}function YB(e,t,n){const r=$B(t);return Ah.set(e,n),r.observe(e),()=>{Ah.delete(e),r.unobserve(e)}}const KB={some:0,all:1};class XB extends lr{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:n,margin:r,amount:a="some",once:l}=t,u={root:n?n.current:void 0,rootMargin:r,threshold:typeof a=="number"?a:KB[a]},f=h=>{const{isIntersecting:d}=h;if(this.isInView===d||(this.isInView=d,l&&!d&&this.hasEnteredView))return;d&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",d);const{onViewportEnter:m,onViewportLeave:y}=this.node.getProps(),T=d?m:y;T&&T(h)};return YB(this.node.current,u,f)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:n}=this.node;["amount","margin","root"].some(QB(t,n))&&this.startObserver()}unmount(){}}function QB({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}const JB={inView:{Feature:XB},tap:{Feature:HB},focus:{Feature:UB},hover:{Feature:FB}},ZB={layout:{ProjectionNode:qS,MeasureLayout:BS}},Eh={current:null},$S={current:!1};function WB(){if($S.current=!0,!!Xh)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>Eh.current=e.matches;e.addListener(t),t()}else Eh.current=!1}const ej=new WeakMap;function tj(e,t,n){for(const r in t){const a=t[r],l=n[r];if($t(a))e.addValue(r,a);else if($t(l))e.addValue(r,Ho(a,{owner:e}));else if(l!==a)if(e.hasValue(r)){const u=e.getValue(r);u.liveStyle===!0?u.jump(a):u.hasAnimated||u.set(a)}else{const u=e.getStaticValue(r);e.addValue(r,Ho(u!==void 0?u:a,{owner:e}))}}for(const r in n)t[r]===void 0&&e.removeValue(r);return t}const Vb=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class nj{scrapeMotionValuesFromProps(t,n,r){return{}}constructor({parent:t,props:n,presenceContext:r,reducedMotionConfig:a,blockInitialAnimation:l,visualState:u},f={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=hm,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const T=sn.now();this.renderScheduledAt<T&&(this.renderScheduledAt=T,ct.render(this.render,!1,!0))};const{latestValues:h,renderState:d}=u;this.latestValues=h,this.baseTarget={...h},this.initialValues=n.initial?{...h}:{},this.renderState=d,this.parent=t,this.props=n,this.presenceContext=r,this.depth=t?t.depth+1:0,this.reducedMotionConfig=a,this.options=f,this.blockInitialAnimation=!!l,this.isControllingVariants=Hu(n),this.isVariantNode=hS(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:m,...y}=this.scrapeMotionValuesFromProps(n,{},this);for(const T in y){const S=y[T];h[T]!==void 0&&$t(S)&&S.set(h[T],!1)}}mount(t){this.current=t,ej.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),$S.current||WB(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Eh.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),nr(this.notifyUpdate),nr(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const n=this.features[t];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(t,n){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const r=Qo.has(t);r&&this.onBindTransform&&this.onBindTransform();const a=n.on("change",f=>{this.latestValues[t]=f,this.props.onUpdate&&ct.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0)}),l=n.on("renderRequest",this.scheduleRender);let u;window.MotionCheckAppearSync&&(u=window.MotionCheckAppearSync(this,t,n)),this.valueSubscriptions.set(t,()=>{a(),l(),u&&u(),n.owner&&n.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in Go){const n=Go[t];if(!n)continue;const{isEnabled:r,Feature:a}=n;if(!this.features[t]&&a&&r(this.props)&&(this.features[t]=new a(this)),this.features[t]){const l=this.features[t];l.isMounted?l.update():(l.mount(),l.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):vt()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,n){this.latestValues[t]=n}update(t,n){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<Vb.length;r++){const a=Vb[r];this.propEventSubscriptions[a]&&(this.propEventSubscriptions[a](),delete this.propEventSubscriptions[a]);const l="on"+a,u=t[l];u&&(this.propEventSubscriptions[a]=this.on(a,u))}this.prevMotionValues=tj(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(t),()=>n.variantChildren.delete(t)}addValue(t,n){const r=this.values.get(t);n!==r&&(r&&this.removeValue(t),this.bindToMotionValue(t,n),this.values.set(t,n),this.latestValues[t]=n.get())}removeValue(t){this.values.delete(t);const n=this.valueSubscriptions.get(t);n&&(n(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,n){if(this.props.values&&this.props.values[t])return this.props.values[t];let r=this.values.get(t);return r===void 0&&n!==void 0&&(r=Ho(n===null?void 0:n,{owner:this}),this.addValue(t,r)),r}readValue(t,n){let r=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return r!=null&&(typeof r=="string"&&(bT(r)||ST(r))?r=parseFloat(r):!wP(r)&&ir.test(n)&&(r=rS(t,n)),this.setBaseTarget(t,$t(r)?r.get():r)),$t(r)?r.get():r}setBaseTarget(t,n){this.baseTarget[t]=n}getBaseTarget(t){var l;const{initial:n}=this.props;let r;if(typeof n=="string"||typeof n=="object"){const u=wm(this.props,n,(l=this.presenceContext)==null?void 0:l.custom);u&&(r=u[t])}if(n&&r!==void 0)return r;const a=this.getBaseTargetFromProps(this.props,t);return a!==void 0&&!$t(a)?a:this.initialValues[t]!==void 0&&r===void 0?void 0:this.baseTarget[t]}on(t,n){return this.events[t]||(this.events[t]=new tm),this.events[t].add(n)}notify(t,...n){this.events[t]&&this.events[t].notify(...n)}}class YS extends nj{constructor(){super(...arguments),this.KeyframeResolver=dP}sortInstanceNodePosition(t,n){return t.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(t,n){return t.style?t.style[n]:void 0}removeValueFromRenderState(t,{vars:n,style:r}){delete n[t],delete r[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;$t(t)&&(this.childSubscription=t.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function KS(e,{style:t,vars:n},r,a){Object.assign(e.style,t,a&&a.getProjectionStyles(r));for(const l in n)e.style.setProperty(l,n[l])}function ij(e){return window.getComputedStyle(e)}class rj extends YS{constructor(){super(...arguments),this.type="html",this.renderInstance=KS}readValueFromInstance(t,n){var r;if(Qo.has(n))return(r=this.projection)!=null&&r.isProjecting?hh(n):D5(t,n);{const a=ij(t),l=(rm(n)?a.getPropertyValue(n):a[n])||0;return typeof l=="string"?l.trim():l}}measureInstanceViewportBox(t,{transformPagePoint:n}){return _S(t,n)}build(t,n,r){Tm(t,n,r.transformTemplate)}scrapeMotionValuesFromProps(t,n,r){return Am(t,n,r)}}const XS=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function oj(e,t,n,r){KS(e,t,void 0,r);for(const a in t.attrs)e.setAttribute(XS.has(a)?a:bm(a),t.attrs[a])}class aj extends YS{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=vt}getBaseTargetFromProps(t,n){return t[n]}readValueFromInstance(t,n){if(Qo.has(n)){const r=iS(n);return r&&r.default||0}return n=XS.has(n)?n:bm(n),t.getAttribute(n)}scrapeMotionValuesFromProps(t,n,r){return CS(t,n,r)}build(t,n,r){vS(t,n,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(t,n,r,a){oj(t,n,r,a)}mount(t){this.isSVGTag=TS(t.tagName),super.mount(t)}}const sj=(e,t)=>Cm(e)?new aj(t):new rj(t,{allowProjection:e!==te.Fragment}),lj=oL({...DL,...JB,...zB,...ZB},sj),uj=NP(lj),Pb=({value:e,min:t=0,max:n=1,size:r=80,label:a,onChange:l})=>{const u=Math.max(0,Math.min(1,(e-t)/(n-t))),f=-150+u*300;return g.jsxs("div",{className:"flex flex-col items-center",children:[g.jsxs("div",{className:"relative cursor-pointer select-none",style:{width:r,height:r},children:[g.jsx("div",{className:"absolute inset-0 rounded-full bg-gradient-to-b from-gray-700 to-gray-900 border-2 border-gray-600 shadow-lg",children:[...Array(11)].map((h,d)=>{const m=-150+d*30,y=d/10<=u,T=d%5===0?r*.1:r*.05,S=r/2-T,A=r/2-2,M=r/2+S*Math.cos(m*Math.PI/180),R=r/2+S*Math.sin(m*Math.PI/180),I=r/2+A*Math.cos(m*Math.PI/180),P=r/2+A*Math.sin(m*Math.PI/180);return g.jsx("line",{x1:M,y1:R,x2:I,y2:P,stroke:y?"#f97316":"#6b7280",strokeWidth:d%5===0?2:1},d)})}),g.jsx(uj.div,{className:"absolute bg-orange-500 rounded-full shadow-md",style:{width:r*.05,height:r*.3,left:"50%",top:r*.1,marginLeft:r*-.025,transformOrigin:`50% ${r*.4}px`},animate:{rotate:f},transition:{type:"spring",stiffness:300,damping:30}}),g.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:g.jsx("span",{className:"text-xs font-mono text-white bg-gray-800/70 px-2 py-1 rounded-full",children:Math.round(u*100)})})]}),a&&g.jsx("span",{className:"text-xs text-gray-300 mt-2 text-center max-w-[80px] truncate",children:a})]})};class cj extends kh.Component{constructor(t){super(t),this.state={hasError:!1}}static getDerivedStateFromError(t){return{hasError:!0,error:t}}render(){return this.state.hasError?g.jsx("div",{className:"p-4 bg-red-900/20 border border-red-500 rounded-lg",children:g.jsx("p",{className:"text-red-400",children:"Something went wrong displaying the patch guide. Please try regenerating."})}):this.props.children}}const fj=({onContentUpdate:e})=>{const[t,n]=te.useState({synth:"Generic",genre:"",voiceType:"",styleMood:[],dynamicsMovement:[],notes:""}),[r,a]=te.useState(null),[l,u]=te.useState(!1),[f,h]=te.useState(""),d=te.useMemo(()=>{var N;return((N=eu.find(j=>j.key==="genre"))==null?void 0:N.examples)||[]},[]),m=te.useMemo(()=>{var N;return((N=eu.find(j=>j.key==="voiceType"))==null?void 0:N.examples)||[]},[]),y=te.useMemo(()=>{var N;return((N=eu.find(j=>j.key==="styleMood"))==null?void 0:N.examples)||[]},[]),T=te.useMemo(()=>{var N;return((N=eu.find(j=>j.key==="dynamicsMovement"))==null?void 0:N.examples)||[]},[]),S=te.useCallback((N,j)=>{n(H=>({...H,[N]:j}))},[]),A=te.useCallback(N=>{n(j=>({...j,styleMood:j.styleMood.includes(N)?j.styleMood.filter(H=>H!==N):[...j.styleMood,N]}))},[]),M=te.useCallback(N=>{n(j=>({...j,dynamicsMovement:j.dynamicsMovement.includes(N)?j.dynamicsMovement.filter(H=>H!==N):[...j.dynamicsMovement,N]}))},[]),R=te.useMemo(()=>t.synth&&t.genre&&t.voiceType,[t.synth,t.genre,t.voiceType]),I=te.useCallback(async N=>{if(N.preventDefault(),!!R){u(!0),h(""),a(null);try{const j=await(void 0)({description:[...t.styleMood,...t.dynamicsMovement].join(", "),synth:t.synth,genre:t.genre,voiceType:t.voiceType,notes:t.notes}),H={text:j.text||"",synthConfig:j.synthConfig||{},adsrVCF:j.adsrVCF||{attack:.1,decay:.5,sustain:.8,release:1.5},adsrVCA:j.adsrVCA||{attack:.05,decay:.3,sustain:.9,release:.6},summary:j.summary||""};a(H),e==null||e(H.text)}catch(j){h(j instanceof Error?j.message:"Failed to generate patch guide")}finally{u(!1)}}},[t,R]),P=te.useCallback(()=>{n({synth:"Generic",genre:"",voiceType:"",styleMood:[],dynamicsMovement:[],notes:""}),a(null),h(""),e==null||e("")},[e]);return g.jsxs("div",{className:"max-w-5xl mx-auto p-6 space-y-6",children:[g.jsxs(Ze,{children:[g.jsx("h2",{className:"text-xl font-semibold text-white mb-6",children:"Create Synth Patch Guide"}),g.jsxs("form",{onSubmit:I,className:"space-y-6",children:[g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[g.jsxs("div",{children:[g.jsx("label",{className:"block text-gray-200 mb-2 font-medium",children:"Synthesizer"}),g.jsxs("select",{value:t.synth,onChange:N=>S("synth",N.target.value),className:"w-full bg-gray-700 text-white p-3 rounded-lg border border-gray-600 focus:border-purple-500 focus:ring-1 focus:ring-purple-500",required:!0,children:[g.jsx("option",{value:"",children:"Select synth..."}),gN.map(N=>g.jsx("option",{value:N,children:N},N))]})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-gray-200 mb-2 font-medium",children:"Genre"}),g.jsxs("select",{value:t.genre,onChange:N=>S("genre",N.target.value),className:"w-full bg-gray-700 text-white p-3 rounded-lg border border-gray-600 focus:border-purple-500 focus:ring-1 focus:ring-purple-500",required:!0,children:[g.jsx("option",{value:"",children:"Select genre..."}),d.map(N=>g.jsx("option",{value:N,children:N},N))]})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-gray-200 mb-2 font-medium",children:"Voice Type"}),g.jsxs("select",{value:t.voiceType,onChange:N=>S("voiceType",N.target.value),className:"w-full bg-gray-700 text-white p-3 rounded-lg border border-gray-600 focus:border-purple-500 focus:ring-1 focus:ring-purple-500",required:!0,children:[g.jsx("option",{value:"",children:"Select voice type..."}),m.map(N=>g.jsx("option",{value:N,children:N},N))]})]})]}),g.jsxs("div",{children:[g.jsxs("label",{className:"block text-gray-200 mb-3 font-medium",children:["Style & Mood ",g.jsx("span",{className:"text-gray-400 text-sm",children:"(optional)"})]}),g.jsx("div",{className:"flex flex-wrap gap-2",children:y.slice(0,15).map(N=>g.jsx("button",{type:"button",onClick:()=>A(N),className:`px-3 py-1.5 rounded-lg text-sm font-medium transition-colors ${t.styleMood.includes(N)?"bg-purple-600 text-white border-purple-600":"bg-gray-700 text-gray-300 border-gray-600 hover:bg-gray-600"} border`,children:N},N))})]}),g.jsxs("div",{children:[g.jsxs("label",{className:"block text-gray-200 mb-3 font-medium",children:["Dynamics & Movement ",g.jsx("span",{className:"text-gray-400 text-sm",children:"(optional)"})]}),g.jsx("div",{className:"flex flex-wrap gap-2",children:T.slice(0,15).map(N=>g.jsx("button",{type:"button",onClick:()=>M(N),className:`px-3 py-1.5 rounded-lg text-sm font-medium transition-colors ${t.dynamicsMovement.includes(N)?"bg-blue-600 text-white border-blue-600":"bg-gray-700 text-gray-300 border-gray-600 hover:bg-gray-600"} border`,children:N},N))})]}),g.jsxs("div",{children:[g.jsxs("label",{className:"block text-gray-200 mb-2 font-medium",children:["Additional Notes ",g.jsx("span",{className:"text-gray-400 text-sm",children:"(optional)"})]}),g.jsx("textarea",{value:t.notes,onChange:N=>S("notes",N.target.value),placeholder:"Reference artist, track, or specific sound characteristics...",className:"w-full bg-gray-700 text-white p-3 rounded-lg border border-gray-600 focus:border-purple-500 focus:ring-1 focus:ring-purple-500 resize-none",rows:3})]}),g.jsxs("div",{className:"flex items-center gap-4",children:[g.jsxs(Le,{type:"submit",disabled:l||!R,className:"flex items-center gap-2",children:[l&&g.jsx(Si,{}),l?"Generating...":"Generate Patch Guide"]}),g.jsx(Le,{type:"button",variant:"secondary",onClick:P,disabled:l,children:"Reset"})]}),f&&g.jsx("div",{className:"p-4 bg-red-900/20 border border-red-500 rounded-lg",children:g.jsx("p",{className:"text-red-400",children:f})})]})]}),r&&g.jsx(cj,{children:g.jsx(dj,{result:r})})]})},dj=({result:e})=>{var t,n;return g.jsxs(Ze,{children:[g.jsx("h3",{className:"text-lg font-semibold text-white mb-6",children:"Complete Patch Guide"}),e.text&&g.jsxs("div",{className:"space-y-8",children:[g.jsx("div",{className:"prose prose-invert max-w-none prose-headings:text-white prose-h2:text-xl prose-h2:font-bold prose-h2:mt-8 prose-h2:mb-4 prose-h2:border-b prose-h2:border-gray-600 prose-h2:pb-2 prose-h3:text-lg prose-h3:font-semibold prose-h3:mt-6 prose-h3:mb-3 prose-h3:text-purple-300 prose-table:text-sm prose-td:py-2 prose-td:px-3 prose-th:py-2 prose-th:px-3 prose-li:my-2",children:g.jsx(H1,{remarkPlugins:[hT],components:{h2:({children:r,...a})=>g.jsx("h2",{...a,className:"text-xl font-bold text-white mt-8 mb-4 border-b border-gray-600 pb-2 first:mt-0",children:r}),h3:({children:r,...a})=>g.jsx("h3",{...a,className:"text-lg font-semibold text-purple-300 mt-6 mb-3",children:r}),p:({children:r,...a})=>g.jsx("p",{...a,className:"mb-4 leading-relaxed",children:r}),ul:({children:r,...a})=>g.jsx("ul",{...a,className:"space-y-2 mb-4",children:r}),li:({children:r,...a})=>g.jsx("li",{...a,className:"my-2",children:r}),table:({children:r,...a})=>g.jsx("div",{className:"overflow-x-auto my-6",children:g.jsx("table",{...a,className:"w-full border-collapse border border-gray-600 text-sm",children:r})}),th:({children:r,...a})=>g.jsx("th",{...a,className:"border border-gray-600 bg-gray-800 py-2 px-3 text-left font-semibold",children:r}),td:({children:r,...a})=>g.jsx("td",{...a,className:"border border-gray-600 py-2 px-3",children:r})},children:e.text})}),g.jsxs("div",{className:"border-t border-gray-600 pt-8 mt-8",children:[g.jsx("h2",{className:"text-xl font-bold text-white mb-6 border-b border-gray-600 pb-2",children:" Interactive Controls"}),((t=e.synthConfig)==null?void 0:t.filters)&&e.synthConfig.filters.length>0&&g.jsxs("div",{className:"mb-8",children:[g.jsx("h3",{className:"text-lg font-semibold text-purple-300 mb-4",children:"Filter Visualization"}),g.jsx("div",{className:"bg-gray-800 rounded-lg p-6",children:e.synthConfig.filters.map((r,a)=>{const l=Math.max(0,Math.min(1,Number(r.cutoff)||.5)),u=Math.max(0,Math.min(1,Number(r.resonance)||.3)),f=l*2e4;return g.jsxs("div",{className:"text-center",children:[g.jsxs("div",{className:"font-medium text-gray-200 mb-4",children:["Filter Type: ",g.jsx("span",{className:"font-bold text-purple-400",children:r.selectedType||"Lowpass"})]}),g.jsxs("div",{className:"flex flex-row gap-8 justify-center mb-3",children:[g.jsx(Pb,{value:l,label:"Cutoff",size:80,min:0,max:1}),g.jsx(Pb,{value:u,label:"Resonance",size:80,min:0,max:1})]}),g.jsxs("div",{className:"text-gray-300 space-x-6 text-sm",children:[g.jsxs("span",{children:["Cutoff: ",g.jsxs("span",{className:"font-mono text-white",children:[Number.isFinite(f)?f.toFixed(0):"0"," Hz"]})]}),g.jsxs("span",{children:["Resonance: ",g.jsx("span",{className:"font-mono text-white",children:Number.isFinite(u)?u.toFixed(2):"0.00"})]})]})]},a)})})]}),g.jsxs("div",{className:"mb-8",children:[g.jsx("h3",{className:"text-lg font-semibold text-purple-300 mb-4",children:"Envelope Visualizations"}),g.jsx("div",{className:"bg-gray-800 rounded-lg p-6",children:g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[g.jsxs("div",{className:"text-center",children:[g.jsx("h4",{className:"font-medium text-gray-200 mb-3",children:"Filter Envelope (VCF)"}),g.jsx(Cv,{...e.adsrVCF,width:300,height:150}),g.jsxs("div",{className:"text-xs text-gray-400 mt-2 space-x-4",children:[g.jsxs("span",{children:["A: ",(e.adsrVCF.attack*1e3).toFixed(0),"ms"]}),g.jsxs("span",{children:["D: ",(e.adsrVCF.decay*1e3).toFixed(0),"ms"]}),g.jsxs("span",{children:["S: ",(e.adsrVCF.sustain*100).toFixed(0),"%"]}),g.jsxs("span",{children:["R: ",(e.adsrVCF.release*1e3).toFixed(0),"ms"]})]})]}),g.jsxs("div",{className:"text-center",children:[g.jsx("h4",{className:"font-medium text-gray-200 mb-3",children:"Amplitude Envelope (VCA)"}),g.jsx(Cv,{...e.adsrVCA,width:300,height:150}),g.jsxs("div",{className:"text-xs text-gray-400 mt-2 space-x-4",children:[g.jsxs("span",{children:["A: ",(e.adsrVCA.attack*1e3).toFixed(0),"ms"]}),g.jsxs("span",{children:["D: ",(e.adsrVCA.decay*1e3).toFixed(0),"ms"]}),g.jsxs("span",{children:["S: ",(e.adsrVCA.sustain*100).toFixed(0),"%"]}),g.jsxs("span",{children:["R: ",(e.adsrVCA.release*1e3).toFixed(0),"ms"]})]})]})]})})]}),((n=e.synthConfig)==null?void 0:n.oscillators)&&e.synthConfig.oscillators.length>0&&g.jsxs("div",{className:"mb-6",children:[g.jsx("h3",{className:"text-lg font-semibold text-purple-300 mb-4",children:"Oscillator Summary"}),g.jsx("div",{className:"bg-gray-800 rounded-lg p-6",children:g.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:e.synthConfig.oscillators.map((r,a)=>g.jsxs("div",{className:"bg-gray-700 rounded-lg p-4",children:[g.jsx("h4",{className:"font-semibold text-purple-300 mb-3 text-sm",children:r.name||`Oscillator ${a+1}`}),g.jsx("div",{className:"space-y-1 text-xs",children:Object.entries(r.values||{}).map(([l,u])=>g.jsxs("div",{className:"flex justify-between",children:[g.jsxs("span",{className:"text-gray-300",children:[l,":"]}),g.jsx("span",{className:"text-white font-mono",children:String(u)})]},l))})]},a))})})]})]})]})]})},hj=({library:e,onClose:t,onLoadEntry:n,onDeleteEntry:r,onCreateNew:a})=>{const[l,u]=te.useState(""),f=e.filter(h=>h.title.toLowerCase().includes(l.toLowerCase())||h.genre.join(", ").toLowerCase().includes(l.toLowerCase())).sort((h,d)=>new Date(d.createdAt).getTime()-new Date(h.createdAt).getTime());return g.jsx("div",{className:"fixed inset-0 bg-gray-900/80 backdrop-blur-sm flex items-center justify-center p-4 z-50 transition-opacity duration-300 ease-in-out",onClick:t,role:"dialog","aria-modal":"true","aria-labelledby":"library-modal-title",children:g.jsxs(Ze,{className:"w-full max-w-2xl bg-gray-800 shadow-2xl border border-gray-700 max-h-[90vh] flex flex-col",onClick:h=>h.stopPropagation(),children:[g.jsxs("div",{className:"flex justify-between items-center px-6 py-4 border-b border-gray-700",children:[g.jsxs("h2",{id:"library-modal-title",className:"text-2xl font-semibold text-purple-300 flex items-center",children:[g.jsx(Yd,{className:"w-7 h-7 mr-3 text-purple-400"}),"TrackGuide Library"]}),g.jsx(Le,{onClick:t,variant:"secondary",size:"sm",className:"p-2 -mr-2","aria-label":"Close Library",children:g.jsx(s1,{className:"w-5 h-5"})})]}),g.jsx("div",{className:"px-6 py-4",children:g.jsx(vn,{type:"search",placeholder:"Search by title or genre...",value:l,onChange:h=>u(h.target.value),className:"mb-4 bg-gray-700 border-gray-600 placeholder-gray-500","aria-label":"Search library"})}),g.jsx("div",{className:"flex-grow overflow-y-auto px-6 pb-6 space-y-3 custom-scrollbar pr-3",children:f.length===0?g.jsx("p",{className:"text-gray-400 text-center py-8",children:l?`No entries found for "${l}".`:"Your library is empty. Create some TrackGuides!"}):f.map(h=>g.jsx("div",{className:"p-4 bg-gray-700/60 rounded-lg hover:bg-gray-600/50 transition-colors shadow-md border border-gray-600/50",children:g.jsxs("div",{className:"flex justify-between items-start",children:[g.jsxs("div",{className:"flex-grow min-w-0",children:[g.jsx("h4",{className:"font-semibold text-purple-300 truncate text-lg",title:h.title,children:h.title}),g.jsx("p",{className:"text-sm text-gray-400 truncate",title:Array.isArray(h.genre)?h.genre.join(", "):h.genre,children:Array.isArray(h.genre)?h.genre.join(", "):h.genre}),g.jsxs("p",{className:"text-xs text-gray-500",children:["Created: ",new Date(h.createdAt).toLocaleDateString(),h.generatedMidiPatterns&&g.jsx(a1,{className:"w-3 h-3 text-green-400 inline-block ml-2",title:"MIDI available"})]})]}),g.jsxs("div",{className:"flex flex-col sm:flex-row space-y-2 sm:space-y-0 sm:space-x-2 items-end shrink-0 ml-3 mt-1 sm:mt-0",children:[g.jsx(Le,{onClick:()=>n(h),size:"sm",variant:"outline",className:"text-xs px-3 py-1.5 w-full sm:w-auto",leftIcon:g.jsx(Yd,{className:"w-4 h-4"}),children:"Load"}),g.jsx(Le,{onClick:()=>r(h.id),size:"sm",variant:"danger",className:"text-xs px-3 py-1.5 w-full sm:w-auto",leftIcon:g.jsx(AN,{className:"w-4 h-4"})})]})]})},h.id))}),g.jsx("div",{className:"px-6 py-4 border-t border-gray-700",children:g.jsx(Le,{onClick:a,variant:"primary",className:"w-full",leftIcon:g.jsx(Kd,{}),children:"Create New TrackGuide"})})]})})},uu=({className:e="w-4 h-4"})=>g.jsx("div",{className:`${e} bg-orange-500 transform rotate-45 flex items-center justify-center`,children:g.jsx("div",{className:"w-1/2 h-1/2 bg-white transform -rotate-45"})}),Lb={songTitle:"",genre:[],artistReference:"",referenceTrackLink:"",lyrics:"",key:"",scale:"",chords:"",generalNotes:"",vibe:[],daw:"",plugins:"",availableInstruments:""},Bb={audioFile:null,userNotes:"",trackName:""},er=100,cu=er*1024*1024,jb=e=>{const t=[/Tempo.*?(\d+)\s*(?:-|to)\s*(\d+)\s*BPM/i,/BPM.*?(\d+)\s*(?:-|to)\s*(\d+)/i,/(\d+)\s*(?:-|to)\s*(\d+)\s*BPM/i,/Tempo.*?(\d+)\s*BPM/i,/BPM.*?(\d+)/i,/(\d+)\s*BPM/i];for(const n of t){const r=e.match(n);if(r){if(r[2])return Math.round((parseInt(r[1],10)+parseInt(r[2],10))/2);if(r[1])return parseInt(r[1],10)}}return null},Ob=e=>{const t=[/Suggested Key\(s\) \/ Scale\(s\):\s*([^(\n]+)/i,/Key.*?:\s*([A-G][#b]?\s*(?:Major|Minor|major|minor))/i,/([A-G][#b]?\s*(?:Major|Minor|major|minor))/i];for(const n of t){const r=e.match(n);if(r&&r[1]){const a=r[1].split(/,|\/| or /).map(u=>u.trim().replace(/\.$/,""));for(const u of a){const f=u.includes(" Minor")||u.includes(" minor")?u.replace(/minor/i,"Minor"):u.replace(/major/i,"Major").replace(/Major$/,"").trim()+" Major";if(os.includes(u)||os.includes(f))return os.includes(u)?u:f}const l=a[0];if(l){for(const u of os)if(l.toLowerCase().startsWith(u.split(" ")[0].toLowerCase())){if(l.toLowerCase().includes("minor")){if(u.includes("Minor"))return u}else if(u.includes("Major"))return u}return l}}}return null},zb=e=>{const t=[/Chord Progression\(s\)?\s*(?:\([^)]+\))?:\s*([^\n]+)/i,/Progression\(s\)?:\s*([^\n]+)/i,/Chords?:\s*([ivclxmdIVCLXMDab#dimaug\d\/sus-][^\n]*)/i,/([ivclxmdIVCLXMD]+(?:\s*-\s*[ivclxmdIVCLXMD]+){2,})/i];for(const n of t){const r=e.match(n);if(r&&r[1]){const l=r[1].match(/([ivclxmdIVCLXMDab#dimaug\d\/sus-]+(?:\s*-\s*[ivclxmdIVCLXMDab#dimaug\d\/sus-]+)*)/);if(l&&l[1]){let u=l[1].trim();u.endsWith(".")&&(u=u.slice(0,-1));const f=[", ",". ","; "];for(const h of f)if(u.includes(h)){u=u.split(h)[0].trim();break}return u}}}return null},Fb=(e,t)=>{const n=e.match(t);if(!n||typeof n.index>"u")return"";const r=n.index,a=e.substring(r+n[0].length).match(/^##\s+/m),l=a&&typeof a.index<"u"?r+n[0].length+a.index:e.length;return e.substring(r,l).trim()},mj=e=>{if(!e)return"";let t="";return t+=Fb(e,/^##\s*1\.\s*Song Overview/im)+`

`,t+=Fb(e,/^##\s*4\.\s*Harmony, Melody & Rhythmic Core/im),t.trim()||"General musical context not fully parsed. Focus on genre and vibe."},Ub=e=>{const t=e.match(/^\s*-\s*\*\*Suggested Title:\*\*\s*(.*)/im);return t&&t[1]?t[1].trim().replace(/\*\*([^*]+)\*\*/g,"$1").replace(/\*([^*]+)\*/g,"$1"):null},pj=()=>{var Yr;const[e,t]=te.useState("landing"),[n,r]=te.useState(Lb),[a,l]=te.useState(""),[u,f]=te.useState(""),[h,d]=te.useState(""),[m,y]=te.useState(!1),[T,S]=te.useState(""),[A,M]=te.useState(null),[R,I]=te.useState(null),[P,N]=te.useState([]),[j,H]=te.useState(null),[U,ie]=te.useState(!1),[le,pe]=te.useState(""),[F,ue]=te.useState(!1),[fe,W]=te.useState(!0),[ae,me]=te.useState(Bb),[$,L]=te.useState(null),[D,_]=te.useState(!1),[C,B]=te.useState(null),[q,k]=te.useState("single"),[J,O]=te.useState({mixA:null,mixB:null,userNotes:"",includeMixBFeedback:!1}),[re,ye]=te.useState(null),[he,Se]=te.useState(!1),[Ne,be]=te.useState(null),qe=te.useRef(null),[Ve,Fe]=te.useState(""),[_t,bt]=te.useState(""),ft=te.useRef(null),Hr=te.useRef(null);te.useEffect(()=>{try{const xe=localStorage.getItem(vx);if(xe){const zt=JSON.parse(xe).map(at=>({...at,genre:Array.isArray(at.genre)?at.genre:at.genre?[at.genre]:[],vibe:Array.isArray(at.vibe)?at.vibe:at.vibe?[at.vibe]:[],scale:at.scale||"",midiSettings:at.midiSettings||void 0,generatedMidiPatterns:at.generatedMidiPatterns||void 0}));N(zt)}}catch(xe){console.error("Failed to load library from local storage:",xe),N([])}const Z=localStorage.getItem(Qa),ge=localStorage.getItem(Wl);r(xe=>({...xe,daw:Z||xe.daw||"",plugins:ge||xe.plugins||""}))},[]),te.useEffect(()=>{try{localStorage.setItem(vx,JSON.stringify(P))}catch(Z){console.error("Failed to save library to local storage:",Z)}},[P]),te.useEffect(()=>{e!=="remixGuide"&&Fe(""),e!=="patchGuide"&&bt("")},[e]);const Et=Z=>{const{name:ge,value:xe}=Z.target;ge==="currentGenreText"?l(xe):ge==="currentVibeText"?f(xe):(r(Ue=>({...Ue,[ge]:xe})),ge==="daw"?localStorage.setItem(Qa,xe):ge==="plugins"&&localStorage.setItem(Wl,xe))},ii=Z=>{var xe,Ue;const ge=Z==="genre"?a.trim():u.trim();ge&&!n[Z].includes(ge)&&r(zt=>({...zt,[Z]:[...zt[Z],ge]})),Z==="genre"?(l(""),(xe=ft.current)==null||xe.focus()):(f(""),(Ue=Hr.current)==null||Ue.focus())},ri=(Z,ge)=>{Z.key==="Enter"&&(Z.preventDefault(),ii(ge))},Gr=(Z,ge)=>{r(xe=>{const zt=xe[Z].filter(at=>at!==ge);return{...xe,[Z]:zt}})},qr=Z=>{r(ge=>({...ge,daw:Z})),localStorage.setItem(Qa,Z)},$r=Z=>{const ge=Z.match(/^#\s*TRACKGUIDE:\s*"?([^"\n]+)"?/im);return ge&&ge[1]?ge[1].trim():null},ur=()=>{const Z=localStorage.getItem(Qa)||"",ge=localStorage.getItem(Wl)||"";r({...Lb,songTitle:"",daw:Z,plugins:ge}),l(""),f(""),d(""),H(null),M(null),I(null),pe(""),Un(),ie(!1)},ee=async Z=>{var zt;Z.preventDefault(),y(!0),M(null),I(null),d(""),H(null),pe(""),Un(),window.scrollTo({top:0,behavior:"smooth"}),n.daw&&localStorage.setItem(Qa,n.daw),n.plugins&&localStorage.setItem(Wl,n.plugins);let ge="",xe,Ue;try{S("TrackGuide is generating...");const at=await xN(n);for await(const Wt of at)ge+=Wt.text,d(ai=>ai+Wt.text);S("Initial MIDI patterns are generating...");const Bs=$r(ge),Gu=(zt=n.songTitle)!=null&&zt.trim()?n.songTitle.trim():Bs||`TrackGuide for ${n.genre.join(", ")||"Unknown Genre"}`,qn=Date.now().toString(),It=new Date().toISOString(),Ft=jb(ge),Ei=Ob(ge),Zo=zb(ge),Kr=n.genre[0]||Xe.genre,js=Jn[Kr]||Jn.Default,Os=Math.round((js[0]+js[1])/2),cr=(_n[Kr]||_n.Default)[0],Wo=mj(ge),Mi=Xe.songSection;let oi=8;const fr=Kr.toLowerCase();["lo-fi hip hop","lofi hip hop","lofi","trap","ambient","idm","breakcore","footwork","juke","experimental"].some(Wt=>fr.includes(Wt))&&(oi=4);const Tt=["chords","bassline","melody","drums"];Ue={key:Ei||Xe.key,tempo:Ft||Os,timeSignature:Xe.timeSignature,chordProgression:Zo||cr,genre:Kr,bars:oi,targetInstruments:Tt,guidebookContext:Wo,songSection:Mi};try{const Wt=await xs(Ue);let ai="";for await(const hr of Wt)ai+=hr.text;let Bn=ai.trim();const ki=/^```(\w*)?\s*\n?(.*?)\n?\s*```$/s,ea=Bn.match(ki);if(ea&&ea[2]&&(Bn=ea[2].trim()),xe=JSON.parse(Bn),xe.drums){const hr={};for(const ta in xe.drums)hr[ta.toLowerCase().replace(/\s+/g,"_")]=xe.drums[ta];xe.drums=hr}I(null)}catch(Wt){console.error("Initial MIDI generation failed:",Wt);const ai=Wt.message.toLowerCase().includes("json")?`AI returned invalid JSON for MIDI patterns during initial generation. (${Wt.message})`:`Initial MIDI generation failed: ${Wt.message}.`;I(ai+" You can try generating MIDI manually in the MIDI tools section."),xe=void 0}H({id:qn,title:Gu,genre:n.genre,artistReference:n.artistReference,referenceTrackLink:n.referenceTrackLink,lyrics:n.lyrics,key:n.key,chords:n.chords,generalNotes:n.generalNotes,vibe:n.vibe,daw:n.daw,plugins:n.plugins,availableInstruments:n.availableInstruments||"",content:ge,createdAt:It,midiSettings:Ue,generatedMidiPatterns:xe})}catch(at){M(at.message||"An unexpected error occurred while generating TrackGuide."),H(null),d("")}finally{y(!1),S("")}},ce=()=>{if(!j)return;const Z={...j};N(ge=>{const xe=ge.findIndex(Ue=>Ue.id===Z.id);if(xe>-1){const Ue=[...ge];return Ue[xe]=Z,Ue}return[Z,...ge]})},Ce=(Z,ge)=>{H(xe=>xe?{...xe,midiSettings:Z,generatedMidiPatterns:ge}:null)},Ae=Z=>{r({songTitle:Z.title,genre:Array.isArray(Z.genre)?Z.genre:Z.genre?[String(Z.genre)]:[],artistReference:Z.artistReference,referenceTrackLink:Z.referenceTrackLink||"",lyrics:Z.lyrics||"",key:Z.key||"",chords:Z.chords||"",generalNotes:Z.generalNotes||"",vibe:Array.isArray(Z.vibe)?Z.vibe:Z.vibe?[String(Z.vibe)]:[],daw:Z.daw,plugins:Z.plugins,availableInstruments:Z.availableInstruments||""}),l(""),f(""),d(Z.content),H(Z),M(null),I(null),pe(""),Un(),ie(!1),t("trackGuide"),window.scrollTo({top:0,behavior:"smooth"})},Ye=Z=>{N(ge=>ge.filter(xe=>xe.id!==Z)),j&&j.id===Z&&(d(""),H(null),Un())},jt=({selections:Z,onRemove:ge})=>g.jsx("div",{className:"flex flex-wrap gap-2 mt-2 mb-2 min-h-[2.25rem]",children:Z.map(xe=>g.jsxs("span",{className:"flex items-center px-3 py-1 bg-orange-600 text-white text-xs font-medium rounded-full shadow-md hover:bg-orange-700 transition-colors",children:[xe,g.jsx("button",{type:"button",onClick:()=>ge(xe),className:"ml-1.5 -mr-0.5 p-0.5 text-orange-200 hover:text-white rounded-full focus:outline-none focus:bg-orange-800 transition-colors","aria-label":`Remove ${xe}`,children:g.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-3 w-3",viewBox:"0 0 20 20",fill:"currentColor",children:g.jsx("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})})})]},xe))}),Ln=Z=>{var xe;const ge=(xe=Z.target.files)==null?void 0:xe[0];if(ge){if(ge.size>cu){B(`File is too large. Maximum size is ${er}MB.`),me(Ue=>({...Ue,audioFile:null})),qe.current&&(qe.current.value="");return}if(!ge.type.startsWith("audio/")){B("Invalid file type. Please upload an audio file (e.g., MP3, WAV)."),me(Ue=>({...Ue,audioFile:null})),qe.current&&(qe.current.value="");return}me(Ue=>({...Ue,audioFile:ge})),B(null)}},Ot=Z=>{me(ge=>({...ge,userNotes:Z.target.value}))},Tn=async Z=>{if(Z.preventDefault(),!ae.audioFile){B("Please upload an audio file for feedback.");return}_(!0),window.scrollTo({top:0,behavior:"smooth"}),L(null),B(null);try{const ge=await Sx(ae);L(ge)}catch(ge){B(ge.message||"An unknown error occurred while generating mix feedback.")}finally{_(!1)}},Kt=()=>{me(Bb),L(null),B(null),qe.current&&(qe.current.value="")},gt=Z=>new Promise((ge,xe)=>{const Ue=new FileReader;Ue.readAsDataURL(Z),Ue.onload=()=>{const at=Ue.result.split(",")[1];ge(at)},Ue.onerror=zt=>xe(zt)}),Zt=async()=>{if(!J.mixA||!J.mixB){be("Please upload both Mix A and Mix B files.");return}Se(!0),window.scrollTo({top:0,behavior:"smooth"}),ye(null),be(null);try{const Z=await gt(J.mixA),ge=await gt(J.mixB),xe={mixAFile:Z,mixBFile:ge,mixAName:J.mixA.name,mixBName:J.mixB.name,includeMixBFeedback:J.includeMixBFeedback,userNotes:J.userNotes},Ue=await bN(xe);ye(Ue)}catch(Z){be(Z.message||"An unknown error occurred while comparing mixes.")}finally{Se(!1)}},un=()=>{O({mixA:null,mixB:null,userNotes:"",includeMixBFeedback:!1}),ye(null),be(null)};let cn;const Jo=(Yr=n.songTitle)==null?void 0:Yr.trim();if(Jo)cn=`TrackGuide: ${Jo}`;else if(j!=null&&j.title){const Z=j.title;if(Z.startsWith("TrackGuide for ")){const ge=$r(j.content);ge?cn=`TrackGuide: ${ge}`:cn=Z}else cn=`TrackGuide: ${Z}`}else if(m&&e==="trackGuide"){const Z=Ub(h);Z?cn=`TrackGuide: ${Z}`:cn="TrackGuide is generating..."}else if(h){const Z=Ub(h);Z?cn=`TrackGuide: ${Z}`:cn="Generated TrackGuide"}else cn="TrackGuide";return e==="landing"?g.jsx(VN,{onGetStarted:()=>{t("trackGuide"),setTimeout(()=>window.scrollTo({top:0,behavior:"smooth"}),100)}}):g.jsxs("div",{className:"min-h-screen bg-[#1A1A1A] text-gray-100 p-4 md:p-6 lg:p-8 relative overflow-hidden",children:[g.jsx("div",{className:"absolute inset-0 opacity-20 pointer-events-none",children:g.jsx("div",{className:"absolute inset-0 pointer-events-none",style:{backgroundImage:"radial-gradient(circle at 2px 2px, #FF5722 1px, transparent 0)",backgroundSize:"40px 40px"}})}),g.jsxs("div",{className:"absolute top-10 right-10 w-32 h-32 opacity-10 pointer-events-none",children:[g.jsx("div",{className:"w-full h-full border-2 border-orange-500 transform rotate-12 pointer-events-none"}),g.jsx("div",{className:"absolute top-2 right-2 w-28 h-28 bg-orange-500 transform rotate-12 pointer-events-none"})]}),g.jsxs("header",{className:"text-center mb-6 relative z-10",children:[g.jsxs("div",{className:"flex items-center justify-center space-x-3 mb-4",children:[g.jsx("div",{className:"w-8 h-8 bg-orange-500 transform rotate-45 flex items-center justify-center",children:g.jsx("div",{className:"w-4 h-4 bg-white transform -rotate-45"})}),g.jsxs("div",{children:[g.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-white",children:xx}),g.jsx("p",{className:"text-gray-400 text-lg",children:"Your Smartest Studio Assistant"})]})]}),g.jsx("button",{onClick:()=>t("landing"),className:"mt-2 text-sm text-orange-500 hover:text-orange-400 transition-colors font-medium",children:" Back to Landing"})]}),g.jsxs("nav",{className:"mb-8 flex flex-col justify-center items-center md:flex-row md:justify-center gap-2 border-b border-orange-500/20 pb-3 relative z-10",children:[g.jsx(Le,{size:"sm",className:`w-full md:w-auto px-3 py-2 text-xs md:text-sm rounded-md transition-all duration-150 ease-in-out ${e==="trackGuide"?"bg-orange-500 shadow-lg hover:bg-orange-600":"bg-gray-700/80 hover:bg-gray-600/80 border border-gray-600"}`,onClick:()=>t("trackGuide"),variant:e==="trackGuide"?"primary":"secondary",leftIcon:g.jsx(uu,{className:"w-4 h-4"}),children:"TrackGuide AI"}),g.jsx(Le,{size:"sm",className:`w-full md:w-auto px-3 py-2 text-xs md:text-sm rounded-md transition-all duration-150 ease-in-out ${e==="mixFeedback"?"bg-orange-500 shadow-lg hover:bg-orange-600":"bg-gray-700/80 hover:bg-gray-600/80 border border-gray-600"}`,onClick:()=>t("mixFeedback"),variant:e==="mixFeedback"?"primary":"secondary",leftIcon:g.jsx("span",{className:"w-4 h-4 text-center",children:""}),children:"Mix Feedback AI"}),g.jsx(Le,{size:"sm",className:`w-full md:w-auto px-3 py-2 text-xs md:text-sm rounded-md transition-all duration-150 ease-in-out ${e==="remixGuide"?"bg-orange-500 shadow-lg hover:bg-orange-600":"bg-gray-700/80 hover:bg-gray-600/80 border border-gray-600"}`,onClick:()=>t("remixGuide"),variant:e==="remixGuide"?"primary":"secondary",leftIcon:g.jsx("span",{className:"w-4 h-4 text-center",children:""}),children:"RemixGuide AI"}),g.jsx(Le,{size:"sm",className:`w-full md:w-auto px-3 py-2 text-xs md:text-sm rounded-md transition-all duration-150 ease-in-out ${e==="patchGuide"?"bg-orange-500 shadow-lg hover:bg-orange-600":"bg-gray-700/80 hover:bg-gray-600/80 border border-gray-600"}`,onClick:()=>t("patchGuide"),variant:e==="patchGuide"?"primary":"secondary",leftIcon:g.jsx("span",{className:"w-4 h-4 text-center",children:""}),children:"PatchGuide AI"}),g.jsx(Le,{size:"sm",className:`w-full md:w-auto px-3 py-2 text-xs md:text-sm rounded-md transition-all duration-150 ease-in-out ${e==="eqGuide"?"bg-orange-500 shadow-lg hover:bg-orange-600":"bg-gray-700/80 hover:bg-gray-600/80 border border-gray-600"}`,onClick:()=>t("eqGuide"),variant:e==="eqGuide"?"primary":"secondary",leftIcon:g.jsx(od,{className:"w-4 h-4"}),children:"EQ Guide"})]}),e==="trackGuide"&&g.jsxs("div",{className:"max-w-full mx-auto grid grid-cols-1 lg:grid-cols-7 gap-6 px-4",children:[g.jsxs(Ze,{title:"Blueprint Your Sound",className:"lg:col-span-2 bg-gray-800/80 backdrop-blur-md shadow-xl border border-gray-700/50",children:[g.jsx("p",{className:"text-sm text-gray-400 mb-4",children:"Describe your visioneverything's optional."}),g.jsxs("form",{onSubmit:ee,className:"space-y-3",children:[g.jsx("div",{children:g.jsx(vn,{label:"Song Title / Project Name",name:"songTitle",value:n.songTitle||"",onChange:Et,placeholder:"AI will suggest one if left blank"})}),g.jsx("div",{children:g.jsx(vn,{label:"Artist References",name:"artistReference",value:n.artistReference,onChange:Et,placeholder:"e.g., Daft Punk"})}),g.jsx("div",{children:g.jsx(vn,{label:"Song Reference",name:"referenceTrackLink",value:n.referenceTrackLink||"",onChange:Et,placeholder:"e.g., YouTube, Spotify, SoundCloud link"})}),g.jsxs("div",{className:"space-y-2",children:[g.jsxs("div",{children:[g.jsx("label",{htmlFor:"genre-input",className:"block text-sm font-medium text-gray-300 mb-1.5",children:"Genre(s)"}),g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx(vn,{ref:ft,id:"genre-input",name:"currentGenreText",value:a,onChange:Et,onKeyDown:Z=>ri(Z,"genre"),placeholder:"Type custom genre...",list:"genre-suggestions",className:"flex-grow"}),g.jsx(Le,{type:"button",onClick:()=>ii("genre"),size:"sm",variant:"secondary","aria-label":"Add Genre",className:"px-3",children:g.jsx(Kd,{className:"w-4 h-4"})})]}),g.jsx("datalist",{id:"genre-suggestions",children:i1.map(Z=>g.jsx("option",{value:Z},Z))}),g.jsx(jt,{selections:n.genre,onRemove:Z=>Gr("genre",Z)})]}),g.jsxs("div",{children:[g.jsx("label",{htmlFor:"vibe-input",className:"block text-sm font-medium text-gray-300 mb-1.5",children:"Vibe / Mood"}),g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx(vn,{ref:Hr,id:"vibe-input",name:"currentVibeText",value:u,onChange:Et,onKeyDown:Z=>ri(Z,"vibe"),placeholder:"Type custom vibe...",list:"vibe-suggestions",className:"flex-grow"}),g.jsx(Le,{type:"button",onClick:()=>ii("vibe"),size:"sm",variant:"secondary","aria-label":"Add Vibe",className:"px-3",children:g.jsx(Kd,{className:"w-4 h-4"})})]}),g.jsx("datalist",{id:"vibe-suggestions",children:dN.map(Z=>g.jsx("option",{value:Z},Z))}),g.jsx(jt,{selections:n.vibe,onRemove:Z=>Gr("vibe",Z)})]})]}),g.jsxs("div",{children:[g.jsx(vn,{label:"Preferred DAW",name:"daw",value:n.daw,onChange:Et,placeholder:"Type or select DAW...",list:"daw-suggestions"}),g.jsx("datalist",{id:"daw-suggestions",children:bx.map(Z=>g.jsx("option",{value:Z},Z))}),g.jsx("div",{className:"flex flex-wrap gap-2 mt-2 mb-1",children:bx.slice(0,5).map(Z=>g.jsx("button",{type:"button",onClick:()=>qr(Z),className:`px-3 py-1 text-xs rounded-full transition-all duration-150 ease-in-out shadow-sm hover:shadow-md ${n.daw===Z?"bg-orange-600 text-white ring-2 ring-orange-400 ring-offset-2 ring-offset-gray-800":"bg-gray-700 hover:bg-gray-600 text-gray-300 hover:text-gray-100"}`,children:Z},Z))})]}),g.jsx("div",{children:g.jsx(No,{label:"Available Plugins",name:"plugins",value:n.plugins,onChange:Et,placeholder:"e.g., Serum, Valhalla Reverbs, Arturia V Collection, or 'stock only'",rows:2})}),g.jsx("div",{children:g.jsx(No,{label:"Available Instruments",name:"availableInstruments",value:n.availableInstruments||"",onChange:Et,placeholder:"e.g., Electric Guitar, Moog Subsequent 37, Roland TR-808, Vocals",rows:2})}),g.jsxs("div",{className:"border-t border-gray-600 pt-4",children:[g.jsx(Le,{type:"button",onClick:()=>ue(!F),variant:"outline",className:"mb-4 w-8 h-8 p-0 flex items-center justify-center",title:F?"Hide Advanced Input":"Show Advanced Input",children:g.jsx("span",{className:`text-lg transition-transform ${F?"rotate-45":""}`,children:"+"})}),F&&g.jsxs("div",{className:"space-y-4 p-4 bg-gray-700/30 rounded-lg border border-gray-600/50",children:[g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[g.jsx("div",{children:g.jsx(vn,{label:"Key",name:"key",value:n.key||"",onChange:Et,placeholder:"e.g., C Major"})}),g.jsx("div",{children:g.jsx(vn,{label:"Scale/Mode",name:"scale",value:n.scale||"",onChange:Et,placeholder:"e.g., Dorian, Mixolydian"})})]}),g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[g.jsx("div",{children:g.jsx(vn,{label:"Chords",name:"chords",value:n.chords||"",onChange:Et,placeholder:"e.g., Am - F - C - G"})}),g.jsx("div",{children:g.jsx(No,{label:"Lyrics",name:"lyrics",value:n.lyrics||"",onChange:Et,placeholder:"Paste your lyrics here if you have any...",rows:2})})]}),g.jsx("div",{children:g.jsx(No,{label:"General Notes for AI",name:"generalNotes",value:n.generalNotes||"",onChange:Et,placeholder:"Any specific instructions, style notes, or creative direction for the AI to consider...",rows:3})})]})]}),g.jsx(Le,{type:"submit",disabled:m,className:"w-full text-base py-2.5",leftIcon:g.jsx(uu,{className:"w-5 h-5"}),children:m?T||"Generating...":"Generate TrackGuide"}),g.jsxs("div",{className:"flex space-x-2 mt-3",children:[g.jsx(Le,{type:"button",onClick:()=>ie(!0),variant:"secondary",className:"flex-1",leftIcon:g.jsx(Yd,{className:"w-4 h-4"}),children:"View Library"}),g.jsx(Le,{type:"button",onClick:ur,variant:"outline",className:"flex-1",children:"Clear Form"})]})]})]}),g.jsxs("div",{className:"lg:col-span-5 space-y-6",children:[A&&!m&&g.jsxs(Ze,{className:"border-red-500 bg-red-900/40 shadow-xl",children:[g.jsx("p",{className:"text-red-300 font-semibold text-lg",children:"TrackGuide Error:"}),g.jsx("p",{className:"text-red-300",children:A})]}),R&&!T.toLowerCase().includes("midi")&&!A&&g.jsxs(Ze,{className:"border-yellow-500 bg-yellow-900/40 shadow-xl",children:[g.jsx("p",{className:"text-yellow-300 font-semibold text-lg",children:"MIDI Generation Note:"}),g.jsx("p",{className:"text-yellow-300",children:R})]}),(h||m&&T.includes("TrackGuide is generating"))&&!A&&g.jsxs(Ze,{title:cn,className:"bg-gray-800/80 backdrop-blur-md shadow-xl border border-gray-700/50 sticky top-8",titleClassName:"border-b border-gray-700 text-xl",children:[j&&!m&&g.jsxs("div",{className:"flex flex-wrap gap-3 mb-5 pb-4 border-b border-gray-700 items-center",children:[g.jsx(Le,{onClick:ce,variant:"secondary",leftIcon:g.jsx(wN,{}),children:"Save to Library"}),g.jsx("div",{className:"flex-grow"}),g.jsx(Le,{onClick:ur,variant:"outline",size:"sm",className:"!border-gray-500 !text-gray-400 hover:!bg-gray-600 hover:!text-white",leftIcon:g.jsx(s1,{}),children:"Close"}),le&&g.jsx("span",{className:`ml-3 text-sm ${le.includes("Failed")||le.includes("not supported")?"text-red-400":"text-green-400"}`,children:le})]}),g.jsxs("div",{id:"guidebook-content-display",className:"prose prose-sm md:prose-base prose-invert max-w-none max-h-[calc(100vh-6rem)] overflow-y-auto pr-3 text-gray-300 custom-scrollbar guidebook-content",children:[j&&!m&&g.jsxs("div",{className:"mb-6 p-4 bg-gray-700/50 rounded-lg text-sm shadow-inner border border-gray-600/50 guidebook-section-break",children:[g.jsx("strong",{className:"text-orange-300 block mb-2 text-base",children:"TrackGuide Snapshot:"}),g.jsxs("p",{children:[g.jsx("strong",{children:"Project Title:"})," ",j.title]}),g.jsxs("p",{children:[g.jsx("strong",{children:"Genre(s):"})," ",Array.isArray(j.genre)?j.genre.join(", "):j.genre]}),g.jsxs("p",{children:[g.jsx("strong",{children:"Artist/Song Ref:"})," ",j.artistReference||"N/A"]}),g.jsxs("p",{children:[g.jsx("strong",{children:"Vibe(s):"})," ",Array.isArray(j.vibe)?j.vibe.join(", "):j.vibe]}),g.jsxs("p",{children:[g.jsx("strong",{children:"DAW:"})," ",j.daw]}),g.jsxs("p",{children:[g.jsx("strong",{children:"Plugins:"})," ",j.plugins||"N/A"]}),g.jsxs("p",{children:[g.jsx("strong",{children:"Instruments:"})," ",j.availableInstruments||"N/A"]}),j.generatedMidiPatterns&&g.jsxs("p",{className:"mt-1 text-green-400",children:[g.jsx(a1,{className:"w-4 h-4 inline mr-1"})," Initial MIDI patterns generated."]})]}),g.jsx(cs,{content:h}),m&&T.includes("TrackGuide is generating")&&g.jsx(Si,{size:"sm",text:"Generating TrackGuide..."})]})]}),m&&!A&&T&&!T.includes("TrackGuide is generating")&&g.jsx("div",{className:"flex justify-center py-10",children:g.jsx(Si,{size:"lg",text:T||"Processing..."})}),j&&!m&&h&&!A&&g.jsx(yT,{currentGuidebookEntry:j,mainAppInputs:n,onUpdateGuidebookEntryMidi:Ce,parsedGuidebookBpm:jb(j.content),parsedGuidebookKey:Ob(j.content),parsedGuidebookChordProg:zb(j.content)}),!m&&!h&&!A&&!j&&g.jsxs(Ze,{className:"bg-gray-800/80 backdrop-blur-md shadow-xl border border-gray-700/50 flex flex-col items-center justify-center h-96 text-center min-h-[500px]",children:[g.jsx("div",{className:"flex justify-center mb-6",children:g.jsx(uu,{className:"w-20 h-20 opacity-80 text-orange-500"})}),g.jsx("h3",{className:"text-2xl font-semibold text-gray-200 mb-2",children:"Produce Smarter. Create More."}),g.jsx("p",{className:"text-gray-400 max-w-md mx-auto",children:"Tell us what youre envisioningTrackGuide AI will generate a custom production guide and MIDI foundation."})]})]})]}),e==="mixFeedback"&&g.jsxs("div",{className:"max-w-7xl mx-auto grid grid-cols-1 md:grid-cols-12 gap-8",children:[g.jsxs("div",{className:"md:col-span-3 space-y-6",children:[g.jsxs("div",{className:"flex bg-gray-800/80 backdrop-blur-md shadow-xl border border-gray-700/50 rounded-lg overflow-hidden",children:[g.jsx("button",{onClick:()=>k("single"),className:`flex-1 px-4 py-3 text-sm font-medium transition-all ${q==="single"?"bg-orange-500 text-white":"bg-gray-700/50 text-gray-300 hover:bg-gray-600/50"}`,children:" Mix Analysis"}),g.jsx("button",{onClick:()=>k("compare"),className:`flex-1 px-4 py-3 text-sm font-medium transition-all ${q==="compare"?"bg-orange-500 text-white":"bg-gray-700/50 text-gray-300 hover:bg-gray-600/50"}`,children:" Mix Compare"})]}),q==="single"&&g.jsx(Ze,{title:"Upload Your Mix",className:"bg-gray-800/80 backdrop-blur-md shadow-xl border border-gray-700/50",children:g.jsxs("form",{onSubmit:Tn,className:"space-y-5",children:[g.jsxs("div",{children:[g.jsx("label",{htmlFor:"mix-audio-file",className:"block text-sm font-medium text-gray-300 mb-1",children:"Audio File (.mp3, .wav, etc.)"}),g.jsx("div",{className:`mt-1 flex justify-center px-6 pt-5 pb-6 border-2 ${C&&ae.audioFile===null?"border-red-500":"border-gray-600"} border-dashed rounded-md cursor-pointer hover:border-orange-500 transition-colors`,onClick:()=>{var Z;return(Z=qe.current)==null?void 0:Z.click()},onDragOver:Z=>{Z.preventDefault(),Z.currentTarget.classList.add("border-orange-500")},onDragLeave:Z=>Z.currentTarget.classList.remove("border-orange-500"),onDrop:Z=>{if(Z.preventDefault(),Z.currentTarget.classList.remove("border-orange-500"),Z.dataTransfer.files&&Z.dataTransfer.files[0]){const ge=Z.dataTransfer.files[0];if(ge.size>cu){B(`File is too large. Max ${er}MB.`);return}if(!ge.type.startsWith("audio/")){B("Invalid file type. Please upload audio.");return}me(xe=>({...xe,audioFile:ge})),B(null)}},children:g.jsxs("div",{className:"space-y-1 text-center",children:[g.jsx(rd,{className:"mx-auto h-12 w-12 text-gray-500"}),g.jsxs("div",{className:"flex text-sm text-gray-400",children:[g.jsx("span",{className:"relative rounded-md font-medium text-orange-400 hover:text-orange-300 focus-within:outline-none focus-within:ring-2 focus-within:ring-offset-2 focus-within:ring-offset-gray-900 focus-within:ring-orange-500",children:g.jsx("span",{children:"Upload a file"})}),g.jsx("input",{id:"mix-audio-file",name:"mix-audio-file",type:"file",className:"sr-only",accept:"audio/*",onChange:Ln,ref:qe}),g.jsx("p",{className:"pl-1",children:"or drag and drop"})]}),g.jsxs("p",{className:"text-xs text-gray-500",children:["Max file size: ",er,"MB"]})]})}),ae.audioFile&&g.jsxs("p",{className:"text-xs text-green-400 mt-2",children:["Selected: ",ae.audioFile.name," (",(ae.audioFile.size/1024/1024).toFixed(2)," MB)"]}),C&&ae.audioFile===null&&g.jsx("p",{className:"text-xs text-red-400 mt-2",children:C})]}),g.jsx("div",{children:g.jsx(No,{label:"Notes for AI",name:"mixUserNotes",value:ae.userNotes,onChange:Ot,placeholder:"e.g., 'Focus on the low-end clarity', 'Is the vocal too loud?', 'General feedback welcome.'",rows:4})}),g.jsx(Le,{type:"submit",disabled:D||!ae.audioFile,className:"w-full text-base py-2.5 !bg-orange-600 hover:!bg-orange-700 focus:!ring-orange-500",leftIcon:g.jsx(od,{className:"w-5 h-5"}),children:D?"Analyzing Mix...":"Get Mix Feedback"}),g.jsx(Le,{type:"button",onClick:Kt,variant:"outline",className:"w-full !border-orange-500 !text-orange-400 hover:!bg-orange-500 hover:!text-white",children:"Clear Mix Form"})]})}),q==="compare"&&g.jsxs("div",{className:"space-y-5",children:[g.jsxs(Ze,{title:"Mix A (Original)",className:"bg-gray-800/80 backdrop-blur-md shadow-xl border border-gray-700/50",children:[g.jsx("div",{className:`mt-1 flex justify-center px-6 pt-5 pb-6 border-2 ${Ne&&!J.mixA?"border-red-500":"border-gray-600"} border-dashed rounded-md cursor-pointer hover:border-orange-500 transition-colors`,onClick:()=>{var Z;return(Z=document.getElementById("mixA-upload"))==null?void 0:Z.click()},children:g.jsxs("div",{className:"space-y-1 text-center",children:[g.jsx(rd,{className:"mx-auto h-12 w-12 text-gray-400"}),g.jsxs("div",{className:"flex text-sm text-gray-400",children:[g.jsxs("label",{htmlFor:"mixA-upload",className:"relative cursor-pointer rounded-md font-medium text-orange-400 hover:text-orange-300",children:[g.jsx("span",{children:"Upload Mix A"}),g.jsx("input",{id:"mixA-upload",name:"mixA-upload",type:"file",className:"sr-only",accept:"audio/*",onChange:Z=>{var xe;const ge=(xe=Z.target.files)==null?void 0:xe[0];if(ge){if(ge.size>cu){be(`File is too large. Max ${er}MB.`);return}if(!ge.type.startsWith("audio/")){be("Invalid file type. Please upload audio.");return}O(Ue=>({...Ue,mixA:ge})),be(null)}}})]}),g.jsx("p",{className:"pl-1",children:"or drag and drop"})]}),g.jsxs("p",{className:"text-xs text-gray-500",children:["MP3, WAV, FLAC up to ",er,"MB"]})]})}),J.mixA&&g.jsxs("p",{className:"text-xs text-green-400 mt-2",children:["Selected: ",J.mixA.name," (",(J.mixA.size/1024/1024).toFixed(2)," MB)"]})]}),g.jsxs(Ze,{title:"Mix B (Revised)",className:"bg-gray-800/80 backdrop-blur-md shadow-xl border border-gray-700/50",children:[g.jsx("div",{className:`mt-1 flex justify-center px-6 pt-5 pb-6 border-2 ${Ne&&!J.mixB?"border-red-500":"border-gray-600"} border-dashed rounded-md cursor-pointer hover:border-orange-500 transition-colors`,onClick:()=>{var Z;return(Z=document.getElementById("mixB-upload"))==null?void 0:Z.click()},children:g.jsxs("div",{className:"space-y-1 text-center",children:[g.jsx(rd,{className:"mx-auto h-12 w-12 text-gray-400"}),g.jsxs("div",{className:"flex text-sm text-gray-400",children:[g.jsxs("label",{htmlFor:"mixB-upload",className:"relative cursor-pointer rounded-md font-medium text-orange-400 hover:text-orange-300",children:[g.jsx("span",{children:"Upload Mix B"}),g.jsx("input",{id:"mixB-upload",name:"mixB-upload",type:"file",className:"sr-only",accept:"audio/*",onChange:Z=>{var xe;const ge=(xe=Z.target.files)==null?void 0:xe[0];if(ge){if(ge.size>cu){be(`File is too large. Max ${er}MB.`);return}if(!ge.type.startsWith("audio/")){be("Invalid file type. Please upload audio.");return}O(Ue=>({...Ue,mixB:ge})),be(null)}}})]}),g.jsx("p",{className:"pl-1",children:"or drag and drop"})]}),g.jsxs("p",{className:"text-xs text-gray-500",children:["MP3, WAV, FLAC up to ",er,"MB"]})]})}),J.mixB&&g.jsxs("p",{className:"text-xs text-green-400 mt-2",children:["Selected: ",J.mixB.name," (",(J.mixB.size/1024/1024).toFixed(2)," MB)"]})]}),g.jsx(Ze,{title:"Notes for AI",className:"bg-gray-800/80 backdrop-blur-md shadow-xl border border-gray-700/50",children:g.jsx(No,{placeholder:"Describe what you want the AI to focus on when comparing these mixes. For example: 'Focus on the vocal clarity and low-end balance' or 'Compare the stereo width and overall loudness'...",value:J.userNotes,onChange:Z=>O(ge=>({...ge,userNotes:Z.target.value})),rows:3,className:"w-full"})}),g.jsx(Le,{onClick:Zt,disabled:he||!J.mixA||!J.mixB,variant:"primary",className:"w-full px-4 py-3 text-base font-semibold",leftIcon:g.jsx("span",{className:"w-5 h-5 text-center",children:""}),children:he?"Comparing Mixes...":"Compare Mixes"}),g.jsx(Le,{type:"button",onClick:un,variant:"outline",className:"w-full !border-orange-500 !text-orange-400 hover:!bg-orange-500 hover:!text-white",children:"Reset"}),Ne&&!he&&g.jsxs(Ze,{className:"border-red-500 bg-red-900/40 shadow-xl",children:[g.jsx("p",{className:"text-red-300 font-semibold text-lg",children:"Mix Comparison Error:"}),g.jsx("p",{className:"text-red-300",children:Ne})]})]})]}),g.jsxs("div",{className:"md:col-span-9 space-y-6",children:[(D||he)&&g.jsx("div",{className:"flex justify-center items-center h-full min-h-[500px]",children:g.jsx(Si,{size:"lg",color:"text-orange-500",text:q==="single"?"AI is analyzing your mix... this may take a moment.":"AI is comparing your mixes... this may take a moment."})}),C&&!D&&q==="single"&&g.jsxs(Ze,{className:"border-red-500 bg-red-900/40 shadow-xl",children:[g.jsx("p",{className:"text-red-300 font-semibold text-lg",children:"Mix Feedback Error:"}),g.jsx("p",{className:"text-red-300",children:C})]}),Ne&&!he&&q==="compare"&&g.jsxs(Ze,{className:"border-red-500 bg-red-900/40 shadow-xl",children:[g.jsx("p",{className:"text-red-300 font-semibold text-lg",children:"Mix Comparison Error:"}),g.jsx("p",{className:"text-red-300",children:Ne})]}),$&&!D&&q==="single"&&g.jsx(Ze,{title:"AI Mix Feedback Report",className:"bg-gray-800/80 backdrop-blur-md shadow-xl border border-gray-700/50 sticky top-8",titleClassName:"border-b border-gray-700 text-xl !text-orange-300",children:g.jsx("div",{id:"mix-feedback-display",className:"prose prose-sm md:prose-base prose-invert max-w-none max-h-[calc(100vh-6rem)] overflow-y-auto pr-3 text-gray-300 custom-scrollbar guidebook-content",children:g.jsx(cs,{content:$})})}),re&&!he&&q==="compare"&&g.jsxs(Ze,{title:"AI Mix Comparison Report",className:"bg-gray-800/80 backdrop-blur-md shadow-xl border border-gray-700/50 sticky top-8",titleClassName:"border-b border-gray-700 text-xl !text-orange-300",children:[g.jsx("div",{id:"mix-comparison-display",className:"prose prose-sm md:prose-base prose-invert max-w-none max-h-[calc(100vh-6rem)] overflow-y-auto pr-3 text-gray-300 custom-scrollbar guidebook-content",children:g.jsx(cs,{content:re})}),g.jsx("div",{className:"p-4 border-t border-gray-700 flex justify-center",children:g.jsx(Le,{onClick:async()=>{var Z,ge;if(J.mixB){_(!0),L(null),B(null),me({audioFile:J.mixB,userNotes:J.userNotes,trackName:((Z=J.mixB)==null?void 0:Z.name)||"Mix B"});try{const xe=await Sx({audioFile:J.mixB,userNotes:J.userNotes,trackName:((ge=J.mixB)==null?void 0:ge.name)||"Mix B"});L(xe)}catch(xe){console.error("Full Mix B Feedback Error:",xe),B(xe.message||"Failed to generate feedback for Mix B.")}finally{_(!1)}}},disabled:D,className:"w-full mt-4 text-base py-2.5 !bg-orange-600 hover:!bg-orange-700 focus:!ring-orange-500",leftIcon:g.jsx(od,{className:"w-5 h-5"}),children:D?"Analyzing Mix B...":"Get Full Feedback for Mix B"})})]}),!D&&!he&&!$&&!re&&!C&&!Ne&&g.jsxs(Ze,{className:"bg-gray-800/80 backdrop-blur-md shadow-xl border border-gray-700/50 flex flex-col items-center justify-center h-96 text-center min-h-[500px]",children:[g.jsx("div",{className:"flex justify-center mb-6",children:g.jsx(uu,{className:"w-20 h-20 opacity-80"})}),g.jsx("h3",{className:"text-2xl font-semibold text-gray-200 mb-2",children:"Refine Your Sound."}),g.jsx("p",{className:"text-gray-400 max-w-md",children:q==="single"?"Upload your mix, add some notes, and get detailed feedback from our AI mixing engineer.":"Upload two mix versions to compare them side-by-side and get detailed analysis of the differences."})]})]})]}),e==="remixGuide"&&g.jsx("div",{className:"max-w-7xl mx-auto",children:g.jsx(E3,{onContentUpdate:Fe})}),e==="eqGuide"&&g.jsx("div",{className:"max-w-7xl mx-auto",children:g.jsx(_N,{})}),e==="patchGuide"&&g.jsx("div",{className:"max-w-7xl mx-auto",children:g.jsx(fj,{onContentUpdate:bt})}),U&&g.jsx(hj,{library:P,onClose:()=>ie(!1),onLoadEntry:Ae,onDeleteEntry:Ye,onCreateNew:ur}),g.jsx(DN,{isOpen:!fe,onClose:()=>W(!0),currentGuidebook:j||void 0,userInputs:n,isCollapsed:fe,onToggle:()=>W(!fe),remixGuideContent:Ve,mixFeedbackContent:$||void 0,mixComparisonContent:re||void 0,patchGuideContent:_t,activeView:e}),g.jsx("footer",{className:"text-center mt-16 py-8 border-t border-gray-700/60",children:g.jsxs("p",{className:"text-sm text-gray-500",children:[xx," - AI Production Assistant"]})})]})},QS=document.getElementById("root");if(!QS)throw new Error("Could not find root element to mount to");const gj=pA.createRoot(QS);gj.render(g.jsx(kh.StrictMode,{children:g.jsx(pj,{})}));
