(function(){const i=document.createElement("link").relList;if(i&&i.supports&&i.supports("modulepreload"))return;for(const u of document.querySelectorAll('link[rel="modulepreload"]'))s(u);new MutationObserver(u=>{for(const m of u)if(m.type==="childList")for(const p of m.addedNodes)p.tagName==="LINK"&&p.rel==="modulepreload"&&s(p)}).observe(document,{childList:!0,subtree:!0});function l(u){const m={};return u.integrity&&(m.integrity=u.integrity),u.referrerPolicy&&(m.referrerPolicy=u.referrerPolicy),u.crossOrigin==="use-credentials"?m.credentials="include":u.crossOrigin==="anonymous"?m.credentials="omit":m.credentials="same-origin",m}function s(u){if(u.ep)return;u.ep=!0;const m=l(u);fetch(u.href,m)}})();function Fu(o){return o&&o.__esModule&&Object.prototype.hasOwnProperty.call(o,"default")?o.default:o}function L0(o){if(Object.prototype.hasOwnProperty.call(o,"__esModule"))return o;var i=o.default;if(typeof i=="function"){var l=function s(){return this instanceof s?Reflect.construct(i,arguments,this.constructor):i.apply(this,arguments)};l.prototype=i.prototype}else l={};return Object.defineProperty(l,"__esModule",{value:!0}),Object.keys(o).forEach(function(s){var u=Object.getOwnPropertyDescriptor(o,s);Object.defineProperty(l,s,u.get?u:{enumerable:!0,get:function(){return o[s]}})}),l}var bu={exports:{}},pa={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var km;function G0(){if(km)return pa;km=1;var o=Symbol.for("react.transitional.element"),i=Symbol.for("react.fragment");function l(s,u,m){var p=null;if(m!==void 0&&(p=""+m),u.key!==void 0&&(p=""+u.key),"key"in u){m={};for(var y in u)y!=="key"&&(m[y]=u[y])}else m=u;return u=m.ref,{$$typeof:o,type:s,key:p,ref:u!==void 0?u:null,props:m}}return pa.Fragment=i,pa.jsx=l,pa.jsxs=l,pa}var Lm;function B0(){return Lm||(Lm=1,bu.exports=G0()),bu.exports}var h=B0(),Su={exports:{}},me={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Gm;function j0(){if(Gm)return me;Gm=1;var o=Symbol.for("react.transitional.element"),i=Symbol.for("react.portal"),l=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),u=Symbol.for("react.profiler"),m=Symbol.for("react.consumer"),p=Symbol.for("react.context"),y=Symbol.for("react.forward_ref"),v=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),T=Symbol.for("react.lazy"),C=Symbol.iterator;function _(S){return S===null||typeof S!="object"?null:(S=C&&S[C]||S["@@iterator"],typeof S=="function"?S:null)}var L={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},G=Object.assign,K={};function F(S,E,R){this.props=S,this.context=E,this.refs=K,this.updater=R||L}F.prototype.isReactComponent={},F.prototype.setState=function(S,E){if(typeof S!="object"&&typeof S!="function"&&S!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,S,E,"setState")},F.prototype.forceUpdate=function(S){this.updater.enqueueForceUpdate(this,S,"forceUpdate")};function $(){}$.prototype=F.prototype;function ee(S,E,R){this.props=S,this.context=E,this.refs=K,this.updater=R||L}var ie=ee.prototype=new $;ie.constructor=ee,G(ie,F.prototype),ie.isPureReactComponent=!0;var J=Array.isArray,W={H:null,A:null,T:null,S:null,V:null},He=Object.prototype.hasOwnProperty;function Ae(S,E,R,D,O,X){return R=X.ref,{$$typeof:o,type:S,key:E,ref:R!==void 0?R:null,props:X}}function be(S,E){return Ae(S.type,E,void 0,void 0,void 0,S.props)}function Se(S){return typeof S=="object"&&S!==null&&S.$$typeof===o}function ze(S){var E={"=":"=0",":":"=2"};return"$"+S.replace(/[=:]/g,function(R){return E[R]})}var qe=/\/+/g;function Le(S,E){return typeof S=="object"&&S!==null&&S.key!=null?ze(""+S.key):E.toString(36)}function yt(){}function Pe(S){switch(S.status){case"fulfilled":return S.value;case"rejected":throw S.reason;default:switch(typeof S.status=="string"?S.then(yt,yt):(S.status="pending",S.then(function(E){S.status==="pending"&&(S.status="fulfilled",S.value=E)},function(E){S.status==="pending"&&(S.status="rejected",S.reason=E)})),S.status){case"fulfilled":return S.value;case"rejected":throw S.reason}}throw S}function Ge(S,E,R,D,O){var X=typeof S;(X==="undefined"||X==="boolean")&&(S=null);var Q=!1;if(S===null)Q=!0;else switch(X){case"bigint":case"string":case"number":Q=!0;break;case"object":switch(S.$$typeof){case o:case i:Q=!0;break;case T:return Q=S._init,Ge(Q(S._payload),E,R,D,O)}}if(Q)return O=O(S),Q=D===""?"."+Le(S,0):D,J(O)?(R="",Q!=null&&(R=Q.replace(qe,"$&/")+"/"),Ge(O,E,R,"",function(Ie){return Ie})):O!=null&&(Se(O)&&(O=be(O,R+(O.key==null||S&&S.key===O.key?"":(""+O.key).replace(qe,"$&/")+"/")+Q)),E.push(O)),1;Q=0;var ue=D===""?".":D+":";if(J(S))for(var de=0;de<S.length;de++)D=S[de],X=ue+Le(D,de),Q+=Ge(D,E,R,X,O);else if(de=_(S),typeof de=="function")for(S=de.call(S),de=0;!(D=S.next()).done;)D=D.value,X=ue+Le(D,de++),Q+=Ge(D,E,R,X,O);else if(X==="object"){if(typeof S.then=="function")return Ge(Pe(S),E,R,D,O);throw E=String(S),Error("Objects are not valid as a React child (found: "+(E==="[object Object]"?"object with keys {"+Object.keys(S).join(", ")+"}":E)+"). If you meant to render a collection of children, use an array instead.")}return Q}function z(S,E,R){if(S==null)return S;var D=[],O=0;return Ge(S,D,"","",function(X){return E.call(R,X,O++)}),D}function U(S){if(S._status===-1){var E=S._result;E=E(),E.then(function(R){(S._status===0||S._status===-1)&&(S._status=1,S._result=R)},function(R){(S._status===0||S._status===-1)&&(S._status=2,S._result=R)}),S._status===-1&&(S._status=0,S._result=E)}if(S._status===1)return S._result.default;throw S._result}var N=typeof reportError=="function"?reportError:function(S){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var E=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof S=="object"&&S!==null&&typeof S.message=="string"?String(S.message):String(S),error:S});if(!window.dispatchEvent(E))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",S);return}console.error(S)};function A(){}return me.Children={map:z,forEach:function(S,E,R){z(S,function(){E.apply(this,arguments)},R)},count:function(S){var E=0;return z(S,function(){E++}),E},toArray:function(S){return z(S,function(E){return E})||[]},only:function(S){if(!Se(S))throw Error("React.Children.only expected to receive a single React element child.");return S}},me.Component=F,me.Fragment=l,me.Profiler=u,me.PureComponent=ee,me.StrictMode=s,me.Suspense=v,me.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=W,me.__COMPILER_RUNTIME={__proto__:null,c:function(S){return W.H.useMemoCache(S)}},me.cache=function(S){return function(){return S.apply(null,arguments)}},me.cloneElement=function(S,E,R){if(S==null)throw Error("The argument must be a React element, but you passed "+S+".");var D=G({},S.props),O=S.key,X=void 0;if(E!=null)for(Q in E.ref!==void 0&&(X=void 0),E.key!==void 0&&(O=""+E.key),E)!He.call(E,Q)||Q==="key"||Q==="__self"||Q==="__source"||Q==="ref"&&E.ref===void 0||(D[Q]=E[Q]);var Q=arguments.length-2;if(Q===1)D.children=R;else if(1<Q){for(var ue=Array(Q),de=0;de<Q;de++)ue[de]=arguments[de+2];D.children=ue}return Ae(S.type,O,void 0,void 0,X,D)},me.createContext=function(S){return S={$$typeof:p,_currentValue:S,_currentValue2:S,_threadCount:0,Provider:null,Consumer:null},S.Provider=S,S.Consumer={$$typeof:m,_context:S},S},me.createElement=function(S,E,R){var D,O={},X=null;if(E!=null)for(D in E.key!==void 0&&(X=""+E.key),E)He.call(E,D)&&D!=="key"&&D!=="__self"&&D!=="__source"&&(O[D]=E[D]);var Q=arguments.length-2;if(Q===1)O.children=R;else if(1<Q){for(var ue=Array(Q),de=0;de<Q;de++)ue[de]=arguments[de+2];O.children=ue}if(S&&S.defaultProps)for(D in Q=S.defaultProps,Q)O[D]===void 0&&(O[D]=Q[D]);return Ae(S,X,void 0,void 0,null,O)},me.createRef=function(){return{current:null}},me.forwardRef=function(S){return{$$typeof:y,render:S}},me.isValidElement=Se,me.lazy=function(S){return{$$typeof:T,_payload:{_status:-1,_result:S},_init:U}},me.memo=function(S,E){return{$$typeof:g,type:S,compare:E===void 0?null:E}},me.startTransition=function(S){var E=W.T,R={};W.T=R;try{var D=S(),O=W.S;O!==null&&O(R,D),typeof D=="object"&&D!==null&&typeof D.then=="function"&&D.then(A,N)}catch(X){N(X)}finally{W.T=E}},me.unstable_useCacheRefresh=function(){return W.H.useCacheRefresh()},me.use=function(S){return W.H.use(S)},me.useActionState=function(S,E,R){return W.H.useActionState(S,E,R)},me.useCallback=function(S,E){return W.H.useCallback(S,E)},me.useContext=function(S){return W.H.useContext(S)},me.useDebugValue=function(){},me.useDeferredValue=function(S,E){return W.H.useDeferredValue(S,E)},me.useEffect=function(S,E,R){var D=W.H;if(typeof R=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return D.useEffect(S,E)},me.useId=function(){return W.H.useId()},me.useImperativeHandle=function(S,E,R){return W.H.useImperativeHandle(S,E,R)},me.useInsertionEffect=function(S,E){return W.H.useInsertionEffect(S,E)},me.useLayoutEffect=function(S,E){return W.H.useLayoutEffect(S,E)},me.useMemo=function(S,E){return W.H.useMemo(S,E)},me.useOptimistic=function(S,E){return W.H.useOptimistic(S,E)},me.useReducer=function(S,E,R){return W.H.useReducer(S,E,R)},me.useRef=function(S){return W.H.useRef(S)},me.useState=function(S){return W.H.useState(S)},me.useSyncExternalStore=function(S,E,R){return W.H.useSyncExternalStore(S,E,R)},me.useTransition=function(){return W.H.useTransition()},me.version="19.1.0",me}var Bm;function Ku(){return Bm||(Bm=1,Su.exports=j0()),Su.exports}var oe=Ku();const Ii=Fu(oe);var Eu={exports:{}},ya={},Cu={exports:{}},Nu={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jm;function z0(){return jm||(jm=1,function(o){function i(z,U){var N=z.length;z.push(U);e:for(;0<N;){var A=N-1>>>1,S=z[A];if(0<u(S,U))z[A]=U,z[N]=S,N=A;else break e}}function l(z){return z.length===0?null:z[0]}function s(z){if(z.length===0)return null;var U=z[0],N=z.pop();if(N!==U){z[0]=N;e:for(var A=0,S=z.length,E=S>>>1;A<E;){var R=2*(A+1)-1,D=z[R],O=R+1,X=z[O];if(0>u(D,N))O<S&&0>u(X,D)?(z[A]=X,z[O]=N,A=O):(z[A]=D,z[R]=N,A=R);else if(O<S&&0>u(X,N))z[A]=X,z[O]=N,A=O;else break e}}return U}function u(z,U){var N=z.sortIndex-U.sortIndex;return N!==0?N:z.id-U.id}if(o.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var m=performance;o.unstable_now=function(){return m.now()}}else{var p=Date,y=p.now();o.unstable_now=function(){return p.now()-y}}var v=[],g=[],T=1,C=null,_=3,L=!1,G=!1,K=!1,F=!1,$=typeof setTimeout=="function"?setTimeout:null,ee=typeof clearTimeout=="function"?clearTimeout:null,ie=typeof setImmediate<"u"?setImmediate:null;function J(z){for(var U=l(g);U!==null;){if(U.callback===null)s(g);else if(U.startTime<=z)s(g),U.sortIndex=U.expirationTime,i(v,U);else break;U=l(g)}}function W(z){if(K=!1,J(z),!G)if(l(v)!==null)G=!0,He||(He=!0,Le());else{var U=l(g);U!==null&&Ge(W,U.startTime-z)}}var He=!1,Ae=-1,be=5,Se=-1;function ze(){return F?!0:!(o.unstable_now()-Se<be)}function qe(){if(F=!1,He){var z=o.unstable_now();Se=z;var U=!0;try{e:{G=!1,K&&(K=!1,ee(Ae),Ae=-1),L=!0;var N=_;try{t:{for(J(z),C=l(v);C!==null&&!(C.expirationTime>z&&ze());){var A=C.callback;if(typeof A=="function"){C.callback=null,_=C.priorityLevel;var S=A(C.expirationTime<=z);if(z=o.unstable_now(),typeof S=="function"){C.callback=S,J(z),U=!0;break t}C===l(v)&&s(v),J(z)}else s(v);C=l(v)}if(C!==null)U=!0;else{var E=l(g);E!==null&&Ge(W,E.startTime-z),U=!1}}break e}finally{C=null,_=N,L=!1}U=void 0}}finally{U?Le():He=!1}}}var Le;if(typeof ie=="function")Le=function(){ie(qe)};else if(typeof MessageChannel<"u"){var yt=new MessageChannel,Pe=yt.port2;yt.port1.onmessage=qe,Le=function(){Pe.postMessage(null)}}else Le=function(){$(qe,0)};function Ge(z,U){Ae=$(function(){z(o.unstable_now())},U)}o.unstable_IdlePriority=5,o.unstable_ImmediatePriority=1,o.unstable_LowPriority=4,o.unstable_NormalPriority=3,o.unstable_Profiling=null,o.unstable_UserBlockingPriority=2,o.unstable_cancelCallback=function(z){z.callback=null},o.unstable_forceFrameRate=function(z){0>z||125<z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):be=0<z?Math.floor(1e3/z):5},o.unstable_getCurrentPriorityLevel=function(){return _},o.unstable_next=function(z){switch(_){case 1:case 2:case 3:var U=3;break;default:U=_}var N=_;_=U;try{return z()}finally{_=N}},o.unstable_requestPaint=function(){F=!0},o.unstable_runWithPriority=function(z,U){switch(z){case 1:case 2:case 3:case 4:case 5:break;default:z=3}var N=_;_=z;try{return U()}finally{_=N}},o.unstable_scheduleCallback=function(z,U,N){var A=o.unstable_now();switch(typeof N=="object"&&N!==null?(N=N.delay,N=typeof N=="number"&&0<N?A+N:A):N=A,z){case 1:var S=-1;break;case 2:S=250;break;case 5:S=1073741823;break;case 4:S=1e4;break;default:S=5e3}return S=N+S,z={id:T++,callback:U,priorityLevel:z,startTime:N,expirationTime:S,sortIndex:-1},N>A?(z.sortIndex=N,i(g,z),l(v)===null&&z===l(g)&&(K?(ee(Ae),Ae=-1):K=!0,Ge(W,N-A))):(z.sortIndex=S,i(v,z),G||L||(G=!0,He||(He=!0,Le()))),z},o.unstable_shouldYield=ze,o.unstable_wrapCallback=function(z){var U=_;return function(){var N=_;_=U;try{return z.apply(this,arguments)}finally{_=N}}}}(Nu)),Nu}var zm;function O0(){return zm||(zm=1,Cu.exports=z0()),Cu.exports}var Au={exports:{}},Ct={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Om;function H0(){if(Om)return Ct;Om=1;var o=Ku();function i(v){var g="https://react.dev/errors/"+v;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var T=2;T<arguments.length;T++)g+="&args[]="+encodeURIComponent(arguments[T])}return"Minified React error #"+v+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(){}var s={d:{f:l,r:function(){throw Error(i(522))},D:l,C:l,L:l,m:l,X:l,S:l,M:l},p:0,findDOMNode:null},u=Symbol.for("react.portal");function m(v,g,T){var C=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:u,key:C==null?null:""+C,children:v,containerInfo:g,implementation:T}}var p=o.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function y(v,g){if(v==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return Ct.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Ct.createPortal=function(v,g){var T=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(i(299));return m(v,g,null,T)},Ct.flushSync=function(v){var g=p.T,T=s.p;try{if(p.T=null,s.p=2,v)return v()}finally{p.T=g,s.p=T,s.d.f()}},Ct.preconnect=function(v,g){typeof v=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,s.d.C(v,g))},Ct.prefetchDNS=function(v){typeof v=="string"&&s.d.D(v)},Ct.preinit=function(v,g){if(typeof v=="string"&&g&&typeof g.as=="string"){var T=g.as,C=y(T,g.crossOrigin),_=typeof g.integrity=="string"?g.integrity:void 0,L=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;T==="style"?s.d.S(v,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:C,integrity:_,fetchPriority:L}):T==="script"&&s.d.X(v,{crossOrigin:C,integrity:_,fetchPriority:L,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},Ct.preinitModule=function(v,g){if(typeof v=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var T=y(g.as,g.crossOrigin);s.d.M(v,{crossOrigin:T,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&s.d.M(v)},Ct.preload=function(v,g){if(typeof v=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var T=g.as,C=y(T,g.crossOrigin);s.d.L(v,T,{crossOrigin:C,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},Ct.preloadModule=function(v,g){if(typeof v=="string")if(g){var T=y(g.as,g.crossOrigin);s.d.m(v,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:T,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else s.d.m(v)},Ct.requestFormReset=function(v){s.d.r(v)},Ct.unstable_batchedUpdates=function(v,g){return v(g)},Ct.useFormState=function(v,g,T){return p.H.useFormState(v,g,T)},Ct.useFormStatus=function(){return p.H.useHostTransitionStatus()},Ct.version="19.1.0",Ct}var Hm;function q0(){if(Hm)return Au.exports;Hm=1;function o(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(o)}catch(i){console.error(i)}}return o(),Au.exports=H0(),Au.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qm;function P0(){if(qm)return ya;qm=1;var o=O0(),i=Ku(),l=q0();function s(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function u(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function m(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function p(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function y(e){if(m(e)!==e)throw Error(s(188))}function v(e){var t=e.alternate;if(!t){if(t=m(e),t===null)throw Error(s(188));return t!==e?null:e}for(var n=e,a=t;;){var r=n.return;if(r===null)break;var f=r.alternate;if(f===null){if(a=r.return,a!==null){n=a;continue}break}if(r.child===f.child){for(f=r.child;f;){if(f===n)return y(r),e;if(f===a)return y(r),t;f=f.sibling}throw Error(s(188))}if(n.return!==a.return)n=r,a=f;else{for(var x=!1,b=r.child;b;){if(b===n){x=!0,n=r,a=f;break}if(b===a){x=!0,a=r,n=f;break}b=b.sibling}if(!x){for(b=f.child;b;){if(b===n){x=!0,n=f,a=r;break}if(b===a){x=!0,a=f,n=r;break}b=b.sibling}if(!x)throw Error(s(189))}}if(n.alternate!==a)throw Error(s(190))}if(n.tag!==3)throw Error(s(188));return n.stateNode.current===n?e:t}function g(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=g(e),t!==null)return t;e=e.sibling}return null}var T=Object.assign,C=Symbol.for("react.element"),_=Symbol.for("react.transitional.element"),L=Symbol.for("react.portal"),G=Symbol.for("react.fragment"),K=Symbol.for("react.strict_mode"),F=Symbol.for("react.profiler"),$=Symbol.for("react.provider"),ee=Symbol.for("react.consumer"),ie=Symbol.for("react.context"),J=Symbol.for("react.forward_ref"),W=Symbol.for("react.suspense"),He=Symbol.for("react.suspense_list"),Ae=Symbol.for("react.memo"),be=Symbol.for("react.lazy"),Se=Symbol.for("react.activity"),ze=Symbol.for("react.memo_cache_sentinel"),qe=Symbol.iterator;function Le(e){return e===null||typeof e!="object"?null:(e=qe&&e[qe]||e["@@iterator"],typeof e=="function"?e:null)}var yt=Symbol.for("react.client.reference");function Pe(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===yt?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case G:return"Fragment";case F:return"Profiler";case K:return"StrictMode";case W:return"Suspense";case He:return"SuspenseList";case Se:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case L:return"Portal";case ie:return(e.displayName||"Context")+".Provider";case ee:return(e._context.displayName||"Context")+".Consumer";case J:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Ae:return t=e.displayName||null,t!==null?t:Pe(e.type)||"Memo";case be:t=e._payload,e=e._init;try{return Pe(e(t))}catch{}}return null}var Ge=Array.isArray,z=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,U=l.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,N={pending:!1,data:null,method:null,action:null},A=[],S=-1;function E(e){return{current:e}}function R(e){0>S||(e.current=A[S],A[S]=null,S--)}function D(e,t){S++,A[S]=e.current,e.current=t}var O=E(null),X=E(null),Q=E(null),ue=E(null);function de(e,t){switch(D(Q,t),D(X,e),D(O,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?um(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=um(t),e=cm(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}R(O),D(O,e)}function Ie(){R(O),R(X),R(Q)}function ot(e){e.memoizedState!==null&&D(ue,e);var t=O.current,n=cm(t,e.type);t!==n&&(D(X,e),D(O,n))}function dt(e){X.current===e&&(R(O),R(X)),ue.current===e&&(R(ue),da._currentValue=N)}var Vt=Object.prototype.hasOwnProperty,Pt=o.unstable_scheduleCallback,Ln=o.unstable_cancelCallback,us=o.unstable_shouldYield,cs=o.unstable_requestPaint,Yt=o.unstable_now,ds=o.unstable_getCurrentPriorityLevel,Ma=o.unstable_ImmediatePriority,bl=o.unstable_UserBlockingPriority,ci=o.unstable_NormalPriority,_a=o.unstable_LowPriority,wa=o.unstable_IdlePriority,fs=o.log,ms=o.unstable_setDisableYieldValue,di=null,Ye=null;function an(e){if(typeof fs=="function"&&ms(e),Ye&&typeof Ye.setStrictMode=="function")try{Ye.setStrictMode(di,e)}catch{}}var bt=Math.clz32?Math.clz32:te,q=Math.log,Z=Math.LN2;function te(e){return e>>>=0,e===0?32:31-(q(e)/Z|0)|0}var ge=256,ye=4194304;function ae(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function _e(e,t,n){var a=e.pendingLanes;if(a===0)return 0;var r=0,f=e.suspendedLanes,x=e.pingedLanes;e=e.warmLanes;var b=a&134217727;return b!==0?(a=b&~f,a!==0?r=ae(a):(x&=b,x!==0?r=ae(x):n||(n=b&~e,n!==0&&(r=ae(n))))):(b=a&~f,b!==0?r=ae(b):x!==0?r=ae(x):n||(n=a&~e,n!==0&&(r=ae(n)))),r===0?0:t!==0&&t!==r&&(t&f)===0&&(f=r&-r,n=t&-t,f>=n||f===32&&(n&4194048)!==0)?t:r}function Xe(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function on(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function kt(){var e=ge;return ge<<=1,(ge&4194048)===0&&(ge=256),e}function Lt(){var e=ye;return ye<<=1,(ye&62914560)===0&&(ye=4194304),e}function we(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Me(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function $e(e,t,n,a,r,f){var x=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var b=e.entanglements,M=e.expirationTimes,k=e.hiddenUpdates;for(n=x&~n;0<n;){var H=31-bt(n),Y=1<<H;b[H]=0,M[H]=-1;var B=k[H];if(B!==null)for(k[H]=null,H=0;H<B.length;H++){var j=B[H];j!==null&&(j.lane&=-536870913)}n&=~Y}a!==0&&nt(e,a,0),f!==0&&r===0&&e.tag!==0&&(e.suspendedLanes|=f&~(x&~t))}function nt(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var a=31-bt(t);e.entangledLanes|=t,e.entanglements[a]=e.entanglements[a]|1073741824|n&4194090}function ft(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var a=31-bt(n),r=1<<a;r&t|e[a]&t&&(e[a]|=t),n&=~r}}function st(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function _t(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function St(){var e=U.p;return e!==0?e:(e=window.event,e===void 0?32:wm(e.type))}function fn(e,t){var n=U.p;try{return U.p=e,t()}finally{U.p=n}}var Ft=Math.random().toString(36).slice(2),We="__reactFiber$"+Ft,rt="__reactProps$"+Ft,it="__reactContainer$"+Ft,mn="__reactEvents$"+Ft,Sl="__reactListeners$"+Ft,hs="__reactHandles$"+Ft,Ui="__reactResources$"+Ft,hn="__reactMarker$"+Ft;function Vi(e){delete e[We],delete e[rt],delete e[mn],delete e[Sl],delete e[hs]}function ki(e){var t=e[We];if(t)return t;for(var n=e.parentNode;n;){if(t=n[it]||n[We]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=hm(e);e!==null;){if(n=e[We])return n;e=hm(e)}return t}e=n,n=e.parentNode}return null}function Li(e){if(e=e[We]||e[it]){var t=e.tag;if(t===5||t===6||t===13||t===26||t===27||t===3)return e}return null}function El(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(s(33))}function Gi(e){var t=e[Ui];return t||(t=e[Ui]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function mt(e){e[hn]=!0}var Zu=new Set,$u={};function fi(e,t){Bi(e,t),Bi(e+"Capture",t)}function Bi(e,t){for($u[e]=t,e=0;e<t.length;e++)Zu.add(t[e])}var _g=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Wu={},ec={};function wg(e){return Vt.call(ec,e)?!0:Vt.call(Wu,e)?!1:_g.test(e)?ec[e]=!0:(Wu[e]=!0,!1)}function Ra(e,t,n){if(wg(t))if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var a=t.toLowerCase().slice(0,5);if(a!=="data-"&&a!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+n)}}function Da(e,t,n){if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+n)}}function bn(e,t,n,a){if(a===null)e.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttributeNS(t,n,""+a)}}var gs,tc;function ji(e){if(gs===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);gs=t&&t[1]||"",tc=-1<n.stack.indexOf(`
    at`)?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return`
`+gs+e+tc}var ps=!1;function ys(e,t){if(!e||ps)return"";ps=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var a={DetermineComponentFrameRoot:function(){try{if(t){var Y=function(){throw Error()};if(Object.defineProperty(Y.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Y,[])}catch(j){var B=j}Reflect.construct(e,[],Y)}else{try{Y.call()}catch(j){B=j}e.call(Y.prototype)}}else{try{throw Error()}catch(j){B=j}(Y=e())&&typeof Y.catch=="function"&&Y.catch(function(){})}}catch(j){if(j&&B&&typeof j.stack=="string")return[j.stack,B.stack]}return[null,null]}};a.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var r=Object.getOwnPropertyDescriptor(a.DetermineComponentFrameRoot,"name");r&&r.configurable&&Object.defineProperty(a.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=a.DetermineComponentFrameRoot(),x=f[0],b=f[1];if(x&&b){var M=x.split(`
`),k=b.split(`
`);for(r=a=0;a<M.length&&!M[a].includes("DetermineComponentFrameRoot");)a++;for(;r<k.length&&!k[r].includes("DetermineComponentFrameRoot");)r++;if(a===M.length||r===k.length)for(a=M.length-1,r=k.length-1;1<=a&&0<=r&&M[a]!==k[r];)r--;for(;1<=a&&0<=r;a--,r--)if(M[a]!==k[r]){if(a!==1||r!==1)do if(a--,r--,0>r||M[a]!==k[r]){var H=`
`+M[a].replace(" at new "," at ");return e.displayName&&H.includes("<anonymous>")&&(H=H.replace("<anonymous>",e.displayName)),H}while(1<=a&&0<=r);break}}}finally{ps=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?ji(n):""}function Rg(e){switch(e.tag){case 26:case 27:case 5:return ji(e.type);case 16:return ji("Lazy");case 13:return ji("Suspense");case 19:return ji("SuspenseList");case 0:case 15:return ys(e.type,!1);case 11:return ys(e.type.render,!1);case 1:return ys(e.type,!0);case 31:return ji("Activity");default:return""}}function nc(e){try{var t="";do t+=Rg(e),e=e.return;while(e);return t}catch(n){return`
Error generating stack: `+n.message+`
`+n.stack}}function Kt(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function ic(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Dg(e){var t=ic(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),a=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var r=n.get,f=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return r.call(this)},set:function(x){a=""+x,f.call(this,x)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return a},setValue:function(x){a=""+x},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Ia(e){e._valueTracker||(e._valueTracker=Dg(e))}function lc(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),a="";return e&&(a=ic(e)?e.checked?"true":"false":e.value),e=a,e!==n?(t.setValue(e),!0):!1}function Ua(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var Ig=/[\n"\\]/g;function Xt(e){return e.replace(Ig,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function vs(e,t,n,a,r,f,x,b){e.name="",x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"?e.type=x:e.removeAttribute("type"),t!=null?x==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+Kt(t)):e.value!==""+Kt(t)&&(e.value=""+Kt(t)):x!=="submit"&&x!=="reset"||e.removeAttribute("value"),t!=null?xs(e,x,Kt(t)):n!=null?xs(e,x,Kt(n)):a!=null&&e.removeAttribute("value"),r==null&&f!=null&&(e.defaultChecked=!!f),r!=null&&(e.checked=r&&typeof r!="function"&&typeof r!="symbol"),b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?e.name=""+Kt(b):e.removeAttribute("name")}function ac(e,t,n,a,r,f,x,b){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(e.type=f),t!=null||n!=null){if(!(f!=="submit"&&f!=="reset"||t!=null))return;n=n!=null?""+Kt(n):"",t=t!=null?""+Kt(t):n,b||t===e.value||(e.value=t),e.defaultValue=t}a=a??r,a=typeof a!="function"&&typeof a!="symbol"&&!!a,e.checked=b?e.checked:!!a,e.defaultChecked=!!a,x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"&&(e.name=x)}function xs(e,t,n){t==="number"&&Ua(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function zi(e,t,n,a){if(e=e.options,t){t={};for(var r=0;r<n.length;r++)t["$"+n[r]]=!0;for(n=0;n<e.length;n++)r=t.hasOwnProperty("$"+e[n].value),e[n].selected!==r&&(e[n].selected=r),r&&a&&(e[n].defaultSelected=!0)}else{for(n=""+Kt(n),t=null,r=0;r<e.length;r++){if(e[r].value===n){e[r].selected=!0,a&&(e[r].defaultSelected=!0);return}t!==null||e[r].disabled||(t=e[r])}t!==null&&(t.selected=!0)}}function oc(e,t,n){if(t!=null&&(t=""+Kt(t),t!==e.value&&(e.value=t),n==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=n!=null?""+Kt(n):""}function sc(e,t,n,a){if(t==null){if(a!=null){if(n!=null)throw Error(s(92));if(Ge(a)){if(1<a.length)throw Error(s(93));a=a[0]}n=a}n==null&&(n=""),t=n}n=Kt(t),e.defaultValue=n,a=e.textContent,a===n&&a!==""&&a!==null&&(e.value=a)}function Oi(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Ug=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function rc(e,t,n){var a=t.indexOf("--")===0;n==null||typeof n=="boolean"||n===""?a?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":a?e.setProperty(t,n):typeof n!="number"||n===0||Ug.has(t)?t==="float"?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function uc(e,t,n){if(t!=null&&typeof t!="object")throw Error(s(62));if(e=e.style,n!=null){for(var a in n)!n.hasOwnProperty(a)||t!=null&&t.hasOwnProperty(a)||(a.indexOf("--")===0?e.setProperty(a,""):a==="float"?e.cssFloat="":e[a]="");for(var r in t)a=t[r],t.hasOwnProperty(r)&&n[r]!==a&&rc(e,r,a)}else for(var f in t)t.hasOwnProperty(f)&&rc(e,f,t[f])}function Ts(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Vg=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),kg=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Va(e){return kg.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var bs=null;function Ss(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Hi=null,qi=null;function cc(e){var t=Li(e);if(t&&(e=t.stateNode)){var n=e[rt]||null;e:switch(e=t.stateNode,t.type){case"input":if(vs(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+Xt(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var a=n[t];if(a!==e&&a.form===e.form){var r=a[rt]||null;if(!r)throw Error(s(90));vs(a,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name)}}for(t=0;t<n.length;t++)a=n[t],a.form===e.form&&lc(a)}break e;case"textarea":oc(e,n.value,n.defaultValue);break e;case"select":t=n.value,t!=null&&zi(e,!!n.multiple,t,!1)}}}var Es=!1;function dc(e,t,n){if(Es)return e(t,n);Es=!0;try{var a=e(t);return a}finally{if(Es=!1,(Hi!==null||qi!==null)&&(To(),Hi&&(t=Hi,e=qi,qi=Hi=null,cc(t),e)))for(t=0;t<e.length;t++)cc(e[t])}}function Cl(e,t){var n=e.stateNode;if(n===null)return null;var a=n[rt]||null;if(a===null)return null;n=a[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(a=!a.disabled)||(e=e.type,a=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!a;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(s(231,t,typeof n));return n}var Sn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Cs=!1;if(Sn)try{var Nl={};Object.defineProperty(Nl,"passive",{get:function(){Cs=!0}}),window.addEventListener("test",Nl,Nl),window.removeEventListener("test",Nl,Nl)}catch{Cs=!1}var Gn=null,Ns=null,ka=null;function fc(){if(ka)return ka;var e,t=Ns,n=t.length,a,r="value"in Gn?Gn.value:Gn.textContent,f=r.length;for(e=0;e<n&&t[e]===r[e];e++);var x=n-e;for(a=1;a<=x&&t[n-a]===r[f-a];a++);return ka=r.slice(e,1<a?1-a:void 0)}function La(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Ga(){return!0}function mc(){return!1}function wt(e){function t(n,a,r,f,x){this._reactName=n,this._targetInst=r,this.type=a,this.nativeEvent=f,this.target=x,this.currentTarget=null;for(var b in e)e.hasOwnProperty(b)&&(n=e[b],this[b]=n?n(f):f[b]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Ga:mc,this.isPropagationStopped=mc,this}return T(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Ga)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Ga)},persist:function(){},isPersistent:Ga}),t}var mi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ba=wt(mi),Al=T({},mi,{view:0,detail:0}),Lg=wt(Al),As,Ms,Ml,ja=T({},Al,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ws,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Ml&&(Ml&&e.type==="mousemove"?(As=e.screenX-Ml.screenX,Ms=e.screenY-Ml.screenY):Ms=As=0,Ml=e),As)},movementY:function(e){return"movementY"in e?e.movementY:Ms}}),hc=wt(ja),Gg=T({},ja,{dataTransfer:0}),Bg=wt(Gg),jg=T({},Al,{relatedTarget:0}),_s=wt(jg),zg=T({},mi,{animationName:0,elapsedTime:0,pseudoElement:0}),Og=wt(zg),Hg=T({},mi,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),qg=wt(Hg),Pg=T({},mi,{data:0}),gc=wt(Pg),Yg={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Fg={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Kg={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Xg(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Kg[e])?!!t[e]:!1}function ws(){return Xg}var Qg=T({},Al,{key:function(e){if(e.key){var t=Yg[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=La(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Fg[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ws,charCode:function(e){return e.type==="keypress"?La(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?La(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Jg=wt(Qg),Zg=T({},ja,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),pc=wt(Zg),$g=T({},Al,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ws}),Wg=wt($g),ep=T({},mi,{propertyName:0,elapsedTime:0,pseudoElement:0}),tp=wt(ep),np=T({},ja,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),ip=wt(np),lp=T({},mi,{newState:0,oldState:0}),ap=wt(lp),op=[9,13,27,32],Rs=Sn&&"CompositionEvent"in window,_l=null;Sn&&"documentMode"in document&&(_l=document.documentMode);var sp=Sn&&"TextEvent"in window&&!_l,yc=Sn&&(!Rs||_l&&8<_l&&11>=_l),vc=" ",xc=!1;function Tc(e,t){switch(e){case"keyup":return op.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function bc(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Pi=!1;function rp(e,t){switch(e){case"compositionend":return bc(t);case"keypress":return t.which!==32?null:(xc=!0,vc);case"textInput":return e=t.data,e===vc&&xc?null:e;default:return null}}function up(e,t){if(Pi)return e==="compositionend"||!Rs&&Tc(e,t)?(e=fc(),ka=Ns=Gn=null,Pi=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return yc&&t.locale!=="ko"?null:t.data;default:return null}}var cp={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Sc(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!cp[e.type]:t==="textarea"}function Ec(e,t,n,a){Hi?qi?qi.push(a):qi=[a]:Hi=a,t=Ao(t,"onChange"),0<t.length&&(n=new Ba("onChange","change",null,n,a),e.push({event:n,listeners:t}))}var wl=null,Rl=null;function dp(e){lm(e,0)}function za(e){var t=El(e);if(lc(t))return e}function Cc(e,t){if(e==="change")return t}var Nc=!1;if(Sn){var Ds;if(Sn){var Is="oninput"in document;if(!Is){var Ac=document.createElement("div");Ac.setAttribute("oninput","return;"),Is=typeof Ac.oninput=="function"}Ds=Is}else Ds=!1;Nc=Ds&&(!document.documentMode||9<document.documentMode)}function Mc(){wl&&(wl.detachEvent("onpropertychange",_c),Rl=wl=null)}function _c(e){if(e.propertyName==="value"&&za(Rl)){var t=[];Ec(t,Rl,e,Ss(e)),dc(dp,t)}}function fp(e,t,n){e==="focusin"?(Mc(),wl=t,Rl=n,wl.attachEvent("onpropertychange",_c)):e==="focusout"&&Mc()}function mp(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return za(Rl)}function hp(e,t){if(e==="click")return za(t)}function gp(e,t){if(e==="input"||e==="change")return za(t)}function pp(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Gt=typeof Object.is=="function"?Object.is:pp;function Dl(e,t){if(Gt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),a=Object.keys(t);if(n.length!==a.length)return!1;for(a=0;a<n.length;a++){var r=n[a];if(!Vt.call(t,r)||!Gt(e[r],t[r]))return!1}return!0}function wc(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Rc(e,t){var n=wc(e);e=0;for(var a;n;){if(n.nodeType===3){if(a=e+n.textContent.length,e<=t&&a>=t)return{node:n,offset:t-e};e=a}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=wc(n)}}function Dc(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Dc(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Ic(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=Ua(e.document);t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Ua(e.document)}return t}function Us(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var yp=Sn&&"documentMode"in document&&11>=document.documentMode,Yi=null,Vs=null,Il=null,ks=!1;function Uc(e,t,n){var a=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;ks||Yi==null||Yi!==Ua(a)||(a=Yi,"selectionStart"in a&&Us(a)?a={start:a.selectionStart,end:a.selectionEnd}:(a=(a.ownerDocument&&a.ownerDocument.defaultView||window).getSelection(),a={anchorNode:a.anchorNode,anchorOffset:a.anchorOffset,focusNode:a.focusNode,focusOffset:a.focusOffset}),Il&&Dl(Il,a)||(Il=a,a=Ao(Vs,"onSelect"),0<a.length&&(t=new Ba("onSelect","select",null,t,n),e.push({event:t,listeners:a}),t.target=Yi)))}function hi(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Fi={animationend:hi("Animation","AnimationEnd"),animationiteration:hi("Animation","AnimationIteration"),animationstart:hi("Animation","AnimationStart"),transitionrun:hi("Transition","TransitionRun"),transitionstart:hi("Transition","TransitionStart"),transitioncancel:hi("Transition","TransitionCancel"),transitionend:hi("Transition","TransitionEnd")},Ls={},Vc={};Sn&&(Vc=document.createElement("div").style,"AnimationEvent"in window||(delete Fi.animationend.animation,delete Fi.animationiteration.animation,delete Fi.animationstart.animation),"TransitionEvent"in window||delete Fi.transitionend.transition);function gi(e){if(Ls[e])return Ls[e];if(!Fi[e])return e;var t=Fi[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Vc)return Ls[e]=t[n];return e}var kc=gi("animationend"),Lc=gi("animationiteration"),Gc=gi("animationstart"),vp=gi("transitionrun"),xp=gi("transitionstart"),Tp=gi("transitioncancel"),Bc=gi("transitionend"),jc=new Map,Gs="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Gs.push("scrollEnd");function sn(e,t){jc.set(e,t),fi(t,[e])}var zc=new WeakMap;function Qt(e,t){if(typeof e=="object"&&e!==null){var n=zc.get(e);return n!==void 0?n:(t={value:e,source:t,stack:nc(t)},zc.set(e,t),t)}return{value:e,source:t,stack:nc(t)}}var Jt=[],Ki=0,Bs=0;function Oa(){for(var e=Ki,t=Bs=Ki=0;t<e;){var n=Jt[t];Jt[t++]=null;var a=Jt[t];Jt[t++]=null;var r=Jt[t];Jt[t++]=null;var f=Jt[t];if(Jt[t++]=null,a!==null&&r!==null){var x=a.pending;x===null?r.next=r:(r.next=x.next,x.next=r),a.pending=r}f!==0&&Oc(n,r,f)}}function Ha(e,t,n,a){Jt[Ki++]=e,Jt[Ki++]=t,Jt[Ki++]=n,Jt[Ki++]=a,Bs|=a,e.lanes|=a,e=e.alternate,e!==null&&(e.lanes|=a)}function js(e,t,n,a){return Ha(e,t,n,a),qa(e)}function Xi(e,t){return Ha(e,null,null,t),qa(e)}function Oc(e,t,n){e.lanes|=n;var a=e.alternate;a!==null&&(a.lanes|=n);for(var r=!1,f=e.return;f!==null;)f.childLanes|=n,a=f.alternate,a!==null&&(a.childLanes|=n),f.tag===22&&(e=f.stateNode,e===null||e._visibility&1||(r=!0)),e=f,f=f.return;return e.tag===3?(f=e.stateNode,r&&t!==null&&(r=31-bt(n),e=f.hiddenUpdates,a=e[r],a===null?e[r]=[t]:a.push(t),t.lane=n|536870912),f):null}function qa(e){if(50<ia)throw ia=0,Yr=null,Error(s(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var Qi={};function bp(e,t,n,a){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=a,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Bt(e,t,n,a){return new bp(e,t,n,a)}function zs(e){return e=e.prototype,!(!e||!e.isReactComponent)}function En(e,t){var n=e.alternate;return n===null?(n=Bt(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&65011712,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function Hc(e,t){e.flags&=65011714;var n=e.alternate;return n===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function Pa(e,t,n,a,r,f){var x=0;if(a=e,typeof e=="function")zs(e)&&(x=1);else if(typeof e=="string")x=E0(e,n,O.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case Se:return e=Bt(31,n,t,r),e.elementType=Se,e.lanes=f,e;case G:return pi(n.children,r,f,t);case K:x=8,r|=24;break;case F:return e=Bt(12,n,t,r|2),e.elementType=F,e.lanes=f,e;case W:return e=Bt(13,n,t,r),e.elementType=W,e.lanes=f,e;case He:return e=Bt(19,n,t,r),e.elementType=He,e.lanes=f,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case $:case ie:x=10;break e;case ee:x=9;break e;case J:x=11;break e;case Ae:x=14;break e;case be:x=16,a=null;break e}x=29,n=Error(s(130,e===null?"null":typeof e,"")),a=null}return t=Bt(x,n,t,r),t.elementType=e,t.type=a,t.lanes=f,t}function pi(e,t,n,a){return e=Bt(7,e,a,t),e.lanes=n,e}function Os(e,t,n){return e=Bt(6,e,null,t),e.lanes=n,e}function Hs(e,t,n){return t=Bt(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var Ji=[],Zi=0,Ya=null,Fa=0,Zt=[],$t=0,yi=null,Cn=1,Nn="";function vi(e,t){Ji[Zi++]=Fa,Ji[Zi++]=Ya,Ya=e,Fa=t}function qc(e,t,n){Zt[$t++]=Cn,Zt[$t++]=Nn,Zt[$t++]=yi,yi=e;var a=Cn;e=Nn;var r=32-bt(a)-1;a&=~(1<<r),n+=1;var f=32-bt(t)+r;if(30<f){var x=r-r%5;f=(a&(1<<x)-1).toString(32),a>>=x,r-=x,Cn=1<<32-bt(t)+r|n<<r|a,Nn=f+e}else Cn=1<<f|n<<r|a,Nn=e}function qs(e){e.return!==null&&(vi(e,1),qc(e,1,0))}function Ps(e){for(;e===Ya;)Ya=Ji[--Zi],Ji[Zi]=null,Fa=Ji[--Zi],Ji[Zi]=null;for(;e===yi;)yi=Zt[--$t],Zt[$t]=null,Nn=Zt[--$t],Zt[$t]=null,Cn=Zt[--$t],Zt[$t]=null}var Mt=null,Qe=null,Ce=!1,xi=null,gn=!1,Ys=Error(s(519));function Ti(e){var t=Error(s(418,""));throw kl(Qt(t,e)),Ys}function Pc(e){var t=e.stateNode,n=e.type,a=e.memoizedProps;switch(t[We]=e,t[rt]=a,n){case"dialog":xe("cancel",t),xe("close",t);break;case"iframe":case"object":case"embed":xe("load",t);break;case"video":case"audio":for(n=0;n<aa.length;n++)xe(aa[n],t);break;case"source":xe("error",t);break;case"img":case"image":case"link":xe("error",t),xe("load",t);break;case"details":xe("toggle",t);break;case"input":xe("invalid",t),ac(t,a.value,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name,!0),Ia(t);break;case"select":xe("invalid",t);break;case"textarea":xe("invalid",t),sc(t,a.value,a.defaultValue,a.children),Ia(t)}n=a.children,typeof n!="string"&&typeof n!="number"&&typeof n!="bigint"||t.textContent===""+n||a.suppressHydrationWarning===!0||rm(t.textContent,n)?(a.popover!=null&&(xe("beforetoggle",t),xe("toggle",t)),a.onScroll!=null&&xe("scroll",t),a.onScrollEnd!=null&&xe("scrollend",t),a.onClick!=null&&(t.onclick=Mo),t=!0):t=!1,t||Ti(e)}function Yc(e){for(Mt=e.return;Mt;)switch(Mt.tag){case 5:case 13:gn=!1;return;case 27:case 3:gn=!0;return;default:Mt=Mt.return}}function Ul(e){if(e!==Mt)return!1;if(!Ce)return Yc(e),Ce=!0,!1;var t=e.tag,n;if((n=t!==3&&t!==27)&&((n=t===5)&&(n=e.type,n=!(n!=="form"&&n!=="button")||su(e.type,e.memoizedProps)),n=!n),n&&Qe&&Ti(e),Yc(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8)if(n=e.data,n==="/$"){if(t===0){Qe=un(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++;e=e.nextSibling}Qe=null}}else t===27?(t=Qe,Wn(e.type)?(e=du,du=null,Qe=e):Qe=t):Qe=Mt?un(e.stateNode.nextSibling):null;return!0}function Vl(){Qe=Mt=null,Ce=!1}function Fc(){var e=xi;return e!==null&&(It===null?It=e:It.push.apply(It,e),xi=null),e}function kl(e){xi===null?xi=[e]:xi.push(e)}var Fs=E(null),bi=null,An=null;function Bn(e,t,n){D(Fs,t._currentValue),t._currentValue=n}function Mn(e){e._currentValue=Fs.current,R(Fs)}function Ks(e,t,n){for(;e!==null;){var a=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,a!==null&&(a.childLanes|=t)):a!==null&&(a.childLanes&t)!==t&&(a.childLanes|=t),e===n)break;e=e.return}}function Xs(e,t,n,a){var r=e.child;for(r!==null&&(r.return=e);r!==null;){var f=r.dependencies;if(f!==null){var x=r.child;f=f.firstContext;e:for(;f!==null;){var b=f;f=r;for(var M=0;M<t.length;M++)if(b.context===t[M]){f.lanes|=n,b=f.alternate,b!==null&&(b.lanes|=n),Ks(f.return,n,e),a||(x=null);break e}f=b.next}}else if(r.tag===18){if(x=r.return,x===null)throw Error(s(341));x.lanes|=n,f=x.alternate,f!==null&&(f.lanes|=n),Ks(x,n,e),x=null}else x=r.child;if(x!==null)x.return=r;else for(x=r;x!==null;){if(x===e){x=null;break}if(r=x.sibling,r!==null){r.return=x.return,x=r;break}x=x.return}r=x}}function Ll(e,t,n,a){e=null;for(var r=t,f=!1;r!==null;){if(!f){if((r.flags&524288)!==0)f=!0;else if((r.flags&262144)!==0)break}if(r.tag===10){var x=r.alternate;if(x===null)throw Error(s(387));if(x=x.memoizedProps,x!==null){var b=r.type;Gt(r.pendingProps.value,x.value)||(e!==null?e.push(b):e=[b])}}else if(r===ue.current){if(x=r.alternate,x===null)throw Error(s(387));x.memoizedState.memoizedState!==r.memoizedState.memoizedState&&(e!==null?e.push(da):e=[da])}r=r.return}e!==null&&Xs(t,e,n,a),t.flags|=262144}function Ka(e){for(e=e.firstContext;e!==null;){if(!Gt(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Si(e){bi=e,An=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Et(e){return Kc(bi,e)}function Xa(e,t){return bi===null&&Si(e),Kc(e,t)}function Kc(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},An===null){if(e===null)throw Error(s(308));An=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else An=An.next=t;return n}var Sp=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(n,a){e.push(a)}};this.abort=function(){t.aborted=!0,e.forEach(function(n){return n()})}},Ep=o.unstable_scheduleCallback,Cp=o.unstable_NormalPriority,ut={$$typeof:ie,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Qs(){return{controller:new Sp,data:new Map,refCount:0}}function Gl(e){e.refCount--,e.refCount===0&&Ep(Cp,function(){e.controller.abort()})}var Bl=null,Js=0,$i=0,Wi=null;function Np(e,t){if(Bl===null){var n=Bl=[];Js=0,$i=$r(),Wi={status:"pending",value:void 0,then:function(a){n.push(a)}}}return Js++,t.then(Xc,Xc),t}function Xc(){if(--Js===0&&Bl!==null){Wi!==null&&(Wi.status="fulfilled");var e=Bl;Bl=null,$i=0,Wi=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function Ap(e,t){var n=[],a={status:"pending",value:null,reason:null,then:function(r){n.push(r)}};return e.then(function(){a.status="fulfilled",a.value=t;for(var r=0;r<n.length;r++)(0,n[r])(t)},function(r){for(a.status="rejected",a.reason=r,r=0;r<n.length;r++)(0,n[r])(void 0)}),a}var Qc=z.S;z.S=function(e,t){typeof t=="object"&&t!==null&&typeof t.then=="function"&&Np(e,t),Qc!==null&&Qc(e,t)};var Ei=E(null);function Zs(){var e=Ei.current;return e!==null?e:Oe.pooledCache}function Qa(e,t){t===null?D(Ei,Ei.current):D(Ei,t.pool)}function Jc(){var e=Zs();return e===null?null:{parent:ut._currentValue,pool:e}}var jl=Error(s(460)),Zc=Error(s(474)),Ja=Error(s(542)),$s={then:function(){}};function $c(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Za(){}function Wc(e,t,n){switch(n=e[n],n===void 0?e.push(t):n!==t&&(t.then(Za,Za),t=n),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,td(e),e;default:if(typeof t.status=="string")t.then(Za,Za);else{if(e=Oe,e!==null&&100<e.shellSuspendCounter)throw Error(s(482));e=t,e.status="pending",e.then(function(a){if(t.status==="pending"){var r=t;r.status="fulfilled",r.value=a}},function(a){if(t.status==="pending"){var r=t;r.status="rejected",r.reason=a}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,td(e),e}throw zl=t,jl}}var zl=null;function ed(){if(zl===null)throw Error(s(459));var e=zl;return zl=null,e}function td(e){if(e===jl||e===Ja)throw Error(s(483))}var jn=!1;function Ws(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function er(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function zn(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function On(e,t,n){var a=e.updateQueue;if(a===null)return null;if(a=a.shared,(Re&2)!==0){var r=a.pending;return r===null?t.next=t:(t.next=r.next,r.next=t),a.pending=t,t=qa(e),Oc(e,null,n),t}return Ha(e,a,t,n),qa(e)}function Ol(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194048)!==0)){var a=t.lanes;a&=e.pendingLanes,n|=a,t.lanes=n,ft(e,n)}}function tr(e,t){var n=e.updateQueue,a=e.alternate;if(a!==null&&(a=a.updateQueue,n===a)){var r=null,f=null;if(n=n.firstBaseUpdate,n!==null){do{var x={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};f===null?r=f=x:f=f.next=x,n=n.next}while(n!==null);f===null?r=f=t:f=f.next=t}else r=f=t;n={baseState:a.baseState,firstBaseUpdate:r,lastBaseUpdate:f,shared:a.shared,callbacks:a.callbacks},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var nr=!1;function Hl(){if(nr){var e=Wi;if(e!==null)throw e}}function ql(e,t,n,a){nr=!1;var r=e.updateQueue;jn=!1;var f=r.firstBaseUpdate,x=r.lastBaseUpdate,b=r.shared.pending;if(b!==null){r.shared.pending=null;var M=b,k=M.next;M.next=null,x===null?f=k:x.next=k,x=M;var H=e.alternate;H!==null&&(H=H.updateQueue,b=H.lastBaseUpdate,b!==x&&(b===null?H.firstBaseUpdate=k:b.next=k,H.lastBaseUpdate=M))}if(f!==null){var Y=r.baseState;x=0,H=k=M=null,b=f;do{var B=b.lane&-536870913,j=B!==b.lane;if(j?(Te&B)===B:(a&B)===B){B!==0&&B===$i&&(nr=!0),H!==null&&(H=H.next={lane:0,tag:b.tag,payload:b.payload,callback:null,next:null});e:{var ce=e,se=b;B=t;var ke=n;switch(se.tag){case 1:if(ce=se.payload,typeof ce=="function"){Y=ce.call(ke,Y,B);break e}Y=ce;break e;case 3:ce.flags=ce.flags&-65537|128;case 0:if(ce=se.payload,B=typeof ce=="function"?ce.call(ke,Y,B):ce,B==null)break e;Y=T({},Y,B);break e;case 2:jn=!0}}B=b.callback,B!==null&&(e.flags|=64,j&&(e.flags|=8192),j=r.callbacks,j===null?r.callbacks=[B]:j.push(B))}else j={lane:B,tag:b.tag,payload:b.payload,callback:b.callback,next:null},H===null?(k=H=j,M=Y):H=H.next=j,x|=B;if(b=b.next,b===null){if(b=r.shared.pending,b===null)break;j=b,b=j.next,j.next=null,r.lastBaseUpdate=j,r.shared.pending=null}}while(!0);H===null&&(M=Y),r.baseState=M,r.firstBaseUpdate=k,r.lastBaseUpdate=H,f===null&&(r.shared.lanes=0),Qn|=x,e.lanes=x,e.memoizedState=Y}}function nd(e,t){if(typeof e!="function")throw Error(s(191,e));e.call(t)}function id(e,t){var n=e.callbacks;if(n!==null)for(e.callbacks=null,e=0;e<n.length;e++)nd(n[e],t)}var el=E(null),$a=E(0);function ld(e,t){e=Vn,D($a,e),D(el,t),Vn=e|t.baseLanes}function ir(){D($a,Vn),D(el,el.current)}function lr(){Vn=$a.current,R(el),R($a)}var Hn=0,he=null,Ue=null,lt=null,Wa=!1,tl=!1,Ci=!1,eo=0,Pl=0,nl=null,Mp=0;function et(){throw Error(s(321))}function ar(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Gt(e[n],t[n]))return!1;return!0}function or(e,t,n,a,r,f){return Hn=f,he=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,z.H=e===null||e.memoizedState===null?Od:Hd,Ci=!1,f=n(a,r),Ci=!1,tl&&(f=od(t,n,a,r)),ad(e),f}function ad(e){z.H=oo;var t=Ue!==null&&Ue.next!==null;if(Hn=0,lt=Ue=he=null,Wa=!1,Pl=0,nl=null,t)throw Error(s(300));e===null||ht||(e=e.dependencies,e!==null&&Ka(e)&&(ht=!0))}function od(e,t,n,a){he=e;var r=0;do{if(tl&&(nl=null),Pl=0,tl=!1,25<=r)throw Error(s(301));if(r+=1,lt=Ue=null,e.updateQueue!=null){var f=e.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}z.H=Vp,f=t(n,a)}while(tl);return f}function _p(){var e=z.H,t=e.useState()[0];return t=typeof t.then=="function"?Yl(t):t,e=e.useState()[0],(Ue!==null?Ue.memoizedState:null)!==e&&(he.flags|=1024),t}function sr(){var e=eo!==0;return eo=0,e}function rr(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function ur(e){if(Wa){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}Wa=!1}Hn=0,lt=Ue=he=null,tl=!1,Pl=eo=0,nl=null}function Rt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return lt===null?he.memoizedState=lt=e:lt=lt.next=e,lt}function at(){if(Ue===null){var e=he.alternate;e=e!==null?e.memoizedState:null}else e=Ue.next;var t=lt===null?he.memoizedState:lt.next;if(t!==null)lt=t,Ue=e;else{if(e===null)throw he.alternate===null?Error(s(467)):Error(s(310));Ue=e,e={memoizedState:Ue.memoizedState,baseState:Ue.baseState,baseQueue:Ue.baseQueue,queue:Ue.queue,next:null},lt===null?he.memoizedState=lt=e:lt=lt.next=e}return lt}function cr(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Yl(e){var t=Pl;return Pl+=1,nl===null&&(nl=[]),e=Wc(nl,e,t),t=he,(lt===null?t.memoizedState:lt.next)===null&&(t=t.alternate,z.H=t===null||t.memoizedState===null?Od:Hd),e}function to(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Yl(e);if(e.$$typeof===ie)return Et(e)}throw Error(s(438,String(e)))}function dr(e){var t=null,n=he.updateQueue;if(n!==null&&(t=n.memoCache),t==null){var a=he.alternate;a!==null&&(a=a.updateQueue,a!==null&&(a=a.memoCache,a!=null&&(t={data:a.data.map(function(r){return r.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),n===null&&(n=cr(),he.updateQueue=n),n.memoCache=t,n=t.data[t.index],n===void 0)for(n=t.data[t.index]=Array(e),a=0;a<e;a++)n[a]=ze;return t.index++,n}function _n(e,t){return typeof t=="function"?t(e):t}function no(e){var t=at();return fr(t,Ue,e)}function fr(e,t,n){var a=e.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=n;var r=e.baseQueue,f=a.pending;if(f!==null){if(r!==null){var x=r.next;r.next=f.next,f.next=x}t.baseQueue=r=f,a.pending=null}if(f=e.baseState,r===null)e.memoizedState=f;else{t=r.next;var b=x=null,M=null,k=t,H=!1;do{var Y=k.lane&-536870913;if(Y!==k.lane?(Te&Y)===Y:(Hn&Y)===Y){var B=k.revertLane;if(B===0)M!==null&&(M=M.next={lane:0,revertLane:0,action:k.action,hasEagerState:k.hasEagerState,eagerState:k.eagerState,next:null}),Y===$i&&(H=!0);else if((Hn&B)===B){k=k.next,B===$i&&(H=!0);continue}else Y={lane:0,revertLane:k.revertLane,action:k.action,hasEagerState:k.hasEagerState,eagerState:k.eagerState,next:null},M===null?(b=M=Y,x=f):M=M.next=Y,he.lanes|=B,Qn|=B;Y=k.action,Ci&&n(f,Y),f=k.hasEagerState?k.eagerState:n(f,Y)}else B={lane:Y,revertLane:k.revertLane,action:k.action,hasEagerState:k.hasEagerState,eagerState:k.eagerState,next:null},M===null?(b=M=B,x=f):M=M.next=B,he.lanes|=Y,Qn|=Y;k=k.next}while(k!==null&&k!==t);if(M===null?x=f:M.next=b,!Gt(f,e.memoizedState)&&(ht=!0,H&&(n=Wi,n!==null)))throw n;e.memoizedState=f,e.baseState=x,e.baseQueue=M,a.lastRenderedState=f}return r===null&&(a.lanes=0),[e.memoizedState,a.dispatch]}function mr(e){var t=at(),n=t.queue;if(n===null)throw Error(s(311));n.lastRenderedReducer=e;var a=n.dispatch,r=n.pending,f=t.memoizedState;if(r!==null){n.pending=null;var x=r=r.next;do f=e(f,x.action),x=x.next;while(x!==r);Gt(f,t.memoizedState)||(ht=!0),t.memoizedState=f,t.baseQueue===null&&(t.baseState=f),n.lastRenderedState=f}return[f,a]}function sd(e,t,n){var a=he,r=at(),f=Ce;if(f){if(n===void 0)throw Error(s(407));n=n()}else n=t();var x=!Gt((Ue||r).memoizedState,n);x&&(r.memoizedState=n,ht=!0),r=r.queue;var b=cd.bind(null,a,r,e);if(Fl(2048,8,b,[e]),r.getSnapshot!==t||x||lt!==null&&lt.memoizedState.tag&1){if(a.flags|=2048,il(9,io(),ud.bind(null,a,r,n,t),null),Oe===null)throw Error(s(349));f||(Hn&124)!==0||rd(a,t,n)}return n}function rd(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=he.updateQueue,t===null?(t=cr(),he.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function ud(e,t,n,a){t.value=n,t.getSnapshot=a,dd(t)&&fd(e)}function cd(e,t,n){return n(function(){dd(t)&&fd(e)})}function dd(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Gt(e,n)}catch{return!0}}function fd(e){var t=Xi(e,2);t!==null&&qt(t,e,2)}function hr(e){var t=Rt();if(typeof e=="function"){var n=e;if(e=n(),Ci){an(!0);try{n()}finally{an(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:_n,lastRenderedState:e},t}function md(e,t,n,a){return e.baseState=n,fr(e,Ue,typeof a=="function"?a:_n)}function wp(e,t,n,a,r){if(ao(e))throw Error(s(485));if(e=t.action,e!==null){var f={payload:r,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(x){f.listeners.push(x)}};z.T!==null?n(!0):f.isTransition=!1,a(f),n=t.pending,n===null?(f.next=t.pending=f,hd(t,f)):(f.next=n.next,t.pending=n.next=f)}}function hd(e,t){var n=t.action,a=t.payload,r=e.state;if(t.isTransition){var f=z.T,x={};z.T=x;try{var b=n(r,a),M=z.S;M!==null&&M(x,b),gd(e,t,b)}catch(k){gr(e,t,k)}finally{z.T=f}}else try{f=n(r,a),gd(e,t,f)}catch(k){gr(e,t,k)}}function gd(e,t,n){n!==null&&typeof n=="object"&&typeof n.then=="function"?n.then(function(a){pd(e,t,a)},function(a){return gr(e,t,a)}):pd(e,t,n)}function pd(e,t,n){t.status="fulfilled",t.value=n,yd(t),e.state=n,t=e.pending,t!==null&&(n=t.next,n===t?e.pending=null:(n=n.next,t.next=n,hd(e,n)))}function gr(e,t,n){var a=e.pending;if(e.pending=null,a!==null){a=a.next;do t.status="rejected",t.reason=n,yd(t),t=t.next;while(t!==a)}e.action=null}function yd(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function vd(e,t){return t}function xd(e,t){if(Ce){var n=Oe.formState;if(n!==null){e:{var a=he;if(Ce){if(Qe){t:{for(var r=Qe,f=gn;r.nodeType!==8;){if(!f){r=null;break t}if(r=un(r.nextSibling),r===null){r=null;break t}}f=r.data,r=f==="F!"||f==="F"?r:null}if(r){Qe=un(r.nextSibling),a=r.data==="F!";break e}}Ti(a)}a=!1}a&&(t=n[0])}}return n=Rt(),n.memoizedState=n.baseState=t,a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:vd,lastRenderedState:t},n.queue=a,n=Bd.bind(null,he,a),a.dispatch=n,a=hr(!1),f=Tr.bind(null,he,!1,a.queue),a=Rt(),r={state:t,dispatch:null,action:e,pending:null},a.queue=r,n=wp.bind(null,he,r,f,n),r.dispatch=n,a.memoizedState=e,[t,n,!1]}function Td(e){var t=at();return bd(t,Ue,e)}function bd(e,t,n){if(t=fr(e,t,vd)[0],e=no(_n)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var a=Yl(t)}catch(x){throw x===jl?Ja:x}else a=t;t=at();var r=t.queue,f=r.dispatch;return n!==t.memoizedState&&(he.flags|=2048,il(9,io(),Rp.bind(null,r,n),null)),[a,f,e]}function Rp(e,t){e.action=t}function Sd(e){var t=at(),n=Ue;if(n!==null)return bd(t,n,e);at(),t=t.memoizedState,n=at();var a=n.queue.dispatch;return n.memoizedState=e,[t,a,!1]}function il(e,t,n,a){return e={tag:e,create:n,deps:a,inst:t,next:null},t=he.updateQueue,t===null&&(t=cr(),he.updateQueue=t),n=t.lastEffect,n===null?t.lastEffect=e.next=e:(a=n.next,n.next=e,e.next=a,t.lastEffect=e),e}function io(){return{destroy:void 0,resource:void 0}}function Ed(){return at().memoizedState}function lo(e,t,n,a){var r=Rt();a=a===void 0?null:a,he.flags|=e,r.memoizedState=il(1|t,io(),n,a)}function Fl(e,t,n,a){var r=at();a=a===void 0?null:a;var f=r.memoizedState.inst;Ue!==null&&a!==null&&ar(a,Ue.memoizedState.deps)?r.memoizedState=il(t,f,n,a):(he.flags|=e,r.memoizedState=il(1|t,f,n,a))}function Cd(e,t){lo(8390656,8,e,t)}function Nd(e,t){Fl(2048,8,e,t)}function Ad(e,t){return Fl(4,2,e,t)}function Md(e,t){return Fl(4,4,e,t)}function _d(e,t){if(typeof t=="function"){e=e();var n=t(e);return function(){typeof n=="function"?n():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function wd(e,t,n){n=n!=null?n.concat([e]):null,Fl(4,4,_d.bind(null,t,e),n)}function pr(){}function Rd(e,t){var n=at();t=t===void 0?null:t;var a=n.memoizedState;return t!==null&&ar(t,a[1])?a[0]:(n.memoizedState=[e,t],e)}function Dd(e,t){var n=at();t=t===void 0?null:t;var a=n.memoizedState;if(t!==null&&ar(t,a[1]))return a[0];if(a=e(),Ci){an(!0);try{e()}finally{an(!1)}}return n.memoizedState=[a,t],a}function yr(e,t,n){return n===void 0||(Hn&1073741824)!==0?e.memoizedState=t:(e.memoizedState=n,e=kf(),he.lanes|=e,Qn|=e,n)}function Id(e,t,n,a){return Gt(n,t)?n:el.current!==null?(e=yr(e,n,a),Gt(e,t)||(ht=!0),e):(Hn&42)===0?(ht=!0,e.memoizedState=n):(e=kf(),he.lanes|=e,Qn|=e,t)}function Ud(e,t,n,a,r){var f=U.p;U.p=f!==0&&8>f?f:8;var x=z.T,b={};z.T=b,Tr(e,!1,t,n);try{var M=r(),k=z.S;if(k!==null&&k(b,M),M!==null&&typeof M=="object"&&typeof M.then=="function"){var H=Ap(M,a);Kl(e,t,H,Ht(e))}else Kl(e,t,a,Ht(e))}catch(Y){Kl(e,t,{then:function(){},status:"rejected",reason:Y},Ht())}finally{U.p=f,z.T=x}}function Dp(){}function vr(e,t,n,a){if(e.tag!==5)throw Error(s(476));var r=Vd(e).queue;Ud(e,r,t,N,n===null?Dp:function(){return kd(e),n(a)})}function Vd(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:N,baseState:N,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:_n,lastRenderedState:N},next:null};var n={};return t.next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:_n,lastRenderedState:n},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function kd(e){var t=Vd(e).next.queue;Kl(e,t,{},Ht())}function xr(){return Et(da)}function Ld(){return at().memoizedState}function Gd(){return at().memoizedState}function Ip(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var n=Ht();e=zn(n);var a=On(t,e,n);a!==null&&(qt(a,t,n),Ol(a,t,n)),t={cache:Qs()},e.payload=t;return}t=t.return}}function Up(e,t,n){var a=Ht();n={lane:a,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null},ao(e)?jd(t,n):(n=js(e,t,n,a),n!==null&&(qt(n,e,a),zd(n,t,a)))}function Bd(e,t,n){var a=Ht();Kl(e,t,n,a)}function Kl(e,t,n,a){var r={lane:a,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null};if(ao(e))jd(t,r);else{var f=e.alternate;if(e.lanes===0&&(f===null||f.lanes===0)&&(f=t.lastRenderedReducer,f!==null))try{var x=t.lastRenderedState,b=f(x,n);if(r.hasEagerState=!0,r.eagerState=b,Gt(b,x))return Ha(e,t,r,0),Oe===null&&Oa(),!1}catch{}finally{}if(n=js(e,t,r,a),n!==null)return qt(n,e,a),zd(n,t,a),!0}return!1}function Tr(e,t,n,a){if(a={lane:2,revertLane:$r(),action:a,hasEagerState:!1,eagerState:null,next:null},ao(e)){if(t)throw Error(s(479))}else t=js(e,n,a,2),t!==null&&qt(t,e,2)}function ao(e){var t=e.alternate;return e===he||t!==null&&t===he}function jd(e,t){tl=Wa=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function zd(e,t,n){if((n&4194048)!==0){var a=t.lanes;a&=e.pendingLanes,n|=a,t.lanes=n,ft(e,n)}}var oo={readContext:Et,use:to,useCallback:et,useContext:et,useEffect:et,useImperativeHandle:et,useLayoutEffect:et,useInsertionEffect:et,useMemo:et,useReducer:et,useRef:et,useState:et,useDebugValue:et,useDeferredValue:et,useTransition:et,useSyncExternalStore:et,useId:et,useHostTransitionStatus:et,useFormState:et,useActionState:et,useOptimistic:et,useMemoCache:et,useCacheRefresh:et},Od={readContext:Et,use:to,useCallback:function(e,t){return Rt().memoizedState=[e,t===void 0?null:t],e},useContext:Et,useEffect:Cd,useImperativeHandle:function(e,t,n){n=n!=null?n.concat([e]):null,lo(4194308,4,_d.bind(null,t,e),n)},useLayoutEffect:function(e,t){return lo(4194308,4,e,t)},useInsertionEffect:function(e,t){lo(4,2,e,t)},useMemo:function(e,t){var n=Rt();t=t===void 0?null:t;var a=e();if(Ci){an(!0);try{e()}finally{an(!1)}}return n.memoizedState=[a,t],a},useReducer:function(e,t,n){var a=Rt();if(n!==void 0){var r=n(t);if(Ci){an(!0);try{n(t)}finally{an(!1)}}}else r=t;return a.memoizedState=a.baseState=r,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:r},a.queue=e,e=e.dispatch=Up.bind(null,he,e),[a.memoizedState,e]},useRef:function(e){var t=Rt();return e={current:e},t.memoizedState=e},useState:function(e){e=hr(e);var t=e.queue,n=Bd.bind(null,he,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:pr,useDeferredValue:function(e,t){var n=Rt();return yr(n,e,t)},useTransition:function(){var e=hr(!1);return e=Ud.bind(null,he,e.queue,!0,!1),Rt().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var a=he,r=Rt();if(Ce){if(n===void 0)throw Error(s(407));n=n()}else{if(n=t(),Oe===null)throw Error(s(349));(Te&124)!==0||rd(a,t,n)}r.memoizedState=n;var f={value:n,getSnapshot:t};return r.queue=f,Cd(cd.bind(null,a,f,e),[e]),a.flags|=2048,il(9,io(),ud.bind(null,a,f,n,t),null),n},useId:function(){var e=Rt(),t=Oe.identifierPrefix;if(Ce){var n=Nn,a=Cn;n=(a&~(1<<32-bt(a)-1)).toString(32)+n,t=""+t+"R"+n,n=eo++,0<n&&(t+="H"+n.toString(32)),t+=""}else n=Mp++,t=""+t+"r"+n.toString(32)+"";return e.memoizedState=t},useHostTransitionStatus:xr,useFormState:xd,useActionState:xd,useOptimistic:function(e){var t=Rt();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=Tr.bind(null,he,!0,n),n.dispatch=t,[e,t]},useMemoCache:dr,useCacheRefresh:function(){return Rt().memoizedState=Ip.bind(null,he)}},Hd={readContext:Et,use:to,useCallback:Rd,useContext:Et,useEffect:Nd,useImperativeHandle:wd,useInsertionEffect:Ad,useLayoutEffect:Md,useMemo:Dd,useReducer:no,useRef:Ed,useState:function(){return no(_n)},useDebugValue:pr,useDeferredValue:function(e,t){var n=at();return Id(n,Ue.memoizedState,e,t)},useTransition:function(){var e=no(_n)[0],t=at().memoizedState;return[typeof e=="boolean"?e:Yl(e),t]},useSyncExternalStore:sd,useId:Ld,useHostTransitionStatus:xr,useFormState:Td,useActionState:Td,useOptimistic:function(e,t){var n=at();return md(n,Ue,e,t)},useMemoCache:dr,useCacheRefresh:Gd},Vp={readContext:Et,use:to,useCallback:Rd,useContext:Et,useEffect:Nd,useImperativeHandle:wd,useInsertionEffect:Ad,useLayoutEffect:Md,useMemo:Dd,useReducer:mr,useRef:Ed,useState:function(){return mr(_n)},useDebugValue:pr,useDeferredValue:function(e,t){var n=at();return Ue===null?yr(n,e,t):Id(n,Ue.memoizedState,e,t)},useTransition:function(){var e=mr(_n)[0],t=at().memoizedState;return[typeof e=="boolean"?e:Yl(e),t]},useSyncExternalStore:sd,useId:Ld,useHostTransitionStatus:xr,useFormState:Sd,useActionState:Sd,useOptimistic:function(e,t){var n=at();return Ue!==null?md(n,Ue,e,t):(n.baseState=e,[e,n.queue.dispatch])},useMemoCache:dr,useCacheRefresh:Gd},ll=null,Xl=0;function so(e){var t=Xl;return Xl+=1,ll===null&&(ll=[]),Wc(ll,e,t)}function Ql(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function ro(e,t){throw t.$$typeof===C?Error(s(525)):(e=Object.prototype.toString.call(t),Error(s(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function qd(e){var t=e._init;return t(e._payload)}function Pd(e){function t(I,w){if(e){var V=I.deletions;V===null?(I.deletions=[w],I.flags|=16):V.push(w)}}function n(I,w){if(!e)return null;for(;w!==null;)t(I,w),w=w.sibling;return null}function a(I){for(var w=new Map;I!==null;)I.key!==null?w.set(I.key,I):w.set(I.index,I),I=I.sibling;return w}function r(I,w){return I=En(I,w),I.index=0,I.sibling=null,I}function f(I,w,V){return I.index=V,e?(V=I.alternate,V!==null?(V=V.index,V<w?(I.flags|=67108866,w):V):(I.flags|=67108866,w)):(I.flags|=1048576,w)}function x(I){return e&&I.alternate===null&&(I.flags|=67108866),I}function b(I,w,V,P){return w===null||w.tag!==6?(w=Os(V,I.mode,P),w.return=I,w):(w=r(w,V),w.return=I,w)}function M(I,w,V,P){var ne=V.type;return ne===G?H(I,w,V.props.children,P,V.key):w!==null&&(w.elementType===ne||typeof ne=="object"&&ne!==null&&ne.$$typeof===be&&qd(ne)===w.type)?(w=r(w,V.props),Ql(w,V),w.return=I,w):(w=Pa(V.type,V.key,V.props,null,I.mode,P),Ql(w,V),w.return=I,w)}function k(I,w,V,P){return w===null||w.tag!==4||w.stateNode.containerInfo!==V.containerInfo||w.stateNode.implementation!==V.implementation?(w=Hs(V,I.mode,P),w.return=I,w):(w=r(w,V.children||[]),w.return=I,w)}function H(I,w,V,P,ne){return w===null||w.tag!==7?(w=pi(V,I.mode,P,ne),w.return=I,w):(w=r(w,V),w.return=I,w)}function Y(I,w,V){if(typeof w=="string"&&w!==""||typeof w=="number"||typeof w=="bigint")return w=Os(""+w,I.mode,V),w.return=I,w;if(typeof w=="object"&&w!==null){switch(w.$$typeof){case _:return V=Pa(w.type,w.key,w.props,null,I.mode,V),Ql(V,w),V.return=I,V;case L:return w=Hs(w,I.mode,V),w.return=I,w;case be:var P=w._init;return w=P(w._payload),Y(I,w,V)}if(Ge(w)||Le(w))return w=pi(w,I.mode,V,null),w.return=I,w;if(typeof w.then=="function")return Y(I,so(w),V);if(w.$$typeof===ie)return Y(I,Xa(I,w),V);ro(I,w)}return null}function B(I,w,V,P){var ne=w!==null?w.key:null;if(typeof V=="string"&&V!==""||typeof V=="number"||typeof V=="bigint")return ne!==null?null:b(I,w,""+V,P);if(typeof V=="object"&&V!==null){switch(V.$$typeof){case _:return V.key===ne?M(I,w,V,P):null;case L:return V.key===ne?k(I,w,V,P):null;case be:return ne=V._init,V=ne(V._payload),B(I,w,V,P)}if(Ge(V)||Le(V))return ne!==null?null:H(I,w,V,P,null);if(typeof V.then=="function")return B(I,w,so(V),P);if(V.$$typeof===ie)return B(I,w,Xa(I,V),P);ro(I,V)}return null}function j(I,w,V,P,ne){if(typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint")return I=I.get(V)||null,b(w,I,""+P,ne);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case _:return I=I.get(P.key===null?V:P.key)||null,M(w,I,P,ne);case L:return I=I.get(P.key===null?V:P.key)||null,k(w,I,P,ne);case be:var pe=P._init;return P=pe(P._payload),j(I,w,V,P,ne)}if(Ge(P)||Le(P))return I=I.get(V)||null,H(w,I,P,ne,null);if(typeof P.then=="function")return j(I,w,V,so(P),ne);if(P.$$typeof===ie)return j(I,w,V,Xa(w,P),ne);ro(w,P)}return null}function ce(I,w,V,P){for(var ne=null,pe=null,le=w,re=w=0,pt=null;le!==null&&re<V.length;re++){le.index>re?(pt=le,le=null):pt=le.sibling;var Ee=B(I,le,V[re],P);if(Ee===null){le===null&&(le=pt);break}e&&le&&Ee.alternate===null&&t(I,le),w=f(Ee,w,re),pe===null?ne=Ee:pe.sibling=Ee,pe=Ee,le=pt}if(re===V.length)return n(I,le),Ce&&vi(I,re),ne;if(le===null){for(;re<V.length;re++)le=Y(I,V[re],P),le!==null&&(w=f(le,w,re),pe===null?ne=le:pe.sibling=le,pe=le);return Ce&&vi(I,re),ne}for(le=a(le);re<V.length;re++)pt=j(le,I,re,V[re],P),pt!==null&&(e&&pt.alternate!==null&&le.delete(pt.key===null?re:pt.key),w=f(pt,w,re),pe===null?ne=pt:pe.sibling=pt,pe=pt);return e&&le.forEach(function(li){return t(I,li)}),Ce&&vi(I,re),ne}function se(I,w,V,P){if(V==null)throw Error(s(151));for(var ne=null,pe=null,le=w,re=w=0,pt=null,Ee=V.next();le!==null&&!Ee.done;re++,Ee=V.next()){le.index>re?(pt=le,le=null):pt=le.sibling;var li=B(I,le,Ee.value,P);if(li===null){le===null&&(le=pt);break}e&&le&&li.alternate===null&&t(I,le),w=f(li,w,re),pe===null?ne=li:pe.sibling=li,pe=li,le=pt}if(Ee.done)return n(I,le),Ce&&vi(I,re),ne;if(le===null){for(;!Ee.done;re++,Ee=V.next())Ee=Y(I,Ee.value,P),Ee!==null&&(w=f(Ee,w,re),pe===null?ne=Ee:pe.sibling=Ee,pe=Ee);return Ce&&vi(I,re),ne}for(le=a(le);!Ee.done;re++,Ee=V.next())Ee=j(le,I,re,Ee.value,P),Ee!==null&&(e&&Ee.alternate!==null&&le.delete(Ee.key===null?re:Ee.key),w=f(Ee,w,re),pe===null?ne=Ee:pe.sibling=Ee,pe=Ee);return e&&le.forEach(function(k0){return t(I,k0)}),Ce&&vi(I,re),ne}function ke(I,w,V,P){if(typeof V=="object"&&V!==null&&V.type===G&&V.key===null&&(V=V.props.children),typeof V=="object"&&V!==null){switch(V.$$typeof){case _:e:{for(var ne=V.key;w!==null;){if(w.key===ne){if(ne=V.type,ne===G){if(w.tag===7){n(I,w.sibling),P=r(w,V.props.children),P.return=I,I=P;break e}}else if(w.elementType===ne||typeof ne=="object"&&ne!==null&&ne.$$typeof===be&&qd(ne)===w.type){n(I,w.sibling),P=r(w,V.props),Ql(P,V),P.return=I,I=P;break e}n(I,w);break}else t(I,w);w=w.sibling}V.type===G?(P=pi(V.props.children,I.mode,P,V.key),P.return=I,I=P):(P=Pa(V.type,V.key,V.props,null,I.mode,P),Ql(P,V),P.return=I,I=P)}return x(I);case L:e:{for(ne=V.key;w!==null;){if(w.key===ne)if(w.tag===4&&w.stateNode.containerInfo===V.containerInfo&&w.stateNode.implementation===V.implementation){n(I,w.sibling),P=r(w,V.children||[]),P.return=I,I=P;break e}else{n(I,w);break}else t(I,w);w=w.sibling}P=Hs(V,I.mode,P),P.return=I,I=P}return x(I);case be:return ne=V._init,V=ne(V._payload),ke(I,w,V,P)}if(Ge(V))return ce(I,w,V,P);if(Le(V)){if(ne=Le(V),typeof ne!="function")throw Error(s(150));return V=ne.call(V),se(I,w,V,P)}if(typeof V.then=="function")return ke(I,w,so(V),P);if(V.$$typeof===ie)return ke(I,w,Xa(I,V),P);ro(I,V)}return typeof V=="string"&&V!==""||typeof V=="number"||typeof V=="bigint"?(V=""+V,w!==null&&w.tag===6?(n(I,w.sibling),P=r(w,V),P.return=I,I=P):(n(I,w),P=Os(V,I.mode,P),P.return=I,I=P),x(I)):n(I,w)}return function(I,w,V,P){try{Xl=0;var ne=ke(I,w,V,P);return ll=null,ne}catch(le){if(le===jl||le===Ja)throw le;var pe=Bt(29,le,null,I.mode);return pe.lanes=P,pe.return=I,pe}finally{}}}var al=Pd(!0),Yd=Pd(!1),Wt=E(null),pn=null;function qn(e){var t=e.alternate;D(ct,ct.current&1),D(Wt,e),pn===null&&(t===null||el.current!==null||t.memoizedState!==null)&&(pn=e)}function Fd(e){if(e.tag===22){if(D(ct,ct.current),D(Wt,e),pn===null){var t=e.alternate;t!==null&&t.memoizedState!==null&&(pn=e)}}else Pn()}function Pn(){D(ct,ct.current),D(Wt,Wt.current)}function wn(e){R(Wt),pn===e&&(pn=null),R(ct)}var ct=E(0);function uo(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||cu(n)))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}function br(e,t,n,a){t=e.memoizedState,n=n(a,t),n=n==null?t:T({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Sr={enqueueSetState:function(e,t,n){e=e._reactInternals;var a=Ht(),r=zn(a);r.payload=t,n!=null&&(r.callback=n),t=On(e,r,a),t!==null&&(qt(t,e,a),Ol(t,e,a))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var a=Ht(),r=zn(a);r.tag=1,r.payload=t,n!=null&&(r.callback=n),t=On(e,r,a),t!==null&&(qt(t,e,a),Ol(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Ht(),a=zn(n);a.tag=2,t!=null&&(a.callback=t),t=On(e,a,n),t!==null&&(qt(t,e,n),Ol(t,e,n))}};function Kd(e,t,n,a,r,f,x){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(a,f,x):t.prototype&&t.prototype.isPureReactComponent?!Dl(n,a)||!Dl(r,f):!0}function Xd(e,t,n,a){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,a),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,a),t.state!==e&&Sr.enqueueReplaceState(t,t.state,null)}function Ni(e,t){var n=t;if("ref"in t){n={};for(var a in t)a!=="ref"&&(n[a]=t[a])}if(e=e.defaultProps){n===t&&(n=T({},n));for(var r in e)n[r]===void 0&&(n[r]=e[r])}return n}var co=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function Qd(e){co(e)}function Jd(e){console.error(e)}function Zd(e){co(e)}function fo(e,t){try{var n=e.onUncaughtError;n(t.value,{componentStack:t.stack})}catch(a){setTimeout(function(){throw a})}}function $d(e,t,n){try{var a=e.onCaughtError;a(n.value,{componentStack:n.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(r){setTimeout(function(){throw r})}}function Er(e,t,n){return n=zn(n),n.tag=3,n.payload={element:null},n.callback=function(){fo(e,t)},n}function Wd(e){return e=zn(e),e.tag=3,e}function ef(e,t,n,a){var r=n.type.getDerivedStateFromError;if(typeof r=="function"){var f=a.value;e.payload=function(){return r(f)},e.callback=function(){$d(t,n,a)}}var x=n.stateNode;x!==null&&typeof x.componentDidCatch=="function"&&(e.callback=function(){$d(t,n,a),typeof r!="function"&&(Jn===null?Jn=new Set([this]):Jn.add(this));var b=a.stack;this.componentDidCatch(a.value,{componentStack:b!==null?b:""})})}function kp(e,t,n,a,r){if(n.flags|=32768,a!==null&&typeof a=="object"&&typeof a.then=="function"){if(t=n.alternate,t!==null&&Ll(t,n,r,!0),n=Wt.current,n!==null){switch(n.tag){case 13:return pn===null?Kr():n.alternate===null&&Je===0&&(Je=3),n.flags&=-257,n.flags|=65536,n.lanes=r,a===$s?n.flags|=16384:(t=n.updateQueue,t===null?n.updateQueue=new Set([a]):t.add(a),Qr(e,a,r)),!1;case 22:return n.flags|=65536,a===$s?n.flags|=16384:(t=n.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([a])},n.updateQueue=t):(n=t.retryQueue,n===null?t.retryQueue=new Set([a]):n.add(a)),Qr(e,a,r)),!1}throw Error(s(435,n.tag))}return Qr(e,a,r),Kr(),!1}if(Ce)return t=Wt.current,t!==null?((t.flags&65536)===0&&(t.flags|=256),t.flags|=65536,t.lanes=r,a!==Ys&&(e=Error(s(422),{cause:a}),kl(Qt(e,n)))):(a!==Ys&&(t=Error(s(423),{cause:a}),kl(Qt(t,n))),e=e.current.alternate,e.flags|=65536,r&=-r,e.lanes|=r,a=Qt(a,n),r=Er(e.stateNode,a,r),tr(e,r),Je!==4&&(Je=2)),!1;var f=Error(s(520),{cause:a});if(f=Qt(f,n),na===null?na=[f]:na.push(f),Je!==4&&(Je=2),t===null)return!0;a=Qt(a,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=r&-r,n.lanes|=e,e=Er(n.stateNode,a,e),tr(n,e),!1;case 1:if(t=n.type,f=n.stateNode,(n.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(Jn===null||!Jn.has(f))))return n.flags|=65536,r&=-r,n.lanes|=r,r=Wd(r),ef(r,e,n,a),tr(n,r),!1}n=n.return}while(n!==null);return!1}var tf=Error(s(461)),ht=!1;function vt(e,t,n,a){t.child=e===null?Yd(t,null,n,a):al(t,e.child,n,a)}function nf(e,t,n,a,r){n=n.render;var f=t.ref;if("ref"in a){var x={};for(var b in a)b!=="ref"&&(x[b]=a[b])}else x=a;return Si(t),a=or(e,t,n,x,f,r),b=sr(),e!==null&&!ht?(rr(e,t,r),Rn(e,t,r)):(Ce&&b&&qs(t),t.flags|=1,vt(e,t,a,r),t.child)}function lf(e,t,n,a,r){if(e===null){var f=n.type;return typeof f=="function"&&!zs(f)&&f.defaultProps===void 0&&n.compare===null?(t.tag=15,t.type=f,af(e,t,f,a,r)):(e=Pa(n.type,null,a,t,t.mode,r),e.ref=t.ref,e.return=t,t.child=e)}if(f=e.child,!Dr(e,r)){var x=f.memoizedProps;if(n=n.compare,n=n!==null?n:Dl,n(x,a)&&e.ref===t.ref)return Rn(e,t,r)}return t.flags|=1,e=En(f,a),e.ref=t.ref,e.return=t,t.child=e}function af(e,t,n,a,r){if(e!==null){var f=e.memoizedProps;if(Dl(f,a)&&e.ref===t.ref)if(ht=!1,t.pendingProps=a=f,Dr(e,r))(e.flags&131072)!==0&&(ht=!0);else return t.lanes=e.lanes,Rn(e,t,r)}return Cr(e,t,n,a,r)}function of(e,t,n){var a=t.pendingProps,r=a.children,f=e!==null?e.memoizedState:null;if(a.mode==="hidden"){if((t.flags&128)!==0){if(a=f!==null?f.baseLanes|n:n,e!==null){for(r=t.child=e.child,f=0;r!==null;)f=f|r.lanes|r.childLanes,r=r.sibling;t.childLanes=f&~a}else t.childLanes=0,t.child=null;return sf(e,t,a,n)}if((n&536870912)!==0)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&Qa(t,f!==null?f.cachePool:null),f!==null?ld(t,f):ir(),Fd(t);else return t.lanes=t.childLanes=536870912,sf(e,t,f!==null?f.baseLanes|n:n,n)}else f!==null?(Qa(t,f.cachePool),ld(t,f),Pn(),t.memoizedState=null):(e!==null&&Qa(t,null),ir(),Pn());return vt(e,t,r,n),t.child}function sf(e,t,n,a){var r=Zs();return r=r===null?null:{parent:ut._currentValue,pool:r},t.memoizedState={baseLanes:n,cachePool:r},e!==null&&Qa(t,null),ir(),Fd(t),e!==null&&Ll(e,t,a,!0),null}function mo(e,t){var n=t.ref;if(n===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof n!="function"&&typeof n!="object")throw Error(s(284));(e===null||e.ref!==n)&&(t.flags|=4194816)}}function Cr(e,t,n,a,r){return Si(t),n=or(e,t,n,a,void 0,r),a=sr(),e!==null&&!ht?(rr(e,t,r),Rn(e,t,r)):(Ce&&a&&qs(t),t.flags|=1,vt(e,t,n,r),t.child)}function rf(e,t,n,a,r,f){return Si(t),t.updateQueue=null,n=od(t,a,n,r),ad(e),a=sr(),e!==null&&!ht?(rr(e,t,f),Rn(e,t,f)):(Ce&&a&&qs(t),t.flags|=1,vt(e,t,n,f),t.child)}function uf(e,t,n,a,r){if(Si(t),t.stateNode===null){var f=Qi,x=n.contextType;typeof x=="object"&&x!==null&&(f=Et(x)),f=new n(a,f),t.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Sr,t.stateNode=f,f._reactInternals=t,f=t.stateNode,f.props=a,f.state=t.memoizedState,f.refs={},Ws(t),x=n.contextType,f.context=typeof x=="object"&&x!==null?Et(x):Qi,f.state=t.memoizedState,x=n.getDerivedStateFromProps,typeof x=="function"&&(br(t,n,x,a),f.state=t.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(x=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),x!==f.state&&Sr.enqueueReplaceState(f,f.state,null),ql(t,a,f,r),Hl(),f.state=t.memoizedState),typeof f.componentDidMount=="function"&&(t.flags|=4194308),a=!0}else if(e===null){f=t.stateNode;var b=t.memoizedProps,M=Ni(n,b);f.props=M;var k=f.context,H=n.contextType;x=Qi,typeof H=="object"&&H!==null&&(x=Et(H));var Y=n.getDerivedStateFromProps;H=typeof Y=="function"||typeof f.getSnapshotBeforeUpdate=="function",b=t.pendingProps!==b,H||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(b||k!==x)&&Xd(t,f,a,x),jn=!1;var B=t.memoizedState;f.state=B,ql(t,a,f,r),Hl(),k=t.memoizedState,b||B!==k||jn?(typeof Y=="function"&&(br(t,n,Y,a),k=t.memoizedState),(M=jn||Kd(t,n,M,a,B,k,x))?(H||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(t.flags|=4194308)):(typeof f.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=a,t.memoizedState=k),f.props=a,f.state=k,f.context=x,a=M):(typeof f.componentDidMount=="function"&&(t.flags|=4194308),a=!1)}else{f=t.stateNode,er(e,t),x=t.memoizedProps,H=Ni(n,x),f.props=H,Y=t.pendingProps,B=f.context,k=n.contextType,M=Qi,typeof k=="object"&&k!==null&&(M=Et(k)),b=n.getDerivedStateFromProps,(k=typeof b=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(x!==Y||B!==M)&&Xd(t,f,a,M),jn=!1,B=t.memoizedState,f.state=B,ql(t,a,f,r),Hl();var j=t.memoizedState;x!==Y||B!==j||jn||e!==null&&e.dependencies!==null&&Ka(e.dependencies)?(typeof b=="function"&&(br(t,n,b,a),j=t.memoizedState),(H=jn||Kd(t,n,H,a,B,j,M)||e!==null&&e.dependencies!==null&&Ka(e.dependencies))?(k||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(a,j,M),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(a,j,M)),typeof f.componentDidUpdate=="function"&&(t.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof f.componentDidUpdate!="function"||x===e.memoizedProps&&B===e.memoizedState||(t.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||x===e.memoizedProps&&B===e.memoizedState||(t.flags|=1024),t.memoizedProps=a,t.memoizedState=j),f.props=a,f.state=j,f.context=M,a=H):(typeof f.componentDidUpdate!="function"||x===e.memoizedProps&&B===e.memoizedState||(t.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||x===e.memoizedProps&&B===e.memoizedState||(t.flags|=1024),a=!1)}return f=a,mo(e,t),a=(t.flags&128)!==0,f||a?(f=t.stateNode,n=a&&typeof n.getDerivedStateFromError!="function"?null:f.render(),t.flags|=1,e!==null&&a?(t.child=al(t,e.child,null,r),t.child=al(t,null,n,r)):vt(e,t,n,r),t.memoizedState=f.state,e=t.child):e=Rn(e,t,r),e}function cf(e,t,n,a){return Vl(),t.flags|=256,vt(e,t,n,a),t.child}var Nr={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Ar(e){return{baseLanes:e,cachePool:Jc()}}function Mr(e,t,n){return e=e!==null?e.childLanes&~n:0,t&&(e|=en),e}function df(e,t,n){var a=t.pendingProps,r=!1,f=(t.flags&128)!==0,x;if((x=f)||(x=e!==null&&e.memoizedState===null?!1:(ct.current&2)!==0),x&&(r=!0,t.flags&=-129),x=(t.flags&32)!==0,t.flags&=-33,e===null){if(Ce){if(r?qn(t):Pn(),Ce){var b=Qe,M;if(M=b){e:{for(M=b,b=gn;M.nodeType!==8;){if(!b){b=null;break e}if(M=un(M.nextSibling),M===null){b=null;break e}}b=M}b!==null?(t.memoizedState={dehydrated:b,treeContext:yi!==null?{id:Cn,overflow:Nn}:null,retryLane:536870912,hydrationErrors:null},M=Bt(18,null,null,0),M.stateNode=b,M.return=t,t.child=M,Mt=t,Qe=null,M=!0):M=!1}M||Ti(t)}if(b=t.memoizedState,b!==null&&(b=b.dehydrated,b!==null))return cu(b)?t.lanes=32:t.lanes=536870912,null;wn(t)}return b=a.children,a=a.fallback,r?(Pn(),r=t.mode,b=ho({mode:"hidden",children:b},r),a=pi(a,r,n,null),b.return=t,a.return=t,b.sibling=a,t.child=b,r=t.child,r.memoizedState=Ar(n),r.childLanes=Mr(e,x,n),t.memoizedState=Nr,a):(qn(t),_r(t,b))}if(M=e.memoizedState,M!==null&&(b=M.dehydrated,b!==null)){if(f)t.flags&256?(qn(t),t.flags&=-257,t=wr(e,t,n)):t.memoizedState!==null?(Pn(),t.child=e.child,t.flags|=128,t=null):(Pn(),r=a.fallback,b=t.mode,a=ho({mode:"visible",children:a.children},b),r=pi(r,b,n,null),r.flags|=2,a.return=t,r.return=t,a.sibling=r,t.child=a,al(t,e.child,null,n),a=t.child,a.memoizedState=Ar(n),a.childLanes=Mr(e,x,n),t.memoizedState=Nr,t=r);else if(qn(t),cu(b)){if(x=b.nextSibling&&b.nextSibling.dataset,x)var k=x.dgst;x=k,a=Error(s(419)),a.stack="",a.digest=x,kl({value:a,source:null,stack:null}),t=wr(e,t,n)}else if(ht||Ll(e,t,n,!1),x=(n&e.childLanes)!==0,ht||x){if(x=Oe,x!==null&&(a=n&-n,a=(a&42)!==0?1:st(a),a=(a&(x.suspendedLanes|n))!==0?0:a,a!==0&&a!==M.retryLane))throw M.retryLane=a,Xi(e,a),qt(x,e,a),tf;b.data==="$?"||Kr(),t=wr(e,t,n)}else b.data==="$?"?(t.flags|=192,t.child=e.child,t=null):(e=M.treeContext,Qe=un(b.nextSibling),Mt=t,Ce=!0,xi=null,gn=!1,e!==null&&(Zt[$t++]=Cn,Zt[$t++]=Nn,Zt[$t++]=yi,Cn=e.id,Nn=e.overflow,yi=t),t=_r(t,a.children),t.flags|=4096);return t}return r?(Pn(),r=a.fallback,b=t.mode,M=e.child,k=M.sibling,a=En(M,{mode:"hidden",children:a.children}),a.subtreeFlags=M.subtreeFlags&65011712,k!==null?r=En(k,r):(r=pi(r,b,n,null),r.flags|=2),r.return=t,a.return=t,a.sibling=r,t.child=a,a=r,r=t.child,b=e.child.memoizedState,b===null?b=Ar(n):(M=b.cachePool,M!==null?(k=ut._currentValue,M=M.parent!==k?{parent:k,pool:k}:M):M=Jc(),b={baseLanes:b.baseLanes|n,cachePool:M}),r.memoizedState=b,r.childLanes=Mr(e,x,n),t.memoizedState=Nr,a):(qn(t),n=e.child,e=n.sibling,n=En(n,{mode:"visible",children:a.children}),n.return=t,n.sibling=null,e!==null&&(x=t.deletions,x===null?(t.deletions=[e],t.flags|=16):x.push(e)),t.child=n,t.memoizedState=null,n)}function _r(e,t){return t=ho({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function ho(e,t){return e=Bt(22,e,null,t),e.lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function wr(e,t,n){return al(t,e.child,null,n),e=_r(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function ff(e,t,n){e.lanes|=t;var a=e.alternate;a!==null&&(a.lanes|=t),Ks(e.return,t,n)}function Rr(e,t,n,a,r){var f=e.memoizedState;f===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:a,tail:n,tailMode:r}:(f.isBackwards=t,f.rendering=null,f.renderingStartTime=0,f.last=a,f.tail=n,f.tailMode=r)}function mf(e,t,n){var a=t.pendingProps,r=a.revealOrder,f=a.tail;if(vt(e,t,a.children,n),a=ct.current,(a&2)!==0)a=a&1|2,t.flags|=128;else{if(e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&ff(e,n,t);else if(e.tag===19)ff(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}a&=1}switch(D(ct,a),r){case"forwards":for(n=t.child,r=null;n!==null;)e=n.alternate,e!==null&&uo(e)===null&&(r=n),n=n.sibling;n=r,n===null?(r=t.child,t.child=null):(r=n.sibling,n.sibling=null),Rr(t,!1,r,n,f);break;case"backwards":for(n=null,r=t.child,t.child=null;r!==null;){if(e=r.alternate,e!==null&&uo(e)===null){t.child=r;break}e=r.sibling,r.sibling=n,n=r,r=e}Rr(t,!0,n,null,f);break;case"together":Rr(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Rn(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Qn|=t.lanes,(n&t.childLanes)===0)if(e!==null){if(Ll(e,t,n,!1),(n&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(s(153));if(t.child!==null){for(e=t.child,n=En(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=En(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function Dr(e,t){return(e.lanes&t)!==0?!0:(e=e.dependencies,!!(e!==null&&Ka(e)))}function Lp(e,t,n){switch(t.tag){case 3:de(t,t.stateNode.containerInfo),Bn(t,ut,e.memoizedState.cache),Vl();break;case 27:case 5:ot(t);break;case 4:de(t,t.stateNode.containerInfo);break;case 10:Bn(t,t.type,t.memoizedProps.value);break;case 13:var a=t.memoizedState;if(a!==null)return a.dehydrated!==null?(qn(t),t.flags|=128,null):(n&t.child.childLanes)!==0?df(e,t,n):(qn(t),e=Rn(e,t,n),e!==null?e.sibling:null);qn(t);break;case 19:var r=(e.flags&128)!==0;if(a=(n&t.childLanes)!==0,a||(Ll(e,t,n,!1),a=(n&t.childLanes)!==0),r){if(a)return mf(e,t,n);t.flags|=128}if(r=t.memoizedState,r!==null&&(r.rendering=null,r.tail=null,r.lastEffect=null),D(ct,ct.current),a)break;return null;case 22:case 23:return t.lanes=0,of(e,t,n);case 24:Bn(t,ut,e.memoizedState.cache)}return Rn(e,t,n)}function hf(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps)ht=!0;else{if(!Dr(e,n)&&(t.flags&128)===0)return ht=!1,Lp(e,t,n);ht=(e.flags&131072)!==0}else ht=!1,Ce&&(t.flags&1048576)!==0&&qc(t,Fa,t.index);switch(t.lanes=0,t.tag){case 16:e:{e=t.pendingProps;var a=t.elementType,r=a._init;if(a=r(a._payload),t.type=a,typeof a=="function")zs(a)?(e=Ni(a,e),t.tag=1,t=uf(null,t,a,e,n)):(t.tag=0,t=Cr(null,t,a,e,n));else{if(a!=null){if(r=a.$$typeof,r===J){t.tag=11,t=nf(null,t,a,e,n);break e}else if(r===Ae){t.tag=14,t=lf(null,t,a,e,n);break e}}throw t=Pe(a)||a,Error(s(306,t,""))}}return t;case 0:return Cr(e,t,t.type,t.pendingProps,n);case 1:return a=t.type,r=Ni(a,t.pendingProps),uf(e,t,a,r,n);case 3:e:{if(de(t,t.stateNode.containerInfo),e===null)throw Error(s(387));a=t.pendingProps;var f=t.memoizedState;r=f.element,er(e,t),ql(t,a,null,n);var x=t.memoizedState;if(a=x.cache,Bn(t,ut,a),a!==f.cache&&Xs(t,[ut],n,!0),Hl(),a=x.element,f.isDehydrated)if(f={element:a,isDehydrated:!1,cache:x.cache},t.updateQueue.baseState=f,t.memoizedState=f,t.flags&256){t=cf(e,t,a,n);break e}else if(a!==r){r=Qt(Error(s(424)),t),kl(r),t=cf(e,t,a,n);break e}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(Qe=un(e.firstChild),Mt=t,Ce=!0,xi=null,gn=!0,n=Yd(t,null,a,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling}else{if(Vl(),a===r){t=Rn(e,t,n);break e}vt(e,t,a,n)}t=t.child}return t;case 26:return mo(e,t),e===null?(n=vm(t.type,null,t.pendingProps,null))?t.memoizedState=n:Ce||(n=t.type,e=t.pendingProps,a=_o(Q.current).createElement(n),a[We]=t,a[rt]=e,Tt(a,n,e),mt(a),t.stateNode=a):t.memoizedState=vm(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return ot(t),e===null&&Ce&&(a=t.stateNode=gm(t.type,t.pendingProps,Q.current),Mt=t,gn=!0,r=Qe,Wn(t.type)?(du=r,Qe=un(a.firstChild)):Qe=r),vt(e,t,t.pendingProps.children,n),mo(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&Ce&&((r=a=Qe)&&(a=c0(a,t.type,t.pendingProps,gn),a!==null?(t.stateNode=a,Mt=t,Qe=un(a.firstChild),gn=!1,r=!0):r=!1),r||Ti(t)),ot(t),r=t.type,f=t.pendingProps,x=e!==null?e.memoizedProps:null,a=f.children,su(r,f)?a=null:x!==null&&su(r,x)&&(t.flags|=32),t.memoizedState!==null&&(r=or(e,t,_p,null,null,n),da._currentValue=r),mo(e,t),vt(e,t,a,n),t.child;case 6:return e===null&&Ce&&((e=n=Qe)&&(n=d0(n,t.pendingProps,gn),n!==null?(t.stateNode=n,Mt=t,Qe=null,e=!0):e=!1),e||Ti(t)),null;case 13:return df(e,t,n);case 4:return de(t,t.stateNode.containerInfo),a=t.pendingProps,e===null?t.child=al(t,null,a,n):vt(e,t,a,n),t.child;case 11:return nf(e,t,t.type,t.pendingProps,n);case 7:return vt(e,t,t.pendingProps,n),t.child;case 8:return vt(e,t,t.pendingProps.children,n),t.child;case 12:return vt(e,t,t.pendingProps.children,n),t.child;case 10:return a=t.pendingProps,Bn(t,t.type,a.value),vt(e,t,a.children,n),t.child;case 9:return r=t.type._context,a=t.pendingProps.children,Si(t),r=Et(r),a=a(r),t.flags|=1,vt(e,t,a,n),t.child;case 14:return lf(e,t,t.type,t.pendingProps,n);case 15:return af(e,t,t.type,t.pendingProps,n);case 19:return mf(e,t,n);case 31:return a=t.pendingProps,n=t.mode,a={mode:a.mode,children:a.children},e===null?(n=ho(a,n),n.ref=t.ref,t.child=n,n.return=t,t=n):(n=En(e.child,a),n.ref=t.ref,t.child=n,n.return=t,t=n),t;case 22:return of(e,t,n);case 24:return Si(t),a=Et(ut),e===null?(r=Zs(),r===null&&(r=Oe,f=Qs(),r.pooledCache=f,f.refCount++,f!==null&&(r.pooledCacheLanes|=n),r=f),t.memoizedState={parent:a,cache:r},Ws(t),Bn(t,ut,r)):((e.lanes&n)!==0&&(er(e,t),ql(t,null,null,n),Hl()),r=e.memoizedState,f=t.memoizedState,r.parent!==a?(r={parent:a,cache:a},t.memoizedState=r,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=r),Bn(t,ut,a)):(a=f.cache,Bn(t,ut,a),a!==r.cache&&Xs(t,[ut],n,!0))),vt(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(s(156,t.tag))}function Dn(e){e.flags|=4}function gf(e,t){if(t.type!=="stylesheet"||(t.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!Em(t)){if(t=Wt.current,t!==null&&((Te&4194048)===Te?pn!==null:(Te&62914560)!==Te&&(Te&536870912)===0||t!==pn))throw zl=$s,Zc;e.flags|=8192}}function go(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?Lt():536870912,e.lanes|=t,ul|=t)}function Jl(e,t){if(!Ce)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var a=null;n!==null;)n.alternate!==null&&(a=n),n=n.sibling;a===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:a.sibling=null}}function Ke(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,a=0;if(t)for(var r=e.child;r!==null;)n|=r.lanes|r.childLanes,a|=r.subtreeFlags&65011712,a|=r.flags&65011712,r.return=e,r=r.sibling;else for(r=e.child;r!==null;)n|=r.lanes|r.childLanes,a|=r.subtreeFlags,a|=r.flags,r.return=e,r=r.sibling;return e.subtreeFlags|=a,e.childLanes=n,t}function Gp(e,t,n){var a=t.pendingProps;switch(Ps(t),t.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ke(t),null;case 1:return Ke(t),null;case 3:return n=t.stateNode,a=null,e!==null&&(a=e.memoizedState.cache),t.memoizedState.cache!==a&&(t.flags|=2048),Mn(ut),Ie(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(Ul(t)?Dn(t):e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,Fc())),Ke(t),null;case 26:return n=t.memoizedState,e===null?(Dn(t),n!==null?(Ke(t),gf(t,n)):(Ke(t),t.flags&=-16777217)):n?n!==e.memoizedState?(Dn(t),Ke(t),gf(t,n)):(Ke(t),t.flags&=-16777217):(e.memoizedProps!==a&&Dn(t),Ke(t),t.flags&=-16777217),null;case 27:dt(t),n=Q.current;var r=t.type;if(e!==null&&t.stateNode!=null)e.memoizedProps!==a&&Dn(t);else{if(!a){if(t.stateNode===null)throw Error(s(166));return Ke(t),null}e=O.current,Ul(t)?Pc(t):(e=gm(r,a,n),t.stateNode=e,Dn(t))}return Ke(t),null;case 5:if(dt(t),n=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==a&&Dn(t);else{if(!a){if(t.stateNode===null)throw Error(s(166));return Ke(t),null}if(e=O.current,Ul(t))Pc(t);else{switch(r=_o(Q.current),e){case 1:e=r.createElementNS("http://www.w3.org/2000/svg",n);break;case 2:e=r.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;default:switch(n){case"svg":e=r.createElementNS("http://www.w3.org/2000/svg",n);break;case"math":e=r.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;case"script":e=r.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e=typeof a.is=="string"?r.createElement("select",{is:a.is}):r.createElement("select"),a.multiple?e.multiple=!0:a.size&&(e.size=a.size);break;default:e=typeof a.is=="string"?r.createElement(n,{is:a.is}):r.createElement(n)}}e[We]=t,e[rt]=a;e:for(r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.tag!==27&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break e;for(;r.sibling===null;){if(r.return===null||r.return===t)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}t.stateNode=e;e:switch(Tt(e,n,a),n){case"button":case"input":case"select":case"textarea":e=!!a.autoFocus;break e;case"img":e=!0;break e;default:e=!1}e&&Dn(t)}}return Ke(t),t.flags&=-16777217,null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==a&&Dn(t);else{if(typeof a!="string"&&t.stateNode===null)throw Error(s(166));if(e=Q.current,Ul(t)){if(e=t.stateNode,n=t.memoizedProps,a=null,r=Mt,r!==null)switch(r.tag){case 27:case 5:a=r.memoizedProps}e[We]=t,e=!!(e.nodeValue===n||a!==null&&a.suppressHydrationWarning===!0||rm(e.nodeValue,n)),e||Ti(t)}else e=_o(e).createTextNode(a),e[We]=t,t.stateNode=e}return Ke(t),null;case 13:if(a=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(r=Ul(t),a!==null&&a.dehydrated!==null){if(e===null){if(!r)throw Error(s(318));if(r=t.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(s(317));r[We]=t}else Vl(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Ke(t),r=!1}else r=Fc(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=r),r=!0;if(!r)return t.flags&256?(wn(t),t):(wn(t),null)}if(wn(t),(t.flags&128)!==0)return t.lanes=n,t;if(n=a!==null,e=e!==null&&e.memoizedState!==null,n){a=t.child,r=null,a.alternate!==null&&a.alternate.memoizedState!==null&&a.alternate.memoizedState.cachePool!==null&&(r=a.alternate.memoizedState.cachePool.pool);var f=null;a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(f=a.memoizedState.cachePool.pool),f!==r&&(a.flags|=2048)}return n!==e&&n&&(t.child.flags|=8192),go(t,t.updateQueue),Ke(t),null;case 4:return Ie(),e===null&&nu(t.stateNode.containerInfo),Ke(t),null;case 10:return Mn(t.type),Ke(t),null;case 19:if(R(ct),r=t.memoizedState,r===null)return Ke(t),null;if(a=(t.flags&128)!==0,f=r.rendering,f===null)if(a)Jl(r,!1);else{if(Je!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(f=uo(e),f!==null){for(t.flags|=128,Jl(r,!1),e=f.updateQueue,t.updateQueue=e,go(t,e),t.subtreeFlags=0,e=n,n=t.child;n!==null;)Hc(n,e),n=n.sibling;return D(ct,ct.current&1|2),t.child}e=e.sibling}r.tail!==null&&Yt()>vo&&(t.flags|=128,a=!0,Jl(r,!1),t.lanes=4194304)}else{if(!a)if(e=uo(f),e!==null){if(t.flags|=128,a=!0,e=e.updateQueue,t.updateQueue=e,go(t,e),Jl(r,!0),r.tail===null&&r.tailMode==="hidden"&&!f.alternate&&!Ce)return Ke(t),null}else 2*Yt()-r.renderingStartTime>vo&&n!==536870912&&(t.flags|=128,a=!0,Jl(r,!1),t.lanes=4194304);r.isBackwards?(f.sibling=t.child,t.child=f):(e=r.last,e!==null?e.sibling=f:t.child=f,r.last=f)}return r.tail!==null?(t=r.tail,r.rendering=t,r.tail=t.sibling,r.renderingStartTime=Yt(),t.sibling=null,e=ct.current,D(ct,a?e&1|2:e&1),t):(Ke(t),null);case 22:case 23:return wn(t),lr(),a=t.memoizedState!==null,e!==null?e.memoizedState!==null!==a&&(t.flags|=8192):a&&(t.flags|=8192),a?(n&536870912)!==0&&(t.flags&128)===0&&(Ke(t),t.subtreeFlags&6&&(t.flags|=8192)):Ke(t),n=t.updateQueue,n!==null&&go(t,n.retryQueue),n=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),a=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),a!==n&&(t.flags|=2048),e!==null&&R(Ei),null;case 24:return n=null,e!==null&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),Mn(ut),Ke(t),null;case 25:return null;case 30:return null}throw Error(s(156,t.tag))}function Bp(e,t){switch(Ps(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Mn(ut),Ie(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return dt(t),null;case 13:if(wn(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(s(340));Vl()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return R(ct),null;case 4:return Ie(),null;case 10:return Mn(t.type),null;case 22:case 23:return wn(t),lr(),e!==null&&R(Ei),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return Mn(ut),null;case 25:return null;default:return null}}function pf(e,t){switch(Ps(t),t.tag){case 3:Mn(ut),Ie();break;case 26:case 27:case 5:dt(t);break;case 4:Ie();break;case 13:wn(t);break;case 19:R(ct);break;case 10:Mn(t.type);break;case 22:case 23:wn(t),lr(),e!==null&&R(Ei);break;case 24:Mn(ut)}}function Zl(e,t){try{var n=t.updateQueue,a=n!==null?n.lastEffect:null;if(a!==null){var r=a.next;n=r;do{if((n.tag&e)===e){a=void 0;var f=n.create,x=n.inst;a=f(),x.destroy=a}n=n.next}while(n!==r)}}catch(b){Be(t,t.return,b)}}function Yn(e,t,n){try{var a=t.updateQueue,r=a!==null?a.lastEffect:null;if(r!==null){var f=r.next;a=f;do{if((a.tag&e)===e){var x=a.inst,b=x.destroy;if(b!==void 0){x.destroy=void 0,r=t;var M=n,k=b;try{k()}catch(H){Be(r,M,H)}}}a=a.next}while(a!==f)}}catch(H){Be(t,t.return,H)}}function yf(e){var t=e.updateQueue;if(t!==null){var n=e.stateNode;try{id(t,n)}catch(a){Be(e,e.return,a)}}}function vf(e,t,n){n.props=Ni(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(a){Be(e,t,a)}}function $l(e,t){try{var n=e.ref;if(n!==null){switch(e.tag){case 26:case 27:case 5:var a=e.stateNode;break;case 30:a=e.stateNode;break;default:a=e.stateNode}typeof n=="function"?e.refCleanup=n(a):n.current=a}}catch(r){Be(e,t,r)}}function yn(e,t){var n=e.ref,a=e.refCleanup;if(n!==null)if(typeof a=="function")try{a()}catch(r){Be(e,t,r)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof n=="function")try{n(null)}catch(r){Be(e,t,r)}else n.current=null}function xf(e){var t=e.type,n=e.memoizedProps,a=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&a.focus();break e;case"img":n.src?a.src=n.src:n.srcSet&&(a.srcset=n.srcSet)}}catch(r){Be(e,e.return,r)}}function Ir(e,t,n){try{var a=e.stateNode;a0(a,e.type,n,t),a[rt]=t}catch(r){Be(e,e.return,r)}}function Tf(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Wn(e.type)||e.tag===4}function Ur(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Tf(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Wn(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Vr(e,t,n){var a=e.tag;if(a===5||a===6)e=e.stateNode,t?(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n).insertBefore(e,t):(t=n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,t.appendChild(e),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Mo));else if(a!==4&&(a===27&&Wn(e.type)&&(n=e.stateNode,t=null),e=e.child,e!==null))for(Vr(e,t,n),e=e.sibling;e!==null;)Vr(e,t,n),e=e.sibling}function po(e,t,n){var a=e.tag;if(a===5||a===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(a!==4&&(a===27&&Wn(e.type)&&(n=e.stateNode),e=e.child,e!==null))for(po(e,t,n),e=e.sibling;e!==null;)po(e,t,n),e=e.sibling}function bf(e){var t=e.stateNode,n=e.memoizedProps;try{for(var a=e.type,r=t.attributes;r.length;)t.removeAttributeNode(r[0]);Tt(t,a,n),t[We]=e,t[rt]=n}catch(f){Be(e,e.return,f)}}var In=!1,tt=!1,kr=!1,Sf=typeof WeakSet=="function"?WeakSet:Set,gt=null;function jp(e,t){if(e=e.containerInfo,au=Vo,e=Ic(e),Us(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var a=n.getSelection&&n.getSelection();if(a&&a.rangeCount!==0){n=a.anchorNode;var r=a.anchorOffset,f=a.focusNode;a=a.focusOffset;try{n.nodeType,f.nodeType}catch{n=null;break e}var x=0,b=-1,M=-1,k=0,H=0,Y=e,B=null;t:for(;;){for(var j;Y!==n||r!==0&&Y.nodeType!==3||(b=x+r),Y!==f||a!==0&&Y.nodeType!==3||(M=x+a),Y.nodeType===3&&(x+=Y.nodeValue.length),(j=Y.firstChild)!==null;)B=Y,Y=j;for(;;){if(Y===e)break t;if(B===n&&++k===r&&(b=x),B===f&&++H===a&&(M=x),(j=Y.nextSibling)!==null)break;Y=B,B=Y.parentNode}Y=j}n=b===-1||M===-1?null:{start:b,end:M}}else n=null}n=n||{start:0,end:0}}else n=null;for(ou={focusedElem:e,selectionRange:n},Vo=!1,gt=t;gt!==null;)if(t=gt,e=t.child,(t.subtreeFlags&1024)!==0&&e!==null)e.return=t,gt=e;else for(;gt!==null;){switch(t=gt,f=t.alternate,e=t.flags,t.tag){case 0:break;case 11:case 15:break;case 1:if((e&1024)!==0&&f!==null){e=void 0,n=t,r=f.memoizedProps,f=f.memoizedState,a=n.stateNode;try{var ce=Ni(n.type,r,n.elementType===n.type);e=a.getSnapshotBeforeUpdate(ce,f),a.__reactInternalSnapshotBeforeUpdate=e}catch(se){Be(n,n.return,se)}}break;case 3:if((e&1024)!==0){if(e=t.stateNode.containerInfo,n=e.nodeType,n===9)uu(e);else if(n===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":uu(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(s(163))}if(e=t.sibling,e!==null){e.return=t.return,gt=e;break}gt=t.return}}function Ef(e,t,n){var a=n.flags;switch(n.tag){case 0:case 11:case 15:Fn(e,n),a&4&&Zl(5,n);break;case 1:if(Fn(e,n),a&4)if(e=n.stateNode,t===null)try{e.componentDidMount()}catch(x){Be(n,n.return,x)}else{var r=Ni(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(r,t,e.__reactInternalSnapshotBeforeUpdate)}catch(x){Be(n,n.return,x)}}a&64&&yf(n),a&512&&$l(n,n.return);break;case 3:if(Fn(e,n),a&64&&(e=n.updateQueue,e!==null)){if(t=null,n.child!==null)switch(n.child.tag){case 27:case 5:t=n.child.stateNode;break;case 1:t=n.child.stateNode}try{id(e,t)}catch(x){Be(n,n.return,x)}}break;case 27:t===null&&a&4&&bf(n);case 26:case 5:Fn(e,n),t===null&&a&4&&xf(n),a&512&&$l(n,n.return);break;case 12:Fn(e,n);break;case 13:Fn(e,n),a&4&&Af(e,n),a&64&&(e=n.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(n=Xp.bind(null,n),f0(e,n))));break;case 22:if(a=n.memoizedState!==null||In,!a){t=t!==null&&t.memoizedState!==null||tt,r=In;var f=tt;In=a,(tt=t)&&!f?Kn(e,n,(n.subtreeFlags&8772)!==0):Fn(e,n),In=r,tt=f}break;case 30:break;default:Fn(e,n)}}function Cf(e){var t=e.alternate;t!==null&&(e.alternate=null,Cf(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&Vi(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Fe=null,Dt=!1;function Un(e,t,n){for(n=n.child;n!==null;)Nf(e,t,n),n=n.sibling}function Nf(e,t,n){if(Ye&&typeof Ye.onCommitFiberUnmount=="function")try{Ye.onCommitFiberUnmount(di,n)}catch{}switch(n.tag){case 26:tt||yn(n,t),Un(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode,n.parentNode.removeChild(n));break;case 27:tt||yn(n,t);var a=Fe,r=Dt;Wn(n.type)&&(Fe=n.stateNode,Dt=!1),Un(e,t,n),sa(n.stateNode),Fe=a,Dt=r;break;case 5:tt||yn(n,t);case 6:if(a=Fe,r=Dt,Fe=null,Un(e,t,n),Fe=a,Dt=r,Fe!==null)if(Dt)try{(Fe.nodeType===9?Fe.body:Fe.nodeName==="HTML"?Fe.ownerDocument.body:Fe).removeChild(n.stateNode)}catch(f){Be(n,t,f)}else try{Fe.removeChild(n.stateNode)}catch(f){Be(n,t,f)}break;case 18:Fe!==null&&(Dt?(e=Fe,mm(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,n.stateNode),ga(e)):mm(Fe,n.stateNode));break;case 4:a=Fe,r=Dt,Fe=n.stateNode.containerInfo,Dt=!0,Un(e,t,n),Fe=a,Dt=r;break;case 0:case 11:case 14:case 15:tt||Yn(2,n,t),tt||Yn(4,n,t),Un(e,t,n);break;case 1:tt||(yn(n,t),a=n.stateNode,typeof a.componentWillUnmount=="function"&&vf(n,t,a)),Un(e,t,n);break;case 21:Un(e,t,n);break;case 22:tt=(a=tt)||n.memoizedState!==null,Un(e,t,n),tt=a;break;default:Un(e,t,n)}}function Af(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{ga(e)}catch(n){Be(t,t.return,n)}}function zp(e){switch(e.tag){case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new Sf),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new Sf),t;default:throw Error(s(435,e.tag))}}function Lr(e,t){var n=zp(e);t.forEach(function(a){var r=Qp.bind(null,e,a);n.has(a)||(n.add(a),a.then(r,r))})}function jt(e,t){var n=t.deletions;if(n!==null)for(var a=0;a<n.length;a++){var r=n[a],f=e,x=t,b=x;e:for(;b!==null;){switch(b.tag){case 27:if(Wn(b.type)){Fe=b.stateNode,Dt=!1;break e}break;case 5:Fe=b.stateNode,Dt=!1;break e;case 3:case 4:Fe=b.stateNode.containerInfo,Dt=!0;break e}b=b.return}if(Fe===null)throw Error(s(160));Nf(f,x,r),Fe=null,Dt=!1,f=r.alternate,f!==null&&(f.return=null),r.return=null}if(t.subtreeFlags&13878)for(t=t.child;t!==null;)Mf(t,e),t=t.sibling}var rn=null;function Mf(e,t){var n=e.alternate,a=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:jt(t,e),zt(e),a&4&&(Yn(3,e,e.return),Zl(3,e),Yn(5,e,e.return));break;case 1:jt(t,e),zt(e),a&512&&(tt||n===null||yn(n,n.return)),a&64&&In&&(e=e.updateQueue,e!==null&&(a=e.callbacks,a!==null&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=n===null?a:n.concat(a))));break;case 26:var r=rn;if(jt(t,e),zt(e),a&512&&(tt||n===null||yn(n,n.return)),a&4){var f=n!==null?n.memoizedState:null;if(a=e.memoizedState,n===null)if(a===null)if(e.stateNode===null){e:{a=e.type,n=e.memoizedProps,r=r.ownerDocument||r;t:switch(a){case"title":f=r.getElementsByTagName("title")[0],(!f||f[hn]||f[We]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=r.createElement(a),r.head.insertBefore(f,r.querySelector("head > title"))),Tt(f,a,n),f[We]=e,mt(f),a=f;break e;case"link":var x=bm("link","href",r).get(a+(n.href||""));if(x){for(var b=0;b<x.length;b++)if(f=x[b],f.getAttribute("href")===(n.href==null||n.href===""?null:n.href)&&f.getAttribute("rel")===(n.rel==null?null:n.rel)&&f.getAttribute("title")===(n.title==null?null:n.title)&&f.getAttribute("crossorigin")===(n.crossOrigin==null?null:n.crossOrigin)){x.splice(b,1);break t}}f=r.createElement(a),Tt(f,a,n),r.head.appendChild(f);break;case"meta":if(x=bm("meta","content",r).get(a+(n.content||""))){for(b=0;b<x.length;b++)if(f=x[b],f.getAttribute("content")===(n.content==null?null:""+n.content)&&f.getAttribute("name")===(n.name==null?null:n.name)&&f.getAttribute("property")===(n.property==null?null:n.property)&&f.getAttribute("http-equiv")===(n.httpEquiv==null?null:n.httpEquiv)&&f.getAttribute("charset")===(n.charSet==null?null:n.charSet)){x.splice(b,1);break t}}f=r.createElement(a),Tt(f,a,n),r.head.appendChild(f);break;default:throw Error(s(468,a))}f[We]=e,mt(f),a=f}e.stateNode=a}else Sm(r,e.type,e.stateNode);else e.stateNode=Tm(r,a,e.memoizedProps);else f!==a?(f===null?n.stateNode!==null&&(n=n.stateNode,n.parentNode.removeChild(n)):f.count--,a===null?Sm(r,e.type,e.stateNode):Tm(r,a,e.memoizedProps)):a===null&&e.stateNode!==null&&Ir(e,e.memoizedProps,n.memoizedProps)}break;case 27:jt(t,e),zt(e),a&512&&(tt||n===null||yn(n,n.return)),n!==null&&a&4&&Ir(e,e.memoizedProps,n.memoizedProps);break;case 5:if(jt(t,e),zt(e),a&512&&(tt||n===null||yn(n,n.return)),e.flags&32){r=e.stateNode;try{Oi(r,"")}catch(j){Be(e,e.return,j)}}a&4&&e.stateNode!=null&&(r=e.memoizedProps,Ir(e,r,n!==null?n.memoizedProps:r)),a&1024&&(kr=!0);break;case 6:if(jt(t,e),zt(e),a&4){if(e.stateNode===null)throw Error(s(162));a=e.memoizedProps,n=e.stateNode;try{n.nodeValue=a}catch(j){Be(e,e.return,j)}}break;case 3:if(Do=null,r=rn,rn=wo(t.containerInfo),jt(t,e),rn=r,zt(e),a&4&&n!==null&&n.memoizedState.isDehydrated)try{ga(t.containerInfo)}catch(j){Be(e,e.return,j)}kr&&(kr=!1,_f(e));break;case 4:a=rn,rn=wo(e.stateNode.containerInfo),jt(t,e),zt(e),rn=a;break;case 12:jt(t,e),zt(e);break;case 13:jt(t,e),zt(e),e.child.flags&8192&&e.memoizedState!==null!=(n!==null&&n.memoizedState!==null)&&(Hr=Yt()),a&4&&(a=e.updateQueue,a!==null&&(e.updateQueue=null,Lr(e,a)));break;case 22:r=e.memoizedState!==null;var M=n!==null&&n.memoizedState!==null,k=In,H=tt;if(In=k||r,tt=H||M,jt(t,e),tt=H,In=k,zt(e),a&8192)e:for(t=e.stateNode,t._visibility=r?t._visibility&-2:t._visibility|1,r&&(n===null||M||In||tt||Ai(e)),n=null,t=e;;){if(t.tag===5||t.tag===26){if(n===null){M=n=t;try{if(f=M.stateNode,r)x=f.style,typeof x.setProperty=="function"?x.setProperty("display","none","important"):x.display="none";else{b=M.stateNode;var Y=M.memoizedProps.style,B=Y!=null&&Y.hasOwnProperty("display")?Y.display:null;b.style.display=B==null||typeof B=="boolean"?"":(""+B).trim()}}catch(j){Be(M,M.return,j)}}}else if(t.tag===6){if(n===null){M=t;try{M.stateNode.nodeValue=r?"":M.memoizedProps}catch(j){Be(M,M.return,j)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}a&4&&(a=e.updateQueue,a!==null&&(n=a.retryQueue,n!==null&&(a.retryQueue=null,Lr(e,n))));break;case 19:jt(t,e),zt(e),a&4&&(a=e.updateQueue,a!==null&&(e.updateQueue=null,Lr(e,a)));break;case 30:break;case 21:break;default:jt(t,e),zt(e)}}function zt(e){var t=e.flags;if(t&2){try{for(var n,a=e.return;a!==null;){if(Tf(a)){n=a;break}a=a.return}if(n==null)throw Error(s(160));switch(n.tag){case 27:var r=n.stateNode,f=Ur(e);po(e,f,r);break;case 5:var x=n.stateNode;n.flags&32&&(Oi(x,""),n.flags&=-33);var b=Ur(e);po(e,b,x);break;case 3:case 4:var M=n.stateNode.containerInfo,k=Ur(e);Vr(e,k,M);break;default:throw Error(s(161))}}catch(H){Be(e,e.return,H)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function _f(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;_f(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function Fn(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)Ef(e,t.alternate,t),t=t.sibling}function Ai(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:Yn(4,t,t.return),Ai(t);break;case 1:yn(t,t.return);var n=t.stateNode;typeof n.componentWillUnmount=="function"&&vf(t,t.return,n),Ai(t);break;case 27:sa(t.stateNode);case 26:case 5:yn(t,t.return),Ai(t);break;case 22:t.memoizedState===null&&Ai(t);break;case 30:Ai(t);break;default:Ai(t)}e=e.sibling}}function Kn(e,t,n){for(n=n&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var a=t.alternate,r=e,f=t,x=f.flags;switch(f.tag){case 0:case 11:case 15:Kn(r,f,n),Zl(4,f);break;case 1:if(Kn(r,f,n),a=f,r=a.stateNode,typeof r.componentDidMount=="function")try{r.componentDidMount()}catch(k){Be(a,a.return,k)}if(a=f,r=a.updateQueue,r!==null){var b=a.stateNode;try{var M=r.shared.hiddenCallbacks;if(M!==null)for(r.shared.hiddenCallbacks=null,r=0;r<M.length;r++)nd(M[r],b)}catch(k){Be(a,a.return,k)}}n&&x&64&&yf(f),$l(f,f.return);break;case 27:bf(f);case 26:case 5:Kn(r,f,n),n&&a===null&&x&4&&xf(f),$l(f,f.return);break;case 12:Kn(r,f,n);break;case 13:Kn(r,f,n),n&&x&4&&Af(r,f);break;case 22:f.memoizedState===null&&Kn(r,f,n),$l(f,f.return);break;case 30:break;default:Kn(r,f,n)}t=t.sibling}}function Gr(e,t){var n=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==n&&(e!=null&&e.refCount++,n!=null&&Gl(n))}function Br(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Gl(e))}function vn(e,t,n,a){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)wf(e,t,n,a),t=t.sibling}function wf(e,t,n,a){var r=t.flags;switch(t.tag){case 0:case 11:case 15:vn(e,t,n,a),r&2048&&Zl(9,t);break;case 1:vn(e,t,n,a);break;case 3:vn(e,t,n,a),r&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Gl(e)));break;case 12:if(r&2048){vn(e,t,n,a),e=t.stateNode;try{var f=t.memoizedProps,x=f.id,b=f.onPostCommit;typeof b=="function"&&b(x,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(M){Be(t,t.return,M)}}else vn(e,t,n,a);break;case 13:vn(e,t,n,a);break;case 23:break;case 22:f=t.stateNode,x=t.alternate,t.memoizedState!==null?f._visibility&2?vn(e,t,n,a):Wl(e,t):f._visibility&2?vn(e,t,n,a):(f._visibility|=2,ol(e,t,n,a,(t.subtreeFlags&10256)!==0)),r&2048&&Gr(x,t);break;case 24:vn(e,t,n,a),r&2048&&Br(t.alternate,t);break;default:vn(e,t,n,a)}}function ol(e,t,n,a,r){for(r=r&&(t.subtreeFlags&10256)!==0,t=t.child;t!==null;){var f=e,x=t,b=n,M=a,k=x.flags;switch(x.tag){case 0:case 11:case 15:ol(f,x,b,M,r),Zl(8,x);break;case 23:break;case 22:var H=x.stateNode;x.memoizedState!==null?H._visibility&2?ol(f,x,b,M,r):Wl(f,x):(H._visibility|=2,ol(f,x,b,M,r)),r&&k&2048&&Gr(x.alternate,x);break;case 24:ol(f,x,b,M,r),r&&k&2048&&Br(x.alternate,x);break;default:ol(f,x,b,M,r)}t=t.sibling}}function Wl(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var n=e,a=t,r=a.flags;switch(a.tag){case 22:Wl(n,a),r&2048&&Gr(a.alternate,a);break;case 24:Wl(n,a),r&2048&&Br(a.alternate,a);break;default:Wl(n,a)}t=t.sibling}}var ea=8192;function sl(e){if(e.subtreeFlags&ea)for(e=e.child;e!==null;)Rf(e),e=e.sibling}function Rf(e){switch(e.tag){case 26:sl(e),e.flags&ea&&e.memoizedState!==null&&N0(rn,e.memoizedState,e.memoizedProps);break;case 5:sl(e);break;case 3:case 4:var t=rn;rn=wo(e.stateNode.containerInfo),sl(e),rn=t;break;case 22:e.memoizedState===null&&(t=e.alternate,t!==null&&t.memoizedState!==null?(t=ea,ea=16777216,sl(e),ea=t):sl(e));break;default:sl(e)}}function Df(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function ta(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var n=0;n<t.length;n++){var a=t[n];gt=a,Uf(a,e)}Df(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)If(e),e=e.sibling}function If(e){switch(e.tag){case 0:case 11:case 15:ta(e),e.flags&2048&&Yn(9,e,e.return);break;case 3:ta(e);break;case 12:ta(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,yo(e)):ta(e);break;default:ta(e)}}function yo(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var n=0;n<t.length;n++){var a=t[n];gt=a,Uf(a,e)}Df(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:Yn(8,t,t.return),yo(t);break;case 22:n=t.stateNode,n._visibility&2&&(n._visibility&=-3,yo(t));break;default:yo(t)}e=e.sibling}}function Uf(e,t){for(;gt!==null;){var n=gt;switch(n.tag){case 0:case 11:case 15:Yn(8,n,t);break;case 23:case 22:if(n.memoizedState!==null&&n.memoizedState.cachePool!==null){var a=n.memoizedState.cachePool.pool;a!=null&&a.refCount++}break;case 24:Gl(n.memoizedState.cache)}if(a=n.child,a!==null)a.return=n,gt=a;else e:for(n=e;gt!==null;){a=gt;var r=a.sibling,f=a.return;if(Cf(a),a===n){gt=null;break e}if(r!==null){r.return=f,gt=r;break e}gt=f}}}var Op={getCacheForType:function(e){var t=Et(ut),n=t.data.get(e);return n===void 0&&(n=e(),t.data.set(e,n)),n}},Hp=typeof WeakMap=="function"?WeakMap:Map,Re=0,Oe=null,ve=null,Te=0,De=0,Ot=null,Xn=!1,rl=!1,jr=!1,Vn=0,Je=0,Qn=0,Mi=0,zr=0,en=0,ul=0,na=null,It=null,Or=!1,Hr=0,vo=1/0,xo=null,Jn=null,xt=0,Zn=null,cl=null,dl=0,qr=0,Pr=null,Vf=null,ia=0,Yr=null;function Ht(){if((Re&2)!==0&&Te!==0)return Te&-Te;if(z.T!==null){var e=$i;return e!==0?e:$r()}return St()}function kf(){en===0&&(en=(Te&536870912)===0||Ce?kt():536870912);var e=Wt.current;return e!==null&&(e.flags|=32),en}function qt(e,t,n){(e===Oe&&(De===2||De===9)||e.cancelPendingCommit!==null)&&(fl(e,0),$n(e,Te,en,!1)),Me(e,n),((Re&2)===0||e!==Oe)&&(e===Oe&&((Re&2)===0&&(Mi|=n),Je===4&&$n(e,Te,en,!1)),xn(e))}function Lf(e,t,n){if((Re&6)!==0)throw Error(s(327));var a=!n&&(t&124)===0&&(t&e.expiredLanes)===0||Xe(e,t),r=a?Yp(e,t):Xr(e,t,!0),f=a;do{if(r===0){rl&&!a&&$n(e,t,0,!1);break}else{if(n=e.current.alternate,f&&!qp(n)){r=Xr(e,t,!1),f=!1;continue}if(r===2){if(f=t,e.errorRecoveryDisabledLanes&f)var x=0;else x=e.pendingLanes&-536870913,x=x!==0?x:x&536870912?536870912:0;if(x!==0){t=x;e:{var b=e;r=na;var M=b.current.memoizedState.isDehydrated;if(M&&(fl(b,x).flags|=256),x=Xr(b,x,!1),x!==2){if(jr&&!M){b.errorRecoveryDisabledLanes|=f,Mi|=f,r=4;break e}f=It,It=r,f!==null&&(It===null?It=f:It.push.apply(It,f))}r=x}if(f=!1,r!==2)continue}}if(r===1){fl(e,0),$n(e,t,0,!0);break}e:{switch(a=e,f=r,f){case 0:case 1:throw Error(s(345));case 4:if((t&4194048)!==t)break;case 6:$n(a,t,en,!Xn);break e;case 2:It=null;break;case 3:case 5:break;default:throw Error(s(329))}if((t&62914560)===t&&(r=Hr+300-Yt(),10<r)){if($n(a,t,en,!Xn),_e(a,0,!0)!==0)break e;a.timeoutHandle=dm(Gf.bind(null,a,n,It,xo,Or,t,en,Mi,ul,Xn,f,2,-0,0),r);break e}Gf(a,n,It,xo,Or,t,en,Mi,ul,Xn,f,0,-0,0)}}break}while(!0);xn(e)}function Gf(e,t,n,a,r,f,x,b,M,k,H,Y,B,j){if(e.timeoutHandle=-1,Y=t.subtreeFlags,(Y&8192||(Y&16785408)===16785408)&&(ca={stylesheets:null,count:0,unsuspend:C0},Rf(t),Y=A0(),Y!==null)){e.cancelPendingCommit=Y(Pf.bind(null,e,t,f,n,a,r,x,b,M,H,1,B,j)),$n(e,f,x,!k);return}Pf(e,t,f,n,a,r,x,b,M)}function qp(e){for(var t=e;;){var n=t.tag;if((n===0||n===11||n===15)&&t.flags&16384&&(n=t.updateQueue,n!==null&&(n=n.stores,n!==null)))for(var a=0;a<n.length;a++){var r=n[a],f=r.getSnapshot;r=r.value;try{if(!Gt(f(),r))return!1}catch{return!1}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function $n(e,t,n,a){t&=~zr,t&=~Mi,e.suspendedLanes|=t,e.pingedLanes&=~t,a&&(e.warmLanes|=t),a=e.expirationTimes;for(var r=t;0<r;){var f=31-bt(r),x=1<<f;a[f]=-1,r&=~x}n!==0&&nt(e,n,t)}function To(){return(Re&6)===0?(la(0),!1):!0}function Fr(){if(ve!==null){if(De===0)var e=ve.return;else e=ve,An=bi=null,ur(e),ll=null,Xl=0,e=ve;for(;e!==null;)pf(e.alternate,e),e=e.return;ve=null}}function fl(e,t){var n=e.timeoutHandle;n!==-1&&(e.timeoutHandle=-1,s0(n)),n=e.cancelPendingCommit,n!==null&&(e.cancelPendingCommit=null,n()),Fr(),Oe=e,ve=n=En(e.current,null),Te=t,De=0,Ot=null,Xn=!1,rl=Xe(e,t),jr=!1,ul=en=zr=Mi=Qn=Je=0,It=na=null,Or=!1,(t&8)!==0&&(t|=t&32);var a=e.entangledLanes;if(a!==0)for(e=e.entanglements,a&=t;0<a;){var r=31-bt(a),f=1<<r;t|=e[r],a&=~f}return Vn=t,Oa(),n}function Bf(e,t){he=null,z.H=oo,t===jl||t===Ja?(t=ed(),De=3):t===Zc?(t=ed(),De=4):De=t===tf?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,Ot=t,ve===null&&(Je=1,fo(e,Qt(t,e.current)))}function jf(){var e=z.H;return z.H=oo,e===null?oo:e}function zf(){var e=z.A;return z.A=Op,e}function Kr(){Je=4,Xn||(Te&4194048)!==Te&&Wt.current!==null||(rl=!0),(Qn&134217727)===0&&(Mi&134217727)===0||Oe===null||$n(Oe,Te,en,!1)}function Xr(e,t,n){var a=Re;Re|=2;var r=jf(),f=zf();(Oe!==e||Te!==t)&&(xo=null,fl(e,t)),t=!1;var x=Je;e:do try{if(De!==0&&ve!==null){var b=ve,M=Ot;switch(De){case 8:Fr(),x=6;break e;case 3:case 2:case 9:case 6:Wt.current===null&&(t=!0);var k=De;if(De=0,Ot=null,ml(e,b,M,k),n&&rl){x=0;break e}break;default:k=De,De=0,Ot=null,ml(e,b,M,k)}}Pp(),x=Je;break}catch(H){Bf(e,H)}while(!0);return t&&e.shellSuspendCounter++,An=bi=null,Re=a,z.H=r,z.A=f,ve===null&&(Oe=null,Te=0,Oa()),x}function Pp(){for(;ve!==null;)Of(ve)}function Yp(e,t){var n=Re;Re|=2;var a=jf(),r=zf();Oe!==e||Te!==t?(xo=null,vo=Yt()+500,fl(e,t)):rl=Xe(e,t);e:do try{if(De!==0&&ve!==null){t=ve;var f=Ot;t:switch(De){case 1:De=0,Ot=null,ml(e,t,f,1);break;case 2:case 9:if($c(f)){De=0,Ot=null,Hf(t);break}t=function(){De!==2&&De!==9||Oe!==e||(De=7),xn(e)},f.then(t,t);break e;case 3:De=7;break e;case 4:De=5;break e;case 7:$c(f)?(De=0,Ot=null,Hf(t)):(De=0,Ot=null,ml(e,t,f,7));break;case 5:var x=null;switch(ve.tag){case 26:x=ve.memoizedState;case 5:case 27:var b=ve;if(!x||Em(x)){De=0,Ot=null;var M=b.sibling;if(M!==null)ve=M;else{var k=b.return;k!==null?(ve=k,bo(k)):ve=null}break t}}De=0,Ot=null,ml(e,t,f,5);break;case 6:De=0,Ot=null,ml(e,t,f,6);break;case 8:Fr(),Je=6;break e;default:throw Error(s(462))}}Fp();break}catch(H){Bf(e,H)}while(!0);return An=bi=null,z.H=a,z.A=r,Re=n,ve!==null?0:(Oe=null,Te=0,Oa(),Je)}function Fp(){for(;ve!==null&&!us();)Of(ve)}function Of(e){var t=hf(e.alternate,e,Vn);e.memoizedProps=e.pendingProps,t===null?bo(e):ve=t}function Hf(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=rf(n,t,t.pendingProps,t.type,void 0,Te);break;case 11:t=rf(n,t,t.pendingProps,t.type.render,t.ref,Te);break;case 5:ur(t);default:pf(n,t),t=ve=Hc(t,Vn),t=hf(n,t,Vn)}e.memoizedProps=e.pendingProps,t===null?bo(e):ve=t}function ml(e,t,n,a){An=bi=null,ur(t),ll=null,Xl=0;var r=t.return;try{if(kp(e,r,t,n,Te)){Je=1,fo(e,Qt(n,e.current)),ve=null;return}}catch(f){if(r!==null)throw ve=r,f;Je=1,fo(e,Qt(n,e.current)),ve=null;return}t.flags&32768?(Ce||a===1?e=!0:rl||(Te&536870912)!==0?e=!1:(Xn=e=!0,(a===2||a===9||a===3||a===6)&&(a=Wt.current,a!==null&&a.tag===13&&(a.flags|=16384))),qf(t,e)):bo(t)}function bo(e){var t=e;do{if((t.flags&32768)!==0){qf(t,Xn);return}e=t.return;var n=Gp(t.alternate,t,Vn);if(n!==null){ve=n;return}if(t=t.sibling,t!==null){ve=t;return}ve=t=e}while(t!==null);Je===0&&(Je=5)}function qf(e,t){do{var n=Bp(e.alternate,e);if(n!==null){n.flags&=32767,ve=n;return}if(n=e.return,n!==null&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&(e=e.sibling,e!==null)){ve=e;return}ve=e=n}while(e!==null);Je=6,ve=null}function Pf(e,t,n,a,r,f,x,b,M){e.cancelPendingCommit=null;do So();while(xt!==0);if((Re&6)!==0)throw Error(s(327));if(t!==null){if(t===e.current)throw Error(s(177));if(f=t.lanes|t.childLanes,f|=Bs,$e(e,n,f,x,b,M),e===Oe&&(ve=Oe=null,Te=0),cl=t,Zn=e,dl=n,qr=f,Pr=r,Vf=a,(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,Jp(ci,function(){return Qf(),null})):(e.callbackNode=null,e.callbackPriority=0),a=(t.flags&13878)!==0,(t.subtreeFlags&13878)!==0||a){a=z.T,z.T=null,r=U.p,U.p=2,x=Re,Re|=4;try{jp(e,t,n)}finally{Re=x,U.p=r,z.T=a}}xt=1,Yf(),Ff(),Kf()}}function Yf(){if(xt===1){xt=0;var e=Zn,t=cl,n=(t.flags&13878)!==0;if((t.subtreeFlags&13878)!==0||n){n=z.T,z.T=null;var a=U.p;U.p=2;var r=Re;Re|=4;try{Mf(t,e);var f=ou,x=Ic(e.containerInfo),b=f.focusedElem,M=f.selectionRange;if(x!==b&&b&&b.ownerDocument&&Dc(b.ownerDocument.documentElement,b)){if(M!==null&&Us(b)){var k=M.start,H=M.end;if(H===void 0&&(H=k),"selectionStart"in b)b.selectionStart=k,b.selectionEnd=Math.min(H,b.value.length);else{var Y=b.ownerDocument||document,B=Y&&Y.defaultView||window;if(B.getSelection){var j=B.getSelection(),ce=b.textContent.length,se=Math.min(M.start,ce),ke=M.end===void 0?se:Math.min(M.end,ce);!j.extend&&se>ke&&(x=ke,ke=se,se=x);var I=Rc(b,se),w=Rc(b,ke);if(I&&w&&(j.rangeCount!==1||j.anchorNode!==I.node||j.anchorOffset!==I.offset||j.focusNode!==w.node||j.focusOffset!==w.offset)){var V=Y.createRange();V.setStart(I.node,I.offset),j.removeAllRanges(),se>ke?(j.addRange(V),j.extend(w.node,w.offset)):(V.setEnd(w.node,w.offset),j.addRange(V))}}}}for(Y=[],j=b;j=j.parentNode;)j.nodeType===1&&Y.push({element:j,left:j.scrollLeft,top:j.scrollTop});for(typeof b.focus=="function"&&b.focus(),b=0;b<Y.length;b++){var P=Y[b];P.element.scrollLeft=P.left,P.element.scrollTop=P.top}}Vo=!!au,ou=au=null}finally{Re=r,U.p=a,z.T=n}}e.current=t,xt=2}}function Ff(){if(xt===2){xt=0;var e=Zn,t=cl,n=(t.flags&8772)!==0;if((t.subtreeFlags&8772)!==0||n){n=z.T,z.T=null;var a=U.p;U.p=2;var r=Re;Re|=4;try{Ef(e,t.alternate,t)}finally{Re=r,U.p=a,z.T=n}}xt=3}}function Kf(){if(xt===4||xt===3){xt=0,cs();var e=Zn,t=cl,n=dl,a=Vf;(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?xt=5:(xt=0,cl=Zn=null,Xf(e,e.pendingLanes));var r=e.pendingLanes;if(r===0&&(Jn=null),_t(n),t=t.stateNode,Ye&&typeof Ye.onCommitFiberRoot=="function")try{Ye.onCommitFiberRoot(di,t,void 0,(t.current.flags&128)===128)}catch{}if(a!==null){t=z.T,r=U.p,U.p=2,z.T=null;try{for(var f=e.onRecoverableError,x=0;x<a.length;x++){var b=a[x];f(b.value,{componentStack:b.stack})}}finally{z.T=t,U.p=r}}(dl&3)!==0&&So(),xn(e),r=e.pendingLanes,(n&4194090)!==0&&(r&42)!==0?e===Yr?ia++:(ia=0,Yr=e):ia=0,la(0)}}function Xf(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,Gl(t)))}function So(e){return Yf(),Ff(),Kf(),Qf()}function Qf(){if(xt!==5)return!1;var e=Zn,t=qr;qr=0;var n=_t(dl),a=z.T,r=U.p;try{U.p=32>n?32:n,z.T=null,n=Pr,Pr=null;var f=Zn,x=dl;if(xt=0,cl=Zn=null,dl=0,(Re&6)!==0)throw Error(s(331));var b=Re;if(Re|=4,If(f.current),wf(f,f.current,x,n),Re=b,la(0,!1),Ye&&typeof Ye.onPostCommitFiberRoot=="function")try{Ye.onPostCommitFiberRoot(di,f)}catch{}return!0}finally{U.p=r,z.T=a,Xf(e,t)}}function Jf(e,t,n){t=Qt(n,t),t=Er(e.stateNode,t,2),e=On(e,t,2),e!==null&&(Me(e,2),xn(e))}function Be(e,t,n){if(e.tag===3)Jf(e,e,n);else for(;t!==null;){if(t.tag===3){Jf(t,e,n);break}else if(t.tag===1){var a=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof a.componentDidCatch=="function"&&(Jn===null||!Jn.has(a))){e=Qt(n,e),n=Wd(2),a=On(t,n,2),a!==null&&(ef(n,a,t,e),Me(a,2),xn(a));break}}t=t.return}}function Qr(e,t,n){var a=e.pingCache;if(a===null){a=e.pingCache=new Hp;var r=new Set;a.set(t,r)}else r=a.get(t),r===void 0&&(r=new Set,a.set(t,r));r.has(n)||(jr=!0,r.add(n),e=Kp.bind(null,e,t,n),t.then(e,e))}function Kp(e,t,n){var a=e.pingCache;a!==null&&a.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,Oe===e&&(Te&n)===n&&(Je===4||Je===3&&(Te&62914560)===Te&&300>Yt()-Hr?(Re&2)===0&&fl(e,0):zr|=n,ul===Te&&(ul=0)),xn(e)}function Zf(e,t){t===0&&(t=Lt()),e=Xi(e,t),e!==null&&(Me(e,t),xn(e))}function Xp(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Zf(e,n)}function Qp(e,t){var n=0;switch(e.tag){case 13:var a=e.stateNode,r=e.memoizedState;r!==null&&(n=r.retryLane);break;case 19:a=e.stateNode;break;case 22:a=e.stateNode._retryCache;break;default:throw Error(s(314))}a!==null&&a.delete(t),Zf(e,n)}function Jp(e,t){return Pt(e,t)}var Eo=null,hl=null,Jr=!1,Co=!1,Zr=!1,_i=0;function xn(e){e!==hl&&e.next===null&&(hl===null?Eo=hl=e:hl=hl.next=e),Co=!0,Jr||(Jr=!0,$p())}function la(e,t){if(!Zr&&Co){Zr=!0;do for(var n=!1,a=Eo;a!==null;){if(e!==0){var r=a.pendingLanes;if(r===0)var f=0;else{var x=a.suspendedLanes,b=a.pingedLanes;f=(1<<31-bt(42|e)+1)-1,f&=r&~(x&~b),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(n=!0,tm(a,f))}else f=Te,f=_e(a,a===Oe?f:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),(f&3)===0||Xe(a,f)||(n=!0,tm(a,f));a=a.next}while(n);Zr=!1}}function Zp(){$f()}function $f(){Co=Jr=!1;var e=0;_i!==0&&(o0()&&(e=_i),_i=0);for(var t=Yt(),n=null,a=Eo;a!==null;){var r=a.next,f=Wf(a,t);f===0?(a.next=null,n===null?Eo=r:n.next=r,r===null&&(hl=n)):(n=a,(e!==0||(f&3)!==0)&&(Co=!0)),a=r}la(e)}function Wf(e,t){for(var n=e.suspendedLanes,a=e.pingedLanes,r=e.expirationTimes,f=e.pendingLanes&-62914561;0<f;){var x=31-bt(f),b=1<<x,M=r[x];M===-1?((b&n)===0||(b&a)!==0)&&(r[x]=on(b,t)):M<=t&&(e.expiredLanes|=b),f&=~b}if(t=Oe,n=Te,n=_e(e,e===t?n:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),a=e.callbackNode,n===0||e===t&&(De===2||De===9)||e.cancelPendingCommit!==null)return a!==null&&a!==null&&Ln(a),e.callbackNode=null,e.callbackPriority=0;if((n&3)===0||Xe(e,n)){if(t=n&-n,t===e.callbackPriority)return t;switch(a!==null&&Ln(a),_t(n)){case 2:case 8:n=bl;break;case 32:n=ci;break;case 268435456:n=wa;break;default:n=ci}return a=em.bind(null,e),n=Pt(n,a),e.callbackPriority=t,e.callbackNode=n,t}return a!==null&&a!==null&&Ln(a),e.callbackPriority=2,e.callbackNode=null,2}function em(e,t){if(xt!==0&&xt!==5)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if(So()&&e.callbackNode!==n)return null;var a=Te;return a=_e(e,e===Oe?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),a===0?null:(Lf(e,a,t),Wf(e,Yt()),e.callbackNode!=null&&e.callbackNode===n?em.bind(null,e):null)}function tm(e,t){if(So())return null;Lf(e,t,!0)}function $p(){r0(function(){(Re&6)!==0?Pt(Ma,Zp):$f()})}function $r(){return _i===0&&(_i=kt()),_i}function nm(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Va(""+e)}function im(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}function Wp(e,t,n,a,r){if(t==="submit"&&n&&n.stateNode===r){var f=nm((r[rt]||null).action),x=a.submitter;x&&(t=(t=x[rt]||null)?nm(t.formAction):x.getAttribute("formAction"),t!==null&&(f=t,x=null));var b=new Ba("action","action",null,a,r);e.push({event:b,listeners:[{instance:null,listener:function(){if(a.defaultPrevented){if(_i!==0){var M=x?im(r,x):new FormData(r);vr(n,{pending:!0,data:M,method:r.method,action:f},null,M)}}else typeof f=="function"&&(b.preventDefault(),M=x?im(r,x):new FormData(r),vr(n,{pending:!0,data:M,method:r.method,action:f},f,M))},currentTarget:r}]})}}for(var Wr=0;Wr<Gs.length;Wr++){var eu=Gs[Wr],e0=eu.toLowerCase(),t0=eu[0].toUpperCase()+eu.slice(1);sn(e0,"on"+t0)}sn(kc,"onAnimationEnd"),sn(Lc,"onAnimationIteration"),sn(Gc,"onAnimationStart"),sn("dblclick","onDoubleClick"),sn("focusin","onFocus"),sn("focusout","onBlur"),sn(vp,"onTransitionRun"),sn(xp,"onTransitionStart"),sn(Tp,"onTransitionCancel"),sn(Bc,"onTransitionEnd"),Bi("onMouseEnter",["mouseout","mouseover"]),Bi("onMouseLeave",["mouseout","mouseover"]),Bi("onPointerEnter",["pointerout","pointerover"]),Bi("onPointerLeave",["pointerout","pointerover"]),fi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),fi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),fi("onBeforeInput",["compositionend","keypress","textInput","paste"]),fi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),fi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),fi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var aa="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),n0=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(aa));function lm(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var a=e[n],r=a.event;a=a.listeners;e:{var f=void 0;if(t)for(var x=a.length-1;0<=x;x--){var b=a[x],M=b.instance,k=b.currentTarget;if(b=b.listener,M!==f&&r.isPropagationStopped())break e;f=b,r.currentTarget=k;try{f(r)}catch(H){co(H)}r.currentTarget=null,f=M}else for(x=0;x<a.length;x++){if(b=a[x],M=b.instance,k=b.currentTarget,b=b.listener,M!==f&&r.isPropagationStopped())break e;f=b,r.currentTarget=k;try{f(r)}catch(H){co(H)}r.currentTarget=null,f=M}}}}function xe(e,t){var n=t[mn];n===void 0&&(n=t[mn]=new Set);var a=e+"__bubble";n.has(a)||(am(t,e,2,!1),n.add(a))}function tu(e,t,n){var a=0;t&&(a|=4),am(n,e,a,t)}var No="_reactListening"+Math.random().toString(36).slice(2);function nu(e){if(!e[No]){e[No]=!0,Zu.forEach(function(n){n!=="selectionchange"&&(n0.has(n)||tu(n,!1,e),tu(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[No]||(t[No]=!0,tu("selectionchange",!1,t))}}function am(e,t,n,a){switch(wm(t)){case 2:var r=w0;break;case 8:r=R0;break;default:r=pu}n=r.bind(null,t,n,e),r=void 0,!Cs||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(r=!0),a?r!==void 0?e.addEventListener(t,n,{capture:!0,passive:r}):e.addEventListener(t,n,!0):r!==void 0?e.addEventListener(t,n,{passive:r}):e.addEventListener(t,n,!1)}function iu(e,t,n,a,r){var f=a;if((t&1)===0&&(t&2)===0&&a!==null)e:for(;;){if(a===null)return;var x=a.tag;if(x===3||x===4){var b=a.stateNode.containerInfo;if(b===r)break;if(x===4)for(x=a.return;x!==null;){var M=x.tag;if((M===3||M===4)&&x.stateNode.containerInfo===r)return;x=x.return}for(;b!==null;){if(x=ki(b),x===null)return;if(M=x.tag,M===5||M===6||M===26||M===27){a=f=x;continue e}b=b.parentNode}}a=a.return}dc(function(){var k=f,H=Ss(n),Y=[];e:{var B=jc.get(e);if(B!==void 0){var j=Ba,ce=e;switch(e){case"keypress":if(La(n)===0)break e;case"keydown":case"keyup":j=Jg;break;case"focusin":ce="focus",j=_s;break;case"focusout":ce="blur",j=_s;break;case"beforeblur":case"afterblur":j=_s;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":j=hc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":j=Bg;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":j=Wg;break;case kc:case Lc:case Gc:j=Og;break;case Bc:j=tp;break;case"scroll":case"scrollend":j=Lg;break;case"wheel":j=ip;break;case"copy":case"cut":case"paste":j=qg;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":j=pc;break;case"toggle":case"beforetoggle":j=ap}var se=(t&4)!==0,ke=!se&&(e==="scroll"||e==="scrollend"),I=se?B!==null?B+"Capture":null:B;se=[];for(var w=k,V;w!==null;){var P=w;if(V=P.stateNode,P=P.tag,P!==5&&P!==26&&P!==27||V===null||I===null||(P=Cl(w,I),P!=null&&se.push(oa(w,P,V))),ke)break;w=w.return}0<se.length&&(B=new j(B,ce,null,n,H),Y.push({event:B,listeners:se}))}}if((t&7)===0){e:{if(B=e==="mouseover"||e==="pointerover",j=e==="mouseout"||e==="pointerout",B&&n!==bs&&(ce=n.relatedTarget||n.fromElement)&&(ki(ce)||ce[it]))break e;if((j||B)&&(B=H.window===H?H:(B=H.ownerDocument)?B.defaultView||B.parentWindow:window,j?(ce=n.relatedTarget||n.toElement,j=k,ce=ce?ki(ce):null,ce!==null&&(ke=m(ce),se=ce.tag,ce!==ke||se!==5&&se!==27&&se!==6)&&(ce=null)):(j=null,ce=k),j!==ce)){if(se=hc,P="onMouseLeave",I="onMouseEnter",w="mouse",(e==="pointerout"||e==="pointerover")&&(se=pc,P="onPointerLeave",I="onPointerEnter",w="pointer"),ke=j==null?B:El(j),V=ce==null?B:El(ce),B=new se(P,w+"leave",j,n,H),B.target=ke,B.relatedTarget=V,P=null,ki(H)===k&&(se=new se(I,w+"enter",ce,n,H),se.target=V,se.relatedTarget=ke,P=se),ke=P,j&&ce)t:{for(se=j,I=ce,w=0,V=se;V;V=gl(V))w++;for(V=0,P=I;P;P=gl(P))V++;for(;0<w-V;)se=gl(se),w--;for(;0<V-w;)I=gl(I),V--;for(;w--;){if(se===I||I!==null&&se===I.alternate)break t;se=gl(se),I=gl(I)}se=null}else se=null;j!==null&&om(Y,B,j,se,!1),ce!==null&&ke!==null&&om(Y,ke,ce,se,!0)}}e:{if(B=k?El(k):window,j=B.nodeName&&B.nodeName.toLowerCase(),j==="select"||j==="input"&&B.type==="file")var ne=Cc;else if(Sc(B))if(Nc)ne=gp;else{ne=mp;var pe=fp}else j=B.nodeName,!j||j.toLowerCase()!=="input"||B.type!=="checkbox"&&B.type!=="radio"?k&&Ts(k.elementType)&&(ne=Cc):ne=hp;if(ne&&(ne=ne(e,k))){Ec(Y,ne,n,H);break e}pe&&pe(e,B,k),e==="focusout"&&k&&B.type==="number"&&k.memoizedProps.value!=null&&xs(B,"number",B.value)}switch(pe=k?El(k):window,e){case"focusin":(Sc(pe)||pe.contentEditable==="true")&&(Yi=pe,Vs=k,Il=null);break;case"focusout":Il=Vs=Yi=null;break;case"mousedown":ks=!0;break;case"contextmenu":case"mouseup":case"dragend":ks=!1,Uc(Y,n,H);break;case"selectionchange":if(yp)break;case"keydown":case"keyup":Uc(Y,n,H)}var le;if(Rs)e:{switch(e){case"compositionstart":var re="onCompositionStart";break e;case"compositionend":re="onCompositionEnd";break e;case"compositionupdate":re="onCompositionUpdate";break e}re=void 0}else Pi?Tc(e,n)&&(re="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(re="onCompositionStart");re&&(yc&&n.locale!=="ko"&&(Pi||re!=="onCompositionStart"?re==="onCompositionEnd"&&Pi&&(le=fc()):(Gn=H,Ns="value"in Gn?Gn.value:Gn.textContent,Pi=!0)),pe=Ao(k,re),0<pe.length&&(re=new gc(re,e,null,n,H),Y.push({event:re,listeners:pe}),le?re.data=le:(le=bc(n),le!==null&&(re.data=le)))),(le=sp?rp(e,n):up(e,n))&&(re=Ao(k,"onBeforeInput"),0<re.length&&(pe=new gc("onBeforeInput","beforeinput",null,n,H),Y.push({event:pe,listeners:re}),pe.data=le)),Wp(Y,e,k,n,H)}lm(Y,t)})}function oa(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Ao(e,t){for(var n=t+"Capture",a=[];e!==null;){var r=e,f=r.stateNode;if(r=r.tag,r!==5&&r!==26&&r!==27||f===null||(r=Cl(e,n),r!=null&&a.unshift(oa(e,r,f)),r=Cl(e,t),r!=null&&a.push(oa(e,r,f))),e.tag===3)return a;e=e.return}return[]}function gl(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function om(e,t,n,a,r){for(var f=t._reactName,x=[];n!==null&&n!==a;){var b=n,M=b.alternate,k=b.stateNode;if(b=b.tag,M!==null&&M===a)break;b!==5&&b!==26&&b!==27||k===null||(M=k,r?(k=Cl(n,f),k!=null&&x.unshift(oa(n,k,M))):r||(k=Cl(n,f),k!=null&&x.push(oa(n,k,M)))),n=n.return}x.length!==0&&e.push({event:t,listeners:x})}var i0=/\r\n?/g,l0=/\u0000|\uFFFD/g;function sm(e){return(typeof e=="string"?e:""+e).replace(i0,`
`).replace(l0,"")}function rm(e,t){return t=sm(t),sm(e)===t}function Mo(){}function Ve(e,t,n,a,r,f){switch(n){case"children":typeof a=="string"?t==="body"||t==="textarea"&&a===""||Oi(e,a):(typeof a=="number"||typeof a=="bigint")&&t!=="body"&&Oi(e,""+a);break;case"className":Da(e,"class",a);break;case"tabIndex":Da(e,"tabindex",a);break;case"dir":case"role":case"viewBox":case"width":case"height":Da(e,n,a);break;case"style":uc(e,a,f);break;case"data":if(t!=="object"){Da(e,"data",a);break}case"src":case"href":if(a===""&&(t!=="a"||n!=="href")){e.removeAttribute(n);break}if(a==null||typeof a=="function"||typeof a=="symbol"||typeof a=="boolean"){e.removeAttribute(n);break}a=Va(""+a),e.setAttribute(n,a);break;case"action":case"formAction":if(typeof a=="function"){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(n==="formAction"?(t!=="input"&&Ve(e,t,"name",r.name,r,null),Ve(e,t,"formEncType",r.formEncType,r,null),Ve(e,t,"formMethod",r.formMethod,r,null),Ve(e,t,"formTarget",r.formTarget,r,null)):(Ve(e,t,"encType",r.encType,r,null),Ve(e,t,"method",r.method,r,null),Ve(e,t,"target",r.target,r,null)));if(a==null||typeof a=="symbol"||typeof a=="boolean"){e.removeAttribute(n);break}a=Va(""+a),e.setAttribute(n,a);break;case"onClick":a!=null&&(e.onclick=Mo);break;case"onScroll":a!=null&&xe("scroll",e);break;case"onScrollEnd":a!=null&&xe("scrollend",e);break;case"dangerouslySetInnerHTML":if(a!=null){if(typeof a!="object"||!("__html"in a))throw Error(s(61));if(n=a.__html,n!=null){if(r.children!=null)throw Error(s(60));e.innerHTML=n}}break;case"multiple":e.multiple=a&&typeof a!="function"&&typeof a!="symbol";break;case"muted":e.muted=a&&typeof a!="function"&&typeof a!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(a==null||typeof a=="function"||typeof a=="boolean"||typeof a=="symbol"){e.removeAttribute("xlink:href");break}n=Va(""+a),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":a!=null&&typeof a!="function"&&typeof a!="symbol"?e.setAttribute(n,""+a):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":a&&typeof a!="function"&&typeof a!="symbol"?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":a===!0?e.setAttribute(n,""):a!==!1&&a!=null&&typeof a!="function"&&typeof a!="symbol"?e.setAttribute(n,a):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":a!=null&&typeof a!="function"&&typeof a!="symbol"&&!isNaN(a)&&1<=a?e.setAttribute(n,a):e.removeAttribute(n);break;case"rowSpan":case"start":a==null||typeof a=="function"||typeof a=="symbol"||isNaN(a)?e.removeAttribute(n):e.setAttribute(n,a);break;case"popover":xe("beforetoggle",e),xe("toggle",e),Ra(e,"popover",a);break;case"xlinkActuate":bn(e,"http://www.w3.org/1999/xlink","xlink:actuate",a);break;case"xlinkArcrole":bn(e,"http://www.w3.org/1999/xlink","xlink:arcrole",a);break;case"xlinkRole":bn(e,"http://www.w3.org/1999/xlink","xlink:role",a);break;case"xlinkShow":bn(e,"http://www.w3.org/1999/xlink","xlink:show",a);break;case"xlinkTitle":bn(e,"http://www.w3.org/1999/xlink","xlink:title",a);break;case"xlinkType":bn(e,"http://www.w3.org/1999/xlink","xlink:type",a);break;case"xmlBase":bn(e,"http://www.w3.org/XML/1998/namespace","xml:base",a);break;case"xmlLang":bn(e,"http://www.w3.org/XML/1998/namespace","xml:lang",a);break;case"xmlSpace":bn(e,"http://www.w3.org/XML/1998/namespace","xml:space",a);break;case"is":Ra(e,"is",a);break;case"innerText":case"textContent":break;default:(!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(n=Vg.get(n)||n,Ra(e,n,a))}}function lu(e,t,n,a,r,f){switch(n){case"style":uc(e,a,f);break;case"dangerouslySetInnerHTML":if(a!=null){if(typeof a!="object"||!("__html"in a))throw Error(s(61));if(n=a.__html,n!=null){if(r.children!=null)throw Error(s(60));e.innerHTML=n}}break;case"children":typeof a=="string"?Oi(e,a):(typeof a=="number"||typeof a=="bigint")&&Oi(e,""+a);break;case"onScroll":a!=null&&xe("scroll",e);break;case"onScrollEnd":a!=null&&xe("scrollend",e);break;case"onClick":a!=null&&(e.onclick=Mo);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!$u.hasOwnProperty(n))e:{if(n[0]==="o"&&n[1]==="n"&&(r=n.endsWith("Capture"),t=n.slice(2,r?n.length-7:void 0),f=e[rt]||null,f=f!=null?f[n]:null,typeof f=="function"&&e.removeEventListener(t,f,r),typeof a=="function")){typeof f!="function"&&f!==null&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,a,r);break e}n in e?e[n]=a:a===!0?e.setAttribute(n,""):Ra(e,n,a)}}}function Tt(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":xe("error",e),xe("load",e);var a=!1,r=!1,f;for(f in n)if(n.hasOwnProperty(f)){var x=n[f];if(x!=null)switch(f){case"src":a=!0;break;case"srcSet":r=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,t));default:Ve(e,t,f,x,n,null)}}r&&Ve(e,t,"srcSet",n.srcSet,n,null),a&&Ve(e,t,"src",n.src,n,null);return;case"input":xe("invalid",e);var b=f=x=r=null,M=null,k=null;for(a in n)if(n.hasOwnProperty(a)){var H=n[a];if(H!=null)switch(a){case"name":r=H;break;case"type":x=H;break;case"checked":M=H;break;case"defaultChecked":k=H;break;case"value":f=H;break;case"defaultValue":b=H;break;case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(s(137,t));break;default:Ve(e,t,a,H,n,null)}}ac(e,f,b,M,k,x,r,!1),Ia(e);return;case"select":xe("invalid",e),a=x=f=null;for(r in n)if(n.hasOwnProperty(r)&&(b=n[r],b!=null))switch(r){case"value":f=b;break;case"defaultValue":x=b;break;case"multiple":a=b;default:Ve(e,t,r,b,n,null)}t=f,n=x,e.multiple=!!a,t!=null?zi(e,!!a,t,!1):n!=null&&zi(e,!!a,n,!0);return;case"textarea":xe("invalid",e),f=r=a=null;for(x in n)if(n.hasOwnProperty(x)&&(b=n[x],b!=null))switch(x){case"value":a=b;break;case"defaultValue":r=b;break;case"children":f=b;break;case"dangerouslySetInnerHTML":if(b!=null)throw Error(s(91));break;default:Ve(e,t,x,b,n,null)}sc(e,a,r,f),Ia(e);return;case"option":for(M in n)if(n.hasOwnProperty(M)&&(a=n[M],a!=null))switch(M){case"selected":e.selected=a&&typeof a!="function"&&typeof a!="symbol";break;default:Ve(e,t,M,a,n,null)}return;case"dialog":xe("beforetoggle",e),xe("toggle",e),xe("cancel",e),xe("close",e);break;case"iframe":case"object":xe("load",e);break;case"video":case"audio":for(a=0;a<aa.length;a++)xe(aa[a],e);break;case"image":xe("error",e),xe("load",e);break;case"details":xe("toggle",e);break;case"embed":case"source":case"link":xe("error",e),xe("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(k in n)if(n.hasOwnProperty(k)&&(a=n[k],a!=null))switch(k){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,t));default:Ve(e,t,k,a,n,null)}return;default:if(Ts(t)){for(H in n)n.hasOwnProperty(H)&&(a=n[H],a!==void 0&&lu(e,t,H,a,n,void 0));return}}for(b in n)n.hasOwnProperty(b)&&(a=n[b],a!=null&&Ve(e,t,b,a,n,null))}function a0(e,t,n,a){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var r=null,f=null,x=null,b=null,M=null,k=null,H=null;for(j in n){var Y=n[j];if(n.hasOwnProperty(j)&&Y!=null)switch(j){case"checked":break;case"value":break;case"defaultValue":M=Y;default:a.hasOwnProperty(j)||Ve(e,t,j,null,a,Y)}}for(var B in a){var j=a[B];if(Y=n[B],a.hasOwnProperty(B)&&(j!=null||Y!=null))switch(B){case"type":f=j;break;case"name":r=j;break;case"checked":k=j;break;case"defaultChecked":H=j;break;case"value":x=j;break;case"defaultValue":b=j;break;case"children":case"dangerouslySetInnerHTML":if(j!=null)throw Error(s(137,t));break;default:j!==Y&&Ve(e,t,B,j,a,Y)}}vs(e,x,b,M,k,H,f,r);return;case"select":j=x=b=B=null;for(f in n)if(M=n[f],n.hasOwnProperty(f)&&M!=null)switch(f){case"value":break;case"multiple":j=M;default:a.hasOwnProperty(f)||Ve(e,t,f,null,a,M)}for(r in a)if(f=a[r],M=n[r],a.hasOwnProperty(r)&&(f!=null||M!=null))switch(r){case"value":B=f;break;case"defaultValue":b=f;break;case"multiple":x=f;default:f!==M&&Ve(e,t,r,f,a,M)}t=b,n=x,a=j,B!=null?zi(e,!!n,B,!1):!!a!=!!n&&(t!=null?zi(e,!!n,t,!0):zi(e,!!n,n?[]:"",!1));return;case"textarea":j=B=null;for(b in n)if(r=n[b],n.hasOwnProperty(b)&&r!=null&&!a.hasOwnProperty(b))switch(b){case"value":break;case"children":break;default:Ve(e,t,b,null,a,r)}for(x in a)if(r=a[x],f=n[x],a.hasOwnProperty(x)&&(r!=null||f!=null))switch(x){case"value":B=r;break;case"defaultValue":j=r;break;case"children":break;case"dangerouslySetInnerHTML":if(r!=null)throw Error(s(91));break;default:r!==f&&Ve(e,t,x,r,a,f)}oc(e,B,j);return;case"option":for(var ce in n)if(B=n[ce],n.hasOwnProperty(ce)&&B!=null&&!a.hasOwnProperty(ce))switch(ce){case"selected":e.selected=!1;break;default:Ve(e,t,ce,null,a,B)}for(M in a)if(B=a[M],j=n[M],a.hasOwnProperty(M)&&B!==j&&(B!=null||j!=null))switch(M){case"selected":e.selected=B&&typeof B!="function"&&typeof B!="symbol";break;default:Ve(e,t,M,B,a,j)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var se in n)B=n[se],n.hasOwnProperty(se)&&B!=null&&!a.hasOwnProperty(se)&&Ve(e,t,se,null,a,B);for(k in a)if(B=a[k],j=n[k],a.hasOwnProperty(k)&&B!==j&&(B!=null||j!=null))switch(k){case"children":case"dangerouslySetInnerHTML":if(B!=null)throw Error(s(137,t));break;default:Ve(e,t,k,B,a,j)}return;default:if(Ts(t)){for(var ke in n)B=n[ke],n.hasOwnProperty(ke)&&B!==void 0&&!a.hasOwnProperty(ke)&&lu(e,t,ke,void 0,a,B);for(H in a)B=a[H],j=n[H],!a.hasOwnProperty(H)||B===j||B===void 0&&j===void 0||lu(e,t,H,B,a,j);return}}for(var I in n)B=n[I],n.hasOwnProperty(I)&&B!=null&&!a.hasOwnProperty(I)&&Ve(e,t,I,null,a,B);for(Y in a)B=a[Y],j=n[Y],!a.hasOwnProperty(Y)||B===j||B==null&&j==null||Ve(e,t,Y,B,a,j)}var au=null,ou=null;function _o(e){return e.nodeType===9?e:e.ownerDocument}function um(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function cm(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function su(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var ru=null;function o0(){var e=window.event;return e&&e.type==="popstate"?e===ru?!1:(ru=e,!0):(ru=null,!1)}var dm=typeof setTimeout=="function"?setTimeout:void 0,s0=typeof clearTimeout=="function"?clearTimeout:void 0,fm=typeof Promise=="function"?Promise:void 0,r0=typeof queueMicrotask=="function"?queueMicrotask:typeof fm<"u"?function(e){return fm.resolve(null).then(e).catch(u0)}:dm;function u0(e){setTimeout(function(){throw e})}function Wn(e){return e==="head"}function mm(e,t){var n=t,a=0,r=0;do{var f=n.nextSibling;if(e.removeChild(n),f&&f.nodeType===8)if(n=f.data,n==="/$"){if(0<a&&8>a){n=a;var x=e.ownerDocument;if(n&1&&sa(x.documentElement),n&2&&sa(x.body),n&4)for(n=x.head,sa(n),x=n.firstChild;x;){var b=x.nextSibling,M=x.nodeName;x[hn]||M==="SCRIPT"||M==="STYLE"||M==="LINK"&&x.rel.toLowerCase()==="stylesheet"||n.removeChild(x),x=b}}if(r===0){e.removeChild(f),ga(t);return}r--}else n==="$"||n==="$?"||n==="$!"?r++:a=n.charCodeAt(0)-48;else a=0;n=f}while(n);ga(t)}function uu(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":uu(n),Vi(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(n.rel.toLowerCase()==="stylesheet")continue}e.removeChild(n)}}function c0(e,t,n,a){for(;e.nodeType===1;){var r=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!a&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(a){if(!e[hn])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(f=e.getAttribute("rel"),f==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(f!==r.rel||e.getAttribute("href")!==(r.href==null||r.href===""?null:r.href)||e.getAttribute("crossorigin")!==(r.crossOrigin==null?null:r.crossOrigin)||e.getAttribute("title")!==(r.title==null?null:r.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(f=e.getAttribute("src"),(f!==(r.src==null?null:r.src)||e.getAttribute("type")!==(r.type==null?null:r.type)||e.getAttribute("crossorigin")!==(r.crossOrigin==null?null:r.crossOrigin))&&f&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var f=r.name==null?null:""+r.name;if(r.type==="hidden"&&e.getAttribute("name")===f)return e}else return e;if(e=un(e.nextSibling),e===null)break}return null}function d0(e,t,n){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=un(e.nextSibling),e===null))return null;return e}function cu(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState==="complete"}function f0(e,t){var n=e.ownerDocument;if(e.data!=="$?"||n.readyState==="complete")t();else{var a=function(){t(),n.removeEventListener("DOMContentLoaded",a)};n.addEventListener("DOMContentLoaded",a),e._reactRetry=a}}function un(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="F!"||t==="F")break;if(t==="/$")return null}}return e}var du=null;function hm(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}function gm(e,t,n){switch(t=_o(n),e){case"html":if(e=t.documentElement,!e)throw Error(s(452));return e;case"head":if(e=t.head,!e)throw Error(s(453));return e;case"body":if(e=t.body,!e)throw Error(s(454));return e;default:throw Error(s(451))}}function sa(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);Vi(e)}var tn=new Map,pm=new Set;function wo(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var kn=U.d;U.d={f:m0,r:h0,D:g0,C:p0,L:y0,m:v0,X:T0,S:x0,M:b0};function m0(){var e=kn.f(),t=To();return e||t}function h0(e){var t=Li(e);t!==null&&t.tag===5&&t.type==="form"?kd(t):kn.r(e)}var pl=typeof document>"u"?null:document;function ym(e,t,n){var a=pl;if(a&&typeof t=="string"&&t){var r=Xt(t);r='link[rel="'+e+'"][href="'+r+'"]',typeof n=="string"&&(r+='[crossorigin="'+n+'"]'),pm.has(r)||(pm.add(r),e={rel:e,crossOrigin:n,href:t},a.querySelector(r)===null&&(t=a.createElement("link"),Tt(t,"link",e),mt(t),a.head.appendChild(t)))}}function g0(e){kn.D(e),ym("dns-prefetch",e,null)}function p0(e,t){kn.C(e,t),ym("preconnect",e,t)}function y0(e,t,n){kn.L(e,t,n);var a=pl;if(a&&e&&t){var r='link[rel="preload"][as="'+Xt(t)+'"]';t==="image"&&n&&n.imageSrcSet?(r+='[imagesrcset="'+Xt(n.imageSrcSet)+'"]',typeof n.imageSizes=="string"&&(r+='[imagesizes="'+Xt(n.imageSizes)+'"]')):r+='[href="'+Xt(e)+'"]';var f=r;switch(t){case"style":f=yl(e);break;case"script":f=vl(e)}tn.has(f)||(e=T({rel:"preload",href:t==="image"&&n&&n.imageSrcSet?void 0:e,as:t},n),tn.set(f,e),a.querySelector(r)!==null||t==="style"&&a.querySelector(ra(f))||t==="script"&&a.querySelector(ua(f))||(t=a.createElement("link"),Tt(t,"link",e),mt(t),a.head.appendChild(t)))}}function v0(e,t){kn.m(e,t);var n=pl;if(n&&e){var a=t&&typeof t.as=="string"?t.as:"script",r='link[rel="modulepreload"][as="'+Xt(a)+'"][href="'+Xt(e)+'"]',f=r;switch(a){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=vl(e)}if(!tn.has(f)&&(e=T({rel:"modulepreload",href:e},t),tn.set(f,e),n.querySelector(r)===null)){switch(a){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(ua(f)))return}a=n.createElement("link"),Tt(a,"link",e),mt(a),n.head.appendChild(a)}}}function x0(e,t,n){kn.S(e,t,n);var a=pl;if(a&&e){var r=Gi(a).hoistableStyles,f=yl(e);t=t||"default";var x=r.get(f);if(!x){var b={loading:0,preload:null};if(x=a.querySelector(ra(f)))b.loading=5;else{e=T({rel:"stylesheet",href:e,"data-precedence":t},n),(n=tn.get(f))&&fu(e,n);var M=x=a.createElement("link");mt(M),Tt(M,"link",e),M._p=new Promise(function(k,H){M.onload=k,M.onerror=H}),M.addEventListener("load",function(){b.loading|=1}),M.addEventListener("error",function(){b.loading|=2}),b.loading|=4,Ro(x,t,a)}x={type:"stylesheet",instance:x,count:1,state:b},r.set(f,x)}}}function T0(e,t){kn.X(e,t);var n=pl;if(n&&e){var a=Gi(n).hoistableScripts,r=vl(e),f=a.get(r);f||(f=n.querySelector(ua(r)),f||(e=T({src:e,async:!0},t),(t=tn.get(r))&&mu(e,t),f=n.createElement("script"),mt(f),Tt(f,"link",e),n.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},a.set(r,f))}}function b0(e,t){kn.M(e,t);var n=pl;if(n&&e){var a=Gi(n).hoistableScripts,r=vl(e),f=a.get(r);f||(f=n.querySelector(ua(r)),f||(e=T({src:e,async:!0,type:"module"},t),(t=tn.get(r))&&mu(e,t),f=n.createElement("script"),mt(f),Tt(f,"link",e),n.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},a.set(r,f))}}function vm(e,t,n,a){var r=(r=Q.current)?wo(r):null;if(!r)throw Error(s(446));switch(e){case"meta":case"title":return null;case"style":return typeof n.precedence=="string"&&typeof n.href=="string"?(t=yl(n.href),n=Gi(r).hoistableStyles,a=n.get(t),a||(a={type:"style",instance:null,count:0,state:null},n.set(t,a)),a):{type:"void",instance:null,count:0,state:null};case"link":if(n.rel==="stylesheet"&&typeof n.href=="string"&&typeof n.precedence=="string"){e=yl(n.href);var f=Gi(r).hoistableStyles,x=f.get(e);if(x||(r=r.ownerDocument||r,x={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(e,x),(f=r.querySelector(ra(e)))&&!f._p&&(x.instance=f,x.state.loading=5),tn.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},tn.set(e,n),f||S0(r,e,n,x.state))),t&&a===null)throw Error(s(528,""));return x}if(t&&a!==null)throw Error(s(529,""));return null;case"script":return t=n.async,n=n.src,typeof n=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=vl(n),n=Gi(r).hoistableScripts,a=n.get(t),a||(a={type:"script",instance:null,count:0,state:null},n.set(t,a)),a):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,e))}}function yl(e){return'href="'+Xt(e)+'"'}function ra(e){return'link[rel="stylesheet"]['+e+"]"}function xm(e){return T({},e,{"data-precedence":e.precedence,precedence:null})}function S0(e,t,n,a){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?a.loading=1:(t=e.createElement("link"),a.preload=t,t.addEventListener("load",function(){return a.loading|=1}),t.addEventListener("error",function(){return a.loading|=2}),Tt(t,"link",n),mt(t),e.head.appendChild(t))}function vl(e){return'[src="'+Xt(e)+'"]'}function ua(e){return"script[async]"+e}function Tm(e,t,n){if(t.count++,t.instance===null)switch(t.type){case"style":var a=e.querySelector('style[data-href~="'+Xt(n.href)+'"]');if(a)return t.instance=a,mt(a),a;var r=T({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return a=(e.ownerDocument||e).createElement("style"),mt(a),Tt(a,"style",r),Ro(a,n.precedence,e),t.instance=a;case"stylesheet":r=yl(n.href);var f=e.querySelector(ra(r));if(f)return t.state.loading|=4,t.instance=f,mt(f),f;a=xm(n),(r=tn.get(r))&&fu(a,r),f=(e.ownerDocument||e).createElement("link"),mt(f);var x=f;return x._p=new Promise(function(b,M){x.onload=b,x.onerror=M}),Tt(f,"link",a),t.state.loading|=4,Ro(f,n.precedence,e),t.instance=f;case"script":return f=vl(n.src),(r=e.querySelector(ua(f)))?(t.instance=r,mt(r),r):(a=n,(r=tn.get(f))&&(a=T({},n),mu(a,r)),e=e.ownerDocument||e,r=e.createElement("script"),mt(r),Tt(r,"link",a),e.head.appendChild(r),t.instance=r);case"void":return null;default:throw Error(s(443,t.type))}else t.type==="stylesheet"&&(t.state.loading&4)===0&&(a=t.instance,t.state.loading|=4,Ro(a,n.precedence,e));return t.instance}function Ro(e,t,n){for(var a=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),r=a.length?a[a.length-1]:null,f=r,x=0;x<a.length;x++){var b=a[x];if(b.dataset.precedence===t)f=b;else if(f!==r)break}f?f.parentNode.insertBefore(e,f.nextSibling):(t=n.nodeType===9?n.head:n,t.insertBefore(e,t.firstChild))}function fu(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function mu(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var Do=null;function bm(e,t,n){if(Do===null){var a=new Map,r=Do=new Map;r.set(n,a)}else r=Do,a=r.get(n),a||(a=new Map,r.set(n,a));if(a.has(e))return a;for(a.set(e,null),n=n.getElementsByTagName(e),r=0;r<n.length;r++){var f=n[r];if(!(f[hn]||f[We]||e==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var x=f.getAttribute(t)||"";x=e+x;var b=a.get(x);b?b.push(f):a.set(x,[f])}}return a}function Sm(e,t,n){e=e.ownerDocument||e,e.head.insertBefore(n,t==="title"?e.querySelector("head > title"):null)}function E0(e,t,n){if(n===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function Em(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}var ca=null;function C0(){}function N0(e,t,n){if(ca===null)throw Error(s(475));var a=ca;if(t.type==="stylesheet"&&(typeof n.media!="string"||matchMedia(n.media).matches!==!1)&&(t.state.loading&4)===0){if(t.instance===null){var r=yl(n.href),f=e.querySelector(ra(r));if(f){e=f._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(a.count++,a=Io.bind(a),e.then(a,a)),t.state.loading|=4,t.instance=f,mt(f);return}f=e.ownerDocument||e,n=xm(n),(r=tn.get(r))&&fu(n,r),f=f.createElement("link"),mt(f);var x=f;x._p=new Promise(function(b,M){x.onload=b,x.onerror=M}),Tt(f,"link",n),t.instance=f}a.stylesheets===null&&(a.stylesheets=new Map),a.stylesheets.set(t,e),(e=t.state.preload)&&(t.state.loading&3)===0&&(a.count++,t=Io.bind(a),e.addEventListener("load",t),e.addEventListener("error",t))}}function A0(){if(ca===null)throw Error(s(475));var e=ca;return e.stylesheets&&e.count===0&&hu(e,e.stylesheets),0<e.count?function(t){var n=setTimeout(function(){if(e.stylesheets&&hu(e,e.stylesheets),e.unsuspend){var a=e.unsuspend;e.unsuspend=null,a()}},6e4);return e.unsuspend=t,function(){e.unsuspend=null,clearTimeout(n)}}:null}function Io(){if(this.count--,this.count===0){if(this.stylesheets)hu(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Uo=null;function hu(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Uo=new Map,t.forEach(M0,e),Uo=null,Io.call(e))}function M0(e,t){if(!(t.state.loading&4)){var n=Uo.get(e);if(n)var a=n.get(null);else{n=new Map,Uo.set(e,n);for(var r=e.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<r.length;f++){var x=r[f];(x.nodeName==="LINK"||x.getAttribute("media")!=="not all")&&(n.set(x.dataset.precedence,x),a=x)}a&&n.set(null,a)}r=t.instance,x=r.getAttribute("data-precedence"),f=n.get(x)||a,f===a&&n.set(null,r),n.set(x,r),this.count++,a=Io.bind(this),r.addEventListener("load",a),r.addEventListener("error",a),f?f.parentNode.insertBefore(r,f.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(r,e.firstChild)),t.state.loading|=4}}var da={$$typeof:ie,Provider:null,Consumer:null,_currentValue:N,_currentValue2:N,_threadCount:0};function _0(e,t,n,a,r,f,x,b){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=we(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=we(0),this.hiddenUpdates=we(null),this.identifierPrefix=a,this.onUncaughtError=r,this.onCaughtError=f,this.onRecoverableError=x,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=b,this.incompleteTransitions=new Map}function Cm(e,t,n,a,r,f,x,b,M,k,H,Y){return e=new _0(e,t,n,x,b,M,k,Y),t=1,f===!0&&(t|=24),f=Bt(3,null,null,t),e.current=f,f.stateNode=e,t=Qs(),t.refCount++,e.pooledCache=t,t.refCount++,f.memoizedState={element:a,isDehydrated:n,cache:t},Ws(f),e}function Nm(e){return e?(e=Qi,e):Qi}function Am(e,t,n,a,r,f){r=Nm(r),a.context===null?a.context=r:a.pendingContext=r,a=zn(t),a.payload={element:n},f=f===void 0?null:f,f!==null&&(a.callback=f),n=On(e,a,t),n!==null&&(qt(n,e,t),Ol(n,e,t))}function Mm(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function gu(e,t){Mm(e,t),(e=e.alternate)&&Mm(e,t)}function _m(e){if(e.tag===13){var t=Xi(e,67108864);t!==null&&qt(t,e,67108864),gu(e,67108864)}}var Vo=!0;function w0(e,t,n,a){var r=z.T;z.T=null;var f=U.p;try{U.p=2,pu(e,t,n,a)}finally{U.p=f,z.T=r}}function R0(e,t,n,a){var r=z.T;z.T=null;var f=U.p;try{U.p=8,pu(e,t,n,a)}finally{U.p=f,z.T=r}}function pu(e,t,n,a){if(Vo){var r=yu(a);if(r===null)iu(e,t,a,ko,n),Rm(e,a);else if(I0(r,e,t,n,a))a.stopPropagation();else if(Rm(e,a),t&4&&-1<D0.indexOf(e)){for(;r!==null;){var f=Li(r);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var x=ae(f.pendingLanes);if(x!==0){var b=f;for(b.pendingLanes|=2,b.entangledLanes|=2;x;){var M=1<<31-bt(x);b.entanglements[1]|=M,x&=~M}xn(f),(Re&6)===0&&(vo=Yt()+500,la(0))}}break;case 13:b=Xi(f,2),b!==null&&qt(b,f,2),To(),gu(f,2)}if(f=yu(a),f===null&&iu(e,t,a,ko,n),f===r)break;r=f}r!==null&&a.stopPropagation()}else iu(e,t,a,null,n)}}function yu(e){return e=Ss(e),vu(e)}var ko=null;function vu(e){if(ko=null,e=ki(e),e!==null){var t=m(e);if(t===null)e=null;else{var n=t.tag;if(n===13){if(e=p(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return ko=e,null}function wm(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ds()){case Ma:return 2;case bl:return 8;case ci:case _a:return 32;case wa:return 268435456;default:return 32}default:return 32}}var xu=!1,ei=null,ti=null,ni=null,fa=new Map,ma=new Map,ii=[],D0="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Rm(e,t){switch(e){case"focusin":case"focusout":ei=null;break;case"dragenter":case"dragleave":ti=null;break;case"mouseover":case"mouseout":ni=null;break;case"pointerover":case"pointerout":fa.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ma.delete(t.pointerId)}}function ha(e,t,n,a,r,f){return e===null||e.nativeEvent!==f?(e={blockedOn:t,domEventName:n,eventSystemFlags:a,nativeEvent:f,targetContainers:[r]},t!==null&&(t=Li(t),t!==null&&_m(t)),e):(e.eventSystemFlags|=a,t=e.targetContainers,r!==null&&t.indexOf(r)===-1&&t.push(r),e)}function I0(e,t,n,a,r){switch(t){case"focusin":return ei=ha(ei,e,t,n,a,r),!0;case"dragenter":return ti=ha(ti,e,t,n,a,r),!0;case"mouseover":return ni=ha(ni,e,t,n,a,r),!0;case"pointerover":var f=r.pointerId;return fa.set(f,ha(fa.get(f)||null,e,t,n,a,r)),!0;case"gotpointercapture":return f=r.pointerId,ma.set(f,ha(ma.get(f)||null,e,t,n,a,r)),!0}return!1}function Dm(e){var t=ki(e.target);if(t!==null){var n=m(t);if(n!==null){if(t=n.tag,t===13){if(t=p(n),t!==null){e.blockedOn=t,fn(e.priority,function(){if(n.tag===13){var a=Ht();a=st(a);var r=Xi(n,a);r!==null&&qt(r,n,a),gu(n,a)}});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Lo(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=yu(e.nativeEvent);if(n===null){n=e.nativeEvent;var a=new n.constructor(n.type,n);bs=a,n.target.dispatchEvent(a),bs=null}else return t=Li(n),t!==null&&_m(t),e.blockedOn=n,!1;t.shift()}return!0}function Im(e,t,n){Lo(e)&&n.delete(t)}function U0(){xu=!1,ei!==null&&Lo(ei)&&(ei=null),ti!==null&&Lo(ti)&&(ti=null),ni!==null&&Lo(ni)&&(ni=null),fa.forEach(Im),ma.forEach(Im)}function Go(e,t){e.blockedOn===t&&(e.blockedOn=null,xu||(xu=!0,o.unstable_scheduleCallback(o.unstable_NormalPriority,U0)))}var Bo=null;function Um(e){Bo!==e&&(Bo=e,o.unstable_scheduleCallback(o.unstable_NormalPriority,function(){Bo===e&&(Bo=null);for(var t=0;t<e.length;t+=3){var n=e[t],a=e[t+1],r=e[t+2];if(typeof a!="function"){if(vu(a||n)===null)continue;break}var f=Li(n);f!==null&&(e.splice(t,3),t-=3,vr(f,{pending:!0,data:r,method:n.method,action:a},a,r))}}))}function ga(e){function t(M){return Go(M,e)}ei!==null&&Go(ei,e),ti!==null&&Go(ti,e),ni!==null&&Go(ni,e),fa.forEach(t),ma.forEach(t);for(var n=0;n<ii.length;n++){var a=ii[n];a.blockedOn===e&&(a.blockedOn=null)}for(;0<ii.length&&(n=ii[0],n.blockedOn===null);)Dm(n),n.blockedOn===null&&ii.shift();if(n=(e.ownerDocument||e).$$reactFormReplay,n!=null)for(a=0;a<n.length;a+=3){var r=n[a],f=n[a+1],x=r[rt]||null;if(typeof f=="function")x||Um(n);else if(x){var b=null;if(f&&f.hasAttribute("formAction")){if(r=f,x=f[rt]||null)b=x.formAction;else if(vu(r)!==null)continue}else b=x.action;typeof b=="function"?n[a+1]=b:(n.splice(a,3),a-=3),Um(n)}}}function Tu(e){this._internalRoot=e}jo.prototype.render=Tu.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(s(409));var n=t.current,a=Ht();Am(n,a,e,t,null,null)},jo.prototype.unmount=Tu.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Am(e.current,2,null,e,null,null),To(),t[it]=null}};function jo(e){this._internalRoot=e}jo.prototype.unstable_scheduleHydration=function(e){if(e){var t=St();e={blockedOn:null,target:e,priority:t};for(var n=0;n<ii.length&&t!==0&&t<ii[n].priority;n++);ii.splice(n,0,e),n===0&&Dm(e)}};var Vm=i.version;if(Vm!=="19.1.0")throw Error(s(527,Vm,"19.1.0"));U.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(s(188)):(e=Object.keys(e).join(","),Error(s(268,e)));return e=v(t),e=e!==null?g(e):null,e=e===null?null:e.stateNode,e};var V0={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:z,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var zo=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!zo.isDisabled&&zo.supportsFiber)try{di=zo.inject(V0),Ye=zo}catch{}}return ya.createRoot=function(e,t){if(!u(e))throw Error(s(299));var n=!1,a="",r=Qd,f=Jd,x=Zd,b=null;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(a=t.identifierPrefix),t.onUncaughtError!==void 0&&(r=t.onUncaughtError),t.onCaughtError!==void 0&&(f=t.onCaughtError),t.onRecoverableError!==void 0&&(x=t.onRecoverableError),t.unstable_transitionCallbacks!==void 0&&(b=t.unstable_transitionCallbacks)),t=Cm(e,1,!1,null,null,n,a,r,f,x,b,null),e[it]=t.current,nu(e),new Tu(t)},ya.hydrateRoot=function(e,t,n){if(!u(e))throw Error(s(299));var a=!1,r="",f=Qd,x=Jd,b=Zd,M=null,k=null;return n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(r=n.identifierPrefix),n.onUncaughtError!==void 0&&(f=n.onUncaughtError),n.onCaughtError!==void 0&&(x=n.onCaughtError),n.onRecoverableError!==void 0&&(b=n.onRecoverableError),n.unstable_transitionCallbacks!==void 0&&(M=n.unstable_transitionCallbacks),n.formState!==void 0&&(k=n.formState)),t=Cm(e,1,!0,t,n??null,a,r,f,x,b,M,k),t.context=Nm(null),n=t.current,a=Ht(),a=st(a),r=zn(a),r.callback=null,On(n,r,a),n=a,t.current.lanes=n,Me(t,n),xn(t),e[it]=t.current,nu(e),new jo(t)},ya.version="19.1.0",ya}var Pm;function Y0(){if(Pm)return Eu.exports;Pm=1;function o(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(o)}catch(i){console.error(i)}}return o(),Eu.exports=P0(),Eu.exports}var F0=Y0();const K0=Fu(F0);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let X0,Q0;function J0(){return{geminiUrl:X0,vertexUrl:Q0}}function Z0(o,i,l){var s,u,m;if(!(!((s=o.httpOptions)===null||s===void 0)&&s.baseUrl)){const p=J0();return o.vertexai?(u=p.vertexUrl)!==null&&u!==void 0?u:i:(m=p.geminiUrl)!==null&&m!==void 0?m:l}return o.httpOptions.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Aa{}function fe(o,i){const l=/\{([^}]+)\}/g;return o.replace(l,(s,u)=>{if(Object.prototype.hasOwnProperty.call(i,u)){const m=i[u];return m!=null?String(m):""}else throw new Error(`Key '${u}' not found in valueMap.`)})}function d(o,i,l){for(let m=0;m<i.length-1;m++){const p=i[m];if(p.endsWith("[]")){const y=p.slice(0,-2);if(!(y in o))if(Array.isArray(l))o[y]=Array.from({length:l.length},()=>({}));else throw new Error(`Value must be a list given an array path ${p}`);if(Array.isArray(o[y])){const v=o[y];if(Array.isArray(l))for(let g=0;g<v.length;g++){const T=v[g];d(T,i.slice(m+1),l[g])}else for(const g of v)d(g,i.slice(m+1),l)}return}else if(p.endsWith("[0]")){const y=p.slice(0,-3);y in o||(o[y]=[{}]);const v=o[y];d(v[0],i.slice(m+1),l);return}(!o[p]||typeof o[p]!="object")&&(o[p]={}),o=o[p]}const s=i[i.length-1],u=o[s];if(u!==void 0){if(!l||typeof l=="object"&&Object.keys(l).length===0||l===u)return;if(typeof u=="object"&&typeof l=="object"&&u!==null&&l!==null)Object.assign(u,l);else throw new Error(`Cannot set value for an existing key. Key: ${s}`)}else o[s]=l}function c(o,i){try{if(i.length===1&&i[0]==="_self")return o;for(let l=0;l<i.length;l++){if(typeof o!="object"||o===null)return;const s=i[l];if(s.endsWith("[]")){const u=s.slice(0,-2);if(u in o){const m=o[u];return Array.isArray(m)?m.map(p=>c(p,i.slice(l+1))):void 0}else return}else o=o[s]}return o}catch(l){if(l instanceof TypeError)return;throw l}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Ze(o,i){if(!i||typeof i!="string")throw new Error("model is required and must be a string");if(o.isVertexAI()){if(i.startsWith("publishers/")||i.startsWith("projects/")||i.startsWith("models/"))return i;if(i.indexOf("/")>=0){const l=i.split("/",2);return`publishers/${l[0]}/models/${l[1]}`}else return`publishers/google/models/${i}`}else return i.startsWith("models/")||i.startsWith("tunedModels/")?i:`models/${i}`}function ug(o,i){const l=Ze(o,i);return l?l.startsWith("publishers/")&&o.isVertexAI()?`projects/${o.getProject()}/locations/${o.getLocation()}/${l}`:l.startsWith("models/")&&o.isVertexAI()?`projects/${o.getProject()}/locations/${o.getLocation()}/publishers/google/${l}`:l:""}function cg(o,i){return Array.isArray(i)?i.map(l=>Jo(o,l)):[Jo(o,i)]}function Jo(o,i){if(typeof i=="object"&&i!==null)return i;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof i}`)}function $0(o,i){const l=Jo(o,i);if(l.mimeType&&l.mimeType.startsWith("image/"))return l;throw new Error(`Unsupported mime type: ${l.mimeType}`)}function W0(o,i){const l=Jo(o,i);if(l.mimeType&&l.mimeType.startsWith("audio/"))return l;throw new Error(`Unsupported mime type: ${l.mimeType}`)}function Ym(o,i){if(i==null)throw new Error("PartUnion is required");if(typeof i=="object")return i;if(typeof i=="string")return{text:i};throw new Error(`Unsupported part type: ${typeof i}`)}function dg(o,i){if(i==null||Array.isArray(i)&&i.length===0)throw new Error("PartListUnion is required");return Array.isArray(i)?i.map(l=>Ym(o,l)):[Ym(o,i)]}function Uu(o){return o!=null&&typeof o=="object"&&"parts"in o&&Array.isArray(o.parts)}function Fm(o){return o!=null&&typeof o=="object"&&"functionCall"in o}function Km(o){return o!=null&&typeof o=="object"&&"functionResponse"in o}function Ut(o,i){if(i==null)throw new Error("ContentUnion is required");return Uu(i)?i:{role:"user",parts:dg(o,i)}}function fg(o,i){if(!i)return[];if(o.isVertexAI()&&Array.isArray(i))return i.flatMap(l=>{const s=Ut(o,l);return s.parts&&s.parts.length>0&&s.parts[0].text!==void 0?[s.parts[0].text]:[]});if(o.isVertexAI()){const l=Ut(o,i);return l.parts&&l.parts.length>0&&l.parts[0].text!==void 0?[l.parts[0].text]:[]}return Array.isArray(i)?i.map(l=>Ut(o,l)):[Ut(o,i)]}function si(o,i){if(i==null||Array.isArray(i)&&i.length===0)throw new Error("contents are required");if(!Array.isArray(i)){if(Fm(i)||Km(i))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[Ut(o,i)]}const l=[],s=[],u=Uu(i[0]);for(const m of i){const p=Uu(m);if(p!=u)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(p)l.push(m);else{if(Fm(m)||Km(m))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");s.push(m)}}return u||l.push({role:"user",parts:dg(o,s)}),l}function mg(o,i){return i}function hg(o,i){if(typeof i=="object")return i;if(typeof i=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:i}}};throw new Error(`Unsupported speechConfig type: ${typeof i}`)}function ls(o,i){return i}function as(o,i){if(!Array.isArray(i))throw new Error("tool is required and must be an array of Tools");return i}function ey(o,i,l,s=1){const u=!i.startsWith(`${l}/`)&&i.split("/").length===s;return o.isVertexAI()?i.startsWith("projects/")?i:i.startsWith("locations/")?`projects/${o.getProject()}/${i}`:i.startsWith(`${l}/`)?`projects/${o.getProject()}/locations/${o.getLocation()}/${i}`:u?`projects/${o.getProject()}/locations/${o.getLocation()}/${l}/${i}`:i:u?`${l}/${i}`:i}function ri(o,i){if(typeof i!="string")throw new Error("name must be a string");return ey(o,i,"cachedContents")}function gg(o,i){switch(i){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return i}}function ui(o,i){if(typeof i!="string")throw new Error("fromImageBytes must be a string");return i}function pg(o,i){if(typeof i!="string")throw new Error("fromName must be a string");return i.startsWith("files/")?i.split("files/")[1]:i}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function ty(o,i){const l={};if(c(i,["videoMetadata"])!==void 0)throw new Error("videoMetadata parameter is not supported in Gemini API.");const s=c(i,["thought"]);s!=null&&d(l,["thought"],s);const u=c(i,["codeExecutionResult"]);u!=null&&d(l,["codeExecutionResult"],u);const m=c(i,["executableCode"]);m!=null&&d(l,["executableCode"],m);const p=c(i,["fileData"]);p!=null&&d(l,["fileData"],p);const y=c(i,["functionCall"]);y!=null&&d(l,["functionCall"],y);const v=c(i,["functionResponse"]);v!=null&&d(l,["functionResponse"],v);const g=c(i,["inlineData"]);g!=null&&d(l,["inlineData"],g);const T=c(i,["text"]);return T!=null&&d(l,["text"],T),l}function Xm(o,i){const l={},s=c(i,["parts"]);if(s!=null){let m=s;Array.isArray(m)&&(m=m.map(p=>ty(o,p))),d(l,["parts"],m)}const u=c(i,["role"]);return u!=null&&d(l,["role"],u),l}function ny(){return{}}function iy(o,i){const l={},s=c(i,["mode"]);s!=null&&d(l,["mode"],s);const u=c(i,["dynamicThreshold"]);return u!=null&&d(l,["dynamicThreshold"],u),l}function ly(o,i){const l={},s=c(i,["dynamicRetrievalConfig"]);return s!=null&&d(l,["dynamicRetrievalConfig"],iy(o,s)),l}function ay(o,i){const l={};if(c(i,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");c(i,["googleSearch"])!=null&&d(l,["googleSearch"],ny());const u=c(i,["googleSearchRetrieval"]);u!=null&&d(l,["googleSearchRetrieval"],ly(o,u));const m=c(i,["codeExecution"]);m!=null&&d(l,["codeExecution"],m);const p=c(i,["functionDeclarations"]);return p!=null&&d(l,["functionDeclarations"],p),l}function oy(o,i){const l={},s=c(i,["mode"]);s!=null&&d(l,["mode"],s);const u=c(i,["allowedFunctionNames"]);return u!=null&&d(l,["allowedFunctionNames"],u),l}function sy(o,i){const l={},s=c(i,["functionCallingConfig"]);return s!=null&&d(l,["functionCallingConfig"],oy(o,s)),l}function ry(o,i,l){const s={},u=c(i,["ttl"]);l!==void 0&&u!=null&&d(l,["ttl"],u);const m=c(i,["expireTime"]);l!==void 0&&m!=null&&d(l,["expireTime"],m);const p=c(i,["displayName"]);l!==void 0&&p!=null&&d(l,["displayName"],p);const y=c(i,["contents"]);if(l!==void 0&&y!=null){let C=si(o,y);Array.isArray(C)&&(C=C.map(_=>Xm(o,_))),d(l,["contents"],C)}const v=c(i,["systemInstruction"]);l!==void 0&&v!=null&&d(l,["systemInstruction"],Xm(o,Ut(o,v)));const g=c(i,["tools"]);if(l!==void 0&&g!=null){let C=g;Array.isArray(C)&&(C=C.map(_=>ay(o,_))),d(l,["tools"],C)}const T=c(i,["toolConfig"]);return l!==void 0&&T!=null&&d(l,["toolConfig"],sy(o,T)),s}function uy(o,i){const l={},s=c(i,["model"]);s!=null&&d(l,["model"],ug(o,s));const u=c(i,["config"]);return u!=null&&d(l,["config"],ry(o,u,l)),l}function cy(o,i){const l={},s=c(i,["name"]);s!=null&&d(l,["_url","name"],ri(o,s));const u=c(i,["config"]);return u!=null&&d(l,["config"],u),l}function dy(o,i){const l={},s=c(i,["name"]);s!=null&&d(l,["_url","name"],ri(o,s));const u=c(i,["config"]);return u!=null&&d(l,["config"],u),l}function fy(o,i,l){const s={},u=c(i,["ttl"]);l!==void 0&&u!=null&&d(l,["ttl"],u);const m=c(i,["expireTime"]);return l!==void 0&&m!=null&&d(l,["expireTime"],m),s}function my(o,i){const l={},s=c(i,["name"]);s!=null&&d(l,["_url","name"],ri(o,s));const u=c(i,["config"]);return u!=null&&d(l,["config"],fy(o,u,l)),l}function hy(o,i,l){const s={},u=c(i,["pageSize"]);l!==void 0&&u!=null&&d(l,["_query","pageSize"],u);const m=c(i,["pageToken"]);return l!==void 0&&m!=null&&d(l,["_query","pageToken"],m),s}function gy(o,i){const l={},s=c(i,["config"]);return s!=null&&d(l,["config"],hy(o,s,l)),l}function py(o,i){const l={},s=c(i,["videoMetadata"]);s!=null&&d(l,["videoMetadata"],s);const u=c(i,["thought"]);u!=null&&d(l,["thought"],u);const m=c(i,["codeExecutionResult"]);m!=null&&d(l,["codeExecutionResult"],m);const p=c(i,["executableCode"]);p!=null&&d(l,["executableCode"],p);const y=c(i,["fileData"]);y!=null&&d(l,["fileData"],y);const v=c(i,["functionCall"]);v!=null&&d(l,["functionCall"],v);const g=c(i,["functionResponse"]);g!=null&&d(l,["functionResponse"],g);const T=c(i,["inlineData"]);T!=null&&d(l,["inlineData"],T);const C=c(i,["text"]);return C!=null&&d(l,["text"],C),l}function Qm(o,i){const l={},s=c(i,["parts"]);if(s!=null){let m=s;Array.isArray(m)&&(m=m.map(p=>py(o,p))),d(l,["parts"],m)}const u=c(i,["role"]);return u!=null&&d(l,["role"],u),l}function yy(){return{}}function vy(o,i){const l={},s=c(i,["mode"]);s!=null&&d(l,["mode"],s);const u=c(i,["dynamicThreshold"]);return u!=null&&d(l,["dynamicThreshold"],u),l}function xy(o,i){const l={},s=c(i,["dynamicRetrievalConfig"]);return s!=null&&d(l,["dynamicRetrievalConfig"],vy(o,s)),l}function Ty(o,i){const l={},s=c(i,["retrieval"]);s!=null&&d(l,["retrieval"],s),c(i,["googleSearch"])!=null&&d(l,["googleSearch"],yy());const m=c(i,["googleSearchRetrieval"]);m!=null&&d(l,["googleSearchRetrieval"],xy(o,m));const p=c(i,["codeExecution"]);p!=null&&d(l,["codeExecution"],p);const y=c(i,["functionDeclarations"]);return y!=null&&d(l,["functionDeclarations"],y),l}function by(o,i){const l={},s=c(i,["mode"]);s!=null&&d(l,["mode"],s);const u=c(i,["allowedFunctionNames"]);return u!=null&&d(l,["allowedFunctionNames"],u),l}function Sy(o,i){const l={},s=c(i,["functionCallingConfig"]);return s!=null&&d(l,["functionCallingConfig"],by(o,s)),l}function Ey(o,i,l){const s={},u=c(i,["ttl"]);l!==void 0&&u!=null&&d(l,["ttl"],u);const m=c(i,["expireTime"]);l!==void 0&&m!=null&&d(l,["expireTime"],m);const p=c(i,["displayName"]);l!==void 0&&p!=null&&d(l,["displayName"],p);const y=c(i,["contents"]);if(l!==void 0&&y!=null){let C=si(o,y);Array.isArray(C)&&(C=C.map(_=>Qm(o,_))),d(l,["contents"],C)}const v=c(i,["systemInstruction"]);l!==void 0&&v!=null&&d(l,["systemInstruction"],Qm(o,Ut(o,v)));const g=c(i,["tools"]);if(l!==void 0&&g!=null){let C=g;Array.isArray(C)&&(C=C.map(_=>Ty(o,_))),d(l,["tools"],C)}const T=c(i,["toolConfig"]);return l!==void 0&&T!=null&&d(l,["toolConfig"],Sy(o,T)),s}function Cy(o,i){const l={},s=c(i,["model"]);s!=null&&d(l,["model"],ug(o,s));const u=c(i,["config"]);return u!=null&&d(l,["config"],Ey(o,u,l)),l}function Ny(o,i){const l={},s=c(i,["name"]);s!=null&&d(l,["_url","name"],ri(o,s));const u=c(i,["config"]);return u!=null&&d(l,["config"],u),l}function Ay(o,i){const l={},s=c(i,["name"]);s!=null&&d(l,["_url","name"],ri(o,s));const u=c(i,["config"]);return u!=null&&d(l,["config"],u),l}function My(o,i,l){const s={},u=c(i,["ttl"]);l!==void 0&&u!=null&&d(l,["ttl"],u);const m=c(i,["expireTime"]);return l!==void 0&&m!=null&&d(l,["expireTime"],m),s}function _y(o,i){const l={},s=c(i,["name"]);s!=null&&d(l,["_url","name"],ri(o,s));const u=c(i,["config"]);return u!=null&&d(l,["config"],My(o,u,l)),l}function wy(o,i,l){const s={},u=c(i,["pageSize"]);l!==void 0&&u!=null&&d(l,["_query","pageSize"],u);const m=c(i,["pageToken"]);return l!==void 0&&m!=null&&d(l,["_query","pageToken"],m),s}function Ry(o,i){const l={},s=c(i,["config"]);return s!=null&&d(l,["config"],wy(o,s,l)),l}function Fo(o,i){const l={},s=c(i,["name"]);s!=null&&d(l,["name"],s);const u=c(i,["displayName"]);u!=null&&d(l,["displayName"],u);const m=c(i,["model"]);m!=null&&d(l,["model"],m);const p=c(i,["createTime"]);p!=null&&d(l,["createTime"],p);const y=c(i,["updateTime"]);y!=null&&d(l,["updateTime"],y);const v=c(i,["expireTime"]);v!=null&&d(l,["expireTime"],v);const g=c(i,["usageMetadata"]);return g!=null&&d(l,["usageMetadata"],g),l}function Dy(){return{}}function Iy(o,i){const l={},s=c(i,["nextPageToken"]);s!=null&&d(l,["nextPageToken"],s);const u=c(i,["cachedContents"]);if(u!=null){let m=u;Array.isArray(m)&&(m=m.map(p=>Fo(o,p))),d(l,["cachedContents"],m)}return l}function Ko(o,i){const l={},s=c(i,["name"]);s!=null&&d(l,["name"],s);const u=c(i,["displayName"]);u!=null&&d(l,["displayName"],u);const m=c(i,["model"]);m!=null&&d(l,["model"],m);const p=c(i,["createTime"]);p!=null&&d(l,["createTime"],p);const y=c(i,["updateTime"]);y!=null&&d(l,["updateTime"],y);const v=c(i,["expireTime"]);v!=null&&d(l,["expireTime"],v);const g=c(i,["usageMetadata"]);return g!=null&&d(l,["usageMetadata"],g),l}function Uy(){return{}}function Vy(o,i){const l={},s=c(i,["nextPageToken"]);s!=null&&d(l,["nextPageToken"],s);const u=c(i,["cachedContents"]);if(u!=null){let m=u;Array.isArray(m)&&(m=m.map(p=>Ko(o,p))),d(l,["cachedContents"],m)}return l}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Na;(function(o){o.PAGED_ITEM_BATCH_JOBS="batchJobs",o.PAGED_ITEM_MODELS="models",o.PAGED_ITEM_TUNING_JOBS="tuningJobs",o.PAGED_ITEM_FILES="files",o.PAGED_ITEM_CACHED_CONTENTS="cachedContents"})(Na||(Na={}));class Xu{constructor(i,l,s,u){this.pageInternal=[],this.paramsInternal={},this.requestInternal=l,this.init(i,s,u)}init(i,l,s){var u,m;this.nameInternal=i,this.pageInternal=l[this.nameInternal]||[],this.idxInternal=0;let p={config:{}};s?typeof s=="object"?p=Object.assign({},s):p=s:p={config:{}},p.config&&(p.config.pageToken=l.nextPageToken),this.paramsInternal=p,this.pageInternalSize=(m=(u=p.config)===null||u===void 0?void 0:u.pageSize)!==null&&m!==void 0?m:this.pageInternal.length}initNextPage(i){this.init(this.nameInternal,i,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(i){return this.pageInternal[i]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const i=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:i,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const i=await this.requestInternal(this.params);return this.initNextPage(i),this.page}hasNextPage(){var i;return((i=this.params.config)===null||i===void 0?void 0:i.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Jm;(function(o){o.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",o.OUTCOME_OK="OUTCOME_OK",o.OUTCOME_FAILED="OUTCOME_FAILED",o.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(Jm||(Jm={}));var Zm;(function(o){o.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",o.PYTHON="PYTHON"})(Zm||(Zm={}));var $m;(function(o){o.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",o.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",o.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",o.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",o.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",o.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY"})($m||($m={}));var Wm;(function(o){o.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",o.SEVERITY="SEVERITY",o.PROBABILITY="PROBABILITY"})(Wm||(Wm={}));var eh;(function(o){o.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",o.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",o.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",o.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",o.BLOCK_NONE="BLOCK_NONE",o.OFF="OFF"})(eh||(eh={}));var th;(function(o){o.MODE_UNSPECIFIED="MODE_UNSPECIFIED",o.MODE_DYNAMIC="MODE_DYNAMIC"})(th||(th={}));var nh;(function(o){o.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",o.STRING="STRING",o.NUMBER="NUMBER",o.INTEGER="INTEGER",o.BOOLEAN="BOOLEAN",o.ARRAY="ARRAY",o.OBJECT="OBJECT"})(nh||(nh={}));var ih;(function(o){o.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",o.STOP="STOP",o.MAX_TOKENS="MAX_TOKENS",o.SAFETY="SAFETY",o.RECITATION="RECITATION",o.LANGUAGE="LANGUAGE",o.OTHER="OTHER",o.BLOCKLIST="BLOCKLIST",o.PROHIBITED_CONTENT="PROHIBITED_CONTENT",o.SPII="SPII",o.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",o.IMAGE_SAFETY="IMAGE_SAFETY"})(ih||(ih={}));var lh;(function(o){o.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",o.NEGLIGIBLE="NEGLIGIBLE",o.LOW="LOW",o.MEDIUM="MEDIUM",o.HIGH="HIGH"})(lh||(lh={}));var ah;(function(o){o.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",o.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",o.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",o.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",o.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(ah||(ah={}));var oh;(function(o){o.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",o.SAFETY="SAFETY",o.OTHER="OTHER",o.BLOCKLIST="BLOCKLIST",o.PROHIBITED_CONTENT="PROHIBITED_CONTENT"})(oh||(oh={}));var sh;(function(o){o.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",o.ON_DEMAND="ON_DEMAND",o.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(sh||(sh={}));var Zo;(function(o){o.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",o.TEXT="TEXT",o.IMAGE="IMAGE",o.AUDIO="AUDIO"})(Zo||(Zo={}));var rh;(function(o){o.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",o.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",o.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",o.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(rh||(rh={}));var Vu;(function(o){o.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",o.JOB_STATE_QUEUED="JOB_STATE_QUEUED",o.JOB_STATE_PENDING="JOB_STATE_PENDING",o.JOB_STATE_RUNNING="JOB_STATE_RUNNING",o.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",o.JOB_STATE_FAILED="JOB_STATE_FAILED",o.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",o.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",o.JOB_STATE_PAUSED="JOB_STATE_PAUSED",o.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",o.JOB_STATE_UPDATING="JOB_STATE_UPDATING",o.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(Vu||(Vu={}));var uh;(function(o){o.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",o.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",o.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",o.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",o.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",o.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",o.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(uh||(uh={}));var ch;(function(o){o.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",o.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",o.BALANCED="BALANCED",o.PRIORITIZE_COST="PRIORITIZE_COST"})(ch||(ch={}));var dh;(function(o){o.MODE_UNSPECIFIED="MODE_UNSPECIFIED",o.MODE_DYNAMIC="MODE_DYNAMIC"})(dh||(dh={}));var fh;(function(o){o.MODE_UNSPECIFIED="MODE_UNSPECIFIED",o.AUTO="AUTO",o.ANY="ANY",o.NONE="NONE"})(fh||(fh={}));var mh;(function(o){o.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",o.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",o.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",o.BLOCK_NONE="BLOCK_NONE"})(mh||(mh={}));var hh;(function(o){o.DONT_ALLOW="DONT_ALLOW",o.ALLOW_ADULT="ALLOW_ADULT",o.ALLOW_ALL="ALLOW_ALL"})(hh||(hh={}));var gh;(function(o){o.auto="auto",o.en="en",o.ja="ja",o.ko="ko",o.hi="hi"})(gh||(gh={}));var ph;(function(o){o.STATE_UNSPECIFIED="STATE_UNSPECIFIED",o.PROCESSING="PROCESSING",o.ACTIVE="ACTIVE",o.FAILED="FAILED"})(ph||(ph={}));var yh;(function(o){o.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",o.UPLOADED="UPLOADED",o.GENERATED="GENERATED"})(yh||(yh={}));var vh;(function(o){o.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",o.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",o.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",o.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",o.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(vh||(vh={}));var xh;(function(o){o.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",o.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",o.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",o.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(xh||(xh={}));var Th;(function(o){o.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",o.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",o.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",o.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(Th||(Th={}));var bh;(function(o){o.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",o.TEXT="TEXT",o.IMAGE="IMAGE",o.VIDEO="VIDEO",o.AUDIO="AUDIO",o.DOCUMENT="DOCUMENT"})(bh||(bh={}));var Sh;(function(o){o.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",o.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",o.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(Sh||(Sh={}));var Eh;(function(o){o.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",o.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",o.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(Eh||(Eh={}));var Ch;(function(o){o.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",o.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",o.NO_INTERRUPTION="NO_INTERRUPTION"})(Ch||(Ch={}));var Nh;(function(o){o.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",o.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",o.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(Nh||(Nh={}));class Oo{get text(){var i,l,s,u,m,p,y,v;if(((u=(s=(l=(i=this.candidates)===null||i===void 0?void 0:i[0])===null||l===void 0?void 0:l.content)===null||s===void 0?void 0:s.parts)===null||u===void 0?void 0:u.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let g="",T=!1;const C=[];for(const _ of(v=(y=(p=(m=this.candidates)===null||m===void 0?void 0:m[0])===null||p===void 0?void 0:p.content)===null||y===void 0?void 0:y.parts)!==null&&v!==void 0?v:[]){for(const[L,G]of Object.entries(_))L!=="text"&&L!=="thought"&&(G!==null||G!==void 0)&&C.push(L);if(typeof _.text=="string"){if(typeof _.thought=="boolean"&&_.thought)continue;T=!0,g+=_.text}}return C.length>0&&console.warn(`there are non-text parts ${C} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),T?g:void 0}get data(){var i,l,s,u,m,p,y,v;if(((u=(s=(l=(i=this.candidates)===null||i===void 0?void 0:i[0])===null||l===void 0?void 0:l.content)===null||s===void 0?void 0:s.parts)===null||u===void 0?void 0:u.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let g="";const T=[];for(const C of(v=(y=(p=(m=this.candidates)===null||m===void 0?void 0:m[0])===null||p===void 0?void 0:p.content)===null||y===void 0?void 0:y.parts)!==null&&v!==void 0?v:[]){for(const[_,L]of Object.entries(C))_!=="inlineData"&&(L!==null||L!==void 0)&&T.push(_);C.inlineData&&typeof C.inlineData.data=="string"&&(g+=atob(C.inlineData.data))}return T.length>0&&console.warn(`there are non-data parts ${T} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),g.length>0?btoa(g):void 0}get functionCalls(){var i,l,s,u,m,p,y,v;if(((u=(s=(l=(i=this.candidates)===null||i===void 0?void 0:i[0])===null||l===void 0?void 0:l.content)===null||s===void 0?void 0:s.parts)===null||u===void 0?void 0:u.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const g=(v=(y=(p=(m=this.candidates)===null||m===void 0?void 0:m[0])===null||p===void 0?void 0:p.content)===null||y===void 0?void 0:y.parts)===null||v===void 0?void 0:v.filter(T=>T.functionCall).map(T=>T.functionCall).filter(T=>T!==void 0);if((g==null?void 0:g.length)!==0)return g}get executableCode(){var i,l,s,u,m,p,y,v,g;if(((u=(s=(l=(i=this.candidates)===null||i===void 0?void 0:i[0])===null||l===void 0?void 0:l.content)===null||s===void 0?void 0:s.parts)===null||u===void 0?void 0:u.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const T=(v=(y=(p=(m=this.candidates)===null||m===void 0?void 0:m[0])===null||p===void 0?void 0:p.content)===null||y===void 0?void 0:y.parts)===null||v===void 0?void 0:v.filter(C=>C.executableCode).map(C=>C.executableCode).filter(C=>C!==void 0);if((T==null?void 0:T.length)!==0)return(g=T==null?void 0:T[0])===null||g===void 0?void 0:g.code}get codeExecutionResult(){var i,l,s,u,m,p,y,v,g;if(((u=(s=(l=(i=this.candidates)===null||i===void 0?void 0:i[0])===null||l===void 0?void 0:l.content)===null||s===void 0?void 0:s.parts)===null||u===void 0?void 0:u.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const T=(v=(y=(p=(m=this.candidates)===null||m===void 0?void 0:m[0])===null||p===void 0?void 0:p.content)===null||y===void 0?void 0:y.parts)===null||v===void 0?void 0:v.filter(C=>C.codeExecutionResult).map(C=>C.codeExecutionResult).filter(C=>C!==void 0);if((T==null?void 0:T.length)!==0)return(g=T==null?void 0:T[0])===null||g===void 0?void 0:g.output}}class Ah{}class Mh{}class _h{}class wh{}class ky{}class Rh{}class Dh{}class Ih{}class Ly{}class ku{constructor(i){const l={};for(const s of i.headers.entries())l[s[0]]=s[1];this.headers=l,this.responseInternal=i}json(){return this.responseInternal.json()}}class Gy{}class By{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class jy extends Aa{constructor(i){super(),this.apiClient=i,this.list=async(l={})=>new Xu(Na.PAGED_ITEM_CACHED_CONTENTS,s=>this.listInternal(s),await this.listInternal(l),l)}async create(i){var l,s,u,m;let p,y="",v={};if(this.apiClient.isVertexAI()){const g=Cy(this.apiClient,i);return y=fe("cachedContents",g._url),v=g._query,delete g.config,delete g._url,delete g._query,p=this.apiClient.request({path:y,queryParams:v,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(l=i.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(s=i.config)===null||s===void 0?void 0:s.abortSignal}).then(T=>T.json()),p.then(T=>Ko(this.apiClient,T))}else{const g=uy(this.apiClient,i);return y=fe("cachedContents",g._url),v=g._query,delete g.config,delete g._url,delete g._query,p=this.apiClient.request({path:y,queryParams:v,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(u=i.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(m=i.config)===null||m===void 0?void 0:m.abortSignal}).then(T=>T.json()),p.then(T=>Fo(this.apiClient,T))}}async get(i){var l,s,u,m;let p,y="",v={};if(this.apiClient.isVertexAI()){const g=Ny(this.apiClient,i);return y=fe("{name}",g._url),v=g._query,delete g.config,delete g._url,delete g._query,p=this.apiClient.request({path:y,queryParams:v,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(l=i.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(s=i.config)===null||s===void 0?void 0:s.abortSignal}).then(T=>T.json()),p.then(T=>Ko(this.apiClient,T))}else{const g=cy(this.apiClient,i);return y=fe("{name}",g._url),v=g._query,delete g.config,delete g._url,delete g._query,p=this.apiClient.request({path:y,queryParams:v,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(u=i.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(m=i.config)===null||m===void 0?void 0:m.abortSignal}).then(T=>T.json()),p.then(T=>Fo(this.apiClient,T))}}async delete(i){var l,s,u,m;let p,y="",v={};if(this.apiClient.isVertexAI()){const g=Ay(this.apiClient,i);return y=fe("{name}",g._url),v=g._query,delete g.config,delete g._url,delete g._query,p=this.apiClient.request({path:y,queryParams:v,body:JSON.stringify(g),httpMethod:"DELETE",httpOptions:(l=i.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(s=i.config)===null||s===void 0?void 0:s.abortSignal}).then(T=>T.json()),p.then(()=>{const T=Uy(),C=new Dh;return Object.assign(C,T),C})}else{const g=dy(this.apiClient,i);return y=fe("{name}",g._url),v=g._query,delete g.config,delete g._url,delete g._query,p=this.apiClient.request({path:y,queryParams:v,body:JSON.stringify(g),httpMethod:"DELETE",httpOptions:(u=i.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(m=i.config)===null||m===void 0?void 0:m.abortSignal}).then(T=>T.json()),p.then(()=>{const T=Dy(),C=new Dh;return Object.assign(C,T),C})}}async update(i){var l,s,u,m;let p,y="",v={};if(this.apiClient.isVertexAI()){const g=_y(this.apiClient,i);return y=fe("{name}",g._url),v=g._query,delete g.config,delete g._url,delete g._query,p=this.apiClient.request({path:y,queryParams:v,body:JSON.stringify(g),httpMethod:"PATCH",httpOptions:(l=i.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(s=i.config)===null||s===void 0?void 0:s.abortSignal}).then(T=>T.json()),p.then(T=>Ko(this.apiClient,T))}else{const g=my(this.apiClient,i);return y=fe("{name}",g._url),v=g._query,delete g.config,delete g._url,delete g._query,p=this.apiClient.request({path:y,queryParams:v,body:JSON.stringify(g),httpMethod:"PATCH",httpOptions:(u=i.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(m=i.config)===null||m===void 0?void 0:m.abortSignal}).then(T=>T.json()),p.then(T=>Fo(this.apiClient,T))}}async listInternal(i){var l,s,u,m;let p,y="",v={};if(this.apiClient.isVertexAI()){const g=Ry(this.apiClient,i);return y=fe("cachedContents",g._url),v=g._query,delete g.config,delete g._url,delete g._query,p=this.apiClient.request({path:y,queryParams:v,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(l=i.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(s=i.config)===null||s===void 0?void 0:s.abortSignal}).then(T=>T.json()),p.then(T=>{const C=Vy(this.apiClient,T),_=new Ih;return Object.assign(_,C),_})}else{const g=gy(this.apiClient,i);return y=fe("cachedContents",g._url),v=g._query,delete g.config,delete g._url,delete g._query,p=this.apiClient.request({path:y,queryParams:v,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(u=i.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(m=i.config)===null||m===void 0?void 0:m.abortSignal}).then(T=>T.json()),p.then(T=>{const C=Iy(this.apiClient,T),_=new Ih;return Object.assign(_,C),_})}}}function Uh(o){var i=typeof Symbol=="function"&&Symbol.iterator,l=i&&o[i],s=0;if(l)return l.call(o);if(o&&typeof o.length=="number")return{next:function(){return o&&s>=o.length&&(o=void 0),{value:o&&o[s++],done:!o}}};throw new TypeError(i?"Object is not iterable.":"Symbol.iterator is not defined.")}function At(o){return this instanceof At?(this.v=o,this):new At(o)}function $o(o,i,l){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var s=l.apply(o,i||[]),u,m=[];return u=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),y("next"),y("throw"),y("return",p),u[Symbol.asyncIterator]=function(){return this},u;function p(L){return function(G){return Promise.resolve(G).then(L,C)}}function y(L,G){s[L]&&(u[L]=function(K){return new Promise(function(F,$){m.push([L,K,F,$])>1||v(L,K)})},G&&(u[L]=G(u[L])))}function v(L,G){try{g(s[L](G))}catch(K){_(m[0][3],K)}}function g(L){L.value instanceof At?Promise.resolve(L.value.v).then(T,C):_(m[0][2],L)}function T(L){v("next",L)}function C(L){v("throw",L)}function _(L,G){L(G),m.shift(),m.length&&v(m[0][0],m[0][1])}}function Lu(o){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=o[Symbol.asyncIterator],l;return i?i.call(o):(o=typeof Uh=="function"?Uh(o):o[Symbol.iterator](),l={},s("next"),s("throw"),s("return"),l[Symbol.asyncIterator]=function(){return this},l);function s(m){l[m]=o[m]&&function(p){return new Promise(function(y,v){p=o[m](p),u(y,v,p.done,p.value)})}}function u(m,p,y,v){Promise.resolve(v).then(function(g){m({value:g,done:y})},p)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function zy(o){var i;if(o.candidates==null||o.candidates.length===0)return!1;const l=(i=o.candidates[0])===null||i===void 0?void 0:i.content;return l===void 0?!1:yg(l)}function yg(o){if(o.parts===void 0||o.parts.length===0)return!1;for(const i of o.parts)if(i===void 0||Object.keys(i).length===0||i.text!==void 0&&i.text==="")return!1;return!0}function Oy(o){if(o.length!==0){if(o[0].role!=="user")throw new Error("History must start with a user turn.");for(const i of o)if(i.role!=="user"&&i.role!=="model")throw new Error(`Role must be user or model, but got ${i.role}.`)}}function Hy(o){if(o===void 0||o.length===0)return[];const i=[],l=o.length;let s=0,u=o[0];for(;s<l;)if(o[s].role==="user")u=o[s],s++;else{const m=[];let p=!0;for(;s<l&&o[s].role==="model";)m.push(o[s]),p&&!yg(o[s])&&(p=!1),s++;p&&(i.push(u),i.push(...m))}return i}class qy{constructor(i,l){this.modelsModule=i,this.apiClient=l}create(i){return new Py(this.apiClient,this.modelsModule,i.model,i.config,i.history)}}class Py{constructor(i,l,s,u={},m=[]){this.apiClient=i,this.modelsModule=l,this.model=s,this.config=u,this.history=m,this.sendPromise=Promise.resolve(),Oy(m)}async sendMessage(i){var l;await this.sendPromise;const s=Ut(this.apiClient,i.message),u=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(s),config:(l=i.config)!==null&&l!==void 0?l:this.config});return this.sendPromise=(async()=>{var m,p;const v=(p=(m=(await u).candidates)===null||m===void 0?void 0:m[0])===null||p===void 0?void 0:p.content,g=v?[v]:[];this.recordHistory(s,g)})(),await this.sendPromise,u}async sendMessageStream(i){var l;await this.sendPromise;const s=Ut(this.apiClient,i.message),u=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(s),config:(l=i.config)!==null&&l!==void 0?l:this.config});this.sendPromise=u.then(()=>{}).catch(()=>{});const m=await u;return this.processStreamResponse(m,s)}getHistory(i=!1){return i?Hy(this.history):this.history}processStreamResponse(i,l){var s,u;return $o(this,arguments,function*(){var p,y,v,g;const T=[];try{for(var C=!0,_=Lu(i),L;L=yield At(_.next()),p=L.done,!p;C=!0){g=L.value,C=!1;const G=g;if(zy(G)){const K=(u=(s=G.candidates)===null||s===void 0?void 0:s[0])===null||u===void 0?void 0:u.content;K!==void 0&&T.push(K)}yield yield At(G)}}catch(G){y={error:G}}finally{try{!C&&!p&&(v=_.return)&&(yield At(v.call(_)))}finally{if(y)throw y.error}}this.recordHistory(l,T)})}recordHistory(i,l){let s=[];l.length>0&&l.every(u=>u.role==="model")?s=l:s.push({role:"model",parts:[]}),this.history.push(i),this.history.push(...s)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Yy(o,i,l){const s={},u=c(i,["pageSize"]);l!==void 0&&u!=null&&d(l,["_query","pageSize"],u);const m=c(i,["pageToken"]);return l!==void 0&&m!=null&&d(l,["_query","pageToken"],m),s}function Fy(o,i){const l={},s=c(i,["config"]);return s!=null&&d(l,["config"],Yy(o,s,l)),l}function Ky(o,i){const l={},s=c(i,["details"]);s!=null&&d(l,["details"],s);const u=c(i,["message"]);u!=null&&d(l,["message"],u);const m=c(i,["code"]);return m!=null&&d(l,["code"],m),l}function Xy(o,i){const l={},s=c(i,["name"]);s!=null&&d(l,["name"],s);const u=c(i,["displayName"]);u!=null&&d(l,["displayName"],u);const m=c(i,["mimeType"]);m!=null&&d(l,["mimeType"],m);const p=c(i,["sizeBytes"]);p!=null&&d(l,["sizeBytes"],p);const y=c(i,["createTime"]);y!=null&&d(l,["createTime"],y);const v=c(i,["expirationTime"]);v!=null&&d(l,["expirationTime"],v);const g=c(i,["updateTime"]);g!=null&&d(l,["updateTime"],g);const T=c(i,["sha256Hash"]);T!=null&&d(l,["sha256Hash"],T);const C=c(i,["uri"]);C!=null&&d(l,["uri"],C);const _=c(i,["downloadUri"]);_!=null&&d(l,["downloadUri"],_);const L=c(i,["state"]);L!=null&&d(l,["state"],L);const G=c(i,["source"]);G!=null&&d(l,["source"],G);const K=c(i,["videoMetadata"]);K!=null&&d(l,["videoMetadata"],K);const F=c(i,["error"]);return F!=null&&d(l,["error"],Ky(o,F)),l}function Qy(o,i){const l={},s=c(i,["file"]);s!=null&&d(l,["file"],Xy(o,s));const u=c(i,["config"]);return u!=null&&d(l,["config"],u),l}function Jy(o,i){const l={},s=c(i,["name"]);s!=null&&d(l,["_url","file"],pg(o,s));const u=c(i,["config"]);return u!=null&&d(l,["config"],u),l}function Zy(o,i){const l={},s=c(i,["name"]);s!=null&&d(l,["_url","file"],pg(o,s));const u=c(i,["config"]);return u!=null&&d(l,["config"],u),l}function $y(o,i){const l={},s=c(i,["details"]);s!=null&&d(l,["details"],s);const u=c(i,["message"]);u!=null&&d(l,["message"],u);const m=c(i,["code"]);return m!=null&&d(l,["code"],m),l}function Gu(o,i){const l={},s=c(i,["name"]);s!=null&&d(l,["name"],s);const u=c(i,["displayName"]);u!=null&&d(l,["displayName"],u);const m=c(i,["mimeType"]);m!=null&&d(l,["mimeType"],m);const p=c(i,["sizeBytes"]);p!=null&&d(l,["sizeBytes"],p);const y=c(i,["createTime"]);y!=null&&d(l,["createTime"],y);const v=c(i,["expirationTime"]);v!=null&&d(l,["expirationTime"],v);const g=c(i,["updateTime"]);g!=null&&d(l,["updateTime"],g);const T=c(i,["sha256Hash"]);T!=null&&d(l,["sha256Hash"],T);const C=c(i,["uri"]);C!=null&&d(l,["uri"],C);const _=c(i,["downloadUri"]);_!=null&&d(l,["downloadUri"],_);const L=c(i,["state"]);L!=null&&d(l,["state"],L);const G=c(i,["source"]);G!=null&&d(l,["source"],G);const K=c(i,["videoMetadata"]);K!=null&&d(l,["videoMetadata"],K);const F=c(i,["error"]);return F!=null&&d(l,["error"],$y(o,F)),l}function Wy(o,i){const l={},s=c(i,["nextPageToken"]);s!=null&&d(l,["nextPageToken"],s);const u=c(i,["files"]);if(u!=null){let m=u;Array.isArray(m)&&(m=m.map(p=>Gu(o,p))),d(l,["files"],m)}return l}function ev(){return{}}function tv(){return{}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class nv extends Aa{constructor(i){super(),this.apiClient=i,this.list=async(l={})=>new Xu(Na.PAGED_ITEM_FILES,s=>this.listInternal(s),await this.listInternal(l),l)}async upload(i){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(i.file,i.config).then(l=>Gu(this.apiClient,l))}async listInternal(i){var l,s;let u,m="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const y=Fy(this.apiClient,i);return m=fe("files",y._url),p=y._query,delete y.config,delete y._url,delete y._query,u=this.apiClient.request({path:m,queryParams:p,body:JSON.stringify(y),httpMethod:"GET",httpOptions:(l=i.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(s=i.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json()),u.then(v=>{const g=Wy(this.apiClient,v),T=new Ly;return Object.assign(T,g),T})}}async createInternal(i){var l,s;let u,m="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const y=Qy(this.apiClient,i);return m=fe("upload/v1beta/files",y._url),p=y._query,delete y.config,delete y._url,delete y._query,u=this.apiClient.request({path:m,queryParams:p,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(l=i.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(s=i.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json()),u.then(()=>{const v=ev(),g=new Gy;return Object.assign(g,v),g})}}async get(i){var l,s;let u,m="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const y=Jy(this.apiClient,i);return m=fe("files/{file}",y._url),p=y._query,delete y.config,delete y._url,delete y._query,u=this.apiClient.request({path:m,queryParams:p,body:JSON.stringify(y),httpMethod:"GET",httpOptions:(l=i.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(s=i.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json()),u.then(v=>Gu(this.apiClient,v))}}async delete(i){var l,s;let u,m="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const y=Zy(this.apiClient,i);return m=fe("files/{file}",y._url),p=y._query,delete y.config,delete y._url,delete y._query,u=this.apiClient.request({path:m,queryParams:p,body:JSON.stringify(y),httpMethod:"DELETE",httpOptions:(l=i.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(s=i.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json()),u.then(()=>{const v=tv(),g=new By;return Object.assign(g,v),g})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function iv(o,i){const l={};if(c(i,["videoMetadata"])!==void 0)throw new Error("videoMetadata parameter is not supported in Gemini API.");const s=c(i,["thought"]);s!=null&&d(l,["thought"],s);const u=c(i,["codeExecutionResult"]);u!=null&&d(l,["codeExecutionResult"],u);const m=c(i,["executableCode"]);m!=null&&d(l,["executableCode"],m);const p=c(i,["fileData"]);p!=null&&d(l,["fileData"],p);const y=c(i,["functionCall"]);y!=null&&d(l,["functionCall"],y);const v=c(i,["functionResponse"]);v!=null&&d(l,["functionResponse"],v);const g=c(i,["inlineData"]);g!=null&&d(l,["inlineData"],g);const T=c(i,["text"]);return T!=null&&d(l,["text"],T),l}function lv(o,i){const l={},s=c(i,["videoMetadata"]);s!=null&&d(l,["videoMetadata"],s);const u=c(i,["thought"]);u!=null&&d(l,["thought"],u);const m=c(i,["codeExecutionResult"]);m!=null&&d(l,["codeExecutionResult"],m);const p=c(i,["executableCode"]);p!=null&&d(l,["executableCode"],p);const y=c(i,["fileData"]);y!=null&&d(l,["fileData"],y);const v=c(i,["functionCall"]);v!=null&&d(l,["functionCall"],v);const g=c(i,["functionResponse"]);g!=null&&d(l,["functionResponse"],g);const T=c(i,["inlineData"]);T!=null&&d(l,["inlineData"],T);const C=c(i,["text"]);return C!=null&&d(l,["text"],C),l}function av(o,i){const l={},s=c(i,["parts"]);if(s!=null){let m=s;Array.isArray(m)&&(m=m.map(p=>iv(o,p))),d(l,["parts"],m)}const u=c(i,["role"]);return u!=null&&d(l,["role"],u),l}function ov(o,i){const l={},s=c(i,["parts"]);if(s!=null){let m=s;Array.isArray(m)&&(m=m.map(p=>lv(o,p))),d(l,["parts"],m)}const u=c(i,["role"]);return u!=null&&d(l,["role"],u),l}function sv(){return{}}function rv(){return{}}function uv(o,i){const l={},s=c(i,["mode"]);s!=null&&d(l,["mode"],s);const u=c(i,["dynamicThreshold"]);return u!=null&&d(l,["dynamicThreshold"],u),l}function cv(o,i){const l={},s=c(i,["mode"]);s!=null&&d(l,["mode"],s);const u=c(i,["dynamicThreshold"]);return u!=null&&d(l,["dynamicThreshold"],u),l}function dv(o,i){const l={},s=c(i,["dynamicRetrievalConfig"]);return s!=null&&d(l,["dynamicRetrievalConfig"],uv(o,s)),l}function fv(o,i){const l={},s=c(i,["dynamicRetrievalConfig"]);return s!=null&&d(l,["dynamicRetrievalConfig"],cv(o,s)),l}function mv(o,i){const l={};if(c(i,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");c(i,["googleSearch"])!=null&&d(l,["googleSearch"],sv());const u=c(i,["googleSearchRetrieval"]);u!=null&&d(l,["googleSearchRetrieval"],dv(o,u));const m=c(i,["codeExecution"]);m!=null&&d(l,["codeExecution"],m);const p=c(i,["functionDeclarations"]);return p!=null&&d(l,["functionDeclarations"],p),l}function hv(o,i){const l={},s=c(i,["retrieval"]);s!=null&&d(l,["retrieval"],s),c(i,["googleSearch"])!=null&&d(l,["googleSearch"],rv());const m=c(i,["googleSearchRetrieval"]);m!=null&&d(l,["googleSearchRetrieval"],fv(o,m));const p=c(i,["codeExecution"]);p!=null&&d(l,["codeExecution"],p);const y=c(i,["functionDeclarations"]);return y!=null&&d(l,["functionDeclarations"],y),l}function gv(o,i){const l={},s=c(i,["handle"]);if(s!=null&&d(l,["handle"],s),c(i,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return l}function pv(o,i){const l={},s=c(i,["handle"]);s!=null&&d(l,["handle"],s);const u=c(i,["transparent"]);return u!=null&&d(l,["transparent"],u),l}function yv(){return{}}function Vh(){return{}}function vv(o,i){const l={},s=c(i,["disabled"]);s!=null&&d(l,["disabled"],s);const u=c(i,["startOfSpeechSensitivity"]);u!=null&&d(l,["startOfSpeechSensitivity"],u);const m=c(i,["endOfSpeechSensitivity"]);m!=null&&d(l,["endOfSpeechSensitivity"],m);const p=c(i,["prefixPaddingMs"]);p!=null&&d(l,["prefixPaddingMs"],p);const y=c(i,["silenceDurationMs"]);return y!=null&&d(l,["silenceDurationMs"],y),l}function xv(o,i){const l={},s=c(i,["disabled"]);s!=null&&d(l,["disabled"],s);const u=c(i,["startOfSpeechSensitivity"]);u!=null&&d(l,["startOfSpeechSensitivity"],u);const m=c(i,["endOfSpeechSensitivity"]);m!=null&&d(l,["endOfSpeechSensitivity"],m);const p=c(i,["prefixPaddingMs"]);p!=null&&d(l,["prefixPaddingMs"],p);const y=c(i,["silenceDurationMs"]);return y!=null&&d(l,["silenceDurationMs"],y),l}function Tv(o,i){const l={},s=c(i,["automaticActivityDetection"]);s!=null&&d(l,["automaticActivityDetection"],vv(o,s));const u=c(i,["activityHandling"]);u!=null&&d(l,["activityHandling"],u);const m=c(i,["turnCoverage"]);return m!=null&&d(l,["turnCoverage"],m),l}function bv(o,i){const l={},s=c(i,["automaticActivityDetection"]);s!=null&&d(l,["automaticActivityDetection"],xv(o,s));const u=c(i,["activityHandling"]);u!=null&&d(l,["activityHandling"],u);const m=c(i,["turnCoverage"]);return m!=null&&d(l,["turnCoverage"],m),l}function Sv(o,i){const l={},s=c(i,["targetTokens"]);return s!=null&&d(l,["targetTokens"],s),l}function Ev(o,i){const l={},s=c(i,["targetTokens"]);return s!=null&&d(l,["targetTokens"],s),l}function Cv(o,i){const l={},s=c(i,["triggerTokens"]);s!=null&&d(l,["triggerTokens"],s);const u=c(i,["slidingWindow"]);return u!=null&&d(l,["slidingWindow"],Sv(o,u)),l}function Nv(o,i){const l={},s=c(i,["triggerTokens"]);s!=null&&d(l,["triggerTokens"],s);const u=c(i,["slidingWindow"]);return u!=null&&d(l,["slidingWindow"],Ev(o,u)),l}function Av(o,i,l){const s={},u=c(i,["generationConfig"]);l!==void 0&&u!=null&&d(l,["setup","generationConfig"],u);const m=c(i,["responseModalities"]);l!==void 0&&m!=null&&d(l,["setup","generationConfig","responseModalities"],m);const p=c(i,["temperature"]);l!==void 0&&p!=null&&d(l,["setup","generationConfig","temperature"],p);const y=c(i,["topP"]);l!==void 0&&y!=null&&d(l,["setup","generationConfig","topP"],y);const v=c(i,["topK"]);l!==void 0&&v!=null&&d(l,["setup","generationConfig","topK"],v);const g=c(i,["maxOutputTokens"]);l!==void 0&&g!=null&&d(l,["setup","generationConfig","maxOutputTokens"],g);const T=c(i,["mediaResolution"]);l!==void 0&&T!=null&&d(l,["setup","generationConfig","mediaResolution"],T);const C=c(i,["seed"]);l!==void 0&&C!=null&&d(l,["setup","generationConfig","seed"],C);const _=c(i,["speechConfig"]);l!==void 0&&_!=null&&d(l,["setup","generationConfig","speechConfig"],_);const L=c(i,["systemInstruction"]);l!==void 0&&L!=null&&d(l,["setup","systemInstruction"],av(o,Ut(o,L)));const G=c(i,["tools"]);if(l!==void 0&&G!=null){let ie=as(o,G);Array.isArray(ie)&&(ie=ie.map(J=>mv(o,ls(o,J)))),d(l,["setup","tools"],ie)}const K=c(i,["sessionResumption"]);if(l!==void 0&&K!=null&&d(l,["setup","sessionResumption"],gv(o,K)),c(i,["inputAudioTranscription"])!==void 0)throw new Error("inputAudioTranscription parameter is not supported in Gemini API.");const F=c(i,["outputAudioTranscription"]);l!==void 0&&F!=null&&d(l,["setup","outputAudioTranscription"],yv());const $=c(i,["realtimeInputConfig"]);l!==void 0&&$!=null&&d(l,["setup","realtimeInputConfig"],Tv(o,$));const ee=c(i,["contextWindowCompression"]);return l!==void 0&&ee!=null&&d(l,["setup","contextWindowCompression"],Cv(o,ee)),s}function Mv(o,i,l){const s={},u=c(i,["generationConfig"]);l!==void 0&&u!=null&&d(l,["setup","generationConfig"],u);const m=c(i,["responseModalities"]);l!==void 0&&m!=null&&d(l,["setup","generationConfig","responseModalities"],m);const p=c(i,["temperature"]);l!==void 0&&p!=null&&d(l,["setup","generationConfig","temperature"],p);const y=c(i,["topP"]);l!==void 0&&y!=null&&d(l,["setup","generationConfig","topP"],y);const v=c(i,["topK"]);l!==void 0&&v!=null&&d(l,["setup","generationConfig","topK"],v);const g=c(i,["maxOutputTokens"]);l!==void 0&&g!=null&&d(l,["setup","generationConfig","maxOutputTokens"],g);const T=c(i,["mediaResolution"]);l!==void 0&&T!=null&&d(l,["setup","generationConfig","mediaResolution"],T);const C=c(i,["seed"]);l!==void 0&&C!=null&&d(l,["setup","generationConfig","seed"],C);const _=c(i,["speechConfig"]);l!==void 0&&_!=null&&d(l,["setup","generationConfig","speechConfig"],_);const L=c(i,["systemInstruction"]);l!==void 0&&L!=null&&d(l,["setup","systemInstruction"],ov(o,Ut(o,L)));const G=c(i,["tools"]);if(l!==void 0&&G!=null){let J=as(o,G);Array.isArray(J)&&(J=J.map(W=>hv(o,ls(o,W)))),d(l,["setup","tools"],J)}const K=c(i,["sessionResumption"]);l!==void 0&&K!=null&&d(l,["setup","sessionResumption"],pv(o,K));const F=c(i,["inputAudioTranscription"]);l!==void 0&&F!=null&&d(l,["setup","inputAudioTranscription"],Vh());const $=c(i,["outputAudioTranscription"]);l!==void 0&&$!=null&&d(l,["setup","outputAudioTranscription"],Vh());const ee=c(i,["realtimeInputConfig"]);l!==void 0&&ee!=null&&d(l,["setup","realtimeInputConfig"],bv(o,ee));const ie=c(i,["contextWindowCompression"]);return l!==void 0&&ie!=null&&d(l,["setup","contextWindowCompression"],Nv(o,ie)),s}function _v(o,i){const l={},s=c(i,["model"]);s!=null&&d(l,["setup","model"],Ze(o,s));const u=c(i,["config"]);return u!=null&&d(l,["config"],Av(o,u,l)),l}function wv(o,i){const l={},s=c(i,["model"]);s!=null&&d(l,["setup","model"],Ze(o,s));const u=c(i,["config"]);return u!=null&&d(l,["config"],Mv(o,u,l)),l}function Rv(){return{}}function Dv(){return{}}function Iv(){return{}}function Uv(){return{}}function Vv(o,i){const l={},s=c(i,["media"]);s!=null&&d(l,["mediaChunks"],cg(o,s));const u=c(i,["audio"]);u!=null&&d(l,["audio"],W0(o,u));const m=c(i,["audioStreamEnd"]);m!=null&&d(l,["audioStreamEnd"],m);const p=c(i,["video"]);p!=null&&d(l,["video"],$0(o,p));const y=c(i,["text"]);return y!=null&&d(l,["text"],y),c(i,["activityStart"])!=null&&d(l,["activityStart"],Rv()),c(i,["activityEnd"])!=null&&d(l,["activityEnd"],Iv()),l}function kv(o,i){const l={},s=c(i,["media"]);if(s!=null&&d(l,["mediaChunks"],cg(o,s)),c(i,["audio"])!==void 0)throw new Error("audio parameter is not supported in Vertex AI.");const u=c(i,["audioStreamEnd"]);if(u!=null&&d(l,["audioStreamEnd"],u),c(i,["video"])!==void 0)throw new Error("video parameter is not supported in Vertex AI.");if(c(i,["text"])!==void 0)throw new Error("text parameter is not supported in Vertex AI.");return c(i,["activityStart"])!=null&&d(l,["activityStart"],Dv()),c(i,["activityEnd"])!=null&&d(l,["activityEnd"],Uv()),l}function Lv(){return{}}function Gv(){return{}}function Bv(o,i){const l={},s=c(i,["thought"]);s!=null&&d(l,["thought"],s);const u=c(i,["codeExecutionResult"]);u!=null&&d(l,["codeExecutionResult"],u);const m=c(i,["executableCode"]);m!=null&&d(l,["executableCode"],m);const p=c(i,["fileData"]);p!=null&&d(l,["fileData"],p);const y=c(i,["functionCall"]);y!=null&&d(l,["functionCall"],y);const v=c(i,["functionResponse"]);v!=null&&d(l,["functionResponse"],v);const g=c(i,["inlineData"]);g!=null&&d(l,["inlineData"],g);const T=c(i,["text"]);return T!=null&&d(l,["text"],T),l}function jv(o,i){const l={},s=c(i,["videoMetadata"]);s!=null&&d(l,["videoMetadata"],s);const u=c(i,["thought"]);u!=null&&d(l,["thought"],u);const m=c(i,["codeExecutionResult"]);m!=null&&d(l,["codeExecutionResult"],m);const p=c(i,["executableCode"]);p!=null&&d(l,["executableCode"],p);const y=c(i,["fileData"]);y!=null&&d(l,["fileData"],y);const v=c(i,["functionCall"]);v!=null&&d(l,["functionCall"],v);const g=c(i,["functionResponse"]);g!=null&&d(l,["functionResponse"],g);const T=c(i,["inlineData"]);T!=null&&d(l,["inlineData"],T);const C=c(i,["text"]);return C!=null&&d(l,["text"],C),l}function zv(o,i){const l={},s=c(i,["parts"]);if(s!=null){let m=s;Array.isArray(m)&&(m=m.map(p=>Bv(o,p))),d(l,["parts"],m)}const u=c(i,["role"]);return u!=null&&d(l,["role"],u),l}function Ov(o,i){const l={},s=c(i,["parts"]);if(s!=null){let m=s;Array.isArray(m)&&(m=m.map(p=>jv(o,p))),d(l,["parts"],m)}const u=c(i,["role"]);return u!=null&&d(l,["role"],u),l}function kh(o,i){const l={},s=c(i,["text"]);s!=null&&d(l,["text"],s);const u=c(i,["finished"]);return u!=null&&d(l,["finished"],u),l}function Lh(o,i){const l={},s=c(i,["text"]);s!=null&&d(l,["text"],s);const u=c(i,["finished"]);return u!=null&&d(l,["finished"],u),l}function Hv(o,i){const l={},s=c(i,["modelTurn"]);s!=null&&d(l,["modelTurn"],zv(o,s));const u=c(i,["turnComplete"]);u!=null&&d(l,["turnComplete"],u);const m=c(i,["interrupted"]);m!=null&&d(l,["interrupted"],m);const p=c(i,["groundingMetadata"]);p!=null&&d(l,["groundingMetadata"],p);const y=c(i,["generationComplete"]);y!=null&&d(l,["generationComplete"],y);const v=c(i,["inputTranscription"]);v!=null&&d(l,["inputTranscription"],kh(o,v));const g=c(i,["outputTranscription"]);return g!=null&&d(l,["outputTranscription"],kh(o,g)),l}function qv(o,i){const l={},s=c(i,["modelTurn"]);s!=null&&d(l,["modelTurn"],Ov(o,s));const u=c(i,["turnComplete"]);u!=null&&d(l,["turnComplete"],u);const m=c(i,["interrupted"]);m!=null&&d(l,["interrupted"],m);const p=c(i,["groundingMetadata"]);p!=null&&d(l,["groundingMetadata"],p);const y=c(i,["generationComplete"]);y!=null&&d(l,["generationComplete"],y);const v=c(i,["inputTranscription"]);v!=null&&d(l,["inputTranscription"],Lh(o,v));const g=c(i,["outputTranscription"]);return g!=null&&d(l,["outputTranscription"],Lh(o,g)),l}function Pv(o,i){const l={},s=c(i,["id"]);s!=null&&d(l,["id"],s);const u=c(i,["args"]);u!=null&&d(l,["args"],u);const m=c(i,["name"]);return m!=null&&d(l,["name"],m),l}function Yv(o,i){const l={},s=c(i,["args"]);s!=null&&d(l,["args"],s);const u=c(i,["name"]);return u!=null&&d(l,["name"],u),l}function Fv(o,i){const l={},s=c(i,["functionCalls"]);if(s!=null){let u=s;Array.isArray(u)&&(u=u.map(m=>Pv(o,m))),d(l,["functionCalls"],u)}return l}function Kv(o,i){const l={},s=c(i,["functionCalls"]);if(s!=null){let u=s;Array.isArray(u)&&(u=u.map(m=>Yv(o,m))),d(l,["functionCalls"],u)}return l}function Xv(o,i){const l={},s=c(i,["ids"]);return s!=null&&d(l,["ids"],s),l}function Qv(o,i){const l={},s=c(i,["ids"]);return s!=null&&d(l,["ids"],s),l}function Ho(o,i){const l={},s=c(i,["modality"]);s!=null&&d(l,["modality"],s);const u=c(i,["tokenCount"]);return u!=null&&d(l,["tokenCount"],u),l}function qo(o,i){const l={},s=c(i,["modality"]);s!=null&&d(l,["modality"],s);const u=c(i,["tokenCount"]);return u!=null&&d(l,["tokenCount"],u),l}function Jv(o,i){const l={},s=c(i,["promptTokenCount"]);s!=null&&d(l,["promptTokenCount"],s);const u=c(i,["cachedContentTokenCount"]);u!=null&&d(l,["cachedContentTokenCount"],u);const m=c(i,["responseTokenCount"]);m!=null&&d(l,["responseTokenCount"],m);const p=c(i,["toolUsePromptTokenCount"]);p!=null&&d(l,["toolUsePromptTokenCount"],p);const y=c(i,["thoughtsTokenCount"]);y!=null&&d(l,["thoughtsTokenCount"],y);const v=c(i,["totalTokenCount"]);v!=null&&d(l,["totalTokenCount"],v);const g=c(i,["promptTokensDetails"]);if(g!=null){let L=g;Array.isArray(L)&&(L=L.map(G=>Ho(o,G))),d(l,["promptTokensDetails"],L)}const T=c(i,["cacheTokensDetails"]);if(T!=null){let L=T;Array.isArray(L)&&(L=L.map(G=>Ho(o,G))),d(l,["cacheTokensDetails"],L)}const C=c(i,["responseTokensDetails"]);if(C!=null){let L=C;Array.isArray(L)&&(L=L.map(G=>Ho(o,G))),d(l,["responseTokensDetails"],L)}const _=c(i,["toolUsePromptTokensDetails"]);if(_!=null){let L=_;Array.isArray(L)&&(L=L.map(G=>Ho(o,G))),d(l,["toolUsePromptTokensDetails"],L)}return l}function Zv(o,i){const l={},s=c(i,["promptTokenCount"]);s!=null&&d(l,["promptTokenCount"],s);const u=c(i,["cachedContentTokenCount"]);u!=null&&d(l,["cachedContentTokenCount"],u);const m=c(i,["candidatesTokenCount"]);m!=null&&d(l,["responseTokenCount"],m);const p=c(i,["toolUsePromptTokenCount"]);p!=null&&d(l,["toolUsePromptTokenCount"],p);const y=c(i,["thoughtsTokenCount"]);y!=null&&d(l,["thoughtsTokenCount"],y);const v=c(i,["totalTokenCount"]);v!=null&&d(l,["totalTokenCount"],v);const g=c(i,["promptTokensDetails"]);if(g!=null){let G=g;Array.isArray(G)&&(G=G.map(K=>qo(o,K))),d(l,["promptTokensDetails"],G)}const T=c(i,["cacheTokensDetails"]);if(T!=null){let G=T;Array.isArray(G)&&(G=G.map(K=>qo(o,K))),d(l,["cacheTokensDetails"],G)}const C=c(i,["candidatesTokensDetails"]);if(C!=null){let G=C;Array.isArray(G)&&(G=G.map(K=>qo(o,K))),d(l,["responseTokensDetails"],G)}const _=c(i,["toolUsePromptTokensDetails"]);if(_!=null){let G=_;Array.isArray(G)&&(G=G.map(K=>qo(o,K))),d(l,["toolUsePromptTokensDetails"],G)}const L=c(i,["trafficType"]);return L!=null&&d(l,["trafficType"],L),l}function $v(o,i){const l={},s=c(i,["timeLeft"]);return s!=null&&d(l,["timeLeft"],s),l}function Wv(o,i){const l={},s=c(i,["timeLeft"]);return s!=null&&d(l,["timeLeft"],s),l}function ex(o,i){const l={},s=c(i,["newHandle"]);s!=null&&d(l,["newHandle"],s);const u=c(i,["resumable"]);u!=null&&d(l,["resumable"],u);const m=c(i,["lastConsumedClientMessageIndex"]);return m!=null&&d(l,["lastConsumedClientMessageIndex"],m),l}function tx(o,i){const l={},s=c(i,["newHandle"]);s!=null&&d(l,["newHandle"],s);const u=c(i,["resumable"]);u!=null&&d(l,["resumable"],u);const m=c(i,["lastConsumedClientMessageIndex"]);return m!=null&&d(l,["lastConsumedClientMessageIndex"],m),l}function nx(o,i){const l={};c(i,["setupComplete"])!=null&&d(l,["setupComplete"],Lv());const u=c(i,["serverContent"]);u!=null&&d(l,["serverContent"],Hv(o,u));const m=c(i,["toolCall"]);m!=null&&d(l,["toolCall"],Fv(o,m));const p=c(i,["toolCallCancellation"]);p!=null&&d(l,["toolCallCancellation"],Xv(o,p));const y=c(i,["usageMetadata"]);y!=null&&d(l,["usageMetadata"],Jv(o,y));const v=c(i,["goAway"]);v!=null&&d(l,["goAway"],$v(o,v));const g=c(i,["sessionResumptionUpdate"]);return g!=null&&d(l,["sessionResumptionUpdate"],ex(o,g)),l}function ix(o,i){const l={};c(i,["setupComplete"])!=null&&d(l,["setupComplete"],Gv());const u=c(i,["serverContent"]);u!=null&&d(l,["serverContent"],qv(o,u));const m=c(i,["toolCall"]);m!=null&&d(l,["toolCall"],Kv(o,m));const p=c(i,["toolCallCancellation"]);p!=null&&d(l,["toolCallCancellation"],Qv(o,p));const y=c(i,["usageMetadata"]);y!=null&&d(l,["usageMetadata"],Zv(o,y));const v=c(i,["goAway"]);v!=null&&d(l,["goAway"],Wv(o,v));const g=c(i,["sessionResumptionUpdate"]);return g!=null&&d(l,["sessionResumptionUpdate"],tx(o,g)),l}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function lx(o,i){const l={};if(c(i,["videoMetadata"])!==void 0)throw new Error("videoMetadata parameter is not supported in Gemini API.");const s=c(i,["thought"]);s!=null&&d(l,["thought"],s);const u=c(i,["codeExecutionResult"]);u!=null&&d(l,["codeExecutionResult"],u);const m=c(i,["executableCode"]);m!=null&&d(l,["executableCode"],m);const p=c(i,["fileData"]);p!=null&&d(l,["fileData"],p);const y=c(i,["functionCall"]);y!=null&&d(l,["functionCall"],y);const v=c(i,["functionResponse"]);v!=null&&d(l,["functionResponse"],v);const g=c(i,["inlineData"]);g!=null&&d(l,["inlineData"],g);const T=c(i,["text"]);return T!=null&&d(l,["text"],T),l}function os(o,i){const l={},s=c(i,["parts"]);if(s!=null){let m=s;Array.isArray(m)&&(m=m.map(p=>lx(o,p))),d(l,["parts"],m)}const u=c(i,["role"]);return u!=null&&d(l,["role"],u),l}function ax(o,i){const l={};if(c(i,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const s=c(i,["category"]);s!=null&&d(l,["category"],s);const u=c(i,["threshold"]);return u!=null&&d(l,["threshold"],u),l}function ox(){return{}}function sx(o,i){const l={},s=c(i,["mode"]);s!=null&&d(l,["mode"],s);const u=c(i,["dynamicThreshold"]);return u!=null&&d(l,["dynamicThreshold"],u),l}function rx(o,i){const l={},s=c(i,["dynamicRetrievalConfig"]);return s!=null&&d(l,["dynamicRetrievalConfig"],sx(o,s)),l}function ux(o,i){const l={};if(c(i,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");c(i,["googleSearch"])!=null&&d(l,["googleSearch"],ox());const u=c(i,["googleSearchRetrieval"]);u!=null&&d(l,["googleSearchRetrieval"],rx(o,u));const m=c(i,["codeExecution"]);m!=null&&d(l,["codeExecution"],m);const p=c(i,["functionDeclarations"]);return p!=null&&d(l,["functionDeclarations"],p),l}function cx(o,i){const l={},s=c(i,["mode"]);s!=null&&d(l,["mode"],s);const u=c(i,["allowedFunctionNames"]);return u!=null&&d(l,["allowedFunctionNames"],u),l}function dx(o,i){const l={},s=c(i,["functionCallingConfig"]);return s!=null&&d(l,["functionCallingConfig"],cx(o,s)),l}function fx(o,i){const l={},s=c(i,["voiceName"]);return s!=null&&d(l,["voiceName"],s),l}function mx(o,i){const l={},s=c(i,["prebuiltVoiceConfig"]);return s!=null&&d(l,["prebuiltVoiceConfig"],fx(o,s)),l}function hx(o,i){const l={},s=c(i,["voiceConfig"]);s!=null&&d(l,["voiceConfig"],mx(o,s));const u=c(i,["languageCode"]);return u!=null&&d(l,["languageCode"],u),l}function gx(o,i){const l={},s=c(i,["includeThoughts"]);s!=null&&d(l,["includeThoughts"],s);const u=c(i,["thinkingBudget"]);return u!=null&&d(l,["thinkingBudget"],u),l}function px(o,i,l){const s={},u=c(i,["systemInstruction"]);l!==void 0&&u!=null&&d(l,["systemInstruction"],os(o,Ut(o,u)));const m=c(i,["temperature"]);m!=null&&d(s,["temperature"],m);const p=c(i,["topP"]);p!=null&&d(s,["topP"],p);const y=c(i,["topK"]);y!=null&&d(s,["topK"],y);const v=c(i,["candidateCount"]);v!=null&&d(s,["candidateCount"],v);const g=c(i,["maxOutputTokens"]);g!=null&&d(s,["maxOutputTokens"],g);const T=c(i,["stopSequences"]);T!=null&&d(s,["stopSequences"],T);const C=c(i,["responseLogprobs"]);C!=null&&d(s,["responseLogprobs"],C);const _=c(i,["logprobs"]);_!=null&&d(s,["logprobs"],_);const L=c(i,["presencePenalty"]);L!=null&&d(s,["presencePenalty"],L);const G=c(i,["frequencyPenalty"]);G!=null&&d(s,["frequencyPenalty"],G);const K=c(i,["seed"]);K!=null&&d(s,["seed"],K);const F=c(i,["responseMimeType"]);F!=null&&d(s,["responseMimeType"],F);const $=c(i,["responseSchema"]);if($!=null&&d(s,["responseSchema"],mg(o,$)),c(i,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(c(i,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const ee=c(i,["safetySettings"]);if(l!==void 0&&ee!=null){let ze=ee;Array.isArray(ze)&&(ze=ze.map(qe=>ax(o,qe))),d(l,["safetySettings"],ze)}const ie=c(i,["tools"]);if(l!==void 0&&ie!=null){let ze=as(o,ie);Array.isArray(ze)&&(ze=ze.map(qe=>ux(o,ls(o,qe)))),d(l,["tools"],ze)}const J=c(i,["toolConfig"]);if(l!==void 0&&J!=null&&d(l,["toolConfig"],dx(o,J)),c(i,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const W=c(i,["cachedContent"]);l!==void 0&&W!=null&&d(l,["cachedContent"],ri(o,W));const He=c(i,["responseModalities"]);He!=null&&d(s,["responseModalities"],He);const Ae=c(i,["mediaResolution"]);Ae!=null&&d(s,["mediaResolution"],Ae);const be=c(i,["speechConfig"]);if(be!=null&&d(s,["speechConfig"],hx(o,hg(o,be))),c(i,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const Se=c(i,["thinkingConfig"]);return Se!=null&&d(s,["thinkingConfig"],gx(o,Se)),s}function Gh(o,i){const l={},s=c(i,["model"]);s!=null&&d(l,["_url","model"],Ze(o,s));const u=c(i,["contents"]);if(u!=null){let p=si(o,u);Array.isArray(p)&&(p=p.map(y=>os(o,y))),d(l,["contents"],p)}const m=c(i,["config"]);return m!=null&&d(l,["generationConfig"],px(o,m,l)),l}function yx(o,i,l){const s={},u=c(i,["taskType"]);l!==void 0&&u!=null&&d(l,["requests[]","taskType"],u);const m=c(i,["title"]);l!==void 0&&m!=null&&d(l,["requests[]","title"],m);const p=c(i,["outputDimensionality"]);if(l!==void 0&&p!=null&&d(l,["requests[]","outputDimensionality"],p),c(i,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(c(i,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return s}function vx(o,i){const l={},s=c(i,["model"]);s!=null&&d(l,["_url","model"],Ze(o,s));const u=c(i,["contents"]);u!=null&&d(l,["requests[]","content"],fg(o,u));const m=c(i,["config"]);m!=null&&d(l,["config"],yx(o,m,l));const p=c(i,["model"]);return p!==void 0&&d(l,["requests[]","model"],Ze(o,p)),l}function xx(o,i,l){const s={};if(c(i,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(c(i,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const u=c(i,["numberOfImages"]);l!==void 0&&u!=null&&d(l,["parameters","sampleCount"],u);const m=c(i,["aspectRatio"]);l!==void 0&&m!=null&&d(l,["parameters","aspectRatio"],m);const p=c(i,["guidanceScale"]);if(l!==void 0&&p!=null&&d(l,["parameters","guidanceScale"],p),c(i,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const y=c(i,["safetyFilterLevel"]);l!==void 0&&y!=null&&d(l,["parameters","safetySetting"],y);const v=c(i,["personGeneration"]);l!==void 0&&v!=null&&d(l,["parameters","personGeneration"],v);const g=c(i,["includeSafetyAttributes"]);l!==void 0&&g!=null&&d(l,["parameters","includeSafetyAttributes"],g);const T=c(i,["includeRaiReason"]);l!==void 0&&T!=null&&d(l,["parameters","includeRaiReason"],T);const C=c(i,["language"]);l!==void 0&&C!=null&&d(l,["parameters","language"],C);const _=c(i,["outputMimeType"]);l!==void 0&&_!=null&&d(l,["parameters","outputOptions","mimeType"],_);const L=c(i,["outputCompressionQuality"]);if(l!==void 0&&L!=null&&d(l,["parameters","outputOptions","compressionQuality"],L),c(i,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(c(i,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return s}function Tx(o,i){const l={},s=c(i,["model"]);s!=null&&d(l,["_url","model"],Ze(o,s));const u=c(i,["prompt"]);u!=null&&d(l,["instances[0]","prompt"],u);const m=c(i,["config"]);return m!=null&&d(l,["config"],xx(o,m,l)),l}function bx(o,i){const l={},s=c(i,["model"]);s!=null&&d(l,["_url","name"],Ze(o,s));const u=c(i,["config"]);return u!=null&&d(l,["config"],u),l}function Sx(o,i,l){const s={},u=c(i,["displayName"]);l!==void 0&&u!=null&&d(l,["displayName"],u);const m=c(i,["description"]);return l!==void 0&&m!=null&&d(l,["description"],m),s}function Ex(o,i){const l={},s=c(i,["model"]);s!=null&&d(l,["_url","name"],Ze(o,s));const u=c(i,["config"]);return u!=null&&d(l,["config"],Sx(o,u,l)),l}function Cx(o,i){const l={},s=c(i,["model"]);s!=null&&d(l,["_url","name"],Ze(o,s));const u=c(i,["config"]);return u!=null&&d(l,["config"],u),l}function Nx(o,i){const l={};if(c(i,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(c(i,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(c(i,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return l}function Ax(o,i){const l={},s=c(i,["model"]);s!=null&&d(l,["_url","model"],Ze(o,s));const u=c(i,["contents"]);if(u!=null){let p=si(o,u);Array.isArray(p)&&(p=p.map(y=>os(o,y))),d(l,["contents"],p)}const m=c(i,["config"]);return m!=null&&d(l,["config"],Nx(o,m)),l}function Mx(o,i){const l={};if(c(i,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const s=c(i,["imageBytes"]);s!=null&&d(l,["bytesBase64Encoded"],ui(o,s));const u=c(i,["mimeType"]);return u!=null&&d(l,["mimeType"],u),l}function _x(o,i,l){const s={},u=c(i,["numberOfVideos"]);if(l!==void 0&&u!=null&&d(l,["parameters","sampleCount"],u),c(i,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(c(i,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const m=c(i,["durationSeconds"]);if(l!==void 0&&m!=null&&d(l,["parameters","durationSeconds"],m),c(i,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const p=c(i,["aspectRatio"]);if(l!==void 0&&p!=null&&d(l,["parameters","aspectRatio"],p),c(i,["resolution"])!==void 0)throw new Error("resolution parameter is not supported in Gemini API.");const y=c(i,["personGeneration"]);if(l!==void 0&&y!=null&&d(l,["parameters","personGeneration"],y),c(i,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const v=c(i,["negativePrompt"]);if(l!==void 0&&v!=null&&d(l,["parameters","negativePrompt"],v),c(i,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return s}function wx(o,i){const l={},s=c(i,["model"]);s!=null&&d(l,["_url","model"],Ze(o,s));const u=c(i,["prompt"]);u!=null&&d(l,["instances[0]","prompt"],u);const m=c(i,["image"]);m!=null&&d(l,["instances[0]","image"],Mx(o,m));const p=c(i,["config"]);return p!=null&&d(l,["config"],_x(o,p,l)),l}function Rx(o,i){const l={},s=c(i,["videoMetadata"]);s!=null&&d(l,["videoMetadata"],s);const u=c(i,["thought"]);u!=null&&d(l,["thought"],u);const m=c(i,["codeExecutionResult"]);m!=null&&d(l,["codeExecutionResult"],m);const p=c(i,["executableCode"]);p!=null&&d(l,["executableCode"],p);const y=c(i,["fileData"]);y!=null&&d(l,["fileData"],y);const v=c(i,["functionCall"]);v!=null&&d(l,["functionCall"],v);const g=c(i,["functionResponse"]);g!=null&&d(l,["functionResponse"],g);const T=c(i,["inlineData"]);T!=null&&d(l,["inlineData"],T);const C=c(i,["text"]);return C!=null&&d(l,["text"],C),l}function Tl(o,i){const l={},s=c(i,["parts"]);if(s!=null){let m=s;Array.isArray(m)&&(m=m.map(p=>Rx(o,p))),d(l,["parts"],m)}const u=c(i,["role"]);return u!=null&&d(l,["role"],u),l}function Dx(o,i){const l={},s=c(i,["featureSelectionPreference"]);return s!=null&&d(l,["featureSelectionPreference"],s),l}function Ix(o,i){const l={},s=c(i,["method"]);s!=null&&d(l,["method"],s);const u=c(i,["category"]);u!=null&&d(l,["category"],u);const m=c(i,["threshold"]);return m!=null&&d(l,["threshold"],m),l}function Ux(){return{}}function Vx(o,i){const l={},s=c(i,["mode"]);s!=null&&d(l,["mode"],s);const u=c(i,["dynamicThreshold"]);return u!=null&&d(l,["dynamicThreshold"],u),l}function kx(o,i){const l={},s=c(i,["dynamicRetrievalConfig"]);return s!=null&&d(l,["dynamicRetrievalConfig"],Vx(o,s)),l}function vg(o,i){const l={},s=c(i,["retrieval"]);s!=null&&d(l,["retrieval"],s),c(i,["googleSearch"])!=null&&d(l,["googleSearch"],Ux());const m=c(i,["googleSearchRetrieval"]);m!=null&&d(l,["googleSearchRetrieval"],kx(o,m));const p=c(i,["codeExecution"]);p!=null&&d(l,["codeExecution"],p);const y=c(i,["functionDeclarations"]);return y!=null&&d(l,["functionDeclarations"],y),l}function Lx(o,i){const l={},s=c(i,["mode"]);s!=null&&d(l,["mode"],s);const u=c(i,["allowedFunctionNames"]);return u!=null&&d(l,["allowedFunctionNames"],u),l}function Gx(o,i){const l={},s=c(i,["functionCallingConfig"]);return s!=null&&d(l,["functionCallingConfig"],Lx(o,s)),l}function Bx(o,i){const l={},s=c(i,["voiceName"]);return s!=null&&d(l,["voiceName"],s),l}function jx(o,i){const l={},s=c(i,["prebuiltVoiceConfig"]);return s!=null&&d(l,["prebuiltVoiceConfig"],Bx(o,s)),l}function zx(o,i){const l={},s=c(i,["voiceConfig"]);s!=null&&d(l,["voiceConfig"],jx(o,s));const u=c(i,["languageCode"]);return u!=null&&d(l,["languageCode"],u),l}function Ox(o,i){const l={},s=c(i,["includeThoughts"]);s!=null&&d(l,["includeThoughts"],s);const u=c(i,["thinkingBudget"]);return u!=null&&d(l,["thinkingBudget"],u),l}function Hx(o,i,l){const s={},u=c(i,["systemInstruction"]);l!==void 0&&u!=null&&d(l,["systemInstruction"],Tl(o,Ut(o,u)));const m=c(i,["temperature"]);m!=null&&d(s,["temperature"],m);const p=c(i,["topP"]);p!=null&&d(s,["topP"],p);const y=c(i,["topK"]);y!=null&&d(s,["topK"],y);const v=c(i,["candidateCount"]);v!=null&&d(s,["candidateCount"],v);const g=c(i,["maxOutputTokens"]);g!=null&&d(s,["maxOutputTokens"],g);const T=c(i,["stopSequences"]);T!=null&&d(s,["stopSequences"],T);const C=c(i,["responseLogprobs"]);C!=null&&d(s,["responseLogprobs"],C);const _=c(i,["logprobs"]);_!=null&&d(s,["logprobs"],_);const L=c(i,["presencePenalty"]);L!=null&&d(s,["presencePenalty"],L);const G=c(i,["frequencyPenalty"]);G!=null&&d(s,["frequencyPenalty"],G);const K=c(i,["seed"]);K!=null&&d(s,["seed"],K);const F=c(i,["responseMimeType"]);F!=null&&d(s,["responseMimeType"],F);const $=c(i,["responseSchema"]);$!=null&&d(s,["responseSchema"],mg(o,$));const ee=c(i,["routingConfig"]);ee!=null&&d(s,["routingConfig"],ee);const ie=c(i,["modelSelectionConfig"]);ie!=null&&d(s,["modelConfig"],Dx(o,ie));const J=c(i,["safetySettings"]);if(l!==void 0&&J!=null){let Pe=J;Array.isArray(Pe)&&(Pe=Pe.map(Ge=>Ix(o,Ge))),d(l,["safetySettings"],Pe)}const W=c(i,["tools"]);if(l!==void 0&&W!=null){let Pe=as(o,W);Array.isArray(Pe)&&(Pe=Pe.map(Ge=>vg(o,ls(o,Ge)))),d(l,["tools"],Pe)}const He=c(i,["toolConfig"]);l!==void 0&&He!=null&&d(l,["toolConfig"],Gx(o,He));const Ae=c(i,["labels"]);l!==void 0&&Ae!=null&&d(l,["labels"],Ae);const be=c(i,["cachedContent"]);l!==void 0&&be!=null&&d(l,["cachedContent"],ri(o,be));const Se=c(i,["responseModalities"]);Se!=null&&d(s,["responseModalities"],Se);const ze=c(i,["mediaResolution"]);ze!=null&&d(s,["mediaResolution"],ze);const qe=c(i,["speechConfig"]);qe!=null&&d(s,["speechConfig"],zx(o,hg(o,qe)));const Le=c(i,["audioTimestamp"]);Le!=null&&d(s,["audioTimestamp"],Le);const yt=c(i,["thinkingConfig"]);return yt!=null&&d(s,["thinkingConfig"],Ox(o,yt)),s}function Bh(o,i){const l={},s=c(i,["model"]);s!=null&&d(l,["_url","model"],Ze(o,s));const u=c(i,["contents"]);if(u!=null){let p=si(o,u);Array.isArray(p)&&(p=p.map(y=>Tl(o,y))),d(l,["contents"],p)}const m=c(i,["config"]);return m!=null&&d(l,["generationConfig"],Hx(o,m,l)),l}function qx(o,i,l){const s={},u=c(i,["taskType"]);l!==void 0&&u!=null&&d(l,["instances[]","task_type"],u);const m=c(i,["title"]);l!==void 0&&m!=null&&d(l,["instances[]","title"],m);const p=c(i,["outputDimensionality"]);l!==void 0&&p!=null&&d(l,["parameters","outputDimensionality"],p);const y=c(i,["mimeType"]);l!==void 0&&y!=null&&d(l,["instances[]","mimeType"],y);const v=c(i,["autoTruncate"]);return l!==void 0&&v!=null&&d(l,["parameters","autoTruncate"],v),s}function Px(o,i){const l={},s=c(i,["model"]);s!=null&&d(l,["_url","model"],Ze(o,s));const u=c(i,["contents"]);u!=null&&d(l,["instances[]","content"],fg(o,u));const m=c(i,["config"]);return m!=null&&d(l,["config"],qx(o,m,l)),l}function Yx(o,i,l){const s={},u=c(i,["outputGcsUri"]);l!==void 0&&u!=null&&d(l,["parameters","storageUri"],u);const m=c(i,["negativePrompt"]);l!==void 0&&m!=null&&d(l,["parameters","negativePrompt"],m);const p=c(i,["numberOfImages"]);l!==void 0&&p!=null&&d(l,["parameters","sampleCount"],p);const y=c(i,["aspectRatio"]);l!==void 0&&y!=null&&d(l,["parameters","aspectRatio"],y);const v=c(i,["guidanceScale"]);l!==void 0&&v!=null&&d(l,["parameters","guidanceScale"],v);const g=c(i,["seed"]);l!==void 0&&g!=null&&d(l,["parameters","seed"],g);const T=c(i,["safetyFilterLevel"]);l!==void 0&&T!=null&&d(l,["parameters","safetySetting"],T);const C=c(i,["personGeneration"]);l!==void 0&&C!=null&&d(l,["parameters","personGeneration"],C);const _=c(i,["includeSafetyAttributes"]);l!==void 0&&_!=null&&d(l,["parameters","includeSafetyAttributes"],_);const L=c(i,["includeRaiReason"]);l!==void 0&&L!=null&&d(l,["parameters","includeRaiReason"],L);const G=c(i,["language"]);l!==void 0&&G!=null&&d(l,["parameters","language"],G);const K=c(i,["outputMimeType"]);l!==void 0&&K!=null&&d(l,["parameters","outputOptions","mimeType"],K);const F=c(i,["outputCompressionQuality"]);l!==void 0&&F!=null&&d(l,["parameters","outputOptions","compressionQuality"],F);const $=c(i,["addWatermark"]);l!==void 0&&$!=null&&d(l,["parameters","addWatermark"],$);const ee=c(i,["enhancePrompt"]);return l!==void 0&&ee!=null&&d(l,["parameters","enhancePrompt"],ee),s}function Fx(o,i){const l={},s=c(i,["model"]);s!=null&&d(l,["_url","model"],Ze(o,s));const u=c(i,["prompt"]);u!=null&&d(l,["instances[0]","prompt"],u);const m=c(i,["config"]);return m!=null&&d(l,["config"],Yx(o,m,l)),l}function Kx(o,i){const l={},s=c(i,["model"]);s!=null&&d(l,["_url","name"],Ze(o,s));const u=c(i,["config"]);return u!=null&&d(l,["config"],u),l}function Xx(o,i,l){const s={},u=c(i,["displayName"]);l!==void 0&&u!=null&&d(l,["displayName"],u);const m=c(i,["description"]);return l!==void 0&&m!=null&&d(l,["description"],m),s}function Qx(o,i){const l={},s=c(i,["model"]);s!=null&&d(l,["_url","model"],Ze(o,s));const u=c(i,["config"]);return u!=null&&d(l,["config"],Xx(o,u,l)),l}function Jx(o,i){const l={},s=c(i,["model"]);s!=null&&d(l,["_url","name"],Ze(o,s));const u=c(i,["config"]);return u!=null&&d(l,["config"],u),l}function Zx(o,i,l){const s={},u=c(i,["systemInstruction"]);l!==void 0&&u!=null&&d(l,["systemInstruction"],Tl(o,Ut(o,u)));const m=c(i,["tools"]);if(l!==void 0&&m!=null){let y=m;Array.isArray(y)&&(y=y.map(v=>vg(o,v))),d(l,["tools"],y)}const p=c(i,["generationConfig"]);return l!==void 0&&p!=null&&d(l,["generationConfig"],p),s}function $x(o,i){const l={},s=c(i,["model"]);s!=null&&d(l,["_url","model"],Ze(o,s));const u=c(i,["contents"]);if(u!=null){let p=si(o,u);Array.isArray(p)&&(p=p.map(y=>Tl(o,y))),d(l,["contents"],p)}const m=c(i,["config"]);return m!=null&&d(l,["config"],Zx(o,m,l)),l}function Wx(o,i){const l={},s=c(i,["model"]);s!=null&&d(l,["_url","model"],Ze(o,s));const u=c(i,["contents"]);if(u!=null){let p=si(o,u);Array.isArray(p)&&(p=p.map(y=>Tl(o,y))),d(l,["contents"],p)}const m=c(i,["config"]);return m!=null&&d(l,["config"],m),l}function eT(o,i){const l={},s=c(i,["gcsUri"]);s!=null&&d(l,["gcsUri"],s);const u=c(i,["imageBytes"]);u!=null&&d(l,["bytesBase64Encoded"],ui(o,u));const m=c(i,["mimeType"]);return m!=null&&d(l,["mimeType"],m),l}function tT(o,i,l){const s={},u=c(i,["numberOfVideos"]);l!==void 0&&u!=null&&d(l,["parameters","sampleCount"],u);const m=c(i,["outputGcsUri"]);l!==void 0&&m!=null&&d(l,["parameters","storageUri"],m);const p=c(i,["fps"]);l!==void 0&&p!=null&&d(l,["parameters","fps"],p);const y=c(i,["durationSeconds"]);l!==void 0&&y!=null&&d(l,["parameters","durationSeconds"],y);const v=c(i,["seed"]);l!==void 0&&v!=null&&d(l,["parameters","seed"],v);const g=c(i,["aspectRatio"]);l!==void 0&&g!=null&&d(l,["parameters","aspectRatio"],g);const T=c(i,["resolution"]);l!==void 0&&T!=null&&d(l,["parameters","resolution"],T);const C=c(i,["personGeneration"]);l!==void 0&&C!=null&&d(l,["parameters","personGeneration"],C);const _=c(i,["pubsubTopic"]);l!==void 0&&_!=null&&d(l,["parameters","pubsubTopic"],_);const L=c(i,["negativePrompt"]);l!==void 0&&L!=null&&d(l,["parameters","negativePrompt"],L);const G=c(i,["enhancePrompt"]);return l!==void 0&&G!=null&&d(l,["parameters","enhancePrompt"],G),s}function nT(o,i){const l={},s=c(i,["model"]);s!=null&&d(l,["_url","model"],Ze(o,s));const u=c(i,["prompt"]);u!=null&&d(l,["instances[0]","prompt"],u);const m=c(i,["image"]);m!=null&&d(l,["instances[0]","image"],eT(o,m));const p=c(i,["config"]);return p!=null&&d(l,["config"],tT(o,p,l)),l}function iT(o,i){const l={},s=c(i,["thought"]);s!=null&&d(l,["thought"],s);const u=c(i,["codeExecutionResult"]);u!=null&&d(l,["codeExecutionResult"],u);const m=c(i,["executableCode"]);m!=null&&d(l,["executableCode"],m);const p=c(i,["fileData"]);p!=null&&d(l,["fileData"],p);const y=c(i,["functionCall"]);y!=null&&d(l,["functionCall"],y);const v=c(i,["functionResponse"]);v!=null&&d(l,["functionResponse"],v);const g=c(i,["inlineData"]);g!=null&&d(l,["inlineData"],g);const T=c(i,["text"]);return T!=null&&d(l,["text"],T),l}function lT(o,i){const l={},s=c(i,["parts"]);if(s!=null){let m=s;Array.isArray(m)&&(m=m.map(p=>iT(o,p))),d(l,["parts"],m)}const u=c(i,["role"]);return u!=null&&d(l,["role"],u),l}function aT(o,i){const l={},s=c(i,["citationSources"]);return s!=null&&d(l,["citations"],s),l}function oT(o,i){const l={},s=c(i,["content"]);s!=null&&d(l,["content"],lT(o,s));const u=c(i,["citationMetadata"]);u!=null&&d(l,["citationMetadata"],aT(o,u));const m=c(i,["tokenCount"]);m!=null&&d(l,["tokenCount"],m);const p=c(i,["finishReason"]);p!=null&&d(l,["finishReason"],p);const y=c(i,["avgLogprobs"]);y!=null&&d(l,["avgLogprobs"],y);const v=c(i,["groundingMetadata"]);v!=null&&d(l,["groundingMetadata"],v);const g=c(i,["index"]);g!=null&&d(l,["index"],g);const T=c(i,["logprobsResult"]);T!=null&&d(l,["logprobsResult"],T);const C=c(i,["safetyRatings"]);return C!=null&&d(l,["safetyRatings"],C),l}function jh(o,i){const l={},s=c(i,["candidates"]);if(s!=null){let y=s;Array.isArray(y)&&(y=y.map(v=>oT(o,v))),d(l,["candidates"],y)}const u=c(i,["modelVersion"]);u!=null&&d(l,["modelVersion"],u);const m=c(i,["promptFeedback"]);m!=null&&d(l,["promptFeedback"],m);const p=c(i,["usageMetadata"]);return p!=null&&d(l,["usageMetadata"],p),l}function sT(o,i){const l={},s=c(i,["values"]);return s!=null&&d(l,["values"],s),l}function rT(){return{}}function uT(o,i){const l={},s=c(i,["embeddings"]);if(s!=null){let m=s;Array.isArray(m)&&(m=m.map(p=>sT(o,p))),d(l,["embeddings"],m)}return c(i,["metadata"])!=null&&d(l,["metadata"],rT()),l}function cT(o,i){const l={},s=c(i,["bytesBase64Encoded"]);s!=null&&d(l,["imageBytes"],ui(o,s));const u=c(i,["mimeType"]);return u!=null&&d(l,["mimeType"],u),l}function xg(o,i){const l={},s=c(i,["safetyAttributes","categories"]);s!=null&&d(l,["categories"],s);const u=c(i,["safetyAttributes","scores"]);u!=null&&d(l,["scores"],u);const m=c(i,["contentType"]);return m!=null&&d(l,["contentType"],m),l}function dT(o,i){const l={},s=c(i,["_self"]);s!=null&&d(l,["image"],cT(o,s));const u=c(i,["raiFilteredReason"]);u!=null&&d(l,["raiFilteredReason"],u);const m=c(i,["_self"]);return m!=null&&d(l,["safetyAttributes"],xg(o,m)),l}function fT(o,i){const l={},s=c(i,["predictions"]);if(s!=null){let m=s;Array.isArray(m)&&(m=m.map(p=>dT(o,p))),d(l,["generatedImages"],m)}const u=c(i,["positivePromptSafetyAttributes"]);return u!=null&&d(l,["positivePromptSafetyAttributes"],xg(o,u)),l}function mT(o,i){const l={},s=c(i,["baseModel"]);s!=null&&d(l,["baseModel"],s);const u=c(i,["createTime"]);u!=null&&d(l,["createTime"],u);const m=c(i,["updateTime"]);return m!=null&&d(l,["updateTime"],m),l}function zh(o,i){const l={},s=c(i,["name"]);s!=null&&d(l,["name"],s);const u=c(i,["displayName"]);u!=null&&d(l,["displayName"],u);const m=c(i,["description"]);m!=null&&d(l,["description"],m);const p=c(i,["version"]);p!=null&&d(l,["version"],p);const y=c(i,["_self"]);y!=null&&d(l,["tunedModelInfo"],mT(o,y));const v=c(i,["inputTokenLimit"]);v!=null&&d(l,["inputTokenLimit"],v);const g=c(i,["outputTokenLimit"]);g!=null&&d(l,["outputTokenLimit"],g);const T=c(i,["supportedGenerationMethods"]);return T!=null&&d(l,["supportedActions"],T),l}function hT(){return{}}function gT(o,i){const l={},s=c(i,["totalTokens"]);s!=null&&d(l,["totalTokens"],s);const u=c(i,["cachedContentTokenCount"]);return u!=null&&d(l,["cachedContentTokenCount"],u),l}function pT(o,i){const l={},s=c(i,["video","uri"]);s!=null&&d(l,["uri"],s);const u=c(i,["video","encodedVideo"]);u!=null&&d(l,["videoBytes"],ui(o,u));const m=c(i,["encoding"]);return m!=null&&d(l,["mimeType"],m),l}function yT(o,i){const l={},s=c(i,["_self"]);return s!=null&&d(l,["video"],pT(o,s)),l}function vT(o,i){const l={},s=c(i,["generatedSamples"]);if(s!=null){let p=s;Array.isArray(p)&&(p=p.map(y=>yT(o,y))),d(l,["generatedVideos"],p)}const u=c(i,["raiMediaFilteredCount"]);u!=null&&d(l,["raiMediaFilteredCount"],u);const m=c(i,["raiMediaFilteredReasons"]);return m!=null&&d(l,["raiMediaFilteredReasons"],m),l}function xT(o,i){const l={},s=c(i,["name"]);s!=null&&d(l,["name"],s);const u=c(i,["metadata"]);u!=null&&d(l,["metadata"],u);const m=c(i,["done"]);m!=null&&d(l,["done"],m);const p=c(i,["error"]);p!=null&&d(l,["error"],p);const y=c(i,["response","generateVideoResponse"]);return y!=null&&d(l,["response"],vT(o,y)),l}function TT(o,i){const l={},s=c(i,["videoMetadata"]);s!=null&&d(l,["videoMetadata"],s);const u=c(i,["thought"]);u!=null&&d(l,["thought"],u);const m=c(i,["codeExecutionResult"]);m!=null&&d(l,["codeExecutionResult"],m);const p=c(i,["executableCode"]);p!=null&&d(l,["executableCode"],p);const y=c(i,["fileData"]);y!=null&&d(l,["fileData"],y);const v=c(i,["functionCall"]);v!=null&&d(l,["functionCall"],v);const g=c(i,["functionResponse"]);g!=null&&d(l,["functionResponse"],g);const T=c(i,["inlineData"]);T!=null&&d(l,["inlineData"],T);const C=c(i,["text"]);return C!=null&&d(l,["text"],C),l}function bT(o,i){const l={},s=c(i,["parts"]);if(s!=null){let m=s;Array.isArray(m)&&(m=m.map(p=>TT(o,p))),d(l,["parts"],m)}const u=c(i,["role"]);return u!=null&&d(l,["role"],u),l}function ST(o,i){const l={},s=c(i,["citations"]);return s!=null&&d(l,["citations"],s),l}function ET(o,i){const l={},s=c(i,["content"]);s!=null&&d(l,["content"],bT(o,s));const u=c(i,["citationMetadata"]);u!=null&&d(l,["citationMetadata"],ST(o,u));const m=c(i,["finishMessage"]);m!=null&&d(l,["finishMessage"],m);const p=c(i,["finishReason"]);p!=null&&d(l,["finishReason"],p);const y=c(i,["avgLogprobs"]);y!=null&&d(l,["avgLogprobs"],y);const v=c(i,["groundingMetadata"]);v!=null&&d(l,["groundingMetadata"],v);const g=c(i,["index"]);g!=null&&d(l,["index"],g);const T=c(i,["logprobsResult"]);T!=null&&d(l,["logprobsResult"],T);const C=c(i,["safetyRatings"]);return C!=null&&d(l,["safetyRatings"],C),l}function Oh(o,i){const l={},s=c(i,["candidates"]);if(s!=null){let g=s;Array.isArray(g)&&(g=g.map(T=>ET(o,T))),d(l,["candidates"],g)}const u=c(i,["createTime"]);u!=null&&d(l,["createTime"],u);const m=c(i,["responseId"]);m!=null&&d(l,["responseId"],m);const p=c(i,["modelVersion"]);p!=null&&d(l,["modelVersion"],p);const y=c(i,["promptFeedback"]);y!=null&&d(l,["promptFeedback"],y);const v=c(i,["usageMetadata"]);return v!=null&&d(l,["usageMetadata"],v),l}function CT(o,i){const l={},s=c(i,["truncated"]);s!=null&&d(l,["truncated"],s);const u=c(i,["token_count"]);return u!=null&&d(l,["tokenCount"],u),l}function NT(o,i){const l={},s=c(i,["values"]);s!=null&&d(l,["values"],s);const u=c(i,["statistics"]);return u!=null&&d(l,["statistics"],CT(o,u)),l}function AT(o,i){const l={},s=c(i,["billableCharacterCount"]);return s!=null&&d(l,["billableCharacterCount"],s),l}function MT(o,i){const l={},s=c(i,["predictions[]","embeddings"]);if(s!=null){let m=s;Array.isArray(m)&&(m=m.map(p=>NT(o,p))),d(l,["embeddings"],m)}const u=c(i,["metadata"]);return u!=null&&d(l,["metadata"],AT(o,u)),l}function _T(o,i){const l={},s=c(i,["gcsUri"]);s!=null&&d(l,["gcsUri"],s);const u=c(i,["bytesBase64Encoded"]);u!=null&&d(l,["imageBytes"],ui(o,u));const m=c(i,["mimeType"]);return m!=null&&d(l,["mimeType"],m),l}function Tg(o,i){const l={},s=c(i,["safetyAttributes","categories"]);s!=null&&d(l,["categories"],s);const u=c(i,["safetyAttributes","scores"]);u!=null&&d(l,["scores"],u);const m=c(i,["contentType"]);return m!=null&&d(l,["contentType"],m),l}function wT(o,i){const l={},s=c(i,["_self"]);s!=null&&d(l,["image"],_T(o,s));const u=c(i,["raiFilteredReason"]);u!=null&&d(l,["raiFilteredReason"],u);const m=c(i,["_self"]);m!=null&&d(l,["safetyAttributes"],Tg(o,m));const p=c(i,["prompt"]);return p!=null&&d(l,["enhancedPrompt"],p),l}function RT(o,i){const l={},s=c(i,["predictions"]);if(s!=null){let m=s;Array.isArray(m)&&(m=m.map(p=>wT(o,p))),d(l,["generatedImages"],m)}const u=c(i,["positivePromptSafetyAttributes"]);return u!=null&&d(l,["positivePromptSafetyAttributes"],Tg(o,u)),l}function DT(o,i){const l={},s=c(i,["endpoint"]);s!=null&&d(l,["name"],s);const u=c(i,["deployedModelId"]);return u!=null&&d(l,["deployedModelId"],u),l}function IT(o,i){const l={},s=c(i,["labels","google-vertex-llm-tuning-base-model-id"]);s!=null&&d(l,["baseModel"],s);const u=c(i,["createTime"]);u!=null&&d(l,["createTime"],u);const m=c(i,["updateTime"]);return m!=null&&d(l,["updateTime"],m),l}function Hh(o,i){const l={},s=c(i,["name"]);s!=null&&d(l,["name"],s);const u=c(i,["displayName"]);u!=null&&d(l,["displayName"],u);const m=c(i,["description"]);m!=null&&d(l,["description"],m);const p=c(i,["versionId"]);p!=null&&d(l,["version"],p);const y=c(i,["deployedModels"]);if(y!=null){let T=y;Array.isArray(T)&&(T=T.map(C=>DT(o,C))),d(l,["endpoints"],T)}const v=c(i,["labels"]);v!=null&&d(l,["labels"],v);const g=c(i,["_self"]);return g!=null&&d(l,["tunedModelInfo"],IT(o,g)),l}function UT(){return{}}function VT(o,i){const l={},s=c(i,["totalTokens"]);return s!=null&&d(l,["totalTokens"],s),l}function kT(o,i){const l={},s=c(i,["tokensInfo"]);return s!=null&&d(l,["tokensInfo"],s),l}function LT(o,i){const l={},s=c(i,["gcsUri"]);s!=null&&d(l,["uri"],s);const u=c(i,["bytesBase64Encoded"]);u!=null&&d(l,["videoBytes"],ui(o,u));const m=c(i,["mimeType"]);return m!=null&&d(l,["mimeType"],m),l}function GT(o,i){const l={},s=c(i,["_self"]);return s!=null&&d(l,["video"],LT(o,s)),l}function BT(o,i){const l={},s=c(i,["videos"]);if(s!=null){let p=s;Array.isArray(p)&&(p=p.map(y=>GT(o,y))),d(l,["generatedVideos"],p)}const u=c(i,["raiMediaFilteredCount"]);u!=null&&d(l,["raiMediaFilteredCount"],u);const m=c(i,["raiMediaFilteredReasons"]);return m!=null&&d(l,["raiMediaFilteredReasons"],m),l}function jT(o,i){const l={},s=c(i,["name"]);s!=null&&d(l,["name"],s);const u=c(i,["metadata"]);u!=null&&d(l,["metadata"],u);const m=c(i,["done"]);m!=null&&d(l,["done"],m);const p=c(i,["error"]);p!=null&&d(l,["error"],p);const y=c(i,["response"]);return y!=null&&d(l,["response"],BT(o,y)),l}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const zT="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function OT(o,i,l){let s,u;l.data instanceof Blob?u=JSON.parse(await l.data.text()):u=JSON.parse(l.data),o.isVertexAI()?s=ix(o,u):s=nx(o,u),i(s)}class HT{constructor(i,l,s){this.apiClient=i,this.auth=l,this.webSocketFactory=s}async connect(i){var l,s,u,m;const p=this.apiClient.getWebsocketBaseUrl(),y=this.apiClient.getApiVersion();let v;const g=FT(this.apiClient.getDefaultHeaders());if(this.apiClient.isVertexAI())v=`${p}/ws/google.cloud.aiplatform.${y}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(g);else{const J=this.apiClient.getApiKey();v=`${p}/ws/google.ai.generativelanguage.${y}.GenerativeService.BidiGenerateContent?key=${J}`}let T=()=>{};const C=new Promise(J=>{T=J}),_=i.callbacks,L=function(){var J;(J=_==null?void 0:_.onopen)===null||J===void 0||J.call(_),T({})},G=this.apiClient,K={onopen:L,onmessage:J=>{OT(G,_.onmessage,J)},onerror:(l=_==null?void 0:_.onerror)!==null&&l!==void 0?l:function(J){},onclose:(s=_==null?void 0:_.onclose)!==null&&s!==void 0?s:function(J){}},F=this.webSocketFactory.create(v,YT(g),K);F.connect(),await C;let $=Ze(this.apiClient,i.model);if(this.apiClient.isVertexAI()&&$.startsWith("publishers/")){const J=this.apiClient.getProject(),W=this.apiClient.getLocation();$=`projects/${J}/locations/${W}/`+$}let ee={};this.apiClient.isVertexAI()&&((u=i.config)===null||u===void 0?void 0:u.responseModalities)===void 0&&(i.config===void 0?i.config={responseModalities:[Zo.AUDIO]}:i.config.responseModalities=[Zo.AUDIO]),!((m=i.config)===null||m===void 0)&&m.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const ie={model:$,config:i.config,callbacks:i.callbacks};return this.apiClient.isVertexAI()?ee=wv(this.apiClient,ie):ee=_v(this.apiClient,ie),delete ee.config,F.send(JSON.stringify(ee)),new PT(F,this.apiClient)}}const qT={turnComplete:!0};class PT{constructor(i,l){this.conn=i,this.apiClient=l}tLiveClientContent(i,l){if(l.turns!==null&&l.turns!==void 0){let s=[];try{s=si(i,l.turns),i.isVertexAI()?s=s.map(u=>Tl(i,u)):s=s.map(u=>os(i,u))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof l.turns}'`)}return{clientContent:{turns:s,turnComplete:l.turnComplete}}}return{clientContent:{turnComplete:l.turnComplete}}}tLiveClienttToolResponse(i,l){let s=[];if(l.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(l.functionResponses)?s=l.functionResponses:s=[l.functionResponses],s.length===0)throw new Error("functionResponses is required.");for(const m of s){if(typeof m!="object"||m===null||!("name"in m)||!("response"in m))throw new Error(`Could not parse function response, type '${typeof m}'.`);if(!i.isVertexAI()&&!("id"in m))throw new Error(zT)}return{toolResponse:{functionResponses:s}}}sendClientContent(i){i=Object.assign(Object.assign({},qT),i);const l=this.tLiveClientContent(this.apiClient,i);this.conn.send(JSON.stringify(l))}sendRealtimeInput(i){let l={};this.apiClient.isVertexAI()?l={realtimeInput:kv(this.apiClient,i)}:l={realtimeInput:Vv(this.apiClient,i)},this.conn.send(JSON.stringify(l))}sendToolResponse(i){if(i.functionResponses==null)throw new Error("Tool response parameters are required.");const l=this.tLiveClienttToolResponse(this.apiClient,i);this.conn.send(JSON.stringify(l))}close(){this.conn.close()}}function YT(o){const i={};return o.forEach((l,s)=>{i[s]=l}),i}function FT(o){const i=new Headers;for(const[l,s]of Object.entries(o))i.append(l,s);return i}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class KT extends Aa{constructor(i){super(),this.apiClient=i,this.generateContent=async l=>await this.generateContentInternal(l),this.generateContentStream=async l=>await this.generateContentStreamInternal(l),this.generateImages=async l=>await this.generateImagesInternal(l).then(s=>{var u;let m;const p=[];if(s!=null&&s.generatedImages)for(const v of s.generatedImages)v&&(v!=null&&v.safetyAttributes)&&((u=v==null?void 0:v.safetyAttributes)===null||u===void 0?void 0:u.contentType)==="Positive Prompt"?m=v==null?void 0:v.safetyAttributes:p.push(v);let y;return m?y={generatedImages:p,positivePromptSafetyAttributes:m}:y={generatedImages:p},y})}async generateContentInternal(i){var l,s,u,m;let p,y="",v={};if(this.apiClient.isVertexAI()){const g=Bh(this.apiClient,i);return y=fe("{model}:generateContent",g._url),v=g._query,delete g.config,delete g._url,delete g._query,p=this.apiClient.request({path:y,queryParams:v,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(l=i.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(s=i.config)===null||s===void 0?void 0:s.abortSignal}).then(T=>T.json()),p.then(T=>{const C=Oh(this.apiClient,T),_=new Oo;return Object.assign(_,C),_})}else{const g=Gh(this.apiClient,i);return y=fe("{model}:generateContent",g._url),v=g._query,delete g.config,delete g._url,delete g._query,p=this.apiClient.request({path:y,queryParams:v,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(u=i.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(m=i.config)===null||m===void 0?void 0:m.abortSignal}).then(T=>T.json()),p.then(T=>{const C=jh(this.apiClient,T),_=new Oo;return Object.assign(_,C),_})}}async generateContentStreamInternal(i){var l,s,u,m;let p,y="",v={};if(this.apiClient.isVertexAI()){const g=Bh(this.apiClient,i);y=fe("{model}:streamGenerateContent?alt=sse",g._url),v=g._query,delete g.config,delete g._url,delete g._query;const T=this.apiClient;return p=T.requestStream({path:y,queryParams:v,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(l=i.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(s=i.config)===null||s===void 0?void 0:s.abortSignal}),p.then(function(C){return $o(this,arguments,function*(){var _,L,G,K;try{for(var F=!0,$=Lu(C),ee;ee=yield At($.next()),_=ee.done,!_;F=!0){K=ee.value,F=!1;const J=Oh(T,yield At(K.json())),W=new Oo;Object.assign(W,J),yield yield At(W)}}catch(ie){L={error:ie}}finally{try{!F&&!_&&(G=$.return)&&(yield At(G.call($)))}finally{if(L)throw L.error}}})})}else{const g=Gh(this.apiClient,i);y=fe("{model}:streamGenerateContent?alt=sse",g._url),v=g._query,delete g.config,delete g._url,delete g._query;const T=this.apiClient;return p=T.requestStream({path:y,queryParams:v,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(u=i.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(m=i.config)===null||m===void 0?void 0:m.abortSignal}),p.then(function(C){return $o(this,arguments,function*(){var _,L,G,K;try{for(var F=!0,$=Lu(C),ee;ee=yield At($.next()),_=ee.done,!_;F=!0){K=ee.value,F=!1;const J=jh(T,yield At(K.json())),W=new Oo;Object.assign(W,J),yield yield At(W)}}catch(ie){L={error:ie}}finally{try{!F&&!_&&(G=$.return)&&(yield At(G.call($)))}finally{if(L)throw L.error}}})})}}async embedContent(i){var l,s,u,m;let p,y="",v={};if(this.apiClient.isVertexAI()){const g=Px(this.apiClient,i);return y=fe("{model}:predict",g._url),v=g._query,delete g.config,delete g._url,delete g._query,p=this.apiClient.request({path:y,queryParams:v,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(l=i.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(s=i.config)===null||s===void 0?void 0:s.abortSignal}).then(T=>T.json()),p.then(T=>{const C=MT(this.apiClient,T),_=new Ah;return Object.assign(_,C),_})}else{const g=vx(this.apiClient,i);return y=fe("{model}:batchEmbedContents",g._url),v=g._query,delete g.config,delete g._url,delete g._query,p=this.apiClient.request({path:y,queryParams:v,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(u=i.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(m=i.config)===null||m===void 0?void 0:m.abortSignal}).then(T=>T.json()),p.then(T=>{const C=uT(this.apiClient,T),_=new Ah;return Object.assign(_,C),_})}}async generateImagesInternal(i){var l,s,u,m;let p,y="",v={};if(this.apiClient.isVertexAI()){const g=Fx(this.apiClient,i);return y=fe("{model}:predict",g._url),v=g._query,delete g.config,delete g._url,delete g._query,p=this.apiClient.request({path:y,queryParams:v,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(l=i.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(s=i.config)===null||s===void 0?void 0:s.abortSignal}).then(T=>T.json()),p.then(T=>{const C=RT(this.apiClient,T),_=new Mh;return Object.assign(_,C),_})}else{const g=Tx(this.apiClient,i);return y=fe("{model}:predict",g._url),v=g._query,delete g.config,delete g._url,delete g._query,p=this.apiClient.request({path:y,queryParams:v,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(u=i.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(m=i.config)===null||m===void 0?void 0:m.abortSignal}).then(T=>T.json()),p.then(T=>{const C=fT(this.apiClient,T),_=new Mh;return Object.assign(_,C),_})}}async get(i){var l,s,u,m;let p,y="",v={};if(this.apiClient.isVertexAI()){const g=Kx(this.apiClient,i);return y=fe("{name}",g._url),v=g._query,delete g.config,delete g._url,delete g._query,p=this.apiClient.request({path:y,queryParams:v,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(l=i.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(s=i.config)===null||s===void 0?void 0:s.abortSignal}).then(T=>T.json()),p.then(T=>Hh(this.apiClient,T))}else{const g=bx(this.apiClient,i);return y=fe("{name}",g._url),v=g._query,delete g.config,delete g._url,delete g._query,p=this.apiClient.request({path:y,queryParams:v,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(u=i.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(m=i.config)===null||m===void 0?void 0:m.abortSignal}).then(T=>T.json()),p.then(T=>zh(this.apiClient,T))}}async update(i){var l,s,u,m;let p,y="",v={};if(this.apiClient.isVertexAI()){const g=Qx(this.apiClient,i);return y=fe("{model}",g._url),v=g._query,delete g.config,delete g._url,delete g._query,p=this.apiClient.request({path:y,queryParams:v,body:JSON.stringify(g),httpMethod:"PATCH",httpOptions:(l=i.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(s=i.config)===null||s===void 0?void 0:s.abortSignal}).then(T=>T.json()),p.then(T=>Hh(this.apiClient,T))}else{const g=Ex(this.apiClient,i);return y=fe("{name}",g._url),v=g._query,delete g.config,delete g._url,delete g._query,p=this.apiClient.request({path:y,queryParams:v,body:JSON.stringify(g),httpMethod:"PATCH",httpOptions:(u=i.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(m=i.config)===null||m===void 0?void 0:m.abortSignal}).then(T=>T.json()),p.then(T=>zh(this.apiClient,T))}}async delete(i){var l,s,u,m;let p,y="",v={};if(this.apiClient.isVertexAI()){const g=Jx(this.apiClient,i);return y=fe("{name}",g._url),v=g._query,delete g.config,delete g._url,delete g._query,p=this.apiClient.request({path:y,queryParams:v,body:JSON.stringify(g),httpMethod:"DELETE",httpOptions:(l=i.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(s=i.config)===null||s===void 0?void 0:s.abortSignal}).then(T=>T.json()),p.then(()=>{const T=UT(),C=new _h;return Object.assign(C,T),C})}else{const g=Cx(this.apiClient,i);return y=fe("{name}",g._url),v=g._query,delete g.config,delete g._url,delete g._query,p=this.apiClient.request({path:y,queryParams:v,body:JSON.stringify(g),httpMethod:"DELETE",httpOptions:(u=i.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(m=i.config)===null||m===void 0?void 0:m.abortSignal}).then(T=>T.json()),p.then(()=>{const T=hT(),C=new _h;return Object.assign(C,T),C})}}async countTokens(i){var l,s,u,m;let p,y="",v={};if(this.apiClient.isVertexAI()){const g=$x(this.apiClient,i);return y=fe("{model}:countTokens",g._url),v=g._query,delete g.config,delete g._url,delete g._query,p=this.apiClient.request({path:y,queryParams:v,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(l=i.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(s=i.config)===null||s===void 0?void 0:s.abortSignal}).then(T=>T.json()),p.then(T=>{const C=VT(this.apiClient,T),_=new wh;return Object.assign(_,C),_})}else{const g=Ax(this.apiClient,i);return y=fe("{model}:countTokens",g._url),v=g._query,delete g.config,delete g._url,delete g._query,p=this.apiClient.request({path:y,queryParams:v,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(u=i.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(m=i.config)===null||m===void 0?void 0:m.abortSignal}).then(T=>T.json()),p.then(T=>{const C=gT(this.apiClient,T),_=new wh;return Object.assign(_,C),_})}}async computeTokens(i){var l,s;let u,m="",p={};if(this.apiClient.isVertexAI()){const y=Wx(this.apiClient,i);return m=fe("{model}:computeTokens",y._url),p=y._query,delete y.config,delete y._url,delete y._query,u=this.apiClient.request({path:m,queryParams:p,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(l=i.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(s=i.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json()),u.then(v=>{const g=kT(this.apiClient,v),T=new ky;return Object.assign(T,g),T})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideos(i){var l,s,u,m;let p,y="",v={};if(this.apiClient.isVertexAI()){const g=nT(this.apiClient,i);return y=fe("{model}:predictLongRunning",g._url),v=g._query,delete g.config,delete g._url,delete g._query,p=this.apiClient.request({path:y,queryParams:v,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(l=i.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(s=i.config)===null||s===void 0?void 0:s.abortSignal}).then(T=>T.json()),p.then(T=>jT(this.apiClient,T))}else{const g=wx(this.apiClient,i);return y=fe("{model}:predictLongRunning",g._url),v=g._query,delete g.config,delete g._url,delete g._query,p=this.apiClient.request({path:y,queryParams:v,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(u=i.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(m=i.config)===null||m===void 0?void 0:m.abortSignal}).then(T=>T.json()),p.then(T=>xT(this.apiClient,T))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function XT(o,i){const l={},s=c(i,["operationName"]);s!=null&&d(l,["_url","operationName"],s);const u=c(i,["config"]);return u!=null&&d(l,["config"],u),l}function QT(o,i){const l={},s=c(i,["operationName"]);s!=null&&d(l,["_url","operationName"],s);const u=c(i,["config"]);return u!=null&&d(l,["config"],u),l}function JT(o,i){const l={},s=c(i,["operationName"]);s!=null&&d(l,["operationName"],s);const u=c(i,["resourceName"]);u!=null&&d(l,["_url","resourceName"],u);const m=c(i,["config"]);return m!=null&&d(l,["config"],m),l}function ZT(o,i){const l={},s=c(i,["video","uri"]);s!=null&&d(l,["uri"],s);const u=c(i,["video","encodedVideo"]);u!=null&&d(l,["videoBytes"],ui(o,u));const m=c(i,["encoding"]);return m!=null&&d(l,["mimeType"],m),l}function $T(o,i){const l={},s=c(i,["_self"]);return s!=null&&d(l,["video"],ZT(o,s)),l}function WT(o,i){const l={},s=c(i,["generatedSamples"]);if(s!=null){let p=s;Array.isArray(p)&&(p=p.map(y=>$T(o,y))),d(l,["generatedVideos"],p)}const u=c(i,["raiMediaFilteredCount"]);u!=null&&d(l,["raiMediaFilteredCount"],u);const m=c(i,["raiMediaFilteredReasons"]);return m!=null&&d(l,["raiMediaFilteredReasons"],m),l}function eb(o,i){const l={},s=c(i,["name"]);s!=null&&d(l,["name"],s);const u=c(i,["metadata"]);u!=null&&d(l,["metadata"],u);const m=c(i,["done"]);m!=null&&d(l,["done"],m);const p=c(i,["error"]);p!=null&&d(l,["error"],p);const y=c(i,["response","generateVideoResponse"]);return y!=null&&d(l,["response"],WT(o,y)),l}function tb(o,i){const l={},s=c(i,["gcsUri"]);s!=null&&d(l,["uri"],s);const u=c(i,["bytesBase64Encoded"]);u!=null&&d(l,["videoBytes"],ui(o,u));const m=c(i,["mimeType"]);return m!=null&&d(l,["mimeType"],m),l}function nb(o,i){const l={},s=c(i,["_self"]);return s!=null&&d(l,["video"],tb(o,s)),l}function ib(o,i){const l={},s=c(i,["videos"]);if(s!=null){let p=s;Array.isArray(p)&&(p=p.map(y=>nb(o,y))),d(l,["generatedVideos"],p)}const u=c(i,["raiMediaFilteredCount"]);u!=null&&d(l,["raiMediaFilteredCount"],u);const m=c(i,["raiMediaFilteredReasons"]);return m!=null&&d(l,["raiMediaFilteredReasons"],m),l}function qh(o,i){const l={},s=c(i,["name"]);s!=null&&d(l,["name"],s);const u=c(i,["metadata"]);u!=null&&d(l,["metadata"],u);const m=c(i,["done"]);m!=null&&d(l,["done"],m);const p=c(i,["error"]);p!=null&&d(l,["error"],p);const y=c(i,["response"]);return y!=null&&d(l,["response"],ib(o,y)),l}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class lb extends Aa{constructor(i){super(),this.apiClient=i}async getVideosOperation(i){const l=i.operation,s=i.config;if(l.name===void 0||l.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const u=l.name.split("/operations/")[0];let m;return s&&"httpOptions"in s&&(m=s.httpOptions),this.fetchPredictVideosOperationInternal({operationName:l.name,resourceName:u,config:{httpOptions:m}})}else return this.getVideosOperationInternal({operationName:l.name,config:s})}async getVideosOperationInternal(i){var l,s,u,m;let p,y="",v={};if(this.apiClient.isVertexAI()){const g=QT(this.apiClient,i);return y=fe("{operationName}",g._url),v=g._query,delete g.config,delete g._url,delete g._query,p=this.apiClient.request({path:y,queryParams:v,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(l=i.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(s=i.config)===null||s===void 0?void 0:s.abortSignal}).then(T=>T.json()),p.then(T=>qh(this.apiClient,T))}else{const g=XT(this.apiClient,i);return y=fe("{operationName}",g._url),v=g._query,delete g.config,delete g._url,delete g._query,p=this.apiClient.request({path:y,queryParams:v,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(u=i.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(m=i.config)===null||m===void 0?void 0:m.abortSignal}).then(T=>T.json()),p.then(T=>eb(this.apiClient,T))}}async fetchPredictVideosOperationInternal(i){var l,s;let u,m="",p={};if(this.apiClient.isVertexAI()){const y=JT(this.apiClient,i);return m=fe("{resourceName}:fetchPredictOperation",y._url),p=y._query,delete y.config,delete y._url,delete y._query,u=this.apiClient.request({path:m,queryParams:p,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(l=i.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(s=i.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json()),u.then(v=>qh(this.apiClient,v))}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const ab="Content-Type",ob="X-Server-Timeout",sb="User-Agent",rb="x-goog-api-client",ub="0.12.0",cb=`google-genai-sdk/${ub}`,db="v1beta1",fb="v1beta",Ph=/^data: (.*)(?:\n\n|\r\r|\r\n\r\n)/;class bg extends Error{constructor(i,l){l?super(i,{cause:l}):super(i,{cause:new Error().stack}),this.message=i,this.name="ClientError"}}class Bu extends Error{constructor(i,l){l?super(i,{cause:l}):super(i,{cause:new Error().stack}),this.message=i,this.name="ServerError"}}class mb{constructor(i){var l,s;this.clientOptions=Object.assign(Object.assign({},i),{project:i.project,location:i.location,apiKey:i.apiKey,vertexai:i.vertexai});const u={};this.clientOptions.vertexai?(u.apiVersion=(l=this.clientOptions.apiVersion)!==null&&l!==void 0?l:db,this.getProject()||this.getLocation()?(u.baseUrl=`https://${this.clientOptions.location}-aiplatform.googleapis.com/`,this.clientOptions.apiKey=void 0):(u.baseUrl="https://aiplatform.googleapis.com/",this.clientOptions.project=void 0,this.clientOptions.location=void 0)):(u.apiVersion=(s=this.clientOptions.apiVersion)!==null&&s!==void 0?s:fb,u.baseUrl="https://generativelanguage.googleapis.com/"),u.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=u,i.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(u,i.httpOptions))}isVertexAI(){var i;return(i=this.clientOptions.vertexai)!==null&&i!==void 0?i:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(i){if(!i||i.baseUrl===void 0||i.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const s=[i.baseUrl.endsWith("/")?i.baseUrl.slice(0,-1):i.baseUrl];return i.apiVersion&&i.apiVersion!==""&&s.push(i.apiVersion),s.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const i=this.getBaseUrl(),l=new URL(i);return l.protocol=l.protocol=="http:"?"ws":"wss",l.toString()}setBaseUrl(i){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=i;else throw new Error("HTTP options are not correctly set.")}constructUrl(i,l,s){const u=[this.getRequestUrlInternal(l)];return s&&u.push(this.getBaseResourcePath()),i!==""&&u.push(i),new URL(`${u.join("/")}`)}shouldPrependVertexProjectPath(i){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||i.path.startsWith("projects/")||i.httpMethod==="GET"&&i.path.startsWith("publishers/google/models"))}async request(i){let l=this.clientOptions.httpOptions;i.httpOptions&&(l=this.patchHttpOptions(this.clientOptions.httpOptions,i.httpOptions));const s=this.shouldPrependVertexProjectPath(i),u=this.constructUrl(i.path,l,s);if(i.queryParams)for(const[p,y]of Object.entries(i.queryParams))u.searchParams.append(p,String(y));let m={};if(i.httpMethod==="GET"){if(i.body&&i.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else m.body=i.body;return m=await this.includeExtraHttpOptionsToRequestInit(m,l,i.abortSignal),this.unaryApiCall(u,m,i.httpMethod)}patchHttpOptions(i,l){const s=JSON.parse(JSON.stringify(i));for(const[u,m]of Object.entries(l))typeof m=="object"?s[u]=Object.assign(Object.assign({},s[u]),m):m!==void 0&&(s[u]=m);return s}async requestStream(i){let l=this.clientOptions.httpOptions;i.httpOptions&&(l=this.patchHttpOptions(this.clientOptions.httpOptions,i.httpOptions));const s=this.shouldPrependVertexProjectPath(i),u=this.constructUrl(i.path,l,s);(!u.searchParams.has("alt")||u.searchParams.get("alt")!=="sse")&&u.searchParams.set("alt","sse");let m={};return m.body=i.body,m=await this.includeExtraHttpOptionsToRequestInit(m,l,i.abortSignal),this.streamApiCall(u,m,i.httpMethod)}async includeExtraHttpOptionsToRequestInit(i,l,s){if(l&&l.timeout||s){const u=new AbortController,m=u.signal;l.timeout&&(l==null?void 0:l.timeout)>0&&setTimeout(()=>u.abort(),l.timeout),s&&s.addEventListener("abort",()=>{u.abort()}),i.signal=m}return i.headers=await this.getHeadersInternal(l),i}async unaryApiCall(i,l,s){return this.apiCall(i.toString(),Object.assign(Object.assign({},l),{method:s})).then(async u=>(await Yh(u),new ku(u))).catch(u=>{throw u instanceof Error?u:new Error(JSON.stringify(u))})}async streamApiCall(i,l,s){return this.apiCall(i.toString(),Object.assign(Object.assign({},l),{method:s})).then(async u=>(await Yh(u),this.processStreamResponse(u))).catch(u=>{throw u instanceof Error?u:new Error(JSON.stringify(u))})}processStreamResponse(i){var l;return $o(this,arguments,function*(){const u=(l=i==null?void 0:i.body)===null||l===void 0?void 0:l.getReader(),m=new TextDecoder("utf-8");if(!u)throw new Error("Response body is empty");try{let p="";for(;;){const{done:y,value:v}=yield At(u.read());if(y){if(p.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const g=m.decode(v);try{const C=JSON.parse(g);if("error"in C){const _=JSON.parse(JSON.stringify(C.error)),L=_.status,G=_.code,K=`got status: ${L}. ${JSON.stringify(C)}`;if(G>=400&&G<500)throw new bg(K);if(G>=500&&G<600)throw new Bu(K)}}catch(C){const _=C;if(_.name==="ClientError"||_.name==="ServerError")throw C}p+=g;let T=p.match(Ph);for(;T;){const C=T[1];try{const _=new Response(C,{headers:i==null?void 0:i.headers,status:i==null?void 0:i.status,statusText:i==null?void 0:i.statusText});yield yield At(new ku(_)),p=p.slice(T[0].length),T=p.match(Ph)}catch(_){throw new Error(`exception parsing stream chunk ${C}. ${_}`)}}}}finally{u.releaseLock()}})}async apiCall(i,l){return fetch(i,l).catch(s=>{throw new Error(`exception ${s} sending request`)})}getDefaultHeaders(){const i={},l=cb+" "+this.clientOptions.userAgentExtra;return i[sb]=l,i[rb]=l,i[ab]="application/json",i}async getHeadersInternal(i){const l=new Headers;if(i&&i.headers){for(const[s,u]of Object.entries(i.headers))l.append(s,u);i.timeout&&i.timeout>0&&l.append(ob,String(Math.ceil(i.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(l),l}async uploadFile(i,l){var s;const u={};l!=null&&(u.mimeType=l.mimeType,u.name=l.name,u.displayName=l.displayName),u.name&&!u.name.startsWith("files/")&&(u.name=`files/${u.name}`);const m=this.clientOptions.uploader,p=await m.stat(i);u.sizeBytes=String(p.size);const y=(s=l==null?void 0:l.mimeType)!==null&&s!==void 0?s:p.type;if(y===void 0||y==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");u.mimeType=y;const v=await this.fetchUploadUrl(u,l);return m.upload(i,v,this)}async fetchUploadUrl(i,l){var s;let u={};l!=null&&l.httpOptions?u=l.httpOptions:u={apiVersion:"",headers:{"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${i.sizeBytes}`,"X-Goog-Upload-Header-Content-Type":`${i.mimeType}`}};const m={file:i},p=await this.request({path:fe("upload/v1beta/files",m._url),body:JSON.stringify(m),httpMethod:"POST",httpOptions:u});if(!p||!(p!=null&&p.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const y=(s=p==null?void 0:p.headers)===null||s===void 0?void 0:s["x-goog-upload-url"];if(y===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return y}}async function Yh(o){var i;if(o===void 0)throw new Bu("response is undefined");if(!o.ok){const l=o.status,s=o.statusText;let u;!((i=o.headers.get("content-type"))===null||i===void 0)&&i.includes("application/json")?u=await o.json():u={error:{message:await o.text(),code:o.status,status:o.statusText}};const m=`got status: ${l} ${s}. ${JSON.stringify(u)}`;throw l>=400&&l<500?new bg(m):l>=500&&l<600?new Bu(m):new Error(m)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function hb(o,i){const l={},s=c(i,["name"]);s!=null&&d(l,["_url","name"],s);const u=c(i,["config"]);return u!=null&&d(l,["config"],u),l}function gb(o,i,l){const s={},u=c(i,["pageSize"]);l!==void 0&&u!=null&&d(l,["_query","pageSize"],u);const m=c(i,["pageToken"]);l!==void 0&&m!=null&&d(l,["_query","pageToken"],m);const p=c(i,["filter"]);return l!==void 0&&p!=null&&d(l,["_query","filter"],p),s}function pb(o,i){const l={},s=c(i,["config"]);return s!=null&&d(l,["config"],gb(o,s,l)),l}function yb(o,i){const l={},s=c(i,["textInput"]);s!=null&&d(l,["textInput"],s);const u=c(i,["output"]);return u!=null&&d(l,["output"],u),l}function vb(o,i){const l={};if(c(i,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const s=c(i,["examples"]);if(s!=null){let u=s;Array.isArray(u)&&(u=u.map(m=>yb(o,m))),d(l,["examples","examples"],u)}return l}function xb(o,i,l){const s={};if(c(i,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const u=c(i,["tunedModelDisplayName"]);if(l!==void 0&&u!=null&&d(l,["displayName"],u),c(i,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const m=c(i,["epochCount"]);l!==void 0&&m!=null&&d(l,["tuningTask","hyperparameters","epochCount"],m);const p=c(i,["learningRateMultiplier"]);if(p!=null&&d(s,["tuningTask","hyperparameters","learningRateMultiplier"],p),c(i,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const y=c(i,["batchSize"]);l!==void 0&&y!=null&&d(l,["tuningTask","hyperparameters","batchSize"],y);const v=c(i,["learningRate"]);return l!==void 0&&v!=null&&d(l,["tuningTask","hyperparameters","learningRate"],v),s}function Tb(o,i){const l={},s=c(i,["baseModel"]);s!=null&&d(l,["baseModel"],s);const u=c(i,["trainingDataset"]);u!=null&&d(l,["tuningTask","trainingData"],vb(o,u));const m=c(i,["config"]);return m!=null&&d(l,["config"],xb(o,m,l)),l}function bb(o,i){const l={},s=c(i,["name"]);s!=null&&d(l,["_url","name"],s);const u=c(i,["config"]);return u!=null&&d(l,["config"],u),l}function Sb(o,i,l){const s={},u=c(i,["pageSize"]);l!==void 0&&u!=null&&d(l,["_query","pageSize"],u);const m=c(i,["pageToken"]);l!==void 0&&m!=null&&d(l,["_query","pageToken"],m);const p=c(i,["filter"]);return l!==void 0&&p!=null&&d(l,["_query","filter"],p),s}function Eb(o,i){const l={},s=c(i,["config"]);return s!=null&&d(l,["config"],Sb(o,s,l)),l}function Cb(o,i,l){const s={},u=c(i,["gcsUri"]);if(l!==void 0&&u!=null&&d(l,["supervisedTuningSpec","trainingDatasetUri"],u),c(i,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return s}function Nb(o,i){const l={},s=c(i,["gcsUri"]);return s!=null&&d(l,["validationDatasetUri"],s),l}function Ab(o,i,l){const s={},u=c(i,["validationDataset"]);l!==void 0&&u!=null&&d(l,["supervisedTuningSpec"],Nb(o,u));const m=c(i,["tunedModelDisplayName"]);l!==void 0&&m!=null&&d(l,["tunedModelDisplayName"],m);const p=c(i,["description"]);l!==void 0&&p!=null&&d(l,["description"],p);const y=c(i,["epochCount"]);l!==void 0&&y!=null&&d(l,["supervisedTuningSpec","hyperParameters","epochCount"],y);const v=c(i,["learningRateMultiplier"]);l!==void 0&&v!=null&&d(l,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],v);const g=c(i,["adapterSize"]);if(l!==void 0&&g!=null&&d(l,["supervisedTuningSpec","hyperParameters","adapterSize"],g),c(i,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(c(i,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");return s}function Mb(o,i){const l={},s=c(i,["baseModel"]);s!=null&&d(l,["baseModel"],s);const u=c(i,["trainingDataset"]);u!=null&&d(l,["supervisedTuningSpec","trainingDatasetUri"],Cb(o,u,l));const m=c(i,["config"]);return m!=null&&d(l,["config"],Ab(o,m,l)),l}function _b(o,i){const l={},s=c(i,["name"]);s!=null&&d(l,["model"],s);const u=c(i,["name"]);return u!=null&&d(l,["endpoint"],u),l}function Sg(o,i){const l={},s=c(i,["name"]);s!=null&&d(l,["name"],s);const u=c(i,["state"]);u!=null&&d(l,["state"],gg(o,u));const m=c(i,["createTime"]);m!=null&&d(l,["createTime"],m);const p=c(i,["tuningTask","startTime"]);p!=null&&d(l,["startTime"],p);const y=c(i,["tuningTask","completeTime"]);y!=null&&d(l,["endTime"],y);const v=c(i,["updateTime"]);v!=null&&d(l,["updateTime"],v);const g=c(i,["description"]);g!=null&&d(l,["description"],g);const T=c(i,["baseModel"]);T!=null&&d(l,["baseModel"],T);const C=c(i,["_self"]);C!=null&&d(l,["tunedModel"],_b(o,C));const _=c(i,["distillationSpec"]);_!=null&&d(l,["distillationSpec"],_);const L=c(i,["experiment"]);L!=null&&d(l,["experiment"],L);const G=c(i,["labels"]);G!=null&&d(l,["labels"],G);const K=c(i,["pipelineJob"]);K!=null&&d(l,["pipelineJob"],K);const F=c(i,["tunedModelDisplayName"]);return F!=null&&d(l,["tunedModelDisplayName"],F),l}function wb(o,i){const l={},s=c(i,["nextPageToken"]);s!=null&&d(l,["nextPageToken"],s);const u=c(i,["tunedModels"]);if(u!=null){let m=u;Array.isArray(m)&&(m=m.map(p=>Sg(o,p))),d(l,["tuningJobs"],m)}return l}function Rb(o,i){const l={},s=c(i,["name"]);s!=null&&d(l,["name"],s);const u=c(i,["metadata"]);u!=null&&d(l,["metadata"],u);const m=c(i,["done"]);m!=null&&d(l,["done"],m);const p=c(i,["error"]);return p!=null&&d(l,["error"],p),l}function Db(o,i){const l={},s=c(i,["model"]);s!=null&&d(l,["model"],s);const u=c(i,["endpoint"]);return u!=null&&d(l,["endpoint"],u),l}function ju(o,i){const l={},s=c(i,["name"]);s!=null&&d(l,["name"],s);const u=c(i,["state"]);u!=null&&d(l,["state"],gg(o,u));const m=c(i,["createTime"]);m!=null&&d(l,["createTime"],m);const p=c(i,["startTime"]);p!=null&&d(l,["startTime"],p);const y=c(i,["endTime"]);y!=null&&d(l,["endTime"],y);const v=c(i,["updateTime"]);v!=null&&d(l,["updateTime"],v);const g=c(i,["error"]);g!=null&&d(l,["error"],g);const T=c(i,["description"]);T!=null&&d(l,["description"],T);const C=c(i,["baseModel"]);C!=null&&d(l,["baseModel"],C);const _=c(i,["tunedModel"]);_!=null&&d(l,["tunedModel"],Db(o,_));const L=c(i,["supervisedTuningSpec"]);L!=null&&d(l,["supervisedTuningSpec"],L);const G=c(i,["tuningDataStats"]);G!=null&&d(l,["tuningDataStats"],G);const K=c(i,["encryptionSpec"]);K!=null&&d(l,["encryptionSpec"],K);const F=c(i,["partnerModelTuningSpec"]);F!=null&&d(l,["partnerModelTuningSpec"],F);const $=c(i,["distillationSpec"]);$!=null&&d(l,["distillationSpec"],$);const ee=c(i,["experiment"]);ee!=null&&d(l,["experiment"],ee);const ie=c(i,["labels"]);ie!=null&&d(l,["labels"],ie);const J=c(i,["pipelineJob"]);J!=null&&d(l,["pipelineJob"],J);const W=c(i,["tunedModelDisplayName"]);return W!=null&&d(l,["tunedModelDisplayName"],W),l}function Ib(o,i){const l={},s=c(i,["nextPageToken"]);s!=null&&d(l,["nextPageToken"],s);const u=c(i,["tuningJobs"]);if(u!=null){let m=u;Array.isArray(m)&&(m=m.map(p=>ju(o,p))),d(l,["tuningJobs"],m)}return l}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Ub extends Aa{constructor(i){super(),this.apiClient=i,this.get=async l=>await this.getInternal(l),this.list=async(l={})=>new Xu(Na.PAGED_ITEM_TUNING_JOBS,s=>this.listInternal(s),await this.listInternal(l),l),this.tune=async l=>{if(this.apiClient.isVertexAI())return await this.tuneInternal(l);{const s=await this.tuneMldevInternal(l);let u="";return s.metadata!==void 0&&s.metadata.tunedModel!==void 0?u=s.metadata.tunedModel:s.name!==void 0&&s.name.includes("/operations/")&&(u=s.name.split("/operations/")[0]),{name:u,state:Vu.JOB_STATE_QUEUED}}}}async getInternal(i){var l,s,u,m;let p,y="",v={};if(this.apiClient.isVertexAI()){const g=bb(this.apiClient,i);return y=fe("{name}",g._url),v=g._query,delete g.config,delete g._url,delete g._query,p=this.apiClient.request({path:y,queryParams:v,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(l=i.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(s=i.config)===null||s===void 0?void 0:s.abortSignal}).then(T=>T.json()),p.then(T=>ju(this.apiClient,T))}else{const g=hb(this.apiClient,i);return y=fe("{name}",g._url),v=g._query,delete g.config,delete g._url,delete g._query,p=this.apiClient.request({path:y,queryParams:v,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(u=i.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(m=i.config)===null||m===void 0?void 0:m.abortSignal}).then(T=>T.json()),p.then(T=>Sg(this.apiClient,T))}}async listInternal(i){var l,s,u,m;let p,y="",v={};if(this.apiClient.isVertexAI()){const g=Eb(this.apiClient,i);return y=fe("tuningJobs",g._url),v=g._query,delete g.config,delete g._url,delete g._query,p=this.apiClient.request({path:y,queryParams:v,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(l=i.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(s=i.config)===null||s===void 0?void 0:s.abortSignal}).then(T=>T.json()),p.then(T=>{const C=Ib(this.apiClient,T),_=new Rh;return Object.assign(_,C),_})}else{const g=pb(this.apiClient,i);return y=fe("tunedModels",g._url),v=g._query,delete g.config,delete g._url,delete g._query,p=this.apiClient.request({path:y,queryParams:v,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(u=i.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(m=i.config)===null||m===void 0?void 0:m.abortSignal}).then(T=>T.json()),p.then(T=>{const C=wb(this.apiClient,T),_=new Rh;return Object.assign(_,C),_})}}async tuneInternal(i){var l,s;let u,m="",p={};if(this.apiClient.isVertexAI()){const y=Mb(this.apiClient,i);return m=fe("tuningJobs",y._url),p=y._query,delete y.config,delete y._url,delete y._query,u=this.apiClient.request({path:m,queryParams:p,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(l=i.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(s=i.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json()),u.then(v=>ju(this.apiClient,v))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(i){var l,s;let u,m="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const y=Tb(this.apiClient,i);return m=fe("tunedModels",y._url),p=y._query,delete y.config,delete y._url,delete y._query,u=this.apiClient.request({path:m,queryParams:p,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(l=i.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(s=i.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json()),u.then(v=>Rb(this.apiClient,v))}}}const Vb=1024*1024*8;async function kb(o,i,l){var s,u;let m=0,p=0,y=new ku(new Response),v="upload";for(m=o.size;p<m;){const T=Math.min(Vb,m-p),C=o.slice(p,p+T);if(p+T>=m&&(v+=", finalize"),y=await l.request({path:"",body:C,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:i,headers:{"X-Goog-Upload-Command":v,"X-Goog-Upload-Offset":String(p),"Content-Length":String(T)}}}),p+=T,((s=y==null?void 0:y.headers)===null||s===void 0?void 0:s["x-goog-upload-status"])!=="active")break;if(m<=p)throw new Error("All content has been uploaded, but the upload status is not finalized.")}const g=await(y==null?void 0:y.json());if(((u=y==null?void 0:y.headers)===null||u===void 0?void 0:u["x-goog-upload-status"])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return g.file}async function Lb(o){return{size:o.size,type:o.type}}class Gb{async upload(i,l,s){if(typeof i=="string")throw new Error("File path is not supported in browser uploader.");return await kb(i,l,s)}async stat(i){if(typeof i=="string")throw new Error("File path is not supported in browser uploader.");return await Lb(i)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Bb{create(i,l,s){return new jb(i,l,s)}}class jb{constructor(i,l,s){this.url=i,this.headers=l,this.callbacks=s}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(i){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(i)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Fh="x-goog-api-key";class zb{constructor(i){this.apiKey=i}async addAuthHeaders(i){i.get(Fh)===null&&i.append(Fh,this.apiKey)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Ob="gl-node/";class Hb{constructor(i){var l;if(i.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(i.project||i.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(l=i.vertexai)!==null&&l!==void 0?l:!1,this.apiKey=i.apiKey;const s=Z0(i,void 0,void 0);s&&(i.httpOptions?i.httpOptions.baseUrl=s:i.httpOptions={baseUrl:s}),this.apiVersion=i.apiVersion;const u=new zb(this.apiKey);this.apiClient=new mb({auth:u,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:i.httpOptions,userAgentExtra:Ob+"web",uploader:new Gb}),this.models=new KT(this.apiClient),this.live=new HT(this.apiClient,u,new Bb),this.chats=new qy(this.models,this.apiClient),this.caches=new jy(this.apiClient),this.files=new nv(this.apiClient),this.operations=new lb(this.apiClient),this.tunings=new Ub(this.apiClient)}}const ss="gemini-2.5-flash-preview-04-17",Kh="TrackGuide",Xh="songGuidebookLibrary",va="trackGuideLastUsedDAW",Po="trackGuideLastUsedPlugins",Eg=["Pop","Indie Pop","Synth-Pop","Rock","Alternative Rock","Hard Rock","Punk Rock","Post-Punk","Nu Metal","Progressive Rock","Psychedelic Rock","Folk Rock","Shoegaze","House","Deep House","Progressive House","Tech House","Bass House","Electro House","Minimal House","Techno","Minimal Techno","Industrial Techno","Melodic Techno","Ambient Techno","Hard Techno","Trance","Progressive Trance","Psytrance","Goa Trance","Hard Trance","Ambient","Dark Ambient","Downtempo","Chillout","Chillwave","Psybient","Berlin School","Synthwave","Retrowave","Darksynth","Vaporwave","Future Funk","Drum and Bass","Jungle","Liquid DnB","Neurofunk","Breakcore","Dubstep","Riddim","Future Bass","Trap (EDM)","Hardstyle","Gabber","UK Hardcore","IDM (Intelligent Dance Music)","Glitch","Breakbeat","UK Garage","2-Step","Future Garage","EBM (Electronic Body Music)","Footwork","Juke","Hip Hop","Boom Bap","Trap","Lo-fi Hip Hop","Cloud Rap","Drill","Conscious Hip Hop","R&B","Contemporary R&B","Neo-Soul","Soul","Folk","Acoustic","World Music","Reggae","Dub","Ska","Latin","Afrobeat","Celtic","Jazz","Smooth Jazz","Blues","Funk","Heavy Metal","Thrash Metal","Death Metal","Black Metal","Doom Metal","Metalcore","Deathcore","Experimental","Noise","Industrial","Classical Crossover","Chiptune","Video Game Music"],qb=["Dark","Atmospheric","Energetic","Uplifting","Chill","Relaxed","Experimental","Trippy","Nostalgic","Retro","Aggressive","Intense","Melancholic","Introspective","Funky","Groovy","Mysterious","Eerie","Euphoric","Anthemic","Dreamy","Ethereal","Raw","Gritty","Sophisticated","Smooth","Cyberpunk","Futuristic","Hypnotic","Driving","Industrial","Mechanical","Hopeful","Aggressive","Peaceful","Romantic","Sad","Joyful","Tense"],Qh=["Ableton Live","Logic Pro X","FL Studio","Pro Tools","Cubase","Studio One","Reason","Bitwig Studio","Reaper","GarageBand"],ba=["C Major","G Major","D Major","A Major","E Major","B Major","F# Major","C# Major","F Major","Bb Major","Eb Major","Ab Major","Db Major","Gb Major","Cb Major","A Minor","E Minor","B Minor","F# Minor","C# Minor","G# Minor","D# Minor","A# Minor","D Minor","G Minor","C Minor","F Minor","Bb Minor","Eb Minor","Ab Minor"],Pb=[[4,4],[3,4],[6,8],[2,4],[5,4],[7,8]],Yb=[{id:"chords",label:"Chords"},{id:"bassline",label:"Bassline"},{id:"melody",label:"Melody"},{id:"drums",label:"Drums"}],Fb=["General Loop","Intro","Verse","Pre-Chorus","Chorus","Post-Chorus","Bridge","Solo","Breakdown","Drop","Outro","Fill"],je={key:"C Major",tempo:120,timeSignature:[4,4],chordProgression:"I-V-vi-IV",genre:"Pop",bars:8,targetInstruments:["chords","bassline","melody","drums"],guidebookContext:"",songSection:"General Loop"},nn={Pop:["I-V-vi-IV","vi-IV-I-V","I-IV-V-I","I-vi-IV-V","ii-V-I-IV"],"Indie Pop":["I-V-vi-IV","I-IV-vi-V","vi-IV-I-V","I-iii-IV-V"],"Synth-Pop":["i-VI-III-VII (minor)","I-V-vi-IV (major)","i-iv-v-VI (minor)","I-IV-ii-V (major)"],Rock:["I-IV-V","vi-IV-I-V","I-bVII-IV-I","i-VI-III-VII (minor)","I-V-IV-I"],"Alternative Rock":["vi-IV-I-V","I-V-vi-IV","i-VI-III-VII","I-IV-ii-V"],House:["Am-G-C-F","i-VI-III-VII (Am-F-C-G)","i-III-VI-VII","i-v-iv-i"],"Deep House":["i-VI-III-VII (e.g. Dm-Bb-F-C)","Am-G-C-F","i-iv-v-i"],Techno:["i-VI-III-VII","i-iv-v-i (minor, repetitive)","Single chord drone with variations","Am-G-F-E"],Trance:["vi-IV-I-V (Am-F-C-G)","i-VI-III-VII","i-VII-VI-V (minor descending)"],Ambient:["Imaj7-IVmaj7 (long, evolving)","i-VI (slow changes)","Drone + suspended chords"],Synthwave:["i-VI-III-VII (Am-F-C-G)","vi-IV-I-V","I-V-vi-IV","i-iv-v-i"],"Drum and Bass":["i-VI-III-VII","Am-F-C-G","Complex jazz voicings over two chords","i-iv-v-VI"],Dubstep:["i-VI-III-VII","i-iv-v-i (minor)","Heavy focus on sound design over complex progression"],"Trap (EDM)":["i-VI-III-VII","i-iv-v-i (minor)","Simple 2 or 3 chord loops"],"Hip Hop":["i-VI-III-VII","Am-G-Em-F","ii-V-I (Jazz influenced)","i-iv-v-i","Sample-based loops"],"Lo-fi Hip Hop":["ii-V-I-IV (Jazz)","Imaj7-vi7-ii7-V7","Simple 2-4 chord loops"],"R&B":["Imaj7-IVmaj7","ii-V-I","i-VI-III-VII","vi-ii-V-I"],Folk:["I-IV-V","I-V-vi-IV","G-C-D-G","C-G-Am-F"],Jazz:["ii-V-I","I-vi-ii-V","iii-vi-ii-V","I-II7-V7-I (Rhythm Changes A section)","Imaj7-IIm7-IIIm7-IVmaj7 (Modal)"],Blues:["I-I-I-I-IV-IV-I-I-V-IV-I-I (12-bar)","i-i-i-i-iv-iv-i-i-v-iv-i-i (minor 12-bar)"],Default:["I-V-vi-IV","i-VI-III-VII","I-IV-V-I","ii-V-I"]},ln={Pop:[90,130],"Indie Pop":[100,140],"Synth-Pop":[110,140],Rock:[100,160],"Alternative Rock":[90,150],House:[118,128],"Deep House":[115,125],Techno:[125,145],Trance:[130,145],Ambient:[50,100],Synthwave:[80,120],"Drum and Bass":[160,180],Dubstep:[130,150],"Trap (EDM)":[130,160],"Hip Hop":[80,110],"Lo-fi Hip Hop":[70,90],"R&B":[60,100],Folk:[80,120],Jazz:[70,180],Blues:[70,130],Default:[60,200]},Wo={kick:36,snare:38,hihat_closed:42,closed_hihat:42,hihat_open:46,open_hihat:46,tom_low:41,low_tom:41,tom_mid:47,mid_tom:47,tom_high:50,high_tom:50,crash_cymbal_1:49,crash:49,ride_cymbal_1:51,ride:51,clap:39,shaker:70,tambourine:54,rim_shot:37,cowbell:56,bass_drum:36,snare_drum:38},Kb="AIzaSyCxOuxalv_PC6h6aE8JvEjLMK8ie8C9Nts",rs=new Hb({apiKey:Kb}),Xb=o=>{var C;const i=o.genre.length>0?o.genre.join(", "):"Not specified",l=o.vibe.length>0?o.vibe.join(", "):"Not specified",s=o.artistReference||"General to genre/vibe",u=((C=o.songTitle)==null?void 0:C.trim())||"",m=o.plugins&&o.plugins.trim()!==""&&!o.plugins.toLowerCase().includes("stock only"),p=m?o.plugins:`Stock plugins of ${o.daw||"the selected DAW"}`,y=o.availableInstruments||"Standard rock/pop/electronic instruments assumed",v=(_,L,G)=>m?o.plugins.toLowerCase().includes(_.split(" ")[0].toLowerCase())?`\`${_}\``:o.plugins.toLowerCase().includes("arturia")&&_.toLowerCase().includes("arturia")?`\`${_}\``:(o.plugins.toLowerCase().includes("native instruments")||o.plugins.toLowerCase().includes("komplete"))&&["massive","kontakt","reaktor","guitar rig","battery"].some(K=>_.toLowerCase().includes(K))?`\`${_}\``:o.plugins.toLowerCase().includes("fabfilter")&&_.toLowerCase().includes("fabfilter")?`\`${_}\``:o.plugins.toLowerCase().includes("soundtoys")&&_.toLowerCase().includes("soundtoys")?`\`${_}\``:o.plugins.toLowerCase().includes("valhalla")&&_.toLowerCase().includes("valhalla")?`\`${_}\``:`a suitable ${L.toLowerCase()}`:`${o.daw||"DAW"} stock ${G.toLowerCase()}`,g=u?`The user has provisionally titled this project: "${u}". Use this as the primary title in the '# TRACKGUIDE: "..."' heading, or refine it slightly if you can make it more engaging while keeping its core idea.`:`Generate an engaging and ORIGINAL title for the '# TRACKGUIDE: "..."' heading that creatively combines '${i}', '${l}', and '${s}' if provided, e.g., "Substructure Anomaly" - An Experimental Neurofunk Descent.`,T=u?`Use the user-provided title: "${u}".`:'Generate a creative, SHORT, and ORIGINAL title that captures the essence of all inputs. Avoid generic phrases like "Song for..." or simply restating the genre/vibe.';return`
You are TrackGuideAI, an expert music production assistant. Generate a comprehensive TrackGuide based on the following user inputs.
The user wants to create a song with the following characteristics:
- Project Title (User Provided): ${u||"Not specified"}
- Genre(s): ${i}
- Artist/Song Reference(s): ${s}
- Vibe/Mood(s): ${l}
- Preferred DAW: ${o.daw||"Not specified, suggest generally or for Ableton Live/Logic Pro"}
- Available Plugins: ${p}
- Available Instruments: ${y}

**IMPORTANT INSTRUCTIONS FOR AI (OVERALL):**
- **STYLE:** Follow a "Quick Reference / Cheat Sheet Style" for Section 3 (Instrument & Sound Design) and Section 4 (Harmony, Melody & Rhythmic Core). Be extremely concise and actionable.
- **TERMINOLOGY:** Use professional music production terminology.
- **MARKDOWN:** Use Markdown for formatting (e.g., #, ##, ### for headings, bullet points for lists).
- **CONCISENESS (Sections 1, 2, 5):** Keep these sections brief and to the point.
- **EMOJIS (Section 3):** Use a relevant emoji before each instrument name heading (e.g., ###  Drums & Percussion).

**SECTION 3: INSTRUMENT & SOUND DESIGN GUIDE - "QUICK REFERENCE" FORMATTING:**
For EACH instrument/category in Section 3:
1.  **Heading:** Start with "### Emoji Instrument Name" (e.g., "###  Drums & Percussion").
2.  **Style:** "**Style:** Brief description (e.g., "Hip-hop influenced, punchy transients")."
3.  **Tips Sub-Heading:** Use ONE of these bolded labels:
    *   "**Programming Tips:**" (for drums, synths, etc.)
    *   "**Arrangement Tips:**" (for guitars, orchestral sections, etc.)
    *   "**Flow Tips:**" (for vocals)
    *   "**Role:**" (for DJ/Samples)
    *   "**Purpose:**" (for Synths/Keys if more about function than programming)
    *   Follow with 2-3 ultra-concise bullet points.
4.  **Processing Sub-Heading:** Use ONE of these bolded labels:
    *   "**EQ & Processing Summary:**" (if covering multiple effect types)
    *   "**Processing:**" (if focusing on 1-2 main effects or amp sims)
    *   "**Patch Ideas:**" (for Synths/Keys, can include VI suggestions here)
    *   Follow with 2-4 ultra-concise bullet points. EACH bullet should summarize ONE key processing step or patch idea.
    *   **Parameter Examples:** Integrate highly condensed parameter examples (e.g., "EQ: Thump at 6080Hz, carve mud at 300500Hz, add attack at 35kHz.").
    *   **Plugin/VI Suggestions:** Integrate these directly and concisely within the processing/patch bullets.
        *   If 'Available Plugins' indicates 'Stock plugins of [DAW NAME]' or is empty, **EXCLUSIVELY recommend stock plugins for the specified DAW.**
        *   If specific plugins ARE listed by the user, prioritize those.
        *   Example for plugin: "Saturation: ${v("Ableton Saturator","saturator plugin","Saturation")} (Soft Clip), on snare or full kit."
        *   Example for VI in Patch Ideas: "Pads: ${v("Arturia Prophet V","analog-style synth VI","Synth")}, long attack/release."
    *   **NO "Virtual Instrument Suggestions" as a separate sub-heading.** Integrate these into "Patch Ideas" or "Processing" (e.g., for Amp Sims).
    *   **DO NOT list every possible effect.** Focus on the 2-4 MOST impactful for the instrument in the given context.

**SECTION 4: HARMONY, MELODY & RHYTHMIC CORE - "QUICK REFERENCE" FORMATTING:**
- Structure with the following main bullet points, each followed by 1-3 concise sub-bullet points:
    - **Chord Progressions:** (with examples, e.g., "i  bVI  bVII (e.g., Cm  Ab  Bb)")
    - **Melodic Notes:** (or characteristics/scales, e.g., "Minor Pentatonic or Phrygian")
    - **Rhythmic Focus:** (key rhythmic interactions, e.g., "Tight sync between kick, bass, and palm-muted guitar")
- NO "Harmonic Textures" sub-section. Keep this section very lean.

Please structure the TrackGuide with the following sections:

# TRACKGUIDE: "${g}"

## 1. Song Overview
- **Suggested Title:** ${T}
- **Genre(s):** ${i}
- **Artist DNA:** (Briefly, 1-2 sentences, describe artist/song influence or genre/vibe archetypes if no reference)
- **Vibe(s):** ${l}
- **Estimated BPM Range:** (e.g., 120-130 BPM, consider the blend if multiple genres)
- **Suggested Key(s) / Scale(s):** (List 1-2 common keys/scales, e.g., C Minor, A Lydian)
- **Overall Sonic Palette:** (Describe in 1-2 key phrases, e.g., "Dark, punchy drums, ethereal pads, gritty bass")

## 2. Structural Blueprint
Provide a **concise Markdown table** for a typical song structure for the genre(s).
- **Production Tips Column:** Succinctly combine key creative ideas and primary instrumentation focus for each section. Consider user's available instruments: ${y}.
- **Mood Column:** Describe the mood with 2-3 impactful keywords or a very short descriptive phrase (e.g., 'Intense, Driving', 'Reflective & Hopeful', 'Darkly Cinematic'), reflecting listed vibes: ${l}.

*Example Table (adapt to genre(s), ensure it's concise and well-formatted Markdown):*
| Section    | Length   | Production Tips                     | Mood        |
|------------|----------|-------------------------------------|-------------|
| Intro      | 8 bars   | Filtered pads, subtle rhythmic pulse, light perc. | Evolving    |
| Verse A    | 16 bars  | Main groove, sparse vocals, core bassline. | Driving     |
| ...etc.    | ...      | ...                                 | ...         |

## 3. Instrument & Sound Design Guide
(Follow the "QUICK REFERENCE" formatting detailed above. Tailor suggestions to user's 'Available Instruments' like '${y}' if specified.)

###  Drums & Percussion
**Style:** (e.g., "Hip-hop influenced, punchy transients" for ${i})
**Programming Tips:**
  - (e.g., Snare on 2 & 4)
  - (e.g., Syncopated kicks, varied hat velocities)
**EQ & Processing Summary:**
  - (e.g., Kick: 6080Hz (thump), 300500Hz (cut mud), 35kHz (click))
  - (e.g., Snare: 200Hz (body), 4kHz (crack), touch of plate reverb with ${v("Valhalla Plate","plate reverb","Reverb")})
  - (e.g., Bus Compression: ${v("Ableton Glue Compressor","bus compressor","Compressor")}, Ratio 4:1, Attack 1030ms)

###  Bass
**Style:** (e.g., "Syncopated, distorted, groove-locked with kick")
**Programming Tips:**
  - (e.g., Follow guitar riff in choruses)
  - (e.g., Use slides/ghosts for groove)
**Processing:**
  - (e.g., EQ: Boost 60100Hz, 800Hz2kHz for bite, cut 200400Hz)
  - (e.g., Saturation: Parallel drive via ${v("Soundtoys Decapitator","saturation plugin","Saturation")} or ${v("Ableton Amp","amp simulator","Amp Sim")})

(Include similar "Quick Reference" sections for Guitars, Vocals, DJ Scratches & Samples, Synths & Keys, etc., based on user inputs or common instrumentation for the genre. Remember to integrate plugin suggestions concisely using getPluginSuggestion and adhere to all formatting rules.)

## 4. Harmony, Melody & Rhythmic Core
(Follow the "QUICK REFERENCE" formatting detailed above.)
- **Chord Progressions:**
  - (e.g., i  bVI  bVII (e.g., Cm  Ab  Bb for ${i}))
  - (e.g., Riff-based grooves with rhythmic single-note chugs if appropriate for ${i})
- **Melodic Notes:**
  - (e.g., Minor Pentatonic or Phrygian scale for ${i})
  - (e.g., Rap cadence in verses, short catchy lines in hooks, if vocals are mentioned or typical for ${i})
- **Rhythmic Focus:**
  - (e.g., Tight sync between kick, bass, and palm-muted guitar for a ${l} feel)
  - (e.g., Hi-hats with syncopation and velocity variation for ${i} groove)

##  5. Final Notes & Implementation
(Provide 3-5 VERY concise, actionable bullet points specific to making THIS SONG unique and impactful. Start each with a " " (checkmark emoji and space).)
-  Focus on [key element from inputs, e.g., the rhythmic drive of ${i}].
-  Experiment with [a specific technique related to vibe, e.g., filter automation to enhance the '${l}' vibe].
-  Leverage [a unique aspect of inputs, e.g., the textures from ${y} if unique, or a specific plugin from ${p} in a creative way].
-  If referencing ${s}, try their [specific technique, e.g., approach to layering] but apply it to [your unique element].
-  Don't be afraid to [a general creative encouragement, e.g., break conventions slightly for a memorable track].

---
This TrackGuide for "${u||`${i} (${l})`}" using ${o.daw||"your DAW"} is a starting point. Experiment, trust your ears, and enjoy the creative journey!
`},Qb=async o=>{try{const i=Xb(o);return await rs.models.generateContentStream({model:ss,contents:i})}catch(i){console.error("Error initiating TrackGuide content stream:",i);let l="An unknown error occurred while initiating the TrackGuide stream.";throw i instanceof Error&&(l=i.message,i.message.includes("API key not valid")||i.message.includes("permission")&&i.message.includes("API key")?l="Invalid API Key or insufficient permissions. Please check your API key and its configuration.":i.message.toLowerCase().includes("network error")||i.message.toLowerCase().includes("failed to fetch")?l=`Network error: Failed to connect to Gemini API. Please check your internet connection. (${i.message})`:l=`Failed to generate TrackGuide: ${i.message}`),new Error(l)}},Jb=o=>{const{key:i,tempo:l,timeSignature:s,chordProgression:u,genre:m,bars:p,targetInstruments:y,guidebookContext:v,songSection:g}=o,T=y.join(", ");return`Generate MIDI patterns in JSON format for ${m} music.

Context: Key=${i}, Tempo=${l}BPM, Time=${s[0]}/${s[1]}, Chords=${u}, Bars=${p}, Section=${g||"General"}
Instruments: ${T}
${v?`Style: ${v.substring(0,200)}...`:""}

Return JSON with keys: ${y.map(C=>`"${C}"`).join(", ")}

Format:
- "chords": [{"time": 0, "name": "C", "duration": 1, "notes": [{"pitch": "C4", "midi": 60}], "velocity": 80}]
- "bassline": [{"time": 0, "pitch": "C2", "midi": 36, "duration": 0.5, "velocity": 90}] (MIDI 12-59 only)
- "melody": [{"time": 0, "pitch": "C5", "midi": 72, "duration": 0.25, "velocity": 85}]
- "drums": {"kick": [{"time": 0, "duration": 0.1, "velocity": 100}], "snare": [{"time": 1, "duration": 0.1, "velocity": 90}]}

Make patterns musically appropriate for ${g||"general"} section in ${m} style.`},zu=async o=>{try{const i=Jb(o);return await rs.models.generateContentStream({model:ss,contents:i,config:{responseMimeType:"application/json"}})}catch(i){console.error("Error initiating MIDI pattern stream:",i);let l="An unknown error occurred while initiating MIDI pattern stream.";throw i instanceof Error&&(l=i.message,i.message.includes("API key not valid")?l="Invalid API Key for MIDI generation. Please check your API key.":l=`Failed to initiate MIDI pattern stream: ${i.message}`),new Error(l)}},Zb=async o=>{const i=new Promise(l=>{const s=new FileReader;s.onloadend=()=>l(s.result.split(",")[1]),s.readAsDataURL(o)});return{inlineData:{mimeType:o.type,data:await i}}},$b=o=>`
You are an expert audio mixing and mastering engineer AI. The user has uploaded an audio file of their mix and provided some notes.
Analyze the audio mix thoroughly.

User's Notes/Questions:
"${o||"No specific notes provided by the user."}"

Provide comprehensive, constructive, and actionable feedback on the mix. Structure your feedback using Markdown with clear headings for each section. Cover the following aspects:

1.  **Overall Impression & Balance:**
    *   Initial thoughts on the mix.
    *   How well do the different instruments/elements sit together?
    *   Are vocals (if present) clear and well-placed?
    *   Is there a good sense of depth and separation between elements?

2.  **Frequency Spectrum Analysis:**
    *   **Low-End (Bass, Kick, etc.):** Is it clear, muddy, boomy, or lacking? Any masking?
    *   **Mid-Range (Vocals, Guitars, Synths, Snares):** Is it clear, honky, harsh, scooped, or well-defined?
    *   **High-End (Cymbals, Air, Sibilance):** Is it crisp, dull, harsh, or smooth?
    *   Suggest specific EQ adjustments with frequency ranges if applicable (e.g., "Consider a gentle cut around 250Hz on the bass to reduce mud").

3.  **Dynamics & Loudness:**
    *   Is the mix punchy and dynamic, or does it sound over-compressed or flat?
    *   Assess the use of compression on individual tracks and the master bus (if discernible).
    *   Comment on the perceived loudness and headroom. Any signs of clipping?

4.  **Stereo Image & Panning:**
    *   How wide or narrow does the mix feel?
    *   Is panning used effectively to create space and interest?
    *   Any phase issues noticeable (e.g., elements disappearing in mono)?

5.  **Effects Usage (Reverb, Delay, Modulation, etc.):**
    *   Are effects used tastefully and effectively to enhance the mix, or are they distracting/muddying?
    *   Comment on the sense of space created by reverbs/delays.

6.  **Technical Issues (If any observed):**
    *   Clipping, distortion (unintentional), noise, clicks, pops, significant phase problems.

7.  **Actionable Summary & Key Recommendations:**
    *   Summarize the top 2-3 most impactful things the user could do to improve their mix.
    *   Prioritize suggestions based on what would make the biggest positive difference.

**IMPORTANT:**
- Be encouraging and constructive.
- Use professional terminology but explain concepts clearly if they might be complex.
- Refer back to the user's specific notes/questions if they provided any.
- Provide specific examples where possible (e.g., "The snare feels a bit buried; try increasing its level by 1-2dB or adding some top-end around 5kHz for more crack.").
- Do not comment on the musical composition or performance itself, ONLY the mix quality.
`,Wb=async o=>{if(!o.audioFile)return Promise.reject(new Error("No audio file provided for mix feedback."));try{const i=await Zb(o.audioFile),l={text:$b(o.userNotes)},s=[i,l],u=await rs.models.generateContent({model:ss,contents:{parts:s}}),m=u.text;if(typeof m!="string")throw console.error("Received non-text response or no text from Gemini API for mix feedback. Response:",u),new Error("Received an unexpected response format from Gemini API for mix feedback.");return m}catch(i){console.error("Error generating mix feedback:",i);let l="An unknown error occurred while generating mix feedback.";return i instanceof Error&&(l=i.message,i.message.includes("API key not valid")||i.message.includes("permission")&&i.message.includes("API key")?l="Invalid API Key or insufficient permissions. Please check your API key and its configuration.":i.message.toLowerCase().includes("network error")||i.message.toLowerCase().includes("failed to fetch")?l=`Network error: Failed to connect to Gemini API. Please check your internet connection. (${i.message})`:i.message.includes("Candidate was blocked")?l="The response for mix feedback was blocked by the AI. This might be due to content policies or other restrictions. Please try again or adjust your input if possible.":i.message.includes("audio")?l=`There was an issue processing the audio file with the AI. Ensure it's a common format and not too large. (${i.message})`:l=`Failed to generate mix feedback: ${i.message}`),Promise.reject(new Error(l))}},e1=async(o,i)=>{var l,s,u,m;try{const y=`You are an AI music production assistant. Help the user with their music production questions.

${i?`
Current project context:
- Genre: ${((l=i.userInputs)==null?void 0:l.genre)||"Not specified"}
- Vibe: ${((s=i.userInputs)==null?void 0:s.vibe)||"Not specified"}
- DAW: ${((u=i.userInputs)==null?void 0:u.daw)||"Not specified"}
- Current guidebook: ${((m=i.currentGuidebook)==null?void 0:m.title)||"None"}
`:""}

User question: ${o}

Provide helpful, concise advice related to music production, mixing, sound design, or composition. Keep responses practical and actionable.`,v=await rs.models.generateContent({model:ss,contents:{parts:[{text:y}]}}),g=v.text;if(typeof g!="string")throw console.error("Received non-text response from Gemini API:",v),new Error("Received an unexpected response format from Gemini API.");return g}catch(p){console.error("Error generating AI assistant response:",p);let y="An unknown error occurred while generating response.";return p instanceof Error&&(y=p.message,p.message.includes("API key not valid")||p.message.includes("permission")&&p.message.includes("API key")?y="Invalid API Key or insufficient permissions. Please check your API key and its configuration.":p.message.toLowerCase().includes("network error")||p.message.toLowerCase().includes("failed to fetch")?y=`Network error: Failed to connect to Gemini API. Please check your internet connection. (${p.message})`:p.message.includes("Candidate was blocked")?y="The response was blocked by the AI. This might be due to content policies or other restrictions. Please try again or adjust your input if possible.":y=`Failed to generate response: ${p.message}`),Promise.reject(new Error(y))}},Tn=Ii.forwardRef(({label:o,id:i,wrapperClassName:l,...s},u)=>h.jsxs("div",{className:l,children:[o&&h.jsx("label",{htmlFor:i,className:"block text-sm font-medium text-gray-300 mb-1",children:o}),h.jsx("input",{id:i,ref:u,...s,className:`w-full px-4 py-2 bg-gray-800 border border-gray-700 rounded-md shadow-sm placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-purple-500 text-gray-100 ${s.className||""}`})]}));Tn.displayName="Input";const Mu=({label:o,id:i,wrapperClassName:l,...s})=>h.jsxs("div",{className:l,children:[o&&h.jsx("label",{htmlFor:i,className:"block text-sm font-medium text-gray-300 mb-1",children:o}),h.jsx("textarea",{id:i,...s,className:`w-full px-4 py-2 bg-gray-800 border border-gray-700 rounded-md shadow-sm placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-purple-500 text-gray-100 ${s.className||""}`,rows:3})]}),Ne=({children:o,variant:i="primary",size:l="md",className:s="",leftIcon:u,rightIcon:m,...p})=>{const y="inline-flex items-center justify-center font-semibold rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-gray-900 transition-colors duration-150 disabled:opacity-50 disabled:cursor-not-allowed",v={primary:"bg-purple-600 hover:bg-purple-700 text-white focus:ring-purple-500",secondary:"bg-gray-700    hover:bg-gray-600 text-gray-100 focus:ring-gray-500",outline:"border border-purple-500 text-purple-400 hover:bg-purple-500 hover:text-white focus:ring-purple-500",danger:"bg-red-600     hover:bg-red-700 text-white focus:ring-red-500"},g={sm:"px-3 py-1.5 text-sm",md:"px-4 py-2   text-base",lg:"px-6 py-3   text-lg"};return h.jsxs("button",{...p,className:`${y} ${v[i]} ${g[l]} ${s}`,children:[u&&h.jsx("span",{className:"mr-2",children:u}),o,m&&h.jsx("span",{className:"ml-2",children:m})]})},Nt=({children:o,className:i="",title:l,titleClassName:s="",contentClassName:u="",...m})=>h.jsxs("div",{className:`bg-gray-800 shadow-lg rounded-lg overflow-hidden ${i}`,...m,children:[l&&h.jsx("div",{className:`px-4 py-3 border-b border-gray-700 ${s}`,children:h.jsx("h3",{className:"text-lg font-semibold text-gray-100",children:l})}),h.jsx("div",{className:`p-4 ${u}`,children:o})]}),Ea=({size:o="md",color:i="text-purple-500",text:l})=>{const s={sm:"w-6 h-6",md:"w-8 h-8",lg:"w-12 h-12"};return h.jsxs("div",{className:"flex flex-col items-center justify-center",children:[h.jsx("div",{className:`animate-spin rounded-full border-t-2 border-b-2 border-transparent ${s[o]} ${i}`,style:{borderTopColor:"currentColor",borderBottomColor:"currentColor"}}),l&&h.jsx("p",{className:"mt-2 text-sm text-gray-400",children:l})]})},t1=({className:o,title:i})=>h.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:o||"w-5 h-5","aria-hidden":i?void 0:"true",role:i?"img":void 0,children:[i&&h.jsx("title",{children:i}),h.jsx("path",{fillRule:"evenodd",d:"M10.868 2.884c-.321-.772-1.415-.772-1.736 0l-1.83 4.401-4.753.381c-.833.067-1.171 1.107-.536 1.651l3.62 3.102-1.106 4.637c-.194.813.691 1.456 1.405 1.02L10 15.591l4.069 2.485c.713.436 1.598-.207 1.404-1.02l-1.106-4.637 3.62-3.102c.635-.544.297-1.584-.536-1.65l-4.752-.382-1.831-4.401z",clipRule:"evenodd"})]}),Jh=({className:o,title:i})=>h.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:o||"w-5 h-5","aria-hidden":i?void 0:"true",role:i?"img":void 0,children:[i&&h.jsx("title",{children:i}),h.jsx("path",{fillRule:"evenodd",d:"M3 17a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zm3.293-7.707a1 1 0 011.414 0L9 10.586V3a1 1 0 112 0v7.586l1.293-1.293a1 1 0 111.414 1.414l-3 3a1 1 0 01-1.414 0l-3-3a1 1 0 010-1.414z",clipRule:"evenodd"})]}),n1=({className:o,title:i})=>h.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:o||"w-5 h-5","aria-hidden":i?void 0:"true",role:i?"img":void 0,children:[i&&h.jsx("title",{children:i}),h.jsx("path",{d:"M5 4a2 2 0 012-2h6a2 2 0 012 2v10a2 2 0 01-2 2H7a2 2 0 01-2-2V4zm2 0v10h6V4H7zm5 1h-4a1 1 0 100 2h4a1 1 0 100-2z"})]}),i1=({className:o,title:i})=>h.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:o||"w-5 h-5","aria-hidden":i?void 0:"true",role:i?"img":void 0,children:[i&&h.jsx("title",{children:i}),h.jsx("path",{fillRule:"evenodd",d:"M9 2a1 1 0 00-.894.553L7.382 4H4a1 1 0 000 2v10a2 2 0 002 2h8a2 2 0 002-2V6a1 1 0 100-2h-3.382l-.724-1.447A1 1 0 0011 2H9zM7 8a1 1 0 012 0v6a1 1 0 11-2 0V8zm5-1a1 1 0 00-1 1v6a1 1 0 102 0V8a1 1 0 00-1-1z",clipRule:"evenodd"})]}),Ou=({className:o,title:i})=>h.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:o||"w-6 h-6","aria-hidden":i?void 0:"true",role:i?"img":void 0,children:[i&&h.jsx("title",{children:i}),h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6.042A8.967 8.967 0 006 3.75c-1.052 0-2.062.18-3 .512v14.25A8.987 8.987 0 016 18c2.305 0 4.408.867 6 2.292m0-14.25a8.966 8.966 0 016-2.292c1.052 0 2.062.18 3 .512v14.25A8.987 8.987 0 0018 18a8.967 8.967 0 00-6 2.292m0-14.25v14.25"})]}),Zh=({className:o,title:i})=>h.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:o||"w-5 h-5","aria-hidden":i?void 0:"true",role:i?"img":void 0,children:[i&&h.jsx("title",{children:i}),h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 01-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 011.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 00-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 01-1.125-1.125v-9.25m9.75 0l-4.5-4.5m0 0l-4.5 4.5M12.75 3v4.5A2.25 2.25 0 0015 9.75h4.5"})]}),Sa=({className:o,title:i})=>h.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:o||"w-5 h-5","aria-hidden":i?void 0:"true",role:i?"img":void 0,children:[i&&h.jsx("title",{children:i}),h.jsx("path",{d:"M10 3.515V11.24a3.513 3.513 0 00-1.5-.406c-1.313 0-2.388.752-2.388 1.672S7.187 14.18 8.5 14.18c1.238 0 2.263-.672 2.375-1.537h.125v-7.14c0-.313.11-.604.313-.828.202-.224.494-.344.812-.344.625 0 1.125.5 1.125 1.125V11.24a3.513 3.513 0 00-1.5-.406c-1.313 0-2.388.752-2.388 1.672S10.187 14.18 11.5 14.18c1.313 0 2.388-.752 2.388-1.672a1.675 1.675 0 00-1.078-1.543V3.515A2.625 2.625 0 0010 1C8.619 1 7.5 2.12 7.5 3.5V11.24A3.513 3.513 0 006 10.833c-1.313 0-2.388.752-2.388 1.672S4.687 14.18 6 14.18c1.237 0 2.262-.672 2.375-1.537h.125V6.125C8.5 4.5 9.125 3.515 10 3.515z"})]}),Hu=({className:o,title:i})=>h.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:o||"w-5 h-5","aria-hidden":i?void 0:"true",role:i?"img":void 0,children:[i&&h.jsx("title",{children:i}),h.jsx("path",{d:"M10.75 4.75a.75.75 0 00-1.5 0v4.5h-4.5a.75.75 0 000 1.5h4.5v4.5a.75.75 0 001.5 0v-4.5h4.5a.75.75 0 000-1.5h-4.5v-4.5z"})]}),es=({className:o,title:i})=>h.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:o||"w-5 h-5","aria-hidden":i?void 0:"true",role:i?"img":void 0,children:[i&&h.jsx("title",{children:i}),h.jsx("path",{fillRule:"evenodd",d:"M6.516 4.42A1.5 1.5 0 004 5.662v8.676a1.5 1.5 0 002.516 1.242l6.712-4.338a1.5 1.5 0 000-2.484L6.516 4.42z",clipRule:"evenodd"})]}),l1=({className:o,title:i})=>h.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:o||"w-5 h-5","aria-hidden":i?void 0:"true",role:i?"img":void 0,children:[i&&h.jsx("title",{children:i}),h.jsx("path",{fillRule:"evenodd",d:"M5 5a1 1 0 00-1 1v8a1 1 0 001 1h8a1 1 0 001-1V6a1 1 0 00-1-1H5zm0-2a3 3 0 00-3 3v8a3 3 0 003 3h8a3 3 0 003-3V6a3 3 0 00-3-3H5z",clipRule:"evenodd"})]}),qu=({className:o,isSpinning:i,title:l})=>h.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:`${o||"w-5 h-5"} ${i?"animate-spin":""}`,"aria-hidden":l?void 0:"true",role:l?"img":void 0,children:[l&&h.jsx("title",{children:l}),h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.023 9.348h4.992v-.001M2.985 19.644v-4.992m0 0h4.992m-4.993 0l3.181 3.183a8.25 8.25 0 0013.803-3.7M4.031 9.865a8.25 8.25 0 0113.803-3.7l3.181 3.182m0-4.991v4.99"})]}),a1=({className:o,title:i})=>h.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:o||"w-5 h-5","aria-hidden":i?void 0:"true",role:i?"img":void 0,children:[i&&h.jsx("title",{children:i}),h.jsx("path",{fillRule:"evenodd",d:"M18 7H2a1 1 0 00-1 1v6a1 1 0 001 1h16a1 1 0 001-1V8a1 1 0 00-1-1zM2 9.5v3h16v-3H2z",clipRule:"evenodd"}),h.jsx("path",{d:"M4 11h1v1H4v-1zm2 0h1v1H6v-1zm2 0h1v1H8v-1zm2 0h1v1h-1v-1zm2 0h1v1h-1v-1zm2 0h1v1h-1v-1z"})]}),o1=({className:o,title:i})=>h.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:o||"w-6 h-6","aria-hidden":i?void 0:"true",role:i?"img":void 0,children:[i&&h.jsx("title",{children:i}),h.jsx("rect",{x:"3.5",y:"3.5",width:"17",height:"17",rx:"2",stroke:"currentColor",fill:"none",strokeWidth:"1.5"})]}),s1=({className:o,title:i})=>h.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:o||"w-5 h-5","aria-hidden":i?void 0:"true",role:i?"img":void 0,children:[i&&h.jsx("title",{children:i}),h.jsx("path",{fillRule:"evenodd",d:"M3 3a1 1 0 011-1h12a1 1 0 011 1v12a1 1 0 01-1 1H4a1 1 0 01-1-1V3zm10.707 3.707a1 1 0 00-1.414-1.414L8 9.586 6.707 8.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l5-5z",clipRule:"evenodd"})]}),Qu=({className:o,title:i})=>h.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:o||"w-6 h-6","aria-hidden":i?void 0:"true",role:i?"img":void 0,children:[i&&h.jsx("title",{children:i}),h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"})]}),ts=({className:o,title:i})=>h.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:o||"w-6 h-6","aria-hidden":i?void 0:"true",role:i?"img":void 0,children:[i&&h.jsx("title",{children:i}),h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 16.5v2.25A2.25 2.25 0 005.25 21h13.5A2.25 2.25 0 0021 18.75V16.5m-13.5-9L12 3m0 0l4.5 4.5M12 3v13.5"})]}),Ri=({className:o,title:i})=>h.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:o||"w-6 h-6","aria-hidden":i?void 0:"true",role:i?"img":void 0,children:[i&&h.jsx("title",{children:i}),h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.5 6h9.75M10.5 6a2.25 2.25 0 11-4.5 0m4.5 0a2.25 2.25 0 10-4.5 0M3.75 6H7.5m3 12h9.75m-9.75 0a2.25 2.25 0 01-4.5 0m4.5 0a2.25 2.25 0 00-4.5 0M3.75 18H7.5M10.5 12h9.75M10.5 12a2.25 2.25 0 01-4.5 0m4.5 0a2.25 2.25 0 00-4.5 0M3.75 12H7.5"})]}),r1=({className:o,title:i})=>h.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:o||"w-6 h-6","aria-hidden":i?void 0:"true",role:i?"img":void 0,children:[i&&h.jsx("title",{children:i}),h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.862 4.487l1.687-1.688a1.875 1.875 0 112.652 2.652L10.582 16.07a4.5 4.5 0 01-1.897 1.13L6 18l.8-2.685a4.5 4.5 0 011.13-1.897l8.932-8.931zm0 0L19.5 7.125M18 14v4.75A2.25 2.25 0 0115.75 21H5.25A2.25 2.25 0 013 18.75V8.25A2.25 2.25 0 015.25 6H10"})]});function u1(o){return typeof o=="number"}function c1(o){return typeof o=="string"}function d1(o){return typeof o<"u"}function f1(o,i){return Math.pow(2,(o-69)/12)*440}var m1=/^([a-gA-G])(#{1,}|b{1,}|x{1,}|)(-?\d*)\s*(.*)\s*$/,h1=[0,2,4,5,7,9,11];function g1(o,i,l){if(typeof o!="string")return null;var s=m1.exec(o);if(!s||s[4])return null;var u={letter:s[1].toUpperCase(),acc:s[2].replace(/x/g,"##")};u.pc=u.letter+u.acc,u.step=(u.letter.charCodeAt(0)+3)%7,u.alt=u.acc[0]==="b"?-u.acc.length:u.acc.length;var m=h1[u.step]+u.alt;return u.chroma=m<0?12+m:m%12,s[3]&&(u.oct=+s[3],u.midi=m+12*(u.oct+1),u.freq=f1(u.midi)),u}function p1(o){if((u1(o)||c1(o))&&o>=0&&o<128)return+o;var i=g1(o);return i&&d1(i.midi)?i.midi:null}function y1(o){return Array.isArray(o)&&o.length===2?o[0]*7+o[1]*12+12:p1(o)}var v1="C Db D Eb E F Gb G Ab A Bb B".split(" "),x1="C C# D D# E F F# G G# A A# B".split(" ");function Cg(o,i){if(o===!0||o===!1)return function(m){return Cg(m,o)};o=Math.round(o);var l=i===!0?x1:v1,s=l[o%12],u=Math.floor(o/12)-1;return s+u}const T1=Object.freeze(Object.defineProperty({__proto__:null,note:Cg,toMidi:y1},Symbol.toStringTag,{value:"Module"})),b1=L0(T1);var _u,$h;function S1(){if($h)return _u;$h=1;var o=b1,i={VERSION:"2.1.4",HEADER_CHUNK_TYPE:[77,84,104,100],HEADER_CHUNK_LENGTH:[0,0,0,6],HEADER_CHUNK_FORMAT0:[0,0],HEADER_CHUNK_FORMAT1:[0,1],HEADER_CHUNK_DIVISION:[0,128],TRACK_CHUNK_TYPE:[77,84,114,107],META_EVENT_ID:255,META_TEXT_ID:1,META_COPYRIGHT_ID:2,META_TRACK_NAME_ID:3,META_INSTRUMENT_NAME_ID:4,META_LYRIC_ID:5,META_MARKER_ID:6,META_CUE_POINT:7,META_TEMPO_ID:81,META_SMTPE_OFFSET:84,META_TIME_SIGNATURE_ID:88,META_KEY_SIGNATURE_ID:89,META_END_OF_TRACK_ID:[47,0],CONTROLLER_CHANGE_STATUS:176,PITCH_BEND_STATUS:224};function l(U){"@babel/helpers - typeof";return l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(N){return typeof N}:function(N){return N&&typeof Symbol=="function"&&N.constructor===Symbol&&N!==Symbol.prototype?"symbol":typeof N},l(U)}function s(){s=function(E,R){return new A(E,void 0,R)};var U=RegExp.prototype,N=new WeakMap;function A(E,R,D){var O=new RegExp(E,R);return N.set(O,D||N.get(E)),v(O,A.prototype)}function S(E,R){var D=N.get(R);return Object.keys(D).reduce(function(O,X){return O[X]=E[D[X]],O},Object.create(null))}return y(A,RegExp),A.prototype.exec=function(E){var R=U.exec.call(this,E);return R&&(R.groups=S(R,this)),R},A.prototype[Symbol.replace]=function(E,R){if(typeof R=="string"){var D=N.get(this);return U[Symbol.replace].call(this,E,R.replace(/\$<([^>]+)>/g,function(X,Q){return"$"+D[Q]}))}if(typeof R=="function"){var O=this;return U[Symbol.replace].call(this,E,function(){var X=arguments;return typeof X[X.length-1]!="object"&&(X=[].slice.call(X)).push(S(X,O)),R.apply(this,X)})}return U[Symbol.replace].call(this,E,R)},s.apply(this,arguments)}function u(U,N){if(!(U instanceof N))throw new TypeError("Cannot call a class as a function")}function m(U,N){for(var A=0;A<N.length;A++){var S=N[A];S.enumerable=S.enumerable||!1,S.configurable=!0,"value"in S&&(S.writable=!0),Object.defineProperty(U,S.key,S)}}function p(U,N,A){return N&&m(U.prototype,N),A&&m(U,A),Object.defineProperty(U,"prototype",{writable:!1}),U}function y(U,N){if(typeof N!="function"&&N!==null)throw new TypeError("Super expression must either be null or a function");U.prototype=Object.create(N&&N.prototype,{constructor:{value:U,writable:!0,configurable:!0}}),Object.defineProperty(U,"prototype",{writable:!1}),N&&v(U,N)}function v(U,N){return v=Object.setPrototypeOf||function(S,E){return S.__proto__=E,S},v(U,N)}var g=function(){function U(){u(this,U)}return p(U,null,[{key:"version",value:function(){return i.VERSION}},{key:"stringToBytes",value:function(A){return A.split("").map(function(S){return S.charCodeAt()})}},{key:"isNumeric",value:function(A){return!isNaN(parseFloat(A))&&isFinite(A)}},{key:"getPitch",value:function(A){var S=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"C4";return 60-o.toMidi(S)+o.toMidi(A)}},{key:"numberToVariableLength",value:function(A){A=Math.round(A);for(var S=A&127;A=A>>7;)S<<=8,S|=A&127|128;for(var E=[];E.push(S&255),S&128;)S>>=8;return E}},{key:"stringByteCount",value:function(A){return encodeURI(A).split(/%..|./).length-1}},{key:"numberFromBytes",value:function(A){var S="",E;return A.forEach(function(R){E=R.toString(16),E.length==1&&(E="0"+E),S+=E}),parseInt(S,16)}},{key:"numberToBytes",value:function(A,S){S=S||1;var E=A.toString(16);E.length&1&&(E="0"+E);var R=E.match(/.{2}/g);if(R=R.map(function(D){return parseInt(D,16)}),R.length<S)for(;S-R.length>0;)R.unshift(0);return R}},{key:"toArray",value:function(A){return Array.isArray(A)?A:[A]}},{key:"convertVelocity",value:function(A){return A=A>100?100:A,Math.round(A/100*127)}},{key:"getTickDuration",value:function(A){if(Array.isArray(A))return A.map(function(D){return U.getTickDuration(D)}).reduce(function(D,O){return D+O},0);if(A=A.toString(),A.toLowerCase().charAt(0)==="t"){var S=parseInt(A.substring(1));if(isNaN(S)||S<0)throw new Error(A+" is not a valid duration.");return S}var E=U.numberFromBytes(i.HEADER_CHUNK_DIVISION),R=E*U.getDurationMultiplier(A);return U.getRoundedIfClose(R)}},{key:"getRoundedIfClose",value:function(A){var S=Math.round(A);return Math.abs(S-A)<1e-6?S:A}},{key:"getPrecisionLoss",value:function(A){var S=Math.round(A);return S-A}},{key:"getDurationMultiplier",value:function(A){if(A==="0")return 0;var S=A.match(s(/^(d+)?(\d+)(?:t(\d*))?/,{dotted:1,base:2,tuplet:3}));if(S){var E=Number(S.groups.base),R=E===1||(E&E-1)===0;if(R){var D=E/4,O=1/D,X=S.groups,Q=X.dotted,ue=X.tuplet;if(Q){var de=Q.length,Ie=Math.pow(2,de);O=O+O*((Ie-1)/Ie)}if(typeof ue=="string"){var ot=O*2,dt=Number(ue||"3");O=ot/dt}return O}}throw new Error(A+" is not a valid duration.")}}]),U}(),T=p(function U(N){u(this,U),N=Object.assign({delta:0},N),this.type="controller",this.data=g.numberToVariableLength(N.delta).concat(i.CONTROLLER_CHANGE_STATUS,N.controllerNumber,N.controllerValue)}),C=p(function U(N){u(this,U),N=Object.assign({delta:0},N),this.type="cue-point";var A=g.stringToBytes(N.text);this.data=g.numberToVariableLength(N.delta).concat(i.META_EVENT_ID,i.META_CUE_POINT,g.numberToVariableLength(A.length),A)}),_=p(function U(N){u(this,U),N=Object.assign({delta:0},N),this.type="end-track",this.data=g.numberToVariableLength(N.delta).concat(i.META_EVENT_ID,i.META_END_OF_TRACK_ID)}),L=p(function U(N){u(this,U),N=Object.assign({delta:0},N),this.type="instrument-name";var A=g.stringToBytes(N.text);this.data=g.numberToVariableLength(N.delta).concat(i.META_EVENT_ID,i.META_INSTRUMENT_NAME_ID,g.numberToVariableLength(A.length),A)}),G=p(function U(N,A){u(this,U),this.type="key-signature";var S=A||0;if(N=N||0,typeof A>"u"){var E=[["Cb","Gb","Db","Ab","Eb","Bb","F","C","G","D","A","E","B","F#","C#"],["ab","eb","bb","f","c","g","d","a","e","b","f#","c#","g#","d#","a#"]],R=N.length,D=N||"C";if(N[0]===N[0].toLowerCase()&&(S=1),R>1)switch(N.charAt(R-1)){case"m":S=1,D=N.charAt(0).toLowerCase(),D=D.concat(N.substring(1,R-1));break;case"-":S=1,D=N.charAt(0).toLowerCase(),D=D.concat(N.substring(1,R-1));break;case"M":S=0,D=N.charAt(0).toUpperCase(),D=D.concat(N.substring(1,R-1));break;case"+":S=0,D=N.charAt(0).toUpperCase(),D=D.concat(N.substring(1,R-1));break}var O=E[S].indexOf(D);N=O===-1?0:O-7}this.data=g.numberToVariableLength(0).concat(i.META_EVENT_ID,i.META_KEY_SIGNATURE_ID,[2],g.numberToBytes(N,1),g.numberToBytes(S,1))}),K=p(function U(N){u(this,U),N=Object.assign({delta:0},N),this.type="lyric";var A=g.stringToBytes(N.text);this.data=g.numberToVariableLength(N.delta).concat(i.META_EVENT_ID,i.META_LYRIC_ID,g.numberToVariableLength(A.length),A)}),F=p(function U(N){u(this,U),N=Object.assign({delta:0},N),this.type="marker";var A=g.stringToBytes(N.text);this.data=g.numberToVariableLength(N.delta).concat(i.META_EVENT_ID,i.META_MARKER_ID,g.numberToVariableLength(A.length),A)}),$=function(){function U(N){u(this,U),N=Object.assign({channel:1,startTick:null,velocity:50,wait:0},N),this.type="note-on",this.channel=N.channel,this.pitch=N.pitch,this.wait=N.wait,this.velocity=N.velocity,this.startTick=N.startTick,this.tick=null,this.delta=null,this.data=N.data}return p(U,[{key:"buildData",value:function(A,S){var E=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this.data=[],this.startTick?(this.tick=g.getRoundedIfClose(this.startTick),A.tickPointer==0&&(this.delta=this.tick)):(this.delta=g.getTickDuration(this.wait),this.tick=g.getRoundedIfClose(A.tickPointer+this.delta)),this.deltaWithPrecisionCorrection=g.getRoundedIfClose(this.delta-S),this.data=g.numberToVariableLength(this.deltaWithPrecisionCorrection).concat(this.getStatusByte(),g.getPitch(this.pitch,E.middleC),g.convertVelocity(this.velocity)),this}},{key:"getStatusByte",value:function(){return 144+this.channel-1}}]),U}(),ee=function(){function U(N){u(this,U),N=Object.assign({channel:1,velocity:50,tick:null},N),this.type="note-off",this.channel=N.channel,this.pitch=N.pitch,this.duration=N.duration,this.velocity=N.velocity,this.tick=N.tick,this.delta=g.getTickDuration(this.duration),this.data=N.data}return p(U,[{key:"buildData",value:function(A,S){var E=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this.tick===null&&(this.tick=g.getRoundedIfClose(this.delta+A.tickPointer)),this.deltaWithPrecisionCorrection=g.getRoundedIfClose(this.delta-S),this.data=g.numberToVariableLength(this.deltaWithPrecisionCorrection).concat(this.getStatusByte(),g.getPitch(this.pitch,E.middleC),g.convertVelocity(this.velocity)),this}},{key:"getStatusByte",value:function(){return 128+this.channel-1}}]),U}(),ie=function(){function U(N){u(this,U),N=Object.assign({channel:1,repeat:1,sequential:!1,startTick:null,velocity:50,wait:0},N),this.data=[],this.type="note",this.pitch=g.toArray(N.pitch),this.channel=N.channel,this.duration=N.duration,this.grace=N.grace,this.repeat=N.repeat,this.sequential=N.sequential,this.startTick=N.startTick,this.velocity=N.velocity,this.wait=N.wait,this.tickDuration=g.getTickDuration(this.duration),this.restDuration=g.getTickDuration(this.wait),this.events=[]}return p(U,[{key:"buildData",value:function(){var A=this;if(this.data=[],this.grace){var S=1;this.grace=g.toArray(this.grace),this.grace.forEach(function(){var D=new U({pitch:A.grace,duration:"T"+S});A.data=A.data.concat(D.data)})}if(this.sequential)for(var R=0;R<this.repeat;R++)this.pitch.forEach(function(D,O){var X=new $({channel:A.channel,wait:O>0?0:A.wait,velocity:A.velocity,pitch:D,startTick:A.startTick}),Q=new ee({channel:A.channel,duration:A.duration,velocity:A.velocity,pitch:D});A.events.push(X,Q)});else for(var E=0;E<this.repeat;E++)this.pitch.forEach(function(D,O){var X;O==0?X=new $({channel:A.channel,wait:A.wait,velocity:A.velocity,pitch:D,startTick:A.startTick}):X=new $({channel:A.channel,wait:0,velocity:A.velocity,pitch:D,startTick:A.startTick}),A.events.push(X)}),this.pitch.forEach(function(D,O){var X;O==0?X=new ee({channel:A.channel,duration:A.duration,velocity:A.velocity,pitch:D,tick:A.startTick!==null?g.getTickDuration(A.duration)+A.startTick:null}):X=new ee({channel:A.channel,duration:0,velocity:A.velocity,pitch:D,tick:A.startTick!==null?g.getTickDuration(A.duration)+A.startTick:null}),A.events.push(X)});return this}}]),U}(),J=function(N){return N<=0?Math.floor(16384*(N+1)/2):Math.floor(16383*(N+1)/2)},W=p(function U(N){u(this,U),N=Object.assign({delta:0},N),this.type="pitch-bend";var A=J(N.bend),S=N.channel||0,E=A&127,R=A>>7&127;this.data=g.numberToVariableLength(N.delta).concat(i.PITCH_BEND_STATUS|S,E,R)}),He=function(){function U(N){u(this,U),this.fields=Object.assign({channel:1,delta:0},N),this.type="program",this.data=g.numberToVariableLength(this.fields.delta).concat(this.getStatusByte(),this.fields.instrument)}return p(U,[{key:"getStatusByte",value:function(){return 192+this.fields.channel-1}}]),U}(),Ae=p(function U(N){u(this,U),N=Object.assign({delta:0},N),this.type="tempo",this.tick=N.tick;var A=Math.round(6e7/N.bpm);this.data=g.numberToVariableLength(N.delta).concat(i.META_EVENT_ID,i.META_TEMPO_ID,[3],g.numberToBytes(A,3))}),be=p(function U(N){u(this,U),N=Object.assign({delta:0},N),this.type="text";var A=g.stringToBytes(N.text);this.data=g.numberToVariableLength(N.delta).concat(i.META_EVENT_ID,i.META_TEXT_ID,g.numberToVariableLength(A.length),A)}),Se=p(function U(N,A,S,E){u(this,U),this.type="time-signature",this.data=g.numberToVariableLength(0).concat(i.META_EVENT_ID,i.META_TIME_SIGNATURE_ID,[4],g.numberToBytes(N,1),g.numberToBytes(Math.log2(A),1),g.numberToBytes(S||24,1),g.numberToBytes(E||8,1))}),ze=p(function U(N){u(this,U),N=Object.assign({delta:0},N),this.type="copyright";var A=g.stringToBytes(N.text);this.data=g.numberToVariableLength(N.delta).concat(i.META_EVENT_ID,i.META_COPYRIGHT_ID,g.numberToVariableLength(A.length),A)}),qe=p(function U(N){u(this,U),N=Object.assign({delta:0},N),this.type="track-name";var A=g.stringToBytes(N.text);this.data=g.numberToVariableLength(N.delta).concat(i.META_EVENT_ID,i.META_TRACK_NAME_ID,g.numberToVariableLength(A.length),A)}),Le=function(){function U(){u(this,U),this.type=i.TRACK_CHUNK_TYPE,this.data=[],this.size=[],this.events=[],this.explicitTickEvents=[],this.tickPointer=0}return p(U,[{key:"addEvent",value:function(A,S){var E=this;return g.toArray(A).forEach(function(R,D){if(R instanceof ie){if(typeof S=="function"){var O=S(D,R);if(l(O)==="object")for(var X in O)switch(X){case"channel":R.channel=O[X];break;case"duration":R.duration=O[X];break;case"sequential":R.sequential=O[X];break;case"velocity":R.velocity=g.convertVelocity(O[X]);break}}R.startTick!==null?E.explicitTickEvents.push(R):R.buildData().events.forEach(function(Q){return E.events.push(Q)})}else R instanceof _&&E.removeEventsByType("end-track"),E.events.push(R)}),this}},{key:"buildData",value:function(){var A=this,S=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};(!this.events.length||!(this.events[this.events.length-1]instanceof _))&&this.addEvent(new _),this.data=[],this.size=[],this.tickPointer=0;var E=0;return this.events.forEach(function(R){if(R instanceof $||R instanceof ee){var D=R.buildData(A,E,S);E=g.getPrecisionLoss(R.deltaWithPrecisionCorrection||0),A.data=A.data.concat(D.data),A.tickPointer=g.getRoundedIfClose(R.tick)}else R instanceof Ae&&(A.tickPointer=g.getRoundedIfClose(R.tick)),A.data=A.data.concat(R.data)}),this.mergeExplicitTickEvents(),this.size=g.numberToBytes(this.data.length,4),this}},{key:"mergeExplicitTickEvents",value:function(){var A=this;this.explicitTickEvents.length&&(this.explicitTickEvents.sort(function(S,E){return S.startTick-E.startTick}),this.explicitTickEvents.forEach(function(S){S.buildData().events.forEach(function(E){return E.buildData(A)}),S.events.forEach(function(E){return A.mergeSingleEvent(E)})}),this.explicitTickEvents=[],this.buildData())}},{key:"mergeTrack",value:function(A){var S=this;this.buildData(),A.buildData().events.forEach(function(E){return S.mergeSingleEvent(E)})}},{key:"mergeSingleEvent",value:function(A){if(!this.events.length){this.addEvent(A);return}for(var S,E=0;E<this.events.length&&!(this.events[E].tick>A.tick);E++)S=E;var R=S+1;A.delta=A.tick-this.events[S].tick,this.events.splice(R,0,A);for(var D=R+1;D<this.events.length;D++)this.events[D].delta=this.events[D].tick-this.events[D-1].tick}},{key:"removeEventsByType",value:function(A){var S=this;return this.events.forEach(function(E,R){E.type===A&&S.events.splice(R,1)}),this}},{key:"setTempo",value:function(A){var S=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return this.addEvent(new Ae({bpm:A,tick:S}))}},{key:"setTimeSignature",value:function(A,S,E,R){return this.addEvent(new Se(A,S,E,R))}},{key:"setKeySignature",value:function(A,S){return this.addEvent(new G(A,S))}},{key:"addText",value:function(A){return this.addEvent(new be({text:A}))}},{key:"addCopyright",value:function(A){return this.addEvent(new ze({text:A}))}},{key:"addTrackName",value:function(A){return this.addEvent(new qe({text:A}))}},{key:"addInstrumentName",value:function(A){return this.addEvent(new L({text:A}))}},{key:"addMarker",value:function(A){return this.addEvent(new F({text:A}))}},{key:"addCuePoint",value:function(A){return this.addEvent(new C({text:A}))}},{key:"addLyric",value:function(A){return this.addEvent(new K({text:A}))}},{key:"polyModeOn",value:function(){var A=new $({data:[0,176,126,0]});return this.addEvent(A)}},{key:"setPitchBend",value:function(A){return this.addEvent(new W({bend:A}))}},{key:"controllerChange",value:function(A,S){return this.addEvent(new T({controllerNumber:A,controllerValue:S}))}}]),U}(),yt=function(){function U(){u(this,U)}return p(U,[{key:"trackFromVoice",value:function(A){var S=this,E=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{addRenderedAccidentals:!1},R=new Le,D=[];return A.tickables.forEach(function(O){O.noteType==="n"?(R.addEvent(new ie({pitch:O.keys.map(function(X,Q){return S.convertPitch(X,Q,O,E.addRenderedAccidentals)}),duration:S.convertDuration(O),wait:D})),D=[]):O.noteType==="r"&&D.push(S.convertDuration(O))}),D.length>0&&R.addEvent(new ie({pitch:"[c4]",duration:"0",wait:D,velocity:"0"})),R}},{key:"convertPitch",value:function(A,S,E){var R=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1,D=A.split("/"),O=D[0].substring(1).replace("n","");if(R){var X;(X=E.getAccidentals())===null||X===void 0||X.forEach(function(Q){Q.index===S&&(Q.type==="n"?O="":O+=Q.type)})}return D[0][0]+O+D[1]}},{key:"convertDuration",value:function(A){return"d".repeat(A.dots)+this.convertBaseDuration(A.duration)+(A.tuplet?"t"+A.tuplet.num_notes:"")}},{key:"convertBaseDuration",value:function(A){switch(A){case"w":return"1";case"h":return"2";case"q":return"4";default:return A}}}]),U}(),Pe=p(function U(N){u(this,U),this.type=i.HEADER_CHUNK_TYPE;var A=N>1?i.HEADER_CHUNK_FORMAT1:i.HEADER_CHUNK_FORMAT0;this.data=A.concat(g.numberToBytes(N,2),i.HEADER_CHUNK_DIVISION),this.size=[0,0,0,this.data.length]}),Ge=function(){function U(N){var A=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};u(this,U),this.tracks=g.toArray(N),this.options=A}return p(U,[{key:"buildData",value:function(){var A=this,S=[];return S.push(new Pe(this.tracks.length)),this.tracks.forEach(function(E){S.push(E.buildData(A.options))}),S}},{key:"buildFile",value:function(){var A=[];return this.buildData().forEach(function(S){return A=A.concat(S.type,S.size,S.data)}),new Uint8Array(A)}},{key:"base64",value:function(){return typeof btoa=="function"?btoa(String.fromCharCode.apply(null,this.buildFile())):Buffer.from(this.buildFile()).toString("base64")}},{key:"dataUri",value:function(){return"data:audio/midi;base64,"+this.base64()}},{key:"setOption",value:function(A,S){return this.options[A]=S,this}},{key:"stdout",value:function(){return process.stdout.write(Buffer.from(this.buildFile()))}}]),U}(),z={Constants:i,ControllerChangeEvent:T,CuePointEvent:C,EndTrackEvent:_,InstrumentNameEvent:L,KeySignatureEvent:G,LyricEvent:K,MarkerEvent:F,NoteOnEvent:$,NoteOffEvent:ee,NoteEvent:ie,PitchBendEvent:W,ProgramChangeEvent:He,TempoEvent:Ae,TextEvent:be,TimeSignatureEvent:Se,Track:Le,TrackNameEvent:qe,Utils:g,VexFlow:yt,Writer:Ge};return _u=z,_u}var E1=S1();const dn=Fu(E1),Yo=o=>{if(!dn.Track)return null;const i=new dn.Track;return i.addTrackName(o),i},wu=(o,i,l,s=!1)=>{!dn.NoteEvent||!i||i.length===0||!o||i.forEach(u=>{let m=[];if(s)m=u.notes.map(y=>y.midi).filter(y=>typeof y=="number");else{const p=u;typeof p.midi=="number"&&(m=[p.midi])}if(m.length>0){const p=Math.round(u.duration*128),y=Math.round(u.time*128),v=m.map(g=>{const T=["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"],C=Math.floor(g/12)-1;return`${T[g%12]}${C}`});o.addEvent(new dn.NoteEvent({pitch:v.length===1?v[0]:v,duration:`T${p}`,startTick:y,velocity:u.velocity||(s?90:100),channel:l}))}})},C1=(o,i)=>{!dn.NoteEvent||!i||Object.keys(i).length===0||!o||Object.entries(i).forEach(([l,s])=>{const u=l.toLowerCase().replace(/\s+/g,"_"),m=Wo[u]||Wo[l];typeof m!="number"||!s||s.forEach(p=>{const y=Math.round(p.duration*128),v=Math.round(p.time*128),g=["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"],T=Math.floor(m/12)-1,_=`${g[m%12]}${T}`;o.addEvent(new dn.NoteEvent({pitch:_,duration:`T${y}`,startTick:v,velocity:p.velocity||100,channel:10}))})})},Wh=(o,i,l="TrackGuide")=>{if(!dn||!dn.Writer||!dn.Track||!dn.NoteEvent)return console.error("MidiWriterJS components (Writer, Track, NoteEvent) are not loaded. Cannot generate MIDI file."),null;const s=[];let u=!1;const m=y=>(y&&(y.setTempo(i.tempo,0),y.setTimeSignature(i.timeSignature[0],i.timeSignature[1])),y);if(o.chords&&o.chords.length>0){let y=Yo(`${l} Chords`);y=m(y),y&&(wu(y,o.chords,1,!0),s.push(y),u=!0)}if(o.bassline&&o.bassline.length>0){let y=Yo(`${l} Bassline`);y=m(y),y&&(wu(y,o.bassline,2,!1),s.push(y),u=!0)}if(o.melody&&o.melody.length>0){let y=Yo(`${l} Melody`);y=m(y),y&&(wu(y,o.melody,3,!1),s.push(y),u=!0)}if(o.drums&&Object.keys(o.drums).length>0){let y=Yo(`${l} Drums`);y=m(y),y&&(C1(y,o.drums),s.push(y),u=!0)}return u?new dn.Writer(s).dataUri():(console.warn("No patterns to write to MIDI file."),null)},eg=(o,i)=>{if(!o){console.error("MIDI data URI is null or empty. Cannot download."),alert("Failed to generate MIDI data for download.");return}const l=document.createElement("a");l.href=o,l.download=i,document.body.appendChild(l),l.click(),document.body.removeChild(l)};let ai=null,oi=[],ns=null,Xo=null,is=0,Ca=0,xl=!1;const Ju=()=>((!ai||ai.state==="closed")&&(ai=new(window.AudioContext||window.webkitAudioContext),ns=ai.createGain(),ns.connect(ai.destination)),ai.state==="suspended"&&ai.resume(),ai),Di=(o,i)=>o/i*60,Ru=(o,i,l,s=100,u=!1,m,p)=>{const y=Ju();if(!ns||!p)return;const v=is+Ca*Ng()+i;if(v<y.currentTime-.05)return;const g=y.createGain(),T=s/127*(u?.75:.35);let C=T;if(g.gain.setValueAtTime(C,v),C>1e-4)try{g.gain.exponentialRampToValueAtTime(1e-4,v+l)}catch{g.gain.linearRampToValueAtTime(1e-4,v+l)}g.connect(ns);let _;if(u)if(m==="kick"){const L=y.createOscillator();L.type="sine",L.frequency.setValueAtTime(150,v),L.frequency.exponentialRampToValueAtTime(50,v+Math.min(l,.12));const G=y.createGain();G.gain.setValueAtTime(1,v),G.gain.exponentialRampToValueAtTime(.001,v+l),L.connect(G).connect(g),L.start(v),L.stop(v+l),oi.push({node:L,controlGainNode:g,trackType:p,intendedVolume:T,scheduledStopTime:v+l,isDrum:!0});return}else{_=y.createBufferSource();const L=Math.max(1,Math.floor(y.sampleRate*l)),G=y.createBuffer(1,L,y.sampleRate),K=G.getChannelData(0);if(m==="snare"||m==="clap")for(let F=0;F<L;F++)K[F]=(Math.random()*2-1)*Math.exp(-F/(y.sampleRate*.05));else if(m&&(m.includes("hat")||m.includes("cymbal")||m.includes("shaker"))){const F=m.includes("hat")?5e3:m.includes("shaker")?7e3:3e3,$=m.includes("hat")?.03:m.includes("shaker")?.02:.25;for(let ee=0;ee<L;ee++)K[ee]=(Math.random()*2-1)*Math.exp(-ee/(y.sampleRate*$))*Math.sin(2*Math.PI*F*(ee/y.sampleRate)*(1+Math.random()*.3))}else{const F=y.createOscillator();F.type="sine",F.frequency.setValueAtTime(200+Math.random()*150,v),F.frequency.exponentialRampToValueAtTime(100,v+l*.8);const $=y.createGain();$.gain.setValueAtTime(.9,v),$.gain.exponentialRampToValueAtTime(.001,v+l),F.connect($).connect(g),F.start(v),F.stop(v+l),oi.push({node:F,controlGainNode:g,trackType:p,intendedVolume:T,scheduledStopTime:v+l,isDrum:!0});return}_.buffer=G}else{_=y.createOscillator(),_.type="sawtooth";const L=440*Math.pow(2,(o-69)/12);_.frequency.setValueAtTime(L,v)}_.connect(g),_.start(v),_.stop(v+l),oi.push({node:_,controlGainNode:g,trackType:p,intendedVolume:T,scheduledStopTime:v+l,isDrum:u})};let Pu=null;const Ng=()=>{if(!Pu)throw new Error("Settings not available for loop duration calculation.");const{tempo:o,bars:i,timeSignature:l}=Pu,s=l[0]*(4/l[1]);return Di(i*s,o)},tg=(o,i,l)=>{Ag(!1),xl=!0,Ca=0,Pu={...i};const s=Ju();is=s.currentTime,oi=[];const u=Ng();if(u<=0){console.error("Loop duration is zero or negative. Cannot play."),xl=!1;return}function m(){if(!xl)return;const p=s.currentTime;oi=oi.filter(T=>T.scheduledStopTime>p||!T.node);const y=i.tempo,v=(T,C)=>{C&&(T==="drums"&&typeof C=="object"&&!Array.isArray(C)?Object.entries(C).forEach(([_,L])=>{const G=_.toLowerCase().replace(/\s+/g,"_"),K=Wo[G]||Wo[_];typeof K!="number"||!L||L.forEach(F=>{Ru(K,Di(F.time,y),Di(F.duration,y),F.velocity,!0,G,T)})}):Array.isArray(C)&&C.forEach(_=>{"notes"in _?_.notes.forEach(G=>{typeof G.midi=="number"&&Ru(G.midi,Di(_.time,y),Di(_.duration,y),_.velocity,!1,void 0,T)}):typeof _.midi=="number"&&Ru(_.midi,Di(_.time,y),Di(_.duration,y),_.velocity,!1,void 0,T)}))};if((l?[l]:["chords","bassline","melody","drums"]).forEach(T=>{switch(T){case"chords":o.chords&&v("chords",o.chords);break;case"bassline":o.bassline&&v("bassline",o.bassline);break;case"melody":o.melody&&v("melody",o.melody);break;case"drums":o.drums&&v("drums",o.drums);break}}),xl){const T=is+(Ca+1)*u;let C=(T-s.currentTime)*1e3;C<0&&(console.warn(`Loop drift detected. Next loop scheduled with minimal delay. Ideal: ${T}, Current: ${s.currentTime}`),C=10),Xo=window.setTimeout(()=>{xl&&(Ca++,m())},C)}}m()},cn=()=>{xl=!1,Ag(!0)},Ag=o=>{Xo!==null&&(clearTimeout(Xo),Xo=null),oi.forEach(i=>{try{i.node&&(i.node.stop(),i.node.disconnect()),i.controlGainNode&&i.controlGainNode.disconnect()}catch{}}),oi=[],o&&(Ca=0,is=0)},xa=async()=>{try{const o=Ju();o.state==="suspended"&&await o.resume()}catch(o){console.error("Failed to initialize audio context:",o)}},wi=o=>{if(!o)return"General musical context. Focus on genre and vibe.";const i=o.indexOf("## 3. Instrument & Sound Design Guide"),l=i>0?i:o.indexOf("## 2. Structural Blueprint")>0?o.indexOf("## 2. Structural Blueprint"):1500;return o.substring(0,Math.min(l,o.length))},Ta=[1,2,4,8,16,32],N1=({currentGuidebookEntry:o,mainAppInputs:i,onUpdateGuidebookEntryMidi:l,parsedGuidebookBpm:s,parsedGuidebookKey:u,parsedGuidebookChordProg:m})=>{var A,S;const[p,y]=oe.useState(()=>{var de;if(o.midiSettings)return{...o.midiSettings,bars:Ta.includes(o.midiSettings.bars)?o.midiSettings.bars:je.bars,songSection:o.midiSettings.songSection||je.songSection,targetInstruments:o.midiSettings.targetInstruments&&o.midiSettings.targetInstruments.length>0?o.midiSettings.targetInstruments:[...je.targetInstruments],guidebookContext:o.midiSettings.guidebookContext||wi(o.content)};const E=((de=o.genre)==null?void 0:de[0])||i.genre[0]||je.genre,R=wi(o.content),D=ln[E]||ln.Default,O=Math.round((D[0]+D[1])/2),X=je.songSection;let Q=je.bars;const ue=X.toLowerCase();return ue.includes("intro")||ue.includes("outro")||ue.includes("fill")||ue.includes("breakdown")?Q=4:Q=8,Q=Ta.includes(Q)?Q:je.bars,{...je,genre:E,key:u||je.key,tempo:s||O,chordProgression:m||(nn[E]||nn.Default)[0],guidebookContext:R,targetInstruments:[...je.targetInstruments],songSection:X,bars:Q}}),[v,g]=oe.useState(o.generatedMidiPatterns||null),[T,C]=oe.useState(!1),[_,L]=oe.useState(""),[G,K]=oe.useState(null),[F,$]=oe.useState(!1),ee=oe.useRef(F);oe.useEffect(()=>{ee.current=F},[F]);const[ie,J]=oe.useState(!1);oe.useEffect(()=>{var R;let E;if(o.midiSettings)E=o.midiSettings.bars||je.bars,y({...o.midiSettings,bars:Ta.includes(E)?E:je.bars,songSection:o.midiSettings.songSection||je.songSection,targetInstruments:o.midiSettings.targetInstruments&&o.midiSettings.targetInstruments.length>0?o.midiSettings.targetInstruments:[...je.targetInstruments],guidebookContext:o.midiSettings.guidebookContext||wi(o.content)});else{const D=((R=o.genre)==null?void 0:R[0])||i.genre[0]||je.genre,O=wi(o.content),X=ln[D]||ln.Default,Q=Math.round((X[0]+X[1])/2),ue=je.songSection;let de=je.bars;const Ie=ue.toLowerCase();Ie.includes("intro")||Ie.includes("outro")||Ie.includes("fill")||Ie.includes("breakdown")?de=4:de=8,E=Ta.includes(de)?de:je.bars,y({...je,key:u||je.key,tempo:s||Q,chordProgression:m||(nn[D]||nn.Default)[0],genre:D,guidebookContext:O,targetInstruments:[...je.targetInstruments],songSection:ue,bars:E})}g(o.generatedMidiPatterns||null),K(null),ee.current&&(cn(),$(!1))},[o,i.genre,s,u,m]);const W=(E,R)=>{y(D=>{const O={...D,[E]:R};if(E==="genre"){const X=R,Q=(nn[D.genre]||nn.Default)[0];D.chordProgression===Q&&(O.chordProgression=(nn[X]||nn.Default)[0]);const ue=ln[D.genre]||ln.Default,de=Math.round((ue[0]+ue[1])/2);if(D.tempo===de){const Ie=ln[X]||ln.Default;O.tempo=Math.round((Ie[0]+Ie[1])/2)}}return o.content&&(O.guidebookContext=wi(o.content)),O})},He=E=>{y(R=>{const D=R.targetInstruments,O=D.includes(E)?D.filter(X=>X!==E):[...D,E];return{...R,targetInstruments:O}})},Ae=async()=>{var X;C(!0),L("Regenerating MIDI patterns..."),K(null),ee.current&&(cn(),$(!1)),await xa();const E=((X=o.genre)==null?void 0:X[0])||p.genre,R=wi(o.content),D={...p,guidebookContext:R,genre:E};let O="";try{const Q=await zu(D);for await(const dt of Q)O+=dt.text;let ue=O.trim();const de=/^```(\w*)?\s*\n?(.*?)\n?\s*```$/s,Ie=ue.match(de);Ie&&Ie[2]&&(ue=Ie[2].trim());const ot=JSON.parse(ue);if(ot.drums){const dt={};for(const Vt in ot.drums)dt[Vt.toLowerCase().replace(/\s+/g,"_")]=ot.drums[Vt];ot.drums=dt}g(ot),l(D,ot)}catch(Q){console.error("MIDI Generation Error:",Q);const ue=Q.message.toLowerCase().includes("json")?`AI returned invalid JSON for MIDI patterns. (${Q.message})`:`Failed to generate MIDI patterns: ${Q.message}`;K(ue),g(null)}finally{C(!1),L("")}},be=async()=>{v&&(await xa(),ee.current&&(cn(),$(!1),await new Promise(E=>setTimeout(E,50))),tg(v,p),$(!0))},Se=async E=>{!v||!v[E]||(await xa(),ee.current&&(cn(),$(!1),await new Promise(R=>setTimeout(R,50))),tg(v,p,E),$(!0))},ze=()=>{cn(),$(!1)};oe.useEffect(()=>()=>{ee.current&&cn()},[]);const qe=()=>{if(!v)return;const E=((o==null?void 0:o.title)||"TrackGuideMIDI").replace(/[^a-z0-9_.-]/gi,"_"),R=Wh(v,p,E);R?eg(R,`${E}_all_tracks.mid`):alert("No MIDI data to download or error in generation.")},Le=E=>{if(!v||!v[E]){alert(`No ${E} data available in current patterns.`);return}const R={[E]:v[E]},D=((o==null?void 0:o.title)||"TrackGuideMIDI").replace(/[^a-z0-9_.-]/gi,"_"),O=Wh(R,p,`${D}_${E}`);O?eg(O,`${D}_${E}.mid`):alert(`No ${E} data to download or error in generation.`)},yt=async E=>{var Q;if(!v)return;C(!0),L("Generating MIDI..."),K(null),ee.current&&(cn(),$(!1)),await xa();const R=((Q=o.genre)==null?void 0:Q[0])||p.genre,D=wi(o.content),O={...p,guidebookContext:D,genre:R,targetInstruments:[E]};let X="";try{const ue=await zu(O);for await(const Pt of ue)X+=Pt.text;let de=X.trim();const Ie=/^```(\w*)?\s*\n?(.*?)\n?\s*```$/s,ot=de.match(Ie);ot&&ot[2]&&(de=ot[2].trim());const dt=JSON.parse(de),Vt={...v,[E]:dt[E]};if(E==="drums"&&dt.drums){const Pt={};for(const Ln in dt.drums)Pt[Ln.toLowerCase().replace(/\s+/g,"_")]=dt.drums[Ln];Vt.drums=Pt}g(Vt),l(p,Vt),L("")}catch(ue){console.error("Error regenerating single track:",ue),K(`Failed to regenerate ${E}. Please try again.`),L("")}finally{C(!1)}},Pe=E=>{const R=ln[E]||ln.Default;return`(${R[0]}-${R[1]} BPM for ${E})`},Ge=E=>nn[E]||nn.Default,z=(E,R)=>{if(!E)return h.jsxs("p",{className:"text-xs text-gray-500",children:["No ",R," pattern generated."]});let D="";if(R==="Chords"&&Array.isArray(E)){const O=E;if(O.length>0){let X=[],Q=null;for(const ue of O)ue.name!==Q&&(X.push(ue.name),Q=ue.name);D=X.join(" - ")}}else if((R==="Bassline"||R==="Melody")&&Array.isArray(E))D=E.map(O=>O.pitch||`N${O.midi}`).join(", ");else if(R==="Drums"&&typeof E=="object"&&Object.keys(E).length>0)D=Object.keys(E).join(", ");else if(typeof E=="object"&&Object.keys(E).length===0)return h.jsx("p",{className:"text-xs text-gray-500",children:"Empty drum pattern."});return D||(D="Pattern data available."),h.jsx("div",{className:"text-xs text-gray-300 bg-gray-700 p-2 rounded-md mt-1 whitespace-normal break-words max-h-20 overflow-y-auto custom-scrollbar",children:D||`Generated ${R} data.`})},U=async()=>{ie||await xa(),J(E=>!E)},N=(E,R)=>{const D=v==null?void 0:v[E],O=D&&(Array.isArray(D)&&D.length>0||typeof D=="object"&&Object.keys(D).length>0&&!(D!=null&&D.error));return O?h.jsxs(Nt,{title:R,className:"bg-gray-700/50",contentClassName:"p-3",children:[z(D,R),h.jsxs("div",{className:"mt-3 flex gap-2 items-center",children:[h.jsx(Ne,{size:"sm",variant:"secondary",onClick:()=>Se(E),disabled:!O||F,className:"px-2.5 py-1.5 flex-1",title:`Preview ${R}`,leftIcon:h.jsx(es,{className:"w-4 h-4"}),children:"Preview"}),h.jsx(Ne,{size:"sm",variant:"outline",onClick:()=>yt(E),className:"p-1.5 flex-none",title:`Regenerate ${R}`,"aria-label":`Regenerate ${R}`,disabled:T,children:h.jsx(qu,{className:"w-4 h-4",isSpinning:T&&_.includes(E)})}),h.jsx(Ne,{size:"sm",variant:"outline",onClick:()=>Le(E),className:"p-1.5 flex-none",title:`Download ${R} MIDI`,"aria-label":`Download ${R} MIDI`,disabled:!O,children:h.jsx(Jh,{className:"w-4 h-4"})})]})]}):v&&!v[E]&&p.targetInstruments.includes(E)?h.jsx(Nt,{title:R,className:"bg-gray-700/50 opacity-60",contentClassName:"p-3",children:h.jsx("p",{className:"text-xs text-gray-400",children:"Pattern not generated or empty. Try regenerating with this instrument selected."})}):null};return h.jsxs(Nt,{title:" MIDI Tools & Pattern Generator",className:"mt-6 bg-gray-800/80 backdrop-blur-md shadow-xl border border-gray-700/50",children:[h.jsx(Ne,{onClick:U,variant:"secondary",className:"w-full mb-4",leftIcon:h.jsx(a1,{}),children:ie?"Hide MIDI Settings":"Adjust MIDI Settings & Regenerate"}),ie&&h.jsxs("div",{className:"mb-6 border-t border-gray-700 pt-6",children:[h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-x-6 gap-y-4 mb-6",children:[h.jsxs("div",{children:[h.jsxs("label",{htmlFor:"midi-key",className:"block text-sm font-medium text-gray-300 mb-1",children:["Key ",h.jsxs("span",{className:"text-xs text-gray-400",children:["(Guidebook: ",u||"N/A",")"]})]}),h.jsx("select",{id:"midi-key",value:p.key,onChange:E=>W("key",E.target.value),className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-md shadow-sm text-gray-100 focus:ring-purple-500 focus:border-purple-500 text-sm",children:ba.map(E=>h.jsx("option",{value:E,children:E},E))})]}),h.jsxs("div",{children:[h.jsxs("label",{htmlFor:"midi-tempo",className:"block text-sm font-medium text-gray-300 mb-1",children:["Tempo (BPM) ",h.jsxs("span",{className:"text-xs text-gray-400",children:["Guidebook: ",s||"N/A"]})]}),h.jsx(Tn,{type:"number",id:"midi-tempo",value:p.tempo,onChange:E=>W("tempo",parseInt(E.target.value,10)),min:"30",max:"300"}),h.jsx("p",{className:"text-xs text-gray-400 mt-1",children:Pe(p.genre)})]}),h.jsxs("div",{children:[h.jsx("label",{htmlFor:"midi-timesig",className:"block text-sm font-medium text-gray-300 mb-1",children:"Time Signature"}),h.jsx("select",{id:"midi-timesig",value:p.timeSignature.join("/"),onChange:E=>W("timeSignature",E.target.value.split("/").map(Number)),className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-md shadow-sm text-gray-100 focus:ring-purple-500 focus:border-purple-500 text-sm",children:Pb.map(E=>h.jsx("option",{value:E.join("/"),children:E.join("/")},E.join("/")))})]}),h.jsxs("div",{children:[h.jsxs("label",{htmlFor:"midi-chords",className:"block text-sm font-medium text-gray-300 mb-1",children:["Chord Progression ",h.jsxs("span",{className:"text-xs text-gray-400",children:["(Guidebook: ",m||"N/A",")"]})]}),h.jsx("select",{id:"midi-chords",value:p.chordProgression,onChange:E=>W("chordProgression",E.target.value),className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-md shadow-sm text-gray-100 focus:ring-purple-500 focus:border-purple-500 text-sm",children:Ge(p.genre).map(E=>h.jsx("option",{value:E,children:E},E))})]}),h.jsxs("div",{children:[h.jsx("label",{htmlFor:"midi-genre",className:"block text-sm font-medium text-gray-300 mb-1",children:"MIDI Genre Context"}),h.jsxs("select",{id:"midi-genre",value:p.genre,onChange:E=>W("genre",E.target.value),className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-md shadow-sm text-gray-100 focus:ring-purple-500 focus:border-purple-500 text-sm",children:[h.jsxs("option",{value:((A=o==null?void 0:o.genre)==null?void 0:A[0])||i.genre[0]||je.genre,children:["Align with Guidebook (",((S=o==null?void 0:o.genre)==null?void 0:S[0])||i.genre[0]||"Default",")"]}),Eg.map(E=>h.jsx("option",{value:E,children:E},E))]})]}),h.jsxs("div",{children:[h.jsx("label",{htmlFor:"midi-bars",className:"block text-sm font-medium text-gray-300 mb-1",children:"Loop Length (Bars)"}),h.jsx("select",{id:"midi-bars",value:p.bars,onChange:E=>W("bars",parseInt(E.target.value,10)),className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-md shadow-sm text-gray-100 focus:ring-purple-500 focus:border-purple-500 text-sm",children:Ta.map(E=>h.jsx("option",{value:E,children:E},E))})]}),h.jsxs("div",{className:"lg:col-span-1",children:[h.jsx("label",{htmlFor:"midi-songsection",className:"block text-sm font-medium text-gray-300 mb-1",children:"Song Section Context"}),h.jsx("select",{id:"midi-songsection",value:p.songSection||je.songSection,onChange:E=>W("songSection",E.target.value),className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-md shadow-sm text-gray-100 focus:ring-purple-500 focus:border-purple-500 text-sm",children:Fb.map(E=>h.jsx("option",{value:E,children:E},E))})]})]}),h.jsxs("div",{className:"mb-6",children:[h.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Target Instruments to Generate"}),h.jsx("div",{className:"flex flex-wrap gap-x-4 gap-y-2",children:Yb.map(E=>h.jsxs("button",{type:"button",onClick:()=>He(E.id),className:`flex items-center px-3 py-1.5 rounded-md text-sm transition-colors duration-150 ease-in-out border
                            ${p.targetInstruments.includes(E.id)?"bg-purple-600 text-white border-purple-500 hover:bg-purple-700 shadow-md":"bg-gray-700 text-gray-300 border-gray-600 hover:bg-gray-600 hover:border-gray-500"}`,"aria-pressed":p.targetInstruments.includes(E.id),children:[p.targetInstruments.includes(E.id)?h.jsx(s1,{className:"w-4 h-4 mr-2"}):h.jsx(o1,{className:"w-4 h-4 mr-2 text-gray-500"}),E.label]},E.id))})]}),h.jsx(Ne,{onClick:Ae,disabled:T||p.targetInstruments.length===0,className:"w-full",leftIcon:h.jsx(qu,{className:"w-5 h-5",isSpinning:T}),children:T?_||"Regenerating MIDI Patterns...":p.targetInstruments.length===0?"Select instruments first":"Regenerate MIDI Patterns"})]}),G&&h.jsx("p",{className:"text-red-400 bg-red-900/30 p-3 rounded-md text-sm my-4",children:G}),T&&!ie&&(!v||_.includes("MIDI"))&&h.jsx("div",{className:"my-4",children:h.jsx(Ea,{text:_||"AI is composing..."})}),v&&!T&&h.jsxs("div",{className:"mt-6 space-y-3",children:[h.jsxs("div",{className:"flex flex-wrap gap-3 items-center pb-3 border-b border-gray-700",children:[h.jsx(Ne,{onClick:F?ze:be,variant:F?"danger":"primary",size:"md",leftIcon:F?h.jsx(l1,{}):h.jsx(es,{}),children:F?"Stop Preview":"Play All Tracks"}),h.jsx(Ne,{onClick:qe,variant:"secondary",size:"md",leftIcon:h.jsx(Jh,{}),children:"Download All (.mid)"})]}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 pt-3",children:[N("chords","Chords"),N("bassline","Bassline"),N("melody","Melody"),N("drums","Drums")]}),v.error&&h.jsxs("p",{className:"text-sm text-yellow-400 mt-2",children:["AI Note: ",v.error]})]}),!v&&!T&&!G&&h.jsx("p",{className:"text-gray-400 text-sm mt-4 text-center",children:'No MIDI patterns generated yet for this TrackGuide. Click "Adjust MIDI Settings" to configure and generate.'})]})},A1=({library:o,onClose:i,onLoadEntry:l,onDeleteEntry:s,onCreateNew:u})=>{const[m,p]=oe.useState(""),y=o.filter(v=>v.title.toLowerCase().includes(m.toLowerCase())||v.genre.join(", ").toLowerCase().includes(m.toLowerCase())).sort((v,g)=>new Date(g.createdAt).getTime()-new Date(v.createdAt).getTime());return h.jsx("div",{className:"fixed inset-0 bg-gray-900/80 backdrop-blur-sm flex items-center justify-center p-4 z-50 transition-opacity duration-300 ease-in-out",onClick:i,role:"dialog","aria-modal":"true","aria-labelledby":"library-modal-title",children:h.jsxs(Nt,{className:"w-full max-w-2xl bg-gray-800 shadow-2xl border border-gray-700 max-h-[90vh] flex flex-col",onClick:v=>v.stopPropagation(),children:[h.jsxs("div",{className:"flex justify-between items-center px-6 py-4 border-b border-gray-700",children:[h.jsxs("h2",{id:"library-modal-title",className:"text-2xl font-semibold text-purple-300 flex items-center",children:[h.jsx(Ou,{className:"w-7 h-7 mr-3 text-purple-400"}),"TrackGuide Library"]}),h.jsx(Ne,{onClick:i,variant:"secondary",size:"sm",className:"p-2 -mr-2","aria-label":"Close Library",children:h.jsx(Qu,{className:"w-5 h-5"})})]}),h.jsx("div",{className:"px-6 py-4",children:h.jsx(Tn,{type:"search",placeholder:"Search by title or genre...",value:m,onChange:v=>p(v.target.value),className:"mb-4 bg-gray-700 border-gray-600 placeholder-gray-500","aria-label":"Search library"})}),h.jsx("div",{className:"flex-grow overflow-y-auto px-6 pb-6 space-y-3 custom-scrollbar pr-3",children:y.length===0?h.jsx("p",{className:"text-gray-400 text-center py-8",children:m?`No entries found for "${m}".`:"Your library is empty. Create some TrackGuides!"}):y.map(v=>h.jsx("div",{className:"p-4 bg-gray-700/60 rounded-lg hover:bg-gray-600/50 transition-colors shadow-md border border-gray-600/50",children:h.jsxs("div",{className:"flex justify-between items-start",children:[h.jsxs("div",{className:"flex-grow min-w-0",children:[h.jsx("h4",{className:"font-semibold text-purple-300 truncate text-lg",title:v.title,children:v.title}),h.jsx("p",{className:"text-sm text-gray-400 truncate",title:Array.isArray(v.genre)?v.genre.join(", "):v.genre,children:Array.isArray(v.genre)?v.genre.join(", "):v.genre}),h.jsxs("p",{className:"text-xs text-gray-500",children:["Created: ",new Date(v.createdAt).toLocaleDateString(),v.generatedMidiPatterns&&h.jsx(Sa,{className:"w-3 h-3 text-green-400 inline-block ml-2",title:"MIDI available"})]})]}),h.jsxs("div",{className:"flex flex-col sm:flex-row space-y-2 sm:space-y-0 sm:space-x-2 items-end shrink-0 ml-3 mt-1 sm:mt-0",children:[h.jsx(Ne,{onClick:()=>l(v),size:"sm",variant:"outline",className:"text-xs px-3 py-1.5 w-full sm:w-auto",leftIcon:h.jsx(Ou,{className:"w-4 h-4"}),children:"Load"}),h.jsx(Ne,{onClick:()=>s(v.id),size:"sm",variant:"danger",className:"text-xs px-3 py-1.5 w-full sm:w-auto",leftIcon:h.jsx(i1,{className:"w-4 h-4"})})]})]})},v.id))}),h.jsx("div",{className:"px-6 py-4 border-t border-gray-700",children:h.jsx(Ne,{onClick:u,variant:"primary",className:"w-full",leftIcon:h.jsx(Hu,{}),children:"Create New TrackGuide"})})]})})},M1=({isOpen:o,onClose:i,currentGuidebook:l,userInputs:s})=>{const[u,m]=oe.useState([{id:"1",role:"assistant",content:`Hi! I'm your AI music production assistant. I can help you:

 Refine your TrackGuide with specific questions
 Suggest improvements to your current project
 Answer production techniques questions
 Help adjust your genre, vibe, or arrangement ideas
 Provide detailed explanations about any aspect of your track

What would you like to work on today?`,timestamp:new Date}]),[p,y]=oe.useState(""),[v,g]=oe.useState(!1),T=oe.useRef(null),C=oe.useRef(null),_=()=>{var F;(F=T.current)==null||F.scrollIntoView({behavior:"smooth"})};oe.useEffect(()=>{_()},[u]),oe.useEffect(()=>{o&&C.current&&C.current.focus()},[o]);const L=async()=>{if(!p.trim()||v)return;const F={id:Date.now().toString(),role:"user",content:p.trim(),timestamp:new Date};m($=>[...$,F]),y(""),g(!0);try{const $={currentGuidebook:(l==null?void 0:l.content)||"",userInputs:s||{},conversationHistory:u.slice(-6)},ee=await e1(F.content,$),ie={id:(Date.now()+1).toString(),role:"assistant",content:ee,timestamp:new Date};m(J=>[...J,ie])}catch($){console.error("AI Assistant Error:",$);const ee={id:(Date.now()+1).toString(),role:"assistant",content:"Sorry, I encountered an error. Please try again or rephrase your question.",timestamp:new Date};m(ie=>[...ie,ee])}finally{g(!1)}},G=F=>{F.key==="Enter"&&!F.shiftKey&&(F.preventDefault(),L())},K=()=>{m([u[0]])};return o?h.jsx("div",{className:"fixed bottom-4 right-4 z-[9999] w-96 h-[600px] max-h-[80vh]",children:h.jsxs(Nt,{className:"h-full bg-gray-800 shadow-2xl border border-gray-700 flex flex-col rounded-lg overflow-hidden",children:[h.jsxs("div",{className:"p-3 border-b border-gray-700 flex justify-between items-center bg-gradient-to-r from-purple-600 to-blue-600",children:[h.jsxs("div",{className:"flex items-center",children:[h.jsx(t1,{className:"w-5 h-5 text-white mr-2"}),h.jsx("h2",{className:"text-lg font-bold text-white",children:"Production Coach"})]}),h.jsxs("div",{className:"flex gap-1",children:[h.jsx(Ne,{onClick:K,variant:"outline",size:"sm",className:"text-white border-white/30 hover:bg-white/10",children:"Clear"}),h.jsx(Ne,{onClick:i,variant:"outline",size:"sm",className:"text-white border-white/30 hover:bg-white/10",children:""})]})]}),h.jsxs("div",{className:"flex-1 overflow-y-auto p-3 space-y-3 scrollbar-thin scrollbar-thumb-gray-600 scrollbar-track-gray-800",children:[u.map(F=>h.jsx("div",{className:`flex ${F.role==="user"?"justify-end":"justify-start"}`,children:h.jsxs("div",{className:`max-w-[85%] p-2 rounded-lg text-sm ${F.role==="user"?"bg-purple-600 text-white":"bg-gray-700 text-gray-100"}`,children:[h.jsx("div",{className:"whitespace-pre-wrap break-words",children:F.content}),h.jsx("div",{className:"text-xs opacity-70 mt-1",children:F.timestamp.toLocaleTimeString()})]})},F.id)),v&&h.jsx("div",{className:"flex justify-start",children:h.jsx("div",{className:"bg-gray-700 text-gray-100 p-2 rounded-lg text-sm",children:h.jsx(Ea,{text:"AI is thinking..."})})}),h.jsx("div",{ref:T})]}),h.jsxs("div",{className:"p-3 border-t border-gray-700 bg-gray-800/50",children:[h.jsxs("div",{className:"flex gap-2",children:[h.jsx(Tn,{ref:C,type:"text",placeholder:"Ask about production techniques...",value:p,onChange:F=>y(F.target.value),onKeyPress:G,className:"flex-1 text-sm",disabled:v}),h.jsx(Ne,{onClick:L,disabled:!p.trim()||v,variant:"primary",size:"sm",children:"Send"})]}),h.jsx("div",{className:"mt-2 text-xs text-gray-400",children:"Press Enter to send  Shift+Enter for new line"})]})]})}):null},_1=[{frequency:"20-30 Hz",description:"Sub-bass rumble, often felt more than heard",instruments:["Kick drum","Sub bass","808s"],action:"cut",category:"sub"},{frequency:"30-60 Hz",description:"Deep bass foundation, power and weight",instruments:["Kick drum","Bass guitar","Sub bass"],action:"boost",category:"sub"},{frequency:"60-100 Hz",description:"Bass fundamentals, warmth and body",instruments:["Bass guitar","Kick drum","Male vocals"],action:"boost",category:"bass"},{frequency:"100-200 Hz",description:"Bass clarity, can get muddy if excessive",instruments:["Bass guitar","Piano","Guitar","Vocals"],action:"cut",category:"bass"},{frequency:"200-250 Hz",description:"Muddiness zone, often needs cutting",instruments:["Most instruments"],action:"cut",category:"bass"},{frequency:"250-400 Hz",description:"Cardboard/boxy sound, often problematic",instruments:["Vocals","Snare","Guitar"],action:"cut",category:"low-mid"},{frequency:"400-500 Hz",description:"Honky/nasal frequencies",instruments:["Vocals","Horns","Guitar"],action:"cut",category:"low-mid"},{frequency:"500-800 Hz",description:"Vocal clarity and instrument definition",instruments:["Vocals","Snare","Guitar"],action:"boost",category:"mid"},{frequency:"800-1200 Hz",description:"Vocal presence, can sound harsh",instruments:["Vocals","Snare","Hi-hats"],action:"boost",category:"mid"},{frequency:"1-2 kHz",description:"Attack and punch, vocal intelligibility",instruments:["Vocals","Snare","Guitar","Piano"],action:"boost",category:"mid"},{frequency:"2-3 kHz",description:"Vocal presence, can be fatiguing",instruments:["Vocals","Snare","Cymbals"],action:"boost",category:"high-mid"},{frequency:"3-5 kHz",description:"Clarity and definition, harshness zone",instruments:["Vocals","Snare","Guitar","Cymbals"],action:"cut",category:"high-mid"},{frequency:"5-6 kHz",description:"Sibilance in vocals, cymbal harshness",instruments:["Vocals","Cymbals","Hi-hats"],action:"cut",category:"high-mid"},{frequency:"6-8 kHz",description:"Vocal sibilance, cymbal brightness",instruments:["Vocals","Cymbals","Acoustic guitar"],action:"cut",category:"presence"},{frequency:"8-12 kHz",description:"Brightness and clarity, can be harsh",instruments:["Cymbals","Hi-hats","Vocals"],action:"boost",category:"presence"},{frequency:"12-16 kHz",description:"Air and sparkle, openness",instruments:["Cymbals","Vocals","Strings"],action:"boost",category:"air"},{frequency:"16+ kHz",description:"Ultra-high frequencies, air and space",instruments:["Cymbals","Room mics"],action:"boost",category:"air"}],w1=["All","Vocals","Kick drum","Snare","Bass guitar","Guitar","Piano","Cymbals","Hi-hats","Sub bass","808s","Horns","Strings","Room mics"],Du=[{id:"all",label:"All Frequencies",color:"bg-gray-600"},{id:"sub",label:"Sub Bass (20-60Hz)",color:"bg-red-600"},{id:"bass",label:"Bass (60-250Hz)",color:"bg-orange-600"},{id:"low-mid",label:"Low Mids (250-500Hz)",color:"bg-yellow-600"},{id:"mid",label:"Mids (500-2kHz)",color:"bg-green-600"},{id:"high-mid",label:"High Mids (2-6kHz)",color:"bg-blue-600"},{id:"presence",label:"Presence (6-12kHz)",color:"bg-indigo-600"},{id:"air",label:"Air (12kHz+)",color:"bg-purple-600"}],R1=({isOpen:o,onClose:i})=>{const[l,s]=oe.useState("All"),[u,m]=oe.useState("all"),[p,y]=oe.useState("");if(!o)return null;const v=_1.filter(C=>{const _=l==="All"||C.instruments.includes(l),L=u==="all"||C.category===u,G=p===""||C.frequency.toLowerCase().includes(p.toLowerCase())||C.description.toLowerCase().includes(p.toLowerCase())||C.instruments.some(K=>K.toLowerCase().includes(p.toLowerCase()));return _&&L&&G}),g=C=>{switch(C){case"boost":return"text-green-400";case"cut":return"text-red-400";case"notch":return"text-yellow-400";default:return"text-gray-400"}},T=C=>{switch(C){case"boost":return"";case"cut":return"";case"notch":return"";default:return""}};return h.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:h.jsxs("div",{className:"bg-gray-800 rounded-lg shadow-xl max-w-6xl w-full max-h-[90vh] overflow-hidden",children:[h.jsxs("div",{className:"p-6 border-b border-gray-700",children:[h.jsxs("div",{className:"flex justify-between items-center mb-4",children:[h.jsxs("h2",{className:"text-2xl font-bold text-white flex items-center",children:[h.jsx(Ri,{className:"w-6 h-6 mr-2"}),"EQ Cheat Sheet"]}),h.jsx(Ne,{onClick:i,variant:"outline",size:"sm",children:" Close"})]}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Filter by Instrument"}),h.jsx("select",{value:l,onChange:C=>s(C.target.value),className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-md text-gray-100 focus:ring-purple-500 focus:border-purple-500",children:w1.map(C=>h.jsx("option",{value:C,children:C},C))})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Frequency Zone"}),h.jsx("select",{value:u,onChange:C=>m(C.target.value),className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-md text-gray-100 focus:ring-purple-500 focus:border-purple-500",children:Du.map(C=>h.jsx("option",{value:C.id,children:C.label},C.id))})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Search"}),h.jsx(Tn,{type:"text",placeholder:"Search frequencies, descriptions...",value:p,onChange:C=>y(C.target.value)})]})]})]}),h.jsxs("div",{className:"p-6 overflow-y-auto max-h-[calc(90vh-200px)]",children:[h.jsxs("div",{className:"mb-6",children:[h.jsx("h3",{className:"text-lg font-semibold text-white mb-3",children:"Frequency Zones"}),h.jsx("div",{className:"flex flex-wrap gap-2",children:Du.map(C=>h.jsx("button",{onClick:()=>m(C.id),className:`px-3 py-1 rounded-full text-sm font-medium transition-all ${u===C.id?`${C.color} text-white shadow-lg`:"bg-gray-700 text-gray-300 hover:bg-gray-600"}`,children:C.label},C.id))})]}),h.jsx("div",{className:"space-y-3",children:v.length===0?h.jsx("p",{className:"text-gray-400 text-center py-8",children:"No EQ data matches your current filters."}):v.map((C,_)=>{var L;return h.jsx(Nt,{className:"bg-gray-700/50 hover:bg-gray-700/70 transition-colors",children:h.jsx("div",{className:"p-4",children:h.jsx("div",{className:"flex items-start justify-between",children:h.jsxs("div",{className:"flex-1",children:[h.jsxs("div",{className:"flex items-center mb-2",children:[h.jsx("span",{className:"text-lg font-bold text-white mr-3",children:C.frequency}),h.jsxs("span",{className:`text-sm font-medium ${g(C.action)}`,children:[T(C.action)," ",C.action.toUpperCase()]}),h.jsx("span",{className:`ml-2 px-2 py-1 rounded-full text-xs font-medium ${((L=Du.find(G=>G.id===C.category))==null?void 0:L.color)||"bg-gray-600"} text-white`,children:C.category.replace("-"," ").toUpperCase()})]}),h.jsx("p",{className:"text-gray-300 mb-2",children:C.description}),h.jsx("div",{className:"flex flex-wrap gap-1",children:C.instruments.map(G=>h.jsx("span",{className:"px-2 py-1 bg-gray-600 text-gray-200 rounded text-xs",children:G},G))})]})})})},_)})})]}),h.jsx("div",{className:"p-4 border-t border-gray-700 bg-gray-800/50",children:h.jsx("p",{className:"text-xs text-gray-400 text-center",children:" Tip: These are general guidelines. Always trust your ears and adjust based on the specific context of your mix."})})]})})};function D1({isOpen:o,onClose:i,onAnalyze:l}){const[s,u]=oe.useState(null),[m,p]=oe.useState(null),[y,v]=oe.useState(!1),[g,T]=oe.useState("");if(!o)return null;const C=(G,K)=>{K==="A"?u(G):p(G)},_=async()=>{if(!(!s&&!m)){v(!0);try{await l(s,m),T(`
## Mix Comparison Analysis

### Overall Assessment
${s&&m?"Comparing two mix versions:":"Single mix analysis:"}

### Key Differences Found:
- **Frequency Balance**: Mix B shows improved low-end clarity with better sub-bass definition
- **Stereo Width**: Mix A has wider stereo image but Mix B has better center focus
- **Dynamic Range**: Mix B maintains better dynamics with less compression artifacts
- **Vocal Presence**: Mix B brings vocals forward by 2-3dB in the 2-5kHz range

### Recommendations:
1. **Low End**: Use Mix B's approach - high-pass filter at 30Hz, gentle boost at 60-80Hz
2. **Midrange**: Combine Mix A's width with Mix B's clarity using mid-side processing
3. **High End**: Mix B's air frequencies (12kHz+) are more balanced
4. **Compression**: Reduce overall compression by 10-15% for better dynamics

### Technical Metrics:
- **LUFS**: Mix A: -14.2, Mix B: -13.8 (Mix B preferred)
- **Peak**: Mix A: -0.1dB, Mix B: -0.3dB (Mix B safer)
- **Stereo Correlation**: Mix A: 0.85, Mix B: 0.92 (Mix B more coherent)

### Next Steps:
Apply Mix B's frequency balance with Mix A's creative elements for optimal result.
      `)}catch{T("Error analyzing mixes. Please try again.")}v(!1)}},L=()=>{u(null),p(null),T("")};return h.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:h.jsxs("div",{className:"bg-gray-800 rounded-lg p-6 w-full max-w-4xl max-h-[90vh] overflow-y-auto",children:[h.jsxs("div",{className:"flex justify-between items-center mb-6",children:[h.jsx("h2",{className:"text-2xl font-bold text-white flex items-center gap-2",children:" Mix Comparator"}),h.jsx("button",{onClick:i,className:"text-gray-400 hover:text-white",children:h.jsx(Qu,{className:"w-6 h-6"})})]}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[h.jsxs("div",{className:"border-2 border-dashed border-gray-600 rounded-lg p-6 text-center",children:[h.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"Mix A (Original)"}),s?h.jsxs("div",{className:"text-green-400",children:[h.jsx(es,{className:"w-6 h-6 mx-auto mb-2"}),h.jsx("p",{children:s.name}),h.jsx("button",{onClick:()=>u(null),className:"mt-2 text-red-400 hover:text-red-300",children:"Remove"})]}):h.jsxs("label",{className:"cursor-pointer",children:[h.jsx(ts,{className:"w-12 h-12 mx-auto mb-4 text-gray-400"}),h.jsx("p",{className:"text-gray-400 mb-2",children:"Upload audio file"}),h.jsx("p",{className:"text-sm text-gray-500",children:"MP3, WAV, FLAC"}),h.jsx("input",{type:"file",accept:"audio/*",className:"hidden",onChange:G=>{var K;return((K=G.target.files)==null?void 0:K[0])&&C(G.target.files[0],"A")}})]})]}),h.jsxs("div",{className:"border-2 border-dashed border-gray-600 rounded-lg p-6 text-center",children:[h.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"Mix B (Revised) - Optional"}),m?h.jsxs("div",{className:"text-green-400",children:[h.jsx(es,{className:"w-6 h-6 mx-auto mb-2"}),h.jsx("p",{children:m.name}),h.jsx("button",{onClick:()=>p(null),className:"mt-2 text-red-400 hover:text-red-300",children:"Remove"})]}):h.jsxs("label",{className:"cursor-pointer",children:[h.jsx(ts,{className:"w-12 h-12 mx-auto mb-4 text-gray-400"}),h.jsx("p",{className:"text-gray-400 mb-2",children:"Upload audio file"}),h.jsx("p",{className:"text-sm text-gray-500",children:"MP3, WAV, FLAC"}),h.jsx("input",{type:"file",accept:"audio/*",className:"hidden",onChange:G=>{var K;return((K=G.target.files)==null?void 0:K[0])&&C(G.target.files[0],"B")}})]})]})]}),h.jsxs("div",{className:"flex gap-4 mb-6",children:[h.jsx("button",{onClick:_,disabled:!s||y,className:"flex-1 bg-blue-600 hover:bg-blue-700 disabled:bg-gray-600 text-white px-6 py-3 rounded-lg font-semibold transition-colors",children:y?"Analyzing...":"Analyze Mix(es)"}),h.jsxs("button",{onClick:L,className:"bg-gray-600 hover:bg-gray-700 text-white px-6 py-3 rounded-lg font-semibold transition-colors flex items-center gap-2",children:[h.jsx(qu,{className:"w-5 h-5"}),"Reset"]})]}),g&&h.jsxs("div",{className:"bg-gray-900 rounded-lg p-6",children:[h.jsx("h3",{className:"text-xl font-bold text-white mb-4",children:"Analysis Results"}),h.jsx("div",{className:"text-gray-300 whitespace-pre-line",children:g})]})]})})}const I1=({className:o="w-6 h-6"})=>h.jsx("div",{className:`${o} bg-orange-500 transform rotate-45 flex items-center justify-center`,children:h.jsx("div",{className:"w-1/2 h-1/2 bg-white transform -rotate-45"})}),U1=({onGetStarted:o})=>h.jsxs("div",{className:"min-h-screen bg-[#2B2B2B] relative overflow-hidden",children:[h.jsx("div",{className:"absolute inset-0 opacity-40",children:h.jsx("div",{className:"absolute inset-0",style:{backgroundImage:"radial-gradient(circle at 2px 2px, #FF5722 1px, transparent 0)",backgroundSize:"30px 30px"}})}),h.jsx("div",{className:"absolute top-20 right-10 w-64 h-64 opacity-20",children:h.jsxs("div",{className:"relative w-full h-full",children:[h.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 border-2 border-orange-500 transform rotate-12"}),h.jsx("div",{className:"absolute top-8 right-8 w-32 h-32 bg-orange-500 transform rotate-12"}),h.jsx("div",{className:"absolute top-16 right-16 w-16 h-16 bg-white rounded-full"})]})}),h.jsx("div",{className:"absolute bottom-20 left-10 w-48 h-48 opacity-15",children:h.jsxs("div",{className:"relative w-full h-full",children:[h.jsx("div",{className:"absolute bottom-0 left-0 w-24 h-24 border-2 border-orange-500 transform -rotate-45"}),h.jsx("div",{className:"absolute bottom-4 left-4 w-24 h-24 bg-orange-500 transform -rotate-45"})]})}),h.jsx("nav",{className:"relative z-10 px-6 py-6",children:h.jsxs("div",{className:"max-w-7xl mx-auto flex items-center justify-between",children:[h.jsxs("div",{className:"flex items-center space-x-3",children:[h.jsx("div",{className:"w-8 h-8 bg-orange-500 transform rotate-45 flex items-center justify-center",children:h.jsx("div",{className:"w-4 h-4 bg-white transform -rotate-45"})}),h.jsxs("div",{children:[h.jsx("div",{className:"text-xl font-bold text-white",children:"TrackGuide AI"}),h.jsx("div",{className:"text-xs text-gray-400",children:"Your Smartest Studio Assistant"})]})]}),h.jsx("button",{onClick:o,className:"bg-orange-500 hover:bg-orange-600 text-white px-6 py-3 rounded-lg font-semibold transition-all transform hover:scale-105 shadow-lg",children:"Launch App"})]})}),h.jsx("section",{className:"relative px-6 py-16",children:h.jsxs("div",{className:"max-w-7xl mx-auto",children:[h.jsxs("div",{className:"grid lg:grid-cols-2 gap-12 items-center",children:[h.jsxs("div",{className:"space-y-8",children:[h.jsxs("h1",{className:"text-6xl md:text-7xl lg:text-8xl font-bold text-white leading-tight",children:[h.jsx("span",{className:"text-orange-500",children:"AI Studio Assistant:"}),h.jsx("span",{className:"block text-white mt-2 text-4xl md:text-5xl lg:text-6xl",children:"A Complement to Creativity,"}),h.jsx("span",{className:"block text-white mt-2 text-4xl md:text-5xl lg:text-6xl",children:"Not a Substitute."})]}),h.jsxs("p",{className:"text-xl text-gray-300 max-w-2xl leading-relaxed",children:["Empowering modern producers with ",h.jsx("span",{className:"text-orange-500 font-semibold",children:"structure"}),", ",h.jsx("span",{className:"text-orange-500 font-semibold",children:"speed"}),", and ",h.jsx("span",{className:"text-orange-500 font-semibold",children:"support"})," in their creative workflow."]})]}),h.jsxs("div",{className:"relative h-96 lg:h-[500px]",children:[h.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:h.jsx("div",{className:"w-80 h-80 bg-gradient-to-br from-gray-300 to-gray-500 rounded-full opacity-80"})}),h.jsxs("div",{className:"absolute top-0 right-0 w-32 h-32",children:[h.jsx("div",{className:"w-full h-full border-2 border-orange-500 transform rotate-12"}),h.jsx("div",{className:"absolute top-2 right-2 w-28 h-28 bg-orange-500 transform rotate-12"})]}),h.jsxs("div",{className:"absolute bottom-0 right-8 w-24 h-24",children:[h.jsx("div",{className:"w-full h-full border-2 border-orange-500"}),h.jsx("div",{className:"absolute top-2 left-2 w-20 h-20 bg-orange-500"})]}),h.jsx("div",{className:"absolute top-1/2 right-0 w-16 h-16 bg-orange-500 rounded-full transform translate-x-8"})]})]}),h.jsx("div",{className:"flex flex-col sm:flex-row gap-6 mt-12 lg:justify-start",children:h.jsxs("button",{onClick:o,className:"bg-black hover:bg-gray-800 text-white px-10 py-4 rounded-lg font-bold text-lg transition-all transform hover:scale-105 flex items-center justify-center space-x-3 shadow-xl",children:[h.jsx(I1,{className:"h-6 w-6"}),h.jsx("span",{children:"Start Creating"})]})})]})}),h.jsx("section",{className:"relative px-6 py-20",children:h.jsxs("div",{className:"max-w-7xl mx-auto",children:[h.jsxs("div",{className:"text-center mb-16",children:[h.jsx("h2",{className:"text-4xl md:text-5xl font-bold text-white mb-6",children:"How TrackGuide Works"}),h.jsx("p",{className:"text-xl text-gray-300 max-w-3xl mx-auto",children:"From concept to creation in three simple steps"})]}),h.jsxs("div",{className:"grid md:grid-cols-3 gap-8",children:[h.jsxs("div",{className:"text-center space-y-6",children:[h.jsx("div",{className:"w-20 h-20 bg-orange-500 rounded-full flex items-center justify-center mx-auto",children:h.jsx("span",{className:"text-2xl font-bold text-white",children:"1"})}),h.jsx("h3",{className:"text-2xl font-bold text-white",children:"Describe Your Vision"}),h.jsx("p",{className:"text-gray-300",children:"Tell us your genre, vibe, and creative goals. Our AI understands your artistic intent."})]}),h.jsxs("div",{className:"text-center space-y-6",children:[h.jsx("div",{className:"w-20 h-20 bg-orange-500 rounded-full flex items-center justify-center mx-auto",children:h.jsx("span",{className:"text-2xl font-bold text-white",children:"2"})}),h.jsx("h3",{className:"text-2xl font-bold text-white",children:"Get Your Blueprint"}),h.jsx("p",{className:"text-gray-300",children:"Receive a detailed production guide with arrangement tips, sound design, and MIDI foundations."})]}),h.jsxs("div",{className:"text-center space-y-6",children:[h.jsx("div",{className:"w-20 h-20 bg-orange-500 rounded-full flex items-center justify-center mx-auto",children:h.jsx("span",{className:"text-2xl font-bold text-white",children:"3"})}),h.jsx("h3",{className:"text-2xl font-bold text-white",children:"Create & Refine"}),h.jsx("p",{className:"text-gray-300",children:"Use our tools to generate MIDI, get mix feedback, and bring your vision to life."})]})]})]})}),h.jsx("section",{className:"relative px-6 py-20 bg-black/10",children:h.jsxs("div",{className:"max-w-7xl mx-auto",children:[h.jsxs("div",{className:"text-center mb-16",children:[h.jsx("h2",{className:"text-4xl md:text-5xl font-bold text-white mb-6",children:"Complete Production Toolkit"}),h.jsx("p",{className:"text-xl text-gray-300 max-w-3xl mx-auto",children:"Every tool you need to take your music from idea to finished track"})]}),h.jsxs("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-8",children:[h.jsxs("div",{className:"bg-gray-800/50 rounded-xl p-6 border border-orange-500/20 hover:border-orange-500/40 transition-all",children:[h.jsx("div",{className:"w-12 h-12 bg-orange-500 rounded-lg flex items-center justify-center mb-4",children:h.jsx("span",{className:"text-white font-bold",children:"AI"})}),h.jsx("h3",{className:"text-xl font-bold text-white mb-3",children:"TrackGuide AI"}),h.jsx("p",{className:"text-gray-300",children:"Generate comprehensive, custom how-to guides based on your genre, vibe, and reference artists."})]}),h.jsxs("div",{className:"bg-gray-800/50 rounded-xl p-6 border border-orange-500/20 hover:border-orange-500/40 transition-all",children:[h.jsx("div",{className:"w-12 h-12 bg-orange-500 rounded-lg flex items-center justify-center mb-4",children:h.jsx("span",{className:"text-white font-bold",children:""})}),h.jsx("h3",{className:"text-xl font-bold text-white mb-3",children:"Integrated MIDI Generator"}),h.jsx("p",{className:"text-gray-300",children:"Create intelligent chord progressions, basslines, melodies, and drum patterns that match your track's context."})]}),h.jsxs("div",{className:"bg-gray-800/50 rounded-xl p-6 border border-orange-500/20 hover:border-orange-500/40 transition-all",children:[h.jsx("div",{className:"w-12 h-12 bg-orange-500 rounded-lg flex items-center justify-center mb-4",children:h.jsx("span",{className:"text-white font-bold",children:""})}),h.jsx("h3",{className:"text-xl font-bold text-white mb-3",children:"Mix Feedback"}),h.jsx("p",{className:"text-gray-300",children:"Upload tracks for AI-powered analysis and detailed mixing recommendations."})]}),h.jsxs("div",{className:"bg-gray-800/50 rounded-xl p-6 border border-orange-500/20 hover:border-orange-500/40 transition-all",children:[h.jsx("div",{className:"w-12 h-12 bg-orange-500 rounded-lg flex items-center justify-center mb-4",children:h.jsx("span",{className:"text-white font-bold",children:""})}),h.jsx("h3",{className:"text-xl font-bold text-white mb-3",children:"Mix Compare"}),h.jsx("p",{className:"text-gray-300",children:"Upload multiple tracks for AI-powered analysis that compares different versions side-by-side."})]}),h.jsxs("div",{className:"bg-gray-800/50 rounded-xl p-6 border border-orange-500/20 hover:border-orange-500/40 transition-all",children:[h.jsx("div",{className:"w-12 h-12 bg-orange-500 rounded-lg flex items-center justify-center mb-4",children:h.jsx("span",{className:"text-white font-bold",children:""})}),h.jsx("h3",{className:"text-xl font-bold text-white mb-3",children:"Live Production Coach"}),h.jsx("p",{className:"text-gray-300",children:"Interactive chatbot providing real-time production advice and guidance."})]}),h.jsxs("div",{className:"bg-gray-800/50 rounded-xl p-6 border border-orange-500/20 hover:border-orange-500/40 transition-all",children:[h.jsx("div",{className:"w-12 h-12 bg-orange-500 rounded-lg flex items-center justify-center mb-4",children:h.jsx("span",{className:"text-white font-bold",children:""})}),h.jsx("h3",{className:"text-xl font-bold text-white mb-3",children:"EQ Cheat Sheet"}),h.jsx("p",{className:"text-gray-300",children:"Quick reference guide for EQ frequencies and their effects on different instruments."})]})]})]})}),h.jsx("section",{className:"relative px-6 py-20 bg-black/20",children:h.jsxs("div",{className:"max-w-7xl mx-auto text-center",children:[h.jsx("h2",{className:"text-4xl md:text-5xl font-bold text-white mb-6",children:"Ready to Transform Your Music Production?"}),h.jsx("p",{className:"text-xl text-gray-300 mb-12 max-w-2xl mx-auto",children:"From initial inspiration to final mix, TrackGuide provides intelligent assistance at every stage of your music production journey."}),h.jsxs("div",{className:"bg-gray-800/50 rounded-2xl p-8 max-w-md mx-auto border border-orange-500/20",children:[h.jsx("h3",{className:"text-2xl font-bold text-white mb-4",children:"Free to Start"}),h.jsx("p",{className:"text-gray-300 mb-6",children:"Get started with TrackGuide AI at no cost. Upgrade when you're ready for more."}),h.jsx("button",{onClick:o,className:"w-full bg-orange-500 hover:bg-orange-600 text-white px-8 py-4 rounded-lg font-bold text-lg transition-all transform hover:scale-105 shadow-xl",children:"Start Creating Free"}),h.jsx("p",{className:"text-gray-500 text-sm mt-4",children:"No credit card required"})]})]})}),h.jsx("section",{className:"px-6 py-16 bg-black/20",children:h.jsxs("div",{className:"max-w-7xl mx-auto text-center",children:[h.jsx("div",{className:"w-32 h-1 bg-orange-500 mx-auto mb-8"}),h.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-white mb-4",children:"The Investment Opportunity"}),h.jsx("p",{className:"text-xl text-gray-300",children:"Transforming the $43B music production industry"})]})}),h.jsx("section",{className:"relative px-6 py-20 bg-black/20",children:h.jsx("div",{className:"max-w-7xl mx-auto",children:h.jsxs("div",{className:"grid lg:grid-cols-2 gap-12 items-center",children:[h.jsxs("div",{className:"space-y-8",children:[h.jsxs("h2",{className:"text-4xl md:text-5xl font-bold text-white leading-tight",children:["Too Many Tools:",h.jsx("span",{className:"block text-orange-500",children:"Not Enough Direction"})]}),h.jsxs("p",{className:"text-xl text-gray-300 leading-relaxed",children:["As the modern production landscape fragments into countless tools and tutorials, producers struggle to maintain ",h.jsx("strong",{children:"focus"})," and build ",h.jsx("strong",{children:"real skills"}),"."]}),h.jsxs("div",{className:"grid gap-6",children:[h.jsx("div",{className:"border-l-4 border-orange-500 pl-6",children:h.jsxs("p",{className:"text-gray-300",children:[h.jsx("strong",{children:"Without a clear structure"}),", many producers struggle to turn inspiration into finished tracks."]})}),h.jsx("div",{className:"border-l-4 border-orange-500 pl-6",children:h.jsxs("p",{className:"text-gray-300",children:[h.jsx("strong",{children:"  Clickbait tutorials lack context, feedback, and depth"}),"offering tips without teaching transferable skills."]})}),h.jsx("div",{className:"border-l-4 border-orange-500 pl-6",children:h.jsxs("p",{className:"text-gray-300",children:[h.jsx("strong",{children:"  A constant stream of flashy tools"})," distracts from understanding core production fundamentals."]})})]})]}),h.jsxs("div",{className:"relative h-96",children:[h.jsxs("div",{className:"absolute top-0 right-0 w-48 h-48",children:[h.jsx("div",{className:"w-full h-full border-2 border-orange-500 transform rotate-45"}),h.jsx("div",{className:"absolute top-4 right-4 w-40 h-40 bg-orange-500 transform rotate-45"})]}),h.jsxs("div",{className:"absolute bottom-0 left-0 w-32 h-32",children:[h.jsx("div",{className:"w-full h-full border-2 border-orange-500"}),h.jsx("div",{className:"absolute top-2 left-2 w-28 h-28 bg-orange-500"})]})]})]})})}),h.jsxs("section",{className:"px-6 py-20 bg-black",children:[h.jsx("div",{className:"block lg:hidden space-y-12",children:h.jsxs("div",{className:"space-y-8",children:[h.jsxs("h2",{className:"text-4xl md:text-5xl font-bold text-white leading-tight",children:["Navigating the",h.jsx("span",{className:"block text-orange-500",children:"AI Challenge"})]}),h.jsx("p",{className:"text-xl text-gray-300 leading-relaxed",children:"Empowering the artist vs. replacing the craft"}),h.jsxs("div",{className:"grid gap-6",children:[h.jsxs("div",{className:"border-l-4 border-orange-500 pl-6",children:[h.jsx("h3",{className:"text-lg font-bold text-white mb-2",children:"One-click generations lure"}),h.jsx("p",{className:"text-gray-400",children:"threatens to bypass traditional songwriting and production craftsmanship."})]}),h.jsxs("div",{className:"border-l-4 border-orange-500 pl-6",children:[h.jsx("h3",{className:"text-lg font-bold text-white mb-2",children:"Training on old hits risks"}),h.jsx("p",{className:"text-gray-400",children:"reinforcing trends rather than innovating new sonic directions."})]}),h.jsxs("div",{className:"border-l-4 border-orange-500 pl-6",children:[h.jsx("h3",{className:"text-lg font-bold text-white mb-2",children:"Ethical & legal questions"}),h.jsx("p",{className:"text-gray-400",children:"around authorship, royalties, and intellectual property multiply."})]})]})]})}),h.jsxs("div",{className:"hidden lg:grid max-w-7xl mx-auto grid-cols-2 gap-12 items-center pt-16",children:[h.jsx("div",{className:"relative h-80",children:h.jsxs("div",{className:"absolute top-0 left-0 w-40 h-40",children:[h.jsx("div",{className:"w-full h-full border-2 border-orange-500 transform rotate-45"}),h.jsx("div",{className:"absolute top-4 left-4 w-32 h-32 bg-orange-500 transform rotate-45"})]})}),h.jsxs("div",{className:"space-y-8",children:[h.jsxs("h2",{className:"text-5xl font-bold text-white leading-tight",children:["Navigating the ",h.jsx("span",{className:"text-orange-500 block",children:"AI Challenge"})]}),h.jsx("p",{className:"text-xl text-gray-300 leading-relaxed",children:"Empowering the artist vs. replacing the craft"}),h.jsxs("div",{className:"grid gap-6",children:[h.jsxs("div",{className:"border-l-4 border-orange-500 pl-6",children:[h.jsx("h3",{className:"text-lg font-bold text-white mb-2",children:"One-click generations lure"}),h.jsx("p",{className:"text-gray-400",children:"threatens to bypass traditional songwriting and production craftsmanship."})]}),h.jsxs("div",{className:"border-l-4 border-orange-500 pl-6",children:[h.jsx("h3",{className:"text-lg font-bold text-white mb-2",children:"Training on old hits risks"}),h.jsx("p",{className:"text-gray-400",children:"reinforcing trends rather than innovating new sonic directions."})]}),h.jsxs("div",{className:"border-l-4 border-orange-500 pl-6",children:[h.jsx("h3",{className:"text-lg font-bold text-white mb-2",children:"Ethical & legal questions"}),h.jsx("p",{className:"text-gray-400",children:"around authorship, royalties, and intellectual property multiply."})]})]})]})]})]}),h.jsxs("section",{className:"relative px-6 py-20 bg-black/20",children:[h.jsxs("div",{className:"block lg:hidden space-y-12",children:[h.jsxs("div",{className:"space-y-8 text-center",children:[h.jsxs("h2",{className:"text-4xl md:text-5xl font-bold text-white leading-tight",children:["Scalable ",h.jsx("span",{className:"block text-orange-500",children:"Business Model"})]}),h.jsx("p",{className:"text-xl text-gray-300 leading-relaxed max-w-2xl mx-auto",children:"Serving creators of all kinds  from indie artists to institutions  with high-margin, modular tools."})]}),h.jsxs("div",{className:"grid gap-8",children:[h.jsxs("div",{className:"bg-gray-800/30 rounded-lg p-6 border border-orange-500/10",children:[h.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"Producers & Indie Artists"}),h.jsx("p",{className:"text-gray-300",children:"Flexible pricing tiers to empower individual workflows and creativity."})]}),h.jsxs("div",{className:"bg-gray-800/30 rounded-lg p-6 border border-orange-500/10",children:[h.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"Educational Institutions"}),h.jsx("p",{className:"text-gray-300",children:"Licensing packages built for music schools, colleges, and training programs."})]}),h.jsxs("div",{className:"bg-gray-800/30 rounded-lg p-6 border border-orange-500/10",children:[h.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"Enterprise Clients"}),h.jsx("p",{className:"text-gray-300",children:"Custom solutions for labels, production teams, and enterprise use cases."})]})]}),h.jsxs("div",{className:"grid gap-8",children:[h.jsxs("div",{className:"bg-gray-800/30 rounded-lg p-6 border border-orange-500/20",children:[h.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"SaaS Subscriptions"}),h.jsx("p",{className:"text-gray-300 mb-2",children:"Premium features, AI workflows, and unlimited generations."}),h.jsx("div",{className:"text-orange-500 font-semibold text-base",children:"85% Gross Margin"})]}),h.jsxs("div",{className:"bg-gray-800/30 rounded-lg p-6 border border-orange-500/20",children:[h.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"Community Marketplace"}),h.jsx("p",{className:"text-gray-300 mb-2",children:"Commissions from samples, templates, and sound packs by creators."}),h.jsx("div",{className:"text-orange-500 font-semibold text-base",children:"30% Commission"})]}),h.jsxs("div",{className:"bg-gray-800/30 rounded-lg p-6 border border-orange-500/20",children:[h.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"Enterprise Licensing"}),h.jsx("p",{className:"text-gray-300 mb-2",children:"Annual contracts for studios, labels, and academic partners."}),h.jsx("div",{className:"text-orange-500 font-semibold text-base",children:"$50K+ ARR"})]})]})]}),h.jsxs("div",{className:"hidden lg:grid max-w-7xl mx-auto gap-24",children:[h.jsxs("div",{className:"flex justify-between items-start",children:[h.jsxs("div",{children:[h.jsxs("h2",{className:"text-5xl font-bold text-white mb-4",children:["Scalable ",h.jsx("span",{className:"text-orange-500",children:"Business Model"})]}),h.jsx("p",{className:"text-xl text-gray-300 max-w-2xl",children:"Serving creators of all kinds  from indie artists to institutions  with high-margin, modular tools."})]}),h.jsxs("div",{className:"relative w-24 h-24",children:[h.jsx("div",{className:"absolute inset-0 border-2 border-orange-500 transform rotate-45"}),h.jsx("div",{className:"absolute top-2 left-2 w-20 h-20",children:h.jsx("div",{className:"w-full h-full bg-orange-500 rounded-full"})})]})]}),h.jsxs("div",{className:"grid grid-cols-3 gap-8",children:[h.jsxs("div",{className:"bg-gray-800/30 rounded-lg p-8 border border-orange-500/10 space-y-2",children:[h.jsx("h3",{className:"text-2xl font-bold text-white",children:"Producers & Indie Artists"}),h.jsx("p",{className:"text-gray-300",children:"Flexible pricing tiers to empower individual workflows and creativity."})]}),h.jsxs("div",{className:"bg-gray-800/30 rounded-lg p-8 border border-orange-500/10 space-y-2",children:[h.jsx("h3",{className:"text-2xl font-bold text-white",children:"Educational Institutions"}),h.jsx("p",{className:"text-gray-300",children:"Licensing packages built for music schools, colleges, and training programs."})]}),h.jsxs("div",{className:"bg-gray-800/30 rounded-lg p-8 border border-orange-500/10 space-y-2",children:[h.jsx("h3",{className:"text-2xl font-bold text-white",children:"Enterprise Clients"}),h.jsx("p",{className:"text-gray-300",children:"Custom solutions for labels, production teams, and enterprise use cases."})]})]}),h.jsxs("div",{className:"grid grid-cols-3 gap-8",children:[h.jsxs("div",{className:"bg-gray-800/30 rounded-lg p-8 border border-orange-500/20 space-y-4",children:[h.jsx("h3",{className:"text-2xl font-bold text-white",children:"SaaS Subscriptions"}),h.jsx("p",{className:"text-gray-300",children:"Premium features, AI workflows, and unlimited generations."}),h.jsx("div",{className:"text-orange-500 font-semibold text-lg",children:"85% Gross Margin"})]}),h.jsxs("div",{className:"bg-gray-800/30 rounded-lg p-8 border border-orange-500/20 space-y-4",children:[h.jsx("h3",{className:"text-2xl font-bold text-white",children:"Community Marketplace"}),h.jsx("p",{className:"text-gray-300",children:"Commissions from samples, templates, and sound packs by creators."}),h.jsx("div",{className:"text-orange-500 font-semibold text-lg",children:"30% Commission"})]}),h.jsxs("div",{className:"bg-gray-800/30 rounded-lg p-8 border border-orange-500/20 space-y-4",children:[h.jsx("h3",{className:"text-2xl font-bold text-white",children:"Enterprise Licensing"}),h.jsx("p",{className:"text-gray-300",children:"Annual contracts for studios, labels, and academic partners."}),h.jsx("div",{className:"text-orange-500 font-semibold text-lg",children:"$50K+ ARR"})]})]})]})]}),h.jsx("section",{className:"px-6 py-20 bg-black",children:h.jsxs("div",{className:"max-w-5xl mx-auto",children:[h.jsxs("div",{className:"text-center mb-12",children:[h.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-white mb-6",children:"Investment Levels"}),h.jsx("p",{className:"text-lg text-gray-300 max-w-2xl mx-auto",children:"We're raising capital to finalize our MVP, build out our go-to-market strategy, and scale our team."})]}),h.jsxs("div",{className:"grid md:grid-cols-4 gap-6",children:[h.jsxs("div",{className:"bg-black/80 rounded-lg p-6 border border-orange-500/30 shadow-md",children:[h.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"Seed Loop"}),h.jsx("p",{className:"text-gray-300 text-sm mb-2",children:"$10K$25K"}),h.jsx("p",{className:"text-gray-400 text-sm mb-2",children:"Product polish, UI/UX refinement, performance tuning."}),h.jsx("p",{className:"text-orange-400 text-sm",children:"Return: SAFE note @ $5M cap + quarterly updates"})]}),h.jsxs("div",{className:"bg-black/80 rounded-lg p-6 border border-orange-500/30 shadow-md",children:[h.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"Creator Tier"}),h.jsx("p",{className:"text-gray-300 text-sm mb-2",children:"$25K$50K"}),h.jsx("p",{className:"text-gray-400 text-sm mb-2",children:"Monetization rollout, user acquisition, referral systems."}),h.jsx("p",{className:"text-orange-400 text-sm",children:"Return: SAFE + 1% revenue share pilot + feedback seat"})]}),h.jsxs("div",{className:"bg-black/80 rounded-lg p-6 border border-orange-500/30 shadow-md",children:[h.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"Full Stack"}),h.jsx("p",{className:"text-gray-300 text-sm mb-2",children:"$50K$75K"}),h.jsx("p",{className:"text-gray-400 text-sm mb-2",children:"Strategic hires (PMM/dev), professional business consulting."}),h.jsx("p",{className:"text-orange-400 text-sm",children:"Return: SAFE + advisory board access + product roadmap input"})]}),h.jsxs("div",{className:"bg-black/80 rounded-lg p-6 border border-orange-500/30 shadow-md",children:[h.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"Vision Tier"}),h.jsx("p",{className:"text-gray-300 text-sm mb-2",children:"$150K+"}),h.jsx("p",{className:"text-gray-400 text-sm mb-2",children:"Full-scale GTM campaign, AI model tuning, global launch."}),h.jsx("p",{className:"text-orange-400 text-sm",children:"Return: Discounted SAFE cap, 2% revenue share pilot, strategic board seat"})]})]})]})}),h.jsx("section",{className:"px-6 py-20 bg-black/30",children:h.jsxs("div",{className:"max-w-4xl mx-auto text-center",children:[h.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-white mb-6",children:"Interested in Investing?"}),h.jsx("p",{className:"text-xl text-gray-300 mb-8 max-w-2xl mx-auto",children:"TrackGuide is revolutionizing music production with AI-powered assistance. Join us in empowering the next generation of creators."}),h.jsx("a",{href:"mailto:dustinspaceproductions@gmail.com?subject=Investment Inquiry - TrackGuide AI",className:"bg-orange-500 hover:bg-orange-600 text-white px-8 py-3 rounded-lg font-bold text-lg transition-all transform hover:scale-105 inline-flex items-center space-x-2 shadow-xl",children:h.jsx("span",{children:"Contact for Investment Opportunities"})}),h.jsx("p",{className:"text-gray-500 mt-4",children:"dustinspaceproductions@gmail.com"})]})}),h.jsx("footer",{className:"px-6 py-12 border-t border-orange-500/20 bg-black/20",children:h.jsx("div",{className:"max-w-7xl mx-auto",children:h.jsxs("div",{className:"flex flex-col md:flex-row items-center justify-between",children:[h.jsxs("div",{className:"flex items-center space-x-3 mb-4 md:mb-0",children:[h.jsx("div",{className:"w-6 h-6 bg-orange-500 transform rotate-45 flex items-center justify-center",children:h.jsx("div",{className:"w-3 h-3 bg-white transform -rotate-45"})}),h.jsxs("div",{children:[h.jsx("div",{className:"text-lg font-bold text-white",children:"TrackGuide AI"}),h.jsx("div",{className:"text-xs text-gray-400",children:"Your Smartest Studio Assistant"})]})]}),h.jsx("div",{className:"text-gray-400 text-center md:text-right",children:h.jsx("p",{children:" 2025 TrackGuide. Empowering music creators worldwide."})})]})})})]}),Iu=({className:o="w-4 h-4"})=>h.jsx("div",{className:`${o} bg-orange-500 transform rotate-45 flex items-center justify-center`,children:h.jsx("div",{className:"w-1/2 h-1/2 bg-white transform -rotate-45"})}),ng={songTitle:"",genre:[],artistReference:"",vibe:[],daw:"",plugins:"",availableInstruments:""},ig={audioFile:null,userNotes:""},Qo=50,lg=Qo*1024*1024,ag=o=>{const i=o.match(/Estimated BPM Range:\s*.*?(\d+)\s*(?:-|to)\s*(\d+)\s*BPM/i);if(i&&i[1]&&i[2])return Math.round((parseInt(i[1],10)+parseInt(i[2],10))/2);const l=o.match(/Estimated BPM Range:\s*.*?(\d+)\s*BPM/i);if(l&&l[1])return parseInt(l[1],10);const s=o.match(/BPM:\s*(\d+)/i);return s&&s[1]?parseInt(s[1],10):null},og=o=>{const i=o.match(/Suggested Key\(s\) \/ Scale\(s\):\s*([^(\n]+)/i);if(i&&i[1]){const l=i[1].split(/,|\/| or /).map(u=>u.trim().replace(/\.$/,""));for(const u of l){const m=u.includes(" Minor")?u:u.replace("Major","").trim()+" Major";if(ba.includes(u)||ba.includes(m))return ba.includes(u)?u:m}const s=l[0];if(s){for(const u of ba)if(s.toLowerCase().startsWith(u.split(" ")[0].toLowerCase()))if(s.toLowerCase().includes("minor")){if(u.includes("Minor"))return u}else if(s.toLowerCase().includes("major")){if(u.includes("Major"))return u}else return u;return s}}return null},sg=o=>{const i=o.match(/## (?:3|4)\.(?:.*Harmony.*|.*Chord Progressions.*)\s*\n(?:[^\n]*\n)*?.*?Chord Progression\(s\)\s*(?:\([^)]+\))?:\s*([^\n]+)/im);if(i&&i[1]){const u=i[1].match(/([ivclxmdIVCLXMDab#dimaug\d\/sus-]+(?:\s*-\s*[ivclxmdIVCLXMDab#dimaug\d\/sus-]+)*)/);if(u&&u[1]){let m=u[1].trim();m.endsWith(".")&&(m=m.slice(0,-1));const p=[", ",". ","; "];for(const y of p)if(m.includes(y)){m=m.split(y)[0];break}if(/[IVXLCDMivxlcdm]/.test(m))return m}}const l=o.match(/Chord Progression\(s\).*?:\s*([IVXLCDMivxlcdm\d\s,-]+)/i);if(l&&l[1]){const s=l[1].split(",")[0].trim();if(/[IVXLCDMivxlcdm]/.test(s))return s}return null},Yu=(o,i)=>{const l=o.match(i);if(!l||typeof l.index>"u")return"";const s=l.index,u=o.substring(s+l[0].length).match(/^##\s+/m),m=u&&typeof u.index<"u"?s+l[0].length+u.index:o.length;return o.substring(s,m).trim()},V1=o=>{if(!o)return"";let i="";return i+=Yu(o,/^##\s*1\.\s*Song Overview/im)+`

`,i+=Yu(o,/^##\s*4\.\s*Harmony, Melody & Rhythmic Core/im),i.trim()||"General musical context not fully parsed. Focus on genre and vibe."},k1=o=>{if(!o)return[];const l=Yu(o,/^##\s*2\.\s*Structural Blueprint/im);if(!l)return[];const s=[],u=l.split(`
`);for(const m of u){const p=m.match(/\*\*([^(]+)\s*\(([^)]+)\):\*\*\s*(.*)/);p&&s.push({section:p[1].trim(),duration:p[2].trim(),description:p[3].trim()})}return s},rg=o=>{const i=o.match(/^\s*-\s*\*\*Suggested Title:\*\*\s*(.*)/im);return i&&i[1]?i[1].trim().replace(/\*\*([^*]+)\*\*/g,"$1").replace(/\*([^*]+)\*/g,"$1"):null},L1=()=>{var bt;const[o,i]=oe.useState("landing"),[l,s]=oe.useState(ng),[u,m]=oe.useState(""),[p,y]=oe.useState(""),[v,g]=oe.useState(""),[T,C]=oe.useState(!1),[_,L]=oe.useState(""),[G,K]=oe.useState(null),[F,$]=oe.useState(null),[ee,ie]=oe.useState([]),[J,W]=oe.useState(null),[He,Ae]=oe.useState(!1),[be,Se]=oe.useState(""),[ze,qe]=oe.useState(!1),[Le,yt]=oe.useState(!1),[Pe,Ge]=oe.useState(!1),[z,U]=oe.useState(ig),[N,A]=oe.useState(null),[S,E]=oe.useState(!1),[R,D]=oe.useState(null),O=oe.useRef(null),X=oe.useRef(null),Q=oe.useRef(null);oe.useEffect(()=>{try{const te=localStorage.getItem(Xh);if(te){const ye=JSON.parse(te).map(ae=>({...ae,genre:Array.isArray(ae.genre)?ae.genre:ae.genre?[ae.genre]:[],vibe:Array.isArray(ae.vibe)?ae.vibe:ae.vibe?[ae.vibe]:[],midiSettings:ae.midiSettings||void 0,generatedMidiPatterns:ae.generatedMidiPatterns||void 0}));ie(ye)}}catch(te){console.error("Failed to load library from local storage:",te),ie([])}const q=localStorage.getItem(va),Z=localStorage.getItem(Po);s(te=>({...te,daw:q||te.daw||"",plugins:Z||te.plugins||""}))},[]),oe.useEffect(()=>{try{localStorage.setItem(Xh,JSON.stringify(ee))}catch(q){console.error("Failed to save library to local storage:",q)}},[ee]);const ue=q=>{const{name:Z,value:te}=q.target;Z==="currentGenreText"?m(te):Z==="currentVibeText"?y(te):(s(ge=>({...ge,[Z]:te})),Z==="daw"?localStorage.setItem(va,te):Z==="plugins"&&localStorage.setItem(Po,te))},de=q=>{var te,ge;const Z=q==="genre"?u.trim():p.trim();Z&&!l[q].includes(Z)&&s(ye=>({...ye,[q]:[...ye[q],Z]})),q==="genre"?(m(""),(te=X.current)==null||te.focus()):(y(""),(ge=Q.current)==null||ge.focus())},Ie=(q,Z)=>{q.key==="Enter"&&(q.preventDefault(),de(Z))},ot=(q,Z)=>{s(te=>{const ye=te[q].filter(ae=>ae!==Z);return{...te,[q]:ye}})},dt=q=>{s(Z=>({...Z,daw:q})),localStorage.setItem(va,q)},Vt=q=>{const Z=q.match(/^#\s*TRACKGUIDE:\s*"?([^"\n]+)"?/im);return Z&&Z[1]?Z[1].trim():null},Pt=()=>{const q=localStorage.getItem(va)||"",Z=localStorage.getItem(Po)||"";s({...ng,songTitle:"",daw:q,plugins:Z}),m(""),y(""),g(""),W(null),K(null),$(null),Se(""),cn(),Ae(!1)},Ln=async q=>{var ye;q.preventDefault(),C(!0),K(null),$(null),g(""),W(null),Se(""),cn(),l.daw&&localStorage.setItem(va,l.daw),l.plugins&&localStorage.setItem(Po,l.plugins);let Z="",te,ge;try{L("TrackGuide is generating...");const ae=await Qb(l);for await(const it of ae)Z+=it.text,g(mn=>mn+it.text);L("Initial MIDI patterns are generating...");const _e=Vt(Z),Xe=(ye=l.songTitle)!=null&&ye.trim()?l.songTitle.trim():_e||`TrackGuide for ${l.genre.join(", ")||"Unknown Genre"}`,on=Date.now().toString(),kt=new Date().toISOString(),Lt=ag(Z),we=og(Z),Me=sg(Z),$e=l.genre[0]||je.genre,nt=ln[$e]||ln.Default,ft=Math.round((nt[0]+nt[1])/2),st=(nn[$e]||nn.Default)[0],_t=V1(Z),St=je.songSection;let fn=8;const Ft=$e.toLowerCase();["lo-fi hip hop","lofi hip hop","lofi","trap","ambient","idm","breakcore","footwork","juke","experimental"].some(it=>Ft.includes(it))&&(fn=4);const rt=["chords","bassline","melody","drums"];ge={key:we||je.key,tempo:Lt||ft,timeSignature:je.timeSignature,chordProgression:Me||st,genre:$e,bars:fn,targetInstruments:rt,guidebookContext:_t,songSection:St};try{const it=await zu(ge);let mn="";for await(const hn of it)mn+=hn.text;let Sl=mn.trim();const hs=/^```(\w*)?\s*\n?(.*?)\n?\s*```$/s,Ui=Sl.match(hs);if(Ui&&Ui[2]&&(Sl=Ui[2].trim()),te=JSON.parse(Sl),te.drums){const hn={};for(const Vi in te.drums)hn[Vi.toLowerCase().replace(/\s+/g,"_")]=te.drums[Vi];te.drums=hn}$(null)}catch(it){console.error("Initial MIDI generation failed:",it);const mn=it.message.toLowerCase().includes("json")?`AI returned invalid JSON for MIDI patterns during initial generation. (${it.message})`:`Initial MIDI generation failed: ${it.message}.`;$(mn+" You can try generating MIDI manually in the MIDI tools section."),te=void 0}W({id:on,title:Xe,genre:l.genre,artistReference:l.artistReference,vibe:l.vibe,daw:l.daw,plugins:l.plugins,availableInstruments:l.availableInstruments||"",content:Z,createdAt:kt,midiSettings:ge,generatedMidiPatterns:te})}catch(ae){K(ae.message||"An unexpected error occurred while generating TrackGuide."),W(null),g("")}finally{C(!1),L("")}},us=()=>{if(!J)return;const q={...J};ie(Z=>{const te=Z.findIndex(ge=>ge.id===q.id);if(te>-1){const ge=[...Z];return ge[te]=q,ge}return[q,...Z]})},cs=(q,Z)=>{W(te=>te?{...te,midiSettings:q,generatedMidiPatterns:Z}:null)},Yt=q=>{s({songTitle:q.title,genre:Array.isArray(q.genre)?q.genre:q.genre?[String(q.genre)]:[],artistReference:q.artistReference,vibe:Array.isArray(q.vibe)?q.vibe:q.vibe?[String(q.vibe)]:[],daw:q.daw,plugins:q.plugins,availableInstruments:q.availableInstruments||""}),m(""),y(""),g(q.content),W(q),K(null),$(null),Se(""),cn(),Ae(!1),i("trackGuide"),window.scrollTo({top:0,behavior:"smooth"})},ds=q=>{ie(Z=>Z.filter(te=>te.id!==q)),J&&J.id===q&&(g(""),W(null),cn())},Ma=q=>{let Z="";const te=document.createTreeWalker(q,NodeFilter.SHOW_ELEMENT|NodeFilter.SHOW_TEXT,null);let ge,ye="",ae=0;const _e=on=>{Z+=on+`
`,ye=""},Xe=on=>{ye+=on};for(;ge=te.nextNode();)if(ge.nodeType===Node.TEXT_NODE)Xe(ge.textContent||"");else if(ge.nodeType===Node.ELEMENT_NODE){const kt=ge.tagName.toLowerCase();switch(["h1","h2","h3","p","div","ul","li","table","hr","tr","td","th"].includes(kt)&&ye.trim()!==""&&_e(ye),kt){case"h1":Xe("# ");break;case"h2":Xe("## ");break;case"h3":Xe("### ");break;case"p":Z.length>0&&!Z.endsWith(`

`)&&!Z.endsWith(`
`)&&_e("");break;case"strong":case"b":Xe("**");break;case"em":case"i":Xe("*");break;case"ul":ae++;break;case"li":Xe("  ".repeat(ae-1)+"- ");break;case"hr":_e("---");break;case"br":_e(ye);break;case"tr":ye.trim()!==""&&_e(ye);break;case"td":case"th":Xe("| ");break}switch(kt){case"h1":case"h2":case"h3":case"p":_e(ye),_e("");break;case"strong":case"b":Xe("**");break;case"em":case"i":Xe("*");break;case"ul":ae--,Z.endsWith(`
`)||_e(ye);break;case"li":_e(ye);break;case"tr":Xe(" |"),_e(ye);break;case"table":Z.endsWith(`
`)||_e("");break}}return ye.trim()!==""&&_e(ye),Z.replace(/\n\s*\n/g,`

`).trim()},bl=async q=>{const Z=document.getElementById(q);if(!Z){Se("Content area not found."),setTimeout(()=>Se(""),3e3);return}const te=Z.innerHTML,ge=Ma(Z.cloneNode(!0));try{if(navigator.clipboard&&navigator.clipboard.write){const ye=new Blob([te],{type:"text/html"}),ae=new Blob([ge],{type:"text/plain"}),_e=new ClipboardItem({"text/html":ye,"text/plain":ae});await navigator.clipboard.write([_e]),Se("Content Copied (Rich Format)!")}else await navigator.clipboard.writeText(ge),Se("Content Copied (Plain Text)!")}catch(ye){console.error("Failed to copy content using modern Clipboard API:",ye);try{const ae=document.createElement("textarea");ae.value=ge,ae.style.position="fixed",ae.style.opacity="0",document.body.appendChild(ae),ae.focus(),ae.select();const _e=document.execCommand("copy");if(document.body.removeChild(ae),_e)Se("Content Copied (Legacy Fallback)!");else throw new Error("execCommand failed")}catch(ae){console.error("Failed to copy content using execCommand:",ae),Se("Failed to copy. Please try manually.")}}finally{setTimeout(()=>Se(""),3e3)}},ci=(q,Z=!1)=>{const te=[];if(!q&&!T)return te;if(!(!q&&T&&(_.includes("TrackGuide is generating")||_.includes("Generating TrackGuide")))){if(!q)return te}const ge=q.split(`
`);let ye=!1,ae=[],_e=!1;const Xe=(we,Me)=>{const $e=we.match(/^\*\*(.*?):\*\*\s*(.*)/);if($e){const ft=$e[1],st=$e[2];te.push(h.jsxs("p",{className:"my-2.5 text-gray-300 leading-relaxed break-words",children:[h.jsxs("strong",{className:"text-orange-300 font-semibold mr-1.5",children:[ft,":"]}),h.jsx("span",{dangerouslySetInnerHTML:{__html:String.prototype.substring.call(st,0).replace(/\*(.*?)\*/g,"<em>$1</em>").replace(/\s/g,'<span class="text-green-400 mr-1"></span>')}})]},Me));return}let nt=we.replace(/\*\*(.*?)\*\*/g,"<strong>$1</strong>");if(nt=nt.replace(/\*(.*?)\*/g,"<em>$1</em>"),nt=nt.replace(/\s/g,'<span class="text-green-400 mr-1"></span>'),we.startsWith("# TRACKGUIDE:")){const ft=we.match(/^#\s*TRACKGUIDE:\s*"?([^"\n]+)"?/i),st=ft&&ft[1]?ft[1].trim():"Generated TrackGuide";te.push(h.jsxs("h1",{className:"text-3xl font-bold mt-6 mb-4 text-orange-300 break-words flex items-center",children:[h.jsx(Sa,{className:"w-6 h-6 mr-3 text-orange-400 opacity-80"}),st]},Me));return}if(we.startsWith("# ")&&!Z){te.push(h.jsxs("h1",{className:"text-3xl font-bold mt-6 mb-4 text-orange-300 break-words flex items-center",children:[h.jsx(Sa,{className:"w-6 h-6 mr-3 text-orange-400 opacity-80"}),String.prototype.substring.call(nt,2)]},Me));return}if(we.startsWith("# ")&&Z){te.push(h.jsxs("h1",{className:"text-3xl font-bold mt-6 mb-4 text-orange-300 break-words flex items-center",children:[h.jsx(Ri,{className:"w-6 h-6 mr-3 text-orange-400 opacity-80"}),String.prototype.substring.call(nt,2)]},Me));return}if(we.startsWith("## ")){const ft=String.prototype.substring.call(nt,3),st="text-orange-500",_t="text-orange-400",St=Z?Ri:Sa;te.push(h.jsxs("h2",{className:`text-2xl font-semibold mt-10 mb-4 pt-4 border-t border-gray-700 ${_t} break-words flex items-center guidebook-section-break`,children:[h.jsx(St,{className:`w-5 h-5 mr-2 ${st} opacity-70`}),ft]},Me));return}if(we.startsWith("### ")){const ft=String.prototype.substring.call(nt,4);te.push(h.jsx("h3",{className:"text-xl font-medium mt-6 mb-3 text-orange-300 break-words",children:ft},Me));return}if(we.startsWith("* ")||we.startsWith("- ")){te.push(h.jsx("li",{className:"ml-7 list-disc text-gray-300 my-1.5",dangerouslySetInnerHTML:{__html:String.prototype.substring.call(nt,2)}},Me));return}if(we.trim()==="---"){te.push(h.jsx("hr",{className:"my-8 border-gray-600"},Me));return}we.trim()&&te.push(h.jsx("p",{className:"my-2.5 text-gray-300 leading-relaxed break-words",dangerouslySetInnerHTML:{__html:nt}},Me))},on=we=>{if(ae.length>0){let Me=null,$e=[...ae];_e&&ae.length>0&&(Me=ae[0],$e=ae.slice(1)),te.push(h.jsx("div",{className:"overflow-x-auto my-5 shadow-md rounded-lg guidebook-section-break",children:h.jsxs("table",{className:"w-full border-collapse border border-gray-600 bg-gray-800",children:[Me&&h.jsx("thead",{className:"bg-gray-700",children:Me}),$e.length>0&&h.jsx("tbody",{children:$e})]})},`table-container-${we}`))}ye=!1,ae=[],_e=!1};ge.forEach((we,Me)=>{const $e=we.trim(),nt=$e.startsWith("|")&&$e.endsWith("|"),ft=nt&&$e.includes("---")&&$e.replace(/\|/g,"").replace(/-/g,"").trim()==="";if(ye)if(nt&&!ft){const _t=$e.split("|").slice(1,-1).map(St=>St.trim()).map((St,fn)=>h.jsx("td",{className:"p-3 text-gray-300 border border-gray-600 text-sm",dangerouslySetInnerHTML:{__html:St.replace(/\*\*(.*?)\*\*/g,"<strong>$1</strong>").replace(/\*(.*?)\*/g,"<em>$1</em>")}},fn));ae.push(h.jsx("tr",{className:"border-b border-gray-600 hover:bg-gray-700/50 transition-colors duration-150",children:_t},`row-${Me}`))}else if(ft){if(ae.length>0&&!_e){const st=ae.pop();if(Ii.isValidElement(st)){const _t=st,St="bg-orange-800/30",fn="text-orange-200",Ft=Ii.Children.map(_t.props.children,We=>{if(Ii.isValidElement(We)){const rt=We,it=rt.props;return Ii.cloneElement(rt,{...it,className:`p-3 font-semibold ${fn} text-left border border-gray-500 text-sm ${St}`})}return We});ae.unshift(h.jsx("tr",{className:"border-b border-gray-500",children:Ft},_t.key||`header-${Me}`)),_e=!0}else st&&ae.push(st)}}else on(Me),Xe(we,Me);else if(nt&&!ft){ye=!0,ae=[],_e=!1;const _t=$e.split("|").slice(1,-1).map(St=>St.trim()).map((St,fn)=>h.jsx("td",{className:"p-3 text-gray-300 border border-gray-600 text-sm",dangerouslySetInnerHTML:{__html:St.replace(/\*\*(.*?)\*\*/g,"<strong>$1</strong>").replace(/\*(.*?)\*/g,"<em>$1</em>")}},fn));ae.push(h.jsx("tr",{className:"border-b border-gray-600 hover:bg-gray-700/50 transition-colors duration-150",children:_t},`row-${Me}`))}else Xe(we,Me)}),ye&&on("final");const kt=[];let Lt=[];return te.forEach((we,Me)=>{Ii.isValidElement(we)&&we.type==="li"?Lt.push(we):(Lt.length>0&&(kt.push(h.jsx("ul",{className:"space-y-1 my-3 ml-2",children:Lt},`ul-${Me-Lt.length}`)),Lt=[]),kt.push(we))}),Lt.length>0&&kt.push(h.jsx("ul",{className:"space-y-1 my-3 ml-2",children:Lt},"ul-final")),kt},_a=({selections:q,onRemove:Z})=>h.jsx("div",{className:"flex flex-wrap gap-2 mt-2 mb-2 min-h-[2.25rem]",children:q.map(te=>h.jsxs("span",{className:"flex items-center px-3 py-1 bg-orange-600 text-white text-xs font-medium rounded-full shadow-md hover:bg-orange-700 transition-colors",children:[te,h.jsx("button",{type:"button",onClick:()=>Z(te),className:"ml-1.5 -mr-0.5 p-0.5 text-orange-200 hover:text-white rounded-full focus:outline-none focus:bg-orange-800 transition-colors","aria-label":`Remove ${te}`,children:h.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-3 w-3",viewBox:"0 0 20 20",fill:"currentColor",children:h.jsx("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})})})]},te))}),wa=q=>{var te;const Z=(te=q.target.files)==null?void 0:te[0];if(Z){if(Z.size>lg){D(`File is too large. Maximum size is ${Qo}MB.`),U(ge=>({...ge,audioFile:null})),O.current&&(O.current.value="");return}if(!Z.type.startsWith("audio/")){D("Invalid file type. Please upload an audio file (e.g., MP3, WAV)."),U(ge=>({...ge,audioFile:null})),O.current&&(O.current.value="");return}U(ge=>({...ge,audioFile:Z})),D(null)}},fs=q=>{U(Z=>({...Z,userNotes:q.target.value}))},ms=async q=>{if(q.preventDefault(),!z.audioFile){D("Please upload an audio file for feedback.");return}E(!0),A(null),D(null);try{const Z=await Wb(z);A(Z)}catch(Z){D(Z.message||"An unknown error occurred while generating mix feedback.")}finally{E(!1)}},di=()=>{U(ig),A(null),D(null),O.current&&(O.current.value="")};let Ye;const an=(bt=l.songTitle)==null?void 0:bt.trim();if(an)Ye=`TrackGuide: ${an}`;else if(J!=null&&J.title){const q=J.title;if(q.startsWith("TrackGuide for ")){const Z=Vt(J.content);Z?Ye=`TrackGuide: ${Z}`:Ye=q}else Ye=`TrackGuide: ${q}`}else if(T&&o==="trackGuide"){const q=rg(v);q?Ye=`TrackGuide: ${q}`:Ye="TrackGuide is generating..."}else if(v){const q=rg(v);q?Ye=`TrackGuide: ${q}`:Ye="Generated TrackGuide"}else Ye="TrackGuide";return o==="landing"?h.jsx(U1,{onGetStarted:()=>i("trackGuide")}):h.jsxs("div",{className:"min-h-screen bg-[#1A1A1A] text-gray-100 p-4 md:p-6 lg:p-8 relative overflow-hidden",children:[h.jsx("div",{className:"absolute inset-0 opacity-20",children:h.jsx("div",{className:"absolute inset-0",style:{backgroundImage:"radial-gradient(circle at 2px 2px, #FF5722 1px, transparent 0)",backgroundSize:"40px 40px"}})}),h.jsxs("div",{className:"absolute top-10 right-10 w-32 h-32 opacity-10",children:[h.jsx("div",{className:"w-full h-full border-2 border-orange-500 transform rotate-12"}),h.jsx("div",{className:"absolute top-2 right-2 w-28 h-28 bg-orange-500 transform rotate-12"})]}),h.jsxs("header",{className:"text-center mb-6 relative z-10",children:[h.jsxs("div",{className:"flex items-center justify-center space-x-3 mb-4",children:[h.jsx("div",{className:"w-8 h-8 bg-orange-500 transform rotate-45 flex items-center justify-center",children:h.jsx("div",{className:"w-4 h-4 bg-white transform -rotate-45"})}),h.jsxs("div",{children:[h.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-white",children:Kh}),h.jsx("p",{className:"text-gray-400 text-lg",children:"Your Smartest Studio Assistant"})]})]}),h.jsx("button",{onClick:()=>i("landing"),className:"mt-2 text-sm text-orange-500 hover:text-orange-400 transition-colors font-medium",children:" Back to Landing"})]}),h.jsxs("nav",{className:"mb-8 flex flex-col justify-center items-center md:flex-row md:justify-center gap-2 border-b border-orange-500/20 pb-3 relative z-10",children:[h.jsx(Ne,{size:"sm",className:`w-full md:w-auto px-3 py-2 text-xs md:text-sm rounded-md transition-all duration-150 ease-in-out ${o==="trackGuide"?"bg-orange-500 shadow-lg hover:bg-orange-600":"bg-gray-700/80 hover:bg-gray-600/80 border border-gray-600"}`,onClick:()=>i("trackGuide"),variant:o==="trackGuide"?"primary":"secondary",leftIcon:h.jsx(r1,{className:"w-4 h-4"}),children:"TrackGuide AI"}),h.jsx(Ne,{size:"sm",className:"w-full md:w-auto px-3 py-2 text-xs md:text-sm rounded-md transition-all duration-150 ease-in-out bg-gray-700/80 hover:bg-gray-600/80 border border-gray-600",onClick:()=>i("mixFeedback"),variant:o==="mixFeedback"?"primary":"secondary",leftIcon:h.jsx(Ri,{className:"w-4 h-4"}),children:"Mix Feedback AI"}),h.jsx(Ne,{size:"sm",className:"w-full md:w-auto px-3 py-2 text-xs md:text-sm rounded-md transition-all duration-150 ease-in-out bg-gray-700/80 hover:bg-gray-600/80 border border-gray-600",onClick:()=>qe(!0),variant:"secondary",leftIcon:h.jsx(Iu,{className:"w-4 h-4"}),children:"Production Coach"}),h.jsx(Ne,{size:"sm",className:"w-full md:w-auto px-3 py-2 text-xs md:text-sm rounded-md transition-all duration-150 ease-in-out bg-gray-700/80 hover:bg-gray-600/80 border border-gray-600",onClick:()=>yt(!0),variant:"secondary",leftIcon:h.jsx(Ri,{className:"w-4 h-4"}),children:"EQ Guide"})]}),o==="trackGuide"&&h.jsxs("div",{className:"max-w-7xl mx-auto grid grid-cols-1 lg:grid-cols-12 gap-6",children:[h.jsx("div",{className:"lg:col-span-3 space-y-6",children:h.jsx(Nt,{title:"Blueprint Your Sound",className:"bg-gray-800/80 backdrop-blur-md shadow-xl border border-gray-700/50",children:h.jsxs("form",{onSubmit:Ln,className:"space-y-5",children:[h.jsx("div",{children:h.jsx(Tn,{label:"Song Title / Project Name (Optional)",name:"songTitle",value:l.songTitle||"",onChange:ue,placeholder:"AI suggests a title if blank"})}),h.jsxs("div",{children:[h.jsx("label",{htmlFor:"genre-input",className:"block text-sm font-medium text-gray-300 mb-1.5",children:"Genre(s)"}),h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx(Tn,{ref:X,id:"genre-input",name:"currentGenreText",value:u,onChange:ue,onKeyDown:q=>Ie(q,"genre"),placeholder:"Type custom genre...",list:"genre-suggestions",className:"flex-grow"}),h.jsx(Ne,{type:"button",onClick:()=>de("genre"),size:"sm",variant:"secondary","aria-label":"Add Genre",className:"px-3",children:h.jsx(Hu,{className:"w-4 h-4"})})]}),h.jsx("datalist",{id:"genre-suggestions",children:Eg.map(q=>h.jsx("option",{value:q},q))}),h.jsx(_a,{selections:l.genre,onRemove:q=>ot("genre",q)})]}),h.jsx("div",{children:h.jsx(Tn,{label:"Artist/Song Reference(s) (Optional)",name:"artistReference",value:l.artistReference,onChange:ue,placeholder:"e.g., Daft Punk - Around the World"})}),h.jsxs("div",{children:[h.jsx("label",{htmlFor:"vibe-input",className:"block text-sm font-medium text-gray-300 mb-1.5",children:"Vibe(s) / Mood(s)"}),h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx(Tn,{ref:Q,id:"vibe-input",name:"currentVibeText",value:p,onChange:ue,onKeyDown:q=>Ie(q,"vibe"),placeholder:"Type custom vibe...",list:"vibe-suggestions",className:"flex-grow"}),h.jsx(Ne,{type:"button",onClick:()=>de("vibe"),size:"sm",variant:"secondary","aria-label":"Add Vibe",className:"px-3",children:h.jsx(Hu,{className:"w-4 h-4"})})]}),h.jsx("datalist",{id:"vibe-suggestions",children:qb.map(q=>h.jsx("option",{value:q},q))}),h.jsx(_a,{selections:l.vibe,onRemove:q=>ot("vibe",q)})]}),h.jsxs("div",{children:[h.jsx(Tn,{label:"Preferred DAW",name:"daw",value:l.daw,onChange:ue,placeholder:"Type or select DAW...",list:"daw-suggestions"}),h.jsx("datalist",{id:"daw-suggestions",children:Qh.map(q=>h.jsx("option",{value:q},q))}),h.jsx("div",{className:"flex flex-wrap gap-2 mt-2 mb-1",children:Qh.slice(0,5).map(q=>h.jsx("button",{type:"button",onClick:()=>dt(q),className:`px-3 py-1 text-xs rounded-full transition-all duration-150 ease-in-out shadow-sm hover:shadow-md ${l.daw===q?"bg-orange-600 text-white ring-2 ring-orange-400 ring-offset-2 ring-offset-gray-800":"bg-gray-700 hover:bg-gray-600 text-gray-300 hover:text-gray-100"}`,children:q},q))})]}),h.jsx("div",{children:h.jsx(Mu,{label:"Available Plugins (Optional)",name:"plugins",value:l.plugins,onChange:ue,placeholder:"e.g., Serum, Valhalla Reverbs, Arturia V Collection, or type 'stock only'"})}),h.jsx("div",{children:h.jsx(Mu,{label:"Available Instruments (Optional)",name:"availableInstruments",value:l.availableInstruments||"",onChange:ue,placeholder:"e.g., Guitar, Analog Synth, MPC, Vocals"})}),h.jsx(Ne,{type:"submit",disabled:T,className:"w-full text-base py-2.5",leftIcon:h.jsx(Iu,{className:"w-5 h-5"}),children:T?_||"Generating...":"Generate TrackGuide"}),h.jsxs("div",{className:"flex space-x-2 mt-3",children:[h.jsx(Ne,{type:"button",onClick:()=>Ae(!0),variant:"secondary",className:"flex-1",leftIcon:h.jsx(Ou,{className:"w-4 h-4"}),children:"View Library"}),h.jsx(Ne,{type:"button",onClick:Pt,variant:"outline",className:"flex-1",children:"Clear Form"})]})]})})}),h.jsxs("div",{className:"lg:col-span-9 space-y-6",children:[G&&!T&&h.jsxs(Nt,{className:"border-red-500 bg-red-900/40 shadow-xl",children:[h.jsx("p",{className:"text-red-300 font-semibold text-lg",children:"TrackGuide Error:"}),h.jsx("p",{className:"text-red-300",children:G})]}),F&&!_.toLowerCase().includes("midi")&&!G&&h.jsxs(Nt,{className:"border-yellow-500 bg-yellow-900/40 shadow-xl",children:[h.jsx("p",{className:"text-yellow-300 font-semibold text-lg",children:"MIDI Generation Note:"}),h.jsx("p",{className:"text-yellow-300",children:F})]}),(v||T&&_.includes("TrackGuide is generating"))&&!G&&h.jsxs(Nt,{title:Ye,className:"bg-gray-800/80 backdrop-blur-md shadow-xl border border-gray-700/50 sticky top-8",titleClassName:"border-b border-gray-700 text-xl",children:[J&&!T&&h.jsxs("div",{className:"flex flex-wrap gap-3 mb-5 pb-4 border-b border-gray-700 items-center",children:[h.jsx(Ne,{onClick:us,variant:"secondary",leftIcon:h.jsx(n1,{}),children:"Save to Library"}),h.jsx(Ne,{onClick:()=>bl("guidebook-content-display"),variant:"outline",leftIcon:h.jsx(Zh,{}),children:"Copy TrackGuide"}),h.jsx("div",{className:"flex-grow"}),h.jsx(Ne,{onClick:Pt,variant:"outline",size:"sm",className:"!border-gray-500 !text-gray-400 hover:!bg-gray-600 hover:!text-white",leftIcon:h.jsx(Qu,{}),children:"Close"}),be&&h.jsx("span",{className:`ml-3 text-sm ${be.includes("Failed")||be.includes("not supported")?"text-red-400":"text-green-400"}`,children:be})]}),h.jsxs("div",{id:"guidebook-content-display",className:"prose prose-sm md:prose-base prose-invert max-w-none max-h-[calc(100vh-18rem)] overflow-y-auto pr-3 text-gray-300 custom-scrollbar guidebook-content",children:[J&&!T&&h.jsxs("div",{className:"mb-6 p-4 bg-gray-700/50 rounded-lg text-sm shadow-inner border border-gray-600/50 guidebook-section-break",children:[h.jsx("strong",{className:"text-orange-300 block mb-2 text-base",children:"TrackGuide Snapshot:"}),h.jsxs("p",{children:[h.jsx("strong",{children:"Project Title:"})," ",J.title]}),h.jsxs("p",{children:[h.jsx("strong",{children:"Genre(s):"})," ",Array.isArray(J.genre)?J.genre.join(", "):J.genre]}),h.jsxs("p",{children:[h.jsx("strong",{children:"Artist/Song Ref:"})," ",J.artistReference||"N/A"]}),h.jsxs("p",{children:[h.jsx("strong",{children:"Vibe(s):"})," ",Array.isArray(J.vibe)?J.vibe.join(", "):J.vibe]}),h.jsxs("p",{children:[h.jsx("strong",{children:"DAW:"})," ",J.daw]}),h.jsxs("p",{children:[h.jsx("strong",{children:"Plugins:"})," ",J.plugins||"N/A"]}),h.jsxs("p",{children:[h.jsx("strong",{children:"Instruments:"})," ",J.availableInstruments||"N/A"]}),J.generatedMidiPatterns&&h.jsxs("p",{className:"mt-1 text-green-400",children:[h.jsx(Sa,{className:"w-4 h-4 inline mr-1"})," Initial MIDI patterns generated."]})]}),J&&!T&&(()=>{const q=k1(J.content);return q.length>0&&h.jsxs("div",{className:"mb-6 p-4 bg-gray-700/50 rounded-lg text-sm shadow-inner border border-gray-600/50 guidebook-section-break",children:[h.jsx("strong",{className:"text-orange-300 block mb-3 text-base",children:"Structural Blueprint:"}),h.jsx("div",{className:"overflow-x-auto",children:h.jsxs("table",{className:"w-full border-collapse border border-gray-600 bg-gray-800 text-xs",children:[h.jsx("thead",{className:"bg-orange-800/30",children:h.jsxs("tr",{className:"border-b border-gray-500",children:[h.jsx("th",{className:"p-2 font-semibold text-orange-200 text-left border border-gray-500",children:"Section"}),h.jsx("th",{className:"p-2 font-semibold text-orange-200 text-left border border-gray-500",children:"Duration"}),h.jsx("th",{className:"p-2 font-semibold text-orange-200 text-left border border-gray-500",children:"Description"})]})}),h.jsx("tbody",{children:q.map((Z,te)=>h.jsxs("tr",{className:"border-b border-gray-600 hover:bg-gray-700/50 transition-colors duration-150",children:[h.jsx("td",{className:"p-2 text-gray-300 border border-gray-600 font-medium",children:Z.section}),h.jsx("td",{className:"p-2 text-gray-300 border border-gray-600",children:Z.duration}),h.jsx("td",{className:"p-2 text-gray-300 border border-gray-600",children:Z.description})]},te))})]})})]})})(),ci(v),T&&_.includes("TrackGuide is generating")&&h.jsx(Ea,{size:"sm",text:"Receiving content..."})]})]}),T&&!G&&_&&!_.includes("TrackGuide is generating")&&h.jsx("div",{className:"flex justify-center py-10",children:h.jsx(Ea,{size:"lg",text:_||"Processing..."})}),J&&!T&&v&&!G&&h.jsx(N1,{currentGuidebookEntry:J,mainAppInputs:l,onUpdateGuidebookEntryMidi:cs,parsedGuidebookBpm:ag(J.content),parsedGuidebookKey:og(J.content),parsedGuidebookChordProg:sg(J.content)}),!T&&!v&&!G&&!J&&h.jsxs(Nt,{className:"bg-gray-800/80 backdrop-blur-md shadow-xl border border-gray-700/50 flex flex-col items-center justify-center h-96 text-center min-h-[300px]",children:[h.jsx("div",{className:"flex justify-center mb-6",children:h.jsx(Iu,{className:"w-20 h-20 opacity-80 text-orange-500"})}),h.jsx("h3",{className:"text-2xl font-semibold text-gray-200 mb-2",children:"Produce Smarter. Create More."}),h.jsx("p",{className:"text-gray-400 max-w-md mx-auto",children:"Tell us what youre envisioningTrackGuide AI will generate a custom production guide and MIDI foundation."})]})]})]}),o==="mixFeedback"&&h.jsxs("div",{className:"max-w-6xl mx-auto grid grid-cols-1 md:grid-cols-12 gap-8",children:[h.jsxs("div",{className:"md:col-span-4 space-y-6",children:[h.jsx(Nt,{title:"Upload Your Mix",className:"bg-gray-800/80 backdrop-blur-md shadow-xl border border-gray-700/50",children:h.jsxs("form",{onSubmit:ms,className:"space-y-5",children:[h.jsxs("div",{children:[h.jsx("label",{htmlFor:"mix-audio-file",className:"block text-sm font-medium text-gray-300 mb-1",children:"Audio File (.mp3, .wav, etc.)"}),h.jsx("div",{className:`mt-1 flex justify-center px-6 pt-5 pb-6 border-2 ${R&&z.audioFile===null?"border-red-500":"border-gray-600"} border-dashed rounded-md cursor-pointer hover:border-orange-500 transition-colors`,onClick:()=>{var q;return(q=O.current)==null?void 0:q.click()},onDragOver:q=>{q.preventDefault(),q.currentTarget.classList.add("border-orange-500")},onDragLeave:q=>q.currentTarget.classList.remove("border-orange-500"),onDrop:q=>{if(q.preventDefault(),q.currentTarget.classList.remove("border-orange-500"),q.dataTransfer.files&&q.dataTransfer.files[0]){const Z=q.dataTransfer.files[0];if(Z.size>lg){D(`File is too large. Max ${Qo}MB.`);return}if(!Z.type.startsWith("audio/")){D("Invalid file type. Please upload audio.");return}U(te=>({...te,audioFile:Z})),D(null)}},children:h.jsxs("div",{className:"space-y-1 text-center",children:[h.jsx(ts,{className:"mx-auto h-12 w-12 text-gray-500"}),h.jsxs("div",{className:"flex text-sm text-gray-400",children:[h.jsx("span",{className:"relative rounded-md font-medium text-orange-400 hover:text-orange-300 focus-within:outline-none focus-within:ring-2 focus-within:ring-offset-2 focus-within:ring-offset-gray-900 focus-within:ring-orange-500",children:h.jsx("span",{children:"Upload a file"})}),h.jsx("input",{id:"mix-audio-file",name:"mix-audio-file",type:"file",className:"sr-only",accept:"audio/*",onChange:wa,ref:O}),h.jsx("p",{className:"pl-1",children:"or drag and drop"})]}),h.jsxs("p",{className:"text-xs text-gray-500",children:["Max file size: ",Qo,"MB"]})]})}),z.audioFile&&h.jsxs("p",{className:"text-xs text-green-400 mt-2",children:["Selected: ",z.audioFile.name," (",(z.audioFile.size/1024/1024).toFixed(2)," MB)"]}),R&&z.audioFile===null&&h.jsx("p",{className:"text-xs text-red-400 mt-2",children:R})]}),h.jsx("div",{children:h.jsx(Mu,{label:"Notes for AI (Optional)",name:"mixUserNotes",value:z.userNotes,onChange:fs,placeholder:"e.g., 'Focus on the low-end clarity', 'Is the vocal too loud?', 'General feedback welcome.'",rows:4})}),h.jsx(Ne,{type:"submit",disabled:S||!z.audioFile,className:"w-full text-base py-2.5 !bg-orange-600 hover:!bg-orange-700 focus:!ring-orange-500",leftIcon:h.jsx(Ri,{className:"w-5 h-5"}),children:S?"Analyzing Mix...":"Get Mix Feedback"}),h.jsx(Ne,{type:"button",onClick:di,variant:"outline",className:"w-full !border-orange-500 !text-orange-400 hover:!bg-orange-500 hover:!text-white",children:"Clear Mix Form"})]})}),h.jsx(Nt,{title:"Mix Tools",className:"bg-gray-800/80 backdrop-blur-md shadow-xl border border-gray-700/50",children:h.jsxs("div",{className:"space-y-3",children:[h.jsx(Ne,{onClick:()=>Ge(!0),variant:"primary",className:"w-full px-4 py-3 text-base font-semibold rounded-md transition-all duration-150 ease-in-out bg-gradient-to-r from-orange-600 to-red-600 hover:from-orange-700 hover:to-red-700 shadow-lg",leftIcon:h.jsx(ts,{className:"w-5 h-5"}),children:" Compare Your Mix"}),h.jsx("p",{className:"text-xs text-gray-400 text-center",children:"Upload two versions to compare side-by-side"})]})})]}),h.jsxs("div",{className:"md:col-span-8 space-y-6",children:[S&&h.jsx("div",{className:"flex justify-center items-center h-full min-h-[300px]",children:h.jsx(Ea,{size:"lg",color:"text-orange-500",text:"AI is analyzing your mix... this may take a moment."})}),R&&!S&&h.jsxs(Nt,{className:"border-red-500 bg-red-900/40 shadow-xl",children:[h.jsx("p",{className:"text-red-300 font-semibold text-lg",children:"Mix Feedback Error:"}),h.jsx("p",{className:"text-red-300",children:R})]}),N&&!S&&h.jsxs(Nt,{title:"AI Mix Feedback Report",className:"bg-gray-800/80 backdrop-blur-md shadow-xl border border-gray-700/50 sticky top-8",titleClassName:"border-b border-gray-700 text-xl !text-orange-300",children:[h.jsxs("div",{className:"flex flex-wrap gap-3 mb-5 pb-4 border-b border-gray-700 items-center",children:[h.jsx(Ne,{onClick:()=>bl("mix-feedback-display"),variant:"outline",className:"!border-orange-500 !text-orange-400 hover:!bg-orange-500 hover:!text-white",leftIcon:h.jsx(Zh,{}),children:"Copy Feedback"}),be&&h.jsx("span",{className:`ml-3 text-sm ${be.includes("Failed")?"text-red-400":"text-green-400"}`,children:be})]}),h.jsx("div",{id:"mix-feedback-display",className:"prose prose-sm md:prose-base prose-invert max-w-none max-h-[calc(100vh-18rem)] overflow-y-auto pr-3 text-gray-300 custom-scrollbar guidebook-content",children:ci(N,!0)})]}),!S&&!N&&!R&&h.jsxs(Nt,{className:"bg-gray-800/80 backdrop-blur-md shadow-xl border border-gray-700/50 flex flex-col items-center justify-center h-96 text-center min-h-[300px]",children:[h.jsx(Ri,{className:"w-20 h-20 text-orange-500 mb-6 opacity-80"}),h.jsx("h3",{className:"text-2xl font-semibold text-gray-200 mb-2",children:"Refine Your Sound."}),h.jsx("p",{className:"text-gray-400 max-w-md",children:"Upload your mix, add some notes, and get detailed feedback from our AI mixing engineer."})]})]})]}),He&&h.jsx(A1,{library:ee,onClose:()=>Ae(!1),onLoadEntry:Yt,onDeleteEntry:ds,onCreateNew:Pt}),ze&&h.jsx(M1,{isOpen:ze,onClose:()=>qe(!1),currentGuidebook:J||void 0,userInputs:l}),Le&&h.jsx(R1,{isOpen:Le,onClose:()=>yt(!1)}),Pe&&h.jsx(D1,{isOpen:Pe,onClose:()=>Ge(!1),onAnalyze:(q,Z)=>{console.log("Analyzing mixes:",q,Z)}}),h.jsx("footer",{className:"text-center mt-16 py-8 border-t border-gray-700/60",children:h.jsxs("p",{className:"text-sm text-gray-500",children:[Kh," - AI Production Assistant"]})})]})},Mg=document.getElementById("root");if(!Mg)throw new Error("Could not find root element to mount to");const G1=K0.createRoot(Mg);G1.render(h.jsx(Ii.StrictMode,{children:h.jsx(L1,{})}));
