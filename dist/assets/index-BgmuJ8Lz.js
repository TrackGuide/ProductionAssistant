(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const l of o)if(l.type==="childList")for(const u of l.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&r(u)}).observe(document,{childList:!0,subtree:!0});function n(o){const l={};return o.integrity&&(l.integrity=o.integrity),o.referrerPolicy&&(l.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?l.credentials="include":o.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function r(o){if(o.ep)return;o.ep=!0;const l=n(o);fetch(o.href,l)}})();function Es(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function Ww(e){if(Object.prototype.hasOwnProperty.call(e,"__esModule"))return e;var t=e.default;if(typeof t=="function"){var n=function r(){return this instanceof r?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var o=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,o.get?o:{enumerable:!0,get:function(){return e[r]}})}),n}var Qf={exports:{}},$o={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var i0;function eE(){if(i0)return $o;i0=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(r,o,l){var u=null;if(l!==void 0&&(u=""+l),o.key!==void 0&&(u=""+o.key),"key"in o){l={};for(var f in o)f!=="key"&&(l[f]=o[f])}else l=o;return o=l.ref,{$$typeof:e,type:r,key:u,ref:o!==void 0?o:null,props:l}}return $o.Fragment=t,$o.jsx=n,$o.jsxs=n,$o}var r0;function tE(){return r0||(r0=1,Qf.exports=eE()),Qf.exports}var y=tE(),Jf={exports:{}},Ne={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var a0;function nE(){if(a0)return Ne;a0=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),u=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),g=Symbol.iterator;function T(C){return C===null||typeof C!="object"?null:(C=g&&C[g]||C["@@iterator"],typeof C=="function"?C:null)}var S={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},E=Object.assign,k={};function R(C,O,G){this.props=C,this.context=O,this.refs=k,this.updater=G||S}R.prototype.isReactComponent={},R.prototype.setState=function(C,O){if(typeof C!="object"&&typeof C!="function"&&C!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,C,O,"setState")},R.prototype.forceUpdate=function(C){this.updater.enqueueForceUpdate(this,C,"forceUpdate")};function D(){}D.prototype=R.prototype;function B(C,O,G){this.props=C,this.context=O,this.refs=k,this.updater=G||S}var P=B.prototype=new D;P.constructor=B,E(P,R.prototype),P.isPureReactComponent=!0;var z=Array.isArray,F={H:null,A:null,T:null,S:null,V:null},H=Object.prototype.hasOwnProperty;function se(C,O,G,M,ee,j){return G=j.ref,{$$typeof:e,type:C,key:O,ref:G!==void 0?G:null,props:j}}function ae(C,O){return se(C.type,O,void 0,void 0,void 0,C.props)}function pe(C){return typeof C=="object"&&C!==null&&C.$$typeof===e}function L(C){var O={"=":"=0",":":"=2"};return"$"+C.replace(/[=:]/g,function(G){return O[G]})}var oe=/\/+/g;function he(C,O){return typeof C=="object"&&C!==null&&C.key!=null?L(""+C.key):O.toString(36)}function fe(){}function ue(C){switch(C.status){case"fulfilled":return C.value;case"rejected":throw C.reason;default:switch(typeof C.status=="string"?C.then(fe,fe):(C.status="pending",C.then(function(O){C.status==="pending"&&(C.status="fulfilled",C.value=O)},function(O){C.status==="pending"&&(C.status="rejected",C.reason=O)})),C.status){case"fulfilled":return C.value;case"rejected":throw C.reason}}throw C}function me(C,O,G,M,ee){var j=typeof C;(j==="undefined"||j==="boolean")&&(C=null);var te=!1;if(C===null)te=!0;else switch(j){case"bigint":case"string":case"number":te=!0;break;case"object":switch(C.$$typeof){case e:case t:te=!0;break;case m:return te=C._init,me(te(C._payload),O,G,M,ee)}}if(te)return ee=ee(C),te=M===""?"."+he(C,0):M,z(ee)?(G="",te!=null&&(G=te.replace(oe,"$&/")+"/"),me(ee,O,G,"",function(Ee){return Ee})):ee!=null&&(pe(ee)&&(ee=ae(ee,G+(ee.key==null||C&&C.key===ee.key?"":(""+ee.key).replace(oe,"$&/")+"/")+te)),O.push(ee)),1;te=0;var ye=M===""?".":M+":";if(z(C))for(var le=0;le<C.length;le++)M=C[le],j=ye+he(M,le),te+=me(M,O,G,j,ee);else if(le=T(C),typeof le=="function")for(C=le.call(C),le=0;!(M=C.next()).done;)M=M.value,j=ye+he(M,le++),te+=me(M,O,G,j,ee);else if(j==="object"){if(typeof C.then=="function")return me(ue(C),O,G,M,ee);throw O=String(C),Error("Objects are not valid as a React child (found: "+(O==="[object Object]"?"object with keys {"+Object.keys(C).join(", ")+"}":O)+"). If you meant to render a collection of children, use an array instead.")}return te}function K(C,O,G){if(C==null)return C;var M=[],ee=0;return me(C,M,"","",function(j){return O.call(G,j,ee++)}),M}function V(C){if(C._status===-1){var O=C._result;O=O(),O.then(function(G){(C._status===0||C._status===-1)&&(C._status=1,C._result=G)},function(G){(C._status===0||C._status===-1)&&(C._status=2,C._result=G)}),C._status===-1&&(C._status=0,C._result=O)}if(C._status===1)return C._result.default;throw C._result}var N=typeof reportError=="function"?reportError:function(C){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var O=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof C=="object"&&C!==null&&typeof C.message=="string"?String(C.message):String(C),error:C});if(!window.dispatchEvent(O))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",C);return}console.error(C)};function _(){}return Ne.Children={map:K,forEach:function(C,O,G){K(C,function(){O.apply(this,arguments)},G)},count:function(C){var O=0;return K(C,function(){O++}),O},toArray:function(C){return K(C,function(O){return O})||[]},only:function(C){if(!pe(C))throw Error("React.Children.only expected to receive a single React element child.");return C}},Ne.Component=R,Ne.Fragment=n,Ne.Profiler=o,Ne.PureComponent=B,Ne.StrictMode=r,Ne.Suspense=h,Ne.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=F,Ne.__COMPILER_RUNTIME={__proto__:null,c:function(C){return F.H.useMemoCache(C)}},Ne.cache=function(C){return function(){return C.apply(null,arguments)}},Ne.cloneElement=function(C,O,G){if(C==null)throw Error("The argument must be a React element, but you passed "+C+".");var M=E({},C.props),ee=C.key,j=void 0;if(O!=null)for(te in O.ref!==void 0&&(j=void 0),O.key!==void 0&&(ee=""+O.key),O)!H.call(O,te)||te==="key"||te==="__self"||te==="__source"||te==="ref"&&O.ref===void 0||(M[te]=O[te]);var te=arguments.length-2;if(te===1)M.children=G;else if(1<te){for(var ye=Array(te),le=0;le<te;le++)ye[le]=arguments[le+2];M.children=ye}return se(C.type,ee,void 0,void 0,j,M)},Ne.createContext=function(C){return C={$$typeof:u,_currentValue:C,_currentValue2:C,_threadCount:0,Provider:null,Consumer:null},C.Provider=C,C.Consumer={$$typeof:l,_context:C},C},Ne.createElement=function(C,O,G){var M,ee={},j=null;if(O!=null)for(M in O.key!==void 0&&(j=""+O.key),O)H.call(O,M)&&M!=="key"&&M!=="__self"&&M!=="__source"&&(ee[M]=O[M]);var te=arguments.length-2;if(te===1)ee.children=G;else if(1<te){for(var ye=Array(te),le=0;le<te;le++)ye[le]=arguments[le+2];ee.children=ye}if(C&&C.defaultProps)for(M in te=C.defaultProps,te)ee[M]===void 0&&(ee[M]=te[M]);return se(C,j,void 0,void 0,null,ee)},Ne.createRef=function(){return{current:null}},Ne.forwardRef=function(C){return{$$typeof:f,render:C}},Ne.isValidElement=pe,Ne.lazy=function(C){return{$$typeof:m,_payload:{_status:-1,_result:C},_init:V}},Ne.memo=function(C,O){return{$$typeof:d,type:C,compare:O===void 0?null:O}},Ne.startTransition=function(C){var O=F.T,G={};F.T=G;try{var M=C(),ee=F.S;ee!==null&&ee(G,M),typeof M=="object"&&M!==null&&typeof M.then=="function"&&M.then(_,N)}catch(j){N(j)}finally{F.T=O}},Ne.unstable_useCacheRefresh=function(){return F.H.useCacheRefresh()},Ne.use=function(C){return F.H.use(C)},Ne.useActionState=function(C,O,G){return F.H.useActionState(C,O,G)},Ne.useCallback=function(C,O){return F.H.useCallback(C,O)},Ne.useContext=function(C){return F.H.useContext(C)},Ne.useDebugValue=function(){},Ne.useDeferredValue=function(C,O){return F.H.useDeferredValue(C,O)},Ne.useEffect=function(C,O,G){var M=F.H;if(typeof G=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return M.useEffect(C,O)},Ne.useId=function(){return F.H.useId()},Ne.useImperativeHandle=function(C,O,G){return F.H.useImperativeHandle(C,O,G)},Ne.useInsertionEffect=function(C,O){return F.H.useInsertionEffect(C,O)},Ne.useLayoutEffect=function(C,O){return F.H.useLayoutEffect(C,O)},Ne.useMemo=function(C,O){return F.H.useMemo(C,O)},Ne.useOptimistic=function(C,O){return F.H.useOptimistic(C,O)},Ne.useReducer=function(C,O,G){return F.H.useReducer(C,O,G)},Ne.useRef=function(C){return F.H.useRef(C)},Ne.useState=function(C){return F.H.useState(C)},Ne.useSyncExternalStore=function(C,O,G){return F.H.useSyncExternalStore(C,O,G)},Ne.useTransition=function(){return F.H.useTransition()},Ne.version="19.1.0",Ne}var o0;function Eh(){return o0||(o0=1,Jf.exports=nE()),Jf.exports}var re=Eh();const Bb=Es(re);var Zf={exports:{}},Ko={},Wf={exports:{}},ed={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var s0;function iE(){return s0||(s0=1,function(e){function t(K,V){var N=K.length;K.push(V);e:for(;0<N;){var _=N-1>>>1,C=K[_];if(0<o(C,V))K[_]=V,K[N]=C,N=_;else break e}}function n(K){return K.length===0?null:K[0]}function r(K){if(K.length===0)return null;var V=K[0],N=K.pop();if(N!==V){K[0]=N;e:for(var _=0,C=K.length,O=C>>>1;_<O;){var G=2*(_+1)-1,M=K[G],ee=G+1,j=K[ee];if(0>o(M,N))ee<C&&0>o(j,M)?(K[_]=j,K[ee]=N,_=ee):(K[_]=M,K[G]=N,_=G);else if(ee<C&&0>o(j,N))K[_]=j,K[ee]=N,_=ee;else break e}}return V}function o(K,V){var N=K.sortIndex-V.sortIndex;return N!==0?N:K.id-V.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;e.unstable_now=function(){return l.now()}}else{var u=Date,f=u.now();e.unstable_now=function(){return u.now()-f}}var h=[],d=[],m=1,g=null,T=3,S=!1,E=!1,k=!1,R=!1,D=typeof setTimeout=="function"?setTimeout:null,B=typeof clearTimeout=="function"?clearTimeout:null,P=typeof setImmediate<"u"?setImmediate:null;function z(K){for(var V=n(d);V!==null;){if(V.callback===null)r(d);else if(V.startTime<=K)r(d),V.sortIndex=V.expirationTime,t(h,V);else break;V=n(d)}}function F(K){if(k=!1,z(K),!E)if(n(h)!==null)E=!0,H||(H=!0,he());else{var V=n(d);V!==null&&me(F,V.startTime-K)}}var H=!1,se=-1,ae=5,pe=-1;function L(){return R?!0:!(e.unstable_now()-pe<ae)}function oe(){if(R=!1,H){var K=e.unstable_now();pe=K;var V=!0;try{e:{E=!1,k&&(k=!1,B(se),se=-1),S=!0;var N=T;try{t:{for(z(K),g=n(h);g!==null&&!(g.expirationTime>K&&L());){var _=g.callback;if(typeof _=="function"){g.callback=null,T=g.priorityLevel;var C=_(g.expirationTime<=K);if(K=e.unstable_now(),typeof C=="function"){g.callback=C,z(K),V=!0;break t}g===n(h)&&r(h),z(K)}else r(h);g=n(h)}if(g!==null)V=!0;else{var O=n(d);O!==null&&me(F,O.startTime-K),V=!1}}break e}finally{g=null,T=N,S=!1}V=void 0}}finally{V?he():H=!1}}}var he;if(typeof P=="function")he=function(){P(oe)};else if(typeof MessageChannel<"u"){var fe=new MessageChannel,ue=fe.port2;fe.port1.onmessage=oe,he=function(){ue.postMessage(null)}}else he=function(){D(oe,0)};function me(K,V){se=D(function(){K(e.unstable_now())},V)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(K){K.callback=null},e.unstable_forceFrameRate=function(K){0>K||125<K?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):ae=0<K?Math.floor(1e3/K):5},e.unstable_getCurrentPriorityLevel=function(){return T},e.unstable_next=function(K){switch(T){case 1:case 2:case 3:var V=3;break;default:V=T}var N=T;T=V;try{return K()}finally{T=N}},e.unstable_requestPaint=function(){R=!0},e.unstable_runWithPriority=function(K,V){switch(K){case 1:case 2:case 3:case 4:case 5:break;default:K=3}var N=T;T=K;try{return V()}finally{T=N}},e.unstable_scheduleCallback=function(K,V,N){var _=e.unstable_now();switch(typeof N=="object"&&N!==null?(N=N.delay,N=typeof N=="number"&&0<N?_+N:_):N=_,K){case 1:var C=-1;break;case 2:C=250;break;case 5:C=1073741823;break;case 4:C=1e4;break;default:C=5e3}return C=N+C,K={id:m++,callback:V,priorityLevel:K,startTime:N,expirationTime:C,sortIndex:-1},N>_?(K.sortIndex=N,t(d,K),n(h)===null&&K===n(d)&&(k?(B(se),se=-1):k=!0,me(F,N-_))):(K.sortIndex=C,t(h,K),E||S||(E=!0,H||(H=!0,he()))),K},e.unstable_shouldYield=L,e.unstable_wrapCallback=function(K){var V=T;return function(){var N=T;T=V;try{return K.apply(this,arguments)}finally{T=N}}}}(ed)),ed}var l0;function rE(){return l0||(l0=1,Wf.exports=iE()),Wf.exports}var td={exports:{}},Ft={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var u0;function aE(){if(u0)return Ft;u0=1;var e=Eh();function t(h){var d="https://react.dev/errors/"+h;if(1<arguments.length){d+="?args[]="+encodeURIComponent(arguments[1]);for(var m=2;m<arguments.length;m++)d+="&args[]="+encodeURIComponent(arguments[m])}return"Minified React error #"+h+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function l(h,d,m){var g=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:g==null?null:""+g,children:h,containerInfo:d,implementation:m}}var u=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function f(h,d){if(h==="font")return"";if(typeof d=="string")return d==="use-credentials"?d:""}return Ft.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Ft.createPortal=function(h,d){var m=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!d||d.nodeType!==1&&d.nodeType!==9&&d.nodeType!==11)throw Error(t(299));return l(h,d,null,m)},Ft.flushSync=function(h){var d=u.T,m=r.p;try{if(u.T=null,r.p=2,h)return h()}finally{u.T=d,r.p=m,r.d.f()}},Ft.preconnect=function(h,d){typeof h=="string"&&(d?(d=d.crossOrigin,d=typeof d=="string"?d==="use-credentials"?d:"":void 0):d=null,r.d.C(h,d))},Ft.prefetchDNS=function(h){typeof h=="string"&&r.d.D(h)},Ft.preinit=function(h,d){if(typeof h=="string"&&d&&typeof d.as=="string"){var m=d.as,g=f(m,d.crossOrigin),T=typeof d.integrity=="string"?d.integrity:void 0,S=typeof d.fetchPriority=="string"?d.fetchPriority:void 0;m==="style"?r.d.S(h,typeof d.precedence=="string"?d.precedence:void 0,{crossOrigin:g,integrity:T,fetchPriority:S}):m==="script"&&r.d.X(h,{crossOrigin:g,integrity:T,fetchPriority:S,nonce:typeof d.nonce=="string"?d.nonce:void 0})}},Ft.preinitModule=function(h,d){if(typeof h=="string")if(typeof d=="object"&&d!==null){if(d.as==null||d.as==="script"){var m=f(d.as,d.crossOrigin);r.d.M(h,{crossOrigin:m,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0})}}else d==null&&r.d.M(h)},Ft.preload=function(h,d){if(typeof h=="string"&&typeof d=="object"&&d!==null&&typeof d.as=="string"){var m=d.as,g=f(m,d.crossOrigin);r.d.L(h,m,{crossOrigin:g,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0,type:typeof d.type=="string"?d.type:void 0,fetchPriority:typeof d.fetchPriority=="string"?d.fetchPriority:void 0,referrerPolicy:typeof d.referrerPolicy=="string"?d.referrerPolicy:void 0,imageSrcSet:typeof d.imageSrcSet=="string"?d.imageSrcSet:void 0,imageSizes:typeof d.imageSizes=="string"?d.imageSizes:void 0,media:typeof d.media=="string"?d.media:void 0})}},Ft.preloadModule=function(h,d){if(typeof h=="string")if(d){var m=f(d.as,d.crossOrigin);r.d.m(h,{as:typeof d.as=="string"&&d.as!=="script"?d.as:void 0,crossOrigin:m,integrity:typeof d.integrity=="string"?d.integrity:void 0})}else r.d.m(h)},Ft.requestFormReset=function(h){r.d.r(h)},Ft.unstable_batchedUpdates=function(h,d){return h(d)},Ft.useFormState=function(h,d,m){return u.H.useFormState(h,d,m)},Ft.useFormStatus=function(){return u.H.useHostTransitionStatus()},Ft.version="19.1.0",Ft}var c0;function oE(){if(c0)return td.exports;c0=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),td.exports=aE(),td.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var f0;function sE(){if(f0)return Ko;f0=1;var e=rE(),t=Eh(),n=oE();function r(i){var a="https://react.dev/errors/"+i;if(1<arguments.length){a+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)a+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+i+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function l(i){var a=i,s=i;if(i.alternate)for(;a.return;)a=a.return;else{i=a;do a=i,(a.flags&4098)!==0&&(s=a.return),i=a.return;while(i)}return a.tag===3?s:null}function u(i){if(i.tag===13){var a=i.memoizedState;if(a===null&&(i=i.alternate,i!==null&&(a=i.memoizedState)),a!==null)return a.dehydrated}return null}function f(i){if(l(i)!==i)throw Error(r(188))}function h(i){var a=i.alternate;if(!a){if(a=l(i),a===null)throw Error(r(188));return a!==i?null:i}for(var s=i,c=a;;){var p=s.return;if(p===null)break;var b=p.alternate;if(b===null){if(c=p.return,c!==null){s=c;continue}break}if(p.child===b.child){for(b=p.child;b;){if(b===s)return f(p),i;if(b===c)return f(p),a;b=b.sibling}throw Error(r(188))}if(s.return!==c.return)s=p,c=b;else{for(var w=!1,A=p.child;A;){if(A===s){w=!0,s=p,c=b;break}if(A===c){w=!0,c=p,s=b;break}A=A.sibling}if(!w){for(A=b.child;A;){if(A===s){w=!0,s=b,c=p;break}if(A===c){w=!0,c=b,s=p;break}A=A.sibling}if(!w)throw Error(r(189))}}if(s.alternate!==c)throw Error(r(190))}if(s.tag!==3)throw Error(r(188));return s.stateNode.current===s?i:a}function d(i){var a=i.tag;if(a===5||a===26||a===27||a===6)return i;for(i=i.child;i!==null;){if(a=d(i),a!==null)return a;i=i.sibling}return null}var m=Object.assign,g=Symbol.for("react.element"),T=Symbol.for("react.transitional.element"),S=Symbol.for("react.portal"),E=Symbol.for("react.fragment"),k=Symbol.for("react.strict_mode"),R=Symbol.for("react.profiler"),D=Symbol.for("react.provider"),B=Symbol.for("react.consumer"),P=Symbol.for("react.context"),z=Symbol.for("react.forward_ref"),F=Symbol.for("react.suspense"),H=Symbol.for("react.suspense_list"),se=Symbol.for("react.memo"),ae=Symbol.for("react.lazy"),pe=Symbol.for("react.activity"),L=Symbol.for("react.memo_cache_sentinel"),oe=Symbol.iterator;function he(i){return i===null||typeof i!="object"?null:(i=oe&&i[oe]||i["@@iterator"],typeof i=="function"?i:null)}var fe=Symbol.for("react.client.reference");function ue(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===fe?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case E:return"Fragment";case R:return"Profiler";case k:return"StrictMode";case F:return"Suspense";case H:return"SuspenseList";case pe:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case S:return"Portal";case P:return(i.displayName||"Context")+".Provider";case B:return(i._context.displayName||"Context")+".Consumer";case z:var a=i.render;return i=i.displayName,i||(i=a.displayName||a.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case se:return a=i.displayName||null,a!==null?a:ue(i.type)||"Memo";case ae:a=i._payload,i=i._init;try{return ue(i(a))}catch{}}return null}var me=Array.isArray,K=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,V=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,N={pending:!1,data:null,method:null,action:null},_=[],C=-1;function O(i){return{current:i}}function G(i){0>C||(i.current=_[C],_[C]=null,C--)}function M(i,a){C++,_[C]=i.current,i.current=a}var ee=O(null),j=O(null),te=O(null),ye=O(null);function le(i,a){switch(M(te,a),M(j,i),M(ee,null),a.nodeType){case 9:case 11:i=(i=a.documentElement)&&(i=i.namespaceURI)?Ry(i):0;break;default:if(i=a.tagName,a=a.namespaceURI)a=Ry(a),i=_y(a,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}G(ee),M(ee,i)}function Ee(){G(ee),G(j),G(te)}function _e(i){i.memoizedState!==null&&M(ye,i);var a=ee.current,s=_y(a,i.type);a!==s&&(M(j,i),M(ee,s))}function je(i){j.current===i&&(G(ee),G(j)),ye.current===i&&(G(ye),Fo._currentValue=N)}var He=Object.prototype.hasOwnProperty,nt=e.unstable_scheduleCallback,at=e.unstable_cancelCallback,Mt=e.unstable_shouldYield,ln=e.unstable_requestPaint,Vt=e.unstable_now,Hr=e.unstable_getCurrentPriorityLevel,wt=e.unstable_ImmediatePriority,ii=e.unstable_UserBlockingPriority,ri=e.unstable_NormalPriority,qr=e.unstable_LowPriority,Gr=e.unstable_IdlePriority,Yr=e.log,ur=e.unstable_setDisableYieldValue,Z=null,ce=null;function Te(i){if(typeof Yr=="function"&&ur(i),ce&&typeof ce.setStrictMode=="function")try{ce.setStrictMode(Z,i)}catch{}}var Ce=Math.clz32?Math.clz32:Bn,Ye=Math.log,Bt=Math.LN2;function Bn(i){return i>>>=0,i===0?32:31-(Ye(i)/Bt|0)|0}var Ot=256,bn=4194304;function $t(i){var a=i&42;if(a!==0)return a;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function pt(i,a,s){var c=i.pendingLanes;if(c===0)return 0;var p=0,b=i.suspendedLanes,w=i.pingedLanes;i=i.warmLanes;var A=c&134217727;return A!==0?(c=A&~b,c!==0?p=$t(c):(w&=A,w!==0?p=$t(w):s||(s=A&~i,s!==0&&(p=$t(s))))):(A=c&~b,A!==0?p=$t(A):w!==0?p=$t(w):s||(s=c&~i,s!==0&&(p=$t(s)))),p===0?0:a!==0&&a!==p&&(a&b)===0&&(b=p&-p,s=a&-a,b>=s||b===32&&(s&4194048)!==0)?a:p}function Jt(i,a){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&a)===0}function un(i,a){switch(i){case 1:case 2:case 4:case 8:case 64:return a+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function cn(){var i=Ot;return Ot<<=1,(Ot&4194048)===0&&(Ot=256),i}function Xa(){var i=bn;return bn<<=1,(bn&62914560)===0&&(bn=4194304),i}function $r(i){for(var a=[],s=0;31>s;s++)a.push(i);return a}function J(i,a){i.pendingLanes|=a,a!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function ge(i,a,s,c,p,b){var w=i.pendingLanes;i.pendingLanes=s,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=s,i.entangledLanes&=s,i.errorRecoveryDisabledLanes&=s,i.shellSuspendCounter=0;var A=i.entanglements,I=i.expirationTimes,$=i.hiddenUpdates;for(s=w&~s;0<s;){var W=31-Ce(s),ie=1<<W;A[W]=0,I[W]=-1;var X=$[W];if(X!==null)for($[W]=null,W=0;W<X.length;W++){var Q=X[W];Q!==null&&(Q.lane&=-536870913)}s&=~ie}c!==0&&ve(i,c,0),b!==0&&p===0&&i.tag!==0&&(i.suspendedLanes|=b&~(w&~a))}function ve(i,a,s){i.pendingLanes|=a,i.suspendedLanes&=~a;var c=31-Ce(a);i.entangledLanes|=a,i.entanglements[c]=i.entanglements[c]|1073741824|s&4194090}function Ue(i,a){var s=i.entangledLanes|=a;for(i=i.entanglements;s;){var c=31-Ce(s),p=1<<c;p&a|i[c]&a&&(i[c]|=a),s&=~p}}function jt(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function ot(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function Ps(){var i=V.p;return i!==0?i:(i=window.event,i===void 0?32:Jy(i.type))}function Fu(i,a){var s=V.p;try{return V.p=i,a()}finally{V.p=s}}var Yn=Math.random().toString(36).slice(2),kt="__reactFiber$"+Yn,Ut="__reactProps$"+Yn,Ei="__reactContainer$"+Yn,Qa="__reactEvents$"+Yn,Kr="__reactListeners$"+Yn,Ls="__reactHandles$"+Yn,Vs="__reactResources$"+Yn,cr="__reactMarker$"+Yn;function Ja(i){delete i[kt],delete i[Ut],delete i[Qa],delete i[Kr],delete i[Ls]}function Ai(i){var a=i[kt];if(a)return a;for(var s=i.parentNode;s;){if(a=s[Ei]||s[kt]){if(s=a.alternate,a.child!==null||s!==null&&s.child!==null)for(i=Vy(i);i!==null;){if(s=i[kt])return s;i=Vy(i)}return a}i=s,s=i.parentNode}return null}function ai(i){if(i=i[kt]||i[Ei]){var a=i.tag;if(a===5||a===6||a===13||a===26||a===27||a===3)return i}return null}function fr(i){var a=i.tag;if(a===5||a===26||a===27||a===6)return i.stateNode;throw Error(r(33))}function dr(i){var a=i[Vs];return a||(a=i[Vs]={hoistableStyles:new Map,hoistableScripts:new Map}),a}function vt(i){i[cr]=!0}var Zt=new Set,oi={};function On(i,a){Mi(i,a),Mi(i+"Capture",a)}function Mi(i,a){for(oi[i]=a,i=0;i<a.length;i++)Zt.add(a[i])}var Za=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),hr={},Wa={};function YS(i){return He.call(Wa,i)?!0:He.call(hr,i)?!1:Za.test(i)?Wa[i]=!0:(hr[i]=!0,!1)}function Bs(i,a,s){if(YS(a))if(s===null)i.removeAttribute(a);else{switch(typeof s){case"undefined":case"function":case"symbol":i.removeAttribute(a);return;case"boolean":var c=a.toLowerCase().slice(0,5);if(c!=="data-"&&c!=="aria-"){i.removeAttribute(a);return}}i.setAttribute(a,""+s)}}function Os(i,a,s){if(s===null)i.removeAttribute(a);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(a);return}i.setAttribute(a,""+s)}}function si(i,a,s,c){if(c===null)i.removeAttribute(s);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(s);return}i.setAttributeNS(a,s,""+c)}}var Hu,wm;function Xr(i){if(Hu===void 0)try{throw Error()}catch(s){var a=s.stack.trim().match(/\n( *(at )?)/);Hu=a&&a[1]||"",wm=-1<s.stack.indexOf(`
    at`)?" (<anonymous>)":-1<s.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Hu+i+wm}var qu=!1;function Gu(i,a){if(!i||qu)return"";qu=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var c={DetermineComponentFrameRoot:function(){try{if(a){var ie=function(){throw Error()};if(Object.defineProperty(ie.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ie,[])}catch(Q){var X=Q}Reflect.construct(i,[],ie)}else{try{ie.call()}catch(Q){X=Q}i.call(ie.prototype)}}else{try{throw Error()}catch(Q){X=Q}(ie=i())&&typeof ie.catch=="function"&&ie.catch(function(){})}}catch(Q){if(Q&&X&&typeof Q.stack=="string")return[Q.stack,X.stack]}return[null,null]}};c.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var p=Object.getOwnPropertyDescriptor(c.DetermineComponentFrameRoot,"name");p&&p.configurable&&Object.defineProperty(c.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var b=c.DetermineComponentFrameRoot(),w=b[0],A=b[1];if(w&&A){var I=w.split(`
`),$=A.split(`
`);for(p=c=0;c<I.length&&!I[c].includes("DetermineComponentFrameRoot");)c++;for(;p<$.length&&!$[p].includes("DetermineComponentFrameRoot");)p++;if(c===I.length||p===$.length)for(c=I.length-1,p=$.length-1;1<=c&&0<=p&&I[c]!==$[p];)p--;for(;1<=c&&0<=p;c--,p--)if(I[c]!==$[p]){if(c!==1||p!==1)do if(c--,p--,0>p||I[c]!==$[p]){var W=`
`+I[c].replace(" at new "," at ");return i.displayName&&W.includes("<anonymous>")&&(W=W.replace("<anonymous>",i.displayName)),W}while(1<=c&&0<=p);break}}}finally{qu=!1,Error.prepareStackTrace=s}return(s=i?i.displayName||i.name:"")?Xr(s):""}function $S(i){switch(i.tag){case 26:case 27:case 5:return Xr(i.type);case 16:return Xr("Lazy");case 13:return Xr("Suspense");case 19:return Xr("SuspenseList");case 0:case 15:return Gu(i.type,!1);case 11:return Gu(i.type.render,!1);case 1:return Gu(i.type,!0);case 31:return Xr("Activity");default:return""}}function Em(i){try{var a="";do a+=$S(i),i=i.return;while(i);return a}catch(s){return`
Error generating stack: `+s.message+`
`+s.stack}}function Tn(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function Am(i){var a=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function KS(i){var a=Am(i)?"checked":"value",s=Object.getOwnPropertyDescriptor(i.constructor.prototype,a),c=""+i[a];if(!i.hasOwnProperty(a)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var p=s.get,b=s.set;return Object.defineProperty(i,a,{configurable:!0,get:function(){return p.call(this)},set:function(w){c=""+w,b.call(this,w)}}),Object.defineProperty(i,a,{enumerable:s.enumerable}),{getValue:function(){return c},setValue:function(w){c=""+w},stopTracking:function(){i._valueTracker=null,delete i[a]}}}}function js(i){i._valueTracker||(i._valueTracker=KS(i))}function Mm(i){if(!i)return!1;var a=i._valueTracker;if(!a)return!0;var s=a.getValue(),c="";return i&&(c=Am(i)?i.checked?"true":"false":i.value),i=c,i!==s?(a.setValue(i),!0):!1}function Us(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var XS=/[\n"\\]/g;function Sn(i){return i.replace(XS,function(a){return"\\"+a.charCodeAt(0).toString(16)+" "})}function Yu(i,a,s,c,p,b,w,A){i.name="",w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"?i.type=w:i.removeAttribute("type"),a!=null?w==="number"?(a===0&&i.value===""||i.value!=a)&&(i.value=""+Tn(a)):i.value!==""+Tn(a)&&(i.value=""+Tn(a)):w!=="submit"&&w!=="reset"||i.removeAttribute("value"),a!=null?$u(i,w,Tn(a)):s!=null?$u(i,w,Tn(s)):c!=null&&i.removeAttribute("value"),p==null&&b!=null&&(i.defaultChecked=!!b),p!=null&&(i.checked=p&&typeof p!="function"&&typeof p!="symbol"),A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"?i.name=""+Tn(A):i.removeAttribute("name")}function km(i,a,s,c,p,b,w,A){if(b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"&&(i.type=b),a!=null||s!=null){if(!(b!=="submit"&&b!=="reset"||a!=null))return;s=s!=null?""+Tn(s):"",a=a!=null?""+Tn(a):s,A||a===i.value||(i.value=a),i.defaultValue=a}c=c??p,c=typeof c!="function"&&typeof c!="symbol"&&!!c,i.checked=A?i.checked:!!c,i.defaultChecked=!!c,w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"&&(i.name=w)}function $u(i,a,s){a==="number"&&Us(i.ownerDocument)===i||i.defaultValue===""+s||(i.defaultValue=""+s)}function Qr(i,a,s,c){if(i=i.options,a){a={};for(var p=0;p<s.length;p++)a["$"+s[p]]=!0;for(s=0;s<i.length;s++)p=a.hasOwnProperty("$"+i[s].value),i[s].selected!==p&&(i[s].selected=p),p&&c&&(i[s].defaultSelected=!0)}else{for(s=""+Tn(s),a=null,p=0;p<i.length;p++){if(i[p].value===s){i[p].selected=!0,c&&(i[p].defaultSelected=!0);return}a!==null||i[p].disabled||(a=i[p])}a!==null&&(a.selected=!0)}}function Dm(i,a,s){if(a!=null&&(a=""+Tn(a),a!==i.value&&(i.value=a),s==null)){i.defaultValue!==a&&(i.defaultValue=a);return}i.defaultValue=s!=null?""+Tn(s):""}function Nm(i,a,s,c){if(a==null){if(c!=null){if(s!=null)throw Error(r(92));if(me(c)){if(1<c.length)throw Error(r(93));c=c[0]}s=c}s==null&&(s=""),a=s}s=Tn(a),i.defaultValue=s,c=i.textContent,c===s&&c!==""&&c!==null&&(i.value=c)}function Jr(i,a){if(a){var s=i.firstChild;if(s&&s===i.lastChild&&s.nodeType===3){s.nodeValue=a;return}}i.textContent=a}var QS=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Rm(i,a,s){var c=a.indexOf("--")===0;s==null||typeof s=="boolean"||s===""?c?i.setProperty(a,""):a==="float"?i.cssFloat="":i[a]="":c?i.setProperty(a,s):typeof s!="number"||s===0||QS.has(a)?a==="float"?i.cssFloat=s:i[a]=(""+s).trim():i[a]=s+"px"}function _m(i,a,s){if(a!=null&&typeof a!="object")throw Error(r(62));if(i=i.style,s!=null){for(var c in s)!s.hasOwnProperty(c)||a!=null&&a.hasOwnProperty(c)||(c.indexOf("--")===0?i.setProperty(c,""):c==="float"?i.cssFloat="":i[c]="");for(var p in a)c=a[p],a.hasOwnProperty(p)&&s[p]!==c&&Rm(i,p,c)}else for(var b in a)a.hasOwnProperty(b)&&Rm(i,b,a[b])}function Ku(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var JS=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),ZS=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function zs(i){return ZS.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}var Xu=null;function Qu(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var Zr=null,Wr=null;function Im(i){var a=ai(i);if(a&&(i=a.stateNode)){var s=i[Ut]||null;e:switch(i=a.stateNode,a.type){case"input":if(Yu(i,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name),a=s.name,s.type==="radio"&&a!=null){for(s=i;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll('input[name="'+Sn(""+a)+'"][type="radio"]'),a=0;a<s.length;a++){var c=s[a];if(c!==i&&c.form===i.form){var p=c[Ut]||null;if(!p)throw Error(r(90));Yu(c,p.value,p.defaultValue,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name)}}for(a=0;a<s.length;a++)c=s[a],c.form===i.form&&Mm(c)}break e;case"textarea":Dm(i,s.value,s.defaultValue);break e;case"select":a=s.value,a!=null&&Qr(i,!!s.multiple,a,!1)}}}var Ju=!1;function Pm(i,a,s){if(Ju)return i(a,s);Ju=!0;try{var c=i(a);return c}finally{if(Ju=!1,(Zr!==null||Wr!==null)&&(Al(),Zr&&(a=Zr,i=Wr,Wr=Zr=null,Im(a),i)))for(a=0;a<i.length;a++)Im(i[a])}}function eo(i,a){var s=i.stateNode;if(s===null)return null;var c=s[Ut]||null;if(c===null)return null;s=c[a];e:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(i=i.type,c=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!c;break e;default:i=!1}if(i)return null;if(s&&typeof s!="function")throw Error(r(231,a,typeof s));return s}var li=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Zu=!1;if(li)try{var to={};Object.defineProperty(to,"passive",{get:function(){Zu=!0}}),window.addEventListener("test",to,to),window.removeEventListener("test",to,to)}catch{Zu=!1}var ki=null,Wu=null,Fs=null;function Lm(){if(Fs)return Fs;var i,a=Wu,s=a.length,c,p="value"in ki?ki.value:ki.textContent,b=p.length;for(i=0;i<s&&a[i]===p[i];i++);var w=s-i;for(c=1;c<=w&&a[s-c]===p[b-c];c++);return Fs=p.slice(i,1<c?1-c:void 0)}function Hs(i){var a=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&a===13&&(i=13)):i=a,i===10&&(i=13),32<=i||i===13?i:0}function qs(){return!0}function Vm(){return!1}function Wt(i){function a(s,c,p,b,w){this._reactName=s,this._targetInst=p,this.type=c,this.nativeEvent=b,this.target=w,this.currentTarget=null;for(var A in i)i.hasOwnProperty(A)&&(s=i[A],this[A]=s?s(b):b[A]);return this.isDefaultPrevented=(b.defaultPrevented!=null?b.defaultPrevented:b.returnValue===!1)?qs:Vm,this.isPropagationStopped=Vm,this}return m(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=qs)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=qs)},persist:function(){},isPersistent:qs}),a}var mr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Gs=Wt(mr),no=m({},mr,{view:0,detail:0}),WS=Wt(no),ec,tc,io,Ys=m({},no,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ic,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==io&&(io&&i.type==="mousemove"?(ec=i.screenX-io.screenX,tc=i.screenY-io.screenY):tc=ec=0,io=i),ec)},movementY:function(i){return"movementY"in i?i.movementY:tc}}),Bm=Wt(Ys),eC=m({},Ys,{dataTransfer:0}),tC=Wt(eC),nC=m({},no,{relatedTarget:0}),nc=Wt(nC),iC=m({},mr,{animationName:0,elapsedTime:0,pseudoElement:0}),rC=Wt(iC),aC=m({},mr,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),oC=Wt(aC),sC=m({},mr,{data:0}),Om=Wt(sC),lC={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},uC={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},cC={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function fC(i){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(i):(i=cC[i])?!!a[i]:!1}function ic(){return fC}var dC=m({},no,{key:function(i){if(i.key){var a=lC[i.key]||i.key;if(a!=="Unidentified")return a}return i.type==="keypress"?(i=Hs(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?uC[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ic,charCode:function(i){return i.type==="keypress"?Hs(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?Hs(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),hC=Wt(dC),mC=m({},Ys,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),jm=Wt(mC),pC=m({},no,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ic}),gC=Wt(pC),yC=m({},mr,{propertyName:0,elapsedTime:0,pseudoElement:0}),xC=Wt(yC),vC=m({},Ys,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),bC=Wt(vC),TC=m({},mr,{newState:0,oldState:0}),SC=Wt(TC),CC=[9,13,27,32],rc=li&&"CompositionEvent"in window,ro=null;li&&"documentMode"in document&&(ro=document.documentMode);var wC=li&&"TextEvent"in window&&!ro,Um=li&&(!rc||ro&&8<ro&&11>=ro),zm=" ",Fm=!1;function Hm(i,a){switch(i){case"keyup":return CC.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function qm(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var ea=!1;function EC(i,a){switch(i){case"compositionend":return qm(a);case"keypress":return a.which!==32?null:(Fm=!0,zm);case"textInput":return i=a.data,i===zm&&Fm?null:i;default:return null}}function AC(i,a){if(ea)return i==="compositionend"||!rc&&Hm(i,a)?(i=Lm(),Fs=Wu=ki=null,ea=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return Um&&a.locale!=="ko"?null:a.data;default:return null}}var MC={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Gm(i){var a=i&&i.nodeName&&i.nodeName.toLowerCase();return a==="input"?!!MC[i.type]:a==="textarea"}function Ym(i,a,s,c){Zr?Wr?Wr.push(c):Wr=[c]:Zr=c,a=_l(a,"onChange"),0<a.length&&(s=new Gs("onChange","change",null,s,c),i.push({event:s,listeners:a}))}var ao=null,oo=null;function kC(i){Ay(i,0)}function $s(i){var a=fr(i);if(Mm(a))return i}function $m(i,a){if(i==="change")return a}var Km=!1;if(li){var ac;if(li){var oc="oninput"in document;if(!oc){var Xm=document.createElement("div");Xm.setAttribute("oninput","return;"),oc=typeof Xm.oninput=="function"}ac=oc}else ac=!1;Km=ac&&(!document.documentMode||9<document.documentMode)}function Qm(){ao&&(ao.detachEvent("onpropertychange",Jm),oo=ao=null)}function Jm(i){if(i.propertyName==="value"&&$s(oo)){var a=[];Ym(a,oo,i,Qu(i)),Pm(kC,a)}}function DC(i,a,s){i==="focusin"?(Qm(),ao=a,oo=s,ao.attachEvent("onpropertychange",Jm)):i==="focusout"&&Qm()}function NC(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return $s(oo)}function RC(i,a){if(i==="click")return $s(a)}function _C(i,a){if(i==="input"||i==="change")return $s(a)}function IC(i,a){return i===a&&(i!==0||1/i===1/a)||i!==i&&a!==a}var fn=typeof Object.is=="function"?Object.is:IC;function so(i,a){if(fn(i,a))return!0;if(typeof i!="object"||i===null||typeof a!="object"||a===null)return!1;var s=Object.keys(i),c=Object.keys(a);if(s.length!==c.length)return!1;for(c=0;c<s.length;c++){var p=s[c];if(!He.call(a,p)||!fn(i[p],a[p]))return!1}return!0}function Zm(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function Wm(i,a){var s=Zm(i);i=0;for(var c;s;){if(s.nodeType===3){if(c=i+s.textContent.length,i<=a&&c>=a)return{node:s,offset:a-i};i=c}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=Zm(s)}}function ep(i,a){return i&&a?i===a?!0:i&&i.nodeType===3?!1:a&&a.nodeType===3?ep(i,a.parentNode):"contains"in i?i.contains(a):i.compareDocumentPosition?!!(i.compareDocumentPosition(a)&16):!1:!1}function tp(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var a=Us(i.document);a instanceof i.HTMLIFrameElement;){try{var s=typeof a.contentWindow.location.href=="string"}catch{s=!1}if(s)i=a.contentWindow;else break;a=Us(i.document)}return a}function sc(i){var a=i&&i.nodeName&&i.nodeName.toLowerCase();return a&&(a==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||a==="textarea"||i.contentEditable==="true")}var PC=li&&"documentMode"in document&&11>=document.documentMode,ta=null,lc=null,lo=null,uc=!1;function np(i,a,s){var c=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;uc||ta==null||ta!==Us(c)||(c=ta,"selectionStart"in c&&sc(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),lo&&so(lo,c)||(lo=c,c=_l(lc,"onSelect"),0<c.length&&(a=new Gs("onSelect","select",null,a,s),i.push({event:a,listeners:c}),a.target=ta)))}function pr(i,a){var s={};return s[i.toLowerCase()]=a.toLowerCase(),s["Webkit"+i]="webkit"+a,s["Moz"+i]="moz"+a,s}var na={animationend:pr("Animation","AnimationEnd"),animationiteration:pr("Animation","AnimationIteration"),animationstart:pr("Animation","AnimationStart"),transitionrun:pr("Transition","TransitionRun"),transitionstart:pr("Transition","TransitionStart"),transitioncancel:pr("Transition","TransitionCancel"),transitionend:pr("Transition","TransitionEnd")},cc={},ip={};li&&(ip=document.createElement("div").style,"AnimationEvent"in window||(delete na.animationend.animation,delete na.animationiteration.animation,delete na.animationstart.animation),"TransitionEvent"in window||delete na.transitionend.transition);function gr(i){if(cc[i])return cc[i];if(!na[i])return i;var a=na[i],s;for(s in a)if(a.hasOwnProperty(s)&&s in ip)return cc[i]=a[s];return i}var rp=gr("animationend"),ap=gr("animationiteration"),op=gr("animationstart"),LC=gr("transitionrun"),VC=gr("transitionstart"),BC=gr("transitioncancel"),sp=gr("transitionend"),lp=new Map,fc="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");fc.push("scrollEnd");function jn(i,a){lp.set(i,a),On(a,[i])}var up=new WeakMap;function Cn(i,a){if(typeof i=="object"&&i!==null){var s=up.get(i);return s!==void 0?s:(a={value:i,source:a,stack:Em(a)},up.set(i,a),a)}return{value:i,source:a,stack:Em(a)}}var wn=[],ia=0,dc=0;function Ks(){for(var i=ia,a=dc=ia=0;a<i;){var s=wn[a];wn[a++]=null;var c=wn[a];wn[a++]=null;var p=wn[a];wn[a++]=null;var b=wn[a];if(wn[a++]=null,c!==null&&p!==null){var w=c.pending;w===null?p.next=p:(p.next=w.next,w.next=p),c.pending=p}b!==0&&cp(s,p,b)}}function Xs(i,a,s,c){wn[ia++]=i,wn[ia++]=a,wn[ia++]=s,wn[ia++]=c,dc|=c,i.lanes|=c,i=i.alternate,i!==null&&(i.lanes|=c)}function hc(i,a,s,c){return Xs(i,a,s,c),Qs(i)}function ra(i,a){return Xs(i,null,null,a),Qs(i)}function cp(i,a,s){i.lanes|=s;var c=i.alternate;c!==null&&(c.lanes|=s);for(var p=!1,b=i.return;b!==null;)b.childLanes|=s,c=b.alternate,c!==null&&(c.childLanes|=s),b.tag===22&&(i=b.stateNode,i===null||i._visibility&1||(p=!0)),i=b,b=b.return;return i.tag===3?(b=i.stateNode,p&&a!==null&&(p=31-Ce(s),i=b.hiddenUpdates,c=i[p],c===null?i[p]=[a]:c.push(a),a.lane=s|536870912),b):null}function Qs(i){if(50<Po)throw Po=0,bf=null,Error(r(185));for(var a=i.return;a!==null;)i=a,a=i.return;return i.tag===3?i.stateNode:null}var aa={};function OC(i,a,s,c){this.tag=i,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function dn(i,a,s,c){return new OC(i,a,s,c)}function mc(i){return i=i.prototype,!(!i||!i.isReactComponent)}function ui(i,a){var s=i.alternate;return s===null?(s=dn(i.tag,a,i.key,i.mode),s.elementType=i.elementType,s.type=i.type,s.stateNode=i.stateNode,s.alternate=i,i.alternate=s):(s.pendingProps=a,s.type=i.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=i.flags&65011712,s.childLanes=i.childLanes,s.lanes=i.lanes,s.child=i.child,s.memoizedProps=i.memoizedProps,s.memoizedState=i.memoizedState,s.updateQueue=i.updateQueue,a=i.dependencies,s.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},s.sibling=i.sibling,s.index=i.index,s.ref=i.ref,s.refCleanup=i.refCleanup,s}function fp(i,a){i.flags&=65011714;var s=i.alternate;return s===null?(i.childLanes=0,i.lanes=a,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=s.childLanes,i.lanes=s.lanes,i.child=s.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=s.memoizedProps,i.memoizedState=s.memoizedState,i.updateQueue=s.updateQueue,i.type=s.type,a=s.dependencies,i.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext}),i}function Js(i,a,s,c,p,b){var w=0;if(c=i,typeof i=="function")mc(i)&&(w=1);else if(typeof i=="string")w=Uw(i,s,ee.current)?26:i==="html"||i==="head"||i==="body"?27:5;else e:switch(i){case pe:return i=dn(31,s,a,p),i.elementType=pe,i.lanes=b,i;case E:return yr(s.children,p,b,a);case k:w=8,p|=24;break;case R:return i=dn(12,s,a,p|2),i.elementType=R,i.lanes=b,i;case F:return i=dn(13,s,a,p),i.elementType=F,i.lanes=b,i;case H:return i=dn(19,s,a,p),i.elementType=H,i.lanes=b,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case D:case P:w=10;break e;case B:w=9;break e;case z:w=11;break e;case se:w=14;break e;case ae:w=16,c=null;break e}w=29,s=Error(r(130,i===null?"null":typeof i,"")),c=null}return a=dn(w,s,a,p),a.elementType=i,a.type=c,a.lanes=b,a}function yr(i,a,s,c){return i=dn(7,i,c,a),i.lanes=s,i}function pc(i,a,s){return i=dn(6,i,null,a),i.lanes=s,i}function gc(i,a,s){return a=dn(4,i.children!==null?i.children:[],i.key,a),a.lanes=s,a.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},a}var oa=[],sa=0,Zs=null,Ws=0,En=[],An=0,xr=null,ci=1,fi="";function vr(i,a){oa[sa++]=Ws,oa[sa++]=Zs,Zs=i,Ws=a}function dp(i,a,s){En[An++]=ci,En[An++]=fi,En[An++]=xr,xr=i;var c=ci;i=fi;var p=32-Ce(c)-1;c&=~(1<<p),s+=1;var b=32-Ce(a)+p;if(30<b){var w=p-p%5;b=(c&(1<<w)-1).toString(32),c>>=w,p-=w,ci=1<<32-Ce(a)+p|s<<p|c,fi=b+i}else ci=1<<b|s<<p|c,fi=i}function yc(i){i.return!==null&&(vr(i,1),dp(i,1,0))}function xc(i){for(;i===Zs;)Zs=oa[--sa],oa[sa]=null,Ws=oa[--sa],oa[sa]=null;for(;i===xr;)xr=En[--An],En[An]=null,fi=En[--An],En[An]=null,ci=En[--An],En[An]=null}var Kt=null,ft=null,$e=!1,br=null,$n=!1,vc=Error(r(519));function Tr(i){var a=Error(r(418,""));throw fo(Cn(a,i)),vc}function hp(i){var a=i.stateNode,s=i.type,c=i.memoizedProps;switch(a[kt]=i,a[Ut]=c,s){case"dialog":Ve("cancel",a),Ve("close",a);break;case"iframe":case"object":case"embed":Ve("load",a);break;case"video":case"audio":for(s=0;s<Vo.length;s++)Ve(Vo[s],a);break;case"source":Ve("error",a);break;case"img":case"image":case"link":Ve("error",a),Ve("load",a);break;case"details":Ve("toggle",a);break;case"input":Ve("invalid",a),km(a,c.value,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name,!0),js(a);break;case"select":Ve("invalid",a);break;case"textarea":Ve("invalid",a),Nm(a,c.value,c.defaultValue,c.children),js(a)}s=c.children,typeof s!="string"&&typeof s!="number"&&typeof s!="bigint"||a.textContent===""+s||c.suppressHydrationWarning===!0||Ny(a.textContent,s)?(c.popover!=null&&(Ve("beforetoggle",a),Ve("toggle",a)),c.onScroll!=null&&Ve("scroll",a),c.onScrollEnd!=null&&Ve("scrollend",a),c.onClick!=null&&(a.onclick=Il),a=!0):a=!1,a||Tr(i)}function mp(i){for(Kt=i.return;Kt;)switch(Kt.tag){case 5:case 13:$n=!1;return;case 27:case 3:$n=!0;return;default:Kt=Kt.return}}function uo(i){if(i!==Kt)return!1;if(!$e)return mp(i),$e=!0,!1;var a=i.tag,s;if((s=a!==3&&a!==27)&&((s=a===5)&&(s=i.type,s=!(s!=="form"&&s!=="button")||Vf(i.type,i.memoizedProps)),s=!s),s&&ft&&Tr(i),mp(i),a===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(317));e:{for(i=i.nextSibling,a=0;i;){if(i.nodeType===8)if(s=i.data,s==="/$"){if(a===0){ft=zn(i.nextSibling);break e}a--}else s!=="$"&&s!=="$!"&&s!=="$?"||a++;i=i.nextSibling}ft=null}}else a===27?(a=ft,qi(i.type)?(i=Uf,Uf=null,ft=i):ft=a):ft=Kt?zn(i.stateNode.nextSibling):null;return!0}function co(){ft=Kt=null,$e=!1}function pp(){var i=br;return i!==null&&(nn===null?nn=i:nn.push.apply(nn,i),br=null),i}function fo(i){br===null?br=[i]:br.push(i)}var bc=O(null),Sr=null,di=null;function Di(i,a,s){M(bc,a._currentValue),a._currentValue=s}function hi(i){i._currentValue=bc.current,G(bc)}function Tc(i,a,s){for(;i!==null;){var c=i.alternate;if((i.childLanes&a)!==a?(i.childLanes|=a,c!==null&&(c.childLanes|=a)):c!==null&&(c.childLanes&a)!==a&&(c.childLanes|=a),i===s)break;i=i.return}}function Sc(i,a,s,c){var p=i.child;for(p!==null&&(p.return=i);p!==null;){var b=p.dependencies;if(b!==null){var w=p.child;b=b.firstContext;e:for(;b!==null;){var A=b;b=p;for(var I=0;I<a.length;I++)if(A.context===a[I]){b.lanes|=s,A=b.alternate,A!==null&&(A.lanes|=s),Tc(b.return,s,i),c||(w=null);break e}b=A.next}}else if(p.tag===18){if(w=p.return,w===null)throw Error(r(341));w.lanes|=s,b=w.alternate,b!==null&&(b.lanes|=s),Tc(w,s,i),w=null}else w=p.child;if(w!==null)w.return=p;else for(w=p;w!==null;){if(w===i){w=null;break}if(p=w.sibling,p!==null){p.return=w.return,w=p;break}w=w.return}p=w}}function ho(i,a,s,c){i=null;for(var p=a,b=!1;p!==null;){if(!b){if((p.flags&524288)!==0)b=!0;else if((p.flags&262144)!==0)break}if(p.tag===10){var w=p.alternate;if(w===null)throw Error(r(387));if(w=w.memoizedProps,w!==null){var A=p.type;fn(p.pendingProps.value,w.value)||(i!==null?i.push(A):i=[A])}}else if(p===ye.current){if(w=p.alternate,w===null)throw Error(r(387));w.memoizedState.memoizedState!==p.memoizedState.memoizedState&&(i!==null?i.push(Fo):i=[Fo])}p=p.return}i!==null&&Sc(a,i,s,c),a.flags|=262144}function el(i){for(i=i.firstContext;i!==null;){if(!fn(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function Cr(i){Sr=i,di=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function zt(i){return gp(Sr,i)}function tl(i,a){return Sr===null&&Cr(i),gp(i,a)}function gp(i,a){var s=a._currentValue;if(a={context:a,memoizedValue:s,next:null},di===null){if(i===null)throw Error(r(308));di=a,i.dependencies={lanes:0,firstContext:a},i.flags|=524288}else di=di.next=a;return s}var jC=typeof AbortController<"u"?AbortController:function(){var i=[],a=this.signal={aborted:!1,addEventListener:function(s,c){i.push(c)}};this.abort=function(){a.aborted=!0,i.forEach(function(s){return s()})}},UC=e.unstable_scheduleCallback,zC=e.unstable_NormalPriority,Et={$$typeof:P,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Cc(){return{controller:new jC,data:new Map,refCount:0}}function mo(i){i.refCount--,i.refCount===0&&UC(zC,function(){i.controller.abort()})}var po=null,wc=0,la=0,ua=null;function FC(i,a){if(po===null){var s=po=[];wc=0,la=Mf(),ua={status:"pending",value:void 0,then:function(c){s.push(c)}}}return wc++,a.then(yp,yp),a}function yp(){if(--wc===0&&po!==null){ua!==null&&(ua.status="fulfilled");var i=po;po=null,la=0,ua=null;for(var a=0;a<i.length;a++)(0,i[a])()}}function HC(i,a){var s=[],c={status:"pending",value:null,reason:null,then:function(p){s.push(p)}};return i.then(function(){c.status="fulfilled",c.value=a;for(var p=0;p<s.length;p++)(0,s[p])(a)},function(p){for(c.status="rejected",c.reason=p,p=0;p<s.length;p++)(0,s[p])(void 0)}),c}var xp=K.S;K.S=function(i,a){typeof a=="object"&&a!==null&&typeof a.then=="function"&&FC(i,a),xp!==null&&xp(i,a)};var wr=O(null);function Ec(){var i=wr.current;return i!==null?i:it.pooledCache}function nl(i,a){a===null?M(wr,wr.current):M(wr,a.pool)}function vp(){var i=Ec();return i===null?null:{parent:Et._currentValue,pool:i}}var go=Error(r(460)),bp=Error(r(474)),il=Error(r(542)),Ac={then:function(){}};function Tp(i){return i=i.status,i==="fulfilled"||i==="rejected"}function rl(){}function Sp(i,a,s){switch(s=i[s],s===void 0?i.push(a):s!==a&&(a.then(rl,rl),a=s),a.status){case"fulfilled":return a.value;case"rejected":throw i=a.reason,wp(i),i;default:if(typeof a.status=="string")a.then(rl,rl);else{if(i=it,i!==null&&100<i.shellSuspendCounter)throw Error(r(482));i=a,i.status="pending",i.then(function(c){if(a.status==="pending"){var p=a;p.status="fulfilled",p.value=c}},function(c){if(a.status==="pending"){var p=a;p.status="rejected",p.reason=c}})}switch(a.status){case"fulfilled":return a.value;case"rejected":throw i=a.reason,wp(i),i}throw yo=a,go}}var yo=null;function Cp(){if(yo===null)throw Error(r(459));var i=yo;return yo=null,i}function wp(i){if(i===go||i===il)throw Error(r(483))}var Ni=!1;function Mc(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function kc(i,a){i=i.updateQueue,a.updateQueue===i&&(a.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function Ri(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function _i(i,a,s){var c=i.updateQueue;if(c===null)return null;if(c=c.shared,(Xe&2)!==0){var p=c.pending;return p===null?a.next=a:(a.next=p.next,p.next=a),c.pending=a,a=Qs(i),cp(i,null,s),a}return Xs(i,c,a,s),Qs(i)}function xo(i,a,s){if(a=a.updateQueue,a!==null&&(a=a.shared,(s&4194048)!==0)){var c=a.lanes;c&=i.pendingLanes,s|=c,a.lanes=s,Ue(i,s)}}function Dc(i,a){var s=i.updateQueue,c=i.alternate;if(c!==null&&(c=c.updateQueue,s===c)){var p=null,b=null;if(s=s.firstBaseUpdate,s!==null){do{var w={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};b===null?p=b=w:b=b.next=w,s=s.next}while(s!==null);b===null?p=b=a:b=b.next=a}else p=b=a;s={baseState:c.baseState,firstBaseUpdate:p,lastBaseUpdate:b,shared:c.shared,callbacks:c.callbacks},i.updateQueue=s;return}i=s.lastBaseUpdate,i===null?s.firstBaseUpdate=a:i.next=a,s.lastBaseUpdate=a}var Nc=!1;function vo(){if(Nc){var i=ua;if(i!==null)throw i}}function bo(i,a,s,c){Nc=!1;var p=i.updateQueue;Ni=!1;var b=p.firstBaseUpdate,w=p.lastBaseUpdate,A=p.shared.pending;if(A!==null){p.shared.pending=null;var I=A,$=I.next;I.next=null,w===null?b=$:w.next=$,w=I;var W=i.alternate;W!==null&&(W=W.updateQueue,A=W.lastBaseUpdate,A!==w&&(A===null?W.firstBaseUpdate=$:A.next=$,W.lastBaseUpdate=I))}if(b!==null){var ie=p.baseState;w=0,W=$=I=null,A=b;do{var X=A.lane&-536870913,Q=X!==A.lane;if(Q?(ze&X)===X:(c&X)===X){X!==0&&X===la&&(Nc=!0),W!==null&&(W=W.next={lane:0,tag:A.tag,payload:A.payload,callback:null,next:null});e:{var Me=i,we=A;X=a;var We=s;switch(we.tag){case 1:if(Me=we.payload,typeof Me=="function"){ie=Me.call(We,ie,X);break e}ie=Me;break e;case 3:Me.flags=Me.flags&-65537|128;case 0:if(Me=we.payload,X=typeof Me=="function"?Me.call(We,ie,X):Me,X==null)break e;ie=m({},ie,X);break e;case 2:Ni=!0}}X=A.callback,X!==null&&(i.flags|=64,Q&&(i.flags|=8192),Q=p.callbacks,Q===null?p.callbacks=[X]:Q.push(X))}else Q={lane:X,tag:A.tag,payload:A.payload,callback:A.callback,next:null},W===null?($=W=Q,I=ie):W=W.next=Q,w|=X;if(A=A.next,A===null){if(A=p.shared.pending,A===null)break;Q=A,A=Q.next,Q.next=null,p.lastBaseUpdate=Q,p.shared.pending=null}}while(!0);W===null&&(I=ie),p.baseState=I,p.firstBaseUpdate=$,p.lastBaseUpdate=W,b===null&&(p.shared.lanes=0),Ui|=w,i.lanes=w,i.memoizedState=ie}}function Ep(i,a){if(typeof i!="function")throw Error(r(191,i));i.call(a)}function Ap(i,a){var s=i.callbacks;if(s!==null)for(i.callbacks=null,i=0;i<s.length;i++)Ep(s[i],a)}var ca=O(null),al=O(0);function Mp(i,a){i=bi,M(al,i),M(ca,a),bi=i|a.baseLanes}function Rc(){M(al,bi),M(ca,ca.current)}function _c(){bi=al.current,G(ca),G(al)}var Ii=0,Ie=null,Je=null,bt=null,ol=!1,fa=!1,Er=!1,sl=0,To=0,da=null,qC=0;function gt(){throw Error(r(321))}function Ic(i,a){if(a===null)return!1;for(var s=0;s<a.length&&s<i.length;s++)if(!fn(i[s],a[s]))return!1;return!0}function Pc(i,a,s,c,p,b){return Ii=b,Ie=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,K.H=i===null||i.memoizedState===null?cg:fg,Er=!1,b=s(c,p),Er=!1,fa&&(b=Dp(a,s,c,p)),kp(i),b}function kp(i){K.H=hl;var a=Je!==null&&Je.next!==null;if(Ii=0,bt=Je=Ie=null,ol=!1,To=0,da=null,a)throw Error(r(300));i===null||Dt||(i=i.dependencies,i!==null&&el(i)&&(Dt=!0))}function Dp(i,a,s,c){Ie=i;var p=0;do{if(fa&&(da=null),To=0,fa=!1,25<=p)throw Error(r(301));if(p+=1,bt=Je=null,i.updateQueue!=null){var b=i.updateQueue;b.lastEffect=null,b.events=null,b.stores=null,b.memoCache!=null&&(b.memoCache.index=0)}K.H=JC,b=a(s,c)}while(fa);return b}function GC(){var i=K.H,a=i.useState()[0];return a=typeof a.then=="function"?So(a):a,i=i.useState()[0],(Je!==null?Je.memoizedState:null)!==i&&(Ie.flags|=1024),a}function Lc(){var i=sl!==0;return sl=0,i}function Vc(i,a,s){a.updateQueue=i.updateQueue,a.flags&=-2053,i.lanes&=~s}function Bc(i){if(ol){for(i=i.memoizedState;i!==null;){var a=i.queue;a!==null&&(a.pending=null),i=i.next}ol=!1}Ii=0,bt=Je=Ie=null,fa=!1,To=sl=0,da=null}function en(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return bt===null?Ie.memoizedState=bt=i:bt=bt.next=i,bt}function Tt(){if(Je===null){var i=Ie.alternate;i=i!==null?i.memoizedState:null}else i=Je.next;var a=bt===null?Ie.memoizedState:bt.next;if(a!==null)bt=a,Je=i;else{if(i===null)throw Ie.alternate===null?Error(r(467)):Error(r(310));Je=i,i={memoizedState:Je.memoizedState,baseState:Je.baseState,baseQueue:Je.baseQueue,queue:Je.queue,next:null},bt===null?Ie.memoizedState=bt=i:bt=bt.next=i}return bt}function Oc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function So(i){var a=To;return To+=1,da===null&&(da=[]),i=Sp(da,i,a),a=Ie,(bt===null?a.memoizedState:bt.next)===null&&(a=a.alternate,K.H=a===null||a.memoizedState===null?cg:fg),i}function ll(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return So(i);if(i.$$typeof===P)return zt(i)}throw Error(r(438,String(i)))}function jc(i){var a=null,s=Ie.updateQueue;if(s!==null&&(a=s.memoCache),a==null){var c=Ie.alternate;c!==null&&(c=c.updateQueue,c!==null&&(c=c.memoCache,c!=null&&(a={data:c.data.map(function(p){return p.slice()}),index:0})))}if(a==null&&(a={data:[],index:0}),s===null&&(s=Oc(),Ie.updateQueue=s),s.memoCache=a,s=a.data[a.index],s===void 0)for(s=a.data[a.index]=Array(i),c=0;c<i;c++)s[c]=L;return a.index++,s}function mi(i,a){return typeof a=="function"?a(i):a}function ul(i){var a=Tt();return Uc(a,Je,i)}function Uc(i,a,s){var c=i.queue;if(c===null)throw Error(r(311));c.lastRenderedReducer=s;var p=i.baseQueue,b=c.pending;if(b!==null){if(p!==null){var w=p.next;p.next=b.next,b.next=w}a.baseQueue=p=b,c.pending=null}if(b=i.baseState,p===null)i.memoizedState=b;else{a=p.next;var A=w=null,I=null,$=a,W=!1;do{var ie=$.lane&-536870913;if(ie!==$.lane?(ze&ie)===ie:(Ii&ie)===ie){var X=$.revertLane;if(X===0)I!==null&&(I=I.next={lane:0,revertLane:0,action:$.action,hasEagerState:$.hasEagerState,eagerState:$.eagerState,next:null}),ie===la&&(W=!0);else if((Ii&X)===X){$=$.next,X===la&&(W=!0);continue}else ie={lane:0,revertLane:$.revertLane,action:$.action,hasEagerState:$.hasEagerState,eagerState:$.eagerState,next:null},I===null?(A=I=ie,w=b):I=I.next=ie,Ie.lanes|=X,Ui|=X;ie=$.action,Er&&s(b,ie),b=$.hasEagerState?$.eagerState:s(b,ie)}else X={lane:ie,revertLane:$.revertLane,action:$.action,hasEagerState:$.hasEagerState,eagerState:$.eagerState,next:null},I===null?(A=I=X,w=b):I=I.next=X,Ie.lanes|=ie,Ui|=ie;$=$.next}while($!==null&&$!==a);if(I===null?w=b:I.next=A,!fn(b,i.memoizedState)&&(Dt=!0,W&&(s=ua,s!==null)))throw s;i.memoizedState=b,i.baseState=w,i.baseQueue=I,c.lastRenderedState=b}return p===null&&(c.lanes=0),[i.memoizedState,c.dispatch]}function zc(i){var a=Tt(),s=a.queue;if(s===null)throw Error(r(311));s.lastRenderedReducer=i;var c=s.dispatch,p=s.pending,b=a.memoizedState;if(p!==null){s.pending=null;var w=p=p.next;do b=i(b,w.action),w=w.next;while(w!==p);fn(b,a.memoizedState)||(Dt=!0),a.memoizedState=b,a.baseQueue===null&&(a.baseState=b),s.lastRenderedState=b}return[b,c]}function Np(i,a,s){var c=Ie,p=Tt(),b=$e;if(b){if(s===void 0)throw Error(r(407));s=s()}else s=a();var w=!fn((Je||p).memoizedState,s);w&&(p.memoizedState=s,Dt=!0),p=p.queue;var A=Ip.bind(null,c,p,i);if(Co(2048,8,A,[i]),p.getSnapshot!==a||w||bt!==null&&bt.memoizedState.tag&1){if(c.flags|=2048,ha(9,cl(),_p.bind(null,c,p,s,a),null),it===null)throw Error(r(349));b||(Ii&124)!==0||Rp(c,a,s)}return s}function Rp(i,a,s){i.flags|=16384,i={getSnapshot:a,value:s},a=Ie.updateQueue,a===null?(a=Oc(),Ie.updateQueue=a,a.stores=[i]):(s=a.stores,s===null?a.stores=[i]:s.push(i))}function _p(i,a,s,c){a.value=s,a.getSnapshot=c,Pp(a)&&Lp(i)}function Ip(i,a,s){return s(function(){Pp(a)&&Lp(i)})}function Pp(i){var a=i.getSnapshot;i=i.value;try{var s=a();return!fn(i,s)}catch{return!0}}function Lp(i){var a=ra(i,2);a!==null&&yn(a,i,2)}function Fc(i){var a=en();if(typeof i=="function"){var s=i;if(i=s(),Er){Te(!0);try{s()}finally{Te(!1)}}}return a.memoizedState=a.baseState=i,a.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:mi,lastRenderedState:i},a}function Vp(i,a,s,c){return i.baseState=s,Uc(i,Je,typeof c=="function"?c:mi)}function YC(i,a,s,c,p){if(dl(i))throw Error(r(485));if(i=a.action,i!==null){var b={payload:p,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(w){b.listeners.push(w)}};K.T!==null?s(!0):b.isTransition=!1,c(b),s=a.pending,s===null?(b.next=a.pending=b,Bp(a,b)):(b.next=s.next,a.pending=s.next=b)}}function Bp(i,a){var s=a.action,c=a.payload,p=i.state;if(a.isTransition){var b=K.T,w={};K.T=w;try{var A=s(p,c),I=K.S;I!==null&&I(w,A),Op(i,a,A)}catch($){Hc(i,a,$)}finally{K.T=b}}else try{b=s(p,c),Op(i,a,b)}catch($){Hc(i,a,$)}}function Op(i,a,s){s!==null&&typeof s=="object"&&typeof s.then=="function"?s.then(function(c){jp(i,a,c)},function(c){return Hc(i,a,c)}):jp(i,a,s)}function jp(i,a,s){a.status="fulfilled",a.value=s,Up(a),i.state=s,a=i.pending,a!==null&&(s=a.next,s===a?i.pending=null:(s=s.next,a.next=s,Bp(i,s)))}function Hc(i,a,s){var c=i.pending;if(i.pending=null,c!==null){c=c.next;do a.status="rejected",a.reason=s,Up(a),a=a.next;while(a!==c)}i.action=null}function Up(i){i=i.listeners;for(var a=0;a<i.length;a++)(0,i[a])()}function zp(i,a){return a}function Fp(i,a){if($e){var s=it.formState;if(s!==null){e:{var c=Ie;if($e){if(ft){t:{for(var p=ft,b=$n;p.nodeType!==8;){if(!b){p=null;break t}if(p=zn(p.nextSibling),p===null){p=null;break t}}b=p.data,p=b==="F!"||b==="F"?p:null}if(p){ft=zn(p.nextSibling),c=p.data==="F!";break e}}Tr(c)}c=!1}c&&(a=s[0])}}return s=en(),s.memoizedState=s.baseState=a,c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:zp,lastRenderedState:a},s.queue=c,s=sg.bind(null,Ie,c),c.dispatch=s,c=Fc(!1),b=Kc.bind(null,Ie,!1,c.queue),c=en(),p={state:a,dispatch:null,action:i,pending:null},c.queue=p,s=YC.bind(null,Ie,p,b,s),p.dispatch=s,c.memoizedState=i,[a,s,!1]}function Hp(i){var a=Tt();return qp(a,Je,i)}function qp(i,a,s){if(a=Uc(i,a,zp)[0],i=ul(mi)[0],typeof a=="object"&&a!==null&&typeof a.then=="function")try{var c=So(a)}catch(w){throw w===go?il:w}else c=a;a=Tt();var p=a.queue,b=p.dispatch;return s!==a.memoizedState&&(Ie.flags|=2048,ha(9,cl(),$C.bind(null,p,s),null)),[c,b,i]}function $C(i,a){i.action=a}function Gp(i){var a=Tt(),s=Je;if(s!==null)return qp(a,s,i);Tt(),a=a.memoizedState,s=Tt();var c=s.queue.dispatch;return s.memoizedState=i,[a,c,!1]}function ha(i,a,s,c){return i={tag:i,create:s,deps:c,inst:a,next:null},a=Ie.updateQueue,a===null&&(a=Oc(),Ie.updateQueue=a),s=a.lastEffect,s===null?a.lastEffect=i.next=i:(c=s.next,s.next=i,i.next=c,a.lastEffect=i),i}function cl(){return{destroy:void 0,resource:void 0}}function Yp(){return Tt().memoizedState}function fl(i,a,s,c){var p=en();c=c===void 0?null:c,Ie.flags|=i,p.memoizedState=ha(1|a,cl(),s,c)}function Co(i,a,s,c){var p=Tt();c=c===void 0?null:c;var b=p.memoizedState.inst;Je!==null&&c!==null&&Ic(c,Je.memoizedState.deps)?p.memoizedState=ha(a,b,s,c):(Ie.flags|=i,p.memoizedState=ha(1|a,b,s,c))}function $p(i,a){fl(8390656,8,i,a)}function Kp(i,a){Co(2048,8,i,a)}function Xp(i,a){return Co(4,2,i,a)}function Qp(i,a){return Co(4,4,i,a)}function Jp(i,a){if(typeof a=="function"){i=i();var s=a(i);return function(){typeof s=="function"?s():a(null)}}if(a!=null)return i=i(),a.current=i,function(){a.current=null}}function Zp(i,a,s){s=s!=null?s.concat([i]):null,Co(4,4,Jp.bind(null,a,i),s)}function qc(){}function Wp(i,a){var s=Tt();a=a===void 0?null:a;var c=s.memoizedState;return a!==null&&Ic(a,c[1])?c[0]:(s.memoizedState=[i,a],i)}function eg(i,a){var s=Tt();a=a===void 0?null:a;var c=s.memoizedState;if(a!==null&&Ic(a,c[1]))return c[0];if(c=i(),Er){Te(!0);try{i()}finally{Te(!1)}}return s.memoizedState=[c,a],c}function Gc(i,a,s){return s===void 0||(Ii&1073741824)!==0?i.memoizedState=a:(i.memoizedState=s,i=iy(),Ie.lanes|=i,Ui|=i,s)}function tg(i,a,s,c){return fn(s,a)?s:ca.current!==null?(i=Gc(i,s,c),fn(i,a)||(Dt=!0),i):(Ii&42)===0?(Dt=!0,i.memoizedState=s):(i=iy(),Ie.lanes|=i,Ui|=i,a)}function ng(i,a,s,c,p){var b=V.p;V.p=b!==0&&8>b?b:8;var w=K.T,A={};K.T=A,Kc(i,!1,a,s);try{var I=p(),$=K.S;if($!==null&&$(A,I),I!==null&&typeof I=="object"&&typeof I.then=="function"){var W=HC(I,c);wo(i,a,W,gn(i))}else wo(i,a,c,gn(i))}catch(ie){wo(i,a,{then:function(){},status:"rejected",reason:ie},gn())}finally{V.p=b,K.T=w}}function KC(){}function Yc(i,a,s,c){if(i.tag!==5)throw Error(r(476));var p=ig(i).queue;ng(i,p,a,N,s===null?KC:function(){return rg(i),s(c)})}function ig(i){var a=i.memoizedState;if(a!==null)return a;a={memoizedState:N,baseState:N,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:mi,lastRenderedState:N},next:null};var s={};return a.next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:mi,lastRenderedState:s},next:null},i.memoizedState=a,i=i.alternate,i!==null&&(i.memoizedState=a),a}function rg(i){var a=ig(i).next.queue;wo(i,a,{},gn())}function $c(){return zt(Fo)}function ag(){return Tt().memoizedState}function og(){return Tt().memoizedState}function XC(i){for(var a=i.return;a!==null;){switch(a.tag){case 24:case 3:var s=gn();i=Ri(s);var c=_i(a,i,s);c!==null&&(yn(c,a,s),xo(c,a,s)),a={cache:Cc()},i.payload=a;return}a=a.return}}function QC(i,a,s){var c=gn();s={lane:c,revertLane:0,action:s,hasEagerState:!1,eagerState:null,next:null},dl(i)?lg(a,s):(s=hc(i,a,s,c),s!==null&&(yn(s,i,c),ug(s,a,c)))}function sg(i,a,s){var c=gn();wo(i,a,s,c)}function wo(i,a,s,c){var p={lane:c,revertLane:0,action:s,hasEagerState:!1,eagerState:null,next:null};if(dl(i))lg(a,p);else{var b=i.alternate;if(i.lanes===0&&(b===null||b.lanes===0)&&(b=a.lastRenderedReducer,b!==null))try{var w=a.lastRenderedState,A=b(w,s);if(p.hasEagerState=!0,p.eagerState=A,fn(A,w))return Xs(i,a,p,0),it===null&&Ks(),!1}catch{}finally{}if(s=hc(i,a,p,c),s!==null)return yn(s,i,c),ug(s,a,c),!0}return!1}function Kc(i,a,s,c){if(c={lane:2,revertLane:Mf(),action:c,hasEagerState:!1,eagerState:null,next:null},dl(i)){if(a)throw Error(r(479))}else a=hc(i,s,c,2),a!==null&&yn(a,i,2)}function dl(i){var a=i.alternate;return i===Ie||a!==null&&a===Ie}function lg(i,a){fa=ol=!0;var s=i.pending;s===null?a.next=a:(a.next=s.next,s.next=a),i.pending=a}function ug(i,a,s){if((s&4194048)!==0){var c=a.lanes;c&=i.pendingLanes,s|=c,a.lanes=s,Ue(i,s)}}var hl={readContext:zt,use:ll,useCallback:gt,useContext:gt,useEffect:gt,useImperativeHandle:gt,useLayoutEffect:gt,useInsertionEffect:gt,useMemo:gt,useReducer:gt,useRef:gt,useState:gt,useDebugValue:gt,useDeferredValue:gt,useTransition:gt,useSyncExternalStore:gt,useId:gt,useHostTransitionStatus:gt,useFormState:gt,useActionState:gt,useOptimistic:gt,useMemoCache:gt,useCacheRefresh:gt},cg={readContext:zt,use:ll,useCallback:function(i,a){return en().memoizedState=[i,a===void 0?null:a],i},useContext:zt,useEffect:$p,useImperativeHandle:function(i,a,s){s=s!=null?s.concat([i]):null,fl(4194308,4,Jp.bind(null,a,i),s)},useLayoutEffect:function(i,a){return fl(4194308,4,i,a)},useInsertionEffect:function(i,a){fl(4,2,i,a)},useMemo:function(i,a){var s=en();a=a===void 0?null:a;var c=i();if(Er){Te(!0);try{i()}finally{Te(!1)}}return s.memoizedState=[c,a],c},useReducer:function(i,a,s){var c=en();if(s!==void 0){var p=s(a);if(Er){Te(!0);try{s(a)}finally{Te(!1)}}}else p=a;return c.memoizedState=c.baseState=p,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:p},c.queue=i,i=i.dispatch=QC.bind(null,Ie,i),[c.memoizedState,i]},useRef:function(i){var a=en();return i={current:i},a.memoizedState=i},useState:function(i){i=Fc(i);var a=i.queue,s=sg.bind(null,Ie,a);return a.dispatch=s,[i.memoizedState,s]},useDebugValue:qc,useDeferredValue:function(i,a){var s=en();return Gc(s,i,a)},useTransition:function(){var i=Fc(!1);return i=ng.bind(null,Ie,i.queue,!0,!1),en().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,a,s){var c=Ie,p=en();if($e){if(s===void 0)throw Error(r(407));s=s()}else{if(s=a(),it===null)throw Error(r(349));(ze&124)!==0||Rp(c,a,s)}p.memoizedState=s;var b={value:s,getSnapshot:a};return p.queue=b,$p(Ip.bind(null,c,b,i),[i]),c.flags|=2048,ha(9,cl(),_p.bind(null,c,b,s,a),null),s},useId:function(){var i=en(),a=it.identifierPrefix;if($e){var s=fi,c=ci;s=(c&~(1<<32-Ce(c)-1)).toString(32)+s,a="«"+a+"R"+s,s=sl++,0<s&&(a+="H"+s.toString(32)),a+="»"}else s=qC++,a="«"+a+"r"+s.toString(32)+"»";return i.memoizedState=a},useHostTransitionStatus:$c,useFormState:Fp,useActionState:Fp,useOptimistic:function(i){var a=en();a.memoizedState=a.baseState=i;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return a.queue=s,a=Kc.bind(null,Ie,!0,s),s.dispatch=a,[i,a]},useMemoCache:jc,useCacheRefresh:function(){return en().memoizedState=XC.bind(null,Ie)}},fg={readContext:zt,use:ll,useCallback:Wp,useContext:zt,useEffect:Kp,useImperativeHandle:Zp,useInsertionEffect:Xp,useLayoutEffect:Qp,useMemo:eg,useReducer:ul,useRef:Yp,useState:function(){return ul(mi)},useDebugValue:qc,useDeferredValue:function(i,a){var s=Tt();return tg(s,Je.memoizedState,i,a)},useTransition:function(){var i=ul(mi)[0],a=Tt().memoizedState;return[typeof i=="boolean"?i:So(i),a]},useSyncExternalStore:Np,useId:ag,useHostTransitionStatus:$c,useFormState:Hp,useActionState:Hp,useOptimistic:function(i,a){var s=Tt();return Vp(s,Je,i,a)},useMemoCache:jc,useCacheRefresh:og},JC={readContext:zt,use:ll,useCallback:Wp,useContext:zt,useEffect:Kp,useImperativeHandle:Zp,useInsertionEffect:Xp,useLayoutEffect:Qp,useMemo:eg,useReducer:zc,useRef:Yp,useState:function(){return zc(mi)},useDebugValue:qc,useDeferredValue:function(i,a){var s=Tt();return Je===null?Gc(s,i,a):tg(s,Je.memoizedState,i,a)},useTransition:function(){var i=zc(mi)[0],a=Tt().memoizedState;return[typeof i=="boolean"?i:So(i),a]},useSyncExternalStore:Np,useId:ag,useHostTransitionStatus:$c,useFormState:Gp,useActionState:Gp,useOptimistic:function(i,a){var s=Tt();return Je!==null?Vp(s,Je,i,a):(s.baseState=i,[i,s.queue.dispatch])},useMemoCache:jc,useCacheRefresh:og},ma=null,Eo=0;function ml(i){var a=Eo;return Eo+=1,ma===null&&(ma=[]),Sp(ma,i,a)}function Ao(i,a){a=a.props.ref,i.ref=a!==void 0?a:null}function pl(i,a){throw a.$$typeof===g?Error(r(525)):(i=Object.prototype.toString.call(a),Error(r(31,i==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":i)))}function dg(i){var a=i._init;return a(i._payload)}function hg(i){function a(q,U){if(i){var Y=q.deletions;Y===null?(q.deletions=[U],q.flags|=16):Y.push(U)}}function s(q,U){if(!i)return null;for(;U!==null;)a(q,U),U=U.sibling;return null}function c(q){for(var U=new Map;q!==null;)q.key!==null?U.set(q.key,q):U.set(q.index,q),q=q.sibling;return U}function p(q,U){return q=ui(q,U),q.index=0,q.sibling=null,q}function b(q,U,Y){return q.index=Y,i?(Y=q.alternate,Y!==null?(Y=Y.index,Y<U?(q.flags|=67108866,U):Y):(q.flags|=67108866,U)):(q.flags|=1048576,U)}function w(q){return i&&q.alternate===null&&(q.flags|=67108866),q}function A(q,U,Y,ne){return U===null||U.tag!==6?(U=pc(Y,q.mode,ne),U.return=q,U):(U=p(U,Y),U.return=q,U)}function I(q,U,Y,ne){var xe=Y.type;return xe===E?W(q,U,Y.props.children,ne,Y.key):U!==null&&(U.elementType===xe||typeof xe=="object"&&xe!==null&&xe.$$typeof===ae&&dg(xe)===U.type)?(U=p(U,Y.props),Ao(U,Y),U.return=q,U):(U=Js(Y.type,Y.key,Y.props,null,q.mode,ne),Ao(U,Y),U.return=q,U)}function $(q,U,Y,ne){return U===null||U.tag!==4||U.stateNode.containerInfo!==Y.containerInfo||U.stateNode.implementation!==Y.implementation?(U=gc(Y,q.mode,ne),U.return=q,U):(U=p(U,Y.children||[]),U.return=q,U)}function W(q,U,Y,ne,xe){return U===null||U.tag!==7?(U=yr(Y,q.mode,ne,xe),U.return=q,U):(U=p(U,Y),U.return=q,U)}function ie(q,U,Y){if(typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint")return U=pc(""+U,q.mode,Y),U.return=q,U;if(typeof U=="object"&&U!==null){switch(U.$$typeof){case T:return Y=Js(U.type,U.key,U.props,null,q.mode,Y),Ao(Y,U),Y.return=q,Y;case S:return U=gc(U,q.mode,Y),U.return=q,U;case ae:var ne=U._init;return U=ne(U._payload),ie(q,U,Y)}if(me(U)||he(U))return U=yr(U,q.mode,Y,null),U.return=q,U;if(typeof U.then=="function")return ie(q,ml(U),Y);if(U.$$typeof===P)return ie(q,tl(q,U),Y);pl(q,U)}return null}function X(q,U,Y,ne){var xe=U!==null?U.key:null;if(typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint")return xe!==null?null:A(q,U,""+Y,ne);if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case T:return Y.key===xe?I(q,U,Y,ne):null;case S:return Y.key===xe?$(q,U,Y,ne):null;case ae:return xe=Y._init,Y=xe(Y._payload),X(q,U,Y,ne)}if(me(Y)||he(Y))return xe!==null?null:W(q,U,Y,ne,null);if(typeof Y.then=="function")return X(q,U,ml(Y),ne);if(Y.$$typeof===P)return X(q,U,tl(q,Y),ne);pl(q,Y)}return null}function Q(q,U,Y,ne,xe){if(typeof ne=="string"&&ne!==""||typeof ne=="number"||typeof ne=="bigint")return q=q.get(Y)||null,A(U,q,""+ne,xe);if(typeof ne=="object"&&ne!==null){switch(ne.$$typeof){case T:return q=q.get(ne.key===null?Y:ne.key)||null,I(U,q,ne,xe);case S:return q=q.get(ne.key===null?Y:ne.key)||null,$(U,q,ne,xe);case ae:var Pe=ne._init;return ne=Pe(ne._payload),Q(q,U,Y,ne,xe)}if(me(ne)||he(ne))return q=q.get(Y)||null,W(U,q,ne,xe,null);if(typeof ne.then=="function")return Q(q,U,Y,ml(ne),xe);if(ne.$$typeof===P)return Q(q,U,Y,tl(U,ne),xe);pl(U,ne)}return null}function Me(q,U,Y,ne){for(var xe=null,Pe=null,be=U,Ae=U=0,Rt=null;be!==null&&Ae<Y.length;Ae++){be.index>Ae?(Rt=be,be=null):Rt=be.sibling;var qe=X(q,be,Y[Ae],ne);if(qe===null){be===null&&(be=Rt);break}i&&be&&qe.alternate===null&&a(q,be),U=b(qe,U,Ae),Pe===null?xe=qe:Pe.sibling=qe,Pe=qe,be=Rt}if(Ae===Y.length)return s(q,be),$e&&vr(q,Ae),xe;if(be===null){for(;Ae<Y.length;Ae++)be=ie(q,Y[Ae],ne),be!==null&&(U=b(be,U,Ae),Pe===null?xe=be:Pe.sibling=be,Pe=be);return $e&&vr(q,Ae),xe}for(be=c(be);Ae<Y.length;Ae++)Rt=Q(be,q,Ae,Y[Ae],ne),Rt!==null&&(i&&Rt.alternate!==null&&be.delete(Rt.key===null?Ae:Rt.key),U=b(Rt,U,Ae),Pe===null?xe=Rt:Pe.sibling=Rt,Pe=Rt);return i&&be.forEach(function(Xi){return a(q,Xi)}),$e&&vr(q,Ae),xe}function we(q,U,Y,ne){if(Y==null)throw Error(r(151));for(var xe=null,Pe=null,be=U,Ae=U=0,Rt=null,qe=Y.next();be!==null&&!qe.done;Ae++,qe=Y.next()){be.index>Ae?(Rt=be,be=null):Rt=be.sibling;var Xi=X(q,be,qe.value,ne);if(Xi===null){be===null&&(be=Rt);break}i&&be&&Xi.alternate===null&&a(q,be),U=b(Xi,U,Ae),Pe===null?xe=Xi:Pe.sibling=Xi,Pe=Xi,be=Rt}if(qe.done)return s(q,be),$e&&vr(q,Ae),xe;if(be===null){for(;!qe.done;Ae++,qe=Y.next())qe=ie(q,qe.value,ne),qe!==null&&(U=b(qe,U,Ae),Pe===null?xe=qe:Pe.sibling=qe,Pe=qe);return $e&&vr(q,Ae),xe}for(be=c(be);!qe.done;Ae++,qe=Y.next())qe=Q(be,q,Ae,qe.value,ne),qe!==null&&(i&&qe.alternate!==null&&be.delete(qe.key===null?Ae:qe.key),U=b(qe,U,Ae),Pe===null?xe=qe:Pe.sibling=qe,Pe=qe);return i&&be.forEach(function(Zw){return a(q,Zw)}),$e&&vr(q,Ae),xe}function We(q,U,Y,ne){if(typeof Y=="object"&&Y!==null&&Y.type===E&&Y.key===null&&(Y=Y.props.children),typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case T:e:{for(var xe=Y.key;U!==null;){if(U.key===xe){if(xe=Y.type,xe===E){if(U.tag===7){s(q,U.sibling),ne=p(U,Y.props.children),ne.return=q,q=ne;break e}}else if(U.elementType===xe||typeof xe=="object"&&xe!==null&&xe.$$typeof===ae&&dg(xe)===U.type){s(q,U.sibling),ne=p(U,Y.props),Ao(ne,Y),ne.return=q,q=ne;break e}s(q,U);break}else a(q,U);U=U.sibling}Y.type===E?(ne=yr(Y.props.children,q.mode,ne,Y.key),ne.return=q,q=ne):(ne=Js(Y.type,Y.key,Y.props,null,q.mode,ne),Ao(ne,Y),ne.return=q,q=ne)}return w(q);case S:e:{for(xe=Y.key;U!==null;){if(U.key===xe)if(U.tag===4&&U.stateNode.containerInfo===Y.containerInfo&&U.stateNode.implementation===Y.implementation){s(q,U.sibling),ne=p(U,Y.children||[]),ne.return=q,q=ne;break e}else{s(q,U);break}else a(q,U);U=U.sibling}ne=gc(Y,q.mode,ne),ne.return=q,q=ne}return w(q);case ae:return xe=Y._init,Y=xe(Y._payload),We(q,U,Y,ne)}if(me(Y))return Me(q,U,Y,ne);if(he(Y)){if(xe=he(Y),typeof xe!="function")throw Error(r(150));return Y=xe.call(Y),we(q,U,Y,ne)}if(typeof Y.then=="function")return We(q,U,ml(Y),ne);if(Y.$$typeof===P)return We(q,U,tl(q,Y),ne);pl(q,Y)}return typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint"?(Y=""+Y,U!==null&&U.tag===6?(s(q,U.sibling),ne=p(U,Y),ne.return=q,q=ne):(s(q,U),ne=pc(Y,q.mode,ne),ne.return=q,q=ne),w(q)):s(q,U)}return function(q,U,Y,ne){try{Eo=0;var xe=We(q,U,Y,ne);return ma=null,xe}catch(be){if(be===go||be===il)throw be;var Pe=dn(29,be,null,q.mode);return Pe.lanes=ne,Pe.return=q,Pe}finally{}}}var pa=hg(!0),mg=hg(!1),Mn=O(null),Kn=null;function Pi(i){var a=i.alternate;M(At,At.current&1),M(Mn,i),Kn===null&&(a===null||ca.current!==null||a.memoizedState!==null)&&(Kn=i)}function pg(i){if(i.tag===22){if(M(At,At.current),M(Mn,i),Kn===null){var a=i.alternate;a!==null&&a.memoizedState!==null&&(Kn=i)}}else Li()}function Li(){M(At,At.current),M(Mn,Mn.current)}function pi(i){G(Mn),Kn===i&&(Kn=null),G(At)}var At=O(0);function gl(i){for(var a=i;a!==null;){if(a.tag===13){var s=a.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||s.data==="$?"||jf(s)))return a}else if(a.tag===19&&a.memoizedProps.revealOrder!==void 0){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===i)break;for(;a.sibling===null;){if(a.return===null||a.return===i)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}function Xc(i,a,s,c){a=i.memoizedState,s=s(c,a),s=s==null?a:m({},a,s),i.memoizedState=s,i.lanes===0&&(i.updateQueue.baseState=s)}var Qc={enqueueSetState:function(i,a,s){i=i._reactInternals;var c=gn(),p=Ri(c);p.payload=a,s!=null&&(p.callback=s),a=_i(i,p,c),a!==null&&(yn(a,i,c),xo(a,i,c))},enqueueReplaceState:function(i,a,s){i=i._reactInternals;var c=gn(),p=Ri(c);p.tag=1,p.payload=a,s!=null&&(p.callback=s),a=_i(i,p,c),a!==null&&(yn(a,i,c),xo(a,i,c))},enqueueForceUpdate:function(i,a){i=i._reactInternals;var s=gn(),c=Ri(s);c.tag=2,a!=null&&(c.callback=a),a=_i(i,c,s),a!==null&&(yn(a,i,s),xo(a,i,s))}};function gg(i,a,s,c,p,b,w){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(c,b,w):a.prototype&&a.prototype.isPureReactComponent?!so(s,c)||!so(p,b):!0}function yg(i,a,s,c){i=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(s,c),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(s,c),a.state!==i&&Qc.enqueueReplaceState(a,a.state,null)}function Ar(i,a){var s=a;if("ref"in a){s={};for(var c in a)c!=="ref"&&(s[c]=a[c])}if(i=i.defaultProps){s===a&&(s=m({},s));for(var p in i)s[p]===void 0&&(s[p]=i[p])}return s}var yl=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var a=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(a))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)};function xg(i){yl(i)}function vg(i){console.error(i)}function bg(i){yl(i)}function xl(i,a){try{var s=i.onUncaughtError;s(a.value,{componentStack:a.stack})}catch(c){setTimeout(function(){throw c})}}function Tg(i,a,s){try{var c=i.onCaughtError;c(s.value,{componentStack:s.stack,errorBoundary:a.tag===1?a.stateNode:null})}catch(p){setTimeout(function(){throw p})}}function Jc(i,a,s){return s=Ri(s),s.tag=3,s.payload={element:null},s.callback=function(){xl(i,a)},s}function Sg(i){return i=Ri(i),i.tag=3,i}function Cg(i,a,s,c){var p=s.type.getDerivedStateFromError;if(typeof p=="function"){var b=c.value;i.payload=function(){return p(b)},i.callback=function(){Tg(a,s,c)}}var w=s.stateNode;w!==null&&typeof w.componentDidCatch=="function"&&(i.callback=function(){Tg(a,s,c),typeof p!="function"&&(zi===null?zi=new Set([this]):zi.add(this));var A=c.stack;this.componentDidCatch(c.value,{componentStack:A!==null?A:""})})}function ZC(i,a,s,c,p){if(s.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){if(a=s.alternate,a!==null&&ho(a,s,p,!0),s=Mn.current,s!==null){switch(s.tag){case 13:return Kn===null?Sf():s.alternate===null&&dt===0&&(dt=3),s.flags&=-257,s.flags|=65536,s.lanes=p,c===Ac?s.flags|=16384:(a=s.updateQueue,a===null?s.updateQueue=new Set([c]):a.add(c),wf(i,c,p)),!1;case 22:return s.flags|=65536,c===Ac?s.flags|=16384:(a=s.updateQueue,a===null?(a={transitions:null,markerInstances:null,retryQueue:new Set([c])},s.updateQueue=a):(s=a.retryQueue,s===null?a.retryQueue=new Set([c]):s.add(c)),wf(i,c,p)),!1}throw Error(r(435,s.tag))}return wf(i,c,p),Sf(),!1}if($e)return a=Mn.current,a!==null?((a.flags&65536)===0&&(a.flags|=256),a.flags|=65536,a.lanes=p,c!==vc&&(i=Error(r(422),{cause:c}),fo(Cn(i,s)))):(c!==vc&&(a=Error(r(423),{cause:c}),fo(Cn(a,s))),i=i.current.alternate,i.flags|=65536,p&=-p,i.lanes|=p,c=Cn(c,s),p=Jc(i.stateNode,c,p),Dc(i,p),dt!==4&&(dt=2)),!1;var b=Error(r(520),{cause:c});if(b=Cn(b,s),Io===null?Io=[b]:Io.push(b),dt!==4&&(dt=2),a===null)return!0;c=Cn(c,s),s=a;do{switch(s.tag){case 3:return s.flags|=65536,i=p&-p,s.lanes|=i,i=Jc(s.stateNode,c,i),Dc(s,i),!1;case 1:if(a=s.type,b=s.stateNode,(s.flags&128)===0&&(typeof a.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(zi===null||!zi.has(b))))return s.flags|=65536,p&=-p,s.lanes|=p,p=Sg(p),Cg(p,i,s,c),Dc(s,p),!1}s=s.return}while(s!==null);return!1}var wg=Error(r(461)),Dt=!1;function _t(i,a,s,c){a.child=i===null?mg(a,null,s,c):pa(a,i.child,s,c)}function Eg(i,a,s,c,p){s=s.render;var b=a.ref;if("ref"in c){var w={};for(var A in c)A!=="ref"&&(w[A]=c[A])}else w=c;return Cr(a),c=Pc(i,a,s,w,b,p),A=Lc(),i!==null&&!Dt?(Vc(i,a,p),gi(i,a,p)):($e&&A&&yc(a),a.flags|=1,_t(i,a,c,p),a.child)}function Ag(i,a,s,c,p){if(i===null){var b=s.type;return typeof b=="function"&&!mc(b)&&b.defaultProps===void 0&&s.compare===null?(a.tag=15,a.type=b,Mg(i,a,b,c,p)):(i=Js(s.type,null,c,a,a.mode,p),i.ref=a.ref,i.return=a,a.child=i)}if(b=i.child,!of(i,p)){var w=b.memoizedProps;if(s=s.compare,s=s!==null?s:so,s(w,c)&&i.ref===a.ref)return gi(i,a,p)}return a.flags|=1,i=ui(b,c),i.ref=a.ref,i.return=a,a.child=i}function Mg(i,a,s,c,p){if(i!==null){var b=i.memoizedProps;if(so(b,c)&&i.ref===a.ref)if(Dt=!1,a.pendingProps=c=b,of(i,p))(i.flags&131072)!==0&&(Dt=!0);else return a.lanes=i.lanes,gi(i,a,p)}return Zc(i,a,s,c,p)}function kg(i,a,s){var c=a.pendingProps,p=c.children,b=i!==null?i.memoizedState:null;if(c.mode==="hidden"){if((a.flags&128)!==0){if(c=b!==null?b.baseLanes|s:s,i!==null){for(p=a.child=i.child,b=0;p!==null;)b=b|p.lanes|p.childLanes,p=p.sibling;a.childLanes=b&~c}else a.childLanes=0,a.child=null;return Dg(i,a,c,s)}if((s&536870912)!==0)a.memoizedState={baseLanes:0,cachePool:null},i!==null&&nl(a,b!==null?b.cachePool:null),b!==null?Mp(a,b):Rc(),pg(a);else return a.lanes=a.childLanes=536870912,Dg(i,a,b!==null?b.baseLanes|s:s,s)}else b!==null?(nl(a,b.cachePool),Mp(a,b),Li(),a.memoizedState=null):(i!==null&&nl(a,null),Rc(),Li());return _t(i,a,p,s),a.child}function Dg(i,a,s,c){var p=Ec();return p=p===null?null:{parent:Et._currentValue,pool:p},a.memoizedState={baseLanes:s,cachePool:p},i!==null&&nl(a,null),Rc(),pg(a),i!==null&&ho(i,a,c,!0),null}function vl(i,a){var s=a.ref;if(s===null)i!==null&&i.ref!==null&&(a.flags|=4194816);else{if(typeof s!="function"&&typeof s!="object")throw Error(r(284));(i===null||i.ref!==s)&&(a.flags|=4194816)}}function Zc(i,a,s,c,p){return Cr(a),s=Pc(i,a,s,c,void 0,p),c=Lc(),i!==null&&!Dt?(Vc(i,a,p),gi(i,a,p)):($e&&c&&yc(a),a.flags|=1,_t(i,a,s,p),a.child)}function Ng(i,a,s,c,p,b){return Cr(a),a.updateQueue=null,s=Dp(a,c,s,p),kp(i),c=Lc(),i!==null&&!Dt?(Vc(i,a,b),gi(i,a,b)):($e&&c&&yc(a),a.flags|=1,_t(i,a,s,b),a.child)}function Rg(i,a,s,c,p){if(Cr(a),a.stateNode===null){var b=aa,w=s.contextType;typeof w=="object"&&w!==null&&(b=zt(w)),b=new s(c,b),a.memoizedState=b.state!==null&&b.state!==void 0?b.state:null,b.updater=Qc,a.stateNode=b,b._reactInternals=a,b=a.stateNode,b.props=c,b.state=a.memoizedState,b.refs={},Mc(a),w=s.contextType,b.context=typeof w=="object"&&w!==null?zt(w):aa,b.state=a.memoizedState,w=s.getDerivedStateFromProps,typeof w=="function"&&(Xc(a,s,w,c),b.state=a.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof b.getSnapshotBeforeUpdate=="function"||typeof b.UNSAFE_componentWillMount!="function"&&typeof b.componentWillMount!="function"||(w=b.state,typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount(),w!==b.state&&Qc.enqueueReplaceState(b,b.state,null),bo(a,c,b,p),vo(),b.state=a.memoizedState),typeof b.componentDidMount=="function"&&(a.flags|=4194308),c=!0}else if(i===null){b=a.stateNode;var A=a.memoizedProps,I=Ar(s,A);b.props=I;var $=b.context,W=s.contextType;w=aa,typeof W=="object"&&W!==null&&(w=zt(W));var ie=s.getDerivedStateFromProps;W=typeof ie=="function"||typeof b.getSnapshotBeforeUpdate=="function",A=a.pendingProps!==A,W||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||(A||$!==w)&&yg(a,b,c,w),Ni=!1;var X=a.memoizedState;b.state=X,bo(a,c,b,p),vo(),$=a.memoizedState,A||X!==$||Ni?(typeof ie=="function"&&(Xc(a,s,ie,c),$=a.memoizedState),(I=Ni||gg(a,s,I,c,X,$,w))?(W||typeof b.UNSAFE_componentWillMount!="function"&&typeof b.componentWillMount!="function"||(typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount()),typeof b.componentDidMount=="function"&&(a.flags|=4194308)):(typeof b.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=c,a.memoizedState=$),b.props=c,b.state=$,b.context=w,c=I):(typeof b.componentDidMount=="function"&&(a.flags|=4194308),c=!1)}else{b=a.stateNode,kc(i,a),w=a.memoizedProps,W=Ar(s,w),b.props=W,ie=a.pendingProps,X=b.context,$=s.contextType,I=aa,typeof $=="object"&&$!==null&&(I=zt($)),A=s.getDerivedStateFromProps,($=typeof A=="function"||typeof b.getSnapshotBeforeUpdate=="function")||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||(w!==ie||X!==I)&&yg(a,b,c,I),Ni=!1,X=a.memoizedState,b.state=X,bo(a,c,b,p),vo();var Q=a.memoizedState;w!==ie||X!==Q||Ni||i!==null&&i.dependencies!==null&&el(i.dependencies)?(typeof A=="function"&&(Xc(a,s,A,c),Q=a.memoizedState),(W=Ni||gg(a,s,W,c,X,Q,I)||i!==null&&i.dependencies!==null&&el(i.dependencies))?($||typeof b.UNSAFE_componentWillUpdate!="function"&&typeof b.componentWillUpdate!="function"||(typeof b.componentWillUpdate=="function"&&b.componentWillUpdate(c,Q,I),typeof b.UNSAFE_componentWillUpdate=="function"&&b.UNSAFE_componentWillUpdate(c,Q,I)),typeof b.componentDidUpdate=="function"&&(a.flags|=4),typeof b.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof b.componentDidUpdate!="function"||w===i.memoizedProps&&X===i.memoizedState||(a.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||w===i.memoizedProps&&X===i.memoizedState||(a.flags|=1024),a.memoizedProps=c,a.memoizedState=Q),b.props=c,b.state=Q,b.context=I,c=W):(typeof b.componentDidUpdate!="function"||w===i.memoizedProps&&X===i.memoizedState||(a.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||w===i.memoizedProps&&X===i.memoizedState||(a.flags|=1024),c=!1)}return b=c,vl(i,a),c=(a.flags&128)!==0,b||c?(b=a.stateNode,s=c&&typeof s.getDerivedStateFromError!="function"?null:b.render(),a.flags|=1,i!==null&&c?(a.child=pa(a,i.child,null,p),a.child=pa(a,null,s,p)):_t(i,a,s,p),a.memoizedState=b.state,i=a.child):i=gi(i,a,p),i}function _g(i,a,s,c){return co(),a.flags|=256,_t(i,a,s,c),a.child}var Wc={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function ef(i){return{baseLanes:i,cachePool:vp()}}function tf(i,a,s){return i=i!==null?i.childLanes&~s:0,a&&(i|=kn),i}function Ig(i,a,s){var c=a.pendingProps,p=!1,b=(a.flags&128)!==0,w;if((w=b)||(w=i!==null&&i.memoizedState===null?!1:(At.current&2)!==0),w&&(p=!0,a.flags&=-129),w=(a.flags&32)!==0,a.flags&=-33,i===null){if($e){if(p?Pi(a):Li(),$e){var A=ft,I;if(I=A){e:{for(I=A,A=$n;I.nodeType!==8;){if(!A){A=null;break e}if(I=zn(I.nextSibling),I===null){A=null;break e}}A=I}A!==null?(a.memoizedState={dehydrated:A,treeContext:xr!==null?{id:ci,overflow:fi}:null,retryLane:536870912,hydrationErrors:null},I=dn(18,null,null,0),I.stateNode=A,I.return=a,a.child=I,Kt=a,ft=null,I=!0):I=!1}I||Tr(a)}if(A=a.memoizedState,A!==null&&(A=A.dehydrated,A!==null))return jf(A)?a.lanes=32:a.lanes=536870912,null;pi(a)}return A=c.children,c=c.fallback,p?(Li(),p=a.mode,A=bl({mode:"hidden",children:A},p),c=yr(c,p,s,null),A.return=a,c.return=a,A.sibling=c,a.child=A,p=a.child,p.memoizedState=ef(s),p.childLanes=tf(i,w,s),a.memoizedState=Wc,c):(Pi(a),nf(a,A))}if(I=i.memoizedState,I!==null&&(A=I.dehydrated,A!==null)){if(b)a.flags&256?(Pi(a),a.flags&=-257,a=rf(i,a,s)):a.memoizedState!==null?(Li(),a.child=i.child,a.flags|=128,a=null):(Li(),p=c.fallback,A=a.mode,c=bl({mode:"visible",children:c.children},A),p=yr(p,A,s,null),p.flags|=2,c.return=a,p.return=a,c.sibling=p,a.child=c,pa(a,i.child,null,s),c=a.child,c.memoizedState=ef(s),c.childLanes=tf(i,w,s),a.memoizedState=Wc,a=p);else if(Pi(a),jf(A)){if(w=A.nextSibling&&A.nextSibling.dataset,w)var $=w.dgst;w=$,c=Error(r(419)),c.stack="",c.digest=w,fo({value:c,source:null,stack:null}),a=rf(i,a,s)}else if(Dt||ho(i,a,s,!1),w=(s&i.childLanes)!==0,Dt||w){if(w=it,w!==null&&(c=s&-s,c=(c&42)!==0?1:jt(c),c=(c&(w.suspendedLanes|s))!==0?0:c,c!==0&&c!==I.retryLane))throw I.retryLane=c,ra(i,c),yn(w,i,c),wg;A.data==="$?"||Sf(),a=rf(i,a,s)}else A.data==="$?"?(a.flags|=192,a.child=i.child,a=null):(i=I.treeContext,ft=zn(A.nextSibling),Kt=a,$e=!0,br=null,$n=!1,i!==null&&(En[An++]=ci,En[An++]=fi,En[An++]=xr,ci=i.id,fi=i.overflow,xr=a),a=nf(a,c.children),a.flags|=4096);return a}return p?(Li(),p=c.fallback,A=a.mode,I=i.child,$=I.sibling,c=ui(I,{mode:"hidden",children:c.children}),c.subtreeFlags=I.subtreeFlags&65011712,$!==null?p=ui($,p):(p=yr(p,A,s,null),p.flags|=2),p.return=a,c.return=a,c.sibling=p,a.child=c,c=p,p=a.child,A=i.child.memoizedState,A===null?A=ef(s):(I=A.cachePool,I!==null?($=Et._currentValue,I=I.parent!==$?{parent:$,pool:$}:I):I=vp(),A={baseLanes:A.baseLanes|s,cachePool:I}),p.memoizedState=A,p.childLanes=tf(i,w,s),a.memoizedState=Wc,c):(Pi(a),s=i.child,i=s.sibling,s=ui(s,{mode:"visible",children:c.children}),s.return=a,s.sibling=null,i!==null&&(w=a.deletions,w===null?(a.deletions=[i],a.flags|=16):w.push(i)),a.child=s,a.memoizedState=null,s)}function nf(i,a){return a=bl({mode:"visible",children:a},i.mode),a.return=i,i.child=a}function bl(i,a){return i=dn(22,i,null,a),i.lanes=0,i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},i}function rf(i,a,s){return pa(a,i.child,null,s),i=nf(a,a.pendingProps.children),i.flags|=2,a.memoizedState=null,i}function Pg(i,a,s){i.lanes|=a;var c=i.alternate;c!==null&&(c.lanes|=a),Tc(i.return,a,s)}function af(i,a,s,c,p){var b=i.memoizedState;b===null?i.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:c,tail:s,tailMode:p}:(b.isBackwards=a,b.rendering=null,b.renderingStartTime=0,b.last=c,b.tail=s,b.tailMode=p)}function Lg(i,a,s){var c=a.pendingProps,p=c.revealOrder,b=c.tail;if(_t(i,a,c.children,s),c=At.current,(c&2)!==0)c=c&1|2,a.flags|=128;else{if(i!==null&&(i.flags&128)!==0)e:for(i=a.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&Pg(i,s,a);else if(i.tag===19)Pg(i,s,a);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===a)break e;for(;i.sibling===null;){if(i.return===null||i.return===a)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}c&=1}switch(M(At,c),p){case"forwards":for(s=a.child,p=null;s!==null;)i=s.alternate,i!==null&&gl(i)===null&&(p=s),s=s.sibling;s=p,s===null?(p=a.child,a.child=null):(p=s.sibling,s.sibling=null),af(a,!1,p,s,b);break;case"backwards":for(s=null,p=a.child,a.child=null;p!==null;){if(i=p.alternate,i!==null&&gl(i)===null){a.child=p;break}i=p.sibling,p.sibling=s,s=p,p=i}af(a,!0,s,null,b);break;case"together":af(a,!1,null,null,void 0);break;default:a.memoizedState=null}return a.child}function gi(i,a,s){if(i!==null&&(a.dependencies=i.dependencies),Ui|=a.lanes,(s&a.childLanes)===0)if(i!==null){if(ho(i,a,s,!1),(s&a.childLanes)===0)return null}else return null;if(i!==null&&a.child!==i.child)throw Error(r(153));if(a.child!==null){for(i=a.child,s=ui(i,i.pendingProps),a.child=s,s.return=a;i.sibling!==null;)i=i.sibling,s=s.sibling=ui(i,i.pendingProps),s.return=a;s.sibling=null}return a.child}function of(i,a){return(i.lanes&a)!==0?!0:(i=i.dependencies,!!(i!==null&&el(i)))}function WC(i,a,s){switch(a.tag){case 3:le(a,a.stateNode.containerInfo),Di(a,Et,i.memoizedState.cache),co();break;case 27:case 5:_e(a);break;case 4:le(a,a.stateNode.containerInfo);break;case 10:Di(a,a.type,a.memoizedProps.value);break;case 13:var c=a.memoizedState;if(c!==null)return c.dehydrated!==null?(Pi(a),a.flags|=128,null):(s&a.child.childLanes)!==0?Ig(i,a,s):(Pi(a),i=gi(i,a,s),i!==null?i.sibling:null);Pi(a);break;case 19:var p=(i.flags&128)!==0;if(c=(s&a.childLanes)!==0,c||(ho(i,a,s,!1),c=(s&a.childLanes)!==0),p){if(c)return Lg(i,a,s);a.flags|=128}if(p=a.memoizedState,p!==null&&(p.rendering=null,p.tail=null,p.lastEffect=null),M(At,At.current),c)break;return null;case 22:case 23:return a.lanes=0,kg(i,a,s);case 24:Di(a,Et,i.memoizedState.cache)}return gi(i,a,s)}function Vg(i,a,s){if(i!==null)if(i.memoizedProps!==a.pendingProps)Dt=!0;else{if(!of(i,s)&&(a.flags&128)===0)return Dt=!1,WC(i,a,s);Dt=(i.flags&131072)!==0}else Dt=!1,$e&&(a.flags&1048576)!==0&&dp(a,Ws,a.index);switch(a.lanes=0,a.tag){case 16:e:{i=a.pendingProps;var c=a.elementType,p=c._init;if(c=p(c._payload),a.type=c,typeof c=="function")mc(c)?(i=Ar(c,i),a.tag=1,a=Rg(null,a,c,i,s)):(a.tag=0,a=Zc(null,a,c,i,s));else{if(c!=null){if(p=c.$$typeof,p===z){a.tag=11,a=Eg(null,a,c,i,s);break e}else if(p===se){a.tag=14,a=Ag(null,a,c,i,s);break e}}throw a=ue(c)||c,Error(r(306,a,""))}}return a;case 0:return Zc(i,a,a.type,a.pendingProps,s);case 1:return c=a.type,p=Ar(c,a.pendingProps),Rg(i,a,c,p,s);case 3:e:{if(le(a,a.stateNode.containerInfo),i===null)throw Error(r(387));c=a.pendingProps;var b=a.memoizedState;p=b.element,kc(i,a),bo(a,c,null,s);var w=a.memoizedState;if(c=w.cache,Di(a,Et,c),c!==b.cache&&Sc(a,[Et],s,!0),vo(),c=w.element,b.isDehydrated)if(b={element:c,isDehydrated:!1,cache:w.cache},a.updateQueue.baseState=b,a.memoizedState=b,a.flags&256){a=_g(i,a,c,s);break e}else if(c!==p){p=Cn(Error(r(424)),a),fo(p),a=_g(i,a,c,s);break e}else{switch(i=a.stateNode.containerInfo,i.nodeType){case 9:i=i.body;break;default:i=i.nodeName==="HTML"?i.ownerDocument.body:i}for(ft=zn(i.firstChild),Kt=a,$e=!0,br=null,$n=!0,s=mg(a,null,c,s),a.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling}else{if(co(),c===p){a=gi(i,a,s);break e}_t(i,a,c,s)}a=a.child}return a;case 26:return vl(i,a),i===null?(s=Uy(a.type,null,a.pendingProps,null))?a.memoizedState=s:$e||(s=a.type,i=a.pendingProps,c=Pl(te.current).createElement(s),c[kt]=a,c[Ut]=i,Pt(c,s,i),vt(c),a.stateNode=c):a.memoizedState=Uy(a.type,i.memoizedProps,a.pendingProps,i.memoizedState),null;case 27:return _e(a),i===null&&$e&&(c=a.stateNode=By(a.type,a.pendingProps,te.current),Kt=a,$n=!0,p=ft,qi(a.type)?(Uf=p,ft=zn(c.firstChild)):ft=p),_t(i,a,a.pendingProps.children,s),vl(i,a),i===null&&(a.flags|=4194304),a.child;case 5:return i===null&&$e&&((p=c=ft)&&(c=Mw(c,a.type,a.pendingProps,$n),c!==null?(a.stateNode=c,Kt=a,ft=zn(c.firstChild),$n=!1,p=!0):p=!1),p||Tr(a)),_e(a),p=a.type,b=a.pendingProps,w=i!==null?i.memoizedProps:null,c=b.children,Vf(p,b)?c=null:w!==null&&Vf(p,w)&&(a.flags|=32),a.memoizedState!==null&&(p=Pc(i,a,GC,null,null,s),Fo._currentValue=p),vl(i,a),_t(i,a,c,s),a.child;case 6:return i===null&&$e&&((i=s=ft)&&(s=kw(s,a.pendingProps,$n),s!==null?(a.stateNode=s,Kt=a,ft=null,i=!0):i=!1),i||Tr(a)),null;case 13:return Ig(i,a,s);case 4:return le(a,a.stateNode.containerInfo),c=a.pendingProps,i===null?a.child=pa(a,null,c,s):_t(i,a,c,s),a.child;case 11:return Eg(i,a,a.type,a.pendingProps,s);case 7:return _t(i,a,a.pendingProps,s),a.child;case 8:return _t(i,a,a.pendingProps.children,s),a.child;case 12:return _t(i,a,a.pendingProps.children,s),a.child;case 10:return c=a.pendingProps,Di(a,a.type,c.value),_t(i,a,c.children,s),a.child;case 9:return p=a.type._context,c=a.pendingProps.children,Cr(a),p=zt(p),c=c(p),a.flags|=1,_t(i,a,c,s),a.child;case 14:return Ag(i,a,a.type,a.pendingProps,s);case 15:return Mg(i,a,a.type,a.pendingProps,s);case 19:return Lg(i,a,s);case 31:return c=a.pendingProps,s=a.mode,c={mode:c.mode,children:c.children},i===null?(s=bl(c,s),s.ref=a.ref,a.child=s,s.return=a,a=s):(s=ui(i.child,c),s.ref=a.ref,a.child=s,s.return=a,a=s),a;case 22:return kg(i,a,s);case 24:return Cr(a),c=zt(Et),i===null?(p=Ec(),p===null&&(p=it,b=Cc(),p.pooledCache=b,b.refCount++,b!==null&&(p.pooledCacheLanes|=s),p=b),a.memoizedState={parent:c,cache:p},Mc(a),Di(a,Et,p)):((i.lanes&s)!==0&&(kc(i,a),bo(a,null,null,s),vo()),p=i.memoizedState,b=a.memoizedState,p.parent!==c?(p={parent:c,cache:c},a.memoizedState=p,a.lanes===0&&(a.memoizedState=a.updateQueue.baseState=p),Di(a,Et,c)):(c=b.cache,Di(a,Et,c),c!==p.cache&&Sc(a,[Et],s,!0))),_t(i,a,a.pendingProps.children,s),a.child;case 29:throw a.pendingProps}throw Error(r(156,a.tag))}function yi(i){i.flags|=4}function Bg(i,a){if(a.type!=="stylesheet"||(a.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!Gy(a)){if(a=Mn.current,a!==null&&((ze&4194048)===ze?Kn!==null:(ze&62914560)!==ze&&(ze&536870912)===0||a!==Kn))throw yo=Ac,bp;i.flags|=8192}}function Tl(i,a){a!==null&&(i.flags|=4),i.flags&16384&&(a=i.tag!==22?Xa():536870912,i.lanes|=a,va|=a)}function Mo(i,a){if(!$e)switch(i.tailMode){case"hidden":a=i.tail;for(var s=null;a!==null;)a.alternate!==null&&(s=a),a=a.sibling;s===null?i.tail=null:s.sibling=null;break;case"collapsed":s=i.tail;for(var c=null;s!==null;)s.alternate!==null&&(c=s),s=s.sibling;c===null?a||i.tail===null?i.tail=null:i.tail.sibling=null:c.sibling=null}}function lt(i){var a=i.alternate!==null&&i.alternate.child===i.child,s=0,c=0;if(a)for(var p=i.child;p!==null;)s|=p.lanes|p.childLanes,c|=p.subtreeFlags&65011712,c|=p.flags&65011712,p.return=i,p=p.sibling;else for(p=i.child;p!==null;)s|=p.lanes|p.childLanes,c|=p.subtreeFlags,c|=p.flags,p.return=i,p=p.sibling;return i.subtreeFlags|=c,i.childLanes=s,a}function ew(i,a,s){var c=a.pendingProps;switch(xc(a),a.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return lt(a),null;case 1:return lt(a),null;case 3:return s=a.stateNode,c=null,i!==null&&(c=i.memoizedState.cache),a.memoizedState.cache!==c&&(a.flags|=2048),hi(Et),Ee(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(i===null||i.child===null)&&(uo(a)?yi(a):i===null||i.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,pp())),lt(a),null;case 26:return s=a.memoizedState,i===null?(yi(a),s!==null?(lt(a),Bg(a,s)):(lt(a),a.flags&=-16777217)):s?s!==i.memoizedState?(yi(a),lt(a),Bg(a,s)):(lt(a),a.flags&=-16777217):(i.memoizedProps!==c&&yi(a),lt(a),a.flags&=-16777217),null;case 27:je(a),s=te.current;var p=a.type;if(i!==null&&a.stateNode!=null)i.memoizedProps!==c&&yi(a);else{if(!c){if(a.stateNode===null)throw Error(r(166));return lt(a),null}i=ee.current,uo(a)?hp(a):(i=By(p,c,s),a.stateNode=i,yi(a))}return lt(a),null;case 5:if(je(a),s=a.type,i!==null&&a.stateNode!=null)i.memoizedProps!==c&&yi(a);else{if(!c){if(a.stateNode===null)throw Error(r(166));return lt(a),null}if(i=ee.current,uo(a))hp(a);else{switch(p=Pl(te.current),i){case 1:i=p.createElementNS("http://www.w3.org/2000/svg",s);break;case 2:i=p.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;default:switch(s){case"svg":i=p.createElementNS("http://www.w3.org/2000/svg",s);break;case"math":i=p.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;case"script":i=p.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild);break;case"select":i=typeof c.is=="string"?p.createElement("select",{is:c.is}):p.createElement("select"),c.multiple?i.multiple=!0:c.size&&(i.size=c.size);break;default:i=typeof c.is=="string"?p.createElement(s,{is:c.is}):p.createElement(s)}}i[kt]=a,i[Ut]=c;e:for(p=a.child;p!==null;){if(p.tag===5||p.tag===6)i.appendChild(p.stateNode);else if(p.tag!==4&&p.tag!==27&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===a)break e;for(;p.sibling===null;){if(p.return===null||p.return===a)break e;p=p.return}p.sibling.return=p.return,p=p.sibling}a.stateNode=i;e:switch(Pt(i,s,c),s){case"button":case"input":case"select":case"textarea":i=!!c.autoFocus;break e;case"img":i=!0;break e;default:i=!1}i&&yi(a)}}return lt(a),a.flags&=-16777217,null;case 6:if(i&&a.stateNode!=null)i.memoizedProps!==c&&yi(a);else{if(typeof c!="string"&&a.stateNode===null)throw Error(r(166));if(i=te.current,uo(a)){if(i=a.stateNode,s=a.memoizedProps,c=null,p=Kt,p!==null)switch(p.tag){case 27:case 5:c=p.memoizedProps}i[kt]=a,i=!!(i.nodeValue===s||c!==null&&c.suppressHydrationWarning===!0||Ny(i.nodeValue,s)),i||Tr(a)}else i=Pl(i).createTextNode(c),i[kt]=a,a.stateNode=i}return lt(a),null;case 13:if(c=a.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(p=uo(a),c!==null&&c.dehydrated!==null){if(i===null){if(!p)throw Error(r(318));if(p=a.memoizedState,p=p!==null?p.dehydrated:null,!p)throw Error(r(317));p[kt]=a}else co(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;lt(a),p=!1}else p=pp(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=p),p=!0;if(!p)return a.flags&256?(pi(a),a):(pi(a),null)}if(pi(a),(a.flags&128)!==0)return a.lanes=s,a;if(s=c!==null,i=i!==null&&i.memoizedState!==null,s){c=a.child,p=null,c.alternate!==null&&c.alternate.memoizedState!==null&&c.alternate.memoizedState.cachePool!==null&&(p=c.alternate.memoizedState.cachePool.pool);var b=null;c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(b=c.memoizedState.cachePool.pool),b!==p&&(c.flags|=2048)}return s!==i&&s&&(a.child.flags|=8192),Tl(a,a.updateQueue),lt(a),null;case 4:return Ee(),i===null&&Rf(a.stateNode.containerInfo),lt(a),null;case 10:return hi(a.type),lt(a),null;case 19:if(G(At),p=a.memoizedState,p===null)return lt(a),null;if(c=(a.flags&128)!==0,b=p.rendering,b===null)if(c)Mo(p,!1);else{if(dt!==0||i!==null&&(i.flags&128)!==0)for(i=a.child;i!==null;){if(b=gl(i),b!==null){for(a.flags|=128,Mo(p,!1),i=b.updateQueue,a.updateQueue=i,Tl(a,i),a.subtreeFlags=0,i=s,s=a.child;s!==null;)fp(s,i),s=s.sibling;return M(At,At.current&1|2),a.child}i=i.sibling}p.tail!==null&&Vt()>wl&&(a.flags|=128,c=!0,Mo(p,!1),a.lanes=4194304)}else{if(!c)if(i=gl(b),i!==null){if(a.flags|=128,c=!0,i=i.updateQueue,a.updateQueue=i,Tl(a,i),Mo(p,!0),p.tail===null&&p.tailMode==="hidden"&&!b.alternate&&!$e)return lt(a),null}else 2*Vt()-p.renderingStartTime>wl&&s!==536870912&&(a.flags|=128,c=!0,Mo(p,!1),a.lanes=4194304);p.isBackwards?(b.sibling=a.child,a.child=b):(i=p.last,i!==null?i.sibling=b:a.child=b,p.last=b)}return p.tail!==null?(a=p.tail,p.rendering=a,p.tail=a.sibling,p.renderingStartTime=Vt(),a.sibling=null,i=At.current,M(At,c?i&1|2:i&1),a):(lt(a),null);case 22:case 23:return pi(a),_c(),c=a.memoizedState!==null,i!==null?i.memoizedState!==null!==c&&(a.flags|=8192):c&&(a.flags|=8192),c?(s&536870912)!==0&&(a.flags&128)===0&&(lt(a),a.subtreeFlags&6&&(a.flags|=8192)):lt(a),s=a.updateQueue,s!==null&&Tl(a,s.retryQueue),s=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(s=i.memoizedState.cachePool.pool),c=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(c=a.memoizedState.cachePool.pool),c!==s&&(a.flags|=2048),i!==null&&G(wr),null;case 24:return s=null,i!==null&&(s=i.memoizedState.cache),a.memoizedState.cache!==s&&(a.flags|=2048),hi(Et),lt(a),null;case 25:return null;case 30:return null}throw Error(r(156,a.tag))}function tw(i,a){switch(xc(a),a.tag){case 1:return i=a.flags,i&65536?(a.flags=i&-65537|128,a):null;case 3:return hi(Et),Ee(),i=a.flags,(i&65536)!==0&&(i&128)===0?(a.flags=i&-65537|128,a):null;case 26:case 27:case 5:return je(a),null;case 13:if(pi(a),i=a.memoizedState,i!==null&&i.dehydrated!==null){if(a.alternate===null)throw Error(r(340));co()}return i=a.flags,i&65536?(a.flags=i&-65537|128,a):null;case 19:return G(At),null;case 4:return Ee(),null;case 10:return hi(a.type),null;case 22:case 23:return pi(a),_c(),i!==null&&G(wr),i=a.flags,i&65536?(a.flags=i&-65537|128,a):null;case 24:return hi(Et),null;case 25:return null;default:return null}}function Og(i,a){switch(xc(a),a.tag){case 3:hi(Et),Ee();break;case 26:case 27:case 5:je(a);break;case 4:Ee();break;case 13:pi(a);break;case 19:G(At);break;case 10:hi(a.type);break;case 22:case 23:pi(a),_c(),i!==null&&G(wr);break;case 24:hi(Et)}}function ko(i,a){try{var s=a.updateQueue,c=s!==null?s.lastEffect:null;if(c!==null){var p=c.next;s=p;do{if((s.tag&i)===i){c=void 0;var b=s.create,w=s.inst;c=b(),w.destroy=c}s=s.next}while(s!==p)}}catch(A){et(a,a.return,A)}}function Vi(i,a,s){try{var c=a.updateQueue,p=c!==null?c.lastEffect:null;if(p!==null){var b=p.next;c=b;do{if((c.tag&i)===i){var w=c.inst,A=w.destroy;if(A!==void 0){w.destroy=void 0,p=a;var I=s,$=A;try{$()}catch(W){et(p,I,W)}}}c=c.next}while(c!==b)}}catch(W){et(a,a.return,W)}}function jg(i){var a=i.updateQueue;if(a!==null){var s=i.stateNode;try{Ap(a,s)}catch(c){et(i,i.return,c)}}}function Ug(i,a,s){s.props=Ar(i.type,i.memoizedProps),s.state=i.memoizedState;try{s.componentWillUnmount()}catch(c){et(i,a,c)}}function Do(i,a){try{var s=i.ref;if(s!==null){switch(i.tag){case 26:case 27:case 5:var c=i.stateNode;break;case 30:c=i.stateNode;break;default:c=i.stateNode}typeof s=="function"?i.refCleanup=s(c):s.current=c}}catch(p){et(i,a,p)}}function Xn(i,a){var s=i.ref,c=i.refCleanup;if(s!==null)if(typeof c=="function")try{c()}catch(p){et(i,a,p)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof s=="function")try{s(null)}catch(p){et(i,a,p)}else s.current=null}function zg(i){var a=i.type,s=i.memoizedProps,c=i.stateNode;try{e:switch(a){case"button":case"input":case"select":case"textarea":s.autoFocus&&c.focus();break e;case"img":s.src?c.src=s.src:s.srcSet&&(c.srcset=s.srcSet)}}catch(p){et(i,i.return,p)}}function sf(i,a,s){try{var c=i.stateNode;Sw(c,i.type,s,a),c[Ut]=a}catch(p){et(i,i.return,p)}}function Fg(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&qi(i.type)||i.tag===4}function lf(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||Fg(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&qi(i.type)||i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function uf(i,a,s){var c=i.tag;if(c===5||c===6)i=i.stateNode,a?(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s).insertBefore(i,a):(a=s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,a.appendChild(i),s=s._reactRootContainer,s!=null||a.onclick!==null||(a.onclick=Il));else if(c!==4&&(c===27&&qi(i.type)&&(s=i.stateNode,a=null),i=i.child,i!==null))for(uf(i,a,s),i=i.sibling;i!==null;)uf(i,a,s),i=i.sibling}function Sl(i,a,s){var c=i.tag;if(c===5||c===6)i=i.stateNode,a?s.insertBefore(i,a):s.appendChild(i);else if(c!==4&&(c===27&&qi(i.type)&&(s=i.stateNode),i=i.child,i!==null))for(Sl(i,a,s),i=i.sibling;i!==null;)Sl(i,a,s),i=i.sibling}function Hg(i){var a=i.stateNode,s=i.memoizedProps;try{for(var c=i.type,p=a.attributes;p.length;)a.removeAttributeNode(p[0]);Pt(a,c,s),a[kt]=i,a[Ut]=s}catch(b){et(i,i.return,b)}}var xi=!1,yt=!1,cf=!1,qg=typeof WeakSet=="function"?WeakSet:Set,Nt=null;function nw(i,a){if(i=i.containerInfo,Pf=Ul,i=tp(i),sc(i)){if("selectionStart"in i)var s={start:i.selectionStart,end:i.selectionEnd};else e:{s=(s=i.ownerDocument)&&s.defaultView||window;var c=s.getSelection&&s.getSelection();if(c&&c.rangeCount!==0){s=c.anchorNode;var p=c.anchorOffset,b=c.focusNode;c=c.focusOffset;try{s.nodeType,b.nodeType}catch{s=null;break e}var w=0,A=-1,I=-1,$=0,W=0,ie=i,X=null;t:for(;;){for(var Q;ie!==s||p!==0&&ie.nodeType!==3||(A=w+p),ie!==b||c!==0&&ie.nodeType!==3||(I=w+c),ie.nodeType===3&&(w+=ie.nodeValue.length),(Q=ie.firstChild)!==null;)X=ie,ie=Q;for(;;){if(ie===i)break t;if(X===s&&++$===p&&(A=w),X===b&&++W===c&&(I=w),(Q=ie.nextSibling)!==null)break;ie=X,X=ie.parentNode}ie=Q}s=A===-1||I===-1?null:{start:A,end:I}}else s=null}s=s||{start:0,end:0}}else s=null;for(Lf={focusedElem:i,selectionRange:s},Ul=!1,Nt=a;Nt!==null;)if(a=Nt,i=a.child,(a.subtreeFlags&1024)!==0&&i!==null)i.return=a,Nt=i;else for(;Nt!==null;){switch(a=Nt,b=a.alternate,i=a.flags,a.tag){case 0:break;case 11:case 15:break;case 1:if((i&1024)!==0&&b!==null){i=void 0,s=a,p=b.memoizedProps,b=b.memoizedState,c=s.stateNode;try{var Me=Ar(s.type,p,s.elementType===s.type);i=c.getSnapshotBeforeUpdate(Me,b),c.__reactInternalSnapshotBeforeUpdate=i}catch(we){et(s,s.return,we)}}break;case 3:if((i&1024)!==0){if(i=a.stateNode.containerInfo,s=i.nodeType,s===9)Of(i);else if(s===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":Of(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(r(163))}if(i=a.sibling,i!==null){i.return=a.return,Nt=i;break}Nt=a.return}}function Gg(i,a,s){var c=s.flags;switch(s.tag){case 0:case 11:case 15:Bi(i,s),c&4&&ko(5,s);break;case 1:if(Bi(i,s),c&4)if(i=s.stateNode,a===null)try{i.componentDidMount()}catch(w){et(s,s.return,w)}else{var p=Ar(s.type,a.memoizedProps);a=a.memoizedState;try{i.componentDidUpdate(p,a,i.__reactInternalSnapshotBeforeUpdate)}catch(w){et(s,s.return,w)}}c&64&&jg(s),c&512&&Do(s,s.return);break;case 3:if(Bi(i,s),c&64&&(i=s.updateQueue,i!==null)){if(a=null,s.child!==null)switch(s.child.tag){case 27:case 5:a=s.child.stateNode;break;case 1:a=s.child.stateNode}try{Ap(i,a)}catch(w){et(s,s.return,w)}}break;case 27:a===null&&c&4&&Hg(s);case 26:case 5:Bi(i,s),a===null&&c&4&&zg(s),c&512&&Do(s,s.return);break;case 12:Bi(i,s);break;case 13:Bi(i,s),c&4&&Kg(i,s),c&64&&(i=s.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(s=fw.bind(null,s),Dw(i,s))));break;case 22:if(c=s.memoizedState!==null||xi,!c){a=a!==null&&a.memoizedState!==null||yt,p=xi;var b=yt;xi=c,(yt=a)&&!b?Oi(i,s,(s.subtreeFlags&8772)!==0):Bi(i,s),xi=p,yt=b}break;case 30:break;default:Bi(i,s)}}function Yg(i){var a=i.alternate;a!==null&&(i.alternate=null,Yg(a)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(a=i.stateNode,a!==null&&Ja(a)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var st=null,tn=!1;function vi(i,a,s){for(s=s.child;s!==null;)$g(i,a,s),s=s.sibling}function $g(i,a,s){if(ce&&typeof ce.onCommitFiberUnmount=="function")try{ce.onCommitFiberUnmount(Z,s)}catch{}switch(s.tag){case 26:yt||Xn(s,a),vi(i,a,s),s.memoizedState?s.memoizedState.count--:s.stateNode&&(s=s.stateNode,s.parentNode.removeChild(s));break;case 27:yt||Xn(s,a);var c=st,p=tn;qi(s.type)&&(st=s.stateNode,tn=!1),vi(i,a,s),Oo(s.stateNode),st=c,tn=p;break;case 5:yt||Xn(s,a);case 6:if(c=st,p=tn,st=null,vi(i,a,s),st=c,tn=p,st!==null)if(tn)try{(st.nodeType===9?st.body:st.nodeName==="HTML"?st.ownerDocument.body:st).removeChild(s.stateNode)}catch(b){et(s,a,b)}else try{st.removeChild(s.stateNode)}catch(b){et(s,a,b)}break;case 18:st!==null&&(tn?(i=st,Ly(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,s.stateNode),Yo(i)):Ly(st,s.stateNode));break;case 4:c=st,p=tn,st=s.stateNode.containerInfo,tn=!0,vi(i,a,s),st=c,tn=p;break;case 0:case 11:case 14:case 15:yt||Vi(2,s,a),yt||Vi(4,s,a),vi(i,a,s);break;case 1:yt||(Xn(s,a),c=s.stateNode,typeof c.componentWillUnmount=="function"&&Ug(s,a,c)),vi(i,a,s);break;case 21:vi(i,a,s);break;case 22:yt=(c=yt)||s.memoizedState!==null,vi(i,a,s),yt=c;break;default:vi(i,a,s)}}function Kg(i,a){if(a.memoizedState===null&&(i=a.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{Yo(i)}catch(s){et(a,a.return,s)}}function iw(i){switch(i.tag){case 13:case 19:var a=i.stateNode;return a===null&&(a=i.stateNode=new qg),a;case 22:return i=i.stateNode,a=i._retryCache,a===null&&(a=i._retryCache=new qg),a;default:throw Error(r(435,i.tag))}}function ff(i,a){var s=iw(i);a.forEach(function(c){var p=dw.bind(null,i,c);s.has(c)||(s.add(c),c.then(p,p))})}function hn(i,a){var s=a.deletions;if(s!==null)for(var c=0;c<s.length;c++){var p=s[c],b=i,w=a,A=w;e:for(;A!==null;){switch(A.tag){case 27:if(qi(A.type)){st=A.stateNode,tn=!1;break e}break;case 5:st=A.stateNode,tn=!1;break e;case 3:case 4:st=A.stateNode.containerInfo,tn=!0;break e}A=A.return}if(st===null)throw Error(r(160));$g(b,w,p),st=null,tn=!1,b=p.alternate,b!==null&&(b.return=null),p.return=null}if(a.subtreeFlags&13878)for(a=a.child;a!==null;)Xg(a,i),a=a.sibling}var Un=null;function Xg(i,a){var s=i.alternate,c=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:hn(a,i),mn(i),c&4&&(Vi(3,i,i.return),ko(3,i),Vi(5,i,i.return));break;case 1:hn(a,i),mn(i),c&512&&(yt||s===null||Xn(s,s.return)),c&64&&xi&&(i=i.updateQueue,i!==null&&(c=i.callbacks,c!==null&&(s=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=s===null?c:s.concat(c))));break;case 26:var p=Un;if(hn(a,i),mn(i),c&512&&(yt||s===null||Xn(s,s.return)),c&4){var b=s!==null?s.memoizedState:null;if(c=i.memoizedState,s===null)if(c===null)if(i.stateNode===null){e:{c=i.type,s=i.memoizedProps,p=p.ownerDocument||p;t:switch(c){case"title":b=p.getElementsByTagName("title")[0],(!b||b[cr]||b[kt]||b.namespaceURI==="http://www.w3.org/2000/svg"||b.hasAttribute("itemprop"))&&(b=p.createElement(c),p.head.insertBefore(b,p.querySelector("head > title"))),Pt(b,c,s),b[kt]=i,vt(b),c=b;break e;case"link":var w=Hy("link","href",p).get(c+(s.href||""));if(w){for(var A=0;A<w.length;A++)if(b=w[A],b.getAttribute("href")===(s.href==null||s.href===""?null:s.href)&&b.getAttribute("rel")===(s.rel==null?null:s.rel)&&b.getAttribute("title")===(s.title==null?null:s.title)&&b.getAttribute("crossorigin")===(s.crossOrigin==null?null:s.crossOrigin)){w.splice(A,1);break t}}b=p.createElement(c),Pt(b,c,s),p.head.appendChild(b);break;case"meta":if(w=Hy("meta","content",p).get(c+(s.content||""))){for(A=0;A<w.length;A++)if(b=w[A],b.getAttribute("content")===(s.content==null?null:""+s.content)&&b.getAttribute("name")===(s.name==null?null:s.name)&&b.getAttribute("property")===(s.property==null?null:s.property)&&b.getAttribute("http-equiv")===(s.httpEquiv==null?null:s.httpEquiv)&&b.getAttribute("charset")===(s.charSet==null?null:s.charSet)){w.splice(A,1);break t}}b=p.createElement(c),Pt(b,c,s),p.head.appendChild(b);break;default:throw Error(r(468,c))}b[kt]=i,vt(b),c=b}i.stateNode=c}else qy(p,i.type,i.stateNode);else i.stateNode=Fy(p,c,i.memoizedProps);else b!==c?(b===null?s.stateNode!==null&&(s=s.stateNode,s.parentNode.removeChild(s)):b.count--,c===null?qy(p,i.type,i.stateNode):Fy(p,c,i.memoizedProps)):c===null&&i.stateNode!==null&&sf(i,i.memoizedProps,s.memoizedProps)}break;case 27:hn(a,i),mn(i),c&512&&(yt||s===null||Xn(s,s.return)),s!==null&&c&4&&sf(i,i.memoizedProps,s.memoizedProps);break;case 5:if(hn(a,i),mn(i),c&512&&(yt||s===null||Xn(s,s.return)),i.flags&32){p=i.stateNode;try{Jr(p,"")}catch(Q){et(i,i.return,Q)}}c&4&&i.stateNode!=null&&(p=i.memoizedProps,sf(i,p,s!==null?s.memoizedProps:p)),c&1024&&(cf=!0);break;case 6:if(hn(a,i),mn(i),c&4){if(i.stateNode===null)throw Error(r(162));c=i.memoizedProps,s=i.stateNode;try{s.nodeValue=c}catch(Q){et(i,i.return,Q)}}break;case 3:if(Bl=null,p=Un,Un=Ll(a.containerInfo),hn(a,i),Un=p,mn(i),c&4&&s!==null&&s.memoizedState.isDehydrated)try{Yo(a.containerInfo)}catch(Q){et(i,i.return,Q)}cf&&(cf=!1,Qg(i));break;case 4:c=Un,Un=Ll(i.stateNode.containerInfo),hn(a,i),mn(i),Un=c;break;case 12:hn(a,i),mn(i);break;case 13:hn(a,i),mn(i),i.child.flags&8192&&i.memoizedState!==null!=(s!==null&&s.memoizedState!==null)&&(yf=Vt()),c&4&&(c=i.updateQueue,c!==null&&(i.updateQueue=null,ff(i,c)));break;case 22:p=i.memoizedState!==null;var I=s!==null&&s.memoizedState!==null,$=xi,W=yt;if(xi=$||p,yt=W||I,hn(a,i),yt=W,xi=$,mn(i),c&8192)e:for(a=i.stateNode,a._visibility=p?a._visibility&-2:a._visibility|1,p&&(s===null||I||xi||yt||Mr(i)),s=null,a=i;;){if(a.tag===5||a.tag===26){if(s===null){I=s=a;try{if(b=I.stateNode,p)w=b.style,typeof w.setProperty=="function"?w.setProperty("display","none","important"):w.display="none";else{A=I.stateNode;var ie=I.memoizedProps.style,X=ie!=null&&ie.hasOwnProperty("display")?ie.display:null;A.style.display=X==null||typeof X=="boolean"?"":(""+X).trim()}}catch(Q){et(I,I.return,Q)}}}else if(a.tag===6){if(s===null){I=a;try{I.stateNode.nodeValue=p?"":I.memoizedProps}catch(Q){et(I,I.return,Q)}}}else if((a.tag!==22&&a.tag!==23||a.memoizedState===null||a===i)&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===i)break e;for(;a.sibling===null;){if(a.return===null||a.return===i)break e;s===a&&(s=null),a=a.return}s===a&&(s=null),a.sibling.return=a.return,a=a.sibling}c&4&&(c=i.updateQueue,c!==null&&(s=c.retryQueue,s!==null&&(c.retryQueue=null,ff(i,s))));break;case 19:hn(a,i),mn(i),c&4&&(c=i.updateQueue,c!==null&&(i.updateQueue=null,ff(i,c)));break;case 30:break;case 21:break;default:hn(a,i),mn(i)}}function mn(i){var a=i.flags;if(a&2){try{for(var s,c=i.return;c!==null;){if(Fg(c)){s=c;break}c=c.return}if(s==null)throw Error(r(160));switch(s.tag){case 27:var p=s.stateNode,b=lf(i);Sl(i,b,p);break;case 5:var w=s.stateNode;s.flags&32&&(Jr(w,""),s.flags&=-33);var A=lf(i);Sl(i,A,w);break;case 3:case 4:var I=s.stateNode.containerInfo,$=lf(i);uf(i,$,I);break;default:throw Error(r(161))}}catch(W){et(i,i.return,W)}i.flags&=-3}a&4096&&(i.flags&=-4097)}function Qg(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var a=i;Qg(a),a.tag===5&&a.flags&1024&&a.stateNode.reset(),i=i.sibling}}function Bi(i,a){if(a.subtreeFlags&8772)for(a=a.child;a!==null;)Gg(i,a.alternate,a),a=a.sibling}function Mr(i){for(i=i.child;i!==null;){var a=i;switch(a.tag){case 0:case 11:case 14:case 15:Vi(4,a,a.return),Mr(a);break;case 1:Xn(a,a.return);var s=a.stateNode;typeof s.componentWillUnmount=="function"&&Ug(a,a.return,s),Mr(a);break;case 27:Oo(a.stateNode);case 26:case 5:Xn(a,a.return),Mr(a);break;case 22:a.memoizedState===null&&Mr(a);break;case 30:Mr(a);break;default:Mr(a)}i=i.sibling}}function Oi(i,a,s){for(s=s&&(a.subtreeFlags&8772)!==0,a=a.child;a!==null;){var c=a.alternate,p=i,b=a,w=b.flags;switch(b.tag){case 0:case 11:case 15:Oi(p,b,s),ko(4,b);break;case 1:if(Oi(p,b,s),c=b,p=c.stateNode,typeof p.componentDidMount=="function")try{p.componentDidMount()}catch($){et(c,c.return,$)}if(c=b,p=c.updateQueue,p!==null){var A=c.stateNode;try{var I=p.shared.hiddenCallbacks;if(I!==null)for(p.shared.hiddenCallbacks=null,p=0;p<I.length;p++)Ep(I[p],A)}catch($){et(c,c.return,$)}}s&&w&64&&jg(b),Do(b,b.return);break;case 27:Hg(b);case 26:case 5:Oi(p,b,s),s&&c===null&&w&4&&zg(b),Do(b,b.return);break;case 12:Oi(p,b,s);break;case 13:Oi(p,b,s),s&&w&4&&Kg(p,b);break;case 22:b.memoizedState===null&&Oi(p,b,s),Do(b,b.return);break;case 30:break;default:Oi(p,b,s)}a=a.sibling}}function df(i,a){var s=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(s=i.memoizedState.cachePool.pool),i=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(i=a.memoizedState.cachePool.pool),i!==s&&(i!=null&&i.refCount++,s!=null&&mo(s))}function hf(i,a){i=null,a.alternate!==null&&(i=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==i&&(a.refCount++,i!=null&&mo(i))}function Qn(i,a,s,c){if(a.subtreeFlags&10256)for(a=a.child;a!==null;)Jg(i,a,s,c),a=a.sibling}function Jg(i,a,s,c){var p=a.flags;switch(a.tag){case 0:case 11:case 15:Qn(i,a,s,c),p&2048&&ko(9,a);break;case 1:Qn(i,a,s,c);break;case 3:Qn(i,a,s,c),p&2048&&(i=null,a.alternate!==null&&(i=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==i&&(a.refCount++,i!=null&&mo(i)));break;case 12:if(p&2048){Qn(i,a,s,c),i=a.stateNode;try{var b=a.memoizedProps,w=b.id,A=b.onPostCommit;typeof A=="function"&&A(w,a.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(I){et(a,a.return,I)}}else Qn(i,a,s,c);break;case 13:Qn(i,a,s,c);break;case 23:break;case 22:b=a.stateNode,w=a.alternate,a.memoizedState!==null?b._visibility&2?Qn(i,a,s,c):No(i,a):b._visibility&2?Qn(i,a,s,c):(b._visibility|=2,ga(i,a,s,c,(a.subtreeFlags&10256)!==0)),p&2048&&df(w,a);break;case 24:Qn(i,a,s,c),p&2048&&hf(a.alternate,a);break;default:Qn(i,a,s,c)}}function ga(i,a,s,c,p){for(p=p&&(a.subtreeFlags&10256)!==0,a=a.child;a!==null;){var b=i,w=a,A=s,I=c,$=w.flags;switch(w.tag){case 0:case 11:case 15:ga(b,w,A,I,p),ko(8,w);break;case 23:break;case 22:var W=w.stateNode;w.memoizedState!==null?W._visibility&2?ga(b,w,A,I,p):No(b,w):(W._visibility|=2,ga(b,w,A,I,p)),p&&$&2048&&df(w.alternate,w);break;case 24:ga(b,w,A,I,p),p&&$&2048&&hf(w.alternate,w);break;default:ga(b,w,A,I,p)}a=a.sibling}}function No(i,a){if(a.subtreeFlags&10256)for(a=a.child;a!==null;){var s=i,c=a,p=c.flags;switch(c.tag){case 22:No(s,c),p&2048&&df(c.alternate,c);break;case 24:No(s,c),p&2048&&hf(c.alternate,c);break;default:No(s,c)}a=a.sibling}}var Ro=8192;function ya(i){if(i.subtreeFlags&Ro)for(i=i.child;i!==null;)Zg(i),i=i.sibling}function Zg(i){switch(i.tag){case 26:ya(i),i.flags&Ro&&i.memoizedState!==null&&Fw(Un,i.memoizedState,i.memoizedProps);break;case 5:ya(i);break;case 3:case 4:var a=Un;Un=Ll(i.stateNode.containerInfo),ya(i),Un=a;break;case 22:i.memoizedState===null&&(a=i.alternate,a!==null&&a.memoizedState!==null?(a=Ro,Ro=16777216,ya(i),Ro=a):ya(i));break;default:ya(i)}}function Wg(i){var a=i.alternate;if(a!==null&&(i=a.child,i!==null)){a.child=null;do a=i.sibling,i.sibling=null,i=a;while(i!==null)}}function _o(i){var a=i.deletions;if((i.flags&16)!==0){if(a!==null)for(var s=0;s<a.length;s++){var c=a[s];Nt=c,ty(c,i)}Wg(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)ey(i),i=i.sibling}function ey(i){switch(i.tag){case 0:case 11:case 15:_o(i),i.flags&2048&&Vi(9,i,i.return);break;case 3:_o(i);break;case 12:_o(i);break;case 22:var a=i.stateNode;i.memoizedState!==null&&a._visibility&2&&(i.return===null||i.return.tag!==13)?(a._visibility&=-3,Cl(i)):_o(i);break;default:_o(i)}}function Cl(i){var a=i.deletions;if((i.flags&16)!==0){if(a!==null)for(var s=0;s<a.length;s++){var c=a[s];Nt=c,ty(c,i)}Wg(i)}for(i=i.child;i!==null;){switch(a=i,a.tag){case 0:case 11:case 15:Vi(8,a,a.return),Cl(a);break;case 22:s=a.stateNode,s._visibility&2&&(s._visibility&=-3,Cl(a));break;default:Cl(a)}i=i.sibling}}function ty(i,a){for(;Nt!==null;){var s=Nt;switch(s.tag){case 0:case 11:case 15:Vi(8,s,a);break;case 23:case 22:if(s.memoizedState!==null&&s.memoizedState.cachePool!==null){var c=s.memoizedState.cachePool.pool;c!=null&&c.refCount++}break;case 24:mo(s.memoizedState.cache)}if(c=s.child,c!==null)c.return=s,Nt=c;else e:for(s=i;Nt!==null;){c=Nt;var p=c.sibling,b=c.return;if(Yg(c),c===s){Nt=null;break e}if(p!==null){p.return=b,Nt=p;break e}Nt=b}}}var rw={getCacheForType:function(i){var a=zt(Et),s=a.data.get(i);return s===void 0&&(s=i(),a.data.set(i,s)),s}},aw=typeof WeakMap=="function"?WeakMap:Map,Xe=0,it=null,Le=null,ze=0,Qe=0,pn=null,ji=!1,xa=!1,mf=!1,bi=0,dt=0,Ui=0,kr=0,pf=0,kn=0,va=0,Io=null,nn=null,gf=!1,yf=0,wl=1/0,El=null,zi=null,It=0,Fi=null,ba=null,Ta=0,xf=0,vf=null,ny=null,Po=0,bf=null;function gn(){if((Xe&2)!==0&&ze!==0)return ze&-ze;if(K.T!==null){var i=la;return i!==0?i:Mf()}return Ps()}function iy(){kn===0&&(kn=(ze&536870912)===0||$e?cn():536870912);var i=Mn.current;return i!==null&&(i.flags|=32),kn}function yn(i,a,s){(i===it&&(Qe===2||Qe===9)||i.cancelPendingCommit!==null)&&(Sa(i,0),Hi(i,ze,kn,!1)),J(i,s),((Xe&2)===0||i!==it)&&(i===it&&((Xe&2)===0&&(kr|=s),dt===4&&Hi(i,ze,kn,!1)),Jn(i))}function ry(i,a,s){if((Xe&6)!==0)throw Error(r(327));var c=!s&&(a&124)===0&&(a&i.expiredLanes)===0||Jt(i,a),p=c?lw(i,a):Cf(i,a,!0),b=c;do{if(p===0){xa&&!c&&Hi(i,a,0,!1);break}else{if(s=i.current.alternate,b&&!ow(s)){p=Cf(i,a,!1),b=!1;continue}if(p===2){if(b=a,i.errorRecoveryDisabledLanes&b)var w=0;else w=i.pendingLanes&-536870913,w=w!==0?w:w&536870912?536870912:0;if(w!==0){a=w;e:{var A=i;p=Io;var I=A.current.memoizedState.isDehydrated;if(I&&(Sa(A,w).flags|=256),w=Cf(A,w,!1),w!==2){if(mf&&!I){A.errorRecoveryDisabledLanes|=b,kr|=b,p=4;break e}b=nn,nn=p,b!==null&&(nn===null?nn=b:nn.push.apply(nn,b))}p=w}if(b=!1,p!==2)continue}}if(p===1){Sa(i,0),Hi(i,a,0,!0);break}e:{switch(c=i,b=p,b){case 0:case 1:throw Error(r(345));case 4:if((a&4194048)!==a)break;case 6:Hi(c,a,kn,!ji);break e;case 2:nn=null;break;case 3:case 5:break;default:throw Error(r(329))}if((a&62914560)===a&&(p=yf+300-Vt(),10<p)){if(Hi(c,a,kn,!ji),pt(c,0,!0)!==0)break e;c.timeoutHandle=Iy(ay.bind(null,c,s,nn,El,gf,a,kn,kr,va,ji,b,2,-0,0),p);break e}ay(c,s,nn,El,gf,a,kn,kr,va,ji,b,0,-0,0)}}break}while(!0);Jn(i)}function ay(i,a,s,c,p,b,w,A,I,$,W,ie,X,Q){if(i.timeoutHandle=-1,ie=a.subtreeFlags,(ie&8192||(ie&16785408)===16785408)&&(zo={stylesheets:null,count:0,unsuspend:zw},Zg(a),ie=Hw(),ie!==null)){i.cancelPendingCommit=ie(dy.bind(null,i,a,b,s,c,p,w,A,I,W,1,X,Q)),Hi(i,b,w,!$);return}dy(i,a,b,s,c,p,w,A,I)}function ow(i){for(var a=i;;){var s=a.tag;if((s===0||s===11||s===15)&&a.flags&16384&&(s=a.updateQueue,s!==null&&(s=s.stores,s!==null)))for(var c=0;c<s.length;c++){var p=s[c],b=p.getSnapshot;p=p.value;try{if(!fn(b(),p))return!1}catch{return!1}}if(s=a.child,a.subtreeFlags&16384&&s!==null)s.return=a,a=s;else{if(a===i)break;for(;a.sibling===null;){if(a.return===null||a.return===i)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function Hi(i,a,s,c){a&=~pf,a&=~kr,i.suspendedLanes|=a,i.pingedLanes&=~a,c&&(i.warmLanes|=a),c=i.expirationTimes;for(var p=a;0<p;){var b=31-Ce(p),w=1<<b;c[b]=-1,p&=~w}s!==0&&ve(i,s,a)}function Al(){return(Xe&6)===0?(Lo(0),!1):!0}function Tf(){if(Le!==null){if(Qe===0)var i=Le.return;else i=Le,di=Sr=null,Bc(i),ma=null,Eo=0,i=Le;for(;i!==null;)Og(i.alternate,i),i=i.return;Le=null}}function Sa(i,a){var s=i.timeoutHandle;s!==-1&&(i.timeoutHandle=-1,ww(s)),s=i.cancelPendingCommit,s!==null&&(i.cancelPendingCommit=null,s()),Tf(),it=i,Le=s=ui(i.current,null),ze=a,Qe=0,pn=null,ji=!1,xa=Jt(i,a),mf=!1,va=kn=pf=kr=Ui=dt=0,nn=Io=null,gf=!1,(a&8)!==0&&(a|=a&32);var c=i.entangledLanes;if(c!==0)for(i=i.entanglements,c&=a;0<c;){var p=31-Ce(c),b=1<<p;a|=i[p],c&=~b}return bi=a,Ks(),s}function oy(i,a){Ie=null,K.H=hl,a===go||a===il?(a=Cp(),Qe=3):a===bp?(a=Cp(),Qe=4):Qe=a===wg?8:a!==null&&typeof a=="object"&&typeof a.then=="function"?6:1,pn=a,Le===null&&(dt=1,xl(i,Cn(a,i.current)))}function sy(){var i=K.H;return K.H=hl,i===null?hl:i}function ly(){var i=K.A;return K.A=rw,i}function Sf(){dt=4,ji||(ze&4194048)!==ze&&Mn.current!==null||(xa=!0),(Ui&134217727)===0&&(kr&134217727)===0||it===null||Hi(it,ze,kn,!1)}function Cf(i,a,s){var c=Xe;Xe|=2;var p=sy(),b=ly();(it!==i||ze!==a)&&(El=null,Sa(i,a)),a=!1;var w=dt;e:do try{if(Qe!==0&&Le!==null){var A=Le,I=pn;switch(Qe){case 8:Tf(),w=6;break e;case 3:case 2:case 9:case 6:Mn.current===null&&(a=!0);var $=Qe;if(Qe=0,pn=null,Ca(i,A,I,$),s&&xa){w=0;break e}break;default:$=Qe,Qe=0,pn=null,Ca(i,A,I,$)}}sw(),w=dt;break}catch(W){oy(i,W)}while(!0);return a&&i.shellSuspendCounter++,di=Sr=null,Xe=c,K.H=p,K.A=b,Le===null&&(it=null,ze=0,Ks()),w}function sw(){for(;Le!==null;)uy(Le)}function lw(i,a){var s=Xe;Xe|=2;var c=sy(),p=ly();it!==i||ze!==a?(El=null,wl=Vt()+500,Sa(i,a)):xa=Jt(i,a);e:do try{if(Qe!==0&&Le!==null){a=Le;var b=pn;t:switch(Qe){case 1:Qe=0,pn=null,Ca(i,a,b,1);break;case 2:case 9:if(Tp(b)){Qe=0,pn=null,cy(a);break}a=function(){Qe!==2&&Qe!==9||it!==i||(Qe=7),Jn(i)},b.then(a,a);break e;case 3:Qe=7;break e;case 4:Qe=5;break e;case 7:Tp(b)?(Qe=0,pn=null,cy(a)):(Qe=0,pn=null,Ca(i,a,b,7));break;case 5:var w=null;switch(Le.tag){case 26:w=Le.memoizedState;case 5:case 27:var A=Le;if(!w||Gy(w)){Qe=0,pn=null;var I=A.sibling;if(I!==null)Le=I;else{var $=A.return;$!==null?(Le=$,Ml($)):Le=null}break t}}Qe=0,pn=null,Ca(i,a,b,5);break;case 6:Qe=0,pn=null,Ca(i,a,b,6);break;case 8:Tf(),dt=6;break e;default:throw Error(r(462))}}uw();break}catch(W){oy(i,W)}while(!0);return di=Sr=null,K.H=c,K.A=p,Xe=s,Le!==null?0:(it=null,ze=0,Ks(),dt)}function uw(){for(;Le!==null&&!Mt();)uy(Le)}function uy(i){var a=Vg(i.alternate,i,bi);i.memoizedProps=i.pendingProps,a===null?Ml(i):Le=a}function cy(i){var a=i,s=a.alternate;switch(a.tag){case 15:case 0:a=Ng(s,a,a.pendingProps,a.type,void 0,ze);break;case 11:a=Ng(s,a,a.pendingProps,a.type.render,a.ref,ze);break;case 5:Bc(a);default:Og(s,a),a=Le=fp(a,bi),a=Vg(s,a,bi)}i.memoizedProps=i.pendingProps,a===null?Ml(i):Le=a}function Ca(i,a,s,c){di=Sr=null,Bc(a),ma=null,Eo=0;var p=a.return;try{if(ZC(i,p,a,s,ze)){dt=1,xl(i,Cn(s,i.current)),Le=null;return}}catch(b){if(p!==null)throw Le=p,b;dt=1,xl(i,Cn(s,i.current)),Le=null;return}a.flags&32768?($e||c===1?i=!0:xa||(ze&536870912)!==0?i=!1:(ji=i=!0,(c===2||c===9||c===3||c===6)&&(c=Mn.current,c!==null&&c.tag===13&&(c.flags|=16384))),fy(a,i)):Ml(a)}function Ml(i){var a=i;do{if((a.flags&32768)!==0){fy(a,ji);return}i=a.return;var s=ew(a.alternate,a,bi);if(s!==null){Le=s;return}if(a=a.sibling,a!==null){Le=a;return}Le=a=i}while(a!==null);dt===0&&(dt=5)}function fy(i,a){do{var s=tw(i.alternate,i);if(s!==null){s.flags&=32767,Le=s;return}if(s=i.return,s!==null&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!a&&(i=i.sibling,i!==null)){Le=i;return}Le=i=s}while(i!==null);dt=6,Le=null}function dy(i,a,s,c,p,b,w,A,I){i.cancelPendingCommit=null;do kl();while(It!==0);if((Xe&6)!==0)throw Error(r(327));if(a!==null){if(a===i.current)throw Error(r(177));if(b=a.lanes|a.childLanes,b|=dc,ge(i,s,b,w,A,I),i===it&&(Le=it=null,ze=0),ba=a,Fi=i,Ta=s,xf=b,vf=p,ny=c,(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,hw(ri,function(){return yy(),null})):(i.callbackNode=null,i.callbackPriority=0),c=(a.flags&13878)!==0,(a.subtreeFlags&13878)!==0||c){c=K.T,K.T=null,p=V.p,V.p=2,w=Xe,Xe|=4;try{nw(i,a,s)}finally{Xe=w,V.p=p,K.T=c}}It=1,hy(),my(),py()}}function hy(){if(It===1){It=0;var i=Fi,a=ba,s=(a.flags&13878)!==0;if((a.subtreeFlags&13878)!==0||s){s=K.T,K.T=null;var c=V.p;V.p=2;var p=Xe;Xe|=4;try{Xg(a,i);var b=Lf,w=tp(i.containerInfo),A=b.focusedElem,I=b.selectionRange;if(w!==A&&A&&A.ownerDocument&&ep(A.ownerDocument.documentElement,A)){if(I!==null&&sc(A)){var $=I.start,W=I.end;if(W===void 0&&(W=$),"selectionStart"in A)A.selectionStart=$,A.selectionEnd=Math.min(W,A.value.length);else{var ie=A.ownerDocument||document,X=ie&&ie.defaultView||window;if(X.getSelection){var Q=X.getSelection(),Me=A.textContent.length,we=Math.min(I.start,Me),We=I.end===void 0?we:Math.min(I.end,Me);!Q.extend&&we>We&&(w=We,We=we,we=w);var q=Wm(A,we),U=Wm(A,We);if(q&&U&&(Q.rangeCount!==1||Q.anchorNode!==q.node||Q.anchorOffset!==q.offset||Q.focusNode!==U.node||Q.focusOffset!==U.offset)){var Y=ie.createRange();Y.setStart(q.node,q.offset),Q.removeAllRanges(),we>We?(Q.addRange(Y),Q.extend(U.node,U.offset)):(Y.setEnd(U.node,U.offset),Q.addRange(Y))}}}}for(ie=[],Q=A;Q=Q.parentNode;)Q.nodeType===1&&ie.push({element:Q,left:Q.scrollLeft,top:Q.scrollTop});for(typeof A.focus=="function"&&A.focus(),A=0;A<ie.length;A++){var ne=ie[A];ne.element.scrollLeft=ne.left,ne.element.scrollTop=ne.top}}Ul=!!Pf,Lf=Pf=null}finally{Xe=p,V.p=c,K.T=s}}i.current=a,It=2}}function my(){if(It===2){It=0;var i=Fi,a=ba,s=(a.flags&8772)!==0;if((a.subtreeFlags&8772)!==0||s){s=K.T,K.T=null;var c=V.p;V.p=2;var p=Xe;Xe|=4;try{Gg(i,a.alternate,a)}finally{Xe=p,V.p=c,K.T=s}}It=3}}function py(){if(It===4||It===3){It=0,ln();var i=Fi,a=ba,s=Ta,c=ny;(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?It=5:(It=0,ba=Fi=null,gy(i,i.pendingLanes));var p=i.pendingLanes;if(p===0&&(zi=null),ot(s),a=a.stateNode,ce&&typeof ce.onCommitFiberRoot=="function")try{ce.onCommitFiberRoot(Z,a,void 0,(a.current.flags&128)===128)}catch{}if(c!==null){a=K.T,p=V.p,V.p=2,K.T=null;try{for(var b=i.onRecoverableError,w=0;w<c.length;w++){var A=c[w];b(A.value,{componentStack:A.stack})}}finally{K.T=a,V.p=p}}(Ta&3)!==0&&kl(),Jn(i),p=i.pendingLanes,(s&4194090)!==0&&(p&42)!==0?i===bf?Po++:(Po=0,bf=i):Po=0,Lo(0)}}function gy(i,a){(i.pooledCacheLanes&=a)===0&&(a=i.pooledCache,a!=null&&(i.pooledCache=null,mo(a)))}function kl(i){return hy(),my(),py(),yy()}function yy(){if(It!==5)return!1;var i=Fi,a=xf;xf=0;var s=ot(Ta),c=K.T,p=V.p;try{V.p=32>s?32:s,K.T=null,s=vf,vf=null;var b=Fi,w=Ta;if(It=0,ba=Fi=null,Ta=0,(Xe&6)!==0)throw Error(r(331));var A=Xe;if(Xe|=4,ey(b.current),Jg(b,b.current,w,s),Xe=A,Lo(0,!1),ce&&typeof ce.onPostCommitFiberRoot=="function")try{ce.onPostCommitFiberRoot(Z,b)}catch{}return!0}finally{V.p=p,K.T=c,gy(i,a)}}function xy(i,a,s){a=Cn(s,a),a=Jc(i.stateNode,a,2),i=_i(i,a,2),i!==null&&(J(i,2),Jn(i))}function et(i,a,s){if(i.tag===3)xy(i,i,s);else for(;a!==null;){if(a.tag===3){xy(a,i,s);break}else if(a.tag===1){var c=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(zi===null||!zi.has(c))){i=Cn(s,i),s=Sg(2),c=_i(a,s,2),c!==null&&(Cg(s,c,a,i),J(c,2),Jn(c));break}}a=a.return}}function wf(i,a,s){var c=i.pingCache;if(c===null){c=i.pingCache=new aw;var p=new Set;c.set(a,p)}else p=c.get(a),p===void 0&&(p=new Set,c.set(a,p));p.has(s)||(mf=!0,p.add(s),i=cw.bind(null,i,a,s),a.then(i,i))}function cw(i,a,s){var c=i.pingCache;c!==null&&c.delete(a),i.pingedLanes|=i.suspendedLanes&s,i.warmLanes&=~s,it===i&&(ze&s)===s&&(dt===4||dt===3&&(ze&62914560)===ze&&300>Vt()-yf?(Xe&2)===0&&Sa(i,0):pf|=s,va===ze&&(va=0)),Jn(i)}function vy(i,a){a===0&&(a=Xa()),i=ra(i,a),i!==null&&(J(i,a),Jn(i))}function fw(i){var a=i.memoizedState,s=0;a!==null&&(s=a.retryLane),vy(i,s)}function dw(i,a){var s=0;switch(i.tag){case 13:var c=i.stateNode,p=i.memoizedState;p!==null&&(s=p.retryLane);break;case 19:c=i.stateNode;break;case 22:c=i.stateNode._retryCache;break;default:throw Error(r(314))}c!==null&&c.delete(a),vy(i,s)}function hw(i,a){return nt(i,a)}var Dl=null,wa=null,Ef=!1,Nl=!1,Af=!1,Dr=0;function Jn(i){i!==wa&&i.next===null&&(wa===null?Dl=wa=i:wa=wa.next=i),Nl=!0,Ef||(Ef=!0,pw())}function Lo(i,a){if(!Af&&Nl){Af=!0;do for(var s=!1,c=Dl;c!==null;){if(i!==0){var p=c.pendingLanes;if(p===0)var b=0;else{var w=c.suspendedLanes,A=c.pingedLanes;b=(1<<31-Ce(42|i)+1)-1,b&=p&~(w&~A),b=b&201326741?b&201326741|1:b?b|2:0}b!==0&&(s=!0,Cy(c,b))}else b=ze,b=pt(c,c===it?b:0,c.cancelPendingCommit!==null||c.timeoutHandle!==-1),(b&3)===0||Jt(c,b)||(s=!0,Cy(c,b));c=c.next}while(s);Af=!1}}function mw(){by()}function by(){Nl=Ef=!1;var i=0;Dr!==0&&(Cw()&&(i=Dr),Dr=0);for(var a=Vt(),s=null,c=Dl;c!==null;){var p=c.next,b=Ty(c,a);b===0?(c.next=null,s===null?Dl=p:s.next=p,p===null&&(wa=s)):(s=c,(i!==0||(b&3)!==0)&&(Nl=!0)),c=p}Lo(i)}function Ty(i,a){for(var s=i.suspendedLanes,c=i.pingedLanes,p=i.expirationTimes,b=i.pendingLanes&-62914561;0<b;){var w=31-Ce(b),A=1<<w,I=p[w];I===-1?((A&s)===0||(A&c)!==0)&&(p[w]=un(A,a)):I<=a&&(i.expiredLanes|=A),b&=~A}if(a=it,s=ze,s=pt(i,i===a?s:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),c=i.callbackNode,s===0||i===a&&(Qe===2||Qe===9)||i.cancelPendingCommit!==null)return c!==null&&c!==null&&at(c),i.callbackNode=null,i.callbackPriority=0;if((s&3)===0||Jt(i,s)){if(a=s&-s,a===i.callbackPriority)return a;switch(c!==null&&at(c),ot(s)){case 2:case 8:s=ii;break;case 32:s=ri;break;case 268435456:s=Gr;break;default:s=ri}return c=Sy.bind(null,i),s=nt(s,c),i.callbackPriority=a,i.callbackNode=s,a}return c!==null&&c!==null&&at(c),i.callbackPriority=2,i.callbackNode=null,2}function Sy(i,a){if(It!==0&&It!==5)return i.callbackNode=null,i.callbackPriority=0,null;var s=i.callbackNode;if(kl()&&i.callbackNode!==s)return null;var c=ze;return c=pt(i,i===it?c:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),c===0?null:(ry(i,c,a),Ty(i,Vt()),i.callbackNode!=null&&i.callbackNode===s?Sy.bind(null,i):null)}function Cy(i,a){if(kl())return null;ry(i,a,!0)}function pw(){Ew(function(){(Xe&6)!==0?nt(wt,mw):by()})}function Mf(){return Dr===0&&(Dr=cn()),Dr}function wy(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:zs(""+i)}function Ey(i,a){var s=a.ownerDocument.createElement("input");return s.name=a.name,s.value=a.value,i.id&&s.setAttribute("form",i.id),a.parentNode.insertBefore(s,a),i=new FormData(i),s.parentNode.removeChild(s),i}function gw(i,a,s,c,p){if(a==="submit"&&s&&s.stateNode===p){var b=wy((p[Ut]||null).action),w=c.submitter;w&&(a=(a=w[Ut]||null)?wy(a.formAction):w.getAttribute("formAction"),a!==null&&(b=a,w=null));var A=new Gs("action","action",null,c,p);i.push({event:A,listeners:[{instance:null,listener:function(){if(c.defaultPrevented){if(Dr!==0){var I=w?Ey(p,w):new FormData(p);Yc(s,{pending:!0,data:I,method:p.method,action:b},null,I)}}else typeof b=="function"&&(A.preventDefault(),I=w?Ey(p,w):new FormData(p),Yc(s,{pending:!0,data:I,method:p.method,action:b},b,I))},currentTarget:p}]})}}for(var kf=0;kf<fc.length;kf++){var Df=fc[kf],yw=Df.toLowerCase(),xw=Df[0].toUpperCase()+Df.slice(1);jn(yw,"on"+xw)}jn(rp,"onAnimationEnd"),jn(ap,"onAnimationIteration"),jn(op,"onAnimationStart"),jn("dblclick","onDoubleClick"),jn("focusin","onFocus"),jn("focusout","onBlur"),jn(LC,"onTransitionRun"),jn(VC,"onTransitionStart"),jn(BC,"onTransitionCancel"),jn(sp,"onTransitionEnd"),Mi("onMouseEnter",["mouseout","mouseover"]),Mi("onMouseLeave",["mouseout","mouseover"]),Mi("onPointerEnter",["pointerout","pointerover"]),Mi("onPointerLeave",["pointerout","pointerover"]),On("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),On("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),On("onBeforeInput",["compositionend","keypress","textInput","paste"]),On("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),On("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),On("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Vo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),vw=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Vo));function Ay(i,a){a=(a&4)!==0;for(var s=0;s<i.length;s++){var c=i[s],p=c.event;c=c.listeners;e:{var b=void 0;if(a)for(var w=c.length-1;0<=w;w--){var A=c[w],I=A.instance,$=A.currentTarget;if(A=A.listener,I!==b&&p.isPropagationStopped())break e;b=A,p.currentTarget=$;try{b(p)}catch(W){yl(W)}p.currentTarget=null,b=I}else for(w=0;w<c.length;w++){if(A=c[w],I=A.instance,$=A.currentTarget,A=A.listener,I!==b&&p.isPropagationStopped())break e;b=A,p.currentTarget=$;try{b(p)}catch(W){yl(W)}p.currentTarget=null,b=I}}}}function Ve(i,a){var s=a[Qa];s===void 0&&(s=a[Qa]=new Set);var c=i+"__bubble";s.has(c)||(My(a,i,2,!1),s.add(c))}function Nf(i,a,s){var c=0;a&&(c|=4),My(s,i,c,a)}var Rl="_reactListening"+Math.random().toString(36).slice(2);function Rf(i){if(!i[Rl]){i[Rl]=!0,Zt.forEach(function(s){s!=="selectionchange"&&(vw.has(s)||Nf(s,!1,i),Nf(s,!0,i))});var a=i.nodeType===9?i:i.ownerDocument;a===null||a[Rl]||(a[Rl]=!0,Nf("selectionchange",!1,a))}}function My(i,a,s,c){switch(Jy(a)){case 2:var p=Yw;break;case 8:p=$w;break;default:p=Gf}s=p.bind(null,a,s,i),p=void 0,!Zu||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(p=!0),c?p!==void 0?i.addEventListener(a,s,{capture:!0,passive:p}):i.addEventListener(a,s,!0):p!==void 0?i.addEventListener(a,s,{passive:p}):i.addEventListener(a,s,!1)}function _f(i,a,s,c,p){var b=c;if((a&1)===0&&(a&2)===0&&c!==null)e:for(;;){if(c===null)return;var w=c.tag;if(w===3||w===4){var A=c.stateNode.containerInfo;if(A===p)break;if(w===4)for(w=c.return;w!==null;){var I=w.tag;if((I===3||I===4)&&w.stateNode.containerInfo===p)return;w=w.return}for(;A!==null;){if(w=Ai(A),w===null)return;if(I=w.tag,I===5||I===6||I===26||I===27){c=b=w;continue e}A=A.parentNode}}c=c.return}Pm(function(){var $=b,W=Qu(s),ie=[];e:{var X=lp.get(i);if(X!==void 0){var Q=Gs,Me=i;switch(i){case"keypress":if(Hs(s)===0)break e;case"keydown":case"keyup":Q=hC;break;case"focusin":Me="focus",Q=nc;break;case"focusout":Me="blur",Q=nc;break;case"beforeblur":case"afterblur":Q=nc;break;case"click":if(s.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Q=Bm;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Q=tC;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Q=gC;break;case rp:case ap:case op:Q=rC;break;case sp:Q=xC;break;case"scroll":case"scrollend":Q=WS;break;case"wheel":Q=bC;break;case"copy":case"cut":case"paste":Q=oC;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Q=jm;break;case"toggle":case"beforetoggle":Q=SC}var we=(a&4)!==0,We=!we&&(i==="scroll"||i==="scrollend"),q=we?X!==null?X+"Capture":null:X;we=[];for(var U=$,Y;U!==null;){var ne=U;if(Y=ne.stateNode,ne=ne.tag,ne!==5&&ne!==26&&ne!==27||Y===null||q===null||(ne=eo(U,q),ne!=null&&we.push(Bo(U,ne,Y))),We)break;U=U.return}0<we.length&&(X=new Q(X,Me,null,s,W),ie.push({event:X,listeners:we}))}}if((a&7)===0){e:{if(X=i==="mouseover"||i==="pointerover",Q=i==="mouseout"||i==="pointerout",X&&s!==Xu&&(Me=s.relatedTarget||s.fromElement)&&(Ai(Me)||Me[Ei]))break e;if((Q||X)&&(X=W.window===W?W:(X=W.ownerDocument)?X.defaultView||X.parentWindow:window,Q?(Me=s.relatedTarget||s.toElement,Q=$,Me=Me?Ai(Me):null,Me!==null&&(We=l(Me),we=Me.tag,Me!==We||we!==5&&we!==27&&we!==6)&&(Me=null)):(Q=null,Me=$),Q!==Me)){if(we=Bm,ne="onMouseLeave",q="onMouseEnter",U="mouse",(i==="pointerout"||i==="pointerover")&&(we=jm,ne="onPointerLeave",q="onPointerEnter",U="pointer"),We=Q==null?X:fr(Q),Y=Me==null?X:fr(Me),X=new we(ne,U+"leave",Q,s,W),X.target=We,X.relatedTarget=Y,ne=null,Ai(W)===$&&(we=new we(q,U+"enter",Me,s,W),we.target=Y,we.relatedTarget=We,ne=we),We=ne,Q&&Me)t:{for(we=Q,q=Me,U=0,Y=we;Y;Y=Ea(Y))U++;for(Y=0,ne=q;ne;ne=Ea(ne))Y++;for(;0<U-Y;)we=Ea(we),U--;for(;0<Y-U;)q=Ea(q),Y--;for(;U--;){if(we===q||q!==null&&we===q.alternate)break t;we=Ea(we),q=Ea(q)}we=null}else we=null;Q!==null&&ky(ie,X,Q,we,!1),Me!==null&&We!==null&&ky(ie,We,Me,we,!0)}}e:{if(X=$?fr($):window,Q=X.nodeName&&X.nodeName.toLowerCase(),Q==="select"||Q==="input"&&X.type==="file")var xe=$m;else if(Gm(X))if(Km)xe=_C;else{xe=NC;var Pe=DC}else Q=X.nodeName,!Q||Q.toLowerCase()!=="input"||X.type!=="checkbox"&&X.type!=="radio"?$&&Ku($.elementType)&&(xe=$m):xe=RC;if(xe&&(xe=xe(i,$))){Ym(ie,xe,s,W);break e}Pe&&Pe(i,X,$),i==="focusout"&&$&&X.type==="number"&&$.memoizedProps.value!=null&&$u(X,"number",X.value)}switch(Pe=$?fr($):window,i){case"focusin":(Gm(Pe)||Pe.contentEditable==="true")&&(ta=Pe,lc=$,lo=null);break;case"focusout":lo=lc=ta=null;break;case"mousedown":uc=!0;break;case"contextmenu":case"mouseup":case"dragend":uc=!1,np(ie,s,W);break;case"selectionchange":if(PC)break;case"keydown":case"keyup":np(ie,s,W)}var be;if(rc)e:{switch(i){case"compositionstart":var Ae="onCompositionStart";break e;case"compositionend":Ae="onCompositionEnd";break e;case"compositionupdate":Ae="onCompositionUpdate";break e}Ae=void 0}else ea?Hm(i,s)&&(Ae="onCompositionEnd"):i==="keydown"&&s.keyCode===229&&(Ae="onCompositionStart");Ae&&(Um&&s.locale!=="ko"&&(ea||Ae!=="onCompositionStart"?Ae==="onCompositionEnd"&&ea&&(be=Lm()):(ki=W,Wu="value"in ki?ki.value:ki.textContent,ea=!0)),Pe=_l($,Ae),0<Pe.length&&(Ae=new Om(Ae,i,null,s,W),ie.push({event:Ae,listeners:Pe}),be?Ae.data=be:(be=qm(s),be!==null&&(Ae.data=be)))),(be=wC?EC(i,s):AC(i,s))&&(Ae=_l($,"onBeforeInput"),0<Ae.length&&(Pe=new Om("onBeforeInput","beforeinput",null,s,W),ie.push({event:Pe,listeners:Ae}),Pe.data=be)),gw(ie,i,$,s,W)}Ay(ie,a)})}function Bo(i,a,s){return{instance:i,listener:a,currentTarget:s}}function _l(i,a){for(var s=a+"Capture",c=[];i!==null;){var p=i,b=p.stateNode;if(p=p.tag,p!==5&&p!==26&&p!==27||b===null||(p=eo(i,s),p!=null&&c.unshift(Bo(i,p,b)),p=eo(i,a),p!=null&&c.push(Bo(i,p,b))),i.tag===3)return c;i=i.return}return[]}function Ea(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function ky(i,a,s,c,p){for(var b=a._reactName,w=[];s!==null&&s!==c;){var A=s,I=A.alternate,$=A.stateNode;if(A=A.tag,I!==null&&I===c)break;A!==5&&A!==26&&A!==27||$===null||(I=$,p?($=eo(s,b),$!=null&&w.unshift(Bo(s,$,I))):p||($=eo(s,b),$!=null&&w.push(Bo(s,$,I)))),s=s.return}w.length!==0&&i.push({event:a,listeners:w})}var bw=/\r\n?/g,Tw=/\u0000|\uFFFD/g;function Dy(i){return(typeof i=="string"?i:""+i).replace(bw,`
`).replace(Tw,"")}function Ny(i,a){return a=Dy(a),Dy(i)===a}function Il(){}function Ze(i,a,s,c,p,b){switch(s){case"children":typeof c=="string"?a==="body"||a==="textarea"&&c===""||Jr(i,c):(typeof c=="number"||typeof c=="bigint")&&a!=="body"&&Jr(i,""+c);break;case"className":Os(i,"class",c);break;case"tabIndex":Os(i,"tabindex",c);break;case"dir":case"role":case"viewBox":case"width":case"height":Os(i,s,c);break;case"style":_m(i,c,b);break;case"data":if(a!=="object"){Os(i,"data",c);break}case"src":case"href":if(c===""&&(a!=="a"||s!=="href")){i.removeAttribute(s);break}if(c==null||typeof c=="function"||typeof c=="symbol"||typeof c=="boolean"){i.removeAttribute(s);break}c=zs(""+c),i.setAttribute(s,c);break;case"action":case"formAction":if(typeof c=="function"){i.setAttribute(s,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof b=="function"&&(s==="formAction"?(a!=="input"&&Ze(i,a,"name",p.name,p,null),Ze(i,a,"formEncType",p.formEncType,p,null),Ze(i,a,"formMethod",p.formMethod,p,null),Ze(i,a,"formTarget",p.formTarget,p,null)):(Ze(i,a,"encType",p.encType,p,null),Ze(i,a,"method",p.method,p,null),Ze(i,a,"target",p.target,p,null)));if(c==null||typeof c=="symbol"||typeof c=="boolean"){i.removeAttribute(s);break}c=zs(""+c),i.setAttribute(s,c);break;case"onClick":c!=null&&(i.onclick=Il);break;case"onScroll":c!=null&&Ve("scroll",i);break;case"onScrollEnd":c!=null&&Ve("scrollend",i);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(r(61));if(s=c.__html,s!=null){if(p.children!=null)throw Error(r(60));i.innerHTML=s}}break;case"multiple":i.multiple=c&&typeof c!="function"&&typeof c!="symbol";break;case"muted":i.muted=c&&typeof c!="function"&&typeof c!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(c==null||typeof c=="function"||typeof c=="boolean"||typeof c=="symbol"){i.removeAttribute("xlink:href");break}s=zs(""+c),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":c!=null&&typeof c!="function"&&typeof c!="symbol"?i.setAttribute(s,""+c):i.removeAttribute(s);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":c&&typeof c!="function"&&typeof c!="symbol"?i.setAttribute(s,""):i.removeAttribute(s);break;case"capture":case"download":c===!0?i.setAttribute(s,""):c!==!1&&c!=null&&typeof c!="function"&&typeof c!="symbol"?i.setAttribute(s,c):i.removeAttribute(s);break;case"cols":case"rows":case"size":case"span":c!=null&&typeof c!="function"&&typeof c!="symbol"&&!isNaN(c)&&1<=c?i.setAttribute(s,c):i.removeAttribute(s);break;case"rowSpan":case"start":c==null||typeof c=="function"||typeof c=="symbol"||isNaN(c)?i.removeAttribute(s):i.setAttribute(s,c);break;case"popover":Ve("beforetoggle",i),Ve("toggle",i),Bs(i,"popover",c);break;case"xlinkActuate":si(i,"http://www.w3.org/1999/xlink","xlink:actuate",c);break;case"xlinkArcrole":si(i,"http://www.w3.org/1999/xlink","xlink:arcrole",c);break;case"xlinkRole":si(i,"http://www.w3.org/1999/xlink","xlink:role",c);break;case"xlinkShow":si(i,"http://www.w3.org/1999/xlink","xlink:show",c);break;case"xlinkTitle":si(i,"http://www.w3.org/1999/xlink","xlink:title",c);break;case"xlinkType":si(i,"http://www.w3.org/1999/xlink","xlink:type",c);break;case"xmlBase":si(i,"http://www.w3.org/XML/1998/namespace","xml:base",c);break;case"xmlLang":si(i,"http://www.w3.org/XML/1998/namespace","xml:lang",c);break;case"xmlSpace":si(i,"http://www.w3.org/XML/1998/namespace","xml:space",c);break;case"is":Bs(i,"is",c);break;case"innerText":case"textContent":break;default:(!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(s=JS.get(s)||s,Bs(i,s,c))}}function If(i,a,s,c,p,b){switch(s){case"style":_m(i,c,b);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(r(61));if(s=c.__html,s!=null){if(p.children!=null)throw Error(r(60));i.innerHTML=s}}break;case"children":typeof c=="string"?Jr(i,c):(typeof c=="number"||typeof c=="bigint")&&Jr(i,""+c);break;case"onScroll":c!=null&&Ve("scroll",i);break;case"onScrollEnd":c!=null&&Ve("scrollend",i);break;case"onClick":c!=null&&(i.onclick=Il);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!oi.hasOwnProperty(s))e:{if(s[0]==="o"&&s[1]==="n"&&(p=s.endsWith("Capture"),a=s.slice(2,p?s.length-7:void 0),b=i[Ut]||null,b=b!=null?b[s]:null,typeof b=="function"&&i.removeEventListener(a,b,p),typeof c=="function")){typeof b!="function"&&b!==null&&(s in i?i[s]=null:i.hasAttribute(s)&&i.removeAttribute(s)),i.addEventListener(a,c,p);break e}s in i?i[s]=c:c===!0?i.setAttribute(s,""):Bs(i,s,c)}}}function Pt(i,a,s){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ve("error",i),Ve("load",i);var c=!1,p=!1,b;for(b in s)if(s.hasOwnProperty(b)){var w=s[b];if(w!=null)switch(b){case"src":c=!0;break;case"srcSet":p=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,a));default:Ze(i,a,b,w,s,null)}}p&&Ze(i,a,"srcSet",s.srcSet,s,null),c&&Ze(i,a,"src",s.src,s,null);return;case"input":Ve("invalid",i);var A=b=w=p=null,I=null,$=null;for(c in s)if(s.hasOwnProperty(c)){var W=s[c];if(W!=null)switch(c){case"name":p=W;break;case"type":w=W;break;case"checked":I=W;break;case"defaultChecked":$=W;break;case"value":b=W;break;case"defaultValue":A=W;break;case"children":case"dangerouslySetInnerHTML":if(W!=null)throw Error(r(137,a));break;default:Ze(i,a,c,W,s,null)}}km(i,b,A,I,$,w,p,!1),js(i);return;case"select":Ve("invalid",i),c=w=b=null;for(p in s)if(s.hasOwnProperty(p)&&(A=s[p],A!=null))switch(p){case"value":b=A;break;case"defaultValue":w=A;break;case"multiple":c=A;default:Ze(i,a,p,A,s,null)}a=b,s=w,i.multiple=!!c,a!=null?Qr(i,!!c,a,!1):s!=null&&Qr(i,!!c,s,!0);return;case"textarea":Ve("invalid",i),b=p=c=null;for(w in s)if(s.hasOwnProperty(w)&&(A=s[w],A!=null))switch(w){case"value":c=A;break;case"defaultValue":p=A;break;case"children":b=A;break;case"dangerouslySetInnerHTML":if(A!=null)throw Error(r(91));break;default:Ze(i,a,w,A,s,null)}Nm(i,c,p,b),js(i);return;case"option":for(I in s)if(s.hasOwnProperty(I)&&(c=s[I],c!=null))switch(I){case"selected":i.selected=c&&typeof c!="function"&&typeof c!="symbol";break;default:Ze(i,a,I,c,s,null)}return;case"dialog":Ve("beforetoggle",i),Ve("toggle",i),Ve("cancel",i),Ve("close",i);break;case"iframe":case"object":Ve("load",i);break;case"video":case"audio":for(c=0;c<Vo.length;c++)Ve(Vo[c],i);break;case"image":Ve("error",i),Ve("load",i);break;case"details":Ve("toggle",i);break;case"embed":case"source":case"link":Ve("error",i),Ve("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for($ in s)if(s.hasOwnProperty($)&&(c=s[$],c!=null))switch($){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,a));default:Ze(i,a,$,c,s,null)}return;default:if(Ku(a)){for(W in s)s.hasOwnProperty(W)&&(c=s[W],c!==void 0&&If(i,a,W,c,s,void 0));return}}for(A in s)s.hasOwnProperty(A)&&(c=s[A],c!=null&&Ze(i,a,A,c,s,null))}function Sw(i,a,s,c){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var p=null,b=null,w=null,A=null,I=null,$=null,W=null;for(Q in s){var ie=s[Q];if(s.hasOwnProperty(Q)&&ie!=null)switch(Q){case"checked":break;case"value":break;case"defaultValue":I=ie;default:c.hasOwnProperty(Q)||Ze(i,a,Q,null,c,ie)}}for(var X in c){var Q=c[X];if(ie=s[X],c.hasOwnProperty(X)&&(Q!=null||ie!=null))switch(X){case"type":b=Q;break;case"name":p=Q;break;case"checked":$=Q;break;case"defaultChecked":W=Q;break;case"value":w=Q;break;case"defaultValue":A=Q;break;case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(r(137,a));break;default:Q!==ie&&Ze(i,a,X,Q,c,ie)}}Yu(i,w,A,I,$,W,b,p);return;case"select":Q=w=A=X=null;for(b in s)if(I=s[b],s.hasOwnProperty(b)&&I!=null)switch(b){case"value":break;case"multiple":Q=I;default:c.hasOwnProperty(b)||Ze(i,a,b,null,c,I)}for(p in c)if(b=c[p],I=s[p],c.hasOwnProperty(p)&&(b!=null||I!=null))switch(p){case"value":X=b;break;case"defaultValue":A=b;break;case"multiple":w=b;default:b!==I&&Ze(i,a,p,b,c,I)}a=A,s=w,c=Q,X!=null?Qr(i,!!s,X,!1):!!c!=!!s&&(a!=null?Qr(i,!!s,a,!0):Qr(i,!!s,s?[]:"",!1));return;case"textarea":Q=X=null;for(A in s)if(p=s[A],s.hasOwnProperty(A)&&p!=null&&!c.hasOwnProperty(A))switch(A){case"value":break;case"children":break;default:Ze(i,a,A,null,c,p)}for(w in c)if(p=c[w],b=s[w],c.hasOwnProperty(w)&&(p!=null||b!=null))switch(w){case"value":X=p;break;case"defaultValue":Q=p;break;case"children":break;case"dangerouslySetInnerHTML":if(p!=null)throw Error(r(91));break;default:p!==b&&Ze(i,a,w,p,c,b)}Dm(i,X,Q);return;case"option":for(var Me in s)if(X=s[Me],s.hasOwnProperty(Me)&&X!=null&&!c.hasOwnProperty(Me))switch(Me){case"selected":i.selected=!1;break;default:Ze(i,a,Me,null,c,X)}for(I in c)if(X=c[I],Q=s[I],c.hasOwnProperty(I)&&X!==Q&&(X!=null||Q!=null))switch(I){case"selected":i.selected=X&&typeof X!="function"&&typeof X!="symbol";break;default:Ze(i,a,I,X,c,Q)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var we in s)X=s[we],s.hasOwnProperty(we)&&X!=null&&!c.hasOwnProperty(we)&&Ze(i,a,we,null,c,X);for($ in c)if(X=c[$],Q=s[$],c.hasOwnProperty($)&&X!==Q&&(X!=null||Q!=null))switch($){case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(r(137,a));break;default:Ze(i,a,$,X,c,Q)}return;default:if(Ku(a)){for(var We in s)X=s[We],s.hasOwnProperty(We)&&X!==void 0&&!c.hasOwnProperty(We)&&If(i,a,We,void 0,c,X);for(W in c)X=c[W],Q=s[W],!c.hasOwnProperty(W)||X===Q||X===void 0&&Q===void 0||If(i,a,W,X,c,Q);return}}for(var q in s)X=s[q],s.hasOwnProperty(q)&&X!=null&&!c.hasOwnProperty(q)&&Ze(i,a,q,null,c,X);for(ie in c)X=c[ie],Q=s[ie],!c.hasOwnProperty(ie)||X===Q||X==null&&Q==null||Ze(i,a,ie,X,c,Q)}var Pf=null,Lf=null;function Pl(i){return i.nodeType===9?i:i.ownerDocument}function Ry(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function _y(i,a){if(i===0)switch(a){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&a==="foreignObject"?0:i}function Vf(i,a){return i==="textarea"||i==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.children=="bigint"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var Bf=null;function Cw(){var i=window.event;return i&&i.type==="popstate"?i===Bf?!1:(Bf=i,!0):(Bf=null,!1)}var Iy=typeof setTimeout=="function"?setTimeout:void 0,ww=typeof clearTimeout=="function"?clearTimeout:void 0,Py=typeof Promise=="function"?Promise:void 0,Ew=typeof queueMicrotask=="function"?queueMicrotask:typeof Py<"u"?function(i){return Py.resolve(null).then(i).catch(Aw)}:Iy;function Aw(i){setTimeout(function(){throw i})}function qi(i){return i==="head"}function Ly(i,a){var s=a,c=0,p=0;do{var b=s.nextSibling;if(i.removeChild(s),b&&b.nodeType===8)if(s=b.data,s==="/$"){if(0<c&&8>c){s=c;var w=i.ownerDocument;if(s&1&&Oo(w.documentElement),s&2&&Oo(w.body),s&4)for(s=w.head,Oo(s),w=s.firstChild;w;){var A=w.nextSibling,I=w.nodeName;w[cr]||I==="SCRIPT"||I==="STYLE"||I==="LINK"&&w.rel.toLowerCase()==="stylesheet"||s.removeChild(w),w=A}}if(p===0){i.removeChild(b),Yo(a);return}p--}else s==="$"||s==="$?"||s==="$!"?p++:c=s.charCodeAt(0)-48;else c=0;s=b}while(s);Yo(a)}function Of(i){var a=i.firstChild;for(a&&a.nodeType===10&&(a=a.nextSibling);a;){var s=a;switch(a=a.nextSibling,s.nodeName){case"HTML":case"HEAD":case"BODY":Of(s),Ja(s);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(s.rel.toLowerCase()==="stylesheet")continue}i.removeChild(s)}}function Mw(i,a,s,c){for(;i.nodeType===1;){var p=s;if(i.nodeName.toLowerCase()!==a.toLowerCase()){if(!c&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(c){if(!i[cr])switch(a){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(b=i.getAttribute("rel"),b==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(b!==p.rel||i.getAttribute("href")!==(p.href==null||p.href===""?null:p.href)||i.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin)||i.getAttribute("title")!==(p.title==null?null:p.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(b=i.getAttribute("src"),(b!==(p.src==null?null:p.src)||i.getAttribute("type")!==(p.type==null?null:p.type)||i.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin))&&b&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(a==="input"&&i.type==="hidden"){var b=p.name==null?null:""+p.name;if(p.type==="hidden"&&i.getAttribute("name")===b)return i}else return i;if(i=zn(i.nextSibling),i===null)break}return null}function kw(i,a,s){if(a==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!s||(i=zn(i.nextSibling),i===null))return null;return i}function jf(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState==="complete"}function Dw(i,a){var s=i.ownerDocument;if(i.data!=="$?"||s.readyState==="complete")a();else{var c=function(){a(),s.removeEventListener("DOMContentLoaded",c)};s.addEventListener("DOMContentLoaded",c),i._reactRetry=c}}function zn(i){for(;i!=null;i=i.nextSibling){var a=i.nodeType;if(a===1||a===3)break;if(a===8){if(a=i.data,a==="$"||a==="$!"||a==="$?"||a==="F!"||a==="F")break;if(a==="/$")return null}}return i}var Uf=null;function Vy(i){i=i.previousSibling;for(var a=0;i;){if(i.nodeType===8){var s=i.data;if(s==="$"||s==="$!"||s==="$?"){if(a===0)return i;a--}else s==="/$"&&a++}i=i.previousSibling}return null}function By(i,a,s){switch(a=Pl(s),i){case"html":if(i=a.documentElement,!i)throw Error(r(452));return i;case"head":if(i=a.head,!i)throw Error(r(453));return i;case"body":if(i=a.body,!i)throw Error(r(454));return i;default:throw Error(r(451))}}function Oo(i){for(var a=i.attributes;a.length;)i.removeAttributeNode(a[0]);Ja(i)}var Dn=new Map,Oy=new Set;function Ll(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var Ti=V.d;V.d={f:Nw,r:Rw,D:_w,C:Iw,L:Pw,m:Lw,X:Bw,S:Vw,M:Ow};function Nw(){var i=Ti.f(),a=Al();return i||a}function Rw(i){var a=ai(i);a!==null&&a.tag===5&&a.type==="form"?rg(a):Ti.r(i)}var Aa=typeof document>"u"?null:document;function jy(i,a,s){var c=Aa;if(c&&typeof a=="string"&&a){var p=Sn(a);p='link[rel="'+i+'"][href="'+p+'"]',typeof s=="string"&&(p+='[crossorigin="'+s+'"]'),Oy.has(p)||(Oy.add(p),i={rel:i,crossOrigin:s,href:a},c.querySelector(p)===null&&(a=c.createElement("link"),Pt(a,"link",i),vt(a),c.head.appendChild(a)))}}function _w(i){Ti.D(i),jy("dns-prefetch",i,null)}function Iw(i,a){Ti.C(i,a),jy("preconnect",i,a)}function Pw(i,a,s){Ti.L(i,a,s);var c=Aa;if(c&&i&&a){var p='link[rel="preload"][as="'+Sn(a)+'"]';a==="image"&&s&&s.imageSrcSet?(p+='[imagesrcset="'+Sn(s.imageSrcSet)+'"]',typeof s.imageSizes=="string"&&(p+='[imagesizes="'+Sn(s.imageSizes)+'"]')):p+='[href="'+Sn(i)+'"]';var b=p;switch(a){case"style":b=Ma(i);break;case"script":b=ka(i)}Dn.has(b)||(i=m({rel:"preload",href:a==="image"&&s&&s.imageSrcSet?void 0:i,as:a},s),Dn.set(b,i),c.querySelector(p)!==null||a==="style"&&c.querySelector(jo(b))||a==="script"&&c.querySelector(Uo(b))||(a=c.createElement("link"),Pt(a,"link",i),vt(a),c.head.appendChild(a)))}}function Lw(i,a){Ti.m(i,a);var s=Aa;if(s&&i){var c=a&&typeof a.as=="string"?a.as:"script",p='link[rel="modulepreload"][as="'+Sn(c)+'"][href="'+Sn(i)+'"]',b=p;switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":b=ka(i)}if(!Dn.has(b)&&(i=m({rel:"modulepreload",href:i},a),Dn.set(b,i),s.querySelector(p)===null)){switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(s.querySelector(Uo(b)))return}c=s.createElement("link"),Pt(c,"link",i),vt(c),s.head.appendChild(c)}}}function Vw(i,a,s){Ti.S(i,a,s);var c=Aa;if(c&&i){var p=dr(c).hoistableStyles,b=Ma(i);a=a||"default";var w=p.get(b);if(!w){var A={loading:0,preload:null};if(w=c.querySelector(jo(b)))A.loading=5;else{i=m({rel:"stylesheet",href:i,"data-precedence":a},s),(s=Dn.get(b))&&zf(i,s);var I=w=c.createElement("link");vt(I),Pt(I,"link",i),I._p=new Promise(function($,W){I.onload=$,I.onerror=W}),I.addEventListener("load",function(){A.loading|=1}),I.addEventListener("error",function(){A.loading|=2}),A.loading|=4,Vl(w,a,c)}w={type:"stylesheet",instance:w,count:1,state:A},p.set(b,w)}}}function Bw(i,a){Ti.X(i,a);var s=Aa;if(s&&i){var c=dr(s).hoistableScripts,p=ka(i),b=c.get(p);b||(b=s.querySelector(Uo(p)),b||(i=m({src:i,async:!0},a),(a=Dn.get(p))&&Ff(i,a),b=s.createElement("script"),vt(b),Pt(b,"link",i),s.head.appendChild(b)),b={type:"script",instance:b,count:1,state:null},c.set(p,b))}}function Ow(i,a){Ti.M(i,a);var s=Aa;if(s&&i){var c=dr(s).hoistableScripts,p=ka(i),b=c.get(p);b||(b=s.querySelector(Uo(p)),b||(i=m({src:i,async:!0,type:"module"},a),(a=Dn.get(p))&&Ff(i,a),b=s.createElement("script"),vt(b),Pt(b,"link",i),s.head.appendChild(b)),b={type:"script",instance:b,count:1,state:null},c.set(p,b))}}function Uy(i,a,s,c){var p=(p=te.current)?Ll(p):null;if(!p)throw Error(r(446));switch(i){case"meta":case"title":return null;case"style":return typeof s.precedence=="string"&&typeof s.href=="string"?(a=Ma(s.href),s=dr(p).hoistableStyles,c=s.get(a),c||(c={type:"style",instance:null,count:0,state:null},s.set(a,c)),c):{type:"void",instance:null,count:0,state:null};case"link":if(s.rel==="stylesheet"&&typeof s.href=="string"&&typeof s.precedence=="string"){i=Ma(s.href);var b=dr(p).hoistableStyles,w=b.get(i);if(w||(p=p.ownerDocument||p,w={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},b.set(i,w),(b=p.querySelector(jo(i)))&&!b._p&&(w.instance=b,w.state.loading=5),Dn.has(i)||(s={rel:"preload",as:"style",href:s.href,crossOrigin:s.crossOrigin,integrity:s.integrity,media:s.media,hrefLang:s.hrefLang,referrerPolicy:s.referrerPolicy},Dn.set(i,s),b||jw(p,i,s,w.state))),a&&c===null)throw Error(r(528,""));return w}if(a&&c!==null)throw Error(r(529,""));return null;case"script":return a=s.async,s=s.src,typeof s=="string"&&a&&typeof a!="function"&&typeof a!="symbol"?(a=ka(s),s=dr(p).hoistableScripts,c=s.get(a),c||(c={type:"script",instance:null,count:0,state:null},s.set(a,c)),c):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,i))}}function Ma(i){return'href="'+Sn(i)+'"'}function jo(i){return'link[rel="stylesheet"]['+i+"]"}function zy(i){return m({},i,{"data-precedence":i.precedence,precedence:null})}function jw(i,a,s,c){i.querySelector('link[rel="preload"][as="style"]['+a+"]")?c.loading=1:(a=i.createElement("link"),c.preload=a,a.addEventListener("load",function(){return c.loading|=1}),a.addEventListener("error",function(){return c.loading|=2}),Pt(a,"link",s),vt(a),i.head.appendChild(a))}function ka(i){return'[src="'+Sn(i)+'"]'}function Uo(i){return"script[async]"+i}function Fy(i,a,s){if(a.count++,a.instance===null)switch(a.type){case"style":var c=i.querySelector('style[data-href~="'+Sn(s.href)+'"]');if(c)return a.instance=c,vt(c),c;var p=m({},s,{"data-href":s.href,"data-precedence":s.precedence,href:null,precedence:null});return c=(i.ownerDocument||i).createElement("style"),vt(c),Pt(c,"style",p),Vl(c,s.precedence,i),a.instance=c;case"stylesheet":p=Ma(s.href);var b=i.querySelector(jo(p));if(b)return a.state.loading|=4,a.instance=b,vt(b),b;c=zy(s),(p=Dn.get(p))&&zf(c,p),b=(i.ownerDocument||i).createElement("link"),vt(b);var w=b;return w._p=new Promise(function(A,I){w.onload=A,w.onerror=I}),Pt(b,"link",c),a.state.loading|=4,Vl(b,s.precedence,i),a.instance=b;case"script":return b=ka(s.src),(p=i.querySelector(Uo(b)))?(a.instance=p,vt(p),p):(c=s,(p=Dn.get(b))&&(c=m({},s),Ff(c,p)),i=i.ownerDocument||i,p=i.createElement("script"),vt(p),Pt(p,"link",c),i.head.appendChild(p),a.instance=p);case"void":return null;default:throw Error(r(443,a.type))}else a.type==="stylesheet"&&(a.state.loading&4)===0&&(c=a.instance,a.state.loading|=4,Vl(c,s.precedence,i));return a.instance}function Vl(i,a,s){for(var c=s.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),p=c.length?c[c.length-1]:null,b=p,w=0;w<c.length;w++){var A=c[w];if(A.dataset.precedence===a)b=A;else if(b!==p)break}b?b.parentNode.insertBefore(i,b.nextSibling):(a=s.nodeType===9?s.head:s,a.insertBefore(i,a.firstChild))}function zf(i,a){i.crossOrigin==null&&(i.crossOrigin=a.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=a.referrerPolicy),i.title==null&&(i.title=a.title)}function Ff(i,a){i.crossOrigin==null&&(i.crossOrigin=a.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=a.referrerPolicy),i.integrity==null&&(i.integrity=a.integrity)}var Bl=null;function Hy(i,a,s){if(Bl===null){var c=new Map,p=Bl=new Map;p.set(s,c)}else p=Bl,c=p.get(s),c||(c=new Map,p.set(s,c));if(c.has(i))return c;for(c.set(i,null),s=s.getElementsByTagName(i),p=0;p<s.length;p++){var b=s[p];if(!(b[cr]||b[kt]||i==="link"&&b.getAttribute("rel")==="stylesheet")&&b.namespaceURI!=="http://www.w3.org/2000/svg"){var w=b.getAttribute(a)||"";w=i+w;var A=c.get(w);A?A.push(b):c.set(w,[b])}}return c}function qy(i,a,s){i=i.ownerDocument||i,i.head.insertBefore(s,a==="title"?i.querySelector("head > title"):null)}function Uw(i,a,s){if(s===1||a.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof a.precedence!="string"||typeof a.href!="string"||a.href==="")break;return!0;case"link":if(typeof a.rel!="string"||typeof a.href!="string"||a.href===""||a.onLoad||a.onError)break;switch(a.rel){case"stylesheet":return i=a.disabled,typeof a.precedence=="string"&&i==null;default:return!0}case"script":if(a.async&&typeof a.async!="function"&&typeof a.async!="symbol"&&!a.onLoad&&!a.onError&&a.src&&typeof a.src=="string")return!0}return!1}function Gy(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}var zo=null;function zw(){}function Fw(i,a,s){if(zo===null)throw Error(r(475));var c=zo;if(a.type==="stylesheet"&&(typeof s.media!="string"||matchMedia(s.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var p=Ma(s.href),b=i.querySelector(jo(p));if(b){i=b._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(c.count++,c=Ol.bind(c),i.then(c,c)),a.state.loading|=4,a.instance=b,vt(b);return}b=i.ownerDocument||i,s=zy(s),(p=Dn.get(p))&&zf(s,p),b=b.createElement("link"),vt(b);var w=b;w._p=new Promise(function(A,I){w.onload=A,w.onerror=I}),Pt(b,"link",s),a.instance=b}c.stylesheets===null&&(c.stylesheets=new Map),c.stylesheets.set(a,i),(i=a.state.preload)&&(a.state.loading&3)===0&&(c.count++,a=Ol.bind(c),i.addEventListener("load",a),i.addEventListener("error",a))}}function Hw(){if(zo===null)throw Error(r(475));var i=zo;return i.stylesheets&&i.count===0&&Hf(i,i.stylesheets),0<i.count?function(a){var s=setTimeout(function(){if(i.stylesheets&&Hf(i,i.stylesheets),i.unsuspend){var c=i.unsuspend;i.unsuspend=null,c()}},6e4);return i.unsuspend=a,function(){i.unsuspend=null,clearTimeout(s)}}:null}function Ol(){if(this.count--,this.count===0){if(this.stylesheets)Hf(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var jl=null;function Hf(i,a){i.stylesheets=null,i.unsuspend!==null&&(i.count++,jl=new Map,a.forEach(qw,i),jl=null,Ol.call(i))}function qw(i,a){if(!(a.state.loading&4)){var s=jl.get(i);if(s)var c=s.get(null);else{s=new Map,jl.set(i,s);for(var p=i.querySelectorAll("link[data-precedence],style[data-precedence]"),b=0;b<p.length;b++){var w=p[b];(w.nodeName==="LINK"||w.getAttribute("media")!=="not all")&&(s.set(w.dataset.precedence,w),c=w)}c&&s.set(null,c)}p=a.instance,w=p.getAttribute("data-precedence"),b=s.get(w)||c,b===c&&s.set(null,p),s.set(w,p),this.count++,c=Ol.bind(this),p.addEventListener("load",c),p.addEventListener("error",c),b?b.parentNode.insertBefore(p,b.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(p,i.firstChild)),a.state.loading|=4}}var Fo={$$typeof:P,Provider:null,Consumer:null,_currentValue:N,_currentValue2:N,_threadCount:0};function Gw(i,a,s,c,p,b,w,A){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=$r(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=$r(0),this.hiddenUpdates=$r(null),this.identifierPrefix=c,this.onUncaughtError=p,this.onCaughtError=b,this.onRecoverableError=w,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=A,this.incompleteTransitions=new Map}function Yy(i,a,s,c,p,b,w,A,I,$,W,ie){return i=new Gw(i,a,s,w,A,I,$,ie),a=1,b===!0&&(a|=24),b=dn(3,null,null,a),i.current=b,b.stateNode=i,a=Cc(),a.refCount++,i.pooledCache=a,a.refCount++,b.memoizedState={element:c,isDehydrated:s,cache:a},Mc(b),i}function $y(i){return i?(i=aa,i):aa}function Ky(i,a,s,c,p,b){p=$y(p),c.context===null?c.context=p:c.pendingContext=p,c=Ri(a),c.payload={element:s},b=b===void 0?null:b,b!==null&&(c.callback=b),s=_i(i,c,a),s!==null&&(yn(s,i,a),xo(s,i,a))}function Xy(i,a){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var s=i.retryLane;i.retryLane=s!==0&&s<a?s:a}}function qf(i,a){Xy(i,a),(i=i.alternate)&&Xy(i,a)}function Qy(i){if(i.tag===13){var a=ra(i,67108864);a!==null&&yn(a,i,67108864),qf(i,67108864)}}var Ul=!0;function Yw(i,a,s,c){var p=K.T;K.T=null;var b=V.p;try{V.p=2,Gf(i,a,s,c)}finally{V.p=b,K.T=p}}function $w(i,a,s,c){var p=K.T;K.T=null;var b=V.p;try{V.p=8,Gf(i,a,s,c)}finally{V.p=b,K.T=p}}function Gf(i,a,s,c){if(Ul){var p=Yf(c);if(p===null)_f(i,a,c,zl,s),Zy(i,c);else if(Xw(p,i,a,s,c))c.stopPropagation();else if(Zy(i,c),a&4&&-1<Kw.indexOf(i)){for(;p!==null;){var b=ai(p);if(b!==null)switch(b.tag){case 3:if(b=b.stateNode,b.current.memoizedState.isDehydrated){var w=$t(b.pendingLanes);if(w!==0){var A=b;for(A.pendingLanes|=2,A.entangledLanes|=2;w;){var I=1<<31-Ce(w);A.entanglements[1]|=I,w&=~I}Jn(b),(Xe&6)===0&&(wl=Vt()+500,Lo(0))}}break;case 13:A=ra(b,2),A!==null&&yn(A,b,2),Al(),qf(b,2)}if(b=Yf(c),b===null&&_f(i,a,c,zl,s),b===p)break;p=b}p!==null&&c.stopPropagation()}else _f(i,a,c,null,s)}}function Yf(i){return i=Qu(i),$f(i)}var zl=null;function $f(i){if(zl=null,i=Ai(i),i!==null){var a=l(i);if(a===null)i=null;else{var s=a.tag;if(s===13){if(i=u(a),i!==null)return i;i=null}else if(s===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;i=null}else a!==i&&(i=null)}}return zl=i,null}function Jy(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Hr()){case wt:return 2;case ii:return 8;case ri:case qr:return 32;case Gr:return 268435456;default:return 32}default:return 32}}var Kf=!1,Gi=null,Yi=null,$i=null,Ho=new Map,qo=new Map,Ki=[],Kw="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Zy(i,a){switch(i){case"focusin":case"focusout":Gi=null;break;case"dragenter":case"dragleave":Yi=null;break;case"mouseover":case"mouseout":$i=null;break;case"pointerover":case"pointerout":Ho.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":qo.delete(a.pointerId)}}function Go(i,a,s,c,p,b){return i===null||i.nativeEvent!==b?(i={blockedOn:a,domEventName:s,eventSystemFlags:c,nativeEvent:b,targetContainers:[p]},a!==null&&(a=ai(a),a!==null&&Qy(a)),i):(i.eventSystemFlags|=c,a=i.targetContainers,p!==null&&a.indexOf(p)===-1&&a.push(p),i)}function Xw(i,a,s,c,p){switch(a){case"focusin":return Gi=Go(Gi,i,a,s,c,p),!0;case"dragenter":return Yi=Go(Yi,i,a,s,c,p),!0;case"mouseover":return $i=Go($i,i,a,s,c,p),!0;case"pointerover":var b=p.pointerId;return Ho.set(b,Go(Ho.get(b)||null,i,a,s,c,p)),!0;case"gotpointercapture":return b=p.pointerId,qo.set(b,Go(qo.get(b)||null,i,a,s,c,p)),!0}return!1}function Wy(i){var a=Ai(i.target);if(a!==null){var s=l(a);if(s!==null){if(a=s.tag,a===13){if(a=u(s),a!==null){i.blockedOn=a,Fu(i.priority,function(){if(s.tag===13){var c=gn();c=jt(c);var p=ra(s,c);p!==null&&yn(p,s,c),qf(s,c)}});return}}else if(a===3&&s.stateNode.current.memoizedState.isDehydrated){i.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}i.blockedOn=null}function Fl(i){if(i.blockedOn!==null)return!1;for(var a=i.targetContainers;0<a.length;){var s=Yf(i.nativeEvent);if(s===null){s=i.nativeEvent;var c=new s.constructor(s.type,s);Xu=c,s.target.dispatchEvent(c),Xu=null}else return a=ai(s),a!==null&&Qy(a),i.blockedOn=s,!1;a.shift()}return!0}function e0(i,a,s){Fl(i)&&s.delete(a)}function Qw(){Kf=!1,Gi!==null&&Fl(Gi)&&(Gi=null),Yi!==null&&Fl(Yi)&&(Yi=null),$i!==null&&Fl($i)&&($i=null),Ho.forEach(e0),qo.forEach(e0)}function Hl(i,a){i.blockedOn===a&&(i.blockedOn=null,Kf||(Kf=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Qw)))}var ql=null;function t0(i){ql!==i&&(ql=i,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){ql===i&&(ql=null);for(var a=0;a<i.length;a+=3){var s=i[a],c=i[a+1],p=i[a+2];if(typeof c!="function"){if($f(c||s)===null)continue;break}var b=ai(s);b!==null&&(i.splice(a,3),a-=3,Yc(b,{pending:!0,data:p,method:s.method,action:c},c,p))}}))}function Yo(i){function a(I){return Hl(I,i)}Gi!==null&&Hl(Gi,i),Yi!==null&&Hl(Yi,i),$i!==null&&Hl($i,i),Ho.forEach(a),qo.forEach(a);for(var s=0;s<Ki.length;s++){var c=Ki[s];c.blockedOn===i&&(c.blockedOn=null)}for(;0<Ki.length&&(s=Ki[0],s.blockedOn===null);)Wy(s),s.blockedOn===null&&Ki.shift();if(s=(i.ownerDocument||i).$$reactFormReplay,s!=null)for(c=0;c<s.length;c+=3){var p=s[c],b=s[c+1],w=p[Ut]||null;if(typeof b=="function")w||t0(s);else if(w){var A=null;if(b&&b.hasAttribute("formAction")){if(p=b,w=b[Ut]||null)A=w.formAction;else if($f(p)!==null)continue}else A=w.action;typeof A=="function"?s[c+1]=A:(s.splice(c,3),c-=3),t0(s)}}}function Xf(i){this._internalRoot=i}Gl.prototype.render=Xf.prototype.render=function(i){var a=this._internalRoot;if(a===null)throw Error(r(409));var s=a.current,c=gn();Ky(s,c,i,a,null,null)},Gl.prototype.unmount=Xf.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var a=i.containerInfo;Ky(i.current,2,null,i,null,null),Al(),a[Ei]=null}};function Gl(i){this._internalRoot=i}Gl.prototype.unstable_scheduleHydration=function(i){if(i){var a=Ps();i={blockedOn:null,target:i,priority:a};for(var s=0;s<Ki.length&&a!==0&&a<Ki[s].priority;s++);Ki.splice(s,0,i),s===0&&Wy(i)}};var n0=t.version;if(n0!=="19.1.0")throw Error(r(527,n0,"19.1.0"));V.findDOMNode=function(i){var a=i._reactInternals;if(a===void 0)throw typeof i.render=="function"?Error(r(188)):(i=Object.keys(i).join(","),Error(r(268,i)));return i=h(a),i=i!==null?d(i):null,i=i===null?null:i.stateNode,i};var Jw={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:K,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Yl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Yl.isDisabled&&Yl.supportsFiber)try{Z=Yl.inject(Jw),ce=Yl}catch{}}return Ko.createRoot=function(i,a){if(!o(i))throw Error(r(299));var s=!1,c="",p=xg,b=vg,w=bg,A=null;return a!=null&&(a.unstable_strictMode===!0&&(s=!0),a.identifierPrefix!==void 0&&(c=a.identifierPrefix),a.onUncaughtError!==void 0&&(p=a.onUncaughtError),a.onCaughtError!==void 0&&(b=a.onCaughtError),a.onRecoverableError!==void 0&&(w=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(A=a.unstable_transitionCallbacks)),a=Yy(i,1,!1,null,null,s,c,p,b,w,A,null),i[Ei]=a.current,Rf(i),new Xf(a)},Ko.hydrateRoot=function(i,a,s){if(!o(i))throw Error(r(299));var c=!1,p="",b=xg,w=vg,A=bg,I=null,$=null;return s!=null&&(s.unstable_strictMode===!0&&(c=!0),s.identifierPrefix!==void 0&&(p=s.identifierPrefix),s.onUncaughtError!==void 0&&(b=s.onUncaughtError),s.onCaughtError!==void 0&&(w=s.onCaughtError),s.onRecoverableError!==void 0&&(A=s.onRecoverableError),s.unstable_transitionCallbacks!==void 0&&(I=s.unstable_transitionCallbacks),s.formState!==void 0&&($=s.formState)),a=Yy(i,1,!0,a,s??null,c,p,b,w,A,I,$),a.context=$y(null),s=a.current,c=gn(),c=jt(c),p=Ri(c),p.callback=null,_i(s,p,c),s=c,a.current.lanes=s,J(a,s),Jn(a),i[Ei]=a.current,Rf(i),new Gl(a)},Ko.version="19.1.0",Ko}var d0;function lE(){if(d0)return Zf.exports;d0=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),Zf.exports=sE(),Zf.exports}var uE=lE();const cE=Es(uE);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let fE,dE;function hE(){return{geminiUrl:fE,vertexUrl:dE}}function mE(e,t,n){var r,o,l;if(!(!((r=e.httpOptions)===null||r===void 0)&&r.baseUrl)){const u=hE();return e.vertexai?(o=u.vertexUrl)!==null&&o!==void 0?o:t:(l=u.geminiUrl)!==null&&l!==void 0?l:n}return e.httpOptions.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class As{}function De(e,t){const n=/\{([^}]+)\}/g;return e.replace(n,(r,o)=>{if(Object.prototype.hasOwnProperty.call(t,o)){const l=t[o];return l!=null?String(l):""}else throw new Error(`Key '${o}' not found in valueMap.`)})}function v(e,t,n){for(let l=0;l<t.length-1;l++){const u=t[l];if(u.endsWith("[]")){const f=u.slice(0,-2);if(!(f in e))if(Array.isArray(n))e[f]=Array.from({length:n.length},()=>({}));else throw new Error(`Value must be a list given an array path ${u}`);if(Array.isArray(e[f])){const h=e[f];if(Array.isArray(n))for(let d=0;d<h.length;d++){const m=h[d];v(m,t.slice(l+1),n[d])}else for(const d of h)v(d,t.slice(l+1),n)}return}else if(u.endsWith("[0]")){const f=u.slice(0,-3);f in e||(e[f]=[{}]);const h=e[f];v(h[0],t.slice(l+1),n);return}(!e[u]||typeof e[u]!="object")&&(e[u]={}),e=e[u]}const r=t[t.length-1],o=e[r];if(o!==void 0){if(!n||typeof n=="object"&&Object.keys(n).length===0||n===o)return;if(typeof o=="object"&&typeof n=="object"&&o!==null&&n!==null)Object.assign(o,n);else throw new Error(`Cannot set value for an existing key. Key: ${r}`)}else e[r]=n}function x(e,t){try{if(t.length===1&&t[0]==="_self")return e;for(let n=0;n<t.length;n++){if(typeof e!="object"||e===null)return;const r=t[n];if(r.endsWith("[]")){const o=r.slice(0,-2);if(o in e){const l=e[o];return Array.isArray(l)?l.map(u=>x(u,t.slice(n+1))):void 0}else return}else e=e[r]}return e}catch(n){if(n instanceof TypeError)return;throw n}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function mt(e,t){if(!t||typeof t!="string")throw new Error("model is required and must be a string");if(e.isVertexAI()){if(t.startsWith("publishers/")||t.startsWith("projects/")||t.startsWith("models/"))return t;if(t.indexOf("/")>=0){const n=t.split("/",2);return`publishers/${n[0]}/models/${n[1]}`}else return`publishers/google/models/${t}`}else return t.startsWith("models/")||t.startsWith("tunedModels/")?t:`models/${t}`}function Ob(e,t){const n=mt(e,t);return n?n.startsWith("publishers/")&&e.isVertexAI()?`projects/${e.getProject()}/locations/${e.getLocation()}/${n}`:n.startsWith("models/")&&e.isVertexAI()?`projects/${e.getProject()}/locations/${e.getLocation()}/publishers/google/${n}`:n:""}function jb(e,t){return Array.isArray(t)?t.map(n=>gu(e,n)):[gu(e,t)]}function gu(e,t){if(typeof t=="object"&&t!==null)return t;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof t}`)}function pE(e,t){const n=gu(e,t);if(n.mimeType&&n.mimeType.startsWith("image/"))return n;throw new Error(`Unsupported mime type: ${n.mimeType}`)}function gE(e,t){const n=gu(e,t);if(n.mimeType&&n.mimeType.startsWith("audio/"))return n;throw new Error(`Unsupported mime type: ${n.mimeType}`)}function h0(e,t){if(t==null)throw new Error("PartUnion is required");if(typeof t=="object")return t;if(typeof t=="string")return{text:t};throw new Error(`Unsupported part type: ${typeof t}`)}function Ub(e,t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("PartListUnion is required");return Array.isArray(t)?t.map(n=>h0(e,n)):[h0(e,t)]}function Bd(e){return e!=null&&typeof e=="object"&&"parts"in e&&Array.isArray(e.parts)}function m0(e){return e!=null&&typeof e=="object"&&"functionCall"in e}function p0(e){return e!=null&&typeof e=="object"&&"functionResponse"in e}function an(e,t){if(t==null)throw new Error("ContentUnion is required");return Bd(t)?t:{role:"user",parts:Ub(e,t)}}function zb(e,t){if(!t)return[];if(e.isVertexAI()&&Array.isArray(t))return t.flatMap(n=>{const r=an(e,n);return r.parts&&r.parts.length>0&&r.parts[0].text!==void 0?[r.parts[0].text]:[]});if(e.isVertexAI()){const n=an(e,t);return n.parts&&n.parts.length>0&&n.parts[0].text!==void 0?[n.parts[0].text]:[]}return Array.isArray(t)?t.map(n=>an(e,n)):[an(e,t)]}function rr(e,t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("contents are required");if(!Array.isArray(t)){if(m0(t)||p0(t))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[an(e,t)]}const n=[],r=[],o=Bd(t[0]);for(const l of t){const u=Bd(l);if(u!=o)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(u)n.push(l);else{if(m0(l)||p0(l))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");r.push(l)}}return o||n.push({role:"user",parts:Ub(e,r)}),n}function Fb(e,t){return t}function Hb(e,t){if(typeof t=="object")return t;if(typeof t=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:t}}};throw new Error(`Unsupported speechConfig type: ${typeof t}`)}function Ru(e,t){return t}function _u(e,t){if(!Array.isArray(t))throw new Error("tool is required and must be an array of Tools");return t}function yE(e,t,n,r=1){const o=!t.startsWith(`${n}/`)&&t.split("/").length===r;return e.isVertexAI()?t.startsWith("projects/")?t:t.startsWith("locations/")?`projects/${e.getProject()}/${t}`:t.startsWith(`${n}/`)?`projects/${e.getProject()}/locations/${e.getLocation()}/${t}`:o?`projects/${e.getProject()}/locations/${e.getLocation()}/${n}/${t}`:t:o?`${n}/${t}`:t}function ar(e,t){if(typeof t!="string")throw new Error("name must be a string");return yE(e,t,"cachedContents")}function qb(e,t){switch(t){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return t}}function or(e,t){if(typeof t!="string")throw new Error("fromImageBytes must be a string");return t}function Gb(e,t){if(typeof t!="string")throw new Error("fromName must be a string");return t.startsWith("files/")?t.split("files/")[1]:t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function xE(e,t){const n={};if(x(t,["videoMetadata"])!==void 0)throw new Error("videoMetadata parameter is not supported in Gemini API.");const r=x(t,["thought"]);r!=null&&v(n,["thought"],r);const o=x(t,["codeExecutionResult"]);o!=null&&v(n,["codeExecutionResult"],o);const l=x(t,["executableCode"]);l!=null&&v(n,["executableCode"],l);const u=x(t,["fileData"]);u!=null&&v(n,["fileData"],u);const f=x(t,["functionCall"]);f!=null&&v(n,["functionCall"],f);const h=x(t,["functionResponse"]);h!=null&&v(n,["functionResponse"],h);const d=x(t,["inlineData"]);d!=null&&v(n,["inlineData"],d);const m=x(t,["text"]);return m!=null&&v(n,["text"],m),n}function g0(e,t){const n={},r=x(t,["parts"]);if(r!=null){let l=r;Array.isArray(l)&&(l=l.map(u=>xE(e,u))),v(n,["parts"],l)}const o=x(t,["role"]);return o!=null&&v(n,["role"],o),n}function vE(){return{}}function bE(e,t){const n={},r=x(t,["mode"]);r!=null&&v(n,["mode"],r);const o=x(t,["dynamicThreshold"]);return o!=null&&v(n,["dynamicThreshold"],o),n}function TE(e,t){const n={},r=x(t,["dynamicRetrievalConfig"]);return r!=null&&v(n,["dynamicRetrievalConfig"],bE(e,r)),n}function SE(e,t){const n={};if(x(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");x(t,["googleSearch"])!=null&&v(n,["googleSearch"],vE());const o=x(t,["googleSearchRetrieval"]);o!=null&&v(n,["googleSearchRetrieval"],TE(e,o));const l=x(t,["codeExecution"]);l!=null&&v(n,["codeExecution"],l);const u=x(t,["functionDeclarations"]);return u!=null&&v(n,["functionDeclarations"],u),n}function CE(e,t){const n={},r=x(t,["mode"]);r!=null&&v(n,["mode"],r);const o=x(t,["allowedFunctionNames"]);return o!=null&&v(n,["allowedFunctionNames"],o),n}function wE(e,t){const n={},r=x(t,["functionCallingConfig"]);return r!=null&&v(n,["functionCallingConfig"],CE(e,r)),n}function EE(e,t,n){const r={},o=x(t,["ttl"]);n!==void 0&&o!=null&&v(n,["ttl"],o);const l=x(t,["expireTime"]);n!==void 0&&l!=null&&v(n,["expireTime"],l);const u=x(t,["displayName"]);n!==void 0&&u!=null&&v(n,["displayName"],u);const f=x(t,["contents"]);if(n!==void 0&&f!=null){let g=rr(e,f);Array.isArray(g)&&(g=g.map(T=>g0(e,T))),v(n,["contents"],g)}const h=x(t,["systemInstruction"]);n!==void 0&&h!=null&&v(n,["systemInstruction"],g0(e,an(e,h)));const d=x(t,["tools"]);if(n!==void 0&&d!=null){let g=d;Array.isArray(g)&&(g=g.map(T=>SE(e,T))),v(n,["tools"],g)}const m=x(t,["toolConfig"]);return n!==void 0&&m!=null&&v(n,["toolConfig"],wE(e,m)),r}function AE(e,t){const n={},r=x(t,["model"]);r!=null&&v(n,["model"],Ob(e,r));const o=x(t,["config"]);return o!=null&&v(n,["config"],EE(e,o,n)),n}function ME(e,t){const n={},r=x(t,["name"]);r!=null&&v(n,["_url","name"],ar(e,r));const o=x(t,["config"]);return o!=null&&v(n,["config"],o),n}function kE(e,t){const n={},r=x(t,["name"]);r!=null&&v(n,["_url","name"],ar(e,r));const o=x(t,["config"]);return o!=null&&v(n,["config"],o),n}function DE(e,t,n){const r={},o=x(t,["ttl"]);n!==void 0&&o!=null&&v(n,["ttl"],o);const l=x(t,["expireTime"]);return n!==void 0&&l!=null&&v(n,["expireTime"],l),r}function NE(e,t){const n={},r=x(t,["name"]);r!=null&&v(n,["_url","name"],ar(e,r));const o=x(t,["config"]);return o!=null&&v(n,["config"],DE(e,o,n)),n}function RE(e,t,n){const r={},o=x(t,["pageSize"]);n!==void 0&&o!=null&&v(n,["_query","pageSize"],o);const l=x(t,["pageToken"]);return n!==void 0&&l!=null&&v(n,["_query","pageToken"],l),r}function _E(e,t){const n={},r=x(t,["config"]);return r!=null&&v(n,["config"],RE(e,r,n)),n}function IE(e,t){const n={},r=x(t,["videoMetadata"]);r!=null&&v(n,["videoMetadata"],r);const o=x(t,["thought"]);o!=null&&v(n,["thought"],o);const l=x(t,["codeExecutionResult"]);l!=null&&v(n,["codeExecutionResult"],l);const u=x(t,["executableCode"]);u!=null&&v(n,["executableCode"],u);const f=x(t,["fileData"]);f!=null&&v(n,["fileData"],f);const h=x(t,["functionCall"]);h!=null&&v(n,["functionCall"],h);const d=x(t,["functionResponse"]);d!=null&&v(n,["functionResponse"],d);const m=x(t,["inlineData"]);m!=null&&v(n,["inlineData"],m);const g=x(t,["text"]);return g!=null&&v(n,["text"],g),n}function y0(e,t){const n={},r=x(t,["parts"]);if(r!=null){let l=r;Array.isArray(l)&&(l=l.map(u=>IE(e,u))),v(n,["parts"],l)}const o=x(t,["role"]);return o!=null&&v(n,["role"],o),n}function PE(){return{}}function LE(e,t){const n={},r=x(t,["mode"]);r!=null&&v(n,["mode"],r);const o=x(t,["dynamicThreshold"]);return o!=null&&v(n,["dynamicThreshold"],o),n}function VE(e,t){const n={},r=x(t,["dynamicRetrievalConfig"]);return r!=null&&v(n,["dynamicRetrievalConfig"],LE(e,r)),n}function BE(e,t){const n={},r=x(t,["retrieval"]);r!=null&&v(n,["retrieval"],r),x(t,["googleSearch"])!=null&&v(n,["googleSearch"],PE());const l=x(t,["googleSearchRetrieval"]);l!=null&&v(n,["googleSearchRetrieval"],VE(e,l));const u=x(t,["codeExecution"]);u!=null&&v(n,["codeExecution"],u);const f=x(t,["functionDeclarations"]);return f!=null&&v(n,["functionDeclarations"],f),n}function OE(e,t){const n={},r=x(t,["mode"]);r!=null&&v(n,["mode"],r);const o=x(t,["allowedFunctionNames"]);return o!=null&&v(n,["allowedFunctionNames"],o),n}function jE(e,t){const n={},r=x(t,["functionCallingConfig"]);return r!=null&&v(n,["functionCallingConfig"],OE(e,r)),n}function UE(e,t,n){const r={},o=x(t,["ttl"]);n!==void 0&&o!=null&&v(n,["ttl"],o);const l=x(t,["expireTime"]);n!==void 0&&l!=null&&v(n,["expireTime"],l);const u=x(t,["displayName"]);n!==void 0&&u!=null&&v(n,["displayName"],u);const f=x(t,["contents"]);if(n!==void 0&&f!=null){let g=rr(e,f);Array.isArray(g)&&(g=g.map(T=>y0(e,T))),v(n,["contents"],g)}const h=x(t,["systemInstruction"]);n!==void 0&&h!=null&&v(n,["systemInstruction"],y0(e,an(e,h)));const d=x(t,["tools"]);if(n!==void 0&&d!=null){let g=d;Array.isArray(g)&&(g=g.map(T=>BE(e,T))),v(n,["tools"],g)}const m=x(t,["toolConfig"]);return n!==void 0&&m!=null&&v(n,["toolConfig"],jE(e,m)),r}function zE(e,t){const n={},r=x(t,["model"]);r!=null&&v(n,["model"],Ob(e,r));const o=x(t,["config"]);return o!=null&&v(n,["config"],UE(e,o,n)),n}function FE(e,t){const n={},r=x(t,["name"]);r!=null&&v(n,["_url","name"],ar(e,r));const o=x(t,["config"]);return o!=null&&v(n,["config"],o),n}function HE(e,t){const n={},r=x(t,["name"]);r!=null&&v(n,["_url","name"],ar(e,r));const o=x(t,["config"]);return o!=null&&v(n,["config"],o),n}function qE(e,t,n){const r={},o=x(t,["ttl"]);n!==void 0&&o!=null&&v(n,["ttl"],o);const l=x(t,["expireTime"]);return n!==void 0&&l!=null&&v(n,["expireTime"],l),r}function GE(e,t){const n={},r=x(t,["name"]);r!=null&&v(n,["_url","name"],ar(e,r));const o=x(t,["config"]);return o!=null&&v(n,["config"],qE(e,o,n)),n}function YE(e,t,n){const r={},o=x(t,["pageSize"]);n!==void 0&&o!=null&&v(n,["_query","pageSize"],o);const l=x(t,["pageToken"]);return n!==void 0&&l!=null&&v(n,["_query","pageToken"],l),r}function $E(e,t){const n={},r=x(t,["config"]);return r!=null&&v(n,["config"],YE(e,r,n)),n}function su(e,t){const n={},r=x(t,["name"]);r!=null&&v(n,["name"],r);const o=x(t,["displayName"]);o!=null&&v(n,["displayName"],o);const l=x(t,["model"]);l!=null&&v(n,["model"],l);const u=x(t,["createTime"]);u!=null&&v(n,["createTime"],u);const f=x(t,["updateTime"]);f!=null&&v(n,["updateTime"],f);const h=x(t,["expireTime"]);h!=null&&v(n,["expireTime"],h);const d=x(t,["usageMetadata"]);return d!=null&&v(n,["usageMetadata"],d),n}function KE(){return{}}function XE(e,t){const n={},r=x(t,["nextPageToken"]);r!=null&&v(n,["nextPageToken"],r);const o=x(t,["cachedContents"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(u=>su(e,u))),v(n,["cachedContents"],l)}return n}function lu(e,t){const n={},r=x(t,["name"]);r!=null&&v(n,["name"],r);const o=x(t,["displayName"]);o!=null&&v(n,["displayName"],o);const l=x(t,["model"]);l!=null&&v(n,["model"],l);const u=x(t,["createTime"]);u!=null&&v(n,["createTime"],u);const f=x(t,["updateTime"]);f!=null&&v(n,["updateTime"],f);const h=x(t,["expireTime"]);h!=null&&v(n,["expireTime"],h);const d=x(t,["usageMetadata"]);return d!=null&&v(n,["usageMetadata"],d),n}function QE(){return{}}function JE(e,t){const n={},r=x(t,["nextPageToken"]);r!=null&&v(n,["nextPageToken"],r);const o=x(t,["cachedContents"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(u=>lu(e,u))),v(n,["cachedContents"],l)}return n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var ms;(function(e){e.PAGED_ITEM_BATCH_JOBS="batchJobs",e.PAGED_ITEM_MODELS="models",e.PAGED_ITEM_TUNING_JOBS="tuningJobs",e.PAGED_ITEM_FILES="files",e.PAGED_ITEM_CACHED_CONTENTS="cachedContents"})(ms||(ms={}));class Ah{constructor(t,n,r,o){this.pageInternal=[],this.paramsInternal={},this.requestInternal=n,this.init(t,r,o)}init(t,n,r){var o,l;this.nameInternal=t,this.pageInternal=n[this.nameInternal]||[],this.idxInternal=0;let u={config:{}};r?typeof r=="object"?u=Object.assign({},r):u=r:u={config:{}},u.config&&(u.config.pageToken=n.nextPageToken),this.paramsInternal=u,this.pageInternalSize=(l=(o=u.config)===null||o===void 0?void 0:o.pageSize)!==null&&l!==void 0?l:this.pageInternal.length}initNextPage(t){this.init(this.nameInternal,t,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(t){return this.pageInternal[t]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const t=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:t,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const t=await this.requestInternal(this.params);return this.initNextPage(t),this.page}hasNextPage(){var t;return((t=this.params.config)===null||t===void 0?void 0:t.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var x0;(function(e){e.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",e.OUTCOME_OK="OUTCOME_OK",e.OUTCOME_FAILED="OUTCOME_FAILED",e.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(x0||(x0={}));var v0;(function(e){e.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",e.PYTHON="PYTHON"})(v0||(v0={}));var b0;(function(e){e.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",e.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",e.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",e.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",e.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",e.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY"})(b0||(b0={}));var T0;(function(e){e.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",e.SEVERITY="SEVERITY",e.PROBABILITY="PROBABILITY"})(T0||(T0={}));var S0;(function(e){e.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",e.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",e.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",e.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",e.BLOCK_NONE="BLOCK_NONE",e.OFF="OFF"})(S0||(S0={}));var C0;(function(e){e.MODE_UNSPECIFIED="MODE_UNSPECIFIED",e.MODE_DYNAMIC="MODE_DYNAMIC"})(C0||(C0={}));var w0;(function(e){e.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",e.STRING="STRING",e.NUMBER="NUMBER",e.INTEGER="INTEGER",e.BOOLEAN="BOOLEAN",e.ARRAY="ARRAY",e.OBJECT="OBJECT"})(w0||(w0={}));var E0;(function(e){e.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",e.STOP="STOP",e.MAX_TOKENS="MAX_TOKENS",e.SAFETY="SAFETY",e.RECITATION="RECITATION",e.LANGUAGE="LANGUAGE",e.OTHER="OTHER",e.BLOCKLIST="BLOCKLIST",e.PROHIBITED_CONTENT="PROHIBITED_CONTENT",e.SPII="SPII",e.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",e.IMAGE_SAFETY="IMAGE_SAFETY"})(E0||(E0={}));var A0;(function(e){e.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",e.NEGLIGIBLE="NEGLIGIBLE",e.LOW="LOW",e.MEDIUM="MEDIUM",e.HIGH="HIGH"})(A0||(A0={}));var M0;(function(e){e.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",e.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",e.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",e.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",e.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(M0||(M0={}));var k0;(function(e){e.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",e.SAFETY="SAFETY",e.OTHER="OTHER",e.BLOCKLIST="BLOCKLIST",e.PROHIBITED_CONTENT="PROHIBITED_CONTENT"})(k0||(k0={}));var D0;(function(e){e.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",e.ON_DEMAND="ON_DEMAND",e.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(D0||(D0={}));var yu;(function(e){e.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",e.TEXT="TEXT",e.IMAGE="IMAGE",e.AUDIO="AUDIO"})(yu||(yu={}));var N0;(function(e){e.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",e.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",e.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",e.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(N0||(N0={}));var Od;(function(e){e.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",e.JOB_STATE_QUEUED="JOB_STATE_QUEUED",e.JOB_STATE_PENDING="JOB_STATE_PENDING",e.JOB_STATE_RUNNING="JOB_STATE_RUNNING",e.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",e.JOB_STATE_FAILED="JOB_STATE_FAILED",e.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",e.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",e.JOB_STATE_PAUSED="JOB_STATE_PAUSED",e.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",e.JOB_STATE_UPDATING="JOB_STATE_UPDATING",e.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(Od||(Od={}));var R0;(function(e){e.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",e.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",e.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",e.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",e.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",e.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",e.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(R0||(R0={}));var _0;(function(e){e.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",e.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",e.BALANCED="BALANCED",e.PRIORITIZE_COST="PRIORITIZE_COST"})(_0||(_0={}));var I0;(function(e){e.MODE_UNSPECIFIED="MODE_UNSPECIFIED",e.MODE_DYNAMIC="MODE_DYNAMIC"})(I0||(I0={}));var P0;(function(e){e.MODE_UNSPECIFIED="MODE_UNSPECIFIED",e.AUTO="AUTO",e.ANY="ANY",e.NONE="NONE"})(P0||(P0={}));var L0;(function(e){e.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",e.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",e.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",e.BLOCK_NONE="BLOCK_NONE"})(L0||(L0={}));var V0;(function(e){e.DONT_ALLOW="DONT_ALLOW",e.ALLOW_ADULT="ALLOW_ADULT",e.ALLOW_ALL="ALLOW_ALL"})(V0||(V0={}));var B0;(function(e){e.auto="auto",e.en="en",e.ja="ja",e.ko="ko",e.hi="hi"})(B0||(B0={}));var O0;(function(e){e.STATE_UNSPECIFIED="STATE_UNSPECIFIED",e.PROCESSING="PROCESSING",e.ACTIVE="ACTIVE",e.FAILED="FAILED"})(O0||(O0={}));var j0;(function(e){e.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",e.UPLOADED="UPLOADED",e.GENERATED="GENERATED"})(j0||(j0={}));var U0;(function(e){e.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",e.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",e.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",e.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",e.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(U0||(U0={}));var z0;(function(e){e.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",e.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",e.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",e.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(z0||(z0={}));var F0;(function(e){e.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",e.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",e.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",e.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(F0||(F0={}));var H0;(function(e){e.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",e.TEXT="TEXT",e.IMAGE="IMAGE",e.VIDEO="VIDEO",e.AUDIO="AUDIO",e.DOCUMENT="DOCUMENT"})(H0||(H0={}));var q0;(function(e){e.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",e.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",e.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(q0||(q0={}));var G0;(function(e){e.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",e.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",e.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(G0||(G0={}));var Y0;(function(e){e.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",e.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",e.NO_INTERRUPTION="NO_INTERRUPTION"})(Y0||(Y0={}));var $0;(function(e){e.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",e.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",e.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})($0||($0={}));class $l{get text(){var t,n,r,o,l,u,f,h;if(((o=(r=(n=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||o===void 0?void 0:o.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let d="",m=!1;const g=[];for(const T of(h=(f=(u=(l=this.candidates)===null||l===void 0?void 0:l[0])===null||u===void 0?void 0:u.content)===null||f===void 0?void 0:f.parts)!==null&&h!==void 0?h:[]){for(const[S,E]of Object.entries(T))S!=="text"&&S!=="thought"&&(E!==null||E!==void 0)&&g.push(S);if(typeof T.text=="string"){if(typeof T.thought=="boolean"&&T.thought)continue;m=!0,d+=T.text}}return g.length>0&&console.warn(`there are non-text parts ${g} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),m?d:void 0}get data(){var t,n,r,o,l,u,f,h;if(((o=(r=(n=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||o===void 0?void 0:o.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let d="";const m=[];for(const g of(h=(f=(u=(l=this.candidates)===null||l===void 0?void 0:l[0])===null||u===void 0?void 0:u.content)===null||f===void 0?void 0:f.parts)!==null&&h!==void 0?h:[]){for(const[T,S]of Object.entries(g))T!=="inlineData"&&(S!==null||S!==void 0)&&m.push(T);g.inlineData&&typeof g.inlineData.data=="string"&&(d+=atob(g.inlineData.data))}return m.length>0&&console.warn(`there are non-data parts ${m} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),d.length>0?btoa(d):void 0}get functionCalls(){var t,n,r,o,l,u,f,h;if(((o=(r=(n=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||o===void 0?void 0:o.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const d=(h=(f=(u=(l=this.candidates)===null||l===void 0?void 0:l[0])===null||u===void 0?void 0:u.content)===null||f===void 0?void 0:f.parts)===null||h===void 0?void 0:h.filter(m=>m.functionCall).map(m=>m.functionCall).filter(m=>m!==void 0);if((d==null?void 0:d.length)!==0)return d}get executableCode(){var t,n,r,o,l,u,f,h,d;if(((o=(r=(n=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||o===void 0?void 0:o.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const m=(h=(f=(u=(l=this.candidates)===null||l===void 0?void 0:l[0])===null||u===void 0?void 0:u.content)===null||f===void 0?void 0:f.parts)===null||h===void 0?void 0:h.filter(g=>g.executableCode).map(g=>g.executableCode).filter(g=>g!==void 0);if((m==null?void 0:m.length)!==0)return(d=m==null?void 0:m[0])===null||d===void 0?void 0:d.code}get codeExecutionResult(){var t,n,r,o,l,u,f,h,d;if(((o=(r=(n=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||o===void 0?void 0:o.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const m=(h=(f=(u=(l=this.candidates)===null||l===void 0?void 0:l[0])===null||u===void 0?void 0:u.content)===null||f===void 0?void 0:f.parts)===null||h===void 0?void 0:h.filter(g=>g.codeExecutionResult).map(g=>g.codeExecutionResult).filter(g=>g!==void 0);if((m==null?void 0:m.length)!==0)return(d=m==null?void 0:m[0])===null||d===void 0?void 0:d.output}}class K0{}class X0{}class Q0{}class J0{}class ZE{}class Z0{}class W0{}class ex{}class WE{}class jd{constructor(t){const n={};for(const r of t.headers.entries())n[r[0]]=r[1];this.headers=n,this.responseInternal=t}json(){return this.responseInternal.json()}}class eA{}class tA{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class nA extends As{constructor(t){super(),this.apiClient=t,this.list=async(n={})=>new Ah(ms.PAGED_ITEM_CACHED_CONTENTS,r=>this.listInternal(r),await this.listInternal(n),n)}async create(t){var n,r,o,l;let u,f="",h={};if(this.apiClient.isVertexAI()){const d=zE(this.apiClient,t);return f=De("cachedContents",d._url),h=d._query,delete d.config,delete d._url,delete d._query,u=this.apiClient.request({path:f,queryParams:h,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(m=>m.json()),u.then(m=>lu(this.apiClient,m))}else{const d=AE(this.apiClient,t);return f=De("cachedContents",d._url),h=d._query,delete d.config,delete d._url,delete d._query,u=this.apiClient.request({path:f,queryParams:h,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(m=>m.json()),u.then(m=>su(this.apiClient,m))}}async get(t){var n,r,o,l;let u,f="",h={};if(this.apiClient.isVertexAI()){const d=FE(this.apiClient,t);return f=De("{name}",d._url),h=d._query,delete d.config,delete d._url,delete d._query,u=this.apiClient.request({path:f,queryParams:h,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(m=>m.json()),u.then(m=>lu(this.apiClient,m))}else{const d=ME(this.apiClient,t);return f=De("{name}",d._url),h=d._query,delete d.config,delete d._url,delete d._query,u=this.apiClient.request({path:f,queryParams:h,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(m=>m.json()),u.then(m=>su(this.apiClient,m))}}async delete(t){var n,r,o,l;let u,f="",h={};if(this.apiClient.isVertexAI()){const d=HE(this.apiClient,t);return f=De("{name}",d._url),h=d._query,delete d.config,delete d._url,delete d._query,u=this.apiClient.request({path:f,queryParams:h,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(m=>m.json()),u.then(()=>{const m=QE(),g=new W0;return Object.assign(g,m),g})}else{const d=kE(this.apiClient,t);return f=De("{name}",d._url),h=d._query,delete d.config,delete d._url,delete d._query,u=this.apiClient.request({path:f,queryParams:h,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(m=>m.json()),u.then(()=>{const m=KE(),g=new W0;return Object.assign(g,m),g})}}async update(t){var n,r,o,l;let u,f="",h={};if(this.apiClient.isVertexAI()){const d=GE(this.apiClient,t);return f=De("{name}",d._url),h=d._query,delete d.config,delete d._url,delete d._query,u=this.apiClient.request({path:f,queryParams:h,body:JSON.stringify(d),httpMethod:"PATCH",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(m=>m.json()),u.then(m=>lu(this.apiClient,m))}else{const d=NE(this.apiClient,t);return f=De("{name}",d._url),h=d._query,delete d.config,delete d._url,delete d._query,u=this.apiClient.request({path:f,queryParams:h,body:JSON.stringify(d),httpMethod:"PATCH",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(m=>m.json()),u.then(m=>su(this.apiClient,m))}}async listInternal(t){var n,r,o,l;let u,f="",h={};if(this.apiClient.isVertexAI()){const d=$E(this.apiClient,t);return f=De("cachedContents",d._url),h=d._query,delete d.config,delete d._url,delete d._query,u=this.apiClient.request({path:f,queryParams:h,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(m=>m.json()),u.then(m=>{const g=JE(this.apiClient,m),T=new ex;return Object.assign(T,g),T})}else{const d=_E(this.apiClient,t);return f=De("cachedContents",d._url),h=d._query,delete d.config,delete d._url,delete d._query,u=this.apiClient.request({path:f,queryParams:h,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(m=>m.json()),u.then(m=>{const g=XE(this.apiClient,m),T=new ex;return Object.assign(T,g),T})}}}function tx(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function Ht(e){return this instanceof Ht?(this.v=e,this):new Ht(e)}function xu(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(e,t||[]),o,l=[];return o=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),f("next"),f("throw"),f("return",u),o[Symbol.asyncIterator]=function(){return this},o;function u(S){return function(E){return Promise.resolve(E).then(S,g)}}function f(S,E){r[S]&&(o[S]=function(k){return new Promise(function(R,D){l.push([S,k,R,D])>1||h(S,k)})},E&&(o[S]=E(o[S])))}function h(S,E){try{d(r[S](E))}catch(k){T(l[0][3],k)}}function d(S){S.value instanceof Ht?Promise.resolve(S.value.v).then(m,g):T(l[0][2],S)}function m(S){h("next",S)}function g(S){h("throw",S)}function T(S,E){S(E),l.shift(),l.length&&h(l[0][0],l[0][1])}}function Ud(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],n;return t?t.call(e):(e=typeof tx=="function"?tx(e):e[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(l){n[l]=e[l]&&function(u){return new Promise(function(f,h){u=e[l](u),o(f,h,u.done,u.value)})}}function o(l,u,f,h){Promise.resolve(h).then(function(d){l({value:d,done:f})},u)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function iA(e){var t;if(e.candidates==null||e.candidates.length===0)return!1;const n=(t=e.candidates[0])===null||t===void 0?void 0:t.content;return n===void 0?!1:Yb(n)}function Yb(e){if(e.parts===void 0||e.parts.length===0)return!1;for(const t of e.parts)if(t===void 0||Object.keys(t).length===0||t.text!==void 0&&t.text==="")return!1;return!0}function rA(e){if(e.length!==0){if(e[0].role!=="user")throw new Error("History must start with a user turn.");for(const t of e)if(t.role!=="user"&&t.role!=="model")throw new Error(`Role must be user or model, but got ${t.role}.`)}}function aA(e){if(e===void 0||e.length===0)return[];const t=[],n=e.length;let r=0,o=e[0];for(;r<n;)if(e[r].role==="user")o=e[r],r++;else{const l=[];let u=!0;for(;r<n&&e[r].role==="model";)l.push(e[r]),u&&!Yb(e[r])&&(u=!1),r++;u&&(t.push(o),t.push(...l))}return t}class oA{constructor(t,n){this.modelsModule=t,this.apiClient=n}create(t){return new sA(this.apiClient,this.modelsModule,t.model,t.config,t.history)}}class sA{constructor(t,n,r,o={},l=[]){this.apiClient=t,this.modelsModule=n,this.model=r,this.config=o,this.history=l,this.sendPromise=Promise.resolve(),rA(l)}async sendMessage(t){var n;await this.sendPromise;const r=an(this.apiClient,t.message),o=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(r),config:(n=t.config)!==null&&n!==void 0?n:this.config});return this.sendPromise=(async()=>{var l,u;const h=(u=(l=(await o).candidates)===null||l===void 0?void 0:l[0])===null||u===void 0?void 0:u.content,d=h?[h]:[];this.recordHistory(r,d)})(),await this.sendPromise,o}async sendMessageStream(t){var n;await this.sendPromise;const r=an(this.apiClient,t.message),o=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(r),config:(n=t.config)!==null&&n!==void 0?n:this.config});this.sendPromise=o.then(()=>{}).catch(()=>{});const l=await o;return this.processStreamResponse(l,r)}getHistory(t=!1){return t?aA(this.history):this.history}processStreamResponse(t,n){var r,o;return xu(this,arguments,function*(){var u,f,h,d;const m=[];try{for(var g=!0,T=Ud(t),S;S=yield Ht(T.next()),u=S.done,!u;g=!0){d=S.value,g=!1;const E=d;if(iA(E)){const k=(o=(r=E.candidates)===null||r===void 0?void 0:r[0])===null||o===void 0?void 0:o.content;k!==void 0&&m.push(k)}yield yield Ht(E)}}catch(E){f={error:E}}finally{try{!g&&!u&&(h=T.return)&&(yield Ht(h.call(T)))}finally{if(f)throw f.error}}this.recordHistory(n,m)})}recordHistory(t,n){let r=[];n.length>0&&n.every(o=>o.role==="model")?r=n:r.push({role:"model",parts:[]}),this.history.push(t),this.history.push(...r)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function lA(e,t,n){const r={},o=x(t,["pageSize"]);n!==void 0&&o!=null&&v(n,["_query","pageSize"],o);const l=x(t,["pageToken"]);return n!==void 0&&l!=null&&v(n,["_query","pageToken"],l),r}function uA(e,t){const n={},r=x(t,["config"]);return r!=null&&v(n,["config"],lA(e,r,n)),n}function cA(e,t){const n={},r=x(t,["details"]);r!=null&&v(n,["details"],r);const o=x(t,["message"]);o!=null&&v(n,["message"],o);const l=x(t,["code"]);return l!=null&&v(n,["code"],l),n}function fA(e,t){const n={},r=x(t,["name"]);r!=null&&v(n,["name"],r);const o=x(t,["displayName"]);o!=null&&v(n,["displayName"],o);const l=x(t,["mimeType"]);l!=null&&v(n,["mimeType"],l);const u=x(t,["sizeBytes"]);u!=null&&v(n,["sizeBytes"],u);const f=x(t,["createTime"]);f!=null&&v(n,["createTime"],f);const h=x(t,["expirationTime"]);h!=null&&v(n,["expirationTime"],h);const d=x(t,["updateTime"]);d!=null&&v(n,["updateTime"],d);const m=x(t,["sha256Hash"]);m!=null&&v(n,["sha256Hash"],m);const g=x(t,["uri"]);g!=null&&v(n,["uri"],g);const T=x(t,["downloadUri"]);T!=null&&v(n,["downloadUri"],T);const S=x(t,["state"]);S!=null&&v(n,["state"],S);const E=x(t,["source"]);E!=null&&v(n,["source"],E);const k=x(t,["videoMetadata"]);k!=null&&v(n,["videoMetadata"],k);const R=x(t,["error"]);return R!=null&&v(n,["error"],cA(e,R)),n}function dA(e,t){const n={},r=x(t,["file"]);r!=null&&v(n,["file"],fA(e,r));const o=x(t,["config"]);return o!=null&&v(n,["config"],o),n}function hA(e,t){const n={},r=x(t,["name"]);r!=null&&v(n,["_url","file"],Gb(e,r));const o=x(t,["config"]);return o!=null&&v(n,["config"],o),n}function mA(e,t){const n={},r=x(t,["name"]);r!=null&&v(n,["_url","file"],Gb(e,r));const o=x(t,["config"]);return o!=null&&v(n,["config"],o),n}function pA(e,t){const n={},r=x(t,["details"]);r!=null&&v(n,["details"],r);const o=x(t,["message"]);o!=null&&v(n,["message"],o);const l=x(t,["code"]);return l!=null&&v(n,["code"],l),n}function zd(e,t){const n={},r=x(t,["name"]);r!=null&&v(n,["name"],r);const o=x(t,["displayName"]);o!=null&&v(n,["displayName"],o);const l=x(t,["mimeType"]);l!=null&&v(n,["mimeType"],l);const u=x(t,["sizeBytes"]);u!=null&&v(n,["sizeBytes"],u);const f=x(t,["createTime"]);f!=null&&v(n,["createTime"],f);const h=x(t,["expirationTime"]);h!=null&&v(n,["expirationTime"],h);const d=x(t,["updateTime"]);d!=null&&v(n,["updateTime"],d);const m=x(t,["sha256Hash"]);m!=null&&v(n,["sha256Hash"],m);const g=x(t,["uri"]);g!=null&&v(n,["uri"],g);const T=x(t,["downloadUri"]);T!=null&&v(n,["downloadUri"],T);const S=x(t,["state"]);S!=null&&v(n,["state"],S);const E=x(t,["source"]);E!=null&&v(n,["source"],E);const k=x(t,["videoMetadata"]);k!=null&&v(n,["videoMetadata"],k);const R=x(t,["error"]);return R!=null&&v(n,["error"],pA(e,R)),n}function gA(e,t){const n={},r=x(t,["nextPageToken"]);r!=null&&v(n,["nextPageToken"],r);const o=x(t,["files"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(u=>zd(e,u))),v(n,["files"],l)}return n}function yA(){return{}}function xA(){return{}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class vA extends As{constructor(t){super(),this.apiClient=t,this.list=async(n={})=>new Ah(ms.PAGED_ITEM_FILES,r=>this.listInternal(r),await this.listInternal(n),n)}async upload(t){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(t.file,t.config).then(n=>zd(this.apiClient,n))}async listInternal(t){var n,r;let o,l="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const f=uA(this.apiClient,t);return l=De("files",f._url),u=f._query,delete f.config,delete f._url,delete f._query,o=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),o.then(h=>{const d=gA(this.apiClient,h),m=new WE;return Object.assign(m,d),m})}}async createInternal(t){var n,r;let o,l="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const f=dA(this.apiClient,t);return l=De("upload/v1beta/files",f._url),u=f._query,delete f.config,delete f._url,delete f._query,o=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),o.then(()=>{const h=yA(),d=new eA;return Object.assign(d,h),d})}}async get(t){var n,r;let o,l="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const f=hA(this.apiClient,t);return l=De("files/{file}",f._url),u=f._query,delete f.config,delete f._url,delete f._query,o=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),o.then(h=>zd(this.apiClient,h))}}async delete(t){var n,r;let o,l="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const f=mA(this.apiClient,t);return l=De("files/{file}",f._url),u=f._query,delete f.config,delete f._url,delete f._query,o=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),o.then(()=>{const h=xA(),d=new tA;return Object.assign(d,h),d})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function bA(e,t){const n={};if(x(t,["videoMetadata"])!==void 0)throw new Error("videoMetadata parameter is not supported in Gemini API.");const r=x(t,["thought"]);r!=null&&v(n,["thought"],r);const o=x(t,["codeExecutionResult"]);o!=null&&v(n,["codeExecutionResult"],o);const l=x(t,["executableCode"]);l!=null&&v(n,["executableCode"],l);const u=x(t,["fileData"]);u!=null&&v(n,["fileData"],u);const f=x(t,["functionCall"]);f!=null&&v(n,["functionCall"],f);const h=x(t,["functionResponse"]);h!=null&&v(n,["functionResponse"],h);const d=x(t,["inlineData"]);d!=null&&v(n,["inlineData"],d);const m=x(t,["text"]);return m!=null&&v(n,["text"],m),n}function TA(e,t){const n={},r=x(t,["videoMetadata"]);r!=null&&v(n,["videoMetadata"],r);const o=x(t,["thought"]);o!=null&&v(n,["thought"],o);const l=x(t,["codeExecutionResult"]);l!=null&&v(n,["codeExecutionResult"],l);const u=x(t,["executableCode"]);u!=null&&v(n,["executableCode"],u);const f=x(t,["fileData"]);f!=null&&v(n,["fileData"],f);const h=x(t,["functionCall"]);h!=null&&v(n,["functionCall"],h);const d=x(t,["functionResponse"]);d!=null&&v(n,["functionResponse"],d);const m=x(t,["inlineData"]);m!=null&&v(n,["inlineData"],m);const g=x(t,["text"]);return g!=null&&v(n,["text"],g),n}function SA(e,t){const n={},r=x(t,["parts"]);if(r!=null){let l=r;Array.isArray(l)&&(l=l.map(u=>bA(e,u))),v(n,["parts"],l)}const o=x(t,["role"]);return o!=null&&v(n,["role"],o),n}function CA(e,t){const n={},r=x(t,["parts"]);if(r!=null){let l=r;Array.isArray(l)&&(l=l.map(u=>TA(e,u))),v(n,["parts"],l)}const o=x(t,["role"]);return o!=null&&v(n,["role"],o),n}function wA(){return{}}function EA(){return{}}function AA(e,t){const n={},r=x(t,["mode"]);r!=null&&v(n,["mode"],r);const o=x(t,["dynamicThreshold"]);return o!=null&&v(n,["dynamicThreshold"],o),n}function MA(e,t){const n={},r=x(t,["mode"]);r!=null&&v(n,["mode"],r);const o=x(t,["dynamicThreshold"]);return o!=null&&v(n,["dynamicThreshold"],o),n}function kA(e,t){const n={},r=x(t,["dynamicRetrievalConfig"]);return r!=null&&v(n,["dynamicRetrievalConfig"],AA(e,r)),n}function DA(e,t){const n={},r=x(t,["dynamicRetrievalConfig"]);return r!=null&&v(n,["dynamicRetrievalConfig"],MA(e,r)),n}function NA(e,t){const n={};if(x(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");x(t,["googleSearch"])!=null&&v(n,["googleSearch"],wA());const o=x(t,["googleSearchRetrieval"]);o!=null&&v(n,["googleSearchRetrieval"],kA(e,o));const l=x(t,["codeExecution"]);l!=null&&v(n,["codeExecution"],l);const u=x(t,["functionDeclarations"]);return u!=null&&v(n,["functionDeclarations"],u),n}function RA(e,t){const n={},r=x(t,["retrieval"]);r!=null&&v(n,["retrieval"],r),x(t,["googleSearch"])!=null&&v(n,["googleSearch"],EA());const l=x(t,["googleSearchRetrieval"]);l!=null&&v(n,["googleSearchRetrieval"],DA(e,l));const u=x(t,["codeExecution"]);u!=null&&v(n,["codeExecution"],u);const f=x(t,["functionDeclarations"]);return f!=null&&v(n,["functionDeclarations"],f),n}function _A(e,t){const n={},r=x(t,["handle"]);if(r!=null&&v(n,["handle"],r),x(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return n}function IA(e,t){const n={},r=x(t,["handle"]);r!=null&&v(n,["handle"],r);const o=x(t,["transparent"]);return o!=null&&v(n,["transparent"],o),n}function PA(){return{}}function nx(){return{}}function LA(e,t){const n={},r=x(t,["disabled"]);r!=null&&v(n,["disabled"],r);const o=x(t,["startOfSpeechSensitivity"]);o!=null&&v(n,["startOfSpeechSensitivity"],o);const l=x(t,["endOfSpeechSensitivity"]);l!=null&&v(n,["endOfSpeechSensitivity"],l);const u=x(t,["prefixPaddingMs"]);u!=null&&v(n,["prefixPaddingMs"],u);const f=x(t,["silenceDurationMs"]);return f!=null&&v(n,["silenceDurationMs"],f),n}function VA(e,t){const n={},r=x(t,["disabled"]);r!=null&&v(n,["disabled"],r);const o=x(t,["startOfSpeechSensitivity"]);o!=null&&v(n,["startOfSpeechSensitivity"],o);const l=x(t,["endOfSpeechSensitivity"]);l!=null&&v(n,["endOfSpeechSensitivity"],l);const u=x(t,["prefixPaddingMs"]);u!=null&&v(n,["prefixPaddingMs"],u);const f=x(t,["silenceDurationMs"]);return f!=null&&v(n,["silenceDurationMs"],f),n}function BA(e,t){const n={},r=x(t,["automaticActivityDetection"]);r!=null&&v(n,["automaticActivityDetection"],LA(e,r));const o=x(t,["activityHandling"]);o!=null&&v(n,["activityHandling"],o);const l=x(t,["turnCoverage"]);return l!=null&&v(n,["turnCoverage"],l),n}function OA(e,t){const n={},r=x(t,["automaticActivityDetection"]);r!=null&&v(n,["automaticActivityDetection"],VA(e,r));const o=x(t,["activityHandling"]);o!=null&&v(n,["activityHandling"],o);const l=x(t,["turnCoverage"]);return l!=null&&v(n,["turnCoverage"],l),n}function jA(e,t){const n={},r=x(t,["targetTokens"]);return r!=null&&v(n,["targetTokens"],r),n}function UA(e,t){const n={},r=x(t,["targetTokens"]);return r!=null&&v(n,["targetTokens"],r),n}function zA(e,t){const n={},r=x(t,["triggerTokens"]);r!=null&&v(n,["triggerTokens"],r);const o=x(t,["slidingWindow"]);return o!=null&&v(n,["slidingWindow"],jA(e,o)),n}function FA(e,t){const n={},r=x(t,["triggerTokens"]);r!=null&&v(n,["triggerTokens"],r);const o=x(t,["slidingWindow"]);return o!=null&&v(n,["slidingWindow"],UA(e,o)),n}function HA(e,t,n){const r={},o=x(t,["generationConfig"]);n!==void 0&&o!=null&&v(n,["setup","generationConfig"],o);const l=x(t,["responseModalities"]);n!==void 0&&l!=null&&v(n,["setup","generationConfig","responseModalities"],l);const u=x(t,["temperature"]);n!==void 0&&u!=null&&v(n,["setup","generationConfig","temperature"],u);const f=x(t,["topP"]);n!==void 0&&f!=null&&v(n,["setup","generationConfig","topP"],f);const h=x(t,["topK"]);n!==void 0&&h!=null&&v(n,["setup","generationConfig","topK"],h);const d=x(t,["maxOutputTokens"]);n!==void 0&&d!=null&&v(n,["setup","generationConfig","maxOutputTokens"],d);const m=x(t,["mediaResolution"]);n!==void 0&&m!=null&&v(n,["setup","generationConfig","mediaResolution"],m);const g=x(t,["seed"]);n!==void 0&&g!=null&&v(n,["setup","generationConfig","seed"],g);const T=x(t,["speechConfig"]);n!==void 0&&T!=null&&v(n,["setup","generationConfig","speechConfig"],T);const S=x(t,["systemInstruction"]);n!==void 0&&S!=null&&v(n,["setup","systemInstruction"],SA(e,an(e,S)));const E=x(t,["tools"]);if(n!==void 0&&E!=null){let P=_u(e,E);Array.isArray(P)&&(P=P.map(z=>NA(e,Ru(e,z)))),v(n,["setup","tools"],P)}const k=x(t,["sessionResumption"]);if(n!==void 0&&k!=null&&v(n,["setup","sessionResumption"],_A(e,k)),x(t,["inputAudioTranscription"])!==void 0)throw new Error("inputAudioTranscription parameter is not supported in Gemini API.");const R=x(t,["outputAudioTranscription"]);n!==void 0&&R!=null&&v(n,["setup","outputAudioTranscription"],PA());const D=x(t,["realtimeInputConfig"]);n!==void 0&&D!=null&&v(n,["setup","realtimeInputConfig"],BA(e,D));const B=x(t,["contextWindowCompression"]);return n!==void 0&&B!=null&&v(n,["setup","contextWindowCompression"],zA(e,B)),r}function qA(e,t,n){const r={},o=x(t,["generationConfig"]);n!==void 0&&o!=null&&v(n,["setup","generationConfig"],o);const l=x(t,["responseModalities"]);n!==void 0&&l!=null&&v(n,["setup","generationConfig","responseModalities"],l);const u=x(t,["temperature"]);n!==void 0&&u!=null&&v(n,["setup","generationConfig","temperature"],u);const f=x(t,["topP"]);n!==void 0&&f!=null&&v(n,["setup","generationConfig","topP"],f);const h=x(t,["topK"]);n!==void 0&&h!=null&&v(n,["setup","generationConfig","topK"],h);const d=x(t,["maxOutputTokens"]);n!==void 0&&d!=null&&v(n,["setup","generationConfig","maxOutputTokens"],d);const m=x(t,["mediaResolution"]);n!==void 0&&m!=null&&v(n,["setup","generationConfig","mediaResolution"],m);const g=x(t,["seed"]);n!==void 0&&g!=null&&v(n,["setup","generationConfig","seed"],g);const T=x(t,["speechConfig"]);n!==void 0&&T!=null&&v(n,["setup","generationConfig","speechConfig"],T);const S=x(t,["systemInstruction"]);n!==void 0&&S!=null&&v(n,["setup","systemInstruction"],CA(e,an(e,S)));const E=x(t,["tools"]);if(n!==void 0&&E!=null){let z=_u(e,E);Array.isArray(z)&&(z=z.map(F=>RA(e,Ru(e,F)))),v(n,["setup","tools"],z)}const k=x(t,["sessionResumption"]);n!==void 0&&k!=null&&v(n,["setup","sessionResumption"],IA(e,k));const R=x(t,["inputAudioTranscription"]);n!==void 0&&R!=null&&v(n,["setup","inputAudioTranscription"],nx());const D=x(t,["outputAudioTranscription"]);n!==void 0&&D!=null&&v(n,["setup","outputAudioTranscription"],nx());const B=x(t,["realtimeInputConfig"]);n!==void 0&&B!=null&&v(n,["setup","realtimeInputConfig"],OA(e,B));const P=x(t,["contextWindowCompression"]);return n!==void 0&&P!=null&&v(n,["setup","contextWindowCompression"],FA(e,P)),r}function GA(e,t){const n={},r=x(t,["model"]);r!=null&&v(n,["setup","model"],mt(e,r));const o=x(t,["config"]);return o!=null&&v(n,["config"],HA(e,o,n)),n}function YA(e,t){const n={},r=x(t,["model"]);r!=null&&v(n,["setup","model"],mt(e,r));const o=x(t,["config"]);return o!=null&&v(n,["config"],qA(e,o,n)),n}function $A(){return{}}function KA(){return{}}function XA(){return{}}function QA(){return{}}function JA(e,t){const n={},r=x(t,["media"]);r!=null&&v(n,["mediaChunks"],jb(e,r));const o=x(t,["audio"]);o!=null&&v(n,["audio"],gE(e,o));const l=x(t,["audioStreamEnd"]);l!=null&&v(n,["audioStreamEnd"],l);const u=x(t,["video"]);u!=null&&v(n,["video"],pE(e,u));const f=x(t,["text"]);return f!=null&&v(n,["text"],f),x(t,["activityStart"])!=null&&v(n,["activityStart"],$A()),x(t,["activityEnd"])!=null&&v(n,["activityEnd"],XA()),n}function ZA(e,t){const n={},r=x(t,["media"]);if(r!=null&&v(n,["mediaChunks"],jb(e,r)),x(t,["audio"])!==void 0)throw new Error("audio parameter is not supported in Vertex AI.");const o=x(t,["audioStreamEnd"]);if(o!=null&&v(n,["audioStreamEnd"],o),x(t,["video"])!==void 0)throw new Error("video parameter is not supported in Vertex AI.");if(x(t,["text"])!==void 0)throw new Error("text parameter is not supported in Vertex AI.");return x(t,["activityStart"])!=null&&v(n,["activityStart"],KA()),x(t,["activityEnd"])!=null&&v(n,["activityEnd"],QA()),n}function WA(){return{}}function eM(){return{}}function tM(e,t){const n={},r=x(t,["thought"]);r!=null&&v(n,["thought"],r);const o=x(t,["codeExecutionResult"]);o!=null&&v(n,["codeExecutionResult"],o);const l=x(t,["executableCode"]);l!=null&&v(n,["executableCode"],l);const u=x(t,["fileData"]);u!=null&&v(n,["fileData"],u);const f=x(t,["functionCall"]);f!=null&&v(n,["functionCall"],f);const h=x(t,["functionResponse"]);h!=null&&v(n,["functionResponse"],h);const d=x(t,["inlineData"]);d!=null&&v(n,["inlineData"],d);const m=x(t,["text"]);return m!=null&&v(n,["text"],m),n}function nM(e,t){const n={},r=x(t,["videoMetadata"]);r!=null&&v(n,["videoMetadata"],r);const o=x(t,["thought"]);o!=null&&v(n,["thought"],o);const l=x(t,["codeExecutionResult"]);l!=null&&v(n,["codeExecutionResult"],l);const u=x(t,["executableCode"]);u!=null&&v(n,["executableCode"],u);const f=x(t,["fileData"]);f!=null&&v(n,["fileData"],f);const h=x(t,["functionCall"]);h!=null&&v(n,["functionCall"],h);const d=x(t,["functionResponse"]);d!=null&&v(n,["functionResponse"],d);const m=x(t,["inlineData"]);m!=null&&v(n,["inlineData"],m);const g=x(t,["text"]);return g!=null&&v(n,["text"],g),n}function iM(e,t){const n={},r=x(t,["parts"]);if(r!=null){let l=r;Array.isArray(l)&&(l=l.map(u=>tM(e,u))),v(n,["parts"],l)}const o=x(t,["role"]);return o!=null&&v(n,["role"],o),n}function rM(e,t){const n={},r=x(t,["parts"]);if(r!=null){let l=r;Array.isArray(l)&&(l=l.map(u=>nM(e,u))),v(n,["parts"],l)}const o=x(t,["role"]);return o!=null&&v(n,["role"],o),n}function ix(e,t){const n={},r=x(t,["text"]);r!=null&&v(n,["text"],r);const o=x(t,["finished"]);return o!=null&&v(n,["finished"],o),n}function rx(e,t){const n={},r=x(t,["text"]);r!=null&&v(n,["text"],r);const o=x(t,["finished"]);return o!=null&&v(n,["finished"],o),n}function aM(e,t){const n={},r=x(t,["modelTurn"]);r!=null&&v(n,["modelTurn"],iM(e,r));const o=x(t,["turnComplete"]);o!=null&&v(n,["turnComplete"],o);const l=x(t,["interrupted"]);l!=null&&v(n,["interrupted"],l);const u=x(t,["groundingMetadata"]);u!=null&&v(n,["groundingMetadata"],u);const f=x(t,["generationComplete"]);f!=null&&v(n,["generationComplete"],f);const h=x(t,["inputTranscription"]);h!=null&&v(n,["inputTranscription"],ix(e,h));const d=x(t,["outputTranscription"]);return d!=null&&v(n,["outputTranscription"],ix(e,d)),n}function oM(e,t){const n={},r=x(t,["modelTurn"]);r!=null&&v(n,["modelTurn"],rM(e,r));const o=x(t,["turnComplete"]);o!=null&&v(n,["turnComplete"],o);const l=x(t,["interrupted"]);l!=null&&v(n,["interrupted"],l);const u=x(t,["groundingMetadata"]);u!=null&&v(n,["groundingMetadata"],u);const f=x(t,["generationComplete"]);f!=null&&v(n,["generationComplete"],f);const h=x(t,["inputTranscription"]);h!=null&&v(n,["inputTranscription"],rx(e,h));const d=x(t,["outputTranscription"]);return d!=null&&v(n,["outputTranscription"],rx(e,d)),n}function sM(e,t){const n={},r=x(t,["id"]);r!=null&&v(n,["id"],r);const o=x(t,["args"]);o!=null&&v(n,["args"],o);const l=x(t,["name"]);return l!=null&&v(n,["name"],l),n}function lM(e,t){const n={},r=x(t,["args"]);r!=null&&v(n,["args"],r);const o=x(t,["name"]);return o!=null&&v(n,["name"],o),n}function uM(e,t){const n={},r=x(t,["functionCalls"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(l=>sM(e,l))),v(n,["functionCalls"],o)}return n}function cM(e,t){const n={},r=x(t,["functionCalls"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(l=>lM(e,l))),v(n,["functionCalls"],o)}return n}function fM(e,t){const n={},r=x(t,["ids"]);return r!=null&&v(n,["ids"],r),n}function dM(e,t){const n={},r=x(t,["ids"]);return r!=null&&v(n,["ids"],r),n}function Kl(e,t){const n={},r=x(t,["modality"]);r!=null&&v(n,["modality"],r);const o=x(t,["tokenCount"]);return o!=null&&v(n,["tokenCount"],o),n}function Xl(e,t){const n={},r=x(t,["modality"]);r!=null&&v(n,["modality"],r);const o=x(t,["tokenCount"]);return o!=null&&v(n,["tokenCount"],o),n}function hM(e,t){const n={},r=x(t,["promptTokenCount"]);r!=null&&v(n,["promptTokenCount"],r);const o=x(t,["cachedContentTokenCount"]);o!=null&&v(n,["cachedContentTokenCount"],o);const l=x(t,["responseTokenCount"]);l!=null&&v(n,["responseTokenCount"],l);const u=x(t,["toolUsePromptTokenCount"]);u!=null&&v(n,["toolUsePromptTokenCount"],u);const f=x(t,["thoughtsTokenCount"]);f!=null&&v(n,["thoughtsTokenCount"],f);const h=x(t,["totalTokenCount"]);h!=null&&v(n,["totalTokenCount"],h);const d=x(t,["promptTokensDetails"]);if(d!=null){let S=d;Array.isArray(S)&&(S=S.map(E=>Kl(e,E))),v(n,["promptTokensDetails"],S)}const m=x(t,["cacheTokensDetails"]);if(m!=null){let S=m;Array.isArray(S)&&(S=S.map(E=>Kl(e,E))),v(n,["cacheTokensDetails"],S)}const g=x(t,["responseTokensDetails"]);if(g!=null){let S=g;Array.isArray(S)&&(S=S.map(E=>Kl(e,E))),v(n,["responseTokensDetails"],S)}const T=x(t,["toolUsePromptTokensDetails"]);if(T!=null){let S=T;Array.isArray(S)&&(S=S.map(E=>Kl(e,E))),v(n,["toolUsePromptTokensDetails"],S)}return n}function mM(e,t){const n={},r=x(t,["promptTokenCount"]);r!=null&&v(n,["promptTokenCount"],r);const o=x(t,["cachedContentTokenCount"]);o!=null&&v(n,["cachedContentTokenCount"],o);const l=x(t,["candidatesTokenCount"]);l!=null&&v(n,["responseTokenCount"],l);const u=x(t,["toolUsePromptTokenCount"]);u!=null&&v(n,["toolUsePromptTokenCount"],u);const f=x(t,["thoughtsTokenCount"]);f!=null&&v(n,["thoughtsTokenCount"],f);const h=x(t,["totalTokenCount"]);h!=null&&v(n,["totalTokenCount"],h);const d=x(t,["promptTokensDetails"]);if(d!=null){let E=d;Array.isArray(E)&&(E=E.map(k=>Xl(e,k))),v(n,["promptTokensDetails"],E)}const m=x(t,["cacheTokensDetails"]);if(m!=null){let E=m;Array.isArray(E)&&(E=E.map(k=>Xl(e,k))),v(n,["cacheTokensDetails"],E)}const g=x(t,["candidatesTokensDetails"]);if(g!=null){let E=g;Array.isArray(E)&&(E=E.map(k=>Xl(e,k))),v(n,["responseTokensDetails"],E)}const T=x(t,["toolUsePromptTokensDetails"]);if(T!=null){let E=T;Array.isArray(E)&&(E=E.map(k=>Xl(e,k))),v(n,["toolUsePromptTokensDetails"],E)}const S=x(t,["trafficType"]);return S!=null&&v(n,["trafficType"],S),n}function pM(e,t){const n={},r=x(t,["timeLeft"]);return r!=null&&v(n,["timeLeft"],r),n}function gM(e,t){const n={},r=x(t,["timeLeft"]);return r!=null&&v(n,["timeLeft"],r),n}function yM(e,t){const n={},r=x(t,["newHandle"]);r!=null&&v(n,["newHandle"],r);const o=x(t,["resumable"]);o!=null&&v(n,["resumable"],o);const l=x(t,["lastConsumedClientMessageIndex"]);return l!=null&&v(n,["lastConsumedClientMessageIndex"],l),n}function xM(e,t){const n={},r=x(t,["newHandle"]);r!=null&&v(n,["newHandle"],r);const o=x(t,["resumable"]);o!=null&&v(n,["resumable"],o);const l=x(t,["lastConsumedClientMessageIndex"]);return l!=null&&v(n,["lastConsumedClientMessageIndex"],l),n}function vM(e,t){const n={};x(t,["setupComplete"])!=null&&v(n,["setupComplete"],WA());const o=x(t,["serverContent"]);o!=null&&v(n,["serverContent"],aM(e,o));const l=x(t,["toolCall"]);l!=null&&v(n,["toolCall"],uM(e,l));const u=x(t,["toolCallCancellation"]);u!=null&&v(n,["toolCallCancellation"],fM(e,u));const f=x(t,["usageMetadata"]);f!=null&&v(n,["usageMetadata"],hM(e,f));const h=x(t,["goAway"]);h!=null&&v(n,["goAway"],pM(e,h));const d=x(t,["sessionResumptionUpdate"]);return d!=null&&v(n,["sessionResumptionUpdate"],yM(e,d)),n}function bM(e,t){const n={};x(t,["setupComplete"])!=null&&v(n,["setupComplete"],eM());const o=x(t,["serverContent"]);o!=null&&v(n,["serverContent"],oM(e,o));const l=x(t,["toolCall"]);l!=null&&v(n,["toolCall"],cM(e,l));const u=x(t,["toolCallCancellation"]);u!=null&&v(n,["toolCallCancellation"],dM(e,u));const f=x(t,["usageMetadata"]);f!=null&&v(n,["usageMetadata"],mM(e,f));const h=x(t,["goAway"]);h!=null&&v(n,["goAway"],gM(e,h));const d=x(t,["sessionResumptionUpdate"]);return d!=null&&v(n,["sessionResumptionUpdate"],xM(e,d)),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function TM(e,t){const n={};if(x(t,["videoMetadata"])!==void 0)throw new Error("videoMetadata parameter is not supported in Gemini API.");const r=x(t,["thought"]);r!=null&&v(n,["thought"],r);const o=x(t,["codeExecutionResult"]);o!=null&&v(n,["codeExecutionResult"],o);const l=x(t,["executableCode"]);l!=null&&v(n,["executableCode"],l);const u=x(t,["fileData"]);u!=null&&v(n,["fileData"],u);const f=x(t,["functionCall"]);f!=null&&v(n,["functionCall"],f);const h=x(t,["functionResponse"]);h!=null&&v(n,["functionResponse"],h);const d=x(t,["inlineData"]);d!=null&&v(n,["inlineData"],d);const m=x(t,["text"]);return m!=null&&v(n,["text"],m),n}function Iu(e,t){const n={},r=x(t,["parts"]);if(r!=null){let l=r;Array.isArray(l)&&(l=l.map(u=>TM(e,u))),v(n,["parts"],l)}const o=x(t,["role"]);return o!=null&&v(n,["role"],o),n}function SM(e,t){const n={};if(x(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const r=x(t,["category"]);r!=null&&v(n,["category"],r);const o=x(t,["threshold"]);return o!=null&&v(n,["threshold"],o),n}function CM(){return{}}function wM(e,t){const n={},r=x(t,["mode"]);r!=null&&v(n,["mode"],r);const o=x(t,["dynamicThreshold"]);return o!=null&&v(n,["dynamicThreshold"],o),n}function EM(e,t){const n={},r=x(t,["dynamicRetrievalConfig"]);return r!=null&&v(n,["dynamicRetrievalConfig"],wM(e,r)),n}function AM(e,t){const n={};if(x(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");x(t,["googleSearch"])!=null&&v(n,["googleSearch"],CM());const o=x(t,["googleSearchRetrieval"]);o!=null&&v(n,["googleSearchRetrieval"],EM(e,o));const l=x(t,["codeExecution"]);l!=null&&v(n,["codeExecution"],l);const u=x(t,["functionDeclarations"]);return u!=null&&v(n,["functionDeclarations"],u),n}function MM(e,t){const n={},r=x(t,["mode"]);r!=null&&v(n,["mode"],r);const o=x(t,["allowedFunctionNames"]);return o!=null&&v(n,["allowedFunctionNames"],o),n}function kM(e,t){const n={},r=x(t,["functionCallingConfig"]);return r!=null&&v(n,["functionCallingConfig"],MM(e,r)),n}function DM(e,t){const n={},r=x(t,["voiceName"]);return r!=null&&v(n,["voiceName"],r),n}function NM(e,t){const n={},r=x(t,["prebuiltVoiceConfig"]);return r!=null&&v(n,["prebuiltVoiceConfig"],DM(e,r)),n}function RM(e,t){const n={},r=x(t,["voiceConfig"]);r!=null&&v(n,["voiceConfig"],NM(e,r));const o=x(t,["languageCode"]);return o!=null&&v(n,["languageCode"],o),n}function _M(e,t){const n={},r=x(t,["includeThoughts"]);r!=null&&v(n,["includeThoughts"],r);const o=x(t,["thinkingBudget"]);return o!=null&&v(n,["thinkingBudget"],o),n}function IM(e,t,n){const r={},o=x(t,["systemInstruction"]);n!==void 0&&o!=null&&v(n,["systemInstruction"],Iu(e,an(e,o)));const l=x(t,["temperature"]);l!=null&&v(r,["temperature"],l);const u=x(t,["topP"]);u!=null&&v(r,["topP"],u);const f=x(t,["topK"]);f!=null&&v(r,["topK"],f);const h=x(t,["candidateCount"]);h!=null&&v(r,["candidateCount"],h);const d=x(t,["maxOutputTokens"]);d!=null&&v(r,["maxOutputTokens"],d);const m=x(t,["stopSequences"]);m!=null&&v(r,["stopSequences"],m);const g=x(t,["responseLogprobs"]);g!=null&&v(r,["responseLogprobs"],g);const T=x(t,["logprobs"]);T!=null&&v(r,["logprobs"],T);const S=x(t,["presencePenalty"]);S!=null&&v(r,["presencePenalty"],S);const E=x(t,["frequencyPenalty"]);E!=null&&v(r,["frequencyPenalty"],E);const k=x(t,["seed"]);k!=null&&v(r,["seed"],k);const R=x(t,["responseMimeType"]);R!=null&&v(r,["responseMimeType"],R);const D=x(t,["responseSchema"]);if(D!=null&&v(r,["responseSchema"],Fb(e,D)),x(t,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(x(t,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const B=x(t,["safetySettings"]);if(n!==void 0&&B!=null){let L=B;Array.isArray(L)&&(L=L.map(oe=>SM(e,oe))),v(n,["safetySettings"],L)}const P=x(t,["tools"]);if(n!==void 0&&P!=null){let L=_u(e,P);Array.isArray(L)&&(L=L.map(oe=>AM(e,Ru(e,oe)))),v(n,["tools"],L)}const z=x(t,["toolConfig"]);if(n!==void 0&&z!=null&&v(n,["toolConfig"],kM(e,z)),x(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const F=x(t,["cachedContent"]);n!==void 0&&F!=null&&v(n,["cachedContent"],ar(e,F));const H=x(t,["responseModalities"]);H!=null&&v(r,["responseModalities"],H);const se=x(t,["mediaResolution"]);se!=null&&v(r,["mediaResolution"],se);const ae=x(t,["speechConfig"]);if(ae!=null&&v(r,["speechConfig"],RM(e,Hb(e,ae))),x(t,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const pe=x(t,["thinkingConfig"]);return pe!=null&&v(r,["thinkingConfig"],_M(e,pe)),r}function ax(e,t){const n={},r=x(t,["model"]);r!=null&&v(n,["_url","model"],mt(e,r));const o=x(t,["contents"]);if(o!=null){let u=rr(e,o);Array.isArray(u)&&(u=u.map(f=>Iu(e,f))),v(n,["contents"],u)}const l=x(t,["config"]);return l!=null&&v(n,["generationConfig"],IM(e,l,n)),n}function PM(e,t,n){const r={},o=x(t,["taskType"]);n!==void 0&&o!=null&&v(n,["requests[]","taskType"],o);const l=x(t,["title"]);n!==void 0&&l!=null&&v(n,["requests[]","title"],l);const u=x(t,["outputDimensionality"]);if(n!==void 0&&u!=null&&v(n,["requests[]","outputDimensionality"],u),x(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(x(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return r}function LM(e,t){const n={},r=x(t,["model"]);r!=null&&v(n,["_url","model"],mt(e,r));const o=x(t,["contents"]);o!=null&&v(n,["requests[]","content"],zb(e,o));const l=x(t,["config"]);l!=null&&v(n,["config"],PM(e,l,n));const u=x(t,["model"]);return u!==void 0&&v(n,["requests[]","model"],mt(e,u)),n}function VM(e,t,n){const r={};if(x(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(x(t,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const o=x(t,["numberOfImages"]);n!==void 0&&o!=null&&v(n,["parameters","sampleCount"],o);const l=x(t,["aspectRatio"]);n!==void 0&&l!=null&&v(n,["parameters","aspectRatio"],l);const u=x(t,["guidanceScale"]);if(n!==void 0&&u!=null&&v(n,["parameters","guidanceScale"],u),x(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const f=x(t,["safetyFilterLevel"]);n!==void 0&&f!=null&&v(n,["parameters","safetySetting"],f);const h=x(t,["personGeneration"]);n!==void 0&&h!=null&&v(n,["parameters","personGeneration"],h);const d=x(t,["includeSafetyAttributes"]);n!==void 0&&d!=null&&v(n,["parameters","includeSafetyAttributes"],d);const m=x(t,["includeRaiReason"]);n!==void 0&&m!=null&&v(n,["parameters","includeRaiReason"],m);const g=x(t,["language"]);n!==void 0&&g!=null&&v(n,["parameters","language"],g);const T=x(t,["outputMimeType"]);n!==void 0&&T!=null&&v(n,["parameters","outputOptions","mimeType"],T);const S=x(t,["outputCompressionQuality"]);if(n!==void 0&&S!=null&&v(n,["parameters","outputOptions","compressionQuality"],S),x(t,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(x(t,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return r}function BM(e,t){const n={},r=x(t,["model"]);r!=null&&v(n,["_url","model"],mt(e,r));const o=x(t,["prompt"]);o!=null&&v(n,["instances[0]","prompt"],o);const l=x(t,["config"]);return l!=null&&v(n,["config"],VM(e,l,n)),n}function OM(e,t){const n={},r=x(t,["model"]);r!=null&&v(n,["_url","name"],mt(e,r));const o=x(t,["config"]);return o!=null&&v(n,["config"],o),n}function jM(e,t,n){const r={},o=x(t,["displayName"]);n!==void 0&&o!=null&&v(n,["displayName"],o);const l=x(t,["description"]);return n!==void 0&&l!=null&&v(n,["description"],l),r}function UM(e,t){const n={},r=x(t,["model"]);r!=null&&v(n,["_url","name"],mt(e,r));const o=x(t,["config"]);return o!=null&&v(n,["config"],jM(e,o,n)),n}function zM(e,t){const n={},r=x(t,["model"]);r!=null&&v(n,["_url","name"],mt(e,r));const o=x(t,["config"]);return o!=null&&v(n,["config"],o),n}function FM(e,t){const n={};if(x(t,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(x(t,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(x(t,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return n}function HM(e,t){const n={},r=x(t,["model"]);r!=null&&v(n,["_url","model"],mt(e,r));const o=x(t,["contents"]);if(o!=null){let u=rr(e,o);Array.isArray(u)&&(u=u.map(f=>Iu(e,f))),v(n,["contents"],u)}const l=x(t,["config"]);return l!=null&&v(n,["config"],FM(e,l)),n}function qM(e,t){const n={};if(x(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const r=x(t,["imageBytes"]);r!=null&&v(n,["bytesBase64Encoded"],or(e,r));const o=x(t,["mimeType"]);return o!=null&&v(n,["mimeType"],o),n}function GM(e,t,n){const r={},o=x(t,["numberOfVideos"]);if(n!==void 0&&o!=null&&v(n,["parameters","sampleCount"],o),x(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(x(t,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const l=x(t,["durationSeconds"]);if(n!==void 0&&l!=null&&v(n,["parameters","durationSeconds"],l),x(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const u=x(t,["aspectRatio"]);if(n!==void 0&&u!=null&&v(n,["parameters","aspectRatio"],u),x(t,["resolution"])!==void 0)throw new Error("resolution parameter is not supported in Gemini API.");const f=x(t,["personGeneration"]);if(n!==void 0&&f!=null&&v(n,["parameters","personGeneration"],f),x(t,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const h=x(t,["negativePrompt"]);if(n!==void 0&&h!=null&&v(n,["parameters","negativePrompt"],h),x(t,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return r}function YM(e,t){const n={},r=x(t,["model"]);r!=null&&v(n,["_url","model"],mt(e,r));const o=x(t,["prompt"]);o!=null&&v(n,["instances[0]","prompt"],o);const l=x(t,["image"]);l!=null&&v(n,["instances[0]","image"],qM(e,l));const u=x(t,["config"]);return u!=null&&v(n,["config"],GM(e,u,n)),n}function $M(e,t){const n={},r=x(t,["videoMetadata"]);r!=null&&v(n,["videoMetadata"],r);const o=x(t,["thought"]);o!=null&&v(n,["thought"],o);const l=x(t,["codeExecutionResult"]);l!=null&&v(n,["codeExecutionResult"],l);const u=x(t,["executableCode"]);u!=null&&v(n,["executableCode"],u);const f=x(t,["fileData"]);f!=null&&v(n,["fileData"],f);const h=x(t,["functionCall"]);h!=null&&v(n,["functionCall"],h);const d=x(t,["functionResponse"]);d!=null&&v(n,["functionResponse"],d);const m=x(t,["inlineData"]);m!=null&&v(n,["inlineData"],m);const g=x(t,["text"]);return g!=null&&v(n,["text"],g),n}function Ha(e,t){const n={},r=x(t,["parts"]);if(r!=null){let l=r;Array.isArray(l)&&(l=l.map(u=>$M(e,u))),v(n,["parts"],l)}const o=x(t,["role"]);return o!=null&&v(n,["role"],o),n}function KM(e,t){const n={},r=x(t,["featureSelectionPreference"]);return r!=null&&v(n,["featureSelectionPreference"],r),n}function XM(e,t){const n={},r=x(t,["method"]);r!=null&&v(n,["method"],r);const o=x(t,["category"]);o!=null&&v(n,["category"],o);const l=x(t,["threshold"]);return l!=null&&v(n,["threshold"],l),n}function QM(){return{}}function JM(e,t){const n={},r=x(t,["mode"]);r!=null&&v(n,["mode"],r);const o=x(t,["dynamicThreshold"]);return o!=null&&v(n,["dynamicThreshold"],o),n}function ZM(e,t){const n={},r=x(t,["dynamicRetrievalConfig"]);return r!=null&&v(n,["dynamicRetrievalConfig"],JM(e,r)),n}function $b(e,t){const n={},r=x(t,["retrieval"]);r!=null&&v(n,["retrieval"],r),x(t,["googleSearch"])!=null&&v(n,["googleSearch"],QM());const l=x(t,["googleSearchRetrieval"]);l!=null&&v(n,["googleSearchRetrieval"],ZM(e,l));const u=x(t,["codeExecution"]);u!=null&&v(n,["codeExecution"],u);const f=x(t,["functionDeclarations"]);return f!=null&&v(n,["functionDeclarations"],f),n}function WM(e,t){const n={},r=x(t,["mode"]);r!=null&&v(n,["mode"],r);const o=x(t,["allowedFunctionNames"]);return o!=null&&v(n,["allowedFunctionNames"],o),n}function ek(e,t){const n={},r=x(t,["functionCallingConfig"]);return r!=null&&v(n,["functionCallingConfig"],WM(e,r)),n}function tk(e,t){const n={},r=x(t,["voiceName"]);return r!=null&&v(n,["voiceName"],r),n}function nk(e,t){const n={},r=x(t,["prebuiltVoiceConfig"]);return r!=null&&v(n,["prebuiltVoiceConfig"],tk(e,r)),n}function ik(e,t){const n={},r=x(t,["voiceConfig"]);r!=null&&v(n,["voiceConfig"],nk(e,r));const o=x(t,["languageCode"]);return o!=null&&v(n,["languageCode"],o),n}function rk(e,t){const n={},r=x(t,["includeThoughts"]);r!=null&&v(n,["includeThoughts"],r);const o=x(t,["thinkingBudget"]);return o!=null&&v(n,["thinkingBudget"],o),n}function ak(e,t,n){const r={},o=x(t,["systemInstruction"]);n!==void 0&&o!=null&&v(n,["systemInstruction"],Ha(e,an(e,o)));const l=x(t,["temperature"]);l!=null&&v(r,["temperature"],l);const u=x(t,["topP"]);u!=null&&v(r,["topP"],u);const f=x(t,["topK"]);f!=null&&v(r,["topK"],f);const h=x(t,["candidateCount"]);h!=null&&v(r,["candidateCount"],h);const d=x(t,["maxOutputTokens"]);d!=null&&v(r,["maxOutputTokens"],d);const m=x(t,["stopSequences"]);m!=null&&v(r,["stopSequences"],m);const g=x(t,["responseLogprobs"]);g!=null&&v(r,["responseLogprobs"],g);const T=x(t,["logprobs"]);T!=null&&v(r,["logprobs"],T);const S=x(t,["presencePenalty"]);S!=null&&v(r,["presencePenalty"],S);const E=x(t,["frequencyPenalty"]);E!=null&&v(r,["frequencyPenalty"],E);const k=x(t,["seed"]);k!=null&&v(r,["seed"],k);const R=x(t,["responseMimeType"]);R!=null&&v(r,["responseMimeType"],R);const D=x(t,["responseSchema"]);D!=null&&v(r,["responseSchema"],Fb(e,D));const B=x(t,["routingConfig"]);B!=null&&v(r,["routingConfig"],B);const P=x(t,["modelSelectionConfig"]);P!=null&&v(r,["modelConfig"],KM(e,P));const z=x(t,["safetySettings"]);if(n!==void 0&&z!=null){let ue=z;Array.isArray(ue)&&(ue=ue.map(me=>XM(e,me))),v(n,["safetySettings"],ue)}const F=x(t,["tools"]);if(n!==void 0&&F!=null){let ue=_u(e,F);Array.isArray(ue)&&(ue=ue.map(me=>$b(e,Ru(e,me)))),v(n,["tools"],ue)}const H=x(t,["toolConfig"]);n!==void 0&&H!=null&&v(n,["toolConfig"],ek(e,H));const se=x(t,["labels"]);n!==void 0&&se!=null&&v(n,["labels"],se);const ae=x(t,["cachedContent"]);n!==void 0&&ae!=null&&v(n,["cachedContent"],ar(e,ae));const pe=x(t,["responseModalities"]);pe!=null&&v(r,["responseModalities"],pe);const L=x(t,["mediaResolution"]);L!=null&&v(r,["mediaResolution"],L);const oe=x(t,["speechConfig"]);oe!=null&&v(r,["speechConfig"],ik(e,Hb(e,oe)));const he=x(t,["audioTimestamp"]);he!=null&&v(r,["audioTimestamp"],he);const fe=x(t,["thinkingConfig"]);return fe!=null&&v(r,["thinkingConfig"],rk(e,fe)),r}function ox(e,t){const n={},r=x(t,["model"]);r!=null&&v(n,["_url","model"],mt(e,r));const o=x(t,["contents"]);if(o!=null){let u=rr(e,o);Array.isArray(u)&&(u=u.map(f=>Ha(e,f))),v(n,["contents"],u)}const l=x(t,["config"]);return l!=null&&v(n,["generationConfig"],ak(e,l,n)),n}function ok(e,t,n){const r={},o=x(t,["taskType"]);n!==void 0&&o!=null&&v(n,["instances[]","task_type"],o);const l=x(t,["title"]);n!==void 0&&l!=null&&v(n,["instances[]","title"],l);const u=x(t,["outputDimensionality"]);n!==void 0&&u!=null&&v(n,["parameters","outputDimensionality"],u);const f=x(t,["mimeType"]);n!==void 0&&f!=null&&v(n,["instances[]","mimeType"],f);const h=x(t,["autoTruncate"]);return n!==void 0&&h!=null&&v(n,["parameters","autoTruncate"],h),r}function sk(e,t){const n={},r=x(t,["model"]);r!=null&&v(n,["_url","model"],mt(e,r));const o=x(t,["contents"]);o!=null&&v(n,["instances[]","content"],zb(e,o));const l=x(t,["config"]);return l!=null&&v(n,["config"],ok(e,l,n)),n}function lk(e,t,n){const r={},o=x(t,["outputGcsUri"]);n!==void 0&&o!=null&&v(n,["parameters","storageUri"],o);const l=x(t,["negativePrompt"]);n!==void 0&&l!=null&&v(n,["parameters","negativePrompt"],l);const u=x(t,["numberOfImages"]);n!==void 0&&u!=null&&v(n,["parameters","sampleCount"],u);const f=x(t,["aspectRatio"]);n!==void 0&&f!=null&&v(n,["parameters","aspectRatio"],f);const h=x(t,["guidanceScale"]);n!==void 0&&h!=null&&v(n,["parameters","guidanceScale"],h);const d=x(t,["seed"]);n!==void 0&&d!=null&&v(n,["parameters","seed"],d);const m=x(t,["safetyFilterLevel"]);n!==void 0&&m!=null&&v(n,["parameters","safetySetting"],m);const g=x(t,["personGeneration"]);n!==void 0&&g!=null&&v(n,["parameters","personGeneration"],g);const T=x(t,["includeSafetyAttributes"]);n!==void 0&&T!=null&&v(n,["parameters","includeSafetyAttributes"],T);const S=x(t,["includeRaiReason"]);n!==void 0&&S!=null&&v(n,["parameters","includeRaiReason"],S);const E=x(t,["language"]);n!==void 0&&E!=null&&v(n,["parameters","language"],E);const k=x(t,["outputMimeType"]);n!==void 0&&k!=null&&v(n,["parameters","outputOptions","mimeType"],k);const R=x(t,["outputCompressionQuality"]);n!==void 0&&R!=null&&v(n,["parameters","outputOptions","compressionQuality"],R);const D=x(t,["addWatermark"]);n!==void 0&&D!=null&&v(n,["parameters","addWatermark"],D);const B=x(t,["enhancePrompt"]);return n!==void 0&&B!=null&&v(n,["parameters","enhancePrompt"],B),r}function uk(e,t){const n={},r=x(t,["model"]);r!=null&&v(n,["_url","model"],mt(e,r));const o=x(t,["prompt"]);o!=null&&v(n,["instances[0]","prompt"],o);const l=x(t,["config"]);return l!=null&&v(n,["config"],lk(e,l,n)),n}function ck(e,t){const n={},r=x(t,["model"]);r!=null&&v(n,["_url","name"],mt(e,r));const o=x(t,["config"]);return o!=null&&v(n,["config"],o),n}function fk(e,t,n){const r={},o=x(t,["displayName"]);n!==void 0&&o!=null&&v(n,["displayName"],o);const l=x(t,["description"]);return n!==void 0&&l!=null&&v(n,["description"],l),r}function dk(e,t){const n={},r=x(t,["model"]);r!=null&&v(n,["_url","model"],mt(e,r));const o=x(t,["config"]);return o!=null&&v(n,["config"],fk(e,o,n)),n}function hk(e,t){const n={},r=x(t,["model"]);r!=null&&v(n,["_url","name"],mt(e,r));const o=x(t,["config"]);return o!=null&&v(n,["config"],o),n}function mk(e,t,n){const r={},o=x(t,["systemInstruction"]);n!==void 0&&o!=null&&v(n,["systemInstruction"],Ha(e,an(e,o)));const l=x(t,["tools"]);if(n!==void 0&&l!=null){let f=l;Array.isArray(f)&&(f=f.map(h=>$b(e,h))),v(n,["tools"],f)}const u=x(t,["generationConfig"]);return n!==void 0&&u!=null&&v(n,["generationConfig"],u),r}function pk(e,t){const n={},r=x(t,["model"]);r!=null&&v(n,["_url","model"],mt(e,r));const o=x(t,["contents"]);if(o!=null){let u=rr(e,o);Array.isArray(u)&&(u=u.map(f=>Ha(e,f))),v(n,["contents"],u)}const l=x(t,["config"]);return l!=null&&v(n,["config"],mk(e,l,n)),n}function gk(e,t){const n={},r=x(t,["model"]);r!=null&&v(n,["_url","model"],mt(e,r));const o=x(t,["contents"]);if(o!=null){let u=rr(e,o);Array.isArray(u)&&(u=u.map(f=>Ha(e,f))),v(n,["contents"],u)}const l=x(t,["config"]);return l!=null&&v(n,["config"],l),n}function yk(e,t){const n={},r=x(t,["gcsUri"]);r!=null&&v(n,["gcsUri"],r);const o=x(t,["imageBytes"]);o!=null&&v(n,["bytesBase64Encoded"],or(e,o));const l=x(t,["mimeType"]);return l!=null&&v(n,["mimeType"],l),n}function xk(e,t,n){const r={},o=x(t,["numberOfVideos"]);n!==void 0&&o!=null&&v(n,["parameters","sampleCount"],o);const l=x(t,["outputGcsUri"]);n!==void 0&&l!=null&&v(n,["parameters","storageUri"],l);const u=x(t,["fps"]);n!==void 0&&u!=null&&v(n,["parameters","fps"],u);const f=x(t,["durationSeconds"]);n!==void 0&&f!=null&&v(n,["parameters","durationSeconds"],f);const h=x(t,["seed"]);n!==void 0&&h!=null&&v(n,["parameters","seed"],h);const d=x(t,["aspectRatio"]);n!==void 0&&d!=null&&v(n,["parameters","aspectRatio"],d);const m=x(t,["resolution"]);n!==void 0&&m!=null&&v(n,["parameters","resolution"],m);const g=x(t,["personGeneration"]);n!==void 0&&g!=null&&v(n,["parameters","personGeneration"],g);const T=x(t,["pubsubTopic"]);n!==void 0&&T!=null&&v(n,["parameters","pubsubTopic"],T);const S=x(t,["negativePrompt"]);n!==void 0&&S!=null&&v(n,["parameters","negativePrompt"],S);const E=x(t,["enhancePrompt"]);return n!==void 0&&E!=null&&v(n,["parameters","enhancePrompt"],E),r}function vk(e,t){const n={},r=x(t,["model"]);r!=null&&v(n,["_url","model"],mt(e,r));const o=x(t,["prompt"]);o!=null&&v(n,["instances[0]","prompt"],o);const l=x(t,["image"]);l!=null&&v(n,["instances[0]","image"],yk(e,l));const u=x(t,["config"]);return u!=null&&v(n,["config"],xk(e,u,n)),n}function bk(e,t){const n={},r=x(t,["thought"]);r!=null&&v(n,["thought"],r);const o=x(t,["codeExecutionResult"]);o!=null&&v(n,["codeExecutionResult"],o);const l=x(t,["executableCode"]);l!=null&&v(n,["executableCode"],l);const u=x(t,["fileData"]);u!=null&&v(n,["fileData"],u);const f=x(t,["functionCall"]);f!=null&&v(n,["functionCall"],f);const h=x(t,["functionResponse"]);h!=null&&v(n,["functionResponse"],h);const d=x(t,["inlineData"]);d!=null&&v(n,["inlineData"],d);const m=x(t,["text"]);return m!=null&&v(n,["text"],m),n}function Tk(e,t){const n={},r=x(t,["parts"]);if(r!=null){let l=r;Array.isArray(l)&&(l=l.map(u=>bk(e,u))),v(n,["parts"],l)}const o=x(t,["role"]);return o!=null&&v(n,["role"],o),n}function Sk(e,t){const n={},r=x(t,["citationSources"]);return r!=null&&v(n,["citations"],r),n}function Ck(e,t){const n={},r=x(t,["content"]);r!=null&&v(n,["content"],Tk(e,r));const o=x(t,["citationMetadata"]);o!=null&&v(n,["citationMetadata"],Sk(e,o));const l=x(t,["tokenCount"]);l!=null&&v(n,["tokenCount"],l);const u=x(t,["finishReason"]);u!=null&&v(n,["finishReason"],u);const f=x(t,["avgLogprobs"]);f!=null&&v(n,["avgLogprobs"],f);const h=x(t,["groundingMetadata"]);h!=null&&v(n,["groundingMetadata"],h);const d=x(t,["index"]);d!=null&&v(n,["index"],d);const m=x(t,["logprobsResult"]);m!=null&&v(n,["logprobsResult"],m);const g=x(t,["safetyRatings"]);return g!=null&&v(n,["safetyRatings"],g),n}function sx(e,t){const n={},r=x(t,["candidates"]);if(r!=null){let f=r;Array.isArray(f)&&(f=f.map(h=>Ck(e,h))),v(n,["candidates"],f)}const o=x(t,["modelVersion"]);o!=null&&v(n,["modelVersion"],o);const l=x(t,["promptFeedback"]);l!=null&&v(n,["promptFeedback"],l);const u=x(t,["usageMetadata"]);return u!=null&&v(n,["usageMetadata"],u),n}function wk(e,t){const n={},r=x(t,["values"]);return r!=null&&v(n,["values"],r),n}function Ek(){return{}}function Ak(e,t){const n={},r=x(t,["embeddings"]);if(r!=null){let l=r;Array.isArray(l)&&(l=l.map(u=>wk(e,u))),v(n,["embeddings"],l)}return x(t,["metadata"])!=null&&v(n,["metadata"],Ek()),n}function Mk(e,t){const n={},r=x(t,["bytesBase64Encoded"]);r!=null&&v(n,["imageBytes"],or(e,r));const o=x(t,["mimeType"]);return o!=null&&v(n,["mimeType"],o),n}function Kb(e,t){const n={},r=x(t,["safetyAttributes","categories"]);r!=null&&v(n,["categories"],r);const o=x(t,["safetyAttributes","scores"]);o!=null&&v(n,["scores"],o);const l=x(t,["contentType"]);return l!=null&&v(n,["contentType"],l),n}function kk(e,t){const n={},r=x(t,["_self"]);r!=null&&v(n,["image"],Mk(e,r));const o=x(t,["raiFilteredReason"]);o!=null&&v(n,["raiFilteredReason"],o);const l=x(t,["_self"]);return l!=null&&v(n,["safetyAttributes"],Kb(e,l)),n}function Dk(e,t){const n={},r=x(t,["predictions"]);if(r!=null){let l=r;Array.isArray(l)&&(l=l.map(u=>kk(e,u))),v(n,["generatedImages"],l)}const o=x(t,["positivePromptSafetyAttributes"]);return o!=null&&v(n,["positivePromptSafetyAttributes"],Kb(e,o)),n}function Nk(e,t){const n={},r=x(t,["baseModel"]);r!=null&&v(n,["baseModel"],r);const o=x(t,["createTime"]);o!=null&&v(n,["createTime"],o);const l=x(t,["updateTime"]);return l!=null&&v(n,["updateTime"],l),n}function lx(e,t){const n={},r=x(t,["name"]);r!=null&&v(n,["name"],r);const o=x(t,["displayName"]);o!=null&&v(n,["displayName"],o);const l=x(t,["description"]);l!=null&&v(n,["description"],l);const u=x(t,["version"]);u!=null&&v(n,["version"],u);const f=x(t,["_self"]);f!=null&&v(n,["tunedModelInfo"],Nk(e,f));const h=x(t,["inputTokenLimit"]);h!=null&&v(n,["inputTokenLimit"],h);const d=x(t,["outputTokenLimit"]);d!=null&&v(n,["outputTokenLimit"],d);const m=x(t,["supportedGenerationMethods"]);return m!=null&&v(n,["supportedActions"],m),n}function Rk(){return{}}function _k(e,t){const n={},r=x(t,["totalTokens"]);r!=null&&v(n,["totalTokens"],r);const o=x(t,["cachedContentTokenCount"]);return o!=null&&v(n,["cachedContentTokenCount"],o),n}function Ik(e,t){const n={},r=x(t,["video","uri"]);r!=null&&v(n,["uri"],r);const o=x(t,["video","encodedVideo"]);o!=null&&v(n,["videoBytes"],or(e,o));const l=x(t,["encoding"]);return l!=null&&v(n,["mimeType"],l),n}function Pk(e,t){const n={},r=x(t,["_self"]);return r!=null&&v(n,["video"],Ik(e,r)),n}function Lk(e,t){const n={},r=x(t,["generatedSamples"]);if(r!=null){let u=r;Array.isArray(u)&&(u=u.map(f=>Pk(e,f))),v(n,["generatedVideos"],u)}const o=x(t,["raiMediaFilteredCount"]);o!=null&&v(n,["raiMediaFilteredCount"],o);const l=x(t,["raiMediaFilteredReasons"]);return l!=null&&v(n,["raiMediaFilteredReasons"],l),n}function Vk(e,t){const n={},r=x(t,["name"]);r!=null&&v(n,["name"],r);const o=x(t,["metadata"]);o!=null&&v(n,["metadata"],o);const l=x(t,["done"]);l!=null&&v(n,["done"],l);const u=x(t,["error"]);u!=null&&v(n,["error"],u);const f=x(t,["response","generateVideoResponse"]);return f!=null&&v(n,["response"],Lk(e,f)),n}function Bk(e,t){const n={},r=x(t,["videoMetadata"]);r!=null&&v(n,["videoMetadata"],r);const o=x(t,["thought"]);o!=null&&v(n,["thought"],o);const l=x(t,["codeExecutionResult"]);l!=null&&v(n,["codeExecutionResult"],l);const u=x(t,["executableCode"]);u!=null&&v(n,["executableCode"],u);const f=x(t,["fileData"]);f!=null&&v(n,["fileData"],f);const h=x(t,["functionCall"]);h!=null&&v(n,["functionCall"],h);const d=x(t,["functionResponse"]);d!=null&&v(n,["functionResponse"],d);const m=x(t,["inlineData"]);m!=null&&v(n,["inlineData"],m);const g=x(t,["text"]);return g!=null&&v(n,["text"],g),n}function Ok(e,t){const n={},r=x(t,["parts"]);if(r!=null){let l=r;Array.isArray(l)&&(l=l.map(u=>Bk(e,u))),v(n,["parts"],l)}const o=x(t,["role"]);return o!=null&&v(n,["role"],o),n}function jk(e,t){const n={},r=x(t,["citations"]);return r!=null&&v(n,["citations"],r),n}function Uk(e,t){const n={},r=x(t,["content"]);r!=null&&v(n,["content"],Ok(e,r));const o=x(t,["citationMetadata"]);o!=null&&v(n,["citationMetadata"],jk(e,o));const l=x(t,["finishMessage"]);l!=null&&v(n,["finishMessage"],l);const u=x(t,["finishReason"]);u!=null&&v(n,["finishReason"],u);const f=x(t,["avgLogprobs"]);f!=null&&v(n,["avgLogprobs"],f);const h=x(t,["groundingMetadata"]);h!=null&&v(n,["groundingMetadata"],h);const d=x(t,["index"]);d!=null&&v(n,["index"],d);const m=x(t,["logprobsResult"]);m!=null&&v(n,["logprobsResult"],m);const g=x(t,["safetyRatings"]);return g!=null&&v(n,["safetyRatings"],g),n}function ux(e,t){const n={},r=x(t,["candidates"]);if(r!=null){let d=r;Array.isArray(d)&&(d=d.map(m=>Uk(e,m))),v(n,["candidates"],d)}const o=x(t,["createTime"]);o!=null&&v(n,["createTime"],o);const l=x(t,["responseId"]);l!=null&&v(n,["responseId"],l);const u=x(t,["modelVersion"]);u!=null&&v(n,["modelVersion"],u);const f=x(t,["promptFeedback"]);f!=null&&v(n,["promptFeedback"],f);const h=x(t,["usageMetadata"]);return h!=null&&v(n,["usageMetadata"],h),n}function zk(e,t){const n={},r=x(t,["truncated"]);r!=null&&v(n,["truncated"],r);const o=x(t,["token_count"]);return o!=null&&v(n,["tokenCount"],o),n}function Fk(e,t){const n={},r=x(t,["values"]);r!=null&&v(n,["values"],r);const o=x(t,["statistics"]);return o!=null&&v(n,["statistics"],zk(e,o)),n}function Hk(e,t){const n={},r=x(t,["billableCharacterCount"]);return r!=null&&v(n,["billableCharacterCount"],r),n}function qk(e,t){const n={},r=x(t,["predictions[]","embeddings"]);if(r!=null){let l=r;Array.isArray(l)&&(l=l.map(u=>Fk(e,u))),v(n,["embeddings"],l)}const o=x(t,["metadata"]);return o!=null&&v(n,["metadata"],Hk(e,o)),n}function Gk(e,t){const n={},r=x(t,["gcsUri"]);r!=null&&v(n,["gcsUri"],r);const o=x(t,["bytesBase64Encoded"]);o!=null&&v(n,["imageBytes"],or(e,o));const l=x(t,["mimeType"]);return l!=null&&v(n,["mimeType"],l),n}function Xb(e,t){const n={},r=x(t,["safetyAttributes","categories"]);r!=null&&v(n,["categories"],r);const o=x(t,["safetyAttributes","scores"]);o!=null&&v(n,["scores"],o);const l=x(t,["contentType"]);return l!=null&&v(n,["contentType"],l),n}function Yk(e,t){const n={},r=x(t,["_self"]);r!=null&&v(n,["image"],Gk(e,r));const o=x(t,["raiFilteredReason"]);o!=null&&v(n,["raiFilteredReason"],o);const l=x(t,["_self"]);l!=null&&v(n,["safetyAttributes"],Xb(e,l));const u=x(t,["prompt"]);return u!=null&&v(n,["enhancedPrompt"],u),n}function $k(e,t){const n={},r=x(t,["predictions"]);if(r!=null){let l=r;Array.isArray(l)&&(l=l.map(u=>Yk(e,u))),v(n,["generatedImages"],l)}const o=x(t,["positivePromptSafetyAttributes"]);return o!=null&&v(n,["positivePromptSafetyAttributes"],Xb(e,o)),n}function Kk(e,t){const n={},r=x(t,["endpoint"]);r!=null&&v(n,["name"],r);const o=x(t,["deployedModelId"]);return o!=null&&v(n,["deployedModelId"],o),n}function Xk(e,t){const n={},r=x(t,["labels","google-vertex-llm-tuning-base-model-id"]);r!=null&&v(n,["baseModel"],r);const o=x(t,["createTime"]);o!=null&&v(n,["createTime"],o);const l=x(t,["updateTime"]);return l!=null&&v(n,["updateTime"],l),n}function cx(e,t){const n={},r=x(t,["name"]);r!=null&&v(n,["name"],r);const o=x(t,["displayName"]);o!=null&&v(n,["displayName"],o);const l=x(t,["description"]);l!=null&&v(n,["description"],l);const u=x(t,["versionId"]);u!=null&&v(n,["version"],u);const f=x(t,["deployedModels"]);if(f!=null){let m=f;Array.isArray(m)&&(m=m.map(g=>Kk(e,g))),v(n,["endpoints"],m)}const h=x(t,["labels"]);h!=null&&v(n,["labels"],h);const d=x(t,["_self"]);return d!=null&&v(n,["tunedModelInfo"],Xk(e,d)),n}function Qk(){return{}}function Jk(e,t){const n={},r=x(t,["totalTokens"]);return r!=null&&v(n,["totalTokens"],r),n}function Zk(e,t){const n={},r=x(t,["tokensInfo"]);return r!=null&&v(n,["tokensInfo"],r),n}function Wk(e,t){const n={},r=x(t,["gcsUri"]);r!=null&&v(n,["uri"],r);const o=x(t,["bytesBase64Encoded"]);o!=null&&v(n,["videoBytes"],or(e,o));const l=x(t,["mimeType"]);return l!=null&&v(n,["mimeType"],l),n}function e2(e,t){const n={},r=x(t,["_self"]);return r!=null&&v(n,["video"],Wk(e,r)),n}function t2(e,t){const n={},r=x(t,["videos"]);if(r!=null){let u=r;Array.isArray(u)&&(u=u.map(f=>e2(e,f))),v(n,["generatedVideos"],u)}const o=x(t,["raiMediaFilteredCount"]);o!=null&&v(n,["raiMediaFilteredCount"],o);const l=x(t,["raiMediaFilteredReasons"]);return l!=null&&v(n,["raiMediaFilteredReasons"],l),n}function n2(e,t){const n={},r=x(t,["name"]);r!=null&&v(n,["name"],r);const o=x(t,["metadata"]);o!=null&&v(n,["metadata"],o);const l=x(t,["done"]);l!=null&&v(n,["done"],l);const u=x(t,["error"]);u!=null&&v(n,["error"],u);const f=x(t,["response"]);return f!=null&&v(n,["response"],t2(e,f)),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const i2="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function r2(e,t,n){let r,o;n.data instanceof Blob?o=JSON.parse(await n.data.text()):o=JSON.parse(n.data),e.isVertexAI()?r=bM(e,o):r=vM(e,o),t(r)}class a2{constructor(t,n,r){this.apiClient=t,this.auth=n,this.webSocketFactory=r}async connect(t){var n,r,o,l;const u=this.apiClient.getWebsocketBaseUrl(),f=this.apiClient.getApiVersion();let h;const d=u2(this.apiClient.getDefaultHeaders());if(this.apiClient.isVertexAI())h=`${u}/ws/google.cloud.aiplatform.${f}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(d);else{const z=this.apiClient.getApiKey();h=`${u}/ws/google.ai.generativelanguage.${f}.GenerativeService.BidiGenerateContent?key=${z}`}let m=()=>{};const g=new Promise(z=>{m=z}),T=t.callbacks,S=function(){var z;(z=T==null?void 0:T.onopen)===null||z===void 0||z.call(T),m({})},E=this.apiClient,k={onopen:S,onmessage:z=>{r2(E,T.onmessage,z)},onerror:(n=T==null?void 0:T.onerror)!==null&&n!==void 0?n:function(z){},onclose:(r=T==null?void 0:T.onclose)!==null&&r!==void 0?r:function(z){}},R=this.webSocketFactory.create(h,l2(d),k);R.connect(),await g;let D=mt(this.apiClient,t.model);if(this.apiClient.isVertexAI()&&D.startsWith("publishers/")){const z=this.apiClient.getProject(),F=this.apiClient.getLocation();D=`projects/${z}/locations/${F}/`+D}let B={};this.apiClient.isVertexAI()&&((o=t.config)===null||o===void 0?void 0:o.responseModalities)===void 0&&(t.config===void 0?t.config={responseModalities:[yu.AUDIO]}:t.config.responseModalities=[yu.AUDIO]),!((l=t.config)===null||l===void 0)&&l.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const P={model:D,config:t.config,callbacks:t.callbacks};return this.apiClient.isVertexAI()?B=YA(this.apiClient,P):B=GA(this.apiClient,P),delete B.config,R.send(JSON.stringify(B)),new s2(R,this.apiClient)}}const o2={turnComplete:!0};class s2{constructor(t,n){this.conn=t,this.apiClient=n}tLiveClientContent(t,n){if(n.turns!==null&&n.turns!==void 0){let r=[];try{r=rr(t,n.turns),t.isVertexAI()?r=r.map(o=>Ha(t,o)):r=r.map(o=>Iu(t,o))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof n.turns}'`)}return{clientContent:{turns:r,turnComplete:n.turnComplete}}}return{clientContent:{turnComplete:n.turnComplete}}}tLiveClienttToolResponse(t,n){let r=[];if(n.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(n.functionResponses)?r=n.functionResponses:r=[n.functionResponses],r.length===0)throw new Error("functionResponses is required.");for(const l of r){if(typeof l!="object"||l===null||!("name"in l)||!("response"in l))throw new Error(`Could not parse function response, type '${typeof l}'.`);if(!t.isVertexAI()&&!("id"in l))throw new Error(i2)}return{toolResponse:{functionResponses:r}}}sendClientContent(t){t=Object.assign(Object.assign({},o2),t);const n=this.tLiveClientContent(this.apiClient,t);this.conn.send(JSON.stringify(n))}sendRealtimeInput(t){let n={};this.apiClient.isVertexAI()?n={realtimeInput:ZA(this.apiClient,t)}:n={realtimeInput:JA(this.apiClient,t)},this.conn.send(JSON.stringify(n))}sendToolResponse(t){if(t.functionResponses==null)throw new Error("Tool response parameters are required.");const n=this.tLiveClienttToolResponse(this.apiClient,t);this.conn.send(JSON.stringify(n))}close(){this.conn.close()}}function l2(e){const t={};return e.forEach((n,r)=>{t[r]=n}),t}function u2(e){const t=new Headers;for(const[n,r]of Object.entries(e))t.append(n,r);return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class c2 extends As{constructor(t){super(),this.apiClient=t,this.generateContent=async n=>await this.generateContentInternal(n),this.generateContentStream=async n=>await this.generateContentStreamInternal(n),this.generateImages=async n=>await this.generateImagesInternal(n).then(r=>{var o;let l;const u=[];if(r!=null&&r.generatedImages)for(const h of r.generatedImages)h&&(h!=null&&h.safetyAttributes)&&((o=h==null?void 0:h.safetyAttributes)===null||o===void 0?void 0:o.contentType)==="Positive Prompt"?l=h==null?void 0:h.safetyAttributes:u.push(h);let f;return l?f={generatedImages:u,positivePromptSafetyAttributes:l}:f={generatedImages:u},f})}async generateContentInternal(t){var n,r,o,l;let u,f="",h={};if(this.apiClient.isVertexAI()){const d=ox(this.apiClient,t);return f=De("{model}:generateContent",d._url),h=d._query,delete d.config,delete d._url,delete d._query,u=this.apiClient.request({path:f,queryParams:h,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(m=>m.json()),u.then(m=>{const g=ux(this.apiClient,m),T=new $l;return Object.assign(T,g),T})}else{const d=ax(this.apiClient,t);return f=De("{model}:generateContent",d._url),h=d._query,delete d.config,delete d._url,delete d._query,u=this.apiClient.request({path:f,queryParams:h,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(m=>m.json()),u.then(m=>{const g=sx(this.apiClient,m),T=new $l;return Object.assign(T,g),T})}}async generateContentStreamInternal(t){var n,r,o,l;let u,f="",h={};if(this.apiClient.isVertexAI()){const d=ox(this.apiClient,t);f=De("{model}:streamGenerateContent?alt=sse",d._url),h=d._query,delete d.config,delete d._url,delete d._query;const m=this.apiClient;return u=m.requestStream({path:f,queryParams:h,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}),u.then(function(g){return xu(this,arguments,function*(){var T,S,E,k;try{for(var R=!0,D=Ud(g),B;B=yield Ht(D.next()),T=B.done,!T;R=!0){k=B.value,R=!1;const z=ux(m,yield Ht(k.json())),F=new $l;Object.assign(F,z),yield yield Ht(F)}}catch(P){S={error:P}}finally{try{!R&&!T&&(E=D.return)&&(yield Ht(E.call(D)))}finally{if(S)throw S.error}}})})}else{const d=ax(this.apiClient,t);f=De("{model}:streamGenerateContent?alt=sse",d._url),h=d._query,delete d.config,delete d._url,delete d._query;const m=this.apiClient;return u=m.requestStream({path:f,queryParams:h,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}),u.then(function(g){return xu(this,arguments,function*(){var T,S,E,k;try{for(var R=!0,D=Ud(g),B;B=yield Ht(D.next()),T=B.done,!T;R=!0){k=B.value,R=!1;const z=sx(m,yield Ht(k.json())),F=new $l;Object.assign(F,z),yield yield Ht(F)}}catch(P){S={error:P}}finally{try{!R&&!T&&(E=D.return)&&(yield Ht(E.call(D)))}finally{if(S)throw S.error}}})})}}async embedContent(t){var n,r,o,l;let u,f="",h={};if(this.apiClient.isVertexAI()){const d=sk(this.apiClient,t);return f=De("{model}:predict",d._url),h=d._query,delete d.config,delete d._url,delete d._query,u=this.apiClient.request({path:f,queryParams:h,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(m=>m.json()),u.then(m=>{const g=qk(this.apiClient,m),T=new K0;return Object.assign(T,g),T})}else{const d=LM(this.apiClient,t);return f=De("{model}:batchEmbedContents",d._url),h=d._query,delete d.config,delete d._url,delete d._query,u=this.apiClient.request({path:f,queryParams:h,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(m=>m.json()),u.then(m=>{const g=Ak(this.apiClient,m),T=new K0;return Object.assign(T,g),T})}}async generateImagesInternal(t){var n,r,o,l;let u,f="",h={};if(this.apiClient.isVertexAI()){const d=uk(this.apiClient,t);return f=De("{model}:predict",d._url),h=d._query,delete d.config,delete d._url,delete d._query,u=this.apiClient.request({path:f,queryParams:h,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(m=>m.json()),u.then(m=>{const g=$k(this.apiClient,m),T=new X0;return Object.assign(T,g),T})}else{const d=BM(this.apiClient,t);return f=De("{model}:predict",d._url),h=d._query,delete d.config,delete d._url,delete d._query,u=this.apiClient.request({path:f,queryParams:h,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(m=>m.json()),u.then(m=>{const g=Dk(this.apiClient,m),T=new X0;return Object.assign(T,g),T})}}async get(t){var n,r,o,l;let u,f="",h={};if(this.apiClient.isVertexAI()){const d=ck(this.apiClient,t);return f=De("{name}",d._url),h=d._query,delete d.config,delete d._url,delete d._query,u=this.apiClient.request({path:f,queryParams:h,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(m=>m.json()),u.then(m=>cx(this.apiClient,m))}else{const d=OM(this.apiClient,t);return f=De("{name}",d._url),h=d._query,delete d.config,delete d._url,delete d._query,u=this.apiClient.request({path:f,queryParams:h,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(m=>m.json()),u.then(m=>lx(this.apiClient,m))}}async update(t){var n,r,o,l;let u,f="",h={};if(this.apiClient.isVertexAI()){const d=dk(this.apiClient,t);return f=De("{model}",d._url),h=d._query,delete d.config,delete d._url,delete d._query,u=this.apiClient.request({path:f,queryParams:h,body:JSON.stringify(d),httpMethod:"PATCH",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(m=>m.json()),u.then(m=>cx(this.apiClient,m))}else{const d=UM(this.apiClient,t);return f=De("{name}",d._url),h=d._query,delete d.config,delete d._url,delete d._query,u=this.apiClient.request({path:f,queryParams:h,body:JSON.stringify(d),httpMethod:"PATCH",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(m=>m.json()),u.then(m=>lx(this.apiClient,m))}}async delete(t){var n,r,o,l;let u,f="",h={};if(this.apiClient.isVertexAI()){const d=hk(this.apiClient,t);return f=De("{name}",d._url),h=d._query,delete d.config,delete d._url,delete d._query,u=this.apiClient.request({path:f,queryParams:h,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(m=>m.json()),u.then(()=>{const m=Qk(),g=new Q0;return Object.assign(g,m),g})}else{const d=zM(this.apiClient,t);return f=De("{name}",d._url),h=d._query,delete d.config,delete d._url,delete d._query,u=this.apiClient.request({path:f,queryParams:h,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(m=>m.json()),u.then(()=>{const m=Rk(),g=new Q0;return Object.assign(g,m),g})}}async countTokens(t){var n,r,o,l;let u,f="",h={};if(this.apiClient.isVertexAI()){const d=pk(this.apiClient,t);return f=De("{model}:countTokens",d._url),h=d._query,delete d.config,delete d._url,delete d._query,u=this.apiClient.request({path:f,queryParams:h,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(m=>m.json()),u.then(m=>{const g=Jk(this.apiClient,m),T=new J0;return Object.assign(T,g),T})}else{const d=HM(this.apiClient,t);return f=De("{model}:countTokens",d._url),h=d._query,delete d.config,delete d._url,delete d._query,u=this.apiClient.request({path:f,queryParams:h,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(m=>m.json()),u.then(m=>{const g=_k(this.apiClient,m),T=new J0;return Object.assign(T,g),T})}}async computeTokens(t){var n,r;let o,l="",u={};if(this.apiClient.isVertexAI()){const f=gk(this.apiClient,t);return l=De("{model}:computeTokens",f._url),u=f._query,delete f.config,delete f._url,delete f._query,o=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),o.then(h=>{const d=Zk(this.apiClient,h),m=new ZE;return Object.assign(m,d),m})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideos(t){var n,r,o,l;let u,f="",h={};if(this.apiClient.isVertexAI()){const d=vk(this.apiClient,t);return f=De("{model}:predictLongRunning",d._url),h=d._query,delete d.config,delete d._url,delete d._query,u=this.apiClient.request({path:f,queryParams:h,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(m=>m.json()),u.then(m=>n2(this.apiClient,m))}else{const d=YM(this.apiClient,t);return f=De("{model}:predictLongRunning",d._url),h=d._query,delete d.config,delete d._url,delete d._query,u=this.apiClient.request({path:f,queryParams:h,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(m=>m.json()),u.then(m=>Vk(this.apiClient,m))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function f2(e,t){const n={},r=x(t,["operationName"]);r!=null&&v(n,["_url","operationName"],r);const o=x(t,["config"]);return o!=null&&v(n,["config"],o),n}function d2(e,t){const n={},r=x(t,["operationName"]);r!=null&&v(n,["_url","operationName"],r);const o=x(t,["config"]);return o!=null&&v(n,["config"],o),n}function h2(e,t){const n={},r=x(t,["operationName"]);r!=null&&v(n,["operationName"],r);const o=x(t,["resourceName"]);o!=null&&v(n,["_url","resourceName"],o);const l=x(t,["config"]);return l!=null&&v(n,["config"],l),n}function m2(e,t){const n={},r=x(t,["video","uri"]);r!=null&&v(n,["uri"],r);const o=x(t,["video","encodedVideo"]);o!=null&&v(n,["videoBytes"],or(e,o));const l=x(t,["encoding"]);return l!=null&&v(n,["mimeType"],l),n}function p2(e,t){const n={},r=x(t,["_self"]);return r!=null&&v(n,["video"],m2(e,r)),n}function g2(e,t){const n={},r=x(t,["generatedSamples"]);if(r!=null){let u=r;Array.isArray(u)&&(u=u.map(f=>p2(e,f))),v(n,["generatedVideos"],u)}const o=x(t,["raiMediaFilteredCount"]);o!=null&&v(n,["raiMediaFilteredCount"],o);const l=x(t,["raiMediaFilteredReasons"]);return l!=null&&v(n,["raiMediaFilteredReasons"],l),n}function y2(e,t){const n={},r=x(t,["name"]);r!=null&&v(n,["name"],r);const o=x(t,["metadata"]);o!=null&&v(n,["metadata"],o);const l=x(t,["done"]);l!=null&&v(n,["done"],l);const u=x(t,["error"]);u!=null&&v(n,["error"],u);const f=x(t,["response","generateVideoResponse"]);return f!=null&&v(n,["response"],g2(e,f)),n}function x2(e,t){const n={},r=x(t,["gcsUri"]);r!=null&&v(n,["uri"],r);const o=x(t,["bytesBase64Encoded"]);o!=null&&v(n,["videoBytes"],or(e,o));const l=x(t,["mimeType"]);return l!=null&&v(n,["mimeType"],l),n}function v2(e,t){const n={},r=x(t,["_self"]);return r!=null&&v(n,["video"],x2(e,r)),n}function b2(e,t){const n={},r=x(t,["videos"]);if(r!=null){let u=r;Array.isArray(u)&&(u=u.map(f=>v2(e,f))),v(n,["generatedVideos"],u)}const o=x(t,["raiMediaFilteredCount"]);o!=null&&v(n,["raiMediaFilteredCount"],o);const l=x(t,["raiMediaFilteredReasons"]);return l!=null&&v(n,["raiMediaFilteredReasons"],l),n}function fx(e,t){const n={},r=x(t,["name"]);r!=null&&v(n,["name"],r);const o=x(t,["metadata"]);o!=null&&v(n,["metadata"],o);const l=x(t,["done"]);l!=null&&v(n,["done"],l);const u=x(t,["error"]);u!=null&&v(n,["error"],u);const f=x(t,["response"]);return f!=null&&v(n,["response"],b2(e,f)),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class T2 extends As{constructor(t){super(),this.apiClient=t}async getVideosOperation(t){const n=t.operation,r=t.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const o=n.name.split("/operations/")[0];let l;return r&&"httpOptions"in r&&(l=r.httpOptions),this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:o,config:{httpOptions:l}})}else return this.getVideosOperationInternal({operationName:n.name,config:r})}async getVideosOperationInternal(t){var n,r,o,l;let u,f="",h={};if(this.apiClient.isVertexAI()){const d=d2(this.apiClient,t);return f=De("{operationName}",d._url),h=d._query,delete d.config,delete d._url,delete d._query,u=this.apiClient.request({path:f,queryParams:h,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(m=>m.json()),u.then(m=>fx(this.apiClient,m))}else{const d=f2(this.apiClient,t);return f=De("{operationName}",d._url),h=d._query,delete d.config,delete d._url,delete d._query,u=this.apiClient.request({path:f,queryParams:h,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(m=>m.json()),u.then(m=>y2(this.apiClient,m))}}async fetchPredictVideosOperationInternal(t){var n,r;let o,l="",u={};if(this.apiClient.isVertexAI()){const f=h2(this.apiClient,t);return l=De("{resourceName}:fetchPredictOperation",f._url),u=f._query,delete f.config,delete f._url,delete f._query,o=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),o.then(h=>fx(this.apiClient,h))}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const S2="Content-Type",C2="X-Server-Timeout",w2="User-Agent",E2="x-goog-api-client",A2="0.12.0",M2=`google-genai-sdk/${A2}`,k2="v1beta1",D2="v1beta",dx=/^data: (.*)(?:\n\n|\r\r|\r\n\r\n)/;class Qb extends Error{constructor(t,n){n?super(t,{cause:n}):super(t,{cause:new Error().stack}),this.message=t,this.name="ClientError"}}class Fd extends Error{constructor(t,n){n?super(t,{cause:n}):super(t,{cause:new Error().stack}),this.message=t,this.name="ServerError"}}class N2{constructor(t){var n,r;this.clientOptions=Object.assign(Object.assign({},t),{project:t.project,location:t.location,apiKey:t.apiKey,vertexai:t.vertexai});const o={};this.clientOptions.vertexai?(o.apiVersion=(n=this.clientOptions.apiVersion)!==null&&n!==void 0?n:k2,this.getProject()||this.getLocation()?(o.baseUrl=`https://${this.clientOptions.location}-aiplatform.googleapis.com/`,this.clientOptions.apiKey=void 0):(o.baseUrl="https://aiplatform.googleapis.com/",this.clientOptions.project=void 0,this.clientOptions.location=void 0)):(o.apiVersion=(r=this.clientOptions.apiVersion)!==null&&r!==void 0?r:D2,o.baseUrl="https://generativelanguage.googleapis.com/"),o.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=o,t.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(o,t.httpOptions))}isVertexAI(){var t;return(t=this.clientOptions.vertexai)!==null&&t!==void 0?t:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(t){if(!t||t.baseUrl===void 0||t.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const r=[t.baseUrl.endsWith("/")?t.baseUrl.slice(0,-1):t.baseUrl];return t.apiVersion&&t.apiVersion!==""&&r.push(t.apiVersion),r.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const t=this.getBaseUrl(),n=new URL(t);return n.protocol=n.protocol=="http:"?"ws":"wss",n.toString()}setBaseUrl(t){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=t;else throw new Error("HTTP options are not correctly set.")}constructUrl(t,n,r){const o=[this.getRequestUrlInternal(n)];return r&&o.push(this.getBaseResourcePath()),t!==""&&o.push(t),new URL(`${o.join("/")}`)}shouldPrependVertexProjectPath(t){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||t.path.startsWith("projects/")||t.httpMethod==="GET"&&t.path.startsWith("publishers/google/models"))}async request(t){let n=this.clientOptions.httpOptions;t.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,t.httpOptions));const r=this.shouldPrependVertexProjectPath(t),o=this.constructUrl(t.path,n,r);if(t.queryParams)for(const[u,f]of Object.entries(t.queryParams))o.searchParams.append(u,String(f));let l={};if(t.httpMethod==="GET"){if(t.body&&t.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else l.body=t.body;return l=await this.includeExtraHttpOptionsToRequestInit(l,n,t.abortSignal),this.unaryApiCall(o,l,t.httpMethod)}patchHttpOptions(t,n){const r=JSON.parse(JSON.stringify(t));for(const[o,l]of Object.entries(n))typeof l=="object"?r[o]=Object.assign(Object.assign({},r[o]),l):l!==void 0&&(r[o]=l);return r}async requestStream(t){let n=this.clientOptions.httpOptions;t.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,t.httpOptions));const r=this.shouldPrependVertexProjectPath(t),o=this.constructUrl(t.path,n,r);(!o.searchParams.has("alt")||o.searchParams.get("alt")!=="sse")&&o.searchParams.set("alt","sse");let l={};return l.body=t.body,l=await this.includeExtraHttpOptionsToRequestInit(l,n,t.abortSignal),this.streamApiCall(o,l,t.httpMethod)}async includeExtraHttpOptionsToRequestInit(t,n,r){if(n&&n.timeout||r){const o=new AbortController,l=o.signal;n.timeout&&(n==null?void 0:n.timeout)>0&&setTimeout(()=>o.abort(),n.timeout),r&&r.addEventListener("abort",()=>{o.abort()}),t.signal=l}return t.headers=await this.getHeadersInternal(n),t}async unaryApiCall(t,n,r){return this.apiCall(t.toString(),Object.assign(Object.assign({},n),{method:r})).then(async o=>(await hx(o),new jd(o))).catch(o=>{throw o instanceof Error?o:new Error(JSON.stringify(o))})}async streamApiCall(t,n,r){return this.apiCall(t.toString(),Object.assign(Object.assign({},n),{method:r})).then(async o=>(await hx(o),this.processStreamResponse(o))).catch(o=>{throw o instanceof Error?o:new Error(JSON.stringify(o))})}processStreamResponse(t){var n;return xu(this,arguments,function*(){const o=(n=t==null?void 0:t.body)===null||n===void 0?void 0:n.getReader(),l=new TextDecoder("utf-8");if(!o)throw new Error("Response body is empty");try{let u="";for(;;){const{done:f,value:h}=yield Ht(o.read());if(f){if(u.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const d=l.decode(h);try{const g=JSON.parse(d);if("error"in g){const T=JSON.parse(JSON.stringify(g.error)),S=T.status,E=T.code,k=`got status: ${S}. ${JSON.stringify(g)}`;if(E>=400&&E<500)throw new Qb(k);if(E>=500&&E<600)throw new Fd(k)}}catch(g){const T=g;if(T.name==="ClientError"||T.name==="ServerError")throw g}u+=d;let m=u.match(dx);for(;m;){const g=m[1];try{const T=new Response(g,{headers:t==null?void 0:t.headers,status:t==null?void 0:t.status,statusText:t==null?void 0:t.statusText});yield yield Ht(new jd(T)),u=u.slice(m[0].length),m=u.match(dx)}catch(T){throw new Error(`exception parsing stream chunk ${g}. ${T}`)}}}}finally{o.releaseLock()}})}async apiCall(t,n){return fetch(t,n).catch(r=>{throw new Error(`exception ${r} sending request`)})}getDefaultHeaders(){const t={},n=M2+" "+this.clientOptions.userAgentExtra;return t[w2]=n,t[E2]=n,t[S2]="application/json",t}async getHeadersInternal(t){const n=new Headers;if(t&&t.headers){for(const[r,o]of Object.entries(t.headers))n.append(r,o);t.timeout&&t.timeout>0&&n.append(C2,String(Math.ceil(t.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(n),n}async uploadFile(t,n){var r;const o={};n!=null&&(o.mimeType=n.mimeType,o.name=n.name,o.displayName=n.displayName),o.name&&!o.name.startsWith("files/")&&(o.name=`files/${o.name}`);const l=this.clientOptions.uploader,u=await l.stat(t);o.sizeBytes=String(u.size);const f=(r=n==null?void 0:n.mimeType)!==null&&r!==void 0?r:u.type;if(f===void 0||f==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");o.mimeType=f;const h=await this.fetchUploadUrl(o,n);return l.upload(t,h,this)}async fetchUploadUrl(t,n){var r;let o={};n!=null&&n.httpOptions?o=n.httpOptions:o={apiVersion:"",headers:{"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${t.sizeBytes}`,"X-Goog-Upload-Header-Content-Type":`${t.mimeType}`}};const l={file:t},u=await this.request({path:De("upload/v1beta/files",l._url),body:JSON.stringify(l),httpMethod:"POST",httpOptions:o});if(!u||!(u!=null&&u.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const f=(r=u==null?void 0:u.headers)===null||r===void 0?void 0:r["x-goog-upload-url"];if(f===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return f}}async function hx(e){var t;if(e===void 0)throw new Fd("response is undefined");if(!e.ok){const n=e.status,r=e.statusText;let o;!((t=e.headers.get("content-type"))===null||t===void 0)&&t.includes("application/json")?o=await e.json():o={error:{message:await e.text(),code:e.status,status:e.statusText}};const l=`got status: ${n} ${r}. ${JSON.stringify(o)}`;throw n>=400&&n<500?new Qb(l):n>=500&&n<600?new Fd(l):new Error(l)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function R2(e,t){const n={},r=x(t,["name"]);r!=null&&v(n,["_url","name"],r);const o=x(t,["config"]);return o!=null&&v(n,["config"],o),n}function _2(e,t,n){const r={},o=x(t,["pageSize"]);n!==void 0&&o!=null&&v(n,["_query","pageSize"],o);const l=x(t,["pageToken"]);n!==void 0&&l!=null&&v(n,["_query","pageToken"],l);const u=x(t,["filter"]);return n!==void 0&&u!=null&&v(n,["_query","filter"],u),r}function I2(e,t){const n={},r=x(t,["config"]);return r!=null&&v(n,["config"],_2(e,r,n)),n}function P2(e,t){const n={},r=x(t,["textInput"]);r!=null&&v(n,["textInput"],r);const o=x(t,["output"]);return o!=null&&v(n,["output"],o),n}function L2(e,t){const n={};if(x(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const r=x(t,["examples"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(l=>P2(e,l))),v(n,["examples","examples"],o)}return n}function V2(e,t,n){const r={};if(x(t,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const o=x(t,["tunedModelDisplayName"]);if(n!==void 0&&o!=null&&v(n,["displayName"],o),x(t,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const l=x(t,["epochCount"]);n!==void 0&&l!=null&&v(n,["tuningTask","hyperparameters","epochCount"],l);const u=x(t,["learningRateMultiplier"]);if(u!=null&&v(r,["tuningTask","hyperparameters","learningRateMultiplier"],u),x(t,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const f=x(t,["batchSize"]);n!==void 0&&f!=null&&v(n,["tuningTask","hyperparameters","batchSize"],f);const h=x(t,["learningRate"]);return n!==void 0&&h!=null&&v(n,["tuningTask","hyperparameters","learningRate"],h),r}function B2(e,t){const n={},r=x(t,["baseModel"]);r!=null&&v(n,["baseModel"],r);const o=x(t,["trainingDataset"]);o!=null&&v(n,["tuningTask","trainingData"],L2(e,o));const l=x(t,["config"]);return l!=null&&v(n,["config"],V2(e,l,n)),n}function O2(e,t){const n={},r=x(t,["name"]);r!=null&&v(n,["_url","name"],r);const o=x(t,["config"]);return o!=null&&v(n,["config"],o),n}function j2(e,t,n){const r={},o=x(t,["pageSize"]);n!==void 0&&o!=null&&v(n,["_query","pageSize"],o);const l=x(t,["pageToken"]);n!==void 0&&l!=null&&v(n,["_query","pageToken"],l);const u=x(t,["filter"]);return n!==void 0&&u!=null&&v(n,["_query","filter"],u),r}function U2(e,t){const n={},r=x(t,["config"]);return r!=null&&v(n,["config"],j2(e,r,n)),n}function z2(e,t,n){const r={},o=x(t,["gcsUri"]);if(n!==void 0&&o!=null&&v(n,["supervisedTuningSpec","trainingDatasetUri"],o),x(t,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return r}function F2(e,t){const n={},r=x(t,["gcsUri"]);return r!=null&&v(n,["validationDatasetUri"],r),n}function H2(e,t,n){const r={},o=x(t,["validationDataset"]);n!==void 0&&o!=null&&v(n,["supervisedTuningSpec"],F2(e,o));const l=x(t,["tunedModelDisplayName"]);n!==void 0&&l!=null&&v(n,["tunedModelDisplayName"],l);const u=x(t,["description"]);n!==void 0&&u!=null&&v(n,["description"],u);const f=x(t,["epochCount"]);n!==void 0&&f!=null&&v(n,["supervisedTuningSpec","hyperParameters","epochCount"],f);const h=x(t,["learningRateMultiplier"]);n!==void 0&&h!=null&&v(n,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],h);const d=x(t,["adapterSize"]);if(n!==void 0&&d!=null&&v(n,["supervisedTuningSpec","hyperParameters","adapterSize"],d),x(t,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(x(t,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");return r}function q2(e,t){const n={},r=x(t,["baseModel"]);r!=null&&v(n,["baseModel"],r);const o=x(t,["trainingDataset"]);o!=null&&v(n,["supervisedTuningSpec","trainingDatasetUri"],z2(e,o,n));const l=x(t,["config"]);return l!=null&&v(n,["config"],H2(e,l,n)),n}function G2(e,t){const n={},r=x(t,["name"]);r!=null&&v(n,["model"],r);const o=x(t,["name"]);return o!=null&&v(n,["endpoint"],o),n}function Jb(e,t){const n={},r=x(t,["name"]);r!=null&&v(n,["name"],r);const o=x(t,["state"]);o!=null&&v(n,["state"],qb(e,o));const l=x(t,["createTime"]);l!=null&&v(n,["createTime"],l);const u=x(t,["tuningTask","startTime"]);u!=null&&v(n,["startTime"],u);const f=x(t,["tuningTask","completeTime"]);f!=null&&v(n,["endTime"],f);const h=x(t,["updateTime"]);h!=null&&v(n,["updateTime"],h);const d=x(t,["description"]);d!=null&&v(n,["description"],d);const m=x(t,["baseModel"]);m!=null&&v(n,["baseModel"],m);const g=x(t,["_self"]);g!=null&&v(n,["tunedModel"],G2(e,g));const T=x(t,["distillationSpec"]);T!=null&&v(n,["distillationSpec"],T);const S=x(t,["experiment"]);S!=null&&v(n,["experiment"],S);const E=x(t,["labels"]);E!=null&&v(n,["labels"],E);const k=x(t,["pipelineJob"]);k!=null&&v(n,["pipelineJob"],k);const R=x(t,["tunedModelDisplayName"]);return R!=null&&v(n,["tunedModelDisplayName"],R),n}function Y2(e,t){const n={},r=x(t,["nextPageToken"]);r!=null&&v(n,["nextPageToken"],r);const o=x(t,["tunedModels"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(u=>Jb(e,u))),v(n,["tuningJobs"],l)}return n}function $2(e,t){const n={},r=x(t,["name"]);r!=null&&v(n,["name"],r);const o=x(t,["metadata"]);o!=null&&v(n,["metadata"],o);const l=x(t,["done"]);l!=null&&v(n,["done"],l);const u=x(t,["error"]);return u!=null&&v(n,["error"],u),n}function K2(e,t){const n={},r=x(t,["model"]);r!=null&&v(n,["model"],r);const o=x(t,["endpoint"]);return o!=null&&v(n,["endpoint"],o),n}function Hd(e,t){const n={},r=x(t,["name"]);r!=null&&v(n,["name"],r);const o=x(t,["state"]);o!=null&&v(n,["state"],qb(e,o));const l=x(t,["createTime"]);l!=null&&v(n,["createTime"],l);const u=x(t,["startTime"]);u!=null&&v(n,["startTime"],u);const f=x(t,["endTime"]);f!=null&&v(n,["endTime"],f);const h=x(t,["updateTime"]);h!=null&&v(n,["updateTime"],h);const d=x(t,["error"]);d!=null&&v(n,["error"],d);const m=x(t,["description"]);m!=null&&v(n,["description"],m);const g=x(t,["baseModel"]);g!=null&&v(n,["baseModel"],g);const T=x(t,["tunedModel"]);T!=null&&v(n,["tunedModel"],K2(e,T));const S=x(t,["supervisedTuningSpec"]);S!=null&&v(n,["supervisedTuningSpec"],S);const E=x(t,["tuningDataStats"]);E!=null&&v(n,["tuningDataStats"],E);const k=x(t,["encryptionSpec"]);k!=null&&v(n,["encryptionSpec"],k);const R=x(t,["partnerModelTuningSpec"]);R!=null&&v(n,["partnerModelTuningSpec"],R);const D=x(t,["distillationSpec"]);D!=null&&v(n,["distillationSpec"],D);const B=x(t,["experiment"]);B!=null&&v(n,["experiment"],B);const P=x(t,["labels"]);P!=null&&v(n,["labels"],P);const z=x(t,["pipelineJob"]);z!=null&&v(n,["pipelineJob"],z);const F=x(t,["tunedModelDisplayName"]);return F!=null&&v(n,["tunedModelDisplayName"],F),n}function X2(e,t){const n={},r=x(t,["nextPageToken"]);r!=null&&v(n,["nextPageToken"],r);const o=x(t,["tuningJobs"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(u=>Hd(e,u))),v(n,["tuningJobs"],l)}return n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Q2 extends As{constructor(t){super(),this.apiClient=t,this.get=async n=>await this.getInternal(n),this.list=async(n={})=>new Ah(ms.PAGED_ITEM_TUNING_JOBS,r=>this.listInternal(r),await this.listInternal(n),n),this.tune=async n=>{if(this.apiClient.isVertexAI())return await this.tuneInternal(n);{const r=await this.tuneMldevInternal(n);let o="";return r.metadata!==void 0&&r.metadata.tunedModel!==void 0?o=r.metadata.tunedModel:r.name!==void 0&&r.name.includes("/operations/")&&(o=r.name.split("/operations/")[0]),{name:o,state:Od.JOB_STATE_QUEUED}}}}async getInternal(t){var n,r,o,l;let u,f="",h={};if(this.apiClient.isVertexAI()){const d=O2(this.apiClient,t);return f=De("{name}",d._url),h=d._query,delete d.config,delete d._url,delete d._query,u=this.apiClient.request({path:f,queryParams:h,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(m=>m.json()),u.then(m=>Hd(this.apiClient,m))}else{const d=R2(this.apiClient,t);return f=De("{name}",d._url),h=d._query,delete d.config,delete d._url,delete d._query,u=this.apiClient.request({path:f,queryParams:h,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(m=>m.json()),u.then(m=>Jb(this.apiClient,m))}}async listInternal(t){var n,r,o,l;let u,f="",h={};if(this.apiClient.isVertexAI()){const d=U2(this.apiClient,t);return f=De("tuningJobs",d._url),h=d._query,delete d.config,delete d._url,delete d._query,u=this.apiClient.request({path:f,queryParams:h,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(m=>m.json()),u.then(m=>{const g=X2(this.apiClient,m),T=new Z0;return Object.assign(T,g),T})}else{const d=I2(this.apiClient,t);return f=De("tunedModels",d._url),h=d._query,delete d.config,delete d._url,delete d._query,u=this.apiClient.request({path:f,queryParams:h,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(m=>m.json()),u.then(m=>{const g=Y2(this.apiClient,m),T=new Z0;return Object.assign(T,g),T})}}async tuneInternal(t){var n,r;let o,l="",u={};if(this.apiClient.isVertexAI()){const f=q2(this.apiClient,t);return l=De("tuningJobs",f._url),u=f._query,delete f.config,delete f._url,delete f._query,o=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),o.then(h=>Hd(this.apiClient,h))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(t){var n,r;let o,l="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const f=B2(this.apiClient,t);return l=De("tunedModels",f._url),u=f._query,delete f.config,delete f._url,delete f._query,o=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),o.then(h=>$2(this.apiClient,h))}}}const J2=1024*1024*8;async function Z2(e,t,n){var r,o;let l=0,u=0,f=new jd(new Response),h="upload";for(l=e.size;u<l;){const m=Math.min(J2,l-u),g=e.slice(u,u+m);if(u+m>=l&&(h+=", finalize"),f=await n.request({path:"",body:g,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:t,headers:{"X-Goog-Upload-Command":h,"X-Goog-Upload-Offset":String(u),"Content-Length":String(m)}}}),u+=m,((r=f==null?void 0:f.headers)===null||r===void 0?void 0:r["x-goog-upload-status"])!=="active")break;if(l<=u)throw new Error("All content has been uploaded, but the upload status is not finalized.")}const d=await(f==null?void 0:f.json());if(((o=f==null?void 0:f.headers)===null||o===void 0?void 0:o["x-goog-upload-status"])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return d.file}async function W2(e){return{size:e.size,type:e.type}}class eD{async upload(t,n,r){if(typeof t=="string")throw new Error("File path is not supported in browser uploader.");return await Z2(t,n,r)}async stat(t){if(typeof t=="string")throw new Error("File path is not supported in browser uploader.");return await W2(t)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class tD{create(t,n,r){return new nD(t,n,r)}}class nD{constructor(t,n,r){this.url=t,this.headers=n,this.callbacks=r}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(t){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(t)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const mx="x-goog-api-key";class iD{constructor(t){this.apiKey=t}async addAuthHeaders(t){t.get(mx)===null&&t.append(mx,this.apiKey)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const rD="gl-node/";class aD{constructor(t){var n;if(t.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(t.project||t.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(n=t.vertexai)!==null&&n!==void 0?n:!1,this.apiKey=t.apiKey;const r=mE(t,void 0,void 0);r&&(t.httpOptions?t.httpOptions.baseUrl=r:t.httpOptions={baseUrl:r}),this.apiVersion=t.apiVersion;const o=new iD(this.apiKey);this.apiClient=new N2({auth:o,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:t.httpOptions,userAgentExtra:rD+"web",uploader:new eD}),this.models=new c2(this.apiClient),this.live=new a2(this.apiClient,o,new tD),this.chats=new oA(this.models,this.apiClient),this.caches=new nA(this.apiClient),this.files=new vA(this.apiClient),this.operations=new T2(this.apiClient),this.tunings=new Q2(this.apiClient)}}const Ur="gemini-2.0-flash-exp",px="TrackGuide",gx="songGuidebookLibrary",Xo="trackGuideLastUsedDAW",Ql="trackGuideLastUsedPlugins",Zb=["Pop","Indie Pop","Synth-Pop","Rock","Alternative Rock","Hard Rock","Punk Rock","Post-Punk","Nu Metal","Progressive Rock","Psychedelic Rock","Folk Rock","Shoegaze","House","Deep House","Progressive House","Tech House","Bass House","Electro House","Minimal House","Techno","Minimal Techno","Industrial Techno","Melodic Techno","Ambient Techno","Hard Techno","Trance","Progressive Trance","Psytrance","Goa Trance","Hard Trance","Ambient","Dark Ambient","Downtempo","Chillout","Chillwave","Psybient","Berlin School","Synthwave","Retrowave","Darksynth","Vaporwave","Future Funk","Drum and Bass","Jungle","Liquid DnB","Neurofunk","Breakcore","Dubstep","Riddim","Future Bass","Trap (EDM)","Hardstyle","Gabber","UK Hardcore","IDM (Intelligent Dance Music)","Glitch","Breakbeat","UK Garage","2-Step","Future Garage","EBM (Electronic Body Music)","Footwork","Juke","Hip Hop","Boom Bap","Trap","Lo-fi Hip Hop","Cloud Rap","Drill","Conscious Hip Hop","R&B","Contemporary R&B","Neo-Soul","Soul","Folk","Acoustic","World Music","Reggae","Dub","Ska","Latin","Afrobeat","Celtic","Jazz","Smooth Jazz","Blues","Funk","Heavy Metal","Thrash Metal","Death Metal","Black Metal","Doom Metal","Metalcore","Deathcore","Experimental","Noise","Industrial","Classical Crossover","Chiptune","Video Game Music"],oD=["Dark","Atmospheric","Energetic","Uplifting","Chill","Relaxed","Experimental","Trippy","Nostalgic","Retro","Aggressive","Intense","Melancholic","Introspective","Funky","Groovy","Mysterious","Eerie","Euphoric","Anthemic","Dreamy","Ethereal","Raw","Gritty","Sophisticated","Smooth","Cyberpunk","Futuristic","Hypnotic","Driving","Industrial","Mechanical","Hopeful","Aggressive","Peaceful","Romantic","Sad","Joyful","Tense"],yx=["Ableton Live","Logic Pro X","FL Studio","Pro Tools","Cubase","Studio One","Reason","Bitwig Studio","Reaper","GarageBand"],is=["C Major","G Major","D Major","A Major","E Major","B Major","F# Major","C# Major","F Major","Bb Major","Eb Major","Ab Major","Db Major","Gb Major","Cb Major","A Minor","E Minor","B Minor","F# Minor","C# Minor","G# Minor","D# Minor","A# Minor","D Minor","G Minor","C Minor","F Minor","Bb Minor","Eb Minor","Ab Minor"],xx={C:["Ionian (Major)","Dorian","Phrygian","Lydian","Mixolydian","Aeolian (Natural Minor)","Locrian"],"C#":["Ionian (Major)","Dorian","Phrygian","Lydian","Mixolydian","Aeolian (Natural Minor)","Locrian"],Db:["Ionian (Major)","Dorian","Phrygian","Lydian","Mixolydian","Aeolian (Natural Minor)","Locrian"],D:["Ionian (Major)","Dorian","Phrygian","Lydian","Mixolydian","Aeolian (Natural Minor)","Locrian"],"D#":["Ionian (Major)","Dorian","Phrygian","Lydian","Mixolydian","Aeolian (Natural Minor)","Locrian"],Eb:["Ionian (Major)","Dorian","Phrygian","Lydian","Mixolydian","Aeolian (Natural Minor)","Locrian"],E:["Ionian (Major)","Dorian","Phrygian","Lydian","Mixolydian","Aeolian (Natural Minor)","Locrian"],F:["Ionian (Major)","Dorian","Phrygian","Lydian","Mixolydian","Aeolian (Natural Minor)","Locrian"],"F#":["Ionian (Major)","Dorian","Phrygian","Lydian","Mixolydian","Aeolian (Natural Minor)","Locrian"],Gb:["Ionian (Major)","Dorian","Phrygian","Lydian","Mixolydian","Aeolian (Natural Minor)","Locrian"],G:["Ionian (Major)","Dorian","Phrygian","Lydian","Mixolydian","Aeolian (Natural Minor)","Locrian"],"G#":["Ionian (Major)","Dorian","Phrygian","Lydian","Mixolydian","Aeolian (Natural Minor)","Locrian"],Ab:["Ionian (Major)","Dorian","Phrygian","Lydian","Mixolydian","Aeolian (Natural Minor)","Locrian"],A:["Ionian (Major)","Dorian","Phrygian","Lydian","Mixolydian","Aeolian (Natural Minor)","Locrian"],"A#":["Ionian (Major)","Dorian","Phrygian","Lydian","Mixolydian","Aeolian (Natural Minor)","Locrian"],Bb:["Ionian (Major)","Dorian","Phrygian","Lydian","Mixolydian","Aeolian (Natural Minor)","Locrian"],B:["Ionian (Major)","Dorian","Phrygian","Lydian","Mixolydian","Aeolian (Natural Minor)","Locrian"],Cb:["Ionian (Major)","Dorian","Phrygian","Lydian","Mixolydian","Aeolian (Natural Minor)","Locrian"]},sD=[[4,4],[3,4],[6,8],[2,4],[5,4],[7,8]],lD=[{id:"chords",label:"Chords"},{id:"bassline",label:"Bassline"},{id:"melody",label:"Melody"},{id:"drums",label:"Drums"}],uD=["General Loop","Intro","Verse","Pre-Chorus","Chorus","Post-Chorus","Bridge","Solo","Breakdown","Drop","Outro","Fill"],Ke={key:"C Major",tempo:120,timeSignature:[4,4],chordProgression:"I-V-vi-IV",genre:"Pop",bars:8,targetInstruments:["chords","bassline","melody","drums"],guidebookContext:"",songSection:"General Loop"},In={Pop:["I-V-vi-IV","vi-IV-I-V","I-IV-V-I","I-vi-IV-V","ii-V-I-IV"],"Indie Pop":["I-V-vi-IV","I-IV-vi-V","vi-IV-I-V","I-iii-IV-V"],"Synth-Pop":["i-VI-III-VII (minor)","I-V-vi-IV (major)","i-iv-v-VI (minor)","I-IV-ii-V (major)"],Rock:["I-IV-V","vi-IV-I-V","I-bVII-IV-I","i-VI-III-VII (minor)","I-V-IV-I"],"Alternative Rock":["vi-IV-I-V","I-V-vi-IV","i-VI-III-VII","I-IV-ii-V"],House:["Am-G-C-F","i-VI-III-VII (Am-F-C-G)","i-III-VI-VII","i-v-iv-i"],"Deep House":["i-VI-III-VII (e.g. Dm-Bb-F-C)","Am-G-C-F","i-iv-v-i"],Techno:["i-VI-III-VII","i-iv-v-i (minor, repetitive)","Single chord drone with variations","Am-G-F-E"],Trance:["vi-IV-I-V (Am-F-C-G)","i-VI-III-VII","i-VII-VI-V (minor descending)"],Ambient:["Imaj7-IVmaj7 (long, evolving)","i-VI (slow changes)","Drone + suspended chords"],Synthwave:["i-VI-III-VII (Am-F-C-G)","vi-IV-I-V","I-V-vi-IV","i-iv-v-i"],"Drum and Bass":["i-VI-III-VII","Am-F-C-G","Complex jazz voicings over two chords","i-iv-v-VI"],Dubstep:["i-VI-III-VII","i-iv-v-i (minor)","Heavy focus on sound design over complex progression"],"Trap (EDM)":["i-VI-III-VII","i-iv-v-i (minor)","Simple 2 or 3 chord loops"],"Hip Hop":["i-VI-III-VII","Am-G-Em-F","ii-V-I (Jazz influenced)","i-iv-v-i","Sample-based loops"],"Lo-fi Hip Hop":["ii-V-I-IV (Jazz)","Imaj7-vi7-ii7-V7","Simple 2-4 chord loops"],"R&B":["Imaj7-IVmaj7","ii-V-I","i-VI-III-VII","vi-ii-V-I"],Folk:["I-IV-V","I-V-vi-IV","G-C-D-G","C-G-Am-F"],Jazz:["ii-V-I","I-vi-ii-V","iii-vi-ii-V","I-II7-V7-I (Rhythm Changes A section)","Imaj7-IIm7-IIIm7-IVmaj7 (Modal)"],Blues:["I-I-I-I-IV-IV-I-I-V-IV-I-I (12-bar)","i-i-i-i-iv-iv-i-i-v-iv-i-i (minor 12-bar)"],Default:["I-V-vi-IV","i-VI-III-VII","I-IV-V-I","ii-V-I"]},Pn={Pop:[90,130],"Indie Pop":[100,140],"Synth-Pop":[110,140],Rock:[100,160],"Alternative Rock":[90,150],House:[118,128],"Deep House":[115,125],Techno:[125,145],Trance:[130,145],Ambient:[50,100],Synthwave:[80,120],"Drum and Bass":[160,180],Dubstep:[130,150],"Trap (EDM)":[130,160],"Hip Hop":[80,110],"Lo-fi Hip Hop":[70,90],"R&B":[60,100],Folk:[80,120],Jazz:[70,180],Blues:[70,130],Default:[60,200]},vu={kick:36,snare:38,hihat_closed:42,closed_hihat:42,hihat_open:46,open_hihat:46,tom_low:41,low_tom:41,tom_mid:47,mid_tom:47,tom_high:50,high_tom:50,crash_cymbal_1:49,crash:49,ride_cymbal_1:51,ride:51,clap:39,shaker:70,tambourine:54,rim_shot:37,cowbell:56,bass_drum:36,snare_drum:38},cD="AIzaSyCxOuxalv_PC6h6aE8JvEjLMK8ie8C9Nts",zr=new aD({apiKey:cD});function Wb(e,t){if(!e&&!t)return`
### 🎛️ Processing Tips & Plugin Parameters

**EQ Settings:**
- High-pass filter: 20-40 Hz to remove sub-bass rumble
- Low-mid cut: 200-400 Hz to reduce muddiness
- Presence boost: 2-5 kHz for clarity
- Air boost: 10-15 kHz for sparkle

**Compression:**
- Ratio: 3:1 to 4:1 for moderate control
- Attack: 10-30ms for punch retention
- Release: 100-300ms for natural decay
- Makeup gain: 2-6 dB as needed

**Reverb & Delay:**
- Room reverb: 0.8-1.5s decay for space
- Delay: 1/8 or 1/4 note timing
- High-cut: 8-12 kHz to avoid harshness
- Mix: 15-30% for depth without wash`;const r=e?(u=>{const f=u.toLowerCase();return f.includes("ableton")?{eq:"EQ Eight",compressor:"Compressor",reverb:"Reverb",delay:"Echo",limiter:"Limiter",saturator:"Saturator"}:f.includes("logic")?{eq:"Channel EQ",compressor:"Compressor",reverb:"ChromaVerb",delay:"Echo",limiter:"Adaptive Limiter",saturator:"Tape"}:f.includes("fl studio")||f.includes("fl")?{eq:"Parametric EQ 2",compressor:"Fruity Compressor",reverb:"Reverb 2",delay:"Fruity Delay 3",limiter:"Fruity Limiter",saturator:"Fruity Waveshaper"}:f.includes("pro tools")?{eq:"EQ III",compressor:"Dyn3 Compressor/Limiter",reverb:"D-Verb",delay:"Mod Delay III",limiter:"Dyn3 Compressor/Limiter",saturator:"Lo-Fi"}:f.includes("cubase")||f.includes("nuendo")?{eq:"StudioEQ",compressor:"Compressor",reverb:"REVerence",delay:"ModMachine",limiter:"Limiter",saturator:"Tape"}:f.includes("reaper")?{eq:"ReaEQ",compressor:"ReaComp",reverb:"ReaVerb",delay:"ReaDelay",limiter:"ReaLimit",saturator:"ReaSynth"}:{eq:"Stock EQ",compressor:"Stock Compressor",reverb:"Stock Reverb",delay:"Stock Delay",limiter:"Stock Limiter",saturator:"Stock Saturator"}})(e):null,o=e&&!t?`**${e} Stock Plugin Chain:**`:e?`**${e}-Specific Settings:**`:"",l=t?`**Custom Plugin Chain (${t}):**`:"";return`
### 🎛️ Processing Tips & Plugin Parameters
${o}
${l}

**EQ Parameters:**
${r&&!t?`- ${r.eq}: High-pass at ${e!=null&&e.toLowerCase().includes("logic")?"35":e!=null&&e.toLowerCase().includes("fl")?"30":"40"} Hz, Low-mid cut at ${e!=null&&e.toLowerCase().includes("logic")?"300":e!=null&&e.toLowerCase().includes("fl")?"400":"250"} Hz (-3dB), Presence boost at ${e!=null&&e.toLowerCase().includes("logic")?"12 kHz (+1.5dB)":e!=null&&e.toLowerCase().includes("fl")?"15 kHz (+2dB)":"3 kHz (+2dB)"}`:e==="Ableton Live"?"- EQ Eight: High-pass at 40 Hz, Low-mid cut at 250 Hz (-3dB), Presence boost at 3 kHz (+2dB)":e==="Logic Pro X"?"- Channel EQ: High-pass at 35 Hz, Low-mid cut at 300 Hz (-2.5dB), High boost at 12 kHz (+1.5dB)":e==="FL Studio"?"- Parametric EQ 2: High-pass at 30 Hz, Mid cut at 400 Hz (-4dB), Air boost at 15 kHz (+2dB)":"- High-pass filter: 20-40 Hz, Low-mid cut: 200-400 Hz (-2 to -4dB), Presence boost: 2-5 kHz (+1 to +3dB)"}

**Compression Settings:**
${r&&!t?`- ${r.compressor}: Ratio ${e!=null&&e.toLowerCase().includes("logic")?"3.5:1":"4:1"}, Attack ${e!=null&&e.toLowerCase().includes("fl")?"10ms":e!=null&&e.toLowerCase().includes("logic")?"20ms":"15ms"}, Release ${e!=null&&e.toLowerCase().includes("logic")?"150ms":e!=null&&e.toLowerCase().includes("fl")?"250ms":"200ms"}${e!=null&&e.toLowerCase().includes("logic")?", Auto-Release enabled":e!=null&&e.toLowerCase().includes("fl")?", Knee 3dB":", Knee 2dB"}`:e==="Ableton Live"?"- Compressor: Ratio 4:1, Attack 15ms, Release 200ms, Knee 2dB":e==="Logic Pro X"?"- Compressor: Ratio 3.5:1, Attack 20ms, Release 150ms, Auto-Release enabled":e==="FL Studio"?"- Fruity Compressor: Ratio 4:1, Attack 10ms, Release 250ms, Knee 3dB":"- Ratio: 3:1 to 4:1, Attack: 10-30ms, Release: 100-300ms"}

**Reverb & Delay:**
${r&&!t?`- ${r.reverb}: Room/Hall setting, 1.2s decay, Pre-delay 20ms, Mix 25%
- ${r.delay}: 1/8 note timing, Feedback 35%, High-cut 8kHz, Mix 20%`:"- Room reverb: 0.8-1.5s decay for space, Delay: 1/8 or 1/4 note timing, High-cut: 8-12 kHz to avoid harshness"}

**Effects Chain:**
${t?`- Using ${t}: Apply specific parameter recommendations based on your plugin selection`:r?`- ${r.eq} → ${r.compressor} → ${r.saturator} → ${r.reverb}/${r.delay} → ${r.limiter}`:"- Standard effects: EQ → Compressor → Reverb/Delay → Limiter"}
- Send levels: 15-25% to reverb bus, 10-20% to delay bus
- Sidechain settings: 4:1 ratio, fast attack, medium release`}function e1(e=!0){const t=e?" | **Instrumentation** ":"",n=e?" | --- ":"",r=e?[" | Lead synth, Bass, Drums, Pads "," | Vocals, Full arrangement "," | Reduced arrangement, Focus elements "," | Full arrangement, Vocal harmonies "," | Breakdown elements, Build-up "," | Lead elements, Minimal backing "," | Full arrangement, Climax elements "," | Fade elements, Ambient textures "]:Array(8).fill("");return`
## 🎼 Structural Blueprint

| **Section** | **Duration** | **Key Elements** | **Energy Level**${t}|
| --- | --- | --- | ---${n}|
| **Intro** | 16-32 bars | Atmospheric build, Teaser elements | Low-Medium${r[0]}|
| **Verse 1** | 16 bars | Main groove, Vocal/Lead melody | Medium${r[1]}|
| **Pre-Chorus** | 8 bars | Tension build, Filter sweeps | Medium-High${r[2]}|
| **Chorus** | 16 bars | Full energy, Hook elements | High${r[3]}|
| **Breakdown** | 8-16 bars | Stripped back, Build tension | Low-Medium${r[4]}|
| **Verse 2/Solo** | 16 bars | Variation, New elements | Medium-High${r[5]}|
| **Final Chorus** | 16-24 bars | Maximum energy, All elements | Maximum${r[6]}|
| **Outro** | 16-32 bars | Gradual fade, Ambient tail | Low${r[7]}|`}const fD=async e=>{var E,k;const t=((E=e.genre)==null?void 0:E.join(", "))||"Not specified",n=((k=e.vibe)==null?void 0:k.join(", "))||"Not specified",r=e.availableInstruments||"Not specified",o=e.key?`Key: ${e.key}`:"",l=e.scale?`Scale/Mode: ${e.scale}`:"",u=e.chords?`Chord Progression: ${e.chords}`:"",f=e.referenceTrackLink?`Reference Track: ${e.referenceTrackLink}`:"",h=e.lyrics?`Lyrics Theme: ${e.lyrics}`:"",d=e.generalNotes?`Additional Notes: ${e.generalNotes}`:"",m=e1(!0),g=Wb(e.daw,e.plugins),T=`You are TrackGuideAI, an expert music production assistant specializing in comprehensive track creation guides.

Create a detailed TrackGuide for the following specifications:
- **Genre**: ${t}
- **Vibe**: ${n}
- **Available Instruments**: ${r}
- **DAW**: ${e.daw||"Not specified"}
- **Plugins**: ${e.plugins||"Stock/Generic plugins"}
${o}
${l}
${u}
${f}
${h}
${d}

**IMPORTANT FORMATTING REQUIREMENTS:**
1. Include the exact Structural Blueprint table with Instrumentation column as provided
2. Use specific plugin parameters when DAW/plugins are specified
3. Provide actionable, detailed guidance for each section
4. Use markdown formatting with proper headers and emphasis

**Required Sections:**

${m}

## 🎵 Genre DNA Analysis
**Core Characteristics:**
- Tempo range and feel
- Harmonic structure and chord progressions
- Rhythmic patterns and groove elements
- Sonic palette and instrumentation choices

**Reference Analysis:**
${e.referenceTrackLink?"Analyze the provided reference track for key production techniques and arrangement ideas.":`Draw from classic examples in the ${t} genre for inspiration.`}

## 🎹 Instrument & Sound Design
**Primary Elements:**
- Lead sounds: Character, processing, and role
- Bass design: Sub content, mid presence, and groove
- Drum programming: Kick selection, snare character, hi-hat patterns
- Harmonic elements: Pad textures, chord voicings, arpeggios

**Sound Shaping:**
- Synthesis techniques and oscillator choices
- Filter movements and modulation
- Effects processing and spatial placement
- Layering strategies for fullness

${g}

## 🎚️ Mixing & Arrangement Strategy
**Frequency Management:**
- Low-end: Sub-bass vs bass guitar/synth separation
- Midrange: Vocal/lead clarity and instrument separation  
- High-end: Air, sparkle, and presence balance

**Spatial Design:**
- Stereo width: Center, sides, and phantom center elements
- Depth: Reverb sends, delay throws, and dry/wet balance
- Movement: Automation, panning, and filter sweeps

**Dynamic Control:**
- Compression: Individual tracks and bus processing
- Sidechain: Pumping effects and clarity enhancement
- Limiting: Loudness and peak control

## 🎼 Arrangement Flow & Energy Management
**Section Transitions:**
- Build techniques: Risers, drum fills, filter sweeps
- Drop preparation: Silence, reverse reverbs, tension
- Energy curves: How to maintain listener engagement

**Variation Techniques:**
- Verse differences: Subtle changes to maintain interest
- Chorus variations: Building intensity across repetitions
- Bridge/breakdown: Contrast and reset before final sections

Focus on practical, actionable advice that can be immediately applied in ${e.daw||"any DAW"}. Provide specific parameter ranges and creative techniques that align with the ${t} aesthetic and ${n} mood.`;return await zr.models.generateContentStream({model:Ur,contents:T})},ps=async e=>{const t=`You are TrackGuideAI's MIDI Pattern Generator. Generate MIDI patterns in VALID JSON format only.

**Requirements:**
- Key: ${e.key}
- Scale/Mode: ${e.scale||"Major/Natural Minor"}
- Tempo: ${e.tempo} BPM
- Time Signature: ${e.timeSignature.join("/")}
- Chord Progression: ${e.chordProgression}
- Genre Context: ${e.genre}
- Song Section: ${e.songSection||"General Loop"}
- Bars: ${e.bars}
- Target Instruments: ${e.targetInstruments.join(", ")}

**JSON Structure Required:**
{
  "chords": [
    {
      "time": 0,
      "name": "Cmaj7",
      "duration": 2,
      "notes": [
        {"pitch": "C4", "midi": 60},
        {"pitch": "E4", "midi": 64},
        {"pitch": "G4", "midi": 67},
        {"pitch": "B4", "midi": 71}
      ],
      "velocity": 100
    }
  ],
  "bassline": [
    {
      "time": 0,
      "midi": 36,
      "duration": 0.5,
      "velocity": 110,
      "pitch": "C2"
    }
  ],
  "melody": [
    {
      "time": 0,
      "midi": 72,
      "duration": 1,
      "velocity": 100,
      "pitch": "C5"
    }
  ],
  "drums": {
    "kick": [
      {"time": 0, "duration": 0.1, "velocity": 120},
      {"time": 1, "duration": 0.1, "velocity": 115}
    ],
    "snare": [
      {"time": 1, "duration": 0.1, "velocity": 110},
      {"time": 3, "duration": 0.1, "velocity": 105}
    ],
    "hihat_closed": [
      {"time": 0.5, "duration": 0.1, "velocity": 80},
      {"time": 1.5, "duration": 0.1, "velocity": 75}
    ]
  }
}

**CRITICAL:** Return ONLY valid JSON. No explanatory text, no markdown formatting, no code blocks. Just the raw JSON object that can be parsed directly.

Generate patterns appropriate for ${e.genre} in the ${e.songSection} section, using ${e.chordProgression} progression in ${e.key}.`;return await zr.models.generateContentStream({model:Ur,contents:t})},dD=async e=>{const t=`You are TrackGuideAI's Mix Analysis Expert. Provide detailed mix feedback.

**Track Analysis:**
- Track Name: ${e.trackName}
- Focus Areas: ${e.focus||"Overall mix balance and clarity"}
- User Notes: ${e.notes||e.userNotes||"No specific notes provided"}

**Analysis Framework:**
1. **Frequency Balance**
   - Low-end: Sub-bass presence and bass clarity
   - Midrange: Vocal/lead prominence and instrument separation
   - High-end: Air, sparkle, and harshness assessment

2. **Spatial Characteristics**
   - Stereo width and imaging
   - Depth and dimension
   - Center focus vs side content

3. **Dynamic Properties**
   - Compression effectiveness
   - Transient preservation
   - Overall loudness and headroom

4. **Technical Assessment**
   - Phase relationships
   - Distortion or artifacts
   - Noise floor and clarity

**Provide specific, actionable feedback with:**
- Identified strengths and areas for improvement
- Specific frequency ranges and dB adjustments
- Plugin suggestions and parameter recommendations
- Before/after comparison techniques

Focus on practical improvements that can be implemented immediately.`;return(await zr.models.generateContent({model:Ur,contents:t})).text},hD=async e=>{const t=`
You are an expert mixing & mastering AI. The user has uploaded two mixes:

Mix A: "${e.mixAName}" — an earlier version  
Mix B: "${e.mixBName}" — the current working version  

🎧 Instructions:
- Mix B is the active version — focus all actionable feedback on improving Mix B.
- Mix A is an earlier version — if Mix A has strengths vs Mix B, point those out.
- Acknowledge improvements made in Mix B compared to A.
- Do NOT suggest changes to Mix A (it is not being revised).

If "Request full mix analysis" is selected → add full technical breakdown of Mix B (like in your Mix Feedback function).

Provide your analysis in clear Markdown format with the following sections:

## 🎧 Overall Comparison

## 🎛️ Frequency Balance

## 🎚️ Stereo Image & Depth

## 📈 Dynamics & Loudness

## ⚙️ Technical Quality

## 🏆 Strengths & Opportunities (for Mix B)

## 🚀 Actionable Recommendations (for Mix B only)

`;return(await zr.models.generateContent({model:Ur,contents:t})).text};async function mD(e,t,n,r,o){var l,u;try{const f=n!=null&&n.tempoRange?`${n.tempoRange[0]}-${n.tempoRange[1]} BPM`:"120-130 BPM",h=(n==null?void 0:n.sections)||["Intro","Build-Up","Drop","Breakdown","Outro"],d=e1(!0),m=Wb(r,o),T={text:`You are TrackGuideAI's Remix Specialist. Analyze the uploaded audio track and create a comprehensive remix guide for transforming it into ${t} style.

**User Production Setup:**
- **DAW:** ${r||"Not specified"}
- **Available Plugins:** ${o||"Stock/Generic plugins"}

**Analysis Requirements:**
1. Identify the original track's tempo, key, harmonic progression, and rhythmic characteristics
2. Determine optimal transformation approach for ${t}
3. Provide detailed production guidance with specific techniques
4. Include plugin-specific parameter recommendations based on user's setup

**Target Genre:** ${t}
**Target Tempo Range:** ${f}
**Suggested Sections:** ${h.join(", ")}

**CRITICAL: Return your response in this EXACT JSON format:**
{
  "guide": "FULL_MARKDOWN_GUIDE_HERE",
  "originalTempo": 120,
  "originalKey": "C minor",
  "originalChordProgression": "i-VI-III-VII",
  "targetTempo": 128,
  "targetKey": "C minor",
  "sections": ["Intro", "Build-Up", "Drop", "Breakdown", "Outro"]
}

**For the "guide" field, create a detailed markdown guide that includes:**

# 🎵 REMIX GUIDE: [Original Track] → ${t}

## 🎧 Original Track DNA Analysis
**Detected Characteristics:**
- **Original Tempo:** [Detected BPM]
- **Original Key:** [Detected Key]
- **Harmonic Blueprint:** [Chord progression analysis]
- **Rhythmic Feel:** [Time signature and groove analysis]
- **Sonic Character:** [Tonal qualities and instrumentation]

**Transformation Strategy:**
- **Target Tempo:** [Recommended BPM within ${f}]
- **Target Key:** [Optimal key for ${t}]
- **Genre Adaptation:** [How to adapt original elements]

${d}

## 🎹 Sound Design & Instrumentation Transformation
**Lead Elements:**
- **Original → ${t}:** Transform existing leads using specific techniques
- **New Elements:** Add characteristic ${t} sounds
- **Processing Chain:** Specific plugin recommendations and parameters

**Rhythm Section Redesign:**
- **Drum Programming:** ${t}-specific patterns and sounds
- **Bass Design:** Sub-bass content and mid-range presence for ${t}
- **Percussion:** Additional elements typical of ${t}

**Harmonic Content:**
- **Chord Voicings:** Adapt progressions for ${t} aesthetic
- **Pad Textures:** Atmospheric elements and spatial design
- **Arpeggios/Sequences:** Rhythmic harmonic content

${m}

## 🎚️ Production Techniques & Processing
**Arrangement Strategy:**
- **Section Transitions:** Build-ups, drops, and breakdowns for ${t}
- **Energy Management:** How to structure dynamics across sections
- **Original Element Integration:** Preserving vs transforming source material

**Mix Approach:**
- **Frequency Management:** EQ strategies for ${t} clarity
- **Spatial Design:** Stereo width and depth characteristics
- **Dynamic Processing:** Compression and limiting for ${t} impact

**Effects Processing:**
- **Time-Based Effects:** Reverb and delay for ${t} space
- **Modulation:** LFOs, filters, and movement
- **Creative Processing:** Distortion, bit-crushing, and character effects

## 🎼 Step-by-Step Remix Process
**Phase 1: Preparation**
1. Tempo adjustment: Specific technique for tempo change
2. Key transposition: If needed, method and tools
3. Audio editing: Chopping, slicing, and preparation

**Phase 2: Foundation**
1. Drum programming: ${t} patterns and sounds
2. Bass design: Sub and mid-bass for ${t}
3. Harmonic foundation: Chord progressions and voicings

**Phase 3: Development**
1. Lead transformation: Processing original or creating new
2. Atmospheric elements: Pads, textures, and ambience
3. Rhythmic elements: Percussion and groove enhancement

**Phase 4: Arrangement**
1. Section structure: Intro, build-ups, drops, breakdowns
2. Transition techniques: Risers, sweeps, and cuts
3. Variation strategies: Keeping listener engagement

**Phase 5: Mix & Master**
1. Frequency balance: ${t}-specific EQ approach
2. Dynamic control: Compression and limiting strategies
3. Spatial processing: Stereo width and depth
4. Final polish: Loudness and character enhancement

## 🔥 Pro Tips for ${t} Remix Success
- **Signature Elements:** Key characteristics that define ${t}
- **Common Pitfalls:** What to avoid when adapting to ${t}
- **Creative Opportunities:** Unique ways to blend original with ${t}
- **Reference Tracks:** Study these ${t} examples for inspiration

Focus on practical, actionable techniques that can be implemented immediately. Provide specific parameter suggestions and creative approaches that honor both the original track and the target genre aesthetic.

**IMPORTANT:** Return ONLY the JSON object with the complete markdown guide in the "guide" field. Focus on detailed analysis and production techniques.`},E=[{inlineData:{data:e.base64,mimeType:e.mimeType}},T],R=(await zr.models.generateContent({model:Ur,contents:{parts:E}})).text;if(typeof R!="string")throw new Error("Received an unexpected response format from Gemini API for remix guide.");let D=R.trim();const B=/^```(\w*)?\s*\n?(.*?)\n?\s*```$/s,P=D.match(B);P&&P[2]&&(D=P[2].trim());let z;try{z=JSON.parse(D)}catch{console.error("Failed to parse JSON response:",D);const se=R.match(/Target Tempo.*?(\d+)/i),ae=R.match(/Target Key.*?([A-G][#b]?\s*(?:major|minor|maj|min)?)/i);return{guide:R,targetTempo:se?parseInt(se[1]):((l=n==null?void 0:n.tempoRange)==null?void 0:l[0])||128,targetKey:ae?ae[1].trim():"C minor",sections:h,originalKey:"C minor",originalTempo:120,originalChordProgression:"i-VI-III-VII"}}return{guide:z.guide||R,targetTempo:z.targetTempo||((u=n==null?void 0:n.tempoRange)==null?void 0:u[0])||128,targetKey:z.targetKey||"C minor",sections:z.sections||h,originalKey:z.originalKey||"C minor",originalTempo:z.originalTempo||120,originalChordProgression:z.originalChordProgression||"i-VI-III-VII"}}catch(f){console.error("Error generating remix guide:",f);let h="An unknown error occurred while generating remix guide.";throw f instanceof Error&&(h=f.message,f.message.includes("API key not valid")||f.message.includes("permission")?h="Invalid API Key or insufficient permissions. Please check your API key configuration.":f.message.toLowerCase().includes("network error")||f.message.toLowerCase().includes("failed to fetch")?h=`Network error: Failed to connect to Gemini API. Please check your internet connection. (${f.message})`:f.message.includes("Candidate was blocked")?h="The response for remix guide was blocked by the AI. This might be due to content policies. Please try again or adjust your input.":f.message.includes("audio")&&(h=`There was an issue processing the audio file. Ensure it's a common format and not too large. (${f.message})`)),new Error(h)}}const vx=async e=>{if(!e.audioFile)return dD(e);try{const n=await(d=>new Promise((m,g)=>{const T=new FileReader;T.onloadend=()=>{const S=T.result;m(S.split(",")[1])},T.onerror=g,T.readAsDataURL(d)}))(e.audioFile),o={text:`You are TrackGuideAI's Advanced Mix Analysis Expert. Analyze the uploaded audio file and provide comprehensive mix feedback.

**Track Information:**
- Track Name: ${e.trackName||"Uploaded Mix"}
- Focus Areas: ${e.focus||"Overall mix balance and clarity"}
- User Notes: ${e.notes||e.userNotes||"No specific notes provided"}

**Comprehensive Analysis Framework:**

## 🎧 Audio Analysis Results

### Frequency Spectrum Analysis
**Low-End (20-250 Hz):**
- Sub-bass presence and control
- Bass clarity and definition
- Low-mid muddiness assessment

**Midrange (250 Hz - 5 kHz):**
- Vocal/lead instrument clarity
- Instrument separation and masking
- Presence and intelligibility

**High-End (5 kHz+):**
- Air and sparkle quality
- Harshness or sibilance issues
- Overall brightness balance

### Stereo Field & Spatial Analysis
**Width & Imaging:**
- Stereo spread effectiveness
- Phantom center stability
- Side content balance

**Depth & Dimension:**
- Reverb usage and space
- Dry/wet balance
- Front-to-back positioning

### Dynamic Range Assessment
**Compression Analysis:**
- Overall dynamic range
- Transient preservation
- Pumping or over-compression

**Loudness Evaluation:**
- Perceived loudness level
- Peak management
- Headroom availability

### Technical Quality Check
**Distortion & Artifacts:**
- Unwanted harmonic distortion
- Digital artifacts or clipping
- Noise floor assessment

**Phase Relationships:**
- Mono compatibility
- Phase cancellation issues
- Correlation analysis

## 🎯 Specific Recommendations

### Immediate Improvements
1. **Priority Fix #1:** [Most critical issue with specific solution]
2. **Priority Fix #2:** [Second most important improvement]
3. **Priority Fix #3:** [Third priority enhancement]

### Technical Adjustments
**EQ Suggestions:**
- Specific frequency cuts/boosts with dB amounts
- Problem frequency identification
- Enhancement opportunities

**Compression Recommendations:**
- Ratio, attack, and release settings
- Specific compressor types or plugins
- Bus compression strategies

**Effects Processing:**
- Reverb and delay adjustments
- Spatial enhancement techniques
- Creative processing opportunities

### Professional Polish
**Mastering Considerations:**
- Final EQ and compression
- Stereo enhancement
- Loudness optimization

**Reference Comparison:**
- How this mix compares to commercial standards
- Genre-specific benchmarks
- Areas for competitive improvement

Provide actionable, specific feedback that can be implemented immediately to improve the mix quality and professional impact.`},u=[{inlineData:{data:n,mimeType:e.audioFile.type||"audio/mpeg"}},o],h=(await zr.models.generateContent({model:Ur,contents:{parts:u}})).text;if(typeof h!="string")throw new Error("Received an unexpected response format from Gemini API for mix feedback.");return h}catch(t){console.error("Error generating mix feedback with audio:",t);let n="An unknown error occurred while generating mix feedback.";throw t instanceof Error&&(n=t.message,t.message.includes("API key not valid")||t.message.includes("permission")?n="Invalid API Key or insufficient permissions. Please check your API key configuration.":t.message.toLowerCase().includes("network error")||t.message.toLowerCase().includes("failed to fetch")?n=`Network error: Failed to connect to Gemini API. Please check your internet connection. (${t.message})`:t.message.includes("Candidate was blocked")?n="The response was blocked by the AI. This might be due to content policies. Please try again or adjust your input.":t.message.includes("audio")&&(n=`There was an issue processing the audio file. Ensure it's a common format and not too large. (${t.message})`)),new Error(n)}};async function pD(e){try{const n=(await zr.models.generateContent({model:Ur,contents:e})).text;if(typeof n!="string")throw new Error("Received an unexpected response format from Gemini API.");return n}catch(t){console.error("Error generating content:",t);let n="An unknown error occurred while generating content.";throw t instanceof Error&&(n=t.message,t.message.includes("API key not valid")||t.message.includes("permission")?n="Invalid API Key or insufficient permissions. Please check your API key configuration.":(t.message.toLowerCase().includes("network error")||t.message.toLowerCase().includes("failed to fetch"))&&(n=`Network error: Failed to connect to Gemini API. Please check your internet connection. (${t.message})`)),new Error(n)}}const _n=Bb.forwardRef(({label:e,id:t,wrapperClassName:n,...r},o)=>y.jsxs("div",{className:n,children:[e&&y.jsx("label",{htmlFor:t,className:"block text-sm font-medium text-gray-300 mb-1",children:e}),y.jsx("input",{id:t,ref:o,...r,className:`w-full px-4 py-2 bg-gray-800 border border-gray-700 rounded-md shadow-sm placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-purple-500 text-gray-100 ${r.className||""}`})]}));_n.displayName="Input";const Da=({label:e,id:t,wrapperClassName:n,...r})=>y.jsxs("div",{className:n,children:[e&&y.jsx("label",{htmlFor:t,className:"block text-sm font-medium text-gray-300 mb-1",children:e}),y.jsx("textarea",{id:t,...r,className:`w-full px-4 py-2 bg-gray-800 border border-gray-700 rounded-md shadow-sm placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-purple-500 text-gray-100 ${r.className||""}`,rows:3})]}),Be=({children:e,variant:t="primary",size:n="md",className:r="",leftIcon:o,rightIcon:l,...u})=>{const f="inline-flex items-center justify-center font-semibold rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-gray-900 transition-colors duration-150 disabled:opacity-50 disabled:cursor-not-allowed",h={primary:"bg-purple-600 hover:bg-purple-700 text-white focus:ring-purple-500",secondary:"bg-gray-700    hover:bg-gray-600 text-gray-100 focus:ring-gray-500",outline:"border border-purple-500 text-purple-400 hover:bg-purple-500 hover:text-white focus:ring-purple-500",danger:"bg-red-600     hover:bg-red-700 text-white focus:ring-red-500"},d={sm:"px-3 py-1.5 text-sm",md:"px-4 py-2   text-base",lg:"px-6 py-3   text-lg"};return y.jsxs("button",{...u,className:`${f} ${h[t]} ${d[n]} ${r}`,children:[o&&y.jsx("span",{className:"mr-2",children:o}),e,l&&y.jsx("span",{className:"ml-2",children:l})]})},Ge=({children:e,className:t="",title:n,titleClassName:r="",contentClassName:o="",...l})=>y.jsxs("div",{className:`bg-gray-800 shadow-lg rounded-lg overflow-hidden ${t}`,...l,children:[n&&y.jsx("div",{className:`px-4 py-3 border-b border-gray-700 ${r}`,children:y.jsx("h3",{className:"text-lg font-semibold text-gray-100",children:n})}),y.jsx("div",{className:`p-4 ${o}`,children:e})]}),er=({size:e="md",color:t="text-purple-500",text:n})=>{const r={sm:"w-6 h-6",md:"w-8 h-8",lg:"w-12 h-12"};return y.jsxs("div",{className:"flex flex-col items-center justify-center",children:[y.jsx("div",{className:`animate-spin rounded-full border-t-2 border-b-2 border-transparent ${r[e]} ${t}`,style:{borderTopColor:"currentColor",borderBottomColor:"currentColor"}}),n&&y.jsx("p",{className:"mt-2 text-sm text-gray-400",children:n})]})},qd=({className:e,title:t})=>y.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:e||"w-5 h-5","aria-hidden":t?void 0:"true",role:t?"img":void 0,children:[t&&y.jsx("title",{children:t}),y.jsx("path",{fillRule:"evenodd",d:"M3 17a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zm3.293-7.707a1 1 0 011.414 0L9 10.586V3a1 1 0 112 0v7.586l1.293-1.293a1 1 0 111.414 1.414l-3 3a1 1 0 01-1.414 0l-3-3a1 1 0 010-1.414z",clipRule:"evenodd"})]}),gD=({className:e,title:t})=>y.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:e||"w-5 h-5","aria-hidden":t?void 0:"true",role:t?"img":void 0,children:[t&&y.jsx("title",{children:t}),y.jsx("path",{d:"M5 4a2 2 0 012-2h6a2 2 0 012 2v10a2 2 0 01-2 2H7a2 2 0 01-2-2V4zm2 0v10h6V4H7zm5 1h-4a1 1 0 100 2h4a1 1 0 100-2z"})]}),yD=({className:e,title:t})=>y.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:e||"w-5 h-5","aria-hidden":t?void 0:"true",role:t?"img":void 0,children:[t&&y.jsx("title",{children:t}),y.jsx("path",{fillRule:"evenodd",d:"M9 2a1 1 0 00-.894.553L7.382 4H4a1 1 0 000 2v10a2 2 0 002 2h8a2 2 0 002-2V6a1 1 0 100-2h-3.382l-.724-1.447A1 1 0 0011 2H9zM7 8a1 1 0 012 0v6a1 1 0 11-2 0V8zm5-1a1 1 0 00-1 1v6a1 1 0 102 0V8a1 1 0 00-1-1z",clipRule:"evenodd"})]}),Gd=({className:e,title:t})=>y.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:e||"w-6 h-6","aria-hidden":t?void 0:"true",role:t?"img":void 0,children:[t&&y.jsx("title",{children:t}),y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6.042A8.967 8.967 0 006 3.75c-1.052 0-2.062.18-3 .512v14.25A8.987 8.987 0 016 18c2.305 0 4.408.867 6 2.292m0-14.25a8.966 8.966 0 016-2.292c1.052 0 2.062.18 3 .512v14.25A8.987 8.987 0 0018 18a8.967 8.967 0 00-6 2.292m0-14.25v14.25"})]}),xD=({className:e,title:t})=>y.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:e||"w-5 h-5","aria-hidden":t?void 0:"true",role:t?"img":void 0,children:[t&&y.jsx("title",{children:t}),y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 01-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 011.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 00-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 01-1.125-1.125v-9.25m9.75 0l-4.5-4.5m0 0l-4.5 4.5M12.75 3v4.5A2.25 2.25 0 0015 9.75h4.5"})]}),t1=({className:e,title:t})=>y.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:e||"w-5 h-5","aria-hidden":t?void 0:"true",role:t?"img":void 0,children:[t&&y.jsx("title",{children:t}),y.jsx("path",{d:"M10 3.515V11.24a3.513 3.513 0 00-1.5-.406c-1.313 0-2.388.752-2.388 1.672S7.187 14.18 8.5 14.18c1.238 0 2.263-.672 2.375-1.537h.125v-7.14c0-.313.11-.604.313-.828.202-.224.494-.344.812-.344.625 0 1.125.5 1.125 1.125V11.24a3.513 3.513 0 00-1.5-.406c-1.313 0-2.388.752-2.388 1.672S10.187 14.18 11.5 14.18c1.313 0 2.388-.752 2.388-1.672a1.675 1.675 0 00-1.078-1.543V3.515A2.625 2.625 0 0010 1C8.619 1 7.5 2.12 7.5 3.5V11.24A3.513 3.513 0 006 10.833c-1.313 0-2.388.752-2.388 1.672S4.687 14.18 6 14.18c1.237 0 2.262-.672 2.375-1.537h.125V6.125C8.5 4.5 9.125 3.515 10 3.515z"})]}),Yd=({className:e,title:t})=>y.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:e||"w-5 h-5","aria-hidden":t?void 0:"true",role:t?"img":void 0,children:[t&&y.jsx("title",{children:t}),y.jsx("path",{d:"M10.75 4.75a.75.75 0 00-1.5 0v4.5h-4.5a.75.75 0 000 1.5h4.5v4.5a.75.75 0 001.5 0v-4.5h4.5a.75.75 0 000-1.5h-4.5v-4.5z"})]}),bx=({className:e,title:t})=>y.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:e||"w-5 h-5","aria-hidden":t?void 0:"true",role:t?"img":void 0,children:[t&&y.jsx("title",{children:t}),y.jsx("path",{fillRule:"evenodd",d:"M6.516 4.42A1.5 1.5 0 004 5.662v8.676a1.5 1.5 0 002.516 1.242l6.712-4.338a1.5 1.5 0 000-2.484L6.516 4.42z",clipRule:"evenodd"})]}),vD=({className:e,title:t})=>y.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:e||"w-5 h-5","aria-hidden":t?void 0:"true",role:t?"img":void 0,children:[t&&y.jsx("title",{children:t}),y.jsx("path",{fillRule:"evenodd",d:"M5 5a1 1 0 00-1 1v8a1 1 0 001 1h8a1 1 0 001-1V6a1 1 0 00-1-1H5zm0-2a3 3 0 00-3 3v8a3 3 0 003 3h8a3 3 0 003-3V6a3 3 0 00-3-3H5z",clipRule:"evenodd"})]}),Tx=({className:e,isSpinning:t,title:n})=>y.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:`${e||"w-5 h-5"} ${t?"animate-spin":""}`,"aria-hidden":n?void 0:"true",role:n?"img":void 0,children:[n&&y.jsx("title",{children:n}),y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.023 9.348h4.992v-.001M2.985 19.644v-4.992m0 0h4.992m-4.993 0l3.181 3.183a8.25 8.25 0 0013.803-3.7M4.031 9.865a8.25 8.25 0 0113.803-3.7l3.181 3.182m0-4.991v4.99"})]}),bD=({className:e,title:t})=>y.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:e||"w-5 h-5","aria-hidden":t?void 0:"true",role:t?"img":void 0,children:[t&&y.jsx("title",{children:t}),y.jsx("path",{fillRule:"evenodd",d:"M18 7H2a1 1 0 00-1 1v6a1 1 0 001 1h16a1 1 0 001-1V8a1 1 0 00-1-1zM2 9.5v3h16v-3H2z",clipRule:"evenodd"}),y.jsx("path",{d:"M4 11h1v1H4v-1zm2 0h1v1H6v-1zm2 0h1v1H8v-1zm2 0h1v1h-1v-1zm2 0h1v1h-1v-1zm2 0h1v1h-1v-1z"})]}),TD=({className:e,title:t})=>y.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:e||"w-6 h-6","aria-hidden":t?void 0:"true",role:t?"img":void 0,children:[t&&y.jsx("title",{children:t}),y.jsx("rect",{x:"3.5",y:"3.5",width:"17",height:"17",rx:"2",stroke:"currentColor",fill:"none",strokeWidth:"1.5"})]}),SD=({className:e,title:t})=>y.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:e||"w-5 h-5","aria-hidden":t?void 0:"true",role:t?"img":void 0,children:[t&&y.jsx("title",{children:t}),y.jsx("path",{fillRule:"evenodd",d:"M3 3a1 1 0 011-1h12a1 1 0 011 1v12a1 1 0 01-1 1H4a1 1 0 01-1-1V3zm10.707 3.707a1 1 0 00-1.414-1.414L8 9.586 6.707 8.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l5-5z",clipRule:"evenodd"})]}),n1=({className:e,title:t})=>y.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:e||"w-6 h-6","aria-hidden":t?void 0:"true",role:t?"img":void 0,children:[t&&y.jsx("title",{children:t}),y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"})]}),nd=({className:e,title:t})=>y.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:e||"w-6 h-6","aria-hidden":t?void 0:"true",role:t?"img":void 0,children:[t&&y.jsx("title",{children:t}),y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 16.5v2.25A2.25 2.25 0 005.25 21h13.5A2.25 2.25 0 0021 18.75V16.5m-13.5-9L12 3m0 0l4.5 4.5M12 3v13.5"})]}),id=({className:e,title:t})=>y.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:e||"w-6 h-6","aria-hidden":t?void 0:"true",role:t?"img":void 0,children:[t&&y.jsx("title",{children:t}),y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.5 6h9.75M10.5 6a2.25 2.25 0 11-4.5 0m4.5 0a2.25 2.25 0 10-4.5 0M3.75 6H7.5m3 12h9.75m-9.75 0a2.25 2.25 0 01-4.5 0m4.5 0a2.25 2.25 0 00-4.5 0M3.75 18H7.5M10.5 12h9.75M10.5 12a2.25 2.25 0 01-4.5 0m4.5 0a2.25 2.25 0 00-4.5 0M3.75 12H7.5"})]});function CD(e){return typeof e=="number"}function wD(e){return typeof e=="string"}function ED(e){return typeof e<"u"}function AD(e,t){return Math.pow(2,(e-69)/12)*440}var MD=/^([a-gA-G])(#{1,}|b{1,}|x{1,}|)(-?\d*)\s*(.*)\s*$/,kD=[0,2,4,5,7,9,11];function DD(e,t,n){if(typeof e!="string")return null;var r=MD.exec(e);if(!r||r[4])return null;var o={letter:r[1].toUpperCase(),acc:r[2].replace(/x/g,"##")};o.pc=o.letter+o.acc,o.step=(o.letter.charCodeAt(0)+3)%7,o.alt=o.acc[0]==="b"?-o.acc.length:o.acc.length;var l=kD[o.step]+o.alt;return o.chroma=l<0?12+l:l%12,r[3]&&(o.oct=+r[3],o.midi=l+12*(o.oct+1),o.freq=AD(o.midi)),o}function ND(e){if((CD(e)||wD(e))&&e>=0&&e<128)return+e;var t=DD(e);return t&&ED(t.midi)?t.midi:null}function RD(e){return Array.isArray(e)&&e.length===2?e[0]*7+e[1]*12+12:ND(e)}var _D="C Db D Eb E F Gb G Ab A Bb B".split(" "),ID="C C# D D# E F F# G G# A A# B".split(" ");function i1(e,t){if(e===!0||e===!1)return function(l){return i1(l,e)};e=Math.round(e);var n=t===!0?ID:_D,r=n[e%12],o=Math.floor(e/12)-1;return r+o}const PD=Object.freeze(Object.defineProperty({__proto__:null,note:i1,toMidi:RD},Symbol.toStringTag,{value:"Module"})),LD=Ww(PD);var rd,Sx;function VD(){if(Sx)return rd;Sx=1;var e=LD,t={VERSION:"2.1.4",HEADER_CHUNK_TYPE:[77,84,104,100],HEADER_CHUNK_LENGTH:[0,0,0,6],HEADER_CHUNK_FORMAT0:[0,0],HEADER_CHUNK_FORMAT1:[0,1],HEADER_CHUNK_DIVISION:[0,128],TRACK_CHUNK_TYPE:[77,84,114,107],META_EVENT_ID:255,META_TEXT_ID:1,META_COPYRIGHT_ID:2,META_TRACK_NAME_ID:3,META_INSTRUMENT_NAME_ID:4,META_LYRIC_ID:5,META_MARKER_ID:6,META_CUE_POINT:7,META_TEMPO_ID:81,META_SMTPE_OFFSET:84,META_TIME_SIGNATURE_ID:88,META_KEY_SIGNATURE_ID:89,META_END_OF_TRACK_ID:[47,0],CONTROLLER_CHANGE_STATUS:176,PITCH_BEND_STATUS:224};function n(V){"@babel/helpers - typeof";return n=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(N){return typeof N}:function(N){return N&&typeof Symbol=="function"&&N.constructor===Symbol&&N!==Symbol.prototype?"symbol":typeof N},n(V)}function r(){r=function(O,G){return new _(O,void 0,G)};var V=RegExp.prototype,N=new WeakMap;function _(O,G,M){var ee=new RegExp(O,G);return N.set(ee,M||N.get(O)),h(ee,_.prototype)}function C(O,G){var M=N.get(G);return Object.keys(M).reduce(function(ee,j){return ee[j]=O[M[j]],ee},Object.create(null))}return f(_,RegExp),_.prototype.exec=function(O){var G=V.exec.call(this,O);return G&&(G.groups=C(G,this)),G},_.prototype[Symbol.replace]=function(O,G){if(typeof G=="string"){var M=N.get(this);return V[Symbol.replace].call(this,O,G.replace(/\$<([^>]+)>/g,function(j,te){return"$"+M[te]}))}if(typeof G=="function"){var ee=this;return V[Symbol.replace].call(this,O,function(){var j=arguments;return typeof j[j.length-1]!="object"&&(j=[].slice.call(j)).push(C(j,ee)),G.apply(this,j)})}return V[Symbol.replace].call(this,O,G)},r.apply(this,arguments)}function o(V,N){if(!(V instanceof N))throw new TypeError("Cannot call a class as a function")}function l(V,N){for(var _=0;_<N.length;_++){var C=N[_];C.enumerable=C.enumerable||!1,C.configurable=!0,"value"in C&&(C.writable=!0),Object.defineProperty(V,C.key,C)}}function u(V,N,_){return N&&l(V.prototype,N),_&&l(V,_),Object.defineProperty(V,"prototype",{writable:!1}),V}function f(V,N){if(typeof N!="function"&&N!==null)throw new TypeError("Super expression must either be null or a function");V.prototype=Object.create(N&&N.prototype,{constructor:{value:V,writable:!0,configurable:!0}}),Object.defineProperty(V,"prototype",{writable:!1}),N&&h(V,N)}function h(V,N){return h=Object.setPrototypeOf||function(C,O){return C.__proto__=O,C},h(V,N)}var d=function(){function V(){o(this,V)}return u(V,null,[{key:"version",value:function(){return t.VERSION}},{key:"stringToBytes",value:function(_){return _.split("").map(function(C){return C.charCodeAt()})}},{key:"isNumeric",value:function(_){return!isNaN(parseFloat(_))&&isFinite(_)}},{key:"getPitch",value:function(_){var C=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"C4";return 60-e.toMidi(C)+e.toMidi(_)}},{key:"numberToVariableLength",value:function(_){_=Math.round(_);for(var C=_&127;_=_>>7;)C<<=8,C|=_&127|128;for(var O=[];O.push(C&255),C&128;)C>>=8;return O}},{key:"stringByteCount",value:function(_){return encodeURI(_).split(/%..|./).length-1}},{key:"numberFromBytes",value:function(_){var C="",O;return _.forEach(function(G){O=G.toString(16),O.length==1&&(O="0"+O),C+=O}),parseInt(C,16)}},{key:"numberToBytes",value:function(_,C){C=C||1;var O=_.toString(16);O.length&1&&(O="0"+O);var G=O.match(/.{2}/g);if(G=G.map(function(M){return parseInt(M,16)}),G.length<C)for(;C-G.length>0;)G.unshift(0);return G}},{key:"toArray",value:function(_){return Array.isArray(_)?_:[_]}},{key:"convertVelocity",value:function(_){return _=_>100?100:_,Math.round(_/100*127)}},{key:"getTickDuration",value:function(_){if(Array.isArray(_))return _.map(function(M){return V.getTickDuration(M)}).reduce(function(M,ee){return M+ee},0);if(_=_.toString(),_.toLowerCase().charAt(0)==="t"){var C=parseInt(_.substring(1));if(isNaN(C)||C<0)throw new Error(_+" is not a valid duration.");return C}var O=V.numberFromBytes(t.HEADER_CHUNK_DIVISION),G=O*V.getDurationMultiplier(_);return V.getRoundedIfClose(G)}},{key:"getRoundedIfClose",value:function(_){var C=Math.round(_);return Math.abs(C-_)<1e-6?C:_}},{key:"getPrecisionLoss",value:function(_){var C=Math.round(_);return C-_}},{key:"getDurationMultiplier",value:function(_){if(_==="0")return 0;var C=_.match(r(/^(d+)?(\d+)(?:t(\d*))?/,{dotted:1,base:2,tuplet:3}));if(C){var O=Number(C.groups.base),G=O===1||(O&O-1)===0;if(G){var M=O/4,ee=1/M,j=C.groups,te=j.dotted,ye=j.tuplet;if(te){var le=te.length,Ee=Math.pow(2,le);ee=ee+ee*((Ee-1)/Ee)}if(typeof ye=="string"){var _e=ee*2,je=Number(ye||"3");ee=_e/je}return ee}}throw new Error(_+" is not a valid duration.")}}]),V}(),m=u(function V(N){o(this,V),N=Object.assign({delta:0},N),this.type="controller",this.data=d.numberToVariableLength(N.delta).concat(t.CONTROLLER_CHANGE_STATUS,N.controllerNumber,N.controllerValue)}),g=u(function V(N){o(this,V),N=Object.assign({delta:0},N),this.type="cue-point";var _=d.stringToBytes(N.text);this.data=d.numberToVariableLength(N.delta).concat(t.META_EVENT_ID,t.META_CUE_POINT,d.numberToVariableLength(_.length),_)}),T=u(function V(N){o(this,V),N=Object.assign({delta:0},N),this.type="end-track",this.data=d.numberToVariableLength(N.delta).concat(t.META_EVENT_ID,t.META_END_OF_TRACK_ID)}),S=u(function V(N){o(this,V),N=Object.assign({delta:0},N),this.type="instrument-name";var _=d.stringToBytes(N.text);this.data=d.numberToVariableLength(N.delta).concat(t.META_EVENT_ID,t.META_INSTRUMENT_NAME_ID,d.numberToVariableLength(_.length),_)}),E=u(function V(N,_){o(this,V),this.type="key-signature";var C=_||0;if(N=N||0,typeof _>"u"){var O=[["Cb","Gb","Db","Ab","Eb","Bb","F","C","G","D","A","E","B","F#","C#"],["ab","eb","bb","f","c","g","d","a","e","b","f#","c#","g#","d#","a#"]],G=N.length,M=N||"C";if(N[0]===N[0].toLowerCase()&&(C=1),G>1)switch(N.charAt(G-1)){case"m":C=1,M=N.charAt(0).toLowerCase(),M=M.concat(N.substring(1,G-1));break;case"-":C=1,M=N.charAt(0).toLowerCase(),M=M.concat(N.substring(1,G-1));break;case"M":C=0,M=N.charAt(0).toUpperCase(),M=M.concat(N.substring(1,G-1));break;case"+":C=0,M=N.charAt(0).toUpperCase(),M=M.concat(N.substring(1,G-1));break}var ee=O[C].indexOf(M);N=ee===-1?0:ee-7}this.data=d.numberToVariableLength(0).concat(t.META_EVENT_ID,t.META_KEY_SIGNATURE_ID,[2],d.numberToBytes(N,1),d.numberToBytes(C,1))}),k=u(function V(N){o(this,V),N=Object.assign({delta:0},N),this.type="lyric";var _=d.stringToBytes(N.text);this.data=d.numberToVariableLength(N.delta).concat(t.META_EVENT_ID,t.META_LYRIC_ID,d.numberToVariableLength(_.length),_)}),R=u(function V(N){o(this,V),N=Object.assign({delta:0},N),this.type="marker";var _=d.stringToBytes(N.text);this.data=d.numberToVariableLength(N.delta).concat(t.META_EVENT_ID,t.META_MARKER_ID,d.numberToVariableLength(_.length),_)}),D=function(){function V(N){o(this,V),N=Object.assign({channel:1,startTick:null,velocity:50,wait:0},N),this.type="note-on",this.channel=N.channel,this.pitch=N.pitch,this.wait=N.wait,this.velocity=N.velocity,this.startTick=N.startTick,this.tick=null,this.delta=null,this.data=N.data}return u(V,[{key:"buildData",value:function(_,C){var O=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this.data=[],this.startTick?(this.tick=d.getRoundedIfClose(this.startTick),_.tickPointer==0&&(this.delta=this.tick)):(this.delta=d.getTickDuration(this.wait),this.tick=d.getRoundedIfClose(_.tickPointer+this.delta)),this.deltaWithPrecisionCorrection=d.getRoundedIfClose(this.delta-C),this.data=d.numberToVariableLength(this.deltaWithPrecisionCorrection).concat(this.getStatusByte(),d.getPitch(this.pitch,O.middleC),d.convertVelocity(this.velocity)),this}},{key:"getStatusByte",value:function(){return 144+this.channel-1}}]),V}(),B=function(){function V(N){o(this,V),N=Object.assign({channel:1,velocity:50,tick:null},N),this.type="note-off",this.channel=N.channel,this.pitch=N.pitch,this.duration=N.duration,this.velocity=N.velocity,this.tick=N.tick,this.delta=d.getTickDuration(this.duration),this.data=N.data}return u(V,[{key:"buildData",value:function(_,C){var O=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this.tick===null&&(this.tick=d.getRoundedIfClose(this.delta+_.tickPointer)),this.deltaWithPrecisionCorrection=d.getRoundedIfClose(this.delta-C),this.data=d.numberToVariableLength(this.deltaWithPrecisionCorrection).concat(this.getStatusByte(),d.getPitch(this.pitch,O.middleC),d.convertVelocity(this.velocity)),this}},{key:"getStatusByte",value:function(){return 128+this.channel-1}}]),V}(),P=function(){function V(N){o(this,V),N=Object.assign({channel:1,repeat:1,sequential:!1,startTick:null,velocity:50,wait:0},N),this.data=[],this.type="note",this.pitch=d.toArray(N.pitch),this.channel=N.channel,this.duration=N.duration,this.grace=N.grace,this.repeat=N.repeat,this.sequential=N.sequential,this.startTick=N.startTick,this.velocity=N.velocity,this.wait=N.wait,this.tickDuration=d.getTickDuration(this.duration),this.restDuration=d.getTickDuration(this.wait),this.events=[]}return u(V,[{key:"buildData",value:function(){var _=this;if(this.data=[],this.grace){var C=1;this.grace=d.toArray(this.grace),this.grace.forEach(function(){var M=new V({pitch:_.grace,duration:"T"+C});_.data=_.data.concat(M.data)})}if(this.sequential)for(var G=0;G<this.repeat;G++)this.pitch.forEach(function(M,ee){var j=new D({channel:_.channel,wait:ee>0?0:_.wait,velocity:_.velocity,pitch:M,startTick:_.startTick}),te=new B({channel:_.channel,duration:_.duration,velocity:_.velocity,pitch:M});_.events.push(j,te)});else for(var O=0;O<this.repeat;O++)this.pitch.forEach(function(M,ee){var j;ee==0?j=new D({channel:_.channel,wait:_.wait,velocity:_.velocity,pitch:M,startTick:_.startTick}):j=new D({channel:_.channel,wait:0,velocity:_.velocity,pitch:M,startTick:_.startTick}),_.events.push(j)}),this.pitch.forEach(function(M,ee){var j;ee==0?j=new B({channel:_.channel,duration:_.duration,velocity:_.velocity,pitch:M,tick:_.startTick!==null?d.getTickDuration(_.duration)+_.startTick:null}):j=new B({channel:_.channel,duration:0,velocity:_.velocity,pitch:M,tick:_.startTick!==null?d.getTickDuration(_.duration)+_.startTick:null}),_.events.push(j)});return this}}]),V}(),z=function(N){return N<=0?Math.floor(16384*(N+1)/2):Math.floor(16383*(N+1)/2)},F=u(function V(N){o(this,V),N=Object.assign({delta:0},N),this.type="pitch-bend";var _=z(N.bend),C=N.channel||0,O=_&127,G=_>>7&127;this.data=d.numberToVariableLength(N.delta).concat(t.PITCH_BEND_STATUS|C,O,G)}),H=function(){function V(N){o(this,V),this.fields=Object.assign({channel:1,delta:0},N),this.type="program",this.data=d.numberToVariableLength(this.fields.delta).concat(this.getStatusByte(),this.fields.instrument)}return u(V,[{key:"getStatusByte",value:function(){return 192+this.fields.channel-1}}]),V}(),se=u(function V(N){o(this,V),N=Object.assign({delta:0},N),this.type="tempo",this.tick=N.tick;var _=Math.round(6e7/N.bpm);this.data=d.numberToVariableLength(N.delta).concat(t.META_EVENT_ID,t.META_TEMPO_ID,[3],d.numberToBytes(_,3))}),ae=u(function V(N){o(this,V),N=Object.assign({delta:0},N),this.type="text";var _=d.stringToBytes(N.text);this.data=d.numberToVariableLength(N.delta).concat(t.META_EVENT_ID,t.META_TEXT_ID,d.numberToVariableLength(_.length),_)}),pe=u(function V(N,_,C,O){o(this,V),this.type="time-signature",this.data=d.numberToVariableLength(0).concat(t.META_EVENT_ID,t.META_TIME_SIGNATURE_ID,[4],d.numberToBytes(N,1),d.numberToBytes(Math.log2(_),1),d.numberToBytes(C||24,1),d.numberToBytes(O||8,1))}),L=u(function V(N){o(this,V),N=Object.assign({delta:0},N),this.type="copyright";var _=d.stringToBytes(N.text);this.data=d.numberToVariableLength(N.delta).concat(t.META_EVENT_ID,t.META_COPYRIGHT_ID,d.numberToVariableLength(_.length),_)}),oe=u(function V(N){o(this,V),N=Object.assign({delta:0},N),this.type="track-name";var _=d.stringToBytes(N.text);this.data=d.numberToVariableLength(N.delta).concat(t.META_EVENT_ID,t.META_TRACK_NAME_ID,d.numberToVariableLength(_.length),_)}),he=function(){function V(){o(this,V),this.type=t.TRACK_CHUNK_TYPE,this.data=[],this.size=[],this.events=[],this.explicitTickEvents=[],this.tickPointer=0}return u(V,[{key:"addEvent",value:function(_,C){var O=this;return d.toArray(_).forEach(function(G,M){if(G instanceof P){if(typeof C=="function"){var ee=C(M,G);if(n(ee)==="object")for(var j in ee)switch(j){case"channel":G.channel=ee[j];break;case"duration":G.duration=ee[j];break;case"sequential":G.sequential=ee[j];break;case"velocity":G.velocity=d.convertVelocity(ee[j]);break}}G.startTick!==null?O.explicitTickEvents.push(G):G.buildData().events.forEach(function(te){return O.events.push(te)})}else G instanceof T&&O.removeEventsByType("end-track"),O.events.push(G)}),this}},{key:"buildData",value:function(){var _=this,C=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};(!this.events.length||!(this.events[this.events.length-1]instanceof T))&&this.addEvent(new T),this.data=[],this.size=[],this.tickPointer=0;var O=0;return this.events.forEach(function(G){if(G instanceof D||G instanceof B){var M=G.buildData(_,O,C);O=d.getPrecisionLoss(G.deltaWithPrecisionCorrection||0),_.data=_.data.concat(M.data),_.tickPointer=d.getRoundedIfClose(G.tick)}else G instanceof se&&(_.tickPointer=d.getRoundedIfClose(G.tick)),_.data=_.data.concat(G.data)}),this.mergeExplicitTickEvents(),this.size=d.numberToBytes(this.data.length,4),this}},{key:"mergeExplicitTickEvents",value:function(){var _=this;this.explicitTickEvents.length&&(this.explicitTickEvents.sort(function(C,O){return C.startTick-O.startTick}),this.explicitTickEvents.forEach(function(C){C.buildData().events.forEach(function(O){return O.buildData(_)}),C.events.forEach(function(O){return _.mergeSingleEvent(O)})}),this.explicitTickEvents=[],this.buildData())}},{key:"mergeTrack",value:function(_){var C=this;this.buildData(),_.buildData().events.forEach(function(O){return C.mergeSingleEvent(O)})}},{key:"mergeSingleEvent",value:function(_){if(!this.events.length){this.addEvent(_);return}for(var C,O=0;O<this.events.length&&!(this.events[O].tick>_.tick);O++)C=O;var G=C+1;_.delta=_.tick-this.events[C].tick,this.events.splice(G,0,_);for(var M=G+1;M<this.events.length;M++)this.events[M].delta=this.events[M].tick-this.events[M-1].tick}},{key:"removeEventsByType",value:function(_){var C=this;return this.events.forEach(function(O,G){O.type===_&&C.events.splice(G,1)}),this}},{key:"setTempo",value:function(_){var C=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return this.addEvent(new se({bpm:_,tick:C}))}},{key:"setTimeSignature",value:function(_,C,O,G){return this.addEvent(new pe(_,C,O,G))}},{key:"setKeySignature",value:function(_,C){return this.addEvent(new E(_,C))}},{key:"addText",value:function(_){return this.addEvent(new ae({text:_}))}},{key:"addCopyright",value:function(_){return this.addEvent(new L({text:_}))}},{key:"addTrackName",value:function(_){return this.addEvent(new oe({text:_}))}},{key:"addInstrumentName",value:function(_){return this.addEvent(new S({text:_}))}},{key:"addMarker",value:function(_){return this.addEvent(new R({text:_}))}},{key:"addCuePoint",value:function(_){return this.addEvent(new g({text:_}))}},{key:"addLyric",value:function(_){return this.addEvent(new k({text:_}))}},{key:"polyModeOn",value:function(){var _=new D({data:[0,176,126,0]});return this.addEvent(_)}},{key:"setPitchBend",value:function(_){return this.addEvent(new F({bend:_}))}},{key:"controllerChange",value:function(_,C){return this.addEvent(new m({controllerNumber:_,controllerValue:C}))}}]),V}(),fe=function(){function V(){o(this,V)}return u(V,[{key:"trackFromVoice",value:function(_){var C=this,O=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{addRenderedAccidentals:!1},G=new he,M=[];return _.tickables.forEach(function(ee){ee.noteType==="n"?(G.addEvent(new P({pitch:ee.keys.map(function(j,te){return C.convertPitch(j,te,ee,O.addRenderedAccidentals)}),duration:C.convertDuration(ee),wait:M})),M=[]):ee.noteType==="r"&&M.push(C.convertDuration(ee))}),M.length>0&&G.addEvent(new P({pitch:"[c4]",duration:"0",wait:M,velocity:"0"})),G}},{key:"convertPitch",value:function(_,C,O){var G=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1,M=_.split("/"),ee=M[0].substring(1).replace("n","");if(G){var j;(j=O.getAccidentals())===null||j===void 0||j.forEach(function(te){te.index===C&&(te.type==="n"?ee="":ee+=te.type)})}return M[0][0]+ee+M[1]}},{key:"convertDuration",value:function(_){return"d".repeat(_.dots)+this.convertBaseDuration(_.duration)+(_.tuplet?"t"+_.tuplet.num_notes:"")}},{key:"convertBaseDuration",value:function(_){switch(_){case"w":return"1";case"h":return"2";case"q":return"4";default:return _}}}]),V}(),ue=u(function V(N){o(this,V),this.type=t.HEADER_CHUNK_TYPE;var _=N>1?t.HEADER_CHUNK_FORMAT1:t.HEADER_CHUNK_FORMAT0;this.data=_.concat(d.numberToBytes(N,2),t.HEADER_CHUNK_DIVISION),this.size=[0,0,0,this.data.length]}),me=function(){function V(N){var _=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};o(this,V),this.tracks=d.toArray(N),this.options=_}return u(V,[{key:"buildData",value:function(){var _=this,C=[];return C.push(new ue(this.tracks.length)),this.tracks.forEach(function(O){C.push(O.buildData(_.options))}),C}},{key:"buildFile",value:function(){var _=[];return this.buildData().forEach(function(C){return _=_.concat(C.type,C.size,C.data)}),new Uint8Array(_)}},{key:"base64",value:function(){return typeof btoa=="function"?btoa(String.fromCharCode.apply(null,this.buildFile())):Buffer.from(this.buildFile()).toString("base64")}},{key:"dataUri",value:function(){return"data:audio/midi;base64,"+this.base64()}},{key:"setOption",value:function(_,C){return this.options[_]=C,this}},{key:"stdout",value:function(){return process.stdout.write(Buffer.from(this.buildFile()))}}]),V}(),K={Constants:t,ControllerChangeEvent:m,CuePointEvent:g,EndTrackEvent:T,InstrumentNameEvent:S,KeySignatureEvent:E,LyricEvent:k,MarkerEvent:R,NoteOnEvent:D,NoteOffEvent:B,NoteEvent:P,PitchBendEvent:F,ProgramChangeEvent:H,TempoEvent:se,TextEvent:ae,TimeSignatureEvent:pe,Track:he,TrackNameEvent:oe,Utils:d,VexFlow:fe,Writer:me};return rd=K,rd}var BD=VD();const qn=Es(BD),Jl=e=>{if(!qn.Track)return null;const t=new qn.Track;return t.addTrackName(e),t},ad=(e,t,n,r=!1)=>{!qn.NoteEvent||!t||t.length===0||!e||t.forEach(o=>{let l=[];if(r)l=o.notes.map(f=>f.midi).filter(f=>typeof f=="number");else{const u=o;typeof u.midi=="number"&&(l=[u.midi])}if(l.length>0){const u=Math.round(o.duration*128),f=Math.round(o.time*128),h=l.map(d=>{const m=["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"],g=Math.floor(d/12)-1;return`${m[d%12]}${g}`});e.addEvent(new qn.NoteEvent({pitch:h.length===1?h[0]:h,duration:`T${u}`,startTick:f,velocity:o.velocity||(r?90:100),channel:n}))}})},OD=(e,t)=>{!qn.NoteEvent||!t||Object.keys(t).length===0||!e||Object.entries(t).forEach(([n,r])=>{const o=n.toLowerCase().replace(/\s+/g,"_"),l=vu[o]||vu[n];typeof l!="number"||!r||r.forEach(u=>{const f=Math.round(u.duration*128),h=Math.round(u.time*128),d=["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"],m=Math.floor(l/12)-1,T=`${d[l%12]}${m}`;e.addEvent(new qn.NoteEvent({pitch:T,duration:`T${f}`,startTick:h,velocity:u.velocity||100,channel:10}))})})},Cx=(e,t,n="TrackGuide")=>{if(!qn||!qn.Writer||!qn.Track||!qn.NoteEvent)return console.error("MidiWriterJS components (Writer, Track, NoteEvent) are not loaded. Cannot generate MIDI file."),null;const r=[];let o=!1;const l=f=>(f&&(f.setTempo(t.tempo,0),f.setTimeSignature(t.timeSignature[0],t.timeSignature[1])),f);if(e.chords&&e.chords.length>0){let f=Jl(`${n} Chords`);f=l(f),f&&(ad(f,e.chords,1,!0),r.push(f),o=!0)}if(e.bassline&&e.bassline.length>0){let f=Jl(`${n} Bassline`);f=l(f),f&&(ad(f,e.bassline,2,!1),r.push(f),o=!0)}if(e.melody&&e.melody.length>0){let f=Jl(`${n} Melody`);f=l(f),f&&(ad(f,e.melody,3,!1),r.push(f),o=!0)}if(e.drums&&Object.keys(e.drums).length>0){let f=Jl(`${n} Drums`);f=l(f),f&&(OD(f,e.drums),r.push(f),o=!0)}return o?new qn.Writer(r).dataUri():(console.warn("No patterns to write to MIDI file."),null)},wx=(e,t)=>{if(!e){console.error("MIDI data URI is null or empty. Cannot download."),alert("Failed to generate MIDI data for download.");return}const n=document.createElement("a");n.href=e,n.download=t,document.body.appendChild(n),n.click(),document.body.removeChild(n)};let Qi=null,tr=[],bu=null,uu=null,Tu=0,as=0,_a=!1;const Mh=()=>((!Qi||Qi.state==="closed")&&(Qi=new(window.AudioContext||window.webkitAudioContext),bu=Qi.createGain(),bu.connect(Qi.destination)),Qi.state==="suspended"&&Qi.resume(),Qi),Ir=(e,t)=>e/t*60,od=(e,t,n,r=100,o=!1,l,u)=>{const f=Mh();if(!bu||!u)return;const h=Tu+as*r1()+t;if(h<f.currentTime-.05)return;const d=f.createGain(),m=r/127*(o?.75:.35);let g=m;if(d.gain.setValueAtTime(g,h),g>1e-4)try{d.gain.exponentialRampToValueAtTime(1e-4,h+n)}catch{d.gain.linearRampToValueAtTime(1e-4,h+n)}d.connect(bu);let T;if(o)if(l==="kick"){const S=f.createOscillator();S.type="sine",S.frequency.setValueAtTime(150,h),S.frequency.exponentialRampToValueAtTime(50,h+Math.min(n,.12));const E=f.createGain();E.gain.setValueAtTime(1,h),E.gain.exponentialRampToValueAtTime(.001,h+n),S.connect(E).connect(d),S.start(h),S.stop(h+n),tr.push({node:S,controlGainNode:d,trackType:u,intendedVolume:m,scheduledStopTime:h+n,isDrum:!0});return}else{T=f.createBufferSource();const S=Math.max(1,Math.floor(f.sampleRate*n)),E=f.createBuffer(1,S,f.sampleRate),k=E.getChannelData(0);if(l==="snare"||l==="clap")for(let R=0;R<S;R++)k[R]=(Math.random()*2-1)*Math.exp(-R/(f.sampleRate*.05));else if(l&&(l.includes("hat")||l.includes("cymbal")||l.includes("shaker"))){const R=l.includes("hat")?5e3:l.includes("shaker")?7e3:3e3,D=l.includes("hat")?.03:l.includes("shaker")?.02:.25;for(let B=0;B<S;B++)k[B]=(Math.random()*2-1)*Math.exp(-B/(f.sampleRate*D))*Math.sin(2*Math.PI*R*(B/f.sampleRate)*(1+Math.random()*.3))}else{const R=f.createOscillator();R.type="sine",R.frequency.setValueAtTime(200+Math.random()*150,h),R.frequency.exponentialRampToValueAtTime(100,h+n*.8);const D=f.createGain();D.gain.setValueAtTime(.9,h),D.gain.exponentialRampToValueAtTime(.001,h+n),R.connect(D).connect(d),R.start(h),R.stop(h+n),tr.push({node:R,controlGainNode:d,trackType:u,intendedVolume:m,scheduledStopTime:h+n,isDrum:!0});return}T.buffer=E}else{T=f.createOscillator(),T.type="sawtooth";const S=440*Math.pow(2,(e-69)/12);T.frequency.setValueAtTime(S,h)}T.connect(d),T.start(h),T.stop(h+n),tr.push({node:T,controlGainNode:d,trackType:u,intendedVolume:m,scheduledStopTime:h+n,isDrum:o})};let $d=null;const r1=()=>{if(!$d)throw new Error("Settings not available for loop duration calculation.");const{tempo:e,bars:t,timeSignature:n}=$d,r=n[0]*(4/n[1]);return Ir(t*r,e)},Ex=(e,t,n)=>{a1(!1),_a=!0,as=0,$d={...t};const r=Mh();Tu=r.currentTime,tr=[];const o=r1();if(o<=0){console.error("Loop duration is zero or negative. Cannot play."),_a=!1;return}function l(){if(!_a)return;const u=r.currentTime;tr=tr.filter(m=>m.scheduledStopTime>u||!m.node);const f=t.tempo,h=(m,g)=>{g&&(m==="drums"&&typeof g=="object"&&!Array.isArray(g)?Object.entries(g).forEach(([T,S])=>{const E=T.toLowerCase().replace(/\s+/g,"_"),k=vu[E]||vu[T];typeof k!="number"||!S||S.forEach(R=>{od(k,Ir(R.time,f),Ir(R.duration,f),R.velocity,!0,E,m)})}):Array.isArray(g)&&g.forEach(T=>{"notes"in T?T.notes.forEach(E=>{typeof E.midi=="number"&&od(E.midi,Ir(T.time,f),Ir(T.duration,f),T.velocity,!1,void 0,m)}):typeof T.midi=="number"&&od(T.midi,Ir(T.time,f),Ir(T.duration,f),T.velocity,!1,void 0,m)}))};if((n?[n]:["chords","bassline","melody","drums"]).forEach(m=>{switch(m){case"chords":e.chords&&h("chords",e.chords);break;case"bassline":e.bassline&&h("bassline",e.bassline);break;case"melody":e.melody&&h("melody",e.melody);break;case"drums":e.drums&&h("drums",e.drums);break}}),_a){const m=Tu+(as+1)*o;let g=(m-r.currentTime)*1e3;g<0&&(console.warn(`Loop drift detected. Next loop scheduled with minimal delay. Ideal: ${m}, Current: ${r.currentTime}`),g=10),uu=window.setTimeout(()=>{_a&&(as++,l())},g)}}l()},Hn=()=>{_a=!1,a1(!0)},a1=e=>{uu!==null&&(clearTimeout(uu),uu=null),tr.forEach(t=>{try{t.node&&(t.node.stop(),t.node.disconnect()),t.controlGainNode&&t.controlGainNode.disconnect()}catch{}}),tr=[],e&&(as=0,Tu=0)},Qo=async()=>{try{const e=Mh();e.state==="suspended"&&await e.resume()}catch(e){console.error("Failed to initialize audio context:",e)}},jD=async e=>new Promise((t,n)=>{const r=new FileReader;r.onload=()=>{if(r.result&&typeof r.result=="string"){const o=r.result.split(","),l=o[1],u=o[0].match(/data:(.*);base64/),f=u?u[1]:e.type||"audio/mpeg";t({base64:l,mimeType:f})}else n(new Error("Failed to read file"))},r.onerror=()=>n(new Error("File reading failed")),r.readAsDataURL(e)}),UD={kick:"Kick",snare:"Snare",hihat:"Hi-Hat",hihat_open:"Hi-Hat Open",hihat_closed:"Hi-Hat Closed",crash:"Crash",ride:"Ride",tom:"Tom",tom_high:"High Tom",tom_mid:"Mid Tom",tom_low:"Low Tom",clap:"Clap",shaker:"Shaker",tambourine:"Tambourine",cowbell:"Cowbell",rim:"Rimshot"},Nr=e=>{if(!e)return"General musical context. Focus on genre and vibe.";const t=e.indexOf("## 3. Instrument & Sound Design Guide"),n=t>0?t:e.indexOf("## 2. Structural Blueprint")>0?e.indexOf("## 2. Structural Blueprint"):1500;return e.substring(0,Math.min(n,e.length))},zD=e=>{const t=e.match(/^([A-G][#b]?)/);return t?t[1]:"C"},FD=e=>{const t=zD(e);return xx[t]||xx.C},HD=e=>{const t=Pn[e]||Pn.Default;return`Typical: ${t[0]}-${t[1]} BPM`},qD=e=>In[e]||In.Default,Jo=[1,2,4,8,16,32],o1=({currentGuidebookEntry:e,mainAppInputs:t,onUpdateGuidebookEntryMidi:n,parsedGuidebookBpm:r,parsedGuidebookKey:o,parsedGuidebookChordProg:l,initialPatterns:u,sections:f,targetTempo:h,targetKey:d,isRemixMode:m=!1})=>{var O,G,M,ee;const[g,T]=re.useState(()=>{var He,nt;if(m)return{...Ke,key:d||Ke.key,tempo:h||Ke.tempo,genre:"Electronic",songSection:(f==null?void 0:f[0])||Ke.songSection,guidebookContext:`Remix mode for ${d||"C minor"} at ${h||128} BPM`,targetInstruments:["bassline","drums","melody","chords"],bars:8};if(e!=null&&e.midiSettings)return{...e.midiSettings,bars:Jo.includes(e.midiSettings.bars)?e.midiSettings.bars:Ke.bars,songSection:e.midiSettings.songSection||Ke.songSection,targetInstruments:e.midiSettings.targetInstruments&&e.midiSettings.targetInstruments.length>0?e.midiSettings.targetInstruments:[...Ke.targetInstruments],guidebookContext:e.midiSettings.guidebookContext||Nr(e.content)};const j=((He=e==null?void 0:e.genre)==null?void 0:He[0])||((nt=t==null?void 0:t.genre)==null?void 0:nt[0])||Ke.genre,te=Nr((e==null?void 0:e.content)||""),ye=Pn[j]||Pn.Default,le=Math.round((ye[0]+ye[1])/2),Ee=Ke.songSection;let _e=Ke.bars;const je=Ee.toLowerCase();return je.includes("intro")||je.includes("outro")||je.includes("fill")||je.includes("breakdown")?_e=4:_e=8,_e=Jo.includes(_e)?_e:Ke.bars,{...Ke,genre:j,key:o||Ke.key,tempo:r||le,chordProgression:l||(In[j]||In.Default)[0],guidebookContext:te,targetInstruments:[...Ke.targetInstruments],songSection:Ee,bars:_e}}),[S,E]=re.useState(()=>{if(m&&u){const j={};return Object.entries(u).forEach(([te,ye])=>{Object.entries(ye).forEach(([le,Ee])=>{const _e=`${te}_${le}`;typeof Ee!="string"&&(j[_e]=Ee)})}),j}return(e==null?void 0:e.generatedMidiPatterns)||null}),[k,R]=re.useState(!1),[D,B]=re.useState(""),[P,z]=re.useState(null),[F,H]=re.useState(!1),se=re.useRef(F);re.useEffect(()=>{se.current=F},[F]);const[ae,pe]=re.useState(!1);re.useEffect(()=>{var te,ye;let j;if(e!=null&&e.midiSettings)j=e.midiSettings.bars||Ke.bars,T({...e.midiSettings,bars:Jo.includes(j)?j:Ke.bars,songSection:e.midiSettings.songSection||Ke.songSection,targetInstruments:e.midiSettings.targetInstruments&&e.midiSettings.targetInstruments.length>0?e.midiSettings.targetInstruments:[...Ke.targetInstruments],guidebookContext:e.midiSettings.guidebookContext||Nr(e.content)});else{const le=((te=e==null?void 0:e.genre)==null?void 0:te[0])||((ye=t==null?void 0:t.genre)==null?void 0:ye[0])||Ke.genre,Ee=Nr((e==null?void 0:e.content)||""),_e=Pn[le]||Pn.Default,je=Math.round((_e[0]+_e[1])/2),He=Ke.songSection;let nt=Ke.bars;const at=He.toLowerCase();at.includes("intro")||at.includes("outro")||at.includes("fill")||at.includes("breakdown")?nt=4:nt=8,j=Jo.includes(nt)?nt:Ke.bars,T({...Ke,key:o||Ke.key,tempo:r||je,chordProgression:l||(In[le]||In.Default)[0],genre:le,guidebookContext:Ee,targetInstruments:[...Ke.targetInstruments],songSection:He,bars:j})}E((e==null?void 0:e.generatedMidiPatterns)||null),z(null),se.current&&(Hn(),H(!1))},[e,t==null?void 0:t.genre,r,o,l]);const L=(j,te)=>{T(ye=>{const le={...ye,[j]:te};if(j==="genre"){const Ee=te,_e=(In[ye.genre]||In.Default)[0];ye.chordProgression===_e&&(le.chordProgression=(In[Ee]||In.Default)[0]);const je=Pn[ye.genre]||Pn.Default,He=Math.round((je[0]+je[1])/2);if(ye.tempo===He){const nt=Pn[Ee]||Pn.Default;le.tempo=Math.round((nt[0]+nt[1])/2)}}return e!=null&&e.content&&(le.guidebookContext=Nr(e.content)),le})},oe=j=>{T(te=>{const ye=te.targetInstruments,le=ye.includes(j)?ye.filter(Ee=>Ee!==j):[...ye,j];return{...te,targetInstruments:le}})},he=async()=>{var te;R(!0),B("Regenerating MIDI patterns..."),z(null),se.current&&(Hn(),H(!1)),await Qo();let j;if(m)j={...g,guidebookContext:`${g.genre} remix at ${g.tempo} BPM in ${g.key}`,genre:g.genre};else{const ye=((te=e==null?void 0:e.genre)==null?void 0:te[0])||g.genre,le=Nr((e==null?void 0:e.content)||"");j={...g,guidebookContext:le,genre:ye}}try{const ye=await ps(j);let le="";for await(const He of ye)He.text&&(le+=He.text);le=le.trim();const Ee=/^```(\w*)?\s*\n?(.*?)\n?\s*```$/s,_e=le.match(Ee);_e&&_e[2]&&(le=_e[2].trim());const je=JSON.parse(le);if(je.drums){const He={};for(const nt in je.drums)He[nt.toLowerCase().replace(/\s+/g,"_")]=je.drums[nt];je.drums=He}E(je),n==null||n(j,je)}catch(ye){console.error("MIDI Generation Error:",ye);const le=ye.message.toLowerCase().includes("json")?`AI returned invalid JSON for MIDI patterns. (${ye.message})`:`Failed to generate MIDI patterns: ${ye.message}`;z(le),E(null)}finally{R(!1),B("")}},fe=async()=>{S&&(await Qo(),se.current&&(Hn(),H(!1),await new Promise(j=>setTimeout(j,50))),Ex(S,g),H(!0))},ue=async j=>{!S||!S[j]||(await Qo(),se.current&&(Hn(),H(!1),await new Promise(te=>setTimeout(te,50))),Ex(S,g,j),H(!0))},me=()=>{Hn(),H(!1)};re.useEffect(()=>()=>{se.current&&Hn()},[]);const K=()=>{if(!S)return;const j=((e==null?void 0:e.title)||"TrackGuideMIDI").replace(/[^a-z0-9_.-]/gi,"_"),te=Cx(S,g,j);te?wx(te,`${j}_all_tracks.mid`):alert("No MIDI data to download or error in generation.")},V=j=>{if(!S||!S[j]){alert(`No ${j} data available in current patterns.`);return}const te={[j]:S[j]},ye=((e==null?void 0:e.title)||"TrackGuideMIDI").replace(/[^a-z0-9_.-]/gi,"_"),le=Cx(te,g,`${ye}_${j}`);le?wx(le,`${ye}_${j}.mid`):alert(`No ${j} data to download or error in generation.`)},N=async j=>{var ye;if(!S)return;R(!0),B(`Regenerating ${j}...`),z(null),se.current&&(Hn(),H(!1)),await Qo();let te;if(m)te={...g,guidebookContext:`${g.genre} remix at ${g.tempo} BPM in ${g.key}`,genre:g.genre,targetInstruments:[j]};else{const le=((ye=e==null?void 0:e.genre)==null?void 0:ye[0])||g.genre,Ee=Nr((e==null?void 0:e.content)||"");te={...g,guidebookContext:Ee,genre:le,targetInstruments:[j]}}try{const le=await ps(te);let Ee="";for await(const at of le)at.text&&(Ee+=at.text);Ee=Ee.trim();const _e=/^```(\w*)?\s*\n?(.*?)\n?\s*```$/s,je=Ee.match(_e);je&&je[2]&&(Ee=je[2].trim());const He=JSON.parse(Ee),nt={...S,[j]:He[j]};if(j==="drums"&&He.drums){const at={};for(const Mt in He.drums)at[Mt.toLowerCase().replace(/\s+/g,"_")]=He.drums[Mt];nt.drums=at}E(nt),n==null||n(g,nt)}catch(le){console.error("Error regenerating single track:",le),z(`Failed to regenerate ${j}. Please try again.`)}finally{R(!1),B("")}},_=async()=>{ae||await Qo(),pe(j=>!j)},C=(j,te)=>{if(!S||!S[j])return null;const ye=S[j];let le="";if(j==="drums"&&ye){const Ee=Object.keys(ye);le=`${Ee.length} elements: ${Ee.map(_e=>UD[_e]||_e).join(", ")}`}else j==="chords"&&Array.isArray(ye)?le=`${ye.length} chord events`:(j==="bassline"||j==="melody")&&Array.isArray(ye)&&(le=`${ye.length} notes`);return y.jsxs(Ge,{title:te,className:"p-4 border border-gray-600 rounded-md bg-gray-800/50",children:[y.jsx("div",{className:"mb-3",children:y.jsx("p",{className:"text-xs text-gray-400",children:le})}),y.jsxs("div",{className:"flex flex-wrap gap-2",children:[y.jsx(Be,{onClick:()=>ue(j),leftIcon:y.jsx(bx,{}),size:"sm",variant:"primary",children:"Play"}),y.jsx(Be,{onClick:()=>N(j),leftIcon:y.jsx(Tx,{className:"w-4 h-4",isSpinning:k&&D.includes(j)}),size:"sm",variant:"secondary",disabled:k,children:"Regenerate"}),y.jsx(Be,{onClick:()=>V(j),leftIcon:y.jsx(qd,{}),size:"sm",variant:"secondary",children:"Download"})]})]},j)};return y.jsxs(Ge,{title:"🎹 MIDI Tools & Pattern Generator",className:"mt-6 bg-gray-800/80 backdrop-blur-md shadow-xl border border-gray-700/50",children:[y.jsx(Be,{onClick:_,variant:"secondary",className:"w-full mb-4",leftIcon:y.jsx(bD,{}),children:ae?"Hide MIDI Settings":"Adjust MIDI Settings & Regenerate"}),ae&&y.jsxs("div",{className:"mb-6 border-t border-gray-700 pt-6",children:[y.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-x-6 gap-y-4 mb-6",children:[y.jsxs("div",{children:[y.jsxs("label",{htmlFor:"midi-key",className:"block text-sm font-medium text-gray-300 mb-1",children:["Key ",y.jsxs("span",{className:"text-xs text-gray-400",children:["(Guidebook: ",o||"N/A",")"]})]}),y.jsx("select",{id:"midi-key",value:g.key,onChange:j=>L("key",j.target.value),className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-md shadow-sm text-gray-100 focus:ring-purple-500 focus:border-purple-500 text-sm",children:is.map(j=>y.jsx("option",{value:j,children:j},j))})]}),y.jsxs("div",{children:[y.jsxs("label",{htmlFor:"midi-scale",className:"block text-sm font-medium text-gray-300 mb-1",children:["Scale/Mode ",y.jsx("span",{className:"text-xs text-gray-400",children:"(Optional)"})]}),y.jsxs("select",{id:"midi-scale",value:g.scale||"",onChange:j=>L("scale",j.target.value),className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-md shadow-sm text-gray-100 focus:ring-purple-500 focus:border-purple-500 text-sm",children:[y.jsx("option",{value:"",children:"Default (from key)"}),FD(g.key).map(j=>y.jsx("option",{value:j,children:j},j))]})]}),y.jsxs("div",{children:[y.jsxs("label",{htmlFor:"midi-tempo",className:"block text-sm font-medium text-gray-300 mb-1",children:["Tempo (BPM) ",y.jsxs("span",{className:"text-xs text-gray-400",children:["Guidebook: ",r||"N/A"]})]}),y.jsx(_n,{type:"number",id:"midi-tempo",value:g.tempo,onChange:j=>L("tempo",parseInt(j.target.value,10)),min:"30",max:"300"}),y.jsx("p",{className:"text-xs text-gray-400 mt-1",children:HD(g.genre)})]}),y.jsxs("div",{children:[y.jsx("label",{htmlFor:"midi-timesig",className:"block text-sm font-medium text-gray-300 mb-1",children:"Time Signature"}),y.jsx("select",{id:"midi-timesig",value:g.timeSignature.join("/"),onChange:j=>L("timeSignature",j.target.value.split("/").map(Number)),className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-md shadow-sm text-gray-100 focus:ring-purple-500 focus:border-purple-500 text-sm",children:sD.map(j=>y.jsx("option",{value:j.join("/"),children:j.join("/")},j.join("/")))})]}),y.jsxs("div",{children:[y.jsxs("label",{htmlFor:"midi-chords",className:"block text-sm font-medium text-gray-300 mb-1",children:["Chord Progression ",y.jsxs("span",{className:"text-xs text-gray-400",children:["(Guidebook: ",l||"N/A",")"]})]}),y.jsx("select",{id:"midi-chords",value:g.chordProgression,onChange:j=>L("chordProgression",j.target.value),className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-md shadow-sm text-gray-100 focus:ring-purple-500 focus:border-purple-500 text-sm",children:qD(g.genre).map(j=>y.jsx("option",{value:j,children:j},j))})]}),y.jsxs("div",{children:[y.jsx("label",{htmlFor:"midi-genre",className:"block text-sm font-medium text-gray-300 mb-1",children:"MIDI Genre Context"}),y.jsxs("select",{id:"midi-genre",value:g.genre,onChange:j=>L("genre",j.target.value),className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-md shadow-sm text-gray-100 focus:ring-purple-500 focus:border-purple-500 text-sm",children:[y.jsxs("option",{value:((O=e==null?void 0:e.genre)==null?void 0:O[0])||((G=t==null?void 0:t.genre)==null?void 0:G[0])||Ke.genre,children:["Align with Guidebook (",((M=e==null?void 0:e.genre)==null?void 0:M[0])||((ee=t==null?void 0:t.genre)==null?void 0:ee[0])||"Default",")"]}),Zb.map(j=>y.jsx("option",{value:j,children:j},j))]})]}),y.jsxs("div",{children:[y.jsx("label",{htmlFor:"midi-bars",className:"block text-sm font-medium text-gray-300 mb-1",children:"Loop Length (Bars)"}),y.jsx("select",{id:"midi-bars",value:g.bars,onChange:j=>L("bars",parseInt(j.target.value,10)),className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-md shadow-sm text-gray-100 focus:ring-purple-500 focus:border-purple-500 text-sm",children:Jo.map(j=>y.jsx("option",{value:j,children:j},j))})]}),y.jsxs("div",{className:"lg:col-span-1",children:[y.jsx("label",{htmlFor:"midi-songsection",className:"block text-sm font-medium text-gray-300 mb-1",children:"Song Section Context"}),y.jsx("select",{id:"midi-songsection",value:g.songSection||Ke.songSection,onChange:j=>L("songSection",j.target.value),className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-md shadow-sm text-gray-100 focus:ring-purple-500 focus:border-purple-500 text-sm",children:(m&&f?f:uD).map(j=>y.jsx("option",{value:j,children:j},j))})]})]}),y.jsxs("div",{className:"mb-6",children:[y.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Target Instruments to Generate"}),y.jsx("div",{className:"flex flex-wrap gap-x-4 gap-y-2",children:lD.map(j=>y.jsxs("button",{type:"button",onClick:()=>oe(j.id),className:`flex items-center px-3 py-1.5 rounded-md text-sm transition-colors duration-150 ease-in-out border
                            ${g.targetInstruments.includes(j.id)?"bg-purple-600 text-white border-purple-500 hover:bg-purple-700 shadow-md":"bg-gray-700 text-gray-300 border-gray-600 hover:bg-gray-600 hover:border-gray-500"}`,"aria-pressed":g.targetInstruments.includes(j.id),children:[g.targetInstruments.includes(j.id)?y.jsx(SD,{className:"w-4 h-4 mr-2"}):y.jsx(TD,{className:"w-4 h-4 mr-2 text-gray-500"}),j.label]},j.id))})]}),y.jsx(Be,{onClick:he,disabled:k||g.targetInstruments.length===0,className:"w-full",leftIcon:y.jsx(Tx,{className:"w-5 h-5",isSpinning:k}),children:k?D||"Regenerating MIDI Patterns...":g.targetInstruments.length===0?"Select instruments first":"Regenerate MIDI Patterns"})]}),P&&y.jsx("p",{className:"text-red-400 bg-red-900/30 p-3 rounded-md text-sm my-4",children:P}),k&&!ae&&(!S||D.includes("MIDI"))&&y.jsx("div",{className:"my-4",children:y.jsx(er,{text:D||"AI is composing..."})}),S&&!k&&y.jsxs("div",{className:"mt-6 space-y-3",children:[y.jsxs("div",{className:"flex flex-wrap gap-3 items-center pb-3 border-b border-gray-700",children:[y.jsx(Be,{onClick:F?me:fe,variant:F?"danger":"primary",size:"md",leftIcon:F?y.jsx(vD,{}):y.jsx(bx,{}),children:F?"Stop Preview":"Play All Tracks"}),y.jsx(Be,{onClick:K,variant:"secondary",size:"md",leftIcon:y.jsx(qd,{}),children:"Download All (.mid)"})]}),y.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 pt-3",children:[C("chords","Chords"),C("bassline","Bassline"),C("melody","Melody"),C("drums","Drums")]}),S.error&&y.jsxs("p",{className:"text-sm text-yellow-400 mt-2",children:["AI Note: ",S.error]})]}),!S&&!k&&!P&&y.jsxs("p",{className:"text-gray-400 text-sm mt-4 text-center",children:["No MIDI patterns generated yet for this ",m?"RemixGuide":"TrackGuide",'. Click "Adjust MIDI Settings" to configure and generate.']})]})},GD=({library:e,onClose:t,onLoadEntry:n,onDeleteEntry:r,onCreateNew:o})=>{const[l,u]=re.useState(""),f=e.filter(h=>h.title.toLowerCase().includes(l.toLowerCase())||h.genre.join(", ").toLowerCase().includes(l.toLowerCase())).sort((h,d)=>new Date(d.createdAt).getTime()-new Date(h.createdAt).getTime());return y.jsx("div",{className:"fixed inset-0 bg-gray-900/80 backdrop-blur-sm flex items-center justify-center p-4 z-50 transition-opacity duration-300 ease-in-out",onClick:t,role:"dialog","aria-modal":"true","aria-labelledby":"library-modal-title",children:y.jsxs(Ge,{className:"w-full max-w-2xl bg-gray-800 shadow-2xl border border-gray-700 max-h-[90vh] flex flex-col",onClick:h=>h.stopPropagation(),children:[y.jsxs("div",{className:"flex justify-between items-center px-6 py-4 border-b border-gray-700",children:[y.jsxs("h2",{id:"library-modal-title",className:"text-2xl font-semibold text-purple-300 flex items-center",children:[y.jsx(Gd,{className:"w-7 h-7 mr-3 text-purple-400"}),"TrackGuide Library"]}),y.jsx(Be,{onClick:t,variant:"secondary",size:"sm",className:"p-2 -mr-2","aria-label":"Close Library",children:y.jsx(n1,{className:"w-5 h-5"})})]}),y.jsx("div",{className:"px-6 py-4",children:y.jsx(_n,{type:"search",placeholder:"Search by title or genre...",value:l,onChange:h=>u(h.target.value),className:"mb-4 bg-gray-700 border-gray-600 placeholder-gray-500","aria-label":"Search library"})}),y.jsx("div",{className:"flex-grow overflow-y-auto px-6 pb-6 space-y-3 custom-scrollbar pr-3",children:f.length===0?y.jsx("p",{className:"text-gray-400 text-center py-8",children:l?`No entries found for "${l}".`:"Your library is empty. Create some TrackGuides!"}):f.map(h=>y.jsx("div",{className:"p-4 bg-gray-700/60 rounded-lg hover:bg-gray-600/50 transition-colors shadow-md border border-gray-600/50",children:y.jsxs("div",{className:"flex justify-between items-start",children:[y.jsxs("div",{className:"flex-grow min-w-0",children:[y.jsx("h4",{className:"font-semibold text-purple-300 truncate text-lg",title:h.title,children:h.title}),y.jsx("p",{className:"text-sm text-gray-400 truncate",title:Array.isArray(h.genre)?h.genre.join(", "):h.genre,children:Array.isArray(h.genre)?h.genre.join(", "):h.genre}),y.jsxs("p",{className:"text-xs text-gray-500",children:["Created: ",new Date(h.createdAt).toLocaleDateString(),h.generatedMidiPatterns&&y.jsx(t1,{className:"w-3 h-3 text-green-400 inline-block ml-2",title:"MIDI available"})]})]}),y.jsxs("div",{className:"flex flex-col sm:flex-row space-y-2 sm:space-y-0 sm:space-x-2 items-end shrink-0 ml-3 mt-1 sm:mt-0",children:[y.jsx(Be,{onClick:()=>n(h),size:"sm",variant:"outline",className:"text-xs px-3 py-1.5 w-full sm:w-auto",leftIcon:y.jsx(Gd,{className:"w-4 h-4"}),children:"Load"}),y.jsx(Be,{onClick:()=>r(h.id),size:"sm",variant:"danger",className:"text-xs px-3 py-1.5 w-full sm:w-auto",leftIcon:y.jsx(yD,{className:"w-4 h-4"})})]})]})},h.id))}),y.jsx("div",{className:"px-6 py-4 border-t border-gray-700",children:y.jsx(Be,{onClick:o,variant:"primary",className:"w-full",leftIcon:y.jsx(Yd,{}),children:"Create New TrackGuide"})})]})})},YD=({className:e="w-6 h-6"})=>y.jsx("div",{className:`${e} bg-orange-500 transform rotate-45 flex items-center justify-center`,children:y.jsx("div",{className:"w-1/2 h-1/2 bg-white transform -rotate-45"})}),$D=({onGetStarted:e})=>y.jsxs("div",{className:"min-h-screen bg-[#2B2B2B] relative overflow-hidden scroll-smooth",children:[y.jsx("div",{className:"absolute inset-0 opacity-40",children:y.jsx("div",{className:"absolute inset-0",style:{backgroundImage:"radial-gradient(circle at 2px 2px, #FF5722 1px, transparent 0)",backgroundSize:"30px 30px"}})}),y.jsx("nav",{className:"relative z-10 px-6 py-6",children:y.jsxs("div",{className:"max-w-7xl mx-auto flex items-center justify-between",children:[y.jsxs("div",{className:"flex items-center space-x-3",children:[y.jsx("div",{className:"w-8 h-8 bg-orange-500 transform rotate-45 flex items-center justify-center",children:y.jsx("div",{className:"w-4 h-4 bg-white transform -rotate-45"})}),y.jsxs("div",{children:[y.jsx("div",{className:"text-xl font-bold text-white",children:"TrackGuide AI"}),y.jsx("div",{className:"text-xs text-gray-400",children:"Your Smartest Studio Assistant"})]})]}),y.jsxs("div",{className:"hidden md:flex items-center space-x-8",children:[y.jsx("a",{href:"#how-it-works",className:"text-gray-300 hover:text-orange-400 font-medium transition-colors",children:"How It Works"}),y.jsx("a",{href:"#problems-we-solve",className:"text-gray-300 hover:text-orange-400 font-medium transition-colors",children:"Problems We Solve"}),y.jsx("a",{href:"#investment-levels",className:"text-gray-300 hover:text-orange-400 font-medium transition-colors",children:"Investment Levels"})]}),y.jsxs("button",{onClick:e,className:"bg-orange-500 hover:bg-orange-600 text-white px-6 py-3 rounded-lg font-semibold transition-all transform hover:scale-105 shadow-lg flex items-center space-x-3 border border-white/10",children:[y.jsxs("div",{className:"relative",children:[y.jsx("div",{className:"absolute inset-0 rounded-full bg-white/20 blur-sm"}),y.jsx("div",{className:"relative w-6 h-6 bg-orange-500 transform rotate-45 flex items-center justify-center",children:y.jsx("div",{className:"w-3 h-3 bg-white transform -rotate-45"})})]}),y.jsx("span",{children:"Get Started"})]})]})}),y.jsx("section",{className:"relative px-6 py-16",children:y.jsx("div",{className:"max-w-7xl mx-auto",children:y.jsx("div",{className:"grid lg:grid-cols-2 gap-12 items-center",children:y.jsxs("div",{className:"space-y-8",children:[y.jsxs("h1",{className:"text-6xl md:text-7xl lg:text-8xl font-bold text-white leading-tight",children:[y.jsx("span",{className:"text-orange-500",children:"AI Studio Assistant:"}),y.jsx("span",{className:"block text-white mt-2 text-4xl md:text-5xl lg:text-6xl",children:"A Complement to Creativity,"}),y.jsx("span",{className:"block text-white mt-2 text-4xl md:text-5xl lg:text-6xl",children:"Not a Substitute."})]}),y.jsxs("p",{className:"text-xl text-gray-300 max-w-2xl leading-relaxed",children:["Empowering modern producers with ",y.jsx("span",{className:"text-orange-500 font-semibold",children:"structure"}),", ",y.jsx("span",{className:"text-orange-500 font-semibold",children:"speed"}),", and ",y.jsx("span",{className:"text-orange-500 font-semibold",children:"support"})," in their creative workflow."]}),y.jsx("div",{className:"flex flex-col sm:flex-row gap-6 mt-8 lg:justify-start",children:y.jsxs("button",{onClick:e,className:"bg-orange-500 hover:bg-orange-600 text-white px-12 py-5 rounded-xl font-bold text-xl transition-all transform hover:scale-105 flex items-center justify-center space-x-4 shadow-2xl border-2 border-white/20",children:[y.jsxs("div",{className:"relative",children:[y.jsx("div",{className:"absolute inset-0 rounded-full bg-white/20 blur-sm"}),y.jsx(YD,{className:"h-8 w-8 relative z-10"})]}),y.jsx("span",{children:"Start Creating Now"})]})})]})})})}),y.jsx("section",{id:"how-it-works",className:"relative px-6 py-20",children:y.jsxs("div",{className:"max-w-7xl mx-auto",children:[y.jsxs("div",{className:"text-center mb-16",children:[y.jsx("h2",{className:"text-4xl md:text-5xl font-bold text-white mb-6",children:"How TrackGuide Works"}),y.jsx("p",{className:"text-xl text-gray-300 max-w-3xl mx-auto",children:"From concept to creation in three simple steps"})]}),y.jsxs("div",{className:"grid md:grid-cols-3 gap-8",children:[y.jsxs("div",{className:"text-center space-y-6",children:[y.jsx("div",{className:"w-20 h-20 bg-orange-500 rounded-full flex items-center justify-center mx-auto",children:y.jsx("span",{className:"text-2xl font-bold text-white",children:"1"})}),y.jsx("h3",{className:"text-2xl font-bold text-white",children:"Describe Your Vision"}),y.jsx("p",{className:"text-gray-300",children:"Define your genre, vibe, creative goals — and your available plugins & DAW. Our AI understands your intent."})]}),y.jsxs("div",{className:"text-center space-y-6",children:[y.jsx("div",{className:"w-20 h-20 bg-orange-500 rounded-full flex items-center justify-center mx-auto",children:y.jsx("span",{className:"text-2xl font-bold text-white",children:"2"})}),y.jsx("h3",{className:"text-2xl font-bold text-white",children:"Get Your Guide & Tools"}),y.jsx("p",{className:"text-gray-300",children:"Generate a TrackGuide Blueprint, MIDI patterns, and AI recommendations — including plugin parameter suggestions."})]}),y.jsxs("div",{className:"text-center space-y-6",children:[y.jsx("div",{className:"w-20 h-20 bg-orange-500 rounded-full flex items-center justify-center mx-auto",children:y.jsx("span",{className:"text-2xl font-bold text-white",children:"3"})}),y.jsx("h3",{className:"text-2xl font-bold text-white",children:"Iterate & Refine"}),y.jsx("p",{className:"text-gray-300",children:"Upload mixes for feedback, compare revisions, and update your production with AI-assisted insights."})]})]})]})}),y.jsx("section",{className:"relative px-6 py-20 bg-black/10",children:y.jsxs("div",{className:"max-w-7xl mx-auto",children:[y.jsxs("div",{className:"text-center mb-16",children:[y.jsx("h2",{className:"text-4xl md:text-5xl font-bold text-white mb-6",children:"Complete Production Toolkit"}),y.jsx("p",{className:"text-xl text-gray-300 max-w-3xl mx-auto",children:"Everything you need — from first idea to final mix"})]}),y.jsxs("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-8",children:[y.jsxs("div",{className:"bg-gray-800/50 rounded-xl p-6 border border-orange-500/20 hover:border-orange-500/40 transition-all",children:[y.jsx("div",{className:"w-12 h-12 bg-orange-500 rounded-lg flex items-center justify-center mb-4",children:y.jsx("span",{className:"text-white font-bold",children:"AI"})}),y.jsx("h3",{className:"text-xl font-bold text-white mb-3",children:"TrackGuide AI"}),y.jsx("p",{className:"text-gray-300",children:"Generate detailed TrackGuide blueprints — structure, instrumentation, plugin parameters, and mix guidance tailored to your tools."})]}),y.jsxs("div",{className:"bg-gray-800/50 rounded-xl p-6 border border-orange-500/20 hover:border-orange-500/40 transition-all",children:[y.jsx("div",{className:"w-12 h-12 bg-orange-500 rounded-lg flex items-center justify-center mb-4",children:y.jsx("span",{className:"text-white font-bold",children:"♪"})}),y.jsx("h3",{className:"text-xl font-bold text-white mb-3",children:"Integrated MIDI Generator"}),y.jsx("p",{className:"text-gray-300",children:"Auto-generate melodic, harmonic, bass, and drum MIDI patterns — matched to your genre and style — exportable to your DAW."})]}),y.jsxs("div",{className:"bg-gray-800/50 rounded-xl p-6 border border-orange-500/20 hover:border-orange-500/40 transition-all",children:[y.jsx("div",{className:"w-12 h-12 bg-orange-500 rounded-lg flex items-center justify-center mb-4",children:y.jsx("span",{className:"text-white font-bold",children:"🎛️"})}),y.jsx("h3",{className:"text-xl font-bold text-white mb-3",children:"RemixGuide AI"}),y.jsx("p",{className:"text-gray-300",children:"Upload any track and generate an intelligent remix plan — new structure, sound design tips, and remix-ready MIDI."})]}),y.jsxs("div",{className:"bg-gray-800/50 rounded-xl p-6 border border-orange-500/20 hover:border-orange-500/40 transition-all",children:[y.jsx("div",{className:"w-12 h-12 bg-orange-500 rounded-lg flex items-center justify-center mb-4",children:y.jsx("span",{className:"text-white font-bold",children:"🎚"})}),y.jsx("h3",{className:"text-xl font-bold text-white mb-3",children:"Mix Feedback"}),y.jsx("p",{className:"text-gray-300",children:"Upload a track for full-spectrum mix feedback — AI analyzes your audio and returns actionable improvements."})]}),y.jsxs("div",{className:"bg-gray-800/50 rounded-xl p-6 border border-orange-500/20 hover:border-orange-500/40 transition-all",children:[y.jsx("div",{className:"w-12 h-12 bg-orange-500 rounded-lg flex items-center justify-center mb-4",children:y.jsx("span",{className:"text-white font-bold",children:"⚖"})}),y.jsx("h3",{className:"text-xl font-bold text-white mb-3",children:"Mix Compare"}),y.jsx("p",{className:"text-gray-300",children:"Upload Mix A and Mix B — AI compares revisions and identifies strengths, weaknesses, and next steps for your current version."})]}),y.jsxs("div",{className:"bg-gray-800/50 rounded-xl p-6 border border-orange-500/20 hover:border-orange-500/40 transition-all",children:[y.jsx("div",{className:"w-12 h-12 bg-orange-500 rounded-lg flex items-center justify-center mb-4",children:y.jsx("span",{className:"text-white font-bold",children:"📊"})}),y.jsx("h3",{className:"text-xl font-bold text-white mb-3",children:"EQ Guide"}),y.jsx("p",{className:"text-gray-300",children:"Quick-reference EQ guide: instrument-by-instrument — learn how to shape sound and resolve common mix problems."})]})]})]})}),y.jsx("section",{className:"relative px-6 py-20 bg-black/20",children:y.jsxs("div",{className:"max-w-7xl mx-auto text-center",children:[y.jsx("h2",{className:"text-4xl md:text-5xl font-bold text-white mb-6",children:"Ready to Transform Your Music Production?"}),y.jsx("p",{className:"text-xl text-gray-300 mb-12 max-w-2xl mx-auto",children:"TrackGuide helps producers of all skill levels — from bedroom creators to pros — finish more tracks, faster."}),y.jsxs("div",{className:"bg-gray-800/50 rounded-2xl p-8 max-w-md mx-auto border border-orange-500/20",children:[y.jsx("h3",{className:"text-2xl font-bold text-white mb-4",children:"Free to Start"}),y.jsx("p",{className:"text-gray-300 mb-6",children:"Get started with TrackGuide AI for free. Upgrade when you're ready to unlock unlimited generations and advanced tools."}),y.jsx("button",{onClick:e,className:"w-full bg-orange-500 hover:bg-orange-600 text-white px-8 py-4 rounded-lg font-bold text-lg transition-all transform hover:scale-105 shadow-xl",children:"Start Creating Free"}),y.jsx("p",{className:"text-gray-500 text-sm mt-4",children:"No credit card required"})]})]})}),y.jsx("section",{className:"px-6 py-16 bg-black/20",children:y.jsxs("div",{className:"max-w-7xl mx-auto text-center",children:[y.jsx("div",{className:"w-32 h-1 bg-orange-500 mx-auto mb-8"}),y.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-white mb-4",children:"The Investment Opportunity"}),y.jsx("p",{className:"text-xl text-gray-300",children:"Helping producers finish better music, faster — in a $43B market."})]})}),y.jsx("section",{id:"problems-we-solve",className:"relative px-6 py-20 bg-black/20",children:y.jsx("div",{className:"max-w-7xl mx-auto",children:y.jsxs("div",{className:"grid lg:grid-cols-2 gap-12 items-center",children:[y.jsxs("div",{className:"space-y-8",children:[y.jsxs("h2",{className:"text-4xl md:text-5xl font-bold text-white leading-tight",children:["Too Many Tools:",y.jsx("span",{className:"block text-orange-500",children:"Not Enough Direction"})]}),y.jsx("p",{className:"text-xl text-gray-300 leading-relaxed",children:"As AI floods the market and tools fragment, producers lack clarity. TrackGuide is building the “smartest studio assistant” — keeping the human in the loop."}),y.jsxs("div",{className:"grid gap-6",children:[y.jsx("div",{className:"border-l-4 border-orange-500 pl-6",children:y.jsxs("p",{className:"text-gray-300",children:[y.jsx("strong",{children:"Without clear structure,"})," inspiration stalls — many creators fail to finish tracks."]})}),y.jsx("div",{className:"border-l-4 border-orange-500 pl-6",children:y.jsxs("p",{className:"text-gray-300",children:[y.jsx("strong",{children:"Clickbait content lacks depth —"})," TrackGuide teaches transferable skills while speeding workflows."]})}),y.jsx("div",{className:"border-l-4 border-orange-500 pl-6",children:y.jsxs("p",{className:"text-gray-300",children:[y.jsx("strong",{children:"AI hype distracts —"})," we focus on complementing creativity, not replacing it."]})})]})]}),y.jsxs("div",{className:"relative h-96",children:[y.jsxs("div",{className:"absolute top-0 right-0 w-48 h-48",children:[y.jsx("div",{className:"w-full h-full border-2 border-orange-500 transform rotate-45"}),y.jsx("div",{className:"absolute top-4 right-4 w-40 h-40 bg-orange-500 transform rotate-45"})]}),y.jsxs("div",{className:"absolute bottom-0 left-0 w-32 h-32",children:[y.jsx("div",{className:"w-full h-full border-2 border-orange-500"}),y.jsx("div",{className:"absolute top-2 left-2 w-28 h-28 bg-orange-500"})]})]})]})})}),y.jsx("section",{id:"ai-challenge",className:"px-6 py-20 bg-black",children:y.jsxs("div",{className:"max-w-7xl mx-auto grid lg:grid-cols-2 gap-12 items-center",children:[y.jsx("div",{className:"relative h-80 hidden lg:block",children:y.jsxs("div",{className:"absolute top-0 left-0 w-40 h-40",children:[y.jsx("div",{className:"w-full h-full border-2 border-orange-500 transform rotate-45"}),y.jsx("div",{className:"absolute top-4 left-4 w-32 h-32 bg-orange-500 transform rotate-45"})]})}),y.jsxs("div",{className:"space-y-8",children:[y.jsxs("h2",{className:"text-5xl font-bold text-white leading-tight",children:["Navigating the ",y.jsx("span",{className:"text-orange-500 block",children:"AI Challenge"})]}),y.jsx("p",{className:"text-xl text-gray-300 leading-relaxed",children:"A human-first approach — empowering the artist, respecting the craft."}),y.jsxs("div",{className:"grid gap-6",children:[y.jsxs("div",{className:"border-l-4 border-orange-500 pl-6",children:[y.jsx("h3",{className:"text-lg font-bold text-white mb-2",children:"Avoiding “One-Click” fatigue"}),y.jsx("p",{className:"text-gray-400",children:"Our AI augments the creative process, not bypasses it — musicians stay in control."})]}),y.jsxs("div",{className:"border-l-4 border-orange-500 pl-6",children:[y.jsx("h3",{className:"text-lg font-bold text-white mb-2",children:"Forward-facing, not retro"}),y.jsx("p",{className:"text-gray-400",children:"Avoids regurgitating “old hit” formulas — helps creators define new sounds."})]}),y.jsxs("div",{className:"border-l-4 border-orange-500 pl-6",children:[y.jsx("h3",{className:"text-lg font-bold text-white mb-2",children:"Clear IP & ethical AI"}),y.jsx("p",{className:"text-gray-400",children:"Built with transparent usage — your creativity stays yours."})]})]})]})]})}),y.jsx("section",{className:"relative px-6 py-20 bg-black/20",children:y.jsxs("div",{className:"max-w-5xl mx-auto",children:[y.jsxs("h2",{className:"text-4xl md:text-5xl font-bold text-white mb-6",children:["Scalable ",y.jsx("span",{className:"text-orange-500",children:"Business Model"})]}),y.jsx("p",{className:"text-xl text-gray-300 mb-12 max-w-2xl mx-auto",children:"Modular SaaS for creators, pros, educators, and studios."}),y.jsxs("div",{className:"grid md:grid-cols-3 gap-8",children:[y.jsxs("div",{className:"bg-gray-800/30 rounded-lg p-8 border border-orange-500/10 space-y-2",children:[y.jsx("h3",{className:"text-2xl font-bold text-white",children:"SaaS Subscriptions"}),y.jsx("p",{className:"text-gray-300",children:"Premium AI tools, pro workflows, unlimited usage — high-margin recurring revenue."}),y.jsx("div",{className:"text-orange-500 font-semibold text-lg",children:"85% Gross Margin"})]}),y.jsxs("div",{className:"bg-gray-800/30 rounded-lg p-8 border border-orange-500/10 space-y-2",children:[y.jsx("h3",{className:"text-2xl font-bold text-white",children:"Community Marketplace"}),y.jsx("p",{className:"text-gray-300",children:"Revenue from user-generated templates, MIDI packs, remix packs, stems, and presets."}),y.jsx("div",{className:"text-orange-500 font-semibold text-lg",children:"30% Commission"})]}),y.jsxs("div",{className:"bg-gray-800/30 rounded-lg p-8 border border-orange-500/10 space-y-2",children:[y.jsx("h3",{className:"text-2xl font-bold text-white",children:"Enterprise / Education Licensing"}),y.jsx("p",{className:"text-gray-300",children:"Annual contracts for labels, studios, and music education institutions."}),y.jsx("div",{className:"text-orange-500 font-semibold text-lg",children:"$50K+ ARR"})]})]})]})}),y.jsx("section",{id:"investment-levels",className:"px-6 py-20 bg-black",children:y.jsxs("div",{className:"max-w-5xl mx-auto",children:[y.jsxs("div",{className:"text-center mb-12",children:[y.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-white mb-6",children:"Investment Levels"}),y.jsx("p",{className:"text-lg text-gray-300 max-w-2xl mx-auto",children:"We’re raising capital to scale TrackGuide AI — deepen core features, grow early users, and prepare for market launch."}),y.jsx("p",{className:"text-md text-gray-400 mt-4 max-w-xl mx-auto",children:"All investments are via SAFE notes with valuation cap. Larger tiers include additional benefits and advisory access."})]}),y.jsxs("div",{className:"grid md:grid-cols-4 gap-6",children:[y.jsxs("div",{className:"bg-black/80 rounded-lg p-6 border border-orange-500/30 shadow-md flex flex-col justify-between",children:[y.jsxs("div",{children:[y.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"Seed Loop"}),y.jsx("p",{className:"text-gray-300 text-sm mb-2",children:"$10K–$25K"}),y.jsx("p",{className:"text-gray-400 text-sm mb-4",children:"AI refinement, UX polish, early traction testing."})]}),y.jsx("p",{className:"text-orange-400 text-sm mt-4",children:"Return: SAFE @ $5M cap + quarterly updates"})]}),y.jsxs("div",{className:"bg-black/80 rounded-lg p-6 border border-orange-500/30 shadow-md flex flex-col justify-between",children:[y.jsxs("div",{children:[y.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"Creator Tier"}),y.jsx("p",{className:"text-gray-300 text-sm mb-2",children:"$25K–$50K"}),y.jsx("p",{className:"text-gray-400 text-sm mb-4",children:"Monetization rollout, user acquisition, affiliate & referral systems."})]}),y.jsx("p",{className:"text-orange-400 text-sm mt-4",children:"Return: SAFE + 1% revenue share pilot + early feature access"})]}),y.jsxs("div",{className:"bg-black/80 rounded-lg p-6 border border-orange-500/30 shadow-md flex flex-col justify-between",children:[y.jsxs("div",{children:[y.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"Full Stack"}),y.jsx("p",{className:"text-gray-300 text-sm mb-2",children:"$50K–$75K"}),y.jsx("p",{className:"text-gray-400 text-sm mb-4",children:"Strategic hires (PMM / full-stack dev), expanded GTM partnerships."})]}),y.jsx("p",{className:"text-orange-400 text-sm mt-4",children:"Return: SAFE + advisory board seat + product roadmap input"})]}),y.jsxs("div",{className:"bg-black/80 rounded-lg p-6 border border-orange-500/30 shadow-md flex flex-col justify-between",children:[y.jsxs("div",{children:[y.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"Vision Tier"}),y.jsx("p",{className:"text-gray-300 text-sm mb-2",children:"$150K+"}),y.jsx("p",{className:"text-gray-400 text-sm mb-4",children:"Full-scale AI model tuning, GTM campaign, international expansion."})]}),y.jsx("p",{className:"text-orange-400 text-sm mt-4",children:"Return: Discounted SAFE cap + 2% revenue share + strategic board seat"})]})]}),y.jsx("div",{className:"text-center mt-12",children:y.jsx("a",{href:"mailto:dustinspaceproductions@gmail.com?subject=Investment Inquiry - TrackGuide AI",className:"bg-orange-500 hover:bg-orange-600 text-white px-8 py-4 rounded-lg font-bold text-lg transition-all transform hover:scale-105 inline-flex items-center space-x-2 shadow-xl",children:y.jsx("span",{children:"Contact for Full Investor Deck"})})})]})}),y.jsx("section",{className:"px-6 py-20 bg-black/30",children:y.jsxs("div",{className:"max-w-4xl mx-auto text-center",children:[y.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-white mb-6",children:"Interested in Investing?"}),y.jsx("p",{className:"text-xl text-gray-300 mb-8 max-w-2xl mx-auto",children:"Revolutionizing music production with human-first AI. Join us."}),y.jsx("a",{href:"mailto:dustinspaceproductions@gmail.com?subject=Investment Inquiry - TrackGuide AI",className:"bg-orange-500 hover:bg-orange-600 text-white px-8 py-3 rounded-lg font-bold text-lg transition-all transform hover:scale-105 inline-flex items-center space-x-2 shadow-xl",children:y.jsx("span",{children:"Contact for Investment Opportunities"})})]})}),y.jsx("footer",{className:"px-6 py-12 border-t border-orange-500/20 bg-black/20",children:y.jsx("div",{className:"max-w-7xl mx-auto",children:y.jsxs("div",{className:"flex flex-col md:flex-row items-center justify-between",children:[y.jsxs("div",{className:"flex items-center space-x-3 mb-4 md:mb-0",children:[y.jsx("div",{className:"w-6 h-6 bg-orange-500 transform rotate-45 flex items-center justify-center",children:y.jsx("div",{className:"w-3 h-3 bg-white transform -rotate-45"})}),y.jsxs("div",{children:[y.jsx("div",{className:"text-lg font-bold text-white",children:"TrackGuide AI"}),y.jsx("div",{className:"text-xs text-gray-400",children:"AI Studio Assistant for Music Creators"})]})]}),y.jsxs("div",{className:"text-gray-400 text-center md:text-right text-sm space-y-1",children:[y.jsx("p",{children:"© 2025 TrackGuide. Empowering music creators worldwide."}),y.jsxs("p",{children:[y.jsx("a",{href:"#",className:"hover:text-orange-400 mr-4",children:"Privacy Policy"}),y.jsx("a",{href:"#",className:"hover:text-orange-400",children:"Terms of Service"})]})]})]})})})]});function KD(e,t){const n={};return(e[e.length-1]===""?[...e,""]:e).join((n.padRight?" ":"")+","+(n.padLeft===!1?"":" ")).trim()}const XD=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,QD=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,JD={};function Ax(e,t){return(JD.jsx?QD:XD).test(e)}const ZD=/[ \t\n\f\r]/g;function WD(e){return typeof e=="object"?e.type==="text"?Mx(e.value):!1:Mx(e)}function Mx(e){return e.replace(ZD,"")===""}class Ms{constructor(t,n,r){this.normal=n,this.property=t,r&&(this.space=r)}}Ms.prototype.normal={};Ms.prototype.property={};Ms.prototype.space=void 0;function s1(e,t){const n={},r={};for(const o of e)Object.assign(n,o.property),Object.assign(r,o.normal);return new Ms(n,r,t)}function Kd(e){return e.toLowerCase()}class sn{constructor(t,n){this.attribute=n,this.property=t}}sn.prototype.attribute="";sn.prototype.booleanish=!1;sn.prototype.boolean=!1;sn.prototype.commaOrSpaceSeparated=!1;sn.prototype.commaSeparated=!1;sn.prototype.defined=!1;sn.prototype.mustUseProperty=!1;sn.prototype.number=!1;sn.prototype.overloadedBoolean=!1;sn.prototype.property="";sn.prototype.spaceSeparated=!1;sn.prototype.space=void 0;let eN=0;const Re=Fr(),St=Fr(),Xd=Fr(),de=Fr(),rt=Fr(),ja=Fr(),xn=Fr();function Fr(){return 2**++eN}const Qd=Object.freeze(Object.defineProperty({__proto__:null,boolean:Re,booleanish:St,commaOrSpaceSeparated:xn,commaSeparated:ja,number:de,overloadedBoolean:Xd,spaceSeparated:rt},Symbol.toStringTag,{value:"Module"})),sd=Object.keys(Qd);class kh extends sn{constructor(t,n,r,o){let l=-1;if(super(t,n),kx(this,"space",o),typeof r=="number")for(;++l<sd.length;){const u=sd[l];kx(this,sd[l],(r&Qd[u])===Qd[u])}}}kh.prototype.defined=!0;function kx(e,t,n){n&&(e[t]=n)}function qa(e){const t={},n={};for(const[r,o]of Object.entries(e.properties)){const l=new kh(r,e.transform(e.attributes||{},r),o,e.space);e.mustUseProperty&&e.mustUseProperty.includes(r)&&(l.mustUseProperty=!0),t[r]=l,n[Kd(r)]=r,n[Kd(l.attribute)]=r}return new Ms(t,n,e.space)}const l1=qa({properties:{ariaActiveDescendant:null,ariaAtomic:St,ariaAutoComplete:null,ariaBusy:St,ariaChecked:St,ariaColCount:de,ariaColIndex:de,ariaColSpan:de,ariaControls:rt,ariaCurrent:null,ariaDescribedBy:rt,ariaDetails:null,ariaDisabled:St,ariaDropEffect:rt,ariaErrorMessage:null,ariaExpanded:St,ariaFlowTo:rt,ariaGrabbed:St,ariaHasPopup:null,ariaHidden:St,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:rt,ariaLevel:de,ariaLive:null,ariaModal:St,ariaMultiLine:St,ariaMultiSelectable:St,ariaOrientation:null,ariaOwns:rt,ariaPlaceholder:null,ariaPosInSet:de,ariaPressed:St,ariaReadOnly:St,ariaRelevant:null,ariaRequired:St,ariaRoleDescription:rt,ariaRowCount:de,ariaRowIndex:de,ariaRowSpan:de,ariaSelected:St,ariaSetSize:de,ariaSort:null,ariaValueMax:de,ariaValueMin:de,ariaValueNow:de,ariaValueText:null,role:null},transform(e,t){return t==="role"?t:"aria-"+t.slice(4).toLowerCase()}});function u1(e,t){return t in e?e[t]:t}function c1(e,t){return u1(e,t.toLowerCase())}const tN=qa({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:ja,acceptCharset:rt,accessKey:rt,action:null,allow:null,allowFullScreen:Re,allowPaymentRequest:Re,allowUserMedia:Re,alt:null,as:null,async:Re,autoCapitalize:null,autoComplete:rt,autoFocus:Re,autoPlay:Re,blocking:rt,capture:null,charSet:null,checked:Re,cite:null,className:rt,cols:de,colSpan:null,content:null,contentEditable:St,controls:Re,controlsList:rt,coords:de|ja,crossOrigin:null,data:null,dateTime:null,decoding:null,default:Re,defer:Re,dir:null,dirName:null,disabled:Re,download:Xd,draggable:St,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:Re,formTarget:null,headers:rt,height:de,hidden:Xd,high:de,href:null,hrefLang:null,htmlFor:rt,httpEquiv:rt,id:null,imageSizes:null,imageSrcSet:null,inert:Re,inputMode:null,integrity:null,is:null,isMap:Re,itemId:null,itemProp:rt,itemRef:rt,itemScope:Re,itemType:rt,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:Re,low:de,manifest:null,max:null,maxLength:de,media:null,method:null,min:null,minLength:de,multiple:Re,muted:Re,name:null,nonce:null,noModule:Re,noValidate:Re,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:Re,optimum:de,pattern:null,ping:rt,placeholder:null,playsInline:Re,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:Re,referrerPolicy:null,rel:rt,required:Re,reversed:Re,rows:de,rowSpan:de,sandbox:rt,scope:null,scoped:Re,seamless:Re,selected:Re,shadowRootClonable:Re,shadowRootDelegatesFocus:Re,shadowRootMode:null,shape:null,size:de,sizes:null,slot:null,span:de,spellCheck:St,src:null,srcDoc:null,srcLang:null,srcSet:null,start:de,step:null,style:null,tabIndex:de,target:null,title:null,translate:null,type:null,typeMustMatch:Re,useMap:null,value:St,width:de,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:rt,axis:null,background:null,bgColor:null,border:de,borderColor:null,bottomMargin:de,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:Re,declare:Re,event:null,face:null,frame:null,frameBorder:null,hSpace:de,leftMargin:de,link:null,longDesc:null,lowSrc:null,marginHeight:de,marginWidth:de,noResize:Re,noHref:Re,noShade:Re,noWrap:Re,object:null,profile:null,prompt:null,rev:null,rightMargin:de,rules:null,scheme:null,scrolling:St,standby:null,summary:null,text:null,topMargin:de,valueType:null,version:null,vAlign:null,vLink:null,vSpace:de,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:Re,disableRemotePlayback:Re,prefix:null,property:null,results:de,security:null,unselectable:null},space:"html",transform:c1}),nN=qa({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:xn,accentHeight:de,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:de,amplitude:de,arabicForm:null,ascent:de,attributeName:null,attributeType:null,azimuth:de,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:de,by:null,calcMode:null,capHeight:de,className:rt,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:de,diffuseConstant:de,direction:null,display:null,dur:null,divisor:de,dominantBaseline:null,download:Re,dx:null,dy:null,edgeMode:null,editable:null,elevation:de,enableBackground:null,end:null,event:null,exponent:de,externalResourcesRequired:null,fill:null,fillOpacity:de,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:ja,g2:ja,glyphName:ja,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:de,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:de,horizOriginX:de,horizOriginY:de,id:null,ideographic:de,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:de,k:de,k1:de,k2:de,k3:de,k4:de,kernelMatrix:xn,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:de,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:de,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:de,overlineThickness:de,paintOrder:null,panose1:null,path:null,pathLength:de,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:rt,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:de,pointsAtY:de,pointsAtZ:de,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:xn,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:xn,rev:xn,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:xn,requiredFeatures:xn,requiredFonts:xn,requiredFormats:xn,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:de,specularExponent:de,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:de,strikethroughThickness:de,string:null,stroke:null,strokeDashArray:xn,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:de,strokeOpacity:de,strokeWidth:null,style:null,surfaceScale:de,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:xn,tabIndex:de,tableValues:null,target:null,targetX:de,targetY:de,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:xn,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:de,underlineThickness:de,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:de,values:null,vAlphabetic:de,vMathematical:de,vectorEffect:null,vHanging:de,vIdeographic:de,version:null,vertAdvY:de,vertOriginX:de,vertOriginY:de,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:de,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:u1}),f1=qa({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform(e,t){return"xlink:"+t.slice(5).toLowerCase()}}),d1=qa({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:c1}),h1=qa({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform(e,t){return"xml:"+t.slice(3).toLowerCase()}}),iN={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},rN=/[A-Z]/g,Dx=/-[a-z]/g,aN=/^data[-\w.:]+$/i;function oN(e,t){const n=Kd(t);let r=t,o=sn;if(n in e.normal)return e.property[e.normal[n]];if(n.length>4&&n.slice(0,4)==="data"&&aN.test(t)){if(t.charAt(4)==="-"){const l=t.slice(5).replace(Dx,lN);r="data"+l.charAt(0).toUpperCase()+l.slice(1)}else{const l=t.slice(4);if(!Dx.test(l)){let u=l.replace(rN,sN);u.charAt(0)!=="-"&&(u="-"+u),t="data"+u}}o=kh}return new o(r,t)}function sN(e){return"-"+e.toLowerCase()}function lN(e){return e.charAt(1).toUpperCase()}const uN=s1([l1,tN,f1,d1,h1],"html"),Dh=s1([l1,nN,f1,d1,h1],"svg");function cN(e){return e.join(" ").trim()}var Na={},ld,Nx;function fN(){if(Nx)return ld;Nx=1;var e=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,t=/\n/g,n=/^\s*/,r=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,o=/^:\s*/,l=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,u=/^[;\s]*/,f=/^\s+|\s+$/g,h=`
`,d="/",m="*",g="",T="comment",S="declaration";ld=function(k,R){if(typeof k!="string")throw new TypeError("First argument must be a string");if(!k)return[];R=R||{};var D=1,B=1;function P(fe){var ue=fe.match(t);ue&&(D+=ue.length);var me=fe.lastIndexOf(h);B=~me?fe.length-me:B+fe.length}function z(){var fe={line:D,column:B};return function(ue){return ue.position=new F(fe),ae(),ue}}function F(fe){this.start=fe,this.end={line:D,column:B},this.source=R.source}F.prototype.content=k;function H(fe){var ue=new Error(R.source+":"+D+":"+B+": "+fe);if(ue.reason=fe,ue.filename=R.source,ue.line=D,ue.column=B,ue.source=k,!R.silent)throw ue}function se(fe){var ue=fe.exec(k);if(ue){var me=ue[0];return P(me),k=k.slice(me.length),ue}}function ae(){se(n)}function pe(fe){var ue;for(fe=fe||[];ue=L();)ue!==!1&&fe.push(ue);return fe}function L(){var fe=z();if(!(d!=k.charAt(0)||m!=k.charAt(1))){for(var ue=2;g!=k.charAt(ue)&&(m!=k.charAt(ue)||d!=k.charAt(ue+1));)++ue;if(ue+=2,g===k.charAt(ue-1))return H("End of comment missing");var me=k.slice(2,ue-2);return B+=2,P(me),k=k.slice(ue),B+=2,fe({type:T,comment:me})}}function oe(){var fe=z(),ue=se(r);if(ue){if(L(),!se(o))return H("property missing ':'");var me=se(l),K=fe({type:S,property:E(ue[0].replace(e,g)),value:me?E(me[0].replace(e,g)):g});return se(u),K}}function he(){var fe=[];pe(fe);for(var ue;ue=oe();)ue!==!1&&(fe.push(ue),pe(fe));return fe}return ae(),he()};function E(k){return k?k.replace(f,g):g}return ld}var Rx;function dN(){if(Rx)return Na;Rx=1;var e=Na&&Na.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Na,"__esModule",{value:!0}),Na.default=n;var t=e(fN());function n(r,o){var l=null;if(!r||typeof r!="string")return l;var u=(0,t.default)(r),f=typeof o=="function";return u.forEach(function(h){if(h.type==="declaration"){var d=h.property,m=h.value;f?o(d,m,h):m&&(l=l||{},l[d]=m)}}),l}return Na}var Zo={},_x;function hN(){if(_x)return Zo;_x=1,Object.defineProperty(Zo,"__esModule",{value:!0}),Zo.camelCase=void 0;var e=/^--[a-zA-Z0-9_-]+$/,t=/-([a-z])/g,n=/^[^-]+$/,r=/^-(webkit|moz|ms|o|khtml)-/,o=/^-(ms)-/,l=function(d){return!d||n.test(d)||e.test(d)},u=function(d,m){return m.toUpperCase()},f=function(d,m){return"".concat(m,"-")},h=function(d,m){return m===void 0&&(m={}),l(d)?d:(d=d.toLowerCase(),m.reactCompat?d=d.replace(o,f):d=d.replace(r,f),d.replace(t,u))};return Zo.camelCase=h,Zo}var Wo,Ix;function mN(){if(Ix)return Wo;Ix=1;var e=Wo&&Wo.__importDefault||function(o){return o&&o.__esModule?o:{default:o}},t=e(dN()),n=hN();function r(o,l){var u={};return!o||typeof o!="string"||(0,t.default)(o,function(f,h){f&&h&&(u[(0,n.camelCase)(f,l)]=h)}),u}return r.default=r,Wo=r,Wo}var pN=mN();const gN=Es(pN),m1=p1("end"),Nh=p1("start");function p1(e){return t;function t(n){const r=n&&n.position&&n.position[e]||{};if(typeof r.line=="number"&&r.line>0&&typeof r.column=="number"&&r.column>0)return{line:r.line,column:r.column,offset:typeof r.offset=="number"&&r.offset>-1?r.offset:void 0}}}function yN(e){const t=Nh(e),n=m1(e);if(t&&n)return{start:t,end:n}}function os(e){return!e||typeof e!="object"?"":"position"in e||"type"in e?Px(e.position):"start"in e||"end"in e?Px(e):"line"in e||"column"in e?Jd(e):""}function Jd(e){return Lx(e&&e.line)+":"+Lx(e&&e.column)}function Px(e){return Jd(e&&e.start)+"-"+Jd(e&&e.end)}function Lx(e){return e&&typeof e=="number"?e:1}class Yt extends Error{constructor(t,n,r){super(),typeof n=="string"&&(r=n,n=void 0);let o="",l={},u=!1;if(n&&("line"in n&&"column"in n?l={place:n}:"start"in n&&"end"in n?l={place:n}:"type"in n?l={ancestors:[n],place:n.position}:l={...n}),typeof t=="string"?o=t:!l.cause&&t&&(u=!0,o=t.message,l.cause=t),!l.ruleId&&!l.source&&typeof r=="string"){const h=r.indexOf(":");h===-1?l.ruleId=r:(l.source=r.slice(0,h),l.ruleId=r.slice(h+1))}if(!l.place&&l.ancestors&&l.ancestors){const h=l.ancestors[l.ancestors.length-1];h&&(l.place=h.position)}const f=l.place&&"start"in l.place?l.place.start:l.place;this.ancestors=l.ancestors||void 0,this.cause=l.cause||void 0,this.column=f?f.column:void 0,this.fatal=void 0,this.file,this.message=o,this.line=f?f.line:void 0,this.name=os(l.place)||"1:1",this.place=l.place||void 0,this.reason=this.message,this.ruleId=l.ruleId||void 0,this.source=l.source||void 0,this.stack=u&&l.cause&&typeof l.cause.stack=="string"?l.cause.stack:"",this.actual,this.expected,this.note,this.url}}Yt.prototype.file="";Yt.prototype.name="";Yt.prototype.reason="";Yt.prototype.message="";Yt.prototype.stack="";Yt.prototype.column=void 0;Yt.prototype.line=void 0;Yt.prototype.ancestors=void 0;Yt.prototype.cause=void 0;Yt.prototype.fatal=void 0;Yt.prototype.place=void 0;Yt.prototype.ruleId=void 0;Yt.prototype.source=void 0;const Rh={}.hasOwnProperty,xN=new Map,vN=/[A-Z]/g,bN=new Set(["table","tbody","thead","tfoot","tr"]),TN=new Set(["td","th"]),g1="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function SN(e,t){if(!t||t.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const n=t.filePath||void 0;let r;if(t.development){if(typeof t.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");r=NN(n,t.jsxDEV)}else{if(typeof t.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof t.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");r=DN(n,t.jsx,t.jsxs)}const o={Fragment:t.Fragment,ancestors:[],components:t.components||{},create:r,elementAttributeNameCase:t.elementAttributeNameCase||"react",evaluater:t.createEvaluater?t.createEvaluater():void 0,filePath:n,ignoreInvalidStyle:t.ignoreInvalidStyle||!1,passKeys:t.passKeys!==!1,passNode:t.passNode||!1,schema:t.space==="svg"?Dh:uN,stylePropertyNameCase:t.stylePropertyNameCase||"dom",tableCellAlignToStyle:t.tableCellAlignToStyle!==!1},l=y1(o,e,void 0);return l&&typeof l!="string"?l:o.create(e,o.Fragment,{children:l||void 0},void 0)}function y1(e,t,n){if(t.type==="element")return CN(e,t,n);if(t.type==="mdxFlowExpression"||t.type==="mdxTextExpression")return wN(e,t);if(t.type==="mdxJsxFlowElement"||t.type==="mdxJsxTextElement")return AN(e,t,n);if(t.type==="mdxjsEsm")return EN(e,t);if(t.type==="root")return MN(e,t,n);if(t.type==="text")return kN(e,t)}function CN(e,t,n){const r=e.schema;let o=r;t.tagName.toLowerCase()==="svg"&&r.space==="html"&&(o=Dh,e.schema=o),e.ancestors.push(t);const l=v1(e,t.tagName,!1),u=RN(e,t);let f=Ih(e,t);return bN.has(t.tagName)&&(f=f.filter(function(h){return typeof h=="string"?!WD(h):!0})),x1(e,u,l,t),_h(u,f),e.ancestors.pop(),e.schema=r,e.create(t,l,u,n)}function wN(e,t){if(t.data&&t.data.estree&&e.evaluater){const r=t.data.estree.body[0];return r.type,e.evaluater.evaluateExpression(r.expression)}gs(e,t.position)}function EN(e,t){if(t.data&&t.data.estree&&e.evaluater)return e.evaluater.evaluateProgram(t.data.estree);gs(e,t.position)}function AN(e,t,n){const r=e.schema;let o=r;t.name==="svg"&&r.space==="html"&&(o=Dh,e.schema=o),e.ancestors.push(t);const l=t.name===null?e.Fragment:v1(e,t.name,!0),u=_N(e,t),f=Ih(e,t);return x1(e,u,l,t),_h(u,f),e.ancestors.pop(),e.schema=r,e.create(t,l,u,n)}function MN(e,t,n){const r={};return _h(r,Ih(e,t)),e.create(t,e.Fragment,r,n)}function kN(e,t){return t.value}function x1(e,t,n,r){typeof n!="string"&&n!==e.Fragment&&e.passNode&&(t.node=r)}function _h(e,t){if(t.length>0){const n=t.length>1?t:t[0];n&&(e.children=n)}}function DN(e,t,n){return r;function r(o,l,u,f){const d=Array.isArray(u.children)?n:t;return f?d(l,u,f):d(l,u)}}function NN(e,t){return n;function n(r,o,l,u){const f=Array.isArray(l.children),h=Nh(r);return t(o,l,u,f,{columnNumber:h?h.column-1:void 0,fileName:e,lineNumber:h?h.line:void 0},void 0)}}function RN(e,t){const n={};let r,o;for(o in t.properties)if(o!=="children"&&Rh.call(t.properties,o)){const l=IN(e,o,t.properties[o]);if(l){const[u,f]=l;e.tableCellAlignToStyle&&u==="align"&&typeof f=="string"&&TN.has(t.tagName)?r=f:n[u]=f}}if(r){const l=n.style||(n.style={});l[e.stylePropertyNameCase==="css"?"text-align":"textAlign"]=r}return n}function _N(e,t){const n={};for(const r of t.attributes)if(r.type==="mdxJsxExpressionAttribute")if(r.data&&r.data.estree&&e.evaluater){const l=r.data.estree.body[0];l.type;const u=l.expression;u.type;const f=u.properties[0];f.type,Object.assign(n,e.evaluater.evaluateExpression(f.argument))}else gs(e,t.position);else{const o=r.name;let l;if(r.value&&typeof r.value=="object")if(r.value.data&&r.value.data.estree&&e.evaluater){const f=r.value.data.estree.body[0];f.type,l=e.evaluater.evaluateExpression(f.expression)}else gs(e,t.position);else l=r.value===null?!0:r.value;n[o]=l}return n}function Ih(e,t){const n=[];let r=-1;const o=e.passKeys?new Map:xN;for(;++r<t.children.length;){const l=t.children[r];let u;if(e.passKeys){const h=l.type==="element"?l.tagName:l.type==="mdxJsxFlowElement"||l.type==="mdxJsxTextElement"?l.name:void 0;if(h){const d=o.get(h)||0;u=h+"-"+d,o.set(h,d+1)}}const f=y1(e,l,u);f!==void 0&&n.push(f)}return n}function IN(e,t,n){const r=oN(e.schema,t);if(!(n==null||typeof n=="number"&&Number.isNaN(n))){if(Array.isArray(n)&&(n=r.commaSeparated?KD(n):cN(n)),r.property==="style"){let o=typeof n=="object"?n:PN(e,String(n));return e.stylePropertyNameCase==="css"&&(o=LN(o)),["style",o]}return[e.elementAttributeNameCase==="react"&&r.space?iN[r.property]||r.property:r.attribute,n]}}function PN(e,t){try{return gN(t,{reactCompat:!0})}catch(n){if(e.ignoreInvalidStyle)return{};const r=n,o=new Yt("Cannot parse `style` attribute",{ancestors:e.ancestors,cause:r,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw o.file=e.filePath||void 0,o.url=g1+"#cannot-parse-style-attribute",o}}function v1(e,t,n){let r;if(!n)r={type:"Literal",value:t};else if(t.includes(".")){const o=t.split(".");let l=-1,u;for(;++l<o.length;){const f=Ax(o[l])?{type:"Identifier",name:o[l]}:{type:"Literal",value:o[l]};u=u?{type:"MemberExpression",object:u,property:f,computed:!!(l&&f.type==="Literal"),optional:!1}:f}r=u}else r=Ax(t)&&!/^[a-z]/.test(t)?{type:"Identifier",name:t}:{type:"Literal",value:t};if(r.type==="Literal"){const o=r.value;return Rh.call(e.components,o)?e.components[o]:o}if(e.evaluater)return e.evaluater.evaluateExpression(r);gs(e)}function gs(e,t){const n=new Yt("Cannot handle MDX estrees without `createEvaluater`",{ancestors:e.ancestors,place:t,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw n.file=e.filePath||void 0,n.url=g1+"#cannot-handle-mdx-estrees-without-createevaluater",n}function LN(e){const t={};let n;for(n in e)Rh.call(e,n)&&(t[VN(n)]=e[n]);return t}function VN(e){let t=e.replace(vN,BN);return t.slice(0,3)==="ms-"&&(t="-"+t),t}function BN(e){return"-"+e.toLowerCase()}const ud={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},ON={};function Ph(e,t){const n=ON,r=typeof n.includeImageAlt=="boolean"?n.includeImageAlt:!0,o=typeof n.includeHtml=="boolean"?n.includeHtml:!0;return b1(e,r,o)}function b1(e,t,n){if(jN(e)){if("value"in e)return e.type==="html"&&!n?"":e.value;if(t&&"alt"in e&&e.alt)return e.alt;if("children"in e)return Vx(e.children,t,n)}return Array.isArray(e)?Vx(e,t,n):""}function Vx(e,t,n){const r=[];let o=-1;for(;++o<e.length;)r[o]=b1(e[o],t,n);return r.join("")}function jN(e){return!!(e&&typeof e=="object")}const Bx=document.createElement("i");function Lh(e){const t="&"+e+";";Bx.innerHTML=t;const n=Bx.textContent;return n.charCodeAt(n.length-1)===59&&e!=="semi"||n===t?!1:n}function vn(e,t,n,r){const o=e.length;let l=0,u;if(t<0?t=-t>o?0:o+t:t=t>o?o:t,n=n>0?n:0,r.length<1e4)u=Array.from(r),u.unshift(t,n),e.splice(...u);else for(n&&e.splice(t,n);l<r.length;)u=r.slice(l,l+1e4),u.unshift(t,0),e.splice(...u),l+=1e4,t+=1e4}function Ln(e,t){return e.length>0?(vn(e,e.length,0,t),e):t}const Ox={}.hasOwnProperty;function T1(e){const t={};let n=-1;for(;++n<e.length;)UN(t,e[n]);return t}function UN(e,t){let n;for(n in t){const o=(Ox.call(e,n)?e[n]:void 0)||(e[n]={}),l=t[n];let u;if(l)for(u in l){Ox.call(o,u)||(o[u]=[]);const f=l[u];zN(o[u],Array.isArray(f)?f:f?[f]:[])}}}function zN(e,t){let n=-1;const r=[];for(;++n<t.length;)(t[n].add==="after"?e:r).push(t[n]);vn(e,0,0,r)}function S1(e,t){const n=Number.parseInt(e,t);return n<9||n===11||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||(n&65535)===65535||(n&65535)===65534||n>1114111?"�":String.fromCodePoint(n)}function Gn(e){return e.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const Xt=sr(/[A-Za-z]/),qt=sr(/[\dA-Za-z]/),FN=sr(/[#-'*+\--9=?A-Z^-~]/);function Su(e){return e!==null&&(e<32||e===127)}const Zd=sr(/\d/),HN=sr(/[\dA-Fa-f]/),qN=sr(/[!-/:-@[-`{-~]/);function Se(e){return e!==null&&e<-2}function tt(e){return e!==null&&(e<0||e===32)}function Oe(e){return e===-2||e===-1||e===32}const Pu=sr(new RegExp("\\p{P}|\\p{S}","u")),jr=sr(/\s/);function sr(e){return t;function t(n){return n!==null&&n>-1&&e.test(String.fromCharCode(n))}}function Ga(e){const t=[];let n=-1,r=0,o=0;for(;++n<e.length;){const l=e.charCodeAt(n);let u="";if(l===37&&qt(e.charCodeAt(n+1))&&qt(e.charCodeAt(n+2)))o=2;else if(l<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(l))||(u=String.fromCharCode(l));else if(l>55295&&l<57344){const f=e.charCodeAt(n+1);l<56320&&f>56319&&f<57344?(u=String.fromCharCode(l,f),o=1):u="�"}else u=String.fromCharCode(l);u&&(t.push(e.slice(r,n),encodeURIComponent(u)),r=n+o+1,u=""),o&&(n+=o,o=0)}return t.join("")+e.slice(r)}function Fe(e,t,n,r){const o=r?r-1:Number.POSITIVE_INFINITY;let l=0;return u;function u(h){return Oe(h)?(e.enter(n),f(h)):t(h)}function f(h){return Oe(h)&&l++<o?(e.consume(h),f):(e.exit(n),t(h))}}const GN={tokenize:YN};function YN(e){const t=e.attempt(this.parser.constructs.contentInitial,r,o);let n;return t;function r(f){if(f===null){e.consume(f);return}return e.enter("lineEnding"),e.consume(f),e.exit("lineEnding"),Fe(e,t,"linePrefix")}function o(f){return e.enter("paragraph"),l(f)}function l(f){const h=e.enter("chunkText",{contentType:"text",previous:n});return n&&(n.next=h),n=h,u(f)}function u(f){if(f===null){e.exit("chunkText"),e.exit("paragraph"),e.consume(f);return}return Se(f)?(e.consume(f),e.exit("chunkText"),l):(e.consume(f),u)}}const $N={tokenize:KN},jx={tokenize:XN};function KN(e){const t=this,n=[];let r=0,o,l,u;return f;function f(P){if(r<n.length){const z=n[r];return t.containerState=z[1],e.attempt(z[0].continuation,h,d)(P)}return d(P)}function h(P){if(r++,t.containerState._closeFlow){t.containerState._closeFlow=void 0,o&&B();const z=t.events.length;let F=z,H;for(;F--;)if(t.events[F][0]==="exit"&&t.events[F][1].type==="chunkFlow"){H=t.events[F][1].end;break}D(r);let se=z;for(;se<t.events.length;)t.events[se][1].end={...H},se++;return vn(t.events,F+1,0,t.events.slice(z)),t.events.length=se,d(P)}return f(P)}function d(P){if(r===n.length){if(!o)return T(P);if(o.currentConstruct&&o.currentConstruct.concrete)return E(P);t.interrupt=!!(o.currentConstruct&&!o._gfmTableDynamicInterruptHack)}return t.containerState={},e.check(jx,m,g)(P)}function m(P){return o&&B(),D(r),T(P)}function g(P){return t.parser.lazy[t.now().line]=r!==n.length,u=t.now().offset,E(P)}function T(P){return t.containerState={},e.attempt(jx,S,E)(P)}function S(P){return r++,n.push([t.currentConstruct,t.containerState]),T(P)}function E(P){if(P===null){o&&B(),D(0),e.consume(P);return}return o=o||t.parser.flow(t.now()),e.enter("chunkFlow",{_tokenizer:o,contentType:"flow",previous:l}),k(P)}function k(P){if(P===null){R(e.exit("chunkFlow"),!0),D(0),e.consume(P);return}return Se(P)?(e.consume(P),R(e.exit("chunkFlow")),r=0,t.interrupt=void 0,f):(e.consume(P),k)}function R(P,z){const F=t.sliceStream(P);if(z&&F.push(null),P.previous=l,l&&(l.next=P),l=P,o.defineSkip(P.start),o.write(F),t.parser.lazy[P.start.line]){let H=o.events.length;for(;H--;)if(o.events[H][1].start.offset<u&&(!o.events[H][1].end||o.events[H][1].end.offset>u))return;const se=t.events.length;let ae=se,pe,L;for(;ae--;)if(t.events[ae][0]==="exit"&&t.events[ae][1].type==="chunkFlow"){if(pe){L=t.events[ae][1].end;break}pe=!0}for(D(r),H=se;H<t.events.length;)t.events[H][1].end={...L},H++;vn(t.events,ae+1,0,t.events.slice(se)),t.events.length=H}}function D(P){let z=n.length;for(;z-- >P;){const F=n[z];t.containerState=F[1],F[0].exit.call(t,e)}n.length=P}function B(){o.write([null]),l=void 0,o=void 0,t.containerState._closeFlow=void 0}}function XN(e,t,n){return Fe(e,e.attempt(this.parser.constructs.document,t,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function Ua(e){if(e===null||tt(e)||jr(e))return 1;if(Pu(e))return 2}function Lu(e,t,n){const r=[];let o=-1;for(;++o<e.length;){const l=e[o].resolveAll;l&&!r.includes(l)&&(t=l(t,n),r.push(l))}return t}const Wd={name:"attention",resolveAll:QN,tokenize:JN};function QN(e,t){let n=-1,r,o,l,u,f,h,d,m;for(;++n<e.length;)if(e[n][0]==="enter"&&e[n][1].type==="attentionSequence"&&e[n][1]._close){for(r=n;r--;)if(e[r][0]==="exit"&&e[r][1].type==="attentionSequence"&&e[r][1]._open&&t.sliceSerialize(e[r][1]).charCodeAt(0)===t.sliceSerialize(e[n][1]).charCodeAt(0)){if((e[r][1]._close||e[n][1]._open)&&(e[n][1].end.offset-e[n][1].start.offset)%3&&!((e[r][1].end.offset-e[r][1].start.offset+e[n][1].end.offset-e[n][1].start.offset)%3))continue;h=e[r][1].end.offset-e[r][1].start.offset>1&&e[n][1].end.offset-e[n][1].start.offset>1?2:1;const g={...e[r][1].end},T={...e[n][1].start};Ux(g,-h),Ux(T,h),u={type:h>1?"strongSequence":"emphasisSequence",start:g,end:{...e[r][1].end}},f={type:h>1?"strongSequence":"emphasisSequence",start:{...e[n][1].start},end:T},l={type:h>1?"strongText":"emphasisText",start:{...e[r][1].end},end:{...e[n][1].start}},o={type:h>1?"strong":"emphasis",start:{...u.start},end:{...f.end}},e[r][1].end={...u.start},e[n][1].start={...f.end},d=[],e[r][1].end.offset-e[r][1].start.offset&&(d=Ln(d,[["enter",e[r][1],t],["exit",e[r][1],t]])),d=Ln(d,[["enter",o,t],["enter",u,t],["exit",u,t],["enter",l,t]]),d=Ln(d,Lu(t.parser.constructs.insideSpan.null,e.slice(r+1,n),t)),d=Ln(d,[["exit",l,t],["enter",f,t],["exit",f,t],["exit",o,t]]),e[n][1].end.offset-e[n][1].start.offset?(m=2,d=Ln(d,[["enter",e[n][1],t],["exit",e[n][1],t]])):m=0,vn(e,r-1,n-r+3,d),n=r+d.length-m-2;break}}for(n=-1;++n<e.length;)e[n][1].type==="attentionSequence"&&(e[n][1].type="data");return e}function JN(e,t){const n=this.parser.constructs.attentionMarkers.null,r=this.previous,o=Ua(r);let l;return u;function u(h){return l=h,e.enter("attentionSequence"),f(h)}function f(h){if(h===l)return e.consume(h),f;const d=e.exit("attentionSequence"),m=Ua(h),g=!m||m===2&&o||n.includes(h),T=!o||o===2&&m||n.includes(r);return d._open=!!(l===42?g:g&&(o||!T)),d._close=!!(l===42?T:T&&(m||!g)),t(h)}}function Ux(e,t){e.column+=t,e.offset+=t,e._bufferIndex+=t}const ZN={name:"autolink",tokenize:WN};function WN(e,t,n){let r=0;return o;function o(S){return e.enter("autolink"),e.enter("autolinkMarker"),e.consume(S),e.exit("autolinkMarker"),e.enter("autolinkProtocol"),l}function l(S){return Xt(S)?(e.consume(S),u):S===64?n(S):d(S)}function u(S){return S===43||S===45||S===46||qt(S)?(r=1,f(S)):d(S)}function f(S){return S===58?(e.consume(S),r=0,h):(S===43||S===45||S===46||qt(S))&&r++<32?(e.consume(S),f):(r=0,d(S))}function h(S){return S===62?(e.exit("autolinkProtocol"),e.enter("autolinkMarker"),e.consume(S),e.exit("autolinkMarker"),e.exit("autolink"),t):S===null||S===32||S===60||Su(S)?n(S):(e.consume(S),h)}function d(S){return S===64?(e.consume(S),m):FN(S)?(e.consume(S),d):n(S)}function m(S){return qt(S)?g(S):n(S)}function g(S){return S===46?(e.consume(S),r=0,m):S===62?(e.exit("autolinkProtocol").type="autolinkEmail",e.enter("autolinkMarker"),e.consume(S),e.exit("autolinkMarker"),e.exit("autolink"),t):T(S)}function T(S){if((S===45||qt(S))&&r++<63){const E=S===45?T:g;return e.consume(S),E}return n(S)}}const ks={partial:!0,tokenize:eR};function eR(e,t,n){return r;function r(l){return Oe(l)?Fe(e,o,"linePrefix")(l):o(l)}function o(l){return l===null||Se(l)?t(l):n(l)}}const C1={continuation:{tokenize:nR},exit:iR,name:"blockQuote",tokenize:tR};function tR(e,t,n){const r=this;return o;function o(u){if(u===62){const f=r.containerState;return f.open||(e.enter("blockQuote",{_container:!0}),f.open=!0),e.enter("blockQuotePrefix"),e.enter("blockQuoteMarker"),e.consume(u),e.exit("blockQuoteMarker"),l}return n(u)}function l(u){return Oe(u)?(e.enter("blockQuotePrefixWhitespace"),e.consume(u),e.exit("blockQuotePrefixWhitespace"),e.exit("blockQuotePrefix"),t):(e.exit("blockQuotePrefix"),t(u))}}function nR(e,t,n){const r=this;return o;function o(u){return Oe(u)?Fe(e,l,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(u):l(u)}function l(u){return e.attempt(C1,t,n)(u)}}function iR(e){e.exit("blockQuote")}const w1={name:"characterEscape",tokenize:rR};function rR(e,t,n){return r;function r(l){return e.enter("characterEscape"),e.enter("escapeMarker"),e.consume(l),e.exit("escapeMarker"),o}function o(l){return qN(l)?(e.enter("characterEscapeValue"),e.consume(l),e.exit("characterEscapeValue"),e.exit("characterEscape"),t):n(l)}}const E1={name:"characterReference",tokenize:aR};function aR(e,t,n){const r=this;let o=0,l,u;return f;function f(g){return e.enter("characterReference"),e.enter("characterReferenceMarker"),e.consume(g),e.exit("characterReferenceMarker"),h}function h(g){return g===35?(e.enter("characterReferenceMarkerNumeric"),e.consume(g),e.exit("characterReferenceMarkerNumeric"),d):(e.enter("characterReferenceValue"),l=31,u=qt,m(g))}function d(g){return g===88||g===120?(e.enter("characterReferenceMarkerHexadecimal"),e.consume(g),e.exit("characterReferenceMarkerHexadecimal"),e.enter("characterReferenceValue"),l=6,u=HN,m):(e.enter("characterReferenceValue"),l=7,u=Zd,m(g))}function m(g){if(g===59&&o){const T=e.exit("characterReferenceValue");return u===qt&&!Lh(r.sliceSerialize(T))?n(g):(e.enter("characterReferenceMarker"),e.consume(g),e.exit("characterReferenceMarker"),e.exit("characterReference"),t)}return u(g)&&o++<l?(e.consume(g),m):n(g)}}const zx={partial:!0,tokenize:sR},Fx={concrete:!0,name:"codeFenced",tokenize:oR};function oR(e,t,n){const r=this,o={partial:!0,tokenize:F};let l=0,u=0,f;return h;function h(H){return d(H)}function d(H){const se=r.events[r.events.length-1];return l=se&&se[1].type==="linePrefix"?se[2].sliceSerialize(se[1],!0).length:0,f=H,e.enter("codeFenced"),e.enter("codeFencedFence"),e.enter("codeFencedFenceSequence"),m(H)}function m(H){return H===f?(u++,e.consume(H),m):u<3?n(H):(e.exit("codeFencedFenceSequence"),Oe(H)?Fe(e,g,"whitespace")(H):g(H))}function g(H){return H===null||Se(H)?(e.exit("codeFencedFence"),r.interrupt?t(H):e.check(zx,k,z)(H)):(e.enter("codeFencedFenceInfo"),e.enter("chunkString",{contentType:"string"}),T(H))}function T(H){return H===null||Se(H)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),g(H)):Oe(H)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),Fe(e,S,"whitespace")(H)):H===96&&H===f?n(H):(e.consume(H),T)}function S(H){return H===null||Se(H)?g(H):(e.enter("codeFencedFenceMeta"),e.enter("chunkString",{contentType:"string"}),E(H))}function E(H){return H===null||Se(H)?(e.exit("chunkString"),e.exit("codeFencedFenceMeta"),g(H)):H===96&&H===f?n(H):(e.consume(H),E)}function k(H){return e.attempt(o,z,R)(H)}function R(H){return e.enter("lineEnding"),e.consume(H),e.exit("lineEnding"),D}function D(H){return l>0&&Oe(H)?Fe(e,B,"linePrefix",l+1)(H):B(H)}function B(H){return H===null||Se(H)?e.check(zx,k,z)(H):(e.enter("codeFlowValue"),P(H))}function P(H){return H===null||Se(H)?(e.exit("codeFlowValue"),B(H)):(e.consume(H),P)}function z(H){return e.exit("codeFenced"),t(H)}function F(H,se,ae){let pe=0;return L;function L(me){return H.enter("lineEnding"),H.consume(me),H.exit("lineEnding"),oe}function oe(me){return H.enter("codeFencedFence"),Oe(me)?Fe(H,he,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(me):he(me)}function he(me){return me===f?(H.enter("codeFencedFenceSequence"),fe(me)):ae(me)}function fe(me){return me===f?(pe++,H.consume(me),fe):pe>=u?(H.exit("codeFencedFenceSequence"),Oe(me)?Fe(H,ue,"whitespace")(me):ue(me)):ae(me)}function ue(me){return me===null||Se(me)?(H.exit("codeFencedFence"),se(me)):ae(me)}}}function sR(e,t,n){const r=this;return o;function o(u){return u===null?n(u):(e.enter("lineEnding"),e.consume(u),e.exit("lineEnding"),l)}function l(u){return r.parser.lazy[r.now().line]?n(u):t(u)}}const cd={name:"codeIndented",tokenize:uR},lR={partial:!0,tokenize:cR};function uR(e,t,n){const r=this;return o;function o(d){return e.enter("codeIndented"),Fe(e,l,"linePrefix",5)(d)}function l(d){const m=r.events[r.events.length-1];return m&&m[1].type==="linePrefix"&&m[2].sliceSerialize(m[1],!0).length>=4?u(d):n(d)}function u(d){return d===null?h(d):Se(d)?e.attempt(lR,u,h)(d):(e.enter("codeFlowValue"),f(d))}function f(d){return d===null||Se(d)?(e.exit("codeFlowValue"),u(d)):(e.consume(d),f)}function h(d){return e.exit("codeIndented"),t(d)}}function cR(e,t,n){const r=this;return o;function o(u){return r.parser.lazy[r.now().line]?n(u):Se(u)?(e.enter("lineEnding"),e.consume(u),e.exit("lineEnding"),o):Fe(e,l,"linePrefix",5)(u)}function l(u){const f=r.events[r.events.length-1];return f&&f[1].type==="linePrefix"&&f[2].sliceSerialize(f[1],!0).length>=4?t(u):Se(u)?o(u):n(u)}}const fR={name:"codeText",previous:hR,resolve:dR,tokenize:mR};function dR(e){let t=e.length-4,n=3,r,o;if((e[n][1].type==="lineEnding"||e[n][1].type==="space")&&(e[t][1].type==="lineEnding"||e[t][1].type==="space")){for(r=n;++r<t;)if(e[r][1].type==="codeTextData"){e[n][1].type="codeTextPadding",e[t][1].type="codeTextPadding",n+=2,t-=2;break}}for(r=n-1,t++;++r<=t;)o===void 0?r!==t&&e[r][1].type!=="lineEnding"&&(o=r):(r===t||e[r][1].type==="lineEnding")&&(e[o][1].type="codeTextData",r!==o+2&&(e[o][1].end=e[r-1][1].end,e.splice(o+2,r-o-2),t-=r-o-2,r=o+2),o=void 0);return e}function hR(e){return e!==96||this.events[this.events.length-1][1].type==="characterEscape"}function mR(e,t,n){let r=0,o,l;return u;function u(g){return e.enter("codeText"),e.enter("codeTextSequence"),f(g)}function f(g){return g===96?(e.consume(g),r++,f):(e.exit("codeTextSequence"),h(g))}function h(g){return g===null?n(g):g===32?(e.enter("space"),e.consume(g),e.exit("space"),h):g===96?(l=e.enter("codeTextSequence"),o=0,m(g)):Se(g)?(e.enter("lineEnding"),e.consume(g),e.exit("lineEnding"),h):(e.enter("codeTextData"),d(g))}function d(g){return g===null||g===32||g===96||Se(g)?(e.exit("codeTextData"),h(g)):(e.consume(g),d)}function m(g){return g===96?(e.consume(g),o++,m):o===r?(e.exit("codeTextSequence"),e.exit("codeText"),t(g)):(l.type="codeTextData",d(g))}}class pR{constructor(t){this.left=t?[...t]:[],this.right=[]}get(t){if(t<0||t>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+t+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return t<this.left.length?this.left[t]:this.right[this.right.length-t+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(t,n){const r=n??Number.POSITIVE_INFINITY;return r<this.left.length?this.left.slice(t,r):t>this.left.length?this.right.slice(this.right.length-r+this.left.length,this.right.length-t+this.left.length).reverse():this.left.slice(t).concat(this.right.slice(this.right.length-r+this.left.length).reverse())}splice(t,n,r){const o=n||0;this.setCursor(Math.trunc(t));const l=this.right.splice(this.right.length-o,Number.POSITIVE_INFINITY);return r&&es(this.left,r),l.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(t){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(t)}pushMany(t){this.setCursor(Number.POSITIVE_INFINITY),es(this.left,t)}unshift(t){this.setCursor(0),this.right.push(t)}unshiftMany(t){this.setCursor(0),es(this.right,t.reverse())}setCursor(t){if(!(t===this.left.length||t>this.left.length&&this.right.length===0||t<0&&this.left.length===0))if(t<this.left.length){const n=this.left.splice(t,Number.POSITIVE_INFINITY);es(this.right,n.reverse())}else{const n=this.right.splice(this.left.length+this.right.length-t,Number.POSITIVE_INFINITY);es(this.left,n.reverse())}}}function es(e,t){let n=0;if(t.length<1e4)e.push(...t);else for(;n<t.length;)e.push(...t.slice(n,n+1e4)),n+=1e4}function A1(e){const t={};let n=-1,r,o,l,u,f,h,d;const m=new pR(e);for(;++n<m.length;){for(;n in t;)n=t[n];if(r=m.get(n),n&&r[1].type==="chunkFlow"&&m.get(n-1)[1].type==="listItemPrefix"&&(h=r[1]._tokenizer.events,l=0,l<h.length&&h[l][1].type==="lineEndingBlank"&&(l+=2),l<h.length&&h[l][1].type==="content"))for(;++l<h.length&&h[l][1].type!=="content";)h[l][1].type==="chunkText"&&(h[l][1]._isInFirstContentOfListItem=!0,l++);if(r[0]==="enter")r[1].contentType&&(Object.assign(t,gR(m,n)),n=t[n],d=!0);else if(r[1]._container){for(l=n,o=void 0;l--;)if(u=m.get(l),u[1].type==="lineEnding"||u[1].type==="lineEndingBlank")u[0]==="enter"&&(o&&(m.get(o)[1].type="lineEndingBlank"),u[1].type="lineEnding",o=l);else if(!(u[1].type==="linePrefix"||u[1].type==="listItemIndent"))break;o&&(r[1].end={...m.get(o)[1].start},f=m.slice(o,n),f.unshift(r),m.splice(o,n-o+1,f))}}return vn(e,0,Number.POSITIVE_INFINITY,m.slice(0)),!d}function gR(e,t){const n=e.get(t)[1],r=e.get(t)[2];let o=t-1;const l=[];let u=n._tokenizer;u||(u=r.parser[n.contentType](n.start),n._contentTypeTextTrailing&&(u._contentTypeTextTrailing=!0));const f=u.events,h=[],d={};let m,g,T=-1,S=n,E=0,k=0;const R=[k];for(;S;){for(;e.get(++o)[1]!==S;);l.push(o),S._tokenizer||(m=r.sliceStream(S),S.next||m.push(null),g&&u.defineSkip(S.start),S._isInFirstContentOfListItem&&(u._gfmTasklistFirstContentOfListItem=!0),u.write(m),S._isInFirstContentOfListItem&&(u._gfmTasklistFirstContentOfListItem=void 0)),g=S,S=S.next}for(S=n;++T<f.length;)f[T][0]==="exit"&&f[T-1][0]==="enter"&&f[T][1].type===f[T-1][1].type&&f[T][1].start.line!==f[T][1].end.line&&(k=T+1,R.push(k),S._tokenizer=void 0,S.previous=void 0,S=S.next);for(u.events=[],S?(S._tokenizer=void 0,S.previous=void 0):R.pop(),T=R.length;T--;){const D=f.slice(R[T],R[T+1]),B=l.pop();h.push([B,B+D.length-1]),e.splice(B,2,D)}for(h.reverse(),T=-1;++T<h.length;)d[E+h[T][0]]=E+h[T][1],E+=h[T][1]-h[T][0]-1;return d}const yR={resolve:vR,tokenize:bR},xR={partial:!0,tokenize:TR};function vR(e){return A1(e),e}function bR(e,t){let n;return r;function r(f){return e.enter("content"),n=e.enter("chunkContent",{contentType:"content"}),o(f)}function o(f){return f===null?l(f):Se(f)?e.check(xR,u,l)(f):(e.consume(f),o)}function l(f){return e.exit("chunkContent"),e.exit("content"),t(f)}function u(f){return e.consume(f),e.exit("chunkContent"),n.next=e.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,o}}function TR(e,t,n){const r=this;return o;function o(u){return e.exit("chunkContent"),e.enter("lineEnding"),e.consume(u),e.exit("lineEnding"),Fe(e,l,"linePrefix")}function l(u){if(u===null||Se(u))return n(u);const f=r.events[r.events.length-1];return!r.parser.constructs.disable.null.includes("codeIndented")&&f&&f[1].type==="linePrefix"&&f[2].sliceSerialize(f[1],!0).length>=4?t(u):e.interrupt(r.parser.constructs.flow,n,t)(u)}}function M1(e,t,n,r,o,l,u,f,h){const d=h||Number.POSITIVE_INFINITY;let m=0;return g;function g(D){return D===60?(e.enter(r),e.enter(o),e.enter(l),e.consume(D),e.exit(l),T):D===null||D===32||D===41||Su(D)?n(D):(e.enter(r),e.enter(u),e.enter(f),e.enter("chunkString",{contentType:"string"}),k(D))}function T(D){return D===62?(e.enter(l),e.consume(D),e.exit(l),e.exit(o),e.exit(r),t):(e.enter(f),e.enter("chunkString",{contentType:"string"}),S(D))}function S(D){return D===62?(e.exit("chunkString"),e.exit(f),T(D)):D===null||D===60||Se(D)?n(D):(e.consume(D),D===92?E:S)}function E(D){return D===60||D===62||D===92?(e.consume(D),S):S(D)}function k(D){return!m&&(D===null||D===41||tt(D))?(e.exit("chunkString"),e.exit(f),e.exit(u),e.exit(r),t(D)):m<d&&D===40?(e.consume(D),m++,k):D===41?(e.consume(D),m--,k):D===null||D===32||D===40||Su(D)?n(D):(e.consume(D),D===92?R:k)}function R(D){return D===40||D===41||D===92?(e.consume(D),k):k(D)}}function k1(e,t,n,r,o,l){const u=this;let f=0,h;return d;function d(S){return e.enter(r),e.enter(o),e.consume(S),e.exit(o),e.enter(l),m}function m(S){return f>999||S===null||S===91||S===93&&!h||S===94&&!f&&"_hiddenFootnoteSupport"in u.parser.constructs?n(S):S===93?(e.exit(l),e.enter(o),e.consume(S),e.exit(o),e.exit(r),t):Se(S)?(e.enter("lineEnding"),e.consume(S),e.exit("lineEnding"),m):(e.enter("chunkString",{contentType:"string"}),g(S))}function g(S){return S===null||S===91||S===93||Se(S)||f++>999?(e.exit("chunkString"),m(S)):(e.consume(S),h||(h=!Oe(S)),S===92?T:g)}function T(S){return S===91||S===92||S===93?(e.consume(S),f++,g):g(S)}}function D1(e,t,n,r,o,l){let u;return f;function f(T){return T===34||T===39||T===40?(e.enter(r),e.enter(o),e.consume(T),e.exit(o),u=T===40?41:T,h):n(T)}function h(T){return T===u?(e.enter(o),e.consume(T),e.exit(o),e.exit(r),t):(e.enter(l),d(T))}function d(T){return T===u?(e.exit(l),h(u)):T===null?n(T):Se(T)?(e.enter("lineEnding"),e.consume(T),e.exit("lineEnding"),Fe(e,d,"linePrefix")):(e.enter("chunkString",{contentType:"string"}),m(T))}function m(T){return T===u||T===null||Se(T)?(e.exit("chunkString"),d(T)):(e.consume(T),T===92?g:m)}function g(T){return T===u||T===92?(e.consume(T),m):m(T)}}function ss(e,t){let n;return r;function r(o){return Se(o)?(e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),n=!0,r):Oe(o)?Fe(e,r,n?"linePrefix":"lineSuffix")(o):t(o)}}const SR={name:"definition",tokenize:wR},CR={partial:!0,tokenize:ER};function wR(e,t,n){const r=this;let o;return l;function l(S){return e.enter("definition"),u(S)}function u(S){return k1.call(r,e,f,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(S)}function f(S){return o=Gn(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)),S===58?(e.enter("definitionMarker"),e.consume(S),e.exit("definitionMarker"),h):n(S)}function h(S){return tt(S)?ss(e,d)(S):d(S)}function d(S){return M1(e,m,n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(S)}function m(S){return e.attempt(CR,g,g)(S)}function g(S){return Oe(S)?Fe(e,T,"whitespace")(S):T(S)}function T(S){return S===null||Se(S)?(e.exit("definition"),r.parser.defined.push(o),t(S)):n(S)}}function ER(e,t,n){return r;function r(f){return tt(f)?ss(e,o)(f):n(f)}function o(f){return D1(e,l,n,"definitionTitle","definitionTitleMarker","definitionTitleString")(f)}function l(f){return Oe(f)?Fe(e,u,"whitespace")(f):u(f)}function u(f){return f===null||Se(f)?t(f):n(f)}}const AR={name:"hardBreakEscape",tokenize:MR};function MR(e,t,n){return r;function r(l){return e.enter("hardBreakEscape"),e.consume(l),o}function o(l){return Se(l)?(e.exit("hardBreakEscape"),t(l)):n(l)}}const kR={name:"headingAtx",resolve:DR,tokenize:NR};function DR(e,t){let n=e.length-2,r=3,o,l;return e[r][1].type==="whitespace"&&(r+=2),n-2>r&&e[n][1].type==="whitespace"&&(n-=2),e[n][1].type==="atxHeadingSequence"&&(r===n-1||n-4>r&&e[n-2][1].type==="whitespace")&&(n-=r+1===n?2:4),n>r&&(o={type:"atxHeadingText",start:e[r][1].start,end:e[n][1].end},l={type:"chunkText",start:e[r][1].start,end:e[n][1].end,contentType:"text"},vn(e,r,n-r+1,[["enter",o,t],["enter",l,t],["exit",l,t],["exit",o,t]])),e}function NR(e,t,n){let r=0;return o;function o(m){return e.enter("atxHeading"),l(m)}function l(m){return e.enter("atxHeadingSequence"),u(m)}function u(m){return m===35&&r++<6?(e.consume(m),u):m===null||tt(m)?(e.exit("atxHeadingSequence"),f(m)):n(m)}function f(m){return m===35?(e.enter("atxHeadingSequence"),h(m)):m===null||Se(m)?(e.exit("atxHeading"),t(m)):Oe(m)?Fe(e,f,"whitespace")(m):(e.enter("atxHeadingText"),d(m))}function h(m){return m===35?(e.consume(m),h):(e.exit("atxHeadingSequence"),f(m))}function d(m){return m===null||m===35||tt(m)?(e.exit("atxHeadingText"),f(m)):(e.consume(m),d)}}const RR=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],Hx=["pre","script","style","textarea"],_R={concrete:!0,name:"htmlFlow",resolveTo:LR,tokenize:VR},IR={partial:!0,tokenize:OR},PR={partial:!0,tokenize:BR};function LR(e){let t=e.length;for(;t--&&!(e[t][0]==="enter"&&e[t][1].type==="htmlFlow"););return t>1&&e[t-2][1].type==="linePrefix"&&(e[t][1].start=e[t-2][1].start,e[t+1][1].start=e[t-2][1].start,e.splice(t-2,2)),e}function VR(e,t,n){const r=this;let o,l,u,f,h;return d;function d(M){return m(M)}function m(M){return e.enter("htmlFlow"),e.enter("htmlFlowData"),e.consume(M),g}function g(M){return M===33?(e.consume(M),T):M===47?(e.consume(M),l=!0,k):M===63?(e.consume(M),o=3,r.interrupt?t:C):Xt(M)?(e.consume(M),u=String.fromCharCode(M),R):n(M)}function T(M){return M===45?(e.consume(M),o=2,S):M===91?(e.consume(M),o=5,f=0,E):Xt(M)?(e.consume(M),o=4,r.interrupt?t:C):n(M)}function S(M){return M===45?(e.consume(M),r.interrupt?t:C):n(M)}function E(M){const ee="CDATA[";return M===ee.charCodeAt(f++)?(e.consume(M),f===ee.length?r.interrupt?t:he:E):n(M)}function k(M){return Xt(M)?(e.consume(M),u=String.fromCharCode(M),R):n(M)}function R(M){if(M===null||M===47||M===62||tt(M)){const ee=M===47,j=u.toLowerCase();return!ee&&!l&&Hx.includes(j)?(o=1,r.interrupt?t(M):he(M)):RR.includes(u.toLowerCase())?(o=6,ee?(e.consume(M),D):r.interrupt?t(M):he(M)):(o=7,r.interrupt&&!r.parser.lazy[r.now().line]?n(M):l?B(M):P(M))}return M===45||qt(M)?(e.consume(M),u+=String.fromCharCode(M),R):n(M)}function D(M){return M===62?(e.consume(M),r.interrupt?t:he):n(M)}function B(M){return Oe(M)?(e.consume(M),B):L(M)}function P(M){return M===47?(e.consume(M),L):M===58||M===95||Xt(M)?(e.consume(M),z):Oe(M)?(e.consume(M),P):L(M)}function z(M){return M===45||M===46||M===58||M===95||qt(M)?(e.consume(M),z):F(M)}function F(M){return M===61?(e.consume(M),H):Oe(M)?(e.consume(M),F):P(M)}function H(M){return M===null||M===60||M===61||M===62||M===96?n(M):M===34||M===39?(e.consume(M),h=M,se):Oe(M)?(e.consume(M),H):ae(M)}function se(M){return M===h?(e.consume(M),h=null,pe):M===null||Se(M)?n(M):(e.consume(M),se)}function ae(M){return M===null||M===34||M===39||M===47||M===60||M===61||M===62||M===96||tt(M)?F(M):(e.consume(M),ae)}function pe(M){return M===47||M===62||Oe(M)?P(M):n(M)}function L(M){return M===62?(e.consume(M),oe):n(M)}function oe(M){return M===null||Se(M)?he(M):Oe(M)?(e.consume(M),oe):n(M)}function he(M){return M===45&&o===2?(e.consume(M),K):M===60&&o===1?(e.consume(M),V):M===62&&o===4?(e.consume(M),O):M===63&&o===3?(e.consume(M),C):M===93&&o===5?(e.consume(M),_):Se(M)&&(o===6||o===7)?(e.exit("htmlFlowData"),e.check(IR,G,fe)(M)):M===null||Se(M)?(e.exit("htmlFlowData"),fe(M)):(e.consume(M),he)}function fe(M){return e.check(PR,ue,G)(M)}function ue(M){return e.enter("lineEnding"),e.consume(M),e.exit("lineEnding"),me}function me(M){return M===null||Se(M)?fe(M):(e.enter("htmlFlowData"),he(M))}function K(M){return M===45?(e.consume(M),C):he(M)}function V(M){return M===47?(e.consume(M),u="",N):he(M)}function N(M){if(M===62){const ee=u.toLowerCase();return Hx.includes(ee)?(e.consume(M),O):he(M)}return Xt(M)&&u.length<8?(e.consume(M),u+=String.fromCharCode(M),N):he(M)}function _(M){return M===93?(e.consume(M),C):he(M)}function C(M){return M===62?(e.consume(M),O):M===45&&o===2?(e.consume(M),C):he(M)}function O(M){return M===null||Se(M)?(e.exit("htmlFlowData"),G(M)):(e.consume(M),O)}function G(M){return e.exit("htmlFlow"),t(M)}}function BR(e,t,n){const r=this;return o;function o(u){return Se(u)?(e.enter("lineEnding"),e.consume(u),e.exit("lineEnding"),l):n(u)}function l(u){return r.parser.lazy[r.now().line]?n(u):t(u)}}function OR(e,t,n){return r;function r(o){return e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),e.attempt(ks,t,n)}}const jR={name:"htmlText",tokenize:UR};function UR(e,t,n){const r=this;let o,l,u;return f;function f(C){return e.enter("htmlText"),e.enter("htmlTextData"),e.consume(C),h}function h(C){return C===33?(e.consume(C),d):C===47?(e.consume(C),F):C===63?(e.consume(C),P):Xt(C)?(e.consume(C),ae):n(C)}function d(C){return C===45?(e.consume(C),m):C===91?(e.consume(C),l=0,E):Xt(C)?(e.consume(C),B):n(C)}function m(C){return C===45?(e.consume(C),S):n(C)}function g(C){return C===null?n(C):C===45?(e.consume(C),T):Se(C)?(u=g,V(C)):(e.consume(C),g)}function T(C){return C===45?(e.consume(C),S):g(C)}function S(C){return C===62?K(C):C===45?T(C):g(C)}function E(C){const O="CDATA[";return C===O.charCodeAt(l++)?(e.consume(C),l===O.length?k:E):n(C)}function k(C){return C===null?n(C):C===93?(e.consume(C),R):Se(C)?(u=k,V(C)):(e.consume(C),k)}function R(C){return C===93?(e.consume(C),D):k(C)}function D(C){return C===62?K(C):C===93?(e.consume(C),D):k(C)}function B(C){return C===null||C===62?K(C):Se(C)?(u=B,V(C)):(e.consume(C),B)}function P(C){return C===null?n(C):C===63?(e.consume(C),z):Se(C)?(u=P,V(C)):(e.consume(C),P)}function z(C){return C===62?K(C):P(C)}function F(C){return Xt(C)?(e.consume(C),H):n(C)}function H(C){return C===45||qt(C)?(e.consume(C),H):se(C)}function se(C){return Se(C)?(u=se,V(C)):Oe(C)?(e.consume(C),se):K(C)}function ae(C){return C===45||qt(C)?(e.consume(C),ae):C===47||C===62||tt(C)?pe(C):n(C)}function pe(C){return C===47?(e.consume(C),K):C===58||C===95||Xt(C)?(e.consume(C),L):Se(C)?(u=pe,V(C)):Oe(C)?(e.consume(C),pe):K(C)}function L(C){return C===45||C===46||C===58||C===95||qt(C)?(e.consume(C),L):oe(C)}function oe(C){return C===61?(e.consume(C),he):Se(C)?(u=oe,V(C)):Oe(C)?(e.consume(C),oe):pe(C)}function he(C){return C===null||C===60||C===61||C===62||C===96?n(C):C===34||C===39?(e.consume(C),o=C,fe):Se(C)?(u=he,V(C)):Oe(C)?(e.consume(C),he):(e.consume(C),ue)}function fe(C){return C===o?(e.consume(C),o=void 0,me):C===null?n(C):Se(C)?(u=fe,V(C)):(e.consume(C),fe)}function ue(C){return C===null||C===34||C===39||C===60||C===61||C===96?n(C):C===47||C===62||tt(C)?pe(C):(e.consume(C),ue)}function me(C){return C===47||C===62||tt(C)?pe(C):n(C)}function K(C){return C===62?(e.consume(C),e.exit("htmlTextData"),e.exit("htmlText"),t):n(C)}function V(C){return e.exit("htmlTextData"),e.enter("lineEnding"),e.consume(C),e.exit("lineEnding"),N}function N(C){return Oe(C)?Fe(e,_,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(C):_(C)}function _(C){return e.enter("htmlTextData"),u(C)}}const Vh={name:"labelEnd",resolveAll:qR,resolveTo:GR,tokenize:YR},zR={tokenize:$R},FR={tokenize:KR},HR={tokenize:XR};function qR(e){let t=-1;const n=[];for(;++t<e.length;){const r=e[t][1];if(n.push(e[t]),r.type==="labelImage"||r.type==="labelLink"||r.type==="labelEnd"){const o=r.type==="labelImage"?4:2;r.type="data",t+=o}}return e.length!==n.length&&vn(e,0,e.length,n),e}function GR(e,t){let n=e.length,r=0,o,l,u,f;for(;n--;)if(o=e[n][1],l){if(o.type==="link"||o.type==="labelLink"&&o._inactive)break;e[n][0]==="enter"&&o.type==="labelLink"&&(o._inactive=!0)}else if(u){if(e[n][0]==="enter"&&(o.type==="labelImage"||o.type==="labelLink")&&!o._balanced&&(l=n,o.type!=="labelLink")){r=2;break}}else o.type==="labelEnd"&&(u=n);const h={type:e[l][1].type==="labelLink"?"link":"image",start:{...e[l][1].start},end:{...e[e.length-1][1].end}},d={type:"label",start:{...e[l][1].start},end:{...e[u][1].end}},m={type:"labelText",start:{...e[l+r+2][1].end},end:{...e[u-2][1].start}};return f=[["enter",h,t],["enter",d,t]],f=Ln(f,e.slice(l+1,l+r+3)),f=Ln(f,[["enter",m,t]]),f=Ln(f,Lu(t.parser.constructs.insideSpan.null,e.slice(l+r+4,u-3),t)),f=Ln(f,[["exit",m,t],e[u-2],e[u-1],["exit",d,t]]),f=Ln(f,e.slice(u+1)),f=Ln(f,[["exit",h,t]]),vn(e,l,e.length,f),e}function YR(e,t,n){const r=this;let o=r.events.length,l,u;for(;o--;)if((r.events[o][1].type==="labelImage"||r.events[o][1].type==="labelLink")&&!r.events[o][1]._balanced){l=r.events[o][1];break}return f;function f(T){return l?l._inactive?g(T):(u=r.parser.defined.includes(Gn(r.sliceSerialize({start:l.end,end:r.now()}))),e.enter("labelEnd"),e.enter("labelMarker"),e.consume(T),e.exit("labelMarker"),e.exit("labelEnd"),h):n(T)}function h(T){return T===40?e.attempt(zR,m,u?m:g)(T):T===91?e.attempt(FR,m,u?d:g)(T):u?m(T):g(T)}function d(T){return e.attempt(HR,m,g)(T)}function m(T){return t(T)}function g(T){return l._balanced=!0,n(T)}}function $R(e,t,n){return r;function r(g){return e.enter("resource"),e.enter("resourceMarker"),e.consume(g),e.exit("resourceMarker"),o}function o(g){return tt(g)?ss(e,l)(g):l(g)}function l(g){return g===41?m(g):M1(e,u,f,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(g)}function u(g){return tt(g)?ss(e,h)(g):m(g)}function f(g){return n(g)}function h(g){return g===34||g===39||g===40?D1(e,d,n,"resourceTitle","resourceTitleMarker","resourceTitleString")(g):m(g)}function d(g){return tt(g)?ss(e,m)(g):m(g)}function m(g){return g===41?(e.enter("resourceMarker"),e.consume(g),e.exit("resourceMarker"),e.exit("resource"),t):n(g)}}function KR(e,t,n){const r=this;return o;function o(f){return k1.call(r,e,l,u,"reference","referenceMarker","referenceString")(f)}function l(f){return r.parser.defined.includes(Gn(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)))?t(f):n(f)}function u(f){return n(f)}}function XR(e,t,n){return r;function r(l){return e.enter("reference"),e.enter("referenceMarker"),e.consume(l),e.exit("referenceMarker"),o}function o(l){return l===93?(e.enter("referenceMarker"),e.consume(l),e.exit("referenceMarker"),e.exit("reference"),t):n(l)}}const QR={name:"labelStartImage",resolveAll:Vh.resolveAll,tokenize:JR};function JR(e,t,n){const r=this;return o;function o(f){return e.enter("labelImage"),e.enter("labelImageMarker"),e.consume(f),e.exit("labelImageMarker"),l}function l(f){return f===91?(e.enter("labelMarker"),e.consume(f),e.exit("labelMarker"),e.exit("labelImage"),u):n(f)}function u(f){return f===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(f):t(f)}}const ZR={name:"labelStartLink",resolveAll:Vh.resolveAll,tokenize:WR};function WR(e,t,n){const r=this;return o;function o(u){return e.enter("labelLink"),e.enter("labelMarker"),e.consume(u),e.exit("labelMarker"),e.exit("labelLink"),l}function l(u){return u===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(u):t(u)}}const fd={name:"lineEnding",tokenize:e_};function e_(e,t){return n;function n(r){return e.enter("lineEnding"),e.consume(r),e.exit("lineEnding"),Fe(e,t,"linePrefix")}}const cu={name:"thematicBreak",tokenize:t_};function t_(e,t,n){let r=0,o;return l;function l(d){return e.enter("thematicBreak"),u(d)}function u(d){return o=d,f(d)}function f(d){return d===o?(e.enter("thematicBreakSequence"),h(d)):r>=3&&(d===null||Se(d))?(e.exit("thematicBreak"),t(d)):n(d)}function h(d){return d===o?(e.consume(d),r++,h):(e.exit("thematicBreakSequence"),Oe(d)?Fe(e,f,"whitespace")(d):f(d))}}const rn={continuation:{tokenize:a_},exit:s_,name:"list",tokenize:r_},n_={partial:!0,tokenize:l_},i_={partial:!0,tokenize:o_};function r_(e,t,n){const r=this,o=r.events[r.events.length-1];let l=o&&o[1].type==="linePrefix"?o[2].sliceSerialize(o[1],!0).length:0,u=0;return f;function f(S){const E=r.containerState.type||(S===42||S===43||S===45?"listUnordered":"listOrdered");if(E==="listUnordered"?!r.containerState.marker||S===r.containerState.marker:Zd(S)){if(r.containerState.type||(r.containerState.type=E,e.enter(E,{_container:!0})),E==="listUnordered")return e.enter("listItemPrefix"),S===42||S===45?e.check(cu,n,d)(S):d(S);if(!r.interrupt||S===49)return e.enter("listItemPrefix"),e.enter("listItemValue"),h(S)}return n(S)}function h(S){return Zd(S)&&++u<10?(e.consume(S),h):(!r.interrupt||u<2)&&(r.containerState.marker?S===r.containerState.marker:S===41||S===46)?(e.exit("listItemValue"),d(S)):n(S)}function d(S){return e.enter("listItemMarker"),e.consume(S),e.exit("listItemMarker"),r.containerState.marker=r.containerState.marker||S,e.check(ks,r.interrupt?n:m,e.attempt(n_,T,g))}function m(S){return r.containerState.initialBlankLine=!0,l++,T(S)}function g(S){return Oe(S)?(e.enter("listItemPrefixWhitespace"),e.consume(S),e.exit("listItemPrefixWhitespace"),T):n(S)}function T(S){return r.containerState.size=l+r.sliceSerialize(e.exit("listItemPrefix"),!0).length,t(S)}}function a_(e,t,n){const r=this;return r.containerState._closeFlow=void 0,e.check(ks,o,l);function o(f){return r.containerState.furtherBlankLines=r.containerState.furtherBlankLines||r.containerState.initialBlankLine,Fe(e,t,"listItemIndent",r.containerState.size+1)(f)}function l(f){return r.containerState.furtherBlankLines||!Oe(f)?(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,u(f)):(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,e.attempt(i_,t,u)(f))}function u(f){return r.containerState._closeFlow=!0,r.interrupt=void 0,Fe(e,e.attempt(rn,t,n),"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(f)}}function o_(e,t,n){const r=this;return Fe(e,o,"listItemIndent",r.containerState.size+1);function o(l){const u=r.events[r.events.length-1];return u&&u[1].type==="listItemIndent"&&u[2].sliceSerialize(u[1],!0).length===r.containerState.size?t(l):n(l)}}function s_(e){e.exit(this.containerState.type)}function l_(e,t,n){const r=this;return Fe(e,o,"listItemPrefixWhitespace",r.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function o(l){const u=r.events[r.events.length-1];return!Oe(l)&&u&&u[1].type==="listItemPrefixWhitespace"?t(l):n(l)}}const qx={name:"setextUnderline",resolveTo:u_,tokenize:c_};function u_(e,t){let n=e.length,r,o,l;for(;n--;)if(e[n][0]==="enter"){if(e[n][1].type==="content"){r=n;break}e[n][1].type==="paragraph"&&(o=n)}else e[n][1].type==="content"&&e.splice(n,1),!l&&e[n][1].type==="definition"&&(l=n);const u={type:"setextHeading",start:{...e[r][1].start},end:{...e[e.length-1][1].end}};return e[o][1].type="setextHeadingText",l?(e.splice(o,0,["enter",u,t]),e.splice(l+1,0,["exit",e[r][1],t]),e[r][1].end={...e[l][1].end}):e[r][1]=u,e.push(["exit",u,t]),e}function c_(e,t,n){const r=this;let o;return l;function l(d){let m=r.events.length,g;for(;m--;)if(r.events[m][1].type!=="lineEnding"&&r.events[m][1].type!=="linePrefix"&&r.events[m][1].type!=="content"){g=r.events[m][1].type==="paragraph";break}return!r.parser.lazy[r.now().line]&&(r.interrupt||g)?(e.enter("setextHeadingLine"),o=d,u(d)):n(d)}function u(d){return e.enter("setextHeadingLineSequence"),f(d)}function f(d){return d===o?(e.consume(d),f):(e.exit("setextHeadingLineSequence"),Oe(d)?Fe(e,h,"lineSuffix")(d):h(d))}function h(d){return d===null||Se(d)?(e.exit("setextHeadingLine"),t(d)):n(d)}}const f_={tokenize:d_};function d_(e){const t=this,n=e.attempt(ks,r,e.attempt(this.parser.constructs.flowInitial,o,Fe(e,e.attempt(this.parser.constructs.flow,o,e.attempt(yR,o)),"linePrefix")));return n;function r(l){if(l===null){e.consume(l);return}return e.enter("lineEndingBlank"),e.consume(l),e.exit("lineEndingBlank"),t.currentConstruct=void 0,n}function o(l){if(l===null){e.consume(l);return}return e.enter("lineEnding"),e.consume(l),e.exit("lineEnding"),t.currentConstruct=void 0,n}}const h_={resolveAll:R1()},m_=N1("string"),p_=N1("text");function N1(e){return{resolveAll:R1(e==="text"?g_:void 0),tokenize:t};function t(n){const r=this,o=this.parser.constructs[e],l=n.attempt(o,u,f);return u;function u(m){return d(m)?l(m):f(m)}function f(m){if(m===null){n.consume(m);return}return n.enter("data"),n.consume(m),h}function h(m){return d(m)?(n.exit("data"),l(m)):(n.consume(m),h)}function d(m){if(m===null)return!0;const g=o[m];let T=-1;if(g)for(;++T<g.length;){const S=g[T];if(!S.previous||S.previous.call(r,r.previous))return!0}return!1}}}function R1(e){return t;function t(n,r){let o=-1,l;for(;++o<=n.length;)l===void 0?n[o]&&n[o][1].type==="data"&&(l=o,o++):(!n[o]||n[o][1].type!=="data")&&(o!==l+2&&(n[l][1].end=n[o-1][1].end,n.splice(l+2,o-l-2),o=l+2),l=void 0);return e?e(n,r):n}}function g_(e,t){let n=0;for(;++n<=e.length;)if((n===e.length||e[n][1].type==="lineEnding")&&e[n-1][1].type==="data"){const r=e[n-1][1],o=t.sliceStream(r);let l=o.length,u=-1,f=0,h;for(;l--;){const d=o[l];if(typeof d=="string"){for(u=d.length;d.charCodeAt(u-1)===32;)f++,u--;if(u)break;u=-1}else if(d===-2)h=!0,f++;else if(d!==-1){l++;break}}if(t._contentTypeTextTrailing&&n===e.length&&(f=0),f){const d={type:n===e.length||h||f<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:l?u:r.start._bufferIndex+u,_index:r.start._index+l,line:r.end.line,column:r.end.column-f,offset:r.end.offset-f},end:{...r.end}};r.end={...d.start},r.start.offset===r.end.offset?Object.assign(r,d):(e.splice(n,0,["enter",d,t],["exit",d,t]),n+=2)}n++}return e}const y_={42:rn,43:rn,45:rn,48:rn,49:rn,50:rn,51:rn,52:rn,53:rn,54:rn,55:rn,56:rn,57:rn,62:C1},x_={91:SR},v_={[-2]:cd,[-1]:cd,32:cd},b_={35:kR,42:cu,45:[qx,cu],60:_R,61:qx,95:cu,96:Fx,126:Fx},T_={38:E1,92:w1},S_={[-5]:fd,[-4]:fd,[-3]:fd,33:QR,38:E1,42:Wd,60:[ZN,jR],91:ZR,92:[AR,w1],93:Vh,95:Wd,96:fR},C_={null:[Wd,h_]},w_={null:[42,95]},E_={null:[]},A_=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:w_,contentInitial:x_,disable:E_,document:y_,flow:b_,flowInitial:v_,insideSpan:C_,string:T_,text:S_},Symbol.toStringTag,{value:"Module"}));function M_(e,t,n){let r={_bufferIndex:-1,_index:0,line:n&&n.line||1,column:n&&n.column||1,offset:n&&n.offset||0};const o={},l=[];let u=[],f=[];const h={attempt:se(F),check:se(H),consume:B,enter:P,exit:z,interrupt:se(H,{interrupt:!0})},d={code:null,containerState:{},defineSkip:k,events:[],now:E,parser:e,previous:null,sliceSerialize:T,sliceStream:S,write:g};let m=t.tokenize.call(d,h);return t.resolveAll&&l.push(t),d;function g(oe){return u=Ln(u,oe),R(),u[u.length-1]!==null?[]:(ae(t,0),d.events=Lu(l,d.events,d),d.events)}function T(oe,he){return D_(S(oe),he)}function S(oe){return k_(u,oe)}function E(){const{_bufferIndex:oe,_index:he,line:fe,column:ue,offset:me}=r;return{_bufferIndex:oe,_index:he,line:fe,column:ue,offset:me}}function k(oe){o[oe.line]=oe.column,L()}function R(){let oe;for(;r._index<u.length;){const he=u[r._index];if(typeof he=="string")for(oe=r._index,r._bufferIndex<0&&(r._bufferIndex=0);r._index===oe&&r._bufferIndex<he.length;)D(he.charCodeAt(r._bufferIndex));else D(he)}}function D(oe){m=m(oe)}function B(oe){Se(oe)?(r.line++,r.column=1,r.offset+=oe===-3?2:1,L()):oe!==-1&&(r.column++,r.offset++),r._bufferIndex<0?r._index++:(r._bufferIndex++,r._bufferIndex===u[r._index].length&&(r._bufferIndex=-1,r._index++)),d.previous=oe}function P(oe,he){const fe=he||{};return fe.type=oe,fe.start=E(),d.events.push(["enter",fe,d]),f.push(fe),fe}function z(oe){const he=f.pop();return he.end=E(),d.events.push(["exit",he,d]),he}function F(oe,he){ae(oe,he.from)}function H(oe,he){he.restore()}function se(oe,he){return fe;function fe(ue,me,K){let V,N,_,C;return Array.isArray(ue)?G(ue):"tokenize"in ue?G([ue]):O(ue);function O(te){return ye;function ye(le){const Ee=le!==null&&te[le],_e=le!==null&&te.null,je=[...Array.isArray(Ee)?Ee:Ee?[Ee]:[],...Array.isArray(_e)?_e:_e?[_e]:[]];return G(je)(le)}}function G(te){return V=te,N=0,te.length===0?K:M(te[N])}function M(te){return ye;function ye(le){return C=pe(),_=te,te.partial||(d.currentConstruct=te),te.name&&d.parser.constructs.disable.null.includes(te.name)?j():te.tokenize.call(he?Object.assign(Object.create(d),he):d,h,ee,j)(le)}}function ee(te){return oe(_,C),me}function j(te){return C.restore(),++N<V.length?M(V[N]):K}}}function ae(oe,he){oe.resolveAll&&!l.includes(oe)&&l.push(oe),oe.resolve&&vn(d.events,he,d.events.length-he,oe.resolve(d.events.slice(he),d)),oe.resolveTo&&(d.events=oe.resolveTo(d.events,d))}function pe(){const oe=E(),he=d.previous,fe=d.currentConstruct,ue=d.events.length,me=Array.from(f);return{from:ue,restore:K};function K(){r=oe,d.previous=he,d.currentConstruct=fe,d.events.length=ue,f=me,L()}}function L(){r.line in o&&r.column<2&&(r.column=o[r.line],r.offset+=o[r.line]-1)}}function k_(e,t){const n=t.start._index,r=t.start._bufferIndex,o=t.end._index,l=t.end._bufferIndex;let u;if(n===o)u=[e[n].slice(r,l)];else{if(u=e.slice(n,o),r>-1){const f=u[0];typeof f=="string"?u[0]=f.slice(r):u.shift()}l>0&&u.push(e[o].slice(0,l))}return u}function D_(e,t){let n=-1;const r=[];let o;for(;++n<e.length;){const l=e[n];let u;if(typeof l=="string")u=l;else switch(l){case-5:{u="\r";break}case-4:{u=`
`;break}case-3:{u=`\r
`;break}case-2:{u=t?" ":"	";break}case-1:{if(!t&&o)continue;u=" ";break}default:u=String.fromCharCode(l)}o=l===-2,r.push(u)}return r.join("")}function N_(e){const r={constructs:T1([A_,...(e||{}).extensions||[]]),content:o(GN),defined:[],document:o($N),flow:o(f_),lazy:{},string:o(m_),text:o(p_)};return r;function o(l){return u;function u(f){return M_(r,l,f)}}}function R_(e){for(;!A1(e););return e}const Gx=/[\0\t\n\r]/g;function __(){let e=1,t="",n=!0,r;return o;function o(l,u,f){const h=[];let d,m,g,T,S;for(l=t+(typeof l=="string"?l.toString():new TextDecoder(u||void 0).decode(l)),g=0,t="",n&&(l.charCodeAt(0)===65279&&g++,n=void 0);g<l.length;){if(Gx.lastIndex=g,d=Gx.exec(l),T=d&&d.index!==void 0?d.index:l.length,S=l.charCodeAt(T),!d){t=l.slice(g);break}if(S===10&&g===T&&r)h.push(-3),r=void 0;else switch(r&&(h.push(-5),r=void 0),g<T&&(h.push(l.slice(g,T)),e+=T-g),S){case 0:{h.push(65533),e++;break}case 9:{for(m=Math.ceil(e/4)*4,h.push(-2);e++<m;)h.push(-1);break}case 10:{h.push(-4),e=1;break}default:r=!0,e=1}g=T+1}return f&&(r&&h.push(-5),t&&h.push(t),h.push(null)),h}}const I_=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function P_(e){return e.replace(I_,L_)}function L_(e,t,n){if(t)return t;if(n.charCodeAt(0)===35){const o=n.charCodeAt(1),l=o===120||o===88;return S1(n.slice(l?2:1),l?16:10)}return Lh(n)||e}const _1={}.hasOwnProperty;function V_(e,t,n){return typeof t!="string"&&(n=t,t=void 0),B_(n)(R_(N_(n).document().write(__()(e,t,!0))))}function B_(e){const t={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:l(wt),autolinkProtocol:pe,autolinkEmail:pe,atxHeading:l(Mt),blockQuote:l(_e),characterEscape:pe,characterReference:pe,codeFenced:l(je),codeFencedFenceInfo:u,codeFencedFenceMeta:u,codeIndented:l(je,u),codeText:l(He,u),codeTextData:pe,data:pe,codeFlowValue:pe,definition:l(nt),definitionDestinationString:u,definitionLabelString:u,definitionTitleString:u,emphasis:l(at),hardBreakEscape:l(ln),hardBreakTrailing:l(ln),htmlFlow:l(Vt,u),htmlFlowData:pe,htmlText:l(Vt,u),htmlTextData:pe,image:l(Hr),label:u,link:l(wt),listItem:l(ri),listItemValue:T,listOrdered:l(ii,g),listUnordered:l(ii),paragraph:l(qr),reference:M,referenceString:u,resourceDestinationString:u,resourceTitleString:u,setextHeading:l(Mt),strong:l(Gr),thematicBreak:l(ur)},exit:{atxHeading:h(),atxHeadingSequence:F,autolink:h(),autolinkEmail:Ee,autolinkProtocol:le,blockQuote:h(),characterEscapeValue:L,characterReferenceMarkerHexadecimal:j,characterReferenceMarkerNumeric:j,characterReferenceValue:te,characterReference:ye,codeFenced:h(R),codeFencedFence:k,codeFencedFenceInfo:S,codeFencedFenceMeta:E,codeFlowValue:L,codeIndented:h(D),codeText:h(me),codeTextData:L,data:L,definition:h(),definitionDestinationString:z,definitionLabelString:B,definitionTitleString:P,emphasis:h(),hardBreakEscape:h(he),hardBreakTrailing:h(he),htmlFlow:h(fe),htmlFlowData:L,htmlText:h(ue),htmlTextData:L,image:h(V),label:_,labelText:N,lineEnding:oe,link:h(K),listItem:h(),listOrdered:h(),listUnordered:h(),paragraph:h(),referenceString:ee,resourceDestinationString:C,resourceTitleString:O,resource:G,setextHeading:h(ae),setextHeadingLineSequence:se,setextHeadingText:H,strong:h(),thematicBreak:h()}};I1(t,(e||{}).mdastExtensions||[]);const n={};return r;function r(Z){let ce={type:"root",children:[]};const Te={stack:[ce],tokenStack:[],config:t,enter:f,exit:d,buffer:u,resume:m,data:n},Ce=[];let Ye=-1;for(;++Ye<Z.length;)if(Z[Ye][1].type==="listOrdered"||Z[Ye][1].type==="listUnordered")if(Z[Ye][0]==="enter")Ce.push(Ye);else{const Bt=Ce.pop();Ye=o(Z,Bt,Ye)}for(Ye=-1;++Ye<Z.length;){const Bt=t[Z[Ye][0]];_1.call(Bt,Z[Ye][1].type)&&Bt[Z[Ye][1].type].call(Object.assign({sliceSerialize:Z[Ye][2].sliceSerialize},Te),Z[Ye][1])}if(Te.tokenStack.length>0){const Bt=Te.tokenStack[Te.tokenStack.length-1];(Bt[1]||Yx).call(Te,void 0,Bt[0])}for(ce.position={start:Ji(Z.length>0?Z[0][1].start:{line:1,column:1,offset:0}),end:Ji(Z.length>0?Z[Z.length-2][1].end:{line:1,column:1,offset:0})},Ye=-1;++Ye<t.transforms.length;)ce=t.transforms[Ye](ce)||ce;return ce}function o(Z,ce,Te){let Ce=ce-1,Ye=-1,Bt=!1,Bn,Ot,bn,$t;for(;++Ce<=Te;){const pt=Z[Ce];switch(pt[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{pt[0]==="enter"?Ye++:Ye--,$t=void 0;break}case"lineEndingBlank":{pt[0]==="enter"&&(Bn&&!$t&&!Ye&&!bn&&(bn=Ce),$t=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:$t=void 0}if(!Ye&&pt[0]==="enter"&&pt[1].type==="listItemPrefix"||Ye===-1&&pt[0]==="exit"&&(pt[1].type==="listUnordered"||pt[1].type==="listOrdered")){if(Bn){let Jt=Ce;for(Ot=void 0;Jt--;){const un=Z[Jt];if(un[1].type==="lineEnding"||un[1].type==="lineEndingBlank"){if(un[0]==="exit")continue;Ot&&(Z[Ot][1].type="lineEndingBlank",Bt=!0),un[1].type="lineEnding",Ot=Jt}else if(!(un[1].type==="linePrefix"||un[1].type==="blockQuotePrefix"||un[1].type==="blockQuotePrefixWhitespace"||un[1].type==="blockQuoteMarker"||un[1].type==="listItemIndent"))break}bn&&(!Ot||bn<Ot)&&(Bn._spread=!0),Bn.end=Object.assign({},Ot?Z[Ot][1].start:pt[1].end),Z.splice(Ot||Ce,0,["exit",Bn,pt[2]]),Ce++,Te++}if(pt[1].type==="listItemPrefix"){const Jt={type:"listItem",_spread:!1,start:Object.assign({},pt[1].start),end:void 0};Bn=Jt,Z.splice(Ce,0,["enter",Jt,pt[2]]),Ce++,Te++,bn=void 0,$t=!0}}}return Z[ce][1]._spread=Bt,Te}function l(Z,ce){return Te;function Te(Ce){f.call(this,Z(Ce),Ce),ce&&ce.call(this,Ce)}}function u(){this.stack.push({type:"fragment",children:[]})}function f(Z,ce,Te){this.stack[this.stack.length-1].children.push(Z),this.stack.push(Z),this.tokenStack.push([ce,Te||void 0]),Z.position={start:Ji(ce.start),end:void 0}}function h(Z){return ce;function ce(Te){Z&&Z.call(this,Te),d.call(this,Te)}}function d(Z,ce){const Te=this.stack.pop(),Ce=this.tokenStack.pop();if(Ce)Ce[0].type!==Z.type&&(ce?ce.call(this,Z,Ce[0]):(Ce[1]||Yx).call(this,Z,Ce[0]));else throw new Error("Cannot close `"+Z.type+"` ("+os({start:Z.start,end:Z.end})+"): it’s not open");Te.position.end=Ji(Z.end)}function m(){return Ph(this.stack.pop())}function g(){this.data.expectingFirstListItemValue=!0}function T(Z){if(this.data.expectingFirstListItemValue){const ce=this.stack[this.stack.length-2];ce.start=Number.parseInt(this.sliceSerialize(Z),10),this.data.expectingFirstListItemValue=void 0}}function S(){const Z=this.resume(),ce=this.stack[this.stack.length-1];ce.lang=Z}function E(){const Z=this.resume(),ce=this.stack[this.stack.length-1];ce.meta=Z}function k(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function R(){const Z=this.resume(),ce=this.stack[this.stack.length-1];ce.value=Z.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function D(){const Z=this.resume(),ce=this.stack[this.stack.length-1];ce.value=Z.replace(/(\r?\n|\r)$/g,"")}function B(Z){const ce=this.resume(),Te=this.stack[this.stack.length-1];Te.label=ce,Te.identifier=Gn(this.sliceSerialize(Z)).toLowerCase()}function P(){const Z=this.resume(),ce=this.stack[this.stack.length-1];ce.title=Z}function z(){const Z=this.resume(),ce=this.stack[this.stack.length-1];ce.url=Z}function F(Z){const ce=this.stack[this.stack.length-1];if(!ce.depth){const Te=this.sliceSerialize(Z).length;ce.depth=Te}}function H(){this.data.setextHeadingSlurpLineEnding=!0}function se(Z){const ce=this.stack[this.stack.length-1];ce.depth=this.sliceSerialize(Z).codePointAt(0)===61?1:2}function ae(){this.data.setextHeadingSlurpLineEnding=void 0}function pe(Z){const Te=this.stack[this.stack.length-1].children;let Ce=Te[Te.length-1];(!Ce||Ce.type!=="text")&&(Ce=Yr(),Ce.position={start:Ji(Z.start),end:void 0},Te.push(Ce)),this.stack.push(Ce)}function L(Z){const ce=this.stack.pop();ce.value+=this.sliceSerialize(Z),ce.position.end=Ji(Z.end)}function oe(Z){const ce=this.stack[this.stack.length-1];if(this.data.atHardBreak){const Te=ce.children[ce.children.length-1];Te.position.end=Ji(Z.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&t.canContainEols.includes(ce.type)&&(pe.call(this,Z),L.call(this,Z))}function he(){this.data.atHardBreak=!0}function fe(){const Z=this.resume(),ce=this.stack[this.stack.length-1];ce.value=Z}function ue(){const Z=this.resume(),ce=this.stack[this.stack.length-1];ce.value=Z}function me(){const Z=this.resume(),ce=this.stack[this.stack.length-1];ce.value=Z}function K(){const Z=this.stack[this.stack.length-1];if(this.data.inReference){const ce=this.data.referenceType||"shortcut";Z.type+="Reference",Z.referenceType=ce,delete Z.url,delete Z.title}else delete Z.identifier,delete Z.label;this.data.referenceType=void 0}function V(){const Z=this.stack[this.stack.length-1];if(this.data.inReference){const ce=this.data.referenceType||"shortcut";Z.type+="Reference",Z.referenceType=ce,delete Z.url,delete Z.title}else delete Z.identifier,delete Z.label;this.data.referenceType=void 0}function N(Z){const ce=this.sliceSerialize(Z),Te=this.stack[this.stack.length-2];Te.label=P_(ce),Te.identifier=Gn(ce).toLowerCase()}function _(){const Z=this.stack[this.stack.length-1],ce=this.resume(),Te=this.stack[this.stack.length-1];if(this.data.inReference=!0,Te.type==="link"){const Ce=Z.children;Te.children=Ce}else Te.alt=ce}function C(){const Z=this.resume(),ce=this.stack[this.stack.length-1];ce.url=Z}function O(){const Z=this.resume(),ce=this.stack[this.stack.length-1];ce.title=Z}function G(){this.data.inReference=void 0}function M(){this.data.referenceType="collapsed"}function ee(Z){const ce=this.resume(),Te=this.stack[this.stack.length-1];Te.label=ce,Te.identifier=Gn(this.sliceSerialize(Z)).toLowerCase(),this.data.referenceType="full"}function j(Z){this.data.characterReferenceType=Z.type}function te(Z){const ce=this.sliceSerialize(Z),Te=this.data.characterReferenceType;let Ce;Te?(Ce=S1(ce,Te==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):Ce=Lh(ce);const Ye=this.stack[this.stack.length-1];Ye.value+=Ce}function ye(Z){const ce=this.stack.pop();ce.position.end=Ji(Z.end)}function le(Z){L.call(this,Z);const ce=this.stack[this.stack.length-1];ce.url=this.sliceSerialize(Z)}function Ee(Z){L.call(this,Z);const ce=this.stack[this.stack.length-1];ce.url="mailto:"+this.sliceSerialize(Z)}function _e(){return{type:"blockquote",children:[]}}function je(){return{type:"code",lang:null,meta:null,value:""}}function He(){return{type:"inlineCode",value:""}}function nt(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function at(){return{type:"emphasis",children:[]}}function Mt(){return{type:"heading",depth:0,children:[]}}function ln(){return{type:"break"}}function Vt(){return{type:"html",value:""}}function Hr(){return{type:"image",title:null,url:"",alt:null}}function wt(){return{type:"link",title:null,url:"",children:[]}}function ii(Z){return{type:"list",ordered:Z.type==="listOrdered",start:null,spread:Z._spread,children:[]}}function ri(Z){return{type:"listItem",spread:Z._spread,checked:null,children:[]}}function qr(){return{type:"paragraph",children:[]}}function Gr(){return{type:"strong",children:[]}}function Yr(){return{type:"text",value:""}}function ur(){return{type:"thematicBreak"}}}function Ji(e){return{line:e.line,column:e.column,offset:e.offset}}function I1(e,t){let n=-1;for(;++n<t.length;){const r=t[n];Array.isArray(r)?I1(e,r):O_(e,r)}}function O_(e,t){let n;for(n in t)if(_1.call(t,n))switch(n){case"canContainEols":{const r=t[n];r&&e[n].push(...r);break}case"transforms":{const r=t[n];r&&e[n].push(...r);break}case"enter":case"exit":{const r=t[n];r&&Object.assign(e[n],r);break}}}function Yx(e,t){throw e?new Error("Cannot close `"+e.type+"` ("+os({start:e.start,end:e.end})+"): a different token (`"+t.type+"`, "+os({start:t.start,end:t.end})+") is open"):new Error("Cannot close document, a token (`"+t.type+"`, "+os({start:t.start,end:t.end})+") is still open")}function j_(e){const t=this;t.parser=n;function n(r){return V_(r,{...t.data("settings"),...e,extensions:t.data("micromarkExtensions")||[],mdastExtensions:t.data("fromMarkdownExtensions")||[]})}}function U_(e,t){const n={type:"element",tagName:"blockquote",properties:{},children:e.wrap(e.all(t),!0)};return e.patch(t,n),e.applyData(t,n)}function z_(e,t){const n={type:"element",tagName:"br",properties:{},children:[]};return e.patch(t,n),[e.applyData(t,n),{type:"text",value:`
`}]}function F_(e,t){const n=t.value?t.value+`
`:"",r={};t.lang&&(r.className=["language-"+t.lang]);let o={type:"element",tagName:"code",properties:r,children:[{type:"text",value:n}]};return t.meta&&(o.data={meta:t.meta}),e.patch(t,o),o=e.applyData(t,o),o={type:"element",tagName:"pre",properties:{},children:[o]},e.patch(t,o),o}function H_(e,t){const n={type:"element",tagName:"del",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function q_(e,t){const n={type:"element",tagName:"em",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function G_(e,t){const n=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",r=String(t.identifier).toUpperCase(),o=Ga(r.toLowerCase()),l=e.footnoteOrder.indexOf(r);let u,f=e.footnoteCounts.get(r);f===void 0?(f=0,e.footnoteOrder.push(r),u=e.footnoteOrder.length):u=l+1,f+=1,e.footnoteCounts.set(r,f);const h={type:"element",tagName:"a",properties:{href:"#"+n+"fn-"+o,id:n+"fnref-"+o+(f>1?"-"+f:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(u)}]};e.patch(t,h);const d={type:"element",tagName:"sup",properties:{},children:[h]};return e.patch(t,d),e.applyData(t,d)}function Y_(e,t){const n={type:"element",tagName:"h"+t.depth,properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function $_(e,t){if(e.options.allowDangerousHtml){const n={type:"raw",value:t.value};return e.patch(t,n),e.applyData(t,n)}}function P1(e,t){const n=t.referenceType;let r="]";if(n==="collapsed"?r+="[]":n==="full"&&(r+="["+(t.label||t.identifier)+"]"),t.type==="imageReference")return[{type:"text",value:"!["+t.alt+r}];const o=e.all(t),l=o[0];l&&l.type==="text"?l.value="["+l.value:o.unshift({type:"text",value:"["});const u=o[o.length-1];return u&&u.type==="text"?u.value+=r:o.push({type:"text",value:r}),o}function K_(e,t){const n=String(t.identifier).toUpperCase(),r=e.definitionById.get(n);if(!r)return P1(e,t);const o={src:Ga(r.url||""),alt:t.alt};r.title!==null&&r.title!==void 0&&(o.title=r.title);const l={type:"element",tagName:"img",properties:o,children:[]};return e.patch(t,l),e.applyData(t,l)}function X_(e,t){const n={src:Ga(t.url)};t.alt!==null&&t.alt!==void 0&&(n.alt=t.alt),t.title!==null&&t.title!==void 0&&(n.title=t.title);const r={type:"element",tagName:"img",properties:n,children:[]};return e.patch(t,r),e.applyData(t,r)}function Q_(e,t){const n={type:"text",value:t.value.replace(/\r?\n|\r/g," ")};e.patch(t,n);const r={type:"element",tagName:"code",properties:{},children:[n]};return e.patch(t,r),e.applyData(t,r)}function J_(e,t){const n=String(t.identifier).toUpperCase(),r=e.definitionById.get(n);if(!r)return P1(e,t);const o={href:Ga(r.url||"")};r.title!==null&&r.title!==void 0&&(o.title=r.title);const l={type:"element",tagName:"a",properties:o,children:e.all(t)};return e.patch(t,l),e.applyData(t,l)}function Z_(e,t){const n={href:Ga(t.url)};t.title!==null&&t.title!==void 0&&(n.title=t.title);const r={type:"element",tagName:"a",properties:n,children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function W_(e,t,n){const r=e.all(t),o=n?eI(n):L1(t),l={},u=[];if(typeof t.checked=="boolean"){const m=r[0];let g;m&&m.type==="element"&&m.tagName==="p"?g=m:(g={type:"element",tagName:"p",properties:{},children:[]},r.unshift(g)),g.children.length>0&&g.children.unshift({type:"text",value:" "}),g.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:t.checked,disabled:!0},children:[]}),l.className=["task-list-item"]}let f=-1;for(;++f<r.length;){const m=r[f];(o||f!==0||m.type!=="element"||m.tagName!=="p")&&u.push({type:"text",value:`
`}),m.type==="element"&&m.tagName==="p"&&!o?u.push(...m.children):u.push(m)}const h=r[r.length-1];h&&(o||h.type!=="element"||h.tagName!=="p")&&u.push({type:"text",value:`
`});const d={type:"element",tagName:"li",properties:l,children:u};return e.patch(t,d),e.applyData(t,d)}function eI(e){let t=!1;if(e.type==="list"){t=e.spread||!1;const n=e.children;let r=-1;for(;!t&&++r<n.length;)t=L1(n[r])}return t}function L1(e){const t=e.spread;return t??e.children.length>1}function tI(e,t){const n={},r=e.all(t);let o=-1;for(typeof t.start=="number"&&t.start!==1&&(n.start=t.start);++o<r.length;){const u=r[o];if(u.type==="element"&&u.tagName==="li"&&u.properties&&Array.isArray(u.properties.className)&&u.properties.className.includes("task-list-item")){n.className=["contains-task-list"];break}}const l={type:"element",tagName:t.ordered?"ol":"ul",properties:n,children:e.wrap(r,!0)};return e.patch(t,l),e.applyData(t,l)}function nI(e,t){const n={type:"element",tagName:"p",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function iI(e,t){const n={type:"root",children:e.wrap(e.all(t))};return e.patch(t,n),e.applyData(t,n)}function rI(e,t){const n={type:"element",tagName:"strong",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function aI(e,t){const n=e.all(t),r=n.shift(),o=[];if(r){const u={type:"element",tagName:"thead",properties:{},children:e.wrap([r],!0)};e.patch(t.children[0],u),o.push(u)}if(n.length>0){const u={type:"element",tagName:"tbody",properties:{},children:e.wrap(n,!0)},f=Nh(t.children[1]),h=m1(t.children[t.children.length-1]);f&&h&&(u.position={start:f,end:h}),o.push(u)}const l={type:"element",tagName:"table",properties:{},children:e.wrap(o,!0)};return e.patch(t,l),e.applyData(t,l)}function oI(e,t,n){const r=n?n.children:void 0,l=(r?r.indexOf(t):1)===0?"th":"td",u=n&&n.type==="table"?n.align:void 0,f=u?u.length:t.children.length;let h=-1;const d=[];for(;++h<f;){const g=t.children[h],T={},S=u?u[h]:void 0;S&&(T.align=S);let E={type:"element",tagName:l,properties:T,children:[]};g&&(E.children=e.all(g),e.patch(g,E),E=e.applyData(g,E)),d.push(E)}const m={type:"element",tagName:"tr",properties:{},children:e.wrap(d,!0)};return e.patch(t,m),e.applyData(t,m)}function sI(e,t){const n={type:"element",tagName:"td",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}const $x=9,Kx=32;function lI(e){const t=String(e),n=/\r?\n|\r/g;let r=n.exec(t),o=0;const l=[];for(;r;)l.push(Xx(t.slice(o,r.index),o>0,!0),r[0]),o=r.index+r[0].length,r=n.exec(t);return l.push(Xx(t.slice(o),o>0,!1)),l.join("")}function Xx(e,t,n){let r=0,o=e.length;if(t){let l=e.codePointAt(r);for(;l===$x||l===Kx;)r++,l=e.codePointAt(r)}if(n){let l=e.codePointAt(o-1);for(;l===$x||l===Kx;)o--,l=e.codePointAt(o-1)}return o>r?e.slice(r,o):""}function uI(e,t){const n={type:"text",value:lI(String(t.value))};return e.patch(t,n),e.applyData(t,n)}function cI(e,t){const n={type:"element",tagName:"hr",properties:{},children:[]};return e.patch(t,n),e.applyData(t,n)}const fI={blockquote:U_,break:z_,code:F_,delete:H_,emphasis:q_,footnoteReference:G_,heading:Y_,html:$_,imageReference:K_,image:X_,inlineCode:Q_,linkReference:J_,link:Z_,listItem:W_,list:tI,paragraph:nI,root:iI,strong:rI,table:aI,tableCell:sI,tableRow:oI,text:uI,thematicBreak:cI,toml:Zl,yaml:Zl,definition:Zl,footnoteDefinition:Zl};function Zl(){}const V1=-1,Vu=0,ls=1,Cu=2,Bh=3,Oh=4,jh=5,Uh=6,B1=7,O1=8,Qx=typeof self=="object"?self:globalThis,dI=(e,t)=>{const n=(o,l)=>(e.set(l,o),o),r=o=>{if(e.has(o))return e.get(o);const[l,u]=t[o];switch(l){case Vu:case V1:return n(u,o);case ls:{const f=n([],o);for(const h of u)f.push(r(h));return f}case Cu:{const f=n({},o);for(const[h,d]of u)f[r(h)]=r(d);return f}case Bh:return n(new Date(u),o);case Oh:{const{source:f,flags:h}=u;return n(new RegExp(f,h),o)}case jh:{const f=n(new Map,o);for(const[h,d]of u)f.set(r(h),r(d));return f}case Uh:{const f=n(new Set,o);for(const h of u)f.add(r(h));return f}case B1:{const{name:f,message:h}=u;return n(new Qx[f](h),o)}case O1:return n(BigInt(u),o);case"BigInt":return n(Object(BigInt(u)),o);case"ArrayBuffer":return n(new Uint8Array(u).buffer,u);case"DataView":{const{buffer:f}=new Uint8Array(u);return n(new DataView(f),u)}}return n(new Qx[l](u),o)};return r},Jx=e=>dI(new Map,e)(0),Ra="",{toString:hI}={},{keys:mI}=Object,ts=e=>{const t=typeof e;if(t!=="object"||!e)return[Vu,t];const n=hI.call(e).slice(8,-1);switch(n){case"Array":return[ls,Ra];case"Object":return[Cu,Ra];case"Date":return[Bh,Ra];case"RegExp":return[Oh,Ra];case"Map":return[jh,Ra];case"Set":return[Uh,Ra];case"DataView":return[ls,n]}return n.includes("Array")?[ls,n]:n.includes("Error")?[B1,n]:[Cu,n]},Wl=([e,t])=>e===Vu&&(t==="function"||t==="symbol"),pI=(e,t,n,r)=>{const o=(u,f)=>{const h=r.push(u)-1;return n.set(f,h),h},l=u=>{if(n.has(u))return n.get(u);let[f,h]=ts(u);switch(f){case Vu:{let m=u;switch(h){case"bigint":f=O1,m=u.toString();break;case"function":case"symbol":if(e)throw new TypeError("unable to serialize "+h);m=null;break;case"undefined":return o([V1],u)}return o([f,m],u)}case ls:{if(h){let T=u;return h==="DataView"?T=new Uint8Array(u.buffer):h==="ArrayBuffer"&&(T=new Uint8Array(u)),o([h,[...T]],u)}const m=[],g=o([f,m],u);for(const T of u)m.push(l(T));return g}case Cu:{if(h)switch(h){case"BigInt":return o([h,u.toString()],u);case"Boolean":case"Number":case"String":return o([h,u.valueOf()],u)}if(t&&"toJSON"in u)return l(u.toJSON());const m=[],g=o([f,m],u);for(const T of mI(u))(e||!Wl(ts(u[T])))&&m.push([l(T),l(u[T])]);return g}case Bh:return o([f,u.toISOString()],u);case Oh:{const{source:m,flags:g}=u;return o([f,{source:m,flags:g}],u)}case jh:{const m=[],g=o([f,m],u);for(const[T,S]of u)(e||!(Wl(ts(T))||Wl(ts(S))))&&m.push([l(T),l(S)]);return g}case Uh:{const m=[],g=o([f,m],u);for(const T of u)(e||!Wl(ts(T)))&&m.push(l(T));return g}}const{message:d}=u;return o([f,{name:h,message:d}],u)};return l},Zx=(e,{json:t,lossy:n}={})=>{const r=[];return pI(!(t||n),!!t,new Map,r)(e),r},wu=typeof structuredClone=="function"?(e,t)=>t&&("json"in t||"lossy"in t)?Jx(Zx(e,t)):structuredClone(e):(e,t)=>Jx(Zx(e,t));function gI(e,t){const n=[{type:"text",value:"↩"}];return t>1&&n.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(t)}]}),n}function yI(e,t){return"Back to reference "+(e+1)+(t>1?"-"+t:"")}function xI(e){const t=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",n=e.options.footnoteBackContent||gI,r=e.options.footnoteBackLabel||yI,o=e.options.footnoteLabel||"Footnotes",l=e.options.footnoteLabelTagName||"h2",u=e.options.footnoteLabelProperties||{className:["sr-only"]},f=[];let h=-1;for(;++h<e.footnoteOrder.length;){const d=e.footnoteById.get(e.footnoteOrder[h]);if(!d)continue;const m=e.all(d),g=String(d.identifier).toUpperCase(),T=Ga(g.toLowerCase());let S=0;const E=[],k=e.footnoteCounts.get(g);for(;k!==void 0&&++S<=k;){E.length>0&&E.push({type:"text",value:" "});let B=typeof n=="string"?n:n(h,S);typeof B=="string"&&(B={type:"text",value:B}),E.push({type:"element",tagName:"a",properties:{href:"#"+t+"fnref-"+T+(S>1?"-"+S:""),dataFootnoteBackref:"",ariaLabel:typeof r=="string"?r:r(h,S),className:["data-footnote-backref"]},children:Array.isArray(B)?B:[B]})}const R=m[m.length-1];if(R&&R.type==="element"&&R.tagName==="p"){const B=R.children[R.children.length-1];B&&B.type==="text"?B.value+=" ":R.children.push({type:"text",value:" "}),R.children.push(...E)}else m.push(...E);const D={type:"element",tagName:"li",properties:{id:t+"fn-"+T},children:e.wrap(m,!0)};e.patch(d,D),f.push(D)}if(f.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:l,properties:{...wu(u),id:"footnote-label"},children:[{type:"text",value:o}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:e.wrap(f,!0)},{type:"text",value:`
`}]}}const Bu=function(e){if(e==null)return SI;if(typeof e=="function")return Ou(e);if(typeof e=="object")return Array.isArray(e)?vI(e):bI(e);if(typeof e=="string")return TI(e);throw new Error("Expected function, string, or object as test")};function vI(e){const t=[];let n=-1;for(;++n<e.length;)t[n]=Bu(e[n]);return Ou(r);function r(...o){let l=-1;for(;++l<t.length;)if(t[l].apply(this,o))return!0;return!1}}function bI(e){const t=e;return Ou(n);function n(r){const o=r;let l;for(l in e)if(o[l]!==t[l])return!1;return!0}}function TI(e){return Ou(t);function t(n){return n&&n.type===e}}function Ou(e){return t;function t(n,r,o){return!!(CI(n)&&e.call(this,n,typeof r=="number"?r:void 0,o||void 0))}}function SI(){return!0}function CI(e){return e!==null&&typeof e=="object"&&"type"in e}const j1=[],wI=!0,eh=!1,EI="skip";function U1(e,t,n,r){let o;typeof t=="function"&&typeof n!="function"?(r=n,n=t):o=t;const l=Bu(o),u=r?-1:1;f(e,void 0,[])();function f(h,d,m){const g=h&&typeof h=="object"?h:{};if(typeof g.type=="string"){const S=typeof g.tagName=="string"?g.tagName:typeof g.name=="string"?g.name:void 0;Object.defineProperty(T,"name",{value:"node ("+(h.type+(S?"<"+S+">":""))+")"})}return T;function T(){let S=j1,E,k,R;if((!t||l(h,d,m[m.length-1]||void 0))&&(S=AI(n(h,m)),S[0]===eh))return S;if("children"in h&&h.children){const D=h;if(D.children&&S[0]!==EI)for(k=(r?D.children.length:-1)+u,R=m.concat(D);k>-1&&k<D.children.length;){const B=D.children[k];if(E=f(B,k,R)(),E[0]===eh)return E;k=typeof E[1]=="number"?E[1]:k+u}}return S}}}function AI(e){return Array.isArray(e)?e:typeof e=="number"?[wI,e]:e==null?j1:[e]}function zh(e,t,n,r){let o,l,u;typeof t=="function"&&typeof n!="function"?(l=void 0,u=t,o=n):(l=t,u=n,o=r),U1(e,l,f,o);function f(h,d){const m=d[d.length-1],g=m?m.children.indexOf(h):void 0;return u(h,g,m)}}const th={}.hasOwnProperty,MI={};function kI(e,t){const n=t||MI,r=new Map,o=new Map,l=new Map,u={...fI,...n.handlers},f={all:d,applyData:NI,definitionById:r,footnoteById:o,footnoteCounts:l,footnoteOrder:[],handlers:u,one:h,options:n,patch:DI,wrap:_I};return zh(e,function(m){if(m.type==="definition"||m.type==="footnoteDefinition"){const g=m.type==="definition"?r:o,T=String(m.identifier).toUpperCase();g.has(T)||g.set(T,m)}}),f;function h(m,g){const T=m.type,S=f.handlers[T];if(th.call(f.handlers,T)&&S)return S(f,m,g);if(f.options.passThrough&&f.options.passThrough.includes(T)){if("children"in m){const{children:k,...R}=m,D=wu(R);return D.children=f.all(m),D}return wu(m)}return(f.options.unknownHandler||RI)(f,m,g)}function d(m){const g=[];if("children"in m){const T=m.children;let S=-1;for(;++S<T.length;){const E=f.one(T[S],m);if(E){if(S&&T[S-1].type==="break"&&(!Array.isArray(E)&&E.type==="text"&&(E.value=Wx(E.value)),!Array.isArray(E)&&E.type==="element")){const k=E.children[0];k&&k.type==="text"&&(k.value=Wx(k.value))}Array.isArray(E)?g.push(...E):g.push(E)}}}return g}}function DI(e,t){e.position&&(t.position=yN(e))}function NI(e,t){let n=t;if(e&&e.data){const r=e.data.hName,o=e.data.hChildren,l=e.data.hProperties;if(typeof r=="string")if(n.type==="element")n.tagName=r;else{const u="children"in n?n.children:[n];n={type:"element",tagName:r,properties:{},children:u}}n.type==="element"&&l&&Object.assign(n.properties,wu(l)),"children"in n&&n.children&&o!==null&&o!==void 0&&(n.children=o)}return n}function RI(e,t){const n=t.data||{},r="value"in t&&!(th.call(n,"hProperties")||th.call(n,"hChildren"))?{type:"text",value:t.value}:{type:"element",tagName:"div",properties:{},children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function _I(e,t){const n=[];let r=-1;for(t&&n.push({type:"text",value:`
`});++r<e.length;)r&&n.push({type:"text",value:`
`}),n.push(e[r]);return t&&e.length>0&&n.push({type:"text",value:`
`}),n}function Wx(e){let t=0,n=e.charCodeAt(t);for(;n===9||n===32;)t++,n=e.charCodeAt(t);return e.slice(t)}function ev(e,t){const n=kI(e,t),r=n.one(e,void 0),o=xI(n),l=Array.isArray(r)?{type:"root",children:r}:r||{type:"root",children:[]};return o&&l.children.push({type:"text",value:`
`},o),l}function II(e,t){return e&&"run"in e?async function(n,r){const o=ev(n,{file:r,...t});await e.run(o,r)}:function(n,r){return ev(n,{file:r,...e||t})}}function tv(e){if(e)throw e}var dd,nv;function PI(){if(nv)return dd;nv=1;var e=Object.prototype.hasOwnProperty,t=Object.prototype.toString,n=Object.defineProperty,r=Object.getOwnPropertyDescriptor,o=function(d){return typeof Array.isArray=="function"?Array.isArray(d):t.call(d)==="[object Array]"},l=function(d){if(!d||t.call(d)!=="[object Object]")return!1;var m=e.call(d,"constructor"),g=d.constructor&&d.constructor.prototype&&e.call(d.constructor.prototype,"isPrototypeOf");if(d.constructor&&!m&&!g)return!1;var T;for(T in d);return typeof T>"u"||e.call(d,T)},u=function(d,m){n&&m.name==="__proto__"?n(d,m.name,{enumerable:!0,configurable:!0,value:m.newValue,writable:!0}):d[m.name]=m.newValue},f=function(d,m){if(m==="__proto__")if(e.call(d,m)){if(r)return r(d,m).value}else return;return d[m]};return dd=function h(){var d,m,g,T,S,E,k=arguments[0],R=1,D=arguments.length,B=!1;for(typeof k=="boolean"&&(B=k,k=arguments[1]||{},R=2),(k==null||typeof k!="object"&&typeof k!="function")&&(k={});R<D;++R)if(d=arguments[R],d!=null)for(m in d)g=f(k,m),T=f(d,m),k!==T&&(B&&T&&(l(T)||(S=o(T)))?(S?(S=!1,E=g&&o(g)?g:[]):E=g&&l(g)?g:{},u(k,{name:m,newValue:h(B,E,T)})):typeof T<"u"&&u(k,{name:m,newValue:T}));return k},dd}var LI=PI();const hd=Es(LI);function nh(e){if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function VI(){const e=[],t={run:n,use:r};return t;function n(...o){let l=-1;const u=o.pop();if(typeof u!="function")throw new TypeError("Expected function as last argument, not "+u);f(null,...o);function f(h,...d){const m=e[++l];let g=-1;if(h){u(h);return}for(;++g<o.length;)(d[g]===null||d[g]===void 0)&&(d[g]=o[g]);o=d,m?BI(m,f)(...d):u(null,...d)}}function r(o){if(typeof o!="function")throw new TypeError("Expected `middelware` to be a function, not "+o);return e.push(o),t}}function BI(e,t){let n;return r;function r(...u){const f=e.length>u.length;let h;f&&u.push(o);try{h=e.apply(this,u)}catch(d){const m=d;if(f&&n)throw m;return o(m)}f||(h&&h.then&&typeof h.then=="function"?h.then(l,o):h instanceof Error?o(h):l(h))}function o(u,...f){n||(n=!0,t(u,...f))}function l(u){o(null,u)}}const Zn={basename:OI,dirname:jI,extname:UI,join:zI,sep:"/"};function OI(e,t){if(t!==void 0&&typeof t!="string")throw new TypeError('"ext" argument must be a string');Ds(e);let n=0,r=-1,o=e.length,l;if(t===void 0||t.length===0||t.length>e.length){for(;o--;)if(e.codePointAt(o)===47){if(l){n=o+1;break}}else r<0&&(l=!0,r=o+1);return r<0?"":e.slice(n,r)}if(t===e)return"";let u=-1,f=t.length-1;for(;o--;)if(e.codePointAt(o)===47){if(l){n=o+1;break}}else u<0&&(l=!0,u=o+1),f>-1&&(e.codePointAt(o)===t.codePointAt(f--)?f<0&&(r=o):(f=-1,r=u));return n===r?r=u:r<0&&(r=e.length),e.slice(n,r)}function jI(e){if(Ds(e),e.length===0)return".";let t=-1,n=e.length,r;for(;--n;)if(e.codePointAt(n)===47){if(r){t=n;break}}else r||(r=!0);return t<0?e.codePointAt(0)===47?"/":".":t===1&&e.codePointAt(0)===47?"//":e.slice(0,t)}function UI(e){Ds(e);let t=e.length,n=-1,r=0,o=-1,l=0,u;for(;t--;){const f=e.codePointAt(t);if(f===47){if(u){r=t+1;break}continue}n<0&&(u=!0,n=t+1),f===46?o<0?o=t:l!==1&&(l=1):o>-1&&(l=-1)}return o<0||n<0||l===0||l===1&&o===n-1&&o===r+1?"":e.slice(o,n)}function zI(...e){let t=-1,n;for(;++t<e.length;)Ds(e[t]),e[t]&&(n=n===void 0?e[t]:n+"/"+e[t]);return n===void 0?".":FI(n)}function FI(e){Ds(e);const t=e.codePointAt(0)===47;let n=HI(e,!t);return n.length===0&&!t&&(n="."),n.length>0&&e.codePointAt(e.length-1)===47&&(n+="/"),t?"/"+n:n}function HI(e,t){let n="",r=0,o=-1,l=0,u=-1,f,h;for(;++u<=e.length;){if(u<e.length)f=e.codePointAt(u);else{if(f===47)break;f=47}if(f===47){if(!(o===u-1||l===1))if(o!==u-1&&l===2){if(n.length<2||r!==2||n.codePointAt(n.length-1)!==46||n.codePointAt(n.length-2)!==46){if(n.length>2){if(h=n.lastIndexOf("/"),h!==n.length-1){h<0?(n="",r=0):(n=n.slice(0,h),r=n.length-1-n.lastIndexOf("/")),o=u,l=0;continue}}else if(n.length>0){n="",r=0,o=u,l=0;continue}}t&&(n=n.length>0?n+"/..":"..",r=2)}else n.length>0?n+="/"+e.slice(o+1,u):n=e.slice(o+1,u),r=u-o-1;o=u,l=0}else f===46&&l>-1?l++:l=-1}return n}function Ds(e){if(typeof e!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}const qI={cwd:GI};function GI(){return"/"}function ih(e){return!!(e!==null&&typeof e=="object"&&"href"in e&&e.href&&"protocol"in e&&e.protocol&&e.auth===void 0)}function YI(e){if(typeof e=="string")e=new URL(e);else if(!ih(e)){const t=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+e+"`");throw t.code="ERR_INVALID_ARG_TYPE",t}if(e.protocol!=="file:"){const t=new TypeError("The URL must be of scheme file");throw t.code="ERR_INVALID_URL_SCHEME",t}return $I(e)}function $I(e){if(e.hostname!==""){const r=new TypeError('File URL host must be "localhost" or empty on darwin');throw r.code="ERR_INVALID_FILE_URL_HOST",r}const t=e.pathname;let n=-1;for(;++n<t.length;)if(t.codePointAt(n)===37&&t.codePointAt(n+1)===50){const r=t.codePointAt(n+2);if(r===70||r===102){const o=new TypeError("File URL path must not include encoded / characters");throw o.code="ERR_INVALID_FILE_URL_PATH",o}}return decodeURIComponent(t)}const md=["history","path","basename","stem","extname","dirname"];class z1{constructor(t){let n;t?ih(t)?n={path:t}:typeof t=="string"||KI(t)?n={value:t}:n=t:n={},this.cwd="cwd"in n?"":qI.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let r=-1;for(;++r<md.length;){const l=md[r];l in n&&n[l]!==void 0&&n[l]!==null&&(this[l]=l==="history"?[...n[l]]:n[l])}let o;for(o in n)md.includes(o)||(this[o]=n[o])}get basename(){return typeof this.path=="string"?Zn.basename(this.path):void 0}set basename(t){gd(t,"basename"),pd(t,"basename"),this.path=Zn.join(this.dirname||"",t)}get dirname(){return typeof this.path=="string"?Zn.dirname(this.path):void 0}set dirname(t){iv(this.basename,"dirname"),this.path=Zn.join(t||"",this.basename)}get extname(){return typeof this.path=="string"?Zn.extname(this.path):void 0}set extname(t){if(pd(t,"extname"),iv(this.dirname,"extname"),t){if(t.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(t.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=Zn.join(this.dirname,this.stem+(t||""))}get path(){return this.history[this.history.length-1]}set path(t){ih(t)&&(t=YI(t)),gd(t,"path"),this.path!==t&&this.history.push(t)}get stem(){return typeof this.path=="string"?Zn.basename(this.path,this.extname):void 0}set stem(t){gd(t,"stem"),pd(t,"stem"),this.path=Zn.join(this.dirname||"",t+(this.extname||""))}fail(t,n,r){const o=this.message(t,n,r);throw o.fatal=!0,o}info(t,n,r){const o=this.message(t,n,r);return o.fatal=void 0,o}message(t,n,r){const o=new Yt(t,n,r);return this.path&&(o.name=this.path+":"+o.name,o.file=this.path),o.fatal=!1,this.messages.push(o),o}toString(t){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(t||void 0).decode(this.value)}}function pd(e,t){if(e&&e.includes(Zn.sep))throw new Error("`"+t+"` cannot be a path: did not expect `"+Zn.sep+"`")}function gd(e,t){if(!e)throw new Error("`"+t+"` cannot be empty")}function iv(e,t){if(!e)throw new Error("Setting `"+t+"` requires `path` to be set too")}function KI(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const XI=function(e){const r=this.constructor.prototype,o=r[e],l=function(){return o.apply(l,arguments)};return Object.setPrototypeOf(l,r),l},QI={}.hasOwnProperty;class Fh extends XI{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=VI()}copy(){const t=new Fh;let n=-1;for(;++n<this.attachers.length;){const r=this.attachers[n];t.use(...r)}return t.data(hd(!0,{},this.namespace)),t}data(t,n){return typeof t=="string"?arguments.length===2?(vd("data",this.frozen),this.namespace[t]=n,this):QI.call(this.namespace,t)&&this.namespace[t]||void 0:t?(vd("data",this.frozen),this.namespace=t,this):this.namespace}freeze(){if(this.frozen)return this;const t=this;for(;++this.freezeIndex<this.attachers.length;){const[n,...r]=this.attachers[this.freezeIndex];if(r[0]===!1)continue;r[0]===!0&&(r[0]=void 0);const o=n.call(t,...r);typeof o=="function"&&this.transformers.use(o)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(t){this.freeze();const n=eu(t),r=this.parser||this.Parser;return yd("parse",r),r(String(n),n)}process(t,n){const r=this;return this.freeze(),yd("process",this.parser||this.Parser),xd("process",this.compiler||this.Compiler),n?o(void 0,n):new Promise(o);function o(l,u){const f=eu(t),h=r.parse(f);r.run(h,f,function(m,g,T){if(m||!g||!T)return d(m);const S=g,E=r.stringify(S,T);WI(E)?T.value=E:T.result=E,d(m,T)});function d(m,g){m||!g?u(m):l?l(g):n(void 0,g)}}}processSync(t){let n=!1,r;return this.freeze(),yd("processSync",this.parser||this.Parser),xd("processSync",this.compiler||this.Compiler),this.process(t,o),av("processSync","process",n),r;function o(l,u){n=!0,tv(l),r=u}}run(t,n,r){rv(t),this.freeze();const o=this.transformers;return!r&&typeof n=="function"&&(r=n,n=void 0),r?l(void 0,r):new Promise(l);function l(u,f){const h=eu(n);o.run(t,h,d);function d(m,g,T){const S=g||t;m?f(m):u?u(S):r(void 0,S,T)}}}runSync(t,n){let r=!1,o;return this.run(t,n,l),av("runSync","run",r),o;function l(u,f){tv(u),o=f,r=!0}}stringify(t,n){this.freeze();const r=eu(n),o=this.compiler||this.Compiler;return xd("stringify",o),rv(t),o(t,r)}use(t,...n){const r=this.attachers,o=this.namespace;if(vd("use",this.frozen),t!=null)if(typeof t=="function")h(t,n);else if(typeof t=="object")Array.isArray(t)?f(t):u(t);else throw new TypeError("Expected usable value, not `"+t+"`");return this;function l(d){if(typeof d=="function")h(d,[]);else if(typeof d=="object")if(Array.isArray(d)){const[m,...g]=d;h(m,g)}else u(d);else throw new TypeError("Expected usable value, not `"+d+"`")}function u(d){if(!("plugins"in d)&&!("settings"in d))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");f(d.plugins),d.settings&&(o.settings=hd(!0,o.settings,d.settings))}function f(d){let m=-1;if(d!=null)if(Array.isArray(d))for(;++m<d.length;){const g=d[m];l(g)}else throw new TypeError("Expected a list of plugins, not `"+d+"`")}function h(d,m){let g=-1,T=-1;for(;++g<r.length;)if(r[g][0]===d){T=g;break}if(T===-1)r.push([d,...m]);else if(m.length>0){let[S,...E]=m;const k=r[T][1];nh(k)&&nh(S)&&(S=hd(!0,k,S)),r[T]=[d,S,...E]}}}}const JI=new Fh().freeze();function yd(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `parser`")}function xd(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `compiler`")}function vd(e,t){if(t)throw new Error("Cannot call `"+e+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function rv(e){if(!nh(e)||typeof e.type!="string")throw new TypeError("Expected node, got `"+e+"`")}function av(e,t,n){if(!n)throw new Error("`"+e+"` finished async. Use `"+t+"` instead")}function eu(e){return ZI(e)?e:new z1(e)}function ZI(e){return!!(e&&typeof e=="object"&&"message"in e&&"messages"in e)}function WI(e){return typeof e=="string"||e4(e)}function e4(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const t4="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",ov=[],sv={allowDangerousHtml:!0},n4=/^(https?|ircs?|mailto|xmpp)$/i,i4=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"className",id:"remove-classname"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function F1(e){const t=r4(e),n=a4(e);return o4(t.runSync(t.parse(n),n),e)}function r4(e){const t=e.rehypePlugins||ov,n=e.remarkPlugins||ov,r=e.remarkRehypeOptions?{...e.remarkRehypeOptions,...sv}:sv;return JI().use(j_).use(n).use(II,r).use(t)}function a4(e){const t=e.children||"",n=new z1;return typeof t=="string"&&(n.value=t),n}function o4(e,t){const n=t.allowedElements,r=t.allowElement,o=t.components,l=t.disallowedElements,u=t.skipHtml,f=t.unwrapDisallowed,h=t.urlTransform||s4;for(const m of i4)Object.hasOwn(t,m.from)&&(""+m.from+(m.to?"use `"+m.to+"` instead":"remove it")+t4+m.id,void 0);return zh(e,d),SN(e,{Fragment:y.Fragment,components:o,ignoreInvalidStyle:!0,jsx:y.jsx,jsxs:y.jsxs,passKeys:!0,passNode:!0});function d(m,g,T){if(m.type==="raw"&&T&&typeof g=="number")return u?T.children.splice(g,1):T.children[g]={type:"text",value:m.value},g;if(m.type==="element"){let S;for(S in ud)if(Object.hasOwn(ud,S)&&Object.hasOwn(m.properties,S)){const E=m.properties[S],k=ud[S];(k===null||k.includes(m.tagName))&&(m.properties[S]=h(String(E||""),S,m))}}if(m.type==="element"){let S=n?!n.includes(m.tagName):l?l.includes(m.tagName):!1;if(!S&&r&&typeof g=="number"&&(S=!r(m,g,T)),S&&T&&typeof g=="number")return f&&m.children?T.children.splice(g,1,...m.children):T.children.splice(g,1),g}}}function s4(e){const t=e.indexOf(":"),n=e.indexOf("?"),r=e.indexOf("#"),o=e.indexOf("/");return t===-1||o!==-1&&t>o||n!==-1&&t>n||r!==-1&&t>r||n4.test(e.slice(0,t))?e:""}function lv(e,t){const n=String(e);if(typeof t!="string")throw new TypeError("Expected character");let r=0,o=n.indexOf(t);for(;o!==-1;)r++,o=n.indexOf(t,o+t.length);return r}function l4(e){if(typeof e!="string")throw new TypeError("Expected a string");return e.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}function u4(e,t,n){const o=Bu((n||{}).ignore||[]),l=c4(t);let u=-1;for(;++u<l.length;)U1(e,"text",f);function f(d,m){let g=-1,T;for(;++g<m.length;){const S=m[g],E=T?T.children:void 0;if(o(S,E?E.indexOf(S):void 0,T))return;T=S}if(T)return h(d,m)}function h(d,m){const g=m[m.length-1],T=l[u][0],S=l[u][1];let E=0;const R=g.children.indexOf(d);let D=!1,B=[];T.lastIndex=0;let P=T.exec(d.value);for(;P;){const z=P.index,F={index:P.index,input:P.input,stack:[...m,d]};let H=S(...P,F);if(typeof H=="string"&&(H=H.length>0?{type:"text",value:H}:void 0),H===!1?T.lastIndex=z+1:(E!==z&&B.push({type:"text",value:d.value.slice(E,z)}),Array.isArray(H)?B.push(...H):H&&B.push(H),E=z+P[0].length,D=!0),!T.global)break;P=T.exec(d.value)}return D?(E<d.value.length&&B.push({type:"text",value:d.value.slice(E)}),g.children.splice(R,1,...B)):B=[d],R+B.length}}function c4(e){const t=[];if(!Array.isArray(e))throw new TypeError("Expected find and replace tuple or list of tuples");const n=!e[0]||Array.isArray(e[0])?e:[e];let r=-1;for(;++r<n.length;){const o=n[r];t.push([f4(o[0]),d4(o[1])])}return t}function f4(e){return typeof e=="string"?new RegExp(l4(e),"g"):e}function d4(e){return typeof e=="function"?e:function(){return e}}const bd="phrasing",Td=["autolink","link","image","label"];function h4(){return{transforms:[b4],enter:{literalAutolink:p4,literalAutolinkEmail:Sd,literalAutolinkHttp:Sd,literalAutolinkWww:Sd},exit:{literalAutolink:v4,literalAutolinkEmail:x4,literalAutolinkHttp:g4,literalAutolinkWww:y4}}}function m4(){return{unsafe:[{character:"@",before:"[+\\-.\\w]",after:"[\\-.\\w]",inConstruct:bd,notInConstruct:Td},{character:".",before:"[Ww]",after:"[\\-.\\w]",inConstruct:bd,notInConstruct:Td},{character:":",before:"[ps]",after:"\\/",inConstruct:bd,notInConstruct:Td}]}}function p4(e){this.enter({type:"link",title:null,url:"",children:[]},e)}function Sd(e){this.config.enter.autolinkProtocol.call(this,e)}function g4(e){this.config.exit.autolinkProtocol.call(this,e)}function y4(e){this.config.exit.data.call(this,e);const t=this.stack[this.stack.length-1];t.type,t.url="http://"+this.sliceSerialize(e)}function x4(e){this.config.exit.autolinkEmail.call(this,e)}function v4(e){this.exit(e)}function b4(e){u4(e,[[/(https?:\/\/|www(?=\.))([-.\w]+)([^ \t\r\n]*)/gi,T4],[new RegExp("(?<=^|\\s|\\p{P}|\\p{S})([-.\\w+]+)@([-\\w]+(?:\\.[-\\w]+)+)","gu"),S4]],{ignore:["link","linkReference"]})}function T4(e,t,n,r,o){let l="";if(!H1(o)||(/^w/i.test(t)&&(n=t+n,t="",l="http://"),!C4(n)))return!1;const u=w4(n+r);if(!u[0])return!1;const f={type:"link",title:null,url:l+t+u[0],children:[{type:"text",value:t+u[0]}]};return u[1]?[f,{type:"text",value:u[1]}]:f}function S4(e,t,n,r){return!H1(r,!0)||/[-\d_]$/.test(n)?!1:{type:"link",title:null,url:"mailto:"+t+"@"+n,children:[{type:"text",value:t+"@"+n}]}}function C4(e){const t=e.split(".");return!(t.length<2||t[t.length-1]&&(/_/.test(t[t.length-1])||!/[a-zA-Z\d]/.test(t[t.length-1]))||t[t.length-2]&&(/_/.test(t[t.length-2])||!/[a-zA-Z\d]/.test(t[t.length-2])))}function w4(e){const t=/[!"&'),.:;<>?\]}]+$/.exec(e);if(!t)return[e,void 0];e=e.slice(0,t.index);let n=t[0],r=n.indexOf(")");const o=lv(e,"(");let l=lv(e,")");for(;r!==-1&&o>l;)e+=n.slice(0,r+1),n=n.slice(r+1),r=n.indexOf(")"),l++;return[e,n]}function H1(e,t){const n=e.input.charCodeAt(e.index-1);return(e.index===0||jr(n)||Pu(n))&&(!t||n!==47)}q1.peek=I4;function E4(){this.buffer()}function A4(e){this.enter({type:"footnoteReference",identifier:"",label:""},e)}function M4(){this.buffer()}function k4(e){this.enter({type:"footnoteDefinition",identifier:"",label:"",children:[]},e)}function D4(e){const t=this.resume(),n=this.stack[this.stack.length-1];n.type,n.identifier=Gn(this.sliceSerialize(e)).toLowerCase(),n.label=t}function N4(e){this.exit(e)}function R4(e){const t=this.resume(),n=this.stack[this.stack.length-1];n.type,n.identifier=Gn(this.sliceSerialize(e)).toLowerCase(),n.label=t}function _4(e){this.exit(e)}function I4(){return"["}function q1(e,t,n,r){const o=n.createTracker(r);let l=o.move("[^");const u=n.enter("footnoteReference"),f=n.enter("reference");return l+=o.move(n.safe(n.associationId(e),{after:"]",before:l})),f(),u(),l+=o.move("]"),l}function P4(){return{enter:{gfmFootnoteCallString:E4,gfmFootnoteCall:A4,gfmFootnoteDefinitionLabelString:M4,gfmFootnoteDefinition:k4},exit:{gfmFootnoteCallString:D4,gfmFootnoteCall:N4,gfmFootnoteDefinitionLabelString:R4,gfmFootnoteDefinition:_4}}}function L4(e){let t=!1;return e&&e.firstLineBlank&&(t=!0),{handlers:{footnoteDefinition:n,footnoteReference:q1},unsafe:[{character:"[",inConstruct:["label","phrasing","reference"]}]};function n(r,o,l,u){const f=l.createTracker(u);let h=f.move("[^");const d=l.enter("footnoteDefinition"),m=l.enter("label");return h+=f.move(l.safe(l.associationId(r),{before:h,after:"]"})),m(),h+=f.move("]:"),r.children&&r.children.length>0&&(f.shift(4),h+=f.move((t?`
`:" ")+l.indentLines(l.containerFlow(r,f.current()),t?G1:V4))),d(),h}}function V4(e,t,n){return t===0?e:G1(e,t,n)}function G1(e,t,n){return(n?"":"    ")+e}const B4=["autolink","destinationLiteral","destinationRaw","reference","titleQuote","titleApostrophe"];Y1.peek=F4;function O4(){return{canContainEols:["delete"],enter:{strikethrough:U4},exit:{strikethrough:z4}}}function j4(){return{unsafe:[{character:"~",inConstruct:"phrasing",notInConstruct:B4}],handlers:{delete:Y1}}}function U4(e){this.enter({type:"delete",children:[]},e)}function z4(e){this.exit(e)}function Y1(e,t,n,r){const o=n.createTracker(r),l=n.enter("strikethrough");let u=o.move("~~");return u+=n.containerPhrasing(e,{...o.current(),before:u,after:"~"}),u+=o.move("~~"),l(),u}function F4(){return"~"}function H4(e){return e.length}function q4(e,t){const n=t||{},r=(n.align||[]).concat(),o=n.stringLength||H4,l=[],u=[],f=[],h=[];let d=0,m=-1;for(;++m<e.length;){const k=[],R=[];let D=-1;for(e[m].length>d&&(d=e[m].length);++D<e[m].length;){const B=G4(e[m][D]);if(n.alignDelimiters!==!1){const P=o(B);R[D]=P,(h[D]===void 0||P>h[D])&&(h[D]=P)}k.push(B)}u[m]=k,f[m]=R}let g=-1;if(typeof r=="object"&&"length"in r)for(;++g<d;)l[g]=uv(r[g]);else{const k=uv(r);for(;++g<d;)l[g]=k}g=-1;const T=[],S=[];for(;++g<d;){const k=l[g];let R="",D="";k===99?(R=":",D=":"):k===108?R=":":k===114&&(D=":");let B=n.alignDelimiters===!1?1:Math.max(1,h[g]-R.length-D.length);const P=R+"-".repeat(B)+D;n.alignDelimiters!==!1&&(B=R.length+B+D.length,B>h[g]&&(h[g]=B),S[g]=B),T[g]=P}u.splice(1,0,T),f.splice(1,0,S),m=-1;const E=[];for(;++m<u.length;){const k=u[m],R=f[m];g=-1;const D=[];for(;++g<d;){const B=k[g]||"";let P="",z="";if(n.alignDelimiters!==!1){const F=h[g]-(R[g]||0),H=l[g];H===114?P=" ".repeat(F):H===99?F%2?(P=" ".repeat(F/2+.5),z=" ".repeat(F/2-.5)):(P=" ".repeat(F/2),z=P):z=" ".repeat(F)}n.delimiterStart!==!1&&!g&&D.push("|"),n.padding!==!1&&!(n.alignDelimiters===!1&&B==="")&&(n.delimiterStart!==!1||g)&&D.push(" "),n.alignDelimiters!==!1&&D.push(P),D.push(B),n.alignDelimiters!==!1&&D.push(z),n.padding!==!1&&D.push(" "),(n.delimiterEnd!==!1||g!==d-1)&&D.push("|")}E.push(n.delimiterEnd===!1?D.join("").replace(/ +$/,""):D.join(""))}return E.join(`
`)}function G4(e){return e==null?"":String(e)}function uv(e){const t=typeof e=="string"?e.codePointAt(0):0;return t===67||t===99?99:t===76||t===108?108:t===82||t===114?114:0}function Y4(e,t,n,r){const o=n.enter("blockquote"),l=n.createTracker(r);l.move("> "),l.shift(2);const u=n.indentLines(n.containerFlow(e,l.current()),$4);return o(),u}function $4(e,t,n){return">"+(n?"":" ")+e}function K4(e,t){return cv(e,t.inConstruct,!0)&&!cv(e,t.notInConstruct,!1)}function cv(e,t,n){if(typeof t=="string"&&(t=[t]),!t||t.length===0)return n;let r=-1;for(;++r<t.length;)if(e.includes(t[r]))return!0;return!1}function fv(e,t,n,r){let o=-1;for(;++o<n.unsafe.length;)if(n.unsafe[o].character===`
`&&K4(n.stack,n.unsafe[o]))return/[ \t]/.test(r.before)?"":" ";return`\\
`}function X4(e,t){const n=String(e);let r=n.indexOf(t),o=r,l=0,u=0;if(typeof t!="string")throw new TypeError("Expected substring");for(;r!==-1;)r===o?++l>u&&(u=l):l=1,o=r+t.length,r=n.indexOf(t,o);return u}function Q4(e,t){return!!(t.options.fences===!1&&e.value&&!e.lang&&/[^ \r\n]/.test(e.value)&&!/^[\t ]*(?:[\r\n]|$)|(?:^|[\r\n])[\t ]*$/.test(e.value))}function J4(e){const t=e.options.fence||"`";if(t!=="`"&&t!=="~")throw new Error("Cannot serialize code with `"+t+"` for `options.fence`, expected `` ` `` or `~`");return t}function Z4(e,t,n,r){const o=J4(n),l=e.value||"",u=o==="`"?"GraveAccent":"Tilde";if(Q4(e,n)){const g=n.enter("codeIndented"),T=n.indentLines(l,W4);return g(),T}const f=n.createTracker(r),h=o.repeat(Math.max(X4(l,o)+1,3)),d=n.enter("codeFenced");let m=f.move(h);if(e.lang){const g=n.enter(`codeFencedLang${u}`);m+=f.move(n.safe(e.lang,{before:m,after:" ",encode:["`"],...f.current()})),g()}if(e.lang&&e.meta){const g=n.enter(`codeFencedMeta${u}`);m+=f.move(" "),m+=f.move(n.safe(e.meta,{before:m,after:`
`,encode:["`"],...f.current()})),g()}return m+=f.move(`
`),l&&(m+=f.move(l+`
`)),m+=f.move(h),d(),m}function W4(e,t,n){return(n?"":"    ")+e}function Hh(e){const t=e.options.quote||'"';if(t!=='"'&&t!=="'")throw new Error("Cannot serialize title with `"+t+"` for `options.quote`, expected `\"`, or `'`");return t}function e3(e,t,n,r){const o=Hh(n),l=o==='"'?"Quote":"Apostrophe",u=n.enter("definition");let f=n.enter("label");const h=n.createTracker(r);let d=h.move("[");return d+=h.move(n.safe(n.associationId(e),{before:d,after:"]",...h.current()})),d+=h.move("]: "),f(),!e.url||/[\0- \u007F]/.test(e.url)?(f=n.enter("destinationLiteral"),d+=h.move("<"),d+=h.move(n.safe(e.url,{before:d,after:">",...h.current()})),d+=h.move(">")):(f=n.enter("destinationRaw"),d+=h.move(n.safe(e.url,{before:d,after:e.title?" ":`
`,...h.current()}))),f(),e.title&&(f=n.enter(`title${l}`),d+=h.move(" "+o),d+=h.move(n.safe(e.title,{before:d,after:o,...h.current()})),d+=h.move(o),f()),u(),d}function t3(e){const t=e.options.emphasis||"*";if(t!=="*"&&t!=="_")throw new Error("Cannot serialize emphasis with `"+t+"` for `options.emphasis`, expected `*`, or `_`");return t}function ys(e){return"&#x"+e.toString(16).toUpperCase()+";"}function Eu(e,t,n){const r=Ua(e),o=Ua(t);return r===void 0?o===void 0?n==="_"?{inside:!0,outside:!0}:{inside:!1,outside:!1}:o===1?{inside:!0,outside:!0}:{inside:!1,outside:!0}:r===1?o===void 0?{inside:!1,outside:!1}:o===1?{inside:!0,outside:!0}:{inside:!1,outside:!1}:o===void 0?{inside:!1,outside:!1}:o===1?{inside:!0,outside:!1}:{inside:!1,outside:!1}}$1.peek=n3;function $1(e,t,n,r){const o=t3(n),l=n.enter("emphasis"),u=n.createTracker(r),f=u.move(o);let h=u.move(n.containerPhrasing(e,{after:o,before:f,...u.current()}));const d=h.charCodeAt(0),m=Eu(r.before.charCodeAt(r.before.length-1),d,o);m.inside&&(h=ys(d)+h.slice(1));const g=h.charCodeAt(h.length-1),T=Eu(r.after.charCodeAt(0),g,o);T.inside&&(h=h.slice(0,-1)+ys(g));const S=u.move(o);return l(),n.attentionEncodeSurroundingInfo={after:T.outside,before:m.outside},f+h+S}function n3(e,t,n){return n.options.emphasis||"*"}function i3(e,t){let n=!1;return zh(e,function(r){if("value"in r&&/\r?\n|\r/.test(r.value)||r.type==="break")return n=!0,eh}),!!((!e.depth||e.depth<3)&&Ph(e)&&(t.options.setext||n))}function r3(e,t,n,r){const o=Math.max(Math.min(6,e.depth||1),1),l=n.createTracker(r);if(i3(e,n)){const m=n.enter("headingSetext"),g=n.enter("phrasing"),T=n.containerPhrasing(e,{...l.current(),before:`
`,after:`
`});return g(),m(),T+`
`+(o===1?"=":"-").repeat(T.length-(Math.max(T.lastIndexOf("\r"),T.lastIndexOf(`
`))+1))}const u="#".repeat(o),f=n.enter("headingAtx"),h=n.enter("phrasing");l.move(u+" ");let d=n.containerPhrasing(e,{before:"# ",after:`
`,...l.current()});return/^[\t ]/.test(d)&&(d=ys(d.charCodeAt(0))+d.slice(1)),d=d?u+" "+d:u,n.options.closeAtx&&(d+=" "+u),h(),f(),d}K1.peek=a3;function K1(e){return e.value||""}function a3(){return"<"}X1.peek=o3;function X1(e,t,n,r){const o=Hh(n),l=o==='"'?"Quote":"Apostrophe",u=n.enter("image");let f=n.enter("label");const h=n.createTracker(r);let d=h.move("![");return d+=h.move(n.safe(e.alt,{before:d,after:"]",...h.current()})),d+=h.move("]("),f(),!e.url&&e.title||/[\0- \u007F]/.test(e.url)?(f=n.enter("destinationLiteral"),d+=h.move("<"),d+=h.move(n.safe(e.url,{before:d,after:">",...h.current()})),d+=h.move(">")):(f=n.enter("destinationRaw"),d+=h.move(n.safe(e.url,{before:d,after:e.title?" ":")",...h.current()}))),f(),e.title&&(f=n.enter(`title${l}`),d+=h.move(" "+o),d+=h.move(n.safe(e.title,{before:d,after:o,...h.current()})),d+=h.move(o),f()),d+=h.move(")"),u(),d}function o3(){return"!"}Q1.peek=s3;function Q1(e,t,n,r){const o=e.referenceType,l=n.enter("imageReference");let u=n.enter("label");const f=n.createTracker(r);let h=f.move("![");const d=n.safe(e.alt,{before:h,after:"]",...f.current()});h+=f.move(d+"]["),u();const m=n.stack;n.stack=[],u=n.enter("reference");const g=n.safe(n.associationId(e),{before:h,after:"]",...f.current()});return u(),n.stack=m,l(),o==="full"||!d||d!==g?h+=f.move(g+"]"):o==="shortcut"?h=h.slice(0,-1):h+=f.move("]"),h}function s3(){return"!"}J1.peek=l3;function J1(e,t,n){let r=e.value||"",o="`",l=-1;for(;new RegExp("(^|[^`])"+o+"([^`]|$)").test(r);)o+="`";for(/[^ \r\n]/.test(r)&&(/^[ \r\n]/.test(r)&&/[ \r\n]$/.test(r)||/^`|`$/.test(r))&&(r=" "+r+" ");++l<n.unsafe.length;){const u=n.unsafe[l],f=n.compilePattern(u);let h;if(u.atBreak)for(;h=f.exec(r);){let d=h.index;r.charCodeAt(d)===10&&r.charCodeAt(d-1)===13&&d--,r=r.slice(0,d)+" "+r.slice(h.index+1)}}return o+r+o}function l3(){return"`"}function Z1(e,t){const n=Ph(e);return!!(!t.options.resourceLink&&e.url&&!e.title&&e.children&&e.children.length===1&&e.children[0].type==="text"&&(n===e.url||"mailto:"+n===e.url)&&/^[a-z][a-z+.-]+:/i.test(e.url)&&!/[\0- <>\u007F]/.test(e.url))}W1.peek=u3;function W1(e,t,n,r){const o=Hh(n),l=o==='"'?"Quote":"Apostrophe",u=n.createTracker(r);let f,h;if(Z1(e,n)){const m=n.stack;n.stack=[],f=n.enter("autolink");let g=u.move("<");return g+=u.move(n.containerPhrasing(e,{before:g,after:">",...u.current()})),g+=u.move(">"),f(),n.stack=m,g}f=n.enter("link"),h=n.enter("label");let d=u.move("[");return d+=u.move(n.containerPhrasing(e,{before:d,after:"](",...u.current()})),d+=u.move("]("),h(),!e.url&&e.title||/[\0- \u007F]/.test(e.url)?(h=n.enter("destinationLiteral"),d+=u.move("<"),d+=u.move(n.safe(e.url,{before:d,after:">",...u.current()})),d+=u.move(">")):(h=n.enter("destinationRaw"),d+=u.move(n.safe(e.url,{before:d,after:e.title?" ":")",...u.current()}))),h(),e.title&&(h=n.enter(`title${l}`),d+=u.move(" "+o),d+=u.move(n.safe(e.title,{before:d,after:o,...u.current()})),d+=u.move(o),h()),d+=u.move(")"),f(),d}function u3(e,t,n){return Z1(e,n)?"<":"["}eT.peek=c3;function eT(e,t,n,r){const o=e.referenceType,l=n.enter("linkReference");let u=n.enter("label");const f=n.createTracker(r);let h=f.move("[");const d=n.containerPhrasing(e,{before:h,after:"]",...f.current()});h+=f.move(d+"]["),u();const m=n.stack;n.stack=[],u=n.enter("reference");const g=n.safe(n.associationId(e),{before:h,after:"]",...f.current()});return u(),n.stack=m,l(),o==="full"||!d||d!==g?h+=f.move(g+"]"):o==="shortcut"?h=h.slice(0,-1):h+=f.move("]"),h}function c3(){return"["}function qh(e){const t=e.options.bullet||"*";if(t!=="*"&&t!=="+"&&t!=="-")throw new Error("Cannot serialize items with `"+t+"` for `options.bullet`, expected `*`, `+`, or `-`");return t}function f3(e){const t=qh(e),n=e.options.bulletOther;if(!n)return t==="*"?"-":"*";if(n!=="*"&&n!=="+"&&n!=="-")throw new Error("Cannot serialize items with `"+n+"` for `options.bulletOther`, expected `*`, `+`, or `-`");if(n===t)throw new Error("Expected `bullet` (`"+t+"`) and `bulletOther` (`"+n+"`) to be different");return n}function d3(e){const t=e.options.bulletOrdered||".";if(t!=="."&&t!==")")throw new Error("Cannot serialize items with `"+t+"` for `options.bulletOrdered`, expected `.` or `)`");return t}function tT(e){const t=e.options.rule||"*";if(t!=="*"&&t!=="-"&&t!=="_")throw new Error("Cannot serialize rules with `"+t+"` for `options.rule`, expected `*`, `-`, or `_`");return t}function h3(e,t,n,r){const o=n.enter("list"),l=n.bulletCurrent;let u=e.ordered?d3(n):qh(n);const f=e.ordered?u==="."?")":".":f3(n);let h=t&&n.bulletLastUsed?u===n.bulletLastUsed:!1;if(!e.ordered){const m=e.children?e.children[0]:void 0;if((u==="*"||u==="-")&&m&&(!m.children||!m.children[0])&&n.stack[n.stack.length-1]==="list"&&n.stack[n.stack.length-2]==="listItem"&&n.stack[n.stack.length-3]==="list"&&n.stack[n.stack.length-4]==="listItem"&&n.indexStack[n.indexStack.length-1]===0&&n.indexStack[n.indexStack.length-2]===0&&n.indexStack[n.indexStack.length-3]===0&&(h=!0),tT(n)===u&&m){let g=-1;for(;++g<e.children.length;){const T=e.children[g];if(T&&T.type==="listItem"&&T.children&&T.children[0]&&T.children[0].type==="thematicBreak"){h=!0;break}}}}h&&(u=f),n.bulletCurrent=u;const d=n.containerFlow(e,r);return n.bulletLastUsed=u,n.bulletCurrent=l,o(),d}function m3(e){const t=e.options.listItemIndent||"one";if(t!=="tab"&&t!=="one"&&t!=="mixed")throw new Error("Cannot serialize items with `"+t+"` for `options.listItemIndent`, expected `tab`, `one`, or `mixed`");return t}function p3(e,t,n,r){const o=m3(n);let l=n.bulletCurrent||qh(n);t&&t.type==="list"&&t.ordered&&(l=(typeof t.start=="number"&&t.start>-1?t.start:1)+(n.options.incrementListMarker===!1?0:t.children.indexOf(e))+l);let u=l.length+1;(o==="tab"||o==="mixed"&&(t&&t.type==="list"&&t.spread||e.spread))&&(u=Math.ceil(u/4)*4);const f=n.createTracker(r);f.move(l+" ".repeat(u-l.length)),f.shift(u);const h=n.enter("listItem"),d=n.indentLines(n.containerFlow(e,f.current()),m);return h(),d;function m(g,T,S){return T?(S?"":" ".repeat(u))+g:(S?l:l+" ".repeat(u-l.length))+g}}function g3(e,t,n,r){const o=n.enter("paragraph"),l=n.enter("phrasing"),u=n.containerPhrasing(e,r);return l(),o(),u}const y3=Bu(["break","delete","emphasis","footnote","footnoteReference","image","imageReference","inlineCode","inlineMath","link","linkReference","mdxJsxTextElement","mdxTextExpression","strong","text","textDirective"]);function x3(e,t,n,r){return(e.children.some(function(u){return y3(u)})?n.containerPhrasing:n.containerFlow).call(n,e,r)}function v3(e){const t=e.options.strong||"*";if(t!=="*"&&t!=="_")throw new Error("Cannot serialize strong with `"+t+"` for `options.strong`, expected `*`, or `_`");return t}nT.peek=b3;function nT(e,t,n,r){const o=v3(n),l=n.enter("strong"),u=n.createTracker(r),f=u.move(o+o);let h=u.move(n.containerPhrasing(e,{after:o,before:f,...u.current()}));const d=h.charCodeAt(0),m=Eu(r.before.charCodeAt(r.before.length-1),d,o);m.inside&&(h=ys(d)+h.slice(1));const g=h.charCodeAt(h.length-1),T=Eu(r.after.charCodeAt(0),g,o);T.inside&&(h=h.slice(0,-1)+ys(g));const S=u.move(o+o);return l(),n.attentionEncodeSurroundingInfo={after:T.outside,before:m.outside},f+h+S}function b3(e,t,n){return n.options.strong||"*"}function T3(e,t,n,r){return n.safe(e.value,r)}function S3(e){const t=e.options.ruleRepetition||3;if(t<3)throw new Error("Cannot serialize rules with repetition `"+t+"` for `options.ruleRepetition`, expected `3` or more");return t}function C3(e,t,n){const r=(tT(n)+(n.options.ruleSpaces?" ":"")).repeat(S3(n));return n.options.ruleSpaces?r.slice(0,-1):r}const iT={blockquote:Y4,break:fv,code:Z4,definition:e3,emphasis:$1,hardBreak:fv,heading:r3,html:K1,image:X1,imageReference:Q1,inlineCode:J1,link:W1,linkReference:eT,list:h3,listItem:p3,paragraph:g3,root:x3,strong:nT,text:T3,thematicBreak:C3};function w3(){return{enter:{table:E3,tableData:dv,tableHeader:dv,tableRow:M3},exit:{codeText:k3,table:A3,tableData:Cd,tableHeader:Cd,tableRow:Cd}}}function E3(e){const t=e._align;this.enter({type:"table",align:t.map(function(n){return n==="none"?null:n}),children:[]},e),this.data.inTable=!0}function A3(e){this.exit(e),this.data.inTable=void 0}function M3(e){this.enter({type:"tableRow",children:[]},e)}function Cd(e){this.exit(e)}function dv(e){this.enter({type:"tableCell",children:[]},e)}function k3(e){let t=this.resume();this.data.inTable&&(t=t.replace(/\\([\\|])/g,D3));const n=this.stack[this.stack.length-1];n.type,n.value=t,this.exit(e)}function D3(e,t){return t==="|"?t:e}function N3(e){const t=e||{},n=t.tableCellPadding,r=t.tablePipeAlign,o=t.stringLength,l=n?" ":"|";return{unsafe:[{character:"\r",inConstruct:"tableCell"},{character:`
`,inConstruct:"tableCell"},{atBreak:!0,character:"|",after:"[	 :-]"},{character:"|",inConstruct:"tableCell"},{atBreak:!0,character:":",after:"-"},{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{inlineCode:T,table:u,tableCell:h,tableRow:f}};function u(S,E,k,R){return d(m(S,k,R),S.align)}function f(S,E,k,R){const D=g(S,k,R),B=d([D]);return B.slice(0,B.indexOf(`
`))}function h(S,E,k,R){const D=k.enter("tableCell"),B=k.enter("phrasing"),P=k.containerPhrasing(S,{...R,before:l,after:l});return B(),D(),P}function d(S,E){return q4(S,{align:E,alignDelimiters:r,padding:n,stringLength:o})}function m(S,E,k){const R=S.children;let D=-1;const B=[],P=E.enter("table");for(;++D<R.length;)B[D]=g(R[D],E,k);return P(),B}function g(S,E,k){const R=S.children;let D=-1;const B=[],P=E.enter("tableRow");for(;++D<R.length;)B[D]=h(R[D],S,E,k);return P(),B}function T(S,E,k){let R=iT.inlineCode(S,E,k);return k.stack.includes("tableCell")&&(R=R.replace(/\|/g,"\\$&")),R}}function R3(){return{exit:{taskListCheckValueChecked:hv,taskListCheckValueUnchecked:hv,paragraph:I3}}}function _3(){return{unsafe:[{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{listItem:P3}}}function hv(e){const t=this.stack[this.stack.length-2];t.type,t.checked=e.type==="taskListCheckValueChecked"}function I3(e){const t=this.stack[this.stack.length-2];if(t&&t.type==="listItem"&&typeof t.checked=="boolean"){const n=this.stack[this.stack.length-1];n.type;const r=n.children[0];if(r&&r.type==="text"){const o=t.children;let l=-1,u;for(;++l<o.length;){const f=o[l];if(f.type==="paragraph"){u=f;break}}u===n&&(r.value=r.value.slice(1),r.value.length===0?n.children.shift():n.position&&r.position&&typeof r.position.start.offset=="number"&&(r.position.start.column++,r.position.start.offset++,n.position.start=Object.assign({},r.position.start)))}}this.exit(e)}function P3(e,t,n,r){const o=e.children[0],l=typeof e.checked=="boolean"&&o&&o.type==="paragraph",u="["+(e.checked?"x":" ")+"] ",f=n.createTracker(r);l&&f.move(u);let h=iT.listItem(e,t,n,{...r,...f.current()});return l&&(h=h.replace(/^(?:[*+-]|\d+\.)([\r\n]| {1,3})/,d)),h;function d(m){return m+u}}function L3(){return[h4(),P4(),O4(),w3(),R3()]}function V3(e){return{extensions:[m4(),L4(e),j4(),N3(e),_3()]}}const B3={tokenize:H3,partial:!0},rT={tokenize:q3,partial:!0},aT={tokenize:G3,partial:!0},oT={tokenize:Y3,partial:!0},O3={tokenize:$3,partial:!0},sT={name:"wwwAutolink",tokenize:z3,previous:uT},lT={name:"protocolAutolink",tokenize:F3,previous:cT},wi={name:"emailAutolink",tokenize:U3,previous:fT},ni={};function j3(){return{text:ni}}let Rr=48;for(;Rr<123;)ni[Rr]=wi,Rr++,Rr===58?Rr=65:Rr===91&&(Rr=97);ni[43]=wi;ni[45]=wi;ni[46]=wi;ni[95]=wi;ni[72]=[wi,lT];ni[104]=[wi,lT];ni[87]=[wi,sT];ni[119]=[wi,sT];function U3(e,t,n){const r=this;let o,l;return u;function u(g){return!rh(g)||!fT.call(r,r.previous)||Gh(r.events)?n(g):(e.enter("literalAutolink"),e.enter("literalAutolinkEmail"),f(g))}function f(g){return rh(g)?(e.consume(g),f):g===64?(e.consume(g),h):n(g)}function h(g){return g===46?e.check(O3,m,d)(g):g===45||g===95||qt(g)?(l=!0,e.consume(g),h):m(g)}function d(g){return e.consume(g),o=!0,h}function m(g){return l&&o&&Xt(r.previous)?(e.exit("literalAutolinkEmail"),e.exit("literalAutolink"),t(g)):n(g)}}function z3(e,t,n){const r=this;return o;function o(u){return u!==87&&u!==119||!uT.call(r,r.previous)||Gh(r.events)?n(u):(e.enter("literalAutolink"),e.enter("literalAutolinkWww"),e.check(B3,e.attempt(rT,e.attempt(aT,l),n),n)(u))}function l(u){return e.exit("literalAutolinkWww"),e.exit("literalAutolink"),t(u)}}function F3(e,t,n){const r=this;let o="",l=!1;return u;function u(g){return(g===72||g===104)&&cT.call(r,r.previous)&&!Gh(r.events)?(e.enter("literalAutolink"),e.enter("literalAutolinkHttp"),o+=String.fromCodePoint(g),e.consume(g),f):n(g)}function f(g){if(Xt(g)&&o.length<5)return o+=String.fromCodePoint(g),e.consume(g),f;if(g===58){const T=o.toLowerCase();if(T==="http"||T==="https")return e.consume(g),h}return n(g)}function h(g){return g===47?(e.consume(g),l?d:(l=!0,h)):n(g)}function d(g){return g===null||Su(g)||tt(g)||jr(g)||Pu(g)?n(g):e.attempt(rT,e.attempt(aT,m),n)(g)}function m(g){return e.exit("literalAutolinkHttp"),e.exit("literalAutolink"),t(g)}}function H3(e,t,n){let r=0;return o;function o(u){return(u===87||u===119)&&r<3?(r++,e.consume(u),o):u===46&&r===3?(e.consume(u),l):n(u)}function l(u){return u===null?n(u):t(u)}}function q3(e,t,n){let r,o,l;return u;function u(d){return d===46||d===95?e.check(oT,h,f)(d):d===null||tt(d)||jr(d)||d!==45&&Pu(d)?h(d):(l=!0,e.consume(d),u)}function f(d){return d===95?r=!0:(o=r,r=void 0),e.consume(d),u}function h(d){return o||r||!l?n(d):t(d)}}function G3(e,t){let n=0,r=0;return o;function o(u){return u===40?(n++,e.consume(u),o):u===41&&r<n?l(u):u===33||u===34||u===38||u===39||u===41||u===42||u===44||u===46||u===58||u===59||u===60||u===63||u===93||u===95||u===126?e.check(oT,t,l)(u):u===null||tt(u)||jr(u)?t(u):(e.consume(u),o)}function l(u){return u===41&&r++,e.consume(u),o}}function Y3(e,t,n){return r;function r(f){return f===33||f===34||f===39||f===41||f===42||f===44||f===46||f===58||f===59||f===63||f===95||f===126?(e.consume(f),r):f===38?(e.consume(f),l):f===93?(e.consume(f),o):f===60||f===null||tt(f)||jr(f)?t(f):n(f)}function o(f){return f===null||f===40||f===91||tt(f)||jr(f)?t(f):r(f)}function l(f){return Xt(f)?u(f):n(f)}function u(f){return f===59?(e.consume(f),r):Xt(f)?(e.consume(f),u):n(f)}}function $3(e,t,n){return r;function r(l){return e.consume(l),o}function o(l){return qt(l)?n(l):t(l)}}function uT(e){return e===null||e===40||e===42||e===95||e===91||e===93||e===126||tt(e)}function cT(e){return!Xt(e)}function fT(e){return!(e===47||rh(e))}function rh(e){return e===43||e===45||e===46||e===95||qt(e)}function Gh(e){let t=e.length,n=!1;for(;t--;){const r=e[t][1];if((r.type==="labelLink"||r.type==="labelImage")&&!r._balanced){n=!0;break}if(r._gfmAutolinkLiteralWalkedInto){n=!1;break}}return e.length>0&&!n&&(e[e.length-1][1]._gfmAutolinkLiteralWalkedInto=!0),n}const K3={tokenize:n5,partial:!0};function X3(){return{document:{91:{name:"gfmFootnoteDefinition",tokenize:W3,continuation:{tokenize:e5},exit:t5}},text:{91:{name:"gfmFootnoteCall",tokenize:Z3},93:{name:"gfmPotentialFootnoteCall",add:"after",tokenize:Q3,resolveTo:J3}}}}function Q3(e,t,n){const r=this;let o=r.events.length;const l=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let u;for(;o--;){const h=r.events[o][1];if(h.type==="labelImage"){u=h;break}if(h.type==="gfmFootnoteCall"||h.type==="labelLink"||h.type==="label"||h.type==="image"||h.type==="link")break}return f;function f(h){if(!u||!u._balanced)return n(h);const d=Gn(r.sliceSerialize({start:u.end,end:r.now()}));return d.codePointAt(0)!==94||!l.includes(d.slice(1))?n(h):(e.enter("gfmFootnoteCallLabelMarker"),e.consume(h),e.exit("gfmFootnoteCallLabelMarker"),t(h))}}function J3(e,t){let n=e.length;for(;n--;)if(e[n][1].type==="labelImage"&&e[n][0]==="enter"){e[n][1];break}e[n+1][1].type="data",e[n+3][1].type="gfmFootnoteCallLabelMarker";const r={type:"gfmFootnoteCall",start:Object.assign({},e[n+3][1].start),end:Object.assign({},e[e.length-1][1].end)},o={type:"gfmFootnoteCallMarker",start:Object.assign({},e[n+3][1].end),end:Object.assign({},e[n+3][1].end)};o.end.column++,o.end.offset++,o.end._bufferIndex++;const l={type:"gfmFootnoteCallString",start:Object.assign({},o.end),end:Object.assign({},e[e.length-1][1].start)},u={type:"chunkString",contentType:"string",start:Object.assign({},l.start),end:Object.assign({},l.end)},f=[e[n+1],e[n+2],["enter",r,t],e[n+3],e[n+4],["enter",o,t],["exit",o,t],["enter",l,t],["enter",u,t],["exit",u,t],["exit",l,t],e[e.length-2],e[e.length-1],["exit",r,t]];return e.splice(n,e.length-n+1,...f),e}function Z3(e,t,n){const r=this,o=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let l=0,u;return f;function f(g){return e.enter("gfmFootnoteCall"),e.enter("gfmFootnoteCallLabelMarker"),e.consume(g),e.exit("gfmFootnoteCallLabelMarker"),h}function h(g){return g!==94?n(g):(e.enter("gfmFootnoteCallMarker"),e.consume(g),e.exit("gfmFootnoteCallMarker"),e.enter("gfmFootnoteCallString"),e.enter("chunkString").contentType="string",d)}function d(g){if(l>999||g===93&&!u||g===null||g===91||tt(g))return n(g);if(g===93){e.exit("chunkString");const T=e.exit("gfmFootnoteCallString");return o.includes(Gn(r.sliceSerialize(T)))?(e.enter("gfmFootnoteCallLabelMarker"),e.consume(g),e.exit("gfmFootnoteCallLabelMarker"),e.exit("gfmFootnoteCall"),t):n(g)}return tt(g)||(u=!0),l++,e.consume(g),g===92?m:d}function m(g){return g===91||g===92||g===93?(e.consume(g),l++,d):d(g)}}function W3(e,t,n){const r=this,o=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let l,u=0,f;return h;function h(E){return e.enter("gfmFootnoteDefinition")._container=!0,e.enter("gfmFootnoteDefinitionLabel"),e.enter("gfmFootnoteDefinitionLabelMarker"),e.consume(E),e.exit("gfmFootnoteDefinitionLabelMarker"),d}function d(E){return E===94?(e.enter("gfmFootnoteDefinitionMarker"),e.consume(E),e.exit("gfmFootnoteDefinitionMarker"),e.enter("gfmFootnoteDefinitionLabelString"),e.enter("chunkString").contentType="string",m):n(E)}function m(E){if(u>999||E===93&&!f||E===null||E===91||tt(E))return n(E);if(E===93){e.exit("chunkString");const k=e.exit("gfmFootnoteDefinitionLabelString");return l=Gn(r.sliceSerialize(k)),e.enter("gfmFootnoteDefinitionLabelMarker"),e.consume(E),e.exit("gfmFootnoteDefinitionLabelMarker"),e.exit("gfmFootnoteDefinitionLabel"),T}return tt(E)||(f=!0),u++,e.consume(E),E===92?g:m}function g(E){return E===91||E===92||E===93?(e.consume(E),u++,m):m(E)}function T(E){return E===58?(e.enter("definitionMarker"),e.consume(E),e.exit("definitionMarker"),o.includes(l)||o.push(l),Fe(e,S,"gfmFootnoteDefinitionWhitespace")):n(E)}function S(E){return t(E)}}function e5(e,t,n){return e.check(ks,t,e.attempt(K3,t,n))}function t5(e){e.exit("gfmFootnoteDefinition")}function n5(e,t,n){const r=this;return Fe(e,o,"gfmFootnoteDefinitionIndent",5);function o(l){const u=r.events[r.events.length-1];return u&&u[1].type==="gfmFootnoteDefinitionIndent"&&u[2].sliceSerialize(u[1],!0).length===4?t(l):n(l)}}function i5(e){let n=(e||{}).singleTilde;const r={name:"strikethrough",tokenize:l,resolveAll:o};return n==null&&(n=!0),{text:{126:r},insideSpan:{null:[r]},attentionMarkers:{null:[126]}};function o(u,f){let h=-1;for(;++h<u.length;)if(u[h][0]==="enter"&&u[h][1].type==="strikethroughSequenceTemporary"&&u[h][1]._close){let d=h;for(;d--;)if(u[d][0]==="exit"&&u[d][1].type==="strikethroughSequenceTemporary"&&u[d][1]._open&&u[h][1].end.offset-u[h][1].start.offset===u[d][1].end.offset-u[d][1].start.offset){u[h][1].type="strikethroughSequence",u[d][1].type="strikethroughSequence";const m={type:"strikethrough",start:Object.assign({},u[d][1].start),end:Object.assign({},u[h][1].end)},g={type:"strikethroughText",start:Object.assign({},u[d][1].end),end:Object.assign({},u[h][1].start)},T=[["enter",m,f],["enter",u[d][1],f],["exit",u[d][1],f],["enter",g,f]],S=f.parser.constructs.insideSpan.null;S&&vn(T,T.length,0,Lu(S,u.slice(d+1,h),f)),vn(T,T.length,0,[["exit",g,f],["enter",u[h][1],f],["exit",u[h][1],f],["exit",m,f]]),vn(u,d-1,h-d+3,T),h=d+T.length-2;break}}for(h=-1;++h<u.length;)u[h][1].type==="strikethroughSequenceTemporary"&&(u[h][1].type="data");return u}function l(u,f,h){const d=this.previous,m=this.events;let g=0;return T;function T(E){return d===126&&m[m.length-1][1].type!=="characterEscape"?h(E):(u.enter("strikethroughSequenceTemporary"),S(E))}function S(E){const k=Ua(d);if(E===126)return g>1?h(E):(u.consume(E),g++,S);if(g<2&&!n)return h(E);const R=u.exit("strikethroughSequenceTemporary"),D=Ua(E);return R._open=!D||D===2&&!!k,R._close=!k||k===2&&!!D,f(E)}}}class r5{constructor(){this.map=[]}add(t,n,r){a5(this,t,n,r)}consume(t){if(this.map.sort(function(l,u){return l[0]-u[0]}),this.map.length===0)return;let n=this.map.length;const r=[];for(;n>0;)n-=1,r.push(t.slice(this.map[n][0]+this.map[n][1]),this.map[n][2]),t.length=this.map[n][0];r.push(t.slice()),t.length=0;let o=r.pop();for(;o;){for(const l of o)t.push(l);o=r.pop()}this.map.length=0}}function a5(e,t,n,r){let o=0;if(!(n===0&&r.length===0)){for(;o<e.map.length;){if(e.map[o][0]===t){e.map[o][1]+=n,e.map[o][2].push(...r);return}o+=1}e.map.push([t,n,r])}}function o5(e,t){let n=!1;const r=[];for(;t<e.length;){const o=e[t];if(n){if(o[0]==="enter")o[1].type==="tableContent"&&r.push(e[t+1][1].type==="tableDelimiterMarker"?"left":"none");else if(o[1].type==="tableContent"){if(e[t-1][1].type==="tableDelimiterMarker"){const l=r.length-1;r[l]=r[l]==="left"?"center":"right"}}else if(o[1].type==="tableDelimiterRow")break}else o[0]==="enter"&&o[1].type==="tableDelimiterRow"&&(n=!0);t+=1}return r}function s5(){return{flow:{null:{name:"table",tokenize:l5,resolveAll:u5}}}}function l5(e,t,n){const r=this;let o=0,l=0,u;return f;function f(L){let oe=r.events.length-1;for(;oe>-1;){const ue=r.events[oe][1].type;if(ue==="lineEnding"||ue==="linePrefix")oe--;else break}const he=oe>-1?r.events[oe][1].type:null,fe=he==="tableHead"||he==="tableRow"?H:h;return fe===H&&r.parser.lazy[r.now().line]?n(L):fe(L)}function h(L){return e.enter("tableHead"),e.enter("tableRow"),d(L)}function d(L){return L===124||(u=!0,l+=1),m(L)}function m(L){return L===null?n(L):Se(L)?l>1?(l=0,r.interrupt=!0,e.exit("tableRow"),e.enter("lineEnding"),e.consume(L),e.exit("lineEnding"),S):n(L):Oe(L)?Fe(e,m,"whitespace")(L):(l+=1,u&&(u=!1,o+=1),L===124?(e.enter("tableCellDivider"),e.consume(L),e.exit("tableCellDivider"),u=!0,m):(e.enter("data"),g(L)))}function g(L){return L===null||L===124||tt(L)?(e.exit("data"),m(L)):(e.consume(L),L===92?T:g)}function T(L){return L===92||L===124?(e.consume(L),g):g(L)}function S(L){return r.interrupt=!1,r.parser.lazy[r.now().line]?n(L):(e.enter("tableDelimiterRow"),u=!1,Oe(L)?Fe(e,E,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(L):E(L))}function E(L){return L===45||L===58?R(L):L===124?(u=!0,e.enter("tableCellDivider"),e.consume(L),e.exit("tableCellDivider"),k):F(L)}function k(L){return Oe(L)?Fe(e,R,"whitespace")(L):R(L)}function R(L){return L===58?(l+=1,u=!0,e.enter("tableDelimiterMarker"),e.consume(L),e.exit("tableDelimiterMarker"),D):L===45?(l+=1,D(L)):L===null||Se(L)?z(L):F(L)}function D(L){return L===45?(e.enter("tableDelimiterFiller"),B(L)):F(L)}function B(L){return L===45?(e.consume(L),B):L===58?(u=!0,e.exit("tableDelimiterFiller"),e.enter("tableDelimiterMarker"),e.consume(L),e.exit("tableDelimiterMarker"),P):(e.exit("tableDelimiterFiller"),P(L))}function P(L){return Oe(L)?Fe(e,z,"whitespace")(L):z(L)}function z(L){return L===124?E(L):L===null||Se(L)?!u||o!==l?F(L):(e.exit("tableDelimiterRow"),e.exit("tableHead"),t(L)):F(L)}function F(L){return n(L)}function H(L){return e.enter("tableRow"),se(L)}function se(L){return L===124?(e.enter("tableCellDivider"),e.consume(L),e.exit("tableCellDivider"),se):L===null||Se(L)?(e.exit("tableRow"),t(L)):Oe(L)?Fe(e,se,"whitespace")(L):(e.enter("data"),ae(L))}function ae(L){return L===null||L===124||tt(L)?(e.exit("data"),se(L)):(e.consume(L),L===92?pe:ae)}function pe(L){return L===92||L===124?(e.consume(L),ae):ae(L)}}function u5(e,t){let n=-1,r=!0,o=0,l=[0,0,0,0],u=[0,0,0,0],f=!1,h=0,d,m,g;const T=new r5;for(;++n<e.length;){const S=e[n],E=S[1];S[0]==="enter"?E.type==="tableHead"?(f=!1,h!==0&&(mv(T,t,h,d,m),m=void 0,h=0),d={type:"table",start:Object.assign({},E.start),end:Object.assign({},E.end)},T.add(n,0,[["enter",d,t]])):E.type==="tableRow"||E.type==="tableDelimiterRow"?(r=!0,g=void 0,l=[0,0,0,0],u=[0,n+1,0,0],f&&(f=!1,m={type:"tableBody",start:Object.assign({},E.start),end:Object.assign({},E.end)},T.add(n,0,[["enter",m,t]])),o=E.type==="tableDelimiterRow"?2:m?3:1):o&&(E.type==="data"||E.type==="tableDelimiterMarker"||E.type==="tableDelimiterFiller")?(r=!1,u[2]===0&&(l[1]!==0&&(u[0]=u[1],g=tu(T,t,l,o,void 0,g),l=[0,0,0,0]),u[2]=n)):E.type==="tableCellDivider"&&(r?r=!1:(l[1]!==0&&(u[0]=u[1],g=tu(T,t,l,o,void 0,g)),l=u,u=[l[1],n,0,0])):E.type==="tableHead"?(f=!0,h=n):E.type==="tableRow"||E.type==="tableDelimiterRow"?(h=n,l[1]!==0?(u[0]=u[1],g=tu(T,t,l,o,n,g)):u[1]!==0&&(g=tu(T,t,u,o,n,g)),o=0):o&&(E.type==="data"||E.type==="tableDelimiterMarker"||E.type==="tableDelimiterFiller")&&(u[3]=n)}for(h!==0&&mv(T,t,h,d,m),T.consume(t.events),n=-1;++n<t.events.length;){const S=t.events[n];S[0]==="enter"&&S[1].type==="table"&&(S[1]._align=o5(t.events,n))}return e}function tu(e,t,n,r,o,l){const u=r===1?"tableHeader":r===2?"tableDelimiter":"tableData",f="tableContent";n[0]!==0&&(l.end=Object.assign({},Ia(t.events,n[0])),e.add(n[0],0,[["exit",l,t]]));const h=Ia(t.events,n[1]);if(l={type:u,start:Object.assign({},h),end:Object.assign({},h)},e.add(n[1],0,[["enter",l,t]]),n[2]!==0){const d=Ia(t.events,n[2]),m=Ia(t.events,n[3]),g={type:f,start:Object.assign({},d),end:Object.assign({},m)};if(e.add(n[2],0,[["enter",g,t]]),r!==2){const T=t.events[n[2]],S=t.events[n[3]];if(T[1].end=Object.assign({},S[1].end),T[1].type="chunkText",T[1].contentType="text",n[3]>n[2]+1){const E=n[2]+1,k=n[3]-n[2]-1;e.add(E,k,[])}}e.add(n[3]+1,0,[["exit",g,t]])}return o!==void 0&&(l.end=Object.assign({},Ia(t.events,o)),e.add(o,0,[["exit",l,t]]),l=void 0),l}function mv(e,t,n,r,o){const l=[],u=Ia(t.events,n);o&&(o.end=Object.assign({},u),l.push(["exit",o,t])),r.end=Object.assign({},u),l.push(["exit",r,t]),e.add(n+1,0,l)}function Ia(e,t){const n=e[t],r=n[0]==="enter"?"start":"end";return n[1][r]}const c5={name:"tasklistCheck",tokenize:d5};function f5(){return{text:{91:c5}}}function d5(e,t,n){const r=this;return o;function o(h){return r.previous!==null||!r._gfmTasklistFirstContentOfListItem?n(h):(e.enter("taskListCheck"),e.enter("taskListCheckMarker"),e.consume(h),e.exit("taskListCheckMarker"),l)}function l(h){return tt(h)?(e.enter("taskListCheckValueUnchecked"),e.consume(h),e.exit("taskListCheckValueUnchecked"),u):h===88||h===120?(e.enter("taskListCheckValueChecked"),e.consume(h),e.exit("taskListCheckValueChecked"),u):n(h)}function u(h){return h===93?(e.enter("taskListCheckMarker"),e.consume(h),e.exit("taskListCheckMarker"),e.exit("taskListCheck"),f):n(h)}function f(h){return Se(h)?t(h):Oe(h)?e.check({tokenize:h5},t,n)(h):n(h)}}function h5(e,t,n){return Fe(e,r,"whitespace");function r(o){return o===null?n(o):t(o)}}function m5(e){return T1([j3(),X3(),i5(e),s5(),f5()])}const p5={};function dT(e){const t=this,n=e||p5,r=t.data(),o=r.micromarkExtensions||(r.micromarkExtensions=[]),l=r.fromMarkdownExtensions||(r.fromMarkdownExtensions=[]),u=r.toMarkdownExtensions||(r.toMarkdownExtensions=[]);o.push(m5(n)),l.push(L3()),u.push(V3(n))}const g5=async e=>{if(!e)return{success:!1,message:"No content to copy"};try{const t=`
      <div style="color: #000000; font-family: system-ui, -apple-system, sans-serif; line-height: 1.6; background: transparent;">
        ${e.split(`
`).map(r=>{if(r.startsWith("# "))return`<h1 style="color: #000000; font-size: 1.5rem; font-weight: bold; margin: 1.5rem 0 1rem 0;">${r.replace("# ","")}</h1>`;if(r.startsWith("## "))return`<h2 style="color: #000000; font-size: 1.25rem; font-weight: bold; margin: 1rem 0 0.5rem 0;">${r.replace("## ","")}</h2>`;if(r.startsWith("### "))return`<h3 style="color: #000000; font-size: 1.1rem; font-weight: bold; margin: 0.75rem 0 0.25rem 0;">${r.replace("### ","")}</h3>`;if(r.startsWith("#### "))return`<h4 style="color: #000000; font-size: 1rem; font-weight: bold; margin: 0.5rem 0 0.25rem 0;">${r.replace("#### ","")}</h4>`;if(r.startsWith("- **")){const o=r.match(/- \*\*(.*?)\*\*:\s*(.*)/);if(o)return`<p style="margin: 0.25rem 0; color: #000000;"><strong style="color: #000000;">${o[1]}:</strong> ${o[2]}</p>`}else{if(r.startsWith("- "))return`<p style="margin: 0.25rem 0; padding-left: 1rem; color: #000000;">• ${r.replace("- ","")}</p>`;if(r.match(/^\d+\./))return`<p style="margin: 0.25rem 0; padding-left: 1rem; color: #000000;">${r}</p>`;if(r.startsWith("**")&&r.endsWith("**"))return`<p style="margin: 0.5rem 0; color: #000000; font-weight: bold;">${r.replace(/\*\*/g,"")}</p>`;if(r.trim())return`<p style="margin: 0.5rem 0; color: #000000;">${r}</p>`}return"<br>"}).join("")}
      </div>
    `,n=e.split(`
`).map(r=>{if(r.startsWith("# "))return r.replace("# ","");if(r.startsWith("## "))return r.replace("## ","");if(r.startsWith("### "))return r.replace("### ","");if(r.startsWith("#### "))return r.replace("#### ","");if(r.startsWith("- **")){const o=r.match(/- \*\*(.*?)\*\*:\s*(.*)/);if(o)return`${o[1]}: ${o[2]}`}else{if(r.startsWith("- "))return`• ${r.replace("- ","")}`;if(r.startsWith("**")&&r.endsWith("**"))return r.replace(/\*\*/g,"")}return r}).join(`
`);if(navigator.clipboard&&navigator.clipboard.write){const r=new Blob([t],{type:"text/html"}),o=new Blob([n],{type:"text/plain"}),l=new ClipboardItem({"text/html":r,"text/plain":o});return await navigator.clipboard.write([l]),{success:!0,message:"Content copied (Rich Format)!"}}else return await navigator.clipboard.writeText(n),{success:!0,message:"Content copied (Plain Text)!"}}catch(t){return console.error("Failed to copy content:",t),{success:!1,message:"Failed to copy. Please try manually."}}},fu=({content:e,onExportPDF:t,onCopy:n,className:r=""})=>{const[o,l]=re.useState(""),u=async()=>{if(n){n();return}const h=await g5(e);l(h.message),setTimeout(()=>l(""),3e3)},f={h1:({children:h})=>y.jsx("h1",{className:"text-3xl font-bold text-purple-300 mb-6 border-b border-gray-600 pb-3",children:h}),h2:({children:h})=>y.jsx("h2",{className:"text-2xl font-semibold text-purple-200 mt-8 mb-4 border-l-4 border-purple-500 pl-4",children:h}),h3:({children:h})=>y.jsx("h3",{className:"text-xl font-semibold text-purple-100 mt-6 mb-3 flex items-center",children:h}),h4:({children:h})=>y.jsx("h4",{className:"text-lg font-medium text-gray-200 mt-4 mb-2",children:h}),p:({children:h})=>y.jsx("p",{className:"text-gray-300 mb-4 leading-relaxed",children:h}),ul:({children:h})=>y.jsx("ul",{className:"list-disc list-inside text-gray-300 mb-4 space-y-1 ml-4",children:h}),ol:({children:h})=>y.jsx("ol",{className:"list-decimal list-inside text-gray-300 mb-4 space-y-1 ml-4",children:h}),li:({children:h})=>y.jsx("li",{className:"text-gray-300 mb-1",children:h}),strong:({children:h})=>y.jsx("strong",{className:"font-semibold text-gray-100",children:h}),em:({children:h})=>y.jsx("em",{className:"italic text-gray-200",children:h}),code:({children:h,className:d})=>d?y.jsx("pre",{className:"bg-gray-800 border border-gray-600 rounded-lg p-4 overflow-x-auto mb-4",children:y.jsx("code",{className:"text-green-300 text-sm font-mono",children:h})}):y.jsx("code",{className:"bg-gray-700 text-purple-300 px-2 py-1 rounded text-sm font-mono",children:h}),blockquote:({children:h})=>y.jsx("blockquote",{className:"border-l-4 border-purple-500 bg-gray-800/50 pl-4 py-2 mb-4 italic text-gray-300",children:h}),table:({children:h})=>y.jsx("div",{className:"overflow-x-auto mb-6",children:y.jsx("table",{className:"min-w-full bg-gray-800 border border-gray-600 rounded-lg",children:h})}),thead:({children:h})=>y.jsx("thead",{className:"bg-gray-700",children:h}),tbody:({children:h})=>y.jsx("tbody",{className:"divide-y divide-gray-600",children:h}),tr:({children:h})=>y.jsx("tr",{className:"hover:bg-gray-700/50 transition-colors",children:h}),th:({children:h})=>y.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold text-purple-300 border-b border-gray-600",children:h}),td:({children:h})=>y.jsx("td",{className:"px-4 py-3 text-sm text-gray-300",children:h}),hr:()=>y.jsx("hr",{className:"border-gray-600 my-8"}),a:({href:h,children:d})=>y.jsx("a",{href:h,className:"text-purple-400 hover:text-purple-300 underline transition-colors",target:"_blank",rel:"noopener noreferrer",children:d})};return y.jsxs("div",{className:`markdown-content ${r}`,children:[y.jsxs("div",{className:"flex justify-end gap-2 mb-4 pb-4 border-b border-gray-700",children:[y.jsx(Be,{onClick:u,variant:"outline",size:"sm",leftIcon:y.jsx(xD,{className:"w-4 h-4"}),children:"Copy Content"}),t&&y.jsx(Be,{onClick:t,variant:"secondary",size:"sm",leftIcon:y.jsx(qd,{className:"w-4 h-4"}),children:"Export PDF"})]}),o&&y.jsx("div",{className:`text-sm mb-4 p-2 rounded ${o.includes("Failed")?"text-red-400 bg-red-900/20":"text-green-400 bg-green-900/20"}`,children:o}),y.jsx("div",{className:"prose prose-invert max-w-none",children:y.jsx(F1,{components:f,remarkPlugins:[dT],children:e})})]})},hT=[{category:"House",genre:"House",tempoRange:[120,126],sections:["Intro","Build-Up","Drop","Breakdown","Drop 2","Outro"]},{category:"House",genre:"Deep House",tempoRange:[118,124],sections:["Intro","Build-Up","Drop","Breakdown","Outro"]},{category:"House",genre:"Tech House",tempoRange:[122,127],sections:["Intro","Build-Up","Drop","Breakdown","Drop 2","Outro"]},{category:"House",genre:"Progressive House",tempoRange:[124,128],sections:["Intro","Build-Up","Drop","Breakdown","Outro"]},{category:"House",genre:"Afro House",tempoRange:[120,125],sections:["Intro","Build-Up","Drop","Breakdown","Outro"]},{category:"House",genre:"Nu-Disco",tempoRange:[115,125],sections:["Intro","Verse","Chorus","Bridge","Outro"]},{category:"Techno",genre:"Melodic Techno",tempoRange:[120,126],sections:["Intro","Groove Build","Peak Moment","Mid-Break","Outro"]},{category:"Techno",genre:"Minimal Techno",tempoRange:[120,125],sections:["Intro","Groove Build","Peak Moment","Mid-Break","Outro"]},{category:"Techno",genre:"Big Room Techno",tempoRange:[126,130],sections:["Intro","Build-Up","Drop","Breakdown","Build-Up 2","Final Drop","Outro"]},{category:"Techno",genre:"Peak Time Techno",tempoRange:[128,135],sections:["Intro","Groove Build","Peak Moment","Mid-Break","Outro"]},{category:"Techno",genre:"Hard Techno",tempoRange:[135,145],sections:["Intro","Groove Build","Peak Moment","Mid-Break","Outro"]},{category:"Trance",genre:"Trance",tempoRange:[128,140],sections:["Intro","Build-Up","Drop","Breakdown","Build-Up 2","Final Drop","Outro"]},{category:"Trance",genre:"Psytrance",tempoRange:[140,150],sections:["Intro","Build-Up","Drop","Breakdown","Build-Up 2","Final Drop","Outro"]},{category:"Trance",genre:"Progressive Trance",tempoRange:[130,138],sections:["Intro","Build-Up","Drop","Breakdown","Build-Up 2","Final Drop","Outro"]},{category:"Trance",genre:"Uplifting Trance",tempoRange:[132,140],sections:["Intro","Build-Up","Drop","Breakdown","Build-Up 2","Final Drop","Outro"]},{category:"Bass & Dubstep",genre:"Dubstep",tempoRange:[140,150],sections:["Intro","Pre-Drop","Drop 1","Switch-Up","Drop 2","Outro"]},{category:"Bass & Dubstep",genre:"Riddim Dubstep",tempoRange:[140,150],sections:["Intro","Pre-Drop","Drop 1","Switch-Up","Drop 2","Outro"]},{category:"Bass & Dubstep",genre:"Hybrid Trap",tempoRange:[135,150],sections:["Intro","Pre-Drop","Drop 1","Mid-Section","Drop 2","Outro"]},{category:"Bass & Dubstep",genre:"Midtempo Bass",tempoRange:[95,110],sections:["Intro","Build-Up","Drop","Breakdown","Outro"]},{category:"Bass & Dubstep",genre:"Future Bass",tempoRange:[140,155],sections:["Intro","Pre-Drop","Drop 1","Breakdown","Drop 2","Outro"]},{category:"Bass & Dubstep",genre:"Phonk",tempoRange:[130,150],sections:["Intro","Pre-Drop","Drop 1","Switch-Up","Drop 2","Outro"]},{category:"Bass & Dubstep",genre:"Hardstyle",tempoRange:[150,160],sections:["Intro","Pre-Drop","Drop 1","Switch-Up","Drop 2","Outro"]},{category:"Trap & Future Styles",genre:"Trap",tempoRange:[130,150],sections:["Intro","Pre-Drop","Drop 1","Mid-Section","Drop 2","Outro"]},{category:"Trap & Future Styles",genre:"Hard Trap",tempoRange:[135,150],sections:["Intro","Pre-Drop","Drop 1","Switch-Up","Drop 2","Outro"]},{category:"Trap & Future Styles",genre:"Hyperpop",tempoRange:[140,160],sections:["Intro","Verse","Drop","Bridge","Outro"]},{category:"Trap & Future Styles",genre:"Trap Soul",tempoRange:[100,130],sections:["Intro","Verse","Chorus","Bridge","Outro"]},{category:"Trap & Future Styles",genre:"Jersey Club",tempoRange:[130,140],sections:["Intro","Pre-Drop","Drop 1","Mid-Section","Drop 2","Outro"]},{category:"Drum & Bass / UK Styles",genre:"Drum & Bass",tempoRange:[170,175],sections:["Intro","Build-Up","Drop","Mid-Roll","Breakdown","Second Drop","Outro"]},{category:"Drum & Bass / UK Styles",genre:"Liquid DnB",tempoRange:[170,175],sections:["Intro","Build-Up","Drop","Mid-Roll","Breakdown","Second Drop","Outro"]},{category:"Drum & Bass / UK Styles",genre:"Jungle",tempoRange:[170,175],sections:["Intro","Build-Up","Drop","Mid-Roll","Breakdown","Second Drop","Outro"]},{category:"Drum & Bass / UK Styles",genre:"UK Garage",tempoRange:[130,138],sections:["Intro","Build-Up","Drop","Breakdown","Outro"]},{category:"Drum & Bass / UK Styles",genre:"UK Bass",tempoRange:[128,138],sections:["Intro","Build-Up","Drop","Breakdown","Outro"]},{category:"Drum & Bass / UK Styles",genre:"Breakbeat",tempoRange:[125,135],sections:["Intro","Build-Up","Drop","Breakdown","Outro"]},{category:"Pop / Indie / Electro",genre:"EDM Pop",tempoRange:[110,125],sections:["Intro","Verse","Pre-Chorus","Chorus / Drop","Bridge","Outro"]},{category:"Pop / Indie / Electro",genre:"Indie Pop",tempoRange:[100,120],sections:["Intro","Verse","Chorus","Bridge","Outro"]},{category:"Pop / Indie / Electro",genre:"Indie Dance",tempoRange:[115,125],sections:["Intro","Verse","Chorus","Bridge","Outro"]},{category:"Pop / Indie / Electro",genre:"Electro Pop",tempoRange:[100,120],sections:["Intro","Verse","Pre-Chorus","Chorus","Bridge","Outro"]},{category:"Pop / Indie / Electro",genre:"Synth Pop",tempoRange:[100,115],sections:["Intro","Verse","Pre-Chorus","Chorus","Bridge","Outro"]},{category:"Retro & Synth",genre:"Synthwave",tempoRange:[85,105],sections:["Intro","Main Theme","Breakdown","Bridge","Outro"]},{category:"Retro & Synth",genre:"Chillwave",tempoRange:[85,100],sections:["Intro","Main Theme","Breakdown","Bridge","Outro"]},{category:"Retro & Synth",genre:"Vaporwave",tempoRange:[60,85],sections:["Intro","Main Theme","Breakdown","Outro"]},{category:"Retro & Synth",genre:"Retrowave",tempoRange:[90,110],sections:["Intro","Main Theme","Breakdown","Bridge","Outro"]},{category:"Hip-Hop & RnB",genre:"Boom Bap",tempoRange:[85,95],sections:["Intro","Verse","Chorus","Verse 2","Outro"]},{category:"Hip-Hop & RnB",genre:"Experimental Hip-Hop",tempoRange:[80,100],sections:["Intro","Verse","Drop","Bridge","Outro"]},{category:"Hip-Hop & RnB",genre:"RnB Remix",tempoRange:[85,100],sections:["Intro","Verse","Chorus","Bridge","Outro"]},{category:"Lo-fi & Chill",genre:"Lo-fi Hip-Hop",tempoRange:[65,85],sections:["Intro","Groove Section A","Groove Section B","Bridge / Texture Break","Outro"]},{category:"Lo-fi & Chill",genre:"Chillhop",tempoRange:[70,90],sections:["Intro","Groove Section A","Groove Section B","Bridge / Texture Break","Outro"]},{category:"Lo-fi & Chill",genre:"Trip-Hop",tempoRange:[70,90],sections:["Intro","Main Atmosphere","Texture Development","Outro"]},{category:"Lo-fi & Chill",genre:"Downtempo",tempoRange:[70,90],sections:["Intro","Main Atmosphere","Texture Development","Dynamic Peak","Outro"]},{category:"Lo-fi & Chill",genre:"Chillstep",tempoRange:[100,115],sections:["Intro","Build-Up","Drop","Breakdown","Outro"]},{category:"Ambient & Cinematic",genre:"Ambient",tempoRange:[60,80],sections:["Intro","Main Atmosphere","Texture Development","Outro"]},{category:"Ambient & Cinematic",genre:"Cinematic",tempoRange:[60,80],sections:["Intro","Main Atmosphere","Texture Development","Outro"]}],y5=()=>{const e={};return hT.forEach(({category:t,genre:n})=>{e[t]||(e[t]=[]),e[t].push(n)}),e},pv=e=>hT.find(t=>t.genre===e),gv=e=>{if(!e)return null;const t=/##\s*🎵\s*Original Track DNA Analysis/i,n=e.match(t);if(!n||typeof n.index>"u")return null;const r=n.index,o=e.substring(r+n[0].length).match(/^##\s+/m),l=o&&typeof o.index<"u"?r+n[0].length+o.index:e.length,f=e.substring(r,l).trim().match(/\*\*Harmonic Blueprint\*\*:\s*([^\n]+)/i);if(f&&f[1]){const d=f[1].match(/([IVXLCDMivxlcdm\d\s,-]+(?:\s*-\s*[IVXLCDMivxlcdm\d\s,-]+)*)/);if(d&&d[1])return d[1].trim()}return null},x5=()=>{const[e,t]=re.useState(null),[n,r]=re.useState(""),[o,l]=re.useState(""),[u,f]=re.useState(""),[h,d]=re.useState(""),[m,g]=re.useState(!1),[T,S]=re.useState(null),[E,k]=re.useState(""),R=re.useRef(null),D=y5(),B=Object.keys(D),P=L=>{var ue;const oe=(ue=L.target.files)==null?void 0:ue[0];if(!oe)return;if(!(["audio/wav","audio/mpeg","audio/mp3"].includes(oe.type)||oe.name.toLowerCase().endsWith(".wav")||oe.name.toLowerCase().endsWith(".mp3"))){k("Please upload a WAV or MP3 file");return}if(oe.size>100*1024*1024){k("File size must be under 100MB");return}t(oe),k("")},z=L=>{L.preventDefault();const oe=L.dataTransfer.files[0];oe&&P({target:{files:[oe]}})},F=L=>{L.preventDefault()},H=async()=>{if(!e||!o){k("Please upload an audio file and select a target genre");return}g(!0),k("");try{const L=await jD(e),oe={base64:L.base64,mimeType:L.mimeType},he=pv(o),fe=await mD(oe,o,he,u,h);console.log("Remix guide generated, now generating MIDI patterns...");try{const ue=gv(fe.guide),me={key:fe.targetKey,tempo:fe.targetTempo,timeSignature:[4,4],chordProgression:ue||fe.originalChordProgression||"i-VI-III-VII",genre:o,bars:8,targetInstruments:["bassline","drums","melody","chords"],guidebookContext:`${o} remix at ${fe.targetTempo} BPM in ${fe.targetKey}`,songSection:fe.sections[0]||"Intro"};console.log("MIDI settings:",me);const K=await ps(me);let V="";for await(const G of K)G.text&&(V+=G.text);V=V.trim();const N=/^```(\w*)?\s*\n?(.*?)\n?\s*```$/s,_=V.match(N);_&&_[2]&&(V=_[2].trim()),console.log("Raw MIDI JSON:",V);const C=JSON.parse(V);if(C.drums){const G={};for(const M in C.drums)G[M.toLowerCase().replace(/\s+/g,"_")]=C.drums[M];C.drums=G}console.log("Generated MIDI patterns:",C);const O={...fe,generatedMidiPatterns:C};S(O)}catch(ue){console.error("Error generating MIDI patterns for remix:",ue),S({...fe,generatedMidiPatterns:{}}),k(`Remix guide generated successfully, but MIDI generation failed: ${ue instanceof Error?ue.message:"Unknown error"}`)}}catch(L){console.error("Error generating remix guide:",L),k(L instanceof Error?L.message:"Failed to generate remix guide. Please try again.")}finally{g(!1)}},se=L=>{r(L),l("")},ae=async()=>{if(T){g(!0),k("");try{const L=gv(T.guide),oe={key:T.targetKey,tempo:T.targetTempo,timeSignature:[4,4],chordProgression:L||T.originalChordProgression||"i-VI-III-VII",genre:o,bars:8,targetInstruments:["bassline","drums","melody","chords"],guidebookContext:`${o} remix at ${T.targetTempo} BPM in ${T.targetKey}`,songSection:T.sections[0]||"Intro"};console.log("Regenerating MIDI with settings:",oe);const he=await ps(oe);let fe="";for await(const V of he)V.text&&(fe+=V.text);fe=fe.trim();const ue=/^```(\w*)?\s*\n?(.*?)\n?\s*```$/s,me=fe.match(ue);me&&me[2]&&(fe=me[2].trim()),console.log("Raw regenerated MIDI JSON:",fe);const K=JSON.parse(fe);if(K.drums){const V={};for(const N in K.drums)V[N.toLowerCase().replace(/\s+/g,"_")]=K.drums[N];K.drums=V}console.log("Regenerated MIDI patterns:",K),S(V=>V?{...V,generatedMidiPatterns:K}:null)}catch(L){console.error("Error regenerating MIDI patterns:",L),k(`Failed to regenerate MIDI patterns: ${L instanceof Error?L.message:"Unknown error"}`)}finally{g(!1)}}},pe=()=>{t(null),r(""),l(""),f(""),d(""),S(null),k(""),R.current&&(R.current.value="")};return y.jsxs("div",{className:"space-y-6",children:[y.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[y.jsxs(Ge,{className:"p-6",children:[y.jsx("h3",{className:"text-lg font-semibold mb-4 text-white",children:"Upload Original Track"}),y.jsxs("div",{className:"border-2 border-dashed border-gray-600 rounded-lg p-8 text-center cursor-pointer hover:border-gray-500 transition-colors",onDrop:z,onDragOver:F,onClick:()=>{var L;return(L=R.current)==null?void 0:L.click()},children:[y.jsx("input",{ref:R,type:"file",accept:".wav,.mp3,audio/wav,audio/mpeg",onChange:P,className:"hidden"}),y.jsxs("div",{className:"space-y-2",children:[y.jsx("div",{className:"text-4xl",children:"🎵"}),y.jsx("div",{className:"text-white font-medium",children:e?e.name:"Upload Original Track"}),y.jsx("p",{className:"text-gray-400 text-sm",children:"or drag and drop"})]}),y.jsxs("p",{className:"text-gray-500 text-xs mt-2",children:["MP3, WAV up to ",y.jsx("span",{className:"text-orange-400",children:"100"}),"MB"]})]})]}),y.jsxs(Ge,{className:"p-6",children:[y.jsx("h3",{className:"text-lg font-semibold mb-4 text-white",children:"Target Remix Genre"}),y.jsxs("div",{className:"space-y-4",children:[y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"1. Select Category"}),y.jsxs("select",{value:n,onChange:L=>se(L.target.value),className:"w-full p-3 bg-gray-700 border border-gray-600 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-orange-500",children:[y.jsx("option",{value:"",children:"Choose a category..."}),B.map(L=>y.jsx("option",{value:L,children:L},L))]})]}),n&&y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"2. Select Genre"}),y.jsxs("select",{value:o,onChange:L=>l(L.target.value),className:"w-full p-3 bg-gray-700 border border-gray-600 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-orange-500",children:[y.jsx("option",{value:"",children:"Choose a genre..."}),D[n].map(L=>y.jsx("option",{value:L,children:L},L))]})]}),o&&y.jsx("div",{className:"text-sm text-gray-400 bg-gray-800 p-3 rounded-lg",children:(()=>{const L=pv(o);return L?`🎵 Tempo: ${L.tempoRange[0]}-${L.tempoRange[1]} BPM`:""})()})]})]})]}),y.jsxs(Ge,{className:"p-6",children:[y.jsx("h3",{className:"text-lg font-semibold mb-4 text-white",children:"Production Setup (Optional)"}),y.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"DAW (Digital Audio Workstation)"}),y.jsx("input",{type:"text",value:u,onChange:L=>f(L.target.value),placeholder:"e.g., Ableton Live, Logic Pro X, FL Studio...",className:"w-full p-3 bg-gray-700 border border-gray-600 rounded-lg text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-orange-500"})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Available Plugins"}),y.jsx("input",{type:"text",value:h,onChange:L=>d(L.target.value),placeholder:"e.g., Serum, FabFilter Pro-Q 3, Valhalla VintageVerb...",className:"w-full p-3 bg-gray-700 border border-gray-600 rounded-lg text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-orange-500"})]})]}),y.jsx("p",{className:"text-xs text-gray-400 mt-2",children:"Specify your DAW and plugins to get tailored parameter recommendations in the remix guide"})]}),E&&y.jsx("div",{className:"bg-red-900/50 border border-red-500 rounded-lg p-4 text-red-200",children:E}),y.jsxs("div",{className:"flex gap-4",children:[y.jsx(Be,{onClick:H,disabled:!e||!o||m,className:"flex-1",children:m?y.jsxs(y.Fragment,{children:[y.jsx(er,{size:"sm"})," Generating RemixGuide..."]}):"🎛️ Generate RemixGuide"}),y.jsx(Be,{onClick:pe,variant:"outline",children:"Reset"})]}),T&&y.jsxs("div",{className:"space-y-6",children:[y.jsxs(Ge,{className:"p-6",children:[y.jsxs("div",{className:"flex justify-between items-center mb-4",children:[y.jsxs("h3",{className:"text-xl font-bold text-white",children:["🎛️ ",o," Remix Guide"]}),y.jsxs("div",{className:"text-sm text-gray-400",children:["Target: ",T.targetTempo," BPM • ",T.targetKey]})]}),y.jsxs("div",{className:"bg-gray-800/50 rounded-lg p-6 max-h-[calc(100vh-8rem)] overflow-y-auto",children:[y.jsx(fu,{content:T.guide}),y.jsxs(Be,{onClick:()=>openAIAssistant("RemixGuide for this project"),className:"mt-4 flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:[y.jsx("img",{src:"/production-coach-icon.svg",alt:"AI",className:"w-5 h-5"}),"Ask follow-up questions"]})]})]}),y.jsxs(Ge,{className:"p-6",children:[y.jsxs("div",{className:"flex justify-between items-center mb-6",children:[y.jsx("h3",{className:"text-xl font-bold text-white",children:"🎹 MIDI Remix Patterns"}),y.jsx(Be,{onClick:ae,disabled:m,variant:"outline",className:"text-sm",children:m?y.jsxs(y.Fragment,{children:[y.jsx(er,{size:"sm"})," Regenerating..."]}):"🔄 Regenerate MIDI"})]}),T.generatedMidiPatterns?y.jsx(o1,{sections:T.sections,targetTempo:T.targetTempo,targetKey:T.targetKey,isRemixMode:!0,currentGuidebookEntry:{id:`remix-${Date.now()}`,title:`${o} Remix`,genre:[o],artistReference:"Remix Guide",vibe:[o],daw:u||"Not specified",plugins:h||"Not specified",availableInstruments:"Remix instruments",content:T.guide,createdAt:new Date().toISOString(),generatedMidiPatterns:T.generatedMidiPatterns}},`remix-${o}-${Date.now()}`):y.jsx("div",{className:"text-center py-8",children:y.jsx("div",{className:"text-gray-400 mb-4",children:m?y.jsxs(y.Fragment,{children:[y.jsx(er,{size:"lg"}),y.jsx("p",{className:"mt-4",children:"Generating MIDI patterns..."})]}):y.jsxs(y.Fragment,{children:[y.jsx("div",{className:"text-4xl mb-2",children:"🎹"}),y.jsx("p",{children:"MIDI patterns will appear here after generation"}),y.jsx("p",{className:"text-sm mt-2",children:'Click "Regenerate MIDI" to generate patterns'})]})})})]})]}),!T&&y.jsx(Ge,{className:"p-6 bg-gray-800/30",children:y.jsxs("div",{className:"text-center space-y-4",children:[y.jsx("div",{className:"text-6xl",children:"🎛️"}),y.jsx("h3",{className:"text-xl font-bold text-white",children:"Transform Your Track"}),y.jsx("p",{className:"text-gray-400 max-w-2xl mx-auto",children:"Upload your original track and select a target genre. Our AI will analyze the harmonic progression, melodies, and rhythmic elements, then generate a comprehensive remix guide with genre-appropriate MIDI patterns for basslines, drums, melodies, and textures."})]})})]})},yv=[{frequency:"20-30 Hz",category:"sub",min:20,max:30,description:"Extreme sub-bass rumble. Rarely useful except for cinematic or sub-heavy genres.",action:"cut",instruments:["Kick drum","Sub bass","808s","Synth bass"]},{frequency:"30-50 Hz",category:"sub",min:30,max:50,description:"Deep low-end power. Adds weight, but too much = flabbiness.",action:"boost",instruments:["Kick drum","Sub bass","Bass guitar","808s"]},{frequency:"50-60 Hz",category:"sub",min:50,max:60,description:'Bass punch and fullness. Defines the "bottom" of mix.',action:"boost",instruments:["Kick drum","Bass guitar","Sub bass","Synths"]},{frequency:"60-100 Hz",category:"bass",min:60,max:100,description:"Bass body and tone. Core of bass instruments. Too much = boom.",action:"boost",instruments:["Bass guitar","Kick drum","Synth bass","Cello"]},{frequency:"100-160 Hz",category:"bass",min:100,max:160,description:"Low warmth. Helps glue bass + low mids. Overdone = muddiness.",action:"cut",instruments:["Bass guitar","Piano","Guitar","Vocals","Drums"]},{frequency:"160-250 Hz",category:"bass",min:160,max:250,description:"Upper bass/low mid overlap. Often cut to clean mud.",action:"cut",instruments:["Bass guitar","Vocals","Strings","Brass"]},{frequency:"250-350 Hz",category:"low-mid",min:250,max:350,description:"Boxiness / wool. Can cloud guitars & vocals.",action:"cut",instruments:["Vocals","Guitar","Piano","Snare"]},{frequency:"350-500 Hz",category:"low-mid",min:350,max:500,description:"Warmth vs. mud. Boost for body, cut for clarity.",action:"cut",instruments:["Vocals","Snare","Guitar","Keys"]},{frequency:"500-800 Hz",category:"mid",min:500,max:800,description:"Core midrange — thickness and presence. Often cluttered.",action:"cut",instruments:["Vocals","Guitar","Snare","Keys"]},{frequency:"800 Hz - 1.5 kHz",category:"mid",min:800,max:1500,description:"Body and clarity. Essential for definition.",action:"boost",instruments:["Vocals","Guitar","Piano","Snare"]},{frequency:"1.5-2 kHz",category:"mid",min:1500,max:2e3,description:"Presence and attack. Boost for definition.",action:"boost",instruments:["Vocals","Snare","Guitar"]},{frequency:"2-3 kHz",category:"high-mid",min:2e3,max:3e3,description:"Vocal clarity and edge. Boost carefully.",action:"boost",instruments:["Vocals","Snare","Guitar","Piano"]},{frequency:"3-5 kHz",category:"high-mid",min:3e3,max:5e3,description:"Presence, bite, intelligibility. Too much = harsh.",action:"cut",instruments:["Vocals","Snare","Cymbals"]},{frequency:"5-8 kHz",category:"presence",min:5e3,max:8e3,description:"Detail and sparkle. Brings life, but sibilant if overdone.",action:"boost",instruments:["Vocals","Hi-hats","Acoustic guitar","Cymbals"]},{frequency:"8-12 kHz",category:"air",min:8e3,max:12e3,description:"Air and openness. Adds space.",action:"boost",instruments:["Vocals","Strings","Cymbals","Room mics"]},{frequency:"12-20 kHz",category:"air",min:12e3,max:2e4,description:"Extreme highs. Use for shimmer.",action:"boost",instruments:["Cymbals","Room mics","Vocals"]},{frequency:"80-200 Hz",category:"bass",min:80,max:200,description:"Cut gently to reduce muddiness and low-end buildup.",action:"cut",instruments:["Male vocals"]},{frequency:"200-400 Hz",category:"low-mid",min:200,max:400,description:"Boost lightly for body, cut if vocals sound boxy.",action:"boost",instruments:["Male vocals"]},{frequency:"1-2 kHz",category:"mid",min:1e3,max:2e3,description:"Boost for presence and clarity, helping vocals cut through the mix.",action:"boost",instruments:["Male vocals"]},{frequency:"4-6 kHz",category:"high-mid",min:4e3,max:6e3,description:"Boost for air and articulation, but watch out for harshness.",action:"boost",instruments:["Male vocals"]},{frequency:"100-250 Hz",category:"bass",min:100,max:250,description:"Cut to reduce any muddiness. Female vocals rarely need low-end boosting.",action:"cut",instruments:["Female vocals"]},{frequency:"400-800 Hz",category:"mid",min:400,max:800,description:"Boost for warmth and body, but cut if vocals sound “boxy”.",action:"boost",instruments:["Female vocals"]},{frequency:"2-4 kHz",category:"high-mid",min:2e3,max:4e3,description:"Boost for presence, articulation, and “forward” vocals.",action:"boost",instruments:["Female vocals"]},{frequency:"7-10 kHz",category:"presence",min:7e3,max:1e4,description:"Boost for air and breathiness, cut if sibilant (“ess” sounds).",action:"boost",instruments:["Female vocals"]},{frequency:"7-10 kHz",category:"presence",min:7e3,max:1e4,description:"Cut to control sibilance if vocals are too “essy”.",action:"cut",instruments:["Female vocals"]},{frequency:"200-400 Hz",category:"low-mid",min:200,max:400,description:"Boost for warmth, fullness.",action:"boost",instruments:["Saxophone"]},{frequency:"1-2 kHz",category:"mid",min:1e3,max:2e3,description:"Boost for body and presence.",action:"boost",instruments:["Saxophone"]},{frequency:"3-5 kHz",category:"high-mid",min:3e3,max:5e3,description:"Cut to tame harshness or reed noise.",action:"cut",instruments:["Saxophone"]},{frequency:"8-12 kHz",category:"air",min:8e3,max:12e3,description:"Boost for air and shine.",action:"boost",instruments:["Saxophone"]}],xv=[{id:"all",label:"All Frequencies",color:"bg-gray-600"},{id:"sub",label:"Sub Bass (20-60Hz)",color:"bg-red-600"},{id:"bass",label:"Bass (60-250Hz)",color:"bg-orange-600"},{id:"low-mid",label:"Low Mids (250-500Hz)",color:"bg-yellow-600"},{id:"mid",label:"Mids (500-2kHz)",color:"bg-green-600"},{id:"high-mid",label:"High Mids (2-6kHz)",color:"bg-blue-600"},{id:"presence",label:"Presence (6-12kHz)",color:"bg-indigo-600"},{id:"air",label:"Air (12kHz+)",color:"bg-purple-600"}];function v5({min:e,max:t}){const n=100*(Math.log10(e)-Math.log10(20))/(Math.log10(2e4)-Math.log10(20)),r=100*(Math.log10(t)-Math.log10(20))/(Math.log10(2e4)-Math.log10(20));return y.jsx("div",{className:"relative h-2 w-full bg-gray-900 rounded-full my-2",children:y.jsx("div",{className:"absolute h-2 rounded-full bg-orange-500 transition-all",style:{left:`${n}%`,width:`${Math.max(r-n,3)}%`}})})}const b5=()=>{const[e,t]=re.useState("All"),[n,r]=re.useState("all"),o=yv.filter(u=>{const f=n==="all"||u.category===n,h=e==="All"||u.instruments.includes(e);return f&&(e==="All"?!0:h)}),l=u=>yv.filter(f=>f.frequency===u.frequency&&f.category===u.category&&f.action===u.action).flatMap(f=>f.instruments).filter((f,h,d)=>d.indexOf(f)===h);return y.jsxs("div",{className:"max-w-4xl mx-auto w-full py-8 px-4 md:px-0",children:[y.jsxs("div",{className:"flex flex-wrap gap-6 mb-6 items-end",children:[y.jsxs("div",{className:"flex-1 min-w-[180px]",children:[y.jsx("label",{className:"block text-xs font-bold text-gray-400 mb-1",children:"Instrument"}),y.jsxs("select",{value:e,onChange:u=>t(u.target.value),className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-md text-gray-100",children:[y.jsx("option",{disabled:!0,children:"Vocals"}),y.jsx("option",{value:"Vocals",children:"Vocals (general)"}),y.jsx("option",{value:"Male vocals",children:"Male vocals"}),y.jsx("option",{value:"Female vocals",children:"Female vocals"}),y.jsx("option",{disabled:!0,children:"Rhythm Section"}),y.jsx("option",{value:"Kick drum",children:"Kick drum"}),y.jsx("option",{value:"Snare",children:"Snare"}),y.jsx("option",{value:"Bass guitar",children:"Bass guitar"}),y.jsx("option",{value:"808s",children:"808s"}),y.jsx("option",{value:"Sub bass",children:"Sub bass"}),y.jsx("option",{value:"Synth bass",children:"Synth bass"}),y.jsx("option",{value:"Drums",children:"Drums"}),y.jsx("option",{disabled:!0,children:"Other Instruments"}),y.jsx("option",{value:"Guitar",children:"Guitar"}),y.jsx("option",{value:"Acoustic guitar",children:"Acoustic guitar"}),y.jsx("option",{value:"Piano",children:"Piano"}),y.jsx("option",{value:"Cymbals",children:"Cymbals"}),y.jsx("option",{value:"Hi-hats",children:"Hi-hats"}),y.jsx("option",{value:"Horns",children:"Horns"}),y.jsx("option",{value:"Strings",children:"Strings"}),y.jsx("option",{value:"Room mics",children:"Room mics"}),y.jsx("option",{value:"Violin",children:"Violin"}),y.jsx("option",{value:"Cello",children:"Cello"}),y.jsx("option",{value:"Tuba",children:"Tuba"}),y.jsx("option",{value:"Saxophone",children:"Saxophone"}),y.jsx("option",{value:"Trumpet",children:"Trumpet"}),y.jsx("option",{value:"Brass",children:"Brass"}),y.jsx("option",{value:"Woodwinds",children:"Woodwinds"}),y.jsx("option",{value:"Flute",children:"Flute"}),y.jsx("option",{disabled:!0,children:"All/General"}),y.jsx("option",{value:"All",children:"All Instruments"})]})]}),y.jsxs("div",{className:"flex-1 min-w-[180px]",children:[y.jsx("label",{className:"block text-xs font-bold text-gray-400 mb-1",children:"Frequency Range"}),y.jsx("select",{value:n,onChange:u=>r(u.target.value),className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-md text-gray-100",children:xv.map(u=>y.jsx("option",{value:u.id,children:u.label},u.id))})]})]}),y.jsx("div",{className:"space-y-4",children:o.length===0?y.jsx(Ge,{className:"bg-gray-700/80 text-center py-16",children:y.jsxs("p",{className:"text-gray-300 text-lg",children:["No EQ data matches your current filters.",y.jsx("br",{}),"Try another instrument or frequency zone."]})}):o.map((u,f)=>{var h;return y.jsx(Ge,{className:"bg-gray-800/80",children:y.jsxs("div",{className:"flex flex-col gap-2",children:[y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsx("span",{className:"text-lg font-bold text-white",children:u.frequency}),y.jsx("span",{className:`text-xs font-bold rounded-full px-2 py-1 ${((h=xv.find(d=>d.id===u.category))==null?void 0:h.color)||"bg-gray-600"} text-white`,children:u.category.replace("-"," ").toUpperCase()}),y.jsx("span",{className:`ml-2 text-sm font-medium ${u.action==="boost"?"text-green-400":u.action==="cut"?"text-red-400":"text-yellow-400"}`,children:u.action==="boost"?"↑ BOOST":u.action==="cut"?"↓ CUT":"NOTCH"})]}),y.jsx(v5,{min:u.min,max:u.max}),y.jsx("p",{className:"text-gray-300",children:u.description}),y.jsxs("div",{className:"flex flex-wrap gap-1 items-center",children:[y.jsx("span",{className:"text-xs font-bold text-gray-400 mr-1",children:"Applies to:"}),l(u).map(d=>y.jsx("span",{className:"bg-gray-700 text-orange-200 rounded px-2 py-1 text-xs font-medium",children:d},d))]})]})},f)})}),y.jsx("div",{className:"text-xs text-gray-500 mt-8 text-center px-2",children:"Tip: These are general guidelines—trust your ears and reference pro mixes for your genre."})]})},T5=({waveform:e="sine",width:t=400,height:n=100})=>{const r=re.useRef(null);return re.useEffect(()=>{const o=r.current;if(!o)return;const l=o.getContext("2d");if(!l)return;l.fillStyle="#1f2937",l.fillRect(0,0,t,n),l.strokeStyle="#f97316",l.lineWidth=2,l.beginPath();const u=n/2,f=n*.4,h=t;for(let d=0;d<h;d++){const m=d;let g=u;const T=d/h*16;switch(e.toLowerCase()){case"sine":g=u+Math.sin(T*Math.PI)*f;break;case"square":g=u+(Math.sin(T*Math.PI)>=0?f:-f);break;case"saw":case"sawtooth":g=u+(T%1*2-1)*f;break;case"triangle":const S=T%1;g=u+(S<.5?S*4-1:3-S*4)*f;break;case"noise":g=u+(Math.random()*2-1)*f;break;case"pulse":g=u+(Math.sin(T*Math.PI)>.5?f:-f);break;default:g=u+(Math.sin(T*Math.PI)*.6+Math.sin(T*Math.PI*2)*.3+Math.sin(T*Math.PI*3)*.1)*f}d===0?l.moveTo(m,g):l.lineTo(m,g)}l.stroke(),l.strokeStyle="#4b5563",l.lineWidth=1,l.beginPath(),l.moveTo(0,u),l.lineTo(t,u),l.stroke(),l.fillStyle="#d1d5db",l.font="12px sans-serif",l.textAlign="right",l.fillText(e.toUpperCase(),t-10,n-10)},[e,t,n]),y.jsx("canvas",{ref:r,width:t,height:n,className:"w-full h-auto rounded border border-gray-700"})},S5=({attack:e,decay:t,sustain:n,release:r,width:o=400,height:l=150})=>{const u=Math.max(0,Math.min(1,e)),f=Math.max(0,Math.min(1,t)),h=Math.max(0,Math.min(1,n)),d=Math.max(0,Math.min(1,r)),m=u+f+.3+d,g=u/m*o*.8,T=f/m*o*.8,S=.3/m*o*.8,E=d/m*o*.8,k=l*.9,R=l*.1,D=R+(1-h)*(k-R),B=o*.1;let P=B;const z=[`M ${P} ${k}`],F=P+g*.5,H=k-(k-R)*.1;z.push(`C ${F} ${H}, ${P+g*.8} ${R+10}, ${P+g} ${R}`),P+=g;const se=P+T*.3,ae=R+(D-R)*.2;z.push(`C ${se} ${ae}, ${P+T*.7} ${D-5}, ${P+T} ${D}`),P+=T,z.push(`L ${P+S} ${D}`),P+=S;const pe=P+E*.7,L=D+(k-D)*.8;z.push(`C ${P+E*.3} ${D+5}, ${pe} ${L}, ${P+E} ${k}`);const oe=z.join(" ");return y.jsxs("svg",{width:o,height:l,className:"w-full h-auto",children:[y.jsx("rect",{width:"100%",height:"100%",fill:"#1f2937",rx:"4",ry:"4"}),y.jsx("line",{x1:"0",y1:k,x2:o,y2:k,stroke:"#4b5563",strokeWidth:"1",strokeDasharray:"4,4"}),y.jsx("line",{x1:"0",y1:R,x2:o,y2:R,stroke:"#4b5563",strokeWidth:"1",strokeDasharray:"4,4"}),y.jsx("line",{x1:"0",y1:D,x2:o,y2:D,stroke:"#4b5563",strokeWidth:"1",strokeDasharray:"4,4"}),y.jsx("path",{d:oe,fill:"none",stroke:"#f97316",strokeWidth:"3",strokeLinecap:"round",strokeLinejoin:"round"}),y.jsx("line",{x1:B+g,y1:R-5,x2:B+g,y2:k+5,stroke:"#6b7280",strokeWidth:"1",strokeDasharray:"4,4"}),y.jsx("line",{x1:B+g+T,y1:R-5,x2:B+g+T,y2:k+5,stroke:"#6b7280",strokeWidth:"1",strokeDasharray:"4,4"}),y.jsx("line",{x1:B+g+T+S,y1:R-5,x2:B+g+T+S,y2:k+5,stroke:"#6b7280",strokeWidth:"1",strokeDasharray:"4,4"}),y.jsx("text",{x:B+g/2,y:l-5,textAnchor:"middle",fill:"#d1d5db",fontSize:"10",children:"A"}),y.jsx("text",{x:B+g+T/2,y:l-5,textAnchor:"middle",fill:"#d1d5db",fontSize:"10",children:"D"}),y.jsx("text",{x:B+g+T+S/2,y:l-5,textAnchor:"middle",fill:"#d1d5db",fontSize:"10",children:"S"}),y.jsx("text",{x:B+g+T+S+E/2,y:l-5,textAnchor:"middle",fill:"#d1d5db",fontSize:"10",children:"R"}),y.jsx("text",{x:"5",y:R+15,fill:"#d1d5db",fontSize:"10",children:"1.0"}),y.jsx("text",{x:"5",y:D+15,fill:"#d1d5db",fontSize:"10",children:h.toFixed(1)}),y.jsx("text",{x:"5",y:k-5,fill:"#d1d5db",fontSize:"10",children:"0.0"}),y.jsxs("text",{x:o-5,y:15,textAnchor:"end",fill:"#d1d5db",fontSize:"10",children:["A: ",u.toFixed(2)," D: ",f.toFixed(2)," S: ",h.toFixed(2)," R: ",d.toFixed(2)]})]})},mT=re.createContext({});function C5(e){const t=re.useRef(null);return t.current===null&&(t.current=e()),t.current}const Yh=typeof window<"u",w5=Yh?re.useLayoutEffect:re.useEffect,$h=re.createContext(null);function Kh(e,t){e.indexOf(t)===-1&&e.push(t)}function Xh(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}const Si=(e,t,n)=>n>t?t:n<e?e:n;let Qh=()=>{};const Ci={},pT=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e);function gT(e){return typeof e=="object"&&e!==null}const yT=e=>/^0[^.\s]+$/u.test(e);function Jh(e){let t;return()=>(t===void 0&&(t=e()),t)}const Vn=e=>e,E5=(e,t)=>n=>t(e(n)),Ns=(...e)=>e.reduce(E5),xs=(e,t,n)=>{const r=t-e;return r===0?1:(n-e)/r};class Zh{constructor(){this.subscriptions=[]}add(t){return Kh(this.subscriptions,t),()=>Xh(this.subscriptions,t)}notify(t,n,r){const o=this.subscriptions.length;if(o)if(o===1)this.subscriptions[0](t,n,r);else for(let l=0;l<o;l++){const u=this.subscriptions[l];u&&u(t,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Wn=e=>e*1e3,ei=e=>e/1e3;function xT(e,t){return t?e*(1e3/t):0}const vT=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,A5=1e-7,M5=12;function k5(e,t,n,r,o){let l,u,f=0;do u=t+(n-t)/2,l=vT(u,r,o)-e,l>0?n=u:t=u;while(Math.abs(l)>A5&&++f<M5);return u}function Rs(e,t,n,r){if(e===t&&n===r)return Vn;const o=l=>k5(l,0,1,e,n);return l=>l===0||l===1?l:vT(o(l),t,r)}const bT=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,TT=e=>t=>1-e(1-t),ST=Rs(.33,1.53,.69,.99),Wh=TT(ST),CT=bT(Wh),wT=e=>(e*=2)<1?.5*Wh(e):.5*(2-Math.pow(2,-10*(e-1))),em=e=>1-Math.sin(Math.acos(e)),ET=TT(em),AT=bT(em),D5=Rs(.42,0,1,1),N5=Rs(0,0,.58,1),MT=Rs(.42,0,.58,1),R5=e=>Array.isArray(e)&&typeof e[0]!="number",kT=e=>Array.isArray(e)&&typeof e[0]=="number",_5={linear:Vn,easeIn:D5,easeInOut:MT,easeOut:N5,circIn:em,circInOut:AT,circOut:ET,backIn:Wh,backInOut:CT,backOut:ST,anticipate:wT},I5=e=>typeof e=="string",vv=e=>{if(kT(e)){Qh(e.length===4);const[t,n,r,o]=e;return Rs(t,n,r,o)}else if(I5(e))return _5[e];return e},nu=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"],bv={value:null};function P5(e,t){let n=new Set,r=new Set,o=!1,l=!1;const u=new WeakSet;let f={delta:0,timestamp:0,isProcessing:!1},h=0;function d(g){u.has(g)&&(m.schedule(g),e()),h++,g(f)}const m={schedule:(g,T=!1,S=!1)=>{const k=S&&o?n:r;return T&&u.add(g),k.has(g)||k.add(g),g},cancel:g=>{r.delete(g),u.delete(g)},process:g=>{if(f=g,o){l=!0;return}o=!0,[n,r]=[r,n],n.forEach(d),t&&bv.value&&bv.value.frameloop[t].push(h),h=0,n.clear(),o=!1,l&&(l=!1,m.process(g))}};return m}const L5=40;function DT(e,t){let n=!1,r=!0;const o={delta:0,timestamp:0,isProcessing:!1},l=()=>n=!0,u=nu.reduce((P,z)=>(P[z]=P5(l,t?z:void 0),P),{}),{setup:f,read:h,resolveKeyframes:d,preUpdate:m,update:g,preRender:T,render:S,postRender:E}=u,k=()=>{const P=Ci.useManualTiming?o.timestamp:performance.now();n=!1,Ci.useManualTiming||(o.delta=r?1e3/60:Math.max(Math.min(P-o.timestamp,L5),1)),o.timestamp=P,o.isProcessing=!0,f.process(o),h.process(o),d.process(o),m.process(o),g.process(o),T.process(o),S.process(o),E.process(o),o.isProcessing=!1,n&&t&&(r=!1,e(k))},R=()=>{n=!0,r=!0,o.isProcessing||e(k)};return{schedule:nu.reduce((P,z)=>{const F=u[z];return P[z]=(H,se=!1,ae=!1)=>(n||R(),F.schedule(H,se,ae)),P},{}),cancel:P=>{for(let z=0;z<nu.length;z++)u[nu[z]].cancel(P)},state:o,steps:u}}const{schedule:ct,cancel:nr,state:Lt,steps:wd}=DT(typeof requestAnimationFrame<"u"?requestAnimationFrame:Vn,!0);let du;function V5(){du=void 0}const on={now:()=>(du===void 0&&on.set(Lt.isProcessing||Ci.useManualTiming?Lt.timestamp:performance.now()),du),set:e=>{du=e,queueMicrotask(V5)}},NT=e=>t=>typeof t=="string"&&t.startsWith(e),tm=NT("--"),B5=NT("var(--"),nm=e=>B5(e)?O5.test(e.split("/*")[0].trim()):!1,O5=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Ya={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},vs={...Ya,transform:e=>Si(0,1,e)},iu={...Ya,default:1},us=e=>Math.round(e*1e5)/1e5,im=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function j5(e){return e==null}const U5=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,rm=(e,t)=>n=>!!(typeof n=="string"&&U5.test(n)&&n.startsWith(e)||t&&!j5(n)&&Object.prototype.hasOwnProperty.call(n,t)),RT=(e,t,n)=>r=>{if(typeof r!="string")return r;const[o,l,u,f]=r.match(im);return{[e]:parseFloat(o),[t]:parseFloat(l),[n]:parseFloat(u),alpha:f!==void 0?parseFloat(f):1}},z5=e=>Si(0,255,e),Ed={...Ya,transform:e=>Math.round(z5(e))},Lr={test:rm("rgb","red"),parse:RT("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:r=1})=>"rgba("+Ed.transform(e)+", "+Ed.transform(t)+", "+Ed.transform(n)+", "+us(vs.transform(r))+")"};function F5(e){let t="",n="",r="",o="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),r=e.substring(5,7),o=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),r=e.substring(3,4),o=e.substring(4,5),t+=t,n+=n,r+=r,o+=o),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:o?parseInt(o,16)/255:1}}const ah={test:rm("#"),parse:F5,transform:Lr.transform},_s=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),Zi=_s("deg"),ti=_s("%"),ke=_s("px"),H5=_s("vh"),q5=_s("vw"),Tv={...ti,parse:e=>ti.parse(e)/100,transform:e=>ti.transform(e*100)},Pa={test:rm("hsl","hue"),parse:RT("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:r=1})=>"hsla("+Math.round(e)+", "+ti.transform(us(t))+", "+ti.transform(us(n))+", "+us(vs.transform(r))+")"},Ct={test:e=>Lr.test(e)||ah.test(e)||Pa.test(e),parse:e=>Lr.test(e)?Lr.parse(e):Pa.test(e)?Pa.parse(e):ah.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?Lr.transform(e):Pa.transform(e),getAnimatableNone:e=>{const t=Ct.parse(e);return t.alpha=0,Ct.transform(t)}},G5=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function Y5(e){var t,n;return isNaN(e)&&typeof e=="string"&&(((t=e.match(im))==null?void 0:t.length)||0)+(((n=e.match(G5))==null?void 0:n.length)||0)>0}const _T="number",IT="color",$5="var",K5="var(",Sv="${}",X5=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function bs(e){const t=e.toString(),n=[],r={color:[],number:[],var:[]},o=[];let l=0;const f=t.replace(X5,h=>(Ct.test(h)?(r.color.push(l),o.push(IT),n.push(Ct.parse(h))):h.startsWith(K5)?(r.var.push(l),o.push($5),n.push(h)):(r.number.push(l),o.push(_T),n.push(parseFloat(h))),++l,Sv)).split(Sv);return{values:n,split:f,indexes:r,types:o}}function PT(e){return bs(e).values}function LT(e){const{split:t,types:n}=bs(e),r=t.length;return o=>{let l="";for(let u=0;u<r;u++)if(l+=t[u],o[u]!==void 0){const f=n[u];f===_T?l+=us(o[u]):f===IT?l+=Ct.transform(o[u]):l+=o[u]}return l}}const Q5=e=>typeof e=="number"?0:Ct.test(e)?Ct.getAnimatableNone(e):e;function J5(e){const t=PT(e);return LT(e)(t.map(Q5))}const ir={test:Y5,parse:PT,createTransformer:LT,getAnimatableNone:J5};function Ad(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function Z5({hue:e,saturation:t,lightness:n,alpha:r}){e/=360,t/=100,n/=100;let o=0,l=0,u=0;if(!t)o=l=u=n;else{const f=n<.5?n*(1+t):n+t-n*t,h=2*n-f;o=Ad(h,f,e+1/3),l=Ad(h,f,e),u=Ad(h,f,e-1/3)}return{red:Math.round(o*255),green:Math.round(l*255),blue:Math.round(u*255),alpha:r}}function Au(e,t){return n=>n>0?t:e}const ut=(e,t,n)=>e+(t-e)*n,Md=(e,t,n)=>{const r=e*e,o=n*(t*t-r)+r;return o<0?0:Math.sqrt(o)},W5=[ah,Lr,Pa],eP=e=>W5.find(t=>t.test(e));function Cv(e){const t=eP(e);if(!t)return!1;let n=t.parse(e);return t===Pa&&(n=Z5(n)),n}const wv=(e,t)=>{const n=Cv(e),r=Cv(t);if(!n||!r)return Au(e,t);const o={...n};return l=>(o.red=Md(n.red,r.red,l),o.green=Md(n.green,r.green,l),o.blue=Md(n.blue,r.blue,l),o.alpha=ut(n.alpha,r.alpha,l),Lr.transform(o))},oh=new Set(["none","hidden"]);function tP(e,t){return oh.has(e)?n=>n<=0?e:t:n=>n>=1?t:e}function nP(e,t){return n=>ut(e,t,n)}function am(e){return typeof e=="number"?nP:typeof e=="string"?nm(e)?Au:Ct.test(e)?wv:aP:Array.isArray(e)?VT:typeof e=="object"?Ct.test(e)?wv:iP:Au}function VT(e,t){const n=[...e],r=n.length,o=e.map((l,u)=>am(l)(l,t[u]));return l=>{for(let u=0;u<r;u++)n[u]=o[u](l);return n}}function iP(e,t){const n={...e,...t},r={};for(const o in n)e[o]!==void 0&&t[o]!==void 0&&(r[o]=am(e[o])(e[o],t[o]));return o=>{for(const l in r)n[l]=r[l](o);return n}}function rP(e,t){const n=[],r={color:0,var:0,number:0};for(let o=0;o<t.values.length;o++){const l=t.types[o],u=e.indexes[l][r[l]],f=e.values[u]??0;n[o]=f,r[l]++}return n}const aP=(e,t)=>{const n=ir.createTransformer(t),r=bs(e),o=bs(t);return r.indexes.var.length===o.indexes.var.length&&r.indexes.color.length===o.indexes.color.length&&r.indexes.number.length>=o.indexes.number.length?oh.has(e)&&!o.values.length||oh.has(t)&&!r.values.length?tP(e,t):Ns(VT(rP(r,o),o.values),n):Au(e,t)};function BT(e,t,n){return typeof e=="number"&&typeof t=="number"&&typeof n=="number"?ut(e,t,n):am(e)(e,t)}const oP=e=>{const t=({timestamp:n})=>e(n);return{start:(n=!0)=>ct.update(t,n),stop:()=>nr(t),now:()=>Lt.isProcessing?Lt.timestamp:on.now()}},OT=(e,t,n=10)=>{let r="";const o=Math.max(Math.round(t/n),2);for(let l=0;l<o;l++)r+=Math.round(e(l/(o-1))*1e4)/1e4+", ";return`linear(${r.substring(0,r.length-2)})`},Mu=2e4;function om(e){let t=0;const n=50;let r=e.next(t);for(;!r.done&&t<Mu;)t+=n,r=e.next(t);return t>=Mu?1/0:t}function sP(e,t=100,n){const r=n({...e,keyframes:[0,t]}),o=Math.min(om(r),Mu);return{type:"keyframes",ease:l=>r.next(o*l).value/t,duration:ei(o)}}const lP=5;function jT(e,t,n){const r=Math.max(t-lP,0);return xT(n-e(r),t-r)}const ht={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},kd=.001;function uP({duration:e=ht.duration,bounce:t=ht.bounce,velocity:n=ht.velocity,mass:r=ht.mass}){let o,l,u=1-t;u=Si(ht.minDamping,ht.maxDamping,u),e=Si(ht.minDuration,ht.maxDuration,ei(e)),u<1?(o=d=>{const m=d*u,g=m*e,T=m-n,S=sh(d,u),E=Math.exp(-g);return kd-T/S*E},l=d=>{const g=d*u*e,T=g*n+n,S=Math.pow(u,2)*Math.pow(d,2)*e,E=Math.exp(-g),k=sh(Math.pow(d,2),u);return(-o(d)+kd>0?-1:1)*((T-S)*E)/k}):(o=d=>{const m=Math.exp(-d*e),g=(d-n)*e+1;return-kd+m*g},l=d=>{const m=Math.exp(-d*e),g=(n-d)*(e*e);return m*g});const f=5/e,h=fP(o,l,f);if(e=Wn(e),isNaN(h))return{stiffness:ht.stiffness,damping:ht.damping,duration:e};{const d=Math.pow(h,2)*r;return{stiffness:d,damping:u*2*Math.sqrt(r*d),duration:e}}}const cP=12;function fP(e,t,n){let r=n;for(let o=1;o<cP;o++)r=r-e(r)/t(r);return r}function sh(e,t){return e*Math.sqrt(1-t*t)}const dP=["duration","bounce"],hP=["stiffness","damping","mass"];function Ev(e,t){return t.some(n=>e[n]!==void 0)}function mP(e){let t={velocity:ht.velocity,stiffness:ht.stiffness,damping:ht.damping,mass:ht.mass,isResolvedFromDuration:!1,...e};if(!Ev(e,hP)&&Ev(e,dP))if(e.visualDuration){const n=e.visualDuration,r=2*Math.PI/(n*1.2),o=r*r,l=2*Si(.05,1,1-(e.bounce||0))*Math.sqrt(o);t={...t,mass:ht.mass,stiffness:o,damping:l}}else{const n=uP(e);t={...t,...n,mass:ht.mass},t.isResolvedFromDuration=!0}return t}function ku(e=ht.visualDuration,t=ht.bounce){const n=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:r,restDelta:o}=n;const l=n.keyframes[0],u=n.keyframes[n.keyframes.length-1],f={done:!1,value:l},{stiffness:h,damping:d,mass:m,duration:g,velocity:T,isResolvedFromDuration:S}=mP({...n,velocity:-ei(n.velocity||0)}),E=T||0,k=d/(2*Math.sqrt(h*m)),R=u-l,D=ei(Math.sqrt(h/m)),B=Math.abs(R)<5;r||(r=B?ht.restSpeed.granular:ht.restSpeed.default),o||(o=B?ht.restDelta.granular:ht.restDelta.default);let P;if(k<1){const F=sh(D,k);P=H=>{const se=Math.exp(-k*D*H);return u-se*((E+k*D*R)/F*Math.sin(F*H)+R*Math.cos(F*H))}}else if(k===1)P=F=>u-Math.exp(-D*F)*(R+(E+D*R)*F);else{const F=D*Math.sqrt(k*k-1);P=H=>{const se=Math.exp(-k*D*H),ae=Math.min(F*H,300);return u-se*((E+k*D*R)*Math.sinh(ae)+F*R*Math.cosh(ae))/F}}const z={calculatedDuration:S&&g||null,next:F=>{const H=P(F);if(S)f.done=F>=g;else{let se=F===0?E:0;k<1&&(se=F===0?Wn(E):jT(P,F,H));const ae=Math.abs(se)<=r,pe=Math.abs(u-H)<=o;f.done=ae&&pe}return f.value=f.done?u:H,f},toString:()=>{const F=Math.min(om(z),Mu),H=OT(se=>z.next(F*se).value,F,30);return F+"ms "+H},toTransition:()=>{}};return z}ku.applyToOptions=e=>{const t=sP(e,100,ku);return e.ease=t.ease,e.duration=Wn(t.duration),e.type="keyframes",e};function lh({keyframes:e,velocity:t=0,power:n=.8,timeConstant:r=325,bounceDamping:o=10,bounceStiffness:l=500,modifyTarget:u,min:f,max:h,restDelta:d=.5,restSpeed:m}){const g=e[0],T={done:!1,value:g},S=ae=>f!==void 0&&ae<f||h!==void 0&&ae>h,E=ae=>f===void 0?h:h===void 0||Math.abs(f-ae)<Math.abs(h-ae)?f:h;let k=n*t;const R=g+k,D=u===void 0?R:u(R);D!==R&&(k=D-g);const B=ae=>-k*Math.exp(-ae/r),P=ae=>D+B(ae),z=ae=>{const pe=B(ae),L=P(ae);T.done=Math.abs(pe)<=d,T.value=T.done?D:L};let F,H;const se=ae=>{S(T.value)&&(F=ae,H=ku({keyframes:[T.value,E(T.value)],velocity:jT(P,ae,T.value),damping:o,stiffness:l,restDelta:d,restSpeed:m}))};return se(0),{calculatedDuration:null,next:ae=>{let pe=!1;return!H&&F===void 0&&(pe=!0,z(ae),se(ae)),F!==void 0&&ae>=F?H.next(ae-F):(!pe&&z(ae),T)}}}function pP(e,t,n){const r=[],o=n||Ci.mix||BT,l=e.length-1;for(let u=0;u<l;u++){let f=o(e[u],e[u+1]);if(t){const h=Array.isArray(t)?t[u]||Vn:t;f=Ns(h,f)}r.push(f)}return r}function gP(e,t,{clamp:n=!0,ease:r,mixer:o}={}){const l=e.length;if(Qh(l===t.length),l===1)return()=>t[0];if(l===2&&t[0]===t[1])return()=>t[1];const u=e[0]===e[1];e[0]>e[l-1]&&(e=[...e].reverse(),t=[...t].reverse());const f=pP(t,r,o),h=f.length,d=m=>{if(u&&m<e[0])return t[0];let g=0;if(h>1)for(;g<e.length-2&&!(m<e[g+1]);g++);const T=xs(e[g],e[g+1],m);return f[g](T)};return n?m=>d(Si(e[0],e[l-1],m)):d}function yP(e,t){const n=e[e.length-1];for(let r=1;r<=t;r++){const o=xs(0,t,r);e.push(ut(n,1,o))}}function xP(e){const t=[0];return yP(t,e.length-1),t}function vP(e,t){return e.map(n=>n*t)}function bP(e,t){return e.map(()=>t||MT).splice(0,e.length-1)}function cs({duration:e=300,keyframes:t,times:n,ease:r="easeInOut"}){const o=R5(r)?r.map(vv):vv(r),l={done:!1,value:t[0]},u=vP(n&&n.length===t.length?n:xP(t),e),f=gP(u,t,{ease:Array.isArray(o)?o:bP(t,o)});return{calculatedDuration:e,next:h=>(l.value=f(h),l.done=h>=e,l)}}const TP=e=>e!==null;function sm(e,{repeat:t,repeatType:n="loop"},r,o=1){const l=e.filter(TP),f=o<0||t&&n!=="loop"&&t%2===1?0:l.length-1;return!f||r===void 0?l[f]:r}const SP={decay:lh,inertia:lh,tween:cs,keyframes:cs,spring:ku};function UT(e){typeof e.type=="string"&&(e.type=SP[e.type])}class lm{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,n){return this.finished.then(t,n)}}const CP=e=>e/100;class um extends lm{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var r,o;const{motionValue:n}=this.options;n&&n.updatedAt!==on.now()&&this.tick(on.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(o=(r=this.options).onStop)==null||o.call(r))},this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){const{options:t}=this;UT(t);const{type:n=cs,repeat:r=0,repeatDelay:o=0,repeatType:l,velocity:u=0}=t;let{keyframes:f}=t;const h=n||cs;h!==cs&&typeof f[0]!="number"&&(this.mixKeyframes=Ns(CP,BT(f[0],f[1])),f=[0,100]);const d=h({...t,keyframes:f});l==="mirror"&&(this.mirroredGenerator=h({...t,keyframes:[...f].reverse(),velocity:-u})),d.calculatedDuration===null&&(d.calculatedDuration=om(d));const{calculatedDuration:m}=d;this.calculatedDuration=m,this.resolvedDuration=m+o,this.totalDuration=this.resolvedDuration*(r+1)-o,this.generator=d}updateTime(t){const n=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(t,n=!1){const{generator:r,totalDuration:o,mixKeyframes:l,mirroredGenerator:u,resolvedDuration:f,calculatedDuration:h}=this;if(this.startTime===null)return r.next(0);const{delay:d=0,keyframes:m,repeat:g,repeatType:T,repeatDelay:S,type:E,onUpdate:k,finalKeyframe:R}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-o/this.speed,this.startTime)),n?this.currentTime=t:this.updateTime(t);const D=this.currentTime-d*(this.playbackSpeed>=0?1:-1),B=this.playbackSpeed>=0?D<0:D>o;this.currentTime=Math.max(D,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=o);let P=this.currentTime,z=r;if(g){const ae=Math.min(this.currentTime,o)/f;let pe=Math.floor(ae),L=ae%1;!L&&ae>=1&&(L=1),L===1&&pe--,pe=Math.min(pe,g+1),!!(pe%2)&&(T==="reverse"?(L=1-L,S&&(L-=S/f)):T==="mirror"&&(z=u)),P=Si(0,1,L)*f}const F=B?{done:!1,value:m[0]}:z.next(P);l&&(F.value=l(F.value));let{done:H}=F;!B&&h!==null&&(H=this.playbackSpeed>=0?this.currentTime>=o:this.currentTime<=0);const se=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&H);return se&&E!==lh&&(F.value=sm(m,this.options,R,this.speed)),k&&k(F.value),se&&this.finish(),F}then(t,n){return this.finished.then(t,n)}get duration(){return ei(this.calculatedDuration)}get time(){return ei(this.currentTime)}set time(t){var n;t=Wn(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed),(n=this.driver)==null||n.start(!1)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(on.now());const n=this.playbackSpeed!==t;this.playbackSpeed=t,n&&(this.time=ei(this.currentTime))}play(){var o,l;if(this.isStopped)return;const{driver:t=oP,startTime:n}=this.options;this.driver||(this.driver=t(u=>this.tick(u))),(l=(o=this.options).onPlay)==null||l.call(o);const r=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=r):this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime||(this.startTime=n??r),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(on.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var t,n;this.notifyFinished(),this.teardown(),this.state="finished",(n=(t=this.options).onComplete)==null||n.call(t)}cancel(){var t,n;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(n=(t=this.options).onCancel)==null||n.call(t)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){var n;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(n=this.driver)==null||n.stop(),t.observe(this)}}function wP(e){for(let t=1;t<e.length;t++)e[t]??(e[t]=e[t-1])}const Vr=e=>e*180/Math.PI,uh=e=>{const t=Vr(Math.atan2(e[1],e[0]));return ch(t)},EP={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:uh,rotateZ:uh,skewX:e=>Vr(Math.atan(e[1])),skewY:e=>Vr(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},ch=e=>(e=e%360,e<0&&(e+=360),e),Av=uh,Mv=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),kv=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),AP={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:Mv,scaleY:kv,scale:e=>(Mv(e)+kv(e))/2,rotateX:e=>ch(Vr(Math.atan2(e[6],e[5]))),rotateY:e=>ch(Vr(Math.atan2(-e[2],e[0]))),rotateZ:Av,rotate:Av,skewX:e=>Vr(Math.atan(e[4])),skewY:e=>Vr(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function fh(e){return e.includes("scale")?1:0}function dh(e,t){if(!e||e==="none")return fh(t);const n=e.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,o;if(n)r=AP,o=n;else{const f=e.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=EP,o=f}if(!o)return fh(t);const l=r[t],u=o[1].split(",").map(kP);return typeof l=="function"?l(u):u[l]}const MP=(e,t)=>{const{transform:n="none"}=getComputedStyle(e);return dh(n,t)};function kP(e){return parseFloat(e.trim())}const $a=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Ka=new Set($a),Dv=e=>e===Ya||e===ke,DP=new Set(["x","y","z"]),NP=$a.filter(e=>!DP.has(e));function RP(e){const t=[];return NP.forEach(n=>{const r=e.getValue(n);r!==void 0&&(t.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),t}const Br={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:(e,{transform:t})=>dh(t,"x"),y:(e,{transform:t})=>dh(t,"y")};Br.translateX=Br.x;Br.translateY=Br.y;const Or=new Set;let hh=!1,mh=!1,ph=!1;function zT(){if(mh){const e=Array.from(Or).filter(r=>r.needsMeasurement),t=new Set(e.map(r=>r.element)),n=new Map;t.forEach(r=>{const o=RP(r);o.length&&(n.set(r,o),r.render())}),e.forEach(r=>r.measureInitialState()),t.forEach(r=>{r.render();const o=n.get(r);o&&o.forEach(([l,u])=>{var f;(f=r.getValue(l))==null||f.set(u)})}),e.forEach(r=>r.measureEndState()),e.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}mh=!1,hh=!1,Or.forEach(e=>e.complete(ph)),Or.clear()}function FT(){Or.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(mh=!0)})}function _P(){ph=!0,FT(),zT(),ph=!1}class cm{constructor(t,n,r,o,l,u=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...t],this.onComplete=n,this.name=r,this.motionValue=o,this.element=l,this.isAsync=u}scheduleResolve(){this.state="scheduled",this.isAsync?(Or.add(this),hh||(hh=!0,ct.read(FT),ct.resolveKeyframes(zT))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:n,element:r,motionValue:o}=this;if(t[0]===null){const l=o==null?void 0:o.get(),u=t[t.length-1];if(l!==void 0)t[0]=l;else if(r&&n){const f=r.readValue(n,u);f!=null&&(t[0]=f)}t[0]===void 0&&(t[0]=u),o&&l===void 0&&o.set(t[0])}wP(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),Or.delete(this)}cancel(){this.state==="scheduled"&&(Or.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const IP=e=>e.startsWith("--");function PP(e,t,n){IP(t)?e.style.setProperty(t,n):e.style[t]=n}const LP=Jh(()=>window.ScrollTimeline!==void 0),VP={};function BP(e,t){const n=Jh(e);return()=>VP[t]??n()}const HT=BP(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),rs=([e,t,n,r])=>`cubic-bezier(${e}, ${t}, ${n}, ${r})`,Nv={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:rs([0,.65,.55,1]),circOut:rs([.55,0,1,.45]),backIn:rs([.31,.01,.66,-.59]),backOut:rs([.33,1.53,.69,.99])};function qT(e,t){if(e)return typeof e=="function"?HT()?OT(e,t):"ease-out":kT(e)?rs(e):Array.isArray(e)?e.map(n=>qT(n,t)||Nv.easeOut):Nv[e]}function OP(e,t,n,{delay:r=0,duration:o=300,repeat:l=0,repeatType:u="loop",ease:f="easeOut",times:h}={},d=void 0){const m={[t]:n};h&&(m.offset=h);const g=qT(f,o);Array.isArray(g)&&(m.easing=g);const T={delay:r,duration:o,easing:Array.isArray(g)?"linear":g,fill:"both",iterations:l+1,direction:u==="reverse"?"alternate":"normal"};return d&&(T.pseudoElement=d),e.animate(m,T)}function GT(e){return typeof e=="function"&&"applyToOptions"in e}function jP({type:e,...t}){return GT(e)&&HT()?e.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}class UP extends lm{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,!t)return;const{element:n,name:r,keyframes:o,pseudoElement:l,allowFlatten:u=!1,finalKeyframe:f,onComplete:h}=t;this.isPseudoElement=!!l,this.allowFlatten=u,this.options=t,Qh(typeof t.type!="string");const d=jP(t);this.animation=OP(n,r,o,d,l),d.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!l){const m=sm(o,this.options,f,this.speed);this.updateMotionValue?this.updateMotionValue(m):PP(n,r,m),this.animation.cancel()}h==null||h(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var t,n;(n=(t=this.animation).finish)==null||n.call(t)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var t,n;this.isPseudoElement||(n=(t=this.animation).commitStyles)==null||n.call(t)}get duration(){var n,r;const t=((r=(n=this.animation.effect)==null?void 0:n.getComputedTiming)==null?void 0:r.call(n).duration)||0;return ei(Number(t))}get time(){return ei(Number(this.animation.currentTime)||0)}set time(t){this.finishedTime=null,this.animation.currentTime=Wn(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(t){this.animation.startTime=t}attachTimeline({timeline:t,observe:n}){var r;return this.allowFlatten&&((r=this.animation.effect)==null||r.updateTiming({easing:"linear"})),this.animation.onfinish=null,t&&LP()?(this.animation.timeline=t,Vn):n(this)}}const YT={anticipate:wT,backInOut:CT,circInOut:AT};function zP(e){return e in YT}function FP(e){typeof e.ease=="string"&&zP(e.ease)&&(e.ease=YT[e.ease])}const Rv=10;class HP extends UP{constructor(t){FP(t),UT(t),super(t),t.startTime&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const{motionValue:n,onUpdate:r,onComplete:o,element:l,...u}=this.options;if(!n)return;if(t!==void 0){n.set(t);return}const f=new um({...u,autoplay:!1}),h=Wn(this.finishedTime??this.time);n.setWithVelocity(f.sample(h-Rv).value,f.sample(h).value,Rv),f.stop()}}const _v=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(ir.test(e)||e==="0")&&!e.startsWith("url("));function qP(e){const t=e[0];if(e.length===1)return!0;for(let n=0;n<e.length;n++)if(e[n]!==t)return!0}function GP(e,t,n,r){const o=e[0];if(o===null)return!1;if(t==="display"||t==="visibility")return!0;const l=e[e.length-1],u=_v(o,t),f=_v(l,t);return!u||!f?!1:qP(e)||(n==="spring"||GT(n))&&r}function $T(e){return gT(e)&&"offsetHeight"in e}const YP=new Set(["opacity","clipPath","filter","transform"]),$P=Jh(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function KP(e){var d;const{motionValue:t,name:n,repeatDelay:r,repeatType:o,damping:l,type:u}=e;if(!$T((d=t==null?void 0:t.owner)==null?void 0:d.current))return!1;const{onUpdate:f,transformTemplate:h}=t.owner.getProps();return $P()&&n&&YP.has(n)&&(n!=="transform"||!h)&&!f&&!r&&o!=="mirror"&&l!==0&&u!=="inertia"}const XP=40;class QP extends lm{constructor({autoplay:t=!0,delay:n=0,type:r="keyframes",repeat:o=0,repeatDelay:l=0,repeatType:u="loop",keyframes:f,name:h,motionValue:d,element:m,...g}){var E;super(),this.stop=()=>{var k,R;this._animation&&(this._animation.stop(),(k=this.stopTimeline)==null||k.call(this)),(R=this.keyframeResolver)==null||R.cancel()},this.createdAt=on.now();const T={autoplay:t,delay:n,type:r,repeat:o,repeatDelay:l,repeatType:u,name:h,motionValue:d,element:m,...g},S=(m==null?void 0:m.KeyframeResolver)||cm;this.keyframeResolver=new S(f,(k,R,D)=>this.onKeyframesResolved(k,R,T,!D),h,d,m),(E=this.keyframeResolver)==null||E.scheduleResolve()}onKeyframesResolved(t,n,r,o){this.keyframeResolver=void 0;const{name:l,type:u,velocity:f,delay:h,isHandoff:d,onUpdate:m}=r;this.resolvedAt=on.now(),GP(t,l,u,f)||((Ci.instantAnimations||!h)&&(m==null||m(sm(t,r,n))),t[0]=t[t.length-1],r.duration=0,r.repeat=0);const T={startTime:o?this.resolvedAt?this.resolvedAt-this.createdAt>XP?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...r,keyframes:t},S=!d&&KP(T)?new HP({...T,element:T.motionValue.owner.current}):new um(T);S.finished.then(()=>this.notifyFinished()).catch(Vn),this.pendingTimeline&&(this.stopTimeline=S.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=S}get finished(){return this._animation?this.animation.finished:this._finished}then(t,n){return this.finished.finally(t).then(()=>{})}get animation(){var t;return this._animation||((t=this.keyframeResolver)==null||t.resume(),_P()),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var t;this._animation&&this.animation.cancel(),(t=this.keyframeResolver)==null||t.cancel()}}const JP=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function ZP(e){const t=JP.exec(e);if(!t)return[,];const[,n,r,o]=t;return[`--${n??r}`,o]}function KT(e,t,n=1){const[r,o]=ZP(e);if(!r)return;const l=window.getComputedStyle(t).getPropertyValue(r);if(l){const u=l.trim();return pT(u)?parseFloat(u):u}return nm(o)?KT(o,t,n+1):o}function fm(e,t){return(e==null?void 0:e[t])??(e==null?void 0:e.default)??e}const XT=new Set(["width","height","top","left","right","bottom",...$a]),WP={test:e=>e==="auto",parse:e=>e},QT=e=>t=>t.test(e),JT=[Ya,ke,ti,Zi,q5,H5,WP],Iv=e=>JT.find(QT(e));function eL(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||yT(e):!0}const tL=new Set(["brightness","contrast","saturate","opacity"]);function nL(e){const[t,n]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[r]=n.match(im)||[];if(!r)return e;const o=n.replace(r,"");let l=tL.has(t)?1:0;return r!==n&&(l*=100),t+"("+l+o+")"}const iL=/\b([a-z-]*)\(.*?\)/gu,gh={...ir,getAnimatableNone:e=>{const t=e.match(iL);return t?t.map(nL).join(" "):e}},Pv={...Ya,transform:Math.round},rL={rotate:Zi,rotateX:Zi,rotateY:Zi,rotateZ:Zi,scale:iu,scaleX:iu,scaleY:iu,scaleZ:iu,skew:Zi,skewX:Zi,skewY:Zi,distance:ke,translateX:ke,translateY:ke,translateZ:ke,x:ke,y:ke,z:ke,perspective:ke,transformPerspective:ke,opacity:vs,originX:Tv,originY:Tv,originZ:ke},dm={borderWidth:ke,borderTopWidth:ke,borderRightWidth:ke,borderBottomWidth:ke,borderLeftWidth:ke,borderRadius:ke,radius:ke,borderTopLeftRadius:ke,borderTopRightRadius:ke,borderBottomRightRadius:ke,borderBottomLeftRadius:ke,width:ke,maxWidth:ke,height:ke,maxHeight:ke,top:ke,right:ke,bottom:ke,left:ke,padding:ke,paddingTop:ke,paddingRight:ke,paddingBottom:ke,paddingLeft:ke,margin:ke,marginTop:ke,marginRight:ke,marginBottom:ke,marginLeft:ke,backgroundPositionX:ke,backgroundPositionY:ke,...rL,zIndex:Pv,fillOpacity:vs,strokeOpacity:vs,numOctaves:Pv},aL={...dm,color:Ct,backgroundColor:Ct,outlineColor:Ct,fill:Ct,stroke:Ct,borderColor:Ct,borderTopColor:Ct,borderRightColor:Ct,borderBottomColor:Ct,borderLeftColor:Ct,filter:gh,WebkitFilter:gh},ZT=e=>aL[e];function WT(e,t){let n=ZT(e);return n!==gh&&(n=ir),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const oL=new Set(["auto","none","0"]);function sL(e,t,n){let r=0,o;for(;r<e.length&&!o;){const l=e[r];typeof l=="string"&&!oL.has(l)&&bs(l).values.length&&(o=e[r]),r++}if(o&&n)for(const l of t)e[l]=WT(n,o)}class lL extends cm{constructor(t,n,r,o,l){super(t,n,r,o,l,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let h=0;h<t.length;h++){let d=t[h];if(typeof d=="string"&&(d=d.trim(),nm(d))){const m=KT(d,n.current);m!==void 0&&(t[h]=m),h===t.length-1&&(this.finalKeyframe=d)}}if(this.resolveNoneKeyframes(),!XT.has(r)||t.length!==2)return;const[o,l]=t,u=Iv(o),f=Iv(l);if(u!==f)if(Dv(u)&&Dv(f))for(let h=0;h<t.length;h++){const d=t[h];typeof d=="string"&&(t[h]=parseFloat(d))}else Br[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:n}=this,r=[];for(let o=0;o<t.length;o++)(t[o]===null||eL(t[o]))&&r.push(o);r.length&&sL(t,r,n)}measureInitialState(){const{element:t,unresolvedKeyframes:n,name:r}=this;if(!t||!t.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Br[r](t.measureViewportBox(),window.getComputedStyle(t.current)),n[0]=this.measuredOrigin;const o=n[n.length-1];o!==void 0&&t.getValue(r,o).jump(o,!1)}measureEndState(){var f;const{element:t,name:n,unresolvedKeyframes:r}=this;if(!t||!t.current)return;const o=t.getValue(n);o&&o.jump(this.measuredOrigin,!1);const l=r.length-1,u=r[l];r[l]=Br[n](t.measureViewportBox(),window.getComputedStyle(t.current)),u!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=u),(f=this.removedTransforms)!=null&&f.length&&this.removedTransforms.forEach(([h,d])=>{t.getValue(h).set(d)}),this.resolveNoneKeyframes()}}function uL(e,t,n){if(e instanceof EventTarget)return[e];if(typeof e=="string"){let r=document;const o=(n==null?void 0:n[e])??r.querySelectorAll(e);return o?Array.from(o):[]}return Array.from(e)}const eS=(e,t)=>t&&typeof e=="number"?t.transform(e):e,Lv=30,cL=e=>!isNaN(parseFloat(e));class fL{constructor(t,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=(r,o=!0)=>{var u,f;const l=on.now();if(this.updatedAt!==l&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&((u=this.events.change)==null||u.notify(this.current),this.dependents))for(const h of this.dependents)h.dirty();o&&((f=this.events.renderRequest)==null||f.notify(this.current))},this.hasAnimated=!1,this.setCurrent(t),this.owner=n.owner}setCurrent(t){this.current=t,this.updatedAt=on.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=cL(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,n){this.events[t]||(this.events[t]=new Zh);const r=this.events[t].add(n);return t==="change"?()=>{r(),ct.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,n){this.passiveEffect=t,this.stopPassiveEffect=n}set(t,n=!0){!n||!this.passiveEffect?this.updateAndNotify(t,n):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-r}jump(t,n=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var t;(t=this.events.change)==null||t.notify(this.current)}addDependent(t){this.dependents||(this.dependents=new Set),this.dependents.add(t)}removeDependent(t){this.dependents&&this.dependents.delete(t)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=on.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>Lv)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,Lv);return xT(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(t){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=t(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var t,n;(t=this.dependents)==null||t.clear(),(n=this.events.destroy)==null||n.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function za(e,t){return new fL(e,t)}const{schedule:hm}=DT(queueMicrotask,!1),Fn={x:!1,y:!1};function tS(){return Fn.x||Fn.y}function dL(e){return e==="x"||e==="y"?Fn[e]?null:(Fn[e]=!0,()=>{Fn[e]=!1}):Fn.x||Fn.y?null:(Fn.x=Fn.y=!0,()=>{Fn.x=Fn.y=!1})}function nS(e,t){const n=uL(e),r=new AbortController,o={passive:!0,...t,signal:r.signal};return[n,o,()=>r.abort()]}function Vv(e){return!(e.pointerType==="touch"||tS())}function hL(e,t,n={}){const[r,o,l]=nS(e,n),u=f=>{if(!Vv(f))return;const{target:h}=f,d=t(h,f);if(typeof d!="function"||!h)return;const m=g=>{Vv(g)&&(d(g),h.removeEventListener("pointerleave",m))};h.addEventListener("pointerleave",m,o)};return r.forEach(f=>{f.addEventListener("pointerenter",u,o)}),l}const iS=(e,t)=>t?e===t?!0:iS(e,t.parentElement):!1,mm=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,mL=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function pL(e){return mL.has(e.tagName)||e.tabIndex!==-1}const hu=new WeakSet;function Bv(e){return t=>{t.key==="Enter"&&e(t)}}function Dd(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const gL=(e,t)=>{const n=e.currentTarget;if(!n)return;const r=Bv(()=>{if(hu.has(n))return;Dd(n,"down");const o=Bv(()=>{Dd(n,"up")}),l=()=>Dd(n,"cancel");n.addEventListener("keyup",o,t),n.addEventListener("blur",l,t)});n.addEventListener("keydown",r,t),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),t)};function Ov(e){return mm(e)&&!tS()}function yL(e,t,n={}){const[r,o,l]=nS(e,n),u=f=>{const h=f.currentTarget;if(!Ov(f))return;hu.add(h);const d=t(h,f),m=(S,E)=>{window.removeEventListener("pointerup",g),window.removeEventListener("pointercancel",T),hu.has(h)&&hu.delete(h),Ov(S)&&typeof d=="function"&&d(S,{success:E})},g=S=>{m(S,h===window||h===document||n.useGlobalTarget||iS(h,S.target))},T=S=>{m(S,!1)};window.addEventListener("pointerup",g,o),window.addEventListener("pointercancel",T,o)};return r.forEach(f=>{(n.useGlobalTarget?window:f).addEventListener("pointerdown",u,o),$T(f)&&(f.addEventListener("focus",d=>gL(d,o)),!pL(f)&&!f.hasAttribute("tabindex")&&(f.tabIndex=0))}),l}function rS(e){return gT(e)&&"ownerSVGElement"in e}function xL(e){return rS(e)&&e.tagName==="svg"}const Gt=e=>!!(e&&e.getVelocity),vL=[...JT,Ct,ir],bL=e=>vL.find(QT(e)),aS=re.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});function TL(e=!0){const t=re.useContext($h);if(t===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:o}=t,l=re.useId();re.useEffect(()=>{if(e)return o(l)},[e]);const u=re.useCallback(()=>e&&r&&r(l),[l,r,e]);return!n&&r?[!1,u]:[!0]}const oS=re.createContext({strict:!1}),jv={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Fa={};for(const e in jv)Fa[e]={isEnabled:t=>jv[e].some(n=>!!t[n])};function SL(e){for(const t in e)Fa[t]={...Fa[t],...e[t]}}const CL=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Du(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||CL.has(e)}let sS=e=>!Du(e);function wL(e){typeof e=="function"&&(sS=t=>t.startsWith("on")?!Du(t):e(t))}try{wL(require("@emotion/is-prop-valid").default)}catch{}function EL(e,t,n){const r={};for(const o in e)o==="values"&&typeof e.values=="object"||(sS(o)||n===!0&&Du(o)||!t&&!Du(o)||e.draggable&&o.startsWith("onDrag"))&&(r[o]=e[o]);return r}function AL(e){if(typeof Proxy>"u")return e;const t=new Map,n=(...r)=>e(...r);return new Proxy(n,{get:(r,o)=>o==="create"?e:(t.has(o)||t.set(o,e(o)),t.get(o))})}const ju=re.createContext({});function Uu(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}function Ts(e){return typeof e=="string"||Array.isArray(e)}const pm=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],gm=["initial",...pm];function zu(e){return Uu(e.animate)||gm.some(t=>Ts(e[t]))}function lS(e){return!!(zu(e)||e.variants)}function ML(e,t){if(zu(e)){const{initial:n,animate:r}=e;return{initial:n===!1||Ts(n)?n:void 0,animate:Ts(r)?r:void 0}}return e.inherit!==!1?t:{}}function kL(e){const{initial:t,animate:n}=ML(e,re.useContext(ju));return re.useMemo(()=>({initial:t,animate:n}),[Uv(t),Uv(n)])}function Uv(e){return Array.isArray(e)?e.join(" "):e}const DL=Symbol.for("motionComponentSymbol");function La(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function NL(e,t,n){return re.useCallback(r=>{r&&e.onMount&&e.onMount(r),t&&(r?t.mount(r):t.unmount()),n&&(typeof n=="function"?n(r):La(n)&&(n.current=r))},[t])}const ym=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),RL="framerAppearId",uS="data-"+ym(RL),cS=re.createContext({});function _L(e,t,n,r,o){var k,R;const{visualElement:l}=re.useContext(ju),u=re.useContext(oS),f=re.useContext($h),h=re.useContext(aS).reducedMotion,d=re.useRef(null);r=r||u.renderer,!d.current&&r&&(d.current=r(e,{visualState:t,parent:l,props:n,presenceContext:f,blockInitialAnimation:f?f.initial===!1:!1,reducedMotionConfig:h}));const m=d.current,g=re.useContext(cS);m&&!m.projection&&o&&(m.type==="html"||m.type==="svg")&&IL(d.current,n,o,g);const T=re.useRef(!1);re.useInsertionEffect(()=>{m&&T.current&&m.update(n,f)});const S=n[uS],E=re.useRef(!!S&&!((k=window.MotionHandoffIsComplete)!=null&&k.call(window,S))&&((R=window.MotionHasOptimisedAnimation)==null?void 0:R.call(window,S)));return w5(()=>{m&&(T.current=!0,window.MotionIsMounted=!0,m.updateFeatures(),hm.render(m.render),E.current&&m.animationState&&m.animationState.animateChanges())}),re.useEffect(()=>{m&&(!E.current&&m.animationState&&m.animationState.animateChanges(),E.current&&(queueMicrotask(()=>{var D;(D=window.MotionHandoffMarkAsComplete)==null||D.call(window,S)}),E.current=!1))}),m}function IL(e,t,n,r){const{layoutId:o,layout:l,drag:u,dragConstraints:f,layoutScroll:h,layoutRoot:d,layoutCrossfade:m}=t;e.projection=new n(e.latestValues,t["data-framer-portal-id"]?void 0:fS(e.parent)),e.projection.setOptions({layoutId:o,layout:l,alwaysMeasureLayout:!!u||f&&La(f),visualElement:e,animationType:typeof l=="string"?l:"both",initialPromotionConfig:r,crossfade:m,layoutScroll:h,layoutRoot:d})}function fS(e){if(e)return e.options.allowProjection!==!1?e.projection:fS(e.parent)}function PL({preloadedFeatures:e,createVisualElement:t,useRender:n,useVisualState:r,Component:o}){e&&SL(e);function l(f,h){let d;const m={...re.useContext(aS),...f,layoutId:LL(f)},{isStatic:g}=m,T=kL(f),S=r(f,g);if(!g&&Yh){VL();const E=BL(m);d=E.MeasureLayout,T.visualElement=_L(o,S,m,t,E.ProjectionNode)}return y.jsxs(ju.Provider,{value:T,children:[d&&T.visualElement?y.jsx(d,{visualElement:T.visualElement,...m}):null,n(o,f,NL(S,T.visualElement,h),S,g,T.visualElement)]})}l.displayName=`motion.${typeof o=="string"?o:`create(${o.displayName??o.name??""})`}`;const u=re.forwardRef(l);return u[DL]=o,u}function LL({layoutId:e}){const t=re.useContext(mT).id;return t&&e!==void 0?t+"-"+e:e}function VL(e,t){re.useContext(oS).strict}function BL(e){const{drag:t,layout:n}=Fa;if(!t&&!n)return{};const r={...t,...n};return{MeasureLayout:t!=null&&t.isEnabled(e)||n!=null&&n.isEnabled(e)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}const Ss={};function OL(e){for(const t in e)Ss[t]=e[t],tm(t)&&(Ss[t].isCSSVariable=!0)}function dS(e,{layout:t,layoutId:n}){return Ka.has(e)||e.startsWith("origin")||(t||n!==void 0)&&(!!Ss[e]||e==="opacity")}const jL={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},UL=$a.length;function zL(e,t,n){let r="",o=!0;for(let l=0;l<UL;l++){const u=$a[l],f=e[u];if(f===void 0)continue;let h=!0;if(typeof f=="number"?h=f===(u.startsWith("scale")?1:0):h=parseFloat(f)===0,!h||n){const d=eS(f,dm[u]);if(!h){o=!1;const m=jL[u]||u;r+=`${m}(${d}) `}n&&(t[u]=d)}}return r=r.trim(),n?r=n(t,o?"":r):o&&(r="none"),r}function xm(e,t,n){const{style:r,vars:o,transformOrigin:l}=e;let u=!1,f=!1;for(const h in t){const d=t[h];if(Ka.has(h)){u=!0;continue}else if(tm(h)){o[h]=d;continue}else{const m=eS(d,dm[h]);h.startsWith("origin")?(f=!0,l[h]=m):r[h]=m}}if(t.transform||(u||n?r.transform=zL(t,e.transform,n):r.transform&&(r.transform="none")),f){const{originX:h="50%",originY:d="50%",originZ:m=0}=l;r.transformOrigin=`${h} ${d} ${m}`}}const vm=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function hS(e,t,n){for(const r in t)!Gt(t[r])&&!dS(r,n)&&(e[r]=t[r])}function FL({transformTemplate:e},t){return re.useMemo(()=>{const n=vm();return xm(n,t,e),Object.assign({},n.vars,n.style)},[t])}function HL(e,t){const n=e.style||{},r={};return hS(r,n,e),Object.assign(r,FL(e,t)),r}function qL(e,t){const n={},r=HL(e,t);return e.drag&&e.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(n.tabIndex=0),n.style=r,n}const GL={offset:"stroke-dashoffset",array:"stroke-dasharray"},YL={offset:"strokeDashoffset",array:"strokeDasharray"};function $L(e,t,n=1,r=0,o=!0){e.pathLength=1;const l=o?GL:YL;e[l.offset]=ke.transform(-r);const u=ke.transform(t),f=ke.transform(n);e[l.array]=`${u} ${f}`}function mS(e,{attrX:t,attrY:n,attrScale:r,pathLength:o,pathSpacing:l=1,pathOffset:u=0,...f},h,d,m){if(xm(e,f,d),h){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:g,style:T}=e;g.transform&&(T.transform=g.transform,delete g.transform),(T.transform||g.transformOrigin)&&(T.transformOrigin=g.transformOrigin??"50% 50%",delete g.transformOrigin),T.transform&&(T.transformBox=(m==null?void 0:m.transformBox)??"fill-box",delete g.transformBox),t!==void 0&&(g.x=t),n!==void 0&&(g.y=n),r!==void 0&&(g.scale=r),o!==void 0&&$L(g,o,l,u,!1)}const pS=()=>({...vm(),attrs:{}}),gS=e=>typeof e=="string"&&e.toLowerCase()==="svg";function KL(e,t,n,r){const o=re.useMemo(()=>{const l=pS();return mS(l,t,gS(r),e.transformTemplate,e.style),{...l.attrs,style:{...l.style}}},[t]);if(e.style){const l={};hS(l,e.style,e),o.style={...l,...o.style}}return o}const XL=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function bm(e){return typeof e!="string"||e.includes("-")?!1:!!(XL.indexOf(e)>-1||/[A-Z]/u.test(e))}function QL(e=!1){return(n,r,o,{latestValues:l},u)=>{const h=(bm(n)?KL:qL)(r,l,u,n),d=EL(r,typeof n=="string",e),m=n!==re.Fragment?{...d,...h,ref:o}:{},{children:g}=r,T=re.useMemo(()=>Gt(g)?g.get():g,[g]);return re.createElement(n,{...m,children:T})}}function zv(e){const t=[{},{}];return e==null||e.values.forEach((n,r)=>{t[0][r]=n.get(),t[1][r]=n.getVelocity()}),t}function Tm(e,t,n,r){if(typeof t=="function"){const[o,l]=zv(r);t=t(n!==void 0?n:e.custom,o,l)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[o,l]=zv(r);t=t(n!==void 0?n:e.custom,o,l)}return t}function mu(e){return Gt(e)?e.get():e}function JL({scrapeMotionValuesFromProps:e,createRenderState:t},n,r,o){return{latestValues:ZL(n,r,o,e),renderState:t()}}const yS=e=>(t,n)=>{const r=re.useContext(ju),o=re.useContext($h),l=()=>JL(e,t,r,o);return n?l():C5(l)};function ZL(e,t,n,r){const o={},l=r(e,{});for(const T in l)o[T]=mu(l[T]);let{initial:u,animate:f}=e;const h=zu(e),d=lS(e);t&&d&&!h&&e.inherit!==!1&&(u===void 0&&(u=t.initial),f===void 0&&(f=t.animate));let m=n?n.initial===!1:!1;m=m||u===!1;const g=m?f:u;if(g&&typeof g!="boolean"&&!Uu(g)){const T=Array.isArray(g)?g:[g];for(let S=0;S<T.length;S++){const E=Tm(e,T[S]);if(E){const{transitionEnd:k,transition:R,...D}=E;for(const B in D){let P=D[B];if(Array.isArray(P)){const z=m?P.length-1:0;P=P[z]}P!==null&&(o[B]=P)}for(const B in k)o[B]=k[B]}}}return o}function Sm(e,t,n){var l;const{style:r}=e,o={};for(const u in r)(Gt(r[u])||t.style&&Gt(t.style[u])||dS(u,e)||((l=n==null?void 0:n.getValue(u))==null?void 0:l.liveStyle)!==void 0)&&(o[u]=r[u]);return o}const WL={useVisualState:yS({scrapeMotionValuesFromProps:Sm,createRenderState:vm})};function xS(e,t,n){const r=Sm(e,t,n);for(const o in e)if(Gt(e[o])||Gt(t[o])){const l=$a.indexOf(o)!==-1?"attr"+o.charAt(0).toUpperCase()+o.substring(1):o;r[l]=e[o]}return r}const eV={useVisualState:yS({scrapeMotionValuesFromProps:xS,createRenderState:pS})};function tV(e,t){return function(r,{forwardMotionProps:o}={forwardMotionProps:!1}){const u={...bm(r)?eV:WL,preloadedFeatures:e,useRender:QL(o),createVisualElement:t,Component:r};return PL(u)}}function Cs(e,t,n){const r=e.getProps();return Tm(r,t,n!==void 0?n:r.custom,e)}const yh=e=>Array.isArray(e);function nV(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,za(n))}function iV(e){return yh(e)?e[e.length-1]||0:e}function rV(e,t){const n=Cs(e,t);let{transitionEnd:r={},transition:o={},...l}=n||{};l={...l,...r};for(const u in l){const f=iV(l[u]);nV(e,u,f)}}function aV(e){return!!(Gt(e)&&e.add)}function xh(e,t){const n=e.getValue("willChange");if(aV(n))return n.add(t);if(!n&&Ci.WillChange){const r=new Ci.WillChange("auto");e.addValue("willChange",r),r.add(t)}}function vS(e){return e.props[uS]}const oV=e=>e!==null;function sV(e,{repeat:t,repeatType:n="loop"},r){const o=e.filter(oV),l=t&&n!=="loop"&&t%2===1?0:o.length-1;return o[l]}const lV={type:"spring",stiffness:500,damping:25,restSpeed:10},uV=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),cV={type:"keyframes",duration:.8},fV={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},dV=(e,{keyframes:t})=>t.length>2?cV:Ka.has(e)?e.startsWith("scale")?uV(t[1]):lV:fV;function hV({when:e,delay:t,delayChildren:n,staggerChildren:r,staggerDirection:o,repeat:l,repeatType:u,repeatDelay:f,from:h,elapsed:d,...m}){return!!Object.keys(m).length}const Cm=(e,t,n,r={},o,l)=>u=>{const f=fm(r,e)||{},h=f.delay||r.delay||0;let{elapsed:d=0}=r;d=d-Wn(h);const m={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:t.getVelocity(),...f,delay:-d,onUpdate:T=>{t.set(T),f.onUpdate&&f.onUpdate(T)},onComplete:()=>{u(),f.onComplete&&f.onComplete()},name:e,motionValue:t,element:l?void 0:o};hV(f)||Object.assign(m,dV(e,m)),m.duration&&(m.duration=Wn(m.duration)),m.repeatDelay&&(m.repeatDelay=Wn(m.repeatDelay)),m.from!==void 0&&(m.keyframes[0]=m.from);let g=!1;if((m.type===!1||m.duration===0&&!m.repeatDelay)&&(m.duration=0,m.delay===0&&(g=!0)),(Ci.instantAnimations||Ci.skipAnimations)&&(g=!0,m.duration=0,m.delay=0),m.allowFlatten=!f.type&&!f.ease,g&&!l&&t.get()!==void 0){const T=sV(m.keyframes,f);if(T!==void 0){ct.update(()=>{m.onUpdate(T),m.onComplete()});return}}return f.isSync?new um(m):new QP(m)};function mV({protectedKeys:e,needsAnimating:t},n){const r=e.hasOwnProperty(n)&&t[n]!==!0;return t[n]=!1,r}function bS(e,t,{delay:n=0,transitionOverride:r,type:o}={}){let{transition:l=e.getDefaultTransition(),transitionEnd:u,...f}=t;r&&(l=r);const h=[],d=o&&e.animationState&&e.animationState.getState()[o];for(const m in f){const g=e.getValue(m,e.latestValues[m]??null),T=f[m];if(T===void 0||d&&mV(d,m))continue;const S={delay:n,...fm(l||{},m)},E=g.get();if(E!==void 0&&!g.isAnimating&&!Array.isArray(T)&&T===E&&!S.velocity)continue;let k=!1;if(window.MotionHandoffAnimation){const D=vS(e);if(D){const B=window.MotionHandoffAnimation(D,m,ct);B!==null&&(S.startTime=B,k=!0)}}xh(e,m),g.start(Cm(m,g,T,e.shouldReduceMotion&&XT.has(m)?{type:!1}:S,e,k));const R=g.animation;R&&h.push(R)}return u&&Promise.all(h).then(()=>{ct.update(()=>{u&&rV(e,u)})}),h}function vh(e,t,n={}){var h;const r=Cs(e,t,n.type==="exit"?(h=e.presenceContext)==null?void 0:h.custom:void 0);let{transition:o=e.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(o=n.transitionOverride);const l=r?()=>Promise.all(bS(e,r,n)):()=>Promise.resolve(),u=e.variantChildren&&e.variantChildren.size?(d=0)=>{const{delayChildren:m=0,staggerChildren:g,staggerDirection:T}=o;return pV(e,t,m+d,g,T,n)}:()=>Promise.resolve(),{when:f}=o;if(f){const[d,m]=f==="beforeChildren"?[l,u]:[u,l];return d().then(()=>m())}else return Promise.all([l(),u(n.delay)])}function pV(e,t,n=0,r=0,o=1,l){const u=[],f=(e.variantChildren.size-1)*r,h=o===1?(d=0)=>d*r:(d=0)=>f-d*r;return Array.from(e.variantChildren).sort(gV).forEach((d,m)=>{d.notify("AnimationStart",t),u.push(vh(d,t,{...l,delay:n+h(m)}).then(()=>d.notify("AnimationComplete",t)))}),Promise.all(u)}function gV(e,t){return e.sortNodePosition(t)}function yV(e,t,n={}){e.notify("AnimationStart",t);let r;if(Array.isArray(t)){const o=t.map(l=>vh(e,l,n));r=Promise.all(o)}else if(typeof t=="string")r=vh(e,t,n);else{const o=typeof t=="function"?Cs(e,t,n.custom):t;r=Promise.all(bS(e,o,n))}return r.then(()=>{e.notify("AnimationComplete",t)})}function TS(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}const xV=gm.length;function SS(e){if(!e)return;if(!e.isControllingVariants){const n=e.parent?SS(e.parent)||{}:{};return e.props.initial!==void 0&&(n.initial=e.props.initial),n}const t={};for(let n=0;n<xV;n++){const r=gm[n],o=e.props[r];(Ts(o)||o===!1)&&(t[r]=o)}return t}const vV=[...pm].reverse(),bV=pm.length;function TV(e){return t=>Promise.all(t.map(({animation:n,options:r})=>yV(e,n,r)))}function SV(e){let t=TV(e),n=Fv(),r=!0;const o=h=>(d,m)=>{var T;const g=Cs(e,m,h==="exit"?(T=e.presenceContext)==null?void 0:T.custom:void 0);if(g){const{transition:S,transitionEnd:E,...k}=g;d={...d,...k,...E}}return d};function l(h){t=h(e)}function u(h){const{props:d}=e,m=SS(e.parent)||{},g=[],T=new Set;let S={},E=1/0;for(let R=0;R<bV;R++){const D=vV[R],B=n[D],P=d[D]!==void 0?d[D]:m[D],z=Ts(P),F=D===h?B.isActive:null;F===!1&&(E=R);let H=P===m[D]&&P!==d[D]&&z;if(H&&r&&e.manuallyAnimateOnMount&&(H=!1),B.protectedKeys={...S},!B.isActive&&F===null||!P&&!B.prevProp||Uu(P)||typeof P=="boolean")continue;const se=CV(B.prevProp,P);let ae=se||D===h&&B.isActive&&!H&&z||R>E&&z,pe=!1;const L=Array.isArray(P)?P:[P];let oe=L.reduce(o(D),{});F===!1&&(oe={});const{prevResolvedValues:he={}}=B,fe={...he,...oe},ue=V=>{ae=!0,T.has(V)&&(pe=!0,T.delete(V)),B.needsAnimating[V]=!0;const N=e.getValue(V);N&&(N.liveStyle=!1)};for(const V in fe){const N=oe[V],_=he[V];if(S.hasOwnProperty(V))continue;let C=!1;yh(N)&&yh(_)?C=!TS(N,_):C=N!==_,C?N!=null?ue(V):T.add(V):N!==void 0&&T.has(V)?ue(V):B.protectedKeys[V]=!0}B.prevProp=P,B.prevResolvedValues=oe,B.isActive&&(S={...S,...oe}),r&&e.blockInitialAnimation&&(ae=!1),ae&&(!(H&&se)||pe)&&g.push(...L.map(V=>({animation:V,options:{type:D}})))}if(T.size){const R={};if(typeof d.initial!="boolean"){const D=Cs(e,Array.isArray(d.initial)?d.initial[0]:d.initial);D&&D.transition&&(R.transition=D.transition)}T.forEach(D=>{const B=e.getBaseTarget(D),P=e.getValue(D);P&&(P.liveStyle=!0),R[D]=B??null}),g.push({animation:R})}let k=!!g.length;return r&&(d.initial===!1||d.initial===d.animate)&&!e.manuallyAnimateOnMount&&(k=!1),r=!1,k?t(g):Promise.resolve()}function f(h,d){var g;if(n[h].isActive===d)return Promise.resolve();(g=e.variantChildren)==null||g.forEach(T=>{var S;return(S=T.animationState)==null?void 0:S.setActive(h,d)}),n[h].isActive=d;const m=u(h);for(const T in n)n[T].protectedKeys={};return m}return{animateChanges:u,setActive:f,setAnimateFunction:l,getState:()=>n,reset:()=>{n=Fv(),r=!0}}}function CV(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!TS(t,e):!1}function _r(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function Fv(){return{animate:_r(!0),whileInView:_r(),whileHover:_r(),whileTap:_r(),whileDrag:_r(),whileFocus:_r(),exit:_r()}}class lr{constructor(t){this.isMounted=!1,this.node=t}update(){}}class wV extends lr{constructor(t){super(t),t.animationState||(t.animationState=SV(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();Uu(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:n}=this.node.prevProps||{};t!==n&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),(t=this.unmountControls)==null||t.call(this)}}let EV=0;class AV extends lr{constructor(){super(...arguments),this.id=EV++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===r)return;const o=this.node.animationState.setActive("exit",!t);n&&!t&&o.then(()=>{n(this.id)})}mount(){const{register:t,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const MV={animation:{Feature:wV},exit:{Feature:AV}};function ws(e,t,n,r={passive:!0}){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n)}function Is(e){return{point:{x:e.pageX,y:e.pageY}}}const kV=e=>t=>mm(t)&&e(t,Is(t));function fs(e,t,n,r){return ws(e,t,kV(n),r)}function CS({top:e,left:t,right:n,bottom:r}){return{x:{min:t,max:n},y:{min:e,max:r}}}function DV({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function NV(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),r=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}const wS=1e-4,RV=1-wS,_V=1+wS,ES=.01,IV=0-ES,PV=0+ES;function Qt(e){return e.max-e.min}function LV(e,t,n){return Math.abs(e-t)<=n}function Hv(e,t,n,r=.5){e.origin=r,e.originPoint=ut(t.min,t.max,e.origin),e.scale=Qt(n)/Qt(t),e.translate=ut(n.min,n.max,e.origin)-e.originPoint,(e.scale>=RV&&e.scale<=_V||isNaN(e.scale))&&(e.scale=1),(e.translate>=IV&&e.translate<=PV||isNaN(e.translate))&&(e.translate=0)}function ds(e,t,n,r){Hv(e.x,t.x,n.x,r?r.originX:void 0),Hv(e.y,t.y,n.y,r?r.originY:void 0)}function qv(e,t,n){e.min=n.min+t.min,e.max=e.min+Qt(t)}function VV(e,t,n){qv(e.x,t.x,n.x),qv(e.y,t.y,n.y)}function Gv(e,t,n){e.min=t.min-n.min,e.max=e.min+Qt(t)}function hs(e,t,n){Gv(e.x,t.x,n.x),Gv(e.y,t.y,n.y)}const Yv=()=>({translate:0,scale:1,origin:0,originPoint:0}),Va=()=>({x:Yv(),y:Yv()}),$v=()=>({min:0,max:0}),xt=()=>({x:$v(),y:$v()});function Rn(e){return[e("x"),e("y")]}function Nd(e){return e===void 0||e===1}function bh({scale:e,scaleX:t,scaleY:n}){return!Nd(e)||!Nd(t)||!Nd(n)}function Pr(e){return bh(e)||AS(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function AS(e){return Kv(e.x)||Kv(e.y)}function Kv(e){return e&&e!=="0%"}function Nu(e,t,n){const r=e-n,o=t*r;return n+o}function Xv(e,t,n,r,o){return o!==void 0&&(e=Nu(e,o,r)),Nu(e,n,r)+t}function Th(e,t=0,n=1,r,o){e.min=Xv(e.min,t,n,r,o),e.max=Xv(e.max,t,n,r,o)}function MS(e,{x:t,y:n}){Th(e.x,t.translate,t.scale,t.originPoint),Th(e.y,n.translate,n.scale,n.originPoint)}const Qv=.999999999999,Jv=1.0000000000001;function BV(e,t,n,r=!1){const o=n.length;if(!o)return;t.x=t.y=1;let l,u;for(let f=0;f<o;f++){l=n[f],u=l.projectionDelta;const{visualElement:h}=l.options;h&&h.props.style&&h.props.style.display==="contents"||(r&&l.options.layoutScroll&&l.scroll&&l!==l.root&&Oa(e,{x:-l.scroll.offset.x,y:-l.scroll.offset.y}),u&&(t.x*=u.x.scale,t.y*=u.y.scale,MS(e,u)),r&&Pr(l.latestValues)&&Oa(e,l.latestValues))}t.x<Jv&&t.x>Qv&&(t.x=1),t.y<Jv&&t.y>Qv&&(t.y=1)}function Ba(e,t){e.min=e.min+t,e.max=e.max+t}function Zv(e,t,n,r,o=.5){const l=ut(e.min,e.max,o);Th(e,t,n,l,r)}function Oa(e,t){Zv(e.x,t.x,t.scaleX,t.scale,t.originX),Zv(e.y,t.y,t.scaleY,t.scale,t.originY)}function kS(e,t){return CS(NV(e.getBoundingClientRect(),t))}function OV(e,t,n){const r=kS(e,n),{scroll:o}=t;return o&&(Ba(r.x,o.offset.x),Ba(r.y,o.offset.y)),r}const DS=({current:e})=>e?e.ownerDocument.defaultView:null,Wv=(e,t)=>Math.abs(e-t);function jV(e,t){const n=Wv(e.x,t.x),r=Wv(e.y,t.y);return Math.sqrt(n**2+r**2)}class NS{constructor(t,n,{transformPagePoint:r,contextWindow:o,dragSnapToOrigin:l=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const g=_d(this.lastMoveEventInfo,this.history),T=this.startEvent!==null,S=jV(g.offset,{x:0,y:0})>=3;if(!T&&!S)return;const{point:E}=g,{timestamp:k}=Lt;this.history.push({...E,timestamp:k});const{onStart:R,onMove:D}=this.handlers;T||(R&&R(this.lastMoveEvent,g),this.startEvent=this.lastMoveEvent),D&&D(this.lastMoveEvent,g)},this.handlePointerMove=(g,T)=>{this.lastMoveEvent=g,this.lastMoveEventInfo=Rd(T,this.transformPagePoint),ct.update(this.updatePoint,!0)},this.handlePointerUp=(g,T)=>{this.end();const{onEnd:S,onSessionEnd:E,resumeAnimation:k}=this.handlers;if(this.dragSnapToOrigin&&k&&k(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const R=_d(g.type==="pointercancel"?this.lastMoveEventInfo:Rd(T,this.transformPagePoint),this.history);this.startEvent&&S&&S(g,R),E&&E(g,R)},!mm(t))return;this.dragSnapToOrigin=l,this.handlers=n,this.transformPagePoint=r,this.contextWindow=o||window;const u=Is(t),f=Rd(u,this.transformPagePoint),{point:h}=f,{timestamp:d}=Lt;this.history=[{...h,timestamp:d}];const{onSessionStart:m}=n;m&&m(t,_d(f,this.history)),this.removeListeners=Ns(fs(this.contextWindow,"pointermove",this.handlePointerMove),fs(this.contextWindow,"pointerup",this.handlePointerUp),fs(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),nr(this.updatePoint)}}function Rd(e,t){return t?{point:t(e.point)}:e}function eb(e,t){return{x:e.x-t.x,y:e.y-t.y}}function _d({point:e},t){return{point:e,delta:eb(e,RS(t)),offset:eb(e,UV(t)),velocity:zV(t,.1)}}function UV(e){return e[0]}function RS(e){return e[e.length-1]}function zV(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,r=null;const o=RS(e);for(;n>=0&&(r=e[n],!(o.timestamp-r.timestamp>Wn(t)));)n--;if(!r)return{x:0,y:0};const l=ei(o.timestamp-r.timestamp);if(l===0)return{x:0,y:0};const u={x:(o.x-r.x)/l,y:(o.y-r.y)/l};return u.x===1/0&&(u.x=0),u.y===1/0&&(u.y=0),u}function FV(e,{min:t,max:n},r){return t!==void 0&&e<t?e=r?ut(t,e,r.min):Math.max(e,t):n!==void 0&&e>n&&(e=r?ut(n,e,r.max):Math.min(e,n)),e}function tb(e,t,n){return{min:t!==void 0?e.min+t:void 0,max:n!==void 0?e.max+n-(e.max-e.min):void 0}}function HV(e,{top:t,left:n,bottom:r,right:o}){return{x:tb(e.x,n,o),y:tb(e.y,t,r)}}function nb(e,t){let n=t.min-e.min,r=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,r]=[r,n]),{min:n,max:r}}function qV(e,t){return{x:nb(e.x,t.x),y:nb(e.y,t.y)}}function GV(e,t){let n=.5;const r=Qt(e),o=Qt(t);return o>r?n=xs(t.min,t.max-r,e.min):r>o&&(n=xs(e.min,e.max-o,t.min)),Si(0,1,n)}function YV(e,t){const n={};return t.min!==void 0&&(n.min=t.min-e.min),t.max!==void 0&&(n.max=t.max-e.min),n}const Sh=.35;function $V(e=Sh){return e===!1?e=0:e===!0&&(e=Sh),{x:ib(e,"left","right"),y:ib(e,"top","bottom")}}function ib(e,t,n){return{min:rb(e,t),max:rb(e,n)}}function rb(e,t){return typeof e=="number"?e:e[t]||0}const KV=new WeakMap;class XV{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=xt(),this.visualElement=t}start(t,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const o=m=>{const{dragSnapToOrigin:g}=this.getProps();g?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Is(m).point)},l=(m,g)=>{const{drag:T,dragPropagation:S,onDragStart:E}=this.getProps();if(T&&!S&&(this.openDragLock&&this.openDragLock(),this.openDragLock=dL(T),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Rn(R=>{let D=this.getAxisMotionValue(R).get()||0;if(ti.test(D)){const{projection:B}=this.visualElement;if(B&&B.layout){const P=B.layout.layoutBox[R];P&&(D=Qt(P)*(parseFloat(D)/100))}}this.originPoint[R]=D}),E&&ct.postRender(()=>E(m,g)),xh(this.visualElement,"transform");const{animationState:k}=this.visualElement;k&&k.setActive("whileDrag",!0)},u=(m,g)=>{const{dragPropagation:T,dragDirectionLock:S,onDirectionLock:E,onDrag:k}=this.getProps();if(!T&&!this.openDragLock)return;const{offset:R}=g;if(S&&this.currentDirection===null){this.currentDirection=QV(R),this.currentDirection!==null&&E&&E(this.currentDirection);return}this.updateAxis("x",g.point,R),this.updateAxis("y",g.point,R),this.visualElement.render(),k&&k(m,g)},f=(m,g)=>this.stop(m,g),h=()=>Rn(m=>{var g;return this.getAnimationState(m)==="paused"&&((g=this.getAxisMotionValue(m).animation)==null?void 0:g.play())}),{dragSnapToOrigin:d}=this.getProps();this.panSession=new NS(t,{onSessionStart:o,onStart:l,onMove:u,onSessionEnd:f,resumeAnimation:h},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:d,contextWindow:DS(this.visualElement)})}stop(t,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:o}=n;this.startAnimation(o);const{onDragEnd:l}=this.getProps();l&&ct.postRender(()=>l(t,n))}cancel(){this.isDragging=!1;const{projection:t,animationState:n}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(t,n,r){const{drag:o}=this.getProps();if(!r||!ru(t,o,this.currentDirection))return;const l=this.getAxisMotionValue(t);let u=this.originPoint[t]+r[t];this.constraints&&this.constraints[t]&&(u=FV(u,this.constraints[t],this.elastic[t])),l.set(u)}resolveConstraints(){var l;const{dragConstraints:t,dragElastic:n}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(l=this.visualElement.projection)==null?void 0:l.layout,o=this.constraints;t&&La(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&r?this.constraints=HV(r.layoutBox,t):this.constraints=!1,this.elastic=$V(n),o!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&Rn(u=>{this.constraints!==!1&&this.getAxisMotionValue(u)&&(this.constraints[u]=YV(r.layoutBox[u],this.constraints[u]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:n}=this.getProps();if(!t||!La(t))return!1;const r=t.current,{projection:o}=this.visualElement;if(!o||!o.layout)return!1;const l=OV(r,o.root,this.visualElement.getTransformPagePoint());let u=qV(o.layout.layoutBox,l);if(n){const f=n(DV(u));this.hasMutatedConstraints=!!f,f&&(u=CS(f))}return u}startAnimation(t){const{drag:n,dragMomentum:r,dragElastic:o,dragTransition:l,dragSnapToOrigin:u,onDragTransitionEnd:f}=this.getProps(),h=this.constraints||{},d=Rn(m=>{if(!ru(m,n,this.currentDirection))return;let g=h&&h[m]||{};u&&(g={min:0,max:0});const T=o?200:1e6,S=o?40:1e7,E={type:"inertia",velocity:r?t[m]:0,bounceStiffness:T,bounceDamping:S,timeConstant:750,restDelta:1,restSpeed:10,...l,...g};return this.startAxisValueAnimation(m,E)});return Promise.all(d).then(f)}startAxisValueAnimation(t,n){const r=this.getAxisMotionValue(t);return xh(this.visualElement,t),r.start(Cm(t,r,0,n,this.visualElement,!1))}stopAnimation(){Rn(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){Rn(t=>{var n;return(n=this.getAxisMotionValue(t).animation)==null?void 0:n.pause()})}getAnimationState(t){var n;return(n=this.getAxisMotionValue(t).animation)==null?void 0:n.state}getAxisMotionValue(t){const n=`_drag${t.toUpperCase()}`,r=this.visualElement.getProps(),o=r[n];return o||this.visualElement.getValue(t,(r.initial?r.initial[t]:void 0)||0)}snapToCursor(t){Rn(n=>{const{drag:r}=this.getProps();if(!ru(n,r,this.currentDirection))return;const{projection:o}=this.visualElement,l=this.getAxisMotionValue(n);if(o&&o.layout){const{min:u,max:f}=o.layout.layoutBox[n];l.set(t[n]-ut(u,f,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!La(n)||!r||!this.constraints)return;this.stopAnimation();const o={x:0,y:0};Rn(u=>{const f=this.getAxisMotionValue(u);if(f&&this.constraints!==!1){const h=f.get();o[u]=GV({min:h,max:h},this.constraints[u])}});const{transformTemplate:l}=this.visualElement.getProps();this.visualElement.current.style.transform=l?l({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),Rn(u=>{if(!ru(u,t,null))return;const f=this.getAxisMotionValue(u),{min:h,max:d}=this.constraints[u];f.set(ut(h,d,o[u]))})}addListeners(){if(!this.visualElement.current)return;KV.set(this.visualElement,this);const t=this.visualElement.current,n=fs(t,"pointerdown",h=>{const{drag:d,dragListener:m=!0}=this.getProps();d&&m&&this.start(h)}),r=()=>{const{dragConstraints:h}=this.getProps();La(h)&&h.current&&(this.constraints=this.resolveRefConstraints())},{projection:o}=this.visualElement,l=o.addEventListener("measure",r);o&&!o.layout&&(o.root&&o.root.updateScroll(),o.updateLayout()),ct.read(r);const u=ws(window,"resize",()=>this.scalePositionWithinConstraints()),f=o.addEventListener("didUpdate",({delta:h,hasLayoutChanged:d})=>{this.isDragging&&d&&(Rn(m=>{const g=this.getAxisMotionValue(m);g&&(this.originPoint[m]+=h[m].translate,g.set(g.get()+h[m].translate))}),this.visualElement.render())});return()=>{u(),n(),l(),f&&f()}}getProps(){const t=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:o=!1,dragConstraints:l=!1,dragElastic:u=Sh,dragMomentum:f=!0}=t;return{...t,drag:n,dragDirectionLock:r,dragPropagation:o,dragConstraints:l,dragElastic:u,dragMomentum:f}}}function ru(e,t,n){return(t===!0||t===e)&&(n===null||n===e)}function QV(e,t=10){let n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}class JV extends lr{constructor(t){super(t),this.removeGroupControls=Vn,this.removeListeners=Vn,this.controls=new XV(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Vn}unmount(){this.removeGroupControls(),this.removeListeners()}}const ab=e=>(t,n)=>{e&&ct.postRender(()=>e(t,n))};class ZV extends lr{constructor(){super(...arguments),this.removePointerDownListener=Vn}onPointerDown(t){this.session=new NS(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:DS(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:n,onPan:r,onPanEnd:o}=this.node.getProps();return{onSessionStart:ab(t),onStart:ab(n),onMove:r,onEnd:(l,u)=>{delete this.session,o&&ct.postRender(()=>o(l,u))}}}mount(){this.removePointerDownListener=fs(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const pu={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function ob(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const ns={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(ke.test(e))e=parseFloat(e);else return e;const n=ob(e,t.target.x),r=ob(e,t.target.y);return`${n}% ${r}%`}},WV={correct:(e,{treeScale:t,projectionDelta:n})=>{const r=e,o=ir.parse(e);if(o.length>5)return r;const l=ir.createTransformer(e),u=typeof o[0]!="number"?1:0,f=n.x.scale*t.x,h=n.y.scale*t.y;o[0+u]/=f,o[1+u]/=h;const d=ut(f,h,.5);return typeof o[2+u]=="number"&&(o[2+u]/=d),typeof o[3+u]=="number"&&(o[3+u]/=d),l(o)}};class eB extends re.Component{componentDidMount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r,layoutId:o}=this.props,{projection:l}=t;OL(tB),l&&(n.group&&n.group.add(l),r&&r.register&&o&&r.register(l),l.root.didUpdate(),l.addEventListener("animationComplete",()=>{this.safeToRemove()}),l.setOptions({...l.options,onExitComplete:()=>this.safeToRemove()})),pu.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:n,visualElement:r,drag:o,isPresent:l}=this.props,{projection:u}=r;return u&&(u.isPresent=l,o||t.layoutDependency!==n||n===void 0||t.isPresent!==l?u.willUpdate():this.safeToRemove(),t.isPresent!==l&&(l?u.promote():u.relegate()||ct.postRender(()=>{const f=u.getStack();(!f||!f.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),hm.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:o}=t;o&&(o.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(o),r&&r.deregister&&r.deregister(o))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function _S(e){const[t,n]=TL(),r=re.useContext(mT);return y.jsx(eB,{...e,layoutGroup:r,switchLayoutGroup:re.useContext(cS),isPresent:t,safeToRemove:n})}const tB={borderRadius:{...ns,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:ns,borderTopRightRadius:ns,borderBottomLeftRadius:ns,borderBottomRightRadius:ns,boxShadow:WV};function nB(e,t,n){const r=Gt(e)?e:za(e);return r.start(Cm("",r,t,n)),r.animation}const iB=(e,t)=>e.depth-t.depth;class rB{constructor(){this.children=[],this.isDirty=!1}add(t){Kh(this.children,t),this.isDirty=!0}remove(t){Xh(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(iB),this.isDirty=!1,this.children.forEach(t)}}function aB(e,t){const n=on.now(),r=({timestamp:o})=>{const l=o-n;l>=t&&(nr(r),e(l-t))};return ct.setup(r,!0),()=>nr(r)}const IS=["TopLeft","TopRight","BottomLeft","BottomRight"],oB=IS.length,sb=e=>typeof e=="string"?parseFloat(e):e,lb=e=>typeof e=="number"||ke.test(e);function sB(e,t,n,r,o,l){o?(e.opacity=ut(0,n.opacity??1,lB(r)),e.opacityExit=ut(t.opacity??1,0,uB(r))):l&&(e.opacity=ut(t.opacity??1,n.opacity??1,r));for(let u=0;u<oB;u++){const f=`border${IS[u]}Radius`;let h=ub(t,f),d=ub(n,f);if(h===void 0&&d===void 0)continue;h||(h=0),d||(d=0),h===0||d===0||lb(h)===lb(d)?(e[f]=Math.max(ut(sb(h),sb(d),r),0),(ti.test(d)||ti.test(h))&&(e[f]+="%")):e[f]=d}(t.rotate||n.rotate)&&(e.rotate=ut(t.rotate||0,n.rotate||0,r))}function ub(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const lB=PS(0,.5,ET),uB=PS(.5,.95,Vn);function PS(e,t,n){return r=>r<e?0:r>t?1:n(xs(e,t,r))}function cb(e,t){e.min=t.min,e.max=t.max}function Nn(e,t){cb(e.x,t.x),cb(e.y,t.y)}function fb(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function db(e,t,n,r,o){return e-=t,e=Nu(e,1/n,r),o!==void 0&&(e=Nu(e,1/o,r)),e}function cB(e,t=0,n=1,r=.5,o,l=e,u=e){if(ti.test(t)&&(t=parseFloat(t),t=ut(u.min,u.max,t/100)-u.min),typeof t!="number")return;let f=ut(l.min,l.max,r);e===l&&(f-=t),e.min=db(e.min,t,n,f,o),e.max=db(e.max,t,n,f,o)}function hb(e,t,[n,r,o],l,u){cB(e,t[n],t[r],t[o],t.scale,l,u)}const fB=["x","scaleX","originX"],dB=["y","scaleY","originY"];function mb(e,t,n,r){hb(e.x,t,fB,n?n.x:void 0,r?r.x:void 0),hb(e.y,t,dB,n?n.y:void 0,r?r.y:void 0)}function pb(e){return e.translate===0&&e.scale===1}function LS(e){return pb(e.x)&&pb(e.y)}function gb(e,t){return e.min===t.min&&e.max===t.max}function hB(e,t){return gb(e.x,t.x)&&gb(e.y,t.y)}function yb(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function VS(e,t){return yb(e.x,t.x)&&yb(e.y,t.y)}function xb(e){return Qt(e.x)/Qt(e.y)}function vb(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class mB{constructor(){this.members=[]}add(t){Kh(this.members,t),t.scheduleRender()}remove(t){if(Xh(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(t){const n=this.members.findIndex(o=>t===o);if(n===0)return!1;let r;for(let o=n;o>=0;o--){const l=this.members[o];if(l.isPresent!==!1){r=l;break}}return r?(this.promote(r),!0):!1}promote(t,n){const r=this.lead;if(t!==r&&(this.prevLead=r,this.lead=t,t.show(),r)){r.instance&&r.scheduleRender(),t.scheduleRender(),t.resumeFrom=r,n&&(t.resumeFrom.preserveOpacity=!0),r.snapshot&&(t.snapshot=r.snapshot,t.snapshot.latestValues=r.animationValues||r.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:o}=t.options;o===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:n,resumingFrom:r}=t;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function pB(e,t,n){let r="";const o=e.x.translate/t.x,l=e.y.translate/t.y,u=(n==null?void 0:n.z)||0;if((o||l||u)&&(r=`translate3d(${o}px, ${l}px, ${u}px) `),(t.x!==1||t.y!==1)&&(r+=`scale(${1/t.x}, ${1/t.y}) `),n){const{transformPerspective:d,rotate:m,rotateX:g,rotateY:T,skewX:S,skewY:E}=n;d&&(r=`perspective(${d}px) ${r}`),m&&(r+=`rotate(${m}deg) `),g&&(r+=`rotateX(${g}deg) `),T&&(r+=`rotateY(${T}deg) `),S&&(r+=`skewX(${S}deg) `),E&&(r+=`skewY(${E}deg) `)}const f=e.x.scale*t.x,h=e.y.scale*t.y;return(f!==1||h!==1)&&(r+=`scale(${f}, ${h})`),r||"none"}const Id=["","X","Y","Z"],gB={visibility:"hidden"},yB=1e3;let xB=0;function Pd(e,t,n,r){const{latestValues:o}=t;o[e]&&(n[e]=o[e],t.setStaticValue(e,0),r&&(r[e]=0))}function BS(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const n=vS(t);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:o,layoutId:l}=e.options;window.MotionCancelOptimisedAnimation(n,"transform",ct,!(o||l))}const{parent:r}=e;r&&!r.hasCheckedOptimisedAppear&&BS(r)}function OS({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:r,resetTransform:o}){return class{constructor(u={},f=t==null?void 0:t()){this.id=xB++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(TB),this.nodes.forEach(AB),this.nodes.forEach(MB),this.nodes.forEach(SB)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=u,this.root=f?f.root||f:this,this.path=f?[...f.path,f]:[],this.parent=f,this.depth=f?f.depth+1:0;for(let h=0;h<this.path.length;h++)this.path[h].shouldResetTransform=!0;this.root===this&&(this.nodes=new rB)}addEventListener(u,f){return this.eventHandlers.has(u)||this.eventHandlers.set(u,new Zh),this.eventHandlers.get(u).add(f)}notifyListeners(u,...f){const h=this.eventHandlers.get(u);h&&h.notify(...f)}hasListeners(u){return this.eventHandlers.has(u)}mount(u){if(this.instance)return;this.isSVG=rS(u)&&!xL(u),this.instance=u;const{layoutId:f,layout:h,visualElement:d}=this.options;if(d&&!d.current&&d.mount(u),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(h||f)&&(this.isLayoutDirty=!0),e){let m;const g=()=>this.root.updateBlockedByResize=!1;e(u,()=>{this.root.updateBlockedByResize=!0,m&&m(),m=aB(g,250),pu.hasAnimatedSinceResize&&(pu.hasAnimatedSinceResize=!1,this.nodes.forEach(Tb))})}f&&this.root.registerSharedNode(f,this),this.options.animate!==!1&&d&&(f||h)&&this.addEventListener("didUpdate",({delta:m,hasLayoutChanged:g,hasRelativeLayoutChanged:T,layout:S})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const E=this.options.transition||d.getDefaultTransition()||_B,{onLayoutAnimationStart:k,onLayoutAnimationComplete:R}=d.getProps(),D=!this.targetLayout||!VS(this.targetLayout,S),B=!g&&T;if(this.options.layoutRoot||this.resumeFrom||B||g&&(D||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const P={...fm(E,"layout"),onPlay:k,onComplete:R};(d.shouldReduceMotion||this.options.layoutRoot)&&(P.delay=0,P.type=!1),this.startAnimation(P),this.setAnimationOrigin(m,B)}else g||Tb(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=S})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const u=this.getStack();u&&u.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),nr(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(kB),this.animationId++)}getTransformTemplate(){const{visualElement:u}=this.options;return u&&u.getProps().transformTemplate}willUpdate(u=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&BS(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let m=0;m<this.path.length;m++){const g=this.path[m];g.shouldResetTransform=!0,g.updateScroll("snapshot"),g.options.layoutRoot&&g.willUpdate(!1)}const{layoutId:f,layout:h}=this.options;if(f===void 0&&!h)return;const d=this.getTransformTemplate();this.prevTransformTemplateValue=d?d(this.latestValues,""):void 0,this.updateSnapshot(),u&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(bb);return}this.isUpdating||this.nodes.forEach(wB),this.isUpdating=!1,this.nodes.forEach(EB),this.nodes.forEach(vB),this.nodes.forEach(bB),this.clearAllSnapshots();const f=on.now();Lt.delta=Si(0,1e3/60,f-Lt.timestamp),Lt.timestamp=f,Lt.isProcessing=!0,wd.update.process(Lt),wd.preRender.process(Lt),wd.render.process(Lt),Lt.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,hm.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(CB),this.sharedNodes.forEach(DB)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,ct.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){ct.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Qt(this.snapshot.measuredBox.x)&&!Qt(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let h=0;h<this.path.length;h++)this.path[h].updateScroll();const u=this.layout;this.layout=this.measure(!1),this.layoutCorrected=xt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:f}=this.options;f&&f.notify("LayoutMeasure",this.layout.layoutBox,u?u.layoutBox:void 0)}updateScroll(u="measure"){let f=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===u&&(f=!1),f&&this.instance){const h=r(this.instance);this.scroll={animationId:this.root.animationId,phase:u,isRoot:h,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:h}}}resetTransform(){if(!o)return;const u=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,f=this.projectionDelta&&!LS(this.projectionDelta),h=this.getTransformTemplate(),d=h?h(this.latestValues,""):void 0,m=d!==this.prevTransformTemplateValue;u&&this.instance&&(f||Pr(this.latestValues)||m)&&(o(this.instance,d),this.shouldResetTransform=!1,this.scheduleRender())}measure(u=!0){const f=this.measurePageBox();let h=this.removeElementScroll(f);return u&&(h=this.removeTransform(h)),IB(h),{animationId:this.root.animationId,measuredBox:f,layoutBox:h,latestValues:{},source:this.id}}measurePageBox(){var d;const{visualElement:u}=this.options;if(!u)return xt();const f=u.measureViewportBox();if(!(((d=this.scroll)==null?void 0:d.wasRoot)||this.path.some(PB))){const{scroll:m}=this.root;m&&(Ba(f.x,m.offset.x),Ba(f.y,m.offset.y))}return f}removeElementScroll(u){var h;const f=xt();if(Nn(f,u),(h=this.scroll)!=null&&h.wasRoot)return f;for(let d=0;d<this.path.length;d++){const m=this.path[d],{scroll:g,options:T}=m;m!==this.root&&g&&T.layoutScroll&&(g.wasRoot&&Nn(f,u),Ba(f.x,g.offset.x),Ba(f.y,g.offset.y))}return f}applyTransform(u,f=!1){const h=xt();Nn(h,u);for(let d=0;d<this.path.length;d++){const m=this.path[d];!f&&m.options.layoutScroll&&m.scroll&&m!==m.root&&Oa(h,{x:-m.scroll.offset.x,y:-m.scroll.offset.y}),Pr(m.latestValues)&&Oa(h,m.latestValues)}return Pr(this.latestValues)&&Oa(h,this.latestValues),h}removeTransform(u){const f=xt();Nn(f,u);for(let h=0;h<this.path.length;h++){const d=this.path[h];if(!d.instance||!Pr(d.latestValues))continue;bh(d.latestValues)&&d.updateSnapshot();const m=xt(),g=d.measurePageBox();Nn(m,g),mb(f,d.latestValues,d.snapshot?d.snapshot.layoutBox:void 0,m)}return Pr(this.latestValues)&&mb(f,this.latestValues),f}setTargetDelta(u){this.targetDelta=u,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(u){this.options={...this.options,...u,crossfade:u.crossfade!==void 0?u.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Lt.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(u=!1){var T;const f=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=f.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=f.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=f.isSharedProjectionDirty);const h=!!this.resumingFrom||this!==f;if(!(u||h&&this.isSharedProjectionDirty||this.isProjectionDirty||(T=this.parent)!=null&&T.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:m,layoutId:g}=this.options;if(!(!this.layout||!(m||g))){if(this.resolvedRelativeTargetAt=Lt.timestamp,!this.targetDelta&&!this.relativeTarget){const S=this.getClosestProjectingParent();S&&S.layout&&this.animationProgress!==1?(this.relativeParent=S,this.forceRelativeParentToResolveTarget(),this.relativeTarget=xt(),this.relativeTargetOrigin=xt(),hs(this.relativeTargetOrigin,this.layout.layoutBox,S.layout.layoutBox),Nn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=xt(),this.targetWithTransforms=xt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),VV(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Nn(this.target,this.layout.layoutBox),MS(this.target,this.targetDelta)):Nn(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const S=this.getClosestProjectingParent();S&&!!S.resumingFrom==!!this.resumingFrom&&!S.options.layoutScroll&&S.target&&this.animationProgress!==1?(this.relativeParent=S,this.forceRelativeParentToResolveTarget(),this.relativeTarget=xt(),this.relativeTargetOrigin=xt(),hs(this.relativeTargetOrigin,this.target,S.target),Nn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||bh(this.parent.latestValues)||AS(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var E;const u=this.getLead(),f=!!this.resumingFrom||this!==u;let h=!0;if((this.isProjectionDirty||(E=this.parent)!=null&&E.isProjectionDirty)&&(h=!1),f&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(h=!1),this.resolvedRelativeTargetAt===Lt.timestamp&&(h=!1),h)return;const{layout:d,layoutId:m}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(d||m))return;Nn(this.layoutCorrected,this.layout.layoutBox);const g=this.treeScale.x,T=this.treeScale.y;BV(this.layoutCorrected,this.treeScale,this.path,f),u.layout&&!u.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(u.target=u.layout.layoutBox,u.targetWithTransforms=xt());const{target:S}=u;if(!S){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(fb(this.prevProjectionDelta.x,this.projectionDelta.x),fb(this.prevProjectionDelta.y,this.projectionDelta.y)),ds(this.projectionDelta,this.layoutCorrected,S,this.latestValues),(this.treeScale.x!==g||this.treeScale.y!==T||!vb(this.projectionDelta.x,this.prevProjectionDelta.x)||!vb(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",S))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(u=!0){var f;if((f=this.options.visualElement)==null||f.scheduleRender(),u){const h=this.getStack();h&&h.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Va(),this.projectionDelta=Va(),this.projectionDeltaWithTransform=Va()}setAnimationOrigin(u,f=!1){const h=this.snapshot,d=h?h.latestValues:{},m={...this.latestValues},g=Va();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!f;const T=xt(),S=h?h.source:void 0,E=this.layout?this.layout.source:void 0,k=S!==E,R=this.getStack(),D=!R||R.members.length<=1,B=!!(k&&!D&&this.options.crossfade===!0&&!this.path.some(RB));this.animationProgress=0;let P;this.mixTargetDelta=z=>{const F=z/1e3;Sb(g.x,u.x,F),Sb(g.y,u.y,F),this.setTargetDelta(g),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(hs(T,this.layout.layoutBox,this.relativeParent.layout.layoutBox),NB(this.relativeTarget,this.relativeTargetOrigin,T,F),P&&hB(this.relativeTarget,P)&&(this.isProjectionDirty=!1),P||(P=xt()),Nn(P,this.relativeTarget)),k&&(this.animationValues=m,sB(m,d,this.latestValues,F,B,D)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=F},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(u){var f,h,d;this.notifyListeners("animationStart"),(f=this.currentAnimation)==null||f.stop(),(d=(h=this.resumingFrom)==null?void 0:h.currentAnimation)==null||d.stop(),this.pendingAnimation&&(nr(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=ct.update(()=>{pu.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=za(0)),this.currentAnimation=nB(this.motionValue,[0,1e3],{...u,velocity:0,isSync:!0,onUpdate:m=>{this.mixTargetDelta(m),u.onUpdate&&u.onUpdate(m)},onStop:()=>{},onComplete:()=>{u.onComplete&&u.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const u=this.getStack();u&&u.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(yB),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const u=this.getLead();let{targetWithTransforms:f,target:h,layout:d,latestValues:m}=u;if(!(!f||!h||!d)){if(this!==u&&this.layout&&d&&jS(this.options.animationType,this.layout.layoutBox,d.layoutBox)){h=this.target||xt();const g=Qt(this.layout.layoutBox.x);h.x.min=u.target.x.min,h.x.max=h.x.min+g;const T=Qt(this.layout.layoutBox.y);h.y.min=u.target.y.min,h.y.max=h.y.min+T}Nn(f,h),Oa(f,m),ds(this.projectionDeltaWithTransform,this.layoutCorrected,f,m)}}registerSharedNode(u,f){this.sharedNodes.has(u)||this.sharedNodes.set(u,new mB),this.sharedNodes.get(u).add(f);const d=f.options.initialPromotionConfig;f.promote({transition:d?d.transition:void 0,preserveFollowOpacity:d&&d.shouldPreserveFollowOpacity?d.shouldPreserveFollowOpacity(f):void 0})}isLead(){const u=this.getStack();return u?u.lead===this:!0}getLead(){var f;const{layoutId:u}=this.options;return u?((f=this.getStack())==null?void 0:f.lead)||this:this}getPrevLead(){var f;const{layoutId:u}=this.options;return u?(f=this.getStack())==null?void 0:f.prevLead:void 0}getStack(){const{layoutId:u}=this.options;if(u)return this.root.sharedNodes.get(u)}promote({needsReset:u,transition:f,preserveFollowOpacity:h}={}){const d=this.getStack();d&&d.promote(this,h),u&&(this.projectionDelta=void 0,this.needsReset=!0),f&&this.setOptions({transition:f})}relegate(){const u=this.getStack();return u?u.relegate(this):!1}resetSkewAndRotation(){const{visualElement:u}=this.options;if(!u)return;let f=!1;const{latestValues:h}=u;if((h.z||h.rotate||h.rotateX||h.rotateY||h.rotateZ||h.skewX||h.skewY)&&(f=!0),!f)return;const d={};h.z&&Pd("z",u,d,this.animationValues);for(let m=0;m<Id.length;m++)Pd(`rotate${Id[m]}`,u,d,this.animationValues),Pd(`skew${Id[m]}`,u,d,this.animationValues);u.render();for(const m in d)u.setStaticValue(m,d[m]),this.animationValues&&(this.animationValues[m]=d[m]);u.scheduleRender()}getProjectionStyles(u){if(!this.instance||this.isSVG)return;if(!this.isVisible)return gB;const f={visibility:""},h=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,f.opacity="",f.pointerEvents=mu(u==null?void 0:u.pointerEvents)||"",f.transform=h?h(this.latestValues,""):"none",f;const d=this.getLead();if(!this.projectionDelta||!this.layout||!d.target){const S={};return this.options.layoutId&&(S.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,S.pointerEvents=mu(u==null?void 0:u.pointerEvents)||""),this.hasProjected&&!Pr(this.latestValues)&&(S.transform=h?h({},""):"none",this.hasProjected=!1),S}const m=d.animationValues||d.latestValues;this.applyTransformsToTarget(),f.transform=pB(this.projectionDeltaWithTransform,this.treeScale,m),h&&(f.transform=h(m,f.transform));const{x:g,y:T}=this.projectionDelta;f.transformOrigin=`${g.origin*100}% ${T.origin*100}% 0`,d.animationValues?f.opacity=d===this?m.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:m.opacityExit:f.opacity=d===this?m.opacity!==void 0?m.opacity:"":m.opacityExit!==void 0?m.opacityExit:0;for(const S in Ss){if(m[S]===void 0)continue;const{correct:E,applyTo:k,isCSSVariable:R}=Ss[S],D=f.transform==="none"?m[S]:E(m[S],d);if(k){const B=k.length;for(let P=0;P<B;P++)f[k[P]]=D}else R?this.options.visualElement.renderState.vars[S]=D:f[S]=D}return this.options.layoutId&&(f.pointerEvents=d===this?mu(u==null?void 0:u.pointerEvents)||"":"none"),f}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(u=>{var f;return(f=u.currentAnimation)==null?void 0:f.stop()}),this.root.nodes.forEach(bb),this.root.sharedNodes.clear()}}}function vB(e){e.updateLayout()}function bB(e){var n;const t=((n=e.resumeFrom)==null?void 0:n.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&t&&e.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:o}=e.layout,{animationType:l}=e.options,u=t.source!==e.layout.source;l==="size"?Rn(g=>{const T=u?t.measuredBox[g]:t.layoutBox[g],S=Qt(T);T.min=r[g].min,T.max=T.min+S}):jS(l,t.layoutBox,r)&&Rn(g=>{const T=u?t.measuredBox[g]:t.layoutBox[g],S=Qt(r[g]);T.max=T.min+S,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[g].max=e.relativeTarget[g].min+S)});const f=Va();ds(f,r,t.layoutBox);const h=Va();u?ds(h,e.applyTransform(o,!0),t.measuredBox):ds(h,r,t.layoutBox);const d=!LS(f);let m=!1;if(!e.resumeFrom){const g=e.getClosestProjectingParent();if(g&&!g.resumeFrom){const{snapshot:T,layout:S}=g;if(T&&S){const E=xt();hs(E,t.layoutBox,T.layoutBox);const k=xt();hs(k,r,S.layoutBox),VS(E,k)||(m=!0),g.options.layoutRoot&&(e.relativeTarget=k,e.relativeTargetOrigin=E,e.relativeParent=g)}}}e.notifyListeners("didUpdate",{layout:r,snapshot:t,delta:h,layoutDelta:f,hasLayoutChanged:d,hasRelativeLayoutChanged:m})}else if(e.isLead()){const{onExitComplete:r}=e.options;r&&r()}e.options.transition=void 0}function TB(e){e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function SB(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function CB(e){e.clearSnapshot()}function bb(e){e.clearMeasurements()}function wB(e){e.isLayoutDirty=!1}function EB(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function Tb(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function AB(e){e.resolveTargetDelta()}function MB(e){e.calcProjection()}function kB(e){e.resetSkewAndRotation()}function DB(e){e.removeLeadSnapshot()}function Sb(e,t,n){e.translate=ut(t.translate,0,n),e.scale=ut(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function Cb(e,t,n,r){e.min=ut(t.min,n.min,r),e.max=ut(t.max,n.max,r)}function NB(e,t,n,r){Cb(e.x,t.x,n.x,r),Cb(e.y,t.y,n.y,r)}function RB(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const _B={duration:.45,ease:[.4,0,.1,1]},wb=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),Eb=wb("applewebkit/")&&!wb("chrome/")?Math.round:Vn;function Ab(e){e.min=Eb(e.min),e.max=Eb(e.max)}function IB(e){Ab(e.x),Ab(e.y)}function jS(e,t,n){return e==="position"||e==="preserve-aspect"&&!LV(xb(t),xb(n),.2)}function PB(e){var t;return e!==e.root&&((t=e.scroll)==null?void 0:t.wasRoot)}const LB=OS({attachResizeListener:(e,t)=>ws(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Ld={current:void 0},US=OS({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!Ld.current){const e=new LB({});e.mount(window),e.setOptions({layoutScroll:!0}),Ld.current=e}return Ld.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),VB={pan:{Feature:ZV},drag:{Feature:JV,ProjectionNode:US,MeasureLayout:_S}};function Mb(e,t,n){const{props:r}=e;e.animationState&&r.whileHover&&e.animationState.setActive("whileHover",n==="Start");const o="onHover"+n,l=r[o];l&&ct.postRender(()=>l(t,Is(t)))}class BB extends lr{mount(){const{current:t}=this.node;t&&(this.unmount=hL(t,(n,r)=>(Mb(this.node,r,"Start"),o=>Mb(this.node,o,"End"))))}unmount(){}}class OB extends lr{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Ns(ws(this.node.current,"focus",()=>this.onFocus()),ws(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function kb(e,t,n){const{props:r}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&r.whileTap&&e.animationState.setActive("whileTap",n==="Start");const o="onTap"+(n==="End"?"":n),l=r[o];l&&ct.postRender(()=>l(t,Is(t)))}class jB extends lr{mount(){const{current:t}=this.node;t&&(this.unmount=yL(t,(n,r)=>(kb(this.node,r,"Start"),(o,{success:l})=>kb(this.node,o,l?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Ch=new WeakMap,Vd=new WeakMap,UB=e=>{const t=Ch.get(e.target);t&&t(e)},zB=e=>{e.forEach(UB)};function FB({root:e,...t}){const n=e||document;Vd.has(n)||Vd.set(n,{});const r=Vd.get(n),o=JSON.stringify(t);return r[o]||(r[o]=new IntersectionObserver(zB,{root:e,...t})),r[o]}function HB(e,t,n){const r=FB(t);return Ch.set(e,n),r.observe(e),()=>{Ch.delete(e),r.unobserve(e)}}const qB={some:0,all:1};class GB extends lr{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:n,margin:r,amount:o="some",once:l}=t,u={root:n?n.current:void 0,rootMargin:r,threshold:typeof o=="number"?o:qB[o]},f=h=>{const{isIntersecting:d}=h;if(this.isInView===d||(this.isInView=d,l&&!d&&this.hasEnteredView))return;d&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",d);const{onViewportEnter:m,onViewportLeave:g}=this.node.getProps(),T=d?m:g;T&&T(h)};return HB(this.node.current,u,f)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:n}=this.node;["amount","margin","root"].some(YB(t,n))&&this.startObserver()}unmount(){}}function YB({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}const $B={inView:{Feature:GB},tap:{Feature:jB},focus:{Feature:OB},hover:{Feature:BB}},KB={layout:{ProjectionNode:US,MeasureLayout:_S}},wh={current:null},zS={current:!1};function XB(){if(zS.current=!0,!!Yh)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>wh.current=e.matches;e.addListener(t),t()}else wh.current=!1}const QB=new WeakMap;function JB(e,t,n){for(const r in t){const o=t[r],l=n[r];if(Gt(o))e.addValue(r,o);else if(Gt(l))e.addValue(r,za(o,{owner:e}));else if(l!==o)if(e.hasValue(r)){const u=e.getValue(r);u.liveStyle===!0?u.jump(o):u.hasAnimated||u.set(o)}else{const u=e.getStaticValue(r);e.addValue(r,za(u!==void 0?u:o,{owner:e}))}}for(const r in n)t[r]===void 0&&e.removeValue(r);return t}const Db=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class ZB{scrapeMotionValuesFromProps(t,n,r){return{}}constructor({parent:t,props:n,presenceContext:r,reducedMotionConfig:o,blockInitialAnimation:l,visualState:u},f={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=cm,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const T=on.now();this.renderScheduledAt<T&&(this.renderScheduledAt=T,ct.render(this.render,!1,!0))};const{latestValues:h,renderState:d}=u;this.latestValues=h,this.baseTarget={...h},this.initialValues=n.initial?{...h}:{},this.renderState=d,this.parent=t,this.props=n,this.presenceContext=r,this.depth=t?t.depth+1:0,this.reducedMotionConfig=o,this.options=f,this.blockInitialAnimation=!!l,this.isControllingVariants=zu(n),this.isVariantNode=lS(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:m,...g}=this.scrapeMotionValuesFromProps(n,{},this);for(const T in g){const S=g[T];h[T]!==void 0&&Gt(S)&&S.set(h[T],!1)}}mount(t){this.current=t,QB.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),zS.current||XB(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:wh.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),nr(this.notifyUpdate),nr(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const n=this.features[t];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(t,n){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const r=Ka.has(t);r&&this.onBindTransform&&this.onBindTransform();const o=n.on("change",f=>{this.latestValues[t]=f,this.props.onUpdate&&ct.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0)}),l=n.on("renderRequest",this.scheduleRender);let u;window.MotionCheckAppearSync&&(u=window.MotionCheckAppearSync(this,t,n)),this.valueSubscriptions.set(t,()=>{o(),l(),u&&u(),n.owner&&n.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in Fa){const n=Fa[t];if(!n)continue;const{isEnabled:r,Feature:o}=n;if(!this.features[t]&&o&&r(this.props)&&(this.features[t]=new o(this)),this.features[t]){const l=this.features[t];l.isMounted?l.update():(l.mount(),l.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):xt()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,n){this.latestValues[t]=n}update(t,n){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<Db.length;r++){const o=Db[r];this.propEventSubscriptions[o]&&(this.propEventSubscriptions[o](),delete this.propEventSubscriptions[o]);const l="on"+o,u=t[l];u&&(this.propEventSubscriptions[o]=this.on(o,u))}this.prevMotionValues=JB(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(t),()=>n.variantChildren.delete(t)}addValue(t,n){const r=this.values.get(t);n!==r&&(r&&this.removeValue(t),this.bindToMotionValue(t,n),this.values.set(t,n),this.latestValues[t]=n.get())}removeValue(t){this.values.delete(t);const n=this.valueSubscriptions.get(t);n&&(n(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,n){if(this.props.values&&this.props.values[t])return this.props.values[t];let r=this.values.get(t);return r===void 0&&n!==void 0&&(r=za(n===null?void 0:n,{owner:this}),this.addValue(t,r)),r}readValue(t,n){let r=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return r!=null&&(typeof r=="string"&&(pT(r)||yT(r))?r=parseFloat(r):!bL(r)&&ir.test(n)&&(r=WT(t,n)),this.setBaseTarget(t,Gt(r)?r.get():r)),Gt(r)?r.get():r}setBaseTarget(t,n){this.baseTarget[t]=n}getBaseTarget(t){var l;const{initial:n}=this.props;let r;if(typeof n=="string"||typeof n=="object"){const u=Tm(this.props,n,(l=this.presenceContext)==null?void 0:l.custom);u&&(r=u[t])}if(n&&r!==void 0)return r;const o=this.getBaseTargetFromProps(this.props,t);return o!==void 0&&!Gt(o)?o:this.initialValues[t]!==void 0&&r===void 0?void 0:this.baseTarget[t]}on(t,n){return this.events[t]||(this.events[t]=new Zh),this.events[t].add(n)}notify(t,...n){this.events[t]&&this.events[t].notify(...n)}}class FS extends ZB{constructor(){super(...arguments),this.KeyframeResolver=lL}sortInstanceNodePosition(t,n){return t.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(t,n){return t.style?t.style[n]:void 0}removeValueFromRenderState(t,{vars:n,style:r}){delete n[t],delete r[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;Gt(t)&&(this.childSubscription=t.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function HS(e,{style:t,vars:n},r,o){Object.assign(e.style,t,o&&o.getProjectionStyles(r));for(const l in n)e.style.setProperty(l,n[l])}function WB(e){return window.getComputedStyle(e)}class eO extends FS{constructor(){super(...arguments),this.type="html",this.renderInstance=HS}readValueFromInstance(t,n){var r;if(Ka.has(n))return(r=this.projection)!=null&&r.isProjecting?fh(n):MP(t,n);{const o=WB(t),l=(tm(n)?o.getPropertyValue(n):o[n])||0;return typeof l=="string"?l.trim():l}}measureInstanceViewportBox(t,{transformPagePoint:n}){return kS(t,n)}build(t,n,r){xm(t,n,r.transformTemplate)}scrapeMotionValuesFromProps(t,n,r){return Sm(t,n,r)}}const qS=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function tO(e,t,n,r){HS(e,t,void 0,r);for(const o in t.attrs)e.setAttribute(qS.has(o)?o:ym(o),t.attrs[o])}class nO extends FS{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=xt}getBaseTargetFromProps(t,n){return t[n]}readValueFromInstance(t,n){if(Ka.has(n)){const r=ZT(n);return r&&r.default||0}return n=qS.has(n)?n:ym(n),t.getAttribute(n)}scrapeMotionValuesFromProps(t,n,r){return xS(t,n,r)}build(t,n,r){mS(t,n,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(t,n,r,o){tO(t,n,r,o)}mount(t){this.isSVGTag=gS(t.tagName),super.mount(t)}}const iO=(e,t)=>bm(e)?new nO(t):new eO(t,{allowProjection:e!==re.Fragment}),rO=tV({...MV,...$B,...VB,...KB},iO),aO=AL(rO),oO=({value:e,min:t=0,max:n=1,size:r=80,label:o,onChange:l})=>{const u=Math.max(0,Math.min(1,(e-t)/(n-t))),f=-150+u*300;return y.jsxs("div",{className:"flex flex-col items-center",children:[y.jsxs("div",{className:"relative cursor-pointer select-none",style:{width:r,height:r},children:[y.jsx("div",{className:"absolute inset-0 rounded-full bg-gradient-to-b from-gray-700 to-gray-900 border-2 border-gray-600 shadow-lg",children:[...Array(11)].map((h,d)=>{const m=-150+d*30,g=d/10<=u,T=d%5===0?r*.1:r*.05,S=r/2-T,E=r/2-2,k=r/2+S*Math.cos(m*Math.PI/180),R=r/2+S*Math.sin(m*Math.PI/180),D=r/2+E*Math.cos(m*Math.PI/180),B=r/2+E*Math.sin(m*Math.PI/180);return y.jsx("line",{x1:k,y1:R,x2:D,y2:B,stroke:g?"#f97316":"#6b7280",strokeWidth:d%5===0?2:1},d)})}),y.jsx(aO.div,{className:"absolute bg-orange-500 rounded-full shadow-md",style:{width:r*.05,height:r*.3,left:"50%",top:r*.1,marginLeft:r*-.025,transformOrigin:`50% ${r*.4}px`},animate:{rotate:f},transition:{type:"spring",stiffness:300,damping:30}}),y.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:y.jsx("span",{className:"text-xs font-mono text-white bg-gray-800/70 px-2 py-1 rounded-full",children:Math.round(u*100)})})]}),o&&y.jsx("span",{className:"text-xs text-gray-300 mt-2 text-center max-w-[80px] truncate",children:o})]})},sO=({routings:e})=>{if(!e||e.length===0)return null;const t=Array.from(new Set(e.map(d=>d.source))),n=Array.from(new Set(e.map(d=>d.target))),r=40,o=120,l=40,u=o+n.length*r,f=l+t.length*r,h=new Map;return e.forEach(d=>{const m=`${d.source}-${d.target}`;h.set(m,d.amount)}),y.jsxs("div",{className:"bg-gray-800 rounded-lg p-4 border border-gray-700 overflow-x-auto",children:[y.jsxs("svg",{width:u,height:f,className:"min-w-full",children:[y.jsx("rect",{x:"0",y:"0",width:u,height:f,fill:"#1f2937",rx:"4",ry:"4"}),n.map((d,m)=>y.jsx("g",{children:y.jsx("text",{x:o+m*r+r/2,y:l-10,textAnchor:"middle",fill:"#d1d5db",fontSize:"10",fontWeight:"500",transform:`rotate(-45, ${o+m*r+r/2}, ${l-10})`,children:d.length>12?d.substring(0,12)+"...":d})},`target-${m}`)),t.map((d,m)=>y.jsxs("g",{children:[y.jsx("text",{x:o-8,y:l+m*r+r/2+4,textAnchor:"end",fill:"#d1d5db",fontSize:"10",fontWeight:"500",children:d.length>14?d.substring(0,14)+"...":d}),y.jsx("circle",{cx:20,cy:l+m*r+r/2,r:4,fill:"#10b981",opacity:"0.8",children:y.jsx("animate",{attributeName:"opacity",values:"0.4;0.8;0.4",dur:"2s",repeatCount:"indefinite"})})]},`source-${m}`)),t.map((d,m)=>n.map((g,T)=>{const S=`${d}-${g}`,E=h.has(S),k=h.get(S)||0,R=o+T*r,D=l+m*r;return y.jsxs("g",{children:[y.jsx("rect",{x:R,y:D,width:r,height:r,fill:E?"#f97316":"#374151",stroke:"#6b7280",strokeWidth:"1",opacity:E?.8:.3,rx:"2",ry:"2"}),E&&y.jsxs(y.Fragment,{children:[y.jsx("circle",{cx:R+r/2,cy:D+r/2,r:Math.max(5,k*15),fill:"#ffffff",opacity:"0.9"}),y.jsx("text",{x:R+r/2,y:D+r/2+3,textAnchor:"middle",fill:"#1f2937",fontSize:"9",fontWeight:"bold",children:Math.round(k*100)})]})]},`cell-${m}-${T}`)})),y.jsx("line",{x1:o,y1:0,x2:o,y2:f,stroke:"#6b7280",strokeWidth:"1.5"}),y.jsx("line",{x1:0,y1:l,x2:u,y2:l,stroke:"#6b7280",strokeWidth:"1.5"})]}),y.jsxs("div",{className:"mt-4 flex items-center space-x-4 text-xs text-gray-400",children:[y.jsxs("div",{className:"flex items-center space-x-2",children:[y.jsx("div",{className:"w-3 h-3 bg-orange-500 rounded opacity-80"}),y.jsx("span",{children:"Active Connection"})]}),y.jsxs("div",{className:"flex items-center space-x-2",children:[y.jsx("div",{className:"w-3 h-3 bg-gray-600 rounded opacity-30"}),y.jsx("span",{children:"No Connection"})]}),y.jsx("span",{children:"Numbers show modulation amount (%)"})]})]})};function lO(e,t){return`You are PatchGuide AI, a world-class sound designer specializing in synthesizer programming. 
  
The user wants to create: "${e}" using ${t}.

Provide a detailed, step-by-step guide for creating this sound. Include specific parameter values, techniques, and professional sound design advice. Return your response as JSON with this structure:

{
  "text": "Detailed markdown-formatted instructions for creating the patch, including specific parameter settings and techniques",
  "waveform": "saw/square/sine/triangle/custom",
  "adsr": {
    "attack": 0.1,
    "decay": 0.2,
    "sustain": 0.6,
    "release": 0.4
  },
  "knobs": {
    "cutoff": 0.7,
    "resonance": 0.3,
    "drive": 0.5,
    "mix": 0.8
  },
  "modMatrix": [
    {
      "source": "LFO 1",
      "target": "Filter Cutoff",
      "amount": 0.6
    },
    {
      "source": "Envelope 2",
      "target": "Oscillator Pitch",
      "amount": 0.3
    }
  ]
}

For the "text" field, provide professional, clear instructions in markdown format. Include:
1. A brief overview of the sound characteristics
2. Oscillator settings (waveforms, detune, etc.)
3. Filter settings
4. Envelope settings
5. Modulation routing
6. Effects and processing
7. Performance tips

For the "waveform" field, specify the primary oscillator waveform (saw, square, sine, triangle, or a descriptive custom type).

For the "adsr" field, provide normalized values (0-1) for attack, decay, sustain, and release that would create the appropriate envelope shape.

For the "knobs" field, include 4-8 key parameters with normalized values (0-1).

For the "modMatrix" field, include 2-5 important modulation routings with source, target, and amount (0-1).

Focus on practical, achievable settings that will create the desired sound. Be specific to ${t}'s capabilities where possible.`}async function uO(e){const{description:t,synth:n}=e,r=lO(t,n);try{const l=(await pD(r)).match(/\{[\s\S]*\}/);if(!l)throw new Error("No valid JSON found in response");const u=JSON.parse(l[0]);return u.text||(u.text="Sorry, I couldn't generate detailed instructions for this patch. Please try again with a more specific description."),u}catch(o){return console.error("Error generating patch guide:",o),{text:`Error generating patch guide: ${o.message||"Unknown error"}. Please try again with a different description or synthesizer.`,waveform:"sine",adsr:{attack:.1,decay:.2,sustain:.6,release:.4},knobs:{Cutoff:.7,Resonance:.3,Drive:.2,Mix:.5},modMatrix:[{source:"LFO 1",target:"Filter Cutoff",amount:.5},{source:"Envelope",target:"Amplitude",amount:1}]}}}const cO=["Serum","Vital","Pigments","Massive","Massive X","Diva","Hive 2","Sylenth1","Wavestate","Jupiter-8","Juno-106","SH-101","Operator","Wavetable","Retro Synth","Alchemy","FM8","Phase Plant","Omnisphere","Analog Lab","Generic"],fO=()=>{const[e,t]=re.useState(""),[n,r]=re.useState("Serum"),[o,l]=re.useState(null),[u,f]=re.useState("saw"),[h,d]=re.useState({attack:.1,decay:.5,sustain:.8,release:1.5}),[m,g]=re.useState({Cutoff:.7,Resonance:.3,Drive:.2,Mix:.5}),[T,S]=re.useState([]),[E,k]=re.useState(!1),[R,D]=re.useState(""),B=async z=>{z.preventDefault(),k(!0),l(null),D("");try{const F=await uO({description:e,synth:n});l(F.text||""),F.waveform&&f(F.waveform),F.adsr&&d(F.adsr),F.knobs&&g(F.knobs),F.modMatrix&&Array.isArray(F.modMatrix)&&S(F.modMatrix)}catch(F){console.error("Error generating patch guide:",F),D(F instanceof Error?F.message:"Failed to generate PatchGuide")}finally{k(!1)}},P=()=>{t(""),r("Serum"),l(null),f("saw"),d({attack:.1,decay:.5,sustain:.8,release:1.5}),g({Cutoff:.7,Resonance:.3,Drive:.2,Mix:.5}),S([]),D("")};return y.jsxs("div",{className:"max-w-6xl mx-auto p-6 space-y-6",children:[y.jsx(Ge,{children:y.jsxs("div",{className:"space-y-6",children:[y.jsxs("div",{children:[y.jsx("h1",{className:"text-2xl font-bold text-white mb-2",children:"🎹 PatchGuide AI"}),y.jsx("p",{className:"text-gray-400",children:"Create professional synth patches with AI-powered sound design recipes"})]}),y.jsxs("form",{onSubmit:B,className:"space-y-4",children:[y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Describe Your Target Sound"}),y.jsx("textarea",{value:e,onChange:z=>t(z.target.value),placeholder:"e.g., warm analog bass with slight distortion, plucky lead synth with bright attack, ethereal pad with slow filter sweep...",className:"w-full h-24 px-3 py-2 bg-gray-700 border border-gray-600 rounded-lg text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent resize-none"})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Select Synthesizer"}),y.jsx("select",{value:n,onChange:z=>r(z.target.value),className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent",children:cO.map(z=>y.jsx("option",{value:z,children:z},z))})]}),R&&y.jsx("div",{className:"p-3 bg-red-900/50 border border-red-700 rounded-lg text-red-300",children:R}),y.jsxs("div",{className:"flex space-x-3",children:[y.jsx(Be,{type:"submit",disabled:E||!e.trim(),className:"flex-1",children:E?y.jsxs(y.Fragment,{children:[y.jsx(er,{size:"sm"})," Generating Patch..."]}):"🎹 Generate Patch Guide"}),y.jsx(Be,{onClick:P,variant:"outline",type:"button",children:"Reset"})]})]})]})}),o&&y.jsxs("div",{className:"space-y-6",children:[y.jsxs(Ge,{children:[y.jsx("h2",{className:"text-xl font-bold text-white mb-4",children:"Patch Recipe"}),y.jsx("div",{className:"bg-gray-800 text-gray-200 p-4 rounded-lg prose prose-invert max-w-none",children:y.jsx(F1,{remarkPlugins:[dT],children:o})})]}),y.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[y.jsxs(Ge,{children:[y.jsx("h3",{className:"text-lg font-semibold text-white mb-2",children:"Waveform"}),y.jsx(T5,{waveform:u,width:500,height:150})]}),y.jsxs(Ge,{children:[y.jsx("h3",{className:"text-lg font-semibold text-white mb-2",children:"ADSR Envelope"}),y.jsx(S5,{attack:h.attack,decay:h.decay,sustain:h.sustain,release:h.release,width:500,height:200})]})]}),Object.keys(m).length>0&&y.jsxs(Ge,{children:[y.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"Key Parameters"}),y.jsx("div",{className:"flex flex-wrap gap-6 justify-center",children:Object.entries(m).map(([z,F])=>y.jsx(oO,{label:z,value:F},z))})]}),T.length>0&&y.jsxs(Ge,{children:[y.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"Modulation Matrix"}),y.jsx(sO,{routings:T})]})]})]})},au=({className:e="w-4 h-4"})=>y.jsx("div",{className:`${e} bg-orange-500 transform rotate-45 flex items-center justify-center`,children:y.jsx("div",{className:"w-1/2 h-1/2 bg-white transform -rotate-45"})}),Nb={songTitle:"",genre:[],artistReference:"",referenceTrackLink:"",lyrics:"",key:"",scale:"",chords:"",generalNotes:"",vibe:[],daw:"",plugins:"",availableInstruments:""},Rb={audioFile:null,userNotes:""},Wi=100,ou=Wi*1024*1024,_b=e=>{const t=e.match(/Estimated BPM Range:\s*.*?(\d+)\s*(?:-|to)\s*(\d+)\s*BPM/i);if(t&&t[1]&&t[2])return Math.round((parseInt(t[1],10)+parseInt(t[2],10))/2);const n=e.match(/Estimated BPM Range:\s*.*?(\d+)\s*BPM/i);if(n&&n[1])return parseInt(n[1],10);const r=e.match(/BPM:\s*(\d+)/i);return r&&r[1]?parseInt(r[1],10):null},Ib=e=>{const t=e.match(/Suggested Key\(s\) \/ Scale\(s\):\s*([^(\n]+)/i);if(t&&t[1]){const n=t[1].split(/,|\/| or /).map(o=>o.trim().replace(/\.$/,""));for(const o of n){const l=o.includes(" Minor")?o:o.replace("Major","").trim()+" Major";if(is.includes(o)||is.includes(l))return is.includes(o)?o:l}const r=n[0];if(r){for(const o of is)if(r.toLowerCase().startsWith(o.split(" ")[0].toLowerCase()))if(r.toLowerCase().includes("minor")){if(o.includes("Minor"))return o}else if(r.toLowerCase().includes("major")){if(o.includes("Major"))return o}else return o;return r}}return null},Pb=e=>{const t=e.match(/## (?:3|4)\.(?:.*Harmony.*|.*Chord Progressions.*)\s*\n(?:[^\n]*\n)*?.*?Chord Progression\(s\)\s*(?:\([^)]+\))?:\s*([^\n]+)/im);if(t&&t[1]){const o=t[1].match(/([ivclxmdIVCLXMDab#ø°dimaug\d\/sus-]+(?:\s*-\s*[ivclxmdIVCLXMDab#ø°dimaug\d\/sus-]+)*)/);if(o&&o[1]){let l=o[1].trim();l.endsWith(".")&&(l=l.slice(0,-1));const u=[", ",". ","; "];for(const f of u)if(l.includes(f)){l=l.split(f)[0];break}if(/[IVXLCDMivxlcdm]/.test(l))return l}}const n=e.match(/Chord Progression\(s\).*?:\s*([IVXLCDMivxlcdm\d\s,-]+)/i);if(n&&n[1]){const r=n[1].split(",")[0].trim();if(/[IVXLCDMivxlcdm]/.test(r))return r}return null},Lb=(e,t)=>{const n=e.match(t);if(!n||typeof n.index>"u")return"";const r=n.index,o=e.substring(r+n[0].length).match(/^##\s+/m),l=o&&typeof o.index<"u"?r+n[0].length+o.index:e.length;return e.substring(r,l).trim()},dO=e=>{if(!e)return"";let t="";return t+=Lb(e,/^##\s*1\.\s*Song Overview/im)+`

`,t+=Lb(e,/^##\s*4\.\s*Harmony, Melody & Rhythmic Core/im),t.trim()||"General musical context not fully parsed. Focus on genre and vibe."},Vb=e=>{const t=e.match(/^\s*-\s*\*\*Suggested Title:\*\*\s*(.*)/im);return t&&t[1]?t[1].trim().replace(/\*\*([^*]+)\*\*/g,"$1").replace(/\*([^*]+)\*/g,"$1"):null},hO=()=>{var $r;const[e,t]=re.useState("landing"),[n,r]=re.useState(Nb),[o,l]=re.useState(""),[u,f]=re.useState(""),[h,d]=re.useState(""),[m,g]=re.useState(!1),[T,S]=re.useState(""),[E,k]=re.useState(null),[R,D]=re.useState(null),[B,P]=re.useState([]),[z,F]=re.useState(null),[H,se]=re.useState(!1),[ae,pe]=re.useState(""),[L,oe]=re.useState(!1),[he,fe]=re.useState(!0),[ue,me]=re.useState(!1),[K,V]=re.useState(),[N,_]=re.useState(Rb),[C,O]=re.useState(null),[G,M]=re.useState(!1),[ee,j]=re.useState(null),[te,ye]=re.useState("single"),[le,Ee]=re.useState({mixA:null,mixB:null,userNotes:"",includeMixBFeedback:!1}),[_e,je]=re.useState(null),[He,nt]=re.useState(!1),[at,Mt]=re.useState(null),ln=re.useRef(null),Vt=re.useRef(null),Hr=re.useRef(null);re.useEffect(()=>{try{const ve=localStorage.getItem(gx);if(ve){const jt=JSON.parse(ve).map(ot=>({...ot,genre:Array.isArray(ot.genre)?ot.genre:ot.genre?[ot.genre]:[],vibe:Array.isArray(ot.vibe)?ot.vibe:ot.vibe?[ot.vibe]:[],scale:ot.scale||"",midiSettings:ot.midiSettings||void 0,generatedMidiPatterns:ot.generatedMidiPatterns||void 0}));P(jt)}}catch(ve){console.error("Failed to load library from local storage:",ve),P([])}const J=localStorage.getItem(Xo),ge=localStorage.getItem(Ql);r(ve=>({...ve,daw:J||ve.daw||"",plugins:ge||ve.plugins||""}))},[]),re.useEffect(()=>{try{localStorage.setItem(gx,JSON.stringify(B))}catch(J){console.error("Failed to save library to local storage:",J)}},[B]);const wt=J=>{const{name:ge,value:ve}=J.target;ge==="currentGenreText"?l(ve):ge==="currentVibeText"?f(ve):(r(Ue=>({...Ue,[ge]:ve})),ge==="daw"?localStorage.setItem(Xo,ve):ge==="plugins"&&localStorage.setItem(Ql,ve))},ii=J=>{var ve,Ue;const ge=J==="genre"?o.trim():u.trim();ge&&!n[J].includes(ge)&&r(jt=>({...jt,[J]:[...jt[J],ge]})),J==="genre"?(l(""),(ve=Vt.current)==null||ve.focus()):(f(""),(Ue=Hr.current)==null||Ue.focus())},ri=(J,ge)=>{J.key==="Enter"&&(J.preventDefault(),ii(ge))},qr=(J,ge)=>{r(ve=>{const jt=ve[J].filter(ot=>ot!==ge);return{...ve,[J]:jt}})},Gr=J=>{r(ge=>({...ge,daw:J})),localStorage.setItem(Xo,J)},Yr=J=>{const ge=J.match(/^#\s*TRACKGUIDE:\s*"?([^"\n]+)"?/im);return ge&&ge[1]?ge[1].trim():null},ur=()=>{const J=localStorage.getItem(Xo)||"",ge=localStorage.getItem(Ql)||"";r({...Nb,songTitle:"",daw:J,plugins:ge}),l(""),f(""),d(""),F(null),k(null),D(null),pe(""),Hn(),se(!1)},Z=async J=>{var jt;J.preventDefault(),g(!0),k(null),D(null),d(""),F(null),pe(""),Hn(),window.scrollTo({top:0,behavior:"smooth"}),n.daw&&localStorage.setItem(Xo,n.daw),n.plugins&&localStorage.setItem(Ql,n.plugins);let ge="",ve,Ue;try{S("TrackGuide is generating...");const ot=await fD(n);for await(const Zt of ot)ge+=Zt.text,d(oi=>oi+Zt.text);S("Initial MIDI patterns are generating...");const Ps=Yr(ge),Fu=(jt=n.songTitle)!=null&&jt.trim()?n.songTitle.trim():Ps||`TrackGuide for ${n.genre.join(", ")||"Unknown Genre"}`,Yn=Date.now().toString(),kt=new Date().toISOString(),Ut=_b(ge),Ei=Ib(ge),Qa=Pb(ge),Kr=n.genre[0]||Ke.genre,Ls=Pn[Kr]||Pn.Default,Vs=Math.round((Ls[0]+Ls[1])/2),cr=(In[Kr]||In.Default)[0],Ja=dO(ge),Ai=Ke.songSection;let ai=8;const fr=Kr.toLowerCase();["lo-fi hip hop","lofi hip hop","lofi","trap","ambient","idm","breakcore","footwork","juke","experimental"].some(Zt=>fr.includes(Zt))&&(ai=4);const vt=["chords","bassline","melody","drums"];Ue={key:Ei||Ke.key,tempo:Ut||Vs,timeSignature:Ke.timeSignature,chordProgression:Qa||cr,genre:Kr,bars:ai,targetInstruments:vt,guidebookContext:Ja,songSection:Ai};try{const Zt=await ps(Ue);let oi="";for await(const hr of Zt)oi+=hr.text;let On=oi.trim();const Mi=/^```(\w*)?\s*\n?(.*?)\n?\s*```$/s,Za=On.match(Mi);if(Za&&Za[2]&&(On=Za[2].trim()),ve=JSON.parse(On),ve.drums){const hr={};for(const Wa in ve.drums)hr[Wa.toLowerCase().replace(/\s+/g,"_")]=ve.drums[Wa];ve.drums=hr}D(null)}catch(Zt){console.error("Initial MIDI generation failed:",Zt);const oi=Zt.message.toLowerCase().includes("json")?`AI returned invalid JSON for MIDI patterns during initial generation. (${Zt.message})`:`Initial MIDI generation failed: ${Zt.message}.`;D(oi+" You can try generating MIDI manually in the MIDI tools section."),ve=void 0}F({id:Yn,title:Fu,genre:n.genre,artistReference:n.artistReference,referenceTrackLink:n.referenceTrackLink,lyrics:n.lyrics,key:n.key,chords:n.chords,generalNotes:n.generalNotes,vibe:n.vibe,daw:n.daw,plugins:n.plugins,availableInstruments:n.availableInstruments||"",content:ge,createdAt:kt,midiSettings:Ue,generatedMidiPatterns:ve})}catch(ot){k(ot.message||"An unexpected error occurred while generating TrackGuide."),F(null),d("")}finally{g(!1),S("")}},ce=()=>{if(!z)return;const J={...z};P(ge=>{const ve=ge.findIndex(Ue=>Ue.id===J.id);if(ve>-1){const Ue=[...ge];return Ue[ve]=J,Ue}return[J,...ge]})},Te=(J,ge)=>{F(ve=>ve?{...ve,midiSettings:J,generatedMidiPatterns:ge}:null)},Ce=J=>{r({songTitle:J.title,genre:Array.isArray(J.genre)?J.genre:J.genre?[String(J.genre)]:[],artistReference:J.artistReference,referenceTrackLink:J.referenceTrackLink||"",lyrics:J.lyrics||"",key:J.key||"",chords:J.chords||"",generalNotes:J.generalNotes||"",vibe:Array.isArray(J.vibe)?J.vibe:J.vibe?[String(J.vibe)]:[],daw:J.daw,plugins:J.plugins,availableInstruments:J.availableInstruments||""}),l(""),f(""),d(J.content),F(J),k(null),D(null),pe(""),Hn(),se(!1),t("trackGuide"),window.scrollTo({top:0,behavior:"smooth"})},Ye=J=>{P(ge=>ge.filter(ve=>ve.id!==J)),z&&z.id===J&&(d(""),F(null),Hn())},Bt=({selections:J,onRemove:ge})=>y.jsx("div",{className:"flex flex-wrap gap-2 mt-2 mb-2 min-h-[2.25rem]",children:J.map(ve=>y.jsxs("span",{className:"flex items-center px-3 py-1 bg-orange-600 text-white text-xs font-medium rounded-full shadow-md hover:bg-orange-700 transition-colors",children:[ve,y.jsx("button",{type:"button",onClick:()=>ge(ve),className:"ml-1.5 -mr-0.5 p-0.5 text-orange-200 hover:text-white rounded-full focus:outline-none focus:bg-orange-800 transition-colors","aria-label":`Remove ${ve}`,children:y.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-3 w-3",viewBox:"0 0 20 20",fill:"currentColor",children:y.jsx("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})})})]},ve))}),Bn=J=>{var ve;const ge=(ve=J.target.files)==null?void 0:ve[0];if(ge){if(ge.size>ou){j(`File is too large. Maximum size is ${Wi}MB.`),_(Ue=>({...Ue,audioFile:null})),ln.current&&(ln.current.value="");return}if(!ge.type.startsWith("audio/")){j("Invalid file type. Please upload an audio file (e.g., MP3, WAV)."),_(Ue=>({...Ue,audioFile:null})),ln.current&&(ln.current.value="");return}_(Ue=>({...Ue,audioFile:ge})),j(null)}},Ot=J=>{_(ge=>({...ge,userNotes:J.target.value}))},bn=async J=>{if(J.preventDefault(),!N.audioFile){j("Please upload an audio file for feedback.");return}M(!0),window.scrollTo({top:0,behavior:"smooth"}),O(null),j(null);try{const ge=await vx(N);O(ge)}catch(ge){j(ge.message||"An unknown error occurred while generating mix feedback.")}finally{M(!1)}},$t=()=>{_(Rb),O(null),j(null),ln.current&&(ln.current.value="")},pt=J=>new Promise((ge,ve)=>{const Ue=new FileReader;Ue.readAsDataURL(J),Ue.onload=()=>{const ot=Ue.result.split(",")[1];ge(ot)},Ue.onerror=jt=>ve(jt)}),Jt=async()=>{if(!le.mixA||!le.mixB){Mt("Please upload both Mix A and Mix B files.");return}nt(!0),window.scrollTo({top:0,behavior:"smooth"}),je(null),Mt(null);try{const J=await pt(le.mixA),ge=await pt(le.mixB),ve={mixAFile:J,mixBFile:ge,mixAName:le.mixA.name,mixBName:le.mixB.name,includeMixBFeedback:le.includeMixBFeedback,userNotes:le.userNotes},Ue=await hD(ve);je(Ue)}catch(J){Mt(J.message||"An unknown error occurred while comparing mixes.")}finally{nt(!1)}},un=()=>{Ee({mixA:null,mixB:null,userNotes:"",includeMixBFeedback:!1}),je(null),Mt(null)};let cn;const Xa=($r=n.songTitle)==null?void 0:$r.trim();if(Xa)cn=`TrackGuide: ${Xa}`;else if(z!=null&&z.title){const J=z.title;if(J.startsWith("TrackGuide for ")){const ge=Yr(z.content);ge?cn=`TrackGuide: ${ge}`:cn=J}else cn=`TrackGuide: ${J}`}else if(m&&e==="trackGuide"){const J=Vb(h);J?cn=`TrackGuide: ${J}`:cn="TrackGuide is generating..."}else if(h){const J=Vb(h);J?cn=`TrackGuide: ${J}`:cn="Generated TrackGuide"}else cn="TrackGuide";return e==="landing"?y.jsx($D,{onGetStarted:()=>{t("trackGuide"),setTimeout(()=>window.scrollTo({top:0,behavior:"smooth"}),100)}}):y.jsxs("div",{className:"min-h-screen bg-[#1A1A1A] text-gray-100 p-4 md:p-6 lg:p-8 relative overflow-hidden",children:[y.jsx("div",{className:"absolute inset-0 opacity-20 pointer-events-none",children:y.jsx("div",{className:"absolute inset-0 pointer-events-none",style:{backgroundImage:"radial-gradient(circle at 2px 2px, #FF5722 1px, transparent 0)",backgroundSize:"40px 40px"}})}),y.jsxs("div",{className:"absolute top-10 right-10 w-32 h-32 opacity-10 pointer-events-none",children:[y.jsx("div",{className:"w-full h-full border-2 border-orange-500 transform rotate-12 pointer-events-none"}),y.jsx("div",{className:"absolute top-2 right-2 w-28 h-28 bg-orange-500 transform rotate-12 pointer-events-none"})]}),y.jsxs("header",{className:"text-center mb-6 relative z-10",children:[y.jsxs("div",{className:"flex items-center justify-center space-x-3 mb-4",children:[y.jsx("div",{className:"w-8 h-8 bg-orange-500 transform rotate-45 flex items-center justify-center",children:y.jsx("div",{className:"w-4 h-4 bg-white transform -rotate-45"})}),y.jsxs("div",{children:[y.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-white",children:px}),y.jsx("p",{className:"text-gray-400 text-lg",children:"Your Smartest Studio Assistant"})]})]}),y.jsx("button",{onClick:()=>t("landing"),className:"mt-2 text-sm text-orange-500 hover:text-orange-400 transition-colors font-medium",children:"← Back to Landing"})]}),y.jsxs("nav",{className:"mb-8 flex flex-col justify-center items-center md:flex-row md:justify-center gap-2 border-b border-orange-500/20 pb-3 relative z-10",children:[y.jsx(Be,{size:"sm",className:`w-full md:w-auto px-3 py-2 text-xs md:text-sm rounded-md transition-all duration-150 ease-in-out ${e==="trackGuide"?"bg-orange-500 shadow-lg hover:bg-orange-600":"bg-gray-700/80 hover:bg-gray-600/80 border border-gray-600"}`,onClick:()=>t("trackGuide"),variant:e==="trackGuide"?"primary":"secondary",leftIcon:y.jsx(au,{className:"w-4 h-4"}),children:"TrackGuide AI"}),y.jsx(Be,{size:"sm",className:`w-full md:w-auto px-3 py-2 text-xs md:text-sm rounded-md transition-all duration-150 ease-in-out ${e==="mixFeedback"?"bg-orange-500 shadow-lg hover:bg-orange-600":"bg-gray-700/80 hover:bg-gray-600/80 border border-gray-600"}`,onClick:()=>t("mixFeedback"),variant:e==="mixFeedback"?"primary":"secondary",leftIcon:y.jsx("span",{className:"w-4 h-4 text-center",children:"🎚️"}),children:"Mix Feedback AI"}),y.jsx(Be,{size:"sm",className:`w-full md:w-auto px-3 py-2 text-xs md:text-sm rounded-md transition-all duration-150 ease-in-out ${e==="remixGuide"?"bg-orange-500 shadow-lg hover:bg-orange-600":"bg-gray-700/80 hover:bg-gray-600/80 border border-gray-600"}`,onClick:()=>t("remixGuide"),variant:e==="remixGuide"?"primary":"secondary",leftIcon:y.jsx("span",{className:"w-4 h-4 text-center",children:"🎛️"}),children:"RemixGuide AI"}),y.jsx(Be,{size:"sm",className:`w-full md:w-auto px-3 py-2 text-xs md:text-sm rounded-md transition-all duration-150 ease-in-out ${e==="patchGuide"?"bg-orange-500 shadow-lg hover:bg-orange-600":"bg-gray-700/80 hover:bg-gray-600/80 border border-gray-600"}`,onClick:()=>t("patchGuide"),variant:e==="patchGuide"?"primary":"secondary",leftIcon:y.jsx("span",{className:"w-4 h-4 text-center",children:"🎹"}),children:"PatchGuide AI"}),y.jsx(Be,{size:"sm",className:`w-full md:w-auto px-3 py-2 text-xs md:text-sm rounded-md transition-all duration-150 ease-in-out ${e==="eqGuide"?"bg-orange-500 shadow-lg hover:bg-orange-600":"bg-gray-700/80 hover:bg-gray-600/80 border border-gray-600"}`,onClick:()=>t("eqGuide"),variant:e==="eqGuide"?"primary":"secondary",leftIcon:y.jsx(id,{className:"w-4 h-4"}),children:"EQ Guide"})]}),e==="trackGuide"&&y.jsxs("div",{className:"max-w-full mx-auto grid grid-cols-1 lg:grid-cols-7 gap-6 px-4",children:[y.jsxs(Ge,{title:"Blueprint Your Sound",className:"lg:col-span-2 bg-gray-800/80 backdrop-blur-md shadow-xl border border-gray-700/50",children:[y.jsx("p",{className:"text-sm text-gray-400 mb-4",children:"Describe your vision—everything's optional."}),y.jsxs("form",{onSubmit:Z,className:"space-y-3",children:[y.jsx("div",{children:y.jsx(_n,{label:"Song Title / Project Name",name:"songTitle",value:n.songTitle||"",onChange:wt,placeholder:"AI will suggest one if left blank"})}),y.jsx("div",{children:y.jsx(_n,{label:"Artist References",name:"artistReference",value:n.artistReference,onChange:wt,placeholder:"e.g., Daft Punk"})}),y.jsx("div",{children:y.jsx(_n,{label:"Song Reference",name:"referenceTrackLink",value:n.referenceTrackLink||"",onChange:wt,placeholder:"e.g., YouTube, Spotify, SoundCloud link"})}),y.jsxs("div",{className:"space-y-2",children:[y.jsxs("div",{children:[y.jsx("label",{htmlFor:"genre-input",className:"block text-sm font-medium text-gray-300 mb-1.5",children:"Genre(s)"}),y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsx(_n,{ref:Vt,id:"genre-input",name:"currentGenreText",value:o,onChange:wt,onKeyDown:J=>ri(J,"genre"),placeholder:"Type custom genre...",list:"genre-suggestions",className:"flex-grow"}),y.jsx(Be,{type:"button",onClick:()=>ii("genre"),size:"sm",variant:"secondary","aria-label":"Add Genre",className:"px-3",children:y.jsx(Yd,{className:"w-4 h-4"})})]}),y.jsx("datalist",{id:"genre-suggestions",children:Zb.map(J=>y.jsx("option",{value:J},J))}),y.jsx(Bt,{selections:n.genre,onRemove:J=>qr("genre",J)})]}),y.jsxs("div",{children:[y.jsx("label",{htmlFor:"vibe-input",className:"block text-sm font-medium text-gray-300 mb-1.5",children:"Vibe / Mood"}),y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsx(_n,{ref:Hr,id:"vibe-input",name:"currentVibeText",value:u,onChange:wt,onKeyDown:J=>ri(J,"vibe"),placeholder:"Type custom vibe...",list:"vibe-suggestions",className:"flex-grow"}),y.jsx(Be,{type:"button",onClick:()=>ii("vibe"),size:"sm",variant:"secondary","aria-label":"Add Vibe",className:"px-3",children:y.jsx(Yd,{className:"w-4 h-4"})})]}),y.jsx("datalist",{id:"vibe-suggestions",children:oD.map(J=>y.jsx("option",{value:J},J))}),y.jsx(Bt,{selections:n.vibe,onRemove:J=>qr("vibe",J)})]})]}),y.jsxs("div",{children:[y.jsx(_n,{label:"Preferred DAW",name:"daw",value:n.daw,onChange:wt,placeholder:"Type or select DAW...",list:"daw-suggestions"}),y.jsx("datalist",{id:"daw-suggestions",children:yx.map(J=>y.jsx("option",{value:J},J))}),y.jsx("div",{className:"flex flex-wrap gap-2 mt-2 mb-1",children:yx.slice(0,5).map(J=>y.jsx("button",{type:"button",onClick:()=>Gr(J),className:`px-3 py-1 text-xs rounded-full transition-all duration-150 ease-in-out shadow-sm hover:shadow-md ${n.daw===J?"bg-orange-600 text-white ring-2 ring-orange-400 ring-offset-2 ring-offset-gray-800":"bg-gray-700 hover:bg-gray-600 text-gray-300 hover:text-gray-100"}`,children:J},J))})]}),y.jsx("div",{children:y.jsx(Da,{label:"Available Plugins",name:"plugins",value:n.plugins,onChange:wt,placeholder:"e.g., Serum, Valhalla Reverbs, Arturia V Collection, or 'stock only'",rows:2})}),y.jsx("div",{children:y.jsx(Da,{label:"Available Instruments",name:"availableInstruments",value:n.availableInstruments||"",onChange:wt,placeholder:"e.g., Electric Guitar, Moog Subsequent 37, Roland TR-808, Vocals",rows:2})}),y.jsxs("div",{className:"border-t border-gray-600 pt-4",children:[y.jsx(Be,{type:"button",onClick:()=>oe(!L),variant:"outline",className:"mb-4 w-8 h-8 p-0 flex items-center justify-center",title:L?"Hide Advanced Input":"Show Advanced Input",children:y.jsx("span",{className:`text-lg transition-transform ${L?"rotate-45":""}`,children:"+"})}),L&&y.jsxs("div",{className:"space-y-4 p-4 bg-gray-700/30 rounded-lg border border-gray-600/50",children:[y.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[y.jsx("div",{children:y.jsx(_n,{label:"Key",name:"key",value:n.key||"",onChange:wt,placeholder:"e.g., C Major"})}),y.jsx("div",{children:y.jsx(_n,{label:"Scale/Mode",name:"scale",value:n.scale||"",onChange:wt,placeholder:"e.g., Dorian, Mixolydian"})})]}),y.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[y.jsx("div",{children:y.jsx(_n,{label:"Chords",name:"chords",value:n.chords||"",onChange:wt,placeholder:"e.g., Am - F - C - G"})}),y.jsx("div",{children:y.jsx(Da,{label:"Lyrics",name:"lyrics",value:n.lyrics||"",onChange:wt,placeholder:"Paste your lyrics here if you have any...",rows:2})})]}),y.jsx("div",{children:y.jsx(Da,{label:"General Notes for AI",name:"generalNotes",value:n.generalNotes||"",onChange:wt,placeholder:"Any specific instructions, style notes, or creative direction for the AI to consider...",rows:3})})]})]}),y.jsx(Be,{type:"submit",disabled:m,className:"w-full text-base py-2.5",leftIcon:y.jsx(au,{className:"w-5 h-5"}),children:m?T||"Generating...":"Generate TrackGuide"}),y.jsxs("div",{className:"flex space-x-2 mt-3",children:[y.jsx(Be,{type:"button",onClick:()=>se(!0),variant:"secondary",className:"flex-1",leftIcon:y.jsx(Gd,{className:"w-4 h-4"}),children:"View Library"}),y.jsx(Be,{type:"button",onClick:ur,variant:"outline",className:"flex-1",children:"Clear Form"})]})]})]}),y.jsxs("div",{className:"lg:col-span-5 space-y-6",children:[E&&!m&&y.jsxs(Ge,{className:"border-red-500 bg-red-900/40 shadow-xl",children:[y.jsx("p",{className:"text-red-300 font-semibold text-lg",children:"TrackGuide Error:"}),y.jsx("p",{className:"text-red-300",children:E})]}),R&&!T.toLowerCase().includes("midi")&&!E&&y.jsxs(Ge,{className:"border-yellow-500 bg-yellow-900/40 shadow-xl",children:[y.jsx("p",{className:"text-yellow-300 font-semibold text-lg",children:"MIDI Generation Note:"}),y.jsx("p",{className:"text-yellow-300",children:R})]}),(h||m&&T.includes("TrackGuide is generating"))&&!E&&y.jsxs(Ge,{title:cn,className:"bg-gray-800/80 backdrop-blur-md shadow-xl border border-gray-700/50 sticky top-8",titleClassName:"border-b border-gray-700 text-xl",children:[z&&!m&&y.jsxs("div",{className:"flex flex-wrap gap-3 mb-5 pb-4 border-b border-gray-700 items-center",children:[y.jsx(Be,{onClick:ce,variant:"secondary",leftIcon:y.jsx(gD,{}),children:"Save to Library"}),y.jsx("div",{className:"flex-grow"}),y.jsx(Be,{onClick:ur,variant:"outline",size:"sm",className:"!border-gray-500 !text-gray-400 hover:!bg-gray-600 hover:!text-white",leftIcon:y.jsx(n1,{}),children:"Close"}),ae&&y.jsx("span",{className:`ml-3 text-sm ${ae.includes("Failed")||ae.includes("not supported")?"text-red-400":"text-green-400"}`,children:ae})]}),y.jsxs("div",{id:"guidebook-content-display",className:"prose prose-sm md:prose-base prose-invert max-w-none max-h-[calc(100vh-6rem)] overflow-y-auto pr-3 text-gray-300 custom-scrollbar guidebook-content",children:[z&&!m&&y.jsxs("div",{className:"mb-6 p-4 bg-gray-700/50 rounded-lg text-sm shadow-inner border border-gray-600/50 guidebook-section-break",children:[y.jsx("strong",{className:"text-orange-300 block mb-2 text-base",children:"TrackGuide Snapshot:"}),y.jsxs("p",{children:[y.jsx("strong",{children:"Project Title:"})," ",z.title]}),y.jsxs("p",{children:[y.jsx("strong",{children:"Genre(s):"})," ",Array.isArray(z.genre)?z.genre.join(", "):z.genre]}),y.jsxs("p",{children:[y.jsx("strong",{children:"Artist/Song Ref:"})," ",z.artistReference||"N/A"]}),y.jsxs("p",{children:[y.jsx("strong",{children:"Vibe(s):"})," ",Array.isArray(z.vibe)?z.vibe.join(", "):z.vibe]}),y.jsxs("p",{children:[y.jsx("strong",{children:"DAW:"})," ",z.daw]}),y.jsxs("p",{children:[y.jsx("strong",{children:"Plugins:"})," ",z.plugins||"N/A"]}),y.jsxs("p",{children:[y.jsx("strong",{children:"Instruments:"})," ",z.availableInstruments||"N/A"]}),z.generatedMidiPatterns&&y.jsxs("p",{className:"mt-1 text-green-400",children:[y.jsx(t1,{className:"w-4 h-4 inline mr-1"})," Initial MIDI patterns generated."]})]}),y.jsx(fu,{content:h}),m&&T.includes("TrackGuide is generating")&&y.jsx(er,{size:"sm",text:"Generating TrackGuide..."})]})]}),m&&!E&&T&&!T.includes("TrackGuide is generating")&&y.jsx("div",{className:"flex justify-center py-10",children:y.jsx(er,{size:"lg",text:T||"Processing..."})}),z&&!m&&h&&!E&&y.jsx(o1,{currentGuidebookEntry:z,mainAppInputs:n,onUpdateGuidebookEntryMidi:Te,parsedGuidebookBpm:_b(z.content),parsedGuidebookKey:Ib(z.content),parsedGuidebookChordProg:Pb(z.content)}),!m&&!h&&!E&&!z&&y.jsxs(Ge,{className:"bg-gray-800/80 backdrop-blur-md shadow-xl border border-gray-700/50 flex flex-col items-center justify-center h-96 text-center min-h-[500px]",children:[y.jsx("div",{className:"flex justify-center mb-6",children:y.jsx(au,{className:"w-20 h-20 opacity-80 text-orange-500"})}),y.jsx("h3",{className:"text-2xl font-semibold text-gray-200 mb-2",children:"Produce Smarter. Create More."}),y.jsx("p",{className:"text-gray-400 max-w-md mx-auto",children:"Tell us what you’re envisioning—TrackGuide AI will generate a custom production guide and MIDI foundation."})]})]})]}),e==="mixFeedback"&&y.jsxs("div",{className:"max-w-7xl mx-auto grid grid-cols-1 md:grid-cols-12 gap-8",children:[y.jsxs("div",{className:"md:col-span-3 space-y-6",children:[y.jsxs("div",{className:"flex bg-gray-800/80 backdrop-blur-md shadow-xl border border-gray-700/50 rounded-lg overflow-hidden",children:[y.jsx("button",{onClick:()=>ye("single"),className:`flex-1 px-4 py-3 text-sm font-medium transition-all ${te==="single"?"bg-orange-500 text-white":"bg-gray-700/50 text-gray-300 hover:bg-gray-600/50"}`,children:"🎚️ Mix Analysis"}),y.jsx("button",{onClick:()=>ye("compare"),className:`flex-1 px-4 py-3 text-sm font-medium transition-all ${te==="compare"?"bg-orange-500 text-white":"bg-gray-700/50 text-gray-300 hover:bg-gray-600/50"}`,children:"⚖️ Mix Compare"})]}),te==="single"&&y.jsx(Ge,{title:"Upload Your Mix",className:"bg-gray-800/80 backdrop-blur-md shadow-xl border border-gray-700/50",children:y.jsxs("form",{onSubmit:bn,className:"space-y-5",children:[y.jsxs("div",{children:[y.jsx("label",{htmlFor:"mix-audio-file",className:"block text-sm font-medium text-gray-300 mb-1",children:"Audio File (.mp3, .wav, etc.)"}),y.jsx("div",{className:`mt-1 flex justify-center px-6 pt-5 pb-6 border-2 ${ee&&N.audioFile===null?"border-red-500":"border-gray-600"} border-dashed rounded-md cursor-pointer hover:border-orange-500 transition-colors`,onClick:()=>{var J;return(J=ln.current)==null?void 0:J.click()},onDragOver:J=>{J.preventDefault(),J.currentTarget.classList.add("border-orange-500")},onDragLeave:J=>J.currentTarget.classList.remove("border-orange-500"),onDrop:J=>{if(J.preventDefault(),J.currentTarget.classList.remove("border-orange-500"),J.dataTransfer.files&&J.dataTransfer.files[0]){const ge=J.dataTransfer.files[0];if(ge.size>ou){j(`File is too large. Max ${Wi}MB.`);return}if(!ge.type.startsWith("audio/")){j("Invalid file type. Please upload audio.");return}_(ve=>({...ve,audioFile:ge})),j(null)}},children:y.jsxs("div",{className:"space-y-1 text-center",children:[y.jsx(nd,{className:"mx-auto h-12 w-12 text-gray-500"}),y.jsxs("div",{className:"flex text-sm text-gray-400",children:[y.jsx("span",{className:"relative rounded-md font-medium text-orange-400 hover:text-orange-300 focus-within:outline-none focus-within:ring-2 focus-within:ring-offset-2 focus-within:ring-offset-gray-900 focus-within:ring-orange-500",children:y.jsx("span",{children:"Upload a file"})}),y.jsx("input",{id:"mix-audio-file",name:"mix-audio-file",type:"file",className:"sr-only",accept:"audio/*",onChange:Bn,ref:ln}),y.jsx("p",{className:"pl-1",children:"or drag and drop"})]}),y.jsxs("p",{className:"text-xs text-gray-500",children:["Max file size: ",Wi,"MB"]})]})}),N.audioFile&&y.jsxs("p",{className:"text-xs text-green-400 mt-2",children:["Selected: ",N.audioFile.name," (",(N.audioFile.size/1024/1024).toFixed(2)," MB)"]}),ee&&N.audioFile===null&&y.jsx("p",{className:"text-xs text-red-400 mt-2",children:ee})]}),y.jsx("div",{children:y.jsx(Da,{label:"Notes for AI",name:"mixUserNotes",value:N.userNotes,onChange:Ot,placeholder:"e.g., 'Focus on the low-end clarity', 'Is the vocal too loud?', 'General feedback welcome.'",rows:4})}),y.jsx(Be,{type:"submit",disabled:G||!N.audioFile,className:"w-full text-base py-2.5 !bg-orange-600 hover:!bg-orange-700 focus:!ring-orange-500",leftIcon:y.jsx(id,{className:"w-5 h-5"}),children:G?"Analyzing Mix...":"Get Mix Feedback"}),y.jsx(Be,{type:"button",onClick:$t,variant:"outline",className:"w-full !border-orange-500 !text-orange-400 hover:!bg-orange-500 hover:!text-white",children:"Clear Mix Form"})]})}),te==="compare"&&y.jsxs("div",{className:"space-y-5",children:[y.jsxs(Ge,{title:"Mix A (Original)",className:"bg-gray-800/80 backdrop-blur-md shadow-xl border border-gray-700/50",children:[y.jsx("div",{className:`mt-1 flex justify-center px-6 pt-5 pb-6 border-2 ${at&&!le.mixA?"border-red-500":"border-gray-600"} border-dashed rounded-md cursor-pointer hover:border-orange-500 transition-colors`,onClick:()=>{var J;return(J=document.getElementById("mixA-upload"))==null?void 0:J.click()},children:y.jsxs("div",{className:"space-y-1 text-center",children:[y.jsx(nd,{className:"mx-auto h-12 w-12 text-gray-400"}),y.jsxs("div",{className:"flex text-sm text-gray-400",children:[y.jsxs("label",{htmlFor:"mixA-upload",className:"relative cursor-pointer rounded-md font-medium text-orange-400 hover:text-orange-300",children:[y.jsx("span",{children:"Upload Mix A"}),y.jsx("input",{id:"mixA-upload",name:"mixA-upload",type:"file",className:"sr-only",accept:"audio/*",onChange:J=>{var ve;const ge=(ve=J.target.files)==null?void 0:ve[0];if(ge){if(ge.size>ou){Mt(`File is too large. Max ${Wi}MB.`);return}if(!ge.type.startsWith("audio/")){Mt("Invalid file type. Please upload audio.");return}Ee(Ue=>({...Ue,mixA:ge})),Mt(null)}}})]}),y.jsx("p",{className:"pl-1",children:"or drag and drop"})]}),y.jsxs("p",{className:"text-xs text-gray-500",children:["MP3, WAV, FLAC up to ",Wi,"MB"]})]})}),le.mixA&&y.jsxs("p",{className:"text-xs text-green-400 mt-2",children:["Selected: ",le.mixA.name," (",(le.mixA.size/1024/1024).toFixed(2)," MB)"]})]}),y.jsxs(Ge,{title:"Mix B (Revised)",className:"bg-gray-800/80 backdrop-blur-md shadow-xl border border-gray-700/50",children:[y.jsx("div",{className:`mt-1 flex justify-center px-6 pt-5 pb-6 border-2 ${at&&!le.mixB?"border-red-500":"border-gray-600"} border-dashed rounded-md cursor-pointer hover:border-orange-500 transition-colors`,onClick:()=>{var J;return(J=document.getElementById("mixB-upload"))==null?void 0:J.click()},children:y.jsxs("div",{className:"space-y-1 text-center",children:[y.jsx(nd,{className:"mx-auto h-12 w-12 text-gray-400"}),y.jsxs("div",{className:"flex text-sm text-gray-400",children:[y.jsxs("label",{htmlFor:"mixB-upload",className:"relative cursor-pointer rounded-md font-medium text-orange-400 hover:text-orange-300",children:[y.jsx("span",{children:"Upload Mix B"}),y.jsx("input",{id:"mixB-upload",name:"mixB-upload",type:"file",className:"sr-only",accept:"audio/*",onChange:J=>{var ve;const ge=(ve=J.target.files)==null?void 0:ve[0];if(ge){if(ge.size>ou){Mt(`File is too large. Max ${Wi}MB.`);return}if(!ge.type.startsWith("audio/")){Mt("Invalid file type. Please upload audio.");return}Ee(Ue=>({...Ue,mixB:ge})),Mt(null)}}})]}),y.jsx("p",{className:"pl-1",children:"or drag and drop"})]}),y.jsxs("p",{className:"text-xs text-gray-500",children:["MP3, WAV, FLAC up to ",Wi,"MB"]})]})}),le.mixB&&y.jsxs("p",{className:"text-xs text-green-400 mt-2",children:["Selected: ",le.mixB.name," (",(le.mixB.size/1024/1024).toFixed(2)," MB)"]})]}),y.jsx(Ge,{title:"Notes for AI",className:"bg-gray-800/80 backdrop-blur-md shadow-xl border border-gray-700/50",children:y.jsx(Da,{placeholder:"Describe what you want the AI to focus on when comparing these mixes. For example: 'Focus on the vocal clarity and low-end balance' or 'Compare the stereo width and overall loudness'...",value:le.userNotes,onChange:J=>Ee(ge=>({...ge,userNotes:J.target.value})),rows:3,className:"w-full"})}),y.jsx(Be,{onClick:Jt,disabled:He||!le.mixA||!le.mixB,variant:"primary",className:"w-full px-4 py-3 text-base font-semibold",leftIcon:y.jsx("span",{className:"w-5 h-5 text-center",children:"⚖️"}),children:He?"Comparing Mixes...":"Compare Mixes"}),y.jsx(Be,{type:"button",onClick:un,variant:"outline",className:"w-full !border-orange-500 !text-orange-400 hover:!bg-orange-500 hover:!text-white",children:"Reset"}),at&&!He&&y.jsxs(Ge,{className:"border-red-500 bg-red-900/40 shadow-xl",children:[y.jsx("p",{className:"text-red-300 font-semibold text-lg",children:"Mix Comparison Error:"}),y.jsx("p",{className:"text-red-300",children:at})]})]})]}),y.jsxs("div",{className:"md:col-span-9 space-y-6",children:[(G||He)&&y.jsx("div",{className:"flex justify-center items-center h-full min-h-[500px]",children:y.jsx(er,{size:"lg",color:"text-orange-500",text:te==="single"?"AI is analyzing your mix... this may take a moment.":"AI is comparing your mixes... this may take a moment."})}),ee&&!G&&te==="single"&&y.jsxs(Ge,{className:"border-red-500 bg-red-900/40 shadow-xl",children:[y.jsx("p",{className:"text-red-300 font-semibold text-lg",children:"Mix Feedback Error:"}),y.jsx("p",{className:"text-red-300",children:ee})]}),at&&!He&&te==="compare"&&y.jsxs(Ge,{className:"border-red-500 bg-red-900/40 shadow-xl",children:[y.jsx("p",{className:"text-red-300 font-semibold text-lg",children:"Mix Comparison Error:"}),y.jsx("p",{className:"text-red-300",children:at})]}),C&&!G&&te==="single"&&y.jsx(Ge,{title:"AI Mix Feedback Report",className:"bg-gray-800/80 backdrop-blur-md shadow-xl border border-gray-700/50 sticky top-8",titleClassName:"border-b border-gray-700 text-xl !text-orange-300",children:y.jsx("div",{id:"mix-feedback-display",className:"prose prose-sm md:prose-base prose-invert max-w-none max-h-[calc(100vh-6rem)] overflow-y-auto pr-3 text-gray-300 custom-scrollbar guidebook-content",children:y.jsx(fu,{content:C})})}),_e&&!He&&te==="compare"&&y.jsxs(Ge,{title:"AI Mix Comparison Report",className:"bg-gray-800/80 backdrop-blur-md shadow-xl border border-gray-700/50 sticky top-8",titleClassName:"border-b border-gray-700 text-xl !text-orange-300",children:[y.jsx("div",{id:"mix-comparison-display",className:"prose prose-sm md:prose-base prose-invert max-w-none max-h-[calc(100vh-6rem)] overflow-y-auto pr-3 text-gray-300 custom-scrollbar guidebook-content",children:y.jsx(fu,{content:_e})}),y.jsx("div",{className:"p-4 border-t border-gray-700 flex justify-center",children:y.jsx(Be,{onClick:async()=>{if(le.mixB){M(!0),O(null),j(null),_({audioFile:le.mixB,userNotes:le.userNotes});try{const J=await vx({audioFile:le.mixB,userNotes:le.userNotes});O(J)}catch(J){console.error("Full Mix B Feedback Error:",J),j(J.message||"Failed to generate feedback for Mix B.")}finally{M(!1)}}},disabled:G,className:"w-full mt-4 text-base py-2.5 !bg-orange-600 hover:!bg-orange-700 focus:!ring-orange-500",leftIcon:y.jsx(id,{className:"w-5 h-5"}),children:G?"Analyzing Mix B...":"Get Full Feedback for Mix B"})})]}),!G&&!He&&!C&&!_e&&!ee&&!at&&y.jsxs(Ge,{className:"bg-gray-800/80 backdrop-blur-md shadow-xl border border-gray-700/50 flex flex-col items-center justify-center h-96 text-center min-h-[500px]",children:[y.jsx("div",{className:"flex justify-center mb-6",children:y.jsx(au,{className:"w-20 h-20 opacity-80"})}),y.jsx("h3",{className:"text-2xl font-semibold text-gray-200 mb-2",children:"Refine Your Sound."}),y.jsx("p",{className:"text-gray-400 max-w-md",children:te==="single"?"Upload your mix, add some notes, and get detailed feedback from our AI mixing engineer.":"Upload two mix versions to compare them side-by-side and get detailed analysis of the differences."})]})]})]}),e==="remixGuide"&&y.jsx("div",{className:"max-w-7xl mx-auto",children:y.jsx(x5,{})}),e==="eqGuide"&&y.jsx("div",{className:"max-w-7xl mx-auto",children:y.jsx(b5,{})}),e==="patchGuide"&&y.jsx("div",{className:"max-w-7xl mx-auto",children:y.jsx(fO,{})}),H&&y.jsx(GD,{library:B,onClose:()=>se(!1),onLoadEntry:Ce,onDeleteEntry:Ye,onCreateNew:ur}),y.jsx("footer",{className:"text-center mt-16 py-8 border-t border-gray-700/60",children:y.jsxs("p",{className:"text-sm text-gray-500",children:[px," - AI Production Assistant"]})})]})},GS=document.getElementById("root");if(!GS)throw new Error("Could not find root element to mount to");const mO=cE.createRoot(GS);mO.render(y.jsx(Bb.StrictMode,{children:y.jsx(hO,{})}));
